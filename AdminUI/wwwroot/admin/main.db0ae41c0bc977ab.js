(self.webpackChunkadmin_ui_openiddict=self.webpackChunkadmin_ui_openiddict||[]).push([[792],{9838:(qe,me,u)=>{"use strict";u.d(me,{$9:()=>g,S9:()=>_,Vk:()=>e});var n=u(4438);let e=(()=>{class S{constructor(){this.Server="http://localhost:5000/"}static{this.\u0275fac=function(d){return new(d||S)}}static{this.\u0275prov=n.jDH({token:S,factory:S.\u0275fac})}}return S})();class _{constructor(){this.SharedSecret="Shared Secret",this.X509CertificateThumbprint="X509 Thumbprint",this.X509CertificateName="X509 Name",this.X509CertificateBase64="X509 Certificate Base64"}}let g=(()=>{class S{static get SITE_TITLE(){return"AdminUI"}static{this.checkHealthIdentityServerDocs="documentation/Troubleshooting/Unable_to_contact_IdentityServer.html"}static{this.loginRedirectLoopDocs="documentation/Troubleshooting/Login_redirect_loop.html"}static{this.sameSiteDocs="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie/SameSite"}static{this.defaultEmbeddedUserName="info@rocksolidknowledge.com"}}return S})()},3730:(qe,me,u)=>{"use strict";u.r(me),u.d(me,{ClaimTypesModule:()=>In});var n=u(177),e=u(1583),_=u(9417),g=u(1780),S=u(779),v=u(534),f=u(8400),d=u(7005),E=u(9838),m=u(9957),F=u(7263),w=u(6303),C=u(4438),R=u(5794),x=u(526),O=u(345),H=u(7499),M=u(5424),V=u(7883),U=u(6728),G=u(3680),ie=u(6406),le=u(8698),L=u(9550),J=u(8762),te=u(7778),I=u(2292);function oe(St,yt){if(1&St){const Oe=C.RV6();C.j41(0,"div",4)(1,"div",5)(2,"input",6),C.mxI("ngModelChange",function(q){C.eBV(Oe);const he=C.XpG();return C.DH7(he.newEnumValue,q)||(he.newEnumValue=q),C.Njj(q)}),C.k0s(),C.j41(3,"button",7),C.bIt("click",function(){C.eBV(Oe);const q=C.XpG();return C.Njj(q.onAdd())}),C.nrm(4,"span",8),C.j41(5,"span",9),C.EFF(6),C.nI1(7,"translate"),C.k0s()()()()}if(2&St){const Oe=C.XpG();C.R7$(2),C.FS9("id",Oe.id+"-newValue-input"),C.R50("ngModel",Oe.newEnumValue),C.R7$(),C.FS9("id",Oe.id+"-newValue-button"),C.Y8G("disabled",Oe.addDisabled),C.R7$(3),C.JRh(C.bMT(7,5,"Common.Add"))}}function z(St,yt){if(1&St){const Oe=C.RV6();C.j41(0,"app-pill-list",10),C.bIt("onDelete",function(q){C.eBV(Oe);const he=C.XpG();return C.Njj(he.onDelete(q))}),C.k0s()}if(2&St){const Oe=C.XpG();C.Y8G("readonly",Oe.reserved)("id",Oe.id)("values",Oe.value)}}function _e(St,yt){if(1&St&&(C.j41(0,"span",11),C.EFF(1),C.nI1(2,"translate"),C.nI1(3,"number"),C.k0s()),2&St){const Oe=C.XpG();C.R7$(),C.Lme("",C.bMT(2,2,"ClaimTypes.TooManyAllowedValues")," (",C.bMT(3,4,Oe.value.length),")")}}let Pe=(()=>{class St{constructor(){this.id=(0,F.Nl)(),this.value=[],this.required=!1,this.disabled=!1,this.reserved=!1,this.newEnumValue="",this.onChange=Oe=>{},this.onTouched=()=>{}}writeValue(Oe){this.value=Oe}registerOnChange(Oe){this.onChange=Oe}registerOnTouched(Oe){this.onTouched=Oe}setDisabledState(Oe){this.disabled=Oe}validate(Oe){return!this.required||this.value?.length?null:{required:{valid:!1}}}get addDisabled(){return this.isNullOrEmpty(this.newEnumValue)||this.value.includes(this.newEnumValue)}onAdd(){this.newEnumValue&&(this.value.push(this.newEnumValue),this.onChange(this.value),this.newEnumValue="")}onDelete(Oe){this.value.splice(Oe,1),this.onChange(this.value)}isNullOrEmpty(Oe){return!Oe||null!==Oe.match(/^ *$/)}static{this.\u0275fac=function(ue){return new(ue||St)}}static{this.\u0275cmp=C.VBU({type:St,selectors:[["app-edit-enum-claim-type"]],inputs:{id:"id",value:"value",required:"required",disabled:"disabled",reserved:"reserved"},features:[C.Jv_([{provide:_.kq,useExisting:(0,C.Rfq)(()=>St),multi:!0},{provide:_.cz,useExisting:(0,C.Rfq)(()=>St),multi:!0}])],decls:4,vars:3,consts:[["class","tw-form-row",4,"ngIf"],[1,"tw-pill-list"],[3,"readonly","id","values","onDelete",4,"ngIf"],["id","too-many-values",4,"ngIf"],[1,"tw-form-row"],[1,"tw-flex","tw-w-full","lg:tw-max-w-2xl"],["type","text",1,"tw-form-control","tw-rounded-r-none","tw-border-r-0",3,"ngModelChange","id","ngModel"],[1,"tw-btn","tw-rounded-l-none",3,"click","id","disabled"],["aria-hidden","true",1,"far","fa-plus"],[1,"sr-only"],[3,"onDelete","readonly","id","values"],["id","too-many-values"]],template:function(ue,q){1&ue&&(C.DNE(0,oe,8,7,"div",0),C.j41(1,"div",1),C.DNE(2,z,1,3,"app-pill-list",2)(3,_e,4,6,"span",3),C.k0s()),2&ue&&(C.Y8G("ngIf",!q.reserved),C.R7$(2),C.Y8G("ngIf",q.value.length<=50||!q.reserved),C.R7$(),C.Y8G("ngIf",q.value.length>50&&q.reserved))},dependencies:[n.bT,_.me,_.BC,_.vS,I.L,n.QX,g.D9],encapsulation:2})}}return St})();var Re=u(4692);const ke=(St,yt)=>({title:St,link:yt}),Je=St=>[St];function Te(St,yt){if(1&St){const Oe=C.RV6();C.j41(0,"select",23),C.bIt("change",function(){C.eBV(Oe);const q=C.XpG(2);return C.Njj(q.onValueTypeChanged())}),C.j41(1,"option",24),C.EFF(2),C.nI1(3,"translate"),C.k0s(),C.j41(4,"option",25),C.EFF(5),C.nI1(6,"translate"),C.k0s(),C.j41(7,"option",26),C.EFF(8),C.nI1(9,"translate"),C.k0s(),C.j41(10,"option",27),C.EFF(11),C.nI1(12,"translate"),C.k0s(),C.j41(13,"option",28),C.EFF(14),C.nI1(15,"translate"),C.k0s()()}if(2&St){const Oe=C.XpG(2);C.R7$(),C.Y8G("selected","String"==Oe.claimType.valueType),C.R7$(),C.JRh(C.bMT(3,9,"Common.Types.String")),C.R7$(2),C.Y8G("selected","Int"==Oe.claimType.valueType),C.R7$(),C.JRh(C.bMT(6,11,"Common.Types.Int")),C.R7$(2),C.Y8G("selected","DateTime"==Oe.claimType.valueType),C.R7$(),C.JRh(C.bMT(9,13,"Common.Types.DateTime")),C.R7$(2),C.Y8G("selected","Boolean"==Oe.claimType.valueType),C.R7$(),C.JRh(C.bMT(12,15,"Common.Types.Boolean")),C.R7$(3),C.JRh(C.bMT(15,17,"Common.Types.Enum"))}}function we(St,yt){if(1&St&&(C.nrm(0,"app-readonly",10),C.nI1(1,"readOnlyValue")),2&St){const Oe=C.XpG(2);C.Y8G("fieldType",Oe.ReadOnlyFieldType.Single)("values",C.eq3(4,Je,C.bMT(1,2,Oe.claimType.valueType)))}}function de(St,yt){if(1&St&&(C.j41(0,"app-form-row",29),C.nrm(1,"app-edit-enum-claim-type",30),C.k0s()),2&St){const Oe=C.XpG(2);C.Y8G("label","Claims.AllowedValues"),C.R7$(),C.Y8G("reserved",Oe.claimType.reserved)("required","Enum"===Oe.claimTypeForm.get("valueType").value)}}function Ve(St,yt){1&St&&C.nrm(0,"textarea",31)}function Ae(St,yt){if(1&St&&(C.nrm(0,"app-readonly",10),C.nI1(1,"readOnlyValue")),2&St){const Oe=C.XpG(2);C.Y8G("fieldType",Oe.ReadOnlyFieldType.Single)("values",C.eq3(4,Je,C.bMT(1,2,Oe.claimType.description)))}}function rt(St,yt){1&St&&(C.j41(0,"app-form-row",12),C.nrm(1,"input",32),C.k0s()),2&St&&C.Y8G("id","rule")("label","Claims.RegexRule")}function Be(St,yt){1&St&&(C.j41(0,"app-form-row",12),C.nrm(1,"input",33),C.k0s()),2&St&&C.Y8G("id","ruleValidation")("label","Claims.RuleValidationFailureDescription")}function ht(St,yt){if(1&St&&(C.j41(0,"div",7)(1,"form",8)(2,"app-form-row",9),C.nrm(3,"app-readonly",10),C.nI1(4,"readOnlyValue"),C.k0s(),C.j41(5,"app-form-row",9),C.nrm(6,"input",11),C.k0s(),C.j41(7,"app-form-row",12)(8,"div",13),C.DNE(9,Te,16,19,"select",14)(10,we,2,6,"app-readonly",15),C.k0s()(),C.DNE(11,de,2,3,"app-form-row",16),C.j41(12,"app-form-row",12),C.DNE(13,Ve,1,0,"textarea",17)(14,Ae,2,6,"app-readonly",15),C.k0s(),C.DNE(15,rt,2,2,"app-form-row",18)(16,Be,2,2,"app-form-row",18),C.j41(17,"app-form-row",9)(18,"app-form-toggle",19),C.nrm(19,"input",20),C.k0s()(),C.j41(20,"app-form-row",21)(21,"app-form-toggle",19),C.nrm(22,"input",22),C.k0s()()()()),2&St){const Oe=C.XpG();C.R7$(),C.Y8G("formGroup",Oe.claimTypeForm),C.R7$(),C.Y8G("id","name")("label","Common.Name")("help","ClaimTypes.NameHelp"),C.R7$(),C.Y8G("fieldType",Oe.ReadOnlyFieldType.Single)("values",C.eq3(31,Je,C.bMT(4,29,Oe.claimType.name))),C.R7$(2),C.Y8G("id","displayName")("label","Common.DisplayName")("help","ClaimTypes.DisplayNameHelp"),C.R7$(2),C.Y8G("id","type")("label","Common.Type"),C.R7$(2),C.Y8G("ngIf",!Oe.claimType.reserved),C.R7$(),C.Y8G("ngIf",Oe.claimType.reserved),C.R7$(),C.Y8G("ngIf","Enum"===Oe.claimTypeForm.get("valueType").value),C.R7$(),C.Y8G("id","description")("label","Common.Description"),C.R7$(),C.Y8G("ngIf",!Oe.claimType.reserved),C.R7$(),C.Y8G("ngIf",Oe.claimType.reserved),C.R7$(),C.Y8G("ngIf","String"===Oe.claimTypeForm.get("valueType").value),C.R7$(),C.Y8G("ngIf","String"===Oe.claimTypeForm.get("valueType").value),C.R7$(),C.Y8G("id","required")("label","Claims.Required")("help","Claims.FutureUsers"),C.R7$(),C.Y8G("id","required"),C.R7$(2),C.Y8G("id","userEditable")("label","Common.UserEditable")("help","Claims.UserEditable")("isLast",!0),C.R7$(),C.Y8G("id","userEditable")}}let Ye=(()=>{class St{get ReadOnlyFieldType(){return w.t}constructor(Oe,ue,q,he,Me,Et,Kt,hn,_n,Zn,_i){this.router=Oe,this.translate=ue,this.toastr=q,this.fb=he,this.claimTypeService=Me,this.titleService=Et,this.dialogService=Kt,this.localize=hn,this.errorService=_n,this.securityService=Zn,this.cdr=_i,this.claimType=null}ngOnInit(){this.claimTypeSubscription=this.claimTypeService.getCachedClaimType().subscribe({next:Oe=>{this.claimType=Oe,this.titleService.setTitle(this.translate.instant("Claims.Title")+" "+this.claimType.name+` - ${E.$9.SITE_TITLE}`),this.buildForm(),this.initialData=JSON.stringify(Oe)},error:Oe=>{this.errorService.handleError(Oe)}})}ngOnDestroy(){this.claimTypeSubscription.unsubscribe()}canDeactivate(){return!this.claimTypeForm.dirty||(this.dialogService.confirm(),this.dialogService.eventStream)}buildForm(){this.claimTypeForm=this.fb.group({id:[this.claimType.id],name:[this.claimType.name,_.k0.required],displayName:[this.claimType.displayName],description:[{value:this.claimType.description,disabled:this.claimType.reserved},[_.k0.maxLength(1e3)]],required:[{value:this.claimType.required,disabled:"sub"===this.claimType.name||"role"===this.claimType.name},_.k0.required],valueType:[{value:this.claimType.valueType,disabled:this.claimType.reserved},_.k0.required],rule:[{value:this.claimType.rule,disabled:this.claimType.reserved}],ruleValidationFailureDescription:[{value:this.claimType.ruleValidationFailureDescription,disabled:this.claimType.reserved}],userEditable:[this.claimType.userEditable,_.k0.required],allowedValues:[this.claimType.allowedValues||[]]})}submit(){const Oe=this.claimTypeForm.getRawValue();"String"!==this.claimTypeForm.get("valueType").value&&(Oe.rule=void 0,Oe.ruleValidationFailureDescription=void 0),this.claimTypeService.updateClaimType(Oe).subscribe({next:ue=>{this.toastr.success(this.translate.instant("Notifications.Saving Success Message"),this.translate.instant("Common.Saved")),this.initialData=JSON.stringify(Oe),this.claimTypeForm.markAsPristine(),this.claimTypeForm.markAsUntouched()},error:ue=>{(this.errorService.handleError(ue)&m.I.Toast)!==m.I.Toast&&this.toastr.error(this.translate.instant("Notifications.SomethingWrong"),this.translate.instant("Notifications.Error"))}})}delete(){this.claimTypeService.deleteClaimType(this.claimType).subscribe({next:Oe=>{this.toastr.success(this.claimType.name+" "+this.translate.instant("Common.Delete.Deleted"),this.translate.instant("Common.Removed"));const ue=this.localize.translateRoute("/claim-types");this.router.navigate([ue])},error:Oe=>{(this.errorService.handleError(Oe)&m.I.Toast)!==m.I.Toast&&this.toastr.error(this.translate.instant("Notifications.SomethingWrong"),this.translate.instant("Notifications.Error"))}})}onValueTypeChanged(){const Oe=this.claimTypeForm.get("allowedValues");"Enum"!==this.claimTypeForm.get("valueType").value?(Oe?.disable(),this.cdr.detectChanges()):(Oe?.setValue(this.claimType.allowedValues||[]),Oe?.enable(),this.cdr.detectChanges())}get isIdentityServerManager(){return(0,F.jk)(this.securityService.userPermissions)}static{this.\u0275fac=function(ue){return new(ue||St)(C.rXU(e.Ix),C.rXU(g.c$),C.rXU(R.tw),C.rXU(_.ze),C.rXU(x.X),C.rXU(O.hE),C.rXU(H.o),C.rXU(d.QG),C.rXU(M.I),C.rXU(V.i),C.rXU(C.gRc))}}static{this.\u0275cmp=C.VBU({type:St,selectors:[["ng-component"]],decls:15,vars:22,consts:[["deleteClaimTypeModal",""],[3,"title","crumbs"],["id","editClaimType","class","tw-container tw-mx-auto",4,"ngIf"],["id","submitBtn",1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"click","disabled"],["right",""],["id","deleteBtn","type","button","data-toggle","modal",1,"tw-btn-danger","tw-mb-3",3,"click","disabled"],[3,"delete","modalId","resourceName"],["id","editClaimType",1,"tw-container","tw-mx-auto"],[3,"formGroup"],[3,"id","label","help"],[3,"fieldType","values"],["type","text","formControlName","displayName","name","displayName","id","displayName",1,"tw-form-control"],[3,"id","label"],[1,"tw-form-select"],["formControlName","valueType","class","tw-form-control","id","type",3,"change",4,"ngIf"],[3,"fieldType","values",4,"ngIf"],[3,"label",4,"ngIf"],["class","tw-form-control","formControlName","description","name","description","id","description",4,"ngIf"],[3,"id","label",4,"ngIf"],[3,"id"],["id","required","type","checkbox","name","required","formControlName","required","value","true",1,"tw-form-switch__input"],[3,"id","label","help","isLast"],["id","userEditable","type","checkbox","name","userEditable","formControlName","userEditable","value","true",1,"tw-form-switch__input"],["formControlName","valueType","id","type",1,"tw-form-control",3,"change"],["value","String",3,"selected"],["value","Int",3,"selected"],["value","DateTime",3,"selected"],["value","Boolean",3,"selected"],["value","Enum"],[3,"label"],["id","allowedValues","formControlName","allowedValues",3,"reserved","required"],["formControlName","description","name","description","id","description",1,"tw-form-control"],["type","text","formControlName","rule","name","rule","id","rule",1,"tw-form-control"],["type","text","formControlName","ruleValidationFailureDescription","name","rule","id","ruleValidation",1,"tw-form-control"]],template:function(ue,q){if(1&ue){const he=C.RV6();C.nrm(0,"app-title-bar",1),C.nI1(1,"translate"),C.nI1(2,"localize"),C.DNE(3,ht,23,33,"div",2),C.j41(4,"app-button-bar")(5,"button",3),C.bIt("click",function(){return C.eBV(he),C.Njj(q.submit())}),C.EFF(6),C.nI1(7,"translate"),C.k0s(),C.qex(8,4),C.j41(9,"button",5),C.bIt("click",function(){C.eBV(he);const Et=C.sdS(13);return C.Njj(Et.show())}),C.EFF(10),C.nI1(11,"translate"),C.k0s(),C.bVm(),C.k0s(),C.j41(12,"app-delete-confirmation-modal",6,0),C.bIt("delete",function(){return C.eBV(he),C.Njj(q.delete())}),C.k0s(),C.nrm(14,"app-can-deactivate")}2&ue&&(C.Y8G("title",q.claimType.name)("crumbs",C.eq3(20,Je,C.l_i(17,ke,C.bMT(1,9,"Nav.ClaimTypes"),C.bMT(2,11,"/claim-types")))),C.R7$(3),C.Y8G("ngIf",q.claimType),C.R7$(2),C.Y8G("disabled",!(q.claimTypeForm.dirty&&q.claimTypeForm.valid)),C.R7$(),C.SpI(" ",C.bMT(7,13,"Common.Save")," "),C.R7$(3),C.Y8G("disabled",q.claimType.reserved||!q.isIdentityServerManager),C.R7$(),C.SpI(" ",C.bMT(11,15,"Common.Delete.Title")," "),C.R7$(2),C.Y8G("modalId","deleteClaimTypeModal")("resourceName",q.claimType.name))},dependencies:[n.bT,_.qT,_.xH,_.y7,_.me,_.Zm,_.wz,_.BC,_.cb,_.YS,_.j4,_.JD,U.E,G.z,ie.z,le.Y,L.m,J.O,te.w,Pe,g.D9,d.tl,Re.u],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return St})();var Yt=u(1413),Ut=u(152),Tt=u(3294),_t=u(6354),X=u(1716),Y=u(9172),ee=u(1397),Se=u(7156),Ee=u(7294),at=u(2510),je=u(7384);class ot{}const ft=["addClaimTypeModal"],nt=()=>({animated:!1,backdrop:"static"});function Wt(St,yt){if(1&St&&(C.j41(0,"app-form-row",37),C.nrm(1,"app-edit-enum-claim-type",38),C.k0s()),2&St){const Oe=C.XpG();C.Y8G("label","Claims.AllowedValues"),C.R7$(),C.Y8G("required","Enum"===Oe.addClaimTypeForm.get("valueType").value)}}function tn(St,yt){1&St&&(C.j41(0,"app-form-row",14),C.nrm(1,"input",39),C.k0s()),2&St&&C.Y8G("id","rules")("label","Claims.RegexRule")}function it(St,yt){1&St&&(C.j41(0,"app-form-row",14),C.nrm(1,"input",40),C.k0s()),2&St&&C.Y8G("id","ruleValidationFailureDescription")("label","Claims.RuleValidationFailureDescription")}let Ot=(()=>{class St{constructor(Oe,ue,q,he,Me,Et){this.cdr=Oe,this.claimTypeService=ue,this.errorService=q,this.translate=he,this.fb=Me,this.toastr=Et,this.onSubmitted=new C.bkB,this.descFocus=!1}keydown(Oe){"Enter"===Oe.key&&this.addClaimTypeForm.valid&&!this.descFocus&&this.addClaimType()}ngOnInit(){this.buildForm()}buildForm(){this.addClaimTypeForm=this.fb.group({valueType:["String",_.k0.required],name:["",_.k0.required],displayName:[""],description:["",_.k0.maxLength(1e3)],rule:[""],ruleValidationFailureDescription:[""],required:[!1,_.k0.required],userEditable:[!1,_.k0.required],allowedValues:[[]]})}addAnotherClaimType(){this.addAnother=!0,this.addClaimType()}addClaimType(){let Oe=new ot;Oe=this.addClaimTypeForm.value,"String"!==this.addClaimTypeForm.get("valueType").value&&(Oe.rule=void 0,Oe.ruleValidationFailureDescription=void 0),this.claimTypeService.addClaimType(Oe).subscribe({next:ue=>{this.buildForm(),this.toastr.success(this.translate.instant("Claims.Title")+" "+Oe.name+" "+this.translate.instant("Common.Created"),this.translate.instant("Common.Added")),this.onSubmitted.emit(!0),this.addAnother||this.hide(),this.addAnother=!1},error:ue=>{(this.errorService.handleError(ue)&m.I.Toast)!==m.I.Toast&&this.toastr.error(this.translate.instant("Notifications.SomethingWrong"),this.translate.instant("Notifications.Error"))}})}hide(){this.addClaimTypeModal.hide()}show(){this.addClaimTypeModal.show()}ngOnDestroy(){this.hide()}onValueTypeChanged(){const Oe=this.addClaimTypeForm.get("allowedValues");"Enum"!==this.addClaimTypeForm.get("valueType").value?(Oe?.disable(),this.cdr.detectChanges()):(Oe?.setValue([]),Oe?.enable(),this.cdr.detectChanges())}static{this.\u0275fac=function(ue){return new(ue||St)(C.rXU(C.gRc),C.rXU(x.X),C.rXU(M.I),C.rXU(g.c$),C.rXU(_.ze),C.rXU(R.tw))}}static{this.\u0275cmp=C.VBU({type:St,selectors:[["app-add-claimtype"]],viewQuery:function(ue,q){if(1&ue&&C.GBs(ft,7),2&ue){let he;C.mGM(he=C.lsd())&&(q.addClaimTypeModal=he.first)}},hostBindings:function(ue,q){1&ue&&C.bIt("keydown",function(Me){return q.keydown(Me)},!1,C.EBC)},outputs:{onSubmitted:"onSubmitted"},decls:62,vars:57,consts:[["addClaimTypeModal","bs-modal"],["bsModal","","id","addClaimTypeModal","tabindex","-1","role","dialog","aria-hidden","true",1,"modal",3,"config"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","scrollbars"],[3,"formGroup"],[3,"id","label","help"],["id","name","type","text","formControlName","name","name","name",1,"tw-form-control"],["id","displayName","type","text","formControlName","displayName","name","displayName",1,"tw-form-control"],[3,"id","label"],[1,"tw-form-select"],["formControlName","valueType","id","type",1,"tw-form-control",3,"change"],["value","String"],["value","Int"],["value","DateTime"],["value","Boolean"],["value","Enum"],[3,"label",4,"ngIf"],["id","description","formControlName","description","name","description",1,"tw-form-control",3,"focus","blur"],[3,"id","label",4,"ngIf"],[3,"id"],["id","required","type","checkbox","name","required","formControlName","required","value","true",1,"tw-form-switch__input"],[3,"id","label","help","isLast"],["id","userEditable","type","checkbox","name","userEditable","formControlName","userEditable","value","true",1,"tw-form-switch__input"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","addButton",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],[1,"tw-hidden","xs:tw-inline"],["id","addAnotherButton",1,"tw-btn",3,"click","disabled"],[1,"tw-btn-link","tw--mr-4",3,"click"],[3,"label"],["id","allowedValues","formControlName","allowedValues",3,"required"],["id","rules","formControlName","rule","type","text","name","rule",1,"tw-form-control"],["id","ruleValidationFailureDescription","formControlName","ruleValidationFailureDescription","type","text","name","ruleValidationFailureDescription",1,"tw-form-control"]],template:function(ue,q){if(1&ue){const he=C.RV6();C.j41(0,"div",1,0)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),C.EFF(6),C.nI1(7,"translate"),C.k0s(),C.j41(8,"button",6),C.bIt("click",function(){return C.eBV(he),C.Njj(q.hide())}),C.nrm(9,"span",7),C.j41(10,"span",8),C.EFF(11),C.nI1(12,"translate"),C.k0s()()(),C.j41(13,"div",9)(14,"form",10)(15,"app-form-row",11),C.nrm(16,"input",12),C.k0s(),C.j41(17,"app-form-row",11),C.nrm(18,"input",13),C.k0s(),C.j41(19,"app-form-row",14)(20,"div",15)(21,"select",16),C.bIt("change",function(){return C.eBV(he),C.Njj(q.onValueTypeChanged())}),C.j41(22,"option",17),C.EFF(23),C.nI1(24,"translate"),C.k0s(),C.j41(25,"option",18),C.EFF(26),C.nI1(27,"translate"),C.k0s(),C.j41(28,"option",19),C.EFF(29),C.nI1(30,"translate"),C.k0s(),C.j41(31,"option",20),C.EFF(32),C.nI1(33,"translate"),C.k0s(),C.j41(34,"option",21),C.EFF(35),C.nI1(36,"translate"),C.k0s()()()(),C.DNE(37,Wt,2,2,"app-form-row",22),C.j41(38,"app-form-row",14)(39,"textarea",23),C.bIt("focus",function(){return C.eBV(he),C.Njj(q.descFocus=!q.descFocus)})("blur",function(){return C.eBV(he),C.Njj(q.descFocus=!q.descFocus)}),C.k0s()(),C.DNE(40,tn,2,2,"app-form-row",24)(41,it,2,2,"app-form-row",24),C.j41(42,"app-form-row",11)(43,"app-form-toggle",25),C.nrm(44,"input",26),C.k0s()(),C.j41(45,"app-form-row",27)(46,"app-form-toggle",25),C.nrm(47,"input",28),C.k0s()()()(),C.nrm(48,"div",29),C.j41(49,"div",30)(50,"div",31)(51,"div",32)(52,"button",33),C.bIt("click",function(){return C.eBV(he),C.Njj(q.addClaimType())}),C.EFF(53),C.nI1(54,"translate"),C.k0s(),C.j41(55,"span",34)(56,"button",35),C.bIt("click",function(){return C.eBV(he),C.Njj(q.addAnotherClaimType())}),C.EFF(57),C.nI1(58,"translate"),C.k0s()()(),C.j41(59,"button",36),C.bIt("click",function(){return C.eBV(he),C.Njj(q.hide())}),C.EFF(60),C.nI1(61,"translate"),C.k0s()()()()()()}2&ue&&(C.Y8G("config",C.lJ4(56,nt)),C.R7$(6),C.JRh(C.bMT(7,36,"Claims.New")),C.R7$(5),C.JRh(C.bMT(12,38,"Common.Close")),C.R7$(3),C.Y8G("formGroup",q.addClaimTypeForm),C.R7$(),C.Y8G("id","name")("label","Common.Name")("help","ClaimTypes.NameHelp"),C.R7$(2),C.Y8G("id","displayName")("label","Common.DisplayName")("help","ClaimTypes.DisplayNameHelp"),C.R7$(2),C.Y8G("id","type")("label","Common.Type"),C.R7$(4),C.JRh(C.bMT(24,40,"Common.Types.String")),C.R7$(3),C.JRh(C.bMT(27,42,"Common.Types.Int")),C.R7$(3),C.JRh(C.bMT(30,44,"Common.Types.DateTime")),C.R7$(3),C.JRh(C.bMT(33,46,"Common.Types.Boolean")),C.R7$(3),C.JRh(C.bMT(36,48,"Common.Types.Enum")),C.R7$(2),C.Y8G("ngIf","Enum"===q.addClaimTypeForm.get("valueType").value),C.R7$(),C.Y8G("id","description")("label","Common.Description"),C.R7$(2),C.Y8G("ngIf","String"===q.addClaimTypeForm.get("valueType").value),C.R7$(),C.Y8G("ngIf","String"===q.addClaimTypeForm.get("valueType").value),C.R7$(),C.Y8G("id","required")("label","Claims.Required")("help","Claims.FutureUsers"),C.R7$(),C.Y8G("id","required"),C.R7$(2),C.Y8G("id","userEditable")("label","Common.UserEditable")("help","Claims.UserEditable")("isLast",!0),C.R7$(),C.Y8G("id","userEditable"),C.R7$(6),C.Y8G("disabled",!q.addClaimTypeForm.valid),C.R7$(),C.JRh(C.bMT(54,50,"Common.Save")),C.R7$(3),C.Y8G("disabled",!q.addClaimTypeForm.valid),C.R7$(),C.JRh(C.bMT(58,52,"Common.SaveAndAdd")),C.R7$(3),C.JRh(C.bMT(61,54,"Common.Cancel")))},dependencies:[n.bT,_.qT,_.xH,_.y7,_.me,_.Zm,_.wz,_.BC,_.cb,_.YS,_.j4,_.JD,S.hZ,le.Y,L.m,Pe,g.D9],encapsulation:2})}}return St})();const ve=(St,yt)=>yt.id,ae=(St,yt)=>({"fad fa-pencil":St,"fas fa-eye":yt});function $(St,yt){1&St&&(C.j41(0,"div",4)(1,"div")(2,"p",5),C.EFF(3),C.nI1(4,"translate"),C.k0s(),C.nrm(5,"p",6),C.nI1(6,"translate"),C.k0s()()),2&St&&(C.R7$(3),C.JRh(C.bMT(4,2,"Common.ReadOnlyModeWarningTitle")),C.R7$(2),C.Y8G("innerHTML",C.bMT(6,4,"ClaimTypes.ReadOnlyModeWarn"),C.npT))}function se(St,yt){if(1&St){const Oe=C.RV6();C.j41(0,"app-action-bar"),C.qex(1,8),C.j41(2,"button",9),C.bIt("click",function(){C.eBV(Oe),C.XpG(2);const q=C.sdS(3);return C.Njj(q.show())}),C.EFF(3),C.nI1(4,"translate"),C.k0s(),C.bVm(),C.k0s()}2&St&&(C.R7$(3),C.SpI(" ",C.bMT(4,1,"Claims.Add")," "))}function Ue(St,yt){if(1&St){const Oe=C.RV6();C.j41(0,"app-search",7),C.nI1(1,"translate"),C.bIt("onSearch",function(q){C.eBV(Oe);const he=C.XpG();return C.Njj(he.search(q))}),C.k0s(),C.DNE(2,se,5,3,"app-action-bar")}if(2&St){const Oe=C.XpG();C.Y8G("placeholder",C.bMT(1,2,"ClaimTypes.SearchPlaceholder")),C.R7$(2),C.vxM(2,!Oe.isLoading&&Oe.isIdentityServerManager?2:-1)}}function Ze(St,yt){1&St&&C.nrm(0,"app-simple-loader")}function dt(St,yt){1&St&&(C.j41(0,"div",10)(1,"div"),C.EFF(2),C.nI1(3,"translate"),C.k0s()()),2&St&&(C.R7$(2),C.JRh(C.bMT(3,1,"Claims.NoClaimsFound")))}function Pt(St,yt){1&St&&C.nrm(0,"span",25)}function an(St,yt){1&St&&C.nrm(0,"span",26)}function un(St,yt){1&St&&C.nrm(0,"span",27)}function Mn(St,yt){1&St&&C.nrm(0,"span",25)}function kn(St,yt){1&St&&C.nrm(0,"span",26)}function Bn(St,yt){1&St&&C.nrm(0,"span",27)}function It(St,yt){1&St&&C.nrm(0,"span",25)}function Rn(St,yt){1&St&&C.nrm(0,"span",26)}function Ht(St,yt){1&St&&C.nrm(0,"span",27)}function lt(St,yt){1&St&&C.nrm(0,"span",25)}function vt(St,yt){1&St&&C.nrm(0,"span",26)}function mt(St,yt){1&St&&C.nrm(0,"span",27)}function kt(St,yt){1&St&&(C.j41(0,"span",33)(1,"span",22),C.EFF(2),C.nI1(3,"translate"),C.k0s()()),2&St&&(C.R7$(2),C.JRh(C.bMT(3,1,"Common.Yes")))}function nn(St,yt){1&St&&(C.j41(0,"span",38)(1,"span",22),C.EFF(2),C.nI1(3,"translate"),C.k0s()()),2&St&&(C.R7$(2),C.JRh(C.bMT(3,1,"Common.No")))}function Tn(St,yt){1&St&&(C.j41(0,"span",33)(1,"span",22),C.EFF(2),C.nI1(3,"translate"),C.k0s()()),2&St&&(C.R7$(2),C.JRh(C.bMT(3,1,"Common.Yes")))}function Ln(St,yt){1&St&&(C.j41(0,"span",38)(1,"span",22),C.EFF(2),C.nI1(3,"translate"),C.k0s()()),2&St&&(C.R7$(2),C.JRh(C.bMT(3,1,"Common.No")))}function dn(St,yt){1&St&&(C.j41(0,"span",39),C.EFF(1),C.nI1(2,"translate"),C.k0s()),2&St&&(C.R7$(),C.SpI(" ",C.bMT(2,1,"Common.Reserved")," "))}function li(St,yt){if(1&St){const Oe=C.RV6();C.j41(0,"tr",23)(1,"td",28),C.bIt("click",function(){const q=C.eBV(Oe).$implicit,he=C.XpG(3);return C.Njj(he.viewOrEditClaimType(q))}),C.j41(2,"b",29),C.EFF(3),C.k0s()(),C.j41(4,"td",30),C.bIt("click",function(){const q=C.eBV(Oe).$implicit,he=C.XpG(3);return C.Njj(he.viewOrEditClaimType(q))}),C.j41(5,"b",29),C.EFF(6),C.k0s()(),C.j41(7,"td",30),C.bIt("click",function(){const q=C.eBV(Oe).$implicit,he=C.XpG(3);return C.Njj(he.viewOrEditClaimType(q))}),C.j41(8,"code"),C.EFF(9),C.k0s()(),C.j41(10,"td",31),C.bIt("click",function(){const q=C.eBV(Oe).$implicit,he=C.XpG(3);return C.Njj(he.viewOrEditClaimType(q))}),C.EFF(11),C.k0s(),C.j41(12,"td",32),C.bIt("click",function(){const q=C.eBV(Oe).$implicit,he=C.XpG(3);return C.Njj(he.viewOrEditClaimType(q))}),C.DNE(13,kt,4,3,"span",33)(14,nn,4,3),C.k0s(),C.j41(15,"td",32),C.bIt("click",function(){const q=C.eBV(Oe).$implicit,he=C.XpG(3);return C.Njj(he.viewOrEditClaimType(q))}),C.DNE(16,Tn,4,3,"span",33)(17,Ln,4,3),C.k0s(),C.j41(18,"td",34),C.bIt("click",function(){const q=C.eBV(Oe).$implicit,he=C.XpG(3);return C.Njj(he.viewOrEditClaimType(q))}),C.DNE(19,dn,3,3,"span",35),C.k0s(),C.j41(20,"td",34),C.bIt("click",function(){const q=C.eBV(Oe).$implicit,he=C.XpG(3);return C.Njj(he.viewOrEditClaimType(q))}),C.j41(21,"button",36),C.bIt("click",function(){const q=C.eBV(Oe).$implicit,he=C.XpG(3);return C.Njj(he.viewOrEditClaimType(q))}),C.nrm(22,"span",37),C.j41(23,"span",22),C.EFF(24),C.nI1(25,"translate"),C.k0s()()()()}if(2&St){const Oe=yt.$implicit,ue=C.XpG(3);C.R7$(3),C.SpI(" ",Oe.name," "),C.R7$(3),C.SpI(" ",Oe.displayName," "),C.R7$(3),C.JRh(Oe.valueType),C.R7$(2),C.SpI(" ",Oe.description," "),C.R7$(2),C.vxM(13,Oe.required?13:14),C.R7$(3),C.vxM(16,Oe.userEditable?16:17),C.R7$(3),C.Y8G("ngIf",Oe.reserved),C.R7$(3),C.Y8G("ngClass",C.l_i(11,ae,ue.isAllPermission&&!ue.isAllPermissionReadOnly&&ue.hasPersistance,!ue.isAllPermission||!ue.hasPersistance)),C.R7$(2),C.JRh(C.bMT(25,9,"Common.Edit"))}}function ci(St,yt){if(1&St){const Oe=C.RV6();C.j41(0,"table",11)(1,"thead")(2,"tr")(3,"th",12),C.bIt("click",function(){C.eBV(Oe);const q=C.XpG(2);return C.Njj(q.sort("name"))}),C.j41(4,"span",13),C.EFF(5),C.nI1(6,"translate"),C.k0s(),C.DNE(7,Pt,1,0,"span",14)(8,an,1,0,"span",15)(9,un,1,0,"span",16),C.k0s(),C.j41(10,"th",17),C.EFF(11),C.nI1(12,"translate"),C.k0s(),C.j41(13,"th",18),C.bIt("click",function(){C.eBV(Oe);const q=C.XpG(2);return C.Njj(q.sort("valueType"))}),C.j41(14,"span",13),C.EFF(15),C.nI1(16,"translate"),C.k0s(),C.DNE(17,Mn,1,0,"span",14)(18,kn,1,0,"span",15)(19,Bn,1,0,"span",16),C.k0s(),C.j41(20,"th",19),C.EFF(21),C.nI1(22,"translate"),C.k0s(),C.j41(23,"th",20),C.bIt("click",function(){C.eBV(Oe);const q=C.XpG(2);return C.Njj(q.sort("required"))}),C.j41(24,"span",13),C.EFF(25),C.nI1(26,"translate"),C.k0s(),C.DNE(27,It,1,0,"span",14)(28,Rn,1,0,"span",15)(29,Ht,1,0,"span",16),C.k0s(),C.j41(30,"th",20),C.bIt("click",function(){C.eBV(Oe);const q=C.XpG(2);return C.Njj(q.sort("userEditable"))}),C.j41(31,"span",13),C.EFF(32),C.nI1(33,"translate"),C.k0s(),C.DNE(34,lt,1,0,"span",14)(35,vt,1,0,"span",15)(36,mt,1,0,"span",16),C.k0s(),C.j41(37,"th",21)(38,"span",22),C.EFF(39),C.nI1(40,"translate"),C.k0s()(),C.j41(41,"th",21)(42,"span",22),C.EFF(43),C.nI1(44,"translate"),C.k0s()()()(),C.j41(45,"tbody"),C.Z7z(46,li,26,14,"tr",23,ve),C.k0s()(),C.nrm(48,"app-pager",24)}if(2&St){const Oe=C.XpG(2);C.R7$(5),C.JRh(C.bMT(6,21,"Common.Name")),C.R7$(2),C.Y8G("ngIf",!Oe.sortContains("name")),C.R7$(),C.Y8G("ngIf","name"===Oe.sortCriteria),C.R7$(),C.Y8G("ngIf","-name"===Oe.sortCriteria),C.R7$(2),C.SpI(" ",C.bMT(12,23,"Common.DisplayName")," "),C.R7$(4),C.JRh(C.bMT(16,25,"Common.Type")),C.R7$(2),C.Y8G("ngIf",!Oe.sortContains("valueType")),C.R7$(),C.Y8G("ngIf","valueType"===Oe.sortCriteria),C.R7$(),C.Y8G("ngIf","-valueType"===Oe.sortCriteria),C.R7$(2),C.SpI(" ",C.bMT(22,27,"Common.Description")," "),C.R7$(4),C.JRh(C.bMT(26,29,"Common.Required")),C.R7$(2),C.Y8G("ngIf",!Oe.sortContains("required")),C.R7$(),C.Y8G("ngIf","required"===Oe.sortCriteria),C.R7$(),C.Y8G("ngIf","-required"===Oe.sortCriteria),C.R7$(3),C.JRh(C.bMT(33,31,"Common.UserEditable")),C.R7$(2),C.Y8G("ngIf",!Oe.sortContains("userEditable")),C.R7$(),C.Y8G("ngIf","userEditable"===Oe.sortCriteria),C.R7$(),C.Y8G("ngIf","-userEditable"===Oe.sortCriteria),C.R7$(3),C.JRh(C.bMT(40,33,"Common.Reserved")),C.R7$(4),C.JRh(C.bMT(44,35,"Common.Actions")),C.R7$(3),C.Dyx(Oe.claimTypes),C.R7$(2),C.Y8G("totalResults",null==Oe.claimTypes?null:Oe.claimTypes.length)}}function Rt(St,yt){if(1&St&&C.DNE(0,dt,4,3,"div",10)(1,ci,49,37),2&St){const Oe=C.XpG();C.vxM(0,(null==Oe.claimTypes?null:Oe.claimTypes.length)<1?0:1)}}let ut=(()=>{class St{constructor(Oe,ue,q,he,Me,Et,Kt,hn){this.router=Oe,this.claimTypeService=ue,this.errorService=q,this.translate=he,this.titleService=Me,this.localize=Et,this.securityService=Kt,this.activatedRoute=hn,this.sortCriteria="name",this.term="",this.isLoading=!0,this.sortStream=new Yt.B,this.searchStream=new Yt.B}ngOnInit(){this.hasPersistance=this.activatedRoute.snapshot?.data?.hasPersistance??!0,this.titleService.setTitle(this.translate.instant("Nav.ClaimTypes")+" - "+E.$9.SITE_TITLE);const Oe=this.searchStream.pipe((0,Ut.B)(300),(0,Tt.F)(),(0,_t.T)(he=>(this.term=he,{search:he,sort:this.sortCriteria})));this.sortStream.pipe((0,_t.T)(he=>(this.sortCriteria=he,{search:this.term,sort:he}))).pipe((0,X.h)(Oe),(0,Y.Z)({search:this.term,sort:this.sortCriteria}),(0,ee.Z)(he=>this.claimTypeService.getClaimTypes(he.search,he.sort,!0))).subscribe(he=>{this.claimTypes=he,this.isLoading=!1},he=>{this.errorService.handleError(he),this.isLoading=!1})}search(Oe){this.searchStream.next(Oe)}sort(Oe){this.sortCriteria=this.sortCriteria.startsWith("-")?Oe:"-"+Oe,this.sortStream.next(this.sortCriteria)}sortContains(Oe){return!!this.sortCriteria.includes(Oe)}onSubmitted(Oe){Oe&&this.sortStream.next(this.sortCriteria)}viewOrEditClaimType(Oe){this.isAllPermission?this.editClaimType(Oe):this.viewClaimType(Oe)}viewClaimType(Oe){const ue=this.localize.translateRoute("/claim-types/view");this.router.navigate([ue,Oe.id])}editClaimType(Oe){const ue=this.localize.translateRoute("/claim-types");this.router.navigate([ue,Oe.id])}get isAllPermission(){return(0,F.X4)(this.securityService.userPermissions)}get isAllPermissionReadOnly(){return(0,F.lK)(this.securityService.userPermissions)}get isIdentityServerManager(){return(0,F.jk)(this.securityService.userPermissions)}static{this.\u0275fac=function(ue){return new(ue||St)(C.rXU(e.Ix),C.rXU(x.X),C.rXU(M.I),C.rXU(g.c$),C.rXU(O.hE),C.rXU(d.QG),C.rXU(V.i),C.rXU(e.nX))}}static{this.\u0275cmp=C.VBU({type:St,selectors:[["ng-component"]],decls:9,vars:5,consts:[["addClaimTypeModal",""],[3,"title"],[3,"onSubmitted"],["id","claimTypeList",1,"tw-container","tw-mx-auto"],["id","readOnlyModeWarn",1,"tw-alert","tw-mb-4"],[1,"tw-font-bold"],[1,"tw-text-sm",3,"innerHTML"],[3,"onSearch","placeholder"],["right",""],[1,"tw-btn-success",3,"click"],["role","alert",1,"tw-alert"],["id","claimTypesTable",1,"datatable","selectable","hover"],["id","sortName",1,"tw-max-w-0","tw-cursor-pointer","md:tw-w-1/3","lg:tw-w-1/4",3,"click"],[1,"tw-mr-2"],["class","fad fa-sort",4,"ngIf"],["class","fas fa-caret-down",4,"ngIf"],["class","fas fa-caret-up",4,"ngIf"],[1,"tw-hidden","tw-cursor-pointer","md:tw-table-cell"],[1,"tw-hidden","tw-cursor-pointer","md:tw-table-cell",3,"click"],[1,"tw-hidden","tw-w-1/4","lg:tw-table-cell"],[1,"tw-hidden","tw-cursor-pointer","tw-text-center","xl:tw-table-cell",3,"click"],[1,"tw-w-1"],[1,"sr-only"],[1,"group"],["hidePager","true",3,"totalResults"],[1,"fad","fa-sort"],[1,"fas","fa-caret-down"],[1,"fas","fa-caret-up"],[1,"tw-max-w-0","tw-truncate",3,"click"],[1,"tw-text-blue-500"],[1,"tw-hidden","tw-truncate","md:tw-table-cell",3,"click"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell",3,"click"],[1,"tw-hidden","tw-text-center","xl:tw-table-cell",3,"click"],[1,"fas","fa-check","tw-text-green-500"],[3,"click"],["class","tw-pill",4,"ngIf"],["type","button",1,"tw-btn-link","tw-btn-small","editClaimType","group-hover:tw-text-blue-500",3,"click"],["id","viewOrEditIcon","aria-hidden","true",3,"ngClass"],[1,"fas","fa-times","tw-opacity-25"],[1,"tw-pill"]],template:function(ue,q){if(1&ue){const he=C.RV6();C.nrm(0,"app-title-bar",1),C.nI1(1,"translate"),C.j41(2,"app-add-claimtype",2,0),C.bIt("onSubmitted",function(Et){return C.eBV(he),C.Njj(q.onSubmitted(Et))}),C.k0s(),C.j41(4,"div",3),C.DNE(5,$,7,6,"div",4)(6,Ue,3,4)(7,Ze,1,0,"app-simple-loader")(8,Rt,2,1),C.k0s()}2&ue&&(C.Y8G("title",C.bMT(1,3,"Nav.ClaimTypes")),C.R7$(5),C.vxM(5,q.hasPersistance?6:5),C.R7$(2),C.vxM(7,q.isLoading?7:8))},dependencies:[n.YU,n.bT,G.z,Se.B,Ee.n,at.S,je.d,Ot,g.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return St})();var Nt=u(3178),$t=u(4446),zt=u(8939),yn=u(2892),vn=u(8416);let zn=(()=>{class St{static{this.pathToConfigParamMap={"claim-types":"claimTypePersistence"}}}return St})();var An=u(9196);let mn=(()=>{class St{constructor(Oe,ue,q){this.router=Oe,this.localizeRouter=ue,this.configService=q}canActivate(Oe,ue){var q=Oe.url.map(Me=>Me.path),he=q[q.length-2];return this.configService.getConfig().pipe((0,_t.T)(Me=>{if(!1!==Me[zn.pathToConfigParamMap[he]])return!0;q.splice(q.length-1,0,"view");var Et=this.localizeRouter.translateRoute(`/${q.join("/")}`);return this.router.navigate([Et]),!1}))}static{this.\u0275fac=function(ue){return new(ue||St)(C.KVO(e.Ix),C.KVO(d.QG),C.KVO(An.w))}}static{this.\u0275prov=C.jDH({token:St,factory:St.\u0275fac})}}return St})(),ui=(()=>{class St{constructor(Oe){this.configService=Oe}resolve(Oe){var ue=Oe.url.map(he=>he.path),q=ue[ue.length-1];return this.configService.getConfig().pipe((0,_t.T)(he=>{var Me=he[zn.pathToConfigParamMap[q]];return!!(0,F.hX)(Me)||Me}))}static{this.\u0275fac=function(ue){return new(ue||St)(C.KVO(An.w))}}static{this.\u0275prov=C.jDH({token:St,factory:St.\u0275fac})}}return St})();const gi=[{path:"claim-types",component:ut,resolve:{hasPersistance:ui},canActivate:[yn.h,$t._],data:{permissions:[Nt.a[Nt.a.UserManager],Nt.a[Nt.a.UserManagerReadOnly],Nt.a[Nt.a.AllReadOnly],Nt.a[Nt.a.All]]}},{path:"claim-types/:Id",component:Ye,resolve:{resource:zt.R},canDeactivate:[vn.M],canActivate:[yn.h,mn,$t._],data:{permissions:[Nt.a[Nt.a.UserManager],Nt.a[Nt.a.All]]}},{path:"claim-types/view/:Id",loadChildren:()=>u.e(200).then(u.bind(u,2200)).then(St=>St.ClaimTypesModule),resolve:{resource:zt.R},canActivate:[yn.h,$t._],data:{permissions:[Nt.a[Nt.a.UserManager],Nt.a[Nt.a.UserManagerReadOnly],Nt.a[Nt.a.AllReadOnly],Nt.a[Nt.a.All]]}}];let ni=(()=>{class St{static{this.\u0275fac=function(ue){return new(ue||St)}}static{this.\u0275mod=C.$C({type:St})}static{this.\u0275inj=C.G2t({imports:[e.iI.forChild(gi),d.XE.forChild(gi),e.iI]})}}return St})();var Bi=u(8455),Xn=u(367),wi=u(5731),pi=u(4193),Hi=u(3665),ji=u(7175),Si=u(1993),tt=u(8389),Dt=u(3843),Ct=u(7677),rn=u(1683),Qt=u(4367);let In=(()=>{class St{static{this.\u0275fac=function(ue){return new(ue||St)}}static{this.\u0275mod=C.$C({type:St})}static{this.\u0275inj=C.G2t({providers:[zt.R,ui,mn],imports:[ni,n.MD,_.YN,_.X1,f.qP,v.Ss,S.Q_,e.iI,g.h,Bi.p,d.XE,Xn.m,wi.i,pi.c,Hi.t,ji.c,Si.E,tt.w,Dt.G,Ct.N,rn.Y,Qt.N]})}}return St})()},7275:(qe,me,u)=>{"use strict";u.d(me,{Q:()=>E});var n=u(177),e=u(1780),_=u(779),g=u(4193),S=u(8251),v=u(8389),f=u(7677),d=u(4438);let E=(()=>{class m{static{this.\u0275fac=function(C){return new(C||m)}}static{this.\u0275mod=d.$C({type:m})}static{this.\u0275inj=d.G2t({imports:[_.Q_,e.h,n.MD,S.h,g.c,v.w,f.N]})}}return m})()},4652:(qe,me,u)=>{"use strict";u.d(me,{T:()=>oe});var n=u(4438),e=u(4252),_=u(7921),g=u(6303),S=u(4549),v=u(1589),f=u(1780),d=u(9812),E=u(779),m=u(177),F=u(8577),w=u(7294),C=u(8698),R=u(8762);const x=["deleteCertModal"],O=[[["","addButton",""]]],H=["[addButton]"],M=z=>[z],V=()=>({animated:!1,backdrop:"static"});function U(z,_e){if(1&z){const Pe=n.RV6();n.j41(0,"button",13),n.bIt("click",function(){n.eBV(Pe);const ke=n.XpG(3);return n.Njj(ke.openDeleteModal(ke.certificates[0]))}),n.EFF(1),n.nI1(2,"translate"),n.k0s()}if(2&z){const Pe=n.XpG(3);n.Y8G("disabled",Pe.deleteCertDisabled),n.R7$(),n.SpI(" ",n.bMT(2,2,"Clients.Saml.DeleteCert")," ")}}function G(z,_e){if(1&z&&(n.j41(0,"app-action-bar",10),n.qex(1,11),n.SdG(2),n.DNE(3,U,3,4,"button",12),n.bVm(),n.k0s()),2&z){const Pe=n.XpG(2);n.R7$(3),n.Y8G("ngIf",(null==Pe.certificates?null:Pe.certificates.length)>0)}}function ie(z,_e){1&z&&(n.j41(0,"div",14),n.EFF(1),n.nI1(2,"translate"),n.k0s()),2&z&&(n.R7$(),n.SpI(" ",n.bMT(2,1,"Clients.Saml.CannotDeleteResponseCert")," "))}function le(z,_e){1&z&&(n.j41(0,"div",15),n.EFF(1),n.nI1(2,"translate"),n.k0s()),2&z&&(n.R7$(),n.SpI(" ",n.bMT(2,1,"Clients.NoCertificates")," "))}function L(z,_e){if(1&z&&(n.qex(0),n.j41(1,"app-form-row",16),n.nrm(2,"app-readonly",17),n.k0s(),n.j41(3,"app-form-row",16),n.nrm(4,"app-readonly",17),n.k0s(),n.j41(5,"app-form-row",18),n.nrm(6,"app-readonly",17)(7,"p",19),n.k0s(),n.bVm()),2&z){const Pe=n.XpG(2);n.R7$(),n.Y8G("label","Common.Subject"),n.R7$(),n.Y8G("values",n.eq3(11,M,Pe.readOnlyCertificate.subject))("fieldType",Pe.ReadOnlyFieldType.Single),n.R7$(),n.Y8G("label","Common.Thumbprint"),n.R7$(),n.Y8G("values",n.eq3(13,M,Pe.readOnlyCertificate.thumbprint))("fieldType",Pe.ReadOnlyFieldType.Single),n.R7$(),n.Y8G("label","Common.ExpiresOn")("isLast",!0),n.R7$(),n.Y8G("values",n.eq3(15,M,Pe.readOnlyCertificate.expiration))("fieldType",Pe.ReadOnlyFieldType.Single),n.R7$(),n.Y8G("innerHTML",Pe.displayExpiry(null==Pe.readOnlyCertificate?null:Pe.readOnlyCertificate.expiration.MainText),n.npT)}}function J(z,_e){if(1&z&&(n.j41(0,"div",5),n.DNE(1,G,4,1,"app-action-bar",6)(2,ie,3,3,"div",7)(3,le,3,3,"div",8)(4,L,8,17,"ng-container",9),n.k0s()),2&z){const Pe=n.XpG();n.R7$(),n.Y8G("ngIf",!Pe.isReadOnly),n.R7$(),n.Y8G("ngIf",Pe.deleteCertDisabled&&!Pe.isReadOnly),n.R7$(),n.Y8G("ngIf",(null==Pe.certificates?null:Pe.certificates.length)<1),n.R7$(),n.Y8G("ngIf",1==(null==Pe.certificates?null:Pe.certificates.length)&&Pe.readOnlyCertificate)}}function te(z,_e){if(1&z){const Pe=n.RV6();n.j41(0,"app-data-table",20),n.bIt("onDelete",function(ke){n.eBV(Pe);const Je=n.XpG();return n.Njj(Je.openDeleteModal(ke))}),n.nrm(1,"app-data-table-column",21)(2,"app-data-table-column",22)(3,"app-data-table-column",23),n.k0s()}if(2&z){const Pe=n.XpG();n.Y8G("isReadOnly",Pe.isReadOnly)("rows",Pe.certificates)("norowslabel","Clients.NoCertificates")("actions",Pe.dataTableActions),n.R7$(),n.Y8G("prop","subject")("title","Common.Subject")("cellClasses","tw-max-w-0 tw-truncate"),n.R7$(),n.Y8G("prop","thumbprint")("title","Common.Thumbprint")("headClasses","tw-hidden md:tw-table-cell")("cellClasses","tw-hidden tw-max-w-0 tw-truncate md:tw-table-cell"),n.R7$(),n.Y8G("prop","expiration")("formatter",Pe.displayExpiry.bind(Pe))("title","Common.ExpiresOn")("headClasses","tw-hidden tw-w-40 xs:tw-table-cell lg:tw-w-64")("cellClasses","tw-hidden xs:tw-table-cell")}}function I(z,_e){if(1&z){const Pe=n.RV6();n.j41(0,"div",24,0)(2,"div",25)(3,"div",26)(4,"div",27)(5,"h5",28),n.EFF(6),n.nI1(7,"translate"),n.k0s(),n.j41(8,"button",29),n.bIt("click",function(){n.eBV(Pe);const ke=n.XpG();return n.Njj(ke.closeDeleteModal())}),n.nrm(9,"span",30),n.j41(10,"span",31),n.EFF(11),n.nI1(12,"translate"),n.k0s()()(),n.j41(13,"div",32),n.nrm(14,"p",33),n.nI1(15,"translate"),n.k0s(),n.nrm(16,"div",34),n.j41(17,"div",35)(18,"div",36)(19,"div",37)(20,"button",38),n.bIt("click",function(){n.eBV(Pe);const ke=n.XpG();return n.Njj(ke.removeCert())}),n.EFF(21),n.nI1(22,"translate"),n.k0s()(),n.j41(23,"button",39),n.bIt("click",function(){n.eBV(Pe);const ke=n.XpG();return n.Njj(ke.closeDeleteModal())}),n.EFF(24),n.nI1(25,"translate"),n.k0s()()()()()()}2&z&&(n.Y8G("config",n.lJ4(16,V)),n.R7$(6),n.JRh(n.bMT(7,6,"Common.Delete.Confirm")),n.R7$(5),n.JRh(n.bMT(12,8,"Common.Close")),n.R7$(3),n.Y8G("innerHTML",n.bMT(15,10,"Common.Delete.Warning"),n.npT),n.R7$(7),n.JRh(n.bMT(22,12,"Common.Delete.Title")),n.R7$(3),n.JRh(n.bMT(25,14,"Common.Delete.No")))}let oe=(()=>{class z{set isReadOnly(Pe){this._isReadOnly=Pe||!1}get isReadOnly(){return this._isReadOnly}constructor(Pe,Re){this.translateService=Pe,this.dataTableService=Re,this.showSingle=!1,this.delete=new n.bkB,this.prettyDateTimePipe=new v.sp}ngOnDestroy(){this.dtsSubscription.unsubscribe()}ngOnInit(){this.dtsSubscription=this.dataTableService.deleteRowEvent.subscribe(Pe=>{this.openDeleteModal(Pe)})}ngOnChanges(){this.dataTableActions=this.isReadOnly?[]:[e.AA.Delete],this.readOnlyCertificate=this.showSingle&&this.certificates.length>0?new _.b(this.certificates[0]):null}openDeleteModal(Pe){this.certToDelete=this.showSingle?this.certificates[0]:this.certificates[Pe],this.deleteCertModal.show()}closeDeleteModal(){this.certToDelete=null,this.deleteCertModal.hide()}removeCert(){if(null==this.certToDelete)throw new Error("Delete called without target");this.delete.emit(this.certToDelete),this.deleteCertModal.hide()}displayExpiry(Pe){let Re=S.c9.fromISO(Pe);const ke=this.daysUntilExpiry(Re);if(this.warnOfExpiry(Re)){let Je='<b class="tw-text-red-500"><span class="fas fa-exclamation-triangle tw-mr-1" aria-hidden="true"></span>{0} {1} {2}</b>';return Je=Je.replace("{0}",this.translateService.instant("Common.ExpiresIn")),Je=Je.replace("{1}",ke.toString()),Je=Je.replace("{2}",this.translateService.instant("Common.UntilExpiry")),Je}return this.prettyDateTimePipe.transform(Pe)}warnOfExpiry(Pe){return this.daysUntilExpiry(Pe)<=30&&this.daysUntilExpiry(Pe)>=1}daysUntilExpiry(Pe){const Re=Pe.toMillis()-S.c9.now().toMillis();return Math.round(Re/864e5)}get ReadOnlyFieldType(){return g.t}static{this.\u0275fac=function(Re){return new(Re||z)(n.rXU(f.c$),n.rXU(d.I))}}static{this.\u0275cmp=n.VBU({type:z,selectors:[["app-saml-cert-list"]],viewQuery:function(Re,ke){if(1&Re&&n.GBs(x,5),2&Re){let Je;n.mGM(Je=n.lsd())&&(ke.deleteCertModal=Je.first)}},inputs:{certificates:"certificates",deleteCertDisabled:"deleteCertDisabled",showSingle:"showSingle",isReadOnly:"isReadOnly"},outputs:{delete:"delete"},features:[n.OA$],ngContentSelectors:H,decls:4,vars:3,consts:[["deleteCertModal","bs-modal"],["id","CertificateList"],["class","tw-mb-4",4,"ngIf"],[3,"isReadOnly","rows","norowslabel","actions","onDelete",4,"ngIf"],["bsModal","","id","deleteCertModal","class","modal","role","dialog","aria-hidden","true","tabindex","-1",3,"config",4,"ngIf"],[1,"tw-mb-4"],["id","deleteBtn",4,"ngIf"],["class","tw-alert-warning tw-mb-6","role","alert",4,"ngIf"],["class","tw-alert","role","alert",4,"ngIf"],[4,"ngIf"],["id","deleteBtn"],["right",""],["id","deleteCertBtn","class","tw-btn-danger","type","button",3,"disabled","click",4,"ngIf"],["id","deleteCertBtn","type","button",1,"tw-btn-danger",3,"click","disabled"],["role","alert",1,"tw-alert-warning","tw-mb-6"],["role","alert",1,"tw-alert"],[3,"label"],[3,"values","fieldType"],[3,"label","isLast"],[1,"tw-form-text",3,"innerHTML"],[3,"onDelete","isReadOnly","rows","norowslabel","actions"],[3,"prop","title","cellClasses"],[3,"prop","title","headClasses","cellClasses"],[3,"prop","formatter","title","headClasses","cellClasses"],["bsModal","","id","deleteCertModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog","modal-dialog--danger"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","tw-text-center","scrollbars"],[3,"innerHTML"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],[1,"tw-btn-danger",3,"click"],[1,"tw-btn-link","tw--mr-4",3,"click"]],template:function(Re,ke){1&Re&&(n.NAR(O),n.j41(0,"div",1),n.DNE(1,J,5,4,"div",2)(2,te,4,16,"app-data-table",3),n.k0s(),n.DNE(3,I,26,17,"div",4)),2&Re&&(n.R7$(),n.Y8G("ngIf",ke.showSingle),n.R7$(),n.Y8G("ngIf",!ke.showSingle),n.R7$(),n.Y8G("ngIf",!ke.isReadOnly))},dependencies:[E.hZ,m.bT,e.up,F.w,w.n,C.Y,R.O,f.D9],encapsulation:2,changeDetection:0})}}return z})()},5088:(qe,me,u)=>{"use strict";u.d(me,{E:()=>x});var n=u(9113),e=u(1744),_=u(1594),g=u(6799),S=u(4414),v=u(4438),f=u(5826),d=u(1780),E=u(177),m=u(7384);const F=(O,H)=>({"tw-btn-link":O,"tw-btn-success":H});function w(O,H){1&O&&(v.nrm(0,"app-simple-loader",7),v.nI1(1,"translate")),2&O&&v.Y8G("text",v.bMT(1,1,"Clients.Import.Wizard.CompleteImport.ImportInProgress"))}function C(O,H){if(1&O&&(v.j41(0,"div",8)(1,"div")(2,"h2",9),v.EFF(3),v.nI1(4,"translate"),v.k0s(),v.j41(5,"span",10),v.EFF(6),v.k0s()()()),2&O){const M=v.XpG();v.R7$(3),v.JRh(v.bMT(4,2,"Clients.Import.Wizard.CompleteImport.ImportComplete")),v.R7$(3),v.JRh(M.getSuccessMessage())}}function R(O,H){if(1&O){const M=v.RV6();v.j41(0,"div",11)(1,"button",12),v.bIt("click",function(){v.eBV(M);const U=v.XpG();return v.Njj(U.downloadSecrets())}),v.EFF(2),v.nI1(3,"translate"),v.k0s()()}if(2&O){const M=v.XpG();v.R7$(),v.Y8G("disabled",M.disableButtons),v.R7$(),v.SpI(" ",v.bMT(3,2,"Clients.Import.Wizard.CompleteImport.DownloadSecrets")," ")}}let x=(()=>{class O extends g.P{constructor(M,V,U){super(),this.clientImportService=M,this.importWizardService=V,this.translate=U,this.secretsDownloaded=!1,this.canDownloadSecrets=!1,this.disableButtons=!1,this.storage=sessionStorage}ngOnInit(){this.importWizardController.disableCloseButton=!0,this.disableButtons=!0,this.isLoading=!0,this.importWizardService.cache.pipe((0,_.$)()).subscribe(M=>{const V=new n.SD;V.clients=[],V.protectedResources=[],M.forEach(U=>{if(U.selected){if(U.resourceType===e.ot.Client){const G=new n.Hh;G.useExistingSecrets=U.useExistingSecrets,G.useExistingCertificates=U.useExistingCertificates,G.resourceId=U.identifier,G.secrets=U.secrets,U.certificates&&(U.certificates.EncryptionCertificate&&(G.certificates.encryptionCertificate=U.certificates.EncryptionCertificate.base64Cert),U.certificates.SigningCertificates&&(G.certificates.signingCertificates=U.certificates.SigningCertificates.map(ie=>ie.base64Cert))),V.clients.push(G)}U.secrets&&U.secrets.length>0&&(this.canDownloadSecrets=!0)}U.resourceType===e.ot.ProtectedResource&&(this.buildAndAddProtectedResourceConfiguration(M,U,V.protectedResources),U.secrets&&U.secrets.length>0&&(this.canDownloadSecrets=!0))}),this.importConfiguration=V,this.completeImport()})}downloadSecrets(){this.importWizardService.downloadClientSecretsFromCache(),this.secretsDownloaded=!0}buildAndAddProtectedResourceConfiguration(M,V,U){V.dependantClients.forEach(G=>{const ie=M.find(le=>le.identifier===G.identifier);if(ie&&ie.selected){const le=new n.Hh;le.useExistingSecrets=V.useExistingSecrets,le.resourceId=V.identifier,le.secrets=V.secrets,U.push(le)}})}completeImport(){const M=this.getFileInStorage();this.clientImportService.completeImport(M,this.importConfiguration).subscribe(()=>{this.isLoading=!1,this.importWizardController.disableCloseButton=!1,this.disableButtons=!1},V=>{this.importWizardService.resetImport.next("CompleteImportFailed")})}getSuccessMessage(){const M=this.importConfiguration.clients.length;let V=this.translate.instant("Clients.Import.Wizard.CompleteImport.ImportSuccess");return 1!==M&&(V=this.translate.instant("Clients.Import.Wizard.CompleteImport.ImportSuccessMultiple"),V=V.replace("{0}",M)),V}getFileInStorage(){return this.storage.getItem("importFile")}canNext(){return!this.isLoading}goNext(){!this.canDownloadSecrets||this.secretsDownloaded?this.quit():this.importWizardController.insertAndOpenStep(S.M.importDownloadWarning)}static{this.\u0275fac=function(V){return new(V||O)(v.rXU(n.qJ),v.rXU(f.o),v.rXU(d.c$))}}static{this.\u0275cmp=v.VBU({type:O,selectors:[["app-complete-import"]],features:[v.Vt3],decls:9,vars:11,consts:[[3,"text",4,"ngIf"],[1,"modal-body"],["class","tw-alert-success",4,"ngIf"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],["class","tw-mr-auto",4,"ngIf"],["id","nextBtn",1,"tw--mr-4",3,"click","ngClass","disabled"],[3,"text"],[1,"tw-alert-success"],[1,"tw-block","tw-font-semibold"],[1,"tw-block","tw-mt-1"],[1,"tw-mr-auto"],["id","downloadBtn",1,"tw-btn-success",3,"click","disabled"]],template:function(V,U){1&V&&(v.DNE(0,w,2,3,"app-simple-loader",0),v.j41(1,"div",1),v.DNE(2,C,7,4,"div",2),v.k0s(),v.j41(3,"div",3)(4,"div",4),v.DNE(5,R,4,4,"div",5),v.j41(6,"button",6),v.bIt("click",function(){return U.goNext()}),v.EFF(7),v.nI1(8,"translate"),v.k0s()()()),2&V&&(v.Y8G("ngIf",U.isLoading),v.R7$(2),v.Y8G("ngIf",!U.isLoading),v.R7$(3),v.Y8G("ngIf",U.canDownloadSecrets),v.R7$(),v.Y8G("ngClass",v.l_i(8,F,U.canDownloadSecrets,!U.canDownloadSecrets))("disabled",U.disableButtons),v.R7$(),v.SpI(" ",v.bMT(8,6,"Clients.Import.Wizard.CompleteImport.FinishImport")," "))},dependencies:[E.YU,E.bT,m.d,d.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return O})()},6366:(qe,me,u)=>{"use strict";u.d(me,{z:()=>_});var n=u(4412),e=u(4438);let _=(()=>{class g{constructor(){this.unsavedCache=new n.t(null),this.unsavedCache$=this.unsavedCache.asObservable(),this.savedCache=new n.t(null),this.savedCache$=this.savedCache.asObservable(),this.componentDirtyValidMap=new Map}onSave(){this.componentDirtyValidMap.clear()}static{this.\u0275fac=function(f){return new(f||g)}}static{this.\u0275prov=e.jDH({token:g,factory:g.\u0275fac})}}return g})()},5691:(qe,me,u)=>{"use strict";u.d(me,{d:()=>_});var n=u(4412),e=u(4438);let _=(()=>{class g{constructor(){this.unsavedCache=new n.t(null),this.unsavedCache$=this.unsavedCache.asObservable(),this.savedCache=new n.t(null),this.savedCache$=this.savedCache.asObservable(),this.componentDirtyValidMap=new Map}onClientSave(){this.savedCache.next(this.unsavedCache.value),this.componentDirtyValidMap.clear()}static{this.\u0275fac=function(f){return new(f||g)}}static{this.\u0275prov=e.jDH({token:g,factory:g.\u0275fac})}}return g})()},8440:(qe,me,u)=>{"use strict";u.r(me),u.d(me,{SettingsModule:()=>yt});var n=u(177),e=u(9417),_=u(7005),g=u(779),S=u(1583),v=u(1780),f=u(1594),d=u(6354),m=u(1258),F=u(7756),w=u(4438),C=u(5424),R=u(3431),x=u(5794),O=u(4754),H=u(7499),M=u(9196),V=u(6728),U=u(6406),G=u(3899),ie=u(8698),le=u(9550);function L(Oe,ue){if(1&Oe&&(w.j41(0,"option",11),w.EFF(1),w.k0s()),2&Oe){const q=ue.$implicit;w.Y8G("ngValue",q),w.R7$(),w.JRh(q)}}let J=(()=>{class Oe{constructor(){}ngOnInit(){}toggle(){this.parentForm.controls[this.webhookName].get("enabled").value?(this.parentForm.controls[this.webhookName].get("url").disable(),this.parentForm.controls[this.webhookName].get("scopeName").disable()):(this.parentForm.controls[this.webhookName].get("url").enable(),this.parentForm.controls[this.webhookName].get("scopeName").enable())}static{this.\u0275fac=function(he){return new(he||Oe)}}static{this.\u0275cmp=w.VBU({type:Oe,selectors:[["app-edit-webhook"]],inputs:{webhookName:"webhookName",scopeNames:"scopeNames",parentForm:"parentForm"},decls:11,vars:14,consts:[[1,"tw-ml-8","tw-mr-8",3,"formGroup"],[3,"formGroupName"],[3,"id","label"],[3,"id","isTraffic","isAlt"],["formControlName","enabled","type","checkbox",1,"tw-form-switch__input",3,"click","id"],[3,"id","label","help"],["id","WebhookUrl","type","text","formControlName","url",1,"tw-form-control"],[3,"label","isLast"],[1,"tw-form-select"],["id","scopes","formControlName","scopeName",1,"tw-form-control"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"]],template:function(he,Me){1&he&&(w.j41(0,"div",0)(1,"form",1)(2,"app-form-row",2)(3,"app-form-toggle",3)(4,"input",4),w.bIt("click",function(){return Me.toggle()}),w.k0s()()(),w.j41(5,"app-form-row",5),w.nrm(6,"input",6),w.k0s(),w.j41(7,"app-form-row",7)(8,"div",8)(9,"select",9),w.DNE(10,L,2,2,"option",10),w.k0s()()()()()),2&he&&(w.Y8G("formGroup",Me.parentForm),w.R7$(),w.FS9("formGroupName",Me.webhookName),w.R7$(),w.Y8G("id","WebhookEnabled")("label","Webhooks.EnableWebhook"),w.R7$(),w.Y8G("id","WebhookEnabled"+Me.webhookName)("isTraffic",!0)("isAlt",!1),w.R7$(),w.Y8G("id","WebhookEnabled"+Me.webhookName),w.R7$(),w.Y8G("id","WebhookUrl")("label","Common.URL")("help","Webhooks.EnsureHttps"),w.R7$(2),w.Y8G("label","Webhooks.ProtectingScope")("isLast",!0),w.R7$(3),w.Y8G("ngForOf",Me.scopeNames))},dependencies:[n.Sq,e.qT,e.xH,e.y7,e.me,e.Zm,e.wz,e.BC,e.cb,e.cV,e.j4,e.JD,e.$R,ie.Y,le.m],encapsulation:2})}}return Oe})();var te=u(6303),I=u(7921),oe=u(8762);const z=Oe=>[Oe];function _e(Oe,ue){if(1&Oe&&(w.j41(0,"app-form-row",3),w.nrm(1,"app-readonly",2),w.k0s(),w.j41(2,"app-form-row",1),w.nrm(3,"app-readonly",2),w.k0s()),2&Oe){const q=w.XpG();w.Y8G("id","WebhookUrl"+q.webhookName)("label","Common.URL")("help","Webhooks.EnsureHttps"),w.R7$(),w.Y8G("id","WebhookUrl"+q.webhookName)("fieldType",q.ReadOnlyFieldType.Single)("values",w.eq3(12,z,q.webhookValues.url)),w.R7$(),w.Y8G("id","WebhookScope"+q.webhookName)("label","Webhooks.ProtectingScope")("isLast",!0),w.R7$(),w.Y8G("id","WebhookScope"+q.webhookName)("fieldType",q.ReadOnlyFieldType.Single)("values",w.eq3(14,z,q.webhookValues.scopeName))}}let Pe=(()=>{class Oe{get ReadOnlyFieldType(){return te.t}constructor(){}ngOnChanges(){this.webhookValues=new I.b(this.webhook)}static{this.\u0275fac=function(he){return new(he||Oe)}}static{this.\u0275cmp=w.VBU({type:Oe,selectors:[["app-readonly-webhook"]],inputs:{webhookName:"webhookName",webhook:"webhook"},features:[w.OA$],decls:4,vars:9,consts:[[1,"tw-ml-8","tw-mr-8"],[3,"id","label","isLast"],[3,"id","fieldType","values"],[3,"id","label","help"]],template:function(he,Me){1&he&&(w.j41(0,"div",0)(1,"app-form-row",1),w.nrm(2,"app-readonly",2),w.k0s(),w.DNE(3,_e,4,16),w.k0s()),2&he&&(w.R7$(),w.Y8G("id","WebhookEnabled"+Me.webhookName)("label","Webhooks.EnableWebhook")("isLast",!Me.webhook.enabled),w.R7$(),w.Y8G("id","WebhookEnabled"+Me.webhookName)("fieldType",Me.ReadOnlyFieldType.Single)("values",w.eq3(7,z,Me.webhookValues.enabled)),w.R7$(),w.vxM(3,Me.webhook.enabled?3:-1))},dependencies:[ie.Y,oe.O],encapsulation:2})}}return Oe})();const Re=["save"];function ke(Oe,ue){if(1&Oe&&(w.j41(0,"div",0)(1,"h2",5),w.EFF(2),w.nI1(3,"translate"),w.k0s(),w.nrm(4,"app-readonly-webhook",6),w.j41(5,"h2",5),w.EFF(6),w.nI1(7,"translate"),w.k0s(),w.nrm(8,"app-readonly-webhook",6),w.j41(9,"h2",5),w.EFF(10),w.nI1(11,"translate"),w.k0s(),w.nrm(12,"app-readonly-webhook",6),w.j41(13,"h2",5),w.EFF(14),w.nI1(15,"translate"),w.k0s(),w.nrm(16,"app-readonly-webhook",6),w.k0s()),2&Oe){const q=w.XpG(2);w.R7$(2),w.JRh(w.bMT(3,12,"Webhooks.MultiFactorHeading")),w.R7$(2),w.Y8G("webhookName",q.webhookNames.MFAReset)("webhook",q.webhooksForm.get(q.webhookNames.MFAReset).value),w.R7$(2),w.JRh(w.bMT(7,14,"Webhooks.PasswordResetHeading")),w.R7$(2),w.Y8G("webhookName",q.webhookNames.PasswordReset)("webhook",q.webhooksForm.get(q.webhookNames.PasswordReset).value),w.R7$(2),w.JRh(w.bMT(11,16,"Webhooks.UserRegistrationHeading")),w.R7$(2),w.Y8G("webhookName",q.webhookNames.UserRegistration)("webhook",q.webhooksForm.get(q.webhookNames.UserRegistration).value),w.R7$(2),w.JRh(w.bMT(15,18,"Webhooks.ServerSideSessionDeleteHeading")),w.R7$(2),w.Y8G("webhookName",q.webhookNames.ServerSideSessionDelete)("webhook",q.webhooksForm.get(q.webhookNames.ServerSideSessionDelete).value)}}function Je(Oe,ue){if(1&Oe&&(w.j41(0,"div",1)(1,"div")(2,"p",2),w.EFF(3),w.nI1(4,"translate"),w.k0s(),w.nrm(5,"p",3),w.nI1(6,"translate"),w.k0s()(),w.DNE(7,ke,17,20,"div",4)),2&Oe){const q=w.XpG();w.R7$(3),w.JRh(w.bMT(4,3,"Common.ReadOnlyModeWarningTitle")),w.R7$(2),w.Y8G("innerHTML",w.bMT(6,5,"Settings.Webhooks.ReadOnlyModeWarn"),w.npT),w.R7$(2),w.Y8G("ngIf",q.webhookConfiguration)}}function Te(Oe,ue){if(1&Oe&&(w.j41(0,"div",0)(1,"form",11)(2,"h2",5),w.EFF(3),w.nI1(4,"translate"),w.k0s(),w.nrm(5,"app-edit-webhook",12),w.j41(6,"h2",5),w.EFF(7),w.nI1(8,"translate"),w.k0s(),w.nrm(9,"app-edit-webhook",12),w.j41(10,"h2",5),w.EFF(11),w.nI1(12,"translate"),w.k0s(),w.nrm(13,"app-edit-webhook",12),w.j41(14,"h2",5),w.EFF(15),w.nI1(16,"translate"),w.k0s(),w.nrm(17,"app-edit-webhook",12),w.k0s()()),2&Oe){const q=w.XpG(2);w.R7$(),w.Y8G("formGroup",q.webhooksForm),w.R7$(2),w.JRh(w.bMT(4,17,"Webhooks.MultiFactorHeading")),w.R7$(2),w.Y8G("webhookName",q.webhookNames.MFAReset)("scopeNames",q.scopeNames)("parentForm",q.webhooksForm),w.R7$(2),w.JRh(w.bMT(8,19,"Webhooks.PasswordResetHeading")),w.R7$(2),w.Y8G("webhookName",q.webhookNames.PasswordReset)("scopeNames",q.scopeNames)("parentForm",q.webhooksForm),w.R7$(2),w.JRh(w.bMT(12,21,"Webhooks.UserRegistrationHeading")),w.R7$(2),w.Y8G("webhookName",q.webhookNames.UserRegistration)("scopeNames",q.scopeNames)("parentForm",q.webhooksForm),w.R7$(2),w.JRh(w.bMT(16,23,"Webhooks.ServerSideSessionDeleteHeading")),w.R7$(2),w.Y8G("webhookName",q.webhookNames.ServerSideSessionDelete)("scopeNames",q.scopeNames)("parentForm",q.webhooksForm)}}function we(Oe,ue){if(1&Oe){const q=w.RV6();w.DNE(0,Te,18,25,"div",4),w.j41(1,"app-custom-modal",7),w.bIt("onCancel",function(){w.eBV(q);const Me=w.XpG();return w.Njj(Me.cancelWebhookUpdate())})("onSave",function(){w.eBV(q);const Me=w.XpG();return w.Njj(Me.acceptClientCreation())}),w.j41(2,"h2",8),w.EFF(3),w.nI1(4,"translate"),w.k0s(),w.j41(5,"p",9),w.EFF(6),w.nI1(7,"translate"),w.k0s()(),w.j41(8,"app-custom-modal",7),w.bIt("onCancel",function(){w.eBV(q);const Me=w.XpG();return w.Njj(Me.cancelWebhookUpdate())})("onSave",function(){w.eBV(q);const Me=w.XpG();return w.Njj(Me.acceptClientCreation())}),w.j41(9,"h2",8),w.EFF(10),w.nI1(11,"translate"),w.k0s(),w.j41(12,"p",9),w.EFF(13),w.nI1(14,"translate"),w.k0s()(),w.j41(15,"app-button-bar")(16,"button",10),w.bIt("click",function(){w.eBV(q);const Me=w.XpG();return w.Njj(Me.processWebhookConfigurationUpdate())}),w.EFF(17),w.nI1(18,"translate"),w.k0s()()}if(2&Oe){const q=w.XpG();w.Y8G("ngIf",q.webhookConfiguration),w.R7$(),w.Y8G("saveText","Common.Continue")("actions",q.confirmationModalActions)("title","Webhooks.ClientCreationWarningTitle")("modalId",q.clientCreationConfirmationModalId),w.R7$(2),w.JRh(w.bMT(4,15,"Common.Warning")),w.R7$(3),w.SpI(" ",w.bMT(7,17,"Webhooks.ClientCreationWarningDescription")," "),w.R7$(2),w.Y8G("saveText","Common.Continue")("actions",q.confirmationModalActions)("title","Webhooks.ClientDeletionWarningTitle")("modalId",q.clientDeletionConfirmationModalId),w.R7$(2),w.JRh(w.bMT(11,19,"Common.Warning")),w.R7$(3),w.SpI(" ",w.bMT(14,21,"Webhooks.ClientDeletionWarningDescription")," "),w.R7$(3),w.Y8G("disabled",q.saveLock),w.R7$(),w.SpI(" ",w.bMT(18,23,"Common.Save")," ")}}let de=(()=>{class Oe{constructor(q,he,Me,Et,Kt,hn,_n,Zn,_i){this.activatedRoute=q,this.errorService=he,this.fb=Me,this.webhookService=Et,this.translate=Kt,this.toastr=hn,this.modalService=_n,this.dialogService=Zn,this.uiConfig=_i,this.webhookNames=F.EK,this.saveLock=!1,this.clientCreationConfirmationModalId="clientCreationConfirmationModalId",this.clientDeletionConfirmationModalId="clientDeletionConfirmationModalId",this.confirmationModalActions=[m.N.Save],this.isReadOnly=!1}ngOnInit(){this.uiConfig.getConfig().pipe((0,f.$)()).subscribe({next:q=>{this.isReadOnly=!q.webhookPersistence}}),this.activatedRoute.data.pipe(function E(...Oe){const ue=Oe.length;if(0===ue)throw new Error("list of properties cannot be empty.");return(0,d.T)(q=>{let he=q;for(let Me=0;Me<ue;Me++){const Et=he?.[Oe[Me]];if(!(typeof Et<"u"))return;he=Et}return he})}("webhookResolverObject")).subscribe(q=>{this.webhookConfiguration=q.webhookConfiguration,this.webhooksEnabled=this.checkWebhooksEnabled(),this.scopeNames=q.scopeNames,this.webhooksForm=this.fb.group({[F.EK.MFAReset]:this.createFormGroup(this.webhookConfiguration.webhooks.MfaReset),[F.EK.PasswordReset]:this.createFormGroup(this.webhookConfiguration.webhooks.PasswordReset),[F.EK.UserRegistration]:this.createFormGroup(this.webhookConfiguration.webhooks.UserRegistration),[F.EK.ServerSideSessionDelete]:this.createFormGroup(this.webhookConfiguration.webhooks.ServerSideSessionDelete)}),this.saveLock=!0,this.webhooksForm.valueChanges.subscribe(he=>{this.saveLock=!(this.webhooksForm.controls[F.EK.MFAReset].valid&&this.webhooksForm.controls[F.EK.PasswordReset].valid&&this.webhooksForm.controls[F.EK.UserRegistration].valid&&this.webhooksForm.controls[F.EK.ServerSideSessionDelete].valid)})},q=>{this.errorService.handleError(q)})}createFormGroup(q){return this.fb.group({url:[{value:q.url,disabled:!q.enabled},e.k0.required],scopeName:[{value:q.scopeName,disabled:!q.enabled}],enabled:[q.enabled]})}processWebhookConfigurationUpdate(){const q=this.getWebhookFormValues();return!this.webhooksEnabled&&this.checkAnyWebhooksEnabled(q)?this.modalService.showById(this.clientCreationConfirmationModalId,this.saveButtonRef):this.webhooksEnabled&&this.checkAllWebhooksDisabled(q)?this.modalService.showById(this.clientDeletionConfirmationModalId,this.saveButtonRef):void this.saveWebhookConfiguration()}saveWebhookConfiguration(){const q=this.getWebhookFormValues();this.webhookService.saveWebhookConfiguration(q).subscribe(()=>{this.toastr.success(this.translate.instant("Webhooks.WebhookConfigurationUpdated"),this.translate.instant("Notifications.Success")),this.webhookService.getWebhooks().subscribe(he=>{this.webhookConfiguration=he,this.webhooksEnabled=this.checkWebhooksEnabled()},he=>{this.errorService.handleError(he)}),this.webhooksForm.markAsPristine()},he=>{this.errorService.handleError(he)})}cancelWebhookUpdate(){this.modalService.hideById(this.clientCreationConfirmationModalId)}acceptClientCreation(){this.saveWebhookConfiguration()}getWebhookFormValues(){const q=this.webhooksForm.getRawValue();return new F.m8(q.MfaReset,q.PasswordReset,q.UserRegistration,q.ServerSideSessionDelete)}checkWebhooksEnabled(){return this.webhookConfiguration.webhooks.PasswordReset.enabled||this.webhookConfiguration.webhooks.UserRegistration.enabled||this.webhookConfiguration.webhooks.MfaReset.enabled||this.webhookConfiguration.webhooks.ServerSideSessionDelete.enabled}checkAnyWebhooksEnabled(q){return q.webhooks.PasswordReset.enabled||q.webhooks.UserRegistration.enabled||q.webhooks.MfaReset.enabled||q.webhooks.ServerSideSessionDelete.enabled}checkAllWebhooksDisabled(q){return!(q.webhooks.PasswordReset.enabled||q.webhooks.UserRegistration.enabled||q.webhooks.MfaReset.enabled||q.webhooks.ServerSideSessionDelete.enabled)}canDeactivate(){return!this.webhooksForm.dirty||(this.dialogService.confirm(),this.dialogService.eventStream)}static{this.\u0275fac=function(he){return new(he||Oe)(w.rXU(S.nX),w.rXU(C.I),w.rXU(e.ze),w.rXU(R.x),w.rXU(v.c$),w.rXU(x.tw),w.rXU(O.B),w.rXU(H.o),w.rXU(M.w))}}static{this.\u0275cmp=w.VBU({type:Oe,selectors:[["app-manage-webhooks"]],viewQuery:function(he,Me){if(1&he&&w.GBs(Re,5),2&he){let Et;w.mGM(Et=w.lsd())&&(Me.saveButtonRef=Et.first)}},decls:4,vars:1,consts:[[1,"tw-container","tw-mx-auto"],["id","readOnlyModeWarn",1,"tw-alert","tw-mb-4"],[1,"tw-font-bold"],[1,"tw-text-sm",3,"innerHTML"],["class","tw-container tw-mx-auto",4,"ngIf"],[1,"tw-mb-6","tw-mt-8","tw-font-semibold","tw-text-lg"],[3,"webhookName","webhook"],[3,"onCancel","onSave","saveText","actions","title","modalId"],[1,"tw-text-xl","tw-font-semibold","md:tw-text-2xl"],["role","alert",1,"tw-alert-warning","tw-mb-4","tw-mt-4"],["id","save",1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"click","disabled"],[3,"formGroup"],[3,"webhookName","scopeNames","parentForm"]],template:function(he,Me){1&he&&(w.j41(0,"div",0),w.DNE(1,Je,8,7)(2,we,19,25),w.k0s(),w.nrm(3,"app-can-deactivate")),2&he&&(w.R7$(),w.vxM(1,Me.isReadOnly?1:2))},dependencies:[n.bT,e.qT,e.cb,e.j4,V.E,U.z,G.G,J,Pe,v.D9],encapsulation:2})}}return Oe})();class Ve{}var Ae=u(4549),rt=u(1626),Be=u(9564);let ht=(()=>{class Oe{constructor(q,he){this.http=q,this.headersService=he,this.actionUrl="policy",this.headers=he.setHeaders()}getAccessPolicy(){return this.http.get(this.actionUrl,{headers:this.headers})}updateAccessPolicy(q){return this.http.put(this.actionUrl,q,{headers:this.headers})}static{this.\u0275fac=function(he){return new(he||Oe)(w.KVO(rt.Qq),w.KVO(Be.m))}}static{this.\u0275prov=w.jDH({token:Oe,factory:Oe.\u0275fac})}}return Oe})();var Ye=u(6801),Yt=u(7156),Ut=u(7384),Tt=u(7294),_t=u(7778);class X{constructor(ue,q,he){this.isDateTime=!1,this.type=ue,this.value=q,this.permission=he}}var Y=u(7811),ee=u(6536);const Se=["addPolicyModal"],Ee=()=>({animated:!1,backdrop:"static"});function at(Oe,ue){if(1&Oe&&(w.j41(0,"option"),w.EFF(1),w.k0s()),2&Oe){const q=ue.$implicit;w.R7$(),w.SpI(" ",null==q?null:q.name," ")}}function je(Oe,ue){if(1&Oe){const q=w.RV6();w.j41(0,"input",31),w.mxI("ngModelChange",function(Me){w.eBV(q);const Et=w.XpG();return w.DH7(Et.value,Me)||(Et.value=Me),w.Njj(Me)}),w.k0s()}if(2&Oe){const q=w.XpG();w.R50("ngModel",q.value)}}function ot(Oe,ue){if(1&Oe&&(w.j41(0,"option"),w.EFF(1),w.k0s()),2&Oe){const q=ue.$implicit;w.R7$(),w.SpI(" ",null==q?null:q.name," ")}}function Ft(Oe,ue){if(1&Oe){const q=w.RV6();w.j41(0,"div",11)(1,"select",32),w.mxI("ngModelChange",function(Me){w.eBV(q);const Et=w.XpG();return w.DH7(Et.value,Me)||(Et.value=Me),w.Njj(Me)}),w.DNE(2,ot,2,1,"option",13),w.k0s()()}if(2&Oe){const q=w.XpG();w.R7$(),w.R50("ngModel",q.value),w.R7$(),w.Y8G("ngForOf",q.avaliableRoles)}}function ft(Oe,ue){if(1&Oe){const q=w.RV6();w.j41(0,"input",31),w.mxI("ngModelChange",function(Me){w.eBV(q);const Et=w.XpG();return w.DH7(Et.value,Me)||(Et.value=Me),w.Njj(Me)}),w.k0s()}if(2&Oe){const q=w.XpG();w.R50("ngModel",q.value)}}function nt(Oe,ue){if(1&Oe){const q=w.RV6();w.j41(0,"input",33),w.mxI("ngModelChange",function(Me){w.eBV(q);const Et=w.XpG();return w.DH7(Et.value,Me)||(Et.value=Me),w.Njj(Me)}),w.k0s()}if(2&Oe){const q=w.XpG();w.R50("ngModel",q.value)}}function Wt(Oe,ue){if(1&Oe){const q=w.RV6();w.j41(0,"div",11)(1,"select",32),w.mxI("ngModelChange",function(Me){w.eBV(q);const Et=w.XpG();return w.DH7(Et.value,Me)||(Et.value=Me),w.Njj(Me)}),w.j41(2,"option",34),w.EFF(3),w.nI1(4,"translate"),w.k0s(),w.j41(5,"option",35),w.EFF(6),w.nI1(7,"translate"),w.k0s()()()}if(2&Oe){const q=w.XpG();w.R7$(),w.R50("ngModel",q.value),w.R7$(2),w.JRh(w.bMT(4,3,"Common.True")),w.R7$(3),w.JRh(w.bMT(7,5,"Common.False"))}}function tn(Oe,ue){if(1&Oe){const q=w.RV6();w.j41(0,"div",36)(1,"app-enum-claim-type-input",37),w.bIt("valueChanged",function(Me){w.eBV(q);const Et=w.XpG();return w.Njj(Et.value=Me)}),w.k0s()()}if(2&Oe){const q=w.XpG();w.Y8G("id","value-for-"+q.selectedClaimType.id),w.R7$(),w.Y8G("id","claimsFormInput")("typeId",q.selectedClaimType.id)("hostingModal","addPolicyModal")("value",q.value)}}function it(Oe,ue){if(1&Oe){const q=w.RV6();w.qex(0),w.j41(1,"app-date-time",40),w.mxI("ngModelChange",function(Me){w.eBV(q);const Et=w.XpG(2);return w.DH7(Et.value,Me)||(Et.value=Me),w.Njj(Me)}),w.k0s(),w.bVm()}if(2&Oe){const q=w.XpG(2);w.R7$(),w.R50("ngModel",q.value)}}function Ot(Oe,ue){if(1&Oe){const q=w.RV6();w.qex(0),w.j41(1,"app-date-time",41),w.mxI("ngModelChange",function(Me){w.eBV(q);const Et=w.XpG(2);return w.DH7(Et.value,Me)||(Et.value=Me),w.Njj(Me)}),w.k0s(),w.bVm()}if(2&Oe){const q=w.XpG(2);w.R7$(),w.R50("ngModel",q.value),w.Y8G("displayType","date")}}function ve(Oe,ue){if(1&Oe&&(w.j41(0,"div",38),w.DNE(1,it,2,1,"ng-container",39)(2,Ot,2,2,"ng-container",39),w.k0s()),2&Oe){const q=w.XpG();w.R7$(),w.Y8G("ngIf","birthdate"!=q.claimType),w.R7$(),w.Y8G("ngIf","birthdate"==q.claimType)}}function ae(Oe,ue){if(1&Oe&&(w.j41(0,"option",42),w.EFF(1),w.nI1(2,"translate"),w.k0s()),2&Oe){const q=ue.$implicit;w.FS9("value",q),w.R7$(),w.SpI(" ",w.bMT(2,2,"Permission."+q)," ")}}let $=(()=>{class Oe{constructor(q){this.toastr=q,this.added=new w.bkB,this.addAnother=!1}keydown(q){"Enter"===q.key&&this.isValid()&&this.addPolicy()}getClaimType(){this.selectedClaimType=this.avaliableClaimTypes.find(q=>q.name===this.claimType)}isValid(){return null!=this.claimType&&null!=this.value&&null!=this.permission}addAnotherPolicy(){this.addAnother=!0,this.addPolicy()}addPolicy(){const q=new X(this.claimType,this.value,this.permission);this.added.next(q),this.addAnother?(this.reset(),this.addAnother=!1):this.hide()}reset(){this.selectedClaimType=void 0,this.claimType=void 0,this.value=void 0,this.permission=void 0}hide(){this.addPolicyModal.hide()}show(){this.reset(),this.addPolicyModal.show()}ngOnDestroy(){this.hide()}static{this.\u0275fac=function(he){return new(he||Oe)(w.rXU(x.tw))}}static{this.\u0275cmp=w.VBU({type:Oe,selectors:[["app-add-accesspolicy"]],viewQuery:function(he,Me){if(1&he&&w.GBs(Se,7),2&he){let Et;w.mGM(Et=w.lsd())&&(Me.addPolicyModal=Et.first)}},hostBindings:function(he,Me){1&he&&w.bIt("keydown",function(Kt){return Me.keydown(Kt)},!1,w.EBC)},inputs:{avaliableClaimTypes:"avaliableClaimTypes",avaliableRoles:"avaliableRoles",avaliablePermissions:"avaliablePermissions",accessPolicy:"accessPolicy"},outputs:{added:"added"},decls:46,vars:38,consts:[["addPolicyModal","bs-modal"],["bsModal","","id","addPolicyModal","tabindex","-1","role","dialog","aria-hidden","true",1,"modal",3,"config"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","scrollbars"],[3,"id","label"],[1,"tw-form-select"],["id","addClaimType","required","",1,"tw-form-control",3,"ngModelChange","ngModel"],[4,"ngFor","ngForOf"],[3,"id","label","help"],["id","formClaimValue","class","tw-form-control","type","text","required","",3,"ngModel","ngModelChange",4,"ngIf"],["class","tw-form-select",4,"ngIf"],["id","formClaimValue","class","tw-form-control","type","number","required","",3,"ngModel","ngModelChange",4,"ngIf"],["class","",3,"id",4,"ngIf"],["class","tw-w-full sm:tw-max-w-2xl",4,"ngIf"],[3,"id","label","isLast"],["id","addClaimPermission","required","",1,"tw-form-control",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["type","submit","id","addPolicySubmit",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],[1,"tw-hidden","xs:tw-inline"],["type","button","id","addPolicyReSubmit",1,"tw-btn",3,"click","disabled"],[1,"tw-btn-link","tw--mr-4",3,"click"],["id","formClaimValue","type","text","required","",1,"tw-form-control",3,"ngModelChange","ngModel"],["id","formClaimValue","required","",1,"tw-form-control",3,"ngModelChange","ngModel"],["id","formClaimValue","type","number","required","",1,"tw-form-control",3,"ngModelChange","ngModel"],["value","true"],["value","false"],[1,"",3,"id"],[3,"valueChanged","id","typeId","hostingModal","value"],[1,"tw-w-full","sm:tw-max-w-2xl"],[4,"ngIf"],["id","formClaimValue","required","true",3,"ngModelChange","ngModel"],["id","formClaimValue","required","true",3,"ngModelChange","ngModel","displayType"],[3,"value"]],template:function(he,Me){if(1&he){const Et=w.RV6();w.j41(0,"div",1,0)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),w.EFF(6),w.nI1(7,"translate"),w.k0s(),w.j41(8,"button",6),w.bIt("click",function(){return w.eBV(Et),w.Njj(Me.hide())}),w.nrm(9,"span",7),w.j41(10,"span",8),w.EFF(11),w.nI1(12,"translate"),w.k0s()()(),w.j41(13,"div",9)(14,"app-form-row",10)(15,"div",11)(16,"select",12),w.mxI("ngModelChange",function(hn){return w.eBV(Et),w.DH7(Me.claimType,hn)||(Me.claimType=hn),w.Njj(hn)}),w.bIt("ngModelChange",function(){return w.eBV(Et),w.Njj(Me.getClaimType())}),w.nrm(17,"option"),w.DNE(18,at,2,1,"option",13),w.k0s()()(),w.j41(19,"app-form-row",14),w.DNE(20,je,1,1,"input",15)(21,Ft,3,2,"div",16)(22,ft,1,1,"input",15)(23,nt,1,1,"input",17)(24,Wt,8,7,"div",16)(25,tn,2,5,"div",18)(26,ve,3,2,"div",19),w.k0s(),w.j41(27,"app-form-row",20)(28,"div",11)(29,"select",21),w.mxI("ngModelChange",function(hn){return w.eBV(Et),w.DH7(Me.permission,hn)||(Me.permission=hn),w.Njj(hn)}),w.nrm(30,"option"),w.DNE(31,ae,3,4,"option",22),w.k0s()()()(),w.nrm(32,"div",23),w.j41(33,"div",24)(34,"div",25)(35,"div",26)(36,"button",27),w.bIt("click",function(){return w.eBV(Et),Me.addPolicy(),w.Njj(Me.hide())}),w.EFF(37),w.nI1(38,"translate"),w.k0s(),w.j41(39,"span",28)(40,"button",29),w.bIt("click",function(){return w.eBV(Et),w.Njj(Me.addAnotherPolicy())}),w.EFF(41),w.nI1(42,"translate"),w.k0s()()(),w.j41(43,"button",30),w.bIt("click",function(){return w.eBV(Et),w.Njj(Me.hide())}),w.EFF(44),w.nI1(45,"translate"),w.k0s()()()()()()}2&he&&(w.Y8G("config",w.lJ4(37,Ee)),w.R7$(6),w.JRh(w.bMT(7,27,"Settings.AccessPolicy.NewPolicy")),w.R7$(5),w.JRh(w.bMT(12,29,"Common.Close")),w.R7$(3),w.Y8G("id","addClaimType")("label","Settings.AccessPolicy.ClaimType"),w.R7$(2),w.R50("ngModel",Me.claimType),w.R7$(2),w.Y8G("ngForOf",Me.avaliableClaimTypes),w.R7$(),w.Y8G("id","formClaimValue")("label","Settings.AccessPolicy.ClaimValue")("help","DateTime"==(null==Me.selectedClaimType?null:Me.selectedClaimType.valueType)?"Common.Dates.UTCWarning":""),w.R7$(),w.Y8G("ngIf",null==Me.claimType||""==Me.claimType),w.R7$(),w.Y8G("ngIf","role"==Me.claimType),w.R7$(),w.Y8G("ngIf","String"==(null==Me.selectedClaimType?null:Me.selectedClaimType.valueType)&&"role"!=Me.claimType),w.R7$(),w.Y8G("ngIf","Int"==(null==Me.selectedClaimType?null:Me.selectedClaimType.valueType)&&"role"!=Me.claimType),w.R7$(),w.Y8G("ngIf","Boolean"==(null==Me.selectedClaimType?null:Me.selectedClaimType.valueType)&&"role"!=Me.claimType),w.R7$(),w.Y8G("ngIf","Enum"==(null==Me.selectedClaimType?null:Me.selectedClaimType.valueType)),w.R7$(),w.Y8G("ngIf","DateTime"==(null==Me.selectedClaimType?null:Me.selectedClaimType.valueType)&&"role"!=Me.claimType),w.R7$(),w.Y8G("id","addClaimPermission")("label","Settings.AccessPolicy.Permission")("isLast",!0),w.R7$(2),w.R50("ngModel",Me.permission),w.R7$(2),w.Y8G("ngForOf",Me.avaliablePermissions),w.R7$(5),w.Y8G("disabled",!Me.isValid()),w.R7$(),w.JRh(w.bMT(38,31,"Common.Add")),w.R7$(3),w.Y8G("disabled",!Me.isValid()),w.R7$(),w.JRh(w.bMT(42,33,"Common.AddAndAdd")),w.R7$(3),w.JRh(w.bMT(45,35,"Common.Cancel")))},dependencies:[n.Sq,n.bT,e.xH,e.y7,e.me,e.Q0,e.wz,e.BC,e.YS,e.vS,g.hZ,ie.Y,Y.j,ee.Z,v.D9],encapsulation:2})}}return Oe})();var se=u(1589);const Ue=["deleteAccessPolicyModal"],Ze=(Oe,ue)=>ue.type+ue.value+ue.permission,dt=Oe=>({"inactive disabled":Oe});function Pt(Oe,ue){if(1&Oe){const q=w.RV6();w.j41(0,"app-action-bar"),w.qex(1,9),w.j41(2,"button",10),w.bIt("click",function(){w.eBV(q),w.XpG();const Me=w.sdS(1);return w.Njj(Me.show())}),w.EFF(3),w.nI1(4,"translate"),w.k0s(),w.bVm(),w.k0s()}2&Oe&&(w.R7$(3),w.SpI(" ",w.bMT(4,1,"Settings.AccessPolicy.Add")," "))}function an(Oe,ue){1&Oe&&(w.j41(0,"div",5)(1,"div")(2,"p",11),w.EFF(3),w.nI1(4,"translate"),w.k0s(),w.nrm(5,"p",12),w.nI1(6,"translate"),w.k0s()()),2&Oe&&(w.R7$(3),w.JRh(w.bMT(4,2,"Common.ReadOnlyModeWarningTitle")),w.R7$(2),w.Y8G("innerHTML",w.bMT(6,4,"Settings.AccessPolicy.ReadOnlyModeWarn"),w.npT))}function un(Oe,ue){1&Oe&&w.nrm(0,"app-simple-loader")}function Mn(Oe,ue){1&Oe&&(w.j41(0,"th",17)(1,"span",18),w.EFF(2),w.nI1(3,"translate"),w.k0s()()),2&Oe&&(w.R7$(2),w.JRh(w.bMT(3,1,"Common.Actions")))}function kn(Oe,ue){if(1&Oe&&(w.j41(0,"td",24),w.EFF(1),w.k0s()),2&Oe){const q=w.XpG().$implicit;w.R7$(),w.SpI(" ",q.value," ")}}function Bn(Oe,ue){if(1&Oe&&(w.j41(0,"td",24),w.EFF(1),w.nI1(2,"standardDate"),w.k0s()),2&Oe){const q=w.XpG().$implicit;w.R7$(),w.SpI(" ",w.bMT(2,1,q.value)," ")}}function It(Oe,ue){1&Oe&&(w.j41(0,"span",23),w.EFF(1),w.nI1(2,"translate"),w.k0s()),2&Oe&&(w.R7$(),w.SpI(" ",w.bMT(2,1,"Common.Reserved")," "))}function Rn(Oe,ue){if(1&Oe){const q=w.RV6();w.j41(0,"button",26),w.bIt("click",function(){w.eBV(q);const Me=w.XpG(2).$implicit,Et=w.XpG(3);return w.Njj(Et.openDeletePolicyConfirmation(Me.type,Me.value,Me.permission))}),w.nrm(1,"span",27),w.j41(2,"span",18),w.EFF(3),w.nI1(4,"translate"),w.k0s()()}2&Oe&&(w.R7$(3),w.SpI(" ",w.bMT(4,1,"Common.Remove.Title")," "))}function Ht(Oe,ue){if(1&Oe&&(w.j41(0,"td"),w.DNE(1,Rn,5,3,"button",25),w.k0s()),2&Oe){const q=w.XpG().$implicit,he=w.XpG(3);w.R7$(),w.vxM(1,he.isAdminUiAdmin(q)?-1:1)}}function lt(Oe,ue){if(1&Oe&&(w.j41(0,"tr",19)(1,"td",20)(2,"b"),w.EFF(3),w.k0s()(),w.DNE(4,kn,2,1,"td",21)(5,Bn,3,3,"ng-template",null,2,w.C5r),w.j41(7,"td",22),w.EFF(8),w.nI1(9,"translate"),w.k0s(),w.j41(10,"td"),w.DNE(11,It,3,3,"span",23),w.k0s(),w.DNE(12,Ht,2,1,"td"),w.k0s()),2&Oe){const q=ue.$implicit,he=w.sdS(6),Me=w.XpG(3);w.Y8G("ngClass",w.eq3(9,dt,!Me.persistenceSetup||Me.isAdminUiAdmin(q))),w.R7$(3),w.JRh(q.type),w.R7$(),w.Y8G("ngIf",!q.isDateTime)("ngIfElse",he),w.R7$(4),w.SpI(" ",w.bMT(9,7,"Permission."+q.permission)," "),w.R7$(3),w.vxM(11,Me.isAdminUiAdmin(q)?11:-1),w.R7$(),w.vxM(12,Me.persistenceSetup?12:-1)}}function vt(Oe,ue){if(1&Oe&&(w.j41(0,"table",6)(1,"thead")(2,"tr")(3,"th",14),w.EFF(4),w.nI1(5,"translate"),w.k0s(),w.j41(6,"th",15),w.EFF(7),w.nI1(8,"translate"),w.k0s(),w.j41(9,"th",16),w.EFF(10),w.nI1(11,"translate"),w.k0s(),w.j41(12,"th",17)(13,"span",18),w.EFF(14),w.nI1(15,"translate"),w.k0s()(),w.DNE(16,Mn,4,3,"th",17),w.k0s()(),w.j41(17,"tbody"),w.Z7z(18,lt,13,11,"tr",19,Ze),w.k0s(),w.nrm(20,"tbody"),w.k0s()),2&Oe){const q=w.XpG(2);w.R7$(4),w.JRh(w.bMT(5,5,"Settings.AccessPolicy.ClaimType")),w.R7$(3),w.JRh(w.bMT(8,7,"Settings.AccessPolicy.ClaimValue")),w.R7$(3),w.JRh(w.bMT(11,9,"Settings.AccessPolicy.Permission")),w.R7$(4),w.JRh(w.bMT(15,11,"Common.Reserved")),w.R7$(2),w.vxM(16,q.persistenceSetup?16:-1),w.R7$(2),w.Dyx(null==q.accessPolicy?null:q.accessPolicy.policyClaims)}}function mt(Oe,ue){if(1&Oe&&w.DNE(0,vt,21,13,"table",13),2&Oe){const q=w.XpG();w.Y8G("ngIf",(null==q.accessPolicy||null==q.accessPolicy.policyClaims?null:q.accessPolicy.policyClaims.length)>0&&!q.isLoading)}}function kt(Oe,ue){if(1&Oe&&w.nrm(0,"app-pager",7),2&Oe){const q=w.XpG();w.Y8G("totalResults",null==q.accessPolicy||null==q.accessPolicy.policyClaims?null:q.accessPolicy.policyClaims.length)}}function nn(Oe,ue){if(1&Oe){const q=w.RV6();w.j41(0,"app-button-bar")(1,"button",28),w.bIt("click",function(){w.eBV(q);const Me=w.XpG();return w.Njj(Me.updatePolicy())}),w.EFF(2),w.nI1(3,"translate"),w.k0s()()}if(2&Oe){const q=w.XpG();w.R7$(),w.Y8G("disabled",q.saveDisabled),w.R7$(),w.SpI(" ",w.bMT(3,2,"Common.Save")," ")}}let Tn=(()=>{class Oe{constructor(q,he,Me,Et,Kt,hn,_n,Zn){this.accessPolicyService=q,this.translate=he,this.toastr=Me,this.errorService=Et,this.healthCheckService=Kt,this.dialogService=hn,this.activatedRoute=_n,this.configService=Zn,this.isLoading=!0,this.hasChanged=!1,this.saveDisabled=!1}ngOnInit(){this.activatedRoute.data.subscribe(q=>{this.accessPolicyResolverData=q.accessPolicyObject,this.avaliablePermissions=this.accessPolicyResolverData.permissions;const he=this.accessPolicyResolverData.accessPolicy.policyClaims.find(Me=>"role"===Me.type&&"AdminUI Administrator"===Me.value&&"All"===Me.permission);this.accessPolicy=new Ve,this.accessPolicy.version=this.accessPolicyResolverData.accessPolicy.version,this.accessPolicy.policyClaims=this.accessPolicyResolverData.accessPolicy.policyClaims.sort((Me,Et)=>Me===he?-1:Et===he?1:0),this.accessPolicy.policyClaims.forEach(Me=>{Ae.c9.fromISO(Me.value).isValid&&(Me.isDateTime=!0)}),this.avaliableClaimTypes=this.accessPolicyResolverData.claimTypes.sort((Me,Et)=>Me.name.toUpperCase()<Et.name.toUpperCase()?-1:Me.name.toUpperCase()>Et.name.toUpperCase()?1:0),this.avaliableRoles=this.accessPolicyResolverData.roles,this.isLoading=!1}),this.configService.getConfig().subscribe({next:q=>{this.persistenceSetup=q.policyPersistence}})}isAdminUiAdmin(q){return"role"===q.type&&"AdminUI Administrator"===q.value&&"All"===q.permission}canDeactivate(){return!this.hasChanged||(this.dialogService.confirm(),this.dialogService.eventStream)}getClaimType(){this.selectedClaimType=this.avaliableClaimTypes.find(q=>q.name===this.claimType)}warnToSave(){this.toastr.info(this.translate.instant("Notifications.DontForgetToSave"),this.translate.instant("Notifications.Notice"))}addPolicy(q){this.hasChanged=!0,this.accessPolicy.policyClaims.push(q),this.warnToSave()}openDeletePolicyConfirmation(q,he,Me){this.indexToDelete=this.accessPolicy.policyClaims.findIndex(Et=>Et.type===q&&Et.value===he&&Et.permission===Me),this.deleteAccessPolicyModal.show()}closeDeleteModal(){this.indexToDelete=null,this.deleteAccessPolicyModal.hide()}removePolicy(q){this.accessPolicy.policyClaims.splice(q,1),this.hasChanged=!0,this.warnToSave()}updatePolicy(){this.saveDisabled=!0,this.accessPolicyService.updateAccessPolicy(this.accessPolicy).subscribe(q=>{this.accessPolicy=q;const he=this.accessPolicy.policyClaims.find(Me=>"role"===Me.type&&"AdminUI Administrator"===Me.value&&"All"===Me.permission);this.accessPolicy.policyClaims.sort((Me,Et)=>Me===he?-1:Et===he?1:0),this.toastr.success(this.translate.instant("Settings.AccessPolicy.AccessPolicyUpdated"),this.translate.instant("Notifications.Success"))},q=>{"409"===q.code?this.toastr.error(this.translate.instant("Settings.AccessPolicy.AccessPolicyConflict"),this.translate.instant("Notifications.Error")):this.errorService.handleError(q)},()=>{this.saveDisabled=!1}),this.hasChanged=!1}static{this.\u0275fac=function(he){return new(he||Oe)(w.rXU(ht),w.rXU(v.c$),w.rXU(x.tw),w.rXU(C.I),w.rXU(Ye.M),w.rXU(H.o),w.rXU(S.nX),w.rXU(M.w))}}static{this.\u0275cmp=w.VBU({type:Oe,selectors:[["app-update-accesspolicy"]],viewQuery:function(he,Me){if(1&he&&w.GBs(Ue,7),2&he){let Et;w.mGM(Et=w.lsd())&&(Me.deleteAccessPolicyModal=Et.first)}},inputs:{claimType:"claimType",permission:"permission",value:"value"},decls:12,vars:12,consts:[["addPolicyModal",""],["deleteAccessPolicyModal",""],["dateTimePolicy",""],[3,"added","avaliableClaimTypes","avaliableRoles","avaliablePermissions","accessPolicy"],[1,"tw-container","tw-mx-auto"],["id","readOnlyModeWarn",1,"tw-alert","tw-mb-4"],[1,"datatable","hover"],["hidePager","true",3,"totalResults"],[3,"delete","modalId","destructive"],["right",""],["id","addPolicyBtn",1,"tw-btn-success",3,"click"],[1,"tw-font-bold"],[1,"tw-text-sm",3,"innerHTML"],["class","datatable hover",4,"ngIf"],[1,"md:tw-w-1/4"],[1,"tw-hidden","md:tw-table-cell"],[1,"tw-hidden","lg:tw-table-cell"],[1,"tw-w-1"],[1,"sr-only"],[3,"ngClass"],[1,"tw-w-0","tw-truncate"],["class","tw-hidden tw-max-w-0 tw-truncate md:tw-table-cell",4,"ngIf","ngIfElse"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell"],[1,"tw-pill"],[1,"tw-hidden","tw-max-w-0","tw-truncate","md:tw-table-cell"],[1,"removePolicyBtn","tw-btn-link","tw-btn-small","tw-text-red-500"],[1,"removePolicyBtn","tw-btn-link","tw-btn-small","tw-text-red-500",3,"click"],["aria-hidden","true",1,"fas","fa-times"],["id","save",1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"click","disabled"]],template:function(he,Me){if(1&he){const Et=w.RV6();w.j41(0,"app-add-accesspolicy",3,0),w.bIt("added",function(hn){return w.eBV(Et),w.Njj(Me.addPolicy(hn))}),w.k0s(),w.j41(2,"div",4),w.DNE(3,Pt,5,3,"app-action-bar")(4,an,7,6,"div",5)(5,un,1,0,"app-simple-loader")(6,mt,1,1,"table",6)(7,kt,1,1,"app-pager",7),w.k0s(),w.DNE(8,nn,4,4,"app-button-bar"),w.j41(9,"app-delete-confirmation-modal",8,1),w.bIt("delete",function(){return w.eBV(Et),w.Njj(Me.removePolicy(Me.indexToDelete))}),w.k0s(),w.nrm(11,"app-can-deactivate")}if(2&he){const Et=w.sdS(10);w.Y8G("avaliableClaimTypes",Me.avaliableClaimTypes)("avaliableRoles",Me.avaliableRoles)("avaliablePermissions",Me.avaliablePermissions)("accessPolicy",Me.accessPolicy),w.R7$(3),w.vxM(3,Me.persistenceSetup&&!Me.isLoading?3:-1),w.R7$(),w.vxM(4,Me.persistenceSetup?-1:4),w.R7$(),w.vxM(5,Me.isLoading?5:-1),w.R7$(),w.vxM(6,(null==Me.accessPolicy||null==Me.accessPolicy.policyClaims?null:Me.accessPolicy.policyClaims.length)>0&&!Me.isLoading?6:-1),w.R7$(),w.vxM(7,(null==Me.accessPolicy||null==Me.accessPolicy.policyClaims?null:Me.accessPolicy.policyClaims.length)>0&&!Me.isLoading?7:-1),w.R7$(),w.vxM(8,Me.persistenceSetup?8:-1),w.R7$(),w.Y8G("modalId",Et)("destructive",!1)}},dependencies:[n.YU,n.bT,V.E,Yt.B,Ut.d,Tt.n,U.z,_t.w,$,v.D9,se.El],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return Oe})();var Ln=u(7468);class dn{}var li=u(526),ci=u(7773),Rt=u(3519);let ut=(()=>{class Oe{constructor(q,he,Me,Et,Kt){this.claimTypeService=q,this.permissionService=he,this.accessPolicyService=Me,this.rolesService=Et,this.errorService=Kt}resolve(){const q=this.permissionService.getAvaliablePermissions(),he=this.accessPolicyService.getAccessPolicy(),Me=this.claimTypeService.getClaimTypes(),Et=this.rolesService.getRoles();return(0,Ln.p)([q,he,Me,Et]).pipe((0,d.T)(([hn,_n,Zn,_i])=>{const fi=new dn;return fi.permissions=hn,fi.claimTypes=Zn,fi.accessPolicy=_n,fi.roles=_i,fi},hn=>{this.errorService.handleError(hn)}))}static{this.\u0275fac=function(he){return new(he||Oe)(w.KVO(li.X),w.KVO(ci.n),w.KVO(ht),w.KVO(Rt.P),w.KVO(C.I))}}static{this.\u0275prov=w.jDH({token:Oe,factory:Oe.\u0275fac})}}return Oe})();var Nt=u(9437),$t=u(5893);let zt=(()=>{class Oe{constructor(q,he,Me){this.webhookService=q,this.protectedResourceService=he,this.errorService=Me}resolve(){return(0,Ln.p)({webhooks:this.webhookService.getWebhooks(),protectedResources:this.protectedResourceService.getProtectedResources()}).pipe((0,d.T)(q=>{const he=new yn;he.webhookConfiguration=q.webhooks;const Me=[];return q.protectedResources.forEach(Et=>{Me.push(...Et.scopes)}),he.scopeNames=Me.map(Et=>Et.name).sort(),he}),(0,Nt.W)(q=>(this.errorService.handleError(q),q)))}static{this.\u0275fac=function(he){return new(he||Oe)(w.KVO(R.x),w.KVO($t.x),w.KVO(C.I))}}static{this.\u0275prov=w.jDH({token:Oe,factory:Oe.\u0275fac})}}return Oe})();class yn{}var vn=u(8416);const zn=[{path:"",redirectTo:"accesspolicy",pathMatch:"full"},{path:"accesspolicy",component:Tn,canDeactivate:[vn.M],resolve:{accessPolicyObject:ut}},{path:"webhooks",component:de,canDeactivate:[vn.M],resolve:{webhookResolverObject:zt}}];let An=(()=>{class Oe{static{this.\u0275fac=function(he){return new(he||Oe)}}static{this.\u0275mod=w.$C({type:Oe})}static{this.\u0275inj=w.G2t({imports:[v.h.forChild({extend:!0}),S.iI.forChild(zn),v.h,S.iI]})}}return Oe})();var mn=u(3730),ui=u(1683),gi=u(2571),ni=u(8455),Bi=u(7883),Xn=u(367),wi=u(5731),pi=u(7175),Hi=u(4193),ji=u(1993),Si=u(8389),tt=u(6599);let Dt=(()=>{class Oe{constructor(q,he){this.http=q,this.headersService=he,this.actionUrl="signingkey",this.headers=he.setHeaders()}getKeys(){const q=new rt.Nl;return this.http.get(this.actionUrl,{headers:this.headers,params:q})}deleteKey(q){return this.http.delete(`${this.actionUrl}/${q}`,{headers:this.headers})}static{this.\u0275fac=function(he){return new(he||Oe)(w.KVO(rt.Qq),w.KVO(Be.m))}}static{this.\u0275prov=w.jDH({token:Oe,factory:Oe.\u0275fac,providedIn:"root"})}}return Oe})();var Ct=u(8251),rn=u(4367),Qt=u(275),In=u(9812),St=u(7677);let yt=(()=>{class Oe{static{this.\u0275fac=function(he){return new(he||Oe)}}static{this.\u0275mod=w.$C({type:Oe})}static{this.\u0275inj=w.G2t({providers:[ut,ht,Bi.i,li.X,Rt.P,Dt,zt,In.I],imports:[An,n.MD,e.YN,e.X1,g.Q_,v.h,ui.Y,S.iI,gi.A,ni.p,_.XE,Xn.m,Ct.h,wi.i,pi.c,Hi.c,ji.E,Si.w,rn.N,tt.Y,Qt.W,mn.ClaimTypesModule,St.N]})}}return Oe})()},7101:(qe,me,u)=>{"use strict";u.r(me),u.d(me,{UsersModule:()=>St});var n=u(177),e=u(9417),_=u(1583),g=u(7005),S=u(779),v=u(534),f=u(1594),d=u(4438),E=u(5424),m=u(9196),F=u(3853),w=u(3680),C=u(1780);const R=(yt,Oe)=>({title:yt,link:Oe}),x=yt=>[yt],O=()=>["active"];function H(yt,Oe){1&yt&&(d.j41(0,"option",23),d.EFF(1),d.nI1(2,"translate"),d.k0s()),2&yt&&(d.R7$(),d.JRh(d.bMT(2,1,"Nav.Audits")))}function M(yt,Oe){1&yt&&(d.j41(0,"option",24),d.EFF(1),d.nI1(2,"translate"),d.k0s()),2&yt&&(d.R7$(),d.JRh(d.bMT(2,1,"Nav.SessionManagement")))}function V(yt,Oe){1&yt&&(d.j41(0,"span",27)(1,"span",28),d.EFF(2),d.nI1(3,"translate"),d.k0s(),d.nrm(4,"span",29),d.k0s()),2&yt&&(d.R7$(2),d.JRh(d.bMT(3,1,"StarterMode.RequiresUpgrade")))}function U(yt,Oe){if(1&yt&&(d.j41(0,"li",14)(1,"button",25),d.EFF(2),d.nI1(3,"translate"),d.DNE(4,V,5,3,"span",26),d.k0s()()),2&yt){const ue=d.XpG();d.R7$(),d.Y8G("routerLinkActive",d.lJ4(5,O)),d.R7$(),d.SpI(" ",d.bMT(3,3,"Nav.Audits")," "),d.R7$(2),d.Y8G("ngIf",null==ue.licenseInfo?null:ue.licenseInfo.isStarterLicense())}}function G(yt,Oe){1&yt&&(d.j41(0,"li",14)(1,"button",30),d.EFF(2),d.nI1(3,"translate"),d.k0s()()),2&yt&&(d.R7$(),d.Y8G("routerLinkActive",d.lJ4(4,O)),d.R7$(),d.JRh(d.bMT(3,2,"Nav.SessionManagement")))}function ie(yt,Oe){1&yt&&(d.j41(0,"div",31)(1,"p"),d.EFF(2),d.nI1(3,"translate"),d.nI1(4,"translate"),d.k0s()()),2&yt&&(d.R7$(2),d.Lme("",d.bMT(3,2,"Users.Delete.DeletedUser")," ",d.bMT(4,4,"Users.Delete.AuditingPurposes"),""))}let le=(()=>{class yt{constructor(ue,q,he,Me,Et){this.r=ue,this.route=q,this.errorService=he,this.configService=Me,this.licenseService=Et,this.enableAuditing=!1}ngOnInit(){this.userDataSubscription=this.route.data.subscribe({next:ue=>{this.user=ue.user},error:ue=>{this.errorService.handleError(ue)}}),this.configSubscription=this.configService.getConfig().subscribe({next:ue=>{this.showSessionManagement=ue.featureFlagOptions.sessionManagementEnabled,this.enableAuditing=ue.enableAuditing},error:ue=>{this.errorService.handleError(ue)}}),this.licenseService.getLicenseInfo().pipe((0,f.$)()).subscribe({next:ue=>{this.licenseInfo=ue}})}mobRoute(ue){this.r.navigate([ue],{relativeTo:this.route})}ngOnDestroy(){this.userDataSubscription.unsubscribe()}static{this.\u0275fac=function(q){return new(q||yt)(d.rXU(_.Ix),d.rXU(_.nX),d.rXU(E.I),d.rXU(m.w),d.rXU(F.X))}}static{this.\u0275cmp=d.VBU({type:yt,selectors:[["ng-component"]],decls:57,vars:67,consts:[[3,"title","totpEnabled","crumbs","hasTabs"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","details"],["value","roles"],["value","additionaldetails"],["value","applications"],["value","userlogins"],["value","useraudits",4,"ngIf"],["value","sessions",4,"ngIf"],["role","tablist",1,"tabs","tw-hidden","md:tw-flex"],[1,"tabs__item"],["type","button","routerLink","details","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","roles","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","additionaldetails","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","applications","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","userlogins","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["class","tabs__item",4,"ngIf"],["id","editUser"],["id","userDeleted","class","tw-alert-danger tw-container tw-mx-auto tw-mb-6",4,"ngIf"],["value","useraudits"],["value","sessions"],["id","tabAudit","type","button","routerLink","useraudits","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","upgradeSymbol",4,"ngIf"],["id","upgradeSymbol"],[1,"sr-only"],["aria-hidden","true",1,"tw-text-secondary-500","far","fa-arrow-alt-circle-up","tw-pl-1"],["type","button","routerLink","sessions","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","userDeleted",1,"tw-alert-danger","tw-container","tw-mx-auto","tw-mb-6"]],template:function(q,he){1&q&&(d.j41(0,"app-title-bar",0),d.nI1(1,"translate"),d.nI1(2,"localize"),d.qex(3,1),d.j41(4,"div",2)(5,"label",3),d.EFF(6),d.nI1(7,"translate"),d.k0s(),d.j41(8,"div",4)(9,"select",5),d.bIt("change",function(Et){return he.mobRoute(Et.target.value)}),d.j41(10,"option",6),d.EFF(11),d.nI1(12,"translate"),d.k0s(),d.j41(13,"option",6),d.EFF(14),d.nI1(15,"translate"),d.k0s(),d.j41(16,"option",7),d.EFF(17),d.nI1(18,"translate"),d.k0s(),d.j41(19,"option",8),d.EFF(20),d.nI1(21,"translate"),d.k0s(),d.j41(22,"option",9),d.EFF(23),d.nI1(24,"translate"),d.k0s(),d.j41(25,"option",10),d.EFF(26),d.nI1(27,"translate"),d.k0s(),d.DNE(28,H,3,3,"option",11)(29,M,3,3,"option",12),d.k0s()()(),d.j41(30,"ul",13),d.nI1(31,"translate"),d.j41(32,"li",14)(33,"button",15),d.EFF(34),d.nI1(35,"translate"),d.k0s()(),d.j41(36,"li",14)(37,"button",16),d.EFF(38),d.nI1(39,"translate"),d.k0s()(),d.j41(40,"li",14)(41,"button",17),d.EFF(42),d.nI1(43,"translate"),d.k0s()(),d.j41(44,"li",14)(45,"button",18),d.EFF(46),d.nI1(47,"translate"),d.k0s()(),d.j41(48,"li",14)(49,"button",19),d.EFF(50),d.nI1(51,"translate"),d.k0s()(),d.DNE(52,U,5,6,"li",20)(53,G,4,5,"li",20),d.k0s(),d.bVm(),d.k0s(),d.j41(54,"div",21),d.DNE(55,ie,5,6,"div",22),d.nrm(56,"router-outlet"),d.k0s()),2&q&&(d.Y8G("title",he.user.firstName+" "+he.user.lastName)("totpEnabled",he.user.totpEnabled)("crumbs",d.eq3(60,x,d.l_i(57,R,d.bMT(1,27,"Nav.Users"),d.bMT(2,29,"/users"))))("hasTabs",!0),d.R7$(6),d.JRh(d.bMT(7,31,"Nav.SubMenu")),d.R7$(5),d.SpI("",d.bMT(12,33,"Nav.SubMenu"),"..."),d.R7$(3),d.JRh(d.bMT(15,35,"Nav.Details")),d.R7$(3),d.JRh(d.bMT(18,37,"Nav.Roles")),d.R7$(3),d.JRh(d.bMT(21,39,"Nav.Additional Details")),d.R7$(3),d.JRh(d.bMT(24,41,"Nav.Applications")),d.R7$(3),d.JRh(d.bMT(27,43,"Nav.External Logins")),d.R7$(2),d.Y8G("ngIf",he.enableAuditing),d.R7$(),d.Y8G("ngIf",he.showSessionManagement),d.R7$(),d.BMQ("aria-label",d.bMT(31,45,"Nav.SubMenu")),d.R7$(3),d.Y8G("routerLinkActive",d.lJ4(62,O)),d.R7$(),d.JRh(d.bMT(35,47,"Nav.Details")),d.R7$(3),d.Y8G("routerLinkActive",d.lJ4(63,O)),d.R7$(),d.JRh(d.bMT(39,49,"Nav.Roles")),d.R7$(3),d.Y8G("routerLinkActive",d.lJ4(64,O)),d.R7$(),d.JRh(d.bMT(43,51,"Nav.Additional Details")),d.R7$(3),d.Y8G("routerLinkActive",d.lJ4(65,O)),d.R7$(),d.JRh(d.bMT(47,53,"Nav.Applications")),d.R7$(3),d.Y8G("routerLinkActive",d.lJ4(66,O)),d.R7$(),d.JRh(d.bMT(51,55,"Nav.External Logins")),d.R7$(2),d.Y8G("ngIf",he.enableAuditing),d.R7$(),d.Y8G("ngIf",he.showSessionManagement),d.R7$(2),d.Y8G("ngIf",he.user.isDeleted))},dependencies:[_.n3,_.Wk,_.wQ,n.bT,e.xH,e.y7,w.z,C.D9,g.tl],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return yt})();var L=u(1413),J=u(6354),te=u(8412),I=u(9172),oe=u(1397),z=u(1986),_e=u(9838),Pe=u(5435),Re=u(7263),ke=u(5602),Je=u(345),Te=u(5794),we=u(7883),de=u(7156),Ve=u(7294),Ae=u(7384),rt=u(8698),Be=u(9550),ht=u(316),Ye=u(6697),Yt=function(yt){return yt[yt.None=0]="None",yt[yt.Add=1]="Add",yt[yt.AddAnother=2]="AddAnother",yt[yt.AddAndConfigure=3]="AddAndConfigure",yt}(Yt||{}),Ut=u(4589),Tt=u(526),_t=u(6801),X=u(4701);const Y=["claimsComponent"],ee=["addUserModal"],Se=()=>({animated:!1,backdrop:"static"});function Ee(yt,Oe){1&yt&&(d.j41(0,"h2",37),d.nrm(1,"span",38),d.j41(2,"span",24),d.EFF(3),d.nI1(4,"translate"),d.k0s(),d.j41(5,"span")(6,"a",39),d.EFF(7),d.nI1(8,"translate"),d.k0s()()()),2&yt&&(d.R7$(3),d.JRh(d.bMT(4,2,"Users.Password.DemoTitle")),d.R7$(4),d.SpI(" ",d.bMT(8,4,"Users.Password.DemoLink")," "))}function at(yt,Oe){if(1&yt&&(d.j41(0,"div")(1,"div",33),d.DNE(2,Ee,9,6,"h2",34),d.j41(3,"app-form-row",16),d.nrm(4,"input",35),d.j41(5,"ul",36)(6,"li"),d.EFF(7),d.nI1(8,"translate"),d.k0s(),d.j41(9,"li"),d.EFF(10),d.nI1(11,"translate"),d.k0s(),d.j41(12,"li"),d.EFF(13),d.nI1(14,"translate"),d.k0s(),d.j41(15,"li"),d.EFF(16),d.nI1(17,"translate"),d.k0s(),d.j41(18,"li"),d.EFF(19),d.nI1(20,"translate"),d.k0s()()()()()),2&yt){const ue=d.XpG();d.R7$(2),d.Y8G("ngIf",ue.isDemo),d.R7$(),d.Y8G("id","Password")("label","Users.Password.Title")("isLast",!0),d.R7$(4),d.JRh(d.bMT(8,9,"Users.Password.Requirements.1")),d.R7$(3),d.JRh(d.bMT(11,11,"Users.Password.Requirements.2")),d.R7$(3),d.JRh(d.bMT(14,13,"Users.Password.Requirements.3")),d.R7$(3),d.JRh(d.bMT(17,15,"Users.Password.Requirements.4")),d.R7$(3),d.JRh(d.bMT(20,17,"Users.Password.Requirements.5"))}}function je(yt,Oe){1&yt&&d.nrm(0,"span",40)}function ot(yt,Oe){1&yt&&d.nrm(0,"span",40)}function Ft(yt,Oe){1&yt&&d.nrm(0,"span",40)}let ft=(()=>{class yt{constructor(ue,q,he,Me,Et,Kt,hn,_n,Zn,_i,fi){this.userService=ue,this.claimTypesService=q,this.errorService=he,this.translate=Me,this.router=Et,this.fb=Kt,this.toastr=hn,this.localize=_n,this.securityService=Zn,this.healthCheckService=_i,this.configService=fi,this.addAnother=!1,this.canCreatePassword=!1,this.isDemo=!1,this.onSubmitted=new d.bkB,this.inFlight=!1,this.addButtonClick=Yt,this.addClicked=Yt.None}keydown(ue){"Enter"===ue.key&&"addUserSubmit"!==ue.srcElement.id&&this.claimsComponent.isFormValid()&&this.addUserForm.valid&&this.addUser()}ngOnInit(){this.createForms(),this.configService.getConfig().pipe((0,Ye.s)(1)).subscribe(ue=>{null!=ue.featureFlagOptions.addUserPassword&&(this.canCreatePassword=!0===ue.featureFlagOptions.addUserPassword),this.isDemo=this.securityService.licenseType===Ut.G.Demo||this.securityService.licenseType===Ut.G.Starter,this.isDemo&&(this.canCreatePassword=!0)}),this.claimTypesService.getClaimTypes(null,null,!0).subscribe(ue=>{this.claimTypes=ue},ue=>{this.errorService.handleError(ue)})}addAnotherUser(){this.addAnother=!0,this.addClicked=Yt.AddAnother,this.addUser()}addUser(ue){let q;this.addClicked===Yt.None&&(this.addClicked=ue?Yt.AddAndConfigure:Yt.Add),q=JSON.parse(JSON.stringify(this.addUserForm.value)),Object.assign(q,{claims:[]});for(const he of this.claimsComponent.requiredClaims){if(null===he.value)continue;let Me=he.value;"DateTime"===he.format&&(Me=he.value),"Int"===he.format&&(Me=Me.toString()),q.claims.push({claimTypeId:he.typeId,value:Me,type:he.type})}!1===this.canCreatePassword&&(q.password=null),this.inFlight=!0,this.userService.addUser(q).subscribe(he=>{this.inFlight=!1,this.addClicked=Yt.None,this.claimsComponent.resetForm(),this.addUserForm.reset();const Me=this.translate.instant("Notifications.AccountCreated"),Et=this.translate.instant("Users.Singular")+" "+q.username+" "+this.translate.instant("Common.Created").toLowerCase();this.toastr.success(Me,Et),ue&&he.headers.get("location")?this.addUserAndConfigure(he.headers.get("location")):(this.addAnother||this.hide(),this.addAnother=!1,this.onSubmitted.emit(!0))},he=>{this.inFlight=!1,this.addClicked=Yt.None,this.addAnother=!1,this.errorService.handleError(he)})}addUserAndConfigure(ue){const q=ue.lastIndexOf("/"),he=ue.substring(q+1),Me=[this.localize.translateRoute("/users"),he];this.router.navigate(Me)}createForms(){this.addUserForm=this.fb.group({username:["",[e.k0.required,(0,Re.Zt)()]],email:["",ht.D],firstName:["",e.k0.required],lastName:["",e.k0.required],password:["",e.k0.pattern("^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$")]})}hide(){this.addUserModal.hide(),this.addUserForm.reset()}show(){this.addUserModal.show()}ngOnDestroy(){this.hide()}static{this.\u0275fac=function(q){return new(q||yt)(d.rXU(ke.D),d.rXU(Tt.X),d.rXU(E.I),d.rXU(C.c$),d.rXU(_.Ix),d.rXU(e.ze),d.rXU(Te.tw),d.rXU(g.QG),d.rXU(we.i),d.rXU(_t.M),d.rXU(m.w))}}static{this.\u0275cmp=d.VBU({type:yt,selectors:[["app-add-user"]],viewQuery:function(q,he){if(1&q&&(d.GBs(Y,7),d.GBs(ee,7)),2&q){let Me;d.mGM(Me=d.lsd())&&(he.claimsComponent=Me.first),d.mGM(Me=d.lsd())&&(he.addUserModal=Me.first)}},hostBindings:function(q,he){1&q&&d.bIt("keydown",function(Et){return he.keydown(Et)},!1,d.EBC)},outputs:{onSubmitted:"onSubmitted"},decls:49,vars:39,consts:[["addUserModal","bs-modal"],["claimsComponent",""],["bsModal","","id","addUserModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","scrollbars"],["autocomplete","off",1,"form",3,"formGroup"],[3,"id","label"],["id","FirstName","type","text","name","FirstName","formControlName","firstName","required","",1,"tw-form-control"],["id","LastName","type","text","name","LastName","formControlName","lastName","required","",1,"tw-form-control"],["id","Username","type","text","name","username","formControlName","username","required","",1,"tw-form-control"],[3,"id","label","isLast"],["id","Email","type","email","name","email","formControlName","email","required","",1,"tw-form-control"],["id","requiredClaimsComponent",3,"claimTypes"],[3,"formGroup"],[4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items"],[1,"tw-mr-auto"],[1,"xs:tw-mr-3"],["type","submit","id","addUserSubmit",1,"tw-btn-success",3,"click","disabled"],["class","fad fa-spinner-third fa-spin tw-text-secondary-500 tw-mr-2 tw-ml-2",4,"ngIf"],[1,"tw-hidden","xs:tw-inline","md:tw-mr-3"],["id","submitAndConfigure",1,"tw-btn-success",3,"click","disabled"],[1,"tw-hidden","md:tw-inline"],["type","submit","id","addUserReSubmit",1,"tw-btn",3,"click","disabled"],[1,"tw-btn-link","tw--mr-4",3,"click"],[1,"tw-bg-red-100","tw-border","tw-border-red-500","tw-text-red-500","tw-mb-4","tw-p-4","tw-overflow-hidden","tw-rounded"],["class","tw-flex items-center tw-bg-red-500 tw-text-white tw-text-sm tw--mx-4 tw--mt-4 tw-mb-3 tw-py-3 tw-px-4",4,"ngIf"],["id","Password","type","password","name","Password","formControlName","password","aria-labelledby","PasswordHelp","required","",1,"tw-form-control","tw-border-red-300"],["id","PasswordHelp",1,"tw-form-text-danger"],[1,"tw-flex","items-center","tw-bg-red-500","tw-text-white","tw-text-sm","tw--mx-4","tw--mt-4","tw-mb-3","tw-py-3","tw-px-4"],["aria-hidden","true",1,"fas","fa-exclamation-triangle","tw-mr-2"],["href","documentation/Users/Set_User_Password.html","target","_blank",1,"tw-text-white","tw-underline","hover:tw-no-underline"],[1,"fad","fa-spinner-third","fa-spin","tw-text-secondary-500","tw-mr-2","tw-ml-2"]],template:function(q,he){if(1&q){const Me=d.RV6();d.j41(0,"div",2,0)(2,"div",3)(3,"div",4)(4,"div",5)(5,"h5",6),d.EFF(6),d.nI1(7,"translate"),d.k0s(),d.j41(8,"button",7),d.bIt("click",function(){return d.eBV(Me),d.Njj(he.hide())}),d.nrm(9,"span",8),d.j41(10,"span",9),d.EFF(11),d.nI1(12,"translate"),d.k0s()()(),d.j41(13,"div",10)(14,"form",11)(15,"app-form-row",12),d.nrm(16,"input",13),d.k0s(),d.j41(17,"app-form-row",12),d.nrm(18,"input",14),d.k0s(),d.j41(19,"app-form-row",12),d.nrm(20,"input",15),d.k0s(),d.j41(21,"app-form-row",16),d.nrm(22,"input",17),d.k0s()(),d.nrm(23,"app-required-claims-form",18,1),d.j41(25,"form",19),d.DNE(26,at,21,19,"div",20),d.k0s()(),d.nrm(27,"div",21),d.j41(28,"div",22)(29,"div",23)(30,"div",24)(31,"span",25)(32,"button",26),d.bIt("click",function(){return d.eBV(Me),d.Njj(he.addUser())}),d.EFF(33),d.nI1(34,"translate"),d.DNE(35,je,1,0,"span",27),d.k0s()(),d.j41(36,"span",28)(37,"button",29),d.bIt("click",function(){return d.eBV(Me),d.Njj(he.addUser(!0))}),d.EFF(38),d.nI1(39,"translate"),d.DNE(40,ot,1,0,"span",27),d.k0s()(),d.j41(41,"span",30)(42,"button",31),d.bIt("click",function(){return d.eBV(Me),d.Njj(he.addAnotherUser())}),d.EFF(43),d.nI1(44,"translate"),d.DNE(45,Ft,1,0,"span",27),d.k0s()()(),d.j41(46,"button",32),d.bIt("click",function(){return d.eBV(Me),d.Njj(he.hide())}),d.EFF(47),d.nI1(48,"translate"),d.k0s()()()()()()}if(2&q){const Me=d.sdS(24);d.Y8G("config",d.lJ4(38,Se)),d.R7$(6),d.JRh(d.bMT(7,26,"Users.NewUser")),d.R7$(5),d.JRh(d.bMT(12,28,"Common.Close")),d.R7$(3),d.Y8G("formGroup",he.addUserForm),d.R7$(),d.Y8G("id","FirstName")("label","Users.FirstName"),d.R7$(2),d.Y8G("id","LastName")("label","Users.LastName"),d.R7$(2),d.Y8G("id","Username")("label","Users.Username"),d.R7$(2),d.Y8G("id","Email")("label","Users.Email")("isLast",!he.canCreatePassword),d.R7$(2),d.Y8G("claimTypes",he.claimTypes),d.R7$(2),d.Y8G("formGroup",he.addUserForm),d.R7$(),d.Y8G("ngIf",he.canCreatePassword),d.R7$(6),d.Y8G("disabled",!he.addUserForm.valid||!Me.isFormValid()||he.inFlight),d.R7$(),d.SpI(" ",d.bMT(34,30,"Common.Save")," "),d.R7$(2),d.Y8G("ngIf",he.inFlight&&he.addClicked===he.addButtonClick.Add),d.R7$(2),d.Y8G("disabled",he.addAnother||!he.addUserForm.valid||!Me.isFormValid()||he.inFlight),d.R7$(),d.SpI(" ",d.bMT(39,32,"Common.SaveAndConfigure")," "),d.R7$(2),d.Y8G("ngIf",he.inFlight&&he.addClicked===he.addButtonClick.AddAndConfigure),d.R7$(2),d.Y8G("disabled",!he.addUserForm.valid||!Me.isFormValid()||he.inFlight),d.R7$(),d.SpI(" ",d.bMT(44,34,"Common.SaveAndAdd")," "),d.R7$(2),d.Y8G("ngIf",he.inFlight&&he.addClicked===he.addButtonClick.AddAnother),d.R7$(2),d.JRh(d.bMT(48,36,"Common.Cancel"))}},dependencies:[n.bT,e.qT,e.me,e.BC,e.cb,e.YS,e.j4,e.JD,S.hZ,rt.Y,X.u,C.D9],encapsulation:2})}}return yt})();const nt=["addUserModal"],Wt=(yt,Oe)=>({"tw-alert":yt,"tw-alert-warning":Oe}),tn=yt=>({limit:yt,type:"users",href:"https://www.identityserver.com/products/adminui/order-now?index=2&name=Enterprise"}),it=(yt,Oe)=>({"fad fa-pencil":yt,"fas fa-eye":Oe});function Ot(yt,Oe){if(1&yt){const ue=d.RV6();d.j41(0,"app-add-user",30,1),d.bIt("onSubmitted",function(he){d.eBV(ue);const Me=d.XpG();return d.Njj(Me.onSubmitted(he))}),d.k0s()}}function ve(yt,Oe){if(1&yt&&(d.j41(0,"div",31),d.nrm(1,"span",32),d.nI1(2,"translate"),d.k0s()),2&yt){const ue=d.XpG();d.Y8G("ngClass",d.l_i(5,Wt,ue.limitReached,ue.overLimit)),d.R7$(),d.Y8G("innerHTML",d.i5U(2,2,"Common.QuotaLimit",d.eq3(8,tn,ue.licenseInfo.maxUsers)),d.npT)}}function ae(yt,Oe){1&yt&&(d.j41(0,"span"),d.nrm(1,"span",33),d.EFF(2),d.nI1(3,"translate"),d.k0s()),2&yt&&(d.R7$(2),d.SpI(" ",d.bMT(3,1,"Auditing.ShowFilters")," "))}function $(yt,Oe){1&yt&&(d.j41(0,"span"),d.nrm(1,"span",34),d.EFF(2),d.nI1(3,"translate"),d.k0s()),2&yt&&(d.R7$(2),d.SpI(" ",d.bMT(3,1,"Auditing.HideFilters")," "))}function se(yt,Oe){if(1&yt){const ue=d.RV6();d.j41(0,"div",38)(1,"label",39),d.EFF(2),d.nI1(3,"translate"),d.k0s(),d.j41(4,"select",40),d.mxI("ngModelChange",function(he){d.eBV(ue);const Me=d.XpG(2);return d.DH7(Me.pageSize,he)||(Me.pageSize=he),d.Njj(he)}),d.bIt("change",function(){d.eBV(ue);const he=d.XpG(2);return d.Njj(he.setPageLength(+he.pageSize))}),d.j41(5,"option",41),d.EFF(6),d.nI1(7,"translate"),d.k0s(),d.j41(8,"option",42),d.EFF(9),d.nI1(10,"translate"),d.k0s(),d.j41(11,"option",43),d.EFF(12),d.nI1(13,"translate"),d.k0s()()()}if(2&yt){const ue=d.XpG(2);d.R7$(2),d.Lme("",ue.pageSize," ",d.bMT(3,6,"Nav.PerPage"),""),d.R7$(2),d.R50("ngModel",ue.pageSize),d.R7$(2),d.SpI("25 ",d.bMT(7,8,"Nav.PerPage"),""),d.R7$(3),d.SpI("50 ",d.bMT(10,10,"Nav.PerPage"),""),d.R7$(3),d.SpI("100 ",d.bMT(13,12,"Nav.PerPage"),"")}}function Ue(yt,Oe){if(1&yt){const ue=d.RV6();d.qex(0,44),d.j41(1,"button",45),d.bIt("click",function(){d.eBV(ue);const he=d.XpG(2);return d.Njj(he.addModal.show())}),d.EFF(2),d.nI1(3,"translate"),d.k0s(),d.bVm()}if(2&yt){const ue=d.XpG(2);d.R7$(),d.Y8G("disabled",ue.limitReached),d.R7$(),d.SpI(" ",d.bMT(3,2,"Users.AddUser")," ")}}function Ze(yt,Oe){if(1&yt&&(d.j41(0,"app-action-bar"),d.qex(1,35),d.DNE(2,se,14,14,"div",36),d.bVm(),d.DNE(3,Ue,4,4,"ng-container",37),d.k0s()),2&yt){const ue=d.XpG();d.R7$(2),d.Y8G("ngIf",(null==ue.pagedResult?null:ue.pagedResult.results.length)>0),d.R7$(),d.Y8G("ngIf",!ue.isUserManagerReadOnly)}}function dt(yt,Oe){1&yt&&d.nrm(0,"app-simple-loader")}function Pt(yt,Oe){1&yt&&(d.j41(0,"div",46)(1,"div"),d.EFF(2),d.nI1(3,"translate"),d.k0s()()),2&yt&&(d.R7$(2),d.JRh(d.bMT(3,1,"Users.NoUsersFound")))}function an(yt,Oe){1&yt&&(d.j41(0,"span",67)(1,"span",9),d.EFF(2),d.nI1(3,"translate"),d.k0s()()),2&yt&&(d.R7$(2),d.JRh(d.bMT(3,1,"Users.Filter.Deleted")))}function un(yt,Oe){1&yt&&(d.j41(0,"span",68)(1,"span",9),d.EFF(2),d.nI1(3,"translate"),d.k0s()()),2&yt&&(d.R7$(2),d.JRh(d.bMT(3,1,"Users.Filter.Blocked")))}function Mn(yt,Oe){1&yt&&(d.j41(0,"span",69),d.EFF(1),d.nI1(2,"translate"),d.k0s()),2&yt&&(d.R7$(),d.SpI(" ",d.bMT(2,1,"Users.Filter.Deleted")," "))}function kn(yt,Oe){1&yt&&(d.j41(0,"span",70),d.EFF(1),d.nI1(2,"translate"),d.k0s()),2&yt&&(d.R7$(),d.SpI(" ",d.bMT(2,1,"Users.Filter.Blocked")," "))}function Bn(yt,Oe){1&yt&&(d.j41(0,"span",9),d.EFF(1),d.nI1(2,"translate"),d.k0s()),2&yt&&(d.R7$(),d.JRh(d.bMT(2,1,"Common.Edit")))}function It(yt,Oe){1&yt&&(d.j41(0,"span",9),d.EFF(1),d.nI1(2,"translate"),d.k0s()),2&yt&&(d.R7$(),d.JRh(d.bMT(2,1,"Common.View")))}function Rn(yt,Oe){if(1&yt){const ue=d.RV6();d.j41(0,"tr",54)(1,"td",55),d.bIt("click",function(){const he=d.eBV(ue).$implicit,Me=d.XpG(2);return d.Njj(Me.viewOrEditUser(he))}),d.DNE(2,an,4,3,"span",56)(3,un,4,3,"span",57),d.j41(4,"b",58),d.EFF(5),d.k0s()(),d.j41(6,"td",59),d.bIt("click",function(){const he=d.eBV(ue).$implicit,Me=d.XpG(2);return d.Njj(Me.viewOrEditUser(he))}),d.EFF(7),d.k0s(),d.j41(8,"td",60),d.bIt("click",function(){const he=d.eBV(ue).$implicit,Me=d.XpG(2);return d.Njj(Me.viewOrEditUser(he))}),d.EFF(9),d.k0s(),d.j41(10,"td",61),d.bIt("click",function(){const he=d.eBV(ue).$implicit,Me=d.XpG(2);return d.Njj(Me.viewOrEditUser(he))}),d.DNE(11,Mn,3,3,"span",62)(12,kn,3,3,"span",63),d.k0s(),d.j41(13,"td",61),d.bIt("click",function(){const he=d.eBV(ue).$implicit,Me=d.XpG(2);return d.Njj(Me.viewOrEditUser(he))}),d.j41(14,"button",64),d.bIt("click",function(){const he=d.eBV(ue).$implicit,Me=d.XpG(2);return d.Njj(Me.viewOrEditUser(he))}),d.nrm(15,"span",65),d.j41(16,"span",9),d.EFF(17),d.nI1(18,"translate"),d.k0s(),d.DNE(19,Bn,3,3,"span",66)(20,It,3,3,"span",66),d.k0s()()()}if(2&yt){const ue=Oe.$implicit,q=d.XpG(2);d.AVh("inactive",ue.isBlocked||ue.isDeleted||q.overLimit),d.R7$(2),d.Y8G("ngIf",ue.isDeleted),d.R7$(),d.Y8G("ngIf",ue.isBlocked&&!ue.isDeleted),d.R7$(2),d.SpI(" ",ue.username," "),d.R7$(2),d.Lme(" ",ue.firstName," ",ue.lastName," "),d.R7$(2),d.SpI(" ",ue.email," "),d.R7$(2),d.Y8G("ngIf",ue.isDeleted),d.R7$(),d.Y8G("ngIf",ue.isBlocked&&!ue.isDeleted),d.R7$(3),d.Y8G("ngClass",d.l_i(16,it,!q.isUserManagerReadOnly&&!q.overLimit,q.isUserManagerReadOnly||q.overLimit)),d.R7$(2),d.JRh(d.bMT(18,14,"Common.Edit")),d.R7$(2),d.Y8G("ngIf",!q.isUserManagerReadOnly&&!q.overLimit),d.R7$(),d.Y8G("ngIf",q.isUserManagerReadOnly||q.overLimit)}}function Ht(yt,Oe){if(1&yt&&(d.j41(0,"table",47)(1,"thead")(2,"tr")(3,"th",48),d.EFF(4),d.nI1(5,"translate"),d.k0s(),d.j41(6,"th",49),d.EFF(7),d.nI1(8,"translate"),d.k0s(),d.j41(9,"th",50),d.EFF(10),d.nI1(11,"translate"),d.k0s(),d.j41(12,"th",51)(13,"span",9),d.EFF(14),d.nI1(15,"translate"),d.k0s()(),d.j41(16,"th",51)(17,"span",9),d.EFF(18),d.nI1(19,"translate"),d.k0s()()()(),d.j41(20,"tbody",52),d.DNE(21,Rn,21,19,"tr",53),d.k0s()()),2&yt){const ue=d.XpG();d.R7$(4),d.SpI(" ",d.bMT(5,6,"Users.Username")," "),d.R7$(3),d.SpI(" ",d.bMT(8,8,"Users.FullName")," "),d.R7$(3),d.SpI(" ",d.bMT(11,10,"Users.Email")," "),d.R7$(4),d.JRh(d.bMT(15,12,"Common.Status")),d.R7$(4),d.JRh(d.bMT(19,14,"Common.Actions")),d.R7$(3),d.Y8G("ngForOf",ue.pagedResult.results)}}function lt(yt,Oe){if(1&yt){const ue=d.RV6();d.j41(0,"app-pager",71),d.bIt("onGoToPage",function(he){d.eBV(ue);const Me=d.XpG();return d.Njj(Me.goToPage(he))}),d.k0s()}if(2&yt){const ue=d.XpG();d.Y8G("totalResults",null==ue.pagedResult?null:ue.pagedResult.totalCount)("currentPage",ue.page)("lastPage",null==ue.pagedResult?null:ue.pagedResult.pageCount)}}let vt=(()=>{class yt extends Pe.if{get limitReached(){return this.licenseInfo?.userLimitReached??!1}get overLimit(){return this.licenseInfo?.overUserLimit??!1}constructor(ue,q,he,Me,Et,Kt,hn,_n,Zn){super(hn,Et,!0),this.router=ue,this.userService=q,this.errorService=he,this.titleService=Me,this.localize=Kt,this.securityService=_n,this.licenseService=Zn,this.activeFilters=["active"],this.activeAdvancedFilters=[],this.pageSize=25,this.page=1,this.term="",this.showAdvancedFilters=!1,this.showingActive=!0,this.showingBlocked=!1,this.showingDeleted=!1,this.filterStream=new L.B,this.advancedFilterStream=new L.B,this.pageStream=new L.B,this.pageSizeStream=new L.B,this.mapSearchTerm=this.mapSearchTerm.bind(this)}ngOnInit(){this.titleService.setTitle(this.translate.instant("Nav.Users")+` - ${_e.$9.SITE_TITLE}`),this.isLoading=!0;const ue=this.pageStream.pipe((0,J.T)(Kt=>(this.page=Kt,{searchTerm:this.term,page:Kt,pageSize:this.pageSize,filters:this.activeFilters}))),q=this.pageSizeStream.pipe((0,J.T)(Kt=>(this.pageSize=Kt,{searchTerm:this.term,page:this.page,pageSize:Kt,filters:this.activeFilters}))),he=this.filterStream.pipe((0,J.T)(Kt=>({searchTerm:this.term,page:this.page,pageSize:this.pageSize,filters:Kt}))),Me=this.advancedFilterStream.pipe((0,J.T)(Kt=>({searchTerm:this.term,page:this.page,pageSize:this.pageSize,filters:this.activeFilters,advancedFilters:Kt})));ue.pipe((0,te.X)(q),(0,te.X)(this.searchSource),(0,te.X)(he),(0,te.X)(Me),(0,te.X)(this.enterKeySource),(0,I.Z)({searchTerm:this.term,page:this.page,pageSize:this.pageSize,filters:this.activeFilters,advancedFilters:this.activeAdvancedFilters}),(0,oe.Z)(Kt=>(this.isLoading=!0,this.userService.getUsersLightweight(Kt.searchTerm,Kt.page,Kt.pageSize,Kt.filters,Kt.advancedFilters).pipe((0,z.c)(200))))).subscribe({next:Kt=>{this.pagedResult=Kt,this.isLoading=!1},error:Kt=>{500===Kt.status?this.handleInternalServerError():this.errorService.handleError(Kt),this.isLoading=!1}}),this.licenseService.getLicenseInfo().pipe((0,f.$)()).subscribe({next:Kt=>{this.licenseInfo=Kt}})}mapSearchTerm(ue){return this.term=ue,{searchTerm:ue,page:1,pageSize:this.pageSize,filters:this.activeFilters,advancedFilters:this.activeAdvancedFilters}}editUser(ue){const q=this.localize.translateRoute("/users");this.router.navigate([q,ue.subject])}viewUser(ue){const q=this.localize.translateRoute("/users/view");this.router.navigate([q,ue.subject])}viewOrEditUser(ue){this.isUserManagerReadOnly||this.overLimit?this.viewUser(ue):this.editUser(ue)}goToPage(ue){this.pageStream.next(ue)}setPageLength(ue){this.page=1,this.pageSizeStream.next(ue)}filter(ue){if(this.activeFilters.includes(ue)){const q=this.activeFilters.indexOf(ue);this.activeFilters.splice(q,1)}else this.activeFilters.push(ue);this.page=1,this.filterStream.next(this.activeFilters)}advancedFilter(ue){if(this.activeAdvancedFilters.includes(ue)){const q=this.activeAdvancedFilters.indexOf(ue);this.activeAdvancedFilters.splice(q,1)}else this.activeAdvancedFilters.push(ue);this.page=1,this.advancedFilterStream.next(this.activeAdvancedFilters)}isShowing(ue){return this.activeFilters.includes(ue)}onSubmitted(ue){ue&&(this.filterStream.next(this.activeFilters),this.advancedFilterStream.next(this.activeAdvancedFilters))}get isUserManagerReadOnly(){return(0,Re.zG)(this.securityService.userPermissions)}handleInternalServerError(){this.toastr.error(this.translate.instant("Users.Filter.StoredProcedureErrorMessage"),this.translate.instant("Notifications.Error"))}static{this.\u0275fac=function(q){return new(q||yt)(d.rXU(_.Ix),d.rXU(ke.D),d.rXU(E.I),d.rXU(Je.hE),d.rXU(C.c$),d.rXU(g.QG),d.rXU(Te.tw),d.rXU(we.i),d.rXU(F.X))}}static{this.\u0275cmp=d.VBU({type:yt,selectors:[["ng-component"]],viewQuery:function(q,he){if(1&q&&d.GBs(nt,5),2&q){let Me;d.mGM(Me=d.lsd())&&(he.addModal=Me.first)}},features:[d.Vt3],decls:46,vars:37,consts:[["searchUserName",""],["addUserModal",""],["id","addUserComponent",3,"onSubmitted",4,"ngIf"],["id","userList",1,"tw-container","tw-mx-auto"],["id","quotaLimitAlert","role","alert","class","tw-mb-4",3,"ngClass",4,"ngIf"],["id","searchContainer",1,"tw-mb-2"],[1,"tw-flex","tw-bg-white","tw-border","tw-border-grey-300","tw-opacity-75","tw-cursor-text","tw-rounded","focus-within:tw-opacity-100","focus-within:tw-border-blue-400","tw-transition-all","tw-ease-in-out"],["for","searchUserName",1,"tw-flex","tw-items-center","tw-text-grey-500","tw-m-0","tw-ml-3"],["aria-hidden","true",1,"far","fa-search","tw-text-sm"],[1,"sr-only"],["id","searchUserName","type","search",1,"tw-bg-transparent","tw-border-0","tw-text-base","tw-leading-tight","tw-px-2","tw-py-2","tw-w-full","focus:tw-outline-none","tw-transition-all","tw-ease-in-out",3,"ngModelChange","keyup","ngModel","placeholder"],["id","showFilterButton","type","button","aria-expanded","showAdvancedFilters",1,"tw-btn-link","tw-btn-small","tw-px-0","mt-2",3,"click"],[4,"ngIf"],["id","toggleFilters","aria-labelledby","showFilterButton",1,"tw-mt-3","tw-mb-6",3,"hidden"],[1,"tw-flex-grid","md:tw-flex-nowrap","mb-3"],[1,"tw-flex-grid-col","md:tw-w-2/3","lg:tw-w-3/5","mt-2","ml-2"],[1,"tw-form-group","tw-mb-0"],[3,"id","label","help","isLast"],[3,"id"],["id","includeClaims","name","includeClaims","type","checkbox",1,"tw-form-switch__input",3,"click"],[1,"tw-flex-grid-col","md:tw-ml-auto","md:tw-w-auto","mb-3","mr-2"],[1,"tw-form-label"],[1,"tw-flex","tw-items-center"],[1,"mr-2"],["id","activeFilter",3,"click","ngClass"],["id","blockedFilter",3,"click","ngClass"],["id","deletedFilter",3,"click","ngClass"],["class","tw-alert","role","alert",4,"ngIf"],["class","datatable selectable hover",4,"ngIf"],[3,"totalResults","currentPage","lastPage","onGoToPage",4,"ngIf"],["id","addUserComponent",3,"onSubmitted"],["id","quotaLimitAlert","role","alert",1,"tw-mb-4",3,"ngClass"],[3,"innerHTML"],["aria-hidden","true",1,"fas","fa-angle-down","tw-mr-1"],["aria-hidden","true",1,"fas","fa-angle-up","tw-mr-1"],["left",""],["class","tw-hidden tw-form-select tw-w-auto sm:tw-block",4,"ngIf"],["right","",4,"ngIf"],[1,"tw-hidden","tw-form-select","tw-w-auto","sm:tw-block"],["for","pageSizeToggle",1,"sr-only"],["id","pageSizeToggle",1,"tw-form-control","tw-form-control-small",3,"ngModelChange","change","ngModel"],["value","25"],["value","50"],["value","100"],["right",""],["id","addUserBtn",1,"tw-btn-success",3,"click","disabled"],["role","alert",1,"tw-alert"],[1,"datatable","selectable","hover"],["id","sortUsername",1,"md:tw-w-1/3","lg:tw-w-1/3"],[1,"tw-hidden","md:tw-table-cell"],[1,"tw-hidden","lg:tw-table-cell"],[1,"tw-w-1"],["id","usersTable"],["class","group userRow",3,"inactive",4,"ngFor","ngForOf"],[1,"group","userRow"],[1,"tw-truncate","tw-max-w-0",3,"click"],["class","fas fa-trash tw-text-red-500 tw-mr-1",4,"ngIf"],["class","fas fa-exclamation-triangle tw-text-orange-500 tw-mr-1",4,"ngIf"],[1,"tw-text-blue-500"],[1,"tw-hidden","tw-truncate","tw-max-w-0","md:tw-table-cell",3,"click"],[1,"tw-hidden","tw-truncate","tw-max-w-0","lg:tw-table-cell",3,"click"],[3,"click"],["class","tw-pill-danger",4,"ngIf"],["class","tw-pill-warning",4,"ngIf"],["id","userTableButton","type","button",1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click"],["id","viewOrEditIcon","aria-hidden","true",3,"ngClass"],["class","sr-only",4,"ngIf"],[1,"fas","fa-trash","tw-text-red-500","tw-mr-1"],[1,"fas","fa-exclamation-triangle","tw-text-orange-500","tw-mr-1"],[1,"tw-pill-danger"],[1,"tw-pill-warning"],[3,"onGoToPage","totalResults","currentPage","lastPage"]],template:function(q,he){if(1&q){const Me=d.RV6();d.DNE(0,Ot,2,0,"app-add-user",2),d.j41(1,"div",3),d.DNE(2,ve,3,10,"div",4),d.j41(3,"div",5)(4,"div",6)(5,"label",7),d.nrm(6,"span",8),d.j41(7,"span",9),d.EFF(8),d.nI1(9,"translate"),d.k0s()(),d.j41(10,"input",10,0),d.nI1(12,"translate"),d.mxI("ngModelChange",function(Kt){return d.eBV(Me),d.DH7(he.searchTerm,Kt)||(he.searchTerm=Kt),d.Njj(Kt)}),d.bIt("keyup",function(Kt){return d.eBV(Me),d.Njj(he.search(Kt))}),d.k0s()(),d.j41(13,"button",11),d.bIt("click",function(){return d.eBV(Me),d.Njj(he.showAdvancedFilters=!he.showAdvancedFilters)}),d.DNE(14,ae,4,3,"span",12)(15,$,4,3,"span",12),d.k0s(),d.j41(16,"div",13)(17,"div",14)(18,"div",15)(19,"div",16)(20,"app-form-row",17)(21,"app-form-toggle",18)(22,"input",19),d.bIt("click",function(){return d.eBV(Me),d.Njj(he.advancedFilter("claims"))}),d.k0s()()()()(),d.j41(23,"div",20)(24,"p",21),d.EFF(25),d.nI1(26,"translate"),d.k0s(),d.j41(27,"ul",22)(28,"li",23)(29,"button",24),d.bIt("click",function(){return d.eBV(Me),d.Njj(he.filter("active"))}),d.EFF(30),d.nI1(31,"translate"),d.k0s()(),d.j41(32,"li",23)(33,"button",25),d.bIt("click",function(){return d.eBV(Me),d.Njj(he.filter("blocked"))}),d.EFF(34),d.nI1(35,"translate"),d.k0s()(),d.j41(36,"li")(37,"button",26),d.bIt("click",function(){return d.eBV(Me),d.Njj(he.filter("deleted"))}),d.EFF(38),d.nI1(39,"translate"),d.k0s()()()()(),d.nrm(40,"hr"),d.k0s()(),d.DNE(41,Ze,4,2,"app-action-bar",12)(42,dt,1,0,"app-simple-loader",12)(43,Pt,4,3,"div",27)(44,Ht,22,16,"table",28)(45,lt,1,3,"app-pager",29),d.k0s()}2&q&&(d.Y8G("ngIf",!he.isUserManagerReadOnly),d.R7$(2),d.Y8G("ngIf",he.limitReached),d.R7$(6),d.JRh(d.bMT(9,25,"Common.Search")),d.R7$(2),d.FS9("placeholder",d.bMT(12,27,"Users.SearchPlaceholder")),d.R50("ngModel",he.searchTerm),d.R7$(4),d.Y8G("ngIf",!he.showAdvancedFilters),d.R7$(),d.Y8G("ngIf",he.showAdvancedFilters),d.R7$(),d.Y8G("hidden",!he.showAdvancedFilters),d.R7$(4),d.Y8G("id","includeClaims")("label","Users.Filter.IncludeClaims")("help","Users.Filter.IncludeClaimsHelp")("isLast",!0),d.R7$(),d.Y8G("id","includeClaims"),d.R7$(4),d.JRh(d.bMT(26,29,"Auditing.Showing")),d.R7$(4),d.Y8G("ngClass",he.isShowing("active")?"tw-btn":"tw-btn-link"),d.R7$(),d.SpI(" ",d.bMT(31,31,"Users.Filter.Active")," "),d.R7$(3),d.Y8G("ngClass",he.isShowing("blocked")?"tw-btn":"tw-btn-link"),d.R7$(),d.SpI(" ",d.bMT(35,33,"Users.Filter.Blocked")," "),d.R7$(3),d.Y8G("ngClass",he.isShowing("deleted")?"tw-btn":"tw-btn-link"),d.R7$(),d.SpI(" ",d.bMT(39,35,"Users.Filter.Deleted")," "),d.R7$(3),d.Y8G("ngIf",!he.isLoading),d.R7$(),d.Y8G("ngIf",he.isLoading),d.R7$(),d.Y8G("ngIf",(null==he.pagedResult?null:he.pagedResult.results.length)<1&&!he.isLoading),d.R7$(),d.Y8G("ngIf",(null==he.pagedResult?null:he.pagedResult.results.length)>0&&!he.isLoading),d.R7$(),d.Y8G("ngIf",(null==he.pagedResult?null:he.pagedResult.results.length)>0&&!he.isLoading))},dependencies:[n.YU,n.Sq,n.bT,e.xH,e.y7,e.me,e.wz,e.BC,e.vS,de.B,Ve.n,Ae.d,rt.Y,Be.m,ft,C.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return yt})();const mt=()=>["active"];function kt(yt,Oe){1&yt&&(d.j41(0,"ul",10),d.nI1(1,"translate"),d.j41(2,"li",11)(3,"button",12),d.EFF(4),d.nI1(5,"translate"),d.k0s()(),d.j41(6,"li",11)(7,"button",13),d.EFF(8),d.nI1(9,"translate"),d.k0s()()()),2&yt&&(d.BMQ("aria-label",d.bMT(1,5,"Nav.SubMenu")),d.R7$(3),d.Y8G("routerLinkActive",d.lJ4(11,mt)),d.R7$(),d.JRh(d.bMT(5,7,"Nav.Users")),d.R7$(3),d.Y8G("routerLinkActive",d.lJ4(12,mt)),d.R7$(),d.JRh(d.bMT(9,9,"Nav.SessionManagement")))}let nn=(()=>{class yt{constructor(ue,q,he){this.r=ue,this.route=q,this.configService=he}ngOnInit(){this.configService.getConfig().subscribe(ue=>{this.showSessionManagement=ue.featureFlagOptions.sessionManagementEnabled})}mobRoute(ue){this.r.navigate([ue],{relativeTo:this.route})}static{this.\u0275fac=function(q){return new(q||yt)(d.rXU(_.Ix),d.rXU(_.nX),d.rXU(m.w))}}static{this.\u0275cmp=d.VBU({type:yt,selectors:[["app-users-nav"]],decls:21,vars:17,consts:[[3,"hasTabs","title"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","list"],["value","sessions"],["class","tabs tw-hidden md:tw-flex","role","tablist",4,"ngIf"],["id","userRoutes"],["role","tablist",1,"tabs","tw-hidden","md:tw-flex"],[1,"tabs__item"],["type","button","routerLink","list","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","sessions","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"]],template:function(q,he){1&q&&(d.j41(0,"app-title-bar",0),d.nI1(1,"translate"),d.qex(2,1),d.j41(3,"div",2)(4,"label",3),d.EFF(5),d.nI1(6,"translate"),d.k0s(),d.j41(7,"div",4)(8,"select",5),d.bIt("change",function(Et){return he.mobRoute(Et.target.value)}),d.j41(9,"option",6),d.EFF(10),d.nI1(11,"translate"),d.k0s(),d.j41(12,"option",6),d.EFF(13),d.nI1(14,"translate"),d.k0s(),d.j41(15,"option",7),d.EFF(16),d.nI1(17,"translate"),d.k0s()()()(),d.DNE(18,kt,10,13,"ul",8),d.bVm(),d.k0s(),d.j41(19,"div",9),d.nrm(20,"router-outlet"),d.k0s()),2&q&&(d.Y8G("hasTabs",!0)("title",d.bMT(1,7,"Nav.Users")),d.R7$(5),d.JRh(d.bMT(6,9,"Nav.SubMenu")),d.R7$(5),d.SpI("",d.bMT(11,11,"Nav.SubMenu"),"..."),d.R7$(3),d.JRh(d.bMT(14,13,"Nav.Users")),d.R7$(3),d.JRh(d.bMT(17,15,"Nav.SessionManagement")),d.R7$(2),d.Y8G("ngIf",he.showSessionManagement))},dependencies:[_.n3,_.Wk,_.wQ,n.bT,e.xH,e.y7,w.z,C.D9],encapsulation:2})}}return yt})();const Tn=(yt,Oe)=>({title:yt,link:Oe}),Ln=yt=>[yt],dn=()=>["active"];function li(yt,Oe){1&yt&&(d.j41(0,"span",24),d.EFF(1),d.nI1(2,"translate"),d.k0s()),2&yt&&(d.R7$(),d.SpI(" ",d.bMT(2,1,"Users.Filter.Blocked")," "))}function ci(yt,Oe){1&yt&&(d.j41(0,"option",25),d.EFF(1),d.nI1(2,"translate"),d.k0s()),2&yt&&(d.R7$(),d.JRh(d.bMT(2,1,"Nav.Audits")))}function Rt(yt,Oe){1&yt&&(d.j41(0,"span",28)(1,"span",29),d.EFF(2),d.nI1(3,"translate"),d.k0s(),d.nrm(4,"span",30),d.k0s()),2&yt&&(d.R7$(2),d.JRh(d.bMT(3,1,"StarterMode.RequiresUpgrade")))}function ut(yt,Oe){if(1&yt&&(d.j41(0,"li",15)(1,"button",26),d.EFF(2),d.nI1(3,"translate"),d.DNE(4,Rt,5,3,"span",27),d.k0s()()),2&yt){const ue=d.XpG();d.R7$(),d.Y8G("routerLinkActive",d.lJ4(5,dn)),d.R7$(),d.SpI(" ",d.bMT(3,3,"Nav.Audits")," "),d.R7$(2),d.Y8G("ngIf",ue.licenseInfo.isStarterLicense())}}function Nt(yt,Oe){1&yt&&(d.j41(0,"div",31)(1,"p"),d.EFF(2),d.nI1(3,"translate"),d.nI1(4,"translate"),d.k0s()()),2&yt&&(d.R7$(2),d.Lme("",d.bMT(3,2,"Users.Delete.DeletedUser")," ",d.bMT(4,4,"Users.Delete.AuditingPurposes"),""))}let $t=(()=>{class yt{constructor(ue,q,he,Me,Et){this.route=ue,this.router=q,this.errorService=he,this.licenseService=Me,this.configService=Et,this.enableAuditing=!1}ngOnInit(){this.userDataSubscription=this.route.data.subscribe(ue=>{this.user=ue.user},ue=>{this.errorService.handleError(ue)}),this.licenseService.getLicenseInfo().pipe((0,f.$)()).subscribe({next:ue=>{this.licenseInfo=ue}}),this.configService.getConfig().pipe((0,f.$)()).subscribe({next:ue=>{this.enableAuditing=ue.enableAuditing}})}mobRoute(ue){this.router.navigate([ue],{relativeTo:this.route})}ngOnDestroy(){this.userDataSubscription.unsubscribe()}static{this.\u0275fac=function(q){return new(q||yt)(d.rXU(_.nX),d.rXU(_.Ix),d.rXU(E.I),d.rXU(F.X),d.rXU(m.w))}}static{this.\u0275cmp=d.VBU({type:yt,selectors:[["ng-component"]],decls:57,vars:66,consts:[[3,"title","crumbs","hasTabs","isReadOnly"],["badge",""],["class","tw-pill-warning tw-mr-2",4,"ngIf"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","details"],["value","roles"],["value","additionaldetails"],["value","applications"],["value","userlogins"],["value","useraudits",4,"ngIf"],["role","tablist",1,"tabs","tw-hidden","md:tw-flex"],[1,"tabs__item"],["type","button","routerLink","details","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","roles","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","additionaldetails","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","applications","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","userlogins","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["class","tabs__item",4,"ngIf"],["id","viewUser"],["id","userDeleted","class","tw-alert-danger tw-container tw-mx-auto tw-mb-6",4,"ngIf"],[1,"tw-pill-warning","tw-mr-2"],["value","useraudits"],["id","tabAudit","type","button","routerLink","useraudits","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","upgradeSymbol",4,"ngIf"],["id","upgradeSymbol"],[1,"sr-only"],["aria-hidden","true",1,"tw-text-secondary-500","far","fa-arrow-alt-circle-up","tw-pl-1"],["id","userDeleted",1,"tw-alert-danger","tw-container","tw-mx-auto","tw-mb-6"]],template:function(q,he){1&q&&(d.j41(0,"app-title-bar",0),d.nI1(1,"translate"),d.nI1(2,"localize"),d.qex(3,1),d.DNE(4,li,3,3,"span",2),d.bVm(),d.qex(5,3),d.j41(6,"div",4)(7,"label",5),d.EFF(8),d.nI1(9,"translate"),d.k0s(),d.j41(10,"div",6)(11,"select",7),d.bIt("change",function(Et){return he.mobRoute(Et.target.value)}),d.j41(12,"option",8),d.EFF(13),d.nI1(14,"translate"),d.k0s(),d.j41(15,"option",8),d.EFF(16),d.nI1(17,"translate"),d.k0s(),d.j41(18,"option",9),d.EFF(19),d.nI1(20,"translate"),d.k0s(),d.j41(21,"option",10),d.EFF(22),d.nI1(23,"translate"),d.k0s(),d.j41(24,"option",11),d.EFF(25),d.nI1(26,"translate"),d.k0s(),d.j41(27,"option",12),d.EFF(28),d.nI1(29,"translate"),d.k0s(),d.DNE(30,ci,3,3,"option",13),d.k0s()()(),d.j41(31,"ul",14),d.nI1(32,"translate"),d.j41(33,"li",15)(34,"button",16),d.EFF(35),d.nI1(36,"translate"),d.k0s()(),d.j41(37,"li",15)(38,"button",17),d.EFF(39),d.nI1(40,"translate"),d.k0s()(),d.j41(41,"li",15)(42,"button",18),d.EFF(43),d.nI1(44,"translate"),d.k0s()(),d.j41(45,"li",15)(46,"button",19),d.EFF(47),d.nI1(48,"translate"),d.k0s()(),d.j41(49,"li",15)(50,"button",20),d.EFF(51),d.nI1(52,"translate"),d.k0s()(),d.DNE(53,ut,5,6,"li",21),d.k0s(),d.bVm(),d.k0s(),d.j41(54,"div",22),d.DNE(55,Nt,5,6,"div",23),d.nrm(56,"router-outlet"),d.k0s()),2&q&&(d.Y8G("title",he.user.firstName+" "+he.user.lastName)("crumbs",d.eq3(59,Ln,d.l_i(56,Tn,d.bMT(1,26,"Nav.Users"),d.bMT(2,28,"/users"))))("hasTabs",!0)("isReadOnly",!0),d.R7$(4),d.Y8G("ngIf",he.user.isBlocked),d.R7$(4),d.JRh(d.bMT(9,30,"Nav.SubMenu")),d.R7$(5),d.SpI("",d.bMT(14,32,"Nav.SubMenu"),"..."),d.R7$(3),d.JRh(d.bMT(17,34,"Nav.Details")),d.R7$(3),d.JRh(d.bMT(20,36,"Nav.Roles")),d.R7$(3),d.JRh(d.bMT(23,38,"Nav.Additional Details")),d.R7$(3),d.JRh(d.bMT(26,40,"Nav.Applications")),d.R7$(3),d.JRh(d.bMT(29,42,"Nav.External Logins")),d.R7$(2),d.Y8G("ngIf",he.enableAuditing),d.R7$(),d.BMQ("aria-label",d.bMT(32,44,"Nav.SubMenu")),d.R7$(3),d.Y8G("routerLinkActive",d.lJ4(61,dn)),d.R7$(),d.JRh(d.bMT(36,46,"Nav.Details")),d.R7$(3),d.Y8G("routerLinkActive",d.lJ4(62,dn)),d.R7$(),d.JRh(d.bMT(40,48,"Nav.Roles")),d.R7$(3),d.Y8G("routerLinkActive",d.lJ4(63,dn)),d.R7$(),d.JRh(d.bMT(44,50,"Nav.Additional Details")),d.R7$(3),d.Y8G("routerLinkActive",d.lJ4(64,dn)),d.R7$(),d.JRh(d.bMT(48,52,"Nav.Applications")),d.R7$(3),d.Y8G("routerLinkActive",d.lJ4(65,dn)),d.R7$(),d.JRh(d.bMT(52,54,"Nav.External Logins")),d.R7$(2),d.Y8G("ngIf",he.enableAuditing),d.R7$(2),d.Y8G("ngIf",he.user.isDeleted))},dependencies:[_.n3,_.Wk,_.wQ,n.bT,w.z,C.D9,g.tl],encapsulation:2})}}return yt})();var zt=u(3178),yn=u(5358),vn=u(3218),zn=u(2892),An=u(4811),mn=u(4446),ui=u(4814);const gi=[{path:"users",component:nn,children:[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:vt},{path:"sessions",component:yn.Z,canActivate:[vn.O]}],canActivate:[zn.h,mn._],data:{permissions:[zt.a[zt.a.UserManager],zt.a[zt.a.UserManagerReadOnly],zt.a[zt.a.AllReadOnly],zt.a[zt.a.All]]}},{path:"users/:Id",component:le,loadChildren:()=>Promise.all([u.e(76),u.e(866)]).then(u.bind(u,866)).then(yt=>yt.EditUsersModule),resolve:{user:An.M},canActivate:[zn.h,mn._,ui.y],data:{permissions:[zt.a[zt.a.UserManager],zt.a[zt.a.All]]}},{path:"users/view/:Id",loadChildren:()=>Promise.all([u.e(76),u.e(855)]).then(u.bind(u,4855)).then(yt=>yt.ViewUserModule),component:$t,canActivate:[zn.h,mn._],resolve:{user:An.M},data:{permissions:[zt.a[zt.a.UserManager],zt.a[zt.a.UserManagerReadOnly],zt.a[zt.a.AllReadOnly],zt.a[zt.a.All]]}}];let ni=(()=>{class yt{static{this.\u0275fac=function(q){return new(q||yt)}}static{this.\u0275mod=d.$C({type:yt})}static{this.\u0275inj=d.G2t({imports:[_.iI.forChild(gi),g.XE.forChild(gi),_.iI]})}}return yt})();var Bi=u(1683),Xn=u(2571),wi=u(5663),pi=u(9475),Hi=u(367),ji=u(5731),Si=u(4193),tt=u(3665),Dt=u(7175),Ct=u(8389),rn=u(6599),Qt=u(3730),In=u(7677);let St=(()=>{class yt{static{this.\u0275fac=function(q){return new(q||yt)}}static{this.\u0275mod=d.$C({type:yt})}static{this.\u0275inj=d.G2t({providers:[An.M,wi.Q],imports:[ni,n.MD,e.YN,e.X1,S.Q_,Bi.Y,C.h,Xn.A,v.Ss,g.XE,pi.F,Hi.m,ji.i,Si.c,tt.t,Dt.c,Ct.w,rn.Y,_.iI,yn.Z,Qt.ClaimTypesModule,In.N]})}}return yt})()},3497:(qe,me,u)=>{"use strict";u.d(me,{E:()=>n});let n=(()=>{class e{static{this.Default="clientId"}static{this.Saml="entityId"}static{this.WsFed="realm"}}return e})()},4595:(qe,me,u)=>{"use strict";u.d(me,{I:()=>e});var n=u(6701);class e{static{this.RestrictedClientTypes=[n.s.ServerSide,n.s.ServerSidePKCE,n.s.Native,n.s.NativePKCE,n.s.Device,n.s.Saml,n.s.WsFed,n.s.LegacyClientSide]}}},4861:(qe,me,u)=>{"use strict";u.d(me,{M:()=>n});let n=(()=>{class e{static{this.DefaultAdministratorUsername="info@rocksolidknowledge.com"}}return e})()},6026:(qe,me,u)=>{"use strict";u.d(me,{R:()=>n});let n=(()=>{class e{static{this.Id="wizard-modal"}static{this.TileId="wizard-title"}static{this.DescriptionId="wizard-description"}}return e})()},5358:(qe,me,u)=>{"use strict";u.d(me,{Z:()=>Se});var n=u(9417),e=u(1583),_=u(4549),g=u(1626),S=u(7263),v=u(4438),f=u(9564);let d=(()=>{class Ee{constructor(je,ot){this.http=je,this.headersService=ot,this.actionUrl="ServerSideSession",this.headers=this.headersService.setHeaders()}buildParams(je,ot,Ft,ft,nt,Wt,tn){let it=new g.Nl;return null!=je&&(it=it.append("query",je)),(0,S.gP)(ft)||(it=it.append("sort",ft)),ot&&(it=it.append("created",ot)),Ft&&(it=it.append("expires",Ft)),nt&&(it=it.append("page",String(nt))),Wt&&(it=it.append("pageSize",String(Wt))),tn&&(it=it.append("filterExpired",String(tn))),it}getSessions(je,ot,Ft,ft,nt,Wt,tn){const it=this.buildParams(je,ot,Ft,ft,nt,Wt,tn);return this.http.get(this.actionUrl,{headers:this.headers,params:it})}deleteSession(je){return this.http.delete(`${this.actionUrl}/${je}`,{headers:this.headers})}static{this.\u0275fac=function(ot){return new(ot||Ee)(v.KVO(g.Qq),v.KVO(f.m))}}static{this.\u0275prov=v.jDH({token:Ee,factory:Ee.\u0275fac})}}return Ee})();var E=u(177),m=u(1780),F=u(5731),w=u(1683),C=u(1413),R=u(8359),x=u(7175),O=u(1594),H=u(9172),M=u(1397),V=u(6599),U=u(8251),G=u(8577),ie=u(4252),le=u(4367),L=u(1258),J=u(7185),te=u(2390);class I{constructor(at,je,ot,Ft,ft,nt){this.query=at,this.page=je,this.pageSize=ot,this.sortCriteria=Ft,this.fromDate=ft,this.toDate=nt}}class oe{constructor(at){this.query=at.query,this.page=at.page,this.pageSize=at.pageSize,this.sortCriteria=at.sortCriteria,this.fromDate=at.fromDate?.toString(),this.toDate=at.toDate?.toString()}}var z=function(Ee){return Ee.ByUser="user",Ee.ByUserDescending="-user",Ee.ByScheme="scheme",Ee.BySchemeDescending="-scheme",Ee.ByCreated="created",Ee.ByCreatedDescending="-created",Ee.ByExpires="expires",Ee.ByExpiresDescending="-expires",Ee.ByRenewed="renewed",Ee.ByRenewedDescending="-renewed",Ee}(z||{}),_e=u(923),Pe=u(7005),Re=u(9812),ke=u(4754),Je=u(7883),Te=u(5424),we=u(3488),de=u(7156),Ve=u(7384),Ae=u(6536),rt=u(3899);const Be=Ee=>[Ee];function ht(Ee,at){1&Ee&&(v.j41(0,"span",34),v.EFF(1),v.nI1(2,"translate"),v.k0s()),2&Ee&&(v.R7$(),v.SpI(" ",v.bMT(2,1,"Auditing.FromDateWarning")," "))}function Ye(Ee,at){1&Ee&&(v.j41(0,"span",35),v.EFF(1),v.nI1(2,"translate"),v.k0s()),2&Ee&&(v.R7$(),v.SpI(" ",v.bMT(2,1,"Auditing.ToDateBehindWarning")," "))}function Yt(Ee,at){1&Ee&&(v.j41(0,"div",32)(1,"div",36)(2,"div",37)(3,"div",38),v.nrm(4,"input",39,2),v.nI1(6,"translate"),v.nI1(7,"translate"),v.k0s()()()()),2&Ee&&(v.R7$(4),v.BMQ("placeholder",v.bMT(6,2,"Auditing.FilterTermPlaceholder"))("aria-label",v.bMT(7,4,"Auditing.AddFilterTerm")))}function Ut(Ee,at){1&Ee&&(v.j41(0,"p",40),v.nrm(1,"span",41),v.EFF(2),v.nI1(3,"translate"),v.k0s()),2&Ee&&(v.R7$(2),v.SpI(" ",v.bMT(3,1,"Auditing.UpdateWarning")," "))}function Tt(Ee,at){1&Ee&&v.nrm(0,"app-simple-loader")}function _t(Ee,at){1&Ee&&(v.j41(0,"div",42)(1,"div"),v.EFF(2),v.nI1(3,"translate"),v.k0s()()),2&Ee&&(v.R7$(2),v.JRh(v.bMT(3,1,"SessionManagement.NoSessionsFound")))}function X(Ee,at){if(1&Ee&&v.nrm(0,"app-data-table-column",48),2&Ee){const je=v.XpG(2);v.Y8G("prop","user")("title","Auditing.Subject")("link","resourceLink")("headClasses","tw-hidden xs:tw-table-cell lg:tw-w-1/4")("sort",je.sortingEnum.None)}}function Y(Ee,at){if(1&Ee&&(v.j41(0,"app-data-table",43),v.DNE(1,X,1,5,"app-data-table-column",44),v.nrm(2,"app-data-table-column",45)(3,"app-data-table-column",46)(4,"app-data-table-column",47)(5,"app-data-table-column",46),v.k0s()),2&Ee){const je=v.XpG();v.Y8G("rows",je.pagedResult.results)("actions",je.dataTableActions),v.R7$(),v.Y8G("ngIf",!je.resourceOnly()),v.R7$(),v.Y8G("prop","scheme")("title","SessionManagement.Scheme")("headClasses","tw-hidden tw-w-32 md:tw-table-cell xl:tw-w-40"),v.R7$(),v.Y8G("prop","created")("title","SessionManagement.Created")("headClasses","tw-hidden tw-w-32 md:tw-table-cell xl:tw-w-40")("date",je.dateColumn(je.DatePipeNames.prettyDateTime)),v.R7$(),v.Y8G("prop","expires")("title","SessionManagement.Expires")("headClasses","tw-hidden tw-w-32 md:tw-table-cell xl:tw-w-40")("date",je.dateColumn(je.DatePipeNames.prettyDateTime,"SessionManagement.NoExpiration"))("sort",je.sortingEnum.Descending),v.R7$(),v.Y8G("prop","renewed")("title","SessionManagement.Renewed")("headClasses","tw-hidden tw-w-32 md:tw-table-cell xl:tw-w-40")("date",je.dateColumn(je.DatePipeNames.prettyDateTime,"SessionManagement.NotRenewed"))}}function ee(Ee,at){if(1&Ee){const je=v.RV6();v.j41(0,"app-pager",49),v.bIt("onGoToPage",function(Ft){v.eBV(je);const ft=v.XpG();return v.Njj(ft.goToPage(Ft))}),v.k0s()}if(2&Ee){const je=v.XpG();v.Y8G("totalResults",null==je.pagedResult?null:je.pagedResult.totalCount)("currentPage",je.filterForm.get("page").value)("lastPage",null==je.pagedResult?null:je.pagedResult.pageCount)}}let Se=(()=>{class Ee{resourceOnly(){return!(0,S.gP)(this.resourceName)}constructor(je,ot,Ft,ft,nt,Wt,tn,it,Ot,ve){this.sessionManagementService=je,this.localizeRouter=ot,this.router=Ft,this.fb=ft,this.activatedRoute=nt,this.dataTableService=Wt,this.modalService=tn,this.securityService=it,this.errorService=Ot,this.systemClock=ve,this.isLoading=!1,this.sortingEnum=te.uy,this.filterHasChanged=!1,this.sessionStream=new C.B,this.dateColumn=(ae,$)=>new G.$(ae,$),this.DatePipeNames=_e.N,this.dataTableActions=[ie.AA.Delete],this.deleteModalId="SessionManagement",this.modelActions=L.N,this.deleteModalType=J.q.Warning,this.resourceName="",this.dataTableServiceSubscriptions=new R.yU}ngOnDestroy(){this.dataTableServiceSubscriptions.unsubscribe()}userManagerReadOnly(){return(0,S.zG)(this.securityService.userPermissions)}ngOnInit(){this.translatedRoute=this.buildTranslatedRoute(),this.dataTableActions=this.userManagerReadOnly()?[]:[ie.AA.Delete],this.activatedRoute.parent.url.pipe((0,O.$)()).subscribe({next:je=>{this.resourceName=je[1]?.path??"",this.initDataSource()},error:je=>this.errorService.handleError(je)}),this.dataTableServiceSubscriptions.add(this.dataTableService.sortColumnEvent.subscribe(je=>{this.sortResults(je)})),this.dataTableServiceSubscriptions.add(this.dataTableService.deleteRowEvent.subscribe(je=>{this.openDeleteModal(this.pagedResult.results[je])}))}initDataSource(){this.setupFilterForm(this.activatedRoute.snapshot.queryParams),this.sessionStream.pipe((0,H.Z)({query:this.filterForm.value.query,fromDate:this.filterForm.value.fromDate??this.systemClock.now().minus({month:1}).toString(),toDate:this.filterForm.value.toDate??this.systemClock.now().plus({month:1}).toString(),sortCriteria:this.filterForm.value.sortCriteria,page:this.filterForm.value.page,pageSize:this.filterForm.value.pageSize}),(0,M.Z)(ot=>(this.isLoading=!0,this.sessionManagementService.getSessions(ot.query||"",ot.fromDate?.toString(),ot.toDate?.toString(),ot.sortCriteria||"-when",ot.page,ot.pageSize,this.resourceOnly())))).subscribe(ot=>{this.isLoading=!1,this.pagedResult={totalCount:ot.totalCount,pageSize:ot.pageSize,currentPage:ot.currentPage,pageCount:ot.pageCount,results:ot.results.map(Ft=>new te.j2(Ft,this.translatedRoute))}})}applyForm(je){je&&this.filterForm.patchValue({page:1}),this.resourceOnly()&&this.filterForm.patchValue({query:this.resourceName});const ot=this.filterForm.value;this.filterForm.patchValue({fromDate:ot.fromDate,toDate:ot.toDate}),this.sessionStream.next(ot),this.router.navigate([this.router.url.split("?")[0]],{queryParams:new oe(this.filterForm.value)}),this.filterHasChanged=!1}goToPage(je){this.filterForm.patchValue({page:je}),this.applyForm(!1)}buildTranslatedRoute(){return this.userManagerReadOnly()?`${this.localizeRouter.translateRoute("/users/view")}`:`${this.localizeRouter.translateRoute("/users")}`}resetForm(){this.filterForm.setValue({fromDate:this.systemClock.now().minus({month:1}).toString(),toDate:this.systemClock.now().plus({month:1}).toString(),query:this.resourceName??"",page:1,pageSize:25,sortCriteria:z.ByExpiresDescending}),this.filterHasChanged=!1,this.applyForm(!0)}openDeleteModal(je){this.sessionToDelete=je,this.modalService.showById(this.deleteModalId,null)}closeDeleteModal(){this.sessionToDelete=null,this.modalService.hideById(this.deleteModalId)}removeSession(){if(null==this.sessionToDelete)throw new Error("Delete called without target");this.delete()}delete(){this.sessionManagementService.deleteSession(this.sessionToDelete.sessionId).subscribe({next:()=>{this.sessionToDelete=null,this.applyForm(!1),this.closeDeleteModal()},error:je=>{this.errorService.handleError(je)}})}sortResults(je){const ot=this.activatedRoute.snapshot.queryParams,Ft=(0,S.gP)(ot?.fromDate)?this.systemClock.now().minus({month:1}):_.c9.fromISO(ot.fromDate),ft=(0,S.gP)(ot?.toDate)?this.systemClock.now().plus({month:1}):_.c9.fromISO(ot.toDate),nt=new I(ot.query,ot.page,ot.pageSize,this.getSortFromColumnName(je.prop,ot.sortCriteria),Ft,ft),Wt=this.filterHasChanged;this.filterForm.patchValue({sortCriteria:nt.sortCriteria}),this.sessionStream.next(nt),this.filterHasChanged=Wt,this.router.navigate([this.router.url.split("?")[0]],{queryParams:new oe(nt)}),this.dataTableService.sortCompletedEvent.next(je.prop)}getSortFromColumnName(je,ot){switch(je){case"user":return ot===z.ByUserDescending?z.ByUser:z.ByUserDescending;case"expires":return ot===z.ByExpiresDescending?z.ByExpires:z.ByExpiresDescending;default:return z.ByExpiresDescending}}setupFilterForm(je){const ot=(0,S.gP)(je?.fromDate)?this.systemClock.now().minus({month:1}):_.c9.fromISO(je.fromDate),Ft=(0,S.gP)(je?.toDate)?this.systemClock.now().plus({month:1}):_.c9.fromISO(je.toDate);this.filterForm=this.fb.nonNullable.group({fromDate:[ot,[S.TO]],toDate:[Ft],query:[this.resourceName||""],page:[je?.page||1],pageSize:[je?.pageSize>1e3?1e3:je?.pageSize||25],sortCriteria:[je?.sortCriteria||z.ByExpiresDescending]},{validators:S.$N}),this.filterForm.valueChanges.subscribe(()=>{this.filterHasChanged=!0})}static{this.\u0275fac=function(ot){return new(ot||Ee)(v.rXU(d),v.rXU(Pe.QG),v.rXU(e.Ix),v.rXU(n.ok),v.rXU(e.nX),v.rXU(Re.I),v.rXU(ke.B),v.rXU(Je.i),v.rXU(Te.I),v.rXU(we.F))}}static{this.\u0275cmp=v.VBU({type:Ee,selectors:[["app-sessionmanagement"]],standalone:!0,features:[v.Jv_([d]),v.aNF],decls:56,vars:42,consts:[["pageLength",""],["sortCriteria",""],["filterValue",""],["id","sessionList",1,"tw-container","tw-mx-auto"],[1,"",3,"formGroup"],[1,"tw-border-b","tw-border-grey-200","tw-mb-4","tw-pb-5"],[1,"tw-flex-grid","tw-mb-3","lg:tw-flex-nowrap"],[1,"tw-flex-grid-col","xs:tw-w-1/2","lg:tw-w-1/3"],[1,"tw-form-group","tw-mb-0"],["for","fromDate",1,"tw-form-label"],["id","fromDate","name","fromDate","formControlName","fromDate","aria-describedby","toErrorLabel",3,"displayType"],["id","fromErrorLabel","class","tw-form-text-danger",4,"ngIf"],["for","toDate",1,"tw-form-label"],["id","toDate","name","toDate","formControlName","toDate","aria-describedby","toErrorLabel",3,"displayType"],["id","toErrorLabel","class","tw-form-text-danger",4,"ngIf"],[1,"tw-flex-grid-col","tw-w-40","tw-ml-auto"],["for","pageSize",1,"tw-form-label"],[1,"tw-form-select"],["id","pageSize","formControlName","pageSize",1,"tw-form-control"],[3,"value"],["class","tw-mb-4",4,"ngIf"],[1,"tw-flex","tw-flex-wrap","tw-items-center"],["type","hidden"],["id","applyBtn",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],[1,"tw-btn-link","tw-mr-3",3,"click"],["class","tw-pill-warning tw-my-2",4,"ngIf"],[4,"ngIf"],["class","tw-alert","role","alert",4,"ngIf"],[3,"rows","actions",4,"ngIf"],[3,"totalResults","currentPage","lastPage","onGoToPage",4,"ngIf"],[3,"onCancel","onDelete","title","modalId","actions","modalType"],[1,"tw-text-center"],[1,"tw-mb-4"],[1,"tw-pill-danger",3,"innerHTML"],["id","fromErrorLabel",1,"tw-form-text-danger"],["id","toErrorLabel",1,"tw-form-text-danger"],["aria-labelledby","showFilterButton",1,"tw-mt-3","tw-mb-6"],[1,"tw-flex-grid","md:tw-flex-nowrap"],[1,"tw-flex-grid-col","tw-flex","xs:tw-w-3/5","sm:tw-w-1/2"],["formControlName","query","id","filterTerm","type","text","autocomplete","off",1,"tw-form-control","tw-border-r-1"],[1,"tw-pill-warning","tw-my-2"],["aria-hidden","true",1,"fas","fa-info-circle","tw-mr-1"],["role","alert",1,"tw-alert"],[3,"rows","actions"],[3,"prop","title","link","headClasses","sort",4,"ngIf"],[3,"prop","title","headClasses"],[3,"prop","title","headClasses","date"],[3,"prop","title","headClasses","date","sort"],[3,"prop","title","link","headClasses","sort"],[3,"onGoToPage","totalResults","currentPage","lastPage"]],template:function(ot,Ft){if(1&ot){const ft=v.RV6();v.j41(0,"div",3)(1,"form",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"div",8)(6,"label",9),v.EFF(7),v.nI1(8,"translate"),v.k0s(),v.j41(9,"div"),v.nrm(10,"app-date-time",10),v.DNE(11,ht,3,3,"span",11),v.k0s()()(),v.j41(12,"div",7)(13,"div",8)(14,"label",12),v.EFF(15),v.nI1(16,"translate"),v.k0s(),v.j41(17,"div"),v.nrm(18,"app-date-time",13),v.DNE(19,Ye,3,3,"span",14),v.k0s()()(),v.j41(20,"div",15)(21,"div",8)(22,"label",16),v.EFF(23),v.nI1(24,"translate"),v.k0s(),v.j41(25,"div",17)(26,"select",18,0)(28,"option",19),v.EFF(29,"25 "),v.k0s(),v.j41(30,"option",19),v.EFF(31,"50"),v.k0s(),v.j41(32,"option",19),v.EFF(33,"100"),v.k0s()()()()()(),v.DNE(34,Yt,8,6,"div",20),v.j41(35,"div",21),v.nrm(36,"input",22,1),v.j41(38,"button",23),v.bIt("click",function(){return v.eBV(ft),v.Njj(Ft.applyForm(!0))}),v.EFF(39),v.nI1(40,"translate"),v.k0s(),v.j41(41,"button",24),v.bIt("click",function(){return v.eBV(ft),v.Njj(Ft.resetForm())}),v.EFF(42),v.nI1(43,"translate"),v.k0s(),v.DNE(44,Ut,4,3,"p",25),v.k0s()()(),v.DNE(45,Tt,1,0,"app-simple-loader",26)(46,_t,4,3,"div",27)(47,Y,6,19,"app-data-table",28)(48,ee,1,3,"app-pager",29),v.k0s(),v.j41(49,"app-custom-modal",30),v.bIt("onCancel",function(){return v.eBV(ft),v.Njj(Ft.closeDeleteModal())})("onDelete",function(){return v.eBV(ft),v.Njj(Ft.removeSession())}),v.j41(50,"div",31)(51,"p",32),v.EFF(52),v.nI1(53,"translate"),v.k0s(),v.nrm(54,"p",33),v.nI1(55,"translate"),v.k0s()()}if(2&ot){let ft;v.R7$(),v.Y8G("formGroup",Ft.filterForm),v.R7$(6),v.JRh(v.bMT(8,26,"SessionManagement.Created")),v.R7$(3),v.Y8G("displayType","datetime"),v.R7$(),v.Y8G("ngIf",Ft.filterForm.get("fromDate").hasError("dateInFuture")),v.R7$(4),v.JRh(v.bMT(16,28,"SessionManagement.Expires")),v.R7$(3),v.Y8G("displayType","datetime"),v.R7$(),v.Y8G("ngIf",Ft.filterForm.hasError("fromDateIsAfterToDate")),v.R7$(4),v.JRh(v.bMT(24,30,"Auditing.ResultsPerPage")),v.R7$(5),v.Y8G("value",25),v.R7$(2),v.Y8G("value",50),v.R7$(2),v.Y8G("value",100),v.R7$(2),v.Y8G("ngIf",!Ft.resourceOnly()),v.R7$(4),v.Y8G("disabled",(null==Ft.filterForm?null:Ft.filterForm.errors)||(null==(ft=Ft.filterForm.get("fromDate"))?null:ft.hasError("dateInFuture"))),v.R7$(),v.SpI(" ",v.bMT(40,32,"Auditing.ExecuteAndDisplay")," "),v.R7$(3),v.SpI(" ",v.bMT(43,34,"Auditing.Reset")," "),v.R7$(2),v.Y8G("ngIf",Ft.filterHasChanged),v.R7$(),v.Y8G("ngIf",Ft.isLoading),v.R7$(),v.Y8G("ngIf",(null==Ft.pagedResult?null:Ft.pagedResult.results.length)<1&&!Ft.isLoading),v.R7$(),v.Y8G("ngIf",(null==Ft.pagedResult?null:Ft.pagedResult.results.length)>0),v.R7$(),v.Y8G("ngIf",(null==Ft.pagedResult?null:Ft.pagedResult.results.length)>0&&!Ft.isLoading),v.R7$(),v.Y8G("title","Settings.Keys.DeleteKey")("modalId",Ft.deleteModalId)("actions",v.eq3(40,Be,Ft.modelActions.Delete))("modalType",Ft.deleteModalType),v.R7$(3),v.JRh(v.bMT(53,36,"Common.Delete.AreYouSureSimple")),v.R7$(2),v.Y8G("innerHTML",v.bMT(55,38,"Common.Delete.Warning"),v.npT)}},dependencies:[E.MD,E.bT,m.h,m.D9,e.iI,F.i,de.B,w.Y,x.c,Ve.d,n.X1,n.qT,n.xH,n.y7,n.me,n.wz,n.BC,n.cb,n.j4,n.JD,V.Y,Ae.Z,U.h,ie.up,G.w,le.N,rt.G],encapsulation:2})}}return Ee})()},2390:(qe,me,u)=>{"use strict";u.d(me,{j2:()=>e,uy:()=>n});var n=function(g){return g[g.None=0]="None",g[g.Ascending=1]="Ascending",g[g.Descending=2]="Descending",g}(n||{});class e{get routeLink(){return`${this.link.routeForLink}/${this.link.identifier}`}constructor(S,v){this.sort=n.None,this.sessionId=S.sessionId,this.scheme=S.scheme,this.created=S.created,this.expires=S.expires,this.renewed=S.renewed,this.user=S.user.name??S.user.identifier,this.link={identifier:S.user.identifier,routeForLink:v}}}},5517:(qe,me,u)=>{"use strict";u.d(me,{H:()=>f});var n=u(1594),e=u(6354),_=u(4438),g=u(3853),S=u(1583),v=u(7005);let f=(()=>{class d{constructor(m,F,w){this.licenseService=m,this.router=F,this.localizeRouter=w}canActivate(m,F){return this.licenseService.getLicenseInfo().pipe((0,n.$)(),(0,e.T)(w=>{if(w.isStarterLicense())return!0;{const C=this.localizeRouter.translateRoute("/home");this.router.navigate([C])}}))}static{this.\u0275fac=function(F){return new(F||d)(_.KVO(g.X),_.KVO(S.Ix),_.KVO(v.QG))}}static{this.\u0275prov=_.jDH({token:d,factory:d.\u0275fac})}}return d})()},4446:(qe,me,u)=>{"use strict";u.d(me,{_:()=>f});var n=u(1594),e=u(6354),_=u(4438),g=u(3853),S=u(1583),v=u(7005);let f=(()=>{class d{constructor(m,F,w){this.licenseService=m,this.router=F,this.localizeRouter=w}canActivate(m,F){return this.licenseService.getLicenseInfo().pipe((0,n.$)(),(0,e.T)(w=>{if(!w.isExpectingStarterConsent())return!0;{const C=this.localizeRouter.translateRoute("/starter-mode/consent");this.router.navigate([C])}}))}static{this.\u0275fac=function(F){return new(F||d)(_.KVO(g.X),_.KVO(S.Ix),_.KVO(v.QG))}}static{this.\u0275prov=_.jDH({token:d,factory:d.\u0275fac})}}return d})()},6923:(qe,me,u)=>{"use strict";u.d(me,{q:()=>d});var n=u(1594),e=u(6354),_=u(6976),g=u(4438),S=u(3853),v=u(1583),f=u(7005);let d=(()=>{class E{constructor(F,w,C){this.licenseService=F,this.router=w,this.localizeRouter=C,this.featureMap=new Map([["dynamic-auth",_.p.DynamicAuthentication],["auditing",_.p.Auditing],["clientaudits",_.p.Auditing],["useraudits",_.p.Auditing]])}canActivate(F,w){return this.licenseService.getLicenseInfo().pipe((0,n.$)(),(0,e.T)(C=>{if(!C.isStarterLicense())return!0;{const R=this.localizeRouter.translateRoute("/starter-mode/teaser");let x=_.p.None,O=w.url;for(let H of this.featureMap.entries())if(O.includes(H[0])){x=H[1];break}this.router.navigate([R],{queryParams:{feature:x}})}}))}static{this.\u0275fac=function(w){return new(w||E)(g.KVO(S.X),g.KVO(v.Ix),g.KVO(f.QG))}}static{this.\u0275prov=g.jDH({token:E,factory:E.\u0275fac})}}return E})()},9962:(qe,me,u)=>{"use strict";u.d(me,{m:()=>E});var n=u(1594),e=u(6354),_=u(7380),g=u(4438),S=u(3853),v=u(5794),f=u(1780),d=u(1583);let E=(()=>{class m extends _.Q{constructor(w,C,R,x){super(x),this.licenseService=w,this.toastr=C,this.tranlate=R}canActivate(w,C){return this.licenseService.getLicenseInfo().pipe((0,n.$)(),(0,e.T)(R=>{if(!R.overClientLimit)return!0;{const x=this.tranlate.instant("Nav.Clients"),O=this.tranlate.instant("StarterMode.Nav.QuotaLimitExceededEditGuardTitle",{resources:x}),H=this.tranlate.instant("StarterMode.Nav.QuotaLimitExceededEditGuardMsg",{resources:x});this.toastr.warning(H,O,{timeOut:1e4}),super.redirectToView(w,C)}}))}static{this.\u0275fac=function(C){return new(C||m)(g.KVO(S.X),g.KVO(v.tw),g.KVO(f.c$),g.KVO(d.Ix))}}static{this.\u0275prov=g.jDH({token:m,factory:m.\u0275fac})}}return m})()},4814:(qe,me,u)=>{"use strict";u.d(me,{y:()=>E});var n=u(1594),e=u(6354),_=u(7380),g=u(4438),S=u(3853),v=u(5794),f=u(1780),d=u(1583);let E=(()=>{class m extends _.Q{constructor(w,C,R,x){super(x),this.licenseService=w,this.toastr=C,this.tranlate=R}canActivate(w,C){return this.licenseService.getLicenseInfo().pipe((0,n.$)(),(0,e.T)(R=>{if(!R.overUserLimit)return!0;{const x=this.tranlate.instant("Nav.Clients"),O=this.tranlate.instant("StarterMode.Nav.QuotaLimitExceededEditGuardTitle",{resources:x}),H=this.tranlate.instant("StarterMode.Nav.QuotaLimitExceededEditGuardMsg",{resources:x});this.toastr.warning(H,O,{timeOut:1e4}),super.redirectToView(w,C)}}))}static{this.\u0275fac=function(C){return new(C||m)(g.KVO(S.X),g.KVO(v.tw),g.KVO(f.c$),g.KVO(d.Ix))}}static{this.\u0275prov=g.jDH({token:m,factory:m.\u0275fac})}}return m})()},9624:(qe,me,u)=>{"use strict";u.r(me),u.d(me,{StarterModeModule:()=>we});var n=u(1583),e=u(1780),_=u(779),g=u(7005),S=u(6976),v=u(4438),f=u(3680),d=u(6406);let E=(()=>{class de{constructor(Ae,rt,Be){this.route=Ae,this.translate=rt,this.router=Be,this.featureMap=new Map([[S.p.DynamicAuthentication,this.translate.instant("DynamicAuth.Title.Generic")],[S.p.Auditing,this.translate.instant("Auditing.Title")],[S.p.ImportExportClients,this.translate.instant("Clients.Import.ImportExportClients")],[S.p.ExtraClientFlows,this.translate.instant("StarterMode.Clients.ExtraClientFlows")]])}ngOnInit(){this.generateDescription(),this.router.events.subscribe(Ae=>{this.generateDescription()})}generateDescription(){const Ae=+this.route.snapshot.queryParamMap.get("feature");if(Ae in S.p&&Ae!=S.p.None){const Be=this.translate.instant("StarterMode.Teaser.RedirectedDescription").split("{0}");this.featureDescription=this.featureMap.get(Ae),this.preFeatureDescription=Be[0],this.postFeatureDescription=Be[1]}else this.preFeatureDescription=this.translate.instant("StarterMode.Teaser.Description")}static{this.\u0275fac=function(rt){return new(rt||de)(v.rXU(n.nX),v.rXU(e.c$),v.rXU(n.Ix))}}static{this.\u0275cmp=v.VBU({type:de,selectors:[["ng-component"]],decls:40,vars:33,consts:[[3,"title"],["id","StarterModeAgreement",1,"tw-container","mx-auto"],[1,"cms"],["id","description"],[1,"tw-list-disc","tw-list-inside","tw-indent-8"],["id","UpgradeAdminUI","href","https://www.identityserver.com/products/adminui/order-now?index=2&name=Enterprise","target","_blank",1,"tw-btn-success","tw-mr-3","tw-mb-3"],["id","ExtendDemo","href","mailto:support@identityserver.com?subject=Extend my AdminUI demo license",1,"tw-btn","tw-mr-3","tw-mb-3"]],template:function(rt,Be){1&rt&&(v.nrm(0,"app-title-bar",0),v.nI1(1,"translate"),v.j41(2,"div",1)(3,"div",2)(4,"p",3),v.EFF(5),v.j41(6,"strong"),v.EFF(7),v.k0s(),v.EFF(8),v.k0s(),v.j41(9,"ul",4)(10,"li"),v.EFF(11),v.nI1(12,"translate"),v.k0s(),v.j41(13,"li"),v.EFF(14),v.nI1(15,"translate"),v.k0s(),v.j41(16,"li"),v.EFF(17),v.nI1(18,"translate"),v.k0s(),v.j41(19,"li"),v.EFF(20),v.nI1(21,"translate"),v.k0s(),v.j41(22,"li"),v.EFF(23),v.nI1(24,"translate"),v.k0s(),v.j41(25,"li"),v.EFF(26),v.nI1(27,"translate"),v.k0s(),v.j41(28,"li"),v.EFF(29),v.nI1(30,"translate"),v.k0s()()()(),v.j41(31,"app-button-bar")(32,"a",5)(33,"span"),v.EFF(34),v.nI1(35,"translate"),v.k0s()(),v.j41(36,"a",6)(37,"span"),v.EFF(38),v.nI1(39,"translate"),v.k0s()()()),2&rt&&(v.Y8G("title",v.bMT(1,13,"StarterMode.Teaser.Title")),v.R7$(5),v.SpI("",Be.preFeatureDescription," "),v.R7$(2),v.JRh(Be.featureDescription),v.R7$(),v.SpI(" ",Be.postFeatureDescription,""),v.R7$(3),v.JRh(v.bMT(12,15,"StarterMode.Teaser.Features.Authentication")),v.R7$(3),v.JRh(v.bMT(15,17,"StarterMode.Teaser.Features.UsersAndClients")),v.R7$(3),v.JRh(v.bMT(18,19,"StarterMode.Teaser.Features.ExtraClientFlows")),v.R7$(3),v.JRh(v.bMT(21,21,"StarterMode.Teaser.Features.Audits")),v.R7$(3),v.JRh(v.bMT(24,23,"StarterMode.Teaser.Features.Access")),v.R7$(3),v.JRh(v.bMT(27,25,"StarterMode.Teaser.Features.Import")),v.R7$(3),v.JRh(v.bMT(30,27,"StarterMode.Teaser.Features.DynamicAuth")),v.R7$(5),v.JRh(v.bMT(35,29,"StarterMode.UpgradeAdminUI")),v.R7$(4),v.JRh(v.bMT(39,31,"StarterMode.ExtendDemo")))},dependencies:[f.z,d.z,e.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return de})();var m=u(1594),F=u(3178),w=u(7773),C=u(1626),R=u(9564);let x=(()=>{class de{constructor(Ae,rt){this.http=Ae,this.headersService=rt,this.headers=new C.Lr,this.actionUrl="StarterMode",this.headers=rt.setHeaders()}storeConsent(){return this.http.put(this.actionUrl,null,{headers:this.headers}).pipe()}static{this.\u0275fac=function(rt){return new(rt||de)(v.KVO(C.Qq),v.KVO(R.m))}}static{this.\u0275prov=v.jDH({token:de,factory:de.\u0275fac})}}return de})();var O=u(5794),H=u(1339),M=u(9196),V=u(177),U=u(8114);function G(de,Ve){1&de&&(v.j41(0,"div",15)(1,"p",16)(2,"span"),v.EFF(3),v.nI1(4,"translate"),v.k0s()()()),2&de&&(v.R7$(3),v.JRh(v.bMT(4,1,"StarterMode.Consent.NonAdminUser")))}let ie=(()=>{class de{constructor(Ae,rt,Be,ht,Ye,Yt){this.translate=Ae,this.permissionService=rt,this.starterModeConsentService=Be,this.toastr=ht,this.authService=Ye,this.configService=Yt}ngOnInit(){this.permissionService.getUserPermissions().pipe((0,m.$)()).subscribe({next:Ae=>this.isAdmin=Ae.permissions.includes(F.a.All)}),this.configService.getConfig().pipe((0,m.$)()).subscribe({next:Ae=>this.starterModePersistance=Ae.starterModePersistence})}giveConsentToStarterMode(){this.isAdmin&&this.starterModeConsentService.storeConsent().pipe((0,m.$)()).subscribe({next:()=>{this.authService.logoff()},error:Ae=>{this.toastr.error(this.translate.instant("Notifications.StarterModeFailed"),this.translate.instant("Notifications.SomethingWrong"))}})}openStartModeNoPersistranceDocs(){window.open("https://docs.openiddictcomponents.com/adminui/Configuration_and_Integration/Miogrationless_Config#StarterMode","_blank")}static{this.\u0275fac=function(rt){return new(rt||de)(v.rXU(e.c$),v.rXU(w.n),v.rXU(x),v.rXU(O.tw),v.rXU(H.u),v.rXU(M.w))}}static{this.\u0275cmp=v.VBU({type:de,selectors:[["ng-component"]],decls:57,vars:56,consts:[["confirmStarterModeModal",""],["confirmStarterModeDocsModal",""],[3,"title"],["id","StarterModeAgreement",1,"tw-container","mx-auto"],["id","nonAdminUserWarning",4,"ngIf"],[1,"cms"],[1,"tw-list-disc","tw-list-inside","tw-indent-8"],["id","UpgradeAdminUI","href","https://www.identityserver.com/products/adminui/order-now?index=2&name=Enterprise","target","_blank",1,"tw-btn-success","tw-mr-3","tw-mb-3"],["id","confirmStarterModeBtn","data-toggle","modal",1,"tw-btn","tw-mr-3","tw-mb-3",3,"click","disabled"],["id","ExtendDemo","href","mailto:support@identityserver.com?subject=Extend my AdminUI demo license",1,"tw-btn-link","tw-mr-3","tw-mb-3"],[3,"confirm","modalId","type","buttonType","title","okText"],["body",""],[1,"tw-mb-4"],[1,"tw-pill-danger",3,"innerHTML"],[3,"confirm","modalId","buttonType","title","okText"],["id","nonAdminUserWarning"],["role","alert",1,"tw-alert-warning","tw-mb-4"]],template:function(rt,Be){if(1&rt){const ht=v.RV6();v.nrm(0,"app-title-bar",2),v.nI1(1,"translate"),v.j41(2,"div",3),v.DNE(3,G,5,3,"div",4),v.j41(4,"div",5)(5,"p"),v.EFF(6),v.nI1(7,"translate"),v.k0s(),v.j41(8,"ul",6)(9,"li"),v.EFF(10),v.nI1(11,"translate"),v.k0s(),v.j41(12,"li"),v.EFF(13),v.nI1(14,"translate"),v.k0s(),v.j41(15,"li"),v.EFF(16),v.nI1(17,"translate"),v.k0s(),v.j41(18,"li"),v.EFF(19),v.nI1(20,"translate"),v.k0s(),v.j41(21,"li"),v.EFF(22),v.nI1(23,"translate"),v.k0s(),v.j41(24,"li"),v.EFF(25),v.nI1(26,"translate"),v.k0s(),v.j41(27,"li"),v.EFF(28),v.nI1(29,"translate"),v.k0s()()()(),v.j41(30,"app-button-bar")(31,"a",7)(32,"span"),v.EFF(33),v.nI1(34,"translate"),v.k0s()(),v.j41(35,"button",8),v.bIt("click",function(){v.eBV(ht);const Yt=v.sdS(44),Ut=v.sdS(52);return v.Njj(Be.starterModePersistance?Yt.show():Ut.show())}),v.j41(36,"span"),v.EFF(37),v.nI1(38,"translate"),v.k0s()(),v.j41(39,"a",9)(40,"span"),v.EFF(41),v.nI1(42,"translate"),v.k0s()()(),v.j41(43,"app-confirmation-modal",10,0),v.bIt("confirm",function(){return v.eBV(ht),v.Njj(Be.giveConsentToStarterMode())}),v.qex(45,11),v.j41(46,"p",12),v.EFF(47),v.nI1(48,"translate"),v.k0s(),v.nrm(49,"p",13),v.nI1(50,"translate"),v.bVm(),v.k0s(),v.j41(51,"app-confirmation-modal",14,1),v.bIt("confirm",function(){return v.eBV(ht),v.Njj(Be.openStartModeNoPersistranceDocs())}),v.qex(53,11),v.j41(54,"p",12),v.EFF(55),v.nI1(56,"translate"),v.k0s(),v.bVm(),v.k0s()}2&rt&&(v.Y8G("title",v.bMT(1,26,"StarterMode.Consent.Title")),v.R7$(3),v.Y8G("ngIf",!Be.isAdmin),v.R7$(3),v.JRh(v.bMT(7,28,"StarterMode.Consent.Description")),v.R7$(4),v.JRh(v.bMT(11,30,"StarterMode.Consent.Features.Authentication")),v.R7$(3),v.JRh(v.bMT(14,32,"StarterMode.Consent.Features.Users")),v.R7$(3),v.JRh(v.bMT(17,34,"StarterMode.Consent.Features.Clients")),v.R7$(3),v.JRh(v.bMT(20,36,"StarterMode.Consent.Features.ClientFlows")),v.R7$(3),v.JRh(v.bMT(23,38,"StarterMode.Consent.Features.Import")),v.R7$(3),v.JRh(v.bMT(26,40,"StarterMode.Consent.Features.Audits")),v.R7$(3),v.JRh(v.bMT(29,42,"StarterMode.Consent.Features.DynamicAuth")),v.R7$(5),v.JRh(v.bMT(34,44,"StarterMode.UpgradeAdminUI")),v.R7$(2),v.Y8G("disabled",!Be.isAdmin),v.R7$(2),v.JRh(v.bMT(38,46,"StarterMode.ConfirmStarterMode")),v.R7$(4),v.JRh(v.bMT(42,48,"StarterMode.ExtendDemo")),v.R7$(2),v.Y8G("modalId","confirmStarterModeModal")("type","danger")("buttonType","danger")("title","StarterMode.ConfirmationModal.Title")("okText","Common.Confirm"),v.R7$(4),v.JRh(v.bMT(48,50,"StarterMode.ConfirmationModal.Description")),v.R7$(2),v.Y8G("innerHTML",v.bMT(50,52,"StarterMode.ConfirmationModal.Warning"),v.npT),v.R7$(2),v.Y8G("modalId","confirmStarterModeDocsModal")("buttonType",null)("title","StarterMode.ConfirmationModal.Title")("okText","Common.Documentation"),v.R7$(4),v.JRh(v.bMT(56,54,"StarterMode.ConfirmationModal.DescriptionDocs")))},dependencies:[V.bT,f.z,d.z,U.B,e.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return de})();var le=u(5517),L=u(2892),J=u(6354),te=u(3853);let I=(()=>{class de{constructor(Ae,rt,Be){this.licenseService=Ae,this.router=rt,this.localizeRouter=Be}canActivate(Ae,rt){return this.licenseService.getLicenseInfo().pipe((0,m.$)(),(0,J.T)(Be=>{if(Be.isExpectingStarterConsent())return!0;{const ht=this.localizeRouter.translateRoute("/home");this.router.navigate([ht])}}))}static{this.\u0275fac=function(rt){return new(rt||de)(v.KVO(te.X),v.KVO(n.Ix),v.KVO(g.QG))}}static{this.\u0275prov=v.jDH({token:de,factory:de.\u0275fac})}}return de})();var oe=u(4446);const z=[{path:"starter-mode/teaser",component:E,canActivate:[L.h,oe._,le.H]},{path:"starter-mode/consent",component:ie,canActivate:[L.h,I]}];let _e=(()=>{class de{static{this.\u0275fac=function(rt){return new(rt||de)}}static{this.\u0275mod=v.$C({type:de})}static{this.\u0275inj=v.G2t({providers:[le.H],imports:[n.iI.forChild(z),g.XE.forChild(z),n.iI]})}}return de})();var Pe=u(9962),Re=u(4814),ke=u(367),Je=u(1993),Te=u(4367);let we=(()=>{class de{static{this.\u0275fac=function(rt){return new(rt||de)}}static{this.\u0275mod=v.$C({type:de})}static{this.\u0275inj=v.G2t({providers:[x,I,le.H,Pe.m,Re.y],imports:[n.iI,_e,e.h,ke.m,_.Q_,Je.E,Te.N]})}}return de})()},7921:(qe,me,u)=>{"use strict";u.d(me,{b:()=>e});var n=u(1746);class e{constructor(g){Object.keys(g).forEach(v=>{this[v]=e.toReadOnlyValue(g[v])})}}(e||(e={})).toReadOnlyValue=function g(S){let v=S;return"boolean"==typeof S&&(v=v?"Yes":"No"),S instanceof Date&&(v=v?"Yes":"No"),S instanceof Array&&(v=S.join(", ").trimEnd()),new n.w(v)}},4866:(qe,me,u)=>{"use strict";u.d(me,{A:()=>e});var e,n=u(3806);!function(_){const g=new Map([[n.u.Minute,60],[n.u.Minutes,60],[n.u.Hour,3600],[n.u.Hours,3600],[n.u.Day,86400],[n.u.Days,86400],[n.u.Week,604800],[n.u.Weeks,604800],[n.u.Month,2629743],[n.u.Months,2629743],[n.u.Year,31556926],[n.u.Years,31556926],[n.u.Unlimited,null]]);_.getUnitMap=function S(){return g}}(e||(e={}))},6303:(qe,me,u)=>{"use strict";u.d(me,{t:()=>n});var n=function(e){return e[e.Single=0]="Single",e[e.Multi=1]="Multi",e[e.CommaSeparated=2]="CommaSeparated",e[e.LifetimePicker=3]="LifetimePicker",e}(n||{})},1746:(qe,me,u)=>{"use strict";u.d(me,{w:()=>n});class n{constructor(_,g){this.MainText=_,this.HelpText=g??null}}},1927:(qe,me,u)=>{"use strict";u.d(me,{K:()=>n});var n=function(e){return e.Jwt="Jwt",e.Reference="Reference",e}(n||{})},6701:(qe,me,u)=>{"use strict";u.d(me,{s:()=>n});var n=function(e){return e.Unknown="Unknown",e.ServerSide="ServerSide",e.Machine="Machine",e.CIBAMachine="CIBAMachine",e.Native="Native",e.Device="Device",e.Saml="Saml",e.WsFed="WsFed",e.BrowserBased="BrowserBased",e.LegacyClientSide="LegacyClientSide",e.ServerSidePKCE="ServerSidePKCE",e.NativePKCE="NativePKCE",e}(n||{})},3806:(qe,me,u)=>{"use strict";u.d(me,{u:()=>n});var n=function(e){return e.Minute="Minute",e.Minutes="Minutes",e.Hour="Hour",e.Hours="Hours",e.Day="Day",e.Days="Days",e.Week="Week",e.Weeks="Weeks",e.Month="Month",e.Months="Months",e.Year="Year",e.Years="Years",e.Unlimited="Unlimited",e.Global="Global",e}(n||{})},6976:(qe,me,u)=>{"use strict";u.d(me,{p:()=>n});var n=function(e){return e[e.None=0]="None",e[e.DynamicAuthentication=1]="DynamicAuthentication",e[e.Auditing=2]="Auditing",e[e.ImportExportClients=3]="ImportExportClients",e[e.ExtraClientFlows=4]="ExtraClientFlows",e}(n||{})},6772:(qe,me,u)=>{"use strict";u.d(me,{H:()=>n});var n=function(e){return e.Sliding="Sliding",e.Absolute="Absolute",e}(n||{})},78:(qe,me,u)=>{"use strict";u.d(me,{B:()=>n});var n=function(e){return e.ReUse="ReUse",e.OneTimeOnly="OneTimeOnly",e}(n||{})},9988:(qe,me,u)=>{"use strict";u.d(me,{$:()=>n});var n=function(e){return e.Home="Home",e.SinglePageApplication="SinglePageApplication",e.WebApplication="WebApplication",e.NativeApplication="NativeApplication",e.RobotApplication="RobotApplication",e.CIBARobotApplication="CIBARobotApplication",e.DeviceApplication="DeviceApplication",e.SamlApplication="SamlApplication",e.WsFedApplication="WsFedApplication",e.LegacySinglePageApplication="LegacySinglePageApplication",e.PKCEWebApplication="PKCEWebApplication",e.PKCENativeApplication="PKCENativeApplication",e.ImportWizard="ImportWizard",e.AddDynamicAuth="AddDynamicAuth",e.AddOidcDynamicAuth="AddOidcDynamicAuth",e.AddSamlDynamicAuth="AddSamlDynamicAuth",e.AddOpenIddictScope="AddOpenIddictScope",e.ScopeResources="ScopeResources",e}(n||{})},9957:(qe,me,u)=>{"use strict";u.d(me,{I:()=>n});var n=function(e){return e[e.NotHandled=0]="NotHandled",e[e.Toast=1]="Toast",e[e.Navigate=2]="Navigate",e}(n||{})},1410:(qe,me,u)=>{"use strict";u.d(me,{y:()=>n});var n=function(e){return e.Duende="Duende",e.OpenIddict="OpenIddict",e}(n||{})},4589:(qe,me,u)=>{"use strict";u.d(me,{G:()=>n});var n=function(e){return e[e.None=0]="None",e.Production="Production",e.NonProduction="Non-Production",e.Demo="Demo",e.Starter="Starter",e}(n||{})},8284:(qe,me,u)=>{"use strict";u.d(me,{v:()=>n});var n=function(e){return e[e.user=0]="user",e[e.role=1]="role",e[e.claimType=2]="claimType",e[e.client=3]="client",e[e.identityResource=4]="identityResource",e[e.protectedResource=5]="protectedResource",e[e.serviceProvider=6]="serviceProvider",e[e.relyingParty=7]="relyingParty",e[e.dynamicAuth=8]="dynamicAuth",e[e.scope=9]="scope",e}(n||{})},4491:(qe,me,u)=>{"use strict";u.d(me,{$:()=>n});let n=(()=>{class e{static{this.Implicit="implicit"}static{this.Hybrid="hybrid"}static{this.AuthorizationCode="authorization_code"}static{this.ClientCredentials="client_credentials"}static{this.ResourceOwnerPassword="password"}static{this.Device="urn:ietf:params:oauth:grant-type:device_code"}static{this.CIBA="urn:openid:params:grant-type:ciba"}}return e})()},1258:(qe,me,u)=>{"use strict";u.d(me,{N:()=>n});var n=function(e){return e.Save="Save",e.SaveAndReAdd="SaveAndReAdd",e.Delete="Delete",e}(n||{})},7185:(qe,me,u)=>{"use strict";u.d(me,{q:()=>n});var n=function(e){return e.Default="Default",e.Warning="Warning",e}(n||{})},3178:(qe,me,u)=>{"use strict";u.d(me,{a:()=>n});var n=function(e){return e.None="None",e.UserManager="UserManager",e.UserManagerReadOnly="UserManagerReadOnly",e.IdentityServerManager="IdentityServerManager",e.IdentityServerManagerReadOnly="IdentityServerManagerReadOnly",e.Auditer="Auditer",e.AllReadOnly="AllReadOnly",e.All="All",e}(n||{})},785:(qe,me,u)=>{"use strict";u.d(me,{z:()=>e});var n=u(9838);class e{constructor(){this.description="",this.value="",this.expiration=null,this.created=null,this.type=(new n.S9).SharedSecret}}},1088:(qe,me,u)=>{"use strict";u.d(me,{Q:()=>_});var n=u(3806),e=u(4866);class _{constructor(S){this.unitMap=e.A.getUnitMap(),this.formatSeconds(S)}formatSeconds(S){return this.years=Math.floor(S/this.unitMap.get(n.u.Years)),S-=this.years*this.unitMap.get(n.u.Years),this.months=Math.floor(S/this.unitMap.get(n.u.Month)),S-=this.months*this.unitMap.get(n.u.Month),this.weeks=Math.floor(S/this.unitMap.get(n.u.Weeks)),S-=this.weeks*this.unitMap.get(n.u.Weeks),this.days=Math.floor(S/this.unitMap.get(n.u.Days)),S-=this.days*this.unitMap.get(n.u.Days),this.hours=Math.floor(S/this.unitMap.get(n.u.Hours)),S-=this.hours*this.unitMap.get(n.u.Hours),this.minutes=Math.floor(S/this.unitMap.get(n.u.Minute)),S-=this.minutes*this.unitMap.get(n.u.Minute),this.seconds=S,this}}},978:(qe,me,u)=>{"use strict";u.d(me,{D:()=>e,U:()=>n});var n=function(_){return _[_.Disabled=0]="Disabled",_[_.Duende=1]="Duende",_[_.Rsk=2]="Rsk",_}(n||{});class e{constructor(){this.defaultUserValidation=!0,this.addUserPassword=!1,this.enforcerAuthorizationEnabled=!1,this.enableSharedScopes=!1,this.sessionManagementEnabled=!1,this.dynamicAuthenticationFlag=void 0}}},7756:(qe,me,u)=>{"use strict";u.d(me,{EK:()=>_,m8:()=>e});class e{constructor(S,v,f,d){this.webhooks={MfaReset:S,PasswordReset:v,UserRegistration:f,ServerSideSessionDelete:d}}}var _=function(g){return g.MFAReset="MfaReset",g.PasswordReset="PasswordReset",g.UserRegistration="UserRegistration",g.ServerSideSessionDelete="ServerSideSessionDelete",g}(_||{})},7212:(qe,me,u)=>{"use strict";u.d(me,{D:()=>n});class n{constructor(){this.SigningCertificates=[]}}},1744:(qe,me,u)=>{"use strict";u.d(me,{$R:()=>n,XF:()=>v,jD:()=>_,ot:()=>e});class n{}var e=function(f){return f.Client="Client",f.ClaimType="ClaimType",f.IdentityResource="IdentityResource",f.ProtectedResource="ProtectedResource",f}(e||{}),_=function(f){return f.New="New",f.Duplicate="Duplicate",f.Conflicted="Conflicted",f}(_||{}),v=function(f){return f.Importing="Importing",f.Existing="Existing",f}(v||{})},590:(qe,me,u)=>{"use strict";u.d(me,{n:()=>e});var n=u(1744);let e=(()=>{class _{static{this.client="Client"}static{this.resource="Resource"}static{this.protectedResource="ProtectedResource"}static{this.claimType="ClaimType"}static getSummaryDisplayType(S){switch(S){case n.ot.Client:return this.client;case n.ot.IdentityResource:case n.ot.ProtectedResource:return this.resource;case n.ot.ClaimType:return this.claimType}}}return _})()},7957:(qe,me,u)=>{"use strict";u.d(me,{p:()=>n});class n{constructor(){this.nameComponentMap=new Map,this.nameTitleMap=new Map}getWizard(_){return this.nameComponentMap.get(_)}getWizardTitle(_){return this.nameTitleMap.get(_)}}},8575:(qe,me,u)=>{"use strict";u.d(me,{J:()=>n});class n{constructor(_,g){this.setupTitle=_,this.summaryTitle=g}}},7329:(qe,me,u)=>{"use strict";u.d(me,{W:()=>n});class n{constructor(_,g){this.component=_,this.data=g,g||(g={})}}},923:(qe,me,u)=>{"use strict";u.d(me,{N:()=>n});var n=function(e){return e.standardDate="standardDate",e.standardDateTime="standardDateTime",e.prettyDateTime="prettyDateTime",e}(n||{})},1589:(qe,me,u)=>{"use strict";u.d(me,{El:()=>S,r7:()=>g,sp:()=>_});var n=u(7263),e=u(4438);let _=(()=>{class v{transform(d){return(0,n.KU)(d,"ccc LLL dd yyyy, T")}static{this.\u0275fac=function(E){return new(E||v)}}static{this.\u0275pipe=e.EJ8({name:"prettyDateTime",type:v,pure:!0})}}return v})(),g=(()=>{class v{transform(d){return(0,n.KU)(d,"LLL dd yyyy T")}static{this.\u0275fac=function(E){return new(E||v)}}static{this.\u0275pipe=e.EJ8({name:"standardDateTime",type:v,pure:!0})}}return v})(),S=(()=>{class v{transform(d){return(0,n.KU)(d,"LLL dd yyyy")}static{this.\u0275fac=function(E){return new(E||v)}}static{this.\u0275pipe=e.EJ8({name:"standardDate",type:v,pure:!0})}}return v})()},1683:(qe,me,u)=>{"use strict";u.d(me,{Y:()=>g});var n=u(177),e=u(1780),_=u(4438);let g=(()=>{class S{static{this.\u0275fac=function(d){return new(d||S)}}static{this.\u0275mod=_.$C({type:S})}static{this.\u0275inj=_.G2t({imports:[n.MD,e.h]})}}return S})()},4692:(qe,me,u)=>{"use strict";u.d(me,{u:()=>_});var n=u(1746),e=u(4438);let _=(()=>{class g{transform(v,f){return new n.w(v)}static{this.\u0275fac=function(f){return new(f||g)}}static{this.\u0275pipe=e.EJ8({name:"readOnlyValue",type:g,pure:!0})}}return g})()},2467:(qe,me,u)=>{"use strict";u.d(me,{C:()=>e});var n=u(4438);let e=(()=>{class _{constructor(){this.map=new Map,this.map.set("name","Common.Name"),this.map.set("clientId","Clients.ID"),this.map.set("entityId","Clients.EntityId"),this.map.set("realm","Clients.Realm"),this.map.set("clientName","Common.DisplayName"),this.map.set("description","Common.Description"),this.map.set("clientUri","Common.DisplayURL"),this.map.set("logoUri","Common.LogoURL"),this.map.set("requireConsent","Clients.RequireConsent.Summary"),this.map.set("callbackUrl","Common.CallbackURL"),this.map.set("logoutUrl","Common.LogoutURL"),this.map.set("corsurl","Common.CORSUrl"),this.map.set("redirectUris","Common.RedirectUris"),this.map.set("secrets","Common.Secrets"),this.map.set("identityResources","Nav.IdentityResources"),this.map.set("protectedResources","Nav.ProtectedResources"),this.map.set("ACSEndpoint","Clients.AcsEndpoints"),this.map.set("SLOEndpoint","Clients.SloEndpoints"),this.map.set("ARSEndpoint","Clients.ArsEndpoints"),this.map.set("cibaLifetime","Common.CIBALifetime"),this.map.set("pollingInterval","Common.PollingInterval"),this.map.set("resources","Scopes.Resources.Label"),this.map.set("scheme","DynamicAuth.Scheme.Label"),this.map.set("displayName","DynamicAuth.DisplayName.Label"),this.map.set("authority","DynamicAuth.Authority.Label"),this.map.set("idpClientId","DynamicAuth.ClientId.Label"),this.map.set("callbackPath","DynamicAuth.CallbackPath.Label"),this.map.set("flow","DynamicAuth.Flow.Label"),this.map.set("scopes","DynamicAuth.Scopes.Label"),this.map.set("clientSecret","DynamicAuth.ClientSecret.Label"),this.map.set("signInScheme","DynamicAuth.SignInScheme.Label"),this.map.set("signOutScheme","DynamicAuth.SignOutScheme.Label"),this.map.set("callbackPathAcs","DynamicAuth.CallbackPathAcsEndpoint.Label"),this.map.set("certFile","DynamicAuth.CertFile.Label"),this.map.set("certPassword","DynamicAuth.CertPassword.Label"),this.map.set("metadataAddress","DynamicAuth.SAML.IdpMetadataAddress.Label")}transform(S,v){return this.map.get(S)??S}static{this.\u0275fac=function(v){return new(v||_)}}static{this.\u0275pipe=n.EJ8({name:"keyToString",type:_,pure:!0})}}return _})()},6807:(qe,me,u)=>{"use strict";u.d(me,{B:()=>_});var n=u(4438),e=u(7883);let _=(()=>{class g{constructor(v){this.securityService=v}notAllowedToEditClaim(v){return!this.securityService.allView&&this.isPolicyClaim(v)}isPolicyClaim(v){if(void 0!==v){const f=this.securityService.policyClaims;for(let d=0;d<f.length;d++)if(f[d].type===v.type&&f[d].value===v.value)return!0;return!1}}static{this.\u0275fac=function(f){return new(f||g)(n.KVO(e.i))}}static{this.\u0275prov=n.jDH({token:g,factory:g.\u0275fac})}}return g})()},2972:(qe,me,u)=>{"use strict";u.d(me,{X:()=>g});var n=u(4412);class e{constructor(){this.showNav=!1,this.showBanner=!1,this.showFooter=!1}}var _=u(4438);let g=(()=>{class S{constructor(){this.viewConfig=new e,this.viewConfig$=new n.t(this.viewConfig)}startInitialAdminCreation(){this.viewConfig.showNav=!1,this.viewConfig.showFooter=!1,this.viewConfig.showBanner=!1,this.viewConfig$.next(this.viewConfig)}finishInitialAdminCreation(){this.showAll()}failAuth(){this.showAll()}successAuth(){this.showAll()}failedEnforcerCompilation(){this.viewConfig.showFooter=!0,this.viewConfig.showNav=!1,this.viewConfig.showBanner=!0,this.viewConfig$.next(this.viewConfig)}showAll(){this.viewConfig.showFooter=!0,this.viewConfig.showNav=!0,this.viewConfig.showBanner=!0,this.viewConfig$.next(this.viewConfig)}static{this.\u0275fac=function(d){return new(d||S)}}static{this.\u0275prov=_.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})()},1339:(qe,me,u)=>{"use strict";u.d(me,{u:()=>S});var n=u(7263),e=u(4438),_=u(1626),g=u(2972);let S=(()=>{class v{constructor(d,E){this.http=d,this.appComponentViewService=E,this.isAuthenticated=!1,this.isCreatingInitialAdministrator=!1;const m=(0,n.$_)();this.actionUrl="auth",this.authUrl=`${m}auth`}login(){window.location.href=`${this.authUrl}/conditionallogin`}logoff(){this.isAuthenticated=!1,this.appComponentViewService.failAuth(),window.location.href=`${this.authUrl}/logout`}isAuthenticatedCheck(){return this.http.get(`${this.actionUrl}/isauthenticated`)}static{this.\u0275fac=function(E){return new(E||v)(e.KVO(_.Qq),e.KVO(g.X))}}static{this.\u0275prov=e.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})()},6888:(qe,me,u)=>{"use strict";u.d(me,{W:()=>e});var n=u(4438);let e=(()=>{class _{constructor(){this.storage=sessionStorage,this.countKey="retryCount",this.maxRetryAttempts=1}startLogin(){this.retryCount=0}endLogin(){this.storage.removeItem(this.countKey)}get canRetryLogin(){return this.retryCount+1<=this.maxRetryAttempts}retryLogin(){this.canRetryLogin&&(this.retryCount+=1)}get retryCount(){const S=this.storage.getItem(this.countKey);let v=S?Number(S):0;return v=isNaN(v)?0:v,v}set retryCount(S){(S=isNaN(S)?0:S)<=this.maxRetryAttempts&&this.storage.setItem(this.countKey,S.toString())}static{this.\u0275fac=function(v){return new(v||_)}}static{this.\u0275prov=n.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})()},2734:(qe,me,u)=>{"use strict";u.d(me,{x:()=>g});var n=u(1626),e=u(7263),_=u(4438);let g=(()=>{class S{buildParams(f,d,E,m,F,w,C,R){let x=new n.Nl;return x=this.addStringParam(x,"auditAction",f?.auditAction),x=this.addStringParam(x,"subject",f?.subject),x=this.addStringParam(x,"resource",f?.resourceName),x=this.addStringParam(x,"source",f?.source),x=this.addAnyParam(x,"success",C),x=this.addStringParam(x,"sort",w),x=this.addStringParam(x,"to",E),x=this.addStringParam(x,"from",d),x=this.addAnyParam(x,"page",m),x=this.addAnyParam(x,"pageSize",F),(0,e.hX)(R)||(x=this.addAnyParam(x,"bySubject",R)),x}addAnyParam(f,d,E){return(0,e.hX)(E)?f:f.append(d,String(E))}addStringParam(f,d,E){return(0,e.gP)(E)?f:f.append(d,E)}static{this.\u0275fac=function(d){return new(d||S)}}static{this.\u0275prov=_.jDH({token:S,factory:S.\u0275fac})}}return S})()},3583:(qe,me,u)=>{"use strict";u.d(me,{t:()=>_});var n=u(4412),e=u(4438);let _=(()=>{class g{constructor(){this.unsavedCache=new n.t(null),this.unsavedCache$=this.unsavedCache.asObservable(),this.savedCache=new n.t(null),this.savedCache$=this.savedCache.asObservable(),this.componentDirtyValidMap=new Map}onSave(){this.componentDirtyValidMap.clear()}static{this.\u0275fac=function(f){return new(f||g)}}static{this.\u0275prov=e.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})()},2261:(qe,me,u)=>{"use strict";u.d(me,{V:()=>al});var n=u(467);class e{}var _=u(5955);function S($e,h,b){var k;return $e instanceof Object&&null!==(k=$e[h])&&void 0!==k?k:b}function v($e,h=0,b=$e.byteLength-h,k=!1){let K="";for(const ce of new Uint8Array($e,h,b)){const Ce=ce.toString(16).toUpperCase();1===Ce.length&&(K+="0"),K+=Ce,k&&(K+=" ")}return K.trim()}function f($e,h,b,k){return h instanceof ArrayBuffer?h.byteLength?b<0?($e.error="Wrong parameter: inputOffset less than zero",!1):k<0?($e.error="Wrong parameter: inputLength less than zero",!1):!(h.byteLength-b-k<0&&($e.error="End of input reached before message was fully decoded (inconsistent offset and length values)",1)):($e.error="Wrong parameter: inputBuffer has zero length",!1):($e.error='Wrong parameter: inputBuffer must be "ArrayBuffer"',!1)}function d($e,h){let b=0;if(1===$e.length)return $e[0];for(let k=$e.length-1;k>=0;k--)b+=$e[$e.length-1-k]*Math.pow(2,h*k);return b}function E($e,h,b=-1){const k=b;let K=$e,ce=0,Ce=Math.pow(2,h);for(let We=1;We<8;We++){if($e<Ce){let A;if(k<0)A=new ArrayBuffer(We),ce=We;else{if(k<We)return new ArrayBuffer(0);A=new ArrayBuffer(k),ce=k}const j=new Uint8Array(A);for(let B=We-1;B>=0;B--){const Z=Math.pow(2,B*h);j[ce-B-1]=Math.floor(K/Z),K-=j[ce-B-1]*Z}return A}Ce*=Math.pow(2,h)}return new ArrayBuffer(0)}function m(...$e){let h=0,b=0;for(const ce of $e)h+=ce.byteLength;const k=new ArrayBuffer(h),K=new Uint8Array(k);for(const ce of $e)K.set(new Uint8Array(ce),b),b+=ce.byteLength;return k}function F(...$e){let h=0,b=0;for(const ce of $e)h+=ce.length;const k=new ArrayBuffer(h),K=new Uint8Array(k);for(const ce of $e)K.set(ce,b),b+=ce.length;return K}function w(){const $e=new Uint8Array(this.valueHex);this.valueHex.byteLength>=2&&(255===$e[0]&&128&$e[1]||0===$e[0]&&!(128&$e[1]))&&this.warnings.push("Needlessly long format");const h=new ArrayBuffer(this.valueHex.byteLength),b=new Uint8Array(h);for(let We=0;We<this.valueHex.byteLength;We++)b[We]=0;b[0]=128&$e[0];const k=d(b,8),K=new ArrayBuffer(this.valueHex.byteLength),ce=new Uint8Array(K);for(let We=0;We<this.valueHex.byteLength;We++)ce[We]=$e[We];return ce[0]&=127,d(ce,8)-k}function C($e){const h=$e<0?-1*$e:$e;let b=128;for(let k=1;k<8;k++){if(h<=b){if($e<0){const We=E(b-h,8,k);return new Uint8Array(We)[0]|=128,We}let K=E(h,8,k),ce=new Uint8Array(K);if(128&ce[0]){const Ce=K.slice(0),We=new Uint8Array(Ce);K=new ArrayBuffer(K.byteLength+1),ce=new Uint8Array(K);for(let A=0;A<Ce.byteLength;A++)ce[A+1]=We[A];ce[0]=0}return K}b*=Math.pow(2,8)}return new ArrayBuffer(0)}function R($e,h){if($e.byteLength!==h.byteLength)return!1;const b=new Uint8Array($e),k=new Uint8Array(h);for(let K=0;K<b.length;K++)if(b[K]!==k[K])return!1;return!0}function x($e,h){const b=$e.toString(10);if(h<b.length)return"";const k=h-b.length,K=new Array(k);for(let Ce=0;Ce<k;Ce++)K[Ce]="0";return K.join("").concat(b)}const O="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",H="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=";function M($e,h=!1,b=!1,k=!1){let K=0,ce=0,Ce=0,We="";const A=h?H:O;if(k){let j=0;for(let B=0;B<$e.length;B++)if(0!==$e.charCodeAt(B)){j=B;break}$e=$e.slice(j)}for(;K<$e.length;){const j=$e.charCodeAt(K++);K>=$e.length&&(ce=1);const B=$e.charCodeAt(K++);K>=$e.length&&(Ce=1);const Z=$e.charCodeAt(K++),be=j>>2,He=(3&j)<<4|B>>4;let gt=(15&B)<<2|Z>>6,on=63&Z;1===ce?gt=on=64:1===Ce&&(on=64),We+=b?64===gt?`${A.charAt(be)}${A.charAt(He)}`:64===on?`${A.charAt(be)}${A.charAt(He)}${A.charAt(gt)}`:`${A.charAt(be)}${A.charAt(He)}${A.charAt(gt)}${A.charAt(on)}`:`${A.charAt(be)}${A.charAt(He)}${A.charAt(gt)}${A.charAt(on)}`}return We}function V($e,h=!1,b=!1){const k=h?H:O;function K(A){for(let j=0;j<64;j++)if(k.charAt(j)===A)return j;return 64}function ce(A){return 64===A?0:A}let Ce=0,We="";for(;Ce<$e.length;){const A=K($e.charAt(Ce++)),j=Ce>=$e.length?0:K($e.charAt(Ce++)),B=Ce>=$e.length?0:K($e.charAt(Ce++)),Z=Ce>=$e.length?0:K($e.charAt(Ce++)),be=ce(A)<<2|ce(j)>>4,He=(15&ce(j))<<4|ce(B)>>2,gt=(3&ce(B))<<6|ce(Z);We+=String.fromCharCode(be),64!==B&&(We+=String.fromCharCode(He)),64!==Z&&(We+=String.fromCharCode(gt))}if(b){let j=-1;for(let B=We.length-1;B>=0;B--)if(0!==We.charCodeAt(B)){j=B;break}We=-1!==j?We.slice(0,j+1):""}return We}function U($e){let h="";const b=new Uint8Array($e);for(const k of b)h+=String.fromCharCode(k);return h}function G($e){const h=$e.length,b=new ArrayBuffer(h),k=new Uint8Array(b);for(let K=0;K<h;K++)k[K]=$e.charCodeAt(K);return b}const ie=Math.log(2);function le($e){const h=Math.log($e)/ie,b=Math.floor(h),k=Math.round(h);return b===k?b:k}function L($e,h){for(const b of h)delete $e[b]}function J(){if(typeof BigInt>"u")throw new Error("BigInt is not defined. Your environment doesn't implement BigInt.")}function te($e){let h=0,b=0;for(let K=0;K<$e.length;K++)h+=$e[K].byteLength;const k=new Uint8Array(h);for(let K=0;K<$e.length;K++){const ce=$e[K];k.set(new Uint8Array(ce),b),b+=ce.byteLength}return k.buffer}function I($e,h,b,k){return h instanceof Uint8Array?h.byteLength?b<0?($e.error="Wrong parameter: inputOffset less than zero",!1):k<0?($e.error="Wrong parameter: inputLength less than zero",!1):!(h.byteLength-b-k<0&&($e.error="End of input reached before message was fully decoded (inconsistent offset and length values)",1)):($e.error="Wrong parameter: inputBuffer has zero length",!1):($e.error="Wrong parameter: inputBuffer must be 'Uint8Array'",!1)}class oe{constructor(){this.items=[]}write(h){this.items.push(h)}final(){return te(this.items)}}const z=[new Uint8Array([1])],_e="0123456789",Pe="name",Re="valueHexView",ht=new ArrayBuffer(0),Ye=new Uint8Array(0),Yt="EndOfContent",Ut="OCTET STRING",Tt="BIT STRING";function _t($e){var h;return(h=class extends $e{constructor(...k){var K;super(...k);const ce=k[0]||{};this.isHexOnly=null!==(K=ce.isHexOnly)&&void 0!==K&&K,this.valueHexView=ce.valueHex?_._H.toUint8Array(ce.valueHex):Ye}get valueHex(){return this.valueHexView.slice().buffer}set valueHex(k){this.valueHexView=new Uint8Array(k)}fromBER(k,K,ce){const Ce=k instanceof ArrayBuffer?new Uint8Array(k):k;if(!I(this,Ce,K,ce))return-1;const We=K+ce;return this.valueHexView=Ce.subarray(K,We),this.valueHexView.length?(this.blockLength=ce,We):(this.warnings.push("Zero buffer length"),K)}toBER(k=!1){return this.isHexOnly?k?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.byteLength===this.valueHexView.buffer.byteLength?this.valueHexView.buffer:this.valueHexView.slice().buffer:(this.error="Flag 'isHexOnly' is not set, abort",ht)}toJSON(){return{...super.toJSON(),isHexOnly:this.isHexOnly,valueHex:_.U$.ToHex(this.valueHexView)}}}).NAME="hexBlock",h}let X=(()=>{class $e{constructor({blockLength:b=0,error:k="",warnings:K=[],valueBeforeDecode:ce=Ye}={}){this.blockLength=b,this.error=k,this.warnings=K,this.valueBeforeDecodeView=_._H.toUint8Array(ce)}static blockName(){return this.NAME}get valueBeforeDecode(){return this.valueBeforeDecodeView.slice().buffer}set valueBeforeDecode(b){this.valueBeforeDecodeView=new Uint8Array(b)}toJSON(){return{blockName:this.constructor.NAME,blockLength:this.blockLength,error:this.error,warnings:this.warnings,valueBeforeDecode:_.U$.ToHex(this.valueBeforeDecodeView)}}}return $e.NAME="baseBlock",$e})(),Y=(()=>{class $e extends X{fromBER(b,k,K){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}toBER(b,k){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}}return $e.NAME="valueBlock",$e})(),ee=(()=>{class $e extends(_t(X)){constructor({idBlock:b={}}={}){var k,K,ce,Ce;super(),b?(this.isHexOnly=null!==(k=b.isHexOnly)&&void 0!==k&&k,this.valueHexView=b.valueHex?_._H.toUint8Array(b.valueHex):Ye,this.tagClass=null!==(K=b.tagClass)&&void 0!==K?K:-1,this.tagNumber=null!==(ce=b.tagNumber)&&void 0!==ce?ce:-1,this.isConstructed=null!==(Ce=b.isConstructed)&&void 0!==Ce&&Ce):(this.tagClass=-1,this.tagNumber=-1,this.isConstructed=!1)}toBER(b=!1){let k=0;switch(this.tagClass){case 1:k|=0;break;case 2:k|=64;break;case 3:k|=128;break;case 4:k|=192;break;default:return this.error="Unknown tag class",ht}if(this.isConstructed&&(k|=32),this.tagNumber<31&&!this.isHexOnly){const ce=new Uint8Array(1);if(!b){let Ce=this.tagNumber;Ce&=31,k|=Ce,ce[0]=k}return ce.buffer}if(!this.isHexOnly){const ce=E(this.tagNumber,7),Ce=new Uint8Array(ce),We=ce.byteLength,A=new Uint8Array(We+1);if(A[0]=31|k,!b){for(let j=0;j<We-1;j++)A[j+1]=128|Ce[j];A[We]=Ce[We-1]}return A.buffer}const K=new Uint8Array(this.valueHexView.byteLength+1);if(K[0]=31|k,!b){const ce=this.valueHexView;for(let Ce=0;Ce<ce.length-1;Ce++)K[Ce+1]=128|ce[Ce];K[this.valueHexView.byteLength]=ce[ce.length-1]}return K.buffer}fromBER(b,k,K){const ce=_._H.toUint8Array(b);if(!I(this,ce,k,K))return-1;const Ce=ce.subarray(k,k+K);if(0===Ce.length)return this.error="Zero buffer length",-1;switch(192&Ce[0]){case 0:this.tagClass=1;break;case 64:this.tagClass=2;break;case 128:this.tagClass=3;break;case 192:this.tagClass=4;break;default:return this.error="Unknown tag class",-1}this.isConstructed=!(32&~Ce[0]),this.isHexOnly=!1;const A=31&Ce[0];if(31!==A)this.tagNumber=A,this.blockLength=1;else{let j=1,B=this.valueHexView=new Uint8Array(255),Z=255;for(;128&Ce[j];){if(B[j-1]=127&Ce[j],j++,j>=Ce.length)return this.error="End of input reached before message was fully decoded",-1;if(j===Z){Z+=255;const He=new Uint8Array(Z);for(let gt=0;gt<B.length;gt++)He[gt]=B[gt];B=this.valueHexView=new Uint8Array(Z)}}this.blockLength=j+1,B[j-1]=127&Ce[j];const be=new Uint8Array(j);for(let He=0;He<j;He++)be[He]=B[He];B=this.valueHexView=new Uint8Array(j),B.set(be),this.blockLength<=9?this.tagNumber=d(B,7):(this.isHexOnly=!0,this.warnings.push("Tag too long, represented as hex-coded"))}if(1===this.tagClass&&this.isConstructed)switch(this.tagNumber){case 1:case 2:case 5:case 6:case 9:case 13:case 14:case 23:case 24:case 31:case 32:case 33:case 34:return this.error="Constructed encoding used for primitive type",-1}return k+this.blockLength}toJSON(){return{...super.toJSON(),tagClass:this.tagClass,tagNumber:this.tagNumber,isConstructed:this.isConstructed}}}return $e.NAME="identificationBlock",$e})(),Se=(()=>{class $e extends X{constructor({lenBlock:b={}}={}){var k,K,ce;super(),this.isIndefiniteForm=null!==(k=b.isIndefiniteForm)&&void 0!==k&&k,this.longFormUsed=null!==(K=b.longFormUsed)&&void 0!==K&&K,this.length=null!==(ce=b.length)&&void 0!==ce?ce:0}fromBER(b,k,K){const ce=_._H.toUint8Array(b);if(!I(this,ce,k,K))return-1;const Ce=ce.subarray(k,k+K);if(0===Ce.length)return this.error="Zero buffer length",-1;if(255===Ce[0])return this.error="Length block 0xFF is reserved by standard",-1;if(this.isIndefiniteForm=128===Ce[0],this.isIndefiniteForm)return this.blockLength=1,k+this.blockLength;if(this.longFormUsed=!!(128&Ce[0]),!1===this.longFormUsed)return this.length=Ce[0],this.blockLength=1,k+this.blockLength;const We=127&Ce[0];if(We>8)return this.error="Too big integer",-1;if(We+1>Ce.length)return this.error="End of input reached before message was fully decoded",-1;const A=k+1,j=ce.subarray(A,A+We);return 0===j[We-1]&&this.warnings.push("Needlessly long encoded length"),this.length=d(j,8),this.longFormUsed&&this.length<=127&&this.warnings.push("Unnecessary usage of long length form"),this.blockLength=We+1,k+this.blockLength}toBER(b=!1){let k,K;if(this.length>127&&(this.longFormUsed=!0),this.isIndefiniteForm)return k=new ArrayBuffer(1),!1===b&&(K=new Uint8Array(k),K[0]=128),k;if(this.longFormUsed){const ce=E(this.length,8);if(ce.byteLength>127)return this.error="Too big length",ht;if(k=new ArrayBuffer(ce.byteLength+1),b)return k;const Ce=new Uint8Array(ce);K=new Uint8Array(k),K[0]=128|ce.byteLength;for(let We=0;We<ce.byteLength;We++)K[We+1]=Ce[We];return k}return k=new ArrayBuffer(1),!1===b&&(K=new Uint8Array(k),K[0]=this.length),k}toJSON(){return{...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,longFormUsed:this.longFormUsed,length:this.length}}}return $e.NAME="lengthBlock",$e})();const Ee={};let at=(()=>{class $e extends X{constructor({name:b="",optional:k=!1,primitiveSchema:K,...ce}={},Ce){super(ce),this.name=b,this.optional=k,K&&(this.primitiveSchema=K),this.idBlock=new ee(ce),this.lenBlock=new Se(ce),this.valueBlock=Ce?new Ce(ce):new Y(ce)}fromBER(b,k,K){const ce=this.valueBlock.fromBER(b,k,this.lenBlock.isIndefiniteForm?K:this.lenBlock.length);return-1===ce?(this.error=this.valueBlock.error,ce):(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),ce)}toBER(b,k){const K=k||new oe;k||je(this);const ce=this.idBlock.toBER(b);if(K.write(ce),this.lenBlock.isIndefiniteForm)K.write(new Uint8Array([128]).buffer),this.valueBlock.toBER(b,K),K.write(new ArrayBuffer(2));else{const Ce=this.valueBlock.toBER(b);this.lenBlock.length=Ce.byteLength;const We=this.lenBlock.toBER(b);K.write(We),K.write(Ce)}return k?ht:K.final()}toJSON(){const b={...super.toJSON(),idBlock:this.idBlock.toJSON(),lenBlock:this.lenBlock.toJSON(),valueBlock:this.valueBlock.toJSON(),name:this.name,optional:this.optional};return this.primitiveSchema&&(b.primitiveSchema=this.primitiveSchema.toJSON()),b}toString(b="ascii"){return"ascii"===b?this.onAsciiEncoding():_.U$.ToHex(this.toBER())}onAsciiEncoding(){return`${this.constructor.NAME} : ${_.U$.ToHex(this.valueBlock.valueBeforeDecodeView)}`}isEqual(b){return this===b||b instanceof this.constructor&&R(this.toBER(),b.toBER())}}return $e.NAME="BaseBlock",$e})();function je($e){if($e instanceof Ee.Constructed)for(const h of $e.valueBlock.value)je(h)&&($e.lenBlock.isIndefiniteForm=!0);return!!$e.lenBlock.isIndefiniteForm}let ot=(()=>{class $e extends at{constructor({value:b="",...k}={},K){super(k,K),b&&this.fromString(b)}getValue(){return this.valueBlock.value}setValue(b){this.valueBlock.value=b}fromBER(b,k,K){const ce=this.valueBlock.fromBER(b,k,this.lenBlock.isIndefiniteForm?K:this.lenBlock.length);return-1===ce?(this.error=this.valueBlock.error,ce):(this.fromBuffer(this.valueBlock.valueHexView),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),ce)}onAsciiEncoding(){return`${this.constructor.NAME} : '${this.valueBlock.value}'`}}return $e.NAME="BaseStringBlock",$e})(),Ft=(()=>{class $e extends(_t(Y)){constructor({isHexOnly:b=!0,...k}={}){super(k),this.isHexOnly=b}}return $e.NAME="PrimitiveValueBlock",$e})();class nt extends at{constructor(h={}){super(h,Ft),this.idBlock.isConstructed=!1}}function tn($e,h=0,b=$e.length){const k=h;let K=new at({},Y);const ce=new X;if(!I(ce,$e,h,b))return K.error=ce.error,{offset:-1,result:K};if(!$e.subarray(h,h+b).length)return K.error="Zero buffer length",{offset:-1,result:K};let We=K.idBlock.fromBER($e,h,b);if(K.idBlock.warnings.length&&K.warnings.concat(K.idBlock.warnings),-1===We)return K.error=K.idBlock.error,{offset:-1,result:K};if(We=K.lenBlock.fromBER($e,h=We,b-=K.idBlock.blockLength),K.lenBlock.warnings.length&&K.warnings.concat(K.lenBlock.warnings),-1===We)return K.error=K.lenBlock.error,{offset:-1,result:K};if(h=We,b-=K.lenBlock.blockLength,!K.idBlock.isConstructed&&K.lenBlock.isIndefiniteForm)return K.error="Indefinite length form used for primitive encoding form",{offset:-1,result:K};let A=at;if(1===K.idBlock.tagClass){if(K.idBlock.tagNumber>=37&&!1===K.idBlock.isHexOnly)return K.error="UNIVERSAL 37 and upper tags are reserved by ASN.1 standard",{offset:-1,result:K};switch(K.idBlock.tagNumber){case 0:if(K.idBlock.isConstructed&&K.lenBlock.length>0)return K.error="Type [UNIVERSAL 0] is reserved",{offset:-1,result:K};A=Ee.EndOfContent;break;case 1:A=Ee.Boolean;break;case 2:A=Ee.Integer;break;case 3:A=Ee.BitString;break;case 4:A=Ee.OctetString;break;case 5:A=Ee.Null;break;case 6:A=Ee.ObjectIdentifier;break;case 10:A=Ee.Enumerated;break;case 12:A=Ee.Utf8String;break;case 13:A=Ee.RelativeObjectIdentifier;break;case 14:A=Ee.TIME;break;case 15:return K.error="[UNIVERSAL 15] is reserved by ASN.1 standard",{offset:-1,result:K};case 16:A=Ee.Sequence;break;case 17:A=Ee.Set;break;case 18:A=Ee.NumericString;break;case 19:A=Ee.PrintableString;break;case 20:A=Ee.TeletexString;break;case 21:A=Ee.VideotexString;break;case 22:A=Ee.IA5String;break;case 23:A=Ee.UTCTime;break;case 24:A=Ee.GeneralizedTime;break;case 25:A=Ee.GraphicString;break;case 26:A=Ee.VisibleString;break;case 27:A=Ee.GeneralString;break;case 28:A=Ee.UniversalString;break;case 29:A=Ee.CharacterString;break;case 30:A=Ee.BmpString;break;case 31:A=Ee.DATE;break;case 32:A=Ee.TimeOfDay;break;case 33:A=Ee.DateTime;break;case 34:A=Ee.Duration;break;default:{const j=K.idBlock.isConstructed?new Ee.Constructed:new Ee.Primitive;j.idBlock=K.idBlock,j.lenBlock=K.lenBlock,j.warnings=K.warnings,K=j}}}else A=K.idBlock.isConstructed?Ee.Constructed:Ee.Primitive;return K=function Wt($e,h){if($e instanceof h)return $e;const b=new h;return b.idBlock=$e.idBlock,b.lenBlock=$e.lenBlock,b.warnings=$e.warnings,b.valueBeforeDecodeView=$e.valueBeforeDecodeView,b}(K,A),We=K.fromBER($e,h,K.lenBlock.isIndefiniteForm?b:K.lenBlock.length),K.valueBeforeDecodeView=$e.subarray(k,k+K.blockLength),{offset:We,result:K}}function it($e){if(!$e.byteLength){const h=new at({},Y);return h.error="Input buffer has zero length",{offset:-1,result:h}}return tn(_._H.toUint8Array($e).slice(),0,$e.byteLength)}function Ot($e,h){return $e?1:h}Ee.Primitive=nt,nt.NAME="PRIMITIVE";let ve=(()=>{class $e extends Y{constructor({value:b=[],isIndefiniteForm:k=!1,...K}={}){super(K),this.value=b,this.isIndefiniteForm=k}fromBER(b,k,K){const ce=_._H.toUint8Array(b);if(!I(this,ce,k,K))return-1;if(this.valueBeforeDecodeView=ce.subarray(k,k+K),0===this.valueBeforeDecodeView.length)return this.warnings.push("Zero buffer length"),k;let Ce=k;for(;Ot(this.isIndefiniteForm,K)>0;){const We=tn(ce,Ce,K);if(-1===We.offset)return this.error=We.result.error,this.warnings.concat(We.result.warnings),-1;if(Ce=We.offset,this.blockLength+=We.result.blockLength,K-=We.result.blockLength,this.value.push(We.result),this.isIndefiniteForm&&We.result.constructor.NAME===Yt)break}return this.isIndefiniteForm&&(this.value[this.value.length-1].constructor.NAME===Yt?this.value.pop():this.warnings.push("No EndOfContent block encoded")),Ce}toBER(b,k){const K=k||new oe;for(let ce=0;ce<this.value.length;ce++)this.value[ce].toBER(b,K);return k?ht:K.final()}toJSON(){const b={...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,value:[]};for(const k of this.value)b.value.push(k.toJSON());return b}}return $e.NAME="ConstructedValueBlock",$e})();class $ extends at{constructor(h={}){super(h,ve),this.idBlock.isConstructed=!0}fromBER(h,b,k){this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;const K=this.valueBlock.fromBER(h,b,this.lenBlock.isIndefiniteForm?k:this.lenBlock.length);return-1===K?(this.error=this.valueBlock.error,K):(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),K)}onAsciiEncoding(){const h=[];for(const k of this.valueBlock.value)h.push(k.toString("ascii").split("\n").map(K=>`  ${K}`).join("\n"));const b=3===this.idBlock.tagClass?`[${this.idBlock.tagNumber}]`:this.constructor.NAME;return h.length?`${b} :\n${h.join("\n")}`:`${b} :`}}Ee.Constructed=$,$.NAME="CONSTRUCTED";let se=(()=>{class $e extends Y{fromBER(b,k,K){return k}toBER(b){return ht}}return $e.override="EndOfContentValueBlock",$e})();class Ze extends at{constructor(h={}){super(h,se),this.idBlock.tagClass=1,this.idBlock.tagNumber=0}}Ee.EndOfContent=Ze,Ze.NAME=Yt;class Pt extends at{constructor(h={}){super(h,Y),this.idBlock.tagClass=1,this.idBlock.tagNumber=5}fromBER(h,b,k){return this.lenBlock.length>0&&this.warnings.push("Non-zero length of value block for Null type"),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.blockLength+=k,b+k>h.byteLength?(this.error="End of input reached before message was fully decoded (inconsistent offset and length values)",-1):b+k}toBER(h,b){const k=new ArrayBuffer(2);if(!h){const K=new Uint8Array(k);K[0]=5,K[1]=0}return b&&b.write(k),k}onAsciiEncoding(){return`${this.constructor.NAME}`}}Ee.Null=Pt,Pt.NAME="NULL";let an=(()=>{class $e extends(_t(Y)){constructor({value:b,...k}={}){super(k),this.valueHexView=k.valueHex?_._H.toUint8Array(k.valueHex):new Uint8Array(1),b&&(this.value=b)}get value(){for(const b of this.valueHexView)if(b>0)return!0;return!1}set value(b){this.valueHexView[0]=b?255:0}fromBER(b,k,K){const ce=_._H.toUint8Array(b);return I(this,ce,k,K)?(this.valueHexView=ce.subarray(k,k+K),K>1&&this.warnings.push("Boolean value encoded in more then 1 octet"),this.isHexOnly=!0,w.call(this),this.blockLength=K,k+K):-1}toBER(){return this.valueHexView.slice()}toJSON(){return{...super.toJSON(),value:this.value}}}return $e.NAME="BooleanValueBlock",$e})();class Mn extends at{constructor(h={}){super(h,an),this.idBlock.tagClass=1,this.idBlock.tagNumber=1}getValue(){return this.valueBlock.value}setValue(h){this.valueBlock.value=h}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.getValue}`}}Ee.Boolean=Mn,Mn.NAME="BOOLEAN";let kn=(()=>{class $e extends(_t(ve)){constructor({isConstructed:b=!1,...k}={}){super(k),this.isConstructed=b}fromBER(b,k,K){let ce=0;if(this.isConstructed){if(this.isHexOnly=!1,ce=ve.prototype.fromBER.call(this,b,k,K),-1===ce)return ce;for(let Ce=0;Ce<this.value.length;Ce++){const We=this.value[Ce].constructor.NAME;if(We===Yt){if(this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, OCTET STRING may consists of OCTET STRINGs only",-1}if(We!==Ut)return this.error="OCTET STRING may consists of OCTET STRINGs only",-1}}else this.isHexOnly=!0,ce=super.fromBER(b,k,K),this.blockLength=K;return ce}toBER(b,k){return this.isConstructed?ve.prototype.toBER.call(this,b,k):b?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),isConstructed:this.isConstructed}}}return $e.NAME="OctetStringValueBlock",$e})();class It extends at{constructor({idBlock:h={},lenBlock:b={},...k}={}){var K,ce;null!==(K=k.isConstructed)&&void 0!==K||(k.isConstructed=!(null===(ce=k.value)||void 0===ce||!ce.length)),super({idBlock:{isConstructed:k.isConstructed,...h},lenBlock:{...b,isIndefiniteForm:!!k.isIndefiniteForm},...k},kn),this.idBlock.tagClass=1,this.idBlock.tagNumber=4}fromBER(h,b,k){if(this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,0===k)return 0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),b;if(!this.valueBlock.isConstructed){const ce=(h instanceof ArrayBuffer?new Uint8Array(h):h).subarray(b,b+k);try{if(ce.byteLength){const Ce=tn(ce,0,ce.byteLength);-1!==Ce.offset&&Ce.offset===k&&(this.valueBlock.value=[Ce.result])}}catch{}}return super.fromBER(h,b,k)}onAsciiEncoding(){return this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length?$.prototype.onAsciiEncoding.call(this):`${this.constructor.NAME} : ${_.U$.ToHex(this.valueBlock.valueHexView)}`}getValue(){if(!this.idBlock.isConstructed)return this.valueBlock.valueHexView.slice().buffer;const h=[];for(const b of this.valueBlock.value)b instanceof It&&h.push(b.valueBlock.valueHexView);return _._H.concat(h)}}Ee.OctetString=It,It.NAME=Ut;let Rn=(()=>{class $e extends(_t(ve)){constructor({unusedBits:b=0,isConstructed:k=!1,...K}={}){super(K),this.unusedBits=b,this.isConstructed=k,this.blockLength=this.valueHexView.byteLength}fromBER(b,k,K){if(!K)return k;let ce=-1;if(this.isConstructed){if(ce=ve.prototype.fromBER.call(this,b,k,K),-1===ce)return ce;for(const A of this.value){const j=A.constructor.NAME;if(j===Yt){if(this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, BIT STRING may consists of BIT STRINGs only",-1}if(j!==Tt)return this.error="BIT STRING may consists of BIT STRINGs only",-1;const B=A.valueBlock;if(this.unusedBits>0&&B.unusedBits>0)return this.error='Using of "unused bits" inside constructive BIT STRING allowed for least one only',-1;this.unusedBits=B.unusedBits}return ce}const Ce=_._H.toUint8Array(b);if(!I(this,Ce,k,K))return-1;const We=Ce.subarray(k,k+K);if(this.unusedBits=We[0],this.unusedBits>7)return this.error="Unused bits for BitString must be in range 0-7",-1;if(!this.unusedBits){const A=We.subarray(1);try{if(A.byteLength){const j=tn(A,0,A.byteLength);-1!==j.offset&&j.offset===K-1&&(this.value=[j.result])}}catch{}}return this.valueHexView=We.subarray(1),this.blockLength=We.length,k+K}toBER(b,k){if(this.isConstructed)return ve.prototype.toBER.call(this,b,k);if(b)return new ArrayBuffer(this.valueHexView.byteLength+1);if(!this.valueHexView.byteLength)return ht;const K=new Uint8Array(this.valueHexView.length+1);return K[0]=this.unusedBits,K.set(this.valueHexView,1),K.buffer}toJSON(){return{...super.toJSON(),unusedBits:this.unusedBits,isConstructed:this.isConstructed}}}return $e.NAME="BitStringValueBlock",$e})();var vt;class lt extends at{constructor({idBlock:h={},lenBlock:b={},...k}={}){var K,ce;null!==(K=k.isConstructed)&&void 0!==K||(k.isConstructed=!(null===(ce=k.value)||void 0===ce||!ce.length)),super({idBlock:{isConstructed:k.isConstructed,...h},lenBlock:{...b,isIndefiniteForm:!!k.isIndefiniteForm},...k},Rn),this.idBlock.tagClass=1,this.idBlock.tagNumber=3}fromBER(h,b,k){return this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,super.fromBER(h,b,k)}onAsciiEncoding(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length)return $.prototype.onAsciiEncoding.call(this);{const h=[],b=this.valueBlock.valueHexView;for(const K of b)h.push(K.toString(2).padStart(8,"0"));const k=h.join("");return`${this.constructor.NAME} : ${k.substring(0,k.length-this.valueBlock.unusedBits)}`}}}function mt($e,h){const b=new Uint8Array([0]),k=new Uint8Array($e),K=new Uint8Array(h);let ce=k.slice(0);const Ce=ce.length-1,We=K.slice(0),A=We.length-1;let j=0,Z=0;for(let be=A<Ce?Ce:A;be>=0;be--,Z++)j=1==Z<We.length?ce[Ce-Z]+We[A-Z]+b[0]:ce[Ce-Z]+b[0],b[0]=j/10,1==Z>=ce.length?ce=F(new Uint8Array([j%10]),ce):ce[Ce-Z]=j%10;return b[0]>0&&(ce=F(b,ce)),ce}function kt($e){if($e>=z.length)for(let h=z.length;h<=$e;h++){const b=new Uint8Array([0]);let k=z[h-1].slice(0);for(let K=k.length-1;K>=0;K--){const ce=new Uint8Array([(k[K]<<1)+b[0]]);b[0]=ce[0]/10,k[K]=ce[0]%10}b[0]>0&&(k=F(b,k)),z.push(k)}return z[$e]}function nn($e,h){let b=0;const k=new Uint8Array($e),K=new Uint8Array(h),ce=k.slice(0),Ce=ce.length-1,We=K.slice(0),A=We.length-1;let j,B=0;for(let Z=A;Z>=0;Z--,B++)j=ce[Ce-B]-We[A-B]-b,1==j<0?(b=1,ce[Ce-B]=j+10):(b=0,ce[Ce-B]=j);if(b>0)for(let Z=Ce-A+1;Z>=0;Z--,B++){if(j=ce[Ce-B]-b,!(j<0)){b=0,ce[Ce-B]=j;break}b=1,ce[Ce-B]=j+10}return ce.slice()}Ee.BitString=lt,lt.NAME=Tt;class Tn extends(_t(Y)){constructor({value:h,...b}={}){super(b),this._valueDec=0,b.valueHex&&this.setValueHex(),void 0!==h&&(this.valueDec=h)}setValueHex(){this.valueHexView.length>=4?(this.warnings.push("Too big Integer for decoding, hex only"),this.isHexOnly=!0,this._valueDec=0):(this.isHexOnly=!1,this.valueHexView.length>0&&(this._valueDec=w.call(this)))}set valueDec(h){this._valueDec=h,this.isHexOnly=!1,this.valueHexView=new Uint8Array(C(h))}get valueDec(){return this._valueDec}fromDER(h,b,k,K=0){const ce=this.fromBER(h,b,k);if(-1===ce)return ce;const Ce=this.valueHexView;return 0===Ce[0]&&128&Ce[1]?this.valueHexView=Ce.subarray(1):0!==K&&Ce.length<K&&(K-Ce.length>1&&(K=Ce.length+1),this.valueHexView=Ce.subarray(K-Ce.length)),ce}toDER(h=!1){const b=this.valueHexView;switch(!0){case!!(128&b[0]):{const k=new Uint8Array(this.valueHexView.length+1);k[0]=0,k.set(b,1),this.valueHexView=k}break;case 0===b[0]&&!(128&b[1]):this.valueHexView=this.valueHexView.subarray(1)}return this.toBER(h)}fromBER(h,b,k){const K=super.fromBER(h,b,k);return-1===K||this.setValueHex(),K}toBER(h){return h?new ArrayBuffer(this.valueHexView.length):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}toString(){const h=8*this.valueHexView.length-1;let K,b=new Uint8Array(8*this.valueHexView.length/3),k=0;const ce=this.valueHexView;let Ce="",We=!1;for(let A=ce.byteLength-1;A>=0;A--){K=ce[A];for(let j=0;j<8;j++)1&~K||(k===h?(b=nn(kt(k),b),Ce="-"):b=mt(b,kt(k))),k++,K>>=1}for(let A=0;A<b.length;A++)b[A]&&(We=!0),We&&(Ce+=_e.charAt(b[A]));return!1===We&&(Ce+=_e.charAt(0)),Ce}}vt=Tn,Tn.NAME="IntegerValueBlock",Object.defineProperty(vt.prototype,"valueHex",{set:function($e){this.valueHexView=new Uint8Array($e),this.setValueHex()},get:function(){return this.valueHexView.slice().buffer}});class dn extends at{constructor(h={}){super(h,Tn),this.idBlock.tagClass=1,this.idBlock.tagNumber=2}toBigInt(){return J(),BigInt(this.valueBlock.toString())}static fromBigInt(h){J();const b=BigInt(h),k=new oe,K=b.toString(16).replace(/^-/,""),ce=new Uint8Array(_.U$.FromHex(K));if(b<0){const We=new Uint8Array(ce.length+(128&ce[0]?1:0));We[0]|=128;const j=BigInt(`0x${_.U$.ToHex(We)}`)+b,B=_._H.toUint8Array(_.U$.FromHex(j.toString(16)));B[0]|=128,k.write(B)}else 128&ce[0]&&k.write(new Uint8Array([0])),k.write(ce);return new dn({valueHex:k.final()})}convertToDER(){const h=new dn({valueHex:this.valueBlock.valueHexView});return h.valueBlock.toDER(),h}convertFromDER(){return new dn({valueHex:0===this.valueBlock.valueHexView[0]?this.valueBlock.valueHexView.subarray(1):this.valueBlock.valueHexView})}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()}`}}Ee.Integer=dn,dn.NAME="INTEGER";class ci extends dn{constructor(h={}){super(h),this.idBlock.tagClass=1,this.idBlock.tagNumber=10}}Ee.Enumerated=ci,ci.NAME="ENUMERATED";let Rt=(()=>{class $e extends(_t(Y)){constructor({valueDec:b=-1,isFirstSid:k=!1,...K}={}){super(K),this.valueDec=b,this.isFirstSid=k}fromBER(b,k,K){if(!K)return k;const ce=_._H.toUint8Array(b);if(!I(this,ce,k,K))return-1;const Ce=ce.subarray(k,k+K);this.valueHexView=new Uint8Array(K);for(let A=0;A<K&&(this.valueHexView[A]=127&Ce[A],this.blockLength++,128&Ce[A]);A++);const We=new Uint8Array(this.blockLength);for(let A=0;A<this.blockLength;A++)We[A]=this.valueHexView[A];return this.valueHexView=We,128&Ce[this.blockLength-1]?(this.error="End of input reached before message was fully decoded",-1):(0===this.valueHexView[0]&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=d(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),k+this.blockLength)}set valueBigInt(b){J();let k=BigInt(b).toString(2);for(;k.length%7;)k="0"+k;const K=new Uint8Array(k.length/7);for(let ce=0;ce<K.length;ce++)K[ce]=parseInt(k.slice(7*ce,7*ce+7),2)+(ce+1<K.length?128:0);this.fromBER(K.buffer,0,K.length)}toBER(b){if(this.isHexOnly){if(b)return new ArrayBuffer(this.valueHexView.byteLength);const ce=this.valueHexView,Ce=new Uint8Array(this.blockLength);for(let We=0;We<this.blockLength-1;We++)Ce[We]=128|ce[We];return Ce[this.blockLength-1]=ce[this.blockLength-1],Ce.buffer}const k=E(this.valueDec,7);if(0===k.byteLength)return this.error="Error during encoding SID value",ht;const K=new Uint8Array(k.byteLength);if(!b){const ce=new Uint8Array(k),Ce=k.byteLength-1;for(let We=0;We<Ce;We++)K[We]=128|ce[We];K[Ce]=ce[Ce]}return K}toString(){let b="";if(this.isHexOnly)b=_.U$.ToHex(this.valueHexView);else if(this.isFirstSid){let k=this.valueDec;this.valueDec<=39?b="0.":this.valueDec<=79?(b="1.",k-=40):(b="2.",k-=80),b+=k.toString()}else b=this.valueDec.toString();return b}toJSON(){return{...super.toJSON(),valueDec:this.valueDec,isFirstSid:this.isFirstSid}}}return $e.NAME="sidBlock",$e})(),ut=(()=>{class $e extends Y{constructor({value:b="",...k}={}){super(k),this.value=[],b&&this.fromString(b)}fromBER(b,k,K){let ce=k;for(;K>0;){const Ce=new Rt;if(ce=Ce.fromBER(b,ce,K),-1===ce)return this.blockLength=0,this.error=Ce.error,ce;0===this.value.length&&(Ce.isFirstSid=!0),this.blockLength+=Ce.blockLength,K-=Ce.blockLength,this.value.push(Ce)}return ce}toBER(b){const k=[];for(let K=0;K<this.value.length;K++){const ce=this.value[K].toBER(b);if(0===ce.byteLength)return this.error=this.value[K].error,ht;k.push(ce)}return te(k)}fromString(b){this.value=[];let k=0,K=0,ce="",Ce=!1;do{if(K=b.indexOf(".",k),ce=-1===K?b.substring(k):b.substring(k,K),k=K+1,Ce){const We=this.value[0];let A=0;switch(We.valueDec){case 0:break;case 1:A=40;break;case 2:A=80;break;default:return void(this.value=[])}const j=parseInt(ce,10);if(isNaN(j))return;We.valueDec=j+A,Ce=!1}else{const We=new Rt;if(ce>Number.MAX_SAFE_INTEGER){J();const A=BigInt(ce);We.valueBigInt=A}else if(We.valueDec=parseInt(ce,10),isNaN(We.valueDec))return;this.value.length||(We.isFirstSid=!0,Ce=!0),this.value.push(We)}}while(-1!==K)}toString(){let b="",k=!1;for(let K=0;K<this.value.length;K++){k=this.value[K].isHexOnly;let ce=this.value[K].toString();0!==K&&(b=`${b}.`),k?(ce=`{${ce}}`,this.value[K].isFirstSid?b=`2.{${ce} - 80}`:b+=ce):b+=ce}return b}toJSON(){const b={...super.toJSON(),value:this.toString(),sidArray:[]};for(let k=0;k<this.value.length;k++)b.sidArray.push(this.value[k].toJSON());return b}}return $e.NAME="ObjectIdentifierValueBlock",$e})();class $t extends at{constructor(h={}){super(h,ut),this.idBlock.tagClass=1,this.idBlock.tagNumber=6}getValue(){return this.valueBlock.toString()}setValue(h){this.valueBlock.fromString(h)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}}Ee.ObjectIdentifier=$t,$t.NAME="OBJECT IDENTIFIER";let zt=(()=>{class $e extends(_t(X)){constructor({valueDec:b=0,...k}={}){super(k),this.valueDec=b}fromBER(b,k,K){if(0===K)return k;const ce=_._H.toUint8Array(b);if(!I(this,ce,k,K))return-1;const Ce=ce.subarray(k,k+K);this.valueHexView=new Uint8Array(K);for(let A=0;A<K&&(this.valueHexView[A]=127&Ce[A],this.blockLength++,128&Ce[A]);A++);const We=new Uint8Array(this.blockLength);for(let A=0;A<this.blockLength;A++)We[A]=this.valueHexView[A];return this.valueHexView=We,128&Ce[this.blockLength-1]?(this.error="End of input reached before message was fully decoded",-1):(0===this.valueHexView[0]&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=d(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),k+this.blockLength)}toBER(b){if(this.isHexOnly){if(b)return new ArrayBuffer(this.valueHexView.byteLength);const ce=this.valueHexView,Ce=new Uint8Array(this.blockLength);for(let We=0;We<this.blockLength-1;We++)Ce[We]=128|ce[We];return Ce[this.blockLength-1]=ce[this.blockLength-1],Ce.buffer}const k=E(this.valueDec,7);if(0===k.byteLength)return this.error="Error during encoding SID value",ht;const K=new Uint8Array(k.byteLength);if(!b){const ce=new Uint8Array(k),Ce=k.byteLength-1;for(let We=0;We<Ce;We++)K[We]=128|ce[We];K[Ce]=ce[Ce]}return K.buffer}toString(){let b="";return b=this.isHexOnly?_.U$.ToHex(this.valueHexView):this.valueDec.toString(),b}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}}return $e.NAME="relativeSidBlock",$e})(),yn=(()=>{class $e extends Y{constructor({value:b="",...k}={}){super(k),this.value=[],b&&this.fromString(b)}fromBER(b,k,K){let ce=k;for(;K>0;){const Ce=new zt;if(ce=Ce.fromBER(b,ce,K),-1===ce)return this.blockLength=0,this.error=Ce.error,ce;this.blockLength+=Ce.blockLength,K-=Ce.blockLength,this.value.push(Ce)}return ce}toBER(b,k){const K=[];for(let ce=0;ce<this.value.length;ce++){const Ce=this.value[ce].toBER(b);if(0===Ce.byteLength)return this.error=this.value[ce].error,ht;K.push(Ce)}return te(K)}fromString(b){this.value=[];let k=0,K=0,ce="";do{K=b.indexOf(".",k),ce=-1===K?b.substring(k):b.substring(k,K),k=K+1;const Ce=new zt;if(Ce.valueDec=parseInt(ce,10),isNaN(Ce.valueDec))return!0;this.value.push(Ce)}while(-1!==K);return!0}toString(){let b="",k=!1;for(let K=0;K<this.value.length;K++){k=this.value[K].isHexOnly;let ce=this.value[K].toString();0!==K&&(b=`${b}.`),k&&(ce=`{${ce}}`),b+=ce}return b}toJSON(){const b={...super.toJSON(),value:this.toString(),sidArray:[]};for(let k=0;k<this.value.length;k++)b.sidArray.push(this.value[k].toJSON());return b}}return $e.NAME="RelativeObjectIdentifierValueBlock",$e})();class zn extends at{constructor(h={}){super(h,yn),this.idBlock.tagClass=1,this.idBlock.tagNumber=13}getValue(){return this.valueBlock.toString()}setValue(h){this.valueBlock.fromString(h)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}}Ee.RelativeObjectIdentifier=zn,zn.NAME="RelativeObjectIdentifier";class mn extends ${constructor(h={}){super(h),this.idBlock.tagClass=1,this.idBlock.tagNumber=16}}Ee.Sequence=mn,mn.NAME="SEQUENCE";class gi extends ${constructor(h={}){super(h),this.idBlock.tagClass=1,this.idBlock.tagNumber=17}}Ee.Set=gi,gi.NAME="SET";let ni=(()=>{class $e extends(_t(Y)){constructor({...b}={}){super(b),this.isHexOnly=!0,this.value=""}toJSON(){return{...super.toJSON(),value:this.value}}}return $e.NAME="StringValueBlock",$e})(),Bi=(()=>{class $e extends ni{}return $e.NAME="SimpleStringValueBlock",$e})(),Xn=(()=>{class $e extends ot{constructor({...b}={}){super(b,Bi)}fromBuffer(b){this.valueBlock.value=String.fromCharCode.apply(null,_._H.toUint8Array(b))}fromString(b){const k=b.length,K=this.valueBlock.valueHexView=new Uint8Array(k);for(let ce=0;ce<k;ce++)K[ce]=b.charCodeAt(ce);this.valueBlock.value=b}}return $e.NAME="SIMPLE STRING",$e})(),wi=(()=>{class $e extends Xn{fromBuffer(b){this.valueBlock.valueHexView=_._H.toUint8Array(b);try{this.valueBlock.value=_.U$.ToUtf8String(b)}catch(k){this.warnings.push(`Error during "decodeURIComponent": ${k}, using raw string`),this.valueBlock.value=_.U$.ToBinary(b)}}fromString(b){this.valueBlock.valueHexView=new Uint8Array(_.U$.FromUtf8String(b)),this.valueBlock.value=b}}return $e.NAME="Utf8StringValueBlock",$e})();class Hi extends wi{constructor(h={}){super(h),this.idBlock.tagClass=1,this.idBlock.tagNumber=12}}Ee.Utf8String=Hi,Hi.NAME="UTF8String";let ji=(()=>{class $e extends Xn{fromBuffer(b){this.valueBlock.value=_.U$.ToUtf16String(b),this.valueBlock.valueHexView=_._H.toUint8Array(b)}fromString(b){this.valueBlock.value=b,this.valueBlock.valueHexView=new Uint8Array(_.U$.FromUtf16String(b))}}return $e.NAME="BmpStringValueBlock",$e})();class tt extends ji{constructor({...h}={}){super(h),this.idBlock.tagClass=1,this.idBlock.tagNumber=30}}Ee.BmpString=tt,tt.NAME="BMPString";let Dt=(()=>{class $e extends Xn{fromBuffer(b){const k=ArrayBuffer.isView(b)?b.slice().buffer:b.slice(0),K=new Uint8Array(k);for(let ce=0;ce<K.length;ce+=4)K[ce]=K[ce+3],K[ce+1]=K[ce+2],K[ce+2]=0,K[ce+3]=0;this.valueBlock.value=String.fromCharCode.apply(null,new Uint32Array(k))}fromString(b){const k=b.length,K=this.valueBlock.valueHexView=new Uint8Array(4*k);for(let ce=0;ce<k;ce++){const Ce=E(b.charCodeAt(ce),8),We=new Uint8Array(Ce);if(We.length>4)continue;const A=4-We.length;for(let j=We.length-1;j>=0;j--)K[4*ce+j+A]=We[j]}this.valueBlock.value=b}}return $e.NAME="UniversalStringValueBlock",$e})();class rn extends Dt{constructor({...h}={}){super(h),this.idBlock.tagClass=1,this.idBlock.tagNumber=28}}Ee.UniversalString=rn,rn.NAME="UniversalString";class In extends Xn{constructor(h={}){super(h),this.idBlock.tagClass=1,this.idBlock.tagNumber=18}}Ee.NumericString=In,In.NAME="NumericString";class yt extends Xn{constructor(h={}){super(h),this.idBlock.tagClass=1,this.idBlock.tagNumber=19}}Ee.PrintableString=yt,yt.NAME="PrintableString";class ue extends Xn{constructor(h={}){super(h),this.idBlock.tagClass=1,this.idBlock.tagNumber=20}}Ee.TeletexString=ue,ue.NAME="TeletexString";class he extends Xn{constructor(h={}){super(h),this.idBlock.tagClass=1,this.idBlock.tagNumber=21}}Ee.VideotexString=he,he.NAME="VideotexString";class Et extends Xn{constructor(h={}){super(h),this.idBlock.tagClass=1,this.idBlock.tagNumber=22}}Ee.IA5String=Et,Et.NAME="IA5String";class hn extends Xn{constructor(h={}){super(h),this.idBlock.tagClass=1,this.idBlock.tagNumber=25}}Ee.GraphicString=hn,hn.NAME="GraphicString";class Zn extends Xn{constructor(h={}){super(h),this.idBlock.tagClass=1,this.idBlock.tagNumber=26}}Ee.VisibleString=Zn,Zn.NAME="VisibleString";class fi extends Xn{constructor(h={}){super(h),this.idBlock.tagClass=1,this.idBlock.tagNumber=27}}Ee.GeneralString=fi,fi.NAME="GeneralString";class Yi extends Xn{constructor(h={}){super(h),this.idBlock.tagClass=1,this.idBlock.tagNumber=29}}Ee.CharacterString=Yi,Yi.NAME="CharacterString";class Gn extends Zn{constructor({value:h,valueDate:b,...k}={}){if(super(k),this.year=0,this.month=0,this.day=0,this.hour=0,this.minute=0,this.second=0,h){this.fromString(h),this.valueBlock.valueHexView=new Uint8Array(h.length);for(let K=0;K<h.length;K++)this.valueBlock.valueHexView[K]=h.charCodeAt(K)}b&&(this.fromDate(b),this.valueBlock.valueHexView=new Uint8Array(this.toBuffer())),this.idBlock.tagClass=1,this.idBlock.tagNumber=23}fromBuffer(h){this.fromString(String.fromCharCode.apply(null,_._H.toUint8Array(h)))}toBuffer(){const h=this.toString(),b=new ArrayBuffer(h.length),k=new Uint8Array(b);for(let K=0;K<h.length;K++)k[K]=h.charCodeAt(K);return b}fromDate(h){this.year=h.getUTCFullYear(),this.month=h.getUTCMonth()+1,this.day=h.getUTCDate(),this.hour=h.getUTCHours(),this.minute=h.getUTCMinutes(),this.second=h.getUTCSeconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second))}fromString(h){const k=/(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})Z/gi.exec(h);if(null===k)return void(this.error="Wrong input string for conversion");const K=parseInt(k[1],10);this.year=K>=50?1900+K:2e3+K,this.month=parseInt(k[2],10),this.day=parseInt(k[3],10),this.hour=parseInt(k[4],10),this.minute=parseInt(k[5],10),this.second=parseInt(k[6],10)}toString(h="iso"){if("iso"===h){const b=new Array(7);return b[0]=x(this.year<2e3?this.year-1900:this.year-2e3,2),b[1]=x(this.month,2),b[2]=x(this.day,2),b[3]=x(this.hour,2),b[4]=x(this.minute,2),b[5]=x(this.second,2),b[6]="Z",b.join("")}return super.toString(h)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.toDate().toISOString()}`}toJSON(){return{...super.toJSON(),year:this.year,month:this.month,day:this.day,hour:this.hour,minute:this.minute,second:this.second}}}Ee.UTCTime=Gn,Gn.NAME="UTCTime";class cr extends Gn{constructor(h={}){var b;super(h),null!==(b=this.millisecond)&&void 0!==b||(this.millisecond=0),this.idBlock.tagClass=1,this.idBlock.tagNumber=24}fromDate(h){super.fromDate(h),this.millisecond=h.getUTCMilliseconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond))}fromString(h){let Ce,b=!1,k="",K="",ce=0,We=0,A=0;if("Z"===h[h.length-1])k=h.substring(0,h.length-1),b=!0;else{const Z=new Number(h[h.length-1]);if(isNaN(Z.valueOf()))throw new Error("Wrong input string for conversion");k=h}if(b){if(-1!==k.indexOf("+"))throw new Error("Wrong input string for conversion");if(-1!==k.indexOf("-"))throw new Error("Wrong input string for conversion")}else{let Z=1,be=k.indexOf("+"),He="";if(-1===be&&(be=k.indexOf("-"),Z=-1),-1!==be){if(He=k.substring(be+1),k=k.substring(0,be),2!==He.length&&4!==He.length)throw new Error("Wrong input string for conversion");let gt=parseInt(He.substring(0,2),10);if(isNaN(gt.valueOf()))throw new Error("Wrong input string for conversion");if(We=Z*gt,4===He.length){if(gt=parseInt(He.substring(2,4),10),isNaN(gt.valueOf()))throw new Error("Wrong input string for conversion");A=Z*gt}}}let j=k.indexOf(".");if(-1===j&&(j=k.indexOf(",")),-1!==j){const Z=new Number(`0${k.substring(j)}`);if(isNaN(Z.valueOf()))throw new Error("Wrong input string for conversion");ce=Z.valueOf(),K=k.substring(0,j)}else K=k;switch(!0){case 8===K.length:if(Ce=/(\d{4})(\d{2})(\d{2})/gi,-1!==j)throw new Error("Wrong input string for conversion");break;case 10===K.length:if(Ce=/(\d{4})(\d{2})(\d{2})(\d{2})/gi,-1!==j){let Z=60*ce;this.minute=Math.floor(Z),Z=60*(Z-this.minute),this.second=Math.floor(Z),Z=1e3*(Z-this.second),this.millisecond=Math.floor(Z)}break;case 12===K.length:if(Ce=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})/gi,-1!==j){let Z=60*ce;this.second=Math.floor(Z),Z=1e3*(Z-this.second),this.millisecond=Math.floor(Z)}break;case 14===K.length:Ce=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/gi,-1!==j&&(this.millisecond=Math.floor(1e3*ce));break;default:throw new Error("Wrong input string for conversion")}const B=Ce.exec(K);if(null===B)throw new Error("Wrong input string for conversion");for(let Z=1;Z<B.length;Z++)switch(Z){case 1:this.year=parseInt(B[Z],10);break;case 2:this.month=parseInt(B[Z],10);break;case 3:this.day=parseInt(B[Z],10);break;case 4:this.hour=parseInt(B[Z],10)+We;break;case 5:this.minute=parseInt(B[Z],10)+A;break;case 6:this.second=parseInt(B[Z],10);break;default:throw new Error("Wrong input string for conversion")}if(!1===b){const Z=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond);this.year=Z.getUTCFullYear(),this.month=Z.getUTCMonth(),this.day=Z.getUTCDay(),this.hour=Z.getUTCHours(),this.minute=Z.getUTCMinutes(),this.second=Z.getUTCSeconds(),this.millisecond=Z.getUTCMilliseconds()}}toString(h="iso"){if("iso"===h){const b=[];return b.push(x(this.year,4)),b.push(x(this.month,2)),b.push(x(this.day,2)),b.push(x(this.hour,2)),b.push(x(this.minute,2)),b.push(x(this.second,2)),0!==this.millisecond&&(b.push("."),b.push(x(this.millisecond,3))),b.push("Z"),b.join("")}return super.toString(h)}toJSON(){return{...super.toJSON(),millisecond:this.millisecond}}}Ee.GeneralizedTime=cr,cr.NAME="GeneralizedTime";class xr extends Hi{constructor(h={}){super(h),this.idBlock.tagClass=1,this.idBlock.tagNumber=31}}Ee.DATE=xr,xr.NAME="DATE";class ms extends Hi{constructor(h={}){super(h),this.idBlock.tagClass=1,this.idBlock.tagNumber=32}}Ee.TimeOfDay=ms,ms.NAME="TimeOfDay";class vi extends Hi{constructor(h={}){super(h),this.idBlock.tagClass=1,this.idBlock.tagNumber=33}}Ee.DateTime=vi,vi.NAME="DateTime";class gs extends Hi{constructor(h={}){super(h),this.idBlock.tagClass=1,this.idBlock.tagNumber=34}}Ee.Duration=gs,gs.NAME="Duration";class Ns extends Hi{constructor(h={}){super(h),this.idBlock.tagClass=1,this.idBlock.tagNumber=14}}Ee.TIME=Ns,Ns.NAME="TIME";class gr{constructor({name:h="",optional:b=!1}={}){this.name=h,this.optional=b}}class vr extends gr{constructor({value:h=[],...b}={}){super(b),this.value=h}}class Ni extends gr{constructor({value:h=new gr,local:b=!1,...k}={}){super(k),this.value=h,this.local=b}}class Hs{constructor({data:h=Ye}={}){this.dataView=_._H.toUint8Array(h)}get data(){return this.dataView.slice().buffer}set data(h){this.dataView=_._H.toUint8Array(h)}fromBER(h,b,k){const K=b+k;return this.dataView=_._H.toUint8Array(h).subarray(b,K),K}toBER(h){return this.dataView.slice().buffer}}function ai($e,h,b){if(b instanceof vr){for(let ce=0;ce<b.value.length;ce++)if(ai($e,h,b.value[ce]).verified)return{verified:!0,result:$e};{const ce={verified:!1,result:{error:"Wrong values for Choice type"}};return b.hasOwnProperty(Pe)&&(ce.name=b.name),ce}}if(b instanceof gr)return b.hasOwnProperty(Pe)&&($e[b.name]=h),{verified:!0,result:$e};if(!($e instanceof Object))return{verified:!1,result:{error:"Wrong root object"}};if(!(h instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 data"}};if(!(b instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!("idBlock"in b))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!("fromBER"in b.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!("toBER"in b.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};const k=b.idBlock.toBER(!1);if(0===k.byteLength)return{verified:!1,result:{error:"Error encoding idBlock for ASN.1 schema"}};if(-1===b.idBlock.fromBER(k,0,k.byteLength))return{verified:!1,result:{error:"Error decoding idBlock for ASN.1 schema"}};if(!1===b.idBlock.hasOwnProperty("tagClass"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(b.idBlock.tagClass!==h.idBlock.tagClass)return{verified:!1,result:$e};if(!1===b.idBlock.hasOwnProperty("tagNumber"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(b.idBlock.tagNumber!==h.idBlock.tagNumber)return{verified:!1,result:$e};if(!1===b.idBlock.hasOwnProperty("isConstructed"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(b.idBlock.isConstructed!==h.idBlock.isConstructed)return{verified:!1,result:$e};if(!("isHexOnly"in b.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(b.idBlock.isHexOnly!==h.idBlock.isHexOnly)return{verified:!1,result:$e};if(b.idBlock.isHexOnly){if(!(Re in b.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};const ce=b.idBlock.valueHexView,Ce=h.idBlock.valueHexView;if(ce.length!==Ce.length)return{verified:!1,result:$e};for(let We=0;We<ce.length;We++)if(ce[We]!==Ce[1])return{verified:!1,result:$e}}if(b.name&&(b.name=b.name.replace(/^\s+|\s+$/g,""),b.name&&($e[b.name]=h)),b instanceof Ee.Constructed){let ce=0,Ce={verified:!1,result:{error:"Unknown error"}},We=b.valueBlock.value.length;if(We>0&&b.valueBlock.value[0]instanceof Ni&&(We=h.valueBlock.value.length),0===We)return{verified:!0,result:$e};if(0===h.valueBlock.value.length&&0!==b.valueBlock.value.length){let A=!0;for(let j=0;j<b.valueBlock.value.length;j++)A=A&&(b.valueBlock.value[j].optional||!1);return A?{verified:!0,result:$e}:(b.name&&(b.name=b.name.replace(/^\s+|\s+$/g,""),b.name&&delete $e[b.name]),$e.error="Inconsistent object length",{verified:!1,result:$e})}for(let A=0;A<We;A++)if(A-ce>=h.valueBlock.value.length){if(!1===b.valueBlock.value[A].optional){const j={verified:!1,result:$e};return $e.error="Inconsistent length between ASN.1 data and schema",b.name&&(b.name=b.name.replace(/^\s+|\s+$/g,""),b.name&&(delete $e[b.name],j.name=b.name)),j}}else if(b.valueBlock.value[0]instanceof Ni){if(Ce=ai($e,h.valueBlock.value[A],b.valueBlock.value[0].value),!1===Ce.verified){if(!b.valueBlock.value[0].optional)return b.name&&(b.name=b.name.replace(/^\s+|\s+$/g,""),b.name&&delete $e[b.name]),Ce;ce++}if(Pe in b.valueBlock.value[0]&&b.valueBlock.value[0].name.length>0){let j={};j="local"in b.valueBlock.value[0]&&b.valueBlock.value[0].local?h:$e,typeof j[b.valueBlock.value[0].name]>"u"&&(j[b.valueBlock.value[0].name]=[]),j[b.valueBlock.value[0].name].push(h.valueBlock.value[A])}}else if(Ce=ai($e,h.valueBlock.value[A-ce],b.valueBlock.value[A]),!1===Ce.verified){if(!b.valueBlock.value[A].optional)return b.name&&(b.name=b.name.replace(/^\s+|\s+$/g,""),b.name&&delete $e[b.name]),Ce;ce++}if(!1===Ce.verified){const A={verified:!1,result:$e};return b.name&&(b.name=b.name.replace(/^\s+|\s+$/g,""),b.name&&(delete $e[b.name],A.name=b.name)),A}return{verified:!0,result:$e}}if(b.primitiveSchema&&Re in h.valueBlock){const ce=tn(h.valueBlock.valueHexView);if(-1===ce.offset){const Ce={verified:!1,result:ce.result};return b.name&&(b.name=b.name.replace(/^\s+|\s+$/g,""),b.name&&(delete $e[b.name],Ce.name=b.name)),Ce}return ai($e,ce.result,b.primitiveSchema)}return{verified:!0,result:$e}}class $n{constructor(h={}){this.algorithmId=S(h,"algorithmId",$n.defaultValues("algorithmId")),"algorithmParams"in h&&(this.algorithmParams=S(h,"algorithmParams",$n.defaultValues("algorithmParams"))),"schema"in h&&this.fromSchema(h.schema)}static defaultValues(h){switch(h){case"algorithmId":return"";case"algorithmParams":return new gr;default:throw new Error(`Invalid member name for AlgorithmIdentifier class: ${h}`)}}static compareWithDefault(h,b){switch(h){case"algorithmId":return""===b;case"algorithmParams":return b instanceof gr;default:throw new Error(`Invalid member name for AlgorithmIdentifier class: ${h}`)}}static schema(h={}){const b=S(h,"names",{});return new mn({name:b.blockName||"",optional:b.optional||!1,value:[new $t({name:b.algorithmIdentifier||""}),new gr({name:b.algorithmParams||"",optional:!0})]})}fromSchema(h){L(h,["algorithm","params"]);const b=ai(h,h,$n.schema({names:{algorithmIdentifier:"algorithm",algorithmParams:"params"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for AlgorithmIdentifier");this.algorithmId=b.result.algorithm.valueBlock.toString(),"params"in b.result&&(this.algorithmParams=b.result.params)}toSchema(){const h=[];return h.push(new $t({value:this.algorithmId})),"algorithmParams"in this&&!(this.algorithmParams instanceof gr)&&h.push(this.algorithmParams),new mn({value:h})}toJSON(){const h={algorithmId:this.algorithmId};return"algorithmParams"in this&&!(this.algorithmParams instanceof gr)&&(h.algorithmParams=this.algorithmParams.toJSON()),h}isEqual(h){return h instanceof $n&&this.algorithmId===h.algorithmId&&("algorithmParams"in this?"algorithmParams"in h&&JSON.stringify(this.algorithmParams)===JSON.stringify(h.algorithmParams):!("algorithmParams"in h))}}let Jr=(()=>{class $e{static register(b,k,K){this.namedCurves[b.toLowerCase()]=this.namedCurves[k]={name:b,id:k,size:K}}static find(b){return this.namedCurves[b.toLowerCase()]||null}}return $e.namedCurves={},$e})();Jr.register("P-256","1.2.840.10045.3.1.7",32),Jr.register("P-384","1.3.132.0.34",48),Jr.register("P-521","1.3.132.0.35",66),Jr.register("brainpoolP256r1","1.3.36.3.3.2.8.1.1.7",32),Jr.register("brainpoolP384r1","1.3.36.3.3.2.8.1.1.11",48),Jr.register("brainpoolP512r1","1.3.36.3.3.2.8.1.1.13",64);class pr{constructor(h={}){this.x=S(h,"x",pr.defaultValues("x")),this.y=S(h,"y",pr.defaultValues("y")),this.namedCurve=S(h,"namedCurve",pr.defaultValues("namedCurve")),"schema"in h&&this.fromSchema(h.schema),"json"in h&&this.fromJSON(h.json)}static defaultValues(h){switch(h){case"x":case"y":return new ArrayBuffer(0);case"namedCurve":return"";default:throw new Error(`Invalid member name for ECCPublicKey class: ${h}`)}}static compareWithDefault(h,b){switch(h){case"x":case"y":return R(b,pr.defaultValues(h));case"namedCurve":return""===b;default:throw new Error(`Invalid member name for ECCPublicKey class: ${h}`)}}static schema(h={}){return new Hs}fromSchema(h){if(!(h instanceof ArrayBuffer))throw new Error("Object's schema was not verified against input data for ECPublicKey");if(4!==new Uint8Array(h)[0])throw new Error("Object's schema was not verified against input data for ECPublicKey");const k=Jr.find(this.namedCurve);if(!k)throw new Error(`Incorrect curve OID: ${this.namedCurve}`);const K=k.size;if(h.byteLength!==2*K+1)throw new Error("Object's schema was not verified against input data for ECPublicKey");this.x=h.slice(1,K+1),this.y=h.slice(1+K,2*K+1)}toSchema(){return new Hs({data:m(new Uint8Array([4]).buffer,this.x,this.y)})}toJSON(){const h=Jr.find(this.namedCurve);return{crv:h?h.name:this.namedCurve,x:M(U(this.x),!0,!0,!1),y:M(U(this.y),!0,!0,!1)}}fromJSON(h){let b=0;if(!("crv"in h))throw new Error('Absent mandatory parameter "crv"');{const k=Jr.find(h.crv);k&&(this.namedCurve=k.id,b=k.size)}if(!("x"in h))throw new Error('Absent mandatory parameter "x"');{const k=G(V(h.x,!0));if(k.byteLength<b){this.x=new ArrayBuffer(b);const K=new Uint8Array(this.x),ce=new Uint8Array(k);K.set(ce,1)}else this.x=k.slice(0,b)}if(!("y"in h))throw new Error('Absent mandatory parameter "y"');{const k=G(V(h.y,!0));if(k.byteLength<b){this.y=new ArrayBuffer(b);const K=new Uint8Array(this.y),ce=new Uint8Array(k);K.set(ce,1)}else this.y=k.slice(0,b)}}}class Sr{constructor(h={}){this.modulus=S(h,"modulus",Sr.defaultValues("modulus")),this.publicExponent=S(h,"publicExponent",Sr.defaultValues("publicExponent")),"schema"in h&&this.fromSchema(h.schema),"json"in h&&this.fromJSON(h.json)}static defaultValues(h){switch(h){case"modulus":case"publicExponent":return new dn;default:throw new Error(`Invalid member name for RSAPublicKey class: ${h}`)}}static schema(h={}){const b=S(h,"names",{});return new mn({name:b.blockName||"",value:[new dn({name:b.modulus||""}),new dn({name:b.publicExponent||""})]})}fromSchema(h){L(h,["modulus","publicExponent"]);const b=ai(h,h,Sr.schema({names:{modulus:"modulus",publicExponent:"publicExponent"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for RSAPublicKey");this.modulus=b.result.modulus.convertFromDER(256),this.publicExponent=b.result.publicExponent}toSchema(){return new mn({value:[this.modulus.convertToDER(),this.publicExponent]})}toJSON(){return{n:M(U(this.modulus.valueBlock.valueHex),!0,!0,!0),e:M(U(this.publicExponent.valueBlock.valueHex),!0,!0,!0)}}fromJSON(h){if(!("n"in h))throw new Error('Absent mandatory parameter "n"');{const b=G(V(h.n,!0));this.modulus=new dn({valueHex:b.slice(0,Math.pow(2,le(b.byteLength)))})}if(!("e"in h))throw new Error('Absent mandatory parameter "e"');this.publicExponent=new dn({valueHex:G(V(h.e,!0)).slice(0,3)})}}class Er{constructor(h={}){this.algorithm=S(h,"algorithm",Er.defaultValues("algorithm")),this.subjectPublicKey=S(h,"subjectPublicKey",Er.defaultValues("subjectPublicKey")),"parsedKey"in h&&(this.parsedKey=S(h,"parsedKey",Er.defaultValues("parsedKey"))),"schema"in h&&this.fromSchema(h.schema),"json"in h&&this.fromJSON(h.json)}static defaultValues(h){switch(h){case"algorithm":return new $n;case"subjectPublicKey":return new lt;default:throw new Error(`Invalid member name for PublicKeyInfo class: ${h}`)}}static schema(h={}){const b=S(h,"names",{});return new mn({name:b.blockName||"",value:[$n.schema(b.algorithm||{}),new lt({name:b.subjectPublicKey||""})]})}fromSchema(h){L(h,["algorithm","subjectPublicKey"]);const b=ai(h,h,Er.schema({names:{algorithm:{names:{blockName:"algorithm"}},subjectPublicKey:"subjectPublicKey"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for PublicKeyInfo");switch(this.algorithm=new $n({schema:b.result.algorithm}),this.subjectPublicKey=b.result.subjectPublicKey,this.algorithm.algorithmId){case"1.2.840.10045.2.1":if("algorithmParams"in this.algorithm&&this.algorithm.algorithmParams.constructor.blockName()===$t.blockName())try{this.parsedKey=new pr({namedCurve:this.algorithm.algorithmParams.valueBlock.toString(),schema:this.subjectPublicKey.valueBlock.valueHex})}catch{}break;case"1.2.840.113549.1.1.1":{const k=it(this.subjectPublicKey.valueBlock.valueHex);if(-1!==k.offset)try{this.parsedKey=new Sr({schema:k.result})}catch{}}}}toSchema(){return new mn({value:[this.algorithm.toSchema(),this.subjectPublicKey]})}toJSON(){if(!("parsedKey"in this))return{algorithm:this.algorithm.toJSON(),subjectPublicKey:this.subjectPublicKey.toJSON()};const h={};switch(this.algorithm.algorithmId){case"1.2.840.10045.2.1":h.kty="EC";break;case"1.2.840.113549.1.1.1":h.kty="RSA"}const b=this.parsedKey.toJSON();for(const k of Object.keys(b))h[k]=b[k];return h}fromJSON(h){if("kty"in h){switch(h.kty.toUpperCase()){case"EC":this.parsedKey=new pr({json:h}),this.algorithm=new $n({algorithmId:"1.2.840.10045.2.1",algorithmParams:new $t({value:this.parsedKey.namedCurve})});break;case"RSA":this.parsedKey=new Sr({json:h}),this.algorithm=new $n({algorithmId:"1.2.840.113549.1.1.1",algorithmParams:new Pt});break;default:throw new Error(`Invalid value for "kty" parameter: ${h.kty}`)}this.subjectPublicKey=new lt({valueHex:this.parsedKey.toSchema().toBER(!1)})}}importKey(h){let b=Promise.resolve();const k=this;if(typeof h>"u")return Promise.reject("Need to provide publicKey input parameter");const K=os();return typeof K>"u"?Promise.reject("Unable to create WebCrypto object"):(b=b.then(()=>K.exportKey("spki",h)),b=b.then(ce=>{const Ce=it(ce);try{k.fromSchema(Ce.result)}catch{return Promise.reject("Error during initializing object from schema")}},ce=>Promise.reject(`Error during exporting public key: ${ce}`)),b)}}class kr{constructor(h={}){this.type=S(h,"type",kr.defaultValues("type")),this.values=S(h,"values",kr.defaultValues("values")),"schema"in h&&this.fromSchema(h.schema)}static defaultValues(h){switch(h){case"type":return"";case"values":return[];default:throw new Error(`Invalid member name for Attribute class: ${h}`)}}static compareWithDefault(h,b){switch(h){case"type":return""===b;case"values":return 0===b.length;default:throw new Error(`Invalid member name for Attribute class: ${h}`)}}static schema(h={}){const b=S(h,"names",{});return new mn({name:b.blockName||"",value:[new $t({name:b.type||""}),new gi({name:b.setName||"",value:[new Ni({name:b.values||"",value:new gr})]})]})}fromSchema(h){L(h,["type","values"]);const b=ai(h,h,kr.schema({names:{type:"type",values:"values"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for Attribute");this.type=b.result.type.valueBlock.toString(),this.values=b.result.values}toSchema(){return new mn({value:[new $t({value:this.type}),new gi({value:this.values})]})}toJSON(){return{type:this.type,values:Array.from(this.values,h=>h.toJSON())}}}class Lr{constructor(h={}){this.version=S(h,"version",Lr.defaultValues("version")),this.privateKey=S(h,"privateKey",Lr.defaultValues("privateKey")),"namedCurve"in h&&(this.namedCurve=S(h,"namedCurve",Lr.defaultValues("namedCurve"))),"publicKey"in h&&(this.publicKey=S(h,"publicKey",Lr.defaultValues("publicKey"))),"schema"in h&&this.fromSchema(h.schema),"json"in h&&this.fromJSON(h.json)}static defaultValues(h){switch(h){case"version":return 1;case"privateKey":return new It;case"namedCurve":return"";case"publicKey":return new pr;default:throw new Error(`Invalid member name for ECCPrivateKey class: ${h}`)}}static compareWithDefault(h,b){switch(h){case"version":return b===Lr.defaultValues(h);case"privateKey":return b.isEqual(Lr.defaultValues(h));case"namedCurve":return""===b;case"publicKey":return pr.compareWithDefault("namedCurve",b.namedCurve)&&pr.compareWithDefault("x",b.x)&&pr.compareWithDefault("y",b.y);default:throw new Error(`Invalid member name for ECCPrivateKey class: ${h}`)}}static schema(h={}){const b=S(h,"names",{});return new mn({name:b.blockName||"",value:[new dn({name:b.version||""}),new It({name:b.privateKey||""}),new $({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new $t({name:b.namedCurve||""})]}),new $({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new lt({name:b.publicKey||""})]})]})}fromSchema(h){L(h,["version","privateKey","namedCurve","publicKey"]);const b=ai(h,h,Lr.schema({names:{version:"version",privateKey:"privateKey",namedCurve:"namedCurve",publicKey:"publicKey"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for ECPrivateKey");if(this.version=b.result.version.valueBlock.valueDec,this.privateKey=b.result.privateKey,"namedCurve"in b.result&&(this.namedCurve=b.result.namedCurve.valueBlock.toString()),"publicKey"in b.result){const k={schema:b.result.publicKey.valueBlock.valueHex};"namedCurve"in this&&(k.namedCurve=this.namedCurve),this.publicKey=new pr(k)}}toSchema(){const h=[new dn({value:this.version}),this.privateKey];return"namedCurve"in this&&h.push(new $({idBlock:{tagClass:3,tagNumber:0},value:[new $t({value:this.namedCurve})]})),"publicKey"in this&&h.push(new $({idBlock:{tagClass:3,tagNumber:1},value:[new lt({valueHex:this.publicKey.toSchema().toBER(!1)})]})),new mn({value:h})}toJSON(){if(!("namedCurve"in this)||Lr.compareWithDefault("namedCurve",this.namedCurve))throw new Error('Not enough information for making JSON: absent "namedCurve" value');let h="";switch(this.namedCurve){case"1.2.840.10045.3.1.7":h="P-256";break;case"1.3.132.0.34":h="P-384";break;case"1.3.132.0.35":h="P-521"}const b={crv:h,d:M(U(this.privateKey.valueBlock.valueHex),!0,!0,!1)};if("publicKey"in this){const k=this.publicKey.toJSON();b.x=k.x,b.y=k.y}return b}fromJSON(h){let b=0;if(!("crv"in h))throw new Error('Absent mandatory parameter "crv"');switch(h.crv.toUpperCase()){case"P-256":this.namedCurve="1.2.840.10045.3.1.7",b=32;break;case"P-384":this.namedCurve="1.3.132.0.34",b=48;break;case"P-521":this.namedCurve="1.3.132.0.35",b=66}if(!("d"in h))throw new Error('Absent mandatory parameter "d"');{const k=G(V(h.d,!0));if(k.byteLength<b){const K=new ArrayBuffer(b),ce=new Uint8Array(K),Ce=new Uint8Array(k);ce.set(Ce,1),this.privateKey=new It({valueHex:K})}else this.privateKey=new It({valueHex:k.slice(0,b)})}"x"in h&&"y"in h&&(this.publicKey=new pr({json:h}))}}class er{constructor(h={}){this.prime=S(h,"prime",er.defaultValues("prime")),this.exponent=S(h,"exponent",er.defaultValues("exponent")),this.coefficient=S(h,"coefficient",er.defaultValues("coefficient")),"schema"in h&&this.fromSchema(h.schema),"json"in h&&this.fromJSON(h.json)}static defaultValues(h){switch(h){case"prime":case"exponent":case"coefficient":return new dn;default:throw new Error(`Invalid member name for OtherPrimeInfo class: ${h}`)}}static schema(h={}){const b=S(h,"names",{});return new mn({name:b.blockName||"",value:[new dn({name:b.prime||""}),new dn({name:b.exponent||""}),new dn({name:b.coefficient||""})]})}fromSchema(h){L(h,["prime","exponent","coefficient"]);const b=ai(h,h,er.schema({names:{prime:"prime",exponent:"exponent",coefficient:"coefficient"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for OtherPrimeInfo");this.prime=b.result.prime.convertFromDER(),this.exponent=b.result.exponent.convertFromDER(),this.coefficient=b.result.coefficient.convertFromDER()}toSchema(){return new mn({value:[this.prime.convertToDER(),this.exponent.convertToDER(),this.coefficient.convertToDER()]})}toJSON(){return{r:M(U(this.prime.valueBlock.valueHex),!0,!0),d:M(U(this.exponent.valueBlock.valueHex),!0,!0),t:M(U(this.coefficient.valueBlock.valueHex),!0,!0)}}fromJSON(h){if(!("r"in h))throw new Error('Absent mandatory parameter "r"');if(this.prime=new dn({valueHex:G(V(h.r,!0))}),!("d"in h))throw new Error('Absent mandatory parameter "d"');if(this.exponent=new dn({valueHex:G(V(h.d,!0))}),!("t"in h))throw new Error('Absent mandatory parameter "t"');this.coefficient=new dn({valueHex:G(V(h.t,!0))})}}class tr{constructor(h={}){this.version=S(h,"version",tr.defaultValues("version")),this.modulus=S(h,"modulus",tr.defaultValues("modulus")),this.publicExponent=S(h,"publicExponent",tr.defaultValues("publicExponent")),this.privateExponent=S(h,"privateExponent",tr.defaultValues("privateExponent")),this.prime1=S(h,"prime1",tr.defaultValues("prime1")),this.prime2=S(h,"prime2",tr.defaultValues("prime2")),this.exponent1=S(h,"exponent1",tr.defaultValues("exponent1")),this.exponent2=S(h,"exponent2",tr.defaultValues("exponent2")),this.coefficient=S(h,"coefficient",tr.defaultValues("coefficient")),"otherPrimeInfos"in h&&(this.otherPrimeInfos=S(h,"otherPrimeInfos",tr.defaultValues("otherPrimeInfos"))),"schema"in h&&this.fromSchema(h.schema),"json"in h&&this.fromJSON(h.json)}static defaultValues(h){switch(h){case"version":return 0;case"modulus":case"publicExponent":case"privateExponent":case"prime1":case"prime2":case"exponent1":case"exponent2":case"coefficient":return new dn;case"otherPrimeInfos":return[];default:throw new Error(`Invalid member name for RSAPrivateKey class: ${h}`)}}static schema(h={}){const b=S(h,"names",{});return new mn({name:b.blockName||"",value:[new dn({name:b.version||""}),new dn({name:b.modulus||""}),new dn({name:b.publicExponent||""}),new dn({name:b.privateExponent||""}),new dn({name:b.prime1||""}),new dn({name:b.prime2||""}),new dn({name:b.exponent1||""}),new dn({name:b.exponent2||""}),new dn({name:b.coefficient||""}),new mn({optional:!0,value:[new Ni({name:b.otherPrimeInfosName||"",value:er.schema(b.otherPrimeInfo||{})})]})]})}fromSchema(h){L(h,["version","modulus","publicExponent","privateExponent","prime1","prime2","exponent1","exponent2","coefficient","otherPrimeInfos"]);const b=ai(h,h,tr.schema({names:{version:"version",modulus:"modulus",publicExponent:"publicExponent",privateExponent:"privateExponent",prime1:"prime1",prime2:"prime2",exponent1:"exponent1",exponent2:"exponent2",coefficient:"coefficient",otherPrimeInfo:{names:{blockName:"otherPrimeInfos"}}}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for RSAPrivateKey");this.version=b.result.version.valueBlock.valueDec,this.modulus=b.result.modulus.convertFromDER(256),this.publicExponent=b.result.publicExponent,this.privateExponent=b.result.privateExponent.convertFromDER(256),this.prime1=b.result.prime1.convertFromDER(128),this.prime2=b.result.prime2.convertFromDER(128),this.exponent1=b.result.exponent1.convertFromDER(128),this.exponent2=b.result.exponent2.convertFromDER(128),this.coefficient=b.result.coefficient.convertFromDER(128),"otherPrimeInfos"in b.result&&(this.otherPrimeInfos=Array.from(b.result.otherPrimeInfos,k=>new er({schema:k})))}toSchema(){const h=[];return h.push(new dn({value:this.version})),h.push(this.modulus.convertToDER()),h.push(this.publicExponent),h.push(this.privateExponent.convertToDER()),h.push(this.prime1.convertToDER()),h.push(this.prime2.convertToDER()),h.push(this.exponent1.convertToDER()),h.push(this.exponent2.convertToDER()),h.push(this.coefficient.convertToDER()),"otherPrimeInfos"in this&&h.push(new mn({value:Array.from(this.otherPrimeInfos,b=>b.toSchema())})),new mn({value:h})}toJSON(){const h={n:M(U(this.modulus.valueBlock.valueHex),!0,!0,!0),e:M(U(this.publicExponent.valueBlock.valueHex),!0,!0,!0),d:M(U(this.privateExponent.valueBlock.valueHex),!0,!0,!0),p:M(U(this.prime1.valueBlock.valueHex),!0,!0,!0),q:M(U(this.prime2.valueBlock.valueHex),!0,!0,!0),dp:M(U(this.exponent1.valueBlock.valueHex),!0,!0,!0),dq:M(U(this.exponent2.valueBlock.valueHex),!0,!0,!0),qi:M(U(this.coefficient.valueBlock.valueHex),!0,!0,!0)};return"otherPrimeInfos"in this&&(h.oth=Array.from(this.otherPrimeInfos,b=>b.toJSON())),h}fromJSON(h){if(!("n"in h))throw new Error('Absent mandatory parameter "n"');if(this.modulus=new dn({valueHex:G(V(h.n,!0,!0))}),!("e"in h))throw new Error('Absent mandatory parameter "e"');if(this.publicExponent=new dn({valueHex:G(V(h.e,!0,!0))}),!("d"in h))throw new Error('Absent mandatory parameter "d"');if(this.privateExponent=new dn({valueHex:G(V(h.d,!0,!0))}),!("p"in h))throw new Error('Absent mandatory parameter "p"');if(this.prime1=new dn({valueHex:G(V(h.p,!0,!0))}),!("q"in h))throw new Error('Absent mandatory parameter "q"');if(this.prime2=new dn({valueHex:G(V(h.q,!0,!0))}),!("dp"in h))throw new Error('Absent mandatory parameter "dp"');if(this.exponent1=new dn({valueHex:G(V(h.dp,!0,!0))}),!("dq"in h))throw new Error('Absent mandatory parameter "dq"');if(this.exponent2=new dn({valueHex:G(V(h.dq,!0,!0))}),!("qi"in h))throw new Error('Absent mandatory parameter "qi"');this.coefficient=new dn({valueHex:G(V(h.qi,!0,!0))}),"oth"in h&&(this.otherPrimeInfos=Array.from(h.oth,b=>new er({json:b})))}}class Wn{constructor(h={}){this.version=S(h,"version",Wn.defaultValues("version")),this.privateKeyAlgorithm=S(h,"privateKeyAlgorithm",Wn.defaultValues("privateKeyAlgorithm")),this.privateKey=S(h,"privateKey",Wn.defaultValues("privateKey")),"attributes"in h&&(this.attributes=S(h,"attributes",Wn.defaultValues("attributes"))),"parsedKey"in h&&(this.parsedKey=S(h,"parsedKey",Wn.defaultValues("parsedKey"))),"schema"in h&&this.fromSchema(h.schema),"json"in h&&this.fromJSON(h.json)}static defaultValues(h){switch(h){case"version":return 0;case"privateKeyAlgorithm":return new $n;case"privateKey":return new It;case"attributes":return[];case"parsedKey":return{};default:throw new Error(`Invalid member name for PrivateKeyInfo class: ${h}`)}}static schema(h={}){const b=S(h,"names",{});return new mn({name:b.blockName||"",value:[new dn({name:b.version||""}),$n.schema(b.privateKeyAlgorithm||{}),new It({name:b.privateKey||""}),new $({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new Ni({name:b.attributes||"",value:kr.schema()})]})]})}fromSchema(h){L(h,["version","privateKeyAlgorithm","privateKey","attributes"]);const b=ai(h,h,Wn.schema({names:{version:"version",privateKeyAlgorithm:{names:{blockName:"privateKeyAlgorithm"}},privateKey:"privateKey",attributes:"attributes"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for PrivateKeyInfo");switch(this.version=b.result.version.valueBlock.valueDec,this.privateKeyAlgorithm=new $n({schema:b.result.privateKeyAlgorithm}),this.privateKey=b.result.privateKey,"attributes"in b.result&&(this.attributes=Array.from(b.result.attributes,k=>new kr({schema:k}))),this.privateKeyAlgorithm.algorithmId){case"1.2.840.113549.1.1.1":{const k=it(this.privateKey.valueBlock.valueHex);-1!==k.offset&&(this.parsedKey=new tr({schema:k.result}))}break;case"1.2.840.10045.2.1":if("algorithmParams"in this.privateKeyAlgorithm&&this.privateKeyAlgorithm.algorithmParams instanceof $t){const k=it(this.privateKey.valueBlock.valueHex);-1!==k.offset&&(this.parsedKey=new Lr({namedCurve:this.privateKeyAlgorithm.algorithmParams.valueBlock.toString(),schema:k.result}))}}}toSchema(){const h=[new dn({value:this.version}),this.privateKeyAlgorithm.toSchema(),this.privateKey];return"attributes"in this&&h.push(new $({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.attributes,b=>b.toSchema())})),new mn({value:h})}toJSON(){if(!("parsedKey"in this)){const k={version:this.version,privateKeyAlgorithm:this.privateKeyAlgorithm.toJSON(),privateKey:this.privateKey.toJSON()};return"attributes"in this&&(k.attributes=Array.from(this.attributes,K=>K.toJSON())),k}const h={};switch(this.privateKeyAlgorithm.algorithmId){case"1.2.840.10045.2.1":h.kty="EC";break;case"1.2.840.113549.1.1.1":h.kty="RSA"}const b=this.parsedKey.toJSON();for(const k of Object.keys(b))h[k]=b[k];return h}fromJSON(h){if("kty"in h){switch(h.kty.toUpperCase()){case"EC":this.parsedKey=new Lr({json:h}),this.privateKeyAlgorithm=new $n({algorithmId:"1.2.840.10045.2.1",algorithmParams:new $t({value:this.parsedKey.namedCurve})});break;case"RSA":this.parsedKey=new tr({json:h}),this.privateKeyAlgorithm=new $n({algorithmId:"1.2.840.113549.1.1.1",algorithmParams:new Pt});break;default:throw new Error(`Invalid value for "kty" parameter: ${h.kty}`)}this.privateKey=new It({valueHex:this.parsedKey.toSchema().toBER(!1)})}}}class Gr{constructor(h={}){if(this.contentType=S(h,"contentType",Gr.defaultValues("contentType")),this.contentEncryptionAlgorithm=S(h,"contentEncryptionAlgorithm",Gr.defaultValues("contentEncryptionAlgorithm")),"encryptedContent"in h&&(this.encryptedContent=h.encryptedContent,1===this.encryptedContent.idBlock.tagClass&&4===this.encryptedContent.idBlock.tagNumber&&!1===this.encryptedContent.idBlock.isConstructed)){const b=new It({idBlock:{isConstructed:!0},isConstructed:!0});let k=0,K=this.encryptedContent.valueBlock.valueHex.byteLength;for(;K>0;){const ce=new Uint8Array(this.encryptedContent.valueBlock.valueHex,k,k+1024>this.encryptedContent.valueBlock.valueHex.byteLength?this.encryptedContent.valueBlock.valueHex.byteLength-k:1024),Ce=new ArrayBuffer(ce.length),We=new Uint8Array(Ce);for(let A=0;A<We.length;A++)We[A]=ce[A];b.valueBlock.value.push(new It({valueHex:Ce})),K-=ce.length,k+=ce.length}this.encryptedContent=b}"schema"in h&&this.fromSchema(h.schema)}static defaultValues(h){switch(h){case"contentType":return"";case"contentEncryptionAlgorithm":return new $n;case"encryptedContent":return new It;default:throw new Error(`Invalid member name for EncryptedContentInfo class: ${h}`)}}static compareWithDefault(h,b){switch(h){case"contentType":return""===b;case"contentEncryptionAlgorithm":return""===b.algorithmId&&!("algorithmParams"in b);case"encryptedContent":return b.isEqual(Gr.defaultValues(h));default:throw new Error(`Invalid member name for EncryptedContentInfo class: ${h}`)}}static schema(h={}){const b=S(h,"names",{});return new mn({name:b.blockName||"",value:[new $t({name:b.contentType||""}),$n.schema(b.contentEncryptionAlgorithm||{}),new vr({value:[new $({name:b.encryptedContent||"",idBlock:{tagClass:3,tagNumber:0},value:[new Ni({value:new It})]}),new nt({name:b.encryptedContent||"",idBlock:{tagClass:3,tagNumber:0}})]})]})}fromSchema(h){L(h,["contentType","contentEncryptionAlgorithm","encryptedContent"]);const b=ai(h,h,Gr.schema({names:{contentType:"contentType",contentEncryptionAlgorithm:{names:{blockName:"contentEncryptionAlgorithm"}},encryptedContent:"encryptedContent"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for EncryptedContentInfo");this.contentType=b.result.contentType.valueBlock.toString(),this.contentEncryptionAlgorithm=new $n({schema:b.result.contentEncryptionAlgorithm}),"encryptedContent"in b.result&&(this.encryptedContent=b.result.encryptedContent,this.encryptedContent.idBlock.tagClass=1,this.encryptedContent.idBlock.tagNumber=4)}toSchema(){const h={isIndefiniteForm:!1},b=[];if(b.push(new $t({value:this.contentType})),b.push(this.contentEncryptionAlgorithm.toSchema()),"encryptedContent"in this){h.isIndefiniteForm=this.encryptedContent.idBlock.isConstructed;const k=this.encryptedContent;k.idBlock.tagClass=3,k.idBlock.tagNumber=0,k.lenBlock.isIndefiniteForm=this.encryptedContent.idBlock.isConstructed,b.push(k)}return new mn({lenBlock:h,value:b})}toJSON(){const h={contentType:this.contentType,contentEncryptionAlgorithm:this.contentEncryptionAlgorithm.toJSON()};return"encryptedContent"in this&&(h.encryptedContent=this.encryptedContent.toJSON()),h}}class ur{constructor(h={}){this.hashAlgorithm=S(h,"hashAlgorithm",ur.defaultValues("hashAlgorithm")),this.maskGenAlgorithm=S(h,"maskGenAlgorithm",ur.defaultValues("maskGenAlgorithm")),this.saltLength=S(h,"saltLength",ur.defaultValues("saltLength")),this.trailerField=S(h,"trailerField",ur.defaultValues("trailerField")),"schema"in h&&this.fromSchema(h.schema)}static defaultValues(h){switch(h){case"hashAlgorithm":return new $n({algorithmId:"1.3.14.3.2.26",algorithmParams:new Pt});case"maskGenAlgorithm":return new $n({algorithmId:"1.2.840.113549.1.1.8",algorithmParams:new $n({algorithmId:"1.3.14.3.2.26",algorithmParams:new Pt}).toSchema()});case"saltLength":return 20;case"trailerField":return 1;default:throw new Error(`Invalid member name for RSASSAPSSParams class: ${h}`)}}static schema(h={}){const b=S(h,"names",{});return new mn({name:b.blockName||"",value:[new $({idBlock:{tagClass:3,tagNumber:0},optional:!0,value:[$n.schema(b.hashAlgorithm||{})]}),new $({idBlock:{tagClass:3,tagNumber:1},optional:!0,value:[$n.schema(b.maskGenAlgorithm||{})]}),new $({idBlock:{tagClass:3,tagNumber:2},optional:!0,value:[new dn({name:b.saltLength||""})]}),new $({idBlock:{tagClass:3,tagNumber:3},optional:!0,value:[new dn({name:b.trailerField||""})]})]})}fromSchema(h){L(h,["hashAlgorithm","maskGenAlgorithm","saltLength","trailerField"]);const b=ai(h,h,ur.schema({names:{hashAlgorithm:{names:{blockName:"hashAlgorithm"}},maskGenAlgorithm:{names:{blockName:"maskGenAlgorithm"}},saltLength:"saltLength",trailerField:"trailerField"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for RSASSAPSSParams");"hashAlgorithm"in b.result&&(this.hashAlgorithm=new $n({schema:b.result.hashAlgorithm})),"maskGenAlgorithm"in b.result&&(this.maskGenAlgorithm=new $n({schema:b.result.maskGenAlgorithm})),"saltLength"in b.result&&(this.saltLength=b.result.saltLength.valueBlock.valueDec),"trailerField"in b.result&&(this.trailerField=b.result.trailerField.valueBlock.valueDec)}toSchema(){const h=[];return this.hashAlgorithm.isEqual(ur.defaultValues("hashAlgorithm"))||h.push(new $({idBlock:{tagClass:3,tagNumber:0},value:[this.hashAlgorithm.toSchema()]})),this.maskGenAlgorithm.isEqual(ur.defaultValues("maskGenAlgorithm"))||h.push(new $({idBlock:{tagClass:3,tagNumber:1},value:[this.maskGenAlgorithm.toSchema()]})),this.saltLength!==ur.defaultValues("saltLength")&&h.push(new $({idBlock:{tagClass:3,tagNumber:2},value:[new dn({value:this.saltLength})]})),this.trailerField!==ur.defaultValues("trailerField")&&h.push(new $({idBlock:{tagClass:3,tagNumber:3},value:[new dn({value:this.trailerField})]})),new mn({value:h})}toJSON(){const h={};return this.hashAlgorithm.isEqual(ur.defaultValues("hashAlgorithm"))||(h.hashAlgorithm=this.hashAlgorithm.toJSON()),this.maskGenAlgorithm.isEqual(ur.defaultValues("maskGenAlgorithm"))||(h.maskGenAlgorithm=this.maskGenAlgorithm.toJSON()),this.saltLength!==ur.defaultValues("saltLength")&&(h.saltLength=this.saltLength),this.trailerField!==ur.defaultValues("trailerField")&&(h.trailerField=this.trailerField),h}}class Nr{constructor(h={}){this.salt=S(h,"salt",Nr.defaultValues("salt")),this.iterationCount=S(h,"iterationCount",Nr.defaultValues("iterationCount")),"keyLength"in h&&(this.keyLength=S(h,"keyLength",Nr.defaultValues("keyLength"))),"prf"in h&&(this.prf=S(h,"prf",Nr.defaultValues("prf"))),"schema"in h&&this.fromSchema(h.schema)}static defaultValues(h){switch(h){case"salt":return{};case"iterationCount":return-1;case"keyLength":return 0;case"prf":return new $n({algorithmId:"1.3.14.3.2.26",algorithmParams:new Pt});default:throw new Error(`Invalid member name for PBKDF2Params class: ${h}`)}}static schema(h={}){const b=S(h,"names",{});return new mn({name:b.blockName||"",value:[new vr({value:[new It({name:b.saltPrimitive||""}),$n.schema(b.saltConstructed||{})]}),new dn({name:b.iterationCount||""}),new dn({name:b.keyLength||"",optional:!0}),$n.schema(b.prf||{names:{optional:!0}})]})}fromSchema(h){L(h,["salt","iterationCount","keyLength","prf"]);const b=ai(h,h,Nr.schema({names:{saltPrimitive:"salt",saltConstructed:{names:{blockName:"salt"}},iterationCount:"iterationCount",keyLength:"keyLength",prf:{names:{blockName:"prf",optional:!0}}}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for PBKDF2Params");this.salt=b.result.salt,this.iterationCount=b.result.iterationCount.valueBlock.valueDec,"keyLength"in b.result&&(this.keyLength=b.result.keyLength.valueBlock.valueDec),"prf"in b.result&&(this.prf=new $n({schema:b.result.prf}))}toSchema(){const h=[];return h.push(this.salt),h.push(new dn({value:this.iterationCount})),"keyLength"in this&&Nr.defaultValues("keyLength")!==this.keyLength&&h.push(new dn({value:this.keyLength})),"prf"in this&&!1===Nr.defaultValues("prf").isEqual(this.prf)&&h.push(this.prf.toSchema()),new mn({value:h})}toJSON(){const h={salt:this.salt.toJSON(),iterationCount:this.iterationCount};return"keyLength"in this&&Nr.defaultValues("keyLength")!==this.keyLength&&(h.keyLength=this.keyLength),"prf"in this&&!1===Nr.defaultValues("prf").isEqual(this.prf)&&(h.prf=this.prf.toJSON()),h}}class rs{constructor(h={}){this.keyDerivationFunc=S(h,"keyDerivationFunc",rs.defaultValues("keyDerivationFunc")),this.encryptionScheme=S(h,"encryptionScheme",rs.defaultValues("encryptionScheme")),"schema"in h&&this.fromSchema(h.schema)}static defaultValues(h){switch(h){case"keyDerivationFunc":case"encryptionScheme":return new $n;default:throw new Error(`Invalid member name for PBES2Params class: ${h}`)}}static schema(h={}){const b=S(h,"names",{});return new mn({name:b.blockName||"",value:[$n.schema(b.keyDerivationFunc||{}),$n.schema(b.encryptionScheme||{})]})}fromSchema(h){L(h,["keyDerivationFunc","encryptionScheme"]);const b=ai(h,h,rs.schema({names:{keyDerivationFunc:{names:{blockName:"keyDerivationFunc"}},encryptionScheme:{names:{blockName:"encryptionScheme"}}}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for PBES2Params");this.keyDerivationFunc=new $n({schema:b.result.keyDerivationFunc}),this.encryptionScheme=new $n({schema:b.result.encryptionScheme})}toSchema(){return new mn({value:[this.keyDerivationFunc.toSchema(),this.encryptionScheme.toSchema()]})}toJSON(){return{keyDerivationFunc:this.keyDerivationFunc.toJSON(),encryptionScheme:this.encryptionScheme.toJSON()}}}function qs($e,h,b,k,K,ce){let Ce,We;const A=[];switch(h.toUpperCase()){case"SHA-1":Ce=20,We=64;break;case"SHA-256":Ce=32,We=64;break;case"SHA-384":Ce=48,We=128;break;case"SHA-512":Ce=64,We=128;break;default:throw new Error("Unsupported hashing algorithm")}const j=new Uint8Array(k),B=new ArrayBuffer(2*k.byteLength+2),Z=new Uint8Array(B);for(let Yr=0;Yr<j.length;Yr++)Z[2*Yr]=0,Z[2*Yr+1]=j[Yr];Z[Z.length-2]=0,Z[Z.length-1]=0,k=B.slice(0);const be=new ArrayBuffer(We),He=new Uint8Array(be);for(let Yr=0;Yr<be.byteLength;Yr++)He[Yr]=3;const gt=K.byteLength,on=We*Math.ceil(gt/We),en=new ArrayBuffer(on),Un=new Uint8Array(en),Oi=new Uint8Array(K);for(let Yr=0;Yr<on;Yr++)Un[Yr]=Oi[Yr%gt];const Pi=k.byteLength,hr=We*Math.ceil(Pi/We),Vs=new ArrayBuffer(hr),xs=new Uint8Array(Vs),Da=new Uint8Array(k);for(let Yr=0;Yr<hr;Yr++)xs[Yr]=Da[Yr%Pi];let Ks=new ArrayBuffer(en.byteLength+Vs.byteLength),Xl=new Uint8Array(Ks);Xl.set(Un),Xl.set(xs,Un.length);const Kf=Math.ceil((b>>3)/Ce);let Ka=Promise.resolve(Ks);for(let Yr=0;Yr<=Kf;Yr++){Ka=Ka.then(Aa=>{const ll=new ArrayBuffer(be.byteLength+Aa.byteLength),cl=new Uint8Array(ll);return cl.set(He),cl.set(Xl,He.length),ll});for(let Aa=0;Aa<ce;Aa++)Ka=Ka.then(ll=>$e.digest({name:h},new Uint8Array(ll)));Ka=Ka.then(Aa=>{const ll=new ArrayBuffer(We),cl=new Uint8Array(ll);for(let ul=0;ul<ll.byteLength;ul++)cl[ul]=Aa[ul%Aa.length];const ia=Math.ceil(gt/We)+Math.ceil(Pi/We),$o=[];let Jl=0,nd=We;for(let ul=0;ul<ia;ul++){const id=Array.from(new Uint8Array(Ks.slice(Jl,Jl+nd)));Jl+=We,Jl+We>Ks.byteLength&&(nd=Ks.byteLength-Jl);let ih=511;for(let br=ll.byteLength-1;br>=0;br--)ih>>=8,ih+=cl[br]+id[br],id[br]=255&ih;$o.push(...id)}return Ks=new ArrayBuffer($o.length),Xl=new Uint8Array(Ks),Xl.set($o),A.push(...new Uint8Array(Aa)),Ks})}return Ka=Ka.then(()=>{const Yr=new ArrayBuffer(b>>3);return new Uint8Array(Yr).set(new Uint8Array(A).slice(0,b>>3)),Yr}),Ka}class go{constructor(h={}){this.crypto=S(h,"crypto",{}),this.subtle=S(h,"subtle",{}),this.name=S(h,"name","")}importKey(h,b,k,K,ce){let Ce={};switch(b instanceof Uint8Array&&(b=b.buffer),h.toLowerCase()){case"raw":return this.subtle.importKey("raw",b,k,K,ce);case"spki":{const We=it(b);if(-1===We.offset)return Promise.reject("Incorrect keyData");const A=new Er;try{A.fromSchema(We.result)}catch{return Promise.reject("Incorrect keyData")}switch(k.name.toUpperCase()){case"RSA-PSS":switch(k.hash.name.toUpperCase()){case"SHA-1":Ce.alg="PS1";break;case"SHA-256":Ce.alg="PS256";break;case"SHA-384":Ce.alg="PS384";break;case"SHA-512":Ce.alg="PS512";break;default:return Promise.reject(`Incorrect hash algorithm: ${k.hash.name.toUpperCase()}`)}case"RSASSA-PKCS1-V1_5":{if(ce=["verify"],Ce.kty="RSA",Ce.ext=K,Ce.key_ops=ce,"1.2.840.113549.1.1.1"!==A.algorithm.algorithmId)return Promise.reject(`Incorrect public key algorithm: ${A.algorithm.algorithmId}`);if(!("alg"in Ce))switch(k.hash.name.toUpperCase()){case"SHA-1":Ce.alg="RS1";break;case"SHA-256":Ce.alg="RS256";break;case"SHA-384":Ce.alg="RS384";break;case"SHA-512":Ce.alg="RS512";break;default:return Promise.reject(`Incorrect hash algorithm: ${k.hash.name.toUpperCase()}`)}const j=A.toJSON();for(const B of Object.keys(j))Ce[B]=j[B]}break;case"ECDSA":ce=["verify"];case"ECDH":{if(Ce={kty:"EC",ext:K,key_ops:ce},"1.2.840.10045.2.1"!==A.algorithm.algorithmId)return Promise.reject(`Incorrect public key algorithm: ${A.algorithm.algorithmId}`);const j=A.toJSON();for(const B of Object.keys(j))Ce[B]=j[B]}break;case"RSA-OAEP":{if(Ce.kty="RSA",Ce.ext=K,Ce.key_ops=ce,"safari"===this.name.toLowerCase())Ce.alg="RSA-OAEP";else switch(k.hash.name.toUpperCase()){case"SHA-1":Ce.alg="RSA-OAEP";break;case"SHA-256":Ce.alg="RSA-OAEP-256";break;case"SHA-384":Ce.alg="RSA-OAEP-384";break;case"SHA-512":Ce.alg="RSA-OAEP-512";break;default:return Promise.reject(`Incorrect hash algorithm: ${k.hash.name.toUpperCase()}`)}const j=A.toJSON();for(const B of Object.keys(j))Ce[B]=j[B]}break;case"RSAES-PKCS1-V1_5":{Ce.kty="RSA",Ce.ext=K,Ce.key_ops=ce,Ce.alg="PS1";const j=A.toJSON();for(const B of Object.keys(j))Ce[B]=j[B]}break;default:return Promise.reject(`Incorrect algorithm name: ${k.name.toUpperCase()}`)}}break;case"pkcs8":{const We=new Wn,A=it(b);if(-1===A.offset)return Promise.reject("Incorrect keyData");try{We.fromSchema(A.result)}catch{return Promise.reject("Incorrect keyData")}if(!("parsedKey"in We))return Promise.reject("Incorrect keyData");switch(k.name.toUpperCase()){case"RSA-PSS":switch(k.hash.name.toUpperCase()){case"SHA-1":Ce.alg="PS1";break;case"SHA-256":Ce.alg="PS256";break;case"SHA-384":Ce.alg="PS384";break;case"SHA-512":Ce.alg="PS512";break;default:return Promise.reject(`Incorrect hash algorithm: ${k.hash.name.toUpperCase()}`)}case"RSASSA-PKCS1-V1_5":{if(ce=["sign"],Ce.kty="RSA",Ce.ext=K,Ce.key_ops=ce,"1.2.840.113549.1.1.1"!==We.privateKeyAlgorithm.algorithmId)return Promise.reject(`Incorrect private key algorithm: ${We.privateKeyAlgorithm.algorithmId}`);if(!("alg"in Ce))switch(k.hash.name.toUpperCase()){case"SHA-1":Ce.alg="RS1";break;case"SHA-256":Ce.alg="RS256";break;case"SHA-384":Ce.alg="RS384";break;case"SHA-512":Ce.alg="RS512";break;default:return Promise.reject(`Incorrect hash algorithm: ${k.hash.name.toUpperCase()}`)}const j=We.toJSON();for(const B of Object.keys(j))Ce[B]=j[B]}break;case"ECDSA":ce=["sign"];case"ECDH":{if(Ce={kty:"EC",ext:K,key_ops:ce},"1.2.840.10045.2.1"!==We.privateKeyAlgorithm.algorithmId)return Promise.reject(`Incorrect algorithm: ${We.privateKeyAlgorithm.algorithmId}`);const j=We.toJSON();for(const B of Object.keys(j))Ce[B]=j[B]}break;case"RSA-OAEP":{if(Ce.kty="RSA",Ce.ext=K,Ce.key_ops=ce,"safari"===this.name.toLowerCase())Ce.alg="RSA-OAEP";else switch(k.hash.name.toUpperCase()){case"SHA-1":Ce.alg="RSA-OAEP";break;case"SHA-256":Ce.alg="RSA-OAEP-256";break;case"SHA-384":Ce.alg="RSA-OAEP-384";break;case"SHA-512":Ce.alg="RSA-OAEP-512";break;default:return Promise.reject(`Incorrect hash algorithm: ${k.hash.name.toUpperCase()}`)}const j=We.toJSON();for(const B of Object.keys(j))Ce[B]=j[B]}break;case"RSAES-PKCS1-V1_5":{ce=["decrypt"],Ce.kty="RSA",Ce.ext=K,Ce.key_ops=ce,Ce.alg="PS1";const j=We.toJSON();for(const B of Object.keys(j))Ce[B]=j[B]}break;default:return Promise.reject(`Incorrect algorithm name: ${k.name.toUpperCase()}`)}}break;case"jwk":Ce=b;break;default:return Promise.reject(`Incorrect format: ${h}`)}return"safari"===this.name.toLowerCase()?Promise.resolve().then(()=>this.subtle.importKey("jwk",G(JSON.stringify(Ce)),k,K,ce)).then(We=>We,()=>this.subtle.importKey("jwk",Ce,k,K,ce)):this.subtle.importKey("jwk",Ce,k,K,ce)}exportKey(h,b){let k=this.subtle.exportKey("jwk",b);switch("safari"===this.name.toLowerCase()&&(k=k.then(K=>K instanceof ArrayBuffer?JSON.parse(U(K)):K)),h.toLowerCase()){case"raw":return this.subtle.exportKey("raw",b);case"spki":k=k.then(K=>{const ce=new Er;try{ce.fromJSON(K)}catch{return Promise.reject("Incorrect key data")}return ce.toSchema().toBER(!1)});break;case"pkcs8":k=k.then(K=>{const ce=new Wn;try{ce.fromJSON(K)}catch{return Promise.reject("Incorrect key data")}return ce.toSchema().toBER(!1)});break;case"jwk":break;default:return Promise.reject(`Incorrect format: ${h}`)}return k}convert(h,b,k,K,ce,Ce){switch(h.toLowerCase()){case"raw":switch(b.toLowerCase()){case"raw":return Promise.resolve(k);case"spki":return Promise.resolve().then(()=>this.importKey("raw",k,K,ce,Ce)).then(We=>this.exportKey("spki",We));case"pkcs8":return Promise.resolve().then(()=>this.importKey("raw",k,K,ce,Ce)).then(We=>this.exportKey("pkcs8",We));case"jwk":return Promise.resolve().then(()=>this.importKey("raw",k,K,ce,Ce)).then(We=>this.exportKey("jwk",We));default:return Promise.reject(`Incorrect outputFormat: ${b}`)}case"spki":switch(b.toLowerCase()){case"raw":return Promise.resolve().then(()=>this.importKey("spki",k,K,ce,Ce)).then(We=>this.exportKey("raw",We));case"spki":return Promise.resolve(k);case"pkcs8":return Promise.reject("Impossible to convert between SPKI/PKCS8");case"jwk":return Promise.resolve().then(()=>this.importKey("spki",k,K,ce,Ce)).then(We=>this.exportKey("jwk",We));default:return Promise.reject(`Incorrect outputFormat: ${b}`)}case"pkcs8":switch(b.toLowerCase()){case"raw":return Promise.resolve().then(()=>this.importKey("pkcs8",k,K,ce,Ce)).then(We=>this.exportKey("raw",We));case"spki":return Promise.reject("Impossible to convert between SPKI/PKCS8");case"pkcs8":return Promise.resolve(k);case"jwk":return Promise.resolve().then(()=>this.importKey("pkcs8",k,K,ce,Ce)).then(We=>this.exportKey("jwk",We));default:return Promise.reject(`Incorrect outputFormat: ${b}`)}case"jwk":switch(b.toLowerCase()){case"raw":return Promise.resolve().then(()=>this.importKey("jwk",k,K,ce,Ce)).then(We=>this.exportKey("raw",We));case"spki":return Promise.resolve().then(()=>this.importKey("jwk",k,K,ce,Ce)).then(We=>this.exportKey("spki",We));case"pkcs8":return Promise.resolve().then(()=>this.importKey("jwk",k,K,ce,Ce)).then(We=>this.exportKey("pkcs8",We));case"jwk":return Promise.resolve(k);default:return Promise.reject(`Incorrect outputFormat: ${b}`)}default:return Promise.reject(`Incorrect inputFormat: ${h}`)}}encrypt(...h){return this.subtle.encrypt(...h)}decrypt(...h){return this.subtle.decrypt(...h)}sign(...h){return this.subtle.sign(...h)}verify(...h){return this.subtle.verify(...h)}digest(...h){return this.subtle.digest(...h)}generateKey(...h){return this.subtle.generateKey(...h)}deriveKey(...h){return this.subtle.deriveKey(...h)}deriveBits(...h){return this.subtle.deriveBits(...h)}wrapKey(...h){return this.subtle.wrapKey(...h)}unwrapKey(...h){return this.subtle.unwrapKey(...h)}getRandomValues(h){if(!("getRandomValues"in this.crypto))throw new Error("No support for getRandomValues");return this.crypto.getRandomValues(h)}getAlgorithmByOID(h){switch(h){case"1.2.840.113549.1.1.1":return{name:"RSAES-PKCS1-v1_5"};case"1.2.840.113549.1.1.5":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-1"}};case"1.2.840.113549.1.1.11":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"1.2.840.113549.1.1.12":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-384"}};case"1.2.840.113549.1.1.13":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-512"}};case"1.2.840.113549.1.1.10":return{name:"RSA-PSS"};case"1.2.840.113549.1.1.7":return{name:"RSA-OAEP"};case"1.2.840.10045.2.1":case"1.2.840.10045.4.1":return{name:"ECDSA",hash:{name:"SHA-1"}};case"1.2.840.10045.4.3.2":return{name:"ECDSA",hash:{name:"SHA-256"}};case"1.2.840.10045.4.3.3":return{name:"ECDSA",hash:{name:"SHA-384"}};case"1.2.840.10045.4.3.4":return{name:"ECDSA",hash:{name:"SHA-512"}};case"1.3.133.16.840.63.0.2":return{name:"ECDH",kdf:"SHA-1"};case"1.3.132.1.11.1":return{name:"ECDH",kdf:"SHA-256"};case"1.3.132.1.11.2":return{name:"ECDH",kdf:"SHA-384"};case"1.3.132.1.11.3":return{name:"ECDH",kdf:"SHA-512"};case"2.16.840.1.101.3.4.1.2":return{name:"AES-CBC",length:128};case"2.16.840.1.101.3.4.1.22":return{name:"AES-CBC",length:192};case"2.16.840.1.101.3.4.1.42":return{name:"AES-CBC",length:256};case"2.16.840.1.101.3.4.1.6":return{name:"AES-GCM",length:128};case"2.16.840.1.101.3.4.1.26":return{name:"AES-GCM",length:192};case"2.16.840.1.101.3.4.1.46":return{name:"AES-GCM",length:256};case"2.16.840.1.101.3.4.1.4":return{name:"AES-CFB",length:128};case"2.16.840.1.101.3.4.1.24":return{name:"AES-CFB",length:192};case"2.16.840.1.101.3.4.1.44":return{name:"AES-CFB",length:256};case"2.16.840.1.101.3.4.1.5":return{name:"AES-KW",length:128};case"2.16.840.1.101.3.4.1.25":return{name:"AES-KW",length:192};case"2.16.840.1.101.3.4.1.45":return{name:"AES-KW",length:256};case"1.2.840.113549.2.7":return{name:"HMAC",hash:{name:"SHA-1"}};case"1.2.840.113549.2.9":return{name:"HMAC",hash:{name:"SHA-256"}};case"1.2.840.113549.2.10":return{name:"HMAC",hash:{name:"SHA-384"}};case"1.2.840.113549.2.11":return{name:"HMAC",hash:{name:"SHA-512"}};case"1.2.840.113549.1.9.16.3.5":return{name:"DH"};case"1.3.14.3.2.26":return{name:"SHA-1"};case"2.16.840.1.101.3.4.2.1":return{name:"SHA-256"};case"2.16.840.1.101.3.4.2.2":return{name:"SHA-384"};case"2.16.840.1.101.3.4.2.3":return{name:"SHA-512"};case"1.2.840.113549.1.5.12":return{name:"PBKDF2"};case"1.2.840.10045.3.1.7":return{name:"P-256"};case"1.3.132.0.34":return{name:"P-384"};case"1.3.132.0.35":return{name:"P-521"}}return{}}getOIDByAlgorithm(h){let b="";switch(h.name.toUpperCase()){case"RSAES-PKCS1-V1_5":b="1.2.840.113549.1.1.1";break;case"RSASSA-PKCS1-V1_5":switch(h.hash.name.toUpperCase()){case"SHA-1":b="1.2.840.113549.1.1.5";break;case"SHA-256":b="1.2.840.113549.1.1.11";break;case"SHA-384":b="1.2.840.113549.1.1.12";break;case"SHA-512":b="1.2.840.113549.1.1.13"}break;case"RSA-PSS":b="1.2.840.113549.1.1.10";break;case"RSA-OAEP":b="1.2.840.113549.1.1.7";break;case"ECDSA":switch(h.hash.name.toUpperCase()){case"SHA-1":b="1.2.840.10045.4.1";break;case"SHA-256":b="1.2.840.10045.4.3.2";break;case"SHA-384":b="1.2.840.10045.4.3.3";break;case"SHA-512":b="1.2.840.10045.4.3.4"}break;case"ECDH":switch(h.kdf.toUpperCase()){case"SHA-1":b="1.3.133.16.840.63.0.2";break;case"SHA-256":b="1.3.132.1.11.1";break;case"SHA-384":b="1.3.132.1.11.2";break;case"SHA-512":b="1.3.132.1.11.3"}break;case"AES-CTR":case"AES-CMAC":case"CONCAT":case"HKDF":break;case"AES-CBC":switch(h.length){case 128:b="2.16.840.1.101.3.4.1.2";break;case 192:b="2.16.840.1.101.3.4.1.22";break;case 256:b="2.16.840.1.101.3.4.1.42"}break;case"AES-GCM":switch(h.length){case 128:b="2.16.840.1.101.3.4.1.6";break;case 192:b="2.16.840.1.101.3.4.1.26";break;case 256:b="2.16.840.1.101.3.4.1.46"}break;case"AES-CFB":switch(h.length){case 128:b="2.16.840.1.101.3.4.1.4";break;case 192:b="2.16.840.1.101.3.4.1.24";break;case 256:b="2.16.840.1.101.3.4.1.44"}break;case"AES-KW":switch(h.length){case 128:b="2.16.840.1.101.3.4.1.5";break;case 192:b="2.16.840.1.101.3.4.1.25";break;case 256:b="2.16.840.1.101.3.4.1.45"}break;case"HMAC":switch(h.hash.name.toUpperCase()){case"SHA-1":b="1.2.840.113549.2.7";break;case"SHA-256":b="1.2.840.113549.2.9";break;case"SHA-384":b="1.2.840.113549.2.10";break;case"SHA-512":b="1.2.840.113549.2.11"}break;case"DH":b="1.2.840.113549.1.9.16.3.5";break;case"SHA-1":b="1.3.14.3.2.26";break;case"SHA-256":b="2.16.840.1.101.3.4.2.1";break;case"SHA-384":b="2.16.840.1.101.3.4.2.2";break;case"SHA-512":b="2.16.840.1.101.3.4.2.3";break;case"PBKDF2":b="1.2.840.113549.1.5.12";break;case"P-256":b="1.2.840.10045.3.1.7";break;case"P-384":b="1.3.132.0.34";break;case"P-521":b="1.3.132.0.35"}return b}getAlgorithmParameters(h,b){let k={algorithm:{},usages:[]};switch(h.toUpperCase()){case"RSAES-PKCS1-V1_5":case"RSASSA-PKCS1-V1_5":switch(b.toLowerCase()){case"generatekey":k={algorithm:{name:"RSASSA-PKCS1-v1_5",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},usages:["sign","verify"]};break;case"verify":case"sign":case"importkey":k={algorithm:{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},usages:["verify"]};break;default:return{algorithm:{name:"RSASSA-PKCS1-v1_5"},usages:[]}}break;case"RSA-PSS":switch(b.toLowerCase()){case"sign":case"verify":k={algorithm:{name:"RSA-PSS",hash:{name:"SHA-1"},saltLength:20},usages:["sign","verify"]};break;case"generatekey":k={algorithm:{name:"RSA-PSS",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-1"}},usages:["sign","verify"]};break;case"importkey":k={algorithm:{name:"RSA-PSS",hash:{name:"SHA-1"}},usages:["verify"]};break;default:return{algorithm:{name:"RSA-PSS"},usages:[]}}break;case"RSA-OAEP":switch(b.toLowerCase()){case"encrypt":case"decrypt":k={algorithm:{name:"RSA-OAEP"},usages:["encrypt","decrypt"]};break;case"generatekey":k={algorithm:{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"importkey":k={algorithm:{name:"RSA-OAEP",hash:{name:"SHA-256"}},usages:["encrypt"]};break;default:return{algorithm:{name:"RSA-OAEP"},usages:[]}}break;case"ECDSA":switch(b.toLowerCase()){case"generatekey":k={algorithm:{name:"ECDSA",namedCurve:"P-256"},usages:["sign","verify"]};break;case"importkey":k={algorithm:{name:"ECDSA",namedCurve:"P-256"},usages:["verify"]};break;case"verify":case"sign":k={algorithm:{name:"ECDSA",hash:{name:"SHA-256"}},usages:["sign"]};break;default:return{algorithm:{name:"ECDSA"},usages:[]}}break;case"ECDH":switch(b.toLowerCase()){case"exportkey":case"importkey":case"generatekey":k={algorithm:{name:"ECDH",namedCurve:"P-256"},usages:["deriveKey","deriveBits"]};break;case"derivekey":case"derivebits":k={algorithm:{name:"ECDH",namedCurve:"P-256",public:[]},usages:["encrypt","decrypt"]};break;default:return{algorithm:{name:"ECDH"},usages:[]}}break;case"AES-CTR":switch(b.toLowerCase()){case"importkey":case"exportkey":case"generatekey":k={algorithm:{name:"AES-CTR",length:256},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"decrypt":case"encrypt":k={algorithm:{name:"AES-CTR",counter:new Uint8Array(16),length:10},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-CTR"},usages:[]}}break;case"AES-CBC":switch(b.toLowerCase()){case"importkey":case"exportkey":case"generatekey":k={algorithm:{name:"AES-CBC",length:256},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"decrypt":case"encrypt":k={algorithm:{name:"AES-CBC",iv:this.getRandomValues(new Uint8Array(16))},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-CBC"},usages:[]}}break;case"AES-GCM":switch(b.toLowerCase()){case"importkey":case"exportkey":case"generatekey":k={algorithm:{name:"AES-GCM",length:256},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"decrypt":case"encrypt":k={algorithm:{name:"AES-GCM",iv:this.getRandomValues(new Uint8Array(16))},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-GCM"},usages:[]}}break;case"AES-KW":switch(b.toLowerCase()){case"importkey":case"exportkey":case"generatekey":case"wrapkey":case"unwrapkey":k={algorithm:{name:"AES-KW",length:256},usages:["wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-KW"},usages:[]}}break;case"HMAC":switch(b.toLowerCase()){case"sign":case"verify":k={algorithm:{name:"HMAC"},usages:["sign","verify"]};break;case"importkey":case"exportkey":case"generatekey":k={algorithm:{name:"HMAC",length:32,hash:{name:"SHA-256"}},usages:["sign","verify"]};break;default:return{algorithm:{name:"HMAC"},usages:[]}}break;case"HKDF":if("derivekey"!==b.toLowerCase())return{algorithm:{name:"HKDF"},usages:[]};k={algorithm:{name:"HKDF",hash:"SHA-256",salt:new Uint8Array([]),info:new Uint8Array([])},usages:["encrypt","decrypt"]};break;case"PBKDF2":if("derivekey"!==b.toLowerCase())return{algorithm:{name:"PBKDF2"},usages:[]};k={algorithm:{name:"PBKDF2",hash:{name:"SHA-256"},salt:new Uint8Array([]),iterations:1e4},usages:["encrypt","decrypt"]}}return k}getHashAlgorithm(h){let b="";switch(h.algorithmId){case"1.2.840.10045.4.1":case"1.2.840.113549.1.1.5":b="SHA-1";break;case"1.2.840.10045.4.3.2":case"1.2.840.113549.1.1.11":b="SHA-256";break;case"1.2.840.10045.4.3.3":case"1.2.840.113549.1.1.12":b="SHA-384";break;case"1.2.840.10045.4.3.4":case"1.2.840.113549.1.1.13":b="SHA-512";break;case"1.2.840.113549.1.1.10":try{const k=new ur({schema:h.algorithmParams});if("hashAlgorithm"in k){const K=this.getAlgorithmByOID(k.hashAlgorithm.algorithmId);if(!("name"in K))return"";b=K.name}else b="SHA-1"}catch{}}return b}encryptEncryptedContentInfo(h){if(!(h instanceof Object))return Promise.reject('Parameters must have type "Object"');if(!("password"in h))return Promise.reject('Absent mandatory parameter "password"');if(!("contentEncryptionAlgorithm"in h))return Promise.reject('Absent mandatory parameter "contentEncryptionAlgorithm"');if(!("hmacHashAlgorithm"in h))return Promise.reject('Absent mandatory parameter "hmacHashAlgorithm"');if(!("iterationCount"in h))return Promise.reject('Absent mandatory parameter "iterationCount"');if(!("contentToEncrypt"in h))return Promise.reject('Absent mandatory parameter "contentToEncrypt"');if(!("contentType"in h))return Promise.reject('Absent mandatory parameter "contentType"');const b=this.getOIDByAlgorithm(h.contentEncryptionAlgorithm);if(""===b)return Promise.reject('Wrong "contentEncryptionAlgorithm" value');const k=this.getOIDByAlgorithm({name:"PBKDF2"});if(""===k)return Promise.reject("Can not find OID for PBKDF2");const K=this.getOIDByAlgorithm({name:"HMAC",hash:{name:h.hmacHashAlgorithm}});if(""===K)return Promise.reject(`Incorrect value for "hmacHashAlgorithm": ${h.hmacHashAlgorithm}`);let ce=Promise.resolve();const Ce=new ArrayBuffer(16),We=new Uint8Array(Ce);this.getRandomValues(We);const A=new ArrayBuffer(64),j=new Uint8Array(A);this.getRandomValues(j);const B=new Uint8Array(h.contentToEncrypt),Z=new Nr({salt:new It({valueHex:A}),iterationCount:h.iterationCount,prf:new $n({algorithmId:K,algorithmParams:new Pt})});return ce=ce.then(()=>{const be=new Uint8Array(h.password);return this.importKey("raw",be,"PBKDF2",!1,["deriveKey"])},be=>Promise.reject(be)),ce=ce.then(be=>this.deriveKey({name:"PBKDF2",hash:{name:h.hmacHashAlgorithm},salt:j,iterations:h.iterationCount},be,h.contentEncryptionAlgorithm,!1,["encrypt"]),be=>Promise.reject(be)),ce=ce.then(be=>this.encrypt({name:h.contentEncryptionAlgorithm.name,iv:We},be,B),be=>Promise.reject(be)),ce=ce.then(be=>{const He=new rs({keyDerivationFunc:new $n({algorithmId:k,algorithmParams:Z.toSchema()}),encryptionScheme:new $n({algorithmId:b,algorithmParams:new It({valueHex:Ce})})});return new Gr({contentType:h.contentType,contentEncryptionAlgorithm:new $n({algorithmId:"1.2.840.113549.1.5.13",algorithmParams:He.toSchema()}),encryptedContent:new It({valueHex:be})})},be=>Promise.reject(be)),ce}decryptEncryptedContentInfo(h){if(!(h instanceof Object))return Promise.reject('Parameters must have type "Object"');if(!("password"in h))return Promise.reject('Absent mandatory parameter "password"');if(!("encryptedContentInfo"in h))return Promise.reject('Absent mandatory parameter "encryptedContentInfo"');if("1.2.840.113549.1.5.13"!==h.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId)return Promise.reject(`Unknown "contentEncryptionAlgorithm": ${h.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId}`);let k,K,b=Promise.resolve();try{k=new rs({schema:h.encryptedContentInfo.contentEncryptionAlgorithm.algorithmParams})}catch{return Promise.reject('Incorrectly encoded "pbes2Parameters"')}try{K=new Nr({schema:k.keyDerivationFunc.algorithmParams})}catch{return Promise.reject('Incorrectly encoded "pbkdf2Params"')}const ce=this.getAlgorithmByOID(k.encryptionScheme.algorithmId);if(!("name"in ce))return Promise.reject(`Incorrect OID for "contentEncryptionAlgorithm": ${k.encryptionScheme.algorithmId}`);const We=new Uint8Array(k.encryptionScheme.algorithmParams.valueBlock.valueHex),j=new Uint8Array(K.salt.valueBlock.valueHex),B=K.iterationCount;let Z="SHA-1";if("prf"in K){const be=this.getAlgorithmByOID(K.prf.algorithmId);if(!("name"in be))return Promise.reject("Incorrect OID for HMAC hash algorithm");Z=be.hash.name}return b=b.then(()=>this.importKey("raw",h.password,"PBKDF2",!1,["deriveKey"]),be=>Promise.reject(be)),b=b.then(be=>this.deriveKey({name:"PBKDF2",hash:{name:Z},salt:j,iterations:B},be,ce,!1,["decrypt"]),be=>Promise.reject(be)),b=b.then(be=>{let He=new ArrayBuffer(0);if(!1===h.encryptedContentInfo.encryptedContent.idBlock.isConstructed)He=h.encryptedContentInfo.encryptedContent.valueBlock.valueHex;else for(const gt of h.encryptedContentInfo.encryptedContent.valueBlock.value)He=m(He,gt.valueBlock.valueHex);return this.decrypt({name:ce.name,iv:We},be,He)},be=>Promise.reject(be)),b}stampDataWithPassword(h){if(!(h instanceof Object))return Promise.reject('Parameters must have type "Object"');if(!("password"in h))return Promise.reject('Absent mandatory parameter "password"');if(!("hashAlgorithm"in h))return Promise.reject('Absent mandatory parameter "hashAlgorithm"');if(!("salt"in h))return Promise.reject('Absent mandatory parameter "iterationCount"');if(!("iterationCount"in h))return Promise.reject('Absent mandatory parameter "salt"');if(!("contentToStamp"in h))return Promise.reject('Absent mandatory parameter "contentToStamp"');let b;switch(h.hashAlgorithm.toLowerCase()){case"sha-1":b=160;break;case"sha-256":b=256;break;case"sha-384":b=384;break;case"sha-512":b=512;break;default:return Promise.reject(`Incorrect "parameters.hashAlgorithm" parameter: ${h.hashAlgorithm}`)}let k=Promise.resolve();const K={name:"HMAC",length:b,hash:{name:h.hashAlgorithm}};return k=k.then(()=>qs(this,h.hashAlgorithm,b,h.password,h.salt,h.iterationCount)),k=k.then(ce=>this.importKey("raw",new Uint8Array(ce),K,!1,["sign"])),k=k.then(ce=>this.sign(K,ce,new Uint8Array(h.contentToStamp)),ce=>Promise.reject(ce)),k}verifyDataStampedWithPassword(h){if(!(h instanceof Object))return Promise.reject('Parameters must have type "Object"');if(!("password"in h))return Promise.reject('Absent mandatory parameter "password"');if(!("hashAlgorithm"in h))return Promise.reject('Absent mandatory parameter "hashAlgorithm"');if(!("salt"in h))return Promise.reject('Absent mandatory parameter "iterationCount"');if(!("iterationCount"in h))return Promise.reject('Absent mandatory parameter "salt"');if(!("contentToVerify"in h))return Promise.reject('Absent mandatory parameter "contentToVerify"');if(!("signatureToVerify"in h))return Promise.reject('Absent mandatory parameter "signatureToVerify"');let b;switch(h.hashAlgorithm.toLowerCase()){case"sha-1":b=160;break;case"sha-256":b=256;break;case"sha-384":b=384;break;case"sha-512":b=512;break;default:return Promise.reject(`Incorrect "parameters.hashAlgorithm" parameter: ${h.hashAlgorithm}`)}let k=Promise.resolve();const K={name:"HMAC",length:b,hash:{name:h.hashAlgorithm}};return k=k.then(()=>qs(this,h.hashAlgorithm,b,h.password,h.salt,h.iterationCount)),k=k.then(ce=>this.importKey("raw",new Uint8Array(ce),K,!1,["verify"])),k=k.then(ce=>this.verify(K,ce,new Uint8Array(h.signatureToVerify),new Uint8Array(h.contentToVerify)),ce=>Promise.reject(ce)),k}getSignatureParameters(h,b="SHA-1"){if(""===this.getOIDByAlgorithm({name:b}))return Promise.reject(`Unsupported hash algorithm: ${b}`);const K=new $n,ce=this.getAlgorithmParameters(h.algorithm.name,"sign");switch(ce.algorithm.hash.name=b,h.algorithm.name.toUpperCase()){case"RSASSA-PKCS1-V1_5":case"ECDSA":K.algorithmId=this.getOIDByAlgorithm(ce.algorithm);break;case"RSA-PSS":{switch(b.toUpperCase()){case"SHA-256":ce.algorithm.saltLength=32;break;case"SHA-384":ce.algorithm.saltLength=48;break;case"SHA-512":ce.algorithm.saltLength=64}const Ce={};if("SHA-1"!==b.toUpperCase()){const A=this.getOIDByAlgorithm({name:b});if(""===A)return Promise.reject(`Unsupported hash algorithm: ${b}`);Ce.hashAlgorithm=new $n({algorithmId:A,algorithmParams:new Pt}),Ce.maskGenAlgorithm=new $n({algorithmId:"1.2.840.113549.1.1.8",algorithmParams:Ce.hashAlgorithm.toSchema()})}20!==ce.algorithm.saltLength&&(Ce.saltLength=ce.algorithm.saltLength);const We=new ur(Ce);K.algorithmId="1.2.840.113549.1.1.10",K.algorithmParams=We.toSchema()}break;default:return Promise.reject(`Unsupported signature algorithm: ${h.algorithm.name}`)}return Promise.resolve().then(()=>({signatureAlgorithm:K,parameters:ce}))}signWithPrivateKey(h,b,k){return this.sign(k.algorithm,b,new Uint8Array(h)).then(K=>("ECDSA"===k.algorithm.name&&(K=function nr($e){if($e.byteLength%2!=0)return new ArrayBuffer(0);const h=$e.byteLength/2,b=new ArrayBuffer(h);new Uint8Array(b).set(new Uint8Array($e,0,h));const K=new dn({valueHex:b}),ce=new ArrayBuffer(h);new Uint8Array(ce).set(new Uint8Array($e,h,h));const We=new dn({valueHex:ce});return new mn({value:[K.convertToDER(),We.convertToDER()]}).toBER(!1)}(K)),K),K=>Promise.reject(`Signing error: ${K}`))}fillPublicKeyParameters(h,b){const k={},K=this.getHashAlgorithm(b);if(""===K)return Promise.reject(`Unsupported signature algorithm: ${b.algorithmId}`);let ce;ce="1.2.840.113549.1.1.10"===b.algorithmId?b.algorithmId:h.algorithm.algorithmId;const Ce=this.getAlgorithmByOID(ce);if("name"in Ce==="")return Promise.reject(`Unsupported public key algorithm: ${b.algorithmId}`);if(k.algorithm=this.getAlgorithmParameters(Ce.name,"importkey"),"hash"in k.algorithm.algorithm&&(k.algorithm.algorithm.hash.name=K),"ECDSA"===Ce.name){let We=!1;if("algorithmParams"in h.algorithm&&"idBlock"in h.algorithm.algorithmParams&&1===h.algorithm.algorithmParams.idBlock.tagClass&&6===h.algorithm.algorithmParams.idBlock.tagNumber&&(We=!0),!1===We)return Promise.reject("Incorrect type for ECDSA public key parameters");const A=this.getAlgorithmByOID(h.algorithm.algorithmParams.valueBlock.toString());if(!("name"in A))return Promise.reject(`Unsupported named curve algorithm: ${h.algorithm.algorithmParams.valueBlock.toString()}`);k.algorithm.algorithm.namedCurve=A.name}return k}getPublicKey(h,b,k=null){null===k&&(k=this.fillPublicKeyParameters(h,b));const ce=h.toSchema().toBER(!1),Ce=new Uint8Array(ce);return this.importKey("spki",Ce,k.algorithm.algorithm,!0,k.algorithm.usages)}verifyWithPublicKey(h,b,k,K,ce=null){let Ce=Promise.resolve();if(null===ce){if(""===(ce=this.getHashAlgorithm(K)))return Promise.reject(`Unsupported signature algorithm: ${K.algorithmId}`);Ce=Ce.then(()=>this.getPublicKey(k,K))}else{const We={};let A;A="1.2.840.113549.1.1.10"===K.algorithmId?K.algorithmId:k.algorithm.algorithmId;const j=this.getAlgorithmByOID(A);if("name"in j==="")return Promise.reject(`Unsupported public key algorithm: ${K.algorithmId}`);if(We.algorithm=this.getAlgorithmParameters(j.name,"importkey"),"hash"in We.algorithm.algorithm&&(We.algorithm.algorithm.hash.name=ce),"ECDSA"===j.name){let B=!1;if("algorithmParams"in k.algorithm&&"idBlock"in k.algorithm.algorithmParams&&1===k.algorithm.algorithmParams.idBlock.tagClass&&6===k.algorithm.algorithmParams.idBlock.tagNumber&&(B=!0),!1===B)return Promise.reject("Incorrect type for ECDSA public key parameters");const Z=this.getAlgorithmByOID(k.algorithm.algorithmParams.valueBlock.toString());if(!("name"in Z))return Promise.reject(`Unsupported named curve algorithm: ${k.algorithm.algorithmParams.valueBlock.toString()}`);We.algorithm.algorithm.namedCurve=Z.name}Ce=Ce.then(()=>this.getPublicKey(k,null,We))}return Ce=Ce.then(We=>{const A=this.getAlgorithmParameters(We.algorithm.name,"verify");"hash"in A.algorithm&&(A.algorithm.hash.name=ce);let j=b.valueBlock.valueHex;if("ECDSA"===We.algorithm.name&&(j=function Bo($e){if(!($e instanceof mn))return new ArrayBuffer(0);if(2!==$e.valueBlock.value.length)return new ArrayBuffer(0);if(!($e.valueBlock.value[0]instanceof dn))return new ArrayBuffer(0);if(!($e.valueBlock.value[1]instanceof dn))return new ArrayBuffer(0);const h=$e.valueBlock.value[0].convertFromDER(),b=$e.valueBlock.value[1].convertFromDER();switch(!0){case h.valueBlock.valueHex.byteLength<b.valueBlock.valueHex.byteLength:{if(b.valueBlock.valueHex.byteLength-h.valueBlock.valueHex.byteLength!=1)throw new Error("Incorrect DER integer decoding");const k=b.valueBlock.valueHex.byteLength,K=new Uint8Array(h.valueBlock.valueHex),ce=new ArrayBuffer(k),Ce=new Uint8Array(ce);return Ce.set(K,1),Ce[0]=0,m(ce,b.valueBlock.valueHex)}case h.valueBlock.valueHex.byteLength>b.valueBlock.valueHex.byteLength:{if(h.valueBlock.valueHex.byteLength-b.valueBlock.valueHex.byteLength!=1)throw new Error("Incorrect DER integer decoding");const k=h.valueBlock.valueHex.byteLength,K=new Uint8Array(b.valueBlock.valueHex),ce=new ArrayBuffer(k),Ce=new Uint8Array(ce);return Ce.set(K,1),Ce[0]=0,m(h.valueBlock.valueHex,ce)}default:if(h.valueBlock.valueHex.byteLength%2){const k=h.valueBlock.valueHex.byteLength+1,K=new Uint8Array(h.valueBlock.valueHex),ce=new ArrayBuffer(k),Ce=new Uint8Array(ce);Ce.set(K,1),Ce[0]=0;const We=new Uint8Array(b.valueBlock.valueHex),A=new ArrayBuffer(k),j=new Uint8Array(A);return j.set(We,1),j[0]=0,m(ce,A)}}return m(h.valueBlock.valueHex,b.valueBlock.valueHex)}(it(j).result)),"RSA-PSS"===We.algorithm.name){let B;try{B=new ur({schema:K.algorithmParams})}catch(be){return Promise.reject(be)}A.algorithm.saltLength="saltLength"in B?B.saltLength:20;let Z="SHA-1";if("hashAlgorithm"in B){const be=this.getAlgorithmByOID(B.hashAlgorithm.algorithmId);if(!("name"in be))return Promise.reject(`Unrecognized hash algorithm: ${B.hashAlgorithm.algorithmId}`);Z=be.name}A.algorithm.hash.name=Z}return this.verify(A.algorithm,We,new Uint8Array(j),new Uint8Array(h))}),Ce}}let Ss={name:"none",crypto:null,subtle:null};function ss(){if(typeof process<"u"&&"pid"in process&&typeof global<"u"&&typeof window>"u"){let $e;try{$e=global[process.pid].pkijs.engine}catch{throw new Error('Please call "setEngine" before call to "getEngine"')}return $e}return Ss}function os(){const $e=ss();if(null!==$e.subtle)return $e.subtle}function Zr($e){let h=!1,b="";const k=$e.trim();for(let K=0;K<k.length;K++)32===k.charCodeAt(K)?!1===h&&(h=!0):(h&&(b+=" ",h=!1),b+=k[K]);return b.toLowerCase()}!function(){if(typeof self<"u"&&"crypto"in self){let h="webcrypto";const b=self.crypto;let k;if("webkitSubtle"in self.crypto){try{k=self.crypto.webkitSubtle}catch{k=self.crypto.subtle}h="safari"}"subtle"in self.crypto&&(k=self.crypto.subtle),Ss=typeof k>"u"?{name:h,crypto:b,subtle:null}:{name:h,crypto:b,subtle:new go({name:h,crypto:self.crypto,subtle:k})}}!function yr($e,h,b){if(typeof process<"u"&&"pid"in process&&typeof global<"u"&&typeof window>"u"){if(typeof global[process.pid]>"u")global[process.pid]={};else if("object"!=typeof global[process.pid])throw new Error(`Name global.${process.pid} already exists and it is not an object`);if(typeof global[process.pid].pkijs>"u")global[process.pid].pkijs={};else if("object"!=typeof global[process.pid].pkijs)throw new Error(`Name global.${process.pid}.pkijs already exists and it is not an object`);global[process.pid].pkijs.engine={name:$e,crypto:h,subtle:b}}else Ss.name!==$e&&(Ss={name:$e,crypto:h,subtle:b})}(Ss.name,Ss.crypto,Ss.subtle)}();class Es{constructor(h={}){this.type=S(h,"type",Es.defaultValues("type")),this.value=S(h,"value",Es.defaultValues("value")),"schema"in h&&this.fromSchema(h.schema)}static defaultValues(h){switch(h){case"type":return"";case"value":return{};default:throw new Error(`Invalid member name for AttributeTypeAndValue class: ${h}`)}}static schema(h={}){const b=S(h,"names",{});return new mn({name:b.blockName||"",value:[new $t({name:b.type||""}),new gr({name:b.value||""})]})}static blockName(){return"AttributeTypeAndValue"}fromSchema(h){L(h,["type","typeValue"]);const b=ai(h,h,Es.schema({names:{type:"type",value:"typeValue"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for AttributeTypeAndValue");this.type=b.result.type.valueBlock.toString(),this.value=b.result.typeValue}toSchema(){return new mn({value:[new $t({value:this.type}),this.value]})}toJSON(){const h={type:this.type};return h.value=0!==Object.keys(this.value).length?this.value.toJSON():this.value,h}isEqual(h){const b=[Hi.blockName(),tt.blockName(),rn.blockName(),In.blockName(),yt.blockName(),ue.blockName(),he.blockName(),Et.blockName(),hn.blockName(),Zn.blockName(),fi.blockName(),Yi.blockName()];if(h.constructor.blockName()===Es.blockName()){if(this.type!==h.type)return!1;let k=[!1,!1];const K=this.value.constructor.blockName();for(const ce of b)K===ce&&(k[0]=!0),h.value.constructor.blockName()===ce&&(k[1]=!0);if(k[0]^k[1])return!1;if(k=k[0]&&k[1],k){const ce=Zr(this.value.valueBlock.value),Ce=Zr(h.value.valueBlock.value);if(0!==ce.localeCompare(Ce))return!1}else if(!1===R(this.value.valueBeforeDecode,h.value.valueBeforeDecode))return!1;return!0}return h instanceof ArrayBuffer&&R(this.value.valueBeforeDecode,h)}}class Or{constructor(h={}){this.typesAndValues=S(h,"typesAndValues",Or.defaultValues("typesAndValues")),this.valueBeforeDecode=S(h,"valueBeforeDecode",Or.defaultValues("valueBeforeDecode")),"schema"in h&&this.fromSchema(h.schema)}static defaultValues(h){switch(h){case"typesAndValues":return[];case"valueBeforeDecode":return new ArrayBuffer(0);default:throw new Error(`Invalid member name for RelativeDistinguishedNames class: ${h}`)}}static compareWithDefault(h,b){switch(h){case"typesAndValues":return 0===b.length;case"valueBeforeDecode":return 0===b.byteLength;default:throw new Error(`Invalid member name for RelativeDistinguishedNames class: ${h}`)}}static schema(h={}){const b=S(h,"names",{});return new mn({name:b.blockName||"",value:[new Ni({name:b.repeatedSequence||"",value:new gi({value:[new Ni({name:b.repeatedSet||"",value:Es.schema(b.typeAndValue||{})})]})})]})}fromSchema(h){L(h,["RDN","typesAndValues"]);const b=ai(h,h,Or.schema({names:{blockName:"RDN",repeatedSet:"typesAndValues"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for RelativeDistinguishedNames");"typesAndValues"in b.result&&(this.typesAndValues=Array.from(b.result.typesAndValues,k=>new Es({schema:k}))),this.valueBeforeDecode=b.result.RDN.valueBeforeDecode}toSchema(){return 0===this.valueBeforeDecode.byteLength?new mn({value:[new gi({value:Array.from(this.typesAndValues,b=>b.toSchema())})]}):it(this.valueBeforeDecode).result}toJSON(){return{typesAndValues:Array.from(this.typesAndValues,h=>h.toJSON())}}isEqual(h){if(h instanceof Or){if(this.typesAndValues.length!==h.typesAndValues.length)return!1;for(const[b,k]of this.typesAndValues.entries())if(!1===k.isEqual(h.typesAndValues[b]))return!1;return!0}return h instanceof ArrayBuffer&&R(this.valueBeforeDecode,h)}}class or{constructor(h={}){this.type=S(h,"type",or.defaultValues("type")),this.value=S(h,"value",or.defaultValues("value")),"schema"in h&&this.fromSchema(h.schema)}static defaultValues(h){switch(h){case"type":return 0;case"value":return new Date(0,0,0);default:throw new Error(`Invalid member name for Time class: ${h}`)}}static schema(h={},b=!1){const k=S(h,"names",{});return new vr({optional:b,value:[new Gn({name:k.utcTimeName||""}),new cr({name:k.generalTimeName||""})]})}fromSchema(h){L(h,["utcTimeName","generalTimeName"]);const b=ai(h,h,or.schema({names:{utcTimeName:"utcTimeName",generalTimeName:"generalTimeName"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for Time");"utcTimeName"in b.result&&(this.type=0,this.value=b.result.utcTimeName.toDate()),"generalTimeName"in b.result&&(this.type=1,this.value=b.result.generalTimeName.toDate())}toSchema(){let h={};return 0===this.type&&(h=new Gn({valueDate:this.value})),1===this.type&&(h=new cr({valueDate:this.value})),h}toJSON(){return{type:this.type,value:this.value}}}class Fr{constructor(h={}){this.attributes=S(h,"attributes",Fr.defaultValues("attributes")),"schema"in h&&this.fromSchema(h.schema)}static defaultValues(h){if("attributes"===h)return[];throw new Error(`Invalid member name for SubjectDirectoryAttributes class: ${h}`)}static schema(h={}){const b=S(h,"names",{});return new mn({name:b.blockName||"",value:[new Ni({name:b.attributes||"",value:kr.schema()})]})}fromSchema(h){L(h,["attributes"]);const b=ai(h,h,Fr.schema({names:{attributes:"attributes"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for SubjectDirectoryAttributes");this.attributes=Array.from(b.result.attributes,k=>new kr({schema:k}))}toSchema(){return new mn({value:Array.from(this.attributes,h=>h.toSchema())})}toJSON(){return{attributes:Array.from(this.attributes,h=>h.toJSON())}}}class as{constructor(h={}){"notBefore"in h&&(this.notBefore=S(h,"notBefore",as.defaultValues("notBefore"))),"notAfter"in h&&(this.notAfter=S(h,"notAfter",as.defaultValues("notAfter"))),"schema"in h&&this.fromSchema(h.schema)}static defaultValues(h){switch(h){case"notBefore":case"notAfter":return new Date;default:throw new Error(`Invalid member name for PrivateKeyUsagePeriod class: ${h}`)}}static schema(h={}){const b=S(h,"names",{});return new mn({name:b.blockName||"",value:[new nt({name:b.notBefore||"",optional:!0,idBlock:{tagClass:3,tagNumber:0}}),new nt({name:b.notAfter||"",optional:!0,idBlock:{tagClass:3,tagNumber:1}})]})}fromSchema(h){L(h,["notBefore","notAfter"]);const b=ai(h,h,as.schema({names:{notBefore:"notBefore",notAfter:"notAfter"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for PrivateKeyUsagePeriod");if("notBefore"in b.result){const k=new cr;k.fromBuffer(b.result.notBefore.valueBlock.valueHex),this.notBefore=k.toDate()}if("notAfter"in b.result){const k=new cr({valueHex:b.result.notAfter.valueBlock.valueHex});k.fromBuffer(b.result.notAfter.valueBlock.valueHex),this.notAfter=k.toDate()}}toSchema(){const h=[];return"notBefore"in this&&h.push(new nt({idBlock:{tagClass:3,tagNumber:0},valueHex:new cr({valueDate:this.notBefore}).valueBlock.valueHex})),"notAfter"in this&&h.push(new nt({idBlock:{tagClass:3,tagNumber:1},valueHex:new cr({valueDate:this.notAfter}).valueBlock.valueHex})),new mn({value:h})}toJSON(){const h={};return"notBefore"in this&&(h.notBefore=this.notBefore),"notAfter"in this&&(h.notAfter=this.notAfter),h}}function no($e={},h=!1){const b=S($e,"names",{});return new mn({optional:h,value:[new $({optional:!0,idBlock:{tagClass:2,tagNumber:1},name:b.country_name||"",value:[new vr({value:[new In,new yt]})]}),new $({optional:!0,idBlock:{tagClass:2,tagNumber:2},name:b.administration_domain_name||"",value:[new vr({value:[new In,new yt]})]}),new nt({optional:!0,idBlock:{tagClass:3,tagNumber:0},name:b.network_address||"",isHexOnly:!0}),new nt({optional:!0,idBlock:{tagClass:3,tagNumber:1},name:b.terminal_identifier||"",isHexOnly:!0}),new $({optional:!0,idBlock:{tagClass:3,tagNumber:2},name:b.private_domain_name||"",value:[new vr({value:[new In,new yt]})]}),new nt({optional:!0,idBlock:{tagClass:3,tagNumber:3},name:b.organization_name||"",isHexOnly:!0}),new nt({optional:!0,name:b.numeric_user_identifier||"",idBlock:{tagClass:3,tagNumber:4},isHexOnly:!0}),new $({optional:!0,name:b.personal_name||"",idBlock:{tagClass:3,tagNumber:5},value:[new nt({idBlock:{tagClass:3,tagNumber:0},isHexOnly:!0}),new nt({optional:!0,idBlock:{tagClass:3,tagNumber:1},isHexOnly:!0}),new nt({optional:!0,idBlock:{tagClass:3,tagNumber:2},isHexOnly:!0}),new nt({optional:!0,idBlock:{tagClass:3,tagNumber:3},isHexOnly:!0})]}),new $({optional:!0,name:b.organizational_unit_names||"",idBlock:{tagClass:3,tagNumber:6},value:[new Ni({value:new yt})]})]})}function wa($e=!1){return new mn({optional:$e,value:[new yt,new yt]})}function Ts($e=!1){return new gi({optional:$e,value:[new nt({optional:!0,idBlock:{tagClass:3,tagNumber:0},isHexOnly:!0}),new $({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new gr]})]})}class si{constructor(h={}){this.type=S(h,"type",si.defaultValues("type")),this.value=S(h,"value",si.defaultValues("value")),"schema"in h&&this.fromSchema(h.schema)}static defaultValues(h){switch(h){case"type":return 9;case"value":return{};default:throw new Error(`Invalid member name for GeneralName class: ${h}`)}}static compareWithDefault(h,b){switch(h){case"type":return b===si.defaultValues(h);case"value":return 0===Object.keys(b).length;default:throw new Error(`Invalid member name for GeneralName class: ${h}`)}}static schema(h={}){const b=S(h,"names",{});return new vr({value:[new $({idBlock:{tagClass:3,tagNumber:0},name:b.blockName||"",value:[new $t,new $({idBlock:{tagClass:3,tagNumber:0},value:[new gr]})]}),new nt({name:b.blockName||"",idBlock:{tagClass:3,tagNumber:1}}),new nt({name:b.blockName||"",idBlock:{tagClass:3,tagNumber:2}}),new $({idBlock:{tagClass:3,tagNumber:3},name:b.blockName||"",value:[no(b.builtInStandardAttributes||{},!1),wa(!0),Ts(!0)]}),new $({idBlock:{tagClass:3,tagNumber:4},name:b.blockName||"",value:[Or.schema(b.directoryName||{})]}),new $({idBlock:{tagClass:3,tagNumber:5},name:b.blockName||"",value:[new $({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new vr({value:[new ue,new yt,new rn,new Hi,new tt]})]}),new $({idBlock:{tagClass:3,tagNumber:1},value:[new vr({value:[new ue,new yt,new rn,new Hi,new tt]})]})]}),new nt({name:b.blockName||"",idBlock:{tagClass:3,tagNumber:6}}),new nt({name:b.blockName||"",idBlock:{tagClass:3,tagNumber:7}}),new nt({name:b.blockName||"",idBlock:{tagClass:3,tagNumber:8}})]})}fromSchema(h){L(h,["blockName","otherName","rfc822Name","dNSName","x400Address","directoryName","ediPartyName","uniformResourceIdentifier","iPAddress","registeredID"]);const b=ai(h,h,si.schema({names:{blockName:"blockName",otherName:"otherName",rfc822Name:"rfc822Name",dNSName:"dNSName",x400Address:"x400Address",directoryName:{names:{blockName:"directoryName"}},ediPartyName:"ediPartyName",uniformResourceIdentifier:"uniformResourceIdentifier",iPAddress:"iPAddress",registeredID:"registeredID"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for GeneralName");switch(this.type=b.result.blockName.idBlock.tagNumber,this.type){case 0:case 3:this.value=b.result.blockName;break;case 1:case 2:case 6:{const k=b.result.blockName;k.idBlock.tagClass=1,k.idBlock.tagNumber=22;const K=k.toBER(!1);this.value=it(K).result.valueBlock.value}break;case 4:this.value=new Or({schema:b.result.directoryName});break;case 5:this.value=b.result.ediPartyName;break;case 7:this.value=new It({valueHex:b.result.blockName.valueBlock.valueHex});break;case 8:{const k=b.result.blockName;k.idBlock.tagClass=1,k.idBlock.tagNumber=6;const K=k.toBER(!1);this.value=it(K).result.valueBlock.toString()}}}toSchema(){switch(this.type){case 0:case 3:case 5:return new $({idBlock:{tagClass:3,tagNumber:this.type},value:[this.value]});case 1:case 2:case 6:{const h=new Et({value:this.value});return h.idBlock.tagClass=3,h.idBlock.tagNumber=this.type,h}case 4:return new $({idBlock:{tagClass:3,tagNumber:4},value:[this.value.toSchema()]});case 7:{const h=this.value;return h.idBlock.tagClass=3,h.idBlock.tagNumber=this.type,h}case 8:{const h=new $t({value:this.value});return h.idBlock.tagClass=3,h.idBlock.tagNumber=this.type,h}default:return si.schema()}}toJSON(){const h={type:this.type,value:""};if("string"==typeof this.value)h.value=this.value;else try{h.value=this.value.toJSON()}catch{}return h}}class Hr{constructor(h={}){this.altNames=S(h,"altNames",Hr.defaultValues("altNames")),"schema"in h&&this.fromSchema(h.schema)}static defaultValues(h){if("altNames"===h)return[];throw new Error(`Invalid member name for AltName class: ${h}`)}static schema(h={}){const b=S(h,"names",{});return new mn({name:b.blockName||"",value:[new Ni({name:b.altNames||"",value:si.schema()})]})}fromSchema(h){L(h,["altNames"]);const b=ai(h,h,Hr.schema({names:{altNames:"altNames"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for AltName");"altNames"in b.result&&(this.altNames=Array.from(b.result.altNames,k=>new si({schema:k})))}toSchema(){return new mn({value:Array.from(this.altNames,h=>h.toSchema())})}toJSON(){return{altNames:Array.from(this.altNames,h=>h.toJSON())}}}class Ls{constructor(h={}){this.cA=S(h,"cA",!1),"pathLenConstraint"in h&&(this.pathLenConstraint=S(h,"pathLenConstraint",0)),"schema"in h&&this.fromSchema(h.schema)}static defaultValues(h){if("cA"===h)return!1;throw new Error(`Invalid member name for BasicConstraints class: ${h}`)}static schema(h={}){const b=S(h,"names",{});return new mn({name:b.blockName||"",value:[new Mn({optional:!0,name:b.cA||""}),new dn({optional:!0,name:b.pathLenConstraint||""})]})}fromSchema(h){L(h,["cA","pathLenConstraint"]);const b=ai(h,h,Ls.schema({names:{cA:"cA",pathLenConstraint:"pathLenConstraint"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for BasicConstraints");"cA"in b.result&&(this.cA=b.result.cA.valueBlock.value),"pathLenConstraint"in b.result&&(this.pathLenConstraint=b.result.pathLenConstraint.valueBlock.isHexOnly?b.result.pathLenConstraint:b.result.pathLenConstraint.valueBlock.valueDec)}toSchema(){const h=[];return this.cA!==Ls.defaultValues("cA")&&h.push(new Mn({value:this.cA})),"pathLenConstraint"in this&&h.push(this.pathLenConstraint instanceof dn?this.pathLenConstraint:new dn({value:this.pathLenConstraint})),new mn({value:h})}toJSON(){const h={};return this.cA!==Ls.defaultValues("cA")&&(h.cA=this.cA),"pathLenConstraint"in this&&(h.pathLenConstraint=this.pathLenConstraint instanceof dn?this.pathLenConstraint.toJSON():this.pathLenConstraint),h}}class mr{constructor(h={}){"distributionPoint"in h&&(this.distributionPoint=S(h,"distributionPoint",mr.defaultValues("distributionPoint"))),this.onlyContainsUserCerts=S(h,"onlyContainsUserCerts",mr.defaultValues("onlyContainsUserCerts")),this.onlyContainsCACerts=S(h,"onlyContainsCACerts",mr.defaultValues("onlyContainsCACerts")),"onlySomeReasons"in h&&(this.onlySomeReasons=S(h,"onlySomeReasons",mr.defaultValues("onlySomeReasons"))),this.indirectCRL=S(h,"indirectCRL",mr.defaultValues("indirectCRL")),this.onlyContainsAttributeCerts=S(h,"onlyContainsAttributeCerts",mr.defaultValues("onlyContainsAttributeCerts")),"schema"in h&&this.fromSchema(h.schema)}static defaultValues(h){switch(h){case"distributionPoint":return[];case"onlyContainsUserCerts":case"onlyContainsCACerts":case"indirectCRL":case"onlyContainsAttributeCerts":return!1;case"onlySomeReasons":return 0;default:throw new Error(`Invalid member name for IssuingDistributionPoint class: ${h}`)}}static schema(h={}){const b=S(h,"names",{});return new mn({name:b.blockName||"",value:[new $({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new vr({value:[new $({name:b.distributionPoint||"",idBlock:{tagClass:3,tagNumber:0},value:[new Ni({name:b.distributionPointNames||"",value:si.schema()})]}),new $({name:b.distributionPoint||"",idBlock:{tagClass:3,tagNumber:1},value:Or.schema().valueBlock.value})]})]}),new nt({name:b.onlyContainsUserCerts||"",optional:!0,idBlock:{tagClass:3,tagNumber:1}}),new nt({name:b.onlyContainsCACerts||"",optional:!0,idBlock:{tagClass:3,tagNumber:2}}),new nt({name:b.onlySomeReasons||"",optional:!0,idBlock:{tagClass:3,tagNumber:3}}),new nt({name:b.indirectCRL||"",optional:!0,idBlock:{tagClass:3,tagNumber:4}}),new nt({name:b.onlyContainsAttributeCerts||"",optional:!0,idBlock:{tagClass:3,tagNumber:5}})]})}fromSchema(h){L(h,["distributionPoint","distributionPointNames","onlyContainsUserCerts","onlyContainsCACerts","onlySomeReasons","indirectCRL","onlyContainsAttributeCerts"]);const b=ai(h,h,mr.schema({names:{distributionPoint:"distributionPoint",distributionPointNames:"distributionPointNames",onlyContainsUserCerts:"onlyContainsUserCerts",onlyContainsCACerts:"onlyContainsCACerts",onlySomeReasons:"onlySomeReasons",indirectCRL:"indirectCRL",onlyContainsAttributeCerts:"onlyContainsAttributeCerts"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for IssuingDistributionPoint");if("distributionPoint"in b.result)switch(!0){case 0===b.result.distributionPoint.idBlock.tagNumber:this.distributionPoint=Array.from(b.result.distributionPointNames,k=>new si({schema:k}));break;case 1===b.result.distributionPoint.idBlock.tagNumber:this.distributionPoint=new Or({schema:new mn({value:b.result.distributionPoint.valueBlock.value})});break;default:throw new Error("Unknown tagNumber for distributionPoint: {$asn1.result.distributionPoint.idBlock.tagNumber}")}if("onlyContainsUserCerts"in b.result){const k=new Uint8Array(b.result.onlyContainsUserCerts.valueBlock.valueHex);this.onlyContainsUserCerts=0!==k[0]}if("onlyContainsCACerts"in b.result){const k=new Uint8Array(b.result.onlyContainsCACerts.valueBlock.valueHex);this.onlyContainsCACerts=0!==k[0]}if("onlySomeReasons"in b.result){const k=new Uint8Array(b.result.onlySomeReasons.valueBlock.valueHex);this.onlySomeReasons=k[0]}if("indirectCRL"in b.result){const k=new Uint8Array(b.result.indirectCRL.valueBlock.valueHex);this.indirectCRL=0!==k[0]}if("onlyContainsAttributeCerts"in b.result){const k=new Uint8Array(b.result.onlyContainsAttributeCerts.valueBlock.valueHex);this.onlyContainsAttributeCerts=0!==k[0]}}toSchema(){const h=[];if("distributionPoint"in this){let b;this.distributionPoint instanceof Array?b=new $({idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.distributionPoint,k=>k.toSchema())}):(b=this.distributionPoint.toSchema(),b.idBlock.tagClass=3,b.idBlock.tagNumber=1),h.push(new $({idBlock:{tagClass:3,tagNumber:0},value:[b]}))}if(this.onlyContainsUserCerts!==mr.defaultValues("onlyContainsUserCerts")&&h.push(new nt({idBlock:{tagClass:3,tagNumber:1},valueHex:new Uint8Array([255]).buffer})),this.onlyContainsCACerts!==mr.defaultValues("onlyContainsCACerts")&&h.push(new nt({idBlock:{tagClass:3,tagNumber:2},valueHex:new Uint8Array([255]).buffer})),"onlySomeReasons"in this){const b=new ArrayBuffer(1);new Uint8Array(b)[0]=this.onlySomeReasons,h.push(new nt({idBlock:{tagClass:3,tagNumber:3},valueHex:b}))}return this.indirectCRL!==mr.defaultValues("indirectCRL")&&h.push(new nt({idBlock:{tagClass:3,tagNumber:4},valueHex:new Uint8Array([255]).buffer})),this.onlyContainsAttributeCerts!==mr.defaultValues("onlyContainsAttributeCerts")&&h.push(new nt({idBlock:{tagClass:3,tagNumber:5},valueHex:new Uint8Array([255]).buffer})),new mn({value:h})}toJSON(){const h={};return"distributionPoint"in this&&(h.distributionPoint=this.distributionPoint instanceof Array?Array.from(this.distributionPoint,b=>b.toJSON()):this.distributionPoint.toJSON()),this.onlyContainsUserCerts!==mr.defaultValues("onlyContainsUserCerts")&&(h.onlyContainsUserCerts=this.onlyContainsUserCerts),this.onlyContainsCACerts!==mr.defaultValues("onlyContainsCACerts")&&(h.onlyContainsCACerts=this.onlyContainsCACerts),"onlySomeReasons"in this&&(h.onlySomeReasons=this.onlySomeReasons),this.indirectCRL!==mr.defaultValues("indirectCRL")&&(h.indirectCRL=this.indirectCRL),this.onlyContainsAttributeCerts!==mr.defaultValues("onlyContainsAttributeCerts")&&(h.onlyContainsAttributeCerts=this.onlyContainsAttributeCerts),h}}class Us{constructor(h={}){this.names=S(h,"names",Us.defaultValues("names")),"schema"in h&&this.fromSchema(h.schema)}static defaultValues(h){if("names"===h)return[];throw new Error(`Invalid member name for GeneralNames class: ${h}`)}static schema(h={},b=!1){const k=S(h,"names",{});return new mn({optional:b,name:k.blockName||"",value:[new Ni({name:k.generalNames||"",value:si.schema()})]})}fromSchema(h){L(h,["names","generalNames"]);const b=ai(h,h,Us.schema({names:{blockName:"names",generalNames:"generalNames"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for GeneralNames");this.names=Array.from(b.result.generalNames,k=>new si({schema:k}))}toSchema(){return new mn({value:Array.from(this.names,h=>h.toSchema())})}toJSON(){return{names:Array.from(this.names,h=>h.toJSON())}}}class Pr{constructor(h={}){this.base=S(h,"base",Pr.defaultValues("base")),this.minimum=S(h,"minimum",Pr.defaultValues("minimum")),"maximum"in h&&(this.maximum=S(h,"maximum",Pr.defaultValues("maximum"))),"schema"in h&&this.fromSchema(h.schema)}static defaultValues(h){switch(h){case"base":return new si;case"minimum":case"maximum":return 0;default:throw new Error(`Invalid member name for GeneralSubtree class: ${h}`)}}static schema(h={}){const b=S(h,"names",{});return new mn({name:b.blockName||"",value:[si.schema(b.base||{}),new $({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new dn({name:b.minimum||""})]}),new $({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new dn({name:b.maximum||""})]})]})}fromSchema(h){L(h,["base","minimum","maximum"]);const b=ai(h,h,Pr.schema({names:{base:{names:{blockName:"base"}},minimum:"minimum",maximum:"maximum"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for GeneralSubtree");this.base=new si({schema:b.result.base}),"minimum"in b.result&&(this.minimum=b.result.minimum.valueBlock.isHexOnly?b.result.minimum:b.result.minimum.valueBlock.valueDec),"maximum"in b.result&&(this.maximum=b.result.maximum.valueBlock.isHexOnly?b.result.maximum:b.result.maximum.valueBlock.valueDec)}toSchema(){const h=[];if(h.push(this.base.toSchema()),0!==this.minimum){let b=0;b=this.minimum instanceof dn?this.minimum:new dn({value:this.minimum}),h.push(new $({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[b]}))}if("maximum"in this){let b=0;b=this.maximum instanceof dn?this.maximum:new dn({value:this.maximum}),h.push(new $({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[b]}))}return new mn({value:h})}toJSON(){const h={base:this.base.toJSON()};return 0!==this.minimum&&(h.minimum="number"==typeof this.minimum?this.minimum:this.minimum.toJSON()),"maximum"in this&&(h.maximum="number"==typeof this.maximum?this.maximum:this.maximum.toJSON()),h}}class Ur{constructor(h={}){"permittedSubtrees"in h&&(this.permittedSubtrees=S(h,"permittedSubtrees",Ur.defaultValues("permittedSubtrees"))),"excludedSubtrees"in h&&(this.excludedSubtrees=S(h,"excludedSubtrees",Ur.defaultValues("excludedSubtrees"))),"schema"in h&&this.fromSchema(h.schema)}static defaultValues(h){switch(h){case"permittedSubtrees":case"excludedSubtrees":return[];default:throw new Error(`Invalid member name for NameConstraints class: ${h}`)}}static schema(h={}){const b=S(h,"names",{});return new mn({name:b.blockName||"",value:[new $({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new Ni({name:b.permittedSubtrees||"",value:Pr.schema()})]}),new $({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new Ni({name:b.excludedSubtrees||"",value:Pr.schema()})]})]})}fromSchema(h){L(h,["permittedSubtrees","excludedSubtrees"]);const b=ai(h,h,Ur.schema({names:{permittedSubtrees:"permittedSubtrees",excludedSubtrees:"excludedSubtrees"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for NameConstraints");"permittedSubtrees"in b.result&&(this.permittedSubtrees=Array.from(b.result.permittedSubtrees,k=>new Pr({schema:k}))),"excludedSubtrees"in b.result&&(this.excludedSubtrees=Array.from(b.result.excludedSubtrees,k=>new Pr({schema:k})))}toSchema(){const h=[];return"permittedSubtrees"in this&&h.push(new $({idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.permittedSubtrees,b=>b.toSchema())})),"excludedSubtrees"in this&&h.push(new $({idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.excludedSubtrees,b=>b.toSchema())})),new mn({value:h})}toJSON(){const h={};return"permittedSubtrees"in this&&(h.permittedSubtrees=Array.from(this.permittedSubtrees,b=>b.toJSON())),"excludedSubtrees"in this&&(h.excludedSubtrees=Array.from(this.excludedSubtrees,b=>b.toJSON())),h}}class Wr{constructor(h={}){"distributionPoint"in h&&(this.distributionPoint=S(h,"distributionPoint",Wr.defaultValues("distributionPoint"))),"reasons"in h&&(this.reasons=S(h,"reasons",Wr.defaultValues("reasons"))),"cRLIssuer"in h&&(this.cRLIssuer=S(h,"cRLIssuer",Wr.defaultValues("cRLIssuer"))),"schema"in h&&this.fromSchema(h.schema)}static defaultValues(h){switch(h){case"distributionPoint":case"cRLIssuer":return[];case"reasons":return new lt;default:throw new Error(`Invalid member name for DistributionPoint class: ${h}`)}}static schema(h={}){const b=S(h,"names",{});return new mn({name:b.blockName||"",value:[new $({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new vr({value:[new $({name:b.distributionPoint||"",optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new Ni({name:b.distributionPointNames||"",value:si.schema()})]}),new $({name:b.distributionPoint||"",optional:!0,idBlock:{tagClass:3,tagNumber:1},value:Or.schema().valueBlock.value})]})]}),new nt({name:b.reasons||"",optional:!0,idBlock:{tagClass:3,tagNumber:1}}),new $({name:b.cRLIssuer||"",optional:!0,idBlock:{tagClass:3,tagNumber:2},value:[new Ni({name:b.cRLIssuerNames||"",value:si.schema()})]})]})}fromSchema(h){L(h,["distributionPoint","distributionPointNames","reasons","cRLIssuer","cRLIssuerNames"]);const b=ai(h,h,Wr.schema({names:{distributionPoint:"distributionPoint",distributionPointNames:"distributionPointNames",reasons:"reasons",cRLIssuer:"cRLIssuer",cRLIssuerNames:"cRLIssuerNames"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for DistributionPoint");"distributionPoint"in b.result&&(0===b.result.distributionPoint.idBlock.tagNumber&&(this.distributionPoint=Array.from(b.result.distributionPointNames,k=>new si({schema:k}))),1===b.result.distributionPoint.idBlock.tagNumber&&(this.distributionPoint=new Or({schema:new mn({value:b.result.distributionPoint.valueBlock.value})}))),"reasons"in b.result&&(this.reasons=new lt({valueHex:b.result.reasons.valueBlock.valueHex})),"cRLIssuer"in b.result&&(this.cRLIssuer=Array.from(b.result.cRLIssuerNames,k=>new si({schema:k})))}toSchema(){const h=[];if("distributionPoint"in this){let b;b=new $(this.distributionPoint instanceof Array?{idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.distributionPoint,k=>k.toSchema())}:{idBlock:{tagClass:3,tagNumber:1},value:[this.distributionPoint.toSchema()]}),h.push(new $({idBlock:{tagClass:3,tagNumber:0},value:[b]}))}return"reasons"in this&&h.push(new nt({idBlock:{tagClass:3,tagNumber:1},valueHex:this.reasons.valueBlock.valueHex})),"cRLIssuer"in this&&h.push(new $({idBlock:{tagClass:3,tagNumber:2},value:Array.from(this.cRLIssuer,b=>b.toSchema())})),new mn({value:h})}toJSON(){const h={};return"distributionPoint"in this&&(h.distributionPoint=this.distributionPoint instanceof Array?Array.from(this.distributionPoint,b=>b.toJSON()):this.distributionPoint.toJSON()),"reasons"in this&&(h.reasons=this.reasons.toJSON()),"cRLIssuer"in this&&(h.cRLIssuer=Array.from(this.cRLIssuer,b=>b.toJSON())),h}}class gn{constructor(h={}){this.distributionPoints=S(h,"distributionPoints",gn.defaultValues("distributionPoints")),"schema"in h&&this.fromSchema(h.schema)}static defaultValues(h){if("distributionPoints"===h)return[];throw new Error(`Invalid member name for CRLDistributionPoints class: ${h}`)}static schema(h={}){const b=S(h,"names",{});return new mn({name:b.blockName||"",value:[new Ni({name:b.distributionPoints||"",value:Wr.schema()})]})}fromSchema(h){L(h,["distributionPoints"]);const b=ai(h,h,gn.schema({names:{distributionPoints:"distributionPoints"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for CRLDistributionPoints");this.distributionPoints=Array.from(b.result.distributionPoints,k=>new Wr({schema:k}))}toSchema(){return new mn({value:Array.from(this.distributionPoints,h=>h.toSchema())})}toJSON(){return{distributionPoints:Array.from(this.distributionPoints,h=>h.toJSON())}}}class vs{constructor(h={}){this.policyQualifierId=S(h,"policyQualifierId",vs.defaultValues("policyQualifierId")),this.qualifier=S(h,"qualifier",vs.defaultValues("qualifier")),"schema"in h&&this.fromSchema(h.schema)}static defaultValues(h){switch(h){case"policyQualifierId":return"";case"qualifier":return new gr;default:throw new Error(`Invalid member name for PolicyQualifierInfo class: ${h}`)}}static schema(h={}){const b=S(h,"names",{});return new mn({name:b.blockName||"",value:[new $t({name:b.policyQualifierId||""}),new gr({name:b.qualifier||""})]})}fromSchema(h){L(h,["policyQualifierId","qualifier"]);const b=ai(h,h,vs.schema({names:{policyQualifierId:"policyQualifierId",qualifier:"qualifier"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for PolicyQualifierInfo");this.policyQualifierId=b.result.policyQualifierId.valueBlock.toString(),this.qualifier=b.result.qualifier}toSchema(){return new mn({value:[new $t({value:this.policyQualifierId}),this.qualifier]})}toJSON(){return{policyQualifierId:this.policyQualifierId,qualifier:this.qualifier.toJSON()}}}class Fe{constructor(h={}){this.policyIdentifier=S(h,"policyIdentifier",Fe.defaultValues("policyIdentifier")),"policyQualifiers"in h&&(this.policyQualifiers=S(h,"policyQualifiers",Fe.defaultValues("policyQualifiers"))),"schema"in h&&this.fromSchema(h.schema)}static defaultValues(h){switch(h){case"policyIdentifier":return"";case"policyQualifiers":return[];default:throw new Error(`Invalid member name for PolicyInformation class: ${h}`)}}static schema(h={}){const b=S(h,"names",{});return new mn({name:b.blockName||"",value:[new $t({name:b.policyIdentifier||""}),new mn({optional:!0,value:[new Ni({name:b.policyQualifiers||"",value:vs.schema()})]})]})}fromSchema(h){L(h,["policyIdentifier","policyQualifiers"]);const b=ai(h,h,Fe.schema({names:{policyIdentifier:"policyIdentifier",policyQualifiers:"policyQualifiers"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for PolicyInformation");this.policyIdentifier=b.result.policyIdentifier.valueBlock.toString(),"policyQualifiers"in b.result&&(this.policyQualifiers=Array.from(b.result.policyQualifiers,k=>new vs({schema:k})))}toSchema(){const h=[];return h.push(new $t({value:this.policyIdentifier})),"policyQualifiers"in this&&h.push(new mn({value:Array.from(this.policyQualifiers,b=>b.toSchema())})),new mn({value:h})}toJSON(){const h={policyIdentifier:this.policyIdentifier};return"policyQualifiers"in this&&(h.policyQualifiers=Array.from(this.policyQualifiers,b=>b.toJSON())),h}}class Ge{constructor(h={}){this.certificatePolicies=S(h,"certificatePolicies",Ge.defaultValues("certificatePolicies")),"schema"in h&&this.fromSchema(h.schema)}static defaultValues(h){if("certificatePolicies"===h)return[];throw new Error(`Invalid member name for CertificatePolicies class: ${h}`)}static schema(h={}){const b=S(h,"names",{});return new mn({name:b.blockName||"",value:[new Ni({name:b.certificatePolicies||"",value:Fe.schema()})]})}fromSchema(h){L(h,["certificatePolicies"]);const b=ai(h,h,Ge.schema({names:{certificatePolicies:"certificatePolicies"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for CertificatePolicies");this.certificatePolicies=Array.from(b.result.certificatePolicies,k=>new Fe({schema:k}))}toSchema(){return new mn({value:Array.from(this.certificatePolicies,h=>h.toSchema())})}toJSON(){return{certificatePolicies:Array.from(this.certificatePolicies,h=>h.toJSON())}}}class ge{constructor(h={}){this.issuerDomainPolicy=S(h,"issuerDomainPolicy",ge.defaultValues("issuerDomainPolicy")),this.subjectDomainPolicy=S(h,"subjectDomainPolicy",ge.defaultValues("subjectDomainPolicy")),"schema"in h&&this.fromSchema(h.schema)}static defaultValues(h){switch(h){case"issuerDomainPolicy":case"subjectDomainPolicy":return"";default:throw new Error(`Invalid member name for PolicyMapping class: ${h}`)}}static schema(h={}){const b=S(h,"names",{});return new mn({name:b.blockName||"",value:[new $t({name:b.issuerDomainPolicy||""}),new $t({name:b.subjectDomainPolicy||""})]})}fromSchema(h){L(h,["issuerDomainPolicy","subjectDomainPolicy"]);const b=ai(h,h,ge.schema({names:{issuerDomainPolicy:"issuerDomainPolicy",subjectDomainPolicy:"subjectDomainPolicy"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for PolicyMapping");this.issuerDomainPolicy=b.result.issuerDomainPolicy.valueBlock.toString(),this.subjectDomainPolicy=b.result.subjectDomainPolicy.valueBlock.toString()}toSchema(){return new mn({value:[new $t({value:this.issuerDomainPolicy}),new $t({value:this.subjectDomainPolicy})]})}toJSON(){return{issuerDomainPolicy:this.issuerDomainPolicy,subjectDomainPolicy:this.subjectDomainPolicy}}}class et{constructor(h={}){this.mappings=S(h,"mappings",et.defaultValues("mappings")),"schema"in h&&this.fromSchema(h.schema)}static defaultValues(h){if("mappings"===h)return[];throw new Error(`Invalid member name for PolicyMappings class: ${h}`)}static schema(h={}){const b=S(h,"names",{});return new mn({name:b.blockName||"",value:[new Ni({name:b.mappings||"",value:ge.schema()})]})}fromSchema(h){L(h,["mappings"]);const b=ai(h,h,et.schema({names:{mappings:"mappings"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for PolicyMappings");this.mappings=Array.from(b.result.mappings,k=>new ge({schema:k}))}toSchema(){return new mn({value:Array.from(this.mappings,h=>h.toSchema())})}toJSON(){return{mappings:Array.from(this.mappings,h=>h.toJSON())}}}class Bt{constructor(h={}){"keyIdentifier"in h&&(this.keyIdentifier=S(h,"keyIdentifier",Bt.defaultValues("keyIdentifier"))),"authorityCertIssuer"in h&&(this.authorityCertIssuer=S(h,"authorityCertIssuer",Bt.defaultValues("authorityCertIssuer"))),"authorityCertSerialNumber"in h&&(this.authorityCertSerialNumber=S(h,"authorityCertSerialNumber",Bt.defaultValues("authorityCertSerialNumber"))),"schema"in h&&this.fromSchema(h.schema)}static defaultValues(h){switch(h){case"keyIdentifier":return new It;case"authorityCertIssuer":return[];case"authorityCertSerialNumber":return new dn;default:throw new Error(`Invalid member name for AuthorityKeyIdentifier class: ${h}`)}}static schema(h={}){const b=S(h,"names",{});return new mn({name:b.blockName||"",value:[new nt({name:b.keyIdentifier||"",optional:!0,idBlock:{tagClass:3,tagNumber:0}}),new $({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new Ni({name:b.authorityCertIssuer||"",value:si.schema()})]}),new nt({name:b.authorityCertSerialNumber||"",optional:!0,idBlock:{tagClass:3,tagNumber:2}})]})}fromSchema(h){L(h,["keyIdentifier","authorityCertIssuer","authorityCertSerialNumber"]);const b=ai(h,h,Bt.schema({names:{keyIdentifier:"keyIdentifier",authorityCertIssuer:"authorityCertIssuer",authorityCertSerialNumber:"authorityCertSerialNumber"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for AuthorityKeyIdentifier");"keyIdentifier"in b.result&&(this.keyIdentifier=new It({valueHex:b.result.keyIdentifier.valueBlock.valueHex})),"authorityCertIssuer"in b.result&&(this.authorityCertIssuer=Array.from(b.result.authorityCertIssuer,k=>new si({schema:k}))),"authorityCertSerialNumber"in b.result&&(this.authorityCertSerialNumber=new dn({valueHex:b.result.authorityCertSerialNumber.valueBlock.valueHex}))}toSchema(){const h=[];return"keyIdentifier"in this&&h.push(new nt({idBlock:{tagClass:3,tagNumber:0},valueHex:this.keyIdentifier.valueBlock.valueHex})),"authorityCertIssuer"in this&&h.push(new $({idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.authorityCertIssuer,b=>b.toSchema())})),"authorityCertSerialNumber"in this&&h.push(new nt({idBlock:{tagClass:3,tagNumber:2},valueHex:this.authorityCertSerialNumber.valueBlock.valueHex})),new mn({value:h})}toJSON(){const h={};return"keyIdentifier"in this&&(h.keyIdentifier=this.keyIdentifier.toJSON()),"authorityCertIssuer"in this&&(h.authorityCertIssuer=Array.from(this.authorityCertIssuer,b=>b.toJSON())),"authorityCertSerialNumber"in this&&(h.authorityCertSerialNumber=this.authorityCertSerialNumber.toJSON()),h}}class Kn{constructor(h={}){"requireExplicitPolicy"in h&&(this.requireExplicitPolicy=S(h,"requireExplicitPolicy",Kn.defaultValues("requireExplicitPolicy"))),"inhibitPolicyMapping"in h&&(this.inhibitPolicyMapping=S(h,"inhibitPolicyMapping",Kn.defaultValues("inhibitPolicyMapping"))),"schema"in h&&this.fromSchema(h.schema)}static defaultValues(h){switch(h){case"requireExplicitPolicy":case"inhibitPolicyMapping":return 0;default:throw new Error(`Invalid member name for PolicyConstraints class: ${h}`)}}static schema(h={}){const b=S(h,"names",{});return new mn({name:b.blockName||"",value:[new nt({name:b.requireExplicitPolicy||"",optional:!0,idBlock:{tagClass:3,tagNumber:0}}),new nt({name:b.inhibitPolicyMapping||"",optional:!0,idBlock:{tagClass:3,tagNumber:1}})]})}fromSchema(h){L(h,["requireExplicitPolicy","inhibitPolicyMapping"]);const b=ai(h,h,Kn.schema({names:{requireExplicitPolicy:"requireExplicitPolicy",inhibitPolicyMapping:"inhibitPolicyMapping"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for PolicyConstraints");if("requireExplicitPolicy"in b.result){const k=b.result.requireExplicitPolicy;k.idBlock.tagClass=1,k.idBlock.tagNumber=2;const ce=it(k.toBER(!1));this.requireExplicitPolicy=ce.result.valueBlock.valueDec}if("inhibitPolicyMapping"in b.result){const k=b.result.inhibitPolicyMapping;k.idBlock.tagClass=1,k.idBlock.tagNumber=2;const ce=it(k.toBER(!1));this.inhibitPolicyMapping=ce.result.valueBlock.valueDec}}toSchema(){const h=[];if("requireExplicitPolicy"in this){const b=new dn({value:this.requireExplicitPolicy});b.idBlock.tagClass=3,b.idBlock.tagNumber=0,h.push(b)}if("inhibitPolicyMapping"in this){const b=new dn({value:this.inhibitPolicyMapping});b.idBlock.tagClass=3,b.idBlock.tagNumber=1,h.push(b)}return new mn({value:h})}toJSON(){const h={};return"requireExplicitPolicy"in this&&(h.requireExplicitPolicy=this.requireExplicitPolicy),"inhibitPolicyMapping"in this&&(h.inhibitPolicyMapping=this.inhibitPolicyMapping),h}}class Ei{constructor(h={}){this.keyPurposes=S(h,"keyPurposes",Ei.defaultValues("keyPurposes")),"schema"in h&&this.fromSchema(h.schema)}static defaultValues(h){if("keyPurposes"===h)return[];throw new Error(`Invalid member name for ExtKeyUsage class: ${h}`)}static schema(h={}){const b=S(h,"names",{});return new mn({name:b.blockName||"",value:[new Ni({name:b.keyPurposes||"",value:new $t})]})}fromSchema(h){L(h,["keyPurposes"]);const b=ai(h,h,Ei.schema({names:{keyPurposes:"keyPurposes"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for ExtKeyUsage");this.keyPurposes=Array.from(b.result.keyPurposes,k=>k.valueBlock.toString())}toSchema(){return new mn({value:Array.from(this.keyPurposes,h=>new $t({value:h}))})}toJSON(){return{keyPurposes:Array.from(this.keyPurposes)}}}class ls{constructor(h={}){this.accessMethod=S(h,"accessMethod",ls.defaultValues("accessMethod")),this.accessLocation=S(h,"accessLocation",ls.defaultValues("accessLocation")),"schema"in h&&this.fromSchema(h.schema)}static defaultValues(h){switch(h){case"accessMethod":return"";case"accessLocation":return new si;default:throw new Error(`Invalid member name for AccessDescription class: ${h}`)}}static schema(h={}){const b=S(h,"names",{});return new mn({name:b.blockName||"",value:[new $t({name:b.accessMethod||""}),si.schema(b.accessLocation||{})]})}fromSchema(h){L(h,["accessMethod","accessLocation"]);const b=ai(h,h,ls.schema({names:{accessMethod:"accessMethod",accessLocation:{names:{blockName:"accessLocation"}}}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for AccessDescription");this.accessMethod=b.result.accessMethod.valueBlock.toString(),this.accessLocation=new si({schema:b.result.accessLocation})}toSchema(){return new mn({value:[new $t({value:this.accessMethod}),this.accessLocation.toSchema()]})}toJSON(){return{accessMethod:this.accessMethod,accessLocation:this.accessLocation.toJSON()}}}class ys{constructor(h={}){this.accessDescriptions=S(h,"accessDescriptions",ys.defaultValues("accessDescriptions")),"schema"in h&&this.fromSchema(h.schema)}static defaultValues(h){if("accessDescriptions"===h)return[];throw new Error(`Invalid member name for InfoAccess class: ${h}`)}static schema(h={}){const b=S(h,"names",{});return new mn({name:b.blockName||"",value:[new Ni({name:b.accessDescriptions||"",value:ls.schema()})]})}fromSchema(h){L(h,["accessDescriptions"]);const b=ai(h,h,ys.schema({names:{accessDescriptions:"accessDescriptions"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for InfoAccess");this.accessDescriptions=Array.from(b.result.accessDescriptions,k=>new ls({schema:k}))}toSchema(){return new mn({value:Array.from(this.accessDescriptions,h=>h.toSchema())})}toJSON(){return{accessDescriptions:Array.from(this.accessDescriptions,h=>h.toJSON())}}}class Jn{constructor(h={}){if("view"in h)this.fromUint8Array(h.view);else if("buffer"in h)this.fromArrayBuffer(h.buffer);else if("string"in h)this.fromString(h.string);else if("hexstring"in h)this.fromHexString(h.hexstring);else if("length"in h&&h.length>0){if(this.length=h.length,h.stub)for(let b=0;b<this._view.length;b++)this._view[b]=h.stub}else this.length=0}set buffer(h){this._buffer=h,this._view=new Uint8Array(this._buffer)}get buffer(){return this._buffer}set view(h){this._buffer=new ArrayBuffer(h.length),this._view=new Uint8Array(this._buffer),this._view.set(h)}get view(){return this._view}get length(){return this.view.byteLength}set length(h){this._buffer=new ArrayBuffer(h),this._view=new Uint8Array(this._buffer)}clear(){this._buffer=new ArrayBuffer(0),this._view=new Uint8Array(this._buffer)}fromArrayBuffer(h){this._buffer=h,this._view=new Uint8Array(this._buffer)}fromUint8Array(h){this.fromArrayBuffer(new Uint8Array(h).buffer)}fromString(h){const b=h.length;this.length=b;for(let k=0;k<b;k++)this.view[k]=h.charCodeAt(k)}toString(h=0,b=this.view.length-h){let k="";(h>=this.view.length||h<0)&&(h=0),(b>=this.view.length||b<0)&&(b=this.view.length-h);for(let K=h;K<h+b;K++)k+=String.fromCharCode(this.view[K]);return k}fromHexString(h){const b=h.length;this.buffer=new ArrayBuffer(b>>1),this.view=new Uint8Array(this.buffer);const k=new Map;k.set("0",0),k.set("1",1),k.set("2",2),k.set("3",3),k.set("4",4),k.set("5",5),k.set("6",6),k.set("7",7),k.set("8",8),k.set("9",9),k.set("A",10),k.set("a",10),k.set("B",11),k.set("b",11),k.set("C",12),k.set("c",12),k.set("D",13),k.set("d",13),k.set("E",14),k.set("e",14),k.set("F",15),k.set("f",15);let K=0,ce=0;for(let Ce=0;Ce<b;Ce++)Ce%2?(ce|=k.get(h.charAt(Ce)),this.view[K]=ce,K++):ce=k.get(h.charAt(Ce))<<4}toHexString(h=0,b=this.view.length-h){let k="";(h>=this.view.length||h<0)&&(h=0),(b>=this.view.length||b<0)&&(b=this.view.length-h);for(let K=h;K<h+b;K++){const ce=this.view[K].toString(16).toUpperCase();k=k+(1==ce.length?"0":"")+ce}return k}copy(h=0,b=this.length-h){if(!h&&!this.length)return new Jn;if(h<0||h>this.length-1)throw new Error(`Wrong start position: ${h}`);return new Jn({buffer:this._buffer.slice(h,h+b)})}slice(h=0,b=this.length){if(!h&&!this.length)return new Jn;if(h<0||h>this.length-1)throw new Error(`Wrong start position: ${h}`);return new Jn({buffer:this._buffer.slice(h,b)})}realloc(h){const b=new ArrayBuffer(h);new Uint8Array(b).set(h>this._view.length?this._view:new Uint8Array(this._buffer,0,h)),this._buffer=b,this._view=new Uint8Array(this._buffer)}append(h){const b=this.length,k=h.length,K=h._view.subarray();this.realloc(b+k),this._view.set(K,b)}insert(h,b=0,k=this.length-b){return!(b>this.length-1||(k>this.length-b&&(k=this.length-b),k>h.length&&(k=h.length),this._view.set(k==h.length?h._view:h._view.subarray(0,k),b),0))}isEqual(h){if(this.length!=h.length)return!1;for(let b=0;b<h.length;b++)if(this.view[b]!=h.view[b])return!1;return!0}isEqualView(h){if(h.length!=this.view.length)return!1;for(let b=0;b<h.length;b++)if(this.view[b]!=h[b])return!1;return!0}findPattern(h,b,k,K){const{start:ce,length:Ce,backward:We}=this.prepareFindParameters(b,k,K),A=h.length;if(A>Ce)return-1;const j=[];for(let B=0;B<A;B++)j.push(h.view[B]);for(let B=0;B<=Ce-A;B++){let Z=!0;const be=We?ce-A-B:ce+B;for(let He=0;He<A;He++)if(this.view[He+be]!=j[He]){Z=!1;break}if(Z)return We?ce-A-B:ce+A+B}return-1}findFirstIn(h,b,k,K){const{start:ce,length:Ce,backward:We}=this.prepareFindParameters(b,k,K),A={id:-1,position:We?0:ce+Ce,length:0};for(let j=0;j<h.length;j++){const B=this.findPattern(h[j],ce,Ce,We);if(-1!=B){let Z=!1;const be=h[j].length;We?B-be>=A.position-A.length&&(Z=!0):B-be<=A.position-A.length&&(Z=!0),Z&&(A.position=B,A.id=j,A.length=be)}}return A}findAllIn(h,b,k){let{start:K,length:ce}=this.prepareFindParameters(b,k);const Ce=[];let We={id:-1,position:K};for(;;){const A=We.position;if(We=this.findFirstIn(h,We.position,ce),-1==We.id)break;ce-=We.position-A,Ce.push({id:We.id,position:We.position})}return Ce}findAllPatternIn(h,b,k){const{start:K,length:ce}=this.prepareFindParameters(b,k),Ce=[],We=h.length;if(We>ce)return-1;const A=Array.from(h.view);for(let j=0;j<=ce-We;j++){let B=!0;const Z=K+j;for(let be=0;be<We;be++)if(this.view[be+Z]!=A[be]){B=!1;break}B&&(Ce.push(K+We+j),j+=We-1)}return Ce}findFirstNotIn(h,b,k,K){let{start:ce,length:Ce,backward:We}=this.prepareFindParameters(b,k,K);const A={left:{id:-1,position:ce},right:{id:-1,position:0},value:new Jn};let j=Ce;for(;j>0;){if(A.right=this.findFirstIn(h,We?ce-Ce+j:ce+Ce-j,j,We),-1==A.right.id){Ce=j,We?ce-=Ce:ce=A.left.position,A.value=new Jn({buffer:this._buffer.slice(ce,ce+Ce)});break}if(A.right.position!=(We?A.left.position-h[A.right.id].length:A.left.position+h[A.right.id].length)){We?(ce=A.right.position+h[A.right.id].length,Ce=A.left.position-A.right.position-h[A.right.id].length):(ce=A.left.position,Ce=A.right.position-A.left.position-h[A.right.id].length),A.value=new Jn({buffer:this._buffer.slice(ce,ce+Ce)});break}A.left=A.right,j-=h[A.right.id].length}if(We){const B=A.right;A.right=A.left,A.left=B}return A}findAllNotIn(h,b,k){let{start:K,length:ce}=this.prepareFindParameters(b,k);const Ce=[];let We={left:{id:-1,position:K},right:{id:-1,position:K},value:new Jn};do{const A=We.right.position;We=this.findFirstNotIn(h,We.right.position,ce),ce-=We.right.position-A,Ce.push({left:{id:We.left.id,position:We.left.position},right:{id:We.right.id,position:We.right.position},value:We.value})}while(-1!=We.right.id);return Ce}findFirstSequence(h,b,k,K){let{start:ce,length:Ce,backward:We}=this.prepareFindParameters(b,k,K);const A=this.skipNotPatterns(h,ce,Ce,We);if(-1==A)return{position:-1,value:new Jn};const j=this.skipPatterns(h,A,Ce-(We?ce-A:A-ce),We);return We?(ce=j,Ce=A-j):(ce=A,Ce=j-A),{position:j,value:new Jn({buffer:this._buffer.slice(ce,ce+Ce)})}}findAllSequences(h,b,k){let{start:K,length:ce}=this.prepareFindParameters(b,k);const Ce=[];let We={position:K,value:new Jn};do{const A=We.position;We=this.findFirstSequence(h,We.position,ce),-1!=We.position&&(ce-=We.position-A,Ce.push({position:We.position,value:We.value}))}while(-1!=We.position);return Ce}findPairedPatterns(h,b,k,K){const ce=[];if(h.isEqual(b))return ce;const{start:Ce,length:We}=this.prepareFindParameters(k,K);let A=0;const j=this.findAllPatternIn(h,Ce,We);if(!Array.isArray(j)||0==j.length)return ce;const B=this.findAllPatternIn(b,Ce,We);if(!Array.isArray(B)||0==B.length)return ce;for(;A<j.length&&0!=B.length;)if(j[0]!=B[0]){if(j[A]>B[0])break;for(;j[A]<B[0]&&(A++,!(A>=j.length)););ce.push({left:j[A-1],right:B[0]}),j.splice(A-1,1),B.splice(0,1),A=0}else ce.push({left:j[0],right:B[0]}),j.splice(0,1),B.splice(0,1);return ce.sort((Z,be)=>Z.left-be.left),ce}findPairedArrays(h,b,k,K){const{start:ce,length:Ce}=this.prepareFindParameters(k,K),We=[];let A=0;const j=this.findAllIn(h,ce,Ce);if(0==j.length)return We;const B=this.findAllIn(b,ce,Ce);if(0==B.length)return We;for(;A<j.length&&0!=B.length;)if(j[0].position!=B[0].position){if(j[A].position>B[0].position)break;for(;j[A].position<B[0].position&&(A++,!(A>=j.length)););We.push({left:j[A-1],right:B[0]}),j.splice(A-1,1),B.splice(0,1),A=0}else We.push({left:j[0],right:B[0]}),j.splice(0,1),B.splice(0,1);return We.sort((Z,be)=>Z.left.position-be.left.position),We}replacePattern(h,b,k,K,ce=null){let We,Ce=[];const A={status:-1,searchPatternPositions:[],replacePatternPositions:[]},{start:j,length:B}=this.prepareFindParameters(k,K);if(null==ce){if(Ce=this.findAllIn([h],j,B),0==Ce.length)return A}else Ce=ce;A.searchPatternPositions.push(...Array.from(Ce,gt=>gt.position));const Z=h.length-b.length,be=new ArrayBuffer(this.view.length-Ce.length*Z),He=new Uint8Array(be);for(He.set(new Uint8Array(this.buffer,0,j)),We=0;We<Ce.length;We++){const gt=0==We?j:Ce[We-1].position;He.set(new Uint8Array(this.buffer,gt,Ce[We].position-h.length-gt),gt-We*Z),He.set(b.view,Ce[We].position-h.length-We*Z),A.replacePatternPositions.push(Ce[We].position-h.length-We*Z)}return We--,He.set(new Uint8Array(this.buffer,Ce[We].position,this.length-Ce[We].position),Ce[We].position-h.length+b.length-We*Z),this.buffer=be,this.view=new Uint8Array(this.buffer),A.status=1,A}skipPatterns(h,b,k,K){const{start:ce,length:Ce,backward:We}=this.prepareFindParameters(b,k,K);let A=ce;for(let j=0;j<h.length;j++){const B=h[j].length,Z=We?A-B:A;let be=!0;for(let He=0;He<B;He++)if(this.view[He+Z]!=h[j].view[He]){be=!1;break}if(be)if(j=-1,We){if(A-=B,A<=0)return A}else if(A+=B,A>=ce+Ce)return A}return A}skipNotPatterns(h,b,k,K){const{start:ce,length:Ce,backward:We}=this.prepareFindParameters(b,k,K);let A=-1;for(let j=0;j<Ce;j++){for(let B=0;B<h.length;B++){const Z=h[B].length,be=We?ce-j-Z:ce+j;let He=!0;for(let gt=0;gt<Z;gt++)if(this.view[gt+be]!=h[B].view[gt]){He=!1;break}if(He){A=We?ce-j:ce+j;break}}if(-1!=A)break}return A}prepareFindParameters(h=null,b=null,k=!1){return null===h&&(h=k?this.length:0),h>this.length&&(h=this.length),k?(null===b&&(b=h),b>h&&(b=h)):(null===b&&(b=this.length-h),b>this.length-h&&(b=this.length-h)),{start:h,length:b,backward:k}}}let xe=(()=>{class $e{constructor(b={}){this._stream=new Jn,this._length=0,this._start=0,this.backward=!1,this.appendBlock=0,this.prevLength=0,this.prevStart=0,this.stream="view"in b?new Jn({view:b.view}):"buffer"in b?new Jn({buffer:b.buffer}):"string"in b?new Jn({string:b.string}):"hexstring"in b?new Jn({hexstring:b.hexstring}):"stream"in b?b.stream.slice():new Jn,"backward"in b&&b.backward&&(this.backward=b.backward,this._start=this.stream.length),"length"in b&&b.length>0&&(this._length=b.length),"start"in b&&b.start&&b.start>0&&(this._start=b.start),"appendBlock"in b&&b.appendBlock&&b.appendBlock>0&&(this.appendBlock=b.appendBlock)}set stream(b){this._stream=b,this.prevLength=this._length,this._length=b.length,this.prevStart=this._start,this._start=0}get stream(){return this._stream}set length(b){this.prevLength=this._length,this._length=b}get length(){return this.appendBlock?this.start:this._length}set start(b){b>this.stream.length||(this.prevStart=this._start,this.prevLength=this._length,this._length-=this.backward?this._start-b:b-this._start,this._start=b)}get start(){return this._start}get buffer(){return this._stream.buffer.slice(0,this._length)}resetPosition(){this._start=this.prevStart,this._length=this.prevLength}findPattern(b,k=null){(null==k||k>this.length)&&(k=this.length);const K=this.stream.findPattern(b,this.start,this.length,this.backward);if(-1==K)return K;if(this.backward){if(K<this.start-b.length-k)return-1}else if(K>this.start+b.length+k)return-1;return this.start=K,K}findFirstIn(b,k=null){(null==k||k>this.length)&&(k=this.length);const K=this.stream.findFirstIn(b,this.start,this.length,this.backward);if(-1==K.id)return K;if(this.backward){if(K.position<this.start-b[K.id].length-k)return{id:-1,position:this.backward?0:this.start+this.length}}else if(K.position>this.start+b[K.id].length+k)return{id:-1,position:this.backward?0:this.start+this.length};return this.start=K.position,K}findAllIn(b){return this.stream.findAllIn(b,this.backward?this.start-this.length:this.start,this.length)}findFirstNotIn(b,k=null){(null==k||k>this._length)&&(k=this._length);const K=this._stream.findFirstNotIn(b,this._start,this._length,this.backward);if(-1==K.left.id&&-1==K.right.id)return K;if(this.backward){if(-1!=K.right.id&&K.right.position<this._start-b[K.right.id].length-k)return{left:{id:-1,position:this._start},right:{id:-1,position:0},value:new Jn}}else if(-1!=K.left.id&&K.left.position>this._start+b[K.left.id].length+k)return{left:{id:-1,position:this._start},right:{id:-1,position:0},value:new Jn};return this.start=this.backward?-1==K.left.id?0:K.left.position:-1==K.right.id?this._start+this._length:K.right.position,K}findAllNotIn(b){return this._stream.findAllNotIn(b,this.backward?this._start-this._length:this._start,this._length)}findFirstSequence(b,k=null,K=null){(null==k||k>this._length)&&(k=this._length),(null==K||K>k)&&(K=k);const ce=this._stream.findFirstSequence(b,this._start,k,this.backward);if(0==ce.value.length)return ce;if(this.backward){if(ce.position<this._start-ce.value.length-K)return{position:-1,value:new Jn}}else if(ce.position>this._start+ce.value.length+K)return{position:-1,value:new Jn};return this.start=ce.position,ce}findAllSequences(b){return this.stream.findAllSequences(b,this.backward?this.start-this.length:this.start,this.length)}findPairedPatterns(b,k,K=null){(null==K||K>this.length)&&(K=this.length);const Ce=this.stream.findPairedPatterns(b,k,this.backward?this.start-this.length:this.start,this.length);if(Ce.length)if(this.backward){if(Ce[0].right<this.start-k.length-K)return[]}else if(Ce[0].left>this.start+b.length+K)return[];return Ce}findPairedArrays(b,k,K=null){(null==K||K>this.length)&&(K=this.length);const Ce=this.stream.findPairedArrays(b,k,this.backward?this.start-this.length:this.start,this.length);if(Ce.length)if(this.backward){if(Ce[0].right.position<this.start-k[Ce[0].right.id].length-K)return[]}else if(Ce[0].left.position>this.start+b[Ce[0].left.id].length+K)return[];return Ce}replacePattern(b,k){return this.stream.replacePattern(b,k,this.backward?this.start-this.length:this.start,this.length)}skipPatterns(b){const k=this.stream.skipPatterns(b,this.start,this.length,this.backward);return this.start=k,k}skipNotPatterns(b){const k=this.stream.skipNotPatterns(b,this.start,this.length,this.backward);return-1==k?-1:(this.start=k,k)}append(b){this.beforeAppend(b.length),this._stream.view.set(b.view,this._start),this._length+=2*b.length,this.start=this._start+b.length,this.prevLength-=2*b.length}appendView(b){this.beforeAppend(b.length),this._stream.view.set(b,this._start),this._length+=2*b.length,this.start=this._start+b.length,this.prevLength-=2*b.length}appendChar(b){this.beforeAppend(1),this._stream.view[this._start]=b,this._length+=2,this.start=this._start+1,this.prevLength-=2}appendUint16(b){this.beforeAppend(2);const k=new Uint16Array([b]),K=new Uint8Array(k.buffer);this.stream.view[this._start]=K[1],this._stream.view[this._start+1]=K[0],this._length+=4,this.start=this._start+2,this.prevLength-=4}appendUint24(b){this.beforeAppend(3);const k=new Uint32Array([b]),K=new Uint8Array(k.buffer);this._stream.view[this._start]=K[2],this._stream.view[this._start+1]=K[1],this._stream.view[this._start+2]=K[0],this._length+=6,this.start=this._start+3,this.prevLength-=6}appendUint32(b){this.beforeAppend(4);const k=new Uint32Array([b]),K=new Uint8Array(k.buffer);this._stream.view[this._start]=K[3],this._stream.view[this._start+1]=K[2],this._stream.view[this._start+2]=K[1],this._stream.view[this._start+3]=K[0],this._length+=8,this.start=this._start+4,this.prevLength-=8}appendInt16(b){this.beforeAppend(2);const k=new Int16Array([b]),K=new Uint8Array(k.buffer);this._stream.view[this._start]=K[1],this._stream.view[this._start+1]=K[0],this._length+=4,this.start=this._start+2,this.prevLength-=4}appendInt32(b){this.beforeAppend(4);const k=new Int32Array([b]),K=new Uint8Array(k.buffer);this._stream.view[this._start]=K[3],this._stream.view[this._start+1]=K[2],this._stream.view[this._start+2]=K[1],this._stream.view[this._start+3]=K[0],this._length+=8,this.start=this._start+4,this.prevLength-=8}getBlock(b,k=!0){if(this._length<=0)return new Uint8Array(0);let K;if(this._length<b&&(b=this._length),this.backward){const ce=this._stream.view.subarray(this._length-b,this._length);K=new Uint8Array(b);for(let Ce=0;Ce<b;Ce++)K[b-1-Ce]=ce[Ce]}else K=this._stream.view.subarray(this._start,this._start+b);return k&&(this.start+=this.backward?-1*b:b),K}getUint16(b=!0){const k=this.getBlock(2,b);if(k.length<2)return 0;const K=new Uint16Array(1),ce=new Uint8Array(K.buffer);return ce[0]=k[1],ce[1]=k[0],K[0]}getInt16(b=!0){const k=this.getBlock(2,b);if(k.length<2)return 0;const K=new Int16Array(1),ce=new Uint8Array(K.buffer);return ce[0]=k[1],ce[1]=k[0],K[0]}getUint24(b=!0){const k=this.getBlock(3,b);if(k.length<3)return 0;const K=new Uint32Array(1),ce=new Uint8Array(K.buffer);for(let Ce=3;Ce>=1;Ce--)ce[3-Ce]=k[Ce-1];return K[0]}getUint32(b=!0){const k=this.getBlock(4,b);if(k.length<4)return 0;const K=new Uint32Array(1),ce=new Uint8Array(K.buffer);for(let Ce=3;Ce>=0;Ce--)ce[3-Ce]=k[Ce];return K[0]}getInt32(b=!0){const k=this.getBlock(4,b);if(k.length<4)return 0;const K=new Int32Array(1),ce=new Uint8Array(K.buffer);for(let Ce=3;Ce>=0;Ce--)ce[3-Ce]=k[Ce];return K[0]}beforeAppend(b){this._start+b>this._stream.length&&(b>this.appendBlock&&(this.appendBlock=b+$e.APPEND_BLOCK),this._stream.realloc(this._stream.length+this.appendBlock))}}return $e.APPEND_BLOCK=1e3,$e})();class Xe{constructor(h={}){this.version=S(h,"version",Xe.defaultValues("version")),this.logID=S(h,"logID",Xe.defaultValues("logID")),this.timestamp=S(h,"timestamp",Xe.defaultValues("timestamp")),this.extensions=S(h,"extensions",Xe.defaultValues("extensions")),this.hashAlgorithm=S(h,"hashAlgorithm",Xe.defaultValues("hashAlgorithm")),this.signatureAlgorithm=S(h,"signatureAlgorithm",Xe.defaultValues("signatureAlgorithm")),this.signature=S(h,"signature",Xe.defaultValues("signature")),"schema"in h&&this.fromSchema(h.schema),"stream"in h&&this.fromStream(h.stream)}static defaultValues(h){switch(h){case"version":return 0;case"logID":case"extensions":return new ArrayBuffer(0);case"timestamp":return new Date(0);case"hashAlgorithm":case"signatureAlgorithm":return"";case"signature":return new gr;default:throw new Error(`Invalid member name for SignedCertificateTimestamp class: ${h}`)}}fromSchema(h){if(!(h instanceof Hs))throw new Error("Object's schema was not verified against input data for SignedCertificateTimestamp");const b=new xe({stream:new Jn({buffer:h.data})});this.fromStream(b)}fromStream(h){const b=h.getUint16();if(this.version=h.getBlock(1)[0],0===this.version){this.logID=new Uint8Array(h.getBlock(32)).buffer.slice(0),this.timestamp=new Date(d(new Uint8Array(h.getBlock(8)),8));const k=h.getUint16();switch(this.extensions=new Uint8Array(h.getBlock(k)).buffer.slice(0),h.getBlock(1)[0]){case 0:this.hashAlgorithm="none";break;case 1:this.hashAlgorithm="md5";break;case 2:this.hashAlgorithm="sha1";break;case 3:this.hashAlgorithm="sha224";break;case 4:this.hashAlgorithm="sha256";break;case 5:this.hashAlgorithm="sha384";break;case 6:this.hashAlgorithm="sha512";break;default:throw new Error("Object's stream was not correct for SignedCertificateTimestamp")}switch(h.getBlock(1)[0]){case 0:this.signatureAlgorithm="anonymous";break;case 1:this.signatureAlgorithm="rsa";break;case 2:this.signatureAlgorithm="dsa";break;case 3:this.signatureAlgorithm="ecdsa";break;default:throw new Error("Object's stream was not correct for SignedCertificateTimestamp")}const K=h.getUint16(),Ce=it(new Uint8Array(h.getBlock(K)).buffer.slice(0));if(-1===Ce.offset)throw new Error("Object's stream was not correct for SignedCertificateTimestamp");if(this.signature=Ce.result,b!==47+k+K)throw new Error("Object's stream was not correct for SignedCertificateTimestamp")}}toSchema(){const h=this.toStream();return new Hs({data:h.stream.buffer})}toStream(){const h=new xe;h.appendUint16(47+this.extensions.byteLength+this.signature.valueBeforeDecode.byteLength),h.appendChar(this.version),h.appendView(new Uint8Array(this.logID));const b=new ArrayBuffer(8),k=new Uint8Array(b),K=E(this.timestamp.valueOf(),8);let ce,Ce;switch(k.set(new Uint8Array(K),8-K.byteLength),h.appendView(k),h.appendUint16(this.extensions.byteLength),this.extensions.byteLength&&h.appendView(new Uint8Array(this.extensions)),this.hashAlgorithm.toLowerCase()){case"none":ce=0;break;case"md5":ce=1;break;case"sha1":ce=2;break;case"sha224":ce=3;break;case"sha256":ce=4;break;case"sha384":ce=5;break;case"sha512":ce=6;break;default:throw new Error(`Incorrect data for hashAlgorithm: ${this.hashAlgorithm}`)}switch(h.appendChar(ce),this.signatureAlgorithm.toLowerCase()){case"anonymous":Ce=0;break;case"rsa":Ce=1;break;case"dsa":Ce=2;break;case"ecdsa":Ce=3;break;default:throw new Error(`Incorrect data for signatureAlgorithm: ${this.signatureAlgorithm}`)}h.appendChar(Ce);const We=this.signature.toBER(!1);return h.appendUint16(We.byteLength),h.appendView(new Uint8Array(We)),h}toJSON(){return{version:this.version,logID:v(this.logID),timestamp:this.timestamp,extensions:v(this.extensions),hashAlgorithm:this.hashAlgorithm,signatureAlgorithm:this.signatureAlgorithm,signature:this.signature.toJSON()}}verify(h,b,k=0){var K=this;return(0,n.A)(function*(){let We,ce=M(U(K.logID)),Ce=null,A=new xe;for(const He of h)if(He.log_id===ce){Ce=He.key;break}if(null===Ce)throw new Error(`Public key not found for CT with logId: ${ce}`);const j=it(G(V(Ce)));if(-1===j.offset)throw new Error(`Incorrect key value for CT Log with logId: ${ce}`);We=new Er({schema:j.result}),A.appendChar(0),A.appendChar(0);const B=new ArrayBuffer(8),Z=new Uint8Array(B),be=E(K.timestamp.valueOf(),8);return Z.set(new Uint8Array(be),8-be.byteLength),A.appendView(Z),A.appendUint16(k),0===k&&A.appendUint24(b.byteLength),A.appendView(new Uint8Array(b)),A.appendUint16(K.extensions.byteLength),0!==K.extensions.byteLength&&A.appendView(new Uint8Array(K.extensions)),ss().subtle.verifyWithPublicKey(A._stream._buffer.slice(0,A._length),{valueBlock:{valueHex:K.signature.toBER(!1)}},We,{algorithmId:""},"SHA-256")})()}}class wt{constructor(h={}){this.timestamps=S(h,"timestamps",wt.defaultValues("timestamps")),"schema"in h&&this.fromSchema(h.schema)}static defaultValues(h){if("timestamps"===h)return[];throw new Error(`Invalid member name for SignedCertificateTimestampList class: ${h}`)}static compareWithDefault(h,b){if("timestamps"===h)return 0===b.length;throw new Error(`Invalid member name for SignedCertificateTimestampList class: ${h}`)}static schema(h={}){const b=S(h,"names",{});return"optional"in b||(b.optional=!1),new It({name:b.blockName||"SignedCertificateTimestampList",optional:b.optional})}fromSchema(h){if(!(h instanceof It))throw new Error("Object's schema was not verified against input data for SignedCertificateTimestampList");const b=new xe({stream:new Jn({buffer:h.valueBlock.valueHex})});if(b.getUint16()!==b.length)throw new Error("Object's schema was not verified against input data for SignedCertificateTimestampList");for(;b.length;)this.timestamps.push(new Xe({stream:b}))}toSchema(){const h=new xe;let b=0;const k=[];for(const K of this.timestamps){const ce=K.toStream();k.push(ce),b+=ce.stream.buffer.byteLength}h.appendUint16(b);for(const K of k)h.appendView(K.stream.view);return new It({valueHex:h.stream.buffer.slice(0)})}toJSON(){return{timestamps:Array.from(this.timestamps,h=>h.toJSON())}}}class bt{constructor(h={}){this.templateID=S(h,"templateID",bt.defaultValues("templateID")),"templateMajorVersion"in h&&(this.templateMajorVersion=S(h,"templateMajorVersion",bt.defaultValues("templateMajorVersion"))),"templateMinorVersion"in h&&(this.templateMinorVersion=S(h,"templateMinorVersion",bt.defaultValues("templateMinorVersion"))),"schema"in h&&this.fromSchema(h.schema)}static defaultValues(h){switch(h){case"templateID":return"";case"templateMajorVersion":case"templateMinorVersion":return 0;default:throw new Error(`Invalid member name for CertificateTemplate class: ${h}`)}}static schema(h={}){const b=S(h,"names",{});return new mn({name:b.blockName||"",value:[new $t({name:b.templateID||""}),new dn({name:b.templateMajorVersion||"",optional:!0}),new dn({name:b.templateMinorVersion||"",optional:!0})]})}fromSchema(h){L(h,["templateID","templateMajorVersion","templateMinorVersion"]);let b=ai(h,h,bt.schema({names:{templateID:"templateID",templateMajorVersion:"templateMajorVersion",templateMinorVersion:"templateMinorVersion"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for CertificateTemplate");this.templateID=b.result.templateID.valueBlock.toString(),"templateMajorVersion"in b.result&&(this.templateMajorVersion=b.result.templateMajorVersion.valueBlock.valueDec),"templateMinorVersion"in b.result&&(this.templateMinorVersion=b.result.templateMinorVersion.valueBlock.valueDec)}toSchema(){const h=[];return h.push(new $t({value:this.templateID})),"templateMajorVersion"in this&&h.push(new dn({value:this.templateMajorVersion})),"templateMinorVersion"in this&&h.push(new dn({value:this.templateMinorVersion})),new mn({value:h})}toJSON(){const h={extnID:this.templateID};return"templateMajorVersion"in this&&(h.templateMajorVersion=this.templateMajorVersion),"templateMinorVersion"in this&&(h.templateMinorVersion=this.templateMinorVersion),h}}class fn{constructor(h={}){this.certificateIndex=S(h,"certificateIndex",fn.defaultValues("certificateIndex")),this.keyIndex=S(h,"keyIndex",fn.defaultValues("keyIndex")),"schema"in h&&this.fromSchema(h.schema)}static defaultValues(h){switch(h){case"certificateIndex":case"keyIndex":return 0;default:throw new Error(`Invalid member name for CAVersion class: ${h}`)}}static schema(h={}){return new dn}fromSchema(h){if(h.constructor.blockName()!==dn.blockName())throw new Error("Object's schema was not verified against input data for CAVersion");let b=h.valueBlock.valueHex.slice(0);const k=new Uint8Array(b);switch(!0){case b.byteLength<4:{const Z=new ArrayBuffer(4);new Uint8Array(Z).set(k,4-b.byteLength),b=Z.slice(0)}break;case b.byteLength>4:{const Z=new ArrayBuffer(4);new Uint8Array(Z).set(k.slice(0,4)),b=Z.slice(0)}}const K=b.slice(0,2),ce=new Uint8Array(K);let Ce=ce[0];ce[0]=ce[1],ce[1]=Ce;const We=new Uint16Array(K);this.keyIndex=We[0];const A=b.slice(2),j=new Uint8Array(A);Ce=j[0],j[0]=j[1],j[1]=Ce;const B=new Uint16Array(A);this.certificateIndex=B[0]}toSchema(){const h=new ArrayBuffer(2);new Uint16Array(h)[0]=this.certificateIndex;const k=new Uint8Array(h);let K=k[0];k[0]=k[1],k[1]=K;const ce=new ArrayBuffer(2);new Uint16Array(ce)[0]=this.keyIndex;const We=new Uint8Array(ce);return K=We[0],We[0]=We[1],We[1]=K,new dn({valueHex:m(ce,h)})}toJSON(){return{certificateIndex:this.certificateIndex,keyIndex:this.keyIndex}}}class Jt{constructor(h={}){this.id=S(h,"id",Jt.defaultValues("id")),"type"in h&&(this.type=S(h,"type",Jt.defaultValues("type"))),"schema"in h&&this.fromSchema(h.schema)}static defaultValues(h){switch(h){case"id":return"";case"type":return new Pt;default:throw new Error(`Invalid member name for QCStatement class: ${h}`)}}static compareWithDefault(h,b){switch(h){case"id":return""===b;case"type":return b instanceof Pt;default:throw new Error(`Invalid member name for QCStatement class: ${h}`)}}static schema(h={}){const b=S(h,"names",{});return new mn({name:b.blockName||"",value:[new $t({name:b.id||""}),new gr({name:b.type||"",optional:!0})]})}fromSchema(h){L(h,["id","type"]);const b=ai(h,h,Jt.schema({names:{id:"id",type:"type"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for QCStatement");this.id=b.result.id.valueBlock.toString(),"type"in b.result&&(this.type=b.result.type)}toSchema(){const h=[new $t({value:this.id})];return"type"in this&&h.push(this.type),new mn({value:h})}toJSON(){const h={id:this.id};return"type"in this&&(h.type=this.type.toJSON()),h}}class Qn{constructor(h={}){this.values=S(h,"values",Qn.defaultValues("values")),"schema"in h&&this.fromSchema(h.schema)}static defaultValues(h){if("values"===h)return[];throw new Error(`Invalid member name for QCStatements class: ${h}`)}static compareWithDefault(h,b){if("values"===h)return 0===b.length;throw new Error(`Invalid member name for QCStatements class: ${h}`)}static schema(h={}){const b=S(h,"names",{});return new mn({name:b.blockName||"",value:[new Ni({name:b.values||"",value:Jt.schema(b.value||{})})]})}fromSchema(h){L(h,["values"]);const b=ai(h,h,Qn.schema({names:{values:"values"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for QCStatements");this.values=Array.from(b.result.values,k=>new Jt({schema:k}))}toSchema(){return new mn({value:Array.from(this.values,h=>h.toSchema())})}toJSON(){return{extensions:Array.from(this.values,h=>h.toJSON())}}}class Nn{constructor(h={}){this.extnID=S(h,"extnID",Nn.defaultValues("extnID")),this.critical=S(h,"critical",Nn.defaultValues("critical")),this.extnValue="extnValue"in h?new It({valueHex:h.extnValue}):Nn.defaultValues("extnValue"),"parsedValue"in h&&(this.parsedValue=S(h,"parsedValue",Nn.defaultValues("parsedValue"))),"schema"in h&&this.fromSchema(h.schema)}static defaultValues(h){switch(h){case"extnID":return"";case"critical":return!1;case"extnValue":return new It;case"parsedValue":return{};default:throw new Error(`Invalid member name for Extension class: ${h}`)}}static schema(h={}){const b=S(h,"names",{});return new mn({name:b.blockName||"",value:[new $t({name:b.extnID||""}),new Mn({name:b.critical||"",optional:!0}),new It({name:b.extnValue||""})]})}fromSchema(h){L(h,["extnID","critical","extnValue"]);let b=ai(h,h,Nn.schema({names:{extnID:"extnID",critical:"critical",extnValue:"extnValue"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for Extension");if(this.extnID=b.result.extnID.valueBlock.toString(),"critical"in b.result&&(this.critical=b.result.critical.valueBlock.value),this.extnValue=b.result.extnValue,b=it(this.extnValue.valueBlock.valueHex),-1!==b.offset)switch(this.extnID){case"2.5.29.9":try{this.parsedValue=new Fr({schema:b.result})}catch{this.parsedValue=new Fr,this.parsedValue.parsingError="Incorrectly formated SubjectDirectoryAttributes"}break;case"2.5.29.14":case"2.5.29.15":case"2.5.29.20":case"2.5.29.27":case"2.5.29.21":case"2.5.29.24":case"2.5.29.54":case"1.3.6.1.4.1.311.20.2":case"1.3.6.1.4.1.311.21.2":this.parsedValue=b.result;break;case"2.5.29.16":try{this.parsedValue=new as({schema:b.result})}catch{this.parsedValue=new as,this.parsedValue.parsingError="Incorrectly formated PrivateKeyUsagePeriod"}break;case"2.5.29.17":case"2.5.29.18":try{this.parsedValue=new Hr({schema:b.result})}catch{this.parsedValue=new Hr,this.parsedValue.parsingError="Incorrectly formated AltName"}break;case"2.5.29.19":try{this.parsedValue=new Ls({schema:b.result})}catch{this.parsedValue=new Ls,this.parsedValue.parsingError="Incorrectly formated BasicConstraints"}break;case"2.5.29.28":try{this.parsedValue=new mr({schema:b.result})}catch{this.parsedValue=new mr,this.parsedValue.parsingError="Incorrectly formated IssuingDistributionPoint"}break;case"2.5.29.29":try{this.parsedValue=new Us({schema:b.result})}catch{this.parsedValue=new Us,this.parsedValue.parsingError="Incorrectly formated GeneralNames"}break;case"2.5.29.30":try{this.parsedValue=new Ur({schema:b.result})}catch{this.parsedValue=new Ur,this.parsedValue.parsingError="Incorrectly formated NameConstraints"}break;case"2.5.29.31":case"2.5.29.46":try{this.parsedValue=new gn({schema:b.result})}catch{this.parsedValue=new gn,this.parsedValue.parsingError="Incorrectly formated CRLDistributionPoints"}break;case"2.5.29.32":case"1.3.6.1.4.1.311.21.10":try{this.parsedValue=new Ge({schema:b.result})}catch{this.parsedValue=new Ge,this.parsedValue.parsingError="Incorrectly formated CertificatePolicies"}break;case"2.5.29.33":try{this.parsedValue=new et({schema:b.result})}catch{this.parsedValue=new et,this.parsedValue.parsingError="Incorrectly formated CertificatePolicies"}break;case"2.5.29.35":try{this.parsedValue=new Bt({schema:b.result})}catch{this.parsedValue=new Bt,this.parsedValue.parsingError="Incorrectly formated AuthorityKeyIdentifier"}break;case"2.5.29.36":try{this.parsedValue=new Kn({schema:b.result})}catch{this.parsedValue=new Kn,this.parsedValue.parsingError="Incorrectly formated PolicyConstraints"}break;case"2.5.29.37":try{this.parsedValue=new Ei({schema:b.result})}catch{this.parsedValue=new Ei,this.parsedValue.parsingError="Incorrectly formated ExtKeyUsage"}break;case"1.3.6.1.5.5.7.1.1":case"1.3.6.1.5.5.7.1.11":try{this.parsedValue=new ys({schema:b.result})}catch{this.parsedValue=new ys,this.parsedValue.parsingError="Incorrectly formated InfoAccess"}break;case"1.3.6.1.4.1.11129.2.4.2":try{this.parsedValue=new wt({schema:b.result})}catch{this.parsedValue=new wt,this.parsedValue.parsingError="Incorrectly formated SignedCertificateTimestampList"}break;case"1.3.6.1.4.1.311.21.7":try{this.parsedValue=new bt({schema:b.result})}catch{this.parsedValue=new bt,this.parsedValue.parsingError="Incorrectly formated CertificateTemplate"}break;case"1.3.6.1.4.1.311.21.1":try{this.parsedValue=new fn({schema:b.result})}catch{this.parsedValue=new fn,this.parsedValue.parsingError="Incorrectly formated CAVersion"}break;case"1.3.6.1.5.5.7.1.3":try{this.parsedValue=new Qn({schema:b.result})}catch{this.parsedValue=new Qn,this.parsedValue.parsingError="Incorrectly formated QCStatements"}}}toSchema(){const h=[];return h.push(new $t({value:this.extnID})),this.critical!==Nn.defaultValues("critical")&&h.push(new Mn({value:this.critical})),h.push(this.extnValue),new mn({value:h})}toJSON(){const h={extnID:this.extnID,extnValue:this.extnValue.toJSON()};return this.critical!==Nn.defaultValues("critical")&&(h.critical=this.critical),"parsedValue"in this&&"toJSON"in this.parsedValue&&(h.parsedValue=this.parsedValue.toJSON()),h}}class Vn{constructor(h={}){this.extensions=S(h,"extensions",Vn.defaultValues("extensions")),"schema"in h&&this.fromSchema(h.schema)}static defaultValues(h){if("extensions"===h)return[];throw new Error(`Invalid member name for Extensions class: ${h}`)}static schema(h={},b=!1){const k=S(h,"names",{});return new mn({optional:b,name:k.blockName||"",value:[new Ni({name:k.extensions||"",value:Nn.schema(k.extension||{})})]})}fromSchema(h){L(h,["extensions"]);const b=ai(h,h,Vn.schema({names:{extensions:"extensions"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for Extensions");this.extensions=Array.from(b.result.extensions,k=>new Nn({schema:k}))}toSchema(){return new mn({value:Array.from(this.extensions,h=>h.toSchema())})}toJSON(){return{extensions:Array.from(this.extensions,h=>h.toJSON())}}}function Br($e={}){const h=S($e,"names",{});return new mn({name:h.blockName||"tbsCertificate",value:[new $({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new dn({name:h.tbsCertificateVersion||"tbsCertificate.version"})]}),new dn({name:h.tbsCertificateSerialNumber||"tbsCertificate.serialNumber"}),$n.schema(h.signature||{names:{blockName:"tbsCertificate.signature"}}),Or.schema(h.issuer||{names:{blockName:"tbsCertificate.issuer"}}),new mn({name:h.tbsCertificateValidity||"tbsCertificate.validity",value:[or.schema(h.notBefore||{names:{utcTimeName:"tbsCertificate.notBefore",generalTimeName:"tbsCertificate.notBefore"}}),or.schema(h.notAfter||{names:{utcTimeName:"tbsCertificate.notAfter",generalTimeName:"tbsCertificate.notAfter"}})]}),Or.schema(h.subject||{names:{blockName:"tbsCertificate.subject"}}),Er.schema(h.subjectPublicKeyInfo||{names:{blockName:"tbsCertificate.subjectPublicKeyInfo"}}),new nt({name:h.tbsCertificateIssuerUniqueID||"tbsCertificate.issuerUniqueID",optional:!0,idBlock:{tagClass:3,tagNumber:1}}),new nt({name:h.tbsCertificateSubjectUniqueID||"tbsCertificate.subjectUniqueID",optional:!0,idBlock:{tagClass:3,tagNumber:2}}),new $({optional:!0,idBlock:{tagClass:3,tagNumber:3},value:[Vn.schema(h.extensions||{names:{blockName:"tbsCertificate.extensions"}})]})]})}class Ti{constructor(h={}){this.tbs=S(h,"tbs",Ti.defaultValues("tbs")),this.version=S(h,"version",Ti.defaultValues("version")),this.serialNumber=S(h,"serialNumber",Ti.defaultValues("serialNumber")),this.signature=S(h,"signature",Ti.defaultValues("signature")),this.issuer=S(h,"issuer",Ti.defaultValues("issuer")),this.notBefore=S(h,"notBefore",Ti.defaultValues("notBefore")),this.notAfter=S(h,"notAfter",Ti.defaultValues("notAfter")),this.subject=S(h,"subject",Ti.defaultValues("subject")),this.subjectPublicKeyInfo=S(h,"subjectPublicKeyInfo",Ti.defaultValues("subjectPublicKeyInfo")),"issuerUniqueID"in h&&(this.issuerUniqueID=S(h,"issuerUniqueID",Ti.defaultValues("issuerUniqueID"))),"subjectUniqueID"in h&&(this.subjectUniqueID=S(h,"subjectUniqueID",Ti.defaultValues("subjectUniqueID"))),"extensions"in h&&(this.extensions=S(h,"extensions",Ti.defaultValues("extensions"))),this.signatureAlgorithm=S(h,"signatureAlgorithm",Ti.defaultValues("signatureAlgorithm")),this.signatureValue=S(h,"signatureValue",Ti.defaultValues("signatureValue")),"schema"in h&&this.fromSchema(h.schema)}static defaultValues(h){switch(h){case"tbs":case"issuerUniqueID":case"subjectUniqueID":return new ArrayBuffer(0);case"version":return 0;case"serialNumber":return new dn;case"signature":case"signatureAlgorithm":return new $n;case"issuer":case"subject":return new Or;case"notBefore":case"notAfter":return new or;case"subjectPublicKeyInfo":return new Er;case"extensions":return[];case"signatureValue":return new lt;default:throw new Error(`Invalid member name for Certificate class: ${h}`)}}static schema(h={}){const b=S(h,"names",{});return new mn({name:b.blockName||"",value:[Br(b.tbsCertificate),$n.schema(b.signatureAlgorithm||{names:{blockName:"signatureAlgorithm"}}),new lt({name:b.signatureValue||"signatureValue"})]})}fromSchema(h){L(h,["tbsCertificate","tbsCertificate.extensions","tbsCertificate.version","tbsCertificate.serialNumber","tbsCertificate.signature","tbsCertificate.issuer","tbsCertificate.notBefore","tbsCertificate.notAfter","tbsCertificate.subject","tbsCertificate.subjectPublicKeyInfo","tbsCertificate.issuerUniqueID","tbsCertificate.subjectUniqueID","signatureAlgorithm","signatureValue"]);const b=ai(h,h,Ti.schema({names:{tbsCertificate:{names:{extensions:{names:{extensions:"tbsCertificate.extensions"}}}}}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for Certificate");this.tbs=b.result.tbsCertificate.valueBeforeDecode,"tbsCertificate.version"in b.result&&(this.version=b.result["tbsCertificate.version"].valueBlock.valueDec),this.serialNumber=b.result["tbsCertificate.serialNumber"],this.signature=new $n({schema:b.result["tbsCertificate.signature"]}),this.issuer=new Or({schema:b.result["tbsCertificate.issuer"]}),this.notBefore=new or({schema:b.result["tbsCertificate.notBefore"]}),this.notAfter=new or({schema:b.result["tbsCertificate.notAfter"]}),this.subject=new Or({schema:b.result["tbsCertificate.subject"]}),this.subjectPublicKeyInfo=new Er({schema:b.result["tbsCertificate.subjectPublicKeyInfo"]}),"tbsCertificate.issuerUniqueID"in b.result&&(this.issuerUniqueID=b.result["tbsCertificate.issuerUniqueID"].valueBlock.valueHex),"tbsCertificate.subjectUniqueID"in b.result&&(this.subjectUniqueID=b.result["tbsCertificate.subjectUniqueID"].valueBlock.valueHex),"tbsCertificate.extensions"in b.result&&(this.extensions=Array.from(b.result["tbsCertificate.extensions"],k=>new Nn({schema:k}))),this.signatureAlgorithm=new $n({schema:b.result.signatureAlgorithm}),this.signatureValue=b.result.signatureValue}encodeTBS(){const h=[];return"version"in this&&this.version!==Ti.defaultValues("version")&&h.push(new $({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new dn({value:this.version})]})),h.push(this.serialNumber),h.push(this.signature.toSchema()),h.push(this.issuer.toSchema()),h.push(new mn({value:[this.notBefore.toSchema(),this.notAfter.toSchema()]})),h.push(this.subject.toSchema()),h.push(this.subjectPublicKeyInfo.toSchema()),"issuerUniqueID"in this&&h.push(new nt({optional:!0,idBlock:{tagClass:3,tagNumber:1},valueHex:this.issuerUniqueID})),"subjectUniqueID"in this&&h.push(new nt({optional:!0,idBlock:{tagClass:3,tagNumber:2},valueHex:this.subjectUniqueID})),"extensions"in this&&h.push(new $({optional:!0,idBlock:{tagClass:3,tagNumber:3},value:[new mn({value:Array.from(this.extensions,b=>b.toSchema())})]})),new mn({value:h})}toSchema(h=!1){let b={};if(!1===h){if(0===this.tbs.length)return Ti.schema().value[0];b=it(this.tbs).result}else b=this.encodeTBS();return new mn({value:[b,this.signatureAlgorithm.toSchema(),this.signatureValue]})}toJSON(){const h={tbs:v(this.tbs,0,this.tbs.byteLength),serialNumber:this.serialNumber.toJSON(),signature:this.signature.toJSON(),issuer:this.issuer.toJSON(),notBefore:this.notBefore.toJSON(),notAfter:this.notAfter.toJSON(),subject:this.subject.toJSON(),subjectPublicKeyInfo:this.subjectPublicKeyInfo.toJSON(),signatureAlgorithm:this.signatureAlgorithm.toJSON(),signatureValue:this.signatureValue.toJSON()};return"version"in this&&this.version!==Ti.defaultValues("version")&&(h.version=this.version),"issuerUniqueID"in this&&(h.issuerUniqueID=v(this.issuerUniqueID,0,this.issuerUniqueID.byteLength)),"subjectUniqueID"in this&&(h.subjectUniqueID=v(this.subjectUniqueID,0,this.subjectUniqueID.byteLength)),"extensions"in this&&(h.extensions=Array.from(this.extensions,b=>b.toJSON())),h}getPublicKey(h=null){return ss().subtle.getPublicKey(this.subjectPublicKeyInfo,this.signatureAlgorithm,h)}getKeyHash(h="SHA-1"){const b=os();return typeof b>"u"?Promise.reject("Unable to create WebCrypto object"):b.digest({name:h},new Uint8Array(this.subjectPublicKeyInfo.subjectPublicKey.valueBlock.valueHex))}sign(h,b="SHA-1"){if(typeof h>"u")return Promise.reject("Need to provide a private key for signing");let K,k=Promise.resolve();const ce=ss();return k=k.then(()=>ce.subtle.getSignatureParameters(h,b)),k=k.then(Ce=>{K=Ce.parameters,this.signature=Ce.signatureAlgorithm,this.signatureAlgorithm=Ce.signatureAlgorithm}),k=k.then(()=>{this.tbs=this.encodeTBS().toBER(!1)}),k=k.then(()=>ce.subtle.signWithPrivateKey(this.tbs,h,K)),k=k.then(Ce=>{this.signatureValue=new lt({valueHex:Ce})}),k}verify(h=null){let b={};return null!==h?b=h.subjectPublicKeyInfo:this.issuer.isEqual(this.subject)&&(b=this.subjectPublicKeyInfo),b instanceof Er?ss().subtle.verifyWithPublicKey(this.tbs,this.signatureValue,b,this.signatureAlgorithm):Promise.reject("Please provide issuer certificate as a parameter")}}function Is(){if(typeof BigInt>"u")throw new Error("BigInt is not defined. Your environment doesn't implement BigInt.")}function da($e){if($e.idBlock.isConstructed)for(let h=0;h<$e.valueBlock.value.length;h++)da($e.valueBlock.value[h])&&($e.lenBlock.isIndefiniteForm=!0);return!!$e.lenBlock.isIndefiniteForm}function Jo($e){let h=0,b=0;for(let ce=0;ce<$e.length;ce++)h+=$e[ce].byteLength;const k=new ArrayBuffer(h),K=new Uint8Array(k);for(let ce=0;ce<$e.length;ce++){const Ce=$e[ce];K.set(new Uint8Array(Ce),b),b+=Ce.byteLength}return k}const Vr=[new Uint8Array([1])],xi="0123456789",$i="valueHex",Ro="isHexOnly",Qo="isConstructed",Ea="isIndefiniteForm",qo="optional",ol="primitiveSchema",hs="value",La="valueDate",Ta="valueDec",Ir=new ArrayBuffer(0);class uo{constructor(){this.items=[]}write(h){this.items.push(h)}final(){return Jo(this.items)}}class Rs{constructor(h={}){this.blockLength=S(h,"blockLength",0),this.error=S(h,"error",""),this.warnings=S(h,"warnings",[]),this.valueBeforeDecode="valueBeforeDecode"in h?h.valueBeforeDecode.slice(0):Ir}static blockName(){return"baseBlock"}toJSON(){return{blockName:this.constructor.blockName(),blockLength:this.blockLength,error:this.error,warnings:this.warnings,valueBeforeDecode:v(this.valueBeforeDecode,0,this.valueBeforeDecode.byteLength)}}}const Ws=$e=>class extends $e{constructor(b={}){super(b),this.isHexOnly=S(b,Ro,!1),this.valueHex=$i in b?b.valueHex.slice(0):Ir}static blockName(){return"hexBlock"}fromBER(b,k,K){return!1===f(this,b,k,K)?-1:0===new Uint8Array(b,k,K).length?(this.warnings.push("Zero buffer length"),k):(this.valueHex=b.slice(k,k+K),this.blockLength=K,k+K)}toBER(b=!1){return!0!==this.isHexOnly?(this.error='Flag "isHexOnly" is not set, abort',Ir):!0===b?new ArrayBuffer(this.valueHex.byteLength):this.valueHex.slice(0)}toJSON(){let b={};try{b=super.toJSON()}catch{}return b.blockName=this.constructor.blockName(),b.isHexOnly=this.isHexOnly,b.valueHex=v(this.valueHex,0,this.valueHex.byteLength),b}};class Uo extends(Ws(Rs)){constructor(h={}){super(),"idBlock"in h?(this.isHexOnly=S(h.idBlock,Ro,!1),this.valueHex=S(h.idBlock,$i,Ir),this.tagClass=S(h.idBlock,"tagClass",-1),this.tagNumber=S(h.idBlock,"tagNumber",-1),this.isConstructed=S(h.idBlock,Qo,!1)):(this.tagClass=-1,this.tagNumber=-1,this.isConstructed=!1)}static blockName(){return"identificationBlock"}toBER(h=!1){let k,K,b=0;switch(this.tagClass){case 1:b|=0;break;case 2:b|=64;break;case 3:b|=128;break;case 4:b|=192;break;default:return this.error="Unknown tag class",Ir}if(this.isConstructed&&(b|=32),this.tagNumber<31&&!this.isHexOnly){if(k=new ArrayBuffer(1),K=new Uint8Array(k),!h){let ce=this.tagNumber;ce&=31,b|=ce,K[0]=b}return k}if(!1===this.isHexOnly){const ce=E(this.tagNumber,7),Ce=new Uint8Array(ce),We=ce.byteLength;if(k=new ArrayBuffer(We+1),K=new Uint8Array(k),K[0]=31|b,!h){for(let A=0;A<We-1;A++)K[A+1]=128|Ce[A];K[We]=Ce[We-1]}return k}if(k=new ArrayBuffer(this.valueHex.byteLength+1),K=new Uint8Array(k),K[0]=31|b,!1===h){const ce=new Uint8Array(this.valueHex);for(let Ce=0;Ce<ce.length-1;Ce++)K[Ce+1]=128|ce[Ce];K[this.valueHex.byteLength]=ce[ce.length-1]}return k}fromBER(h,b,k){if(!1===f(this,h,b,k))return-1;const K=new Uint8Array(h,b,k);if(0===K.length)return this.error="Zero buffer length",-1;switch(192&K[0]){case 0:this.tagClass=1;break;case 64:this.tagClass=2;break;case 128:this.tagClass=3;break;case 192:this.tagClass=4;break;default:return this.error="Unknown tag class",-1}this.isConstructed=!(32&~K[0]),this.isHexOnly=!1;const Ce=31&K[0];if(31!==Ce)this.tagNumber=Ce,this.blockLength=1;else{let We=1;this.valueHex=new ArrayBuffer(255);let A=255,j=new Uint8Array(this.valueHex);for(;128&K[We];){if(j[We-1]=127&K[We],We++,We>=K.length)return this.error="End of input reached before message was fully decoded",-1;if(We===A){A+=255;const be=new ArrayBuffer(A),He=new Uint8Array(be);for(let gt=0;gt<j.length;gt++)He[gt]=j[gt];this.valueHex=new ArrayBuffer(A),j=new Uint8Array(this.valueHex)}}this.blockLength=We+1,j[We-1]=127&K[We];const B=new ArrayBuffer(We),Z=new Uint8Array(B);for(let be=0;be<We;be++)Z[be]=j[be];this.valueHex=new ArrayBuffer(We),j=new Uint8Array(this.valueHex),j.set(Z),this.blockLength<=9?this.tagNumber=d(j,7):(this.isHexOnly=!0,this.warnings.push("Tag too long, represented as hex-coded"))}if(1===this.tagClass&&this.isConstructed)switch(this.tagNumber){case 1:case 2:case 5:case 6:case 9:case 13:case 14:case 23:case 24:case 31:case 32:case 33:case 34:return this.error="Constructed encoding used for primitive type",-1}return b+this.blockLength}toJSON(){let h={};try{h=super.toJSON()}catch{}return h.blockName=this.constructor.blockName(),h.tagClass=this.tagClass,h.tagNumber=this.tagNumber,h.isConstructed=this.isConstructed,h}}class yo extends Rs{constructor(h={}){super(),"lenBlock"in h?(this.isIndefiniteForm=S(h.lenBlock,Ea,!1),this.longFormUsed=S(h.lenBlock,"longFormUsed",!1),this.length=S(h.lenBlock,"length",0)):(this.isIndefiniteForm=!1,this.longFormUsed=!1,this.length=0)}static blockName(){return"lengthBlock"}fromBER(h,b,k){if(!1===f(this,h,b,k))return-1;const K=new Uint8Array(h,b,k);if(0===K.length)return this.error="Zero buffer length",-1;if(255===K[0])return this.error="Length block 0xFF is reserved by standard",-1;if(this.isIndefiniteForm=128===K[0],!0===this.isIndefiniteForm)return this.blockLength=1,b+this.blockLength;if(this.longFormUsed=!!(128&K[0]),!1===this.longFormUsed)return this.length=K[0],this.blockLength=1,b+this.blockLength;const ce=127&K[0];if(ce>8)return this.error="Too big integer",-1;if(ce+1>K.length)return this.error="End of input reached before message was fully decoded",-1;const Ce=new Uint8Array(ce);for(let We=0;We<ce;We++)Ce[We]=K[We+1];return 0===Ce[ce-1]&&this.warnings.push("Needlessly long encoded length"),this.length=d(Ce,8),this.longFormUsed&&this.length<=127&&this.warnings.push("Unnecessary usage of long length form"),this.blockLength=ce+1,b+this.blockLength}toBER(h=!1){let b,k;if(this.length>127&&(this.longFormUsed=!0),this.isIndefiniteForm)return b=new ArrayBuffer(1),!1===h&&(k=new Uint8Array(b),k[0]=128),b;if(!0===this.longFormUsed){const K=E(this.length,8);if(K.byteLength>127)return this.error="Too big length",Ir;if(b=new ArrayBuffer(K.byteLength+1),!0===h)return b;const ce=new Uint8Array(K);k=new Uint8Array(b),k[0]=128|K.byteLength;for(let Ce=0;Ce<K.byteLength;Ce++)k[Ce+1]=ce[Ce];return b}return b=new ArrayBuffer(1),!1===h&&(k=new Uint8Array(b),k[0]=this.length),b}toJSON(){let h={};try{h=super.toJSON()}catch{}return h.blockName=this.constructor.blockName(),h.isIndefiniteForm=this.isIndefiniteForm,h.longFormUsed=this.longFormUsed,h.length=this.length,h}}class Kr extends Rs{constructor(h={}){super(h)}static blockName(){return"valueBlock"}fromBER(h,b,k){throw TypeError('User need to make a specific function in a class which extends "ValueBlock"')}toBER(h=!1){throw TypeError('User need to make a specific function in a class which extends "ValueBlock"')}}class fs extends Rs{constructor(h={},b=Kr){super(h),"name"in h&&(this.name=h.name),qo in h&&(this.optional=h.optional),ol in h&&(this.primitiveSchema=h.primitiveSchema),this.idBlock=new Uo(h),this.lenBlock=new yo(h),this.valueBlock=new b(h)}static blockName(){return"BaseBlock"}fromBER(h,b,k){const K=this.valueBlock.fromBER(h,b,!0===this.lenBlock.isIndefiniteForm?k:this.lenBlock.length);return-1===K?(this.error=this.valueBlock.error,K):(0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),K)}toBER(h=!1,b){const k=b||new uo;b||da(this);const K=this.idBlock.toBER(h);if(k.write(K),this.lenBlock.isIndefiniteForm)k.write(new Uint8Array([128]).buffer),this.valueBlock.toBER(h,k),k.write(new ArrayBuffer(2));else{const ce=this.valueBlock.toBER(!0);this.lenBlock.length=ce.byteLength;const Ce=this.lenBlock.toBER(h);k.write(Ce);const We=h?new ArrayBuffer(this.lenBlock.length):this.valueBlock.toBER(h);k.write(We,k)}if(!b)return k.final()}toJSON(){let h={};try{h=super.toJSON()}catch{}return h.idBlock=this.idBlock.toJSON(),h.lenBlock=this.lenBlock.toJSON(),h.valueBlock=this.valueBlock.toJSON(),"name"in this&&(h.name=this.name),qo in this&&(h.optional=this.optional),ol in this&&(h.primitiveSchema=this.primitiveSchema.toJSON()),h}toString(){return`${this.constructor.blockName()} : ${v(this.valueBlock.valueHex)}`}}class $a extends Kr{constructor(h={}){super(h),this.valueHex=$i in h?h.valueHex.slice(0):Ir,this.isHexOnly=S(h,Ro,!0)}fromBER(h,b,k){if(!1===f(this,h,b,k))return-1;const K=new Uint8Array(h,b,k);if(0===K.length)return this.warnings.push("Zero buffer length"),b;this.valueHex=new ArrayBuffer(K.length);const ce=new Uint8Array(this.valueHex);for(let Ce=0;Ce<K.length;Ce++)ce[Ce]=K[Ce];return this.blockLength=k,b+k}toBER(h=!1){return this.valueHex.slice(0)}static blockName(){return"PrimitiveValueBlock"}toJSON(){let h={};try{h=super.toJSON()}catch{}return h.valueHex=v(this.valueHex,0,this.valueHex.byteLength),h.isHexOnly=this.isHexOnly,h}}class ha extends fs{constructor(h={}){super(h,$a),this.idBlock.isConstructed=!1}static blockName(){return"PRIMITIVE"}}class io extends Kr{constructor(h={}){super(h),this.value=S(h,hs,[]),this.isIndefiniteForm=S(h,Ea,!1)}fromBER(h,b,k){const K=b,ce=k;if(!1===f(this,h,b,k))return-1;if(0===new Uint8Array(h,b,k).length)return this.warnings.push("Zero buffer length"),b;let A=b;for(;(!0===this.isIndefiniteForm?1:k)>0;){const j=Rr(h,A,k);if(-1===j.offset)return this.error=j.result.error,this.warnings.concat(j.result.warnings),-1;if(A=j.offset,this.blockLength+=j.result.blockLength,k-=j.result.blockLength,this.value.push(j.result),!0===this.isIndefiniteForm&&j.result.constructor.blockName()===bs.blockName())break}return!0===this.isIndefiniteForm&&(this.value[this.value.length-1].constructor.blockName()===bs.blockName()?this.value.pop():this.warnings.push("No EndOfContent block encoded")),this.valueBeforeDecode=h.slice(K,K+ce),A}toBER(h=!1,b){const k=b||new uo;for(let K=0;K<this.value.length;K++)this.value[K].toBER(h,k);if(!b)return k.final()}static blockName(){return"ConstructedValueBlock"}toJSON(){let h={};try{h=super.toJSON()}catch{}h.isIndefiniteForm=this.isIndefiniteForm,h.value=[];for(let b=0;b<this.value.length;b++)h.value.push(this.value[b].toJSON());return h}}class Ms extends fs{constructor(h={}){super(h,io),this.idBlock.isConstructed=!0}static blockName(){return"CONSTRUCTED"}fromBER(h,b,k){this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;const K=this.valueBlock.fromBER(h,b,!0===this.lenBlock.isIndefiniteForm?k:this.lenBlock.length);return-1===K?(this.error=this.valueBlock.error,K):(0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),K)}toString(){const h=[];for(const k of this.valueBlock.value)h.push(k.toString().split("\n").map(K=>`  ${K}`).join("\n"));const b=3===this.idBlock.tagClass?`[${this.idBlock.tagNumber}]`:this.constructor.blockName();return h.length?`${b} :\n${h.join("\n")}`:`${b} :`}}class Ii extends Kr{constructor(h={}){super(h)}fromBER(h,b,k){return b}toBER(h=!1){return Ir}static blockName(){return"EndOfContentValueBlock"}}class bs extends fs{constructor(h={}){super(h,Ii),this.idBlock.tagClass=1,this.idBlock.tagNumber=0}static blockName(){return"EndOfContent"}}class ne extends Kr{constructor(h={}){super(h),this.value=S(h,hs,!1),this.isHexOnly=S(h,Ro,!1),$i in h?this.valueHex=h.valueHex.slice(0):(this.valueHex=new ArrayBuffer(1),!0===this.value&&(new Uint8Array(this.valueHex)[0]=255))}fromBER(h,b,k){if(!1===f(this,h,b,k))return-1;const K=new Uint8Array(h,b,k);k>1&&this.warnings.push("Boolean value encoded in more then 1 octet"),this.isHexOnly=!0,this.valueHex=new ArrayBuffer(K.length);const ce=new Uint8Array(this.valueHex);for(let Ce=0;Ce<K.length;Ce++)ce[Ce]=K[Ce];return this.value=0!==w.call(this),this.blockLength=k,b+k}toBER(h=!1){return this.valueHex}static blockName(){return"BooleanValueBlock"}toJSON(){let h={};try{h=super.toJSON()}catch{}return h.value=this.value,h.isHexOnly=this.isHexOnly,h.valueHex=v(this.valueHex,0,this.valueHex.byteLength),h}}class ze extends fs{constructor(h={}){super(h,ne),this.idBlock.tagClass=1,this.idBlock.tagNumber=1}static blockName(){return"BOOLEAN"}toString(){return`${this.constructor.blockName()} : ${this.valueBlock.value}`}}class fe extends Ms{constructor(h={}){super(h),this.idBlock.tagClass=1,this.idBlock.tagNumber=16}static blockName(){return"SEQUENCE"}}class Le extends Ms{constructor(h={}){super(h),this.idBlock.tagClass=1,this.idBlock.tagNumber=17}static blockName(){return"SET"}}class At extends fs{constructor(h={}){super(h,Rs),this.idBlock.tagClass=1,this.idBlock.tagNumber=5}static blockName(){return"NULL"}fromBER(h,b,k){return this.lenBlock.length>0&&this.warnings.push("Non-zero length of value block for Null type"),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),this.blockLength+=k,b+k>h.byteLength?(this.error="End of input reached before message was fully decoded (inconsistent offset and length values)",-1):b+k}toBER(h=!1,b){const k=new ArrayBuffer(2);if(!h){const K=new Uint8Array(k);K[0]=5,K[1]=0}return b&&b.write(k),k}toString(){return`${this.constructor.blockName()}`}}class pn extends(Ws(io)){constructor(h={}){super(h),this.isConstructed=S(h,Qo,!1)}fromBER(h,b,k){let K=0;if(!0===this.isConstructed){if(this.isHexOnly=!1,K=io.prototype.fromBER.call(this,h,b,k),-1===K)return K;for(let ce=0;ce<this.value.length;ce++){const Ce=this.value[ce].constructor.blockName();if(Ce===bs.blockName()){if(!0===this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, OCTET STRING may consists of OCTET STRINGs only",-1}if(Ce!==Sn.blockName())return this.error="OCTET STRING may consists of OCTET STRINGs only",-1}}else this.isHexOnly=!0,K=super.fromBER(h,b,k),this.blockLength=k;return K}toBER(h=!1,b){if(!0===this.isConstructed)return io.prototype.toBER.call(this,h,b);let k=new ArrayBuffer(this.valueHex.byteLength);return!0===h||0===this.valueHex.byteLength||(k=this.valueHex.slice(0)),k}static blockName(){return"OctetStringValueBlock"}toJSON(){let h={};try{h=super.toJSON()}catch{}return h.isConstructed=this.isConstructed,h.isHexOnly=this.isHexOnly,h.valueHex=v(this.valueHex,0,this.valueHex.byteLength),h}}class Sn extends fs{constructor(h={}){super(h,pn),this.idBlock.tagClass=1,this.idBlock.tagNumber=4}fromBER(h,b,k){if(this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,0===k)return 0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),b;if(!this.valueBlock.isConstructed){const K=h.slice(b,b+k);try{const ce=yi(K);-1!==ce.offset&&ce.offset===k&&(this.valueBlock.value=[ce.result])}catch{}}return super.fromBER(h,b,k)}static blockName(){return"OCTET STRING"}isEqual(h){return!(!(h instanceof Sn)||JSON.stringify(this)!==JSON.stringify(h))}toString(){return this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length?Ms.prototype.toString.call(this):`${this.constructor.blockName()} : ${v(this.valueBlock.valueHex)}`}}class ei extends(Ws(io)){constructor(h={}){super(h),this.unusedBits=S(h,"unusedBits",0),this.isConstructed=S(h,Qo,!1),this.blockLength=this.valueHex.byteLength}fromBER(h,b,k){if(0===k)return b;let K=-1;if(!0===this.isConstructed){if(K=io.prototype.fromBER.call(this,h,b,k),-1===K)return K;for(let We=0;We<this.value.length;We++){const A=this.value[We].constructor.blockName();if(A===bs.blockName()){if(!0===this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, BIT STRING may consists of BIT STRINGs only",-1}if(A!==fr.blockName())return this.error="BIT STRING may consists of BIT STRINGs only",-1;if(this.unusedBits>0&&this.value[We].valueBlock.unusedBits>0)return this.error='Using of "unused bits" inside constructive BIT STRING allowed for least one only',-1;if(this.unusedBits=this.value[We].valueBlock.unusedBits,this.unusedBits>7)return this.error="Unused bits for BitString must be in range 0-7",-1}return K}if(!1===f(this,h,b,k))return-1;const ce=new Uint8Array(h,b,k);if(this.unusedBits=ce[0],this.unusedBits>7)return this.error="Unused bits for BitString must be in range 0-7",-1;if(!this.unusedBits){const We=h.slice(b+1,b+k);try{const A=yi(We);-1!==A.offset&&A.offset===k-1&&(this.value=[A.result])}catch{}}this.valueHex=new ArrayBuffer(ce.length-1);const Ce=new Uint8Array(this.valueHex);for(let We=0;We<k-1;We++)Ce[We]=ce[We+1];return this.blockLength=ce.length,b+k}toBER(h=!1,b){if(!0===this.isConstructed)return io.prototype.toBER.call(this,h,b);if(!0===h)return new ArrayBuffer(this.valueHex.byteLength+1);if(0===this.valueHex.byteLength)return Ir;const k=new Uint8Array(this.valueHex),K=new ArrayBuffer(this.valueHex.byteLength+1),ce=new Uint8Array(K);ce[0]=this.unusedBits;for(let Ce=0;Ce<this.valueHex.byteLength;Ce++)ce[Ce+1]=k[Ce];return K}static blockName(){return"BitStringValueBlock"}toJSON(){let h={};try{h=super.toJSON()}catch{}return h.unusedBits=this.unusedBits,h.isConstructed=this.isConstructed,h.isHexOnly=this.isHexOnly,h.valueHex=v(this.valueHex,0,this.valueHex.byteLength),h}}class fr extends fs{constructor(h={}){super(h,ei),this.idBlock.tagClass=1,this.idBlock.tagNumber=3}static blockName(){return"BIT STRING"}fromBER(h,b,k){return 0===k?b:(this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,super.fromBER(h,b,k))}isEqual(h){return!(!(h instanceof fr)||JSON.stringify(this)!==JSON.stringify(h))}toString(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length)return Ms.prototype.toString.call(this);{const h=[],b=new Uint8Array(this.valueBlock.valueHex);for(const k of b)h.push(k.toString(2).padStart(8,"0"));return`${this.constructor.blockName()} : ${h.join("")}`}}}class ar extends(Ws(Kr)){constructor(h={}){super(h),hs in h&&(this.valueDec=h.value)}set valueHex(h){this._valueHex=h.slice(0),h.byteLength>=4?(this.warnings.push("Too big Integer for decoding, hex only"),this.isHexOnly=!0,this._valueDec=0):(this.isHexOnly=!1,h.byteLength>0&&(this._valueDec=w.call(this)))}get valueHex(){return this._valueHex}set valueDec(h){this._valueDec=h,this.isHexOnly=!1,this._valueHex=C(h)}get valueDec(){return this._valueDec}fromDER(h,b,k,K=0){const ce=this.fromBER(h,b,k);if(-1===ce)return ce;const Ce=new Uint8Array(this._valueHex);if(0===Ce[0]&&128&Ce[1]){const We=new ArrayBuffer(this._valueHex.byteLength-1);new Uint8Array(We).set(new Uint8Array(this._valueHex,1,this._valueHex.byteLength-1)),this._valueHex=We.slice(0)}else if(0!==K&&this._valueHex.byteLength<K){K-this._valueHex.byteLength>1&&(K=this._valueHex.byteLength+1);const We=new ArrayBuffer(K);new Uint8Array(We).set(Ce,K-this._valueHex.byteLength),this._valueHex=We.slice(0)}return ce}toDER(h=!1){const b=new Uint8Array(this._valueHex);switch(!0){case!!(128&b[0]):{const k=new ArrayBuffer(this._valueHex.byteLength+1),K=new Uint8Array(k);K[0]=0,K.set(b,1),this._valueHex=k.slice(0)}break;case 0===b[0]&&!(128&b[1]):{const k=new ArrayBuffer(this._valueHex.byteLength-1);new Uint8Array(k).set(new Uint8Array(this._valueHex,1,this._valueHex.byteLength-1)),this._valueHex=k.slice(0)}}return this.toBER(h)}fromBER(h,b,k){const K=super.fromBER(h,b,k);return-1===K?K:(this.blockLength=k,b+k)}toBER(h=!1){return this.valueHex.slice(0)}static blockName(){return"IntegerValueBlock"}toJSON(){let h={};try{h=super.toJSON()}catch{}return h.valueDec=this.valueDec,h}toString(){function h(Z,be){const He=new Uint8Array([0]);let gt=new Uint8Array(Z),on=new Uint8Array(be),en=gt.slice(0);const Un=en.length-1;let Oi=on.slice(0);const Pi=Oi.length-1;let hr=0,xs=0;for(let Da=Pi<Un?Un:Pi;Da>=0;Da--,xs++)hr=1==xs<Oi.length?en[Un-xs]+Oi[Pi-xs]+He[0]:en[Un-xs]+He[0],He[0]=hr/10,1==xs>=en.length?en=F(new Uint8Array([hr%10]),en):en[Un-xs]=hr%10;return He[0]>0&&(en=F(He,en)),en.slice(0)}function b(Z){if(Z>=Vr.length)for(let be=Vr.length;be<=Z;be++){const He=new Uint8Array([0]);let gt=Vr[be-1].slice(0);for(let on=gt.length-1;on>=0;on--){const en=new Uint8Array([(gt[on]<<1)+He[0]]);He[0]=en[0]/10,gt[on]=en[0]%10}He[0]>0&&(gt=F(He,gt)),Vr.push(gt)}return Vr[Z]}function k(Z,be){let He=0,gt=new Uint8Array(Z),on=new Uint8Array(be),en=gt.slice(0);const Un=en.length-1;let Oi=on.slice(0);const Pi=Oi.length-1;let hr,Vs=0;for(let xs=Pi;xs>=0;xs--,Vs++)hr=en[Un-Vs]-Oi[Pi-Vs]-He,1==hr<0?(He=1,en[Un-Vs]=hr+10):(He=0,en[Un-Vs]=hr);if(He>0)for(let xs=Un-Pi+1;xs>=0;xs--,Vs++){if(hr=en[Un-Vs]-He,!(hr<0)){He=0,en[Un-Vs]=hr;break}He=1,en[Un-Vs]=hr+10}return en.slice()}const K=8*this._valueHex.byteLength-1;let We,ce=new Uint8Array(8*this._valueHex.byteLength/3),Ce=0;const A=new Uint8Array(this._valueHex);let j="",B=!1;for(let Z=this._valueHex.byteLength-1;Z>=0;Z--){We=A[Z];for(let be=0;be<8;be++)1&~We||(Ce===K?(ce=k(b(Ce),ce),j="-"):ce=h(ce,b(Ce))),Ce++,We>>=1}for(let Z=0;Z<ce.length;Z++)ce[Z]&&(B=!0),B&&(j+=xi.charAt(ce[Z]));return!1===B&&(j+=xi.charAt(0)),j}}class Ji extends fs{constructor(h={}){super(h,ar),this.idBlock.tagClass=1,this.idBlock.tagNumber=2}static blockName(){return"INTEGER"}isEqual(h){return h instanceof Ji?this.valueBlock.isHexOnly&&h.valueBlock.isHexOnly?R(this.valueBlock.valueHex,h.valueBlock.valueHex):this.valueBlock.isHexOnly===h.valueBlock.isHexOnly&&this.valueBlock.valueDec===h.valueBlock.valueDec:h instanceof ArrayBuffer&&R(this.valueBlock.valueHex,h)}convertToDER(){const h=new Ji({valueHex:this.valueBlock.valueHex});return h.valueBlock.toDER(),h}convertFromDER(){const h=this.valueBlock.valueHex.byteLength%2?this.valueBlock.valueHex.byteLength+1:this.valueBlock.valueHex.byteLength,b=new Ji({valueHex:this.valueBlock.valueHex});return b.valueBlock.fromDER(b.valueBlock.valueHex,0,b.valueBlock.valueHex.byteLength,h),b}toString(){Is();const h=v(this.valueBlock.valueHex),b=BigInt(`0x${h}`);return`${this.constructor.blockName()} : ${b.toString()}`}}class Ui extends Ji{constructor(h={}){super(h),this.idBlock.tagClass=1,this.idBlock.tagNumber=10}static blockName(){return"ENUMERATED"}}class ii extends(Ws(Rs)){constructor(h={}){super(h),this.valueDec=S(h,Ta,-1),this.isFirstSid=S(h,"isFirstSid",!1)}static blockName(){return"sidBlock"}fromBER(h,b,k){if(0===k)return b;if(!1===f(this,h,b,k))return-1;const K=new Uint8Array(h,b,k);this.valueHex=new ArrayBuffer(k);let ce=new Uint8Array(this.valueHex);for(let A=0;A<k&&(ce[A]=127&K[A],this.blockLength++,128&K[A]);A++);const Ce=new ArrayBuffer(this.blockLength),We=new Uint8Array(Ce);for(let A=0;A<this.blockLength;A++)We[A]=ce[A];return this.valueHex=Ce.slice(0),ce=new Uint8Array(this.valueHex),128&K[this.blockLength-1]?(this.error="End of input reached before message was fully decoded",-1):(0===ce[0]&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=d(ce,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),b+this.blockLength)}set valueBigInt(h){Is();let b=BigInt(h).toString(2);for(;b.length%7;)b="0"+b;const k=new Uint8Array(b.length/7);for(let K=0;K<k.length;K++)k[K]=parseInt(b.slice(7*K,7*K+7),2)+(K+1<k.length?128:0);this.fromBER(k.buffer,0,k.length)}toBER(h=!1){let b,k;if(this.isHexOnly){if(!0===h)return new ArrayBuffer(this.valueHex.byteLength);const ce=new Uint8Array(this.valueHex);b=new ArrayBuffer(this.blockLength),k=new Uint8Array(b);for(let Ce=0;Ce<this.blockLength-1;Ce++)k[Ce]=128|ce[Ce];return k[this.blockLength-1]=ce[this.blockLength-1],b}const K=E(this.valueDec,7);if(0===K.byteLength)return this.error="Error during encoding SID value",Ir;if(b=new ArrayBuffer(K.byteLength),!1===h){const ce=new Uint8Array(K);k=new Uint8Array(b);for(let Ce=0;Ce<K.byteLength-1;Ce++)k[Ce]=128|ce[Ce];k[K.byteLength-1]=ce[K.byteLength-1]}return b}toString(){let h="";if(!0===this.isHexOnly)h=v(this.valueHex,0,this.valueHex.byteLength);else if(this.isFirstSid){let b=this.valueDec;this.valueDec<=39?h="0.":this.valueDec<=79?(h="1.",b-=40):(h="2.",b-=80),h+=b.toString()}else h=this.valueDec.toString();return h}toJSON(){let h={};try{h=super.toJSON()}catch{}return h.valueDec=this.valueDec,h.isFirstSid=this.isFirstSid,h}}class Qi extends Kr{constructor(h={}){super(h),this.fromString(S(h,hs,""))}fromBER(h,b,k){let K=b;for(;k>0;){const ce=new ii;if(K=ce.fromBER(h,K,k),-1===K)return this.blockLength=0,this.error=ce.error,K;0===this.value.length&&(ce.isFirstSid=!0),this.blockLength+=ce.blockLength,k-=ce.blockLength,this.value.push(ce)}return K}toBER(h=!1){const b=[];for(let k=0;k<this.value.length;k++){const K=this.value[k].toBER(h);if(0===K.byteLength)return this.error=this.value[k].error,Ir;b.push(K)}return Jo(b)}fromString(h){this.value=[];let b=0,k=0,K="",ce=!1;do{if(k=h.indexOf(".",b),K=-1===k?h.substr(b):h.substr(b,k-b),b=k+1,ce){const Ce=this.value[0];let We=0;switch(Ce.valueDec){case 0:break;case 1:We=40;break;case 2:We=80;break;default:return this.value=[],!1}const A=parseInt(K,10);if(isNaN(A))return!0;Ce.valueDec=A+We,ce=!1}else{const Ce=new ii;if(K>Number.MAX_SAFE_INTEGER){Is();const We=BigInt(K);Ce.valueBigInt=We}else if(Ce.valueDec=parseInt(K,10),isNaN(Ce.valueDec))return!0;0===this.value.length&&(Ce.isFirstSid=!0,ce=!0),this.value.push(Ce)}}while(-1!==k);return!0}toString(){let h="",b=!1;for(let k=0;k<this.value.length;k++){b=this.value[k].isHexOnly;let K=this.value[k].toString();0!==k&&(h=`${h}.`),b?(K=`{${K}}`,this.value[k].isFirstSid?h=`2.{${K} - 80}`:h+=K):h+=K}return h}static blockName(){return"ObjectIdentifierValueBlock"}toJSON(){let h={};try{h=super.toJSON()}catch{}h.value=this.toString(),h.sidArray=[];for(let b=0;b<this.value.length;b++)h.sidArray.push(this.value[b].toJSON());return h}}class dr extends fs{constructor(h={}){super(h,Qi),this.idBlock.tagClass=1,this.idBlock.tagNumber=6}static blockName(){return"OBJECT IDENTIFIER"}toString(){return`${this.constructor.blockName()} : ${this.valueBlock.toString()}`}}class ye extends(Ws(Rs)){constructor(h={}){super(h),this.isHexOnly=!0,this.value=""}static blockName(){return"Utf8StringValueBlock"}toJSON(){let h={};try{h=super.toJSON()}catch{}return h.value=this.value,h}}class P extends fs{constructor(h={}){super(h,ye),hs in h&&this.fromString(h.value),this.idBlock.tagClass=1,this.idBlock.tagNumber=12}static blockName(){return"UTF8String"}fromBER(h,b,k){const K=this.valueBlock.fromBER(h,b,!0===this.lenBlock.isIndefiniteForm?k:this.lenBlock.length);return-1===K?(this.error=this.valueBlock.error,K):(this.fromBuffer(this.valueBlock.valueHex),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),K)}fromBuffer(h){this.valueBlock.value=String.fromCharCode.apply(null,new Uint8Array(h));try{this.valueBlock.value=decodeURIComponent(escape(this.valueBlock.value))}catch(b){this.warnings.push(`Error during "decodeURIComponent": ${b}, using raw string`)}}fromString(h){const b=unescape(encodeURIComponent(h)),k=b.length;this.valueBlock.valueHex=new ArrayBuffer(k);const K=new Uint8Array(this.valueBlock.valueHex);for(let ce=0;ce<k;ce++)K[ce]=b.charCodeAt(ce);this.valueBlock.value=h}toString(){return`${this.constructor.blockName()} : ${this.valueBlock.value}`}}class pe extends(Ws(Rs)){constructor(h={}){super(h),this.valueDec=S(h,Ta,-1)}static blockName(){return"relativeSidBlock"}fromBER(h,b,k){if(0===k)return b;if(!1===f(this,h,b,k))return-1;const K=new Uint8Array(h,b,k);this.valueHex=new ArrayBuffer(k);let ce=new Uint8Array(this.valueHex);for(let A=0;A<k&&(ce[A]=127&K[A],this.blockLength++,128&K[A]);A++);const Ce=new ArrayBuffer(this.blockLength),We=new Uint8Array(Ce);for(let A=0;A<this.blockLength;A++)We[A]=ce[A];return this.valueHex=Ce.slice(0),ce=new Uint8Array(this.valueHex),128&K[this.blockLength-1]?(this.error="End of input reached before message was fully decoded",-1):(0===ce[0]&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=d(ce,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),b+this.blockLength)}toBER(h=!1){let b,k;if(this.isHexOnly){if(!0===h)return new ArrayBuffer(this.valueHex.byteLength);const ce=new Uint8Array(this.valueHex);b=new ArrayBuffer(this.blockLength),k=new Uint8Array(b);for(let Ce=0;Ce<this.blockLength-1;Ce++)k[Ce]=128|ce[Ce];return k[this.blockLength-1]=ce[this.blockLength-1],b}const K=E(this.valueDec,7);if(0===K.byteLength)return this.error="Error during encoding SID value",Ir;if(b=new ArrayBuffer(K.byteLength),!1===h){const ce=new Uint8Array(K);k=new Uint8Array(b);for(let Ce=0;Ce<K.byteLength-1;Ce++)k[Ce]=128|ce[Ce];k[K.byteLength-1]=ce[K.byteLength-1]}return b}toString(){let h="";return h=!0===this.isHexOnly?v(this.valueHex,0,this.valueHex.byteLength):this.valueDec.toString(),h}toJSON(){let h={};try{h=super.toJSON()}catch{}return h.valueDec=this.valueDec,h}}class Ne extends Kr{constructor(h={}){super(h),this.fromString(S(h,hs,""))}fromBER(h,b,k){let K=b;for(;k>0;){const ce=new pe;if(K=ce.fromBER(h,K,k),-1===K)return this.blockLength=0,this.error=ce.error,K;this.blockLength+=ce.blockLength,k-=ce.blockLength,this.value.push(ce)}return K}toBER(h=!1){let b=[];for(let k=0;k<this.value.length;k++){const K=this.value[k].toBER(h);if(0===K.byteLength)return this.error=this.value[k].error,Ir;b.push(K)}return Jo(b)}fromString(h){this.value=[];let b=0,k=0,K="";do{k=h.indexOf(".",b),K=-1===k?h.substr(b):h.substr(b,k-b),b=k+1;const ce=new pe;if(ce.valueDec=parseInt(K,10),isNaN(ce.valueDec))return!0;this.value.push(ce)}while(-1!==k);return!0}toString(){let h="",b=!1;for(let k=0;k<this.value.length;k++){b=this.value[k].isHexOnly;let K=this.value[k].toString();0!==k&&(h=`${h}.`),b&&(K=`{${K}}`),h+=K}return h}static blockName(){return"RelativeObjectIdentifierValueBlock"}toJSON(){let h={};try{h=super.toJSON()}catch{}h.value=this.toString(),h.sidArray=[];for(let b=0;b<this.value.length;b++)h.sidArray.push(this.value[b].toJSON());return h}}class st extends fs{constructor(h={}){super(h,Ne),this.idBlock.tagClass=1,this.idBlock.tagNumber=13}static blockName(){return"RelativeObjectIdentifier"}}class xt extends(Ws(Rs)){constructor(h={}){super(h),this.isHexOnly=!0,this.value=""}static blockName(){return"BmpStringValueBlock"}toJSON(){let h={};try{h=super.toJSON()}catch{}return h.value=this.value,h}}class Vt extends fs{constructor(h={}){super(h,xt),hs in h&&this.fromString(h.value),this.idBlock.tagClass=1,this.idBlock.tagNumber=30}static blockName(){return"BMPString"}fromBER(h,b,k){const K=this.valueBlock.fromBER(h,b,!0===this.lenBlock.isIndefiniteForm?k:this.lenBlock.length);return-1===K?(this.error=this.valueBlock.error,K):(this.fromBuffer(this.valueBlock.valueHex),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),K)}fromBuffer(h){const b=h.slice(0),k=new Uint8Array(b);for(let K=0;K<k.length;K+=2){const ce=k[K];k[K]=k[K+1],k[K+1]=ce}this.valueBlock.value=String.fromCharCode.apply(null,new Uint16Array(b))}fromString(h){const b=h.length;this.valueBlock.valueHex=new ArrayBuffer(2*b);const k=new Uint8Array(this.valueBlock.valueHex);for(let K=0;K<b;K++){const ce=E(h.charCodeAt(K),8),Ce=new Uint8Array(ce);if(Ce.length>2)continue;const We=2-Ce.length;for(let A=Ce.length-1;A>=0;A--)k[2*K+A+We]=Ce[A]}this.valueBlock.value=h}toString(){return`${this.constructor.blockName()} : ${this.valueBlock.value}`}}class qt extends(Ws(Rs)){constructor(h={}){super(h),this.isHexOnly=!0,this.value=""}static blockName(){return"UniversalStringValueBlock"}toJSON(){let h={};try{h=super.toJSON()}catch{}return h.value=this.value,h}}class sn extends fs{constructor(h={}){super(h,qt),hs in h&&this.fromString(h.value),this.idBlock.tagClass=1,this.idBlock.tagNumber=28}static blockName(){return"UniversalString"}fromBER(h,b,k){const K=this.valueBlock.fromBER(h,b,!0===this.lenBlock.isIndefiniteForm?k:this.lenBlock.length);return-1===K?(this.error=this.valueBlock.error,K):(this.fromBuffer(this.valueBlock.valueHex),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),K)}fromBuffer(h){const b=h.slice(0),k=new Uint8Array(b);for(let K=0;K<k.length;K+=4)k[K]=k[K+3],k[K+1]=k[K+2],k[K+2]=0,k[K+3]=0;this.valueBlock.value=String.fromCharCode.apply(null,new Uint32Array(b))}fromString(h){const b=h.length;this.valueBlock.valueHex=new ArrayBuffer(4*b);const k=new Uint8Array(this.valueBlock.valueHex);for(let K=0;K<b;K++){const ce=E(h.charCodeAt(K),8),Ce=new Uint8Array(ce);if(Ce.length>4)continue;const We=4-Ce.length;for(let A=Ce.length-1;A>=0;A--)k[4*K+A+We]=Ce[A]}this.valueBlock.value=h}toString(){return`${this.constructor.blockName()} : ${this.valueBlock.value}`}}class Cn extends(Ws(Rs)){constructor(h={}){super(h),this.value="",this.isHexOnly=!0}static blockName(){return"SimpleStringValueBlock"}toJSON(){let h={};try{h=super.toJSON()}catch{}return h.value=this.value,h}}class ti extends fs{constructor(h={}){super(h,Cn),hs in h&&this.fromString(h.value)}static blockName(){return"SIMPLESTRING"}fromBER(h,b,k){const K=this.valueBlock.fromBER(h,b,!0===this.lenBlock.isIndefiniteForm?k:this.lenBlock.length);return-1===K?(this.error=this.valueBlock.error,K):(this.fromBuffer(this.valueBlock.valueHex),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),K)}fromBuffer(h){this.valueBlock.value=String.fromCharCode.apply(null,new Uint8Array(h))}fromString(h){const b=h.length;this.valueBlock.valueHex=new ArrayBuffer(b);const k=new Uint8Array(this.valueBlock.valueHex);for(let K=0;K<b;K++)k[K]=h.charCodeAt(K);this.valueBlock.value=h}toString(){return`${this.constructor.blockName()} : ${this.valueBlock.value}`}}class jn extends ti{constructor(h={}){super(h),this.idBlock.tagClass=1,this.idBlock.tagNumber=18}static blockName(){return"NumericString"}}class _r extends ti{constructor(h={}){super(h),this.idBlock.tagClass=1,this.idBlock.tagNumber=19}static blockName(){return"PrintableString"}}class mi extends ti{constructor(h={}){super(h),this.idBlock.tagClass=1,this.idBlock.tagNumber=20}static blockName(){return"TeletexString"}}class jr extends ti{constructor(h={}){super(h),this.idBlock.tagClass=1,this.idBlock.tagNumber=21}static blockName(){return"VideotexString"}}class Dr extends ti{constructor(h={}){super(h),this.idBlock.tagClass=1,this.idBlock.tagNumber=22}static blockName(){return"IA5String"}}class Cs extends ti{constructor(h={}){super(h),this.idBlock.tagClass=1,this.idBlock.tagNumber=25}static blockName(){return"GraphicString"}}class Gi extends ti{constructor(h={}){super(h),this.idBlock.tagClass=1,this.idBlock.tagNumber=26}static blockName(){return"VisibleString"}}class cs extends ti{constructor(h={}){super(h),this.idBlock.tagClass=1,this.idBlock.tagNumber=27}static blockName(){return"GeneralString"}}class Mo extends ti{constructor(h={}){super(h),this.idBlock.tagClass=1,this.idBlock.tagNumber=29}static blockName(){return"CharacterString"}}class fa extends Gi{constructor(h={}){if(super(h),this.year=0,this.month=0,this.day=0,this.hour=0,this.minute=0,this.second=0,hs in h){this.fromString(h.value),this.valueBlock.valueHex=new ArrayBuffer(h.value.length);const b=new Uint8Array(this.valueBlock.valueHex);for(let k=0;k<h.value.length;k++)b[k]=h.value.charCodeAt(k)}La in h&&(this.fromDate(h.valueDate),this.valueBlock.valueHex=this.toBuffer()),this.idBlock.tagClass=1,this.idBlock.tagNumber=23}fromBER(h,b,k){const K=this.valueBlock.fromBER(h,b,!0===this.lenBlock.isIndefiniteForm?k:this.lenBlock.length);return-1===K?(this.error=this.valueBlock.error,K):(this.fromBuffer(this.valueBlock.valueHex),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),K)}fromBuffer(h){this.fromString(String.fromCharCode.apply(null,new Uint8Array(h)))}toBuffer(){const h=this.toString(),b=new ArrayBuffer(h.length),k=new Uint8Array(b);for(let K=0;K<h.length;K++)k[K]=h.charCodeAt(K);return b}fromDate(h){this.year=h.getUTCFullYear(),this.month=h.getUTCMonth()+1,this.day=h.getUTCDate(),this.hour=h.getUTCHours(),this.minute=h.getUTCMinutes(),this.second=h.getUTCSeconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second))}fromString(h){const k=/(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})Z/gi.exec(h);if(null===k)return void(this.error="Wrong input string for conversion");const K=parseInt(k[1],10);this.year=K>=50?1900+K:2e3+K,this.month=parseInt(k[2],10),this.day=parseInt(k[3],10),this.hour=parseInt(k[4],10),this.minute=parseInt(k[5],10),this.second=parseInt(k[6],10)}toString(){const h=new Array(7);return h[0]=x(this.year<2e3?this.year-1900:this.year-2e3,2),h[1]=x(this.month,2),h[2]=x(this.day,2),h[3]=x(this.hour,2),h[4]=x(this.minute,2),h[5]=x(this.second,2),h[6]="Z",h.join("")}static blockName(){return"UTCTime"}toJSON(){let h={};try{h=super.toJSON()}catch{}return h.year=this.year,h.month=this.month,h.day=this.day,h.hour=this.hour,h.minute=this.minute,h.second=this.second,h}}class ho extends Gi{constructor(h={}){if(super(h),this.year=0,this.month=0,this.day=0,this.hour=0,this.minute=0,this.second=0,this.millisecond=0,hs in h){this.fromString(h.value),this.valueBlock.valueHex=new ArrayBuffer(h.value.length);const b=new Uint8Array(this.valueBlock.valueHex);for(let k=0;k<h.value.length;k++)b[k]=h.value.charCodeAt(k)}La in h&&(this.fromDate(h.valueDate),this.valueBlock.valueHex=this.toBuffer()),this.idBlock.tagClass=1,this.idBlock.tagNumber=24}fromBER(h,b,k){const K=this.valueBlock.fromBER(h,b,!0===this.lenBlock.isIndefiniteForm?k:this.lenBlock.length);return-1===K?(this.error=this.valueBlock.error,K):(this.fromBuffer(this.valueBlock.valueHex),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),K)}fromBuffer(h){this.fromString(String.fromCharCode.apply(null,new Uint8Array(h)))}toBuffer(){const h=this.toString(),b=new ArrayBuffer(h.length),k=new Uint8Array(b);for(let K=0;K<h.length;K++)k[K]=h.charCodeAt(K);return b}fromDate(h){this.year=h.getUTCFullYear(),this.month=h.getUTCMonth()+1,this.day=h.getUTCDate(),this.hour=h.getUTCHours(),this.minute=h.getUTCMinutes(),this.second=h.getUTCSeconds(),this.millisecond=h.getUTCMilliseconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond))}fromString(h){let Ce,b=!1,k="",K="",ce=0,We=0,A=0;if("Z"===h[h.length-1])k=h.substr(0,h.length-1),b=!0;else{const Z=new Number(h[h.length-1]);if(isNaN(Z.valueOf()))throw new Error("Wrong input string for conversion");k=h}if(b){if(-1!==k.indexOf("+"))throw new Error("Wrong input string for conversion");if(-1!==k.indexOf("-"))throw new Error("Wrong input string for conversion")}else{let Z=1,be=k.indexOf("+"),He="";if(-1===be&&(be=k.indexOf("-"),Z=-1),-1!==be){if(He=k.substr(be+1),k=k.substr(0,be),2!==He.length&&4!==He.length)throw new Error("Wrong input string for conversion");let gt=new Number(He.substr(0,2));if(isNaN(gt.valueOf()))throw new Error("Wrong input string for conversion");if(We=Z*gt,4===He.length){if(gt=new Number(He.substr(2,2)),isNaN(gt.valueOf()))throw new Error("Wrong input string for conversion");A=Z*gt}}}let j=k.indexOf(".");if(-1===j&&(j=k.indexOf(",")),-1!==j){const Z=new Number(`0${k.substr(j)}`);if(isNaN(Z.valueOf()))throw new Error("Wrong input string for conversion");ce=Z.valueOf(),K=k.substr(0,j)}else K=k;switch(!0){case 8===K.length:if(Ce=/(\d{4})(\d{2})(\d{2})/gi,-1!==j)throw new Error("Wrong input string for conversion");break;case 10===K.length:if(Ce=/(\d{4})(\d{2})(\d{2})(\d{2})/gi,-1!==j){let Z=60*ce;this.minute=Math.floor(Z),Z=60*(Z-this.minute),this.second=Math.floor(Z),Z=1e3*(Z-this.second),this.millisecond=Math.floor(Z)}break;case 12===K.length:if(Ce=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})/gi,-1!==j){let Z=60*ce;this.second=Math.floor(Z),Z=1e3*(Z-this.second),this.millisecond=Math.floor(Z)}break;case 14===K.length:Ce=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/gi,-1!==j&&(this.millisecond=Math.floor(1e3*ce));break;default:throw new Error("Wrong input string for conversion")}const B=Ce.exec(K);if(null===B)throw new Error("Wrong input string for conversion");for(let Z=1;Z<B.length;Z++)switch(Z){case 1:this.year=parseInt(B[Z],10);break;case 2:this.month=parseInt(B[Z],10);break;case 3:this.day=parseInt(B[Z],10);break;case 4:this.hour=parseInt(B[Z],10)+We;break;case 5:this.minute=parseInt(B[Z],10)+A;break;case 6:this.second=parseInt(B[Z],10);break;default:throw new Error("Wrong input string for conversion")}if(!1===b){const Z=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond);this.year=Z.getUTCFullYear(),this.month=Z.getUTCMonth(),this.day=Z.getUTCDay(),this.hour=Z.getUTCHours(),this.minute=Z.getUTCMinutes(),this.second=Z.getUTCSeconds(),this.millisecond=Z.getUTCMilliseconds()}}toString(){const h=[];return h.push(x(this.year,4)),h.push(x(this.month,2)),h.push(x(this.day,2)),h.push(x(this.hour,2)),h.push(x(this.minute,2)),h.push(x(this.second,2)),0!==this.millisecond&&(h.push("."),h.push(x(this.millisecond,3))),h.push("Z"),h.join("")}static blockName(){return"GeneralizedTime"}toJSON(){let h={};try{h=super.toJSON()}catch{}return h.year=this.year,h.month=this.month,h.day=this.day,h.hour=this.hour,h.minute=this.minute,h.second=this.second,h.millisecond=this.millisecond,h}}class zr extends P{constructor(h={}){super(h),this.idBlock.tagClass=1,this.idBlock.tagNumber=31}static blockName(){return"DATE"}}class Vo extends P{constructor(h={}){super(h),this.idBlock.tagClass=1,this.idBlock.tagNumber=32}static blockName(){return"TimeOfDay"}}class Di extends P{constructor(h={}){super(h),this.idBlock.tagClass=1,this.idBlock.tagNumber=33}static blockName(){return"DateTime"}}class Ia extends P{constructor(h={}){super(h),this.idBlock.tagClass=1,this.idBlock.tagNumber=34}static blockName(){return"Duration"}}class ea extends P{constructor(h={}){super(h),this.idBlock.tagClass=1,this.idBlock.tagNumber=14}static blockName(){return"TIME"}}function Rr($e,h,b){const k=h;let ce=new fs({},Object);const Ce=new Rs;if(!1===f(Ce,$e,h,b))return ce.error=Ce.error,{offset:-1,result:ce};if(0===new Uint8Array($e,h,b).length)return ce.error="Zero buffer length",{offset:-1,result:ce};let A=ce.idBlock.fromBER($e,h,b);if(ce.warnings.concat(ce.idBlock.warnings),-1===A)return ce.error=ce.idBlock.error,{offset:-1,result:ce};if(A=ce.lenBlock.fromBER($e,h=A,b-=ce.idBlock.blockLength),ce.warnings.concat(ce.lenBlock.warnings),-1===A)return ce.error=ce.lenBlock.error,{offset:-1,result:ce};if(h=A,b-=ce.lenBlock.blockLength,!1===ce.idBlock.isConstructed&&!0===ce.lenBlock.isIndefiniteForm)return ce.error="Indefinite length form used for primitive encoding form",{offset:-1,result:ce};let j=fs;if(1===ce.idBlock.tagClass){if(ce.idBlock.tagNumber>=37&&!1===ce.idBlock.isHexOnly)return ce.error="UNIVERSAL 37 and upper tags are reserved by ASN.1 standard",{offset:-1,result:ce};switch(ce.idBlock.tagNumber){case 0:if(!0===ce.idBlock.isConstructed&&ce.lenBlock.length>0)return ce.error="Type [UNIVERSAL 0] is reserved",{offset:-1,result:ce};j=bs;break;case 1:j=ze;break;case 2:j=Ji;break;case 3:j=fr;break;case 4:j=Sn;break;case 5:j=At;break;case 6:j=dr;break;case 10:j=Ui;break;case 12:j=P;break;case 13:j=st;break;case 14:j=ea;break;case 15:return ce.error="[UNIVERSAL 15] is reserved by ASN.1 standard",{offset:-1,result:ce};case 16:j=fe;break;case 17:j=Le;break;case 18:j=jn;break;case 19:j=_r;break;case 20:j=mi;break;case 21:j=jr;break;case 22:j=Dr;break;case 23:j=fa;break;case 24:j=ho;break;case 25:j=Cs;break;case 26:j=Gi;break;case 27:j=cs;break;case 28:j=sn;break;case 29:j=Mo;break;case 30:j=Vt;break;case 31:j=zr;break;case 32:j=Vo;break;case 33:j=Di;break;case 34:j=Ia;break;default:{let B;B=!0===ce.idBlock.isConstructed?new Ms:new ha,B.idBlock=ce.idBlock,B.lenBlock=ce.lenBlock,B.warnings=ce.warnings,ce=B}}}else j=!0===ce.idBlock.isConstructed?Ms:ha;return ce=function K(B,Z){if(B instanceof Z)return B;const be=new Z;return be.idBlock=B.idBlock,be.lenBlock=B.lenBlock,be.warnings=B.warnings,be.valueBeforeDecode=B.valueBeforeDecode.slice(0),be}(ce,j),A=ce.fromBER($e,h,!0===ce.lenBlock.isIndefiniteForm?b:ce.lenBlock.length),ce.valueBeforeDecode=$e.slice(k,k+ce.blockLength),{offset:A,result:ce}}function yi($e){if(0===$e.byteLength){const h=new fs({},Object);return h.error="Input buffer has zero length",{offset:-1,result:h}}return Rr($e,0,$e.byteLength)}var na=u(3838),ro=u(4531),Wa=u(4438);let al=(()=>{class $e{convertStringToArrayBuffer(b){const k=new na.hp(b,"base64").toString("binary"),K=new ArrayBuffer(2*k.length),ce=new Uint8Array(K);for(let Ce=0,We=k.length;Ce<We;Ce++)ce[Ce]=k.charCodeAt(Ce);return K}buildCertModelFromArrayBuffer(b,k){var K=this;return(0,n.A)(function*(){const ce=yi(b),Ce=new Ti({schema:ce.result}),We=new e,A=K.getSubject(Ce),j=yield K.calculateCertificateThumbprint(k);return We.base64Cert=k,We.subject=A,We.thumbprint=j,We})()}verifyCertFilePassword(b,k,K){let ce=new FileReader;ce.onload=Ce=>{try{const We=na.hp.from(ce.result),A=this.arrayBufferToBase64(We);(0,ro.hc)(We,k),K.next(A)}catch(We){console.log("Invalid cert!"),K.error(We)}},ce.onerror=Ce=>{K.error(Ce)},ce.readAsArrayBuffer(b)}getSubject(b){const k={"2.5.4.6":"C","2.5.4.10":"O","2.5.4.11":"OU","2.5.4.3":"CN","2.5.4.7":"L","2.5.4.8":"S","2.5.4.12":"T","2.5.4.42":"GN","2.5.4.43":"I","2.5.4.4":"SN","1.2.840.113549.1.9.1":"E-mail"},K=new Array;for(const Ce of b.subject.typesAndValues){let We=k[Ce.type];typeof We>"u"&&(We=Ce.type),K.push(`${We}=${Ce.value.valueBlock.value}`)}return K.reverse().join(", ")}calculateCertificateThumbprint(b){var k=this;return(0,n.A)(function*(){const K=new na.hp(b,"base64"),ce=yield crypto.subtle.digest("SHA-1",K);return k.computeHex(ce)})()}computeHex(b){return[].map.call(new Uint8Array(b),k=>("00"+k.toString(16)).slice(-2)).join("")}arrayBufferToBase64(b){for(var k="",K=new Uint8Array(b),ce=K.byteLength,Ce=0;Ce<ce;Ce++)k+=String.fromCharCode(K[Ce]);return window.btoa(k)}static{this.\u0275fac=function(k){return new(k||$e)}}static{this.\u0275prov=Wa.jDH({token:$e,factory:$e.\u0275fac})}}return $e})()},526:(qe,me,u)=>{"use strict";u.d(me,{X:()=>v});var n=u(1626),e=u(2771),_=u(7263),g=u(4438),S=u(9564);let v=(()=>{class f{constructor(E,m){this.http=E,this.claimTypeSubject=new e.m(1),this.actionUrl="ClaimTypes",this.headers=m.setHeaders()}getCachedClaimType(){return this.claimTypeSubject}getClaimType(E){return this.http.get(`${this.actionUrl}/${E}`,{headers:this.headers})}getClaimTypes(E,m,F=!1){let w=new n.Nl;return(0,_.gP)(E)||(w=w.append("name",E)),w=w.append("sort",(0,_.gP)(m)?"name":m),this.http.get(F?`${this.actionUrl}/ClaimTypesLightWeight`:this.actionUrl,{headers:this.headers,params:w})}addClaimType(E){const m=`${this.actionUrl}`,F=JSON.stringify(E);return this.http.post(m,F,{headers:this.headers})}updateClaimType(E){const m=`${this.actionUrl}/${E.id}`,F=JSON.stringify(E);return this.http.put(m,F,{headers:this.headers})}deleteClaimType(E){return this.http.delete(`${this.actionUrl}/${E.id}`,{headers:this.headers})}getAllowedValues(E,m,F){let w=new n.Nl;return(0,_.gP)(m)||(w=w.append("query",m)),F&&(w=w.append("resultThreshold",F)),this.http.get(`${this.actionUrl}/AllowedValues/${E}`,{headers:this.headers,params:w})}static{this.\u0275fac=function(m){return new(m||f)(g.KVO(n.Qq),g.KVO(S.m))}}static{this.\u0275prov=g.jDH({token:f,factory:f.\u0275fac})}}return f})()},8939:(qe,me,u)=>{"use strict";u.d(me,{R:()=>d});var n=u(983),e=u(6354),_=u(9437),g=u(8284),S=u(4438),v=u(526),f=u(5424);let d=(()=>{class E{constructor(F,w){this.claimTypeService=F,this.errorService=w}resolve(F,w){return this.claimTypeService.getClaimType(F.params.Id).pipe((0,e.T)(R=>(R&&this.claimTypeService.getCachedClaimType().next(R),R)),(0,_.W)((R,x)=>(404===R.status?this.errorService.resourceNotFound(g.v.claimType):this.errorService.handleError(R),(0,n.I)())))}static{this.\u0275fac=function(w){return new(w||E)(S.KVO(v.X),S.KVO(f.I))}}static{this.\u0275prov=S.jDH({token:E,factory:E.\u0275fac})}}return E})()},3577:(qe,me,u)=>{"use strict";u.d(me,{e:()=>_});var n=u(4412),e=u(4438);let _=(()=>{class g{constructor(){this.unsavedCache=new n.t(null),this.unsavedCache$=this.unsavedCache.asObservable(),this.savedCache=new n.t(null),this.savedCache$=this.savedCache.asObservable(),this.componentDirtyValidMap=new Map}onClientSave(){this.componentDirtyValidMap.clear()}static{this.\u0275fac=function(f){return new(f||g)}}static{this.\u0275prov=e.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})()},9113:(qe,me,u)=>{"use strict";u.d(me,{Hh:()=>v,SD:()=>S,qJ:()=>g});var n=u(4438),e=u(1626),_=u(9564);let g=(()=>{class d{constructor(m,F){this.http=m,this.headersService=F,this.actionUrl="clients/import"}validateImportFile(m){const C=this.headersService.setHeaders("application/vnd.adminui.import-clients-validation-v1+json","application/vnd.adminui.import-clients-validation-result-v1+json");return this.http.post(`${this.actionUrl}/validate`,m,{headers:C})}completeImport(m,F){const w=this.appendImportConfiguration(m,F),R=this.headersService.setHeaders("application/vnd.adminui.import-clients-v1+json");return this.http.post(`${this.actionUrl}`,w,{headers:R})}appendImportConfiguration(m,F){const w=JSON.parse(m);return w.importConfiguration={clients:F.clients,protectedResources:F.protectedResources},JSON.stringify(w)}static{this.\u0275fac=function(F){return new(F||d)(n.KVO(e.Qq),n.KVO(_.m))}}static{this.\u0275prov=n.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})();class S{}class v{constructor(){this.certificates=new f}}class f{}},8173:(qe,me,u)=>{"use strict";u.d(me,{q:()=>S});var n=u(6701),e=u(4491),_=u(4438),g=u(3577);let S=(()=>{class te{constructor(oe){this.cache=oe,this.defaultClientGrantTypeMap=new Map([[n.s.BrowserBased,e.$.AuthorizationCode],[n.s.ServerSidePKCE,e.$.AuthorizationCode],[n.s.ServerSide,e.$.Hybrid],[n.s.Native,e.$.Hybrid],[n.s.Machine,e.$.ClientCredentials],[n.s.CIBAMachine,e.$.CIBA],[n.s.Device,e.$.Device],[n.s.LegacyClientSide,e.$.Implicit]]),this.clientCacheSubscription=this.cache.unsavedCache$.subscribe(z=>{this.initClientViews(z)})}ngOnDestroy(){this.clientCacheSubscription.unsubscribe()}initClientViews(oe){this.resetTabs(),this.isStandardClientFormat(oe)||oe.clientType===n.s.Saml||oe.clientType===n.s.WsFed?this.initUsingClientType(oe.clientType):0!==oe.allowedGrantTypes.length?this.initUsingGrantTypes(oe.allowedGrantTypes):this.initDefaults()}resetTabs(){this.authRequest=new v,this.details=new f,this.applicationUrls=new d,this.secrets=new E,this.resources=new m,this.tokens=new L,this.claims=new w,this.refreshTokens=new U,this.identityProviders=new R,this.properties=new x,this.other=new O,this.deviceFlow=new M,this.singleSignOut=new V,this.consent=new G,this.saml=new ie,this.wsFed=new le,this.ciba=new F,this.dpop=new J}isStandardClientFormat(oe){if(oe.clientType===n.s.Unknown||oe.allowedGrantTypes.length>1)return!1;const z=this.defaultClientGrantTypeMap.get(oe.clientType);return oe.allowedGrantTypes[0]===z}initUsingClientType(oe){switch(oe){case n.s.BrowserBased:this.consent.display=!0,this.singleSignOut.display=!0,this.authRequest.display=!0,this.authRequest.pkce=!0,this.authRequest.par=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.applicationUrls.allowedCorsOrigins=!0,this.resources.allowedScopesIdentity=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.authorizationCodeLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0,this.dpop.display=!0;break;case n.s.ServerSide:case n.s.ServerSidePKCE:this.refreshTokens.display=!0,this.consent.display=!0,this.singleSignOut.display=!0,this.singleSignOut.backChannelLogoutSessionRequired=!0,this.singleSignOut.backChannelLogoutUri=!0,this.authRequest.display=!0,this.authRequest.pkce=!0,this.authRequest.par=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.resources.allowedScopesIdentity=!0,this.claims.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.authorizationCodeLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0;break;case n.s.Native:case n.s.NativePKCE:this.consent.display=!0,this.refreshTokens.display=!0,this.singleSignOut.display=!0,this.singleSignOut.backChannelLogoutSessionRequired=!0,this.singleSignOut.backChannelLogoutUri=!0,this.authRequest.display=!0,this.authRequest.pkce=!0,this.authRequest.par=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.resources.allowedScopesIdentity=!0,this.claims.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.authorizationCodeLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0,this.dpop.display=!0;break;case n.s.Machine:this.other.display=!0,this.authRequest.display=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.properties.display=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.dpop.display=!0;break;case n.s.CIBAMachine:this.other.display=!0,this.authRequest.display=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.resources.allowedScopesIdentity=!0,this.claims.display=!0,this.properties.display=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.ciba.display=!0,this.dpop.display=!0;break;case n.s.Device:this.consent.display=!0,this.authRequest.display=!0,this.refreshTokens.display=!0,this.deviceFlow.display=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.deviceFlow.display=!0,this.applicationUrls.display=!0,this.applicationUrls.allowedCorsOrigins=!0,this.secrets.display=!0,this.resources.allowedScopesIdentity=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0;break;case n.s.Saml:this.other.display=!0,this.other.userSSOLifetime=!0,this.tokens.display=!1,this.resources.allowedScopesIdentity=!0,this.identityProviders.display=!0,this.properties.display=!0,this.saml.display=!0;break;case n.s.WsFed:this.other.display=!0,this.other.userSSOLifetime=!0,this.tokens.display=!1,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.resources.allowedScopesIdentity=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.wsFed.display=!0;break;case n.s.LegacyClientSide:this.consent.display=!0,this.authRequest.display=!0,this.singleSignOut.display=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.applicationUrls.allowedCorsOrigins=!0,this.resources.allowedScopesIdentity=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.allowAccessTokensViaBrowser=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0}}initUsingGrantTypes(oe){this.saml.display=!1,this.wsFed.display=!1,oe.forEach(z=>{switch(z){case e.$.Implicit:this.consent.display=!0,this.singleSignOut.display=!0,this.authRequest.display=!0,this.authRequest.par=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.applicationUrls.allowedCorsOrigins=!0,this.resources.allowedScopesIdentity=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.allowAccessTokensViaBrowser=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0;break;case e.$.Hybrid:this.consent.display=!0,this.refreshTokens.display=!0,this.singleSignOut.display=!0,this.singleSignOut.backChannelLogoutSessionRequired=!0,this.singleSignOut.backChannelLogoutUri=!0,this.authRequest.display=!0,this.authRequest.pkce=!0,this.authRequest.par=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.resources.allowedScopesIdentity=!0,this.claims.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.allowAccessTokensViaBrowser=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.authorizationCodeLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0;break;case e.$.AuthorizationCode:this.consent.display=!0,this.refreshTokens.display=!0,this.singleSignOut.display=!0,this.singleSignOut.backChannelLogoutSessionRequired=!0,this.singleSignOut.backChannelLogoutUri=!0,this.authRequest.display=!0,this.authRequest.pkce=!0,this.authRequest.par=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.resources.allowedScopesIdentity=!0,this.claims.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.authorizationCodeLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0,this.dpop.display=!0;break;case e.$.ClientCredentials:this.other.display=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.authRequest.display=!0,this.properties.display=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.dpop.display=!0;break;case e.$.CIBA:this.other.display=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.authRequest.display=!0,this.properties.display=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.ciba.display=!0;break;case e.$.ResourceOwnerPassword:this.refreshTokens.display=!0,this.other.display=!0,this.secrets.display=!0,this.resources.allowedScopesIdentity=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.authRequest.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0;break;case e.$.Device:this.consent.display=!0,this.refreshTokens.display=!0,this.deviceFlow.display=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.allowedCorsOrigins=!0,this.secrets.display=!0,this.resources.allowedScopesIdentity=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.authRequest.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0;break;default:this.initDefaults()}})}initDefaults(){this.consent.display=!0,this.refreshTokens.display=!0,this.singleSignOut.display=!0,this.singleSignOut.backChannelLogoutUri=!0,this.singleSignOut.backChannelLogoutSessionRequired=!0,this.deviceFlow.display=!0,this.authRequest.display=!0,this.authRequest.pkce=!0,this.authRequest.par=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.applicationUrls.allowedCorsOrigins=!0,this.secrets.display=!0,this.resources.allowedScopesIdentity=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.allowAccessTokensViaBrowser=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.authorizationCodeLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0}static{this.\u0275fac=function(z){return new(z||te)(_.KVO(g.e))}}static{this.\u0275prov=_.jDH({token:te,factory:te.\u0275fac})}}return te})();class v{constructor(){this.display=!1,this.pkce=!1,this.par=!1}}class f{}class d{constructor(){this.display=!1,this.redirectUris=!1,this.postLogoutRedirectUris=!1,this.allowedCorsOrigins=!1}}class E{constructor(){this.display=!1}}class m{constructor(){this.allowedScopesIdentity=!1,this.allowedScopesAPI=!1}}class F{constructor(){this.display=!1}}class w{constructor(){this.display=!1}}class R{constructor(){this.display=!1}}class x{constructor(){this.display=!1}}class O{constructor(){this.display=!1,this.userSSOLifetime=!1}}class M{constructor(){this.display=!1}}class V{constructor(){this.display=!1,this.backChannelLogoutUri=!1,this.backChannelLogoutSessionRequired=!1}}class U{constructor(){this.display=!1}}class G{constructor(){this.display=!1}}class ie{constructor(){this.display=!1}}class le{constructor(){this.display=!1}}class L{constructor(){this.display=!0,this.allowAccessTokensViaBrowser=!1,this.identityTokenLifetime=!1,this.accessTokenLifetime=!1,this.authorizationCodeLifetime=!1,this.accessTokenType=!1,this.includeJwtId=!1,this.alwaysIncludeUserClaimsInIdToken=!1}}class J{constructor(){this.display=!1}}},9398:(qe,me,u)=>{"use strict";u.d(me,{_:()=>f});var n=u(1626),e=u(2771),_=u(7263),g=u(6701),S=u(4438),v=u(9564);let f=(()=>{class d{constructor(m,F){this.http=m,this.headersService=F,this.clientSubject=new e.m(1),this.actionUrl="clients",this.headers=F.setHeaders()}getClients(m,F,w){let C=new n.Nl;return(0,_.gP)(m)||(C=C.append("name",m)),F&&(C=C.append("page",F)),w&&(C=C.append("pageSize",w)),this.http.get(this.actionUrl,{headers:this.headers,params:C})}getClient(m){return this.http.get(`${this.actionUrl}/${m}`,{headers:this.headers})}getCachedClient(){return this.clientSubject}addClient(m){let F;switch(m.clientType){case g.s.Saml:F=this.headersService.setHeaders("application/vnd.adminui.new-saml-client-v1+json");break;case g.s.WsFed:F=this.headersService.setHeaders("application/vnd.adminui.new-wsfed-client-v1+json");break;default:F=this.headersService.setHeaders()}const w=`${this.actionUrl}/`,C=JSON.stringify(m);return this.http.post(w,C,{headers:F})}updateClient(m){return this.http.put(`${this.actionUrl}/${m.id}`,m,{headers:this.headers})}addClientSecret(m,F){return this.http.post(`${this.actionUrl}/${m}/secrets`,F,{headers:this.headers})}removeClientSecret(m,F){return this.http.delete(`${this.actionUrl}/${m}/secrets/${F.id}`,{headers:this.headers})}deleteClient(m){return this.http.delete(`${this.actionUrl}/${m}`,{headers:this.headers})}cloneClient(m,F){const w=`${this.actionUrl}/${m}/clone`,C=this.headersService.setHeaders("application/vnd.adminui.clone-client-v1+json");return this.http.post(w,F,{headers:C,observe:"response"})}static{this.\u0275fac=function(F){return new(F||d)(S.KVO(n.Qq),S.KVO(v.m))}}static{this.\u0275prov=S.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})()},9196:(qe,me,u)=>{"use strict";u.d(me,{w:()=>F});var n=u(1626),e=u(7673),_=u(1413),g=u(978);function v(w){return{...w,dynamicAuthenticationFlag:g.U[w.dynamicAuthenticationFlag]}}class E{constructor(){this.enableAuditing=!0}}var m=u(4438);let F=(()=>{class w{constructor(R){this.http=R,this.headers=new n.Lr,this.actionUrl="UIConfiguration"}getConfig(R=!1){const x=new E;if(x.resetPasswordConfigured=!1,x.targetIdentityServer4=!1,x.resetMfaConfigured=!1,x.policyPersistence=!1,x.webhookPersistence=!1,x.featureFlagOptions=new g.D,x.supportedLanguages=[],this.uiOptions&&!R)return(0,e.of)(this.uiOptions);const O=new _.B;return this.headers=this.headers.set("Content-Type","application/json").set("Accept","application/json").set("Access-Control-Allow-Origin","true"),this.http.get(this.actionUrl,{headers:this.headers}).subscribe({next:H=>{this.uiOptions=function d(w){return{...w,featureFlagOptions:v(w.featureFlagOptions)}}(H),O.next(this.uiOptions)},error:H=>O.next(x)}),O.asObservable()}static{this.\u0275fac=function(x){return new(x||w)(m.KVO(n.Qq))}}static{this.\u0275prov=m.jDH({token:w,factory:w.\u0275fac})}}return w})()},3384:(qe,me,u)=>{"use strict";u.d(me,{R:()=>E});var n=u(983),e=u(6354),_=u(9437),g=u(8284),S=u(4438),v=u(2036),f=u(6366),d=u(5424);let E=(()=>{class m{constructor(w,C,R){this.wsfedClientService=w,this.relyingPartyCache=C,this.errorService=R}resolve(w,C){const R=w.parent.paramMap.get("Id");if(!(this.relyingPartyCache.componentDirtyValidMap.size>0))return this.wsfedClientService.getRelyingParty(R).pipe((0,e.T)(x=>{const O=JSON.parse(JSON.stringify(x.claimMappings)),H=new Map;for(const M in O)O.hasOwnProperty(M)&&H.set(M,O[M]);return x.claimMappings=H,this.relyingPartyCache.unsavedCache.next(x),x}),(0,_.W)(x=>(404===x.status?this.errorService.resourceNotFound(g.v.relyingParty):this.errorService.handleError(x),(0,n.I)())));this.relyingPartyCache.unsavedCache$.subscribe(x=>x)}static{this.\u0275fac=function(C){return new(C||m)(S.KVO(v.c),S.KVO(f.z),S.KVO(d.I))}}static{this.\u0275prov=S.jDH({token:m,factory:m.\u0275fac})}}return m})()},1466:(qe,me,u)=>{"use strict";u.d(me,{z:()=>m});var n=u(983),e=u(6354),_=u(9437),g=u(8284),S=u(4438),v=u(9156),f=u(5691),d=u(1583),E=u(5424);let m=(()=>{class F{constructor(C,R,x,O){this.serviceProviderService=C,this.serviceproviderCache=R,this.router=x,this.errorSerivce=O}resolve(C,R){const x=C.parent.paramMap.get("Id");if(!(this.serviceproviderCache.componentDirtyValidMap.size>0))return this.serviceProviderService.getServiceProvider(x).pipe((0,e.T)(O=>{const H=JSON.parse(JSON.stringify(O.claimMappings)),M=new Map;for(const V in H)H.hasOwnProperty(V)&&M.set(V,H[V]);return O.claimMappings=M,this.serviceproviderCache.unsavedCache.next(O),this.serviceproviderCache.savedCache.next(O),O}),(0,_.W)((O,H)=>(404===O.status?this.errorSerivce.resourceNotFound(g.v.serviceProvider):this.errorSerivce.handleError(O),(0,n.I)())));this.serviceproviderCache.unsavedCache$.subscribe(O=>O)}static{this.\u0275fac=function(R){return new(R||F)(S.KVO(v.s),S.KVO(f.d),S.KVO(d.Ix),S.KVO(E.I))}}static{this.\u0275prov=S.jDH({token:F,factory:F.\u0275fac})}}return F})()},4442:(qe,me,u)=>{"use strict";u.d(me,{_:()=>v});var n=u(1594),e=u(4438),_=u(9156),g=u(5691),S=u(5424);let v=(()=>{class f{constructor(E,m,F){this.serviceProviderService=E,this.cache=m,this.errorService=F}uploadFile(E,m){return this.serviceProviderService.setEncryptionCertificateViaFile(E,m)}uploadViaMetaData(E,m){return this.serviceProviderService.setEncryptionCertificateViaMetadata(E,m)}updateCertCache(E){this.serviceProviderService.getServiceProvider(E).subscribe(m=>{this.cache.unsavedCache$.pipe((0,n.$)()).subscribe(F=>{F.encryptionCertificate=m.encryptionCertificate,this.cache.unsavedCache.next(F)})},m=>{this.errorService.handleError(m)})}static{this.\u0275fac=function(m){return new(m||f)(e.KVO(_.s),e.KVO(g.d),e.KVO(S.I))}}static{this.\u0275prov=e.jDH({token:f,factory:f.\u0275fac})}}return f})()},5424:(qe,me,u)=>{"use strict";u.d(me,{I:()=>E});var n=u(7263),e=u(8284),_=u(9957),g=u(4438),S=u(1583),v=u(7005),f=u(5794),d=u(1780);let E=(()=>{class m{constructor(w,C,R,x){this.router=w,this.localize=C,this.toast=R,this.translate=x}resourceNotFound(w){this.router.navigate([this.localize.translateRoute("/resourcenotfound/"+e.v[w])])}handleError(w,C,R){let x=_.I.NotHandled;const O=this.getDefaultNavigationPath(w);if(O)this.router.navigate([this.localize.translateRoute(O)]),x|=_.I.Navigate;else{const H=this.getOptionsToastBody(w,C)||this.getDefaultToastBody(w),M=this.getOptionsToastTitle(w,C)||this.getDefaultToastTitle(w);H&&M&&(R?this.toast.error(H,M,R):this.toast.error(H,M),x|=_.I.Toast)}return x}getOptionsToastBody(w,C){if(!C)return;const R="number"==typeof w.status&&C.statusToastOptions?C.statusToastOptions[w.status]:C;return R&&R.toastBody}getOptionsToastTitle(w,C){if(!C)return;const R="number"==typeof w.status&&C.statusToastOptions?C.statusToastOptions[w.status]:C;return R&&R.toastTitle}getDefaultNavigationPath(w){switch(w.status){case 401:return"/unauthorized";case 403:return"/forbidden";case 404:return"/404";default:return}}getDefaultToastTitle(w){switch(w.status){case 400:case 420:return"Bad Request";case 405:return"Method Not Allowed";default:return this.translate.instant("Notifications.Error")}}getDefaultToastBody(w){return 500===w.status?`${this.translate.instant("Notifications.SomethingWrong")}. ${this.translate.instant("Notifications.CheckLogs")}`:w.error&&w.error.errors&&w.error.errors.length>0?w.error.errors[0]:(0,n.gP)(w._body)&&(0,n.gP)(w.error)?`${this.translate.instant("Notifications.SomethingWrong")}. ${this.translate.instant("Notifications.CheckLogs")}`:(0,n.gP)(w.error)?w._body:w.error}static{this.\u0275fac=function(C){return new(C||m)(g.KVO(S.Ix),g.KVO(v.QG),g.KVO(f.tw),g.KVO(d.c$))}}static{this.\u0275prov=g.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})()},9686:(qe,me,u)=>{"use strict";u.d(me,{D:()=>g});class n{constructor(v){this.form=v}submitForm(){document.body.appendChild(this.form),this.form.submit(),document.body.removeChild(this.form)}}var e=u(4438),_=u(7883);let g=(()=>{class S{constructor(f){this.securityService=f}buildForm(f){const d=this.buildStandardForm(f);return new n(d)}buildStandardForm(f){const d=document.createElement("form");return d.setAttribute("method","post"),d.setAttribute("action",f),d}appendInput(f,d,E){const m=document.createElement("input");m.setAttribute("type","text"),m.setAttribute("name",f),m.setAttribute("value",d),E.appendChild(m)}buildFormWithCustomInputs(f,d){const E=this.buildStandardForm(f);return d.forEach((m,F)=>{this.appendInput(F,m,E)}),new n(E)}static{this.\u0275fac=function(d){return new(d||S)(e.KVO(_.i))}}static{this.\u0275prov=e.jDH({token:S,factory:S.\u0275fac})}}return S})()},1796:(qe,me,u)=>{"use strict";u.d(me,{S:()=>v});var n=u(1594),e=u(6354),_=u(4438),g=u(1583),S=u(9196);let v=(()=>{class f{constructor(E,m){this.router=E,this.config=m}canActivate(E,m){return this.config.getConfig().pipe((0,n.$)(),(0,e.T)(F=>!(null==F||null==F.enableAuditing||!F.enableAuditing)||this.router.parseUrl("/resourcenotfound/user")))}static{this.\u0275fac=function(m){return new(m||f)(_.KVO(g.Ix),_.KVO(S.w))}}static{this.\u0275prov=_.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}}return f})()},3218:(qe,me,u)=>{"use strict";u.d(me,{O:()=>v});var n=u(1594),e=u(6354),_=u(4438),g=u(1583),S=u(9196);let v=(()=>{class f{constructor(E,m){this.router=E,this.config=m}canActivate(E,m){return this.config.getConfig().pipe((0,n.$)(),(0,e.T)(F=>(F?.featureFlagOptions?.sessionManagementEnabled??!1)||this.router.parseUrl("/resourcenotfound/user")))}static{this.\u0275fac=function(m){return new(m||f)(_.KVO(g.Ix),_.KVO(S.w))}}static{this.\u0275prov=_.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}}return f})()},7380:(qe,me,u)=>{"use strict";u.d(me,{Q:()=>n});class n{constructor(_){this.router=_}redirectToView(_,g){const S=g.url.replace(`/${_.params.id}`,`/view/${_.params.id}`);this.router.navigate([S])}}},9564:(qe,me,u)=>{"use strict";u.d(me,{m:()=>_});var n=u(1626),e=u(4438);let _=(()=>{class g{setHeaders(v,f){return(new n.Lr).set("Content-Type",v||"application/json").set("Accept",f||"application/json").set("Access-Control-Allow-Origin","true").set("Cache-Control","no-cache").set("Pragma","no-cache").set("Expires","Sat, 01 Jan 2000 00:00:00 GMT")}static{this.\u0275fac=function(f){return new(f||g)}}static{this.\u0275prov=e.jDH({token:g,factory:g.\u0275fac})}}return g})()},6801:(qe,me,u)=>{"use strict";u.d(me,{M:()=>g});var n=u(2771),e=u(4438),_=u(1626);let g=(()=>{class S{constructor(f){this.http=f,this.idsReady=!1,this.idsHealthCheckComplete=new n.m(1),this.uiReady=!1,this.uiHealthCheckComplete=new n.m(1),this.actionUrl="healthcheck"}checkHealthIdentityServer(){return this.http.get(`${this.actionUrl}/checkidentityserver`)}checkHealthUi(){return this.http.get(`${this.actionUrl}/checkui`)}static{this.\u0275fac=function(d){return new(d||S)(e.KVO(_.Qq))}}static{this.\u0275prov=e.jDH({token:S,factory:S.\u0275fac})}}return S})()},8261:(qe,me,u)=>{"use strict";u.d(me,{A:()=>v});var n=u(1626),e=u(2771),_=u(7263),g=u(4438),S=u(9564);let v=(()=>{class f{constructor(E,m){this.http=E,this.headersService=m,this.identityResourceSubject=new e.m(1),this.actionUrl="IdentityResources",this.headers=m.setHeaders()}getCachedIdentityResource(){return this.identityResourceSubject}getIdentityResources(E){let m=new n.Nl;return(0,_.gP)(E)||(m=m.append("name",E)),this.http.get(this.actionUrl,{headers:this.headers,params:m})}addResource(E){const m=`${this.actionUrl}/`,F=JSON.stringify(E);return this.http.post(m,F,{headers:this.headers})}getResource(E){return this.http.get(`${this.actionUrl}/${E}`,{headers:this.headers})}updateResource(E){return this.http.put(`${this.actionUrl}/${E.id}`,E,{headers:this.headers})}deleteIdentityResource(E){return this.http.delete(`${this.actionUrl}/${E}`,{headers:this.headers})}static{this.\u0275fac=function(m){return new(m||f)(g.KVO(n.Qq),g.KVO(S.m))}}static{this.\u0275prov=g.jDH({token:f,factory:f.\u0275fac})}}return f})()},6193:(qe,me,u)=>{"use strict";u.d(me,{V:()=>H});var n=u(1413),e=u(2771),_=u(4414),g=u(1594),S=u(1744),v=u(7728),f=u(5696),d=u(4406),E=u(1138),m=u(785),F=u(7263),w=u(2858),C=u(7212),R=u(4438),x=u(5847),O=u(5826);let H=(()=>{class M{constructor(U,G){this.importWizardProvider=U,this.importWizardService=G,this.stepModified=!0,this.disableCloseButton=!1,this.stepsAhead=new Array,this.stepsCompleted=new Array,this.move=new n.B}setupInitialStep(){const U=this.importWizardProvider.getStep(_.M.clientSummary);this.stepsAhead.push(U)}goToNextStep(){const U=this.stepsAhead.pop();this.stepsCompleted.push(U),U.component===v.z&&U.data.includes(S.ot.Client)?this.createWizard().subscribe(()=>{this.move.next(!1)}):(U.component===E.u&&U.data.rememberSecretAction?this.stepsAhead=this.applyRememberDecision(U):U.component===w.zI&&U.data.rememberCertificateAction&&(this.stepsAhead=this.applyCertificateRememberDecision(U)),this.move.next(!1))}applyCertificateRememberDecision(U){const G=[];return this.stepsAhead.forEach(ie=>{ie.component!==w.zI||ie.data.existingHasCertificates!==U.data.existingHasCertificates||(U.data.certificateAction===w.AU.DoNotSet?ie.data.certificates=new C.D:U.data.certificateAction===w.AU.UseExisting&&(ie.data.certificates=new C.D,ie.data.useExistingCertificates=!0),G.push(ie),this.stepsCompleted.push(ie))}),this.stepsAhead.filter(ie=>!G.includes(ie))}applyRememberDecision(U){const G=[];return this.stepsAhead.forEach(ie=>{if(ie.component===E.u&&ie.data.resourceType===U.data.resourceType&&ie.data.existingHasSecrets===U.data.existingHasSecrets){if(U.data.secretsAction===E.r.DoNotSet)ie.data.secrets=[];else if(U.data.secretsAction===E.r.UseExistingSecret)ie.data.useExistingSecrets=!0;else if(U.data.secretsAction===E.r.Generate){const le=new m.z;le.value=(0,F.Nl)(),le.type="Shared Secret",le.description="",ie.data.secrets=[le]}G.push(ie),this.stepsCompleted.push(ie)}}),this.stepsAhead.filter(ie=>!G.includes(ie))}areStepsRemaning(){return this.stepsAhead.length>0}getCurrentStep(){return this.stepsAhead[this.stepsAhead.length-1]}goToPreviousStep(){if(0===this.stepsCompleted.length)return void this.insertAndOpenStep(_.M.importCloseWarning,!0);this.getCurrentStep().isDeadEnd&&this.stepsAhead.pop();const G=this.stepsCompleted[this.stepsCompleted.length-1];if(G.component===E.u)this.goToLastRememberedDecision(G.component,ie=>ie.data.rememberSecretAction);else if(G.component===w.zI)this.goToLastRememberedDecision(G.component,ie=>ie.data.rememberCertificateAction&&ie.data.existingHasCertificates===G.data.existingHasCertificates);else{const ie=this.stepsCompleted.pop();this.stepsAhead.push(ie)}this.move.next(!1)}goToLastRememberedDecision(U,G){const ie=this.stepsCompleted.filter(le=>le.component===U);if(ie.length>1){const le=ie.filter(G);if(le){const J=this.stepsCompleted.indexOf(le[le.length-1]),te=this.stepsCompleted.splice(J,this.stepsCompleted.length-1);this.stepsAhead=[...this.stepsAhead,...te.reverse()]}else{const L=this.stepsCompleted.pop();this.stepsAhead.push(L)}}else{const le=this.stepsCompleted.pop();this.stepsAhead.push(le)}}goToFinalSummary(){const U=this.stepsAhead.findIndex(ie=>ie.component===f.s),G=this.stepsAhead.splice(U+1);for(;G.length>0;){const ie=G.pop();this.stepsCompleted.push(ie)}this.move.next(!1)}goToSummaryStep(U){const G=this.stepsCompleted.findIndex(le=>le.component===v.z&&le.data.includes(U)),ie=this.stepsCompleted.splice(G);for(;ie.length>0;){const le=ie.pop();this.stepsAhead.push(le)}this.stepModified=!1,this.move.next(!1)}quit(){this.move.next(!0)}cancel(){const U=this.getCurrentStep();U.component===d.X?this.quit():U.isDeadEnd?this.goToPreviousStep():this.insertAndOpenStep(_.M.importCloseWarning)}clear(){this.stepsAhead=[],this.stepsCompleted=[],this.stepModified=!0}insertAndOpenStep(U,G){const ie=this.stepsAhead.pop();this.stepsCompleted.push(ie);const le=this.importWizardProvider.getStep(U);le.data=G,this.stepsAhead.push(le),this.move.next(!1)}reset(){this.clear(),this.setupInitialStep(),this.move.next(!1)}createWizard(){this.stepsAhead=[];const U=new e.m;return this.importWizardService.cache.pipe((0,g.$)()).subscribe(G=>{this.stepsAhead.push(this.importWizardProvider.getStep(_.M.importComplete)),this.showFinalSummary(G)&&this.stepsAhead.push(this.importWizardProvider.getStep(_.M.finalSummary));const ie=this.sortImportResources(G),le=[],L=[];for(let J=ie.length;J>0;J--){const te=ie[J-1];let I=!1;te.resourceType===S.ot.ProtectedResource&&te.dependantClients.forEach(oe=>{I=G.some(z=>z.identifier===oe.identifier&&z.resourceState!==S.jD.Duplicate)}),(te.selected||I)&&(te.existingHasSecrets&&le.push(this.importWizardProvider.getSecretStep(te)),te.hadSecrets&&!te.existingHasSecrets&&le.push(this.importWizardProvider.getSecretStep(te)),te.existingHasCertificates&&L.push(this.importWizardProvider.getCertificateStep(te)),te.hadCertificates&&!te.existingHasCertificates&&L.push(this.importWizardProvider.getCertificateStep(te)))}this.stepsAhead.push(...le),this.stepsAhead.push(...L),this.showClaimTypeSummary(G)&&this.stepsAhead.push(this.importWizardProvider.getStep(_.M.claimTypeSummary)),this.showResourceSummary(G)&&this.stepsAhead.push(this.importWizardProvider.getStep(_.M.resourcesSummary)),U.next()}),U}sortImportResources(U){U=(U=U.sort((ie,le)=>ie.displayName.toUpperCase().localeCompare(le.displayName.toUpperCase()))).sort((ie,le)=>+ie.conflictedByDependencies-+le.conflictedByDependencies);const G=[S.jD.Conflicted,S.jD.New,S.jD.Duplicate];return U.sort((ie,le)=>G.indexOf(ie.resourceState)-G.indexOf(le.resourceState))}showResourceSummary(U){const G=U.filter(le=>le.resourceType===S.ot.Client&&!0===le.selected).map(le=>le.identifier),ie=U.filter(le=>(le.resourceType===S.ot.IdentityResource||le.resourceType===S.ot.ProtectedResource)&&le.dependantClients.map(L=>L.identifier).some(L=>G.includes(L)));return ie.length>0&&ie.some(le=>le.resourceState===S.jD.Conflicted)}showClaimTypeSummary(U){const G=U.filter(le=>le.resourceType===S.ot.Client&&!0===le.selected).map(le=>le.identifier),ie=U.filter(le=>le.resourceType===S.ot.ClaimType&&le.dependantClients.map(L=>L.identifier).some(L=>G.includes(L)));return ie.length>0&&ie.some(le=>le.resourceState===S.jD.Conflicted)}showFinalSummary(U){return U.some(G=>G.resourceType!==S.ot.Client)}static{this.\u0275fac=function(G){return new(G||M)(R.KVO(x.a),R.KVO(O.o))}}static{this.\u0275prov=R.jDH({token:M,factory:M.\u0275fac})}}return M})()},5847:(qe,me,u)=>{"use strict";u.d(me,{a:()=>L});var n=u(1744),e=u(7728),_=u(5088),g=u(7629),S=u(6799),v=u(4438),f=u(5826),d=u(1780);let E=(()=>{class te extends S.P{set data(oe){null!==oe&&(this.resetOnClose=oe)}constructor(oe){super(),this.importWizardService=oe,this.isWarningModal=!0,this.resetOnClose=!1}yes(){this.resetOnClose?this.importWizardService.resetImport.next("Resetting Import"):this.quit()}no(){this.back()}static{this.\u0275fac=function(z){return new(z||te)(v.rXU(f.o))}}static{this.\u0275cmp=v.VBU({type:te,selectors:[["app-import-close-warning"]],features:[v.Vt3],decls:14,vars:12,consts:[[1,"modal-body","tw-text-center","scrollbars"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","stayBtn",1,"tw-btn-danger",3,"click"],["id","leaveBtn",1,"tw-btn-link","tw--mr-4",3,"click"]],template:function(z,_e){1&z&&(v.j41(0,"div",0)(1,"p"),v.EFF(2),v.nI1(3,"translate"),v.nI1(4,"translate"),v.k0s()(),v.j41(5,"div",1)(6,"div",2)(7,"div",3)(8,"button",4),v.bIt("click",function(){return _e.no()}),v.EFF(9),v.nI1(10,"translate"),v.k0s()(),v.j41(11,"button",5),v.bIt("click",function(){return _e.yes()}),v.EFF(12),v.nI1(13,"translate"),v.k0s()()()),2&z&&(v.R7$(2),v.Lme("",v.bMT(3,4,"Clients.Import.Wizard.Warning.Text1")," ",v.bMT(4,6,"Clients.Import.Wizard.Warning.Text2"),""),v.R7$(7),v.JRh(v.bMT(10,8,"Notifications.StayHere")),v.R7$(3),v.JRh(v.bMT(13,10,"Notifications.DiscardChanges")))},dependencies:[d.D9],encapsulation:2})}}return te})();var m=u(4414),F=u(590),w=u(177);function C(te,I){1&te&&(v.j41(0,"p"),v.EFF(1),v.nI1(2,"translate"),v.k0s()),2&te&&(v.R7$(),v.JRh(v.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.Confirmation.Resource")))}let R=(()=>{class te extends S.P{set data(oe){this.resource=oe,this.summaryDisplayType=F.n.getSummaryDisplayType(oe.resourceType)}constructor(oe){super(),this.importWizardService=oe,this.isWarningModal=!0}yes(){this.importWizardService.deselectResource(this.resource),this.reset()}no(){this.back()}static{this.\u0275fac=function(z){return new(z||te)(v.rXU(f.o))}}static{this.\u0275cmp=v.VBU({type:te,selectors:[["app-conflicts-confirmation"]],features:[v.Vt3],decls:14,vars:11,consts:[[1,"modal-body","tw-text-center"],[4,"ngIf"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","leaveBtn",1,"tw-btn-danger","tw--mr-4",3,"click"],["id","stayBtn",1,"tw-btn-link",3,"click"]],template:function(z,_e){1&z&&(v.j41(0,"div",0)(1,"p"),v.EFF(2),v.nI1(3,"translate"),v.k0s(),v.DNE(4,C,3,3,"p",1),v.k0s(),v.j41(5,"div",2)(6,"div",3)(7,"div",4)(8,"button",5),v.bIt("click",function(){return _e.no()}),v.EFF(9),v.nI1(10,"translate"),v.k0s()(),v.j41(11,"button",6),v.bIt("click",function(){return _e.yes()}),v.EFF(12),v.nI1(13,"translate"),v.k0s()()()),2&z&&(v.R7$(2),v.Lme("",v.bMT(3,5,"Clients.Import.Wizard.Summary.Conflicts.Confirmation.AreYouSure")," ",null==_e.resource?null:_e.resource.displayName,""),v.R7$(2),v.Y8G("ngIf","Client"!==_e.summaryDisplayType),v.R7$(5),v.JRh(v.bMT(10,7,"Clients.Import.Wizard.Warning.No")),v.R7$(3),v.JRh(v.bMT(13,9,"Clients.Import.Wizard.Warning.Yes")))},dependencies:[w.bT,d.D9],encapsulation:2})}}return te})();var x=u(5696),O=u(1138),H=u(4406),M=u(2858),V=u(467),U=u(5404);const G=["certReader"],ie=["nextButton"];let le=(()=>{class te extends S.P{get data(){return this._subject}set data(oe){this._subject=oe}constructor(oe){super(),this.translate=oe}certificateDataLoaded(oe){this.nextButton.nativeElement.disabled=!oe}goNext(){var oe=this;return(0,V.A)(function*(){const z=yield oe.certReaderComponent.getCertificateModel();oe.data.next(z),oe.importWizardController.goToPreviousStep()})()}static{this.\u0275fac=function(z){return new(z||te)(v.rXU(d.c$))}}static{this.\u0275cmp=v.VBU({type:te,selectors:[["app-import-certificate-picker"]],viewQuery:function(z,_e){if(1&z&&(v.GBs(G,5),v.GBs(ie,5)),2&z){let Pe;v.mGM(Pe=v.lsd())&&(_e.certReaderComponent=Pe.first),v.mGM(Pe=v.lsd())&&(_e.nextButton=Pe.first)}},features:[v.Vt3],decls:21,vars:21,consts:[["certReader",""],["nextButton",""],[1,"modal-body"],[3,"dataExists","uploadCert","uploadCertHelp","certMetaData","certMetaDataHelp"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","nextBtn","disabled","",1,"tw-btn-success","tw-mr-3",3,"click"],["id","backBtn",1,"tw-btn",3,"click"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"]],template:function(z,_e){if(1&z){const Pe=v.RV6();v.j41(0,"div",2)(1,"app-cert-reader",3,0),v.nI1(3,"translate"),v.nI1(4,"translate"),v.nI1(5,"translate"),v.nI1(6,"translate"),v.bIt("dataExists",function(ke){return v.eBV(Pe),v.Njj(_e.certificateDataLoaded(ke))}),v.k0s()(),v.nrm(7,"div",4),v.j41(8,"div",5)(9,"div",6)(10,"div",7)(11,"button",8,1),v.bIt("click",function(){return v.eBV(Pe),v.Njj(_e.goNext())}),v.EFF(13),v.nI1(14,"translate"),v.k0s(),v.j41(15,"button",9),v.bIt("click",function(){return v.eBV(Pe),v.Njj(_e.back())}),v.EFF(16),v.nI1(17,"translate"),v.k0s()(),v.j41(18,"button",10),v.bIt("click",function(){return v.eBV(Pe),v.Njj(_e.cancel())}),v.EFF(19),v.nI1(20,"translate"),v.k0s()()()}2&z&&(v.R7$(),v.Y8G("uploadCert",v.bMT(3,7,"Clients.Saml.UploadCert"))("uploadCertHelp",v.bMT(4,9,"Clients.Saml.UploadCertHelp"))("certMetaData",v.bMT(5,11,"Clients.Saml.ServiceProviderSigningCert"))("certMetaDataHelp",v.bMT(6,13,"Clients.Saml.ServiceProviderSigningCertHelp")),v.R7$(12),v.SpI(" ",v.bMT(14,15,"Common.Add")," "),v.R7$(3),v.SpI(" ",v.bMT(17,17,"Common.Back")," "),v.R7$(3),v.SpI(" ",v.bMT(20,19,"Common.Cancel")," "))},dependencies:[U.V,d.D9],encapsulation:2})}}return te})(),L=(()=>{class te{constructor(){this.stepMap=new Map,this.stepMap.set(m.M.clientSummary,new J(e.z,"Clients.Import.Wizard.Summary.Title.Client",[n.ot.Client])),this.stepMap.set(m.M.resourcesSummary,new J(e.z,"Clients.Import.Wizard.Summary.Title.Resource",[n.ot.IdentityResource,n.ot.ProtectedResource])),this.stepMap.set(m.M.claimTypeSummary,new J(e.z,"Clients.Import.Wizard.Summary.Title.ClaimType",[n.ot.ClaimType])),this.stepMap.set(m.M.summaryConflicts,new J(g.oG,"Clients.Import.Wizard.Summary.Conflicts.ReviewChanges",null,!0)),this.stepMap.set(m.M.importComplete,new J(_.E,"Clients.Import.Wizard.CompleteImport.ImportComplete")),this.stepMap.set(m.M.importCloseWarning,new J(E,"Clients.Import.Wizard.Warning.Title",null,!0)),this.stepMap.set(m.M.summaryConflictsConfirmation,new J(R,"Clients.Import.Wizard.Warning.Title",null,!0)),this.stepMap.set(m.M.finalSummary,new J(x.s,"Clients.Import.Wizard.Summary.Title.Final")),this.stepMap.set(m.M.importDownloadWarning,new J(H.X,"Clients.Import.Wizard.CompleteImport.DownloadSecrets")),this.stepMap.set(m.M.importUploadCertificate,new J(le,"Clients.Import.Wizard.Certificates.AddCertificate",null,!0))}getStep(oe){return this.stepMap.get(oe)}getSecretStep(oe){return new J(O.u,"Clients.Import.Wizard.Secrets.Title",oe)}getCertificateStep(oe){return new J(M.zI,"Clients.Import.Wizard.Certificates.Title",oe)}static{this.\u0275fac=function(z){return new(z||te)}}static{this.\u0275prov=v.jDH({token:te,factory:te.\u0275fac})}}return te})();class J{constructor(I,oe,z,_e=!1){this.component=I,this.stepTitle=oe,this.data=z,this.isDeadEnd=_e}}},5826:(qe,me,u)=>{"use strict";u.d(me,{o:()=>S});var n=u(1744),e=u(2771),_=u(1594),g=u(4438);let S=(()=>{class v{constructor(){this.importResourceTypeMap=new Map([[n.ot.Client,"Client"],[n.ot.ClaimType,"Claim Type"],[n.ot.ProtectedResource,"Protected Resource"],[n.ot.IdentityResource,"Identity Resource"]]),this.cache=new e.m(1),this.resetImport=new e.m(1)}updateSelectedClients(d){this.cache.pipe((0,_.$)()).subscribe(E=>{d=d.filter(m=>m.resourceType===n.ot.Client),E.forEach(m=>{const F=d.find(w=>w.identifier===m.identifier);void 0!==F&&(m.selected=F.selected)}),this.cache.next(E)})}selectResource(d){this.setResourcesSelected(d,!0)}deselectResource(d){this.setResourcesSelected(d,!1)}setResourcesSelected(d,E){this.cache.pipe((0,_.$)()).subscribe(m=>{let F;F=d.resourceType===n.ot.Client?[d.identifier]:d.dependantClients.filter(C=>C.state===n.XF.Importing).map(C=>C.identifier),F.forEach(w=>{m.find(C=>C.identifier===w&&C.resourceType===n.ot.Client).selected=E}),this.cache.next(m)})}downloadClientSecretsFromCache(){const d=new e.m;return this.cache.pipe((0,_.$)()).subscribe(E=>{const m=E.filter(R=>R.secrets&&R.secrets.length>0);let F="Type,Id,Name,Secret\r\n";m.forEach(R=>{R.secrets.forEach(x=>{const O=this.importResourceTypeMap.get(R.resourceType);F+=O+","+R.identifier+","+R.displayName+","+x.value+"\r\n"})});const w=new Blob([F],{type:"application/csv"}),C=document.createElement("a");C.download="import-secrets.csv",C.href=window.URL.createObjectURL(w),C.click(),C.remove(),d.next()}),d}static{this.\u0275fac=function(E){return new(E||v)}}static{this.\u0275prov=g.jDH({token:v,factory:v.\u0275fac})}}return v})()},4414:(qe,me,u)=>{"use strict";u.d(me,{M:()=>n});let n=(()=>{class e{static{this.importUploadCertificate="CertificateUpload"}static{this.clientSummary="ClientSummary"}static{this.resourcesSummary="ResourcesSummary"}static{this.summaryConflicts="SummaryConflicts"}static{this.claimTypeSummary="ClaimTypeSummary"}static{this.importComplete="ImportComplete"}static{this.importCloseWarning="ImportCloseWarning"}static{this.summaryConflictsConfirmation="SummaryConflictsConfirmation"}static{this.finalSummary="FinalSummary"}static{this.importDownloadWarning="ImportDownloadWarning"}}return e})()},3853:(qe,me,u)=>{"use strict";u.d(me,{X:()=>d});var n=u(1626),e=u(4589);class g{constructor(){}isExpectingStarterConsent(){return this.isExpired&&this.licenseType==e.G.Demo}isStarterLicense(){return this.licenseType==e.G.Starter}get userLimitReached(){return this.userQuotaRemaining<=0&&this.isStarterLicense()}get overUserLimit(){return this.userQuotaRemaining<0&&this.isStarterLicense()}get clientLimitReached(){return this.clientQuotaRemaining<=0&&this.isStarterLicense()}get overClientLimit(){return this.clientQuotaRemaining<0&&this.isStarterLicense()}}var S=u(1594),v=u(6354),f=u(4438);let d=(()=>{class E{constructor(F){this.http=F,this.headers=new n.Lr,this.actionUrl="license"}getLicenseInfo(){return this.headers=this.headers.set("Content-Type","application/json").set("Accept","application/json").set("Access-Control-Allow-Origin","true"),this.http.get(this.actionUrl,{headers:this.headers}).pipe((0,S.$)(),(0,v.T)(F=>{var w=new g;return w.organisation=F.organisation,w.licenseType=F.licenseType,w.isExpired=F.isExpired,w.isInGracePeriod=F.isInGracePeriod,w.gracePeriodExpiry=F.gracePeriodExpiry,w.maxUsers=F.maxUsers,w.maxClients=F.maxClients,w.userQuotaRemaining=F.userQuotaRemaining,w.clientQuotaRemaining=F.clientQuotaRemaining,w}))}static{this.\u0275fac=function(w){return new(w||E)(f.KVO(n.Qq))}}static{this.\u0275prov=f.jDH({token:E,factory:E.\u0275fac})}}return E})()},7773:(qe,me,u)=>{"use strict";u.d(me,{n:()=>_});var n=u(1626),e=u(4438);let _=(()=>{class g{constructor(v){this.http=v,this.headers=new n.Lr,this.actionUrl="permission",this.headers=this.headers.set("Content-Type","application/json").set("Accept","application/json").set("Access-Control-Allow-Origin","true")}getUserPermissions(){return this.http.get(this.actionUrl,{headers:this.headers})}getAvaliablePermissions(){return this.http.get(this.actionUrl+"/avaliable",{headers:this.headers})}static{this.\u0275fac=function(f){return new(f||g)(e.KVO(n.Qq))}}static{this.\u0275prov=e.jDH({token:g,factory:g.\u0275fac})}}return g})()},5893:(qe,me,u)=>{"use strict";u.d(me,{P:()=>d,x:()=>f});var n=u(1626),e=u(2771),_=u(7673),g=u(7263),S=u(4438),v=u(9564);let f=(()=>{class E{constructor(F,w){this.http=F,this.headersService=w,this.protectedResourceSubject=new e.m(1),this.actionUrl="ProtectedResources",this.headers=w.setHeaders()}getCachedProtectedResource(){return this.protectedResourceSubject}getProtectedResources(F){let w=new n.Nl;return(0,g.gP)(F)||(w=w.set("name",F)),this.http.get(this.actionUrl,{headers:this.headers,params:w})}getResourcesPaginated(F,w,C){const R=`${this.actionUrl}/getPaginated`;let x=new n.Nl;return(0,g.gP)(F)||(x=x.set("name",F)),w&&(x=x.append("page",w)),C&&(x=x.append("pageSize",C)),this.http.get(R,{headers:this.headers,params:x})}addResource(F){const w=`${this.actionUrl}/`,C=JSON.stringify(F);return this.http.post(w,C,{headers:this.headers})}getResource(F){return this.http.get(`${this.actionUrl}/${F}`,{headers:this.headers})}updateResource(F){return this.http.put(`${this.actionUrl}/${F.id}`,F,{headers:this.headers})}updateResourceSecret(F,w){return this.http.put(`${this.actionUrl}/${F}/secrets/${w.id}`,w,{headers:this.headers})}removeResourceSecret(F,w){return this.http.delete(`${this.actionUrl}/${F}/secrets/${w}`,{headers:this.headers})}addResourceSecret(F,w){return this.http.post(`${this.actionUrl}/${F}/secrets`,w,{headers:this.headers})}updateResourceScope(F,w,C){const R=encodeURIComponent(C);return this.http.put(`${this.actionUrl}/${F}/scopes/${R}`,w,{headers:this.headers})}addResourceScope(F,w){return this.http.post(`${this.actionUrl}/${F}/scopes`,w,{headers:this.headers})}deleteProtectedResource(F){return this.http.delete(`${this.actionUrl}/${F}`,{headers:this.headers})}deleteScope(F,w){const C=encodeURIComponent(w);return this.http.delete(`${this.actionUrl}/${F}/scopes/${C}`,{headers:this.headers})}getAllScopes(){return this.http.get(`${this.actionUrl}/scopes`,{headers:this.headers})}static{this.\u0275fac=function(w){return new(w||E)(S.KVO(n.Qq),S.KVO(v.m))}}static{this.\u0275prov=S.jDH({token:E,factory:E.\u0275fac})}}return E})(),d=(()=>{class E extends f{getProtectedResources(F){return(0,_.of)([])}static{this.\u0275fac=(()=>{let F;return function(C){return(F||(F=S.xGo(E)))(C||E)}})()}static{this.\u0275prov=S.jDH({token:E,factory:E.\u0275fac})}}return E})()},6199:(qe,me,u)=>{"use strict";u.d(me,{v:()=>E});var n=u(983),e=u(6354),_=u(9437),g=u(8284),S=u(4438),v=u(3519),f=u(1583),d=u(5424);let E=(()=>{class m{constructor(w,C,R){this.roleService=w,this.router=C,this.errorService=R}resolve(w,C){const R=w.paramMap.get("Id");return this.roleService.getRole(R).pipe((0,e.T)(x=>(x&&this.roleService.getCachedRole().next(x),x)),(0,_.W)((x,O)=>(404===x.status?this.errorService.resourceNotFound(g.v.role):this.errorService.handleError(x),(0,n.I)())))}static{this.\u0275fac=function(C){return new(C||m)(S.KVO(v.P),S.KVO(f.Ix),S.KVO(d.I))}}static{this.\u0275prov=S.jDH({token:m,factory:m.\u0275fac})}}return m})()},3519:(qe,me,u)=>{"use strict";u.d(me,{P:()=>v});var n=u(1626),e=u(2771),_=u(7263),g=u(4438),S=u(9564);let v=(()=>{class f{constructor(E,m){this.http=E,this.RoleSubject=new e.m(1),this.actionUrl="roles",this.headers=m.setHeaders()}getCachedRole(){return this.RoleSubject}setCachedRole(E){this.RoleSubject.next(E)}getRoles(E,m){let F=new n.Nl;return(0,_.gP)(E)||(F=F.append("name",E)),F=F.append("sort",(0,_.gP)(m)?"name":m),this.http.get(this.actionUrl,{headers:this.headers,params:F})}getRole(E){return this.http.get(`${this.actionUrl}/${E}`,{headers:this.headers})}deleteRole(E){return this.http.delete(`${this.actionUrl}/${E.id}`,{headers:this.headers})}addRole(E){const m=`${this.actionUrl}/`,F=JSON.stringify(E);return this.http.post(m,F,{headers:this.headers})}updateRole(E){const m=JSON.stringify(E);return this.http.put(`${this.actionUrl}/${E.id}`,m,{headers:this.headers})}getUsersInRole(E,m,F,w){let C=new n.Nl;return(0,_.gP)(w)||(C=C.append("q",w)),m&&(C=C.append("page",String(m))),F&&(C=C.append("pageSize",String(F))),this.http.get(`${this.actionUrl}/${E}/users`,{headers:this.headers,params:C})}addAndRemoveUsers(E,m){const F=JSON.stringify(m);return this.http.put(`${this.actionUrl}/${E}/users`,F,{headers:this.headers})}static{this.\u0275fac=function(m){return new(m||f)(g.KVO(n.Qq),g.KVO(S.m))}}static{this.\u0275prov=g.jDH({token:f,factory:f.\u0275fac})}}return f})()},2892:(qe,me,u)=>{"use strict";u.d(me,{h:()=>O});var n=u(7673),e=u(5060),_=u(1413),g=u(5558),S=u(4861),v=u(4438),f=u(7883),d=u(6801),E=u(1339),m=u(7005),F=u(5424),w=u(6888),C=u(1583),R=u(9196),x=u(2972);let O=(()=>{class H{constructor(V,U,G,ie,le,L,J,te,I){this.securityService=V,this.healthCheckService=U,this.authService=G,this.localizeRouter=ie,this.errorService=le,this.loginTrackingService=L,this.router=J,this.configService=te,this.appComponentViewService=I}canActivate(V,U){return this.healthCheckService.uiReady?this.authDecision(V,U):this.healthCheckService.uiHealthCheckComplete.pipe((0,g.n)(G=>this.authDecision(V,U)))}authDecision(V,U){return document.dispatchEvent(new Event("appready")),this.authService.isAuthenticated?(this.authService.user==S.M.DefaultAdministratorUsername&&!this.authService.isCreatingInitialAdministrator&&this.configService.getConfig().subscribe(G=>{if(G.featureFlagOptions.defaultUserValidation){this.authService.isCreatingInitialAdministrator=!0;const ie=this.localizeRouter.translateRoute("/initial-admin-creation");this.router.navigate([ie])}}),void 0!==this.securityService.userPermissions?(0,n.of)(this.permissionAuthDecision(V)):this.permissionAuthDecisionAsObservable(V)):(this.securityService.startLogin(U.url),e.t)}permissionAuthDecision(V){const U=V.data.permissions;if(void 0===U)return!0;for(let G=0;G<U.length;G++)if(this.securityService.userPermissions.includes(U[G]))return!0;return this.errorService.handleError({status:403}),!1}permissionAuthDecisionAsObservable(V){const U=new _.B;return this.securityService.init().subscribe(()=>{U.next(this.permissionAuthDecision(V))}),U.asObservable()}static{this.\u0275fac=function(U){return new(U||H)(v.KVO(f.i),v.KVO(d.M),v.KVO(E.u),v.KVO(m.QG),v.KVO(F.I),v.KVO(w.W),v.KVO(C.Ix),v.KVO(R.w),v.KVO(x.X))}}static{this.\u0275prov=v.jDH({token:H,factory:H.\u0275fac})}}return H})()},7883:(qe,me,u)=>{"use strict";u.d(me,{i:()=>U});var n=u(1413);class e extends n.B{constructor(){super(...arguments),this._value=null,this._hasValue=!1,this._isComplete=!1}_checkFinalizedStatuses(ie){const{hasError:le,_hasValue:L,_value:J,thrownError:te,isStopped:I,_isComplete:oe}=this;le?ie.error(te):(I||oe)&&(L&&ie.next(J),ie.complete())}next(ie){this.isStopped||(this._value=ie,this._hasValue=!0)}complete(){const{_hasValue:ie,_value:le,_isComplete:L}=this;L||(this._isComplete=!0,ie&&super.next(le),super.complete())}}var _=u(7468),g=u(3178),S=u(6354),v=u(6697),f=u(7263),d=u(9838),E=u(4589),m=u(4438),F=u(1583),w=u(7005),C=u(9196),R=u(1339),x=u(7773),O=u(3853),H=u(5424),M=u(6888),V=u(1780);let U=(()=>{class G{constructor(le,L,J,te,I,oe,z,_e,Pe){this.router=le,this.localize=L,this.configService=J,this.authService=te,this.permissionService=I,this.licenseService=oe,this.errorService=z,this.loginTrackingService=_e,this.translate=Pe,this.userPermissions$=new e,this.userManagerView=!1,this.userManagerReadOnlyView=!1,this.identityServerManagerView=!1,this.identityServerManagerReadOnlyView=!1,this.allReadOnlyView=!1,this.allView=!1,this.auditerView=!1,this.noPermissions=!1,this.licenseType="",this.organisation="",this.nonProduction=!1,this.storage=sessionStorage}startLogin(le){let J=le??this.router.url;J=J.replace(`/${this.localize.parser.currentLang}`,""),this.storage.setItem("redirectUrl",J),this.loginTrackingService.startLogin(),this.authService.login()}onAuthorizationResultComplete(le){if(le.isAuthenticated){let L=this.storage.getItem("redirectUrl");null==L&&(L="/home");const J=this.localize.translateRoute(L);this.handleSuccessfulAuthorization(J)}else this.handleUnsuccessfulAuthorization(le.username)}handleSuccessfulAuthorization(le){this.init().subscribe(()=>{this.loginTrackingService.endLogin(),this.storage.removeItem("redirectUrl"),this.router.navigateByUrl(le)},L=>{this.loginTrackingService.canRetryLogin?(this.loginTrackingService.retryLogin(),this.authService.login()):this.errorService.handleError(L,{toastBody:this.translate.instant("Errors.LoginLoopError",{link:d.$9.loginRedirectLoopDocs}),toastTitle:this.translate.instant("Notifications.Error")},{timeOut:0,extendedTimeOut:0,enableHtml:!0})})}handleUnsuccessfulAuthorization(le){if((0,f.gP)(le))return void(this.loginTrackingService.canRetryLogin?(this.loginTrackingService.retryLogin(),this.authService.login()):this.errorService.handleError({},{toastBody:this.translate.instant("Errors.LoginLoopError",{link:d.$9.loginRedirectLoopDocs}),toastTitle:this.translate.instant("Notifications.Error")},{timeOut:0,extendedTimeOut:0,enableHtml:!0}));const L=this.localize.translateRoute("/unauthorized");this.router.navigateByUrl(L)}isNonProd(){return this.licenseType===E.G.Demo||this.licenseType===E.G.NonProduction}init(){const le=[this.initUsersPermissions(),this.initLicenseInfo(),this.initUiConfiguration()];return(0,_.p)(le)}initUsersPermissions(){return this.permissionService.getUserPermissions().pipe((0,S.T)(le=>{this.userPermissions=le.permissions,this.policyClaims=le.policyClaims,void 0!==this.userPermissions&&(this.userPermissions.includes(g.a[g.a.All])?(this.userManagerView=!0,this.userManagerReadOnlyView=!1,this.identityServerManagerView=!0,this.identityServerManagerReadOnlyView=!1,this.allReadOnlyView=!1,this.auditerView=!0,this.allView=!0):this.userPermissions.includes(g.a[g.a.AllReadOnly])?(this.userManagerView=!1,this.userManagerReadOnlyView=!0,this.identityServerManagerView=!1,this.identityServerManagerReadOnlyView=!0,this.allReadOnlyView=!0,this.auditerView=!0,this.allView=!1):(this.userManagerView=this.userPermissions.includes(g.a[g.a.UserManager]),this.userManagerReadOnlyView=this.userPermissions.includes(g.a[g.a.UserManagerReadOnly]),this.identityServerManagerView=this.userPermissions.includes(g.a[g.a.IdentityServerManager]),this.identityServerManagerReadOnlyView=this.userPermissions.includes(g.a[g.a.IdentityServerManagerReadOnly]),this.auditerView=this.userPermissions.includes(g.a[g.a.Auditer]),this.userManagerView||this.userManagerReadOnlyView||this.identityServerManagerView||this.identityServerManagerReadOnlyView||this.auditerView||this.allView||this.allReadOnlyView||(this.noPermissions=!0))),this.userPermissions$.next(le.permissions),this.userPermissions$.complete()},le=>{this.errorService.handleError(le)}))}initLicenseInfo(){return this.licenseService.getLicenseInfo().pipe((0,S.T)(le=>{this.licenseType=le.licenseType,"NonProduction"===this.licenseType&&(this.licenseType=E.G.NonProduction),le.isStarterLicense()&&(this.licenseType=E.G.Starter),this.nonProduction=le.licenseType!==E.G.Production,this.organisation=le.organisation}))}initUiConfiguration(){return this.configService.getConfig().pipe((0,v.s)(1))}static{this.\u0275fac=function(L){return new(L||G)(m.KVO(F.Ix),m.KVO(w.QG),m.KVO(C.w),m.KVO(R.u),m.KVO(x.n),m.KVO(O.X),m.KVO(H.I),m.KVO(M.W),m.KVO(V.c$))}}static{this.\u0275prov=m.jDH({token:G,factory:G.\u0275fac})}}return G})()},9156:(qe,me,u)=>{"use strict";u.d(me,{s:()=>S});var n=u(2771),e=u(4438),_=u(1626),g=u(9564);let S=(()=>{class v{constructor(d,E){this.http=d,this.headersService=E,this.ServiceProviderSubject=new n.m(1),this.actionUrl="clients",this.headers=E.setHeaders()}getCachedServiceProvider(){return this.ServiceProviderSubject}getServiceProvider(d){return this.http.get(`${this.actionUrl}/${d}/saml`,{headers:this.headers})}updateServiceProvider(d,E){const m=`${this.actionUrl}/${d}/saml`,F={allowIdpInitiatedSso:E.allowIdpInitiatedSso,assertionConsumerServices:E.assertionConsumerServices,artifactResolutionServices:E.artifactResolutionServices,claimMappings:E.claimMappings,encryptAssertions:E.encryptAssertions,requireSamlMessageDestination:E.requireSamlMessageDestination,signAssertions:E.signAssertions,singleLogoutServices:E.singleLogoutServices,requireAuthenticationRequestsSigned:E.requireAuthenticationRequestsSigned,artifactDeliveryBindingType:E.artifactDeliveryBindingType,requireSignedArtifactResolveRequests:E.requireSignedArtifactResolveRequests,requireSignedArtifactResponses:E.requireSignedArtifactResponses,nameIdentifierFormat:E.nameIdentifierFormat},w=this.headersService.setHeaders("application/vnd.adminui.sam-client-update-v2+json","application/vnd.adminui.saml-client-v2+json");return this.http.put(m,F,{headers:w})}setEncryptionCertificateViaFile(d,E){const m=`${this.actionUrl}/${d}/saml/certificates/encryption`,F=E,w=this.headersService.setHeaders("application/x-x509-ca-cert");return this.http.put(m,F,{headers:w})}setEncryptionCertificateViaMetadata(d,E){const m=`${this.actionUrl}/${d}/saml/certificates/encryption`,F=E,w=this.headersService.setHeaders("application/x-x509-ca-cert-base64");return this.http.put(m,F,{headers:w})}deleteEncryptionCertificate(d){return this.http.delete(`${this.actionUrl}/${d}/saml/certificates/encryption`,{headers:this.headers})}addSigningCertificateViaFile(d,E){const m=`${this.actionUrl}/${d}/saml/certificates/signing`,F=E,w=this.headersService.setHeaders("application/x-x509-ca-cert");return this.http.post(m,F,{headers:w})}addSigningCertificateViaMetadata(d,E){const m=`${this.actionUrl}/${d}/saml/certificates/signing`,F=E,w=this.headersService.setHeaders("application/x-x509-ca-cert-base64");return this.http.post(m,F,{headers:w})}deleteSigningCertificate(d,E){return this.http.delete(`${this.actionUrl}/${d}/saml/certificates/signing/${E}`,{headers:this.headers})}static{this.\u0275fac=function(E){return new(E||v)(e.KVO(_.Qq),e.KVO(g.m))}}static{this.\u0275prov=e.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})()},8556:(qe,me,u)=>{"use strict";u.d(me,{S:()=>v});var n=u(1594),e=u(4438),_=u(9156),g=u(5691),S=u(5424);let v=(()=>{class f{constructor(E,m,F){this.serviceProviderService=E,this.cache=m,this.errorService=F}uploadFile(E,m){return this.serviceProviderService.addSigningCertificateViaFile(E,m)}uploadViaMetaData(E,m){return this.serviceProviderService.addSigningCertificateViaMetadata(E,m)}updateCertCache(E){this.serviceProviderService.getServiceProvider(E).subscribe(m=>{this.cache.unsavedCache$.pipe((0,n.$)()).subscribe(F=>{F.signingCertificates=m.signingCertificates,this.cache.unsavedCache.next(F)})},m=>{this.errorService.handleError(m)})}static{this.\u0275fac=function(m){return new(m||f)(e.KVO(_.s),e.KVO(g.d),e.KVO(S.I))}}static{this.\u0275prov=e.jDH({token:f,factory:f.\u0275fac})}}return f})()},3488:(qe,me,u)=>{"use strict";u.d(me,{F:()=>_});var n=u(4549),e=u(4438);let _=(()=>{class g{now(){return n.c9.now()}static{this.\u0275fac=function(f){return new(f||g)}}static{this.\u0275prov=e.jDH({token:g,factory:g.\u0275fac})}}return g})()},1575:(qe,me,u)=>{"use strict";u.d(me,{v:()=>_});var n=u(4549),e=u(4438);let _=(()=>{class g{now(){return n.c9.now()}static{this.\u0275fac=function(f){return new(f||g)}}static{this.\u0275prov=e.jDH({token:g,factory:g.\u0275fac})}}return g})()},4811:(qe,me,u)=>{"use strict";u.d(me,{M:()=>d});var n=u(983),e=u(6354),_=u(9437),g=u(8284),S=u(4438),v=u(5602),f=u(5424);let d=(()=>{class E{constructor(F,w){this.userService=F,this.errorService=w}resolve(F,w){return this.userService.getUser(F.params.Id).pipe((0,e.T)(R=>(R&&this.userService.getCachedUser().next(R),R)),(0,_.W)((R,x)=>(404===R.status?this.errorService.resourceNotFound(g.v.user):this.errorService.handleError(R),(0,n.I)())))}static{this.\u0275fac=function(w){return new(w||E)(S.KVO(v.D),S.KVO(f.I))}}static{this.\u0275prov=S.jDH({token:E,factory:E.\u0275fac})}}return E})()},5602:(qe,me,u)=>{"use strict";u.d(me,{D:()=>E});var n=u(1626),e=u(2771),_=u(7673),g=u(6354),S=u(9437),v=u(7263),f=u(4438),d=u(9564);let E=(()=>{class m{constructor(w,C){this.http=w,this.headersService=C,this.userSubject=new e.m(1),this.actionUrl="users",this.headers=this.headersService.setHeaders()}defaultUserExists(){return this.http.get(`${this.actionUrl}/default-user-exists`,{headers:this.headers}).pipe((0,g.T)(()=>!0),(0,S.W)(C=>(0,_.of)(!1)))}getUser(w){return this.http.get(`${this.actionUrl}/${w}`,{headers:this.headers}).pipe((0,g.T)(R=>(this.userSubject.next(R),R),R=>(this.userSubject.error(R),R)))}getCachedUser(){return this.userSubject}getUsers(w,C,R,x,O){let H=new n.Nl;return(0,v.gP)(w)||(H=H.append("q",w)),C&&(H=H.append("page",String(C))),R&&(H=H.append("pageSize",String(R))),x&&(H=H.append("state",x.toString())),O&&(H=H.append("sort",O.toString())),this.http.get(this.actionUrl,{headers:this.headers,params:H})}getUsersLightweight(w,C,R,x,O){let H=new n.Nl;return(0,v.gP)(w)||(H=H.append("q",w)),C&&(H=H.append("page",String(C))),R&&(H=H.append("pageSize",String(R))),x&&(H=H.append("state",x.toString())),O&&(H=H.append("advancedFilters",O.toString())),this.http.get(`${this.actionUrl}/lightweight`,{headers:this.headers,params:H})}addUser(w){const C=`${this.actionUrl}/`,R=JSON.stringify(w);return this.http.post(C,R,{headers:this.headers,observe:"response"})}addInitialAdministrator(w){const C=`${this.actionUrl}/initialadmin`,R=JSON.stringify(w);return this.http.post(C,R,{headers:this.headers,observe:"response"})}getUserApps(w){return this.http.get(`${this.actionUrl}/${w}/apps`,{headers:this.headers})}revokeAllUserApps(w){return this.http.delete(`${this.actionUrl}/${w}/apps`,{headers:this.headers})}revokeSingleUserApp(w,C){return this.http.delete(`${this.actionUrl}/${w}/apps/${C}`,{headers:this.headers})}updateUser(w){const C=`${this.actionUrl}/${w.subject}`,R=JSON.stringify(w);return this.http.put(C,R,{headers:this.headers})}deleteUser(w){return this.http.delete(`${this.actionUrl}/${w.subject}`,{headers:this.headers})}deleteDefaultUser(){return this.http.delete(`${this.actionUrl}/removedefaultuser`,{headers:this.headers})}addUserRoles(w,C){return this.http.post(`${this.actionUrl}/${w}/roles`,C,{headers:this.headers})}deleteUserRoles(w,C){return this.http.request("delete",`${this.actionUrl}/${w}/roles`,{headers:this.headers,body:C})}addUserClaim(w,C){return this.http.post(`${this.actionUrl}/${w}/claims`,C,{headers:this.headers})}updateUserClaim(w,C){return this.http.put(`${this.actionUrl}/${w}/claims`,C,{headers:this.headers})}deleteUserClaim(w,C){return this.http.request("delete",`${this.actionUrl}/${w}/claims`,{headers:this.headers,body:C})}resetPassword(w){return this.http.get(`${this.actionUrl}/${w}/password/reset`,{headers:this.headers})}resetMfa(w){return this.http.get(`${this.actionUrl}/${w}/mfa/reset`,{headers:this.headers})}getUserLogins(w){return this.http.get(`${this.actionUrl}/${w}/logins`,{headers:this.headers})}revokeUserLogin(w,C){return this.http.request("delete",`${this.actionUrl}/${w}/logins`,{headers:this.headers,body:C})}getLightweightUsersAndIfInRole(w,C,R,x,O){let H=new n.Nl;C&&(H=H.append("state",C.toString()));const M=`${this.actionUrl}/lightweight/isinrole/${w}`;return(0,v.gP)(R)||(H=H.append("searchTerm",R)),x&&(H=H.append("page",String(x))),O&&(H=H.append("pageSize",String(O))),this.http.get(M,{headers:this.headers,params:H})}static{this.\u0275fac=function(C){return new(C||m)(f.KVO(n.Qq),f.KVO(d.m))}}static{this.\u0275prov=f.jDH({token:m,factory:m.\u0275fac})}}return m})()},3431:(qe,me,u)=>{"use strict";u.d(me,{x:()=>S}),u(7756);var e=u(4438),_=u(1626),g=u(9564);let S=(()=>{class f{constructor(E,m){this.http=E,this.headersService=m,this.actionUrl="webhookconfiguration",this.headers=this.headersService.setHeaders()}getWebhooks(){return this.http.get(this.actionUrl,{headers:this.headers})}saveWebhookConfiguration(E){const m=JSON.stringify(E);return this.http.put(this.actionUrl,m,{headers:this.headers})}static{this.\u0275fac=function(m){return new(m||f)(e.KVO(_.Qq),e.KVO(g.m))}}static{this.\u0275prov=e.jDH({token:f,factory:f.\u0275fac})}}return f})()},2036:(qe,me,u)=>{"use strict";u.d(me,{c:()=>g});var n=u(4438),e=u(1626),_=u(9564);let g=(()=>{class S{constructor(f,d){this.http=f,this.headersService=d,this.actionUrl="clients"}getRelyingParty(f){const d=`${this.actionUrl}/${f}/wsfed`,E=this.headersService.setHeaders();return this.http.get(d,{headers:E})}updateRelyingParty(f,d){const E=`${this.actionUrl}/${f}/wsfed`,m=this.headersService.setHeaders("application/vnd.adminui.wsfed-relying-party-v1+json");return this.http.put(E,d,{headers:m})}static{this.\u0275fac=function(d){return new(d||S)(n.KVO(e.Qq),n.KVO(_.m))}}static{this.\u0275prov=n.jDH({token:S,factory:S.\u0275fac})}}return S})()},5435:(qe,me,u)=>{"use strict";u.d(me,{if:()=>E});var n=u(1413),e=u(152),_=u(3294),g=u(5964),S=u(6354);class E{constructor(F,w,C){this.toastr=F,this.translate=w,this.canSearchEmptyString=C,this.searchTerm="",this.searchTermStream=new n.B,this.enterKeyStream=new n.B,this.searchSource=this.searchTermStream.pipe((0,e.B)(600),(0,_.F)(),(0,g.p)(R=>this.filterSearchTerm(R)),(0,S.T)(R=>this.mapSearchTerm(R))),this.enterKeySource=this.enterKeyStream.pipe((0,e.B)(600),(0,g.p)(()=>this.filterSearchTerm(this.searchTerm)),(0,S.T)(()=>this.mapSearchTerm(this.searchTerm)))}filterSearchTerm(F){return this.canSearchEmptyString?F.length<50&&1!==F.length:!(F.length<2||F.length>50)&&""!==F.trim()}search(F){"Enter"===F.key?1===this.searchTerm.length?this.toastr.warning(this.translate.instant("Users.MinimumSearchLength"),this.translate.instant("Notifications.Sorry")):this.enterKeyStream.next():1!==this.searchTerm.length&&this.searchTermStream.next(this.searchTerm)}}},7294:(qe,me,u)=>{"use strict";u.d(me,{n:()=>g});var n=u(4438);const e=[[["","left",""]],[["","right",""]]],_=["[left]","[right]"];let g=(()=>{class S{static{this.\u0275fac=function(d){return new(d||S)}}static{this.\u0275cmp=n.VBU({type:S,selectors:[["app-action-bar"]],ngContentSelectors:_,decls:4,vars:0,consts:[[1,"tw-flex","tw-items-center","tw-bg-grey-100","tw-py-4","tw-sticky","tw-top-0","tw-z-20"],[1,"tw-shrink-0","tw-ml-auto"]],template:function(d,E){1&d&&(n.NAR(e),n.j41(0,"div",0),n.SdG(1),n.j41(2,"div",1),n.SdG(3,1),n.k0s()())},encapsulation:2})}}return S})()},4193:(qe,me,u)=>{"use strict";u.d(me,{c:()=>v});var n=u(177),e=u(1583),_=u(1683),g=u(1780),S=u(4438);let v=(()=>{class f{static{this.\u0275fac=function(m){return new(m||f)}}static{this.\u0275mod=S.$C({type:f})}static{this.\u0275inj=S.G2t({imports:[n.MD,e.iI,_.Y,g.h]})}}return f})()},9767:(qe,me,u)=>{"use strict";u.d(me,{Ws:()=>e,l1:()=>_});var n=u(9969);function e(){return(0,n.hZ)("fadeInOut",[(0,n.kY)(":enter",[(0,n.iF)({opacity:0}),(0,n.i0)("250ms",(0,n.iF)({opacity:1}))]),(0,n.kY)(":leave",[(0,n.iF)({opacity:1}),(0,n.i0)("250ms",(0,n.iF)({opacity:0}))])])}function _(){return(0,n.hZ)("initLoad",[(0,n.kY)(":enter",[(0,n.iF)({opacity:0}),(0,n.i0)("250ms",(0,n.iF)({opacity:1}))]),(0,n.kY)(":leave",[(0,n.iF)({opacity:1}),(0,n.i0)("250ms",(0,n.iF)({opacity:0}))])])}},7415:(qe,me,u)=>{"use strict";u.d(me,{P:()=>m});var n=u(9417),e=u(2571),_=u(534),g=u(3816),S=u(1780),v=u(8389),f=u(6843),d=u(177),E=u(4438);let m=(()=>{class F{static{this.\u0275fac=function(R){return new(R||F)}}static{this.\u0275mod=E.$C({type:F})}static{this.\u0275inj=E.G2t({imports:[d.MD,e.A,n.X1,g.jr,S.h,_.Ss,v.w,f.l]})}}return F})()},9861:(qe,me,u)=>{"use strict";u.d(me,{k:()=>tn});var n=u(9417),e=u(9172),_=u(1397),g=u(4549),S=u(1413),v=u(7263);class f{constructor(Ot,ve,ae,$){this.auditAction=Ot||"",this.subject=ve||"",this.resourceName=ae||"",this.source=$||""}}class d{constructor(Ot){this.auditAction=Ot.auditSearch.auditAction,this.subject=Ot.auditSearch.subject,this.resourceName=Ot.auditSearch.resourceName,this.source=Ot.auditSearch.source,this.fromDate=Ot.fromDate.toString(),this.toDate=Ot.toDate.toString(),this.page=Ot.page,this.pageSize=Ot.pageSize,this.sortCriteria=Ot.sortCriteria,this.success=Ot.success,this.bySubject=Ot.bySubject}}class E{constructor(Ot,ve,ae,$,se,Ue,Ze,dt){this.auditSearch=Ot,this.fromDate=ve,this.toDate=ae,this.page=$,this.pageSize=se,this.sortCriteria=Ue,this.success=Ze,this.bySubject=dt}}var m=u(4438),F=u(2734),w=u(7005),C=u(1583),R=u(7883),x=u(9686),O=u(1575),H=u(177),M=u(534),V=u(7156),U=u(7294),G=u(7384),ie=u(6536),le=u(1780),L=u(1589);function J(it,Ot){1&it&&(m.j41(0,"span",65),m.EFF(1),m.nI1(2,"translate"),m.k0s()),2&it&&(m.R7$(),m.SpI(" ",m.bMT(2,1,"Auditing.FromDateWarning")," "))}function te(it,Ot){1&it&&(m.j41(0,"span",66),m.EFF(1),m.nI1(2,"translate"),m.k0s()),2&it&&(m.R7$(),m.SpI(" ",m.bMT(2,1,"Auditing.ToDateBehindWarning")," "))}function I(it,Ot){if(1&it){const ve=m.RV6();m.j41(0,"div",10)(1,"p",53),m.EFF(2),m.nI1(3,"translate"),m.k0s(),m.j41(4,"ul",19)(5,"li")(6,"button",67),m.bIt("click",function(){m.eBV(ve);const $=m.XpG();return m.Njj($.setActorOrResource(!0))}),m.EFF(7),m.nI1(8,"translate"),m.k0s()(),m.j41(9,"li")(10,"button",68),m.bIt("click",function(){m.eBV(ve);const $=m.XpG();return m.Njj($.setActorOrResource(!1))}),m.EFF(11),m.nI1(12,"translate"),m.k0s()()()()}if(2&it){const ve=m.XpG();m.R7$(2),m.JRh(m.bMT(3,7,"Auditing.ByFilter")),m.R7$(4),m.AVh("tw-btn-link",!ve.getBySubjectFilterState),m.R7$(),m.SpI(" ",m.bMT(8,9,"Auditing.BySubject")," "),m.R7$(3),m.AVh("tw-btn-link",ve.getBySubjectFilterState),m.R7$(),m.SpI(" ",m.bMT(12,11,"Auditing.ByResource")," ")}}function oe(it,Ot){if(1&it){const ve=m.RV6();m.j41(0,"li",72)(1,"button",73),m.bIt("click",function(){m.eBV(ve);const $=m.XpG(2);return m.Njj($.removeFilter("source"))}),m.j41(2,"b",74),m.EFF(3),m.nI1(4,"translate"),m.k0s(),m.j41(5,"span"),m.EFF(6),m.k0s(),m.nrm(7,"span",75),m.k0s()()}if(2&it){const ve=m.XpG(2);m.R7$(3),m.SpI("",m.bMT(4,2,"Auditing.Source"),":"),m.R7$(3),m.JRh(ve.filterForm.get("auditSearch").get("source").value)}}function z(it,Ot){if(1&it){const ve=m.RV6();m.j41(0,"li",72)(1,"button",76),m.bIt("click",function(){m.eBV(ve);const $=m.XpG(2);return m.Njj($.removeFilter("subject"))}),m.j41(2,"b",74),m.EFF(3),m.nI1(4,"translate"),m.k0s(),m.j41(5,"span"),m.EFF(6),m.k0s(),m.nrm(7,"span",75),m.k0s()()}if(2&it){const ve=m.XpG(2);m.R7$(3),m.SpI("",m.bMT(4,2,"Auditing.Subject"),":"),m.R7$(3),m.JRh(ve.filterForm.get("auditSearch").get("subject").value)}}function _e(it,Ot){if(1&it){const ve=m.RV6();m.j41(0,"li",72)(1,"button",76),m.bIt("click",function(){m.eBV(ve);const $=m.XpG(2);return m.Njj($.removeFilter("auditAction"))}),m.j41(2,"b",74),m.EFF(3),m.nI1(4,"translate"),m.k0s(),m.j41(5,"span"),m.EFF(6),m.k0s(),m.nrm(7,"span",75),m.k0s()()}if(2&it){const ve=m.XpG(2);m.R7$(3),m.SpI("",m.bMT(4,2,"Auditing.Action"),":"),m.R7$(3),m.JRh(ve.filterForm.get("auditSearch").get("auditAction").value)}}function Pe(it,Ot){if(1&it){const ve=m.RV6();m.j41(0,"li",72)(1,"button",76),m.bIt("click",function(){m.eBV(ve);const $=m.XpG(2);return m.Njj($.removeFilter("resourceName"))}),m.j41(2,"b",74),m.EFF(3),m.nI1(4,"translate"),m.k0s(),m.j41(5,"span"),m.EFF(6),m.k0s(),m.nrm(7,"span",75),m.k0s()()}if(2&it){const ve=m.XpG(2);m.R7$(3),m.SpI("",m.bMT(4,2,"Auditing.Resource"),":"),m.R7$(3),m.JRh(ve.filterForm.get("auditSearch").get("resourceName").value)}}function Re(it,Ot){if(1&it&&(m.j41(0,"div",69)(1,"p",51),m.EFF(2),m.nI1(3,"translate"),m.k0s(),m.j41(4,"ul",70),m.DNE(5,oe,8,4,"li",71)(6,z,8,4,"li",71)(7,_e,8,4,"li",71)(8,Pe,8,4,"li",71),m.k0s()()),2&it){const ve=m.XpG();m.R7$(2),m.JRh(m.bMT(3,5,"Auditing.ActiveFilters")),m.R7$(3),m.Y8G("ngIf",ve.filterForm.get("auditSearch").get("source").value),m.R7$(),m.Y8G("ngIf",ve.filterForm.get("auditSearch").get("subject").value),m.R7$(),m.Y8G("ngIf",ve.filterForm.get("auditSearch").get("auditAction").value),m.R7$(),m.Y8G("ngIf",ve.filterForm.get("auditSearch").get("resourceName").value)}}function ke(it,Ot){1&it&&(m.j41(0,"span"),m.nrm(1,"span",77),m.EFF(2),m.nI1(3,"translate"),m.k0s()),2&it&&(m.R7$(2),m.SpI(" ",m.bMT(3,1,"Auditing.ShowFilters")," "))}function Je(it,Ot){1&it&&(m.j41(0,"span"),m.nrm(1,"span",78),m.EFF(2),m.nI1(3,"translate"),m.k0s()),2&it&&(m.R7$(2),m.SpI(" ",m.bMT(3,1,"Auditing.HideFilters")," "))}function Te(it,Ot){1&it&&(m.j41(0,"option",79),m.EFF(1),m.nI1(2,"translate"),m.k0s()),2&it&&(m.R7$(),m.SpI(" ",m.bMT(2,1,"Auditing.Subject"),""))}function we(it,Ot){1&it&&(m.j41(0,"option",80),m.EFF(1),m.nI1(2,"translate"),m.k0s()),2&it&&(m.R7$(),m.SpI(" ",m.bMT(2,1,"Auditing.Resource"),""))}function de(it,Ot){1&it&&(m.j41(0,"p",81),m.nrm(1,"span",82),m.EFF(2),m.nI1(3,"translate"),m.k0s()),2&it&&(m.R7$(2),m.SpI(" ",m.bMT(3,1,"Auditing.UpdateWarning")," "))}function Ve(it,Ot){1&it&&(m.j41(0,"span",87)(1,"span",51),m.EFF(2),m.nI1(3,"translate"),m.k0s()()),2&it&&(m.R7$(2),m.JRh(m.bMT(3,1,"Common.Loading")))}function Ae(it,Ot){if(1&it){const ve=m.RV6();m.j41(0,"app-action-bar"),m.qex(1,83),m.DNE(2,Ve,4,3,"span",84),m.j41(3,"button",85),m.nI1(4,"translate"),m.bIt("click",function(){m.eBV(ve);const $=m.XpG();return m.Njj($.getCSV())}),m.j41(5,"span"),m.nrm(6,"span",86),m.k0s(),m.j41(7,"span",51),m.EFF(8),m.nI1(9,"translate"),m.k0s()(),m.bVm(),m.k0s()}if(2&it){const ve=m.XpG();m.R7$(2),m.Y8G("ngIf",ve.loadingCSV),m.R7$(),m.Y8G("tooltip",m.bMT(4,4,"Auditing.DownloadResults"))("disabled",(null==ve.pagedResult?null:ve.pagedResult.results.length)<1&&!ve.isLoading||ve.loadingCSV),m.R7$(5),m.JRh(m.bMT(9,6,"Auditing.DownloadResults"))}}function rt(it,Ot){1&it&&m.nrm(0,"app-simple-loader")}function Be(it,Ot){1&it&&(m.j41(0,"div",88)(1,"div"),m.EFF(2),m.nI1(3,"translate"),m.k0s()()),2&it&&(m.R7$(2),m.JRh(m.bMT(3,1,"Auditing.NoAuditsFound")))}function ht(it,Ot){1&it&&(m.j41(0,"th",101),m.EFF(1),m.nI1(2,"translate"),m.k0s()),2&it&&(m.R7$(),m.SpI(" ",m.bMT(2,1,"Auditing.Subject")," "))}function Ye(it,Ot){1&it&&(m.j41(0,"th",102),m.EFF(1),m.nI1(2,"translate"),m.k0s()),2&it&&(m.R7$(),m.SpI(" ",m.bMT(2,1,"Auditing.Resource")," "))}function Yt(it,Ot){if(1&it&&(m.j41(0,"span"),m.EFF(1),m.k0s()),2&it){const ve=m.XpG(2).$implicit;m.R7$(),m.JRh(ve.subject.name)}}function Ut(it,Ot){if(1&it){const ve=m.RV6();m.j41(0,"span")(1,"a",115),m.bIt("click",function(){m.eBV(ve);const $=m.XpG(2).$implicit,se=m.XpG(2);return m.Njj(!!se.resourceNavigate($.subject))}),m.EFF(2),m.k0s()()}if(2&it){const ve=m.XpG(2).$implicit,ae=m.XpG(2);m.R7$(),m.FS9("href",ae.buildLink(ve.subject),m.B4B),m.R7$(),m.SpI(" ",ve.subject.name," ")}}function Tt(it,Ot){if(1&it&&(m.j41(0,"td",114),m.DNE(1,Yt,2,1,"span",35)(2,Ut,3,2,"span",35),m.k0s()),2&it){const ve=m.XpG().$implicit,ae=m.XpG(2);m.R7$(),m.Y8G("ngIf",""==ae.buildLink(ve.subject)),m.R7$(),m.Y8G("ngIf",""!=ae.buildLink(ve.subject))}}function _t(it,Ot){if(1&it&&(m.j41(0,"span"),m.EFF(1),m.k0s()),2&it){const ve=m.XpG(2).$implicit;m.R7$(),m.SpI(" ",ve.resource.name," ")}}function X(it,Ot){if(1&it&&(m.j41(0,"span"),m.EFF(1),m.k0s()),2&it){const ve=m.XpG(3).$implicit;m.R7$(),m.JRh(ve.resource.identifier)}}function Y(it,Ot){if(1&it&&(m.j41(0,"span"),m.EFF(1),m.k0s()),2&it){const ve=m.XpG(3).$implicit;m.R7$(),m.JRh(ve.resource.name)}}function ee(it,Ot){if(1&it){const ve=m.RV6();m.j41(0,"span")(1,"a",115),m.bIt("click",function(){m.eBV(ve);const $=m.XpG(2).$implicit,se=m.XpG(2);return m.Njj(!!se.resourceNavigate($.resource))}),m.DNE(2,X,2,1,"span",35)(3,Y,2,1,"span",35),m.k0s()()}if(2&it){const ve=m.XpG(2).$implicit,ae=m.XpG(2);m.R7$(),m.FS9("href",ae.buildLink(ve.resource),m.B4B),m.R7$(),m.Y8G("ngIf",""==ve.name),m.R7$(),m.Y8G("ngIf",""!=ve.name)}}function Se(it,Ot){if(1&it&&(m.j41(0,"td",116),m.DNE(1,_t,2,1,"span",35)(2,ee,4,3,"span",35),m.k0s()),2&it){const ve=m.XpG().$implicit,ae=m.XpG(2);m.R7$(),m.Y8G("ngIf","*"==ve.resource.name||""==ae.buildLink(ve.resource)),m.R7$(),m.Y8G("ngIf","*"!=ve.resource.name&&""!=ae.buildLink(ve.resource))}}function Ee(it,Ot){1&it&&(m.j41(0,"span",117)(1,"span",51),m.EFF(2),m.nI1(3,"translate"),m.k0s()()),2&it&&(m.R7$(2),m.JRh(m.bMT(3,1,"Common.Yes")))}function at(it,Ot){1&it&&(m.j41(0,"span",118)(1,"span",51),m.EFF(2),m.nI1(3,"translate"),m.k0s()()),2&it&&(m.R7$(2),m.JRh(m.bMT(3,1,"Common.No")))}function je(it,Ot){1&it&&m.nrm(0,"span",125)}function ot(it,Ot){1&it&&m.nrm(0,"span",126)}function Ft(it,Ot){if(1&it&&(m.j41(0,"tr",119),m.nrm(1,"td"),m.j41(2,"td",120)(3,"div",121)(4,"span",122),m.DNE(5,je,1,0,"span",123)(6,ot,1,0,"span",124),m.k0s(),m.j41(7,"span"),m.EFF(8),m.k0s()()()()),2&it){const ve=m.XpG().$implicit;m.R7$(5),m.Y8G("ngIf",ve.succeeded),m.R7$(),m.Y8G("ngIf",!ve.succeeded),m.R7$(2),m.JRh(ve.description)}}function ft(it,Ot){if(1&it){const ve=m.RV6();m.qex(0,null,4),m.j41(2,"tr")(3,"td",103)(4,"button",104),m.bIt("click",function(){m.eBV(ve);const $=m.sdS(1);return m.Njj($.isOpen=!$.isOpen)}),m.nrm(5,"span",105),m.j41(6,"span",51),m.EFF(7),m.nI1(8,"translate"),m.k0s()()(),m.j41(9,"td"),m.EFF(10),m.nI1(11,"standardDateTime"),m.nrm(12,"div"),m.k0s(),m.j41(13,"td",106),m.EFF(14),m.k0s(),m.DNE(15,Tt,3,2,"td",107)(16,Se,3,2,"td",108),m.j41(17,"td",109),m.EFF(18),m.k0s(),m.j41(19,"td",110),m.DNE(20,Ee,4,3,"span",111)(21,at,4,3,"span",112),m.k0s()(),m.DNE(22,Ft,9,3,"tr",113),m.bVm()}if(2&it){const ve=Ot.$implicit,ae=m.sdS(1),$=m.XpG(2);m.R7$(5),m.AVh("fa-caret-right",!ae.isOpen),m.R7$(2),m.SpI(" ",m.bMT(8,11,"Auditing.ToggleDetails")," "),m.R7$(3),m.SpI(" ",m.bMT(11,13,ve.when)," "),m.R7$(4),m.SpI(" ",ve.source," "),m.R7$(),m.Y8G("ngIf",!$.resourceBySubject),m.R7$(),m.Y8G("ngIf",!$.resourceByResource),m.R7$(2),m.SpI(" ",ve.action," "),m.R7$(2),m.Y8G("ngIf",ve.succeeded),m.R7$(),m.Y8G("ngIf",!ve.succeeded),m.R7$(),m.Y8G("ngIf",ae.isOpen)}}function nt(it,Ot){if(1&it){const ve=m.RV6();m.j41(0,"table",89)(1,"thead")(2,"tr")(3,"th",90)(4,"span",51),m.EFF(5),m.nI1(6,"translate"),m.k0s()(),m.j41(7,"th",91),m.bIt("click",function(){m.eBV(ve);const $=m.XpG();return m.Njj($.sortResults())}),m.j41(8,"span",92),m.EFF(9),m.nI1(10,"translate"),m.k0s(),m.nrm(11,"span",93),m.k0s(),m.j41(12,"th",94),m.EFF(13),m.nI1(14,"translate"),m.k0s(),m.DNE(15,ht,3,3,"th",95)(16,Ye,3,3,"th",96),m.j41(17,"th",97),m.EFF(18),m.nI1(19,"translate"),m.k0s(),m.j41(20,"th",98),m.EFF(21),m.nI1(22,"translate"),m.k0s()()(),m.j41(23,"tbody",99),m.DNE(24,ft,23,15,"ng-container",100),m.k0s()()}if(2&it){const ve=m.XpG();m.R7$(5),m.JRh(m.bMT(6,10,"Common.Actions")),m.R7$(4),m.JRh(m.bMT(10,12,"Auditing.When")),m.R7$(2),m.AVh("fa-caret-up","when"==ve.filterSort),m.R7$(2),m.JRh(m.bMT(14,14,"Auditing.Source")),m.R7$(2),m.Y8G("ngIf",!ve.resourceBySubject),m.R7$(),m.Y8G("ngIf",!ve.resourceByResource),m.R7$(2),m.JRh(m.bMT(19,16,"Auditing.Action")),m.R7$(3),m.SpI(" ",m.bMT(22,18,"Notifications.Success")," "),m.R7$(3),m.Y8G("ngForOf",ve.pagedResult.results)}}function Wt(it,Ot){if(1&it){const ve=m.RV6();m.j41(0,"app-pager",127),m.bIt("onGoToPage",function($){m.eBV(ve);const se=m.XpG();return m.Njj(se.goToPage($))}),m.k0s()}if(2&it){const ve=m.XpG();m.Y8G("totalResults",null==ve.pagedResult?null:ve.pagedResult.totalCount)("currentPage",ve.filterForm.get("page").value)("lastPage",null==ve.pagedResult?null:ve.pagedResult.pageCount)}}let tn=(()=>{class it{get getBySubjectFilterState(){return JSON.parse(this.filterForm.value.bySubject)}get resourceOnly(){return!(0,v.gP)(this.resourceName)}get resourceBySubject(){return this.resourceOnly&&this.getBySubjectFilterState}get resourceByResource(){return this.resourceOnly&&!this.getBySubjectFilterState}constructor(ve,ae,$,se,Ue,Ze,dt,Pt){this.auditingService=ve,this.localizeRouter=ae,this.router=$,this.fb=se,this.activatedRoute=Ue,this.securityService=Ze,this.fileDownloader=dt,this.timeService=Pt,this.sortAsc="when",this.sortDesc="-when",this.isLoading=!1,this.loadingCSV=!1,this.showAddFilter=!1,this.filterHasChanged=!1,this.auditStream=new S.B}userManagerReadOnly(){return(0,v.zG)(this.securityService.userPermissions)}identityServerManagerReadOnly(){return(0,v.ci)(this.securityService.userPermissions)}ngOnInit(){this.setupFilterForm(this.activatedRoute.snapshot.queryParams),this.auditStream.pipe((0,e.Z)({auditSearch:this.filterForm.value.auditSearch,toDate:this.filterForm.value.toDate,fromDate:this.filterForm.value.fromDate,page:this.filterForm.value.page,pageSize:this.filterForm.value.pageSize,sortCriteria:this.filterForm.value.sortCriteria,success:this.filterForm.value.success,bySubject:this.filterForm.value.bySubject}),(0,_.Z)(ae=>(this.isLoading=!0,this.resourceOnly?this.auditingService.getResourceAudits(this.resourceName,ae.bySubject,ae.auditSearch,ae.toDate.toString(),ae.fromDate.toString(),ae.page,ae.pageSize,ae.sortCriteria,ae.success):this.auditingService.getAudits(ae.auditSearch,ae.toDate.toString(),ae.fromDate.toString(),ae.page,ae.pageSize,ae.sortCriteria,ae.success)))).subscribe(ae=>{this.isLoading=!1,this.pagedResult=ae;const $=new d(this.filterForm.value);this.router.navigate([this.router.url.split("?")[0]],{queryParams:$}),this.aplliedBySubjectFilter=JSON.parse(this.filterForm.value.bySubject)})}applyForm(ve){ve&&this.filterForm.patchValue({page:1}),this.auditStream.next(this.filterForm.value),this.filterHasChanged=!1}goToPage(ve){this.filterForm.patchValue({page:ve}),this.applyForm(!1)}setDateToday(){this.filterForm.patchValue({fromDate:this.timeService.now().startOf("day"),toDate:this.timeService.now().endOf("day")})}setDateLast24Hours(){this.filterForm.patchValue({fromDate:this.timeService.now().minus({hours:24}),toDate:this.timeService.now()})}setDateYesterday(){this.filterForm.patchValue({fromDate:this.timeService.now().startOf("day").minus({hours:24}),toDate:this.timeService.now().endOf("day").minus({hours:24})})}setDateLastWeek(){this.filterForm.patchValue({fromDate:this.timeService.now().minus({weeks:1}).startOf("day"),toDate:this.timeService.now().endOf("day")})}goToResource(ve){this.router.config.find($=>void 0!==$.children)}auditSearch(ve,ae){this.filterForm.patchValue({auditSearch:{[ve]:ae.value}})}selectFilterType(ve,ae){const $=this.filterForm.get("auditSearch").get(ve).value;ae.value=$}removeFilter(ve){this.filterForm.patchValue({auditSearch:{[ve]:""}})}checkQuickDate(ve){switch(ve){case"today":return this.stripSecondsFromString(this.filterForm.get("fromDate").value)===this.stripSecondsFromDateTime(this.timeService.now().startOf("day"))&&this.stripSecondsFromString(this.filterForm.get("toDate").value)===this.stripSecondsFromDateTime(this.timeService.now().endOf("day"));case"24hours":return this.stripSecondsFromString(this.filterForm.get("fromDate").value)===this.stripSecondsFromDateTime(this.timeService.now().minus({hours:24}))&&this.stripSecondsFromString(this.filterForm.get("toDate").value)===this.stripSecondsFromDateTime(this.timeService.now());case"yesterday":return this.stripSecondsFromString(this.filterForm.get("fromDate").value)===this.stripSecondsFromDateTime(this.timeService.now().startOf("day").minus({hours:24}))&&this.stripSecondsFromString(this.filterForm.get("toDate").value)===this.stripSecondsFromDateTime(this.timeService.now().endOf("day").minus({hours:24}));case"week":return this.stripSecondsFromString(this.filterForm.get("fromDate").value)===this.stripSecondsFromDateTime(this.timeService.now().minus({weeks:1}).startOf("day"))&&this.stripSecondsFromString(this.filterForm.get("toDate").value)===this.stripSecondsFromDateTime(this.timeService.now().endOf("day"))}}stripSecondsFromString(ve){return this.stripSecondsFromDateTime(g.c9.fromISO(ve))}stripSecondsFromDateTime(ve){return ve.set({second:0,millisecond:0}).toString()}setActorOrResource(ve){this.filterForm.patchValue({bySubject:ve})}setShowing(ve,ae){this.successfulFilter=ve,this.unsuccessfulFilter=ae,this.filter()}showActiveFilters(){const ve=this.filterForm.get("auditSearch");return!!(ve.get("source").value||ve.get("subject").value||ve.get("auditAction").value||ve.get("resourceName").value)}filter(){this.filterForm.patchValue({success:this.successfulFilter&&this.unsuccessfulFilter||!this.successfulFilter&&!this.unsuccessfulFilter?null:this.successfulFilter})}getCSV(){this.fileDownloader.buildForm(this.buildActionUrl()).submitForm()}buildActionUrl(){let ve=`${this.auditingService.actionUrl}`;const ae=this.activatedRoute.snapshot.queryParams;return this.resourceOnly&&(ve+=`/${this.resourceName}/auditedEvents`),ve+=`?sort=${ae.sortCriteria}`,(0,v.gP)(ae.auditAction)||(ve+=`&auditAction=${ae.auditAction}`),(0,v.gP)(ae.subject)||(ve+=`&subject=${ae.subject}`),(0,v.gP)(ae.resourceName)||(ve+=`&resource=${ae.resourceName}`),(0,v.gP)(ae.source)||(ve+=`&source=${ae.source}`),null!=ae.success&&(ve+=`&success=${ae.success}`),null!=ae.toDate&&(ve+=`&to=${ae.toDate}`),null!=ae.fromDate&&(ve+=`&from=${ae.fromDate}`),(0,v.hX)(ae.bySubject)||(ve+=`&bySubject=${ae.bySubject}`),ve}sortResults(){const ve=this.activatedRoute.snapshot.queryParams,ae=new f(ve.auditAction,ve.subject,ve.resourceName,ve.source),$=void 0===ve.fromDate?this.timeService.now().startOf("day"):g.c9.fromISO(ve.fromDate),se=void 0===ve.toDate?this.timeService.now().startOf("day"):g.c9.fromISO(ve.toDate);this.filterSort=this.filterSort===this.sortAsc?this.sortDesc:this.sortAsc;const Ue=new E(ae,$,se,ve.page,ve.pageSize,this.filterSort,ve.success,ve.bySubject);this.auditStream.next(Ue),this.filterHasChanged=!1}resetForm(){this.filterForm.setValue({fromDate:this.timeService.now().startOf("day"),toDate:this.timeService.now(),auditSearch:{auditAction:"",resourceName:"",subject:"",source:""},page:1,pageSize:25,sortCriteria:this.sortDesc,success:null}),this.filterHasChanged=!1,this.successfulFilter=!1,this.unsuccessfulFilter=!1,this.applyForm(!0)}setupFilterForm(ve){const ae=void 0===ve.fromDate?this.timeService.now().startOf("day"):g.c9.fromISO(ve.fromDate),$=void 0===ve.toDate?this.timeService.now().endOf("day"):g.c9.fromISO(ve.toDate);this.filterForm=this.fb.nonNullable.group({fromDate:[ae,[n.k0.required,v.TO]],toDate:[$],auditSearch:this.fb.group({auditAction:[ve.auditAction||""],resourceName:[ve.resourceName||""],subject:[ve.subject||""],source:[ve.source||""]}),page:[ve.page||1],pageSize:[ve.pageSize>1e3?1e3:ve.pageSize||25],sortCriteria:[ve.sortCriteria||this.sortDesc],success:[ve.success||null],bySubject:[ve.bySubject??!0]},{validators:v.$N}),this.filterSort=this.filterForm.value.sortCriteria,this.filterForm.valueChanges.subscribe(()=>{this.filterHasChanged=!0})}Navigate(ve,ae){this.router.navigate([ve,ae])}resourceNavigate(ve){const ae=this.buildTranslatedRoute(ve);"*"!==ve.name&&this.Navigate(ae,ve.identifier)}buildLink(ve){let ae=this.buildTranslatedRoute(ve);return ae+=`/${ve.identifier}`,ae}buildTranslatedRoute(ve){switch(ve.type){case"User":return this.userManagerReadOnly()?`${this.localizeRouter.translateRoute("/users/view")}`:`${this.localizeRouter.translateRoute("/users")}`;case"Client":case"Machine":return this.identityServerManagerReadOnly()?`${this.localizeRouter.translateRoute("/clients/view")}`:`${this.localizeRouter.translateRoute("/clients")}`;case"IdentityResource":return this.identityServerManagerReadOnly()?`${this.localizeRouter.translateRoute("/identityresources/view")}`:`${this.localizeRouter.translateRoute("/identityresources")}`;case"ProtectedResource":return this.identityServerManagerReadOnly()?`${this.localizeRouter.translateRoute("/protectedresources/view")}`:`${this.localizeRouter.translateRoute("/protectedresources")}`;case"ClaimType":return this.userManagerReadOnly()?`${this.localizeRouter.translateRoute("/claim-types/view")}`:`${this.localizeRouter.translateRoute("/claim-types")}`;case"Role":return this.userManagerReadOnly()?`${this.localizeRouter.translateRoute("/roles/view")}`:`${this.localizeRouter.translateRoute("/roles")}`;default:return""}}static{this.\u0275fac=function(ae){return new(ae||it)(m.rXU(F.x),m.rXU(w.QG),m.rXU(C.Ix),m.rXU(n.ok),m.rXU(C.nX),m.rXU(R.i),m.rXU(x.D),m.rXU(O.v))}}static{this.\u0275cmp=m.VBU({type:it,selectors:[["app-audits-list"]],inputs:{resourceName:"resourceName"},decls:131,vars:105,consts:[["pageLength",""],["filterType",""],["filterValue",""],["sortCriteria",""],["group",""],["id","auditingList"],[1,"",3,"formGroup"],[1,"tw-border-b","tw-border-grey-200","tw-mb-4","tw-pb-5"],[1,"tw-flex-grid","tw-mb-3","lg:tw-flex-nowrap"],[1,"tw-flex-grid-col","xs:tw-w-1/2","lg:tw-w-1/3"],[1,"tw-form-group","tw-mb-0"],["for","fromDate",1,"tw-form-label"],["id","fromDate","name","fromDate","formControlName","fromDate","aria-describedby","toErrorLabel",3,"displayType"],["id","fromErrorLabel","class","tw-form-text-danger",4,"ngIf"],["for","toDate",1,"tw-form-label"],["id","toDate","name","toDate","formControlName","toDate","aria-describedby","toErrorLabel",3,"displayType"],["id","toErrorLabel","class","tw-form-text-danger",4,"ngIf"],[1,"tw-hidden","tw-flex-grid-col","xs:tw-block","sm:tw-w-auto","sm:tw-mr-auto"],["aria-hidden","true",1,"tw-hidden","tw-form-label","tw-invisible","sm:tw-inline-block"],[1,"tw-flex","tw-items-center"],["name","setToday","id","setToday",1,"tw-btn",3,"click"],["name","set24hrs","id","set24hrs",1,"tw-btn",3,"click"],["name","setYesterday","id","setYesterday",1,"tw-btn",3,"click"],["name","setLastWeek","id","setLastWeek",1,"tw-btn",3,"click"],[1,"tw-flex-grid-col","tw-ml-0"],["class","tw-form-group tw-mb-0",4,"ngIf"],[1,"tw-flex-grid-col","tw-w-40","tw-ml-0"],["for","pageSize",1,"tw-form-label"],[1,"tw-form-select"],["id","pageSize","formControlName","pageSize",1,"tw-form-control"],[3,"value"],["formGroupName","auditSearch"],["class","tw-my-4",4,"ngIf"],[1,"tw-mb-4"],["id","showFilterButton","type","button","aria-expanded","showAddFilter",1,"tw-btn-link","tw-btn-small","tw-px-0",3,"click"],[4,"ngIf"],["id","toggleFilters","aria-labelledby","showFilterButton",1,"tw-mt-3","tw-mb-6",3,"hidden"],[1,"tw-flex-grid","md:tw-flex-nowrap"],[1,"tw-flex-grid-col","md:tw-w-2/3","lg:tw-w-3/5"],["for","filterType",1,"tw-form-label"],[1,"tw-flex-grid"],[1,"tw-flex-grid-col","xs:tw-w-2/5","sm:tw-w-1/3"],["id","filterType","name","filterType",1,"tw-form-control",3,"change"],["value","source"],["value","subject",4,"ngIf"],["value","auditAction"],["value","resourceName",4,"ngIf"],[1,"tw-flex-grid-col","tw-flex","xs:tw-w-3/5","sm:tw-w-2/3"],["id","filterTerm","type","text","autocomplete","off",1,"tw-form-control","tw-border-r-0","tw-rounded-r-none"],["type","submit",1,"tw-btn","tw-rounded-l-none",3,"click"],["aria-hidden","true",1,"far","fa-plus"],[1,"sr-only"],[1,"tw-flex-grid-col","md:tw-ml-auto","md:tw-w-auto"],[1,"tw-form-label"],["id","allFilter",1,"tw-btn",3,"click"],["id","activeFilter",1,"tw-btn",3,"click"],["id","blockedFilter",1,"tw-btn",3,"click"],[1,"tw-flex","tw-flex-wrap","tw-items-center"],["type","hidden"],["id","applyBtn",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],[1,"tw-btn-link","tw-mr-3",3,"click"],["class","tw-pill-warning tw-my-2",4,"ngIf"],["class","tw-alert","role","alert",4,"ngIf"],["class","datatable hover",4,"ngIf"],[3,"totalResults","currentPage","lastPage","onGoToPage",4,"ngIf"],["id","fromErrorLabel",1,"tw-form-text-danger"],["id","toErrorLabel",1,"tw-form-text-danger"],["id","bySubjectFilter",1,"tw-btn",3,"click"],["id","byResourceFilter",1,"tw-btn",3,"click"],[1,"tw-my-4"],[1,"tw-flex","tw-flex-wrap","tw-items-start","tw--mt-2","tw--ml-2"],["class","tw-pt-2 tw-pl-2",4,"ngIf"],[1,"tw-pt-2","tw-pl-2"],["id","sourceSearchValue",1,"tw-btn-danger","tw-btn-small",3,"click"],[1,"tw-font-bold","tw-mr-1"],["aria-hidden","true",1,"fas","fa-times","tw-ml-3"],[1,"tw-btn-danger","tw-btn-small",3,"click"],["aria-hidden","true",1,"fas","fa-angle-down","tw-mr-1"],["aria-hidden","true",1,"fas","fa-angle-up","tw-mr-1"],["value","subject"],["value","resourceName"],[1,"tw-pill-warning","tw-my-2"],["aria-hidden","true",1,"fas","fa-info-circle","tw-mr-1"],["right",""],["class","fad fa-spinner-third fa-spin tw-text-xs tw-text-grey-700 tw-mr-3",4,"ngIf"],["id","getCSVBtn","container","body",1,"tw-btn-white",3,"click","tooltip","disabled"],["aria-hidden","true",1,"fad","fa-arrow-to-bottom"],[1,"fad","fa-spinner-third","fa-spin","tw-text-xs","tw-text-grey-700","tw-mr-3"],["role","alert",1,"tw-alert"],[1,"datatable","hover"],[1,"toggle","tw-w-1"],["id","sortWhen",1,"tw-cursor-pointer","xs:tw-w-40",3,"click"],[1,"tw-mr-2"],["aria-hidden","true",1,"fas","fa-caret-down"],[1,"tw-hidden","tw-w-32","md:tw-table-cell","xl:tw-w-40"],["class","tw-hidden xs:tw-table-cell lg:tw-w-1/4",4,"ngIf"],["id","ResourceHeading","class","tw-hidden lg:tw-table-cell",4,"ngIf"],[1,"tw-hidden","xl:tw-table-cell"],[1,"tw-hidden","tw-w-1","tw-text-center","sm:tw-table-cell"],["id","auditsTable"],[4,"ngFor","ngForOf"],[1,"tw-hidden","xs:tw-table-cell","lg:tw-w-1/4"],["id","ResourceHeading",1,"tw-hidden","lg:tw-table-cell"],[1,"toggle"],[1,"tw-btn-link","tw-btn-small",3,"click"],["aria-hidden","true",1,"fas","fa-caret-down","fa-fw"],[1,"tw-hidden","tw-max-w-0","tw-truncate","md:tw-table-cell"],["class","tw-hidden tw-max-w-0 tw-truncate xs:tw-table-cell subject",4,"ngIf"],["class","tw-hidden tw-max-w-0 tw-truncate lg:tw-table-cell resource",4,"ngIf"],[1,"tw-hidden","tw-max-w-0","tw-truncate","xl:tw-table-cell"],[1,"tw-hidden","tw-text-center","sm:tw-table-cell"],["class","fas fa-check tw-text-green-500",4,"ngIf"],["class","fas fa-times tw-text-red-500 tw-opacity-50",4,"ngIf"],["class","disabled toggle-row",4,"ngIf"],[1,"tw-hidden","tw-max-w-0","tw-truncate","xs:tw-table-cell","subject"],[3,"click","href"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell","resource"],[1,"fas","fa-check","tw-text-green-500"],[1,"fas","fa-times","tw-text-red-500","tw-opacity-50"],[1,"disabled","toggle-row"],["colspan","6",1,"tw-text-grey-800"],[1,"tw-flex","tw-items-start"],["aria-hidden","true",1,"tw-shrink-0","tw-mr-1"],["class","fas fa-check tw-text-green-500 fa-fw",4,"ngIf"],["class","fas fa-times tw-text-red-500 fa-fw",4,"ngIf"],[1,"fas","fa-check","tw-text-green-500","fa-fw"],[1,"fas","fa-times","tw-text-red-500","fa-fw"],[3,"onGoToPage","totalResults","currentPage","lastPage"]],template:function(ae,$){if(1&ae){const se=m.RV6();m.j41(0,"div",5)(1,"form",6)(2,"div",7)(3,"div",8)(4,"div",9)(5,"div",10)(6,"label",11),m.EFF(7),m.nI1(8,"translate"),m.k0s(),m.j41(9,"div"),m.nrm(10,"app-date-time",12),m.DNE(11,J,3,3,"span",13),m.k0s()()(),m.j41(12,"div",9)(13,"div",10)(14,"label",14),m.EFF(15),m.nI1(16,"translate"),m.k0s(),m.j41(17,"div"),m.nrm(18,"app-date-time",15),m.DNE(19,te,3,3,"span",16),m.k0s()()(),m.j41(20,"div",17)(21,"div",10)(22,"label",18),m.EFF(23,"\xa0"),m.k0s(),m.j41(24,"ul",19)(25,"li")(26,"button",20),m.nI1(27,"translate"),m.bIt("click",function(){return m.eBV(se),m.Njj($.setDateToday())}),m.EFF(28),m.nI1(29,"translate"),m.k0s()(),m.j41(30,"li")(31,"button",21),m.nI1(32,"translate"),m.bIt("click",function(){return m.eBV(se),m.Njj($.setDateLast24Hours())}),m.EFF(33),m.nI1(34,"translate"),m.k0s()(),m.j41(35,"li")(36,"button",22),m.nI1(37,"translate"),m.bIt("click",function(){return m.eBV(se),m.Njj($.setDateYesterday())}),m.EFF(38),m.nI1(39,"translate"),m.k0s()(),m.j41(40,"li")(41,"button",23),m.nI1(42,"translate"),m.bIt("click",function(){return m.eBV(se),m.Njj($.setDateLastWeek())}),m.EFF(43),m.nI1(44,"translate"),m.k0s()()()()()(),m.j41(45,"div",8)(46,"div",24),m.DNE(47,I,13,13,"div",25),m.k0s(),m.j41(48,"div",26)(49,"div",10)(50,"label",27),m.EFF(51),m.nI1(52,"translate"),m.k0s(),m.j41(53,"div",28)(54,"select",29,0)(56,"option",30),m.EFF(57,"25 "),m.k0s(),m.j41(58,"option",30),m.EFF(59,"50"),m.k0s(),m.j41(60,"option",30),m.EFF(61,"100"),m.k0s()()()()()(),m.j41(62,"form",31),m.DNE(63,Re,9,7,"div",32),m.j41(64,"div",33)(65,"button",34),m.bIt("click",function(){return m.eBV(se),m.Njj($.showAddFilter=!$.showAddFilter)}),m.DNE(66,ke,4,3,"span",35)(67,Je,4,3,"span",35),m.k0s(),m.j41(68,"div",36)(69,"div",37)(70,"div",38)(71,"div",10)(72,"label",39),m.EFF(73),m.nI1(74,"translate"),m.k0s(),m.j41(75,"div",40)(76,"div",41)(77,"div",28)(78,"select",42,1),m.bIt("change",function(){m.eBV(se);const Ze=m.sdS(79),dt=m.sdS(90);return m.Njj($.selectFilterType(Ze.value,dt))}),m.j41(80,"option",43),m.EFF(81),m.nI1(82,"translate"),m.k0s(),m.DNE(83,Te,3,3,"option",44),m.j41(84,"option",45),m.EFF(85),m.nI1(86,"translate"),m.k0s(),m.DNE(87,we,3,3,"option",46),m.k0s()()(),m.j41(88,"div",47),m.nrm(89,"input",48,2),m.nI1(91,"translate"),m.nI1(92,"translate"),m.j41(93,"button",49),m.bIt("click",function(){m.eBV(se);const Ze=m.sdS(79),dt=m.sdS(90);return m.Njj($.auditSearch(Ze.value,dt))}),m.nrm(94,"span",50),m.j41(95,"span",51),m.EFF(96),m.nI1(97,"translate"),m.k0s()()()()()(),m.j41(98,"div",52)(99,"div",10)(100,"p",53),m.EFF(101),m.nI1(102,"translate"),m.k0s(),m.j41(103,"ul",19)(104,"li")(105,"button",54),m.bIt("click",function(){return m.eBV(se),m.Njj($.setShowing(!1,!1))}),m.EFF(106),m.nI1(107,"translate"),m.k0s()(),m.j41(108,"li")(109,"button",55),m.bIt("click",function(){return m.eBV(se),m.Njj($.setShowing(!0,!1))}),m.EFF(110),m.nI1(111,"translate"),m.k0s()(),m.j41(112,"li")(113,"button",56),m.bIt("click",function(){return m.eBV(se),m.Njj($.setShowing(!1,!0))}),m.EFF(114),m.nI1(115,"translate"),m.k0s()()()()()()()(),m.j41(116,"div",57),m.nrm(117,"input",58,3),m.j41(119,"button",59),m.bIt("click",function(){return m.eBV(se),m.Njj($.applyForm(!0))}),m.EFF(120),m.nI1(121,"translate"),m.k0s(),m.j41(122,"button",60),m.bIt("click",function(){return m.eBV(se),m.Njj($.resetForm())}),m.EFF(123),m.nI1(124,"translate"),m.k0s(),m.DNE(125,de,4,3,"p",61),m.k0s()()()(),m.DNE(126,Ae,10,8,"app-action-bar",35)(127,rt,1,0,"app-simple-loader",35)(128,Be,4,3,"div",62)(129,nt,25,20,"table",63)(130,Wt,1,3,"app-pager",64),m.k0s()}if(2&ae){let se;m.R7$(),m.Y8G("formGroup",$.filterForm),m.R7$(6),m.JRh(m.bMT(8,59,"Auditing.FromDate")),m.R7$(3),m.Y8G("displayType","datetime"),m.R7$(),m.Y8G("ngIf",$.filterForm.get("fromDate").hasError("dateInFuture")),m.R7$(4),m.JRh(m.bMT(16,61,"Auditing.ToDate")),m.R7$(3),m.Y8G("displayType","datetime"),m.R7$(),m.Y8G("ngIf",$.filterForm.hasError("fromDateIsAfterToDate")),m.R7$(7),m.AVh("tw-btn-link",!$.checkQuickDate("today")),m.BMQ("aria-label",m.bMT(27,63,"Auditing.SetDateToday")),m.R7$(2),m.SpI(" ",m.bMT(29,65,"Auditing.Today")," "),m.R7$(3),m.AVh("tw-btn-link",!$.checkQuickDate("24hours")),m.BMQ("aria-label",m.bMT(32,67,"Auditing.SetDateLast24Hours")),m.R7$(2),m.SpI(" ",m.bMT(34,69,"Auditing.24Hours")," "),m.R7$(3),m.AVh("tw-btn-link",!$.checkQuickDate("yesterday")),m.BMQ("aria-label",m.bMT(37,71,"Auditing.SetDateYesterday")),m.R7$(2),m.SpI(" ",m.bMT(39,73,"Auditing.Yesterday")," "),m.R7$(3),m.AVh("tw-btn-link",!$.checkQuickDate("week")),m.BMQ("aria-label",m.bMT(42,75,"Auditing.SetDateLastWeek")),m.R7$(2),m.SpI(" ",m.bMT(44,77,"Auditing.Week")," "),m.R7$(4),m.Y8G("ngIf",$.resourceOnly),m.R7$(4),m.JRh(m.bMT(52,79,"Auditing.ResultsPerPage")),m.R7$(5),m.Y8G("value",25),m.R7$(2),m.Y8G("value",50),m.R7$(2),m.Y8G("value",100),m.R7$(3),m.Y8G("ngIf",$.showActiveFilters()),m.R7$(3),m.Y8G("ngIf",!$.showAddFilter),m.R7$(),m.Y8G("ngIf",$.showAddFilter),m.R7$(),m.Y8G("hidden",!$.showAddFilter),m.R7$(5),m.JRh(m.bMT(74,81,"Auditing.AddFilter")),m.R7$(8),m.JRh(m.bMT(82,83,"Auditing.Source")),m.R7$(2),m.Y8G("ngIf",!$.resourceBySubject),m.R7$(2),m.SpI("",m.bMT(86,85,"Auditing.Action")," "),m.R7$(2),m.Y8G("ngIf",!$.resourceByResource),m.R7$(2),m.BMQ("placeholder",m.bMT(91,87,"Auditing.FilterTermPlaceholder"))("aria-label",m.bMT(92,89,"Auditing.AddFilterTerm")),m.R7$(7),m.JRh(m.bMT(97,91,"Common.Add")),m.R7$(5),m.JRh(m.bMT(102,93,"Auditing.Showing")),m.R7$(4),m.AVh("tw-btn-link",!(!$.successfulFilter&&!$.unsuccessfulFilter)),m.R7$(),m.SpI(" ",m.bMT(107,95,"Permission.All")," "),m.R7$(3),m.AVh("tw-btn-link",!($.successfulFilter&&!$.unsuccessfulFilter)),m.R7$(),m.SpI(" ",m.bMT(111,97,"Notifications.Success")," "),m.R7$(3),m.AVh("tw-btn-link",!($.unsuccessfulFilter&&!$.successfulFilter)),m.R7$(),m.SpI(" ",m.bMT(115,99,"Notifications.Failure")," "),m.R7$(5),m.Y8G("disabled",(null==$.filterForm?null:$.filterForm.errors)||(null==(se=$.filterForm.get("fromDate"))?null:se.hasError("dateInFuture"))),m.R7$(),m.SpI(" ",m.bMT(121,101,"Auditing.ExecuteAndDisplay")," "),m.R7$(3),m.SpI(" ",m.bMT(124,103,"Auditing.Reset")," "),m.R7$(2),m.Y8G("ngIf",$.filterHasChanged),m.R7$(),m.Y8G("ngIf",!$.isLoading),m.R7$(),m.Y8G("ngIf",$.isLoading),m.R7$(),m.Y8G("ngIf",(null==$.pagedResult?null:$.pagedResult.results.length)<1&&!$.isLoading),m.R7$(),m.Y8G("ngIf",(null==$.pagedResult?null:$.pagedResult.results.length)>0&&!$.isLoading),m.R7$(),m.Y8G("ngIf",(null==$.pagedResult?null:$.pagedResult.results.length)>0&&!$.isLoading)}},dependencies:[H.Sq,H.bT,n.qT,n.xH,n.y7,n.wz,n.BC,n.cb,n.cV,n.j4,n.JD,n.$R,M.dg,V.B,U.n,G.d,ie.Z,le.D9,L.r7],encapsulation:2})}}return it})()},9475:(qe,me,u)=>{"use strict";u.d(me,{F:()=>R});var n=u(177),e=u(7005),_=u(9417),g=u(534),S=u(4304),v=u(1780),f=u(5731),d=u(4193),E=u(7175),m=u(6599),F=u(1683),w=u(1575),C=u(4438);let R=(()=>{class x{static{this.\u0275fac=function(M){return new(M||x)}}static{this.\u0275mod=C.$C({type:x})}static{this.\u0275inj=C.G2t({providers:[w.v],imports:[n.MD,_.YN,_.X1,e.XE,v.h,S.h6,g.Ss,f.i,d.c,E.c,m.Y,F.Y]})}}return x})()},6406:(qe,me,u)=>{"use strict";u.d(me,{z:()=>g});var n=u(4438);const e=["*",[["","right",""]]],_=["*","[right]"];let g=(()=>{class S{static{this.\u0275fac=function(d){return new(d||S)}}static{this.\u0275cmp=n.VBU({type:S,selectors:[["app-button-bar"]],ngContentSelectors:_,decls:6,vars:0,consts:[[1,"tw-bg-grey-200","tw-border","tw-border-grey-300","tw-mt-8","tw-px-4","tw-pt-4","tw-pb-1","xs:tw-border-0","xs:tw-border-t","xs:tw-mb-12","xs:tw-inset-x-0","xs:tw-bottom-0","xs:tw-fixed","xs:tw-z-20"],[1,"tw-container","tw-mx-auto"],[1,"tw-flex","tw-flex-wrap"],[1,"tw-mr-auto"]],template:function(d,E){1&d&&(n.NAR(e),n.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),n.SdG(4),n.k0s(),n.SdG(5,1),n.k0s()()())},encapsulation:2})}}return S})()},1993:(qe,me,u)=>{"use strict";u.d(me,{E:()=>_});var n=u(177),e=u(4438);let _=(()=>{class g{static{this.\u0275fac=function(f){return new(f||g)}}static{this.\u0275mod=e.$C({type:g})}static{this.\u0275inj=e.G2t({imports:[n.MD]})}}return g})()},7499:(qe,me,u)=>{"use strict";u.d(me,{o:()=>_});var n=u(1413),e=u(4438);let _=(()=>{class g{constructor(){this.emitter=new n.B,this.eventStream=new n.B}getChangeEmitter(){return this.emitter}confirm(){this.emitter.next()}static{this.\u0275fac=function(f){return new(f||g)}}static{this.\u0275prov=e.jDH({token:g,factory:g.\u0275fac})}}return g})()},6728:(qe,me,u)=>{"use strict";u.d(me,{E:()=>f});var n=u(4438),e=u(7499),_=u(1780),g=u(779);const S=["canDeactivate"],v=()=>({animated:!1,backdrop:"static"});let f=(()=>{class d{constructor(m,F){this.service=m,this.translate=F,this.param={value:"world"}}ngOnInit(){}ngAfterViewInit(){this.listener=this.service.getChangeEmitter().subscribe(m=>{this.modal.show()})}leave(){this.modal.hide(),this.service.eventStream.next(!0)}stay(){this.modal.hide(),this.service.eventStream.next(!1)}ngOnDestroy(){this.listener?.unsubscribe()}static{this.\u0275fac=function(F){return new(F||d)(n.rXU(e.o),n.rXU(_.c$))}}static{this.\u0275cmp=n.VBU({type:d,selectors:[["app-can-deactivate"]],viewQuery:function(F,w){if(1&F&&n.GBs(S,7),2&F){let C;n.mGM(C=n.lsd())&&(w.modal=C.first)}},decls:28,vars:20,consts:[["canDeactivate","bs-modal"],["bsModal","","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog","modal-dialog--danger"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","tw-text-center","scrollbars"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","stayBtn",1,"tw-btn-danger",3,"click"],["id","leaveBtn",1,"tw-btn-link","tw--mr-4",3,"click"]],template:function(F,w){if(1&F){const C=n.RV6();n.j41(0,"div",1,0)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),n.EFF(6),n.nI1(7,"translate"),n.k0s(),n.j41(8,"button",6),n.bIt("click",function(){return n.eBV(C),n.Njj(w.stay())}),n.nrm(9,"span",7),n.j41(10,"span",8),n.EFF(11),n.nI1(12,"translate"),n.k0s()()(),n.j41(13,"div",9)(14,"p"),n.EFF(15),n.nI1(16,"translate"),n.nI1(17,"translate"),n.k0s()(),n.nrm(18,"div",10),n.j41(19,"div",11)(20,"div",12)(21,"div",13)(22,"button",14),n.bIt("click",function(){return n.eBV(C),n.Njj(w.stay())}),n.EFF(23),n.nI1(24,"translate"),n.k0s()(),n.j41(25,"button",15),n.bIt("click",function(){return n.eBV(C),n.Njj(w.leave())}),n.EFF(26),n.nI1(27,"translate"),n.k0s()()()()()()}2&F&&(n.Y8G("config",n.lJ4(19,v)),n.R7$(6),n.JRh(n.bMT(7,7,"Notifications.UnsavedChangesTitle")),n.R7$(5),n.JRh(n.bMT(12,9,"Common.Close")),n.R7$(4),n.Lme("",n.bMT(16,11,"Notifications.UnsavedChanges")," ",n.bMT(17,13,"Notifications.ContinueWithoutSaving"),""),n.R7$(8),n.JRh(n.bMT(24,15,"Notifications.StayHere")),n.R7$(3),n.JRh(n.bMT(27,17,"Notifications.DiscardChanges")))},dependencies:[g.hZ,_.D9],encapsulation:2})}}return d})()},8455:(qe,me,u)=>{"use strict";u.d(me,{p:()=>f});var n=u(779),e=u(8416),_=u(7499),g=u(1780),S=u(177),v=u(4438);let f=(()=>{class d{static{this.\u0275fac=function(F){return new(F||d)}}static{this.\u0275mod=v.$C({type:d})}static{this.\u0275inj=v.G2t({providers:[e.M,_.o],imports:[S.MD,n.Q_,g.h]})}}return d})()},8416:(qe,me,u)=>{"use strict";u.d(me,{M:()=>e});var n=u(4438);let e=(()=>{class _{canDeactivate(S){return!S.canDeactivate||S.canDeactivate()}static{this.\u0275fac=function(v){return new(v||_)}}static{this.\u0275prov=n.jDH({token:_,factory:_.\u0275fac})}}return _})()},5404:(qe,me,u)=>{"use strict";u.d(me,{V:()=>E});var n=u(467),e=u(4438),_=u(2261),g=u(5794),S=u(1780),v=u(9417),f=u(8698);const d=["fileInput"];let E=(()=>{class m{constructor(w,C,R){this.certPickerService=w,this.toastr=C,this.translate=R,this.metadata="",this.dataExists=new e.bkB}ngOnInit(){}handleFileInput(w){this.fileToUpload=w.item(0),this.dataExists.emit(this.hasData())}metaDataKeyDown(){this.dataExists.emit(this.hasData())}hasData(){return!(this.metadata.length<=1&&!this.fileToUpload)}getCertificateModel(){var w=this;return(0,n.A)(function*(){let C="";if(w.fileToUpload){const x=w.fileToUpload.slice(0),O=new FileReader,M=new Promise(function(V,U){O.onloadend=function(){const ie=O.result.split("base64,");V(ie[1])}});O.readAsDataURL(x),C=yield M}else""!==w.metadata&&(C=w.metadata);const R=yield w.tryBuildCertModel(C);return w.resetForm(w),R})()}resetForm(w){w.fileToUpload=null,w.fileInput.nativeElement.value="",w.metadata="",w.dataExists.emit(w.hasData())}tryBuildCertModel(w){var C=this;return(0,n.A)(function*(){let R;try{const x=C.certPickerService.convertStringToArrayBuffer(w);R=yield C.certPickerService.buildCertModelFromArrayBuffer(x,w)}catch(x){throw C.toastr.error(C.translate.instant("Clients.Import.Wizard.Certificates.TryAgainDifferentFile"),C.translate.instant("Clients.Import.Wizard.Certificates.FailedToParseCertificate")),x}return R})()}static{this.\u0275fac=function(C){return new(C||m)(e.rXU(_.V),e.rXU(g.tw),e.rXU(S.c$))}}static{this.\u0275cmp=e.VBU({type:m,selectors:[["app-cert-reader"]],viewQuery:function(C,R){if(1&C&&e.GBs(d,7),2&C){let x;e.mGM(x=e.lsd())&&(R.fileInput=x.first)}},inputs:{uploadCert:"uploadCert",uploadCertHelp:"uploadCertHelp",certMetaData:"certMetaData",certMetaDataHelp:"certMetaDataHelp"},outputs:{dataExists:"dataExists"},decls:11,vars:14,consts:[["fileInput",""],[3,"id","label","help","isLast"],[1,"tw-form-control"],["id","fileInput","type","file","name","cert","accept",".cer",1,"tw-form-file","tw-max-w-full",3,"change","disabled"],[1,"tw-flex","tw-items-center","tw-justify-center","tw-border-b","tw-border-grey-300","tw-my-8","tw-relative","tw-z-10"],[1,"tw-inline-block","tw-bg-grey-100","tw-text-xs","tw-leading-none","tw-uppercase","tw-text-grey-500","tw--my-2","tw-px-2"],["id","metaData",1,"tw-form-control",3,"ngModelChange","keyup","disabled","ngModel"]],template:function(C,R){if(1&C){const x=e.RV6();e.j41(0,"app-form-row",1)(1,"div",2)(2,"input",3,0),e.bIt("change",function(H){return e.eBV(x),e.Njj(R.handleFileInput(H.target.files))}),e.k0s()()(),e.j41(4,"div",4)(5,"span",5),e.EFF(6),e.nI1(7,"translate"),e.k0s()(),e.j41(8,"app-form-row",1)(9,"textarea",6),e.mxI("ngModelChange",function(H){return e.eBV(x),e.DH7(R.metadata,H)||(R.metadata=H),e.Njj(H)}),e.bIt("keyup",function(){return e.eBV(x),e.Njj(R.metaDataKeyDown())}),e.EFF(10,"  "),e.k0s()()}2&C&&(e.Y8G("id","fileInput")("label",R.uploadCert)("help",R.uploadCertHelp)("isLast",!0),e.R7$(2),e.Y8G("disabled",""!=R.metadata),e.R7$(4),e.JRh(e.bMT(7,12,"Common.Or")),e.R7$(2),e.Y8G("id","metaData")("label",R.certMetaData)("help",R.certMetaDataHelp)("isLast",!0),e.R7$(),e.Y8G("disabled",null!=R.fileToUpload),e.R50("ngModel",R.metadata))},dependencies:[v.me,v.BC,v.vS,f.Y,S.D9],encapsulation:2})}}return m})()},75:(qe,me,u)=>{"use strict";u.d(me,{U:()=>f});var n=u(1683),e=u(177),_=u(1780),g=u(9417),S=u(8389),v=u(4438);let f=(()=>{class d{static{this.\u0275fac=function(F){return new(F||d)}}static{this.\u0275mod=v.$C({type:d})}static{this.\u0275inj=v.G2t({imports:[n.Y,e.MD,_.h,g.YN,S.w]})}}return d})()},4354:(qe,me,u)=>{"use strict";u.d(me,{f:()=>O});var n=u(1413),e=u(4438),_=u(177),g=u(9417);let S=(()=>{class H{transform(V,U){let G=V;return U&&(G=V.filter(ie=>ie.name.toUpperCase().includes(U))),G}static{this.\u0275fac=function(U){return new(U||H)}}static{this.\u0275pipe=e.EJ8({name:"search",type:H,pure:!0})}}return H})();var v=u(1780);const f=H=>({"tw-text-grey-600":H});function d(H,M){if(1&H){const V=e.RV6();e.j41(0,"div",19)(1,"label",20),e.nrm(2,"span",21),e.j41(3,"span",13),e.EFF(4),e.nI1(5,"translate"),e.k0s()(),e.j41(6,"input",22),e.mxI("ngModelChange",function(G){e.eBV(V);const ie=e.XpG();return e.DH7(ie.availableSearchValue,G)||(ie.availableSearchValue=G),e.Njj(G)}),e.k0s()()}if(2&H){const V=e.XpG();e.R7$(4),e.JRh(e.bMT(5,2,"Common.Search")),e.R7$(2),e.R50("ngModel",V.availableSearchValue)}}function E(H,M){1&H&&e.nrm(0,"span",30)}function m(H,M){if(1&H&&(e.j41(0,"span",31),e.EFF(1),e.k0s()),2&H){const V=e.XpG().$implicit;e.R7$(),e.SpI(" ",V.description," ")}}function F(H,M){if(1&H){const V=e.RV6();e.j41(0,"li",23)(1,"label",24)(2,"input",25),e.bIt("change",function(){const G=e.eBV(V).$implicit,ie=e.XpG();return e.Njj(ie.selectAvailable(G))}),e.k0s(),e.j41(3,"span",26)(4,"span",27),e.DNE(5,E,1,0,"span",28),e.EFF(6),e.k0s(),e.DNE(7,m,2,1,"span",29),e.k0s()()()}if(2&H){let V;const U=M.$implicit,G=e.XpG();e.R7$(),e.Y8G("htmlFor",G.prefix+U.name),e.R7$(),e.FS9("id",G.prefix+U.name),e.FS9("name",U.name),e.Y8G("checked",U.selected)("disabled",G.isRestricted(U)||G.isReadOnly),e.R7$(2),e.Y8G("ngClass",e.eq3(10,f,G.isReadOnly)),e.R7$(),e.Y8G("ngIf",G.isRestricted(U)),e.R7$(),e.Lme(" ",null!==(V=U.displayName)&&void 0!==V?V:U.name," ",U.shared?"*":""," "),e.R7$(),e.Y8G("ngIf",(null==U.description?null:U.description.length)>0)}}function w(H,M){if(1&H){const V=e.RV6();e.j41(0,"div",32)(1,"label",33),e.nrm(2,"span",21),e.j41(3,"span",13),e.EFF(4),e.nI1(5,"translate"),e.k0s()(),e.j41(6,"input",34),e.mxI("ngModelChange",function(G){e.eBV(V);const ie=e.XpG();return e.DH7(ie.assignedSearchValue,G)||(ie.assignedSearchValue=G),e.Njj(G)}),e.k0s()()}if(2&H){const V=e.XpG();e.R7$(4),e.JRh(e.bMT(5,2,"Common.Search")),e.R7$(2),e.R50("ngModel",V.assignedSearchValue)}}function C(H,M){1&H&&e.nrm(0,"span",30)}function R(H,M){if(1&H&&(e.j41(0,"span",31),e.EFF(1),e.k0s()),2&H){const V=e.XpG().$implicit;e.R7$(),e.SpI(" ",V.description," ")}}function x(H,M){if(1&H){const V=e.RV6();e.j41(0,"li",35)(1,"label",24)(2,"input",25),e.bIt("change",function(){const G=e.eBV(V).$implicit,ie=e.XpG();return e.Njj(ie.selectAssigned(G))}),e.k0s(),e.j41(3,"span",26)(4,"span",27),e.DNE(5,C,1,0,"span",28),e.EFF(6),e.k0s(),e.DNE(7,R,2,1,"span",29),e.k0s()()()}if(2&H){let V;const U=M.$implicit,G=e.XpG();e.R7$(),e.Y8G("htmlFor",G.prefix+U.name),e.R7$(),e.FS9("id",G.prefix+U.name),e.FS9("name",U.name),e.Y8G("checked",U.selected)("disabled",G.isRestricted(U)||G.isReadOnly),e.R7$(2),e.Y8G("ngClass",e.eq3(10,f,G.isReadOnly)),e.R7$(),e.Y8G("ngIf",G.isRestricted(U)),e.R7$(),e.Lme(" ",null!==(V=U.displayName)&&void 0!==V?V:U.name," ",U.shared?"*":""," "),e.R7$(),e.Y8G("ngIf",(null==U.description?null:U.description.length)>0)}}let O=(()=>{class H{set availableInput(V){this.available=this.sortArray(V)}set assignedInput(V){this.assigned=this.sortArray(V)}set isReadOnly(V){this._isReadOnly=V||!1}get isReadOnly(){return this._isReadOnly}constructor(){this.availableCount=0,this.assignedCount=0,this.unAssignedStream=new n.B,this.assignedStream=new n.B}ngOnInit(){this.prefix=Math.random().toString(36).replace(/[^a-z]+/g,"").substring(0,5)}sortArray(V){if(V&&V.length>0)for(const U of V)U.selected=!1;return V.sort((U,G)=>U.name<G.name?-1:1)}selectAvailable(V){V.selected?this.availableCount-=1:this.availableCount+=1,V.selected=!V.selected}selectAssigned(V){V.selected?this.assignedCount-=1:this.assignedCount+=1,V.selected=!V.selected}assignItems(){let V=this.available.filter(U=>U.selected);this.assignedStream.next(V),this.available.forEach(U=>{U.selected=!1}),this.assigned.forEach(U=>{U.selected=!1}),V=[]}unAssignItems(){let V=this.assigned.filter(U=>U.selected);this.unAssignedStream.next(V),this.available.forEach(U=>{U.selected=!1}),this.assigned.forEach(U=>{U.selected=!1}),V=[]}isRestricted(V){if(this.restrictedInput)for(let U=0;U<this.restrictedInput.length;U++)if(this.restrictedInput[U].value===V.name)return!0}static{this.\u0275fac=function(U){return new(U||H)}}static{this.\u0275cmp=e.VBU({type:H,selectors:[["app-common-picker"]],inputs:{availableInput:"availableInput",assignedInput:"assignedInput",restrictedInput:"restrictedInput",assignedSearch:"assignedSearch",availableSearch:"availableSearch",isReadOnly:"isReadOnly"},decls:37,vars:28,consts:[["id","commonPicker",1,"tw-mx-auto","md:tw-flex","md:tw-justify-between"],[1,"tw-bg-white","tw-border","tw-border-grey-300","md:tw-w-2/5"],[1,"tw-flex","tw-flex-col","tw-items-center","tw-justify-start","tw-bg-primary-100","tw-border-b","tw-border-grey-300","tw-py-3","tw-px-4","md:tw-h-24","md:tw-py-1","md:tw-justify-center"],[1,"tw-font-semibold","tw-text-base","tw-truncate"],["class","tw-mt-3 tw-w-full tw-relative","id","availableSearch",4,"ngIf"],[1,"tw-py-2","tw-h-64","tw-overflow-hidden","tw-overflow-y-scroll","scrollbars","md:tw-h-72"],["id","unassignedItems","class","tw-py-3 tw-px-4",4,"ngFor","ngForOf"],[1,"md:tw-self-center","md:tw-shrink-0","md:tw-w-1/5"],["id","assignButtons",1,"tw-flex","tw-items-center","tw-justify-center","tw-p-2","md:tw-flex-wrap","lg:tw-px-3","xl:tw-px-4"],[1,"tw-p-2","tw-w-24","tw-text-center","md:tw-w-full"],["id","assignBtn",1,"tw-btn","tw-w-full","tw-max-w-32",3,"click","disabled"],["aria-hidden","true",1,"far","fa-chevron-down","md:tw-hidden"],["aria-hidden","true",1,"far","fa-chevron-right","tw-hidden","md:tw-inline"],[1,"sr-only"],["id","unAssignBtn",1,"tw-btn","tw-w-full","tw-max-w-32",3,"click","disabled"],["aria-hidden","true",1,"far","fa-chevron-up","md:tw-hidden"],["aria-hidden","true",1,"far","fa-chevron-left","tw-hidden","md:tw-inline"],["class","tw-mt-3 tw-w-full tw-relative","id","assignedSearch",4,"ngIf"],["id","assignedItems","class","tw-py-3 tw-px-4",4,"ngFor","ngForOf"],["id","availableSearch",1,"tw-mt-3","tw-w-full","tw-relative"],["for","searchAvailable",1,"tw-flex","tw-items-center","tw-justify-center","tw-text-grey-700","tw-mb-0","tw-w-10","tw-absolute","tw-inset-y-0"],["aria-hidden","true",1,"far","fa-search","tw-text-sm","tw-cursor-pointer"],["id","searchAvailable","name","availableSearchValue","type","search",1,"tw-form-control","tw-w-full","tw-pl-10",3,"ngModelChange","ngModel"],["id","unassignedItems",1,"tw-py-3","tw-px-4"],[1,"tw-flex","tw-items-start","tw-m-0","tw-text-sm","tw-leading-none","tw-normal-case","tw-cursor-pointer","tw-truncate",3,"htmlFor"],["type","checkbox",1,"tw-block","tw-mr-2",3,"change","id","name","checked","disabled"],[1,"tw-block","tw-w-full","tw-truncate"],[3,"ngClass"],["class","fas fa-lock tw-text-red-500 tw-text-xs tw-mr-1",4,"ngIf"],["class","tw-block tw-mt-2 tw-font-normal tw-text-xs tw-leading-none tw-text-grey-600 tw-truncate",4,"ngIf"],[1,"fas","fa-lock","tw-text-red-500","tw-text-xs","tw-mr-1"],[1,"tw-block","tw-mt-2","tw-font-normal","tw-text-xs","tw-leading-none","tw-text-grey-600","tw-truncate"],["id","assignedSearch",1,"tw-mt-3","tw-w-full","tw-relative"],["for","searchAssigned",1,"tw-flex","tw-items-center","tw-justify-center","tw-text-grey-700","tw-mb-0","tw-w-10","tw-absolute","tw-inset-y-0"],["id","searchAssigned","name","assignedSearchValue","type","search",1,"tw-form-control","tw-w-full","tw-pl-10",3,"ngModelChange","ngModel"],["id","assignedItems",1,"tw-py-3","tw-px-4"]],template:function(U,G){1&U&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.DNE(6,d,7,4,"div",4),e.k0s(),e.j41(7,"ul",5),e.DNE(8,F,8,12,"li",6),e.nI1(9,"uppercase"),e.nI1(10,"search"),e.k0s()(),e.j41(11,"div",7)(12,"ul",8)(13,"li",9)(14,"button",10),e.bIt("click",function(){return G.assignItems()}),e.nrm(15,"span",11)(16,"span",12),e.j41(17,"span",13),e.EFF(18),e.nI1(19,"translate"),e.k0s()()(),e.j41(20,"li",9)(21,"button",14),e.bIt("click",function(){return G.unAssignItems()}),e.nrm(22,"span",15)(23,"span",16),e.j41(24,"span",13),e.EFF(25),e.nI1(26,"translate"),e.k0s()()()()(),e.j41(27,"div",1)(28,"div",2)(29,"h2",3),e.EFF(30),e.nI1(31,"translate"),e.k0s(),e.DNE(32,w,7,4,"div",17),e.k0s(),e.j41(33,"ul",5),e.DNE(34,x,8,12,"li",18),e.nI1(35,"uppercase"),e.nI1(36,"search"),e.k0s()()()),2&U&&(e.R7$(4),e.JRh(e.bMT(5,10,"UserDetails.Available")),e.R7$(2),e.Y8G("ngIf",G.availableSearch||!G.isReadOnly),e.R7$(2),e.Y8G("ngForOf",e.i5U(10,14,G.available,e.bMT(9,12,G.availableSearchValue))),e.R7$(6),e.Y8G("disabled",G.availableCount<1||G.isReadOnly),e.R7$(4),e.JRh(e.bMT(19,17,"Common.Unassign")),e.R7$(3),e.Y8G("disabled",G.assignedCount<1||G.isReadOnly),e.R7$(4),e.JRh(e.bMT(26,19,"Common.Assign")),e.R7$(5),e.JRh(e.bMT(31,21,"UserDetails.Assigned")),e.R7$(2),e.Y8G("ngIf",G.assignedSearch||!G.isReadOnly),e.R7$(2),e.Y8G("ngForOf",e.i5U(36,25,G.assigned,e.bMT(35,23,G.assignedSearchValue))))},dependencies:[_.YU,_.Sq,_.bT,g.me,g.BC,g.vS,_.Pc,S,v.D9],encapsulation:2})}}return H})()},2571:(qe,me,u)=>{"use strict";u.d(me,{A:()=>v});var n=u(9417),e=u(1683),_=u(177),g=u(1780),S=u(4438);let v=(()=>{class f{static{this.\u0275fac=function(m){return new(m||f)}}static{this.\u0275mod=S.$C({type:f})}static{this.\u0275inj=S.G2t({imports:[_.MD,n.YN,e.Y,g.h]})}}return f})()},275:(qe,me,u)=>{"use strict";u.d(me,{W:()=>S});var n=u(177),e=u(1780),_=u(1583),g=u(4438);let S=(()=>{class v{static{this.\u0275fac=function(E){return new(E||v)}}static{this.\u0275mod=g.$C({type:v})}static{this.\u0275inj=g.G2t({imports:[n.MD,e.h,_.iI]})}}return v})()},6719:(qe,me,u)=>{"use strict";u.d(me,{G:()=>g});var n=u(4438),e=u(1583);const _=["*"];let g=(()=>{class S{constructor(f){this.activatedRoute=f,this.restrictedStarter=!1,this.active=!1}ngOnInit(){const f=this.activatedRoute.snapshot;null!==f.firstChild&&null!==f.firstChild.routeConfig&&f.firstChild.routeConfig.path===this.value&&(this.active=!0)}static{this.\u0275fac=function(d){return new(d||S)(n.rXU(e.nX))}}static{this.\u0275cmp=n.VBU({type:S,selectors:[["app-custom-tab"]],inputs:{title:[n.Mj6.None,"tabTitle","title"],value:[n.Mj6.None,"tabValue","value"],restrictedStarter:"restrictedStarter"},ngContentSelectors:_,decls:1,vars:0,template:function(d,E){1&d&&(n.NAR(),n.SdG(0))},encapsulation:2})}}return S})()},251:(qe,me,u)=>{"use strict";u.d(me,{v:()=>F});var n=u(6719),e=u(4438),_=u(1583),g=u(177),S=u(1780);const v=(w,C)=>({tabs:w,"pill-tabs":C}),f=(w,C)=>({tabs__item:w,"pill-tabs__item":C}),d=(w,C)=>({tabs__link:w,"pill-tabs__link":C});function E(w,C){1&w&&(e.j41(0,"span",5)(1,"span",6),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.nrm(4,"span",7),e.k0s()),2&w&&(e.R7$(2),e.JRh(e.bMT(3,1,"StarterMode.RequiresUpgrade")))}function m(w,C){if(1&w){const R=e.RV6();e.j41(0,"li",2)(1,"button",3),e.bIt("click",function(){const O=e.eBV(R).$implicit,H=e.XpG();return e.Njj(H.changeTab(O))}),e.EFF(2),e.nI1(3,"translate"),e.DNE(4,E,5,3,"span",4),e.k0s()()}if(2&w){const R=C.$implicit,x=C.index,O=e.XpG();e.Y8G("ngClass",e.l_i(11,f,!O.pillMode,O.pillMode)),e.R7$(),e.AVh("active",R.active),e.Y8G("id","customTab"+x)("ngClass",e.l_i(14,d,!O.pillMode,O.pillMode)),e.BMQ("data-value",R.value)("aria-selected",R.active),e.R7$(),e.SpI(" ",e.bMT(3,9,R.title)," "),e.R7$(2),e.Y8G("ngIf",R.restrictedStarter)}}let F=(()=>{class w{constructor(R,x){this.router=R,this.activatedRoute=x,this.pillMode=!1}ngOnInit(){"string"==typeof this.pillMode&&(this.pillMode="true"===this.pillMode)}ngAfterContentInit(){const R=this.tabs.filter(x=>x.active);R&&!R.length&&this.changeTab(this.tabs.first)}changeTab(R){!this.tabs||!this.tabs.length||R.active||(this.setActiveTab(R),this.router.navigate([R.value],{relativeTo:this.activatedRoute}))}setActiveTab(R){this.tabs.toArray().forEach(x=>x.active=!1),R.active=!0}static{this.\u0275fac=function(x){return new(x||w)(e.rXU(_.Ix),e.rXU(_.nX))}}static{this.\u0275cmp=e.VBU({type:w,selectors:[["app-custom-tabs"]],contentQueries:function(x,O,H){if(1&x&&e.wni(H,n.G,4),2&x){let M;e.mGM(M=e.lsd())&&(O.tabs=M)}},inputs:{pillMode:"pillMode"},decls:3,vars:8,consts:[["role","tablist",3,"ngClass"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],["role","tab",3,"click","id","ngClass"],["id","upgradeSymbol",4,"ngIf"],["id","upgradeSymbol"],[1,"sr-only"],["aria-hidden","true",1,"tw-text-secondary-500","far","fa-arrow-alt-circle-up","tw-pl-1"]],template:function(x,O){1&x&&(e.j41(0,"ul",0),e.nI1(1,"translate"),e.DNE(2,m,5,17,"li",1),e.k0s()),2&x&&(e.Y8G("ngClass",e.l_i(5,v,!O.pillMode,O.pillMode)),e.BMQ("aria-label",e.bMT(1,3,"Nav.SubMenu")),e.R7$(2),e.Y8G("ngForOf",O.tabs))},dependencies:[g.YU,g.Sq,g.bT,S.D9],encapsulation:2})}}return w})()},8577:(qe,me,u)=>{"use strict";u.d(me,{$:()=>v,w:()=>f});var n=u(4438),e=u(1589),_=u(2390),g=u(923),S=u(9812);class v{get datePipe(){return this._datePipe}constructor(E=g.N.standardDate,m="Common.NoDateSet"){this._datePipe=new e.El,this.noDateLabel=m??"Common.NoDateSet",this._datePipe=(()=>{switch(E){case g.N.standardDate:return new e.El;case g.N.standardDateTime:return new e.r7;case g.N.prettyDateTime:return new e.sp;default:return new e.El}})()}}let f=(()=>{class d{constructor(m){this.dataTableService=m,this.headClasses="",this.cellClasses="",this.isPlaceholder=!1,this.isBoolean=!1,this.placeholder="",this.navigate=new n.bkB}ngOnDestroy(){this.dataTableSub?.unsubscribe()}ngOnInit(){this.dataTableSub=this.dataTableService.sortCompletedEvent.subscribe(m=>{null!=this.sort&&this.setSort(m)})}get dateColumn(){return"boolean"==typeof this.date?new v:this.date}format(m){return void 0!==this.formatter?this.formatter(m):m}get sortClass(){if(null==this.sort)return"";switch(this.sort){case _.uy.None:return"fad fa-sort";case _.uy.Ascending:return"fas fa-caret-up";case _.uy.Descending:return"fas fa-caret-down"}}setSort(m){this.sort=m==this.prop?this.sort==_.uy.Descending?_.uy.Ascending:_.uy.Descending:_.uy.None}static{this.\u0275fac=function(F){return new(F||d)(n.rXU(S.I))}}static{this.\u0275cmp=n.VBU({type:d,selectors:[["app-data-table-column"]],inputs:{title:"title",prop:"prop",headClasses:"headClasses",cellClasses:"cellClasses",date:"date",link:"link",isPlaceholder:"isPlaceholder",isBoolean:"isBoolean",placeholder:"placeholder",formatter:"formatter",sort:"sort"},outputs:{navigate:"navigate"},decls:0,vars:0,template:function(F,w){},encapsulation:2})}}return d})()},4252:(qe,me,u)=>{"use strict";u.d(me,{AA:()=>Te,up:()=>Je});var n=u(4438),e=u(8577),_=u(1583),g=u(9812),S=u(177),v=u(1780);const f=["selectButton"],d=["deleteButton"],E=de=>({hover:de}),m=de=>({"tw-mr-2":de});function F(de,Ve){if(1&de&&(n.j41(0,"div",7),n.nrm(1,"div",8),n.nI1(2,"translate"),n.k0s()),2&de){const Ae=n.XpG();n.R7$(),n.Y8G("innerHTML",n.bMT(2,1,Ae.noRowsLabel),n.npT)}}function w(de,Ve){if(1&de&&n.nrm(0,"span",14),2&de){const Ae=n.XpG().$implicit;n.Y8G("ngClass",Ae.sortClass)}}function C(de,Ve){if(1&de){const Ae=n.RV6();n.j41(0,"th",13),n.bIt("click",function(){const Be=n.eBV(Ae).$implicit,ht=n.XpG(2);return n.Njj(ht.sortColumn(Be))}),n.j41(1,"span",14),n.EFF(2),n.nI1(3,"translate"),n.k0s(),n.DNE(4,w,1,1,"span",15),n.k0s()}if(2&de){const Ae=Ve.$implicit;n.Y8G("className",Ae.headClasses),n.R7$(),n.Y8G("ngClass",n.eq3(6,m,null!=Ae.sort)),n.R7$(),n.JRh(n.bMT(3,4,Ae.title)),n.R7$(2),n.Y8G("ngIf",null!=Ae.sort)}}function R(de,Ve){1&de&&(n.j41(0,"th",16)(1,"span",17),n.EFF(2),n.nI1(3,"translate"),n.k0s()()),2&de&&(n.R7$(2),n.JRh(n.bMT(3,1,"Common.Actions")))}function x(de,Ve){if(1&de&&(n.qex(0),n.EFF(1),n.bVm()),2&de){const Ae=n.XpG(3).$implicit;n.R7$(),n.SpI(" ",Ae," ")}}function O(de,Ve){if(1&de&&(n.qex(0),n.EFF(1),n.bVm()),2&de){const Ae=n.XpG(4).$implicit,rt=n.XpG().$implicit;n.R7$(),n.SpI(" ",Ae.dateColumn.datePipe.transform(rt[Ae.prop])," ")}}function H(de,Ve){if(1&de&&(n.EFF(0),n.nI1(1,"translate")),2&de){const Ae=n.XpG(4).$implicit;n.SpI(" ",n.bMT(1,1,Ae.dateColumn.noDateLabel)," ")}}function M(de,Ve){if(1&de&&(n.qex(0),n.DNE(1,O,2,1,"ng-container",21)(2,H,2,3,"ng-template",null,1,n.C5r),n.bVm()),2&de){const Ae=n.sdS(3),rt=n.XpG(3).$implicit,Be=n.XpG().$implicit;n.R7$(),n.Y8G("ngIf",Be[rt.prop])("ngIfElse",Ae)}}function V(de,Ve){if(1&de){const Ae=n.RV6();n.qex(0),n.j41(1,"a",22),n.bIt("click",function(){n.eBV(Ae);const Be=n.XpG(5).$implicit,ht=n.XpG(2);return n.Njj(!!ht.clickLinkCell(Be.link))}),n.EFF(2),n.k0s(),n.bVm()}if(2&de){const Ae=n.XpG(4).$implicit,rt=n.XpG().$implicit;n.R7$(),n.FS9("href",rt.routeLink,n.B4B),n.R7$(),n.SpI(" ",rt[Ae.prop]," ")}}function U(de,Ve){if(1&de&&n.nrm(0,"span",23),2&de){const Ae=n.XpG(4).$implicit,rt=n.XpG().$implicit;n.Y8G("innerHTML",Ae.format(rt[Ae.prop]),n.npT)}}function G(de,Ve){if(1&de&&n.DNE(0,V,3,2,"ng-container",21)(1,U,1,1,"ng-template",null,2,n.C5r),2&de){const Ae=n.sdS(2),rt=n.XpG(3).$implicit;n.Y8G("ngIf",rt.link)("ngIfElse",Ae)}}function ie(de,Ve){if(1&de&&(n.qex(0),n.DNE(1,M,4,2,"ng-container",21)(2,G,3,2,"ng-template",null,0,n.C5r),n.bVm()),2&de){const Ae=n.sdS(3),rt=n.XpG(2).$implicit;n.R7$(),n.Y8G("ngIf",rt.date)("ngIfElse",Ae)}}function le(de,Ve){if(1&de&&(n.qex(0),n.DNE(1,x,2,1,"ng-container",20)(2,ie,4,2,"ng-container",20),n.bVm()),2&de){const Ae=n.XpG().$implicit;n.R7$(),n.Y8G("ngIf",null==Ae.prop),n.R7$(),n.Y8G("ngIf",null!=Ae.prop)}}function L(de,Ve){if(1&de&&(n.qex(0),n.j41(1,"span",24),n.EFF(2),n.nI1(3,"translate"),n.k0s(),n.bVm()),2&de){const Ae=n.XpG().$implicit;n.R7$(2),n.JRh(n.bMT(3,1,Ae.placeholder))}}function J(de,Ve){1&de&&(n.j41(0,"span",27)(1,"span",17),n.EFF(2),n.nI1(3,"translate"),n.k0s()()),2&de&&(n.R7$(2),n.JRh(n.bMT(3,1,"Common.Yes")))}function te(de,Ve){1&de&&(n.j41(0,"span",28)(1,"span",17),n.EFF(2),n.nI1(3,"translate"),n.k0s()()),2&de&&(n.R7$(2),n.JRh(n.bMT(3,1,"Common.No")))}function I(de,Ve){if(1&de&&(n.qex(0),n.DNE(1,J,4,3,"span",25)(2,te,4,3,"span",26),n.bVm()),2&de){const Ae=n.XpG().$implicit,rt=n.XpG().$implicit;n.R7$(),n.Y8G("ngIf",rt[Ae.prop]),n.R7$(),n.Y8G("ngIf",!rt[Ae.prop])}}function oe(de,Ve){if(1&de&&(n.j41(0,"td",19),n.DNE(1,le,3,2,"ng-container",20)(2,L,4,3,"ng-container",20)(3,I,3,2,"ng-container",20),n.k0s()),2&de){const Ae=Ve.$implicit;n.Y8G("className",Ae.cellClasses),n.BMQ("data-label",Ae.title),n.R7$(),n.Y8G("ngIf",!Ae.isPlaceholder&&!Ae.isBoolean),n.R7$(),n.Y8G("ngIf",Ae.isPlaceholder),n.R7$(),n.Y8G("ngIf",Ae.isBoolean)}}function z(de,Ve){if(1&de){const Ae=n.RV6();n.j41(0,"button",32,3),n.bIt("click",function(){n.eBV(Ae);const Be=n.XpG(2).$implicit,ht=n.XpG(2);return n.Njj(ht.selectRow(Be))}),n.nrm(2,"span",33),n.j41(3,"span",17),n.EFF(4),n.nI1(5,"translate"),n.k0s()()}2&de&&(n.R7$(4),n.JRh(n.bMT(5,1,"Common.Edit")))}function _e(de,Ve){if(1&de){const Ae=n.RV6();n.j41(0,"button",34,4),n.bIt("click",function(){n.eBV(Ae);const Be=n.XpG(2).index,ht=n.XpG(2);return n.Njj(ht.deleteRow(Be))}),n.nrm(2,"span",35),n.j41(3,"span",17),n.EFF(4),n.nI1(5,"translate"),n.k0s()()}2&de&&(n.R7$(4),n.JRh(n.bMT(5,1,"Common.Remove.Title")))}function Pe(de,Ve){if(1&de&&(n.j41(0,"td",16)(1,"div",29),n.DNE(2,z,6,3,"button",30)(3,_e,6,3,"button",31),n.k0s()()),2&de){const Ae=n.XpG(3);n.R7$(2),n.Y8G("ngIf",Ae.canSelect),n.R7$(),n.Y8G("ngIf",Ae.canDelete)}}function Re(de,Ve){if(1&de&&(n.j41(0,"tr"),n.DNE(1,oe,4,5,"td",18)(2,Pe,4,2,"td",11),n.k0s()),2&de){const Ae=n.XpG(2);n.R7$(),n.Y8G("ngForOf",Ae.columns),n.R7$(),n.Y8G("ngIf",Ae.actions)}}function ke(de,Ve){if(1&de&&(n.j41(0,"table",9)(1,"thead")(2,"tr"),n.DNE(3,C,5,8,"th",10)(4,R,4,3,"th",11),n.k0s()(),n.j41(5,"tbody"),n.DNE(6,Re,3,2,"tr",12),n.k0s()()),2&de){const Ae=n.XpG();n.Y8G("ngClass",n.eq3(4,E,!Ae.isReadOnly)),n.R7$(3),n.Y8G("ngForOf",Ae.columns),n.R7$(),n.Y8G("ngIf",Ae.actions),n.R7$(2),n.Y8G("ngForOf",Ae.rows)}}let Je=(()=>{class de{set isReadOnly(Ae){this._isReadOnly=Ae||!1}get isReadOnly(){return this._isReadOnly}constructor(Ae,rt){this.router=Ae,this.dataTableService=rt,this.onSelect=new n.bkB,this.delete=new n.bkB}ngOnInit(){this.isReadOnly?(this.canDelete=!1,this.canSelect=!1):this.actions&&(this.canDelete=this.actions.includes(Te.Delete),this.canSelect=this.actions.includes(Te.Select))}ngAfterViewInit(){this.dataTableService.columns=this.columns}deleteRow(Ae){this.canDelete&&(this.dataTableService.deleteRowEvent.next(Ae),this.delete.next(Ae))}selectRow(Ae){if(this.canSelect){const rt=new we(Ae,this.selectButtonRef);this.onSelect.emit(rt)}}clickLinkCell(Ae){this.router.navigate([`${Ae.routeForLink}`,Ae.identifier])}sortColumn(Ae){(null!=Ae.sort||null!=Ae.sort)&&this.dataTableService.sortColumnEvent.next(Ae)}static{this.\u0275fac=function(rt){return new(rt||de)(n.rXU(_.Ix),n.rXU(g.I))}}static{this.\u0275cmp=n.VBU({type:de,selectors:[["app-data-table"]],contentQueries:function(rt,Be,ht){if(1&rt&&n.wni(ht,e.w,4),2&rt){let Ye;n.mGM(Ye=n.lsd())&&(Be.columns=Ye)}},viewQuery:function(rt,Be){if(1&rt&&(n.GBs(f,5),n.GBs(d,5)),2&rt){let ht;n.mGM(ht=n.lsd())&&(Be.selectButtonRef=ht.first),n.mGM(ht=n.lsd())&&(Be.deleteButtonRef=ht.first)}},inputs:{noRowsLabel:[n.Mj6.None,"norowslabel","noRowsLabel"],rows:"rows",actions:"actions",isReadOnly:"isReadOnly"},outputs:{onSelect:"onSelect",delete:"delete"},decls:2,vars:2,consts:[["nonDateRow",""],["dateRowWithNoValue",""],["normalRowWithoutLink",""],["selectButton",""],["deleteButton",""],["class","tw-alert tw-mb-4","role","alert",4,"ngIf"],["class","datatable",3,"ngClass",4,"ngIf"],["role","alert",1,"tw-alert","tw-mb-4"],["id","noRowsLabel",3,"innerHTML"],[1,"datatable",3,"ngClass"],[3,"className","click",4,"ngFor","ngForOf"],["class","tw-w-1",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"click","className"],[3,"ngClass"],[3,"ngClass",4,"ngIf"],[1,"tw-w-1"],[1,"sr-only"],[3,"className",4,"ngFor","ngForOf"],[3,"className"],[4,"ngIf"],[4,"ngIf","ngIfElse"],[3,"click","href"],[3,"innerHTML"],[1,"tw-italic","tw-text-grey-800"],["class","fas fa-check tw-text-green-500",4,"ngIf"],["class","fas fa-times tw-opacity-25",4,"ngIf"],[1,"fas","fa-check","tw-text-green-500"],[1,"fas","fa-times","tw-opacity-25"],[1,"tw-flex","tw-items-center"],["id","selectButton","class","tw-btn-link tw-btn-small tw-mr-1","value","Edit",3,"click",4,"ngIf"],["id","deleteButton","class","tw-btn-link tw-btn-small tw-text-red-500","value","Delete",3,"click",4,"ngIf"],["id","selectButton","value","Edit",1,"tw-btn-link","tw-btn-small","tw-mr-1",3,"click"],["aria-hidden","true",1,"fad","fa-pencil"],["id","deleteButton","value","Delete",1,"tw-btn-link","tw-btn-small","tw-text-red-500",3,"click"],["aria-hidden","true",1,"fas","fa-times"]],template:function(rt,Be){1&rt&&n.DNE(0,F,3,3,"div",5)(1,ke,7,6,"table",6),2&rt&&(n.Y8G("ngIf",(null==Be.rows?null:Be.rows.length)<1),n.R7$(),n.Y8G("ngIf",(null==Be.rows?null:Be.rows.length)>0))},dependencies:[S.YU,S.Sq,S.bT,v.D9],encapsulation:2})}}return de})();var Te=function(de){return de.Delete="Delete",de.Select="Select",de}(Te||{});class we{constructor(Ve,Ae=null){this.data=Ve,this.element=Ae}}},8251:(qe,me,u)=>{"use strict";u.d(me,{h:()=>f});var n=u(1780),e=u(177),_=u(534),g=u(1683),S=u(9812),v=u(4438);let f=(()=>{class d{static{this.\u0275fac=function(F){return new(F||d)}}static{this.\u0275mod=v.$C({type:d})}static{this.\u0275inj=v.G2t({providers:[S.I],imports:[e.MD,n.h,_.Ss,g.Y]})}}return d})()},9812:(qe,me,u)=>{"use strict";u.d(me,{I:()=>_});var n=u(1413),e=u(4438);let _=(()=>{class g{constructor(){this.sortColumnEvent=new n.B,this.sortCompletedEvent=new n.B,this.deleteRowEvent=new n.B}static{this.\u0275fac=function(f){return new(f||g)}}static{this.\u0275prov=e.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})()},6536:(qe,me,u)=>{"use strict";u.d(me,{Z:()=>M,e:()=>H});var n=u(4438),e=u(9417),_=u(4549),g=u(7263),S=u(177);function v(V,U){1&V&&n.eu8(0)}function f(V,U){if(1&V&&(n.j41(0,"div",4),n.DNE(1,v,1,0,"ng-container",5),n.k0s()),2&V){n.XpG();const G=n.sdS(5);n.R7$(),n.Y8G("ngTemplateOutlet",G)}}function d(V,U){1&V&&n.eu8(0)}function E(V,U){1&V&&n.eu8(0)}function m(V,U){if(1&V&&(n.j41(0,"div",6)(1,"div",7),n.DNE(2,d,1,0,"ng-container",5),n.k0s(),n.j41(3,"div",8),n.DNE(4,E,1,0,"ng-container",5),n.k0s()()),2&V){n.XpG();const G=n.sdS(5),ie=n.sdS(7);n.R7$(2),n.Y8G("ngTemplateOutlet",ie),n.R7$(2),n.Y8G("ngTemplateOutlet",G)}}function F(V,U){1&V&&n.eu8(0)}function w(V,U){if(1&V&&(n.j41(0,"div",6),n.DNE(1,F,1,0,"ng-container",5),n.k0s()),2&V){n.XpG();const G=n.sdS(7);n.R7$(),n.Y8G("ngTemplateOutlet",G)}}function C(V,U){if(1&V&&(n.j41(0,"option",15),n.EFF(1),n.nI1(2,"number"),n.k0s()),2&V){const G=U.index;n.Y8G("value",G),n.R7$(),n.JRh(n.i5U(2,2,G,"2.0"))}}function R(V,U){if(1&V&&(n.j41(0,"option",15),n.EFF(1),n.nI1(2,"number"),n.k0s()),2&V){const G=U.index;n.Y8G("value",G),n.R7$(),n.JRh(n.i5U(2,2,G,"2.0"))}}function x(V,U){if(1&V){const G=n.RV6();n.j41(0,"label",9),n.EFF(1,"Hours"),n.k0s(),n.j41(2,"div",10)(3,"select",11),n.bIt("ngModelChange",function(le){n.eBV(G);const L=n.XpG();return n.Njj(L.onHoursChange(le))}),n.j41(4,"option",12),n.EFF(5,"HH"),n.k0s(),n.DNE(6,C,3,5,"option",13),n.k0s()(),n.j41(7,"span",14),n.EFF(8,":"),n.k0s(),n.j41(9,"label",9),n.EFF(10,"Minutes"),n.k0s(),n.j41(11,"div",10)(12,"select",11),n.bIt("ngModelChange",function(le){n.eBV(G);const L=n.XpG();return n.Njj(L.onMinutesChange(le))}),n.j41(13,"option",12),n.EFF(14,"MM"),n.k0s(),n.DNE(15,R,3,5,"option",13),n.k0s()()}if(2&V){const G=n.XpG();n.Y8G("for",G.id+"-time-hours"),n.R7$(3),n.Y8G("id",G.id+"-time-hours")("ngModel",G.hours),n.R7$(),n.Y8G("value",void 0),n.R7$(2),n.Y8G("ngForOf",G.counter(23)),n.R7$(3),n.Y8G("for",G.id+"-time-minutes"),n.R7$(3),n.Y8G("id",G.id+"-time-minutes")("ngModel",G.minutes),n.R7$(),n.Y8G("value",void 0),n.R7$(2),n.Y8G("ngForOf",G.counter(59))}}function O(V,U){if(1&V){const G=n.RV6();n.j41(0,"input",16),n.bIt("ngModelChange",function(le){n.eBV(G);const L=n.XpG();return n.Njj(L.onDateChange(le))})("keyup",function(le){n.eBV(G);const L=n.XpG();return n.Njj(L.onKeyUp(le))}),n.k0s()}if(2&V){const G=n.XpG();n.Y8G("id",G.id+"-date")("ngModel",G.stringDate),n.BMQ("required",G.required?"":null)("min",G.minDate)("max",G.maxDate)}}var H=function(V){return V.Date="date",V.Time="time",V.DateTime="datetime",V}(H||{});let M=(()=>{class V{constructor(){this.id=(0,g.Nl)(),this.displayType=H.DateTime,this.required=!1,this.disabled=!1,this.keyup=new n.bkB,this.onChange=G=>{},this.onTouched=()=>{}}set value(G){this.setDate(G)}set min(G){this.minDate=this.toMinMaxDateString(G)}set max(G){this.maxDate=this.toMinMaxDateString(G)}get hours(){return(this.date?this.date:void 0)?.hour}get minutes(){return(this.date?this.date:void 0)?.minute}ngOnInit(){}writeValue(G){this.setDate(G)}registerOnChange(G){this.onChange=G}registerOnTouched(G){this.onTouched=G}setDisabledState(G){this.disabled=G}get opacity(){return this.disabled?.25:1}validate(G){return!this.required||this.date?null:{required:{valid:!1}}}onKeyUp(G){this.keyup.emit(G)}onHoursChange(G){this.date=this.date?this.date.set({hour:G}):_.c9.now().set({hour:G}),this.onChange(this.date.toString())}onMinutesChange(G){this.date=this.date?this.date.set({minute:G}):_.c9.now().set({minute:G}),this.onChange(this.date.toString())}onDateChange(G){this.stringDate=G;let ie=_.c9.fromFormat(G,"yyyy-MM-dd");ie.isValid&&(this.date=this.date?this.date.set({year:ie.year,month:ie.month,day:ie.day}):ie,this.onChange(this.date.toString()))}counter(G){return new Array(G+1)}setDate(G){if(G){if(G instanceof _.c9&&(this.date=G),"string"==typeof G){const ie=_.c9.fromISO(G);this.date=ie.isValid?ie:void 0}this.stringDate=this.date.toFormat("yyyy-MM-dd")}}toMinMaxDateString(G){let ie;return ie=G instanceof _.c9?G:_.c9.fromISO(G.toString()),ie.toFormat("yyyy-MM-dd")}static{this.\u0275fac=function(ie){return new(ie||V)}}static{this.\u0275cmp=n.VBU({type:V,selectors:[["app-date-time"]],hostVars:2,hostBindings:function(ie,le){2&ie&&n.xc7("opacity",le.opacity)},inputs:{id:"id",value:"value",displayType:"displayType",required:"required",disabled:"disabled",min:"min",max:"max"},outputs:{keyup:"keyup"},features:[n.Jv_([{provide:e.kq,useExisting:(0,n.Rfq)(()=>V),multi:!0},{provide:e.cz,useExisting:(0,n.Rfq)(()=>V),multi:!0}])],decls:8,vars:3,consts:[["timeTemplate",""],["dateTemplate",""],["class","tw-flex tw-items-center",4,"ngIf"],["class","tw-flex tw-flex-wrap",4,"ngIf"],[1,"tw-flex","tw-items-center"],[4,"ngTemplateOutlet"],[1,"tw-flex","tw-flex-wrap"],[1,"tw-w-18"],[1,"tw-flex-none","tw-flex","tw-items-center","tw-pl-3"],[1,"sr-only",3,"for"],[1,"tw-form-select","tw-flex-no-shrink","tw-w-18"],[1,"tw-form-control",3,"ngModelChange","id","ngModel"],["disabled","","selected","",3,"value"],[3,"value",4,"ngFor","ngForOf"],["aria-hidden","true",1,"tw-font-semibold","tw-flex-no-shrink","px-1"],[3,"value"],["type","date","placeholder","dd/mm/yyyy",1,"tw-form-control",3,"ngModelChange","keyup","id","ngModel"]],template:function(ie,le){1&ie&&(n.j41(0,"div"),n.DNE(1,f,2,1,"div",2)(2,m,5,2,"div",3)(3,w,2,1,"div",3)(4,x,16,10,"ng-template",null,0,n.C5r)(6,O,1,5,"ng-template",null,1,n.C5r),n.k0s()),2&ie&&(n.R7$(),n.Y8G("ngIf","time"==le.displayType),n.R7$(),n.Y8G("ngIf","datetime"==le.displayType),n.R7$(),n.Y8G("ngIf","date"==le.displayType))},dependencies:[S.Sq,S.bT,S.T3,e.xH,e.y7,e.me,e.wz,e.BC,e.vS,S.QX],encapsulation:2})}}return V})()},6599:(qe,me,u)=>{"use strict";u.d(me,{Y:()=>v});var n=u(177),e=u(1683),_=u(1780),g=u(9417),S=u(4438);let v=(()=>{class f{static{this.\u0275fac=function(m){return new(m||f)}}static{this.\u0275mod=S.$C({type:f})}static{this.\u0275inj=S.G2t({imports:[n.MD,g.YN,e.Y,_.h]})}}return f})()},3860:(qe,me,u)=>{"use strict";u.d(me,{$:()=>g});var n=u(9417),e=u(7263),_=u(4438);let g=(()=>{class S{validate(f){return this.regex?(0,e.AB)(new RegExp(this.regex,"i"))(f):null}static{this.\u0275fac=function(d){return new(d||S)}}static{this.\u0275dir=_.FsC({type:S,selectors:[["","appClaimRegex",""]],inputs:{regex:[_.Mj6.None,"appClaimRegex","regex"]},features:[_.Jv_([{provide:n.cz,useExisting:S,multi:!0}])]})}}return S})()},5663:(qe,me,u)=>{"use strict";u.d(me,{Q:()=>v});var n=u(5794),e=u(1583),_=u(1780),g=u(4438),S=u(7005);let v=(()=>{class f{constructor(E){this.injector=E}handleError(E){if((0,g.naY)())console.log(E);else{const m=this.injector.get(e.Ix),F=this.injector.get(n.tw),w=this.injector.get(_.c$),C=this.injector.get(S.QG);F.info(w.instant("Notifications.Support")),F.info(w.instant("Notifications.Apology"),w.instant("Notifications.Sorry"));const R=C.translateRoute("/home");m.navigateByUrl(R)}}static{this.\u0275fac=function(m){return new(m||f)(g.KVO(g.zZn))}}static{this.\u0275prov=g.jDH({token:f,factory:f.\u0275fac})}}return f})()},7811:(qe,me,u)=>{"use strict";u.d(me,{j:()=>U});var n=u(4438),e=u(1413),_=u(1985),g=u(5558),S=u(6354),v=u(7673),f=u(1584),d=u(526),E=u(9417),m=u(8400),F=u(177),w=u(1780);function C(G,ie){if(1&G&&(n.j41(0,"option",11),n.EFF(1),n.k0s()),2&G){const le=ie.$implicit;n.Y8G("value",le),n.R7$(),n.JRh(le)}}function R(G,ie){if(1&G){const le=n.RV6();n.j41(0,"select",9,1),n.bIt("ngModelChange",function(J){n.eBV(le);const te=n.XpG();return n.Njj(te.valueChanged.emit(J))})("keyup",function(){n.eBV(le);const J=n.XpG();return n.Njj(J.keyupEvent.emit())}),n.DNE(2,C,2,2,"option",10),n.k0s()}if(2&G){const le=n.sdS(1),L=n.XpG();n.Y8G("id",L.forId)("ngModel",L.value)("disabled",L.disabled&&!le.dirty),n.R7$(2),n.Y8G("ngForOf",L.allowedValues)}}function x(G,ie){if(1&G){const le=n.RV6();n.j41(0,"input",12,1),n.nI1(2,"translate"),n.bIt("ngModelChange",function(J){n.eBV(le);const te=n.XpG();return n.Njj(te.valueChanged.emit(J))})("focus",function(J){n.eBV(le);const te=n.XpG();return n.Njj(te.onFocus(J))}),n.k0s()}if(2&G){const le=n.sdS(1),L=n.XpG(),J=n.sdS(5);n.FS9("placeholder",n.bMT(2,9,"ClaimTypes.TypeaheadHelp")),n.Y8G("id",L.forId)("container",L.hostingModal)("ngModel",L.value)("typeahead",L.dataSource)("typeaheadWaitMs",200)("typeaheadAsync",!0)("typeaheadItemTemplate",J)("disabled",L.disabled&&!le.dirty)}}function O(G,ie){if(1&G&&(n.j41(0,"span"),n.EFF(1),n.nI1(2,"slice"),n.k0s()),2&G){const le=ie.item;n.R7$(),n.JRh(le.length>20?n.brH(2,1,le,0,20)+"...":le)}}function H(G,ie){1&G&&(n.j41(0,"div",13),n.nrm(1,"span",14),n.j41(2,"span"),n.EFF(3),n.nI1(4,"translate"),n.k0s()()),2&G&&(n.R7$(3),n.JRh(n.bMT(4,1,"Common.LoadingPleaseWait")))}function M(G,ie){1&G&&(n.j41(0,"div",15),n.nrm(1,"span",16),n.j41(2,"span"),n.EFF(3),n.nI1(4,"translate"),n.k0s()()),2&G&&(n.R7$(3),n.JRh(n.bMT(4,1,"ClaimTypes.AllowedValuesFiltering.NothingFound")))}function V(G,ie){if(1&G&&(n.j41(0,"div",17),n.nrm(1,"span",16),n.j41(2,"span"),n.EFF(3),n.nI1(4,"translate"),n.k0s()()),2&G){const le=n.XpG();n.R7$(3),n.Lme("",n.bMT(4,2,"ClaimTypes.AllowedValuesFiltering.TooManyFound")," (",le.totalValues,")")}}let U=(()=>{class G{set hostingModal(le){this._hostingModal=le}get hostingModal(){return null!=this._hostingModal?`#${this._hostingModal}`:null}set typeId(le){this._typeId=le,this.typeIdSub.next(le)}get typeId(){return this._typeId}constructor(le){this.claimTypesService=le,this.valueChanged=new n.bkB,this.disabled=!1,this.keyupEvent=new n.bkB,this.typeIdSub=new e.B,this.threshold=50,this.typeahead=!1,this.loading=!1,this.nothingFound=!1,this.tooManyResults=!1,this.typeIdSub.subscribe(L=>{this.claimTypesService.getAllowedValues(this._typeId,null,this.threshold).subscribe(J=>{this.totalValues=J.totalAllowedValues,this.allowedValues=J.allowedValues,this.typeahead=!this.allowedValues,this.allowedValues||(this.dataSource=this.initDataSrc())})})}initDataSrc(){return new _.c(le=>{this.loading=!0,this.nothingFound=!1,this.tooManyResults=!1,le.next(this.value)}).pipe((0,g.n)(le=>le?this.claimTypesService.getAllowedValues(this.typeId,le,this.threshold).pipe((0,S.T)(L=>(this.totalValues=L.totalAllowedValues,this.allowedValues=L.allowedValues,this.loading=!1,this.nothingFound=L.totalAllowedValues<=0,this.tooManyResults=L.totalAllowedValues>=this.threshold,L.allowedValues||[]))):(this.loading=!1,this.nothingFound=!1,this.tooManyResults=!1,(0,v.of)([]))))}onFocus(le){le.stopPropagation(),(0,f.O)(1).subscribe(()=>{const L=new Event("input");le.target?.dispatchEvent(L)})}static{this.\u0275fac=function(L){return new(L||G)(n.rXU(d.X))}}static{this.\u0275cmp=n.VBU({type:G,selectors:[["app-enum-claim-type-input"]],inputs:{hostingModal:"hostingModal",forId:[n.Mj6.None,"id","forId"],typeId:"typeId",inModal:"inModal",value:"value",disabled:"disabled"},outputs:{valueChanged:"valueChanged",keyupEvent:"keyupEvent"},decls:9,vars:5,consts:[["customItemTemplate",""],["claimvalue","ngModel"],[1,"tw-form-select"],["class","tw-form-control","name","enum","required","",3,"id","ngModel","disabled","ngModelChange","keyup",4,"ngIf"],[1,"tw-form-typeahead"],["class","tw-form-control","type","text","name","enum","autocomplete","off","required","",3,"id","container","ngModel","typeahead","typeaheadWaitMs","typeaheadAsync","typeaheadItemTemplate","placeholder","disabled","ngModelChange","focus",4,"ngIf"],["id","typeahead-loading-msg","class","tw-form-label tw-text-sm tw-mt-2",4,"ngIf"],["id","typeahead-nothing-found-msg","class","tw-form-label tw-text-sm tw-mt-2",4,"ngIf"],["id","typeahead-too-many-msg","class","tw-form-label tw-text-sm tw-mt-2",4,"ngIf"],["name","enum","required","",1,"tw-form-control",3,"ngModelChange","keyup","id","ngModel","disabled"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["type","text","name","enum","autocomplete","off","required","",1,"tw-form-control",3,"ngModelChange","focus","id","container","ngModel","typeahead","typeaheadWaitMs","typeaheadAsync","typeaheadItemTemplate","placeholder","disabled"],["id","typeahead-loading-msg",1,"tw-form-label","tw-text-sm","tw-mt-2"],[1,"fad","fa-spinner-third","fa-spin","tw-text-secondary-500","tw-mr-2"],["id","typeahead-nothing-found-msg",1,"tw-form-label","tw-text-sm","tw-mt-2"],[1,"fa","fa-exclamation-triangle","tw-text-secondary-500","tw-mr-2"],["id","typeahead-too-many-msg",1,"tw-form-label","tw-text-sm","tw-mt-2"]],template:function(L,J){1&L&&(n.j41(0,"div",2),n.DNE(1,R,3,4,"select",3),n.k0s(),n.j41(2,"div",4),n.DNE(3,x,3,11,"input",5),n.k0s(),n.DNE(4,O,3,5,"ng-template",null,0,n.C5r)(6,H,5,3,"div",6)(7,M,5,3,"div",7)(8,V,5,4,"div",8)),2&L&&(n.R7$(),n.Y8G("ngIf",!J.typeahead),n.R7$(2),n.Y8G("ngIf",J.typeahead),n.R7$(3),n.Y8G("ngIf",J.typeahead&&J.loading),n.R7$(),n.Y8G("ngIf",J.typeahead&&J.nothingFound),n.R7$(),n.Y8G("ngIf",J.typeahead&&J.tooManyResults))},dependencies:[E.xH,E.y7,E.me,E.wz,E.BC,E.YS,E.vS,m.Xi,F.Sq,F.bT,F.P9,w.D9],encapsulation:2})}}return G})()},8389:(qe,me,u)=>{"use strict";u.d(me,{w:()=>F});var n=u(177),e=u(1780),_=u(8400),g=u(9417),S=u(6599),v=u(4367),f=u(7677),d=u(1683),E=u(3843),m=u(4438);let F=(()=>{class w{static{this.\u0275fac=function(x){return new(x||w)}}static{this.\u0275mod=m.$C({type:w})}static{this.\u0275inj=m.G2t({imports:[g.YN,g.X1,_.qP,n.MD,e.h,S.Y,v.N,f.N,d.Y,E.G]})}}return w})()},2891:(qe,me,u)=>{"use strict";u.d(me,{t:()=>w});var n=u(4438),e=u(9417),_=u(7263),g=u(1780),S=u(177),v=u(2292);function f(C,R){if(1&C){const x=n.RV6();n.j41(0,"div",6)(1,"div",7),n.nrm(2,"input",8),n.j41(3,"button",9),n.bIt("click",function(){n.eBV(x);const H=n.XpG();return n.Njj(H.onAdd())}),n.nrm(4,"span",10),n.j41(5,"span",11),n.EFF(6),n.nI1(7,"translate"),n.k0s()()()()}if(2&C){const x=n.XpG();n.R7$(2),n.FS9("id",x.id+"-newValue-input"),n.BMQ("list",x.suggestionListId),n.R7$(),n.FS9("id",x.id+"-newValue-button"),n.Y8G("disabled",x.addDisabled),n.R7$(3),n.JRh(n.bMT(7,5,"Common.Add"))}}function d(C,R){if(1&C&&(n.j41(0,"option"),n.EFF(1),n.k0s()),2&C){const x=R.$implicit;n.R7$(),n.JRh(x)}}function E(C,R){if(1&C){const x=n.RV6();n.j41(0,"app-pill-list",12),n.bIt("onDelete",function(H){n.eBV(x);const M=n.XpG();return n.Njj(M.onDelete(H))}),n.k0s()}if(2&C){const x=n.XpG();n.Y8G("readonly",x.reserved)("id",x.id)("values",x.value)}}function m(C,R){if(1&C&&(n.j41(0,"span",13),n.EFF(1),n.k0s()),2&C){const x=n.XpG();n.R7$(),n.JRh(x.valueLimitMsg)}}function F(C,R){if(1&C&&(n.j41(0,"span",14),n.EFF(1),n.nI1(2,"translate"),n.k0s()),2&C){const x=R.$implicit;n.R7$(),n.Lme("",x.key,": ",n.bMT(2,2,x.value),"")}}let w=(()=>{class C{get newValue(){return this.form.get("newValue")?.value}set newValue(x){this.form.get("newValue").setValue(x)}get suggestionListId(){return`${this.id}-suggestions`}get availableSuggestions(){return this.suggestions?.filter(x=>!this.value.includes(x))}get errors(){let x=this.form.get("newValue");return x.dirty?x?.errors??[]:[]}get valueLimitMsg(){return this.tranlate.instant("Errors.PillListLimitReached",[this.value.length,this.valueLimit])}constructor(x,O){this.fb=x,this.tranlate=O,this.id=(0,_.Nl)(),this.value=[],this.required=!1,this.disabled=!1,this.reserved=!1,this.valueLimit=50,this.validators=[],this.suggestions=[],this.onChange=H=>{},this.onTouched=()=>{}}ngOnInit(){this.form=this.fb.group({newValue:["",this.validators]})}writeValue(x){this.value=x}registerOnChange(x){this.onChange=x}registerOnTouched(x){this.onTouched=x}setDisabledState(x){this.disabled=x}validate(x){return!this.required||this.value?.length?null:{required:{valid:!1}}}get addDisabled(){return this.isNullOrEmpty(this.newValue)||this.value.includes(this.newValue)||this.form.get("newValue").invalid}onAdd(){this.newValue&&(this.value.push(this.newValue),this.onChange(this.value),this.newValue="",this.form.markAsPristine())}onDelete(x){this.value.splice(x,1),this.onChange(this.value)}isNullOrEmpty(x){return!x||null!==x.match(/^ *$/)}static{this.\u0275fac=function(O){return new(O||C)(n.rXU(e.ze),n.rXU(g.c$))}}static{this.\u0275cmp=n.VBU({type:C,selectors:[["app-freetext-list-input"]],inputs:{id:"id",value:"value",required:"required",disabled:"disabled",reserved:"reserved",valueLimit:"valueLimit",validators:"validators",suggestions:"suggestions"},features:[n.Jv_([{provide:e.kq,useExisting:(0,n.Rfq)(()=>C),multi:!0},{provide:e.cz,useExisting:(0,n.Rfq)(()=>C),multi:!0}])],decls:11,vars:7,consts:[[3,"formGroup"],["class","tw-form-row",4,"ngIf"],[3,"id"],[1,"tw-mb-5"],[3,"readonly","id","values"],["class","tw-alert-danger","role","alert",4,"ngFor","ngForOf"],[1,"tw-form-row"],[1,"tw-flex","tw-w-full","lg:tw-max-w-2xl"],["type","text","autocomplete","off","formControlName","newValue",1,"tw-form-control","tw-rounded-r-none","tw-border-r-0",3,"id"],[1,"tw-btn","tw-rounded-l-none",3,"click","id","disabled"],["aria-hidden","true",1,"far","fa-plus"],[1,"sr-only"],[3,"onDelete","readonly","id","values"],["id","too-many-values"],["role","alert",1,"tw-alert-danger"]],template:function(O,H){1&O&&(n.j41(0,"form",0),n.DNE(1,f,8,7,"div",1),n.j41(2,"datalist",2),n.Z7z(3,d,2,1,"option",null,n.fX1),n.k0s(),n.j41(5,"div",3),n.DNE(6,E,1,3,"app-pill-list",4)(7,m,2,1),n.k0s(),n.j41(8,"div"),n.DNE(9,F,3,4,"span",5),n.nI1(10,"keyvalue"),n.k0s()()),2&O&&(n.Y8G("formGroup",H.form),n.R7$(),n.Y8G("ngIf",!H.reserved),n.R7$(),n.Y8G("id",H.suggestionListId),n.R7$(),n.Dyx(H.availableSuggestions),n.R7$(3),n.vxM(6,H.value.length<=H.valueLimit||!H.reserved?6:7),n.R7$(3),n.Y8G("ngForOf",n.bMT(10,5,H.errors)))},dependencies:[S.Sq,S.bT,e.qT,e.xH,e.y7,e.me,e.BC,e.cb,e.j4,e.JD,v.L,S.lG,g.D9],encapsulation:2})}}return C})()},8906:(qe,me,u)=>{"use strict";u.d(me,{G:()=>f});var n=u(177),e=u(8389),_=u(9417),g=u(1780),S=u(3843),v=u(4438);let f=(()=>{class d{static{this.\u0275fac=function(F){return new(F||d)}}static{this.\u0275mod=v.$C({type:d})}static{this.\u0275inj=v.G2t({imports:[n.MD,_.YN,_.X1,e.w,g.h,S.G]})}}return d})()},4701:(qe,me,u)=>{"use strict";u.d(me,{u:()=>U});var n=u(6536),e=u(7263),_=u(4438),g=u(9417),S=u(177),v=u(8698),f=u(9550),d=u(3860),E=u(7811);const m=["claimsForm"];function F(G,ie){if(1&G){const le=_.RV6();_.j41(0,"input",11,1),_.bIt("keyup",function(){_.eBV(le);const J=_.XpG().$implicit,te=_.XpG();return _.Njj(te.checkForPolicyClaimForm(J.type,J))}),_.mxI("ngModelChange",function(J){_.eBV(le);const te=_.XpG().$implicit;return _.DH7(te.value,J)||(te.value=J),_.Njj(J)}),_.k0s()}if(2&G){const le=_.sdS(1),L=_.XpG(),J=L.$implicit,te=L.index,I=_.XpG();_.Mz_("id","claim-",te,""),_.Y8G("name",J.type),_.R50("ngModel",J.value),_.Y8G("appClaimRegex",J.regex)("disabled",I.notAllowedToEditClaim(J)&&!le.dirty)}}function w(G,ie){if(1&G){const le=_.RV6();_.j41(0,"input",12,1),_.bIt("keyup",function(){_.eBV(le);const J=_.XpG().$implicit,te=_.XpG();return _.Njj(te.checkForPolicyClaimForm(J.type,J))}),_.mxI("ngModelChange",function(J){_.eBV(le);const te=_.XpG().$implicit;return _.DH7(te.value,J)||(te.value=J),_.Njj(J)}),_.k0s()}if(2&G){const le=_.sdS(1),L=_.XpG(),J=L.$implicit,te=L.index,I=_.XpG();_.Mz_("id","claim-",te,""),_.Y8G("name",J.type),_.R50("ngModel",J.value),_.Y8G("disabled",I.notAllowedToEditClaim(J)&&!le.dirty)}}function C(G,ie){if(1&G){const le=_.RV6();_.j41(0,"app-form-toggle",13)(1,"input",14),_.bIt("keyup",function(){_.eBV(le);const J=_.XpG().$implicit,te=_.XpG();return _.Njj(te.checkForPolicyClaimForm(J.type,J))})("ngModelChange",function(J){_.eBV(le);const te=_.XpG().$implicit;return _.Njj(te.value=J?"true":"false")}),_.k0s()()}if(2&G){const le=_.XpG(),L=le.$implicit,J=le.index,te=_.XpG();_.Y8G("id","claim-"+J)("isTraffic",!0)("isAlt",!1),_.R7$(),_.Y8G("id","claim-"+J)("name",L.type)("disabled",te.notAllowedToEditClaim(L)&&!te.claimvalue.dirty)("ngModel","true"==L.value)}}function R(G,ie){if(1&G){const le=_.RV6();_.qex(0),_.j41(1,"app-date-time",17,1),_.mxI("ngModelChange",function(J){_.eBV(le);const te=_.XpG(2).$implicit;return _.DH7(te.value,J)||(te.value=J),_.Njj(J)}),_.bIt("keyup",function(){_.eBV(le);const J=_.XpG(2).$implicit,te=_.XpG();return _.Njj(te.checkForPolicyClaimForm(J.type,J))})("change",function(){_.eBV(le);const J=_.XpG(3);return _.Njj(J.makeFormDirty())}),_.k0s(),_.bVm()}if(2&G){const le=_.sdS(2),L=_.XpG(2),J=L.$implicit,te=L.index,I=_.XpG();_.R7$(),_.Mz_("id","claim-",te,""),_.Y8G("name",J.type),_.R50("ngModel",J.value),_.Y8G("disabled",I.notAllowedToEditClaim(J)&&!le.dirty)}}function x(G,ie){if(1&G){const le=_.RV6();_.qex(0),_.j41(1,"app-date-time",18,1),_.mxI("ngModelChange",function(J){_.eBV(le);const te=_.XpG(2).$implicit;return _.DH7(te.value,J)||(te.value=J),_.Njj(J)}),_.bIt("keyup",function(){_.eBV(le);const J=_.XpG(2).$implicit,te=_.XpG();return _.Njj(te.checkForPolicyClaimForm(J.type,J))})("change",function(){_.eBV(le);const J=_.XpG(3);return _.Njj(J.makeFormDirty())}),_.k0s(),_.bVm()}if(2&G){const le=_.sdS(2),L=_.XpG(2),J=L.$implicit,te=L.index,I=_.XpG();_.R7$(),_.Mz_("id","claim-",te,""),_.Y8G("name",J.type)("displayType",I.dateTimeDisplayType.Date),_.R50("ngModel",J.value),_.Y8G("disabled",I.notAllowedToEditClaim(J)&&!le.dirty)}}function O(G,ie){if(1&G&&(_.j41(0,"div",15),_.DNE(1,R,3,5,"ng-container",16)(2,x,3,6,"ng-container",16),_.k0s()),2&G){const le=_.XpG().$implicit;_.R7$(),_.Y8G("ngIf","birthdate"!=le.type),_.R7$(),_.Y8G("ngIf","birthdate"==le.type)}}function H(G,ie){if(1&G){const le=_.RV6();_.j41(0,"div",19)(1,"app-enum-claim-type-input",20),_.bIt("valueChanged",function(J){_.eBV(le);const te=_.XpG().$implicit,I=_.XpG();return te.value=J,_.Njj(I.makeFormDirty())})("keyupEvent",function(){_.eBV(le);const J=_.XpG().$implicit,te=_.XpG();return _.Njj(te.checkForPolicyClaimForm(J.type,J))}),_.k0s()()}if(2&G){const le=_.XpG(),L=le.$implicit,J=le.index,te=_.XpG();_.R7$(),_.Y8G("id","claim-"+J)("typeId",te.getClaimType(L).id)("value",L.value)("disabled",te.notAllowedToEditClaim(L))}}function M(G,ie){if(1&G&&(_.j41(0,"span",21),_.EFF(1),_.k0s()),2&G){const le=_.XpG().$implicit;_.R7$(),_.JRh(le.failureMessage)}}function V(G,ie){if(1&G&&(_.j41(0,"app-form-row",4),_.DNE(1,F,2,6,"input",5)(2,w,2,5,"input",6)(3,C,2,7,"app-form-toggle",7)(4,O,3,2,"div",8)(5,H,2,4,"div",9)(6,M,2,1,"span",10),_.k0s()),2&G){const le=ie.$implicit,L=ie.index,J=_.XpG();_.Y8G("id","claim-"+L)("label",J.getLabel(le))("help",J.getHelpTextString(le)),_.R7$(),_.Y8G("ngIf","String"==le.format),_.R7$(),_.Y8G("ngIf","Int"==le.format),_.R7$(),_.Y8G("ngIf","Boolean"==le.format),_.R7$(),_.Y8G("ngIf","DateTime"==le.format),_.R7$(),_.Y8G("ngIf","Enum"==le.format),_.R7$(),_.Y8G("ngIf",J.claimDirtyAndInvalid(le.type))}}let U=(()=>{class G{constructor(){this.claims=null,this.notAllowedToEditClaim=()=>!1,this.isPolicyClaim=()=>!1,this.requiredClaims=[],this.dateTimeDisplayType=n.e}ngOnChanges(){for(const le of this.claimTypes??[])if(le.required){let L="Boolean"===le.valueType?"false":null,J=this.claims?.filter(I=>I.type===le.name)??[];J.length>0&&!(0,e.hX)(J[0].value)&&(L=J[0].value);const te={typeId:le.id,format:le.valueType,value:L,type:le.name,displayName:le.displayName,editing:!1,required:le.required};le.rule&&(te.regex=le.rule,te.failureMessage=le.ruleValidationFailureDescription),this.requiredClaims.push(te)}}getHelpTextString(le){return this.isPolicyClaim(le)?"DateTime"==le.format?"Common.PolicyWithUTCNotice":"Common.Policy":"DateTime"==le.format?"Common.Dates.UTCWarning":""}checkForPolicyClaimForm(le,L){this.notAllowedToEditClaim(L)&&this.claimsForm.form.controls[le].setErrors({incorrect:!0})}isClaimInValid(le){return this.claimsForm.form.get(le)?.invalid??!1}makeFormDirty(){this.claimsForm.form.markAsDirty()}isFormValid(){return this.claimsForm.form.valid}claimDirtyAndInvalid(le){let L=this.claimsForm.form.get(le)??{invalid:!1,dirty:!1};return L.invalid&&L.dirty}resetForm(){this.claimsForm.reset()}getClaimType(le){return this.claimTypes.find(L=>L.name===le.type)}getLabel(le){return(0,e.gP)(le.displayName)?le.type:le.displayName}static{this.\u0275fac=function(L){return new(L||G)}}static{this.\u0275cmp=_.VBU({type:G,selectors:[["app-required-claims-form"]],viewQuery:function(L,J){if(1&L&&_.GBs(m,7),2&L){let te;_.mGM(te=_.lsd())&&(J.claimsForm=te.first)}},inputs:{claimTypes:"claimTypes",claims:"claims",notAllowedToEditClaim:"notAllowedToEditClaim",isPolicyClaim:"isPolicyClaim"},features:[_.OA$],decls:3,vars:1,consts:[["claimsForm","ngForm"],["claimvalue","ngModel"],["id","requiredClaims"],[3,"id","label","help",4,"ngFor","ngForOf"],[3,"id","label","help"],["class","tw-form-control","type","text","required","",3,"name","ngModel","appClaimRegex","id","disabled","keyup","ngModelChange",4,"ngIf"],["class","tw-form-control","type","number","required","",3,"name","ngModel","id","disabled","keyup","ngModelChange",4,"ngIf"],[3,"id","isTraffic","isAlt",4,"ngIf"],["class","tw-w-full sm:tw-max-w-2xl",4,"ngIf"],["class","",4,"ngIf"],["id","fail-msg","class","tw-form-text-danger",4,"ngIf"],["type","text","required","",1,"tw-form-control",3,"keyup","ngModelChange","name","ngModel","appClaimRegex","id","disabled"],["type","number","required","",1,"tw-form-control",3,"keyup","ngModelChange","name","ngModel","id","disabled"],[3,"id","isTraffic","isAlt"],["type","checkbox",1,"tw-form-switch__input",3,"keyup","ngModelChange","id","name","disabled","ngModel"],[1,"tw-w-full","sm:tw-max-w-2xl"],[4,"ngIf"],[3,"ngModelChange","keyup","change","id","name","ngModel","disabled"],[3,"ngModelChange","keyup","change","id","name","displayType","ngModel","disabled"],[1,""],[3,"valueChanged","keyupEvent","id","typeId","value","disabled"],["id","fail-msg",1,"tw-form-text-danger"]],template:function(L,J){1&L&&(_.j41(0,"form",2,0),_.DNE(2,V,7,9,"app-form-row",3),_.k0s()),2&L&&(_.R7$(2),_.Y8G("ngForOf",J.requiredClaims))},dependencies:[g.qT,g.me,g.Q0,g.Zm,g.BC,g.cb,g.YS,g.vS,g.cV,S.Sq,S.bT,n.Z,v.Y,f.m,d.$,E.j],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return G})()},803:(qe,me,u)=>{"use strict";u.d(me,{f:()=>g});var n=u(4438);const e=[[["","left",""]],[["","right",""]]],_=["[left]","[right]"];let g=(()=>{class S{static{this.\u0275fac=function(d){return new(d||S)}}static{this.\u0275cmp=n.VBU({type:S,selectors:[["app-row-bar"]],ngContentSelectors:_,decls:4,vars:0,consts:[[1,"tw-flex","tw-items-center","tw-bg-grey-100","tw-py-4","tw-sticky","tw-top-0","tw-z-20"],[1,"tw-shrink-0","tw-m-auto","tw-flex","tw-ml-4"]],template:function(d,E){1&d&&(n.NAR(e),n.j41(0,"div",0),n.SdG(1),n.j41(2,"div",1),n.SdG(3,1),n.k0s()())},encapsulation:2})}}return S})()},8698:(qe,me,u)=>{"use strict";u.d(me,{Y:()=>m});var n=u(4438),e=u(177),_=u(1780);const g=["*"],S=F=>({"last:tw-border-0 last:tw-mb-0 last:tw-pb-0":F});function v(F,w){if(1&F&&(n.nrm(0,"span",7),n.nI1(1,"translate")),2&F){const C=n.XpG(2);n.Y8G("innerHtml",n.bMT(1,1,C.helpText),n.npT)}}function f(F,w){if(1&F&&(n.j41(0,"label",4)(1,"span",5),n.EFF(2),n.nI1(3,"translate"),n.k0s(),n.DNE(4,v,2,3,"span",6),n.k0s()),2&F){const C=n.XpG();n.Y8G("for",C.idFor),n.R7$(2),n.JRh(n.bMT(3,3,C.labelText)),n.R7$(2),n.Y8G("ngIf",C.showHelpText)}}function d(F,w){if(1&F&&(n.nrm(0,"span",7),n.nI1(1,"translate")),2&F){const C=n.XpG(2);n.Y8G("innerHtml",n.bMT(1,1,C.helpText),n.npT)}}function E(F,w){if(1&F&&(n.j41(0,"p",8)(1,"span",5),n.EFF(2),n.nI1(3,"translate"),n.k0s(),n.DNE(4,d,2,3,"span",6),n.k0s()),2&F){const C=n.XpG();n.R7$(2),n.JRh(n.bMT(3,2,C.labelText)),n.R7$(2),n.Y8G("ngIf",C.showHelpText)}}let m=(()=>{class F{constructor(){this.helpText="",this.hasLabel=!0,this.isLast=!1,this.showHelpText=!1}ngOnInit(){""!==this.helpText&&(this.showHelpText=!0)}static{this.\u0275fac=function(R){return new(R||F)}}static{this.\u0275cmp=n.VBU({type:F,selectors:[["app-form-row"]],inputs:{idFor:[n.Mj6.None,"id","idFor"],labelText:[n.Mj6.None,"label","labelText"],helpText:[n.Mj6.None,"help","helpText"],hasLabel:"hasLabel",isLast:"isLast"},ngContentSelectors:g,decls:5,vars:5,consts:[[1,"tw-form-row-border","tw-flex","tw-items-center",3,"ngClass"],["class","tw-form-label-inline",3,"for",4,"ngIf"],["class","tw-form-label-inline",4,"ngIf"],[1,"tw-w-full"],[1,"tw-form-label-inline",3,"for"],[1,"tw-block"],["class","tw-form-label-help",3,"innerHtml",4,"ngIf"],[1,"tw-form-label-help",3,"innerHtml"],[1,"tw-form-label-inline"]],template:function(R,x){1&R&&(n.NAR(),n.j41(0,"div",0),n.DNE(1,f,5,5,"label",1)(2,E,5,4,"p",2),n.j41(3,"div",3),n.SdG(4),n.k0s()()),2&R&&(n.Y8G("ngClass",n.eq3(3,S,x.isLast)),n.R7$(),n.Y8G("ngIf",x.idFor&&x.hasLabel),n.R7$(),n.Y8G("ngIf",!x.idFor&&x.hasLabel))},dependencies:[e.YU,e.bT,_.D9],encapsulation:2})}}return F})()},3663:(qe,me,u)=>{"use strict";u.d(me,{o:()=>C});var n=u(4438),e=u(7263),_=u(6303),g=u(9417),S=u(8114),v=u(8762),f=u(8698),d=u(1780),E=u(4692);const m=R=>[R];function F(R,x){1&R&&(n.nrm(0,"span",11),n.j41(1,"span",12),n.EFF(2),n.nI1(3,"translate"),n.k0s()),2&R&&(n.R7$(2),n.JRh(n.bMT(3,1,"Common.Add")))}function w(R,x){1&R&&(n.nrm(0,"span",13),n.j41(1,"span",12),n.EFF(2),n.nI1(3,"translate"),n.k0s()),2&R&&(n.R7$(2),n.JRh(n.bMT(3,1,"Common.Edit")))}let C=(()=>{class R{get ReadOnlyFieldType(){return _.t}get currentValue(){const O=this.updateSecretForm.get("newSecret").value;return(0,e.gP)(O)?null:O}constructor(O){this.fb=O,this.update=new n.bkB,this.updateSecretForm=O.group({newSecret:["",[]]})}confirm(){this.update.emit(this.currentValue),this.updateSecretForm.patchValue({newSecret:null})}static{this.\u0275fac=function(H){return new(H||R)(n.rXU(g.ze))}}static{this.\u0275cmp=n.VBU({type:R,selectors:[["app-secret-input"]],inputs:{id:"id",label:"label",help:"help",isLast:"isLast",secret:"secret"},outputs:{update:"update"},decls:16,vars:20,consts:[["addClientSecretButton",""],["modifySecretModal",""],[3,"id","label","help","isLast"],[1,"tw-flex","tw-w-full","lg:tw-max-w-2xl"],[3,"fieldType","values"],["type","button","placement","right",1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click","id"],[3,"confirm","close","title","modalId","okText","inFlight"],["body",""],[3,"formGroup"],[1,"tw-mb-4"],["type","text","name","newSecret","id","newSecret","formControlName","newSecret",1,"tw-form-control"],["id","addEditIcon","aria-hidden","true",1,"fas","fa-plus"],[1,"sr-only"],["id","addEditIcon","aria-hidden","true",1,"fad","fa-pencil"]],template:function(H,M){if(1&H){const V=n.RV6();n.j41(0,"app-form-row",2)(1,"div",3),n.nrm(2,"app-readonly",4),n.nI1(3,"readOnlyValue"),n.j41(4,"button",5,0),n.bIt("click",function(){n.eBV(V);const G=n.sdS(9);return n.Njj(G.show())}),n.DNE(6,F,4,3)(7,w,4,3),n.k0s()()(),n.j41(8,"app-confirmation-modal",6,1),n.bIt("confirm",function(){return n.eBV(V),n.Njj(M.confirm())})("close",function(){return n.eBV(V),n.Njj(M.updateSecretForm.patchValue({newSecret:null}))}),n.qex(10,7),n.j41(11,"form",8)(12,"p",9),n.EFF(13),n.nI1(14,"translate"),n.k0s(),n.nrm(15,"input",10),n.k0s(),n.bVm(),n.k0s()}2&H&&(n.Y8G("id",M.id+"secret-value-input")("label",M.label)("help",M.help)("isLast",M.isLast),n.R7$(2),n.Y8G("fieldType",M.ReadOnlyFieldType.Single)("values",n.eq3(18,m,n.bMT(3,14,M.secret))),n.R7$(2),n.Y8G("id",M.id+"-secret-value-change-btn"),n.R7$(2),n.vxM(6,null===M.secret?6:7),n.R7$(2),n.Y8G("title","Common.NewSecretModal.Title")("modalId",M.id+"-modify-secret")("okText","Common.Update")("inFlight",!M.updateSecretForm.valid),n.R7$(3),n.Y8G("formGroup",M.updateSecretForm),n.R7$(2),n.SpI("",n.bMT(14,16,"Common.NewSecretModal.Description"),":"))},dependencies:[g.qT,g.me,g.BC,g.cb,g.j4,g.JD,S.B,v.O,f.Y,d.D9,E.u],encapsulation:2})}}return R})()},9550:(qe,me,u)=>{"use strict";u.d(me,{m:()=>v});var n=u(4438),e=u(177);const _=["*"],g=(f,d)=>({"tw-form-switch__slider--traffic":f,"tw-form-switch__slider--alt":d}),S=(f,d)=>({"tw-form-switch__state--traffic":f,"tw-form-switch__state--alt":d});let v=(()=>{class f{constructor(){this.isAlt=!1,this.isTraffic=!1}static{this.\u0275fac=function(m){return new(m||f)}}static{this.\u0275cmp=n.VBU({type:f,selectors:[["app-form-toggle"]],inputs:{idFor:[n.Mj6.None,"id","idFor"],isAlt:"isAlt",isTraffic:"isTraffic"},ngContentSelectors:_,decls:4,vars:9,consts:[[1,"tw-form-switch",3,"for"],[1,"tw-form-switch__slider",3,"ngClass"],[1,"tw-form-switch__state",3,"ngClass"]],template:function(m,F){1&m&&(n.NAR(),n.j41(0,"label",0),n.SdG(1),n.j41(2,"span",1),n.nrm(3,"span",2),n.k0s()()),2&m&&(n.Y8G("for",F.idFor),n.R7$(2),n.Y8G("ngClass",n.l_i(3,g,F.isTraffic,F.isAlt)),n.R7$(),n.Y8G("ngClass",n.l_i(6,S,F.isTraffic,F.isAlt)))},dependencies:[e.YU],encapsulation:2})}}return f})()},7263:(qe,me,u)=>{"use strict";u.d(me,{$N:()=>V,$_:()=>ie,AB:()=>O,KU:()=>S,Li:()=>G,Nj:()=>_,Nl:()=>x,TO:()=>M,X4:()=>I,Yt:()=>C,Zt:()=>H,_U:()=>w,ci:()=>le,gP:()=>d,hX:()=>v,hr:()=>g,jk:()=>L,kI:()=>E,lK:()=>oe,uf:()=>F,zG:()=>J});var n=u(3178),e=u(4549);function _(z,_e=" "){return v(z)?"":z.join(_e)}function g(z,_e=" "){return d(z)?[]:z.split(_e)}function S(z,_e){return`${e.c9.fromISO(z).toFormat(_e)} UTC`}function v(z){return null==z}function d(z){return null==z||"string"!=typeof z||""===z||null!==z.match(/^ *$/)}function E(z){const _e=document.createElement("a");return _e.href=z,_e.protocol+"//"+decodeURIComponent(_e.host)}function F(z){const Pe=new RegExp("(^https?://|urn:|tcp://)").exec(z);if(Pe){if("urn:"===Pe[0])return!1}else z="http://"+z;const Re=z.split("/");return z.endsWith("/")?Re.length>4:Re.length>3}function w(z){const Pe=new RegExp("https?://|urn:|tcp://").exec(z);return Pe?Pe[0]:null}function C(z,_e){const Pe=JSON.parse(JSON.stringify(z));return _e.forEach(Re=>{let ke=Pe.length;for(;ke--;)Pe[ke].name===Re.name&&Pe.splice(ke,1)}),Pe}function x(){let z=(new Date).getTime();return typeof performance<"u"&&"function"==typeof performance.now&&(z+=performance.now()),"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(_e){const Pe=(z+16*Math.random())%16|0;return z=Math.floor(z/16),("x"===_e?Pe:3&Pe|8).toString(16)})}function O(z){return _e=>z.test(_e.value)?null:{regex:{value:_e.value}}}function H(){return z=>0===(z.value||"").trim().length?{whitespace:{value:z.value}}:null}function M(z){const _e=e.c9.now();return e.c9.fromISO(z.value).diff(_e).milliseconds>1?{dateInFuture:!0}:null}function V(z){const _e=e.c9.fromISO(z.get("fromDate").value);return e.c9.fromISO(z.get("toDate").value).diff(_e,"minutes").minutes<1?{fromDateIsAfterToDate:!0}:null}function G(z){if(z&&z.size>0){const _e={};return z.forEach((Pe,Re)=>{_e[Re]=Pe}),_e}return{}}function ie(){const z=document.getElementsByTagName("base")[0].attributes.href.value;return d(z)?"/":z.endsWith("/")?z:`${z}/`}function le(z){return!(!z||0===z.length)&&(z.includes(n.a.IdentityServerManagerReadOnly)||z.includes(n.a.AllReadOnly))&&!(z.includes(n.a.IdentityServerManager)||z.includes(n.a.All))}function L(z){return!(!z||0===z.length)&&(z.includes(n.a.IdentityServerManager)||z.includes(n.a.All))}function J(z){return!(!z||0===z.length)&&(z.includes(n.a.UserManagerReadOnly)||z.includes(n.a.AllReadOnly))&&!(z.includes(n.a.UserManager)||z.includes(n.a.All))}function I(z){return!(!z||0===z.length)&&z.includes(n.a.All)}function oe(z){return!(!z||0===z.length)&&z.includes(n.a.AllReadOnly)&&!z.includes(n.a.All)}},1560:(qe,me,u)=>{"use strict";u.d(me,{T:()=>le});var n=u(4438),e=u(9417),_=u(4866),g=u(3806),S=u(1088),v=u(7263),f=u(177),d=u(1780);const E=(L,J)=>({"tw-btn active":L,"tw-btn-link":J});function m(L,J){if(1&L&&(n.j41(0,"div"),n.nrm(1,"input",7),n.k0s()),2&L){const te=n.XpG();n.R7$(),n.FS9("id",te.id+"-input"),n.Y8G("ngModel",te.value)}}function F(L,J){if(1&L){const te=n.RV6();n.j41(0,"div")(1,"input",8),n.bIt("keydown",function(oe){n.eBV(te);const z=n.XpG();return n.Njj(z.onKeyDown(oe))})("paste",function(oe){n.eBV(te);const z=n.XpG();return n.Njj(z.onPaste(oe))})("ngModelChange",function(oe){n.eBV(te);const z=n.XpG();return n.Njj(z.onValueChange(oe))}),n.k0s()()}if(2&L){const te=n.XpG();n.R7$(),n.FS9("id",te.id+"-input"),n.Y8G("ngModel",te.value)("disabled",te.disabled)}}function w(L,J){if(1&L&&(n.j41(0,"span",13),n.EFF(1),n.nI1(2,"translate"),n.k0s()),2&L){const te=n.XpG(2);n.R7$(),n.Lme(" ",te.timeSpan.years," ",n.bMT(2,2,te.displayTimeSpanUnit(te.timeSpan.years,"Year"))," ")}}function C(L,J){if(1&L&&(n.j41(0,"span",13),n.EFF(1),n.nI1(2,"translate"),n.k0s()),2&L){const te=n.XpG(2);n.R7$(),n.Lme(" ",te.timeSpan.months," ",n.bMT(2,2,te.displayTimeSpanUnit(te.timeSpan.months,"Month"))," ")}}function R(L,J){if(1&L&&(n.j41(0,"span",13),n.EFF(1),n.nI1(2,"translate"),n.k0s()),2&L){const te=n.XpG(2);n.R7$(),n.Lme(" ",te.timeSpan.weeks," ",n.bMT(2,2,te.displayTimeSpanUnit(te.timeSpan.weeks,"Week"))," ")}}function x(L,J){if(1&L&&(n.j41(0,"span",13),n.EFF(1),n.nI1(2,"translate"),n.k0s()),2&L){const te=n.XpG(2);n.R7$(),n.Lme(" ",te.timeSpan.days," ",n.bMT(2,2,te.displayTimeSpanUnit(te.timeSpan.days,"Day"))," ")}}function O(L,J){if(1&L&&(n.j41(0,"span",13),n.EFF(1),n.nI1(2,"translate"),n.k0s()),2&L){const te=n.XpG(2);n.R7$(),n.Lme(" ",te.timeSpan.hours," ",n.bMT(2,2,te.displayTimeSpanUnit(te.timeSpan.hours,"Hour"))," ")}}function H(L,J){if(1&L&&(n.j41(0,"span",13),n.EFF(1),n.nI1(2,"translate"),n.k0s()),2&L){const te=n.XpG(2);n.R7$(),n.Lme(" ",te.timeSpan.minutes," ",n.bMT(2,2,te.displayTimeSpanUnit(te.timeSpan.minutes,"Minute"))," ")}}function M(L,J){if(1&L&&(n.j41(0,"span",13),n.EFF(1),n.nI1(2,"translate"),n.k0s()),2&L){const te=n.XpG(2);n.R7$(),n.Lme(" ",te.timeSpan.seconds," ",n.bMT(2,2,te.displayTimeSpanUnit(te.timeSpan.seconds,"Second"))," ")}}function V(L,J){if(1&L&&(n.j41(0,"span",13),n.EFF(1),n.nI1(2,"translate"),n.k0s()),2&L){const te=n.XpG(2);n.R7$(),n.SpI(" ",n.bMT(2,1,"Clients.Tokens.Durations."+te.tryGetNullMeaning())," ")}}function U(L,J){if(1&L&&(n.j41(0,"p",9),n.nrm(1,"span",10),n.nI1(2,"translate"),n.j41(3,"span",11),n.DNE(4,w,3,4,"span",12)(5,C,3,4,"span",12)(6,R,3,4,"span",12)(7,x,3,4,"span",12)(8,O,3,4,"span",12)(9,H,3,4,"span",12)(10,M,3,4,"span",12)(11,V,3,3,"span",12),n.k0s()()),2&L){const te=n.XpG();n.FS9("id",te.id+"-longTimeLabel"),n.R7$(),n.BMQ("aria-label",n.bMT(2,10,"Clients.Tokens.DurationTitle")),n.R7$(3),n.Y8G("ngIf",(null==te.timeSpan?null:te.timeSpan.years)>0),n.R7$(),n.Y8G("ngIf",(null==te.timeSpan?null:te.timeSpan.months)>0),n.R7$(),n.Y8G("ngIf",(null==te.timeSpan?null:te.timeSpan.weeks)>0),n.R7$(),n.Y8G("ngIf",(null==te.timeSpan?null:te.timeSpan.days)>0),n.R7$(),n.Y8G("ngIf",(null==te.timeSpan?null:te.timeSpan.hours)>0),n.R7$(),n.Y8G("ngIf",(null==te.timeSpan?null:te.timeSpan.minutes)>0),n.R7$(),n.Y8G("ngIf",(null==te.timeSpan?null:te.timeSpan.seconds)>0),n.R7$(),n.Y8G("ngIf",te.showNullTimeSpan())}}function G(L,J){if(1&L&&(n.j41(0,"span",16),n.EFF(1),n.k0s()),2&L){const te=n.XpG().$implicit;n.R7$(),n.JRh(te.duration)}}function ie(L,J){if(1&L){const te=n.RV6();n.j41(0,"li")(1,"button",14),n.bIt("click",function(){const oe=n.eBV(te).$implicit,z=n.XpG();return n.Njj(z.setInput(oe))}),n.DNE(2,G,2,1,"span",15),n.j41(3,"span"),n.EFF(4),n.nI1(5,"translate"),n.k0s()()()}if(2&L){const te=J.$implicit,I=n.XpG();n.R7$(),n.Y8G("ngClass",n.l_i(6,E,I.checkSelected(te),!I.checkSelected(te)))("disabled",I.disabled),n.R7$(),n.Y8G("ngIf",te.duration),n.R7$(2),n.JRh(n.bMT(5,4,"Clients.Tokens.Durations."+te.unit+"Short"))}}let le=(()=>{class L{constructor(){this.id=(0,v.Nl)(),this.allowNull=!1,this.disabled=!1,this.required=!1,this.unitMap=_.A.getUnitMap(),this.LifetimeUnit=g.u,this.onChange=te=>{},this.onTouched=()=>{}}set value(te){this.setValue(te,!1)}get value(){return this._value}setValue(te,I=!0){null!=te&&!Number.isInteger(te)||(this._value=te,null==te?this.timeSpan=null:this.timeSpan?this.timeSpan.formatSeconds(te):this.timeSpan=new S.Q(te),I&&this.onChange(te))}onValueChange(te){this.setValue(te)}onKeyDown(te){return 69!==te.keyCode&&189!==te.keyCode&&190!==te.keyCode}onPaste(te){const oe=te.clipboardData?.getData("text"),z=Number(oe);Number.isInteger(z)&&(z>0||null==z&&this.allowNull)||te.preventDefault()}writeValue(te){this.setValue(te,!1)}registerOnChange(te){this.onChange=te}registerOnTouched(te){this.onTouched=te}setDisabledState(te){this.disabled=te}validate(te){if(this.required){if(!this.value)return{required:{valid:!1}}}else if(!this.value)return null;return!isNaN(this.value)&&this.value>0?null:{number:{valid:!1}}}nullAwareMultiply(te,I){return null==te||null==I?null:te*I}setInput(te){const I=this.nullAwareMultiply(te.duration,this.unitMap.get(te.unit));this.setValue(I)}checkSelected(te){return this.value===this.nullAwareMultiply(te.duration,this.unitMap.get(te.unit))}displayTimeSpanUnit(te,I){return"Clients.Tokens.Durations."+I+(te>1?"s":"")}showNullTimeSpan(){return!(!this.allowNull||null!=this.timeSpan&&(0!==this.timeSpan.years||0!==this.timeSpan.months||0!==this.timeSpan.weeks||0!==this.timeSpan.days||0!==this.timeSpan.hours||0!==this.timeSpan.minutes||0!==this.timeSpan.seconds))}tryGetNullMeaning(){return this.buttons.find(I=>null===I.duration)?.unit??"NotSet"}static{this.\u0275fac=function(I){return new(I||L)}}static{this.\u0275cmp=n.VBU({type:L,selectors:[["app-lifetime-picker"]],inputs:{id:"id",value:"value",buttons:"buttons",allowNull:"allowNull",disabled:"disabled",required:"required"},features:[n.Jv_([{provide:e.kq,useExisting:(0,n.Rfq)(()=>L),multi:!0},{provide:e.cz,useExisting:(0,n.Rfq)(()=>L),multi:!0}])],decls:8,vars:5,consts:[[1,"tw-flex-grid","sm:tw-flex-nowrap","lg:tw-max-w-2xl"],[1,"tw-flex-grid-col"],[4,"ngIf"],["class","tw-form-text tw-flex tw-items-center",3,"id",4,"ngIf"],[1,"tw-flex-grid-col","sm:tw-w-auto"],[1,"tw-flex","tw-items-center",3,"id"],[4,"ngFor","ngForOf"],["type","number","min","0","disabled","",1,"tw-form-control",3,"id","ngModel"],["type","number","min","0",1,"tw-form-control",3,"keydown","paste","ngModelChange","id","ngModel","disabled"],[1,"tw-form-text","tw-flex","tw-items-center",3,"id"],[1,"far","fa-clock","tw-mr-2","tw--mt-px"],[1,"tw-flex","tw-flex-wrap"],["class","tw-mr-2",4,"ngIf"],[1,"tw-mr-2"],[3,"click","ngClass","disabled"],["class","tw-mr-1",4,"ngIf"],[1,"tw-mr-1"]],template:function(I,oe){1&I&&(n.j41(0,"div",0)(1,"div",1),n.DNE(2,m,2,2,"div",2)(3,F,2,3,"div",2)(4,U,12,12,"p",3),n.k0s(),n.j41(5,"div",4)(6,"ul",5),n.DNE(7,ie,6,9,"li",6),n.k0s()()()),2&I&&(n.R7$(2),n.Y8G("ngIf",oe.disabled),n.R7$(),n.Y8G("ngIf",!oe.disabled),n.R7$(),n.Y8G("ngIf",oe.value>0||null==oe.value&&oe.allowNull),n.R7$(2),n.FS9("id",oe.id+"-buttonList"),n.R7$(),n.Y8G("ngForOf",oe.buttons))},dependencies:[f.YU,f.Sq,f.bT,e.me,e.Q0,e.BC,e.VZ,e.vS,d.D9],encapsulation:2})}}return L})()},967:(qe,me,u)=>{"use strict";u.d(me,{M:()=>v});var n=u(177),e=u(7005),_=u(9417),g=u(1780),S=u(4438);let v=(()=>{class f{static{this.\u0275fac=function(m){return new(m||f)}}static{this.\u0275mod=S.$C({type:f})}static{this.\u0275inj=S.G2t({imports:[n.MD,_.YN,_.X1,e.XE,g.h]})}}return f})()},8114:(qe,me,u)=>{"use strict";u.d(me,{B:()=>E});var n=u(4438),e=u(177),_=u(9216),g=u(1780);const S=["confirmModal"],v=[[["","body",""]]],f=["[body]"];function d(m,F){1&m&&n.nrm(0,"span",9)}let E=(()=>{class m{constructor(){this.type="narrow",this.buttonType="success",this.okText="Common.Ok",this.cancelText="Common.Cancel",this.inFlight=!1,this.confirm=new n.bkB,this.close=new n.bkB}get isShown(){return this.confirmModal.isShown}show(){this.confirmModal.show()}hide(){this.confirmModal.hide()}ok(){this.confirmModal.hideModal(),this.confirm.emit()}closeModal(){this.confirmModal.hideModal(),this.close.emit()}static{this.\u0275fac=function(C){return new(C||m)}}static{this.\u0275cmp=n.VBU({type:m,selectors:[["app-confirmation-modal"]],viewQuery:function(C,R){if(1&C&&n.GBs(S,7),2&C){let x;n.mGM(x=n.lsd())&&(R.confirmModal=x.first)}},inputs:{modalId:"modalId",type:"type",buttonType:"buttonType",title:"title",okText:"okText",cancelText:"cancelText",inFlight:"inFlight"},outputs:{confirm:"confirm",close:"close"},ngContentSelectors:f,decls:14,vars:16,consts:[["confirmModal",""],[3,"close","modalId","title","type"],["body",""],["footer",""],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["data-dismiss","modal",3,"click","id","disabled"],["class","fad fa-spinner-third fa-spin tw-text-secondary-500 tw-mr-2 tw-ml-2",4,"ngIf"],["data-dismiss","modal",1,"tw-btn-link","tw--mr-4",3,"click","id"],[1,"fad","fa-spinner-third","fa-spin","tw-text-secondary-500","tw-mr-2","tw-ml-2"]],template:function(C,R){if(1&C){const x=n.RV6();n.NAR(v),n.j41(0,"app-simple-modal",1,0),n.bIt("close",function(){return n.eBV(x),n.Njj(R.close.emit())}),n.qex(2,2),n.SdG(3),n.bVm(),n.qex(4,3),n.j41(5,"div",4)(6,"div",5)(7,"button",6),n.bIt("click",function(){return n.eBV(x),n.Njj(R.ok())}),n.EFF(8),n.nI1(9,"translate"),n.DNE(10,d,1,0,"span",7),n.k0s()(),n.j41(11,"button",8),n.bIt("click",function(){return n.eBV(x),n.Njj(R.closeModal())}),n.EFF(12),n.nI1(13,"translate"),n.k0s()(),n.bVm(),n.k0s()}2&C&&(n.Y8G("modalId",R.modalId)("title",R.title)("type",R.type),n.R7$(7),n.ZvI("tw-btn",R.buttonType?"-"+R.buttonType:"",""),n.Y8G("id",R.modalId+"-confirmBtn")("disabled",R.inFlight),n.R7$(),n.SpI(" ",n.bMT(9,12,R.okText)," "),n.R7$(2),n.Y8G("ngIf",R.inFlight),n.R7$(),n.Y8G("id",R.modalId+"-cancelBtn"),n.R7$(),n.JRh(n.bMT(13,14,R.cancelText)))},dependencies:[e.bT,_.R,g.D9],encapsulation:2})}}return m})()},7778:(qe,me,u)=>{"use strict";u.d(me,{w:()=>F});var n=u(4438),e=u(177),_=u(8114),g=u(1780);const S=["deleteClientModal"];function v(w,C){1&w&&(n.j41(0,"p",6),n.EFF(1),n.nI1(2,"translate"),n.k0s()),2&w&&(n.R7$(),n.JRh(n.bMT(2,1,"Common.Delete.AreYouSureSimple3")))}function f(w,C){if(1&w&&(n.j41(0,"p",6),n.EFF(1),n.nI1(2,"translate"),n.j41(3,"strong"),n.EFF(4),n.k0s(),n.EFF(5,"?"),n.k0s()),2&w){const R=n.XpG();n.R7$(),n.SpI("",n.bMT(2,2,"Common.Delete.AreYouSureSimple")," "),n.R7$(3),n.JRh(R.resourceName)}}function d(w,C){1&w&&(n.nrm(0,"p",7),n.nI1(1,"translate")),2&w&&n.Y8G("innerHTML",n.bMT(1,1,"Common.Delete.Warning"),n.npT)}function E(w,C){if(1&w&&(n.nrm(0,"p",7),n.nI1(1,"translate")),2&w){const R=n.XpG();n.Y8G("innerHTML",n.bMT(1,1,R.danger),n.npT)}}function m(w,C){if(1&w&&(n.nrm(0,"p",8),n.nI1(1,"translate")),2&w){const R=n.XpG();n.Y8G("innerHTML",n.bMT(1,1,R.warning),n.npT)}}let F=(()=>{class w{constructor(){this.resourceName=null,this.warning=null,this.danger=null,this.destructive=!0,this.delete=new n.bkB,this.close=new n.bkB}get isShown(){return this.deleteModal.isShown}show(){this.deleteModal.show()}hide(){this.deleteModal.hide()}closeModal(){this.deleteModal.hide(),this.close.emit(null)}static{this.\u0275fac=function(x){return new(x||w)}}static{this.\u0275cmp=n.VBU({type:w,selectors:[["app-delete-confirmation-modal"]],viewQuery:function(x,O){if(1&x&&n.GBs(S,7),2&x){let H;n.mGM(H=n.lsd())&&(O.deleteModal=H.first)}},inputs:{modalId:"modalId",resourceName:"resourceName",warning:"warning",danger:"danger",destructive:"destructive"},outputs:{delete:"delete",close:"close"},decls:8,vars:11,consts:[["deleteClientModal",""],[3,"confirm","modalId","type","buttonType","title","okText","cancelText"],["body",""],["class","tw-mb-4",4,"ngIf"],["class","tw-pill-danger",3,"innerHTML",4,"ngIf"],["class","tw-pill-warning",3,"innerHTML",4,"ngIf"],[1,"tw-mb-4"],[1,"tw-pill-danger",3,"innerHTML"],[1,"tw-pill-warning",3,"innerHTML"]],template:function(x,O){if(1&x){const H=n.RV6();n.j41(0,"app-confirmation-modal",1,0),n.bIt("confirm",function(){return n.eBV(H),n.Njj(O.delete.emit())}),n.qex(2,2),n.DNE(3,v,3,3,"p",3)(4,f,6,4,"p",3)(5,d,2,3,"p",4)(6,E,2,3,"p",4)(7,m,2,3,"p",5),n.bVm(),n.k0s()}2&x&&(n.Y8G("modalId",O.modalId)("type","danger")("buttonType","danger")("title","Common.Delete.Confirm")("okText","Common.Delete.Title")("cancelText","Common.Delete.No"),n.R7$(3),n.Y8G("ngIf",!O.resourceName),n.R7$(),n.Y8G("ngIf",O.resourceName),n.R7$(),n.Y8G("ngIf",O.destructive&&null===O.warning&&null===O.danger),n.R7$(),n.Y8G("ngIf",O.destructive&&O.danger),n.R7$(),n.Y8G("ngIf",O.destructive&&O.warning))},dependencies:[e.bT,_.B,g.D9],encapsulation:2})}}return w})()},4367:(qe,me,u)=>{"use strict";u.d(me,{N:()=>f});var n=u(177),e=u(1780),_=u(779),g=u(1993),S=u(4193),v=u(4438);let f=(()=>{class d{static{this.\u0275fac=function(F){return new(F||d)}}static{this.\u0275mod=v.$C({type:d})}static{this.\u0275inj=v.G2t({imports:[n.MD,e.h,g.E,S.c,e.h,_.Q_]})}}return d})()},3899:(qe,me,u)=>{"use strict";u.d(me,{G:()=>L});var n=u(4438),e=u(177),_=u(1413),g=u(3726),S=u(6977),v=u(6354),f=u(9172),d=u(5964),E=u(3993);const m=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");var C=u(1258),R=u(7185),x=u(4754),O=u(1780);const H=["*"];function M(J,te){if(1&J){const I=n.RV6();n.j41(0,"button",16),n.bIt("click",function(){n.eBV(I);const z=n.XpG();return n.Njj(z.cancel())}),n.nrm(1,"span",17),n.j41(2,"span",18),n.EFF(3),n.nI1(4,"translate"),n.k0s()()}2&J&&(n.R7$(3),n.JRh(n.bMT(4,1,"Common.Close")))}function V(J,te){if(1&J){const I=n.RV6();n.j41(0,"button",19),n.bIt("click",function(){n.eBV(I);const z=n.XpG();return n.Njj(z.save())}),n.EFF(1),n.nI1(2,"translate"),n.k0s()}if(2&J){const I=n.XpG();n.Y8G("disabled",I.addDisabled),n.R7$(),n.SpI(" ",n.bMT(2,2,I.saveText)," ")}}function U(J,te){if(1&J){const I=n.RV6();n.j41(0,"button",20),n.bIt("click",function(){n.eBV(I);const z=n.XpG();return n.Njj(z.delete())}),n.EFF(1),n.nI1(2,"translate"),n.k0s()}if(2&J){const I=n.XpG();n.Y8G("disabled",I.deleteDisabled),n.R7$(),n.SpI(" ",n.bMT(2,2,I.deleteText)," ")}}function G(J,te){if(1&J){const I=n.RV6();n.j41(0,"div",21)(1,"button",22),n.bIt("click",function(){n.eBV(I);const z=n.XpG();return n.Njj(z.saveAndReAdd())}),n.EFF(2),n.nI1(3,"translate"),n.k0s()()}if(2&J){const I=n.XpG();n.R7$(),n.Y8G("disabled",I.addDisabled),n.R7$(),n.SpI(" ",n.bMT(3,2,I.saveAndReAddText)," ")}}function ie(J,te){if(1&J){const I=n.RV6();n.j41(0,"button",23),n.bIt("click",function(){n.eBV(I);const z=n.XpG();return n.Njj(z.cancel())}),n.EFF(1),n.nI1(2,"translate"),n.k0s()}2&J&&(n.R7$(),n.SpI(" ",n.bMT(2,1,"Common.Cancel")," "))}function le(J,te){1&J&&n.nrm(0,"div",24)}let L=(()=>{class J{constructor(I,oe,z){this.document=I,this.elRef=oe,this.modalService=z,this.hideCancel=!1,this.modalType=R.q.Default,this.saveText="Common.Save",this.saveAndReAddText="Common.SaveAndAdd",this.deleteText="Common.Delete.Title",this.addDisabled=!1,this.deleteDisabled=!1,this.onSave=new n.bkB,this.onSaveAndReAdd=new n.bkB,this.onDelete=new n.bkB,this.onCancel=new n.bkB,this.isVisible=!1,this.isVisible$=new _.B,this.showBackdrop=!1}ngOnInit(){this.modalService.add(this),this.element=this.elRef.nativeElement.firstChild,this.actions&&(this.canDelete=this.actions.includes(C.N.Delete),this.canSave=this.actions.includes(C.N.Save),this.canSaveAndReAdd=this.actions.includes(C.N.SaveAndReAdd))}delete(){this.onDelete.emit()}save(){this.onSave.emit(),this.modalService.hideById(this.modalId)}saveAndReAdd(){this.onSaveAndReAdd.emit()}show(){this.isVisible=!0,function F(J,te){const I=function w(J){const te=Array.from(J.querySelectorAll(m)).filter(I=>-1!==I.tabIndex);return[te[0],te[te.length-1]]}(J),[oe,z]=I,_e=(0,g.R)(J,"focusin").pipe((0,S.Q)(te),(0,v.T)(Pe=>Pe.target),(0,f.Z)(oe));oe.focus(),(0,g.R)(J,"keydown").pipe((0,S.Q)(te),(0,d.p)(Pe=>"Tab"===Pe.key),(0,E.E)(_e)).subscribe(([Pe,Re])=>{(Re===oe||Re===J)&&Pe.shiftKey&&(z.focus(),Pe.preventDefault()),Re===z&&!Pe.shiftKey&&(oe.focus(),Pe.preventDefault())}),(0,g.R)(document,"click").pipe((0,S.Q)(te),(0,E.E)(_e),(0,v.T)(Pe=>Pe[1])).subscribe(Pe=>{Pe.focus()})}(this.element,this.isVisible$),1===this.modalService.visibleModals()&&(this.showBackdrop=!0,this.document.body.classList.add("tw-overflow-hidden")),(0,g.R)(this.document,"keydown").pipe((0,S.Q)(this.isVisible$),(0,d.p)(I=>"Esc"===I.key)).subscribe(()=>{this.isVisible&&this.cancel()})}cancel(){!1===this.hideCancel&&this.onCancel.emit()}hide(){this.isVisible=!1,this.isVisible$.next(),this.modalService.visibleModals()<1&&(this.showBackdrop=!1,this.document.body.classList.remove("tw-overflow-hidden"))}ngOnDestroy(){this.modalService.hideById(this.modalId),this.modalService.remove(this)}static{this.\u0275fac=function(oe){return new(oe||J)(n.rXU(e.qQ),n.rXU(n.aKT),n.rXU(x.B))}}static{this.\u0275cmp=n.VBU({type:J,selectors:[["app-custom-modal"]],inputs:{modalId:"modalId",title:"title",actions:"actions",hideCancel:"hideCancel",modalType:"modalType",saveText:"saveText",saveAndReAddText:"saveAndReAddText",deleteText:"deleteText",addDisabled:"addDisabled",deleteDisabled:"deleteDisabled"},outputs:{onSave:"onSave",onSaveAndReAdd:"onSaveAndReAdd",onDelete:"onDelete",onCancel:"onCancel"},ngContentSelectors:H,decls:19,vars:15,consts:[["role","dialog","aria-modal","true","tabindex","-1",1,"modal"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title",3,"id"],["type","button","class","modal-close",3,"click",4,"ngIf"],[1,"modal-body","scrollbars"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","save","class","tw-btn-success tw-mr-3","type","submit",3,"disabled","click",4,"ngIf"],["id","delete","class","tw-btn-danger tw-mr-3","type","submit",3,"disabled","click",4,"ngIf"],["class","tw-hidden tw-mr-3 md:tw-block",4,"ngIf"],["class","tw-btn-link tw--mr-4",3,"click",4,"ngIf"],["id","backdrop","class","modal-backdrop show",4,"ngIf"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],["id","save","type","submit",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],["id","delete","type","submit",1,"tw-btn-danger","tw-mr-3",3,"click","disabled"],[1,"tw-hidden","tw-mr-3","md:tw-block"],["id","saveAndReSubmit","type","submit",1,"tw-btn",3,"click","disabled"],[1,"tw-btn-link","tw--mr-4",3,"click"],["id","backdrop",1,"modal-backdrop","show"]],template:function(oe,z){1&oe&&(n.NAR(),n.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),n.EFF(5),n.nI1(6,"translate"),n.k0s(),n.DNE(7,M,5,3,"button",5),n.k0s(),n.j41(8,"div",6),n.SdG(9),n.k0s(),n.nrm(10,"div",7),n.j41(11,"div",8)(12,"div",9)(13,"div",10),n.DNE(14,V,3,4,"button",11)(15,U,3,4,"button",12)(16,G,4,4,"div",13),n.k0s(),n.DNE(17,ie,3,3,"button",14),n.k0s()()()()(),n.DNE(18,le,1,0,"div",15)),2&oe&&(n.AVh("show",z.isVisible),n.BMQ("aria-hidden",!z.isVisible)("aria-labelledby","modal-title-"+z.modalId),n.R7$(4),n.Mz_("id","modal-title-",z.modalId,""),n.R7$(),n.JRh(n.bMT(6,13,z.title)),n.R7$(2),n.Y8G("ngIf",!z.hideCancel),n.R7$(7),n.Y8G("ngIf",z.canSave),n.R7$(),n.Y8G("ngIf",z.canDelete),n.R7$(),n.Y8G("ngIf",z.canSaveAndReAdd),n.R7$(),n.Y8G("ngIf",!z.hideCancel),n.R7$(),n.Y8G("ngIf",z.showBackdrop))},dependencies:[e.bT,O.D9],encapsulation:2})}}return J})()},4754:(qe,me,u)=>{"use strict";u.d(me,{B:()=>_});var n=u(177),e=u(4438);let _=(()=>{class g{constructor(v){this.document=v,this.modalList=[]}add(v){this.modalList.push(v)}remove(v){const f=this.modalList.indexOf(v);this.modalList.splice(f)}visibleModals(){return this.modalList.filter(v=>v.isVisible).length}showById(v,f){null!=f&&null!=f.nativeElement&&(this.lastClickedEl=f.nativeElement),this.modalList.find(E=>E.modalId===v).show()}hideById(v){const f=this.modalList.find(d=>d.modalId===v);f&&(f.hide(),this.focusLastEl())}focusLastEl(){this.lastClickedEl&&this.lastClickedEl.focus()}static{this.\u0275fac=function(f){return new(f||g)(e.KVO(n.qQ))}}static{this.\u0275prov=e.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})()},9216:(qe,me,u)=>{"use strict";u.d(me,{R:()=>d});var n=u(4438),e=u(779),_=u(1780);const g=["simpleModal"],S=[[["","body",""]],[["","footer",""]]],v=["[body]","[footer]"],f=()=>({backdrop:"static",animated:!1});let d=(()=>{class E{constructor(){this.type=null,this.inFlight=!1,this.close=new n.bkB}get isShown(){return this.simpleModal.isShown}get modalType(){return this.type?` modal-dialog--${this.type}`:""}show(){this.simpleModal.show()}hide(){this.simpleModal.hide()}hideModal(){this.simpleModal.hide()}closeModal(){this.simpleModal.hide(),this.close.emit()}static{this.\u0275fac=function(w){return new(w||E)}}static{this.\u0275cmp=n.VBU({type:E,selectors:[["app-simple-modal"]],viewQuery:function(w,C){if(1&w&&n.GBs(g,7),2&w){let R;n.mGM(R=n.lsd())&&(C.simpleModal=R.first)}},inputs:{modalId:"modalId",type:"type",title:"title",inFlight:"inFlight"},outputs:{close:"close"},ngContentSelectors:v,decls:17,vars:13,consts:[["simpleModal","bs-modal"],["bsModal","","bsModal","","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"id","config"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"modal-close",3,"click","id"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","tw-text-center","scrollbars"],[1,"modal-footer"]],template:function(w,C){if(1&w){const R=n.RV6();n.NAR(S),n.j41(0,"div",1,0)(2,"div")(3,"div",2)(4,"div",3)(5,"h5",4),n.EFF(6),n.nI1(7,"translate"),n.k0s(),n.j41(8,"button",5),n.bIt("click",function(){return n.eBV(R),n.Njj(C.closeModal())}),n.nrm(9,"span",6),n.j41(10,"span",7),n.EFF(11),n.nI1(12,"translate"),n.k0s()()(),n.j41(13,"div",8),n.SdG(14),n.k0s(),n.j41(15,"div",9),n.SdG(16,1),n.k0s()()()()}if(2&w){let R;n.Y8G("id",null!==(R=C.modalId)&&void 0!==R?R:"simpleModel")("config",n.lJ4(12,f)),n.R7$(2),n.ZvI("modal-dialog",C.modalType,""),n.R7$(4),n.JRh(n.bMT(7,8,C.title)),n.R7$(2),n.Y8G("id",C.modalId+"-closeBtn"),n.R7$(3),n.JRh(n.bMT(12,10,"Common.Close"))}},dependencies:[e.hZ,_.D9],encapsulation:2})}}return E})()},7156:(qe,me,u)=>{"use strict";u.d(me,{B:()=>f});var n=u(4438),e=u(177),_=u(1780);function g(d,E){if(1&d&&(n.j41(0,"span",6),n.EFF(1),n.k0s()),2&d){const m=n.XpG();n.R7$(),n.JRh(m.pageXofX)}}function S(d,E){1&d&&(n.j41(0,"span",7),n.EFF(1,"\u2022"),n.k0s())}function v(d,E){if(1&d){const m=n.RV6();n.j41(0,"nav",8),n.nI1(1,"translate"),n.j41(2,"ul",9)(3,"li")(4,"button",10),n.bIt("click",function(){n.eBV(m);const w=n.XpG();return n.Njj(w.goToPage(1))}),n.j41(5,"span"),n.nrm(6,"span",11),n.k0s(),n.j41(7,"span",12),n.EFF(8),n.nI1(9,"translate"),n.k0s()()(),n.j41(10,"li",13)(11,"button",14),n.bIt("click",function(){n.eBV(m);const w=n.XpG();return n.Njj(w.goToPage(w.currentPage-1))}),n.j41(12,"span"),n.nrm(13,"span",15),n.k0s(),n.j41(14,"span",12),n.EFF(15),n.nI1(16,"translate"),n.k0s()()(),n.j41(17,"li",13)(18,"button",16),n.bIt("click",function(){n.eBV(m);const w=n.XpG();return n.Njj(w.goToPage(w.currentPage+1))}),n.j41(19,"span"),n.nrm(20,"span",17),n.k0s(),n.j41(21,"span",12),n.EFF(22),n.nI1(23,"translate"),n.k0s()()(),n.j41(24,"li",13)(25,"button",18),n.bIt("click",function(){n.eBV(m);const w=n.XpG();return n.Njj(w.goToPage(w.lastPage))}),n.j41(26,"span"),n.nrm(27,"span",19),n.k0s(),n.j41(28,"span",12),n.EFF(29),n.nI1(30,"translate"),n.k0s()()()()()}if(2&d){const m=n.XpG();n.BMQ("aria-label",n.bMT(1,9,"Nav.Page")),n.R7$(4),n.Y8G("disabled",1==m.currentPage),n.R7$(4),n.JRh(n.bMT(9,11,"Nav.First")),n.R7$(3),n.Y8G("disabled",1==m.currentPage),n.R7$(4),n.JRh(n.bMT(16,13,"Nav.Previous")),n.R7$(3),n.Y8G("disabled",m.currentPage==m.lastPage),n.R7$(4),n.JRh(n.bMT(23,15,"Nav.Next")),n.R7$(3),n.Y8G("disabled",m.currentPage==m.lastPage),n.R7$(4),n.JRh(n.bMT(30,17,"Nav.Last"))}}let f=(()=>{class d{constructor(m,F){this.translate=m,this.decimalPipe=F,this.onGoToPage=new n.bkB}ngOnInit(){this.setupDefaults(),this.setupPages()}setupDefaults(){this.totalResults=void 0===this.totalResults?0:this.totalResults,this.currentPage=void 0===this.currentPage?1:this.currentPage,this.lastPage=void 0===this.lastPage?1:this.lastPage,this.hidePager=void 0!==this.hidePager}setupPages(){let m=this.translate.instant("Nav.PageXofX");m=m.replace("{0}",this.decimalPipe.transform(this.currentPage)),m=m.replace("{1}",this.decimalPipe.transform(this.lastPage)),this.pageXofX=m}goToPage(m){void 0!==this.onGoToPage&&(m<1?m=1:m>this.lastPage&&(m=this.lastPage),this.onGoToPage.emit(m))}static{this.\u0275fac=function(F){return new(F||d)(n.rXU(_.c$),n.rXU(e.QX))}}static{this.\u0275cmp=n.VBU({type:d,selectors:[["app-pager"]],inputs:{totalResults:"totalResults",currentPage:"currentPage",lastPage:"lastPage",hidePager:"hidePager"},outputs:{onGoToPage:"onGoToPage"},features:[n.Jv_([e.QX])],decls:9,vars:9,consts:[[1,"tw-flex","tw-flex-wrap","tw-items-center","tw-justify-between","tw-mt-2"],[1,"tw-flex","tw-items-center","tw-justify-center","tw-w-full","tw-text-xs","tw-text-grey-700","tw-px-3","tw-py-2","sm:tw-w-auto"],["class","tw-hidden md:tw-inline",4,"ngIf"],["class","tw-hidden tw-text-base tw-mx-2 tw-opacity-50 md:tw-inline","aria-hidden","true",4,"ngIf"],["id","pager-total-results"],["class","tw-mt-2 tw-mx-auto sm:mt-0 sm:tw-mr-0",4,"ngIf"],[1,"tw-hidden","md:tw-inline"],["aria-hidden","true",1,"tw-hidden","tw-text-base","tw-mx-2","tw-opacity-50","md:tw-inline"],[1,"tw-mt-2","tw-mx-auto","sm:mt-0","sm:tw-mr-0"],[1,"tw-flex","tw-items-center","tw-justify-center","tw-bg-white","tw-rounded"],["id","pagerFirstPage",1,"tw-btn-link",3,"click","disabled"],["aria-hidden","true",1,"fas","fa-angle-double-left"],[1,"sr-only"],[1,"tw-border-l-2","tw-border-grey-100"],["id","pagerPrevPage",1,"tw-btn-link",3,"click","disabled"],["aria-hidden","true",1,"fas","fa-angle-left"],["id","pagerNextPage",1,"tw-btn-link",3,"click","disabled"],["aria-hidden","true",1,"fas","fa-angle-right"],["id","pagerLastPage",1,"tw-btn-link",3,"click","disabled"],["aria-hidden","true",1,"fas","fa-angle-double-right"]],template:function(F,w){1&F&&(n.j41(0,"div",0)(1,"div",1),n.DNE(2,g,2,1,"span",2)(3,S,2,0,"span",3),n.j41(4,"span",4),n.EFF(5),n.nI1(6,"number"),n.nI1(7,"translate"),n.k0s()(),n.DNE(8,v,31,19,"nav",5),n.k0s()),2&F&&(n.R7$(2),n.Y8G("ngIf",!w.hidePager),n.R7$(),n.Y8G("ngIf",!w.hidePager),n.R7$(2),n.Lme("",n.bMT(6,5,w.totalResults)," ",n.bMT(7,7,"Nav.ResultsFound"),""),n.R7$(3),n.Y8G("ngIf",!w.hidePager))},dependencies:[e.bT,e.QX,_.D9],encapsulation:2})}}return d})()},5731:(qe,me,u)=>{"use strict";u.d(me,{i:()=>v});var n=u(177),e=u(1583),_=u(1683),g=u(1780),S=u(4438);let v=(()=>{class f{static{this.\u0275fac=function(m){return new(m||f)}}static{this.\u0275mod=S.$C({type:f})}static{this.\u0275inj=S.G2t({imports:[n.MD,e.iI,_.Y,g.h]})}}return f})()},2292:(qe,me,u)=>{"use strict";u.d(me,{L:()=>f});var n=u(4438),e=u(7263),_=u(177);function g(d,E){if(1&d&&(n.j41(0,"div",5)(1,"span",6),n.EFF(2),n.k0s()()),2&d){const m=n.XpG().$implicit,F=n.XpG();n.BMQ("aria-label",F.enumValues),n.R7$(2),n.JRh(m)}}function S(d,E){if(1&d){const m=n.RV6();n.j41(0,"button",7),n.bIt("click",function(){n.eBV(m);const w=n.XpG().index,C=n.XpG();return n.Njj(C.deleteValue(w))}),n.nrm(1,"span",8),n.j41(2,"span",6),n.EFF(3),n.k0s()()}if(2&d){const m=n.XpG().$implicit,F=n.XpG();n.BMQ("aria-label",F.enumValues),n.R7$(3),n.JRh(m)}}function v(d,E){if(1&d&&(n.j41(0,"li",2),n.DNE(1,g,3,2,"div",3)(2,S,4,2,"button",4),n.k0s()),2&d){const m=n.XpG();n.R7$(),n.Y8G("ngIf",m.readonly),n.R7$(),n.Y8G("ngIf",!m.readonly)}}let f=(()=>{class d{get id(){return this._id}set id(m){this._id=m||(0,e.Nl)()}constructor(){this.readonly=!1,this.onDelete=new n.bkB}ngOnInit(){}deleteValue(m){this.readonly||this.onDelete.emit(m)}static{this.\u0275fac=function(F){return new(F||d)}}static{this.\u0275cmp=n.VBU({type:d,selectors:[["app-pill-list"]],inputs:{id:"id",values:"values",readonly:"readonly"},outputs:{onDelete:"onDelete"},decls:2,vars:2,consts:[[1,"tw-pill-list","tw-mt-4",3,"id"],["class","tw-pill",4,"ngFor","ngForOf"],[1,"tw-pill"],["class","tw-btn-small tw-rounded tw-pl-1",4,"ngIf"],["class","tw-btn-small tw-rounded tw-pl-1",3,"click",4,"ngIf"],[1,"tw-btn-small","tw-rounded","tw-pl-1"],[1,"tw-pl-1"],[1,"tw-btn-small","tw-rounded","tw-pl-1",3,"click"],["aria-hidden","true",1,"fas","fa-times","tw-mr-1"]],template:function(F,w){1&F&&(n.j41(0,"ul",0),n.DNE(1,v,3,2,"li",1),n.k0s()),2&F&&(n.FS9("id",w.id+"-enumValues-select"),n.R7$(),n.Y8G("ngForOf",w.values))},dependencies:[_.Sq,_.bT]})}}return d})()},3843:(qe,me,u)=>{"use strict";u.d(me,{G:()=>_});var n=u(177),e=u(4438);let _=(()=>{class g{static{this.\u0275fac=function(f){return new(f||g)}}static{this.\u0275mod=e.$C({type:g})}static{this.\u0275inj=e.G2t({imports:[n.MD]})}}return g})()},6843:(qe,me,u)=>{"use strict";u.d(me,{l:()=>m});var n=u(177),e=u(1683),_=u(1780),g=u(8251),S=u(4193),v=u(4367),f=u(9417),d=u(8389),E=u(4438);let m=(()=>{class F{static{this.\u0275fac=function(R){return new(R||F)}}static{this.\u0275mod=E.$C({type:F})}static{this.\u0275inj=E.G2t({imports:[n.MD,f.YN,e.Y,_.h,g.h,S.c,v.N,d.w]})}}return F})()},8762:(qe,me,u)=>{"use strict";u.d(me,{O:()=>te});var n=u(6303),e=u(1088),_=u(4438),g=u(177),S=u(1780);function v(I,oe){if(1&I&&(_.j41(0,"div")(1,"p",4),_.EFF(2),_.k0s()()),2&I){const z=_.XpG(3);_.R7$(2),_.JRh(z.displayValue)}}function f(I,oe){if(1&I&&(_.j41(0,"div"),_.DNE(1,v,3,1,"div",2),_.k0s()),2&I){const z=_.XpG(2),_e=_.sdS(2);_.R7$(),_.Y8G("ngIf",z.displayValue)("ngIfElse",_e)}}function d(I,oe){if(1&I&&(_.j41(0,"div",10),_.EFF(1),_.j41(2,"small",11),_.EFF(3),_.k0s()()),2&I){const z=_.XpG(),_e=z.$implicit;_.Y8G("id","multiMainText"+z.i),_.R7$(),_.SpI(" ",_e.MainText," "),_.R7$(2),_.JRh(_e.HelpText)}}function E(I,oe){if(1&I&&(_.j41(0,"li",8),_.DNE(1,d,4,3,"div",9),_.k0s()),2&I){const z=oe.$implicit;_.XpG(3);const _e=_.sdS(2);_.R7$(),_.Y8G("ngIf",z.MainText)("ngIfElse",_e)}}function m(I,oe){if(1&I&&(_.j41(0,"div")(1,"div",5)(2,"ul",6),_.DNE(3,E,2,2,"li",7),_.k0s()()()),2&I){const z=_.XpG(2);_.R7$(3),_.Y8G("ngForOf",z.filteredValues)}}function F(I,oe){1&I&&_.nrm(0,"div")}function w(I,oe){if(1&I&&(_.j41(0,"p",22),_.EFF(1),_.nI1(2,"translate"),_.k0s()),2&I){const z=_.XpG(5);_.R7$(),_.Lme(" ",z.timeSpan.years," ",_.bMT(2,2,z.displayTimeSpanUnit(z.timeSpan.years,"Year"))," ")}}function C(I,oe){if(1&I&&(_.j41(0,"p",23),_.EFF(1),_.nI1(2,"translate"),_.k0s()),2&I){const z=_.XpG(5);_.R7$(),_.Lme(" ",z.timeSpan.months," ",_.bMT(2,2,z.displayTimeSpanUnit(z.timeSpan.months,"Month"))," ")}}function R(I,oe){if(1&I&&(_.j41(0,"p",24),_.EFF(1),_.nI1(2,"translate"),_.k0s()),2&I){const z=_.XpG(5);_.R7$(),_.Lme(" ",z.timeSpan.weeks," ",_.bMT(2,2,z.displayTimeSpanUnit(z.timeSpan.weeks,"Week"))," ")}}function x(I,oe){if(1&I&&(_.j41(0,"p",25),_.EFF(1),_.nI1(2,"translate"),_.k0s()),2&I){const z=_.XpG(5);_.R7$(),_.Lme(" ",z.timeSpan.days," ",_.bMT(2,2,z.displayTimeSpanUnit(z.timeSpan.days,"Day"))," ")}}function O(I,oe){if(1&I&&(_.j41(0,"p",26),_.EFF(1),_.nI1(2,"translate"),_.k0s()),2&I){const z=_.XpG(5);_.R7$(),_.Lme(" ",z.timeSpan.hours," ",_.bMT(2,2,z.displayTimeSpanUnit(z.timeSpan.hours,"Hour"))," ")}}function H(I,oe){if(1&I&&(_.j41(0,"p",27),_.EFF(1),_.nI1(2,"translate"),_.k0s()),2&I){const z=_.XpG(5);_.R7$(),_.Lme(" ",z.timeSpan.minutes," ",_.bMT(2,2,z.displayTimeSpanUnit(z.timeSpan.minutes,"Minute"))," ")}}function M(I,oe){if(1&I&&(_.j41(0,"span",28),_.EFF(1),_.nI1(2,"translate"),_.k0s()),2&I){const z=_.XpG(5);_.R7$(),_.Lme(" ",z.timeSpan.seconds," ",_.bMT(2,2,z.displayTimeSpanUnit(z.timeSpan.seconds,"Second"))," ")}}function V(I,oe){if(1&I&&(_.j41(0,"div")(1,"div",13),_.DNE(2,w,3,4,"p",14)(3,C,3,4,"p",15)(4,R,3,4,"p",16)(5,x,3,4,"p",17)(6,O,3,4,"p",18)(7,H,3,4,"p",19)(8,M,3,4,"span",20),_.k0s(),_.j41(9,"small",21),_.EFF(10),_.k0s()()),2&I){const z=_.XpG(4);_.R7$(2),_.Y8G("ngIf",z.timeSpan.years>0),_.R7$(),_.Y8G("ngIf",z.timeSpan.months>0),_.R7$(),_.Y8G("ngIf",z.timeSpan.weeks>0),_.R7$(),_.Y8G("ngIf",z.timeSpan.days>0),_.R7$(),_.Y8G("ngIf",z.timeSpan.hours>0),_.R7$(),_.Y8G("ngIf",z.timeSpan.minutes>0),_.R7$(),_.Y8G("ngIf",z.timeSpan.seconds>0),_.R7$(2),_.JRh(z.values[0].MainText)}}function U(I,oe){1&I&&(_.j41(0,"div")(1,"p",29),_.EFF(2),_.nI1(3,"translate"),_.k0s()()),2&I&&(_.R7$(2),_.Lme("",0," ",_.bMT(3,2,"Clients.Tokens.Durations.Seconds"),""))}function G(I,oe){1&I&&(_.j41(0,"div")(1,"p",30),_.EFF(2),_.nI1(3,"translate"),_.k0s()()),2&I&&(_.R7$(2),_.JRh(_.bMT(3,1,"Clients.Tokens.Durations.Unlimited")))}function ie(I,oe){if(1&I&&_.DNE(0,V,11,8,"div",3)(1,U,4,4,"div",3)(2,G,4,3,"div",3),2&I){const z=_.XpG(3);_.Y8G("ngIf","Unlimited"!=z.values[0].MainText&&0!==z.values[0].MainText&&"0"!==z.values[0].MainText),_.R7$(),_.Y8G("ngIf",0===z.values[0].MainText||"0"===z.values[0].MainText),_.R7$(),_.Y8G("ngIf","Unlimited"==z.values[0].MainText)}}function le(I,oe){if(1&I&&(_.j41(0,"div"),_.DNE(1,F,1,0,"div",12)(2,ie,3,3,"ng-template",null,1,_.C5r),_.k0s()),2&I){const z=_.sdS(3),_e=_.XpG(2),Pe=_.sdS(2);_.R7$(),_.Y8G("ngIf",null==_e.values[0].MainText)("ngIfThen",Pe)("ngIfElse",z)}}function L(I,oe){if(1&I&&(_.j41(0,"div"),_.DNE(1,f,2,2,"div",3)(2,m,4,1,"div",3)(3,le,4,3,"div",3),_.k0s()),2&I){const z=_.XpG();_.R7$(),_.Y8G("ngIf",z.fieldType==z.ReadOnlyFieldType.Single||z.fieldType==z.ReadOnlyFieldType.CommaSeparated),_.R7$(),_.Y8G("ngIf",z.fieldType==z.ReadOnlyFieldType.Multi),_.R7$(),_.Y8G("ngIf",z.fieldType==z.ReadOnlyFieldType.LifetimePicker)}}function J(I,oe){if(1&I&&(_.j41(0,"div")(1,"p",31),_.EFF(2),_.nI1(3,"translate"),_.k0s()()),2&I){const z=_.XpG();_.R7$(2),_.SpI(" ",_.bMT(3,1,z.noValueString)," ")}}let te=(()=>{class I{constructor(){this.customNoValue=null,this.filteredValues=[]}ngOnChanges(z){this.initData()}ngOnInit(){this.noValueString=this.customNoValue?this.customNoValue:this.fieldType==n.t.Single||this.fieldType==n.t.LifetimePicker?"Common.NoValue":"Common.NoValues",this.initData()}initData(){!this.values||void 0===this.values||(this.filteredValues=this.values.filter(z=>null!=z),this.filteredValues.length<1)||(this.fieldType===n.t.Single?this.displayValue=this.filteredValues[0].MainText||null:this.fieldType===n.t.CommaSeparated?this.displayValue=this.filteredValues.map(z=>z.MainText).join(", ").trimEnd():this.fieldType===n.t.LifetimePicker&&null!==this.values[0].MainText&&"Unlimited"!==this.values[0].MainText&&(this.timeSpan=new e.Q(+this.values[0].MainText)))}displayTimeSpanUnit(z,_e){return"Clients.Tokens.Durations."+_e+(z>1?"s":"")}get ReadOnlyFieldType(){return n.t}static{this.\u0275fac=function(_e){return new(_e||I)}}static{this.\u0275cmp=_.VBU({type:I,selectors:[["app-readonly"]],inputs:{fieldType:"fieldType",values:"values",customNoValue:"customNoValue"},features:[_.OA$],decls:3,vars:2,consts:[["valuesEmptyBlock",""],["lifetimeHasValueBlock",""],[4,"ngIf","ngIfElse"],[4,"ngIf"],["id","singleCommaMainText"],[1,"tw-overflow-hidden","tw-overflow-y-auto","scrollbars","tw-max-h-readonly-field"],[1,"tw--mt-2"],["class","tw-pt-2",4,"ngFor","ngForOf"],[1,"tw-pt-2"],[3,"id",4,"ngIf","ngIfElse"],[3,"id"],["id","multiHelpText",1,"tw-block","tw-text-grey-700"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"tw-flex","tw-flex-wrap"],["class","tw-mr-2","id","lifetimeYears",4,"ngIf"],["class","tw-mr-2","id","lifetimeMonths",4,"ngIf"],["class","tw-mr-2","id","lifetimeWeeks",4,"ngIf"],["class","tw-mr-2","id","lifetimeDays",4,"ngIf"],["class","tw-mr-2","id","lifetimeHours",4,"ngIf"],["class","tw-mr-2","id","lifetimeMinutes",4,"ngIf"],["class","tw-mr-2","id","lifetimeSeconds",4,"ngIf"],["id","lifetimeSeconds",1,"tw-block","tw-text-grey-700"],["id","lifetimeYears",1,"tw-mr-2"],["id","lifetimeMonths",1,"tw-mr-2"],["id","lifetimeWeeks",1,"tw-mr-2"],["id","lifetimeDays",1,"tw-mr-2"],["id","lifetimeHours",1,"tw-mr-2"],["id","lifetimeMinutes",1,"tw-mr-2"],["id","lifetimeSeconds",1,"tw-mr-2"],["id","zero"],["id","unlimited"],["id","valuesUndefined",1,"tw-italic","tw-text-grey-400"]],template:function(_e,Pe){if(1&_e&&_.DNE(0,L,4,3,"div",2)(1,J,4,3,"ng-template",null,0,_.C5r),2&_e){const Re=_.sdS(2);_.Y8G("ngIf",(null==Pe.filteredValues?null:Pe.filteredValues.length)>0)("ngIfElse",Re)}},dependencies:[g.Sq,g.bT,S.D9]})}}return I})()},7677:(qe,me,u)=>{"use strict";u.d(me,{N:()=>g});var n=u(177),e=u(1780),_=u(4438);let g=(()=>{class S{static{this.\u0275fac=function(d){return new(d||S)}}static{this.\u0275mod=_.$C({type:S})}static{this.\u0275inj=_.G2t({imports:[e.h,n.MD]})}}return S})()},2510:(qe,me,u)=>{"use strict";u.d(me,{S:()=>m});var n=u(4438),e=u(177),_=u(1780);const g=["*"];function S(F,w){1&F&&(n.j41(0,"span"),n.nrm(1,"span",10),n.EFF(2),n.nI1(3,"translate"),n.k0s()),2&F&&(n.R7$(2),n.SpI(" ",n.bMT(3,1,"Auditing.ShowFilters")," "))}function v(F,w){1&F&&(n.j41(0,"span"),n.nrm(1,"span",11),n.EFF(2),n.nI1(3,"translate"),n.k0s()),2&F&&(n.R7$(2),n.SpI(" ",n.bMT(3,1,"Auditing.HideFilters")," "))}function f(F,w){if(1&F){const C=n.RV6();n.j41(0,"button",8),n.bIt("click",function(){n.eBV(C);const x=n.XpG();return n.Njj(x.showAdvancedFilters=!x.showAdvancedFilters)}),n.DNE(1,S,4,3,"span",9)(2,v,4,3,"span",9),n.k0s()}if(2&F){const C=n.XpG();n.R7$(),n.Y8G("ngIf",!C.showAdvancedFilters),n.R7$(),n.Y8G("ngIf",C.showAdvancedFilters)}}function d(F,w){if(1&F){const C=n.RV6();n.j41(0,"li",18)(1,"button",19),n.bIt("click",function(){const x=n.eBV(C).$implicit,O=n.XpG(2);return n.Njj(O.filter(x.name))}),n.EFF(2),n.nI1(3,"translate"),n.k0s()()}if(2&F){const C=w.$implicit,R=n.XpG(2);n.R7$(),n.Y8G("id","filter-option-"+C.name)("ngClass",R.isShowing(C.name)?"tw-btn":"tw-btn-link"),n.R7$(),n.SpI(" ",n.bMT(3,3,C.label)," ")}}function E(F,w){if(1&F&&(n.j41(0,"div",12)(1,"div",13),n.SdG(2),n.j41(3,"div",14)(4,"p",15),n.EFF(5),n.nI1(6,"translate"),n.k0s(),n.j41(7,"ul",16),n.DNE(8,d,4,5,"li",17),n.k0s()()(),n.nrm(9,"hr"),n.k0s()),2&F){const C=n.XpG();n.Y8G("hidden",!C.showAdvancedFilters),n.R7$(5),n.JRh(n.bMT(6,3,"Auditing.Showing")),n.R7$(3),n.Y8G("ngForOf",C.availableFilters)}}let m=(()=>{class F{constructor(){this.placeholder=null,this.onSearch=new n.bkB,this.showAdvancedFilters=!1,this.availableFilters=[],this.activeFilters=[],this.appliedFilters=new n.bkB}ngOnInit(){this.activeFilters=this.availableFilters.filter(C=>C.activeByDefault).map(C=>C.name)}search(C){this.onSearch.emit(C.target.value)}filter(C){if(this.activeFilters.includes(C)){const R=this.activeFilters.indexOf(C);this.activeFilters.splice(R,1)}else this.activeFilters.push(C);this.appliedFilters.emit(this.activeFilters)}isShowing(C){return this.activeFilters.includes(C)}static{this.\u0275fac=function(R){return new(R||F)}}static{this.\u0275cmp=n.VBU({type:F,selectors:[["app-search"]],inputs:{placeholder:"placeholder",availableFilters:"availableFilters"},outputs:{onSearch:"onSearch",appliedFilters:"appliedFilters"},ngContentSelectors:g,decls:10,vars:6,consts:[["id","searchContainer",1,"tw-mb-2"],[1,"tw-flex","tw-bg-white","tw-border","tw-border-grey-300","tw-opacity-75","tw-cursor-text","tw-rounded","focus-within:tw-opacity-100","focus-within:tw-border-blue-400","tw-transition-all","tw-ease-in-out"],["for","searchTerm",1,"tw-flex","tw-items-center","tw-text-grey-500","tw-m-0","tw-ml-3"],["aria-hidden","true",1,"far","fa-search","tw-text-sm"],[1,"sr-only"],["id","searchTerm","type","text",1,"tw-bg-transparent","tw-border-0","tw-text-base","tw-leading-tight","tw-px-2","tw-py-2","tw-w-full","focus:tw-outline-none","tw-transition-all","tw-ease-in-out",3,"keyup","placeholder"],["id","showFilterButton","class","tw-btn-link tw-btn-small tw-px-0 mt-2","type","button","aria-expanded","showAdvancedFilters",3,"click",4,"ngIf"],["id","toggleFilters","class","tw-mt-3 tw-mb-6","aria-labelledby","showFilterButton",3,"hidden",4,"ngIf"],["id","showFilterButton","type","button","aria-expanded","showAdvancedFilters",1,"tw-btn-link","tw-btn-small","tw-px-0","mt-2",3,"click"],[4,"ngIf"],["aria-hidden","true",1,"fas","fa-angle-down","tw-mr-1"],["aria-hidden","true",1,"fas","fa-angle-up","tw-mr-1"],["id","toggleFilters","aria-labelledby","showFilterButton",1,"tw-mt-3","tw-mb-6",3,"hidden"],[1,"tw-flex-grid","md:tw-flex-nowrap","mb-3"],[1,"tw-flex-grid-col","md:tw-ml-auto","md:tw-w-auto","mb-3","mr-2"],[1,"tw-form-label"],[1,"tw-flex","tw-items-center"],["class","tw-mr-2",4,"ngFor","ngForOf"],[1,"tw-mr-2"],[3,"click","id","ngClass"]],template:function(R,x){1&R&&(n.NAR(),n.j41(0,"div",0)(1,"div",1)(2,"label",2),n.nrm(3,"span",3),n.j41(4,"span",4),n.EFF(5),n.nI1(6,"translate"),n.k0s()(),n.j41(7,"input",5),n.bIt("keyup",function(H){return x.search(H)}),n.k0s()(),n.DNE(8,f,3,2,"button",6)(9,E,10,5,"div",7),n.k0s()),2&R&&(n.R7$(5),n.JRh(n.bMT(6,4,"Common.Search")),n.R7$(2),n.Y8G("placeholder",x.placeholder),n.R7$(),n.Y8G("ngIf",x.availableFilters.length>0),n.R7$(),n.Y8G("ngIf",x.availableFilters.length>0))},dependencies:[e.YU,e.Sq,e.bT,_.D9],encapsulation:2})}}return F})()},3665:(qe,me,u)=>{"use strict";u.d(me,{t:()=>v});var n=u(9417),e=u(177),_=u(1583),g=u(1780),S=u(4438);let v=(()=>{class f{static{this.\u0275fac=function(m){return new(m||f)}}static{this.\u0275mod=S.$C({type:f})}static{this.\u0275inj=S.G2t({imports:[e.MD,_.iI,g.h,n.YN]})}}return f})()},9764:(qe,me,u)=>{"use strict";u.d(me,{s:()=>Je});var n=u(467),e=u(4438),_=u(9417),g=u(9838),S=u(1413),v=u(7263),f=u(9767),d=u(4252),E=u(1258),m=u(4549),F=u(4754),w=u(9812),C=u(177),R=u(5404),x=u(8698),O=u(9550),H=u(8577),M=u(3899),V=u(6536),U=u(1780);const G=["certificateReader"],ie=["addCertificateBtn"],le=["showModalButton"],L=["secretPicker"],J=["certificateReaderNonModal"],te=["addCertificateBtnNonModal"];function I(Te,we){if(1&Te&&(e.j41(0,"option",43),e.EFF(1),e.k0s()),2&Te){const de=we.$implicit;e.Y8G("value",de.value),e.R7$(),e.JRh(de.value)}}function oe(Te,we){1&Te&&(e.j41(0,"p",44),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&Te&&(e.R7$(),e.JRh(e.bMT(2,1,"Secret Picker.LastWarning")))}function z(Te,we){if(1&Te&&e.nrm(0,"app-date-time",45),2&Te){const de=e.XpG(2);e.Y8G("min",de.minDate)}}function _e(Te,we){if(1&Te){const de=e.RV6();e.j41(0,"form",15)(1,"div",16)(2,"div",17)(3,"app-form-row",18)(4,"div",19)(5,"select",20),e.DNE(6,I,2,2,"option",21),e.nI1(7,"keyvalue"),e.k0s()()(),e.j41(8,"app-form-row",18)(9,"div",22)(10,"div",23),e.nrm(11,"input",24),e.j41(12,"button",25),e.bIt("click",function(){e.eBV(de);const Ae=e.XpG();return e.Njj(Ae.generateRandom())}),e.nrm(13,"span",26),e.j41(14,"span",27),e.EFF(15),e.nI1(16,"translate"),e.k0s()()(),e.nrm(17,"input",28),e.j41(18,"div",29)(19,"button",30,1),e.bIt("click",function(){e.eBV(de);const Ae=e.XpG();return e.Njj(Ae.openCertificateReaderModel())}),e.j41(21,"span"),e.EFF(22),e.nI1(23,"translate"),e.k0s()()(),e.DNE(24,oe,3,3,"p",31),e.k0s()(),e.j41(25,"app-form-row",32)(26,"div",22)(27,"div",33)(28,"div",34)(29,"app-form-toggle",35)(30,"input",36),e.bIt("change",function(){e.eBV(de);const Ae=e.XpG();return e.Njj(Ae.toggleExpirationDateInput())}),e.k0s()()()(),e.DNE(31,z,1,1,"app-date-time",37),e.k0s()(),e.j41(32,"app-form-row",38),e.nrm(33,"textarea",39),e.k0s()()(),e.j41(34,"div",40)(35,"button",41),e.bIt("click",function(){e.eBV(de);const Ae=e.XpG();return e.Njj(Ae.addSecret())}),e.EFF(36),e.nI1(37,"translate"),e.k0s(),e.j41(38,"button",42),e.bIt("click",function(){e.eBV(de);const Ae=e.XpG();return e.Njj(Ae.resetForm())}),e.EFF(39),e.nI1(40,"translate"),e.k0s()()()}if(2&Te){const de=e.XpG();e.Y8G("formGroup",de.secretForm),e.R7$(3),e.Y8G("id","SecretType")("label","Common.Type"),e.R7$(3),e.Y8G("ngForOf",e.bMT(7,23,de.secretTypes)),e.R7$(2),e.Y8G("id","SecretValue")("label","Common.Value"),e.R7$(2),e.Y8G("hidden","Shared Secret"!==de.secretForm.controls.type.value),e.R7$(5),e.JRh(e.bMT(16,25,"Common.GenerateRandom")),e.R7$(2),e.Y8G("hidden","Shared Secret"===de.secretForm.controls.type.value),e.R7$(2),e.Y8G("hidden","Shared Secret"===de.secretForm.controls.type.value),e.R7$(3),e.JRh(e.bMT(23,27,"Common.ReadCertificate")),e.R7$(2),e.Y8G("ngIf",de.displayWarnings),e.R7$(),e.Y8G("id","SecretExpiry")("label","Common.ExpirationDate")("help","Common.Dates.UTCWarning"),e.R7$(4),e.Y8G("id","expirationDateEnabled"),e.R7$(2),e.Y8G("ngIf",de.expirationDateEnabled),e.R7$(),e.Y8G("id","SecretDescription")("label","Common.Description")("isLast",!0),e.R7$(3),e.Y8G("disabled",!de.secretForm.valid),e.R7$(),e.JRh(e.bMT(37,29,"Common.Add")),e.R7$(3),e.JRh(e.bMT(40,31,"Common.Clear"))}}function Pe(Te,we){1&Te&&e.nrm(0,"app-data-table-column",46),2&Te&&e.Y8G("prop","created")("date",!0)("title","Common.Created")("headClasses","tw-hidden tw-w-40 md:tw-table-cell")("cellClasses","tw-hidden md:tw-table-cell")}function Re(Te,we){if(1&Te){const de=e.RV6();e.j41(0,"div",47,2)(2,"div",48)(3,"app-cert-reader",49,3),e.nI1(5,"translate"),e.nI1(6,"translate"),e.nI1(7,"translate"),e.nI1(8,"translate"),e.bIt("dataExists",function(Ae){e.eBV(de);const rt=e.XpG();return e.Njj(rt.certificateDataLoaded(Ae))}),e.k0s()(),e.j41(9,"div",40)(10,"button",50,4),e.bIt("click",function(){e.eBV(de);const Ae=e.XpG();return e.Njj(Ae.hideCertReaderNonModal(!0))}),e.EFF(12),e.nI1(13,"translate"),e.k0s(),e.j41(14,"button",42),e.bIt("click",function(){e.eBV(de);const Ae=e.XpG();return e.Njj(Ae.hideCertReaderNonModal(!1))}),e.EFF(15),e.nI1(16,"translate"),e.k0s()()()}2&Te&&(e.R7$(3),e.Y8G("uploadCert",e.bMT(5,6,"Secret Picker.UploadCert"))("uploadCertHelp",e.bMT(6,8,"Secret Picker.UploadCertHelp"))("certMetaData",e.bMT(7,10,"Secret Picker.MetaData"))("certMetaDataHelp",e.bMT(8,12,"Secret Picker.MetaDataHelp")),e.R7$(9),e.JRh(e.bMT(13,14,"Common.Use")),e.R7$(3),e.JRh(e.bMT(16,16,"Common.Cancel")))}function ke(Te,we){if(1&Te){const de=e.RV6();e.j41(0,"app-custom-modal",51),e.bIt("onSave",function(){e.eBV(de);const Ae=e.XpG();return e.Njj(Ae.closeCertificateReaderModelAndReadCertificate())})("onCancel",function(){e.eBV(de);const Ae=e.XpG();return e.Njj(Ae.closeCertificateReaderModel())}),e.j41(1,"app-cert-reader",52,3),e.nI1(3,"translate"),e.nI1(4,"translate"),e.nI1(5,"translate"),e.nI1(6,"translate"),e.bIt("dataExists",function(Ae){e.eBV(de);const rt=e.XpG();return e.Njj(rt.certificateDataLoaded(Ae))}),e.k0s()()}if(2&Te){const de=e.XpG();e.Y8G("modalId",de.certModalId)("title","Secret Picker.ReadCertificate")("actions",de.modalActions),e.R7$(),e.Y8G("uploadCert",e.bMT(3,7,"Secret Picker.UploadCert"))("uploadCertHelp",e.bMT(4,9,"Secret Picker.UploadCertHelp"))("certMetaData",e.bMT(5,11,"Secret Picker.MetaData"))("certMetaDataHelp",e.bMT(6,13,"Secret Picker.MetaDataHelp"))}}let Je=(()=>{class Te{set clientSecrets(de){this._clientSecrets=de||[]}get clientSecrets(){return this._clientSecrets}set isReadOnly(de){this._isReadOnly=de||!1}get isReadOnly(){return this._isReadOnly}constructor(de,Ve,Ae){this.fb=de,this.modalService=Ve,this.dataTableService=Ae,this._clientSecrets=[],this.nonModelCertPicker=!1,this.showCreatedColumn=!0,this.secretTypes=new g.S9,this.minDate=m.c9.now(),this.secretsAddStream=new S.B,this.secretsRemoveStream=new S.B,this.descFocus=!1,this.displayWarnings=!0,this.dataTableActions=[d.AA.Delete],this.modalActions=[E.N.Delete,E.N.Save],this.certModalId="CertificatePickerModal",this.expirationDateEnabled=!1,this.filepickerDisplayed=new e.bkB}ngOnDestroy(){this.dtsSubscription.unsubscribe()}keydown(de){"Enter"===de.key&&this.secretForm.valid&&!this.descFocus&&this.addSecret()}ngOnInit(){const de=m.c9.now().toISO();this.secretForm=this.fb.group({description:["",_.k0.maxLength(1e3)],value:["",_.k0.required],expiration:[{value:de,disabled:!0}],type:["Shared Secret"],enabled:[]}),this.dtsSubscription=this.dataTableService.deleteRowEvent.subscribe(Ve=>{this.deleteSecret(Ve)})}selectedDate(de){this.secretForm.controls.expiration.setValue(de)}toggleExpirationDateInput(){this.expirationDateEnabled=!this.expirationDateEnabled,this.updateExpiration()}generateRandom(){this.secretForm.controls.value.setValue((0,v.Nl)())}dateSelected(de){this.secretForm.controls.expiration.setValue(de)}addSecret(){const de=this.secretForm.value;de.expiration=this.expirationDateEnabled?m.c9.fromISO(de.expiration).toString():null,this.secretsAddStream.next(de),this.secretForm.reset(),this.resetForm()}updateExpiration(){const de=this.secretForm.controls.expiration;this.expirationDateEnabled?(de.addValidators(_.k0.required),de.enable()):(de.removeValidators(_.k0.required),de.disable()),de.reset()}deleteSecret(de){this.secretsRemoveStream.next(this.clientSecrets[de])}resetForm(){this.secretForm.setValue({description:"",value:"",expiration:"",type:"Shared Secret",enabled:""}),this.expirationDateEnabled=!1,this.updateExpiration()}openCertificateReaderModel(){this.nonModelCertPicker?(this.certificateReaderNonModal.nativeElement.hidden=!1,this.secretPicker.nativeElement.hidden=!0):this.modalService.showById(this.certModalId,this.showModalButton),this.filepickerDisplayed.emit(!0)}resetState(){this.nonModelCertPicker?(this.certificateReaderNonModal.nativeElement.hidden=!0,this.secretPicker.nativeElement.hidden=!1):this.modalService.hideById(this.certModalId),this.filepickerDisplayed.emit(!1)}closeCertificateReaderModel(){this.modalService.hideById(this.certModalId),this.filepickerDisplayed.emit(!1)}closeCertificateReaderModelAndReadCertificate(){var de=this;return(0,n.A)(function*(){de.modalService.hideById(de.certModalId),de.filepickerDisplayed.emit(!1),yield de.ReadCertificateModel()})()}ReadCertificateModel(){var de=this;return(0,n.A)(function*(){const Ve=yield de.certReaderComponent.getCertificateModel();let Ae="";switch(de.secretForm.controls.type.value){case"X509 Certificate Base64":Ae=Ve.base64Cert;break;case"X509 Name":Ae=Ve.subject;break;case"X509 Thumbprint":Ae=Ve.thumbprint}de.secretForm.controls.value.setValue(Ae)})()}certificateDataLoaded(de){this.addCertificateButton&&(this.addCertificateButton.nativeElement.disabled=!de),this.addCertificateBtnNonModal&&(this.addCertificateBtnNonModal.nativeElement.disabled=!de)}hideCertReaderNonModal(de){var Ve=this;return(0,n.A)(function*(){Ve.certificateReaderNonModal.nativeElement.hidden=!0,Ve.secretPicker.nativeElement.hidden=!1,de&&(yield Ve.ReadCertificateModel()),Ve.filepickerDisplayed.emit(!1)})()}static{this.\u0275fac=function(Ve){return new(Ve||Te)(e.rXU(_.ze),e.rXU(F.B),e.rXU(w.I))}}static{this.\u0275cmp=e.VBU({type:Te,selectors:[["app-secret-picker"]],viewQuery:function(Ve,Ae){if(1&Ve&&(e.GBs(G,5),e.GBs(ie,5),e.GBs(le,5),e.GBs(L,5),e.GBs(J,5),e.GBs(te,5)),2&Ve){let rt;e.mGM(rt=e.lsd())&&(Ae.certReaderComponent=rt.first),e.mGM(rt=e.lsd())&&(Ae.addCertificateButton=rt.first),e.mGM(rt=e.lsd())&&(Ae.showModalButton=rt.first),e.mGM(rt=e.lsd())&&(Ae.secretPicker=rt.first),e.mGM(rt=e.lsd())&&(Ae.certificateReaderNonModal=rt.first),e.mGM(rt=e.lsd())&&(Ae.addCertificateBtnNonModal=rt.first)}},hostBindings:function(Ve,Ae){1&Ve&&e.bIt("keydown",function(Be){return Ae.keydown(Be)},!1,e.EBC)},inputs:{clientSecrets:"clientSecrets",isReadOnly:"isReadOnly",nonModelCertPicker:"nonModelCertPicker",showCreatedColumn:"showCreatedColumn"},outputs:{filepickerDisplayed:"filepickerDisplayed"},decls:11,vars:25,consts:[["secretPicker",""],["showCertModalButton",""],["certificateReaderNonModal",""],["certificateReader",""],["addCertificateBtnNonModal",""],["id","secretPicker"],["id","secretForm",3,"formGroup",4,"ngIf"],[3,"isReadOnly","rows","norowslabel","actions"],[3,"prop","title","headClasses"],[3,"title","isPlaceholder","placeholder","headClasses","cellClasses"],[3,"prop","title","headClasses","cellClasses"],["id","createdColumn",3,"prop","date","title","headClasses","cellClasses",4,"ngIf"],[3,"prop","date","title","headClasses","cellClasses"],["hidden","",4,"ngIf"],[3,"modalId","title","actions","onSave","onCancel",4,"ngIf"],["id","secretForm",3,"formGroup"],[1,"tw-flex-grid","tw-mb-6","md:tw-flex-nowrap"],[1,"tw-flex-grid-col"],[3,"id","label"],[1,"tw-form-select"],["id","SecretType","name","type","formControlName","type",1,"tw-form-control"],[3,"value",4,"ngFor","ngForOf"],[1,"tw-w-full","lg:tw-max-w-2xl"],[1,"tw-flex",3,"hidden"],["type","text","id","SecretValue","formControlName","value","name","SecretValue","autocomplete","off",1,"tw-form-control","tw-rounded-r-none","tw-border-r-0"],["id","generateSecret",1,"tw-btn","tw-rounded-l-none",3,"click"],["aria-hidden","true",1,"far","fa-random"],[1,"sr-only"],["type","text","id","SecretValue","formControlName","value","name","SecretValue","autocomplete","off",1,"tw-form-control",3,"hidden"],[1,"tw-form-text"],["id","readCertificate",1,"tw-underline","hover:tw-no-underline",3,"click","hidden"],["class","tw-form-text-danger",4,"ngIf"],[3,"id","label","help"],[1,"tw-form-row","tw-flex","tw-items-center"],[1,"tw-shrink-0","tw-block"],[3,"id"],["formControlName","enabled","type","checkbox","id","expirationDateEnabled","name","expirationDateEnabled",1,"tw-form-switch__input",3,"change"],["id","expiration","formControlName","expiration",3,"min",4,"ngIf"],[3,"id","label","isLast"],["id","SecretDescription","name","SecretDescription","formControlName","description",1,"tw-form-control","md:tw-h-56"],[1,"tw-flex","tw-mb-6"],["id","addSecretBtn",1,"tw-btn-success","tw-mr-4",3,"click","disabled"],[1,"tw-btn",3,"click"],[3,"value"],[1,"tw-form-text-danger"],["id","expiration","formControlName","expiration",3,"min"],["id","createdColumn",3,"prop","date","title","headClasses","cellClasses"],["hidden",""],[1,"tw-mb-6","md:tw-flex-nowrap"],["id","certificateReader",3,"dataExists","uploadCert","uploadCertHelp","certMetaData","certMetaDataHelp"],["id","addCertificateBtn","disabled","",1,"tw-btn-success","tw-mr-4",3,"click"],[3,"onSave","onCancel","modalId","title","actions"],["id","",3,"dataExists","uploadCert","uploadCertHelp","certMetaData","certMetaDataHelp"]],template:function(Ve,Ae){1&Ve&&(e.j41(0,"div",5,0),e.DNE(2,_e,41,33,"form",6),e.j41(3,"app-data-table",7),e.nrm(4,"app-data-table-column",8)(5,"app-data-table-column",9)(6,"app-data-table-column",10),e.DNE(7,Pe,1,5,"app-data-table-column",11),e.nrm(8,"app-data-table-column",12),e.k0s()(),e.DNE(9,Re,17,18,"div",13)(10,ke,7,15,"app-custom-modal",14)),2&Ve&&(e.R7$(2),e.Y8G("ngIf",!Ae.isReadOnly),e.R7$(),e.Y8G("isReadOnly",Ae.isReadOnly)("rows",Ae.clientSecrets)("norowslabel","Clients.NoSecrets")("actions",Ae.dataTableActions),e.R7$(),e.Y8G("prop","type")("title","Common.Type")("headClasses","sm:tw-w-1/3 md:tw-w-1/4"),e.R7$(),e.Y8G("title","Common.Value")("isPlaceholder",!0)("placeholder","Secret Picker.HiddenValue")("headClasses","tw-hidden tw-w-40 xl:tw-table-cell")("cellClasses","tw-hidden xl:tw-table-cell"),e.R7$(),e.Y8G("prop","description")("title","Common.Description")("headClasses","tw-hidden sm:tw-table-cell")("cellClasses","tw-hidden tw-max-w-0 tw-truncate sm:tw-table-cell"),e.R7$(),e.Y8G("ngIf",Ae.showCreatedColumn),e.R7$(),e.Y8G("prop","expiration")("date",!0)("title","Common.Expiration")("headClasses","tw-hidden tw-w-40 md:tw-table-cell")("cellClasses","tw-hidden md:tw-table-cell"),e.R7$(),e.Y8G("ngIf",Ae.nonModelCertPicker),e.R7$(),e.Y8G("ngIf",!1===Ae.nonModelCertPicker))},dependencies:[C.Sq,C.bT,_.qT,_.xH,_.y7,_.me,_.Zm,_.wz,_.BC,_.cb,_.j4,_.JD,R.V,x.Y,O.m,d.up,H.w,M.G,V.Z,C.lG,U.D9],encapsulation:2,data:{animation:[(0,f.Ws)()]}})}}return Te})()},4179:(qe,me,u)=>{"use strict";u.d(me,{z:()=>C});var n=u(9417),e=u(177),_=u(1683),g=u(1780),S=u(779),v=u(75),f=u(8389),d=u(8251),E=u(4367),m=u(6599),F=u(9812),w=u(4438);let C=(()=>{class R{static{this.\u0275fac=function(H){return new(H||R)}}static{this.\u0275mod=w.$C({type:R})}static{this.\u0275inj=w.G2t({providers:[F.I],imports:[e.MD,n.X1,_.Y,g.h,n.YN,S.Q_,v.U,f.w,d.h,E.N,m.Y]})}}return R})()},9945:(qe,me,u)=>{"use strict";u.d(me,{f:()=>f});var n=u(177),e=u(9417),_=u(1683),g=u(8389),S=u(1780),v=u(4438);let f=(()=>{class d{static{this.\u0275fac=function(F){return new(F||d)}}static{this.\u0275mod=v.$C({type:d})}static{this.\u0275inj=v.G2t({imports:[n.MD,e.YN,e.X1,g.w,_.Y,S.h]})}}return d})()},7384:(qe,me,u)=>{"use strict";u.d(me,{d:()=>v});var n=u(4438),e=u(177),_=u(1780);function g(f,d){1&f&&(n.j41(0,"span"),n.EFF(1),n.nI1(2,"translate"),n.k0s()),2&f&&(n.R7$(),n.JRh(n.bMT(2,1,"Common.LoadingPleaseWait")))}function S(f,d){if(1&f&&(n.j41(0,"span"),n.EFF(1),n.k0s()),2&f){const E=n.XpG();n.R7$(),n.JRh(E.text)}}let v=(()=>{class f{constructor(){this.text=""}static{this.\u0275fac=function(m){return new(m||f)}}static{this.\u0275cmp=n.VBU({type:f,selectors:[["app-simple-loader"]],inputs:{text:"text"},decls:4,vars:2,consts:[[1,"tw-flex","tw-items-center","tw-justify-center","tw-text-sm","tw-min-h-48"],[1,"fad","fa-spinner-third","fa-spin","tw-text-secondary-500","tw-mr-2"],[4,"ngIf"]],template:function(m,F){1&m&&(n.j41(0,"div",0),n.nrm(1,"span",1),n.DNE(2,g,3,3,"span",2)(3,S,2,1,"span",2),n.k0s()),2&m&&(n.R7$(2),n.Y8G("ngIf",""==F.text),n.R7$(),n.Y8G("ngIf",""!=F.text))},dependencies:[e.bT,_.D9],encapsulation:2})}}return f})()},7175:(qe,me,u)=>{"use strict";u.d(me,{c:()=>v});var n=u(9417),e=u(177),_=u(1583),g=u(1780),S=u(4438);let v=(()=>{class f{static{this.\u0275fac=function(m){return new(m||f)}}static{this.\u0275mod=S.$C({type:f})}static{this.\u0275inj=S.G2t({imports:[e.MD,_.iI,g.h,n.YN]})}}return f})()},7970:(qe,me,u)=>{"use strict";u.d(me,{j:()=>S});var n=u(4438),e=u(7263),_=u(177);function g(v,f){if(1&v){const d=n.RV6();n.j41(0,"li",2)(1,"input",3),n.bIt("click",function(){const m=n.eBV(d).index,F=n.XpG();return n.Njj(F.selectValue(m))}),n.k0s(),n.j41(2,"label",4),n.bIt("click",function(){const m=n.eBV(d).index,F=n.XpG();return n.Njj(F.selectValue(m))}),n.j41(3,"span",5),n.EFF(4),n.k0s()()()}if(2&v){const d=f.$implicit,E=f.index,m=n.XpG();n.R7$(),n.FCK("id","",m.id,"-enum-val-",E,""),n.Mz_("name","",m.id,"-state"),n.Y8G("checked",d===m.value),n.R7$(),n.STu("tw-state-toggle-btn ",m.borderStyle(E)," ",m.isSelected(d),""),n.FCK("for","",m.id,"-enum-val-",E,""),n.BMQ("aria-label",m.enumValues),n.R7$(2),n.JRh(d)}}let S=(()=>{class v{get id(){return this._id}set id(d){this._id=d||(0,e.Nl)()}constructor(){this.readonly=!1,this.newValue=new n.bkB}selectValue(d){this.readonly||this.newValue.emit(this.options[d])}borderStyle(d){return 0===d?"tw-rounded-l-lg":d>=this.options.length-1?"tw-rounded-r-lg":"tw-rounded-none"}isSelected(d){return d===this.value?"tw-btn-selected":"tw-btn"}static{this.\u0275fac=function(E){return new(E||v)}}static{this.\u0275cmp=n.VBU({type:v,selectors:[["app-state-toggle"]],inputs:{id:"id",options:"options",value:"value",readonly:"readonly"},outputs:{newValue:"newValue"},decls:2,vars:2,consts:[[3,"id"],["class","tw-state-toggle",4,"ngFor","ngForOf"],[1,"tw-state-toggle"],["type","radio",1,"sr-only",3,"click","id","name","checked"],["type","button",3,"click","for"],[1,"tw-pl-1"]],template:function(E,m){1&E&&(n.j41(0,"ul",0),n.DNE(1,g,5,15,"li",1),n.k0s()),2&E&&(n.FS9("id",m.id+"-enumValues-select"),n.R7$(),n.Y8G("ngForOf",m.options))},dependencies:[_.Sq],encapsulation:2})}}return v})()},1957:(qe,me,u)=>{"use strict";u.d(me,{U:()=>g});var n=u(177),e=u(9417),_=u(4438);let g=(()=>{class S{static{this.\u0275fac=function(d){return new(d||S)}}static{this.\u0275mod=_.$C({type:S})}static{this.\u0275inj=_.G2t({imports:[n.MD,e.YN]})}}return S})()},3680:(qe,me,u)=>{"use strict";u.d(me,{z:()=>O});var n=u(4438),e=u(177),_=u(1583),g=u(1780),S=u(7005);const v=[[["","badge",""]],[["","ctx",""]],[["","button",""]],[["","tabs",""]]],f=["[badge]","[ctx]","[button]","[tabs]"],d=H=>[H];function E(H,M){if(1&H&&(n.qex(0),n.j41(1,"li",7)(2,"span",17),n.EFF(3,"/"),n.k0s(),n.j41(4,"a",8),n.EFF(5),n.k0s()(),n.bVm()),2&H){const V=M.$implicit;n.R7$(4),n.Y8G("routerLink",V.link),n.R7$(),n.SpI(" ",V.title," ")}}function m(H,M){1&H&&(n.j41(0,"span",18),n.EFF(1),n.nI1(2,"translate"),n.k0s()),2&H&&(n.R7$(),n.SpI(" ",n.bMT(2,1,"Common.ReadOnly")," "))}function F(H,M){1&H&&(n.j41(0,"span",19),n.EFF(1),n.nI1(2,"translate"),n.k0s()),2&H&&(n.R7$(),n.SpI(" ",n.bMT(2,1,"Common.Reserved")," "))}function w(H,M){1&H&&(n.j41(0,"span",20),n.EFF(1),n.nI1(2,"translate"),n.k0s()),2&H&&(n.R7$(),n.SpI(" ",n.bMT(2,1,"Common.UserTOTPEnabled")," "))}function C(H,M){1&H&&(n.j41(0,"div",21),n.SdG(1,2),n.k0s())}function R(H,M){1&H&&(n.qex(0),n.j41(1,"div",22),n.SdG(2,3),n.k0s(),n.bVm())}let O=(()=>{class H{constructor(){this.hasButton=!1,this.hasTabs=!1,this.isReadOnly=!1,this.isReserved=!1,this.totpEnabled=!1}static{this.\u0275fac=function(U){return new(U||H)}}static{this.\u0275cmp=n.VBU({type:H,selectors:[["app-title-bar"]],inputs:{title:"title",crumbs:"crumbs",hasButton:"hasButton",hasTabs:"hasTabs",isReadOnly:"isReadOnly",isReserved:"isReserved",totpEnabled:"totpEnabled"},ngContentSelectors:f,decls:24,vars:18,consts:[[1,"tw-bg-grey-200","tw-border-b","tw-border-grey-300","tw--mt-5","tw--mx-4","tw-mb-6"],[1,"tw-px-4","tw-py-5"],[1,"tw-container","tw-mx-auto","tw-text-left"],[1,"tw-flex","tw-items-end","tw-justify-between"],[1,"tw-content","tw-min-w-0"],[1,"tw-mb-2"],["id","pageCrumbs",1,"tw-flex","tw-items-center","tw-text-xs","tw-leading-none","tw-text-grey-700"],[1,"tw-flex","tw-items-center"],[1,"tw-inline-block","tw-text-grey-700","tw-font-normal","hover:tw-text-body",3,"routerLink"],[4,"ngFor","ngForOf"],[1,"md:tw-flex","md:tw-items-center"],["id","pageTitle",1,"tw-text-xl","tw-font-semibold","tw-mb-2","tw-truncate","md:tw-mb-0","md:tw-mr-3","md:tw-text-2xl","last:tw-mb-0"],["id","readOnlyBadge","class","tw-pill tw-mr-2",4,"ngIf"],["id","reservedBadge","class","tw-pill tw-mr-2",4,"ngIf"],["class","tw-pill tw-mr-2",4,"ngIf"],["class","tw-shrink-0 tw-ml-4",4,"ngIf"],[4,"ngIf"],["aria-hidden","true",1,"tw-mx-2","tw-opacity-75"],["id","readOnlyBadge",1,"tw-pill","tw-mr-2"],["id","reservedBadge",1,"tw-pill","tw-mr-2"],[1,"tw-pill","tw-mr-2"],[1,"tw-shrink-0","tw-ml-4"],[1,"tw-container","tw-mx-auto","tw--mt-2"]],template:function(U,G){1&U&&(n.NAR(v),n.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"nav",5),n.nI1(6,"translate"),n.j41(7,"ol",6)(8,"li",7)(9,"a",8),n.nI1(10,"localize"),n.EFF(11),n.nI1(12,"translate"),n.k0s()(),n.DNE(13,E,6,2,"ng-container",9),n.k0s()(),n.j41(14,"div",10)(15,"h1",11),n.EFF(16),n.k0s(),n.SdG(17),n.DNE(18,m,3,3,"span",12)(19,F,3,3,"span",13)(20,w,3,3,"span",14),n.SdG(21,1),n.k0s()(),n.DNE(22,C,2,0,"div",15),n.k0s()()(),n.DNE(23,R,3,0,"ng-container",16),n.k0s()),2&U&&(n.R7$(5),n.BMQ("aria-label",n.bMT(6,10,"Nav.Breadcrumbs")),n.R7$(4),n.Y8G("routerLink",n.eq3(16,d,n.bMT(10,12,"/home"))),n.R7$(2),n.SpI(" ",n.bMT(12,14,"Nav.Home")," "),n.R7$(2),n.Y8G("ngForOf",G.crumbs),n.R7$(3),n.JRh(G.title),n.R7$(2),n.Y8G("ngIf",G.isReadOnly&&!G.isReserved),n.R7$(),n.Y8G("ngIf",G.isReserved),n.R7$(),n.Y8G("ngIf",G.totpEnabled),n.R7$(2),n.Y8G("ngIf",G.hasButton),n.R7$(),n.Y8G("ngIf",G.hasTabs))},dependencies:[e.Sq,e.bT,_.Wk,g.D9,S.tl],encapsulation:2})}}return H})()},367:(qe,me,u)=>{"use strict";u.d(me,{m:()=>f});var n=u(177),e=u(1583),_=u(1683),g=u(7005),S=u(1780),v=u(4438);let f=(()=>{class d{static{this.\u0275fac=function(F){return new(F||d)}}static{this.\u0275mod=v.$C({type:d})}static{this.\u0275inj=v.G2t({imports:[n.MD,e.iI,_.Y,S.h,g.XE]})}}return d})()},2552:(qe,me,u)=>{"use strict";u.d(me,{N:()=>V});var n=u(4438),e=u(177),_=u(9417),g=u(1780);const S=(U,G)=>({"tw-bg-green-200":U,"tw-bg-primary-200":G}),v=(U,G,ie)=>({"tw-bg-green-500":U,"tw-bg-primary-500":G,"tw-bg-grey-200":ie}),f=(U,G,ie)=>({"tw-text-white":U,"tw-text-secondary-500":G,"tw-text-grey-400 group-hover:tw-text-grey-700":ie}),d=(U,G)=>({"fas fa-check tw-text-xl trans":U,"far fa-arrow-alt-circle-up tw-text-2xl":G}),E=(U,G,ie)=>({"tw-text-green-800":U,"tw-text-primary-800":G,"tw-text-navy-500":ie}),m=(U,G,ie)=>({"tw-text-green-600":U,"tw-text-primary-600":G,"tw-text-grey-600":ie}),F=(U,G,ie)=>({"tw-text-green-500":U,"tw-text-primary-500":G,"tw-text-grey-300":ie});function w(U,G){1&U&&(n.j41(0,"span",12),n.EFF(1),n.nI1(2,"translate"),n.k0s()),2&U&&(n.R7$(),n.JRh(n.bMT(2,1,"Clients.Selected")))}let C=(()=>{class U{constructor(){this.select=new n.bkB}static{this.\u0275fac=function(le){return new(le||U)}}static{this.\u0275cmp=n.VBU({type:U,selectors:[["app-type-option"]],inputs:{id:"id",btnId:"btnId",title:"title",summary:"summary",icon:"icon",selected:"selected",type:"type",activeType:"activeType",starterModeProtected:"starterModeProtected"},outputs:{select:"select"},decls:16,vars:48,consts:[[3,"id"],["type","radio",1,"sr-only",3,"click","id","value","ngModel"],["type","button",1,"tw-block","tw-bg-white","tw-pl-16","tw-py-3","tw-w-full","tw-overflow-hidden","tw-rounded","tw-relative","group","tw-transition-all","tw-ease-in-out","hover:tw-shadow-md","md:tw-pr-16",3,"click","for","ngClass"],["id","iconBg",1,"tw-flex","tw-items-center","tw-justify-center","tw-w-16","tw-h-full","tw-absolute","tw-top-0","tw-left-0","tw-transition-all","tw-ease-in-out",3,"ngClass"],["id","iconTextSpan",3,"ngClass"],["id","checkIconSpan",3,"ngClass"],["class","sr-only",4,"ngIf"],[1,"tw-px-4","tw-text-left"],["id","titleSpan",1,"tw-block","tw-font-semibold","tw-transition-all","tw-ease-in-out",3,"ngClass"],["id","summarySpan",1,"tw-block","tw-text-xs","tw-transition-all","tw-ease-in-out",3,"ngClass"],[1,"tw-hidden","tw-items-center","tw-justify-center","tw-w-16","tw-h-full","tw-absolute","tw-top-0","tw-right-0","tw-transition-all","tw-ease-in-out","md:tw-flex"],["id","iconSpan",3,"ngClass"],[1,"sr-only"]],template:function(le,L){1&le&&(n.j41(0,"li",0)(1,"input",1),n.bIt("click",function(){return L.select.emit(L.type)}),n.k0s(),n.j41(2,"label",2),n.bIt("click",function(){return L.select.emit(L.type)}),n.j41(3,"div",3)(4,"span",4),n.nrm(5,"span",5),n.k0s(),n.DNE(6,w,3,3,"span",6),n.k0s(),n.j41(7,"div",7)(8,"span",8),n.EFF(9),n.nI1(10,"translate"),n.k0s(),n.j41(11,"span",9),n.EFF(12),n.nI1(13,"translate"),n.k0s()(),n.j41(14,"div",10),n.nrm(15,"span",11),n.k0s()()()),2&le&&(n.FS9("id",L.id),n.R7$(),n.FS9("id",L.btnId),n.FS9("value",L.type),n.Y8G("ngModel",L.activeType),n.R7$(),n.FS9("for",L.btnId),n.Y8G("ngClass",n.l_i(22,S,L.selected&&!L.starterModeProtected,L.selected&&L.starterModeProtected)),n.R7$(),n.Y8G("ngClass",n.sMw(25,v,L.selected&&!L.starterModeProtected,L.selected&&L.starterModeProtected,!L.selected)),n.R7$(),n.Y8G("ngClass",n.sMw(29,f,L.selected&&!L.starterModeProtected,L.selected&&L.starterModeProtected,!L.selected)),n.R7$(),n.Y8G("ngClass",n.l_i(33,d,!L.starterModeProtected,L.starterModeProtected)),n.R7$(),n.Y8G("ngIf",L.selected),n.R7$(2),n.Y8G("ngClass",n.sMw(36,E,L.selected&&!L.starterModeProtected,L.selected&&L.starterModeProtected,!L.selected)),n.R7$(),n.SpI(" ",n.bMT(10,18,L.title)," "),n.R7$(2),n.Y8G("ngClass",n.sMw(40,m,L.selected&&!L.starterModeProtected,L.selected&&L.starterModeProtected,!L.selected)),n.R7$(),n.SpI(" ",n.bMT(13,20,L.summary)," "),n.R7$(3),n.ZvI("",L.icon," tw-text-3xl tw-transition-all tw-ease-in-out"),n.Y8G("ngClass",n.sMw(44,F,L.selected&&!L.starterModeProtected,L.selected&&L.starterModeProtected,!L.selected)))},dependencies:[e.YU,e.bT,_.me,_.Fm,_.BC,_.vS,g.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return U})();const R=(U,G)=>G.id;function x(U,G){1&U&&(n.j41(0,"h6",1),n.EFF(1),n.nI1(2,"translate"),n.k0s()),2&U&&(n.R7$(),n.JRh(n.bMT(2,1,"StarterMode.Basic")))}function O(U,G){if(1&U){const ie=n.RV6();n.j41(0,"div",1)(1,"app-type-option",3),n.bIt("select",function(L){n.eBV(ie);const J=n.XpG();return n.Njj(J.select.emit(L))}),n.k0s()()}if(2&U){const ie=G.$implicit,le=n.XpG();n.R7$(),n.Y8G("id",ie.id)("btnId",ie.btnId)("title",ie.title)("summary",ie.summary)("icon",ie.icon)("selected",ie.selectedTypes.includes(le.activeType))("type",ie.type)("summary",ie.summary)}}function H(U,G){if(1&U){const ie=n.RV6();n.j41(0,"div",1)(1,"app-type-option",5),n.bIt("select",function(L){n.eBV(ie);const J=n.XpG(2);return n.Njj(J.select.emit(L))}),n.k0s()()}if(2&U){const ie=G.$implicit,le=n.XpG(2);n.R7$(),n.Y8G("id",ie.id)("btnId",ie.btnId)("title",ie.title)("summary",ie.summary)("icon",ie.icon)("selected",le.activeType===ie.type)("type",ie.type)("summary",ie.summary)("starterModeProtected",le.isStarterMode)}}function M(U,G){if(1&U&&(n.j41(0,"h6",1),n.EFF(1),n.nI1(2,"translate"),n.k0s(),n.j41(3,"ul",4),n.Z7z(4,H,2,9,"div",1,R),n.k0s()),2&U){const ie=n.XpG();n.R7$(),n.JRh(n.bMT(2,1,"StarterMode.Enterprise")),n.R7$(3),n.Dyx(ie.disabledOptions())}}let V=(()=>{class U{constructor(){this.select=new n.bkB}availableOptions(){return this.isStarterMode?this.options.filter(ie=>ie.starterMode):this.options}disabledOptions(){return this.isStarterMode?this.options.filter(ie=>!ie.starterMode):[]}static{this.\u0275fac=function(le){return new(le||U)}}static{this.\u0275cmp=n.VBU({type:U,selectors:[["app-type-selector"]],inputs:{id:"id",options:"options",activeType:"activeType",isStarterMode:"isStarterMode"},outputs:{select:"select"},decls:6,vars:2,consts:[["id","defaultSetupList",1,"tw--mt-2","tw--ml-2","md:tw--mt-4","md:tw--ml-4"],[1,"tw-pt-2","tw-pl-2","tw-w-full","sm:tw-w-1/2","md:tw-pt-4","md:tw-pl-4"],["id","availableTypes",1,"singleItem","tw-flex","tw-flex-wrap"],[3,"select","id","btnId","title","summary","icon","selected","type"],["id","disabledTypes",1,"singleItem","tw-flex","tw-flex-wrap"],[3,"select","id","btnId","title","summary","icon","selected","type","starterModeProtected"]],template:function(le,L){1&le&&(n.j41(0,"div",0),n.DNE(1,x,3,3,"h6",1),n.j41(2,"ul",2),n.Z7z(3,O,2,8,"div",1,R),n.k0s(),n.DNE(5,M,6,3),n.k0s()),2&le&&(n.R7$(),n.vxM(1,L.isStarterMode?1:-1),n.R7$(2),n.Dyx(L.availableOptions()),n.R7$(2),n.vxM(5,L.isStarterMode?5:-1))},dependencies:[C,g.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return U})()},5667:(qe,me,u)=>{"use strict";u.d(me,{g:()=>S});var n=u(177),e=u(9417),_=u(1780),g=u(4438);let S=(()=>{class v{static{this.\u0275fac=function(E){return new(E||v)}}static{this.\u0275mod=g.$C({type:v})}static{this.\u0275inj=g.G2t({imports:[n.MD,e.YN,_.h]})}}return v})()},2420:(qe,me,u)=>{"use strict";u.d(me,{P:()=>U});var n=u(1594),e=u(4438),_=u(1715),g=u(6026);let S=(()=>{class G{constructor(){this.wizardCancel=new e.bkB,this.finish=new e.bkB,this.hide=new e.bkB,this.titleId=g.R.TileId,this.index=0,this.progressPercent=0}ngOnInit(){this.setupWizard(),this.createComponentAtCurrentIndex(),this.displayComponentAtCurrentIndex()}setupWizard(){this.wizardSteps=this.wizardProvider.getWizard(this.wizardName),this.wizardTitles=this.wizardProvider.getWizardTitle(this.wizardName)}keydown(le){"Enter"===le.key&&this.canNext()&&this.nextTab()}get showProgress(){return!0}hideWizard(){this.hide.emit()}cancelWizard(){this.wizardCancel.emit()}finishWizard(){this.finish.emit()}initialStep(){return this.index<=0}displayComponentAtCurrentIndex(){this.wizardHost.viewContainerRef.detach();const le=this.components.get(this.index);this.wizardHost.viewContainerRef.insert(le.hostView),this.components.get(this.index).instance.hosted(),this.updateProgress()}createComponentAtCurrentIndex(){const L=this.wizardHost.viewContainerRef.createComponent(this.wizardSteps[this.index].component);this.components.set(this.index,L),L.instance.data=this.wizardSteps[this.index].data,this.wizardHost.viewContainerRef.detach()}canNext(){return this.components.get(this.index).instance.canNext()}updateProgress(){this.progressPercent=(this.index+1)/(this.wizardSteps.length+1)*100}ngOnDestroy(){this.clearComponents()}clearComponents(){this.components.forEach(le=>{le?.destroy()}),this.components.clear()}get asAny(){return this}static{this.\u0275fac=function(L){return new(L||G)}}static{this.\u0275dir=e.FsC({type:G,viewQuery:function(L,J){if(1&L&&e.GBs(_.t,7),2&L){let te;e.mGM(te=e.lsd())&&(J.wizardHost=te.first)}},hostBindings:function(L,J){1&L&&e.bIt("keydown",function(I){return J.keydown(I)},!1,e.EBC)},inputs:{wizardName:"wizardName"},outputs:{wizardCancel:"wizardCancel",finish:"finish",hide:"hide"}})}}return G})();var v=u(9417),f=u(177),d=u(1780),E=u(2467);function m(G,ie){if(1&G&&(e.j41(0,"span",17),e.EFF(1),e.k0s()),2&G){const le=ie.$implicit;e.R7$(),e.JRh(le)}}function F(G,ie){if(1&G){const le=e.RV6();e.j41(0,"tr",11)(1,"td",12),e.bIt("click",function(){e.eBV(le);const J=e.XpG().$implicit,te=e.XpG();return e.Njj(te.jumpToTab(J.stepName))}),e.j41(2,"b"),e.EFF(3),e.nI1(4,"keyToString"),e.nI1(5,"translate"),e.k0s()(),e.j41(6,"td",13),e.bIt("click",function(){e.eBV(le);const J=e.XpG().$implicit,te=e.XpG();return e.Njj(te.jumpToTab(J.stepName))}),e.DNE(7,m,2,1,"span",14),e.k0s(),e.j41(8,"td",12),e.bIt("click",function(){e.eBV(le);const J=e.XpG().$implicit,te=e.XpG();return e.Njj(te.jumpToTab(J.stepName))}),e.j41(9,"button",15),e.bIt("click",function(){e.eBV(le);const J=e.XpG().$implicit,te=e.XpG();return e.Njj(te.jumpToTab(J.stepName))}),e.nrm(10,"span",16),e.j41(11,"span",2),e.EFF(12),e.nI1(13,"translate"),e.k0s()()()()}if(2&G){const le=ie.$implicit;e.R7$(3),e.JRh(e.bMT(5,5,e.bMT(4,3,le.key))),e.R7$(4),e.Y8G("ngForOf",le.value),e.R7$(5),e.JRh(e.bMT(13,7,"Common.Edit"))}}function w(G,ie){if(1&G&&(e.qex(0),e.DNE(1,F,14,9,"tr",10),e.nI1(2,"keyvalue"),e.bVm()),2&G){const le=ie.$implicit;e.R7$(),e.Y8G("ngForOf",e.bMT(2,1,le.stepData))}}function C(G,ie){if(1&G&&(e.j41(0,"form",18)(1,"div",19),e.nrm(2,"input",20),e.j41(3,"label",21),e.EFF(4),e.nI1(5,"translate"),e.k0s()()()),2&G){const le=e.XpG();e.Y8G("formGroup",le.summaryForm),e.R7$(),e.Y8G("ngClass","last:tw-border-0 last:tw-mb-0 last:tw-pb-0"),e.R7$(3),e.JRh(e.bMT(5,3,"Common.Enabled"))}}let R=(()=>{class G{constructor(le){this.fb=le,this.askIfEnabled=!1,this.emitNavigate=new e.bkB}ngOnInit(){this.summaryForm=this.fb.group({enabled:[!0]})}jumpToTab(le){this.emitNavigate.emit(le)}isEnabled(){return this.summaryForm.get("enabled").value}static{this.\u0275fac=function(L){return new(L||G)(e.rXU(v.ze))}}static{this.\u0275cmp=e.VBU({type:G,selectors:[["app-wizard-summary"]],inputs:{askIfEnabled:"askIfEnabled"},decls:30,vars:20,consts:[[1,"cms","tw-mb-6"],["id","reviewTable",1,"datatable","selectable","hover"],[1,"sr-only"],[1,"disabled","inactive"],[1,"sm:tw-w-40"],[1,"tw-hidden","tw-max-w-0","tw-truncate","sm:tw-table-cell"],[1,"tw-italic"],[1,"tw-w-1"],[4,"ngFor","ngForOf"],[3,"formGroup",4,"ngIf"],["id","summaryItemRow","class","group",4,"ngFor","ngForOf"],["id","summaryItemRow",1,"group"],[3,"click"],[1,"tw-hidden","sm:tw-table-cell","tw-max-w-0","tw-wrap",3,"click"],["class","tw-block",4,"ngFor","ngForOf"],[1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click"],["aria-hidden","true",1,"fad","fa-pencil"],[1,"tw-block"],[3,"formGroup"],[1,"tw-form-row-border","tw-mt-6",3,"ngClass"],["id","enabledCheck","type","checkbox","value","false","formControlName","enabled",1,"tw-h-full","tw-ml-2","tw-mr-6"],["for","enabledCheck",1,"tw-form-label-inline","align-middle"]],template:function(L,J){1&L&&(e.j41(0,"div",0)(1,"p"),e.EFF(2),e.nI1(3,"translate"),e.k0s()(),e.j41(4,"table",1)(5,"thead",2)(6,"tr")(7,"th"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"th"),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"th")(14,"span",2),e.EFF(15),e.nI1(16,"translate"),e.k0s()()()(),e.j41(17,"tbody")(18,"tr",3)(19,"td",4)(20,"b"),e.EFF(21),e.nI1(22,"translate"),e.k0s()(),e.j41(23,"td",5)(24,"span",6),e.EFF(25),e.nI1(26,"translate"),e.k0s()(),e.nrm(27,"td",7),e.k0s(),e.DNE(28,w,3,3,"ng-container",8),e.k0s()(),e.DNE(29,C,6,5,"form",9)),2&L&&(e.R7$(2),e.JRh(e.bMT(3,8,"Common.Wizards.Review")),e.R7$(6),e.JRh(e.bMT(9,10,"Common.Key")),e.R7$(3),e.JRh(e.bMT(12,12,"Common.Value")),e.R7$(4),e.JRh(e.bMT(16,14,"Common.Actions")),e.R7$(6),e.JRh(e.bMT(22,16,"Common.Type")),e.R7$(4),e.JRh(e.bMT(26,18,J.summaryTitle)),e.R7$(3),e.Y8G("ngForOf",J.summary),e.R7$(),e.Y8G("ngIf",J.askIfEnabled))},dependencies:[f.YU,f.Sq,f.bT,v.qT,v.Zm,v.BC,v.cb,v.j4,v.JD,f.lG,d.D9,E.C],encapsulation:2})}}return G})();var x=u(5424),O=u(5794);let H=(()=>{class G extends S{constructor(le,L,J){super(),this.errorService=le,this.toastr=L,this.translate=J,this.components=new Map}nextTab(){++this.index,this.index===this.wizardSteps.length?this.buildSummary():(void 0===this.components.get(this.index)&&this.createComponentAtCurrentIndex(),this.displayComponentAtCurrentIndex(),this.setOrUpdateDtoSnapshot())}previousTab(){this.index>0&&(--this.index,this.displayComponentAtCurrentIndex())}buildSummary(){const le=[];this.wizardSteps.forEach((L,J)=>{const I=this.components.get(J).instance.getStepSummary();null!=I&&le.push({stepName:`ClientStep${J}`,stepData:I})}),this.displaySummaryComponent(le)}displaySummaryComponent(le){this.wizardHost.viewContainerRef.detach(),void 0===this.summaryComponentRef?(this.wizardHost.viewContainerRef.detach(),this.summaryComponentRef=this.wizardHost.viewContainerRef.createComponent(R)):this.wizardHost.viewContainerRef.insert(this.summaryComponentRef.hostView),this.summaryComponentRef.instance.summary=le,this.summaryComponentRef.instance.summaryTitle=this.wizardTitles.summaryTitle,this.summaryComponentRef.instance.emitNavigate.pipe((0,n.$)()).subscribe(L=>{this.index=le.findIndex(J=>J.stepName===L),this.displayComponentAtCurrentIndex()}),this.updateProgress()}getWizardDto(){let le={};return this.wizardSteps.forEach((L,J)=>{if(J>=this.index)return;const I=this.components.get(J).instance.getStepDTO();le=Object.assign({},le,I)}),le}ngOnDestroy(){this.summaryComponentRef&&this.summaryComponentRef.destroy()}setOrUpdateDtoSnapshot(){var le=this.components.get(this.index),L=this.getWizardDto();le.instance.dtoSnapshot=L}static{this.\u0275fac=function(L){return new(L||G)(e.rXU(x.I),e.rXU(O.tw),e.rXU(d.c$))}}static{this.\u0275dir=e.FsC({type:G,features:[e.Vt3]})}}return G})();var M=u(9988),V=u(7263);let U=(()=>{class G extends H{constructor(le,L,J){super(le,L,J),this.components=new Map,this.displayUpgradeIcon=!1}get showProgress(){return this.wizardName!==M.$.Home&&super.showProgress}nextTab(){var le=this.components.get(this.index),L=(0,V.hX)(le.instance.selectedType)?null:le.instance.selectedType();L?this.changeWizardType(L):super.nextTab()}previousTab(){0!==this.index||this.wizardName===M.$.Home?super.previousTab():this.changeWizardType(M.$.Home)}initialStep(){return super.initialStep()&&this.wizardName==M.$.Home}cancelWizard(){this.index>0||this.wizardName!==M.$.Home?this.changeWizardType(M.$.Home,0):super.cancelWizard()}changeWizardType(le,L=null){(0,V.hX)(L)||(this.index=L),this.wizardName=le,this.clearComponents(),this.setupWizard(),this.createComponentAtCurrentIndex(),this.displayComponentAtCurrentIndex()}static{this.\u0275fac=function(L){return new(L||G)(e.rXU(x.I),e.rXU(O.tw),e.rXU(d.c$))}}static{this.\u0275dir=e.FsC({type:G,inputs:{displayUpgradeIcon:"displayUpgradeIcon"},features:[e.Vt3]})}}return G})()},1715:(qe,me,u)=>{"use strict";u.d(me,{t:()=>e});var n=u(4438);let e=(()=>{class _{constructor(S){this.viewContainerRef=S}static{this.\u0275fac=function(v){return new(v||_)(n.rXU(n.c1b))}}static{this.\u0275dir=n.FsC({type:_,selectors:[["","appStepHost",""]]})}}return _})()},2858:(qe,me,u)=>{"use strict";u.d(me,{AU:()=>L,zI:()=>te});var n=u(6799),e=u(9417),_=u(4414),g=u(1413),S=u(590),v=u(4438),f=u(5794),d=u(1780),E=u(177);function m(I,oe){if(1&I&&(v.j41(0,"li",10)(1,"label",22),v.nrm(2,"input",23),v.j41(3,"span"),v.EFF(4),v.nI1(5,"translate"),v.k0s()()()),2&I){const z=v.XpG();v.R7$(2),v.Y8G("value",z.CertificateAction.DoNotSet),v.R7$(2),v.JRh(v.bMT(5,2,"Clients.Import.Wizard.Certificates.DoNotSet"))}}function F(I,oe){if(1&I&&(v.j41(0,"li",10)(1,"label",24),v.nrm(2,"input",25),v.j41(3,"span"),v.EFF(4),v.nI1(5,"translate"),v.k0s()()()),2&I){const z=v.XpG();v.R7$(2),v.Y8G("value",z.CertificateAction.UseExisting),v.R7$(2),v.JRh(v.bMT(5,2,"Clients.Import.Wizard.Certificates.UseExistingCertificates"))}}function w(I,oe){if(1&I){const z=v.RV6();v.j41(0,"tr")(1,"td",39),v.EFF(2),v.k0s(),v.j41(3,"td")(4,"button",40),v.bIt("click",function(){const Pe=v.eBV(z).$implicit,Re=v.XpG(5);return v.Njj(Re.deleteCert(Pe))}),v.EFF(5),v.nrm(6,"span",41),v.j41(7,"span",37),v.EFF(8),v.nI1(9,"translate"),v.k0s()()()()}if(2&I){const z=oe.$implicit,_e=v.XpG(5);v.R7$(2),v.SpI(" ",null==z?null:z.subject," "),v.R7$(3),v.SpI(" ",_e.deleteDisabled," "),v.R7$(3),v.JRh(v.bMT(9,3,"Clients.Saml.DeleteCert"))}}function C(I,oe){if(1&I&&(v.qex(0),v.DNE(1,w,10,5,"tr",38),v.bVm()),2&I){const z=v.XpG(4);v.R7$(),v.Y8G("ngForOf",z.data.certificates.SigningCertificates)}}function R(I,oe){if(1&I){const z=v.RV6();v.qex(0),v.j41(1,"tr")(2,"td",39),v.EFF(3),v.k0s(),v.j41(4,"td")(5,"button",40),v.bIt("click",function(){v.eBV(z);const Pe=v.XpG(4);return v.Njj(Pe.deleteCert(null))}),v.EFF(6),v.nrm(7,"span",41),v.j41(8,"span",37),v.EFF(9),v.nI1(10,"translate"),v.k0s()()()(),v.bVm()}if(2&I){const z=v.XpG(4);v.R7$(3),v.SpI(" ",z.data.certificates.EncryptionCertificate.subject," "),v.R7$(3),v.SpI(" ",z.deleteDisabled," "),v.R7$(3),v.JRh(v.bMT(10,3,"Clients.Saml.DeleteCert"))}}function x(I,oe){if(1&I&&(v.j41(0,"table",34)(1,"thead")(2,"tr")(3,"th",35),v.EFF(4),v.nI1(5,"translate"),v.k0s(),v.j41(6,"th",36)(7,"span",37),v.EFF(8),v.nI1(9,"translate"),v.k0s()()()(),v.j41(10,"tbody"),v.DNE(11,C,2,1,"ng-container",13)(12,R,11,5,"ng-container",13),v.k0s()()),2&I){const z=v.XpG(3);v.R7$(4),v.JRh(v.bMT(5,4,"Common.Subject")),v.R7$(4),v.JRh(v.bMT(9,6,"Common.Actions")),v.R7$(3),v.Y8G("ngIf",z.activeTab===z.ActiveTab.Request),v.R7$(),v.Y8G("ngIf",z.activeTab===z.ActiveTab.Response)}}function O(I,oe){if(1&I&&(v.j41(0,"div"),v.DNE(1,x,13,8,"table",33),v.k0s()),2&I){const z=v.XpG(2);v.R7$(),v.Y8G("ngIf",z.activeTab==z.ActiveTab.Request?z.data.certificates.SigningCertificates.length>0:z.data.certificates.EncryptionCertificate)}}function H(I,oe){1&I&&(v.j41(0,"div",42)(1,"div"),v.EFF(2),v.nI1(3,"translate"),v.k0s()()),2&I&&(v.R7$(2),v.JRh(v.bMT(3,1,"Clients.NoCertificates")))}function M(I,oe){if(1&I){const z=v.RV6();v.j41(0,"button",43),v.bIt("click",function(){v.eBV(z);const Pe=v.XpG(3);return v.Njj(Pe.addCert())}),v.EFF(1),v.nI1(2,"translate"),v.k0s()}2&I&&(v.R7$(),v.JRh(v.bMT(2,1,"Clients.Saml.AddCert")))}function V(I,oe){if(1&I){const z=v.RV6();v.j41(0,"button",43),v.bIt("click",function(){v.eBV(z);const Pe=v.XpG(3);return v.Njj(Pe.addCert())}),v.EFF(1),v.nI1(2,"translate"),v.k0s()}2&I&&(v.R7$(),v.JRh(v.bMT(2,1,"Clients.Saml.ReplaceCertificate")))}function U(I,oe){if(1&I&&(v.qex(0),v.DNE(1,M,3,3,"button",32)(2,V,3,3,"button",32),v.bVm()),2&I){const z=v.XpG(2);v.R7$(),v.Y8G("ngIf",!z.data.certificates.EncryptionCertificate||""===z.data.certificates.EncryptionCertificate),v.R7$(),v.Y8G("ngIf",z.data.certificates.EncryptionCertificate&&""!==z.data.certificates.EncryptionCertificate)}}function G(I,oe){if(1&I){const z=v.RV6();v.j41(0,"button",43),v.bIt("click",function(){v.eBV(z);const Pe=v.XpG(2);return v.Njj(Pe.addCert())}),v.EFF(1),v.nI1(2,"translate"),v.k0s()}2&I&&(v.R7$(),v.JRh(v.bMT(2,1,"Clients.Saml.AddCert")))}function ie(I,oe){if(1&I){const z=v.RV6();v.j41(0,"div")(1,"ul",26)(2,"li",27)(3,"button",28),v.bIt("click",function(){v.eBV(z);const Pe=v.XpG();return v.Njj(Pe.activeTab=Pe.ActiveTab.Request)}),v.EFF(4),v.nI1(5,"translate"),v.k0s()(),v.j41(6,"li",27)(7,"button",29),v.bIt("click",function(){v.eBV(z);const Pe=v.XpG();return v.Njj(Pe.activeTab=Pe.ActiveTab.Response)}),v.EFF(8),v.nI1(9,"translate"),v.k0s()()(),v.DNE(10,O,2,1,"div",13)(11,H,4,3,"div",30),v.j41(12,"div",31),v.DNE(13,U,3,2,"ng-container",13)(14,G,3,3,"button",32),v.k0s()()}if(2&I){const z=v.XpG();v.R7$(3),v.AVh("active",z.activeTab===z.ActiveTab.Request),v.R7$(),v.JRh(v.bMT(5,10,"Clients.Saml.Request")),v.R7$(3),v.AVh("active",z.activeTab===z.ActiveTab.Response),v.R7$(),v.JRh(v.bMT(9,12,"Clients.Saml.Response")),v.R7$(2),v.Y8G("ngIf",z.data.certificates),v.R7$(),v.Y8G("ngIf",z.activeTab==z.ActiveTab.Request&&0===z.data.certificates.SigningCertificates.length||z.activeTab==z.ActiveTab.Response&&!z.data.certificates.EncryptionCertificate),v.R7$(2),v.Y8G("ngIf",z.activeTab===z.ActiveTab.Response),v.R7$(),v.Y8G("ngIf",z.activeTab===z.ActiveTab.Request)}}function le(I,oe){if(1&I){const z=v.RV6();v.j41(0,"div",44)(1,"ul",45)(2,"li",10)(3,"label",46)(4,"input",47),v.mxI("ngModelChange",function(Pe){v.eBV(z);const Re=v.XpG();return v.DH7(Re.data.rememberCertificateAction,Pe)||(Re.data.rememberCertificateAction=Pe),v.Njj(Pe)}),v.k0s(),v.j41(5,"span",48),v.EFF(6),v.nI1(7,"translate"),v.k0s()()()()()}if(2&I){const z=v.XpG();v.R7$(4),v.R50("ngModel",z.data.rememberCertificateAction),v.R7$(2),v.SpI(" ",v.bMT(7,2,"Clients.Import.Wizard.Certificates.RememberMyDecision")," ")}}var L=function(I){return I[I.DoNotSet=0]="DoNotSet",I[I.UseExisting=1]="UseExisting",I[I.ManuallyCreate=2]="ManuallyCreate",I}(L||{}),J=function(I){return I[I.Request=0]="Request",I[I.Response=1]="Response",I}(J||{});let te=(()=>{class I extends n.P{get data(){return this._selectableImportResource}set data(z){this._selectableImportResource=z}constructor(z,_e,Pe,Re){super(),this.fb=z,this.changeDetector=_e,this.toastr=Pe,this.translate=Re,this.CertificateAction=L,this.ActiveTab=J}ngOnInit(){if(this.form=this.fb.group({certificateAction:[L.UseExisting,e.k0.required]}),this.data){let _e;_e=this.data.existingHasCertificates?this.data.certificateAction===L.ManuallyCreate?L.ManuallyCreate:L.UseExisting:L.DoNotSet,this.data.certificateAction=_e,this.form.get("certificateAction").setValue(_e),this.displayResourceType=S.n.getSummaryDisplayType(this.data.resourceType)}this.data.certificateAction===L.ManuallyCreate&&(this.showCertificatePicker=!0,this.changeDetector.detectChanges(),this.data.certificates&&(this.activeTab=J.Request,this.data.certificates.SigningCertificates&&this.data.certificates.SigningCertificates.length>0?this.activeTab=J.Request:this.data.certificates.EncryptionCertificate&&(this.activeTab=J.Response))),this.form.valueChanges.subscribe(()=>{const z=this.form.value.certificateAction;this.data.certificateAction=z,z===L.ManuallyCreate?(this.showCertificatePicker=!0,this.activeTab=J.Request,this.changeDetector.detectChanges()):this.showCertificatePicker=!1}),this.updatedCertificatesObservable&&this.updatedCertificatesObservable.unsubscribe()}addCert(){this.updatedCertificatesObservable&&(this.updatedCertificatesObservable.unsubscribe(),this.updatedCertificatesObservable=null),this.updatedCertificateSubject=new g.B,this.updatedCertificatesObservable=this.updatedCertificateSubject.subscribe(z=>{this.activeTab===J.Request?(this.stripContentTypeFromData(z),this.data.certificates.SigningCertificates.some(_e=>_e.base64Cert===z.base64Cert)?this.toastr.error(this.translate.instant("Clients.Import.Wizard.Certificates.DuplicateCertificate"),this.translate.instant("Clients.Import.Wizard.Certificates.InvalidCertificate")):this.data.certificates.SigningCertificates.push(z)):(this.stripContentTypeFromData(z),this.data.certificates.EncryptionCertificate=z)}),this.openModal(_.M.importUploadCertificate,this.updatedCertificatesObservable)}stripContentTypeFromData(z){const _e=z.base64Cert.split("base64,");_e.length>1&&(z.base64Cert=_e[1])}deleteCert(z){if(this.activeTab===J.Request){const _e=this.data.certificates.SigningCertificates.indexOf(z);this.data.certificates.SigningCertificates.splice(_e,1)}else this.data.certificates.EncryptionCertificate=null}goNext(){this.data.certificateAction===L.ManuallyCreate&&(!this.data.certificates||!(this.data.certificates.SigningCertificates.length>0||this.data.certificates.EncryptionCertificate&&this.data.certificates.EncryptionCertificate.base64Cert))||(this.data.certificateAction===L.DoNotSet?(this.data.certificates.SigningCertificates=[],this.data.certificates.EncryptionCertificate=null):this.data.certificateAction===L.UseExisting&&(this.data.useExistingCertificates=!0),this.next())}disableNext(){return!(this.data.certificateAction===L.DoNotSet||this.data.certificateAction===L.UseExisting||null!==this.data.certificates&&(null!==this.data.certificates.SigningCertificates&&0!==this.data.certificates.SigningCertificates.length||this.data.certificates.EncryptionCertificate&&""!==this.data.certificates.EncryptionCertificate.base64Cert))}ngOnDestroy(){this.updatedCertificatesObservable&&this.updatedCertificatesObservable.unsubscribe()}static{this.\u0275fac=function(_e){return new(_e||I)(v.rXU(e.ze),v.rXU(v.gRc),v.rXU(f.tw),v.rXU(d.c$))}}static{this.\u0275cmp=v.VBU({type:I,selectors:[["app-import-certificates"]],features:[v.Vt3],decls:38,vars:29,consts:[["existingHasCertificates",""],[1,"modal-body"],[1,"tw-mb-4"],[1,"tw-font-semibold","tw-mr-2"],["id","displayName"],[1,"cms"],["id","certActionsLabel"],[3,"formGroup"],["role","group","aria-labelledby","certActionsLabel",1,"tw-form-checks"],["class","tw-form-checks__item",4,"ngIf","ngIfElse"],[1,"tw-form-checks__item"],["for","manually-create",1,"tw-form-checks__label"],["id","manually-create","formControlName","certificateAction","type","radio",1,"tw-form-checks__input",3,"value"],[4,"ngIf"],["class","tw-border-t tw-border-grey-200 tw-px-4 tw-pt-4 tw--mx-5 tw-mt-4",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],["id","backBtn",1,"tw-btn",3,"click"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],["for","do-not-set",1,"tw-form-checks__label"],["id","do-not-set","formControlName","certificateAction","type","radio",1,"tw-form-checks__input",3,"value"],["for","existing-certificate",1,"tw-form-checks__label"],["id","existing-certificate","formControlName","certificateAction","type","radio",1,"tw-form-checks__input",3,"value"],[1,"pill-tabs"],[1,"pill-tabs__item"],["id","requestSpan",1,"pill-tabs__link",3,"click"],["id","responseSpan",1,"pill-tabs__link",3,"click"],["id","noCertsAlert","class","tw-alert tw-mb-4","role","alert",4,"ngIf"],[1,"tw-flex","tw-justify-end"],["id","addButton","class","tw-btn-success",3,"click",4,"ngIf"],["id","certificateTable","class","datatable hover tw-mb-4",4,"ngIf"],["id","certificateTable",1,"datatable","hover","tw-mb-4"],[1,""],[1,"tw-w-1"],[1,"sr-only"],[4,"ngFor","ngForOf"],[1,"tw-max-w-0","tw-truncate"],["type","button",1,"tw-btn-link","tw-btn-small","tw-text-red-500",3,"click"],["aria-hidden","true",1,"fas","fa-times"],["id","noCertsAlert","role","alert",1,"tw-alert","tw-mb-4"],["id","addButton",1,"tw-btn-success",3,"click"],[1,"tw-border-t","tw-border-grey-200","tw-px-4","tw-pt-4","tw--mx-5","tw-mt-4"],[1,"tw-form-checks"],["for","remember-my-decision",1,"tw-form-checks__label"],["id","remember-my-decision","type","checkbox",1,"tw-form-checks__input",3,"ngModelChange","ngModel"],[1,"tw-font-normal"]],template:function(_e,Pe){if(1&_e){const Re=v.RV6();v.j41(0,"div",1)(1,"h2",2)(2,"span",3),v.EFF(3),v.nI1(4,"translate"),v.k0s(),v.j41(5,"span",4),v.EFF(6),v.nI1(7,"translate"),v.k0s()(),v.j41(8,"div",5)(9,"p",6),v.EFF(10),v.nI1(11,"translate"),v.k0s()(),v.j41(12,"form",7)(13,"ul",8),v.DNE(14,m,6,4,"li",9)(15,F,6,4,"ng-template",null,0,v.C5r),v.j41(17,"li",10)(18,"label",11),v.nrm(19,"input",12),v.j41(20,"span"),v.EFF(21),v.nI1(22,"translate"),v.k0s()()()()(),v.DNE(23,ie,15,14,"div",13)(24,le,8,4,"div",14),v.k0s(),v.nrm(25,"div",15),v.j41(26,"div",16)(27,"div",17)(28,"div",18)(29,"button",19),v.bIt("click",function(){return v.eBV(Re),v.Njj(Pe.goNext())}),v.EFF(30),v.nI1(31,"translate"),v.k0s(),v.j41(32,"button",20),v.bIt("click",function(){return v.eBV(Re),v.Njj(Pe.back())}),v.EFF(33),v.nI1(34,"translate"),v.k0s()(),v.j41(35,"button",21),v.bIt("click",function(){return v.eBV(Re),v.Njj(Pe.cancel())}),v.EFF(36),v.nI1(37,"translate"),v.k0s()()()}if(2&_e){const Re=v.sdS(16);v.R7$(3),v.SpI("",v.bMT(4,15,"Clients.Import.Wizard.Certificates.Title"),":"),v.R7$(3),v.Lme("",null==Pe.data?null:Pe.data.displayName," (",v.bMT(7,17,"Clients.Import.Wizard.Secrets."+Pe.displayResourceType),")"),v.R7$(4),v.JRh(v.bMT(11,19,"Clients.Import.Wizard.Certificates.ChooseWhatToDo")),v.R7$(2),v.Y8G("formGroup",Pe.form),v.R7$(2),v.Y8G("ngIf",!(null!=Pe.data&&Pe.data.existingHasCertificates))("ngIfElse",Re),v.R7$(5),v.Y8G("value",Pe.CertificateAction.ManuallyCreate),v.R7$(2),v.JRh(v.bMT(22,21,"Clients.Import.Wizard.Certificates.UploadNewCertificates")),v.R7$(2),v.Y8G("ngIf",Pe.showCertificatePicker),v.R7$(),v.Y8G("ngIf",!Pe.showCertificatePicker),v.R7$(5),v.Y8G("disabled",Pe.disableNext()),v.R7$(),v.JRh(v.bMT(31,23,"Common.Next")),v.R7$(3),v.JRh(v.bMT(34,25,"Common.Back")),v.R7$(3),v.JRh(v.bMT(37,27,"Common.Cancel"))}},dependencies:[E.Sq,E.bT,e.qT,e.me,e.Zm,e.Fm,e.BC,e.cb,e.vS,e.j4,e.JD,d.D9],encapsulation:2})}}return I})()},4406:(qe,me,u)=>{"use strict";u.d(me,{X:()=>S});var n=u(6799),e=u(4438),_=u(5826),g=u(1780);let S=(()=>{class v extends n.P{constructor(d){super(),this.importWizardService=d,this.hideProgressBar=!0}downloadAndQuit(){this.importWizardService.downloadClientSecretsFromCache().subscribe(()=>{this.quit()})}yes(){this.quit()}static{this.\u0275fac=function(E){return new(E||v)(e.rXU(_.o))}}static{this.\u0275cmp=e.VBU({type:v,selectors:[["app-import-download-warning"]],features:[e.Vt3],decls:17,vars:15,consts:[[1,"modal-body","tw-text-center"],[1,"tw-mb-4"],[1,"tw-pill-danger"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","leaveBtn",1,"tw-btn-success",3,"click"],["id","stayBtn",1,"tw-btn-link","tw--mr-4",3,"click"]],template:function(E,m){1&E&&(e.j41(0,"div",0)(1,"p",1),e.EFF(2),e.nI1(3,"translate"),e.nI1(4,"translate"),e.k0s(),e.j41(5,"p",2),e.EFF(6),e.nI1(7,"translate"),e.k0s()(),e.j41(8,"div",3)(9,"div",4)(10,"div",5)(11,"button",6),e.bIt("click",function(){return m.downloadAndQuit()}),e.EFF(12),e.nI1(13,"translate"),e.k0s()(),e.j41(14,"button",7),e.bIt("click",function(){return m.yes()}),e.EFF(15),e.nI1(16,"translate"),e.k0s()()()),2&E&&(e.R7$(2),e.Lme(" ",e.bMT(3,5,"Clients.Import.Wizard.Warning.DownloadSecrets")," ",e.bMT(4,7,"Clients.Import.Wizard.Warning.Text2")," "),e.R7$(4),e.JRh(e.bMT(7,9,"Secret Picker.LastWarning")),e.R7$(6),e.JRh(e.bMT(13,11,"Clients.Import.Wizard.CompleteImport.DownloadSecrets")),e.R7$(3),e.JRh(e.bMT(16,13,"Clients.Import.Wizard.CompleteImport.FinishImport")))},dependencies:[g.D9],encapsulation:2})}}return v})()},1138:(qe,me,u)=>{"use strict";u.d(me,{r:()=>O,u:()=>H});var n=u(1744),e=u(9417),_=u(785),g=u(7263),S=u(6799),v=u(590),f=u(4438),d=u(1780),E=u(177),m=u(9764);const F=["secretPicker"];function w(M,V){if(1&M&&(f.j41(0,"li",11)(1,"label",28),f.nrm(2,"input",29),f.j41(3,"span"),f.EFF(4),f.nI1(5,"translate"),f.k0s()()()),2&M){const U=f.XpG();f.R7$(2),f.Y8G("value",U.SecretsActions.DoNotSet),f.R7$(2),f.JRh(f.bMT(5,2,"Clients.Import.Wizard.Secrets.DoNotSet"))}}function C(M,V){if(1&M&&(f.j41(0,"li",11)(1,"label",30),f.nrm(2,"input",31),f.j41(3,"span"),f.EFF(4),f.nI1(5,"translate"),f.k0s()()()),2&M){const U=f.XpG();f.R7$(2),f.Y8G("value",U.SecretsActions.UseExistingSecret),f.R7$(2),f.JRh(f.bMT(5,2,"Clients.Import.Wizard.Secrets.UseExistingSecrets"))}}function R(M,V){if(1&M&&f.nrm(0,"app-secret-picker",32,1),2&M){const U=f.XpG();f.Y8G("clientSecrets",U.possibleSecrets)("nonModelCertPicker",!1)}}function x(M,V){if(1&M){const U=f.RV6();f.j41(0,"div",33)(1,"ul",34)(2,"li",11)(3,"label",35)(4,"input",36),f.mxI("ngModelChange",function(ie){f.eBV(U);const le=f.XpG();return f.DH7(le.data.rememberSecretAction,ie)||(le.data.rememberSecretAction=ie),f.Njj(ie)}),f.k0s(),f.j41(5,"span",37),f.EFF(6),f.nI1(7,"translate"),f.k0s()()()()()}if(2&M){const U=f.XpG();f.R7$(4),f.R50("ngModel",U.data.rememberSecretAction),f.R7$(2),f.SpI(" ",f.bMT(7,2,"Clients.Import.Wizard.Secrets.RememberMyDecision")," ")}}var O=function(M){return M[M.DoNotSet=0]="DoNotSet",M[M.Generate=1]="Generate",M[M.ManuallyCreate=2]="ManuallyCreate",M[M.UseExistingSecret=3]="UseExistingSecret",M}(O||{});let H=(()=>{class M extends S.P{get data(){return this._selectableImportResource}set data(U){this._selectableImportResource=U}constructor(U,G,ie){super(),this.translate=U,this.fb=G,this.changeDetector=ie,this.SecretsActions=O,this.possibleSecrets=[]}ngOnInit(){if(this.form=this.fb.group({secretAction:["",e.k0.required]}),this.data){const U=this.data.existingHasSecrets?O.UseExistingSecret:O.DoNotSet;this.form.get("secretAction").setValue(U),this.displayResourceType=this.data.resourceType===n.ot.Client?v.n.client:v.n.protectedResource}this.data.secrets&&this.data.secrets.length>0&&(this.data.secretsAction===O.ManuallyCreate?(this.possibleSecrets=this.data.secrets,this.form.setValue({secretAction:O.ManuallyCreate}),this.showSecretPicker=!0,this.changeDetector.detectChanges(),this.secretPicker.displayWarnings=!1,this.manageSecretStreams()):this.form.setValue({secretAction:O.Generate})),this.form.valueChanges.subscribe(()=>{const U=this.form.value.secretAction;this.data.secretsAction=U,U===O.ManuallyCreate?(this.showSecretPicker=!0,this.changeDetector.detectChanges(),this.secretPicker.displayWarnings=!1,this.manageSecretStreams()):this.showSecretPicker=!1})}getResourceType(){return this.data?n.ot[this.data.resourceType]:""}goNext(){const U=this.form.get("secretAction");if(U.value===O.DoNotSet)this.data.secrets=[];else if(U.value===O.UseExistingSecret)this.data.useExistingSecrets=!0;else if(U.value===O.Generate){const G=new _.z;G.value=(0,g.Nl)(),G.type="Shared Secret",G.description="",this.data.secrets=[G]}else this.data.secrets=this.possibleSecrets;this.data.secretsAction=this.form.get("secretAction").value,this.next()}manageSecretStreams(){this.secretAddSubscription=this.secretPicker.secretsAddStream.subscribe(U=>{this.possibleSecrets.push(U)}),this.secretDeleteSubscription=this.secretPicker.secretsRemoveStream.subscribe(U=>{this.secretPicker.clientSecrets.splice(this.secretPicker.clientSecrets.indexOf(U),1)})}ngOnDestroy(){this.secretAddSubscription&&(this.secretAddSubscription.unsubscribe(),this.secretDeleteSubscription.unsubscribe())}static{this.\u0275fac=function(G){return new(G||M)(f.rXU(d.c$),f.rXU(e.ze),f.rXU(f.gRc))}}static{this.\u0275cmp=f.VBU({type:M,selectors:[["app-import-secrets"]],viewQuery:function(G,ie){if(1&G&&f.GBs(F,5),2&G){let le;f.mGM(le=f.lsd())&&(ie.secretPicker=le.first)}},features:[f.Vt3],decls:51,vars:38,consts:[["existingHasSecrets",""],["secretPicker",""],[1,"modal-body"],[1,"tw-mb-4"],[1,"tw-font-semibold","tw-mr-2"],["id","displayName"],[1,"cms"],["id","secretActionsLabel"],[3,"formGroup"],["role","group","aria-labelledby","secretActionsLabel",1,"tw-form-checks"],["class","tw-form-checks__item",4,"ngIf","ngIfElse"],[1,"tw-form-checks__item"],["for","generate",1,"tw-form-checks__label"],["id","generate","formControlName","secretAction","type","radio",1,"tw-form-checks__input",3,"value"],["for","manually-create",1,"tw-form-checks__label"],["id","manually-create","formControlName","secretAction","type","radio",1,"tw-form-checks__input",3,"value"],[1,"tw-text-center","tw-mb-8"],[1,"tw-pill","tw-mx-auto"],[1,"tw-font-bold"],[3,"clientSecrets","nonModelCertPicker",4,"ngIf"],["class","tw-border-t tw-border-grey-200 tw-px-4 tw-pt-4 tw--mx-5 tw-mt-4",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"click"],["id","backBtn",1,"tw-btn",3,"click"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],["for","do-not-set",1,"tw-form-checks__label"],["id","do-not-set","formControlName","secretAction","type","radio",1,"tw-form-checks__input",3,"value"],["for","existing-secrets",1,"tw-form-checks__label"],["id","existing-secrets","formControlName","secretAction","type","radio",1,"tw-form-checks__input",3,"value"],[3,"clientSecrets","nonModelCertPicker"],[1,"tw-border-t","tw-border-grey-200","tw-px-4","tw-pt-4","tw--mx-5","tw-mt-4"],[1,"tw-form-checks"],["for","remember-my-decision",1,"tw-form-checks__label"],["id","remember-my-decision","type","checkbox",1,"tw-form-checks__input",3,"ngModelChange","ngModel"],[1,"tw-font-normal"]],template:function(G,ie){if(1&G){const le=f.RV6();f.j41(0,"div",2)(1,"h2",3)(2,"span",4),f.EFF(3),f.nI1(4,"translate"),f.k0s(),f.j41(5,"span",5),f.EFF(6),f.nI1(7,"translate"),f.k0s()(),f.j41(8,"div",6)(9,"p",7),f.EFF(10),f.nI1(11,"translate"),f.k0s()(),f.j41(12,"form",8)(13,"ul",9),f.DNE(14,w,6,4,"li",10)(15,C,6,4,"ng-template",null,0,f.C5r),f.j41(17,"li",11)(18,"label",12),f.nrm(19,"input",13),f.j41(20,"span"),f.EFF(21),f.nI1(22,"translate"),f.k0s()()(),f.j41(23,"li",11)(24,"label",14),f.nrm(25,"input",15),f.j41(26,"span"),f.EFF(27),f.nI1(28,"translate"),f.k0s()()()()(),f.j41(29,"div",16)(30,"p",17)(31,"b",18),f.EFF(32),f.nI1(33,"translate"),f.k0s(),f.EFF(34),f.nI1(35,"translate"),f.k0s()(),f.DNE(36,R,2,2,"app-secret-picker",19)(37,x,8,4,"div",20),f.k0s(),f.nrm(38,"div",21),f.j41(39,"div",22)(40,"div",23)(41,"div",24)(42,"button",25),f.bIt("click",function(){return f.eBV(le),f.Njj(ie.goNext())}),f.EFF(43),f.nI1(44,"translate"),f.k0s(),f.j41(45,"button",26),f.bIt("click",function(){return f.eBV(le),f.Njj(ie.back())}),f.EFF(46),f.nI1(47,"translate"),f.k0s()(),f.j41(48,"button",27),f.bIt("click",function(){return f.eBV(le),f.Njj(ie.cancel())}),f.EFF(49),f.nI1(50,"translate"),f.k0s()()()}if(2&G){const le=f.sdS(16);f.R7$(3),f.SpI("",f.bMT(4,18,"Clients.Import.Wizard.Secrets.Title"),":"),f.R7$(3),f.Lme("",null==ie.data?null:ie.data.displayName," (",f.bMT(7,20,"Clients.Import.Wizard.Secrets."+ie.displayResourceType),")"),f.R7$(4),f.JRh(f.bMT(11,22,"Clients.Import.Wizard.Secrets.ChooseWhatToDo")),f.R7$(2),f.Y8G("formGroup",ie.form),f.R7$(2),f.Y8G("ngIf",!(null!=ie.data&&ie.data.existingHasSecrets))("ngIfElse",le),f.R7$(5),f.Y8G("value",ie.SecretsActions.Generate),f.R7$(2),f.JRh(f.bMT(22,24,"Clients.Import.Wizard.Secrets.Generate")),f.R7$(4),f.Y8G("value",ie.SecretsActions.ManuallyCreate),f.R7$(2),f.JRh(f.bMT(28,26,"Clients.Import.Wizard.Secrets.ManuallyCreate")),f.R7$(5),f.SpI("",f.bMT(33,28,"Clients.Import.Wizard.Secrets.Note.Title"),":"),f.R7$(2),f.SpI(" ",f.bMT(35,30,"Clients.Import.Wizard.Secrets.Note.Note")," "),f.R7$(2),f.Y8G("ngIf",ie.showSecretPicker),f.R7$(),f.Y8G("ngIf",!ie.showSecretPicker),f.R7$(6),f.JRh(f.bMT(44,32,"Common.Next")),f.R7$(3),f.JRh(f.bMT(47,34,"Common.Back")),f.R7$(3),f.JRh(f.bMT(50,36,"Common.Cancel"))}},dependencies:[E.bT,e.qT,e.me,e.Zm,e.Fm,e.BC,e.cb,e.vS,e.j4,e.JD,m.s,d.D9],encapsulation:2})}}return M})()},5696:(qe,me,u)=>{"use strict";u.d(me,{s:()=>L});var n=u(1744),e=u(4414),_=u(6799),g=u(4438),S=u(5826),v=u(1780),f=u(177);const d=(J,te,I,oe,z)=>({title:J,editable:!0,header1:te,header2:I,header3:oe,data:z}),E=(J,te,I,oe,z,_e)=>({title:J,editable:te,header1:I,header2:oe,header3:z,data:_e}),m=J=>({"inactive disabled tw-opacity-50 tw-pointer-events-none":J});function F(J,te){1&J&&g.eu8(0)}function w(J,te){if(1&J&&(g.j41(0,"div"),g.DNE(1,F,1,0,"ng-container",12),g.nI1(2,"translate"),g.nI1(3,"translate"),g.nI1(4,"translate"),g.nI1(5,"translate"),g.k0s()),2&J){const I=g.XpG(),oe=g.sdS(9);g.R7$(),g.Y8G("ngTemplateOutlet",oe)("ngTemplateOutletContext",g.s1E(10,d,g.bMT(2,2,"Nav.Clients"),g.bMT(3,4,"Clients.Import.Wizard.Summary.Name.Client"),g.bMT(4,6,"Clients.Import.Wizard.Summary.Identifier.Client"),g.bMT(5,8,"Clients.Import.Wizard.Summary.Type.Client"),I.clients))}}function C(J,te){1&J&&g.eu8(0)}function R(J,te){if(1&J&&(g.j41(0,"div",13),g.DNE(1,C,1,0,"ng-container",12),g.nI1(2,"translate"),g.nI1(3,"translate"),g.nI1(4,"translate"),g.nI1(5,"translate"),g.k0s()),2&J){const I=g.XpG(),oe=g.sdS(9);g.R7$(),g.Y8G("ngTemplateOutlet",oe)("ngTemplateOutletContext",g.l4e(10,E,g.bMT(2,2,"Nav.Resources"),I.canEdit(I.resources),g.bMT(3,4,"Clients.Import.Wizard.Summary.Name.Resource"),g.bMT(4,6,"Clients.Import.Wizard.Summary.Identifier.Resource"),g.bMT(5,8,"Clients.Import.Wizard.Summary.Type.Resource"),I.resources))}}function x(J,te){1&J&&g.eu8(0)}function O(J,te){if(1&J&&(g.j41(0,"div",13),g.DNE(1,x,1,0,"ng-container",12),g.nI1(2,"translate"),g.nI1(3,"translate"),g.nI1(4,"translate"),g.nI1(5,"translate"),g.k0s()),2&J){const I=g.XpG(),oe=g.sdS(9);g.R7$(),g.Y8G("ngTemplateOutlet",oe)("ngTemplateOutletContext",g.l4e(10,E,g.bMT(2,2,"Nav.ClaimTypes"),I.canEdit(I.claims),g.bMT(3,4,"Clients.Import.Wizard.Summary.Name.Resource"),g.bMT(4,6,"Clients.Import.Wizard.Summary.Identifier.ClaimType"),g.bMT(5,8,"Clients.Import.Wizard.Summary.Type.ClaimType"),I.claims))}}function H(J,te){if(1&J&&(g.qex(0),g.j41(1,"td",31),g.nrm(2,"span",32),g.k0s(),g.j41(3,"td")(4,"span",33),g.EFF(5),g.k0s()(),g.bVm()),2&J){const I=g.XpG().$implicit,oe=g.XpG(2);g.R7$(5),g.JRh(oe.getConflicts(I))}}function M(J,te){1&J&&g.nrm(0,"span",37)}function V(J,te){1&J&&g.nrm(0,"span",38)}function U(J,te){1&J&&g.nrm(0,"span",32)}function G(J,te){if(1&J&&(g.qex(0),g.j41(1,"td",31),g.DNE(2,M,1,0,"span",34)(3,V,1,0,"span",35)(4,U,1,0,"span",36),g.k0s(),g.j41(5,"td")(6,"span",33),g.EFF(7),g.k0s()(),g.bVm()),2&J){const I=g.XpG().$implicit,oe=g.XpG(2);g.R7$(2),g.Y8G("ngIf",I.resourceState==oe.resourceStates.New),g.R7$(),g.Y8G("ngIf",I.resourceState==oe.resourceStates.Duplicate),g.R7$(),g.Y8G("ngIf",I.conflictedByDependencies),g.R7$(2),g.AVh("tw-italic",I.resourceState===oe.resourceStates.Duplicate),g.R7$(),g.SpI(" ",oe.getResourceState(I)," ")}}function ie(J,te){if(1&J&&(g.j41(0,"tr",27)(1,"td",28)(2,"b"),g.EFF(3),g.k0s()(),g.j41(4,"td",29),g.EFF(5),g.k0s(),g.j41(6,"td",30),g.EFF(7),g.nI1(8,"translate"),g.k0s(),g.DNE(9,H,6,1,"ng-container",3)(10,G,8,6,"ng-container",3),g.k0s()),2&J){const I=te.$implicit,oe=g.XpG(2);g.Y8G("ngClass",g.eq3(9,m,I.resourceState===oe.resourceStates.Duplicate)),g.R7$(),g.Y8G("title",I.displayName),g.R7$(2),g.JRh(I.displayName),g.R7$(2),g.SpI(" ",I.identifier," "),g.R7$(2),g.SpI(" ",g.bMT(8,7,"Clients.Import.Wizard.Summary.ResourceTypes."+I.displayType)," "),g.R7$(2),g.Y8G("ngIf",I.resourceState===oe.resourceStates.Conflicted&&!I.conflictedByDependencies),g.R7$(),g.Y8G("ngIf",I.resourceState!==oe.resourceStates.Conflicted||I.conflictedByDependencies)}}function le(J,te){if(1&J){const I=g.RV6();g.j41(0,"h2",14)(1,"span",15),g.EFF(2),g.k0s(),g.j41(3,"button",16),g.bIt("click",function(){const z=g.eBV(I).data,_e=g.XpG();return g.Njj(_e.editResourceSummary(z))}),g.nrm(4,"span",17),g.j41(5,"span",18),g.EFF(6),g.nI1(7,"translate"),g.k0s()()(),g.j41(8,"table",19)(9,"thead")(10,"tr")(11,"th",20),g.EFF(12),g.k0s(),g.j41(13,"th",21),g.EFF(14),g.k0s(),g.j41(15,"th",22),g.EFF(16),g.k0s(),g.nrm(17,"td",23),g.j41(18,"th",24)(19,"span",25),g.EFF(20),g.nI1(21,"translate"),g.k0s()()()(),g.j41(22,"tbody"),g.DNE(23,ie,11,11,"tr",26),g.k0s()()}if(2&J){const I=te.title,oe=te.editable,z=te.header1,_e=te.header2,Pe=te.header3,Re=te.data;g.R7$(2),g.JRh(I),g.R7$(),g.Y8G("disabled",!oe),g.R7$(3),g.JRh(g.bMT(7,8,"Common.Edit")),g.R7$(6),g.JRh(z),g.R7$(2),g.JRh(_e),g.R7$(2),g.JRh(Pe),g.R7$(4),g.JRh(g.bMT(21,10,"Common.Status")),g.R7$(3),g.Y8G("ngForOf",Re)}}let L=(()=>{class J extends _.P{constructor(I,oe){super(),this.importWizardService=I,this.translate=oe,this.resourceStates=n.jD,this.resourceTypes=n.ot}ngOnInit(){this.importWizardService.cache.subscribe(I=>{const oe=[this.resourceStates.Conflicted,this.resourceStates.New,this.resourceStates.Duplicate],z=I.filter(Re=>Re.resourceType===n.ot.Client&&(Re.selected||Re.resourceState===n.jD.Duplicate)),_e=[],Pe=[];I.forEach(Re=>{Re.resourceType!==n.ot.Client&&z.some(ke=>Re.dependantClients.some(Je=>Je.identifier===ke.identifier))&&(Re.resourceType===n.ot.ClaimType?_e.push(Re):Pe.push(Re))}),this.clients=z.sort((Re,ke)=>oe.indexOf(Re.resourceState)-oe.indexOf(ke.resourceState)),this.claims=_e.sort((Re,ke)=>oe.indexOf(Re.resourceState)-oe.indexOf(ke.resourceState)),this.resources=Pe.sort((Re,ke)=>oe.indexOf(Re.resourceState)-oe.indexOf(ke.resourceState))})}canNext(){return!0}goNext(){this.next()}viewConflicts(I,oe){I.stopPropagation(),this.openModal(e.M.summaryConflicts,oe)}getResourceState(I){return I.conflictedByDependencies?this.translate.instant("Clients.Import.Wizard.Summary.DependencyConflicts"):this.resourceStates[I.resourceState]}canEdit(I){return I.length>0&&I.some(oe=>oe.resourceState!==n.jD.Duplicate)}editResourceSummary(I){this.importWizardController.goToSummaryStep(I[0].resourceType)}getConflicts(I){let z,oe=0;return I.conflicts.forEach(_e=>{oe+=_e.conflicts.length}),z=this.translate.instant(1===oe?"Clients.Import.Wizard.Summary.Change":"Clients.Import.Wizard.Summary.Changes"),oe+" "+z}static{this.\u0275fac=function(oe){return new(oe||J)(g.rXU(S.o),g.rXU(v.c$))}}static{this.\u0275cmp=g.VBU({type:J,selectors:[["app-import-summary-all"]],features:[g.Vt3],decls:23,vars:16,consts:[["commonDatatable",""],[1,"modal-body"],[1,"cms"],[4,"ngIf"],["class","tw-mt-8",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],["id","backBtn",1,"tw-btn",3,"click"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"tw-mt-8"],[1,"tw-border-b","tw-border-grey-200","tw-mb-3","tw-pb-1","tw-font-semibold","md:tw-flex","md:tw-items-center"],[1,"tw-block","tw-mb-2","md:tw-mb-0"],[1,"tw-btn","tw-btn-small","tw-btn-link","md:tw-ml-auto",3,"click","disabled"],["aria-hidden","true",1,"fad","fa-pencil"],[1,"tw-ml-2"],[1,"datatable"],[1,"md:tw-w-1/3","lg:tw-w-1/4"],[1,"tw-hidden","sm:tw-table-cell","md:tw-w-1/3"],[1,"tw-hidden","lg:tw-table-cell"],["aria-hidden","true",1,"tw-hidden","tw-w-1","xs:tw-table-cell"],[1,"tw-w-1"],[1,"sr-only"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"tw-truncate","tw-max-w-0",3,"title"],[1,"tw-hidden","tw-truncate","sm:tw-table-cell"],[1,"tw-hidden","tw-truncate","lg:tw-table-cell"],["aria-hidden","true",1,"tw-hidden","tw-text-right","xs:tw-table-cell"],[1,"fas","fa-exclamation-triangle","tw-text-orange-500","tw--mr-3"],[1,"tw-whitespace-nowrap"],["class","fas fa-check tw-text-green-500 tw--mr-3",4,"ngIf"],["class","far fa-copy tw--mr-3",4,"ngIf"],["class","fas fa-exclamation-triangle tw-text-orange-500 tw--mr-3",4,"ngIf"],[1,"fas","fa-check","tw-text-green-500","tw--mr-3"],[1,"far","fa-copy","tw--mr-3"]],template:function(oe,z){if(1&oe){const _e=g.RV6();g.j41(0,"div",1)(1,"div",2)(2,"p"),g.EFF(3),g.nI1(4,"translate"),g.k0s()(),g.DNE(5,w,6,16,"div",3)(6,R,6,17,"div",4)(7,O,6,17,"div",4)(8,le,24,12,"ng-template",null,0,g.C5r),g.k0s(),g.nrm(10,"div",5),g.j41(11,"div",6)(12,"div",7)(13,"div",8)(14,"button",9),g.bIt("click",function(){return g.eBV(_e),g.Njj(z.goNext())}),g.EFF(15),g.nI1(16,"translate"),g.k0s(),g.j41(17,"button",10),g.bIt("click",function(){return g.eBV(_e),g.Njj(z.back())}),g.EFF(18),g.nI1(19,"translate"),g.k0s()(),g.j41(20,"button",11),g.bIt("click",function(){return g.eBV(_e),g.Njj(z.cancel())}),g.EFF(21),g.nI1(22,"translate"),g.k0s()()()}2&oe&&(g.R7$(3),g.JRh(g.bMT(4,8,"Clients.Import.Wizard.Summary.FinalSummary")),g.R7$(2),g.Y8G("ngIf",(null==z.clients?null:z.clients.length)>0),g.R7$(),g.Y8G("ngIf",(null==z.resources?null:z.resources.length)>0),g.R7$(),g.Y8G("ngIf",(null==z.claims?null:z.claims.length)>0),g.R7$(7),g.Y8G("disabled",!z.canNext()),g.R7$(),g.JRh(g.bMT(16,10,"Clients.Import.Import")),g.R7$(3),g.JRh(g.bMT(19,12,"Common.Back")),g.R7$(3),g.JRh(g.bMT(22,14,"Common.Cancel")))},dependencies:[f.YU,f.Sq,f.bT,f.T3,v.D9],encapsulation:2})}}return J})()},7629:(qe,me,u)=>{"use strict";u.d(me,{oG:()=>Ze});var n=u(1744),e=u(4414),_=u(7263),g=u(590),S=u(6799);let v=(()=>{class It{static{this.RelyingPartyProperty="RelyingParty"}static{this.RelyingPartyIdentifier="Relying Party"}static{this.ServiceProviderProperty="ServiceProvider"}static{this.ServiceProviderIdentifier="Service Provider"}static{this.ClaimsProperty="Claims"}static{this.PropertiesProperty="Properties"}static{this.ScopesProperty="Scopes"}static{this.UserClaimsProperty="UserClaims"}static{this.sloProperty="SingleLogoutServices"}static{this.acsProperty="AssertionConsumerServices"}static{this.sloIdentifier="Single Logout Services"}static{this.acsIdentifier="Assertion Consumer Services"}static{this.ClaimMappingsIdentifier="Claim Mappings"}static{this.ClaimMappingsKey="ClaimMappings"}static{this.SamlDisplayType="Saml"}static{this.WsFedDisplayType="WsFed"}static{this.Client="Client"}static{this.Endpoint="Endpoint"}static{this.ProtectedResources="ProtectedResources"}static{this.IdentityResources="IdentityResources"}static{this.ClaimTypes="ClaimTypes"}static{this.Secrets="Secrets"}static{this.Certificates="Certificates"}}return It})();var f=u(4438),d=u(5826),E=u(1780),m=u(7005),F=u(177);let w=(()=>{class It{transform(Ht){if(Ht){const lt=[...Ht];let vt="",mt="";for(let kt=0;kt<lt.length;kt++){const nn=lt[kt];if(0===vt.length)vt=nn.toUpperCase();else if(kt+1===lt.length)mt===mt.toUpperCase()||nn===nn.toLowerCase()?vt+=nn:vt+=`${nn}`;else if(nn===nn.toUpperCase()){const Tn=mt===mt.toUpperCase(),Ln=lt[kt+1];Tn?Ln===Ln.toLowerCase()?vt+=` ${nn}`:vt+=nn:vt+=` ${nn}`}else vt+=nn;mt=nn}Ht=vt}return Ht}static{this.\u0275fac=function(lt){return new(lt||It)}}static{this.\u0275pipe=f.EJ8({name:"beautifyPropertyName",type:It,pure:!0})}}return It})();const C=["importSummaryConflictsModal"];function R(It,Rn){1&It&&f.nrm(0,"span",25)}function x(It,Rn){1&It&&f.nrm(0,"span",26)}function O(It,Rn){1&It&&(f.j41(0,"span",36),f.EFF(1,", "),f.k0s())}function H(It,Rn){if(1&It&&(f.j41(0,"li",34)(1,"span"),f.EFF(2),f.k0s(),f.DNE(3,O,2,0,"span",35),f.k0s()),2&It){const Ht=Rn.$implicit,lt=Rn.last;f.R7$(2),f.JRh(Ht.displayName),f.R7$(),f.Y8G("ngIf",!lt)}}function M(It,Rn){if(1&It&&(f.j41(0,"dl",30)(1,"dt",31),f.EFF(2),f.nI1(3,"translate"),f.k0s(),f.j41(4,"dd")(5,"ul",32),f.DNE(6,H,4,2,"li",33),f.k0s()()()),2&It){const Ht=f.XpG(3);f.R7$(2),f.SpI(" ",f.bMT(3,2,"Clients.Import.Wizard.Summary.EffectsImportClients"),": "),f.R7$(4),f.Y8G("ngForOf",Ht.linkedNewClients)}}function V(It,Rn){1&It&&(f.j41(0,"span",36),f.EFF(1,", "),f.k0s())}function U(It,Rn){if(1&It&&(f.j41(0,"li",34)(1,"a",38),f.EFF(2),f.k0s(),f.DNE(3,V,2,0,"span",35),f.k0s()),2&It){const Ht=Rn.$implicit,lt=Rn.last,vt=f.XpG(4);f.R7$(),f.Y8G("href",vt.buildHref(Ht.existingIdentifier),f.B4B),f.R7$(),f.SpI(" ",Ht.displayName," "),f.R7$(),f.Y8G("ngIf",!lt)}}function G(It,Rn){if(1&It&&(f.j41(0,"dl",37)(1,"dt",31),f.EFF(2),f.nI1(3,"translate"),f.k0s(),f.j41(4,"dd",34)(5,"ul",32),f.DNE(6,U,4,3,"li",33),f.k0s()()()),2&It){const Ht=f.XpG(3);f.R7$(2),f.SpI(" ",f.bMT(3,2,"Clients.Import.Wizard.Summary.EffectsExistingClients"),": "),f.R7$(4),f.Y8G("ngForOf",Ht.linkedExistingClients)}}function ie(It,Rn){if(1&It&&(f.j41(0,"div",27),f.DNE(1,M,7,4,"dl",28)(2,G,7,4,"dl",29),f.k0s()),2&It){const Ht=f.XpG(2);f.R7$(),f.Y8G("ngIf",Ht.linkedNewClients.length>0),f.R7$(),f.Y8G("ngIf",Ht.linkedExistingClients.length>0)}}function le(It,Rn){if(1&It){const Ht=f.RV6();f.j41(0,"div",18)(1,"div",19)(2,"button",20),f.bIt("click",function(){f.eBV(Ht);const vt=f.XpG();return f.Njj(vt.toggleDisplayLinkedClientsDropdown())}),f.j41(3,"span"),f.EFF(4),f.nI1(5,"translate"),f.k0s(),f.j41(6,"span",21),f.DNE(7,R,1,0,"span",22)(8,x,1,0,"span",23),f.k0s()(),f.DNE(9,ie,3,2,"div",24),f.k0s()()}if(2&It){const Ht=f.XpG();f.AVh("tw-alert-warning",Ht.linkedExistingClients.length>0),f.R7$(4),f.JRh(f.bMT(5,6,"Clients.Import.Wizard.Summary.LinkedClients")),f.R7$(3),f.Y8G("ngIf",Ht.displayLinkedClientsDropdown),f.R7$(),f.Y8G("ngIf",!Ht.displayLinkedClientsDropdown),f.R7$(),f.Y8G("ngIf",Ht.displayLinkedClientsDropdown)}}function L(It,Rn){if(1&It&&(f.j41(0,"span",47),f.EFF(1),f.k0s()),2&It){const Ht=f.XpG().$implicit;f.R7$(),f.SpI(" ",Ht.previous," ")}}function J(It,Rn){1&It&&(f.j41(0,"i",48),f.EFF(1),f.nI1(2,"translate"),f.k0s()),2&It&&(f.R7$(),f.SpI(" ",f.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.NoValue")," "))}function te(It,Rn){if(1&It&&(f.j41(0,"span",49),f.EFF(1),f.k0s()),2&It){const Ht=f.XpG().$implicit;f.R7$(),f.SpI(" ",Ht.new," ")}}function I(It,Rn){1&It&&(f.j41(0,"i",48),f.EFF(1),f.nI1(2,"translate"),f.k0s()),2&It&&(f.R7$(),f.SpI(" ",f.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.Deleted")," "))}function oe(It,Rn){if(1&It){const Ht=f.RV6();f.j41(0,"tr",43),f.bIt("change",function(){f.eBV(Ht);const vt=f.XpG(2);return f.Njj(vt.setupTableHeadings())}),f.j41(1,"td"),f.EFF(2),f.nI1(3,"beautifyPropertyName"),f.k0s(),f.j41(4,"td"),f.DNE(5,L,2,1,"span",44)(6,J,3,3,"i",45),f.k0s(),f.j41(7,"td"),f.DNE(8,te,2,1,"span",46)(9,I,3,3,"i",45),f.k0s()()}if(2&It){const Ht=Rn.$implicit,lt=f.XpG(2);f.R7$(2),f.JRh(f.bMT(3,5,Ht.propertyName)),f.R7$(3),f.Y8G("ngIf",lt.hasValue(Ht.previous)),f.R7$(),f.Y8G("ngIf",!lt.hasValue(Ht.previous)),f.R7$(2),f.Y8G("ngIf",lt.hasValue(Ht.new)),f.R7$(),f.Y8G("ngIf",!lt.hasValue(Ht.new))}}function z(It,Rn){if(1&It&&(f.j41(0,"div",39)(1,"table",40)(2,"thead")(3,"tr")(4,"th"),f.EFF(5),f.nI1(6,"translate"),f.k0s(),f.j41(7,"th",41),f.EFF(8),f.nI1(9,"translate"),f.k0s(),f.j41(10,"th",41),f.EFF(11),f.nI1(12,"translate"),f.k0s()()(),f.j41(13,"tbody"),f.DNE(14,oe,10,7,"tr",42),f.k0s()()()),2&It){const Ht=f.XpG();f.R7$(5),f.JRh(f.bMT(6,4,"Clients.Import.Wizard.Summary.Conflicts.Property")),f.R7$(3),f.JRh(f.bMT(9,6,"Clients.Import.Wizard.Summary.Conflicts.OldValue")),f.R7$(3),f.JRh(f.bMT(12,8,"Clients.Import.Wizard.Summary.Conflicts.NewValue")),f.R7$(3),f.Y8G("ngForOf",null==Ht.fieldConflicts?null:Ht.fieldConflicts.conflicts)}}function _e(It,Rn){if(1&It&&(f.j41(0,"span",47),f.EFF(1),f.k0s()),2&It){const Ht=f.XpG().$implicit;f.R7$(),f.SpI(" ",Ht.previous," ")}}function Pe(It,Rn){1&It&&(f.j41(0,"i",48),f.EFF(1),f.nI1(2,"translate"),f.k0s()),2&It&&(f.R7$(),f.SpI(" ",f.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.NoValue")," "))}function Re(It,Rn){if(1&It&&(f.j41(0,"span",49),f.EFF(1),f.k0s()),2&It){const Ht=f.XpG().$implicit;f.R7$(),f.SpI(" ",Ht.new," ")}}function ke(It,Rn){1&It&&(f.j41(0,"i",48),f.EFF(1),f.nI1(2,"translate"),f.k0s()),2&It&&(f.R7$(),f.SpI(" ",f.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.Deleted")," "))}function Je(It,Rn){if(1&It){const Ht=f.RV6();f.j41(0,"tr",43),f.bIt("change",function(){f.eBV(Ht);const vt=f.XpG(3);return f.Njj(vt.setupTableHeadings())}),f.j41(1,"td"),f.EFF(2),f.k0s(),f.j41(3,"td"),f.DNE(4,_e,2,1,"span",44)(5,Pe,3,3,"i",45),f.k0s(),f.j41(6,"td"),f.DNE(7,Re,2,1,"span",46)(8,ke,3,3,"i",45),f.k0s()()}if(2&It){const Ht=Rn.$implicit,lt=f.XpG(3);f.R7$(2),f.JRh(Ht.propertyName),f.R7$(2),f.Y8G("ngIf",lt.hasValue(Ht.previous)),f.R7$(),f.Y8G("ngIf",!lt.hasValue(Ht.previous)),f.R7$(2),f.Y8G("ngIf",lt.hasValue(Ht.new)),f.R7$(),f.Y8G("ngIf",!lt.hasValue(Ht.new))}}function Te(It,Rn){if(1&It&&(f.j41(0,"div",52)(1,"h4",53),f.EFF(2),f.nI1(3,"beautifyPropertyName"),f.k0s(),f.j41(4,"table",40)(5,"thead")(6,"tr")(7,"th"),f.EFF(8),f.nI1(9,"translate"),f.k0s(),f.j41(10,"th",41),f.EFF(11),f.nI1(12,"translate"),f.k0s(),f.j41(13,"th",41),f.EFF(14),f.nI1(15,"translate"),f.k0s()()(),f.j41(16,"tbody"),f.DNE(17,Je,9,5,"tr",42),f.k0s()()()),2&It){const Ht=Rn.$implicit;f.R7$(2),f.SpI(" ",f.bMT(3,5,Ht.identifier)," "),f.R7$(6),f.JRh(f.bMT(9,7,"Clients.Import.Wizard.Summary.Conflicts.Key")),f.R7$(3),f.JRh(f.bMT(12,9,"Clients.Import.Wizard.Summary.Conflicts.OldValue")),f.R7$(3),f.JRh(f.bMT(15,11,"Clients.Import.Wizard.Summary.Conflicts.NewValue")),f.R7$(3),f.Y8G("ngForOf",null==Ht?null:Ht.conflicts)}}function we(It,Rn){if(1&It&&(f.j41(0,"div",50),f.DNE(1,Te,18,13,"div",51),f.k0s()),2&It){const Ht=f.XpG();f.R7$(),f.Y8G("ngForOf",Ht.clientKeyValueConflicts)}}function de(It,Rn){if(1&It&&(f.j41(0,"span",47),f.EFF(1),f.k0s()),2&It){const Ht=f.XpG().$implicit;f.R7$(),f.SpI(" ",Ht.previous," ")}}function Ve(It,Rn){1&It&&(f.j41(0,"i",48),f.EFF(1),f.nI1(2,"translate"),f.k0s()),2&It&&(f.R7$(),f.SpI(" ",f.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.NoValue")," "))}function Ae(It,Rn){if(1&It&&(f.j41(0,"span",49),f.EFF(1),f.k0s()),2&It){const Ht=f.XpG().$implicit;f.R7$(),f.SpI(" ",Ht.new," ")}}function rt(It,Rn){1&It&&(f.j41(0,"i",48),f.EFF(1),f.nI1(2,"translate"),f.k0s()),2&It&&(f.R7$(),f.SpI(" ",f.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.Deleted")," "))}function Be(It,Rn){if(1&It){const Ht=f.RV6();f.j41(0,"tr",43),f.bIt("change",function(){f.eBV(Ht);const vt=f.XpG(3);return f.Njj(vt.setupTableHeadings())}),f.j41(1,"td"),f.EFF(2),f.nI1(3,"beautifyPropertyName"),f.k0s(),f.j41(4,"td"),f.DNE(5,de,2,1,"span",44)(6,Ve,3,3,"i",45),f.k0s(),f.j41(7,"td"),f.DNE(8,Ae,2,1,"span",46)(9,rt,3,3,"i",45),f.k0s()()}if(2&It){const Ht=Rn.$implicit,lt=f.XpG(3);f.R7$(2),f.JRh(f.bMT(3,5,Ht.propertyName)),f.R7$(3),f.Y8G("ngIf",lt.hasValue(Ht.previous)),f.R7$(),f.Y8G("ngIf",!lt.hasValue(Ht.previous)),f.R7$(2),f.Y8G("ngIf",lt.hasValue(Ht.new)),f.R7$(),f.Y8G("ngIf",!lt.hasValue(Ht.new))}}function ht(It,Rn){if(1&It&&(f.j41(0,"div",52)(1,"h4",53),f.EFF(2),f.nI1(3,"beautifyPropertyName"),f.k0s(),f.j41(4,"table",40)(5,"thead")(6,"tr")(7,"th"),f.EFF(8),f.nI1(9,"translate"),f.k0s(),f.j41(10,"th",41),f.EFF(11),f.nI1(12,"translate"),f.k0s(),f.j41(13,"th",41),f.EFF(14),f.nI1(15,"translate"),f.k0s()()(),f.j41(16,"tbody"),f.DNE(17,Be,10,7,"tr",42),f.k0s()()()),2&It){const Ht=Rn.$implicit;f.R7$(2),f.SpI(" ",f.bMT(3,5,Ht.identifier)," "),f.R7$(6),f.JRh(f.bMT(9,7,"Clients.Import.Wizard.Summary.Conflicts.Property")),f.R7$(3),f.JRh(f.bMT(12,9,"Clients.Import.Wizard.Summary.Conflicts.OldValue")),f.R7$(3),f.JRh(f.bMT(15,11,"Clients.Import.Wizard.Summary.Conflicts.NewValue")),f.R7$(3),f.Y8G("ngForOf",null==Ht?null:Ht.conflicts)}}function Ye(It,Rn){if(1&It&&(f.j41(0,"div",54)(1,"h3",55),f.EFF(2),f.nI1(3,"translate"),f.k0s(),f.DNE(4,ht,18,13,"div",51),f.k0s()),2&It){const Ht=f.XpG();f.R7$(2),f.SpI(" ",f.bMT(3,2,"Clients.Import.Wizard.Summary.Conflicts.ConflictedScopes")," "),f.R7$(2),f.Y8G("ngForOf",Ht.scopeConflicts)}}function Yt(It,Rn){if(1&It&&(f.j41(0,"td"),f.EFF(1),f.nI1(2,"beautifyPropertyName"),f.k0s()),2&It){const Ht=f.XpG().$implicit;f.R7$(),f.JRh(f.bMT(2,1,Ht.propertyName))}}function Ut(It,Rn){if(1&It&&(f.j41(0,"td"),f.EFF(1),f.k0s()),2&It){const Ht=f.XpG().$implicit;f.R7$(),f.JRh(Ht.propertyName)}}function Tt(It,Rn){if(1&It&&(f.j41(0,"dl",60)(1,"dt",61),f.EFF(2),f.nI1(3,"translate"),f.k0s(),f.j41(4,"dd",62),f.EFF(5),f.k0s(),f.j41(6,"dt",61),f.EFF(7),f.nI1(8,"translate"),f.k0s(),f.j41(9,"dd",62),f.EFF(10),f.k0s(),f.j41(11,"dt",61),f.EFF(12),f.nI1(13,"translate"),f.k0s(),f.j41(14,"dd",47),f.EFF(15),f.k0s()()),2&It){const Ht=f.XpG(2).$implicit;f.R7$(2),f.SpI("",f.bMT(3,6,"Common.URL"),":"),f.R7$(3),f.JRh(Ht.previous.location),f.R7$(2),f.SpI("",f.bMT(8,8,"Clients.Saml.BindingType"),":"),f.R7$(3),f.JRh(Ht.previous.binding),f.R7$(2),f.SpI("",f.bMT(13,10,"Clients.Saml.Index"),":"),f.R7$(3),f.JRh(Ht.previous.index)}}function _t(It,Rn){1&It&&(f.j41(0,"dl")(1,"i",48),f.EFF(2),f.nI1(3,"translate"),f.k0s()()),2&It&&(f.R7$(2),f.SpI(" ",f.bMT(3,1,"Clients.Import.Wizard.Summary.Conflicts.NoValue")," "))}function X(It,Rn){if(1&It&&(f.j41(0,"dl",60)(1,"dt",61),f.EFF(2),f.nI1(3,"translate"),f.k0s(),f.j41(4,"dd",63),f.EFF(5),f.k0s(),f.j41(6,"dt",61),f.EFF(7),f.nI1(8,"translate"),f.k0s(),f.j41(9,"dd",63),f.EFF(10),f.k0s(),f.j41(11,"dt",61),f.EFF(12),f.nI1(13,"translate"),f.k0s(),f.j41(14,"dd",49),f.EFF(15),f.k0s()()),2&It){const Ht=f.XpG(2).$implicit;f.R7$(2),f.SpI("",f.bMT(3,6,"Common.URL"),":"),f.R7$(3),f.JRh(Ht.new.location),f.R7$(2),f.SpI("",f.bMT(8,8,"Clients.Saml.BindingType"),":"),f.R7$(3),f.JRh(Ht.new.binding),f.R7$(2),f.SpI("",f.bMT(13,10,"Clients.Saml.Index"),":"),f.R7$(3),f.JRh(Ht.new.index)}}function Y(It,Rn){1&It&&(f.j41(0,"dl")(1,"i",48),f.EFF(2),f.nI1(3,"translate"),f.k0s()()),2&It&&(f.R7$(2),f.SpI(" ",f.bMT(3,1,"Clients.Import.Wizard.Summary.Conflicts.Deleted")," "))}function ee(It,Rn){if(1&It&&(f.qex(0),f.j41(1,"td"),f.DNE(2,Tt,16,12,"dl",59)(3,_t,4,3,"dl",57),f.k0s(),f.j41(4,"td"),f.DNE(5,X,16,12,"dl",59)(6,Y,4,3,"dl",57),f.k0s(),f.bVm()),2&It){const Ht=f.XpG().$implicit,lt=f.XpG(3);f.R7$(2),f.Y8G("ngIf",lt.hasValue(Ht.previous)),f.R7$(),f.Y8G("ngIf",!lt.hasValue(Ht.previous)),f.R7$(2),f.Y8G("ngIf",lt.hasValue(Ht.new)),f.R7$(),f.Y8G("ngIf",!lt.hasValue(Ht.new))}}function Se(It,Rn){if(1&It&&(f.j41(0,"span",47),f.EFF(1),f.k0s()),2&It){const Ht=f.XpG(2).$implicit;f.R7$(),f.SpI(" ",Ht.previous," ")}}function Ee(It,Rn){1&It&&(f.j41(0,"i",48),f.EFF(1),f.nI1(2,"translate"),f.k0s()),2&It&&(f.R7$(),f.SpI(" ",f.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.NoValue")," "))}function at(It,Rn){if(1&It&&(f.j41(0,"span",49),f.EFF(1),f.k0s()),2&It){const Ht=f.XpG(2).$implicit;f.R7$(),f.SpI(" ",Ht.new," ")}}function je(It,Rn){1&It&&(f.j41(0,"i",48),f.EFF(1),f.nI1(2,"translate"),f.k0s()),2&It&&(f.R7$(),f.SpI(" ",f.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.Deleted")," "))}function ot(It,Rn){if(1&It&&(f.j41(0,"td",64),f.DNE(1,Se,2,1,"span",44)(2,Ee,3,3,"i",45),f.k0s(),f.j41(3,"td",64),f.DNE(4,at,2,1,"span",46)(5,je,3,3,"i",45),f.k0s()),2&It){const Ht=f.XpG().$implicit,lt=f.XpG(3);f.R7$(),f.Y8G("ngIf",lt.hasValue(Ht.previous)),f.R7$(),f.Y8G("ngIf",!lt.hasValue(Ht.previous)),f.R7$(2),f.Y8G("ngIf",lt.hasValue(Ht.new)),f.R7$(),f.Y8G("ngIf",!lt.hasValue(Ht.new))}}function Ft(It,Rn){if(1&It){const Ht=f.RV6();f.j41(0,"tr",43),f.bIt("change",function(){f.eBV(Ht);const vt=f.XpG(3);return f.Njj(vt.setupTableHeadings())}),f.DNE(1,Yt,3,3,"td",57)(2,Ut,2,1,"td",57)(3,ee,7,4,"ng-container",58)(4,ot,6,4,"ng-template",null,0,f.C5r),f.k0s()}if(2&It){const Ht=f.sdS(5),lt=f.XpG().$implicit,vt=f.XpG(2);f.R7$(),f.Y8G("ngIf",lt.identifier!=vt.summaryConflictsConstants.ClaimMappingsKey),f.R7$(),f.Y8G("ngIf",lt.identifier==vt.summaryConflictsConstants.ClaimMappingsKey),f.R7$(),f.Y8G("ngIf",lt.identifier==vt.summaryConflictsConstants.sloProperty||lt.identifier==vt.summaryConflictsConstants.acsProperty)("ngIfElse",Ht)}}function ft(It,Rn){if(1&It&&(f.j41(0,"div",52)(1,"h4",53),f.EFF(2),f.nI1(3,"beautifyPropertyName"),f.k0s(),f.j41(4,"table",40)(5,"thead")(6,"tr")(7,"th"),f.EFF(8),f.nI1(9,"translate"),f.k0s(),f.j41(10,"th",41),f.EFF(11),f.nI1(12,"translate"),f.k0s(),f.j41(13,"th",41),f.EFF(14),f.nI1(15,"translate"),f.k0s()()(),f.j41(16,"tbody"),f.DNE(17,Ft,6,4,"tr",42),f.k0s()()()),2&It){const Ht=Rn.$implicit;f.R7$(2),f.SpI(" ",f.bMT(3,5,Ht.identifier)," "),f.R7$(6),f.JRh(f.bMT(9,7,"Clients.Import.Wizard.Summary.Conflicts.Property")),f.R7$(3),f.JRh(f.bMT(12,9,"Clients.Import.Wizard.Summary.Conflicts.OldValue")),f.R7$(3),f.JRh(f.bMT(15,11,"Clients.Import.Wizard.Summary.Conflicts.NewValue")),f.R7$(3),f.Y8G("ngForOf",null==Ht?null:Ht.conflicts)}}function nt(It,Rn){if(1&It&&(f.j41(0,"div",56)(1,"h3",55),f.EFF(2),f.nI1(3,"translate"),f.k0s(),f.DNE(4,ft,18,13,"div",51),f.k0s()),2&It){const Ht=f.XpG();f.R7$(2),f.SpI(" ",f.bMT(3,2,"Clients.Import.Wizard.Summary.Conflicts.ConflictedServiceProvider")," "),f.R7$(2),f.Y8G("ngForOf",Ht.serviceProviderConflicts)}}function Wt(It,Rn){if(1&It&&(f.j41(0,"td"),f.EFF(1),f.nI1(2,"beautifyPropertyName"),f.k0s()),2&It){const Ht=f.XpG().$implicit;f.R7$(),f.JRh(f.bMT(2,1,Ht.propertyName))}}function tn(It,Rn){if(1&It&&(f.j41(0,"td"),f.EFF(1),f.k0s()),2&It){const Ht=f.XpG().$implicit;f.R7$(),f.JRh(Ht.propertyName)}}function it(It,Rn){if(1&It&&(f.j41(0,"span",47),f.EFF(1),f.k0s()),2&It){const Ht=f.XpG().$implicit;f.R7$(),f.SpI(" ",Ht.previous," ")}}function Ot(It,Rn){1&It&&(f.j41(0,"i",48),f.EFF(1),f.nI1(2,"translate"),f.k0s()),2&It&&(f.R7$(),f.SpI(" ",f.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.NoValue")," "))}function ve(It,Rn){if(1&It&&(f.j41(0,"span",49),f.EFF(1),f.k0s()),2&It){const Ht=f.XpG().$implicit;f.R7$(),f.SpI(" ",Ht.new," ")}}function ae(It,Rn){1&It&&(f.j41(0,"i",48),f.EFF(1),f.nI1(2,"translate"),f.k0s()),2&It&&(f.R7$(),f.SpI(" ",f.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.Deleted")," "))}function $(It,Rn){if(1&It){const Ht=f.RV6();f.j41(0,"tr",43),f.bIt("change",function(){f.eBV(Ht);const vt=f.XpG(3);return f.Njj(vt.setupTableHeadings())}),f.DNE(1,Wt,3,3,"td",57)(2,tn,2,1,"td",57),f.j41(3,"td",64),f.DNE(4,it,2,1,"span",44)(5,Ot,3,3,"i",45),f.k0s(),f.j41(6,"td",64),f.DNE(7,ve,2,1,"span",46)(8,ae,3,3,"i",45),f.k0s()()}if(2&It){const Ht=Rn.$implicit,lt=f.XpG().$implicit,vt=f.XpG(2);f.R7$(),f.Y8G("ngIf",lt.identifier!=vt.summaryConflictsConstants.ClaimMappingsIdentifier),f.R7$(),f.Y8G("ngIf",lt.identifier==vt.summaryConflictsConstants.ClaimMappingsIdentifier),f.R7$(2),f.Y8G("ngIf",vt.hasValue(Ht.previous)),f.R7$(),f.Y8G("ngIf",!vt.hasValue(Ht.previous)),f.R7$(2),f.Y8G("ngIf",vt.hasValue(Ht.new)),f.R7$(),f.Y8G("ngIf",!vt.hasValue(Ht.new))}}function se(It,Rn){if(1&It&&(f.j41(0,"div",52)(1,"h4",53),f.EFF(2),f.nI1(3,"beautifyPropertyName"),f.k0s(),f.j41(4,"table",40)(5,"thead")(6,"tr")(7,"th"),f.EFF(8),f.nI1(9,"translate"),f.k0s(),f.j41(10,"th",41),f.EFF(11),f.nI1(12,"translate"),f.k0s(),f.j41(13,"th",41),f.EFF(14),f.nI1(15,"translate"),f.k0s()()(),f.j41(16,"tbody"),f.DNE(17,$,9,6,"tr",42),f.k0s()()()),2&It){const Ht=Rn.$implicit;f.R7$(2),f.SpI(" ",f.bMT(3,5,Ht.identifier)," "),f.R7$(6),f.JRh(f.bMT(9,7,"Clients.Import.Wizard.Summary.Conflicts.Property")),f.R7$(3),f.JRh(f.bMT(12,9,"Clients.Import.Wizard.Summary.Conflicts.OldValue")),f.R7$(3),f.JRh(f.bMT(15,11,"Clients.Import.Wizard.Summary.Conflicts.NewValue")),f.R7$(3),f.Y8G("ngForOf",null==Ht?null:Ht.conflicts)}}function Ue(It,Rn){if(1&It&&(f.j41(0,"div",65)(1,"h3",55),f.EFF(2),f.nI1(3,"translate"),f.k0s(),f.DNE(4,se,18,13,"div",51),f.k0s()),2&It){const Ht=f.XpG();f.R7$(2),f.SpI(" ",f.bMT(3,2,"Clients.Import.Wizard.Summary.Conflicts.ConflictedRelyingParty")," "),f.R7$(2),f.Y8G("ngForOf",Ht.relyingPartyConflicts)}}let Ze=(()=>{class It extends S.P{set data(Ht){const lt=JSON.parse(JSON.stringify(Ht));this.resource=lt,this.summaryDisplayType=g.n.getSummaryDisplayType(lt.resourceType),this.setupLinkedClients(lt),this.resource.resourceType===n.ot.ClaimType&&(this.fieldConflicts=this.resource.conflicts.find(vt=>vt.identifier===v.ClaimTypes)),this.resource.resourceType===n.ot.IdentityResource&&(this.fieldConflicts=this.resource.conflicts.find(vt=>vt.identifier===v.IdentityResources)),this.resource.resourceType===n.ot.Client&&(this.initClient(),this.resource.displayType===v.SamlDisplayType?this.initServiceProvider():this.resource.displayType===v.WsFedDisplayType&&this.initRelyingParty()),this.resource.resourceType===n.ot.ProtectedResource&&(this.fieldConflicts=this.resource.conflicts.find(vt=>vt.identifier===v.ProtectedResources),this.initScopeConflicts())}constructor(Ht,lt,vt){super(),this.importWizardService=Ht,this.translate=lt,this.localizeRouterService=vt,this.clientKeyValueConflicts=[],this.scopeConflicts=[],this.serviceProviderConflicts=[],this.relyingPartyConflicts=[],this.summaryConflictsConstants=v}accept(){this.importWizardController.stepModified=!0,this.summaryDisplayType===g.n.client&&this.importWizardService.selectResource(this.resource),this.back()}decline(){this.importWizardController.stepModified=!0,this.openModal(e.M.summaryConflictsConfirmation,this.resource)}setupLinkedClients(Ht){null!==Ht.dependantClients&&0!==Ht.dependantClients.length?(this.displayLinkedClients=!0,this.linkedNewClients=this.sortDependentClients(Ht.dependantClients.filter(lt=>lt.state===n.XF.Importing)),this.linkedExistingClients=this.sortDependentClients(Ht.dependantClients.filter(lt=>lt.state===n.XF.Existing)),this.displayLinkedClientsDropdown=this.linkedExistingClients.length>0&&this.linkedExistingClients.length<8&&this.linkedNewClients.length<8):this.displayLinkedClients=!1}sortDependentClients(Ht){return Ht.sort((lt,vt)=>lt.displayName.localeCompare(vt.displayName))}buildHref(Ht){return this.localizeRouterService.translateRoute(`/clients/${Ht}`)}toggleDisplayLinkedClientsDropdown(){this.displayLinkedClientsDropdown=!this.displayLinkedClientsDropdown}hasValue(Ht){return!(null==Ht||(0,_.gP)(Ht.toString()))}initClient(){const Ht=this.resource.conflicts.find(mt=>mt.identifier===v.Client),lt=this.resource.conflicts.find(mt=>mt.identifier===v.ClaimsProperty),vt=this.resource.conflicts.find(mt=>mt.identifier===v.PropertiesProperty);Ht&&(this.fieldConflicts=Ht),lt&&this.clientKeyValueConflicts.push(lt),vt&&this.clientKeyValueConflicts.push(vt)}initRelyingParty(){const Ht=this.resource.conflicts.find(vt=>vt.identifier===v.RelyingPartyProperty),lt=this.resource.conflicts.find(vt=>vt.identifier===v.ClaimMappingsKey);Ht&&this.relyingPartyConflicts.push(Ht),lt&&this.relyingPartyConflicts.push(lt)}initServiceProvider(){const Ht=this.resource.conflicts.find(kt=>kt.identifier===v.ServiceProviderProperty),lt=this.resource.conflicts.find(kt=>kt.identifier===v.ClaimMappingsKey),vt=this.resource.conflicts.find(kt=>kt.identifier===v.acsProperty),mt=this.resource.conflicts.find(kt=>kt.identifier===v.sloProperty);Ht&&this.serviceProviderConflicts.push(Ht),lt&&this.serviceProviderConflicts.push(lt),vt&&this.serviceProviderConflicts.push(vt),mt&&this.serviceProviderConflicts.push(mt)}initScopeConflicts(){const Ht=this.resource.conflicts.filter(lt=>lt.identifier!==v.ProtectedResources);void 0!==Ht&&(Ht.forEach(lt=>{const vt=lt.conflicts.find(mt=>mt.propertyName===v.UserClaimsProperty);vt&&(vt.new=vt.new.join(", "),vt.previous=vt.previous.join(", "))}),this.scopeConflicts=Ht)}static{this.\u0275fac=function(lt){return new(lt||It)(f.rXU(d.o),f.rXU(E.c$),f.rXU(m.QG))}}static{this.\u0275cmp=f.VBU({type:It,selectors:[["app-import-summary-conflicts"]],viewQuery:function(lt,vt){if(1&lt&&f.GBs(C,7),2&lt){let mt;f.mGM(mt=f.lsd())&&(vt.importSummaryConflictsModal=mt.first)}},features:[f.Vt3],decls:30,vars:22,consts:[["normalConflicts",""],[1,"modal-body"],[1,"tw-mb-4"],[1,"tw-font-semibold","tw-mr-2"],[1,"cms"],["class","tw-alert tw-mb-6",3,"tw-alert-warning",4,"ngIf"],["class","tw-mb-6 last:tw-mb-0",4,"ngIf"],["id","clientKeyValueConflictsSection",4,"ngIf"],["id","scopeConflictsSection",4,"ngIf"],["id","serviceProviderConflictsSection",4,"ngIf"],["id","relyingPartyConflictsSection",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],[1,"tw-btn-success","tw-mr-3",3,"click"],[1,"tw-btn-danger",3,"click"],[1,"tw-btn-link","tw--mr-4",3,"click"],[1,"tw-alert","tw-mb-6"],[1,"tw-w-full"],[1,"tw-flex","tw-items-center","tw-font-semibold","tw-text-left","tw-w-full",3,"click"],["aria-hidden","true",1,"tw-ml-auto"],["class","fas fa-caret-up fa-fw",4,"ngIf"],["class","fas fa-caret-down fa-fw",4,"ngIf"],["class","tw-pt-2 tw-pb-1",4,"ngIf"],[1,"fas","fa-caret-up","fa-fw"],[1,"fas","fa-caret-down","fa-fw"],[1,"tw-pt-2","tw-pb-1"],["class","tw-flex tw-mb-1 last:tw-mb-0",4,"ngIf"],["id","existingClients","class","tw-flex tw-text-red-500",4,"ngIf"],[1,"tw-flex","tw-mb-1","last:tw-mb-0"],[1,"tw-shrink-0","tw-mr-2","tw-font-semibold","tw-w-20"],[1,"tw-flex","tw-flex-wrap"],["class","tw-inline-flex tw-mr-2",4,"ngFor","ngForOf"],[1,"tw-inline-flex","tw-mr-2"],["aria-hidden","true",4,"ngIf"],["aria-hidden","true"],["id","existingClients",1,"tw-flex","tw-text-red-500"],["target","_blank",1,"tw-text-red-500","tw-font-normal","tw-underline","hover:tw-text-red-500","hover:tw-no-underline",3,"href"],[1,"tw-mb-6","last:tw-mb-0"],[1,"datatable"],[1,"md:tw-w-1/3","lg:tw-w-2/5"],[3,"change",4,"ngFor","ngForOf"],[3,"change"],["class","tw-text-red-500",4,"ngIf"],["class","tw-text-grey-600",4,"ngIf"],["class","tw-text-green-500",4,"ngIf"],[1,"tw-text-red-500"],[1,"tw-text-grey-600"],[1,"tw-text-green-500"],["id","clientKeyValueConflictsSection"],["class","tw-mb-5 last:tw-mb-0",4,"ngFor","ngForOf"],[1,"tw-mb-5","last:tw-mb-0"],[1,"tw-font-semibold","tw-text-sm","tw-mb-4","tw-px-3"],["id","scopeConflictsSection"],[1,"tw-border-b","tw-border-grey-200","tw-mb-4","tw-pb-2","tw-font-semibold","md:tw-flex","md:tw-items-center","ng-star-inserted"],["id","serviceProviderConflictsSection"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["class","tw-text-grey-700",4,"ngIf"],[1,"tw-text-grey-700"],[1,"tw-font-normal"],[1,"tw-text-red-500","tw-mb-1"],[1,"tw-text-green-500","tw-mb-1"],[1,"tw-max-w-0","wrap-words"],["id","relyingPartyConflictsSection"]],template:function(lt,vt){1&lt&&(f.j41(0,"div",1)(1,"h2",2)(2,"span",3),f.EFF(3),f.nI1(4,"translate"),f.k0s(),f.j41(5,"span"),f.EFF(6),f.k0s()(),f.j41(7,"div",4)(8,"p"),f.EFF(9),f.nI1(10,"translate"),f.k0s()(),f.DNE(11,le,10,8,"div",5)(12,z,15,10,"div",6)(13,we,2,1,"div",7)(14,Ye,5,4,"div",8)(15,nt,5,4,"div",9)(16,Ue,5,4,"div",10),f.k0s(),f.nrm(17,"div",11),f.j41(18,"div",12)(19,"div",13)(20,"div",14)(21,"button",15),f.bIt("click",function(){return vt.accept()}),f.EFF(22),f.nI1(23,"translate"),f.k0s(),f.j41(24,"button",16),f.bIt("click",function(){return vt.decline()}),f.EFF(25),f.nI1(26,"translate"),f.k0s()(),f.j41(27,"button",17),f.bIt("click",function(){return vt.back()}),f.EFF(28),f.nI1(29,"translate"),f.k0s()()()),2&lt&&(f.R7$(3),f.SpI("",f.bMT(4,12,"Clients.Import.Wizard.Summary.Identifier."+vt.summaryDisplayType),":"),f.R7$(3),f.JRh(null==vt.resource?null:vt.resource.displayName),f.R7$(3),f.JRh(f.bMT(10,14,"Clients.Import.Wizard.Summary.Conflicts.ConfirmationText."+vt.summaryDisplayType)),f.R7$(2),f.Y8G("ngIf",vt.displayLinkedClients),f.R7$(),f.Y8G("ngIf",vt.fieldConflicts&&vt.fieldConflicts.conflicts.length>0),f.R7$(),f.Y8G("ngIf",vt.clientKeyValueConflicts.length>0),f.R7$(),f.Y8G("ngIf",vt.scopeConflicts.length>0),f.R7$(),f.Y8G("ngIf",vt.serviceProviderConflicts.length>0),f.R7$(),f.Y8G("ngIf",vt.relyingPartyConflicts.length>0),f.R7$(6),f.JRh(f.bMT(23,16,"Clients.Import.Wizard.Summary.Conflicts.Accept")),f.R7$(3),f.JRh(f.bMT(26,18,"Clients.Import.Wizard.Summary.Conflicts.Decline")),f.R7$(3),f.JRh(f.bMT(29,20,"Clients.Import.Wizard.Summary.Conflicts.Cancel")))},dependencies:[F.Sq,F.bT,E.D9,w],encapsulation:2})}}return It})()},7728:(qe,me,u)=>{"use strict";u.d(me,{z:()=>te});var n=u(1744),e=u(4414),_=u(590),g=u(6799),S=u(4438),v=u(5826),f=u(1780),d=u(177),E=u(9417);const m=I=>({"inactive disabled tw-opacity-50 tw-pointer-events-none":I});function F(I,oe){if(1&I){const z=S.RV6();S.j41(0,"th",21)(1,"label",22)(2,"input",23),S.mxI("ngModelChange",function(Pe){S.eBV(z);const Re=S.XpG();return S.DH7(Re.allSelected,Pe)||(Re.allSelected=Pe),S.Njj(Pe)}),S.bIt("change",function(){S.eBV(z);const Pe=S.XpG();return S.Njj(Pe.toggleAllSelected())}),S.k0s()()()}if(2&I){const z=S.XpG();S.R7$(2),S.R50("ngModel",z.allSelected)}}function w(I,oe){if(1&I&&(S.j41(0,"th",24),S.EFF(1),S.nI1(2,"translate"),S.k0s()),2&I){const z=S.XpG();S.R7$(),S.JRh(S.bMT(2,1,"Clients.Import.Wizard.Summary.Identifier."+z.summaryDisplayType))}}function C(I,oe){1&I&&(S.j41(0,"th",25),S.EFF(1),S.nI1(2,"translate"),S.k0s()),2&I&&(S.R7$(),S.SpI("",S.bMT(2,1,"Nav.Clients")," *"))}function R(I,oe){if(1&I){const z=S.RV6();S.j41(0,"label",22)(1,"input",23),S.nI1(2,"translate"),S.mxI("ngModelChange",function(Pe){S.eBV(z);const Re=S.XpG(2).$implicit;return S.DH7(Re.selected,Pe)||(Re.selected=Pe),S.Njj(Pe)}),S.bIt("change",function(){S.eBV(z);const Pe=S.XpG(3);return S.Njj(Pe.selectionChanged())}),S.k0s()()}if(2&I){const z=S.XpG(2).$implicit;S.R7$(),S.R50("ngModel",z.selected),S.BMQ("aria-label",S.bMT(2,2,"Common.Add"))}}function x(I,oe){if(1&I&&(S.j41(0,"td",21),S.DNE(1,R,3,4,"label",32),S.k0s()),2&I){const z=S.XpG().$implicit;S.R7$(),S.Y8G("ngIf",z.isSelectable)}}function O(I,oe){if(1&I){const z=S.RV6();S.j41(0,"td",33),S.bIt("click",function(){S.eBV(z);const Pe=S.XpG().$implicit,Re=S.XpG();return S.Njj(Re.toggle(Pe))}),S.EFF(1),S.k0s()}if(2&I){const z=S.XpG().$implicit;S.Y8G("title",z.identifier),S.R7$(),S.SpI(" ",z.identifier," ")}}function H(I,oe){if(1&I&&(S.j41(0,"td",34),S.EFF(1),S.k0s()),2&I){const z=S.XpG().$implicit,_e=S.XpG();S.R7$(),S.SpI(" ",_e.displayLinkedClients(z)," ")}}function M(I,oe){1&I&&S.nrm(0,"span",40)}function V(I,oe){if(1&I){const z=S.RV6();S.qex(0),S.j41(1,"td",35),S.bIt("click",function(Pe){S.eBV(z);const Re=S.XpG().$implicit,ke=S.XpG();return S.Njj(ke.viewConflicts(Pe,Re))}),S.DNE(2,M,1,0,"span",36),S.k0s(),S.j41(3,"td",37),S.bIt("click",function(Pe){S.eBV(z);const Re=S.XpG().$implicit,ke=S.XpG();return S.Njj(ke.viewConflicts(Pe,Re))}),S.j41(4,"button",38),S.bIt("click",function(Pe){S.eBV(z);const Re=S.XpG().$implicit,ke=S.XpG();return S.Njj(ke.viewConflicts(Pe,Re))}),S.j41(5,"span",39),S.EFF(6),S.k0s()()(),S.bVm()}if(2&I){const z=S.XpG().$implicit,_e=S.XpG();S.R7$(2),S.Y8G("ngIf",z.resourceState==_e.resourceStates.Conflicted),S.R7$(4),S.JRh(_e.getConflicts(z))}}function U(I,oe){1&I&&S.nrm(0,"span",45)}function G(I,oe){1&I&&S.nrm(0,"span",46)}function ie(I,oe){1&I&&S.nrm(0,"span",40)}function le(I,oe){if(1&I){const z=S.RV6();S.qex(0),S.j41(1,"td",41),S.bIt("click",function(){S.eBV(z);const Pe=S.XpG().$implicit,Re=S.XpG();return S.Njj(Re.toggle(Pe))}),S.DNE(2,U,1,0,"span",42)(3,G,1,0,"span",43)(4,ie,1,0,"span",36),S.k0s(),S.j41(5,"td",44),S.bIt("click",function(){S.eBV(z);const Pe=S.XpG().$implicit,Re=S.XpG();return S.Njj(Re.toggle(Pe))}),S.j41(6,"span",39),S.EFF(7),S.k0s()(),S.bVm()}if(2&I){const z=S.XpG().$implicit,_e=S.XpG();S.R7$(2),S.Y8G("ngIf",z.resourceState==_e.resourceStates.New),S.R7$(),S.Y8G("ngIf",z.resourceState==_e.resourceStates.Duplicate),S.R7$(),S.Y8G("ngIf",z.conflictedByDependencies),S.R7$(2),S.AVh("tw-italic",!z.isSelectable),S.R7$(),S.SpI(" ",_e.getResourceState(z)," ")}}function L(I,oe){if(1&I){const z=S.RV6();S.j41(0,"tr",26),S.DNE(1,x,2,1,"td",3),S.j41(2,"td",27),S.bIt("click",function(){const Pe=S.eBV(z).$implicit,Re=S.XpG();return S.Njj(Re.toggle(Pe))}),S.j41(3,"b"),S.EFF(4),S.k0s()(),S.DNE(5,O,2,2,"td",28),S.j41(6,"td",29),S.bIt("click",function(){const Pe=S.eBV(z).$implicit,Re=S.XpG();return S.Njj(Re.toggle(Pe))}),S.EFF(7),S.nI1(8,"translate"),S.k0s(),S.DNE(9,H,2,1,"td",30)(10,V,7,2,"ng-container",31)(11,le,8,6,"ng-container",31),S.k0s()}if(2&I){const z=oe.$implicit,_e=S.XpG();S.Y8G("ngClass",S.eq3(11,m,z.resourceState===_e.resourceStates.Duplicate)),S.R7$(),S.Y8G("ngIf",_e.showSelectAll()),S.R7$(),S.Y8G("title",z.displayName),S.R7$(2),S.JRh(z.displayName),S.R7$(),S.Y8G("ngIf","ClaimType"!==_e.summaryDisplayType),S.R7$(2),S.SpI(" ",S.bMT(8,9,"Clients.Import.Wizard.Summary.ResourceTypes."+z.displayType)," "),S.R7$(2),S.Y8G("ngIf","Client"!==_e.summaryDisplayType),S.R7$(),S.Y8G("ngIf",z.resourceState===_e.resourceStates.Conflicted&&!z.conflictedByDependencies),S.R7$(),S.Y8G("ngIf",z.resourceState!==_e.resourceStates.Conflicted||z.conflictedByDependencies)}}function J(I,oe){1&I&&(S.j41(0,"p",47),S.EFF(1),S.nI1(2,"translate"),S.k0s()),2&I&&(S.R7$(),S.SpI(" * ",S.bMT(2,1,"Clients.Import.Wizard.Summary.ClientsHelp")," "))}let te=(()=>{class I extends g.P{get data(){return this._importResourceType}set data(z){this._importResourceType=z}constructor(z,_e){super(),this.importWizardService=z,this.translate=_e,this.resourceStates=n.jD,this.nextImport=!1}ngOnInit(){this.summaryDisplayType=_.n.getSummaryDisplayType(this.data[0]),this.importWizardService.cache.subscribe(z=>{z.every(Pe=>Pe.resourceType===n.ot.Client)&&(this.nextImport=!0);let _e=z.filter(Pe=>this.data.includes(Pe.resourceType));if(!this.data.includes(n.ot.Client)){const Pe=z.filter(Re=>Re.resourceType===n.ot.Client&&!0===Re.selected).map(Re=>Re.identifier);_e=_e.filter(Re=>Re.dependantClients.map(ke=>ke.identifier).some(ke=>Pe.includes(ke)))}if(1===this.data.length&&this.data.includes(n.ot.Client)){const Pe=_e.filter(ke=>ke.resourceState===n.jD.Duplicate),Re=z.filter(ke=>ke.resourceType!==n.ot.Client&&ke.dependantClients.length>0&&ke.resourceState===n.jD.Conflicted);Pe.forEach(ke=>{Re.filter(Te=>Te.dependantClients.some(we=>we.identifier===ke.identifier)).length>0&&(ke.resourceState=n.jD.Conflicted,ke.selected=!0,ke.conflictedByDependencies=!0)})}this.displayData=this.importWizardController.sortImportResources(_e),this.checkAllSelected()})}getNextText(){return this.translate.instant(this.nextImport?"Clients.Import.Import":"Common.Next")}canNext(){return this.displayData.some(z=>z.selected)||this.displayData.every(z=>!1===z.isSelectable)&&this.summaryDisplayType!==_.n.client}goNext(){this.importWizardController.stepModified?(this.summaryDisplayType===_.n.client&&this.importWizardService.updateSelectedClients(this.displayData.filter(z=>z.selected)),this.next()):this.importWizardController.goToFinalSummary()}goBack(){this.importWizardController.stepModified=!0,this.back()}selectionChanged(){this.importWizardController.stepModified=!0,this.checkAllSelected()}checkAllSelected(){this.allSelected=this.displayData.filter(z=>z.resourceState!==this.resourceStates.Duplicate).every(z=>!0===z.selected)}toggle(z){z.isSelectable&&(z.selected=!z.selected,this.selectionChanged())}toggleAllSelected(){this.displayData.forEach(z=>z.selected=this.allSelected),this.selectionChanged()}getConflicts(z){let Pe,_e=0;return z.conflicts.forEach(Re=>{_e+=Re.conflicts.length}),Pe=this.translate.instant(1===_e?"Clients.Import.Wizard.Summary.Change":"Clients.Import.Wizard.Summary.Changes"),_e+" "+Pe}viewConflicts(z,_e){z.stopPropagation(),this.openModal(e.M.summaryConflicts,_e)}showSelectAll(){return this.displayData.some(z=>z.isSelectable)&&!this.displayData.every(z=>z.resourceState===n.jD.Duplicate)}displayLinkedClients(z){return null===z.dependantClients||0===z.dependantClients.length?"-":z.dependantClients.length.toString()}getResourceState(z){return z.conflictedByDependencies?this.translate.instant("Clients.Import.Wizard.Summary.DependencyConflicts"):this.resourceStates[z.resourceState]}static{this.\u0275fac=function(_e){return new(_e||I)(S.rXU(v.o),S.rXU(f.c$))}}static{this.\u0275cmp=S.VBU({type:I,selectors:[["app-import-summary"]],features:[S.Vt3],decls:37,vars:27,consts:[[1,"modal-body"],[1,"cms"],[1,"datatable","hover"],["class","toggle tw-w-1",4,"ngIf"],[1,"md:tw-w-1/3","lg:tw-w-1/4"],["class","tw-hidden sm:tw-table-cell md:tw-w-1/3",4,"ngIf"],[1,"tw-hidden","lg:tw-table-cell"],["class","tw-hidden tw-text-center lg:tw-table-cell",4,"ngIf"],["aria-hidden","true",1,"tw-hidden","tw-w-1","xs:tw-table-cell"],[1,"tw-w-1"],[1,"sr-only"],["id","resourceTable"],[3,"ngClass",4,"ngFor","ngForOf"],["class","tw-text-xs tw-text-grey-700 tw-px-3 tw-py-2",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],["id","backBtn",1,"tw-btn",3,"click"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],[1,"toggle","tw-w-1"],[1,"toggle-label"],["type","checkbox",1,"tw-block","tw-cursor-pointer",3,"ngModelChange","change","ngModel"],[1,"tw-hidden","sm:tw-table-cell","md:tw-w-1/3"],[1,"tw-hidden","tw-text-center","lg:tw-table-cell"],[3,"ngClass"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell",3,"click","title"],["class","tw-hidden tw-max-w-1 tw-truncate sm:tw-table-cell",3,"title","click",4,"ngIf"],[1,"tw-hidden","lg:tw-table-cell","tw-truncate",3,"click"],["class","tw-text-center",4,"ngIf"],[4,"ngIf"],["class","toggle-label",4,"ngIf"],[1,"tw-hidden","tw-max-w-1","tw-truncate","sm:tw-table-cell",3,"click","title"],[1,"tw-text-center"],["aria-hidden","true","data-toggle","modal","data-target","#displayConflictsModal",1,"tw-hidden","tw-cursor-pointer","tw-text-right","xs:tw-table-cell",3,"click"],["class","fas fa-exclamation-triangle tw-text-orange-500 tw--mr-3",4,"ngIf"],["data-toggle","modal","data-target","#displayConflictsModal",1,"tw-cursor-pointer",3,"click"],["data-toggle","modal","data-target","#displayConflictsModal",1,"tw-font-semibold","tw-text-blue-500",3,"click"],[1,"tw-whitespace-nowrap"],[1,"fas","fa-exclamation-triangle","tw-text-orange-500","tw--mr-3"],["aria-hidden","true",1,"tw-hidden","tw-cursor-pointer","tw-text-right","xs:tw-table-cell",3,"click"],["class","fas fa-check tw-text-green-500 tw--mr-3",4,"ngIf"],["class","far fa-copy tw--mr-3",4,"ngIf"],[3,"click"],[1,"fas","fa-check","tw-text-green-500","tw--mr-3"],[1,"far","fa-copy","tw--mr-3"],[1,"tw-text-xs","tw-text-grey-700","tw-px-3","tw-py-2"]],template:function(_e,Pe){1&_e&&(S.j41(0,"div",0)(1,"div",1)(2,"p"),S.EFF(3),S.nI1(4,"translate"),S.k0s()(),S.j41(5,"table",2)(6,"thead")(7,"tr"),S.DNE(8,F,3,1,"th",3),S.j41(9,"th",4),S.EFF(10),S.nI1(11,"translate"),S.k0s(),S.DNE(12,w,3,3,"th",5),S.j41(13,"th",6),S.EFF(14),S.nI1(15,"translate"),S.k0s(),S.DNE(16,C,3,3,"th",7),S.nrm(17,"td",8),S.j41(18,"th",9)(19,"span",10),S.EFF(20),S.nI1(21,"translate"),S.k0s()()()(),S.j41(22,"tbody",11),S.DNE(23,L,12,13,"tr",12),S.k0s()(),S.DNE(24,J,3,3,"p",13),S.k0s(),S.nrm(25,"div",14),S.j41(26,"div",15)(27,"div",16)(28,"div",17)(29,"button",18),S.bIt("click",function(){return Pe.goNext()}),S.EFF(30),S.k0s(),S.j41(31,"button",19),S.bIt("click",function(){return Pe.goBack()}),S.EFF(32),S.nI1(33,"translate"),S.k0s()(),S.j41(34,"button",20),S.bIt("click",function(){return Pe.cancel()}),S.EFF(35),S.nI1(36,"translate"),S.k0s()()()),2&_e&&(S.R7$(3),S.JRh(S.bMT(4,15,"Clients.Import.Wizard.Summary.Intro."+Pe.summaryDisplayType)),S.R7$(2),S.AVh("selectable",Pe.showSelectAll()),S.R7$(3),S.Y8G("ngIf",Pe.showSelectAll()),S.R7$(2),S.JRh(S.bMT(11,17,"Clients.Import.Wizard.Summary.Name."+Pe.summaryDisplayType)),S.R7$(2),S.Y8G("ngIf","ClaimType"!==Pe.summaryDisplayType),S.R7$(2),S.JRh(S.bMT(15,19,"Clients.Import.Wizard.Summary.Type."+Pe.summaryDisplayType)),S.R7$(2),S.Y8G("ngIf","Client"!==Pe.summaryDisplayType),S.R7$(4),S.JRh(S.bMT(21,21,"Common.Status")),S.R7$(3),S.Y8G("ngForOf",Pe.displayData),S.R7$(),S.Y8G("ngIf","Client"!==Pe.summaryDisplayType),S.R7$(5),S.Y8G("disabled",!Pe.canNext()),S.R7$(),S.JRh(Pe.getNextText()),S.R7$(2),S.JRh(S.bMT(33,23,"Common.Back")),S.R7$(3),S.JRh(S.bMT(36,25,"Common.Cancel")))},dependencies:[d.YU,d.Sq,d.bT,E.Zm,E.BC,E.vS,f.D9],encapsulation:2})}}return I})()},6799:(qe,me,u)=>{"use strict";u.d(me,{P:()=>n});class n{constructor(){this.isWarningModal=!1,this.hideProgressBar=!1}get data(){return this._data}set data(_){this._data=_}next(){this.importWizardController.goToNextStep()}back(){this.importWizardController.goToPreviousStep()}cancel(){this.importWizardController.cancel()}openModal(_,g){this.importWizardController.insertAndOpenStep(_,g)}quit(){this.importWizardController.quit()}reset(){this.importWizardController.reset()}}},7301:(qe,me,u)=>{"use strict";u.d(me,{l:()=>ht});var n=u(1594),e=u(1410),_=u(9988),g=u(4438),S=u(3853),v=u(9417),f=u(177),d=u(8698),E=u(2552),m=u(1780);function F(Ye,Yt){if(1&Ye&&(g.j41(0,"option",17),g.EFF(1),g.nI1(2,"translate"),g.k0s()),2&Ye){const Ut=Yt.$implicit;g.Y8G("value",Ut),g.R7$(),g.JRh(g.bMT(2,2,"Clients.WizardTypes."+Ut))}}function w(Ye,Yt){if(1&Ye){const Ut=g.RV6();g.j41(0,"form",12)(1,"app-form-row",13)(2,"div",14)(3,"select",15,0),g.bIt("change",function(){g.eBV(Ut);const _t=g.sdS(4),X=g.XpG(2);return g.Njj(X.setActive(_t.value))}),g.DNE(5,F,3,4,"option",16),g.k0s()()()()}if(2&Ye){const Ut=g.XpG(2);g.Y8G("formGroup",Ut.webAppSelectForm),g.R7$(),g.Y8G("id","webAppFlow")("label","Clients.WizardTypes.WebAppSelection")("isLast",!0),g.R7$(4),g.Y8G("ngForOf",Ut.webAppTypes)}}function C(Ye,Yt){if(1&Ye&&(g.j41(0,"option",17),g.EFF(1),g.nI1(2,"translate"),g.k0s()),2&Ye){const Ut=Yt.$implicit;g.Y8G("value",Ut),g.R7$(),g.JRh(g.bMT(2,2,"Clients.WizardTypes."+Ut))}}function R(Ye,Yt){if(1&Ye){const Ut=g.RV6();g.j41(0,"form",18)(1,"app-form-row",13)(2,"div",14)(3,"select",19,1),g.bIt("change",function(){g.eBV(Ut);const _t=g.sdS(4),X=g.XpG(2);return g.Njj(X.setActive(_t.value))}),g.DNE(5,C,3,4,"option",16),g.k0s()()()()}if(2&Ye){const Ut=g.XpG(2);g.Y8G("formGroup",Ut.robotAppSelectForm),g.R7$(),g.Y8G("id","robotAppFlow")("label","Clients.WizardTypes.WebAppSelection")("isLast",!0),g.R7$(4),g.Y8G("ngForOf",Ut.robotAppTypes)}}function x(Ye,Yt){if(1&Ye&&(g.j41(0,"option",17),g.EFF(1),g.nI1(2,"translate"),g.k0s()),2&Ye){const Ut=Yt.$implicit;g.Y8G("value",Ut),g.R7$(),g.JRh(g.bMT(2,2,"Clients.WizardTypes."+Ut))}}function O(Ye,Yt){if(1&Ye){const Ut=g.RV6();g.j41(0,"form",20)(1,"app-form-row",13)(2,"div",14)(3,"select",21,2),g.bIt("change",function(){g.eBV(Ut);const _t=g.sdS(4),X=g.XpG(2);return g.Njj(X.setActive(_t.value))}),g.DNE(5,x,3,4,"option",16),g.k0s()()()()}if(2&Ye){const Ut=g.XpG(2);g.Y8G("formGroup",Ut.nativeAppSelectForm),g.R7$(),g.Y8G("id","nativeAppFlow")("label","Clients.WizardTypes.WebAppSelection")("isLast",!0),g.R7$(4),g.Y8G("ngForOf",Ut.nativeAppTypes)}}function H(Ye,Yt){if(1&Ye&&g.DNE(0,w,6,5,"form",9)(1,R,6,5,"form",10)(2,O,6,5,"form",11),2&Ye){const Ut=g.XpG();g.Y8G("ngIf",!Ut.isStarterMode&&(Ut.activeType===Ut.wizardTypes.WebApplication||Ut.activeType===Ut.wizardTypes.PKCEWebApplication)),g.R7$(),g.Y8G("ngIf",Ut.activeType===Ut.wizardTypes.RobotApplication||Ut.activeType===Ut.wizardTypes.CIBARobotApplication),g.R7$(),g.Y8G("ngIf",!Ut.isStarterMode&&(Ut.activeType===Ut.wizardTypes.NativeApplication||Ut.activeType===Ut.wizardTypes.PKCENativeApplication))}}function M(Ye,Yt){1&Ye&&(g.j41(0,"span"),g.EFF(1),g.nI1(2,"translate"),g.k0s()),2&Ye&&(g.R7$(),g.JRh(g.bMT(2,1,"Clients.Home.Title")))}function V(Ye,Yt){1&Ye&&(g.j41(0,"span"),g.EFF(1),g.nI1(2,"translate"),g.k0s()),2&Ye&&(g.R7$(),g.JRh(g.bMT(2,1,"Clients.SPA.Title")))}function U(Ye,Yt){1&Ye&&(g.j41(0,"span"),g.EFF(1),g.nI1(2,"translate"),g.k0s()),2&Ye&&(g.R7$(),g.JRh(g.bMT(2,1,"Clients.WebApp.Title")))}function G(Ye,Yt){1&Ye&&(g.j41(0,"span"),g.EFF(1),g.nI1(2,"translate"),g.k0s()),2&Ye&&(g.R7$(),g.JRh(g.bMT(2,1,"Clients.PKCEWebApp.Title")))}function ie(Ye,Yt){1&Ye&&(g.j41(0,"span"),g.EFF(1),g.nI1(2,"translate"),g.k0s()),2&Ye&&(g.R7$(),g.JRh(g.bMT(2,1,"Clients.NativeApp.Title")))}function le(Ye,Yt){1&Ye&&(g.j41(0,"span"),g.EFF(1),g.nI1(2,"translate"),g.k0s()),2&Ye&&(g.R7$(),g.JRh(g.bMT(2,1,"Clients.PKCENativeApp.Title")))}function L(Ye,Yt){1&Ye&&(g.j41(0,"span"),g.EFF(1),g.nI1(2,"translate"),g.k0s()),2&Ye&&(g.R7$(),g.JRh(g.bMT(2,1,"Clients.MachineToMachine.Title")))}function J(Ye,Yt){1&Ye&&(g.j41(0,"span"),g.EFF(1),g.nI1(2,"translate"),g.k0s()),2&Ye&&(g.R7$(),g.JRh(g.bMT(2,1,"Clients.CIBAMachineToMachine.Title")))}function te(Ye,Yt){1&Ye&&(g.j41(0,"span"),g.EFF(1),g.nI1(2,"translate"),g.k0s()),2&Ye&&(g.R7$(),g.JRh(g.bMT(2,1,"Clients.DeviceFlow.Title")))}function I(Ye,Yt){1&Ye&&(g.j41(0,"span"),g.EFF(1),g.nI1(2,"translate"),g.k0s()),2&Ye&&(g.R7$(),g.JRh(g.bMT(2,1,"Clients.Saml.Title")))}function oe(Ye,Yt){1&Ye&&(g.j41(0,"span"),g.EFF(1),g.nI1(2,"translate"),g.k0s()),2&Ye&&(g.R7$(),g.JRh(g.bMT(2,1,"Clients.WsFed.Title")))}function z(Ye,Yt){1&Ye&&(g.j41(0,"span"),g.EFF(1),g.nI1(2,"translate"),g.k0s()),2&Ye&&(g.R7$(),g.JRh(g.bMT(2,1,"Clients.LegacySPA.Title")))}function _e(Ye,Yt){1&Ye&&(g.nrm(0,"p",4),g.nI1(1,"translate")),2&Ye&&g.Y8G("innerHTML",g.bMT(1,1,"Clients.Home.Description"),g.npT)}function Pe(Ye,Yt){1&Ye&&(g.nrm(0,"p",4),g.nI1(1,"translate")),2&Ye&&g.Y8G("innerHTML",g.bMT(1,1,"Clients.SPA.Description"),g.npT)}function Re(Ye,Yt){1&Ye&&(g.nrm(0,"p",4),g.nI1(1,"translate")),2&Ye&&g.Y8G("innerHTML",g.bMT(1,1,"Clients.WebApp.Description"),g.npT)}function ke(Ye,Yt){1&Ye&&(g.nrm(0,"p",4),g.nI1(1,"translate")),2&Ye&&g.Y8G("innerHTML",g.bMT(1,1,"Clients.PKCEWebApp.Description"),g.npT)}function Je(Ye,Yt){1&Ye&&(g.nrm(0,"p",4),g.nI1(1,"translate")),2&Ye&&g.Y8G("innerHTML",g.bMT(1,1,"Clients.NativeApp.Description"),g.npT)}function Te(Ye,Yt){1&Ye&&(g.nrm(0,"p",4),g.nI1(1,"translate")),2&Ye&&g.Y8G("innerHTML",g.bMT(1,1,"Clients.PKCENativeApp.Description"),g.npT)}function we(Ye,Yt){1&Ye&&(g.nrm(0,"p",4),g.nI1(1,"translate")),2&Ye&&g.Y8G("innerHTML",g.bMT(1,1,"Clients.MachineToMachine.Description"),g.npT)}function de(Ye,Yt){1&Ye&&(g.nrm(0,"p",4),g.nI1(1,"translate")),2&Ye&&g.Y8G("innerHTML",g.bMT(1,1,"Clients.CIBAMachineToMachine.Description"),g.npT)}function Ve(Ye,Yt){1&Ye&&(g.nrm(0,"p",4),g.nI1(1,"translate")),2&Ye&&g.Y8G("innerHTML",g.bMT(1,1,"Clients.DeviceFlow.Description"),g.npT)}function Ae(Ye,Yt){1&Ye&&(g.nrm(0,"p",4),g.nI1(1,"translate")),2&Ye&&g.Y8G("innerHTML",g.bMT(1,1,"Clients.Saml.Description"),g.npT)}function rt(Ye,Yt){1&Ye&&(g.nrm(0,"p",4),g.nI1(1,"translate")),2&Ye&&g.Y8G("innerHTML",g.bMT(1,1,"Clients.WsFed.Description"),g.npT)}function Be(Ye,Yt){1&Ye&&(g.nrm(0,"p",4),g.nI1(1,"translate")),2&Ye&&g.Y8G("innerHTML",g.bMT(1,1,"Clients.LegacySPA.Description"),g.npT)}let ht=(()=>{class Ye{get isDuende(){return this.data===e.y.Duende}constructor(Ut,Tt){this.licenseService=Ut,this.fb=Tt,this.wizardTypes=_.$,this.activeType=_.$.SinglePageApplication,this.webAppTypes=[_.$.PKCEWebApplication,_.$.WebApplication],this.robotAppTypes=[_.$.RobotApplication,_.$.CIBARobotApplication],this.nativeAppTypes=[_.$.PKCENativeApplication,_.$.NativeApplication],this.starterModeProtectedSetups=[_.$.WebApplication,_.$.PKCEWebApplication,_.$.PKCENativeApplication,_.$.NativeApplication,_.$.DeviceApplication,_.$.SamlApplication,_.$.WsFedApplication,_.$.LegacySinglePageApplication]}hosted(){}ngOnInit(){this.licenseService.getLicenseInfo().pipe((0,n.$)()).subscribe(Ut=>{this.isStarterMode=Ut.isStarterLicense()})}getStepSummary(){return new Map}getStepDTO(){return{}}canNext(){return!this.isStarterMode||!this.starterModeProtectedType()}selectedType(){return this.activeType}onNext(){throw new Error("Method not implemented.")}buildOptionsArray(){var Ut=[{id:"spaBtn",btnId:"spaTestBtn",title:"Clients.SPA.Title",summary:"Clients.SPA.Summary",icon:"fab fa-chrome",type:_.$.SinglePageApplication,selectedTypes:[_.$.SinglePageApplication],starterMode:!0},{id:"webAppBtn",btnId:"webAppTestBtn",title:"Clients.WebApp.Title",summary:"Clients.WebApp.Summary",icon:"fas fa-globe",type:_.$.PKCEWebApplication,selectedTypes:[_.$.WebApplication,_.$.PKCEWebApplication],starterMode:!1},{id:"nativeBtn",btnId:"nativeTestBtn",title:"Clients.NativeApp.Title",summary:"Clients.PKCENativeApp.Summary",icon:"fas fa-mobile-alt",type:_.$.PKCENativeApplication,selectedTypes:[_.$.NativeApplication,_.$.PKCENativeApplication],starterMode:!1},{id:"robotBtn",btnId:"robotTestBtn",title:"Clients.MachineToMachine.Title",summary:"Clients.MachineToMachine.Summary",icon:"fas fa-microchip",type:_.$.RobotApplication,selectedTypes:[_.$.RobotApplication,_.$.CIBARobotApplication],starterMode:!0},{id:"deviceBtn",btnId:"deviceTestBtn",title:"Clients.DeviceFlow.Title",summary:"Clients.DeviceFlow.Summary",icon:"fas fa-wifi",type:_.$.DeviceApplication,selectedTypes:[_.$.DeviceApplication],starterMode:!1},{id:"samlBtn",btnId:"samlTestBtn",title:"Clients.Saml.Title",summary:"Clients.Saml.Summary",icon:"fas fa-code",type:_.$.SamlApplication,selectedTypes:[_.$.SamlApplication],starterMode:!1},{id:"legacySpaBtn",btnId:"legacySpaTestBtn",title:"Clients.LegacySPA.Title",summary:"Clients.LegacySPA.Summary",icon:"fab fa-chrome",type:_.$.LegacySinglePageApplication,selectedTypes:[_.$.LegacySinglePageApplication],starterMode:!1}];return this.isDuende&&Ut.push({id:"wsfedBtn",btnId:"wsfedTestBtn",title:"Clients.WsFed.Title",summary:"Clients.WsFed.Summary",icon:"far fa-id-card",type:_.$.WsFedApplication,selectedTypes:[_.$.WsFedApplication],starterMode:!1}),Ut}setActive(Ut){this.activeType=Ut,this.setWebAppSelection(Ut),this.setRobotAppSelection(Ut),this.setNativeAppSelection(Ut)}starterModeProtectedType(){return this.starterModeProtectedSetups.includes(this.activeType)}setWebAppSelection(Ut){(Ut===_.$.WebApplication||Ut===_.$.PKCEWebApplication)&&(this.webAppSelectForm=this.fb.group({webAppSelection:Ut}))}setRobotAppSelection(Ut){this.isDuende&&(Ut===_.$.RobotApplication||Ut===_.$.CIBARobotApplication)&&(this.robotAppSelectForm=this.fb.group({robotAppSelection:Ut}))}setNativeAppSelection(Ut){(Ut===_.$.NativeApplication||Ut===_.$.PKCENativeApplication)&&(this.nativeAppSelectForm=this.fb.group({nativeAppSelection:Ut}))}static{this.\u0275fac=function(Tt){return new(Tt||Ye)(g.rXU(S.X),g.rXU(v.ze))}}static{this.\u0275cmp=g.VBU({type:Ye,selectors:[["app-client-type-select"]],inputs:{data:"data"},decls:32,vars:9,consts:[["webAppSelection",""],["robotAppSelection",""],["nativeAppSelection",""],[1,"cms","tw-mb-6"],[3,"innerHTML"],["id","clientTypeSelector",3,"select","activeType","isStarterMode","options"],[1,"tw-border-t","tw-border-grey-300","tw-text-grey-700","tw-text-sm","tw-mt-6","tw-pt-5"],[1,"tw-text-sm","tw-font-semibold","tw-text-primary-500","tw-mb-2"],["aria-hidden","true",1,"fas","fa-info-circle","tw-w-5"],["id","webAppSelectionForm","class","tw-mt-5",3,"formGroup",4,"ngIf"],["id","robotSelectionForm","class","tw-mt-5",3,"formGroup",4,"ngIf"],["id","nativeSelectionFrom","class","tw-mt-5",3,"formGroup",4,"ngIf"],["id","webAppSelectionForm",1,"tw-mt-5",3,"formGroup"],[3,"id","label","isLast"],[1,"tw-form-select"],["id","webAppFlow","formControlName","webAppSelection",1,"tw-form-control",3,"change"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["id","robotSelectionForm",1,"tw-mt-5",3,"formGroup"],["id","robotAppFlow","formControlName","robotAppSelection",1,"tw-form-control",3,"change"],["id","nativeSelectionFrom",1,"tw-mt-5",3,"formGroup"],["id","nativeAppFlow","formControlName","nativeAppSelection",1,"tw-form-control",3,"change"]],template:function(Tt,_t){if(1&Tt&&(g.j41(0,"div",3),g.nrm(1,"p",4),g.nI1(2,"translate"),g.k0s(),g.j41(3,"app-type-selector",5),g.bIt("select",function(Y){return _t.setActive(Y)}),g.k0s(),g.DNE(4,H,3,3),g.j41(5,"div",6)(6,"h2",7),g.nrm(7,"span",8),g.DNE(8,M,3,3)(9,V,3,3)(10,U,3,3)(11,G,3,3)(12,ie,3,3)(13,le,3,3)(14,L,3,3)(15,J,3,3)(16,te,3,3)(17,I,3,3)(18,oe,3,3)(19,z,3,3),g.k0s(),g.DNE(20,_e,2,3)(21,Pe,2,3)(22,Re,2,3)(23,ke,2,3)(24,Je,2,3)(25,Te,2,3)(26,we,2,3)(27,de,2,3)(28,Ve,2,3)(29,Ae,2,3)(30,rt,2,3)(31,Be,2,3),g.k0s()),2&Tt){let X,Y;g.R7$(),g.Y8G("innerHTML",g.bMT(2,7,"Clients.Home.Description"),g.npT),g.R7$(2),g.Y8G("activeType",_t.activeType)("isStarterMode",_t.isStarterMode)("options",_t.buildOptionsArray()),g.R7$(),g.vxM(4,_t.isDuende?4:-1),g.R7$(4),g.vxM(8,(X=_t.activeType)===_t.wizardTypes.Home?8:X===_t.wizardTypes.SinglePageApplication?9:X===_t.wizardTypes.WebApplication?10:X===_t.wizardTypes.PKCEWebApplication?11:X===_t.wizardTypes.NativeApplication?12:X===_t.wizardTypes.PKCENativeApplication?13:X===_t.wizardTypes.RobotApplication?14:X===_t.wizardTypes.CIBARobotApplication?15:X===_t.wizardTypes.DeviceApplication?16:X===_t.wizardTypes.SamlApplication?17:X===_t.wizardTypes.WsFedApplication?18:X===_t.wizardTypes.LegacySinglePageApplication?19:-1),g.R7$(12),g.vxM(20,(Y=_t.activeType)===_t.wizardTypes.Home?20:Y===_t.wizardTypes.SinglePageApplication?21:Y===_t.wizardTypes.WebApplication?22:Y===_t.wizardTypes.PKCEWebApplication?23:Y===_t.wizardTypes.NativeApplication?24:Y===_t.wizardTypes.PKCENativeApplication?25:Y===_t.wizardTypes.RobotApplication?26:Y===_t.wizardTypes.CIBARobotApplication?27:Y===_t.wizardTypes.DeviceApplication?28:Y===_t.wizardTypes.SamlApplication?29:Y===_t.wizardTypes.WsFedApplication?30:Y===_t.wizardTypes.LegacySinglePageApplication?31:-1)}},dependencies:[f.Sq,f.bT,v.qT,v.xH,v.y7,v.wz,v.BC,v.cb,v.j4,v.JD,d.Y,E.N,m.D9],encapsulation:2})}}return Ye})()},5313:(qe,me,u)=>{"use strict";u.d(me,{w:()=>C});var n=u(9417),e=u(4438),_=u(177),g=u(8698),S=u(1780);function v(x,O){1&x&&(e.j41(0,"p"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&x&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.SloEndpoints")))}function f(x,O){1&x&&(e.j41(0,"p"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&x&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.AcsEndpoints")))}function d(x,O){1&x&&(e.j41(0,"p"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&x&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.ArsEndpoints")))}function E(x,O){1&x&&(e.j41(0,"option",13),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&x&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.Post")))}function m(x,O){1&x&&(e.j41(0,"option",14),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&x&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.Redirect")))}function F(x,O){1&x&&(e.j41(0,"option",15),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&x&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.Artifact")))}function w(x,O){1&x&&(e.j41(0,"option",16),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&x&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.Soap")))}let C=(()=>{class x{constructor(H){this.fb=H}hosted(){}ngOnInit(){const H=[n.k0.pattern("^https?://.*$")],M=[];"ACSEndpoint"===this.data.endpointType&&(H.push(n.k0.required),M.push(n.k0.required)),this.endpointForm=this.fb.group({location:["",H],index:[0,[n.k0.min(0),n.k0.max(99)]],binding:["ARSEndpoint"===this.data.endpointType?"urn:oasis:names:tc:SAML:2.0:bindings:SOAP":"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST",M]}),this.registerBindingValidation()}ngOnDestroy(){void 0!==this.valueChangesSub&&this.valueChangesSub.unsubscribe()}registerBindingValidation(){const H=this.endpointForm.get("location"),M=this.endpointForm.get("binding");this.valueChangesSub=H.valueChanges.subscribe(V=>{M.setValidators(V.length>0?n.k0.required:null),M.updateValueAndValidity()})}getStepSummary(){if(""!==this.endpointForm.get("location").value)return new Map([[this.data.endpointType,[`${this.endpointForm.get("location").value} - ${this.endpointForm.get("index").value} - ${this.endpointForm.get("binding").value}`]]])}getStepDTO(){if(""!==this.endpointForm.get("location").value){let H,M;switch(this.data.endpointType){case"SLOEndpoint":H="SLOBindingType",M="SLOEndpointIndex";break;case"ACSEndpoint":H="ACSBindingType",M="ACSEndpointIndex";break;default:H="ARSBindingType",M="ARSEndpointIndex"}const V=null==this.endpointForm.get("index").value?0:this.endpointForm.get("index").value;return{[this.data.endpointType]:this.endpointForm.get("location").value,[H]:this.endpointForm.get("binding").value,[M]:V}}}canNext(){return this.endpointForm.valid}static{this.\u0275fac=function(M){return new(M||x)(e.rXU(n.ze))}}static{this.\u0275cmp=e.VBU({type:x,selectors:[["app-endpoints"]],decls:16,vars:18,consts:[[1,"cms","tw-mb-6"],[4,"ngIf"],[3,"formGroup"],[3,"id","label","help"],["id","EndpointUrl","type","url","name","EndpointUrl","formControlName","location",1,"tw-form-control"],[1,"tw-form-select"],["id","EndpointBinding","formControlName","binding",1,"tw-form-control"],["value","urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST",4,"ngIf"],["value","urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect",4,"ngIf"],["value","urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Artifact",4,"ngIf"],["value","urn:oasis:names:tc:SAML:2.0:bindings:SOAP",4,"ngIf"],[3,"id","label","help","isLast"],["id","EndpointIndex","type","number","name","EndpointIndex","min","0","formControlName","index",1,"tw-form-control","tw-max-w-48"],["value","urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST"],["value","urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect"],["value","urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Artifact"],["value","urn:oasis:names:tc:SAML:2.0:bindings:SOAP"]],template:function(M,V){1&M&&(e.j41(0,"div",0),e.DNE(1,v,3,3,"p",1)(2,f,3,3,"p",1)(3,d,3,3,"p",1),e.k0s(),e.j41(4,"form",2)(5,"app-form-row",3),e.nrm(6,"input",4),e.k0s(),e.j41(7,"app-form-row",3)(8,"div",5)(9,"select",6),e.DNE(10,E,3,3,"option",7)(11,m,3,3,"option",8)(12,F,3,3,"option",9)(13,w,3,3,"option",10),e.k0s()()(),e.j41(14,"app-form-row",11),e.nrm(15,"input",12),e.k0s()()),2&M&&(e.R7$(),e.Y8G("ngIf","SLOEndpoint"==V.data.endpointType),e.R7$(),e.Y8G("ngIf","ACSEndpoint"==V.data.endpointType),e.R7$(),e.Y8G("ngIf","ARSEndpoint"==V.data.endpointType),e.R7$(),e.Y8G("formGroup",V.endpointForm),e.R7$(),e.Y8G("id","EndpointUrl")("label","Clients.Endpoint")("help","SLOEndpoint"==V.data.endpointType?"Clients.SloEndpointHelp":"ACSEndpoint"==V.data.endpointType?"Clients.AcsEndpointHelp":"Clients.ArsEndpointHelp"),e.R7$(2),e.Y8G("id","EndpointBinding")("label","Clients.BindingType")("help","Clients.BindingTypeHelp"),e.R7$(3),e.Y8G("ngIf","ARSEndpoint"!=V.data.endpointType),e.R7$(),e.Y8G("ngIf","ARSEndpoint"!=V.data.endpointType),e.R7$(),e.Y8G("ngIf","ARSEndpoint"!=V.data.endpointType),e.R7$(),e.Y8G("ngIf","ARSEndpoint"==V.data.endpointType),e.R7$(),e.Y8G("id","EndpointIndex")("label","Clients.Saml.Index")("help","Clients.IndexHelp")("isLast",!0))},dependencies:[_.bT,n.qT,n.xH,n.y7,n.me,n.Q0,n.wz,n.BC,n.cb,n.VZ,n.j4,n.JD,g.Y,S.D9],encapsulation:2})}}return x})()},2653:(qe,me,u)=>{"use strict";u.d(me,{f:()=>e});var n=u(4438);let e=(()=>{class _{constructor(){this.assignedIdentityResources=[],this.assignedProtectedResources=[]}static{this.\u0275fac=function(v){return new(v||_)}}static{this.\u0275prov=n.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})()},9947:(qe,me,u)=>{"use strict";u.d(me,{a:()=>G});var n=u(9417),e=u(177),_=u(1780),g=u(8400),S=u(1683),v=u(4179),f=u(2571),d=u(5826),E=u(7175),m=u(5847),F=u(779),w=u(534),C=u(6193),R=u(75),x=u(8389),O=u(2653),H=u(7677),M=u(5667),V=u(3843),U=u(4438);let G=(()=>{class ie{static{this.\u0275fac=function(J){return new(J||ie)}}static{this.\u0275mod=U.$C({type:ie})}static{this.\u0275inj=U.G2t({providers:[O.f,d.o,m.a,C.V],imports:[e.MD,n.YN,n.X1,g.qP,_.h,w.Ss,S.Y,F.Q_,v.z,f.A,E.c,R.U,x.w,H.N,M.g,V.G]})}}return ie})()},316:(qe,me,u)=>{"use strict";function n(e){const _=e.value;if(null==_)return{validEmail:!1};if(_.indexOf(" ")>-1)return{validEmail:!1};let g=!1;for(let S=0;S<_.length;S++)if("@"===e.value[S]){if(g||0===S||S===_.length-1)return{validEmail:!1};g=!0}return g?null:{validEmail:!1}}u.d(me,{D:()=>n})},3983:(qe,me,u)=>{"use strict";var n=u(345),e=u(4438),g=u(9417),S=u(1626),v=u(9969);function d(s){return new e.wOt(3e3,!1)}function Ut(s){switch(s.length){case 0:return new v.sf;case 1:return s[0];default:return new v.ui(s)}}function Tt(s,p,i=new Map,a=new Map){const l=[],D=[];let Q=-1,De=null;if(p.forEach(Qe=>{const pt=Qe.get("offset"),jt=pt==Q,ln=jt&&De||new Map;Qe.forEach((wn,En)=>{let Fn=En,On=wn;if("offset"!==En)switch(Fn=s.normalizePropertyName(Fn,l),On){case v.FX:On=i.get(En);break;case v.kp:On=a.get(En);break;default:On=s.normalizeStyleValue(En,Fn,On,l)}ln.set(Fn,On)}),jt||D.push(ln),De=ln,Q=pt}),l.length)throw function Re(s){return new e.wOt(3502,!1)}();return D}function _t(s,p,i,a){switch(p){case"start":s.onStart(()=>a(i&&X(i,"start",s)));break;case"done":s.onDone(()=>a(i&&X(i,"done",s)));break;case"destroy":s.onDestroy(()=>a(i&&X(i,"destroy",s)))}}function X(s,p,i){const D=Y(s.element,s.triggerName,s.fromState,s.toState,p||s.phaseName,i.totalTime??s.totalTime,!!i.disabled),Q=s._data;return null!=Q&&(D._data=Q),D}function Y(s,p,i,a,l="",D=0,Q){return{element:s,triggerName:p,fromState:i,toState:a,phaseName:l,totalTime:D,disabled:!!Q}}function ee(s,p,i){let a=s.get(p);return a||s.set(p,a=i),a}function Se(s){const p=s.indexOf(":");return[s.substring(1,p),s.slice(p+1)]}const Ee=typeof document>"u"?null:document.documentElement;function at(s){const p=s.parentNode||s.host||null;return p===Ee?null:p}let ot=null,Ft=!1;function tn(s,p){for(;p;){if(p===s)return!0;p=at(p)}return!1}function it(s,p,i){if(i)return Array.from(s.querySelectorAll(p));const a=s.querySelector(p);return a?[a]:[]}let ve=(()=>{class s{validateStyleProperty(i){return function ft(s){ot||(ot=function Wt(){return typeof document<"u"?document.body:null}()||{},Ft=!!ot.style&&"WebkitAppearance"in ot.style);let p=!0;return ot.style&&!function je(s){return"ebkit"==s.substring(1,6)}(s)&&(p=s in ot.style,!p&&Ft&&(p="Webkit"+s.charAt(0).toUpperCase()+s.slice(1)in ot.style)),p}(i)}matchesElement(i,a){return!1}containsElement(i,a){return tn(i,a)}getParentElement(i){return at(i)}query(i,a,l){return it(i,a,l)}computeStyle(i,a,l){return l||""}animate(i,a,l,D,Q,De=[],Qe){return new v.sf(l,D)}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac})}}return s})();class ae{static{this.NOOP=new ve}}class ${}const Ue=1e3,Pt="ng-enter",an="ng-leave",un="ng-trigger",Mn=".ng-trigger",kn="ng-animating",Bn=".ng-animating";function It(s){if("number"==typeof s)return s;const p=s.match(/^(-?[\.\d]+)(m?s)/);return!p||p.length<2?0:Rn(parseFloat(p[1]),p[2])}function Rn(s,p){return"s"===p?s*Ue:s}function Ht(s,p,i){return s.hasOwnProperty("duration")?s:function lt(s,p,i){let l,D=0,Q="";if("string"==typeof s){const De=s.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===De)return p.push(d()),{duration:0,delay:0,easing:""};l=Rn(parseFloat(De[1]),De[2]);const Qe=De[3];null!=Qe&&(D=Rn(parseFloat(Qe),De[4]));const pt=De[5];pt&&(Q=pt)}else l=s;if(!i){let De=!1,Qe=p.length;l<0&&(p.push(function E(){return new e.wOt(3100,!1)}()),De=!0),D<0&&(p.push(function m(){return new e.wOt(3101,!1)}()),De=!0),De&&p.splice(Qe,0,d())}return{duration:l,delay:D,easing:Q}}(s,p,i)}function kt(s,p,i){p.forEach((a,l)=>{const D=ut(l);i&&!i.has(l)&&i.set(l,s.style[D]),s.style[D]=a})}function nn(s,p){p.forEach((i,a)=>{const l=ut(a);s.style[l]=""})}function Tn(s){return Array.isArray(s)?1==s.length?s[0]:(0,v.K2)(s):s}const dn=new RegExp("{{\\s*(.+?)\\s*}}","g");function li(s){let p=[];if("string"==typeof s){let i;for(;i=dn.exec(s);)p.push(i[1]);dn.lastIndex=0}return p}function ci(s,p,i){const a=`${s}`,l=a.replace(dn,(D,Q)=>{let De=p[Q];return null==De&&(i.push(function w(s){return new e.wOt(3003,!1)}()),De=""),De.toString()});return l==a?s:l}const Rt=/-+([a-z0-9])/g;function ut(s){return s.replace(Rt,(...p)=>p[1].toUpperCase())}function yn(s,p,i){switch(p.type){case v.If.Trigger:return s.visitTrigger(p,i);case v.If.State:return s.visitState(p,i);case v.If.Transition:return s.visitTransition(p,i);case v.If.Sequence:return s.visitSequence(p,i);case v.If.Group:return s.visitGroup(p,i);case v.If.Animate:return s.visitAnimate(p,i);case v.If.Keyframes:return s.visitKeyframes(p,i);case v.If.Style:return s.visitStyle(p,i);case v.If.Reference:return s.visitReference(p,i);case v.If.AnimateChild:return s.visitAnimateChild(p,i);case v.If.AnimateRef:return s.visitAnimateRef(p,i);case v.If.Query:return s.visitQuery(p,i);case v.If.Stagger:return s.visitStagger(p,i);default:throw function C(s){return new e.wOt(3004,!1)}()}}function vn(s,p){return window.getComputedStyle(s)[p]}const zn=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class An extends ${normalizePropertyName(p,i){return ut(p)}normalizeStyleValue(p,i,a,l){let D="";const Q=a.toString().trim();if(zn.has(i)&&0!==a&&"0"!==a)if("number"==typeof a)D="px";else{const De=a.match(/^[+-]?[\d\.]+([a-z]*)$/);De&&0==De[1].length&&l.push(function R(s,p){return new e.wOt(3005,!1)}())}return Q+D}}const wi="*";const Si=new Set(["true","1"]),tt=new Set(["false","0"]);function Dt(s,p){const i=Si.has(s)||tt.has(s),a=Si.has(p)||tt.has(p);return(l,D)=>{let Q=s==wi||s==l,De=p==wi||p==D;return!Q&&i&&"boolean"==typeof l&&(Q=l?Si.has(s):tt.has(s)),!De&&a&&"boolean"==typeof D&&(De=D?Si.has(p):tt.has(p)),Q&&De}}const rn=new RegExp("s*:selfs*,?","g");function Qt(s,p,i,a){return new St(s).build(p,i,a)}class St{constructor(p){this._driver=p}build(p,i,a){const l=new ue(i);return this._resetContextStyleTimingState(l),yn(this,Tn(p),l)}_resetContextStyleTimingState(p){p.currentQuerySelector="",p.collectedStyles=new Map,p.collectedStyles.set("",new Map),p.currentTime=0}visitTrigger(p,i){let a=i.queryCount=0,l=i.depCount=0;const D=[],Q=[];return"@"==p.name.charAt(0)&&i.errors.push(function x(){return new e.wOt(3006,!1)}()),p.definitions.forEach(De=>{if(this._resetContextStyleTimingState(i),De.type==v.If.State){const Qe=De,pt=Qe.name;pt.toString().split(/\s*,\s*/).forEach(jt=>{Qe.name=jt,D.push(this.visitState(Qe,i))}),Qe.name=pt}else if(De.type==v.If.Transition){const Qe=this.visitTransition(De,i);a+=Qe.queryCount,l+=Qe.depCount,Q.push(Qe)}else i.errors.push(function O(){return new e.wOt(3007,!1)}())}),{type:v.If.Trigger,name:p.name,states:D,transitions:Q,queryCount:a,depCount:l,options:null}}visitState(p,i){const a=this.visitStyle(p.styles,i),l=p.options&&p.options.params||null;if(a.containsDynamicStyles){const D=new Set,Q=l||{};a.styles.forEach(De=>{De instanceof Map&&De.forEach(Qe=>{li(Qe).forEach(pt=>{Q.hasOwnProperty(pt)||D.add(pt)})})}),D.size&&i.errors.push(function H(s,p){return new e.wOt(3008,!1)}(0,D.values()))}return{type:v.If.State,name:p.name,style:a,options:l?{params:l}:null}}visitTransition(p,i){i.queryCount=0,i.depCount=0;const a=yn(this,Tn(p.animation),i),l=function pi(s,p){const i=[];return"string"==typeof s?s.split(/\s*,\s*/).forEach(a=>function Hi(s,p,i){if(":"==s[0]){const Qe=function ji(s,p){switch(s){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(i,a)=>parseFloat(a)>parseFloat(i);case":decrement":return(i,a)=>parseFloat(a)<parseFloat(i);default:return p.push(function oe(s){return new e.wOt(3016,!1)}()),"* => *"}}(s,i);if("function"==typeof Qe)return void p.push(Qe);s=Qe}const a=s.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==a||a.length<4)return i.push(function I(s){return new e.wOt(3015,!1)}()),p;const l=a[1],D=a[2],Q=a[3];p.push(Dt(l,Q)),"<"==D[0]&&(l!=wi||Q!=wi)&&p.push(Dt(Q,l))}(a,i,p)):i.push(s),i}(p.expr,i.errors);return{type:v.If.Transition,matchers:l,animation:a,queryCount:i.queryCount,depCount:i.depCount,options:Me(p.options)}}visitSequence(p,i){return{type:v.If.Sequence,steps:p.steps.map(a=>yn(this,a,i)),options:Me(p.options)}}visitGroup(p,i){const a=i.currentTime;let l=0;const D=p.steps.map(Q=>{i.currentTime=a;const De=yn(this,Q,i);return l=Math.max(l,i.currentTime),De});return i.currentTime=l,{type:v.If.Group,steps:D,options:Me(p.options)}}visitAnimate(p,i){const a=function he(s,p){if(s.hasOwnProperty("duration"))return s;if("number"==typeof s)return Et(Ht(s,p).duration,0,"");const i=s;if(i.split(/\s+/).some(D=>"{"==D.charAt(0)&&"{"==D.charAt(1))){const D=Et(0,0,"");return D.dynamic=!0,D.strValue=i,D}const l=Ht(i,p);return Et(l.duration,l.delay,l.easing)}(p.timings,i.errors);i.currentAnimateTimings=a;let l,D=p.styles?p.styles:(0,v.iF)({});if(D.type==v.If.Keyframes)l=this.visitKeyframes(D,i);else{let Q=p.styles,De=!1;if(!Q){De=!0;const pt={};a.easing&&(pt.easing=a.easing),Q=(0,v.iF)(pt)}i.currentTime+=a.duration+a.delay;const Qe=this.visitStyle(Q,i);Qe.isEmptyStep=De,l=Qe}return i.currentAnimateTimings=null,{type:v.If.Animate,timings:a,style:l,options:null}}visitStyle(p,i){const a=this._makeStyleAst(p,i);return this._validateStyleAst(a,i),a}_makeStyleAst(p,i){const a=[],l=Array.isArray(p.styles)?p.styles:[p.styles];for(let De of l)"string"==typeof De?De===v.kp?a.push(De):i.errors.push(new e.wOt(3002,!1)):a.push(new Map(Object.entries(De)));let D=!1,Q=null;return a.forEach(De=>{if(De instanceof Map&&(De.has("easing")&&(Q=De.get("easing"),De.delete("easing")),!D))for(let Qe of De.values())if(Qe.toString().indexOf("{{")>=0){D=!0;break}}),{type:v.If.Style,styles:a,easing:Q,offset:p.offset,containsDynamicStyles:D,options:null}}_validateStyleAst(p,i){const a=i.currentAnimateTimings;let l=i.currentTime,D=i.currentTime;a&&D>0&&(D-=a.duration+a.delay),p.styles.forEach(Q=>{"string"!=typeof Q&&Q.forEach((De,Qe)=>{const pt=i.collectedStyles.get(i.currentQuerySelector),jt=pt.get(Qe);let ln=!0;jt&&(D!=l&&D>=jt.startTime&&l<=jt.endTime&&(i.errors.push(function U(s,p,i,a,l){return new e.wOt(3010,!1)}()),ln=!1),D=jt.startTime),ln&&pt.set(Qe,{startTime:D,endTime:l}),i.options&&function Ln(s,p,i){const a=p.params||{},l=li(s);l.length&&l.forEach(D=>{a.hasOwnProperty(D)||i.push(function F(s){return new e.wOt(3001,!1)}())})}(De,i.options,i.errors)})})}visitKeyframes(p,i){const a={type:v.If.Keyframes,styles:[],options:null};if(!i.currentAnimateTimings)return i.errors.push(function G(){return new e.wOt(3011,!1)}()),a;let D=0;const Q=[];let De=!1,Qe=!1,pt=0;const jt=p.steps.map(bi=>{const Ai=this._makeStyleAst(bi,i);let rr=null!=Ai.offset?Ai.offset:function q(s){if("string"==typeof s)return null;let p=null;if(Array.isArray(s))s.forEach(i=>{if(i instanceof Map&&i.has("offset")){const a=i;p=parseFloat(a.get("offset")),a.delete("offset")}});else if(s instanceof Map&&s.has("offset")){const i=s;p=parseFloat(i.get("offset")),i.delete("offset")}return p}(Ai.styles),Ci=0;return null!=rr&&(D++,Ci=Ai.offset=rr),Qe=Qe||Ci<0||Ci>1,De=De||Ci<pt,pt=Ci,Q.push(Ci),Ai});Qe&&i.errors.push(function ie(){return new e.wOt(3012,!1)}()),De&&i.errors.push(function le(){return new e.wOt(3200,!1)}());const ln=p.steps.length;let wn=0;D>0&&D<ln?i.errors.push(function L(){return new e.wOt(3202,!1)}()):0==D&&(wn=1/(ln-1));const En=ln-1,Fn=i.currentTime,On=i.currentAnimateTimings,oi=On.duration;return jt.forEach((bi,Ai)=>{const rr=wn>0?Ai==En?1:wn*Ai:Q[Ai],Ci=rr*oi;i.currentTime=Fn+On.delay+Ci,On.duration=Ci,this._validateStyleAst(bi,i),bi.offset=rr,a.styles.push(bi)}),a}visitReference(p,i){return{type:v.If.Reference,animation:yn(this,Tn(p.animation),i),options:Me(p.options)}}visitAnimateChild(p,i){return i.depCount++,{type:v.If.AnimateChild,options:Me(p.options)}}visitAnimateRef(p,i){return{type:v.If.AnimateRef,animation:this.visitReference(p.animation,i),options:Me(p.options)}}visitQuery(p,i){const a=i.currentQuerySelector,l=p.options||{};i.queryCount++,i.currentQuery=p;const[D,Q]=function yt(s){const p=!!s.split(/\s*,\s*/).find(i=>":self"==i);return p&&(s=s.replace(rn,"")),s=s.replace(/@\*/g,Mn).replace(/@\w+/g,i=>Mn+"-"+i.slice(1)).replace(/:animating/g,Bn),[s,p]}(p.selector);i.currentQuerySelector=a.length?a+" "+D:D,ee(i.collectedStyles,i.currentQuerySelector,new Map);const De=yn(this,Tn(p.animation),i);return i.currentQuery=null,i.currentQuerySelector=a,{type:v.If.Query,selector:D,limit:l.limit||0,optional:!!l.optional,includeSelf:Q,animation:De,originalSelector:p.selector,options:Me(p.options)}}visitStagger(p,i){i.currentQuery||i.errors.push(function J(){return new e.wOt(3013,!1)}());const a="full"===p.timings?{duration:0,delay:0,easing:"full"}:Ht(p.timings,i.errors,!0);return{type:v.If.Stagger,animation:yn(this,Tn(p.animation),i),timings:a,options:null}}}class ue{constructor(p){this.errors=p,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Me(s){return s?(s={...s}).params&&(s.params=function Oe(s){return s?{...s}:null}(s.params)):s={},s}function Et(s,p,i){return{duration:s,delay:p,easing:i}}function Kt(s,p,i,a,l,D,Q=null,De=!1){return{type:1,element:s,keyframes:p,preStyleProps:i,postStyleProps:a,duration:l,delay:D,totalTime:l+D,easing:Q,subTimeline:De}}class hn{constructor(){this._map=new Map}get(p){return this._map.get(p)||[]}append(p,i){let a=this._map.get(p);a||this._map.set(p,a=[]),a.push(...i)}has(p){return this._map.has(p)}clear(){this._map.clear()}}const _i=new RegExp(":enter","g"),di=new RegExp(":leave","g");function Yi(s,p,i,a,l,D=new Map,Q=new Map,De,Qe,pt=[]){return(new Ar).buildKeyframes(s,p,i,a,l,D,Q,De,Qe,pt)}class Ar{buildKeyframes(p,i,a,l,D,Q,De,Qe,pt,jt=[]){pt=pt||new hn;const ln=new ri(p,i,pt,l,D,jt,[]);ln.options=Qe;const wn=Qe.delay?It(Qe.delay):0;ln.currentTimeline.delayNextStep(wn),ln.currentTimeline.setStyles([Q],null,ln.errors,Qe),yn(this,a,ln);const En=ln.timelines.filter(Fn=>Fn.containsAnimation());if(En.length&&De.size){let Fn;for(let On=En.length-1;On>=0;On--){const oi=En[On];if(oi.element===i){Fn=oi;break}}Fn&&!Fn.allowOnlyTimelineStyles()&&Fn.setStyles([De],null,ln.errors,Qe)}return En.length?En.map(Fn=>Fn.buildKeyframes()):[Kt(i,[],[],[],0,wn,"",!1)]}visitTrigger(p,i){}visitState(p,i){}visitTransition(p,i){}visitAnimateChild(p,i){const a=i.subInstructions.get(i.element);if(a){const l=i.createSubContext(p.options),D=i.currentTimeline.currentTime,Q=this._visitSubInstructions(a,l,l.options);D!=Q&&i.transformIntoNewTimeline(Q)}i.previousNode=p}visitAnimateRef(p,i){const a=i.createSubContext(p.options);a.transformIntoNewTimeline(),this._applyAnimationRefDelays([p.options,p.animation.options],i,a),this.visitReference(p.animation,a),i.transformIntoNewTimeline(a.currentTimeline.currentTime),i.previousNode=p}_applyAnimationRefDelays(p,i,a){for(const l of p){const D=l?.delay;if(D){const Q="number"==typeof D?D:It(ci(D,l?.params??{},i.errors));a.delayNextStep(Q)}}}_visitSubInstructions(p,i,a){let D=i.currentTimeline.currentTime;const Q=null!=a.duration?It(a.duration):null,De=null!=a.delay?It(a.delay):null;return 0!==Q&&p.forEach(Qe=>{const pt=i.appendInstructionToTimeline(Qe,Q,De);D=Math.max(D,pt.duration+pt.delay)}),D}visitReference(p,i){i.updateOptions(p.options,!0),yn(this,p.animation,i),i.previousNode=p}visitSequence(p,i){const a=i.subContextCount;let l=i;const D=p.options;if(D&&(D.params||D.delay)&&(l=i.createSubContext(D),l.transformIntoNewTimeline(),null!=D.delay)){l.previousNode.type==v.If.Style&&(l.currentTimeline.snapshotCurrentStyles(),l.previousNode=Gn);const Q=It(D.delay);l.delayNextStep(Q)}p.steps.length&&(p.steps.forEach(Q=>yn(this,Q,l)),l.currentTimeline.applyStylesToKeyframe(),l.subContextCount>a&&l.transformIntoNewTimeline()),i.previousNode=p}visitGroup(p,i){const a=[];let l=i.currentTimeline.currentTime;const D=p.options&&p.options.delay?It(p.options.delay):0;p.steps.forEach(Q=>{const De=i.createSubContext(p.options);D&&De.delayNextStep(D),yn(this,Q,De),l=Math.max(l,De.currentTimeline.currentTime),a.push(De.currentTimeline)}),a.forEach(Q=>i.currentTimeline.mergeTimelineCollectedStyles(Q)),i.transformIntoNewTimeline(l),i.previousNode=p}_visitTiming(p,i){if(p.dynamic){const a=p.strValue;return Ht(i.params?ci(a,i.params,i.errors):a,i.errors)}return{duration:p.duration,delay:p.delay,easing:p.easing}}visitAnimate(p,i){const a=i.currentAnimateTimings=this._visitTiming(p.timings,i),l=i.currentTimeline;a.delay&&(i.incrementTime(a.delay),l.snapshotCurrentStyles());const D=p.style;D.type==v.If.Keyframes?this.visitKeyframes(D,i):(i.incrementTime(a.duration),this.visitStyle(D,i),l.applyStylesToKeyframe()),i.currentAnimateTimings=null,i.previousNode=p}visitStyle(p,i){const a=i.currentTimeline,l=i.currentAnimateTimings;!l&&a.hasCurrentStyleProperties()&&a.forwardFrame();const D=l&&l.easing||p.easing;p.isEmptyStep?a.applyEmptyStep(D):a.setStyles(p.styles,D,i.errors,i.options),i.previousNode=p}visitKeyframes(p,i){const a=i.currentAnimateTimings,l=i.currentTimeline.duration,D=a.duration,De=i.createSubContext().currentTimeline;De.easing=a.easing,p.styles.forEach(Qe=>{De.forwardTime((Qe.offset||0)*D),De.setStyles(Qe.styles,Qe.easing,i.errors,i.options),De.applyStylesToKeyframe()}),i.currentTimeline.mergeTimelineCollectedStyles(De),i.transformIntoNewTimeline(l+D),i.previousNode=p}visitQuery(p,i){const a=i.currentTimeline.currentTime,l=p.options||{},D=l.delay?It(l.delay):0;D&&(i.previousNode.type===v.If.Style||0==a&&i.currentTimeline.hasCurrentStyleProperties())&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Gn);let Q=a;const De=i.invokeQuery(p.selector,p.originalSelector,p.limit,p.includeSelf,!!l.optional,i.errors);i.currentQueryTotal=De.length;let Qe=null;De.forEach((pt,jt)=>{i.currentQueryIndex=jt;const ln=i.createSubContext(p.options,pt);D&&ln.delayNextStep(D),pt===i.element&&(Qe=ln.currentTimeline),yn(this,p.animation,ln),ln.currentTimeline.applyStylesToKeyframe(),Q=Math.max(Q,ln.currentTimeline.currentTime)}),i.currentQueryIndex=0,i.currentQueryTotal=0,i.transformIntoNewTimeline(Q),Qe&&(i.currentTimeline.mergeTimelineCollectedStyles(Qe),i.currentTimeline.snapshotCurrentStyles()),i.previousNode=p}visitStagger(p,i){const a=i.parentContext,l=i.currentTimeline,D=p.timings,Q=Math.abs(D.duration),De=Q*(i.currentQueryTotal-1);let Qe=Q*i.currentQueryIndex;switch(D.duration<0?"reverse":D.easing){case"reverse":Qe=De-Qe;break;case"full":Qe=a.currentStaggerTime}const jt=i.currentTimeline;Qe&&jt.delayNextStep(Qe);const ln=jt.currentTime;yn(this,p.animation,i),i.previousNode=p,a.currentStaggerTime=l.currentTime-ln+(l.startTime-a.currentTimeline.startTime)}}const Gn={};class ri{constructor(p,i,a,l,D,Q,De,Qe){this._driver=p,this.element=i,this.subInstructions=a,this._enterClassName=l,this._leaveClassName=D,this.errors=Q,this.timelines=De,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Gn,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Qe||new cr(this._driver,i,0),De.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(p,i){if(!p)return;const a=p;let l=this.options;null!=a.duration&&(l.duration=It(a.duration)),null!=a.delay&&(l.delay=It(a.delay));const D=a.params;if(D){let Q=l.params;Q||(Q=this.options.params={}),Object.keys(D).forEach(De=>{(!i||!Q.hasOwnProperty(De))&&(Q[De]=ci(D[De],Q,this.errors))})}}_copyOptions(){const p={};if(this.options){const i=this.options.params;if(i){const a=p.params={};Object.keys(i).forEach(l=>{a[l]=i[l]})}}return p}createSubContext(p=null,i,a){const l=i||this.element,D=new ri(this._driver,l,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(l,a||0));return D.previousNode=this.previousNode,D.currentAnimateTimings=this.currentAnimateTimings,D.options=this._copyOptions(),D.updateOptions(p),D.currentQueryIndex=this.currentQueryIndex,D.currentQueryTotal=this.currentQueryTotal,D.parentContext=this,this.subContextCount++,D}transformIntoNewTimeline(p){return this.previousNode=Gn,this.currentTimeline=this.currentTimeline.fork(this.element,p),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(p,i,a){const l={duration:i??p.duration,delay:this.currentTimeline.currentTime+(a??0)+p.delay,easing:""},D=new Mi(this._driver,p.element,p.keyframes,p.preStyleProps,p.postStyleProps,l,p.stretchStartingKeyframe);return this.timelines.push(D),l}incrementTime(p){this.currentTimeline.forwardTime(this.currentTimeline.duration+p)}delayNextStep(p){p>0&&this.currentTimeline.delayNextStep(p)}invokeQuery(p,i,a,l,D,Q){let De=[];if(l&&De.push(this.element),p.length>0){p=(p=p.replace(_i,"."+this._enterClassName)).replace(di,"."+this._leaveClassName);let pt=this._driver.query(this.element,p,1!=a);0!==a&&(pt=a<0?pt.slice(pt.length+a,pt.length):pt.slice(0,a)),De.push(...pt)}return!D&&0==De.length&&Q.push(function te(s){return new e.wOt(3014,!1)}()),De}}class cr{constructor(p,i,a,l){this._driver=p,this.element=i,this.startTime=a,this._elementTimelineStylesLookup=l,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(i),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(i,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(p){const i=1===this._keyframes.size&&this._pendingStyles.size;this.duration||i?(this.forwardTime(this.currentTime+p),i&&this.snapshotCurrentStyles()):this.startTime+=p}fork(p,i){return this.applyStylesToKeyframe(),new cr(this._driver,p,i||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(p){this.applyStylesToKeyframe(),this.duration=p,this._loadKeyframe()}_updateStyle(p,i){this._localTimelineStyles.set(p,i),this._globalTimelineStyles.set(p,i),this._styleSummary.set(p,{time:this.currentTime,value:i})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(p){p&&this._previousKeyframe.set("easing",p);for(let[i,a]of this._globalTimelineStyles)this._backFill.set(i,a||v.kp),this._currentKeyframe.set(i,v.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(p,i,a,l){i&&this._previousKeyframe.set("easing",i);const D=l&&l.params||{},Q=function Gs(s,p){const i=new Map;let a;return s.forEach(l=>{if("*"===l){a??=p.keys();for(let D of a)i.set(D,v.kp)}else for(let[D,Q]of l)i.set(D,Q)}),i}(p,this._globalTimelineStyles);for(let[De,Qe]of Q){const pt=ci(Qe,D,a);this._pendingStyles.set(De,pt),this._localTimelineStyles.has(De)||this._backFill.set(De,this._globalTimelineStyles.get(De)??v.kp),this._updateStyle(De,pt)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((p,i)=>{this._currentKeyframe.set(i,p)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((p,i)=>{this._currentKeyframe.has(i)||this._currentKeyframe.set(i,p)}))}snapshotCurrentStyles(){for(let[p,i]of this._localTimelineStyles)this._pendingStyles.set(p,i),this._updateStyle(p,i)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const p=[];for(let i in this._currentKeyframe)p.push(i);return p}mergeTimelineCollectedStyles(p){p._styleSummary.forEach((i,a)=>{const l=this._styleSummary.get(a);(!l||i.time>l.time)&&this._updateStyle(a,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const p=new Set,i=new Set,a=1===this._keyframes.size&&0===this.duration;let l=[];this._keyframes.forEach((De,Qe)=>{const pt=new Map([...this._backFill,...De]);pt.forEach((jt,ln)=>{jt===v.FX?p.add(ln):jt===v.kp&&i.add(ln)}),a||pt.set("offset",Qe/this.duration),l.push(pt)});const D=[...p.values()],Q=[...i.values()];if(a){const De=l[0],Qe=new Map(De);De.set("offset",0),Qe.set("offset",1),l=[De,Qe]}return Kt(this.element,l,D,Q,this.duration,this.startTime,this.easing,!1)}}class Mi extends cr{constructor(p,i,a,l,D,Q,De=!1){super(p,i,Q.delay),this.keyframes=a,this.preStyleProps=l,this.postStyleProps=D,this._stretchStartingKeyframe=De,this.timings={duration:Q.duration,delay:Q.delay,easing:Q.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let p=this.keyframes,{delay:i,duration:a,easing:l}=this.timings;if(this._stretchStartingKeyframe&&i){const D=[],Q=a+i,De=i/Q,Qe=new Map(p[0]);Qe.set("offset",0),D.push(Qe);const pt=new Map(p[0]);pt.set("offset",xr(De)),D.push(pt);const jt=p.length-1;for(let ln=1;ln<=jt;ln++){let wn=new Map(p[ln]);const En=wn.get("offset");wn.set("offset",xr((i+En*a)/Q)),D.push(wn)}a=Q,i=0,l="",p=D}return Kt(this.element,p,this.preStyleProps,this.postStyleProps,a,i,l,!0)}}function xr(s,p=3){const i=Math.pow(10,p-1);return Math.round(s*i)/i}function ms(s,p,i,a,l,D,Q,De,Qe,pt,jt,ln,wn){return{type:0,element:s,triggerName:p,isRemovalTransition:l,fromState:i,fromStyles:D,toState:a,toStyles:Q,timelines:De,queriedElements:Qe,preStyleProps:pt,postStyleProps:jt,totalTime:ln,errors:wn}}const ks={};class vi{constructor(p,i,a){this._triggerName=p,this.ast=i,this._stateStyles=a}match(p,i,a,l){return function gs(s,p,i,a,l){return s.some(D=>D(p,i,a,l))}(this.ast.matchers,p,i,a,l)}buildStyles(p,i,a){let l=this._stateStyles.get("*");return void 0!==p&&(l=this._stateStyles.get(p?.toString())||l),l?l.buildStyles(i,a):new Map}build(p,i,a,l,D,Q,De,Qe,pt,jt){const ln=[],wn=this.ast.options&&this.ast.options.params||ks,Fn=this.buildStyles(a,De&&De.params||ks,ln),On=Qe&&Qe.params||ks,oi=this.buildStyles(l,On,ln),bi=new Set,Ai=new Map,rr=new Map,Ci="void"===l,Ki={params:wr(On,wn),delay:this.ast.options?.delay},Xi=jt?[]:Yi(p,i,this.ast.animation,D,Q,Fn,oi,Ki,pt,ln);let Zi=0;return Xi.forEach(qi=>{Zi=Math.max(qi.duration+qi.delay,Zi)}),ln.length?ms(i,this._triggerName,a,l,Ci,Fn,oi,[],[],Ai,rr,Zi,ln):(Xi.forEach(qi=>{const ts=qi.element,ns=ee(Ai,ts,new Set);qi.preStyleProps.forEach(ao=>ns.add(ao));const Zs=ee(rr,ts,new Set);qi.postStyleProps.forEach(ao=>Zs.add(ao)),ts!==i&&bi.add(ts)}),ms(i,this._triggerName,a,l,Ci,Fn,oi,Xi,[...bi.values()],Ai,rr,Zi))}}function wr(s,p){const i={...p};return Object.entries(s).forEach(([a,l])=>{null!=l&&(i[a]=l)}),i}class Ns{constructor(p,i,a){this.styles=p,this.defaultParams=i,this.normalizer=a}buildStyles(p,i){const a=new Map,l=wr(p,this.defaultParams);return this.styles.styles.forEach(D=>{"string"!=typeof D&&D.forEach((Q,De)=>{Q&&(Q=ci(Q,l,i));const Qe=this.normalizer.normalizePropertyName(De,i);Q=this.normalizer.normalizeStyleValue(De,Qe,Q,i),a.set(De,Q)})}),a}}class vr{constructor(p,i,a){this.name=p,this.ast=i,this._normalizer=a,this.transitionFactories=[],this.states=new Map,i.states.forEach(l=>{this.states.set(l.name,new Ns(l.style,l.options&&l.options.params||{},a))}),Hs(this.states,"true","1"),Hs(this.states,"false","0"),i.transitions.forEach(l=>{this.transitionFactories.push(new vi(p,l,this.states))}),this.fallbackTransition=function Ni(s,p,i){return new vi(s,{type:v.If.Transition,animation:{type:v.If.Sequence,steps:[],options:null},matchers:[(Q,De)=>!0],options:null,queryCount:0,depCount:0},p)}(p,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(p,i,a,l){return this.transitionFactories.find(Q=>Q.match(p,i,a,l))||null}matchStyles(p,i,a){return this.fallbackTransition.buildStyles(p,i,a)}}function Hs(s,p,i){s.has(p)?s.has(i)||s.set(i,s.get(p)):s.has(i)&&s.set(p,s.get(i))}const ai=new hn;class Yo{constructor(p,i,a){this.bodyNode=p,this._driver=i,this._normalizer=a,this._animations=new Map,this._playersById=new Map,this.players=[]}register(p,i){const a=[],D=Qt(this._driver,i,a,[]);if(a.length)throw function ke(s){return new e.wOt(3503,!1)}();this._animations.set(p,D)}_buildPlayer(p,i,a){const l=p.element,D=Tt(this._normalizer,p.keyframes,i,a);return this._driver.animate(l,D,p.duration,p.delay,p.easing,[],!0)}create(p,i,a={}){const l=[],D=this._animations.get(p);let Q;const De=new Map;if(D?(Q=Yi(this._driver,i,D,Pt,an,new Map,new Map,a,ai,l),Q.forEach(jt=>{const ln=ee(De,jt.element,new Map);jt.postStyleProps.forEach(wn=>ln.set(wn,null))})):(l.push(function Je(){return new e.wOt(3300,!1)}()),Q=[]),l.length)throw function Te(s){return new e.wOt(3504,!1)}();De.forEach((jt,ln)=>{jt.forEach((wn,En)=>{jt.set(En,this._driver.computeStyle(ln,En,v.kp))})});const pt=Ut(Q.map(jt=>{const ln=De.get(jt.element);return this._buildPlayer(jt,new Map,ln)}));return this._playersById.set(p,pt),pt.onDestroy(()=>this.destroy(p)),this.players.push(pt),pt}destroy(p){const i=this._getPlayer(p);i.destroy(),this._playersById.delete(p);const a=this.players.indexOf(i);a>=0&&this.players.splice(a,1)}_getPlayer(p){const i=this._playersById.get(p);if(!i)throw function we(s){return new e.wOt(3301,!1)}();return i}listen(p,i,a,l){const D=Y(i,"","","");return _t(this._getPlayer(p),a,D,l),()=>{}}command(p,i,a,l){if("register"==a)return void this.register(p,l[0]);if("create"==a)return void this.create(p,i,l[0]||{});const D=this._getPlayer(p);switch(a){case"play":D.play();break;case"pause":D.pause();break;case"reset":D.reset();break;case"restart":D.restart();break;case"finish":D.finish();break;case"init":D.init();break;case"setPosition":D.setPosition(parseFloat(l[0]));break;case"destroy":this.destroy(p)}}}const $n="ng-animate-queued",pr="ng-animate-disabled",Lr=[],er={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},tr={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Wn="__ng_removed";class Gr{get params(){return this.options.params}constructor(p,i=""){this.namespaceId=i;const a=p&&p.hasOwnProperty("value");if(this.value=function yr(s){return s??null}(a?p.value:p),a){const{value:D,...Q}=p;this.options=Q}else this.options={};this.options.params||(this.options.params={})}absorbOptions(p){const i=p.params;if(i){const a=this.options.params;Object.keys(i).forEach(l=>{null==a[l]&&(a[l]=i[l])})}}}const ur="void",Nr=new Gr(ur);class rs{constructor(p,i,a){this.id=p,this.hostElement=i,this._engine=a,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+p,nr(i,this._hostClassName)}listen(p,i,a,l){if(!this._triggers.has(i))throw function de(s,p){return new e.wOt(3302,!1)}();if(null==a||0==a.length)throw function Ve(s){return new e.wOt(3303,!1)}();if(!function os(s){return"start"==s||"done"==s}(a))throw function Ae(s,p){return new e.wOt(3400,!1)}();const D=ee(this._elementListeners,p,[]),Q={name:i,phase:a,callback:l};D.push(Q);const De=ee(this._engine.statesByElement,p,new Map);return De.has(i)||(nr(p,un),nr(p,un+"-"+i),De.set(i,Nr)),()=>{this._engine.afterFlush(()=>{const Qe=D.indexOf(Q);Qe>=0&&D.splice(Qe,1),this._triggers.has(i)||De.delete(i)})}}register(p,i){return!this._triggers.has(p)&&(this._triggers.set(p,i),!0)}_getTrigger(p){const i=this._triggers.get(p);if(!i)throw function rt(s){return new e.wOt(3401,!1)}();return i}trigger(p,i,a,l=!0){const D=this._getTrigger(i),Q=new go(this.id,i,p);let De=this._engine.statesByElement.get(p);De||(nr(p,un),nr(p,un+"-"+i),this._engine.statesByElement.set(p,De=new Map));let Qe=De.get(i);const pt=new Gr(a,this.id);if(!(a&&a.hasOwnProperty("value"))&&Qe&&pt.absorbOptions(Qe.options),De.set(i,pt),Qe||(Qe=Nr),pt.value!==ur&&Qe.value===pt.value){if(!function to(s,p){const i=Object.keys(s),a=Object.keys(p);if(i.length!=a.length)return!1;for(let l=0;l<i.length;l++){const D=i[l];if(!p.hasOwnProperty(D)||s[D]!==p[D])return!1}return!0}(Qe.params,pt.params)){const On=[],oi=D.matchStyles(Qe.value,Qe.params,On),bi=D.matchStyles(pt.value,pt.params,On);On.length?this._engine.reportError(On):this._engine.afterFlush(()=>{nn(p,oi),kt(p,bi)})}return}const wn=ee(this._engine.playersByElement,p,[]);wn.forEach(On=>{On.namespaceId==this.id&&On.triggerName==i&&On.queued&&On.destroy()});let En=D.matchTransition(Qe.value,pt.value,p,pt.params),Fn=!1;if(!En){if(!l)return;En=D.fallbackTransition,Fn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:p,triggerName:i,transition:En,fromState:Qe,toState:pt,player:Q,isFallbackTransition:Fn}),Fn||(nr(p,$n),Q.onStart(()=>{Zr(p,$n)})),Q.onDone(()=>{let On=this.players.indexOf(Q);On>=0&&this.players.splice(On,1);const oi=this._engine.playersByElement.get(p);if(oi){let bi=oi.indexOf(Q);bi>=0&&oi.splice(bi,1)}}),this.players.push(Q),wn.push(Q),Q}deregister(p){this._triggers.delete(p),this._engine.statesByElement.forEach(i=>i.delete(p)),this._elementListeners.forEach((i,a)=>{this._elementListeners.set(a,i.filter(l=>l.name!=p))})}clearElementCache(p){this._engine.statesByElement.delete(p),this._elementListeners.delete(p);const i=this._engine.playersByElement.get(p);i&&(i.forEach(a=>a.destroy()),this._engine.playersByElement.delete(p))}_signalRemovalForInnerTriggers(p,i){const a=this._engine.driver.query(p,Mn,!0);a.forEach(l=>{if(l[Wn])return;const D=this._engine.fetchNamespacesByElement(l);D.size?D.forEach(Q=>Q.triggerLeaveAnimation(l,i,!1,!0)):this.clearElementCache(l)}),this._engine.afterFlushAnimationsDone(()=>a.forEach(l=>this.clearElementCache(l)))}triggerLeaveAnimation(p,i,a,l){const D=this._engine.statesByElement.get(p),Q=new Map;if(D){const De=[];if(D.forEach((Qe,pt)=>{if(Q.set(pt,Qe.value),this._triggers.has(pt)){const jt=this.trigger(p,pt,ur,l);jt&&De.push(jt)}}),De.length)return this._engine.markElementAsRemoved(this.id,p,!0,i,Q),a&&Ut(De).onDone(()=>this._engine.processLeaveNode(p)),!0}return!1}prepareLeaveAnimationListeners(p){const i=this._elementListeners.get(p),a=this._engine.statesByElement.get(p);if(i&&a){const l=new Set;i.forEach(D=>{const Q=D.name;if(l.has(Q))return;l.add(Q);const Qe=this._triggers.get(Q).fallbackTransition,pt=a.get(Q)||Nr,jt=new Gr(ur),ln=new go(this.id,Q,p);this._engine.totalQueuedPlayers++,this._queue.push({element:p,triggerName:Q,transition:Qe,fromState:pt,toState:jt,player:ln,isFallbackTransition:!0})})}}removeNode(p,i){const a=this._engine;if(p.childElementCount&&this._signalRemovalForInnerTriggers(p,i),this.triggerLeaveAnimation(p,i,!0))return;let l=!1;if(a.totalAnimations){const D=a.players.length?a.playersByQueriedElement.get(p):[];if(D&&D.length)l=!0;else{let Q=p;for(;Q=Q.parentNode;)if(a.statesByElement.get(Q)){l=!0;break}}}if(this.prepareLeaveAnimationListeners(p),l)a.markElementAsRemoved(this.id,p,!1,i);else{const D=p[Wn];(!D||D===er)&&(a.afterFlush(()=>this.clearElementCache(p)),a.destroyInnerAnimations(p),a._onRemovalComplete(p,i))}}insertNode(p,i){nr(p,this._hostClassName)}drainQueuedTransitions(p){const i=[];return this._queue.forEach(a=>{const l=a.player;if(l.destroyed)return;const D=a.element,Q=this._elementListeners.get(D);Q&&Q.forEach(De=>{if(De.name==a.triggerName){const Qe=Y(D,a.triggerName,a.fromState.value,a.toState.value);Qe._data=p,_t(a.player,De.phase,Qe,De.callback)}}),l.markedForDestroy?this._engine.afterFlush(()=>{l.destroy()}):i.push(a)}),this._queue=[],i.sort((a,l)=>{const D=a.transition.ast.depCount,Q=l.transition.ast.depCount;return 0==D||0==Q?D-Q:this._engine.driver.containsElement(a.element,l.element)?1:-1})}destroy(p){this.players.forEach(i=>i.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,p)}}class qs{_onRemovalComplete(p,i){this.onRemovalComplete(p,i)}constructor(p,i,a,l){this.bodyNode=p,this.driver=i,this._normalizer=a,this.scheduler=l,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(D,Q)=>{}}get queuedPlayers(){const p=[];return this._namespaceList.forEach(i=>{i.players.forEach(a=>{a.queued&&p.push(a)})}),p}createNamespace(p,i){const a=new rs(p,i,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,i)?this._balanceNamespaceList(a,i):(this.newHostElements.set(i,a),this.collectEnterElement(i)),this._namespaceLookup[p]=a}_balanceNamespaceList(p,i){const a=this._namespaceList,l=this.namespacesByHostElement;if(a.length-1>=0){let Q=!1,De=this.driver.getParentElement(i);for(;De;){const Qe=l.get(De);if(Qe){const pt=a.indexOf(Qe);a.splice(pt+1,0,p),Q=!0;break}De=this.driver.getParentElement(De)}Q||a.unshift(p)}else a.push(p);return l.set(i,p),p}register(p,i){let a=this._namespaceLookup[p];return a||(a=this.createNamespace(p,i)),a}registerTrigger(p,i,a){let l=this._namespaceLookup[p];l&&l.register(i,a)&&this.totalAnimations++}destroy(p,i){p&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const a=this._fetchNamespace(p);this.namespacesByHostElement.delete(a.hostElement);const l=this._namespaceList.indexOf(a);l>=0&&this._namespaceList.splice(l,1),a.destroy(i),delete this._namespaceLookup[p]}))}_fetchNamespace(p){return this._namespaceLookup[p]}fetchNamespacesByElement(p){const i=new Set,a=this.statesByElement.get(p);if(a)for(let l of a.values())if(l.namespaceId){const D=this._fetchNamespace(l.namespaceId);D&&i.add(D)}return i}trigger(p,i,a,l){if(ss(i)){const D=this._fetchNamespace(p);if(D)return D.trigger(i,a,l),!0}return!1}insertNode(p,i,a,l){if(!ss(i))return;const D=i[Wn];if(D&&D.setForRemoval){D.setForRemoval=!1,D.setForMove=!0;const Q=this.collectedLeaveElements.indexOf(i);Q>=0&&this.collectedLeaveElements.splice(Q,1)}if(p){const Q=this._fetchNamespace(p);Q&&Q.insertNode(i,a)}l&&this.collectEnterElement(i)}collectEnterElement(p){this.collectedEnterElements.push(p)}markElementAsDisabled(p,i){i?this.disabledNodes.has(p)||(this.disabledNodes.add(p),nr(p,pr)):this.disabledNodes.has(p)&&(this.disabledNodes.delete(p),Zr(p,pr))}removeNode(p,i,a){if(ss(i)){this.scheduler?.notify();const l=p?this._fetchNamespace(p):null;l?l.removeNode(i,a):this.markElementAsRemoved(p,i,!1,a);const D=this.namespacesByHostElement.get(i);D&&D.id!==p&&D.removeNode(i,a)}else this._onRemovalComplete(i,a)}markElementAsRemoved(p,i,a,l,D){this.collectedLeaveElements.push(i),i[Wn]={namespaceId:p,setForRemoval:l,hasAnimation:a,removedBeforeQueried:!1,previousTriggersValues:D}}listen(p,i,a,l,D){return ss(i)?this._fetchNamespace(p).listen(i,a,l,D):()=>{}}_buildInstruction(p,i,a,l,D){return p.transition.build(this.driver,p.element,p.fromState.value,p.toState.value,a,l,p.fromState.options,p.toState.options,i,D)}destroyInnerAnimations(p){let i=this.driver.query(p,Mn,!0);i.forEach(a=>this.destroyActiveAnimationsForElement(a)),0!=this.playersByQueriedElement.size&&(i=this.driver.query(p,Bn,!0),i.forEach(a=>this.finishActiveQueriedAnimationOnElement(a)))}destroyActiveAnimationsForElement(p){const i=this.playersByElement.get(p);i&&i.forEach(a=>{a.queued?a.markedForDestroy=!0:a.destroy()})}finishActiveQueriedAnimationOnElement(p){const i=this.playersByQueriedElement.get(p);i&&i.forEach(a=>a.finish())}whenRenderingDone(){return new Promise(p=>{if(this.players.length)return Ut(this.players).onDone(()=>p());p()})}processLeaveNode(p){const i=p[Wn];if(i&&i.setForRemoval){if(p[Wn]=er,i.namespaceId){this.destroyInnerAnimations(p);const a=this._fetchNamespace(i.namespaceId);a&&a.clearElementCache(p)}this._onRemovalComplete(p,i.setForRemoval)}p.classList?.contains(pr)&&this.markElementAsDisabled(p,!1),this.driver.query(p,".ng-animate-disabled",!0).forEach(a=>{this.markElementAsDisabled(a,!1)})}flush(p=-1){let i=[];if(this.newHostElements.size&&(this.newHostElements.forEach((a,l)=>this._balanceNamespaceList(a,l)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let a=0;a<this.collectedEnterElements.length;a++)nr(this.collectedEnterElements[a],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const a=[];try{i=this._flushAnimations(a,p)}finally{for(let l=0;l<a.length;l++)a[l]()}}else for(let a=0;a<this.collectedLeaveElements.length;a++)this.processLeaveNode(this.collectedLeaveElements[a]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(a=>a()),this._flushFns=[],this._whenQuietFns.length){const a=this._whenQuietFns;this._whenQuietFns=[],i.length?Ut(i).onDone(()=>{a.forEach(l=>l())}):a.forEach(l=>l())}}reportError(p){throw function Be(s){return new e.wOt(3402,!1)}()}_flushAnimations(p,i){const a=new hn,l=[],D=new Map,Q=[],De=new Map,Qe=new Map,pt=new Map,jt=new Set;this.disabledNodes.forEach(qn=>{jt.add(qn);const hi=this.driver.query(qn,".ng-animate-queued",!0);for(let Ri=0;Ri<hi.length;Ri++)jt.add(hi[Ri])});const ln=this.bodyNode,wn=Array.from(this.statesByElement.keys()),En=co(wn,this.collectedEnterElements),Fn=new Map;let On=0;En.forEach((qn,hi)=>{const Ri=Pt+On++;Fn.set(hi,Ri),qn.forEach(sr=>nr(sr,Ri))});const oi=[],bi=new Set,Ai=new Set;for(let qn=0;qn<this.collectedLeaveElements.length;qn++){const hi=this.collectedLeaveElements[qn],Ri=hi[Wn];Ri&&Ri.setForRemoval&&(oi.push(hi),bi.add(hi),Ri.hasAnimation?this.driver.query(hi,".ng-star-inserted",!0).forEach(sr=>bi.add(sr)):Ai.add(hi))}const rr=new Map,Ci=co(wn,Array.from(bi));Ci.forEach((qn,hi)=>{const Ri=an+On++;rr.set(hi,Ri),qn.forEach(sr=>nr(sr,Ri))}),p.push(()=>{En.forEach((qn,hi)=>{const Ri=Fn.get(hi);qn.forEach(sr=>Zr(sr,Ri))}),Ci.forEach((qn,hi)=>{const Ri=rr.get(hi);qn.forEach(sr=>Zr(sr,Ri))}),oi.forEach(qn=>{this.processLeaveNode(qn)})});const Ki=[],Xi=[];for(let qn=this._namespaceList.length-1;qn>=0;qn--)this._namespaceList[qn].drainQueuedTransitions(i).forEach(Ri=>{const sr=Ri.player,is=Ri.element;if(Ki.push(sr),this.collectedEnterElements.length){const $s=is[Wn];if($s&&$s.setForMove){if($s.previousTriggersValues&&$s.previousTriggersValues.has(Ri.triggerName)){const ua=$s.previousTriggersValues.get(Ri.triggerName),zo=this.statesByElement.get(Ri.element);if(zo&&zo.has(Ri.triggerName)){const Il=zo.get(Ri.triggerName);Il.value=ua,zo.set(Ri.triggerName,Il)}}return void sr.destroy()}}const Ko=!ln||!this.driver.containsElement(ln,is),lo=rr.get(is),ba=Fn.get(is),zi=this._buildInstruction(Ri,a,ba,lo,Ko);if(zi.errors&&zi.errors.length)return void Xi.push(zi);if(Ko)return sr.onStart(()=>nn(is,zi.fromStyles)),sr.onDestroy(()=>kt(is,zi.toStyles)),void l.push(sr);if(Ri.isFallbackTransition)return sr.onStart(()=>nn(is,zi.fromStyles)),sr.onDestroy(()=>kt(is,zi.toStyles)),void l.push(sr);const Po=[];zi.timelines.forEach($s=>{$s.stretchStartingKeyframe=!0,this.disabledNodes.has($s.element)||Po.push($s)}),zi.timelines=Po,a.append(is,zi.timelines),Q.push({instruction:zi,player:sr,element:is}),zi.queriedElements.forEach($s=>ee(De,$s,[]).push(sr)),zi.preStyleProps.forEach(($s,ua)=>{if($s.size){let zo=Qe.get(ua);zo||Qe.set(ua,zo=new Set),$s.forEach((Il,Pc)=>zo.add(Pc))}}),zi.postStyleProps.forEach(($s,ua)=>{let zo=pt.get(ua);zo||pt.set(ua,zo=new Set),$s.forEach((Il,Pc)=>zo.add(Pc))})});if(Xi.length){const qn=[];Xi.forEach(hi=>{qn.push(function Ye(s,p){return new e.wOt(3505,!1)}())}),Ki.forEach(hi=>hi.destroy()),this.reportError(qn)}const Zi=new Map,qi=new Map;Q.forEach(qn=>{const hi=qn.element;a.has(hi)&&(qi.set(hi,hi),this._beforeAnimationBuild(qn.player.namespaceId,qn.instruction,Zi))}),l.forEach(qn=>{const hi=qn.element;this._getPreviousPlayers(hi,!1,qn.namespaceId,qn.triggerName,null).forEach(sr=>{ee(Zi,hi,[]).push(sr),sr.destroy()})});const ts=oi.filter(qn=>Ao(qn,Qe,pt)),ns=new Map;Qr(ns,this.driver,Ai,pt,v.kp).forEach(qn=>{Ao(qn,Qe,pt)&&ts.push(qn)});const ao=new Map;En.forEach((qn,hi)=>{Qr(ao,this.driver,new Set(qn),Qe,v.FX)}),ts.forEach(qn=>{const hi=ns.get(qn),Ri=ao.get(qn);ns.set(qn,new Map([...hi?.entries()??[],...Ri?.entries()??[]]))});const mo=[],Hl=[],rl={};Q.forEach(qn=>{const{element:hi,player:Ri,instruction:sr}=qn;if(a.has(hi)){if(jt.has(hi))return Ri.onDestroy(()=>kt(hi,sr.toStyles)),Ri.disabled=!0,Ri.overrideTotalTime(sr.totalTime),void l.push(Ri);let is=rl;if(qi.size>1){let lo=hi;const ba=[];for(;lo=lo.parentNode;){const zi=qi.get(lo);if(zi){is=zi;break}ba.push(lo)}ba.forEach(zi=>qi.set(zi,is))}const Ko=this._buildAnimation(Ri.namespaceId,sr,Zi,D,ao,ns);if(Ri.setRealPlayer(Ko),is===rl)mo.push(Ri);else{const lo=this.playersByElement.get(is);lo&&lo.length&&(Ri.parentPlayer=Ut(lo)),l.push(Ri)}}else nn(hi,sr.fromStyles),Ri.onDestroy(()=>kt(hi,sr.toStyles)),Hl.push(Ri),jt.has(hi)&&l.push(Ri)}),Hl.forEach(qn=>{const hi=D.get(qn.element);if(hi&&hi.length){const Ri=Ut(hi);qn.setRealPlayer(Ri)}}),l.forEach(qn=>{qn.parentPlayer?qn.syncPlayerEvents(qn.parentPlayer):qn.destroy()});for(let qn=0;qn<oi.length;qn++){const hi=oi[qn],Ri=hi[Wn];if(Zr(hi,an),Ri&&Ri.hasAnimation)continue;let sr=[];if(De.size){let Ko=De.get(hi);Ko&&Ko.length&&sr.push(...Ko);let lo=this.driver.query(hi,Bn,!0);for(let ba=0;ba<lo.length;ba++){let zi=De.get(lo[ba]);zi&&zi.length&&sr.push(...zi)}}const is=sr.filter(Ko=>!Ko.destroyed);is.length?Bo(this,hi,is):this.processLeaveNode(hi)}return oi.length=0,mo.forEach(qn=>{this.players.push(qn),qn.onDone(()=>{qn.destroy();const hi=this.players.indexOf(qn);this.players.splice(hi,1)}),qn.play()}),mo}afterFlush(p){this._flushFns.push(p)}afterFlushAnimationsDone(p){this._whenQuietFns.push(p)}_getPreviousPlayers(p,i,a,l,D){let Q=[];if(i){const De=this.playersByQueriedElement.get(p);De&&(Q=De)}else{const De=this.playersByElement.get(p);if(De){const Qe=!D||D==ur;De.forEach(pt=>{pt.queued||!Qe&&pt.triggerName!=l||Q.push(pt)})}}return(a||l)&&(Q=Q.filter(De=>!(a&&a!=De.namespaceId||l&&l!=De.triggerName))),Q}_beforeAnimationBuild(p,i,a){const D=i.element,Q=i.isRemovalTransition?void 0:p,De=i.isRemovalTransition?void 0:i.triggerName;for(const Qe of i.timelines){const pt=Qe.element,jt=pt!==D,ln=ee(a,pt,[]);this._getPreviousPlayers(pt,jt,Q,De,i.toState).forEach(En=>{const Fn=En.getRealPlayer();Fn.beforeDestroy&&Fn.beforeDestroy(),En.destroy(),ln.push(En)})}nn(D,i.fromStyles)}_buildAnimation(p,i,a,l,D,Q){const De=i.triggerName,Qe=i.element,pt=[],jt=new Set,ln=new Set,wn=i.timelines.map(Fn=>{const On=Fn.element;jt.add(On);const oi=On[Wn];if(oi&&oi.removedBeforeQueried)return new v.sf(Fn.duration,Fn.delay);const bi=On!==Qe,Ai=function Xo(s){const p=[];return eo(s,p),p}((a.get(On)||Lr).map(Zi=>Zi.getRealPlayer())).filter(Zi=>!!Zi.element&&Zi.element===On),rr=D.get(On),Ci=Q.get(On),Ki=Tt(this._normalizer,Fn.keyframes,rr,Ci),Xi=this._buildPlayer(Fn,Ki,Ai);if(Fn.subTimeline&&l&&ln.add(On),bi){const Zi=new go(p,De,On);Zi.setRealPlayer(Xi),pt.push(Zi)}return Xi});pt.forEach(Fn=>{ee(this.playersByQueriedElement,Fn.element,[]).push(Fn),Fn.onDone(()=>function Ss(s,p,i){let a=s.get(p);if(a){if(a.length){const l=a.indexOf(i);a.splice(l,1)}0==a.length&&s.delete(p)}return a}(this.playersByQueriedElement,Fn.element,Fn))}),jt.forEach(Fn=>nr(Fn,kn));const En=Ut(wn);return En.onDestroy(()=>{jt.forEach(Fn=>Zr(Fn,kn)),kt(Qe,i.toStyles)}),ln.forEach(Fn=>{ee(l,Fn,[]).push(En)}),En}_buildPlayer(p,i,a){return i.length>0?this.driver.animate(p.element,i,p.duration,p.delay,p.easing,a):new v.sf(p.duration,p.delay)}}class go{constructor(p,i,a){this.namespaceId=p,this.triggerName=i,this.element=a,this._player=new v.sf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(p){this._containsRealPlayer||(this._player=p,this._queuedCallbacks.forEach((i,a)=>{i.forEach(l=>_t(p,a,void 0,l))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(p.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(p){this.totalTime=p}syncPlayerEvents(p){const i=this._player;i.triggerCallback&&p.onStart(()=>i.triggerCallback("start")),p.onDone(()=>this.finish()),p.onDestroy(()=>this.destroy())}_queueEvent(p,i){ee(this._queuedCallbacks,p,[]).push(i)}onDone(p){this.queued&&this._queueEvent("done",p),this._player.onDone(p)}onStart(p){this.queued&&this._queueEvent("start",p),this._player.onStart(p)}onDestroy(p){this.queued&&this._queueEvent("destroy",p),this._player.onDestroy(p)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(p){this.queued||this._player.setPosition(p)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(p){const i=this._player;i.triggerCallback&&i.triggerCallback(p)}}function ss(s){return s&&1===s.nodeType}function Ca(s,p){const i=s.style.display;return s.style.display=p??"none",i}function Qr(s,p,i,a,l){const D=[];i.forEach(Qe=>D.push(Ca(Qe)));const Q=[];a.forEach((Qe,pt)=>{const jt=new Map;Qe.forEach(ln=>{const wn=p.computeStyle(pt,ln,l);jt.set(ln,wn),(!wn||0==wn.length)&&(pt[Wn]=tr,Q.push(pt))}),s.set(pt,jt)});let De=0;return i.forEach(Qe=>Ca(Qe,D[De++])),Q}function co(s,p){const i=new Map;if(s.forEach(De=>i.set(De,[])),0==p.length)return i;const l=new Set(p),D=new Map;function Q(De){if(!De)return 1;let Qe=D.get(De);if(Qe)return Qe;const pt=De.parentNode;return Qe=i.has(pt)?pt:l.has(pt)?1:Q(pt),D.set(De,Qe),Qe}return p.forEach(De=>{const Qe=Q(De);1!==Qe&&i.get(Qe).push(De)}),i}function nr(s,p){s.classList?.add(p)}function Zr(s,p){s.classList?.remove(p)}function Bo(s,p,i){Ut(i).onDone(()=>s.processLeaveNode(p))}function eo(s,p){for(let i=0;i<s.length;i++){const a=s[i];a instanceof v.ui?eo(a.players,p):p.push(a)}}function Ao(s,p,i){const a=i.get(s);if(!a)return!1;let l=p.get(s);return l?a.forEach(D=>l.add(D)):p.set(s,a),i.delete(s),!0}class Es{constructor(p,i,a,l){this._driver=i,this._normalizer=a,this._triggerCache={},this.onRemovalComplete=(D,Q)=>{},this._transitionEngine=new qs(p.body,i,a,l),this._timelineEngine=new Yo(p.body,i,a),this._transitionEngine.onRemovalComplete=(D,Q)=>this.onRemovalComplete(D,Q)}registerTrigger(p,i,a,l,D){const Q=p+"-"+l;let De=this._triggerCache[Q];if(!De){const Qe=[],jt=Qt(this._driver,D,Qe,[]);if(Qe.length)throw function Pe(s,p){return new e.wOt(3404,!1)}();De=function gr(s,p,i){return new vr(s,p,i)}(l,jt,this._normalizer),this._triggerCache[Q]=De}this._transitionEngine.registerTrigger(i,l,De)}register(p,i){this._transitionEngine.register(p,i)}destroy(p,i){this._transitionEngine.destroy(p,i)}onInsert(p,i,a,l){this._transitionEngine.insertNode(p,i,a,l)}onRemove(p,i,a){this._transitionEngine.removeNode(p,i,a)}disableAnimations(p,i){this._transitionEngine.markElementAsDisabled(p,i)}process(p,i,a,l){if("@"==a.charAt(0)){const[D,Q]=Se(a);this._timelineEngine.command(D,i,Q,l)}else this._transitionEngine.trigger(p,i,a,l)}listen(p,i,a,l,D){if("@"==a.charAt(0)){const[Q,De]=Se(a);return this._timelineEngine.listen(Q,i,De,D)}return this._transitionEngine.listen(p,i,a,l,D)}flush(p=-1){this._transitionEngine.flush(p)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(p){this._transitionEngine.afterFlushAnimationsDone(p)}}class or{static{this.initialStylesByElement=new WeakMap}constructor(p,i,a){this._element=p,this._startStyles=i,this._endStyles=a,this._state=0;let l=or.initialStylesByElement.get(p);l||or.initialStylesByElement.set(p,l=new Map),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&kt(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(kt(this._element,this._initialStyles),this._endStyles&&(kt(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(or.initialStylesByElement.delete(this._element),this._startStyles&&(nn(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(nn(this._element,this._endStyles),this._endStyles=null),kt(this._element,this._initialStyles),this._state=3)}}function Fr(s){let p=null;return s.forEach((i,a)=>{(function as(s){return"display"===s||"position"===s})(a)&&(p=p||new Map,p.set(a,i))}),p}class no{constructor(p,i,a,l){this.element=p,this.keyframes=i,this.options=a,this._specialStyles=l,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=a.duration,this._delay=a.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(p=>p()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const p=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,p,this.options),this._finalKeyframe=p.length?p[p.length-1]:new Map;const i=()=>this._onFinish();this.domPlayer.addEventListener("finish",i),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",i)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(p){const i=[];return p.forEach(a=>{i.push(Object.fromEntries(a))}),i}_triggerWebAnimation(p,i,a){return p.animate(this._convertKeyframesToObject(i),a)}onStart(p){this._originalOnStartFns.push(p),this._onStartFns.push(p)}onDone(p){this._originalOnDoneFns.push(p),this._onDoneFns.push(p)}onDestroy(p){this._onDestroyFns.push(p)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(p=>p()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(p=>p()),this._onDestroyFns=[])}setPosition(p){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=p*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const p=new Map;this.hasStarted()&&this._finalKeyframe.forEach((a,l)=>{"offset"!==l&&p.set(l,this._finished?a:vn(this.element,l))}),this.currentSnapshot=p}triggerCallback(p){const i="start"===p?this._onStartFns:this._onDoneFns;i.forEach(a=>a()),i.length=0}}class wa{validateStyleProperty(p){return!0}validateAnimatableStyleProperty(p){return!0}matchesElement(p,i){return!1}containsElement(p,i){return tn(p,i)}getParentElement(p){return at(p)}query(p,i,a){return it(p,i,a)}computeStyle(p,i,a){return vn(p,i)}animate(p,i,a,l,D,Q=[]){const Qe={duration:a,delay:l,fill:0==l?"both":"forwards"};D&&(Qe.easing=D);const pt=new Map,jt=Q.filter(En=>En instanceof no);(function $t(s,p){return 0===s||0===p})(a,l)&&jt.forEach(En=>{En.currentSnapshot.forEach((Fn,On)=>pt.set(On,Fn))});let ln=function vt(s){return s.length?s[0]instanceof Map?s:s.map(p=>new Map(Object.entries(p))):[]}(i).map(En=>new Map(En));ln=function zt(s,p,i){if(i.size&&p.length){let a=p[0],l=[];if(i.forEach((D,Q)=>{a.has(Q)||l.push(Q),a.set(Q,D)}),l.length)for(let D=1;D<p.length;D++){let Q=p[D];l.forEach(De=>Q.set(De,vn(s,De)))}}return p}(p,ln,pt);const wn=function Or(s,p){let i=null,a=null;return Array.isArray(p)&&p.length?(i=Fr(p[0]),p.length>1&&(a=Fr(p[p.length-1]))):p instanceof Map&&(i=Fr(p)),i||a?new or(s,i,a):null}(p,ln);return new no(p,ln,Qe,wn)}}const Ls="@.disabled";class mr{constructor(p,i,a,l){this.namespaceId=p,this.delegate=i,this.engine=a,this._onDestroy=l,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(p){this.delegate.destroyNode?.(p)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(p,i){return this.delegate.createElement(p,i)}createComment(p){return this.delegate.createComment(p)}createText(p){return this.delegate.createText(p)}appendChild(p,i){this.delegate.appendChild(p,i),this.engine.onInsert(this.namespaceId,i,p,!1)}insertBefore(p,i,a,l=!0){this.delegate.insertBefore(p,i,a),this.engine.onInsert(this.namespaceId,i,p,l)}removeChild(p,i,a){this.engine.onRemove(this.namespaceId,i,this.delegate)}selectRootElement(p,i){return this.delegate.selectRootElement(p,i)}parentNode(p){return this.delegate.parentNode(p)}nextSibling(p){return this.delegate.nextSibling(p)}setAttribute(p,i,a,l){this.delegate.setAttribute(p,i,a,l)}removeAttribute(p,i,a){this.delegate.removeAttribute(p,i,a)}addClass(p,i){this.delegate.addClass(p,i)}removeClass(p,i){this.delegate.removeClass(p,i)}setStyle(p,i,a,l){this.delegate.setStyle(p,i,a,l)}removeStyle(p,i,a){this.delegate.removeStyle(p,i,a)}setProperty(p,i,a){"@"==i.charAt(0)&&i==Ls?this.disableAnimations(p,!!a):this.delegate.setProperty(p,i,a)}setValue(p,i){this.delegate.setValue(p,i)}listen(p,i,a){return this.delegate.listen(p,i,a)}disableAnimations(p,i){this.engine.disableAnimations(p,i)}}class Us extends mr{constructor(p,i,a,l,D){super(i,a,l,D),this.factory=p,this.namespaceId=i}setProperty(p,i,a){"@"==i.charAt(0)?"."==i.charAt(1)&&i==Ls?this.disableAnimations(p,a=void 0===a||!!a):this.engine.process(this.namespaceId,p,i.slice(1),a):this.delegate.setProperty(p,i,a)}listen(p,i,a){if("@"==i.charAt(0)){const l=function Pr(s){switch(s){case"body":return document.body;case"document":return document;case"window":return window;default:return s}}(p);let D=i.slice(1),Q="";return"@"!=D.charAt(0)&&([D,Q]=function Ur(s){const p=s.indexOf(".");return[s.substring(0,p),s.slice(p+1)]}(D)),this.engine.listen(this.namespaceId,l,D,Q,De=>{this.factory.scheduleListenerCallback(De._data||-1,a,De)})}return this.delegate.listen(p,i,a)}}class Wr{constructor(p,i,a){this.delegate=p,this.engine=i,this._zone=a,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(l,D)=>{const Q=D?.parentNode(l);Q&&D.removeChild(Q,l)}}createRenderer(p,i){const l=this.delegate.createRenderer(p,i);if(!p||!i?.data?.animation){const pt=this._rendererCache;let jt=pt.get(l);return jt||(jt=new mr("",l,this.engine,()=>pt.delete(l)),pt.set(l,jt)),jt}const D=i.id,Q=i.id+"-"+this._currentId;this._currentId++,this.engine.register(Q,p);const De=pt=>{Array.isArray(pt)?pt.forEach(De):this.engine.registerTrigger(D,Q,p,pt.name,pt)};return i.data.animation.forEach(De),new Us(this,Q,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(p,i,a){if(p>=0&&p<this._microtaskId)return void this._zone.run(()=>i(a));const l=this._animationCallbacksBuffer;0==l.length&&queueMicrotask(()=>{this._zone.run(()=>{l.forEach(D=>{const[Q,De]=D;Q(De)}),this._animationCallbacksBuffer=[]})}),l.push([i,a])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}var gn=u(177);let vs=(()=>{class s extends Es{constructor(i,a,l){super(i,a,l,(0,e.WQX)(e.An2,{optional:!0}))}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(a){return new(a||s)(e.KVO(gn.qQ),e.KVO(ae),e.KVO($))}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac})}}return s})();const ge=[{provide:$,useFactory:function Fe(){return new An}},{provide:Es,useClass:vs},{provide:e._9s,useFactory:function Ge(s,p,i){return new Wr(s,p,i)},deps:[n.B7,Es,e.SKi]}],et=[{provide:ae,useFactory:()=>new wa},{provide:e.bc$,useValue:"BrowserAnimations"},...ge],Bt=[{provide:ae,useClass:ve},{provide:e.bc$,useValue:"NoopAnimations"},...ge];let Kn=(()=>{class s{static withConfig(i){return{ngModule:s,providers:i.disableAnimations?Bt:et}}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({providers:et,imports:[n.Bb]})}}return s})();var Jn=u(5794),xe=u(534),Xe=u(4304),wt=u(3816),Mt=u(779),Lt=u(9838),bt=u(1583),fn=u(2892),Jt=u(3178),Qn=u(4446),Nn=u(8416),Vn=u(1594);const Br="9.0.0";var Ti=u(7468),Is=u(6648);let da=(()=>{class s{static{this.DocsLink="documentation/index.html"}static{this.EnablingDynamicAuth="documentation/DynamicAuthentication/Enabling_Dynamic_Authentication.html"}static{this.AdvOthDynamicAuth="documentation/DynamicAuthentication/Editing_a_Oidc_Dynamic_Provider.html#advanced-tab-other"}static{this.ApiDocsLink="swagger"}static{this.SupportLink="mailto:support@identityserver.com?subject=AdminUI"}}return s})();var Jo=u(1339),Vr=u(7883),xi=u(6801),Hn=u(7005),qr=u(6888);class Ds{constructor(){this.rss=new Tr,this.rss.channel=new sl,this.rss.channel.item=new Array}}class Tr{}class sl{}class $i{}var Ro=u(1108),Sa=u(4549),bn=u(1780),As=u(7384);const Qo=(s,p)=>({"tw-bg-white":s,"tw-bg-grey-100":p});function Os(s,p){1&s&&(e.j41(0,"div",6),e.nrm(1,"app-simple-loader"),e.k0s())}function Ea(s,p){if(1&s&&(e.j41(0,"li",8)(1,"a",9)(2,"h3",10),e.EFF(3),e.k0s(),e.j41(4,"span",11),e.EFF(5),e.k0s(),e.j41(6,"p",12),e.EFF(7),e.k0s()()()),2&s){const i=p.$implicit,a=e.XpG(2);e.R7$(),e.Y8G("href",a.domSanitizer.bypassSecurityTrustUrl(i.link),e.B4B),e.R7$(2),e.JRh(i.title),e.R7$(2),e.JRh(i.pubDate),e.R7$(2),e.JRh(i.description)}}function Zo(s,p){if(1&s&&(e.j41(0,"ul"),e.DNE(1,Ea,8,4,"li",7),e.k0s()),2&s){const i=e.XpG();e.R7$(),e.Y8G("ngForOf",null==i.dto?null:i.dto.rss.channel.item)}}let Wl=(()=>{class s{constructor(i,a,l){this.http=i,this.domSanitizer=a,this.translate=l,this.rssURL="https://www.identityserver.com/rss",this.versionNumber="",this.altTheme=!1,this.errorEntry=new $i}ngOnInit(){this.isLoading=!0,this.http.get(this.rssURL,{headers:new S.Lr({Accept:"application/xml"}),responseType:"text"}).subscribe(i=>{this.dto=(new Ro).xml2js(i),Object.setPrototypeOf(this.dto,Ds.prototype),this.dto.rss.channel.item.forEach(a=>{a.pubDate=this.formatDate(a.pubDate)}),this.isLoading=!1},i=>{this.errorEntry.title=this.translate.instant("Errors.RssUnavailable"),this.dto=new Ds,this.dto.rss.channel.item.push(this.errorEntry),this.isLoading=!1})}formatDate(i){return i?Sa.c9.fromHTTP(i).toFormat("DD"):""}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(S.Qq),e.rXU(n.up),e.rXU(bn.c$))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-rss-feed"]],inputs:{altTheme:"altTheme"},decls:9,vars:9,consts:[["id","rssFeed"],[1,"tw-flex","tw-items-center","tw-text-lg","tw-font-semibold","tw-mb-4"],["aria-hidden","true",1,"fas","fa-rss","tw-text-sm","tw-text-orange-500","tw-mr-2"],[1,"tw-border","tw-border-grey-200","tw-shadow-inner","tw-h-72","tw-p-4","tw-overflow-y-auto","tw-relative","scrollbars",3,"ngClass"],["class","tw-flex tw-items-center tw-justify-center tw-absolute tw-inset-0",4,"ngIf"],[4,"ngIf"],[1,"tw-flex","tw-items-center","tw-justify-center","tw-absolute","tw-inset-0"],["class","tw-border-b tw-border-grey-200 tw-mb-5 tw-pb-5 last:tw-mb-0 last:tw-pb-0 last:tw-border-0",4,"ngFor","ngForOf"],[1,"tw-border-b","tw-border-grey-200","tw-mb-5","tw-pb-5","last:tw-mb-0","last:tw-pb-0","last:tw-border-0"],["target","_blank",1,"tw-block",3,"href"],[1,"tw-text-base"],[1,"tw-block","tw-text-xs","tw-text-grey-600","tw-font-normal","tw-mt-1"],[1,"tw-text-sm","tw-text-grey-800","tw-font-normal","tw-mt-2"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"h2",1),e.nrm(2,"span",2),e.j41(3,"span"),e.EFF(4),e.nI1(5,"translate"),e.k0s()(),e.j41(6,"div",3),e.DNE(7,Os,2,0,"div",4)(8,Zo,2,1,"ul",5),e.k0s()()),2&a&&(e.R7$(4),e.JRh(e.bMT(5,4,"LandingPage.LatestNews")),e.R7$(2),e.Y8G("ngClass",e.l_i(6,Qo,!l.altTheme,l.altTheme)),e.R7$(),e.Y8G("ngIf",l.isLoading),e.R7$(),e.Y8G("ngIf",!l.isLoading))},dependencies:[gn.YU,gn.Sq,gn.bT,As.d,bn.D9],encapsulation:2})}}return s})();function qo(s,p){1&s&&e.nrm(0,"span",27)}let ol=(()=>{class s{get LinkConstants(){return da}constructor(i,a,l,D,Q,De,Qe){this.authService=i,this.securityService=a,this.titleService=l,this.healthCheckService=D,this.localizeRouter=Q,this.router=De,this.loginTrackingService=Qe,this.loginAllowed=!1,this.startLogin=!1,this.versionNumber="",this.titleService.setTitle(`${Lt.$9.SITE_TITLE}`),this.versionNumber=Br;const pt=new Date;this.appCopyright=2017!==pt.getFullYear()?"2017 - "+pt.getFullYear():"2017"}ngOnInit(){this.startLogin=!1;const i=this.healthCheckService.idsHealthCheckComplete.pipe((0,Vn.$)()),a=this.healthCheckService.uiHealthCheckComplete.pipe((0,Vn.$)());(0,Ti.p)([i,a]).subscribe(()=>{this.healthCheckService.idsReady&&this.healthCheckService.uiReady&&(this.loginAllowed=!0)})}canLogin(){this.healthCheckService.idsReady&&this.healthCheckService.uiReady&&(this.loginAllowed=!0)}ngAfterViewInit(){document.dispatchEvent(new Event("appready"))}start(){const i=this.localizeRouter.translateRoute("/home");return this.startLogin=!0,(0,Is.H)(this.router.navigate([i]))}login(){this.loginTrackingService.startLogin(),this.authService.login()}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(Jo.u),e.rXU(Vr.i),e.rXU(n.hE),e.rXU(xi.M),e.rXU(Hn.QG),e.rXU(bt.Ix),e.rXU(qr.W))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-landing-page"]],decls:49,vars:28,consts:[[1,"tw-fixed","tw-inset-0","tw-z-10"],[1,"tw-bg-primary-500","tw-absolute","tw-inset-0",2,"background-image","url(assets/img/pattern.png)"],[1,"tw--mt-5","tw-mx-auto","tw--mb-10","tw-relative","tw-z-20"],[1,"tw-flex","tw-items-center","tw-h-16","tw-mb-4"],["src","assets/img/logo-persimmon.png","alt","AdminUI",1,"tw-h-8"],[1,"tw-text-sm","tw-font-semibold","tw-text-white-75","tw-ml-auto"],[1,"tw-px-6"],[1,"tw-bg-white","tw-p-6","tw--mx-6","tw-shadow","tw-rounded","md:tw-mx-auto","md:tw-max-w-2xl"],[1,"tw-text-xl","tw-font-semibold","md:tw-text-2xl"],[1,"tw-font-semibold","tw-mt-3"],[1,"tw-text-sm","tw-mt-2"],["href","mailto:sales@identityserver.com?subject=AdminUI",1,"tw-text-blue-500","tw-font-semibold","hover:tw-text-body","tw-transition-all","tw-ease-in-out"],[1,"tw-mt-4"],["id","loginBtn",1,"tw-btn","tw-btn-success",3,"click","disabled"],["class","fad fa-spinner-third fa-spin tw-text-green-400 tw-text-xs tw-ml-3","aria-hidden","true",4,"ngIf"],[1,"tw-flex","tw-flex-wrap","tw-items-center","tw-border-t","tw-border-grey-200","tw-text-sm","tw--mx-6","tw--mb-2","tw-mt-6","tw-pt-4","tw-px-6"],[1,"tw-flex","tw-items-center","tw-mr-3"],["target","_blank","rel","noopener",1,"tw-inline-block","tw-text-blue-500","hover:tw-text-body","tw-transition-all","tw-ease-in-out",3,"href"],["aria-hidden","true",1,"tw-ml-3","tw-opacity-50"],[1,"tw-flex","tw-items-center"],[1,"tw-inline-block","tw-text-blue-500","hover:tw-text-body","tw-transition-all","tw-ease-in-out",3,"href"],[1,"tw-bg-white","tw-mt-6","tw-p-6","tw--mx-6","tw-shadow","tw-rounded","md:tw-mx-auto","md:tw-max-w-2xl","md:tw-mt-8","lg:tw-mt-10"],["altTheme","true"],["id","copyright",1,"tw-text-center","tw-mt-6","md:tw-mt-8","lg:tw-mt-10"],["id","RSKBackLink","href","https://www.rocksolidknowledge.com","target","_blank","rel","noopener",1,"tw-inline-block","tw-text-white-50","hover:tw-text-white"],["src","assets/img/rsk-logo.png","alt","Rock Solid Knowledge","aria-hidden","true",1,"tw-block","tw-w-40","tw-mx-auto"],[1,"tw-block","tw-text-xs","tw-mt-2"],["aria-hidden","true",1,"fad","fa-spinner-third","fa-spin","tw-text-green-400","tw-text-xs","tw-ml-3"]],template:function(a,l){1&a&&(e.j41(0,"div",0),e.nrm(1,"div",1),e.k0s(),e.j41(2,"div",2)(3,"header",3),e.nrm(4,"img",4),e.j41(5,"span",5),e.EFF(6),e.k0s()(),e.j41(7,"div",6)(8,"div",7)(9,"h2",8),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"p",9),e.EFF(13),e.nI1(14,"translate"),e.k0s(),e.j41(15,"p",10),e.EFF(16),e.nI1(17,"translate"),e.j41(18,"a",11),e.EFF(19," sales@identityserver.com "),e.k0s()(),e.j41(20,"div",12)(21,"button",13),e.bIt("click",function(){return l.login()}),e.EFF(22),e.nI1(23,"translate"),e.k0s(),e.DNE(24,qo,1,0,"span",14),e.k0s(),e.j41(25,"ul",15)(26,"li",16)(27,"a",17),e.EFF(28),e.nI1(29,"translate"),e.k0s(),e.j41(30,"span",18),e.EFF(31,"\u2022"),e.k0s()(),e.j41(32,"li",16)(33,"a",17),e.EFF(34),e.nI1(35,"translate"),e.k0s(),e.j41(36,"span",18),e.EFF(37,"\u2022"),e.k0s()(),e.j41(38,"li",19)(39,"a",20),e.EFF(40),e.nI1(41,"translate"),e.k0s()()()(),e.j41(42,"div",21),e.nrm(43,"app-rss-feed",22),e.k0s(),e.j41(44,"footer",23)(45,"a",24),e.nrm(46,"img",25),e.j41(47,"span",26),e.EFF(48),e.k0s()()()()()),2&a&&(e.R7$(6),e.SpI("v",l.versionNumber,""),e.R7$(4),e.SpI("",e.bMT(11,14,"LandingPage.Welcome")," AdminUI"),e.R7$(3),e.JRh(e.bMT(14,16,"LandingPage.IntroParagraph1")),e.R7$(3),e.SpI(" ",e.bMT(17,18,"LandingPage.IntroParagraph2")," "),e.R7$(5),e.Y8G("disabled",!l.loginAllowed||l.startLogin),e.R7$(),e.SpI(" ",e.bMT(23,20,"Nav.Login")," "),e.R7$(2),e.Y8G("ngIf",l.startLogin),e.R7$(3),e.FS9("href",l.LinkConstants.ApiDocsLink,e.B4B),e.R7$(),e.SpI(" ",e.bMT(29,22,"LandingPage.APIDocs")," "),e.R7$(5),e.FS9("href",l.LinkConstants.DocsLink,e.B4B),e.R7$(),e.SpI(" ",e.bMT(35,24,"Common.Documentation")," "),e.R7$(5),e.FS9("href",l.LinkConstants.SupportLink,e.B4B),e.R7$(),e.SpI(" ",e.bMT(41,26,"Nav.Support")," "),e.R7$(8),e.SpI("\xa9 ",l.appCopyright,""))},dependencies:[gn.bT,Wl,bn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();var hs=u(2972);let La=(()=>{class s{constructor(i,a,l){this.authService=i,this.securityService=a,this.appComponentViewService=l}ngOnInit(){this.authService.isAuthenticatedCheck().subscribe(i=>{this.authService.user=i.username,this.authService.isAuthenticated=i.isAuthenticated,i.isAuthenticated?this.appComponentViewService.successAuth():this.appComponentViewService.failAuth(),this.securityService.onAuthorizationResultComplete(i)})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(Jo.u),e.rXU(Vr.i),e.rXU(hs.X))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-auth"]],decls:0,vars:0,template:function(a,l){},encapsulation:2})}}return s})(),Kl=(()=>{class s{constructor(i){this.translate=i}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(bn.c$))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["ng-component"]],decls:10,vars:6,consts:[[1,"tw-p-4"],[1,"tw-container","tw-mx-auto"],["role","alert",1,"tw-alert-danger"],[1,"tw-text-sm","tw-font-semibold"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1",3),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"p"),e.EFF(8),e.nI1(9,"translate"),e.k0s()()()()()),2&a&&(e.R7$(5),e.JRh(e.bMT(6,2,"Errors.ForbiddenTitle")),e.R7$(3),e.JRh(e.bMT(9,4,"Errors.ForbiddenDescription")))},dependencies:[bn.D9],encapsulation:2})}}return s})(),Lo=(()=>{class s{constructor(i){this.translate=i}ngAfterViewInit(){document.dispatchEvent(new Event("appready"))}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(bn.c$))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["ng-component"]],decls:10,vars:6,consts:[[1,"tw-p-4"],[1,"tw-container","tw-mx-auto"],["role","alert",1,"tw-alert-danger"],[1,"tw-text-sm","tw-font-semibold"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1",3),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"p"),e.EFF(8),e.nI1(9,"translate"),e.k0s()()()()()),2&a&&(e.R7$(5),e.JRh(e.bMT(6,2,"Errors.NotFoundTitle")),e.R7$(3),e.JRh(e.bMT(9,4,"Errors.NotFoundDescription")))},dependencies:[bn.D9],encapsulation:2})}}return s})();var vo=u(8284);let Ua=(()=>{class s{constructor(i,a){this.route=i,this.translate=a}ngOnInit(){const i=this.route.snapshot.paramMap.get("resource");this.resourceTypeString=i in vo.v?i:"Resource"}ngAfterViewInit(){document.dispatchEvent(new Event("appready"))}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(bt.nX),e.rXU(bn.c$))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["ng-component"]],decls:10,vars:6,consts:[[1,"tw-p-4"],[1,"tw-container","tw-mx-auto"],["role","alert",1,"tw-alert-danger"],[1,"tw-text-sm","tw-font-semibold"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1",3),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"p"),e.EFF(8),e.nI1(9,"translate"),e.k0s()()()()()),2&a&&(e.R7$(5),e.JRh(e.bMT(6,2,"Errors.ResourceNotFoundDescription")),e.R7$(3),e.JRh(e.bMT(9,4,"Errors.ResourceNotFoundDescription")))},dependencies:[bn.D9],encapsulation:2})}}return s})();function Ta(s,p){1&s&&(e.j41(0,"p",6),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Errors.UnableToCompilePolicy")))}function Va(s,p){1&s&&(e.j41(0,"p",7),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Errors.UnauthenticatedDescription")))}let ja=(()=>{class s{constructor(i){this.isEnforcerCompilationError=!1,this.getNavigationState(i)}getNavigationState(i){const a=i.getCurrentNavigation();if(null!=a&&null!=a.extras.state){const l=a.extras.state;l.enforcer&&(this.isEnforcerCompilationError=l.enforcer)}}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(bt.Ix))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["ng-component"]],decls:10,vars:5,consts:[["normalError",""],[1,"tw-p-4"],[1,"tw-container","tw-mx-auto"],["role","alert",1,"tw-alert-danger"],[1,"tw-text-sm","tw-font-semibold"],["id","ContactAdmin",4,"ngIf","ngIfElse"],["id","ContactAdmin"],["id","UnauthDescription"]],template:function(a,l){if(1&a&&(e.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"div")(4,"h1",4),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.DNE(7,Ta,3,3,"p",5)(8,Va,3,3,"ng-template",null,0,e.C5r),e.k0s()()()()),2&a){const D=e.sdS(9);e.R7$(5),e.JRh(e.bMT(6,3,"Errors.UnauthenticatedTitle")),e.R7$(2),e.Y8G("ngIf",l.isEnforcerCompilationError)("ngIfElse",D)}},dependencies:[gn.bT,bn.D9],encapsulation:2})}}return s})();var _s=u(4589);const Ir=(s,p)=>({title:s,link:p,icon:"fad fa-file fa-swap-opacity"}),uo=(s,p)=>({title:s,link:p,icon:"fad fa-file-code fa-swap-opacity"}),Rs=(s,p)=>({title:s,link:p,icon:"fad fa-envelope fa-swap-opacity"}),Ws=(s,p)=>({"tw-pill":s,"tw-pill-info":p});function Uo(s,p){if(1&s&&(e.j41(0,"li",16)(1,"span",17),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"span",19),e.EFF(5),e.k0s()()),2&s){const i=e.XpG(2);e.R7$(2),e.JRh(e.bMT(3,2,"Index.LicensedTo")),e.R7$(3),e.SpI(" ",i.securityService.organisation," ")}}function yo(s,p){if(1&s&&(e.j41(0,"div",10)(1,"div",11)(2,"div",12)(3,"div",13)(4,"ul",14),e.DNE(5,Uo,6,4,"li",15),e.j41(6,"li",16)(7,"span",17),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"span",18),e.EFF(11),e.k0s()()()()()()()),2&s){const i=e.XpG();e.R7$(5),e.Y8G("ngIf",i.securityService.organisation),e.R7$(3),e.JRh(e.bMT(9,4,"Index.LicenseType")),e.R7$(2),e.Y8G("ngClass",e.l_i(6,Ws,i.isNonProd(),!i.isNonProd())),e.R7$(),e.SpI(" ",i.securityService.licenseType," ")}}function Kr(s,p){1&s&&e.eu8(0)}function fs(s,p){1&s&&e.eu8(0)}function $a(s,p){1&s&&e.eu8(0)}function ha(s,p){if(1&s&&(e.j41(0,"li",20)(1,"a",21),e.nrm(2,"span",22),e.j41(3,"span",23),e.EFF(4),e.k0s()()()),2&s){const i=p.title,a=p.link,l=p.icon;e.R7$(),e.Y8G("href",a,e.B4B),e.R7$(),e.ZvI("",l," fa-fw tw-shrink-0 tw-opacity-75 tw-mr-3 sm:tw-block sm:tw-mr-0 sm:tw-text-2xl md:tw-text-3xl"),e.R7$(2),e.JRh(i)}}let io=(()=>{class s{get LinkConstants(){return da}constructor(i,a){this.titleService=i,this.securityService=a,this.titleService.setTitle(`Home - ${Lt.$9.SITE_TITLE}`)}ngOnInit(){}ngAfterViewInit(){document.dispatchEvent(new Event("appready"))}isDemo(){return this.securityService.licenseType===_s.G.Demo}isNonProd(){return this.securityService.licenseType!==_s.G.Production}isLegacy(){return"Legacy"===this.securityService.organisation}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(n.hE),e.rXU(Vr.i))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-index"]],decls:18,vars:25,consts:[["commonDocsButton",""],[1,"sr-only"],["class","tw-bg-grey-200 tw-border-b tw-border-grey-300 tw--mt-5 tw--mx-4 tw-mb-6 tw-px-4",4,"ngIf"],[1,"tw-container","tw-text-left","tw-mx-auto","tw-mb-4"],[1,"tw-max-w-2xl","tw-mx-auto"],[1,"tw--ml-2","tw--mt-2","md:tw--ml-4","md:tw--mt-4"],[1,"tw-flex","tw-flex-wrap"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"tw-bg-white","tw-mt-6","tw-p-6","tw-max-w-2xl","tw-mx-auto","tw-shadow","tw-rounded"],["altTheme","true"],[1,"tw-bg-grey-200","tw-border-b","tw-border-grey-300","tw--mt-5","tw--mx-4","tw-mb-6","tw-px-4"],[1,"tw-py-4"],[1,"tw-container","tw-text-left","tw-mx-auto"],[1,"tw--mt-4","tw--ml-4"],[1,"tw-flex","tw-flex-wrap","tw-items-center","tw-justify-between","tw-text-xs","tw-text-grey-700","lg:tw-justify-end"],["class","tw-pt-4 tw-pl-4",4,"ngIf"],[1,"tw-pt-4","tw-pl-4"],[1,"tw-mr-2"],[3,"ngClass"],[1,"tw-pill"],[1,"tw-w-full","tw-pt-2","tw-pl-2","sm:tw-w-1/3","md:tw-pt-4","md:tw-pl-4"],["target","_blank",1,"tw-btn","tw-justify-start","tw-py-4","tw-w-full","sm:tw-flex-col",3,"href"],["aria-hidden","true"],[1,"tw-truncate","sm:tw-block","sm:tw-mt-3","sm:tw-text-sm","md:tw-text-base"]],template:function(a,l){if(1&a&&(e.j41(0,"h1",1),e.EFF(1),e.nI1(2,"translate"),e.k0s(),e.DNE(3,yo,12,9,"div",2),e.j41(4,"div",3)(5,"div",4)(6,"div",5)(7,"ul",6),e.DNE(8,Kr,1,0,"ng-container",7),e.nI1(9,"translate"),e.DNE(10,fs,1,0,"ng-container",7),e.nI1(11,"translate"),e.DNE(12,$a,1,0,"ng-container",7),e.nI1(13,"translate"),e.k0s()()(),e.j41(14,"div",8),e.nrm(15,"app-rss-feed",9),e.k0s()(),e.DNE(16,ha,5,5,"ng-template",null,0,e.C5r)),2&a){const D=e.sdS(17);e.R7$(),e.JRh(e.bMT(2,8,"Common.AppName")),e.R7$(2),e.Y8G("ngIf",!l.isLegacy()),e.R7$(5),e.Y8G("ngTemplateOutlet",D)("ngTemplateOutletContext",e.l_i(16,Ir,e.bMT(9,10,"Common.Documentation"),l.LinkConstants.DocsLink)),e.R7$(2),e.Y8G("ngTemplateOutlet",D)("ngTemplateOutletContext",e.l_i(19,uo,e.bMT(11,12,"LandingPage.APIDocs"),l.LinkConstants.ApiDocsLink)),e.R7$(2),e.Y8G("ngTemplateOutlet",D)("ngTemplateOutletContext",e.l_i(22,Rs,e.bMT(13,14,"Nav.Support"),l.LinkConstants.SupportLink))}},dependencies:[gn.YU,gn.bT,gn.T3,Wl,bn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();var Ms=u(316),Ii=u(7263),bs=u(5602),ne=u(5424),ze=u(526),fe=u(8698),Le=u(6536);const At=["requiredClaimsForm"];function pn(s,p){if(1&s){const i=e.RV6();e.j41(0,"div",7)(1,"div",10)(2,"h2",11),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"p",12),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"p",13),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"div",14)(12,"span",15)(13,"button",16),e.bIt("click",function(){e.eBV(i);const l=e.XpG();return e.Njj(l.signOutAndRedirectToLogin())}),e.EFF(14),e.nI1(15,"translate"),e.k0s()()()()()}2&s&&(e.R7$(3),e.JRh(e.bMT(4,4,"Notifications.Success")),e.R7$(3),e.SpI(" ",e.bMT(7,6,"InitialAdminCreation.SuccessMessage")," "),e.R7$(3),e.SpI(" ",e.bMT(10,8,"InitialAdminCreation.LoginMessage")," "),e.R7$(5),e.SpI(" ",e.bMT(15,10,"Nav.Login")," "))}function Sn(s,p){1&s&&(e.j41(0,"span",40),e.EFF(1,"Passwords must match"),e.k0s())}function ei(s,p){1&s&&(e.j41(0,"ul",41)(1,"li"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"li"),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"li"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"li"),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"li"),e.EFF(14),e.nI1(15,"translate"),e.k0s()()),2&s&&(e.R7$(2),e.JRh(e.bMT(3,5,"Users.Password.Requirements.1")),e.R7$(3),e.JRh(e.bMT(6,7,"Users.Password.Requirements.2")),e.R7$(3),e.JRh(e.bMT(9,9,"Users.Password.Requirements.3")),e.R7$(3),e.JRh(e.bMT(12,11,"Users.Password.Requirements.4")),e.R7$(3),e.JRh(e.bMT(15,13,"Users.Password.Requirements.5")))}function fr(s,p){if(1&s){const i=e.RV6();e.j41(0,"input",50),e.mxI("ngModelChange",function(l){e.eBV(i);const D=e.XpG().$implicit;return e.DH7(D.value,l)||(D.value=l),e.Njj(l)}),e.k0s()}if(2&s){const i=e.XpG(),a=i.$implicit;e.Mz_("id","claim-",i.index,""),e.R50("ngModel",a.value)}}function ar(s,p){if(1&s){const i=e.RV6();e.j41(0,"input",51),e.mxI("ngModelChange",function(l){e.eBV(i);const D=e.XpG().$implicit;return e.DH7(D.value,l)||(D.value=l),e.Njj(l)}),e.k0s()}if(2&s){const i=e.XpG(),a=i.$implicit;e.Mz_("id","claim-",i.index,""),e.R50("ngModel",a.value)}}function Ji(s,p){if(1&s){const i=e.RV6();e.j41(0,"div",52)(1,"select",53),e.mxI("ngModelChange",function(l){e.eBV(i);const D=e.XpG().$implicit;return e.DH7(D.value,l)||(D.value=l),e.Njj(l)}),e.j41(2,"option",54),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"option",55),e.EFF(6),e.nI1(7,"translate"),e.k0s()()()}if(2&s){const i=e.XpG(),a=i.$implicit,l=i.index;e.R7$(),e.Mz_("id","claim-",l,""),e.R50("ngModel",a.value),e.R7$(2),e.JRh(e.bMT(4,5,"Common.True")),e.R7$(3),e.JRh(e.bMT(7,7,"Common.False"))}}function Ui(s,p){if(1&s){const i=e.RV6();e.qex(0),e.j41(1,"app-date-time",58),e.mxI("ngModelChange",function(l){e.eBV(i);const D=e.XpG(2).$implicit;return e.DH7(D.value,l)||(D.value=l),e.Njj(l)}),e.k0s(),e.bVm()}if(2&s){const i=e.XpG(2),a=i.$implicit,l=i.index;e.R7$(),e.Mz_("id","claim-",l,""),e.R50("ngModel",a.value)}}function ii(s,p){if(1&s){const i=e.RV6();e.qex(0),e.j41(1,"app-date-time",59),e.mxI("ngModelChange",function(l){e.eBV(i);const D=e.XpG(2).$implicit;return e.DH7(D.value,l)||(D.value=l),e.Njj(l)}),e.k0s(),e.bVm()}if(2&s){const i=e.XpG(2),a=i.$implicit,l=i.index;e.R7$(),e.Mz_("id","claim-",l,""),e.R50("ngModel",a.value),e.Y8G("displayType","date")}}function Qi(s,p){if(1&s&&(e.j41(0,"div",56),e.DNE(1,Ui,2,3,"ng-container",57)(2,ii,2,4,"ng-container",57),e.k0s()),2&s){const i=e.XpG().$implicit;e.R7$(),e.Y8G("ngIf","birthdate"!=i.name),e.R7$(),e.Y8G("ngIf","birthdate"==i.name)}}function dr(s,p){if(1&s&&(e.j41(0,"option",62),e.EFF(1),e.k0s()),2&s){const i=p.$implicit;e.Y8G("value",i),e.R7$(),e.JRh(i)}}function ye(s,p){if(1&s){const i=e.RV6();e.j41(0,"div",52)(1,"select",60),e.mxI("ngModelChange",function(l){e.eBV(i);const D=e.XpG().$implicit;return e.DH7(D.value,l)||(D.value=l),e.Njj(l)}),e.DNE(2,dr,2,2,"option",61),e.k0s()()}if(2&s){const i=e.XpG(),a=i.$implicit,l=i.index;e.R7$(),e.Mz_("id","claim-",l,""),e.R50("ngModel",a.value),e.R7$(),e.Y8G("ngForOf",a.allowedValues)}}function P(s,p){if(1&s&&(e.j41(0,"span",63),e.EFF(1),e.k0s()),2&s){const i=e.XpG().$implicit;e.R7$(),e.SpI(" ",i.failureMessage," ")}}function pe(s,p){if(1&s&&(e.j41(0,"app-form-row",44),e.DNE(1,fr,1,3,"input",45)(2,ar,1,3,"input",46)(3,Ji,8,9,"div",47)(4,Qi,3,2,"div",48)(5,ye,3,4,"div",47)(6,P,2,1,"span",49),e.k0s()),2&s){const i=p.$implicit,a=p.index,l=e.XpG(3);e.Y8G("id","claim-"+a)("label",i.name)("help","DateTime"==i.format?"Common.Dates.UTCWarning":"")("isLast",a===l.displayClaims.length-1),e.R7$(),e.Y8G("ngIf","String"==i.format),e.R7$(),e.Y8G("ngIf","Int"==i.format),e.R7$(),e.Y8G("ngIf","Boolean"==i.format),e.R7$(),e.Y8G("ngIf","DateTime"==i.format),e.R7$(),e.Y8G("ngIf","Enum"==i.format),e.R7$(),e.Y8G("ngIf",null!=i.failureMessage)}}function Ne(s,p){if(1&s&&(e.j41(0,"div",42),e.DNE(1,pe,7,10,"app-form-row",43),e.k0s()),2&s){const i=e.XpG(2);e.R7$(),e.Y8G("ngForOf",i.displayClaims)}}function st(s,p){1&s&&e.nrm(0,"span",64)}function xt(s,p){if(1&s){const i=e.RV6();e.j41(0,"div",10)(1,"h2",11),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"div"),e.nrm(5,"hr",17)(6,"p",18)(7,"p",19),e.nI1(8,"translate"),e.j41(9,"p",18),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.nrm(12,"hr",17),e.j41(13,"form",20)(14,"app-form-row",21),e.nrm(15,"input",22),e.k0s(),e.j41(16,"app-form-row",21),e.nrm(17,"input",23),e.k0s(),e.j41(18,"app-form-row",21),e.nrm(19,"input",24),e.k0s(),e.j41(20,"app-form-row",21),e.nrm(21,"input",25),e.k0s(),e.j41(22,"app-form-row",21),e.nrm(23,"input",26),e.k0s(),e.j41(24,"app-form-row",21),e.nrm(25,"input",27),e.DNE(26,Sn,2,0,"span",28)(27,ei,16,15,"ul",29),e.k0s()(),e.j41(28,"form",null,0),e.DNE(30,Ne,2,1,"div",30),e.k0s(),e.j41(31,"div",14)(32,"span",15)(33,"button",31),e.bIt("click",function(){e.eBV(i);const l=e.XpG();return e.Njj(l.addUser())}),e.EFF(34),e.nI1(35,"translate"),e.DNE(36,st,1,0,"span",32),e.k0s()()()(),e.j41(37,"ul",33)(38,"li",34)(39,"a",35),e.EFF(40),e.nI1(41,"translate"),e.k0s(),e.j41(42,"span",36),e.EFF(43,"\u2022"),e.k0s()(),e.j41(44,"li",34)(45,"a",37),e.EFF(46),e.nI1(47,"translate"),e.k0s(),e.j41(48,"span",36),e.EFF(49,"\u2022"),e.k0s()(),e.j41(50,"li",38)(51,"a",39),e.EFF(52),e.nI1(53,"translate"),e.k0s()()()()}if(2&s){const i=e.sdS(29),a=e.XpG();e.R7$(2),e.JRh(e.bMT(3,26,"LandingPage.AdminCreation")),e.R7$(5),e.Y8G("innerHTML",e.bMT(8,28,"InitialAdminCreation.PermissionsInfoMessage"),e.npT),e.R7$(3),e.SpI(" ",e.bMT(11,30,"InitialAdminCreation.PasswordHashMessage")," "),e.R7$(3),e.Y8G("formGroup",a.addUserForm),e.R7$(),e.Y8G("id","FirstName")("label","Users.FirstName"),e.R7$(2),e.Y8G("id","LastName")("label","Users.LastName"),e.R7$(2),e.Y8G("id","Username")("label","Users.Username"),e.R7$(2),e.Y8G("id","Email")("label","Users.Email"),e.R7$(2),e.Y8G("id","Password")("label","Users.Password.Title"),e.R7$(2),e.Y8G("id","Password")("label","UserDetails.Confirm Password"),e.R7$(2),e.Y8G("ngIf",a.addUserForm.hasError("notSame")),e.R7$(),e.Y8G("ngIf",a.addUserForm.get("password").hasError("pattern")),e.R7$(3),e.Y8G("ngIf",a.displayClaims.length>0),e.R7$(3),e.Y8G("disabled",!a.addUserForm.valid||!i.form.valid||a.inFlight),e.R7$(),e.SpI(" ",e.bMT(35,32,"Common.Save")," "),e.R7$(2),e.Y8G("ngIf",a.inFlight),e.R7$(3),e.FS9("href",a.apiDocsLink,e.B4B),e.R7$(),e.SpI(" ",e.bMT(41,34,"LandingPage.APIDocs")," "),e.R7$(6),e.SpI(" ",e.bMT(47,36,"Common.Documentation")," "),e.R7$(6),e.SpI(" ",e.bMT(53,38,"Nav.Support")," ")}}let Vt=(()=>{class s{constructor(i,a,l,D,Q,De,Qe,pt){this.authService=i,this.titleService=a,this.toastr=l,this.fb=D,this.userService=Q,this.errorService=De,this.claimTypesService=Qe,this.appComponentViewService=pt,this.versionNumber="",this.createdAdmin=!1,this.displayClaims=[],this.checkPasswords=ln=>ln.get("password").value===ln.get("confirmPassword").value?null:{notSame:!0},this.titleService.setTitle(`${Lt.$9.SITE_TITLE}`),this.versionNumber=Br;const jt=new Date;this.appCopyright=2017!==jt.getFullYear()?"2017 - "+jt.getFullYear():"2017"}ngOnInit(){this.appComponentViewService.startInitialAdminCreation(),this.createForms(),this.claimTypesService.getClaimTypes(null,null).subscribe(i=>{this.claimTypes=i;for(const l of this.claimTypes)l.required&&this.displayClaims.push({claimTypeId:l.id,format:l.valueType,name:l.name,value:null,failureMessage:l.ruleValidationFailureDescription,allowedValues:l.allowedValues})},i=>{this.errorService.handleError(i)})}addUser(){let i;i=JSON.parse(JSON.stringify(this.addUserForm.value)),Object.assign(i,{claims:[]});for(const a of this.displayClaims){if(null===a.value)continue;let l=a.value;"DateTime"===a.format&&(l=a.value),"Int"===a.format&&(l=l.toString()),i.claims.push({claimTypeId:a.claimTypeId,value:l,type:a.name})}this.inFlight=!0,this.userService.addInitialAdministrator(i).subscribe(()=>{this.inFlight=!1,this.createdAdmin=!0},a=>{this.inFlight=!1,this.errorService.handleError(a)})}signOutAndRedirectToLogin(){this.authService.logoff()}createForms(){this.addUserForm=this.fb.group({username:["",[g.k0.required,(0,Ii.Zt)()]],email:["",Ms.D],firstName:["",g.k0.required],lastName:["",g.k0.required],password:["",g.k0.pattern("^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$")],confirmPassword:[""]},{validators:this.checkPasswords})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(Jo.u),e.rXU(n.hE),e.rXU(Jn.tw),e.rXU(g.ze),e.rXU(bs.D),e.rXU(ne.I),e.rXU(ze.X),e.rXU(hs.X))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-initial-admin-creation"]],viewQuery:function(a,l){if(1&a&&e.GBs(At,5),2&a){let D;e.mGM(D=e.lsd())&&(l.requiredClaimsForm=D.first)}},decls:10,vars:3,consts:[["requiredClaimsForm","ngForm"],[1,"tw-fixed","tw-inset-0","tw-z-10"],[1,"tw-bg-primary-500","tw-absolute","tw-inset-0",2,"background-image","url(assets/img/pattern.png)"],[1,"tw--mt-5","tw-mx-auto","tw--mb-10","tw-relative","tw-z-20"],[1,"tw-flex","tw-items-center","tw-h-16","tw-mb-4"],["src","assets/img/logo-persimmon.png","alt","AdminUI",1,"tw-h-8"],[1,"tw-text-sm","tw-font-semibold","tw-text-white-75","tw-ml-auto"],[1,"tw-px-6"],["class","tw-px-6",4,"ngIf"],["class","tw-bg-white tw-p-6 tw--mx-6 tw-shadow tw-rounded md:tw-mx-auto md:tw-max-w-2xl",4,"ngIf"],[1,"tw-bg-white","tw-p-6","tw--mx-6","tw-shadow","tw-rounded","md:tw-mx-auto","md:tw-max-w-2xl"],[1,"tw-text-xl","tw-font-semibold","md:tw-text-2xl"],["role","alert",1,"tw-alert-success","tw-mb-4","tw-mt-4"],[1,"tw-text-sm","tw-mt-2"],[1,"tw-mt-4"],[1,"xs:tw-mr-3"],["id","loginBtn",1,"tw-btn","tw-btn-success",3,"click"],[1,"tw-mt-5","tw-mt-5"],[1,"tw-font-semibold","tw-mt-5"],[1,"tw-mt-5",3,"innerHTML"],["autocomplete","off",1,"form","tw-mt-5",3,"formGroup"],[3,"id","label"],["id","FirstName","type","text","name","FirstName","formControlName","firstName","required","",1,"tw-form-control"],["id","LastName","type","text","name","LastName","formControlName","lastName","required","",1,"tw-form-control"],["id","Username","type","text","name","username","formControlName","username","required","",1,"tw-form-control"],["id","Email","type","email","name","email","formControlName","email","required","",1,"tw-form-control"],["id","Password","type","password","name","Password","formControlName","password","aria-labelledby","PasswordHelp","required","",1,"tw-form-control"],["id","ConfirmPassword","type","password","name","ConfirmPassword","formControlName","confirmPassword","required","",1,"tw-form-control"],["class","tw-form-text-danger",4,"ngIf"],["id","PasswordHelp","class","tw-form-text-danger",4,"ngIf"],["id","claimsForm",4,"ngIf"],["type","submit","id","addUserSubmit",1,"tw-btn-success",3,"click","disabled"],["class","fad fa-spinner-third fa-spin tw-text-secondary-500 tw-mr-2 tw-ml-2",4,"ngIf"],[1,"tw-flex","tw-flex-wrap","tw-items-center","tw-border-t","tw-border-grey-200","tw-text-sm","tw--mx-6","tw--mb-2","tw-mt-6","tw-pt-4","tw-px-6"],[1,"tw-flex","tw-items-center","tw-mr-3"],["target","_blank",1,"tw-inline-block","tw-text-blue-500","hover:tw-text-body","tw-transition-all","tw-ease-in-out",3,"href"],["aria-hidden","true",1,"tw-ml-3","tw-opacity-50"],["href","documentation/index.html","target","_blank",1,"tw-inline-block","tw-text-blue-500","hover:tw-text-body","tw-transition-all","tw-ease-in-out"],[1,"tw-flex","tw-items-center"],["href","mailto:support@identityserver.com?subject=AdminUI",1,"tw-inline-block","tw-text-blue-500","hover:tw-text-body","tw-transition-all","tw-ease-in-out"],[1,"tw-form-text-danger"],["id","PasswordHelp",1,"tw-form-text-danger"],["id","claimsForm"],[3,"id","label","help","isLast",4,"ngFor","ngForOf"],[3,"id","label","help","isLast"],["class","tw-form-control","type","text","name","string","required","",3,"id","ngModel","ngModelChange",4,"ngIf"],["class","tw-form-control","type","number","name","number","required","",3,"id","ngModel","ngModelChange",4,"ngIf"],["class","tw-form-select",4,"ngIf"],["class","tw-w-full sm:tw-max-w-2xl",4,"ngIf"],["class","tw-form-text",4,"ngIf"],["type","text","name","string","required","",1,"tw-form-control",3,"ngModelChange","id","ngModel"],["type","number","name","number","required","",1,"tw-form-control",3,"ngModelChange","id","ngModel"],[1,"tw-form-select"],["name","boolean","required","",1,"tw-form-control",3,"ngModelChange","id","ngModel"],["value","true"],["value","false"],[1,"tw-w-full","sm:tw-max-w-2xl"],[4,"ngIf"],["name","claimValue","required","",3,"ngModelChange","id","ngModel"],["name","claimValue","required","",3,"ngModelChange","id","ngModel","displayType"],["name","enum","required","",1,"tw-form-control",3,"ngModelChange","id","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"tw-form-text"],[1,"fad","fa-spinner-third","fa-spin","tw-text-secondary-500","tw-mr-2","tw-ml-2"]],template:function(a,l){1&a&&(e.j41(0,"div",1),e.nrm(1,"div",2),e.k0s(),e.j41(2,"div",3)(3,"header",4),e.nrm(4,"img",5),e.j41(5,"span",6),e.EFF(6),e.k0s()(),e.j41(7,"div",7),e.DNE(8,pn,16,12,"div",8)(9,xt,54,40,"div",9),e.k0s()()),2&a&&(e.R7$(6),e.SpI("v",l.versionNumber,""),e.R7$(2),e.Y8G("ngIf",l.createdAdmin),e.R7$(),e.Y8G("ngIf",!l.createdAdmin))},dependencies:[gn.Sq,gn.bT,g.qT,g.xH,g.y7,g.me,g.Q0,g.wz,g.BC,g.cb,g.YS,g.vS,g.cV,g.j4,g.JD,fe.Y,Le.Z,bn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();var qt=u(3680),sn=u(6719),Cn=u(251);const ti=(s,p)=>({title:s,link:p}),jn=s=>[s];function _r(s,p){1&s&&(e.j41(0,"span",8),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Policy")," "))}function mi(s,p){1&s&&(e.j41(0,"span",9),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Reserved")," "))}function jr(s,p){if(1&s&&(e.qex(0,5),e.DNE(1,_r,3,3,"span",6)(2,mi,3,3,"span",7),e.bVm()),2&s){const i=e.XpG();e.R7$(),e.Y8G("ngIf",i.isPolicyRole()),e.R7$(),e.Y8G("ngIf",i.role.reserved)}}let Dr=(()=>{class s{constructor(i,a,l,D){this.activatedRoute=i,this.errorService=a,this.router=l,this.securityService=D}ngOnInit(){this.roleDataSubscription=this.activatedRoute.data.subscribe(i=>{this.role=i.role},i=>{this.errorService.handleError(i)})}ngOnDestroy(){this.roleDataSubscription.unsubscribe()}isPolicyRole(){const i=this.securityService.policyClaims;for(let a=0;a<i.length;a++)if("role"===i[a].type&&i[a].value===this.role.name)return!0;return!1}mobRoute(i){this.router.navigate([i],{relativeTo:this.activatedRoute})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(bt.nX),e.rXU(ne.I),e.rXU(bt.Ix),e.rXU(Vr.i))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["ng-component"]],decls:10,vars:17,consts:[[3,"title","crumbs","hasTabs"],["badge","",4,"ngIf"],["tabs",""],[3,"tabTitle","tabValue"],["id","editRole"],["badge",""],["class","tw-pill-warning tw-mr-2",4,"ngIf"],["class","tw-pill tw-mr-2",4,"ngIf"],[1,"tw-pill-warning","tw-mr-2"],[1,"tw-pill","tw-mr-2"]],template:function(a,l){1&a&&(e.j41(0,"app-title-bar",0),e.nI1(1,"translate"),e.nI1(2,"localize"),e.DNE(3,jr,3,2,"ng-container",1),e.qex(4,2),e.j41(5,"app-custom-tabs"),e.nrm(6,"app-custom-tab",3)(7,"app-custom-tab",3),e.k0s(),e.bVm(),e.k0s(),e.j41(8,"div",4),e.nrm(9,"router-outlet"),e.k0s()),2&a&&(e.Y8G("title",l.role.name)("crumbs",e.eq3(15,jn,e.l_i(12,ti,e.bMT(1,8,"Nav.Roles"),e.bMT(2,10,"/roles"))))("hasTabs",!0),e.R7$(3),e.Y8G("ngIf",l.isPolicyRole()||l.role.reserved),e.R7$(3),e.Y8G("tabTitle","Nav.Details")("tabValue","details"),e.R7$(),e.Y8G("tabTitle","Nav.Users")("tabValue","users"))},dependencies:[gn.bT,bt.n3,qt.z,sn.G,Cn.v,bn.D9,Hn.tl],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();var Cs=u(9957),Gi=u(6303),cs=u(3519),Mo=u(7499),fa=u(6728),ho=u(6406),zr=u(8762),Vo=u(7778),Di=u(4692);const Ia=s=>[s];function ea(s,p){1&s&&e.nrm(0,"input",12)}function jo(s,p){if(1&s&&(e.nrm(0,"app-readonly",13),e.nI1(1,"readOnlyValue")),2&s){const i=e.XpG();e.Y8G("fieldType",i.ReadOnlyFieldType.Single)("values",e.eq3(4,Ia,e.bMT(1,2,i.role.name)))}}function zl(s,p){1&s&&e.nrm(0,"textarea",14)}function Ga(s,p){if(1&s&&(e.nrm(0,"app-readonly",13),e.nI1(1,"readOnlyValue")),2&s){const i=e.XpG();e.Y8G("fieldType",i.ReadOnlyFieldType.Single)("values",e.eq3(4,Ia,e.bMT(1,2,i.role.description)))}}let ws=(()=>{class s{get ReadOnlyFieldType(){return Gi.t}constructor(i,a,l,D,Q,De,Qe,pt,jt,ln,wn){this.rolesService=i,this.route=a,this.securityService=l,this.router=D,this.fb=Q,this.titleService=De,this.toastr=Qe,this.dialogService=pt,this.translate=jt,this.localize=ln,this.errorService=wn}ngOnInit(){this.getCachedRoleSubscription=this.rolesService.getCachedRole().subscribe(i=>{this.role=i,this.buildForms(),this.initialData=JSON.stringify(i);const a=this.translate.instant("Roles.Role")+" "+this.role.name+" - "+Lt.$9.SITE_TITLE;this.titleService.setTitle(a)})}ngOnDestroy(){this.getCachedRoleSubscription.unsubscribe()}updateRole(){this.role=Object.assign({id:this.role.id},this.editRoleForm.value),this.role.name=this.role.name.trim(),this.rolesService.updateRole(this.role).subscribe(()=>{this.rolesService.setCachedRole(this.role);const i=this.translate.instant("Notifications.Saving Success Title"),a=this.translate.instant("Notifications.Saving Success Message");this.toastr.success(a,i)},i=>{if(401===i.status)this.toastr.warning(this.translate.instant("Roles.UpdateUnauthorized"),this.translate.instant("Notifications.Unauthorized"));else{const a={toastBody:this.translate.instant("Notifications.Saving Error Title"),toastTitle:this.translate.instant("Notifications.Saving Error Message")};(this.errorService.handleError(i,a)&Cs.I.Toast)!==Cs.I.Toast&&this.toastr.error(a.toastBody,a.toastTitle)}})}deleteRole(){this.rolesService.deleteRole(this.role).subscribe(i=>{const a=this.localize.translateRoute("/roles");this.router.navigate([a]),this.toastr.success(this.translate.instant("Roles.RoleRemoved"),this.translate.instant("Common.Delete.Deleted"))},i=>{if(401===i.status)this.toastr.warning(this.translate.instant("Roles.DeleteUnauthorized"),this.translate.instant("Notifications.Unauthorized"));else{const a={toastBody:this.translate.instant("Notifications.Saving Error Title"),toastTitle:this.translate.instant("Notifications.Saving Error Message")};(this.errorService.handleError(i,a)&Cs.I.Toast)!==Cs.I.Toast&&this.toastr.error(a.toastBody,a.toastTitle)}})}buildForms(){this.editRoleForm=this.fb.group({name:[{value:this.role.name,disabled:this.isControlDisabled()}],description:[{value:this.role.description,disabled:this.isControlDisabled()}]})}isControlDisabled(){return this.allowedToEditRole()||this.role.reserved}canDeactivate(){return!!this.editRoleForm.pristine||(this.dialogService.confirm(),this.dialogService.eventStream)}allowedToEditRole(){return!this.securityService.allView&&this.isPolicyRole()}isPolicyRole(){const i=this.securityService.policyClaims;for(let a=0;a<i.length;a++)if("role"===i[a].type&&i[a].value===this.role.name)return!0;return!1}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(cs.P),e.rXU(bt.nX),e.rXU(Vr.i),e.rXU(bt.Ix),e.rXU(g.ze),e.rXU(n.hE),e.rXU(Jn.tw),e.rXU(Mo.o),e.rXU(bn.c$),e.rXU(Hn.QG),e.rXU(ne.I))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-role-details"]],decls:19,vars:21,consts:[["deleteRoleModal",""],["id","editRoleDetails",1,"tw-container","tw-mx-auto"],[3,"formGroup"],[3,"id","label","help"],["type","text","class","tw-form-control","id","addRoleName","formControlName","name",4,"ngIf"],["class","tw-h-full",3,"fieldType","values",4,"ngIf"],[3,"id","label","isLast"],["class","tw-form-control","rows","2","id","addRoleDescription","formControlName","description",4,"ngIf"],["id","updateRoleBtn",1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"click","disabled"],["right",""],["id","showModal","data-toggle","modal","type","button",1,"tw-btn-danger","tw-mb-3",3,"click","disabled"],[3,"delete","modalId","resourceName"],["type","text","id","addRoleName","formControlName","name",1,"tw-form-control"],[1,"tw-h-full",3,"fieldType","values"],["rows","2","id","addRoleDescription","formControlName","description",1,"tw-form-control"]],template:function(a,l){if(1&a){const D=e.RV6();e.j41(0,"div",1)(1,"form",2)(2,"app-form-row",3),e.DNE(3,ea,1,0,"input",4)(4,jo,2,6,"app-readonly",5),e.k0s(),e.j41(5,"app-form-row",6),e.DNE(6,zl,1,0,"textarea",7)(7,Ga,2,6,"app-readonly",5),e.k0s()()(),e.j41(8,"app-button-bar")(9,"button",8),e.bIt("click",function(){return e.eBV(D),e.Njj(l.updateRole())}),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.qex(12,9),e.j41(13,"button",10),e.bIt("click",function(){e.eBV(D);const De=e.sdS(17);return e.Njj(De.show())}),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.bVm(),e.k0s(),e.j41(16,"app-delete-confirmation-modal",11,0),e.bIt("delete",function(){return e.eBV(D),e.Njj(l.deleteRole())}),e.k0s(),e.nrm(18,"app-can-deactivate")}2&a&&(e.R7$(),e.Y8G("formGroup",l.editRoleForm),e.R7$(),e.Y8G("id","addRoleName")("label","Common.Name")("help","Roles.TrimWhitespaceHelp"),e.R7$(),e.Y8G("ngIf",!l.isControlDisabled()),e.R7$(),e.Y8G("ngIf",l.isControlDisabled()),e.R7$(),e.Y8G("id","addRoleDescription")("label","Common.Description")("isLast",!0),e.R7$(),e.Y8G("ngIf",!l.isControlDisabled()),e.R7$(),e.Y8G("ngIf",l.isControlDisabled()),e.R7$(2),e.Y8G("disabled",!l.editRoleForm.dirty&&l.editRoleForm.valid||l.allowedToEditRole()||l.role.reserved),e.R7$(),e.SpI(" ",e.bMT(11,17,"Common.Save")," "),e.R7$(3),e.Y8G("disabled",l.isControlDisabled()),e.R7$(),e.SpI(" ",e.bMT(15,19,"Common.Delete.Title")," "),e.R7$(2),e.Y8G("modalId","deleteRoleModal")("resourceName",l.role.name))},dependencies:[gn.bT,g.qT,g.me,g.BC,g.cb,g.j4,g.JD,fa.E,ho.z,fe.Y,zr.O,Vo.w,Di.u,bn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();var Rr=u(1413),yi=u(6354),es=u(1716),Ha=u(9172),ta=u(1397),na=u(1986),ro=u(5435),Wa=u(7156),al=u(7294),$e=u(8114),h=function(s){return s.Remove="Remove",s.Add="Add",s}(h||{}),b=u(1068);const k=["roleManagerUsers"],K=()=>({animated:!1,backdrop:"static"}),ce=(s,p,i,a)=>({id:"usersAddingSummary",title:s,data:p,label:i,empty:a}),Ce=(s,p,i,a)=>({id:"usersRemovingSummary",title:s,data:p,label:i,empty:a});function We(s,p){1&s&&(e.nrm(0,"app-simple-loader",19),e.nI1(1,"translate")),2&s&&e.Y8G("text",e.bMT(1,1,"Roles.SavingPleaseWait"))}function A(s,p){if(1&s){const i=e.RV6();e.j41(0,"li",38)(1,"label",39)(2,"input",40),e.bIt("change",function(){const l=e.eBV(i).$implicit,D=e.XpG(3);return e.Njj(D.toggleIfInRole(l))}),e.k0s(),e.j41(3,"div",41)(4,"span",42),e.EFF(5),e.k0s(),e.j41(6,"span",43),e.EFF(7),e.k0s()()()()}if(2&s){const i=p.$implicit,a=e.XpG(3);e.R7$(2),e.Y8G("checked",a.checkChecked(i)),e.R7$(3),e.JRh(i.userName),e.R7$(2),e.JRh(i.email)}}function j(s,p){if(1&s&&(e.j41(0,"div",35)(1,"ul",36),e.DNE(2,A,8,3,"li",37),e.k0s()()),2&s){const i=e.XpG(2);e.R7$(2),e.Y8G("ngForOf",i.users)}}function B(s,p){1&s&&(e.j41(0,"p",44),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Roles.NotSelected")," "))}function Z(s,p){1&s&&(e.j41(0,"p",44),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Roles.NoResults")," "))}function be(s,p){1&s&&e.nrm(0,"app-simple-loader")}function He(s,p){1&s&&e.eu8(0)}function gt(s,p){1&s&&e.eu8(0)}function on(s,p){if(1&s){const i=e.RV6();e.j41(0,"div")(1,"div",20),e.nrm(2,"p",21),e.k0s(),e.j41(3,"div",22)(4,"h2",23),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"div",24)(8,"label",25)(9,"span",9),e.EFF(10),e.nI1(11,"translate"),e.k0s()(),e.j41(12,"input",26),e.mxI("ngModelChange",function(l){e.eBV(i);const D=e.XpG();return e.DH7(D.searchTerm,l)||(D.searchTerm=l),e.Njj(l)}),e.bIt("keyup",function(l){e.eBV(i);const D=e.XpG();return e.Njj(D.search(l))}),e.k0s()()(),e.j41(13,"div",27)(14,"div",28),e.DNE(15,j,3,1,"div",29)(16,B,3,3,"p",30)(17,Z,3,3,"p",30)(18,be,1,0,"app-simple-loader",12),e.k0s(),e.j41(19,"div",31)(20,"div",32),e.DNE(21,He,1,0,"ng-container",33),e.nI1(22,"translate"),e.nI1(23,"translate"),e.nI1(24,"translate"),e.k0s(),e.j41(25,"div",34),e.DNE(26,gt,1,0,"ng-container",33),e.nI1(27,"translate"),e.nI1(28,"translate"),e.nI1(29,"translate"),e.k0s()()()()}if(2&s){const i=e.XpG(),a=e.sdS(17);e.R7$(2),e.Y8G("innerHtml",i.summaryText,e.npT),e.R7$(3),e.JRh(e.bMT(6,12,"Roles.SearchAllUsers")),e.R7$(5),e.JRh(e.bMT(11,14,"Roles.SearchUsers")),e.R7$(2),e.R50("ngModel",i.searchTerm),e.R7$(3),e.Y8G("ngIf",!i.isLoading&&i.hasSearched&&i.users.length>0),e.R7$(),e.Y8G("ngIf",!i.isLoading&&!i.hasSearched&&i.users.length<1),e.R7$(),e.Y8G("ngIf",!i.isLoading&&i.hasSearched&&i.users.length<1),e.R7$(),e.Y8G("ngIf",i.isLoading),e.R7$(3),e.Y8G("ngTemplateOutlet",a)("ngTemplateOutletContext",e.ziG(28,ce,e.bMT(22,16,"Roles.Adding"),i.usersAdding,e.bMT(23,18,"Roles.CancelAdding"),e.bMT(24,20,"Roles.NoUsersAdding"))),e.R7$(5),e.Y8G("ngTemplateOutlet",a)("ngTemplateOutletContext",e.ziG(33,Ce,e.bMT(27,22,"Roles.Removing"),i.usersRemoving,e.bMT(28,24,"Roles.CancelRemoving"),e.bMT(29,26,"Roles.NoUsersRemoving")))}}function en(s,p){if(1&s&&(e.j41(0,"p",44),e.EFF(1),e.k0s()),2&s){const i=e.XpG().empty;e.R7$(),e.JRh(i)}}function Un(s,p){if(1&s){const i=e.RV6();e.j41(0,"li",52)(1,"button",53),e.bIt("click",function(){const l=e.eBV(i).$implicit,D=e.XpG(3);return e.Njj(D.toggleIfInRole(l))}),e.j41(2,"div",54),e.nrm(3,"span",55),e.j41(4,"span",56),e.EFF(5),e.k0s()()()()}if(2&s){const i=p.$implicit,a=e.XpG(2).label;e.R7$(),e.BMQ("aria-label",a+" "+i.userName),e.R7$(4),e.JRh(i.userName)}}function Oi(s,p){if(1&s&&(e.j41(0,"div",49)(1,"ul",50),e.DNE(2,Un,6,2,"li",51),e.k0s()()),2&s){const i=e.XpG(),a=i.id,l=i.data;e.R7$(),e.FS9("id",a),e.R7$(),e.Y8G("ngForOf",l)}}function Pi(s,p){if(1&s&&(e.j41(0,"h2",45),e.EFF(1),e.j41(2,"span",46),e.EFF(3),e.k0s()(),e.j41(4,"div",47),e.DNE(5,en,2,1,"p",30)(6,Oi,3,2,"div",48),e.k0s()),2&s){const i=p.title,a=p.data;e.R7$(),e.SpI(" ",i," "),e.R7$(2),e.SpI("(",a.length,")"),e.R7$(2),e.Y8G("ngIf",a.length<1),e.R7$(),e.Y8G("ngIf",a.length>0)}}let hr=(()=>{class s extends ro.if{constructor(i,a,l,D,Q){super(D,Q,!1),this.userService=i,this.rolesService=a,this.translateService=l,this.onSubmitted=new e.bkB,this.isLoading=!1,this.isSaving=!1,this.hasSearched=!1,this.users=new Array,this.usersAdding=[],this.usersRemoving=[],this.usersInRole=[]}ngOnInit(){this.summaryText=this.translateService.instant("Roles.AddRemoveUsersFromRole").replace("{0}",this.role.name),this.roleManagerUsers.onShow.subscribe(()=>{this.reset()}),this.searchSource.pipe((0,es.h)(this.enterKeySource)).subscribe(()=>{this.isLoading=!0,this.userService.getLightweightUsersAndIfInRole(this.role.id,"active",this.searchTerm,1,50).subscribe(Q=>{this.users=Q.results;const De=[...this.users.filter(Qe=>Qe.isInRole),...this.usersInRole];this.usersInRole=b.Am(De,!1,Qe=>Qe.subject),this.isLoading=!1,this.hasSearched=!0},Q=>{this.isLoading=!1})})}mapSearchTerm(i){return{searchTerm:i}}reset(){this.isLoading=!1,this.isSaving=!1,this.hasSearched=!1,this.users=[],this.usersAdding=[],this.usersRemoving=[],this.searchTerm="",this.searchTermStream.next("")}hide(){this.roleManagerUsers.hide()}show(){this.roleManagerUsers.show()}toggleIfInRole(i){if(i.isInRole){const a=b.SL(this.usersRemoving,l=>l.subject===i.subject);a>-1?(this.usersRemoving.splice(a,1),this.usersInRole.push(i)):(this.usersRemoving.push(i),this.usersInRole.splice(this.usersInRole.indexOf(i),1))}else{const a=b.SL(this.usersAdding,l=>l.subject===i.subject);a>-1?(this.usersAdding.splice(a,1),this.usersInRole.splice(this.usersInRole.indexOf(i),1)):(this.usersAdding.push(i),this.usersInRole.push(i))}}checkChecked(i){let a;return i.isInRole?(a=b.I6(this.usersRemoving,l=>l.subject===i.subject),void 0===a):(a=b.I6(this.usersAdding,l=>l.subject===i.subject),void 0!==a)}addOrRemoveUsers(){const i=[];this.isSaving=!0,i.push(...this.usersAdding.map(a=>({username:a.userName,subject:a.subject,addOrRemove:h.Add}))),i.push(...this.usersRemoving.map(a=>({username:a.userName,subject:a.subject,addOrRemove:h.Remove}))),this.rolesService.addAndRemoveUsers(this.role.id,i).subscribe(()=>{this.hide(),this.onSubmitted.emit(),this.toastr.success(this.translate.instant("Roles.Success"),this.translate.instant("Notifications.Success"))},a=>{this.isSaving=!1,401===a.status?this.toastr.warning(this.translate.instant("Roles.UpdateUnauthorized"),this.translate.instant("Notifications.Unauthorized")):this.toastr.warning(this.translate.instant("Roles.UpdateBadRequest"),this.translate.instant("Notifications.Failed"))})}ngOnDestroy(){this.hide()}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(bs.D),e.rXU(cs.P),e.rXU(bn.c$),e.rXU(Jn.tw),e.rXU(bn.c$))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-role-manageusers"]],viewQuery:function(a,l){if(1&a&&e.GBs(k,7),2&a){let D;e.mGM(D=e.lsd())&&(l.roleManagerUsers=D.first)}},inputs:{role:"role"},outputs:{onSubmitted:"onSubmitted"},features:[e.Vt3],decls:28,vars:19,consts:[["roleManagerUsers","bs-modal"],["commonSummaryGroup",""],["bsModal","","id","roleManagerUsers","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click","disabled"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","scrollbars"],[3,"text",4,"ngIf"],[4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","manageUserSubmit","type","submit",1,"tw-btn-success",3,"click","disabled"],[1,"tw-btn-link","tw--mr-4",3,"click","disabled"],[3,"text"],[1,"cms"],[3,"innerHtml"],[1,"tw-mb-4","md:tw-w-1/2","tw-pr-3"],[1,"tw-text-sm","tw-font-semibold","tw-mb-3"],[1,"tw-relative"],["for","roleUserSearch",1,"far","fa-search","tw-flex","tw-items-center","tw-justify-center","tw-text-grey-700","tw-m-0","tw-text-xs","tw-absolute","tw-inset-y-0","tw-w-10"],["id","roleUserSearch","type","search","minlength","2","maxlength","25","required","","autocomplete","off",1,"tw-form-control","tw-pl-8",3,"ngModelChange","keyup","ngModel"],[1,"md:tw-flex","md:tw-min-h-64","md:tw-max-h-popups-short"],[1,"tw-mb-6","md:tw-mb-0","md:tw-pr-3","md:tw-w-1/2"],["class","tw-max-h-48 tw-overflow-x-none tw-overflow-y-auto scrollbars md:tw-max-h-full md:tw-h-full",4,"ngIf"],["class","tw-italic tw-text-xs tw-text-grey-700",4,"ngIf"],[1,"md:tw-pl-3","md:tw-w-1/2"],[1,"tw-pb-3","md:tw-flex","md:tw-flex-col","md:tw-max-h-1/2"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"tw-pt-3","md:tw-flex","md:tw-flex-col","md:tw-max-h-1/2"],[1,"tw-max-h-48","tw-overflow-x-none","tw-overflow-y-auto","scrollbars","md:tw-max-h-full","md:tw-h-full"],["id","usersInRoleTable"],["class","tw-border-t-2 tw-border-grey-100 first:tw-border-t-0",4,"ngFor","ngForOf"],[1,"tw-border-t-2","tw-border-grey-100","first:tw-border-t-0"],[1,"tw-flex","tw-items-start","tw-bg-white","tw-normal-case","tw-text-sm","tw-m-0","tw-px-4","tw-py-3","tw-cursor-pointer"],["type","checkbox",1,"tw-shrink-0","tw-block","tw-mt-1","tw-mr-2",3,"change","checked"],[1,"tw-w-full","tw-truncate"],[1,"tw-block","tw-truncate"],[1,"tw-block","tw-text-xs","tw-text-grey-600","tw-mt-1","tw-truncate"],[1,"tw-italic","tw-text-xs","tw-text-grey-700"],[1,"tw-text-sm","tw-font-semibold","tw-mb-2"],[1,"tw-text-xs","tw-text-grey-700"],[1,"tw-overflow-x-none","tw-overflow-y-auto","scrollbars"],["class","tw--mt-2 tw--ml-2",4,"ngIf"],[1,"tw--mt-2","tw--ml-2"],[1,"tw-flex","tw-flex-wrap","tw-items-center",3,"id"],["class","tw-pl-2 tw-pt-2",4,"ngFor","ngForOf"],[1,"tw-pl-2","tw-pt-2"],[1,"tw-pill","hover:tw-bg-red-500","group","hover:tw-text-white",3,"click"],[1,"tw-flex","tw-items-center","tw-text-left","tw-truncate"],["aria-hidden","true",1,"fas","fa-times","tw-text-red-500","tw-mr-2","tw-shrink-0","group-hover:tw-text-white"],["aria-hidden","true",1,"tw-block","tw-truncate"]],template:function(a,l){if(1&a){const D=e.RV6();e.j41(0,"div",2,0)(2,"div",3)(3,"div",4)(4,"div",5)(5,"h5",6),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"button",7),e.bIt("click",function(){return e.eBV(D),e.Njj(l.hide())}),e.nrm(9,"span",8),e.j41(10,"span",9),e.EFF(11),e.nI1(12,"translate"),e.k0s()()(),e.j41(13,"div",10),e.DNE(14,We,2,3,"app-simple-loader",11)(15,on,30,38,"div",12)(16,Pi,7,4,"ng-template",null,1,e.C5r),e.k0s(),e.nrm(18,"div",13),e.j41(19,"div",14)(20,"div",15)(21,"div",16)(22,"button",17),e.bIt("click",function(){return e.eBV(D),e.Njj(l.addOrRemoveUsers())}),e.EFF(23),e.nI1(24,"translate"),e.k0s()(),e.j41(25,"button",18),e.bIt("click",function(){return e.eBV(D),e.Njj(l.hide())}),e.EFF(26),e.nI1(27,"translate"),e.k0s()()()()()()}2&a&&(e.Y8G("config",e.lJ4(18,K)),e.R7$(6),e.JRh(e.bMT(7,10,"Roles.RoleUserManagement")),e.R7$(2),e.Y8G("disabled",l.isSaving),e.R7$(3),e.JRh(e.bMT(12,12,"Common.Close")),e.R7$(3),e.Y8G("ngIf",l.isSaving),e.R7$(),e.Y8G("ngIf",!l.isSaving),e.R7$(7),e.Y8G("disabled",l.isSaving||l.usersAdding.length<1&&l.usersRemoving.length<1),e.R7$(),e.SpI(" ",e.bMT(24,14,"Common.Save")," "),e.R7$(2),e.Y8G("disabled",l.isSaving),e.R7$(),e.JRh(e.bMT(27,16,"Common.Close")))},dependencies:[gn.Sq,gn.bT,gn.T3,g.me,g.BC,g.YS,g.xh,g.tU,g.vS,Mt.hZ,As.d,bn.D9],encapsulation:2})}}return s})();function Vs(s,p){if(1&s){const i=e.RV6();e.qex(0,20),e.j41(1,"div",21)(2,"label",22),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"select",23),e.mxI("ngModelChange",function(l){e.eBV(i);const D=e.XpG(2);return e.DH7(D.pageSize,l)||(D.pageSize=l),e.Njj(l)}),e.bIt("change",function(){e.eBV(i);const l=e.XpG(2);return e.Njj(l.setPageLength(+l.pageSize))}),e.j41(6,"option",24),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"option",25),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"option",26),e.EFF(13),e.nI1(14,"translate"),e.k0s()()(),e.bVm()}if(2&s){const i=e.XpG(2);e.R7$(3),e.Lme("",i.pageSize," ",e.bMT(4,6,"Nav.PerPage"),""),e.R7$(2),e.R50("ngModel",i.pageSize),e.R7$(2),e.SpI("25 ",e.bMT(8,8,"Nav.PerPage"),""),e.R7$(3),e.SpI("50 ",e.bMT(11,10,"Nav.PerPage"),""),e.R7$(3),e.SpI("100 ",e.bMT(14,12,"Nav.PerPage"),"")}}function xs(s,p){1&s&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Roles.ManageUsers")," "))}function Da(s,p){1&s&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Roles.AddUsers")," "))}function Yl(s,p){if(1&s){const i=e.RV6();e.j41(0,"app-action-bar"),e.DNE(1,Vs,15,14,"ng-container",17),e.qex(2,18),e.j41(3,"button",19),e.bIt("click",function(){e.eBV(i),e.XpG();const l=e.sdS(11);return e.Njj(l.show())}),e.DNE(4,xs,3,3,"span",9)(5,Da,3,3,"span",9),e.k0s(),e.bVm(),e.k0s()}if(2&s){const i=e.XpG();e.R7$(),e.Y8G("ngIf",(null==i.pagedResult?null:i.pagedResult.results.length)>0),e.R7$(3),e.Y8G("ngIf",i.users&&i.users.length>0),e.R7$(),e.Y8G("ngIf",i.users&&i.users.length<1)}}function Ks(s,p){1&s&&e.nrm(0,"app-simple-loader")}function Xl(s,p){1&s&&(e.j41(0,"div",27)(1,"div"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&s&&(e.R7$(2),e.JRh(e.bMT(3,1,"Users.NoUsersFound")))}function Kf(s,p){if(1&s){const i=e.RV6();e.j41(0,"tr")(1,"td",34),e.bIt("click",function(){const l=e.eBV(i).$implicit,D=e.XpG(2);return e.Njj(D.goToUser(l))}),e.j41(2,"b",35),e.EFF(3),e.k0s()(),e.j41(4,"td",36),e.bIt("click",function(){const l=e.eBV(i).$implicit,D=e.XpG(2);return e.Njj(D.goToUser(l))}),e.EFF(5),e.k0s(),e.j41(6,"td",36),e.bIt("click",function(){const l=e.eBV(i).$implicit,D=e.XpG(2);return e.Njj(D.goToUser(l))}),e.EFF(7),e.k0s(),e.j41(8,"td",37),e.bIt("click",function(){const l=e.eBV(i).$implicit,D=e.XpG(2);return e.Njj(D.removeUser(l))}),e.j41(9,"button",38),e.bIt("click",function(){const l=e.eBV(i).$implicit,D=e.XpG(2),Q=e.sdS(17);return D.removeUser(l),e.Njj(Q.show())}),e.nrm(10,"span",39),e.j41(11,"span",7),e.EFF(12),e.nI1(13,"translate"),e.k0s()()()()}if(2&s){const i=p.$implicit;e.R7$(3),e.JRh(i.username),e.R7$(2),e.SpI(" ",i.firstName," "),e.R7$(2),e.SpI(" ",i.lastName," "),e.R7$(5),e.JRh(e.bMT(13,4,"Common.Remove.Title"))}}function Ka(s,p){if(1&s&&(e.j41(0,"table",28)(1,"thead")(2,"tr")(3,"th",29),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"th",30),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"th",30),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"th",31)(13,"span",7),e.EFF(14),e.nI1(15,"translate"),e.k0s()()()(),e.j41(16,"tbody",32),e.DNE(17,Kf,14,6,"tr",33),e.k0s()()),2&s){const i=e.XpG();e.R7$(4),e.JRh(e.bMT(5,5,"Users.Username")),e.R7$(3),e.JRh(e.bMT(8,7,"Users.FirstName")),e.R7$(3),e.JRh(e.bMT(11,9,"Users.LastName")),e.R7$(4),e.JRh(e.bMT(15,11,"Common.Actions")),e.R7$(3),e.Y8G("ngForOf",i.users)}}function Yr(s,p){if(1&s){const i=e.RV6();e.j41(0,"app-pager",40),e.bIt("onGoToPage",function(l){e.eBV(i);const D=e.XpG();return e.Njj(D.goToPage(l))}),e.k0s()}if(2&s){const i=e.XpG();e.Y8G("totalResults",null==i.pagedResult?null:i.pagedResult.totalCount)("currentPage",i.page)("lastPage",null==i.pagedResult?null:i.pagedResult.pageCount)}}let Aa=(()=>{class s extends ro.if{constructor(i,a,l,D,Q,De,Qe){super(Q,a,!0),this.rolesService=i,this.localize=l,this.router=D,this.errorService=De,this.userService=Qe,this.pageStream=new Rr.B,this.pageSizeStream=new Rr.B,this.userToRemove=null,this.removeSummaryTranslation="",this.removeSummary="",this.page=1,this.pageSize=25,this.removeSummaryTranslation=a.instant("Roles.AreYouSureRemove")}ngOnInit(){this.isLoading=!0,this.rolesService.getCachedRole().pipe((0,Vn.$)()).subscribe(i=>{this.role=i,this.removeSummaryTranslation=this.removeSummaryTranslation.replace("{1}",this.role.name);const a=this.pageStream.pipe((0,yi.T)(Q=>(this.page=Q,{searchTerm:this.searchTerm,page:Q,pageSize:this.pageSize}))),l=this.pageSizeStream.pipe((0,yi.T)(Q=>(this.pageSize=Q,{searchTerm:this.searchTerm,page:this.page,pageSize:Q})));a.pipe((0,es.h)(l),(0,es.h)(this.searchSource),(0,es.h)(this.enterKeySource),(0,Ha.Z)({searchTerm:this.searchTerm,page:this.page,pageSize:this.pageSize}),(0,ta.Z)(Q=>(this.isLoading=!0,this.rolesService.getUsersInRole(i.id,Q.page,Q.pageSize,Q.searchTerm).pipe((0,na.c)(200))))).subscribe(Q=>{this.pagedResult=Q,this.users=Q.results,this.isLoading=!1},Q=>{this.errorService.handleError(Q),this.isLoading=!1})})}mapSearchTerm(i){return this.searchTerm=i,{searchTerm:this.searchTerm,page:1,pageSize:this.pageSize}}onSubmit(i){this.pageStream.next(1)}goToPage(i){this.pageStream.next(i)}setPageLength(i){this.page=1,this.pageSizeStream.next(i)}goToUser(i){const a=[this.localize.translateRoute("/users"),i.subject,"roles"];this.router.navigate(a)}removeUser(i){this.removeSummary=this.removeSummaryTranslation.replace("{0}",i.username),this.userToRemove=i}delete(){this.isLoading=!0,this.userService.deleteUserRoles(this.userToRemove.subject,[this.role.name]).subscribe(i=>{let a=this.users&&1===this.users.length&&this.page>1?this.page-1:this.page;a<1&&(a=1),this.goToPage(a),this.toastr.success(this.translate.instant("Roles.Success"),this.translate.instant("Notifications.Success")),this.userToRemove=null},i=>{this.isLoading=!1,401===i.status&&this.toastr.warning(this.translate.instant("Roles.UnassignUnauthorized"),this.translate.instant("Notifications.Unauthorized")),this.userToRemove=null})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(cs.P),e.rXU(bn.c$),e.rXU(Hn.QG),e.rXU(bt.Ix),e.rXU(Jn.tw),e.rXU(ne.I),e.rXU(bs.D))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-role-users"]],features:[e.Vt3],decls:20,vars:17,consts:[["manageUsersModal",""],["removeUserModal",""],[1,"tw-container","tw-mx-auto"],["id","searchContainer",1,"tw-mb-2"],[1,"tw-flex","tw-bg-white","tw-border","tw-border-grey-300","tw-opacity-75","tw-cursor-text","tw-rounded","focus-within:tw-opacity-100","focus-within:tw-border-blue-400","tw-transition-all","tw-ease-in-out"],["for","searchTerm",1,"tw-flex","tw-items-center","tw-text-grey-500","tw-m-0","tw-ml-3"],["aria-hidden","true",1,"far","fa-search","tw-text-sm"],[1,"sr-only"],["id","searchRole","type","search","minlength","2","maxlength","25","required","","autocomplete","off",1,"tw-bg-transparent","tw-border-0","tw-text-base","tw-leading-tight","tw-px-2","tw-py-2","tw-w-full","focus:tw-outline-none","tw-transition-all","tw-ease-in-out",3,"ngModelChange","keyup","ngModel"],[4,"ngIf"],["id","manageUsersModal",3,"onSubmitted","role"],["class","tw-alert","role","alert",4,"ngIf"],["id","roleUsersTable","class","datatable selectable hover",4,"ngIf"],[3,"totalResults","currentPage","lastPage","onGoToPage",4,"ngIf"],[3,"confirm","modalId","type","buttonType","title","okText","cancelText"],["body",""],[3,"innerHtml"],["left","",4,"ngIf"],["right",""],["id","manageUsersButton",1,"tw-btn-success",3,"click"],["left",""],[1,"tw-form-select","tw-w-auto"],["for","pageSizeToggle",1,"sr-only"],["id","pageSizeToggle",1,"tw-form-control","tw-form-control-small",3,"ngModelChange","change","ngModel"],["value","25"],["value","50"],["value","100"],["role","alert",1,"tw-alert"],["id","roleUsersTable",1,"datatable","selectable","hover"],[1,"sm:tw-w-1/3","md:tw-w-1/2"],[1,"tw-hidden","sm:tw-table-cell"],[1,"tw-w-1"],["id","usersInRoleTable"],[4,"ngFor","ngForOf"],[1,"tw-max-w-0","tw-truncate",3,"click"],[1,"tw-text-blue-500"],[1,"tw-hidden","tw-max-w-0","tw-truncate","sm:tw-table-cell",3,"click"],[3,"click"],[1,"tw-btn-link","tw-btn-small","tw-text-red-500",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[3,"onGoToPage","totalResults","currentPage","lastPage"]],template:function(a,l){if(1&a){const D=e.RV6();e.j41(0,"div",2)(1,"div",3)(2,"div",4)(3,"label",5),e.nrm(4,"span",6),e.j41(5,"span",7),e.EFF(6),e.nI1(7,"translate"),e.k0s()(),e.j41(8,"input",8),e.mxI("ngModelChange",function(De){return e.eBV(D),e.DH7(l.searchTerm,De)||(l.searchTerm=De),e.Njj(De)}),e.bIt("keyup",function(De){return e.eBV(D),e.Njj(l.search(De))}),e.k0s()()(),e.DNE(9,Yl,6,3,"app-action-bar",9),e.j41(10,"app-role-manageusers",10,0),e.bIt("onSubmitted",function(De){return e.eBV(D),e.Njj(l.onSubmit(De))}),e.k0s(),e.DNE(12,Ks,1,0,"app-simple-loader",9)(13,Xl,4,3,"div",11)(14,Ka,18,13,"table",12)(15,Yr,1,3,"app-pager",13),e.k0s(),e.j41(16,"app-confirmation-modal",14,1),e.bIt("confirm",function(){return e.eBV(D),e.Njj(l.delete())}),e.qex(18,15),e.nrm(19,"p",16),e.bVm(),e.k0s()}2&a&&(e.R7$(6),e.JRh(e.bMT(7,15,"Common.Search")),e.R7$(2),e.R50("ngModel",l.searchTerm),e.R7$(),e.Y8G("ngIf",!l.isLoading),e.R7$(),e.Y8G("role",l.role),e.R7$(2),e.Y8G("ngIf",l.isLoading),e.R7$(),e.Y8G("ngIf",l.users&&0==l.users.length&&!l.isLoading),e.R7$(),e.Y8G("ngIf",l.users&&l.users.length>0&&!l.isLoading),e.R7$(),e.Y8G("ngIf",(null==l.pagedResult?null:l.pagedResult.results.length)>0&&!l.isLoading),e.R7$(),e.Y8G("modalId","removeUserModal")("type","danger")("buttonType","danger")("title","Common.Remove.Confirm")("okText","Common.Remove.Title")("cancelText","Common.Remove.No"),e.R7$(3),e.Y8G("innerHtml",l.removeSummary,e.npT))},dependencies:[gn.Sq,gn.bT,g.xH,g.y7,g.me,g.wz,g.BC,g.YS,g.xh,g.tU,g.vS,Wa.B,al.n,As.d,$e.B,hr,bn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();var ll=u(152),cl=u(3294),ia=u(8412),$o=u(2510);class Jl{constructor(){this.selected=!1}}const nd=["addRoleModal"],ul=()=>({animated:!1,backdrop:"static"});let id=(()=>{class s{constructor(i,a,l,D,Q,De){this.rolesService=i,this.errorService=a,this.translate=l,this.router=D,this.fb=Q,this.toastr=De,this.added=new e.bkB}keydown(i){"Enter"===i.key&&this.addRoleForm.valid&&this.addRole()}ngOnInit(){this.addRoleForm=this.fb.group({name:["",g.k0.required],description:["",g.k0.maxLength(1e3)]})}addAnotherRole(){this.addAnother=!0,this.addRole()}addRole(){let i=new Jl;i=this.addRoleForm.value,i.name=i.name.trim(),this.rolesService.addRole(i).subscribe(a=>{this.addAnother||this.hide(),this.addAnother=!1,this.addRoleForm.reset(),this.toastr.success(this.translate.instant("Roles.Role")+" "+i.name+" "+this.translate.instant("Common.Created"),this.translate.instant("Roles.RoleCreated")),this.added.emit(!0)},a=>{this.errorService.handleError(a)})}hide(){this.addRoleModal.hide()}show(){this.addRoleModal.show(),this.addRoleForm.reset()}ngOnDestroy(){this.hide()}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(cs.P),e.rXU(ne.I),e.rXU(bn.c$),e.rXU(bt.Ix),e.rXU(g.ze),e.rXU(Jn.tw))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-add-role"]],viewQuery:function(a,l){if(1&a&&e.GBs(nd,7),2&a){let D;e.mGM(D=e.lsd())&&(l.addRoleModal=D.first)}},hostBindings:function(a,l){1&a&&e.bIt("keydown",function(Q){return l.keydown(Q)},!1,e.EBC)},outputs:{added:"added"},decls:33,vars:26,consts:[["addRoleModal","bs-modal"],["bsModal","","id","addRoleModal","tabindex","-1","role","dialog","aria-hidden","true",1,"modal",3,"config"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","scrollbars"],[3,"formGroup"],[3,"id","label","help"],["type","text","id","addRoleName","formControlName","name",1,"tw-form-control"],[3,"id","label","isLast"],["rows","2","id","addRoleDescription","formControlName","description",1,"tw-form-control"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["type","submit","id","addRoleSubmit",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],[1,"tw-hidden","xs:tw-inline"],["type","button","id","addRoleReSubmit",1,"tw-btn",3,"click","disabled"],[1,"tw-btn-link","tw--mr-4",3,"click"]],template:function(a,l){if(1&a){const D=e.RV6();e.j41(0,"div",1,0)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"button",6),e.bIt("click",function(){return e.eBV(D),e.Njj(l.hide())}),e.nrm(9,"span",7),e.j41(10,"span",8),e.EFF(11),e.nI1(12,"translate"),e.k0s()()(),e.j41(13,"div",9)(14,"form",10)(15,"app-form-row",11),e.nrm(16,"input",12),e.k0s(),e.j41(17,"app-form-row",13),e.nrm(18,"textarea",14),e.k0s()()(),e.nrm(19,"div",15),e.j41(20,"div",16)(21,"div",17)(22,"div",18)(23,"button",19),e.bIt("click",function(){return e.eBV(D),l.addRole(),e.Njj(l.hide())}),e.EFF(24),e.nI1(25,"translate"),e.k0s(),e.j41(26,"span",20)(27,"button",21),e.bIt("click",function(){return e.eBV(D),e.Njj(l.addAnotherRole())}),e.EFF(28),e.nI1(29,"translate"),e.k0s()()(),e.j41(30,"button",22),e.bIt("click",function(){return e.eBV(D),e.Njj(l.hide())}),e.EFF(31),e.nI1(32,"translate"),e.k0s()()()()()()}2&a&&(e.Y8G("config",e.lJ4(25,ul)),e.R7$(6),e.JRh(e.bMT(7,15,"Roles.NewRole")),e.R7$(5),e.JRh(e.bMT(12,17,"Common.Close")),e.R7$(3),e.Y8G("formGroup",l.addRoleForm),e.R7$(),e.Y8G("id","addRoleName")("label","Common.Name")("help","Roles.TrimWhitespaceHelp"),e.R7$(2),e.Y8G("id","addRoleDescription")("label","Common.Description")("isLast",!0),e.R7$(6),e.Y8G("disabled",!l.addRoleForm.valid),e.R7$(),e.JRh(e.bMT(25,19,"Common.Save")),e.R7$(3),e.Y8G("disabled",!l.addRoleForm.valid),e.R7$(),e.JRh(e.bMT(29,21,"Common.SaveAndAdd")),e.R7$(3),e.JRh(e.bMT(32,23,"Common.Cancel")))},dependencies:[g.qT,g.me,g.BC,g.cb,g.j4,g.JD,Mt.hZ,fe.Y,bn.D9],encapsulation:2})}}return s})();const ih=(s,p)=>({"fad fa-pencil":s,"fas fa-eye":p});function br(s,p){if(1&s){const i=e.RV6();e.j41(0,"app-action-bar"),e.qex(1,9),e.j41(2,"button",10),e.bIt("click",function(){e.eBV(i),e.XpG();const l=e.sdS(3);return e.Njj(l.show())}),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.bVm(),e.k0s()}2&s&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"Roles.AddRole")," "))}function zf(s,p){1&s&&e.nrm(0,"app-simple-loader")}function rd(s,p){1&s&&(e.j41(0,"div",11)(1,"div"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&s&&(e.R7$(2),e.JRh(e.bMT(3,1,"Roles.NoRolesFound")))}function Go(s,p){1&s&&e.nrm(0,"span",23)}function lb(s,p){1&s&&e.nrm(0,"span",24)}function sd(s,p){1&s&&(e.j41(0,"span",36),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Policy")," "))}function Vc(s,p){1&s&&(e.j41(0,"span",37),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Reserved")," "))}function pa(s,p){if(1&s){const i=e.RV6();e.j41(0,"tr",25)(1,"td",26),e.bIt("click",function(){const l=e.eBV(i).$implicit,D=e.XpG(2);return e.Njj(D.viewOrEditRole(l))}),e.j41(2,"b",27),e.EFF(3),e.k0s()(),e.j41(4,"td",28),e.bIt("click",function(){const l=e.eBV(i).$implicit,D=e.XpG(2);return e.Njj(D.viewOrEditRole(l))}),e.EFF(5),e.k0s(),e.j41(6,"td",29),e.bIt("click",function(){const l=e.eBV(i).$implicit,D=e.XpG(2);return e.Njj(D.viewOrEditRole(l))}),e.DNE(7,sd,3,3,"span",30),e.k0s(),e.j41(8,"td",31),e.bIt("click",function(){const l=e.eBV(i).$implicit,D=e.XpG(2);return e.Njj(D.viewOrEditRole(l))}),e.DNE(9,Vc,3,3,"span",32),e.k0s(),e.j41(10,"td",33),e.bIt("click",function(){const l=e.eBV(i).$implicit,D=e.XpG(2);return e.Njj(D.viewOrEditRole(l))}),e.j41(11,"button",34),e.bIt("click",function(){const l=e.eBV(i).$implicit,D=e.XpG(2);return e.Njj(D.viewOrEditRole(l))}),e.nrm(12,"span",35),e.j41(13,"span",19),e.EFF(14),e.nI1(15,"translate"),e.k0s()()()()}if(2&s){const i=p.$implicit,a=e.XpG(2);e.R7$(3),e.JRh(i.name),e.R7$(2),e.SpI(" ",i.description," "),e.R7$(2),e.Y8G("ngIf",a.isPolicyRole(i)),e.R7$(2),e.Y8G("ngIf",i.reserved),e.R7$(3),e.Y8G("ngClass",e.l_i(8,ih,!a.isUserManagerReadOnly,a.isUserManagerReadOnly)),e.R7$(2),e.JRh(e.bMT(15,6,"Common.Edit"))}}function cb(s,p){if(1&s){const i=e.RV6();e.j41(0,"table",12)(1,"thead")(2,"tr")(3,"th",13),e.bIt("click",function(){e.eBV(i);const l=e.XpG();return e.Njj(l.sort())}),e.j41(4,"span",14),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.DNE(7,Go,1,0,"span",15)(8,lb,1,0,"span",16),e.k0s(),e.j41(9,"th",17),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"th",18)(13,"span",19),e.EFF(14),e.nI1(15,"translate"),e.k0s()(),e.j41(16,"th",20)(17,"span",19),e.EFF(18),e.nI1(19,"translate"),e.k0s()(),e.j41(20,"th",21)(21,"span",19),e.EFF(22),e.nI1(23,"translate"),e.k0s()()()(),e.j41(24,"tbody"),e.DNE(25,pa,16,11,"tr",22),e.k0s()()}if(2&s){const i=e.XpG();e.R7$(5),e.JRh(e.bMT(6,8,"Common.Name")),e.R7$(2),e.Y8G("ngIf",i.sortIcon),e.R7$(),e.Y8G("ngIf",!i.sortIcon),e.R7$(2),e.SpI(" ",e.bMT(11,10,"Common.Description")," "),e.R7$(4),e.JRh(e.bMT(15,12,"Common.Policy")),e.R7$(4),e.JRh(e.bMT(19,14,"Common.Reserved")),e.R7$(4),e.JRh(e.bMT(23,16,"Common.Actions")),e.R7$(3),e.Y8G("ngForOf",i.roles)}}function Yf(s,p){if(1&s&&e.nrm(0,"app-pager",38),2&s){const i=e.XpG();e.Y8G("totalResults",null==i.roles?null:i.roles.length)}}let ub=(()=>{class s{constructor(i,a,l,D,Q,De,Qe){this.rolesService=i,this.securityService=a,this.translate=l,this.router=D,this.titleService=Q,this.localize=De,this.errorService=Qe,this.roleListLength=0,this.sortCriteria="-name",this.term="",this.searchTermStream=new Rr.B,this.sortStream=new Rr.B}ngOnInit(){const i=this.translate.instant("Nav.Roles")+" - "+Lt.$9.SITE_TITLE;this.titleService.setTitle(i),this.isLoading=!0;const a=this.sortStream.pipe((0,yi.T)(Q=>({search:this.term,sort:Q})));this.searchTermStream.pipe((0,ll.B)(300),(0,cl.F)(),(0,yi.T)(Q=>(this.term=Q,{search:Q,sort:this.sortCriteria}))).pipe((0,ia.X)(a),(0,Ha.Z)({search:this.term,sort:this.sortCriteria}),(0,ta.Z)(Q=>this.rolesService.getRoles(Q.search,Q.sort))).subscribe({next:Q=>{this.roles=Q,this.isLoading=!1},error:Q=>{this.errorService.handleError(Q),this.isLoading=!1}})}search(i){this.searchTermStream.next(i)}update(){this.sortStream.next(this.sortCriteria)}sort(){this.sortCriteria=this.sortCriteria.startsWith("-")?"name":"-name",this.sortStream.next(this.sortCriteria),this.sortIcon=!this.sortIcon}viewOrEditRole(i){this.isUserManagerReadOnly?this.viewRole(i):this.editRole(i)}editRole(i){const a=[this.localize.translateRoute("/roles"),i.id];this.router.navigate(a)}viewRole(i){const a=[this.localize.translateRoute("/roles/view"),i.id];this.router.navigate(a)}allowedToEditRole(i){return!this.securityService.allView&&this.isPolicyRole(i)}isPolicyRole(i){const a=this.securityService.policyClaims;for(let l=0;l<a.length;l++)if("role"===a[l].type&&a[l].value===i.name)return!0;return!1}get isUserManagerReadOnly(){return(0,Ii.zG)(this.securityService.userPermissions)}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(cs.P),e.rXU(Vr.i),e.rXU(bn.c$),e.rXU(bt.Ix),e.rXU(n.hE),e.rXU(Hn.QG),e.rXU(ne.I))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["ng-component"]],decls:12,vars:11,consts:[["addRoleModal",""],[3,"title"],[3,"added"],["id","rolesList",1,"tw-container","mx-auto"],[3,"onSearch","placeholder"],[4,"ngIf"],["class","tw-alert","role","alert",4,"ngIf"],["id","rolesTable","class","datatable selectable hover",4,"ngIf"],["hidePager","true",3,"totalResults",4,"ngIf"],["right",""],[1,"tw-btn-success",3,"click"],["role","alert",1,"tw-alert"],["id","rolesTable",1,"datatable","selectable","hover"],["id","sortName",1,"tw-max-w-0","tw-cursor-pointer","lg:tw-w-1/3",3,"click"],[1,"tw-mr-2"],["class","fas fa-caret-down","aria-hidden","true",4,"ngIf"],["class","fas fa-caret-up","aria-hidden","true",4,"ngIf"],[1,"tw-hidden","lg:tw-table-cell"],[1,"tw-w-1","tw-hidden","sm:tw-table-cell"],[1,"sr-only"],[1,"tw-w-1","tw-hidden","md:tw-table-cell"],[1,"tw-w-1"],["class","group",4,"ngFor","ngForOf"],["aria-hidden","true",1,"fas","fa-caret-down"],["aria-hidden","true",1,"fas","fa-caret-up"],[1,"group"],[1,"tw-max-w-0","tw-truncate",3,"click"],[1,"tw-text-blue-500"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell",3,"click"],[1,"tw-hidden","sm:tw-table-cell",3,"click"],["class","tw-pill-warning",4,"ngIf"],[1,"tw-hidden","md:tw-table-cell",3,"click"],["class","tw-pill",4,"ngIf"],[3,"click"],[1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click"],["id","viewOrEditIcon","aria-hidden","true",3,"ngClass"],[1,"tw-pill-warning"],[1,"tw-pill"],["hidePager","true",3,"totalResults"]],template:function(a,l){if(1&a){const D=e.RV6();e.nrm(0,"app-title-bar",1),e.nI1(1,"translate"),e.j41(2,"app-add-role",2,0),e.bIt("added",function(){return e.eBV(D),e.Njj(l.update())}),e.k0s(),e.j41(4,"div",3)(5,"app-search",4),e.nI1(6,"translate"),e.bIt("onSearch",function(De){return e.eBV(D),e.Njj(l.search(De))}),e.k0s(),e.DNE(7,br,5,3,"app-action-bar",5)(8,zf,1,0,"app-simple-loader",5)(9,rd,4,3,"div",6)(10,cb,26,18,"table",7)(11,Yf,1,1,"app-pager",8),e.k0s()}2&a&&(e.Y8G("title",e.bMT(1,7,"Nav.Roles")),e.R7$(5),e.Y8G("placeholder",e.bMT(6,9,"Roles.SearchPlaceholder")),e.R7$(2),e.Y8G("ngIf",!l.isLoading&&!l.isUserManagerReadOnly),e.R7$(),e.Y8G("ngIf",l.isLoading),e.R7$(),e.Y8G("ngIf",(!l.roles||l.roles.length<=0)&&!l.isLoading),e.R7$(),e.Y8G("ngIf",l.roles&&l.roles.length>0&&!l.isLoading),e.R7$(),e.Y8G("ngIf",l.roles&&l.roles.length>0&&!l.isLoading))},dependencies:[gn.YU,gn.Sq,gn.bT,qt.z,Wa.B,al.n,$o.S,As.d,id,bn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();const dl=(s,p)=>({title:s,link:p}),Qg=s=>[s];function db(s,p){1&s&&(e.j41(0,"span",8),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Policy")," "))}function Zg(s,p){1&s&&(e.j41(0,"span",9),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Reserved")," "))}function Xf(s,p){if(1&s&&(e.qex(0,5),e.DNE(1,db,3,3,"span",6)(2,Zg,3,3,"span",7),e.bVm()),2&s){const i=e.XpG();e.R7$(),e.Y8G("ngIf",i.isPolicyRole()),e.R7$(),e.Y8G("ngIf",i.role.reserved)}}let Jf=(()=>{class s{constructor(i,a,l,D){this.activatedRoute=i,this.errorService=a,this.router=l,this.securityService=D}ngOnInit(){this.roleDataSubscription=this.activatedRoute.data.subscribe(i=>{this.role=i.role},i=>{this.errorService.handleError(i)})}ngOnDestroy(){this.roleDataSubscription.unsubscribe()}isPolicyRole(){const i=this.securityService.policyClaims;for(let a=0;a<i.length;a++)if("role"===i[a].type&&i[a].value===this.role.name)return!0;return!1}mobRoute(i){this.router.navigate([i],{relativeTo:this.activatedRoute})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(bt.nX),e.rXU(ne.I),e.rXU(bt.Ix),e.rXU(Vr.i))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["ng-component"]],decls:10,vars:18,consts:[[3,"title","crumbs","hasTabs","isReadOnly"],["badge","",4,"ngIf"],["tabs",""],[3,"tabTitle","tabValue"],["id","viewRole"],["badge",""],["class","tw-pill-warning tw-mr-2",4,"ngIf"],["class","tw-pill tw-mr-2",4,"ngIf"],[1,"tw-pill-warning","tw-mr-2"],[1,"tw-pill","tw-mr-2"]],template:function(a,l){1&a&&(e.j41(0,"app-title-bar",0),e.nI1(1,"translate"),e.nI1(2,"localize"),e.DNE(3,Xf,3,2,"ng-container",1),e.qex(4,2),e.j41(5,"app-custom-tabs"),e.nrm(6,"app-custom-tab",3)(7,"app-custom-tab",3),e.k0s(),e.bVm(),e.k0s(),e.j41(8,"div",4),e.nrm(9,"router-outlet"),e.k0s()),2&a&&(e.Y8G("title",l.role.name)("crumbs",e.eq3(16,Qg,e.l_i(13,dl,e.bMT(1,9,"Nav.Roles"),e.bMT(2,11,"/roles"))))("hasTabs",!0)("isReadOnly",!0),e.R7$(3),e.Y8G("ngIf",l.isPolicyRole()||l.role.reserved),e.R7$(3),e.Y8G("tabTitle","Nav.Details")("tabValue","details"),e.R7$(),e.Y8G("tabTitle","Nav.Users")("tabValue","users"))},dependencies:[gn.bT,bt.n3,qt.z,sn.G,Cn.v,bn.D9,Hn.tl],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();var od=u(5517),Ql=u(6199),rh=u(1796),Ra=u(6923),Fi=u(2771),Qf=u(2734),ad=u(9564);let hb=(()=>{class s extends Qf.x{constructor(i,a){super(),this.http=i,this.headersService=a,this.userSubject=new Fi.m(1),this.actionUrl="auditedEvents",this.headers=this.headersService.setHeaders()}getAudits(i,a,l,D,Q,De,Qe){const pt=this.buildParams(i,l,a,D,Q,De,Qe);return this.http.get(this.actionUrl,{headers:this.headers,params:pt})}getResourceAudits(i,a,l,D,Q,De,Qe,pt,jt){throw new Error("AuditingService doesn't support getResourceAudits method")}static{this.\u0275fac=function(a){return new(a||s)(e.KVO(S.Qq),e.KVO(ad.m))}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac})}}return s})();var fb=u(9861);let pb=(()=>{class s{constructor(i,a){i.setTitle(a.instant("Nav.Auditing")+` - ${Lt.$9.SITE_TITLE}`)}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(n.hE),e.rXU(bn.c$))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-all-audits"]],features:[e.Jv_([{provide:Qf.x,useClass:hb}])],decls:4,vars:3,consts:[[3,"title"],[1,"tw-container","tw-mx-auto"]],template:function(a,l){1&a&&(e.nrm(0,"app-title-bar",0),e.nI1(1,"translate"),e.j41(2,"div",1),e.nrm(3,"app-audits-list"),e.k0s()),2&a&&e.Y8G("title",e.bMT(1,1,"Nav.Auditing"))},dependencies:[fb.k,qt.z,bn.D9],encapsulation:2})}}return s})();const qg=[{path:"",component:ol},{path:"initial-admin-creation",component:Vt,canActivate:[fn.h],data:{permissions:[Jt.a[Jt.a.All]]}},{path:"home",component:io,canActivate:[fn.h,Qn._]},{path:"users",loadChildren:()=>Promise.resolve().then(u.bind(u,7101)).then(s=>s.UsersModule),canActivate:[fn.h,Qn._]},{path:"roles",component:ub,canActivate:[fn.h,Qn._],data:{permissions:[Jt.a[Jt.a.UserManager],Jt.a[Jt.a.UserManagerReadOnly],Jt.a[Jt.a.AllReadOnly],Jt.a[Jt.a.All]]}},{path:"roles/:Id",component:Dr,children:[{path:"",redirectTo:"details",pathMatch:"full"},{path:"details",component:ws,canDeactivate:[Nn.M]},{path:"users",component:Aa,canDeactivate:[Nn.M]}],resolve:{role:Ql.v},canDeactivate:[Nn.M],canActivate:[fn.h,Qn._],data:{permissions:[Jt.a[Jt.a.UserManager],Jt.a[Jt.a.All]]}},{path:"roles/view/:Id",component:Jf,loadChildren:()=>u.e(907).then(u.bind(u,5907)).then(s=>s.ViewRolesModule),resolve:{role:Ql.v},canActivate:[fn.h,Qn._],data:{permissions:[Jt.a[Jt.a.UserManager],Jt.a[Jt.a.UserManagerReadOnly],Jt.a[Jt.a.AllReadOnly],Jt.a[Jt.a.All]]}},{path:"claim-types",loadChildren:()=>Promise.resolve().then(u.bind(u,3730)).then(s=>s.ClaimTypesModule),canActivate:[fn.h,Qn._]},{path:"auditing",component:pb,canActivate:[fn.h,rh.S,Qn._,Ra.q],data:{permissions:[Jt.a[Jt.a.Auditer],Jt.a[Jt.a.AllReadOnly],Jt.a[Jt.a.All]]}},{path:"starter-mode",loadChildren:()=>Promise.resolve().then(u.bind(u,9624)).then(s=>s.StarterModeModule),canActivate:[fn.h,od.H]},{path:"unauthorized",component:ja},{path:"forbidden",component:Kl},{path:"auth",component:La,data:{skipRouteLocalization:!0}},{path:"resourcenotfound",component:Ua,canActivate:[fn.h,Qn._]},{path:"**",component:Lo,canActivate:[fn.h,Qn._]}];var jc=u(4412),ra=u(6026),Vi=u(9988);class mb{constructor(p,i,a=!1){this.name="",this.label="",this.activeByDefault=!1,this.name=p,this.label=i,this.activeByDefault=a}}let $c=(()=>{class s{constructor(i,a){this.http=i,this.actionUrl="Scopes",this.headers=a.setHeaders()}get(i,a,l,D){let Q=new S.Nl;return i&&(Q=Q.append("page",i)),a&&(Q=Q.append("pageSize",a)),D&&(Q=Q.append("filters",D.toString())),(0,Ii.gP)(l)||(Q=Q.append("name",l)),this.http.get(this.actionUrl,{headers:this.headers,params:Q})}createScope(i){return this.http.post(this.actionUrl,i,{headers:this.headers})}getScope(i){return this.http.get(`${this.actionUrl}/${i}`,{headers:this.headers})}updateScope(i){return this.http.put(`${this.actionUrl}/${i.id}`,i,{headers:this.headers})}deleteScope(i){return this.http.delete(`${this.actionUrl}/${i}`,{headers:this.headers})}static{this.\u0275fac=function(a){return new(a||s)(e.KVO(S.Qq),e.KVO(ad.m))}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac})}}return s})();var sh=u(7957),Zt=u(7329),ki=u(8575);function ld(){return g.k0.pattern(/^[\d\w-]*$/)}var Cr=u(803),t1=u(2292);function cd(s,p){if(1&s&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"slice"),e.k0s()),2&s){const i=p.item;e.R7$(),e.JRh(i.length>20?e.brH(2,1,i,0,20)+"...":i)}}function hl(s,p){if(1&s){const i=e.RV6();e.j41(0,"div",9)(1,"app-pill-list",10),e.bIt("onDelete",function(l){e.eBV(i);const D=e.XpG();return e.Njj(D.removeResource(l))}),e.k0s()()}if(2&s){const i=e.XpG();e.R7$(),e.Y8G("values",i.resources)}}let Zf=(()=>{class s{constructor(i,a,l){this.fb=i,this.toastrService=a,this.translateService=l,this.resources=[]}ngOnInit(){this.resourcesForm=this.fb.group({newResource:["",[g.k0.required,ld()]]})}addResource(){var i=this.resourcesForm.get("newResource").value;if(""!==i)if(i.indexOf(" ")>=0){const a=this.translateService.instant("Scopes.Resources.CannotHaveSpaces");this.toastrService.error(a)}else if(this.resources.includes(i)){const a=this.translateService.instant("Scopes.Resources.AlreadyAdded");this.toastrService.error(a)}else this.resources.includes(i)||this.resources.push(i),this.resourcesForm.get("newResource").setValue("");else this.toastrService.error(this.translateService.instant("Scopes.Resources.MustSpecifyResource"))}removeResource(i){this.resources.splice(i,1)}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return!0}hosted(){}toStepDto(){const i={};return i.resources=this.resources,i}toSummaryMap(){const i=new Map;return i.set("resources",this.resources),i}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(g.ze),e.rXU(Jn.tw),e.rXU(bn.c$))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-resources-step"]],inputs:{data:"data"},decls:14,vars:14,consts:[["customItemTemplate",""],[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","hasLabel","isLast"],[1,"tw-form-typeahead"],["id","new-resource-input","formControlName","newResource","type","text","name","New Resource","left","",1,"tw-form-control",3,"placeholder"],["id","addResourceButton","right","",1,"tw-btn-success",3,"click"],["class","tw-mt-6 tw-border tw-border-grey-300 tw-px-2 tw-pt-1 tw-pb-2",4,"ngIf"],[1,"tw-mt-6","tw-border","tw-border-grey-300","tw-px-2","tw-pt-1","tw-pb-2"],[3,"onDelete","values"]],template:function(a,l){if(1&a){const D=e.RV6();e.j41(0,"div",1),e.nrm(1,"p",2),e.nI1(2,"translate"),e.k0s(),e.DNE(3,cd,3,5,"ng-template",null,0,e.C5r),e.j41(5,"form",3)(6,"app-form-row",4)(7,"app-row-bar",5),e.nrm(8,"input",6),e.nI1(9,"translate"),e.j41(10,"button",7),e.bIt("click",function(){return e.eBV(D),e.Njj(l.addResource())}),e.EFF(11),e.nI1(12,"translate"),e.k0s()()()(),e.DNE(13,hl,2,1,"div",8)}2&a&&(e.R7$(),e.Y8G("innerHTML",e.bMT(2,8,"Scopes.Wizard.ResourcesStep"),e.npT),e.R7$(4),e.Y8G("formGroup",l.resourcesForm),e.R7$(),e.Y8G("id","NewResource")("hasLabel",!1)("isLast",!0),e.R7$(2),e.FS9("placeholder",e.bMT(9,10,"Scopes.Resources.Placeholder")),e.R7$(3),e.SpI(" ",e.bMT(12,12,"Common.Add")," "),e.R7$(2),e.Y8G("ngIf",l.resources.length>0))},dependencies:[gn.bT,g.qT,g.me,g.BC,g.cb,g.j4,g.JD,fe.Y,Cr.f,t1.L,gn.P9,bn.D9],encapsulation:2})}}return s})();function qf(s,p){if(1&s&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"slice"),e.k0s()),2&s){const i=p.item;e.R7$(),e.JRh(i.length>20?e.brH(2,1,i,0,20)+"...":i)}}let gb=(()=>{class s{constructor(i){this.fb=i}ngOnInit(){this.scopeDetailsForm=this.fb.group({name:["",[g.k0.required,ld()]],displayName:["",[g.k0.required]],description:[""]})}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return!this.scopeDetailsForm.invalid}hosted(){}toStepDto(){const i={};return i.name=this.scopeDetailsForm.get("name").value,i.displayName=this.scopeDetailsForm.get("displayName").value,i.description=this.scopeDetailsForm.get("description").value,i}toSummaryMap(){const i=new Map;return i.set("name",[this.scopeDetailsForm.get("name").value]),i.set("displayName",[this.scopeDetailsForm.get("displayName").value]),i.set("description",[this.scopeDetailsForm.get("description").value]),i}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(g.ze))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-scope-details-step"]],inputs:{data:"data"},decls:12,vars:14,consts:[["customItemTemplate",""],[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help"],["type","text","name","Name","id","Name","formControlName","name","required","",1,"tw-form-control"],["type","text","name","DisplayName","id","DisplayName","formControlName","displayName","required","",1,"tw-form-control"],[3,"id","label","help","isLast"],["type","text","name","Description","id","Description","formControlName","description",1,"tw-form-control"]],template:function(a,l){1&a&&(e.j41(0,"div",1),e.nrm(1,"p",2),e.nI1(2,"translate"),e.k0s(),e.DNE(3,qf,3,5,"ng-template",null,0,e.C5r),e.j41(5,"form",3)(6,"app-form-row",4),e.nrm(7,"input",5),e.k0s(),e.j41(8,"app-form-row",4),e.nrm(9,"input",6),e.k0s(),e.j41(10,"app-form-row",7),e.nrm(11,"textarea",8),e.k0s()()),2&a&&(e.R7$(),e.Y8G("innerHTML",e.bMT(2,12,"Scopes.Wizard.EnterBasicDetails"),e.npT),e.R7$(4),e.Y8G("formGroup",l.scopeDetailsForm),e.R7$(),e.Y8G("id","Name")("label","Scopes.Name.Label")("help","Scopes.Name.Help"),e.R7$(2),e.Y8G("id","DisplayName")("label","Scopes.DisplayName.Label")("help","Scopes.DisplayName.Help"),e.R7$(2),e.Y8G("id","Description")("label","Scopes.Description.Label")("help","Scopes.Description.Help")("isLast",!0))},dependencies:[g.qT,g.me,g.BC,g.cb,g.YS,g.j4,g.JD,fe.Y,gn.P9,bn.D9],encapsulation:2})}}return s})();class WT extends sh.p{constructor(){super(),this.nameComponentMap.set(Vi.$.AddOpenIddictScope,[new Zt.W(gb,{stepName:"ScopeDetailsStepComponent"}),new Zt.W(Zf,{stepName:"ResourcesStepComponent"})]),this.nameTitleMap.set(Vi.$.AddOpenIddictScope,new ki.J("Scopes.Wizard.Setup","Scopes.Wizard.Title"))}}var oh=u(2420),_o=u(1715);function Dl(s,p){if(1&s&&(e.j41(0,"div",5),e.nrm(1,"div",17),e.k0s()),2&s){const i=e.XpG();e.R7$(),e.xc7("width",i.progressPercent+"%"),e.BMQ("aria-valuenow",i.progressPercent)}}function n1(s,p){}function za(s,p){if(1&s){const i=e.RV6();e.j41(0,"button",18),e.bIt("click",function(){e.eBV(i);const l=e.XpG();return e.Njj(l.nextTab())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}if(2&s){const i=e.XpG();e.Y8G("disabled",!i.canNext()),e.R7$(),e.JRh(e.bMT(2,2,"Common.Next"))}}function Al(s,p){if(1&s){const i=e.RV6();e.j41(0,"button",19),e.bIt("click",function(){e.eBV(i);const l=e.XpG();return e.Njj(l.submit())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Common.Save")))}function vb(s,p){if(1&s){const i=e.RV6();e.j41(0,"button",20),e.bIt("click",function(){e.eBV(i);const l=e.XpG();return e.Njj(l.previousTab())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Common.Back")))}function r1(s,p){1&s&&(e.j41(0,"a",15),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"StarterMode.UpgradeAdminUI")))}let yb=(()=>{class s extends oh.P{constructor(i,a,l,D){super(i,a,l),this.errorService=i,this.toastr=a,this.translate=l,this.scopeService=D,this.wizardProvider=new WT,this.wizardName=Vi.$.AddOpenIddictScope}submit(){const i=this.getWizardDto();this.scopeService.createScope(i).subscribe({complete:()=>{this.finishWizard(),this.clearComponents(),this.toastr.success(`${this.translate.instant("Common.Created")}: ${i.displayName}`,this.translate.instant("Notifications.SuccessfullyCreated")),this.hideWizard()},error:a=>{this.errorService.handleError(a)}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(ne.I),e.rXU(Jn.tw),e.rXU(bn.c$),e.rXU($c))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-scope-wizard-host"]],features:[e.Jv_([]),e.Vt3],decls:23,vars:15,consts:[[1,"modal-header"],[1,"modal-title",3,"id"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-progress"],[1,"modal-body","scrollbars"],["appStepHost",""],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["class","tw-btn-success tw-mr-3","id","nextBtn",3,"disabled","click",4,"ngIf"],["class","tw-btn-success tw-mr-3","id","submitBtn",3,"click",4,"ngIf"],["class","tw-btn","id","backBtn",3,"click",4,"ngIf"],["id","upgradeAdminUI","href","starter-mode/teaser",1,"tw-btn","tw-ml-4"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],["role","progressbar",1,"modal-progress-bar"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],["id","submitBtn",1,"tw-btn-success","tw-mr-3",3,"click"],["id","backBtn",1,"tw-btn",3,"click"]],template:function(a,l){if(1&a&&(e.j41(0,"div",0)(1,"h5",1),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"button",2),e.bIt("click",function(){return l.hideWizard()}),e.nrm(5,"span",3),e.j41(6,"span",4),e.EFF(7),e.nI1(8,"translate"),e.k0s()()(),e.DNE(9,Dl,2,3,"div",5),e.j41(10,"div",6),e.DNE(11,n1,0,0,"ng-template",7),e.k0s(),e.nrm(12,"div",8),e.j41(13,"div",9)(14,"div",10)(15,"div",11),e.DNE(16,za,3,4,"button",12)(17,Al,3,3,"button",13)(18,vb,3,3,"button",14)(19,r1,3,3,"a",15),e.k0s(),e.j41(20,"button",16),e.bIt("click",function(){return l.cancelWizard()}),e.EFF(21),e.nI1(22,"translate"),e.k0s()()()),2&a){let D;e.R7$(),e.Y8G("id",l.titleId),e.R7$(),e.JRh(e.bMT(3,9,null!==(D=null==l.wizardTitles?null:l.wizardTitles.setupTitle)&&void 0!==D?D:"")),e.R7$(5),e.JRh(e.bMT(8,11,"Common.Close")),e.R7$(2),e.vxM(9,l.showProgress?9:-1),e.R7$(7),e.Y8G("ngIf",l.index<(null==l.wizardSteps?null:l.wizardSteps.length)),e.R7$(),e.Y8G("ngIf",l.index==(null==l.wizardSteps?null:l.wizardSteps.length)),e.R7$(),e.Y8G("ngIf",!l.initialStep()),e.R7$(),e.vxM(19,l.initialStep()&&null!=l.asAny&&l.asAny.displayUpgradeIcon?19:-1),e.R7$(2),e.JRh(e.bMT(22,13,"Common.Cancel"))}},dependencies:[gn.bT,_o.t,bn.D9],encapsulation:2})}}return s})();const _b=(s,p)=>({"fad fa-pencil":s,"fas fa-eye":p});function ep(s,p){if(1&s){const i=e.RV6();e.j41(0,"app-scope-wizard-host",8),e.bIt("wizardCancel",function(){e.eBV(i);const l=e.XpG();return e.Njj(l.hideWizard())})("hide",function(){e.eBV(i);const l=e.XpG();return e.Njj(l.hideWizard())})("finish",function(){e.eBV(i);const l=e.XpG();return e.Njj(l.reload())}),e.k0s()}if(2&s){const i=e.XpG();e.Y8G("wizardName",i.wizardType)}}function tp(s,p){if(1&s){const i=e.RV6();e.j41(0,"div",13)(1,"label",14),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"select",15),e.mxI("ngModelChange",function(l){e.eBV(i);const D=e.XpG(2);return e.DH7(D.pageSize,l)||(D.pageSize=l),e.Njj(l)}),e.bIt("change",function(){e.eBV(i);const l=e.XpG(2);return e.Njj(l.setPageLength(+l.pageSize))}),e.j41(5,"option",16),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"option",17),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"option",18),e.EFF(12),e.nI1(13,"translate"),e.k0s()()()}if(2&s){const i=e.XpG(2);e.R7$(2),e.Lme("",i.pageSize," ",e.bMT(3,6,"Nav.PerPage"),""),e.R7$(2),e.R50("ngModel",i.pageSize),e.R7$(2),e.SpI("25 ",e.bMT(7,8,"Nav.PerPage"),""),e.R7$(3),e.SpI("50 ",e.bMT(10,10,"Nav.PerPage"),""),e.R7$(3),e.SpI("100 ",e.bMT(13,12,"Nav.PerPage"),"")}}function np(s,p){if(1&s){const i=e.RV6();e.j41(0,"app-action-bar"),e.qex(1,9),e.DNE(2,tp,14,14,"div",10),e.bVm(),e.qex(3,11),e.j41(4,"button",12),e.bIt("click",function(){e.eBV(i);const l=e.XpG(),D=e.sdS(3);return e.Njj(l.showWizard(D))}),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.bVm(),e.k0s()}if(2&s){const i=e.XpG();e.R7$(2),e.Y8G("ngIf",(null==i.pagedResult?null:i.pagedResult.results.length)>0),e.R7$(3),e.SpI(" ",e.bMT(6,2,"Common.Add")," ")}}function ah(s,p){1&s&&e.nrm(0,"app-simple-loader")}function bb(s,p){1&s&&(e.j41(0,"div",19)(1,"div"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&s&&(e.R7$(2),e.JRh(e.bMT(3,1,"Scopes.NoneFound")))}function s1(s,p){1&s&&(e.j41(0,"span",36),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Reserved")," "))}function ip(s,p){if(1&s){const i=e.RV6();e.j41(0,"tr",28)(1,"td",29),e.bIt("click",function(){const l=e.eBV(i).$implicit,D=e.XpG(2);return e.Njj(D.viewOrEditScope(l))}),e.j41(2,"b"),e.EFF(3),e.k0s()(),e.j41(4,"td",30),e.bIt("click",function(){const l=e.eBV(i).$implicit,D=e.XpG(2);return e.Njj(D.viewOrEditScope(l))}),e.EFF(5),e.k0s(),e.j41(6,"td",31),e.bIt("click",function(){const l=e.eBV(i).$implicit,D=e.XpG(2);return e.Njj(D.viewOrEditScope(l))}),e.EFF(7),e.k0s(),e.j41(8,"td",32),e.bIt("click",function(){const l=e.eBV(i).$implicit,D=e.XpG(2);return e.Njj(D.viewOrEditScope(l))}),e.DNE(9,s1,3,3,"span",33),e.k0s(),e.j41(10,"td",32),e.bIt("click",function(){const l=e.eBV(i).$implicit,D=e.XpG(2);return e.Njj(D.viewOrEditScope(l))}),e.j41(11,"button",34),e.bIt("click",function(){const l=e.eBV(i).$implicit,D=e.XpG(2);return e.Njj(D.viewOrEditScope(l))}),e.nrm(12,"span",35),e.j41(13,"span",25),e.EFF(14),e.nI1(15,"translate"),e.k0s()()()()}if(2&s){const i=p.$implicit,a=e.XpG(2);e.R7$(2),e.AVh("tw-text-blue-500",!i.reserved),e.R7$(),e.JRh(i.displayName),e.R7$(2),e.SpI(" ",i.name," "),e.R7$(2),e.SpI(" ",i.description," "),e.R7$(2),e.Y8G("ngIf",i.reserved),e.R7$(3),e.Y8G("ngClass",e.l_i(10,_b,!a.isIdentityServerManagerReadOnly&&!i.reserved,a.isIdentityServerManagerReadOnly||i.reserved)),e.R7$(2),e.JRh(e.bMT(15,8,"Common.Edit"))}}function o1(s,p){if(1&s&&(e.j41(0,"table",20)(1,"thead")(2,"tr")(3,"th",21),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"th",22),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"th",23),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"th",24)(13,"span",25),e.EFF(14),e.nI1(15,"translate"),e.k0s()(),e.j41(16,"th",24)(17,"span",25),e.EFF(18),e.nI1(19,"translate"),e.k0s()()()(),e.j41(20,"tbody",26),e.DNE(21,ip,16,13,"tr",27),e.k0s()()),2&s){const i=e.XpG();e.R7$(4),e.JRh(e.bMT(5,6,"Common.DisplayName")),e.R7$(3),e.JRh(e.bMT(8,8,"Common.Name")),e.R7$(3),e.JRh(e.bMT(11,10,"Common.Description")),e.R7$(4),e.JRh(e.bMT(15,12,"Common.Reserved")),e.R7$(4),e.JRh(e.bMT(19,14,"Common.Actions")),e.R7$(3),e.Y8G("ngForOf",i.pagedResult.results)}}function a1(s,p){if(1&s){const i=e.RV6();e.j41(0,"app-pager",37),e.bIt("onGoToPage",function(l){e.eBV(i);const D=e.XpG();return e.Njj(D.goToPage(l))}),e.k0s()}if(2&s){const i=e.XpG();e.Y8G("totalResults",null==i.pagedResult?null:i.pagedResult.totalCount)("currentPage",i.page)("lastPage",null==i.pagedResult?null:i.pagedResult.pageCount)}}let rp=(()=>{class s extends ro.if{constructor(i,a,l,D,Q,De,Qe,pt,jt){super(Qe,De,!0),this.openiddictScopeService=i,this.router=a,this.errorService=l,this.localize=D,this.titleService=Q,this.translate=De,this.securityService=pt,this.modalService=jt,this.pageSize=25,this.page=1,this.term="",this.isLoading=!0,this.filterStream=new jc.t([]),this.pageStream=new Rr.B,this.pageSizeStream=new Rr.B,this.wizardType=Vi.$.AddOpenIddictScope,this.availableFilters=[new mb("reserved","Common.Reserved",!1)],this.mapSearchTerm=this.mapSearchTerm.bind(this)}reload(){this.pageStream.next(this.page),this.pageSizeStream.next(this.pageSize)}mapSearchTerm(i){return this.term=i,this.page=1,{searchTerm:i,page:this.page,pageSize:this.pageSize,filters:this.filterStream.value,advancedFilters:null}}ngOnInit(){this.titleService.setTitle(this.translate.instant("Nav.Scopes")+` - ${Lt.$9.SITE_TITLE}`);const i=this.pageStream.pipe((0,yi.T)(Q=>(this.page=Q,{searchTerm:this.term,page:Q,pageSize:this.pageSize,filters:this.filterStream.value}))),a=this.pageSizeStream.pipe((0,yi.T)(Q=>(this.pageSize=Q,{searchTerm:this.term,page:this.page,pageSize:Q,filters:this.filterStream.value}))),l=this.filterStream.pipe((0,yi.T)(Q=>({searchTerm:this.term,page:this.page,pageSize:this.pageSize,filters:Q})));i.pipe((0,ia.X)(a),(0,ia.X)(this.searchSource),(0,ia.X)(l),(0,ia.X)(this.enterKeySource),(0,Ha.Z)({searchTerm:this.term,page:this.page,pageSize:this.pageSize,filters:this.filterStream.value}),(0,ta.Z)(Q=>(this.isLoading=!0,this.openiddictScopeService.get(Q.page,Q.pageSize,Q.searchTerm,Q.filters).pipe((0,na.c)(200))))).subscribe({next:Q=>{this.pagedResult=Q,this.isLoading=!1},error:Q=>{this.errorService.handleError(Q),this.isLoading=!1}})}searchScope(i){this.searchTermStream.next(i)}goToPage(i){this.pageStream.next(i)}setPageLength(i){this.page=1,this.pageSizeStream.next(i)}viewOrEditScope(i){this.isInReadOnlyMode||i.reserved?this.viewScope(i):this.editScope(i)}viewScope(i){const a=this.localize.translateRoute("/scopes/view");this.router.navigate([a,i.id])}editScope(i){const a=this.localize.translateRoute("/scopes");this.router.navigate([a,i.id])}get isInReadOnlyMode(){return(0,Ii.ci)(this.securityService.userPermissions)}get isIdentityServerManagerReadOnly(){return(0,Ii.ci)(this.securityService.userPermissions)}refreshList(){this.ngOnInit()}showWizard(i){this.modalService.show(i,{id:ra.R.Id,ariaLabelledBy:ra.R.TileId,ariaDescribedby:ra.R.DescriptionId,backdrop:"static"})}hideWizard(){this.modalService.hide(ra.R.Id)}static{this.\u0275fac=function(a){return new(a||s)(e.rXU($c),e.rXU(bt.Ix),e.rXU(ne.I),e.rXU(Hn.QG),e.rXU(n.hE),e.rXU(bn.c$),e.rXU(Jn.tw),e.rXU(Vr.i),e.rXU(Mt.I8))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["ng-component"]],features:[e.Vt3],decls:12,vars:12,consts:[["scopeWizardModal",""],[3,"title"],["id","scopesList",1,"tw-container","tw-mx-auto"],[3,"onSearch","appliedFilters","availableFilters","placeholder"],[4,"ngIf"],["class","tw-alert","role","alert",4,"ngIf"],["class","datatable selectable hover",4,"ngIf"],[3,"totalResults","currentPage","lastPage","onGoToPage",4,"ngIf"],[3,"wizardCancel","hide","finish","wizardName"],["left",""],["class","tw-hidden tw-form-select tw-w-auto sm:tw-block",4,"ngIf"],["right",""],["id","addIdpBtn",1,"tw-btn-success",3,"click"],[1,"tw-hidden","tw-form-select","tw-w-auto","sm:tw-block"],["for","pageSizeToggle",1,"sr-only"],["id","pageSizeToggle",1,"tw-form-control","tw-form-control-small",3,"ngModelChange","change","ngModel"],["value","25"],["value","50"],["value","100"],["role","alert",1,"tw-alert"],[1,"datatable","selectable","hover"],[1,"md:tw-1/4"],[1,"tw-hidden","tw-w-1/4","md:tw-table-cell"],[1,"tw-hidden","lg:tw-table-cell"],[1,"tw-w-1"],[1,"sr-only"],["id","scopesTable"],["class","group",4,"ngFor","ngForOf"],[1,"group"],[1,"tw-max-w-0","tw-truncate",3,"click"],[1,"tw-hidden","tw-max-w-0","tw-truncate","md:tw-table-cell",3,"click"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell",3,"click"],[3,"click"],["class","tw-pill",4,"ngIf"],["type","button",1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click"],["id","viewOrEditIcon","aria-hidden","true",3,"ngClass"],[1,"tw-pill"],[3,"onGoToPage","totalResults","currentPage","lastPage"]],template:function(a,l){if(1&a){const D=e.RV6();e.nrm(0,"app-title-bar",1),e.nI1(1,"translate"),e.DNE(2,ep,1,1,"ng-template",null,0,e.C5r),e.j41(4,"div",2)(5,"app-search",3),e.nI1(6,"translate"),e.bIt("onSearch",function(De){return e.eBV(D),e.Njj(l.searchScope(De))})("appliedFilters",function(De){return e.eBV(D),e.Njj(l.filterStream.next(De))}),e.k0s(),e.DNE(7,np,7,4,"app-action-bar",4)(8,ah,1,0,"app-simple-loader",4)(9,bb,4,3,"div",5)(10,o1,22,16,"table",6)(11,a1,1,3,"app-pager",7),e.k0s()}2&a&&(e.Y8G("title",e.bMT(1,8,"Scopes.Title")),e.R7$(5),e.Y8G("availableFilters",l.availableFilters)("placeholder",e.bMT(6,10,"Scopes.SearchPlaceholder")),e.R7$(2),e.Y8G("ngIf",!l.isLoading&&!l.isInReadOnlyMode),e.R7$(),e.Y8G("ngIf",l.isLoading),e.R7$(),e.Y8G("ngIf",(!l.pagedResult||l.pagedResult.results.length<=0)&&!l.isLoading),e.R7$(),e.Y8G("ngIf",l.pagedResult&&l.pagedResult.results.length>0&&!l.isLoading),e.R7$(),e.Y8G("ngIf",(null==l.pagedResult?null:l.pagedResult.results.length)>0&&!l.isLoading))},dependencies:[gn.YU,gn.Sq,gn.bT,g.xH,g.y7,g.wz,g.BC,g.vS,al.n,$o.S,qt.z,As.d,Wa.B,yb,bn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();var zs=u(9196);const sp=[[["","extraOptions",""]],[["","extraTabs",""]]],Cb=["[extraOptions]","[extraTabs]"],bo=()=>["active"];function hc(s,p){1&s&&(e.j41(0,"option",13),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Nav.AccessPolicy")))}function us(s,p){1&s&&(e.j41(0,"li",14)(1,"button",15),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&s&&(e.R7$(),e.Y8G("routerLinkActive",e.lJ4(4,bo)),e.R7$(),e.JRh(e.bMT(3,2,"Nav.AccessPolicy")))}let wb=(()=>{class s{constructor(i,a,l){this.titleService=i,this.translate=a,this.configService=l,this.targetIdentityServer4=!1,this.hideAccessPolicy=!1}ngOnInit(){this.configService.getConfig().pipe((0,Vn.$)()).subscribe(i=>{this.targetIdentityServer4=i.targetIdentityServer4,this.hideAccessPolicy=i.featureFlagOptions.enforcerAuthorizationEnabled}),this.titleService.setTitle(this.translate.instant("Settings.Title")+` - ${Lt.$9.SITE_TITLE}`)}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(n.hE),e.rXU(bn.c$),e.rXU(zs.w))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-settings"]],ngContentSelectors:Cb,decls:26,vars:23,consts:[[3,"title","hasTabs"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu","disabled","",1,"tw-form-control"],["value","details"],["value","Access Policy",4,"ngIf"],["value","Webhooks"],["role","tablist",1,"tabs","tw-hidden","md:tw-flex"],["class","tabs__item","id","acessPolicyTab",4,"ngIf"],[1,"tabs__item"],["routerLink","webhooks","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["value","Access Policy"],["id","acessPolicyTab",1,"tabs__item"],["routerLink","accesspolicy","role","tab","aria-selected","false",1,"tabs__link","active",3,"routerLinkActive"]],template:function(a,l){1&a&&(e.NAR(sp),e.j41(0,"app-title-bar",0),e.nI1(1,"translate"),e.qex(2,1),e.j41(3,"div",2)(4,"label",3),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"div",4)(8,"select",5)(9,"option",6),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.DNE(12,hc,3,3,"option",7),e.j41(13,"option",8),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.SdG(16),e.k0s()()(),e.j41(17,"ul",9),e.nI1(18,"translate"),e.DNE(19,us,4,5,"li",10),e.j41(20,"li",11)(21,"button",12),e.EFF(22),e.nI1(23,"translate"),e.k0s()(),e.SdG(24,1),e.k0s(),e.bVm(),e.k0s(),e.nrm(25,"router-outlet")),2&a&&(e.Y8G("title",e.bMT(1,10,"Nav.Settings"))("hasTabs",!0),e.R7$(5),e.JRh(e.bMT(6,12,"Nav.SubMenu")),e.R7$(5),e.SpI("",e.bMT(11,14,"Nav.SubMenu"),"..."),e.R7$(2),e.Y8G("ngIf",!l.hideAccessPolicy),e.R7$(2),e.JRh(e.bMT(15,16,"Nav.Webhooks")),e.R7$(3),e.BMQ("aria-label",e.bMT(18,18,"Nav.SubMenu")),e.R7$(2),e.Y8G("ngIf",!l.hideAccessPolicy),e.R7$(2),e.Y8G("routerLinkActive",e.lJ4(22,bo)),e.R7$(),e.JRh(e.bMT(23,20,"Nav.Webhooks")))},dependencies:[bt.n3,bt.Wk,bt.wQ,gn.bT,g.xH,g.y7,qt.z,bn.D9],encapsulation:2})}}return s})(),Sb=(()=>{class s{constructor(i,a,l){this.router=i,this.config=a,this.localizeRouter=l}canActivate(i,a){return this.config.getConfig().pipe((0,Vn.$)(),(0,yi.T)(l=>{if("accesspolicy"!=i.firstChild.routeConfig.path||!l.featureFlagOptions.enforcerAuthorizationEnabled)return!0;{const D=this.localizeRouter.translateRoute("/settings/webhooks");this.router.navigate([D])}}))}static{this.\u0275fac=function(a){return new(a||s)(e.KVO(bt.Ix),e.KVO(zs.w),e.KVO(Hn.QG))}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})(),Eb=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-applications"]],decls:1,vars:0,template:function(a,l){1&a&&e.nrm(0,"router-outlet")},dependencies:[bt.n3],encapsulation:2})}}return s})();const l1=[...qg,{path:"applications",component:Eb,loadChildren:()=>u.e(621).then(u.bind(u,7621)).then(s=>s.ApplicationsModule),canActivate:[fn.h,Qn._]},{path:"scopes",component:rp,canActivate:[fn.h,Qn._],data:{permissions:[Jt.a[Jt.a.IdentityServerManager],Jt.a[Jt.a.IdentityServerManagerReadOnly],Jt.a[Jt.a.AllReadOnly],Jt.a[Jt.a.All]]}},{path:"settings",component:wb,loadChildren:()=>Promise.resolve().then(u.bind(u,8440)).then(s=>s.SettingsModule),canActivate:[fn.h,Qn._,Sb],canDeactivate:[Nn.M],data:{permissions:[Jt.a[Jt.a.All]]}}];let ud=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({imports:[bt.iI.forRoot(l1,{scrollPositionRestoration:"enabled"}),bt.iI]})}}return s})();var fo=u(1683);let Db=(()=>{class s{constructor(){this.cachedClaimTypes=new Fi.m(1),this.cachedClaimTypes$=this.cachedClaimTypes.asObservable()}setClaimTypes(i){this.cachedClaimTypes.next(i)}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac})}}return s})();var Rl=u(8455),Gc=u(2571),dd=u(4179),Ml=u(983),Ma=u(9437),op=u(8261);let Ab=(()=>{class s{constructor(i,a){this.identityResourceService=i,this.errorService=a}resolve(i,a){const l=i.paramMap.get("Id");return this.identityResourceService.getResource(l).pipe((0,yi.T)(D=>(D&&this.identityResourceService.getCachedIdentityResource().next(D),D)),(0,Ma.W)((D,Q)=>(404===D.status?this.errorService.resourceNotFound(vo.v.identityResource):this.errorService.handleError(D),(0,Ml.I)())))}static{this.\u0275fac=function(a){return new(a||s)(e.KVO(op.A),e.KVO(ne.I))}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac})}}return s})();var xl=u(5893);let hd=(()=>{class s{constructor(i,a){this.protectedResourceService=i,this.errorService=a}resolve(i,a){const l=i.paramMap.get("Id");return this.protectedResourceService.getResource(l).pipe((0,yi.T)(D=>(D&&this.protectedResourceService.getCachedProtectedResource().next(D),D)),(0,Ma.W)((D,Q)=>(404===D.status?this.errorService.resourceNotFound(vo.v.protectedResource):this.errorService.handleError(D),(0,Ml.I)())))}static{this.\u0275fac=function(a){return new(a||s)(e.KVO(xl.x),e.KVO(ne.I))}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac})}}return s})();var ap=u(7415),Zl=u(367),Hc=u(5731),Wc=u(4193),lh=u(3665),fc=u(7175),ch=u(1993),fl=u(8389),Kc=u(9945),c1=u(6843),kl=u(7677),pl=u(4367);let uh=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({providers:[Ab,hd,Db],imports:[gn.MD,bt.iI,bn.h,g.YN,fo.Y,g.X1,wt.jr,xe.Ss,dd.z,Gc.A,Rl.p,Xe.h6,Mt.Q_,ap.P,Hn.XE,Zl.m,Hc.i,Wc.c,lh.t,fc.c,ch.E,fl.w,Kc.f,c1.l,kl.N,pl.N]})}}return s})();var dh=u(2261),ql=u(9398),hh=u(3577);let lp=(()=>{class s{constructor(i,a,l){this.clientService=i,this.clientCachingService=a,this.errorService=l}resolve(i,a){const l=i.paramMap.get("Id");return this.clientService.getClient(l).pipe((0,yi.T)(D=>(this.clientCachingService.unsavedCache.next(D),D)),(0,Ma.W)(D=>(404===D.status?this.errorService.resourceNotFound(vo.v.client):this.errorService.handleError(D),(0,Ml.I)())))}static{this.\u0275fac=function(a){return new(a||s)(e.KVO(ql._),e.KVO(hh.e),e.KVO(ne.I))}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac})}}return s})();var Ya=u(3384),u1=u(4442),zc=u(9686);let fd=(()=>{class s{constructor(i){this.fileDownloader=i,this.actionUrl="clients/export"}exportAllClients(){this.fileDownloader.buildForm(this.actionUrl).submitForm()}exportSelectedClients(i){const a=this.actionUrl+"/specified",l=new Map;l.set("clientIds",i.join(",")),this.fileDownloader.buildFormWithCustomInputs(a,l).submitForm()}static{this.\u0275fac=function(a){return new(a||s)(e.KVO(zc.D))}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac})}}return s})();var cp=u(8556),Yc=u(2036),pd=u(9475),fh=u(8251),pc=u(6599),ph=u(9947),mh=u(6366),gh=u(5691),ma=u(7673),mc=u(8173),lr=u(6701),gc=function(s){return s.Client="Client",s.WsFed="WsFed",s.Saml="Saml",s}(gc||{}),d1=u(9156),ec=u(3853),Xa=u(3497),Co=u(9550),Ys=u(2467);const Rb=["cloneClientModal"],h1=["addClaimTypeModal"],up=()=>({backdrop:"static",keyboard:"false"});function Mb(s,p){if(1&s&&(e.j41(0,"div",25)(1,"div"),e.EFF(2),e.k0s()()),2&s){const i=e.XpG();e.R7$(2),e.JRh(i.errorCode)}}function f1(s,p){if(1&s&&(e.j41(0,"app-form-row",16)(1,"app-form-toggle",26),e.nrm(2,"input",27),e.k0s()()),2&s){const i=e.XpG();e.Y8G("id","cloneSecrets")("label","Clients.Clone.CloneSecrets")("help","Clients.Clone.CloneSecretsDescription")("isLast",i.clientType!==i.clientTypes.Saml),e.R7$(),e.Y8G("id","cloneSecrets")}}function vh(s,p){1&s&&(e.j41(0,"app-form-row",16)(1,"app-form-toggle",26),e.nrm(2,"input",28),e.k0s()()),2&s&&(e.Y8G("id","cloneCerts")("label","Clients.Clone.CloneCerts")("help","Clients.Clone.CloneCertsDescription")("isLast",!0),e.R7$(),e.Y8G("id","cloneSecrets"))}let xb=(()=>{class s{constructor(i,a,l,D,Q){this.clientsService=i,this.fb=a,this.localize=l,this.router=D,this.translate=Q,this.clientTypeKey=Xa.E.Default,this.clientTypes=lr.s,this.errorCode=""}ngOnInit(){this.newClientForm=this.fb.group({clientId:["",g.k0.required],clientName:["",g.k0.required],cloneSecrets:[!1],cloneCerts:[!1]}),this.clientType===this.clientTypes.Saml?this.clientTypeKey=Xa.E.Saml:this.clientType===this.clientTypes.WsFed&&(this.clientTypeKey=Xa.E.WsFed)}cloneClient(){const i=this.newClientForm.getRawValue();this.clientsService.cloneClient(this.client.id,i).subscribe(a=>{const l=a.headers.get("location");if(l){this.clearForm();const D=l.lastIndexOf("/"),Q=l.substring(D+1),De=[this.localize.translateRoute("/clients"),Q];this.router.navigate(De)}},a=>{this.errorCode=this.translate.instant(400===a.status?`Errors.CloneClientError.${a.error.errorCode}`:"Errors.CloneClientError.Default")})}show(){this.cloneClientModal.show(),this.setupForm()}setupForm(){const i=this.translate.instant("Clients.Clone.CopyOf").replace("{0}",this.client.clientName);this.newClientForm.patchValue({clientId:(0,Ii.Nl)(),clientName:i,cloneSecrets:!1,cloneCerts:!1})}clearForm(){this.cloneClientModal.hide(),this.errorCode="",this.newClientForm.reset()}setRandomID(){this.newClientForm.patchValue({clientId:(0,Ii.Nl)()})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(ql._),e.rXU(g.ze),e.rXU(Hn.QG),e.rXU(bt.Ix),e.rXU(bn.c$))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-clone-client"]],viewQuery:function(a,l){if(1&a&&(e.GBs(Rb,7),e.GBs(h1,7)),2&a){let D;e.mGM(D=e.lsd())&&(l.cloneClientModal=D.first),e.mGM(D=e.lsd())&&(l.addClaimTypeModal=D.first)}},inputs:{client:"client",clientType:"clientType"},decls:38,vars:31,consts:[["cloneClientModal","bs-modal"],["bsModal","","id","cloneClientModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","scrollbars",3,"formGroup"],["class","tw-alert-danger tw-mb-6",4,"ngIf"],[3,"id","label","help"],[1,"tw-flex","tw-w-full","lg:tw-max-w-2xl"],["type","text","name","ClientId","id","cloneClientId","formControlName","clientId",1,"tw-form-control","tw-rounded-r-none","tw-border-r-0"],[1,"tw-btn","tw-rounded-l-none",3,"click"],["aria-hidden","true",1,"far","fa-random"],[3,"id","label","help","isLast"],["id","cloneClientName","type","text","name","DisplayName","formControlName","clientName",1,"tw-form-control"],[3,"id","label","help","isLast",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","confirmCloneBtn",1,"tw-btn-success",3,"click","disabled"],["id","closeCloneModal",1,"tw-btn-link","tw--mr-4",3,"click"],[1,"tw-alert-danger","tw-mb-6"],[3,"id"],["id","cloneSecrets","type","checkbox","name","cloneSecrets","formControlName","cloneSecrets",1,"tw-form-switch__input"],["id","cloneCerts","type","checkbox","name","cloneCerts","formControlName","cloneCerts",1,"tw-form-switch__input"]],template:function(a,l){if(1&a){const D=e.RV6();e.j41(0,"div",1,0)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"button",6),e.bIt("click",function(){return e.eBV(D),e.Njj(l.clearForm())}),e.nrm(9,"span",7),e.j41(10,"span",8),e.EFF(11),e.nI1(12,"translate"),e.k0s()()(),e.j41(13,"div",9),e.DNE(14,Mb,3,1,"div",10),e.j41(15,"app-form-row",11),e.nI1(16,"keyToString"),e.j41(17,"div",12),e.nrm(18,"input",13),e.j41(19,"button",14),e.bIt("click",function(){return e.eBV(D),e.Njj(l.setRandomID())}),e.nrm(20,"span",15),e.j41(21,"span",8),e.EFF(22),e.nI1(23,"translate"),e.k0s()()()(),e.j41(24,"app-form-row",16),e.nrm(25,"input",17),e.k0s(),e.DNE(26,f1,3,5,"app-form-row",18)(27,vh,3,5,"app-form-row",18),e.k0s(),e.nrm(28,"div",19),e.j41(29,"div",20)(30,"div",21)(31,"div",22)(32,"button",23),e.bIt("click",function(){return e.eBV(D),e.Njj(l.cloneClient())}),e.EFF(33),e.nI1(34,"translate"),e.k0s()(),e.j41(35,"button",24),e.bIt("click",function(){return e.eBV(D),e.Njj(l.clearForm())}),e.EFF(36),e.nI1(37,"translate"),e.k0s()()()()()()}2&a&&(e.Y8G("config",e.lJ4(30,up)),e.R7$(6),e.JRh(e.bMT(7,18,"Clients.Clone.Title")),e.R7$(5),e.JRh(e.bMT(12,20,"Common.Close")),e.R7$(2),e.Y8G("formGroup",l.newClientForm),e.R7$(),e.Y8G("ngIf",""!=l.errorCode),e.R7$(),e.Y8G("id","cloneClientId")("label",e.bMT(16,22,l.clientTypeKey))("help","Clients.IDHelp"),e.R7$(7),e.JRh(e.bMT(23,24,"Common.GenerateRandom")),e.R7$(2),e.Y8G("id","cloneClientName")("label","Common.DisplayName")("help","Clients.DisplayNameHelp")("isLast",0===l.client.clientSecrets.length&&l.clientType!==l.clientTypes.Saml),e.R7$(2),e.Y8G("ngIf",0!==l.client.clientSecrets.length),e.R7$(),e.Y8G("ngIf",l.clientType===l.clientTypes.Saml),e.R7$(5),e.Y8G("disabled",!l.newClientForm.valid),e.R7$(),e.SpI(" ",e.bMT(34,26,"Common.Save")," "),e.R7$(3),e.JRh(e.bMT(37,28,"Common.Cancel")))},dependencies:[gn.bT,g.me,g.Zm,g.BC,g.cb,g.j4,g.JD,fe.Y,Co.m,Mt.hZ,bn.D9,Ys.C],encapsulation:2})}}return s})();const p1=(s,p)=>({title:s,link:p}),dp=s=>[s];function yh(s,p){1&s&&(e.j41(0,"option",29),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Nav.Saml")))}function m1(s,p){1&s&&(e.j41(0,"option",30),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.RelyingParty.Heading")))}function kb(s,p){1&s&&(e.j41(0,"option",31),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.URLS.Title")))}function Nb(s,p){1&s&&(e.j41(0,"option",32),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Common.Secrets")))}function Ob(s,p){1&s&&(e.j41(0,"option",33),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Common.CIBA")))}function g1(s,p){1&s&&(e.j41(0,"span",34),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" - ",e.bMT(2,1,"StarterMode.RequiresUpgrade")," "))}function Fb(s,p){1&s&&e.nrm(0,"app-custom-tab",19),2&s&&e.Y8G("tabTitle","Nav.Saml")("tabValue","saml")}function v1(s,p){1&s&&e.nrm(0,"app-custom-tab",19),2&s&&e.Y8G("tabTitle","Clients.RelyingParty.Heading")("tabValue","wsfed")}function Pb(s,p){1&s&&e.nrm(0,"app-custom-tab",19),2&s&&e.Y8G("tabTitle","Clients.URLS.Title")("tabValue","applicationurls")}function Bb(s,p){1&s&&e.nrm(0,"app-custom-tab",19),2&s&&e.Y8G("tabTitle","Common.Secrets")("tabValue","secrets")}function KT(s,p){1&s&&e.nrm(0,"app-custom-tab",19),2&s&&e.Y8G("tabTitle","Common.CIBA")("tabValue","ciba")}let y1=(()=>{class s{constructor(i,a,l,D,Q,De,Qe,pt,jt,ln,wn,En,Fn,On,oi,bi){this.clientsService=i,this.clientCachingService=a,this.relyingPartyCachingService=l,this.serviceProviderCachingService=D,this.samlClientService=Q,this.wsFedClientService=De,this.clientViewService=Qe,this.titleService=pt,this.translate=jt,this.errorService=ln,this.router=wn,this.route=En,this.toastr=Fn,this.localize=On,this.dialogService=oi,this.licenseService=bi}ngOnInit(){this.clientSubscription=this.clientCachingService.unsavedCache$.subscribe(i=>{this.client=i;const a=this.translate.instant("Clients.Title")+" "+this.client.clientName+" - "+Lt.$9.SITE_TITLE;this.titleService.setTitle(a),this.checkSubmitEnabled()}),this.relyingPartyCachingService.unsavedCache$.subscribe(i=>{this.checkSubmitEnabled()}),this.serviceProviderCachingService.unsavedCache$.subscribe(i=>{this.checkSubmitEnabled()}),this.licenseService.getLicenseInfo().pipe((0,Vn.$)()).subscribe({next:i=>{this.licenseInfo=i}})}checkSubmitEnabled(){const i=[...Array.from(this.clientCachingService.componentDirtyValidMap.values()),...Array.from(this.relyingPartyCachingService.componentDirtyValidMap.values()),...Array.from(this.serviceProviderCachingService.componentDirtyValidMap.values())];this.submitDisabled=0===i.length||i.some(a=>!a.isValid)}ngOnDestroy(){this.clientSubscription.unsubscribe()}deleteClient(i){this.clientsService.deleteClient(i).subscribe(a=>{const l=this.localize.translateRoute("/clients");this.router.navigate([l]),this.toastr.success(this.client.clientName+" "+this.translate.instant("Common.Delete.Deleted"),this.translate.instant("Clients.Deleted"))},a=>{const l={toastBody:this.translate.instant("Notifications.Delete Error Title"),toastTitle:this.translate.instant("Notifications.Delete User Message")};(this.errorService.handleError(a,l)&Cs.I.Toast)!==Cs.I.Toast&&this.toastr.error(l.toastBody,l.toastTitle)})}saveClient(){const i=this.buildStreamArray();(0,Ti.p)(i).subscribe(a=>{a.some(D=>D instanceof S.yz)?this.handleError(a):this.handleSave(a),this.checkSubmitEnabled()},a=>{this.errorService.handleError(a)})}buildStreamArray(){const i=[];return this.clientCachingService.componentDirtyValidMap.size>0&&i.push(this.clientsService.updateClient(this.client).pipe((0,yi.T)(()=>gc.Client),(0,Ma.W)(a=>(0,ma.of)(a)))),this.client.clientType===lr.s.WsFed&&this.relyingPartyCachingService.componentDirtyValidMap.size>0?this.relyingPartyCachingService.unsavedCache$.pipe((0,Vn.$)()).subscribe(a=>{const l=JSON.parse(JSON.stringify(a));l.claimMappings=(0,Ii.Li)(a.claimMappings),i.push(this.wsFedClientService.updateRelyingParty(this.client.id,l).pipe((0,yi.T)(()=>gc.WsFed),(0,Ma.W)(D=>(0,ma.of)(D))))}):this.client.clientType===lr.s.Saml&&this.serviceProviderCachingService.componentDirtyValidMap.size>0&&this.serviceProviderCachingService.unsavedCache$.pipe((0,Vn.$)()).subscribe(a=>{const l=JSON.parse(JSON.stringify(a));l.claimMappings=(0,Ii.Li)(a.claimMappings),i.push(this.samlClientService.updateServiceProvider(this.client.id,l).pipe((0,yi.T)(()=>gc.Saml),(0,Ma.W)(D=>(0,ma.of)(D))))}),i}handleSave(i){i.forEach(a=>{switch(a){case gc.WsFed:this.relyingPartyCachingService.onSave();break;case gc.Saml:this.serviceProviderCachingService.onClientSave();break;case gc.Client:this.clientCachingService.onClientSave()}}),this.toastr.success(this.translate.instant("Clients.UpdatedClient"),this.translate.instant("Notifications.Saving Success Title"))}handleError(i){const a=i.filter(l=>l instanceof S.yz);a.length===i.length?this.errorService.handleError(a[0]):400===a[0].status?(this.toastr.warning(this.translate.instant("Only some parts updated"),this.translate.instant("Partial Update Warning")),this.handleSave(b.R9(i,a))):this.errorService.handleError(a[0])}canDeactivate(){return!(this.clientCachingService.componentDirtyValidMap.size>0||this.relyingPartyCachingService.componentDirtyValidMap.size>0||this.serviceProviderCachingService.componentDirtyValidMap.size>0)||(this.dialogService.confirm(),this.dialogService.eventStream.subscribe(i=>{i&&(this.clientCachingService.componentDirtyValidMap.size>0&&this.clientCachingService.componentDirtyValidMap.clear(),this.relyingPartyCachingService.componentDirtyValidMap.size>0&&this.relyingPartyCachingService.componentDirtyValidMap.clear(),this.serviceProviderCachingService.componentDirtyValidMap.size>0&&this.serviceProviderCachingService.componentDirtyValidMap.clear())}),this.dialogService.eventStream)}isCloneDisabled(){return this.clientCachingService.componentDirtyValidMap.size>0||this.relyingPartyCachingService.componentDirtyValidMap.size>0||this.serviceProviderCachingService.componentDirtyValidMap.size>0}mobRoute(i){this.router.navigate([i],{relativeTo:this.route})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(ql._),e.rXU(hh.e),e.rXU(mh.z),e.rXU(gh.d),e.rXU(d1.s),e.rXU(Yc.c),e.rXU(mc.q),e.rXU(n.hE),e.rXU(bn.c$),e.rXU(ne.I),e.rXU(bt.Ix),e.rXU(bt.nX),e.rXU(Jn.tw),e.rXU(Hn.QG),e.rXU(Mo.o),e.rXU(ec.X))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-edit-client"]],features:[e.Jv_([mc.q])],decls:61,vars:65,consts:[["cloneClientModal",""],["deleteClientModal",""],[3,"title","crumbs","hasButton","hasTabs"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","details"],["value","saml",4,"ngIf"],["value","wsfed",4,"ngIf"],["value","applicationurls",4,"ngIf"],["value","secrets",4,"ngIf"],["value","resources"],["value","ciba",4,"ngIf"],["value","advanced"],["value","clientaudits"],["id","upgradeSymbol",4,"ngIf"],[1,"tw-hidden","md:tw-flex"],[3,"tabTitle","tabValue"],[3,"tabTitle","tabValue",4,"ngIf"],[3,"tabTitle","tabValue","restrictedStarter"],["id","editClient",1,"tw-container","tw-mx-auto"],["id","submitBtn",1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"click","disabled"],["id","cloneBtn","type","button","data-toggle","modal",1,"tw-hidden","tw-btn","tw-mr-3","tw-mb-3","xs:tw-inline-flex",3,"click","disabled"],["right",""],["type","button","data-toggle","modal",1,"tw-btn-danger","tw-mb-3",3,"click"],[3,"client","clientType"],[3,"delete","resourceName"],["value","saml"],["value","wsfed"],["value","applicationurls"],["value","secrets"],["value","ciba"],["id","upgradeSymbol"]],template:function(a,l){if(1&a){const D=e.RV6();e.j41(0,"app-title-bar",2),e.nI1(1,"translate"),e.nI1(2,"localize"),e.qex(3,3),e.j41(4,"div",4)(5,"label",5),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"div",6)(9,"select",7),e.bIt("change",function(De){return e.eBV(D),e.Njj(l.mobRoute(De.target.value))}),e.j41(10,"option",8),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"option",8),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.DNE(16,yh,3,3,"option",9)(17,m1,3,3,"option",10)(18,kb,3,3,"option",11)(19,Nb,3,3,"option",12),e.j41(20,"option",13),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.DNE(23,Ob,3,3,"option",14),e.j41(24,"option",15),e.EFF(25),e.nI1(26,"translate"),e.k0s(),e.j41(27,"option",16),e.EFF(28),e.nI1(29,"translate"),e.DNE(30,g1,3,3,"span",17),e.k0s()()()(),e.j41(31,"app-custom-tabs",18),e.nrm(32,"app-custom-tab",19),e.DNE(33,Fb,1,2,"app-custom-tab",20)(34,v1,1,2,"app-custom-tab",20)(35,Pb,1,2,"app-custom-tab",20)(36,Bb,1,2,"app-custom-tab",20),e.nrm(37,"app-custom-tab",19),e.DNE(38,KT,1,2,"app-custom-tab",20),e.nrm(39,"app-custom-tab",19)(40,"app-custom-tab",21),e.k0s(),e.bVm(),e.k0s(),e.j41(41,"div",22),e.nrm(42,"router-outlet"),e.k0s(),e.j41(43,"app-button-bar")(44,"button",23),e.bIt("click",function(){return e.eBV(D),e.Njj(l.saveClient())}),e.j41(45,"span"),e.EFF(46),e.nI1(47,"translate"),e.k0s()(),e.j41(48,"button",24),e.bIt("click",function(){e.eBV(D);const De=e.sdS(57);return e.Njj(De.show())}),e.j41(49,"span"),e.EFF(50),e.nI1(51,"translate"),e.k0s()(),e.qex(52,25),e.j41(53,"button",26),e.bIt("click",function(){e.eBV(D);const De=e.sdS(59);return e.Njj(De.show())}),e.EFF(54),e.nI1(55,"translate"),e.k0s(),e.bVm(),e.k0s(),e.nrm(56,"app-clone-client",27,0),e.j41(58,"app-delete-confirmation-modal",28,1),e.bIt("delete",function(){return e.eBV(D),e.Njj(l.deleteClient(l.client.id))}),e.k0s(),e.nrm(60,"app-can-deactivate")}if(2&a){let D,Q;e.Y8G("title",l.client.clientName)("crumbs",e.eq3(63,dp,e.l_i(60,p1,e.bMT(1,38,"Nav.Clients"),e.bMT(2,40,"/clients"))))("hasButton",!0)("hasTabs",!0),e.R7$(6),e.JRh(e.bMT(7,42,"Nav.SubMenu")),e.R7$(5),e.SpI("",e.bMT(12,44,"Nav.SubMenu"),"..."),e.R7$(3),e.JRh(e.bMT(15,46,"Nav.Details")),e.R7$(2),e.Y8G("ngIf",l.clientViewService.saml.display),e.R7$(),e.Y8G("ngIf",l.clientViewService.wsFed.display),e.R7$(),e.Y8G("ngIf",l.clientViewService.applicationUrls.display),e.R7$(),e.Y8G("ngIf",l.clientViewService.secrets.display),e.R7$(2),e.JRh(e.bMT(22,48,"Nav.Resources")),e.R7$(2),e.Y8G("ngIf",l.clientViewService.ciba.display),e.R7$(2),e.JRh(e.bMT(26,50,"Common.Advanced")),e.R7$(3),e.SpI(" ",e.bMT(29,52,"Nav.Audits")," "),e.R7$(2),e.Y8G("ngIf",null!==(D=null==l.licenseInfo?null:l.licenseInfo.isStarterLicense())&&void 0!==D&&D),e.R7$(2),e.Y8G("tabTitle","Nav.Details")("tabValue","details"),e.R7$(),e.Y8G("ngIf",l.clientViewService.saml.display),e.R7$(),e.Y8G("ngIf",l.clientViewService.wsFed.display),e.R7$(),e.Y8G("ngIf",l.clientViewService.applicationUrls.display),e.R7$(),e.Y8G("ngIf",l.clientViewService.secrets.display),e.R7$(),e.Y8G("tabTitle","Nav.Resources")("tabValue","resources"),e.R7$(),e.Y8G("ngIf",l.clientViewService.ciba.display),e.R7$(),e.Y8G("tabTitle","Common.Advanced")("tabValue","advanced"),e.R7$(),e.Y8G("tabTitle","Nav.Audits")("tabValue","clientaudits")("restrictedStarter",null!==(Q=null==l.licenseInfo?null:l.licenseInfo.isStarterLicense())&&void 0!==Q&&Q),e.R7$(4),e.Y8G("disabled",l.submitDisabled),e.R7$(2),e.JRh(e.bMT(47,54,"Common.SaveAll")),e.R7$(2),e.Y8G("disabled",l.isCloneDisabled()),e.R7$(2),e.JRh(e.bMT(51,56,"Clients.Clone.Label")),e.R7$(4),e.JRh(e.bMT(55,58,"Common.Delete.Title")),e.R7$(2),e.Y8G("client",l.client)("clientType",l.client.clientType),e.R7$(2),e.Y8G("resourceName",l.client.clientName)}},dependencies:[bt.n3,gn.bT,g.xH,g.y7,sn.G,Cn.v,qt.z,fa.E,ho.z,Vo.w,xb,bn.D9,Hn.tl],encapsulation:2})}}return s})();u(78),u(6772),u(1927);class zT{constructor(p){this.id=p.id,this.clientId=p.clientId,this.clientName=p.clientName,this.description=p.description,this.enabled=p.enabled,this.selected=!1,this.nonEditable=p.nonEditable,this.clientType=p.clientType}}var Nl=u(6976),b1=u(4595),Ol=u(1744),C1=u(1138),hp=u(2858),w1=u(7212);class YT extends Ol.$R{set selected(p){this.isSelectable&&(this._selected=p)}get selected(){return this._selected}get isSelectable(){return this.resourceState!==Ol.jD.Duplicate&&this.resourceType===Ol.ot.Client}constructor(p,i=!0){super(),this._selected=!1,this.conflictedByDependencies=!1,this.secretsAction=C1.r.DoNotSet,this.certificateAction=hp.AU.DoNotSet,this.identifier=p.identifier,this.resourceType=p.resourceType,this.resourceState=p.resourceState,this.displayType=p.displayType,this.displayName=p.displayName,this.conflicts=p.conflicts,this.dependantClients=p.dependantClients,this.hadSecrets=p.hadSecrets,this.hadCertificates=p.hadCertificates,this.existingHasSecrets=p.existingHasSecrets,this.existingHasCertificates=p.existingHasCertificates,this.selected=i,this.certificates=new w1.D}}var XT=u(9113),JT=u(5826),QT=u(5088),ZT=u(7629),Vb=u(6193);function Xc(s,p){if(1&s&&(e.j41(0,"div",7),e.nrm(1,"div",8),e.k0s()),2&s){const i=e.XpG();e.R7$(),e.xc7("width",i.progressComplete+"%"),e.BMQ("aria-valuenow",i.progressComplete)}}function md(s,p){}let fp=(()=>{class s{constructor(i){this.viewContainerRef=i}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(e.c1b))}}static{this.\u0275dir=e.FsC({type:s,selectors:[["","appImportStepHost",""]]})}}return s})(),jb=(()=>{class s{constructor(i){this.importWizardController=i,this.finish=new e.bkB,this.warning=new e.bkB,this.components=new Map,this.progressComplete=5,this.progressStepString="",this.disableButtons=!1,this.hideProgressBar=!1}ngOnInit(){this.moveSubscription=this.importWizardController.move.subscribe(i=>{i?this.finish.emit():this.importWizardController.areStepsRemaning()&&(this.displayNext(),this.progressStepString=this.getStepsProgressForCurrentStep())}),this.importWizardController.setupInitialStep(),this.displayNext()}displayNext(){this.wizardHost.viewContainerRef.detach();const i=this.importWizardController.getCurrentStep();let a;if(i.component===hp.zI){const l=this.components.get(i);this.wizardHost.viewContainerRef.detach(),a=l??this.wizardHost.viewContainerRef.createComponent(i.component)}else a=this.wizardHost.viewContainerRef.createComponent(i.component);this.wizardHost.viewContainerRef.detach(),this.wizardHost.viewContainerRef.insert(a.hostView),a.instance.data=i.data,a.instance.importWizardController=this.importWizardController,this.title=i.stepTitle,this.components.set(i,a),this.updateProgressBar(),this.hideProgressBar=a.instance.isWarningModal||a.instance.hideProgressBar,this.warning.emit(a.instance.isWarningModal)}closeButton(){const i=this.importWizardController.getCurrentStep();i.component!==QT.E?this.importWizardController.cancel():this.components.get(i).instance.goNext()}getStepsProgressForCurrentStep(){const i=this.importWizardController.getCurrentStep();if(i.component===C1.u||i.component===hp.zI){const a=this.importWizardController.stepsCompleted.filter(D=>D.component===i.component).length,l=a+this.importWizardController.stepsAhead.filter(D=>D.component===i.component).length;return 1===l?"":"("+(a+1)+"/"+l+")"}return""}disableCloseButton(){return this.importWizardController.disableCloseButton}updateProgressBar(){this.importWizardController.stepsCompleted.length>0?1===this.importWizardController.stepsAhead.length?this.progressComplete=100:this.importWizardController.getCurrentStep().component!==ZT.oG&&(this.progressComplete=(this.importWizardController.stepsCompleted.length+1)/(this.importWizardController.stepsAhead.length+this.importWizardController.stepsCompleted.length)*100):this.progressComplete=5}ngOnDestroy(){this.importWizardController.clear(),this.components.forEach(i=>{i.destroy()}),this.components.clear(),this.moveSubscription?.unsubscribe()}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(Vb.V))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-import-wizard-host"]],viewQuery:function(a,l){if(1&a&&e.GBs(fp,7),2&a){let D;e.mGM(D=e.lsd())&&(l.wizardHost=D.first)}},outputs:{finish:"finish",warning:"warning"},decls:12,vars:9,consts:[[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click","disabled"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],["class","modal-progress",4,"ngIf"],["appImportStepHost",""],[1,"modal-progress"],["role","progressbar",1,"modal-progress-bar"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"h5",1),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"button",2),e.bIt("click",function(){return l.closeButton()}),e.nrm(5,"span",3),e.j41(6,"span",4),e.EFF(7),e.nI1(8,"translate"),e.k0s()()(),e.DNE(9,Xc,2,3,"div",5),e.j41(10,"div"),e.DNE(11,md,0,0,"ng-template",6),e.k0s()),2&a&&(e.R7$(2),e.Lme("",e.bMT(3,5,l.title)," ",l.progressStepString,""),e.R7$(2),e.Y8G("disabled",l.disableCloseButton()),e.R7$(3),e.JRh(e.bMT(8,7,"Common.Close")),e.R7$(2),e.Y8G("ngIf",!l.hideProgressBar))},dependencies:[gn.bT,fp,bn.D9],encapsulation:2})}}return s})();function pp(s,p){1&s&&(e.nrm(0,"app-simple-loader",17),e.nI1(1,"translate")),2&s&&e.Y8G("text",e.bMT(1,1,"Clients.Import.Wizard.Setup.CheckImportPleaseWait"))}function ml(s,p){if(1&s&&(e.j41(0,"div",23)(1,"div"),e.EFF(2),e.k0s()()),2&s){const i=e.XpG(3);e.R7$(2),e.JRh(i.errorCode)}}function $b(s,p){if(1&s){const i=e.RV6();e.j41(0,"div")(1,"div",18)(2,"p"),e.EFF(3),e.nI1(4,"translate"),e.k0s()(),e.DNE(5,ml,3,1,"div",19),e.j41(6,"app-form-row",20)(7,"div",21)(8,"input",22,1),e.bIt("change",function(l){e.eBV(i);const D=e.XpG(2);return e.Njj(D.handleFileInput(l.target.files))}),e.k0s()()()()}if(2&s){const i=e.XpG(2);e.R7$(3),e.JRh(e.bMT(4,6,"Clients.Import.Wizard.Setup.Summary")),e.R7$(2),e.Y8G("ngIf",""!=i.errorCode),e.R7$(),e.Y8G("id","fileInput")("label","Clients.Import.Wizard.Setup.ChooseFile")("help","Clients.Import.Wizard.Setup.ChooseFileHelp")("isLast",!0)}}function mp(s,p){if(1&s){const i=e.RV6();e.j41(0,"div")(1,"div",3)(2,"h5",4),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"button",5),e.nI1(6,"translate"),e.bIt("click",function(){e.eBV(i);const l=e.XpG();return e.Njj(l.hide())}),e.nrm(7,"span",6),e.k0s()(),e.j41(8,"div",7),e.nrm(9,"div",8,0),e.k0s(),e.j41(11,"div",9),e.DNE(12,pp,2,3,"app-simple-loader",10)(13,$b,11,8,"div",2),e.k0s(),e.nrm(14,"div",11),e.j41(15,"div",12)(16,"div",13)(17,"div",14)(18,"button",15),e.bIt("click",function(){e.eBV(i);const l=e.XpG();return e.Njj(l.startImport())}),e.EFF(19),e.nI1(20,"translate"),e.k0s()(),e.j41(21,"button",16),e.bIt("click",function(){e.eBV(i);const l=e.XpG();return e.Njj(l.hide())}),e.EFF(22),e.nI1(23,"translate"),e.k0s()()()()}if(2&s){const i=e.XpG();e.R7$(2),e.Y8G("id",i.titleId),e.R7$(),e.JRh(e.bMT(4,10,"Clients.Import.Wizard.Setup.Title")),e.R7$(2),e.Y8G("disabled",i.disableButtons),e.BMQ("aria-label",e.bMT(6,12,"Common.Close")),e.R7$(7),e.Y8G("ngIf",i.isLoading),e.R7$(),e.Y8G("ngIf",!i.isLoading),e.R7$(5),e.Y8G("disabled",i.disableButtons||null==i.fileToUpload),e.R7$(),e.SpI(" ",e.bMT(20,14,"Common.Start")," "),e.R7$(2),e.Y8G("disabled",i.disableButtons),e.R7$(),e.SpI(" ",e.bMT(23,16,"Common.Cancel")," ")}}function gd(s,p){if(1&s){const i=e.RV6();e.j41(0,"div")(1,"app-import-wizard-host",24),e.bIt("warning",function(l){e.eBV(i);const D=e.XpG();return e.Njj(D.onWarning(l))})("finish",function(){e.eBV(i);const l=e.XpG();return e.Njj(l.onFinish())}),e.k0s()()}}let Gb=(()=>{class s{constructor(i,a,l,D){this.translate=i,this.clientImportService=a,this.importWizardService=l,this.modalService=D,this.finish=new e.bkB,this.titleId=ra.R.TileId,this.wizardTypes=Vi.$,this.isLoading=!1,this.fileToUpload=null,this.isWarningModal=!1,this.storage=sessionStorage,this.importWizardService.resetImport.subscribe(Q=>{this.reset(),null!=Q&&(this.errorCode=Q)})}ngOnInit(){this.reset()}onCancel(){this.hide()}onFinish(){this.finish.emit(),this.hide()}onWarning(i){this.isWarningModal=i}hide(){this.reset(),this.modalService.hide(ra.R.Id)}handleFileInput(i){this.fileToUpload=i.item(0)}reset(){this.isLoading=!1,this.disableButtons=!1,this.showWizard=!1,this.fileToUpload=null,this.errorCode="",this.isWarningModal=!1}startImport(){null!=this.fileToUpload&&this.validateImport()}validateImport(){if(this.isLoading=!0,this.disableButtons=!0,"application/json"!==this.fileToUpload.type)return this.reset(),void(this.errorCode=this.translate.instant("Clients.Import.Wizard.Setup.Errors.InvalidFile"));this.fileToUpload.text().then(i=>{this.clientImportService.validateImportFile(i).subscribe(a=>{try{JSON.parse(i)}catch{return this.reset(),void(this.errorCode=this.translate.instant("Clients.Import.Wizard.Setup.Errors.InvalidData"))}this.storeFileInStorage(i);const l=a.importResources.map(D=>new YT(D));this.importWizardService.cache.next(l),this.isLoading=!1,this.showWizard=!0},a=>{if(400===a.status){this.reset();const l=a.error;this.errorCode=this.translate.instant(`Errors.${l.errorCode}`),"ValidateImportError.WrongVersion"===l.errorCode&&(this.errorCode=this.errorCode.replace("{0}",l.replacementArgs[0]),this.errorCode=this.errorCode.replace("{1}",l.replacementArgs[1]))}else this.reset(),this.errorCode=this.translate.instant("Clients.Import.Wizard.Setup.Errors.Default")})})}storeFileInStorage(i){this.storage.setItem("importFile",i)}ngOnDestroy(){this.reset(),this.hide()}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(bn.c$),e.rXU(XT.qJ),e.rXU(JT.o),e.rXU(Mt.I8))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-import-wizard"]],outputs:{finish:"finish"},decls:2,vars:2,consts:[["progressBar",""],["fileInput","","selectedFile",""],[4,"ngIf"],[1,"modal-header"],[1,"modal-title",3,"id"],["type","button",1,"modal-close",3,"click","disabled"],["aria-hidden","true",1,"fas","fa-times"],[1,"modal-progress"],["role","progressbar",1,"modal-progress-bar",2,"width","2%"],[1,"modal-body"],[3,"text",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","importNext",1,"tw-btn-success",3,"click","disabled"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click","disabled"],[3,"text"],[1,"cms","tw-mb-6"],["class","tw-alert-danger tw-mb-6",4,"ngIf"],[3,"id","label","help","isLast"],[1,"tw-form-control"],["id","fileInput","type","file","name","file","accept",".json",1,"tw-form-file","tw-max-w-full",3,"change"],[1,"tw-alert-danger","tw-mb-6"],[3,"warning","finish"]],template:function(a,l){1&a&&e.DNE(0,mp,24,18,"div",2)(1,gd,2,0,"div",2),2&a&&(e.Y8G("ngIf",!l.showWizard),e.R7$(),e.Y8G("ngIf",l.showWizard))},dependencies:[gn.bT,As.d,fe.Y,jb,bn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();class vd{constructor(p){this.clientType=p}}class tc{constructor(p){this.clientType=p}}let gl=(()=>{class s{constructor(i){this.fb=i}hosted(){}ngOnInit(){this.callbackUrlForm=this.fb.group({callbackUrl:["",g.k0.required]})}getStepSummary(){const i=new Map;return i.set("callbackUrl",[this.callbackUrlForm.get("callbackUrl").value]),(this.data.clientType===lr.s.BrowserBased||this.data.clientType===lr.s.LegacyClientSide)&&(this.corsUrl=""===this.callbackUrlForm.get("callbackUrl").value?"":(0,Ii.kI)(this.callbackUrlForm.get("callbackUrl").value),i.set("corsurl",[this.corsUrl])),i}getStepDTO(){const i=this.getStepSummary(),a={};return i.forEach((l,D)=>{"corsurl"===D&&(D="allowedCorsOrigins"),"callbackUrl"===D&&(D="redirectUris"),a[D]=l}),a}canNext(){return this.callbackUrlForm.valid}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(g.ze))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-callback-url"]],inputs:{data:"data"},decls:6,vars:8,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help","isLast"],["type","url","name","CallbackUrl","id","CallbackUrl","formControlName","callbackUrl",1,"tw-form-control"]],template:function(a,l){1&a&&(e.j41(0,"div",0),e.nrm(1,"p",1),e.nI1(2,"translate"),e.k0s(),e.j41(3,"form",2)(4,"app-form-row",3),e.nrm(5,"input",4),e.k0s()()),2&a&&(e.R7$(),e.Y8G("innerHTML",e.bMT(2,6,"Clients.CallbackURL"),e.npT),e.R7$(2),e.Y8G("formGroup",l.callbackUrlForm),e.R7$(),e.Y8G("id","CallbackUrl")("label","Common.CallbackURL")("help","Clients.RedirectURLDescription")("isLast",!0))},dependencies:[g.qT,g.me,g.BC,g.cb,g.j4,g.JD,fe.Y,bn.D9],encapsulation:2})}}return s})();class sa{constructor(p,i=Xa.E.Default){this.clientType=p,this.clientIdKey=i}}function gp(s,p){1&s&&(e.j41(0,"div")(1,"app-form-row",2),e.nrm(2,"input",13),e.k0s(),e.j41(3,"app-form-row",2),e.nrm(4,"input",14),e.k0s()()),2&s&&(e.R7$(),e.Y8G("id","Domain")("label","Common.DisplayURL")("help","Clients.DisplayURLHelp"),e.R7$(2),e.Y8G("id","LogoUrl")("label","Common.LogoURL")("help","Clients.LogoURLHelp"))}function Hb(s,p){1&s&&(e.j41(0,"app-form-row",10)(1,"app-form-toggle",15),e.nrm(2,"input",16),e.k0s()()),2&s&&(e.Y8G("id","requireConsent")("label","Clients.RequireConsent.Title")("help","Clients.RequireConsent.Help")("isLast",!0),e.R7$(),e.Y8G("id","requireConsent"))}let Ja=(()=>{class s{constructor(i){this.fb=i,this.desFocus=!1,this.hasExtraFields=!1}hosted(){}ngOnInit(){this.descriptionForm=this.fb.group({clientType:[this.data.clientType],clientId:["",[g.k0.required,g.k0.maxLength(100),g.k0.pattern(/^\S*$/)]],clientName:["",[g.k0.required,g.k0.maxLength(50)]],description:["",g.k0.maxLength(1e3)]}),this.hasExtraFields=this.data.clientType===lr.s.Native||this.data.clientType===lr.s.NativePKCE||this.data.clientType===lr.s.BrowserBased||this.data.clientType===lr.s.LegacyClientSide||this.data.clientType===lr.s.ServerSide||this.data.clientType===lr.s.ServerSidePKCE,this.clientIdKey=this.data.clientIdKey,this.hasExtraFields&&(this.descriptionForm.addControl("clientUri",new g.hs("",g.k0.pattern("^https?://.*$"))),this.descriptionForm.addControl("logoUri",new g.hs("",g.k0.pattern("^https?://.*$"))),this.descriptionForm.addControl("requireConsent",new g.hs(!0)))}setRandomID(){this.descriptionForm.patchValue({clientId:(0,Ii.Nl)()})}canNext(){return this.descriptionForm.valid}getStepSummary(){const i=new Map;for(const a in this.descriptionForm.value)this.descriptionForm.value.hasOwnProperty(a)&&i.set("clientId"===a?this.clientIdKey:a,[this.descriptionForm.value[a]]);return i.delete("clientType"),i}getStepDTO(){const i=this.descriptionForm.value;return this.hasExtraFields&&(""===this.descriptionForm.controls.clientUri.value&&(i.clientUri=null),""===this.descriptionForm.controls.logoUri.value&&(i.logoUri=null)),i}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(g.ze))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["ng-component"]],inputs:{data:"data"},decls:20,vars:21,consts:[[1,"cms","tw-mb-6"],[3,"formGroup"],[3,"id","label","help"],[1,"tw-flex","tw-w-full","lg:tw-max-w-2xl"],["type","text","name","ClientId","id","ClientId","formControlName","clientId",1,"tw-form-control","tw-rounded-r-none","tw-border-r-0"],["id","genRandomIdBtn",1,"tw-btn","tw-rounded-l-none",3,"click"],["aria-hidden","true",1,"far","fa-random"],[1,"sr-only"],["id","DisplayName","type","text","name","DisplayName","formControlName","clientName",1,"tw-form-control"],[4,"ngIf"],[3,"id","label","help","isLast"],["id","Description","name","Description","formControlName","description",1,"tw-form-control",3,"blur","focus"],[3,"id","label","help","isLast",4,"ngIf"],["id","Domain","type","text","name","Domain","formControlName","clientUri",1,"tw-form-control"],["type","text","name","LogoUrl","id","LogoUrl","formControlName","logoUri",1,"tw-form-control"],[3,"id"],["id","requireConsent","type","checkbox","formControlName","requireConsent","name","requireConsent",1,"tw-form-switch__input"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"p"),e.EFF(2),e.nI1(3,"translate"),e.k0s()(),e.j41(4,"div",1)(5,"app-form-row",2),e.nI1(6,"keyToString"),e.j41(7,"div",3),e.nrm(8,"input",4),e.j41(9,"button",5),e.bIt("click",function(){return l.setRandomID()}),e.nrm(10,"span",6),e.j41(11,"span",7),e.EFF(12),e.nI1(13,"translate"),e.k0s()()()(),e.j41(14,"app-form-row",2),e.nrm(15,"input",8),e.k0s(),e.DNE(16,gp,5,6,"div",9),e.j41(17,"app-form-row",10)(18,"textarea",11),e.bIt("blur",function(){return l.desFocus=!l.desFocus})("focus",function(){return l.desFocus=!l.desFocus}),e.k0s()(),e.DNE(19,Hb,3,5,"app-form-row",12),e.k0s()),2&a&&(e.R7$(2),e.JRh(e.bMT(3,15,"Clients.EnterBasicDetails")),e.R7$(2),e.Y8G("formGroup",l.descriptionForm),e.R7$(),e.Y8G("id","ClientId")("label",e.bMT(6,17,l.clientIdKey))("help","Clients.IDHelp"),e.R7$(7),e.JRh(e.bMT(13,19,"Common.GenerateRandom")),e.R7$(2),e.Y8G("id","DisplayName")("label","Common.DisplayName")("help","Clients.DisplayNameHelp"),e.R7$(2),e.Y8G("ngIf",l.hasExtraFields),e.R7$(),e.Y8G("id","Description")("label","Common.Description")("help","Clients.DescriptionHelp")("isLast",!l.hasExtraFields),e.R7$(2),e.Y8G("ngIf",l.hasExtraFields))},dependencies:[gn.bT,g.me,g.Zm,g.BC,g.cb,g.j4,g.JD,fe.Y,Co.m,bn.D9,Ys.C],encapsulation:2})}}return s})();var yd=u(9767),S1=u(9764);const Wb=["secretPicker"];let Jc=(()=>{class s{constructor(){this.secrets=[],this.filePickerClosed=!0}getStepSummary(){const i=new Map;return i.set("secrets",this.secrets.map(a=>a.type)),i}getStepDTO(){return{clientSecrets:this.secretPicker.clientSecrets}}canNext(){return this.filePickerClosed}hosted(){this.secretPicker.resetState()}ngOnInit(){this.secretPicker.secretsAddStream.subscribe(i=>{this.secretPicker.clientSecrets.push(i)}),this.secretPicker.secretsRemoveStream.subscribe(i=>{this.secretPicker.clientSecrets.splice(this.secretPicker.clientSecrets.indexOf(i),1)})}filePickerStateChanged(i){this.filePickerClosed=!i}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-client-secret-picker"]],viewQuery:function(a,l){if(1&a&&e.GBs(Wb,7),2&a){let D;e.mGM(D=e.lsd())&&(l.secretPicker=D.first)}},decls:5,vars:6,consts:[["secretPicker",""],[1,"tw-mb-4"],[3,"filepickerDisplayed","clientSecrets","nonModelCertPicker","showCreatedColumn"]],template:function(a,l){if(1&a){const D=e.RV6();e.j41(0,"p",1),e.EFF(1),e.nI1(2,"translate"),e.k0s(),e.j41(3,"app-secret-picker",2,0),e.bIt("filepickerDisplayed",function(De){return e.eBV(D),e.Njj(l.filePickerStateChanged(De))}),e.k0s()}2&a&&(e.R7$(),e.JRh(e.bMT(2,4,"Clients.NativeApp.Secrets")),e.R7$(2),e.Y8G("clientSecrets",l.secrets)("nonModelCertPicker",!0)("showCreatedColumn",!1))},dependencies:[S1.s,bn.D9],encapsulation:2,data:{animation:[(0,yd.Ws)()]}})}}return s})();var xo=u(5313);let Qc=(()=>{class s{constructor(i){this.fb=i}hosted(){}ngOnInit(){this.logoutUrlForm=this.fb.group({logoutUrl:["",g.k0.pattern("^https?://.*$")]})}getStepSummary(){const i="logoutUrl",a=new Map,l=this.logoutUrlForm.value[i];return(0,Ii.gP)(l)||a.set(i,[l]),a}getStepDTO(){const i=this.logoutUrlForm.value.logoutUrl;return(0,Ii.gP)(i)?{postLogoutRedirectUris:[]}:{postLogoutRedirectUris:[i]}}canNext(){return this.logoutUrlForm.valid}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(g.ze))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-logout-url"]],inputs:{data:"data"},decls:6,vars:8,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help","isLast"],["type","url","name","LogoutUrl","id","LogoutUrl","formControlName","logoutUrl",1,"tw-form-control"]],template:function(a,l){1&a&&(e.j41(0,"div",0),e.nrm(1,"p",1),e.nI1(2,"translate"),e.k0s(),e.j41(3,"form",2)(4,"app-form-row",3),e.nrm(5,"input",4),e.k0s()()),2&a&&(e.R7$(),e.Y8G("innerHTML",e.bMT(2,6,"Clients.PostLogoutURL"),e.npT),e.R7$(2),e.Y8G("formGroup",l.logoutUrlForm),e.R7$(),e.Y8G("id","LogoutUrl")("label","Common.LogoutURL")("help","Clients.LogoutURLDescription")("isLast",!0))},dependencies:[g.qT,g.me,g.BC,g.cb,g.j4,g.JD,fe.Y,bn.D9],encapsulation:2})}}return s})(),E1=(()=>{class s{constructor(i){this.fb=i}hosted(){}ngOnInit(){this.cibaConfigForm=this.fb.group({cibaLifetime:["",g.k0.required],pollingInterval:["",g.k0.required]})}getStepSummary(){const i=new Map;return i.set("cibaLifetime",[this.cibaConfigForm.get("cibaLifetime").value]),i.set("pollingInterval",[this.cibaConfigForm.get("pollingInterval").value]),this.data.clientType===lr.s.CIBAMachine&&(this.cibaLifetime=""===this.cibaConfigForm.get("cibaLifetime").value?"":this.cibaConfigForm.get("cibaLifetime").value,this.pollingInterval=""===this.cibaConfigForm.get("pollingInterval").value?"":this.cibaConfigForm.get("pollingInterval").value,i.set("cibaLifetime",[this.cibaLifetime.toString()]),i.set("pollingInterval",[this.pollingInterval.toString()])),i}getStepDTO(){const i=this.getStepSummary(),a={};return i.forEach((l,D)=>{"cibaLifetime"===D&&(D="cibaLifetime"),"pollingInterval"===D&&(D="pollingInterval"),a[D]=l[0]}),a}canNext(){return this.cibaConfigForm.valid}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(g.ze))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-ciba-configuration"]],inputs:{data:"data"},decls:8,vars:11,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help"],["type","number","name","CIBALifetime","id","CIBALifetime","formControlName","cibaLifetime",1,"tw-form-control"],[3,"id","label","help","isLast"],["type","number","name","PollingInterval","id","PollingInterval","formControlName","pollingInterval",1,"tw-form-control"]],template:function(a,l){1&a&&(e.j41(0,"div",0),e.nrm(1,"p",1),e.nI1(2,"translate"),e.k0s(),e.j41(3,"form",2)(4,"app-form-row",3),e.nrm(5,"input",4),e.k0s(),e.j41(6,"app-form-row",5),e.nrm(7,"input",6),e.k0s()()),2&a&&(e.R7$(),e.Y8G("innerHTML",e.bMT(2,9,"Clients.CIBAConfiguration"),e.npT),e.R7$(2),e.Y8G("formGroup",l.cibaConfigForm),e.R7$(),e.Y8G("id","CIBALifetime")("label","Common.CIBALifetime")("help","Clients.CIBALifetimeDescription"),e.R7$(2),e.Y8G("id","PollingInterval")("label","Common.PollingInterval")("help","Clients.CIBAPollingIntervalDescription")("isLast",!0))},dependencies:[g.qT,g.me,g.Q0,g.BC,g.cb,g.j4,g.JD,fe.Y,bn.D9],encapsulation:2})}}return s})();const vp=["commonPicker"];let wo=(()=>{class s{constructor(i,a){this.wizardResourceService=a,this.resourceType=i}hosted(){}ngOnInit(){}getStepSummary(){const a=("protectedResources"===this.resourceType?this.wizardResourceService.assignedProtectedResources:this.wizardResourceService.assignedIdentityResources).map(l=>l.name);return new Map([[this.resourceType,a]])}getStepDTO(){return{allowedScopes:[...this.wizardResourceService.assignedIdentityResources.concat(this.wizardResourceService.assignedProtectedResources).map(l=>l.name)]}}canNext(){return this.wizardResourceService.assignedIdentityResources.length>0||this.wizardResourceService.assignedProtectedResources.length>0}static{this.\u0275fac=function(a){e.QTQ()}}static{this.\u0275dir=e.FsC({type:s,viewQuery:function(a,l){if(1&a&&e.GBs(vp,7),2&a){let D;e.mGM(D=e.lsd())&&(l.commonPicker=D.first)}}})}}return s})();var Zc=u(2653),_h=u(4354);function T1(s,p){1&s&&(e.j41(0,"p"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.ProtectedResourcesAccess")))}function Kb(s,p){1&s&&(e.j41(0,"p"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.IdentityResourcesAccess")))}let Qa=(()=>{class s extends wo{constructor(i,a){super("identityResources",a),this.identityResourceService=i,this.wizardResourceService=a,this.resources=[],this.assignedResources=[]}ngOnInit(){this.identityResourceService.getIdentityResources().subscribe(i=>{const a=i.find(l=>"openid"===l.name);a&&(i.splice(i.indexOf(a),1),this.assignedResources=[a],this.wizardResourceService.assignedIdentityResources=this.assignedResources),this.resources=i})}ngAfterViewInit(){this.commonPicker.assignedStream.subscribe(i=>{this.resources=(0,Ii.Yt)(this.resources.slice(),i);const a=this.assignedResources.slice();this.assignedResources=a.concat(i),this.wizardResourceService.assignedIdentityResources=this.assignedResources,this.commonPicker.availableCount=0}),this.commonPicker.unAssignedStream.subscribe(i=>{const a=this.resources;this.assignedResources=(0,Ii.Yt)(this.assignedResources.slice(),i),this.resources=a.concat(i),this.wizardResourceService.assignedIdentityResources=this.assignedResources,this.commonPicker.assignedCount=0})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(op.A),e.rXU(Zc.f))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["wizard-identity-resource-picker"]],features:[e.Vt3],decls:5,vars:4,consts:[["commonPicker",""],[1,"cms","tw-mb-6"],[4,"ngIf"],[3,"assignedInput","availableInput"]],template:function(a,l){1&a&&(e.j41(0,"div",1),e.DNE(1,T1,3,3,"p",2)(2,Kb,3,3,"p",2),e.k0s(),e.nrm(3,"app-common-picker",3,0)),2&a&&(e.R7$(),e.Y8G("ngIf","protectedResources"==l.resourceType),e.R7$(),e.Y8G("ngIf","identityResources"==l.resourceType),e.R7$(),e.Y8G("assignedInput",l.assignedResources)("availableInput",l.resources))},dependencies:[gn.bT,_h.f,bn.D9],encapsulation:2})}}return s})();function zb(s,p){1&s&&(e.j41(0,"p"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.ProtectedResourcesAccess")))}function I1(s,p){1&s&&(e.j41(0,"p"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.IdentityResourcesAccess")))}let Fl=(()=>{class s extends wo{constructor(i,a){super("protectedResources",a),this.protectedResourceService=i,this.wizardResourceService=a,this.resources=[],this.assignedResources=[]}ngOnInit(){this.protectedResourceService.getProtectedResources().subscribe(i=>{const a=[];i.forEach(l=>{l.scopes.forEach(D=>{a.find(Q=>Q.name==D.name)||a.push(D)})}),this.resources=a})}ngAfterViewInit(){this.commonPicker.assignedStream.subscribe(i=>{this.resources=(0,Ii.Yt)(this.resources.slice(),i);const a=this.assignedResources.slice();this.assignedResources=a.concat(i),this.wizardResourceService.assignedProtectedResources=this.assignedResources,this.commonPicker.availableCount=0}),this.commonPicker.unAssignedStream.subscribe(i=>{const a=this.resources;this.assignedResources=(0,Ii.Yt)(this.assignedResources.slice(),i),this.resources=a.concat(i),this.wizardResourceService.assignedProtectedResources=this.assignedResources,this.commonPicker.assignedCount=0})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(xl.x),e.rXU(Zc.f))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["wizard-protected-resource-picker"]],features:[e.Vt3],decls:5,vars:4,consts:[["commonPicker",""],[1,"cms","tw-mb-6"],[4,"ngIf"],[3,"assignedInput","availableInput"]],template:function(a,l){1&a&&(e.j41(0,"div",1),e.DNE(1,zb,3,3,"p",2)(2,I1,3,3,"p",2),e.k0s(),e.nrm(3,"app-common-picker",3,0)),2&a&&(e.R7$(),e.Y8G("ngIf","protectedResources"==l.resourceType),e.R7$(),e.Y8G("ngIf","identityResources"==l.resourceType),e.R7$(),e.Y8G("assignedInput",l.assignedResources)("availableInput",l.resources))},dependencies:[gn.bT,_h.f,bn.D9],encapsulation:2})}}return s})();var D1=u(7301),Yb=u(1410);class Xb extends sh.p{constructor(){super(),this.nameComponentMap.set(Vi.$.Home,[new Zt.W(D1.l,Yb.y.Duende)]),this.nameComponentMap.set(Vi.$.SinglePageApplication,[new Zt.W(Ja,new sa(lr.s.BrowserBased)),new Zt.W(gl,new tc(lr.s.BrowserBased)),new Zt.W(Qc,new vd(lr.s.BrowserBased)),new Zt.W(Qa,{}),new Zt.W(Fl,{})]),this.nameComponentMap.set(Vi.$.LegacySinglePageApplication,[new Zt.W(Ja,new sa(lr.s.LegacyClientSide)),new Zt.W(gl,new tc(lr.s.LegacyClientSide)),new Zt.W(Qc,new vd(lr.s.LegacyClientSide)),new Zt.W(Qa,{}),new Zt.W(Fl,{})]),this.nameComponentMap.set(Vi.$.SamlApplication,[new Zt.W(Ja,new sa(lr.s.Saml,Xa.E.Saml)),new Zt.W(xo.w,{endpointType:"ACSEndpoint"}),new Zt.W(xo.w,{endpointType:"SLOEndpoint"}),new Zt.W(xo.w,{endpointType:"ARSEndpoint"}),new Zt.W(Qa)]),this.nameComponentMap.set(Vi.$.WsFedApplication,[new Zt.W(Ja,new sa(lr.s.WsFed,Xa.E.WsFed)),new Zt.W(gl,new tc(lr.s.WsFed)),new Zt.W(Qa)]),this.nameComponentMap.set(Vi.$.DeviceApplication,[new Zt.W(Ja,new sa(lr.s.Device)),new Zt.W(Fl,{}),new Zt.W(Qa,{})]),this.nameComponentMap.set(Vi.$.RobotApplication,[new Zt.W(Ja,new sa(lr.s.Machine)),new Zt.W(Fl,{}),new Zt.W(Jc,{})]),this.nameComponentMap.set(Vi.$.CIBARobotApplication,[new Zt.W(Ja,new sa(lr.s.CIBAMachine)),new Zt.W(Qa,{}),new Zt.W(Fl,{}),new Zt.W(Jc,{}),new Zt.W(E1,{})]),this.nameComponentMap.set(Vi.$.NativeApplication,[new Zt.W(Ja,new sa(lr.s.Native)),new Zt.W(gl,new tc(lr.s.Native)),new Zt.W(Jc,{}),new Zt.W(Qa,{}),new Zt.W(Fl,{})]),this.nameComponentMap.set(Vi.$.PKCENativeApplication,[new Zt.W(Ja,new sa(lr.s.NativePKCE)),new Zt.W(gl,new tc(lr.s.NativePKCE)),new Zt.W(Jc,{}),new Zt.W(Qa,{}),new Zt.W(Fl,{})]),this.nameComponentMap.set(Vi.$.WebApplication,[new Zt.W(Ja,new sa(lr.s.ServerSide)),new Zt.W(gl,new tc(lr.s.ServerSide)),new Zt.W(Qc,new vd(lr.s.ServerSide)),new Zt.W(Jc,{}),new Zt.W(Qa,{}),new Zt.W(Fl,{})]),this.nameComponentMap.set(Vi.$.PKCEWebApplication,[new Zt.W(Ja,new sa(lr.s.ServerSidePKCE)),new Zt.W(gl,new tc(lr.s.ServerSidePKCE)),new Zt.W(Qc,new vd(lr.s.ServerSidePKCE)),new Zt.W(Jc,{}),new Zt.W(Qa,{}),new Zt.W(Fl,{})]),this.nameTitleMap.set(Vi.$.Home,new ki.J("Clients.Home.Title","")),this.nameTitleMap.set(Vi.$.SinglePageApplication,new ki.J("Clients.SPA.Setup","Clients.SPA.Title")),this.nameTitleMap.set(Vi.$.LegacySinglePageApplication,new ki.J("Clients.LegacySPA.Setup","Clients.LegacySPA.Title")),this.nameTitleMap.set(Vi.$.DeviceApplication,new ki.J("Clients.DeviceFlow.Setup","Clients.DeviceFlow.Title")),this.nameTitleMap.set(Vi.$.RobotApplication,new ki.J("Clients.MachineToMachine.Setup","Clients.MachineToMachine.Title")),this.nameTitleMap.set(Vi.$.CIBARobotApplication,new ki.J("Clients.CIBAMachineToMachine.Setup","Clients.CIBAMachineToMachine.Title")),this.nameTitleMap.set(Vi.$.NativeApplication,new ki.J("Clients.NativeApp.Setup","Clients.NativeApp.Title")),this.nameTitleMap.set(Vi.$.PKCENativeApplication,new ki.J("Clients.NativeApp.Setup","Clients.NativeApp.Title")),this.nameTitleMap.set(Vi.$.WebApplication,new ki.J("Clients.WebApp.Setup","Clients.WebApp.Title")),this.nameTitleMap.set(Vi.$.PKCEWebApplication,new ki.J("Clients.WebApp.Setup","Clients.PKCEWebApp.Title")),this.nameTitleMap.set(Vi.$.SamlApplication,new ki.J("Clients.Saml.Setup","Clients.Saml.Title")),this.nameTitleMap.set(Vi.$.WsFedApplication,new ki.J("Clients.WsFed.Setup","Clients.WsFed.Title"))}getWizard(p){return this.nameComponentMap.get(p)}getWizardTitle(p){return this.nameTitleMap.get(p)}}function Jb(s,p){if(1&s&&(e.j41(0,"div",5),e.nrm(1,"div",17),e.k0s()),2&s){const i=e.XpG();e.R7$(),e.xc7("width",i.progressPercent+"%"),e.BMQ("aria-valuenow",i.progressPercent)}}function Qb(s,p){}function A1(s,p){if(1&s){const i=e.RV6();e.j41(0,"button",18),e.bIt("click",function(){e.eBV(i);const l=e.XpG();return e.Njj(l.nextTab())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}if(2&s){const i=e.XpG();e.Y8G("disabled",!i.canNext()),e.R7$(),e.JRh(e.bMT(2,2,"Common.Next"))}}function R1(s,p){if(1&s){const i=e.RV6();e.j41(0,"button",19),e.bIt("click",function(){e.eBV(i);const l=e.XpG();return e.Njj(l.submit())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Common.Save")))}function M1(s,p){if(1&s){const i=e.RV6();e.j41(0,"button",20),e.bIt("click",function(){e.eBV(i);const l=e.XpG();return e.Njj(l.previousTab())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Common.Back")))}function bh(s,p){1&s&&(e.j41(0,"a",15),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"StarterMode.UpgradeAdminUI")))}let x1=(()=>{class s extends oh.P{constructor(i,a,l,D){super(a,l,D),this.clientsService=i,this.wizardProvider=new Xb,this.wizardName=Vi.$.Home}submit(){const i=this.getWizardDto();this.clientsService.addClient(i).subscribe({complete:()=>{this.finishWizard(),this.clearComponents(),this.toastr.success(this.translate.instant("Common.Created")+": "+i.clientName,this.translate.instant("Notifications.SuccessfullyCreated"))},error:a=>{this.errorService.handleError(a)}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(ql._),e.rXU(ne.I),e.rXU(Jn.tw),e.rXU(bn.c$))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-client-wizard-host"]],features:[e.Jv_([ql._]),e.Vt3],decls:23,vars:15,consts:[[1,"modal-header"],[1,"modal-title",3,"id"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-progress"],[1,"modal-body","scrollbars"],["appStepHost",""],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["class","tw-btn-success tw-mr-3","id","nextBtn",3,"disabled","click",4,"ngIf"],["class","tw-btn-success tw-mr-3","id","submitBtn",3,"click",4,"ngIf"],["class","tw-btn","id","backBtn",3,"click",4,"ngIf"],["id","upgradeAdminUI","href","starter-mode/teaser",1,"tw-btn","tw-ml-4"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],["role","progressbar",1,"modal-progress-bar"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],["id","submitBtn",1,"tw-btn-success","tw-mr-3",3,"click"],["id","backBtn",1,"tw-btn",3,"click"]],template:function(a,l){if(1&a&&(e.j41(0,"div",0)(1,"h5",1),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"button",2),e.bIt("click",function(){return l.hideWizard()}),e.nrm(5,"span",3),e.j41(6,"span",4),e.EFF(7),e.nI1(8,"translate"),e.k0s()()(),e.DNE(9,Jb,2,3,"div",5),e.j41(10,"div",6),e.DNE(11,Qb,0,0,"ng-template",7),e.k0s(),e.nrm(12,"div",8),e.j41(13,"div",9)(14,"div",10)(15,"div",11),e.DNE(16,A1,3,4,"button",12)(17,R1,3,3,"button",13)(18,M1,3,3,"button",14)(19,bh,3,3,"a",15),e.k0s(),e.j41(20,"button",16),e.bIt("click",function(){return l.cancelWizard()}),e.EFF(21),e.nI1(22,"translate"),e.k0s()()()),2&a){let D;e.R7$(),e.Y8G("id",l.titleId),e.R7$(),e.JRh(e.bMT(3,9,null!==(D=null==l.wizardTitles?null:l.wizardTitles.setupTitle)&&void 0!==D?D:"")),e.R7$(5),e.JRh(e.bMT(8,11,"Common.Close")),e.R7$(2),e.vxM(9,l.showProgress?9:-1),e.R7$(7),e.Y8G("ngIf",l.index<(null==l.wizardSteps?null:l.wizardSteps.length)),e.R7$(),e.Y8G("ngIf",l.index==(null==l.wizardSteps?null:l.wizardSteps.length)),e.R7$(),e.Y8G("ngIf",!l.initialStep()),e.R7$(),e.vxM(19,l.initialStep()&&null!=l.asAny&&l.asAny.displayUpgradeIcon?19:-1),e.R7$(2),e.JRh(e.bMT(22,13,"Common.Cancel"))}},dependencies:[gn.bT,_o.t,bn.D9],encapsulation:2})}}return s})();const k1=(s,p)=>({"tw-alert":s,"tw-alert-warning":p}),N1=s=>({limit:s,type:"client applications",href:"https://www.identityserver.com/products/adminui/order-now?index=2&name=Enterprise"}),O1=(s,p)=>({"fad fa-pencil":s,"fas fa-eye":p});function Zb(s,p){if(1&s){const i=e.RV6();e.j41(0,"app-client-wizard-host",12,0),e.bIt("finish",function(){e.eBV(i);const l=e.XpG();return e.Njj(l.onFinish())})("hide",function(){e.eBV(i);const l=e.XpG();return e.Njj(l.hideWizard())})("wizardCancel",function(){e.eBV(i);const l=e.XpG();return e.Njj(l.hideWizard())}),e.k0s()}if(2&s){const i=e.XpG();e.Y8G("displayUpgradeIcon",i.licenseInfo.isStarterLicense())}}function qb(s,p){if(1&s){const i=e.RV6();e.j41(0,"app-import-wizard",13,1),e.bIt("finish",function(){e.eBV(i);const l=e.XpG();return e.Njj(l.reload())}),e.k0s()}}function eC(s,p){if(1&s&&(e.j41(0,"div",14),e.nrm(1,"span",15),e.nI1(2,"translate"),e.k0s()),2&s){const i=e.XpG();e.Y8G("ngClass",e.l_i(5,k1,i.limitReached,i.overLimit)),e.R7$(),e.Y8G("innerHTML",e.i5U(2,2,"Common.QuotaLimit",e.eq3(8,N1,i.licenseInfo.maxClients)),e.npT)}}function tC(s,p){if(1&s){const i=e.RV6();e.j41(0,"div",22)(1,"label",23),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"select",24),e.mxI("ngModelChange",function(l){e.eBV(i);const D=e.XpG(2);return e.DH7(D.pageSize,l)||(D.pageSize=l),e.Njj(l)}),e.bIt("change",function(){e.eBV(i);const l=e.XpG(2);return e.Njj(l.setPageLength(+l.pageSize))}),e.j41(5,"option",25),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"option",26),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"option",27),e.EFF(12),e.nI1(13,"translate"),e.k0s()()()}if(2&s){const i=e.XpG(2);e.R7$(2),e.Lme("",i.pageSize," ",e.bMT(3,6,"Nav.PerPage"),""),e.R7$(2),e.R50("ngModel",i.pageSize),e.R7$(2),e.SpI("25 ",e.bMT(7,8,"Nav.PerPage"),""),e.R7$(3),e.SpI("50 ",e.bMT(10,10,"Nav.PerPage"),""),e.R7$(3),e.SpI("100 ",e.bMT(13,12,"Nav.PerPage"),"")}}function F1(s,p){1&s&&(e.j41(0,"span",31)(1,"span",9),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.nrm(4,"span",32),e.k0s()),2&s&&(e.R7$(2),e.JRh(e.bMT(3,1,"StarterMode.RequiresUpgrade")))}function qT(s,p){if(1&s){const i=e.RV6();e.j41(0,"button",28),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(i);const l=e.XpG(2),D=e.sdS(5);return e.Njj(l.showWizard(D,!0))}),e.j41(2,"span")(3,"span",9),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.nrm(6,"span",29),e.k0s(),e.DNE(7,F1,5,3,"span",30),e.k0s()}if(2&s){const i=e.XpG(2);e.Y8G("tooltip",e.bMT(1,3,"Clients.Import.Import")),e.R7$(4),e.JRh(e.bMT(5,5,"Clients.Import.ImportClients")),e.R7$(3),e.Y8G("ngIf",i.licenseInfo.isStarterLicense())}}function P1(s,p){if(1&s&&(e.j41(0,"span",37),e.EFF(1),e.k0s()),2&s){const i=e.XpG(3);e.R7$(),e.JRh(i.clientSelectedCount)}}function nC(s,p){1&s&&(e.j41(0,"span",38)(1,"span",9),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.nrm(4,"span",32),e.k0s()),2&s&&(e.R7$(2),e.JRh(e.bMT(3,1,"StarterMode.RequiresUpgrade")))}function iC(s,p){if(1&s){const i=e.RV6();e.j41(0,"button",33),e.bIt("click",function(){e.eBV(i);const l=e.XpG(2);return e.Njj(l.exportClients())}),e.j41(1,"span")(2,"span",9),e.EFF(3),e.k0s(),e.nrm(4,"span",34),e.DNE(5,P1,2,1,"span",35),e.k0s(),e.DNE(6,nC,5,3,"span",36),e.k0s()}if(2&s){const i=e.XpG(2);e.Y8G("tooltip",i.currentExportTooltip),e.R7$(3),e.JRh(i.currentExportText),e.R7$(2),e.Y8G("ngIf",i.shouldDisplayCount),e.R7$(),e.Y8G("ngIf",i.licenseInfo.isStarterLicense())}}function eI(s,p){if(1&s){const i=e.RV6();e.j41(0,"app-action-bar"),e.qex(1,16),e.DNE(2,tC,14,14,"div",17),e.bVm(),e.qex(3,18),e.j41(4,"button",19),e.bIt("click",function(){e.eBV(i);const l=e.XpG(),D=e.sdS(3);return e.Njj(l.showWizard(D,l.limitReached))}),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.DNE(7,qT,8,7,"button",20)(8,iC,7,4,"button",21),e.bVm(),e.k0s()}if(2&s){const i=e.XpG();e.R7$(2),e.Y8G("ngIf",(null==i.pagedResult?null:i.pagedResult.results.length)>0),e.R7$(2),e.Y8G("disabled",i.limitReached),e.R7$(),e.SpI(" ",e.bMT(6,5,"Clients.Add")," "),e.R7$(2),e.Y8G("ngIf",i.canImportExport),e.R7$(),e.Y8G("ngIf",i.canImportExport)}}function rC(s,p){1&s&&e.nrm(0,"app-simple-loader")}function B1(s,p){1&s&&(e.j41(0,"div",42)(1,"div"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&s&&(e.R7$(2),e.JRh(e.bMT(3,1,"Clients.None")))}function yp(s,p){if(1&s){const i=e.RV6();e.j41(0,"th",49)(1,"label",50)(2,"input",51),e.bIt("change",function(){e.eBV(i);const l=e.XpG(3);return e.Njj(l.toggleAllClients())}),e.mxI("ngModelChange",function(l){e.eBV(i);const D=e.XpG(3);return e.DH7(D.allClientsSelected,l)||(D.allClientsSelected=l),e.Njj(l)}),e.k0s()()()}if(2&s){const i=e.XpG(3);e.R7$(2),e.R50("ngModel",i.allClientsSelected)}}function sC(s,p){if(1&s){const i=e.RV6();e.j41(0,"label",65)(1,"input",66),e.bIt("change",function(){e.eBV(i);const l=e.XpG(5);return e.Njj(l.areAllClientsSelected())}),e.mxI("ngModelChange",function(l){e.eBV(i);const D=e.XpG(2).$implicit;return e.DH7(D.selected,l)||(D.selected=l),e.Njj(l)}),e.k0s()()}if(2&s){const i=e.XpG(2).$implicit;e.FS9("for",i.id),e.R7$(),e.FS9("id",i.id),e.R50("ngModel",i.selected)}}function nc(s,p){if(1&s&&(e.j41(0,"td",63),e.DNE(1,sC,2,3,"label",64),e.k0s()),2&s){const i=e.XpG().$implicit,a=e.XpG(3);e.R7$(),e.Y8G("ngIf",!a.isClientReadOnly(i))}}function L1(s,p){1&s&&(e.j41(0,"span",67)(1,"span",9),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&s&&(e.R7$(2),e.JRh(e.bMT(3,1,"Common.Disabled")))}function oC(s,p){1&s&&(e.j41(0,"span",68),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Disabled")," "))}function U1(s,p){1&s&&(e.j41(0,"span",69),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Reserved")," "))}function _p(s,p){1&s&&(e.j41(0,"span",9),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Common.Edit")))}function tI(s,p){1&s&&(e.j41(0,"span",9),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Common.View")))}function aC(s,p){if(1&s){const i=e.RV6();e.j41(0,"tr",52),e.DNE(1,nc,2,1,"td",53),e.j41(2,"td",54),e.bIt("click",function(){const l=e.eBV(i).$implicit,D=e.XpG(3);return e.Njj(D.viewOrEditClient(l))}),e.DNE(3,L1,4,3,"span",55),e.j41(4,"b"),e.EFF(5),e.k0s()(),e.j41(6,"td",56),e.bIt("click",function(){const l=e.eBV(i).$implicit,D=e.XpG(3);return e.Njj(D.viewOrEditClient(l))}),e.EFF(7),e.k0s(),e.j41(8,"td",57),e.bIt("click",function(){const l=e.eBV(i).$implicit,D=e.XpG(3);return e.Njj(D.viewOrEditClient(l))}),e.DNE(9,oC,3,3,"span",58)(10,U1,3,3,"span",59),e.k0s(),e.j41(11,"td",57),e.bIt("click",function(){const l=e.eBV(i).$implicit,D=e.XpG(3);return e.Njj(D.viewOrEditClient(l))}),e.j41(12,"button",60),e.bIt("click",function(){const l=e.eBV(i).$implicit,D=e.XpG(3);return e.Njj(D.viewOrEditClient(l))}),e.nrm(13,"span",61),e.DNE(14,_p,3,3,"span",62)(15,tI,3,3,"span",62),e.k0s()()()}if(2&s){const i=p.$implicit,a=e.XpG(3);e.AVh("inactive",!i.enabled||a.isClientReadOnly(i)),e.FS9("id",i.clientName),e.R7$(),e.Y8G("ngIf",!a.isIdentityServerManagerReadOnly),e.R7$(2),e.Y8G("ngIf",!i.enabled),e.R7$(),e.AVh("tw-text-blue-500",!(null!=i&&i.nonEditable)),e.R7$(),e.SpI(" ",null==i?null:i.clientName," "),e.R7$(2),e.SpI(" ",null==i?null:i.description," "),e.R7$(2),e.Y8G("ngIf",!i.enabled),e.R7$(),e.Y8G("ngIf",null==i?null:i.nonEditable),e.R7$(3),e.Y8G("ngClass",e.l_i(14,O1,!a.isIdentityServerManagerReadOnly&&!a.isClientReadOnly(i),a.isIdentityServerManagerReadOnly||a.isClientReadOnly(i))),e.R7$(),e.Y8G("ngIf",!a.isIdentityServerManagerReadOnly&&!a.isClientReadOnly(i)),e.R7$(),e.Y8G("ngIf",a.isIdentityServerManagerReadOnly||a.isClientReadOnly(i))}}function lC(s,p){if(1&s&&(e.j41(0,"table",43)(1,"thead")(2,"tr"),e.DNE(3,yp,3,1,"th",44),e.j41(4,"th",45),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"th",46),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"th",47)(11,"span",9),e.EFF(12),e.nI1(13,"translate"),e.k0s()(),e.j41(14,"th",47)(15,"span",9),e.EFF(16),e.nI1(17,"translate"),e.k0s()()()(),e.j41(18,"tbody"),e.DNE(19,aC,16,17,"tr",48),e.k0s()()),2&s){const i=e.XpG(2);e.R7$(3),e.Y8G("ngIf",!i.isIdentityServerManagerReadOnly),e.R7$(2),e.JRh(e.bMT(6,6,"Common.Name")),e.R7$(3),e.JRh(e.bMT(9,8,"Common.Description")),e.R7$(4),e.JRh(e.bMT(13,10,"Common.Reserved")),e.R7$(4),e.JRh(e.bMT(17,12,"Common.Actions")),e.R7$(3),e.Y8G("ngForOf",i.allClients)}}function cC(s,p){if(1&s){const i=e.RV6();e.j41(0,"app-pager",70),e.bIt("onGoToPage",function(l){e.eBV(i);const D=e.XpG(2);return e.Njj(D.goToPage(l))}),e.k0s()}if(2&s){const i=e.XpG(2);e.Y8G("totalResults",null==i.pagedResult?null:i.pagedResult.totalCount)("currentPage",i.page)("lastPage",null==i.pagedResult?null:i.pagedResult.pageCount)}}function uC(s,p){if(1&s&&(e.qex(0),e.DNE(1,B1,4,3,"div",39)(2,lC,20,14,"table",40)(3,cC,1,3,"app-pager",41),e.bVm()),2&s){const i=e.XpG();e.R7$(),e.Y8G("ngIf",(null==i.allClients?null:i.allClients.length)<1),e.R7$(),e.Y8G("ngIf",(null==i.allClients?null:i.allClients.length)>0),e.R7$(),e.Y8G("ngIf",(null==i.pagedResult?null:i.pagedResult.results.length)>0&&!i.isLoading)}}let nI=(()=>{class s extends ro.if{get limitReached(){return this.licenseInfo?.clientLimitReached??!1}get overLimit(){return this.licenseInfo?.overClientLimit??!1}constructor(i,a,l,D,Q,De,Qe,pt,jt,ln,wn,En){super(pt,Q,!0),this.router=i,this.errorService=a,this.titleService=l,this.clientsService=D,this.translate=Q,this.localize=De,this.exportService=Qe,this.securityService=jt,this.modalService=ln,this.localizeRouter=wn,this.licenseService=En,this.pageSize=25,this.page=1,this.term="",this.isLoading=!0,this.allClients=[],this.allClientsSelected=!1,this.clientSelectedCount=0,this.currentExportText=this.translate.instant("Clients.Export.ExportAllClients"),this.currentExportTooltip=this.translate.instant("Clients.Export.ExportAll"),this.shouldDisplayCount=!1,this.canImportExport=!1,this.pageStream=new Rr.B,this.pageSizeStream=new Rr.B,this.mapSearchTerm=this.mapSearchTerm.bind(this)}reload(){this.pageStream.next(this.page),this.pageSizeStream.next(this.pageSize)}mapSearchTerm(i){return this.term=i,{searchTerm:i,page:1,pageSize:this.pageSize}}ngOnInit(){const i=this.translate.instant("Nav.Clients")+" - "+Lt.$9.SITE_TITLE;this.isLoading=!0,this.titleService.setTitle(i),this.canImportExport=this.securityService.allView;const a=this.pageStream.pipe((0,yi.T)(Q=>(this.page=Q,{searchTerm:this.term,page:Q,pageSize:this.pageSize}))),l=this.pageSizeStream.pipe((0,yi.T)(Q=>(this.pageSize=Q,{searchTerm:this.term,page:this.page,pageSize:Q})));a.pipe((0,ia.X)(l),(0,ia.X)(this.searchSource),(0,ia.X)(this.enterKeySource),(0,Ha.Z)({searchTerm:this.term,page:this.page,pageSize:this.pageSize}),(0,ta.Z)(Q=>(this.isLoading=!0,this.clientsService.getClients(Q.searchTerm,Q.page,Q.pageSize).pipe((0,na.c)(200))))).subscribe({next:Q=>{this.pagedResult=Q,this.allClients=this.pagedResult.results.map(De=>new zT(De)).sort((De,Qe)=>Number(Qe.nonEditable)-Number(De.nonEditable)),this.isLoading=!1},error:Q=>{this.errorService.handleError(Q),this.isLoading=!1}}),this.licenseService.getLicenseInfo().pipe((0,Vn.$)()).subscribe(Q=>{this.licenseInfo=Q})}checkStarterMode(){if(this.licenseInfo.isStarterLicense()){const i=this.localizeRouter.translateRoute("/starter-mode/teaser");this.router.navigate([i],{queryParams:{feature:Nl.p.ImportExportClients}})}return this.licenseInfo.isStarterLicense()}showWizard(i,a=!1){a&&this.checkStarterMode()||this.modalService.show(i,{id:ra.R.Id,ariaLabelledBy:ra.R.TileId,ariaDescribedby:ra.R.DescriptionId,backdrop:"static"})}hideWizard(){this.modalService.hide(ra.R.Id)}goToPage(i){this.pageStream.next(i)}setPageLength(i){this.page=1,this.pageSizeStream.next(i)}viewOrEditClient(i){this.isIdentityServerManagerReadOnly||this.isClientReadOnly(i)?this.viewClient(i):this.editClient(i)}viewClient(i){const a=this.localize.translateRoute("/clients/view");this.router.navigate([a,i.id])}editClient(i){const a=this.localize.translateRoute("/clients");this.router.navigate([a,i.id])}exportClients(){if(!this.checkStarterMode())if(0===this.clientSelectedCount)this.exportService.exportAllClients();else{const i=this.allClients.filter(a=>a.selected).map(a=>a.clientId);this.exportService.exportSelectedClients(i)}}areAllClientsSelected(){this.allClientsSelected=this.allClients.every(i=>i.selected||i.nonEditable),this.clientSelectedCount=this.allClients.filter(i=>i.selected&&!i.nonEditable).length,0===this.clientSelectedCount?(this.currentExportText=this.translate.instant("Clients.Export.ExportAllClients"),this.currentExportTooltip=this.translate.instant("Clients.Export.ExportAll"),this.shouldDisplayCount=!1):(this.shouldDisplayCount=this.allClients.filter(i=>!i.nonEditable).length!==this.clientSelectedCount,this.currentExportText=`${this.translate.instant("Clients.Export.ExportSelectedClients")} (${this.clientSelectedCount})`,this.currentExportTooltip=this.translate.instant("Clients.Export.ExportSelected"))}toggleAllClients(){let i=!0;this.allClients.forEach(a=>{!a.nonEditable&&!a.selected&&(i=!1)}),this.allClients.forEach(a=>{a.nonEditable||(a.selected=!i)}),this.shouldDisplayCount=!1,this.clientSelectedCount=i?0:this.allClients.filter(a=>!a.nonEditable).length,this.currentExportText=this.translate.instant("Clients.Export.ExportAllClients"),this.currentExportTooltip=this.translate.instant("Clients.Export.ExportAll"),this.allClientsSelected=!i}get isIdentityServerManagerReadOnly(){return(0,Ii.ci)(this.securityService.userPermissions)}handleInternalServerError(){this.toastr.error(this.translate.instant("Clients.Filter.StoredProcedureErrorMessage"),this.translate.instant("Notifications.Error"))}isClientReadOnly(i){const a=b1.I.RestrictedClientTypes.includes(i.clientType);return i.nonEditable||this.overLimit||a&&this.licenseInfo.isStarterLicense()}onFinish(){this.hideWizard(),this.reload()}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(bt.Ix),e.rXU(ne.I),e.rXU(n.hE),e.rXU(ql._),e.rXU(bn.c$),e.rXU(Hn.QG),e.rXU(fd),e.rXU(Jn.tw),e.rXU(Vr.i),e.rXU(Mt.I8),e.rXU(Hn.QG),e.rXU(ec.X))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["ng-component"]],features:[e.Vt3],decls:20,vars:14,consts:[["addClientModal",""],["importWizardModal",""],[3,"title"],["id","clientsList",1,"tw-container","tw-mx-auto"],["id","quotaLimitAlert","role","alert","class","tw-mb-4",3,"ngClass",4,"ngIf"],["id","searchContainer",1,"tw-mb-2"],[1,"tw-flex","tw-bg-white","tw-border","tw-border-grey-300","tw-opacity-75","tw-cursor-text","tw-rounded","focus-within:tw-opacity-100","focus-within:tw-border-blue-400","tw-transition-all","tw-ease-in-out"],["for","searchUserName",1,"tw-flex","tw-items-center","tw-text-grey-500","tw-m-0","tw-ml-3"],["aria-hidden","true",1,"far","fa-search","tw-text-sm"],[1,"sr-only"],["id","searchTerm","type","search",1,"tw-bg-transparent","tw-border-0","tw-text-base","tw-leading-tight","tw-px-2","tw-py-2","tw-w-full","focus:tw-outline-none","tw-transition-all","tw-ease-in-out",3,"ngModelChange","keyup","ngModel","placeholder"],[4,"ngIf"],[3,"finish","hide","wizardCancel","displayUpgradeIcon"],["id","importWizardModal",3,"finish"],["id","quotaLimitAlert","role","alert",1,"tw-mb-4",3,"ngClass"],[3,"innerHTML"],["left",""],["class","tw-hidden tw-form-select tw-w-auto sm:tw-block",4,"ngIf"],["right",""],["id","addClientBtn",1,"tw-btn-success",3,"click","disabled"],["id","importButton","class","tw-btn-white tw-ml-3","container","body",3,"tooltip","click",4,"ngIf"],["id","exportButton","class","tw-btn-white tw-ml-3 tw-relative","container","body",3,"tooltip","click",4,"ngIf"],[1,"tw-hidden","tw-form-select","tw-w-auto","sm:tw-block"],["for","pageSizeToggle",1,"sr-only"],["id","pageSizeToggle",1,"tw-form-control","tw-form-control-small",3,"ngModelChange","change","ngModel"],["value","25"],["value","50"],["value","100"],["id","importButton","container","body",1,"tw-btn-white","tw-ml-3",3,"click","tooltip"],["aria-hidden","true",1,"fad","fa-arrow-from-bottom"],["id","importUpgradeSymbol",4,"ngIf"],["id","importUpgradeSymbol"],["aria-hidden","true",1,"tw-text-secondary-500","far","fa-arrow-alt-circle-up","tw-absolute"],["id","exportButton","container","body",1,"tw-btn-white","tw-ml-3","tw-relative",3,"click","tooltip"],["aria-hidden","true",1,"fad","fa-arrow-to-bottom"],["class","ml-2",4,"ngIf"],["id","exportUpgradeSymbol",4,"ngIf"],[1,"ml-2"],["id","exportUpgradeSymbol"],["id","clientsNone","class","tw-alert","role","alert",4,"ngIf"],["id","clientsTable","class","datatable selectable hover",4,"ngIf"],[3,"totalResults","currentPage","lastPage","onGoToPage",4,"ngIf"],["id","clientsNone","role","alert",1,"tw-alert"],["id","clientsTable",1,"datatable","selectable","hover"],["class","toggle tw-w-1",4,"ngIf"],[1,"lg:tw-w-1/3"],[1,"tw-hidden","lg:tw-table-cell"],[1,"tw-w-1"],["class","group clientRow",3,"id","inactive",4,"ngFor","ngForOf"],[1,"toggle","tw-w-1"],["for","toggleAllClients",1,"toggle-label"],["id","toggleAllClients","type","checkbox",1,"tw-block","tw-cursor-pointer",3,"change","ngModelChange","ngModel"],[1,"group","clientRow",3,"id"],["class","toggle",4,"ngIf"],[1,"tw-max-w-0","tw-truncate",3,"click"],["class","fas fa-exclamation-triangle tw-text-orange-500 tw-mr-1","container","body",4,"ngIf"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell",3,"click"],[3,"click"],["class","tw-pill-warning",4,"ngIf"],["class","tw-pill",4,"ngIf"],["type","button",1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click"],["id","viewOrEditIcon","aria-hidden","true",3,"ngClass"],["class","sr-only",4,"ngIf"],[1,"toggle"],["class","toggle-label",3,"for",4,"ngIf"],[1,"toggle-label",3,"for"],["type","checkbox",1,"tw-block","tw-cursor-pointer","checkbox",3,"change","ngModelChange","id","ngModel"],["container","body",1,"fas","fa-exclamation-triangle","tw-text-orange-500","tw-mr-1"],[1,"tw-pill-warning"],[1,"tw-pill"],[3,"onGoToPage","totalResults","currentPage","lastPage"]],template:function(a,l){if(1&a){const D=e.RV6();e.nrm(0,"app-title-bar",2),e.nI1(1,"translate"),e.DNE(2,Zb,2,1,"ng-template",null,0,e.C5r)(4,qb,2,0,"ng-template",null,1,e.C5r),e.j41(6,"div",3),e.DNE(7,eC,3,10,"div",4),e.j41(8,"div",5)(9,"div",6)(10,"label",7),e.nrm(11,"span",8),e.j41(12,"span",9),e.EFF(13),e.nI1(14,"translate"),e.k0s()(),e.j41(15,"input",10),e.nI1(16,"translate"),e.mxI("ngModelChange",function(De){return e.eBV(D),e.DH7(l.searchTerm,De)||(l.searchTerm=De),e.Njj(De)}),e.bIt("keyup",function(De){return e.eBV(D),e.Njj(l.search(De))}),e.k0s()()(),e.DNE(17,eI,9,7,"app-action-bar",11)(18,rC,1,0,"app-simple-loader",11)(19,uC,4,3,"ng-container",11),e.k0s()}2&a&&(e.Y8G("title",e.bMT(1,8,"Nav.Clients")),e.R7$(7),e.Y8G("ngIf",l.limitReached),e.R7$(6),e.JRh(e.bMT(14,10,"Common.Search")),e.R7$(2),e.FS9("placeholder",e.bMT(16,12,"Clients.SearchPlaceholder")),e.R50("ngModel",l.searchTerm),e.R7$(2),e.Y8G("ngIf",!l.isLoading&&!l.isIdentityServerManagerReadOnly),e.R7$(),e.Y8G("ngIf",l.isLoading),e.R7$(),e.Y8G("ngIf",!l.isLoading))},dependencies:[gn.YU,gn.Sq,gn.bT,g.xH,g.y7,g.me,g.Zm,g.wz,g.BC,g.vS,xe.dg,qt.z,Wa.B,al.n,As.d,Gb,x1,bn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();const iI=(s,p)=>({title:s,link:p}),Ch=s=>[s];function dC(s,p){1&s&&(e.j41(0,"option",23),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Nav.Saml")))}function bp(s,p){1&s&&(e.j41(0,"option",24),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.RelyingParty.Heading")))}function Cp(s,p){1&s&&(e.j41(0,"option",25),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.URLS.Title")))}function qc(s,p){1&s&&(e.j41(0,"option",26),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Common.Secrets")))}function wp(s,p){1&s&&(e.j41(0,"option",27),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Common.CIBA")))}function Sp(s,p){1&s&&(e.j41(0,"span",28),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" - ",e.bMT(2,1,"StarterMode.RequiresUpgrade")," "))}function _d(s,p){1&s&&e.nrm(0,"app-custom-tab",17),2&s&&e.Y8G("tabTitle","Nav.Saml")("tabValue","saml")}function wh(s,p){1&s&&e.nrm(0,"app-custom-tab",17),2&s&&e.Y8G("tabTitle","Clients.RelyingParty.Heading")("tabValue","wsfed")}function eu(s,p){1&s&&e.nrm(0,"app-custom-tab",17),2&s&&e.Y8G("tabTitle","Clients.URLS.Title")("tabValue","applicationurls")}function Ep(s,p){1&s&&e.nrm(0,"app-custom-tab",17),2&s&&e.Y8G("tabTitle","Common.Secrets")("tabValue","secrets")}function Tp(s,p){1&s&&e.nrm(0,"app-custom-tab",17),2&s&&e.Y8G("tabTitle","Common.CIBA")("tabValue","ciba")}function Sh(s,p){1&s&&(e.j41(0,"span",29),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Disabled")," "))}let rI=(()=>{class s{constructor(i,a,l,D,Q,De,Qe,pt){this.clientCachingService=i,this.clientViewService=a,this.titleService=l,this.translate=D,this.errorService=Q,this.licenseService=De,this.router=Qe,this.route=pt}ngOnInit(){this.clientSubscription=this.clientCachingService.unsavedCache$.subscribe(i=>{this.client=i;const a=this.translate.instant("Clients.Title")+" "+this.client.clientName+" - "+Lt.$9.SITE_TITLE;this.titleService.setTitle(a)}),this.licenseService.getLicenseInfo().pipe().subscribe({next:i=>this.licenseInfo=i})}ngOnDestroy(){this.clientSubscription.unsubscribe()}mobRoute(i){this.router.navigate([i],{relativeTo:this.route})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(hh.e),e.rXU(mc.q),e.rXU(n.hE),e.rXU(bn.c$),e.rXU(ne.I),e.rXU(ec.X),e.rXU(bt.Ix),e.rXU(bt.nX))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-view-client"]],features:[e.Jv_([mc.q])],decls:45,vars:54,consts:[[3,"title","crumbs","hasButton","hasTabs","isReadOnly","isReserved"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","details"],["value","saml",4,"ngIf"],["value","wsfed",4,"ngIf"],["value","applicationurls",4,"ngIf"],["value","secrets",4,"ngIf"],["value","resources"],["value","ciba",4,"ngIf"],["value","advanced"],["value","clientaudits"],["id","upgradeSymbol",4,"ngIf"],[1,"tw-hidden","md:tw-flex"],[3,"tabTitle","tabValue"],[3,"tabTitle","tabValue",4,"ngIf"],[3,"tabTitle","tabValue","restrictedStarter"],["badge",""],["class","tw-pill-warning tw-mr-2",4,"ngIf"],["id","viewClient",1,"tw-container","tw-mx-auto"],["value","saml"],["value","wsfed"],["value","applicationurls"],["value","secrets"],["value","ciba"],["id","upgradeSymbol"],[1,"tw-pill-warning","tw-mr-2"]],template:function(a,l){if(1&a&&(e.j41(0,"app-title-bar",0),e.nI1(1,"translate"),e.nI1(2,"localize"),e.qex(3,1),e.j41(4,"div",2)(5,"label",3),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"div",4)(9,"select",5),e.bIt("change",function(Q){return l.mobRoute(Q.target.value)}),e.j41(10,"option",6),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"option",6),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.DNE(16,dC,3,3,"option",7)(17,bp,3,3,"option",8)(18,Cp,3,3,"option",9)(19,qc,3,3,"option",10),e.j41(20,"option",11),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.DNE(23,wp,3,3,"option",12),e.j41(24,"option",13),e.EFF(25),e.nI1(26,"translate"),e.k0s(),e.j41(27,"option",14),e.EFF(28),e.nI1(29,"translate"),e.DNE(30,Sp,3,3,"span",15),e.k0s()()()(),e.j41(31,"app-custom-tabs",16),e.nrm(32,"app-custom-tab",17),e.DNE(33,_d,1,2,"app-custom-tab",18)(34,wh,1,2,"app-custom-tab",18)(35,eu,1,2,"app-custom-tab",18)(36,Ep,1,2,"app-custom-tab",18),e.nrm(37,"app-custom-tab",17),e.DNE(38,Tp,1,2,"app-custom-tab",18),e.nrm(39,"app-custom-tab",17)(40,"app-custom-tab",19),e.k0s(),e.bVm(),e.qex(41,20),e.DNE(42,Sh,3,3,"span",21),e.bVm(),e.k0s(),e.j41(43,"div",22),e.nrm(44,"router-outlet"),e.k0s()),2&a){let D,Q;e.Y8G("title",l.client.clientName)("crumbs",e.eq3(52,Ch,e.l_i(49,iI,e.bMT(1,33,"Nav.Clients"),e.bMT(2,35,"/clients"))))("hasButton",!0)("hasTabs",!0)("isReadOnly",!0)("isReserved",l.client.nonEditable),e.R7$(6),e.JRh(e.bMT(7,37,"Nav.SubMenu")),e.R7$(5),e.SpI("",e.bMT(12,39,"Nav.SubMenu"),"..."),e.R7$(3),e.JRh(e.bMT(15,41,"Nav.Details")),e.R7$(2),e.Y8G("ngIf",l.clientViewService.saml.display),e.R7$(),e.Y8G("ngIf",l.clientViewService.wsFed.display),e.R7$(),e.Y8G("ngIf",l.clientViewService.applicationUrls.display),e.R7$(),e.Y8G("ngIf",l.clientViewService.secrets.display),e.R7$(2),e.JRh(e.bMT(22,43,"Nav.Resources")),e.R7$(2),e.Y8G("ngIf",l.clientViewService.ciba.display),e.R7$(2),e.JRh(e.bMT(26,45,"Common.Advanced")),e.R7$(3),e.SpI(" ",e.bMT(29,47,"Nav.Audits")," "),e.R7$(2),e.Y8G("ngIf",null!==(D=null==l.licenseInfo?null:l.licenseInfo.isStarterLicense())&&void 0!==D&&D),e.R7$(2),e.Y8G("tabTitle","Nav.Details")("tabValue","details"),e.R7$(),e.Y8G("ngIf",l.clientViewService.saml.display),e.R7$(),e.Y8G("ngIf",l.clientViewService.wsFed.display),e.R7$(),e.Y8G("ngIf",l.clientViewService.applicationUrls.display),e.R7$(),e.Y8G("ngIf",l.clientViewService.secrets.display),e.R7$(),e.Y8G("tabTitle","Nav.Resources")("tabValue","resources"),e.R7$(),e.Y8G("ngIf",l.clientViewService.ciba.display),e.R7$(),e.Y8G("tabTitle","Common.Advanced")("tabValue","advanced"),e.R7$(),e.Y8G("tabTitle","Nav.Audits")("tabValue","clientaudits")("restrictedStarter",null!==(Q=null==l.licenseInfo?null:l.licenseInfo.isStarterLicense())&&void 0!==Q&&Q),e.R7$(2),e.Y8G("ngIf",!l.client.enabled)}},dependencies:[bt.n3,gn.bT,qt.z,sn.G,Cn.v,bn.D9,Hn.tl],encapsulation:2})}}return s})();var vc=u(9962);const j1=[{path:"clients",component:nI,canActivate:[fn.h,Qn._],data:{permissions:[Jt.a[Jt.a.IdentityServerManager],Jt.a[Jt.a.IdentityServerManagerReadOnly],Jt.a[Jt.a.AllReadOnly],Jt.a[Jt.a.All]]}},{path:"clients/:Id",component:y1,loadChildren:()=>Promise.all([u.e(419),u.e(76),u.e(600)]).then(u.bind(u,6600)).then(s=>s.EditClientModule),canDeactivate:[Nn.M],resolve:{client:lp},canActivate:[fn.h,Qn._,vc.m],data:{permissions:[Jt.a[Jt.a.IdentityServerManager],Jt.a[Jt.a.All]]}},{path:"clients/view/:Id",component:rI,loadChildren:()=>Promise.all([u.e(419),u.e(908)]).then(u.bind(u,4908)).then(s=>s.ViewClientModule),resolve:{client:lp},canActivate:[fn.h,Qn._],data:{permissions:[Jt.a[Jt.a.IdentityServerManager],Jt.a[Jt.a.IdentityServerManagerReadOnly],Jt.a[Jt.a.AllReadOnly],Jt.a[Jt.a.All]]}}];let $1=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({imports:[bt.iI.forChild(j1),Hn.XE.forChild(j1),bt.iI]})}}return s})();var hC=u(1466),fC=u(5667);let Ip=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({providers:[lp,Ya.R,hC.z,Yc.c,mh.z,gh.d,cp.S,u1._,fd,dh.V],imports:[$1,gn.MD,bt.iI,g.YN,fo.Y,g.X1,xe.Ss,Mt.Q_,bn.h,Hn.XE,pd.F,ph.a,Zl.m,Hc.i,Wc.c,lh.t,fc.c,ch.E,fh.h,fl.w,pl.N,pc.Y,fC.g]})}}return s})();var Dp=u(4811),G1=u(8939);class pC extends Hn.xq{constructor(p,i,a,l,D="assets/locales.json"){super(p,i,a),this.http=l,this.path=D}load(p){return new Promise(i=>{this.http.get(`${this.path}`).subscribe(a=>{this.locales=a.locales,this.prefix=a.prefix||"",this.escapePrefix=a.escapePrefix||"",this.init(p).then(i)})})}}var tu=u(7773),Ap=u(6807),bd=u(967),nu=u(1985),Ho=u(6977),ko=u(3726),xp=u(1584),iu=u(8750),wd=u(2326),kp=u(4360);function Np(...s){return 1===(s=(0,wd.K)(s)).length?(0,iu.Tg)(s[0]):new nu.c(function H1(s){return p=>{let i=[];for(let a=0;i&&!p.closed&&a<s.length;a++)i.push((0,iu.Tg)(s[a]).subscribe((0,kp._)(p,l=>{if(i){for(let D=0;D<i.length;D++)D!==a&&i[D].unsubscribe();i=null}p.next(l)})))}}(s))}u(7786);var Op=u(9326);function rc(...s){const p=(0,Op.ms)(s),i=(0,wd.K)(s);return i.length?new nu.c(a=>{let l=i.map(()=>[]),D=i.map(()=>!1);a.add(()=>{l=D=null});for(let Q=0;!a.closed&&Q<i.length;Q++)(0,iu.Tg)(i[Q]).subscribe((0,kp._)(a,De=>{if(l[Q].push(De),l.every(Qe=>Qe.length)){const Qe=l.map(pt=>pt.shift());a.next(p?p(...Qe):Qe),l.some((pt,jt)=>!pt.length&&D[jt])&&a.complete()}},()=>{D[Q]=!0,!l[Q].length&&a.complete()}));return()=>{l=D=null}}):Ml.w}var gC=u(8793),vl=u(5964),ga=u(6697),Th=u(8141),Ih=u(3993),Dh=u(5558),yc={left:"right",right:"left",bottom:"top",top:"bottom"};function Ah(s){return s.replace(/left|right|bottom|top/g,function(p){return yc[p]})}function yl(s){return s.split("-")[0]}var yC={start:"end",end:"start"};function K1(s){return s.replace(/start|end/g,function(p){return yC[p]})}var va="top",so="bottom",No="right",ya="left",Fp="auto",Sd=[va,so,No,ya],ru="start",Ed="end",Pp="viewport",Td="popper",z1=Sd.reduce(function(s,p){return s.concat([p+"-"+ru,p+"-"+Ed])},[]),Y1=[].concat(Sd,[Fp]).reduce(function(s,p){return s.concat([p,p+"-"+ru,p+"-"+Ed])},[]),Bp=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Wo(s){if(null==s)return window;if("[object Window]"!==s.toString()){var p=s.ownerDocument;return p&&p.defaultView||window}return s}function su(s){return s instanceof Wo(s).Element||s instanceof Element}function Za(s){return s instanceof Wo(s).HTMLElement||s instanceof HTMLElement}function Mh(s){return!(typeof ShadowRoot>"u")&&(s instanceof Wo(s).ShadowRoot||s instanceof ShadowRoot)}function sc(s){return((su(s)?s.ownerDocument:s.document)||window.document).documentElement}var _c=Math.max,xh=Math.min,ou=Math.round;function Lp(){var s=navigator.userAgentData;return null!=s&&s.brands&&Array.isArray(s.brands)?s.brands.map(function(p){return p.brand+"/"+p.version}).join(" "):navigator.userAgent}function Up(){return!/^((?!chrome|android).)*safari/i.test(Lp())}function bc(s,p,i){void 0===p&&(p=!1),void 0===i&&(i=!1);var a=s.getBoundingClientRect(),l=1,D=1;p&&Za(s)&&(l=s.offsetWidth>0&&ou(a.width)/s.offsetWidth||1,D=s.offsetHeight>0&&ou(a.height)/s.offsetHeight||1);var De=(su(s)?Wo(s):window).visualViewport,Qe=!Up()&&i,pt=(a.left+(Qe&&De?De.offsetLeft:0))/l,jt=(a.top+(Qe&&De?De.offsetTop:0))/D,ln=a.width/l,wn=a.height/D;return{width:ln,height:wn,top:jt,right:pt+ln,bottom:jt+wn,left:pt,x:pt,y:jt}}function Vp(s){var p=Wo(s);return{scrollLeft:p.pageXOffset,scrollTop:p.pageYOffset}}function jp(s){return bc(sc(s)).left+Vp(s).scrollLeft}function ka(s){return Wo(s).getComputedStyle(s)}function Na(s){return s?(s.nodeName||"").toLowerCase():null}function kh(s){return"html"===Na(s)?s:s.assignedSlot||s.parentNode||(Mh(s)?s.host:null)||sc(s)}function Bl(s){var p=ka(s);return/auto|scroll|overlay|hidden/.test(p.overflow+p.overflowY+p.overflowX)}function $p(s){return["html","body","#document"].indexOf(Na(s))>=0?s.ownerDocument.body:Za(s)&&Bl(s)?s:$p(kh(s))}function Dd(s,p){var i;void 0===p&&(p=[]);var a=$p(s),l=a===(null==(i=s.ownerDocument)?void 0:i.body),D=Wo(a),Q=l?[D].concat(D.visualViewport||[],Bl(a)?a:[]):a,De=p.concat(Q);return l?De:De.concat(Dd(kh(Q)))}function Gp(s){return["table","td","th"].indexOf(Na(s))>=0}function Hp(s){return Za(s)&&"fixed"!==ka(s).position?s.offsetParent:null}function Ad(s){for(var p=Wo(s),i=Hp(s);i&&Gp(i)&&"static"===ka(i).position;)i=Hp(i);return i&&("html"===Na(i)||"body"===Na(i)&&"static"===ka(i).position)?p:i||function CC(s){var p=/firefox/i.test(Lp());if(/Trident/i.test(Lp())&&Za(s)&&"fixed"===ka(s).position)return null;var l=kh(s);for(Mh(l)&&(l=l.host);Za(l)&&["html","body"].indexOf(Na(l))<0;){var D=ka(l);if("none"!==D.transform||"none"!==D.perspective||"paint"===D.contain||-1!==["transform","perspective"].indexOf(D.willChange)||p&&"filter"===D.willChange||p&&D.filter&&"none"!==D.filter)return l;l=l.parentNode}return null}(s)||p}function e0(s,p){var i=p.getRootNode&&p.getRootNode();if(s.contains(p))return!0;if(i&&Mh(i)){var a=p;do{if(a&&s.isSameNode(a))return!0;a=a.parentNode||a.host}while(a)}return!1}function Wp(s){return Object.assign({},s,{left:s.x,top:s.y,right:s.x+s.width,bottom:s.y+s.height})}function wC(s,p,i){return p===Pp?Wp(function Z1(s,p){var i=Wo(s),a=sc(s),l=i.visualViewport,D=a.clientWidth,Q=a.clientHeight,De=0,Qe=0;if(l){D=l.width,Q=l.height;var pt=Up();(pt||!pt&&"fixed"===p)&&(De=l.offsetLeft,Qe=l.offsetTop)}return{width:D,height:Q,x:De+jp(s),y:Qe}}(s,i)):su(p)?function t0(s,p){var i=bc(s,!1,"fixed"===p);return i.top=i.top+s.clientTop,i.left=i.left+s.clientLeft,i.bottom=i.top+s.clientHeight,i.right=i.left+s.clientWidth,i.width=s.clientWidth,i.height=s.clientHeight,i.x=i.left,i.y=i.top,i}(p,i):Wp(function q1(s){var p,i=sc(s),a=Vp(s),l=null==(p=s.ownerDocument)?void 0:p.body,D=_c(i.scrollWidth,i.clientWidth,l?l.scrollWidth:0,l?l.clientWidth:0),Q=_c(i.scrollHeight,i.clientHeight,l?l.scrollHeight:0,l?l.clientHeight:0),De=-a.scrollLeft+jp(s),Qe=-a.scrollTop;return"rtl"===ka(l||i).direction&&(De+=_c(i.clientWidth,l?l.clientWidth:0)-D),{width:D,height:Q,x:De,y:Qe}}(sc(s)))}function au(s){return s.split("-")[1]}function Kp(s){return["top","bottom"].indexOf(s)>=0?"x":"y"}function n0(s){var Qe,p=s.reference,i=s.element,a=s.placement,l=a?yl(a):null,D=a?au(a):null,Q=p.x+p.width/2-i.width/2,De=p.y+p.height/2-i.height/2;switch(l){case va:Qe={x:Q,y:p.y-i.height};break;case so:Qe={x:Q,y:p.y+p.height};break;case No:Qe={x:p.x+p.width,y:De};break;case ya:Qe={x:p.x-i.width,y:De};break;default:Qe={x:p.x,y:p.y}}var pt=l?Kp(l):null;if(null!=pt){var jt="y"===pt?"height":"width";switch(D){case ru:Qe[pt]=Qe[pt]-(p[jt]/2-i[jt]/2);break;case Ed:Qe[pt]=Qe[pt]+(p[jt]/2-i[jt]/2)}}return Qe}function r0(s){return Object.assign({},{top:0,right:0,bottom:0,left:0},s)}function s0(s,p){return p.reduce(function(i,a){return i[a]=s,i},{})}function Yp(s,p){void 0===p&&(p={});var a=p.placement,l=void 0===a?s.placement:a,D=p.strategy,Q=void 0===D?s.strategy:D,De=p.boundary,Qe=void 0===De?"clippingParents":De,pt=p.rootBoundary,jt=void 0===pt?Pp:pt,ln=p.elementContext,wn=void 0===ln?Td:ln,En=p.altBoundary,Fn=void 0!==En&&En,On=p.padding,oi=void 0===On?0:On,bi=r0("number"!=typeof oi?oi:s0(oi,Sd)),rr=s.rects.popper,Ci=s.elements[Fn?wn===Td?"reference":Td:wn],Ki=function Rd(s,p,i,a){var l="clippingParents"===p?function cI(s){var p=Dd(kh(s)),a=["absolute","fixed"].indexOf(ka(s).position)>=0&&Za(s)?Ad(s):s;return su(a)?p.filter(function(l){return su(l)&&e0(l,a)&&"body"!==Na(l)}):[]}(s):[].concat(p),D=[].concat(l,[i]),De=D.reduce(function(Qe,pt){var jt=wC(s,pt,a);return Qe.top=_c(jt.top,Qe.top),Qe.right=xh(jt.right,Qe.right),Qe.bottom=xh(jt.bottom,Qe.bottom),Qe.left=_c(jt.left,Qe.left),Qe},wC(s,D[0],a));return De.width=De.right-De.left,De.height=De.bottom-De.top,De.x=De.left,De.y=De.top,De}(su(Ci)?Ci:Ci.contextElement||sc(s.elements.popper),Qe,jt,Q),Xi=bc(s.elements.reference),Zi=n0({reference:Xi,element:rr,strategy:"absolute",placement:l}),qi=Wp(Object.assign({},rr,Zi)),ts=wn===Td?qi:Xi,ns={top:Ki.top-ts.top+bi.top,bottom:ts.bottom-Ki.bottom+bi.bottom,left:Ki.left-ts.left+bi.left,right:ts.right-Ki.right+bi.right},Zs=s.modifiersData.offset;if(wn===Td&&Zs){var ao=Zs[l];Object.keys(ns).forEach(function(mo){var Hl=[No,so].indexOf(mo)>=0?1:-1,rl=[va,so].indexOf(mo)>=0?"y":"x";ns[mo]+=ao[rl]*Hl})}return ns}const Xp={name:"flip",enabled:!0,phase:"main",fn:function TC(s){var p=s.state,i=s.options,a=s.name;if(!p.modifiersData[a]._skip){for(var l=i.mainAxis,D=void 0===l||l,Q=i.altAxis,De=void 0===Q||Q,Qe=i.fallbackPlacements,pt=i.padding,jt=i.boundary,ln=i.rootBoundary,wn=i.altBoundary,En=i.flipVariations,Fn=void 0===En||En,On=i.allowedAutoPlacements,oi=p.options.placement,bi=yl(oi),rr=Qe||(bi!==oi&&Fn?function EC(s){if(yl(s)===Fp)return[];var p=Ah(s);return[K1(s),p,K1(p)]}(oi):[Ah(oi)]),Ci=[oi].concat(rr).reduce(function(zi,Po){return zi.concat(yl(Po)===Fp?function SC(s,p){void 0===p&&(p={});var l=p.boundary,D=p.rootBoundary,Q=p.padding,De=p.flipVariations,Qe=p.allowedAutoPlacements,pt=void 0===Qe?Y1:Qe,jt=au(p.placement),ln=jt?De?z1:z1.filter(function(Fn){return au(Fn)===jt}):Sd,wn=ln.filter(function(Fn){return pt.indexOf(Fn)>=0});0===wn.length&&(wn=ln);var En=wn.reduce(function(Fn,On){return Fn[On]=Yp(s,{placement:On,boundary:l,rootBoundary:D,padding:Q})[yl(On)],Fn},{});return Object.keys(En).sort(function(Fn,On){return En[Fn]-En[On]})}(p,{placement:Po,boundary:jt,rootBoundary:ln,padding:pt,flipVariations:Fn,allowedAutoPlacements:On}):Po)},[]),Ki=p.rects.reference,Xi=p.rects.popper,Zi=new Map,qi=!0,ts=Ci[0],ns=0;ns<Ci.length;ns++){var Zs=Ci[ns],ao=yl(Zs),mo=au(Zs)===ru,Hl=[va,so].indexOf(ao)>=0,rl=Hl?"width":"height",qn=Yp(p,{placement:Zs,boundary:jt,rootBoundary:ln,altBoundary:wn,padding:pt}),hi=Hl?mo?No:ya:mo?so:va;Ki[rl]>Xi[rl]&&(hi=Ah(hi));var Ri=Ah(hi),sr=[];if(D&&sr.push(qn[ao]<=0),De&&sr.push(qn[hi]<=0,qn[Ri]<=0),sr.every(function(zi){return zi})){ts=Zs,qi=!1;break}Zi.set(Zs,sr)}if(qi)for(var Ko=function(Po){var Fc=Ci.find(function($s){var ua=Zi.get($s);if(ua)return ua.slice(0,Po).every(function(zo){return zo})});if(Fc)return ts=Fc,"break"},lo=Fn?3:1;lo>0&&"break"!==Ko(lo);lo--);p.placement!==ts&&(p.modifiersData[a]._skip=!0,p.placement=ts,p.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Nh(s,p,i){return _c(s,xh(p,i))}function o0(s){var p=bc(s),i=s.offsetWidth,a=s.offsetHeight;return Math.abs(p.width-i)<=1&&(i=p.width),Math.abs(p.height-a)<=1&&(a=p.height),{x:s.offsetLeft,y:s.offsetTop,width:i,height:a}}const hI={name:"preventOverflow",enabled:!0,phase:"main",fn:function dI(s){var p=s.state,i=s.options,a=s.name,l=i.mainAxis,D=void 0===l||l,Q=i.altAxis,De=void 0!==Q&&Q,wn=i.tether,En=void 0===wn||wn,Fn=i.tetherOffset,On=void 0===Fn?0:Fn,oi=Yp(p,{boundary:i.boundary,rootBoundary:i.rootBoundary,padding:i.padding,altBoundary:i.altBoundary}),bi=yl(p.placement),Ai=au(p.placement),rr=!Ai,Ci=Kp(bi),Ki=function uI(s){return"x"===s?"y":"x"}(Ci),Xi=p.modifiersData.popperOffsets,Zi=p.rects.reference,qi=p.rects.popper,ts="function"==typeof On?On(Object.assign({},p.rects,{placement:p.placement})):On,ns="number"==typeof ts?{mainAxis:ts,altAxis:ts}:Object.assign({mainAxis:0,altAxis:0},ts),Zs=p.modifiersData.offset?p.modifiersData.offset[p.placement]:null,ao={x:0,y:0};if(Xi){if(D){var mo,Hl="y"===Ci?va:ya,rl="y"===Ci?so:No,qn="y"===Ci?"height":"width",hi=Xi[Ci],Ri=hi+oi[Hl],sr=hi-oi[rl],is=En?-qi[qn]/2:0,Ko=Ai===ru?Zi[qn]:qi[qn],lo=Ai===ru?-qi[qn]:-Zi[qn],ba=p.elements.arrow,zi=En&&ba?o0(ba):{width:0,height:0},Po=p.modifiersData["arrow#persistent"]?p.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Fc=Po[Hl],$s=Po[rl],ua=Nh(0,Zi[qn],zi[qn]),zo=rr?Zi[qn]/2-is-ua-Fc-ns.mainAxis:Ko-ua-Fc-ns.mainAxis,Il=rr?-Zi[qn]/2+is+ua+$s+ns.mainAxis:lo+ua+$s+ns.mainAxis,Pc=p.elements.arrow&&Ad(p.elements.arrow),Wg=Pc?"y"===Ci?Pc.clientTop||0:Pc.clientLeft||0:0,H_=null!=(mo=Zs?.[Ci])?mo:0,IT=hi+Il-H_,K_=Nh(En?xh(Ri,hi+zo-H_-Wg):Ri,hi,En?_c(sr,IT):sr);Xi[Ci]=K_,ao[Ci]=K_-hi}if(De){var z_,Bc=Xi[Ki],Lc="y"===Ki?"height":"width",$f=Bc+oi["x"===Ci?va:ya],DT=Bc-oi["x"===Ci?so:No],Gf=-1!==[va,ya].indexOf(bi),X_=null!=(z_=Zs?.[Ki])?z_:0,zg=Gf?$f:Bc-Zi[Lc]-qi[Lc]-X_+ns.altAxis,Uc=Gf?Bc+Zi[Lc]+qi[Lc]-X_-ns.altAxis:DT,J_=En&&Gf?function Jp(s,p,i){var a=Nh(s,p,i);return a>i?i:a}(zg,Bc,Uc):Nh(En?zg:$f,Bc,En?Uc:DT);Xi[Ki]=J_,ao[Ki]=J_-Bc}p.modifiersData[a]=ao}},requiresIfExists:["offset"]},Oh={name:"arrow",enabled:!0,phase:"main",fn:function pI(s){var p,i=s.state,a=s.name,l=s.options,D=i.elements.arrow,Q=i.modifiersData.popperOffsets,De=yl(i.placement),Qe=Kp(De),jt=[ya,No].indexOf(De)>=0?"height":"width";if(D&&Q){var ln=function(p,i){return r0("number"!=typeof(p="function"==typeof p?p(Object.assign({},i.rects,{placement:i.placement})):p)?p:s0(p,Sd))}(l.padding,i),wn=o0(D),En="y"===Qe?va:ya,Fn="y"===Qe?so:No,On=i.rects.reference[jt]+i.rects.reference[Qe]-Q[Qe]-i.rects.popper[jt],oi=Q[Qe]-i.rects.reference[Qe],bi=Ad(D),Ai=bi?"y"===Qe?bi.clientHeight||0:bi.clientWidth||0:0,Xi=Ai/2-wn[jt]/2+(On/2-oi/2),Zi=Nh(ln[En],Xi,Ai-wn[jt]-ln[Fn]);i.modifiersData[a]=((p={})[Qe]=Zi,p.centerOffset=Zi-Xi,p)}},effect:function IC(s){var p=s.state,a=s.options.element,l=void 0===a?"[data-popper-arrow]":a;null!=l&&("string"==typeof l&&!(l=p.elements.popper.querySelector(l))||e0(p.elements.popper,l)&&(p.elements.arrow=l))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function l0(s,p,i){void 0===i&&(i=!1);var a=Za(p),l=Za(p)&&function a0(s){var p=s.getBoundingClientRect(),i=ou(p.width)/s.offsetWidth||1,a=ou(p.height)/s.offsetHeight||1;return 1!==i||1!==a}(p),D=sc(p),Q=bc(s,l,i),De={scrollLeft:0,scrollTop:0},Qe={x:0,y:0};return(a||!a&&!i)&&(("body"!==Na(p)||Bl(D))&&(De=function Qp(s){return s!==Wo(s)&&Za(s)?function Fh(s){return{scrollLeft:s.scrollLeft,scrollTop:s.scrollTop}}(s):Vp(s)}(p)),Za(p)?((Qe=bc(p,!0)).x+=p.clientLeft,Qe.y+=p.clientTop):D&&(Qe.x=jp(D))),{x:Q.left+De.scrollLeft-Qe.x,y:Q.top+De.scrollTop-Qe.y,width:Q.width,height:Q.height}}function c0(s){var p=new Map,i=new Set,a=[];function l(D){i.add(D.name),[].concat(D.requires||[],D.requiresIfExists||[]).forEach(function(De){if(!i.has(De)){var Qe=p.get(De);Qe&&l(Qe)}}),a.push(D)}return s.forEach(function(D){p.set(D.name,D)}),s.forEach(function(D){i.has(D.name)||l(D)}),a}function d0(s){var p;return function(){return p||(p=new Promise(function(i){Promise.resolve().then(function(){p=void 0,i(s())})})),p}}var oa={placement:"bottom",modifiers:[],strategy:"absolute"};function Ll(){for(var s=arguments.length,p=new Array(s),i=0;i<s;i++)p[i]=arguments[i];return!p.some(function(a){return!(a&&"function"==typeof a.getBoundingClientRect)})}function h0(s){void 0===s&&(s={});var i=s.defaultModifiers,a=void 0===i?[]:i,l=s.defaultOptions,D=void 0===l?oa:l;return function(De,Qe,pt){void 0===pt&&(pt=D);var jt={placement:"bottom",orderedModifiers:[],options:Object.assign({},oa,D),modifiersData:{},elements:{reference:De,popper:Qe},attributes:{},styles:{}},ln=[],wn=!1,En={state:jt,setOptions:function(bi){var Ai="function"==typeof bi?bi(jt.options):bi;On(),jt.options=Object.assign({},D,jt.options,Ai),jt.scrollParents={reference:su(De)?Dd(De):De.contextElement?Dd(De.contextElement):[],popper:Dd(Qe)};var rr=function u0(s){var p=c0(s);return Bp.reduce(function(i,a){return i.concat(p.filter(function(l){return l.phase===a}))},[])}(function lu(s){var p=s.reduce(function(i,a){var l=i[a.name];return i[a.name]=l?Object.assign({},l,a,{options:Object.assign({},l.options,a.options),data:Object.assign({},l.data,a.data)}):a,i},{});return Object.keys(p).map(function(i){return p[i]})}([].concat(a,jt.options.modifiers)));return jt.orderedModifiers=rr.filter(function(Ci){return Ci.enabled}),function Fn(){jt.orderedModifiers.forEach(function(oi){var Ai=oi.options,Ci=oi.effect;if("function"==typeof Ci){var Ki=Ci({state:jt,name:oi.name,instance:En,options:void 0===Ai?{}:Ai});ln.push(Ki||function(){})}})}(),En.update()},forceUpdate:function(){if(!wn){var bi=jt.elements,Ai=bi.reference,rr=bi.popper;if(Ll(Ai,rr)){jt.rects={reference:l0(Ai,Ad(rr),"fixed"===jt.options.strategy),popper:o0(rr)},jt.reset=!1,jt.placement=jt.options.placement,jt.orderedModifiers.forEach(function(ns){return jt.modifiersData[ns.name]=Object.assign({},ns.data)});for(var Ci=0;Ci<jt.orderedModifiers.length;Ci++)if(!0!==jt.reset){var Ki=jt.orderedModifiers[Ci],Xi=Ki.fn,Zi=Ki.options;"function"==typeof Xi&&(jt=Xi({state:jt,options:void 0===Zi?{}:Zi,name:Ki.name,instance:En})||jt)}else jt.reset=!1,Ci=-1}}},update:d0(function(){return new Promise(function(oi){En.forceUpdate(),oi(jt)})}),destroy:function(){On(),wn=!0}};if(!Ll(De,Qe))return En;function On(){ln.forEach(function(oi){return oi()}),ln=[]}return En.setOptions(pt).then(function(oi){!wn&&pt.onFirstUpdate&&pt.onFirstUpdate(oi)}),En}}var Ph={passive:!0};const gI={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function mI(s){var p=s.state,i=s.instance,a=s.options,l=a.scroll,D=void 0===l||l,Q=a.resize,De=void 0===Q||Q,Qe=Wo(p.elements.popper),pt=[].concat(p.scrollParents.reference,p.scrollParents.popper);return D&&pt.forEach(function(jt){jt.addEventListener("scroll",i.update,Ph)}),De&&Qe.addEventListener("resize",i.update,Ph),function(){D&&pt.forEach(function(jt){jt.removeEventListener("scroll",i.update,Ph)}),De&&Qe.removeEventListener("resize",i.update,Ph)}},data:{}},p0={name:"popperOffsets",enabled:!0,phase:"read",fn:function f0(s){var p=s.state;p.modifiersData[s.name]=n0({reference:p.rects.reference,element:p.rects.popper,strategy:"absolute",placement:p.placement})},data:{}};var vI={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Lh(s){var p,i=s.popper,a=s.popperRect,l=s.placement,D=s.variation,Q=s.offsets,De=s.position,Qe=s.gpuAcceleration,pt=s.adaptive,jt=s.roundOffsets,ln=s.isFixed,wn=Q.x,En=void 0===wn?0:wn,Fn=Q.y,On=void 0===Fn?0:Fn,oi="function"==typeof jt?jt({x:En,y:On}):{x:En,y:On};En=oi.x,On=oi.y;var bi=Q.hasOwnProperty("x"),Ai=Q.hasOwnProperty("y"),rr=ya,Ci=va,Ki=window;if(pt){var Xi=Ad(i),Zi="clientHeight",qi="clientWidth";Xi===Wo(i)&&"static"!==ka(Xi=sc(i)).position&&"absolute"===De&&(Zi="scrollHeight",qi="scrollWidth"),(l===va||(l===ya||l===No)&&D===Ed)&&(Ci=so,On-=(ln&&Xi===Ki&&Ki.visualViewport?Ki.visualViewport.height:Xi[Zi])-a.height,On*=Qe?1:-1),l!==ya&&(l!==va&&l!==so||D!==Ed)||(rr=No,En-=(ln&&Xi===Ki&&Ki.visualViewport?Ki.visualViewport.width:Xi[qi])-a.width,En*=Qe?1:-1)}var mo,Zs=Object.assign({position:De},pt&&vI),ao=!0===jt?function Bh(s,p){var a=s.y,l=p.devicePixelRatio||1;return{x:ou(s.x*l)/l||0,y:ou(a*l)/l||0}}({x:En,y:On},Wo(i)):{x:En,y:On};return En=ao.x,On=ao.y,Object.assign({},Zs,Qe?((mo={})[Ci]=Ai?"0":"",mo[rr]=bi?"0":"",mo.transform=(Ki.devicePixelRatio||1)<=1?"translate("+En+"px, "+On+"px)":"translate3d("+En+"px, "+On+"px, 0)",mo):((p={})[Ci]=Ai?On+"px":"",p[rr]=bi?En+"px":"",p.transform="",p))}const DC={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function Zp(s){var p=s.state,i=s.options,a=i.gpuAcceleration,l=void 0===a||a,D=i.adaptive,Q=void 0===D||D,De=i.roundOffsets,Qe=void 0===De||De,pt={placement:yl(p.placement),variation:au(p.placement),popper:p.elements.popper,popperRect:p.rects.popper,gpuAcceleration:l,isFixed:"fixed"===p.options.strategy};null!=p.modifiersData.popperOffsets&&(p.styles.popper=Object.assign({},p.styles.popper,Lh(Object.assign({},pt,{offsets:p.modifiersData.popperOffsets,position:p.options.strategy,adaptive:Q,roundOffsets:Qe})))),null!=p.modifiersData.arrow&&(p.styles.arrow=Object.assign({},p.styles.arrow,Lh(Object.assign({},pt,{offsets:p.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:Qe})))),p.attributes.popper=Object.assign({},p.attributes.popper,{"data-popper-placement":p.placement})},data:{}};var em=[gI,p0,DC,{name:"applyStyles",enabled:!0,phase:"write",fn:function cu(s){var p=s.state;Object.keys(p.elements).forEach(function(i){var a=p.styles[i]||{},l=p.attributes[i]||{},D=p.elements[i];!Za(D)||!Na(D)||(Object.assign(D.style,a),Object.keys(l).forEach(function(Q){var De=l[Q];!1===De?D.removeAttribute(Q):D.setAttribute(Q,!0===De?"":De)}))})},effect:function qp(s){var p=s.state,i={popper:{position:p.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(p.elements.popper.style,i.popper),p.styles=i,p.elements.arrow&&Object.assign(p.elements.arrow.style,i.arrow),function(){Object.keys(p.elements).forEach(function(a){var l=p.elements[a],D=p.attributes[a]||{},De=Object.keys(p.styles.hasOwnProperty(a)?p.styles[a]:i[a]).reduce(function(Qe,pt){return Qe[pt]="",Qe},{});!Za(l)||!Na(l)||(Object.assign(l.style,De),Object.keys(D).forEach(function(Qe){l.removeAttribute(Qe)}))})}},requires:["computeStyles"]}],Uh=h0({defaultModifiers:em});const m0={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function MC(s){var p=s.state,a=s.name,l=s.options.offset,D=void 0===l?[0,0]:l,Q=Y1.reduce(function(jt,ln){return jt[ln]=function RC(s,p,i){var a=yl(s),l=[ya,va].indexOf(a)>=0?-1:1,D="function"==typeof i?i(Object.assign({},p,{placement:s})):i,Q=D[0],De=D[1];return Q=Q||0,De=(De||0)*l,[ya,No].indexOf(a)>=0?{x:De,y:Q}:{x:Q,y:De}}(ln,p.rects,D),jt},{}),De=Q[p.placement],pt=De.y;null!=p.modifiersData.popperOffsets&&(p.modifiersData.popperOffsets.x+=De.x,p.modifiersData.popperOffsets.y+=pt),p.modifiersData[a]=Q}},xC=["*"],UC=["dialog"],sw={animation:!0,transitionTimerDelayMs:5};let kd=(()=>{class s{constructor(){this.animation=sw.animation}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();function fu(s){return"string"==typeof s}function wc(s){return null!=s}function oc(s){return(s||document.body).getBoundingClientRect()}function mm(s=document){const p=s?.activeElement;return p?p.shadowRoot?mm(p.shadowRoot):p:null}const aw=()=>{},{transitionTimerDelayMs:lw}=sw,Pd=new Map,Oa=(s,p,i,a)=>{let l=a.context||{};const D=Pd.get(p);if(D)switch(a.runningTransition){case"continue":return Ml.w;case"stop":s.run(()=>D.transition$.complete()),l=Object.assign(D.context,l),Pd.delete(p)}const Q=i(p,a.animation,l)||aw;if(!a.animation||"none"===window.getComputedStyle(p).transitionProperty)return s.run(()=>Q()),(0,ma.of)(void 0).pipe(function Fd(s){return p=>new nu.c(i=>p.subscribe({next:Q=>s.run(()=>i.next(Q)),error:Q=>s.run(()=>i.error(Q)),complete:()=>s.run(()=>i.complete())}))}(s));const De=new Rr.B,Qe=new Rr.B,pt=De.pipe(function vC(...s){return p=>(0,gC.x)(p,(0,ma.of)(...s))}(!0));Pd.set(p,{transition$:De,complete:()=>{Qe.next(),Qe.complete()},context:l});const jt=function j0(s){const{transitionDelay:p,transitionDuration:i}=window.getComputedStyle(s);return 1e3*(parseFloat(p)+parseFloat(i))}(p);return s.runOutsideAngular(()=>{const ln=(0,ko.R)(p,"transitionend").pipe((0,Ho.Q)(pt),(0,vl.p)(({target:En})=>En===p));Np((0,xp.O)(jt+lw).pipe((0,Ho.Q)(pt)),ln,Qe).pipe((0,Ho.Q)(pt)).subscribe(()=>{Pd.delete(p),s.run(()=>{Q(),De.next(),De.complete()})})}),De.asObservable()};let mu=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({})}}return s})(),Bd=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({})}}return s})(),Qh=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({})}}return s})(),gu=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({})}}return s})();var Xr=function(s){return s[s.Tab=9]="Tab",s[s.Enter=13]="Enter",s[s.Escape=27]="Escape",s[s.Space=32]="Space",s[s.PageUp=33]="PageUp",s[s.PageDown=34]="PageDown",s[s.End=35]="End",s[s.Home=36]="Home",s[s.ArrowLeft=37]="ArrowLeft",s[s.ArrowUp=38]="ArrowUp",s[s.ArrowRight=39]="ArrowRight",s[s.ArrowDown=40]="ArrowDown",s}(Xr||{});const ef=(s,p)=>!!p&&p.some(i=>i.contains(s)),Cm=(s,p)=>!p||null!=function Od(s,p){return!p||typeof s.closest>"u"?null:s.closest(p)}(s,p),Iw=typeof navigator<"u"&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const ev=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function bu(s){const p=Array.from(s.querySelectorAll(ev)).filter(i=>-1!==i.tabIndex);return[p[0],p[p.length-1]]}let Aw=(()=>{class s{constructor(){this._element=(0,e.WQX)(gn.qQ).documentElement}isRTL(){return"rtl"===(this._element.getAttribute("dir")||"").toLowerCase()}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();const Rw=/\s+/,Mw=/  +/gi,Sm={top:["top"],bottom:["bottom"],start:["left","right"],left:["left"],end:["right","left"],right:["right"],"top-start":["top-start","top-end"],"top-left":["top-start"],"top-end":["top-end","top-start"],"top-right":["top-end"],"bottom-start":["bottom-start","bottom-end"],"bottom-left":["bottom-start"],"bottom-end":["bottom-end","bottom-start"],"bottom-right":["bottom-end"],"start-top":["left-start","right-start"],"left-top":["left-start"],"start-bottom":["left-end","right-end"],"left-bottom":["left-end"],"end-top":["right-start","left-start"],"right-top":["right-start"],"end-bottom":["right-end","left-end"],"right-bottom":["right-end"]},tv=/^left/,bl=/^right/,nv=/^start/,xw=/^end/;function Ps({placement:s,baseClass:p},i){let a=Array.isArray(s)?s:s.split(Rw),D=a.findIndex(pt=>"auto"===pt);D>=0&&["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"].forEach(function(pt){null==a.find(jt=>-1!==jt.search("^"+pt))&&a.splice(D++,1,pt)});const Q=a.map(pt=>function BI(s,p){const[i,a]=Sm[s];return p&&a||i}(pt,i.isRTL()));return{placement:Q.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!p,phase:"write",fn({state:pt}){const jt=new RegExp(p+"(-[a-z]+)*","gi"),ln=pt.elements.popper,wn=pt.placement;let En=ln.className;En=En.replace(jt,""),En+=` ${function LI(s,p){let[i,a]=p.split("-");const l=i.replace(tv,"start").replace(bl,"end");let D=[l];if(a){let Q=a;("left"===i||"right"===i)&&(Q=Q.replace(nv,"top").replace(xw,"bottom")),D.push(`${l}-${Q}`)}return s&&(D=D.map(Q=>`${s}-${Q}`)),D.join(" ")}(p,wn)}`,En=En.trim().replace(Mw," "),ln.className=En}},Xp,hI,Oh,{enabled:!0,name:"flip",options:{fallbackPlacements:Q}},{enabled:!0,name:"preventOverflow",phase:"main",fn:function(){}}]}}function iv(s){return s}new Date(1882,10,12),new Date(2174,10,25);let Nm=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({})}}return s})(),Sv=(()=>{class s{constructor(){this.autoClose=!0,this.placement=["bottom-start","bottom-end","top-start","top-end"],this.popperOptions=i=>i,this.container=null}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})(),Du=(()=>{class s{constructor(){this._disabled=!1,this.nativeElement=(0,e.WQX)(e.aKT).nativeElement,this.tabindex=0}set disabled(i){this._disabled=""===i||!0===i}get disabled(){return this._disabled}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275dir=e.FsC({type:s,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:3,hostBindings:function(a,l){2&a&&(e.Mr5("tabIndex",l.disabled?-1:l.tabindex),e.AVh("disabled",l.disabled))},inputs:{tabindex:"tabindex",disabled:"disabled"},standalone:!0})}}return s})(),Om=(()=>{class s{constructor(){this.item=(0,e.WQX)(Du)}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275dir=e.FsC({type:s,selectors:[["button","ngbDropdownItem",""]],hostVars:1,hostBindings:function(a,l){2&a&&e.Mr5("disabled",l.item.disabled)},standalone:!0})}}return s})(),Ev=(()=>{class s{constructor(){this.dropdown=(0,e.WQX)(Pm),this.nativeElement=(0,e.WQX)(e.aKT).nativeElement}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275dir=e.FsC({type:s,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(a,l,D){if(1&a&&e.wni(D,Du,4),2&a){let Q;e.mGM(Q=e.lsd())&&(l.menuItems=Q)}},hostVars:4,hostBindings:function(a,l){1&a&&e.bIt("keydown.ArrowUp",function(Q){return l.dropdown.onKeyDown(Q)})("keydown.ArrowDown",function(Q){return l.dropdown.onKeyDown(Q)})("keydown.Home",function(Q){return l.dropdown.onKeyDown(Q)})("keydown.End",function(Q){return l.dropdown.onKeyDown(Q)})("keydown.Enter",function(Q){return l.dropdown.onKeyDown(Q)})("keydown.Space",function(Q){return l.dropdown.onKeyDown(Q)})("keydown.Tab",function(Q){return l.dropdown.onKeyDown(Q)})("keydown.Shift.Tab",function(Q){return l.dropdown.onKeyDown(Q)}),2&a&&e.AVh("dropdown-menu",!0)("show",l.dropdown.isOpen())},standalone:!0})}}return s})(),Fm=(()=>{class s{constructor(){this.dropdown=(0,e.WQX)(Pm),this.nativeElement=(0,e.WQX)(e.aKT).nativeElement}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275dir=e.FsC({type:s,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:3,hostBindings:function(a,l){2&a&&(e.BMQ("aria-expanded",l.dropdown.isOpen()),e.AVh("show",l.dropdown.isOpen()))},standalone:!0})}}return s})(),Jw=(()=>{class s extends Fm{static{this.\u0275fac=(()=>{let i;return function(l){return(i||(i=e.xGo(s)))(l||s)}})()}static{this.\u0275dir=e.FsC({type:s,selectors:[["","ngbDropdownToggle",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:3,hostBindings:function(a,l){1&a&&e.bIt("click",function(){return l.dropdown.toggle()})("keydown.ArrowUp",function(Q){return l.dropdown.onKeyDown(Q)})("keydown.ArrowDown",function(Q){return l.dropdown.onKeyDown(Q)})("keydown.Home",function(Q){return l.dropdown.onKeyDown(Q)})("keydown.End",function(Q){return l.dropdown.onKeyDown(Q)})("keydown.Tab",function(Q){return l.dropdown.onKeyDown(Q)})("keydown.Shift.Tab",function(Q){return l.dropdown.onKeyDown(Q)}),2&a&&(e.BMQ("aria-expanded",l.dropdown.isOpen()),e.AVh("show",l.dropdown.isOpen()))},standalone:!0,features:[e.Jv_([{provide:Fm,useExisting:(0,e.Rfq)(()=>s)}]),e.Vt3]})}}return s})(),Pm=(()=>{class s{constructor(){this._changeDetector=(0,e.WQX)(e.gRc),this._config=(0,e.WQX)(Sv),this._document=(0,e.WQX)(gn.qQ),this._ngZone=(0,e.WQX)(e.SKi),this._nativeElement=(0,e.WQX)(e.aKT).nativeElement,this._destroyCloseHandlers$=new Rr.B,this._bodyContainer=null,this._positioning=function tf(){const s=(0,e.WQX)(Aw);let p=null;return{createPopper(i){if(!p){let l=(i.updatePopperOptions||iv)(Ps(i,s));p=Uh(i.hostElement,i.targetElement,l)}},update(){p&&p.update()},setOptions(i){if(p){let l=(i.updatePopperOptions||iv)(Ps(i,s));p.setOptions(l)}},destroy(){p&&(p.destroy(),p=null)}}}(),this.autoClose=this._config.autoClose,this._open=!1,this.placement=this._config.placement,this.popperOptions=this._config.popperOptions,this.container=this._config.container,this.openChange=new e.bkB}ngOnInit(){this.display||(this.display=this._nativeElement.closest(".navbar")?"static":"dynamic")}ngAfterContentInit(){this._ngZone.onStable.pipe((0,ga.s)(1)).subscribe(()=>{this._applyPlacementClasses(),this._open&&this._setCloseHandlers()})}ngOnChanges(i){if(i.container&&this._open&&this._applyContainer(this.container),i.placement&&!i.placement.firstChange&&(this._positioning.setOptions({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:"body"===this.container}),this._applyPlacementClasses()),i.dropdownClass){const{currentValue:a,previousValue:l}=i.dropdownClass;this._applyCustomDropdownClass(a,l)}i.autoClose&&this._open&&(this.autoClose=i.autoClose.currentValue,this._setCloseHandlers())}isOpen(){return this._open}open(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&(this._anchor.nativeElement.focus(),"dynamic"===this.display&&this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:"body"===this.container,updatePopperOptions:i=>this.popperOptions(function Im(s){return p=>(p.modifiers.push(m0,{name:"offset",options:{offset:()=>s}}),p)}([0,2])(i))}),this._applyPlacementClasses(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positionMenu())})))}_setCloseHandlers(){this._destroyCloseHandlers$.next(),function Dw(s,p,i,a,l,D,Q,De){i&&s.runOutsideAngular((s=>Iw?()=>setTimeout(()=>s(),100):s)(()=>{const pt=(0,ko.R)(p,"keydown").pipe((0,Ho.Q)(l),(0,vl.p)(wn=>wn.which===Xr.Escape),(0,Th.M)(wn=>wn.preventDefault())),jt=(0,ko.R)(p,"mousedown").pipe((0,yi.T)(wn=>{const En=wn.target;return 2!==wn.button&&!ef(En,Q)&&("inside"===i?ef(En,D)&&Cm(En,De):"outside"===i?!ef(En,D):Cm(En,De)||!ef(En,D))}),(0,Ho.Q)(l)),ln=(0,ko.R)(p,"mouseup").pipe((0,Ih.E)(jt),(0,vl.p)(([wn,En])=>En),(0,na.c)(0),(0,Ho.Q)(l));Np([pt.pipe((0,yi.T)(wn=>0)),ln.pipe((0,yi.T)(wn=>1))]).subscribe(wn=>s.run(()=>a(wn)))}))}(this._ngZone,this._document,this.autoClose,i=>{this.close(),0===i&&this._anchor.nativeElement.focus()},this._destroyCloseHandlers$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}close(){this._open&&(this._open=!1,this._resetContainer(),this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this._destroyCloseHandlers$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}toggle(){this.isOpen()?this.close():this.open()}ngOnDestroy(){this.close()}onKeyDown(i){const a=i.which,l=this._getMenuElements();let D=-1,Q=null;const De=this._isEventFromToggle(i);if(!De&&l.length&&l.forEach((Qe,pt)=>{Qe.contains(i.target)&&(Q=Qe),Qe===mm(this._document)&&(D=pt)}),a!==Xr.Space&&a!==Xr.Enter){if(a!==Xr.Tab){if(De||Q){if(this.open(),l.length){switch(a){case Xr.ArrowDown:D=Math.min(D+1,l.length-1);break;case Xr.ArrowUp:if(this._isDropup()&&-1===D){D=l.length-1;break}D=Math.max(D-1,0);break;case Xr.Home:D=0;break;case Xr.End:D=l.length-1}l[D].focus()}i.preventDefault()}}else if(i.target&&this.isOpen()&&this.autoClose){if(this._anchor.nativeElement===i.target)return void("body"!==this.container||i.shiftKey?i.shiftKey&&this.close():(this._menu.nativeElement.setAttribute("tabindex","0"),this._menu.nativeElement.focus(),this._menu.nativeElement.removeAttribute("tabindex")));if("body"===this.container){const Qe=this._menu.nativeElement.querySelectorAll(ev);i.shiftKey&&i.target===Qe[0]?(this._anchor.nativeElement.focus(),i.preventDefault()):!i.shiftKey&&i.target===Qe[Qe.length-1]&&(this._anchor.nativeElement.focus(),this.close())}else(0,ko.R)(i.target,"focusout").pipe((0,ga.s)(1)).subscribe(({relatedTarget:Qe})=>{this._nativeElement.contains(Qe)||this.close()})}}else Q&&(!0===this.autoClose||"inside"===this.autoClose)&&(0,ko.R)(Q,"click").pipe((0,ga.s)(1)).subscribe(()=>this.close())}_isDropup(){return this._nativeElement.classList.contains("dropup")}_isEventFromToggle(i){return this._anchor.nativeElement.contains(i.target)}_getMenuElements(){return this._menu?this._menu.menuItems.filter(({disabled:i})=>!i).map(({nativeElement:i})=>i):[]}_positionMenu(){const i=this._menu;this.isOpen()&&i&&("dynamic"===this.display?(this._positioning.update(),this._applyPlacementClasses()):this._applyPlacementClasses(this._getFirstPlacement(this.placement)))}_getFirstPlacement(i){return Array.isArray(i)?i[0]:i.split(" ")[0]}_resetContainer(){this._menu&&this._nativeElement.appendChild(this._menu.nativeElement),this._bodyContainer&&(this._document.body.removeChild(this._bodyContainer),this._bodyContainer=null)}_applyContainer(i=null){if(this._resetContainer(),"body"===i){const a=this._menu.nativeElement,l=this._bodyContainer=this._bodyContainer||this._document.createElement("div");l.style.position="absolute",a.style.position="static",l.style.zIndex="1055",l.appendChild(a),this._document.body.appendChild(l)}this._applyCustomDropdownClass(this.dropdownClass)}_applyCustomDropdownClass(i,a){const l="body"===this.container?this._bodyContainer:this._nativeElement;l&&(a&&l.classList.remove(a),i&&l.classList.add(i))}_applyPlacementClasses(i){if(this._menu){i||(i=this._getFirstPlacement(this.placement)),this._nativeElement.classList.remove("dropup","dropdown"),"static"===this.display?this._menu.nativeElement.setAttribute("data-bs-popper","static"):this._menu.nativeElement.removeAttribute("data-bs-popper");const a=-1!==i.search("^top")?"dropup":"dropdown";this._nativeElement.classList.add(a),this._bodyContainer&&(this._bodyContainer.classList.remove("dropup","dropdown"),this._bodyContainer.classList.add(a))}}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275dir=e.FsC({type:s,selectors:[["","ngbDropdown",""]],contentQueries:function(a,l,D){if(1&a&&(e.wni(D,Ev,5),e.wni(D,Fm,5)),2&a){let Q;e.mGM(Q=e.lsd())&&(l._menu=Q.first),e.mGM(Q=e.lsd())&&(l._anchor=Q.first)}},hostVars:2,hostBindings:function(a,l){2&a&&e.AVh("show",l.isOpen())},inputs:{autoClose:"autoClose",dropdownClass:"dropdownClass",_open:[e.Mj6.None,"open","_open"],placement:"placement",popperOptions:"popperOptions",container:"container",display:"display"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],standalone:!0,features:[e.OA$]})}}return s})(),Bm=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({})}}return s})(),qI=(()=>{class s{constructor(){this._ngbConfig=(0,e.WQX)(kd),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(i){this._animation=i}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();class Au{constructor(p,i,a){this.nodes=p,this.viewRef=i,this.componentRef=a}}let Tv=(()=>{class s{constructor(){this._document=(0,e.WQX)(gn.qQ)}hide(){const i=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),a=this._document.body,l=a.style,{overflow:D,paddingRight:Q}=l;if(i>0){const De=parseFloat(window.getComputedStyle(a).paddingRight);l.paddingRight=`${De+i}px`}return l.overflow="hidden",()=>{i>0&&(l.paddingRight=Q),l.overflow=D}}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})(),eD=(()=>{class s{constructor(){this._nativeElement=(0,e.WQX)(e.aKT).nativeElement,this._zone=(0,e.WQX)(e.SKi)}ngOnInit(){this._zone.onStable.asObservable().pipe((0,ga.s)(1)).subscribe(()=>{Oa(this._zone,this._nativeElement,(i,a)=>{a&&oc(i),i.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Oa(this._zone,this._nativeElement,({classList:i})=>i.remove("show"),{animation:this.animation,runningTransition:"stop"})}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(a,l){2&a&&(e.HbH("modal-backdrop"+(l.backdropClass?" "+l.backdropClass:"")),e.AVh("show",!l.animation)("fade",l.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[e.aNF],decls:0,vars:0,template:function(a,l){},encapsulation:2})}}return s})();class Zw{update(p){}close(p){}dismiss(p){}}const tD=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],nD=["animation","backdropClass"];class iD{_applyWindowOptions(p,i){tD.forEach(a=>{wc(i[a])&&(p[a]=i[a])})}_applyBackdropOptions(p,i){nD.forEach(a=>{wc(i[a])&&(p[a]=i[a])})}update(p){this._applyWindowOptions(this._windowCmptRef.instance,p),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,p)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,Ho.Q)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,Ho.Q)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(p,i,a,l){this._windowCmptRef=p,this._contentRef=i,this._backdropCmptRef=a,this._beforeDismiss=l,this._closed=new Rr.B,this._dismissed=new Rr.B,this._hidden=new Rr.B,p.instance.dismissEvent.subscribe(D=>{this.dismiss(D)}),this.result=new Promise((D,Q)=>{this._resolve=D,this._reject=Q}),this.result.then(null,()=>{})}close(p){this._windowCmptRef&&(this._closed.next(p),this._resolve(p),this._removeModalElements())}_dismiss(p){this._dismissed.next(p),this._reject(p),this._removeModalElements()}dismiss(p){if(this._windowCmptRef)if(this._beforeDismiss){const i=this._beforeDismiss();!function pu(s){return s&&s.then}(i)?!1!==i&&this._dismiss(p):i.then(a=>{!1!==a&&this._dismiss(p)},()=>{})}else this._dismiss(p)}_removeModalElements(){const p=this._windowCmptRef.instance.hide(),i=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,ma.of)(void 0);p.subscribe(()=>{const{nativeElement:a}=this._windowCmptRef.location;a.parentNode.removeChild(a),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),i.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:a}=this._backdropCmptRef.location;a.parentNode.removeChild(a),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),rc(p,i).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Iv=function(s){return s[s.BACKDROP_CLICK=0]="BACKDROP_CLICK",s[s.ESC=1]="ESC",s}(Iv||{});let rD=(()=>{class s{constructor(){this._document=(0,e.WQX)(gn.qQ),this._elRef=(0,e.WQX)(e.aKT),this._zone=(0,e.WQX)(e.SKi),this._closed$=new Rr.B,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new e.bkB,this.shown=new Rr.B,this.hidden=new Rr.B}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":fu(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(i){this.dismissEvent.emit(i)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,ga.s)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:i}=this._elRef,a={animation:this.animation,runningTransition:"stop"},Q=rc(Oa(this._zone,i,()=>i.classList.remove("show"),a),Oa(this._zone,this._dialogEl.nativeElement,()=>{},a));return Q.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),Q}_show(){const i={animation:this.animation,runningTransition:"continue"};rc(Oa(this._zone,this._elRef.nativeElement,(D,Q)=>{Q&&oc(D),D.classList.add("show")},i),Oa(this._zone,this._dialogEl.nativeElement,()=>{},i)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:i}=this._elRef;this._zone.runOutsideAngular(()=>{(0,ko.R)(i,"keydown").pipe((0,Ho.Q)(this._closed$),(0,vl.p)(l=>l.which===Xr.Escape)).subscribe(l=>{this.keyboard?requestAnimationFrame(()=>{l.defaultPrevented||this._zone.run(()=>this.dismiss(Iv.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let a=!1;(0,ko.R)(this._dialogEl.nativeElement,"mousedown").pipe((0,Ho.Q)(this._closed$),(0,Th.M)(()=>a=!1),(0,Dh.n)(()=>(0,ko.R)(i,"mouseup").pipe((0,Ho.Q)(this._closed$),(0,ga.s)(1))),(0,vl.p)(({target:l})=>i===l)).subscribe(()=>{a=!0}),(0,ko.R)(i,"click").pipe((0,Ho.Q)(this._closed$)).subscribe(({target:l})=>{i===l&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!a&&this._zone.run(()=>this.dismiss(Iv.BACKDROP_CLICK))),a=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:i}=this._elRef;if(!i.contains(document.activeElement)){const a=i.querySelector("[ngbAutofocus]"),l=bu(i)[0];(a||l||i).focus()}}_restoreFocus(){const i=this._document.body,a=this._elWithFocus;let l;l=a&&a.focus&&i.contains(a)?a:i,this._zone.runOutsideAngular(()=>{setTimeout(()=>l.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Oa(this._zone,this._elRef.nativeElement,({classList:i})=>(i.add("modal-static"),()=>i.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["ngb-modal-window"]],viewQuery:function(a,l){if(1&a&&e.GBs(UC,7),2&a){let D;e.mGM(D=e.lsd())&&(l._dialogEl=D.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(a,l){2&a&&(e.BMQ("aria-modal",!0)("aria-labelledby",l.ariaLabelledBy)("aria-describedby",l.ariaDescribedBy),e.HbH("modal d-block"+(l.windowClass?" "+l.windowClass:"")),e.AVh("fade",l.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[e.aNF],ngContentSelectors:xC,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(a,l){1&a&&(e.NAR(),e.j41(0,"div",1,0)(2,"div",2),e.SdG(3),e.k0s()()),2&a&&e.HbH("modal-dialog"+(l.size?" modal-"+l.size:"")+(l.centered?" modal-dialog-centered":"")+l.fullscreenClass+(l.scrollable?" modal-dialog-scrollable":"")+(l.modalDialogClass?" "+l.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}}return s})(),sD=(()=>{class s{constructor(){this._applicationRef=(0,e.WQX)(e.o8S),this._injector=(0,e.WQX)(e.zZn),this._environmentInjector=(0,e.WQX)(e.uvJ),this._document=(0,e.WQX)(gn.qQ),this._scrollBar=(0,e.WQX)(Tv),this._activeWindowCmptHasChanged=new Rr.B,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new e.bkB;const i=(0,e.WQX)(e.SKi);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const a=this._windowCmpts[this._windowCmpts.length-1];((s,p,i,a=!1)=>{s.runOutsideAngular(()=>{const l=(0,ko.R)(p,"focusin").pipe((0,Ho.Q)(i),(0,yi.T)(D=>D.target));(0,ko.R)(p,"keydown").pipe((0,Ho.Q)(i),(0,vl.p)(D=>D.which===Xr.Tab),(0,Ih.E)(l)).subscribe(([D,Q])=>{const[De,Qe]=bu(p);(Q===De||Q===p)&&D.shiftKey&&(Qe.focus(),D.preventDefault()),Q===Qe&&!D.shiftKey&&(De.focus(),D.preventDefault())}),a&&(0,ko.R)(p,"click").pipe((0,Ho.Q)(i),(0,Ih.E)(l),(0,yi.T)(D=>D[1])).subscribe(D=>D.focus())})})(i,a.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(a.location.nativeElement)}})}_restoreScrollBar(){const i=this._scrollBarRestoreFn;i&&(this._scrollBarRestoreFn=null,i())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(i,a,l){const D=l.container instanceof HTMLElement?l.container:wc(l.container)?this._document.querySelector(l.container):this._document.body;if(!D)throw new Error(`The specified modal container "${l.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const Q=new Zw,De=(i=l.injector||i).get(e.uvJ,null)||this._environmentInjector,Qe=this._getContentRef(i,De,a,Q,l);let pt=!1!==l.backdrop?this._attachBackdrop(D):void 0,jt=this._attachWindowComponent(D,Qe.nodes),ln=new iD(jt,Qe,pt,l.beforeDismiss);return this._registerModalRef(ln),this._registerWindowCmpt(jt),ln.hidden.pipe((0,ga.s)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),Q.close=wn=>{ln.close(wn)},Q.dismiss=wn=>{ln.dismiss(wn)},Q.update=wn=>{ln.update(wn)},ln.update(l),1===this._modalRefs.length&&this._document.body.classList.add("modal-open"),pt&&pt.instance&&pt.changeDetectorRef.detectChanges(),jt.changeDetectorRef.detectChanges(),ln}get activeInstances(){return this._activeInstances}dismissAll(i){this._modalRefs.forEach(a=>a.dismiss(i))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(i){let a=(0,e.a0P)(eD,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(a.hostView),i.appendChild(a.location.nativeElement),a}_attachWindowComponent(i,a){let l=(0,e.a0P)(rD,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:a});return this._applicationRef.attachView(l.hostView),i.appendChild(l.location.nativeElement),l}_getContentRef(i,a,l,D,Q){return l?l instanceof e.C4Q?this._createFromTemplateRef(l,D):fu(l)?this._createFromString(l):this._createFromComponent(i,a,l,D,Q):new Au([])}_createFromTemplateRef(i,a){const D=i.createEmbeddedView({$implicit:a,close(Q){a.close(Q)},dismiss(Q){a.dismiss(Q)}});return this._applicationRef.attachView(D),new Au([D.rootNodes],D)}_createFromString(i){const a=this._document.createTextNode(`${i}`);return new Au([[a]])}_createFromComponent(i,a,l,D,Q){const De=e.zZn.create({providers:[{provide:Zw,useValue:D}],parent:i}),Qe=(0,e.a0P)(l,{environmentInjector:a,elementInjector:De}),pt=Qe.location.nativeElement;return Q.scrollable&&pt.classList.add("component-host-scrollable"),this._applicationRef.attachView(Qe.hostView),new Au([[pt]],Qe.hostView,Qe)}_setAriaHidden(i){const a=i.parentElement;a&&i!==this._document.body&&(Array.from(a.children).forEach(l=>{l!==i&&"SCRIPT"!==l.nodeName&&(this._ariaHiddenValues.set(l,l.getAttribute("aria-hidden")),l.setAttribute("aria-hidden","true"))}),this._setAriaHidden(a))}_revertAriaHidden(){this._ariaHiddenValues.forEach((i,a)=>{i?a.setAttribute("aria-hidden",i):a.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(i){const a=()=>{const l=this._modalRefs.indexOf(i);l>-1&&(this._modalRefs.splice(l,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(i),this._activeInstances.emit(this._modalRefs),i.result.then(a,a)}_registerWindowCmpt(i){this._windowCmpts.push(i),this._activeWindowCmptHasChanged.next(),i.onDestroy(()=>{const a=this._windowCmpts.indexOf(i);a>-1&&(this._windowCmpts.splice(a,1),this._activeWindowCmptHasChanged.next())})}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})(),oD=(()=>{class s{constructor(){this._injector=(0,e.WQX)(e.zZn),this._modalStack=(0,e.WQX)(sD),this._config=(0,e.WQX)(qI)}open(i,a={}){const l={...this._config,animation:this._config.animation,...a};return this._modalStack.open(this._injector,i,l)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(i){this._modalStack.dismissAll(i)}hasOpenModals(){return this._modalStack.hasOpenModals()}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})(),Dv=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({providers:[oD]})}}return s})(),jm=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({})}}return s})(),Ov=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({})}}return s})(),Gm=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({})}}return s})(),Fv=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({})}}return s})(),mf=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({})}}return s})(),hS=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({})}}return s})(),Yd=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({})}}return s})(),Km=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({})}}return s})(),Vv=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({})}}return s})();new e.nKC("live announcer delay",{providedIn:"root",factory:()=>100});let Xm=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({})}}return s})(),$v=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({})}}return s})();const Qm=[mu,Bd,Qh,gu,Nm,Bm,Dv,jm,$v,Ov,Gm,Fv,mf,hS,Yd,Km,Vv,Xm];let Zm=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({imports:[Qm,mu,Bd,Qh,gu,Nm,Bm,Dv,jm,$v,Ov,Gm,Fv,mf,hS,Yd,Km,Vv,Xm]})}}return s})(),Gv=(()=>{class s{intercept(i,a){if(i.url.startsWith("https://"))return a.handle(i);const l=(0,Ii.$_)(),D=i.clone({url:`${l}${i.url}`});return a.handle(D)}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac})}}return s})();class _S{constructor(p,i="/assets/i18n/",a=".json"){this.http=p,this.prefix=i,this.suffix=a}getTranslation(p){return this.http.get(`${this.prefix}${p}${this.suffix}`)}}var bS=u(3431),CS=u(9625);let Ou=(()=>{class s{constructor(){let i=new CS.UAParser,a=i.getBrowser(),l=i.getOS();this.browserName=a.name,this.browserVersion=a.major,this.browserVersionToInt=parseInt(a.major),this.operatingSystem=l.name,this.operatingSystemVersion=l.version}validBrowser(){switch(this.browserName){case _a.InternetExplorer:return this.verifyInternetExplorer();case _a.Edge:return this.verifyEdge();case _a.Firefox:return this.verifyFirefox();case _a.Chrome:return this.verifyChrome();case _a.Safari:case _a.MobileSafari:return this.verifySafari();case _a.Opera:case _a.OperaMobile:return this.verifyOpera();case _a.SamsungInternet:return this.verifySamsungInternet()}return!1}verifyInternetExplorer(){return this.browserVersion.startsWith("11")&&this.operatingSystem==Ac.Windows&&this.operatingSystemVersion.startsWith("10")}verifyEdge(){return this.browserVersionToInt>=16}verifyFirefox(){return this.operatingSystem==Ac.Android||this.operatingSystem==Ac.ApplePhone?this.browserVersionToInt>=92:this.browserVersionToInt>=60}verifyChrome(){return this.operatingSystem==Ac.Android||this.operatingSystem==Ac.ApplePhone?this.browserVersionToInt>=93:this.browserVersionToInt>=51}verifySafari(){const i=parseFloat(this.operatingSystemVersion);return this.browserName==_a.MobileSafari?this.browserVersionToInt>=12:this.browserVersionToInt>14||this.browserVersionToInt>=12&&i>=10.14}verifyOpera(){return this.browserName==_a.OperaMobile?this.browserVersionToInt>12:this.browserVersionToInt>=39}verifySamsungInternet(){return this.browserVersionToInt>=5}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac})}}return s})(),_a=(()=>{class s{static{this.InternetExplorer="IE"}static{this.Edge="Edge"}static{this.Firefox="Firefox"}static{this.Chrome="Chrome"}static{this.Safari="Safari"}static{this.MobileSafari="Mobile Safari"}static{this.Opera="Opera"}static{this.OperaMobile="Opera Mobi"}static{this.SamsungInternet="Samsung Internet"}}return s})(),Ac=(()=>{class s{static{this.Windows="Windows"}static{this.Android="Android"}static{this.ApplePhone="iOS"}}return s})();var Rc=u(5060),qm=u(8810);let eg=(()=>{class s{static{this.EnforcerCompilationError=599}static{this.ExpiredTokenRedirect=413}}return s})(),Fu=(()=>{class s{constructor(i,a,l,D){this.router=i,this.localizeRouterService=a,this.appComponentViewService=l,this.securityService=D}intercept(i,a){return a.handle(i).pipe((0,Ma.W)(l=>{if(l.status===eg.ExpiredTokenRedirect)return this.securityService.startLogin(),Rc.t;if(l.status===eg.EnforcerCompilationError){this.appComponentViewService.failedEnforcerCompilation();const D=this.localizeRouterService.translateRoute("/unauthorized");return document.dispatchEvent(new Event("appready")),this.router.navigate([D],{state:{enforcer:!0}}),Rc.t}return(0,qm.$)(()=>l)}))}static{this.\u0275fac=function(a){return new(a||s)(e.KVO(bt.Ix),e.KVO(Hn.QG),e.KVO(hs.X),e.KVO(Vr.i))}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac})}}return s})();var Cf=u(3488),Pu=u(8400),Hv=u(7275),wf=u(275),tg=u(1957),ir=u(3583);let Mc=(()=>{class s{constructor(i,a){this.http=i,this.actionUrl="DynamicAuthentication",this.headers=a.setHeaders()}get(i,a,l,D){let Q=new S.Nl;return(0,Ii.gP)(i)||(Q=Q.append("scheme",i)),a&&(Q=Q.append("page",a)),l&&(Q=Q.append("pageSize",l)),(0,Ii.gP)(D)||(Q=Q.append("filters",D)),this.http.get(this.actionUrl,{headers:this.headers,params:Q})}createDynamicAuth(i){return this.http.post(this.actionUrl,i,{headers:this.headers})}getDynamicAuth(i){return this.http.get(`${this.actionUrl}/${i}`,{headers:this.headers})}updateDynamicAuth(i){return this.http.put(`${this.actionUrl}/${i.scheme}`,i,{headers:this.headers})}deleteDynamicAuth(i){return this.http.delete(`${this.actionUrl}/${i}`,{headers:this.headers})}replaceSigningCert(i,a,l){return this.http.put(`${this.actionUrl}/${i}/saml/sp/signing-certificate`,{certBase64:a,certPassword:l},{headers:this.headers})}removeSigningCert(i){return this.http.delete(`${this.actionUrl}/${i}/saml/sp/signing-certificate`,{headers:this.headers})}replaceEncryptionCert(i,a,l){return this.http.put(`${this.actionUrl}/${i}/saml/sp/encryption-certificate`,{certBase64:a,certPassword:l},{headers:this.headers})}removeEncryptionCert(i){return this.http.delete(`${this.actionUrl}/${i}/saml/sp/encryption-certificate`,{headers:this.headers})}schemaHealthy(){return this.http.get(`${this.actionUrl}/validate`,{headers:this.headers}).pipe((0,yi.T)(a=>a.isValid??!1))}static{this.\u0275fac=function(a){return new(a||s)(e.KVO(S.Qq),e.KVO(ad.m))}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac})}}return s})();var s,$r=function(s){return s[s.OIDC=0]="OIDC",s[s.SAML=1]="SAML",s}($r||{});function Sf(s){return{...s,type:$r[s.type]}}function ng(s){return{...s,type:$r[s.type]}}function po(s){return JSON.parse(s)}function el(s){return JSON.parse(s)}(s=$r||($r={})).fromWizardType=function p(i){switch(i){case Vi.$.AddOidcDynamicAuth:return s.OIDC;case Vi.$.AddSamlDynamicAuth:return s.SAML}};let Bu=(()=>{class s{constructor(i,a,l){this.dynamicAuthService=i,this.changeCachingService=a,this.errorService=l}resolve(i,a){return this.dynamicAuthService.getDynamicAuth(i.params.Scheme).pipe((0,yi.T)(D=>{let Q;return D&&(Q=Sf(D),this.changeCachingService.unsavedCache.next(Q)),Q}),(0,Ma.W)((D,Q)=>(404===D.status?this.errorService.resourceNotFound(vo.v.dynamicAuth):this.errorService.handleError(D),(0,Ml.I)())))}static{this.\u0275fac=function(a){return new(a||s)(e.KVO(Mc),e.KVO(ir.t),e.KVO(ne.I))}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac})}}return s})();var Ef=u(9568),xc=function(s){return s[s.Query=0]="Query",s[s.FormPost=1]="FormPost",s[s.Fragment=2]="Fragment",s}(xc||{}),Wv=function(s){return s.OIDC="oidc",s.SAML="saml2p",s.Enabled="enabled",s.Disabled="disabled",s}(Wv||{}),Cl=function(s){return s.AuthCode="AuthCode",s.AuthCodePlusPkce="AuthCodePlusPkce",s}(Cl||{});class js{static{this.DiscoveryDocumentPath="/.well-known/openid-configuration"}static{this.DiscoveryDocCachingDuration=6e4}static{this.FlowTypes=[Cl.AuthCode,Cl.AuthCodePlusPkce]}static{this.RequiredScopes=["openid"]}static{this.ScopeOptions=[...js.RequiredScopes,"profile","email"]}static{this.MaxScopeLength=100}static{this.SignInSchemeOptions=[{name:"DynamicAuth.SignInScheme.IdSExternalLogin.Name",value:"Idsrv.External",help:"DynamicAuth.SignInScheme.IdSExternalLogin.Help"},{name:"DynamicAuth.SignInScheme.AspNetExternalLogin.Name",value:"Identity.External",help:"DynamicAuth.SignInScheme.AspNetExternalLogin.Help"}]}static{this.SignInSchemeCodeFrag='services.AddAuthentication("local-cookie")\n    .AddCookie("local-cookie")\n\t.AddCookie("other-cookie");'}static{this.SamlSignInSchemeCodeFrag='services.AddIdentityServer(...)\n            .AddSamlDynamicProvider(options => {\n                options.SignInScheme = "MyIdentityScheme"; \n            });'}static{this.SamlSignOutSchemeCodeFrag='services.AddIdentityServer(...)\n            .AddSamlDynamicProvider(options => {\n                options.SignOutScheme = "MyIdentityScheme";\n            });'}static{this.AdminUIOidcDiscoveryDocumentEndpoint="DynamicAuthentication/DiscDoc"}static{this.AdminUISamlMetadataEndpoint="DynamicAuthentication/SAML/ValidateMetadataAddr"}static AllowRemoveScope(p){return!this.RequiredScopes.includes(p)}static{this.ResponseModeMap=new Map([["query",xc.Query],["form_post",xc.FormPost],["fragment",xc.Fragment]])}static{this.ResponseModeKey=p=>[...js.ResponseModeMap.entries()].filter(({1:a})=>a===p).map(([a])=>a)[0]}}let kc=(()=>{class s{get cacheTimeout(){return js.DiscoveryDocCachingDuration}constructor(i,a){this.http=i,this.cacheTime=0,this.discoveryDoc=new Fi.m(1),this.headers=a.setHeaders()}getDiscoveryDocument(i,a=!1){this.actionUrl=js.AdminUIOidcDiscoveryDocumentEndpoint;const l=Date.now()-this.cacheTime>=this.cacheTimeout;if(!a&&(!i||this.previousAuthority===i&&!l&&this.discoveryDoc))return this.discoveryDoc.asObservable();let D=new S.Nl;return D=D.append("authority",i),this.http.get(this.actionUrl,{headers:this.headers,params:D}).pipe((0,Ef.t)(1),(0,yi.T)(Q=>(this.previousAuthority=i,this.cacheTime=Date.now(),this.discoveryDoc.next(Q),Q)),(0,Ma.W)(Q=>(this.previousAuthority=i,this.cacheTime=Date.now(),this.discoveryDoc.next(null),(0,ma.of)(null))))}isValid(i){return this.getDiscoveryDocument(i,!0).pipe((0,yi.T)(a=>!(!a||!a.issuer)))}supportedScopes(i){return this.getDiscoveryDocument(i).pipe((0,yi.T)(a=>a?.scopes_supported??js.ScopeOptions))}validateMetadataUrl(i){this.actionUrl=js.AdminUISamlMetadataEndpoint;let a=new S.Nl;return a=a.append("metadataUrl",i),this.http.get(this.actionUrl,{headers:this.headers,params:a}).pipe((0,Ef.t)(1),(0,yi.T)(l=>!0),(0,Ma.W)(l=>(0,ma.of)(!1)))}static{this.\u0275fac=function(a){return new(a||s)(e.KVO(S.Qq),e.KVO(ad.m))}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac})}}return s})();var Pa=u(978);let ES=(()=>{class s{constructor(i){this.fb=i}ngOnInit(){this.clientSecretForm=this.fb.group({clientSecret:[""]})}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return!this.clientSecretForm.invalid}hosted(){}toStepDto(){const i={};return i.clientSecret=this.clientSecretForm.get("clientSecret").value,i}toSummaryMap(){const i=new Map;return i.set("clientSecret",[this.clientSecretForm.get("clientSecret").value]),i}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(g.ze))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-client-secret-step"]],inputs:{data:"data"},decls:6,vars:8,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help","isLast"],["type","text","name","ClientSecret","id","ClientSecret","formControlName","clientSecret",1,"tw-form-control"]],template:function(a,l){1&a&&(e.j41(0,"div",0),e.nrm(1,"p",1),e.nI1(2,"translate"),e.k0s(),e.j41(3,"form",2)(4,"app-form-row",3),e.nrm(5,"input",4),e.k0s()()),2&a&&(e.R7$(),e.Y8G("innerHTML",e.bMT(2,6,"DynamicAuth.Wizard.OIDC.ClientSecretStep.Title"),e.npT),e.R7$(2),e.Y8G("formGroup",l.clientSecretForm),e.R7$(),e.Y8G("id","ClientSecret")("label","DynamicAuth.ClientSecret.Label")("help","DynamicAuth.ClientSecret.Help")("isLast",!0))},dependencies:[g.qT,g.me,g.BC,g.cb,g.j4,g.JD,fe.Y,bn.D9],encapsulation:2})}}return s})();var TS=u(5568);function $l(){return g.k0.pattern(/^([/]{1}[\w-]{0,}){1,}$/)}function IS(s){if((0,Ii.hX)(s.value))return{invalidUri:"Errors.ValidateAbsoluteUri.NullOrUndefined"};let p=(0,TS.parse)(s.value);return(0,Ii.gP)(p.query)&&(0,Ii.gP)(p.fragment)?"absolute"!==p.reference?{invalidUri:"Errors.ValidateAbsoluteUri.MustBeAbsolute"}:(0,Ii.gP)(p.error)?null:{invalidUri:p.error}:{invalidUri:"Errors.ValidateAbsoluteUri.MustNotContainQueryFragmeant"}}function DS(s,p){1&s&&(e.j41(0,"app-form-row",3),e.nrm(1,"input",11),e.k0s()),2&s&&e.Y8G("id","CallbackPath")("label","DynamicAuth.CallbackPath.Label")("help","DynamicAuth.CallbackPath.Help")}function AS(s,p){if(1&s&&(e.j41(0,"option",12),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s){const i=p.$implicit;e.Y8G("value",i),e.R7$(),e.JRh(e.bMT(2,2,"DynamicAuth.Flows."+i))}}let RS=(()=>{class s{constructor(i,a,l,D,Q){this.fb=i,this.configService=a,this.translate=l,this.providerValidator=D,this.toastr=Q,this.failedToContactAuthority=!1,this.allowedFlows=js.FlowTypes}ngOnInit(){this.configServiceSub=this.configService.getConfig().subscribe({next:i=>{this.isRskDynamicAuth=i.featureFlagOptions.dynamicAuthenticationFlag==Pa.U.Rsk}}),this.buildForm()}ngOnDestroy(){this.configServiceSub.unsubscribe()}tryReachAuthority(){var i=this.connectionForm.get("authority").value;this.providerValidator.isValid(i).subscribe(a=>{a||this.toastr.warning(this.translate.instant("DynamicAuth.Authority.ReachableWarningMsg"),this.translate.instant("DynamicAuth.Authority.ReachableWarningTitle"))})}buildForm(){let i={authority:["https://",[g.k0.required,g.k0.pattern("^https://.{1,}$")]],clientId:["",g.k0.required]};this.isRskDynamicAuth&&(i.callbackPath=["/oidc-scheme",[g.k0.required,$l()]]),i.flow=[Cl.AuthCodePlusPkce,[g.k0.required]],this.connectionForm=this.fb.group(i)}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return!this.connectionForm.invalid}hosted(){}toStepDto(){const i={};return i.authority=this.connectionForm.get("authority").value,i.clientId=this.connectionForm.get("clientId").value,this.isRskDynamicAuth&&(i.callbackPath=this.connectionForm.get("callbackPath").value),i.flow=this.connectionForm.get("flow").value,i}toSummaryMap(){const i=new Map;return i.set("authority",[this.connectionForm.get("authority").value]),i.set("idpClientId",[this.connectionForm.get("clientId").value]),this.isRskDynamicAuth&&i.set("callbackPath",[this.connectionForm.get("callbackPath").value]),i.set("flow",[this.translate.instant("DynamicAuth.Flows."+this.connectionForm.get("flow").value)]),i}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(g.ze),e.rXU(zs.w),e.rXU(bn.c$),e.rXU(kc),e.rXU(Jn.tw))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-connection-step"]],inputs:{data:"data"},decls:13,vars:16,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help"],["type","text","name","Authority","id","Authority","formControlName","authority","required","",1,"tw-form-control",3,"focusout"],["type","text","name","ClientId","id","ClientId","formControlName","clientId","required","",1,"tw-form-control"],[3,"id","label","help",4,"ngIf"],[3,"id","label","help","isLast"],[1,"tw-form-select"],["id","Flow","formControlName","flow",1,"tw-form-control"],[3,"value",4,"ngFor","ngForOf"],["type","text","name","CallbackPath","id","CallbackPath","formControlName","callbackPath","required","",1,"tw-form-control"],[3,"value"]],template:function(a,l){1&a&&(e.j41(0,"div",0),e.nrm(1,"p",1),e.nI1(2,"translate"),e.k0s(),e.j41(3,"form",2)(4,"app-form-row",3)(5,"input",4),e.bIt("focusout",function(){return l.tryReachAuthority()}),e.k0s()(),e.j41(6,"app-form-row",3),e.nrm(7,"input",5),e.k0s(),e.DNE(8,DS,2,3,"app-form-row",6),e.j41(9,"app-form-row",7)(10,"div",8)(11,"select",9),e.DNE(12,AS,3,4,"option",10),e.k0s()()()()),2&a&&(e.R7$(),e.Y8G("innerHTML",e.bMT(2,14,"DynamicAuth.Wizard.OIDC.ConnectionStep.Title"),e.npT),e.R7$(2),e.Y8G("formGroup",l.connectionForm),e.R7$(),e.Y8G("id","Authority")("label","DynamicAuth.Authority.Label")("help","DynamicAuth.Authority.Help"),e.R7$(2),e.Y8G("id","ClientId")("label","DynamicAuth.ClientId.Label")("help","DynamicAuth.ClientId.Help"),e.R7$(2),e.Y8G("ngIf",l.isRskDynamicAuth),e.R7$(),e.Y8G("id","Flow")("label","DynamicAuth.Flow.Label")("help","DynamicAuth.Flow.Help")("isLast",!0),e.R7$(3),e.Y8G("ngForOf",l.allowedFlows))},dependencies:[gn.Sq,gn.bT,g.qT,g.xH,g.y7,g.me,g.wz,g.BC,g.cb,g.YS,g.j4,g.JD,fe.Y,bn.D9],encapsulation:2})}}return s})();function MS(s,p){if(1&s&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"slice"),e.k0s()),2&s){const i=p.item;e.R7$(),e.JRh(i.length>20?e.brH(2,1,i,0,20)+"...":i)}}function xS(s,p){1&s&&(e.j41(0,"div",16)(1,"div"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&s&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"DynamicAuth.NoScopesMessage")," "))}function kS(s,p){1&s&&(e.j41(0,"span",20),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Reserved")," "))}function Kv(s,p){if(1&s){const i=e.RV6();e.j41(0,"button",21),e.bIt("click",function(){e.eBV(i);const l=e.XpG().$implicit,D=e.XpG(2);return e.Njj(D.removeScope(l))}),e.nrm(1,"span",22),e.j41(2,"span",13),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}if(2&s){const i=e.XpG().$implicit;e.Y8G("id","btnRemove"+i),e.R7$(3),e.JRh(e.bMT(4,2,"Common.Remove.Title"))}}function zv(s,p){if(1&s&&(e.j41(0,"tr")(1,"td",17)(2,"span"),e.EFF(3),e.k0s()(),e.j41(4,"td"),e.DNE(5,kS,3,3,"span",18),e.k0s(),e.j41(6,"td"),e.DNE(7,Kv,5,4,"button",19),e.k0s()()),2&s){const i=p.$implicit,a=e.XpG(2);e.R7$(3),e.JRh(i),e.R7$(2),e.Y8G("ngIf",!a.allowRemoveScope(i)),e.R7$(2),e.Y8G("ngIf",a.allowRemoveScope(i))}}function uc(s,p){if(1&s&&(e.j41(0,"div",9),e.DNE(1,xS,4,3,"div",10),e.j41(2,"table",11)(3,"thead")(4,"th",12)(5,"span",13),e.EFF(6),e.nI1(7,"translate"),e.k0s()(),e.j41(8,"th",14)(9,"span",13),e.EFF(10),e.nI1(11,"translate"),e.k0s()(),e.j41(12,"th",14)(13,"span",13),e.EFF(14),e.nI1(15,"translate"),e.k0s()()(),e.j41(16,"tbody"),e.DNE(17,zv,8,3,"tr",15),e.k0s()()()),2&s){const i=e.XpG();e.Y8G("id","Scopes"),e.R7$(),e.Y8G("ngIf",i.scopes.length<=0),e.R7$(5),e.JRh(e.bMT(7,6,"Common.Scope")),e.R7$(4),e.JRh(e.bMT(11,8,"Common.Reserved")),e.R7$(4),e.JRh(e.bMT(15,10,"Common.Actions")),e.R7$(3),e.Y8G("ngForOf",i.scopes)}}let NS=(()=>{class s{constructor(i,a,l,D){this.toastrService=i,this.translateService=a,this.fb=l,this.providerValidator=D,this.scopes=[...js.RequiredScopes],this.maxScopeLength=js.MaxScopeLength}ngOnInit(){this.scopesForm=this.fb.group({newScope:[""]}),this.options=new nu.c(i=>{let a=this.scopesForm.get("newScope").value;i.next(a)}).pipe((0,Dh.n)(i=>this.providerValidator.supportedScopes().pipe((0,yi.T)(a=>this.filterScopes(i,a)))))}filterScopes(i,a){const l=!i;return a.filter(D=>!this.scopes.includes(D)&&(l||D.includes(i)))}addScope(){var i=this.scopesForm.get("newScope").value;if(""!==i)if(this.scopes.includes(i)){const a=this.translateService.instant("DynamicAuth.Scopes.AlreadyAdded");this.toastrService.error(a)}else if(i.indexOf(" ")>=0){const a=this.translateService.instant("DynamicAuth.Scopes.CannotHaveSpaces");this.toastrService.error(a)}else this.scopes.push(i);else this.toastrService.error(this.translateService.instant("DynamicAuth.Scopes.MustSpecifyScope"))}removeScope(i){const a=this.scopes.indexOf(i);if(-1!==a)this.scopes.splice(a,1);else{const l=this.translateService.instant("DynamicAuth.Scopes.MustSpecifyScope");this.toastrService.error(l)}}allowRemoveScope(i){return js.AllowRemoveScope(i)}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return!0}hosted(){}toStepDto(){const i={};return i.scopes=this.scopes,i}toSummaryMap(){const i=new Map;return i.set("scopes",this.scopes),i}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(Jn.tw),e.rXU(bn.c$),e.rXU(g.ze),e.rXU(kc))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-scopes-step"]],inputs:{data:"data"},decls:14,vars:20,consts:[["customItemTemplate",""],[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","hasLabel","isLast"],[1,"tw-form-typeahead"],["id","new-scope-input","formControlName","newScope","type","text","name","New Scope","container","#addIdpModal","autocomplete","off","left","",1,"tw-form-control",3,"typeahead","typeaheadWaitMs","typeaheadAsync","typeaheadItemTemplate","typeaheadMinLength","placeholder","maxlength"],["id","addScopeButton","right","",1,"tw-btn-success",3,"click"],["class","tw-mt-6",3,"id",4,"ngIf"],[1,"tw-mt-6",3,"id"],["class","tw-alert","role","alert",4,"ngIf"],[1,"datatable"],[1,"tw-w-full"],[1,"sr-only"],[1,"tw-w-1"],[4,"ngFor","ngForOf"],["role","alert",1,"tw-alert"],[1,"tw-table-cell","tw-max-w-0","tw-truncate"],["class","tw-pill",4,"ngIf"],["class","tw-btn-link tw-btn-small tw-text-red-500",3,"id","click",4,"ngIf"],[1,"tw-pill"],[1,"tw-btn-link","tw-btn-small","tw-text-red-500",3,"click","id"],["aria-hidden","true",1,"fas","fa-times"]],template:function(a,l){if(1&a){const D=e.RV6();e.j41(0,"div",1),e.nrm(1,"p",2),e.nI1(2,"translate"),e.k0s(),e.DNE(3,MS,3,5,"ng-template",null,0,e.C5r),e.j41(5,"form",3)(6,"app-form-row",4)(7,"app-row-bar",5),e.nrm(8,"input",6),e.nI1(9,"translate"),e.j41(10,"button",7),e.bIt("click",function(){return e.eBV(D),e.Njj(l.addScope())}),e.EFF(11),e.nI1(12,"translate"),e.k0s()()(),e.DNE(13,uc,18,12,"div",8),e.k0s()}if(2&a){const D=e.sdS(4);e.R7$(),e.Y8G("innerHTML",e.bMT(2,14,"DynamicAuth.Wizard.OIDC.ScopesStep.Title"),e.npT),e.R7$(4),e.Y8G("formGroup",l.scopesForm),e.R7$(),e.Y8G("id","NewScope")("hasLabel",!1)("isLast",!0),e.R7$(2),e.FS9("placeholder",e.bMT(9,16,"DynamicAuth.Scopes.Placeholder")),e.Y8G("typeahead",l.options)("typeaheadWaitMs",200)("typeaheadAsync",!0)("typeaheadItemTemplate",D)("typeaheadMinLength",0)("maxlength",l.maxScopeLength),e.R7$(3),e.SpI(" ",e.bMT(12,18,"Common.Add")," "),e.R7$(2),e.Y8G("ngIf",l.scopes.length>0)}},dependencies:[gn.Sq,gn.bT,g.qT,g.me,g.BC,g.cb,g.tU,g.j4,g.JD,Pu.Xi,fe.Y,Cr.f,gn.P9,bn.D9],encapsulation:2})}}return s})(),ig=(()=>{class s{constructor(i){this.fb=i}ngOnInit(){this.nameRoleForm=this.fb.group({scheme:["",[g.k0.required,ld()]],displayName:["",[g.k0.required]]})}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return!this.nameRoleForm.invalid}hosted(){}toStepDto(){const i={};return i.scheme=this.nameRoleForm.get("scheme").value,i.displayName=this.nameRoleForm.get("displayName").value,i}toSummaryMap(){const i=new Map;return i.set("scheme",[this.nameRoleForm.get("scheme").value]),i.set("displayName",[this.nameRoleForm.get("displayName").value]),i}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(g.ze))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-name-role-step"]],inputs:{data:"data"},decls:8,vars:11,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help"],["type","text","name","Scheme","id","Scheme","formControlName","scheme","required","",1,"tw-form-control"],[3,"id","label","help","isLast"],["type","text","name","DisplayName","id","DisplayName","formControlName","displayName","required","",1,"tw-form-control"]],template:function(a,l){1&a&&(e.j41(0,"div",0),e.nrm(1,"p",1),e.nI1(2,"translate"),e.k0s(),e.j41(3,"form",2)(4,"app-form-row",3),e.nrm(5,"input",4),e.k0s(),e.j41(6,"app-form-row",5),e.nrm(7,"input",6),e.k0s()()),2&a&&(e.R7$(),e.Y8G("innerHTML",e.bMT(2,9,"DynamicAuth.Wizard.NameRoleStep.Title"),e.npT),e.R7$(2),e.Y8G("formGroup",l.nameRoleForm),e.R7$(),e.Y8G("id","Scheme")("label","DynamicAuth.Scheme.Label")("help","DynamicAuth.Scheme.Help"),e.R7$(2),e.Y8G("id","DisplayName")("label","DynamicAuth.DisplayName.Label")("help","DynamicAuth.DisplayName.Help")("isLast",!0))},dependencies:[g.qT,g.me,g.BC,g.cb,g.YS,g.j4,g.JD,fe.Y,bn.D9],encapsulation:2})}}return s})();function OS(s,p){if(1&s&&(e.j41(0,"span",10),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s){const i=e.XpG().$implicit;e.R7$(),e.SpI(" ",e.bMT(2,1,i.help)," ")}}function Yv(s,p){if(1&s&&(e.j41(0,"li",5)(1,"label",6),e.nrm(2,"input",7),e.j41(3,"span",8),e.EFF(4),e.nI1(5,"translate"),e.k0s()(),e.DNE(6,OS,3,3,"span",9),e.k0s()),2&s){const i=p.$implicit,a=p.index,l=e.XpG();e.R7$(),e.FCK("for","",l.id,"-item-",a,""),e.R7$(),e.FCK("id","",l.id,"-item-",a,""),e.Y8G("value",i.value),e.R7$(2),e.JRh(e.bMT(5,9,i.name)),e.R7$(2),e.Y8G("ngIf",i.help)}}function Xv(s,p){if(1&s&&(e.j41(0,"li",5)(1,"label",6),e.nrm(2,"input",7),e.j41(3,"span",8),e.EFF(4),e.nI1(5,"translate"),e.nI1(6,"translate"),e.k0s()()()),2&s){const i=e.XpG();e.R7$(),e.Mz_("for","",i.id,"-item-custom"),e.R7$(),e.Mz_("id","",i.id,"-item-custom"),e.Y8G("value",i.customRadioValue),e.R7$(2),e.Lme("",e.bMT(5,7,"Common.Custom")," ",e.bMT(6,9,i.label),"")}}function Qd(s,p){if(1&s){const i=e.RV6();e.j41(0,"app-form-row",11)(1,"input",12),e.nI1(2,"translate"),e.bIt("ngModelChange",function(l){e.eBV(i);const D=e.XpG();return e.Njj(D.valueChanged.emit(l))}),e.k0s()()}if(2&s){const i=e.XpG();e.Mz_("id","",i.id,"-custom"),e.Y8G("label","Common.Custom")("isLast",i.isLast),e.R7$(),e.Mz_("id","",i.id,"-item-value"),e.FS9("placeholder",e.bMT(2,8,i.placeholder)),e.Y8G("ngModel",i.value)}}let rg=(()=>{class s{constructor(i){this.fb=i,this.listItems=[],this.allowCustom=!1,this.valueChanged=new e.bkB,this.customRadioValue="CUSTOM_VALUE"}ngOnInit(){const i=this.listItems.some(a=>a.value===this.value)?this.value:this.customRadioValue;this.radioForm=this.fb.group({radioVal:[i]}),this.radioForm.get("radioVal").valueChanges.subscribe(a=>{this.valueChanged.emit(a===this.customRadioValue?"":a)})}showCustom(){return this.radioForm.get("radioVal").value===this.customRadioValue}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(g.ze))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-radio-list-input"]],inputs:{id:"id",label:"label",help:"help",listItems:"listItems",placeholder:"placeholder",allowCustom:"allowCustom",isLast:"isLast",value:"value"},outputs:{valueChanged:"valueChanged"},decls:6,vars:14,consts:[[3,"id","label","help","isLast","formGroup"],["role","group",1,"tw-form-checks",3,"id"],["class","tw-form-checks__item",4,"ngFor","ngForOf"],["class","tw-form-checks__item",4,"ngIf"],[3,"id","label","isLast",4,"ngIf"],[1,"tw-form-checks__item"],[1,"tw-form-checks__label",3,"for"],["type","radio","formControlName","radioVal",1,"tw-form-checks__input",3,"id","value"],[1,"tw-form-label"],["class","tw-form-label-help",4,"ngIf"],[1,"tw-form-label-help"],[3,"id","label","isLast"],["type","text","name","value",1,"tw-form-control",3,"ngModelChange","id","ngModel","placeholder"]],template:function(a,l){1&a&&(e.j41(0,"app-form-row",0)(1,"ul",1),e.nI1(2,"translate"),e.DNE(3,Yv,7,11,"li",2)(4,Xv,7,11,"li",3),e.k0s()(),e.DNE(5,Qd,3,10,"app-form-row",4)),2&a&&(e.Mz_("id","",l.id,"-options"),e.Y8G("label",l.label)("help",l.help)("isLast",!l.showCustom()&&l.isLast)("formGroup",l.radioForm),e.R7$(),e.Mz_("id","",l.id,"-options-list"),e.BMQ("aria-label",e.bMT(2,12,l.label)),e.R7$(2),e.Y8G("ngForOf",l.listItems),e.R7$(),e.Y8G("ngIf",l.allowCustom),e.R7$(),e.Y8G("ngIf",l.showCustom()))},dependencies:[g.me,g.Fm,g.BC,g.cb,g.vS,g.j4,g.JD,gn.Sq,gn.bT,fe.Y,bn.D9],encapsulation:2})}}return s})();function Lu(s,p){if(1&s&&(e.j41(0,"app-form-row",7)(1,"app-form-toggle",8),e.nrm(2,"input",9),e.k0s()()),2&s){const i=e.XpG(2);e.Y8G("id","DifferentScheme")("label","DynamicAuth.DifferentSignOut.Label")("help","DynamicAuth.DifferentSignOut.Help")("isLast",!i.diffSignOut),e.R7$(),e.Y8G("id","DifferentScheme")("isTraffic",!0)("isAlt",!1)}}function Jv(s,p){if(1&s){const i=e.RV6();e.j41(0,"app-radio-list-input",10),e.bIt("valueChanged",function(l){e.eBV(i);const D=e.XpG(2);return e.Njj(D.signInSchemeForm.get("outScheme").setValue(l))}),e.k0s()}if(2&s){const i=e.XpG(2);e.Y8G("label","DynamicAuth.SignOutScheme.Label")("help","DynamicAuth.SignOutScheme.Help")("listItems",i.options)("allowCustom",!0)("value",i.signInSchemeForm.get("outScheme").value)("isLast",!0)}}function Uu(s,p){if(1&s){const i=e.RV6();e.j41(0,"form",3)(1,"app-radio-list-input",4),e.bIt("valueChanged",function(l){e.eBV(i);const D=e.XpG();return e.Njj(D.signInSchemeForm.get("scheme").setValue(l))}),e.k0s(),e.DNE(2,Lu,3,7,"app-form-row",5)(3,Jv,1,6,"app-radio-list-input",6),e.k0s()}if(2&s){const i=e.XpG();e.Y8G("formGroup",i.signInSchemeForm),e.R7$(),e.Y8G("label","DynamicAuth.SignInScheme.Label")("help","DynamicAuth.SignInScheme.Help")("listItems",i.options)("allowCustom",!0)("value",i.signInSchemeForm.get("scheme").value)("isLast",!1),e.R7$(),e.Y8G("ngIf",i.isRskDynamicAuth),e.R7$(),e.Y8G("ngIf",i.diffSignOut)}}let Tf=(()=>{class s{constructor(i,a){this.fb=i,this.configService=a,this.isRskDynamicAuth=!1,this.options=js.SignInSchemeOptions,this.snippet=js.SamlSignInSchemeCodeFrag}ngOnInit(){this.configService.getConfig().pipe((0,Vn.$)()).subscribe({next:i=>{this.isRskDynamicAuth=i.featureFlagOptions.dynamicAuthenticationFlag==Pa.U.Rsk,this.isRskDynamicAuth?(this.signInSchemeForm=this.fb.group({scheme:[this.options[0].value,g.k0.required],diffSignOut:[!1],outScheme:[this.options[0].value]}),this.signInSchemeForm.get("diffSignOut").valueChanges.subscribe(a=>{this.signInSchemeForm.get("outScheme").setValidators(a?[g.k0.required]:[])})):this.signInSchemeForm=this.fb.group({scheme:[this.options[0].value,g.k0.required]})}})}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return!this.signInSchemeForm.invalid}hosted(){}get diffSignOut(){return this.isRskDynamicAuth&&this.signInSchemeForm.get("diffSignOut").value}toStepDto(){const i={};return i.signInScheme=this.signInSchemeForm.get("scheme").value,this.diffSignOut&&(i.signOutScheme=this.signInSchemeForm.get("outScheme").value),i}toSummaryMap(){const i=new Map;return i.set("signInScheme",[this.signInSchemeForm.get("scheme").value]),this.diffSignOut&&i.set("signOutScheme",[this.signInSchemeForm.get("outScheme").value]),i}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(g.ze),e.rXU(zs.w))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-sign-in-scheme-step"]],inputs:{data:"data"},decls:4,vars:4,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],["id","Scheme","placeholder","DynamicAuth.SignInScheme.Placeholder",3,"valueChanged","label","help","listItems","allowCustom","value","isLast"],[3,"id","label","help","isLast",4,"ngIf"],["id","OutScheme","placeholder","DynamicAuth.SignOutScheme.Placeholder",3,"label","help","listItems","allowCustom","value","isLast","valueChanged",4,"ngIf"],[3,"id","label","help","isLast"],[3,"id","isTraffic","isAlt"],["id","DifferentScheme","formControlName","diffSignOut","type","checkbox",1,"tw-form-switch__input"],["id","OutScheme","placeholder","DynamicAuth.SignOutScheme.Placeholder",3,"valueChanged","label","help","listItems","allowCustom","value","isLast"]],template:function(a,l){1&a&&(e.j41(0,"div",0),e.nrm(1,"p",1),e.nI1(2,"translate"),e.k0s(),e.DNE(3,Uu,4,9,"form",2)),2&a&&(e.R7$(),e.Y8G("innerHTML",e.bMT(2,2,"DynamicAuth.Wizard.SignInSchemeStep.Title"),e.npT),e.R7$(2),e.Y8G("ngIf",l.signInSchemeForm))},dependencies:[gn.bT,g.qT,g.Zm,g.BC,g.cb,g.j4,g.JD,fe.Y,Co.m,rg,bn.D9],encapsulation:2})}}return s})();function Vu(s,p){1&s&&(e.nrm(0,"span",8),e.nI1(1,"translate")),2&s&&e.Y8G("innerHTML",e.bMT(1,1,"Errors.PathValidation"),e.npT)}let ju=(()=>{class s{constructor(i,a){this.fb=i,this.configService=a}ngOnInit(){this.configService.getConfig().pipe((0,Vn.$)()).subscribe({next:i=>{this.isRskDynamicAuth=i.featureFlagOptions.dynamicAuthenticationFlag==Pa.U.Rsk,this.buildForm()}})}ngOnDestroy(){}buildForm(){let i=this.dtoSnapshot?.scheme;(0,Ii.gP)(i)&&(i="{scheme}");let l={entityId:["",[g.k0.required]],callbackPath:[this.isRskDynamicAuth?`/signin/dynamic/${i}`:`/federation/${i}/signin-saml`,[g.k0.required,$l()]]};this.serviceProviderForm=this.fb.group(l)}validCallbackPath(){return this.serviceProviderForm.get("callbackPath").valid}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return!this.serviceProviderForm.invalid}hosted(){}toStepDto(){const i={};return i.entityId=this.serviceProviderForm.get("entityId").value,i.callbackPath=this.serviceProviderForm.get("callbackPath").value,i}toSummaryMap(){const i=new Map;return i.set("entityId",[this.serviceProviderForm.get("entityId").value]),i.set("callbackPathAcs",[this.serviceProviderForm.get("callbackPath").value]),i}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(g.ze),e.rXU(zs.w))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-service-provider-step"]],inputs:{data:"data"},decls:9,vars:12,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help"],["type","text","name","EntityId","id","EntityId","formControlName","entityId","required","",1,"tw-form-control"],[3,"id","label","help","isLast"],["type","text","name","CallbackPath","id","CallbackPath","formControlName","callbackPath","required","",1,"tw-form-control"],["id","CallbackWarn","class","tw-form-text-warning",3,"innerHTML",4,"ngIf"],["id","CallbackWarn",1,"tw-form-text-warning",3,"innerHTML"]],template:function(a,l){1&a&&(e.j41(0,"div",0),e.nrm(1,"p",1),e.nI1(2,"translate"),e.k0s(),e.j41(3,"form",2)(4,"app-form-row",3),e.nrm(5,"input",4),e.k0s(),e.j41(6,"app-form-row",5),e.nrm(7,"input",6),e.DNE(8,Vu,2,3,"span",7),e.k0s()()),2&a&&(e.R7$(),e.Y8G("innerHTML",e.bMT(2,10,"DynamicAuth.Wizard.SAML.ServiceProviderStep.Title"),e.npT),e.R7$(2),e.Y8G("formGroup",l.serviceProviderForm),e.R7$(),e.Y8G("id","EntityId")("label","DynamicAuth.EntityId.Label")("help","DynamicAuth.EntityId.Help"),e.R7$(2),e.Y8G("id","CallbackPath")("label","DynamicAuth.CallbackPathAcsEndpoint.Label")("help","DynamicAuth.CallbackPathAcsEndpoint.Help")("isLast",!0),e.R7$(2),e.Y8G("ngIf",!l.validCallbackPath()))},dependencies:[gn.bT,g.qT,g.me,g.BC,g.cb,g.YS,g.j4,g.JD,fe.Y,bn.D9],encapsulation:2})}}return s})();var To=u(1746);const $u=["fileInput"];let Gu=(()=>{class s{get ReadOnlyFieldType(){return Gi.t}constructor(i,a,l,D){this.fb=i,this.certService=a,this.toastr=l,this.translate=D,this.validCertificateForm=!1,this.selectedFile=void 0,this.fileName=new To.w(""),this.fileContent=void 0,this.passwordDisabled=!0}ngOnInit(){this.buildForm()}buildForm(){this.certForm=this.fb.group({certPassword:["",[]]})}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return this.disableClearBtn()||this.validCertificateForm}hosted(){}handleFileInput(i){this.selectedFile=i.item(0),this.passwordDisabled=!1,this.requestCertValidation()}requestCertValidation(){this.validCertificateForm=!1}disableTestBtn(){return null==this.selectedFile}disableClearBtn(){const i=this.certForm.get("certPassword").value;return null==this.selectedFile&&""==i}validateForm(){if(null==this.selectedFile)return void this.toastr.error(this.translate.instant("Notifications.CertInValidMsg"),this.translate.instant("Notifications.CertInValidTitle"));this.fileName=new To.w(""),this.fileContent=void 0;const i=this.certForm.get("certPassword").value;this.certService.verifyCertFilePassword(this.selectedFile,i,{next:a=>{this.fileName=new To.w(this.selectedFile?.name),this.fileContent=a,this.validCertificateForm=!0,this.toastr.success(this.translate.instant("Notifications.CertValidTitle"))},error:a=>{this.validCertificateForm=!1,this.toastr.error(this.translate.instant("Notifications.CertInValidMsg"),this.translate.instant("Notifications.CertInValidTitle"))}})}clearCertificateForm(){this.fileInputNative.nativeElement.value=null,this.selectedFile=null,this.fileName=new To.w(""),this.fileContent=void 0,this.certForm.get("certPassword").setValue(""),this.passwordDisabled=!0,this.validCertificateForm=!1}toStepDto(){const i={};return i.certFile=this.fileContent,i.certPassword=this.certForm.get("certPassword").value,i}toSummaryMap(){const i=new Map;return i.set("certFile",[this.selectedFile?.name]),i.set("certPassword",[this.certForm.get("certPassword").value]),i}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(g.ze),e.rXU(dh.V),e.rXU(Jn.tw),e.rXU(bn.c$))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-signing-step"]],viewQuery:function(a,l){if(1&a&&e.GBs($u,5),2&a){let D;e.mGM(D=e.lsd())&&(l.fileInputNative=D.first)}},inputs:{data:"data"},decls:18,vars:19,consts:[["fileInput","","selectedFile",""],[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help"],[1,"tw-form-control"],["id","fileInput","type","file","name","file","accept",".pfx,.p12",1,"tw-form-file","tw-max-w-full",3,"change"],[3,"input","id","label"],["type","text","name","CertPassword","id","CertPassword","formControlName","certPassword",1,"tw-form-control",3,"readonly"],[3,"isLast"],["id","testBtn",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],["id","clearBtn",1,"tw-btn","tw-mr-3",3,"click","disabled"]],template:function(a,l){if(1&a){const D=e.RV6();e.j41(0,"div",1),e.nrm(1,"p",2),e.nI1(2,"translate"),e.k0s(),e.j41(3,"form",3)(4,"app-form-row",4)(5,"div",5)(6,"input",6,0),e.bIt("change",function(De){return e.eBV(D),e.Njj(l.handleFileInput(De.target.files))}),e.k0s()()(),e.j41(9,"app-form-row",7),e.bIt("input",function(){return e.eBV(D),e.Njj(l.requestCertValidation())}),e.nrm(10,"input",8),e.k0s(),e.j41(11,"app-form-row",9)(12,"button",10),e.bIt("click",function(){return e.eBV(D),e.Njj(l.validateForm())}),e.EFF(13),e.nI1(14,"translate"),e.k0s(),e.j41(15,"button",11),e.bIt("click",function(){return e.eBV(D),e.Njj(l.clearCertificateForm())}),e.EFF(16),e.nI1(17,"translate"),e.k0s()()()}2&a&&(e.R7$(),e.Y8G("innerHTML",e.bMT(2,13,"DynamicAuth.Wizard.SAML.SigningStep.Title"),e.npT),e.R7$(2),e.Y8G("formGroup",l.certForm),e.R7$(),e.Y8G("id","fileInputRow")("label","DynamicAuth.CertFile.Label")("help","DynamicAuth.CertFile.Help"),e.R7$(5),e.Y8G("id","CertPasswordRow")("label","DynamicAuth.CertPassword.Label"),e.R7$(),e.Y8G("readonly",l.passwordDisabled),e.R7$(),e.Y8G("isLast",!0),e.R7$(),e.Y8G("disabled",l.disableTestBtn()),e.R7$(),e.JRh(e.bMT(14,15,"Common.ValidateCert")),e.R7$(2),e.Y8G("disabled",l.disableClearBtn()),e.R7$(),e.JRh(e.bMT(17,17,"Common.Clear")))},dependencies:[g.qT,g.me,g.BC,g.cb,g.j4,g.JD,fe.Y,bn.D9],encapsulation:2})}}return s})(),Gl=(()=>{class s{constructor(i){this.inner=i}success_noduplicate(i,a){return this.showToast(i,a,(l,D)=>this.inner.success(l,D))}error_noduplicate(i,a){return this.showToast(i,a,(l,D)=>this.inner.error(l,D))}showToast(i,a,l){var D=this.inner.findDuplicate(a,i,!1,!1);return D&&this.inner.remove(D.toastId),l(i,a)}static{this.\u0275fac=function(a){return new(a||s)(e.KVO(Jn.tw))}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})(),Hu=(()=>{class s{constructor(i,a,l,D){this.fb=i,this.providerValidator=a,this.translate=l,this.toastr=D,this.metadataAddrStream=new Rr.B}ngOnInit(){this.buildForm(),this.metadataAddrStream.subscribe(i=>{this.providerValidator.validateMetadataUrl(i).subscribe(a=>{a?this.toastr.success_noduplicate(this.translate.instant("DynamicAuth.Wizard.SAML.ExternalProviderStep.MetadataValidMsg"),this.translate.instant("DynamicAuth.Wizard.SAML.ExternalProviderStep.MetadataValidTitle")):this.toastr.error_noduplicate(this.translate.instant("DynamicAuth.Wizard.SAML.ExternalProviderStep.MetadataInValidMsg"),this.translate.instant("DynamicAuth.Wizard.SAML.ExternalProviderStep.MetadataInValidTitle"))})})}ngOnDestroy(){this.metadataAddrStream.unsubscribe()}tryMetadataAddr(){const i=this.externalProviderForm.get("metadataAddress");i.invalid||this.metadataAddrStream.next(i.value)}showReachableError(){const i=this.externalProviderForm.get("metadataAddress");return!(0,Ii.gP)(i.value)&&i.errors?.unreachableUrl}buildForm(){let i={metadataAddress:["https://",[g.k0.required,g.k0.pattern("^https://.{1,}$")]]};this.externalProviderForm=this.fb.group(i)}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return!this.externalProviderForm.invalid}hosted(){}toStepDto(){const i={};return i.metadataAddress=this.externalProviderForm.get("metadataAddress").value,i}toSummaryMap(){const i=new Map;return i.set("metadataAddress",[this.externalProviderForm.get("metadataAddress").value]),i}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(g.ze),e.rXU(kc),e.rXU(bn.c$),e.rXU(Gl))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-external-provider-step"]],inputs:{data:"data"},decls:11,vars:12,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help","isLast"],[1,"tw-flex","tw-w-full","lg:tw-max-w-2xl"],["type","text","name","MetadataAddress","id","MetadataAddress","formControlName","metadataAddress","placeholder","https://","required","",1,"tw-form-control","tw-rounded-r-none","tw-border-r-0"],["id","testMetadataAddr",1,"tw-btn","tw-rounded-l-none",3,"click","disabled"]],template:function(a,l){1&a&&(e.j41(0,"div",0),e.nrm(1,"p",1),e.nI1(2,"translate"),e.k0s(),e.j41(3,"form",2)(4,"app-form-row",3)(5,"div",4),e.nrm(6,"input",5),e.j41(7,"button",6),e.bIt("click",function(){return l.tryMetadataAddr()}),e.j41(8,"span"),e.EFF(9),e.nI1(10,"translate"),e.k0s()()()()()),2&a&&(e.R7$(),e.Y8G("innerHTML",e.bMT(2,8,"DynamicAuth.Wizard.SAML.ExternalProviderStep.Title"),e.npT),e.R7$(2),e.Y8G("formGroup",l.externalProviderForm),e.R7$(),e.Y8G("id","MetadataAddress")("label","DynamicAuth.SAML.IdpMetadataAddress.Label")("help","DynamicAuth.SAML.IdpMetadataAddress.Help")("isLast",!0),e.R7$(3),e.Y8G("disabled",!l.canNext()),e.R7$(2),e.JRh(e.bMT(10,10,"Common.ValidateMetadata")))},dependencies:[g.qT,g.me,g.BC,g.cb,g.YS,g.j4,g.JD,fe.Y,bn.D9],encapsulation:2})}}return s})();var Wu=u(2552);function Ku(s,p){1&s&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"DynamicAuth.Wizard.TypeSelectStep.OIDC.Title")))}function Qv(s,p){1&s&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"DynamicAuth.Wizard.TypeSelectStep.SAML.Title")))}function Zv(s,p){1&s&&(e.nrm(0,"p",1),e.nI1(1,"translate")),2&s&&e.Y8G("innerHTML",e.bMT(1,1,"DynamicAuth.Wizard.TypeSelectStep.OIDC.Description"),e.npT)}function qv(s,p){1&s&&(e.nrm(0,"p",1),e.nI1(1,"translate")),2&s&&e.Y8G("innerHTML",e.bMT(1,1,"DynamicAuth.Wizard.TypeSelectStep.SAML.Description"),e.npT)}let ey=(()=>{class s{constructor(){this.wizardTypes=Vi.$,this.activeType=Vi.$.AddOidcDynamicAuth}hosted(){}ngOnInit(){}getStepSummary(){return new Map}getStepDTO(){return{}}canNext(){return!0}selectedType(){return this.activeType}buildOptionsArray(){return[{id:"oidcBtn",btnId:"oidcTestBtn",title:"DynamicAuth.Wizard.TypeSelectStep.OIDC.Name",summary:"DynamicAuth.Wizard.TypeSelectStep.OIDC.Title",icon:"fab fa-openid",type:Vi.$.AddOidcDynamicAuth,selectedTypes:[Vi.$.AddOidcDynamicAuth],starterMode:!0},{id:"samlBtn",btnId:"samlTestBtn",title:"DynamicAuth.Wizard.TypeSelectStep.SAML.Name",summary:"DynamicAuth.Wizard.TypeSelectStep.SAML.Title",icon:"fad fa-code",type:Vi.$.AddSamlDynamicAuth,selectedTypes:[Vi.$.AddSamlDynamicAuth],starterMode:!0}]}setActive(i){this.activeType=i}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-type-select"]],inputs:{data:"data"},decls:11,vars:8,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],["id","clientTypeSelector",3,"select","activeType","isStarterMode","options"],[1,"tw-border-t","tw-border-grey-300","tw-text-grey-700","tw-text-sm","tw-mt-6","tw-pt-5"],[1,"tw-text-sm","tw-font-semibold","tw-text-primary-500","tw-mb-2"],["aria-hidden","true",1,"fas","fa-info-circle","tw-w-5"]],template:function(a,l){if(1&a&&(e.j41(0,"div",0),e.nrm(1,"p",1),e.nI1(2,"translate"),e.k0s(),e.j41(3,"app-type-selector",2),e.bIt("select",function(Q){return l.setActive(Q)}),e.k0s(),e.j41(4,"div",3)(5,"h2",4),e.nrm(6,"span",5),e.DNE(7,Ku,3,3)(8,Qv,3,3),e.k0s(),e.DNE(9,Zv,2,3)(10,qv,2,3),e.k0s()),2&a){let D,Q;e.R7$(),e.Y8G("innerHTML",e.bMT(2,6,"DynamicAuth.Wizard.Description"),e.npT),e.R7$(2),e.Y8G("activeType",l.activeType)("isStarterMode",!1)("options",l.buildOptionsArray()),e.R7$(4),e.vxM(7,(D=l.activeType)===l.wizardTypes.AddOidcDynamicAuth?7:D===l.wizardTypes.AddSamlDynamicAuth?8:-1),e.R7$(2),e.vxM(9,(Q=l.activeType)===l.wizardTypes.AddOidcDynamicAuth?9:Q===l.wizardTypes.AddSamlDynamicAuth?10:-1)}},dependencies:[Wu.N,bn.D9],encapsulation:2})}}return s})();class ty extends sh.p{constructor(p){super();var i=[new Zt.W(ig,{stepName:"NameRoleStepComponent"}),new Zt.W(RS,{stepName:"ConnectionStepComponent"}),new Zt.W(NS,{stepName:"ScopesStepComponent"}),new Zt.W(ES,{stepName:"ClientSecretStepComponent"})];p&&i.push(new Zt.W(Tf,{stepName:"SignInSchemeStepComponent"}));var a=[new Zt.W(ig,{stepName:"NameRoleStepComponent"}),new Zt.W(ju,{stepName:"ServiceProviderStepComponent"}),new Zt.W(Gu,{stepName:"SigningStepComponent"}),new Zt.W(Hu,{stepName:"ExternalProviderStepComponent"}),new Zt.W(Tf,{stepName:"SignInSchemeStepComponent"})];this.nameComponentMap.set(Vi.$.Home,[new Zt.W(ey,{})]),this.nameComponentMap.set(Vi.$.AddOidcDynamicAuth,i),this.nameComponentMap.set(Vi.$.AddSamlDynamicAuth,a),this.nameTitleMap.set(Vi.$.Home,new ki.J("DynamicAuth.Wizard.Setup","DynamicAuth.Wizard.Title")),this.nameTitleMap.set(Vi.$.AddOidcDynamicAuth,new ki.J("DynamicAuth.Wizard.OIDC.Setup","DynamicAuth.Wizard.OIDC.Title")),this.nameTitleMap.set(Vi.$.AddSamlDynamicAuth,new ki.J("DynamicAuth.Wizard.SAML.Setup","DynamicAuth.Wizard.SAML.Title"))}}let ny=(()=>{class s{canNext(){return!1}hosted(){}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-empty-step"]],decls:4,vars:3,consts:[["id","emptyStepError","role","alert",1,"tw-alert-danger"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"div"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&a&&(e.R7$(2),e.JRh(e.bMT(3,1,"Common.Wizards.Empty")))},dependencies:[bn.D9],encapsulation:2})}}return s})();class iy extends sh.p{getWizard(p){return[new Zt.W(ny)]}getWizardTitle(p){return new ki.J("Empty Provider",`No step for wizard name: ${p}`)}}function ry(s,p){if(1&s&&(e.j41(0,"div",5),e.nrm(1,"div",17),e.k0s()),2&s){const i=e.XpG();e.R7$(),e.xc7("width",i.progressPercent+"%"),e.BMQ("aria-valuenow",i.progressPercent)}}function sy(s,p){}function If(s,p){if(1&s){const i=e.RV6();e.j41(0,"button",18),e.bIt("click",function(){e.eBV(i);const l=e.XpG();return e.Njj(l.nextTab())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}if(2&s){const i=e.XpG();e.Y8G("disabled",!i.canNext()),e.R7$(),e.JRh(e.bMT(2,2,"Common.Next"))}}function dc(s,p){if(1&s){const i=e.RV6();e.j41(0,"button",19),e.bIt("click",function(){e.eBV(i);const l=e.XpG();return e.Njj(l.submit())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Common.Save")))}function FS(s,p){if(1&s){const i=e.RV6();e.j41(0,"button",20),e.bIt("click",function(){e.eBV(i);const l=e.XpG();return e.Njj(l.previousTab())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Common.Back")))}function PS(s,p){1&s&&(e.j41(0,"a",15),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"StarterMode.UpgradeAdminUI")))}let sg=(()=>{class s extends oh.P{constructor(i,a,l,D,Q){super(i,a,l),this.dynamicAuthService=D,this.configService=Q,this.wizardProvider=new iy,this.wizardName=Vi.$.Home,this.configService.getConfig().subscribe({next:De=>{this.wizardProvider=new ty(De.featureFlagOptions.dynamicAuthenticationFlag==Pa.U.Rsk)},error:De=>{this.errorService.handleError(De)}})}submit(){const i=ng(this.getModel());this.dynamicAuthService.createDynamicAuth(i).subscribe({complete:()=>{this.finishWizard(),this.clearComponents(),this.toastr.success(`${this.translate.instant("Common.Created")}: ${i.displayName}`,this.translate.instant("Notifications.SuccessfullyCreated"))},error:a=>{this.errorService.handleError(a)}})}getModel(){const i=this.wizardName,a=this.getWizardDto(),l=this.summaryComponentRef.instance.isEnabled();var D="";if(this.wizardName===Vi.$.AddOidcDynamicAuth&&(D=JSON.stringify({authority:a.authority,clientId:a.clientId,callbackPath:a.callbackPath,usePkce:a.flow==Cl.AuthCodePlusPkce,scope:a.scopes,clientSecret:a.clientSecret,signInScheme:a.signInScheme})),this.wizardName===Vi.$.AddSamlDynamicAuth){var Q={spEntityId:a.entityId,callbackPath:a.callbackPath,signAuthenticationRequests:!(0,Ii.hX)(a.certFile)&&!(0,Ii.hX)(a.certPassword),signingCertBase64:a.certFile,signingCertPassword:a.certPassword,signInScheme:a.signInScheme,idpMetadataAddress:a.metadataAddress};D=JSON.stringify(Q)}return{type:$r.fromWizardType(i),scheme:a.scheme,displayName:a.displayName,enabled:l,nonEditable:!1,options:D}}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(ne.I),e.rXU(Jn.tw),e.rXU(bn.c$),e.rXU(Mc),e.rXU(zs.w))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-wizard-host"]],features:[e.Jv_([ql._]),e.Vt3],decls:23,vars:15,consts:[[1,"modal-header"],[1,"modal-title",3,"id"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-progress"],[1,"modal-body","scrollbars"],["appStepHost",""],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["class","tw-btn-success tw-mr-3","id","nextBtn",3,"disabled","click",4,"ngIf"],["class","tw-btn-success tw-mr-3","id","submitBtn",3,"click",4,"ngIf"],["class","tw-btn","id","backBtn",3,"click",4,"ngIf"],["id","upgradeAdminUI","href","starter-mode/teaser",1,"tw-btn","tw-ml-4"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],["role","progressbar",1,"modal-progress-bar"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],["id","submitBtn",1,"tw-btn-success","tw-mr-3",3,"click"],["id","backBtn",1,"tw-btn",3,"click"]],template:function(a,l){if(1&a&&(e.j41(0,"div",0)(1,"h5",1),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"button",2),e.bIt("click",function(){return l.hideWizard()}),e.nrm(5,"span",3),e.j41(6,"span",4),e.EFF(7),e.nI1(8,"translate"),e.k0s()()(),e.DNE(9,ry,2,3,"div",5),e.j41(10,"div",6),e.DNE(11,sy,0,0,"ng-template",7),e.k0s(),e.nrm(12,"div",8),e.j41(13,"div",9)(14,"div",10)(15,"div",11),e.DNE(16,If,3,4,"button",12)(17,dc,3,3,"button",13)(18,FS,3,3,"button",14)(19,PS,3,3,"a",15),e.k0s(),e.j41(20,"button",16),e.bIt("click",function(){return l.cancelWizard()}),e.EFF(21),e.nI1(22,"translate"),e.k0s()()()),2&a){let D;e.R7$(),e.Y8G("id",l.titleId),e.R7$(),e.JRh(e.bMT(3,9,null!==(D=null==l.wizardTitles?null:l.wizardTitles.setupTitle)&&void 0!==D?D:"")),e.R7$(5),e.JRh(e.bMT(8,11,"Common.Close")),e.R7$(2),e.vxM(9,l.showProgress?9:-1),e.R7$(7),e.Y8G("ngIf",l.index<(null==l.wizardSteps?null:l.wizardSteps.length)),e.R7$(),e.Y8G("ngIf",l.index==(null==l.wizardSteps?null:l.wizardSteps.length)),e.R7$(),e.Y8G("ngIf",!l.initialStep()),e.R7$(),e.vxM(19,l.initialStep()&&null!=l.asAny&&l.asAny.displayUpgradeIcon?19:-1),e.R7$(2),e.JRh(e.bMT(22,13,"Common.Cancel"))}},dependencies:[gn.bT,_o.t,bn.D9],encapsulation:2})}}return s})();const Nc=()=>({href:"https://www.identityserver.com/documentation/dynamic-authentication-providers/quickstarts/entityframework/"}),og=(s,p)=>({"fad fa-pencil":s,"fas fa-eye":p});function BS(s,p){1&s&&(e.j41(0,"div",3),e.nrm(1,"app-title-bar",4),e.nI1(2,"translate"),e.j41(3,"div",5)(4,"div",6)(5,"p",7),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"ul",8)(9,"li")(10,"a",9),e.EFF(11),e.nI1(12,"translate"),e.k0s()(),e.j41(13,"li")(14,"a",10),e.EFF(15),e.nI1(16,"translate"),e.k0s()()()()()()),2&s&&(e.R7$(),e.Y8G("title",e.bMT(2,4,"DynamicAuth.Title.Generic")),e.R7$(5),e.JRh(e.bMT(7,6,"DynamicAuth.Unconfigured.FirstLine")),e.R7$(5),e.JRh(e.bMT(12,8,"DynamicAuth.Unconfigured.WhatIs")),e.R7$(4),e.JRh(e.bMT(16,10,"DynamicAuth.Unconfigured.Enable")))}function ag(s,p){if(1&s){const i=e.RV6();e.j41(0,"app-dynamic-auth-wizard-host",17),e.bIt("wizardCancel",function(){e.eBV(i);const l=e.XpG(2);return e.Njj(l.hideWizard())})("finish",function(){e.eBV(i);const l=e.XpG(2);return e.Njj(l.onFinish())})("hide",function(){e.eBV(i);const l=e.XpG(2);return e.Njj(l.hideWizard())}),e.k0s()}}function SD(s,p){1&s&&(e.j41(0,"div",18)(1,"div",19),e.nrm(2,"span",20),e.nI1(3,"translate"),e.k0s()()),2&s&&(e.R7$(2),e.Y8G("innerHTML",e.i5U(3,1,"Errors.DynamicAuthentication.SchemaHealth",e.lJ4(4,Nc)),e.npT))}function ED(s,p){1&s&&(e.j41(0,"span"),e.nrm(1,"span",38),e.EFF(2),e.nI1(3,"translate"),e.k0s()),2&s&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"Auditing.ShowFilters")," "))}function LS(s,p){1&s&&(e.j41(0,"span"),e.nrm(1,"span",39),e.EFF(2),e.nI1(3,"translate"),e.k0s()),2&s&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"Auditing.HideFilters")," "))}function US(s,p){if(1&s){const i=e.RV6();e.j41(0,"li",34)(1,"button",40),e.bIt("click",function(){e.eBV(i);const l=e.XpG(3);return e.Njj(l.filter(l.DynamicAuthFilters.Enabled))}),e.EFF(2),e.nI1(3,"translate"),e.k0s()()}if(2&s){const i=e.XpG(3);e.R7$(),e.Y8G("ngClass",i.isShowing(i.DynamicAuthFilters.Enabled)?"tw-btn":"tw-btn-link"),e.R7$(),e.SpI(" ",e.bMT(3,2,"DynamicAuth.Filters.Enabled")," ")}}function oy(s,p){if(1&s){const i=e.RV6();e.j41(0,"li")(1,"button",41),e.bIt("click",function(){e.eBV(i);const l=e.XpG(3);return e.Njj(l.filter(l.DynamicAuthFilters.Disabled))}),e.EFF(2),e.nI1(3,"translate"),e.k0s()()}if(2&s){const i=e.XpG(3);e.R7$(),e.Y8G("ngClass",i.isShowing(i.DynamicAuthFilters.Disabled)?"tw-btn":"tw-btn-link"),e.R7$(),e.SpI(" ",e.bMT(3,2,"DynamicAuth.Filters.Disabled")," ")}}function VS(s,p){if(1&s){const i=e.RV6();e.j41(0,"div",46)(1,"label",47),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"select",48),e.mxI("ngModelChange",function(l){e.eBV(i);const D=e.XpG(4);return e.DH7(D.pageSize,l)||(D.pageSize=l),e.Njj(l)}),e.bIt("change",function(){e.eBV(i);const l=e.XpG(4);return e.Njj(l.setPageLength(+l.pageSize))}),e.j41(5,"option",49),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"option",50),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"option",51),e.EFF(12),e.nI1(13,"translate"),e.k0s()()()}if(2&s){const i=e.XpG(4);e.R7$(2),e.Lme("",i.pageSize," ",e.bMT(3,6,"Nav.PerPage"),""),e.R7$(2),e.R50("ngModel",i.pageSize),e.R7$(2),e.SpI("25 ",e.bMT(7,8,"Nav.PerPage"),""),e.R7$(3),e.SpI("50 ",e.bMT(10,10,"Nav.PerPage"),""),e.R7$(3),e.SpI("100 ",e.bMT(13,12,"Nav.PerPage"),"")}}function oo(s,p){if(1&s){const i=e.RV6();e.j41(0,"app-action-bar"),e.qex(1,42),e.DNE(2,VS,14,14,"div",43),e.bVm(),e.qex(3,44),e.j41(4,"button",45),e.bIt("click",function(){e.eBV(i),e.XpG(2);const l=e.sdS(9),D=e.XpG();return e.Njj(D.showWizard(l))}),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.bVm(),e.k0s()}if(2&s){const i=e.XpG(3);e.R7$(2),e.Y8G("ngIf",(null==i.pagedResult?null:i.pagedResult.results.length)>0),e.R7$(3),e.SpI(" ",e.bMT(6,2,"Common.Add")," ")}}function ay(s,p){1&s&&e.nrm(0,"app-simple-loader")}function jS(s,p){1&s&&(e.j41(0,"div",55)(1,"div"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&s&&(e.R7$(2),e.JRh(e.bMT(3,1,"DynamicAuth.List.None")))}function $S(s,p){1&s&&(e.j41(0,"span",70)(1,"span",14),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&s&&(e.R7$(2),e.JRh(e.bMT(3,1,"Common.Disabled")))}function ly(s,p){1&s&&(e.j41(0,"span",71),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Disabled")," "))}function GS(s,p){1&s&&(e.j41(0,"span",72),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Reserved")," "))}function cy(s,p){if(1&s){const i=e.RV6();e.j41(0,"tr",61)(1,"td",62),e.bIt("click",function(){const l=e.eBV(i).$implicit,D=e.XpG(5);return e.Njj(D.viewOrEditDynamicAuth(l))}),e.DNE(2,$S,4,3,"span",63),e.j41(3,"b"),e.EFF(4),e.k0s()(),e.j41(5,"td",64),e.bIt("click",function(){const l=e.eBV(i).$implicit,D=e.XpG(5);return e.Njj(D.viewOrEditDynamicAuth(l))}),e.EFF(6),e.k0s(),e.j41(7,"td",64),e.bIt("click",function(){const l=e.eBV(i).$implicit,D=e.XpG(5);return e.Njj(D.viewOrEditDynamicAuth(l))}),e.j41(8,"code"),e.EFF(9),e.k0s()(),e.j41(10,"td",65),e.bIt("click",function(){const l=e.eBV(i).$implicit,D=e.XpG(5);return e.Njj(D.viewOrEditDynamicAuth(l))}),e.DNE(11,ly,3,3,"span",66)(12,GS,3,3,"span",67),e.k0s(),e.j41(13,"td",65),e.bIt("click",function(){const l=e.eBV(i).$implicit,D=e.XpG(5);return e.Njj(D.viewOrEditDynamicAuth(l))}),e.j41(14,"button",68),e.bIt("click",function(){const l=e.eBV(i).$implicit,D=e.XpG(5);return e.Njj(D.viewOrEditDynamicAuth(l))}),e.nrm(15,"span",69),e.j41(16,"span",14),e.EFF(17),e.nI1(18,"translate"),e.k0s()()()()}if(2&s){const i=p.$implicit,a=e.XpG(5);e.AVh("inactive",!i.enabled||(null==i?null:i.nonEditable)),e.FS9("id",i.scheme),e.R7$(2),e.Y8G("ngIf",!i.enabled),e.R7$(),e.AVh("tw-text-blue-500",!(null!=i&&i.nonEditable)),e.R7$(),e.SpI(" ",null==i?null:i.scheme," "),e.R7$(2),e.SpI(" ",null==i?null:i.displayName," "),e.R7$(3),e.JRh(a.typeStr(null==i?null:i.type)),e.R7$(2),e.Y8G("ngIf",!i.enabled),e.R7$(),e.Y8G("ngIf",null==i?null:i.nonEditable),e.R7$(3),e.Y8G("ngClass",e.l_i(15,og,!a.isReadOnly&&!i.nonEditable,a.isReadOnly||i.nonEditable)),e.R7$(2),e.JRh(e.bMT(18,13,"Common.Edit"))}}function uy(s,p){if(1&s&&(e.j41(0,"table",56)(1,"thead")(2,"tr")(3,"th",57),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"th",58),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"th",58),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"th",59)(13,"span",14),e.EFF(14),e.nI1(15,"translate"),e.k0s()(),e.j41(16,"th",59)(17,"span",14),e.EFF(18),e.nI1(19,"translate"),e.k0s()()()(),e.j41(20,"tbody"),e.DNE(21,cy,19,18,"tr",60),e.k0s()()),2&s){const i=e.XpG(4);e.R7$(4),e.SpI(" ",e.bMT(5,6,"Common.Scheme")," "),e.R7$(3),e.SpI(" ",e.bMT(8,8,"Common.Name")," "),e.R7$(3),e.SpI(" ",e.bMT(11,10,"Common.Type")," "),e.R7$(4),e.JRh(e.bMT(15,12,"Common.Status")),e.R7$(4),e.JRh(e.bMT(19,14,"Common.Actions")),e.R7$(3),e.Y8G("ngForOf",i.dynamicAuths)}}function zu(s,p){if(1&s){const i=e.RV6();e.j41(0,"app-pager",73),e.bIt("onGoToPage",function(l){e.eBV(i);const D=e.XpG(4);return e.Njj(D.goToPage(l))}),e.k0s()}if(2&s){const i=e.XpG(4);e.Y8G("totalResults",null==i.pagedResult?null:i.pagedResult.totalCount)("currentPage",i.page)("lastPage",null==i.pagedResult?null:i.pagedResult.pageCount)}}function HS(s,p){if(1&s&&(e.qex(0),e.DNE(1,jS,4,3,"div",52)(2,uy,22,16,"table",53)(3,zu,1,3,"app-pager",54),e.bVm()),2&s){const i=e.XpG(3);e.R7$(),e.Y8G("ngIf",(null==i.dynamicAuths?null:i.dynamicAuths.length)<1),e.R7$(),e.Y8G("ngIf",(null==i.dynamicAuths?null:i.dynamicAuths.length)>0),e.R7$(),e.Y8G("ngIf",(null==i.pagedResult?null:i.pagedResult.results.length)>0&&!i.isLoading)}}function WS(s,p){if(1&s){const i=e.RV6();e.j41(0,"div",21)(1,"div",22)(2,"div",23)(3,"label",24),e.nrm(4,"span",25),e.j41(5,"span",14),e.EFF(6),e.nI1(7,"translate"),e.k0s()(),e.j41(8,"input",26),e.nI1(9,"translate"),e.mxI("ngModelChange",function(l){e.eBV(i);const D=e.XpG(2);return e.DH7(D.searchTerm,l)||(D.searchTerm=l),e.Njj(l)}),e.bIt("keyup",function(l){e.eBV(i);const D=e.XpG(2);return e.Njj(D.search(l))}),e.k0s()(),e.j41(10,"button",27),e.bIt("click",function(){e.eBV(i);const l=e.XpG(2);return e.Njj(l.showAdvancedFilters=!l.showAdvancedFilters)}),e.DNE(11,ED,4,3,"span",28)(12,LS,4,3,"span",28),e.k0s(),e.j41(13,"div",29)(14,"div",30)(15,"div",31)(16,"p",32),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"ul",33)(20,"li",34)(21,"button",35),e.bIt("click",function(){e.eBV(i);const l=e.XpG(2);return e.Njj(l.filter(l.DynamicAuthFilters.OIDC))}),e.EFF(22),e.nI1(23,"translate"),e.k0s()(),e.j41(24,"li",34)(25,"button",36),e.bIt("click",function(){e.eBV(i);const l=e.XpG(2);return e.Njj(l.filter(l.DynamicAuthFilters.SAML))}),e.EFF(26),e.nI1(27,"translate"),e.k0s()(),e.DNE(28,US,4,4,"li",37)(29,oy,4,4,"li",28),e.k0s()()(),e.nrm(30,"hr"),e.k0s()(),e.DNE(31,oo,7,4,"app-action-bar",28)(32,ay,1,0,"app-simple-loader",28)(33,HS,4,3,"ng-container",28),e.k0s()}if(2&s){const i=e.XpG(2);e.R7$(6),e.JRh(e.bMT(7,16,"Common.Search")),e.R7$(2),e.FS9("placeholder",e.bMT(9,18,"DynamicAuth.SearchPlaceholder")),e.R50("ngModel",i.searchTerm),e.R7$(3),e.Y8G("ngIf",!i.showAdvancedFilters),e.R7$(),e.Y8G("ngIf",i.showAdvancedFilters),e.R7$(),e.Y8G("hidden",!i.showAdvancedFilters),e.R7$(4),e.JRh(e.bMT(18,20,"Auditing.Showing")),e.R7$(4),e.Y8G("ngClass",i.isShowing(i.DynamicAuthFilters.OIDC)?"tw-btn":"tw-btn-link"),e.R7$(),e.SpI(" ",e.bMT(23,22,"DynamicAuth.Filters.OIDC")," "),e.R7$(3),e.Y8G("ngClass",i.isShowing(i.DynamicAuthFilters.SAML)?"tw-btn":"tw-btn-link"),e.R7$(),e.SpI(" ",e.bMT(27,24,"DynamicAuth.Filters.SAML")," "),e.R7$(2),e.Y8G("ngIf",!i.isRskDynamicAuth),e.R7$(),e.Y8G("ngIf",!i.isRskDynamicAuth),e.R7$(2),e.Y8G("ngIf",!i.isLoading&&!i.isReadOnly),e.R7$(),e.Y8G("ngIf",i.isLoading),e.R7$(),e.Y8G("ngIf",!i.isLoading)}}function dy(s,p){if(1&s&&(e.j41(0,"div",11)(1,"app-title-bar",4),e.nI1(2,"translate"),e.j41(3,"a",12),e.nrm(4,"span",13),e.j41(5,"span",14),e.EFF(6),e.nI1(7,"translate"),e.k0s()()(),e.DNE(8,ag,1,0,"ng-template",null,0,e.C5r)(10,SD,4,5,"div",15)(11,WS,34,26,"div",16),e.k0s()),2&s){const i=e.XpG();e.R7$(),e.Y8G("title",e.bMT(2,5,i.isRskDynamicAuth?"DynamicAuth.Title.RSK":"DynamicAuth.Title.Duende")),e.R7$(2),e.Y8G("href",i.LinkConstants.EnablingDynamicAuth,e.B4B),e.R7$(3),e.JRh(e.bMT(7,7,"Common.Help")),e.R7$(4),e.Y8G("ngIf",!i.schemaHealthy),e.R7$(),e.Y8G("ngIf",i.schemaHealthy)}}let KS=(()=>{class s extends ro.if{get DynamicAuthFilters(){return Wv}get isReadOnly(){return(0,Ii.ci)(this.securityService.userPermissions)}get LinkConstants(){return da}typeStr(i){return $r[i]}constructor(i,a,l,D,Q,De,Qe,pt,jt,ln){super(De,Qe,!0),this.configService=i,this.errorService=a,this.titleService=l,this.dynamicAuthenticationService=D,this.securityService=Q,this.router=pt,this.localize=jt,this.modalService=ln,this.activeFilters=[],this.pageSize=25,this.page=1,this.term="",this.isLoading=!0,this.showAdvancedFilters=!1,this.schemaHealthy=!0,this.isRskDynamicAuth=!1,this.dynamicAuthIsNotConfigured=!1,this.dynamicAuths=[],this.filterStream=new Rr.B,this.pageStream=new Rr.B,this.pageSizeStream=new Rr.B,this.mapSearchTerm=this.mapSearchTerm.bind(this)}showWizard(i){this.modalService.show(i,{id:ra.R.Id,ariaLabelledBy:ra.R.TileId,ariaDescribedby:ra.R.DescriptionId,backdrop:"static"})}hideWizard(){this.modalService.hide(ra.R.Id)}reload(){this.pageStream.next(this.page),this.pageSizeStream.next(this.pageSize)}mapSearchTerm(i){return this.term=i,{searchTerm:i,page:1,pageSize:this.pageSize}}ngOnInit(){const i=this.translate.instant("Nav.DynamicAuth")+" - "+Lt.$9.SITE_TITLE;this.isLoading=!0,this.titleService.setTitle(i),this.configService.getConfig().subscribe({next:a=>{this.dynamicAuthIsNotConfigured=(0,Ii.hX)(a.featureFlagOptions.dynamicAuthenticationFlag),this.isRskDynamicAuth=a.featureFlagOptions.dynamicAuthenticationFlag==Pa.U.Rsk},error:a=>{this.errorService.handleError(a)}}),this.dynamicAuthIsNotConfigured||this.dynamicAuthenticationService.schemaHealthy().pipe((0,Vn.$)()).subscribe({next:a=>{this.schemaHealthy=a,this.schemaHealthy&&this.triggerPageLoad()},error:a=>{this.toastr.error(this.translate.instant("Errors.DynamicAuthentication.SchemeHealthHttp",{status:a.status}))}})}triggerPageLoad(){const i=this.filterStream.pipe((0,yi.T)(D=>(this.activeFilters=D,{filters:D,searchTerm:this.term,page:this.page,pageSize:this.pageSize}))),a=this.pageStream.pipe((0,yi.T)(D=>(this.page=D,{filters:this.activeFilters,searchTerm:this.term,page:D,pageSize:this.pageSize}))),l=this.pageSizeStream.pipe((0,yi.T)(D=>(this.pageSize=D,{filters:this.activeFilters,searchTerm:this.term,page:this.page,pageSize:D})));a.pipe((0,ia.X)(l),(0,ia.X)(this.searchSource),(0,ia.X)(i),(0,ia.X)(this.enterKeySource),(0,Ha.Z)({filters:this.activeFilters,searchTerm:this.term,page:this.page,pageSize:this.pageSize}),(0,ta.Z)(D=>{this.isLoading=!0;const Q=D.filters.join(" ");return this.dynamicAuthenticationService.get(D.searchTerm,D.page,D.pageSize,Q).pipe((0,na.c)(200))})).subscribe({next:D=>{this.pagedResult=D,this.dynamicAuths=this.pagedResult.results.map(Q=>Sf(Q)).sort((Q,De)=>Number(De.nonEditable)-Number(Q.nonEditable)),this.isLoading=!1},error:D=>{500===D.status?this.handleInternalServerError():this.errorService.handleError(D),this.isLoading=!1}})}filter(i){if(this.activeFilters.includes(i)){const a=this.activeFilters.indexOf(i);this.activeFilters.splice(a,1)}else this.activeFilters.push(i);this.filterStream.next(this.activeFilters)}isShowing(i){return this.activeFilters.includes(i)}goToPage(i){this.pageStream.next(i)}setPageLength(i){this.page=1,this.pageSizeStream.next(i)}viewOrEditDynamicAuth(i){const l=this.localize.translateRoute(`${this.isReadOnly||i.nonEditable?"/dynamic-auth/view":"/dynamic-auth"}/${i.scheme}`);this.router.navigateByUrl(l)}handleInternalServerError(){this.toastr.error(this.translate.instant("IdentityProviders.Filter.StoredProcedureErrorMessage"),this.translate.instant("Notifications.Error"))}onFinish(){this.hideWizard(),this.reload()}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(zs.w),e.rXU(ne.I),e.rXU(n.hE),e.rXU(Mc),e.rXU(Vr.i),e.rXU(Jn.tw),e.rXU(bn.c$),e.rXU(bt.Ix),e.rXU(Hn.QG),e.rXU(Mt.I8))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["ng-component"]],features:[e.Vt3],decls:2,vars:2,consts:[["idpWizardModal",""],["id","missingConfiguration",4,"ngIf"],["id","listView",4,"ngIf"],["id","missingConfiguration"],[3,"title"],["id","ActivationInformation",1,"tw-container","mx-auto"],[1,"cms"],["id","firstLine"],[1,"tw-list-disc","tw-list-inside","tw-indent-8"],["href","documentation/DynamicAuthentication/What_is_Dynamic_Authentication.html","target","_blank",1,"tw-text-blue-500","hover:tw-text-body","tw-transition-all","tw-ease-in-out"],["href","documentation/DynamicAuthentication/Enabling_or_disabling_Dynamic_Authentication.html","target","_blank",1,"tw-text-blue-500","hover:tw-text-body","tw-transition-all","tw-ease-in-out"],["id","listView"],["type","button","target","_blank","ctx","",1,"tw-btn-link","tw-btn","group-hover:tw-text-blue-500","tw-pl-0",3,"href"],[1,"far","fa-question-circle"],[1,"sr-only"],["id","schemaUnhealthy","class","tw-container tw-mx-auto",4,"ngIf"],["id","dynamicAuthList","class","tw-container tw-mx-auto",4,"ngIf"],[3,"wizardCancel","finish","hide"],["id","schemaUnhealthy",1,"tw-container","tw-mx-auto"],[1,"tw-alert-warning","tw-mb-4"],[3,"innerHTML"],["id","dynamicAuthList",1,"tw-container","tw-mx-auto"],["id","searchContainer",1,"tw-mb-2"],[1,"tw-flex","tw-bg-white","tw-border","tw-border-grey-300","tw-opacity-75","tw-cursor-text","tw-rounded","focus-within:tw-opacity-100","focus-within:tw-border-blue-400","tw-transition-all","tw-ease-in-out"],["for","idpTerm",1,"tw-flex","tw-items-center","tw-text-grey-500","tw-m-0","tw-ml-3"],["aria-hidden","true",1,"far","fa-search","tw-text-sm"],["id","idpTerm","type","search",1,"tw-bg-transparent","tw-border-0","tw-text-base","tw-leading-tight","tw-px-2","tw-py-2","tw-w-full","focus:tw-outline-none","tw-transition-all","tw-ease-in-out",3,"ngModelChange","keyup","ngModel","placeholder"],["id","showFilterButton","type","button","aria-expanded","showAdvancedFilters",1,"tw-btn-link","tw-btn-small","tw-px-0","mt-2",3,"click"],[4,"ngIf"],["id","toggleFilters","aria-labelledby","showFilterButton",1,"tw-mt-3","tw-mb-6",3,"hidden"],[1,"tw-flex-grid","md:tw-flex-nowrap","mb-3"],[1,"tw-flex-grid-col","md:tw-ml-auto","md:tw-w-auto","mb-3","mr-2"],[1,"tw-form-label"],[1,"tw-flex","tw-items-center"],[1,"mr-2"],["id","oidcFilter",3,"click","ngClass"],["id","samlFilter",3,"click","ngClass"],["class","mr-2",4,"ngIf"],["aria-hidden","true",1,"fas","fa-angle-down","tw-mr-1"],["aria-hidden","true",1,"fas","fa-angle-up","tw-mr-1"],["id","enabledFilter",3,"click","ngClass"],["id","disabledFilter",3,"click","ngClass"],["left",""],["class","tw-hidden tw-form-select tw-w-auto sm:tw-block",4,"ngIf"],["right",""],["id","addIdpBtn",1,"tw-btn-success",3,"click"],[1,"tw-hidden","tw-form-select","tw-w-auto","sm:tw-block"],["for","pageSizeToggle",1,"sr-only"],["id","pageSizeToggle",1,"tw-form-control","tw-form-control-small",3,"ngModelChange","change","ngModel"],["value","25"],["value","50"],["value","100"],["id","idpNone","class","tw-alert","role","alert",4,"ngIf"],["id","idpTable","class","datatable selectable hover",4,"ngIf"],[3,"totalResults","currentPage","lastPage","onGoToPage",4,"ngIf"],["id","idpNone","role","alert",1,"tw-alert"],["id","idpTable",1,"datatable","selectable","hover"],["id","sortUsername",1,"md:tw-w-1/3","lg:tw-w-1/3"],[1,"tw-hidden","lg:tw-table-cell"],[1,"tw-w-1"],["class","group",3,"id","inactive",4,"ngFor","ngForOf"],[1,"group",3,"id"],[1,"tw-max-w-0","tw-truncate",3,"click"],["class","fas fa-exclamation-triangle tw-text-orange-500 tw-mr-1","container","body",4,"ngIf"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell",3,"click"],[3,"click"],["class","tw-pill-warning",4,"ngIf"],["class","tw-pill",4,"ngIf"],["type","button",1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click"],["id","viewOrEditIcon","aria-hidden","true",3,"ngClass"],["container","body",1,"fas","fa-exclamation-triangle","tw-text-orange-500","tw-mr-1"],[1,"tw-pill-warning"],[1,"tw-pill"],[3,"onGoToPage","totalResults","currentPage","lastPage"]],template:function(a,l){1&a&&e.DNE(0,BS,17,12,"div",1)(1,dy,12,9,"div",2),2&a&&(e.Y8G("ngIf",l.dynamicAuthIsNotConfigured),e.R7$(),e.Y8G("ngIf",!l.dynamicAuthIsNotConfigured))},dependencies:[gn.YU,gn.Sq,gn.bT,g.xH,g.y7,g.me,g.wz,g.BC,g.vS,qt.z,al.n,As.d,Wa.B,sg,bn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();var Oc=u(3806),Df=u(1258),Af=u(1560),lg=u(3663);const cg=["updateClientSecretButton"],ug=s=>[s];function wl(s,p){1&s&&(e.j41(0,"app-form-row",13)(1,"app-form-toggle",14),e.nrm(2,"input",15),e.k0s()()),2&s&&(e.Y8G("id","Enabled")("label","Common.Enabled"),e.R7$(),e.Y8G("id","Enabled")("isTraffic",!0)("isAlt",!1))}function zS(s,p){if(1&s&&(e.j41(0,"div",8),e.DNE(1,wl,3,5,"app-form-row",9),e.j41(2,"app-form-row",10),e.nrm(3,"app-readonly",11),e.nI1(4,"readOnlyValue"),e.k0s(),e.j41(5,"app-form-row",10),e.nrm(6,"input",12),e.k0s()()),2&s){const i=e.XpG(2);e.R7$(),e.Y8G("ngIf",!i.isRskDynamicAuth),e.R7$(),e.Y8G("id","Scheme")("label","DynamicAuth.Scheme.Label")("help","DynamicAuth.Scheme.Help"),e.R7$(),e.Y8G("fieldType",i.ReadOnlyFieldType.Single)("values",e.eq3(11,ug,e.bMT(4,9,i.dynamicAuth.scheme))),e.R7$(2),e.Y8G("id","DisplayName")("label","DynamicAuth.DisplayName.Label")("help","DynamicAuth.DisplayName.Help")}}function hy(s,p){1&s&&(e.j41(0,"app-form-row",10),e.nrm(1,"input",23),e.k0s()),2&s&&e.Y8G("id","CallbackPath")("label","DynamicAuth.CallbackPath.Label")("help","DynamicAuth.CallbackPath.Help")}function Sl(s,p){if(1&s&&(e.j41(0,"option",24),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s){const i=p.$implicit;e.Y8G("value",i),e.R7$(),e.JRh(e.bMT(2,2,"DynamicAuth.Flows."+i))}}function tl(s,p){if(1&s){const i=e.RV6();e.j41(0,"div",16)(1,"app-form-row",10)(2,"input",17),e.bIt("focusout",function(){e.eBV(i);const l=e.XpG(2);return e.Njj(l.tryReachAuthority())}),e.k0s()(),e.j41(3,"app-form-row",10),e.nrm(4,"input",18),e.k0s(),e.DNE(5,hy,2,3,"app-form-row",19),e.j41(6,"app-form-row",10)(7,"div",20)(8,"select",21),e.DNE(9,Sl,3,4,"option",22),e.k0s()()()()}if(2&s){const i=e.XpG(2);e.R7$(),e.Y8G("id","Authority")("label","DynamicAuth.Authority.Label")("help","DynamicAuth.Authority.Help"),e.R7$(2),e.Y8G("id","ClientId")("label","DynamicAuth.ClientId.Label")("help","DynamicAuth.ClientId.Help"),e.R7$(2),e.Y8G("ngIf",i.isRskDynamicAuth),e.R7$(),e.Y8G("id","Flow")("label","DynamicAuth.Flow.Label")("help","DynamicAuth.Flow.Help"),e.R7$(3),e.Y8G("ngForOf",i.allowedFlows)}}function nl(s,p){1&s&&(e.j41(0,"app-form-row",29)(1,"app-form-toggle",14),e.nrm(2,"input",30),e.k0s()()),2&s&&(e.Y8G("id","DifferentSignOut")("label","DynamicAuth.DifferentSignOut.Label")("help","DynamicAuth.DifferentSignOut.Help"),e.R7$(),e.Y8G("id","DifferentSignOut")("isTraffic",!0)("isAlt",!1))}function fy(s,p){1&s&&(e.j41(0,"app-form-row",10)(1,"app-row-bar",26),e.nrm(2,"input",31),e.nI1(3,"translate"),e.k0s()()),2&s&&(e.Y8G("id","SignOutScheme")("label","DynamicAuth.SignOutScheme.Label")("help","DynamicAuth.SignOutScheme.Help"),e.R7$(2),e.FS9("placeholder",e.bMT(3,4,"DynamicAuth.SignOutScheme.Placeholder")))}function py(s,p){if(1&s&&(e.j41(0,"div",25)(1,"app-form-row",10)(2,"app-row-bar",26),e.nrm(3,"input",27),e.nI1(4,"translate"),e.k0s()(),e.DNE(5,nl,3,6,"app-form-row",28)(6,fy,4,6,"app-form-row",19),e.k0s()),2&s){const i=e.XpG(2);e.R7$(),e.Y8G("id","SignInScheme")("label","DynamicAuth.SignInScheme.Label")("help","DynamicAuth.SignInScheme.Help"),e.R7$(2),e.FS9("placeholder",e.bMT(4,6,"DynamicAuth.SignInScheme.Placeholder")),e.R7$(2),e.Y8G("ngIf",i.isRskDynamicAuth||i.dynamicAuth.type==i.dynamicAuthTypes.SAML),e.R7$(),e.Y8G("ngIf",(i.isRskDynamicAuth||i.dynamicAuth.type==i.dynamicAuthTypes.SAML)&&i.formGroup.get("signInSchemeForm.differentSignOut").value)}}function YS(s,p){if(1&s&&(e.j41(0,"div")(1,"app-form-row",32),e.nrm(2,"app-lifetime-picker",33),e.k0s()()),2&s){const i=e.XpG(2);e.R7$(),e.Y8G("id","TimeComparisonTolerance")("label","DynamicAuth.SAML.TimeComparisonTolerance.Label")("help","DynamicAuth.SAML.TimeComparisonTolerance.Help")("isLast",!0),e.R7$(),e.Y8G("buttons",i.defaultToleranceTimes)}}function XS(s,p){if(1&s){const i=e.RV6();e.j41(0,"app-secret-input",34),e.bIt("update",function(l){e.eBV(i);const D=e.XpG(2);return e.Njj(D.formGroup.get("secretForm.clientSecret").setValue(l))}),e.k0s()}if(2&s){const i=e.XpG(2);e.Y8G("id","client")("label","DynamicAuth.ClientSecret.Label")("help","DynamicAuth.ClientSecret.Help")("secret",i.formGroup.get("secretForm.clientSecret").value)}}function JS(s,p){if(1&s&&(e.j41(0,"form",2),e.DNE(1,zS,7,13,"div",3)(2,tl,10,11,"div",4)(3,py,7,8,"div",5)(4,YS,3,5,"div",6)(5,XS,1,4,"app-secret-input",7),e.k0s()),2&s){const i=e.XpG();e.Y8G("formGroup",i.formGroup),e.R7$(),e.Y8G("ngIf",i.formGroup.get("detailsForm")),e.R7$(),e.Y8G("ngIf",i.formGroup.get("connectionForm")&&i.dynamicAuth.type==i.dynamicAuthTypes.OIDC),e.R7$(),e.Y8G("ngIf",i.formGroup.get("signInSchemeForm")&&(i.isRskDynamicAuth||i.dynamicAuth.type==i.dynamicAuthTypes.SAML)),e.R7$(),e.Y8G("ngIf",i.formGroup.get("timeComparisonTolerance")&&(i.isRskDynamicAuth||i.dynamicAuth.type==i.dynamicAuthTypes.SAML)),e.R7$(),e.vxM(5,i.formGroup.get("secretForm")&&i.dynamicAuth.type==i.dynamicAuthTypes.OIDC?5:-1)}}let QS=(()=>{class s{get ReadOnlyFieldType(){return Gi.t}constructor(i,a,l,D,Q,De,Qe){this.fb=i,this.errorService=a,this.dynamicAuthCacheService=l,this.configService=D,this.providerValidator=Q,this.translate=De,this.toastr=Qe,this.dynamicAuthTypes=$r,this.isDeleting=!1,this.allowedFlows=js.FlowTypes,this.samlSignInSchemeCodeFrag=js.SamlSignInSchemeCodeFrag,this.samlSignOutSchemeCodeFrag=js.SamlSignOutSchemeCodeFrag,this.failedToContactAuthority=!1,this.updateClientSecretModalActions=[Df.N.Save],this.updateClientSecretModalId="updateClientSecretModal"}ngOnInit(){this.defaultToleranceTimes=[{duration:2,unit:Oc.u.Minutes},{duration:5,unit:Oc.u.Minutes},{duration:10,unit:Oc.u.Minutes}],this.configService.getConfig().subscribe({next:i=>{this.isRskDynamicAuth=i.featureFlagOptions.dynamicAuthenticationFlag==Pa.U.Rsk},error:i=>{this.errorService.handleError(i)}}),this.dynamicAuthCacheService.unsavedCache$.pipe((0,Vn.$)()).subscribe({next:i=>{switch(this.dynamicAuth=i,this.dynamicAuth.type){case $r.OIDC:this.buildOidcForms(),this.formClientSecret=this.fb.group({newClientSecret:[""]}),this.tryReachAuthority();break;case $r.SAML:this.buildSamlForms()}this.subscribeToValueChanges()},error:i=>{this.errorService.handleError(i)}})}ngOnDestroy(){this.formSubscription.unsubscribe(),this.authorityChanged?.unsubscribe()}buildDetailsForm(){return this.fb.group({enabled:[this.dynamicAuth.enabled,[]],displayName:[this.dynamicAuth.displayName,[g.k0.required]]})}buildOidcForms(){this.oidcOptions=po(this.dynamicAuth.options);let i={authority:[this.oidcOptions.authority,[g.k0.required,g.k0.pattern("^https://.{1,}$")]],clientId:[this.oidcOptions.clientId,[g.k0.required]],flow:[this.oidcOptions.usePkce?Cl.AuthCodePlusPkce:Cl.AuthCode,[g.k0.required]]};this.isRskDynamicAuth&&(i.callbackPath=[this.oidcOptions.callbackPath,[g.k0.required,$l()]]);let a={detailsForm:this.buildDetailsForm(),connectionForm:this.fb.group(i),secretForm:this.fb.group({clientSecret:[this.oidcOptions.clientSecret,[]]})};this.isRskDynamicAuth&&(a.signInSchemeForm=this.fb.group({signInScheme:[this.oidcOptions.signInScheme,[g.k0.required]],differentSignOut:[!(0,Ii.gP)(this.oidcOptions.signOutScheme),[]],signOutScheme:[this.oidcOptions.signOutScheme,[]]}),a.signInSchemeForm.get("differentSignOut").valueChanges.subscribe(l=>{l&&a.signInSchemeForm.get("signOutScheme").setValidators([g.k0.required])})),this.formGroup=this.fb.group(a)}buildSamlForms(){this.samlOptions=el(this.dynamicAuth.options),this.formGroup=this.fb.group({detailsForm:this.buildDetailsForm(),signInSchemeForm:this.fb.group({signInScheme:[this.samlOptions.signInScheme,[g.k0.required]],differentSignOut:[!(0,Ii.gP)(this.samlOptions.signOutScheme),[]],signOutScheme:[this.samlOptions.signOutScheme,[]]}),timeComparisonTolerance:[this.samlOptions.timeComparisonTolerance,[]]})}tryReachAuthority(){let i=this.formGroup.get("connectionForm.authority").value;this.providerValidator.isValid(i).subscribe(a=>{a||this.toastr.warning(this.translate.instant("DynamicAuth.Authority.ReachableWarningMsg"),this.translate.instant("DynamicAuth.Authority.ReachableWarningTitle"))})}subscribeToValueChanges(){this.formSubscription=this.formGroup.valueChanges.subscribe({next:i=>{let l,a={...this.dynamicAuth};a=this.updateDetails(a),this.dynamicAuth.type===$r.OIDC?(l={...this.oidcOptions},l=this.updateConnection(l),l=this.updateSignInScheme(l),l=this.updateSecret(l)):this.dynamicAuth.type===$r.SAML&&(l={...this.samlOptions},l=this.updateSignInScheme(l),l=this.updateTimeComparisonTolerance(l)),a.options=JSON.stringify(l),this.dynamicAuthCacheService.unsavedCache.next(a)}}),this.dynamicAuth.type===$r.OIDC&&(this.authorityChanged=this.formGroup.get("connectionForm.authority").valueChanges.subscribe(i=>{this.failedToContactAuthority=!1}))}canSave(){return!1}updateDetails(i){return this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditDetailsComponent.detailsForm",this.formGroup.get("detailsForm").valid),{...i,enabled:this.formGroup.get("detailsForm.enabled").value,displayName:this.formGroup.get("detailsForm.displayName").value}}updateConnection(i){this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditDetailsComponent.connectionForm",this.formGroup.get("connectionForm").valid);let a={...i,authority:this.formGroup.get("connectionForm.authority").value,clientId:this.formGroup.get("connectionForm.clientId").value,usePkce:this.formGroup.get("connectionForm.flow").value==Cl.AuthCodePlusPkce};return this.isRskDynamicAuth&&(a.callbackPath=this.formGroup.get("connectionForm.callbackPath").value),a}updateSignInScheme(i){if(!this.isRskDynamicAuth&&this.dynamicAuth.type==$r.OIDC)return i;this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditDetailsComponent.signInSchemeForm",this.formGroup.get("signInSchemeForm").valid);let a={signInScheme:this.formGroup.get("signInSchemeForm.signInScheme").value,signOutScheme:void 0};if(this.dynamicAuth.type===$r.SAML||this.isRskDynamicAuth){let l=this.formGroup.get("signInSchemeForm.differentSignOut").value,D=this.formGroup.get("signInSchemeForm.signOutScheme").value;a.signOutScheme=l?D:null}return{...i,...a}}updateSecret(i){return this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditDetailsComponent.secretForm",this.formGroup.get("secretForm").valid),{...i,clientSecret:this.formGroup.get("secretForm.clientSecret").value}}updateTimeComparisonTolerance(i){let a=this.formGroup.get("timeComparisonTolerance");return this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditDetailsComponent.timeComparisonTolerance",a.valid),{...i,timeComparisonTolerance:a.value}}setTimeComparisonTolerance(i){this.formGroup.controls.timeComparisonTolerance.setValue(i)}checkTimeComparisonToleranceSelected(i){return i==this.formGroup.get("timeComparisonTolerance").value}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(g.ze),e.rXU(ne.I),e.rXU(ir.t),e.rXU(zs.w),e.rXU(kc),e.rXU(bn.c$),e.rXU(Jn.tw))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-edit-details"]],viewQuery:function(a,l){if(1&a&&e.GBs(cg,5),2&a){let D;e.mGM(D=e.lsd())&&(l.updateClientSecretButtonRef=D.first)}},decls:2,vars:1,consts:[["id","editIdPDetails",1,"tw-container","tw-mx-auto"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],["formGroupName","detailsForm",4,"ngIf"],["formGroupName","connectionForm",4,"ngIf"],["formGroupName","signInSchemeForm",4,"ngIf"],[4,"ngIf"],[3,"id","label","help","secret"],["formGroupName","detailsForm"],[3,"id","label",4,"ngIf"],[3,"id","label","help"],[3,"fieldType","values"],["type","text","name","DisplayName","id","DisplayName","formControlName","displayName","required","",1,"tw-form-control"],[3,"id","label"],[3,"id","isTraffic","isAlt"],["id","Enabled","formControlName","enabled","type","checkbox",1,"tw-form-switch__input"],["formGroupName","connectionForm"],["type","text","name","Authority","id","Authority","formControlName","authority","required","",1,"tw-form-control",3,"focusout"],["type","text","name","ClientId","id","ClientId","formControlName","clientId","required","",1,"tw-form-control"],[3,"id","label","help",4,"ngIf"],[1,"tw-form-select"],["id","flow","formControlName","flow",1,"tw-form-control"],[3,"value",4,"ngFor","ngForOf"],["type","text","name","CallbackPath","id","CallbackPath","formControlName","callbackPath","required","",1,"tw-form-control"],[3,"value"],["formGroupName","signInSchemeForm"],[1,"tw-form-input"],["id","signInScheme","formControlName","signInScheme","type","text","name","Sign-In Scheme","left","",1,"tw-form-control",3,"placeholder"],["class","tw-form-typeahead",3,"id","label","help",4,"ngIf"],[1,"tw-form-typeahead",3,"id","label","help"],["id","DifferentSignOut","formControlName","differentSignOut","type","checkbox",1,"tw-form-switch__input"],["id","signOutScheme","formControlName","signOutScheme","type","text","name","Sign-Out Scheme","left","",1,"tw-form-control",3,"placeholder"],[3,"id","label","help","isLast"],["id","timeComparisonTolerance","formControlName","timeComparisonTolerance",3,"buttons"],[3,"update","id","label","help","secret"]],template:function(a,l){1&a&&(e.j41(0,"div",0),e.DNE(1,JS,6,6,"form",1),e.k0s()),2&a&&(e.R7$(),e.Y8G("ngIf",l.dynamicAuth&&(l.oidcOptions||l.samlOptions)))},dependencies:[gn.Sq,gn.bT,g.qT,g.xH,g.y7,g.me,g.Zm,g.wz,g.BC,g.cb,g.YS,g.j4,g.JD,g.$R,Af.T,fe.Y,Co.m,Cr.f,lg.o,zr.O,Di.u,bn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();function dg(s,p){1&s&&(e.j41(0,"div")(1,"app-form-row",3),e.nrm(2,"input",7),e.k0s()()),2&s&&(e.R7$(),e.Y8G("id","IdPInitiatedSsoCompletionPath")("label","DynamicAuth.SAML.IdPInitiatedSsoCompletionPath.Label")("help","DynamicAuth.SAML.IdPInitiatedSsoCompletionPath.Help")("isLast",!0))}function Zd(s,p){if(1&s&&(e.j41(0,"form",2)(1,"app-form-row",3)(2,"app-form-toggle",4),e.nrm(3,"input",5),e.k0s()(),e.DNE(4,dg,3,4,"div",6),e.k0s()),2&s){const i=e.XpG();e.Y8G("formGroup",i.idpAdvancedForm),e.R7$(),e.Y8G("id","AllowIdpInitiatedSso")("label","DynamicAuth.SAML.AllowIdpInitiatedSso.Label")("help","DynamicAuth.SAML.AllowIdpInitiatedSso.Help")("isLast",!i.idpAdvancedForm.get("allowIdpInitiatedSso").value),e.R7$(),e.Y8G("id","AllowIdpInitiatedSso")("isTraffic",!0)("isAlt",!1),e.R7$(2),e.Y8G("ngIf",i.idpAdvancedForm.get("allowIdpInitiatedSso").value)}}let ZS=(()=>{class s{constructor(i,a,l){this.fb=i,this.errorService=a,this.dynamicAuthCacheService=l}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,Vn.$)()).subscribe({next:i=>{this.dynamicAuth=i,this.samlOptions=el(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges()},error:i=>{this.errorService.handleError(i)}})}subscribeToValueChanges(){this.idpAdvancedFormSubscription=this.idpAdvancedForm.valueChanges.subscribe({next:i=>{this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditSpDetailsComponent",this.idpAdvancedForm.valid);var a={...this.samlOptions,allowIdpInitiatedSso:this.idpAdvancedForm.controls.allowIdpInitiatedSso.value,idPInitiatedSsoCompletionPath:this.idpAdvancedForm.controls.idPInitiatedSsoCompletionPath.value};const l={...this.dynamicAuth,options:JSON.stringify(a)};this.dynamicAuthCacheService.unsavedCache.next(l)}})}ngOnDestroy(){this.idpAdvancedFormSubscription.unsubscribe()}buildForm(){this.idpAdvancedForm=this.fb.group({allowIdpInitiatedSso:[this.samlOptions.allowIdpInitiatedSso,[]],idPInitiatedSsoCompletionPath:[this.samlOptions.idPInitiatedSsoCompletionPath,[g.k0.required]]})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(g.ze),e.rXU(ne.I),e.rXU(ir.t))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-edit-idp-advanced"]],decls:2,vars:1,consts:[["id","editIdpAdvanced",1,"tw-container","tw-mx-auto"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label","help","isLast"],[3,"id","isTraffic","isAlt"],["id","AllowIdpInitiatedSso","formControlName","allowIdpInitiatedSso","type","checkbox",1,"tw-form-switch__input"],[4,"ngIf"],["type","text","name","IdPInitiatedSsoCompletionPath","id","IdPInitiatedSsoCompletionPath","formControlName","idPInitiatedSsoCompletionPath","required","",1,"tw-form-control"]],template:function(a,l){1&a&&(e.j41(0,"div",0),e.DNE(1,Zd,5,9,"form",1),e.k0s()),2&a&&(e.R7$(),e.Y8G("ngIf",l.dynamicAuth&&l.idpAdvancedForm))},dependencies:[gn.bT,g.qT,g.me,g.Zm,g.BC,g.cb,g.YS,g.j4,g.JD,fe.Y,Co.m],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();function my(s,p){if(1&s){const i=e.RV6();e.j41(0,"form",2)(1,"app-form-row",3)(2,"app-form-toggle",4),e.nrm(3,"input",5),e.k0s()(),e.j41(4,"app-form-row",6)(5,"div",7),e.nrm(6,"input",8),e.j41(7,"button",9),e.bIt("click",function(){e.eBV(i);const l=e.XpG();return e.Njj(l.tryMetadataAddr())}),e.j41(8,"span"),e.EFF(9),e.nI1(10,"translate"),e.k0s()()()()()}if(2&s){const i=e.XpG();e.Y8G("formGroup",i.idpDetailsForm),e.R7$(),e.Y8G("id","RequireValidMetadataSignature")("label","DynamicAuth.SAML.RequireValidMetadataSignature.Label")("help","DynamicAuth.SAML.RequireValidMetadataSignature.Help"),e.R7$(),e.Y8G("id","RequireValidMetadataSignature")("isTraffic",!0)("isAlt",!1),e.R7$(2),e.Y8G("id","MetadataAddress")("label","DynamicAuth.SAML.IdpMetadataAddress.Label")("help","DynamicAuth.SAML.IdpMetadataAddress.Help")("isLast",!0),e.R7$(5),e.JRh(e.bMT(10,12,"Common.ValidateMetadata"))}}let qS=(()=>{class s{constructor(i,a,l,D,Q,De){this.fb=i,this.errorService=a,this.dynamicAuthCacheService=l,this.providerValidator=D,this.translate=Q,this.toastr=De,this.metadataAddrStream=new Fi.m(1)}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,Vn.$)()).subscribe({next:i=>{this.dynamicAuth=i,this.samlOptions=el(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges(),(0,Ii.gP)(this.samlOptions.idpMetadataAddress)||this.metadataAddrStream.next(this.samlOptions.idpMetadataAddress)},error:i=>{this.errorService.handleError(i)}}),this.metadataAddrStream.subscribe(i=>{this.providerValidator.validateMetadataUrl(i).subscribe(a=>{a?this.toastr.success_noduplicate(this.translate.instant("DynamicAuth.Wizard.SAML.ExternalProviderStep.MetadataValidMsg"),this.translate.instant("DynamicAuth.Wizard.SAML.ExternalProviderStep.MetadataValidTitle")):this.toastr.error_noduplicate(this.translate.instant("DynamicAuth.Wizard.SAML.ExternalProviderStep.MetadataInValidMsg"),this.translate.instant("DynamicAuth.Wizard.SAML.ExternalProviderStep.MetadataInValidTitle"))})})}subscribeToValueChanges(){this.idpDetailsFormSubscription=this.idpDetailsForm.valueChanges.subscribe({next:i=>this.updateCache()})}ngOnDestroy(){this.idpDetailsFormSubscription.unsubscribe(),this.metadataAddrStream.unsubscribe()}buildForm(){var i={idpMetadataAddress:[this.samlOptions.idpMetadataAddress,[g.k0.required,g.k0.pattern("^https://.{1,}$")]],requireValidMetadataSignature:[this.samlOptions.requireValidMetadataSignature]};this.idpDetailsForm=this.fb.group(i)}updateCache(){this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditIdpDetailsComponent",this.idpDetailsForm.valid);var i={...this.samlOptions,idpMetadataAddress:this.idpDetailsForm.controls.idpMetadataAddress.value,requireValidMetadataSignature:this.idpDetailsForm.controls.requireValidMetadataSignature.value};const a={...this.dynamicAuth,options:JSON.stringify(i)};this.dynamicAuthCacheService.unsavedCache.next(a)}tryMetadataAddr(){const i=this.idpDetailsForm.get("idpMetadataAddress");i.invalid||this.metadataAddrStream.next(i.value)}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(g.ze),e.rXU(ne.I),e.rXU(ir.t),e.rXU(kc),e.rXU(bn.c$),e.rXU(Gl))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-edit-idp-details"]],decls:2,vars:1,consts:[["id","editIdpDetails",1,"tw-container","tw-mx-auto"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label","help"],[3,"id","isTraffic","isAlt"],["id","RequireValidMetadataSignature","formControlName","requireValidMetadataSignature","type","checkbox",1,"tw-form-switch__input"],[3,"id","label","help","isLast"],[1,"tw-flex","tw-w-full","lg:tw-max-w-2xl"],["type","text","name","IdpMetadataAddress","id","IdpMetadataAddress","formControlName","idpMetadataAddress","placeholder","https://","required","",1,"tw-form-control","tw-rounded-r-none","tw-border-r-0"],["id","testMetadataAddr",1,"tw-btn","tw-rounded-l-none",3,"click"]],template:function(a,l){1&a&&(e.j41(0,"div",0),e.DNE(1,my,11,14,"form",1),e.k0s()),2&a&&(e.R7$(),e.Y8G("ngIf",l.dynamicAuth&&l.idpDetailsForm))},dependencies:[gn.bT,g.qT,g.me,g.Zm,g.BC,g.cb,g.YS,g.j4,g.JD,fe.Y,Co.m,bn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();const eE=["AdvancedTabs"];let gy=(()=>{class s{constructor(){}ngOnInit(){}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-edit-idp"]],viewQuery:function(a,l){if(1&a&&e.GBs(eE,7),2&a){let D;e.mGM(D=e.lsd())&&(l.advancedTabs=D.first)}},decls:6,vars:5,consts:[[1,"tw-container","tw-mx-auto"],[3,"pillMode"],[3,"tabTitle","tabValue"],["id","editDynamicAuthIdpDetails"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"app-custom-tabs",1),e.nrm(2,"app-custom-tab",2)(3,"app-custom-tab",2),e.k0s()(),e.j41(4,"div",3),e.nrm(5,"router-outlet"),e.k0s()),2&a&&(e.R7$(),e.Y8G("pillMode",!0),e.R7$(),e.Y8G("tabTitle","Nav.Details")("tabValue","details"),e.R7$(),e.Y8G("tabTitle","Nav.Advanced")("tabValue","advanced"))},dependencies:[bt.n3,sn.G,Cn.v],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();function vy(s,p){if(1&s&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"slice"),e.k0s()),2&s){const i=p.item;e.R7$(),e.JRh(i.length>20?e.brH(2,1,i,0,20)+"...":i)}}function Rf(s,p){1&s&&(e.j41(0,"div",11)(1,"div"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&s&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"DynamicAuth.NoScopesMessage")," "))}function tE(s,p){1&s&&(e.j41(0,"span",21),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Reserved")," "))}function yy(s,p){if(1&s){const i=e.RV6();e.j41(0,"button",22),e.bIt("click",function(){e.eBV(i);const l=e.XpG().$implicit,D=e.XpG(3);return e.Njj(D.removeScope(l))}),e.nrm(1,"span",23),e.j41(2,"span",15),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&s&&(e.R7$(3),e.JRh(e.bMT(4,1,"Common.Delete.Title")))}function _y(s,p){if(1&s&&(e.j41(0,"tr")(1,"td",18)(2,"span"),e.EFF(3),e.k0s()(),e.j41(4,"td"),e.DNE(5,tE,3,3,"span",19),e.k0s(),e.j41(6,"td"),e.DNE(7,yy,5,3,"button",20),e.k0s()()),2&s){const i=p.$implicit,a=e.XpG(3);e.R7$(3),e.JRh(i),e.R7$(2),e.Y8G("ngIf",!a.allowRemoveScope(i)),e.R7$(2),e.Y8G("ngIf",a.allowRemoveScope(i))}}function by(s,p){if(1&s&&(e.j41(0,"table",12)(1,"thead",13)(2,"th",14)(3,"span",15),e.EFF(4),e.nI1(5,"translate"),e.k0s()(),e.j41(6,"th",16)(7,"span",15),e.EFF(8),e.nI1(9,"translate"),e.k0s()(),e.j41(10,"th",16)(11,"span",15),e.EFF(12),e.nI1(13,"translate"),e.k0s()()(),e.j41(14,"tbody"),e.DNE(15,_y,8,3,"tr",17),e.k0s()()),2&s){const i=e.XpG(2);e.R7$(4),e.JRh(e.bMT(5,4,"Common.Scope")),e.R7$(4),e.JRh(e.bMT(9,6,"Common.Reserved")),e.R7$(4),e.JRh(e.bMT(13,8,"Common.Actions")),e.R7$(3),e.Y8G("ngForOf",i.currentScopes())}}function nE(s,p){if(1&s){const i=e.RV6();e.j41(0,"form",3)(1,"app-form-row",4)(2,"app-row-bar",5),e.nrm(3,"input",6),e.nI1(4,"translate"),e.j41(5,"button",7),e.bIt("click",function(){e.eBV(i);const l=e.XpG();return e.Njj(l.addScope())}),e.EFF(6),e.nI1(7,"translate"),e.k0s()()(),e.j41(8,"div",8),e.DNE(9,Rf,4,3,"div",9)(10,by,16,10,"table",10),e.k0s()()}if(2&s){const i=e.XpG(),a=e.sdS(1);e.Y8G("formGroup",i.scopesForm),e.R7$(),e.Y8G("id","NewScope")("hasLabel",!1)("isLast",!0),e.R7$(2),e.FS9("placeholder",e.bMT(4,15,"DynamicAuth.Scopes.Placeholder")),e.Y8G("typeahead",i.options)("typeaheadWaitMs",200)("typeaheadAsync",!0)("typeaheadItemTemplate",a)("typeaheadMinLength",0)("maxlength",i.maxScopeLength),e.R7$(3),e.SpI(" ",e.bMT(7,17,"Common.Add")," "),e.R7$(2),e.Y8G("id","Scopes"),e.R7$(),e.Y8G("ngIf",i.currentScopes().length<=0),e.R7$(),e.Y8G("ngIf",i.currentScopes().length>0)}}let iE=(()=>{class s{constructor(i,a,l,D,Q,De){this.fb=i,this.errorService=a,this.toastr=l,this.translateService=D,this.dynamicAuthChachService=Q,this.providerValidator=De,this.newScope="",this.dynamicAuthTypes=$r,this.isDeleting=!1,this.maxScopeLength=js.MaxScopeLength}ngOnInit(){this.dynamicAuthChachService.unsavedCache$.pipe((0,Vn.$)()).subscribe({next:i=>{this.dynamicAuth=i,this.oidcOptions=po(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges()},error:i=>{this.errorService.handleError(i)}}),this.options=new nu.c(i=>{let a=this.scopesForm.get("newScope").value;i.next(a)}).pipe((0,Dh.n)(i=>this.providerValidator.supportedScopes(this.oidcOptions.authority).pipe((0,yi.T)(a=>this.filterScopes(i,a)))))}filterScopes(i,a){const l=!i;return a.filter(D=>!this.currentScopes().includes(D)&&(l||D.includes(i)))}subscribeToValueChanges(){this.scopesFormSubscription=this.scopesForm.controls.scopes.valueChanges.subscribe({next:i=>{this.dynamicAuthChachService.componentDirtyValidMap.set("DynamicAuthEditScopesComponent",this.scopesForm.valid);const a={...this.oidcOptions,scope:this.scopesForm.controls.scopes.value},l={...this.dynamicAuth,options:JSON.stringify(a)};this.dynamicAuthChachService.unsavedCache.next(l)}})}ngOnDestroy(){this.scopesFormSubscription.unsubscribe()}buildForm(){this.scopesForm=this.fb.group({newScope:[this.newScope],scopes:[this.oidcOptions.scope]})}addScope(){const i=this.scopesForm.controls.newScope.value,a=this.scopesForm.controls.scopes.value;""!==i?i.indexOf(" ")>=0?this.toastr.error(this.translateService.instant("DynamicAuth.Scopes.CannotHaveSpaces")):a.includes(i)?this.toastr.error(this.translateService.instant("DynamicAuth.Scopes.AlreadyAdded")):this.scopesForm.setValue({newScope:"",scopes:[...a,i]}):this.toastr.error(this.translateService.instant("DynamicAuth.Scopes.MustSpecifyScope"))}removeScope(i){this.scopesForm.controls.scopes.setValue(this.scopesForm.controls.scopes.value.filter(l=>l!==i))}currentScopes(){const i=this.scopesForm.controls.scopes;return i?i.value:[]}allowRemoveScope(i){return js.AllowRemoveScope(i)}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(g.ze),e.rXU(ne.I),e.rXU(Jn.tw),e.rXU(bn.c$),e.rXU(ir.t),e.rXU(kc))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-edit-scopes"]],decls:4,vars:1,consts:[["customItemTemplate",""],["id","editIdPDetails",1,"tw-container","tw-mx-auto"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","hasLabel","isLast"],[1,"tw-form-typeahead"],["id","new-scope-input","formControlName","newScope","type","text","name","New Scope","container","#addIdpModal","autocomplete","off","left","",1,"tw-form-control",3,"typeahead","typeaheadWaitMs","typeaheadAsync","typeaheadItemTemplate","typeaheadMinLength","placeholder","maxlength"],["id","addScopeButton","right","",1,"tw-btn-success",3,"click"],[1,"tw-mt-6",3,"id"],["class","tw-alert","role","alert",4,"ngIf"],["class","datatable",4,"ngIf"],["role","alert",1,"tw-alert"],[1,"datatable"],[1,""],[1,"tw-w-full"],[1,"sr-only"],[1,"tw-w-1"],[4,"ngFor","ngForOf"],[1,"tw-table-cell","tw-max-w-0","tw-truncate"],["class","tw-pill",4,"ngIf"],["class","tw-btn-link tw-btn-small tw-text-red-500","value","Delete",3,"click",4,"ngIf"],[1,"tw-pill"],["value","Delete",1,"tw-btn-link","tw-btn-small","tw-text-red-500",3,"click"],["aria-hidden","true",1,"fas","fa-times"]],template:function(a,l){1&a&&(e.DNE(0,vy,3,5,"ng-template",null,0,e.C5r),e.j41(2,"div",1),e.DNE(3,nE,11,19,"form",2),e.k0s()),2&a&&(e.R7$(3),e.Y8G("ngIf",l.dynamicAuth))},dependencies:[gn.Sq,gn.bT,g.qT,g.me,g.BC,g.cb,g.tU,g.j4,g.JD,fe.Y,Cr.f,Pu.Xi,gn.P9,bn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();var Cy=u(4572);function rE(s,p){1&s&&(e.nrm(0,"span",12),e.nI1(1,"translate")),2&s&&e.Y8G("innerHTML",e.bMT(1,1,"DynamicAuth.PathValidation"),e.npT)}function sE(s,p){1&s&&(e.nrm(0,"span",13),e.nI1(1,"translate")),2&s&&e.Y8G("innerHTML",e.bMT(1,1,"DynamicAuth.PathValidation"),e.npT)}function oE(s,p){1&s&&(e.nrm(0,"span",14),e.nI1(1,"translate")),2&s&&e.Y8G("innerHTML",e.bMT(1,1,"DynamicAuth.PathValidation"),e.npT)}function aE(s,p){if(1&s&&(e.j41(0,"form",2)(1,"app-form-row",3),e.nrm(2,"input",4),e.k0s(),e.j41(3,"app-form-row",3),e.nrm(4,"input",5),e.DNE(5,rE,2,3,"span",6),e.k0s(),e.j41(6,"app-form-row",3),e.nrm(7,"input",7),e.DNE(8,sE,2,3,"span",8),e.k0s(),e.j41(9,"app-form-row",9),e.nrm(10,"input",10),e.DNE(11,oE,2,3,"span",11),e.k0s()()),2&s){const i=e.XpG();e.Y8G("formGroup",i.spDetailsForm),e.R7$(),e.Y8G("id","SPEntityID")("label","DynamicAuth.SPEntityID.Label")("help","DynamicAuth.SPEntityID.Help"),e.R7$(2),e.Y8G("id","SpMetadataAddress")("label","DynamicAuth.SpMetadataAddress.Label")("help","DynamicAuth.SpMetadataAddress.Help"),e.R7$(2),e.Y8G("ngIf",!i.validMetadataPath()),e.R7$(),e.Y8G("id","CallbackPath")("label","DynamicAuth.CallbackPath.Label")("help","DynamicAuth.CallbackPath.Help"),e.R7$(2),e.Y8G("ngIf",!i.validCallbackPath()),e.R7$(),e.Y8G("id","SignedOutCallbackPath")("label","DynamicAuth.SignedOutCallbackPath.Label")("help","DynamicAuth.SignedOutCallbackPath.Help")("isLast",!0),e.R7$(2),e.Y8G("ngIf",!i.validSignedOutPath())}}let lE=(()=>{class s{constructor(i,a,l,D){this.fb=i,this.errorService=a,this.dynamicAuthCacheService=l,this.configService=D}ngOnInit(){(0,Cy.z)([this.dynamicAuthCacheService.unsavedCache$.pipe((0,Vn.$)()),this.configService.getConfig().pipe((0,Vn.$)())]).subscribe({next:([i,a])=>{this.dynamicAuth=i,this.samlOptions=el(this.dynamicAuth.options),this.isRskDynamicAuth=a.featureFlagOptions.dynamicAuthenticationFlag==Pa.U.Rsk,this.buildForm(),this.subscribeToValueChanges()}})}subscribeToValueChanges(){this.spDetailsFormSubscription=this.spDetailsForm.valueChanges.subscribe({next:i=>{this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditSpDetailsComponent",this.spDetailsForm.valid);var a={...this.samlOptions,spEntityId:this.spDetailsForm.controls.spEntityId.value,spMetadataAddress:this.spDetailsForm.controls.spMetadataAddress.value,callbackPath:this.spDetailsForm.controls.callbackPath.value,signedOutCallbackPath:this.spDetailsForm.controls.signedOutCallbackPath.value};const l={...this.dynamicAuth,options:JSON.stringify(a)};this.dynamicAuthCacheService.unsavedCache.next(l)}})}ngOnDestroy(){this.spDetailsFormSubscription.unsubscribe()}buildForm(){let i={spEntityId:[this.samlOptions.spEntityId,[g.k0.required]],spMetadataAddress:[this.samlOptions.spMetadataAddress,[g.k0.required,$l()]],callbackPath:[this.samlOptions.callbackPath,[g.k0.required,$l()]],signedOutCallbackPath:[this.samlOptions.signedOutCallbackPath,[$l()]]};this.spDetailsForm=this.fb.group(i)}validMetadataPath(){return this.spDetailsForm.get("spMetadataAddress").valid}validCallbackPath(){return this.spDetailsForm.get("callbackPath").valid}validSignedOutPath(){return!!this.isRskDynamicAuth||this.spDetailsForm.get("signedOutCallbackPath").valid}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(g.ze),e.rXU(ne.I),e.rXU(ir.t),e.rXU(zs.w))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-edit-sp-details"]],decls:2,vars:1,consts:[["id","editSPDetails",1,"tw-container","tw-mx-auto"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label","help"],["type","text","name","DisplayName","id","DisplayName","formControlName","spEntityId","required","",1,"tw-form-control"],["type","text","name","SpMetadataAddress","id","SpMetadataAddress","formControlName","spMetadataAddress","required","",1,"tw-form-control"],["id","MetaWarn","class","tw-form-text-warning",3,"innerHTML",4,"ngIf"],["type","text","name","CallbackPath","id","CallbackPath","formControlName","callbackPath","required","",1,"tw-form-control"],["id","CallbackWarn","class","tw-form-text-warning",3,"innerHTML",4,"ngIf"],[3,"id","label","help","isLast"],["type","text","name","CallbackPath","id","SignedOutCallbackPath","formControlName","signedOutCallbackPath",1,"tw-form-control"],["id","SignOutWarn","class","tw-form-text-warning",3,"innerHTML",4,"ngIf"],["id","MetaWarn",1,"tw-form-text-warning",3,"innerHTML"],["id","CallbackWarn",1,"tw-form-text-warning",3,"innerHTML"],["id","SignOutWarn",1,"tw-form-text-warning",3,"innerHTML"]],template:function(a,l){1&a&&(e.j41(0,"div",0),e.DNE(1,aE,12,17,"form",1),e.k0s()),2&a&&(e.R7$(),e.Y8G("ngIf",l.dynamicAuth&&l.spDetailsForm))},dependencies:[gn.bT,g.qT,g.me,g.BC,g.cb,g.YS,g.j4,g.JD,fe.Y,bn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();var Mf=u(4652);function hg(s,p){if(1&s&&(e.j41(0,"form",10)(1,"app-form-row",11)(2,"app-form-toggle",16),e.nrm(3,"input",17),e.k0s()()()),2&s){const i=e.XpG();e.Y8G("formGroup",i.spRequestForm),e.R7$(),e.Y8G("id","SignAuthenticationRequests")("label","DynamicAuth.SAML.SignAuthenticationRequests.Label")("help","DynamicAuth.SAML.SignAuthenticationRequests.Help"),e.R7$(),e.Y8G("id","SignAuthenticationRequests")("isTraffic",!0)("isAlt",!1)}}function cE(s,p){if(1&s){const i=e.RV6();e.j41(0,"button",18),e.bIt("click",function(){e.eBV(i),e.XpG();const l=e.sdS(7);return e.Njj(l.show())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Clients.Saml.AddCert")," "))}function fg(s,p){if(1&s){const i=e.RV6();e.j41(0,"button",19),e.bIt("click",function(){e.eBV(i),e.XpG();const l=e.sdS(7);return e.Njj(l.show())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Clients.Saml.ReplaceCertificate")," "))}let wy=(()=>{class s{get ReadOnlyFieldType(){return Gi.t}constructor(i,a,l,D,Q,De,Qe){this.fb=i,this.errorService=a,this.dynamicAuthCacheService=l,this.toastr=D,this.translate=Q,this.certService=De,this.dynamicAuthService=Qe,this.canDeleteCert=!1,this.selectedFile=void 0,this.fileName=new To.w("")}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,Vn.$)()).subscribe({next:i=>{this.dynamicAuth=i,this.samlOptions=el(this.dynamicAuth.options),this.certificateDescription=this.samlOptions.signingCertificateDto?[this.samlOptions.signingCertificateDto]:[],this.canDeleteCert=this.samlOptions.signAuthenticationRequests,this.buildForm(),this.subscribeToValueChanges()},error:i=>{this.errorService.handleError(i)}})}subscribeToValueChanges(){this.spRequestFormSubscription=this.spRequestForm.valueChanges.subscribe({next:i=>{this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditSpRequestComponent",this.spRequestForm.valid);var a={...this.samlOptions,signAuthenticationRequests:this.spRequestForm.controls.signAuthenticationRequests.value};const l={...this.dynamicAuth,options:JSON.stringify(a)};this.canDeleteCert=this.spRequestForm.controls.signAuthenticationRequests.value,this.dynamicAuthCacheService.unsavedCache.next(l)}})}buildForm(){this.spRequestForm=this.fb.group({signAuthenticationRequests:[this.samlOptions.signAuthenticationRequests,[]]}),this.certForm=this.fb.group({selectedFile:void 0,certPassword:["",[]]})}handleFileInput(i){this.selectedFile=i.item(0)}updateSigningCert(){this.fileName=new To.w("");const i=this.certForm.get("certPassword").value;this.certService.verifyCertFilePassword(this.selectedFile,i,{next:a=>{this.fileName=new To.w(this.selectedFile?.name),this.dynamicAuthService.replaceSigningCert(this.dynamicAuth.scheme,a,i).subscribe(l=>{this.certificateDescription=[l],this.selectedFile=null,this.certForm.get("certPassword").setValue(""),this.updateSigninCertInCache(l)})},error:a=>{this.toastr.error(this.translate.instant("Notifications.CertInValidMsg"),this.translate.instant("Notifications.CertInValidTitle")),this.selectedFile=null,this.certForm.get("certPassword").setValue("")}})}removeSigningCert(){this.dynamicAuthService.removeSigningCert(this.dynamicAuth.scheme).subscribe(()=>{this.samlOptions.signingCertificateDto=null,this.certificateDescription=[],this.updateSigninCertInCache(null)},i=>{this.errorService.handleError(i)})}updateSigninCertInCache(i){var a={...this.samlOptions,signingCertificateDto:i};const l={...this.dynamicAuth,options:JSON.stringify(a)};this.dynamicAuthCacheService.unsavedCache.next(l)}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(g.ze),e.rXU(ne.I),e.rXU(ir.t),e.rXU(Jn.tw),e.rXU(bn.c$),e.rXU(dh.V),e.rXU(Mc))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-edit-sp-request"]],decls:17,vars:19,consts:[["addCertificateModal",""],["fileInput","","selectedFile",""],["id","editSpRequest",1,"tw-container","tw-mx-auto"],[3,"formGroup",4,"ngIf"],[3,"delete","certificates","showSingle","deleteCertDisabled"],["addButton",""],["id","addCertButton","class","tw-btn-success","type","button",3,"click",4,"ngIf"],["id","replaceCertButton","class","tw-btn-success tw-mr-4","type","button",3,"click",4,"ngIf"],[3,"confirm","modalId","type","buttonType","title","okText"],["body",""],[3,"formGroup"],[3,"id","label","help"],[1,"tw-form-control"],["id","fileInput","type","file","name","file","accept",".pfx,.p12",1,"tw-form-file","tw-max-w-full",3,"change"],[3,"id","label","help","isLast"],["type","text","name","CertPassword","id","CertPassword","formControlName","certPassword",1,"tw-form-control"],[3,"id","isTraffic","isAlt"],["id","SignAuthenticationRequests","formControlName","signAuthenticationRequests","type","checkbox",1,"tw-form-switch__input"],["id","addCertButton","type","button",1,"tw-btn-success",3,"click"],["id","replaceCertButton","type","button",1,"tw-btn-success","tw-mr-4",3,"click"]],template:function(a,l){if(1&a){const D=e.RV6();e.j41(0,"div",2),e.DNE(1,hg,4,7,"form",3),e.j41(2,"app-saml-cert-list",4),e.bIt("delete",function(){return e.eBV(D),e.Njj(l.removeSigningCert())}),e.qex(3,5),e.DNE(4,cE,3,3,"button",6)(5,fg,3,3,"button",7),e.bVm(),e.k0s(),e.j41(6,"app-confirmation-modal",8,0),e.bIt("confirm",function(){return e.eBV(D),e.Njj(l.updateSigningCert())}),e.qex(8,9),e.j41(9,"form",10)(10,"app-form-row",11)(11,"div",12)(12,"input",13,1),e.bIt("change",function(De){return e.eBV(D),e.Njj(l.handleFileInput(De.target.files))}),e.k0s()()(),e.j41(15,"app-form-row",14),e.nrm(16,"input",15),e.k0s()(),e.bVm(),e.k0s()()}2&a&&(e.R7$(),e.Y8G("ngIf",l.dynamicAuth&&l.spRequestForm),e.R7$(),e.Y8G("certificates",l.certificateDescription)("showSingle",!0)("deleteCertDisabled",l.canDeleteCert),e.R7$(2),e.Y8G("ngIf",l.certificateDescription.length<1),e.R7$(),e.Y8G("ngIf",l.certificateDescription.length>0),e.R7$(),e.Y8G("modalId","addCertificateModal")("type",null)("buttonType","success")("title","DynamicAuth.UpdateSigningCertificate.Title")("okText","Common.Update"),e.R7$(3),e.Y8G("formGroup",l.certForm),e.R7$(),e.Y8G("id","fileInput")("label","DynamicAuth.CertFile.Label")("help","DynamicAuth.CertFile.Help"),e.R7$(5),e.Y8G("id","CertPassword")("label","DynamicAuth.CertPassword.Label")("help","DynamicAuth.CertPassword.Help")("isLast",!0))},dependencies:[gn.bT,g.qT,g.me,g.Zm,g.BC,g.cb,g.j4,g.JD,fe.Y,Co.m,$e.B,Mf.T,bn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();function Sy(s,p){if(1&s&&(e.j41(0,"form",10)(1,"app-form-row",11)(2,"app-form-toggle",16),e.nrm(3,"input",17),e.k0s()(),e.j41(4,"app-form-row",11)(5,"app-form-toggle",16),e.nrm(6,"input",18),e.k0s()()()),2&s){const i=e.XpG();e.Y8G("formGroup",i.spResponseForm),e.R7$(),e.Y8G("id","RequireSignedAssertions")("label","DynamicAuth.SAML.RequireSignedAssertions.Label")("help","DynamicAuth.SAML.RequireSignedAssertions.Help"),e.R7$(),e.Y8G("id","RequireSignedAssertions")("isTraffic",!0)("isAlt",!1),e.R7$(2),e.Y8G("id","RequireEncryptedAssertions")("label","DynamicAuth.SAML.RequireEncryptedAssertions.Label")("help","DynamicAuth.SAML.RequireEncryptedAssertions.Help"),e.R7$(),e.Y8G("id","RequireEncryptedAssertions")("isTraffic",!0)("isAlt",!1)}}function Ey(s,p){if(1&s){const i=e.RV6();e.j41(0,"button",19),e.bIt("click",function(){e.eBV(i),e.XpG();const l=e.sdS(7);return e.Njj(l.show())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Clients.Saml.AddCert")," "))}function Ty(s,p){if(1&s){const i=e.RV6();e.j41(0,"button",20),e.bIt("click",function(){e.eBV(i),e.XpG();const l=e.sdS(7);return e.Njj(l.show())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Clients.Saml.ReplaceCertificate")," "))}let uE=(()=>{class s{get ReadOnlyFieldType(){return Gi.t}constructor(i,a,l,D,Q,De,Qe){this.fb=i,this.errorService=a,this.dynamicAuthCacheService=l,this.toastr=D,this.translate=Q,this.certService=De,this.dynamicAuthService=Qe,this.canDeleteCert=!1,this.selectedFile=void 0,this.fileName=new To.w("")}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,Vn.$)()).subscribe({next:i=>{this.dynamicAuth=i,this.samlOptions=el(this.dynamicAuth.options),this.certificateDescription=this.samlOptions.encryptionCertificateDto?[this.samlOptions.encryptionCertificateDto]:[],this.canDeleteCert=this.samlOptions.requireEncryptedAssertions,this.buildForm(),this.subscribeToValueChanges()},error:i=>{this.errorService.handleError(i)}})}subscribeToValueChanges(){this.spResponseFormSubscription=this.spResponseForm.valueChanges.subscribe({next:i=>{this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditSpResponseComponent",this.spResponseForm.valid);var a={...this.samlOptions,requireEncryptedAssertions:this.spResponseForm.controls.requireEncryptedAssertions.value,requireSignedAssertions:this.spResponseForm.controls.requireSignedAssertions.value};const l={...this.dynamicAuth,options:JSON.stringify(a)};this.canDeleteCert=this.spResponseForm.controls.requireEncryptedAssertions.value,this.dynamicAuthCacheService.unsavedCache.next(l)}})}buildForm(){this.spResponseForm=this.fb.group({requireEncryptedAssertions:[this.samlOptions.requireEncryptedAssertions,[]],requireSignedAssertions:[this.samlOptions.requireSignedAssertions,[]]}),this.certForm=this.fb.group({selectedFile:void 0,certPassword:["",[]]})}handleFileInput(i){this.selectedFile=i.item(0)}updateEncryptionCert(){this.fileName=new To.w("");const i=this.certForm.get("certPassword").value;this.certService.verifyCertFilePassword(this.selectedFile,i,{next:a=>{this.fileName=new To.w(this.selectedFile?.name),this.dynamicAuthService.replaceEncryptionCert(this.dynamicAuth.scheme,a,i).subscribe(l=>{this.certificateDescription=[l],this.selectedFile=null,this.certForm.get("certPassword").setValue(""),this.updateEncryptionCertInCache(l)})},error:a=>{this.toastr.error(this.translate.instant("Notifications.CertInValidMsg"),this.translate.instant("Notifications.CertInValidTitle")),this.selectedFile=null,this.certForm.get("certPassword").setValue("")}})}removeEncryptionCert(){this.dynamicAuthService.removeEncryptionCert(this.dynamicAuth.scheme).subscribe(()=>{this.samlOptions.encryptionCertificateDto=null,this.certificateDescription=[],this.updateEncryptionCertInCache(null)},i=>{this.errorService.handleError(i)})}updateEncryptionCertInCache(i){var a={...this.samlOptions,encryptionCertificateDto:i};const l={...this.dynamicAuth,options:JSON.stringify(a)};this.dynamicAuthCacheService.unsavedCache.next(l)}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(g.ze),e.rXU(ne.I),e.rXU(ir.t),e.rXU(Jn.tw),e.rXU(bn.c$),e.rXU(dh.V),e.rXU(Mc))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-edit-sp-response"]],decls:17,vars:19,consts:[["addCertificateModal",""],["fileInput","","selectedFile",""],["id","editSpResponse|",1,"tw-container","tw-mx-auto"],[3,"formGroup",4,"ngIf"],[3,"delete","certificates","showSingle","deleteCertDisabled"],["addButton",""],["id","addCertButton","class","tw-btn-success","type","button",3,"click",4,"ngIf"],["id","replaceCertButton","class","tw-btn-success tw-mr-4","type","button",3,"click",4,"ngIf"],[3,"confirm","modalId","type","buttonType","title","okText"],["body",""],[3,"formGroup"],[3,"id","label","help"],[1,"tw-form-control"],["id","fileInput","type","file","name","file","accept",".pfx,.p12",1,"tw-form-file","tw-max-w-full",3,"change"],[3,"id","label","help","isLast"],["type","text","name","CertPassword","id","CertPassword","formControlName","certPassword",1,"tw-form-control"],[3,"id","isTraffic","isAlt"],["id","RequireSignedAssertions","formControlName","requireSignedAssertions","type","checkbox",1,"tw-form-switch__input"],["id","RequireEncryptedAssertions","formControlName","requireEncryptedAssertions","type","checkbox",1,"tw-form-switch__input"],["id","addCertButton","type","button",1,"tw-btn-success",3,"click"],["id","replaceCertButton","type","button",1,"tw-btn-success","tw-mr-4",3,"click"]],template:function(a,l){if(1&a){const D=e.RV6();e.j41(0,"div",2),e.DNE(1,Sy,7,13,"form",3),e.j41(2,"app-saml-cert-list",4),e.bIt("delete",function(){return e.eBV(D),e.Njj(l.removeEncryptionCert())}),e.qex(3,5),e.DNE(4,Ey,3,3,"button",6)(5,Ty,3,3,"button",7),e.bVm(),e.k0s(),e.j41(6,"app-confirmation-modal",8,0),e.bIt("confirm",function(){return e.eBV(D),e.Njj(l.updateEncryptionCert())}),e.qex(8,9),e.j41(9,"form",10)(10,"app-form-row",11)(11,"div",12)(12,"input",13,1),e.bIt("change",function(De){return e.eBV(D),e.Njj(l.handleFileInput(De.target.files))}),e.k0s()()(),e.j41(15,"app-form-row",14),e.nrm(16,"input",15),e.k0s()(),e.bVm(),e.k0s()()}2&a&&(e.R7$(),e.Y8G("ngIf",l.dynamicAuth&&l.spResponseForm),e.R7$(),e.Y8G("certificates",l.certificateDescription)("showSingle",!0)("deleteCertDisabled",l.canDeleteCert),e.R7$(2),e.Y8G("ngIf",l.certificateDescription.length<1),e.R7$(),e.Y8G("ngIf",l.certificateDescription.length>0),e.R7$(),e.Y8G("modalId","addCertificateModal")("type",null)("buttonType","success")("title","DynamicAuth.UpdateEncryptionCertificate.Title")("okText","Common.Update"),e.R7$(3),e.Y8G("formGroup",l.certForm),e.R7$(),e.Y8G("id","fileInput")("label","DynamicAuth.CertFile.Label")("help","DynamicAuth.CertFile.Help"),e.R7$(5),e.Y8G("id","CertPassword")("label","DynamicAuth.CertPassword.Label")("help","DynamicAuth.CertPassword.Help")("isLast",!0))},dependencies:[gn.bT,g.qT,g.me,g.Zm,g.BC,g.cb,g.j4,g.JD,fe.Y,Co.m,$e.B,Mf.T,bn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();const dE=["AdvancedTabs"];let Iy=(()=>{class s{constructor(){}ngOnInit(){}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-edit-sp"]],viewQuery:function(a,l){if(1&a&&e.GBs(dE,7),2&a){let D;e.mGM(D=e.lsd())&&(l.advancedTabs=D.first)}},decls:7,vars:7,consts:[[1,"tw-container","tw-mx-auto"],[3,"pillMode"],[3,"tabTitle","tabValue"],["id","editDynamicAuthSpDetails"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"app-custom-tabs",1),e.nrm(2,"app-custom-tab",2)(3,"app-custom-tab",2)(4,"app-custom-tab",2),e.k0s()(),e.j41(5,"div",3),e.nrm(6,"router-outlet"),e.k0s()),2&a&&(e.R7$(),e.Y8G("pillMode",!0),e.R7$(),e.Y8G("tabTitle","Nav.Details")("tabValue","details"),e.R7$(),e.Y8G("tabTitle","Nav.Request")("tabValue","request"),e.R7$(),e.Y8G("tabTitle","Nav.Response")("tabValue","response"))},dependencies:[bt.n3,sn.G,Cn.v],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();const hE=(s,p)=>({title:s,link:p}),Dy=s=>[s];function fE(s,p){1&s&&e.nrm(0,"app-custom-tab",3),2&s&&e.Y8G("tabTitle","Nav.Scopes")("tabValue","scopes")}function Ay(s,p){1&s&&e.nrm(0,"app-custom-tab",3),2&s&&e.Y8G("tabTitle","Nav.Advanced")("tabValue","advanced")}function pg(s,p){1&s&&e.nrm(0,"app-custom-tab",3),2&s&&e.Y8G("tabTitle","Nav.SP")("tabValue","sp")}function pE(s,p){1&s&&e.nrm(0,"app-custom-tab",3),2&s&&e.Y8G("tabTitle","Nav.IdP")("tabValue","idp")}let mE=(()=>{class s{constructor(i,a,l,D,Q,De,Qe,pt,jt,ln){this.r=i,this.route=a,this.localize=l,this.titleService=D,this.translate=Q,this.toastr=De,this.errorService=Qe,this.dynamicAuthService=pt,this.dynamicAuthCachService=jt,this.dialogService=ln,this.dynamicAuthTypes=$r,this.isFirstCall=!0}ngOnInit(){this.dynamicAuthSub=this.dynamicAuthCachService.unsavedCache$.subscribe({next:i=>{this.dynamicAuth=i;const a=this.translate.instant("DynamicAuth.Title.Generic")+" "+this.dynamicAuth.displayName+" - "+Lt.$9.SITE_TITLE;if(this.titleService.setTitle(a),this.checkSubmitEnabled(),this.dynamicAuth.type==$r.OIDC&&this.isFirstCall){var l=po(this.dynamicAuth.options);this.oldSecret=l.clientSecret,this.isFirstCall=!1}},error:i=>{this.errorService.handleError(i)}})}ngOnDestroy(){this.dynamicAuthSub.unsubscribe()}canDeactivate(){return!(this.dynamicAuthCachService.componentDirtyValidMap.size>0)||(this.dialogService.confirm(),this.dialogService.eventStream.subscribe(i=>{i&&this.dynamicAuthCachService.componentDirtyValidMap.size>0&&this.dynamicAuthCachService.componentDirtyValidMap.clear()}),this.dialogService.eventStream)}checkSubmitEnabled(){const i=[...Array.from(this.dynamicAuthCachService.componentDirtyValidMap.values())];this.saveDisabled=0===i.length||i.some(a=>!a)}mobRoute(i){this.r.navigate([i],{relativeTo:this.route})}saveDynamicAuth(){this.saveDisabled||(this.dynamicAuth.type==$r.OIDC&&this.setOidcClientSecret(),this.dynamicAuthService.updateDynamicAuth(ng(this.dynamicAuth)).subscribe({next:i=>{this.isFirstCall=!0,this.dynamicAuthCachService.unsavedCache.next(Sf(i)),this.dynamicAuthCachService.onSave(),this.toastr.success(this.translate.instant("DynamicAuth.Success.Updated"),this.translate.instant("Notifications.SuccessfullySaved")),this.checkSubmitEnabled()},error:i=>{this.errorService.handleError(i)}}))}deleteDynamicAuth(i){this.dynamicAuthService.deleteDynamicAuth(i).subscribe({next:a=>{const l=this.localize.translateRoute("/dynamic-auth");this.r.navigate([l]),this.toastr.success(`${i} ${this.translate.instant("Common.Delete.Deleted")}`,this.translate.instant("Notifications.SuccessfullyDeleted"))},error:a=>{this.errorService.handleError(a)}})}setOidcClientSecret(){var i=po(this.dynamicAuth.options);this.oldSecret==i.clientSecret&&(i.clientSecret=void 0),this.dynamicAuth.options=JSON.stringify(i)}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(bt.Ix),e.rXU(bt.nX),e.rXU(Hn.QG),e.rXU(n.hE),e.rXU(bn.c$),e.rXU(Jn.tw),e.rXU(ne.I),e.rXU(Mc),e.rXU(ir.t),e.rXU(Mo.o))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["ng-component"]],decls:24,vars:26,consts:[["deleteDynamicAuthModal",""],[3,"title","crumbs","hasTabs"],["tabs",""],[3,"tabTitle","tabValue"],[3,"tabTitle","tabValue",4,"ngIf"],["id","editDynamicAuth",1,"tw-container","tw-mx-auto"],["id","submitBtn",1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"click","disabled"],["right",""],["id","deleteBtn","type","button","data-toggle","modal",1,"tw-btn-danger","tw-mb-3",3,"click"],[3,"delete","resourceName"]],template:function(a,l){if(1&a){const D=e.RV6();e.j41(0,"app-title-bar",1),e.nI1(1,"translate"),e.nI1(2,"localize"),e.qex(3,2),e.j41(4,"app-custom-tabs"),e.nrm(5,"app-custom-tab",3),e.DNE(6,fE,1,2,"app-custom-tab",4)(7,Ay,1,2,"app-custom-tab",4)(8,pg,1,2,"app-custom-tab",4)(9,pE,1,2,"app-custom-tab",4),e.k0s(),e.bVm(),e.k0s(),e.j41(10,"div",5),e.nrm(11,"router-outlet"),e.k0s(),e.j41(12,"app-button-bar")(13,"button",6),e.bIt("click",function(){return e.eBV(D),e.Njj(l.saveDynamicAuth())}),e.j41(14,"span"),e.EFF(15),e.nI1(16,"translate"),e.k0s()(),e.qex(17,7),e.j41(18,"button",8),e.bIt("click",function(){e.eBV(D);const De=e.sdS(22);return e.Njj(De.show())}),e.EFF(19),e.nI1(20,"translate"),e.k0s(),e.bVm(),e.k0s(),e.j41(21,"app-delete-confirmation-modal",9,0),e.bIt("delete",function(){return e.eBV(D),e.Njj(l.deleteDynamicAuth(l.dynamicAuth.scheme))}),e.k0s(),e.nrm(23,"app-can-deactivate")}2&a&&(e.Y8G("title",l.dynamicAuth.displayName)("crumbs",e.eq3(24,Dy,e.l_i(21,hE,e.bMT(1,13,"Nav.DynamicAuth"),e.bMT(2,15,"/dynamic-auth"))))("hasTabs",!0),e.R7$(5),e.Y8G("tabTitle","Nav.Details")("tabValue","details"),e.R7$(),e.Y8G("ngIf",l.dynamicAuth.type==l.dynamicAuthTypes.OIDC),e.R7$(),e.Y8G("ngIf",l.dynamicAuth.type==l.dynamicAuthTypes.OIDC),e.R7$(),e.Y8G("ngIf",l.dynamicAuth.type==l.dynamicAuthTypes.SAML),e.R7$(),e.Y8G("ngIf",l.dynamicAuth.type==l.dynamicAuthTypes.SAML),e.R7$(4),e.Y8G("disabled",l.saveDisabled),e.R7$(2),e.JRh(e.bMT(16,17,"Common.SaveAll")),e.R7$(4),e.JRh(e.bMT(20,19,"Common.Delete.Title")),e.R7$(2),e.Y8G("resourceName",l.dynamicAuth.displayName))},dependencies:[bt.n3,gn.bT,sn.G,Cn.v,fa.E,qt.z,ho.z,Vo.w,bn.D9,Hn.tl],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();var Fo=u(7921);const il=s=>[s];function xf(s,p){if(1&s&&(e.j41(0,"app-form-row",4),e.nrm(1,"app-readonly",3),e.k0s()),2&s){const i=e.XpG(2);e.Y8G("id","CallbackPath")("label","DynamicAuth.CallbackPath.Label")("help","DynamicAuth.CallbackPath.Help"),e.R7$(),e.Y8G("fieldType",i.ReadOnlyFieldType.Single)("values",e.eq3(5,il,i.optionsDictionary.callbackPath))}}function kf(s,p){if(1&s&&(e.j41(0,"div",8)(1,"app-form-row",4),e.nrm(2,"app-readonly",3),e.k0s(),e.j41(3,"app-form-row",4),e.nrm(4,"app-readonly",3),e.k0s(),e.DNE(5,xf,2,7,"app-form-row",9),e.j41(6,"app-form-row",4),e.nrm(7,"app-readonly",3),e.k0s()()),2&s){const i=e.XpG();e.R7$(),e.Y8G("id","Authority")("label","DynamicAuth.Authority.Label")("help","DynamicAuth.Authority.Help"),e.R7$(),e.Y8G("fieldType",i.ReadOnlyFieldType.Single)("values",e.eq3(16,il,i.optionsDictionary.authority)),e.R7$(),e.Y8G("id","ClientId")("label","DynamicAuth.ClientId.Label")("help","DynamicAuth.ClientId.Help"),e.R7$(),e.Y8G("fieldType",i.ReadOnlyFieldType.Single)("values",e.eq3(18,il,i.optionsDictionary.clientId)),e.R7$(),e.Y8G("ngIf",i.isRskDynamicAuth),e.R7$(),e.Y8G("id","Flow")("label","DynamicAuth.Flow.Label")("help","DynamicAuth.Flow.Help"),e.R7$(),e.Y8G("fieldType",i.ReadOnlyFieldType.Single)("values",e.eq3(20,il,i.optionsDictionary.flow))}}function mg(s,p){if(1&s&&(e.j41(0,"div",10)(1,"app-form-row",11),e.nrm(2,"app-readonly",3),e.k0s(),e.j41(3,"app-form-row",4),e.nrm(4,"app-readonly",3),e.k0s(),e.j41(5,"app-form-row",12),e.nrm(6,"app-readonly",3),e.k0s()()),2&s){const i=e.XpG();e.R7$(),e.Y8G("id","SignInScheme")("label","DynamicAuth.SignInScheme.Label")("help","DynamicAuth.SignInScheme.Help"),e.R7$(),e.Y8G("fieldType",i.ReadOnlyFieldType.Single)("values",e.eq3(16,il,i.optionsDictionary.signInScheme)),e.R7$(),e.Y8G("id","SignOutScheme")("label","DynamicAuth.SignOutScheme.Label")("help","DynamicAuth.SignOutScheme.Help"),e.R7$(),e.Y8G("fieldType",i.ReadOnlyFieldType.Single)("values",e.eq3(18,il,i.optionsDictionary.signOutScheme)),e.R7$(),e.Y8G("id","TimeComparisonTolerance")("label","DynamicAuth.SAML.TimeComparisonTolerance.Label")("help","DynamicAuth.SAML.TimeComparisonTolerance.Help")("isLast",!0),e.R7$(),e.Y8G("fieldType",i.ReadOnlyFieldType.LifetimePicker)("values",e.eq3(20,il,i.optionsDictionary.timeComparisonTolerance))}}function Ry(s,p){if(1&s&&(e.j41(0,"div",13)(1,"app-form-row",12),e.nrm(2,"app-readonly",3),e.k0s()()),2&s){const i=e.XpG();e.R7$(),e.Y8G("id","ClientSecret")("label","DynamicAuth.ClientSecret.Label")("help","DynamicAuth.ClientSecret.Help")("isLast",!0),e.R7$(),e.Y8G("fieldType",i.ReadOnlyFieldType.Single)("values",e.eq3(6,il,i.optionsDictionary.clientSecret))}}let gE=(()=>{class s{get ReadOnlyFieldType(){return Gi.t}constructor(i,a,l,D){this.errorService=i,this.dynamicAuthChachService=a,this.configService=l,this.translate=D,this.dynamicAuthTypes=$r,this.snippet=js.SamlSignInSchemeCodeFrag}ngOnInit(){this.configService.getConfig().subscribe({next:i=>{this.isRskDynamicAuth=i.featureFlagOptions.dynamicAuthenticationFlag==Pa.U.Rsk},error:i=>{this.errorService.handleError(i)}}),this.dynamicAuthChachService.unsavedCache$.pipe((0,Vn.$)()).subscribe({next:i=>{switch(this.dynamicAuthType=i.type,this.dynamicAuthDictionary=new Fo.b(i),this.dynamicAuthType){case $r.OIDC:this.setOidcOptions(i.options);break;case $r.SAML:this.setSamlOptions(i.options)}},error:i=>{this.errorService.handleError(i)}})}setOidcOptions(i){let a={...po(i)};a.flow=this.translate.instant("DynamicAuth.Flows."+(a.usePkce?Cl.AuthCodePlusPkce:Cl.AuthCode)),this.optionsDictionary=new Fo.b(a)}setSamlOptions(i){const a=el(i);this.optionsDictionary=new Fo.b(a)}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(ne.I),e.rXU(ir.t),e.rXU(zs.w),e.rXU(bn.c$))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-view-details"]],decls:11,vars:23,consts:[["id","viewDynamicAuthDetails"],["id","dynamicAuthDetails"],[3,"id","label"],[3,"fieldType","values"],[3,"id","label","help"],["id","connectionDetails",4,"ngIf"],["id","signInSchemeDetails",4,"ngIf"],["id","secretDetails",4,"ngIf"],["id","connectionDetails"],[3,"id","label","help",4,"ngIf"],["id","signInSchemeDetails"],[1,"tw-form-typeahead",3,"id","label","help"],[3,"id","label","help","isLast"],["id","secretDetails"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"app-form-row",2),e.nrm(3,"app-readonly",3),e.k0s(),e.j41(4,"app-form-row",4),e.nrm(5,"app-readonly",3),e.k0s(),e.j41(6,"app-form-row",4),e.nrm(7,"app-readonly",3),e.k0s()(),e.DNE(8,kf,8,22,"div",5)(9,mg,7,22,"div",6)(10,Ry,3,8,"div",7),e.k0s()),2&a&&(e.R7$(2),e.Y8G("id","Enabled")("label","Common.Enabled"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(17,il,l.dynamicAuthDictionary.enabled)),e.R7$(),e.Y8G("id","Scheme")("label","DynamicAuth.Scheme.Label")("help","DynamicAuth.Scheme.Help"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(19,il,l.dynamicAuthDictionary.scheme)),e.R7$(),e.Y8G("id","DisplayName")("label","DynamicAuth.DisplayName.Label")("help","DynamicAuth.DisplayName.Help"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(21,il,l.dynamicAuthDictionary.displayName)),e.R7$(),e.Y8G("ngIf",l.dynamicAuthType==l.dynamicAuthTypes.OIDC),e.R7$(),e.Y8G("ngIf",l.isRskDynamicAuth||l.dynamicAuthType==l.dynamicAuthTypes.SAML),e.R7$(),e.Y8G("ngIf",l.dynamicAuthType==l.dynamicAuthTypes.OIDC))},dependencies:[gn.bT,fe.Y,zr.O],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();const My=s=>[s];let vE=(()=>{class s{get ReadOnlyFieldType(){return Gi.t}constructor(i){this.dynamicAuthCacheService=i}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,Vn.$)()).subscribe({next:i=>{var a=el(i.options);this.idpAdvancedDictionary=new Fo.b({allowIdpInitiatedSso:a.allowIdpInitiatedSso,idPInitiatedSsoCompletionPath:a.idPInitiatedSsoCompletionPath})}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(ir.t))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-view-idp-advanced"]],decls:5,vars:15,consts:[["id","viewIdpAdvanced"],[3,"id","label","help"],[3,"fieldType","values"],[3,"id","label","help","isLast"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"app-form-row",1),e.nrm(2,"app-readonly",2),e.k0s(),e.j41(3,"app-form-row",3),e.nrm(4,"app-readonly",2),e.k0s()()),2&a&&(e.R7$(),e.Y8G("id","AllowIdpInitiatedSso")("label","DynamicAuth.SAML.AllowIdpInitiatedSso.Label")("help","DynamicAuth.SAML.AllowIdpInitiatedSso.Help"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(11,My,l.idpAdvancedDictionary.allowIdpInitiatedSso)),e.R7$(),e.Y8G("id","IdPInitiatedSsoCompletionPath")("label","DynamicAuth.SAML.IdPInitiatedSsoCompletionPath.Label")("help","DynamicAuth.SAML.IdPInitiatedSsoCompletionPath.Help")("isLast",!0),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(13,My,l.idpAdvancedDictionary.idPInitiatedSsoCompletionPath)))},dependencies:[fe.Y,zr.O],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();const qd=s=>[s];let Nf=(()=>{class s{get ReadOnlyFieldType(){return Gi.t}constructor(i){this.dynamicAuthCacheService=i}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,Vn.$)()).subscribe({next:i=>{var a=el(i.options);this.idpDetailsDictionary=new Fo.b({requireValidMetadataSignature:a.requireValidMetadataSignature,idpMetadataAddr:a.idpMetadataAddress})}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(ir.t))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-view-idp-details"]],decls:5,vars:15,consts:[["id","viewIdpDetails"],[3,"id","label","help"],[3,"fieldType","values"],[3,"id","label","help","isLast"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"app-form-row",1),e.nrm(2,"app-readonly",2),e.k0s(),e.j41(3,"app-form-row",3),e.nrm(4,"app-readonly",2),e.k0s()()),2&a&&(e.R7$(),e.Y8G("id","RequireValidMetadataSignature")("label","DynamicAuth.SAML.RequireValidMetadataSignature.Label")("help","DynamicAuth.SAML.RequireValidMetadataSignature.Help"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(11,qd,l.idpDetailsDictionary.requireValidMetadataSignature)),e.R7$(),e.Y8G("id","IdpMetadataAddress")("label","DynamicAuth.SAML.IdpMetadataAddress.Label")("help","DynamicAuth.SAML.IdpMetadataAddress.Help")("isLast",!0),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(13,qd,l.idpDetailsDictionary.idpMetadataAddr)))},dependencies:[fe.Y,zr.O],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();const gg=["AdvancedTabs"];let xy=(()=>{class s{constructor(){}ngOnInit(){}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-view-idp"]],viewQuery:function(a,l){if(1&a&&e.GBs(gg,7),2&a){let D;e.mGM(D=e.lsd())&&(l.advancedTabs=D.first)}},decls:6,vars:5,consts:[[1,"tw-container","tw-mx-auto"],[3,"pillMode"],[3,"tabTitle","tabValue"],["id","viewDynamicAuthIdpDetails"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"app-custom-tabs",1),e.nrm(2,"app-custom-tab",2)(3,"app-custom-tab",2),e.k0s()(),e.j41(4,"div",3),e.nrm(5,"router-outlet"),e.k0s()),2&a&&(e.R7$(),e.Y8G("pillMode",!0),e.R7$(),e.Y8G("tabTitle","Nav.Details")("tabValue","details"),e.R7$(),e.Y8G("tabTitle","Nav.Advanced")("tabValue","advanced"))},dependencies:[bt.n3,sn.G,Cn.v],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();function yE(s,p){if(1&s&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"slice"),e.k0s()),2&s){const i=p.item;e.R7$(),e.JRh(i.length>20?e.brH(2,1,i,0,20)+"...":i)}}function _E(s,p){1&s&&(e.j41(0,"div",5)(1,"div"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&s&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"UserDetails.NoClaimsMessage")," "))}function ky(s,p){if(1&s&&(e.j41(0,"tr")(1,"td",11)(2,"span",12),e.EFF(3),e.k0s()()()),2&s){const i=p.$implicit;e.R7$(3),e.JRh(i)}}function vg(s,p){if(1&s&&(e.j41(0,"table",6)(1,"thead",7)(2,"th",8)(3,"span",9),e.EFF(4),e.nI1(5,"translate"),e.k0s()()(),e.j41(6,"tbody"),e.DNE(7,ky,4,1,"tr",10),e.k0s()()),2&s){const i=e.XpG();e.R7$(4),e.JRh(e.bMT(5,2,"Common.Scope")),e.R7$(3),e.Y8G("ngForOf",i.oidcOptions.scope)}}let yg=(()=>{class s{constructor(i,a){this.errorService=i,this.dynamicAuthChachService=a,this.newScope="",this.dynamicAuthTypes=$r,this.isDeleting=!1}ngOnInit(){this.dynamicAuthChachService.unsavedCache$.pipe((0,Vn.$)()).subscribe({next:i=>{this.dynamicAuth=i,this.oidcOptions=po(this.dynamicAuth.options)},error:i=>{this.errorService.handleError(i)}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(ne.I),e.rXU(ir.t))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-view-scopes"]],decls:6,vars:3,consts:[["customItemTemplate",""],["id","viewScopes"],[1,"tw-mt-6",3,"id"],["class","tw-alert","role","alert",4,"ngIf"],["class","datatable",4,"ngIf"],["role","alert",1,"tw-alert"],[1,"datatable"],[1,""],[1,"tw-w-full"],[1,"sr-only"],[4,"ngFor","ngForOf"],[1,"tw-table-cell","tw-w-full"],[1,"tw-block","tw-truncate"]],template:function(a,l){1&a&&(e.DNE(0,yE,3,5,"ng-template",null,0,e.C5r),e.j41(2,"div",1)(3,"div",2),e.DNE(4,_E,4,3,"div",3)(5,vg,8,4,"table",4),e.k0s()()),2&a&&(e.R7$(3),e.Y8G("id","Scopes"),e.R7$(),e.Y8G("ngIf",l.oidcOptions.scope.length<=0),e.R7$(),e.Y8G("ngIf",l.oidcOptions.scope.length>0))},dependencies:[gn.Sq,gn.bT,gn.P9,bn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();const El=s=>[s];let bE=(()=>{class s{get ReadOnlyFieldType(){return Gi.t}constructor(i){this.dynamicAuthCacheService=i}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,Vn.$)()).subscribe({next:i=>{var a=el(i.options);this.spDetailsDictionary=new Fo.b({entityId:a.spEntityId,metaDataAddr:a.spMetadataAddress,callbackPath:a.callbackPath,signOutCallbackPath:a.signedOutCallbackPath})}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(ir.t))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-view-sp-details"]],decls:9,vars:29,consts:[["id","viewSpDetails"],[3,"id","label","help"],[3,"fieldType","values"],[3,"id","label","help","isLast"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"app-form-row",1),e.nrm(2,"app-readonly",2),e.k0s(),e.j41(3,"app-form-row",1),e.nrm(4,"app-readonly",2),e.k0s(),e.j41(5,"app-form-row",1),e.nrm(6,"app-readonly",2),e.k0s(),e.j41(7,"app-form-row",3),e.nrm(8,"app-readonly",2),e.k0s()()),2&a&&(e.R7$(),e.Y8G("id","SPEntityID")("label","DynamicAuth.SPEntityID.Label")("help","DynamicAuth.SPEntityID.Help"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(21,El,l.spDetailsDictionary.entityId)),e.R7$(),e.Y8G("id","SpMetadataAddress")("label","DynamicAuth.SpMetadataAddress.Label")("help","DynamicAuth.SpMetadataAddress.Help"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(23,El,l.spDetailsDictionary.metaDataAddr)),e.R7$(),e.Y8G("id","CallbackPath")("label","DynamicAuth.CallbackPath.Label")("help","DynamicAuth.CallbackPath.Help"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(25,El,l.spDetailsDictionary.callbackPath)),e.R7$(),e.Y8G("id","SignedOutCallbackPath")("label","DynamicAuth.SignedOutCallbackPath.Label")("help","DynamicAuth.SignedOutCallbackPath.Help")("isLast",!0),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(27,El,l.spDetailsDictionary.signOutCallbackPath)))},dependencies:[fe.Y,zr.O],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();const CE=s=>[s];let Yu=(()=>{class s{get ReadOnlyFieldType(){return Gi.t}constructor(i){this.dynamicAuthCacheService=i}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,Vn.$)()).subscribe({next:i=>{var a=el(i.options);this.spRequestDictionary=new Fo.b({signAuthenticationRequests:a.signAuthenticationRequests}),this.certificateDescription=a.signingCertificateDto?[a.signingCertificateDto]:[]}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(ir.t))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-view-sp-request"]],decls:4,vars:10,consts:[["id","viewSpRequest"],[3,"id","label","help"],[3,"fieldType","values"],[3,"certificates","showSingle","isReadOnly"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"app-form-row",1),e.nrm(2,"app-readonly",2),e.k0s(),e.nrm(3,"app-saml-cert-list",3),e.k0s()),2&a&&(e.R7$(),e.Y8G("id","SignAuthenticationRequests")("label","DynamicAuth.SAML.SignAuthenticationRequests.Label")("help","DynamicAuth.SAML.SignAuthenticationRequests.Help"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(8,CE,l.spRequestDictionary.signAuthenticationRequests)),e.R7$(),e.Y8G("certificates",l.certificateDescription)("showSingle",!0)("isReadOnly",!0))},dependencies:[fe.Y,Mf.T,zr.O],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();const wE=s=>[s];let _g=(()=>{class s{get ReadOnlyFieldType(){return Gi.t}constructor(i){this.dynamicAuthCacheService=i}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,Vn.$)()).subscribe({next:i=>{var a=el(i.options);this.spResponseDictionary=new Fo.b({requireSignedAssertions:a.requireSignedAssertions,requireEncryptedAssertions:a.requireEncryptedAssertions}),this.certificateDescription=a.encryptionCertificateDto?[a.encryptionCertificateDto]:[]}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(ir.t))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-view-sp-response"]],decls:6,vars:17,consts:[["id","viewSpResponse"],[3,"id","label","help"],[3,"fieldType","values"],[3,"certificates","showSingle","isReadOnly"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"app-form-row",1),e.nrm(2,"app-readonly",2),e.k0s(),e.j41(3,"app-form-row",1),e.nrm(4,"app-readonly",2),e.k0s(),e.nrm(5,"app-saml-cert-list",3),e.k0s()),2&a&&(e.R7$(),e.Y8G("id","RequireSignedAssertions")("label","DynamicAuth.SAML.RequireSignedAssertions.Label")("help","DynamicAuth.SAML.RequireSignedAssertions.Help"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(13,wE,l.spResponseDictionary.requireSignedAssertions)),e.R7$(),e.Y8G("id","RequireEncryptedAssertions")("label","DynamicAuth.SAML.RequireEncryptedAssertions.Label")("help","DynamicAuth.SAML.RequireEncryptedAssertions.Help"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(15,wE,l.spResponseDictionary.requireEncryptedAssertions)),e.R7$(),e.Y8G("certificates",l.certificateDescription)("showSingle",!0)("isReadOnly",!0))},dependencies:[fe.Y,Mf.T,zr.O],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();const TD=["AdvancedTabs"];let Ny=(()=>{class s{constructor(){}ngOnInit(){}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-view-sp"]],viewQuery:function(a,l){if(1&a&&e.GBs(TD,7),2&a){let D;e.mGM(D=e.lsd())&&(l.advancedTabs=D.first)}},decls:7,vars:7,consts:[[1,"tw-container","tw-mx-auto"],[3,"pillMode"],[3,"tabTitle","tabValue"],["id","viewDynamicAuthSpDetails"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"app-custom-tabs",1),e.nrm(2,"app-custom-tab",2)(3,"app-custom-tab",2)(4,"app-custom-tab",2),e.k0s()(),e.j41(5,"div",3),e.nrm(6,"router-outlet"),e.k0s()),2&a&&(e.R7$(),e.Y8G("pillMode",!0),e.R7$(),e.Y8G("tabTitle","Nav.Details")("tabValue","details"),e.R7$(),e.Y8G("tabTitle","Nav.Request")("tabValue","request"),e.R7$(),e.Y8G("tabTitle","Nav.Response")("tabValue","response"))},dependencies:[bt.n3,sn.G,Cn.v],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();const Oy=(s,p)=>({title:s,link:p}),ID=s=>[s],Tl=()=>["active"];function SE(s,p){1&s&&(e.j41(0,"option",19),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Nav.Scopes")))}function EE(s,p){1&s&&(e.j41(0,"option",20),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Nav.Advanced")))}function TE(s,p){1&s&&(e.j41(0,"option",21),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Nav.SP")))}function Xu(s,p){1&s&&(e.j41(0,"option",22),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Nav.IdP")))}function IE(s,p){1&s&&(e.j41(0,"button",23),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.Y8G("routerLinkActive",e.lJ4(4,Tl)),e.R7$(),e.JRh(e.bMT(2,2,"Nav.Scopes")))}function Of(s,p){1&s&&(e.j41(0,"button",24),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.Y8G("routerLinkActive",e.lJ4(4,Tl)),e.R7$(),e.JRh(e.bMT(2,2,"Nav.Advanced")))}function Ff(s,p){1&s&&(e.j41(0,"button",25),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.Y8G("routerLinkActive",e.lJ4(4,Tl)),e.R7$(),e.JRh(e.bMT(2,2,"Nav.SP")))}function ca(s,p){1&s&&(e.j41(0,"button",26),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.Y8G("routerLinkActive",e.lJ4(4,Tl)),e.R7$(),e.JRh(e.bMT(2,2,"Nav.IdP")))}let Fy=(()=>{class s{constructor(i,a,l,D,Q,De){this.r=i,this.route=a,this.titleService=l,this.translate=D,this.errorService=Q,this.dynamicAuthCachService=De,this.dynamicAuthTypes=$r}ngOnInit(){this.dynamicAuthSub=this.dynamicAuthCachService.unsavedCache$.pipe((0,Vn.$)()).subscribe({next:i=>{this.dynamicAuth=i;const a=this.translate.instant("DynamicAuth.Title")+" "+this.dynamicAuth.displayName+" - "+Lt.$9.SITE_TITLE;this.titleService.setTitle(a)},error:i=>{this.errorService.handleError(i)}})}mobRoute(i){this.r.navigate([i],{relativeTo:this.route})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(bt.Ix),e.rXU(bt.nX),e.rXU(n.hE),e.rXU(bn.c$),e.rXU(ne.I),e.rXU(ir.t))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["ng-component"]],decls:33,vars:36,consts:[[3,"title","crumbs","hasTabs","isReadOnly","isReserved"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","details"],["value","scopes",4,"ngIf"],["value","advanced",4,"ngIf"],["value","sp",4,"ngIf"],["value","idp",4,"ngIf"],["role","tablist",1,"tabs","tw-hidden","md:tw-flex"],[1,"tabs__item"],["type","button","routerLink","details","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["class","tabs__link","type","button","routerLink","scopes","role","tab","aria-selected","false",3,"routerLinkActive",4,"ngIf"],["class","tabs__link","type","button","routerLink","advanced","role","tab","aria-selected","false",3,"routerLinkActive",4,"ngIf"],["class","tabs__link","type","button","routerLink","sp","role","tab","aria-selected","false",3,"routerLinkActive",4,"ngIf"],["class","tabs__link","type","button","routerLink","idp","role","tab","aria-selected","false",3,"routerLinkActive",4,"ngIf"],["id","viewDynamicAuth",1,"tw-container","tw-mx-auto"],["value","scopes"],["value","advanced"],["value","sp"],["value","idp"],["type","button","routerLink","scopes","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","advanced","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","sp","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","idp","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"]],template:function(a,l){1&a&&(e.j41(0,"app-title-bar",0),e.nI1(1,"translate"),e.nI1(2,"localize"),e.qex(3,1),e.j41(4,"div",2)(5,"label",3),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"div",4)(9,"select",5),e.bIt("change",function(Q){return l.mobRoute(Q.target.value)}),e.j41(10,"option",6),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.DNE(13,SE,3,3,"option",7)(14,EE,3,3,"option",8)(15,TE,3,3,"option",9)(16,Xu,3,3,"option",10),e.k0s()()(),e.j41(17,"ul",11),e.nI1(18,"translate"),e.j41(19,"li",12)(20,"button",13),e.EFF(21),e.nI1(22,"translate"),e.k0s()(),e.j41(23,"li",12),e.DNE(24,IE,3,5,"button",14),e.k0s(),e.j41(25,"li",12),e.DNE(26,Of,3,5,"button",15),e.k0s(),e.j41(27,"li",12),e.DNE(28,Ff,3,5,"button",16),e.k0s(),e.j41(29,"li",12),e.DNE(30,ca,3,5,"button",17),e.k0s()(),e.bVm(),e.k0s(),e.j41(31,"div",18),e.nrm(32,"router-outlet"),e.k0s()),2&a&&(e.Y8G("title",l.dynamicAuth.displayName)("crumbs",e.eq3(33,ID,e.l_i(30,Oy,e.bMT(1,18,"Nav.DynamicAuth"),e.bMT(2,20,"/dynamic-auth"))))("hasTabs",!0)("isReadOnly",!0)("isReserved",l.dynamicAuth.nonEditable),e.R7$(6),e.JRh(e.bMT(7,22,"Nav.SubMenu")),e.R7$(5),e.JRh(e.bMT(12,24,"Nav.Details")),e.R7$(2),e.Y8G("ngIf",l.dynamicAuth.type==l.dynamicAuthTypes.OIDC),e.R7$(),e.Y8G("ngIf",l.dynamicAuth.type==l.dynamicAuthTypes.OIDC),e.R7$(),e.Y8G("ngIf",l.dynamicAuth.type==l.dynamicAuthTypes.SAML),e.R7$(),e.Y8G("ngIf",l.dynamicAuth.type==l.dynamicAuthTypes.SAML),e.R7$(),e.BMQ("aria-label",e.bMT(18,26,"Nav.SubMenu")),e.R7$(3),e.Y8G("routerLinkActive",e.lJ4(35,Tl)),e.R7$(),e.JRh(e.bMT(22,28,"Nav.Details")),e.R7$(3),e.Y8G("ngIf",l.dynamicAuth.type==l.dynamicAuthTypes.OIDC),e.R7$(2),e.Y8G("ngIf",l.dynamicAuth.type==l.dynamicAuthTypes.OIDC),e.R7$(2),e.Y8G("ngIf",l.dynamicAuth.type==l.dynamicAuthTypes.SAML),e.R7$(2),e.Y8G("ngIf",l.dynamicAuth.type==l.dynamicAuthTypes.SAML))},dependencies:[bt.n3,bt.Wk,bt.wQ,gn.bT,g.xH,g.y7,qt.z,bn.D9,Hn.tl],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})(),Pf=(()=>{class s{constructor(i,a){this.router=i,this.config=a}canActivate(i,a){return this.config.getConfig().pipe((0,Vn.$)(),(0,yi.T)(l=>l?.featureFlagOptions?.dynamicAuthenticationFlag!=Pa.U.Disabled||this.router.parseUrl("/resourcenotfound/dynamic-auth")))}static{this.\u0275fac=function(a){return new(a||s)(e.KVO(bt.Ix),e.KVO(zs.w))}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();function DE(s,p){1&s&&(e.j41(0,"app-form-row",3)(1,"app-form-toggle",4),e.nrm(2,"input",7),e.k0s()()),2&s&&(e.Y8G("id","MapInboundClaims")("label","DynamicAuth.MapInboundClaims.Label")("help","DynamicAuth.MapInboundClaims.Help")("isLast",!0),e.R7$(),e.Y8G("id","MapInboundClaims")("isTraffic",!0)("isAlt",!1))}function Py(s,p){if(1&s&&(e.j41(0,"form",2)(1,"app-form-row",3)(2,"app-form-toggle",4),e.nrm(3,"input",5),e.k0s()(),e.DNE(4,DE,3,7,"app-form-row",6),e.k0s()),2&s){const i=e.XpG();e.Y8G("formGroup",i.form),e.R7$(),e.Y8G("id","GetClaimsFromUserInfoEndpoint")("label","DynamicAuth.GetClaimsFromUserInfoEndpoint.Label")("help","DynamicAuth.GetClaimsFromUserInfoEndpoint.Help")("isLast",!i.isRskDynamicAuth),e.R7$(),e.Y8G("id","GetClaimsFromUserInfoEndpoint")("isTraffic",!0)("isAlt",!1),e.R7$(2),e.Y8G("ngIf",i.isRskDynamicAuth)}}let By=(()=>{class s{get ReadOnlyFieldType(){return Gi.t}constructor(i,a,l,D){this.fb=i,this.configService=a,this.dynamicAuthCache=l,this.errorService=D}ngOnInit(){this.configService.getConfig().pipe((0,Vn.$)()).subscribe({next:i=>{this.isRskDynamicAuth=i.featureFlagOptions.dynamicAuthenticationFlag==Pa.U.Rsk}}),this.dynamicAuthCache.unsavedCache$.pipe((0,Vn.$)()).subscribe({next:i=>{this.dynamicAuth=i,this.oidcOptions=po(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges()},error:i=>{this.errorService.handleError(i)}})}buildForm(){let i={getClaimsFromUserInfoEndpoint:[this.oidcOptions.getClaimsFromUserInfoEndpoint,[]]};this.isRskDynamicAuth&&(i.mapInboundClaims=[this.oidcOptions.mapInboundClaims,[]]),this.form=this.fb.group(i)}subscribeToValueChanges(){this.form.valueChanges.subscribe({next:i=>{let a={...this.oidcOptions,getClaimsFromUserInfoEndpoint:this.form.get("getClaimsFromUserInfoEndpoint").value};this.isRskDynamicAuth&&(a.mapInboundClaims=this.form.get("mapInboundClaims").value),this.dynamicAuthCache.componentDirtyValidMap.set("DynamicAuthEditAdvancedComponent",this.form.valid),this.dynamicAuthCache.unsavedCache.next({...this.dynamicAuth,options:JSON.stringify(a)})}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(g.ze),e.rXU(zs.w),e.rXU(ir.t),e.rXU(ne.I))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-claims-edit-details"]],decls:2,vars:1,consts:[["id","editDynamicAuthClaims"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label","help","isLast"],[3,"id","isTraffic","isAlt"],["id","GetClaimsFromUserInfoEndpoint","formControlName","getClaimsFromUserInfoEndpoint","type","checkbox",1,"tw-form-switch__input"],[3,"id","label","help","isLast",4,"ngIf"],["id","MapInboundClaims","formControlName","mapInboundClaims","type","checkbox",1,"tw-form-switch__input"]],template:function(a,l){1&a&&(e.j41(0,"div",0),e.DNE(1,Py,5,9,"form",1),e.k0s()),2&a&&(e.R7$(),e.Y8G("ngIf",l.form))},dependencies:[gn.bT,g.qT,g.Zm,g.BC,g.cb,g.j4,g.JD,fe.Y,Co.m],encapsulation:2})}}return s})();function Ly(s,p){if(1&s&&(e.j41(0,"form",2)(1,"app-form-row",3)(2,"app-form-toggle",4),e.nrm(3,"input",5),e.k0s()(),e.j41(4,"app-form-row",6)(5,"app-form-toggle",4),e.nrm(6,"input",7),e.k0s()()()),2&s){const i=e.XpG();e.Y8G("formGroup",i.form),e.R7$(),e.Y8G("id","SaveTokens")("label","DynamicAuth.SaveTokens.Label")("help","DynamicAuth.SaveTokens.Help"),e.R7$(),e.Y8G("id","SaveTokens")("isTraffic",!0)("isAlt",!1),e.R7$(2),e.Y8G("id","UseTokenLifetime")("label","DynamicAuth.UseTokenLifetime.Label")("help","DynamicAuth.UseTokenLifetime.Help")("isLast",!0),e.R7$(),e.Y8G("id","UseTokenLifetime")("isTraffic",!0)("isAlt",!1)}}let Uy=(()=>{class s{get ReadOnlyFieldType(){return Gi.t}constructor(i,a,l){this.fb=i,this.dynamicAuthCache=a,this.errorService=l}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,Vn.$)()).subscribe({next:i=>{this.dynamicAuth=i,this.oidcOptions=po(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges()},error:i=>{this.errorService.handleError(i)}})}buildForm(){this.form=this.fb.group({saveTokens:[this.oidcOptions.saveTokens,[]],useTokenLifetime:[this.oidcOptions.useTokenLifetime,[]]})}subscribeToValueChanges(){this.form.valueChanges.subscribe({next:i=>{let a={...this.oidcOptions,saveTokens:this.form.get("saveTokens").value,useTokenLifetime:this.form.get("useTokenLifetime").value};this.dynamicAuthCache.componentDirtyValidMap.set("DynamicAuthEditAdvancedComponent",this.form.valid),this.dynamicAuthCache.unsavedCache.next({...this.dynamicAuth,options:JSON.stringify(a)})}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(g.ze),e.rXU(ir.t),e.rXU(ne.I))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-tokens-edit-details"]],decls:2,vars:1,consts:[["id","editDynamicAuthTokens"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label","help"],[3,"id","isTraffic","isAlt"],["id","SaveTokens","formControlName","saveTokens","type","checkbox",1,"tw-form-switch__input"],[3,"id","label","help","isLast"],["id","UseTokenLifetime","formControlName","useTokenLifetime","type","checkbox",1,"tw-form-switch__input"]],template:function(a,l){1&a&&(e.j41(0,"div",0),e.DNE(1,Ly,7,14,"form",1),e.k0s()),2&a&&(e.R7$(),e.Y8G("ngIf",l.form))},dependencies:[gn.bT,g.qT,g.Zm,g.BC,g.cb,g.j4,g.JD,fe.Y,Co.m],encapsulation:2})}}return s})();function AE(s,p){if(1&s&&(e.j41(0,"form",2)(1,"app-form-row",3)(2,"app-form-toggle",4),e.nrm(3,"input",5),e.k0s()(),e.j41(4,"app-form-row",6),e.nrm(5,"app-lifetime-picker",7),e.k0s()()),2&s){const i=e.XpG();e.Y8G("formGroup",i.form),e.R7$(),e.Y8G("id","RefreshOnIssuerKeyNotFound")("label","DynamicAuth.RefreshOnIssuerKeyNotFound.Label")("help","DynamicAuth.RefreshOnIssuerKeyNotFound.Help"),e.R7$(),e.Y8G("id","RefreshOnIssuerKeyNotFound")("isTraffic",!0)("isAlt",!1),e.R7$(2),e.Y8G("id","MetadataRefreshInterval")("label","DynamicAuth.MetadataRefreshInterval.Label")("help","DynamicAuth.MetadataRefreshInterval.Help")("isLast",!0),e.R7$(),e.Y8G("buttons",i.metadataRefreshIntervalButtons)}}let RE=(()=>{class s{get ReadOnlyFieldType(){return Gi.t}constructor(i,a,l){this.fb=i,this.dynamicAuthCache=a,this.errorService=l,this.setButtonModels()}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,Vn.$)()).subscribe({next:i=>{this.dynamicAuth=i,this.oidcOptions=po(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges()},error:i=>{this.errorService.handleError(i)}})}buildForm(){this.form=this.fb.group({refreshOnIssuerKeyNotFound:[this.oidcOptions.refreshMetadataOnIssuerKeyNotFound],metadataRefreshInterval:[this.oidcOptions.metadataRefreshInterval,[g.k0.min(300)]]})}subscribeToValueChanges(){this.form.valueChanges.subscribe({next:i=>{let a={...this.oidcOptions,refreshMetadataOnIssuerKeyNotFound:this.form.get("refreshOnIssuerKeyNotFound").value,metadataRefreshInterval:this.form.get("metadataRefreshInterval").value};this.dynamicAuthCache.componentDirtyValidMap.set("DynamicAuthEditAdvancedComponent",this.form.valid),this.dynamicAuthCache.unsavedCache.next({...this.dynamicAuth,options:JSON.stringify(a)})}})}setButtonModels(){this.metadataRefreshIntervalButtons=[{duration:1,unit:Oc.u.Hour},{duration:12,unit:Oc.u.Hours},{duration:1,unit:Oc.u.Day}]}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(g.ze),e.rXU(ir.t),e.rXU(ne.I))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-metadata-edit-details"]],decls:2,vars:1,consts:[["id","editDynamicAuthMetadata"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label","help"],[3,"id","isTraffic","isAlt"],["id","RefreshOnIssuerKeyNotFound","formControlName","refreshOnIssuerKeyNotFound","type","checkbox",1,"tw-form-switch__input"],[3,"id","label","help","isLast"],["id","MetadataRefreshInterval","formControlName","metadataRefreshInterval",3,"buttons"]],template:function(a,l){1&a&&(e.j41(0,"div",0),e.DNE(1,AE,6,12,"form",1),e.k0s()),2&a&&(e.R7$(),e.Y8G("ngIf",l.form))},dependencies:[gn.bT,g.qT,g.Zm,g.BC,g.cb,g.j4,g.JD,Af.T,fe.Y,Co.m],encapsulation:2})}}return s})();function ME(s,p){if(1&s&&(e.j41(0,"form",2)(1,"app-form-row",3)(2,"app-form-toggle",4),e.nrm(3,"input",5),e.k0s()(),e.j41(4,"app-form-row",6)(5,"app-form-toggle",4),e.nrm(6,"input",7),e.k0s()()()),2&s){const i=e.XpG();e.Y8G("formGroup",i.form),e.R7$(),e.Y8G("id","SkipUnrecognizedRequests")("label","DynamicAuth.SkipUnrecognizedRequests.Label")("help","DynamicAuth.SkipUnrecognizedRequests.Help"),e.R7$(),e.Y8G("id","SkipUnrecognizedRequests")("isTraffic",!0)("isAlt",!1),e.R7$(2),e.Y8G("id","DisableTelemetry")("label","DynamicAuth.DisableTelemetry.Label")("help","DynamicAuth.DisableTelemetry.Help")("isLast",!0),e.R7$(),e.Y8G("id","DisableTelemetry")("isTraffic",!0)("isAlt",!1)}}let eh=(()=>{class s{get ReadOnlyFieldType(){return Gi.t}constructor(i,a,l){this.fb=i,this.dynamicAuthCache=a,this.errorService=l}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,Vn.$)()).subscribe({next:i=>{this.dynamicAuth=i,this.oidcOptions=po(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges()},error:i=>{this.errorService.handleError(i)}})}buildForm(){this.form=this.fb.group({skipUnrecognizedRequests:[this.oidcOptions.skipUnrecognizedRequests,[]],disableTelemetry:[this.oidcOptions.disableTelemetry,[]]})}subscribeToValueChanges(){this.form.valueChanges.subscribe({next:i=>{let a={...this.oidcOptions,skipUnrecognizedRequests:this.form.get("skipUnrecognizedRequests").value,disableTelemetry:this.form.get("disableTelemetry").value};this.dynamicAuthCache.componentDirtyValidMap.set("DynamicAuthEditAdvancedComponent",this.form.valid),this.dynamicAuthCache.unsavedCache.next({...this.dynamicAuth,options:JSON.stringify(a)})}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(g.ze),e.rXU(ir.t),e.rXU(ne.I))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-other-edit-details"]],decls:2,vars:1,consts:[["id","editDynamicAuthOther"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label","help"],[3,"id","isTraffic","isAlt"],["id","SkipUnrecognizedRequests","formControlName","skipUnrecognizedRequests","type","checkbox",1,"tw-form-switch__input"],[3,"id","label","help","isLast"],["id","DisableTelemetry","formControlName","disableTelemetry","type","checkbox",1,"tw-form-switch__input"]],template:function(a,l){1&a&&(e.j41(0,"div",0),e.DNE(1,ME,7,14,"form",1),e.k0s()),2&a&&(e.R7$(),e.Y8G("ngIf",l.form))},dependencies:[gn.bT,g.qT,g.Zm,g.BC,g.cb,g.j4,g.JD,fe.Y,Co.m],encapsulation:2})}}return s})();function xE(s,p){1&s&&e.nrm(0,"app-custom-tab",2),2&s&&e.Y8G("tabTitle","Common.Request")("tabValue","request")}function kE(s,p){1&s&&e.nrm(0,"app-custom-tab",2),2&s&&e.Y8G("tabTitle","Common.SignOut")("tabValue","signOut")}function NE(s,p){1&s&&e.nrm(0,"app-custom-tab",2),2&s&&e.Y8G("tabTitle","Common.Metadata")("tabValue","metadata")}function Bf(s,p){1&s&&e.nrm(0,"app-custom-tab",2),2&s&&e.Y8G("tabTitle","Common.Tokens")("tabValue","tokens")}function Vy(s,p){1&s&&e.nrm(0,"app-custom-tab",2),2&s&&e.Y8G("tabTitle","Common.Other")("tabValue","other")}let bg=(()=>{class s{constructor(i){this.configService=i}ngOnInit(){this.configService.getConfig().subscribe({next:i=>{this.isRskDynamicAuth=i.featureFlagOptions.dynamicAuthenticationFlag==Pa.U.Rsk}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(zs.w))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-advanced"]],decls:9,vars:9,consts:[[3,"pillMode","hidden"],[3,"tabTitle","tabValue",4,"ngIf"],[3,"tabTitle","tabValue"],["id","dynamicAuthAdvanced"]],template:function(a,l){1&a&&(e.j41(0,"app-custom-tabs",0),e.DNE(1,xE,1,2,"app-custom-tab",1),e.nrm(2,"app-custom-tab",2),e.DNE(3,kE,1,2,"app-custom-tab",1)(4,NE,1,2,"app-custom-tab",1)(5,Bf,1,2,"app-custom-tab",1)(6,Vy,1,2,"app-custom-tab",1),e.k0s(),e.j41(7,"div",3),e.nrm(8,"router-outlet"),e.k0s()),2&a&&(e.Y8G("pillMode",!0)("hidden",!l.isRskDynamicAuth),e.R7$(),e.Y8G("ngIf",l.isRskDynamicAuth),e.R7$(),e.Y8G("tabTitle","Common.Claims")("tabValue","claims"),e.R7$(),e.Y8G("ngIf",l.isRskDynamicAuth),e.R7$(),e.Y8G("ngIf",l.isRskDynamicAuth),e.R7$(),e.Y8G("ngIf",l.isRskDynamicAuth),e.R7$(),e.Y8G("ngIf",l.isRskDynamicAuth))},dependencies:[bt.n3,gn.bT,sn.G,Cn.v],encapsulation:2})}}return s})();function jy(s,p){if(1&s&&(e.j41(0,"form",2)(1,"app-form-row",3),e.nrm(2,"input",4),e.k0s(),e.j41(3,"app-form-row",3),e.nrm(4,"input",5),e.k0s(),e.j41(5,"app-form-row",6),e.nrm(6,"input",7),e.k0s()()),2&s){const i=e.XpG();e.Y8G("formGroup",i.form),e.R7$(),e.Y8G("id","RemoteSignOutPath")("label","DynamicAuth.RemoteSignOutPath.Label"),e.R7$(2),e.Y8G("id","SignedOutRedirectUri")("label","DynamicAuth.SignedOutRedirectUri.Label"),e.R7$(2),e.Y8G("id","SignedOutCallbackPath")("label","DynamicAuth.SignedOutCallbackPath.Label")("isLast",!0)}}let OE=(()=>{class s{get ReadOnlyFieldType(){return Gi.t}constructor(i,a,l){this.fb=i,this.dynamicAuthCache=a,this.errorService=l}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,Vn.$)()).subscribe({next:i=>{this.dynamicAuth=i,this.oidcOptions=po(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges()},error:i=>{this.errorService.handleError(i)}})}buildForm(){this.form=this.fb.group({remoteSignOutPath:[this.oidcOptions.remoteSignOutPath,[g.k0.required,$l()]],signedOutRedirectUri:[this.oidcOptions.signedOutRedirectUri,[g.k0.required,$l()]],signedOutCallbackPath:[this.oidcOptions.signedOutCallbackPath,[g.k0.required,$l()]]})}subscribeToValueChanges(){this.form.valueChanges.subscribe({next:i=>{let a={...this.oidcOptions,remoteSignOutPath:this.form.get("remoteSignOutPath").value,signedOutRedirectUri:this.form.get("signedOutRedirectUri").value,signedOutCallbackPath:this.form.get("signedOutCallbackPath").value};this.dynamicAuthCache.componentDirtyValidMap.set("DynamicAuthEditAdvancedComponent",this.form.valid),this.dynamicAuthCache.unsavedCache.next({...this.dynamicAuth,options:JSON.stringify(a)})}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(g.ze),e.rXU(ir.t),e.rXU(ne.I))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-signout-edit-details"]],decls:2,vars:1,consts:[["id","editDynamicAuthSignOut"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label"],["type","text","name","RemoteSignOutPath","id","RemoteSignOutPath","formControlName","remoteSignOutPath","required","",1,"tw-form-control"],["type","text","name","SignedOutRedirectUri","id","SignedOutRedirectUri","formControlName","signedOutRedirectUri","required","",1,"tw-form-control"],[3,"id","label","isLast"],["type","text","name","SignedOutCallbackPath","id","SignedOutCallbackPath","formControlName","signedOutCallbackPath","required","",1,"tw-form-control"]],template:function(a,l){1&a&&(e.j41(0,"div",0),e.DNE(1,jy,7,8,"form",1),e.k0s()),2&a&&(e.R7$(),e.Y8G("ngIf",l.form))},dependencies:[gn.bT,g.qT,g.me,g.BC,g.cb,g.YS,g.j4,g.JD,fe.Y],encapsulation:2})}}return s})();const Ju=s=>[s];function th(s,p){if(1&s&&(e.j41(0,"app-form-row",1),e.nrm(1,"app-readonly",2),e.k0s()),2&s){const i=e.XpG();e.Y8G("id","MapInboundClaims")("label","DynamicAuth.MapInboundClaims.Label")("help","DynamicAuth.MapInboundClaims.Help")("isLast",!0),e.R7$(),e.Y8G("fieldType",i.ReadOnlyFieldType.Single)("values",e.eq3(6,Ju,i.optionsDictionary.mapInboundClaims))}}let FE=(()=>{class s{get ReadOnlyFieldType(){return Gi.t}constructor(i,a){this.configService=i,this.dynamicAuthCache=a}ngOnInit(){(0,Cy.z)([this.dynamicAuthCache.unsavedCache$.pipe((0,Vn.$)()),this.configService.getConfig().pipe((0,Vn.$)())]).subscribe({next:([i,a])=>{this.optionsDictionary=new Fo.b(po(i.options)),this.isRskDynamicAuth=a.featureFlagOptions.dynamicAuthenticationFlag==Pa.U.Rsk}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(zs.w),e.rXU(ir.t))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-claims-view-details"]],decls:4,vars:9,consts:[["id","viewDynamicAuthClaims"],[3,"id","label","help","isLast"],[3,"fieldType","values"],[3,"id","label","help","isLast",4,"ngIf"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"app-form-row",1),e.nrm(2,"app-readonly",2),e.k0s(),e.DNE(3,th,2,8,"app-form-row",3),e.k0s()),2&a&&(e.R7$(),e.Y8G("id","GetClaimsFromUserInfoEndpoint")("label","DynamicAuth.GetClaimsFromUserInfoEndpoint.Label")("help","DynamicAuth.GetClaimsFromUserInfoEndpoint.Help")("isLast",!l.isRskDynamicAuth),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(7,Ju,l.optionsDictionary.getClaimsFromUserInfoEndpoint)),e.R7$(),e.Y8G("ngIf",l.isRskDynamicAuth))},dependencies:[gn.bT,fe.Y,zr.O],encapsulation:2})}}return s})();const Cg=s=>[s];let $y=(()=>{class s{get ReadOnlyFieldType(){return Gi.t}constructor(i){this.dynamicAuthCache=i}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,Vn.$)()).subscribe({next:i=>{this.optionsDictionary=new Fo.b(po(i.options))}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(ir.t))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-signout-view-details"]],decls:7,vars:19,consts:[["id","viewDynamicAuthSignOut"],[3,"id","label"],[3,"fieldType","values"],[3,"id","label","isLast"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"app-form-row",1),e.nrm(2,"app-readonly",2),e.k0s(),e.j41(3,"app-form-row",1),e.nrm(4,"app-readonly",2),e.k0s(),e.j41(5,"app-form-row",3),e.nrm(6,"app-readonly",2),e.k0s()()),2&a&&(e.R7$(),e.Y8G("id","RemoteSignOutPath")("label","DynamicAuth.RemoteSignOutPath.Label"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(13,Cg,l.optionsDictionary.remoteSignOutPath)),e.R7$(),e.Y8G("id","SignedOutRedirectUri")("label","DynamicAuth.SignedOutRedirectUri.Label"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(15,Cg,l.optionsDictionary.signedOutRedirectUri)),e.R7$(),e.Y8G("id","SignedOutCallbackPath")("label","DynamicAuth.SignedOutCallbackPath.Label")("isLast",!0),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(17,Cg,l.optionsDictionary.signedOutCallbackPath)))},dependencies:[fe.Y,zr.O],encapsulation:2})}}return s})();const Qu=s=>[s];let PE=(()=>{class s{get ReadOnlyFieldType(){return Gi.t}constructor(i){this.dynamicAuthCache=i}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,Vn.$)()).subscribe({next:i=>{this.optionsDictionary=new Fo.b(po(i.options))}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(ir.t))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-metadata-view-details"]],decls:5,vars:15,consts:[["id","viewDynamicAuthMetadata"],[3,"id","label","help"],[3,"fieldType","values"],[3,"id","label","help","isLast"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"app-form-row",1),e.nrm(2,"app-readonly",2),e.k0s(),e.j41(3,"app-form-row",3),e.nrm(4,"app-readonly",2),e.k0s()()),2&a&&(e.R7$(),e.Y8G("id","RefreshOnIssuerKeyNotFound")("label","DynamicAuth.RefreshOnIssuerKeyNotFound.Label")("help","DynamicAuth.RefreshOnIssuerKeyNotFound.Help"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(11,Qu,l.optionsDictionary.refreshOnIssuerKeyNotFound)),e.R7$(),e.Y8G("id","MetadataRefreshInterval")("label","DynamicAuth.MetadataRefreshInterval.Label")("help","DynamicAuth.MetadataRefreshInterval.Help")("isLast",!0),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(13,Qu,l.optionsDictionary.metadataRefreshInterval)))},dependencies:[fe.Y,zr.O],encapsulation:2})}}return s})();const Gy=s=>[s];let BE=(()=>{class s{get ReadOnlyFieldType(){return Gi.t}constructor(i){this.dynamicAuthCache=i}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,Vn.$)()).subscribe({next:i=>{this.optionsDictionary=new Fo.b(po(i.options))}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(ir.t))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-tokens-view-details"]],decls:5,vars:15,consts:[["id","viewDynamicAuthTokens"],[3,"id","label","help"],[3,"fieldType","values"],[3,"id","label","help","isLast"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"app-form-row",1),e.nrm(2,"app-readonly",2),e.k0s(),e.j41(3,"app-form-row",3),e.nrm(4,"app-readonly",2),e.k0s()()),2&a&&(e.R7$(),e.Y8G("id","SaveTokens")("label","DynamicAuth.SaveTokens.Label")("help","DynamicAuth.SaveTokens.Help"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(11,Gy,l.optionsDictionary.saveTokens)),e.R7$(),e.Y8G("id","UseTokenLifetime")("label","DynamicAuth.UseTokenLifetime.Label")("help","DynamicAuth.UseTokenLifetime.Help")("isLast",!0),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(13,Gy,l.optionsDictionary.useTokenLifetime)))},dependencies:[fe.Y,zr.O],encapsulation:2})}}return s})();const wg=s=>[s];let Hy=(()=>{class s{get ReadOnlyFieldType(){return Gi.t}constructor(i){this.dynamicAuthCache=i}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,Vn.$)()).subscribe({next:i=>{this.optionsDictionary=new Fo.b(po(i.options))}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(ir.t))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-other-view-details"]],decls:5,vars:15,consts:[["id","viewDynamicAuthOther"],[3,"id","label","help"],[3,"fieldType","values"],[3,"id","label","help","isLast"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"app-form-row",1),e.nrm(2,"app-readonly",2),e.k0s(),e.j41(3,"app-form-row",3),e.nrm(4,"app-readonly",2),e.k0s()()),2&a&&(e.R7$(),e.Y8G("id","SkipUnrecognizedRequests")("label","DynamicAuth.SkipUnrecognizedRequests.Label")("help","DynamicAuth.SkipUnrecognizedRequests.Help"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(11,wg,l.optionsDictionary.skipUnrecognizedRequests)),e.R7$(),e.Y8G("id","DisableTelemetry")("label","DynamicAuth.DisableTelemetry.Label")("help","DynamicAuth.DisableTelemetry.Help")("isLast",!0),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(13,wg,l.optionsDictionary.disableTelemetry)))},dependencies:[fe.Y,zr.O],encapsulation:2})}}return s})();var Wy=u(7970),LE=u(2891);function Ky(s,p){if(1&s&&(e.j41(0,"li",21)(1,"label",22),e.nrm(2,"input",23),e.j41(3,"span"),e.EFF(4),e.nI1(5,"translate"),e.k0s()()()),2&s){const i=p.$implicit,a=e.XpG(2);e.Y8G("id",i.value+"-prompt"),e.R7$(),e.Y8G("for",i.value+"-checkbox"),e.R7$(),e.Y8G("id",i.value+"-checkbox")("formControlName",i.value),e.BMQ("disabled",a.promptDisabled(i.value)),e.R7$(2),e.JRh(e.bMT(5,6,i.displayName))}}function UE(s,p){1&s&&e.nrm(0,"app-freetext-list-input",24)}function VE(s,p){if(1&s){const i=e.RV6();e.j41(0,"form",2)(1,"app-form-row",3)(2,"app-row-bar",4)(3,"app-state-toggle",5),e.bIt("newValue",function(l){e.eBV(i);const D=e.XpG();return e.Njj(D.updateResponseMode(l))}),e.k0s(),e.j41(4,"a",6),e.nrm(5,"span",7),e.j41(6,"span",8),e.EFF(7),e.nI1(8,"translate"),e.k0s()()()(),e.j41(9,"app-form-row",3)(10,"ul",9),e.DNE(11,Ky,6,8,"li",10),e.j41(12,"li",11)(13,"label",12),e.nrm(14,"input",13),e.j41(15,"span"),e.EFF(16),e.nI1(17,"translate"),e.k0s()()()(),e.nrm(18,"br"),e.DNE(19,UE,1,0,"app-freetext-list-input",14),e.j41(20,"p",15)(21,"span",16),e.EFF(22,"Preview:"),e.k0s(),e.j41(23,"span",17)(24,"span",18),e.EFF(25),e.k0s()()()(),e.j41(26,"app-form-row",19),e.nrm(27,"app-freetext-list-input",20),e.k0s()()}if(2&s){const i=e.XpG();e.Y8G("formGroup",i.form),e.R7$(),e.Y8G("id","ResponseMode")("label","DynamicAuth.ResponseMode.Label")("help","DynamicAuth.ResponseMode.Help"),e.R7$(2),e.Y8G("id","ResponseMode")("options",i.responseModeOptions)("value",i.form.get("responseMode").value),e.R7$(),e.Y8G("href",i.LinkConstants.AdvOthDynamicAuth,e.B4B),e.R7$(3),e.JRh(e.bMT(8,22,"Common.Help")),e.R7$(2),e.Y8G("id","Prompt")("label","DynamicAuth.Prompt.Label")("help","DynamicAuth.Prompt.Help"),e.R7$(2),e.Y8G("ngForOf",i.promptOptions),e.R7$(3),e.BMQ("disabled",i.promptDisabled("")),e.R7$(2),e.JRh(e.bMT(17,24,"DynamicAuth.Prompt.Values.Other")),e.R7$(3),e.Y8G("ngIf",i.form.get("useOther").value&&!i.promptDisabled("other")),e.R7$(6),e.SpI(" '",i.generatePromptString(),"' "),e.R7$(),e.Y8G("id","Resource")("label","DynamicAuth.Resource.Label")("help","DynamicAuth.Resource.Help")("isLast",!0),e.R7$(),e.Y8G("validators",i.ResourceValidators)}}class Sg{constructor(p,i){this.displayName=p,this.value=i}}let DD=(()=>{class s{get ReadOnlyFieldType(){return Gi.t}get LinkConstants(){return da}get ResourceValidators(){return[IS]}constructor(i,a,l){this.fb=i,this.dynamicAuthCache=a,this.errorService=l,this.responseModeOptions=Object.keys(xc).filter(D=>isNaN(Number(D))),this.promptOptions=[new Sg("DynamicAuth.Prompt.Values.None","none"),new Sg("DynamicAuth.Prompt.Values.Login","login"),new Sg("DynamicAuth.Prompt.Values.Consent","consent"),new Sg("DynamicAuth.Prompt.Values.SelectAccount","select_account")]}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,Vn.$)()).subscribe({next:i=>{this.dynamicAuth=i,this.oidcOptions=po(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges()},error:i=>{this.errorService.handleError(i)}})}buildForm(){let i=js.ResponseModeMap.get(this.oidcOptions.responseMode);const a=this.promptOptions.map(De=>De.value),l=(0,Ii.hr)(this.oidcOptions.prompt),D=l.filter(De=>!a.includes(De));let Q={responseMode:[xc[i],[]],resource:[(0,Ii.hr)(this.oidcOptions.resource),[]],useOther:[D.length>0,[]],otherPrompts:[D,[]]};for(let De of this.promptOptions)Q[De.value]=[l?.includes(De.value)??!1,[]];this.form=this.fb.group(Q)}subscribeToValueChanges(){this.formChange=this.form.valueChanges.subscribe({next:i=>{let a=xc[this.form.get("responseMode").value],l=js.ResponseModeKey(a),D={...this.oidcOptions,responseMode:l,prompt:this.generatePromptString(),resource:(0,Ii.Nj)(this.form.get("resource").value)};this.dynamicAuthCache.componentDirtyValidMap.set("DynamicAuthEditAdvancedComponent",this.form.valid),this.dynamicAuthCache.unsavedCache.next({...this.dynamicAuth,options:JSON.stringify(D)})}})}generatePromptString(){let i=[];if(this.form.get("none").value)return"none";for(let a of this.promptOptions)this.form.get(a.value).value&&i.push(a.value);return this.form.get("useOther").value&&this.form.get("otherPrompts").value.forEach(a=>i.push(a)),(0,Ii.Nj)(i)}promptDisabled(i){const a=this.form.get("none").value;return!("none"===i||!a)||null}updateResponseMode(i){this.form.get("responseMode").setValue(i)}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(g.ze),e.rXU(ir.t),e.rXU(ne.I))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-request-edit-details"]],decls:2,vars:1,consts:[["id","editDynamicAuthRequest"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label","help"],[1,"tw-form-input"],["left","",3,"newValue","id","options","value"],["type","button","target","_blank","right","",1,"tw-btn-link","tw-btn","tw-pt-0","group-hover:tw-text-blue-500",3,"href"],[1,"far","fa-question-circle","tw-w-15","tw-h-15"],[1,"sr-only"],[1,"tw-form-checks"],["class","tw-form-checks__item",3,"id",4,"ngFor","ngForOf"],["id","other-prompt",1,"tw-form-checks__item"],["for","other-checkbox",1,"tw-form-checks__label"],["id","other-checkbox","name","otherPrompt","type","checkbox","formControlName","useOther",1,"tw-form-checks__input"],["id","Prompt","formControlName","otherPrompts",4,"ngIf"],["id","promp-preview",1,"tw-form-text","tw-flex","tw-items-center"],[1,"tw-mr-2","tw--mt-px"],[1,"tw-flex","tw-flex-wrap"],[1,"tw-mr-2"],[3,"id","label","help","isLast"],["id","Resource","formControlName","resource",3,"validators"],[1,"tw-form-checks__item",3,"id"],[1,"tw-form-checks__label",3,"for"],["name","noneCheckBox","type","checkbox",1,"tw-form-checks__input",3,"id","formControlName"],["id","Prompt","formControlName","otherPrompts"]],template:function(a,l){1&a&&(e.j41(0,"div",0),e.DNE(1,VE,28,26,"form",1),e.k0s()),2&a&&(e.R7$(),e.Y8G("ngIf",l.form))},dependencies:[gn.Sq,gn.bT,g.qT,g.Zm,g.BC,g.cb,g.j4,g.JD,fe.Y,Cr.f,Wy.j,LE.t,bn.D9],encapsulation:2})}}return s})();const zy=s=>[s];let AD=(()=>{class s{get ReadOnlyFieldType(){return Gi.t}constructor(i){this.dynamicAuthCache=i}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,Vn.$)()).subscribe({next:i=>{this.optionsDictionary=new Fo.b(po(i.options))}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(ir.t))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-request-view-details"]],decls:7,vars:22,consts:[["id","viewDynamicAuthOther"],[3,"id","label","help"],[3,"fieldType","values"],[3,"id","label","help","isLast"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"app-form-row",1),e.nrm(2,"app-readonly",2),e.k0s(),e.j41(3,"app-form-row",1),e.nrm(4,"app-readonly",2),e.k0s(),e.j41(5,"app-form-row",3),e.nrm(6,"app-readonly",2),e.k0s()()),2&a&&(e.R7$(),e.Y8G("id","ResponseMode")("label","DynamicAuth.ResponseMode.Label")("help","DynamicAuth.ResponseMode.Help"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(16,zy,l.optionsDictionary.responseMode)),e.R7$(),e.Y8G("id","Prompt")("label","DynamicAuth.Prompt.Label")("help","DynamicAuth.Prompt.Help"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(18,zy,l.optionsDictionary.prompt)),e.R7$(),e.Y8G("id","Resource")("label","DynamicAuth.Resource.Label")("help","DynamicAuth.Resource.Help")("isLast",!0),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(20,zy,l.optionsDictionary.resource)))},dependencies:[fe.Y,zr.O],encapsulation:2})}}return s})();const Eg=[{path:"dynamic-auth",component:KS,canActivate:[fn.h,Qn._,Pf,Ra.q],data:{permissions:[Jt.a[Jt.a.IdentityServerManager],Jt.a[Jt.a.IdentityServerManagerReadOnly],Jt.a[Jt.a.AllReadOnly],Jt.a[Jt.a.All]]}},{path:"dynamic-auth/:Scheme",component:mE,children:[{path:"",redirectTo:"details",pathMatch:"full"},{path:"details",component:QS},{path:"scopes",component:iE},{path:"advanced",component:bg,children:[{path:"request",component:DD},{path:"claims",component:By},{path:"signOut",component:OE},{path:"metadata",component:RE},{path:"tokens",component:Uy},{path:"other",component:eh}]},{path:"sp",component:Iy,children:[{path:"details",component:lE},{path:"request",component:wy},{path:"response",component:uE}]},{path:"idp",component:gy,children:[{path:"details",component:qS},{path:"advanced",component:ZS}]}],resolve:{dynamicAuth:Bu},canDeactivate:[Nn.M],canActivate:[fn.h,Qn._,Pf,Ra.q],data:{permissions:[Jt.a[Jt.a.IdentityServerManager],Jt.a[Jt.a.All]]}},{path:"dynamic-auth/view/:Scheme",component:Fy,children:[{path:"",redirectTo:"details",pathMatch:"full"},{path:"details",component:gE},{path:"scopes",component:yg},{path:"advanced",component:bg,children:[{path:"request",component:AD},{path:"claims",component:FE},{path:"signOut",component:$y},{path:"metadata",component:PE},{path:"tokens",component:BE},{path:"other",component:Hy}]},{path:"sp",component:Ny,children:[{path:"details",component:bE},{path:"request",component:Yu},{path:"response",component:_g}]},{path:"idp",component:xy,children:[{path:"details",component:Nf},{path:"advanced",component:vE}]}],resolve:{dynamicAuth:Bu},canActivate:[fn.h,Qn._,Pf,Ra.q],data:{permissions:[Jt.a[Jt.a.IdentityServerManager],Jt.a[Jt.a.IdentityServerManagerReadOnly],Jt.a[Jt.a.AllReadOnly],Jt.a[Jt.a.All]]}}];let Lf=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({imports:[bt.iI.forChild(Eg),Hn.XE.forChild(Eg),bt.iI]})}}return s})();var jE=u(8906);let $E=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({providers:[Bu,Ya.R,Yc.c,mh.z,gh.d,cp.S,u1._,fd,dh.V,Mc,ir.t,zs.w,kc],imports:[Lf,gn.MD,bt.iI,g.YN,fo.Y,g.X1,wt.jr,wf.W,xe.Ss,Mt.Q_,dd.z,Gc.A,bn.h,Rl.p,Hn.XE,pd.F,bd.M,ph.a,Zl.m,Wc.c,fc.c,ch.E,fh.h,fl.w,pl.N,Kc.f,pc.Y,c1.l,Hv.Q,Hc.i,Pu.qP,tg.U,kl.N,jE.G]})}}return s})();var Tg=u(9624),Zu=u(4814),GE=u(3730);let HE=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({providers:[Ql.v],imports:[gn.MD,g.YN,g.X1,Mt.Q_,fo.Y,bt.iI,bn.h,Rl.p,Hn.XE,Zl.m,Hc.i,Wc.c,lh.t,fc.c,wf.W,ch.E,fl.w,kl.N,pl.N]})}}return s})();var WE=u(7101);let Yy=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({imports:[gn.MD,bt.iI,fo.Y,bn.h,Hn.XE,Bm]})}}return s})(),RD=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({imports:[bn.h,pd.F,bt.iI,Zl.m,pc.Y]})}}return s})(),KE=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({providers:[Cf.F,tu.n,bs.D,Vr.i,fn.h,rh.S,Qn._,Ra.q,vc.m,Zu.y,cs.P,ad.m,ze.X,Lt.Vk,Dp.M,Ql.v,G1.R,Hn.QG,xi.M,Ou,bn.c$,ec.X,zs.w,Ap.B,ne.I,zc.D,bS.x,Gl],imports:[gn.MD,g.YN,g.X1,Kn,S.q1,fo.Y,WE.UsersModule,HE,Tg.StarterModeModule,Rl.p,ap.P,Mt.Q_.forRoot(),wt.jr.forRoot(),xe.Ss.forRoot(),Xe.h6.forRoot(),GE.ClaimTypesModule,Jn._B.forRoot(),bd.M,Zm,fc.c,fh.h,pl.N,fl.w,pc.Y,bn.h,bt.iI,Hn.XE,Yy,Bm,RD]})}}return s})();var Xy=u(4861),Ig=u(4754),Dg=u(3899);const qu=s=>[s],Jy=s=>({showUpgrade:s});function Qy(s,p){1&s&&e.eu8(0)}function zE(s,p){if(1&s&&(e.j41(0,"button",4),e.nI1(1,"localize"),e.EFF(2),e.DNE(3,Qy,1,0,"ng-container",5),e.k0s()),2&s){const i=e.XpG(2),a=e.sdS(2);e.HbH(i.btnClasses),e.Y8G("routerLinkActive",i.activeClass)("routerLink",e.eq3(9,qu,e.bMT(1,7,i.route))),e.R7$(2),e.SpI(" ",i.title," "),e.R7$(),e.Y8G("ngTemplateOutlet",a)("ngTemplateOutletContext",e.eq3(11,Jy,i.showUpgrade))}}function Zy(s,p){1&s&&e.eu8(0)}function YE(s,p){if(1&s&&(e.j41(0,"button",6),e.nI1(1,"localize"),e.EFF(2),e.DNE(3,Zy,1,0,"ng-container",5),e.k0s()),2&s){const i=e.XpG(2),a=e.sdS(2);e.HbH(i.btnClasses),e.Y8G("routerLinkActive",i.activeClass)("routerLink",e.eq3(9,qu,e.bMT(1,7,i.route))),e.R7$(2),e.SpI(" ",i.title," "),e.R7$(),e.Y8G("ngTemplateOutlet",a)("ngTemplateOutletContext",e.eq3(11,Jy,i.showUpgrade))}}function qy(s,p){if(1&s&&(e.j41(0,"li",2),e.DNE(1,zE,4,13,"button",3)(2,YE,4,13),e.k0s()),2&s){const i=e.XpG();e.HbH(i.classes),e.Y8G("id",i.id),e.R7$(),e.vxM(1,i.sub?1:2)}}function XE(s,p){1&s&&(e.j41(0,"div",7)(1,"span",8),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.nrm(4,"span",9),e.k0s()),2&s&&(e.R7$(2),e.JRh(e.bMT(3,1,"StarterMode.RequiresUpgrade")))}function Ag(s,p){1&s&&e.DNE(0,XE,5,3,"div",7),2&s&&e.vxM(0,p.showUpgrade?0:-1)}let e_=(()=>{class s{constructor(){this.showUpgrade=!1}get btnClasses(){const i="tw-nav tw-flex tw-items-center tw-text-primary-200 tw-relative tw-truncate hover:tw-text-white focus:tw-text-white";return this.sub?`${i} tw-text-sm tw-font-normal tw-px-8 tw-py-3 lg:tw-px-6 xl:tw-px-8`:`${i} tw-font-semibold tw-h-header tw-px-4 lg:tw-px-6 xl:tw-px-8`}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-nav-item"]],inputs:{id:"id",title:"title",classes:"classes",activeClass:"activeClass",sub:"sub",route:"route",display:"display",showUpgrade:"showUpgrade"},decls:3,vars:1,consts:[["upgradeSymbol",""],[3,"class","id"],[3,"id"],["ngbDropdownItem","",3,"class","routerLinkActive","routerLink"],["ngbDropdownItem","",3,"routerLinkActive","routerLink"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"routerLinkActive","routerLink"],[1,"upgradeSymbol","tw-text-secondary-500","tw-text-sm","tw-pl-1","tw-font-normal","tw-py-3","lg:tw-px-1"],[1,"sr-only"],["aria-hidden","true",1,"far","fa-arrow-alt-circle-up"]],template:function(a,l){1&a&&e.DNE(0,qy,3,4,"li",1)(1,Ag,1,1,"ng-template",null,0,e.C5r),2&a&&e.vxM(0,l.display?0:-1)},dependencies:[gn.T3,bt.Wk,bt.wQ,Du,Om,bn.D9,Hn.tl],encapsulation:2})}}return s})();const t_=["sameSiteBrowserNotification"],n_=["defaultUserResolveButton"],JE=[[["","navigation",""]]],QE=["[navigation]"],ZE=s=>({text:"IdentityServer",check:s}),Rg=(s,p)=>({"tw-opacity-75":s,"tw-pill-info":p}),Mg=s=>[s],xg=(s,p)=>({"tw-text-sm tw-font-normal tw-px-8 tw-py-3 lg:tw-px-6 xl:tw-px-8":s,"tw-font-semibold tw-h-header tw-px-4 lg:tw-px-6 xl:tw-px-8":p});function qE(s,p){if(1&s){const i=e.RV6();e.j41(0,"div",20,3)(2,"div",21)(3,"div",22)(4,"div",23)(5,"div",24)(6,"b",25),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"button",26),e.bIt("click",function(){e.eBV(i);const l=e.XpG(2);return e.Njj(l.closeSameSiteBrowserNotification())}),e.j41(10,"b"),e.EFF(11),e.nI1(12,"translate"),e.k0s()()()()()()()}2&s&&(e.R7$(7),e.SpI(" ",e.bMT(8,2,"Common.SameSiteCookiesBannerError")," "),e.R7$(4),e.JRh(e.bMT(12,4,"Common.Close")))}function eT(s,p){if(1&s){const i=e.RV6();e.j41(0,"div",27)(1,"div",21)(2,"div",22)(3,"div",23)(4,"div",24)(5,"b",25),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"button",28,4),e.bIt("click",function(){e.eBV(i);const l=e.XpG(2);return e.Njj(l.defaultUserDeleteConfirmation())}),e.j41(10,"b"),e.EFF(11),e.nI1(12,"translate"),e.k0s()()()()()()()}2&s&&(e.R7$(6),e.SpI(" ",e.bMT(7,2,"InitialAdminCreation.ReminderMessage")," "),e.R7$(5),e.JRh(e.bMT(12,4,"InitialAdminCreation.Resolve")))}function tT(s,p){if(1&s&&(e.j41(0,"div",29)(1,"div",21)(2,"div",22)(3,"div",23)(4,"div",30)(5,"b",25),e.EFF(6),e.k0s()()()()()()),2&s){const i=e.XpG(2);e.R7$(6),e.SpI(" ",i.licenseIsInStarterModeMessage," ")}}function nT(s,p){if(1&s&&(e.j41(0,"div",31)(1,"div",21)(2,"div",22)(3,"div",23)(4,"div",24)(5,"b",25),e.EFF(6),e.k0s()()()()()()),2&s){const i=e.XpG(2);e.R7$(6),e.SpI(" ",i.licenseIsInGracePeriodMessage," ")}}function iT(s,p){if(1&s&&(e.j41(0,"div",15),e.DNE(1,qE,13,6,"div",16)(2,eT,13,6,"div",17)(3,tT,7,1,"div",18)(4,nT,7,1,"div",19),e.k0s()),2&s){const i=e.XpG();e.R7$(),e.Y8G("ngIf",i.noSameSiteSupport),e.R7$(),e.Y8G("ngIf",i.defaultUserExists),e.R7$(),e.Y8G("ngIf",i.licenseIsInStarterMode),e.R7$(),e.Y8G("ngIf",i.licenseIsInGracePeriod)}}function rT(s,p){if(1&s&&(e.j41(0,"div",40),e.EFF(1),e.k0s()),2&s){const i=e.XpG(2);e.Y8G("ngClass",e.l_i(2,Rg,i.securityService.isNonProd(),!i.securityService.isNonProd())),e.R7$(),e.SpI(" ",i.securityService.licenseType," ")}}function sT(s,p){if(1&s){const i=e.RV6();e.j41(0,"nav",32),e.nI1(1,"translate"),e.j41(2,"div",21)(3,"div",33),e.DNE(4,rT,2,5,"div",34),e.j41(5,"div",35),e.nrm(6,"span",36),e.j41(7,"span",37),e.EFF(8),e.k0s(),e.j41(9,"span",38),e.EFF(10,"\u2022"),e.k0s()(),e.j41(11,"button",39),e.bIt("click",function(){e.eBV(i);const l=e.XpG();return e.Njj(l.logoff())}),e.EFF(12),e.nI1(13,"translate"),e.k0s()()()()}if(2&s){const i=e.XpG();e.BMQ("aria-label",e.bMT(1,4,"Nav.Account")),e.R7$(4),e.Y8G("ngIf","Legacy"!=i.securityService.organisation),e.R7$(4),e.JRh(i.authService.user),e.R7$(4),e.SpI(" ",e.bMT(13,6,"Nav.Logout")," ")}}function oT(s,p){1&s&&e.nrm(0,"span",53)}function i_(s,p){1&s&&e.nrm(0,"span",54)}function r_(s,p){1&s&&e.nrm(0,"div",61)}function s_(s,p){if(1&s&&(e.nrm(0,"app-nav-item",62),e.nI1(1,"translate")),2&s){const i=e.XpG(3);e.Y8G("id","app-nav-item-auditing")("title",e.bMT(1,6,"Nav.Auditing"))("activeClass","tw-nav-active")("route","/auditing")("display",i.securityService.auditerView)("showUpgrade",i.licenseIsInStarterMode)}}function aT(s,p){if(1&s){const i=e.RV6();e.j41(0,"nav",55),e.DNE(1,r_,1,0,"div",56),e.j41(2,"ul",43),e.nrm(3,"app-nav-item",57),e.nI1(4,"translate"),e.nrm(5,"app-nav-item",57),e.nI1(6,"translate"),e.nrm(7,"app-nav-item",57),e.nI1(8,"translate"),e.nrm(9,"app-nav-item",57),e.nI1(10,"translate"),e.SdG(11),e.DNE(12,s_,2,8,"app-nav-item",58),e.nrm(13,"app-nav-item",57),e.nI1(14,"translate"),e.j41(15,"li",59)(16,"button",60),e.bIt("click",function(){e.eBV(i);const l=e.XpG(2);return e.Njj(l.logoff())}),e.EFF(17),e.nI1(18,"translate"),e.k0s()()()()}if(2&s){const i=e.XpG(2);e.R7$(),e.Y8G("ngIf",!i.healthCheckService.uiReady),e.R7$(2),e.Y8G("id","app-nav-item-home")("title",e.bMT(4,29,"Nav.Home"))("classes","lg:tw-hidden")("activeClass","tw-nav-active")("route","/home")("display",!0),e.R7$(2),e.Y8G("id","app-nav-item-users")("title",e.bMT(6,31,"Nav.Users"))("activeClass","tw-nav-active")("route","/users")("display",i.securityService.userManagerView||i.securityService.userManagerReadOnlyView),e.R7$(2),e.Y8G("id","app-nav-item-roles")("title",e.bMT(8,33,"Nav.Roles"))("activeClass","tw-nav-active")("route","/roles")("display",i.securityService.userManagerView||i.securityService.userManagerReadOnlyView),e.R7$(2),e.Y8G("id","app-nav-item-claimtypes")("title",e.bMT(10,35,"Nav.ClaimTypes"))("activeClass","tw-nav-active")("route","/claim-types")("display",i.securityService.userManagerView||i.securityService.userManagerReadOnlyView),e.R7$(3),e.Y8G("ngIf",i.enableAuditing),e.R7$(),e.Y8G("id","app-nav-item-settings")("title",e.bMT(14,37,"Nav.Settings"))("activeClass","tw-nav-active")("route","/settings/accesspolicy")("display",i.securityService.allView),e.R7$(4),e.SpI(" ",e.bMT(18,39,"Logout")," ")}}function o_(s,p){if(1&s){const i=e.RV6();e.j41(0,"header",41),e.bIt("resize",function(){e.eBV(i);const l=e.XpG();return e.Njj(l.detectSize())},!1,e.tSv),e.j41(1,"div",42)(2,"div",43)(3,"h2",44),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"div",45)(7,"a",46),e.nI1(8,"localize"),e.nrm(9,"img",47),e.j41(10,"span",48),e.EFF(11),e.nI1(12,"translate"),e.k0s()(),e.j41(13,"button",49),e.bIt("click",function(){e.eBV(i);const l=e.XpG();return e.Njj(l.menuToggle())}),e.j41(14,"span",48),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.DNE(17,oT,1,0,"span",50)(18,i_,1,0,"span",51),e.k0s()(),e.DNE(19,aT,19,41,"nav",52),e.k0s()()()}if(2&s){const i=e.XpG();e.R7$(4),e.JRh(e.bMT(5,10,"Nav.Menu")),e.R7$(3),e.Y8G("routerLink",e.eq3(18,Mg,e.bMT(8,12,"/home"))),e.R7$(4),e.JRh(e.bMT(12,14,"Nav.Home")),e.R7$(2),e.AVh("tw-bg-primary-700",i.openMenu),e.BMQ("aria-expanded",1==i.openMenu),e.R7$(2),e.JRh(e.bMT(16,16,"Nav.ToggleNavigation")),e.R7$(2),e.Y8G("ngIf",!i.openMenu),e.R7$(),e.Y8G("ngIf",i.openMenu),e.R7$(),e.Y8G("ngIf",i.openMenu&&i.appComponentViewConfig.showNav&&!i.expectingStarterModeConsent)}}function lT(s,p){1&s&&(e.j41(0,"div",67)(1,"span",48),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.nrm(4,"span",68),e.k0s()),2&s&&(e.R7$(2),e.JRh(e.bMT(3,1,"StarterMode.RequiresUpgrade")))}function cT(s,p){if(1&s&&(e.j41(0,"li",64)(1,"button",65),e.nI1(2,"localize"),e.EFF(3),e.DNE(4,lT,5,3,"div",66),e.k0s()()),2&s){const i=e.XpG(),a=i.title,l=i.classes,D=i.activeClass,Q=i.sub,De=i.route,Qe=i.starterUpgrade,pt=i.id,jt=e.XpG();e.HbH(l),e.Y8G("id",pt),e.R7$(),e.Y8G("ngClass",e.l_i(10,xg,Q,!Q))("routerLinkActive",D)("routerLink",e.eq3(13,Mg,e.bMT(2,8,De))),e.R7$(2),e.SpI(" ",a," "),e.R7$(),e.Y8G("ngIf",Qe&&jt.licenseIsInStarterMode)}}function kg(s,p){1&s&&e.DNE(0,cT,5,15,"li",63),2&s&&e.Y8G("ngIf",p.display)}function a_(s,p){1&s&&(e.j41(0,"div",67)(1,"span",48),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.nrm(4,"span",68),e.k0s()),2&s&&(e.R7$(2),e.JRh(e.bMT(3,1,"StarterMode.RequiresUpgrade")))}function uT(s,p){if(1&s&&(e.j41(0,"li",64)(1,"button",69),e.nI1(2,"localize"),e.EFF(3),e.DNE(4,a_,5,3,"div",66),e.k0s()()),2&s){const i=e.XpG(),a=i.title,l=i.classes,D=i.activeClass,Q=i.sub,De=i.route,Qe=i.starterUpgrade,pt=i.id,jt=e.XpG();e.HbH(l),e.Y8G("id",pt),e.R7$(),e.Y8G("ngClass",e.l_i(10,xg,Q,!Q))("routerLinkActive",D)("routerLink",e.eq3(13,Mg,e.bMT(2,8,De))),e.R7$(2),e.SpI(" ",a," "),e.R7$(),e.Y8G("ngIf",Qe&&jt.licenseIsInStarterMode)}}function Ng(s,p){1&s&&e.DNE(0,uT,5,15,"li",63),2&s&&e.Y8G("ngIf",p.display)}function l_(s,p){1&s&&(e.j41(0,"div",70)(1,"div",71)(2,"div")(3,"h1",72),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"p"),e.EFF(7),e.nI1(8,"translate"),e.k0s()()()()),2&s&&(e.R7$(4),e.JRh(e.bMT(5,2,"Errors.Unauthorized")),e.R7$(3),e.JRh(e.bMT(8,4,"Errors.ContactAdmin")))}function c_(s,p){1&s&&e.nrm(0,"router-outlet")}function MD(s,p){1&s&&e.eu8(0)}function u_(s,p){if(1&s&&(e.j41(0,"div",74)(1,"div",75),e.nrm(2,"span",76),e.j41(3,"span",77)(4,"b"),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.EFF(7),e.k0s()()()),2&s){const i=e.XpG(),a=i.text;e.Y8G("@fadeInOut",i.check),e.R7$(5),e.SpI("",e.bMT(6,3,"Common.Loading"),":"),e.R7$(2),e.SpI(" ",a," ")}}function dT(s,p){1&s&&e.DNE(0,u_,8,5,"div",73),2&s&&e.Y8G("ngIf",p.check)}function d_(s,p){if(1&s){const i=e.RV6();e.j41(0,"footer",78)(1,"button",79),e.bIt("click",function(){e.eBV(i);const l=e.XpG();return e.Njj(l.jumpToTop())}),e.nrm(2,"span",80),e.j41(3,"span",48),e.EFF(4),e.nI1(5,"translate"),e.k0s()(),e.j41(6,"div",81)(7,"div",82)(8,"p",83)(9,"span",84),e.EFF(10),e.k0s(),e.EFF(11),e.j41(12,"a",85),e.EFF(13),e.nI1(14,"translate"),e.k0s()(),e.j41(15,"ul",86)(16,"li",87)(17,"a",88),e.EFF(18),e.nI1(19,"translate"),e.k0s(),e.j41(20,"span",89),e.EFF(21,"\u2022"),e.k0s()(),e.j41(22,"li",22)(23,"a",90),e.EFF(24),e.nI1(25,"translate"),e.k0s()()()()()()}if(2&s){const i=e.XpG();e.R7$(4),e.JRh(e.bMT(5,6,"Nav.ToTop")),e.R7$(6),e.SpI("AdminUI ",i.versionNumber,""),e.R7$(),e.SpI(" \xa9 ",i.appCopyright," "),e.R7$(2),e.SpI(" ",e.bMT(14,8,"Common.CompanyName")," "),e.R7$(5),e.SpI(" ",e.bMT(19,10,"Common.Documentation")," "),e.R7$(6),e.SpI(" ",e.bMT(25,12,"Nav.Support")," ")}}let h_=(()=>{class s{constructor(i,a,l,D,Q,De,Qe,pt,jt,ln,wn,En,Fn){this.securityService=i,this.translate=a,this.localizeRouter=l,this.toastr=D,this.router=Q,this.healthCheckService=De,this.authService=Qe,this.userService=pt,this.modalService=jt,this.browserSameSiteService=ln,this.appComponentViewService=wn,this.licenseService=En,this.configService=Fn,this.user={name:"test"},this.openMenu=!1,this.desktop=!1,this.versionNumber="",this.skipLinkPath="",this.licenseType="",this.organisation="",this.noSameSiteSupport=!1,this.nonProduction=!1,this.defaultUserExists=!1,this.licenseIsInGracePeriod=!1,this.licenseIsInStarterMode=!1,this.expectingStarterModeConsent=!1,this.enableAuditing=!1,this.defaultUserRemovalModalId="defaultUserRemovalModal",this.resolveModalActions=[Df.N.Save],this.subscriptions=[],Sa.wB.defaultLocale="utc",Sa.wB.defaultZone="utc";const On=this.localizeRouter.parser.currentLang;document.getElementsByTagName("html")[0].setAttribute("lang",On),this.appCopyright="2017 - "+(new Date).getFullYear()}ngOnInit(){if(this.detectSize(),this.setupLongLivedSubscriptions(),this.setupHealthCheck(),!this.browserSameSiteService.validBrowser()&&!localStorage.getItem("closedSameSiteBanner")){const a={link:Lt.$9.sameSiteDocs};this.noSameSiteSupport=!0,this.toastr.error(this.translate.instant("Common.SameSiteCookiesError",a),this.translate.instant("Notifications.Error"),{timeOut:0,extendedTimeOut:0,enableHtml:!0})}this.configService.getConfig().pipe((0,Vn.$)()).subscribe({next:a=>{this.enableAuditing=a.enableAuditing}})}ngOnDestroy(){this.userDataSubscription&&this.userDataSubscription.unsubscribe(),this.licenseInfoSubscription&&this.licenseInfoSubscription.unsubscribe(),this.subscriptions.forEach(i=>i.unsubscribe())}setupLongLivedSubscriptions(){this.subscriptions.push(this.router.events.pipe((0,vl.p)(i=>i instanceof bt.wF)).subscribe(()=>{this.router.url.endsWith("#main-content")||(this.skipLinkPath=`${this.router.url}#main-content`)}),this.healthCheckService.uiHealthCheckComplete.subscribe(()=>{this.versionNumber=Br}),this.router.events.subscribe({next:i=>{this.desktop||(this.openMenu=!1)}}),this.appComponentViewService.viewConfig$.subscribe({next:i=>{this.appComponentViewConfig=i}}))}setupHealthCheck(){this.healthCheckService.checkHealthUi().pipe((0,ga.s)(1)).subscribe({next:i=>this.uiHealthCheckSuccess(i),error:i=>this.uiHealthCheckFailed(i)}),this.healthCheckService.checkHealthIdentityServer().pipe((0,ga.s)(1)).subscribe({next:i=>this.idsHealthCheckSuccess(),error:i=>this.idsHealthCheckFailed(i)})}uiHealthCheckSuccess(i){this.healthCheckService.uiReady=!0,this.healthCheckService.uiHealthCheckComplete.next(!0),"string"==typeof i&&!(0,Ii.gP)(i)&&this.toastr.warning(i,this.translate.instant("Common.Warning"),{timeOut:3e3,extendedTimeOut:0,enableHtml:!0}),this.userDataSubscription?.unsubscribe(),this.userDataSubscription=(0,Ti.p)({authentication:this.authService.isAuthenticatedCheck(),permissions:this.securityService.userPermissions$}).subscribe(a=>{a.authentication.isAuthenticated&&a.authentication.username!=Xy.M.DefaultAdministratorUsername&&a.permissions.includes(Jt.a[Jt.a.All])&&this.userService.defaultUserExists().subscribe(l=>{this.defaultUserExists=l})}),this.licenseInfoSubscription?.unsubscribe(),this.licenseInfoSubscription=this.licenseService.getLicenseInfo().subscribe(a=>{if(this.licenseIsInStarterMode=a.isStarterLicense(),this.expectingStarterModeConsent=a.isExpectingStarterConsent(),this.licenseIsInStarterMode&&(this.licenseIsInStarterModeMessage=this.translate.instant("StarterMode.Warning")),this.licenseIsInGracePeriod=a.isInGracePeriod,this.licenseIsInGracePeriod){const l=(0,Ii.KU)(a.gracePeriodExpiry,"ccc LLL dd yyyy, T");let D=this.translate.instant("Common.LicenseIsInGracePeriod");D=D.replace("{0}",l),this.licenseIsInGracePeriodMessage=D}})}uiHealthCheckFailed(i){this.healthCheckService.uiHealthCheckComplete.next(!0);const a=this.getHealthCheckError(i);this.toastr.error(this.translate.instant("LandingPage.UIError",{error:a?` (${a})`:""}),this.translate.instant("Notifications.Error"),{timeOut:0,extendedTimeOut:0,enableHtml:!0})}idsHealthCheckSuccess(){this.healthCheckService.idsReady=!0,this.healthCheckService.idsHealthCheckComplete.next(!0)}idsHealthCheckFailed(i){this.healthCheckService.idsHealthCheckComplete.next(!0);const a=this.getHealthCheckError(i);this.toastr.error(this.translate.instant("LandingPage.IdentityServerError",{link:Lt.$9.checkHealthIdentityServerDocs,error:a?` (${a})`:""}),this.translate.instant("Notifications.Error"),{timeOut:0,extendedTimeOut:0,enableHtml:!0})}closeSameSiteBrowserNotification(){this.noSameSiteSupport=!1,localStorage.setItem("closedSameSiteBanner","1")}defaultUserDeleteConfirmation(){this.modalService.showById(this.defaultUserRemovalModalId,this.defaultUserResolveButton)}cancelDefaultUserDelete(){this.modalService.hideById(this.defaultUserRemovalModalId)}removeDefaultUser(){this.userService.deleteDefaultUser().subscribe({next:i=>{this.defaultUserExists=!1,this.toastr.success(this.translate.instant("LandingPage.DefaultUserRemoved"),this.translate.instant("Notifications.Success"),{timeOut:0,extendedTimeOut:0,enableHtml:!0}),this.modalService.hideById(this.defaultUserRemovalModalId)},error:i=>{this.toastr.error(this.translate.instant("Notifications.CheckLogs"),this.translate.instant("Notifications.SomethingWrong"),{timeOut:0,extendedTimeOut:0,enableHtml:!0})}})}isActive(i,a=!1){return this.router.isActive(i,a)}isActiveResourceRoute(){return this.router.url.includes("/identityresources")||this.router.url.includes("/protectedresources")}detectSize(){const i=window.matchMedia("(min-width: 1024px)");i.matches&&!this.desktop?(this.desktop=!0,this.openMenu=!0):!i.matches&&this.desktop&&(this.desktop=!1,this.openMenu=!1)}logoff(){this.authService.logoff()}menuToggle(){this.openMenu=!this.openMenu}jumpToTop(){window.scrollTo(0,0)}getHealthCheckError(i){if(!i)return"";const a=i.error;if(a){if("string"==typeof a)return a;if(a.errors&&a.errors.length>0)return a.errors[0]}return i.message?i.message:i.statusText?i.statusText:`${this.translate.instant("Notifications.SomethingWrong")}. ${this.translate.instant("Notifications.CheckLogs")}`}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(Vr.i),e.rXU(bn.c$),e.rXU(Hn.QG),e.rXU(Jn.tw),e.rXU(bt.Ix),e.rXU(xi.M),e.rXU(Jo.u),e.rXU(bs.D),e.rXU(Ig.B),e.rXU(Ou),e.rXU(hs.X),e.rXU(ec.X),e.rXU(zs.w))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-shared-base"]],viewQuery:function(a,l){if(1&a&&(e.GBs(t_,5),e.GBs(n_,5)),2&a){let D;e.mGM(D=e.lsd())&&(l.sameSiteBrowserNotification=D.first),e.mGM(D=e.lsd())&&(l.defaultUserResolveButton=D.first)}},ngContentSelectors:QE,decls:20,vars:18,consts:[["commonNavItem",""],["commonSubNavItem",""],["commonLoader",""],["sameSiteBrowserNotification",""],["defaultUserResolveButton",""],["id","skipLink",1,"sr-only","sr-only-focusable","tw-block","tw-bg-grey-200","tw-px-4","tw-py-3","tw-font-semibold","tw-left-0","tw-top-0","tw-z-50","focus:tw-m-1","focus:tw-text-blue-500","focus:tw-fixed",3,"href"],["id","loggedInTopBarAlerts",4,"ngIf"],["id","metaMenu","class","tw-bg-primary-500 tw-border-b tw-border-primary-400 tw-text-white tw-text-xs tw-px-4",4,"ngIf"],["id","mainNavBar","class","tw-bg-primary-500 tw-text-primary-100 tw-relative tw-z-30","role","banner",3,"resize",4,"ngIf"],["id","main-content","role","main","tabindex","-1",1,"tw-bg-grey-100","tw-px-4","tw-pt-5","tw-pb-5","focus:tw-shadow-none","xs:tw-pb-20"],[3,"onSave","onCancel","actions","title","modalId","saveText"],["class","tw-container tw-pb-10 tw-mx-auto",4,"ngIf"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["id","footer","class","tw-bg-grey-200 tw-border-t tw-border-grey-300 tw-text-grey-600 tw-text-xs tw-h-12 tw-fixed tw-bottom-0 tw-inset-x-0 tw-z-30",4,"ngIf"],["id","loggedInTopBarAlerts"],["class","tw-bg-red-500 tw-text-white tw-text-xs tw-px-4","role","alert",4,"ngIf"],["class","tw-bg-red-500 tw-text-white tw-text-xs tw-px-4 tw-py-2","role","alert",4,"ngIf"],["id","licenseStarterModeNotification","class","tw-bg-orange-500 tw-text-primary-900 tw-text-xs tw-px-4 tw-py-2","role","alert",4,"ngIf"],["id","licenseExpiredNotification","class","tw-bg-red-500 tw-text-white tw-text-xs tw-px-4 tw-py-2","role","alert",4,"ngIf"],["role","alert",1,"tw-bg-red-500","tw-text-white","tw-text-xs","tw-px-4"],[1,"tw-container","tw-mx-auto","tw-text-left"],[1,"tw-flex","tw-items-center"],[1,"tw-w-full","tw-left-0"],[1,"tw-flex","tw-items-center","tw-text-body","tw-text-md","tw-py-2","tw-text-white"],[1,"tw-block","tw-w-full"],[1,"tw-block","tw-underline","hover:tw-no-underline","tw-ml-2","tw-shrink-0",3,"click"],["role","alert",1,"tw-bg-red-500","tw-text-white","tw-text-xs","tw-px-4","tw-py-2"],[1,"tw-text-black","tw-bg-white","tw-btn","tw-block","tw-ml-2","tw-shrink-0",3,"click"],["id","licenseStarterModeNotification","role","alert",1,"tw-bg-orange-500","tw-text-primary-900","tw-text-xs","tw-px-4","tw-py-2"],[1,"tw-flex","tw-items-center","tw-text-body","tw-text-md","tw-py-2","tw-text-primary-900"],["id","licenseExpiredNotification","role","alert",1,"tw-bg-red-500","tw-text-white","tw-text-xs","tw-px-4","tw-py-2"],["id","metaMenu",1,"tw-bg-primary-500","tw-border-b","tw-border-primary-400","tw-text-white","tw-text-xs","tw-px-4"],[1,"tw-flex","tw-items-center","tw-h-8"],[3,"ngClass",4,"ngIf"],[1,"tw-hidden","tw-items-center","tw-ml-auto","sm:tw-flex"],["aria-hidden","true",1,"fad","fa-user-lock","tw-mr-2",2,"--fa-secondary-color","#4DAC4D","--fa-secondary-opacity","1.0"],[1,"tw-font-semibold"],["aria-hidden","true",1,"tw-mx-3","tw-opacity-50","tw-text-base"],["tabindex","0",1,"tw-self-stretch","tw-flex","tw-items-center","tw-ml-auto","tw-text-white","tw-font-normal","tw-cursor-pointer","hover:tw-underline","sm:tw-ml-0","trans",3,"click"],[3,"ngClass"],["id","mainNavBar","role","banner",1,"tw-bg-primary-500","tw-text-primary-100","tw-relative","tw-z-30",3,"resize"],[1,"tw-container","tw-text-left","tw-mx-auto"],[1,"lg:tw-flex"],["id","navMenuTitle",1,"sr-only"],[1,"tw-flex","tw-justify-between","tw-h-header","tw-ml-4","xl:tw-mr-4","max:tw-ml-0"],[1,"tw-flex","tw-items-center","tw-justify-center","tw-shrink-0",3,"routerLink"],["src","/assets/img/logo-persimmon.png","alt","","aria-hidden","true",1,"tw-w-8"],[1,"sr-only"],["id","mainMenu","aria-controls","mainMenu",1,"tw-shrink-0","tw-text-xl","tw-w-header","lg:tw-hidden",3,"click"],["class","fas fa-bars fa-fw","aria-hidden","true",4,"ngIf"],["class","fas fa-times fa-fw","aria-hidden","true",4,"ngIf"],["id","mainNavLinks","class","tw-bg-primary-700 tw-relative lg:tw-flex lg:tw-bg-transparent","role","navigation","aria-labelledby","navMenuTitle",4,"ngIf"],["aria-hidden","true",1,"fas","fa-bars","fa-fw"],["aria-hidden","true",1,"fas","fa-times","fa-fw"],["id","mainNavLinks","role","navigation","aria-labelledby","navMenuTitle",1,"tw-bg-primary-700","tw-relative","lg:tw-flex","lg:tw-bg-transparent"],["class","tw-block tw-bg-primary-700 tw-opacity-75 lg:tw-bg-primary-500 tw-absolute tw-inset-0 tw-z-20",4,"ngIf"],[3,"id","title","classes","activeClass","route","display"],[3,"id","title","classes","activeClass","route","display","showUpgrade",4,"ngIf"],[1,"lg:tw-hidden"],[1,"tw-flex","tw-items-center","tw-text-primary-200","tw-font-semibold","tw-h-header","tw-px-4","tw-w-full","tw-truncate","hover:tw-bg-primary-600","hover:tw-text-white","focus:tw-bg-primary-600","focus:tw-text-white","lg:tw-px-6","xl:tw-px-8",3,"click"],[1,"tw-block","tw-bg-primary-700","tw-opacity-75","lg:tw-bg-primary-500","tw-absolute","tw-inset-0","tw-z-20"],[3,"id","title","classes","activeClass","route","display","showUpgrade"],[3,"class","id",4,"ngIf"],[3,"id"],[1,"tw-nav","tw-flex","tw-items-center","tw-text-primary-200","tw-relative","tw-truncate","hover:tw-text-white","focus:tw-text-white",3,"ngClass","routerLinkActive","routerLink"],["class","upgradeSymbol tw-text-secondary-500 tw-text-sm tw-pl-1 tw-font-normal tw-py-3 lg:tw-px-1",4,"ngIf"],[1,"upgradeSymbol","tw-text-secondary-500","tw-text-sm","tw-pl-1","tw-font-normal","tw-py-3","lg:tw-px-1"],["aria-hidden","true",1,"far","fa-arrow-alt-circle-up"],["ngbDropdownItem","",1,"tw-nav","tw-flex","tw-items-center","tw-text-primary-200","tw-relative","tw-truncate","hover:tw-text-white","focus:tw-text-white",3,"ngClass","routerLinkActive","routerLink"],[1,"tw-container","tw-pb-10","tw-mx-auto"],["role","alert",1,"tw-alert-danger"],[1,"tw-text-sm","tw-font-semibold"],["class","tw-fixed tw-w-full tw-bottom-0 tw-left-0 tw-z-40",4,"ngIf"],[1,"tw-fixed","tw-w-full","tw-bottom-0","tw-left-0","tw-z-40"],[1,"tw-flex","tw-items-center","tw-bg-orange-500","tw-shadow-toast","tw-text-body","tw-text-sm","tw-px-4","tw-py-3"],[1,"fad","fa-spinner-third","fa-spin","tw-mr-2"],[1,"tw-block"],["id","footer",1,"tw-bg-grey-200","tw-border-t","tw-border-grey-300","tw-text-grey-600","tw-text-xs","tw-h-12","tw-fixed","tw-bottom-0","tw-inset-x-0","tw-z-30"],["id","jumpToTop",1,"tw-hidden","tw-items-center","tw-justify-center","tw-bg-grey-400","tw-m-2","tw-w-8","tw-h-8","tw-text-grey-800","tw-rounded","tw-cursor-pointer","tw-fixed","tw-right-0","tw-bottom-0","trans-bg","hover:tw-bg-grey-500","max:tw-flex",3,"click"],["aria-hidden","true",1,"fas","fa-chevron-up"],[1,"tw-flex","tw-items-center","tw-h-12","tw-px-4"],[1,"tw-flex","tw-items-center","tw-justify-center","tw-container","tw-w-full","tw-mx-auto","md:tw-justify-between"],[1,"tw-text-center","md:tw-text-left"],[1,"tw-mr-2","md:tw-mr-3"],["id","RSKBackLink","href","https://www.rocksolidknowledge.com/","target","_blank",1,"tw-text-grey-600","tw-font-normal","hover:tw-text-grey-700","tw-transition-all","tw-ease-in-out"],[1,"tw-hidden","tw-items-center","md:tw-flex"],[1,"tw-flex","tw-items-center","tw-mr-2"],["href","documentation/index.html","target","_blank",1,"tw-text-grey-600","tw-font-normal","hover:tw-text-grey-700","tw-transition-all","tw-ease-in-out"],["aria-hidden","true",1,"tw-ml-2","tw-opacity-50","tw-text-sm"],["href","mailto:support@rocksolidknowledge.zendesk.com","target","_blank",1,"tw-text-grey-600","tw-font-normal","hover:tw-text-grey-700","tw-transition-all","tw-ease-in-out"]],template:function(a,l){if(1&a){const D=e.RV6();e.NAR(JE),e.j41(0,"a",5),e.EFF(1),e.nI1(2,"translate"),e.k0s(),e.DNE(3,iT,5,4,"div",6)(4,sT,14,8,"nav",7)(5,o_,20,20,"header",8)(6,kg,1,1,"ng-template",null,0,e.C5r)(8,Ng,1,1,"ng-template",null,1,e.C5r),e.j41(10,"main",9)(11,"app-custom-modal",10),e.bIt("onSave",function(){return e.eBV(D),e.Njj(l.removeDefaultUser())})("onCancel",function(){return e.eBV(D),e.Njj(l.cancelDefaultUserDelete())}),e.j41(12,"p"),e.EFF(13," To secure your AdminUI, the 'info@rocksolidknowledge' Administrator needs to be removed from your database "),e.k0s()(),e.DNE(14,l_,9,6,"div",11)(15,c_,1,0,"router-outlet",12),e.k0s(),e.DNE(16,MD,1,0,"ng-container",13)(17,dT,1,1,"ng-template",null,2,e.C5r)(19,d_,26,14,"footer",14)}if(2&a){const D=e.sdS(18);e.Y8G("href",l.skipLinkPath,e.B4B),e.R7$(),e.SpI(" ",e.bMT(2,14,"Nav.SkipToContent"),"\n"),e.R7$(2),e.Y8G("ngIf",l.appComponentViewConfig.showNav),e.R7$(),e.Y8G("ngIf",l.appComponentViewConfig.showBanner),e.R7$(),e.Y8G("ngIf",l.appComponentViewConfig.showNav),e.R7$(6),e.Y8G("actions",l.resolveModalActions)("title","Remove Default Administrator")("modalId",l.defaultUserRemovalModalId)("saveText","Remove User"),e.R7$(3),e.Y8G("ngIf",l.securityService.noPermissions),e.R7$(),e.Y8G("ngIf",!l.securityService.noPermissions),e.R7$(),e.Y8G("ngTemplateOutlet",D)("ngTemplateOutletContext",e.eq3(16,ZE,!l.healthCheckService.idsReady)),e.R7$(3),e.Y8G("ngIf",l.appComponentViewConfig.showFooter)}},dependencies:[gn.YU,gn.bT,gn.T3,Du,Om,Dg.G,bt.n3,bt.Wk,bt.wQ,e_,bn.D9,Hn.tl],encapsulation:2,data:{animation:[(0,yd.l1)(),(0,yd.Ws)()]}})}}return s})();const Og=["resourcesMenu"];function Uf(s,p){if(1&s&&(e.j41(0,"li",3)(1,"button",4)(2,"span",5),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.nrm(5,"span",6),e.k0s(),e.j41(6,"div",7),e.nI1(7,"translate"),e.j41(8,"ul",8),e.nrm(9,"app-nav-item",9),e.nI1(10,"translate"),e.nrm(11,"app-nav-item",9),e.nI1(12,"translate"),e.k0s()()()),2&s){const i=e.XpG();e.Y8G("autoClose",!0),e.R7$(),e.AVh("tw-nav-active",i.isApplicationRoute()),e.R7$(2),e.JRh(e.bMT(4,19,"Nav.Applications")),e.R7$(3),e.BMQ("aria-label",e.bMT(7,21,"Nav.Resources")),e.R7$(3),e.Y8G("id","app-nav-item-clients")("title",e.bMT(10,23,"Nav.Clients"))("classes","")("activeClass","tw-subnav-active")("sub",!0)("route","/applications/clients")("display",!0),e.R7$(2),e.Y8G("id","app-nav-item-apis")("title",e.bMT(12,25,"Nav.Apis"))("classes","")("activeClass","tw-subnav-active")("sub",!0)("route","/applications/apis")("display",!0)}}let Fg=(()=>{class s{constructor(i,a,l){this.securityService=i,this.licenseService=a,this.router=l,this.subscriptions=[],this.licenseIsInStarterMode=!1}ngOnInit(){this.setupLongLivedSubscriptions()}ngOnDestroy(){this.subscriptions.forEach(i=>i.unsubscribe())}setupLongLivedSubscriptions(){this.subscriptions.push(this.licenseService.getLicenseInfo().subscribe(i=>{this.licenseIsInStarterMode=i.isStarterLicense()}))}isApplicationRoute(){return this.router.url.includes("/applications")}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(Vr.i),e.rXU(ec.X),e.rXU(bt.Ix))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-root"]],viewQuery:function(a,l){if(1&a&&e.GBs(Og,5),2&a){let D;e.mGM(D=e.lsd())&&(l.resourcesMenu=D.first)}},decls:5,vars:9,consts:[["navigation",""],["id","application-navs","class","","ngbDropdown","",3,"autoClose",4,"ngIf"],[3,"id","title","classes","activeClass","route","display"],["id","application-navs","ngbDropdown","",1,"",3,"autoClose"],["tabindex","0","ngbDropdownToggle","","id","menuApplicationsToggle","type","button",1,"tw-flex","tw-items-center","tw-text-primary-200","tw-font-semibold","tw-h-header","tw-w-full","tw-px-4","tw-relative","tw-truncate","hover:tw-text-white","focus:tw-text-white","lg:tw-px-6","xl:tw-px-8","tw-transition-all","tw-ease-in-out"],[1,"tw-block","tw-truncate"],["aria-hidden","true",1,"fas","fa-caret-down","tw-text-xs","tw-ml-2","tw-opacity-50"],["ngbDropdownMenu","","aria-labelledby","menuResourcesToggle",1,"tw-w-full","tw-bg-primary-800","lg:tw-bg-primary-500","-mt-4"],["role","menu",1,"lg:tw-pt-2","lg:tw-pb-3"],[3,"id","title","classes","activeClass","sub","route","display"]],template:function(a,l){1&a&&(e.j41(0,"app-shared-base"),e.qex(1,0),e.DNE(2,Uf,13,27,"li",1),e.nrm(3,"app-nav-item",2),e.nI1(4,"translate"),e.bVm(),e.k0s()),2&a&&(e.R7$(2),e.Y8G("ngIf",l.securityService.identityServerManagerView||l.securityService.identityServerManagerReadOnlyView),e.R7$(),e.Y8G("id","app-nav-item-scopes")("title",e.bMT(4,7,"Nav.Scopes"))("classes","")("activeClass","tw-nav-active")("route","/scopes")("display",!0))},dependencies:[h_,gn.bT,Pm,Jw,Ev,e_,bn.D9],encapsulation:2,data:{animation:[(0,yd.l1)(),(0,yd.Ws)()]}})}}return s})(),Vf=(()=>{class s{constructor(i,a,l){this.scopeService=i,this.changeCachingService=a,this.errorService=l}resolve(i,a){return this.scopeService.getScope(i.params.Id).pipe((0,yi.T)(D=>(D&&this.changeCachingService.unsavedCache.next(D),D)),(0,Ma.W)((D,Q)=>(404===D.status?this.errorService.resourceNotFound(vo.v.scope):this.errorService.handleError(D),(0,Ml.I)())))}static{this.\u0275fac=function(a){return new(a||s)(e.KVO($c),e.KVO(ir.t),e.KVO(ne.I))}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac})}}return s})();const f_=(s,p)=>({title:s,link:p}),p_=s=>[s];let m_=(()=>{class s{constructor(i,a,l,D,Q,De,Qe,pt,jt,ln){this.r=i,this.route=a,this.localize=l,this.titleService=D,this.translate=Q,this.toastr=De,this.errorService=Qe,this.scopeService=pt,this.scopeCachService=jt,this.dialogService=ln,this.isFirstCall=!0}ngOnInit(){this.scopeSubscription=this.scopeCachService.unsavedCache$.subscribe({next:i=>{this.scope=i;const a=this.translate.instant("Scopes.Title.Generic")+" "+this.scope.displayName+" - "+Lt.$9.SITE_TITLE;this.titleService.setTitle(a),this.checkSubmitEnabled()},error:i=>{this.errorService.handleError(i)}})}ngOnDestroy(){this.scopeSubscription.unsubscribe()}canDeactivate(){return!(this.scopeCachService.componentDirtyValidMap.size>0)||(this.dialogService.confirm(),this.dialogService.eventStream.subscribe(i=>{i&&this.scopeCachService.componentDirtyValidMap.size>0&&this.scopeCachService.componentDirtyValidMap.clear()}),this.dialogService.eventStream)}checkSubmitEnabled(){const i=[...Array.from(this.scopeCachService.componentDirtyValidMap.values())];this.saveDisabled=0===i.length||i.some(a=>!a)}mobRoute(i){this.r.navigate([i],{relativeTo:this.route})}saveScope(){this.saveDisabled||this.scopeService.updateScope(this.scope).subscribe({next:i=>{this.isFirstCall=!0,this.scopeCachService.unsavedCache.next(i),this.scopeCachService.onSave(),this.toastr.success(this.translate.instant("Scopes.Success.Updated"),this.translate.instant("Notifications.SuccessfullySaved")),this.checkSubmitEnabled()},error:i=>{this.errorService.handleError(i)}})}deleteScope(i){this.scopeService.deleteScope(i).subscribe({next:a=>{const l=this.localize.translateRoute("/scopes");this.r.navigate([l]),this.toastr.success(`${i} ${this.translate.instant("Common.Delete.Deleted")}`,this.translate.instant("Notifications.SuccessfullyDeleted"))},error:a=>{this.errorService.handleError(a)}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(bt.Ix),e.rXU(bt.nX),e.rXU(Hn.QG),e.rXU(n.hE),e.rXU(bn.c$),e.rXU(Jn.tw),e.rXU(ne.I),e.rXU($c),e.rXU(ir.t),e.rXU(Mo.o))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["ng-component"]],decls:23,vars:28,consts:[["deleteScopeModal",""],[3,"title","crumbs","hasTabs"],["tabs",""],[3,"tabTitle","tabValue"],["id","editScope",1,"tw-container","tw-mx-auto"],["id","submitBtn",1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"click","disabled"],["right",""],["id","deleteBtn","type","button","data-toggle","modal",1,"tw-btn-danger","tw-mb-3",3,"click"],[3,"delete","resourceName"]],template:function(a,l){if(1&a){const D=e.RV6();e.j41(0,"app-title-bar",1),e.nI1(1,"translate"),e.nI1(2,"localize"),e.qex(3,2),e.j41(4,"app-custom-tabs"),e.nrm(5,"app-custom-tab",3)(6,"app-custom-tab",3)(7,"app-custom-tab",3)(8,"app-custom-tab",3),e.k0s(),e.bVm(),e.k0s(),e.j41(9,"div",4),e.nrm(10,"router-outlet"),e.k0s(),e.j41(11,"app-button-bar")(12,"button",5),e.bIt("click",function(){return e.eBV(D),e.Njj(l.saveScope())}),e.j41(13,"span"),e.EFF(14),e.nI1(15,"translate"),e.k0s()(),e.qex(16,6),e.j41(17,"button",7),e.bIt("click",function(){e.eBV(D);const De=e.sdS(21);return e.Njj(De.show())}),e.EFF(18),e.nI1(19,"translate"),e.k0s(),e.bVm(),e.k0s(),e.j41(20,"app-delete-confirmation-modal",8,0),e.bIt("delete",function(){return e.eBV(D),e.Njj(l.deleteScope(l.scope.name))}),e.k0s(),e.nrm(22,"app-can-deactivate")}2&a&&(e.Y8G("title",l.scope.displayName)("crumbs",e.eq3(26,p_,e.l_i(23,f_,e.bMT(1,15,"Nav.Scopes"),e.bMT(2,17,"/scopes"))))("hasTabs",!0),e.R7$(5),e.Y8G("tabTitle","Nav.Details")("tabValue","details"),e.R7$(),e.Y8G("tabTitle","Nav.Resources")("tabValue","resources"),e.R7$(),e.Y8G("tabTitle","Nav.Claims")("tabValue","claims"),e.R7$(),e.Y8G("tabTitle","Nav.Properties")("tabValue","properties"),e.R7$(4),e.Y8G("disabled",l.saveDisabled),e.R7$(2),e.JRh(e.bMT(15,19,"Common.SaveAll")),e.R7$(4),e.JRh(e.bMT(19,21,"Common.Delete.Title")),e.R7$(2),e.Y8G("resourceName",l.scope.displayName))},dependencies:[bt.n3,Vo.w,qt.z,ho.z,fa.E,sn.G,Cn.v,bn.D9,Hn.tl],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();const g_=s=>({"tw-mt-8 tw-p-6 tw-border-2 tw-border-grey-300":s}),Pg=s=>[s];function v_(s,p){if(1&s&&(e.j41(0,"option",9),e.EFF(1),e.k0s()),2&s){const i=p.$implicit;e.Y8G("value",i.name),e.R7$(),e.JRh(i.displayName)}}function y_(s,p){if(1&s&&(e.j41(0,"div",5)(1,"select",6)(2,"option",7),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.DNE(5,v_,2,2,"option",8),e.k0s()()),2&s){const i=e.XpG();e.R7$(3),e.JRh(e.bMT(4,2,"Languages.DefaultLanguage")),e.R7$(2),e.Y8G("ngForOf",i.languages)}}function __(s,p){1&s&&(e.j41(0,"app-form-row",11),e.nrm(1,"textarea",14),e.k0s()),2&s&&e.Y8G("id","Description")("label","Scopes.Description.Label")("help","Scopes.Description.Help")("isLast",!0)}function b_(s,p){if(1&s&&(e.j41(0,"div",10)(1,"app-form-row",11),e.nrm(2,"input",12),e.k0s(),e.DNE(3,__,2,4,"app-form-row",13),e.k0s()),2&s){const i=e.XpG();e.R7$(),e.Y8G("id","DisplayName")("label","Scopes.DisplayName.Label")("help","Scopes.DisplayName.Help")("isLast",i.disableDescription),e.R7$(2),e.Y8G("ngIf",!i.disableDescription)}}function C_(s,p){if(1&s&&(e.j41(0,"div",10)(1,"app-form-row",15),e.nrm(2,"app-readonly",16),e.nI1(3,"readOnlyValue"),e.k0s(),e.j41(4,"app-form-row",15),e.nrm(5,"app-readonly",16),e.nI1(6,"readOnlyValue"),e.k0s()()),2&s){const i=e.XpG();e.R7$(),e.Y8G("label","Common.DisplayName")("help","IdentityResources.DisplayNameHelp")("isLast",i.disableDescription),e.R7$(),e.Y8G("fieldType",i.ReadOnlyFieldType.Single)("values",e.eq3(14,Pg,e.bMT(3,10,i.formGroup.get("displayName").value))),e.R7$(2),e.Y8G("label","Common.Description")("help","Resources.DescriptionHelp")("isLast",!0),e.R7$(),e.Y8G("fieldType",i.ReadOnlyFieldType.Single)("values",e.eq3(16,Pg,e.bMT(6,12,i.formGroup.get("description").value)))}}let w_=(()=>{class s{get ReadOnlyFieldType(){return Gi.t}constructor(i,a,l){this.fb=i,this.errorService=a,this.configService=l,this.disableDescription=!1,this.isReadOnly=!1,this.valuesChange=new e.bkB,this.onlyDefaultLanguage=new e.bkB,this.displayName="",this.description="",this.displayNames={},this.descriptions={},this.languages=[],this.currentLanguage=""}ngOnInit(){this.displayName=this.initialValues.displayName,this.description=this.initialValues.description,this.displayNames=this.initialValues.displayNames,this.descriptions=this.initialValues.descriptions,this.configService.getConfig().pipe((0,Vn.$)()).subscribe({next:i=>{this.languages=i.supportedLanguages??[],this.onlyDefaultLanguage.emit(0===this.languages.length)},error:i=>{this.errorService.handleError(i)}}),this.buildDetailsForm(),this.subscribeToValueChanges()}ngOnDestroy(){this.formSubscription.unsubscribe()}buildDetailsForm(){this.formGroup=this.fb.group({displayName:[this.displayName,[g.k0.required]],description:[this.description,[]],language:["",[]]})}subscribeToValueChanges(){this.formSubscription=this.formGroup.valueChanges.subscribe({next:i=>{if(this.currentLanguage!=i.language)return this.currentLanguage=i.language,void(""===this.currentLanguage?(this.formGroup.get("displayName").setValue(this.displayName,{emitEvent:!1}),this.formGroup.get("description").setValue(this.description,{emitEvent:!1})):(this.formGroup.get("displayName").setValue(this.displayNames[this.currentLanguage],{emitEvent:!1}),this.formGroup.get("description").setValue(this.descriptions[this.currentLanguage],{emitEvent:!1})));""===this.currentLanguage?(this.displayName=this.formGroup.get("displayName").value,this.description=this.formGroup.get("description").value):(this.displayNames[this.currentLanguage]=this.formGroup.get("displayName").value,this.descriptions[this.currentLanguage]=this.formGroup.get("description").value),this.valuesChange.emit({displayName:this.displayName,description:this.description,displayNames:this.displayNames,descriptions:this.descriptions})}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(g.ze),e.rXU(ne.I),e.rXU(zs.w))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["displayname-description"]],inputs:{disableDescription:"disableDescription",isReadOnly:"isReadOnly",initialValues:"initialValues"},outputs:{valuesChange:"valuesChange",onlyDefaultLanguage:"onlyDefaultLanguage"},decls:6,vars:9,consts:[[3,"formGroup"],[3,"ngClass"],[3,"label","help"],["class","tw-form-select tw-w-[300px]",4,"ngIf"],["class","tw-grow",4,"ngIf"],[1,"tw-form-select","tw-w-[300px]"],["id","languageSelector","formControlName","language",1,"tw-form-control","tw-form-control-small"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"tw-grow"],[3,"id","label","help","isLast"],["type","text","name","DisplayName","id","DisplayName","formControlName","displayName","required","",1,"tw-form-control"],[3,"id","label","help","isLast",4,"ngIf"],["type","text","name","Description","id","Description","formControlName","description",1,"tw-form-control"],[3,"label","help","isLast"],[3,"fieldType","values"]],template:function(a,l){1&a&&(e.j41(0,"form",0)(1,"div",1)(2,"app-form-row",2),e.DNE(3,y_,6,4,"div",3),e.k0s(),e.DNE(4,b_,4,5,"div",4)(5,C_,7,18,"div",4),e.k0s()()),2&a&&(e.Y8G("formGroup",l.formGroup),e.R7$(),e.Y8G("ngClass",e.eq3(7,g_,l.languages.length>0)),e.R7$(),e.Y8G("label","Languages.Select")("help","Languages.Helper"),e.R7$(),e.Y8G("ngIf",l.languages.length>0),e.R7$(),e.Y8G("ngIf",!l.isReadOnly),e.R7$(),e.Y8G("ngIf",l.isReadOnly))},dependencies:[gn.YU,gn.Sq,gn.bT,g.qT,g.xH,g.y7,g.me,g.wz,g.BC,g.cb,g.YS,fe.Y,g.j4,g.JD,zr.O,bn.D9,Di.u],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();const hT=s=>[s];function fT(s,p){if(1&s){const i=e.RV6();e.j41(0,"displayname-description",4),e.bIt("valuesChange",function(l){e.eBV(i);const D=e.XpG();return e.Njj(D.updateCache(l))})("onlyDefaultLanguage",function(l){e.eBV(i);const D=e.XpG();return e.Njj(D.onlyDefaultLanguage=l)}),e.k0s()}if(2&s){const i=e.XpG();e.Y8G("initialValues",i.displayNameDescription)}}let pT=(()=>{class s{get ReadOnlyFieldType(){return Gi.t}constructor(i,a){this.errorService=i,this.scopeCacheService=a,this.onlyDefaultLanguage=!1}ngOnInit(){this.scopeCacheService.unsavedCache$.pipe((0,Vn.$)()).subscribe({next:i=>{this.scope=i,this.displayNameDescription={displayName:this.scope.displayName,description:this.scope.description,displayNames:this.scope.displayNames,descriptions:this.scope.descriptions}},error:i=>{this.errorService.handleError(i)}})}updateCache(i){let a={...this.scope};a.displayName=i.displayName,a.description=i.description,a.displayNames=i.displayNames,a.descriptions=i.descriptions,this.scopeCacheService.componentDirtyValidMap.set("EditScopeDetailsComponent",!0),this.scopeCacheService.unsavedCache.next(a)}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(ne.I),e.rXU(ir.t))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-edit-scope-details"]],decls:5,vars:11,consts:[["id","editScopeDetails",1,"tw-container","tw-mx-auto"],[3,"id","label","help","isLast"],[3,"fieldType","values"],[3,"initialValues","valuesChange","onlyDefaultLanguage",4,"ngIf"],[3,"valuesChange","onlyDefaultLanguage","initialValues"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"app-form-row",1),e.nrm(2,"app-readonly",2),e.nI1(3,"readOnlyValue"),e.k0s(),e.DNE(4,fT,1,1,"displayname-description",3),e.k0s()),2&a&&(e.R7$(),e.Y8G("id","Name")("label","Scopes.Name.Label")("help","Scopes.Name.Help")("isLast",!l.onlyDefaultLanguage),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(9,hT,e.bMT(3,7,l.scope.name))),e.R7$(2),e.Y8G("ngIf",l.displayNameDescription))},dependencies:[gn.bT,zr.O,fe.Y,w_,Di.u],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();function S_(s,p){if(1&s&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"slice"),e.k0s()),2&s){const i=p.item;e.R7$(),e.JRh(i.length>20?e.brH(2,1,i,0,20)+"...":i)}}function mT(s,p){1&s&&(e.j41(0,"div",11)(1,"div"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&s&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"Scopes.Resources.NoneFound")," "))}function gT(s,p){if(1&s){const i=e.RV6();e.j41(0,"tr")(1,"td",18)(2,"span"),e.EFF(3),e.k0s()(),e.j41(4,"td")(5,"button",19),e.bIt("click",function(){const l=e.eBV(i).$implicit,D=e.XpG(3);return e.Njj(D.removeResource(l))}),e.nrm(6,"span",20),e.j41(7,"span",15),e.EFF(8),e.nI1(9,"translate"),e.k0s()()()()}if(2&s){const i=p.$implicit;e.R7$(3),e.JRh(i),e.R7$(5),e.JRh(e.bMT(9,2,"Common.Delete.Title"))}}function vT(s,p){if(1&s&&(e.j41(0,"table",12)(1,"thead",13)(2,"th",14)(3,"span",15),e.EFF(4),e.nI1(5,"translate"),e.k0s()(),e.j41(6,"th",16)(7,"span",15),e.EFF(8),e.nI1(9,"translate"),e.k0s()()(),e.j41(10,"tbody"),e.DNE(11,gT,10,4,"tr",17),e.k0s()()),2&s){const i=e.XpG(2);e.R7$(4),e.JRh(e.bMT(5,3,"Common.Resource")),e.R7$(4),e.JRh(e.bMT(9,5,"Common.Actions")),e.R7$(3),e.Y8G("ngForOf",i.currentResources())}}function yT(s,p){if(1&s){const i=e.RV6();e.j41(0,"form",3)(1,"app-form-row",4)(2,"app-row-bar",5),e.nrm(3,"input",6),e.nI1(4,"translate"),e.j41(5,"button",7),e.bIt("click",function(){e.eBV(i);const l=e.XpG();return e.Njj(l.addResource())}),e.EFF(6),e.nI1(7,"translate"),e.k0s()()(),e.j41(8,"div",8),e.DNE(9,mT,4,3,"div",9)(10,vT,12,7,"table",10),e.k0s()()}if(2&s){const i=e.XpG();e.Y8G("formGroup",i.formGroup),e.R7$(),e.Y8G("id","NewResources")("hasLabel",!1)("isLast",!0),e.R7$(2),e.FS9("placeholder",e.bMT(4,9,"Scopes.Resources.Placeholder")),e.R7$(3),e.SpI(" ",e.bMT(7,11,"Common.Add")," "),e.R7$(2),e.Y8G("id","Resources"),e.R7$(),e.Y8G("ngIf",i.currentResources().length<=0),e.R7$(),e.Y8G("ngIf",i.currentResources().length>0)}}let _T=(()=>{class s{constructor(i,a,l,D,Q){this.fb=i,this.errorService=a,this.scopeCacheService=l,this.translate=D,this.toastr=Q}ngOnInit(){this.scopeCacheService.unsavedCache$.pipe((0,Vn.$)()).subscribe({next:i=>{this.scope=i,this.formGroup=this.fb.group({newResource:["",[g.k0.required,ld()]],resources:[this.scope.resources,[]]}),this.subscribeToValueChanges()},error:i=>{this.errorService.handleError(i)}})}ngOnDestroy(){this.formSubscription.unsubscribe()}subscribeToValueChanges(){this.formSubscription=this.formGroup.controls.resources.valueChanges.subscribe({next:i=>{let a={...this.scope};this.scopeCacheService.componentDirtyValidMap.set("DynamicAuthEditScopesComponent",this.formGroup.valid),a.resources=this.formGroup.controls.resources.value,this.scopeCacheService.unsavedCache.next(a)}})}currentResources(){return this.formGroup.controls.resources.value}addResource(){const i=this.formGroup.get("newResource").value,a=this.formGroup.controls.resources.value;""!==i?i.indexOf(" ")>=0?this.toastr.error(this.translate.instant("Scopes.Resources.CannotHaveSpaces")):a.includes(i)?this.toastr.error(this.translate.instant("Scopes.Resources.AlreadyAdded")):this.formGroup.setValue({newResource:"",resources:[...a,i]}):this.toastr.error(this.translate.instant("Scopes.Resources.MustSpecifyResource"))}removeResource(i){this.formGroup.controls.resources.setValue(this.formGroup.controls.resources.value.filter(l=>l!==i))}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(g.ze),e.rXU(ne.I),e.rXU(ir.t),e.rXU(bn.c$),e.rXU(Jn.tw))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-edit-resources-details"]],decls:4,vars:1,consts:[["customItemTemplate",""],["id","editIdPDetails",1,"tw-container","tw-mx-auto"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","hasLabel","isLast"],[1,"tw-form-typeahead"],["id","new-scope-input","formControlName","newResource","type","text","name","New Resource","autocomplete","off","left","",1,"tw-form-control",3,"placeholder"],["id","addScopeButton","right","",1,"tw-btn-success",3,"click"],[1,"tw-mt-6",3,"id"],["class","tw-alert","role","alert",4,"ngIf"],["class","datatable",4,"ngIf"],["role","alert",1,"tw-alert"],[1,"datatable"],[1,""],[1,"tw-w-full"],[1,"sr-only"],[1,"tw-w-1"],[4,"ngFor","ngForOf"],[1,"tw-table-cell","tw-max-w-0","tw-truncate"],["value","Delete",1,"tw-btn-link","tw-btn-small","tw-text-red-500",3,"click"],["aria-hidden","true",1,"fas","fa-times"]],template:function(a,l){1&a&&(e.DNE(0,S_,3,5,"ng-template",null,0,e.C5r),e.j41(2,"div",1),e.DNE(3,yT,11,13,"form",2),e.k0s()),2&a&&(e.R7$(3),e.Y8G("ngIf",l.scope))},dependencies:[gn.Sq,gn.bT,g.qT,g.me,g.BC,g.cb,g.j4,g.JD,fe.Y,Cr.f,gn.P9,bn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();class E_{}const bT=["ClaimsPicker"];let CT=(()=>{class s{constructor(i,a,l){this.errorService=i,this.scopeCacheService=a,this.claimTypeService=l,this.originalClaims=[],this.convertedOriginalClaims=[],this.availableClaims=[],this.assignedClaims=[]}ngOnInit(){this.claimTypeService.getClaimTypes().pipe((0,Vn.$)()).subscribe(i=>{this.originalClaims=i,this.convertedOriginalClaims=this.convertOriginalClaimTypesToPickerClaimTypes(this.originalClaims),this.scopeCacheService.unsavedCache$.pipe((0,Vn.$)()).subscribe({next:a=>{this.scope=a,this.assignedClaims=this.convertStoredClaimsToPickerClaims(this.scope.claims),this.availableClaims=(0,Ii.Yt)(this.convertedOriginalClaims,this.assignedClaims)},error:a=>{this.errorService.handleError(a)}})})}ngAfterViewInit(){this.claimsPicker.assignedStream.subscribe(i=>{this.assignClaims(i)}),this.claimsPicker.unAssignedStream.subscribe(i=>{this.unassignClaims(i)})}getAssignedClaimNames(){let i=[];return this.assignedClaims.forEach(a=>{const l=this.originalClaims.find(D=>D.displayName===a.name);i.push(l?l.name:a.name)}),i}convertStoredClaimsToPickerClaims(i){let a=[];return i.map(l=>{let D=new E_;const Q=this.originalClaims.find(De=>De.name===l);D.name=Q?Q.displayName:l,a.push(D)}),a}convertOriginalClaimTypesToPickerClaimTypes(i){let a=[];return i.map(l=>{let D=new E_;D.name=l.displayName?l.displayName:l.name,a.push(D)}),a}assignClaims(i){this.assignedClaims=this.assignedClaims.concat(i),this.availableClaims=(0,Ii.Yt)(this.convertedOriginalClaims,this.assignedClaims);let a=this.getAssignedClaimNames();this.scopeCacheService.componentDirtyValidMap.set("EditScopeClaimsComponent",!0);let l={...this.scope};l.claims=a,this.scopeCacheService.unsavedCache.next(l)}unassignClaims(i){this.assignedClaims=(0,Ii.Yt)(this.assignedClaims,i),this.availableClaims=(0,Ii.Yt)(this.convertedOriginalClaims,this.assignedClaims);let a=this.getAssignedClaimNames();this.scopeCacheService.componentDirtyValidMap.set("EditScopeClaimsComponent",!0);let l={...this.scope};l.claims=a,this.scopeCacheService.unsavedCache.next(l)}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(ne.I),e.rXU(ir.t),e.rXU(ze.X))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-edit-scope-claims"]],viewQuery:function(a,l){if(1&a&&e.GBs(bT,7),2&a){let D;e.mGM(D=e.lsd())&&(l.claimsPicker=D.first)}},decls:6,vars:6,consts:[["ClaimsPicker",""],[1,"cms"],[3,"assignedInput","availableInput","availableSearch"]],template:function(a,l){1&a&&(e.j41(0,"div",1)(1,"p"),e.EFF(2),e.nI1(3,"translate"),e.k0s()(),e.nrm(4,"app-common-picker",2,0)),2&a&&(e.R7$(2),e.JRh(e.bMT(3,4,"Scopes.ClaimTypes.Help")),e.R7$(2),e.Y8G("assignedInput",l.assignedClaims)("availableInput",l.availableClaims)("availableSearch",!0))},dependencies:[_h.f,bn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();var wT=u(7185);const T_=["addButton"],I_=["updateButton"],D_=["deleteButton"];function A_(s,p){1&s&&(e.j41(0,"div",18),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Scopes.Properties.EmptyMessage")))}function R_(s,p){if(1&s){const i=e.RV6();e.j41(0,"tr",26)(1,"td",27),e.EFF(2),e.k0s(),e.j41(3,"td",28),e.EFF(4),e.k0s(),e.j41(5,"td",29)(6,"button",30),e.bIt("click",function(){const l=e.eBV(i).$implicit,D=e.XpG(2);return e.Njj(D.openEditModal(l.key))}),e.nrm(7,"span",31),e.j41(8,"span",23),e.EFF(9),e.nI1(10,"translate"),e.k0s()(),e.j41(11,"button",32),e.bIt("click",function(){const l=e.eBV(i).$implicit,D=e.XpG(2);return e.Njj(D.openDeleteModal(l.key))}),e.nrm(12,"span",33),e.j41(13,"span",23),e.EFF(14),e.nI1(15,"translate"),e.k0s()()()()}if(2&s){const i=p.$implicit;e.R7$(2),e.SpI(" ",i.key," "),e.R7$(2),e.SpI(" ",i.value," "),e.R7$(5),e.JRh(e.bMT(10,4,"Common.Edit")),e.R7$(5),e.JRh(e.bMT(15,6,"Common.Remove.Title"))}}function M_(s,p){if(1&s&&(e.j41(0,"table",19)(1,"thead")(2,"tr")(3,"th",20),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"th",21),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"th",22)(10,"span",23),e.EFF(11),e.nI1(12,"translate"),e.k0s()()()(),e.j41(13,"tbody",24),e.DNE(14,R_,16,8,"tr",25),e.nI1(15,"keyvalue"),e.k0s()()),2&s){const i=e.XpG();e.R7$(4),e.JRh(e.bMT(5,4,"Common.Key")),e.R7$(3),e.JRh(e.bMT(8,6,"Common.Value")),e.R7$(4),e.JRh(e.bMT(12,8,"Common.Actions")),e.R7$(3),e.Y8G("ngForOf",e.bMT(15,10,i.scope.properties))}}let x_=(()=>{class s{constructor(i,a,l,D,Q,De){this.fb=i,this.errorService=a,this.scopeCacheService=l,this.translate=D,this.toastr=Q,this.modalService=De,this.deleteModalType=wT.q.Warning,this.addModalActions=[Df.N.Save],this.addPropertyModalId="addPropertyModal",this.updateModalActions=[Df.N.Save],this.updatePropertyModalId="updatePropertyModal",this.deleteModalActions=[Df.N.Delete],this.deleteModalId="deletePropertyModal"}ngOnInit(){this.scopeCacheService.unsavedCache$.pipe((0,Vn.$)()).subscribe({next:i=>{this.scope=i,null==this.scope.properties&&(this.scope.properties={})},error:i=>{this.errorService.handleError(i)}}),this.formProperty=this.fb.group({key:["",[g.k0.required]],value:["",[]]})}updatePropertiesInCache(){this.scopeCacheService.componentDirtyValidMap.set("EditScopePropertiesComponent",!0),this.scopeCacheService.unsavedCache.next(this.scope)}propertiesEmpty(){return null==this.scope.properties||0==Object.keys(this.scope.properties).length}openAddModal(){this.modalService.showById(this.addPropertyModalId,this.addButtonRef)}closeAddModal(){this.modalService.hideById(this.addPropertyModalId),this.formProperty.reset()}newKeyIsInvalid(){return null!=this.scope.properties[this.formProperty.controls.key.value]||null==this.formProperty.controls.key.value||""==this.formProperty.controls.key.value||this.formProperty.invalid}addProperty(){this.newKeyIsInvalid()||(this.scope.properties[this.formProperty.controls.key.value]=this.formProperty.controls.value.value,this.updatePropertiesInCache(),this.formProperty.reset())}openEditModal(i){this.formProperty.controls.key.setValue(i),this.formProperty.controls.value.setValue(this.scope.properties[i]),this.modalService.showById(this.updatePropertyModalId,this.updateButtonRef)}closeEditModal(){this.modalService.hideById(this.updatePropertyModalId),this.formProperty.reset()}openDeleteModal(i){this.deleteTarget=i,this.modalService.showById(this.deleteModalId,this.deleteButtonRef)}closeDeleteModal(){this.modalService.hideById(this.deleteModalId),this.deleteTarget=null}removeProperty(){delete this.scope.properties[this.deleteTarget],this.updatePropertiesInCache(),this.closeDeleteModal()}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(g.ze),e.rXU(ne.I),e.rXU(ir.t),e.rXU(bn.c$),e.rXU(Jn.tw),e.rXU(Ig.B))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-edit-scope-properties"]],viewQuery:function(a,l){if(1&a&&(e.GBs(T_,5),e.GBs(I_,5),e.GBs(D_,5)),2&a){let D;e.mGM(D=e.lsd())&&(l.addButtonRef=D.first),e.mGM(D=e.lsd())&&(l.updateButtonRef=D.first),e.mGM(D=e.lsd())&&(l.deleteButtonRef=D.first)}},decls:29,vars:38,consts:[["id","scopesList",1,"tw-container","tw-mx-auto"],["right",""],["id","addProperty","type","button","placement","right",1,"tw-btn-success",3,"click"],["class","tw-italic",4,"ngIf"],["class","datatable hover",4,"ngIf"],[3,"onCancel","onSave","title","modalId","actions","addDisabled"],[3,"formGroup"],[3,"label","id"],["id","addPropertyKey","type","text","id","key","formControlName","key",1,"tw-form-control","tw-max-w-full"],[3,"label","id","isLast"],["id","addPropertyValue","type","text","id","value","formControlName","value",1,"tw-form-control","tw-max-w-full"],[3,"onCancel","onSave","title","modalId","actions","saveText","addDisabled"],["id","updatePropertyValue","type","text","id","value","formControlName","value",1,"tw-form-control","tw-max-w-full"],[3,"onCancel","onDelete","title","modalId","actions","modalType"],[1,"tw-text-center"],[1,"tw-mb-4"],[1,"tw-font-bold"],[1,"tw-pill-danger",3,"innerHTML"],[1,"tw-italic"],[1,"datatable","hover"],[1,"tw-hidden","tw-w-1/4","md:tw-table-cell"],[1,"tw-hidden","lg:tw-table-cell"],[1,"tw-w-1"],[1,"sr-only"],["id","propertiesTable"],["class","group",4,"ngFor","ngForOf"],[1,"group"],[1,"tw-hidden","tw-max-w-0","tw-truncate","md:tw-table-cell"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell"],[1,"tw-flex","tw-items-center"],["type","button",1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500","tw-mr-4",3,"click"],["id","editIcon","aria-hidden","true",1,"fad","fa-pencil"],["type","button",1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click"],["id","deleteIcon","aria-hidden","true",1,"fad","fa-times"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"app-action-bar"),e.qex(2,1),e.j41(3,"button",2),e.bIt("click",function(){return l.openAddModal()}),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.bVm(),e.k0s(),e.DNE(6,A_,3,3,"div",3)(7,M_,16,12,"table",4),e.k0s(),e.j41(8,"app-custom-modal",5),e.bIt("onCancel",function(){return l.closeAddModal()})("onSave",function(){return l.addProperty()}),e.j41(9,"form",6)(10,"app-form-row",7),e.nrm(11,"input",8),e.k0s(),e.j41(12,"app-form-row",9),e.nrm(13,"input",10),e.k0s()()(),e.j41(14,"app-custom-modal",11),e.bIt("onCancel",function(){return l.closeEditModal()})("onSave",function(){return l.addProperty()}),e.j41(15,"form",6)(16,"app-form-row",7),e.EFF(17),e.k0s(),e.j41(18,"app-form-row",9),e.nrm(19,"input",12),e.k0s()()(),e.j41(20,"app-custom-modal",13),e.bIt("onCancel",function(){return l.closeDeleteModal()})("onDelete",function(){return l.removeProperty()}),e.j41(21,"div",14)(22,"p",15),e.EFF(23),e.nI1(24,"translate"),e.j41(25,"span",16),e.EFF(26),e.k0s()(),e.nrm(27,"p",17),e.nI1(28,"translate"),e.k0s()()),2&a&&(e.R7$(4),e.SpI(" ",e.bMT(5,32,"Common.Add")," "),e.R7$(2),e.Y8G("ngIf",l.propertiesEmpty()),e.R7$(),e.Y8G("ngIf",!l.propertiesEmpty()),e.R7$(),e.Y8G("title","Scopes.Properties.AddProperty")("modalId",l.addPropertyModalId)("actions",l.addModalActions)("addDisabled",l.newKeyIsInvalid()),e.R7$(),e.Y8G("formGroup",l.formProperty),e.R7$(),e.Y8G("label","Common.Key")("id","addPropertyKey"),e.R7$(2),e.Y8G("label","Common.Value")("id","addPropertyValue")("isLast",!0),e.R7$(2),e.Y8G("title","Scopes.Properties.UpdateProperty")("modalId",l.updatePropertyModalId)("actions",l.updateModalActions)("saveText","Common.Update")("addDisabled",l.formProperty.controls.key.invalid),e.R7$(),e.Y8G("formGroup",l.formProperty),e.R7$(),e.Y8G("label","Common.Key")("id","updatePropertyKey"),e.R7$(),e.SpI(" ",l.formProperty.controls.key.value," "),e.R7$(),e.Y8G("label","Common.Value")("id","updatePropertyValue")("isLast",!0),e.R7$(2),e.Y8G("title","Scopes.Properties.DeleteProperty")("modalId",l.deleteModalId)("actions",l.deleteModalActions)("modalType",l.deleteModalType),e.R7$(3),e.SpI("",e.bMT(24,34,"Common.Delete.AreYouSureSimple")," "),e.R7$(3),e.JRh(l.deleteTarget),e.R7$(),e.Y8G("innerHTML",e.bMT(28,36,"Common.Delete.Warning"),e.npT))},dependencies:[gn.Sq,gn.bT,g.qT,g.me,g.BC,g.cb,g.j4,g.JD,Dg.G,al.n,fe.Y,gn.lG,bn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();const k_=(s,p)=>({title:s,link:p}),N_=s=>[s];let O_=(()=>{class s{constructor(i,a,l,D,Q,De,Qe,pt,jt){this.r=i,this.route=a,this.localize=l,this.titleService=D,this.translate=Q,this.toastr=De,this.errorService=Qe,this.scopeService=pt,this.scopeCachService=jt,this.isFirstCall=!0}ngOnInit(){this.scopeSubscription=this.scopeCachService.unsavedCache$.subscribe({next:i=>{this.scope=i;const a=this.translate.instant("Scopes.Title.Generic")+" "+this.scope.displayName+" - "+Lt.$9.SITE_TITLE;this.titleService.setTitle(a),this.checkSubmitEnabled()},error:i=>{this.errorService.handleError(i)}})}ngOnDestroy(){this.scopeSubscription.unsubscribe()}checkSubmitEnabled(){const i=[...Array.from(this.scopeCachService.componentDirtyValidMap.values())];this.saveDisabled=0===i.length||i.some(a=>!a)}mobRoute(i){this.r.navigate([i],{relativeTo:this.route})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(bt.Ix),e.rXU(bt.nX),e.rXU(Hn.QG),e.rXU(n.hE),e.rXU(bn.c$),e.rXU(Jn.tw),e.rXU(ne.I),e.rXU($c),e.rXU(ir.t))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["ng-component"]],decls:11,vars:20,consts:[[3,"title","crumbs","hasTabs"],["tabs",""],[3,"tabTitle","tabValue"],["id","viewScope",1,"tw-container","tw-mx-auto"]],template:function(a,l){1&a&&(e.j41(0,"app-title-bar",0),e.nI1(1,"translate"),e.nI1(2,"localize"),e.qex(3,1),e.j41(4,"app-custom-tabs"),e.nrm(5,"app-custom-tab",2)(6,"app-custom-tab",2)(7,"app-custom-tab",2)(8,"app-custom-tab",2),e.k0s(),e.bVm(),e.k0s(),e.j41(9,"div",3),e.nrm(10,"router-outlet"),e.k0s()),2&a&&(e.Y8G("title",l.scope.displayName)("crumbs",e.eq3(18,N_,e.l_i(15,k_,e.bMT(1,11,"Nav.Scopes"),e.bMT(2,13,"/scopes"))))("hasTabs",!0),e.R7$(5),e.Y8G("tabTitle","Nav.Details")("tabValue","details"),e.R7$(),e.Y8G("tabTitle","Nav.Resources")("tabValue","resources"),e.R7$(),e.Y8G("tabTitle","Nav.Claims")("tabValue","claims"),e.R7$(),e.Y8G("tabTitle","Nav.Properties")("tabValue","properties"))},dependencies:[bt.n3,qt.z,sn.G,Cn.v,bn.D9,Hn.tl],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();const F_=s=>[s];function ST(s,p){if(1&s){const i=e.RV6();e.j41(0,"displayname-description",4),e.bIt("onlyDefaultLanguage",function(l){e.eBV(i);const D=e.XpG();return e.Njj(D.onlyDefaultLanguage=l)}),e.k0s()}if(2&s){const i=e.XpG();e.Y8G("isReadOnly",!0)("initialValues",i.displayNameDescription)}}let ET=(()=>{class s{get ReadOnlyFieldType(){return Gi.t}constructor(i,a){this.errorService=i,this.scopeCacheService=a,this.onlyDefaultLanguage=!1}ngOnInit(){this.scopeCacheService.unsavedCache$.pipe((0,Vn.$)()).subscribe({next:i=>{this.scope=i,this.displayNameDescription={displayName:this.scope.displayName,description:this.scope.description,displayNames:this.scope.displayNames,descriptions:this.scope.descriptions}},error:i=>{this.errorService.handleError(i)}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(ne.I),e.rXU(ir.t))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["view-scope-details"]],decls:5,vars:11,consts:[["id","editScopeDetails",1,"tw-container","tw-mx-auto"],[3,"id","label","help","isLast"],[3,"fieldType","values"],[3,"isReadOnly","initialValues","onlyDefaultLanguage",4,"ngIf"],[3,"onlyDefaultLanguage","isReadOnly","initialValues"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"app-form-row",1),e.nrm(2,"app-readonly",2),e.nI1(3,"readOnlyValue"),e.k0s(),e.DNE(4,ST,1,2,"displayname-description",3),e.k0s()),2&a&&(e.R7$(),e.Y8G("id","Name")("label","Scopes.Name.Label")("help","Scopes.Name.Help")("isLast",!l.onlyDefaultLanguage),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(9,F_,e.bMT(3,7,l.scope.name))),e.R7$(2),e.Y8G("ngIf",l.displayNameDescription))},dependencies:[gn.bT,zr.O,fe.Y,w_,Di.u],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();function Bg(s,p){if(1&s&&(e.j41(0,"app-form-row",2),e.nrm(1,"app-readonly",3),e.k0s()),2&s){const i=e.XpG();e.Y8G("label","Scopes.ClaimTypes.Label")("isLast",!0),e.R7$(),e.Y8G("fieldType",i.ReadOnlyFieldType.Multi)("values",i.displayClaims)}}let jf=(()=>{class s{constructor(i,a,l,D){this.titleService=i,this.errorService=a,this.scopeCacheService=l,this.translate=D,this.displayClaims=[]}get ReadOnlyFieldType(){return Gi.t}ngOnInit(){this.scopeCacheService.unsavedCache$.pipe((0,Vn.$)()).subscribe({next:i=>{this.scope=i,this.titleService.setTitle(this.translate.instant("IdentityResources.Singular")+" "+this.scope.displayName+" "+this.translate.instant("Nav.Details")+` - ${Lt.$9.SITE_TITLE}`),this.displayClaims=this.scope.claims.sort().map(a=>new To.w(a))},error:i=>{this.errorService.handleError(i)}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(n.hE),e.rXU(ne.I),e.rXU(ir.t),e.rXU(bn.c$))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["view-scope-claims"]],decls:5,vars:4,consts:[[1,"cms"],[3,"label","isLast",4,"ngIf"],[3,"label","isLast"],[3,"fieldType","values"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"p"),e.EFF(2),e.nI1(3,"translate"),e.k0s()(),e.DNE(4,Bg,2,4,"app-form-row",1)),2&a&&(e.R7$(2),e.JRh(e.bMT(3,2,"Scopes.ClaimTypes.Help")),e.R7$(2),e.Y8G("ngIf",l.displayClaims))},dependencies:[gn.bT,zr.O,fe.Y,bn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();function Lg(s,p){if(1&s&&(e.j41(0,"app-form-row",2),e.nrm(1,"app-readonly",3),e.k0s()),2&s){const i=e.XpG();e.Y8G("label","Scopes.Resources.Label")("isLast",!0),e.R7$(),e.Y8G("fieldType",i.ReadOnlyFieldType.Multi)("values",i.displayResources)}}let P_=(()=>{class s{constructor(i,a,l,D){this.titleService=i,this.errorService=a,this.scopeCacheService=l,this.translate=D,this.displayResources=[]}get ReadOnlyFieldType(){return Gi.t}ngOnInit(){this.scopeCacheService.unsavedCache$.pipe((0,Vn.$)()).subscribe({next:i=>{this.scope=i,this.titleService.setTitle(this.translate.instant("IdentityResources.Singular")+" "+this.scope.displayName+" "+this.translate.instant("Nav.Details")+` - ${Lt.$9.SITE_TITLE}`),this.displayResources=this.scope.resources.sort().map(a=>new To.w(a))},error:i=>{this.errorService.handleError(i)}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(n.hE),e.rXU(ne.I),e.rXU(ir.t),e.rXU(bn.c$))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["view-scope-resources"]],decls:5,vars:4,consts:[[1,"cms"],[3,"label","isLast",4,"ngIf"],[3,"label","isLast"],[3,"fieldType","values"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"p"),e.EFF(2),e.nI1(3,"translate"),e.k0s()(),e.DNE(4,Lg,2,4,"app-form-row",1)),2&a&&(e.R7$(2),e.JRh(e.bMT(3,2,"Scopes.Resources.Help")),e.R7$(2),e.Y8G("ngIf",l.displayResources))},dependencies:[gn.bT,zr.O,fe.Y,bn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();const B_=["viewButton"];function L_(s,p){1&s&&(e.j41(0,"div",7),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Scopes.Properties.EmptyMessage")))}function U_(s,p){if(1&s){const i=e.RV6();e.j41(0,"tr",15)(1,"td",16),e.EFF(2),e.k0s(),e.j41(3,"td",17),e.EFF(4),e.k0s(),e.j41(5,"td",18)(6,"button",19),e.bIt("click",function(){const l=e.eBV(i).$implicit,D=e.XpG(2);return e.Njj(D.openViewPropertyModal(l.key))}),e.nrm(7,"span",20),e.j41(8,"span",12),e.EFF(9),e.nI1(10,"translate"),e.k0s()()()()}if(2&s){const i=p.$implicit;e.R7$(2),e.SpI(" ",i.key," "),e.R7$(2),e.SpI(" ",i.value," "),e.R7$(5),e.JRh(e.bMT(10,3,"Common.View"))}}function V_(s,p){if(1&s&&(e.j41(0,"table",8)(1,"thead")(2,"tr")(3,"th",9),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"th",10),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"th",11)(10,"span",12),e.EFF(11),e.nI1(12,"translate"),e.k0s()()()(),e.j41(13,"tbody",13),e.DNE(14,U_,11,5,"tr",14),e.nI1(15,"keyvalue"),e.k0s()()),2&s){const i=e.XpG();e.R7$(4),e.JRh(e.bMT(5,4,"Common.Key")),e.R7$(3),e.JRh(e.bMT(8,6,"Common.Value")),e.R7$(4),e.JRh(e.bMT(12,8,"Common.Actions")),e.R7$(3),e.Y8G("ngForOf",e.bMT(15,10,i.scope.properties))}}let j_=(()=>{class s{constructor(i,a,l,D,Q){this.fb=i,this.errorService=a,this.scopeCacheService=l,this.translate=D,this.modalService=Q,this.viewPropertyModalId="viewPropertyModal"}ngOnInit(){this.scopeCacheService.unsavedCache$.pipe((0,Vn.$)()).subscribe({next:i=>{this.scope=i,null==this.scope.properties&&(this.scope.properties={})},error:i=>{this.errorService.handleError(i)}}),this.formProperty=this.fb.group({key:["",[g.k0.required]],value:["{}",[g.k0.pattern(/^{.*}$/)]]})}propertiesEmpty(){return null==this.scope.properties||0==Object.keys(this.scope.properties).length}openViewPropertyModal(i){this.formProperty.controls.key.setValue(i),this.formProperty.controls.value.setValue(this.scope.properties[i]),this.modalService.showById(this.viewPropertyModalId,this.viewButtonRef)}closeViewPropertyModal(){this.modalService.hideById(this.viewPropertyModalId),this.formProperty.reset(),this.formProperty.controls.value.setValue("{}")}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(g.ze),e.rXU(ne.I),e.rXU(ir.t),e.rXU(bn.c$),e.rXU(Ig.B))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["view-scope-properties"]],viewQuery:function(a,l){if(1&a&&e.GBs(B_,5),2&a){let D;e.mGM(D=e.lsd())&&(l.viewButtonRef=D.first)}},decls:9,vars:12,consts:[["id","scopesList",1,"tw-container","tw-mx-auto"],["class","tw-italic",4,"ngIf"],["class","datatable hover",4,"ngIf"],[3,"onCancel","title","modalId"],[3,"formGroup"],[3,"label","id"],[3,"label","id","isLast"],[1,"tw-italic"],[1,"datatable","hover"],[1,"tw-hidden","tw-w-1/4","md:tw-table-cell"],[1,"tw-hidden","lg:tw-table-cell"],[1,"tw-w-1"],[1,"sr-only"],["id","propertiesTable"],["class","group",4,"ngFor","ngForOf"],[1,"group"],[1,"tw-hidden","tw-max-w-0","tw-truncate","md:tw-table-cell"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell"],[1,"tw-flex","tw-items-center"],["type","button",1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500","tw-mr-4",3,"click"],["id","editIcon","aria-hidden","true",1,"fas","fa-eye"]],template:function(a,l){1&a&&(e.j41(0,"div",0),e.DNE(1,L_,3,3,"div",1)(2,V_,16,12,"table",2),e.k0s(),e.j41(3,"app-custom-modal",3),e.bIt("onCancel",function(){return l.closeViewPropertyModal()}),e.j41(4,"form",4)(5,"app-form-row",5),e.EFF(6),e.k0s(),e.j41(7,"app-form-row",6),e.EFF(8),e.k0s()()()),2&a&&(e.R7$(),e.Y8G("ngIf",l.propertiesEmpty()),e.R7$(),e.Y8G("ngIf",!l.propertiesEmpty()),e.R7$(),e.Y8G("title","Scopes.Properties.ViewProperty")("modalId",l.viewPropertyModalId),e.R7$(),e.Y8G("formGroup",l.formProperty),e.R7$(),e.Y8G("label","Common.Key")("id","viewPropertyKey"),e.R7$(),e.SpI(" ",l.formProperty.controls.key.value," "),e.R7$(),e.Y8G("label","Common.Value")("id","viewPropertyKey")("isLast",!0),e.R7$(),e.SpI(" ",l.formProperty.controls.value.value," "))},dependencies:[gn.Sq,gn.bT,g.qT,g.cb,g.j4,Dg.G,fe.Y,gn.lG,bn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();const Ug=[{path:"scopes",component:rp,canActivate:[fn.h,Qn._],data:{permissions:[Jt.a[Jt.a.IdentityServerManager],Jt.a[Jt.a.IdentityServerManagerReadOnly],Jt.a[Jt.a.AllReadOnly],Jt.a[Jt.a.All]]}},{path:"scopes/:Id",component:m_,children:[{path:"",redirectTo:"details",pathMatch:"full"},{path:"details",component:pT},{path:"resources",component:_T},{path:"claims",component:CT},{path:"properties",component:x_}],resolve:{scope:Vf},canDeactivate:[Nn.M],canActivate:[fn.h,Qn._],data:{permissions:[Jt.a[Jt.a.IdentityServerManager],Jt.a[Jt.a.All]]}},{path:"scopes/view/:Id",component:O_,children:[{path:"",redirectTo:"details",pathMatch:"full"},{path:"details",component:ET},{path:"resources",component:P_},{path:"claims",component:jf},{path:"properties",component:j_}],resolve:{scope:Vf},canActivate:[fn.h,Qn._],data:{permissions:[Jt.a[Jt.a.IdentityServerManager],Jt.a[Jt.a.IdentityServerManagerReadOnly],Jt.a[Jt.a.AllReadOnly],Jt.a[Jt.a.All]]}}];let Vg=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({imports:[bt.iI.forChild(Ug),Hn.XE.forChild(Ug),bt.iI]})}}return s})();class $_{constructor(){this.subject=new Fi.m(1),this.scopes=[{id:"d27a40e4-6d70-42ee-b895-dfc8f7538c28",name:"private_scope",displayName:"Private Scope",description:"Scope for internal applications",resources:["resource1","resource2"],claims:["claim1","claim2"],properties:{Test1:"Test1",Test2:"Test2"},reserved:!0},{id:"d27a40e4-6d70-42ee-b895-dfc8f7538c33",name:"public_scope",displayName:"Public Scope",description:"Scope for applications",resources:["resource1","resource2"],claims:["claim1","claim2"],properties:{Test1:"Test1",Test2:"Test2"},reserved:!1},{id:"d27a40e4-6d70-42ee-b895-dfc8f7538c44",name:"public_scope2",displayName:"Public Scope 2",description:"Scope 2 for applications",resources:["resource1","resource2"],claims:["claim1","claim2"],properties:{Test1:"Test1",Test2:"Test2"},reserved:!1}],this.pagedResult={currentPage:1,pageCount:1,pageSize:25,totalCount:3,results:this.scopes},this.subject.next(this.scopes[0])}get(p,i,a){return(0,ma.of)(this.pagedResult)}getScope(p){return(0,ma.of)(this.scopes[1])}createScope(p){return"null"===p?(0,qm.$)("broken"):(0,ma.of)("success")}updateScope(p){return(0,ma.of)("success")}deleteScope(p){return(0,ma.of)("success")}}let jg=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({imports:[gn.MD,g.YN,fl.w,g.X1,kl.N,Hn.XE,bn.h,Xe.h6,xe.Ss,Hc.i,Wc.c,fc.c,pc.Y,fo.Y]})}}return s})(),TT=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({providers:[$c,$_,Vf,ze.X],imports:[gn.MD,bt.iI,Vg,g.YN,fo.Y,g.X1,wt.jr,bn.h,pl.N,Wc.c,lh.t,xe.Ss,Pu.qP,kl.N,pl.N,Zl.m,fc.c,Hc.i,fl.w,ph.a,ch.E,Rl.p,wf.W,Hn.XE,Gc.A,tg.U,jg]})}}return s})();var $g=u(8440);function Gg(s,p,i,a){return new pC(s,p,i,a,"resources/locales.json?cb="+Br)}function G_(s){return new _S(s,"./resources/",".json?cb="+Br)}let Hg=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s,bootstrap:[Fg]})}static{this.\u0275inj=e.G2t({providers:[Cf.F,tu.n,bs.D,Vr.i,fn.h,Qn._,Ra.q,vc.m,Zu.y,cs.P,ad.m,ze.X,Lt.Vk,Dp.M,Ql.v,G1.R,Bu,Hn.QG,xi.M,Ou,bn.c$,ec.X,zs.w,Ap.B,ne.I,zc.D,bS.x,Gl,{provide:xl.x,useClass:xl.P},{provide:S.a7,useClass:Gv,multi:!0},{provide:S.a7,useClass:Fu,multi:!0}],imports:[ud,KE,gn.MD,g.YN,g.X1,Kn,S.q1,fo.Y,Ip,$E,Tg.StarterModeModule,uh,Rl.p,ap.P,bn.h.forRoot({loader:{provide:bn.Wr,useFactory:G_,deps:[S.Qq]}}),Hn.XE.forRoot(l1,{parser:{provide:Hn.xq,useFactory:Gg,deps:[bn.c$,gn.aZ,Hn.wY,S.Qq]}}),Mt.Q_.forRoot(),wt.jr.forRoot(),xe.Ss.forRoot(),Xe.h6.forRoot(),Jn._B.forRoot(),bd.M,Zm,fc.c,fh.h,pl.N,fl.w,pc.Y,Yy,TT,$g.SettingsModule,Hn.XE]})}}return s})();(0,e.SmG)(),n.sG().bootstrapModule(Hg)},3981:(qe,me)=>{"use strict";me.byteLength=function f(C){var R=v(C),O=R[1];return 3*(R[0]+O)/4-O},me.toByteArray=function E(C){var R,G,x=v(C),O=x[0],H=x[1],M=new e(function d(C,R,x){return 3*(R+x)/4-x}(0,O,H)),V=0,U=H>0?O-4:O;for(G=0;G<U;G+=4)R=n[C.charCodeAt(G)]<<18|n[C.charCodeAt(G+1)]<<12|n[C.charCodeAt(G+2)]<<6|n[C.charCodeAt(G+3)],M[V++]=R>>16&255,M[V++]=R>>8&255,M[V++]=255&R;return 2===H&&(R=n[C.charCodeAt(G)]<<2|n[C.charCodeAt(G+1)]>>4,M[V++]=255&R),1===H&&(R=n[C.charCodeAt(G)]<<10|n[C.charCodeAt(G+1)]<<4|n[C.charCodeAt(G+2)]>>2,M[V++]=R>>8&255,M[V++]=255&R),M},me.fromByteArray=function w(C){for(var R,x=C.length,O=x%3,H=[],M=16383,V=0,U=x-O;V<U;V+=M)H.push(F(C,V,V+M>U?U:V+M));return 1===O?H.push(u[(R=C[x-1])>>2]+u[R<<4&63]+"=="):2===O&&H.push(u[(R=(C[x-2]<<8)+C[x-1])>>10]+u[R>>4&63]+u[R<<2&63]+"="),H.join("")};for(var u=[],n=[],e=typeof Uint8Array<"u"?Uint8Array:Array,_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",g=0;g<64;++g)u[g]=_[g],n[_.charCodeAt(g)]=g;function v(C){var R=C.length;if(R%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var x=C.indexOf("=");return-1===x&&(x=R),[x,x===R?0:4-x%4]}function m(C){return u[C>>18&63]+u[C>>12&63]+u[C>>6&63]+u[63&C]}function F(C,R,x){for(var H=[],M=R;M<x;M+=3)H.push(m((C[M]<<16&16711680)+(C[M+1]<<8&65280)+(255&C[M+2])));return H.join("")}n[45]=62,n[95]=63},3838:(qe,me,u)=>{"use strict";const e=u(3981),_=u(2020),g="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;me.hp=d,me.IS=50;const S=2147483647;function f(ae){if(ae>S)throw new RangeError('The value "'+ae+'" is invalid for option "size"');const $=new Uint8Array(ae);return Object.setPrototypeOf($,d.prototype),$}function d(ae,$,se){if("number"==typeof ae){if("string"==typeof $)throw new TypeError('The "string" argument must be of type string. Received type number');return w(ae)}return E(ae,$,se)}function E(ae,$,se){if("string"==typeof ae)return function C(ae,$){if(("string"!=typeof $||""===$)&&($="utf8"),!d.isEncoding($))throw new TypeError("Unknown encoding: "+$);const se=0|U(ae,$);let Ue=f(se);const Ze=Ue.write(ae,$);return Ze!==se&&(Ue=Ue.slice(0,Ze)),Ue}(ae,$);if(ArrayBuffer.isView(ae))return function x(ae){if(Wt(ae,Uint8Array)){const $=new Uint8Array(ae);return O($.buffer,$.byteOffset,$.byteLength)}return R(ae)}(ae);if(null==ae)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ae);if(Wt(ae,ArrayBuffer)||ae&&Wt(ae.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Wt(ae,SharedArrayBuffer)||ae&&Wt(ae.buffer,SharedArrayBuffer)))return O(ae,$,se);if("number"==typeof ae)throw new TypeError('The "value" argument must not be of type number. Received type number');const Ue=ae.valueOf&&ae.valueOf();if(null!=Ue&&Ue!==ae)return d.from(Ue,$,se);const Ze=function H(ae){if(d.isBuffer(ae)){const $=0|M(ae.length),se=f($);return 0===se.length||ae.copy(se,0,0,$),se}return void 0!==ae.length?"number"!=typeof ae.length||tn(ae.length)?f(0):R(ae):"Buffer"===ae.type&&Array.isArray(ae.data)?R(ae.data):void 0}(ae);if(Ze)return Ze;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof ae[Symbol.toPrimitive])return d.from(ae[Symbol.toPrimitive]("string"),$,se);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ae)}function m(ae){if("number"!=typeof ae)throw new TypeError('"size" argument must be of type number');if(ae<0)throw new RangeError('The value "'+ae+'" is invalid for option "size"')}function w(ae){return m(ae),f(ae<0?0:0|M(ae))}function R(ae){const $=ae.length<0?0:0|M(ae.length),se=f($);for(let Ue=0;Ue<$;Ue+=1)se[Ue]=255&ae[Ue];return se}function O(ae,$,se){if($<0||ae.byteLength<$)throw new RangeError('"offset" is outside of buffer bounds');if(ae.byteLength<$+(se||0))throw new RangeError('"length" is outside of buffer bounds');let Ue;return Ue=void 0===$&&void 0===se?new Uint8Array(ae):void 0===se?new Uint8Array(ae,$):new Uint8Array(ae,$,se),Object.setPrototypeOf(Ue,d.prototype),Ue}function M(ae){if(ae>=S)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+S.toString(16)+" bytes");return 0|ae}function U(ae,$){if(d.isBuffer(ae))return ae.length;if(ArrayBuffer.isView(ae)||Wt(ae,ArrayBuffer))return ae.byteLength;if("string"!=typeof ae)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof ae);const se=ae.length,Ue=arguments.length>2&&!0===arguments[2];if(!Ue&&0===se)return 0;let Ze=!1;for(;;)switch($){case"ascii":case"latin1":case"binary":return se;case"utf8":case"utf-8":return je(ae).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*se;case"hex":return se>>>1;case"base64":return ft(ae).length;default:if(Ze)return Ue?-1:je(ae).length;$=(""+$).toLowerCase(),Ze=!0}}function G(ae,$,se){let Ue=!1;if((void 0===$||$<0)&&($=0),$>this.length||((void 0===se||se>this.length)&&(se=this.length),se<=0)||(se>>>=0)<=($>>>=0))return"";for(ae||(ae="utf8");;)switch(ae){case"hex":return we(this,$,se);case"utf8":case"utf-8":return Pe(this,$,se);case"ascii":return Je(this,$,se);case"latin1":case"binary":return Te(this,$,se);case"base64":return _e(this,$,se);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return de(this,$,se);default:if(Ue)throw new TypeError("Unknown encoding: "+ae);ae=(ae+"").toLowerCase(),Ue=!0}}function ie(ae,$,se){const Ue=ae[$];ae[$]=ae[se],ae[se]=Ue}function le(ae,$,se,Ue,Ze){if(0===ae.length)return-1;if("string"==typeof se?(Ue=se,se=0):se>2147483647?se=2147483647:se<-2147483648&&(se=-2147483648),tn(se=+se)&&(se=Ze?0:ae.length-1),se<0&&(se=ae.length+se),se>=ae.length){if(Ze)return-1;se=ae.length-1}else if(se<0){if(!Ze)return-1;se=0}if("string"==typeof $&&($=d.from($,Ue)),d.isBuffer($))return 0===$.length?-1:L(ae,$,se,Ue,Ze);if("number"==typeof $)return $&=255,"function"==typeof Uint8Array.prototype.indexOf?Ze?Uint8Array.prototype.indexOf.call(ae,$,se):Uint8Array.prototype.lastIndexOf.call(ae,$,se):L(ae,[$],se,Ue,Ze);throw new TypeError("val must be string, number or Buffer")}function L(ae,$,se,Ue,Ze){let Mn,dt=1,Pt=ae.length,an=$.length;if(void 0!==Ue&&("ucs2"===(Ue=String(Ue).toLowerCase())||"ucs-2"===Ue||"utf16le"===Ue||"utf-16le"===Ue)){if(ae.length<2||$.length<2)return-1;dt=2,Pt/=2,an/=2,se/=2}function un(kn,Bn){return 1===dt?kn[Bn]:kn.readUInt16BE(Bn*dt)}if(Ze){let kn=-1;for(Mn=se;Mn<Pt;Mn++)if(un(ae,Mn)===un($,-1===kn?0:Mn-kn)){if(-1===kn&&(kn=Mn),Mn-kn+1===an)return kn*dt}else-1!==kn&&(Mn-=Mn-kn),kn=-1}else for(se+an>Pt&&(se=Pt-an),Mn=se;Mn>=0;Mn--){let kn=!0;for(let Bn=0;Bn<an;Bn++)if(un(ae,Mn+Bn)!==un($,Bn)){kn=!1;break}if(kn)return Mn}return-1}function J(ae,$,se,Ue){se=Number(se)||0;const Ze=ae.length-se;Ue?(Ue=Number(Ue))>Ze&&(Ue=Ze):Ue=Ze;const dt=$.length;let Pt;for(Ue>dt/2&&(Ue=dt/2),Pt=0;Pt<Ue;++Pt){const an=parseInt($.substr(2*Pt,2),16);if(tn(an))return Pt;ae[se+Pt]=an}return Pt}function te(ae,$,se,Ue){return nt(je($,ae.length-se),ae,se,Ue)}function I(ae,$,se,Ue){return nt(function ot(ae){const $=[];for(let se=0;se<ae.length;++se)$.push(255&ae.charCodeAt(se));return $}($),ae,se,Ue)}function oe(ae,$,se,Ue){return nt(ft($),ae,se,Ue)}function z(ae,$,se,Ue){return nt(function Ft(ae,$){let se,Ue,Ze;const dt=[];for(let Pt=0;Pt<ae.length&&!(($-=2)<0);++Pt)se=ae.charCodeAt(Pt),Ue=se>>8,Ze=se%256,dt.push(Ze),dt.push(Ue);return dt}($,ae.length-se),ae,se,Ue)}function _e(ae,$,se){return e.fromByteArray(0===$&&se===ae.length?ae:ae.slice($,se))}function Pe(ae,$,se){se=Math.min(ae.length,se);const Ue=[];let Ze=$;for(;Ze<se;){const dt=ae[Ze];let Pt=null,an=dt>239?4:dt>223?3:dt>191?2:1;if(Ze+an<=se){let un,Mn,kn,Bn;switch(an){case 1:dt<128&&(Pt=dt);break;case 2:un=ae[Ze+1],128==(192&un)&&(Bn=(31&dt)<<6|63&un,Bn>127&&(Pt=Bn));break;case 3:un=ae[Ze+1],Mn=ae[Ze+2],128==(192&un)&&128==(192&Mn)&&(Bn=(15&dt)<<12|(63&un)<<6|63&Mn,Bn>2047&&(Bn<55296||Bn>57343)&&(Pt=Bn));break;case 4:un=ae[Ze+1],Mn=ae[Ze+2],kn=ae[Ze+3],128==(192&un)&&128==(192&Mn)&&128==(192&kn)&&(Bn=(15&dt)<<18|(63&un)<<12|(63&Mn)<<6|63&kn,Bn>65535&&Bn<1114112&&(Pt=Bn))}}null===Pt?(Pt=65533,an=1):Pt>65535&&(Pt-=65536,Ue.push(Pt>>>10&1023|55296),Pt=56320|1023&Pt),Ue.push(Pt),Ze+=an}return function ke(ae){const $=ae.length;if($<=Re)return String.fromCharCode.apply(String,ae);let se="",Ue=0;for(;Ue<$;)se+=String.fromCharCode.apply(String,ae.slice(Ue,Ue+=Re));return se}(Ue)}!(d.TYPED_ARRAY_SUPPORT=function v(){try{const ae=new Uint8Array(1),$={foo:function(){return 42}};return Object.setPrototypeOf($,Uint8Array.prototype),Object.setPrototypeOf(ae,$),42===ae.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(d.prototype,"parent",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.buffer}}),Object.defineProperty(d.prototype,"offset",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.byteOffset}}),d.poolSize=8192,d.from=function(ae,$,se){return E(ae,$,se)},Object.setPrototypeOf(d.prototype,Uint8Array.prototype),Object.setPrototypeOf(d,Uint8Array),d.alloc=function(ae,$,se){return function F(ae,$,se){return m(ae),ae<=0?f(ae):void 0!==$?"string"==typeof se?f(ae).fill($,se):f(ae).fill($):f(ae)}(ae,$,se)},d.allocUnsafe=function(ae){return w(ae)},d.allocUnsafeSlow=function(ae){return w(ae)},d.isBuffer=function($){return null!=$&&!0===$._isBuffer&&$!==d.prototype},d.compare=function($,se){if(Wt($,Uint8Array)&&($=d.from($,$.offset,$.byteLength)),Wt(se,Uint8Array)&&(se=d.from(se,se.offset,se.byteLength)),!d.isBuffer($)||!d.isBuffer(se))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if($===se)return 0;let Ue=$.length,Ze=se.length;for(let dt=0,Pt=Math.min(Ue,Ze);dt<Pt;++dt)if($[dt]!==se[dt]){Ue=$[dt],Ze=se[dt];break}return Ue<Ze?-1:Ze<Ue?1:0},d.isEncoding=function($){switch(String($).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function($,se){if(!Array.isArray($))throw new TypeError('"list" argument must be an Array of Buffers');if(0===$.length)return d.alloc(0);let Ue;if(void 0===se)for(se=0,Ue=0;Ue<$.length;++Ue)se+=$[Ue].length;const Ze=d.allocUnsafe(se);let dt=0;for(Ue=0;Ue<$.length;++Ue){let Pt=$[Ue];if(Wt(Pt,Uint8Array))dt+Pt.length>Ze.length?(d.isBuffer(Pt)||(Pt=d.from(Pt)),Pt.copy(Ze,dt)):Uint8Array.prototype.set.call(Ze,Pt,dt);else{if(!d.isBuffer(Pt))throw new TypeError('"list" argument must be an Array of Buffers');Pt.copy(Ze,dt)}dt+=Pt.length}return Ze},d.byteLength=U,d.prototype._isBuffer=!0,d.prototype.swap16=function(){const $=this.length;if($%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let se=0;se<$;se+=2)ie(this,se,se+1);return this},d.prototype.swap32=function(){const $=this.length;if($%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let se=0;se<$;se+=4)ie(this,se,se+3),ie(this,se+1,se+2);return this},d.prototype.swap64=function(){const $=this.length;if($%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let se=0;se<$;se+=8)ie(this,se,se+7),ie(this,se+1,se+6),ie(this,se+2,se+5),ie(this,se+3,se+4);return this},d.prototype.toLocaleString=d.prototype.toString=function(){const $=this.length;return 0===$?"":0===arguments.length?Pe(this,0,$):G.apply(this,arguments)},d.prototype.equals=function($){if(!d.isBuffer($))throw new TypeError("Argument must be a Buffer");return this===$||0===d.compare(this,$)},d.prototype.inspect=function(){let $="";const se=me.IS;return $=this.toString("hex",0,se).replace(/(.{2})/g,"$1 ").trim(),this.length>se&&($+=" ... "),"<Buffer "+$+">"},g&&(d.prototype[g]=d.prototype.inspect),d.prototype.compare=function($,se,Ue,Ze,dt){if(Wt($,Uint8Array)&&($=d.from($,$.offset,$.byteLength)),!d.isBuffer($))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof $);if(void 0===se&&(se=0),void 0===Ue&&(Ue=$?$.length:0),void 0===Ze&&(Ze=0),void 0===dt&&(dt=this.length),se<0||Ue>$.length||Ze<0||dt>this.length)throw new RangeError("out of range index");if(Ze>=dt&&se>=Ue)return 0;if(Ze>=dt)return-1;if(se>=Ue)return 1;if(this===$)return 0;let Pt=(dt>>>=0)-(Ze>>>=0),an=(Ue>>>=0)-(se>>>=0);const un=Math.min(Pt,an),Mn=this.slice(Ze,dt),kn=$.slice(se,Ue);for(let Bn=0;Bn<un;++Bn)if(Mn[Bn]!==kn[Bn]){Pt=Mn[Bn],an=kn[Bn];break}return Pt<an?-1:an<Pt?1:0},d.prototype.includes=function($,se,Ue){return-1!==this.indexOf($,se,Ue)},d.prototype.indexOf=function($,se,Ue){return le(this,$,se,Ue,!0)},d.prototype.lastIndexOf=function($,se,Ue){return le(this,$,se,Ue,!1)},d.prototype.write=function($,se,Ue,Ze){if(void 0===se)Ze="utf8",Ue=this.length,se=0;else if(void 0===Ue&&"string"==typeof se)Ze=se,Ue=this.length,se=0;else{if(!isFinite(se))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");se>>>=0,isFinite(Ue)?(Ue>>>=0,void 0===Ze&&(Ze="utf8")):(Ze=Ue,Ue=void 0)}const dt=this.length-se;if((void 0===Ue||Ue>dt)&&(Ue=dt),$.length>0&&(Ue<0||se<0)||se>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ze||(Ze="utf8");let Pt=!1;for(;;)switch(Ze){case"hex":return J(this,$,se,Ue);case"utf8":case"utf-8":return te(this,$,se,Ue);case"ascii":case"latin1":case"binary":return I(this,$,se,Ue);case"base64":return oe(this,$,se,Ue);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,$,se,Ue);default:if(Pt)throw new TypeError("Unknown encoding: "+Ze);Ze=(""+Ze).toLowerCase(),Pt=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const Re=4096;function Je(ae,$,se){let Ue="";se=Math.min(ae.length,se);for(let Ze=$;Ze<se;++Ze)Ue+=String.fromCharCode(127&ae[Ze]);return Ue}function Te(ae,$,se){let Ue="";se=Math.min(ae.length,se);for(let Ze=$;Ze<se;++Ze)Ue+=String.fromCharCode(ae[Ze]);return Ue}function we(ae,$,se){const Ue=ae.length;(!$||$<0)&&($=0),(!se||se<0||se>Ue)&&(se=Ue);let Ze="";for(let dt=$;dt<se;++dt)Ze+=it[ae[dt]];return Ze}function de(ae,$,se){const Ue=ae.slice($,se);let Ze="";for(let dt=0;dt<Ue.length-1;dt+=2)Ze+=String.fromCharCode(Ue[dt]+256*Ue[dt+1]);return Ze}function Ve(ae,$,se){if(ae%1!=0||ae<0)throw new RangeError("offset is not uint");if(ae+$>se)throw new RangeError("Trying to access beyond buffer length")}function Ae(ae,$,se,Ue,Ze,dt){if(!d.isBuffer(ae))throw new TypeError('"buffer" argument must be a Buffer instance');if($>Ze||$<dt)throw new RangeError('"value" argument is out of bounds');if(se+Ue>ae.length)throw new RangeError("Index out of range")}function rt(ae,$,se,Ue,Ze){Y($,Ue,Ze,ae,se,7);let dt=Number($&BigInt(4294967295));ae[se++]=dt,dt>>=8,ae[se++]=dt,dt>>=8,ae[se++]=dt,dt>>=8,ae[se++]=dt;let Pt=Number($>>BigInt(32)&BigInt(4294967295));return ae[se++]=Pt,Pt>>=8,ae[se++]=Pt,Pt>>=8,ae[se++]=Pt,Pt>>=8,ae[se++]=Pt,se}function Be(ae,$,se,Ue,Ze){Y($,Ue,Ze,ae,se,7);let dt=Number($&BigInt(4294967295));ae[se+7]=dt,dt>>=8,ae[se+6]=dt,dt>>=8,ae[se+5]=dt,dt>>=8,ae[se+4]=dt;let Pt=Number($>>BigInt(32)&BigInt(4294967295));return ae[se+3]=Pt,Pt>>=8,ae[se+2]=Pt,Pt>>=8,ae[se+1]=Pt,Pt>>=8,ae[se]=Pt,se+8}function ht(ae,$,se,Ue,Ze,dt){if(se+Ue>ae.length)throw new RangeError("Index out of range");if(se<0)throw new RangeError("Index out of range")}function Ye(ae,$,se,Ue,Ze){return $=+$,se>>>=0,Ze||ht(ae,0,se,4),_.write(ae,$,se,Ue,23,4),se+4}function Yt(ae,$,se,Ue,Ze){return $=+$,se>>>=0,Ze||ht(ae,0,se,8),_.write(ae,$,se,Ue,52,8),se+8}d.prototype.slice=function($,se){const Ue=this.length;($=~~$)<0?($+=Ue)<0&&($=0):$>Ue&&($=Ue),(se=void 0===se?Ue:~~se)<0?(se+=Ue)<0&&(se=0):se>Ue&&(se=Ue),se<$&&(se=$);const Ze=this.subarray($,se);return Object.setPrototypeOf(Ze,d.prototype),Ze},d.prototype.readUintLE=d.prototype.readUIntLE=function($,se,Ue){$>>>=0,se>>>=0,Ue||Ve($,se,this.length);let Ze=this[$],dt=1,Pt=0;for(;++Pt<se&&(dt*=256);)Ze+=this[$+Pt]*dt;return Ze},d.prototype.readUintBE=d.prototype.readUIntBE=function($,se,Ue){$>>>=0,se>>>=0,Ue||Ve($,se,this.length);let Ze=this[$+--se],dt=1;for(;se>0&&(dt*=256);)Ze+=this[$+--se]*dt;return Ze},d.prototype.readUint8=d.prototype.readUInt8=function($,se){return $>>>=0,se||Ve($,1,this.length),this[$]},d.prototype.readUint16LE=d.prototype.readUInt16LE=function($,se){return $>>>=0,se||Ve($,2,this.length),this[$]|this[$+1]<<8},d.prototype.readUint16BE=d.prototype.readUInt16BE=function($,se){return $>>>=0,se||Ve($,2,this.length),this[$]<<8|this[$+1]},d.prototype.readUint32LE=d.prototype.readUInt32LE=function($,se){return $>>>=0,se||Ve($,4,this.length),(this[$]|this[$+1]<<8|this[$+2]<<16)+16777216*this[$+3]},d.prototype.readUint32BE=d.prototype.readUInt32BE=function($,se){return $>>>=0,se||Ve($,4,this.length),16777216*this[$]+(this[$+1]<<16|this[$+2]<<8|this[$+3])},d.prototype.readBigUInt64LE=Ot(function($){ee($>>>=0,"offset");const se=this[$],Ue=this[$+7];(void 0===se||void 0===Ue)&&Se($,this.length-8);const Ze=se+256*this[++$]+65536*this[++$]+this[++$]*2**24,dt=this[++$]+256*this[++$]+65536*this[++$]+Ue*2**24;return BigInt(Ze)+(BigInt(dt)<<BigInt(32))}),d.prototype.readBigUInt64BE=Ot(function($){ee($>>>=0,"offset");const se=this[$],Ue=this[$+7];(void 0===se||void 0===Ue)&&Se($,this.length-8);const Ze=se*2**24+65536*this[++$]+256*this[++$]+this[++$],dt=this[++$]*2**24+65536*this[++$]+256*this[++$]+Ue;return(BigInt(Ze)<<BigInt(32))+BigInt(dt)}),d.prototype.readIntLE=function($,se,Ue){$>>>=0,se>>>=0,Ue||Ve($,se,this.length);let Ze=this[$],dt=1,Pt=0;for(;++Pt<se&&(dt*=256);)Ze+=this[$+Pt]*dt;return dt*=128,Ze>=dt&&(Ze-=Math.pow(2,8*se)),Ze},d.prototype.readIntBE=function($,se,Ue){$>>>=0,se>>>=0,Ue||Ve($,se,this.length);let Ze=se,dt=1,Pt=this[$+--Ze];for(;Ze>0&&(dt*=256);)Pt+=this[$+--Ze]*dt;return dt*=128,Pt>=dt&&(Pt-=Math.pow(2,8*se)),Pt},d.prototype.readInt8=function($,se){return $>>>=0,se||Ve($,1,this.length),128&this[$]?-1*(255-this[$]+1):this[$]},d.prototype.readInt16LE=function($,se){$>>>=0,se||Ve($,2,this.length);const Ue=this[$]|this[$+1]<<8;return 32768&Ue?4294901760|Ue:Ue},d.prototype.readInt16BE=function($,se){$>>>=0,se||Ve($,2,this.length);const Ue=this[$+1]|this[$]<<8;return 32768&Ue?4294901760|Ue:Ue},d.prototype.readInt32LE=function($,se){return $>>>=0,se||Ve($,4,this.length),this[$]|this[$+1]<<8|this[$+2]<<16|this[$+3]<<24},d.prototype.readInt32BE=function($,se){return $>>>=0,se||Ve($,4,this.length),this[$]<<24|this[$+1]<<16|this[$+2]<<8|this[$+3]},d.prototype.readBigInt64LE=Ot(function($){ee($>>>=0,"offset");const se=this[$],Ue=this[$+7];return(void 0===se||void 0===Ue)&&Se($,this.length-8),(BigInt(this[$+4]+256*this[$+5]+65536*this[$+6]+(Ue<<24))<<BigInt(32))+BigInt(se+256*this[++$]+65536*this[++$]+this[++$]*2**24)}),d.prototype.readBigInt64BE=Ot(function($){ee($>>>=0,"offset");const se=this[$],Ue=this[$+7];(void 0===se||void 0===Ue)&&Se($,this.length-8);const Ze=(se<<24)+65536*this[++$]+256*this[++$]+this[++$];return(BigInt(Ze)<<BigInt(32))+BigInt(this[++$]*2**24+65536*this[++$]+256*this[++$]+Ue)}),d.prototype.readFloatLE=function($,se){return $>>>=0,se||Ve($,4,this.length),_.read(this,$,!0,23,4)},d.prototype.readFloatBE=function($,se){return $>>>=0,se||Ve($,4,this.length),_.read(this,$,!1,23,4)},d.prototype.readDoubleLE=function($,se){return $>>>=0,se||Ve($,8,this.length),_.read(this,$,!0,52,8)},d.prototype.readDoubleBE=function($,se){return $>>>=0,se||Ve($,8,this.length),_.read(this,$,!1,52,8)},d.prototype.writeUintLE=d.prototype.writeUIntLE=function($,se,Ue,Ze){$=+$,se>>>=0,Ue>>>=0,Ze||Ae(this,$,se,Ue,Math.pow(2,8*Ue)-1,0);let dt=1,Pt=0;for(this[se]=255&$;++Pt<Ue&&(dt*=256);)this[se+Pt]=$/dt&255;return se+Ue},d.prototype.writeUintBE=d.prototype.writeUIntBE=function($,se,Ue,Ze){$=+$,se>>>=0,Ue>>>=0,Ze||Ae(this,$,se,Ue,Math.pow(2,8*Ue)-1,0);let dt=Ue-1,Pt=1;for(this[se+dt]=255&$;--dt>=0&&(Pt*=256);)this[se+dt]=$/Pt&255;return se+Ue},d.prototype.writeUint8=d.prototype.writeUInt8=function($,se,Ue){return $=+$,se>>>=0,Ue||Ae(this,$,se,1,255,0),this[se]=255&$,se+1},d.prototype.writeUint16LE=d.prototype.writeUInt16LE=function($,se,Ue){return $=+$,se>>>=0,Ue||Ae(this,$,se,2,65535,0),this[se]=255&$,this[se+1]=$>>>8,se+2},d.prototype.writeUint16BE=d.prototype.writeUInt16BE=function($,se,Ue){return $=+$,se>>>=0,Ue||Ae(this,$,se,2,65535,0),this[se]=$>>>8,this[se+1]=255&$,se+2},d.prototype.writeUint32LE=d.prototype.writeUInt32LE=function($,se,Ue){return $=+$,se>>>=0,Ue||Ae(this,$,se,4,4294967295,0),this[se+3]=$>>>24,this[se+2]=$>>>16,this[se+1]=$>>>8,this[se]=255&$,se+4},d.prototype.writeUint32BE=d.prototype.writeUInt32BE=function($,se,Ue){return $=+$,se>>>=0,Ue||Ae(this,$,se,4,4294967295,0),this[se]=$>>>24,this[se+1]=$>>>16,this[se+2]=$>>>8,this[se+3]=255&$,se+4},d.prototype.writeBigUInt64LE=Ot(function($,se=0){return rt(this,$,se,BigInt(0),BigInt("0xffffffffffffffff"))}),d.prototype.writeBigUInt64BE=Ot(function($,se=0){return Be(this,$,se,BigInt(0),BigInt("0xffffffffffffffff"))}),d.prototype.writeIntLE=function($,se,Ue,Ze){if($=+$,se>>>=0,!Ze){const un=Math.pow(2,8*Ue-1);Ae(this,$,se,Ue,un-1,-un)}let dt=0,Pt=1,an=0;for(this[se]=255&$;++dt<Ue&&(Pt*=256);)$<0&&0===an&&0!==this[se+dt-1]&&(an=1),this[se+dt]=($/Pt|0)-an&255;return se+Ue},d.prototype.writeIntBE=function($,se,Ue,Ze){if($=+$,se>>>=0,!Ze){const un=Math.pow(2,8*Ue-1);Ae(this,$,se,Ue,un-1,-un)}let dt=Ue-1,Pt=1,an=0;for(this[se+dt]=255&$;--dt>=0&&(Pt*=256);)$<0&&0===an&&0!==this[se+dt+1]&&(an=1),this[se+dt]=($/Pt|0)-an&255;return se+Ue},d.prototype.writeInt8=function($,se,Ue){return $=+$,se>>>=0,Ue||Ae(this,$,se,1,127,-128),$<0&&($=255+$+1),this[se]=255&$,se+1},d.prototype.writeInt16LE=function($,se,Ue){return $=+$,se>>>=0,Ue||Ae(this,$,se,2,32767,-32768),this[se]=255&$,this[se+1]=$>>>8,se+2},d.prototype.writeInt16BE=function($,se,Ue){return $=+$,se>>>=0,Ue||Ae(this,$,se,2,32767,-32768),this[se]=$>>>8,this[se+1]=255&$,se+2},d.prototype.writeInt32LE=function($,se,Ue){return $=+$,se>>>=0,Ue||Ae(this,$,se,4,2147483647,-2147483648),this[se]=255&$,this[se+1]=$>>>8,this[se+2]=$>>>16,this[se+3]=$>>>24,se+4},d.prototype.writeInt32BE=function($,se,Ue){return $=+$,se>>>=0,Ue||Ae(this,$,se,4,2147483647,-2147483648),$<0&&($=4294967295+$+1),this[se]=$>>>24,this[se+1]=$>>>16,this[se+2]=$>>>8,this[se+3]=255&$,se+4},d.prototype.writeBigInt64LE=Ot(function($,se=0){return rt(this,$,se,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),d.prototype.writeBigInt64BE=Ot(function($,se=0){return Be(this,$,se,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),d.prototype.writeFloatLE=function($,se,Ue){return Ye(this,$,se,!0,Ue)},d.prototype.writeFloatBE=function($,se,Ue){return Ye(this,$,se,!1,Ue)},d.prototype.writeDoubleLE=function($,se,Ue){return Yt(this,$,se,!0,Ue)},d.prototype.writeDoubleBE=function($,se,Ue){return Yt(this,$,se,!1,Ue)},d.prototype.copy=function($,se,Ue,Ze){if(!d.isBuffer($))throw new TypeError("argument should be a Buffer");if(Ue||(Ue=0),!Ze&&0!==Ze&&(Ze=this.length),se>=$.length&&(se=$.length),se||(se=0),Ze>0&&Ze<Ue&&(Ze=Ue),Ze===Ue||0===$.length||0===this.length)return 0;if(se<0)throw new RangeError("targetStart out of bounds");if(Ue<0||Ue>=this.length)throw new RangeError("Index out of range");if(Ze<0)throw new RangeError("sourceEnd out of bounds");Ze>this.length&&(Ze=this.length),$.length-se<Ze-Ue&&(Ze=$.length-se+Ue);const dt=Ze-Ue;return this===$&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(se,Ue,Ze):Uint8Array.prototype.set.call($,this.subarray(Ue,Ze),se),dt},d.prototype.fill=function($,se,Ue,Ze){if("string"==typeof $){if("string"==typeof se?(Ze=se,se=0,Ue=this.length):"string"==typeof Ue&&(Ze=Ue,Ue=this.length),void 0!==Ze&&"string"!=typeof Ze)throw new TypeError("encoding must be a string");if("string"==typeof Ze&&!d.isEncoding(Ze))throw new TypeError("Unknown encoding: "+Ze);if(1===$.length){const Pt=$.charCodeAt(0);("utf8"===Ze&&Pt<128||"latin1"===Ze)&&($=Pt)}}else"number"==typeof $?$&=255:"boolean"==typeof $&&($=Number($));if(se<0||this.length<se||this.length<Ue)throw new RangeError("Out of range index");if(Ue<=se)return this;let dt;if(se>>>=0,Ue=void 0===Ue?this.length:Ue>>>0,$||($=0),"number"==typeof $)for(dt=se;dt<Ue;++dt)this[dt]=$;else{const Pt=d.isBuffer($)?$:d.from($,Ze),an=Pt.length;if(0===an)throw new TypeError('The value "'+$+'" is invalid for argument "value"');for(dt=0;dt<Ue-se;++dt)this[dt+se]=Pt[dt%an]}return this};const Ut={};function Tt(ae,$,se){Ut[ae]=class extends se{constructor(){super(),Object.defineProperty(this,"message",{value:$.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${ae}]`,delete this.name}get code(){return ae}set code(Ze){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Ze,writable:!0})}toString(){return`${this.name} [${ae}]: ${this.message}`}}}function _t(ae){let $="",se=ae.length;const Ue="-"===ae[0]?1:0;for(;se>=Ue+4;se-=3)$=`_${ae.slice(se-3,se)}${$}`;return`${ae.slice(0,se)}${$}`}function Y(ae,$,se,Ue,Ze,dt){if(ae>se||ae<$){const Pt="bigint"==typeof $?"n":"";let an;throw an=dt>3?0===$||$===BigInt(0)?`>= 0${Pt} and < 2${Pt} ** ${8*(dt+1)}${Pt}`:`>= -(2${Pt} ** ${8*(dt+1)-1}${Pt}) and < 2 ** ${8*(dt+1)-1}${Pt}`:`>= ${$}${Pt} and <= ${se}${Pt}`,new Ut.ERR_OUT_OF_RANGE("value",an,ae)}!function X(ae,$,se){ee($,"offset"),(void 0===ae[$]||void 0===ae[$+se])&&Se($,ae.length-(se+1))}(Ue,Ze,dt)}function ee(ae,$){if("number"!=typeof ae)throw new Ut.ERR_INVALID_ARG_TYPE($,"number",ae)}function Se(ae,$,se){throw Math.floor(ae)!==ae?(ee(ae,se),new Ut.ERR_OUT_OF_RANGE(se||"offset","an integer",ae)):$<0?new Ut.ERR_BUFFER_OUT_OF_BOUNDS:new Ut.ERR_OUT_OF_RANGE(se||"offset",`>= ${se?1:0} and <= ${$}`,ae)}Tt("ERR_BUFFER_OUT_OF_BOUNDS",function(ae){return ae?`${ae} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Tt("ERR_INVALID_ARG_TYPE",function(ae,$){return`The "${ae}" argument must be of type number. Received type ${typeof $}`},TypeError),Tt("ERR_OUT_OF_RANGE",function(ae,$,se){let Ue=`The value of "${ae}" is out of range.`,Ze=se;return Number.isInteger(se)&&Math.abs(se)>2**32?Ze=_t(String(se)):"bigint"==typeof se&&(Ze=String(se),(se>BigInt(2)**BigInt(32)||se<-(BigInt(2)**BigInt(32)))&&(Ze=_t(Ze)),Ze+="n"),Ue+=` It must be ${$}. Received ${Ze}`,Ue},RangeError);const Ee=/[^+/0-9A-Za-z-_]/g;function je(ae,$){let se;$=$||1/0;const Ue=ae.length;let Ze=null;const dt=[];for(let Pt=0;Pt<Ue;++Pt){if(se=ae.charCodeAt(Pt),se>55295&&se<57344){if(!Ze){if(se>56319){($-=3)>-1&&dt.push(239,191,189);continue}if(Pt+1===Ue){($-=3)>-1&&dt.push(239,191,189);continue}Ze=se;continue}if(se<56320){($-=3)>-1&&dt.push(239,191,189),Ze=se;continue}se=65536+(Ze-55296<<10|se-56320)}else Ze&&($-=3)>-1&&dt.push(239,191,189);if(Ze=null,se<128){if(($-=1)<0)break;dt.push(se)}else if(se<2048){if(($-=2)<0)break;dt.push(se>>6|192,63&se|128)}else if(se<65536){if(($-=3)<0)break;dt.push(se>>12|224,se>>6&63|128,63&se|128)}else{if(!(se<1114112))throw new Error("Invalid code point");if(($-=4)<0)break;dt.push(se>>18|240,se>>12&63|128,se>>6&63|128,63&se|128)}}return dt}function ft(ae){return e.toByteArray(function at(ae){if((ae=(ae=ae.split("=")[0]).trim().replace(Ee,"")).length<2)return"";for(;ae.length%4!=0;)ae+="=";return ae}(ae))}function nt(ae,$,se,Ue){let Ze;for(Ze=0;Ze<Ue&&!(Ze+se>=$.length||Ze>=ae.length);++Ze)$[Ze+se]=ae[Ze];return Ze}function Wt(ae,$){return ae instanceof $||null!=ae&&null!=ae.constructor&&null!=ae.constructor.name&&ae.constructor.name===$.name}function tn(ae){return ae!=ae}const it=function(){const ae="0123456789abcdef",$=new Array(256);for(let se=0;se<16;++se){const Ue=16*se;for(let Ze=0;Ze<16;++Ze)$[Ue+Ze]=ae[se]+ae[Ze]}return $}();function Ot(ae){return typeof BigInt>"u"?ve:ae}function ve(){throw new Error("BigInt not supported")}},2020:(qe,me)=>{me.read=function(u,n,e,_,g){var S,v,f=8*g-_-1,d=(1<<f)-1,E=d>>1,m=-7,F=e?g-1:0,w=e?-1:1,C=u[n+F];for(F+=w,S=C&(1<<-m)-1,C>>=-m,m+=f;m>0;S=256*S+u[n+F],F+=w,m-=8);for(v=S&(1<<-m)-1,S>>=-m,m+=_;m>0;v=256*v+u[n+F],F+=w,m-=8);if(0===S)S=1-E;else{if(S===d)return v?NaN:1/0*(C?-1:1);v+=Math.pow(2,_),S-=E}return(C?-1:1)*v*Math.pow(2,S-_)},me.write=function(u,n,e,_,g,S){var v,f,d,E=8*S-g-1,m=(1<<E)-1,F=m>>1,w=23===g?Math.pow(2,-24)-Math.pow(2,-77):0,C=_?0:S-1,R=_?1:-1,x=n<0||0===n&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(f=isNaN(n)?1:0,v=m):(v=Math.floor(Math.log(n)/Math.LN2),n*(d=Math.pow(2,-v))<1&&(v--,d*=2),(n+=v+F>=1?w/d:w*Math.pow(2,1-F))*d>=2&&(v++,d/=2),v+F>=m?(f=0,v=m):v+F>=1?(f=(n*d-1)*Math.pow(2,g),v+=F):(f=n*Math.pow(2,F-1)*Math.pow(2,g),v=0));g>=8;u[e+C]=255&f,C+=R,f/=256,g-=8);for(v=v<<g|f,E+=g;E>0;u[e+C]=255&v,C+=R,v/=256,E-=8);u[e+C-R]|=128*x}},57:(qe,me,u)=>{var n=u(6589);function e(R,x){n.cipher.registerAlgorithm(R,function(){return new n.aes.Algorithm(R,x)})}u(5855),u(8580),u(812),qe.exports=n.aes=n.aes||{},n.aes.startEncrypting=function(R,x,O,H){var M=C({key:R,output:O,decrypt:!1,mode:H});return M.start(x),M},n.aes.createEncryptionCipher=function(R,x){return C({key:R,output:null,decrypt:!1,mode:x})},n.aes.startDecrypting=function(R,x,O,H){var M=C({key:R,output:O,decrypt:!0,mode:H});return M.start(x),M},n.aes.createDecryptionCipher=function(R,x){return C({key:R,output:null,decrypt:!0,mode:x})},n.aes.Algorithm=function(R,x){_||m();var O=this;O.name=R,O.mode=new x({blockSize:16,cipher:{encrypt:function(H,M){return w(O._w,H,M,!1)},decrypt:function(H,M){return w(O._w,H,M,!0)}}}),O._init=!1},n.aes.Algorithm.prototype.initialize=function(R){if(!this._init){var O,x=R.key;if("string"!=typeof x||16!==x.length&&24!==x.length&&32!==x.length){if(n.util.isArray(x)&&(16===x.length||24===x.length||32===x.length)){O=x,x=n.util.createBuffer();for(var H=0;H<O.length;++H)x.putByte(O[H])}}else x=n.util.createBuffer(x);if(!n.util.isArray(x)){O=x,x=[];var M=O.length();if(16===M||24===M||32===M)for(M>>>=2,H=0;H<M;++H)x.push(O.getInt32())}if(!n.util.isArray(x)||4!==x.length&&6!==x.length&&8!==x.length)throw new Error("Invalid key parameter.");var U=-1!==["CFB","OFB","CTR","GCM"].indexOf(this.mode.name);this._w=F(x,R.decrypt&&!U),this._init=!0}},n.aes._expandKey=function(R,x){return _||m(),F(R,x)},n.aes._updateBlock=w,e("AES-ECB",n.cipher.modes.ecb),e("AES-CBC",n.cipher.modes.cbc),e("AES-CFB",n.cipher.modes.cfb),e("AES-OFB",n.cipher.modes.ofb),e("AES-CTR",n.cipher.modes.ctr),e("AES-GCM",n.cipher.modes.gcm);var S,v,f,d,E,_=!1,g=4;function m(){_=!0,f=[0,1,2,4,8,16,32,64,128,27,54];for(var R=new Array(256),x=0;x<128;++x)R[x]=x<<1,R[x+128]=x+128<<1^283;for(S=new Array(256),v=new Array(256),d=new Array(4),E=new Array(4),x=0;x<4;++x)d[x]=new Array(256),E[x]=new Array(256);var M,V,U,G,ie,le,L,O=0,H=0;for(x=0;x<256;++x){S[O]=G=(G=H^H<<1^H<<2^H<<3^H<<4)>>8^255&G^99,v[G]=O,le=(ie=R[G])<<24^G<<16^G<<8^G^ie,L=((M=R[O])^(V=R[M])^(U=R[V]))<<24^(O^U)<<16^(O^V^U)<<8^O^M^U;for(var J=0;J<4;++J)d[J][O]=le,E[J][G]=L,le=le<<24|le>>>8,L=L<<24|L>>>8;0===O?O=H=1:(O=M^R[R[R[M^U]]],H^=R[R[H]])}}function F(R,x){for(var H,O=R.slice(0),M=1,V=O.length,G=g*(V+6+1),ie=V;ie<G;++ie)H=O[ie-1],ie%V==0?(H=S[H>>>16&255]<<24^S[H>>>8&255]<<16^S[255&H]<<8^S[H>>>24]^f[M]<<24,M++):V>6&&ie%V==4&&(H=S[H>>>24]<<24^S[H>>>16&255]<<16^S[H>>>8&255]<<8^S[255&H]),O[ie]=O[ie-V]^H;if(x){for(var le,L=E[0],J=E[1],te=E[2],I=E[3],oe=O.slice(0),z=(ie=0,(G=O.length)-g);ie<G;ie+=g,z-=g)if(0===ie||ie===G-g)oe[ie]=O[z],oe[ie+1]=O[z+3],oe[ie+2]=O[z+2],oe[ie+3]=O[z+1];else for(var _e=0;_e<g;++_e)oe[ie+(3&-_e)]=L[S[(le=O[z+_e])>>>24]]^J[S[le>>>16&255]]^te[S[le>>>8&255]]^I[S[255&le]];O=oe}return O}function w(R,x,O,H){var V,U,G,ie,le,L,J,te,I,oe,z,_e,M=R.length/4-1;H?(V=E[0],U=E[1],G=E[2],ie=E[3],le=v):(V=d[0],U=d[1],G=d[2],ie=d[3],le=S),L=x[0]^R[0],J=x[H?3:1]^R[1],te=x[2]^R[2],I=x[H?1:3]^R[3];for(var Pe=3,Re=1;Re<M;++Re)oe=V[L>>>24]^U[J>>>16&255]^G[te>>>8&255]^ie[255&I]^R[++Pe],z=V[J>>>24]^U[te>>>16&255]^G[I>>>8&255]^ie[255&L]^R[++Pe],_e=V[te>>>24]^U[I>>>16&255]^G[L>>>8&255]^ie[255&J]^R[++Pe],I=V[I>>>24]^U[L>>>16&255]^G[J>>>8&255]^ie[255&te]^R[++Pe],L=oe,J=z,te=_e;O[0]=le[L>>>24]<<24^le[J>>>16&255]<<16^le[te>>>8&255]<<8^le[255&I]^R[++Pe],O[H?3:1]=le[J>>>24]<<24^le[te>>>16&255]<<16^le[I>>>8&255]<<8^le[255&L]^R[++Pe],O[2]=le[te>>>24]<<24^le[I>>>16&255]<<16^le[L>>>8&255]<<8^le[255&J]^R[++Pe],O[H?1:3]=le[I>>>24]<<24^le[L>>>16&255]<<16^le[J>>>8&255]<<8^le[255&te]^R[++Pe]}function C(R){var H,O="AES-"+((R=R||{}).mode||"CBC").toUpperCase(),M=(H=R.decrypt?n.cipher.createDecipher(O,R.key):n.cipher.createCipher(O,R.key)).start;return H.start=function(V,U){var G=null;U instanceof n.util.ByteBuffer&&(G=U,U={}),(U=U||{}).output=G,U.iv=V,M.call(H,U)},H}},3707:(qe,me,u)=>{var n=u(6589);u(57),u(9807);var e=qe.exports=n.tls;function _(E,m,F){var w=m.entity===n.tls.ConnectionEnd.client;E.read.cipherState={init:!1,cipher:n.cipher.createDecipher("AES-CBC",w?F.keys.server_write_key:F.keys.client_write_key),iv:w?F.keys.server_write_IV:F.keys.client_write_IV},E.write.cipherState={init:!1,cipher:n.cipher.createCipher("AES-CBC",w?F.keys.client_write_key:F.keys.server_write_key),iv:w?F.keys.client_write_IV:F.keys.server_write_IV},E.read.cipherFunction=f,E.write.cipherFunction=g,E.read.macLength=E.write.macLength=F.mac_length,E.read.macFunction=E.write.macFunction=e.hmac_sha1}function g(E,m){var C,F=!1,w=m.macFunction(m.macKey,m.sequenceNumber,E);E.fragment.putBytes(w),m.updateSequenceNumber(),C=E.version.minor===e.Versions.TLS_1_0.minor?m.cipherState.init?null:m.cipherState.iv:n.random.getBytesSync(16),m.cipherState.init=!0;var R=m.cipherState.cipher;return R.start({iv:C}),E.version.minor>=e.Versions.TLS_1_1.minor&&R.output.putBytes(C),R.update(E.fragment),R.finish(S)&&(E.fragment=R.output,E.length=E.fragment.length(),F=!0),F}function S(E,m,F){if(!F){var w=E-m.length()%E;m.fillWithByte(w-1,w)}return!0}function v(E,m,F){var w=!0;if(F){for(var C=m.length(),R=m.last(),x=C-1-R;x<C-1;++x)w=w&&m.at(x)==R;w&&m.truncate(R+1)}return w}function f(E,m){var w,F=!1;w=E.version.minor===e.Versions.TLS_1_0.minor?m.cipherState.init?null:m.cipherState.iv:E.fragment.getBytes(16),m.cipherState.init=!0;var C=m.cipherState.cipher;C.start({iv:w}),C.update(E.fragment),F=C.finish(v);var R=m.macLength,x=n.random.getBytesSync(R),O=C.output.length();O>=R?(E.fragment=C.output.getBytes(O-R),x=C.output.getBytes(R)):E.fragment=C.output.getBytes(),E.fragment=n.util.createBuffer(E.fragment),E.length=E.fragment.length();var H=m.macFunction(m.macKey,m.sequenceNumber,E);return m.updateSequenceNumber(),F=function d(E,m,F){var w=n.hmac.create();return w.start("SHA1",E),w.update(m),m=w.digest().getBytes(),w.start(null,null),w.update(F),m===(F=w.digest().getBytes())}(m.macKey,x,H)&&F,F}e.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:function(E){E.bulk_cipher_algorithm=e.BulkCipherAlgorithm.aes,E.cipher_type=e.CipherType.block,E.enc_key_length=16,E.block_length=16,E.fixed_iv_length=16,E.record_iv_length=16,E.mac_algorithm=e.MACAlgorithm.hmac_sha1,E.mac_length=20,E.mac_key_length=20},initConnectionState:_},e.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:function(E){E.bulk_cipher_algorithm=e.BulkCipherAlgorithm.aes,E.cipher_type=e.CipherType.block,E.enc_key_length=32,E.block_length=16,E.fixed_iv_length=16,E.record_iv_length=16,E.mac_algorithm=e.MACAlgorithm.hmac_sha1,E.mac_length=20,E.mac_key_length=20},initConnectionState:_}},2758:(qe,me,u)=>{var n=u(6589);u(7097);var e=n.asn1;me.privateKeyValidator={name:"PrivateKeyInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},me.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:e.Class.UNIVERSAL,type:e.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]}},7097:(qe,me,u)=>{var n=u(6589);u(812),u(1817);var e=qe.exports=n.asn1=n.asn1||{};function _(f,d,E){if(E>d){var m=new Error("Too few bytes to parse DER.");throw m.available=f.length(),m.remaining=d,m.requested=E,m}}function S(f,d,E,m){var F;_(f,d,2);var w=f.getByte();d--;var C=192&w,R=31&w;F=f.length();var x=function(f,d){var E=f.getByte();if(d--,128!==E){var m;if(128&E){var w=127&E;_(f,d,w),m=f.getInt(w<<3)}else m=E;if(m<0)throw new Error("Negative length: "+m);return m}}(f,d);if(d-=F-f.length(),void 0!==x&&x>d){if(m.strict){var O=new Error("Too few bytes to read ASN.1 value.");throw O.available=f.length(),O.remaining=d,O.requested=x,O}x=d}var H,M,V=!(32&~w);if(V)if(H=[],void 0===x)for(;;){if(_(f,d,2),"\0\0"===f.bytes(2)){f.getBytes(2),d-=2;break}F=f.length(),H.push(S(f,d,E+1,m)),d-=F-f.length()}else for(;x>0;)F=f.length(),H.push(S(f,x,E+1,m)),d-=F-f.length(),x-=F-f.length();if(void 0===H&&C===e.Class.UNIVERSAL&&R===e.Type.BITSTRING&&(M=f.bytes(x)),void 0===H&&m.decodeBitStrings&&C===e.Class.UNIVERSAL&&R===e.Type.BITSTRING&&x>1){var U=f.read,G=d,ie=0;if(R===e.Type.BITSTRING&&(_(f,d,1),ie=f.getByte(),d--),0===ie)try{F=f.length();var L=S(f,d,E+1,{strict:!0,decodeBitStrings:!0}),J=F-f.length();d-=J,R==e.Type.BITSTRING&&J++;var te=L.tagClass;J===x&&(te===e.Class.UNIVERSAL||te===e.Class.CONTEXT_SPECIFIC)&&(H=[L])}catch{}void 0===H&&(f.read=U,d=G)}if(void 0===H){if(void 0===x){if(m.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");x=d}if(R===e.Type.BMPSTRING)for(H="";x>0;x-=2)_(f,d,2),H+=String.fromCharCode(f.getInt16()),d-=2;else H=f.getBytes(x),d-=x}return e.create(C,R,V,H,void 0===M?null:{bitStringContents:M})}e.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192},e.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30},e.create=function(f,d,E,m,F){if(n.util.isArray(m)){for(var w=[],C=0;C<m.length;++C)void 0!==m[C]&&w.push(m[C]);m=w}var R={tagClass:f,type:d,constructed:E,composed:E||n.util.isArray(m),value:m};return F&&"bitStringContents"in F&&(R.bitStringContents=F.bitStringContents,R.original=e.copy(R)),R},e.copy=function(f,d){var E;if(n.util.isArray(f)){E=[];for(var m=0;m<f.length;++m)E.push(e.copy(f[m],d));return E}return"string"==typeof f?f:(E={tagClass:f.tagClass,type:f.type,constructed:f.constructed,composed:f.composed,value:e.copy(f.value,d)},d&&!d.excludeBitStringContents&&(E.bitStringContents=f.bitStringContents),E)},e.equals=function(f,d,E){if(n.util.isArray(f)){if(!n.util.isArray(d)||f.length!==d.length)return!1;for(var m=0;m<f.length;++m)if(!e.equals(f[m],d[m]))return!1;return!0}if(typeof f!=typeof d)return!1;if("string"==typeof f)return f===d;var F=f.tagClass===d.tagClass&&f.type===d.type&&f.constructed===d.constructed&&f.composed===d.composed&&e.equals(f.value,d.value);return E&&E.includeBitStringContents&&(F=F&&f.bitStringContents===d.bitStringContents),F},e.getBerValueLength=function(f){var d=f.getByte();if(128!==d)return 128&d?f.getInt((127&d)<<3):d},e.fromDer=function(f,d){void 0===d&&(d={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),"boolean"==typeof d&&(d={strict:d,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in d||(d.strict=!0),"parseAllBytes"in d||(d.parseAllBytes=!0),"decodeBitStrings"in d||(d.decodeBitStrings=!0),"string"==typeof f&&(f=n.util.createBuffer(f));var E=f.length(),m=S(f,f.length(),0,d);if(d.parseAllBytes&&0!==f.length()){var F=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw F.byteCount=E,F.remaining=f.length(),F}return m},e.toDer=function(f){var d=n.util.createBuffer(),E=f.tagClass|f.type,m=n.util.createBuffer(),F=!1;if("bitStringContents"in f&&(F=!0,f.original&&(F=e.equals(f,f.original))),F)m.putBytes(f.bitStringContents);else if(f.composed){f.constructed?E|=32:m.putByte(0);for(var w=0;w<f.value.length;++w)void 0!==f.value[w]&&m.putBuffer(e.toDer(f.value[w]))}else if(f.type===e.Type.BMPSTRING)for(w=0;w<f.value.length;++w)m.putInt16(f.value.charCodeAt(w));else!(f.type===e.Type.INTEGER&&f.value.length>1)||(0!==f.value.charCodeAt(0)||128&f.value.charCodeAt(1))&&(255!==f.value.charCodeAt(0)||128&~f.value.charCodeAt(1))?m.putBytes(f.value):m.putBytes(f.value.substr(1));if(d.putByte(E),m.length()<=127)d.putByte(127&m.length());else{var C=m.length(),R="";do{R+=String.fromCharCode(255&C),C>>>=8}while(C>0);for(d.putByte(128|R.length),w=R.length-1;w>=0;--w)d.putByte(R.charCodeAt(w))}return d.putBuffer(m),d},e.oidToDer=function(f){var d=f.split("."),E=n.util.createBuffer();E.putByte(40*parseInt(d[0],10)+parseInt(d[1],10));for(var m,F,w,C,R=2;R<d.length;++R){m=!0,F=[],w=parseInt(d[R],10);do{C=127&w,w>>>=7,m||(C|=128),F.push(C),m=!1}while(w>0);for(var x=F.length-1;x>=0;--x)E.putByte(F[x])}return E},e.derToOid=function(f){var d;"string"==typeof f&&(f=n.util.createBuffer(f));var E=f.getByte();d=Math.floor(E/40)+"."+E%40;for(var m=0;f.length()>0;)m<<=7,128&(E=f.getByte())?m+=127&E:(d+="."+(m+E),m=0);return d},e.utcTimeToDate=function(f){var d=new Date,E=parseInt(f.substr(0,2),10);E=E>=50?1900+E:2e3+E;var m=parseInt(f.substr(2,2),10)-1,F=parseInt(f.substr(4,2),10),w=parseInt(f.substr(6,2),10),C=parseInt(f.substr(8,2),10),R=0;if(f.length>11){var x=f.charAt(10),O=10;"+"!==x&&"-"!==x&&(R=parseInt(f.substr(10,2),10),O+=2)}if(d.setUTCFullYear(E,m,F),d.setUTCHours(w,C,R,0),O&&("+"===(x=f.charAt(O))||"-"===x)){var V=60*parseInt(f.substr(O+1,2),10)+parseInt(f.substr(O+4,2),10);V*=6e4,d.setTime("+"===x?+d-V:+d+V)}return d},e.generalizedTimeToDate=function(f){var d=new Date,E=parseInt(f.substr(0,4),10),m=parseInt(f.substr(4,2),10)-1,F=parseInt(f.substr(6,2),10),w=parseInt(f.substr(8,2),10),C=parseInt(f.substr(10,2),10),R=parseInt(f.substr(12,2),10),x=0,O=0,H=!1;"Z"===f.charAt(f.length-1)&&(H=!0);var M=f.length-5,V=f.charAt(M);return"+"!==V&&"-"!==V||(O=60*parseInt(f.substr(M+1,2),10)+parseInt(f.substr(M+4,2),10),O*=6e4,"+"===V&&(O*=-1),H=!0),"."===f.charAt(14)&&(x=1e3*parseFloat(f.substr(14),10)),H?(d.setUTCFullYear(E,m,F),d.setUTCHours(w,C,R,x),d.setTime(+d+O)):(d.setFullYear(E,m,F),d.setHours(w,C,R,x)),d},e.dateToUtcTime=function(f){if("string"==typeof f)return f;var d="",E=[];E.push((""+f.getUTCFullYear()).substr(2)),E.push(""+(f.getUTCMonth()+1)),E.push(""+f.getUTCDate()),E.push(""+f.getUTCHours()),E.push(""+f.getUTCMinutes()),E.push(""+f.getUTCSeconds());for(var m=0;m<E.length;++m)E[m].length<2&&(d+="0"),d+=E[m];return d+"Z"},e.dateToGeneralizedTime=function(f){if("string"==typeof f)return f;var d="",E=[];E.push(""+f.getUTCFullYear()),E.push(""+(f.getUTCMonth()+1)),E.push(""+f.getUTCDate()),E.push(""+f.getUTCHours()),E.push(""+f.getUTCMinutes()),E.push(""+f.getUTCSeconds());for(var m=0;m<E.length;++m)E[m].length<2&&(d+="0"),d+=E[m];return d+"Z"},e.integerToDer=function(f){var d=n.util.createBuffer();if(f>=-128&&f<128)return d.putSignedInt(f,8);if(f>=-32768&&f<32768)return d.putSignedInt(f,16);if(f>=-8388608&&f<8388608)return d.putSignedInt(f,24);if(f>=-2147483648&&f<2147483648)return d.putSignedInt(f,32);var E=new Error("Integer too large; max is 32-bits.");throw E.integer=f,E},e.derToInteger=function(f){"string"==typeof f&&(f=n.util.createBuffer(f));var d=8*f.length();if(d>32)throw new Error("Integer too large; max is 32-bits.");return f.getSignedInt(d)},e.validate=function(f,d,E,m){var F=!1;if((f.tagClass===d.tagClass||typeof d.tagClass>"u")&&(f.type===d.type||typeof d.type>"u"))if(f.constructed===d.constructed||typeof d.constructed>"u"){if(F=!0,d.value&&n.util.isArray(d.value))for(var w=0,C=0;F&&C<d.value.length;++C)F=d.value[C].optional||!1,f.value[w]&&((F=e.validate(f.value[w],d.value[C],E,m))?++w:d.value[C].optional&&(F=!0)),!F&&m&&m.push("["+d.name+'] Tag class "'+d.tagClass+'", type "'+d.type+'" expected value length "'+d.value.length+'", got "'+f.value.length+'"');if(F&&E&&(d.capture&&(E[d.capture]=f.value),d.captureAsn1&&(E[d.captureAsn1]=f),d.captureBitStringContents&&"bitStringContents"in f&&(E[d.captureBitStringContents]=f.bitStringContents),d.captureBitStringValue&&"bitStringContents"in f))if(f.bitStringContents.length<2)E[d.captureBitStringValue]="";else{if(0!==f.bitStringContents.charCodeAt(0))throw new Error("captureBitStringValue only supported for zero unused bits");E[d.captureBitStringValue]=f.bitStringContents.slice(1)}}else m&&m.push("["+d.name+'] Expected constructed "'+d.constructed+'", got "'+f.constructed+'"');else m&&(f.tagClass!==d.tagClass&&m.push("["+d.name+'] Expected tag class "'+d.tagClass+'", got "'+f.tagClass+'"'),f.type!==d.type&&m.push("["+d.name+'] Expected type "'+d.type+'", got "'+f.type+'"'));return F};var v=/[^\\u0000-\\u00ff]/;e.prettyPrint=function(f,d,E){var m="";E=E||2,(d=d||0)>0&&(m+="\n");for(var F="",w=0;w<d*E;++w)F+=" ";switch(m+=F+"Tag: ",f.tagClass){case e.Class.UNIVERSAL:m+="Universal:";break;case e.Class.APPLICATION:m+="Application:";break;case e.Class.CONTEXT_SPECIFIC:m+="Context-Specific:";break;case e.Class.PRIVATE:m+="Private:"}if(f.tagClass===e.Class.UNIVERSAL)switch(m+=f.type,f.type){case e.Type.NONE:m+=" (None)";break;case e.Type.BOOLEAN:m+=" (Boolean)";break;case e.Type.INTEGER:m+=" (Integer)";break;case e.Type.BITSTRING:m+=" (Bit string)";break;case e.Type.OCTETSTRING:m+=" (Octet string)";break;case e.Type.NULL:m+=" (Null)";break;case e.Type.OID:m+=" (Object Identifier)";break;case e.Type.ODESC:m+=" (Object Descriptor)";break;case e.Type.EXTERNAL:m+=" (External or Instance of)";break;case e.Type.REAL:m+=" (Real)";break;case e.Type.ENUMERATED:m+=" (Enumerated)";break;case e.Type.EMBEDDED:m+=" (Embedded PDV)";break;case e.Type.UTF8:m+=" (UTF8)";break;case e.Type.ROID:m+=" (Relative Object Identifier)";break;case e.Type.SEQUENCE:m+=" (Sequence)";break;case e.Type.SET:m+=" (Set)";break;case e.Type.PRINTABLESTRING:m+=" (Printable String)";break;case e.Type.IA5String:m+=" (IA5String (ASCII))";break;case e.Type.UTCTIME:m+=" (UTC time)";break;case e.Type.GENERALIZEDTIME:m+=" (Generalized time)";break;case e.Type.BMPSTRING:m+=" (BMP String)"}else m+=f.type;if(m+="\n",m+=F+"Constructed: "+f.constructed+"\n",f.composed){var C=0,R="";for(w=0;w<f.value.length;++w)void 0!==f.value[w]&&(C+=1,R+=e.prettyPrint(f.value[w],d+1,E),w+1<f.value.length&&(R+=","));m+=F+"Sub values: "+C+R}else{if(m+=F+"Value: ",f.type===e.Type.OID){var x=e.derToOid(f.value);m+=x,n.pki&&n.pki.oids&&x in n.pki.oids&&(m+=" ("+n.pki.oids[x]+") ")}if(f.type===e.Type.INTEGER)try{m+=e.derToInteger(f.value)}catch{m+="0x"+n.util.bytesToHex(f.value)}else if(f.type===e.Type.BITSTRING){if(m+=f.value.length>1?"0x"+n.util.bytesToHex(f.value.slice(1)):"(none)",f.value.length>0){var O=f.value.charCodeAt(0);1==O?m+=" (1 unused bit shown)":O>1&&(m+=" ("+O+" unused bits shown)")}}else if(f.type===e.Type.OCTETSTRING)v.test(f.value)||(m+="("+f.value+") "),m+="0x"+n.util.bytesToHex(f.value);else if(f.type===e.Type.UTF8)try{m+=n.util.decodeUtf8(f.value)}catch(H){if("URI malformed"!==H.message)throw H;m+="0x"+n.util.bytesToHex(f.value)+" (malformed UTF8)"}else f.type===e.Type.PRINTABLESTRING||f.type===e.Type.IA5String?m+=f.value:v.test(f.value)?m+="0x"+n.util.bytesToHex(f.value):m+=0===f.value.length?"[null]":f.value}return m}},3175:qe=>{var me={};qe.exports=me;var u={};me.encode=function(e,_,g){if("string"!=typeof _)throw new TypeError('"alphabet" must be a string.');if(void 0!==g&&"number"!=typeof g)throw new TypeError('"maxline" must be a number.');var S="";if(e instanceof Uint8Array){var v=0,f=_.length,d=_.charAt(0),E=[0];for(v=0;v<e.length;++v){for(var m=0,F=e[v];m<E.length;++m)E[m]=(F+=E[m]<<8)%f,F=F/f|0;for(;F>0;)E.push(F%f),F=F/f|0}for(v=0;0===e[v]&&v<e.length-1;++v)S+=d;for(v=E.length-1;v>=0;--v)S+=_[E[v]]}else S=function n(e,_){var g=0,S=_.length,v=_.charAt(0),f=[0];for(g=0;g<e.length();++g){for(var d=0,E=e.at(g);d<f.length;++d)f[d]=(E+=f[d]<<8)%S,E=E/S|0;for(;E>0;)f.push(E%S),E=E/S|0}var m="";for(g=0;0===e.at(g)&&g<e.length()-1;++g)m+=v;for(g=f.length-1;g>=0;--g)m+=_[f[g]];return m}(e,_);if(g){var w=new RegExp(".{1,"+g+"}","g");S=S.match(w).join("\r\n")}return S},me.decode=function(e,_){if("string"!=typeof e)throw new TypeError('"input" must be a string.');if("string"!=typeof _)throw new TypeError('"alphabet" must be a string.');var g=u[_];if(!g){g=u[_]=[];for(var S=0;S<_.length;++S)g[_.charCodeAt(S)]=S}e=e.replace(/\s/g,"");var v=_.length,f=_.charAt(0),d=[0];for(S=0;S<e.length;S++){var E=g[e.charCodeAt(S)];if(void 0===E)return;for(var m=0,F=E;m<d.length;++m)d[m]=255&(F+=d[m]*v),F>>=8;for(;F>0;)d.push(255&F),F>>=8}for(var w=0;e[w]===f&&w<e.length-1;++w)d.push(0);return typeof Buffer<"u"?Buffer.from(d.reverse()):new Uint8Array(d.reverse())}},5855:(qe,me,u)=>{var n=u(6589);u(812),qe.exports=n.cipher=n.cipher||{},n.cipher.algorithms=n.cipher.algorithms||{},n.cipher.createCipher=function(_,g){var S=_;if("string"==typeof S&&(S=n.cipher.getAlgorithm(S))&&(S=S()),!S)throw new Error("Unsupported algorithm: "+_);return new n.cipher.BlockCipher({algorithm:S,key:g,decrypt:!1})},n.cipher.createDecipher=function(_,g){var S=_;if("string"==typeof S&&(S=n.cipher.getAlgorithm(S))&&(S=S()),!S)throw new Error("Unsupported algorithm: "+_);return new n.cipher.BlockCipher({algorithm:S,key:g,decrypt:!0})},n.cipher.registerAlgorithm=function(_,g){_=_.toUpperCase(),n.cipher.algorithms[_]=g},n.cipher.getAlgorithm=function(_){return(_=_.toUpperCase())in n.cipher.algorithms?n.cipher.algorithms[_]:null};var e=n.cipher.BlockCipher=function(_){this.algorithm=_.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=_.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=_.decrypt,this.algorithm.initialize(_)};e.prototype.start=function(_){_=_||{};var g={};for(var S in _)g[S]=_[S];g.decrypt=this._decrypt,this._finish=!1,this._input=n.util.createBuffer(),this.output=_.output||n.util.createBuffer(),this.mode.start(g)},e.prototype.update=function(_){for(_&&this._input.putBuffer(_);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()},e.prototype.finish=function(_){_&&("ECB"===this.mode.name||"CBC"===this.mode.name)&&(this.mode.pad=function(S){return _(this.blockSize,S,!1)},this.mode.unpad=function(S){return _(this.blockSize,S,!0)});var g={};return g.decrypt=this._decrypt,g.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,g)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,g))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,g))}},8580:(qe,me,u)=>{var n=u(6589);u(812),n.cipher=n.cipher||{};var e=qe.exports=n.cipher.modes=n.cipher.modes||{};function _(v,f){if("string"==typeof v&&(v=n.util.createBuffer(v)),n.util.isArray(v)&&v.length>4){var d=v;v=n.util.createBuffer();for(var E=0;E<d.length;++E)v.putByte(d[E])}if(v.length()<f)throw new Error("Invalid IV length; got "+v.length()+" bytes and expected "+f+" bytes.");if(!n.util.isArray(v)){var m=[],F=f/4;for(E=0;E<F;++E)m.push(v.getInt32());v=m}return v}function g(v){v[v.length-1]=v[v.length-1]+1&4294967295}function S(v){return[v/4294967296|0,4294967295&v]}e.ecb=function(v){v=v||{},this.name="ECB",this.cipher=v.cipher,this.blockSize=v.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},e.ecb.prototype.start=function(v){},e.ecb.prototype.encrypt=function(v,f,d){if(v.length()<this.blockSize&&!(d&&v.length()>0))return!0;for(var E=0;E<this._ints;++E)this._inBlock[E]=v.getInt32();for(this.cipher.encrypt(this._inBlock,this._outBlock),E=0;E<this._ints;++E)f.putInt32(this._outBlock[E])},e.ecb.prototype.decrypt=function(v,f,d){if(v.length()<this.blockSize&&!(d&&v.length()>0))return!0;for(var E=0;E<this._ints;++E)this._inBlock[E]=v.getInt32();for(this.cipher.decrypt(this._inBlock,this._outBlock),E=0;E<this._ints;++E)f.putInt32(this._outBlock[E])},e.ecb.prototype.pad=function(v,f){var d=v.length()===this.blockSize?this.blockSize:this.blockSize-v.length();return v.fillWithByte(d,d),!0},e.ecb.prototype.unpad=function(v,f){if(f.overflow>0)return!1;var d=v.length(),E=v.at(d-1);return!(E>this.blockSize<<2||(v.truncate(E),0))},e.cbc=function(v){v=v||{},this.name="CBC",this.cipher=v.cipher,this.blockSize=v.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},e.cbc.prototype.start=function(v){if(null===v.iv){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else{if(!("iv"in v))throw new Error("Invalid IV parameter.");this._iv=_(v.iv,this.blockSize),this._prev=this._iv.slice(0)}},e.cbc.prototype.encrypt=function(v,f,d){if(v.length()<this.blockSize&&!(d&&v.length()>0))return!0;for(var E=0;E<this._ints;++E)this._inBlock[E]=this._prev[E]^v.getInt32();for(this.cipher.encrypt(this._inBlock,this._outBlock),E=0;E<this._ints;++E)f.putInt32(this._outBlock[E]);this._prev=this._outBlock},e.cbc.prototype.decrypt=function(v,f,d){if(v.length()<this.blockSize&&!(d&&v.length()>0))return!0;for(var E=0;E<this._ints;++E)this._inBlock[E]=v.getInt32();for(this.cipher.decrypt(this._inBlock,this._outBlock),E=0;E<this._ints;++E)f.putInt32(this._prev[E]^this._outBlock[E]);this._prev=this._inBlock.slice(0)},e.cbc.prototype.pad=function(v,f){var d=v.length()===this.blockSize?this.blockSize:this.blockSize-v.length();return v.fillWithByte(d,d),!0},e.cbc.prototype.unpad=function(v,f){if(f.overflow>0)return!1;var d=v.length(),E=v.at(d-1);return!(E>this.blockSize<<2||(v.truncate(E),0))},e.cfb=function(v){v=v||{},this.name="CFB",this.cipher=v.cipher,this.blockSize=v.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=n.util.createBuffer(),this._partialBytes=0},e.cfb.prototype.start=function(v){if(!("iv"in v))throw new Error("Invalid IV parameter.");this._iv=_(v.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},e.cfb.prototype.encrypt=function(v,f,d){var E=v.length();if(0===E)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&E>=this.blockSize)for(var m=0;m<this._ints;++m)this._inBlock[m]=v.getInt32()^this._outBlock[m],f.putInt32(this._inBlock[m]);else{var F=(this.blockSize-E)%this.blockSize;for(F>0&&(F=this.blockSize-F),this._partialOutput.clear(),m=0;m<this._ints;++m)this._partialBlock[m]=v.getInt32()^this._outBlock[m],this._partialOutput.putInt32(this._partialBlock[m]);if(F>0)v.read-=this.blockSize;else for(m=0;m<this._ints;++m)this._inBlock[m]=this._partialBlock[m];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),F>0&&!d)return f.putBytes(this._partialOutput.getBytes(F-this._partialBytes)),this._partialBytes=F,!0;f.putBytes(this._partialOutput.getBytes(E-this._partialBytes)),this._partialBytes=0}},e.cfb.prototype.decrypt=function(v,f,d){var E=v.length();if(0===E)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&E>=this.blockSize)for(var m=0;m<this._ints;++m)this._inBlock[m]=v.getInt32(),f.putInt32(this._inBlock[m]^this._outBlock[m]);else{var F=(this.blockSize-E)%this.blockSize;for(F>0&&(F=this.blockSize-F),this._partialOutput.clear(),m=0;m<this._ints;++m)this._partialBlock[m]=v.getInt32(),this._partialOutput.putInt32(this._partialBlock[m]^this._outBlock[m]);if(F>0)v.read-=this.blockSize;else for(m=0;m<this._ints;++m)this._inBlock[m]=this._partialBlock[m];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),F>0&&!d)return f.putBytes(this._partialOutput.getBytes(F-this._partialBytes)),this._partialBytes=F,!0;f.putBytes(this._partialOutput.getBytes(E-this._partialBytes)),this._partialBytes=0}},e.ofb=function(v){v=v||{},this.name="OFB",this.cipher=v.cipher,this.blockSize=v.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=n.util.createBuffer(),this._partialBytes=0},e.ofb.prototype.start=function(v){if(!("iv"in v))throw new Error("Invalid IV parameter.");this._iv=_(v.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},e.ofb.prototype.encrypt=function(v,f,d){var E=v.length();if(0===v.length())return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&E>=this.blockSize)for(var m=0;m<this._ints;++m)f.putInt32(v.getInt32()^this._outBlock[m]),this._inBlock[m]=this._outBlock[m];else{var F=(this.blockSize-E)%this.blockSize;for(F>0&&(F=this.blockSize-F),this._partialOutput.clear(),m=0;m<this._ints;++m)this._partialOutput.putInt32(v.getInt32()^this._outBlock[m]);if(F>0)v.read-=this.blockSize;else for(m=0;m<this._ints;++m)this._inBlock[m]=this._outBlock[m];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),F>0&&!d)return f.putBytes(this._partialOutput.getBytes(F-this._partialBytes)),this._partialBytes=F,!0;f.putBytes(this._partialOutput.getBytes(E-this._partialBytes)),this._partialBytes=0}},e.ofb.prototype.decrypt=e.ofb.prototype.encrypt,e.ctr=function(v){v=v||{},this.name="CTR",this.cipher=v.cipher,this.blockSize=v.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=n.util.createBuffer(),this._partialBytes=0},e.ctr.prototype.start=function(v){if(!("iv"in v))throw new Error("Invalid IV parameter.");this._iv=_(v.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},e.ctr.prototype.encrypt=function(v,f,d){var E=v.length();if(0===E)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&E>=this.blockSize)for(var m=0;m<this._ints;++m)f.putInt32(v.getInt32()^this._outBlock[m]);else{var F=(this.blockSize-E)%this.blockSize;for(F>0&&(F=this.blockSize-F),this._partialOutput.clear(),m=0;m<this._ints;++m)this._partialOutput.putInt32(v.getInt32()^this._outBlock[m]);if(F>0&&(v.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),F>0&&!d)return f.putBytes(this._partialOutput.getBytes(F-this._partialBytes)),this._partialBytes=F,!0;f.putBytes(this._partialOutput.getBytes(E-this._partialBytes)),this._partialBytes=0}g(this._inBlock)},e.ctr.prototype.decrypt=e.ctr.prototype.encrypt,e.gcm=function(v){v=v||{},this.name="GCM",this.cipher=v.cipher,this.blockSize=v.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=n.util.createBuffer(),this._partialBytes=0,this._R=3774873600},e.gcm.prototype.start=function(v){if(!("iv"in v))throw new Error("Invalid IV parameter.");var d,f=n.util.createBuffer(v.iv);if(this._cipherLength=0,d="additionalData"in v?n.util.createBuffer(v.additionalData):n.util.createBuffer(),this._tagLength="tagLength"in v?v.tagLength:128,this._tag=null,v.decrypt&&(this._tag=n.util.createBuffer(v.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var E=f.length();if(12===E)this._j0=[f.getInt32(),f.getInt32(),f.getInt32(),1];else{for(this._j0=[0,0,0,0];f.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[f.getInt32(),f.getInt32(),f.getInt32(),f.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(S(8*E)))}this._inBlock=this._j0.slice(0),g(this._inBlock),this._partialBytes=0,d=n.util.createBuffer(d),this._aDataLength=S(8*d.length());var m=d.length()%this.blockSize;for(m&&d.fillWithByte(0,this.blockSize-m),this._s=[0,0,0,0];d.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[d.getInt32(),d.getInt32(),d.getInt32(),d.getInt32()])},e.gcm.prototype.encrypt=function(v,f,d){var E=v.length();if(0===E)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&E>=this.blockSize){for(var m=0;m<this._ints;++m)f.putInt32(this._outBlock[m]^=v.getInt32());this._cipherLength+=this.blockSize}else{var F=(this.blockSize-E)%this.blockSize;for(F>0&&(F=this.blockSize-F),this._partialOutput.clear(),m=0;m<this._ints;++m)this._partialOutput.putInt32(v.getInt32()^this._outBlock[m]);if(F<=0||d){if(d){var w=E%this.blockSize;this._cipherLength+=w,this._partialOutput.truncate(this.blockSize-w)}else this._cipherLength+=this.blockSize;for(m=0;m<this._ints;++m)this._outBlock[m]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),F>0&&!d)return v.read-=this.blockSize,f.putBytes(this._partialOutput.getBytes(F-this._partialBytes)),this._partialBytes=F,!0;f.putBytes(this._partialOutput.getBytes(E-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),g(this._inBlock)},e.gcm.prototype.decrypt=function(v,f,d){var E=v.length();if(E<this.blockSize&&!(d&&E>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),g(this._inBlock),this._hashBlock[0]=v.getInt32(),this._hashBlock[1]=v.getInt32(),this._hashBlock[2]=v.getInt32(),this._hashBlock[3]=v.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var m=0;m<this._ints;++m)f.putInt32(this._outBlock[m]^this._hashBlock[m]);this._cipherLength+=E<this.blockSize?E%this.blockSize:this.blockSize},e.gcm.prototype.afterFinish=function(v,f){var d=!0;f.decrypt&&f.overflow&&v.truncate(this.blockSize-f.overflow),this.tag=n.util.createBuffer();var E=this._aDataLength.concat(S(8*this._cipherLength));this._s=this.ghash(this._hashSubkey,this._s,E);var m=[];this.cipher.encrypt(this._j0,m);for(var F=0;F<this._ints;++F)this.tag.putInt32(this._s[F]^m[F]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),f.decrypt&&this.tag.bytes()!==this._tag&&(d=!1),d},e.gcm.prototype.multiply=function(v,f){for(var d=[0,0,0,0],E=f.slice(0),m=0;m<128;++m)v[m/32|0]&1<<31-m%32&&(d[0]^=E[0],d[1]^=E[1],d[2]^=E[2],d[3]^=E[3]),this.pow(E,E);return d},e.gcm.prototype.pow=function(v,f){for(var d=1&v[3],E=3;E>0;--E)f[E]=v[E]>>>1|(1&v[E-1])<<31;f[0]=v[0]>>>1,d&&(f[0]^=this._R)},e.gcm.prototype.tableMultiply=function(v){for(var f=[0,0,0,0],d=0;d<32;++d){var F=this._m[d][v[d/8|0]>>>4*(7-d%8)&15];f[0]^=F[0],f[1]^=F[1],f[2]^=F[2],f[3]^=F[3]}return f},e.gcm.prototype.ghash=function(v,f,d){return f[0]^=d[0],f[1]^=d[1],f[2]^=d[2],f[3]^=d[3],this.tableMultiply(f)},e.gcm.prototype.generateHashTable=function(v,f){for(var d=8/f,E=4*d,m=16*d,F=new Array(m),w=0;w<m;++w){var C=[0,0,0,0];C[w/E|0]=1<<f-1<<(E-1-w%E)*f,F[w]=this.generateSubHashTable(this.multiply(C,v),f)}return F},e.gcm.prototype.generateSubHashTable=function(v,f){var d=1<<f,E=d>>>1,m=new Array(d);m[E]=v.slice(0);for(var F=E>>>1;F>0;)this.pow(m[2*F],m[F]=[]),F>>=1;for(F=2;F<E;){for(var w=1;w<F;++w){var C=m[F],R=m[w];m[F+w]=[C[0]^R[0],C[1]^R[1],C[2]^R[2],C[3]^R[3]]}F*=2}for(m[0]=[0,0,0,0],F=E+1;F<d;++F){var x=m[F^E];m[F]=[v[0]^x[0],v[1]^x[1],v[2]^x[2],v[3]^x[3]]}return m}},3674:(qe,me,u)=>{var n=u(6589);function e(R,x){n.cipher.registerAlgorithm(R,function(){return new n.des.Algorithm(R,x)})}u(5855),u(8580),u(812),qe.exports=n.des=n.des||{},n.des.startEncrypting=function(R,x,O,H){var M=C({key:R,output:O,decrypt:!1,mode:H||(null===x?"ECB":"CBC")});return M.start(x),M},n.des.createEncryptionCipher=function(R,x){return C({key:R,output:null,decrypt:!1,mode:x})},n.des.startDecrypting=function(R,x,O,H){var M=C({key:R,output:O,decrypt:!0,mode:H||(null===x?"ECB":"CBC")});return M.start(x),M},n.des.createDecryptionCipher=function(R,x){return C({key:R,output:null,decrypt:!0,mode:x})},n.des.Algorithm=function(R,x){var O=this;O.name=R,O.mode=new x({blockSize:8,cipher:{encrypt:function(H,M){return w(O._keys,H,M,!1)},decrypt:function(H,M){return w(O._keys,H,M,!0)}}}),O._init=!1},n.des.Algorithm.prototype.initialize=function(R){if(!this._init){var x=n.util.createBuffer(R.key);if(0===this.name.indexOf("3DES")&&24!==x.length())throw new Error("Invalid Triple-DES key size: "+8*x.length());this._keys=function F(R){for(var ke,x=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],O=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],H=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],M=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],V=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],U=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],G=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],ie=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],le=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],L=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],J=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],te=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],I=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],oe=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],z=R.length()>8?3:1,_e=[],Pe=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],Re=0,Je=0;Je<z;Je++){var Te=R.getInt32(),we=R.getInt32();Te^=(ke=252645135&(Te>>>4^we))<<4,Te^=ke=65535&((we^=ke)>>>-16^Te),Te^=(ke=858993459&(Te>>>2^(we^=ke<<-16)))<<2,Te^=ke=65535&((we^=ke)>>>-16^Te),Te^=(ke=1431655765&(Te>>>1^(we^=ke<<-16)))<<1,Te^=ke=16711935&((we^=ke)>>>8^Te),ke=(Te^=(ke=1431655765&(Te>>>1^(we^=ke<<8)))<<1)<<8|(we^=ke)>>>20&240,Te=we<<24|we<<8&16711680|we>>>8&65280|we>>>24&240,we=ke;for(var de=0;de<Pe.length;++de){Pe[de]?(Te=Te<<2|Te>>>26,we=we<<2|we>>>26):(Te=Te<<1|Te>>>27,we=we<<1|we>>>27);var Ve=x[(Te&=-15)>>>28]|O[Te>>>24&15]|H[Te>>>20&15]|M[Te>>>16&15]|V[Te>>>12&15]|U[Te>>>8&15]|G[Te>>>4&15],Ae=ie[(we&=-15)>>>28]|le[we>>>24&15]|L[we>>>20&15]|J[we>>>16&15]|te[we>>>12&15]|I[we>>>8&15]|oe[we>>>4&15];_e[Re++]=Ve^(ke=65535&(Ae>>>16^Ve)),_e[Re++]=Ae^ke<<16}}return _e}(x),this._init=!0}},e("DES-ECB",n.cipher.modes.ecb),e("DES-CBC",n.cipher.modes.cbc),e("DES-CFB",n.cipher.modes.cfb),e("DES-OFB",n.cipher.modes.ofb),e("DES-CTR",n.cipher.modes.ctr),e("3DES-ECB",n.cipher.modes.ecb),e("3DES-CBC",n.cipher.modes.cbc),e("3DES-CFB",n.cipher.modes.cfb),e("3DES-OFB",n.cipher.modes.ofb),e("3DES-CTR",n.cipher.modes.ctr);var _=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],g=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],S=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],v=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],f=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],d=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],E=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],m=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function w(R,x,O,H){var V,M=32===R.length?3:9;V=3===M?H?[30,-2,-2]:[0,32,2]:H?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var U,G=x[0],ie=x[1];G^=(U=252645135&(G>>>4^ie))<<4,G^=(U=65535&(G>>>16^(ie^=U)))<<16,G^=U=858993459&((ie^=U)>>>2^G),G^=U=16711935&((ie^=U<<2)>>>8^G),G=(G^=(U=1431655765&(G>>>1^(ie^=U<<8)))<<1)<<1|G>>>31,ie=(ie^=U)<<1|ie>>>31;for(var le=0;le<M;le+=3){for(var L=V[le+1],J=V[le+2],te=V[le];te!=L;te+=J){var I=ie^R[te],oe=(ie>>>4|ie<<28)^R[te+1];U=G,G=ie,ie=U^(g[I>>>24&63]|v[I>>>16&63]|d[I>>>8&63]|m[63&I]|_[oe>>>24&63]|S[oe>>>16&63]|f[oe>>>8&63]|E[63&oe])}U=G,G=ie,ie=U}ie=ie>>>1|ie<<31,ie^=U=1431655765&((G=G>>>1|G<<31)>>>1^ie),ie^=(U=16711935&(ie>>>8^(G^=U<<1)))<<8,ie^=(U=858993459&(ie>>>2^(G^=U)))<<2,ie^=U=65535&((G^=U)>>>16^ie),ie^=U=252645135&((G^=U<<16)>>>4^ie),O[0]=G^=U<<4,O[1]=ie}function C(R){var H,O="DES-"+((R=R||{}).mode||"CBC").toUpperCase(),M=(H=R.decrypt?n.cipher.createDecipher(O,R.key):n.cipher.createCipher(O,R.key)).start;return H.start=function(V,U){var G=null;U instanceof n.util.ByteBuffer&&(G=U,U={}),(U=U||{}).output=G,U.iv=V,M.call(H,U)},H}},651:(qe,me,u)=>{var n=u(6589);u(3364),u(1675),u(1290),u(812);var e=u(2758),_=e.publicKeyValidator,g=e.privateKeyValidator;if(typeof S>"u")var S=n.jsbn.BigInteger;var v=n.util.ByteBuffer,f=typeof Buffer>"u"?Uint8Array:Buffer;n.pki=n.pki||{},qe.exports=n.pki.ed25519=n.ed25519=n.ed25519||{};var d=n.ed25519;function E(Tt){var _t=Tt.message;if(_t instanceof Uint8Array||_t instanceof f)return _t;var X=Tt.encoding;if(void 0===_t){if(!Tt.md)throw new TypeError('"options.message" or "options.md" not specified.');_t=Tt.md.digest().getBytes(),X="binary"}if("string"==typeof _t&&!X)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if("string"==typeof _t){if(typeof Buffer<"u")return Buffer.from(_t,X);_t=new v(_t,X)}else if(!(_t instanceof v))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var Y=new f(_t.length()),ee=0;ee<Y.length;++ee)Y[ee]=_t.at(ee);return Y}d.constants={},d.constants.PUBLIC_KEY_BYTE_LENGTH=32,d.constants.PRIVATE_KEY_BYTE_LENGTH=64,d.constants.SEED_BYTE_LENGTH=32,d.constants.SIGN_BYTE_LENGTH=64,d.constants.HASH_BYTE_LENGTH=64,d.generateKeyPair=function(Tt){var _t=(Tt=Tt||{}).seed;if(void 0===_t)_t=n.random.getBytesSync(d.constants.SEED_BYTE_LENGTH);else if("string"==typeof _t){if(_t.length!==d.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+d.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(_t instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');_t=E({message:_t,encoding:"binary"});for(var X=new f(d.constants.PUBLIC_KEY_BYTE_LENGTH),Y=new f(d.constants.PRIVATE_KEY_BYTE_LENGTH),ee=0;ee<32;++ee)Y[ee]=_t[ee];return function V(Tt,_t){var Y,X=[Be(),Be(),Be(),Be()],ee=M(_t,32);for(ee[0]&=248,ee[31]&=127,ee[31]|=64,we(X,ee),te(Tt,X),Y=0;Y<32;++Y)_t[Y+32]=Tt[Y]}(X,Y),{publicKey:X,privateKey:Y}},d.privateKeyFromAsn1=function(Tt){var _t={},X=[];if(!n.asn1.validate(Tt,g,_t,X)){var ee=new Error("Invalid Key.");throw ee.errors=X,ee}var Se=n.asn1.derToOid(_t.privateKeyOid),Ee=n.oids.EdDSA25519;if(Se!==Ee)throw new Error('Invalid OID "'+Se+'"; OID must be "'+Ee+'".');return{privateKeyBytes:E({message:n.asn1.fromDer(_t.privateKey).value,encoding:"binary"})}},d.publicKeyFromAsn1=function(Tt){var _t={},X=[];if(!n.asn1.validate(Tt,_,_t,X)){var ee=new Error("Invalid Key.");throw ee.errors=X,ee}var Se=n.asn1.derToOid(_t.publicKeyOid),Ee=n.oids.EdDSA25519;if(Se!==Ee)throw new Error('Invalid OID "'+Se+'"; OID must be "'+Ee+'".');var at=_t.ed25519PublicKey;if(at.length!==d.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return E({message:at,encoding:"binary"})},d.publicKeyFromPrivateKey=function(Tt){var _t=E({message:(Tt=Tt||{}).privateKey,encoding:"binary"});if(_t.length!==d.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+d.constants.PRIVATE_KEY_BYTE_LENGTH);for(var X=new f(d.constants.PUBLIC_KEY_BYTE_LENGTH),Y=0;Y<X.length;++Y)X[Y]=_t[32+Y];return X},d.sign=function(Tt){var _t=E(Tt=Tt||{}),X=E({message:Tt.privateKey,encoding:"binary"});if(X.length===d.constants.SEED_BYTE_LENGTH)X=d.generateKeyPair({seed:X}).privateKey;else if(X.length!==d.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+d.constants.SEED_BYTE_LENGTH+" or "+d.constants.PRIVATE_KEY_BYTE_LENGTH);var ee=new f(d.constants.SIGN_BYTE_LENGTH+_t.length);!function U(Tt,_t,X,Y){var ee,Se,Ee=new Float64Array(64),at=[Be(),Be(),Be(),Be()],je=M(Y,32);je[0]&=248,je[31]&=127,je[31]|=64;var ot=X+64;for(ee=0;ee<X;++ee)Tt[64+ee]=_t[ee];for(ee=0;ee<32;++ee)Tt[32+ee]=je[32+ee];var Ft=M(Tt.subarray(32),X+32);for(le(Ft),we(at,Ft),te(Tt,at),ee=32;ee<64;++ee)Tt[ee]=Y[ee];var ft=M(Tt,X+64);for(le(ft),ee=32;ee<64;++ee)Ee[ee]=0;for(ee=0;ee<32;++ee)Ee[ee]=Ft[ee];for(ee=0;ee<32;++ee)for(Se=0;Se<32;Se++)Ee[ee+Se]+=ft[ee]*je[Se];ie(Tt.subarray(32),Ee)}(ee,_t,_t.length,X);for(var Se=new f(d.constants.SIGN_BYTE_LENGTH),Ee=0;Ee<Se.length;++Ee)Se[Ee]=ee[Ee];return Se},d.verify=function(Tt){var _t=E(Tt=Tt||{});if(void 0===Tt.signature)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var X=E({message:Tt.signature,encoding:"binary"});if(X.length!==d.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+d.constants.SIGN_BYTE_LENGTH);var Y=E({message:Tt.publicKey,encoding:"binary"});if(Y.length!==d.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+d.constants.PUBLIC_KEY_BYTE_LENGTH);var Ee,ee=new f(d.constants.SIGN_BYTE_LENGTH+_t.length),Se=new f(d.constants.SIGN_BYTE_LENGTH+_t.length);for(Ee=0;Ee<d.constants.SIGN_BYTE_LENGTH;++Ee)ee[Ee]=X[Ee];for(Ee=0;Ee<_t.length;++Ee)ee[Ee+d.constants.SIGN_BYTE_LENGTH]=_t[Ee];return function G(Tt,_t,X,Y){var ee,Ee=new f(32),at=[Be(),Be(),Be(),Be()],je=[Be(),Be(),Be(),Be()];if(-1,X<64||function oe(Tt,_t){var X=Be(),Y=Be(),ee=Be(),Se=Be(),Ee=Be(),at=Be(),je=Be();return de(Tt[2],F),function z(Tt,_t){var X;for(X=0;X<16;++X)Tt[X]=_t[2*X]+(_t[2*X+1]<<8);Tt[15]&=32767}(Tt[1],_t),Yt(ee,Tt[1]),Ut(Se,ee,w),Ye(ee,ee,Tt[2]),ht(Se,Tt[2],Se),Yt(Ee,Se),Yt(at,Ee),Ut(je,at,Ee),Ut(X,je,ee),Ut(X,X,Se),function _e(Tt,_t){var Y,X=Be();for(Y=0;Y<16;++Y)X[Y]=_t[Y];for(Y=250;Y>=0;--Y)Yt(X,X),1!==Y&&Ut(X,X,_t);for(Y=0;Y<16;++Y)Tt[Y]=X[Y]}(X,X),Ut(X,X,ee),Ut(X,X,Se),Ut(X,X,Se),Ut(Tt[0],X,Se),Yt(Y,Tt[0]),Ut(Y,Y,Se),Pe(Y,ee)&&Ut(Tt[0],Tt[0],H),Yt(Y,Tt[0]),Ut(Y,Y,Se),Pe(Y,ee)?-1:(Je(Tt[0])===_t[31]>>7&&Ye(Tt[0],m,Tt[0]),Ut(Tt[3],Tt[0],Tt[1]),0)}(je,Y))return-1;for(ee=0;ee<X;++ee)Tt[ee]=_t[ee];for(ee=0;ee<32;++ee)Tt[ee+32]=Y[ee];var ot=M(Tt,X);if(le(ot),Te(at,je,ot),we(je,_t.subarray(32)),L(at,je),te(Ee,at),X-=64,Re(_t,0,Ee,0)){for(ee=0;ee<X;++ee)Tt[ee]=0;return-1}for(ee=0;ee<X;++ee)Tt[ee]=_t[ee+64];return X}(Se,ee,ee.length,Y)>=0};var m=Be(),F=Be([1]),w=Be([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),C=Be([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),R=Be([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),x=Be([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),O=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),H=Be([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function M(Tt,_t){var X=n.md.sha512.create(),Y=new v(Tt);X.update(Y.getBytes(_t),"binary");var ee=X.digest().getBytes();if(typeof Buffer<"u")return Buffer.from(ee,"binary");for(var Se=new f(d.constants.HASH_BYTE_LENGTH),Ee=0;Ee<64;++Ee)Se[Ee]=ee.charCodeAt(Ee);return Se}function ie(Tt,_t){var X,Y,ee,Se;for(Y=63;Y>=32;--Y){for(X=0,ee=Y-32,Se=Y-12;ee<Se;++ee)_t[ee]+=X-16*_t[Y]*O[ee-(Y-32)],_t[ee]-=256*(X=_t[ee]+128>>8);_t[ee]+=X,_t[Y]=0}for(X=0,ee=0;ee<32;++ee)_t[ee]+=X-(_t[31]>>4)*O[ee],X=_t[ee]>>8,_t[ee]&=255;for(ee=0;ee<32;++ee)_t[ee]-=X*O[ee];for(Y=0;Y<32;++Y)_t[Y+1]+=_t[Y]>>8,Tt[Y]=255&_t[Y]}function le(Tt){for(var _t=new Float64Array(64),X=0;X<64;++X)_t[X]=Tt[X],Tt[X]=0;ie(Tt,_t)}function L(Tt,_t){var X=Be(),Y=Be(),ee=Be(),Se=Be(),Ee=Be(),at=Be(),je=Be(),ot=Be(),Ft=Be();Ye(X,Tt[1],Tt[0]),Ye(Ft,_t[1],_t[0]),Ut(X,X,Ft),ht(Y,Tt[0],Tt[1]),ht(Ft,_t[0],_t[1]),Ut(Y,Y,Ft),Ut(ee,Tt[3],_t[3]),Ut(ee,ee,C),Ut(Se,Tt[2],_t[2]),ht(Se,Se,Se),Ye(Ee,Y,X),Ye(at,Se,ee),ht(je,Se,ee),ht(ot,Y,X),Ut(Tt[0],Ee,at),Ut(Tt[1],ot,je),Ut(Tt[2],je,at),Ut(Tt[3],Ee,ot)}function J(Tt,_t,X){for(var Y=0;Y<4;++Y)rt(Tt[Y],_t[Y],X)}function te(Tt,_t){var X=Be(),Y=Be(),ee=Be();(function Ve(Tt,_t){var Y,X=Be();for(Y=0;Y<16;++Y)X[Y]=_t[Y];for(Y=253;Y>=0;--Y)Yt(X,X),2!==Y&&4!==Y&&Ut(X,X,_t);for(Y=0;Y<16;++Y)Tt[Y]=X[Y]})(ee,_t[2]),Ut(X,_t[0],ee),Ut(Y,_t[1],ee),I(Tt,Y),Tt[31]^=Je(X)<<7}function I(Tt,_t){var X,Y,ee,Se=Be(),Ee=Be();for(X=0;X<16;++X)Ee[X]=_t[X];for(Ae(Ee),Ae(Ee),Ae(Ee),Y=0;Y<2;++Y){for(Se[0]=Ee[0]-65517,X=1;X<15;++X)Se[X]=Ee[X]-65535-(Se[X-1]>>16&1),Se[X-1]&=65535;Se[15]=Ee[15]-32767-(Se[14]>>16&1),ee=Se[15]>>16&1,Se[14]&=65535,rt(Ee,Se,1-ee)}for(X=0;X<16;X++)Tt[2*X]=255&Ee[X],Tt[2*X+1]=Ee[X]>>8}function Pe(Tt,_t){var X=new f(32),Y=new f(32);return I(X,Tt),I(Y,_t),Re(X,0,Y,0)}function Re(Tt,_t,X,Y){return function ke(Tt,_t,X,Y,ee){var Se,Ee=0;for(Se=0;Se<ee;++Se)Ee|=Tt[_t+Se]^X[Y+Se];return(1&Ee-1>>>8)-1}(Tt,_t,X,Y,32)}function Je(Tt){var _t=new f(32);return I(_t,Tt),1&_t[0]}function Te(Tt,_t,X){var Y,ee;for(de(Tt[0],m),de(Tt[1],F),de(Tt[2],F),de(Tt[3],m),ee=255;ee>=0;--ee)J(Tt,_t,Y=X[ee/8|0]>>(7&ee)&1),L(_t,Tt),L(Tt,Tt),J(Tt,_t,Y)}function we(Tt,_t){var X=[Be(),Be(),Be(),Be()];de(X[0],R),de(X[1],x),de(X[2],F),Ut(X[3],R,x),Te(Tt,X,_t)}function de(Tt,_t){var X;for(X=0;X<16;X++)Tt[X]=0|_t[X]}function Ae(Tt){var _t,X,Y=1;for(_t=0;_t<16;++_t)X=Tt[_t]+Y+65535,Y=Math.floor(X/65536),Tt[_t]=X-65536*Y;Tt[0]+=Y-1+37*(Y-1)}function rt(Tt,_t,X){for(var Y,ee=~(X-1),Se=0;Se<16;++Se)Tt[Se]^=Y=ee&(Tt[Se]^_t[Se]),_t[Se]^=Y}function Be(Tt){var _t,X=new Float64Array(16);if(Tt)for(_t=0;_t<Tt.length;++_t)X[_t]=Tt[_t];return X}function ht(Tt,_t,X){for(var Y=0;Y<16;++Y)Tt[Y]=_t[Y]+X[Y]}function Ye(Tt,_t,X){for(var Y=0;Y<16;++Y)Tt[Y]=_t[Y]-X[Y]}function Yt(Tt,_t){Ut(Tt,_t,_t)}function Ut(Tt,_t,X){var Y,ee,Se=0,Ee=0,at=0,je=0,ot=0,Ft=0,ft=0,nt=0,Wt=0,tn=0,it=0,Ot=0,ve=0,ae=0,$=0,se=0,Ue=0,Ze=0,dt=0,Pt=0,an=0,un=0,Mn=0,kn=0,Bn=0,It=0,Rn=0,Ht=0,lt=0,vt=0,mt=0,kt=X[0],nn=X[1],Tn=X[2],Ln=X[3],dn=X[4],li=X[5],ci=X[6],Rt=X[7],ut=X[8],Nt=X[9],$t=X[10],zt=X[11],yn=X[12],vn=X[13],zn=X[14],An=X[15];Se+=(Y=_t[0])*kt,Ee+=Y*nn,at+=Y*Tn,je+=Y*Ln,ot+=Y*dn,Ft+=Y*li,ft+=Y*ci,nt+=Y*Rt,Wt+=Y*ut,tn+=Y*Nt,it+=Y*$t,Ot+=Y*zt,ve+=Y*yn,ae+=Y*vn,$+=Y*zn,se+=Y*An,Ee+=(Y=_t[1])*kt,at+=Y*nn,je+=Y*Tn,ot+=Y*Ln,Ft+=Y*dn,ft+=Y*li,nt+=Y*ci,Wt+=Y*Rt,tn+=Y*ut,it+=Y*Nt,Ot+=Y*$t,ve+=Y*zt,ae+=Y*yn,$+=Y*vn,se+=Y*zn,Ue+=Y*An,at+=(Y=_t[2])*kt,je+=Y*nn,ot+=Y*Tn,Ft+=Y*Ln,ft+=Y*dn,nt+=Y*li,Wt+=Y*ci,tn+=Y*Rt,it+=Y*ut,Ot+=Y*Nt,ve+=Y*$t,ae+=Y*zt,$+=Y*yn,se+=Y*vn,Ue+=Y*zn,Ze+=Y*An,je+=(Y=_t[3])*kt,ot+=Y*nn,Ft+=Y*Tn,ft+=Y*Ln,nt+=Y*dn,Wt+=Y*li,tn+=Y*ci,it+=Y*Rt,Ot+=Y*ut,ve+=Y*Nt,ae+=Y*$t,$+=Y*zt,se+=Y*yn,Ue+=Y*vn,Ze+=Y*zn,dt+=Y*An,ot+=(Y=_t[4])*kt,Ft+=Y*nn,ft+=Y*Tn,nt+=Y*Ln,Wt+=Y*dn,tn+=Y*li,it+=Y*ci,Ot+=Y*Rt,ve+=Y*ut,ae+=Y*Nt,$+=Y*$t,se+=Y*zt,Ue+=Y*yn,Ze+=Y*vn,dt+=Y*zn,Pt+=Y*An,Ft+=(Y=_t[5])*kt,ft+=Y*nn,nt+=Y*Tn,Wt+=Y*Ln,tn+=Y*dn,it+=Y*li,Ot+=Y*ci,ve+=Y*Rt,ae+=Y*ut,$+=Y*Nt,se+=Y*$t,Ue+=Y*zt,Ze+=Y*yn,dt+=Y*vn,Pt+=Y*zn,an+=Y*An,ft+=(Y=_t[6])*kt,nt+=Y*nn,Wt+=Y*Tn,tn+=Y*Ln,it+=Y*dn,Ot+=Y*li,ve+=Y*ci,ae+=Y*Rt,$+=Y*ut,se+=Y*Nt,Ue+=Y*$t,Ze+=Y*zt,dt+=Y*yn,Pt+=Y*vn,an+=Y*zn,un+=Y*An,nt+=(Y=_t[7])*kt,Wt+=Y*nn,tn+=Y*Tn,it+=Y*Ln,Ot+=Y*dn,ve+=Y*li,ae+=Y*ci,$+=Y*Rt,se+=Y*ut,Ue+=Y*Nt,Ze+=Y*$t,dt+=Y*zt,Pt+=Y*yn,an+=Y*vn,un+=Y*zn,Mn+=Y*An,Wt+=(Y=_t[8])*kt,tn+=Y*nn,it+=Y*Tn,Ot+=Y*Ln,ve+=Y*dn,ae+=Y*li,$+=Y*ci,se+=Y*Rt,Ue+=Y*ut,Ze+=Y*Nt,dt+=Y*$t,Pt+=Y*zt,an+=Y*yn,un+=Y*vn,Mn+=Y*zn,kn+=Y*An,tn+=(Y=_t[9])*kt,it+=Y*nn,Ot+=Y*Tn,ve+=Y*Ln,ae+=Y*dn,$+=Y*li,se+=Y*ci,Ue+=Y*Rt,Ze+=Y*ut,dt+=Y*Nt,Pt+=Y*$t,an+=Y*zt,un+=Y*yn,Mn+=Y*vn,kn+=Y*zn,Bn+=Y*An,it+=(Y=_t[10])*kt,Ot+=Y*nn,ve+=Y*Tn,ae+=Y*Ln,$+=Y*dn,se+=Y*li,Ue+=Y*ci,Ze+=Y*Rt,dt+=Y*ut,Pt+=Y*Nt,an+=Y*$t,un+=Y*zt,Mn+=Y*yn,kn+=Y*vn,Bn+=Y*zn,It+=Y*An,Ot+=(Y=_t[11])*kt,ve+=Y*nn,ae+=Y*Tn,$+=Y*Ln,se+=Y*dn,Ue+=Y*li,Ze+=Y*ci,dt+=Y*Rt,Pt+=Y*ut,an+=Y*Nt,un+=Y*$t,Mn+=Y*zt,kn+=Y*yn,Bn+=Y*vn,It+=Y*zn,Rn+=Y*An,ve+=(Y=_t[12])*kt,ae+=Y*nn,$+=Y*Tn,se+=Y*Ln,Ue+=Y*dn,Ze+=Y*li,dt+=Y*ci,Pt+=Y*Rt,an+=Y*ut,un+=Y*Nt,Mn+=Y*$t,kn+=Y*zt,Bn+=Y*yn,It+=Y*vn,Rn+=Y*zn,Ht+=Y*An,ae+=(Y=_t[13])*kt,$+=Y*nn,se+=Y*Tn,Ue+=Y*Ln,Ze+=Y*dn,dt+=Y*li,Pt+=Y*ci,an+=Y*Rt,un+=Y*ut,Mn+=Y*Nt,kn+=Y*$t,Bn+=Y*zt,It+=Y*yn,Rn+=Y*vn,Ht+=Y*zn,lt+=Y*An,$+=(Y=_t[14])*kt,se+=Y*nn,Ue+=Y*Tn,Ze+=Y*Ln,dt+=Y*dn,Pt+=Y*li,an+=Y*ci,un+=Y*Rt,Mn+=Y*ut,kn+=Y*Nt,Bn+=Y*$t,It+=Y*zt,Rn+=Y*yn,Ht+=Y*vn,lt+=Y*zn,vt+=Y*An,se+=(Y=_t[15])*kt,Ee+=38*(Ze+=Y*Tn),at+=38*(dt+=Y*Ln),je+=38*(Pt+=Y*dn),ot+=38*(an+=Y*li),Ft+=38*(un+=Y*ci),ft+=38*(Mn+=Y*Rt),nt+=38*(kn+=Y*ut),Wt+=38*(Bn+=Y*Nt),tn+=38*(It+=Y*$t),it+=38*(Rn+=Y*zt),Ot+=38*(Ht+=Y*yn),ve+=38*(lt+=Y*vn),ae+=38*(vt+=Y*zn),$+=38*(mt+=Y*An),Se=(Y=(Se+=38*(Ue+=Y*nn))+(ee=1)+65535)-65536*(ee=Math.floor(Y/65536)),Ee=(Y=Ee+ee+65535)-65536*(ee=Math.floor(Y/65536)),at=(Y=at+ee+65535)-65536*(ee=Math.floor(Y/65536)),je=(Y=je+ee+65535)-65536*(ee=Math.floor(Y/65536)),ot=(Y=ot+ee+65535)-65536*(ee=Math.floor(Y/65536)),Ft=(Y=Ft+ee+65535)-65536*(ee=Math.floor(Y/65536)),ft=(Y=ft+ee+65535)-65536*(ee=Math.floor(Y/65536)),nt=(Y=nt+ee+65535)-65536*(ee=Math.floor(Y/65536)),Wt=(Y=Wt+ee+65535)-65536*(ee=Math.floor(Y/65536)),tn=(Y=tn+ee+65535)-65536*(ee=Math.floor(Y/65536)),it=(Y=it+ee+65535)-65536*(ee=Math.floor(Y/65536)),Ot=(Y=Ot+ee+65535)-65536*(ee=Math.floor(Y/65536)),ve=(Y=ve+ee+65535)-65536*(ee=Math.floor(Y/65536)),ae=(Y=ae+ee+65535)-65536*(ee=Math.floor(Y/65536)),$=(Y=$+ee+65535)-65536*(ee=Math.floor(Y/65536)),se=(Y=se+ee+65535)-65536*(ee=Math.floor(Y/65536)),Se=(Y=(Se+=ee-1+37*(ee-1))+(ee=1)+65535)-65536*(ee=Math.floor(Y/65536)),Ee=(Y=Ee+ee+65535)-65536*(ee=Math.floor(Y/65536)),at=(Y=at+ee+65535)-65536*(ee=Math.floor(Y/65536)),je=(Y=je+ee+65535)-65536*(ee=Math.floor(Y/65536)),ot=(Y=ot+ee+65535)-65536*(ee=Math.floor(Y/65536)),Ft=(Y=Ft+ee+65535)-65536*(ee=Math.floor(Y/65536)),ft=(Y=ft+ee+65535)-65536*(ee=Math.floor(Y/65536)),nt=(Y=nt+ee+65535)-65536*(ee=Math.floor(Y/65536)),Wt=(Y=Wt+ee+65535)-65536*(ee=Math.floor(Y/65536)),tn=(Y=tn+ee+65535)-65536*(ee=Math.floor(Y/65536)),it=(Y=it+ee+65535)-65536*(ee=Math.floor(Y/65536)),Ot=(Y=Ot+ee+65535)-65536*(ee=Math.floor(Y/65536)),ve=(Y=ve+ee+65535)-65536*(ee=Math.floor(Y/65536)),ae=(Y=ae+ee+65535)-65536*(ee=Math.floor(Y/65536)),$=(Y=$+ee+65535)-65536*(ee=Math.floor(Y/65536)),se=(Y=se+ee+65535)-65536*(ee=Math.floor(Y/65536)),Tt[0]=Se+=ee-1+37*(ee-1),Tt[1]=Ee,Tt[2]=at,Tt[3]=je,Tt[4]=ot,Tt[5]=Ft,Tt[6]=ft,Tt[7]=nt,Tt[8]=Wt,Tt[9]=tn,Tt[10]=it,Tt[11]=Ot,Tt[12]=ve,Tt[13]=ae,Tt[14]=$,Tt[15]=se}},6589:qe=>{qe.exports={options:{usePureJavaScript:!1}}},4579:(qe,me,u)=>{var n=u(6589);u(5437),u(812),(qe.exports=n.hmac=n.hmac||{}).create=function(){var _=null,g=null,S=null,v=null,f={start:function(d,E){if(null!==d)if("string"==typeof d){if(!((d=d.toLowerCase())in n.md.algorithms))throw new Error('Unknown hash algorithm "'+d+'"');g=n.md.algorithms[d].create()}else g=d;if(null===E)E=_;else{if("string"==typeof E)E=n.util.createBuffer(E);else if(n.util.isArray(E)){var m=E;E=n.util.createBuffer();for(var F=0;F<m.length;++F)E.putByte(m[F])}var w=E.length();for(w>g.blockLength&&(g.start(),g.update(E.bytes()),E=g.digest()),S=n.util.createBuffer(),v=n.util.createBuffer(),w=E.length(),F=0;F<w;++F)m=E.at(F),S.putByte(54^m),v.putByte(92^m);if(w<g.blockLength)for(m=g.blockLength-w,F=0;F<m;++F)S.putByte(54),v.putByte(92);_=E,S=S.bytes(),v=v.bytes()}g.start(),g.update(S)},update:function(d){g.update(d)},getMac:function(){var d=g.digest().bytes();return g.start(),g.update(v),g.update(d),g.digest()}};return f.digest=f.getMac,f}},2114:(qe,me,u)=>{qe.exports=u(6589),u(57),u(3707),u(7097),u(5855),u(3674),u(651),u(4579),u(8321),u(872),u(9228),u(5833),u(1097),u(9368),u(8788),u(4724),u(8645),u(9622),u(3697),u(409),u(8588),u(1675),u(1881),u(3120),u(9807),u(812)},3364:(qe,me,u)=>{var e,n=u(6589);function S(ue,q,he){this.data=[],null!=ue&&("number"==typeof ue?this.fromNumber(ue,q,he):this.fromString(ue,null==q&&"string"!=typeof ue?256:q))}function v(){return new S(null)}function E(ue,q,he,Me,Et,Kt){for(var hn=16383&q,_n=q>>14;--Kt>=0;){var Zn=16383&this.data[ue],_i=this.data[ue++]>>14,fi=_n*Zn+_i*hn;Et=((Zn=hn*Zn+((16383&fi)<<14)+he.data[Me]+Et)>>28)+(fi>>14)+_n*_i,he.data[Me++]=268435455&Zn}return Et}qe.exports=n.jsbn=n.jsbn||{},n.jsbn.BigInteger=S,typeof navigator>"u"?(S.prototype.am=E,e=28):"Microsoft Internet Explorer"==navigator.appName?(S.prototype.am=function d(ue,q,he,Me,Et,Kt){for(var hn=32767&q,_n=q>>15;--Kt>=0;){var Zn=32767&this.data[ue],_i=this.data[ue++]>>15,fi=_n*Zn+_i*hn;Et=((Zn=hn*Zn+((32767&fi)<<15)+he.data[Me]+(1073741823&Et))>>>30)+(fi>>>15)+_n*_i+(Et>>>30),he.data[Me++]=1073741823&Zn}return Et},e=30):"Netscape"!=navigator.appName?(S.prototype.am=function f(ue,q,he,Me,Et,Kt){for(;--Kt>=0;){var hn=q*this.data[ue++]+he.data[Me]+Et;Et=Math.floor(hn/67108864),he.data[Me++]=67108863&hn}return Et},e=26):(S.prototype.am=E,e=28),S.prototype.DB=e,S.prototype.DM=(1<<e)-1,S.prototype.DV=1<<e,S.prototype.FV=Math.pow(2,52),S.prototype.F1=52-e,S.prototype.F2=2*e-52;var C,R,w=new Array;for(C=48,R=0;R<=9;++R)w[C++]=R;for(C=97,R=10;R<36;++R)w[C++]=R;for(C=65,R=10;R<36;++R)w[C++]=R;function x(ue){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(ue)}function O(ue,q){return w[ue.charCodeAt(q)]??-1}function V(ue){var q=v();return q.fromInt(ue),q}function te(ue){var he,q=1;return 0!=(he=ue>>>16)&&(ue=he,q+=16),0!=(he=ue>>8)&&(ue=he,q+=8),0!=(he=ue>>4)&&(ue=he,q+=4),0!=(he=ue>>2)&&(ue=he,q+=2),0!=(he=ue>>1)&&(ue=he,q+=1),q}function de(ue){this.m=ue}function Yt(ue){this.m=ue,this.mp=ue.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<ue.DB-15)-1,this.mt2=2*ue.t}function Ue(ue,q){return ue&q}function dt(ue,q){return ue|q}function an(ue,q){return ue^q}function Mn(ue,q){return ue&~q}function Ht(ue){if(0==ue)return-1;var q=0;return 65535&ue||(ue>>=16,q+=16),255&ue||(ue>>=8,q+=8),15&ue||(ue>>=4,q+=4),3&ue||(ue>>=2,q+=2),1&ue||++q,q}function vt(ue){for(var q=0;0!=ue;)ue&=ue-1,++q;return q}function zn(){}function An(ue){return ue}function Xn(ue){this.r2=v(),this.q3=v(),S.ONE.dlShiftTo(2*ue.t,this.r2),this.mu=this.r2.divide(ue),this.m=ue}de.prototype.convert=function Ve(ue){return ue.s<0||ue.compareTo(this.m)>=0?ue.mod(this.m):ue},de.prototype.revert=function Ae(ue){return ue},de.prototype.reduce=function rt(ue){ue.divRemTo(this.m,null,ue)},de.prototype.mulTo=function Be(ue,q,he){ue.multiplyTo(q,he),this.reduce(he)},de.prototype.sqrTo=function ht(ue,q){ue.squareTo(q),this.reduce(q)},Yt.prototype.convert=function Ut(ue){var q=v();return ue.abs().dlShiftTo(this.m.t,q),q.divRemTo(this.m,null,q),ue.s<0&&q.compareTo(S.ZERO)>0&&this.m.subTo(q,q),q},Yt.prototype.revert=function Tt(ue){var q=v();return ue.copyTo(q),this.reduce(q),q},Yt.prototype.reduce=function _t(ue){for(;ue.t<=this.mt2;)ue.data[ue.t++]=0;for(var q=0;q<this.m.t;++q){var he=32767&ue.data[q],Me=he*this.mpl+((he*this.mph+(ue.data[q]>>15)*this.mpl&this.um)<<15)&ue.DM;for(ue.data[he=q+this.m.t]+=this.m.am(0,Me,ue,q,0,this.m.t);ue.data[he]>=ue.DV;)ue.data[he]-=ue.DV,ue.data[++he]++}ue.clamp(),ue.drShiftTo(this.m.t,ue),ue.compareTo(this.m)>=0&&ue.subTo(this.m,ue)},Yt.prototype.mulTo=function Y(ue,q,he){ue.multiplyTo(q,he),this.reduce(he)},Yt.prototype.sqrTo=function X(ue,q){ue.squareTo(q),this.reduce(q)},S.prototype.copyTo=function H(ue){for(var q=this.t-1;q>=0;--q)ue.data[q]=this.data[q];ue.t=this.t,ue.s=this.s},S.prototype.fromInt=function M(ue){this.t=1,this.s=ue<0?-1:0,ue>0?this.data[0]=ue:ue<-1?this.data[0]=ue+this.DV:this.t=0},S.prototype.fromString=function U(ue,q){var he;if(16==q)he=4;else if(8==q)he=3;else if(256==q)he=8;else if(2==q)he=1;else if(32==q)he=5;else{if(4!=q)return void this.fromRadix(ue,q);he=2}this.t=0,this.s=0;for(var Me=ue.length,Et=!1,Kt=0;--Me>=0;){var hn=8==he?255&ue[Me]:O(ue,Me);hn<0?"-"==ue.charAt(Me)&&(Et=!0):(Et=!1,0==Kt?this.data[this.t++]=hn:Kt+he>this.DB?(this.data[this.t-1]|=(hn&(1<<this.DB-Kt)-1)<<Kt,this.data[this.t++]=hn>>this.DB-Kt):this.data[this.t-1]|=hn<<Kt,(Kt+=he)>=this.DB&&(Kt-=this.DB))}8==he&&128&ue[0]&&(this.s=-1,Kt>0&&(this.data[this.t-1]|=(1<<this.DB-Kt)-1<<Kt)),this.clamp(),Et&&S.ZERO.subTo(this,this)},S.prototype.clamp=function G(){for(var ue=this.s&this.DM;this.t>0&&this.data[this.t-1]==ue;)--this.t},S.prototype.dlShiftTo=function oe(ue,q){var he;for(he=this.t-1;he>=0;--he)q.data[he+ue]=this.data[he];for(he=ue-1;he>=0;--he)q.data[he]=0;q.t=this.t+ue,q.s=this.s},S.prototype.drShiftTo=function z(ue,q){for(var he=ue;he<this.t;++he)q.data[he-ue]=this.data[he];q.t=Math.max(this.t-ue,0),q.s=this.s},S.prototype.lShiftTo=function _e(ue,q){var _n,he=ue%this.DB,Me=this.DB-he,Et=(1<<Me)-1,Kt=Math.floor(ue/this.DB),hn=this.s<<he&this.DM;for(_n=this.t-1;_n>=0;--_n)q.data[_n+Kt+1]=this.data[_n]>>Me|hn,hn=(this.data[_n]&Et)<<he;for(_n=Kt-1;_n>=0;--_n)q.data[_n]=0;q.data[Kt]=hn,q.t=this.t+Kt+1,q.s=this.s,q.clamp()},S.prototype.rShiftTo=function Pe(ue,q){q.s=this.s;var he=Math.floor(ue/this.DB);if(he>=this.t)q.t=0;else{var Me=ue%this.DB,Et=this.DB-Me,Kt=(1<<Me)-1;q.data[0]=this.data[he]>>Me;for(var hn=he+1;hn<this.t;++hn)q.data[hn-he-1]|=(this.data[hn]&Kt)<<Et,q.data[hn-he]=this.data[hn]>>Me;Me>0&&(q.data[this.t-he-1]|=(this.s&Kt)<<Et),q.t=this.t-he,q.clamp()}},S.prototype.subTo=function Re(ue,q){for(var he=0,Me=0,Et=Math.min(ue.t,this.t);he<Et;)Me+=this.data[he]-ue.data[he],q.data[he++]=Me&this.DM,Me>>=this.DB;if(ue.t<this.t){for(Me-=ue.s;he<this.t;)Me+=this.data[he],q.data[he++]=Me&this.DM,Me>>=this.DB;Me+=this.s}else{for(Me+=this.s;he<ue.t;)Me-=ue.data[he],q.data[he++]=Me&this.DM,Me>>=this.DB;Me-=ue.s}q.s=Me<0?-1:0,Me<-1?q.data[he++]=this.DV+Me:Me>0&&(q.data[he++]=Me),q.t=he,q.clamp()},S.prototype.multiplyTo=function ke(ue,q){var he=this.abs(),Me=ue.abs(),Et=he.t;for(q.t=Et+Me.t;--Et>=0;)q.data[Et]=0;for(Et=0;Et<Me.t;++Et)q.data[Et+he.t]=he.am(0,Me.data[Et],q,Et,0,he.t);q.s=0,q.clamp(),this.s!=ue.s&&S.ZERO.subTo(q,q)},S.prototype.squareTo=function Je(ue){for(var q=this.abs(),he=ue.t=2*q.t;--he>=0;)ue.data[he]=0;for(he=0;he<q.t-1;++he){var Me=q.am(he,q.data[he],ue,2*he,0,1);(ue.data[he+q.t]+=q.am(he+1,2*q.data[he],ue,2*he+1,Me,q.t-he-1))>=q.DV&&(ue.data[he+q.t]-=q.DV,ue.data[he+q.t+1]=1)}ue.t>0&&(ue.data[ue.t-1]+=q.am(he,q.data[he],ue,2*he,0,1)),ue.s=0,ue.clamp()},S.prototype.divRemTo=function Te(ue,q,he){var Me=ue.abs();if(!(Me.t<=0)){var Et=this.abs();if(Et.t<Me.t)return q?.fromInt(0),void(null!=he&&this.copyTo(he));null==he&&(he=v());var Kt=v(),hn=this.s,_n=ue.s,Zn=this.DB-te(Me.data[Me.t-1]);Zn>0?(Me.lShiftTo(Zn,Kt),Et.lShiftTo(Zn,he)):(Me.copyTo(Kt),Et.copyTo(he));var _i=Kt.t,fi=Kt.data[_i-1];if(0!=fi){var di=fi*(1<<this.F1)+(_i>1?Kt.data[_i-2]>>this.F2:0),Yi=this.FV/di,Ar=(1<<this.F1)/di,Gn=1<<this.F2,ri=he.t,cr=ri-_i,Mi=q??v();for(Kt.dlShiftTo(cr,Mi),he.compareTo(Mi)>=0&&(he.data[he.t++]=1,he.subTo(Mi,he)),S.ONE.dlShiftTo(_i,Mi),Mi.subTo(Kt,Kt);Kt.t<_i;)Kt.data[Kt.t++]=0;for(;--cr>=0;){var xr=he.data[--ri]==fi?this.DM:Math.floor(he.data[ri]*Yi+(he.data[ri-1]+Gn)*Ar);if((he.data[ri]+=Kt.am(0,xr,he,cr,0,_i))<xr)for(Kt.dlShiftTo(cr,Mi),he.subTo(Mi,he);he.data[ri]<--xr;)he.subTo(Mi,he)}null!=q&&(he.drShiftTo(_i,q),hn!=_n&&S.ZERO.subTo(q,q)),he.t=_i,he.clamp(),Zn>0&&he.rShiftTo(Zn,he),hn<0&&S.ZERO.subTo(he,he)}}},S.prototype.invDigit=function Ye(){if(this.t<1)return 0;var ue=this.data[0];if(!(1&ue))return 0;var q=3&ue;return(q=(q=(q=(q=q*(2-(15&ue)*q)&15)*(2-(255&ue)*q)&255)*(2-((65535&ue)*q&65535))&65535)*(2-ue*q%this.DV)%this.DV)>0?this.DV-q:-q},S.prototype.isEven=function ee(){return 0==(this.t>0?1&this.data[0]:this.s)},S.prototype.exp=function Se(ue,q){if(ue>4294967295||ue<1)return S.ONE;var he=v(),Me=v(),Et=q.convert(this),Kt=te(ue)-1;for(Et.copyTo(he);--Kt>=0;)if(q.sqrTo(he,Me),(ue&1<<Kt)>0)q.mulTo(Me,Et,he);else{var hn=he;he=Me,Me=hn}return q.revert(he)},S.prototype.toString=function ie(ue){if(this.s<0)return"-"+this.negate().toString(ue);var q;if(16==ue)q=4;else if(8==ue)q=3;else if(2==ue)q=1;else if(32==ue)q=5;else{if(4!=ue)return this.toRadix(ue);q=2}var Me,he=(1<<q)-1,Et=!1,Kt="",hn=this.t,_n=this.DB-hn*this.DB%q;if(hn-- >0)for(_n<this.DB&&(Me=this.data[hn]>>_n)>0&&(Et=!0,Kt=x(Me));hn>=0;)_n<q?(Me=(this.data[hn]&(1<<_n)-1)<<q-_n,Me|=this.data[--hn]>>(_n+=this.DB-q)):(Me=this.data[hn]>>(_n-=q)&he,_n<=0&&(_n+=this.DB,--hn)),Me>0&&(Et=!0),Et&&(Kt+=x(Me));return Et?Kt:"0"},S.prototype.negate=function le(){var ue=v();return S.ZERO.subTo(this,ue),ue},S.prototype.abs=function L(){return this.s<0?this.negate():this},S.prototype.compareTo=function J(ue){var q=this.s-ue.s;if(0!=q)return q;var he=this.t;if(0!=(q=he-ue.t))return this.s<0?-q:q;for(;--he>=0;)if(0!=(q=this.data[he]-ue.data[he]))return q;return 0},S.prototype.bitLength=function I(){return this.t<=0?0:this.DB*(this.t-1)+te(this.data[this.t-1]^this.s&this.DM)},S.prototype.mod=function we(ue){var q=v();return this.abs().divRemTo(ue,null,q),this.s<0&&q.compareTo(S.ZERO)>0&&ue.subTo(q,q),q},S.prototype.modPowInt=function Ee(ue,q){var he;return he=ue<256||q.isEven()?new de(q):new Yt(q),this.exp(ue,he)},S.ZERO=V(0),S.ONE=V(1),zn.prototype.convert=An,zn.prototype.revert=An,zn.prototype.mulTo=function mn(ue,q,he){ue.multiplyTo(q,he)},zn.prototype.sqrTo=function ui(ue,q){ue.squareTo(q)},Xn.prototype.convert=function wi(ue){if(ue.s<0||ue.t>2*this.m.t)return ue.mod(this.m);if(ue.compareTo(this.m)<0)return ue;var q=v();return ue.copyTo(q),this.reduce(q),q},Xn.prototype.revert=function pi(ue){return ue},Xn.prototype.reduce=function Hi(ue){for(ue.drShiftTo(this.m.t-1,this.r2),ue.t>this.m.t+1&&(ue.t=this.m.t+1,ue.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);ue.compareTo(this.r2)<0;)ue.dAddOffset(1,this.m.t+1);for(ue.subTo(this.r2,ue);ue.compareTo(this.m)>=0;)ue.subTo(this.m,ue)},Xn.prototype.mulTo=function Si(ue,q,he){ue.multiplyTo(q,he),this.reduce(he)},Xn.prototype.sqrTo=function ji(ue,q){ue.squareTo(q),this.reduce(q)};var Qt=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],In=(1<<26)/Qt[Qt.length-1];S.prototype.chunkSize=function ft(ue){return Math.floor(Math.LN2*this.DB/Math.log(ue))},S.prototype.toRadix=function Wt(ue){if(null==ue&&(ue=10),0==this.signum()||ue<2||ue>36)return"0";var q=this.chunkSize(ue),he=Math.pow(ue,q),Me=V(he),Et=v(),Kt=v(),hn="";for(this.divRemTo(Me,Et,Kt);Et.signum()>0;)hn=(he+Kt.intValue()).toString(ue).substr(1)+hn,Et.divRemTo(Me,Et,Kt);return Kt.intValue().toString(ue)+hn},S.prototype.fromRadix=function tn(ue,q){this.fromInt(0),null==q&&(q=10);for(var he=this.chunkSize(q),Me=Math.pow(q,he),Et=!1,Kt=0,hn=0,_n=0;_n<ue.length;++_n){var Zn=O(ue,_n);Zn<0?"-"==ue.charAt(_n)&&0==this.signum()&&(Et=!0):(hn=q*hn+Zn,++Kt>=he&&(this.dMultiply(Me),this.dAddOffset(hn,0),Kt=0,hn=0))}Kt>0&&(this.dMultiply(Math.pow(q,Kt)),this.dAddOffset(hn,0)),Et&&S.ZERO.subTo(this,this)},S.prototype.fromNumber=function it(ue,q,he){if("number"==typeof q)if(ue<2)this.fromInt(1);else for(this.fromNumber(ue,he),this.testBit(ue-1)||this.bitwiseTo(S.ONE.shiftLeft(ue-1),dt,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(q);)this.dAddOffset(2,0),this.bitLength()>ue&&this.subTo(S.ONE.shiftLeft(ue-1),this);else{var Me=new Array,Et=7&ue;Me.length=1+(ue>>3),q.nextBytes(Me),Et>0?Me[0]&=(1<<Et)-1:Me[0]=0,this.fromString(Me,256)}},S.prototype.bitwiseTo=function se(ue,q,he){var Me,Et,Kt=Math.min(ue.t,this.t);for(Me=0;Me<Kt;++Me)he.data[Me]=q(this.data[Me],ue.data[Me]);if(ue.t<this.t){for(Et=ue.s&this.DM,Me=Kt;Me<this.t;++Me)he.data[Me]=q(this.data[Me],Et);he.t=this.t}else{for(Et=this.s&this.DM,Me=Kt;Me<ue.t;++Me)he.data[Me]=q(Et,ue.data[Me]);he.t=ue.t}he.s=q(this.s,ue.s),he.clamp()},S.prototype.changeBit=function nn(ue,q){var he=S.ONE.shiftLeft(ue);return this.bitwiseTo(he,q,he),he},S.prototype.addTo=function li(ue,q){for(var he=0,Me=0,Et=Math.min(ue.t,this.t);he<Et;)Me+=this.data[he]+ue.data[he],q.data[he++]=Me&this.DM,Me>>=this.DB;if(ue.t<this.t){for(Me+=ue.s;he<this.t;)Me+=this.data[he],q.data[he++]=Me&this.DM,Me>>=this.DB;Me+=this.s}else{for(Me+=this.s;he<ue.t;)Me+=ue.data[he],q.data[he++]=Me&this.DM,Me>>=this.DB;Me+=ue.s}q.s=Me<0?-1:0,Me>0?q.data[he++]=Me:Me<-1&&(q.data[he++]=this.DV+Me),q.t=he,q.clamp()},S.prototype.dMultiply=function yn(ue){this.data[this.t]=this.am(0,ue-1,this,0,0,this.t),++this.t,this.clamp()},S.prototype.dAddOffset=function vn(ue,q){if(0!=ue){for(;this.t<=q;)this.data[this.t++]=0;for(this.data[q]+=ue;this.data[q]>=this.DV;)this.data[q]-=this.DV,++q>=this.t&&(this.data[this.t++]=0),++this.data[q]}},S.prototype.multiplyLowerTo=function ni(ue,q,he){var Et,Me=Math.min(this.t+ue.t,q);for(he.s=0,he.t=Me;Me>0;)he.data[--Me]=0;for(Et=he.t-this.t;Me<Et;++Me)he.data[Me+this.t]=this.am(0,ue.data[Me],he,Me,0,this.t);for(Et=Math.min(ue.t,q);Me<Et;++Me)this.am(0,ue.data[Me],he,Me,0,q-Me);he.clamp()},S.prototype.multiplyUpperTo=function Bi(ue,q,he){--q;var Me=he.t=this.t+ue.t-q;for(he.s=0;--Me>=0;)he.data[Me]=0;for(Me=Math.max(q-this.t,0);Me<ue.t;++Me)he.data[this.t+Me-q]=this.am(q-Me,ue.data[Me],he,0,0,this.t+Me-q);he.clamp(),he.drShiftTo(1,he)},S.prototype.modInt=function Ct(ue){if(ue<=0)return 0;var q=this.DV%ue,he=this.s<0?ue-1:0;if(this.t>0)if(0==q)he=this.data[0]%ue;else for(var Me=this.t-1;Me>=0;--Me)he=(q*he+this.data[Me])%ue;return he},S.prototype.millerRabin=function yt(ue){var q=this.subtract(S.ONE),he=q.getLowestSetBit();if(he<=0)return!1;for(var Kt,Me=q.shiftRight(he),Et=function Oe(){return{nextBytes:function(ue){for(var q=0;q<ue.length;++q)ue[q]=Math.floor(256*Math.random())}}}(),hn=0;hn<ue;++hn){do{Kt=new S(this.bitLength(),Et)}while(Kt.compareTo(S.ONE)<=0||Kt.compareTo(q)>=0);var _n=Kt.modPow(Me,this);if(0!=_n.compareTo(S.ONE)&&0!=_n.compareTo(q)){for(var Zn=1;Zn++<he&&0!=_n.compareTo(q);)if(0==(_n=_n.modPowInt(2,this)).compareTo(S.ONE))return!1;if(0!=_n.compareTo(q))return!1}}return!0},S.prototype.clone=function at(){var ue=v();return this.copyTo(ue),ue},S.prototype.intValue=function je(){if(this.s<0){if(1==this.t)return this.data[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this.data[0];if(0==this.t)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]},S.prototype.byteValue=function ot(){return 0==this.t?this.s:this.data[0]<<24>>24},S.prototype.shortValue=function Ft(){return 0==this.t?this.s:this.data[0]<<16>>16},S.prototype.signum=function nt(){return this.s<0?-1:this.t<=0||1==this.t&&this.data[0]<=0?0:1},S.prototype.toByteArray=function Ot(){var ue=this.t,q=new Array;q[0]=this.s;var Me,he=this.DB-ue*this.DB%8,Et=0;if(ue-- >0)for(he<this.DB&&(Me=this.data[ue]>>he)!=(this.s&this.DM)>>he&&(q[Et++]=Me|this.s<<this.DB-he);ue>=0;)he<8?(Me=(this.data[ue]&(1<<he)-1)<<8-he,Me|=this.data[--ue]>>(he+=this.DB-8)):(Me=this.data[ue]>>(he-=8)&255,he<=0&&(he+=this.DB,--ue)),128&Me&&(Me|=-256),0==Et&&(128&this.s)!=(128&Me)&&++Et,(Et>0||Me!=this.s)&&(q[Et++]=Me);return q},S.prototype.equals=function ve(ue){return 0==this.compareTo(ue)},S.prototype.min=function ae(ue){return this.compareTo(ue)<0?this:ue},S.prototype.max=function $(ue){return this.compareTo(ue)>0?this:ue},S.prototype.and=function Ze(ue){var q=v();return this.bitwiseTo(ue,Ue,q),q},S.prototype.or=function Pt(ue){var q=v();return this.bitwiseTo(ue,dt,q),q},S.prototype.xor=function un(ue){var q=v();return this.bitwiseTo(ue,an,q),q},S.prototype.andNot=function kn(ue){var q=v();return this.bitwiseTo(ue,Mn,q),q},S.prototype.not=function Bn(){for(var ue=v(),q=0;q<this.t;++q)ue.data[q]=this.DM&~this.data[q];return ue.t=this.t,ue.s=~this.s,ue},S.prototype.shiftLeft=function It(ue){var q=v();return ue<0?this.rShiftTo(-ue,q):this.lShiftTo(ue,q),q},S.prototype.shiftRight=function Rn(ue){var q=v();return ue<0?this.lShiftTo(-ue,q):this.rShiftTo(ue,q),q},S.prototype.getLowestSetBit=function lt(){for(var ue=0;ue<this.t;++ue)if(0!=this.data[ue])return ue*this.DB+Ht(this.data[ue]);return this.s<0?this.t*this.DB:-1},S.prototype.bitCount=function mt(){for(var ue=0,q=this.s&this.DM,he=0;he<this.t;++he)ue+=vt(this.data[he]^q);return ue},S.prototype.testBit=function kt(ue){var q=Math.floor(ue/this.DB);return q>=this.t?0!=this.s:!!(this.data[q]&1<<ue%this.DB)},S.prototype.setBit=function Tn(ue){return this.changeBit(ue,dt)},S.prototype.clearBit=function Ln(ue){return this.changeBit(ue,Mn)},S.prototype.flipBit=function dn(ue){return this.changeBit(ue,an)},S.prototype.add=function ci(ue){var q=v();return this.addTo(ue,q),q},S.prototype.subtract=function Rt(ue){var q=v();return this.subTo(ue,q),q},S.prototype.multiply=function ut(ue){var q=v();return this.multiplyTo(ue,q),q},S.prototype.divide=function Nt(ue){var q=v();return this.divRemTo(ue,q,null),q},S.prototype.remainder=function $t(ue){var q=v();return this.divRemTo(ue,null,q),q},S.prototype.divideAndRemainder=function zt(ue){var q=v(),he=v();return this.divRemTo(ue,q,he),new Array(q,he)},S.prototype.modPow=function tt(ue,q){var Me,Kt,he=ue.bitLength(),Et=V(1);if(he<=0)return Et;Me=he<18?1:he<48?3:he<144?4:he<768?5:6,Kt=he<8?new de(q):q.isEven()?new Xn(q):new Yt(q);var hn=new Array,_n=3,Zn=Me-1,_i=(1<<Me)-1;if(hn[1]=Kt.convert(this),Me>1){var fi=v();for(Kt.sqrTo(hn[1],fi);_n<=_i;)hn[_n]=v(),Kt.mulTo(fi,hn[_n-2],hn[_n]),_n+=2}var Yi,ri,di=ue.t-1,Ar=!0,Gn=v();for(he=te(ue.data[di])-1;di>=0;){for(he>=Zn?Yi=ue.data[di]>>he-Zn&_i:(Yi=(ue.data[di]&(1<<he+1)-1)<<Zn-he,di>0&&(Yi|=ue.data[di-1]>>this.DB+he-Zn)),_n=Me;!(1&Yi);)Yi>>=1,--_n;if((he-=_n)<0&&(he+=this.DB,--di),Ar)hn[Yi].copyTo(Et),Ar=!1;else{for(;_n>1;)Kt.sqrTo(Et,Gn),Kt.sqrTo(Gn,Et),_n-=2;_n>0?Kt.sqrTo(Et,Gn):(ri=Et,Et=Gn,Gn=ri),Kt.mulTo(Gn,hn[Yi],Et)}for(;di>=0&&!(ue.data[di]&1<<he);)Kt.sqrTo(Et,Gn),ri=Et,Et=Gn,Gn=ri,--he<0&&(he=this.DB-1,--di)}return Kt.revert(Et)},S.prototype.modInverse=function rn(ue){var q=ue.isEven();if(this.isEven()&&q||0==ue.signum())return S.ZERO;for(var he=ue.clone(),Me=this.clone(),Et=V(1),Kt=V(0),hn=V(0),_n=V(1);0!=he.signum();){for(;he.isEven();)he.rShiftTo(1,he),q?((!Et.isEven()||!Kt.isEven())&&(Et.addTo(this,Et),Kt.subTo(ue,Kt)),Et.rShiftTo(1,Et)):Kt.isEven()||Kt.subTo(ue,Kt),Kt.rShiftTo(1,Kt);for(;Me.isEven();)Me.rShiftTo(1,Me),q?((!hn.isEven()||!_n.isEven())&&(hn.addTo(this,hn),_n.subTo(ue,_n)),hn.rShiftTo(1,hn)):_n.isEven()||_n.subTo(ue,_n),_n.rShiftTo(1,_n);he.compareTo(Me)>=0?(he.subTo(Me,he),q&&Et.subTo(hn,Et),Kt.subTo(_n,Kt)):(Me.subTo(he,Me),q&&hn.subTo(Et,hn),_n.subTo(Kt,_n))}return 0!=Me.compareTo(S.ONE)?S.ZERO:_n.compareTo(ue)>=0?_n.subtract(ue):_n.signum()<0?(_n.addTo(ue,_n),_n.signum()<0?_n.add(ue):_n):_n},S.prototype.pow=function gi(ue){return this.exp(ue,new zn)},S.prototype.gcd=function Dt(ue){var q=this.s<0?this.negate():this.clone(),he=ue.s<0?ue.negate():ue.clone();if(q.compareTo(he)<0){var Me=q;q=he,he=Me}var Et=q.getLowestSetBit(),Kt=he.getLowestSetBit();if(Kt<0)return q;for(Et<Kt&&(Kt=Et),Kt>0&&(q.rShiftTo(Kt,q),he.rShiftTo(Kt,he));q.signum()>0;)(Et=q.getLowestSetBit())>0&&q.rShiftTo(Et,q),(Et=he.getLowestSetBit())>0&&he.rShiftTo(Et,he),q.compareTo(he)>=0?(q.subTo(he,q),q.rShiftTo(1,q)):(he.subTo(q,he),he.rShiftTo(1,he));return Kt>0&&he.lShiftTo(Kt,he),he},S.prototype.isProbablePrime=function St(ue){var q,he=this.abs();if(1==he.t&&he.data[0]<=Qt[Qt.length-1]){for(q=0;q<Qt.length;++q)if(he.data[0]==Qt[q])return!0;return!1}if(he.isEven())return!1;for(q=1;q<Qt.length;){for(var Me=Qt[q],Et=q+1;Et<Qt.length&&Me<In;)Me*=Qt[Et++];for(Me=he.modInt(Me);q<Et;)if(Me%Qt[q++]==0)return!1}return he.millerRabin(ue)}},8321:(qe,me,u)=>{var n=u(6589);u(812),u(1675),u(3364),qe.exports=n.kem=n.kem||{};var e=n.jsbn.BigInteger;function _(g,S,v,f){g.generate=function(d,E){for(var m=new n.util.ByteBuffer,F=Math.ceil(E/f)+v,w=new n.util.ByteBuffer,C=v;C<F;++C){w.putInt32(C),S.start(),S.update(d+w.getBytes());var R=S.digest();m.putBytes(R.getBytes(f))}return m.truncate(m.length()-E),m.getBytes()}}n.kem.rsa={},n.kem.rsa.create=function(g,S){var v=(S=S||{}).prng||n.random;return{encrypt:function(d,E){var F,m=Math.ceil(d.n.bitLength()/8);do{F=new e(n.util.bytesToHex(v.getBytesSync(m)),16).mod(d.n)}while(F.compareTo(e.ONE)<=0);var w=m-(F=n.util.hexToBytes(F.toString(16))).length;return w>0&&(F=n.util.fillString("\0",w)+F),{encapsulation:d.encrypt(F,"NONE"),key:g.generate(F,E)}},decrypt:function(d,E,m){var F=d.decrypt(E,"NONE");return g.generate(F,m)}}},n.kem.kdf1=function(g,S){_(this,g,0,S||g.digestLength)},n.kem.kdf2=function(g,S){_(this,g,1,S||g.digestLength)}},872:(qe,me,u)=>{var n=u(6589);u(812),qe.exports=n.log=n.log||{},n.log.levels=["none","error","warning","info","debug","verbose","max"];var e={},_=[],g=null;n.log.LEVEL_LOCKED=2,n.log.NO_LEVEL_CHECK=4,n.log.INTERPOLATE=8;for(var S=0;S<n.log.levels.length;++S){var v=n.log.levels[S];e[v]={index:S,name:v.toUpperCase()}}n.log.logMessage=function(C){for(var R=e[C.level].index,x=0;x<_.length;++x){var O=_[x];O.flags&n.log.NO_LEVEL_CHECK?O.f(C):R<=e[O.level].index&&O.f(O,C)}},n.log.prepareStandard=function(C){"standard"in C||(C.standard=e[C.level].name+" ["+C.category+"] "+C.message)},n.log.prepareFull=function(C){if(!("full"in C)){var R=[C.message];R=R.concat([]),C.full=n.util.format.apply(this,R)}},n.log.prepareStandardFull=function(C){"standardFull"in C||(n.log.prepareStandard(C),C.standardFull=C.standard)};var f=["error","warning","info","debug","verbose"];for(S=0;S<f.length;++S)!function(R){n.log[R]=function(x,O){var H=Array.prototype.slice.call(arguments).slice(2);n.log.logMessage({timestamp:new Date,level:R,category:x,message:O,arguments:H})}}(f[S]);if(n.log.makeLogger=function(C){var R={flags:0,f:C};return n.log.setLevel(R,"none"),R},n.log.setLevel=function(C,R){var x=!1;if(C&&!(C.flags&n.log.LEVEL_LOCKED))for(var O=0;O<n.log.levels.length;++O)if(R==n.log.levels[O]){C.level=R,x=!0;break}return x},n.log.lock=function(C,R){typeof R>"u"||R?C.flags|=n.log.LEVEL_LOCKED:C.flags&=~n.log.LEVEL_LOCKED},n.log.addLogger=function(C){_.push(C)},typeof console<"u"&&"log"in console){var d;if(console.error&&console.warn&&console.info&&console.debug){var E={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},m=function(C,R){n.log.prepareStandard(R);var x=E[R.level],O=[R.standard];O=O.concat(R.arguments.slice()),x.apply(console,O)};d=n.log.makeLogger(m)}else m=function(R,x){n.log.prepareStandardFull(x),console.log(x.standardFull)},d=n.log.makeLogger(m);n.log.setLevel(d,"debug"),n.log.addLogger(d),g=d}else console={log:function(){}};if(null!==g&&typeof window<"u"&&window.location){var F=new URL(window.location.href).searchParams;F.has("console.level")&&n.log.setLevel(g,F.get("console.level").slice(-1)[0]),F.has("console.lock")&&"true"==F.get("console.lock").slice(-1)[0]&&n.log.lock(g)}n.log.consoleLogger=g},9228:(qe,me,u)=>{qe.exports=u(5437),u(4846),u(8825),u(2507),u(1290)},5437:(qe,me,u)=>{var n=u(6589);qe.exports=n.md=n.md||{},n.md.algorithms=n.md.algorithms||{}},4846:(qe,me,u)=>{var n=u(6589);u(5437),u(812);var e=qe.exports=n.md5=n.md5||{};n.md.md5=n.md.algorithms.md5=e,e.create=function(){f||function d(){_="\x80",_+=n.util.fillString("\0",64),g=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],S=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],v=new Array(64);for(var m=0;m<64;++m)v[m]=Math.floor(4294967296*Math.abs(Math.sin(m+1)));f=!0}();var m=null,F=n.util.createBuffer(),w=new Array(16),C={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){C.messageLength=0,C.fullMessageLength=C.messageLength64=[];for(var R=C.messageLengthSize/4,x=0;x<R;++x)C.fullMessageLength.push(0);return F=n.util.createBuffer(),m={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},C}};return C.start(),C.update=function(R,x){"utf8"===x&&(R=n.util.encodeUtf8(R));var O=R.length;C.messageLength+=O,O=[O/4294967296>>>0,O>>>0];for(var H=C.fullMessageLength.length-1;H>=0;--H)C.fullMessageLength[H]+=O[1],O[1]=O[0]+(C.fullMessageLength[H]/4294967296>>>0),C.fullMessageLength[H]=C.fullMessageLength[H]>>>0,O[0]=O[1]/4294967296>>>0;return F.putBytes(R),E(m,w,F),(F.read>2048||0===F.length())&&F.compact(),C},C.digest=function(){var R=n.util.createBuffer();R.putBytes(F.bytes()),R.putBytes(_.substr(0,C.blockLength-(C.fullMessageLength[C.fullMessageLength.length-1]+C.messageLengthSize&C.blockLength-1)));for(var H,M=0,V=C.fullMessageLength.length-1;V>=0;--V)M=(H=8*C.fullMessageLength[V]+M)/4294967296>>>0,R.putInt32Le(H>>>0);var U={h0:m.h0,h1:m.h1,h2:m.h2,h3:m.h3};E(U,w,R);var G=n.util.createBuffer();return G.putInt32Le(U.h0),G.putInt32Le(U.h1),G.putInt32Le(U.h2),G.putInt32Le(U.h3),G},C};var _=null,g=null,S=null,v=null,f=!1;function E(m,F,w){for(var C,R,x,O,H,V,U,G=w.length();G>=64;){for(R=m.h0,x=m.h1,O=m.h2,H=m.h3,U=0;U<16;++U)F[U]=w.getInt32Le(),C=R+(H^x&(O^H))+v[U]+F[U],R=H,H=O,O=x,x+=C<<(V=S[U])|C>>>32-V;for(;U<32;++U)C=R+(O^H&(x^O))+v[U]+F[g[U]],R=H,H=O,O=x,x+=C<<(V=S[U])|C>>>32-V;for(;U<48;++U)C=R+(x^O^H)+v[U]+F[g[U]],R=H,H=O,O=x,x+=C<<(V=S[U])|C>>>32-V;for(;U<64;++U)C=R+(O^(x|~H))+v[U]+F[g[U]],R=H,H=O,O=x,x+=C<<(V=S[U])|C>>>32-V;m.h0=m.h0+R|0,m.h1=m.h1+x|0,m.h2=m.h2+O|0,m.h3=m.h3+H|0,G-=64}}},8040:(qe,me,u)=>{var n=u(6589);u(5833),qe.exports=n.mgf=n.mgf||{},n.mgf.mgf1=n.mgf1},5833:(qe,me,u)=>{var n=u(6589);u(812),n.mgf=n.mgf||{},(qe.exports=n.mgf.mgf1=n.mgf1=n.mgf1||{}).create=function(_){return{generate:function(S,v){for(var f=new n.util.ByteBuffer,d=Math.ceil(v/_.digestLength),E=0;E<d;E++){var m=new n.util.ByteBuffer;m.putInt32(E),_.start(),_.update(S+m.getBytes()),f.putBuffer(_.digest())}return f.truncate(f.length()-v),f.getBytes()}}}},1817:(qe,me,u)=>{var n=u(6589);n.pki=n.pki||{};var e=qe.exports=n.pki.oids=n.oids=n.oids||{};function _(S,v){e[S]=v,e[v]=S}function g(S,v){e[S]=v}_("1.2.840.113549.1.1.1","rsaEncryption"),_("1.2.840.113549.1.1.4","md5WithRSAEncryption"),_("1.2.840.113549.1.1.5","sha1WithRSAEncryption"),_("1.2.840.113549.1.1.7","RSAES-OAEP"),_("1.2.840.113549.1.1.8","mgf1"),_("1.2.840.113549.1.1.9","pSpecified"),_("1.2.840.113549.1.1.10","RSASSA-PSS"),_("1.2.840.113549.1.1.11","sha256WithRSAEncryption"),_("1.2.840.113549.1.1.12","sha384WithRSAEncryption"),_("1.2.840.113549.1.1.13","sha512WithRSAEncryption"),_("1.3.101.112","EdDSA25519"),_("1.2.840.10040.4.3","dsa-with-sha1"),_("1.3.14.3.2.7","desCBC"),_("1.3.14.3.2.26","sha1"),_("1.3.14.3.2.29","sha1WithRSASignature"),_("2.16.840.1.101.3.4.2.1","sha256"),_("2.16.840.1.101.3.4.2.2","sha384"),_("2.16.840.1.101.3.4.2.3","sha512"),_("2.16.840.1.101.3.4.2.4","sha224"),_("2.16.840.1.101.3.4.2.5","sha512-224"),_("2.16.840.1.101.3.4.2.6","sha512-256"),_("1.2.840.113549.2.2","md2"),_("1.2.840.113549.2.5","md5"),_("1.2.840.113549.1.7.1","data"),_("1.2.840.113549.1.7.2","signedData"),_("1.2.840.113549.1.7.3","envelopedData"),_("1.2.840.113549.1.7.4","signedAndEnvelopedData"),_("1.2.840.113549.1.7.5","digestedData"),_("1.2.840.113549.1.7.6","encryptedData"),_("1.2.840.113549.1.9.1","emailAddress"),_("1.2.840.113549.1.9.2","unstructuredName"),_("1.2.840.113549.1.9.3","contentType"),_("1.2.840.113549.1.9.4","messageDigest"),_("1.2.840.113549.1.9.5","signingTime"),_("1.2.840.113549.1.9.6","counterSignature"),_("1.2.840.113549.1.9.7","challengePassword"),_("1.2.840.113549.1.9.8","unstructuredAddress"),_("1.2.840.113549.1.9.14","extensionRequest"),_("1.2.840.113549.1.9.20","friendlyName"),_("1.2.840.113549.1.9.21","localKeyId"),_("1.2.840.113549.1.9.22.1","x509Certificate"),_("1.2.840.113549.1.12.10.1.1","keyBag"),_("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag"),_("1.2.840.113549.1.12.10.1.3","certBag"),_("1.2.840.113549.1.12.10.1.4","crlBag"),_("1.2.840.113549.1.12.10.1.5","secretBag"),_("1.2.840.113549.1.12.10.1.6","safeContentsBag"),_("1.2.840.113549.1.5.13","pkcs5PBES2"),_("1.2.840.113549.1.5.12","pkcs5PBKDF2"),_("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4"),_("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4"),_("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC"),_("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC"),_("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC"),_("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC"),_("1.2.840.113549.2.7","hmacWithSHA1"),_("1.2.840.113549.2.8","hmacWithSHA224"),_("1.2.840.113549.2.9","hmacWithSHA256"),_("1.2.840.113549.2.10","hmacWithSHA384"),_("1.2.840.113549.2.11","hmacWithSHA512"),_("1.2.840.113549.3.7","des-EDE3-CBC"),_("2.16.840.1.101.3.4.1.2","aes128-CBC"),_("2.16.840.1.101.3.4.1.22","aes192-CBC"),_("2.16.840.1.101.3.4.1.42","aes256-CBC"),_("2.5.4.3","commonName"),_("2.5.4.4","surname"),_("2.5.4.5","serialNumber"),_("2.5.4.6","countryName"),_("2.5.4.7","localityName"),_("2.5.4.8","stateOrProvinceName"),_("2.5.4.9","streetAddress"),_("2.5.4.10","organizationName"),_("2.5.4.11","organizationalUnitName"),_("2.5.4.12","title"),_("2.5.4.13","description"),_("2.5.4.15","businessCategory"),_("2.5.4.17","postalCode"),_("2.5.4.42","givenName"),_("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName"),_("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName"),_("2.16.840.1.113730.1.1","nsCertType"),_("2.16.840.1.113730.1.13","nsComment"),g("2.5.29.1","authorityKeyIdentifier"),g("2.5.29.2","keyAttributes"),g("2.5.29.3","certificatePolicies"),g("2.5.29.4","keyUsageRestriction"),g("2.5.29.5","policyMapping"),g("2.5.29.6","subtreesConstraint"),g("2.5.29.7","subjectAltName"),g("2.5.29.8","issuerAltName"),g("2.5.29.9","subjectDirectoryAttributes"),g("2.5.29.10","basicConstraints"),g("2.5.29.11","nameConstraints"),g("2.5.29.12","policyConstraints"),g("2.5.29.13","basicConstraints"),_("2.5.29.14","subjectKeyIdentifier"),_("2.5.29.15","keyUsage"),g("2.5.29.16","privateKeyUsagePeriod"),_("2.5.29.17","subjectAltName"),_("2.5.29.18","issuerAltName"),_("2.5.29.19","basicConstraints"),g("2.5.29.20","cRLNumber"),g("2.5.29.21","cRLReason"),g("2.5.29.22","expirationDate"),g("2.5.29.23","instructionCode"),g("2.5.29.24","invalidityDate"),g("2.5.29.25","cRLDistributionPoints"),g("2.5.29.26","issuingDistributionPoint"),g("2.5.29.27","deltaCRLIndicator"),g("2.5.29.28","issuingDistributionPoint"),g("2.5.29.29","certificateIssuer"),g("2.5.29.30","nameConstraints"),_("2.5.29.31","cRLDistributionPoints"),_("2.5.29.32","certificatePolicies"),g("2.5.29.33","policyMappings"),g("2.5.29.34","policyConstraints"),_("2.5.29.35","authorityKeyIdentifier"),g("2.5.29.36","policyConstraints"),_("2.5.29.37","extKeyUsage"),g("2.5.29.46","freshestCRL"),g("2.5.29.54","inhibitAnyPolicy"),_("1.3.6.1.4.1.11129.2.4.2","timestampList"),_("1.3.6.1.5.5.7.1.1","authorityInfoAccess"),_("1.3.6.1.5.5.7.3.1","serverAuth"),_("1.3.6.1.5.5.7.3.2","clientAuth"),_("1.3.6.1.5.5.7.3.3","codeSigning"),_("1.3.6.1.5.5.7.3.4","emailProtection"),_("1.3.6.1.5.5.7.3.8","timeStamping")},1347:(qe,me,u)=>{var n=u(6589);if(u(57),u(7097),u(3674),u(5437),u(1817),u(1097),u(9368),u(1675),u(1881),u(2880),u(812),typeof e>"u")var e=n.jsbn.BigInteger;var _=n.asn1,g=n.pki=n.pki||{};qe.exports=g.pbe=n.pbe=n.pbe||{};var S=g.oids,v={name:"EncryptedPrivateKeyInfo",tagClass:_.Class.UNIVERSAL,type:_.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:_.Class.UNIVERSAL,type:_.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:_.Class.UNIVERSAL,type:_.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:_.Class.UNIVERSAL,type:_.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:_.Class.UNIVERSAL,type:_.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},f={name:"PBES2Algorithms",tagClass:_.Class.UNIVERSAL,type:_.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:_.Class.UNIVERSAL,type:_.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:_.Class.UNIVERSAL,type:_.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:_.Class.UNIVERSAL,type:_.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:_.Class.UNIVERSAL,type:_.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:_.Class.UNIVERSAL,type:_.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:_.Class.UNIVERSAL,type:_.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:_.Class.UNIVERSAL,type:_.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:_.Class.UNIVERSAL,type:_.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:_.Class.UNIVERSAL,type:_.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:_.Class.UNIVERSAL,type:_.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:_.Class.UNIVERSAL,type:_.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},d={name:"pkcs-12PbeParams",tagClass:_.Class.UNIVERSAL,type:_.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:_.Class.UNIVERSAL,type:_.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:_.Class.UNIVERSAL,type:_.Type.INTEGER,constructed:!1,capture:"iterations"}]};function E(C,R){return C.start().update(R).digest().getBytes()}function m(C){var R;if(C){if(!(R=g.oids[_.derToOid(C)])){var x=new Error("Unsupported PRF OID.");throw x.oid=C,x.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],x}}else R="hmacWithSHA1";return F(R)}function F(C){var R=n.md;switch(C){case"hmacWithSHA224":R=n.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":C=C.substr(8).toLowerCase();break;default:var x=new Error("Unsupported PRF algorithm.");throw x.algorithm=C,x.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],x}if(!R||!(C in R))throw new Error("Unknown hash algorithm: "+C);return R[C].create()}g.encryptPrivateKeyInfo=function(C,R,x){(x=x||{}).saltSize=x.saltSize||8,x.count=x.count||2048,x.algorithm=x.algorithm||"aes128",x.prfAlgorithm=x.prfAlgorithm||"sha1";var V,U,G,O=n.random.getBytesSync(x.saltSize),H=x.count,M=_.integerToDer(H);if(0===x.algorithm.indexOf("aes")||"des"===x.algorithm){var ie,le,L;switch(x.algorithm){case"aes128":V=16,ie=16,le=S["aes128-CBC"],L=n.aes.createEncryptionCipher;break;case"aes192":V=24,ie=16,le=S["aes192-CBC"],L=n.aes.createEncryptionCipher;break;case"aes256":V=32,ie=16,le=S["aes256-CBC"],L=n.aes.createEncryptionCipher;break;case"des":V=8,ie=8,le=S.desCBC,L=n.des.createEncryptionCipher;break;default:throw(J=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=x.algorithm,J}var te="hmacWith"+x.prfAlgorithm.toUpperCase(),I=F(te),oe=n.pkcs5.pbkdf2(R,O,H,V,I),z=n.random.getBytesSync(ie);(_e=L(oe)).start(z),_e.update(_.toDer(C)),_e.finish(),G=_e.output.getBytes();var Pe=function w(C,R,x,O){var H=_.create(_.Class.UNIVERSAL,_.Type.SEQUENCE,!0,[_.create(_.Class.UNIVERSAL,_.Type.OCTETSTRING,!1,C),_.create(_.Class.UNIVERSAL,_.Type.INTEGER,!1,R.getBytes())]);return"hmacWithSHA1"!==O&&H.value.push(_.create(_.Class.UNIVERSAL,_.Type.INTEGER,!1,n.util.hexToBytes(x.toString(16))),_.create(_.Class.UNIVERSAL,_.Type.SEQUENCE,!0,[_.create(_.Class.UNIVERSAL,_.Type.OID,!1,_.oidToDer(g.oids[O]).getBytes()),_.create(_.Class.UNIVERSAL,_.Type.NULL,!1,"")])),H}(O,M,V,te);U=_.create(_.Class.UNIVERSAL,_.Type.SEQUENCE,!0,[_.create(_.Class.UNIVERSAL,_.Type.OID,!1,_.oidToDer(S.pkcs5PBES2).getBytes()),_.create(_.Class.UNIVERSAL,_.Type.SEQUENCE,!0,[_.create(_.Class.UNIVERSAL,_.Type.SEQUENCE,!0,[_.create(_.Class.UNIVERSAL,_.Type.OID,!1,_.oidToDer(S.pkcs5PBKDF2).getBytes()),Pe]),_.create(_.Class.UNIVERSAL,_.Type.SEQUENCE,!0,[_.create(_.Class.UNIVERSAL,_.Type.OID,!1,_.oidToDer(le).getBytes()),_.create(_.Class.UNIVERSAL,_.Type.OCTETSTRING,!1,z)])])])}else{var J;if("3des"!==x.algorithm)throw(J=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=x.algorithm,J;V=24;var _e,Re=new n.util.ByteBuffer(O);oe=g.pbe.generatePkcs12Key(R,Re,1,H,V),z=g.pbe.generatePkcs12Key(R,Re,2,H,V),(_e=n.des.createEncryptionCipher(oe)).start(z),_e.update(_.toDer(C)),_e.finish(),G=_e.output.getBytes(),U=_.create(_.Class.UNIVERSAL,_.Type.SEQUENCE,!0,[_.create(_.Class.UNIVERSAL,_.Type.OID,!1,_.oidToDer(S["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),_.create(_.Class.UNIVERSAL,_.Type.SEQUENCE,!0,[_.create(_.Class.UNIVERSAL,_.Type.OCTETSTRING,!1,O),_.create(_.Class.UNIVERSAL,_.Type.INTEGER,!1,M.getBytes())])])}return _.create(_.Class.UNIVERSAL,_.Type.SEQUENCE,!0,[U,_.create(_.Class.UNIVERSAL,_.Type.OCTETSTRING,!1,G)])},g.decryptPrivateKeyInfo=function(C,R){var x=null,O={},H=[];if(!_.validate(C,v,O,H)){var M=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw M.errors=H,M}var V=_.derToOid(O.encryptionOid),U=g.pbe.getCipher(V,O.encryptionParams,R),G=n.util.createBuffer(O.encryptedData);return U.update(G),U.finish()&&(x=_.fromDer(U.output)),x},g.encryptedPrivateKeyToPem=function(C,R){var x={type:"ENCRYPTED PRIVATE KEY",body:_.toDer(C).getBytes()};return n.pem.encode(x,{maxline:R})},g.encryptedPrivateKeyFromPem=function(C){var R=n.pem.decode(C)[0];if("ENCRYPTED PRIVATE KEY"!==R.type){var x=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw x.headerType=R.type,x}if(R.procType&&"ENCRYPTED"===R.procType.type)throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return _.fromDer(R.body)},g.encryptRsaPrivateKey=function(C,R,x){if(!(x=x||{}).legacy){var O=g.wrapRsaPrivateKey(g.privateKeyToAsn1(C));return O=g.encryptPrivateKeyInfo(O,R,x),g.encryptedPrivateKeyToPem(O)}var H,M,V,U;switch(x.algorithm){case"aes128":H="AES-128-CBC",V=16,M=n.random.getBytesSync(16),U=n.aes.createEncryptionCipher;break;case"aes192":H="AES-192-CBC",V=24,M=n.random.getBytesSync(16),U=n.aes.createEncryptionCipher;break;case"aes256":H="AES-256-CBC",V=32,M=n.random.getBytesSync(16),U=n.aes.createEncryptionCipher;break;case"3des":H="DES-EDE3-CBC",V=24,M=n.random.getBytesSync(8),U=n.des.createEncryptionCipher;break;case"des":H="DES-CBC",V=8,M=n.random.getBytesSync(8),U=n.des.createEncryptionCipher;break;default:var G=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+x.algorithm+'".');throw G.algorithm=x.algorithm,G}var le=U(n.pbe.opensslDeriveBytes(R,M.substr(0,8),V));le.start(M),le.update(_.toDer(g.privateKeyToAsn1(C))),le.finish();var L={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:H,parameters:n.util.bytesToHex(M).toUpperCase()},body:le.output.getBytes()};return n.pem.encode(L)},g.decryptRsaPrivateKey=function(C,R){var x=null,O=n.pem.decode(C)[0];if("ENCRYPTED PRIVATE KEY"!==O.type&&"PRIVATE KEY"!==O.type&&"RSA PRIVATE KEY"!==O.type)throw(H=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".')).headerType=H,H;if(O.procType&&"ENCRYPTED"===O.procType.type){var M,V;switch(O.dekInfo.algorithm){case"DES-CBC":M=8,V=n.des.createDecryptionCipher;break;case"DES-EDE3-CBC":M=24,V=n.des.createDecryptionCipher;break;case"AES-128-CBC":M=16,V=n.aes.createDecryptionCipher;break;case"AES-192-CBC":M=24,V=n.aes.createDecryptionCipher;break;case"AES-256-CBC":M=32,V=n.aes.createDecryptionCipher;break;case"RC2-40-CBC":M=5,V=function(L){return n.rc2.createDecryptionCipher(L,40)};break;case"RC2-64-CBC":M=8,V=function(L){return n.rc2.createDecryptionCipher(L,64)};break;case"RC2-128-CBC":M=16,V=function(L){return n.rc2.createDecryptionCipher(L,128)};break;default:var H;throw(H=new Error('Could not decrypt private key; unsupported encryption algorithm "'+O.dekInfo.algorithm+'".')).algorithm=O.dekInfo.algorithm,H}var U=n.util.hexToBytes(O.dekInfo.parameters),ie=V(n.pbe.opensslDeriveBytes(R,U.substr(0,8),M));if(ie.start(U),ie.update(n.util.createBuffer(O.body)),!ie.finish())return x;x=ie.output.getBytes()}else x=O.body;return null!==(x="ENCRYPTED PRIVATE KEY"===O.type?g.decryptPrivateKeyInfo(_.fromDer(x),R):_.fromDer(x))&&(x=g.privateKeyFromAsn1(x)),x},g.pbe.generatePkcs12Key=function(C,R,x,O,H,M){var V,U;if(typeof M>"u"||null===M){if(!("sha1"in n.md))throw new Error('"sha1" hash algorithm unavailable.');M=n.md.sha1.create()}var G=M.digestLength,ie=M.blockLength,le=new n.util.ByteBuffer,L=new n.util.ByteBuffer;if(null!=C){for(U=0;U<C.length;U++)L.putInt16(C.charCodeAt(U));L.putInt16(0)}var J=L.length(),te=R.length(),I=new n.util.ByteBuffer;I.fillWithByte(x,ie);var oe=ie*Math.ceil(te/ie),z=new n.util.ByteBuffer;for(U=0;U<oe;U++)z.putByte(R.at(U%te));var _e=ie*Math.ceil(J/ie),Pe=new n.util.ByteBuffer;for(U=0;U<_e;U++)Pe.putByte(L.at(U%J));var Re=z;Re.putBuffer(Pe);for(var ke=Math.ceil(H/G),Je=1;Je<=ke;Je++){var Te=new n.util.ByteBuffer;Te.putBytes(I.bytes()),Te.putBytes(Re.bytes());for(var we=0;we<O;we++)M.start(),M.update(Te.getBytes()),Te=M.digest();var de=new n.util.ByteBuffer;for(U=0;U<ie;U++)de.putByte(Te.at(U%G));var Ve=Math.ceil(te/ie)+Math.ceil(J/ie),Ae=new n.util.ByteBuffer;for(V=0;V<Ve;V++){var rt=new n.util.ByteBuffer(Re.getBytes(ie)),Be=511;for(U=de.length()-1;U>=0;U--)Be>>=8,Be+=de.at(U)+rt.at(U),rt.setAt(U,255&Be);Ae.putBuffer(rt)}Re=Ae,le.putBuffer(Te)}return le.truncate(le.length()-H),le},g.pbe.getCipher=function(C,R,x){switch(C){case g.oids.pkcs5PBES2:return g.pbe.getCipherForPBES2(C,R,x);case g.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case g.oids["pbewithSHAAnd40BitRC2-CBC"]:return g.pbe.getCipherForPKCS12PBE(C,R,x);default:var O=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw O.oid=C,O.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],O}},g.pbe.getCipherForPBES2=function(C,R,x){var M,O={},H=[];if(!_.validate(R,f,O,H))throw(M=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=H,M;if((C=_.derToOid(O.kdfOid))!==g.oids.pkcs5PBKDF2)throw(M=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.")).oid=C,M.supportedOids=["pkcs5PBKDF2"],M;if((C=_.derToOid(O.encOid))!==g.oids["aes128-CBC"]&&C!==g.oids["aes192-CBC"]&&C!==g.oids["aes256-CBC"]&&C!==g.oids["des-EDE3-CBC"]&&C!==g.oids.desCBC)throw(M=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.")).oid=C,M.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],M;var G,ie,V=O.kdfSalt,U=n.util.createBuffer(O.kdfIterationCount);switch(U=U.getInt(U.length()<<3),g.oids[C]){case"aes128-CBC":G=16,ie=n.aes.createDecryptionCipher;break;case"aes192-CBC":G=24,ie=n.aes.createDecryptionCipher;break;case"aes256-CBC":G=32,ie=n.aes.createDecryptionCipher;break;case"des-EDE3-CBC":G=24,ie=n.des.createDecryptionCipher;break;case"desCBC":G=8,ie=n.des.createDecryptionCipher}var le=m(O.prfOid),L=n.pkcs5.pbkdf2(x,V,U,G,le),J=O.encIv,te=ie(L);return te.start(J),te},g.pbe.getCipherForPKCS12PBE=function(C,R,x){var O={},H=[];if(!_.validate(R,d,O,H))throw(M=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=H,M;var G,ie,le,V=n.util.createBuffer(O.salt),U=n.util.createBuffer(O.iterations);switch(U=U.getInt(U.length()<<3),C){case g.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:G=24,ie=8,le=n.des.startDecrypting;break;case g.oids["pbewithSHAAnd40BitRC2-CBC"]:G=5,ie=8,le=function(oe,z){var _e=n.rc2.createDecryptionCipher(oe,40);return _e.start(z,null),_e};break;default:var M;throw(M=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.")).oid=C,M}var L=m(O.prfOid),J=g.pbe.generatePkcs12Key(x,V,1,U,G,L);return L.start(),le(J,g.pbe.generatePkcs12Key(x,V,2,U,ie,L))},g.pbe.opensslDeriveBytes=function(C,R,x,O){if(typeof O>"u"||null===O){if(!("md5"in n.md))throw new Error('"md5" hash algorithm unavailable.');O=n.md.md5.create()}null===R&&(R="");for(var H=[E(O,C+R)],M=16,V=1;M<x;++V,M+=16)H.push(E(O,H[V-1]+C+R));return H.join("").substr(0,x)}},1097:(qe,me,u)=>{var n=u(6589);u(4579),u(5437),u(812);var _,e=n.pkcs5=n.pkcs5||{};n.util.isNodejs&&!n.options.usePureJavaScript&&(_=u(310)),qe.exports=n.pbkdf2=e.pbkdf2=function(g,S,v,f,d,E){if("function"==typeof d&&(E=d,d=null),n.util.isNodejs&&!n.options.usePureJavaScript&&_.pbkdf2&&(null===d||"object"!=typeof d)&&(_.pbkdf2Sync.length>4||!d||"sha1"===d))return"string"!=typeof d&&(d="sha1"),g=Buffer.from(g,"binary"),S=Buffer.from(S,"binary"),E?4===_.pbkdf2Sync.length?_.pbkdf2(g,S,v,f,function(le,L){if(le)return E(le);E(null,L.toString("binary"))}):_.pbkdf2(g,S,v,f,d,function(le,L){if(le)return E(le);E(null,L.toString("binary"))}):4===_.pbkdf2Sync.length?_.pbkdf2Sync(g,S,v,f).toString("binary"):_.pbkdf2Sync(g,S,v,f,d).toString("binary");if((typeof d>"u"||null===d)&&(d="sha1"),"string"==typeof d){if(!(d in n.md.algorithms))throw new Error("Unknown hash algorithm: "+d);d=n.md[d].create()}var m=d.digestLength;if(f>4294967295*m){var F=new Error("Derived key is too long.");if(E)return E(F);throw F}var w=Math.ceil(f/m),C=f-(w-1)*m,R=n.hmac.create();R.start(d,g);var O,H,M,x="";if(!E){for(var V=1;V<=w;++V){R.start(null,null),R.update(S),R.update(n.util.int32ToBytes(V)),O=M=R.digest().getBytes();for(var U=2;U<=v;++U)R.start(null,null),R.update(M),H=R.digest().getBytes(),O=n.util.xorBytes(O,H,m),M=H;x+=V<w?O:O.substr(0,C)}return x}function G(){if(V>w)return E(null,x);R.start(null,null),R.update(S),R.update(n.util.int32ToBytes(V)),O=M=R.digest().getBytes(),U=2,ie()}function ie(){if(U<=v)return R.start(null,null),R.update(M),H=R.digest().getBytes(),O=n.util.xorBytes(O,H,m),M=H,++U,n.util.setImmediate(ie);x+=V<w?O:O.substr(0,C),++V,G()}V=1,G()}},9368:(qe,me,u)=>{var n=u(6589);u(812);var e=qe.exports=n.pem=n.pem||{};function _(S){for(var v=S.name+": ",f=[],d=function(C,R){return" "+R},E=0;E<S.values.length;++E)f.push(S.values[E].replace(/^(\S+\r\n)/,d));v+=f.join(",")+"\r\n";var m=0,F=-1;for(E=0;E<v.length;++E,++m)if(m>65&&-1!==F){var w=v[F];","===w?(++F,v=v.substr(0,F)+"\r\n "+v.substr(F)):v=v.substr(0,F)+"\r\n"+w+v.substr(F+1),m=E-F-1,F=-1,++E}else(" "===v[E]||"\t"===v[E]||","===v[E])&&(F=E);return v}function g(S){return S.replace(/^\s+/,"")}e.encode=function(S,v){v=v||{};var d,f="-----BEGIN "+S.type+"-----\r\n";if(S.procType&&(f+=_(d={name:"Proc-Type",values:[String(S.procType.version),S.procType.type]})),S.contentDomain&&(f+=_(d={name:"Content-Domain",values:[S.contentDomain]})),S.dekInfo&&(d={name:"DEK-Info",values:[S.dekInfo.algorithm]},S.dekInfo.parameters&&d.values.push(S.dekInfo.parameters),f+=_(d)),S.headers)for(var E=0;E<S.headers.length;++E)f+=_(S.headers[E]);return S.procType&&(f+="\r\n"),(f+=n.util.encode64(S.body,v.maxline||64)+"\r\n")+"-----END "+S.type+"-----\r\n"},e.decode=function(S){for(var m,v=[],f=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,d=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,E=/\r?\n/;m=f.exec(S);){var F=m[1];"NEW CERTIFICATE REQUEST"===F&&(F="CERTIFICATE REQUEST");var w={type:F,procType:null,contentDomain:null,dekInfo:null,headers:[],body:n.util.decode64(m[3])};if(v.push(w),m[2]){for(var C=m[2].split(E),R=0;m&&R<C.length;){for(var x=C[R].replace(/\s+$/,""),O=R+1;O<C.length;++O){var H=C[O];if(!/\s/.test(H[0]))break;x+=H,R=O}if(m=x.match(d)){for(var M={name:m[1],values:[]},V=m[2].split(","),U=0;U<V.length;++U)M.values.push(g(V[U]));if(w.procType)if(w.contentDomain||"Content-Domain"!==M.name)if(w.dekInfo||"DEK-Info"!==M.name)w.headers.push(M);else{if(0===M.values.length)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');w.dekInfo={algorithm:V[0],parameters:V[1]||null}}else w.contentDomain=V[0]||"";else{if("Proc-Type"!==M.name)throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(2!==M.values.length)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');w.procType={version:V[0],type:V[1]}}}++R}if("ENCRYPTED"===w.procType&&!w.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(0===v.length)throw new Error("Invalid PEM formatted message.");return v}},8788:(qe,me,u)=>{var n=u(6589);u(812),u(1675),u(8825);var e=qe.exports=n.pkcs1=n.pkcs1||{};function _(g,S,v){v||(v=n.md.sha1.create());for(var f="",d=Math.ceil(S/v.digestLength),E=0;E<d;++E){var m=String.fromCharCode(E>>24&255,E>>16&255,E>>8&255,255&E);v.start(),v.update(g+m),f+=v.digest().getBytes()}return f.substring(0,S)}e.encode_rsa_oaep=function(g,S,v){var f,d,E,m;"string"==typeof v?(f=v,d=arguments[3]||void 0,E=arguments[4]||void 0):v&&(f=v.label||void 0,d=v.seed||void 0,E=v.md||void 0,v.mgf1&&v.mgf1.md&&(m=v.mgf1.md)),E?E.start():E=n.md.sha1.create(),m||(m=E);var F=Math.ceil(g.n.bitLength()/8),w=F-2*E.digestLength-2;if(S.length>w)throw(C=new Error("RSAES-OAEP input message length is too long.")).length=S.length,C.maxLength=w,C;f||(f=""),E.update(f,"raw");for(var R=E.digest(),x="",O=w-S.length,H=0;H<O;H++)x+="\0";var M=R.getBytes()+x+"\x01"+S;if(d){if(d.length!==E.digestLength){var C;throw(C=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.")).seedLength=d.length,C.digestLength=E.digestLength,C}}else d=n.random.getBytes(E.digestLength);var V=_(d,F-E.digestLength-1,m),U=n.util.xorBytes(M,V,M.length),G=_(U,E.digestLength,m);return"\0"+n.util.xorBytes(d,G,d.length)+U},e.decode_rsa_oaep=function(g,S,v){var f,d,E;"string"==typeof v?(f=v,d=arguments[3]||void 0):v&&(f=v.label||void 0,d=v.md||void 0,v.mgf1&&v.mgf1.md&&(E=v.mgf1.md));var m=Math.ceil(g.n.bitLength()/8);if(S.length!==m)throw(U=new Error("RSAES-OAEP encoded message length is invalid.")).length=S.length,U.expectedLength=m,U;if(void 0===d?d=n.md.sha1.create():d.start(),E||(E=d),m<2*d.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");f||(f=""),d.update(f,"raw");for(var F=d.digest().getBytes(),w=S.charAt(0),C=S.substring(1,d.digestLength+1),R=S.substring(1+d.digestLength),x=_(R,d.digestLength,E),H=_(n.util.xorBytes(C,x,C.length),m-d.digestLength-1,E),M=n.util.xorBytes(R,H,R.length),V=M.substring(0,d.digestLength),U="\0"!==w,G=0;G<d.digestLength;++G)U|=F.charAt(G)!==V.charAt(G);for(var ie=1,le=d.digestLength,L=d.digestLength;L<M.length;L++){var J=M.charCodeAt(L);U|=J&(ie?65534:0),le+=ie&=1&J^1}if(U||1!==M.charCodeAt(le))throw new Error("Invalid RSAES-OAEP padding.");return M.substring(le+1)}},4724:(qe,me,u)=>{var n=u(6589);u(7097),u(4579),u(1817),u(8291),u(1347),u(1675),u(2880),u(8825),u(812),u(9436);var e=n.asn1,_=n.pki,g=qe.exports=n.pkcs12=n.pkcs12||{},S={name:"ContentInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:e.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},v={name:"PFX",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"version"},S,{name:"PFX.macData",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:e.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:e.Class.UNIVERSAL,type:e.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:e.Class.UNIVERSAL,type:e.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},f={name:"SafeBag",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:e.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:e.Class.UNIVERSAL,type:e.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},d={name:"Attribute",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:e.Class.UNIVERSAL,type:e.Type.SET,constructed:!0,capture:"values"}]},E={name:"CertBag",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:e.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:e.Class.UNIVERSAL,type:e.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function m(O,H,M,V){for(var U=[],G=0;G<O.length;G++)for(var ie=0;ie<O[G].safeBags.length;ie++){var le=O[G].safeBags[ie];if(void 0===V||le.type===V){if(null===H){U.push(le);continue}void 0!==le.attributes[H]&&le.attributes[H].indexOf(M)>=0&&U.push(le)}}return U}function F(O){if(O.composed||O.constructed){for(var H=n.util.createBuffer(),M=0;M<O.value.length;++M)H.putBytes(O.value[M].value);O.composed=O.constructed=!1,O.value=H.getBytes()}return O}function C(O,H){var M={},V=[];if(!e.validate(O,n.pkcs7.asn1.encryptedDataValidator,M,V))throw(U=new Error("Cannot read EncryptedContentInfo.")).errors=V,U;var U,G=e.derToOid(M.contentType);if(G!==_.oids.data)throw(U=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.")).oid=G,U;G=e.derToOid(M.encAlgorithm);var ie=_.pbe.getCipher(G,M.encParameter,H),le=F(M.encryptedContentAsn1),L=n.util.createBuffer(le.value);if(ie.update(L),!ie.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return ie.output.getBytes()}function R(O,H,M){if(!H&&0===O.length)return[];if((O=e.fromDer(O,H)).tagClass!==e.Class.UNIVERSAL||O.type!==e.Type.SEQUENCE||!0!==O.constructed)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var V=[],U=0;U<O.value.length;U++){var ie={},le=[];if(!e.validate(O.value[U],f,ie,le))throw(L=new Error("Cannot read SafeBag.")).errors=le,L;var J={type:e.derToOid(ie.bagId),attributes:x(ie.bagAttributes)};V.push(J);var te,I,oe=ie.bagValue.value[0];switch(J.type){case _.oids.pkcs8ShroudedKeyBag:if(null===(oe=_.decryptPrivateKeyInfo(oe,M)))throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case _.oids.keyBag:try{J.key=_.privateKeyFromAsn1(oe)}catch{J.key=null,J.asn1=oe}continue;case _.oids.certBag:te=E,I=function(){if(e.derToOid(ie.certId)!==_.oids.x509Certificate){var _e=new Error("Unsupported certificate type, only X.509 supported.");throw _e.oid=e.derToOid(ie.certId),_e}var Pe=e.fromDer(ie.cert,H);try{J.cert=_.certificateFromAsn1(Pe,!0)}catch{J.cert=null,J.asn1=Pe}};break;default:var L;throw(L=new Error("Unsupported PKCS#12 SafeBag type.")).oid=J.type,L}if(void 0!==te&&!e.validate(oe,te,ie,le))throw(L=new Error("Cannot read PKCS#12 "+te.name)).errors=le,L;I()}return V}function x(O){var H={};if(void 0!==O)for(var M=0;M<O.length;++M){var V={},U=[];if(!e.validate(O[M],d,V,U)){var G=new Error("Cannot read PKCS#12 BagAttribute.");throw G.errors=U,G}var ie=e.derToOid(V.oid);if(void 0!==_.oids[ie]){H[_.oids[ie]]=[];for(var le=0;le<V.values.length;++le)H[_.oids[ie]].push(V.values[le].value)}}return H}g.pkcs12FromAsn1=function(O,H,M){"string"==typeof H?(M=H,H=!0):void 0===H&&(H=!0);var V={};if(!e.validate(O,v,V,[]))throw(G=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.")).errors=G,G;var G,ie={version:V.version.charCodeAt(0),safeContents:[],getBags:function(Re){var Je,ke={};return"localKeyId"in Re?Je=Re.localKeyId:"localKeyIdHex"in Re&&(Je=n.util.hexToBytes(Re.localKeyIdHex)),void 0===Je&&!("friendlyName"in Re)&&"bagType"in Re&&(ke[Re.bagType]=m(ie.safeContents,null,null,Re.bagType)),void 0!==Je&&(ke.localKeyId=m(ie.safeContents,"localKeyId",Je,Re.bagType)),"friendlyName"in Re&&(ke.friendlyName=m(ie.safeContents,"friendlyName",Re.friendlyName,Re.bagType)),ke},getBagsByFriendlyName:function(Re,ke){return m(ie.safeContents,"friendlyName",Re,ke)},getBagsByLocalKeyId:function(Re,ke){return m(ie.safeContents,"localKeyId",Re,ke)}};if(3!==V.version.charCodeAt(0))throw(G=new Error("PKCS#12 PFX of version other than 3 not supported.")).version=V.version.charCodeAt(0),G;if(e.derToOid(V.contentType)!==_.oids.data)throw(G=new Error("Only PKCS#12 PFX in password integrity mode supported.")).oid=e.derToOid(V.contentType),G;var le=V.content.value[0];if(le.tagClass!==e.Class.UNIVERSAL||le.type!==e.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(le=F(le),V.mac){var L=null,J=0,te=e.derToOid(V.macAlgorithm);switch(te){case _.oids.sha1:L=n.md.sha1.create(),J=20;break;case _.oids.sha256:L=n.md.sha256.create(),J=32;break;case _.oids.sha384:L=n.md.sha384.create(),J=48;break;case _.oids.sha512:L=n.md.sha512.create(),J=64;break;case _.oids.md5:L=n.md.md5.create(),J=16}if(null===L)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+te);var I=new n.util.ByteBuffer(V.macSalt),oe="macIterations"in V?parseInt(n.util.bytesToHex(V.macIterations),16):1,z=g.generateKey(M,I,3,oe,J,L),_e=n.hmac.create();if(_e.start(L,z),_e.update(le.value),_e.getMac().getBytes()!==V.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return function w(O,H,M,V){if((H=e.fromDer(H,M)).tagClass!==e.Class.UNIVERSAL||H.type!==e.Type.SEQUENCE||!0!==H.constructed)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var U=0;U<H.value.length;U++){var ie={},le=[];if(!e.validate(H.value[U],S,ie,le))throw(L=new Error("Cannot read ContentInfo.")).errors=le,L;var J={encrypted:!1},te=null,I=ie.content.value[0];switch(e.derToOid(ie.contentType)){case _.oids.data:if(I.tagClass!==e.Class.UNIVERSAL||I.type!==e.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");te=F(I).value;break;case _.oids.encryptedData:te=C(I,V),J.encrypted=!0;break;default:var L;throw(L=new Error("Unsupported PKCS#12 contentType.")).contentType=e.derToOid(ie.contentType),L}J.safeBags=R(te,M,V),O.safeContents.push(J)}}(ie,le.value,H,M),ie},g.toPkcs12Asn1=function(O,H,M,V){(V=V||{}).saltSize=V.saltSize||8,V.count=V.count||2048,V.algorithm=V.algorithm||V.encAlgorithm||"aes128","useMac"in V||(V.useMac=!0),"localKeyId"in V||(V.localKeyId=null),"generateLocalKeyId"in V||(V.generateLocalKeyId=!0);var G,U=V.localKeyId;if(null!==U)U=n.util.hexToBytes(U);else if(V.generateLocalKeyId)if(H){var ie=n.util.isArray(H)?H[0]:H;"string"==typeof ie&&(ie=_.certificateFromPem(ie)),(le=n.md.sha1.create()).update(e.toDer(_.certificateToAsn1(ie)).getBytes()),U=le.digest().getBytes()}else U=n.random.getBytes(20);var L=[];null!==U&&L.push(e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(_.oids.localKeyId).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SET,!0,[e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,U)])])),"friendlyName"in V&&L.push(e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(_.oids.friendlyName).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SET,!0,[e.create(e.Class.UNIVERSAL,e.Type.BMPSTRING,!1,V.friendlyName)])])),L.length>0&&(G=e.create(e.Class.UNIVERSAL,e.Type.SET,!0,L));var J=[],te=[];null!==H&&(te=n.util.isArray(H)?H:[H]);for(var I=[],oe=0;oe<te.length;++oe){"string"==typeof(H=te[oe])&&(H=_.certificateFromPem(H));var z=0===oe?G:void 0,_e=_.certificateToAsn1(H),Pe=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(_.oids.certBag).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(_.oids.x509Certificate).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,e.toDer(_e).getBytes())])])]),z]);I.push(Pe)}if(I.length>0){var Re=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,I),ke=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(_.oids.data).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,e.toDer(Re).getBytes())])]);J.push(ke)}var Je=null;if(null!==O){var Te=_.wrapRsaPrivateKey(_.privateKeyToAsn1(O));Je=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,null===M?[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(_.oids.keyBag).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[Te]),G]:[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(_.oids.pkcs8ShroudedKeyBag).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[_.encryptPrivateKeyInfo(Te,M,V)]),G]);var we=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[Je]),de=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(_.oids.data).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,e.toDer(we).getBytes())])]);J.push(de)}var Ae,Ve=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,J);if(V.useMac){var le=n.md.sha1.create(),rt=new n.util.ByteBuffer(n.random.getBytes(V.saltSize)),Be=V.count,ht=(O=g.generateKey(M,rt,3,Be,20),n.hmac.create());ht.start(le,O),ht.update(e.toDer(Ve).getBytes());var Ye=ht.getMac();Ae=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(_.oids.sha1).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")]),e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,Ye.getBytes())]),e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,rt.getBytes()),e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(Be).getBytes())])}return e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(3).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(_.oids.data).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,e.toDer(Ve).getBytes())])]),Ae])},g.generateKey=n.pbe.generatePkcs12Key},8645:(qe,me,u)=>{var n=u(6589);u(57),u(7097),u(3674),u(1817),u(9368),u(8291),u(1675),u(812),u(9436);var e=n.asn1,_=qe.exports=n.pkcs7=n.pkcs7||{};function g(O){var H={},M=[];if(!e.validate(O,_.asn1.recipientInfoValidator,H,M)){var V=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw V.errors=M,V}return{version:H.version.charCodeAt(0),issuer:n.pki.RDNAttributesAsArray(H.issuer),serialNumber:n.util.createBuffer(H.serial).toHex(),encryptedContent:{algorithm:e.derToOid(H.encAlgorithm),parameter:H.encParameter?H.encParameter.value:void 0,content:H.encKey}}}function S(O){return e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(O.version).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[n.pki.distinguishedNameToAsn1({attributes:O.issuer}),e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,n.util.hexToBytes(O.serialNumber))]),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(O.encryptedContent.algorithm).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")]),e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,O.encryptedContent.content)])}function f(O){for(var H=[],M=0;M<O.length;++M)H.push(S(O[M]));return H}function E(O){var H=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(O.version).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[n.pki.distinguishedNameToAsn1({attributes:O.issuer}),e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,n.util.hexToBytes(O.serialNumber))]),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(O.digestAlgorithm).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")])]);if(O.authenticatedAttributesAsn1&&H.value.push(O.authenticatedAttributesAsn1),H.value.push(e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(O.signatureAlgorithm).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")])),H.value.push(e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,O.signature)),O.unauthenticatedAttributes.length>0){for(var M=e.create(e.Class.CONTEXT_SPECIFIC,1,!0,[]),V=0;V<O.unauthenticatedAttributes.length;++V)M.values.push(w(O.unauthenticatedAttributes[V]));H.value.push(M)}return H}function w(O){var H;if(O.type===n.pki.oids.contentType)H=e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(O.value).getBytes());else if(O.type===n.pki.oids.messageDigest)H=e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,O.value.bytes());else if(O.type===n.pki.oids.signingTime){var M=new Date("1950-01-01T00:00:00Z"),V=new Date("2050-01-01T00:00:00Z"),U=O.value;if("string"==typeof U){var G=Date.parse(U);U=isNaN(G)?13===U.length?e.utcTimeToDate(U):e.generalizedTimeToDate(U):new Date(G)}H=U>=M&&U<V?e.create(e.Class.UNIVERSAL,e.Type.UTCTIME,!1,e.dateToUtcTime(U)):e.create(e.Class.UNIVERSAL,e.Type.GENERALIZEDTIME,!1,e.dateToGeneralizedTime(U))}return e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(O.type).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SET,!0,[H])])}function C(O){return[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(n.pki.oids.data).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(O.algorithm).getBytes()),O.parameter?e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,O.parameter.getBytes()):void 0]),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,O.content.getBytes())])]}function R(O,H,M){var V={};if(!e.validate(H,M,V,[])){var G=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw G.errors=G,G}if(e.derToOid(V.contentType)!==n.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(V.encryptedContent){var le="";if(n.util.isArray(V.encryptedContent))for(var L=0;L<V.encryptedContent.length;++L){if(V.encryptedContent[L].type!==e.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");le+=V.encryptedContent[L].value}else le=V.encryptedContent;O.encryptedContent={algorithm:e.derToOid(V.encAlgorithm),parameter:n.util.createBuffer(V.encParameter.value),content:n.util.createBuffer(le)}}if(V.content){if(le="",n.util.isArray(V.content))for(L=0;L<V.content.length;++L){if(V.content[L].type!==e.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");le+=V.content[L].value}else le=V.content;O.content=n.util.createBuffer(le)}return O.version=V.version.charCodeAt(0),O.rawCapture=V,V}function x(O){if(void 0===O.encryptedContent.key)throw new Error("Symmetric key not available.");if(void 0===O.content){var H;switch(O.encryptedContent.algorithm){case n.pki.oids["aes128-CBC"]:case n.pki.oids["aes192-CBC"]:case n.pki.oids["aes256-CBC"]:H=n.aes.createDecryptionCipher(O.encryptedContent.key);break;case n.pki.oids.desCBC:case n.pki.oids["des-EDE3-CBC"]:H=n.des.createDecryptionCipher(O.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+O.encryptedContent.algorithm)}if(H.start(O.encryptedContent.parameter),H.update(O.encryptedContent.content),!H.finish())throw new Error("Symmetric decryption failed.");O.content=H.output}}_.messageFromPem=function(O){var H=n.pem.decode(O)[0];if("PKCS7"!==H.type){var M=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw M.headerType=H.type,M}if(H.procType&&"ENCRYPTED"===H.procType.type)throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var V=e.fromDer(H.body);return _.messageFromAsn1(V)},_.messageToPem=function(O,H){var M={type:"PKCS7",body:e.toDer(O.toAsn1()).getBytes()};return n.pem.encode(M,{maxline:H})},_.messageFromAsn1=function(O){var H={},M=[];if(!e.validate(O,_.asn1.contentInfoValidator,H,M)){var V=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw V.errors=M,V}var G,U=e.derToOid(H.contentType);switch(U){case n.pki.oids.envelopedData:G=_.createEnvelopedData();break;case n.pki.oids.encryptedData:G=_.createEncryptedData();break;case n.pki.oids.signedData:G=_.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+U+" is not (yet) supported.")}return G.fromAsn1(H.content.value[0]),G},_.createSignedData=function(){var O=null;return O={type:n.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(V){if(R(O,V,_.asn1.signedDataValidator),O.certificates=[],O.crls=[],O.digestAlgorithmIdentifiers=[],O.contentInfo=null,O.signerInfos=[],O.rawCapture.certificates)for(var U=O.rawCapture.certificates.value,G=0;G<U.length;++G)O.certificates.push(n.pki.certificateFromAsn1(U[G]))},toAsn1:function(){O.contentInfo||O.sign();for(var V=[],U=0;U<O.certificates.length;++U)V.push(n.pki.certificateToAsn1(O.certificates[U]));var G=[],ie=e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(O.version).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SET,!0,O.digestAlgorithmIdentifiers),O.contentInfo])]);return V.length>0&&ie.value[0].value.push(e.create(e.Class.CONTEXT_SPECIFIC,0,!0,V)),G.length>0&&ie.value[0].value.push(e.create(e.Class.CONTEXT_SPECIFIC,1,!0,G)),ie.value[0].value.push(e.create(e.Class.UNIVERSAL,e.Type.SET,!0,O.signerInfos)),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(O.type).getBytes()),ie])},addSigner:function(V){var U=V.issuer,G=V.serialNumber;if(V.certificate){var ie=V.certificate;"string"==typeof ie&&(ie=n.pki.certificateFromPem(ie)),U=ie.issuer.attributes,G=ie.serialNumber}var le=V.key;if(!le)throw new Error("Could not add PKCS#7 signer; no private key specified.");"string"==typeof le&&(le=n.pki.privateKeyFromPem(le));var L=V.digestAlgorithm||n.pki.oids.sha1;switch(L){case n.pki.oids.sha1:case n.pki.oids.sha256:case n.pki.oids.sha384:case n.pki.oids.sha512:case n.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+L)}var J=V.authenticatedAttributes||[];if(J.length>0){for(var te=!1,I=!1,oe=0;oe<J.length;++oe){var z=J[oe];if(te||z.type!==n.pki.oids.contentType){if(I||z.type!==n.pki.oids.messageDigest);else if(I=!0,te)break}else if(te=!0,I)break}if(!te||!I)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}O.signers.push({key:le,version:1,issuer:U,serialNumber:G,digestAlgorithm:L,signatureAlgorithm:n.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:J,unauthenticatedAttributes:[]})},sign:function(V){var U;if(V=V||{},"object"==typeof O.content&&null!==O.contentInfo||(O.contentInfo=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(n.pki.oids.data).getBytes())]),!("content"in O))||(O.content instanceof n.util.ByteBuffer?U=O.content.bytes():"string"==typeof O.content&&(U=n.util.encodeUtf8(O.content)),V.detached?O.detachedContent=e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,U):O.contentInfo.value.push(e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,U)]))),0!==O.signers.length){var G=function H(){for(var V={},U=0;U<O.signers.length;++U){var G=O.signers[U];(ie=G.digestAlgorithm)in V||(V[ie]=n.md[n.pki.oids[ie]].create()),G.md=0===G.authenticatedAttributes.length?V[ie]:n.md[n.pki.oids[ie]].create()}for(var ie in O.digestAlgorithmIdentifiers=[],V)O.digestAlgorithmIdentifiers.push(e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(ie).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")]));return V}();!function M(V){var U;if(O.detachedContent?U=O.detachedContent:U=(U=O.contentInfo.value[1]).value[0],!U)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var G=e.derToOid(O.contentInfo.value[0].value),ie=e.toDer(U);for(var le in ie.getByte(),e.getBerValueLength(ie),ie=ie.getBytes(),V)V[le].start().update(ie);for(var L=new Date,J=0;J<O.signers.length;++J){var te=O.signers[J];if(0===te.authenticatedAttributes.length){if(G!==n.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{te.authenticatedAttributesAsn1=e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var I=e.create(e.Class.UNIVERSAL,e.Type.SET,!0,[]),oe=0;oe<te.authenticatedAttributes.length;++oe){var z=te.authenticatedAttributes[oe];z.type===n.pki.oids.messageDigest?z.value=V[te.digestAlgorithm].digest():z.type===n.pki.oids.signingTime&&(z.value||(z.value=L)),I.value.push(w(z)),te.authenticatedAttributesAsn1.value.push(w(z))}ie=e.toDer(I).getBytes(),te.md.start().update(ie)}te.signature=te.key.sign(te.md,"RSASSA-PKCS1-V1_5")}O.signerInfos=function F(O){for(var H=[],M=0;M<O.length;++M)H.push(E(O[M]));return H}(O.signers)}(G)}},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(V){"string"==typeof V&&(V=n.pki.certificateFromPem(V)),O.certificates.push(V)},addCertificateRevokationList:function(V){throw new Error("PKCS#7 CRL support not yet implemented.")}}},_.createEncryptedData=function(){var O=null;return O={type:n.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:n.pki.oids["aes256-CBC"]},fromAsn1:function(H){R(O,H,_.asn1.encryptedDataValidator)},decrypt:function(H){void 0!==H&&(O.encryptedContent.key=H),x(O)}}},_.createEnvelopedData=function(){var O=null;return O={type:n.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:n.pki.oids["aes256-CBC"]},fromAsn1:function(H){var M=R(O,H,_.asn1.envelopedDataValidator);O.recipients=function v(O){for(var H=[],M=0;M<O.length;++M)H.push(g(O[M]));return H}(M.recipientInfos.value)},toAsn1:function(){return e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(O.type).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(O.version).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SET,!0,f(O.recipients)),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,C(O.encryptedContent))])])])},findRecipient:function(H){for(var M=H.issuer.attributes,V=0;V<O.recipients.length;++V){var U=O.recipients[V],G=U.issuer;if(U.serialNumber===H.serialNumber&&G.length===M.length){for(var ie=!0,le=0;le<M.length;++le)if(G[le].type!==M[le].type||G[le].value!==M[le].value){ie=!1;break}if(ie)return U}}return null},decrypt:function(H,M){if(void 0===O.encryptedContent.key&&void 0!==H&&void 0!==M)switch(H.encryptedContent.algorithm){case n.pki.oids.rsaEncryption:case n.pki.oids.desCBC:var V=M.decrypt(H.encryptedContent.content);O.encryptedContent.key=n.util.createBuffer(V);break;default:throw new Error("Unsupported asymmetric cipher, OID "+H.encryptedContent.algorithm)}x(O)},addRecipient:function(H){O.recipients.push({version:0,issuer:H.issuer.attributes,serialNumber:H.serialNumber,encryptedContent:{algorithm:n.pki.oids.rsaEncryption,key:H.publicKey}})},encrypt:function(H,M){if(void 0===O.encryptedContent.content){var V,U,G;switch(H=H||O.encryptedContent.key,M=M||O.encryptedContent.algorithm){case n.pki.oids["aes128-CBC"]:V=16,U=16,G=n.aes.createEncryptionCipher;break;case n.pki.oids["aes192-CBC"]:V=24,U=16,G=n.aes.createEncryptionCipher;break;case n.pki.oids["aes256-CBC"]:V=32,U=16,G=n.aes.createEncryptionCipher;break;case n.pki.oids["des-EDE3-CBC"]:V=24,U=8,G=n.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+M)}if(void 0===H)H=n.util.createBuffer(n.random.getBytes(V));else if(H.length()!=V)throw new Error("Symmetric key has wrong length; got "+H.length()+" bytes, expected "+V+".");O.encryptedContent.algorithm=M,O.encryptedContent.key=H,O.encryptedContent.parameter=n.util.createBuffer(n.random.getBytes(U));var ie=G(H);if(ie.start(O.encryptedContent.parameter.copy()),ie.update(O.content),!ie.finish())throw new Error("Symmetric encryption failed.");O.encryptedContent.content=ie.output}for(var le=0;le<O.recipients.length;++le){var L=O.recipients[le];if(void 0===L.encryptedContent.content){if(L.encryptedContent.algorithm!==n.pki.oids.rsaEncryption)throw new Error("Unsupported asymmetric cipher, OID "+L.encryptedContent.algorithm);L.encryptedContent.content=L.encryptedContent.key.encrypt(O.encryptedContent.key.data)}}}}}},8291:(qe,me,u)=>{var n=u(6589);u(7097),u(812);var e=n.asn1,_=qe.exports=n.pkcs7asn1=n.pkcs7asn1||{};n.pkcs7=n.pkcs7||{},n.pkcs7.asn1=_;var g={name:"ContentInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:e.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};_.contentInfoValidator=g;var S={name:"EncryptedContentInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:e.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:e.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};_.envelopedDataValidator={name:"EnvelopedData",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:e.Class.UNIVERSAL,type:e.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(S)},_.encryptedDataValidator={name:"EncryptedData",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"version"}].concat(S)},_.signedDataValidator={name:"SignedData",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:e.Class.UNIVERSAL,type:e.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},g,{name:"SignedData.Certificates",tagClass:e.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:e.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:e.Class.UNIVERSAL,type:e.Type.SET,capture:"signerInfos",optional:!0,value:[{name:"SignerInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:e.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:e.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:e.Class.UNIVERSAL,type:e.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:e.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]}]}]},_.recipientInfoValidator={name:"RecipientInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:e.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter",optional:!0}]},{name:"RecipientInfo.encryptedKey",tagClass:e.Class.UNIVERSAL,type:e.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}},9622:(qe,me,u)=>{var n=u(6589);u(7097),u(1817),u(1347),u(9368),u(1097),u(4724),u(8588),u(2880),u(812),u(9436);var e=n.asn1,_=qe.exports=n.pki=n.pki||{};_.pemToDer=function(g){var S=n.pem.decode(g)[0];if(S.procType&&"ENCRYPTED"===S.procType.type)throw new Error("Could not convert PEM to DER; PEM is encrypted.");return n.util.createBuffer(S.body)},_.privateKeyFromPem=function(g){var S=n.pem.decode(g)[0];if("PRIVATE KEY"!==S.type&&"RSA PRIVATE KEY"!==S.type){var v=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw v.headerType=S.type,v}if(S.procType&&"ENCRYPTED"===S.procType.type)throw new Error("Could not convert private key from PEM; PEM is encrypted.");var f=e.fromDer(S.body);return _.privateKeyFromAsn1(f)},_.privateKeyToPem=function(g,S){var v={type:"RSA PRIVATE KEY",body:e.toDer(_.privateKeyToAsn1(g)).getBytes()};return n.pem.encode(v,{maxline:S})},_.privateKeyInfoToPem=function(g,S){var v={type:"PRIVATE KEY",body:e.toDer(g).getBytes()};return n.pem.encode(v,{maxline:S})}},3697:(qe,me,u)=>{var n=u(6589);u(812),u(3364),u(1675),function(){if(n.prime)qe.exports=n.prime;else{var e=qe.exports=n.prime=n.prime||{},_=n.jsbn.BigInteger,g=[6,4,2,4,2,4,6,2],S=new _(null);S.fromInt(30);var v=function(C,R){return C|R};e.generateProbablePrime=function(C,R,x){"function"==typeof R&&(x=R,R={});var O=(R=R||{}).algorithm||"PRIMEINC";"string"==typeof O&&(O={name:O}),O.options=O.options||{};var H=R.prng||n.random;if("PRIMEINC"===O.name)return function f(C,R,x,O){return"workers"in x?function m(C,R,x,O){if(typeof Worker>"u")return d(C,R,x,O);var H=F(C,R),M=x.workers,V=x.workLoad||100,U=30*V/8,G=x.workerScript||"forge/prime.worker.js";if(-1===M)return n.util.estimateCores(function(le,L){le&&(L=2),M=L-1,ie()});function ie(){M=Math.max(1,M);for(var le=[],L=0;L<M;++L)le[L]=new Worker(G);for(L=0;L<M;++L)le[L].addEventListener("message",I);var te=!1;function I(oe){if(!te){var z=oe.data;if(z.found){for(var _e=0;_e<le.length;++_e)le[_e].terminate();return te=!0,O(null,new _(z.prime,16))}H.bitLength()>C&&(H=F(C,R));var Pe=H.toString(16);oe.target.postMessage({hex:Pe,workLoad:V}),H.dAddOffset(U,0)}}}ie()}(C,R,x,O):d(C,R,x,O)}(C,{nextBytes:function(V){for(var U=H.getBytesSync(V.length),G=0;G<V.length;++G)V[G]=U.charCodeAt(G)}},O.options,x);throw new Error("Invalid prime generation algorithm: "+O.name)}}function d(C,R,x,O){var H=F(C,R),V=function w(C){return C<=100?27:C<=150?18:C<=200?15:C<=250?12:C<=300?9:C<=350?8:C<=400?7:C<=500?6:C<=600?5:C<=800?4:C<=1250?3:2}(H.bitLength());"millerRabinTests"in x&&(V=x.millerRabinTests);var U=10;"maxBlockTime"in x&&(U=x.maxBlockTime),E(H,C,R,0,V,U,O)}function E(C,R,x,O,H,M,V){var U=+new Date;do{if(C.bitLength()>R&&(C=F(R,x)),C.isProbablePrime(H))return V(null,C);C.dAddOffset(g[O++%8],0)}while(M<0||+new Date-U<M);n.util.setImmediate(function(){E(C,R,x,O,H,M,V)})}function F(C,R){var x=new _(C,R),O=C-1;return x.testBit(O)||x.bitwiseTo(_.ONE.shiftLeft(O),v,x),x.dAddOffset(31-x.mod(S).byteValue(),0),x}}()},409:(qe,me,u)=>{var n=u(6589);u(812);var e=null;n.util.isNodejs&&!n.options.usePureJavaScript&&!process.versions["node-webkit"]&&(e=u(310)),(qe.exports=n.prng=n.prng||{}).create=function(g){for(var S={plugin:g,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},v=g.md,f=new Array(32),d=0;d<32;++d)f[d]=v.create();function m(){if(S.pools[0].messageLength>=32)return F();S.collect(S.seedFileSync(32-S.pools[0].messageLength<<5)),F()}function F(){S.reseeds=4294967295===S.reseeds?0:S.reseeds+1;var C=S.plugin.md.create();C.update(S.keyBytes);for(var R=1,x=0;x<32;++x)S.reseeds%R==0&&(C.update(S.pools[x].digest().getBytes()),S.pools[x].start()),R<<=1;S.keyBytes=C.digest().getBytes(),C.start(),C.update(S.keyBytes);var O=C.digest().getBytes();S.key=S.plugin.formatKey(S.keyBytes),S.seed=S.plugin.formatSeed(O),S.generated=0}function w(C){var R=null,x=n.util.globalScope,O=x.crypto||x.msCrypto;O&&O.getRandomValues&&(R=function(J){return O.getRandomValues(J)});var H=n.util.createBuffer();if(R)for(;H.length()<C;){var M=Math.max(1,Math.min(C-H.length(),65536)/4),V=new Uint32Array(Math.floor(M));try{R(V);for(var U=0;U<V.length;++U)H.putInt32(V[U])}catch(J){if(!(typeof QuotaExceededError<"u"&&J instanceof QuotaExceededError))throw J}}if(H.length()<C)for(var G,ie,le,L=Math.floor(65536*Math.random());H.length()<C;)for(ie=16807*(65535&L),ie+=(32767&(G=16807*(L>>16)))<<16,L=4294967295&(ie=(2147483647&(ie+=G>>15))+(ie>>31)),U=0;U<3;++U)le=L>>>(U<<3),le^=Math.floor(256*Math.random()),H.putByte(255&le);return H.getBytes(C)}return S.pools=f,S.pool=0,S.generate=function(C,R){if(!R)return S.generateSync(C);var x=S.plugin.cipher,O=S.plugin.increment,H=S.plugin.formatKey,M=S.plugin.formatSeed,V=n.util.createBuffer();S.key=null,function U(G){if(G)return R(G);if(V.length()>=C)return R(null,V.getBytes(C));if(S.generated>1048575&&(S.key=null),null===S.key)return n.util.nextTick(function(){!function E(C){if(S.pools[0].messageLength>=32)return F(),C();S.seedFile(32-S.pools[0].messageLength<<5,function(x,O){if(x)return C(x);S.collect(O),F(),C()})}(U)});var ie=x(S.key,S.seed);S.generated+=ie.length,V.putBytes(ie),S.key=H(x(S.key,O(S.seed))),S.seed=M(x(S.key,S.seed)),n.util.setImmediate(U)}()},S.generateSync=function(C){var R=S.plugin.cipher,x=S.plugin.increment,O=S.plugin.formatKey,H=S.plugin.formatSeed;S.key=null;for(var M=n.util.createBuffer();M.length()<C;){S.generated>1048575&&(S.key=null),null===S.key&&m();var V=R(S.key,S.seed);S.generated+=V.length,M.putBytes(V),S.key=O(R(S.key,x(S.seed))),S.seed=H(R(S.key,S.seed))}return M.getBytes(C)},e?(S.seedFile=function(C,R){e.randomBytes(C,function(x,O){if(x)return R(x);R(null,O.toString())})},S.seedFileSync=function(C){return e.randomBytes(C).toString()}):(S.seedFile=function(C,R){try{R(null,w(C))}catch(x){R(x)}},S.seedFileSync=w),S.collect=function(C){for(var R=C.length,x=0;x<R;++x)S.pools[S.pool].update(C.substr(x,1)),S.pool=31===S.pool?0:S.pool+1},S.collectInt=function(C,R){for(var x="",O=0;O<R;O+=8)x+=String.fromCharCode(C>>O&255);S.collect(x)},S.registerWorker=function(C){C===self?S.seedFile=function(x,O){self.addEventListener("message",function H(M){var V=M.data;V.forge&&V.forge.prng&&(self.removeEventListener("message",H),O(V.forge.prng.err,V.forge.prng.bytes))}),self.postMessage({forge:{prng:{needed:x}}})}:C.addEventListener("message",function(x){var O=x.data;O.forge&&O.forge.prng&&S.seedFile(O.forge.prng.needed,function(H,M){C.postMessage({forge:{prng:{err:H,bytes:M}}})})})},S}},8588:(qe,me,u)=>{var n=u(6589);u(1675),u(812),(qe.exports=n.pss=n.pss||{}).create=function(_){3===arguments.length&&(_={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var d,g=_.md,S=_.mgf,v=g.digestLength,f=_.salt||null;if("string"==typeof f&&(f=n.util.createBuffer(f)),"saltLength"in _)d=_.saltLength;else{if(null===f)throw new Error("Salt length not specified or specific salt not given.");d=f.length()}if(null!==f&&f.length()!==d)throw new Error("Given salt length does not match length of given salt.");var E=_.prng||n.random;return{encode:function(F,w){var C,H,R=w-1,x=Math.ceil(R/8),O=F.digest().getBytes();if(x<v+d+2)throw new Error("Message is too long to encrypt.");H=null===f?E.getBytesSync(d):f.bytes();var M=new n.util.ByteBuffer;M.fillWithByte(0,8),M.putBytes(O),M.putBytes(H),g.start(),g.update(M.getBytes());var V=g.digest().getBytes(),U=new n.util.ByteBuffer;U.fillWithByte(0,x-d-v-2),U.putByte(1),U.putBytes(H);var G=U.getBytes(),ie=x-v-1,le=S.generate(V,ie),L="";for(C=0;C<ie;C++)L+=String.fromCharCode(G.charCodeAt(C)^le.charCodeAt(C));var J=65280>>8*x-R&255;return(L=String.fromCharCode(L.charCodeAt(0)&~J)+L.substr(1))+V+"\xbc"},verify:function(F,w,C){var R,x=C-1,O=Math.ceil(x/8);if(w=w.substr(-O),O<v+d+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(188!==w.charCodeAt(O-1))throw new Error("Encoded message does not end in 0xBC.");var H=O-v-1,M=w.substr(0,H),V=w.substr(H,v),U=65280>>8*O-x&255;if(M.charCodeAt(0)&U)throw new Error("Bits beyond keysize not zero as expected.");var G=S.generate(V,H),ie="";for(R=0;R<H;R++)ie+=String.fromCharCode(M.charCodeAt(R)^G.charCodeAt(R));ie=String.fromCharCode(ie.charCodeAt(0)&~U)+ie.substr(1);var le=O-v-d-2;for(R=0;R<le;R++)if(0!==ie.charCodeAt(R))throw new Error("Leftmost octets not zero as expected");if(1!==ie.charCodeAt(le))throw new Error("Inconsistent PSS signature, 0x01 marker not found");var L=ie.substr(-d),J=new n.util.ByteBuffer;return J.fillWithByte(0,8),J.putBytes(F),J.putBytes(L),g.start(),g.update(J.getBytes()),V===g.digest().getBytes()}}}},1675:(qe,me,u)=>{var n=u(6589);u(57),u(2507),u(409),u(812),n.random&&n.random.getBytes?qe.exports=n.random:function(e){var _={},g=new Array(4),S=n.util.createBuffer();function v(){var C=n.prng.create(_);return C.getBytes=function(R,x){return C.generate(R,x)},C.getBytesSync=function(R){return C.generate(R)},C}_.formatKey=function(C){var R=n.util.createBuffer(C);return(C=new Array(4))[0]=R.getInt32(),C[1]=R.getInt32(),C[2]=R.getInt32(),C[3]=R.getInt32(),n.aes._expandKey(C,!1)},_.formatSeed=function(C){var R=n.util.createBuffer(C);return(C=new Array(4))[0]=R.getInt32(),C[1]=R.getInt32(),C[2]=R.getInt32(),C[3]=R.getInt32(),C},_.cipher=function(C,R){return n.aes._updateBlock(C,R,g,!1),S.putInt32(g[0]),S.putInt32(g[1]),S.putInt32(g[2]),S.putInt32(g[3]),S.getBytes()},_.increment=function(C){return++C[3],C},_.md=n.md.sha256;var f=v(),d=null,E=n.util.globalScope,m=E.crypto||E.msCrypto;if(m&&m.getRandomValues&&(d=function(C){return m.getRandomValues(C)}),n.options.usePureJavaScript||!n.util.isNodejs&&!d){if(typeof window>"u"||window,f.collectInt(+new Date,32),typeof navigator<"u"){var F="";for(var w in navigator)try{"string"==typeof navigator[w]&&(F+=navigator[w])}catch{}f.collect(F),F=null}e&&(e().mousemove(function(C){f.collectInt(C.clientX,16),f.collectInt(C.clientY,16)}),e().keypress(function(C){f.collectInt(C.charCode,8)}))}if(n.random)for(var w in f)n.random[w]=f[w];else n.random=f;n.random.createInstance=v,qe.exports=n.random}(typeof jQuery<"u"?jQuery:null)},1881:(qe,me,u)=>{var n=u(6589);u(812);var e=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],_=[1,2,3,5],g=function(f,d){return f<<d&65535|(65535&f)>>16-d},S=function(f,d){return(65535&f)>>d|f<<16-d&65535};qe.exports=n.rc2=n.rc2||{},n.rc2.expandKey=function(f,d){"string"==typeof f&&(f=n.util.createBuffer(f)),d=d||128;var R,E=f,m=f.length(),F=d,w=Math.ceil(F/8),C=255>>(7&F);for(R=m;R<128;R++)E.putByte(e[E.at(R-1)+E.at(R-m)&255]);for(E.setAt(128-w,e[E.at(128-w)&C]),R=127-w;R>=0;R--)E.setAt(R,e[E.at(R+1)^E.at(R+w)]);return E};var v=function(f,d,E){var R,x,O,H,m=!1,F=null,w=null,C=null,M=[];for(f=n.rc2.expandKey(f,d),O=0;O<64;O++)M.push(f.getInt16Le());E?(R=function(G){for(O=0;O<4;O++)G[O]+=M[H]+(G[(O+3)%4]&G[(O+2)%4])+(~G[(O+3)%4]&G[(O+1)%4]),G[O]=g(G[O],_[O]),H++},x=function(G){for(O=0;O<4;O++)G[O]+=M[63&G[(O+3)%4]]}):(R=function(G){for(O=3;O>=0;O--)G[O]=S(G[O],_[O]),G[O]-=M[H]+(G[(O+3)%4]&G[(O+2)%4])+(~G[(O+3)%4]&G[(O+1)%4]),H--},x=function(G){for(O=3;O>=0;O--)G[O]-=M[63&G[(O+3)%4]]});var V=function(G){var ie=[];for(O=0;O<4;O++){var le=F.getInt16Le();null!==C&&(E?le^=C.getInt16Le():C.putInt16Le(le)),ie.push(65535&le)}H=E?0:63;for(var L=0;L<G.length;L++)for(var J=0;J<G[L][0];J++)G[L][1](ie);for(O=0;O<4;O++)null!==C&&(E?C.putInt16Le(ie[O]):ie[O]^=C.getInt16Le()),w.putInt16Le(ie[O])},U=null;return U={start:function(G,ie){G&&"string"==typeof G&&(G=n.util.createBuffer(G)),m=!1,F=n.util.createBuffer(),w=ie||new n.util.createBuffer,C=G,U.output=w},update:function(G){for(m||F.putBuffer(G);F.length()>=8;)V([[5,R],[1,x],[6,R],[1,x],[5,R]])},finish:function(G){var ie=!0;if(E)if(G)ie=G(8,F,!E);else{var le=8===F.length()?8:8-F.length();F.fillWithByte(le,le)}if(ie&&(m=!0,U.update()),!E&&(ie=0===F.length()))if(G)ie=G(8,w,!E);else{var L=w.length(),J=w.at(L-1);J>L?ie=!1:w.truncate(J)}return ie}}};n.rc2.startEncrypting=function(f,d,E){var m=n.rc2.createEncryptionCipher(f,128);return m.start(d,E),m},n.rc2.createEncryptionCipher=function(f,d){return v(f,d,!0)},n.rc2.startDecrypting=function(f,d,E){var m=n.rc2.createDecryptionCipher(f,128);return m.start(d,E),m},n.rc2.createDecryptionCipher=function(f,d){return v(f,d,!1)}},2880:(qe,me,u)=>{var n=u(6589);if(u(7097),u(3364),u(1817),u(8788),u(3697),u(1675),u(812),typeof e>"u")var e=n.jsbn.BigInteger;var _=n.util.isNodejs?u(310):null,g=n.asn1,S=n.util;n.pki=n.pki||{},qe.exports=n.pki.rsa=n.rsa=n.rsa||{};var v=n.pki,f=[6,4,2,4,2,4,6,2],d={name:"PrivateKeyInfo",tagClass:g.Class.UNIVERSAL,type:g.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:g.Class.UNIVERSAL,type:g.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:g.Class.UNIVERSAL,type:g.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:g.Class.UNIVERSAL,type:g.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:g.Class.UNIVERSAL,type:g.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},E={name:"RSAPrivateKey",tagClass:g.Class.UNIVERSAL,type:g.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:g.Class.UNIVERSAL,type:g.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:g.Class.UNIVERSAL,type:g.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:g.Class.UNIVERSAL,type:g.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:g.Class.UNIVERSAL,type:g.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:g.Class.UNIVERSAL,type:g.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:g.Class.UNIVERSAL,type:g.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:g.Class.UNIVERSAL,type:g.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:g.Class.UNIVERSAL,type:g.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:g.Class.UNIVERSAL,type:g.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},m={name:"RSAPublicKey",tagClass:g.Class.UNIVERSAL,type:g.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:g.Class.UNIVERSAL,type:g.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:g.Class.UNIVERSAL,type:g.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},F=n.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:g.Class.UNIVERSAL,type:g.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:g.Class.UNIVERSAL,type:g.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:g.Class.UNIVERSAL,type:g.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:g.Class.UNIVERSAL,type:g.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:g.Class.UNIVERSAL,type:g.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},w={name:"DigestInfo",tagClass:g.Class.UNIVERSAL,type:g.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:g.Class.UNIVERSAL,type:g.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:g.Class.UNIVERSAL,type:g.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:g.Class.UNIVERSAL,type:g.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:g.Class.UNIVERSAL,type:g.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},C=function(I){if(!(I.algorithm in v.oids)){var z=new Error("Unknown message digest algorithm.");throw z.algorithm=I.algorithm,z}var _e=g.oidToDer(v.oids[I.algorithm]).getBytes(),Pe=g.create(g.Class.UNIVERSAL,g.Type.SEQUENCE,!0,[]),Re=g.create(g.Class.UNIVERSAL,g.Type.SEQUENCE,!0,[]);Re.value.push(g.create(g.Class.UNIVERSAL,g.Type.OID,!1,_e)),Re.value.push(g.create(g.Class.UNIVERSAL,g.Type.NULL,!1,""));var ke=g.create(g.Class.UNIVERSAL,g.Type.OCTETSTRING,!1,I.digest().getBytes());return Pe.value.push(Re),Pe.value.push(ke),g.toDer(Pe).getBytes()},R=function(I,oe,z){if(z)return I.modPow(oe.e,oe.n);if(!oe.p||!oe.q)return I.modPow(oe.d,oe.n);var _e;oe.dP||(oe.dP=oe.d.mod(oe.p.subtract(e.ONE))),oe.dQ||(oe.dQ=oe.d.mod(oe.q.subtract(e.ONE))),oe.qInv||(oe.qInv=oe.q.modInverse(oe.p));do{_e=new e(n.util.bytesToHex(n.random.getBytes(oe.n.bitLength()/8)),16)}while(_e.compareTo(oe.n)>=0||!_e.gcd(oe.n).equals(e.ONE));for(var Pe=(I=I.multiply(_e.modPow(oe.e,oe.n)).mod(oe.n)).mod(oe.p).modPow(oe.dP,oe.p),Re=I.mod(oe.q).modPow(oe.dQ,oe.q);Pe.compareTo(Re)<0;)Pe=Pe.add(oe.p);var ke=Pe.subtract(Re).multiply(oe.qInv).mod(oe.p).multiply(oe.q).add(Re);return ke.multiply(_e.modInverse(oe.n)).mod(oe.n)};function x(I,oe,z){var _e=n.util.createBuffer(),Pe=Math.ceil(oe.n.bitLength()/8);if(I.length>Pe-11){var Re=new Error("Message is too long for PKCS#1 v1.5 padding.");throw Re.length=I.length,Re.max=Pe-11,Re}_e.putByte(0),_e.putByte(z);var Je,ke=Pe-3-I.length;if(0===z||1===z){Je=0===z?0:255;for(var Te=0;Te<ke;++Te)_e.putByte(Je)}else for(;ke>0;){var we=0,de=n.random.getBytes(ke);for(Te=0;Te<ke;++Te)0===(Je=de.charCodeAt(Te))?++we:_e.putByte(Je);ke=we}return _e.putByte(0),_e.putBytes(I),_e}function O(I,oe,z,_e){var Pe=Math.ceil(oe.n.bitLength()/8),Re=n.util.createBuffer(I),ke=Re.getByte(),Je=Re.getByte();if(0!==ke||z&&0!==Je&&1!==Je||!z&&2!=Je||z&&0===Je&&typeof _e>"u")throw new Error("Encryption block is invalid.");var Te=0;if(0===Je){Te=Pe-3-_e;for(var we=0;we<Te;++we)if(0!==Re.getByte())throw new Error("Encryption block is invalid.")}else if(1===Je)for(Te=0;Re.length()>1;){if(255!==Re.getByte()){--Re.read;break}++Te}else if(2===Je)for(Te=0;Re.length()>1;){if(0===Re.getByte()){--Re.read;break}++Te}if(0!==Re.getByte()||Te!==Pe-3-Re.length())throw new Error("Encryption block is invalid.");return Re.getBytes()}function M(I){var oe=I.toString(16);oe[0]>="8"&&(oe="00"+oe);var z=n.util.hexToBytes(oe);return!(z.length>1)||(0!==z.charCodeAt(0)||128&z.charCodeAt(1))&&(255!==z.charCodeAt(0)||128&~z.charCodeAt(1))?z:z.substr(1)}function V(I){return I<=100?27:I<=150?18:I<=200?15:I<=250?12:I<=300?9:I<=350?8:I<=400?7:I<=500?6:I<=600?5:I<=800?4:I<=1250?3:2}function U(I){return n.util.isNodejs&&"function"==typeof _[I]}function G(I){return typeof S.globalScope<"u"&&"object"==typeof S.globalScope.crypto&&"object"==typeof S.globalScope.crypto.subtle&&"function"==typeof S.globalScope.crypto.subtle[I]}function ie(I){return typeof S.globalScope<"u"&&"object"==typeof S.globalScope.msCrypto&&"object"==typeof S.globalScope.msCrypto.subtle&&"function"==typeof S.globalScope.msCrypto.subtle[I]}function le(I){for(var oe=n.util.hexToBytes(I.toString(16)),z=new Uint8Array(oe.length),_e=0;_e<oe.length;++_e)z[_e]=oe.charCodeAt(_e);return z}v.rsa.encrypt=function(I,oe,z){var Pe,_e=z,Re=Math.ceil(oe.n.bitLength()/8);!1!==z&&!0!==z?(_e=2===z,Pe=x(I,oe,z)):(Pe=n.util.createBuffer()).putBytes(I);for(var ke=new e(Pe.toHex(),16),Te=R(ke,oe,_e).toString(16),we=n.util.createBuffer(),de=Re-Math.ceil(Te.length/2);de>0;)we.putByte(0),--de;return we.putBytes(n.util.hexToBytes(Te)),we.getBytes()},v.rsa.decrypt=function(I,oe,z,_e){var Pe=Math.ceil(oe.n.bitLength()/8);if(I.length!==Pe){var Re=new Error("Encrypted message length is invalid.");throw Re.length=I.length,Re.expected=Pe,Re}var ke=new e(n.util.createBuffer(I).toHex(),16);if(ke.compareTo(oe.n)>=0)throw new Error("Encrypted message is invalid.");for(var Te=R(ke,oe,z).toString(16),we=n.util.createBuffer(),de=Pe-Math.ceil(Te.length/2);de>0;)we.putByte(0),--de;return we.putBytes(n.util.hexToBytes(Te)),!1!==_e?O(we.getBytes(),oe,z):we.getBytes()},v.rsa.createKeyPairGenerationState=function(I,oe,z){"string"==typeof I&&(I=parseInt(I,10)),I=I||2048;var ke,_e=(z=z||{}).prng||n.random,Pe={nextBytes:function(Je){for(var Te=_e.getBytesSync(Je.length),we=0;we<Je.length;++we)Je[we]=Te.charCodeAt(we)}},Re=z.algorithm||"PRIMEINC";if("PRIMEINC"!==Re)throw new Error("Invalid key generation algorithm: "+Re);return(ke={algorithm:Re,state:0,bits:I,rng:Pe,eInt:oe||65537,e:new e(null),p:null,q:null,qBits:I>>1,pBits:I-(I>>1),pqState:0,num:null,keys:null}).e.fromInt(ke.eInt),ke},v.rsa.stepKeyPairGenerationState=function(I,oe){"algorithm"in I||(I.algorithm="PRIMEINC");var z=new e(null);z.fromInt(30);for(var ke,_e=0,Pe=function(Ve,Ae){return Ve|Ae},Re=+new Date,Je=0;null===I.keys&&(oe<=0||Je<oe);){if(0===I.state){var Te=null===I.p?I.pBits:I.qBits,we=Te-1;0===I.pqState?(I.num=new e(Te,I.rng),I.num.testBit(we)||I.num.bitwiseTo(e.ONE.shiftLeft(we),Pe,I.num),I.num.dAddOffset(31-I.num.mod(z).byteValue(),0),_e=0,++I.pqState):1===I.pqState?I.num.bitLength()>Te?I.pqState=0:I.num.isProbablePrime(V(I.num.bitLength()))?++I.pqState:I.num.dAddOffset(f[_e++%8],0):2===I.pqState?I.pqState=0===I.num.subtract(e.ONE).gcd(I.e).compareTo(e.ONE)?3:0:3===I.pqState&&(I.pqState=0,null===I.p?I.p=I.num:I.q=I.num,null!==I.p&&null!==I.q&&++I.state,I.num=null)}else if(1===I.state)I.p.compareTo(I.q)<0&&(I.num=I.p,I.p=I.q,I.q=I.num),++I.state;else if(2===I.state)I.p1=I.p.subtract(e.ONE),I.q1=I.q.subtract(e.ONE),I.phi=I.p1.multiply(I.q1),++I.state;else if(3===I.state)0===I.phi.gcd(I.e).compareTo(e.ONE)?++I.state:(I.p=null,I.q=null,I.state=0);else if(4===I.state)I.n=I.p.multiply(I.q),I.n.bitLength()===I.bits?++I.state:(I.q=null,I.state=0);else if(5===I.state){var de=I.e.modInverse(I.phi);I.keys={privateKey:v.rsa.setPrivateKey(I.n,I.e,de,I.p,I.q,de.mod(I.p1),de.mod(I.q1),I.q.modInverse(I.p)),publicKey:v.rsa.setPublicKey(I.n,I.e)}}Je+=(ke=+new Date)-Re,Re=ke}return null!==I.keys},v.rsa.generateKeyPair=function(I,oe,z,_e){if(1===arguments.length?"object"==typeof I?(z=I,I=void 0):"function"==typeof I&&(_e=I,I=void 0):2===arguments.length?"number"==typeof I?"function"==typeof oe?(_e=oe,oe=void 0):"number"!=typeof oe&&(z=oe,oe=void 0):(z=I,_e=oe,I=void 0,oe=void 0):3===arguments.length&&("number"==typeof oe?"function"==typeof z&&(_e=z,z=void 0):(_e=z,z=oe,oe=void 0)),z=z||{},void 0===I&&(I=z.bits||2048),void 0===oe&&(oe=z.e||65537),!n.options.usePureJavaScript&&!z.prng&&I>=256&&I<=16384&&(65537===oe||3===oe))if(_e){if(U("generateKeyPair"))return _.generateKeyPair("rsa",{modulusLength:I,publicExponent:oe,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(Je,Te,we){if(Je)return _e(Je);_e(null,{privateKey:v.privateKeyFromPem(we),publicKey:v.publicKeyFromPem(Te)})});if(G("generateKey")&&G("exportKey"))return S.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:I,publicExponent:le(oe),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(Je){return S.globalScope.crypto.subtle.exportKey("pkcs8",Je.privateKey)}).then(void 0,function(Je){_e(Je)}).then(function(Je){if(Je){var Te=v.privateKeyFromAsn1(g.fromDer(n.util.createBuffer(Je)));_e(null,{privateKey:Te,publicKey:v.setRsaPublicKey(Te.n,Te.e)})}});if(ie("generateKey")&&ie("exportKey")){var Pe=S.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:I,publicExponent:le(oe),hash:{name:"SHA-256"}},!0,["sign","verify"]);return Pe.oncomplete=function(Je){var we=S.globalScope.msCrypto.subtle.exportKey("pkcs8",Je.target.result.privateKey);we.oncomplete=function(de){var Ae=v.privateKeyFromAsn1(g.fromDer(n.util.createBuffer(de.target.result)));_e(null,{privateKey:Ae,publicKey:v.setRsaPublicKey(Ae.n,Ae.e)})},we.onerror=function(de){_e(de)}},void(Pe.onerror=function(Je){_e(Je)})}}else if(U("generateKeyPairSync")){var Re=_.generateKeyPairSync("rsa",{modulusLength:I,publicExponent:oe,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:v.privateKeyFromPem(Re.privateKey),publicKey:v.publicKeyFromPem(Re.publicKey)}}var ke=v.rsa.createKeyPairGenerationState(I,oe,z);if(!_e)return v.rsa.stepKeyPairGenerationState(ke,0),ke.keys;!function H(I,oe,z){"function"==typeof oe&&(z=oe,oe={});var _e={algorithm:{name:(oe=oe||{}).algorithm||"PRIMEINC",options:{workers:oe.workers||2,workLoad:oe.workLoad||100,workerScript:oe.workerScript}}};function Pe(){Re(I.pBits,function(Je,Te){return Je?z(Je):(I.p=Te,null!==I.q?ke(Je,I.q):void Re(I.qBits,ke))})}function Re(Je,Te){n.prime.generateProbablePrime(Je,_e,Te)}function ke(Je,Te){if(Je)return z(Je);if(I.q=Te,I.p.compareTo(I.q)<0){var we=I.p;I.p=I.q,I.q=we}if(0!==I.p.subtract(e.ONE).gcd(I.e).compareTo(e.ONE))return I.p=null,void Pe();if(0!==I.q.subtract(e.ONE).gcd(I.e).compareTo(e.ONE))return I.q=null,void Re(I.qBits,ke);if(I.p1=I.p.subtract(e.ONE),I.q1=I.q.subtract(e.ONE),I.phi=I.p1.multiply(I.q1),0!==I.phi.gcd(I.e).compareTo(e.ONE))return I.p=I.q=null,void Pe();if(I.n=I.p.multiply(I.q),I.n.bitLength()!==I.bits)return I.q=null,void Re(I.qBits,ke);var de=I.e.modInverse(I.phi);I.keys={privateKey:v.rsa.setPrivateKey(I.n,I.e,de,I.p,I.q,de.mod(I.p1),de.mod(I.q1),I.q.modInverse(I.p)),publicKey:v.rsa.setPublicKey(I.n,I.e)},z(null,I.keys)}"prng"in oe&&(_e.prng=oe.prng),Pe()}(ke,z,_e)},v.setRsaPublicKey=v.rsa.setPublicKey=function(I,oe){var z={n:I,e:oe,encrypt:function(_e,Pe,Re){if("string"==typeof Pe?Pe=Pe.toUpperCase():void 0===Pe&&(Pe="RSAES-PKCS1-V1_5"),"RSAES-PKCS1-V1_5"===Pe)Pe={encode:function(Je,Te,we){return x(Je,Te,2).getBytes()}};else if("RSA-OAEP"===Pe||"RSAES-OAEP"===Pe)Pe={encode:function(Je,Te){return n.pkcs1.encode_rsa_oaep(Te,Je,Re)}};else if(-1!==["RAW","NONE","NULL",null].indexOf(Pe))Pe={encode:function(Je){return Je}};else if("string"==typeof Pe)throw new Error('Unsupported encryption scheme: "'+Pe+'".');var ke=Pe.encode(_e,z,!0);return v.rsa.encrypt(ke,z,!0)},verify:function(_e,Pe,Re,ke){"string"==typeof Re?Re=Re.toUpperCase():void 0===Re&&(Re="RSASSA-PKCS1-V1_5"),void 0===ke&&(ke={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in ke||(ke._parseAllDigestBytes=!0),"RSASSA-PKCS1-V1_5"===Re?Re={verify:function(Te,we){we=O(we,z,!0);var de=g.fromDer(we,{parseAllBytes:ke._parseAllDigestBytes}),Ve={},Ae=[];if(!g.validate(de,w,Ve,Ae))throw(rt=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.")).errors=Ae,rt;var rt,Be=g.derToOid(Ve.algorithmIdentifier);if(Be!==n.oids.md2&&Be!==n.oids.md5&&Be!==n.oids.sha1&&Be!==n.oids.sha224&&Be!==n.oids.sha256&&Be!==n.oids.sha384&&Be!==n.oids.sha512&&Be!==n.oids["sha512-224"]&&Be!==n.oids["sha512-256"])throw(rt=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.")).oid=Be,rt;if((Be===n.oids.md2||Be===n.oids.md5)&&!("parameters"in Ve))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return Te===Ve.digest}}:("NONE"===Re||"NULL"===Re||null===Re)&&(Re={verify:function(Te,we){return Te===O(we,z,!0)}});var Je=v.rsa.decrypt(Pe,z,!0,!1);return Re.verify(_e,Je,z.n.bitLength())}};return z},v.setRsaPrivateKey=v.rsa.setPrivateKey=function(I,oe,z,_e,Pe,Re,ke,Je){var Te={n:I,e:oe,d:z,p:_e,q:Pe,dP:Re,dQ:ke,qInv:Je,decrypt:function(we,de,Ve){"string"==typeof de?de=de.toUpperCase():void 0===de&&(de="RSAES-PKCS1-V1_5");var Ae=v.rsa.decrypt(we,Te,!1,!1);if("RSAES-PKCS1-V1_5"===de)de={decode:O};else if("RSA-OAEP"===de||"RSAES-OAEP"===de)de={decode:function(rt,Be){return n.pkcs1.decode_rsa_oaep(Be,rt,Ve)}};else{if(-1===["RAW","NONE","NULL",null].indexOf(de))throw new Error('Unsupported encryption scheme: "'+de+'".');de={decode:function(rt){return rt}}}return de.decode(Ae,Te,!1)},sign:function(we,de){var Ve=!1;"string"==typeof de&&(de=de.toUpperCase()),void 0===de||"RSASSA-PKCS1-V1_5"===de?(de={encode:C},Ve=1):("NONE"===de||"NULL"===de||null===de)&&(de={encode:function(){return we}},Ve=1);var Ae=de.encode(we,Te.n.bitLength());return v.rsa.encrypt(Ae,Te,Ve)}};return Te},v.wrapRsaPrivateKey=function(I){return g.create(g.Class.UNIVERSAL,g.Type.SEQUENCE,!0,[g.create(g.Class.UNIVERSAL,g.Type.INTEGER,!1,g.integerToDer(0).getBytes()),g.create(g.Class.UNIVERSAL,g.Type.SEQUENCE,!0,[g.create(g.Class.UNIVERSAL,g.Type.OID,!1,g.oidToDer(v.oids.rsaEncryption).getBytes()),g.create(g.Class.UNIVERSAL,g.Type.NULL,!1,"")]),g.create(g.Class.UNIVERSAL,g.Type.OCTETSTRING,!1,g.toDer(I).getBytes())])},v.privateKeyFromAsn1=function(I){var Pe,Re,ke,Je,Te,we,de,Ve,oe={},z=[];if(g.validate(I,d,oe,z)&&(I=g.fromDer(n.util.createBuffer(oe.privateKey))),!g.validate(I,E,oe={},z=[])){var _e=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw _e.errors=z,_e}return Pe=n.util.createBuffer(oe.privateKeyModulus).toHex(),Re=n.util.createBuffer(oe.privateKeyPublicExponent).toHex(),ke=n.util.createBuffer(oe.privateKeyPrivateExponent).toHex(),Je=n.util.createBuffer(oe.privateKeyPrime1).toHex(),Te=n.util.createBuffer(oe.privateKeyPrime2).toHex(),we=n.util.createBuffer(oe.privateKeyExponent1).toHex(),de=n.util.createBuffer(oe.privateKeyExponent2).toHex(),Ve=n.util.createBuffer(oe.privateKeyCoefficient).toHex(),v.setRsaPrivateKey(new e(Pe,16),new e(Re,16),new e(ke,16),new e(Je,16),new e(Te,16),new e(we,16),new e(de,16),new e(Ve,16))},v.privateKeyToAsn1=v.privateKeyToRSAPrivateKey=function(I){return g.create(g.Class.UNIVERSAL,g.Type.SEQUENCE,!0,[g.create(g.Class.UNIVERSAL,g.Type.INTEGER,!1,g.integerToDer(0).getBytes()),g.create(g.Class.UNIVERSAL,g.Type.INTEGER,!1,M(I.n)),g.create(g.Class.UNIVERSAL,g.Type.INTEGER,!1,M(I.e)),g.create(g.Class.UNIVERSAL,g.Type.INTEGER,!1,M(I.d)),g.create(g.Class.UNIVERSAL,g.Type.INTEGER,!1,M(I.p)),g.create(g.Class.UNIVERSAL,g.Type.INTEGER,!1,M(I.q)),g.create(g.Class.UNIVERSAL,g.Type.INTEGER,!1,M(I.dP)),g.create(g.Class.UNIVERSAL,g.Type.INTEGER,!1,M(I.dQ)),g.create(g.Class.UNIVERSAL,g.Type.INTEGER,!1,M(I.qInv))])},v.publicKeyFromAsn1=function(I){var oe={},z=[];if(g.validate(I,F,oe,z)){var Pe,_e=g.derToOid(oe.publicKeyOid);if(_e!==v.oids.rsaEncryption)throw(Pe=new Error("Cannot read public key. Unknown OID.")).oid=_e,Pe;I=oe.rsaPublicKey}if(!g.validate(I,m,oe,z=[]))throw(Pe=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.")).errors=z,Pe;var Re=n.util.createBuffer(oe.publicKeyModulus).toHex(),ke=n.util.createBuffer(oe.publicKeyExponent).toHex();return v.setRsaPublicKey(new e(Re,16),new e(ke,16))},v.publicKeyToAsn1=v.publicKeyToSubjectPublicKeyInfo=function(I){return g.create(g.Class.UNIVERSAL,g.Type.SEQUENCE,!0,[g.create(g.Class.UNIVERSAL,g.Type.SEQUENCE,!0,[g.create(g.Class.UNIVERSAL,g.Type.OID,!1,g.oidToDer(v.oids.rsaEncryption).getBytes()),g.create(g.Class.UNIVERSAL,g.Type.NULL,!1,"")]),g.create(g.Class.UNIVERSAL,g.Type.BITSTRING,!1,[v.publicKeyToRSAPublicKey(I)])])},v.publicKeyToRSAPublicKey=function(I){return g.create(g.Class.UNIVERSAL,g.Type.SEQUENCE,!0,[g.create(g.Class.UNIVERSAL,g.Type.INTEGER,!1,M(I.n)),g.create(g.Class.UNIVERSAL,g.Type.INTEGER,!1,M(I.e))])}},8825:(qe,me,u)=>{var n=u(6589);u(5437),u(812);var e=qe.exports=n.sha1=n.sha1||{};n.md.sha1=n.md.algorithms.sha1=e,e.create=function(){g||function S(){_="\x80",_+=n.util.fillString("\0",64),g=!0}();var f=null,d=n.util.createBuffer(),E=new Array(80),m={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){m.messageLength=0,m.fullMessageLength=m.messageLength64=[];for(var F=m.messageLengthSize/4,w=0;w<F;++w)m.fullMessageLength.push(0);return d=n.util.createBuffer(),f={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},m}};return m.start(),m.update=function(F,w){"utf8"===w&&(F=n.util.encodeUtf8(F));var C=F.length;m.messageLength+=C,C=[C/4294967296>>>0,C>>>0];for(var R=m.fullMessageLength.length-1;R>=0;--R)m.fullMessageLength[R]+=C[1],C[1]=C[0]+(m.fullMessageLength[R]/4294967296>>>0),m.fullMessageLength[R]=m.fullMessageLength[R]>>>0,C[0]=C[1]/4294967296>>>0;return d.putBytes(F),v(f,E,d),(d.read>2048||0===d.length())&&d.compact(),m},m.digest=function(){var F=n.util.createBuffer();F.putBytes(d.bytes()),F.putBytes(_.substr(0,m.blockLength-(m.fullMessageLength[m.fullMessageLength.length-1]+m.messageLengthSize&m.blockLength-1)));for(var R,O=8*m.fullMessageLength[0],H=0;H<m.fullMessageLength.length-1;++H)F.putInt32((O+=(R=8*m.fullMessageLength[H+1])/4294967296>>>0)>>>0),O=R>>>0;F.putInt32(O);var M={h0:f.h0,h1:f.h1,h2:f.h2,h3:f.h3,h4:f.h4};v(M,E,F);var V=n.util.createBuffer();return V.putInt32(M.h0),V.putInt32(M.h1),V.putInt32(M.h2),V.putInt32(M.h3),V.putInt32(M.h4),V},m};var _=null,g=!1;function v(f,d,E){for(var m,F,w,C,R,x,H,M=E.length();M>=64;){for(F=f.h0,w=f.h1,C=f.h2,R=f.h3,x=f.h4,H=0;H<16;++H)m=E.getInt32(),d[H]=m,m=(F<<5|F>>>27)+(R^w&(C^R))+x+1518500249+m,x=R,R=C,C=(w<<30|w>>>2)>>>0,w=F,F=m;for(;H<20;++H)d[H]=m=(m=d[H-3]^d[H-8]^d[H-14]^d[H-16])<<1|m>>>31,m=(F<<5|F>>>27)+(R^w&(C^R))+x+1518500249+m,x=R,R=C,C=(w<<30|w>>>2)>>>0,w=F,F=m;for(;H<32;++H)d[H]=m=(m=d[H-3]^d[H-8]^d[H-14]^d[H-16])<<1|m>>>31,m=(F<<5|F>>>27)+(w^C^R)+x+1859775393+m,x=R,R=C,C=(w<<30|w>>>2)>>>0,w=F,F=m;for(;H<40;++H)d[H]=m=(m=d[H-6]^d[H-16]^d[H-28]^d[H-32])<<2|m>>>30,m=(F<<5|F>>>27)+(w^C^R)+x+1859775393+m,x=R,R=C,C=(w<<30|w>>>2)>>>0,w=F,F=m;for(;H<60;++H)d[H]=m=(m=d[H-6]^d[H-16]^d[H-28]^d[H-32])<<2|m>>>30,m=(F<<5|F>>>27)+(w&C|R&(w^C))+x+2400959708+m,x=R,R=C,C=(w<<30|w>>>2)>>>0,w=F,F=m;for(;H<80;++H)d[H]=m=(m=d[H-6]^d[H-16]^d[H-28]^d[H-32])<<2|m>>>30,m=(F<<5|F>>>27)+(w^C^R)+x+3395469782+m,x=R,R=C,C=(w<<30|w>>>2)>>>0,w=F,F=m;f.h0=f.h0+F|0,f.h1=f.h1+w|0,f.h2=f.h2+C|0,f.h3=f.h3+R|0,f.h4=f.h4+x|0,M-=64}}},2507:(qe,me,u)=>{var n=u(6589);u(5437),u(812);var e=qe.exports=n.sha256=n.sha256||{};n.md.sha256=n.md.algorithms.sha256=e,e.create=function(){g||function v(){_="\x80",_+=n.util.fillString("\0",64),S=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],g=!0}();var d=null,E=n.util.createBuffer(),m=new Array(64),F={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){F.messageLength=0,F.fullMessageLength=F.messageLength64=[];for(var w=F.messageLengthSize/4,C=0;C<w;++C)F.fullMessageLength.push(0);return E=n.util.createBuffer(),d={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},F}};return F.start(),F.update=function(w,C){"utf8"===C&&(w=n.util.encodeUtf8(w));var R=w.length;F.messageLength+=R,R=[R/4294967296>>>0,R>>>0];for(var x=F.fullMessageLength.length-1;x>=0;--x)F.fullMessageLength[x]+=R[1],R[1]=R[0]+(F.fullMessageLength[x]/4294967296>>>0),F.fullMessageLength[x]=F.fullMessageLength[x]>>>0,R[0]=R[1]/4294967296>>>0;return E.putBytes(w),f(d,m,E),(E.read>2048||0===E.length())&&E.compact(),F},F.digest=function(){var w=n.util.createBuffer();w.putBytes(E.bytes()),w.putBytes(_.substr(0,F.blockLength-(F.fullMessageLength[F.fullMessageLength.length-1]+F.messageLengthSize&F.blockLength-1)));for(var x,H=8*F.fullMessageLength[0],M=0;M<F.fullMessageLength.length-1;++M)w.putInt32((H+=(x=8*F.fullMessageLength[M+1])/4294967296>>>0)>>>0),H=x>>>0;w.putInt32(H);var V={h0:d.h0,h1:d.h1,h2:d.h2,h3:d.h3,h4:d.h4,h5:d.h5,h6:d.h6,h7:d.h7};f(V,m,w);var U=n.util.createBuffer();return U.putInt32(V.h0),U.putInt32(V.h1),U.putInt32(V.h2),U.putInt32(V.h3),U.putInt32(V.h4),U.putInt32(V.h5),U.putInt32(V.h6),U.putInt32(V.h7),U},F};var _=null,g=!1,S=null;function f(d,E,m){for(var F,w,O,H,M,V,U,G,ie,le,L,J,te=m.length();te>=64;){for(H=0;H<16;++H)E[H]=m.getInt32();for(;H<64;++H)E[H]=(F=((F=E[H-2])>>>17|F<<15)^(F>>>19|F<<13)^F>>>10)+E[H-7]+(w=((w=E[H-15])>>>7|w<<25)^(w>>>18|w<<14)^w>>>3)+E[H-16]|0;for(M=d.h0,V=d.h1,U=d.h2,G=d.h3,ie=d.h4,le=d.h5,L=d.h6,J=d.h7,H=0;H<64;++H)O=M&V|U&(M^V),F=J+((ie>>>6|ie<<26)^(ie>>>11|ie<<21)^(ie>>>25|ie<<7))+(L^ie&(le^L))+S[H]+E[H],J=L,L=le,le=ie,ie=G+F>>>0,G=U,U=V,V=M,M=F+(w=((M>>>2|M<<30)^(M>>>13|M<<19)^(M>>>22|M<<10))+O)>>>0;d.h0=d.h0+M|0,d.h1=d.h1+V|0,d.h2=d.h2+U|0,d.h3=d.h3+G|0,d.h4=d.h4+ie|0,d.h5=d.h5+le|0,d.h6=d.h6+L|0,d.h7=d.h7+J|0,te-=64}}},1290:(qe,me,u)=>{var n=u(6589);u(5437),u(812);var e=qe.exports=n.sha512=n.sha512||{};n.md.sha512=n.md.algorithms.sha512=e;var _=n.sha384=n.sha512.sha384=n.sha512.sha384||{};_.create=function(){return e.create("SHA-384")},n.md.sha384=n.md.algorithms.sha384=_,n.sha512.sha256=n.sha512.sha256||{create:function(){return e.create("SHA-512/256")}},n.md["sha512/256"]=n.md.algorithms["sha512/256"]=n.sha512.sha256,n.sha512.sha224=n.sha512.sha224||{create:function(){return e.create("SHA-512/224")}},n.md["sha512/224"]=n.md.algorithms["sha512/224"]=n.sha512.sha224,e.create=function(m){if(S||function d(){g="\x80",g+=n.util.fillString("\0",128),v=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],(f={})["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],f["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],f["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],f["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],S=!0}(),typeof m>"u"&&(m="SHA-512"),!(m in f))throw new Error("Invalid SHA-512 algorithm: "+m);for(var F=f[m],w=null,C=n.util.createBuffer(),R=new Array(80),x=0;x<80;++x)R[x]=new Array(2);var O=64;switch(m){case"SHA-384":O=48;break;case"SHA-512/256":O=32;break;case"SHA-512/224":O=28}var H={algorithm:m.replace("-","").toLowerCase(),blockLength:128,digestLength:O,messageLength:0,fullMessageLength:null,messageLengthSize:16,start:function(){H.messageLength=0,H.fullMessageLength=H.messageLength128=[];for(var M=H.messageLengthSize/4,V=0;V<M;++V)H.fullMessageLength.push(0);for(C=n.util.createBuffer(),w=new Array(F.length),V=0;V<F.length;++V)w[V]=F[V].slice(0);return H}};return H.start(),H.update=function(M,V){"utf8"===V&&(M=n.util.encodeUtf8(M));var U=M.length;H.messageLength+=U,U=[U/4294967296>>>0,U>>>0];for(var G=H.fullMessageLength.length-1;G>=0;--G)H.fullMessageLength[G]+=U[1],U[1]=U[0]+(H.fullMessageLength[G]/4294967296>>>0),H.fullMessageLength[G]=H.fullMessageLength[G]>>>0,U[0]=U[1]/4294967296>>>0;return C.putBytes(M),E(w,R,C),(C.read>2048||0===C.length())&&C.compact(),H},H.digest=function(){var M=n.util.createBuffer();M.putBytes(C.bytes()),M.putBytes(g.substr(0,H.blockLength-(H.fullMessageLength[H.fullMessageLength.length-1]+H.messageLengthSize&H.blockLength-1)));for(var G,le=8*H.fullMessageLength[0],L=0;L<H.fullMessageLength.length-1;++L)M.putInt32((le+=(G=8*H.fullMessageLength[L+1])/4294967296>>>0)>>>0),le=G>>>0;M.putInt32(le);var J=new Array(w.length);for(L=0;L<w.length;++L)J[L]=w[L].slice(0);E(J,R,M);var I,te=n.util.createBuffer();for(I="SHA-512"===m?J.length:"SHA-384"===m?J.length-2:J.length-4,L=0;L<I;++L)te.putInt32(J[L][0]),(L!==I-1||"SHA-512/224"!==m)&&te.putInt32(J[L][1]);return te},H};var g=null,S=!1,v=null,f=null;function E(m,F,w){for(var C,R,x,O,J,te,I,oe,z,_e,Pe,Re,ke,Je,Te,we,de,Ve,Ae,rt,Be,ht,Ye,Yt,Ut,Tt,_t,X=w.length();X>=128;){for(Be=0;Be<16;++Be)F[Be][0]=w.getInt32()>>>0,F[Be][1]=w.getInt32()>>>0;for(;Be<80;++Be)R=(((ht=(Yt=F[Be-2])[0])<<13|(Ye=Yt[1])>>>19)^(Ye<<3|ht>>>29)^(ht<<26|Ye>>>6))>>>0,F[Be][0]=(C=((ht>>>19|Ye<<13)^(Ye>>>29|ht<<3)^ht>>>6)>>>0)+(Ut=F[Be-7])[0]+(x=(((ht=(Tt=F[Be-15])[0])>>>1|(Ye=Tt[1])<<31)^(ht>>>8|Ye<<24)^ht>>>7)>>>0)+(_t=F[Be-16])[0]+((Ye=R+Ut[1]+(O=((ht<<31|Ye>>>1)^(ht<<24|Ye>>>8)^(ht<<25|Ye>>>7))>>>0)+_t[1])/4294967296>>>0)>>>0,F[Be][1]=Ye>>>0;for(J=m[0][0],te=m[0][1],I=m[1][0],oe=m[1][1],z=m[2][0],_e=m[2][1],Pe=m[3][0],Re=m[3][1],ke=m[4][0],Je=m[4][1],Te=m[5][0],we=m[5][1],de=m[6][0],Ve=m[6][1],Ae=m[7][0],rt=m[7][1],Be=0;Be<80;++Be)C=Ae+(((ke>>>14|Je<<18)^(ke>>>18|Je<<14)^(Je>>>9|ke<<23))>>>0)+((de^ke&(Te^de))>>>0)+v[Be][0]+F[Be][0]+((Ye=rt+(((ke<<18|Je>>>14)^(ke<<14|Je>>>18)^(Je<<23|ke>>>9))>>>0)+((Ve^Je&(we^Ve))>>>0)+v[Be][1]+F[Be][1])/4294967296>>>0)>>>0,R=Ye>>>0,x=(((J>>>28|te<<4)^(te>>>2|J<<30)^(te>>>7|J<<25))>>>0)+((J&I|z&(J^I))>>>0)+((Ye=(((J<<4|te>>>28)^(te<<30|J>>>2)^(te<<25|J>>>7))>>>0)+((te&oe|_e&(te^oe))>>>0))/4294967296>>>0)>>>0,O=Ye>>>0,Ae=de,rt=Ve,de=Te,Ve=we,Te=ke,we=Je,ke=Pe+C+((Ye=Re+R)/4294967296>>>0)>>>0,Je=Ye>>>0,Pe=z,Re=_e,z=I,_e=oe,I=J,oe=te,J=C+x+((Ye=R+O)/4294967296>>>0)>>>0,te=Ye>>>0;m[0][0]=m[0][0]+J+((Ye=m[0][1]+te)/4294967296>>>0)>>>0,m[0][1]=Ye>>>0,m[1][0]=m[1][0]+I+((Ye=m[1][1]+oe)/4294967296>>>0)>>>0,m[1][1]=Ye>>>0,m[2][0]=m[2][0]+z+((Ye=m[2][1]+_e)/4294967296>>>0)>>>0,m[2][1]=Ye>>>0,m[3][0]=m[3][0]+Pe+((Ye=m[3][1]+Re)/4294967296>>>0)>>>0,m[3][1]=Ye>>>0,m[4][0]=m[4][0]+ke+((Ye=m[4][1]+Je)/4294967296>>>0)>>>0,m[4][1]=Ye>>>0,m[5][0]=m[5][0]+Te+((Ye=m[5][1]+we)/4294967296>>>0)>>>0,m[5][1]=Ye>>>0,m[6][0]=m[6][0]+de+((Ye=m[6][1]+Ve)/4294967296>>>0)>>>0,m[6][1]=Ye>>>0,m[7][0]=m[7][0]+Ae+((Ye=m[7][1]+rt)/4294967296>>>0)>>>0,m[7][1]=Ye>>>0,X-=128}}},3120:(qe,me,u)=>{var n=u(6589);u(57),u(4579),u(4846),u(8825),u(812);var e=qe.exports=n.ssh=n.ssh||{};function _(v,f){var d=f.toString(16);d[0]>="8"&&(d="00"+d);var E=n.util.hexToBytes(d);v.putInt32(E.length),v.putBytes(E)}function g(v,f){v.putInt32(f.length),v.putString(f)}function S(){for(var v=n.md.sha1.create(),f=arguments.length,d=0;d<f;++d)v.update(arguments[d]);return v.digest()}e.privateKeyToPutty=function(v,f,d){var E="ssh-rsa",m=""===(f=f||"")?"none":"aes256-cbc",F="PuTTY-User-Key-File-2: "+E+"\r\n";F+="Encryption: "+m+"\r\n",F+="Comment: "+(d=d||"")+"\r\n";var w=n.util.createBuffer();g(w,E),_(w,v.e),_(w,v.n);var C=n.util.encode64(w.bytes(),64),R=Math.floor(C.length/66)+1;F+="Public-Lines: "+R+"\r\n",F+=C;var O,x=n.util.createBuffer();if(_(x,v.d),_(x,v.p),_(x,v.q),_(x,v.qInv),f){var H=x.length()+16-1;H-=H%16;var M=S(x.bytes());M.truncate(M.length()-H+x.length()),x.putBuffer(M);var V=n.util.createBuffer();V.putBuffer(S("\0\0\0\0",f)),V.putBuffer(S("\0\0\0\x01",f));var U=n.aes.createEncryptionCipher(V.truncate(8),"CBC");U.start(n.util.createBuffer().fillWithByte(0,16)),U.update(x.copy()),U.finish();var G=U.output;G.truncate(16),O=n.util.encode64(G.bytes(),64)}else O=n.util.encode64(x.bytes(),64);F+="\r\nPrivate-Lines: "+(R=Math.floor(O.length/66)+1)+"\r\n",F+=O;var ie=S("putty-private-key-file-mac-key",f),le=n.util.createBuffer();g(le,E),g(le,m),g(le,d),le.putInt32(w.length()),le.putBuffer(w),le.putInt32(x.length()),le.putBuffer(x);var L=n.hmac.create();return L.start("sha1",ie),L.update(le.bytes()),F+"\r\nPrivate-MAC: "+L.digest().toHex()+"\r\n"},e.publicKeyToOpenSSH=function(v,f){var d="ssh-rsa";f=f||"";var E=n.util.createBuffer();return g(E,d),_(E,v.e),_(E,v.n),d+" "+n.util.encode64(E.bytes())+" "+f},e.privateKeyToOpenSSH=function(v,f){return f?n.pki.encryptRsaPrivateKey(v,f,{legacy:!0,algorithm:"aes128"}):n.pki.privateKeyToPem(v)},e.getPublicKeyFingerprint=function(v,f){var d=(f=f||{}).md||n.md.md5.create(),m=n.util.createBuffer();g(m,"ssh-rsa"),_(m,v.e),_(m,v.n),d.start(),d.update(m.getBytes());var F=d.digest();if("hex"===f.encoding){var w=F.toHex();return f.delimiter?w.match(/.{2}/g).join(f.delimiter):w}if("binary"===f.encoding)return F.getBytes();if(f.encoding)throw new Error('Unknown encoding "'+f.encoding+'".');return F}},9807:(qe,me,u)=>{var n=u(6589);u(7097),u(4579),u(4846),u(9368),u(9622),u(1675),u(8825),u(812);var e=function(X,Y,ee,Se){var Ee=n.util.createBuffer(),at=X.length>>1,je=at+(1&X.length),ot=X.substr(0,je),Ft=X.substr(at,je),ft=n.util.createBuffer(),nt=n.hmac.create();ee=Y+ee;var Wt=Math.ceil(Se/16),tn=Math.ceil(Se/20);nt.start("MD5",ot);var it=n.util.createBuffer();ft.putBytes(ee);for(var Ot=0;Ot<Wt;++Ot)nt.start(null,null),nt.update(ft.getBytes()),ft.putBuffer(nt.digest()),nt.start(null,null),nt.update(ft.bytes()+ee),it.putBuffer(nt.digest());nt.start("SHA1",Ft);var ve=n.util.createBuffer();for(ft.clear(),ft.putBytes(ee),Ot=0;Ot<tn;++Ot)nt.start(null,null),nt.update(ft.getBytes()),ft.putBuffer(nt.digest()),nt.start(null,null),nt.update(ft.bytes()+ee),ve.putBuffer(nt.digest());return Ee.putBytes(n.util.xorBytes(it.getBytes(),ve.getBytes(),Se)),Ee},S=function(X,Y,ee){var Se=!1;try{var Ee=X.deflate(Y.fragment.getBytes());Y.fragment=n.util.createBuffer(Ee),Y.length=Ee.length,Se=!0}catch{}return Se},v=function(X,Y,ee){var Se=!1;try{var Ee=X.inflate(Y.fragment.getBytes());Y.fragment=n.util.createBuffer(Ee),Y.length=Ee.length,Se=!0}catch{}return Se},f=function(X,Y){var ee=0;switch(Y){case 1:ee=X.getByte();break;case 2:ee=X.getInt16();break;case 3:ee=X.getInt24();break;case 4:ee=X.getInt32()}return n.util.createBuffer(X.getBytes(ee))},d=function(X,Y,ee){X.putInt(ee.length(),Y<<3),X.putBuffer(ee)},E={Versions:{TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}}};E.SupportedVersions=[E.Versions.TLS_1_1,E.Versions.TLS_1_0],E.Version=E.SupportedVersions[0],E.MaxFragment=15360,E.ConnectionEnd={server:0,client:1},E.PRFAlgorithm={tls_prf_sha256:0},E.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2},E.CipherType={stream:0,block:1,aead:2},E.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4},E.CompressionMethod={none:0,deflate:1},E.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24},E.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20},E.Alert={},E.Alert.Level={warning:1,fatal:2},E.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100},E.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2},E.CipherSuites={},E.getCipherSuite=function(X){var Y=null;for(var ee in E.CipherSuites){var Se=E.CipherSuites[ee];if(Se.id[0]===X.charCodeAt(0)&&Se.id[1]===X.charCodeAt(1)){Y=Se;break}}return Y},E.handleUnexpected=function(X,Y){!X.open&&X.entity===E.ConnectionEnd.client||X.error(X,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.unexpected_message}})},E.handleHelloRequest=function(X,Y,ee){!X.handshaking&&X.handshakes>0&&(E.queue(X,E.createAlert(X,{level:E.Alert.Level.warning,description:E.Alert.Description.no_renegotiation})),E.flush(X)),X.process()},E.parseHelloMessage=function(X,Y,ee){var Se=null,Ee=X.entity===E.ConnectionEnd.client;if(ee<38)X.error(X,{message:Ee?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.illegal_parameter}});else{var at=Y.fragment,je=at.length();if(Se={version:{major:at.getByte(),minor:at.getByte()},random:n.util.createBuffer(at.getBytes(32)),session_id:f(at,1),extensions:[]},Ee?(Se.cipher_suite=at.getBytes(2),Se.compression_method=at.getByte()):(Se.cipher_suites=f(at,2),Se.compression_methods=f(at,1)),(je=ee-(je-at.length()))>0){for(var ot=f(at,2);ot.length()>0;)Se.extensions.push({type:[ot.getByte(),ot.getByte()],data:f(ot,2)});if(!Ee)for(var Ft=0;Ft<Se.extensions.length;++Ft){var ft=Se.extensions[Ft];if(0===ft.type[0]&&0===ft.type[1])for(var nt=f(ft.data,2);nt.length()>0&&0===nt.getByte();)X.session.extensions.server_name.serverNameList.push(f(nt,2).getBytes())}}if(X.session.version&&(Se.version.major!==X.session.version.major||Se.version.minor!==X.session.version.minor))return X.error(X,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.protocol_version}});if(Ee)X.session.cipherSuite=E.getCipherSuite(Se.cipher_suite);else for(var tn=n.util.createBuffer(Se.cipher_suites.bytes());tn.length()>0&&(X.session.cipherSuite=E.getCipherSuite(tn.getBytes(2)),null===X.session.cipherSuite););if(null===X.session.cipherSuite)return X.error(X,{message:"No cipher suites in common.",send:!0,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.handshake_failure},cipherSuite:n.util.bytesToHex(Se.cipher_suite)});X.session.compressionMethod=Ee?Se.compression_method:E.CompressionMethod.none}return Se},E.createSecurityParameters=function(X,Y){var ee=X.entity===E.ConnectionEnd.client,Se=Y.random.bytes(),Ee=ee?X.session.sp.client_random:Se,at=ee?Se:E.createRandom().getBytes();X.session.sp={entity:X.entity,prf_algorithm:E.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:X.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:Ee,server_random:at}},E.handleServerHello=function(X,Y,ee){var Se=E.parseHelloMessage(X,Y,ee);if(!X.fail){if(!(Se.version.minor<=X.version.minor))return X.error(X,{message:"Incompatible TLS version.",send:!0,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.protocol_version}});X.version.minor=Se.version.minor,X.session.version=X.version;var Ee=Se.session_id.bytes();Ee.length>0&&Ee===X.session.id?(X.expect=x,X.session.resuming=!0,X.session.sp.server_random=Se.random.bytes()):(X.expect=F,X.session.resuming=!1,E.createSecurityParameters(X,Se)),X.session.id=Ee,X.process()}},E.handleClientHello=function(X,Y,ee){var Se=E.parseHelloMessage(X,Y,ee);if(!X.fail){var Ee=Se.session_id.bytes(),at=null;if(X.sessionCache&&(null===(at=X.sessionCache.getSession(Ee))?Ee="":(at.version.major!==Se.version.major||at.version.minor>Se.version.minor)&&(at=null,Ee="")),0===Ee.length&&(Ee=n.random.getBytes(32)),X.session.id=Ee,X.session.clientHelloVersion=Se.version,X.session.sp={},at)X.version=X.session.version=at.version,X.session.sp=at.sp;else{for(var je,ot=1;ot<E.SupportedVersions.length&&!((je=E.SupportedVersions[ot]).minor<=Se.version.minor);++ot);X.version={major:je.major,minor:je.minor},X.session.version=X.version}null!==at?(X.expect=le,X.session.resuming=!0,X.session.sp.client_random=Se.random.bytes()):(X.expect=!1!==X.verifyClient?U:G,X.session.resuming=!1,E.createSecurityParameters(X,Se)),X.open=!0,E.queue(X,E.createRecord(X,{type:E.ContentType.handshake,data:E.createServerHello(X)})),X.session.resuming?(E.queue(X,E.createRecord(X,{type:E.ContentType.change_cipher_spec,data:E.createChangeCipherSpec()})),X.state.pending=E.createConnectionState(X),X.state.current.write=X.state.pending.write,E.queue(X,E.createRecord(X,{type:E.ContentType.handshake,data:E.createFinished(X)}))):(E.queue(X,E.createRecord(X,{type:E.ContentType.handshake,data:E.createCertificate(X)})),X.fail||(E.queue(X,E.createRecord(X,{type:E.ContentType.handshake,data:E.createServerKeyExchange(X)})),!1!==X.verifyClient&&E.queue(X,E.createRecord(X,{type:E.ContentType.handshake,data:E.createCertificateRequest(X)})),E.queue(X,E.createRecord(X,{type:E.ContentType.handshake,data:E.createServerHelloDone(X)})))),E.flush(X),X.process()}},E.handleCertificate=function(X,Y,ee){if(ee<3)return X.error(X,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.illegal_parameter}});var at,je,Ee={certificate_list:f(Y.fragment,3)},ot=[];try{for(;Ee.certificate_list.length()>0;)at=f(Ee.certificate_list,3),je=n.asn1.fromDer(at),at=n.pki.certificateFromAsn1(je,!0),ot.push(at)}catch(ft){return X.error(X,{message:"Could not parse certificate list.",cause:ft,send:!0,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.bad_certificate}})}var Ft=X.entity===E.ConnectionEnd.client;!Ft&&!0!==X.verifyClient||0!==ot.length?0===ot.length?X.expect=Ft?w:G:(Ft?X.session.serverCertificate=ot[0]:X.session.clientCertificate=ot[0],E.verifyCertificateChain(X,ot)&&(X.expect=Ft?w:G)):X.error(X,{message:Ft?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.illegal_parameter}}),X.process()},E.handleServerKeyExchange=function(X,Y,ee){if(ee>0)return X.error(X,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.unsupported_certificate}});X.expect=C,X.process()},E.handleClientKeyExchange=function(X,Y,ee){if(ee<48)return X.error(X,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.unsupported_certificate}});var Ee={enc_pre_master_secret:f(Y.fragment,2).getBytes()},at=null;if(X.getPrivateKey)try{at=X.getPrivateKey(X,X.session.serverCertificate),at=n.pki.privateKeyFromPem(at)}catch(Ft){X.error(X,{message:"Could not get private key.",cause:Ft,send:!0,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.internal_error}})}if(null===at)return X.error(X,{message:"No private key set.",send:!0,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.internal_error}});try{var je=X.session.sp;je.pre_master_secret=at.decrypt(Ee.enc_pre_master_secret);var ot=X.session.clientHelloVersion;if(ot.major!==je.pre_master_secret.charCodeAt(0)||ot.minor!==je.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch{je.pre_master_secret=n.random.getBytes(48)}X.expect=le,null!==X.session.clientCertificate&&(X.expect=ie),X.process()},E.handleCertificateRequest=function(X,Y,ee){if(ee<3)return X.error(X,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.illegal_parameter}});var Se=Y.fragment,Ee={certificate_types:f(Se,1),certificate_authorities:f(Se,2)};X.session.certificateRequest=Ee,X.expect=R,X.process()},E.handleCertificateVerify=function(X,Y,ee){if(ee<2)return X.error(X,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.illegal_parameter}});var Se=Y.fragment;Se.read-=4;var Ee=Se.bytes();Se.read+=4;var at={signature:f(Se,2).getBytes()},je=n.util.createBuffer();je.putBuffer(X.session.md5.digest()),je.putBuffer(X.session.sha1.digest()),je=je.getBytes();try{if(!X.session.clientCertificate.publicKey.verify(je,at.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");X.session.md5.update(Ee),X.session.sha1.update(Ee)}catch{return X.error(X,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.handshake_failure}})}X.expect=le,X.process()},E.handleServerHelloDone=function(X,Y,ee){if(ee>0)return X.error(X,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.record_overflow}});if(null===X.serverCertificate){var Se={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.insufficient_security}},at=X.verify(X,Se.alert.description,0,[]);if(!0!==at)return(at||0===at)&&("object"!=typeof at||n.util.isArray(at)?"number"==typeof at&&(Se.alert.description=at):(at.message&&(Se.message=at.message),at.alert&&(Se.alert.description=at.alert))),X.error(X,Se)}null!==X.session.certificateRequest&&(Y=E.createRecord(X,{type:E.ContentType.handshake,data:E.createCertificate(X)}),E.queue(X,Y)),Y=E.createRecord(X,{type:E.ContentType.handshake,data:E.createClientKeyExchange(X)}),E.queue(X,Y),X.expect=M;var je=function(ot,Ft){null!==ot.session.certificateRequest&&null!==ot.session.clientCertificate&&E.queue(ot,E.createRecord(ot,{type:E.ContentType.handshake,data:E.createCertificateVerify(ot,Ft)})),E.queue(ot,E.createRecord(ot,{type:E.ContentType.change_cipher_spec,data:E.createChangeCipherSpec()})),ot.state.pending=E.createConnectionState(ot),ot.state.current.write=ot.state.pending.write,E.queue(ot,E.createRecord(ot,{type:E.ContentType.handshake,data:E.createFinished(ot)})),ot.expect=x,E.flush(ot),ot.process()};if(null===X.session.certificateRequest||null===X.session.clientCertificate)return je(X,null);E.getClientSignature(X,je)},E.handleChangeCipherSpec=function(X,Y){if(1!==Y.fragment.getByte())return X.error(X,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.illegal_parameter}});var ee=X.entity===E.ConnectionEnd.client;(X.session.resuming&&ee||!X.session.resuming&&!ee)&&(X.state.pending=E.createConnectionState(X)),X.state.current.read=X.state.pending.read,(!X.session.resuming&&ee||X.session.resuming&&!ee)&&(X.state.pending=null),X.expect=ee?O:L,X.process()},E.handleFinished=function(X,Y,ee){var Se=Y.fragment;Se.read-=4;var Ee=Se.bytes();Se.read+=4;var at=Y.fragment.getBytes();(Se=n.util.createBuffer()).putBuffer(X.session.md5.digest()),Se.putBuffer(X.session.sha1.digest());var je=X.entity===E.ConnectionEnd.client;if((Se=e(X.session.sp.master_secret,je?"server finished":"client finished",Se.getBytes(),12)).getBytes()!==at)return X.error(X,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.decrypt_error}});X.session.md5.update(Ee),X.session.sha1.update(Ee),(X.session.resuming&&je||!X.session.resuming&&!je)&&(E.queue(X,E.createRecord(X,{type:E.ContentType.change_cipher_spec,data:E.createChangeCipherSpec()})),X.state.current.write=X.state.pending.write,X.state.pending=null,E.queue(X,E.createRecord(X,{type:E.ContentType.handshake,data:E.createFinished(X)}))),X.expect=je?H:J,X.handshaking=!1,++X.handshakes,X.peerCertificate=je?X.session.serverCertificate:X.session.clientCertificate,E.flush(X),X.isConnected=!0,X.connected(X),X.process()},E.handleAlert=function(X,Y){var Ee,ee=Y.fragment,Se={level:ee.getByte(),description:ee.getByte()};switch(Se.description){case E.Alert.Description.close_notify:Ee="Connection closed.";break;case E.Alert.Description.unexpected_message:Ee="Unexpected message.";break;case E.Alert.Description.bad_record_mac:Ee="Bad record MAC.";break;case E.Alert.Description.decryption_failed:Ee="Decryption failed.";break;case E.Alert.Description.record_overflow:Ee="Record overflow.";break;case E.Alert.Description.decompression_failure:Ee="Decompression failed.";break;case E.Alert.Description.handshake_failure:Ee="Handshake failure.";break;case E.Alert.Description.bad_certificate:Ee="Bad certificate.";break;case E.Alert.Description.unsupported_certificate:Ee="Unsupported certificate.";break;case E.Alert.Description.certificate_revoked:Ee="Certificate revoked.";break;case E.Alert.Description.certificate_expired:Ee="Certificate expired.";break;case E.Alert.Description.certificate_unknown:Ee="Certificate unknown.";break;case E.Alert.Description.illegal_parameter:Ee="Illegal parameter.";break;case E.Alert.Description.unknown_ca:Ee="Unknown certificate authority.";break;case E.Alert.Description.access_denied:Ee="Access denied.";break;case E.Alert.Description.decode_error:Ee="Decode error.";break;case E.Alert.Description.decrypt_error:Ee="Decrypt error.";break;case E.Alert.Description.export_restriction:Ee="Export restriction.";break;case E.Alert.Description.protocol_version:Ee="Unsupported protocol version.";break;case E.Alert.Description.insufficient_security:Ee="Insufficient security.";break;case E.Alert.Description.internal_error:Ee="Internal error.";break;case E.Alert.Description.user_canceled:Ee="User canceled.";break;case E.Alert.Description.no_renegotiation:Ee="Renegotiation not supported.";break;default:Ee="Unknown error."}if(Se.description===E.Alert.Description.close_notify)return X.close();X.error(X,{message:Ee,send:!1,origin:X.entity===E.ConnectionEnd.client?"server":"client",alert:Se}),X.process()},E.handleHandshake=function(X,Y){var ee=Y.fragment,Se=ee.getByte(),Ee=ee.getInt24();if(Ee>ee.length())return X.fragmented=Y,Y.fragment=n.util.createBuffer(),ee.read-=4,X.process();X.fragmented=null,ee.read-=4;var at=ee.bytes(Ee+4);ee.read+=4,Se in Be[X.entity][X.expect]?(X.entity===E.ConnectionEnd.server&&!X.open&&!X.fail&&(X.handshaking=!0,X.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:n.md.md5.create(),sha1:n.md.sha1.create()}),Se!==E.HandshakeType.hello_request&&Se!==E.HandshakeType.certificate_verify&&Se!==E.HandshakeType.finished&&(X.session.md5.update(at),X.session.sha1.update(at)),Be[X.entity][X.expect][Se](X,Y,Ee)):E.handleUnexpected(X,Y)},E.handleApplicationData=function(X,Y){X.data.putBuffer(Y.fragment),X.dataReady(X),X.process()},E.handleHeartbeat=function(X,Y){var ee=Y.fragment,Se=ee.getByte(),Ee=ee.getInt16(),at=ee.getBytes(Ee);if(Se===E.HeartbeatMessageType.heartbeat_request){if(X.handshaking||Ee>at.length)return X.process();E.queue(X,E.createRecord(X,{type:E.ContentType.heartbeat,data:E.createHeartbeat(E.HeartbeatMessageType.heartbeat_response,at)})),E.flush(X)}else if(Se===E.HeartbeatMessageType.heartbeat_response){if(at!==X.expectedHeartbeatPayload)return X.process();X.heartbeatReceived&&X.heartbeatReceived(X,n.util.createBuffer(at))}X.process()};var F=1,w=2,C=3,R=4,x=5,O=6,H=7,M=8,U=1,G=2,ie=3,le=4,L=5,J=6,I=E.handleUnexpected,oe=E.handleChangeCipherSpec,z=E.handleAlert,_e=E.handleHandshake,Pe=E.handleApplicationData,Re=E.handleHeartbeat,ke=[];ke[E.ConnectionEnd.client]=[[I,z,_e,I,Re],[I,z,_e,I,Re],[I,z,_e,I,Re],[I,z,_e,I,Re],[I,z,_e,I,Re],[oe,z,I,I,Re],[I,z,_e,I,Re],[I,z,_e,Pe,Re],[I,z,_e,I,Re]],ke[E.ConnectionEnd.server]=[[I,z,_e,I,Re],[I,z,_e,I,Re],[I,z,_e,I,Re],[I,z,_e,I,Re],[oe,z,I,I,Re],[I,z,_e,I,Re],[I,z,_e,Pe,Re],[I,z,_e,I,Re]];var Je=E.handleHelloRequest,we=E.handleCertificate,de=E.handleServerKeyExchange,Ve=E.handleCertificateRequest,Ae=E.handleServerHelloDone,rt=E.handleFinished,Be=[];Be[E.ConnectionEnd.client]=[[I,I,E.handleServerHello,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I],[Je,I,I,I,I,I,I,I,I,I,I,we,de,Ve,Ae,I,I,I,I,I,I],[Je,I,I,I,I,I,I,I,I,I,I,I,de,Ve,Ae,I,I,I,I,I,I],[Je,I,I,I,I,I,I,I,I,I,I,I,I,Ve,Ae,I,I,I,I,I,I],[Je,I,I,I,I,I,I,I,I,I,I,I,I,I,Ae,I,I,I,I,I,I],[Je,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I],[Je,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,rt],[Je,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I],[Je,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I]],Be[E.ConnectionEnd.server]=[[I,E.handleClientHello,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I],[I,I,I,I,I,I,I,I,I,I,I,we,I,I,I,I,I,I,I,I,I],[I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,E.handleClientKeyExchange,I,I,I,I],[I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,E.handleCertificateVerify,I,I,I,I,I],[I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I],[I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,rt],[I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I],[I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I]],E.generateKeys=function(X,Y){var ee=e,Se=Y.client_random+Y.server_random;X.session.resuming||(Y.master_secret=ee(Y.pre_master_secret,"master secret",Se,48).bytes(),Y.pre_master_secret=null);var Ee=2*Y.mac_key_length+2*Y.enc_key_length,at=X.version.major===E.Versions.TLS_1_0.major&&X.version.minor===E.Versions.TLS_1_0.minor;at&&(Ee+=2*Y.fixed_iv_length);var je=ee(Y.master_secret,"key expansion",Se=Y.server_random+Y.client_random,Ee),ot={client_write_MAC_key:je.getBytes(Y.mac_key_length),server_write_MAC_key:je.getBytes(Y.mac_key_length),client_write_key:je.getBytes(Y.enc_key_length),server_write_key:je.getBytes(Y.enc_key_length)};return at&&(ot.client_write_IV=je.getBytes(Y.fixed_iv_length),ot.server_write_IV=je.getBytes(Y.fixed_iv_length)),ot},E.createConnectionState=function(X){var Y=X.entity===E.ConnectionEnd.client,ee=function(){var at={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:function(je){return!0},compressionState:null,compressFunction:function(je){return!0},updateSequenceNumber:function(){4294967295===at.sequenceNumber[1]?(at.sequenceNumber[1]=0,++at.sequenceNumber[0]):++at.sequenceNumber[1]}};return at},Se={read:ee(),write:ee()};if(Se.read.update=function(at,je){return Se.read.cipherFunction(je,Se.read)?Se.read.compressFunction(at,je,Se.read)||at.error(at,{message:"Could not decompress record.",send:!0,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.decompression_failure}}):at.error(at,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.bad_record_mac}}),!at.fail},Se.write.update=function(at,je){return Se.write.compressFunction(at,je,Se.write)?Se.write.cipherFunction(je,Se.write)||at.error(at,{message:"Could not encrypt record.",send:!1,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.internal_error}}):at.error(at,{message:"Could not compress record.",send:!1,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.internal_error}}),!at.fail},X.session){var Ee=X.session.sp;switch(X.session.cipherSuite.initSecurityParameters(Ee),Ee.keys=E.generateKeys(X,Ee),Se.read.macKey=Y?Ee.keys.server_write_MAC_key:Ee.keys.client_write_MAC_key,Se.write.macKey=Y?Ee.keys.client_write_MAC_key:Ee.keys.server_write_MAC_key,X.session.cipherSuite.initConnectionState(Se,X,Ee),Ee.compression_algorithm){case E.CompressionMethod.none:break;case E.CompressionMethod.deflate:Se.read.compressFunction=v,Se.write.compressFunction=S;break;default:throw new Error("Unsupported compression algorithm.")}}return Se},E.createRandom=function(){var X=new Date,Y=+X+6e4*X.getTimezoneOffset(),ee=n.util.createBuffer();return ee.putInt32(Y),ee.putBytes(n.random.getBytes(28)),ee},E.createRecord=function(X,Y){return Y.data?{type:Y.type,version:{major:X.version.major,minor:X.version.minor},length:Y.data.length(),fragment:Y.data}:null},E.createAlert=function(X,Y){var ee=n.util.createBuffer();return ee.putByte(Y.level),ee.putByte(Y.description),E.createRecord(X,{type:E.ContentType.alert,data:ee})},E.createClientHello=function(X){X.session.clientHelloVersion={major:X.version.major,minor:X.version.minor};for(var Y=n.util.createBuffer(),ee=0;ee<X.cipherSuites.length;++ee){var Se=X.cipherSuites[ee];Y.putByte(Se.id[0]),Y.putByte(Se.id[1])}var Ee=Y.length(),at=n.util.createBuffer();at.putByte(E.CompressionMethod.none);var je=at.length(),ot=n.util.createBuffer();if(X.virtualHost){var Ft=n.util.createBuffer();Ft.putByte(0),Ft.putByte(0);var ft=n.util.createBuffer();ft.putByte(0),d(ft,2,n.util.createBuffer(X.virtualHost));var nt=n.util.createBuffer();d(nt,2,ft),d(Ft,2,nt),ot.putBuffer(Ft)}var Wt=ot.length();Wt>0&&(Wt+=2);var tn=X.session.id,it=tn.length+1+2+4+28+2+Ee+1+je+Wt,Ot=n.util.createBuffer();return Ot.putByte(E.HandshakeType.client_hello),Ot.putInt24(it),Ot.putByte(X.version.major),Ot.putByte(X.version.minor),Ot.putBytes(X.session.sp.client_random),d(Ot,1,n.util.createBuffer(tn)),d(Ot,2,Y),d(Ot,1,at),Wt>0&&d(Ot,2,ot),Ot},E.createServerHello=function(X){var Y=X.session.id,ee=Y.length+1+2+4+28+2+1,Se=n.util.createBuffer();return Se.putByte(E.HandshakeType.server_hello),Se.putInt24(ee),Se.putByte(X.version.major),Se.putByte(X.version.minor),Se.putBytes(X.session.sp.server_random),d(Se,1,n.util.createBuffer(Y)),Se.putByte(X.session.cipherSuite.id[0]),Se.putByte(X.session.cipherSuite.id[1]),Se.putByte(X.session.compressionMethod),Se},E.createCertificate=function(X){var Y=X.entity===E.ConnectionEnd.client,ee=null;X.getCertificate&&(ee=X.getCertificate(X,Y?X.session.certificateRequest:X.session.extensions.server_name.serverNameList));var Ee=n.util.createBuffer();if(null!==ee)try{n.util.isArray(ee)||(ee=[ee]);for(var at=null,je=0;je<ee.length;++je){var ot=n.pem.decode(ee[je])[0];if("CERTIFICATE"!==ot.type&&"X509 CERTIFICATE"!==ot.type&&"TRUSTED CERTIFICATE"!==ot.type){var Ft=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw Ft.headerType=ot.type,Ft}if(ot.procType&&"ENCRYPTED"===ot.procType.type)throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var ft=n.util.createBuffer(ot.body);null===at&&(at=n.asn1.fromDer(ft.bytes(),!1));var nt=n.util.createBuffer();d(nt,3,ft),Ee.putBuffer(nt)}ee=n.pki.certificateFromAsn1(at),Y?X.session.clientCertificate=ee:X.session.serverCertificate=ee}catch(it){return X.error(X,{message:"Could not send certificate list.",cause:it,send:!0,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.bad_certificate}})}var Wt=3+Ee.length(),tn=n.util.createBuffer();return tn.putByte(E.HandshakeType.certificate),tn.putInt24(Wt),d(tn,3,Ee),tn},E.createClientKeyExchange=function(X){var Y=n.util.createBuffer();Y.putByte(X.session.clientHelloVersion.major),Y.putByte(X.session.clientHelloVersion.minor),Y.putBytes(n.random.getBytes(46));var ee=X.session.sp;ee.pre_master_secret=Y.getBytes();var Ee=(Y=X.session.serverCertificate.publicKey.encrypt(ee.pre_master_secret)).length+2,at=n.util.createBuffer();return at.putByte(E.HandshakeType.client_key_exchange),at.putInt24(Ee),at.putInt16(Y.length),at.putBytes(Y),at},E.createServerKeyExchange=function(X){return n.util.createBuffer()},E.getClientSignature=function(X,Y){var ee=n.util.createBuffer();ee.putBuffer(X.session.md5.digest()),ee.putBuffer(X.session.sha1.digest()),ee=ee.getBytes(),X.getSignature=X.getSignature||function(Se,Ee,at){var je=null;if(Se.getPrivateKey)try{je=Se.getPrivateKey(Se,Se.session.clientCertificate),je=n.pki.privateKeyFromPem(je)}catch(ot){Se.error(Se,{message:"Could not get private key.",cause:ot,send:!0,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.internal_error}})}null===je?Se.error(Se,{message:"No private key set.",send:!0,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.internal_error}}):Ee=je.sign(Ee,null),at(Se,Ee)},X.getSignature(X,ee,Y)},E.createCertificateVerify=function(X,Y){var ee=Y.length+2,Se=n.util.createBuffer();return Se.putByte(E.HandshakeType.certificate_verify),Se.putInt24(ee),Se.putInt16(Y.length),Se.putBytes(Y),Se},E.createCertificateRequest=function(X){var Y=n.util.createBuffer();Y.putByte(1);var ee=n.util.createBuffer();for(var Se in X.caStore.certs){var at=n.pki.distinguishedNameToAsn1(X.caStore.certs[Se].subject),je=n.asn1.toDer(at);ee.putInt16(je.length()),ee.putBuffer(je)}var ot=1+Y.length()+2+ee.length(),Ft=n.util.createBuffer();return Ft.putByte(E.HandshakeType.certificate_request),Ft.putInt24(ot),d(Ft,1,Y),d(Ft,2,ee),Ft},E.createServerHelloDone=function(X){var Y=n.util.createBuffer();return Y.putByte(E.HandshakeType.server_hello_done),Y.putInt24(0),Y},E.createChangeCipherSpec=function(){var X=n.util.createBuffer();return X.putByte(1),X},E.createFinished=function(X){var Y=n.util.createBuffer();Y.putBuffer(X.session.md5.digest()),Y.putBuffer(X.session.sha1.digest()),Y=e(X.session.sp.master_secret,X.entity===E.ConnectionEnd.client?"client finished":"server finished",Y.getBytes(),12);var ot=n.util.createBuffer();return ot.putByte(E.HandshakeType.finished),ot.putInt24(Y.length()),ot.putBuffer(Y),ot},E.createHeartbeat=function(X,Y,ee){typeof ee>"u"&&(ee=Y.length);var Se=n.util.createBuffer();Se.putByte(X),Se.putInt16(ee),Se.putBytes(Y);var Ee=Se.length(),at=Math.max(16,Ee-ee-3);return Se.putBytes(n.random.getBytes(at)),Se},E.queue=function(X,Y){if(Y&&(0!==Y.fragment.length()||Y.type!==E.ContentType.handshake&&Y.type!==E.ContentType.alert&&Y.type!==E.ContentType.change_cipher_spec)){if(Y.type===E.ContentType.handshake){var ee=Y.fragment.bytes();X.session.md5.update(ee),X.session.sha1.update(ee),ee=null}var Se;if(Y.fragment.length()<=E.MaxFragment)Se=[Y];else{Se=[];for(var Ee=Y.fragment.bytes();Ee.length>E.MaxFragment;)Se.push(E.createRecord(X,{type:Y.type,data:n.util.createBuffer(Ee.slice(0,E.MaxFragment))})),Ee=Ee.slice(E.MaxFragment);Ee.length>0&&Se.push(E.createRecord(X,{type:Y.type,data:n.util.createBuffer(Ee)}))}for(var at=0;at<Se.length&&!X.fail;++at){var je=Se[at];X.state.current.write.update(X,je)&&X.records.push(je)}}},E.flush=function(X){for(var Y=0;Y<X.records.length;++Y){var ee=X.records[Y];X.tlsData.putByte(ee.type),X.tlsData.putByte(ee.version.major),X.tlsData.putByte(ee.version.minor),X.tlsData.putInt16(ee.fragment.length()),X.tlsData.putBuffer(X.records[Y].fragment)}return X.records=[],X.tlsDataReady(X)};var Ut=function(X){switch(X){case!0:return!0;case n.pki.certificateError.bad_certificate:return E.Alert.Description.bad_certificate;case n.pki.certificateError.unsupported_certificate:return E.Alert.Description.unsupported_certificate;case n.pki.certificateError.certificate_revoked:return E.Alert.Description.certificate_revoked;case n.pki.certificateError.certificate_expired:return E.Alert.Description.certificate_expired;case n.pki.certificateError.certificate_unknown:return E.Alert.Description.certificate_unknown;case n.pki.certificateError.unknown_ca:return E.Alert.Description.unknown_ca;default:return E.Alert.Description.bad_certificate}};for(var _t in E.verifyCertificateChain=function(X,Y){try{var ee={};for(var Se in X.verifyOptions)ee[Se]=X.verifyOptions[Se];ee.verify=function(at,je,ot){Ut(at);var ft=X.verify(X,at,je,ot);if(!0!==ft){if("object"==typeof ft&&!n.util.isArray(ft)){var nt=new Error("The application rejected the certificate.");throw nt.send=!0,nt.alert={level:E.Alert.Level.fatal,description:E.Alert.Description.bad_certificate},ft.message&&(nt.message=ft.message),ft.alert&&(nt.alert.description=ft.alert),nt}ft!==at&&(ft=function(X){switch(X){case!0:return!0;case E.Alert.Description.bad_certificate:return n.pki.certificateError.bad_certificate;case E.Alert.Description.unsupported_certificate:return n.pki.certificateError.unsupported_certificate;case E.Alert.Description.certificate_revoked:return n.pki.certificateError.certificate_revoked;case E.Alert.Description.certificate_expired:return n.pki.certificateError.certificate_expired;case E.Alert.Description.certificate_unknown:return n.pki.certificateError.certificate_unknown;case E.Alert.Description.unknown_ca:return n.pki.certificateError.unknown_ca;default:return n.pki.certificateError.bad_certificate}}(ft))}return ft},n.pki.verifyCertificateChain(X.caStore,Y,ee)}catch(at){var Ee=at;("object"!=typeof Ee||n.util.isArray(Ee))&&(Ee={send:!0,alert:{level:E.Alert.Level.fatal,description:Ut(at)}}),"send"in Ee||(Ee.send=!0),"alert"in Ee||(Ee.alert={level:E.Alert.Level.fatal,description:Ut(Ee.error)}),X.error(X,Ee)}return!X.fail},E.createSessionCache=function(X,Y){var ee=null;if(X&&X.getSession&&X.setSession&&X.order)ee=X;else{for(var Se in(ee={}).cache=X||{},ee.capacity=Math.max(Y||100,1),ee.order=[],X)ee.order.length<=Y?ee.order.push(Se):delete X[Se];ee.getSession=function(Ee){var at=null,je=null;if(Ee?je=n.util.bytesToHex(Ee):ee.order.length>0&&(je=ee.order[0]),null!==je&&je in ee.cache)for(var ot in at=ee.cache[je],delete ee.cache[je],ee.order)if(ee.order[ot]===je){ee.order.splice(ot,1);break}return at},ee.setSession=function(Ee,at){if(ee.order.length===ee.capacity){var je=ee.order.shift();delete ee.cache[je]}je=n.util.bytesToHex(Ee),ee.order.push(je),ee.cache[je]=at}}return ee},E.createConnection=function(X){var Y;Y=X.caStore?n.util.isArray(X.caStore)?n.pki.createCaStore(X.caStore):X.caStore:n.pki.createCaStore();var ee=X.cipherSuites||null;if(null===ee)for(var Se in ee=[],E.CipherSuites)ee.push(E.CipherSuites[Se]);var Ee=X.server?E.ConnectionEnd.server:E.ConnectionEnd.client,at=X.sessionCache?E.createSessionCache(X.sessionCache):null,je={version:{major:E.Version.major,minor:E.Version.minor},entity:Ee,sessionId:X.sessionId,caStore:Y,sessionCache:at,cipherSuites:ee,connected:X.connected,virtualHost:X.virtualHost||null,verifyClient:X.verifyClient||!1,verify:X.verify||function(nt,Wt,tn,it){return Wt},verifyOptions:X.verifyOptions||{},getCertificate:X.getCertificate||null,getPrivateKey:X.getPrivateKey||null,getSignature:X.getSignature||null,input:n.util.createBuffer(),tlsData:n.util.createBuffer(),data:n.util.createBuffer(),tlsDataReady:X.tlsDataReady,dataReady:X.dataReady,heartbeatReceived:X.heartbeatReceived,closed:X.closed,error:function(nt,Wt){Wt.origin=Wt.origin||(nt.entity===E.ConnectionEnd.client?"client":"server"),Wt.send&&(E.queue(nt,E.createAlert(nt,Wt.alert)),E.flush(nt));var tn=!1!==Wt.fatal;tn&&(nt.fail=!0),X.error(nt,Wt),tn&&nt.close(!1)},deflate:X.deflate||null,inflate:X.inflate||null,reset:function(nt){je.version={major:E.Version.major,minor:E.Version.minor},je.record=null,je.session=null,je.peerCertificate=null,je.state={pending:null,current:null},je.expect=0,je.fragmented=null,je.records=[],je.open=!1,je.handshakes=0,je.handshaking=!1,je.isConnected=!1,je.fail=!(nt||typeof nt>"u"),je.input.clear(),je.tlsData.clear(),je.data.clear(),je.state.current=E.createConnectionState(je)}};return je.reset(),je.handshake=function(nt){if(je.entity!==E.ConnectionEnd.client)je.error(je,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(je.handshaking)je.error(je,{message:"Handshake already in progress.",fatal:!1});else{je.fail&&!je.open&&0===je.handshakes&&(je.fail=!1),je.handshaking=!0;var Wt=null;(nt=nt||"").length>0&&(je.sessionCache&&(Wt=je.sessionCache.getSession(nt)),null===Wt&&(nt="")),0===nt.length&&je.sessionCache&&null!==(Wt=je.sessionCache.getSession())&&(nt=Wt.id),je.session={id:nt,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:n.md.md5.create(),sha1:n.md.sha1.create()},Wt&&(je.version=Wt.version,je.session.sp=Wt.sp),je.session.sp.client_random=E.createRandom().getBytes(),je.open=!0,E.queue(je,E.createRecord(je,{type:E.ContentType.handshake,data:E.createClientHello(je)})),E.flush(je)}},je.process=function(nt){var Wt=0;return nt&&je.input.putBytes(nt),je.fail||(null!==je.record&&je.record.ready&&je.record.fragment.isEmpty()&&(je.record=null),null===je.record&&(Wt=function(nt){var Wt=0,tn=nt.input,it=tn.length();if(it<5)Wt=5-it;else{nt.record={type:tn.getByte(),version:{major:tn.getByte(),minor:tn.getByte()},length:tn.getInt16(),fragment:n.util.createBuffer(),ready:!1};var Ot=nt.record.version.major===nt.version.major;Ot&&nt.session&&nt.session.version&&(Ot=nt.record.version.minor===nt.version.minor),Ot||nt.error(nt,{message:"Incompatible TLS version.",send:!0,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.protocol_version}})}return Wt}(je)),!je.fail&&null!==je.record&&!je.record.ready&&(Wt=function(nt){var Wt=0,tn=nt.input,it=tn.length();return it<nt.record.length?Wt=nt.record.length-it:(nt.record.fragment.putBytes(tn.getBytes(nt.record.length)),tn.compact(),nt.state.current.read.update(nt,nt.record)&&(null!==nt.fragmented&&(nt.fragmented.type===nt.record.type?(nt.fragmented.fragment.putBuffer(nt.record.fragment),nt.record=nt.fragmented):nt.error(nt,{message:"Invalid fragmented record.",send:!0,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.unexpected_message}})),nt.record.ready=!0)),Wt}(je)),!je.fail&&null!==je.record&&je.record.ready&&function(nt,Wt){var tn=Wt.type-E.ContentType.change_cipher_spec,it=ke[nt.entity][nt.expect];tn in it?it[tn](nt,Wt):E.handleUnexpected(nt,Wt)}(je,je.record)),Wt},je.prepare=function(nt){return E.queue(je,E.createRecord(je,{type:E.ContentType.application_data,data:n.util.createBuffer(nt)})),E.flush(je)},je.prepareHeartbeatRequest=function(nt,Wt){return nt instanceof n.util.ByteBuffer&&(nt=nt.bytes()),typeof Wt>"u"&&(Wt=nt.length),je.expectedHeartbeatPayload=nt,E.queue(je,E.createRecord(je,{type:E.ContentType.heartbeat,data:E.createHeartbeat(E.HeartbeatMessageType.heartbeat_request,nt,Wt)})),E.flush(je)},je.close=function(nt){if(!je.fail&&je.sessionCache&&je.session){var Wt={id:je.session.id,version:je.session.version,sp:je.session.sp};Wt.sp.keys=null,je.sessionCache.setSession(Wt.id,Wt)}je.open&&(je.open=!1,je.input.clear(),(je.isConnected||je.handshaking)&&(je.isConnected=je.handshaking=!1,E.queue(je,E.createAlert(je,{level:E.Alert.Level.warning,description:E.Alert.Description.close_notify})),E.flush(je)),je.closed(je)),je.reset(nt)},je},qe.exports=n.tls=n.tls||{},E)"function"!=typeof E[_t]&&(n.tls[_t]=E[_t]);n.tls.prf_tls1=e,n.tls.hmac_sha1=function(X,Y,ee){var Se=n.hmac.create();Se.start("SHA1",X);var Ee=n.util.createBuffer();return Ee.putInt32(Y[0]),Ee.putInt32(Y[1]),Ee.putByte(ee.type),Ee.putByte(ee.version.major),Ee.putByte(ee.version.minor),Ee.putInt16(ee.length),Ee.putBytes(ee.fragment.bytes()),Se.update(Ee.getBytes()),Se.digest().getBytes()},n.tls.createSessionCache=E.createSessionCache,n.tls.createConnection=E.createConnection},812:(qe,me,u)=>{var n=u(6589),e=u(3175),_=qe.exports=n.util=n.util||{};function g(M){if(8!==M&&16!==M&&24!==M&&32!==M)throw new Error("Only 8, 16, 24, or 32 bits supported: "+M)}function S(M){if(this.data="",this.read=0,"string"==typeof M)this.data=M;else if(_.isArrayBuffer(M)||_.isArrayBufferView(M))if(typeof Buffer<"u"&&M instanceof Buffer)this.data=M.toString("binary");else{var V=new Uint8Array(M);try{this.data=String.fromCharCode.apply(null,V)}catch{for(var U=0;U<V.length;++U)this.putByte(V[U])}}else(M instanceof S||"object"==typeof M&&"string"==typeof M.data&&"number"==typeof M.read)&&(this.data=M.data,this.read=M.read);this._constructedStringLength=0}(function(){if(typeof process<"u"&&process.nextTick&&!process.browser)return _.nextTick=process.nextTick,void(_.setImmediate="function"==typeof setImmediate?setImmediate:_.nextTick);if("function"==typeof setImmediate)return _.setImmediate=function(){return setImmediate.apply(void 0,arguments)},void(_.nextTick=function(J){return setImmediate(J)});if(_.setImmediate=function(J){setTimeout(J,0)},typeof window<"u"&&"function"==typeof window.postMessage){let J=function(te){if(te.source===window&&te.data===M){te.stopPropagation();var I=V.slice();V.length=0,I.forEach(function(oe){oe()})}};var M="forge.setImmediate",V=[];_.setImmediate=function(te){V.push(te),1===V.length&&window.postMessage(M,"*")},window.addEventListener("message",J,!0)}if(typeof MutationObserver<"u"){var U=Date.now(),G=!0,ie=document.createElement("div");V=[],new MutationObserver(function(){var te=V.slice();V.length=0,te.forEach(function(I){I()})}).observe(ie,{attributes:!0});var le=_.setImmediate;_.setImmediate=function(te){Date.now()-U>15?(U=Date.now(),le(te)):(V.push(te),1===V.length&&ie.setAttribute("a",G=!G))}}_.nextTick=_.setImmediate})(),_.isNodejs=typeof process<"u"&&process.versions&&process.versions.node,_.globalScope=_.isNodejs?global:typeof self>"u"?window:self,_.isArray=Array.isArray||function(M){return"[object Array]"===Object.prototype.toString.call(M)},_.isArrayBuffer=function(M){return typeof ArrayBuffer<"u"&&M instanceof ArrayBuffer},_.isArrayBufferView=function(M){return M&&_.isArrayBuffer(M.buffer)&&void 0!==M.byteLength},_.ByteBuffer=S,_.ByteStringBuffer=S,_.ByteStringBuffer.prototype._optimizeConstructedString=function(M){this._constructedStringLength+=M,this._constructedStringLength>4096&&(this.data.substr(0,1),this._constructedStringLength=0)},_.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},_.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0},_.ByteStringBuffer.prototype.putByte=function(M){return this.putBytes(String.fromCharCode(M))},_.ByteStringBuffer.prototype.fillWithByte=function(M,V){M=String.fromCharCode(M);for(var U=this.data;V>0;)1&V&&(U+=M),(V>>>=1)>0&&(M+=M);return this.data=U,this._optimizeConstructedString(V),this},_.ByteStringBuffer.prototype.putBytes=function(M){return this.data+=M,this._optimizeConstructedString(M.length),this},_.ByteStringBuffer.prototype.putString=function(M){return this.putBytes(_.encodeUtf8(M))},_.ByteStringBuffer.prototype.putInt16=function(M){return this.putBytes(String.fromCharCode(M>>8&255)+String.fromCharCode(255&M))},_.ByteStringBuffer.prototype.putInt24=function(M){return this.putBytes(String.fromCharCode(M>>16&255)+String.fromCharCode(M>>8&255)+String.fromCharCode(255&M))},_.ByteStringBuffer.prototype.putInt32=function(M){return this.putBytes(String.fromCharCode(M>>24&255)+String.fromCharCode(M>>16&255)+String.fromCharCode(M>>8&255)+String.fromCharCode(255&M))},_.ByteStringBuffer.prototype.putInt16Le=function(M){return this.putBytes(String.fromCharCode(255&M)+String.fromCharCode(M>>8&255))},_.ByteStringBuffer.prototype.putInt24Le=function(M){return this.putBytes(String.fromCharCode(255&M)+String.fromCharCode(M>>8&255)+String.fromCharCode(M>>16&255))},_.ByteStringBuffer.prototype.putInt32Le=function(M){return this.putBytes(String.fromCharCode(255&M)+String.fromCharCode(M>>8&255)+String.fromCharCode(M>>16&255)+String.fromCharCode(M>>24&255))},_.ByteStringBuffer.prototype.putInt=function(M,V){g(V);var U="";do{V-=8,U+=String.fromCharCode(M>>V&255)}while(V>0);return this.putBytes(U)},_.ByteStringBuffer.prototype.putSignedInt=function(M,V){return M<0&&(M+=2<<V-1),this.putInt(M,V)},_.ByteStringBuffer.prototype.putBuffer=function(M){return this.putBytes(M.getBytes())},_.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},_.ByteStringBuffer.prototype.getInt16=function(){var M=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,M},_.ByteStringBuffer.prototype.getInt24=function(){var M=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,M},_.ByteStringBuffer.prototype.getInt32=function(){var M=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,M},_.ByteStringBuffer.prototype.getInt16Le=function(){var M=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,M},_.ByteStringBuffer.prototype.getInt24Le=function(){var M=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,M},_.ByteStringBuffer.prototype.getInt32Le=function(){var M=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,M},_.ByteStringBuffer.prototype.getInt=function(M){g(M);var V=0;do{V=(V<<8)+this.data.charCodeAt(this.read++),M-=8}while(M>0);return V},_.ByteStringBuffer.prototype.getSignedInt=function(M){var V=this.getInt(M),U=2<<M-2;return V>=U&&(V-=U<<1),V},_.ByteStringBuffer.prototype.getBytes=function(M){var V;return M?(M=Math.min(this.length(),M),V=this.data.slice(this.read,this.read+M),this.read+=M):0===M?V="":(V=0===this.read?this.data:this.data.slice(this.read),this.clear()),V},_.ByteStringBuffer.prototype.bytes=function(M){return typeof M>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+M)},_.ByteStringBuffer.prototype.at=function(M){return this.data.charCodeAt(this.read+M)},_.ByteStringBuffer.prototype.setAt=function(M,V){return this.data=this.data.substr(0,this.read+M)+String.fromCharCode(V)+this.data.substr(this.read+M+1),this},_.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},_.ByteStringBuffer.prototype.copy=function(){var M=_.createBuffer(this.data);return M.read=this.read,M},_.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},_.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this},_.ByteStringBuffer.prototype.truncate=function(M){var V=Math.max(0,this.length()-M);return this.data=this.data.substr(this.read,V),this.read=0,this},_.ByteStringBuffer.prototype.toHex=function(){for(var M="",V=this.read;V<this.data.length;++V){var U=this.data.charCodeAt(V);U<16&&(M+="0"),M+=U.toString(16)}return M},_.ByteStringBuffer.prototype.toString=function(){return _.decodeUtf8(this.bytes())},_.DataBuffer=function f(M,V){this.read=(V=V||{}).readOffset||0,this.growSize=V.growSize||1024;var U=_.isArrayBuffer(M),G=_.isArrayBufferView(M);if(U||G)return this.data=U?new DataView(M):new DataView(M.buffer,M.byteOffset,M.byteLength),void(this.write="writeOffset"in V?V.writeOffset:this.data.byteLength);this.data=new DataView(new ArrayBuffer(0)),this.write=0,null!=M&&this.putBytes(M),"writeOffset"in V&&(this.write=V.writeOffset)},_.DataBuffer.prototype.length=function(){return this.write-this.read},_.DataBuffer.prototype.isEmpty=function(){return this.length()<=0},_.DataBuffer.prototype.accommodate=function(M,V){if(this.length()>=M)return this;V=Math.max(V||this.growSize,M);var U=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),G=new Uint8Array(this.length()+V);return G.set(U),this.data=new DataView(G.buffer),this},_.DataBuffer.prototype.putByte=function(M){return this.accommodate(1),this.data.setUint8(this.write++,M),this},_.DataBuffer.prototype.fillWithByte=function(M,V){this.accommodate(V);for(var U=0;U<V;++U)this.data.setUint8(M);return this},_.DataBuffer.prototype.putBytes=function(M,V){if(_.isArrayBufferView(M)){var G=(U=new Uint8Array(M.buffer,M.byteOffset,M.byteLength)).byteLength-U.byteOffset;return this.accommodate(G),new Uint8Array(this.data.buffer,this.write).set(U),this.write+=G,this}if(_.isArrayBuffer(M)){var U=new Uint8Array(M);return this.accommodate(U.byteLength),new Uint8Array(this.data.buffer).set(U,this.write),this.write+=U.byteLength,this}if(M instanceof _.DataBuffer||"object"==typeof M&&"number"==typeof M.read&&"number"==typeof M.write&&_.isArrayBufferView(M.data))return U=new Uint8Array(M.data.byteLength,M.read,M.length()),this.accommodate(U.byteLength),new Uint8Array(M.data.byteLength,this.write).set(U),this.write+=U.byteLength,this;if(M instanceof _.ByteStringBuffer&&(M=M.data,V="binary"),V=V||"binary","string"==typeof M){var le;if("hex"===V)return this.accommodate(Math.ceil(M.length/2)),le=new Uint8Array(this.data.buffer,this.write),this.write+=_.binary.hex.decode(M,le,this.write),this;if("base64"===V)return this.accommodate(3*Math.ceil(M.length/4)),le=new Uint8Array(this.data.buffer,this.write),this.write+=_.binary.base64.decode(M,le,this.write),this;if("utf8"===V&&(M=_.encodeUtf8(M),V="binary"),"binary"===V||"raw"===V)return this.accommodate(M.length),le=new Uint8Array(this.data.buffer,this.write),this.write+=_.binary.raw.decode(le),this;if("utf16"===V)return this.accommodate(2*M.length),le=new Uint16Array(this.data.buffer,this.write),this.write+=_.text.utf16.encode(le),this;throw new Error("Invalid encoding: "+V)}throw Error("Invalid parameter: "+M)},_.DataBuffer.prototype.putBuffer=function(M){return this.putBytes(M),M.clear(),this},_.DataBuffer.prototype.putString=function(M){return this.putBytes(M,"utf16")},_.DataBuffer.prototype.putInt16=function(M){return this.accommodate(2),this.data.setInt16(this.write,M),this.write+=2,this},_.DataBuffer.prototype.putInt24=function(M){return this.accommodate(3),this.data.setInt16(this.write,M>>8&65535),this.data.setInt8(this.write,M>>16&255),this.write+=3,this},_.DataBuffer.prototype.putInt32=function(M){return this.accommodate(4),this.data.setInt32(this.write,M),this.write+=4,this},_.DataBuffer.prototype.putInt16Le=function(M){return this.accommodate(2),this.data.setInt16(this.write,M,!0),this.write+=2,this},_.DataBuffer.prototype.putInt24Le=function(M){return this.accommodate(3),this.data.setInt8(this.write,M>>16&255),this.data.setInt16(this.write,M>>8&65535,!0),this.write+=3,this},_.DataBuffer.prototype.putInt32Le=function(M){return this.accommodate(4),this.data.setInt32(this.write,M,!0),this.write+=4,this},_.DataBuffer.prototype.putInt=function(M,V){g(V),this.accommodate(V/8);do{V-=8,this.data.setInt8(this.write++,M>>V&255)}while(V>0);return this},_.DataBuffer.prototype.putSignedInt=function(M,V){return g(V),this.accommodate(V/8),M<0&&(M+=2<<V-1),this.putInt(M,V)},_.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)},_.DataBuffer.prototype.getInt16=function(){var M=this.data.getInt16(this.read);return this.read+=2,M},_.DataBuffer.prototype.getInt24=function(){var M=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,M},_.DataBuffer.prototype.getInt32=function(){var M=this.data.getInt32(this.read);return this.read+=4,M},_.DataBuffer.prototype.getInt16Le=function(){var M=this.data.getInt16(this.read,!0);return this.read+=2,M},_.DataBuffer.prototype.getInt24Le=function(){var M=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,M},_.DataBuffer.prototype.getInt32Le=function(){var M=this.data.getInt32(this.read,!0);return this.read+=4,M},_.DataBuffer.prototype.getInt=function(M){g(M);var V=0;do{V=(V<<8)+this.data.getInt8(this.read++),M-=8}while(M>0);return V},_.DataBuffer.prototype.getSignedInt=function(M){var V=this.getInt(M),U=2<<M-2;return V>=U&&(V-=U<<1),V},_.DataBuffer.prototype.getBytes=function(M){var V;return M?(M=Math.min(this.length(),M),V=this.data.slice(this.read,this.read+M),this.read+=M):0===M?V="":(V=0===this.read?this.data:this.data.slice(this.read),this.clear()),V},_.DataBuffer.prototype.bytes=function(M){return typeof M>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+M)},_.DataBuffer.prototype.at=function(M){return this.data.getUint8(this.read+M)},_.DataBuffer.prototype.setAt=function(M,V){return this.data.setUint8(M,V),this},_.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)},_.DataBuffer.prototype.copy=function(){return new _.DataBuffer(this)},_.DataBuffer.prototype.compact=function(){if(this.read>0){var M=new Uint8Array(this.data.buffer,this.read),V=new Uint8Array(M.byteLength);V.set(M),this.data=new DataView(V),this.write-=this.read,this.read=0}return this},_.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this},_.DataBuffer.prototype.truncate=function(M){return this.write=Math.max(0,this.length()-M),this.read=Math.min(this.read,this.write),this},_.DataBuffer.prototype.toHex=function(){for(var M="",V=this.read;V<this.data.byteLength;++V){var U=this.data.getUint8(V);U<16&&(M+="0"),M+=U.toString(16)}return M},_.DataBuffer.prototype.toString=function(M){var V=new Uint8Array(this.data,this.read,this.length());if("binary"===(M=M||"utf8")||"raw"===M)return _.binary.raw.encode(V);if("hex"===M)return _.binary.hex.encode(V);if("base64"===M)return _.binary.base64.encode(V);if("utf8"===M)return _.text.utf8.decode(V);if("utf16"===M)return _.text.utf16.decode(V);throw new Error("Invalid encoding: "+M)},_.createBuffer=function(M,V){return V=V||"raw",void 0!==M&&"utf8"===V&&(M=_.encodeUtf8(M)),new _.ByteBuffer(M)},_.fillString=function(M,V){for(var U="";V>0;)1&V&&(U+=M),(V>>>=1)>0&&(M+=M);return U},_.xorBytes=function(M,V,U){for(var G="",ie="",le="",L=0,J=0;U>0;--U,++L)ie=M.charCodeAt(L)^V.charCodeAt(L),J>=10&&(G+=le,le="",J=0),le+=String.fromCharCode(ie),++J;return G+le},_.hexToBytes=function(M){var V="",U=0;for(!0&M.length&&(U=1,V+=String.fromCharCode(parseInt(M[0],16)));U<M.length;U+=2)V+=String.fromCharCode(parseInt(M.substr(U,2),16));return V},_.bytesToHex=function(M){return _.createBuffer(M).toHex()},_.int32ToBytes=function(M){return String.fromCharCode(M>>24&255)+String.fromCharCode(M>>16&255)+String.fromCharCode(M>>8&255)+String.fromCharCode(255&M)};var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",E=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],m="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";_.encode64=function(M,V){for(var ie,le,L,U="",G="",J=0;J<M.length;)ie=M.charCodeAt(J++),le=M.charCodeAt(J++),L=M.charCodeAt(J++),U+=d.charAt(ie>>2),U+=d.charAt((3&ie)<<4|le>>4),isNaN(le)?U+="==":(U+=d.charAt((15&le)<<2|L>>6),U+=isNaN(L)?"=":d.charAt(63&L)),V&&U.length>V&&(G+=U.substr(0,V)+"\r\n",U=U.substr(V));return G+U},_.decode64=function(M){M=M.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var U,G,ie,le,V="",L=0;L<M.length;)U=E[M.charCodeAt(L++)-43],G=E[M.charCodeAt(L++)-43],ie=E[M.charCodeAt(L++)-43],le=E[M.charCodeAt(L++)-43],V+=String.fromCharCode(U<<2|G>>4),64!==ie&&(V+=String.fromCharCode((15&G)<<4|ie>>2),64!==le&&(V+=String.fromCharCode((3&ie)<<6|le)));return V},_.encodeUtf8=function(M){return unescape(encodeURIComponent(M))},_.decodeUtf8=function(M){return decodeURIComponent(escape(M))},_.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:e.encode,decode:e.decode}},_.binary.raw.encode=function(M){return String.fromCharCode.apply(null,M)},_.binary.raw.decode=function(M,V,U){var G=V;G||(G=new Uint8Array(M.length));for(var ie=U=U||0,le=0;le<M.length;++le)G[ie++]=M.charCodeAt(le);return V?ie-U:G},_.binary.hex.encode=_.bytesToHex,_.binary.hex.decode=function(M,V,U){var G=V;G||(G=new Uint8Array(Math.ceil(M.length/2)));var ie=0,le=U=U||0;for(1&M.length&&(ie=1,G[le++]=parseInt(M[0],16));ie<M.length;ie+=2)G[le++]=parseInt(M.substr(ie,2),16);return V?le-U:G},_.binary.base64.encode=function(M,V){for(var ie,le,L,U="",G="",J=0;J<M.byteLength;)ie=M[J++],le=M[J++],L=M[J++],U+=d.charAt(ie>>2),U+=d.charAt((3&ie)<<4|le>>4),isNaN(le)?U+="==":(U+=d.charAt((15&le)<<2|L>>6),U+=isNaN(L)?"=":d.charAt(63&L)),V&&U.length>V&&(G+=U.substr(0,V)+"\r\n",U=U.substr(V));return G+U},_.binary.base64.decode=function(M,V,U){var G=V;G||(G=new Uint8Array(3*Math.ceil(M.length/4))),M=M.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var ie,le,L,J,te=0,I=U=U||0;te<M.length;)ie=E[M.charCodeAt(te++)-43],le=E[M.charCodeAt(te++)-43],L=E[M.charCodeAt(te++)-43],J=E[M.charCodeAt(te++)-43],G[I++]=ie<<2|le>>4,64!==L&&(G[I++]=(15&le)<<4|L>>2,64!==J&&(G[I++]=(3&L)<<6|J));return V?I-U:G.subarray(0,I)},_.binary.base58.encode=function(M,V){return _.binary.baseN.encode(M,m,V)},_.binary.base58.decode=function(M,V){return _.binary.baseN.decode(M,m,V)},_.text={utf8:{},utf16:{}},_.text.utf8.encode=function(M,V,U){M=_.encodeUtf8(M);var G=V;G||(G=new Uint8Array(M.length));for(var ie=U=U||0,le=0;le<M.length;++le)G[ie++]=M.charCodeAt(le);return V?ie-U:G},_.text.utf8.decode=function(M){return _.decodeUtf8(String.fromCharCode.apply(null,M))},_.text.utf16.encode=function(M,V,U){var G=V;G||(G=new Uint8Array(2*M.length));for(var ie=new Uint16Array(G.buffer),le=U=U||0,L=U,J=0;J<M.length;++J)ie[L++]=M.charCodeAt(J),le+=2;return V?le-U:G},_.text.utf16.decode=function(M){return String.fromCharCode.apply(null,new Uint16Array(M.buffer))},_.deflate=function(M,V,U){if(V=_.decode64(M.deflate(_.encode64(V)).rval),U){var G=2;32&V.charCodeAt(1)&&(G=6),V=V.substring(G,V.length-4)}return V},_.inflate=function(M,V,U){var G=M.inflate(_.encode64(V)).rval;return null===G?null:_.decode64(G)};var F=function(M,V,U){if(!M)throw new Error("WebStorage not available.");var G;if(null===U?G=M.removeItem(V):(U=_.encode64(JSON.stringify(U)),G=M.setItem(V,U)),typeof G<"u"&&!0!==G.rval){var ie=new Error(G.error.message);throw ie.id=G.error.id,ie.name=G.error.name,ie}},w=function(M,V){if(!M)throw new Error("WebStorage not available.");var U=M.getItem(V);if(M.init)if(null===U.rval){if(U.error){var G=new Error(U.error.message);throw G.id=U.error.id,G.name=U.error.name,G}U=null}else U=U.rval;return null!==U&&(U=JSON.parse(_.decode64(U))),U},C=function(M,V,U,G){var ie=w(M,V);null===ie&&(ie={}),ie[U]=G,F(M,V,ie)},R=function(M,V,U){var G=w(M,V);return null!==G&&(G=U in G?G[U]:null),G},x=function(M,V,U){var G=w(M,V);if(null!==G&&U in G){delete G[U];var ie=!0;for(var le in G){ie=!1;break}ie&&(G=null),F(M,V,G)}},O=function(M,V){F(M,V,null)},H=function(M,V,U){var G=null;typeof U>"u"&&(U=["web","flash"]);var ie,le=!1,L=null;for(var J in U){ie=U[J];try{if("flash"===ie||"both"===ie){if(null===V[0])throw new Error("Flash local storage not available.");G=M.apply(this,V),le="flash"===ie}("web"===ie||"both"===ie)&&(V[0]=localStorage,G=M.apply(this,V),le=!0)}catch(te){L=te}if(le)break}if(!le)throw L;return G};_.setItem=function(M,V,U,G,ie){H(C,arguments,ie)},_.getItem=function(M,V,U,G){return H(R,arguments,G)},_.removeItem=function(M,V,U,G){H(x,arguments,G)},_.clearItems=function(M,V,U){H(O,arguments,U)},_.isEmpty=function(M){for(var V in M)if(M.hasOwnProperty(V))return!1;return!0},_.format=function(M){for(var U,G,V=/%./g,ie=0,le=[],L=0;U=V.exec(M);){(G=M.substring(L,V.lastIndex-2)).length>0&&le.push(G),L=V.lastIndex;var J=U[0][1];switch(J){case"s":case"o":le.push(ie<arguments.length?arguments[1+ie++]:"<?>");break;case"%":le.push("%");break;default:le.push("<%"+J+"?>")}}return le.push(M.substring(L)),le.join("")},_.formatNumber=function(M,V,U,G){var ie=M,le=isNaN(V=Math.abs(V))?2:V,L=void 0===U?",":U,J=void 0===G?".":G,te=ie<0?"-":"",I=parseInt(ie=Math.abs(+ie||0).toFixed(le),10)+"",oe=I.length>3?I.length%3:0;return te+(oe?I.substr(0,oe)+J:"")+I.substr(oe).replace(/(\d{3})(?=\d)/g,"$1"+J)+(le?L+Math.abs(ie-I).toFixed(le).slice(2):"")},_.formatSize=function(M){return M>=1073741824?_.formatNumber(M/1073741824,2,".","")+" GiB":M>=1048576?_.formatNumber(M/1048576,2,".","")+" MiB":M>=1024?_.formatNumber(M/1024,0)+" KiB":_.formatNumber(M,0)+" bytes"},_.bytesFromIP=function(M){return-1!==M.indexOf(".")?_.bytesFromIPv4(M):-1!==M.indexOf(":")?_.bytesFromIPv6(M):null},_.bytesFromIPv4=function(M){if(4!==(M=M.split(".")).length)return null;for(var V=_.createBuffer(),U=0;U<M.length;++U){var G=parseInt(M[U],10);if(isNaN(G))return null;V.putByte(G)}return V.getBytes()},_.bytesFromIPv6=function(M){for(var V=0,U=2*(8-(M=M.split(":").filter(function(L){return 0===L.length&&++V,!0})).length+V),G=_.createBuffer(),ie=0;ie<8;++ie)if(M[ie]&&0!==M[ie].length){var le=_.hexToBytes(M[ie]);le.length<2&&G.putByte(0),G.putBytes(le)}else G.fillWithByte(0,U),U=0;return G.getBytes()},_.bytesToIP=function(M){return 4===M.length?_.bytesToIPv4(M):16===M.length?_.bytesToIPv6(M):null},_.bytesToIPv4=function(M){if(4!==M.length)return null;for(var V=[],U=0;U<M.length;++U)V.push(M.charCodeAt(U));return V.join(".")},_.bytesToIPv6=function(M){if(16!==M.length)return null;for(var V=[],U=[],G=0,ie=0;ie<M.length;ie+=2){for(var le=_.bytesToHex(M[ie]+M[ie+1]);"0"===le[0]&&"0"!==le;)le=le.substr(1);if("0"===le){var L=U[U.length-1],J=V.length;L&&J===L.end+1?(L.end=J,L.end-L.start>U[G].end-U[G].start&&(G=U.length-1)):U.push({start:J,end:J})}V.push(le)}if(U.length>0){var te=U[G];te.end-te.start>0&&(V.splice(te.start,te.end-te.start+1,""),0===te.start&&V.unshift(""),7===te.end&&V.push(""))}return V.join(":")},_.estimateCores=function(M,V){if("function"==typeof M&&(V=M,M={}),M=M||{},"cores"in _&&!M.update)return V(null,_.cores);if(typeof navigator<"u"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return _.cores=navigator.hardwareConcurrency,V(null,_.cores);if(typeof Worker>"u")return _.cores=1,V(null,_.cores);if(typeof Blob>"u")return _.cores=2,V(null,_.cores);var U=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(L){for(var J=Date.now(),te=J+4;Date.now()<te;);self.postMessage({st:J,et:te})})}.toString(),")()"],{type:"application/javascript"}));!function G(L,J,te){if(0===J){var I=Math.floor(L.reduce(function(oe,z){return oe+z},0)/L.length);return _.cores=Math.max(1,I),URL.revokeObjectURL(U),V(null,_.cores)}!function ie(L,J){for(var te=[],I=[],oe=0;oe<L;++oe){var z=new Worker(U);z.addEventListener("message",function(_e){if(I.push(_e.data),I.length===L){for(var Pe=0;Pe<L;++Pe)te[Pe].terminate();J(null,I)}}),te.push(z)}for(oe=0;oe<L;++oe)te[oe].postMessage(oe)}(te,function(oe,z){L.push(function le(L,J){for(var te=[],I=0;I<L;++I)for(var oe=J[I],z=te[I]=[],_e=0;_e<L;++_e)if(I!==_e){var Pe=J[_e];(oe.st>Pe.st&&oe.st<Pe.et||Pe.st>oe.st&&Pe.st<oe.et)&&z.push(_e)}return te.reduce(function(Re,ke){return Math.max(Re,ke.length)},0)}(te,z)),G(L,J-1,te)})}([],5,16)}},9436:(qe,me,u)=>{var n=u(6589);u(57),u(7097),u(3674),u(5437),u(8040),u(1817),u(9368),u(8588),u(2880),u(812);var e=n.asn1,_=qe.exports=n.pki=n.pki||{},g=_.oids,S={};S.CN=g.commonName,S.commonName="CN",S.C=g.countryName,S.countryName="C",S.L=g.localityName,S.localityName="L",S.ST=g.stateOrProvinceName,S.stateOrProvinceName="ST",S.O=g.organizationName,S.organizationName="O",S.OU=g.organizationalUnitName,S.organizationalUnitName="OU",S.E=g.emailAddress,S.emailAddress="E";var v=n.pki.rsa.publicKeyValidator,f={name:"Certificate",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:e.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:e.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:e.Class.UNIVERSAL,type:e.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:e.Class.UNIVERSAL,type:e.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:e.Class.UNIVERSAL,type:e.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:e.Class.UNIVERSAL,type:e.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},v,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:e.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:e.Class.UNIVERSAL,type:e.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:e.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:e.Class.UNIVERSAL,type:e.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:e.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:e.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:e.Class.UNIVERSAL,type:e.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},d={name:"rsapss",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:e.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:e.Class.UNIVERSAL,type:e.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:e.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:e.Class.UNIVERSAL,type:e.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:e.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:e.Class.UNIVERSAL,type:e.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:e.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:e.Class.UNIVERSAL,type:e.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},m={name:"CertificationRequest",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[{name:"CertificationRequestInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},v,{name:"CertificationRequestInfo.attributes",tagClass:e.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:e.Class.UNIVERSAL,type:e.Type.SET,constructed:!0}]}]}]},{name:"CertificationRequest.signatureAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:e.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:e.Class.UNIVERSAL,type:e.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};function F(L,J){"string"==typeof J&&(J={shortName:J});for(var I,te=null,oe=0;null===te&&oe<L.attributes.length;++oe)I=L.attributes[oe],(J.type&&J.type===I.type||J.name&&J.name===I.name||J.shortName&&J.shortName===I.shortName)&&(te=I);return te}_.RDNAttributesAsArray=function(L,J){for(var I,oe,z,te=[],_e=0;_e<L.value.length;++_e){I=L.value[_e];for(var Pe=0;Pe<I.value.length;++Pe)(z={}).type=e.derToOid((oe=I.value[Pe]).value[0].value),z.value=oe.value[1].value,z.valueTagClass=oe.value[1].type,z.type in g&&(z.name=g[z.type],z.name in S&&(z.shortName=S[z.name])),J&&(J.update(z.type),J.update(z.value)),te.push(z)}return te},_.CRIAttributesAsArray=function(L){for(var J=[],te=0;te<L.length;++te)for(var I=L[te],oe=e.derToOid(I.value[0].value),z=I.value[1].value,_e=0;_e<z.length;++_e){var Pe={};if(Pe.type=oe,Pe.value=z[_e].value,Pe.valueTagClass=z[_e].type,Pe.type in g&&(Pe.name=g[Pe.type],Pe.name in S&&(Pe.shortName=S[Pe.name])),Pe.type===g.extensionRequest){Pe.extensions=[];for(var Re=0;Re<Pe.value.length;++Re)Pe.extensions.push(_.certificateExtensionFromAsn1(Pe.value[Re]))}J.push(Pe)}return J};var w=function(L,J,te){var I={};if(L!==g["RSASSA-PSS"])return I;te&&(I={hash:{algorithmOid:g.sha1},mgf:{algorithmOid:g.mgf1,hash:{algorithmOid:g.sha1}},saltLength:20});var oe={},z=[];if(!e.validate(J,d,oe,z)){var _e=new Error("Cannot read RSASSA-PSS parameter block.");throw _e.errors=z,_e}return void 0!==oe.hashOid&&(I.hash=I.hash||{},I.hash.algorithmOid=e.derToOid(oe.hashOid)),void 0!==oe.maskGenOid&&(I.mgf=I.mgf||{},I.mgf.algorithmOid=e.derToOid(oe.maskGenOid),I.mgf.hash=I.mgf.hash||{},I.mgf.hash.algorithmOid=e.derToOid(oe.maskGenHashOid)),void 0!==oe.saltLength&&(I.saltLength=oe.saltLength.charCodeAt(0)),I},C=function(L){switch(g[L.signatureOid]){case"sha1WithRSAEncryption":case"sha1WithRSASignature":return n.md.sha1.create();case"md5WithRSAEncryption":return n.md.md5.create();case"sha256WithRSAEncryption":case"RSASSA-PSS":return n.md.sha256.create();case"sha384WithRSAEncryption":return n.md.sha384.create();case"sha512WithRSAEncryption":return n.md.sha512.create();default:var J=new Error("Could not compute "+L.type+" digest. Unknown signature OID.");throw J.signatureOid=L.signatureOid,J}},R=function(L){var te,J=L.certificate;switch(J.signatureOid){case g.sha1WithRSAEncryption:case g.sha1WithRSASignature:break;case g["RSASSA-PSS"]:var I,oe,z;if(void 0===(I=g[J.signatureParameters.mgf.hash.algorithmOid])||void 0===n.md[I])throw(z=new Error("Unsupported MGF hash function.")).oid=J.signatureParameters.mgf.hash.algorithmOid,z.name=I,z;if(void 0===(oe=g[J.signatureParameters.mgf.algorithmOid])||void 0===n.mgf[oe])throw(z=new Error("Unsupported MGF function.")).oid=J.signatureParameters.mgf.algorithmOid,z.name=oe,z;if(oe=n.mgf[oe].create(n.md[I].create()),void 0===(I=g[J.signatureParameters.hash.algorithmOid])||void 0===n.md[I])throw(z=new Error("Unsupported RSASSA-PSS hash function.")).oid=J.signatureParameters.hash.algorithmOid,z.name=I,z;te=n.pss.create(n.md[I].create(),oe,J.signatureParameters.saltLength)}return J.publicKey.verify(L.md.digest().getBytes(),L.signature,te)};function x(L){for(var te,I,J=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]),oe=L.attributes,z=0;z<oe.length;++z){var _e=(te=oe[z]).value,Pe=e.Type.PRINTABLESTRING;"valueTagClass"in te&&(Pe=te.valueTagClass)===e.Type.UTF8&&(_e=n.util.encodeUtf8(_e)),I=e.create(e.Class.UNIVERSAL,e.Type.SET,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(te.type).getBytes()),e.create(e.Class.UNIVERSAL,Pe,!1,_e)])]),J.value.push(I)}return J}function H(L){for(var J,te=0;te<L.length;++te){if(typeof(J=L[te]).name>"u"&&(J.type&&J.type in _.oids?J.name=_.oids[J.type]:J.shortName&&J.shortName in S&&(J.name=_.oids[S[J.shortName]])),typeof J.type>"u"){if(!J.name||!(J.name in _.oids))throw(I=new Error("Attribute type not specified.")).attribute=J,I;J.type=_.oids[J.name]}if(typeof J.shortName>"u"&&J.name&&J.name in S&&(J.shortName=S[J.name]),J.type===g.extensionRequest&&(J.valueConstructed=!0,J.valueTagClass=e.Type.SEQUENCE,!J.value&&J.extensions)){J.value=[];for(var oe=0;oe<J.extensions.length;++oe)J.value.push(_.certificateExtensionToAsn1(M(J.extensions[oe])))}var I;if(typeof J.value>"u")throw(I=new Error("Attribute value not specified.")).attribute=J,I}}function M(L,J){if(J=J||{},typeof L.name>"u"&&L.id&&L.id in _.oids&&(L.name=_.oids[L.id]),typeof L.id>"u"){if(!L.name||!(L.name in _.oids))throw(te=new Error("Extension ID not specified.")).extension=L,te;L.id=_.oids[L.name]}if(typeof L.value<"u")return L;if("keyUsage"===L.name){var I=0,oe=0,z=0;L.digitalSignature&&(oe|=128,I=7),L.nonRepudiation&&(oe|=64,I=6),L.keyEncipherment&&(oe|=32,I=5),L.dataEncipherment&&(oe|=16,I=4),L.keyAgreement&&(oe|=8,I=3),L.keyCertSign&&(oe|=4,I=2),L.cRLSign&&(oe|=2,I=1),L.encipherOnly&&(oe|=1,I=0),L.decipherOnly&&(z|=128,I=7);var _e=String.fromCharCode(I);0!==z?_e+=String.fromCharCode(oe)+String.fromCharCode(z):0!==oe&&(_e+=String.fromCharCode(oe)),L.value=e.create(e.Class.UNIVERSAL,e.Type.BITSTRING,!1,_e)}else if("basicConstraints"===L.name)L.value=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]),L.cA&&L.value.value.push(e.create(e.Class.UNIVERSAL,e.Type.BOOLEAN,!1,"\xff")),"pathLenConstraint"in L&&L.value.value.push(e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(L.pathLenConstraint).getBytes()));else if("extKeyUsage"===L.name){L.value=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]);var Pe=L.value.value;for(var Re in L)!0===L[Re]&&(Re in g?Pe.push(e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(g[Re]).getBytes())):-1!==Re.indexOf(".")&&Pe.push(e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(Re).getBytes())))}else if("nsCertType"===L.name)I=0,oe=0,L.client&&(oe|=128,I=7),L.server&&(oe|=64,I=6),L.email&&(oe|=32,I=5),L.objsign&&(oe|=16,I=4),L.reserved&&(oe|=8,I=3),L.sslCA&&(oe|=4,I=2),L.emailCA&&(oe|=2,I=1),L.objCA&&(oe|=1,I=0),_e=String.fromCharCode(I),0!==oe&&(_e+=String.fromCharCode(oe)),L.value=e.create(e.Class.UNIVERSAL,e.Type.BITSTRING,!1,_e);else if("subjectAltName"===L.name||"issuerAltName"===L.name){L.value=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]);for(var Je=0;Je<L.altNames.length;++Je){if(_e=(ke=L.altNames[Je]).value,7===ke.type&&ke.ip){if(null===(_e=n.util.bytesFromIP(ke.ip)))throw(te=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=L,te}else 8===ke.type&&(_e=e.oidToDer(ke.oid?e.oidToDer(ke.oid):_e));L.value.value.push(e.create(e.Class.CONTEXT_SPECIFIC,ke.type,!1,_e))}}else if("nsComment"===L.name&&J.cert){if(!/^[\x00-\x7F]*$/.test(L.comment)||L.comment.length<1||L.comment.length>128)throw new Error('Invalid "nsComment" content.');L.value=e.create(e.Class.UNIVERSAL,e.Type.IA5STRING,!1,L.comment)}else if("subjectKeyIdentifier"===L.name&&J.cert){var Te=J.cert.generateSubjectKeyIdentifier();L.subjectKeyIdentifier=Te.toHex(),L.value=e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,Te.getBytes())}else if("authorityKeyIdentifier"===L.name&&J.cert){if(L.value=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]),Pe=L.value.value,L.keyIdentifier){var we=!0===L.keyIdentifier?J.cert.generateSubjectKeyIdentifier().getBytes():L.keyIdentifier;Pe.push(e.create(e.Class.CONTEXT_SPECIFIC,0,!1,we))}if(L.authorityCertIssuer){var de=[e.create(e.Class.CONTEXT_SPECIFIC,4,!0,[x(!0===L.authorityCertIssuer?J.cert.issuer:L.authorityCertIssuer)])];Pe.push(e.create(e.Class.CONTEXT_SPECIFIC,1,!0,de))}if(L.serialNumber){var Ve=n.util.hexToBytes(!0===L.serialNumber?J.cert.serialNumber:L.serialNumber);Pe.push(e.create(e.Class.CONTEXT_SPECIFIC,2,!1,Ve))}}else if("cRLDistributionPoints"===L.name){L.value=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]),Pe=L.value.value;var ke,Ae=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]),rt=e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[]);for(Je=0;Je<L.altNames.length;++Je){if(_e=(ke=L.altNames[Je]).value,7===ke.type&&ke.ip){if(null===(_e=n.util.bytesFromIP(ke.ip)))throw(te=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=L,te}else 8===ke.type&&(_e=e.oidToDer(ke.oid?e.oidToDer(ke.oid):_e));rt.value.push(e.create(e.Class.CONTEXT_SPECIFIC,ke.type,!1,_e))}Ae.value.push(e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[rt])),Pe.push(Ae)}var te;if(typeof L.value>"u")throw(te=new Error("Extension value not specified.")).extension=L,te;return L}function V(L,J){if(L===g["RSASSA-PSS"]){var te=[];return void 0!==J.hash.algorithmOid&&te.push(e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(J.hash.algorithmOid).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")])])),void 0!==J.mgf.algorithmOid&&te.push(e.create(e.Class.CONTEXT_SPECIFIC,1,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(J.mgf.algorithmOid).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(J.mgf.hash.algorithmOid).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")])])])),void 0!==J.saltLength&&te.push(e.create(e.Class.CONTEXT_SPECIFIC,2,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(J.saltLength).getBytes())])),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,te)}return e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")}function U(L){var J=e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[]);if(0===L.attributes.length)return J;for(var te=L.attributes,I=0;I<te.length;++I){var oe=te[I],z=oe.value,_e=e.Type.UTF8;"valueTagClass"in oe&&(_e=oe.valueTagClass),_e===e.Type.UTF8&&(z=n.util.encodeUtf8(z));var Pe=!1;"valueConstructed"in oe&&(Pe=oe.valueConstructed);var Re=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(oe.type).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SET,!0,[e.create(e.Class.UNIVERSAL,_e,Pe,z)])]);J.value.push(Re)}return J}_.certificateFromPem=function(L,J,te){var I=n.pem.decode(L)[0];if("CERTIFICATE"!==I.type&&"X509 CERTIFICATE"!==I.type&&"TRUSTED CERTIFICATE"!==I.type){var oe=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw oe.headerType=I.type,oe}if(I.procType&&"ENCRYPTED"===I.procType.type)throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var z=e.fromDer(I.body,te);return _.certificateFromAsn1(z,J)},_.certificateToPem=function(L,J){var te={type:"CERTIFICATE",body:e.toDer(_.certificateToAsn1(L)).getBytes()};return n.pem.encode(te,{maxline:J})},_.publicKeyFromPem=function(L){var J=n.pem.decode(L)[0];if("PUBLIC KEY"!==J.type&&"RSA PUBLIC KEY"!==J.type){var te=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw te.headerType=J.type,te}if(J.procType&&"ENCRYPTED"===J.procType.type)throw new Error("Could not convert public key from PEM; PEM is encrypted.");var I=e.fromDer(J.body);return _.publicKeyFromAsn1(I)},_.publicKeyToPem=function(L,J){var te={type:"PUBLIC KEY",body:e.toDer(_.publicKeyToAsn1(L)).getBytes()};return n.pem.encode(te,{maxline:J})},_.publicKeyToRSAPublicKeyPem=function(L,J){var te={type:"RSA PUBLIC KEY",body:e.toDer(_.publicKeyToRSAPublicKey(L)).getBytes()};return n.pem.encode(te,{maxline:J})},_.getPublicKeyFingerprint=function(L,J){var oe,te=(J=J||{}).md||n.md.sha1.create();switch(J.type||"RSAPublicKey"){case"RSAPublicKey":oe=e.toDer(_.publicKeyToRSAPublicKey(L)).getBytes();break;case"SubjectPublicKeyInfo":oe=e.toDer(_.publicKeyToAsn1(L)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+J.type+'".')}te.start(),te.update(oe);var z=te.digest();if("hex"===J.encoding){var _e=z.toHex();return J.delimiter?_e.match(/.{2}/g).join(J.delimiter):_e}if("binary"===J.encoding)return z.getBytes();if(J.encoding)throw new Error('Unknown encoding "'+J.encoding+'".');return z},_.certificationRequestFromPem=function(L,J,te){var I=n.pem.decode(L)[0];if("CERTIFICATE REQUEST"!==I.type){var oe=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw oe.headerType=I.type,oe}if(I.procType&&"ENCRYPTED"===I.procType.type)throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var z=e.fromDer(I.body,te);return _.certificationRequestFromAsn1(z,J)},_.certificationRequestToPem=function(L,J){var te={type:"CERTIFICATE REQUEST",body:e.toDer(_.certificationRequestToAsn1(L)).getBytes()};return n.pem.encode(te,{maxline:J})},_.createCertificate=function(){var L={version:2,serialNumber:"00",signatureOid:null,signature:null,siginfo:{}};return L.siginfo.algorithmOid=null,L.validity={},L.validity.notBefore=new Date,L.validity.notAfter=new Date,L.issuer={},L.issuer.getField=function(J){return F(L.issuer,J)},L.issuer.addField=function(J){H([J]),L.issuer.attributes.push(J)},L.issuer.attributes=[],L.issuer.hash=null,L.subject={},L.subject.getField=function(J){return F(L.subject,J)},L.subject.addField=function(J){H([J]),L.subject.attributes.push(J)},L.subject.attributes=[],L.subject.hash=null,L.extensions=[],L.publicKey=null,L.md=null,L.setSubject=function(J,te){H(J),L.subject.attributes=J,delete L.subject.uniqueId,te&&(L.subject.uniqueId=te),L.subject.hash=null},L.setIssuer=function(J,te){H(J),L.issuer.attributes=J,delete L.issuer.uniqueId,te&&(L.issuer.uniqueId=te),L.issuer.hash=null},L.setExtensions=function(J){for(var te=0;te<J.length;++te)M(J[te],{cert:L});L.extensions=J},L.getExtension=function(J){"string"==typeof J&&(J={name:J});for(var I,te=null,oe=0;null===te&&oe<L.extensions.length;++oe)I=L.extensions[oe],(J.id&&I.id===J.id||J.name&&I.name===J.name)&&(te=I);return te},L.sign=function(J,te){L.md=te||n.md.sha1.create();var I=g[L.md.algorithm+"WithRSAEncryption"];if(!I){var oe=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw oe.algorithm=L.md.algorithm,oe}L.signatureOid=L.siginfo.algorithmOid=I,L.tbsCertificate=_.getTBSCertificate(L);var z=e.toDer(L.tbsCertificate);L.md.update(z.getBytes()),L.signature=J.sign(L.md)},L.verify=function(J){var te=!1;if(!L.issued(J)){var I=J.issuer,oe=L.subject,z=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");throw z.expectedIssuer=oe.attributes,z.actualIssuer=I.attributes,z}var _e=J.md;if(null===_e){_e=C({signatureOid:J.signatureOid,type:"certificate"});var Pe=J.tbsCertificate||_.getTBSCertificate(J),Re=e.toDer(Pe);_e.update(Re.getBytes())}return null!==_e&&(te=R({certificate:L,md:_e,signature:J.signature})),te},L.isIssuer=function(J){var te=!1,I=L.issuer,oe=J.subject;if(I.hash&&oe.hash)te=I.hash===oe.hash;else if(I.attributes.length===oe.attributes.length){te=!0;for(var z,_e,Pe=0;te&&Pe<I.attributes.length;++Pe)((z=I.attributes[Pe]).type!==(_e=oe.attributes[Pe]).type||z.value!==_e.value)&&(te=!1)}return te},L.issued=function(J){return J.isIssuer(L)},L.generateSubjectKeyIdentifier=function(){return _.getPublicKeyFingerprint(L.publicKey,{type:"RSAPublicKey"})},L.verifySubjectKeyIdentifier=function(){for(var J=g.subjectKeyIdentifier,te=0;te<L.extensions.length;++te){var I=L.extensions[te];if(I.id===J){var oe=L.generateSubjectKeyIdentifier().getBytes();return n.util.hexToBytes(I.subjectKeyIdentifier)===oe}}return!1},L},_.certificateFromAsn1=function(L,J){var te={},I=[];if(!e.validate(L,f,te,I)){var oe=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");throw oe.errors=I,oe}if(e.derToOid(te.publicKeyOid)!==_.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var _e=_.createCertificate();_e.version=te.certVersion?te.certVersion.charCodeAt(0):0;var Pe=n.util.createBuffer(te.certSerialNumber);_e.serialNumber=Pe.toHex(),_e.signatureOid=n.asn1.derToOid(te.certSignatureOid),_e.signatureParameters=w(_e.signatureOid,te.certSignatureParams,!0),_e.siginfo.algorithmOid=n.asn1.derToOid(te.certinfoSignatureOid),_e.siginfo.parameters=w(_e.siginfo.algorithmOid,te.certinfoSignatureParams,!1),_e.signature=te.certSignature;var Re=[];if(void 0!==te.certValidity1UTCTime&&Re.push(e.utcTimeToDate(te.certValidity1UTCTime)),void 0!==te.certValidity2GeneralizedTime&&Re.push(e.generalizedTimeToDate(te.certValidity2GeneralizedTime)),void 0!==te.certValidity3UTCTime&&Re.push(e.utcTimeToDate(te.certValidity3UTCTime)),void 0!==te.certValidity4GeneralizedTime&&Re.push(e.generalizedTimeToDate(te.certValidity4GeneralizedTime)),Re.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(Re.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(_e.validity.notBefore=Re[0],_e.validity.notAfter=Re[1],_e.tbsCertificate=te.tbsCertificate,J){_e.md=C({signatureOid:_e.signatureOid,type:"certificate"});var ke=e.toDer(_e.tbsCertificate);_e.md.update(ke.getBytes())}var Je=n.md.sha1.create(),Te=e.toDer(te.certIssuer);Je.update(Te.getBytes()),_e.issuer.getField=function(Ve){return F(_e.issuer,Ve)},_e.issuer.addField=function(Ve){H([Ve]),_e.issuer.attributes.push(Ve)},_e.issuer.attributes=_.RDNAttributesAsArray(te.certIssuer),te.certIssuerUniqueId&&(_e.issuer.uniqueId=te.certIssuerUniqueId),_e.issuer.hash=Je.digest().toHex();var we=n.md.sha1.create(),de=e.toDer(te.certSubject);return we.update(de.getBytes()),_e.subject.getField=function(Ve){return F(_e.subject,Ve)},_e.subject.addField=function(Ve){H([Ve]),_e.subject.attributes.push(Ve)},_e.subject.attributes=_.RDNAttributesAsArray(te.certSubject),te.certSubjectUniqueId&&(_e.subject.uniqueId=te.certSubjectUniqueId),_e.subject.hash=we.digest().toHex(),_e.extensions=te.certExtensions?_.certificateExtensionsFromAsn1(te.certExtensions):[],_e.publicKey=_.publicKeyFromAsn1(te.subjectPublicKeyInfo),_e},_.certificateExtensionsFromAsn1=function(L){for(var J=[],te=0;te<L.value.length;++te)for(var I=L.value[te],oe=0;oe<I.value.length;++oe)J.push(_.certificateExtensionFromAsn1(I.value[oe]));return J},_.certificateExtensionFromAsn1=function(L){var J={};if(J.id=e.derToOid(L.value[0].value),J.critical=!1,L.value[1].type===e.Type.BOOLEAN?(J.critical=0!==L.value[1].value.charCodeAt(0),J.value=L.value[2].value):J.value=L.value[1].value,J.id in g)if(J.name=g[J.id],"keyUsage"===J.name){var I=0,oe=0;(te=e.fromDer(J.value)).value.length>1&&(I=te.value.charCodeAt(1),oe=te.value.length>2?te.value.charCodeAt(2):0),J.digitalSignature=!(128&~I),J.nonRepudiation=!(64&~I),J.keyEncipherment=!(32&~I),J.dataEncipherment=!(16&~I),J.keyAgreement=!(8&~I),J.keyCertSign=!(4&~I),J.cRLSign=!(2&~I),J.encipherOnly=!(1&~I),J.decipherOnly=!(128&~oe)}else if("basicConstraints"===J.name){var te=e.fromDer(J.value);J.cA=te.value.length>0&&te.value[0].type===e.Type.BOOLEAN&&0!==te.value[0].value.charCodeAt(0);var z=null;te.value.length>0&&te.value[0].type===e.Type.INTEGER?z=te.value[0].value:te.value.length>1&&(z=te.value[1].value),null!==z&&(J.pathLenConstraint=e.derToInteger(z))}else if("extKeyUsage"===J.name){te=e.fromDer(J.value);for(var _e=0;_e<te.value.length;++_e){var Pe=e.derToOid(te.value[_e].value);Pe in g?J[g[Pe]]=!0:J[Pe]=!0}}else if("nsCertType"===J.name)I=0,(te=e.fromDer(J.value)).value.length>1&&(I=te.value.charCodeAt(1)),J.client=!(128&~I),J.server=!(64&~I),J.email=!(32&~I),J.objsign=!(16&~I),J.reserved=!(8&~I),J.sslCA=!(4&~I),J.emailCA=!(2&~I),J.objCA=!(1&~I);else if("subjectAltName"===J.name||"issuerAltName"===J.name){J.altNames=[],te=e.fromDer(J.value);for(var Re,ke=0;ke<te.value.length;++ke){var Je={type:(Re=te.value[ke]).type,value:Re.value};switch(J.altNames.push(Je),Re.type){case 1:case 2:case 6:break;case 7:Je.ip=n.util.bytesToIP(Re.value);break;case 8:Je.oid=e.derToOid(Re.value)}}}else"subjectKeyIdentifier"===J.name&&(te=e.fromDer(J.value),J.subjectKeyIdentifier=n.util.bytesToHex(te.value));return J},_.certificationRequestFromAsn1=function(L,J){var te={},I=[];if(!e.validate(L,m,te,I)){var oe=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");throw oe.errors=I,oe}if(e.derToOid(te.publicKeyOid)!==_.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var _e=_.createCertificationRequest();if(_e.version=te.csrVersion?te.csrVersion.charCodeAt(0):0,_e.signatureOid=n.asn1.derToOid(te.csrSignatureOid),_e.signatureParameters=w(_e.signatureOid,te.csrSignatureParams,!0),_e.siginfo.algorithmOid=n.asn1.derToOid(te.csrSignatureOid),_e.siginfo.parameters=w(_e.siginfo.algorithmOid,te.csrSignatureParams,!1),_e.signature=te.csrSignature,_e.certificationRequestInfo=te.certificationRequestInfo,J){_e.md=C({signatureOid:_e.signatureOid,type:"certification request"});var Pe=e.toDer(_e.certificationRequestInfo);_e.md.update(Pe.getBytes())}var Re=n.md.sha1.create();return _e.subject.getField=function(ke){return F(_e.subject,ke)},_e.subject.addField=function(ke){H([ke]),_e.subject.attributes.push(ke)},_e.subject.attributes=_.RDNAttributesAsArray(te.certificationRequestInfoSubject,Re),_e.subject.hash=Re.digest().toHex(),_e.publicKey=_.publicKeyFromAsn1(te.subjectPublicKeyInfo),_e.getAttribute=function(ke){return F(_e,ke)},_e.addAttribute=function(ke){H([ke]),_e.attributes.push(ke)},_e.attributes=_.CRIAttributesAsArray(te.certificationRequestInfoAttributes||[]),_e},_.createCertificationRequest=function(){var L={version:0,signatureOid:null,signature:null,siginfo:{}};return L.siginfo.algorithmOid=null,L.subject={},L.subject.getField=function(J){return F(L.subject,J)},L.subject.addField=function(J){H([J]),L.subject.attributes.push(J)},L.subject.attributes=[],L.subject.hash=null,L.publicKey=null,L.attributes=[],L.getAttribute=function(J){return F(L,J)},L.addAttribute=function(J){H([J]),L.attributes.push(J)},L.md=null,L.setSubject=function(J){H(J),L.subject.attributes=J,L.subject.hash=null},L.setAttributes=function(J){H(J),L.attributes=J},L.sign=function(J,te){L.md=te||n.md.sha1.create();var I=g[L.md.algorithm+"WithRSAEncryption"];if(!I){var oe=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw oe.algorithm=L.md.algorithm,oe}L.signatureOid=L.siginfo.algorithmOid=I,L.certificationRequestInfo=_.getCertificationRequestInfo(L);var z=e.toDer(L.certificationRequestInfo);L.md.update(z.getBytes()),L.signature=J.sign(L.md)},L.verify=function(){var J=!1,te=L.md;if(null===te){te=C({signatureOid:L.signatureOid,type:"certification request"});var I=L.certificationRequestInfo||_.getCertificationRequestInfo(L),oe=e.toDer(I);te.update(oe.getBytes())}return null!==te&&(J=R({certificate:L,md:te,signature:L.signature})),J},L};var G=new Date("1950-01-01T00:00:00Z"),ie=new Date("2050-01-01T00:00:00Z");function le(L){return L>=G&&L<ie?e.create(e.Class.UNIVERSAL,e.Type.UTCTIME,!1,e.dateToUtcTime(L)):e.create(e.Class.UNIVERSAL,e.Type.GENERALIZEDTIME,!1,e.dateToGeneralizedTime(L))}_.getTBSCertificate=function(L){var J=le(L.validity.notBefore),te=le(L.validity.notAfter),I=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(L.version).getBytes())]),e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,n.util.hexToBytes(L.serialNumber)),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(L.siginfo.algorithmOid).getBytes()),V(L.siginfo.algorithmOid,L.siginfo.parameters)]),x(L.issuer),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[J,te]),x(L.subject),_.publicKeyToAsn1(L.publicKey)]);return L.issuer.uniqueId&&I.value.push(e.create(e.Class.CONTEXT_SPECIFIC,1,!0,[e.create(e.Class.UNIVERSAL,e.Type.BITSTRING,!1,"\0"+L.issuer.uniqueId)])),L.subject.uniqueId&&I.value.push(e.create(e.Class.CONTEXT_SPECIFIC,2,!0,[e.create(e.Class.UNIVERSAL,e.Type.BITSTRING,!1,"\0"+L.subject.uniqueId)])),L.extensions.length>0&&I.value.push(_.certificateExtensionsToAsn1(L.extensions)),I},_.getCertificationRequestInfo=function(L){return e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(L.version).getBytes()),x(L.subject),_.publicKeyToAsn1(L.publicKey),U(L)])},_.distinguishedNameToAsn1=function(L){return x(L)},_.certificateToAsn1=function(L){var J=L.tbsCertificate||_.getTBSCertificate(L);return e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[J,e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(L.signatureOid).getBytes()),V(L.signatureOid,L.signatureParameters)]),e.create(e.Class.UNIVERSAL,e.Type.BITSTRING,!1,"\0"+L.signature)])},_.certificateExtensionsToAsn1=function(L){var J=e.create(e.Class.CONTEXT_SPECIFIC,3,!0,[]),te=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]);J.value.push(te);for(var I=0;I<L.length;++I)te.value.push(_.certificateExtensionToAsn1(L[I]));return J},_.certificateExtensionToAsn1=function(L){var J=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]);J.value.push(e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(L.id).getBytes())),L.critical&&J.value.push(e.create(e.Class.UNIVERSAL,e.Type.BOOLEAN,!1,"\xff"));var te=L.value;return"string"!=typeof L.value&&(te=e.toDer(te).getBytes()),J.value.push(e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,te)),J},_.certificationRequestToAsn1=function(L){var J=L.certificationRequestInfo||_.getCertificationRequestInfo(L);return e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[J,e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(L.signatureOid).getBytes()),V(L.signatureOid,L.signatureParameters)]),e.create(e.Class.UNIVERSAL,e.Type.BITSTRING,!1,"\0"+L.signature)])},_.createCaStore=function(L){var J={certs:{}};function te(_e){return I(_e),J.certs[_e.hash]||null}function I(_e){if(!_e.hash){var Pe=n.md.sha1.create();_e.attributes=_.RDNAttributesAsArray(x(_e),Pe),_e.hash=Pe.digest().toHex()}}if(J.getIssuer=function(_e){return te(_e.issuer)},J.addCertificate=function(_e){if("string"==typeof _e&&(_e=n.pki.certificateFromPem(_e)),I(_e.subject),!J.hasCertificate(_e))if(_e.subject.hash in J.certs){var Pe=J.certs[_e.subject.hash];n.util.isArray(Pe)||(Pe=[Pe]),Pe.push(_e),J.certs[_e.subject.hash]=Pe}else J.certs[_e.subject.hash]=_e},J.hasCertificate=function(_e){"string"==typeof _e&&(_e=n.pki.certificateFromPem(_e));var Pe=te(_e.subject);if(!Pe)return!1;n.util.isArray(Pe)||(Pe=[Pe]);for(var Re=e.toDer(_.certificateToAsn1(_e)).getBytes(),ke=0;ke<Pe.length;++ke)if(Re===e.toDer(_.certificateToAsn1(Pe[ke])).getBytes())return!0;return!1},J.listAllCertificates=function(){var _e=[];for(var Pe in J.certs)if(J.certs.hasOwnProperty(Pe)){var Re=J.certs[Pe];if(n.util.isArray(Re))for(var ke=0;ke<Re.length;++ke)_e.push(Re[ke]);else _e.push(Re)}return _e},J.removeCertificate=function(_e){var Pe;if("string"==typeof _e&&(_e=n.pki.certificateFromPem(_e)),I(_e.subject),!J.hasCertificate(_e))return null;var Re=te(_e.subject);if(!n.util.isArray(Re))return Pe=J.certs[_e.subject.hash],delete J.certs[_e.subject.hash],Pe;for(var ke=e.toDer(_.certificateToAsn1(_e)).getBytes(),Je=0;Je<Re.length;++Je)ke===e.toDer(_.certificateToAsn1(Re[Je])).getBytes()&&(Pe=Re[Je],Re.splice(Je,1));return 0===Re.length&&delete J.certs[_e.subject.hash],Pe},L)for(var oe=0;oe<L.length;++oe)J.addCertificate(L[oe]);return J},_.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"},_.verifyCertificateChain=function(L,J,te){"function"==typeof te&&(te={verify:te}),te=te||{};var I=(J=J.slice(0)).slice(0),oe=te.validityCheckDate;typeof oe>"u"&&(oe=new Date);var z=!0,_e=null,Pe=0;do{var Re=J.shift(),ke=null,Je=!1;if(oe&&(oe<Re.validity.notBefore||oe>Re.validity.notAfter)&&(_e={message:"Certificate is not valid yet or has expired.",error:_.certificateError.certificate_expired,notBefore:Re.validity.notBefore,notAfter:Re.validity.notAfter,now:oe}),null===_e){if(null===(ke=J[0]||L.getIssuer(Re))&&Re.isIssuer(Re)&&(Je=!0,ke=Re),ke){var Te=ke;n.util.isArray(Te)||(Te=[Te]);for(var we=!1;!we&&Te.length>0;){ke=Te.shift();try{we=ke.verify(Re)}catch{}}we||(_e={message:"Certificate signature is invalid.",error:_.certificateError.bad_certificate})}null===_e&&(!ke||Je)&&!L.hasCertificate(Re)&&(_e={message:"Certificate is not trusted.",error:_.certificateError.unknown_ca})}if(null===_e&&ke&&!Re.isIssuer(ke)&&(_e={message:"Certificate issuer is invalid.",error:_.certificateError.bad_certificate}),null===_e)for(var de={keyUsage:!0,basicConstraints:!0},Ve=0;null===_e&&Ve<Re.extensions.length;++Ve){var Ae=Re.extensions[Ve];Ae.critical&&!(Ae.name in de)&&(_e={message:"Certificate has an unsupported critical extension.",error:_.certificateError.unsupported_certificate})}if(null===_e&&(!z||0===J.length&&(!ke||Je))){var rt=Re.getExtension("basicConstraints"),Be=Re.getExtension("keyUsage");null!==Be&&(!Be.keyCertSign||null===rt)&&(_e={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:_.certificateError.bad_certificate}),null===_e&&null!==rt&&!rt.cA&&(_e={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:_.certificateError.bad_certificate}),null===_e&&null!==Be&&"pathLenConstraint"in rt&&Pe-1>rt.pathLenConstraint&&(_e={message:"Certificate basicConstraints pathLenConstraint violated.",error:_.certificateError.bad_certificate})}var Ye=null===_e||_e.error,Yt=te.verify?te.verify(Ye,Pe,I):Ye;if(!0!==Yt)throw!0===Ye&&(_e={message:"The application rejected the certificate.",error:_.certificateError.bad_certificate}),(Yt||0===Yt)&&("object"!=typeof Yt||n.util.isArray(Yt)?"string"==typeof Yt&&(_e.error=Yt):(Yt.message&&(_e.message=Yt.message),Yt.error&&(_e.error=Yt.error))),_e;_e=null,z=!1,++Pe}while(J.length>0);return!0}},4531:(qe,me,u)=>{"use strict";me.hc=void 0;const e=u(2114);me.hc=(S,v)=>{const f=e.asn1.fromDer(S.toString("binary")),E=e.pkcs12.pkcs12FromAsn1(f,!1,v).getBags({bagType:e.pki.oids.certBag});if(!E||!E?.[e.pki.oids.certBag]?.[0])throw new Error("Unable to parse certificate. Incorrect Password?");return E[e.pki.oids.certBag][0]}},5955:(qe,me)=>{"use strict";class e{static isArrayBuffer(R){return"[object ArrayBuffer]"===Object.prototype.toString.call(R)}static toArrayBuffer(R){return this.isArrayBuffer(R)?R:R.byteLength===R.buffer.byteLength||0===R.byteOffset&&R.byteLength===R.buffer.byteLength?R.buffer:this.toUint8Array(R.buffer).slice(R.byteOffset,R.byteOffset+R.byteLength).buffer}static toUint8Array(R){return this.toView(R,Uint8Array)}static toView(R,x){if(R.constructor===x)return R;if(this.isArrayBuffer(R))return new x(R);if(this.isArrayBufferView(R))return new x(R.buffer,R.byteOffset,R.byteLength);throw new TypeError("The provided value is not of type '(ArrayBuffer or ArrayBufferView)'")}static isBufferSource(R){return this.isArrayBufferView(R)||this.isArrayBuffer(R)}static isArrayBufferView(R){return ArrayBuffer.isView(R)||R&&this.isArrayBuffer(R.buffer)}static isEqual(R,x){const O=e.toUint8Array(R),H=e.toUint8Array(x);if(O.length!==H.byteLength)return!1;for(let M=0;M<O.length;M++)if(O[M]!==H[M])return!1;return!0}static concat(...R){let x;x=Array.isArray(R[0])&&!(R[1]instanceof Function)||Array.isArray(R[0])&&R[1]instanceof Function?R[0]:R[R.length-1]instanceof Function?R.slice(0,R.length-1):R;let O=0;for(const V of x)O+=V.byteLength;const H=new Uint8Array(O);let M=0;for(const V of x){const U=this.toUint8Array(V);H.set(U,M),M+=U.length}return R[R.length-1]instanceof Function?this.toView(H,R[R.length-1]):H.buffer}}const _="string",g=/^[0-9a-f]+$/i,S=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/,v=/^[a-zA-Z0-9-_]+$/;class f{static fromString(R){const x=unescape(encodeURIComponent(R)),O=new Uint8Array(x.length);for(let H=0;H<x.length;H++)O[H]=x.charCodeAt(H);return O.buffer}static toString(R){const x=e.toUint8Array(R);let O="";for(let M=0;M<x.length;M++)O+=String.fromCharCode(x[M]);return decodeURIComponent(escape(O))}}class d{static toString(R,x=!1){const O=e.toArrayBuffer(R),H=new DataView(O);let M="";for(let V=0;V<O.byteLength;V+=2){const U=H.getUint16(V,x);M+=String.fromCharCode(U)}return M}static fromString(R,x=!1){const O=new ArrayBuffer(2*R.length),H=new DataView(O);for(let M=0;M<R.length;M++)H.setUint16(2*M,R.charCodeAt(M),x);return O}}let E=(()=>{class C{static isHex(x){return typeof x===_&&g.test(x)}static isBase64(x){return typeof x===_&&S.test(x)}static isBase64Url(x){return typeof x===_&&v.test(x)}static ToString(x,O="utf8"){const H=e.toUint8Array(x);switch(O.toLowerCase()){case"utf8":return this.ToUtf8String(H);case"binary":return this.ToBinary(H);case"hex":return this.ToHex(H);case"base64":return this.ToBase64(H);case"base64url":return this.ToBase64Url(H);case"utf16le":return d.toString(H,!0);case"utf16":case"utf16be":return d.toString(H);default:throw new Error(`Unknown type of encoding '${O}'`)}}static FromString(x,O="utf8"){if(!x)return new ArrayBuffer(0);switch(O.toLowerCase()){case"utf8":return this.FromUtf8String(x);case"binary":return this.FromBinary(x);case"hex":return this.FromHex(x);case"base64":return this.FromBase64(x);case"base64url":return this.FromBase64Url(x);case"utf16le":return d.fromString(x,!0);case"utf16":case"utf16be":return d.fromString(x);default:throw new Error(`Unknown type of encoding '${O}'`)}}static ToBase64(x){const O=e.toUint8Array(x);if(typeof btoa<"u"){const H=this.ToString(O,"binary");return btoa(H)}return Buffer.from(O).toString("base64")}static FromBase64(x){const O=this.formatString(x);if(!O)return new ArrayBuffer(0);if(!C.isBase64(O))throw new TypeError("Argument 'base64Text' is not Base64 encoded");return typeof atob<"u"?this.FromBinary(atob(O)):new Uint8Array(Buffer.from(O,"base64")).buffer}static FromBase64Url(x){const O=this.formatString(x);if(!O)return new ArrayBuffer(0);if(!C.isBase64Url(O))throw new TypeError("Argument 'base64url' is not Base64Url encoded");return this.FromBase64(this.Base64Padding(O.replace(/\-/g,"+").replace(/\_/g,"/")))}static ToBase64Url(x){return this.ToBase64(x).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}static FromUtf8String(x,O=C.DEFAULT_UTF8_ENCODING){switch(O){case"ascii":return this.FromBinary(x);case"utf8":return f.fromString(x);case"utf16":case"utf16be":return d.fromString(x);case"utf16le":case"usc2":return d.fromString(x,!0);default:throw new Error(`Unknown type of encoding '${O}'`)}}static ToUtf8String(x,O=C.DEFAULT_UTF8_ENCODING){switch(O){case"ascii":return this.ToBinary(x);case"utf8":return f.toString(x);case"utf16":case"utf16be":return d.toString(x);case"utf16le":case"usc2":return d.toString(x,!0);default:throw new Error(`Unknown type of encoding '${O}'`)}}static FromBinary(x){const O=x.length,H=new Uint8Array(O);for(let M=0;M<O;M++)H[M]=x.charCodeAt(M);return H.buffer}static ToBinary(x){const O=e.toUint8Array(x);let H="";for(let M=0;M<O.length;M++)H+=String.fromCharCode(O[M]);return H}static ToHex(x){const O=e.toUint8Array(x);let H="";const M=O.length;for(let V=0;V<M;V++){const U=O[V];U<16&&(H+="0"),H+=U.toString(16)}return H}static FromHex(x){let O=this.formatString(x);if(!O)return new ArrayBuffer(0);if(!C.isHex(O))throw new TypeError("Argument 'hexString' is not HEX encoded");O.length%2&&(O=`0${O}`);const H=new Uint8Array(O.length/2);for(let M=0;M<O.length;M+=2){const V=O.slice(M,M+2);H[M/2]=parseInt(V,16)}return H.buffer}static ToUtf16String(x,O=!1){return d.toString(x,O)}static FromUtf16String(x,O=!1){return d.fromString(x,O)}static Base64Padding(x){const O=4-x.length%4;if(O<4)for(let H=0;H<O;H++)x+="=";return x}static formatString(x){return x?.replace(/[\n\r\t ]/g,"")||""}}return C.DEFAULT_UTF8_ENCODING="utf8",C})();me._H=e,me.U$=E},4412:(qe,me,u)=>{"use strict";u.d(me,{t:()=>e});var n=u(1413);class e extends n.B{constructor(g){super(),this._value=g}get value(){return this.getValue()}_subscribe(g){const S=super._subscribe(g);return!S.closed&&g.next(this._value),S}getValue(){const{hasError:g,thrownError:S,_value:v}=this;if(g)throw S;return this._throwIfClosed(),v}next(g){super.next(this._value=g)}}},1985:(qe,me,u)=>{"use strict";u.d(me,{c:()=>d});var n=u(7707),e=u(8359),_=u(3494),g=u(1203),S=u(1026),v=u(8071),f=u(9786);let d=(()=>{class w{constructor(R){R&&(this._subscribe=R)}lift(R){const x=new w;return x.source=this,x.operator=R,x}subscribe(R,x,O){const H=function F(w){return w&&w instanceof n.vU||function m(w){return w&&(0,v.T)(w.next)&&(0,v.T)(w.error)&&(0,v.T)(w.complete)}(w)&&(0,e.Uv)(w)}(R)?R:new n.Ms(R,x,O);return(0,f.Y)(()=>{const{operator:M,source:V}=this;H.add(M?M.call(H,V):V?this._subscribe(H):this._trySubscribe(H))}),H}_trySubscribe(R){try{return this._subscribe(R)}catch(x){R.error(x)}}forEach(R,x){return new(x=E(x))((O,H)=>{const M=new n.Ms({next:V=>{try{R(V)}catch(U){H(U),M.unsubscribe()}},error:H,complete:O});this.subscribe(M)})}_subscribe(R){var x;return null===(x=this.source)||void 0===x?void 0:x.subscribe(R)}[_.s](){return this}pipe(...R){return(0,g.m)(R)(this)}toPromise(R){return new(R=E(R))((x,O)=>{let H;this.subscribe(M=>H=M,M=>O(M),()=>x(H))})}}return w.create=C=>new w(C),w})();function E(w){var C;return null!==(C=w??S.$.Promise)&&void 0!==C?C:Promise}},2771:(qe,me,u)=>{"use strict";u.d(me,{m:()=>_});var n=u(1413),e=u(6129);class _ extends n.B{constructor(S=1/0,v=1/0,f=e.U){super(),this._bufferSize=S,this._windowTime=v,this._timestampProvider=f,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=v===1/0,this._bufferSize=Math.max(1,S),this._windowTime=Math.max(1,v)}next(S){const{isStopped:v,_buffer:f,_infiniteTimeWindow:d,_timestampProvider:E,_windowTime:m}=this;v||(f.push(S),!d&&f.push(E.now()+m)),this._trimBuffer(),super.next(S)}_subscribe(S){this._throwIfClosed(),this._trimBuffer();const v=this._innerSubscribe(S),{_infiniteTimeWindow:f,_buffer:d}=this,E=d.slice();for(let m=0;m<E.length&&!S.closed;m+=f?1:2)S.next(E[m]);return this._checkFinalizedStatuses(S),v}_trimBuffer(){const{_bufferSize:S,_timestampProvider:v,_buffer:f,_infiniteTimeWindow:d}=this,E=(d?1:2)*S;if(S<1/0&&E<f.length&&f.splice(0,f.length-E),!d){const m=v.now();let F=0;for(let w=1;w<f.length&&f[w]<=m;w+=2)F=w;F&&f.splice(0,F+1)}}}},1413:(qe,me,u)=>{"use strict";u.d(me,{B:()=>f});var n=u(1985),e=u(8359);const g=(0,u(1853).L)(E=>function(){E(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var S=u(7908),v=u(9786);let f=(()=>{class E extends n.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(F){const w=new d(this,this);return w.operator=F,w}_throwIfClosed(){if(this.closed)throw new g}next(F){(0,v.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const w of this.currentObservers)w.next(F)}})}error(F){(0,v.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=F;const{observers:w}=this;for(;w.length;)w.shift().error(F)}})}complete(){(0,v.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:F}=this;for(;F.length;)F.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var F;return(null===(F=this.observers)||void 0===F?void 0:F.length)>0}_trySubscribe(F){return this._throwIfClosed(),super._trySubscribe(F)}_subscribe(F){return this._throwIfClosed(),this._checkFinalizedStatuses(F),this._innerSubscribe(F)}_innerSubscribe(F){const{hasError:w,isStopped:C,observers:R}=this;return w||C?e.Kn:(this.currentObservers=null,R.push(F),new e.yU(()=>{this.currentObservers=null,(0,S.o)(R,F)}))}_checkFinalizedStatuses(F){const{hasError:w,thrownError:C,isStopped:R}=this;w?F.error(C):R&&F.complete()}asObservable(){const F=new n.c;return F.source=this,F}}return E.create=(m,F)=>new d(m,F),E})();class d extends f{constructor(m,F){super(),this.destination=m,this.source=F}next(m){var F,w;null===(w=null===(F=this.destination)||void 0===F?void 0:F.next)||void 0===w||w.call(F,m)}error(m){var F,w;null===(w=null===(F=this.destination)||void 0===F?void 0:F.error)||void 0===w||w.call(F,m)}complete(){var m,F;null===(F=null===(m=this.destination)||void 0===m?void 0:m.complete)||void 0===F||F.call(m)}_subscribe(m){var F,w;return null!==(w=null===(F=this.source)||void 0===F?void 0:F.subscribe(m))&&void 0!==w?w:e.Kn}}},7707:(qe,me,u)=>{"use strict";u.d(me,{Ms:()=>O,vU:()=>w});var n=u(8071),e=u(8359),_=u(1026),g=u(5334),S=u(5343);const v=E("C",void 0,void 0);function E(G,ie,le){return{kind:G,value:ie,error:le}}var m=u(9270),F=u(9786);class w extends e.yU{constructor(ie){super(),this.isStopped=!1,ie?(this.destination=ie,(0,e.Uv)(ie)&&ie.add(this)):this.destination=U}static create(ie,le,L){return new O(ie,le,L)}next(ie){this.isStopped?V(function d(G){return E("N",G,void 0)}(ie),this):this._next(ie)}error(ie){this.isStopped?V(function f(G){return E("E",void 0,G)}(ie),this):(this.isStopped=!0,this._error(ie))}complete(){this.isStopped?V(v,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ie){this.destination.next(ie)}_error(ie){try{this.destination.error(ie)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const C=Function.prototype.bind;function R(G,ie){return C.call(G,ie)}class x{constructor(ie){this.partialObserver=ie}next(ie){const{partialObserver:le}=this;if(le.next)try{le.next(ie)}catch(L){H(L)}}error(ie){const{partialObserver:le}=this;if(le.error)try{le.error(ie)}catch(L){H(L)}else H(ie)}complete(){const{partialObserver:ie}=this;if(ie.complete)try{ie.complete()}catch(le){H(le)}}}class O extends w{constructor(ie,le,L){let J;if(super(),(0,n.T)(ie)||!ie)J={next:ie??void 0,error:le??void 0,complete:L??void 0};else{let te;this&&_.$.useDeprecatedNextContext?(te=Object.create(ie),te.unsubscribe=()=>this.unsubscribe(),J={next:ie.next&&R(ie.next,te),error:ie.error&&R(ie.error,te),complete:ie.complete&&R(ie.complete,te)}):J=ie}this.destination=new x(J)}}function H(G){_.$.useDeprecatedSynchronousErrorHandling?(0,F.l)(G):(0,g.m)(G)}function V(G,ie){const{onStoppedNotification:le}=_.$;le&&m.f.setTimeout(()=>le(G,ie))}const U={closed:!0,next:S.l,error:function M(G){throw G},complete:S.l}},8359:(qe,me,u)=>{"use strict";u.d(me,{Kn:()=>v,yU:()=>S,Uv:()=>f});var n=u(8071);const _=(0,u(1853).L)(E=>function(F){E(this),this.message=F?`${F.length} errors occurred during unsubscription:\n${F.map((w,C)=>`${C+1}) ${w.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=F});var g=u(7908);class S{constructor(m){this.initialTeardown=m,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let m;if(!this.closed){this.closed=!0;const{_parentage:F}=this;if(F)if(this._parentage=null,Array.isArray(F))for(const R of F)R.remove(this);else F.remove(this);const{initialTeardown:w}=this;if((0,n.T)(w))try{w()}catch(R){m=R instanceof _?R.errors:[R]}const{_finalizers:C}=this;if(C){this._finalizers=null;for(const R of C)try{d(R)}catch(x){m=m??[],x instanceof _?m=[...m,...x.errors]:m.push(x)}}if(m)throw new _(m)}}add(m){var F;if(m&&m!==this)if(this.closed)d(m);else{if(m instanceof S){if(m.closed||m._hasParent(this))return;m._addParent(this)}(this._finalizers=null!==(F=this._finalizers)&&void 0!==F?F:[]).push(m)}}_hasParent(m){const{_parentage:F}=this;return F===m||Array.isArray(F)&&F.includes(m)}_addParent(m){const{_parentage:F}=this;this._parentage=Array.isArray(F)?(F.push(m),F):F?[F,m]:m}_removeParent(m){const{_parentage:F}=this;F===m?this._parentage=null:Array.isArray(F)&&(0,g.o)(F,m)}remove(m){const{_finalizers:F}=this;F&&(0,g.o)(F,m),m instanceof S&&m._removeParent(this)}}S.EMPTY=(()=>{const E=new S;return E.closed=!0,E})();const v=S.EMPTY;function f(E){return E instanceof S||E&&"closed"in E&&(0,n.T)(E.remove)&&(0,n.T)(E.add)&&(0,n.T)(E.unsubscribe)}function d(E){(0,n.T)(E)?E():E.unsubscribe()}},1026:(qe,me,u)=>{"use strict";u.d(me,{$:()=>n});const n={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4572:(qe,me,u)=>{"use strict";u.d(me,{P:()=>F,z:()=>m});var n=u(1985),e=u(3073),_=u(6648),g=u(3669),S=u(6450),v=u(9326),f=u(8496),d=u(4360),E=u(5225);function m(...C){const R=(0,v.lI)(C),x=(0,v.ms)(C),{args:O,keys:H}=(0,e.D)(C);if(0===O.length)return(0,_.H)([],R);const M=new n.c(F(O,R,H?V=>(0,f.e)(H,V):g.D));return x?M.pipe((0,S.I)(x)):M}function F(C,R,x=g.D){return O=>{w(R,()=>{const{length:H}=C,M=new Array(H);let V=H,U=H;for(let G=0;G<H;G++)w(R,()=>{const ie=(0,_.H)(C[G],R);let le=!1;ie.subscribe((0,d._)(O,L=>{M[G]=L,le||(le=!0,U--),U||O.next(x(M.slice()))},()=>{--V||O.complete()}))},O)},O)}}function w(C,R,x){C?(0,E.N)(x,C,R):R()}},8793:(qe,me,u)=>{"use strict";u.d(me,{x:()=>S});var n=u(6365),_=u(9326),g=u(6648);function S(...v){return function e(){return(0,n.U)(1)}()((0,g.H)(v,(0,_.lI)(v)))}},9030:(qe,me,u)=>{"use strict";u.d(me,{v:()=>_});var n=u(1985),e=u(8750);function _(g){return new n.c(S=>{(0,e.Tg)(g()).subscribe(S)})}},983:(qe,me,u)=>{"use strict";u.d(me,{I:()=>_,w:()=>e});var n=u(1985);const e=new n.c(S=>S.complete());function _(S){return S?function g(S){return new n.c(v=>S.schedule(()=>v.complete()))}(S):e}},7468:(qe,me,u)=>{"use strict";u.d(me,{p:()=>d});var n=u(1985),e=u(3073),_=u(8750),g=u(9326),S=u(4360),v=u(6450),f=u(8496);function d(...E){const m=(0,g.ms)(E),{args:F,keys:w}=(0,e.D)(E),C=new n.c(R=>{const{length:x}=F;if(!x)return void R.complete();const O=new Array(x);let H=x,M=x;for(let V=0;V<x;V++){let U=!1;(0,_.Tg)(F[V]).subscribe((0,S._)(R,G=>{U||(U=!0,M--),O[V]=G},()=>H--,void 0,()=>{(!H||!U)&&(M||R.next(w?(0,f.e)(w,O):O),R.complete())}))}});return m?C.pipe((0,v.I)(m)):C}},6648:(qe,me,u)=>{"use strict";u.d(me,{H:()=>L});var n=u(8750),e=u(5225),_=u(9974),g=u(4360);function S(J,te=0){return(0,_.N)((I,oe)=>{I.subscribe((0,g._)(oe,z=>(0,e.N)(oe,J,()=>oe.next(z),te),()=>(0,e.N)(oe,J,()=>oe.complete(),te),z=>(0,e.N)(oe,J,()=>oe.error(z),te)))})}function v(J,te=0){return(0,_.N)((I,oe)=>{oe.add(J.schedule(()=>I.subscribe(oe),te))})}var E=u(1985),F=u(4761),w=u(8071);function R(J,te){if(!J)throw new Error("Iterable cannot be null");return new E.c(I=>{(0,e.N)(I,te,()=>{const oe=J[Symbol.asyncIterator]();(0,e.N)(I,te,()=>{oe.next().then(z=>{z.done?I.complete():I.next(z.value)})},0,!0)})})}var x=u(5055),O=u(9858),H=u(7441),M=u(5397),V=u(7953),U=u(591),G=u(5196);function L(J,te){return te?function le(J,te){if(null!=J){if((0,x.l)(J))return function f(J,te){return(0,n.Tg)(J).pipe(v(te),S(te))}(J,te);if((0,H.X)(J))return function m(J,te){return new E.c(I=>{let oe=0;return te.schedule(function(){oe===J.length?I.complete():(I.next(J[oe++]),I.closed||this.schedule())})})}(J,te);if((0,O.y)(J))return function d(J,te){return(0,n.Tg)(J).pipe(v(te),S(te))}(J,te);if((0,V.T)(J))return R(J,te);if((0,M.x)(J))return function C(J,te){return new E.c(I=>{let oe;return(0,e.N)(I,te,()=>{oe=J[F.l](),(0,e.N)(I,te,()=>{let z,_e;try{({value:z,done:_e}=oe.next())}catch(Pe){return void I.error(Pe)}_e?I.complete():I.next(z)},0,!0)}),()=>(0,w.T)(oe?.return)&&oe.return()})}(J,te);if((0,G.U)(J))return function ie(J,te){return R((0,G.C)(J),te)}(J,te)}throw(0,U.L)(J)}(J,te):(0,n.Tg)(J)}},3726:(qe,me,u)=>{"use strict";u.d(me,{R:()=>m});var n=u(8750),e=u(1985),_=u(1397),g=u(7441),S=u(8071),v=u(6450);const f=["addListener","removeListener"],d=["addEventListener","removeEventListener"],E=["on","off"];function m(x,O,H,M){if((0,S.T)(H)&&(M=H,H=void 0),M)return m(x,O,H).pipe((0,v.I)(M));const[V,U]=function R(x){return(0,S.T)(x.addEventListener)&&(0,S.T)(x.removeEventListener)}(x)?d.map(G=>ie=>x[G](O,ie,H)):function w(x){return(0,S.T)(x.addListener)&&(0,S.T)(x.removeListener)}(x)?f.map(F(x,O)):function C(x){return(0,S.T)(x.on)&&(0,S.T)(x.off)}(x)?E.map(F(x,O)):[];if(!V&&(0,g.X)(x))return(0,_.Z)(G=>m(G,O,H))((0,n.Tg)(x));if(!V)throw new TypeError("Invalid event target");return new e.c(G=>{const ie=(...le)=>G.next(1<le.length?le:le[0]);return V(ie),()=>U(ie)})}function F(x,O){return H=>M=>x[H](O,M)}},8750:(qe,me,u)=>{"use strict";u.d(me,{Tg:()=>C});var n=u(1635),e=u(7441),_=u(9858),g=u(1985),S=u(5055),v=u(7953),f=u(591),d=u(5397),E=u(5196),m=u(8071),F=u(5334),w=u(3494);function C(G){if(G instanceof g.c)return G;if(null!=G){if((0,S.l)(G))return function R(G){return new g.c(ie=>{const le=G[w.s]();if((0,m.T)(le.subscribe))return le.subscribe(ie);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(G);if((0,e.X)(G))return function x(G){return new g.c(ie=>{for(let le=0;le<G.length&&!ie.closed;le++)ie.next(G[le]);ie.complete()})}(G);if((0,_.y)(G))return function O(G){return new g.c(ie=>{G.then(le=>{ie.closed||(ie.next(le),ie.complete())},le=>ie.error(le)).then(null,F.m)})}(G);if((0,v.T)(G))return M(G);if((0,d.x)(G))return function H(G){return new g.c(ie=>{for(const le of G)if(ie.next(le),ie.closed)return;ie.complete()})}(G);if((0,E.U)(G))return function V(G){return M((0,E.C)(G))}(G)}throw(0,f.L)(G)}function M(G){return new g.c(ie=>{(function U(G,ie){var le,L,J,te;return(0,n.sH)(this,void 0,void 0,function*(){try{for(le=(0,n.xN)(G);!(L=yield le.next()).done;)if(ie.next(L.value),ie.closed)return}catch(I){J={error:I}}finally{try{L&&!L.done&&(te=le.return)&&(yield te.call(le))}finally{if(J)throw J.error}}ie.complete()})})(G,ie).catch(le=>ie.error(le))})}},7786:(qe,me,u)=>{"use strict";u.d(me,{h:()=>v});var n=u(6365),e=u(8750),_=u(983),g=u(9326),S=u(6648);function v(...f){const d=(0,g.lI)(f),E=(0,g.R0)(f,1/0),m=f;return m.length?1===m.length?(0,e.Tg)(m[0]):(0,n.U)(E)((0,S.H)(m,d)):_.w}},5060:(qe,me,u)=>{"use strict";u.d(me,{t:()=>_});var n=u(1985),e=u(5343);const _=new n.c(e.l)},7673:(qe,me,u)=>{"use strict";u.d(me,{of:()=>_});var n=u(9326),e=u(6648);function _(...g){const S=(0,n.lI)(g);return(0,e.H)(g,S)}},8810:(qe,me,u)=>{"use strict";u.d(me,{$:()=>_});var n=u(1985),e=u(8071);function _(g,S){const v=(0,e.T)(g)?g:()=>g,f=d=>d.error(v());return new n.c(S?d=>S.schedule(f,0,d):f)}},1584:(qe,me,u)=>{"use strict";u.d(me,{O:()=>S});var n=u(1985),e=u(3236),_=u(9470);function S(v=0,f,d=e.b){let E=-1;return null!=f&&((0,_.m)(f)?d=f:E=f),new n.c(m=>{let F=function g(v){return v instanceof Date&&!isNaN(v)}(v)?+v-d.now():v;F<0&&(F=0);let w=0;return d.schedule(function(){m.closed||(m.next(w++),0<=E?this.schedule(void 0,E):m.complete())},F)})}},4360:(qe,me,u)=>{"use strict";u.d(me,{_:()=>e});var n=u(7707);function e(g,S,v,f,d){return new _(g,S,v,f,d)}class _ extends n.vU{constructor(S,v,f,d,E,m){super(S),this.onFinalize=E,this.shouldUnsubscribe=m,this._next=v?function(F){try{v(F)}catch(w){S.error(w)}}:super._next,this._error=d?function(F){try{d(F)}catch(w){S.error(w)}finally{this.unsubscribe()}}:super._error,this._complete=f?function(){try{f()}catch(F){S.error(F)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var S;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:v}=this;super.unsubscribe(),!v&&(null===(S=this.onFinalize)||void 0===S||S.call(this))}}}},9437:(qe,me,u)=>{"use strict";u.d(me,{W:()=>g});var n=u(8750),e=u(4360),_=u(9974);function g(S){return(0,_.N)((v,f)=>{let m,d=null,E=!1;d=v.subscribe((0,e._)(f,void 0,void 0,F=>{m=(0,n.Tg)(S(F,g(S)(v))),d?(d.unsubscribe(),d=null,m.subscribe(f)):E=!0})),E&&(d.unsubscribe(),d=null,m.subscribe(f))})}},274:(qe,me,u)=>{"use strict";u.d(me,{H:()=>_});var n=u(1397),e=u(8071);function _(g,S){return(0,e.T)(S)?(0,n.Z)(g,S,1):(0,n.Z)(g,1)}},152:(qe,me,u)=>{"use strict";u.d(me,{B:()=>g});var n=u(3236),e=u(9974),_=u(4360);function g(S,v=n.E){return(0,e.N)((f,d)=>{let E=null,m=null,F=null;const w=()=>{if(E){E.unsubscribe(),E=null;const R=m;m=null,d.next(R)}};function C(){const R=F+S,x=v.now();if(x<R)return E=this.schedule(void 0,R-x),void d.add(E);w()}f.subscribe((0,_._)(d,R=>{m=R,F=v.now(),E||(E=v.schedule(C,S),d.add(E))},()=>{w(),d.complete()},void 0,()=>{m=E=null}))})}},9901:(qe,me,u)=>{"use strict";u.d(me,{U:()=>_});var n=u(9974),e=u(4360);function _(g){return(0,n.N)((S,v)=>{let f=!1;S.subscribe((0,e._)(v,d=>{f=!0,v.next(d)},()=>{f||v.next(g),v.complete()}))})}},1986:(qe,me,u)=>{"use strict";u.d(me,{c:()=>C});var n=u(3236),e=u(8793),_=u(6697),g=u(9974),S=u(4360),v=u(5343),d=u(3703),E=u(1397),m=u(8750);function F(R,x){return x?O=>(0,e.x)(x.pipe((0,_.s)(1),function f(){return(0,g.N)((R,x)=>{R.subscribe((0,S._)(x,v.l))})}()),O.pipe(F(R))):(0,E.Z)((O,H)=>(0,m.Tg)(R(O,H)).pipe((0,_.s)(1),(0,d.u)(O)))}var w=u(1584);function C(R,x=n.E){const O=(0,w.O)(R,x);return F(()=>O)}},3294:(qe,me,u)=>{"use strict";u.d(me,{F:()=>g});var n=u(3669),e=u(9974),_=u(4360);function g(v,f=n.D){return v=v??S,(0,e.N)((d,E)=>{let m,F=!0;d.subscribe((0,_._)(E,w=>{const C=f(w);(F||!v(m,C))&&(F=!1,m=C,E.next(w))}))})}function S(v,f){return v===f}},5964:(qe,me,u)=>{"use strict";u.d(me,{p:()=>_});var n=u(9974),e=u(4360);function _(g,S){return(0,n.N)((v,f)=>{let d=0;v.subscribe((0,e._)(f,E=>g.call(S,E,d++)&&f.next(E)))})}},980:(qe,me,u)=>{"use strict";u.d(me,{j:()=>e});var n=u(9974);function e(_){return(0,n.N)((g,S)=>{try{g.subscribe(S)}finally{S.add(_)}})}},1594:(qe,me,u)=>{"use strict";u.d(me,{$:()=>f});var n=u(9350),e=u(5964),_=u(6697),g=u(9901),S=u(3774),v=u(3669);function f(d,E){const m=arguments.length>=2;return F=>F.pipe(d?(0,e.p)((w,C)=>d(w,C,F)):v.D,(0,_.s)(1),m?(0,g.U)(E):(0,S.v)(()=>new n.G))}},6354:(qe,me,u)=>{"use strict";u.d(me,{T:()=>_});var n=u(9974),e=u(4360);function _(g,S){return(0,n.N)((v,f)=>{let d=0;v.subscribe((0,e._)(f,E=>{f.next(g.call(S,E,d++))}))})}},3703:(qe,me,u)=>{"use strict";u.d(me,{u:()=>e});var n=u(6354);function e(_){return(0,n.T)(()=>_)}},1716:(qe,me,u)=>{"use strict";u.d(me,{h:()=>v});var n=u(9974),e=u(2326),_=u(6365),g=u(9326),S=u(6648);function v(...f){const d=(0,g.lI)(f),E=(0,g.R0)(f,1/0);return f=(0,e.K)(f),(0,n.N)((m,F)=>{(0,_.U)(E)((0,S.H)([m,...f],d)).subscribe(F)})}},6365:(qe,me,u)=>{"use strict";u.d(me,{U:()=>_});var n=u(1397),e=u(3669);function _(g=1/0){return(0,n.Z)(e.D,g)}},1397:(qe,me,u)=>{"use strict";u.d(me,{Z:()=>d});var n=u(6354),e=u(8750),_=u(9974),g=u(5225),S=u(4360),f=u(8071);function d(E,m,F=1/0){return(0,f.T)(m)?d((w,C)=>(0,n.T)((R,x)=>m(w,R,C,x))((0,e.Tg)(E(w,C))),F):("number"==typeof m&&(F=m),(0,_.N)((w,C)=>function v(E,m,F,w,C,R,x,O){const H=[];let M=0,V=0,U=!1;const G=()=>{U&&!H.length&&!M&&m.complete()},ie=L=>M<w?le(L):H.push(L),le=L=>{R&&m.next(L),M++;let J=!1;(0,e.Tg)(F(L,V++)).subscribe((0,S._)(m,te=>{C?.(te),R?ie(te):m.next(te)},()=>{J=!0},void 0,()=>{if(J)try{for(M--;H.length&&M<w;){const te=H.shift();x?(0,g.N)(m,x,()=>le(te)):le(te)}G()}catch(te){m.error(te)}}))};return E.subscribe((0,S._)(m,ie,()=>{U=!0,G()})),()=>{O?.()}}(w,C,E,F)))}},8412:(qe,me,u)=>{"use strict";u.d(me,{X:()=>e});var n=u(1716);function e(..._){return(0,n.h)(..._)}},6649:(qe,me,u)=>{"use strict";u.d(me,{S:()=>e});var n=u(4360);function e(_,g,S,v,f){return(d,E)=>{let m=S,F=g,w=0;d.subscribe((0,n._)(E,C=>{const R=w++;F=m?_(F,C,R):(m=!0,C),v&&E.next(F)},f&&(()=>{m&&E.next(F),E.complete()})))}}},9568:(qe,me,u)=>{"use strict";u.d(me,{t:()=>d});var n=u(2771),e=u(8750),_=u(1413),g=u(7707),S=u(9974);function f(E,m,...F){if(!0===m)return void E();if(!1===m)return;const w=new g.Ms({next:()=>{w.unsubscribe(),E()}});return(0,e.Tg)(m(...F)).subscribe(w)}function d(E,m,F){let w,C=!1;return E&&"object"==typeof E?({bufferSize:w=1/0,windowTime:m=1/0,refCount:C=!1,scheduler:F}=E):w=E??1/0,function v(E={}){const{connector:m=(()=>new _.B),resetOnError:F=!0,resetOnComplete:w=!0,resetOnRefCountZero:C=!0}=E;return R=>{let x,O,H,M=0,V=!1,U=!1;const G=()=>{O?.unsubscribe(),O=void 0},ie=()=>{G(),x=H=void 0,V=U=!1},le=()=>{const L=x;ie(),L?.unsubscribe()};return(0,S.N)((L,J)=>{M++,!U&&!V&&G();const te=H=H??m();J.add(()=>{M--,0===M&&!U&&!V&&(O=f(le,C))}),te.subscribe(J),!x&&M>0&&(x=new g.Ms({next:I=>te.next(I),error:I=>{U=!0,G(),O=f(ie,F,I),te.error(I)},complete:()=>{V=!0,G(),O=f(ie,w),te.complete()}}),(0,e.Tg)(L).subscribe(x))})(R)}}({connector:()=>new n.m(w,m,F),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:C})}},9172:(qe,me,u)=>{"use strict";u.d(me,{Z:()=>g});var n=u(8793),e=u(9326),_=u(9974);function g(...S){const v=(0,e.lI)(S);return(0,_.N)((f,d)=>{(v?(0,n.x)(S,f,v):(0,n.x)(S,f)).subscribe(d)})}},5558:(qe,me,u)=>{"use strict";u.d(me,{n:()=>g});var n=u(8750),e=u(9974),_=u(4360);function g(S,v){return(0,e.N)((f,d)=>{let E=null,m=0,F=!1;const w=()=>F&&!E&&d.complete();f.subscribe((0,_._)(d,C=>{E?.unsubscribe();let R=0;const x=m++;(0,n.Tg)(S(C,x)).subscribe(E=(0,_._)(d,O=>d.next(v?v(C,O,x,R++):O),()=>{E=null,w()}))},()=>{F=!0,w()}))})}},6697:(qe,me,u)=>{"use strict";u.d(me,{s:()=>g});var n=u(983),e=u(9974),_=u(4360);function g(S){return S<=0?()=>n.w:(0,e.N)((v,f)=>{let d=0;v.subscribe((0,_._)(f,E=>{++d<=S&&(f.next(E),S<=d&&f.complete())}))})}},6977:(qe,me,u)=>{"use strict";u.d(me,{Q:()=>S});var n=u(9974),e=u(4360),_=u(8750),g=u(5343);function S(v){return(0,n.N)((f,d)=>{(0,_.Tg)(v).subscribe((0,e._)(d,()=>d.complete(),g.l)),!d.closed&&f.subscribe(d)})}},8141:(qe,me,u)=>{"use strict";u.d(me,{M:()=>S});var n=u(8071),e=u(9974),_=u(4360),g=u(3669);function S(v,f,d){const E=(0,n.T)(v)||f||d?{next:v,error:f,complete:d}:v;return E?(0,e.N)((m,F)=>{var w;null===(w=E.subscribe)||void 0===w||w.call(E);let C=!0;m.subscribe((0,_._)(F,R=>{var x;null===(x=E.next)||void 0===x||x.call(E,R),F.next(R)},()=>{var R;C=!1,null===(R=E.complete)||void 0===R||R.call(E),F.complete()},R=>{var x;C=!1,null===(x=E.error)||void 0===x||x.call(E,R),F.error(R)},()=>{var R,x;C&&(null===(R=E.unsubscribe)||void 0===R||R.call(E)),null===(x=E.finalize)||void 0===x||x.call(E)}))}):g.D}},3774:(qe,me,u)=>{"use strict";u.d(me,{v:()=>g});var n=u(9350),e=u(9974),_=u(4360);function g(v=S){return(0,e.N)((f,d)=>{let E=!1;f.subscribe((0,_._)(d,m=>{E=!0,d.next(m)},()=>E?d.complete():d.error(v())))})}function S(){return new n.G}},3993:(qe,me,u)=>{"use strict";u.d(me,{E:()=>f});var n=u(9974),e=u(4360),_=u(8750),g=u(3669),S=u(5343),v=u(9326);function f(...d){const E=(0,v.ms)(d);return(0,n.N)((m,F)=>{const w=d.length,C=new Array(w);let R=d.map(()=>!1),x=!1;for(let O=0;O<w;O++)(0,_.Tg)(d[O]).subscribe((0,e._)(F,H=>{C[O]=H,!x&&!R[O]&&(R[O]=!0,(x=R.every(g.D))&&(R=null))},S.l));m.subscribe((0,e._)(F,O=>{if(x){const H=[O,...C];F.next(E?E(...H):H)}}))})}},6780:(qe,me,u)=>{"use strict";u.d(me,{R:()=>S});var n=u(8359);class e extends n.yU{constructor(f,d){super()}schedule(f,d=0){return this}}const _={setInterval(v,f,...d){const{delegate:E}=_;return E?.setInterval?E.setInterval(v,f,...d):setInterval(v,f,...d)},clearInterval(v){const{delegate:f}=_;return(f?.clearInterval||clearInterval)(v)},delegate:void 0};var g=u(7908);class S extends e{constructor(f,d){super(f,d),this.scheduler=f,this.work=d,this.pending=!1}schedule(f,d=0){var E;if(this.closed)return this;this.state=f;const m=this.id,F=this.scheduler;return null!=m&&(this.id=this.recycleAsyncId(F,m,d)),this.pending=!0,this.delay=d,this.id=null!==(E=this.id)&&void 0!==E?E:this.requestAsyncId(F,this.id,d),this}requestAsyncId(f,d,E=0){return _.setInterval(f.flush.bind(f,this),E)}recycleAsyncId(f,d,E=0){if(null!=E&&this.delay===E&&!1===this.pending)return d;null!=d&&_.clearInterval(d)}execute(f,d){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const E=this._execute(f,d);if(E)return E;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(f,d){let m,E=!1;try{this.work(f)}catch(F){E=!0,m=F||new Error("Scheduled action threw falsy error")}if(E)return this.unsubscribe(),m}unsubscribe(){if(!this.closed){const{id:f,scheduler:d}=this,{actions:E}=d;this.work=this.state=this.scheduler=null,this.pending=!1,(0,g.o)(E,this),null!=f&&(this.id=this.recycleAsyncId(d,f,null)),this.delay=null,super.unsubscribe()}}}},9687:(qe,me,u)=>{"use strict";u.d(me,{q:()=>_});var n=u(6129);class e{constructor(S,v=e.now){this.schedulerActionCtor=S,this.now=v}schedule(S,v=0,f){return new this.schedulerActionCtor(this,S).schedule(f,v)}}e.now=n.U.now;class _ extends e{constructor(S,v=e.now){super(S,v),this.actions=[],this._active=!1}flush(S){const{actions:v}=this;if(this._active)return void v.push(S);let f;this._active=!0;do{if(f=S.execute(S.state,S.delay))break}while(S=v.shift());if(this._active=!1,f){for(;S=v.shift();)S.unsubscribe();throw f}}}},3236:(qe,me,u)=>{"use strict";u.d(me,{E:()=>_,b:()=>g});var n=u(6780);const _=new(u(9687).q)(n.R),g=_},6129:(qe,me,u)=>{"use strict";u.d(me,{U:()=>n});const n={now:()=>(n.delegate||Date).now(),delegate:void 0}},9270:(qe,me,u)=>{"use strict";u.d(me,{f:()=>n});const n={setTimeout(e,_,...g){const{delegate:S}=n;return S?.setTimeout?S.setTimeout(e,_,...g):setTimeout(e,_,...g)},clearTimeout(e){const{delegate:_}=n;return(_?.clearTimeout||clearTimeout)(e)},delegate:void 0}},4761:(qe,me,u)=>{"use strict";u.d(me,{l:()=>e});const e=function n(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(qe,me,u)=>{"use strict";u.d(me,{s:()=>n});const n="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(qe,me,u)=>{"use strict";u.d(me,{G:()=>e});const e=(0,u(1853).L)(_=>function(){_(this),this.name="EmptyError",this.message="no elements in sequence"})},9326:(qe,me,u)=>{"use strict";u.d(me,{R0:()=>v,lI:()=>S,ms:()=>g});var n=u(8071),e=u(9470);function _(f){return f[f.length-1]}function g(f){return(0,n.T)(_(f))?f.pop():void 0}function S(f){return(0,e.m)(_(f))?f.pop():void 0}function v(f,d){return"number"==typeof _(f)?f.pop():d}},3073:(qe,me,u)=>{"use strict";u.d(me,{D:()=>S});const{isArray:n}=Array,{getPrototypeOf:e,prototype:_,keys:g}=Object;function S(f){if(1===f.length){const d=f[0];if(n(d))return{args:d,keys:null};if(function v(f){return f&&"object"==typeof f&&e(f)===_}(d)){const E=g(d);return{args:E.map(m=>d[m]),keys:E}}}return{args:f,keys:null}}},2326:(qe,me,u)=>{"use strict";u.d(me,{K:()=>e});const{isArray:n}=Array;function e(_){return 1===_.length&&n(_[0])?_[0]:_}},7908:(qe,me,u)=>{"use strict";function n(e,_){if(e){const g=e.indexOf(_);0<=g&&e.splice(g,1)}}u.d(me,{o:()=>n})},1853:(qe,me,u)=>{"use strict";function n(e){const g=e(S=>{Error.call(S),S.stack=(new Error).stack});return g.prototype=Object.create(Error.prototype),g.prototype.constructor=g,g}u.d(me,{L:()=>n})},8496:(qe,me,u)=>{"use strict";function n(e,_){return e.reduce((g,S,v)=>(g[S]=_[v],g),{})}u.d(me,{e:()=>n})},9786:(qe,me,u)=>{"use strict";u.d(me,{Y:()=>_,l:()=>g});var n=u(1026);let e=null;function _(S){if(n.$.useDeprecatedSynchronousErrorHandling){const v=!e;if(v&&(e={errorThrown:!1,error:null}),S(),v){const{errorThrown:f,error:d}=e;if(e=null,f)throw d}}else S()}function g(S){n.$.useDeprecatedSynchronousErrorHandling&&e&&(e.errorThrown=!0,e.error=S)}},5225:(qe,me,u)=>{"use strict";function n(e,_,g,S=0,v=!1){const f=_.schedule(function(){g(),v?e.add(this.schedule(null,S)):this.unsubscribe()},S);if(e.add(f),!v)return f}u.d(me,{N:()=>n})},3669:(qe,me,u)=>{"use strict";function n(e){return e}u.d(me,{D:()=>n})},7441:(qe,me,u)=>{"use strict";u.d(me,{X:()=>n});const n=e=>e&&"number"==typeof e.length&&"function"!=typeof e},7953:(qe,me,u)=>{"use strict";u.d(me,{T:()=>e});var n=u(8071);function e(_){return Symbol.asyncIterator&&(0,n.T)(_?.[Symbol.asyncIterator])}},8071:(qe,me,u)=>{"use strict";function n(e){return"function"==typeof e}u.d(me,{T:()=>n})},5055:(qe,me,u)=>{"use strict";u.d(me,{l:()=>_});var n=u(3494),e=u(8071);function _(g){return(0,e.T)(g[n.s])}},5397:(qe,me,u)=>{"use strict";u.d(me,{x:()=>_});var n=u(4761),e=u(8071);function _(g){return(0,e.T)(g?.[n.l])}},4402:(qe,me,u)=>{"use strict";u.d(me,{A:()=>_});var n=u(1985),e=u(8071);function _(g){return!!g&&(g instanceof n.c||(0,e.T)(g.lift)&&(0,e.T)(g.subscribe))}},9858:(qe,me,u)=>{"use strict";u.d(me,{y:()=>e});var n=u(8071);function e(_){return(0,n.T)(_?.then)}},5196:(qe,me,u)=>{"use strict";u.d(me,{C:()=>_,U:()=>g});var n=u(1635),e=u(8071);function _(S){return(0,n.AQ)(this,arguments,function*(){const f=S.getReader();try{for(;;){const{value:d,done:E}=yield(0,n.N3)(f.read());if(E)return yield(0,n.N3)(void 0);yield yield(0,n.N3)(d)}}finally{f.releaseLock()}})}function g(S){return(0,e.T)(S?.getReader)}},9470:(qe,me,u)=>{"use strict";u.d(me,{m:()=>e});var n=u(8071);function e(_){return _&&(0,n.T)(_.schedule)}},9974:(qe,me,u)=>{"use strict";u.d(me,{N:()=>_,S:()=>e});var n=u(8071);function e(g){return(0,n.T)(g?.lift)}function _(g){return S=>{if(e(S))return S.lift(function(v){try{return g(v,this)}catch(f){this.error(f)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(qe,me,u)=>{"use strict";u.d(me,{I:()=>g});var n=u(6354);const{isArray:e}=Array;function g(S){return(0,n.T)(v=>function _(S,v){return e(v)?S(...v):S(v)}(S,v))}},5343:(qe,me,u)=>{"use strict";function n(){}u.d(me,{l:()=>n})},1203:(qe,me,u)=>{"use strict";u.d(me,{F:()=>e,m:()=>_});var n=u(3669);function e(...g){return _(g)}function _(g){return 0===g.length?n.D:1===g.length?g[0]:function(v){return g.reduce((f,d)=>d(f),v)}}},5334:(qe,me,u)=>{"use strict";u.d(me,{m:()=>_});var n=u(1026),e=u(9270);function _(g){e.f.setTimeout(()=>{const{onUnhandledError:S}=n.$;if(!S)throw g;S(g)})}},591:(qe,me,u)=>{"use strict";function n(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}u.d(me,{L:()=>n})},9625:function(qe,me,u){var n;!function(e,_){"use strict";var f="function",d="undefined",E="object",m="string",F="major",w="model",C="name",R="type",x="vendor",O="version",H="architecture",M="console",V="mobile",U="tablet",G="smarttv",ie="wearable",le="embedded",J="Amazon",te="Apple",I="ASUS",oe="BlackBerry",z="Browser",_e="Chrome",Re="Firefox",ke="Google",we="Microsoft",de="Motorola",Ve="Opera",Ae="Samsung",Be="Sony",ht="Xiaomi",Ye="Zebra",Yt="Facebook",Ut="Chromium OS",X=function(it){for(var Ot={},ve=0;ve<it.length;ve++)Ot[it[ve].toUpperCase()]=it[ve];return Ot},Y=function(it,Ot){return typeof it===m&&-1!==ee(Ot).indexOf(ee(it))},ee=function(it){return it.toLowerCase()},Ee=function(it,Ot){if(typeof it===m)return it=it.replace(/^\s\s*/,""),typeof Ot===d?it:it.substring(0,500)},at=function(it,Ot){for(var ae,$,se,Ue,Ze,dt,ve=0;ve<Ot.length&&!Ze;){var Pt=Ot[ve],an=Ot[ve+1];for(ae=$=0;ae<Pt.length&&!Ze&&Pt[ae];)if(Ze=Pt[ae++].exec(it))for(se=0;se<an.length;se++)dt=Ze[++$],typeof(Ue=an[se])===E&&Ue.length>0?2===Ue.length?this[Ue[0]]=typeof Ue[1]==f?Ue[1].call(this,dt):Ue[1]:3===Ue.length?this[Ue[0]]=typeof Ue[1]!==f||Ue[1].exec&&Ue[1].test?dt?dt.replace(Ue[1],Ue[2]):_:dt?Ue[1].call(this,dt,Ue[2]):_:4===Ue.length&&(this[Ue[0]]=dt?Ue[3].call(this,dt.replace(Ue[1],Ue[2])):_):this[Ue]=dt||_;ve+=2}},je=function(it,Ot){for(var ve in Ot)if(typeof Ot[ve]===E&&Ot[ve].length>0){for(var ae=0;ae<Ot[ve].length;ae++)if(Y(Ot[ve][ae],it))return"?"===ve?_:ve}else if(Y(Ot[ve],it))return"?"===ve?_:ve;return it},Ft={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},ft={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[O,[C,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[O,[C,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[C,O],[/opios[\/ ]+([\w\.]+)/i],[O,[C,Ve+" Mini"]],[/\bopr\/([\w\.]+)/i],[O,[C,Ve]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[O,[C,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[C,O],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[O,[C,"UC"+z]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[O,[C,"WeChat"]],[/konqueror\/([\w\.]+)/i],[O,[C,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[O,[C,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[O,[C,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[O,[C,"Smart Lenovo "+z]],[/(avast|avg)\/([\w\.]+)/i],[[C,/(.+)/,"$1 Secure "+z],O],[/\bfocus\/([\w\.]+)/i],[O,[C,Re+" Focus"]],[/\bopt\/([\w\.]+)/i],[O,[C,Ve+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[O,[C,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[O,[C,"Dolphin"]],[/coast\/([\w\.]+)/i],[O,[C,Ve+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[O,[C,"MIUI "+z]],[/fxios\/([-\w\.]+)/i],[O,[C,Re]],[/\bqihu|(qi?ho?o?|360)browser/i],[[C,"360 "+z]],[/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i],[[C,/(.+)/,"$1 "+z],O],[/samsungbrowser\/([\w\.]+)/i],[O,[C,Ae+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[C,/_/g," "],O],[/metasr[\/ ]?([\d\.]+)/i],[O,[C,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[C,"Sogou Mobile"],O],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[C,O],[/(lbbrowser)/i,/\[(linkedin)app\]/i],[C],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[C,Yt],O],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[C,O],[/\bgsa\/([\w\.]+) .*safari\//i],[O,[C,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[O,[C,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[O,[C,_e+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[C,_e+" WebView"],O],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[O,[C,"Android "+z]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[C,O],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[O,[C,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[O,C],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[C,[O,je,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[C,O],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[C,"Netscape"],O],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[O,[C,Re+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[C,O],[/(cobalt)\/([\w\.]+)/i],[C,[O,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[H,"amd64"]],[/(ia32(?=;))/i],[[H,ee]],[/((?:i[346]|x)86)[;\)]/i],[[H,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[H,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[H,"armhf"]],[/windows (ce|mobile); ppc;/i],[[H,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[H,/ower/,"",ee]],[/(sun4\w)[;\)]/i],[[H,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[H,ee]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[w,[x,Ae],[R,U]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[w,[x,Ae],[R,V]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[w,[x,te],[R,V]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[w,[x,te],[R,U]],[/(macintosh);/i],[w,[x,te]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[w,[x,"Sharp"],[R,V]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[w,[x,"Huawei"],[R,U]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[w,[x,"Huawei"],[R,V]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[w,/_/g," "],[x,ht],[R,V]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[w,/_/g," "],[x,ht],[R,U]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[w,[x,"OPPO"],[R,V]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[w,[x,"Vivo"],[R,V]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[w,[x,"Realme"],[R,V]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[w,[x,de],[R,V]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[w,[x,de],[R,U]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[w,[x,"LG"],[R,U]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[w,[x,"LG"],[R,V]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[w,[x,"Lenovo"],[R,U]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[w,/_/g," "],[x,"Nokia"],[R,V]],[/(pixel c)\b/i],[w,[x,ke],[R,U]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[w,[x,ke],[R,V]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[w,[x,Be],[R,V]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[w,"Xperia Tablet"],[x,Be],[R,U]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[w,[x,"OnePlus"],[R,V]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[w,[x,J],[R,U]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[w,/(.+)/g,"Fire Phone $1"],[x,J],[R,V]],[/(playbook);[-\w\),; ]+(rim)/i],[w,x,[R,U]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[w,[x,oe],[R,V]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[w,[x,I],[R,U]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[w,[x,I],[R,V]],[/(nexus 9)/i],[w,[x,"HTC"],[R,U]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[x,[w,/_/g," "],[R,V]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[w,[x,"Acer"],[R,U]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[w,[x,"Meizu"],[R,V]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[w,[x,"Ulefone"],[R,V]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[x,w,[R,V]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[x,w,[R,U]],[/(surface duo)/i],[w,[x,we],[R,U]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[w,[x,"Fairphone"],[R,V]],[/(u304aa)/i],[w,[x,"AT&T"],[R,V]],[/\bsie-(\w*)/i],[w,[x,"Siemens"],[R,V]],[/\b(rct\w+) b/i],[w,[x,"RCA"],[R,U]],[/\b(venue[\d ]{2,7}) b/i],[w,[x,"Dell"],[R,U]],[/\b(q(?:mv|ta)\w+) b/i],[w,[x,"Verizon"],[R,U]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[w,[x,"Barnes & Noble"],[R,U]],[/\b(tm\d{3}\w+) b/i],[w,[x,"NuVision"],[R,U]],[/\b(k88) b/i],[w,[x,"ZTE"],[R,U]],[/\b(nx\d{3}j) b/i],[w,[x,"ZTE"],[R,V]],[/\b(gen\d{3}) b.+49h/i],[w,[x,"Swiss"],[R,V]],[/\b(zur\d{3}) b/i],[w,[x,"Swiss"],[R,U]],[/\b((zeki)?tb.*\b) b/i],[w,[x,"Zeki"],[R,U]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[x,"Dragon Touch"],w,[R,U]],[/\b(ns-?\w{0,9}) b/i],[w,[x,"Insignia"],[R,U]],[/\b((nxa|next)-?\w{0,9}) b/i],[w,[x,"NextBook"],[R,U]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[x,"Voice"],w,[R,V]],[/\b(lvtel\-)?(v1[12]) b/i],[[x,"LvTel"],w,[R,V]],[/\b(ph-1) /i],[w,[x,"Essential"],[R,V]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[w,[x,"Envizen"],[R,U]],[/\b(trio[-\w\. ]+) b/i],[w,[x,"MachSpeed"],[R,U]],[/\btu_(1491) b/i],[w,[x,"Rotor"],[R,U]],[/(shield[\w ]+) b/i],[w,[x,"Nvidia"],[R,U]],[/(sprint) (\w+)/i],[x,w,[R,V]],[/(kin\.[onetw]{3})/i],[[w,/\./g," "],[x,we],[R,V]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[w,[x,Ye],[R,U]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[w,[x,Ye],[R,V]],[/smart-tv.+(samsung)/i],[x,[R,G]],[/hbbtv.+maple;(\d+)/i],[[w,/^/,"SmartTV"],[x,Ae],[R,G]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[x,"LG"],[R,G]],[/(apple) ?tv/i],[x,[w,te+" TV"],[R,G]],[/crkey/i],[[w,_e+"cast"],[x,ke],[R,G]],[/droid.+aft(\w+)( bui|\))/i],[w,[x,J],[R,G]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[w,[x,"Sharp"],[R,G]],[/(bravia[\w ]+)( bui|\))/i],[w,[x,Be],[R,G]],[/(mitv-\w{5}) bui/i],[w,[x,ht],[R,G]],[/Hbbtv.*(technisat) (.*);/i],[x,w,[R,G]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[x,Ee],[w,Ee],[R,G]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[R,G]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[x,w,[R,M]],[/droid.+; (shield) bui/i],[w,[x,"Nvidia"],[R,M]],[/(playstation [345portablevi]+)/i],[w,[x,Be],[R,M]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[w,[x,we],[R,M]],[/((pebble))app/i],[x,w,[R,ie]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[w,[x,te],[R,ie]],[/droid.+; (glass) \d/i],[w,[x,ke],[R,ie]],[/droid.+; (wt63?0{2,3})\)/i],[w,[x,Ye],[R,ie]],[/(quest( 2| pro)?)/i],[w,[x,Yt],[R,ie]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[x,[R,le]],[/(aeobc)\b/i],[w,[x,J],[R,le]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[w,[R,V]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[w,[R,U]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[R,U]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[R,V]],[/(android[-\w\. ]{0,9});.+buil/i],[w,[x,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[O,[C,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[O,[C,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[C,O],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[O,C]],os:[[/microsoft (windows) (vista|xp)/i],[C,O],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[C,[O,je,Ft]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[O,je,Ft],[C,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[O,/_/g,"."],[C,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[C,"Mac OS"],[O,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[O,C],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[C,O],[/\(bb(10);/i],[O,[C,oe]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[O,[C,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[O,[C,Re+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[O,[C,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[O,[C,"watchOS"]],[/crkey\/([\d\.]+)/i],[O,[C,_e+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[C,Ut],O],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[C,O],[/(sunos) ?([\w\.\d]*)/i],[[C,"Solaris"],O],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[C,O]]},nt=function(it,Ot){if(typeof it===E&&(Ot=it,it=_),!(this instanceof nt))return new nt(it,Ot).getResult();var ve=typeof e!==d&&e.navigator?e.navigator:_,ae=it||(ve&&ve.userAgent?ve.userAgent:""),$=ve&&ve.userAgentData?ve.userAgentData:_,se=Ot?function(it,Ot){var ve={};for(var ae in it)ve[ae]=Ot[ae]&&Ot[ae].length%2==0?Ot[ae].concat(it[ae]):it[ae];return ve}(ft,Ot):ft,Ue=ve&&ve.userAgent==ae;return this.getBrowser=function(){var Ze={};return Ze[C]=_,Ze[O]=_,at.call(Ze,ae,se.browser),Ze[F]=function(it){return typeof it===m?it.replace(/[^\d\.]/g,"").split(".")[0]:_}(Ze[O]),Ue&&ve&&ve.brave&&typeof ve.brave.isBrave==f&&(Ze[C]="Brave"),Ze},this.getCPU=function(){var Ze={};return Ze[H]=_,at.call(Ze,ae,se.cpu),Ze},this.getDevice=function(){var Ze={};return Ze[x]=_,Ze[w]=_,Ze[R]=_,at.call(Ze,ae,se.device),Ue&&!Ze[R]&&$&&$.mobile&&(Ze[R]=V),Ue&&"Macintosh"==Ze[w]&&ve&&typeof ve.standalone!==d&&ve.maxTouchPoints&&ve.maxTouchPoints>2&&(Ze[w]="iPad",Ze[R]=U),Ze},this.getEngine=function(){var Ze={};return Ze[C]=_,Ze[O]=_,at.call(Ze,ae,se.engine),Ze},this.getOS=function(){var Ze={};return Ze[C]=_,Ze[O]=_,at.call(Ze,ae,se.os),Ue&&!Ze[C]&&$&&"Unknown"!=$.platform&&(Ze[C]=$.platform.replace(/chrome os/i,Ut).replace(/macos/i,"Mac OS")),Ze},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return ae},this.setUA=function(Ze){return ae=typeof Ze===m&&Ze.length>500?Ee(Ze,500):Ze,this},this.setUA(ae),this};nt.VERSION="1.0.37",nt.BROWSER=X([C,O,F]),nt.CPU=X([H]),nt.DEVICE=X([w,x,R,M,V,G,U,ie,le]),nt.ENGINE=nt.OS=X([C,O]),typeof me!==d?(qe.exports&&(me=qe.exports=nt),me.UAParser=nt):u.amdO?(n=function(){return nt}.call(me,u,me,qe))!==_&&(qe.exports=n):typeof e!==d&&(e.UAParser=nt);var Wt=typeof e!==d&&(e.jQuery||e.Zepto);if(Wt&&!Wt.ua){var tn=new nt;Wt.ua=tn.getResult(),Wt.ua.get=function(){return tn.getUA()},Wt.ua.set=function(it){tn.setUA(it);var Ot=tn.getResult();for(var ve in Ot)Wt.ua[ve]=Ot[ve]}}}("object"==typeof window?window:this)},5568:function(qe,me){!function(u){"use strict";function n(){for(var Rt=arguments.length,ut=Array(Rt),Nt=0;Nt<Rt;Nt++)ut[Nt]=arguments[Nt];if(ut.length>1){ut[0]=ut[0].slice(0,-1);for(var $t=ut.length-1,zt=1;zt<$t;++zt)ut[zt]=ut[zt].slice(1,-1);return ut[$t]=ut[$t].slice(1),ut.join("")}return ut[0]}function e(Rt){return"(?:"+Rt+")"}function _(Rt){return void 0===Rt?"undefined":null===Rt?"null":Object.prototype.toString.call(Rt).split(" ").pop().split("]").shift().toLowerCase()}function g(Rt){return Rt.toUpperCase()}function f(Rt){var ut="[A-Za-z]",$t="[0-9]",yn=n($t,"[A-Fa-f]"),An=e(e("%[EFef]"+yn+"%"+yn+yn+"%"+yn+yn)+"|"+e("%[89A-Fa-f]"+yn+"%"+yn+yn)+"|"+e("%"+yn+yn)),ui="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",gi=n("[\\:\\/\\?\\#\\[\\]\\@]",ui),Bi=Rt?"[\\uE000-\\uF8FF]":"[]",Xn=n(ut,$t,"[\\-\\.\\_\\~]",Rt?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),wi=e(ut+n(ut,$t,"[\\+\\-\\.]")+"*"),pi=e(e(An+"|"+n(Xn,ui,"[\\:]"))+"*"),ji=(e(e("25[0-5]")+"|"+e("2[0-4]"+$t)+"|"+e("1"+$t+$t)+"|"+e("[1-9]"+$t)+"|"+$t),e(e("25[0-5]")+"|"+e("2[0-4]"+$t)+"|"+e("1"+$t+$t)+"|"+e("0?[1-9]"+$t)+"|0?0?"+$t)),Si=e(ji+"\\."+ji+"\\."+ji+"\\."+ji),tt=e(yn+"{1,4}"),Dt=e(e(tt+"\\:"+tt)+"|"+Si),Ct=e(e(tt+"\\:")+"{6}"+Dt),rn=e("\\:\\:"+e(tt+"\\:")+"{5}"+Dt),Qt=e(e(tt)+"?\\:\\:"+e(tt+"\\:")+"{4}"+Dt),In=e(e(e(tt+"\\:")+"{0,1}"+tt)+"?\\:\\:"+e(tt+"\\:")+"{3}"+Dt),St=e(e(e(tt+"\\:")+"{0,2}"+tt)+"?\\:\\:"+e(tt+"\\:")+"{2}"+Dt),yt=e(e(e(tt+"\\:")+"{0,3}"+tt)+"?\\:\\:"+tt+"\\:"+Dt),Oe=e(e(e(tt+"\\:")+"{0,4}"+tt)+"?\\:\\:"+Dt),ue=e(e(e(tt+"\\:")+"{0,5}"+tt)+"?\\:\\:"+tt),q=e(e(e(tt+"\\:")+"{0,6}"+tt)+"?\\:\\:"),he=e([Ct,rn,Qt,In,St,yt,Oe,ue,q].join("|")),Me=e(e(Xn+"|"+An)+"+"),Kt=(e(he+"\\%25"+Me),e(he+e("\\%25|\\%(?!"+yn+"{2})")+Me)),hn=e("[vV]"+yn+"+\\."+n(Xn,ui,"[\\:]")+"+"),_n=e("\\["+e(Kt+"|"+he+"|"+hn)+"\\]"),Zn=e(e(An+"|"+n(Xn,ui))+"*"),_i=e(_n+"|"+Si+"(?!"+Zn+")|"+Zn),fi=e($t+"*"),di=e(e(pi+"@")+"?"+_i+e("\\:"+fi)+"?"),Yi=e(An+"|"+n(Xn,ui,"[\\:\\@]")),Ar=e(Yi+"*"),Gn=e(Yi+"+"),ri=e(e(An+"|"+n(Xn,ui,"[\\@]"))+"+"),cr=e(e("\\/"+Ar)+"*"),Mi=e("\\/"+e(Gn+cr)+"?"),xr=e(ri+cr),Gs=e(Gn+cr),ms="(?!"+Yi+")",vi=(e(cr+"|"+Mi+"|"+xr+"|"+Gs+"|"+ms),e(e(Yi+"|"+n("[\\/\\?]",Bi))+"*")),Bs=e(e(Yi+"|[\\/\\?]")+"*"),gs=e(e("\\/\\/"+di+cr)+"|"+Mi+"|"+Gs+"|"+ms),wr=e(wi+"\\:"+gs+e("\\?"+vi)+"?"+e("\\#"+Bs)+"?"),Ns=e(e("\\/\\/"+di+cr)+"|"+Mi+"|"+xr+"|"+ms),gr=e(Ns+e("\\?"+vi)+"?"+e("\\#"+Bs)+"?");return e(wr+"|"+gr),e(wi+"\\:"+gs+e("\\?"+vi)+"?"),e(e("\\/\\/("+e("("+pi+")@")+"?("+_i+")"+e("\\:("+fi+")")+"?)")+"?("+cr+"|"+Mi+"|"+Gs+"|"+ms+")"),e("\\?("+vi+")"),e("\\#("+Bs+")"),e(e("\\/\\/("+e("("+pi+")@")+"?("+_i+")"+e("\\:("+fi+")")+"?)")+"?("+cr+"|"+Mi+"|"+xr+"|"+ms+")"),e("\\?("+vi+")"),e("\\#("+Bs+")"),e(e("\\/\\/("+e("("+pi+")@")+"?("+_i+")"+e("\\:("+fi+")")+"?)")+"?("+cr+"|"+Mi+"|"+Gs+"|"+ms+")"),e("\\?("+vi+")"),e("\\#("+Bs+")"),e("("+pi+")@"),e("\\:("+fi+")"),{NOT_SCHEME:new RegExp(n("[^]",ut,$t,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(n("[^\\%\\:]",Xn,ui),"g"),NOT_HOST:new RegExp(n("[^\\%\\[\\]\\:]",Xn,ui),"g"),NOT_PATH:new RegExp(n("[^\\%\\/\\:\\@]",Xn,ui),"g"),NOT_PATH_NOSCHEME:new RegExp(n("[^\\%\\/\\@]",Xn,ui),"g"),NOT_QUERY:new RegExp(n("[^\\%]",Xn,ui,"[\\:\\@\\/\\?]",Bi),"g"),NOT_FRAGMENT:new RegExp(n("[^\\%]",Xn,ui,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(n("[^]",Xn,ui),"g"),UNRESERVED:new RegExp(Xn,"g"),OTHER_CHARS:new RegExp(n("[^\\%]",Xn,gi),"g"),PCT_ENCODED:new RegExp(An,"g"),IPV4ADDRESS:new RegExp("^("+Si+")$"),IPV6ADDRESS:new RegExp("^\\[?("+he+")"+e(e("\\%25|\\%(?!"+yn+"{2})")+"("+Me+")")+"?\\]?$")}}var d=f(!1),E=f(!0),m=function(){return function(ut,Nt){if(Array.isArray(ut))return ut;if(Symbol.iterator in Object(ut))return function Rt(ut,Nt){var $t=[],zt=!0,yn=!1,vn=void 0;try{for(var An,zn=ut[Symbol.iterator]();!(zt=(An=zn.next()).done)&&($t.push(An.value),!Nt||$t.length!==Nt);zt=!0);}catch(mn){yn=!0,vn=mn}finally{try{!zt&&zn.return&&zn.return()}finally{if(yn)throw vn}}return $t}(ut,Nt);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),w=2147483647,C=36,G=/^xn--/,ie=/[^\0-\x7E]/,le=/[\x2E\u3002\uFF0E\uFF61]/g,L={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},te=Math.floor,I=String.fromCharCode;function oe(Rt){throw new RangeError(L[Rt])}function _e(Rt,ut){var Nt=Rt.split("@"),$t="";return Nt.length>1&&($t=Nt[0]+"@",Rt=Nt[1]),$t+function z(Rt,ut){for(var Nt=[],$t=Rt.length;$t--;)Nt[$t]=ut(Rt[$t]);return Nt}((Rt=Rt.replace(le,".")).split("."),ut).join(".")}function Pe(Rt){for(var ut=[],Nt=0,$t=Rt.length;Nt<$t;){var zt=Rt.charCodeAt(Nt++);if(zt>=55296&&zt<=56319&&Nt<$t){var yn=Rt.charCodeAt(Nt++);56320==(64512&yn)?ut.push(((1023&zt)<<10)+(1023&yn)+65536):(ut.push(zt),Nt--)}else ut.push(zt)}return ut}var ke=function(ut){return ut-48<10?ut-22:ut-65<26?ut-65:ut-97<26?ut-97:C},Je=function(ut,Nt){return ut+22+75*(ut<26)-((0!=Nt)<<5)},Te=function(ut,Nt,$t){var zt=0;for(ut=$t?te(ut/700):ut>>1,ut+=te(ut/Nt);ut>455;zt+=C)ut=te(ut/35);return te(zt+36*ut/(ut+38))},we=function(ut){var Nt=[],$t=ut.length,zt=0,yn=128,vn=72,zn=ut.lastIndexOf("-");zn<0&&(zn=0);for(var An=0;An<zn;++An)ut.charCodeAt(An)>=128&&oe("not-basic"),Nt.push(ut.charCodeAt(An));for(var mn=zn>0?zn+1:0;mn<$t;){for(var ui=zt,gi=1,ni=C;;ni+=C){mn>=$t&&oe("invalid-input");var Bi=ke(ut.charCodeAt(mn++));(Bi>=C||Bi>te((w-zt)/gi))&&oe("overflow"),zt+=Bi*gi;var Xn=ni<=vn?1:ni>=vn+26?26:ni-vn;if(Bi<Xn)break;var wi=C-Xn;gi>te(w/wi)&&oe("overflow"),gi*=wi}var pi=Nt.length+1;vn=Te(zt-ui,pi,0==ui),te(zt/pi)>w-yn&&oe("overflow"),yn+=te(zt/pi),zt%=pi,Nt.splice(zt++,0,yn)}return String.fromCodePoint.apply(String,Nt)},de=function(ut){var Nt=[],$t=(ut=Pe(ut)).length,zt=128,yn=0,vn=72,zn=!0,An=!1,mn=void 0;try{for(var gi,ui=ut[Symbol.iterator]();!(zn=(gi=ui.next()).done);zn=!0){var ni=gi.value;ni<128&&Nt.push(I(ni))}}catch(Kt){An=!0,mn=Kt}finally{try{!zn&&ui.return&&ui.return()}finally{if(An)throw mn}}var Bi=Nt.length,Xn=Bi;for(Bi&&Nt.push("-");Xn<$t;){var wi=w,pi=!0,Hi=!1,ji=void 0;try{for(var tt,Si=ut[Symbol.iterator]();!(pi=(tt=Si.next()).done);pi=!0){var Dt=tt.value;Dt>=zt&&Dt<wi&&(wi=Dt)}}catch(Kt){Hi=!0,ji=Kt}finally{try{!pi&&Si.return&&Si.return()}finally{if(Hi)throw ji}}var Ct=Xn+1;wi-zt>te((w-yn)/Ct)&&oe("overflow"),yn+=(wi-zt)*Ct,zt=wi;var rn=!0,Qt=!1,In=void 0;try{for(var yt,St=ut[Symbol.iterator]();!(rn=(yt=St.next()).done);rn=!0){var Oe=yt.value;if(Oe<zt&&++yn>w&&oe("overflow"),Oe==zt){for(var ue=yn,q=C;;q+=C){var he=q<=vn?1:q>=vn+26?26:q-vn;if(ue<he)break;var Me=ue-he,Et=C-he;Nt.push(I(Je(he+Me%Et,0))),ue=te(Me/Et)}Nt.push(I(Je(ue,0))),vn=Te(yn,Ct,Xn==Bi),yn=0,++Xn}}}catch(Kt){Qt=!0,In=Kt}finally{try{!rn&&St.return&&St.return()}finally{if(Qt)throw In}}++yn,++zt}return Nt.join("")},rt={version:"2.1.0",ucs2:{decode:Pe,encode:function(ut){return String.fromCodePoint.apply(String,function(Rt){if(Array.isArray(Rt)){for(var ut=0,Nt=Array(Rt.length);ut<Rt.length;ut++)Nt[ut]=Rt[ut];return Nt}return Array.from(Rt)}(ut))}},decode:we,encode:de,toASCII:function(ut){return _e(ut,function(Nt){return ie.test(Nt)?"xn--"+de(Nt):Nt})},toUnicode:function(ut){return _e(ut,function(Nt){return G.test(Nt)?we(Nt.slice(4).toLowerCase()):Nt})}},Be={};function ht(Rt){var ut=Rt.charCodeAt(0);return ut<16?"%0"+ut.toString(16).toUpperCase():ut<128?"%"+ut.toString(16).toUpperCase():ut<2048?"%"+(ut>>6|192).toString(16).toUpperCase()+"%"+(63&ut|128).toString(16).toUpperCase():"%"+(ut>>12|224).toString(16).toUpperCase()+"%"+(ut>>6&63|128).toString(16).toUpperCase()+"%"+(63&ut|128).toString(16).toUpperCase()}function Ye(Rt){for(var ut="",Nt=0,$t=Rt.length;Nt<$t;){var zt=parseInt(Rt.substr(Nt+1,2),16);if(zt<128)ut+=String.fromCharCode(zt),Nt+=3;else if(zt>=194&&zt<224){if($t-Nt>=6){var yn=parseInt(Rt.substr(Nt+4,2),16);ut+=String.fromCharCode((31&zt)<<6|63&yn)}else ut+=Rt.substr(Nt,6);Nt+=6}else if(zt>=224){if($t-Nt>=9){var vn=parseInt(Rt.substr(Nt+4,2),16),zn=parseInt(Rt.substr(Nt+7,2),16);ut+=String.fromCharCode((15&zt)<<12|(63&vn)<<6|63&zn)}else ut+=Rt.substr(Nt,9);Nt+=9}else ut+=Rt.substr(Nt,3),Nt+=3}return ut}function Yt(Rt,ut){function Nt($t){var zt=Ye($t);return zt.match(ut.UNRESERVED)?zt:$t}return Rt.scheme&&(Rt.scheme=String(Rt.scheme).replace(ut.PCT_ENCODED,Nt).toLowerCase().replace(ut.NOT_SCHEME,"")),void 0!==Rt.userinfo&&(Rt.userinfo=String(Rt.userinfo).replace(ut.PCT_ENCODED,Nt).replace(ut.NOT_USERINFO,ht).replace(ut.PCT_ENCODED,g)),void 0!==Rt.host&&(Rt.host=String(Rt.host).replace(ut.PCT_ENCODED,Nt).toLowerCase().replace(ut.NOT_HOST,ht).replace(ut.PCT_ENCODED,g)),void 0!==Rt.path&&(Rt.path=String(Rt.path).replace(ut.PCT_ENCODED,Nt).replace(Rt.scheme?ut.NOT_PATH:ut.NOT_PATH_NOSCHEME,ht).replace(ut.PCT_ENCODED,g)),void 0!==Rt.query&&(Rt.query=String(Rt.query).replace(ut.PCT_ENCODED,Nt).replace(ut.NOT_QUERY,ht).replace(ut.PCT_ENCODED,g)),void 0!==Rt.fragment&&(Rt.fragment=String(Rt.fragment).replace(ut.PCT_ENCODED,Nt).replace(ut.NOT_FRAGMENT,ht).replace(ut.PCT_ENCODED,g)),Rt}function Ut(Rt){return Rt.replace(/^0*(.*)/,"$1")||"0"}function Tt(Rt,ut){var Nt=Rt.match(ut.IPV4ADDRESS)||[],zt=m(Nt,2)[1];return zt?zt.split(".").map(Ut).join("."):Rt}function _t(Rt,ut){var Nt=Rt.match(ut.IPV6ADDRESS)||[],$t=m(Nt,3),zt=$t[1],yn=$t[2];if(zt){for(var vn=zt.toLowerCase().split("::").reverse(),zn=m(vn,2),An=zn[0],mn=zn[1],ui=mn?mn.split(":").map(Ut):[],gi=An.split(":").map(Ut),ni=ut.IPV4ADDRESS.test(gi[gi.length-1]),Bi=ni?7:8,Xn=gi.length-Bi,wi=Array(Bi),pi=0;pi<Bi;++pi)wi[pi]=ui[pi]||gi[Xn+pi]||"";ni&&(wi[Bi-1]=Tt(wi[Bi-1],ut));var ji=wi.reduce(function(Ct,rn,Qt){if(!rn||"0"===rn){var In=Ct[Ct.length-1];In&&In.index+In.length===Qt?In.length++:Ct.push({index:Qt,length:1})}return Ct},[]).sort(function(Ct,rn){return rn.length-Ct.length})[0],Si=void 0;if(ji&&ji.length>1){var tt=wi.slice(0,ji.index),Dt=wi.slice(ji.index+ji.length);Si=tt.join(":")+"::"+Dt.join(":")}else Si=wi.join(":");return yn&&(Si+="%"+yn),Si}return Rt}var X=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Y=void 0==="".match(/(){0}/)[1];function ee(Rt){var ut=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Nt={},$t=!1!==ut.iri?E:d;"suffix"===ut.reference&&(Rt=(ut.scheme?ut.scheme+":":"")+"//"+Rt);var zt=Rt.match(X);if(zt){Y?(Nt.scheme=zt[1],Nt.userinfo=zt[3],Nt.host=zt[4],Nt.port=parseInt(zt[5],10),Nt.path=zt[6]||"",Nt.query=zt[7],Nt.fragment=zt[8],isNaN(Nt.port)&&(Nt.port=zt[5])):(Nt.scheme=zt[1]||void 0,Nt.userinfo=-1!==Rt.indexOf("@")?zt[3]:void 0,Nt.host=-1!==Rt.indexOf("//")?zt[4]:void 0,Nt.port=parseInt(zt[5],10),Nt.path=zt[6]||"",Nt.query=-1!==Rt.indexOf("?")?zt[7]:void 0,Nt.fragment=-1!==Rt.indexOf("#")?zt[8]:void 0,isNaN(Nt.port)&&(Nt.port=Rt.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?zt[4]:void 0)),Nt.host&&(Nt.host=_t(Tt(Nt.host,$t),$t)),Nt.reference=void 0!==Nt.scheme||void 0!==Nt.userinfo||void 0!==Nt.host||void 0!==Nt.port||Nt.path||void 0!==Nt.query?void 0===Nt.scheme?"relative":void 0===Nt.fragment?"absolute":"uri":"same-document",ut.reference&&"suffix"!==ut.reference&&ut.reference!==Nt.reference&&(Nt.error=Nt.error||"URI is not a "+ut.reference+" reference.");var yn=Be[(ut.scheme||Nt.scheme||"").toLowerCase()];if(ut.unicodeSupport||yn&&yn.unicodeSupport)Yt(Nt,$t);else{if(Nt.host&&(ut.domainHost||yn&&yn.domainHost))try{Nt.host=rt.toASCII(Nt.host.replace($t.PCT_ENCODED,Ye).toLowerCase())}catch(vn){Nt.error=Nt.error||"Host's domain name can not be converted to ASCII via punycode: "+vn}Yt(Nt,d)}yn&&yn.parse&&yn.parse(Nt,ut)}else Nt.error=Nt.error||"URI can not be parsed.";return Nt}var Ee=/^\.\.?\//,at=/^\/\.(\/|$)/,je=/^\/\.\.(\/|$)/,ot=/^\/?(?:.|\n)*?(?=\/|$)/;function Ft(Rt){for(var ut=[];Rt.length;)if(Rt.match(Ee))Rt=Rt.replace(Ee,"");else if(Rt.match(at))Rt=Rt.replace(at,"/");else if(Rt.match(je))Rt=Rt.replace(je,"/"),ut.pop();else if("."===Rt||".."===Rt)Rt="";else{var Nt=Rt.match(ot);if(!Nt)throw new Error("Unexpected dot segment condition");var $t=Nt[0];Rt=Rt.slice($t.length),ut.push($t)}return ut.join("")}function ft(Rt){var ut=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Nt=ut.iri?E:d,$t=[],zt=Be[(ut.scheme||Rt.scheme||"").toLowerCase()];if(zt&&zt.serialize&&zt.serialize(Rt,ut),Rt.host&&!Nt.IPV6ADDRESS.test(Rt.host)&&(ut.domainHost||zt&&zt.domainHost))try{Rt.host=ut.iri?rt.toUnicode(Rt.host):rt.toASCII(Rt.host.replace(Nt.PCT_ENCODED,Ye).toLowerCase())}catch(zn){Rt.error=Rt.error||"Host's domain name can not be converted to "+(ut.iri?"Unicode":"ASCII")+" via punycode: "+zn}Yt(Rt,Nt),"suffix"!==ut.reference&&Rt.scheme&&($t.push(Rt.scheme),$t.push(":"));var yn=function Se(Rt,ut){var Nt=!1!==ut.iri?E:d,$t=[];return void 0!==Rt.userinfo&&($t.push(Rt.userinfo),$t.push("@")),void 0!==Rt.host&&$t.push(_t(Tt(String(Rt.host),Nt),Nt).replace(Nt.IPV6ADDRESS,function(zt,yn,vn){return"["+yn+(vn?"%25"+vn:"")+"]"})),("number"==typeof Rt.port||"string"==typeof Rt.port)&&($t.push(":"),$t.push(String(Rt.port))),$t.length?$t.join(""):void 0}(Rt,ut);if(void 0!==yn&&("suffix"!==ut.reference&&$t.push("//"),$t.push(yn),Rt.path&&"/"!==Rt.path.charAt(0)&&$t.push("/")),void 0!==Rt.path){var vn=Rt.path;!ut.absolutePath&&(!zt||!zt.absolutePath)&&(vn=Ft(vn)),void 0===yn&&(vn=vn.replace(/^\/\//,"/%2F")),$t.push(vn)}return void 0!==Rt.query&&($t.push("?"),$t.push(Rt.query)),void 0!==Rt.fragment&&($t.push("#"),$t.push(Rt.fragment)),$t.join("")}function nt(Rt,ut){var Nt=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},zt={};return arguments[3]||(Rt=ee(ft(Rt,Nt),Nt),ut=ee(ft(ut,Nt),Nt)),!(Nt=Nt||{}).tolerant&&ut.scheme?(zt.scheme=ut.scheme,zt.userinfo=ut.userinfo,zt.host=ut.host,zt.port=ut.port,zt.path=Ft(ut.path||""),zt.query=ut.query):(void 0!==ut.userinfo||void 0!==ut.host||void 0!==ut.port?(zt.userinfo=ut.userinfo,zt.host=ut.host,zt.port=ut.port,zt.path=Ft(ut.path||""),zt.query=ut.query):(ut.path?("/"===ut.path.charAt(0)?zt.path=Ft(ut.path):(zt.path=void 0===Rt.userinfo&&void 0===Rt.host&&void 0===Rt.port||Rt.path?Rt.path?Rt.path.slice(0,Rt.path.lastIndexOf("/")+1)+ut.path:ut.path:"/"+ut.path,zt.path=Ft(zt.path)),zt.query=ut.query):(zt.path=Rt.path,zt.query=void 0!==ut.query?ut.query:Rt.query),zt.userinfo=Rt.userinfo,zt.host=Rt.host,zt.port=Rt.port),zt.scheme=Rt.scheme),zt.fragment=ut.fragment,zt}function ve(Rt,ut){return Rt&&Rt.toString().replace(ut&&ut.iri?E.PCT_ENCODED:d.PCT_ENCODED,Ye)}var ae={scheme:"http",domainHost:!0,parse:function(ut,Nt){return ut.host||(ut.error=ut.error||"HTTP URIs must have a host."),ut},serialize:function(ut,Nt){var $t="https"===String(ut.scheme).toLowerCase();return(ut.port===($t?443:80)||""===ut.port)&&(ut.port=void 0),ut.path||(ut.path="/"),ut}},$={scheme:"https",domainHost:ae.domainHost,parse:ae.parse,serialize:ae.serialize};function se(Rt){return"boolean"==typeof Rt.secure?Rt.secure:"wss"===String(Rt.scheme).toLowerCase()}var Ue={scheme:"ws",domainHost:!0,parse:function(ut,Nt){var $t=ut;return $t.secure=se($t),$t.resourceName=($t.path||"/")+($t.query?"?"+$t.query:""),$t.path=void 0,$t.query=void 0,$t},serialize:function(ut,Nt){if((ut.port===(se(ut)?443:80)||""===ut.port)&&(ut.port=void 0),"boolean"==typeof ut.secure&&(ut.scheme=ut.secure?"wss":"ws",ut.secure=void 0),ut.resourceName){var $t=ut.resourceName.split("?"),zt=m($t,2),yn=zt[0],vn=zt[1];ut.path=yn&&"/"!==yn?yn:void 0,ut.query=vn,ut.resourceName=void 0}return ut.fragment=void 0,ut}},Ze={scheme:"wss",domainHost:Ue.domainHost,parse:Ue.parse,serialize:Ue.serialize},dt={},an="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",un="[0-9A-Fa-f]",Mn=e(e("%[EFef]"+un+"%"+un+un+"%"+un+un)+"|"+e("%[89A-Fa-f]"+un+"%"+un+un)+"|"+e("%"+un+un)),It=n("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),Ht=new RegExp(an,"g"),lt=new RegExp(Mn,"g"),vt=new RegExp(n("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',It),"g"),mt=new RegExp(n("[^]",an,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),kt=mt;function nn(Rt){var ut=Ye(Rt);return ut.match(Ht)?ut:Rt}var Tn={scheme:"mailto",parse:function(ut,Nt){var $t=ut,zt=$t.to=$t.path?$t.path.split(","):[];if($t.path=void 0,$t.query){for(var yn=!1,vn={},zn=$t.query.split("&"),An=0,mn=zn.length;An<mn;++An){var ui=zn[An].split("=");switch(ui[0]){case"to":for(var gi=ui[1].split(","),ni=0,Bi=gi.length;ni<Bi;++ni)zt.push(gi[ni]);break;case"subject":$t.subject=ve(ui[1],Nt);break;case"body":$t.body=ve(ui[1],Nt);break;default:yn=!0,vn[ve(ui[0],Nt)]=ve(ui[1],Nt)}}yn&&($t.headers=vn)}$t.query=void 0;for(var Xn=0,wi=zt.length;Xn<wi;++Xn){var pi=zt[Xn].split("@");if(pi[0]=ve(pi[0]),Nt.unicodeSupport)pi[1]=ve(pi[1],Nt).toLowerCase();else try{pi[1]=rt.toASCII(ve(pi[1],Nt).toLowerCase())}catch(Hi){$t.error=$t.error||"Email address's domain name can not be converted to ASCII via punycode: "+Hi}zt[Xn]=pi.join("@")}return $t},serialize:function(ut,Nt){var $t=ut,zt=function S(Rt){return null!=Rt?Rt instanceof Array?Rt:"number"!=typeof Rt.length||Rt.split||Rt.setInterval||Rt.call?[Rt]:Array.prototype.slice.call(Rt):[]}(ut.to);if(zt){for(var yn=0,vn=zt.length;yn<vn;++yn){var zn=String(zt[yn]),An=zn.lastIndexOf("@"),mn=zn.slice(0,An).replace(lt,nn).replace(lt,g).replace(vt,ht),ui=zn.slice(An+1);try{ui=Nt.iri?rt.toUnicode(ui):rt.toASCII(ve(ui,Nt).toLowerCase())}catch(Xn){$t.error=$t.error||"Email address's domain name can not be converted to "+(Nt.iri?"Unicode":"ASCII")+" via punycode: "+Xn}zt[yn]=mn+"@"+ui}$t.path=zt.join(",")}var gi=ut.headers=ut.headers||{};ut.subject&&(gi.subject=ut.subject),ut.body&&(gi.body=ut.body);var ni=[];for(var Bi in gi)gi[Bi]!==dt[Bi]&&ni.push(Bi.replace(lt,nn).replace(lt,g).replace(mt,ht)+"="+gi[Bi].replace(lt,nn).replace(lt,g).replace(kt,ht));return ni.length&&($t.query=ni.join("&")),$t}},Ln=/^([^\:]+)\:(.*)/,dn={scheme:"urn",parse:function(ut,Nt){var $t=ut.path&&ut.path.match(Ln),zt=ut;if($t){var yn=Nt.scheme||zt.scheme||"urn",vn=$t[1].toLowerCase(),zn=$t[2],mn=Be[yn+":"+(Nt.nid||vn)];zt.nid=vn,zt.nss=zn,zt.path=void 0,mn&&(zt=mn.parse(zt,Nt))}else zt.error=zt.error||"URN can not be parsed.";return zt},serialize:function(ut,Nt){var zt=ut.nid,vn=Be[(Nt.scheme||ut.scheme||"urn")+":"+(Nt.nid||zt)];vn&&(ut=vn.serialize(ut,Nt));var zn=ut;return zn.path=(zt||Nt.nid)+":"+ut.nss,zn}},li=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,ci={scheme:"urn:uuid",parse:function(ut,Nt){var $t=ut;return $t.uuid=$t.nss,$t.nss=void 0,!Nt.tolerant&&(!$t.uuid||!$t.uuid.match(li))&&($t.error=$t.error||"UUID is not valid."),$t},serialize:function(ut,Nt){var $t=ut;return $t.nss=(ut.uuid||"").toLowerCase(),$t}};Be[ae.scheme]=ae,Be[$.scheme]=$,Be[Ue.scheme]=Ue,Be[Ze.scheme]=Ze,Be[Tn.scheme]=Tn,Be[dn.scheme]=dn,Be[ci.scheme]=ci,u.SCHEMES=Be,u.pctEncChar=ht,u.pctDecChars=Ye,u.parse=ee,u.removeDotSegments=Ft,u.serialize=ft,u.resolveComponents=nt,u.resolve=function Wt(Rt,ut,Nt){var $t=function v(Rt,ut){var Nt=Rt;if(ut)for(var $t in ut)Nt[$t]=ut[$t];return Nt}({scheme:"null"},Nt);return ft(nt(ee(Rt,$t),ee(ut,$t),$t,!0),$t)},u.normalize=function tn(Rt,ut){return"string"==typeof Rt?Rt=ft(ee(Rt,ut),ut):"object"===_(Rt)&&(Rt=ee(ft(Rt,ut),ut)),Rt},u.equal=function it(Rt,ut,Nt){return"string"==typeof Rt?Rt=ft(ee(Rt,Nt),Nt):"object"===_(Rt)&&(Rt=ft(Rt,Nt)),"string"==typeof ut?ut=ft(ee(ut,Nt),Nt):"object"===_(ut)&&(ut=ft(ut,Nt)),Rt===ut},u.escapeComponent=function Ot(Rt,ut){return Rt&&Rt.toString().replace(ut&&ut.iri?E.ESCAPE:d.ESCAPE,ht)},u.unescapeComponent=ve,Object.defineProperty(u,"__esModule",{value:!0})}(me)},1108:function(qe,me){var u,e;!function(_,g){"use strict";u=function(_){return function(S){S=S||{},function f(){S.arrayAccessForm=S.arrayAccessForm||"none",S.emptyNodeForm=S.emptyNodeForm||"text",S.jsAttributeFilter=S.jsAttributeFilter,S.jsAttributeConverter=S.jsAttributeConverter,S.attributeConverters=S.attributeConverters||[],S.datetimeAccessFormPaths=S.datetimeAccessFormPaths||[],S.arrayAccessFormPaths=S.arrayAccessFormPaths||[],S.xmldomOptions=S.xmldomOptions||{},void 0===S.enableToStringFunc&&(S.enableToStringFunc=!0),void 0===S.skipEmptyTextNodesForObj&&(S.skipEmptyTextNodesForObj=!0),void 0===S.stripWhitespaces&&(S.stripWhitespaces=!0),void 0===S.useDoubleQuotes&&(S.useDoubleQuotes=!0),void 0===S.ignoreRoot&&(S.ignoreRoot=!1),void 0===S.escapeMode&&(S.escapeMode=!0),void 0===S.attributePrefix&&(S.attributePrefix="_"),void 0===S.selfClosingElements&&(S.selfClosingElements=!0),void 0===S.keepCData&&(S.keepCData=!1),void 0===S.keepText&&(S.keepText=!1),void 0===S.jsDateUTC&&(S.jsDateUTC=!1)}(),function d(){function Re(ke){var Je=String(ke);return 1===Je.length&&(Je="0"+Je),Je}"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|^\n+|(\s|\n)+$/g,"")}),"function"!=typeof Date.prototype.toISOString&&(Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+Re(this.getUTCMonth()+1)+"-"+Re(this.getUTCDate())+"T"+Re(this.getUTCHours())+":"+Re(this.getUTCMinutes())+":"+Re(this.getUTCSeconds())+"."+String((this.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"})}();var E={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};function m(Re){var ke=Re.localName;return null==ke&&(ke=Re.baseName),(null==ke||""===ke)&&(ke=Re.nodeName),ke}function w(Re){return"string"==typeof Re?Re.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"):Re}function R(Re,ke,Je){if("property"===S.arrayAccessForm&&(Re[ke+"_asArray"]=Re[ke]instanceof Array?Re[ke]:[Re[ke]]),!(Re[ke]instanceof Array)&&S.arrayAccessFormPaths.length>0){for(var Te=!1,we=0;we<S.arrayAccessFormPaths.length;we++){var de=S.arrayAccessFormPaths[we];if("string"==typeof de){if(de===Je){Te=!0;break}}else if(de instanceof RegExp){if(de.test(Je)){Te=!0;break}}else if("function"==typeof de&&de(ke,Je)){Te=!0;break}}Te&&(Re[ke]=[Re[ke]])}}function x(Re){var Je=Re.split(/[-T:+Z]/g),Te=new Date(Je[0],Je[1]-1,Je[2]),we=Je[5].split(".");if(Te.setHours(Je[3],Je[4],we[0]),we.length>1&&Te.setMilliseconds(we[1]),Je[6]&&Je[7]){var de=60*Je[6]+Number(Je[7]);de=0+("-"==(/\d\d-\d\d:\d\d$/.test(Re)?"-":"+")?-1*de:de),Te.setMinutes(Te.getMinutes()-de-Te.getTimezoneOffset())}else-1!==Re.indexOf("Z",Re.length-1)&&(Te=new Date(Date.UTC(Te.getFullYear(),Te.getMonth(),Te.getDate(),Te.getHours(),Te.getMinutes(),Te.getSeconds(),Te.getMilliseconds())));return Te}function M(Re,ke){for(var Je={__cnt:0},Te=Re.childNodes,we=0;we<Te.length;we++){var de=Te.item(we),Ve=m(de);de.nodeType!==E.COMMENT_NODE&&(Je.__cnt++,null==Je[Ve]?(Je[Ve]=V(de,ke+"."+Ve),R(Je,Ve,ke+"."+Ve)):(Je[Ve]instanceof Array||(Je[Ve]=[Je[Ve]],R(Je,Ve,ke+"."+Ve)),Je[Ve][Je[Ve].length]=V(de,ke+"."+Ve)))}for(var Ae=0;Ae<Re.attributes.length;Ae++){var rt=Re.attributes.item(Ae);Je.__cnt++;for(var Be=rt.value,ht=0;ht<S.attributeConverters.length;ht++){var Ye=S.attributeConverters[ht];Ye.test.call(null,rt.name,rt.value)&&(Be=Ye.convert.call(null,rt.name,rt.value))}Je[S.attributePrefix+rt.name]=Be}var Yt=function F(Re){return Re.prefix}(Re);return Yt&&(Je.__cnt++,Je.__prefix=Yt),Je["#text"]&&(Je.__text=Je["#text"],Je.__text instanceof Array&&(Je.__text=Je.__text.join("\n")),S.escapeMode&&(Je.__text=function C(Re){return Re.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&amp;/g,"&")}(Je.__text)),S.stripWhitespaces&&(Je.__text=Je.__text.trim()),delete Je["#text"],"property"===S.arrayAccessForm&&delete Je["#text_asArray"],Je.__text=function O(Re,ke,Je){if(S.datetimeAccessFormPaths.length>0)for(var Te=Je.split(".#")[0],we=0;we<S.datetimeAccessFormPaths.length;we++){var de=S.datetimeAccessFormPaths[we];if("string"==typeof de){if(de===Te)return x(Re)}else if(de instanceof RegExp){if(de.test(Te))return x(Re)}else if("function"==typeof de&&de(Te))return x(Re)}return Re}(Je.__text,0,ke+".#text")),Je.hasOwnProperty("#cdata-section")&&(Je.__cdata=Je["#cdata-section"],delete Je["#cdata-section"],"property"===S.arrayAccessForm&&delete Je["#cdata-section_asArray"]),1===Je.__cnt&&Je.__text&&!S.keepText?Je=Je.__text:0===Je.__cnt&&"text"===S.emptyNodeForm?Je="":Je.__cnt>1&&void 0!==Je.__text&&S.skipEmptyTextNodesForObj&&(S.stripWhitespaces&&""===Je.__text||""===Je.__text.trim())&&delete Je.__text,delete Je.__cnt,S.keepCData||Je.hasOwnProperty("__text")||!Je.hasOwnProperty("__cdata")||1!==Object.keys(Je).length?(S.enableToStringFunc&&(Je.__text||Je.__cdata)&&(Je.toString=function(){return(this.__text?this.__text:"")+(this.__cdata?this.__cdata:"")}),Je):Je.__cdata?Je.__cdata:""}function V(Re,ke){return Re.nodeType===E.DOCUMENT_NODE?function H(Re){for(var ke={},Je=Re.childNodes,Te=0;Te<Je.length;Te++){var we=Je.item(Te);if(we.nodeType===E.ELEMENT_NODE){var de=m(we);S.ignoreRoot?ke=V(we,de):ke[de]=V(we,de)}}return ke}(Re):Re.nodeType===E.ELEMENT_NODE?M(Re,ke):Re.nodeType===E.TEXT_NODE||Re.nodeType===E.CDATA_SECTION_NODE?Re.nodeValue:null}function U(Re,ke,Je,Te){var we="<"+(Re&&Re.__prefix?Re.__prefix+":":"")+ke;if(Je)for(var de=0;de<Je.length;de++){var Ve=Je[de],Ae=Re[Ve];S.escapeMode&&(Ae=w(Ae)),we+=" "+Ve.substr(S.attributePrefix.length)+"=",we+=S.useDoubleQuotes?'"'+Ae+'"':"'"+Ae+"'"}return we+(Te?" />":">")}function G(Re,ke){return"</"+(Re&&Re.__prefix?Re.__prefix+":":"")+ke+">"}function le(Re,ke){return!!("property"===S.arrayAccessForm&&function ie(Re,ke){return-1!==Re.indexOf(ke,Re.length-ke.length)}(ke.toString(),"_asArray")||0===ke.toString().indexOf(S.attributePrefix)||0===ke.toString().indexOf("__")||Re[ke]instanceof Function)}function L(Re){var ke=0;if(Re instanceof Object)for(var Je in Re)le(Re,Je)||ke++;return ke}function J(Re){var ke=[];if(Re instanceof Object)for(var Je in Re)-1===Je.toString().indexOf("__")&&0===Je.toString().indexOf(S.attributePrefix)&&ke.push(Je);return ke}function I(Re){var ke="";return Re instanceof Object?ke+=function te(Re){var ke="";return Re.__cdata&&(ke+="<![CDATA["+Re.__cdata+"]]>"),(Re.__text||"number"==typeof Re.__text||"boolean"==typeof Re.__text)&&(ke+=S.escapeMode?w(Re.__text):Re.__text),ke}(Re):null!==Re&&(ke+=S.escapeMode?w(Re):Re),ke}function z(Re,ke,Je){var Te="";return S.jsAttributeFilter&&S.jsAttributeFilter.call(null,ke,Re)||(S.jsAttributeConverter&&(Re=S.jsAttributeConverter.call(null,ke,Re)),null!=Re&&""!==Re||!S.selfClosingElements?"object"==typeof Re?"[object Array]"===Object.prototype.toString.call(Re)?Te+=function oe(Re,ke,Je){var Te="";if(0===Re.length)Te+=U(Re,ke,Je,!0);else for(var we=0;we<Re.length;we++)Te+=z(Re[we],ke,J(Re[we]));return Te}(Re,ke,Je):Re instanceof Date?(Te+=U(Re,ke,Je,!1),Te+=S.jsDateUTC?Re.toUTCString():Re.toISOString(),Te+=G(Re,ke)):L(Re)>0||"number"==typeof Re.__text||"boolean"==typeof Re.__text||Re.__text||Re.__cdata?(Te+=U(Re,ke,Je,!1),Te+=_e(Re),Te+=G(Re,ke)):S.selfClosingElements?Te+=U(Re,ke,Je,!0):(Te+=U(Re,ke,Je,!1),Te+=G(Re,ke)):(Te+=U(Re,ke,Je,!1),Te+=I(Re),Te+=G(Re,ke)):Te+=U(Re,ke,Je,!0)),Te}function _e(Re){var ke="";if(L(Re)>0)for(var Te in Re)if(!le(Re,Te)){var we=Re[Te];ke+=z(we,Te,J(we))}return ke+I(Re)}function Pe(Re){if(void 0===Re||"string"!=typeof Re)return null;var ke=null,Je=null;if(_)Je=(ke=new _(S.xmldomOptions)).parseFromString(Re,"text/xml");else if(window&&window.DOMParser){ke=new window.DOMParser;var Te=null;if(!window.ActiveXObject&&!("ActiveXObject"in window)&&document.all&&!document.addEventListener)try{Te=ke.parseFromString("INVALID","text/xml").childNodes[0].namespaceURI}catch{Te=null}try{Je=ke.parseFromString(Re,"text/xml"),null!==Te&&Je.getElementsByTagNameNS(Te,"parsererror").length>0&&(Je=null)}catch{Je=null}}else 0===Re.indexOf("<?")&&(Re=Re.substr(Re.indexOf("?>")+2)),(Je=new ActiveXObject("Microsoft.XMLDOM")).async="false",Je.loadXML(Re);return Je}this.asArray=function(ke){return null==ke?[]:ke instanceof Array?ke:[ke]},this.toXmlDateTime=function(ke){return ke instanceof Date?ke.toISOString():"number"==typeof ke?new Date(ke).toISOString():null},this.asDateTime=function(ke){return"string"==typeof ke?x(ke):ke},this.xml2dom=function(ke){return Pe(ke)},this.dom2js=function(ke){return V(ke,null)},this.js2dom=function(ke){return Pe(this.js2xml(ke))},this.xml2js=function(ke){var Je=Pe(ke);return null!=Je?this.dom2js(Je):null},this.js2xml=function(ke){return _e(ke)},this.getVersion=function(){return"3.4.4"}}},void 0!==(e=u.apply(me,[]))&&(qe.exports=e)}()},310:()=>{},9969:(qe,me,u)=>{"use strict";u.d(me,{FX:()=>te,If:()=>n,K2:()=>v,hZ:()=>_,i0:()=>g,iF:()=>f,kY:()=>m,kp:()=>e,sf:()=>L,ui:()=>J,wk:()=>d});var n=function(I){return I[I.State=0]="State",I[I.Transition=1]="Transition",I[I.Sequence=2]="Sequence",I[I.Group=3]="Group",I[I.Animate=4]="Animate",I[I.Keyframes=5]="Keyframes",I[I.Style=6]="Style",I[I.Trigger=7]="Trigger",I[I.Reference=8]="Reference",I[I.AnimateChild=9]="AnimateChild",I[I.AnimateRef=10]="AnimateRef",I[I.Query=11]="Query",I[I.Stagger=12]="Stagger",I}(n||{});const e="*";function _(I,oe){return{type:n.Trigger,name:I,definitions:oe,options:{}}}function g(I,oe=null){return{type:n.Animate,styles:oe,timings:I}}function v(I,oe=null){return{type:n.Sequence,steps:I,options:oe}}function f(I){return{type:n.Style,styles:I,offset:null}}function d(I,oe,z){return{type:n.State,name:I,styles:oe,options:z}}function m(I,oe,z=null){return{type:n.Transition,expr:I,animation:oe,options:z}}class L{constructor(oe=0,z=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=oe+z}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(oe=>oe()),this._onDoneFns=[])}onStart(oe){this._originalOnStartFns.push(oe),this._onStartFns.push(oe)}onDone(oe){this._originalOnDoneFns.push(oe),this._onDoneFns.push(oe)}onDestroy(oe){this._onDestroyFns.push(oe)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(oe=>oe()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(oe=>oe()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(oe){this._position=this.totalTime?oe*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(oe){const z="start"==oe?this._onStartFns:this._onDoneFns;z.forEach(_e=>_e()),z.length=0}}class J{constructor(oe){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=oe;let z=0,_e=0,Pe=0;const Re=this.players.length;0==Re?queueMicrotask(()=>this._onFinish()):this.players.forEach(ke=>{ke.onDone(()=>{++z==Re&&this._onFinish()}),ke.onDestroy(()=>{++_e==Re&&this._onDestroy()}),ke.onStart(()=>{++Pe==Re&&this._onStart()})}),this.totalTime=this.players.reduce((ke,Je)=>Math.max(ke,Je.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(oe=>oe()),this._onDoneFns=[])}init(){this.players.forEach(oe=>oe.init())}onStart(oe){this._onStartFns.push(oe)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(oe=>oe()),this._onStartFns=[])}onDone(oe){this._onDoneFns.push(oe)}onDestroy(oe){this._onDestroyFns.push(oe)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(oe=>oe.play())}pause(){this.players.forEach(oe=>oe.pause())}restart(){this.players.forEach(oe=>oe.restart())}finish(){this._onFinish(),this.players.forEach(oe=>oe.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(oe=>oe.destroy()),this._onDestroyFns.forEach(oe=>oe()),this._onDestroyFns=[])}reset(){this.players.forEach(oe=>oe.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(oe){const z=oe*this.totalTime;this.players.forEach(_e=>{const Pe=_e.totalTime?Math.min(1,z/_e.totalTime):1;_e.setPosition(Pe)})}getPosition(){const oe=this.players.reduce((z,_e)=>null===z||_e.totalTime>z.totalTime?_e:z,null);return null!=oe?oe.getPosition():0}beforeDestroy(){this.players.forEach(oe=>{oe.beforeDestroy&&oe.beforeDestroy()})}triggerCallback(oe){const z="start"==oe?this._onStartFns:this._onDoneFns;z.forEach(_e=>_e()),z.length=0}}const te="!"},177:(qe,me,u)=>{"use strict";u.d(me,{AJ:()=>rs,MD:()=>Nr,N0:()=>Xo,P9:()=>Gr,Pc:()=>Ns,QT:()=>_,QX:()=>kr,Sm:()=>O,Sq:()=>Oe,T3:()=>ri,UE:()=>yr,VF:()=>S,Vy:()=>ss,XO:()=>ke,Xr:()=>co,YU:()=>Qt,Yq:()=>ve,ZD:()=>g,_b:()=>Dt,aZ:()=>M,bT:()=>he,cH:()=>I,fw:()=>H,hb:()=>R,hj:()=>E,lG:()=>Sr,oV:()=>te,qQ:()=>f,tL:()=>Je});var n=u(4438);let e=null;function _(){return e}function g(ne){e??=ne}class S{}const f=new n.nKC("");let d=(()=>{class ne{historyGo(fe){throw new Error("")}static{this.\u0275fac=function(Le){return new(Le||ne)}}static{this.\u0275prov=n.jDH({token:ne,factory:()=>(0,n.WQX)(m),providedIn:"platform"})}}return ne})();const E=new n.nKC("");let m=(()=>{class ne extends d{constructor(){super(),this._doc=(0,n.WQX)(f),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return _().getBaseHref(this._doc)}onPopState(fe){const Le=_().getGlobalEventTarget(this._doc,"window");return Le.addEventListener("popstate",fe,!1),()=>Le.removeEventListener("popstate",fe)}onHashChange(fe){const Le=_().getGlobalEventTarget(this._doc,"window");return Le.addEventListener("hashchange",fe,!1),()=>Le.removeEventListener("hashchange",fe)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(fe){this._location.pathname=fe}pushState(fe,Le,At){this._history.pushState(fe,Le,At)}replaceState(fe,Le,At){this._history.replaceState(fe,Le,At)}forward(){this._history.forward()}back(){this._history.back()}historyGo(fe=0){this._history.go(fe)}getState(){return this._history.state}static{this.\u0275fac=function(Le){return new(Le||ne)}}static{this.\u0275prov=n.jDH({token:ne,factory:()=>new ne,providedIn:"platform"})}}return ne})();function F(ne,ze){if(0==ne.length)return ze;if(0==ze.length)return ne;let fe=0;return ne.endsWith("/")&&fe++,ze.startsWith("/")&&fe++,2==fe?ne+ze.substring(1):1==fe?ne+ze:ne+"/"+ze}function w(ne){const ze=ne.match(/#|\?|$/),fe=ze&&ze.index||ne.length;return ne.slice(0,fe-("/"===ne[fe-1]?1:0))+ne.slice(fe)}function C(ne){return ne&&"?"!==ne[0]?"?"+ne:ne}let R=(()=>{class ne{historyGo(fe){throw new Error("")}static{this.\u0275fac=function(Le){return new(Le||ne)}}static{this.\u0275prov=n.jDH({token:ne,factory:()=>(0,n.WQX)(O),providedIn:"root"})}}return ne})();const x=new n.nKC("");let O=(()=>{class ne extends R{constructor(fe,Le){super(),this._platformLocation=fe,this._removeListenerFns=[],this._baseHref=Le??this._platformLocation.getBaseHrefFromDOM()??(0,n.WQX)(f).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(fe){this._removeListenerFns.push(this._platformLocation.onPopState(fe),this._platformLocation.onHashChange(fe))}getBaseHref(){return this._baseHref}prepareExternalUrl(fe){return F(this._baseHref,fe)}path(fe=!1){const Le=this._platformLocation.pathname+C(this._platformLocation.search),At=this._platformLocation.hash;return At&&fe?`${Le}${At}`:Le}pushState(fe,Le,At,pn){const Sn=this.prepareExternalUrl(At+C(pn));this._platformLocation.pushState(fe,Le,Sn)}replaceState(fe,Le,At,pn){const Sn=this.prepareExternalUrl(At+C(pn));this._platformLocation.replaceState(fe,Le,Sn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(fe=0){this._platformLocation.historyGo?.(fe)}static{this.\u0275fac=function(Le){return new(Le||ne)(n.KVO(d),n.KVO(x,8))}}static{this.\u0275prov=n.jDH({token:ne,factory:ne.\u0275fac,providedIn:"root"})}}return ne})(),H=(()=>{class ne extends R{constructor(fe,Le){super(),this._platformLocation=fe,this._baseHref="",this._removeListenerFns=[],null!=Le&&(this._baseHref=Le)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(fe){this._removeListenerFns.push(this._platformLocation.onPopState(fe),this._platformLocation.onHashChange(fe))}getBaseHref(){return this._baseHref}path(fe=!1){const Le=this._platformLocation.hash??"#";return Le.length>0?Le.substring(1):Le}prepareExternalUrl(fe){const Le=F(this._baseHref,fe);return Le.length>0?"#"+Le:Le}pushState(fe,Le,At,pn){let Sn=this.prepareExternalUrl(At+C(pn));0==Sn.length&&(Sn=this._platformLocation.pathname),this._platformLocation.pushState(fe,Le,Sn)}replaceState(fe,Le,At,pn){let Sn=this.prepareExternalUrl(At+C(pn));0==Sn.length&&(Sn=this._platformLocation.pathname),this._platformLocation.replaceState(fe,Le,Sn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(fe=0){this._platformLocation.historyGo?.(fe)}static{this.\u0275fac=function(Le){return new(Le||ne)(n.KVO(d),n.KVO(x,8))}}static{this.\u0275prov=n.jDH({token:ne,factory:ne.\u0275fac})}}return ne})(),M=(()=>{class ne{constructor(fe){this._subject=new n.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=fe;const Le=this._locationStrategy.getBaseHref();this._basePath=function ie(ne){if(new RegExp("^(https?:)?//").test(ne)){const[,fe]=ne.split(/\/\/[^\/]+/);return fe}return ne}(w(G(Le))),this._locationStrategy.onPopState(At=>{this._subject.emit({url:this.path(!0),pop:!0,state:At.state,type:At.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(fe=!1){return this.normalize(this._locationStrategy.path(fe))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(fe,Le=""){return this.path()==this.normalize(fe+C(Le))}normalize(fe){return ne.stripTrailingSlash(function U(ne,ze){if(!ne||!ze.startsWith(ne))return ze;const fe=ze.substring(ne.length);return""===fe||["/",";","?","#"].includes(fe[0])?fe:ze}(this._basePath,G(fe)))}prepareExternalUrl(fe){return fe&&"/"!==fe[0]&&(fe="/"+fe),this._locationStrategy.prepareExternalUrl(fe)}go(fe,Le="",At=null){this._locationStrategy.pushState(At,"",fe,Le),this._notifyUrlChangeListeners(this.prepareExternalUrl(fe+C(Le)),At)}replaceState(fe,Le="",At=null){this._locationStrategy.replaceState(At,"",fe,Le),this._notifyUrlChangeListeners(this.prepareExternalUrl(fe+C(Le)),At)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(fe=0){this._locationStrategy.historyGo?.(fe)}onUrlChange(fe){return this._urlChangeListeners.push(fe),this._urlChangeSubscription??=this.subscribe(Le=>{this._notifyUrlChangeListeners(Le.url,Le.state)}),()=>{const Le=this._urlChangeListeners.indexOf(fe);this._urlChangeListeners.splice(Le,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(fe="",Le){this._urlChangeListeners.forEach(At=>At(fe,Le))}subscribe(fe,Le,At){return this._subject.subscribe({next:fe,error:Le,complete:At})}static{this.normalizeQueryParams=C}static{this.joinWithSlash=F}static{this.stripTrailingSlash=w}static{this.\u0275fac=function(Le){return new(Le||ne)(n.KVO(R))}}static{this.\u0275prov=n.jDH({token:ne,factory:()=>function V(){return new M((0,n.KVO)(R))}(),providedIn:"root"})}}return ne})();function G(ne){return ne.replace(/\/index.html$/,"")}var L=function(ne){return ne[ne.Decimal=0]="Decimal",ne[ne.Percent=1]="Percent",ne[ne.Currency=2]="Currency",ne[ne.Scientific=3]="Scientific",ne}(L||{}),te=function(ne){return ne[ne.Format=0]="Format",ne[ne.Standalone=1]="Standalone",ne}(te||{}),I=function(ne){return ne[ne.Narrow=0]="Narrow",ne[ne.Abbreviated=1]="Abbreviated",ne[ne.Wide=2]="Wide",ne[ne.Short=3]="Short",ne}(I||{}),oe=function(ne){return ne[ne.Short=0]="Short",ne[ne.Medium=1]="Medium",ne[ne.Long=2]="Long",ne[ne.Full=3]="Full",ne}(oe||{});const z={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function ke(ne,ze,fe){const Le=(0,n.H5H)(ne),pn=Ee([Le[n.KH2.DaysFormat],Le[n.KH2.DaysStandalone]],ze);return Ee(pn,fe)}function Je(ne,ze,fe){const Le=(0,n.H5H)(ne),pn=Ee([Le[n.KH2.MonthsFormat],Le[n.KH2.MonthsStandalone]],ze);return Ee(pn,fe)}function Ve(ne,ze){return Ee((0,n.H5H)(ne)[n.KH2.DateFormat],ze)}function Ae(ne,ze){return Ee((0,n.H5H)(ne)[n.KH2.TimeFormat],ze)}function rt(ne,ze){return Ee((0,n.H5H)(ne)[n.KH2.DateTimeFormat],ze)}function Be(ne,ze){const fe=(0,n.H5H)(ne),Le=fe[n.KH2.NumberSymbols][ze];if(typeof Le>"u"){if(ze===z.CurrencyDecimal)return fe[n.KH2.NumberSymbols][z.Decimal];if(ze===z.CurrencyGroup)return fe[n.KH2.NumberSymbols][z.Group]}return Le}function X(ne){if(!ne[n.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${ne[n.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Ee(ne,ze){for(let fe=ze;fe>-1;fe--)if(typeof ne[fe]<"u")return ne[fe];throw new Error("Locale data API: locale data undefined")}function at(ne){const[ze,fe]=ne.split(":");return{hours:+ze,minutes:+fe}}const ft=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,nt={},Wt=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var tn=function(ne){return ne[ne.Short=0]="Short",ne[ne.ShortGMT=1]="ShortGMT",ne[ne.Long=2]="Long",ne[ne.Extended=3]="Extended",ne}(tn||{}),it=function(ne){return ne[ne.FullYear=0]="FullYear",ne[ne.Month=1]="Month",ne[ne.Date=2]="Date",ne[ne.Hours=3]="Hours",ne[ne.Minutes=4]="Minutes",ne[ne.Seconds=5]="Seconds",ne[ne.FractionalSeconds=6]="FractionalSeconds",ne[ne.Day=7]="Day",ne}(it||{}),Ot=function(ne){return ne[ne.DayPeriods=0]="DayPeriods",ne[ne.Days=1]="Days",ne[ne.Months=2]="Months",ne[ne.Eras=3]="Eras",ne}(Ot||{});function ve(ne,ze,fe,Le){let At=function Ln(ne){if(li(ne))return ne;if("number"==typeof ne&&!isNaN(ne))return new Date(ne);if("string"==typeof ne){if(ne=ne.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(ne)){const[At,pn=1,Sn=1]=ne.split("-").map(ei=>+ei);return ae(At,pn-1,Sn)}const fe=parseFloat(ne);if(!isNaN(ne-fe))return new Date(fe);let Le;if(Le=ne.match(ft))return function dn(ne){const ze=new Date(0);let fe=0,Le=0;const At=ne[8]?ze.setUTCFullYear:ze.setFullYear,pn=ne[8]?ze.setUTCHours:ze.setHours;ne[9]&&(fe=Number(ne[9]+ne[10]),Le=Number(ne[9]+ne[11])),At.call(ze,Number(ne[1]),Number(ne[2])-1,Number(ne[3]));const Sn=Number(ne[4]||0)-fe,ei=Number(ne[5]||0)-Le,fr=Number(ne[6]||0),ar=Math.floor(1e3*parseFloat("0."+(ne[7]||0)));return pn.call(ze,Sn,ei,fr,ar),ze}(Le)}const ze=new Date(ne);if(!li(ze))throw new Error(`Unable to convert "${ne}" into a date`);return ze}(ne);ze=$(fe,ze)||ze;let ei,Sn=[];for(;ze;){if(ei=Wt.exec(ze),!ei){Sn.push(ze);break}{Sn=Sn.concat(ei.slice(1));const Ji=Sn.pop();if(!Ji)break;ze=Ji}}let fr=At.getTimezoneOffset();Le&&(fr=kt(Le,fr),At=function Tn(ne,ze,fe){const Le=fe?-1:1,At=ne.getTimezoneOffset();return function nn(ne,ze){return(ne=new Date(ne.getTime())).setMinutes(ne.getMinutes()+ze),ne}(ne,Le*(kt(ze,At)-At))}(At,Le,!0));let ar="";return Sn.forEach(Ji=>{const Ui=function mt(ne){if(vt[ne])return vt[ne];let ze;switch(ne){case"G":case"GG":case"GGG":ze=an(Ot.Eras,I.Abbreviated);break;case"GGGG":ze=an(Ot.Eras,I.Wide);break;case"GGGGG":ze=an(Ot.Eras,I.Narrow);break;case"y":ze=dt(it.FullYear,1,0,!1,!0);break;case"yy":ze=dt(it.FullYear,2,0,!0,!0);break;case"yyy":ze=dt(it.FullYear,3,0,!1,!0);break;case"yyyy":ze=dt(it.FullYear,4,0,!1,!0);break;case"Y":ze=lt(1);break;case"YY":ze=lt(2,!0);break;case"YYY":ze=lt(3);break;case"YYYY":ze=lt(4);break;case"M":case"L":ze=dt(it.Month,1,1);break;case"MM":case"LL":ze=dt(it.Month,2,1);break;case"MMM":ze=an(Ot.Months,I.Abbreviated);break;case"MMMM":ze=an(Ot.Months,I.Wide);break;case"MMMMM":ze=an(Ot.Months,I.Narrow);break;case"LLL":ze=an(Ot.Months,I.Abbreviated,te.Standalone);break;case"LLLL":ze=an(Ot.Months,I.Wide,te.Standalone);break;case"LLLLL":ze=an(Ot.Months,I.Narrow,te.Standalone);break;case"w":ze=Ht(1);break;case"ww":ze=Ht(2);break;case"W":ze=Ht(1,!0);break;case"d":ze=dt(it.Date,1);break;case"dd":ze=dt(it.Date,2);break;case"c":case"cc":ze=dt(it.Day,1);break;case"ccc":ze=an(Ot.Days,I.Abbreviated,te.Standalone);break;case"cccc":ze=an(Ot.Days,I.Wide,te.Standalone);break;case"ccccc":ze=an(Ot.Days,I.Narrow,te.Standalone);break;case"cccccc":ze=an(Ot.Days,I.Short,te.Standalone);break;case"E":case"EE":case"EEE":ze=an(Ot.Days,I.Abbreviated);break;case"EEEE":ze=an(Ot.Days,I.Wide);break;case"EEEEE":ze=an(Ot.Days,I.Narrow);break;case"EEEEEE":ze=an(Ot.Days,I.Short);break;case"a":case"aa":case"aaa":ze=an(Ot.DayPeriods,I.Abbreviated);break;case"aaaa":ze=an(Ot.DayPeriods,I.Wide);break;case"aaaaa":ze=an(Ot.DayPeriods,I.Narrow);break;case"b":case"bb":case"bbb":ze=an(Ot.DayPeriods,I.Abbreviated,te.Standalone,!0);break;case"bbbb":ze=an(Ot.DayPeriods,I.Wide,te.Standalone,!0);break;case"bbbbb":ze=an(Ot.DayPeriods,I.Narrow,te.Standalone,!0);break;case"B":case"BB":case"BBB":ze=an(Ot.DayPeriods,I.Abbreviated,te.Format,!0);break;case"BBBB":ze=an(Ot.DayPeriods,I.Wide,te.Format,!0);break;case"BBBBB":ze=an(Ot.DayPeriods,I.Narrow,te.Format,!0);break;case"h":ze=dt(it.Hours,1,-12);break;case"hh":ze=dt(it.Hours,2,-12);break;case"H":ze=dt(it.Hours,1);break;case"HH":ze=dt(it.Hours,2);break;case"m":ze=dt(it.Minutes,1);break;case"mm":ze=dt(it.Minutes,2);break;case"s":ze=dt(it.Seconds,1);break;case"ss":ze=dt(it.Seconds,2);break;case"S":ze=dt(it.FractionalSeconds,1);break;case"SS":ze=dt(it.FractionalSeconds,2);break;case"SSS":ze=dt(it.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":ze=Mn(tn.Short);break;case"ZZZZZ":ze=Mn(tn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":ze=Mn(tn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":ze=Mn(tn.Long);break;default:return null}return vt[ne]=ze,ze}(Ji);ar+=Ui?Ui(At,fe,fr):"''"===Ji?"'":Ji.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),ar}function ae(ne,ze,fe){const Le=new Date(0);return Le.setFullYear(ne,ze,fe),Le.setHours(0,0,0),Le}function $(ne,ze){const fe=function Pe(ne){return(0,n.H5H)(ne)[n.KH2.LocaleId]}(ne);if(nt[fe]??={},nt[fe][ze])return nt[fe][ze];let Le="";switch(ze){case"shortDate":Le=Ve(ne,oe.Short);break;case"mediumDate":Le=Ve(ne,oe.Medium);break;case"longDate":Le=Ve(ne,oe.Long);break;case"fullDate":Le=Ve(ne,oe.Full);break;case"shortTime":Le=Ae(ne,oe.Short);break;case"mediumTime":Le=Ae(ne,oe.Medium);break;case"longTime":Le=Ae(ne,oe.Long);break;case"fullTime":Le=Ae(ne,oe.Full);break;case"short":const At=$(ne,"shortTime"),pn=$(ne,"shortDate");Le=se(rt(ne,oe.Short),[At,pn]);break;case"medium":const Sn=$(ne,"mediumTime"),ei=$(ne,"mediumDate");Le=se(rt(ne,oe.Medium),[Sn,ei]);break;case"long":const fr=$(ne,"longTime"),ar=$(ne,"longDate");Le=se(rt(ne,oe.Long),[fr,ar]);break;case"full":const Ji=$(ne,"fullTime"),Ui=$(ne,"fullDate");Le=se(rt(ne,oe.Full),[Ji,Ui])}return Le&&(nt[fe][ze]=Le),Le}function se(ne,ze){return ze&&(ne=ne.replace(/\{([^}]+)}/g,function(fe,Le){return null!=ze&&Le in ze?ze[Le]:fe})),ne}function Ue(ne,ze,fe="-",Le,At){let pn="";(ne<0||At&&ne<=0)&&(At?ne=1-ne:(ne=-ne,pn=fe));let Sn=String(ne);for(;Sn.length<ze;)Sn="0"+Sn;return Le&&(Sn=Sn.slice(Sn.length-ze)),pn+Sn}function dt(ne,ze,fe=0,Le=!1,At=!1){return function(pn,Sn){let ei=function Pt(ne,ze){switch(ne){case it.FullYear:return ze.getFullYear();case it.Month:return ze.getMonth();case it.Date:return ze.getDate();case it.Hours:return ze.getHours();case it.Minutes:return ze.getMinutes();case it.Seconds:return ze.getSeconds();case it.FractionalSeconds:return ze.getMilliseconds();case it.Day:return ze.getDay();default:throw new Error(`Unknown DateType value "${ne}".`)}}(ne,pn);if((fe>0||ei>-fe)&&(ei+=fe),ne===it.Hours)0===ei&&-12===fe&&(ei=12);else if(ne===it.FractionalSeconds)return function Ze(ne,ze){return Ue(ne,3).substring(0,ze)}(ei,ze);const fr=Be(Sn,z.MinusSign);return Ue(ei,ze,fr,Le,At)}}function an(ne,ze,fe=te.Format,Le=!1){return function(At,pn){return function un(ne,ze,fe,Le,At,pn){switch(fe){case Ot.Months:return Je(ze,At,Le)[ne.getMonth()];case Ot.Days:return ke(ze,At,Le)[ne.getDay()];case Ot.DayPeriods:const Sn=ne.getHours(),ei=ne.getMinutes();if(pn){const ar=function Y(ne){const ze=(0,n.H5H)(ne);return X(ze),(ze[n.KH2.ExtraData][2]||[]).map(Le=>"string"==typeof Le?at(Le):[at(Le[0]),at(Le[1])])}(ze),Ji=function ee(ne,ze,fe){const Le=(0,n.H5H)(ne);X(Le);const pn=Ee([Le[n.KH2.ExtraData][0],Le[n.KH2.ExtraData][1]],ze)||[];return Ee(pn,fe)||[]}(ze,At,Le),Ui=ar.findIndex(ii=>{if(Array.isArray(ii)){const[Qi,dr]=ii,ye=Sn>=Qi.hours&&ei>=Qi.minutes,P=Sn<dr.hours||Sn===dr.hours&&ei<dr.minutes;if(Qi.hours<dr.hours){if(ye&&P)return!0}else if(ye||P)return!0}else if(ii.hours===Sn&&ii.minutes===ei)return!0;return!1});if(-1!==Ui)return Ji[Ui]}return function Re(ne,ze,fe){const Le=(0,n.H5H)(ne),pn=Ee([Le[n.KH2.DayPeriodsFormat],Le[n.KH2.DayPeriodsStandalone]],ze);return Ee(pn,fe)}(ze,At,Le)[Sn<12?0:1];case Ot.Eras:return function Te(ne,ze){return Ee((0,n.H5H)(ne)[n.KH2.Eras],ze)}(ze,Le)[ne.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${fe}`)}}(At,pn,ne,ze,fe,Le)}}function Mn(ne){return function(ze,fe,Le){const At=-1*Le,pn=Be(fe,z.MinusSign),Sn=At>0?Math.floor(At/60):Math.ceil(At/60);switch(ne){case tn.Short:return(At>=0?"+":"")+Ue(Sn,2,pn)+Ue(Math.abs(At%60),2,pn);case tn.ShortGMT:return"GMT"+(At>=0?"+":"")+Ue(Sn,1,pn);case tn.Long:return"GMT"+(At>=0?"+":"")+Ue(Sn,2,pn)+":"+Ue(Math.abs(At%60),2,pn);case tn.Extended:return 0===Le?"Z":(At>=0?"+":"")+Ue(Sn,2,pn)+":"+Ue(Math.abs(At%60),2,pn);default:throw new Error(`Unknown zone width "${ne}"`)}}}const kn=0,Bn=4;function Rn(ne){const ze=ne.getDay(),fe=0===ze?-3:Bn-ze;return ae(ne.getFullYear(),ne.getMonth(),ne.getDate()+fe)}function Ht(ne,ze=!1){return function(fe,Le){let At;if(ze){const pn=new Date(fe.getFullYear(),fe.getMonth(),1).getDay()-1,Sn=fe.getDate();At=1+Math.floor((Sn+pn)/7)}else{const pn=Rn(fe),Sn=function It(ne){const ze=ae(ne,kn,1).getDay();return ae(ne,0,1+(ze<=Bn?Bn:Bn+7)-ze)}(pn.getFullYear()),ei=pn.getTime()-Sn.getTime();At=1+Math.round(ei/6048e5)}return Ue(At,ne,Be(Le,z.MinusSign))}}function lt(ne,ze=!1){return function(fe,Le){return Ue(Rn(fe).getFullYear(),ne,Be(Le,z.MinusSign),ze)}}const vt={};function kt(ne,ze){ne=ne.replace(/:/g,"");const fe=Date.parse("Jan 01, 1970 00:00:00 "+ne)/6e4;return isNaN(fe)?ze:fe}function li(ne){return ne instanceof Date&&!isNaN(ne.valueOf())}const ci=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function pi(ne){const ze=parseInt(ne);if(isNaN(ze))throw new Error("Invalid integer literal when parsing "+ne);return ze}function Dt(ne,ze){ze=encodeURIComponent(ze);for(const fe of ne.split(";")){const Le=fe.indexOf("="),[At,pn]=-1==Le?[fe,""]:[fe.slice(0,Le),fe.slice(Le+1)];if(At.trim()===ze)return decodeURIComponent(pn)}return null}const Ct=/\s+/,rn=[];let Qt=(()=>{class ne{constructor(fe,Le){this._ngEl=fe,this._renderer=Le,this.initialClasses=rn,this.stateMap=new Map}set klass(fe){this.initialClasses=null!=fe?fe.trim().split(Ct):rn}set ngClass(fe){this.rawClass="string"==typeof fe?fe.trim().split(Ct):fe}ngDoCheck(){for(const Le of this.initialClasses)this._updateState(Le,!0);const fe=this.rawClass;if(Array.isArray(fe)||fe instanceof Set)for(const Le of fe)this._updateState(Le,!0);else if(null!=fe)for(const Le of Object.keys(fe))this._updateState(Le,!!fe[Le]);this._applyStateDiff()}_updateState(fe,Le){const At=this.stateMap.get(fe);void 0!==At?(At.enabled!==Le&&(At.changed=!0,At.enabled=Le),At.touched=!0):this.stateMap.set(fe,{enabled:Le,changed:!0,touched:!0})}_applyStateDiff(){for(const fe of this.stateMap){const Le=fe[0],At=fe[1];At.changed?(this._toggleClass(Le,At.enabled),At.changed=!1):At.touched||(At.enabled&&this._toggleClass(Le,!1),this.stateMap.delete(Le)),At.touched=!1}}_toggleClass(fe,Le){(fe=fe.trim()).length>0&&fe.split(Ct).forEach(At=>{Le?this._renderer.addClass(this._ngEl.nativeElement,At):this._renderer.removeClass(this._ngEl.nativeElement,At)})}static{this.\u0275fac=function(Le){return new(Le||ne)(n.rXU(n.aKT),n.rXU(n.sFG))}}static{this.\u0275dir=n.FsC({type:ne,selectors:[["","ngClass",""]],inputs:{klass:[n.Mj6.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return ne})();class yt{constructor(ze,fe,Le,At){this.$implicit=ze,this.ngForOf=fe,this.index=Le,this.count=At}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Oe=(()=>{class ne{set ngForOf(fe){this._ngForOf=fe,this._ngForOfDirty=!0}set ngForTrackBy(fe){this._trackByFn=fe}get ngForTrackBy(){return this._trackByFn}constructor(fe,Le,At){this._viewContainer=fe,this._template=Le,this._differs=At,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(fe){fe&&(this._template=fe)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const fe=this._ngForOf;!this._differ&&fe&&(this._differ=this._differs.find(fe).create(this.ngForTrackBy))}if(this._differ){const fe=this._differ.diff(this._ngForOf);fe&&this._applyChanges(fe)}}_applyChanges(fe){const Le=this._viewContainer;fe.forEachOperation((At,pn,Sn)=>{if(null==At.previousIndex)Le.createEmbeddedView(this._template,new yt(At.item,this._ngForOf,-1,-1),null===Sn?void 0:Sn);else if(null==Sn)Le.remove(null===pn?void 0:pn);else if(null!==pn){const ei=Le.get(pn);Le.move(ei,Sn),ue(ei,At)}});for(let At=0,pn=Le.length;At<pn;At++){const ei=Le.get(At).context;ei.index=At,ei.count=pn,ei.ngForOf=this._ngForOf}fe.forEachIdentityChange(At=>{ue(Le.get(At.currentIndex),At)})}static ngTemplateContextGuard(fe,Le){return!0}static{this.\u0275fac=function(Le){return new(Le||ne)(n.rXU(n.c1b),n.rXU(n.C4Q),n.rXU(n._q3))}}static{this.\u0275dir=n.FsC({type:ne,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return ne})();function ue(ne,ze){ne.context.$implicit=ze.item}let he=(()=>{class ne{constructor(fe,Le){this._viewContainer=fe,this._context=new Me,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Le}set ngIf(fe){this._context.$implicit=this._context.ngIf=fe,this._updateView()}set ngIfThen(fe){Et("ngIfThen",fe),this._thenTemplateRef=fe,this._thenViewRef=null,this._updateView()}set ngIfElse(fe){Et("ngIfElse",fe),this._elseTemplateRef=fe,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(fe,Le){return!0}static{this.\u0275fac=function(Le){return new(Le||ne)(n.rXU(n.c1b),n.rXU(n.C4Q))}}static{this.\u0275dir=n.FsC({type:ne,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return ne})();class Me{constructor(){this.$implicit=null,this.ngIf=null}}function Et(ne,ze){if(ze&&!ze.createEmbeddedView)throw new Error(`${ne} must be a TemplateRef, but received '${(0,n.Tbb)(ze)}'.`)}let ri=(()=>{class ne{constructor(fe){this._viewContainerRef=fe,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(fe){if(this._shouldRecreateView(fe)){const Le=this._viewContainerRef;if(this._viewRef&&Le.remove(Le.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const At=this._createContextForwardProxy();this._viewRef=Le.createEmbeddedView(this.ngTemplateOutlet,At,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(fe){return!!fe.ngTemplateOutlet||!!fe.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(fe,Le,At)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,Le,At),get:(fe,Le,At)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,Le,At)}})}static{this.\u0275fac=function(Le){return new(Le||ne)(n.rXU(n.c1b))}}static{this.\u0275dir=n.FsC({type:ne,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[n.OA$]})}}return ne})();function Mi(ne,ze){return new n.wOt(2100,!1)}let Ns=(()=>{class ne{transform(fe){if(null==fe)return null;if("string"!=typeof fe)throw Mi();return fe.toUpperCase()}static{this.\u0275fac=function(Le){return new(Le||ne)}}static{this.\u0275pipe=n.EJ8({name:"uppercase",type:ne,pure:!0,standalone:!0})}}return ne})(),Sr=(()=>{class ne{constructor(fe){this.differs=fe,this.keyValues=[],this.compareFn=Er}transform(fe,Le=Er){if(!fe||!(fe instanceof Map)&&"object"!=typeof fe)return null;this.differ??=this.differs.find(fe).create();const At=this.differ.diff(fe),pn=Le!==this.compareFn;return At&&(this.keyValues=[],At.forEachItem(Sn=>{this.keyValues.push(function pr(ne,ze){return{key:ne,value:ze}}(Sn.key,Sn.currentValue))})),(At||pn)&&(this.keyValues.sort(Le),this.compareFn=Le),this.keyValues}static{this.\u0275fac=function(Le){return new(Le||ne)(n.rXU(n.MKu,16))}}static{this.\u0275pipe=n.EJ8({name:"keyvalue",type:ne,pure:!1,standalone:!0})}}return ne})();function Er(ne,ze){const fe=ne.key,Le=ze.key;if(fe===Le)return 0;if(void 0===fe)return 1;if(void 0===Le)return-1;if(null===fe)return 1;if(null===Le)return-1;if("string"==typeof fe&&"string"==typeof Le)return fe<Le?-1:1;if("number"==typeof fe&&"number"==typeof Le)return fe-Le;if("boolean"==typeof fe&&"boolean"==typeof Le)return fe<Le?-1:1;const At=String(fe),pn=String(Le);return At==pn?0:At<pn?-1:1}let kr=(()=>{class ne{constructor(fe){this._locale=fe}transform(fe,Le,At){if(!function tr(ne){return!(null==ne||""===ne||ne!=ne)}(fe))return null;At||=this._locale;try{return function gi(ne,ze,fe){return function An(ne,ze,fe,Le,At,pn,Sn=!1){let ei="",fr=!1;if(isFinite(ne)){let ar=function Xn(ne){let Le,At,pn,Sn,ei,ze=Math.abs(ne)+"",fe=0;for((At=ze.indexOf("."))>-1&&(ze=ze.replace(".","")),(pn=ze.search(/e/i))>0?(At<0&&(At=pn),At+=+ze.slice(pn+1),ze=ze.substring(0,pn)):At<0&&(At=ze.length),pn=0;"0"===ze.charAt(pn);pn++);if(pn===(ei=ze.length))Le=[0],At=1;else{for(ei--;"0"===ze.charAt(ei);)ei--;for(At-=pn,Le=[],Sn=0;pn<=ei;pn++,Sn++)Le[Sn]=Number(ze.charAt(pn))}return At>22&&(Le=Le.splice(0,21),fe=At-1,At=1),{digits:Le,exponent:fe,integerLen:At}}(ne);Sn&&(ar=function Bi(ne){if(0===ne.digits[0])return ne;const ze=ne.digits.length-ne.integerLen;return ne.exponent?ne.exponent+=2:(0===ze?ne.digits.push(0,0):1===ze&&ne.digits.push(0),ne.integerLen+=2),ne}(ar));let Ji=ze.minInt,Ui=ze.minFrac,ii=ze.maxFrac;if(pn){const Ne=pn.match(ci);if(null===Ne)throw new Error(`${pn} is not a valid digit info`);const st=Ne[1],xt=Ne[3],Vt=Ne[5];null!=st&&(Ji=pi(st)),null!=xt&&(Ui=pi(xt)),null!=Vt?ii=pi(Vt):null!=xt&&Ui>ii&&(ii=Ui)}!function wi(ne,ze,fe){if(ze>fe)throw new Error(`The minimum number of digits after fraction (${ze}) is higher than the maximum (${fe}).`);let Le=ne.digits,At=Le.length-ne.integerLen;const pn=Math.min(Math.max(ze,At),fe);let Sn=pn+ne.integerLen,ei=Le[Sn];if(Sn>0){Le.splice(Math.max(ne.integerLen,Sn));for(let Ui=Sn;Ui<Le.length;Ui++)Le[Ui]=0}else{At=Math.max(0,At),ne.integerLen=1,Le.length=Math.max(1,Sn=pn+1),Le[0]=0;for(let Ui=1;Ui<Sn;Ui++)Le[Ui]=0}if(ei>=5)if(Sn-1<0){for(let Ui=0;Ui>Sn;Ui--)Le.unshift(0),ne.integerLen++;Le.unshift(1),ne.integerLen++}else Le[Sn-1]++;for(;At<Math.max(0,pn);At++)Le.push(0);let fr=0!==pn;const ar=ze+ne.integerLen,Ji=Le.reduceRight(function(Ui,ii,Qi,dr){return dr[Qi]=(ii+=Ui)<10?ii:ii-10,fr&&(0===dr[Qi]&&Qi>=ar?dr.pop():fr=!1),ii>=10?1:0},0);Ji&&(Le.unshift(Ji),ne.integerLen++)}(ar,Ui,ii);let Qi=ar.digits,dr=ar.integerLen;const ye=ar.exponent;let P=[];for(fr=Qi.every(Ne=>!Ne);dr<Ji;dr++)Qi.unshift(0);for(;dr<0;dr++)Qi.unshift(0);dr>0?P=Qi.splice(dr,Qi.length):(P=Qi,Qi=[0]);const pe=[];for(Qi.length>=ze.lgSize&&pe.unshift(Qi.splice(-ze.lgSize,Qi.length).join(""));Qi.length>ze.gSize;)pe.unshift(Qi.splice(-ze.gSize,Qi.length).join(""));Qi.length&&pe.unshift(Qi.join("")),ei=pe.join(Be(fe,Le)),P.length&&(ei+=Be(fe,At)+P.join("")),ye&&(ei+=Be(fe,z.Exponential)+"+"+ye)}else ei=Be(fe,z.Infinity);return ei=ne<0&&!fr?ze.negPre+ei+ze.negSuf:ze.posPre+ei+ze.posSuf,ei}(ne,function ni(ne,ze="-"){const fe={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},Le=ne.split(";"),At=Le[0],pn=Le[1],Sn=-1!==At.indexOf(".")?At.split("."):[At.substring(0,At.lastIndexOf("0")+1),At.substring(At.lastIndexOf("0")+1)],ei=Sn[0],fr=Sn[1]||"";fe.posPre=ei.substring(0,ei.indexOf("#"));for(let Ji=0;Ji<fr.length;Ji++){const Ui=fr.charAt(Ji);"0"===Ui?fe.minFrac=fe.maxFrac=Ji+1:"#"===Ui?fe.maxFrac=Ji+1:fe.posSuf+=Ui}const ar=ei.split(",");if(fe.gSize=ar[1]?ar[1].length:0,fe.lgSize=ar[2]||ar[1]?(ar[2]||ar[1]).length:0,pn){const Ji=At.length-fe.posPre.length-fe.posSuf.length,Ui=pn.indexOf("#");fe.negPre=pn.substring(0,Ui).replace(/'/g,""),fe.negSuf=pn.slice(Ui+Ji).replace(/'/g,"")}else fe.negPre=ze+fe.posPre,fe.negSuf=fe.posSuf;return fe}(function ht(ne,ze){return(0,n.H5H)(ne)[n.KH2.NumberFormats][ze]}(ze,L.Decimal),Be(ze,z.MinusSign)),ze,z.Group,z.Decimal,fe)}(function Wn(ne){if("string"==typeof ne&&!isNaN(Number(ne)-parseFloat(ne)))return Number(ne);if("number"!=typeof ne)throw new Error(`${ne} is not a number`);return ne}(fe),At,Le)}catch(pn){throw Mi()}}static{this.\u0275fac=function(Le){return new(Le||ne)(n.rXU(n.xe9,16))}}static{this.\u0275pipe=n.EJ8({name:"number",type:ne,pure:!0,standalone:!0})}}return ne})();let Gr=(()=>{class ne{transform(fe,Le,At){if(null==fe)return null;if(!this.supports(fe))throw Mi();return fe.slice(Le,At)}supports(fe){return"string"==typeof fe||Array.isArray(fe)}static{this.\u0275fac=function(Le){return new(Le||ne)}}static{this.\u0275pipe=n.EJ8({name:"slice",type:ne,pure:!1,standalone:!0})}}return ne})(),Nr=(()=>{class ne{static{this.\u0275fac=function(Le){return new(Le||ne)}}static{this.\u0275mod=n.$C({type:ne})}static{this.\u0275inj=n.G2t({})}}return ne})();const rs="browser",qs="server";function yr(ne){return ne===rs}function ss(ne){return ne===qs}let co=(()=>{class ne{static{this.\u0275prov=(0,n.jDH)({token:ne,providedIn:"root",factory:()=>yr((0,n.WQX)(n.Agw))?new nr((0,n.WQX)(f),window):new Bo})}}return ne})();class nr{constructor(ze,fe){this.document=ze,this.window=fe,this.offset=()=>[0,0]}setOffset(ze){this.offset=Array.isArray(ze)?()=>ze:ze}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(ze){this.window.scrollTo(ze[0],ze[1])}scrollToAnchor(ze){const fe=function Zr(ne,ze){const fe=ne.getElementById(ze)||ne.getElementsByName(ze)[0];if(fe)return fe;if("function"==typeof ne.createTreeWalker&&ne.body&&"function"==typeof ne.body.attachShadow){const Le=ne.createTreeWalker(ne.body,NodeFilter.SHOW_ELEMENT);let At=Le.currentNode;for(;At;){const pn=At.shadowRoot;if(pn){const Sn=pn.getElementById(ze)||pn.querySelector(`[name="${ze}"]`);if(Sn)return Sn}At=Le.nextNode()}}return null}(this.document,ze);fe&&(this.scrollToElement(fe),fe.focus())}setHistoryScrollRestoration(ze){this.window.history.scrollRestoration=ze}scrollToElement(ze){const fe=ze.getBoundingClientRect(),Le=fe.left+this.window.pageXOffset,At=fe.top+this.window.pageYOffset,pn=this.offset();this.window.scrollTo(Le-pn[0],At-pn[1])}}class Bo{setOffset(ze){}getScrollPosition(){return[0,0]}scrollToPosition(ze){}scrollToAnchor(ze){}setHistoryScrollRestoration(ze){}}class Xo{}},1626:(qe,me,u)=>{"use strict";u.d(me,{Lr:()=>R,Nl:()=>ie,Qq:()=>Ve,a7:()=>Y,q1:()=>$t,yz:()=>Te}),u(467);var e=u(4438),_=u(7673),g=u(1985),S=u(6648),v=u(274),f=u(5964),d=u(6354),E=u(980),m=u(5558),F=u(177);class w{}class C{}class R{constructor(Dt){this.normalizedNames=new Map,this.lazyUpdate=null,Dt?"string"==typeof Dt?this.lazyInit=()=>{this.headers=new Map,Dt.split("\n").forEach(Ct=>{const rn=Ct.indexOf(":");if(rn>0){const Qt=Ct.slice(0,rn),In=Qt.toLowerCase(),St=Ct.slice(rn+1).trim();this.maybeSetNormalizedName(Qt,In),this.headers.has(In)?this.headers.get(In).push(St):this.headers.set(In,[St])}})}:typeof Headers<"u"&&Dt instanceof Headers?(this.headers=new Map,Dt.forEach((Ct,rn)=>{this.setHeaderEntries(rn,Ct)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(Dt).forEach(([Ct,rn])=>{this.setHeaderEntries(Ct,rn)})}:this.headers=new Map}has(Dt){return this.init(),this.headers.has(Dt.toLowerCase())}get(Dt){this.init();const Ct=this.headers.get(Dt.toLowerCase());return Ct&&Ct.length>0?Ct[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Dt){return this.init(),this.headers.get(Dt.toLowerCase())||null}append(Dt,Ct){return this.clone({name:Dt,value:Ct,op:"a"})}set(Dt,Ct){return this.clone({name:Dt,value:Ct,op:"s"})}delete(Dt,Ct){return this.clone({name:Dt,value:Ct,op:"d"})}maybeSetNormalizedName(Dt,Ct){this.normalizedNames.has(Ct)||this.normalizedNames.set(Ct,Dt)}init(){this.lazyInit&&(this.lazyInit instanceof R?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Dt=>this.applyUpdate(Dt)),this.lazyUpdate=null))}copyFrom(Dt){Dt.init(),Array.from(Dt.headers.keys()).forEach(Ct=>{this.headers.set(Ct,Dt.headers.get(Ct)),this.normalizedNames.set(Ct,Dt.normalizedNames.get(Ct))})}clone(Dt){const Ct=new R;return Ct.lazyInit=this.lazyInit&&this.lazyInit instanceof R?this.lazyInit:this,Ct.lazyUpdate=(this.lazyUpdate||[]).concat([Dt]),Ct}applyUpdate(Dt){const Ct=Dt.name.toLowerCase();switch(Dt.op){case"a":case"s":let rn=Dt.value;if("string"==typeof rn&&(rn=[rn]),0===rn.length)return;this.maybeSetNormalizedName(Dt.name,Ct);const Qt=("a"===Dt.op?this.headers.get(Ct):void 0)||[];Qt.push(...rn),this.headers.set(Ct,Qt);break;case"d":const In=Dt.value;if(In){let St=this.headers.get(Ct);if(!St)return;St=St.filter(yt=>-1===In.indexOf(yt)),0===St.length?(this.headers.delete(Ct),this.normalizedNames.delete(Ct)):this.headers.set(Ct,St)}else this.headers.delete(Ct),this.normalizedNames.delete(Ct)}}setHeaderEntries(Dt,Ct){const rn=(Array.isArray(Ct)?Ct:[Ct]).map(In=>In.toString()),Qt=Dt.toLowerCase();this.headers.set(Qt,rn),this.maybeSetNormalizedName(Dt,Qt)}forEach(Dt){this.init(),Array.from(this.normalizedNames.keys()).forEach(Ct=>Dt(this.normalizedNames.get(Ct),this.headers.get(Ct)))}}class O{encodeKey(Dt){return U(Dt)}encodeValue(Dt){return U(Dt)}decodeKey(Dt){return decodeURIComponent(Dt)}decodeValue(Dt){return decodeURIComponent(Dt)}}const M=/%(\d[a-f0-9])/gi,V={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function U(tt){return encodeURIComponent(tt).replace(M,(Dt,Ct)=>V[Ct]??Dt)}function G(tt){return`${tt}`}class ie{constructor(Dt={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Dt.encoder||new O,Dt.fromString){if(Dt.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function H(tt,Dt){const Ct=new Map;return tt.length>0&&tt.replace(/^\?/,"").split("&").forEach(Qt=>{const In=Qt.indexOf("="),[St,yt]=-1==In?[Dt.decodeKey(Qt),""]:[Dt.decodeKey(Qt.slice(0,In)),Dt.decodeValue(Qt.slice(In+1))],Oe=Ct.get(St)||[];Oe.push(yt),Ct.set(St,Oe)}),Ct}(Dt.fromString,this.encoder)}else Dt.fromObject?(this.map=new Map,Object.keys(Dt.fromObject).forEach(Ct=>{const rn=Dt.fromObject[Ct],Qt=Array.isArray(rn)?rn.map(G):[G(rn)];this.map.set(Ct,Qt)})):this.map=null}has(Dt){return this.init(),this.map.has(Dt)}get(Dt){this.init();const Ct=this.map.get(Dt);return Ct?Ct[0]:null}getAll(Dt){return this.init(),this.map.get(Dt)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Dt,Ct){return this.clone({param:Dt,value:Ct,op:"a"})}appendAll(Dt){const Ct=[];return Object.keys(Dt).forEach(rn=>{const Qt=Dt[rn];Array.isArray(Qt)?Qt.forEach(In=>{Ct.push({param:rn,value:In,op:"a"})}):Ct.push({param:rn,value:Qt,op:"a"})}),this.clone(Ct)}set(Dt,Ct){return this.clone({param:Dt,value:Ct,op:"s"})}delete(Dt,Ct){return this.clone({param:Dt,value:Ct,op:"d"})}toString(){return this.init(),this.keys().map(Dt=>{const Ct=this.encoder.encodeKey(Dt);return this.map.get(Dt).map(rn=>Ct+"="+this.encoder.encodeValue(rn)).join("&")}).filter(Dt=>""!==Dt).join("&")}clone(Dt){const Ct=new ie({encoder:this.encoder});return Ct.cloneFrom=this.cloneFrom||this,Ct.updates=(this.updates||[]).concat(Dt),Ct}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Dt=>this.map.set(Dt,this.cloneFrom.map.get(Dt))),this.updates.forEach(Dt=>{switch(Dt.op){case"a":case"s":const Ct=("a"===Dt.op?this.map.get(Dt.param):void 0)||[];Ct.push(G(Dt.value)),this.map.set(Dt.param,Ct);break;case"d":if(void 0===Dt.value){this.map.delete(Dt.param);break}{let rn=this.map.get(Dt.param)||[];const Qt=rn.indexOf(G(Dt.value));-1!==Qt&&rn.splice(Qt,1),rn.length>0?this.map.set(Dt.param,rn):this.map.delete(Dt.param)}}}),this.cloneFrom=this.updates=null)}}class L{constructor(){this.map=new Map}set(Dt,Ct){return this.map.set(Dt,Ct),this}get(Dt){return this.map.has(Dt)||this.map.set(Dt,Dt.defaultValue()),this.map.get(Dt)}delete(Dt){return this.map.delete(Dt),this}has(Dt){return this.map.has(Dt)}keys(){return this.map.keys()}}function te(tt){return typeof ArrayBuffer<"u"&&tt instanceof ArrayBuffer}function I(tt){return typeof Blob<"u"&&tt instanceof Blob}function oe(tt){return typeof FormData<"u"&&tt instanceof FormData}class _e{constructor(Dt,Ct,rn,Qt){let In;if(this.url=Ct,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Dt.toUpperCase(),function J(tt){switch(tt){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Qt?(this.body=void 0!==rn?rn:null,In=Qt):In=rn,In&&(this.reportProgress=!!In.reportProgress,this.withCredentials=!!In.withCredentials,In.responseType&&(this.responseType=In.responseType),In.headers&&(this.headers=In.headers),In.context&&(this.context=In.context),In.params&&(this.params=In.params),this.transferCache=In.transferCache),this.headers??=new R,this.context??=new L,this.params){const St=this.params.toString();if(0===St.length)this.urlWithParams=Ct;else{const yt=Ct.indexOf("?");this.urlWithParams=Ct+(-1===yt?"?":yt<Ct.length-1?"&":"")+St}}else this.params=new ie,this.urlWithParams=Ct}serializeBody(){return null===this.body?null:"string"==typeof this.body||te(this.body)||I(this.body)||oe(this.body)||function z(tt){return typeof URLSearchParams<"u"&&tt instanceof URLSearchParams}(this.body)?this.body:this.body instanceof ie?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||oe(this.body)?null:I(this.body)?this.body.type||null:te(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ie?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Dt={}){const Ct=Dt.method||this.method,rn=Dt.url||this.url,Qt=Dt.responseType||this.responseType,In=Dt.transferCache??this.transferCache,St=void 0!==Dt.body?Dt.body:this.body,yt=Dt.withCredentials??this.withCredentials,Oe=Dt.reportProgress??this.reportProgress;let ue=Dt.headers||this.headers,q=Dt.params||this.params;const he=Dt.context??this.context;return void 0!==Dt.setHeaders&&(ue=Object.keys(Dt.setHeaders).reduce((Me,Et)=>Me.set(Et,Dt.setHeaders[Et]),ue)),Dt.setParams&&(q=Object.keys(Dt.setParams).reduce((Me,Et)=>Me.set(Et,Dt.setParams[Et]),q)),new _e(Ct,rn,St,{params:q,headers:ue,context:he,reportProgress:Oe,responseType:Qt,withCredentials:yt,transferCache:In})}}var Pe=function(tt){return tt[tt.Sent=0]="Sent",tt[tt.UploadProgress=1]="UploadProgress",tt[tt.ResponseHeader=2]="ResponseHeader",tt[tt.DownloadProgress=3]="DownloadProgress",tt[tt.Response=4]="Response",tt[tt.User=5]="User",tt}(Pe||{});class Re{constructor(Dt,Ct=we.Ok,rn="OK"){this.headers=Dt.headers||new R,this.status=void 0!==Dt.status?Dt.status:Ct,this.statusText=Dt.statusText||rn,this.url=Dt.url||null,this.ok=this.status>=200&&this.status<300}}class ke extends Re{constructor(Dt={}){super(Dt),this.type=Pe.ResponseHeader}clone(Dt={}){return new ke({headers:Dt.headers||this.headers,status:void 0!==Dt.status?Dt.status:this.status,statusText:Dt.statusText||this.statusText,url:Dt.url||this.url||void 0})}}class Je extends Re{constructor(Dt={}){super(Dt),this.type=Pe.Response,this.body=void 0!==Dt.body?Dt.body:null}clone(Dt={}){return new Je({body:void 0!==Dt.body?Dt.body:this.body,headers:Dt.headers||this.headers,status:void 0!==Dt.status?Dt.status:this.status,statusText:Dt.statusText||this.statusText,url:Dt.url||this.url||void 0})}}class Te extends Re{constructor(Dt){super(Dt,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Dt.url||"(unknown url)"}`:`Http failure response for ${Dt.url||"(unknown url)"}: ${Dt.status} ${Dt.statusText}`,this.error=Dt.error||null}}var we=function(tt){return tt[tt.Continue=100]="Continue",tt[tt.SwitchingProtocols=101]="SwitchingProtocols",tt[tt.Processing=102]="Processing",tt[tt.EarlyHints=103]="EarlyHints",tt[tt.Ok=200]="Ok",tt[tt.Created=201]="Created",tt[tt.Accepted=202]="Accepted",tt[tt.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",tt[tt.NoContent=204]="NoContent",tt[tt.ResetContent=205]="ResetContent",tt[tt.PartialContent=206]="PartialContent",tt[tt.MultiStatus=207]="MultiStatus",tt[tt.AlreadyReported=208]="AlreadyReported",tt[tt.ImUsed=226]="ImUsed",tt[tt.MultipleChoices=300]="MultipleChoices",tt[tt.MovedPermanently=301]="MovedPermanently",tt[tt.Found=302]="Found",tt[tt.SeeOther=303]="SeeOther",tt[tt.NotModified=304]="NotModified",tt[tt.UseProxy=305]="UseProxy",tt[tt.Unused=306]="Unused",tt[tt.TemporaryRedirect=307]="TemporaryRedirect",tt[tt.PermanentRedirect=308]="PermanentRedirect",tt[tt.BadRequest=400]="BadRequest",tt[tt.Unauthorized=401]="Unauthorized",tt[tt.PaymentRequired=402]="PaymentRequired",tt[tt.Forbidden=403]="Forbidden",tt[tt.NotFound=404]="NotFound",tt[tt.MethodNotAllowed=405]="MethodNotAllowed",tt[tt.NotAcceptable=406]="NotAcceptable",tt[tt.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",tt[tt.RequestTimeout=408]="RequestTimeout",tt[tt.Conflict=409]="Conflict",tt[tt.Gone=410]="Gone",tt[tt.LengthRequired=411]="LengthRequired",tt[tt.PreconditionFailed=412]="PreconditionFailed",tt[tt.PayloadTooLarge=413]="PayloadTooLarge",tt[tt.UriTooLong=414]="UriTooLong",tt[tt.UnsupportedMediaType=415]="UnsupportedMediaType",tt[tt.RangeNotSatisfiable=416]="RangeNotSatisfiable",tt[tt.ExpectationFailed=417]="ExpectationFailed",tt[tt.ImATeapot=418]="ImATeapot",tt[tt.MisdirectedRequest=421]="MisdirectedRequest",tt[tt.UnprocessableEntity=422]="UnprocessableEntity",tt[tt.Locked=423]="Locked",tt[tt.FailedDependency=424]="FailedDependency",tt[tt.TooEarly=425]="TooEarly",tt[tt.UpgradeRequired=426]="UpgradeRequired",tt[tt.PreconditionRequired=428]="PreconditionRequired",tt[tt.TooManyRequests=429]="TooManyRequests",tt[tt.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",tt[tt.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",tt[tt.InternalServerError=500]="InternalServerError",tt[tt.NotImplemented=501]="NotImplemented",tt[tt.BadGateway=502]="BadGateway",tt[tt.ServiceUnavailable=503]="ServiceUnavailable",tt[tt.GatewayTimeout=504]="GatewayTimeout",tt[tt.HttpVersionNotSupported=505]="HttpVersionNotSupported",tt[tt.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",tt[tt.InsufficientStorage=507]="InsufficientStorage",tt[tt.LoopDetected=508]="LoopDetected",tt[tt.NotExtended=510]="NotExtended",tt[tt.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",tt}(we||{});function de(tt,Dt){return{body:Dt,headers:tt.headers,context:tt.context,observe:tt.observe,params:tt.params,reportProgress:tt.reportProgress,responseType:tt.responseType,withCredentials:tt.withCredentials,transferCache:tt.transferCache}}let Ve=(()=>{class tt{constructor(Ct){this.handler=Ct}request(Ct,rn,Qt={}){let In;if(Ct instanceof _e)In=Ct;else{let Oe,ue;Oe=Qt.headers instanceof R?Qt.headers:new R(Qt.headers),Qt.params&&(ue=Qt.params instanceof ie?Qt.params:new ie({fromObject:Qt.params})),In=new _e(Ct,rn,void 0!==Qt.body?Qt.body:null,{headers:Oe,context:Qt.context,params:ue,reportProgress:Qt.reportProgress,responseType:Qt.responseType||"json",withCredentials:Qt.withCredentials,transferCache:Qt.transferCache})}const St=(0,_.of)(In).pipe((0,v.H)(Oe=>this.handler.handle(Oe)));if(Ct instanceof _e||"events"===Qt.observe)return St;const yt=St.pipe((0,f.p)(Oe=>Oe instanceof Je));switch(Qt.observe||"body"){case"body":switch(In.responseType){case"arraybuffer":return yt.pipe((0,d.T)(Oe=>{if(null!==Oe.body&&!(Oe.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Oe.body}));case"blob":return yt.pipe((0,d.T)(Oe=>{if(null!==Oe.body&&!(Oe.body instanceof Blob))throw new Error("Response is not a Blob.");return Oe.body}));case"text":return yt.pipe((0,d.T)(Oe=>{if(null!==Oe.body&&"string"!=typeof Oe.body)throw new Error("Response is not a string.");return Oe.body}));default:return yt.pipe((0,d.T)(Oe=>Oe.body))}case"response":return yt;default:throw new Error(`Unreachable: unhandled observe type ${Qt.observe}}`)}}delete(Ct,rn={}){return this.request("DELETE",Ct,rn)}get(Ct,rn={}){return this.request("GET",Ct,rn)}head(Ct,rn={}){return this.request("HEAD",Ct,rn)}jsonp(Ct,rn){return this.request("JSONP",Ct,{params:(new ie).append(rn,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Ct,rn={}){return this.request("OPTIONS",Ct,rn)}patch(Ct,rn,Qt={}){return this.request("PATCH",Ct,de(Qt,rn))}post(Ct,rn,Qt={}){return this.request("POST",Ct,de(Qt,rn))}put(Ct,rn,Qt={}){return this.request("PUT",Ct,de(Qt,rn))}static{this.\u0275fac=function(rn){return new(rn||tt)(e.KVO(w))}}static{this.\u0275prov=e.jDH({token:tt,factory:tt.\u0275fac})}}return tt})();function Tt(tt,Dt){return Dt(tt)}function _t(tt,Dt){return(Ct,rn)=>Dt.intercept(Ct,{handle:Qt=>tt(Qt,rn)})}const Y=new e.nKC(""),ee=new e.nKC(""),Se=new e.nKC(""),Ee=new e.nKC("");function at(){let tt=null;return(Dt,Ct)=>{null===tt&&(tt=((0,e.WQX)(Y,{optional:!0})??[]).reduceRight(_t,Tt));const rn=(0,e.WQX)(e.TgB),Qt=rn.add();return tt(Dt,Ct).pipe((0,E.j)(()=>rn.remove(Qt)))}}let Ft=(()=>{class tt extends w{constructor(Ct,rn){super(),this.backend=Ct,this.injector=rn,this.chain=null,this.pendingTasks=(0,e.WQX)(e.TgB);const Qt=(0,e.WQX)(Ee,{optional:!0});this.backend=Qt??Ct}handle(Ct){if(null===this.chain){const Qt=Array.from(new Set([...this.injector.get(ee),...this.injector.get(Se,[])]));this.chain=Qt.reduceRight((In,St)=>function X(tt,Dt,Ct){return(rn,Qt)=>(0,e.N4e)(Ct,()=>Dt(rn,In=>tt(In,Qt)))}(In,St,this.injector),Tt)}const rn=this.pendingTasks.add();return this.chain(Ct,Qt=>this.backend.handle(Qt)).pipe((0,E.j)(()=>this.pendingTasks.remove(rn)))}static{this.\u0275fac=function(rn){return new(rn||tt)(e.KVO(C),e.KVO(e.uvJ))}}static{this.\u0275prov=e.jDH({token:tt,factory:tt.\u0275fac})}}return tt})();const Ze=/^\)\]\}',?\n/;let Pt=(()=>{class tt{constructor(Ct){this.xhrFactory=Ct}handle(Ct){if("JSONP"===Ct.method)throw new e.wOt(-2800,!1);const rn=this.xhrFactory;return(rn.\u0275loadImpl?(0,S.H)(rn.\u0275loadImpl()):(0,_.of)(null)).pipe((0,m.n)(()=>new g.c(In=>{const St=rn.build();if(St.open(Ct.method,Ct.urlWithParams),Ct.withCredentials&&(St.withCredentials=!0),Ct.headers.forEach((hn,_n)=>St.setRequestHeader(hn,_n.join(","))),Ct.headers.has("Accept")||St.setRequestHeader("Accept","application/json, text/plain, */*"),!Ct.headers.has("Content-Type")){const hn=Ct.detectContentTypeHeader();null!==hn&&St.setRequestHeader("Content-Type",hn)}if(Ct.responseType){const hn=Ct.responseType.toLowerCase();St.responseType="json"!==hn?hn:"text"}const yt=Ct.serializeBody();let Oe=null;const ue=()=>{if(null!==Oe)return Oe;const hn=St.statusText||"OK",_n=new R(St.getAllResponseHeaders()),Zn=function dt(tt){return"responseURL"in tt&&tt.responseURL?tt.responseURL:/^X-Request-URL:/m.test(tt.getAllResponseHeaders())?tt.getResponseHeader("X-Request-URL"):null}(St)||Ct.url;return Oe=new ke({headers:_n,status:St.status,statusText:hn,url:Zn}),Oe},q=()=>{let{headers:hn,status:_n,statusText:Zn,url:_i}=ue(),fi=null;_n!==we.NoContent&&(fi=typeof St.response>"u"?St.responseText:St.response),0===_n&&(_n=fi?we.Ok:0);let di=_n>=200&&_n<300;if("json"===Ct.responseType&&"string"==typeof fi){const Yi=fi;fi=fi.replace(Ze,"");try{fi=""!==fi?JSON.parse(fi):null}catch(Ar){fi=Yi,di&&(di=!1,fi={error:Ar,text:fi})}}di?(In.next(new Je({body:fi,headers:hn,status:_n,statusText:Zn,url:_i||void 0})),In.complete()):In.error(new Te({error:fi,headers:hn,status:_n,statusText:Zn,url:_i||void 0}))},he=hn=>{const{url:_n}=ue(),Zn=new Te({error:hn,status:St.status||0,statusText:St.statusText||"Unknown Error",url:_n||void 0});In.error(Zn)};let Me=!1;const Et=hn=>{Me||(In.next(ue()),Me=!0);let _n={type:Pe.DownloadProgress,loaded:hn.loaded};hn.lengthComputable&&(_n.total=hn.total),"text"===Ct.responseType&&St.responseText&&(_n.partialText=St.responseText),In.next(_n)},Kt=hn=>{let _n={type:Pe.UploadProgress,loaded:hn.loaded};hn.lengthComputable&&(_n.total=hn.total),In.next(_n)};return St.addEventListener("load",q),St.addEventListener("error",he),St.addEventListener("timeout",he),St.addEventListener("abort",he),Ct.reportProgress&&(St.addEventListener("progress",Et),null!==yt&&St.upload&&St.upload.addEventListener("progress",Kt)),St.send(yt),In.next({type:Pe.Sent}),()=>{St.removeEventListener("error",he),St.removeEventListener("abort",he),St.removeEventListener("load",q),St.removeEventListener("timeout",he),Ct.reportProgress&&(St.removeEventListener("progress",Et),null!==yt&&St.upload&&St.upload.removeEventListener("progress",Kt)),St.readyState!==St.DONE&&St.abort()}})))}static{this.\u0275fac=function(rn){return new(rn||tt)(e.KVO(F.N0))}}static{this.\u0275prov=e.jDH({token:tt,factory:tt.\u0275fac})}}return tt})();const an=new e.nKC(""),Mn=new e.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Bn=new e.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class It{}let Rn=(()=>{class tt{constructor(Ct,rn,Qt){this.doc=Ct,this.platform=rn,this.cookieName=Qt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Ct=this.doc.cookie||"";return Ct!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,F._b)(Ct,this.cookieName),this.lastCookieString=Ct),this.lastToken}static{this.\u0275fac=function(rn){return new(rn||tt)(e.KVO(F.qQ),e.KVO(e.Agw),e.KVO(Mn))}}static{this.\u0275prov=e.jDH({token:tt,factory:tt.\u0275fac})}}return tt})();function Ht(tt,Dt){const Ct=tt.url.toLowerCase();if(!(0,e.WQX)(an)||"GET"===tt.method||"HEAD"===tt.method||Ct.startsWith("http://")||Ct.startsWith("https://"))return Dt(tt);const rn=(0,e.WQX)(It).getToken(),Qt=(0,e.WQX)(Bn);return null!=rn&&!tt.headers.has(Qt)&&(tt=tt.clone({headers:tt.headers.set(Qt,rn)})),Dt(tt)}var vt=function(tt){return tt[tt.Interceptors=0]="Interceptors",tt[tt.LegacyInterceptors=1]="LegacyInterceptors",tt[tt.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",tt[tt.NoXsrfProtection=3]="NoXsrfProtection",tt[tt.JsonpSupport=4]="JsonpSupport",tt[tt.RequestsMadeViaParent=5]="RequestsMadeViaParent",tt[tt.Fetch=6]="Fetch",tt}(vt||{});function mt(tt,Dt){return{\u0275kind:tt,\u0275providers:Dt}}function kt(...tt){const Dt=[Ve,Pt,Ft,{provide:w,useExisting:Ft},{provide:C,useExisting:Pt},{provide:ee,useValue:Ht,multi:!0},{provide:an,useValue:!0},{provide:It,useClass:Rn}];for(const Ct of tt)Dt.push(...Ct.\u0275providers);return(0,e.EmA)(Dt)}const Tn=new e.nKC("");let $t=(()=>{class tt{static{this.\u0275fac=function(rn){return new(rn||tt)}}static{this.\u0275mod=e.$C({type:tt})}static{this.\u0275inj=e.G2t({providers:[kt(mt(vt.LegacyInterceptors,[{provide:Tn,useFactory:at},{provide:ee,useExisting:Tn,multi:!0}]))]})}}return tt})()},4438:(qe,me,u)=>{"use strict";u.d(me,{bc$:()=>aC,iLQ:()=>NT,sZ2:()=>L1,hnV:()=>ZD,Hbi:()=>CR,o8S:()=>ed,BIS:()=>lC,gRc:()=>h2,Ql9:()=>KA,OM3:()=>bu,Ocv:()=>eR,abz:()=>Ol,Z63:()=>Hr,aKT:()=>md,uvJ:()=>Ir,zcH:()=>Nl,bkB:()=>ml,$GK:()=>vi,nKC:()=>Qt,zZn:()=>xa,_q3:()=>jT,MKu:()=>$T,xe9:()=>eb,Co$:()=>uS,Vns:()=>xu,SKi:()=>Ps,Xx1:()=>yr,Agw:()=>_p,PLl:()=>U1,sFG:()=>Aw,_9s:()=>wm,czy:()=>Bh,WPN:()=>Bl,kdw:()=>os,C4Q:()=>mu,NYb:()=>UA,giA:()=>JD,RxE:()=>$D,c1b:()=>lf,gXe:()=>Ur,mal:()=>Ow,Af3:()=>bs,L39:()=>JR,a0P:()=>rM,Ol2:()=>Lv,w6W:()=>Fv,oH4:()=>l2,SmG:()=>oR,Rfq:()=>Ht,WQX:()=>Wn,naY:()=>sR,QuC:()=>Ds,EmA:()=>As,fpN:()=>bR,HJs:()=>sM,N4e:()=>Ms,O8t:()=>ZR,An2:()=>_u,H3F:()=>GD,H8p:()=>Ua,KH2:()=>Tl,TgB:()=>zd,wOt:()=>je,WHO:()=>YD,e01:()=>XD,lNU:()=>at,h9k:()=>q1,$MX:()=>Rh,ZF7:()=>No,Kcf:()=>Fp,e5t:()=>_C,UyX:()=>ru,cWb:()=>Sd,osQ:()=>Ed,H5H:()=>_g,Zy3:()=>ot,mq5:()=>Ny,JZv:()=>dt,LfX:()=>pi,plB:()=>Ic,jNT:()=>xT,zjR:()=>QD,TL$:()=>sC,Tbb:()=>kn,rcV:()=>so,nM4:()=>oS,Vt3:()=>pf,Mj6:()=>Wr,GFd:()=>cS,OA$:()=>Ks,Jv_:()=>l,aNF:()=>Q,R7$:()=>R0,BMQ:()=>Tf,HbH:()=>hy,ZvI:()=>_y,STu:()=>by,AVh:()=>ug,vxM:()=>Ty,wni:()=>y_,VBU:()=>Vn,FsC:()=>Jo,jDH:()=>ni,G2t:()=>Xn,$C:()=>Is,EJ8:()=>Vr,rXU:()=>du,nrm:()=>mg,eu8:()=>gg,bVm:()=>Nf,qex:()=>qd,k0s:()=>kf,j41:()=>xf,RV6:()=>ky,xGo:()=>h1,Mr5:()=>vg,pXf:()=>s_,KVO:()=>er,kS0:()=>vh,QTQ:()=>x0,bIt:()=>kg,lsd:()=>C_,XpG:()=>u_,nI1:()=>Zs,bMT:()=>rl,i5U:()=>qn,brH:()=>hi,SdG:()=>h_,NAR:()=>d_,Y8G:()=>Af,FS9:()=>Og,Mz_:()=>Uf,FCK:()=>Fg,lJ4:()=>ln,eq3:()=>wn,l_i:()=>En,sMw:()=>Fn,ziG:()=>On,s1E:()=>oi,l4e:()=>bi,mGM:()=>b_,sdS:()=>S_,Dyx:()=>Ay,Z7z:()=>Dy,fX1:()=>Iy,Njj:()=>e1,EBC:()=>u0,tSv:()=>c0,eBV:()=>ld,npT:()=>$p,B4B:()=>Gp,n$t:()=>t0,xc7:()=>cg,zvX:()=>yg,DNE:()=>Xd,C5r:()=>Ko,EFF:()=>O_,JRh:()=>Bg,SpI:()=>jf,Lme:()=>Lg,DH7:()=>$_,mxI:()=>jg,R50:()=>Vg,GBs:()=>__}),u(467);let _=null,S=1;const v=Symbol("SIGNAL");function f(t){const r=_;return _=t,r}function R(t){if((!L(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==S)){if(!t.producerMustRecompute(t)&&!U(t))return t.dirty=!1,void(t.lastCleanEpoch=S);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=S}}function U(t){J(t);for(let r=0;r<t.producerNode.length;r++){const o=t.producerNode[r],c=t.producerLastReadVersion[r];if(c!==o.version||(R(o),c!==o.version))return!0}return!1}function le(t,r){if(function te(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),J(t),1===t.liveConsumerNode.length)for(let c=0;c<t.producerNode.length;c++)le(t.producerNode[c],t.producerIndexOfThis[c]);const o=t.liveConsumerNode.length-1;if(t.liveConsumerNode[r]=t.liveConsumerNode[o],t.liveConsumerIndexOfThis[r]=t.liveConsumerIndexOfThis[o],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,r<t.liveConsumerNode.length){const c=t.liveConsumerIndexOfThis[r],y=t.liveConsumerNode[r];J(y),y.producerIndexOfThis[c]=r}}function L(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function J(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let ke=null;var X=u(1413),Y=u(8359),ee=u(4412),Se=u(6354);const at="https://g.co/ng/security#xss";class je extends Error{constructor(r,o){super(ot(r,o)),this.code=r}}function ot(t,r){return`NG0${Math.abs(t)}${r?": "+r:""}`}function it(t){return{toString:t}.toString()}const ve="__parameters__";function Ue(t,r,o){return it(()=>{const c=function se(t){return function(...o){if(t){const c=t(...o);for(const y in c)this[y]=c[y]}}}(r);function y(...T){if(this instanceof y)return c.apply(this,T),this;const N=new y(...T);return W.annotation=N,W;function W(re,Ie,Ke){const ct=re.hasOwnProperty(ve)?re[ve]:Object.defineProperty(re,ve,{value:[]})[ve];for(;ct.length<=Ke;)ct.push(null);return(ct[Ke]=ct[Ke]||[]).push(N),re}}return o&&(y.prototype=Object.create(o.prototype)),y.prototype.ngMetadataName=t,y.annotationCls=y,y})}const dt=globalThis;function un(t){for(let r in t)if(t[r]===un)return r;throw Error("Could not find renamed property on target object.")}function Mn(t,r){for(const o in r)r.hasOwnProperty(o)&&!t.hasOwnProperty(o)&&(t[o]=r[o])}function kn(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(kn).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const o=r.indexOf("\n");return-1===o?r:r.substring(0,o)}function Bn(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const Rn=un({__forward_ref__:un});function Ht(t){return t.__forward_ref__=Ht,t.toString=function(){return kn(this())},t}function lt(t){return vt(t)?t():t}function vt(t){return"function"==typeof t&&t.hasOwnProperty(Rn)&&t.__forward_ref__===Ht}function Ln(t,r,o){t!=r&&function vn(t,r,o,c){throw new Error(`ASSERTION ERROR: ${t}`+(null==c?"":` [Expected=> ${o} ${c} ${r} <=Actual]`))}(o,t,r,"==")}function ni(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Xn(t){return{providers:t.providers||[],imports:t.imports||[]}}function wi(t){return Hi(t,tt)||Hi(t,Ct)}function pi(t){return null!==wi(t)}function Hi(t,r){return t.hasOwnProperty(r)?t[r]:null}function Si(t){return t&&(t.hasOwnProperty(Dt)||t.hasOwnProperty(rn))?t[Dt]:null}const tt=un({\u0275prov:un}),Dt=un({\u0275inj:un}),Ct=un({ngInjectableDef:un}),rn=un({ngInjectorDef:un});class Qt{constructor(r,o){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=ni({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function hn(t){return t&&!!t.\u0275providers}const _n=un({\u0275cmp:un}),Zn=un({\u0275dir:un}),_i=un({\u0275pipe:un}),fi=un({\u0275mod:un}),di=un({\u0275fac:un}),Yi=un({__NG_ELEMENT_ID__:un}),Ar=un({__NG_ENV_ID__:un});function Gn(t){return"string"==typeof t?t:null==t?"":String(t)}function ks(t,r){throw new je(-201,!1)}var vi=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(vi||{});let Bs;function gs(){return Bs}function wr(t){const r=Bs;return Bs=t,r}function Ns(t,r,o){const c=wi(t);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:o&vi.Optional?null:void 0!==r?r:void ks()}const Ni={},Hs="__NG_DI_FLAG__",ai="ngTempTokenPath",$n=/\n/gm,pr="__source";let Sr;function kr(t){const r=Sr;return Sr=t,r}function Lr(t,r=vi.Default){if(void 0===Sr)throw new je(-203,!1);return null===Sr?Ns(t,void 0,r):Sr.get(t,r&vi.Optional?null:void 0,r)}function er(t,r=vi.Default){return(gs()||Lr)(lt(t),r)}function Wn(t,r=vi.Default){return er(t,Gr(r))}function Gr(t){return typeof t>"u"||"number"==typeof t?t:(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function ur(t){const r=[];for(let o=0;o<t.length;o++){const c=lt(t[o]);if(Array.isArray(c)){if(0===c.length)throw new je(900,!1);let y,T=vi.Default;for(let N=0;N<c.length;N++){const W=c[N],re=rs(W);"number"==typeof re?-1===re?y=W.token:T|=re:y=W}r.push(er(y,T))}else r.push(er(c))}return r}function Nr(t,r){return t[Hs]=r,t.prototype[Hs]=r,t}function rs(t){return t[Hs]}const yr=Nr(Ue("Optional"),8),os=Nr(Ue("SkipSelf"),4);function Qr(t,r){return t.hasOwnProperty(di)?t[di]:null}function Zr(t,r){t.forEach(o=>Array.isArray(o)?Zr(o,r):r(o))}function Bo(t,r,o){r>=t.length?t.push(o):t.splice(r,0,o)}function Xo(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function or(t,r,o){let c=as(t,r);return c>=0?t[1|c]=o:(c=~c,function Es(t,r,o,c){let y=t.length;if(y==r)t.push(o,c);else if(1===y)t.push(c,t[0]),t[0]=o;else{for(y--,t.push(t[y-1],t[y]);y>r;)t[y]=t[y-2],y--;t[r]=o,t[r+1]=c}}(t,c,r,o)),c}function Fr(t,r){const o=as(t,r);if(o>=0)return t[1|o]}function as(t,r){return function wa(t,r,o){let c=0,y=t.length>>o;for(;y!==c;){const T=c+(y-c>>1),N=t[T<<o];if(r===N)return T<<o;N>r?y=T:c=T+1}return~(y<<o)}(t,r,1)}const Ts={},si=[],Hr=new Qt(""),Ls=new Qt("",-1),mr=new Qt("");class Us{get(r,o=Ni){if(o===Ni){const c=new Error(`NullInjectorError: No provider for ${kn(r)}!`);throw c.name="NullInjectorError",c}return o}}var Pr=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Pr||{}),Ur=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Ur||{}),Wr=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Wr||{});function gn(t,r,o){let c=t.length;for(;;){const y=t.indexOf(r,o);if(-1===y)return y;if(0===y||t.charCodeAt(y-1)<=32){const T=r.length;if(y+T===c||t.charCodeAt(y+T)<=32)return y}o=y+1}}function vs(t,r,o){let c=0;for(;c<o.length;){const y=o[c];if("number"==typeof y){if(0!==y)break;c++;const T=o[c++],N=o[c++],W=o[c++];t.setAttribute(r,N,W,T)}else{const T=y,N=o[++c];Ge(T)?t.setProperty(r,T,N):t.setAttribute(r,T,N),c++}}return c}function Fe(t){return 3===t||4===t||6===t}function Ge(t){return 64===t.charCodeAt(0)}function ge(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let o=-1;for(let c=0;c<r.length;c++){const y=r[c];"number"==typeof y?o=y:0===o||et(t,o,y,null,-1===o||2===o?r[++c]:null)}}return t}function et(t,r,o,c,y){let T=0,N=t.length;if(-1===r)N=-1;else for(;T<t.length;){const W=t[T++];if("number"==typeof W){if(W===r){N=-1;break}if(W>r){N=T-1;break}}}for(;T<t.length;){const W=t[T];if("number"==typeof W)break;if(W===o){if(null===c)return void(null!==y&&(t[T+1]=y));if(c===t[T+1])return void(t[T+2]=y)}T++,null!==c&&T++,null!==y&&T++}-1!==N&&(t.splice(N,0,r),T=N+1),t.splice(T++,0,o),null!==c&&t.splice(T++,0,c),null!==y&&t.splice(T++,0,y)}const Bt="ng-template";function Kn(t,r,o,c){let y=0;if(c){for(;y<r.length&&"string"==typeof r[y];y+=2)if("class"===r[y]&&-1!==gn(r[y+1].toLowerCase(),o,0))return!0}else if(Ei(t))return!1;if(y=r.indexOf(1,y),y>-1){let T;for(;++y<r.length&&"string"==typeof(T=r[y]);)if(T.toLowerCase()===o)return!0}return!1}function Ei(t){return 4===t.type&&t.value!==Bt}function ls(t,r,o){return r===(4!==t.type||o?t.value:Bt)}function ys(t,r,o){let c=4;const y=t.attrs,T=null!==y?function Mt(t){for(let r=0;r<t.length;r++)if(Fe(t[r]))return r;return t.length}(y):0;let N=!1;for(let W=0;W<r.length;W++){const re=r[W];if("number"!=typeof re){if(!N)if(4&c){if(c=2|1&c,""!==re&&!ls(t,re,o)||""===re&&1===r.length){if(Jn(c))return!1;N=!0}}else if(8&c){if(null===y||!Kn(t,y,re,o)){if(Jn(c))return!1;N=!0}}else{const Ie=r[++W],Ke=xe(re,y,Ei(t),o);if(-1===Ke){if(Jn(c))return!1;N=!0;continue}if(""!==Ie){let ct;if(ct=Ke>T?"":y[Ke+1].toLowerCase(),2&c&&Ie!==ct){if(Jn(c))return!1;N=!0}}}}else{if(!N&&!Jn(c)&&!Jn(re))return!1;if(N&&Jn(re))continue;N=!1,c=re|1&c}}return Jn(c)||N}function Jn(t){return!(1&t)}function xe(t,r,o,c){if(null===r)return-1;let y=0;if(c||!o){let T=!1;for(;y<r.length;){const N=r[y];if(N===t)return y;if(3===N||6===N)T=!0;else{if(1===N||2===N){let W=r[++y];for(;"string"==typeof W;)W=r[++y];continue}if(4===N)break;if(0===N){y+=4;continue}}y+=T?1:2}return-1}return function Lt(t,r){let o=t.indexOf(4);if(o>-1)for(o++;o<t.length;){const c=t[o];if("number"==typeof c)return-1;if(c===r)return o;o++}return-1}(r,t)}function Xe(t,r,o=!1){for(let c=0;c<r.length;c++)if(ys(t,r[c],o))return!0;return!1}function bt(t,r){e:for(let o=0;o<r.length;o++){const c=r[o];if(t.length===c.length){for(let y=0;y<t.length;y++)if(t[y]!==c[y])continue e;return!0}}return!1}function fn(t,r){return t?":not("+r.trim()+")":r}function Jt(t){let r=t[0],o=1,c=2,y="",T=!1;for(;o<t.length;){let N=t[o];if("string"==typeof N)if(2&c){const W=t[++o];y+="["+N+(W.length>0?'="'+W+'"':"")+"]"}else 8&c?y+="."+N:4&c&&(y+=" "+N);else""!==y&&!Jn(N)&&(r+=fn(T,y),y=""),c=N,T=T||!Jn(c);o++}return""!==y&&(r+=fn(T,y)),r}function Vn(t){return it(()=>{const r=sl(t),o={...r,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Pr.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ur.Emulated,styles:t.styles||si,_:null,schemas:t.schemas||null,tView:null,id:""};$i(o);const c=t.dependencies;return o.directiveDefs=Ro(c,!1),o.pipeDefs=Ro(c,!0),o.id=function bn(t){let r=0;const o=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const y of o)r=Math.imul(31,r)+y.charCodeAt(0)|0;return r+=2147483648,"c"+r}(o),o})}function Br(t){return xi(t)||Hn(t)}function Ti(t){return null!==t}function Is(t){return it(()=>({type:t.type,bootstrap:t.bootstrap||si,declarations:t.declarations||si,imports:t.imports||si,exports:t.exports||si,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function da(t,r){if(null==t)return Ts;const o={};for(const c in t)if(t.hasOwnProperty(c)){const y=t[c];let T,N,W=Wr.None;Array.isArray(y)?(W=y[0],T=y[1],N=y[2]??T):(T=y,N=y),r?(o[T]=W!==Wr.None?[c,W]:c,r[T]=N):o[T]=c}return o}function Jo(t){return it(()=>{const r=sl(t);return $i(r),r})}function Vr(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function xi(t){return t[_n]||null}function Hn(t){return t[Zn]||null}function qr(t){return t[_i]||null}function Ds(t){const r=xi(t)||Hn(t)||qr(t);return null!==r&&r.standalone}function Tr(t,r){const o=t[fi]||null;if(!o&&!0===r)throw new Error(`Type ${kn(t)} does not have '\u0275mod' property.`);return o}function sl(t){const r={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputTransforms:null,inputConfig:t.inputs||Ts,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||si,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:da(t.inputs,r),outputs:da(t.outputs),debugInfo:null}}function $i(t){t.features?.forEach(r=>r(t))}function Ro(t,r){if(!t)return null;const o=r?qr:Br;return()=>("function"==typeof t?t():t).map(c=>o(c)).filter(Ti)}function As(t){return{\u0275providers:t}}function Qo(...t){return{\u0275providers:Os(0,t),\u0275fromNgModule:!0}}function Os(t,...r){const o=[],c=new Set;let y;const T=N=>{o.push(N)};return Zr(r,N=>{const W=N;Zo(W,T,[],c)&&(y||=[],y.push(W))}),void 0!==y&&Ea(y,T),o}function Ea(t,r){for(let o=0;o<t.length;o++){const{ngModule:c,providers:y}=t[o];qo(y,T=>{r(T,c)})}}function Zo(t,r,o,c){if(!(t=lt(t)))return!1;let y=null,T=Si(t);const N=!T&&xi(t);if(T||N){if(N&&!N.standalone)return!1;y=t}else{const re=t.ngModule;if(T=Si(re),!T)return!1;y=re}const W=c.has(y);if(N){if(W)return!1;if(c.add(y),N.dependencies){const re="function"==typeof N.dependencies?N.dependencies():N.dependencies;for(const Ie of re)Zo(Ie,r,o,c)}}else{if(!T)return!1;{if(null!=T.imports&&!W){let Ie;c.add(y);try{Zr(T.imports,Ke=>{Zo(Ke,r,o,c)&&(Ie||=[],Ie.push(Ke))})}finally{}void 0!==Ie&&Ea(Ie,r)}if(!W){const Ie=Qr(y)||(()=>new y);r({provide:y,useFactory:Ie,deps:si},y),r({provide:mr,useValue:y,multi:!0},y),r({provide:Hr,useValue:()=>er(y),multi:!0},y)}const re=T.providers;if(null!=re&&!W){const Ie=t;qo(re,Ke=>{r(Ke,Ie)})}}}return y!==t&&void 0!==t.providers}function qo(t,r){for(let o of t)hn(o)&&(o=o.\u0275providers),Array.isArray(o)?qo(o,r):r(o)}const ol=un({provide:String,useValue:un});function hs(t){return null!==t&&"object"==typeof t&&ol in t}function Lo(t){return"function"==typeof t}const Ua=new Qt(""),Ta={},Va={};let ja;function _s(){return void 0===ja&&(ja=new Us),ja}class Ir{}class uo extends Ir{get destroyed(){return this._destroyed}constructor(r,o,c,y){super(),this.parent=o,this.source=c,this.scopes=y,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,io(r,N=>this.processProvider(N)),this.records.set(Ls,Kr(void 0,this)),y.has("environment")&&this.records.set(Ir,Kr(void 0,this));const T=this.records.get(Ua);null!=T&&"string"==typeof T.value&&this.scopes.add(T.value),this.injectorDefTypes=new Set(this.get(mr,si,vi.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const r=f(null);try{for(const c of this._ngOnDestroyHooks)c.ngOnDestroy();const o=this._onDestroyHooks;this._onDestroyHooks=[];for(const c of o)c()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),f(r)}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();const o=kr(this),c=wr(void 0);try{return r()}finally{kr(o),wr(c)}}get(r,o=Ni,c=vi.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(Ar))return r[Ar](this);c=Gr(c);const T=kr(this),N=wr(void 0);try{if(!(c&vi.SkipSelf)){let re=this.records.get(r);if(void 0===re){const Ie=function ha(t){return"function"==typeof t||"object"==typeof t&&t instanceof Qt}(r)&&wi(r);re=Ie&&this.injectableDefInScope(Ie)?Kr(Rs(r),Ta):null,this.records.set(r,re)}if(null!=re)return this.hydrate(r,re)}return(c&vi.Self?_s():this.parent).get(r,o=c&vi.Optional&&o===Ni?null:o)}catch(W){if("NullInjectorError"===W.name){if((W[ai]=W[ai]||[]).unshift(kn(r)),T)throw W;return function qs(t,r,o,c){const y=t[ai];throw r[pr]&&y.unshift(r[pr]),t.message=function go(t,r,o,c=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let y=kn(r);if(Array.isArray(r))y=r.map(kn).join(" -> ");else if("object"==typeof r){let T=[];for(let N in r)if(r.hasOwnProperty(N)){let W=r[N];T.push(N+":"+("string"==typeof W?JSON.stringify(W):kn(W)))}y=`{${T.join(", ")}}`}return`${o}${c?"("+c+")":""}[${y}]: ${t.replace($n,"\n  ")}`}("\n"+t.message,y,o,c),t.ngTokenPath=y,t[ai]=null,t}(W,r,"R3InjectorError",this.source)}throw W}finally{wr(N),kr(T)}}resolveInjectorInitializers(){const r=f(null),o=kr(this),c=wr(void 0);try{const T=this.get(Hr,si,vi.Self);for(const N of T)N()}finally{kr(o),wr(c),f(r)}}toString(){const r=[],o=this.records;for(const c of o.keys())r.push(kn(c));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new je(205,!1)}processProvider(r){let o=Lo(r=lt(r))?r:lt(r&&r.provide);const c=function Uo(t){return hs(t)?Kr(void 0,t.useValue):Kr(yo(t),Ta)}(r);if(!Lo(r)&&!0===r.multi){let y=this.records.get(o);y||(y=Kr(void 0,Ta,!0),y.factory=()=>ur(y.multi),this.records.set(o,y)),o=r,y.multi.push(r)}this.records.set(o,c)}hydrate(r,o){const c=f(null);try{return o.value===Ta&&(o.value=Va,o.value=o.factory()),"object"==typeof o.value&&o.value&&function $a(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}finally{f(c)}}injectableDefInScope(r){if(!r.providedIn)return!1;const o=lt(r.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(r){const o=this._onDestroyHooks.indexOf(r);-1!==o&&this._onDestroyHooks.splice(o,1)}}function Rs(t){const r=wi(t),o=null!==r?r.factory:Qr(t);if(null!==o)return o;if(t instanceof Qt)throw new je(204,!1);if(t instanceof Function)return function Ws(t){if(t.length>0)throw new je(204,!1);const o=function ji(t){return t&&(t[tt]||t[Ct])||null}(t);return null!==o?()=>o.factory(t):()=>new t}(t);throw new je(204,!1)}function yo(t,r,o){let c;if(Lo(t)){const y=lt(t);return Qr(y)||Rs(y)}if(hs(t))c=()=>lt(t.useValue);else if(function Kl(t){return!(!t||!t.useFactory)}(t))c=()=>t.useFactory(...ur(t.deps||[]));else if(function La(t){return!(!t||!t.useExisting)}(t))c=()=>er(lt(t.useExisting));else{const y=lt(t&&(t.useClass||t.provide));if(!function fs(t){return!!t.deps}(t))return Qr(y)||Rs(y);c=()=>new y(...ur(t.deps))}return c}function Kr(t,r,o=!1){return{factory:t,value:r,multi:o?[]:void 0}}function io(t,r){for(const o of t)Array.isArray(o)?io(o,r):o&&hn(o)?io(o.\u0275providers,r):r(o)}function Ms(t,r){t instanceof uo&&t.assertNotDestroyed();const c=kr(t),y=wr(void 0);try{return r()}finally{kr(c),wr(y)}}function Ii(){return void 0!==gs()||null!=function Er(){return Sr}()}function bs(t){if(!Ii())throw new je(-203,!1)}const ye=0,P=1,pe=2,Ne=3,st=4,xt=5,Vt=6,qt=7,sn=8,Cn=9,ti=10,jn=11,_r=12,mi=13,jr=14,Dr=15,Cs=16,Gi=17,cs=18,Mo=19,fa=20,ho=21,zr=22,Vo=23,Di=25,Ia=1,jo=7,Ga=9,ws=10;var Rr=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Rr||{});function yi(t){return Array.isArray(t)&&"object"==typeof t[Ia]}function es(t){return Array.isArray(t)&&!0===t[Ia]}function Ha(t){return!!(4&t.flags)}function ta(t){return t.componentOffset>-1}function na(t){return!(1&~t.flags)}function ro(t){return!!t.template}function Wa(t){return!!(512&t[pe])}class Da{constructor(r,o,c){this.previousValue=r,this.currentValue=o,this.firstChange=c}isFirstChange(){return this.firstChange}}function Yl(t,r,o,c){null!==r?r.applyValueToInputSignal(r,c):t[o]=c}function Ks(){return Xl}function Xl(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ka),Kf}function Kf(){const t=Aa(this),r=t?.current;if(r){const o=t.previous;if(o===Ts)t.previous=r;else for(let c in r)o[c]=r[c];t.current=null,this.ngOnChanges(r)}}function Ka(t,r,o,c,y){const T=this.declaredInputs[c],N=Aa(t)||function ll(t,r){return t[Yr]=r}(t,{previous:Ts,current:null}),W=N.current||(N.current={}),re=N.previous,Ie=re[T];W[T]=new Da(Ie&&Ie.currentValue,o,re===Ts),Yl(t,r,y,o)}Ks.ngInherit=!0;const Yr="__ngSimpleChanges__";function Aa(t){return t[Yr]||null}const $o=function(t,r,o){};let ul=!1;function br(t){for(;Array.isArray(t);)t=t[ye];return t}function rd(t,r){return br(r[t])}function Go(t,r){return br(r[t.index])}function sd(t,r){return t.data[r]}function Vc(t,r){return t[r]}function pa(t,r){const o=r[t];return yi(o)?o:o[ye]}function Yf(t){return!(128&~t[pe])}function dl(t,r){return null==r?null:t[r]}function Qg(t){t[Gi]=0}function db(t){1024&t[pe]||(t[pe]|=1024,Yf(t)&&od(t))}function Xf(t){return!!(9216&t[pe]||t[Vo]?.dirty)}function Jf(t){t[ti].changeDetectionScheduler?.notify(1),Xf(t)?od(t):64&t[pe]&&(function id(){return ul}()?(t[pe]|=1024,od(t)):t[ti].changeDetectionScheduler?.notify())}function od(t){t[ti].changeDetectionScheduler?.notify();let r=Ra(t);for(;null!==r&&!(8192&r[pe])&&(r[pe]|=8192,Yf(r));)r=Ra(r)}function Ql(t,r){if(!(256&~t[pe]))throw new je(911,!1);null===t[ho]&&(t[ho]=[]),t[ho].push(r)}function Ra(t){const r=t[Ne];return es(r)?r[Ne]:r}const Fi={lFrame:a1(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function qg(){return Fi.bindingsEnabled}function jc(){return null!==Fi.skipHydrationRootTNode}function Zt(){return Fi.lFrame.lView}function ki(){return Fi.lFrame.tView}function ld(t){return Fi.lFrame.contextLView=t,t[sn]}function e1(t){return Fi.lFrame.contextLView=null,t}function Cr(){let t=t1();for(;null!==t&&64===t.type;)t=t.parent;return t}function t1(){return Fi.lFrame.currentTNode}function cd(){const t=Fi.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}function hl(t,r){const o=Fi.lFrame;o.currentTNode=t,o.isParent=r}function Zf(){return Fi.lFrame.isParent}function qf(){Fi.lFrame.isParent=!1}function _o(){const t=Fi.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}function za(){return Fi.lFrame.bindingIndex++}function Al(t){const r=Fi.lFrame,o=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,o}function r1(t){Fi.lFrame.inI18n=t}function yb(t,r){const o=Fi.lFrame;o.bindingIndex=o.bindingRootIndex=t,ep(r)}function ep(t){Fi.lFrame.currentDirectiveIndex=t}function tp(t){const r=Fi.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}function np(){return Fi.lFrame.currentQueryIndex}function ah(t){Fi.lFrame.currentQueryIndex=t}function bb(t){const r=t[P];return 2===r.type?r.declTNode:1===r.type?t[xt]:null}function s1(t,r,o){if(o&vi.SkipSelf){let y=r,T=t;for(;!(y=y.parent,null!==y||o&vi.Host||(y=bb(T),null===y||(T=T[jr],10&y.type))););if(null===y)return!1;r=y,t=T}const c=Fi.lFrame=o1();return c.currentTNode=r,c.lView=t,!0}function ip(t){const r=o1(),o=t[P];Fi.lFrame=r,r.currentTNode=o.firstChild,r.lView=t,r.tView=o,r.contextLView=t,r.bindingIndex=o.bindingStartIndex,r.inI18n=!1}function o1(){const t=Fi.lFrame,r=null===t?null:t.child;return null===r?a1(t):r}function a1(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function rp(){const t=Fi.lFrame;return Fi.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const zs=rp;function sp(){const t=rp();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function bo(){return Fi.lFrame.selectedIndex}function hc(t){Fi.lFrame.selectedIndex=t}function us(){const t=Fi.lFrame;return sd(t.tView,t.selectedIndex)}let Ib=!0;function ud(){return Ib}function fo(t){Ib=t}function Rl(t,r){for(let o=r.directiveStart,c=r.directiveEnd;o<c;o++){const T=t.data[o].type.prototype,{ngAfterContentInit:N,ngAfterContentChecked:W,ngAfterViewInit:re,ngAfterViewChecked:Ie,ngOnDestroy:Ke}=T;N&&(t.contentHooks??=[]).push(-o,N),W&&((t.contentHooks??=[]).push(o,W),(t.contentCheckHooks??=[]).push(o,W)),re&&(t.viewHooks??=[]).push(-o,re),Ie&&((t.viewHooks??=[]).push(o,Ie),(t.viewCheckHooks??=[]).push(o,Ie)),null!=Ke&&(t.destroyHooks??=[]).push(o,Ke)}}function Gc(t,r,o){Ma(t,r,3,o)}function dd(t,r,o,c){(3&t[pe])===o&&Ma(t,r,o,c)}function Ml(t,r){let o=t[pe];(3&o)===r&&(o&=16383,o+=1,t[pe]=o)}function Ma(t,r,o,c){const T=c??-1,N=r.length-1;let W=0;for(let re=void 0!==c?65535&t[Gi]:0;re<N;re++)if("number"==typeof r[re+1]){if(W=r[re],null!=c&&W>=c)break}else r[re]<0&&(t[Gi]+=65536),(W<T||-1==T)&&(Ab(t,o,r,re),t[Gi]=(4294901760&t[Gi])+re+2),re++}function op(t,r){$o(4,t,r);const o=f(null);try{r.call(t)}finally{f(o),$o(5,t,r)}}function Ab(t,r,o,c){const y=o[c]<0,T=o[c+1],W=t[y?-o[c]:o[c]];y?t[pe]>>14<t[Gi]>>16&&(3&t[pe])===r&&(t[pe]+=16384,op(W,T)):op(W,T)}const xl=-1;class hd{constructor(r,o,c){this.factory=r,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=c}}function fl(t){return t!==xl}function Kc(t){return 32767&t}function kl(t,r){let o=function c1(t){return t>>16}(t),c=r;for(;o>0;)c=c[jr],o--;return c}let pl=!0;function uh(t){const r=pl;return pl=t,r}const ql=255,hh=5;let lp=0;const Ya={};function zc(t,r){const o=cp(t,r);if(-1!==o)return o;const c=r[P];c.firstCreatePass&&(t.injectorIndex=r.length,fd(c.data,t),fd(r,null),fd(c.blueprint,null));const y=Yc(t,r),T=t.injectorIndex;if(fl(y)){const N=Kc(y),W=kl(y,r),re=W[P].data;for(let Ie=0;Ie<8;Ie++)r[T+Ie]=W[N+Ie]|re[N+Ie]}return r[T+8]=y,T}function fd(t,r){t.push(0,0,0,0,0,0,0,0,r)}function cp(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function Yc(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let o=0,c=null,y=r;for(;null!==y;){if(c=f1(y),null===c)return xl;if(o++,y=y[jr],-1!==c.injectorIndex)return c.injectorIndex|o<<16}return xl}function pd(t,r,o){!function u1(t,r,o){let c;"string"==typeof o?c=o.charCodeAt(0)||0:o.hasOwnProperty(Yi)&&(c=o[Yi]),null==c&&(c=o[Yi]=lp++);const y=c&ql;r.data[t+(y>>hh)]|=1<<y}(t,r,o)}function pc(t,r,o){if(o&vi.Optional||void 0!==t)return t;ks()}function ph(t,r,o,c){if(o&vi.Optional&&void 0===c&&(c=null),!(o&(vi.Self|vi.Host))){const y=t[Cn],T=wr(void 0);try{return y?y.get(r,c,o&vi.Optional):Ns(r,c,o&vi.Optional)}finally{wr(T)}}return pc(c,0,o)}function mh(t,r,o,c=vi.Default,y){if(null!==t){if(2048&r[pe]&&!(c&vi.Self)){const N=function Mb(t,r,o,c,y){let T=t,N=r;for(;null!==T&&null!==N&&2048&N[pe]&&!(512&N[pe]);){const W=gh(T,N,o,c|vi.Self,Ya);if(W!==Ya)return W;let re=T.parent;if(!re){const Ie=N[fa];if(Ie){const Ke=Ie.get(o,Ya,c);if(Ke!==Ya)return Ke}re=f1(N),N=N[jr]}T=re}return y}(t,r,o,c,Ya);if(N!==Ya)return N}const T=gh(t,r,o,c,Ya);if(T!==Ya)return T}return ph(r,o,c,y)}function gh(t,r,o,c,y){const T=function gc(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(Yi)?t[Yi]:void 0;return"number"==typeof r?r>=0?r&ql:Rb:r}(o);if("function"==typeof T){if(!s1(r,t,c))return c&vi.Host?pc(y,0,c):ph(r,o,c,y);try{let N;if(N=T(c),null!=N||c&vi.Optional)return N;ks()}finally{zs()}}else if("number"==typeof T){let N=null,W=cp(t,r),re=xl,Ie=c&vi.Host?r[Dr][xt]:null;for((-1===W||c&vi.SkipSelf)&&(re=-1===W?Yc(t,r):r[W+8],re!==xl&&ec(c,!1)?(N=r[P],W=Kc(re),r=kl(re,r)):W=-1);-1!==W;){const Ke=r[P];if(d1(T,W,Ke.data)){const ct=ma(W,r,o,N,c,Ie);if(ct!==Ya)return ct}re=r[W+8],re!==xl&&ec(c,r[P].data[W+8]===Ie)&&d1(T,W,r)?(N=Ke,W=Kc(re),r=kl(re,r)):W=-1}}return y}function ma(t,r,o,c,y,T){const N=r[P],W=N.data[t+8],Ke=mc(W,N,o,null==c?ta(W)&&pl:c!=N&&!!(3&W.type),y&vi.Host&&T===W);return null!==Ke?lr(r,N,Ke,W):Ya}function mc(t,r,o,c,y){const T=t.providerIndexes,N=r.data,W=1048575&T,re=t.directiveStart,Ke=T>>20,Gt=y?W+Ke:t.directiveEnd;for(let Xt=c?W:W+Ke;Xt<Gt;Xt++){const cn=N[Xt];if(Xt<re&&o===cn||Xt>=re&&cn.type===o)return Xt}if(y){const Xt=N[re];if(Xt&&ro(Xt)&&Xt.type===o)return re}return null}function lr(t,r,o,c){let y=t[o];const T=r.data;if(function ap(t){return t instanceof hd}(y)){const N=y;N.resolving&&function xr(t,r){throw r&&r.join(" > "),new je(-200,t)}(function ri(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Gn(t)}(T[o]));const W=uh(N.canSeeViewProviders);N.resolving=!0;const Ie=N.injectImpl?wr(N.injectImpl):null;s1(t,c,vi.Default);try{y=t[o]=N.factory(void 0,T,t,c),r.firstCreatePass&&o>=c.directiveStart&&function Db(t,r,o){const{ngOnChanges:c,ngOnInit:y,ngDoCheck:T}=r.type.prototype;if(c){const N=Xl(r);(o.preOrderHooks??=[]).push(t,N),(o.preOrderCheckHooks??=[]).push(t,N)}y&&(o.preOrderHooks??=[]).push(0-t,y),T&&((o.preOrderHooks??=[]).push(t,T),(o.preOrderCheckHooks??=[]).push(t,T))}(o,T[o],r)}finally{null!==Ie&&wr(Ie),uh(W),N.resolving=!1,zs()}}return y}function d1(t,r,o){return!!(o[r+(t>>hh)]&1<<t)}function ec(t,r){return!(t&vi.Self||t&vi.Host&&r)}class Ys{constructor(r,o){this._tNode=r,this._lView=o}get(r,o,c){return mh(this._tNode,this._lView,r,Gr(c),o)}}function Rb(){return new Ys(Cr(),Zt())}function h1(t){return it(()=>{const r=t.prototype.constructor,o=r[di]||up(r),c=Object.prototype;let y=Object.getPrototypeOf(t.prototype).constructor;for(;y&&y!==c;){const T=y[di]||up(y);if(T&&T!==o)return T;y=Object.getPrototypeOf(y)}return T=>new T})}function up(t){return vt(t)?()=>{const r=up(lt(t));return r&&r()}:Qr(t)}function f1(t){const r=t[P],o=r.type;return 2===o?r.declTNode:1===o?t[xt]:null}function vh(t){return function fh(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const o=t.attrs;if(o){const c=o.length;let y=0;for(;y<c;){const T=o[y];if(Fe(T))break;if(0===T)y+=2;else if("number"==typeof T)for(y++;y<c&&"string"==typeof o[y];)y++;else{if(T===r)return o[y+1];y+=2}}}return null}(Cr(),t)}function y1(t,r=null,o=null,c){const y=Lb(t,r,o,c);return y.resolveInjectorInitializers(),y}function Lb(t,r=null,o=null,c,y=new Set){const T=[o||si,Qo(t)];return c=c||("object"==typeof t?void 0:kn(t)),new uo(T,r||_s(),c||null,y)}let xa=(()=>{class t{static{this.THROW_IF_NOT_FOUND=Ni}static{this.NULL=new Us}static create(o,c){if(Array.isArray(o))return y1({name:""},c,o,"");{const y=o.name??"";return y1({name:y},o.parent,o.providers,y)}}static{this.\u0275prov=ni({token:t,providedIn:"any",factory:()=>er(Ls)})}static{this.__NG_ELEMENT_ID__=-1}}return t})();function _1(t){return t.ngOriginalError}class Nl{constructor(){this._console=console}handleError(r){const o=this._findOriginalError(r);this._console.error("ERROR",r),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(r){let o=r&&_1(r);for(;o&&_1(o);)o=_1(o);return o||null}}const b1=new Qt("",{providedIn:"root",factory:()=>Wn(Nl).handleError.bind(void 0)});let Ol=(()=>{class t{static{this.__NG_ELEMENT_ID__=hp}static{this.__NG_ENV_ID__=o=>o}}return t})();class C1 extends Ol{constructor(r){super(),this._lView=r}onDestroy(r){return Ql(this._lView,r),()=>function rh(t,r){if(null===t[ho])return;const o=t[ho].indexOf(r);-1!==o&&t[ho].splice(o,1)}(this._lView,r)}}function hp(){return new C1(Zt())}function Vb(){return Xc(Cr(),Zt())}function Xc(t,r){return new md(Go(t,r))}let md=(()=>{class t{constructor(o){this.nativeElement=o}static{this.__NG_ELEMENT_ID__=Vb}}return t})();function fp(t){return t instanceof md?t.nativeElement:t}function pp(t){return r=>{setTimeout(t,void 0,r)}}const ml=class jb extends X.B{constructor(r=!1){super(),this.destroyRef=void 0,this.__isAsync=r,Ii()&&(this.destroyRef=Wn(Ol,{optional:!0})??void 0)}emit(r){const o=f(null);try{super.next(r)}finally{f(o)}}subscribe(r,o,c){let y=r,T=o||(()=>null),N=c;if(r&&"object"==typeof r){const re=r;y=re.next?.bind(re),T=re.error?.bind(re),N=re.complete?.bind(re)}this.__isAsync&&(T=pp(T),y&&(y=pp(y)),N&&(N=pp(N)));const W=super.subscribe({next:y,error:T,complete:N});return r instanceof Y.yU&&r.add(W),W}};function $b(){return this._results[Symbol.iterator]()}class mp{get changes(){return this._changes??=new ml}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const o=mp.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=$b)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,o){return this._results.reduce(r,o)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,o){this.dirty=!1;const c=function nr(t){return t.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function co(t,r,o){if(t.length!==r.length)return!1;for(let c=0;c<t.length;c++){let y=t[c],T=r[c];if(o&&(y=o(y),T=o(T)),T!==y)return!1}return!0}(this._results,c,o))&&(this._results=c,this.length=c.length,this.last=c[this.length-1],this.first=c[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(r){this._onDirty=r}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function gl(t){return!(128&~t.flags)}const gp=new Map;let Hb=0;const vp="__ngContext__";function wo(t,r){yi(r)?(t[vp]=r[Mo],function yd(t){gp.set(t[Mo],t)}(r)):t[vp]=r}function A1(t){return M1(t[_r])}function R1(t){return M1(t[st])}function M1(t){for(;null!==t&&!es(t);)t=t[st];return t}let yp;function sC(t){yp=t}function nc(){if(void 0!==yp)return yp;if(typeof document<"u")return document;throw new je(210,!1)}const L1=new Qt("",{providedIn:"root",factory:()=>oC}),oC="ng",U1=new Qt(""),_p=new Qt("",{providedIn:"platform",factory:()=>"unknown"}),aC=new Qt(""),lC=new Qt("",{providedIn:"root",factory:()=>nc().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let $1=()=>null;function Ip(t,r,o=!1){return $1(t,r,o)}const Np=new Qt("",{providedIn:"root",factory:()=>!1});let Eh,ga;function rc(t){return function Op(){if(void 0===Eh&&(Eh=null,dt.trustedTypes))try{Eh=dt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Eh}()?.createHTML(t)||t}function Th(){if(void 0===ga&&(ga=null,dt.trustedTypes))try{ga=dt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return ga}function Ih(t){return Th()?.createHTML(t)||t}function W1(t){return Th()?.createScriptURL(t)||t}class yc{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${at})`}}class Ah extends yc{getTypeName(){return"HTML"}}class yl extends yc{getTypeName(){return"Style"}}class yC extends yc{getTypeName(){return"Script"}}class K1 extends yc{getTypeName(){return"URL"}}class va extends yc{getTypeName(){return"ResourceURL"}}function so(t){return t instanceof yc?t.changingThisBreaksApplicationSecurity:t}function No(t,r){const o=function ya(t){return t instanceof yc&&t.getTypeName()||null}(t);if(null!=o&&o!==r){if("ResourceURL"===o&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${o} (see ${at})`)}return o===r}function Fp(t){return new Ah(t)}function Sd(t){return new yl(t)}function ru(t){return new yC(t)}function Ed(t){return new K1(t)}function _C(t){return new va(t)}function Pp(t){const r=new bC(t);return function z1(){try{return!!(new window.DOMParser).parseFromString(rc(""),"text/html")}catch{return!1}}()?new Td(r):r}class Td{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const o=(new window.DOMParser).parseFromString(rc(r),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(r):(o.removeChild(o.firstChild),o)}catch{return null}}}class bC{constructor(r){this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(r){const o=this.inertDocument.createElement("template");return o.innerHTML=rc(r),o}}const Y1=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Rh(t){return(t=String(t)).match(Y1)?t:"unsafe:"+t}function Pl(t){const r={};for(const o of t.split(","))r[o]=!0;return r}function Id(...t){const r={};for(const o of t)for(const c in o)o.hasOwnProperty(c)&&(r[c]=!0);return r}const X1=Pl("area,br,col,hr,img,wbr"),J1=Pl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Q1=Pl("rp,rt"),Bp=Id(X1,Id(J1,Pl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Id(Q1,Pl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Id(Q1,J1)),Wo=Pl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Mh=Id(Wo,Pl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Pl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),sc=Pl("script,style,template");class _c{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let o=r.firstChild,c=!0,y=[];for(;o;)if(o.nodeType===Node.ELEMENT_NODE?c=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,c&&o.firstChild)y.push(o),o=Lp(o);else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let T=ou(o);if(T){o=T;break}o=y.pop()}return this.buf.join("")}startElement(r){const o=Up(r).toLowerCase();if(!Bp.hasOwnProperty(o))return this.sanitizedSomething=!0,!sc.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const c=r.attributes;for(let y=0;y<c.length;y++){const T=c.item(y),N=T.name,W=N.toLowerCase();if(!Mh.hasOwnProperty(W)){this.sanitizedSomething=!0;continue}let re=T.value;Wo[W]&&(re=Rh(re)),this.buf.push(" ",N,'="',Z1(re),'"')}return this.buf.push(">"),!0}endElement(r){const o=Up(r).toLowerCase();Bp.hasOwnProperty(o)&&!X1.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(r){this.buf.push(Z1(r))}}function ou(t){const r=t.nextSibling;if(r&&t!==r.previousSibling)throw bc(r);return r}function Lp(t){const r=t.firstChild;if(r&&function xh(t,r){return(t.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(t,r))throw bc(r);return r}function Up(t){const r=t.nodeName;return"string"==typeof r?r:"FORM"}function bc(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}const Vp=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,jp=/([^\#-~ |!])/g;function Z1(t){return t.replace(/&/g,"&amp;").replace(Vp,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(jp,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ka;function q1(t,r){let o=null;try{ka=ka||Pp(t);let c=r?String(r):"";o=ka.getInertBodyElement(c);let y=5,T=c;do{if(0===y)throw new Error("Failed to sanitize html because the input is unstable");y--,c=T,T=o.innerHTML,o=ka.getInertBodyElement(c)}while(c!==T);return rc((new _c).sanitizeChildren(Na(o)||o))}finally{if(o){const c=Na(o)||o;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function Na(t){return"content"in t&&function kh(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Bl=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Bl||{});function $p(t){const r=Rd();return r?Ih(r.sanitize(Bl.HTML,t)||""):No(t,"HTML")?Ih(so(t)):q1(nc(),Gn(t))}function Gp(t){const r=Rd();return r?r.sanitize(Bl.URL,t)||"":No(t,"URL")?so(t):Rh(Gn(t))}function Hp(t){const r=Rd();if(r)return W1(r.sanitize(Bl.RESOURCE_URL,t)||"");if(No(t,"ResourceURL"))return W1(so(t));throw new je(904,!1)}function t0(t,r,o){return function Wp(t,r){return"src"===r&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===r&&("base"===t||"link"===t)?Hp:Gp}(r,o)(t)}function Rd(){const t=Zt();return t&&t[ti].sanitizer}const au=/^>|^->|<!--|-->|--!>|<!-$/g,Kp=/(<|>)/g,n0="\u200b$1\u200b";function c0(t){return t.ownerDocument.defaultView}function u0(t){return t.ownerDocument}function oa(t){return t instanceof Function?t():t}var Bh=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Bh||{});let Lh;function Zp(t,r){return Lh(t,r)}function cu(t,r,o,c,y){if(null!=c){let T,N=!1;es(c)?T=c:yi(c)&&(N=!0,c=c[ye]);const W=br(c);0===t&&null!==o?null==y?y0(r,o,W):Cc(r,o,W,y||null,!0):1===t&&null!==o?Cc(r,o,W,y||null,!0):2===t?function uu(t,r,o){const c=jh(t,r);c&&function OC(t,r,o,c){t.removeChild(r,o,c)}(t,c,r,o)}(r,W,N):3===t&&r.destroyNode(W),null!=T&&function BC(t,r,o,c,y){const T=o[jo];T!==br(o)&&cu(r,t,c,T,y);for(let W=ws;W<o.length;W++){const re=o[W];Gh(re[P],re,t,r,c,T)}}(r,t,T,o,y)}}function qp(t,r){return t.createText(r)}function em(t,r){return t.createComment(function zp(t){return t.replace(au,r=>r.replace(Kp,n0))}(r))}function Uh(t,r,o){return t.createElement(r,o)}function m0(t,r){r[ti].changeDetectionScheduler?.notify(1),Gh(t,r,r[jn],2,null,null)}function g0(t,r){const o=t[Ga],c=o.indexOf(r);o.splice(c,1)}function Vh(t,r){if(t.length<=ws)return;const o=ws+r,c=t[o];if(c){const y=c[Cs];null!==y&&y!==t&&g0(y,c),r>0&&(t[o-1][st]=c[st]);const T=Xo(t,ws+r);!function RC(t,r){m0(t,r),r[ye]=null,r[xt]=null}(c[P],c);const N=T[cs];null!==N&&N.detachView(T[P]),c[Ne]=null,c[st]=null,c[pe]&=-129}return c}function tm(t,r){if(!(256&r[pe])){const o=r[jn];o.destroyNode&&Gh(t,r,o,3,null,null),function xC(t){let r=t[_r];if(!r)return nm(t[P],t);for(;r;){let o=null;if(yi(r))o=r[_r];else{const c=r[ws];c&&(o=c)}if(!o){for(;r&&!r[st]&&r!==t;)yi(r)&&nm(r[P],r),r=r[Ne];null===r&&(r=t),yi(r)&&nm(r[P],r),o=r&&r[st]}r=o}}(r)}}function nm(t,r){if(256&r[pe])return;const o=f(null);try{r[pe]&=-129,r[pe]|=256,r[Vo]&&function G(t){if(J(t),L(t))for(let r=0;r<t.producerNode.length;r++)le(t.producerNode[r],t.producerIndexOfThis[r]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}(r[Vo]),function NC(t,r){let o;if(null!=t&&null!=(o=t.destroyHooks))for(let c=0;c<o.length;c+=2){const y=r[o[c]];if(!(y instanceof hd)){const T=o[c+1];if(Array.isArray(T))for(let N=0;N<T.length;N+=2){const W=y[T[N]],re=T[N+1];$o(4,W,re);try{re.call(W)}finally{$o(5,W,re)}}else{$o(4,y,T);try{T.call(y)}finally{$o(5,y,T)}}}}}(t,r),function kC(t,r){const o=t.cleanup,c=r[qt];if(null!==o)for(let T=0;T<o.length-1;T+=2)if("string"==typeof o[T]){const N=o[T+3];N>=0?c[N]():c[-N].unsubscribe(),T+=2}else o[T].call(c[o[T+1]]);null!==c&&(r[qt]=null);const y=r[ho];if(null!==y){r[ho]=null;for(let T=0;T<y.length;T++)(0,y[T])()}}(t,r),1===r[P].type&&r[jn].destroy();const c=r[Cs];if(null!==c&&es(r[Ne])){c!==r[Ne]&&g0(c,r);const y=r[cs];null!==y&&y.detachView(t)}!function Wb(t){gp.delete(t[Mo])}(r)}finally{f(o)}}function im(t,r,o){return v0(t,r.parent,o)}function v0(t,r,o){let c=r;for(;null!==c&&40&c.type;)c=(r=c).parent;if(null===c)return o[ye];{const{componentOffset:y}=c;if(y>-1){const{encapsulation:T}=t.data[c.directiveStart+y];if(T===Ur.None||T===Ur.Emulated)return null}return Go(c,o)}}function Cc(t,r,o,c,y){t.insertBefore(r,o,c,y)}function y0(t,r,o){t.appendChild(r,o)}function _0(t,r,o,c,y){null!==c?Cc(t,r,o,c,y):y0(t,r,o)}function jh(t,r){return t.parentNode(r)}function b0(t,r,o){return w0(t,r,o)}function C0(t,r,o){return 40&t.type?Go(t,o):null}let rm,w0=C0;function S0(t,r){w0=t,rm=r}function $h(t,r,o,c){const y=im(t,c,r),T=r[jn],W=b0(c.parent||r[xt],c,r);if(null!=y)if(Array.isArray(o))for(let re=0;re<o.length;re++)_0(T,y,o[re],W,!1);else _0(T,y,o,W,!1);void 0!==rm&&rm(T,c,r,o,y)}function Md(t,r){if(null!==r){const o=r.type;if(3&o)return Go(r,t);if(4&o)return sm(-1,t[r.index]);if(8&o){const c=r.child;if(null!==c)return Md(t,c);{const y=t[r.index];return es(y)?sm(-1,y):br(y)}}if(32&o)return Zp(r,t)()||br(t[r.index]);{const c=E0(t,r);return null!==c?Array.isArray(c)?c[0]:Md(Ra(t[Dr]),c):Md(t,r.next)}}return null}function E0(t,r){return null!==r?t[Dr][xt].projection[r.projection]:null}function sm(t,r){const o=ws+t+1;if(o<r.length){const c=r[o],y=c[P].firstChild;if(null!==y)return Md(c,y)}return r[jo]}function om(t,r,o,c,y,T,N){for(;null!=o;){const W=c[o.index],re=o.type;if(N&&0===r&&(W&&wo(br(W),c),o.flags|=2),32&~o.flags)if(8&re)om(t,r,o.child,c,y,T,!1),cu(r,t,y,W,T);else if(32&re){const Ie=Zp(o,c);let Ke;for(;Ke=Ie();)cu(r,t,y,Ke,T);cu(r,t,y,W,T)}else 16&re?I0(t,r,c,o,y,T):cu(r,t,y,W,T);o=N?o.projectionNext:o.next}}function Gh(t,r,o,c,y,T){om(o,c,t.firstChild,r,y,T,!1)}function I0(t,r,o,c,y,T){const N=o[Dr],re=N[xt].projection[c.projection];if(Array.isArray(re))for(let Ie=0;Ie<re.length;Ie++)cu(r,t,y,re[Ie],T);else{let Ie=re;const Ke=N[Ne];gl(c)&&(Ie.flags|=128),om(t,r,Ie,Ke,y,T,!0)}}function D0(t,r,o){""===o?t.removeAttribute(r,"class"):t.setAttribute(r,"class",o)}function A0(t,r,o){const{mergedAttrs:c,classes:y,styles:T}=o;null!==c&&vs(t,r,c),null!==y&&D0(t,r,y),null!==T&&function UC(t,r,o){t.setAttribute(r,"style",o)}(t,r,T)}const Wi={};function R0(t=1){M0(ki(),Zt(),bo()+t,!1)}function M0(t,r,o,c){if(!c)if(3&~r[pe]){const T=t.preOrderHooks;null!==T&&dd(r,T,0,o)}else{const T=t.preOrderCheckHooks;null!==T&&Gc(r,T,o)}hc(o)}function du(t,r=vi.Default){const o=Zt();return null===o?er(t,r):mh(Cr(),o,lt(t),r)}function x0(){throw new Error("invalid")}function Hh(t,r,o,c,y,T){const N=f(null);try{let W=null;y&Wr.SignalBased&&(W=r[c][v]),null!==W&&void 0!==W.transformFn&&(T=W.transformFn(T)),y&Wr.HasDecoratorInputTransform&&(T=t.inputTransforms[c].call(r,T)),null!==t.setInput?t.setInput(r,W,T,o,c):Yl(r,W,c,T)}finally{f(N)}}function Wh(t,r,o,c,y,T,N,W,re,Ie,Ke){const ct=r.blueprint.slice();return ct[ye]=y,ct[pe]=204|c,(null!==Ie||t&&2048&t[pe])&&(ct[pe]|=2048),Qg(ct),ct[Ne]=ct[jr]=t,ct[sn]=o,ct[ti]=N||t&&t[ti],ct[jn]=W||t&&t[jn],ct[Cn]=re||t&&t[Cn]||null,ct[xt]=T,ct[Mo]=function Ja(){return Hb++}(),ct[Vt]=Ke,ct[fa]=Ie,ct[Dr]=2==r.type?t[Dr]:ct,ct}function hu(t,r,o,c,y){let T=t.data[r];if(null===T)T=am(t,r,o,c,y),function vb(){return Fi.lFrame.inI18n}()&&(T.flags|=32);else if(64&T.type){T.type=o,T.value=c,T.attrs=y;const N=cd();T.injectorIndex=null===N?-1:N.injectorIndex}return hl(T,!0),T}function am(t,r,o,c,y){const T=t1(),N=Zf(),re=t.data[r]=function zC(t,r,o,c,y,T){let N=r?r.injectorIndex:-1,W=0;return jc()&&(W|=128),{type:o,index:c,insertBeforeIndex:null,injectorIndex:N,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:W,providerIndexes:0,value:y,attrs:T,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,N?T:T&&T.parent,o,r,c,y);return null===t.firstChild&&(t.firstChild=re),null!==T&&(N?null==T.child&&null!==re.parent&&(T.child=re):null===T.next&&(T.next=re,re.prev=T)),re}function xd(t,r,o,c){if(0===o)return-1;const y=r.length;for(let T=0;T<o;T++)r.push(c),t.blueprint.push(c),t.data.push(null);return y}function k0(t,r,o,c,y){const T=bo(),N=2&c;try{hc(-1),N&&r.length>Di&&M0(t,r,Di,!1),$o(N?2:0,y),o(c,y)}finally{hc(T),$o(N?3:1,y)}}function lm(t,r,o){if(Ha(r)){const c=f(null);try{const T=r.directiveEnd;for(let N=r.directiveStart;N<T;N++){const W=t.data[N];W.contentQueries&&W.contentQueries(1,o[N],N)}}finally{f(c)}}}function cm(t,r,o){qg()&&(function TI(t,r,o,c){const y=o.directiveStart,T=o.directiveEnd;ta(o)&&function nw(t,r,o){const c=Go(r,t),y=N0(o);let N=16;o.signals?N=4096:o.onPush&&(N=64);const W=Kh(t,Wh(t,y,null,N,c,r,null,t[ti].rendererFactory.createRenderer(c,o),null,null,null));t[r.index]=W}(r,o,t.data[y+o.componentOffset]),t.firstCreatePass||zc(o,r),wo(c,r);const N=o.initialInputs;for(let W=y;W<T;W++){const re=t.data[W],Ie=lr(r,t,W,o);wo(Ie,r),null!==N&&iw(0,W-y,Ie,re,0,N),ro(re)&&(pa(o.index,r)[sn]=lr(r,t,W,o))}}(t,r,o,Go(o,r)),!(64&~o.flags)&&QC(t,r,o))}function um(t,r,o=Go){const c=r.localNames;if(null!==c){let y=r.index+1;for(let T=0;T<c.length;T+=2){const N=c[T+1],W=-1===N?o(r,t):t[N];t[y++]=W}}}function N0(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=dm(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):r}function dm(t,r,o,c,y,T,N,W,re,Ie,Ke){const ct=Di+c,Gt=ct+y,Xt=function jC(t,r){const o=[];for(let c=0;c<r;c++)o.push(c<t?null:Wi);return o}(ct,Gt),cn="function"==typeof Ie?Ie():Ie;return Xt[P]={type:t,blueprint:Xt,template:o,queries:null,viewQuery:W,declTNode:r,data:Xt.slice().fill(null,ct),bindingStartIndex:ct,expandoStartIndex:Gt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof T?T():T,pipeRegistry:"function"==typeof N?N():N,firstChild:null,schemas:re,consts:cn,incompleteFirstPass:!1,ssrId:Ke}}let O0=()=>null;function F0(t,r,o,c,y){for(let T in r){if(!r.hasOwnProperty(T))continue;const N=r[T];if(void 0===N)continue;c??={};let W,re=Wr.None;Array.isArray(N)?(W=N[0],re=N[1]):W=N;let Ie=T;if(null!==y){if(!y.hasOwnProperty(T))continue;Ie=y[T]}0===t?P0(c,o,Ie,W,re):P0(c,o,Ie,W)}return c}function P0(t,r,o,c,y){let T;t.hasOwnProperty(o)?(T=t[o]).push(r,c):T=t[o]=[r,c],void 0!==y&&T.push(y)}function aa(t,r,o,c,y,T,N,W){const re=Go(r,o);let Ke,Ie=r.inputs;!W&&null!=Ie&&(Ke=Ie[c])?($0(t,o,Ke,c,y),ta(r)&&function CI(t,r){const o=pa(r,t);16&o[pe]||(o[pe]|=64)}(o,r.index)):3&r.type&&(c=function XC(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(c),y=null!=N?N(y,r.value||"",c):y,T.setProperty(re,c,y))}function hm(t,r,o,c){if(qg()){const y=null===c?null:{"":-1},T=function qC(t,r){const o=t.directiveRegistry;let c=null,y=null;if(o)for(let T=0;T<o.length;T++){const N=o[T];if(Xe(r,N.selectors,!1))if(c||(c=[]),ro(N))if(null!==N.findHostDirectiveDefs){const W=[];y=y||new Map,N.findHostDirectiveDefs(N,W,y),c.unshift(...W,N),B0(t,r,W.length)}else c.unshift(N),B0(t,r,0);else y=y||new Map,N.findHostDirectiveDefs?.(N,c,y),c.push(N)}return null===c?null:[c,y]}(t,o);let N,W;null===T?N=W=null:[N,W]=T,null!==N&&JC(t,r,o,N,y,W),y&&function ew(t,r,o){if(r){const c=t.localNames=[];for(let y=0;y<r.length;y+=2){const T=o[r[y+1]];if(null==T)throw new je(-301,!1);c.push(r[y],T)}}}(o,c,y)}o.mergedAttrs=ge(o.mergedAttrs,o.attrs)}function JC(t,r,o,c,y,T){for(let Ie=0;Ie<c.length;Ie++)pd(zc(o,r),t,c[Ie].type);!function II(t,r,o){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+o,t.providerIndexes=r}(o,t.data.length,c.length);for(let Ie=0;Ie<c.length;Ie++){const Ke=c[Ie];Ke.providersResolver&&Ke.providersResolver(Ke)}let N=!1,W=!1,re=xd(t,r,c.length,null);for(let Ie=0;Ie<c.length;Ie++){const Ke=c[Ie];o.mergedAttrs=ge(o.mergedAttrs,Ke.hostAttrs),DI(t,o,r,re,Ke),tw(re,Ke,y),null!==Ke.contentQueries&&(o.flags|=4),(null!==Ke.hostBindings||null!==Ke.hostAttrs||0!==Ke.hostVars)&&(o.flags|=64);const ct=Ke.type.prototype;!N&&(ct.ngOnChanges||ct.ngOnInit||ct.ngDoCheck)&&((t.preOrderHooks??=[]).push(o.index),N=!0),!W&&(ct.ngOnChanges||ct.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(o.index),W=!0),re++}!function YC(t,r,o){const y=r.directiveEnd,T=t.data,N=r.attrs,W=[];let re=null,Ie=null;for(let Ke=r.directiveStart;Ke<y;Ke++){const ct=T[Ke],Gt=o?o.get(ct):null,cn=Gt?Gt.outputs:null;re=F0(0,ct.inputs,Ke,re,Gt?Gt.inputs:null),Ie=F0(1,ct.outputs,Ke,Ie,cn);const Dn=null===re||null===N||Ei(r)?null:AI(re,Ke,N);W.push(Dn)}null!==re&&(re.hasOwnProperty("class")&&(r.flags|=8),re.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=W,r.inputs=re,r.outputs=Ie}(t,o,T)}function QC(t,r,o){const c=o.directiveStart,y=o.directiveEnd,T=o.index,N=function _b(){return Fi.lFrame.currentDirectiveIndex}();try{hc(T);for(let W=c;W<y;W++){const re=t.data[W],Ie=r[W];ep(W),(null!==re.hostBindings||0!==re.hostVars||null!==re.hostAttrs)&&ZC(re,Ie)}}finally{hc(-1),ep(N)}}function ZC(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function B0(t,r,o){r.componentOffset=o,(t.components??=[]).push(r.index)}function tw(t,r,o){if(o){if(r.exportAs)for(let c=0;c<r.exportAs.length;c++)o[r.exportAs[c]]=t;ro(r)&&(o[""]=t)}}function DI(t,r,o,c,y){t.data[c]=y;const T=y.factory||(y.factory=Qr(y.type)),N=new hd(T,ro(y),du);t.blueprint[c]=N,o[c]=N,function SI(t,r,o,c,y){const T=y.hostBindings;if(T){let N=t.hostBindingOpCodes;null===N&&(N=t.hostBindingOpCodes=[]);const W=~r.index;(function EI(t){let r=t.length;for(;r>0;){const o=t[--r];if("number"==typeof o&&o<0)return o}return 0})(N)!=W&&N.push(W),N.push(o,c,T)}}(t,r,c,xd(t,o,y.hostVars,Wi),y)}function Ul(t,r,o,c,y,T){const N=Go(t,r);!function fm(t,r,o,c,y,T,N){if(null==T)t.removeAttribute(r,y,o);else{const W=null==N?Gn(T):N(T,c||"",y);t.setAttribute(r,y,W,o)}}(r[jn],N,T,t.value,o,c,y)}function iw(t,r,o,c,y,T){const N=T[r];if(null!==N)for(let W=0;W<N.length;)Hh(c,o,N[W++],N[W++],N[W++],N[W++])}function AI(t,r,o){let c=null,y=0;for(;y<o.length;){const T=o[y];if(0!==T)if(5!==T){if("number"==typeof T)break;if(t.hasOwnProperty(T)){null===c&&(c=[]);const N=t[T];for(let W=0;W<N.length;W+=3)if(N[W]===r){c.push(T,N[W+1],N[W+2],o[y+1]);break}}y+=2}else y+=2;else y+=4}return c}function L0(t,r,o,c){return[t,!0,0,r,null,c,null,o,null,null]}function rw(t,r){const o=t.contentQueries;if(null!==o){const c=f(null);try{for(let y=0;y<o.length;y+=2){const N=o[y+1];if(-1!==N){const W=t.data[N];ah(o[y]),W.contentQueries(2,r[N],N)}}}finally{f(c)}}}function Kh(t,r){return t[_r]?t[mi][st]=r:t[_r]=r,t[mi]=r,r}function U0(t,r,o){ah(0);const c=f(null);try{r(t,o)}finally{f(c)}}function kd(t){return t[qt]||(t[qt]=[])}function V0(t){return t.cleanup||(t.cleanup=[])}function j0(t,r,o){return(null===t||ro(t))&&(o=function zf(t){for(;Array.isArray(t);){if("object"==typeof t[Ia])return t;t=t[ye]}return null}(o[r.index])),o[jn]}function So(t,r){const o=t[Cn],c=o?o.get(Nl,null):null;c&&c.handleError(r)}function $0(t,r,o,c,y){for(let T=0;T<o.length;){const N=o[T++],W=o[T++],re=o[T++];Hh(t.data[N],r[N],c,W,re,y)}}function Vl(t,r,o){const c=rd(r,t);!function AC(t,r,o){t.setValue(r,o)}(t[jn],c,o)}function fu(t,r){const o=pa(r,t),c=o[P];!function Eo(t,r){for(let o=r.length;o<t.blueprint.length;o++)r.push(t.blueprint[o])}(c,o);const y=o[ye];null!==y&&null===o[Vt]&&(o[Vt]=Ip(y,o[Cn])),Oo(c,o,o[sn])}function Oo(t,r,o){ip(r);try{const c=t.viewQuery;null!==c&&U0(1,c,o);const y=t.template;null!==y&&k0(t,r,y,1,o),t.firstCreatePass&&(t.firstCreatePass=!1),r[cs]?.finishViewCreation(t),t.staticContentQueries&&rw(t,r),t.staticViewQueries&&U0(2,t.viewQuery,o);const T=t.components;null!==T&&function wc(t,r){for(let o=0;o<r.length;o++)fu(t,r[o])}(r,T)}catch(c){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),c}finally{r[pe]&=-5,sp()}}function pu(t,r,o,c){const y=f(null);try{const T=r.tView,re=Wh(t,T,o,4096&t[pe]?4096:16,null,r,null,null,c?.injector??null,c?.embeddedViewInjector??null,c?.dehydratedView??null);re[Cs]=t[r.index];const Ke=t[cs];return null!==Ke&&(re[cs]=Ke.createEmbeddedView(T)),Oo(T,re,o),re}finally{f(y)}}function pm(t,r){const o=ws+r;if(o<t.length)return t[o]}function Nd(t,r){return!r||null===r.firstChild||gl(t)}function Od(t,r,o,c=!0){const y=r[P];if(function yI(t,r,o,c){const y=ws+c,T=o.length;c>0&&(o[y-1][st]=r),c<T-ws?(r[st]=o[y],Bo(o,ws+c,r)):(o.push(r),r[st]=null),r[Ne]=o;const N=r[Cs];null!==N&&o!==N&&function _I(t,r){const o=t[Ga];r[Dr]!==r[Ne][Ne][Dr]&&(t[pe]|=Rr.HasTransplantedViews),null===o?t[Ga]=[r]:o.push(r)}(N,r);const W=r[cs];null!==W&&W.insertView(t),Jf(r),r[pe]|=128}(y,r,t,o),c){const N=sm(o,t),W=r[jn],re=jh(W,t[jo]);null!==re&&function MC(t,r,o,c,y,T){c[ye]=y,c[xt]=r,Gh(t,c,o,1,y,T)}(y,t[xt],W,r,re,N)}const T=r[Vt];null!==T&&null!==T.firstChild&&(T.firstChild=null)}function oc(t,r){const o=Vh(t,r);return void 0!==o&&tm(o[P],o),o}function Fd(t,r,o,c,y=!1){for(;null!==o;){const T=r[o.index];null!==T&&c.push(br(T)),es(T)&&ow(T,c);const N=o.type;if(8&N)Fd(t,r,o.child,c);else if(32&N){const W=Zp(o,r);let re;for(;re=W();)c.push(re)}else if(16&N){const W=E0(r,o);if(Array.isArray(W))c.push(...W);else{const re=Ra(r[Dr]);Fd(re[P],re,W,c,!0)}}o=y?o.projectionNext:o.next}return c}function ow(t,r){for(let o=ws;o<t.length;o++){const c=t[o],y=c[P].firstChild;null!==y&&Fd(c[P],c,y,r)}t[jo]!==t[ye]&&r.push(t[jo])}let mm=[];const Oa={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{od(t.lView)},consumerOnSignalRead(){this.lView[Vo]=this}},cw=100;function zh(t,r=!0,o=0){const c=t[ti],y=c.rendererFactory;y.begin?.();try{!function uw(t,r){gm(t,r);let o=0;for(;Xf(t);){if(o===cw)throw new je(103,!1);o++,gm(t,1)}}(t,o)}catch(N){throw r&&So(t,N),N}finally{y.end?.(),c.inlineEffectRunner?.flush()}}function G0(t,r,o,c){const y=r[pe];if(!(256&~y))return;r[ti].inlineEffectRunner?.flush(),ip(r);let N=null,W=null;(function dw(t){return 2!==t.type})(t)&&(W=function aw(t){return t[Vo]??function lw(t){const r=mm.pop()??Object.create(Oa);return r.lView=t,r}(t)}(r),N=function M(t){return t&&(t.nextProducerIndex=0),f(t)}(W));try{Qg(r),function n1(t){return Fi.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==o&&k0(t,r,o,2,c);const re=!(3&~y);if(re){const ct=t.preOrderCheckHooks;null!==ct&&Gc(r,ct,null)}else{const ct=t.preOrderHooks;null!==ct&&dd(r,ct,0,null),Ml(r,0)}if(function W0(t){for(let r=A1(t);null!==r;r=R1(r)){if(!(r[pe]&Rr.HasTransplantedViews))continue;const o=r[Ga];for(let c=0;c<o.length;c++){db(o[c])}}}(r),H0(r,0),null!==t.contentQueries&&rw(t,r),re){const ct=t.contentCheckHooks;null!==ct&&Gc(r,ct)}else{const ct=t.contentHooks;null!==ct&&dd(r,ct,1),Ml(r,1)}!function VC(t,r){const o=t.hostBindingOpCodes;if(null!==o)try{for(let c=0;c<o.length;c++){const y=o[c];if(y<0)hc(~y);else{const T=y,N=o[++c],W=o[++c];yb(N,T),W(2,r[T])}}}finally{hc(-1)}}(t,r);const Ie=t.components;null!==Ie&&ac(r,Ie,0);const Ke=t.viewQuery;if(null!==Ke&&U0(2,Ke,c),re){const ct=t.viewCheckHooks;null!==ct&&Gc(r,ct)}else{const ct=t.viewHooks;null!==ct&&dd(r,ct,2),Ml(r,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r[zr]){for(const ct of r[zr])ct();r[zr]=null}r[pe]&=-73}catch(re){throw od(r),re}finally{null!==W&&(function V(t,r){if(f(r),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(L(t))for(let o=t.nextProducerIndex;o<t.producerNode.length;o++)le(t.producerNode[o],t.producerIndexOfThis[o]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}(W,N),function Pd(t){t.lView[Vo]!==t&&(t.lView=null,mm.push(t))}(W)),sp()}}function H0(t,r){for(let o=A1(t);null!==o;o=R1(o))for(let c=ws;c<o.length;c++)z0(o[c],r)}function K0(t,r,o){z0(pa(r,t),o)}function z0(t,r){Yf(t)&&gm(t,r)}function gm(t,r){const c=t[P],y=t[pe],T=t[Vo];let N=!!(0===r&&16&y);if(N||=!!(64&y&&0===r),N||=!!(1024&y),N||=!(!T?.dirty||!U(T)),T&&(T.dirty=!1),t[pe]&=-9217,N)G0(c,t,c.template,t[sn]);else if(8192&y){H0(t,1);const W=c.components;null!==W&&ac(t,W,1)}}function ac(t,r,o){for(let c=0;c<r.length;c++)K0(t,r[c],o)}function Sc(t){for(t[ti].changeDetectionScheduler?.notify();t;){t[pe]|=64;const r=Ra(t);if(Wa(t)&&!r)return t;t=r}return null}class Yh{get rootNodes(){const r=this._lView,o=r[P];return Fd(o,r,o.firstChild,[])}constructor(r,o,c=!0){this._lView=r,this._cdRefInjectingView=o,this.notifyErrorHandler=c,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[sn]}set context(r){this._lView[sn]=r}get destroyed(){return!(256&~this._lView[pe])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[Ne];if(es(r)){const o=r[8],c=o?o.indexOf(this):-1;c>-1&&(Vh(r,c),Xo(o,c))}this._attachedToViewContainer=!1}tm(this._lView[P],this._lView)}onDestroy(r){Ql(this._lView,r)}markForCheck(){Sc(this._cdRefInjectingView||this._lView)}detach(){this._lView[pe]&=-129}reattach(){Jf(this._lView),this._lView[pe]|=128}detectChanges(){this._lView[pe]|=1024,zh(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new je(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,m0(this._lView[P],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new je(902,!1);this._appRef=r,Jf(this._lView)}}let mu=(()=>{class t{static{this.__NG_ELEMENT_ID__=kI}}return t})();const MI=mu,xI=class extends MI{constructor(r,o,c){super(),this._declarationLView=r,this._declarationTContainer=o,this.elementRef=c}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(r,o){return this.createEmbeddedViewImpl(r,o)}createEmbeddedViewImpl(r,o,c){const y=pu(this._declarationLView,this._declarationTContainer,r,{embeddedViewInjector:o,dehydratedView:c});return new Yh(y)}};function kI(){return Bd(Cr(),Zt())}function Bd(t,r){return 4&t.type?new xI(r,t,Xc(t,r)):null}let Q0=()=>null;function Tc(t,r){return Q0(t,r)}class _u{}class ef{}class Cm{}class ev{resolveComponentFactory(r){throw function Iw(t){const r=Error(`No component factory found for ${kn(t)}.`);return r.ngComponent=t,r}(r)}}let bu=(()=>{class t{static{this.NULL=new ev}}return t})();class wm{}let Aw=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function Rw(){const t=Zt(),o=pa(Cr().index,t);return(yi(o)?o:t)[jn]}()}}return t})(),Mw=(()=>{class t{static{this.\u0275prov=ni({token:t,providedIn:"root",factory:()=>null})}}return t})();const Sm={},tv=new Set;function bl(t){tv.has(t)||(tv.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function nv(...t){}class Ps{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ml(!1),this.onMicrotaskEmpty=new ml(!1),this.onStable=new ml(!1),this.onError=new ml(!1),typeof Zone>"u")throw new je(908,!1);Zone.assertZonePatched();const y=this;y._nesting=0,y._outer=y._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(y._inner=y._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(y._inner=y._inner.fork(Zone.longStackTraceZoneSpec)),y.shouldCoalesceEventChangeDetection=!c&&o,y.shouldCoalesceRunChangeDetection=c,y.lastRequestAnimationFrameId=-1,y.nativeRequestAnimationFrame=function xw(){const t="function"==typeof dt.requestAnimationFrame;let r=dt[t?"requestAnimationFrame":"setTimeout"],o=dt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&r&&o){const c=r[Zone.__symbol__("OriginalDelegate")];c&&(r=c);const y=o[Zone.__symbol__("OriginalDelegate")];y&&(o=y)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function rv(t){const r=()=>{!function kw(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(dt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Em(t),t.isCheckStableRunning=!0,tf(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Em(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,c,y,T,N,W)=>{if(function UI(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(W))return o.invokeTask(y,T,N,W);try{return Tm(t),o.invokeTask(y,T,N,W)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===T.type||t.shouldCoalesceRunChangeDetection)&&r(),Im(t)}},onInvoke:(o,c,y,T,N,W,re)=>{try{return Tm(t),o.invoke(y,T,N,W,re)}finally{t.shouldCoalesceRunChangeDetection&&r(),Im(t)}},onHasTask:(o,c,y,T)=>{o.hasTask(y,T),c===y&&("microTask"==T.change?(t._hasPendingMicrotasks=T.microTask,Em(t),tf(t)):"macroTask"==T.change&&(t.hasPendingMacrotasks=T.macroTask))},onHandleError:(o,c,y,T)=>(o.handleError(y,T),t.runOutsideAngular(()=>t.onError.emit(T)),!1)})}(y)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ps.isInAngularZone())throw new je(909,!1)}static assertNotInAngularZone(){if(Ps.isInAngularZone())throw new je(909,!1)}run(r,o,c){return this._inner.run(r,o,c)}runTask(r,o,c,y){const T=this._inner,N=T.scheduleEventTask("NgZoneEvent: "+y,r,iv,nv,nv);try{return T.runTask(N,o,c)}finally{T.cancelTask(N)}}runGuarded(r,o,c){return this._inner.runGuarded(r,o,c)}runOutsideAngular(r){return this._outer.run(r)}}const iv={};function tf(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Em(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Tm(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Im(t){t._nesting--,tf(t)}class sv{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ml,this.onMicrotaskEmpty=new ml,this.onStable=new ml,this.onError=new ml}run(r,o,c){return r.apply(o,c)}runGuarded(r,o,c){return r.apply(o,c)}runOutsideAngular(r){return r()}runTask(r,o,c,y){return r.apply(o,c)}}var Cu=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Cu||{});const Nw={destroy(){}};function Ow(t,r){!r&&bs();const o=r?.injector??Wn(xa);if(!function Ll(t){return"browser"===(t??Wn(xa)).get(_p)}(o))return Nw;bl("NgAfterNextRender");const c=o.get(nf),y=c.handler??=new Pw,T=r?.phase??Cu.MixedReadWrite,N=()=>{y.unregister(re),W()},W=o.get(Ol).onDestroy(N),re=Ms(o,()=>new Fw(T,()=>{N(),t()}));return y.register(re),{destroy:N}}class Fw{constructor(r,o){this.phase=r,this.callbackFn=o,this.zone=Wn(Ps),this.errorHandler=Wn(Nl,{optional:!0}),Wn(_u,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(r){this.errorHandler?.handleError(r)}}}class Pw{constructor(){this.executingCallbacks=!1,this.buckets={[Cu.EarlyRead]:new Set,[Cu.Write]:new Set,[Cu.MixedReadWrite]:new Set,[Cu.Read]:new Set},this.deferredCallbacks=new Set}register(r){(this.executingCallbacks?this.deferredCallbacks:this.buckets[r.phase]).add(r)}unregister(r){this.buckets[r.phase].delete(r),this.deferredCallbacks.delete(r)}execute(){this.executingCallbacks=!0;for(const r of Object.values(this.buckets))for(const o of r)o.invoke();this.executingCallbacks=!1;for(const r of this.deferredCallbacks)this.buckets[r.phase].add(r);this.deferredCallbacks.clear()}destroy(){for(const r of Object.values(this.buckets))r.clear();this.deferredCallbacks.clear()}}let nf=(()=>{class t{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const o=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const c of o)c()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=ni({token:t,providedIn:"root",factory:()=>new t})}}return t})();function Ic(t){return!!Tr(t)}function la(t,r,o){let c=o?t.styles:null,y=o?t.classes:null,T=0;if(null!==r)for(let N=0;N<r.length;N++){const W=r[N];"number"==typeof W?T=W:1==T?y=Bn(y,W):2==T&&(c=Bn(c,W+": "+r[++N]+";"))}o?t.styles=c:t.stylesWithoutHost=c,o?t.classes=y:t.classesWithoutHost=y}class ps extends bu{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const o=xi(r);return new Hd(o,this.ngModule)}}function sf(t){const r=[];for(const o in t){if(!t.hasOwnProperty(o))continue;const c=t[o];void 0!==c&&r.push({propName:Array.isArray(c)?c[0]:c,templateName:o})}return r}class Su{constructor(r,o){this.injector=r,this.parentInjector=o}get(r,o,c){c=Gr(c);const y=this.injector.get(r,Sm,c);return y!==Sm||o===Sm?y:this.parentInjector.get(r,o,c)}}class Hd extends Cm{get inputs(){const r=this.componentDef,o=r.inputTransforms,c=sf(r.inputs);if(null!==o)for(const y of c)o.hasOwnProperty(y.propName)&&(y.transform=o[y.propName]);return c}get outputs(){return sf(this.componentDef.outputs)}constructor(r,o){super(),this.componentDef=r,this.ngModule=o,this.componentType=r.type,this.selector=function Qn(t){return t.map(Jt).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!o}create(r,o,c,y){const T=f(null);try{let N=(y=y||this.ngModule)instanceof Ir?y:y?.injector;N&&null!==this.componentDef.getStandaloneInjector&&(N=this.componentDef.getStandaloneInjector(N)||N);const W=N?new Su(r,N):r,re=W.get(wm,null);if(null===re)throw new je(407,!1);const Ie=W.get(Mw,null),Gt={rendererFactory:re,sanitizer:Ie,inlineEffectRunner:null,afterRenderEventManager:W.get(nf,null),changeDetectionScheduler:W.get(_u,null)},Xt=re.createRenderer(null,this.componentDef),cn=this.componentDef.selectors[0][0]||"div",Dn=c?function $C(t,r,o,c){const T=c.get(Np,!1)||o===Ur.ShadowDom,N=t.selectRootElement(r,T);return function GC(t){O0(t)}(N),N}(Xt,c,this.componentDef.encapsulation,W):Uh(Xt,cn,function uv(t){const r=t.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(cn));let Pn=512;this.componentDef.signals?Pn|=4096:this.componentDef.onPush||(Pn|=16);let Yn=null;null!==Dn&&(Yn=Ip(Dn,W,!0));const xn=dm(0,null,null,1,0,null,null,null,null,null,null),Li=Wh(null,xn,null,Pn,null,null,Gt,Xt,W,null,Yn);let Mr,ds;ip(Li);try{const Do=this.componentDef;let Ba,Wf=null;Do.findHostDirectiveDefs?(Ba=[],Wf=new Map,Do.findHostDirectiveDefs(Do,Ba,Wf),Ba.push(Do)):Ba=[Do];const G2=function Am(t,r){const o=t[P],c=Di;return t[c]=r,hu(o,c,2,"#host",null)}(Li,Dn),oM=function HI(t,r,o,c,y,T,N){const W=y[P];!function Wd(t,r,o,c){for(const y of t)r.mergedAttrs=ge(r.mergedAttrs,y.hostAttrs);null!==r.mergedAttrs&&(la(r,r.mergedAttrs,!0),null!==o&&A0(c,o,r))}(c,t,r,N);let re=null;null!==r&&(re=Ip(r,y[Cn]));const Ie=T.rendererFactory.createRenderer(r,o);let Ke=16;o.signals?Ke=4096:o.onPush&&(Ke=64);const ct=Wh(y,N0(o),null,Ke,y[t.index],t,T,Ie,null,null,re);return W.firstCreatePass&&B0(W,t,c.length-1),Kh(y,ct),y[t.index]=ct}(G2,Dn,Do,Ba,Li,Gt,Xt);ds=sd(xn,Di),Dn&&function dv(t,r,o,c){if(c)vs(t,o,["ng-version","17.3.3"]);else{const{attrs:y,classes:T}=function Nn(t){const r=[],o=[];let c=1,y=2;for(;c<t.length;){let T=t[c];if("string"==typeof T)2===y?""!==T&&r.push(T,t[++c]):8===y&&o.push(T);else{if(!Jn(y))break;y=T}c++}return{attrs:r,classes:o}}(r.selectors[0]);y&&vs(t,o,y),T&&T.length>0&&D0(t,o,T.join(" "))}}(Xt,Do,Dn,c),void 0!==o&&function Uw(t,r,o){const c=t.projection=[];for(let y=0;y<r.length;y++){const T=o[y];c.push(null!=T?Array.from(T):null)}}(ds,this.ngContentSelectors,o),Mr=function af(t,r,o,c,y,T){const N=Cr(),W=y[P],re=Go(N,y);JC(W,y,N,o,null,c);for(let Ke=0;Ke<o.length;Ke++)wo(lr(y,W,N.directiveStart+Ke,N),y);QC(W,y,N),re&&wo(re,y);const Ie=lr(y,W,N.directiveStart+N.componentOffset,N);if(t[sn]=y[sn]=Ie,null!==T)for(const Ke of T)Ke(Ie,r);return lm(W,N,y),Ie}(oM,Do,Ba,Wf,Li,[Vw]),Oo(xn,Li,null)}finally{sp()}return new Lw(this.componentType,Mr,Xc(ds,Li),Li,ds)}finally{f(T)}}}class Lw extends ef{constructor(r,o,c,y,T){super(),this.location=c,this._rootLView=y,this._tNode=T,this.previousInputValues=null,this.instance=o,this.hostView=this.changeDetectorRef=new Yh(y,void 0,!1),this.componentType=r}setInput(r,o){const c=this._tNode.inputs;let y;if(null!==c&&(y=c[r])){if(this.previousInputValues??=new Map,this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),o))return;const T=this._rootLView;$0(T[P],T,y,r,o),this.previousInputValues.set(r,o),Sc(pa(this._tNode.index,T))}}get injector(){return new Ys(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function Vw(){const t=Cr();Rl(Zt()[P],t)}let lf=(()=>{class t{static{this.__NG_ELEMENT_ID__=jw}}return t})();function jw(){return Rm(Cr(),Zt())}const Eu=lf,lc=class extends Eu{constructor(r,o,c){super(),this._lContainer=r,this._hostTNode=o,this._hostLView=c}get element(){return Xc(this._hostTNode,this._hostLView)}get injector(){return new Ys(this._hostTNode,this._hostLView)}get parentInjector(){const r=Yc(this._hostTNode,this._hostLView);if(fl(r)){const o=kl(r,this._hostLView),c=Kc(r);return new Ys(o[P].data[c+8],o)}return new Ys(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const o=Tu(this._lContainer);return null!==o&&o[r]||null}get length(){return this._lContainer.length-ws}createEmbeddedView(r,o,c){let y,T;"number"==typeof c?y=c:null!=c&&(y=c.index,T=c.injector);const N=Tc(this._lContainer,r.ssrId),W=r.createEmbeddedViewImpl(o||{},T,N);return this.insertImpl(W,y,Nd(this._hostTNode,N)),W}createComponent(r,o,c,y,T){const N=r&&!function Sn(t){return"function"==typeof t}(r);let W;if(N)W=o;else{const cn=o||{};W=cn.index,c=cn.injector,y=cn.projectableNodes,T=cn.environmentInjector||cn.ngModuleRef}const re=N?r:new Hd(xi(r)),Ie=c||this.parentInjector;if(!T&&null==re.ngModule){const Dn=(N?Ie:this.parentInjector).get(Ir,null);Dn&&(T=Dn)}const Ke=xi(re.componentType??{}),ct=Tc(this._lContainer,Ke?.id??null),Xt=re.create(Ie,y,ct?.firstChild??null,T);return this.insertImpl(Xt.hostView,W,Nd(this._hostTNode,ct)),Xt}insert(r,o){return this.insertImpl(r,o,!0)}insertImpl(r,o,c){const y=r._lView;if(function ub(t){return es(t[Ne])}(y)){const W=this.indexOf(r);if(-1!==W)this.detach(W);else{const re=y[Ne],Ie=new lc(re,re[xt],re[Ne]);Ie.detach(Ie.indexOf(r))}}const T=this._adjustIndex(o),N=this._lContainer;return Od(N,y,T,c),r.attachToViewContainerRef(),Bo(Iu(N),T,r),r}move(r,o){return this.insert(r,o)}indexOf(r){const o=Tu(this._lContainer);return null!==o?o.indexOf(r):-1}remove(r){const o=this._adjustIndex(r,-1),c=Vh(this._lContainer,o);c&&(Xo(Iu(this._lContainer),o),tm(c[P],c))}detach(r){const o=this._adjustIndex(r,-1),c=Vh(this._lContainer,o);return c&&null!=Xo(Iu(this._lContainer),o)?new Yh(c):null}_adjustIndex(r,o=0){return r??this.length+o}};function Tu(t){return t[8]}function Iu(t){return t[8]||(t[8]=[])}function Rm(t,r){let o;const c=r[t.index];return es(c)?o=c:(o=L0(c,r,null,t),r[t.index]=o,Kh(r,o)),cc(o,r,t,c),new lc(o,t,r)}let cc=function Gw(t,r,o,c){if(t[jo])return;let y;y=8&o.type?br(c):function cf(t,r){const o=t[jn],c=o.createComment(""),y=Go(r,t);return Cc(o,jh(o,y),c,function FC(t,r){return t.nextSibling(r)}(o,y),!1),c}(r,o),t[jo]=y},uf=()=>!1;class hv{constructor(r){this.queryList=r,this.matches=null}clone(){return new hv(this.queryList)}setDirty(){this.queryList.setDirty()}}class fv{constructor(r=[]){this.queries=r}createEmbeddedView(r){const o=r.queries;if(null!==o){const c=null!==r.contentQueries?r.contentQueries[0]:o.length,y=[];for(let T=0;T<c;T++){const N=o.getByIndex(T);y.push(this.queries[N.indexInDeclarationView].clone())}return new fv(y)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}finishViewCreation(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let o=0;o<this.queries.length;o++)null!==km(r,o).matches&&this.queries[o].setDirty()}}class Hw{constructor(r,o,c=null){this.flags=o,this.read=c,this.predicate="string"==typeof r?function QI(t){return t.split(",").map(r=>r.trim())}(r):r}}class pv{constructor(r=[]){this.queries=r}elementStart(r,o){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(r,o)}elementEnd(r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(r)}embeddedTView(r){let o=null;for(let c=0;c<this.length;c++){const y=null!==o?o.length:0,T=this.getByIndex(c).embeddedTView(r,y);T&&(T.indexInDeclarationView=c,null!==o?o.push(T):o=[T])}return null!==o?new pv(o):null}template(r,o){for(let c=0;c<this.queries.length;c++)this.queries[c].template(r,o)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class mv{constructor(r,o=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(r,o){this.isApplyingToNode(o)&&this.matchTNode(r,o)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,o){this.elementStart(r,o)}embeddedTView(r,o){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,o),new mv(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1&~this.metadata.flags){const o=this._declarationNodeIndex;let c=r.parent;for(;null!==c&&8&c.type&&c.index!==o;)c=c.parent;return o===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(r,o){const c=this.metadata.predicate;if(Array.isArray(c))for(let y=0;y<c.length;y++){const T=c[y];this.matchTNodeWithReadOption(r,o,YI(o,T)),this.matchTNodeWithReadOption(r,o,mc(o,r,T,!1,!1))}else c===mu?4&o.type&&this.matchTNodeWithReadOption(r,o,-1):this.matchTNodeWithReadOption(r,o,mc(o,r,c,!1,!1))}matchTNodeWithReadOption(r,o,c){if(null!==c){const y=this.metadata.read;if(null!==y)if(y===md||y===lf||y===mu&&4&o.type)this.addMatch(o.index,-2);else{const T=mc(o,r,y,!1,!1);null!==T&&this.addMatch(o.index,T)}else this.addMatch(o.index,c)}}addMatch(r,o){null===this.matches?this.matches=[r,o]:this.matches.push(r,o)}}function YI(t,r){const o=t.localNames;if(null!==o)for(let c=0;c<o.length;c+=2)if(o[c]===r)return o[c+1];return null}function JI(t,r,o,c){return-1===o?function XI(t,r){return 11&t.type?Xc(t,r):4&t.type?Bd(t,r):null}(r,t):-2===o?function gv(t,r,o){return o===md?Xc(r,t):o===mu?Bd(r,t):o===lf?Rm(r,t):void 0}(t,r,c):lr(t,t[P],o,r)}function vv(t,r,o,c){const y=r[cs].queries[c];if(null===y.matches){const T=t.data,N=o.matches,W=[];for(let re=0;null!==N&&re<N.length;re+=2){const Ie=N[re];W.push(Ie<0?null:JI(r,T[Ie],N[re+1],o.metadata.read))}y.matches=W}return y.matches}function Mm(t,r,o,c){const y=t.queries.getByIndex(o),T=y.matches;if(null!==T){const N=vv(t,r,y,o);for(let W=0;W<T.length;W+=2){const re=T[W];if(re>0)c.push(N[W/2]);else{const Ie=T[W+1],Ke=r[-re];for(let ct=ws;ct<Ke.length;ct++){const Gt=Ke[ct];Gt[Cs]===Gt[Ne]&&Mm(Gt[P],Gt,Ie,c)}if(null!==Ke[Ga]){const ct=Ke[Ga];for(let Gt=0;Gt<ct.length;Gt++){const Xt=ct[Gt];Mm(Xt[P],Xt,Ie,c)}}}}}return c}function xm(t,r,o){const c=new mp(!(4&~o));return function KC(t,r,o,c){const y=kd(r);y.push(o),t.firstCreatePass&&V0(t).push(c,y.length-1)}(t,r,c,c.destroy),(r[cs]??=new fv).queries.push(new hv(c))-1}function Kw(t,r,o){null===t.queries&&(t.queries=new pv),t.queries.track(new mv(r,o))}function km(t,r){return t.queries.getByIndex(r)}function bv(t,r){const o=t[P],c=km(o,r);return c.crossesNgTemplate?Mm(o,t,r,[]):vv(o,t,c,r)}function Yw(t){return function Cv(t){return"function"==typeof t&&void 0!==t[v]}(t)&&"function"==typeof t.set}function pf(t){let r=function $m(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),o=!0;const c=[t];for(;r;){let y;if(ro(t))y=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new je(903,!1);y=r.\u0275dir}if(y){if(o){c.push(y);const N=t;N.inputs=Kd(t.inputs),N.inputTransforms=Kd(t.inputTransforms),N.declaredInputs=Kd(t.declaredInputs),N.outputs=Kd(t.outputs);const W=y.hostBindings;W&&cD(t,W);const re=y.viewQuery,Ie=y.contentQueries;if(re&&Nv(t,re),Ie&&lD(t,Ie),xv(t,y),Mn(t.outputs,y.outputs),ro(y)&&y.data.animation){const Ke=t.data;Ke.animation=(Ke.animation||[]).concat(y.data.animation)}}const T=y.features;if(T)for(let N=0;N<T.length;N++){const W=T[N];W&&W.ngInherit&&W(t),W===pf&&(o=!1)}}r=Object.getPrototypeOf(r)}!function kv(t){let r=0,o=null;for(let c=t.length-1;c>=0;c--){const y=t[c];y.hostVars=r+=y.hostVars,y.hostAttrs=ge(y.hostAttrs,o=ge(o,y.hostAttrs))}}(c)}function xv(t,r){for(const o in r.inputs){if(!r.inputs.hasOwnProperty(o)||t.inputs.hasOwnProperty(o))continue;const c=r.inputs[o];if(void 0!==c&&(t.inputs[o]=c,t.declaredInputs[o]=r.declaredInputs[o],null!==r.inputTransforms)){const y=Array.isArray(c)?c[0]:c;if(!r.inputTransforms.hasOwnProperty(y))continue;t.inputTransforms??={},t.inputTransforms[y]=r.inputTransforms[y]}}}function Kd(t){return t===Ts?{}:t===si?[]:t}function Nv(t,r){const o=t.viewQuery;t.viewQuery=o?(c,y)=>{r(c,y),o(c,y)}:r}function lD(t,r){const o=t.contentQueries;t.contentQueries=o?(c,y,T)=>{r(c,y,T),o(c,y,T)}:r}function cD(t,r){const o=t.hostBindings;t.hostBindings=o?(c,y)=>{r(c,y),o(c,y)}:r}function oS(t){const r=o=>{const c=(Array.isArray(t)?t:t()).map(y=>"function"==typeof y?{directive:lt(y),inputs:Ts,outputs:Ts}:{directive:lt(y.directive),inputs:lS(y.inputs),outputs:lS(y.outputs)});null===o.hostDirectives?(o.findHostDirectiveDefs=aS,o.hostDirectives=c):o.hostDirectives.unshift(...c)};return r.ngInherit=!0,r}function aS(t,r,o){if(null!==t.hostDirectives)for(const c of t.hostDirectives){const y=Hn(c.directive);uD(y.declaredInputs,c.inputs),aS(y,r,o),o.set(y,c),r.push(y)}}function lS(t){if(void 0===t||0===t.length)return Ts;const r={};for(let o=0;o<t.length;o+=2)r[t[o]]=t[o+1];return r}function uD(t,r){for(const o in r)r.hasOwnProperty(o)&&(t[r[o]]=t[o])}function cS(t){const r=t.inputConfig,o={};for(const c in r)if(r.hasOwnProperty(c)){const y=r[c];Array.isArray(y)&&y[3]&&(o[c]=y[3])}t.inputTransforms=o}class xu{}class uS{}function Fv(t,r){return new Pv(t,r??null,[])}class Pv extends xu{constructor(r,o,c){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ps(this);const y=Tr(r);this._bootstrapComponents=oa(y.bootstrap),this._r3Injector=Lb(r,o,[{provide:xu,useValue:this},{provide:bu,useValue:this.componentFactoryResolver},...c],kn(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class mf extends uS{constructor(r){super(),this.moduleType=r}create(r){return new Pv(this.moduleType,r,[])}}class Bv extends xu{constructor(r){super(),this.componentFactoryResolver=new ps(this),this.instance=null;const o=new uo([...r.providers,{provide:xu,useValue:this},{provide:bu,useValue:this.componentFactoryResolver}],r.parent||_s(),r.debugName,new Set(["environment"]));this.injector=o,r.runEnvironmentInitializers&&o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function Lv(t,r,o=null){return new Bv({providers:t,parent:r,debugName:o,runEnvironmentInitializers:!0}).injector}let zd=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ee.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const o=this.taskId++;return this.pendingTasks.add(o),o}remove(o){this.pendingTasks.delete(o),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=ni({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Wm(t){return!!Uv(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Uv(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function jl(t,r,o){return t[r]=o}function gf(t,r){return t[r]}function Xs(t,r,o){return!Object.is(t[r],o)&&(t[r]=o,!0)}function ku(t,r,o,c){const y=Xs(t,r,o);return Xs(t,r+1,c)||y}function qa(t,r,o,c,y,T){const N=ku(t,r,o,c);return ku(t,r+2,y,T)||N}function Xd(t,r,o,c,y,T,N,W){const re=Zt(),Ie=ki(),Ke=t+Di,ct=Ie.firstCreatePass?function mD(t,r,o,c,y,T,N,W,re){const Ie=r.consts,Ke=hu(r,t,4,N||null,dl(Ie,W));hm(r,o,Ke,dl(Ie,re)),Rl(r,Ke);const ct=Ke.tView=dm(2,Ke,c,y,T,r.directiveRegistry,r.pipeRegistry,null,r.schemas,Ie,null);return null!==r.queries&&(r.queries.template(r,Ke),ct.queries=r.queries.embeddedTView(Ke)),Ke}(Ke,Ie,re,r,o,c,y,T,N):Ie.data[Ke];hl(ct,!1);const Gt=pS(Ie,re,ct,t);ud()&&$h(Ie,re,Gt,ct),wo(Gt,re);const Xt=L0(Gt,re,Gt,ct);return re[Ke]=Xt,Kh(re,Xt),function $w(t,r,o){return uf(t,r,o)}(Xt,ct,re),na(ct)&&cm(Ie,re,ct),null!=N&&um(re,ct,W),Xd}let pS=function Km(t,r,o,c){return fo(!0),r[jn].createComment("")};function Tf(t,r,o,c){const y=Zt();return Xs(y,za(),r)&&(ki(),Ul(us(),y,t,r,o,c)),Tf}function ju(t,r,o,c){return Xs(t,za(),o)?r+Gn(o)+c:Wi}function To(t,r,o,c,y,T){const W=ku(t,function Dl(){return Fi.lFrame.bindingIndex}(),o,y);return Al(2),W?r+Gn(o)+c+Gn(y)+T:Wi}function If(t,r){return t<<17|r<<2}function dc(t){return t>>17&32767}function sg(t){return 2|t}function Nc(t){return(131068&t)>>2}function og(t,r){return-131069&t|r<<2}function ag(t){return 1|t}function oy(t,r,o,c){const y=t[o+1],T=null===r;let N=c?dc(y):Nc(y),W=!1;for(;0!==N&&(!1===W||T);){const Ie=t[N+1];VS(t[N],r)&&(W=!0,t[N+1]=c?ag(Ie):sg(Ie)),N=c?dc(Ie):Nc(Ie)}W&&(t[o+1]=c?sg(y):ag(y))}function VS(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&as(t,r)>=0}const oo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ay(t){return t.substring(oo.key,oo.keyEnd)}function ly(t,r){const o=oo.textEnd;return o===r?-1:(r=oo.keyEnd=function HS(t,r,o){for(;r<o&&t.charCodeAt(r)>32;)r++;return r}(t,oo.key=r,o),zu(t,r,o))}function zu(t,r,o){for(;r<o&&t.charCodeAt(r)<=32;)r++;return r}function Af(t,r,o){const c=Zt();return Xs(c,za(),r)&&aa(ki(),us(),c,t,r,c[jn],o,!1),Af}function lg(t,r,o,c,y){const N=y?"class":"style";$0(t,o,r.inputs[N],N,c)}function cg(t,r,o){return tl(t,r,o,!1),cg}function ug(t,r){return tl(t,r,null,!0),ug}function hy(t){nl(qS,Sl,t,!0)}function Sl(t,r){for(let o=function $S(t){return function uy(t){oo.key=0,oo.keyEnd=0,oo.value=0,oo.valueEnd=0,oo.textEnd=t.length}(t),ly(t,zu(t,0,oo.textEnd))}(r);o>=0;o=ly(r,o))or(t,ay(r),!0)}function tl(t,r,o,c){const y=Zt(),T=ki(),N=Al(2);T.firstUpdatePass&&py(T,t,N,c),r!==Wi&&Xs(y,N,r)&&gy(T,T.data[bo()],y,y[jn],t,y[N+1]=function tE(t,r){return null==t||""===t||("string"==typeof r?t+=r:"object"==typeof t&&(t=kn(so(t)))),t}(r,o),c,N)}function nl(t,r,o,c){const y=ki(),T=Al(2);y.firstUpdatePass&&py(y,null,T,c);const N=Zt();if(o!==Wi&&Xs(N,T,o)){const W=y.data[bo()];if(yy(W,c)&&!fy(y,T)){let re=c?W.classesWithoutHost:W.stylesWithoutHost;null!==re&&(o=Bn(re,o||"")),lg(y,W,N,o,c)}else!function eE(t,r,o,c,y,T,N,W){y===Wi&&(y=si);let re=0,Ie=0,Ke=0<y.length?y[0]:null,ct=0<T.length?T[0]:null;for(;null!==Ke||null!==ct;){const Gt=re<y.length?y[re+1]:void 0,Xt=Ie<T.length?T[Ie+1]:void 0;let Dn,cn=null;Ke===ct?(re+=2,Ie+=2,Gt!==Xt&&(cn=ct,Dn=Xt)):null===ct||null!==Ke&&Ke<ct?(re+=2,cn=Ke):(Ie+=2,cn=ct,Dn=Xt),null!==cn&&gy(t,r,o,c,cn,Dn,N,W),Ke=re<y.length?y[re]:null,ct=Ie<T.length?T[Ie]:null}}(y,W,N,N[jn],N[T+1],N[T+1]=function ZS(t,r,o){if(null==o||""===o)return si;const c=[],y=so(o);if(Array.isArray(y))for(let T=0;T<y.length;T++)t(c,y[T],!0);else if("object"==typeof y)for(const T in y)y.hasOwnProperty(T)&&t(c,T,y[T]);else"string"==typeof y&&r(c,y);return c}(t,r,o),c,T)}}function fy(t,r){return r>=t.expandoStartIndex}function py(t,r,o,c){const y=t.data;if(null===y[o+1]){const T=y[bo()],N=fy(t,o);yy(T,c)&&null===r&&!N&&(r=!1),r=function YS(t,r,o,c){const y=tp(t);let T=c?r.residualClasses:r.residualStyles;if(null===y)0===(c?r.classBindings:r.styleBindings)&&(o=Zd(o=dg(null,t,r,o,c),r.attrs,c),T=null);else{const N=r.directiveStylingLast;if(-1===N||t[N]!==y)if(o=dg(y,t,r,o,c),null===T){let re=function XS(t,r,o){const c=o?r.classBindings:r.styleBindings;if(0!==Nc(c))return t[dc(c)]}(t,r,c);void 0!==re&&Array.isArray(re)&&(re=dg(null,t,r,re[1],c),re=Zd(re,r.attrs,c),function JS(t,r,o,c){t[dc(o?r.classBindings:r.styleBindings)]=c}(t,r,c,re))}else T=function QS(t,r,o){let c;const y=r.directiveEnd;for(let T=1+r.directiveStylingLast;T<y;T++)c=Zd(c,t[T].hostAttrs,o);return Zd(c,r.attrs,o)}(t,r,c)}return void 0!==T&&(c?r.residualClasses=T:r.residualStyles=T),o}(y,T,r,c),function LS(t,r,o,c,y,T){let N=T?r.classBindings:r.styleBindings,W=dc(N),re=Nc(N);t[c]=o;let Ke,Ie=!1;if(Array.isArray(o)?(Ke=o[1],(null===Ke||as(o,Ke)>0)&&(Ie=!0)):Ke=o,y)if(0!==re){const Gt=dc(t[W+1]);t[c+1]=If(Gt,W),0!==Gt&&(t[Gt+1]=og(t[Gt+1],c)),t[W+1]=function PS(t,r){return 131071&t|r<<17}(t[W+1],c)}else t[c+1]=If(W,0),0!==W&&(t[W+1]=og(t[W+1],c)),W=c;else t[c+1]=If(re,0),0===W?W=c:t[re+1]=og(t[re+1],c),re=c;Ie&&(t[c+1]=sg(t[c+1])),oy(t,Ke,c,!0),oy(t,Ke,c,!1),function US(t,r,o,c,y){const T=y?t.residualClasses:t.residualStyles;null!=T&&"string"==typeof r&&as(T,r)>=0&&(o[c+1]=ag(o[c+1]))}(r,Ke,t,c,T),N=If(W,re),T?r.classBindings=N:r.styleBindings=N}(y,T,r,o,N,c)}}function dg(t,r,o,c,y){let T=null;const N=o.directiveEnd;let W=o.directiveStylingLast;for(-1===W?W=o.directiveStart:W++;W<N&&(T=r[W],c=Zd(c,T.hostAttrs,y),T!==t);)W++;return null!==t&&(o.directiveStylingLast=W),c}function Zd(t,r,o){const c=o?1:2;let y=-1;if(null!==r)for(let T=0;T<r.length;T++){const N=r[T];"number"==typeof N?y=N:y===c&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),or(t,N,!!o||r[++T]))}return void 0===t?null:t}function qS(t,r,o){const c=String(r);""!==c&&!c.includes(" ")&&or(t,c,o)}function gy(t,r,o,c,y,T,N,W){if(!(3&r.type))return;const re=t.data,Ie=re[W+1],Ke=function BS(t){return!(1&~t)}(Ie)?vy(re,r,o,y,Nc(Ie),N):void 0;Rf(Ke)||(Rf(T)||function FS(t){return!(2&~t)}(Ie)&&(T=vy(re,null,o,y,W,N)),function LC(t,r,o,c,y){if(r)y?t.addClass(o,c):t.removeClass(o,c);else{let T=-1===c.indexOf("-")?void 0:Bh.DashCase;null==y?t.removeStyle(o,c,T):("string"==typeof y&&y.endsWith("!important")&&(y=y.slice(0,-10),T|=Bh.Important),t.setStyle(o,c,y,T))}}(c,N,rd(bo(),o),y,T))}function vy(t,r,o,c,y,T){const N=null===r;let W;for(;y>0;){const re=t[y],Ie=Array.isArray(re),Ke=Ie?re[1]:re,ct=null===Ke;let Gt=o[y+1];Gt===Wi&&(Gt=ct?si:void 0);let Xt=ct?Fr(Gt,c):Ke===c?Gt:void 0;if(Ie&&!Rf(Xt)&&(Xt=Fr(re,c)),Rf(Xt)&&(W=Xt,N))return W;const cn=t[y+1];y=N?dc(cn):Nc(cn)}if(null!==r){let re=T?r.residualClasses:r.residualStyles;null!=re&&(W=Fr(re,c))}return W}function Rf(t){return void 0!==t}function yy(t,r){return!!(t.flags&(r?8:16))}function _y(t,r,o){nl(or,Sl,ju(Zt(),t,r,o),!0)}function by(t,r,o,c,y){nl(or,Sl,To(Zt(),t,r,o,c,y),!0)}class Mf{destroy(r){}updateValue(r,o){}swap(r,o){const c=Math.min(r,o),y=Math.max(r,o),T=this.detach(y);if(y-c>1){const N=this.detach(c);this.attach(c,T),this.attach(y,N)}else this.attach(c,T)}move(r,o){this.attach(o,this.detach(r))}}function hg(t,r,o,c,y){return t===o&&Object.is(r,c)?1:Object.is(y(t,r),y(o,c))?-1:0}function fg(t,r,o,c){return!(void 0===r||!r.has(c)||(t.attach(o,r.get(c)),r.delete(c),0))}function wy(t,r,o,c,y){if(fg(t,r,c,o(c,y)))t.updateValue(c,y);else{const T=t.create(c,y);t.attach(c,T)}}function Sy(t,r,o,c){const y=new Set;for(let T=r;T<=o;T++)y.add(c(T,t.at(T)));return y}class Ey{constructor(){this.kvMap=new Map,this._vMap=void 0}has(r){return this.kvMap.has(r)}delete(r){if(!this.has(r))return!1;const o=this.kvMap.get(r);return void 0!==this._vMap&&this._vMap.has(o)?(this.kvMap.set(r,this._vMap.get(o)),this._vMap.delete(o)):this.kvMap.delete(r),!0}get(r){return this.kvMap.get(r)}set(r,o){if(this.kvMap.has(r)){let c=this.kvMap.get(r);void 0===this._vMap&&(this._vMap=new Map);const y=this._vMap;for(;y.has(c);)c=y.get(c);y.set(c,o)}else this.kvMap.set(r,o)}forEach(r){for(let[o,c]of this.kvMap)if(r(c,o),void 0!==this._vMap){const y=this._vMap;for(;y.has(c);)c=y.get(c),r(c,o)}}}function Ty(t,r,o){bl("NgControlFlow");const c=Zt(),y=za(),T=pg(c,Di+t);if(Xs(c,y,r)){const W=f(null);try{if(oc(T,0),-1!==r){const re=Fo(c[P],Di+r),Ie=Tc(T,re.tView.ssrId);Od(T,pu(c,re,o,{dehydratedView:Ie}),0,Nd(re,Ie))}}finally{f(W)}}else{const W=pm(T,0);void 0!==W&&(W[sn]=o)}}class uE{constructor(r,o,c){this.lContainer=r,this.$implicit=o,this.$index=c}get $count(){return this.lContainer.length-ws}}function Iy(t,r){return r}class hE{constructor(r,o,c){this.hasEmptyBlock=r,this.trackByFn=o,this.liveCollection=c}}function Dy(t,r,o,c,y,T,N,W,re,Ie,Ke,ct,Gt){bl("NgControlFlow");const Xt=void 0!==re,cn=Zt(),Dn=W?N.bind(cn[Dr][sn]):N,Pn=new hE(Xt,Dn);cn[Di+t]=Pn,Xd(t+1,r,o,c,y,T),Xt&&Xd(t+2,re,Ie,Ke,ct,Gt)}class fE extends Mf{constructor(r,o,c){super(),this.lContainer=r,this.hostLView=o,this.templateTNode=c,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-ws}at(r){return this.getLView(r)[sn].$implicit}attach(r,o){const c=o[Vt];this.needsIndexUpdate||=r!==this.length,Od(this.lContainer,o,r,Nd(this.templateTNode,c))}detach(r){return this.needsIndexUpdate||=r!==this.length-1,function pE(t,r){return Vh(t,r)}(this.lContainer,r)}create(r,o){const c=Tc(this.lContainer,this.templateTNode.tView.ssrId);return pu(this.hostLView,this.templateTNode,new uE(this.lContainer,o,r),{dehydratedView:c})}destroy(r){tm(r[P],r)}updateValue(r,o){this.getLView(r)[sn].$implicit=o}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let r=0;r<this.length;r++)this.getLView(r)[sn].$index=r}getLView(r){return function mE(t,r){return pm(t,r)}(this.lContainer,r)}}function Ay(t){const r=f(null),o=bo();try{const c=Zt(),y=c[P],T=c[o];if(void 0===T.liveCollection){const W=o+1,re=pg(c,W),Ie=Fo(y,W);T.liveCollection=new fE(re,c,Ie)}else T.liveCollection.reset();const N=T.liveCollection;if(function cE(t,r,o){let c,y,T=0,N=t.length-1;if(Array.isArray(r)){let W=r.length-1;for(;T<=N&&T<=W;){const re=t.at(T),Ie=r[T],Ke=hg(T,re,T,Ie,o);if(0!==Ke){Ke<0&&t.updateValue(T,Ie),T++;continue}const ct=t.at(N),Gt=r[W],Xt=hg(N,ct,W,Gt,o);if(0!==Xt){Xt<0&&t.updateValue(N,Gt),N--,W--;continue}const cn=o(T,re),Dn=o(N,ct),Pn=o(T,Ie);if(Object.is(Pn,Dn)){const Yn=o(W,Gt);Object.is(Yn,cn)?(t.swap(T,N),t.updateValue(N,Gt),W--,N--):t.move(N,T),t.updateValue(T,Ie),T++}else if(c??=new Ey,y??=Sy(t,T,N,o),fg(t,c,T,Pn))t.updateValue(T,Ie),T++,N++;else if(y.has(Pn))c.set(cn,t.detach(T)),N--;else{const Yn=t.create(T,r[T]);t.attach(T,Yn),T++,N++}}for(;T<=W;)wy(t,c,o,T,r[T]),T++}else if(null!=r){const W=r[Symbol.iterator]();let re=W.next();for(;!re.done&&T<=N;){const Ie=t.at(T),Ke=re.value,ct=hg(T,Ie,T,Ke,o);if(0!==ct)ct<0&&t.updateValue(T,Ke),T++,re=W.next();else{c??=new Ey,y??=Sy(t,T,N,o);const Gt=o(T,Ke);if(fg(t,c,T,Gt))t.updateValue(T,Ke),T++,N++,re=W.next();else if(y.has(Gt)){const Xt=o(T,Ie);c.set(Xt,t.detach(T)),N--}else t.attach(T,t.create(T,Ke)),T++,N++,re=W.next()}}for(;!re.done;)wy(t,c,o,t.length,re.value),re=W.next()}for(;T<=N;)t.destroy(t.detach(N--));c?.forEach(W=>{t.destroy(W)})}(N,t,T.trackByFn),N.updateIndexes(),T.hasEmptyBlock){const W=za(),re=0===N.length;if(Xs(c,W,re)){const Ie=o+2,Ke=pg(c,Ie);if(re){const ct=Fo(y,Ie),Gt=Tc(Ke,ct.tView.ssrId);Od(Ke,pu(c,ct,void 0,{dehydratedView:Gt}),0,Nd(ct,Gt))}else oc(Ke,0)}}}finally{f(r)}}function pg(t,r){return t[r]}function Fo(t,r){return sd(t,r)}function xf(t,r,o,c){const y=Zt(),T=ki(),N=Di+t,W=y[jn],re=T.firstCreatePass?function il(t,r,o,c,y,T){const N=r.consts,re=hu(r,t,2,c,dl(N,y));return hm(r,o,re,dl(N,T)),null!==re.attrs&&la(re,re.attrs,!1),null!==re.mergedAttrs&&la(re,re.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,re),re}(N,T,y,r,o,c):T.data[N],Ie=Ry(T,y,re,W,r,t);y[N]=Ie;const Ke=na(re);return hl(re,!0),A0(W,Ie,re),!function vf(t){return!(32&~t.flags)}(re)&&ud()&&$h(T,y,Ie,re),0===function hb(){return Fi.lFrame.elementDepthCount}()&&wo(Ie,y),function fb(){Fi.lFrame.elementDepthCount++}(),Ke&&(cm(T,y,re),lm(T,re,y)),null!==c&&um(y,re),xf}function kf(){let t=Cr();Zf()?qf():(t=t.parent,hl(t,!1));const r=t;(function ra(t){return Fi.skipHydrationRootTNode===t})(r)&&function sh(){Fi.skipHydrationRootTNode=null}(),function pb(){Fi.lFrame.elementDepthCount--}();const o=ki();return o.firstCreatePass&&(Rl(o,t),Ha(t)&&o.queries.elementEnd(t)),null!=r.classesWithoutHost&&function Wc(t){return!!(8&t.flags)}(r)&&lg(o,r,Zt(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function lh(t){return!!(16&t.flags)}(r)&&lg(o,r,Zt(),r.stylesWithoutHost,!1),kf}function mg(t,r,o,c){return xf(t,r,o,c),kf(),mg}let Ry=(t,r,o,c,y,T)=>(fo(!0),Uh(c,y,function Tb(){return Fi.lFrame.currentNamespace}()));function qd(t,r,o){const c=Zt(),y=ki(),T=t+Di,N=y.firstCreatePass?function vE(t,r,o,c,y){const T=r.consts,N=dl(T,c),W=hu(r,t,8,"ng-container",N);return null!==N&&la(W,N,!0),hm(r,o,W,dl(T,y)),null!==r.queries&&r.queries.elementStart(r,W),W}(T,y,c,r,o):y.data[T];hl(N,!0);const W=xy(y,c,N,t);return c[T]=W,ud()&&$h(y,c,W,N),wo(W,c),na(N)&&(cm(y,c,N),lm(y,N,c)),null!=o&&um(c,N),qd}function Nf(){let t=Cr();const r=ki();return Zf()?qf():(t=t.parent,hl(t,!1)),r.firstCreatePass&&(Rl(r,t),Ha(t)&&r.queries.elementEnd(t)),Nf}function gg(t,r,o){return qd(t,r,o),Nf(),gg}let xy=(t,r,o,c)=>(fo(!0),em(r[jn],""));function ky(){return Zt()}function vg(t,r,o){const c=Zt();return Xs(c,za(),r)&&aa(ki(),us(),c,t,r,c[jn],o,!0),vg}function yg(t,r,o){const c=Zt();if(Xs(c,za(),r)){const T=ki(),N=us();aa(T,N,c,t,r,j0(tp(T.data),N,c),o,!0)}return yg}const El=void 0;var CE=["en",[["a","p"],["AM","PM"],El],[["AM","PM"],El,El],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],El,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],El,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",El,"{1} 'at' {0}",El],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function bE(t){const o=Math.floor(Math.abs(t)),c=t.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===c?1:5}];let Yu={};function _g(t){const r=function SE(t){return t.toLowerCase().replace(/_/g,"-")}(t);let o=Oy(r);if(o)return o;const c=r.split("-")[0];if(o=Oy(c),o)return o;if("en"===c)return CE;throw new je(701,!1)}function Ny(t){return _g(t)[Tl.PluralCase]}function Oy(t){return t in Yu||(Yu[t]=dt.ng&&dt.ng.common&&dt.ng.common.locales&&dt.ng.common.locales[t]),Yu[t]}var Tl=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Tl||{});const Xu="en-US",Of={marker:"element"},Ff={marker:"ICU"};var ca=function(t){return t[t.SHIFT=2]="SHIFT",t[t.APPEND_EAGERLY=1]="APPEND_EAGERLY",t[t.COMMENT=2]="COMMENT",t}(ca||{});let Fy=Xu;function Py(t,r,o){const c=r.insertBeforeIndex,y=Array.isArray(c)?c[0]:c;return null===y?C0(t,0,o):br(o[y])}function By(t,r,o,c,y){const T=r.insertBeforeIndex;if(Array.isArray(T)){let N=c,W=null;if(3&r.type||(W=N,N=y),null!==N&&-1===r.componentOffset)for(let re=1;re<T.length;re++)Cc(t,N,o[T[re]],W,!1)}}function Ly(t,r){if(t.push(r),t.length>1)for(let o=t.length-2;o>=0;o--){const c=t[o];Uy(c)||AE(c,r)&&null===RE(c)&&ME(c,r.index)}}function Uy(t){return!(64&t.type)}function AE(t,r){return Uy(r)||t.index>r.index}function RE(t){const r=t.insertBeforeIndex;return Array.isArray(r)?r[0]:r}function ME(t,r){const o=t.insertBeforeIndex;Array.isArray(o)?o[0]=r:(S0(Py,By),t.insertBeforeIndex=r)}function NE(t,r,o){const c=am(t,o,64,null,null);return Ly(r,c),c}let Qu=(t,r,o,c)=>(fo(!0),function $y(t,r,o){const c=t[jn];switch(o){case Node.COMMENT_NODE:return em(c,r);case Node.TEXT_NODE:return qp(c,r);case Node.ELEMENT_NODE:return Uh(c,r,null)}}(t,o,c));function VE(){const t=[];let o,c,r=-1;function T(W,re){r=0;const Ie=function Bf(t,r){const o=r[t.currentCaseLViewIndex];return null===o?o:o<0?~o:o}(W,re);c=null!==Ie?W.remove[Ie]:si}function N(){if(r<c.length){const W=c[r++];return W>0?o[W]:(t.push(r,c),T(o[P].data[~W],o),N())}return 0===t.length?null:(c=t.pop(),r=t.pop(),N())}return function y(W,re){for(o=re;t.length;)t.pop();return T(W.value,re),N}}const Lf=/\ufffd(\d+):?\d*\ufffd/gi,$E=/\ufffd(\d+)\ufffd/,Tg=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Zu="\ufffd",GE=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,HE=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,WE=/\uE500/g;function Xy(t,r,o,c,y,T,N){const W=xd(t,c,1,null);let re=W<<ca.SHIFT,Ie=cd();r===Ie&&(Ie=null),null===Ie&&(re|=ca.APPEND_EAGERLY),N&&(re|=ca.COMMENT,function DC(t){void 0===Lh&&(Lh=t())}(VE)),y.push(re,null===T?"":T);const Ke=am(t,W,N?32:1,null===T?"":T,null);Ly(o,Ke);const ct=Ke.index;return hl(Ke,!1),null!==Ie&&r!==Ie&&function kE(t,r){let o=t.insertBeforeIndex;null===o?(S0(Py,By),o=t.insertBeforeIndex=[null,r]):(Ln(Array.isArray(o),!0,"Expecting array here"),o.push(r))}(Ie,ct),Ke}function Ig(t,r,o,c,y,T,N,W){const re=W.match(Lf),Ke=Xy(r,o,c,N,y,re?null:W,!1).index;re&&qu(T,W,Ke,null,0,null),t.push({kind:0,index:Ke})}function qu(t,r,o,c,y,T){const N=t.length,W=N+1;t.push(null,null);const re=N+2,Ie=r.split(Lf);let Ke=0;for(let ct=0;ct<Ie.length;ct++){const Gt=Ie[ct];if(1&ct){const Xt=y+parseInt(Gt,10);t.push(-1-Xt),Ke|=Qy(Xt)}else""!==Gt&&t.push(Gt)}return t.push(o<<2|(c?1:0)),c&&t.push(c,T),t[N]=Ke,t[W]=t.length-re,Ke}function Qy(t){return 1<<Math.min(t,31)}function Zy(t){let r,T,o="",c=0,y=!1;for(;null!==(r=GE.exec(t));)y?r[0]===`${Zu}/*${T}${Zu}`&&(c=r.index,y=!1):(o+=t.substring(c,r.index+r[0].length),T=r[1],y=!0);return o+=t.slice(c),o}function qy(t,r,o,c,y,T,N){let W=0;const re={type:T.type,currentCaseLViewIndex:xd(r,o,1,null),anchorIdx:N,cases:[],create:[],remove:[],update:[]};(function QE(t,r,o){t.push(Qy(r.mainBinding),2,-1-r.mainBinding,o<<2|2)})(c,T,N),function xE(t,r,o){const c=t.data[r];null===c?t.data[r]=o:c.value=o}(r,N,re);const Ie=T.values,Ke=[];for(let ct=0;ct<Ie.length;ct++){const Gt=Ie[ct],Xt=[];for(let Dn=0;Dn<Gt.length;Dn++){const Pn=Gt[Dn];if("string"!=typeof Pn){const Yn=Xt.push(Pn)-1;Gt[Dn]=`\x3c!--\ufffd${Yn}\ufffd--\x3e`}}const cn=[];Ke.push(cn),W=e_(cn,r,re,o,c,y,T.cases[ct],Gt.join(""),Xt)|W}W&&function ZE(t,r,o){t.push(r,1,o<<2|3)}(c,W,N),t.push({kind:3,index:N,cases:Ke,currentCaseLViewIndex:re.currentCaseLViewIndex})}function XE(t){const r=[],o=[];let c=1,y=0;const T=Ag(t=t.replace(Tg,function(N,W,re){return c="select"===re?0:1,y=parseInt(W.slice(1),10),""}));for(let N=0;N<T.length;){let W=T[N++].trim();1===c&&(W=W.replace(/\s*(?:=)?(\w+)\s*/,"$1")),W.length&&r.push(W);const re=Ag(T[N++]);r.length>o.length&&o.push(re)}return{type:c,mainBinding:y,cases:r,values:o}}function Ag(t){if(!t)return[];let r=0;const o=[],c=[],y=/[{}]/g;let T;for(y.lastIndex=0;T=y.exec(t);){const W=T.index;if("}"==T[0]){if(o.pop(),0==o.length){const re=t.substring(r,W);Tg.test(re)?c.push(XE(re)):c.push(re),r=W+1}}else{if(0==o.length){const re=t.substring(r,W);c.push(re),r=W+1}o.push("{")}}const N=t.substring(r);return c.push(N),c}function e_(t,r,o,c,y,T,N,W,re){const Ie=[],Ke=[],ct=[];o.cases.push(N),o.create.push(Ie),o.remove.push(Ke),o.update.push(ct);const Xt=Pp(nc()).getInertBodyElement(W),cn=Na(Xt)||Xt;return cn?t_(t,r,o,c,y,Ie,Ke,ct,cn,T,re,0):0}function t_(t,r,o,c,y,T,N,W,re,Ie,Ke,ct){let Gt=0,Xt=re.firstChild;for(;Xt;){const cn=xd(r,c,1,null);switch(Xt.nodeType){case Node.ELEMENT_NODE:const Dn=Xt,Pn=Dn.tagName.toLowerCase();if(Bp.hasOwnProperty(Pn)){Rg(T,Of,Pn,Ie,cn),r.data[cn]=Pn;const Mr=Dn.attributes;for(let Do=0;Do<Mr.length;Do++){const Ba=Mr.item(Do),Wf=Ba.name.toLowerCase();Ba.value.match(Lf)?Mh.hasOwnProperty(Wf)&&qu(W,Ba.value,cn,Ba.name,0,Wo[Wf]?Rh:null):Mg(T,cn,Ba)}const ds={kind:1,index:cn,children:[]};t.push(ds),Gt=t_(ds.children,r,o,c,y,T,N,W,Xt,cn,Ke,ct+1)|Gt,n_(N,cn,ct)}break;case Node.TEXT_NODE:const Yn=Xt.textContent||"",xn=Yn.match(Lf);Rg(T,null,xn?"":Yn,Ie,cn),n_(N,cn,ct),xn&&(Gt=qu(W,Yn,cn,null,0,null)|Gt),t.push({kind:0,index:cn});break;case Node.COMMENT_NODE:const Li=$E.exec(Xt.textContent||"");if(Li){const ds=Ke[parseInt(Li[1],10)];Rg(T,Ff,"",Ie,cn),qy(t,r,c,y,Ie,ds,cn),JE(N,cn,ct)}}Xt=Xt.nextSibling}return Gt}function n_(t,r,o){0===o&&t.push(r)}function JE(t,r,o){0===o&&(t.push(~r),t.push(r))}function Rg(t,r,o,c,y){null!==r&&t.push(r),t.push(o,y,function OE(t,r,o){return t|r<<17|o<<1}(0,c,y))}function Mg(t,r,o){t.push(r<<1|1,o.name,o.value)}function i_(t,r,o=-1){const c=ki(),y=Zt(),T=Di+t,N=dl(c.consts,r),W=cd();c.firstCreatePass&&function KE(t,r,o,c,y,T){const N=cd(),W=[],re=[],Ie=[[]],Ke=[[]];y=function YE(t,r){if(function zE(t){return-1===t}(r))return Zy(t);{const o=t.indexOf(`:${r}${Zu}`)+2+r.toString().length,c=t.search(new RegExp(`${Zu}\\/\\*\\d+:${r}${Zu}`));return Zy(t.substring(o,c))}}(y,T);const ct=function Yy(t){return t.replace(WE," ")}(y).split(HE);for(let Gt=0;Gt<ct.length;Gt++){let Xt=ct[Gt];if(1&Gt){const cn=47===Xt.charCodeAt(0),Dn=Xt.charCodeAt(cn?1:0),Pn=Di+Number.parseInt(Xt.substring(cn?2:1));if(cn)Ie.shift(),Ke.shift(),hl(cd(),!1);else{const Yn=NE(t,Ie[0],Pn);Ie.unshift([]),hl(Yn,!0);const xn={kind:2,index:Pn,children:[],type:35===Dn?0:1};Ke[0].push(xn),Ke.unshift(xn.children)}}else{const cn=Ag(Xt);for(let Dn=0;Dn<cn.length;Dn++){let Pn=cn[Dn];if(1&Dn){const Yn=Pn;if("object"!=typeof Yn)throw new Error(`Unable to parse ICU expression in "${y}" message.`);const Li=Xy(t,N,Ie[0],o,W,"",!0).index;qy(Ke[0],t,o,re,r,Yn,Li)}else""!==Pn&&Ig(Ke[0],t,N,Ie[0],W,re,o,Pn)}}}t.data[c]={create:W,update:re,ast:Ke[0]}}(c,null===W?0:W.index,y,T,N,o),2===c.type?y[Dr][pe]|=32:y[pe]|=32;const re=c.data[T],Ke=v0(c,W===y[xt]?null:W,y);(function BE(t,r,o,c){const y=t[jn];for(let T=0;T<r.length;T++){const N=r[T++],Ie=(N&ca.APPEND_EAGERLY)===ca.APPEND_EAGERLY,Ke=N>>>ca.SHIFT;let ct=t[Ke],Gt=!1;null===ct&&(ct=t[Ke]=Qu(t,Ke,r[T],(N&ca.COMMENT)===ca.COMMENT?Node.COMMENT_NODE:Node.TEXT_NODE),Gt=ud()),Ie&&null!==o&&Gt&&Cc(y,o,ct,c,!1)}})(y,re.create,Ke,W&&8&W.type?y[W.index]:null),r1(!0)}function s_(t,r,o){i_(t,r,o),function r_(){r1(!1)}()}function kg(t,r,o,c){const y=Zt(),T=ki(),N=Cr();return Ng(T,y,y[jn],N,t,r,c),kg}function Ng(t,r,o,c,y,T,N){const W=na(c),Ie=t.firstCreatePass&&V0(t),Ke=r[sn],ct=kd(r);let Gt=!0;if(3&c.type||N){const Dn=Go(c,r),Pn=N?N(Dn):Dn,Yn=ct.length,xn=N?Mr=>N(br(Mr[c.index])):c.index;let Li=null;if(!N&&W&&(Li=function uT(t,r,o,c){const y=t.cleanup;if(null!=y)for(let T=0;T<y.length-1;T+=2){const N=y[T];if(N===o&&y[T+1]===c){const W=r[qt],re=y[T+2];return W.length>re?W[re]:null}"string"==typeof N&&(T+=2)}return null}(t,r,y,c.index)),null!==Li)(Li.__ngLastListenerFn__||Li).__ngNextListenerFn__=T,Li.__ngLastListenerFn__=T,Gt=!1;else{T=c_(c,r,Ke,T,!1);const Mr=o.listen(Pn,y,T);ct.push(T,Mr),Ie&&Ie.push(y,xn,Yn,Yn+1)}}else T=c_(c,r,Ke,T,!1);const Xt=c.outputs;let cn;if(Gt&&null!==Xt&&(cn=Xt[y])){const Dn=cn.length;if(Dn)for(let Pn=0;Pn<Dn;Pn+=2){const ds=r[cn[Pn]][cn[Pn+1]].subscribe(T),Do=ct.length;ct.push(T,ds),Ie&&Ie.push(y,c.index,Do,-(Do+1))}}}function l_(t,r,o,c){const y=f(null);try{return $o(6,r,o),!1!==o(c)}catch(T){return So(t,T),!1}finally{$o(7,r,o),f(y)}}function c_(t,r,o,c,y){return function T(N){if(N===Function)return c;Sc(t.componentOffset>-1?pa(t.index,r):r);let re=l_(r,o,c,N),Ie=T.__ngNextListenerFn__;for(;Ie;)re=l_(r,o,Ie,N)&&re,Ie=Ie.__ngNextListenerFn__;return y&&!1===re&&N.preventDefault(),re}}function u_(t=1){return function Cb(t){return(Fi.lFrame.contextLView=function Zg(t,r){for(;t>0;)r=r[jr],t--;return r}(t,Fi.lFrame.contextLView))[sn]}(t)}function dT(t,r){let o=null;const c=function wt(t){const r=t.attrs;if(null!=r){const o=r.indexOf(5);if(!(1&o))return r[o+1]}return null}(t);for(let y=0;y<r.length;y++){const T=r[y];if("*"!==T){if(null===c?Xe(t,T,!0):bt(c,T))return y}else o=y}return o}function d_(t){const r=Zt()[Dr][xt];if(!r.projection){const c=r.projection=function eo(t,r){const o=[];for(let c=0;c<t;c++)o.push(r);return o}(t?t.length:1,null),y=c.slice();let T=r.child;for(;null!==T;){const N=t?dT(T,t):0;null!==N&&(y[N]?y[N].projectionNext=T:c[N]=T,y[N]=T),T=T.next}}}function h_(t,r=0,o){const c=Zt(),y=ki(),T=hu(y,Di+t,16,null,o||null);null===T.projection&&(T.projection=r),qf(),(!c[Vt]||jc())&&32&~T.flags&&function PC(t,r,o){I0(r[jn],0,r,o,im(t,o,r),b0(o.parent||r[xt],o,r))}(y,c,T)}function Og(t,r,o){return Uf(t,"",r,"",o),Og}function Uf(t,r,o,c,y){const T=Zt(),N=ju(T,r,o,c);return N!==Wi&&aa(ki(),us(),T,t,N,T[jn],y,!1),Uf}function Fg(t,r,o,c,y,T,N){const W=Zt(),re=To(W,r,o,c,y,T);return re!==Wi&&aa(ki(),us(),W,t,re,W[jn],N,!1),Fg}function y_(t,r,o,c){!function df(t,r,o,c){const y=ki();if(y.firstCreatePass){const T=Cr();Kw(y,new Hw(r,o,c),T.index),function _v(t,r){const o=t.contentQueries||(t.contentQueries=[]);r!==(o.length?o[o.length-1]:-1)&&o.push(t.queries.length-1,r)}(y,t),!(2&~o)&&(y.staticContentQueries=!0)}return xm(y,Zt(),o)}(t,r,o,c)}function __(t,r,o){!function Ww(t,r,o){const c=ki();return c.firstCreatePass&&(Kw(c,new Hw(t,r,o),-1),!(2&~r)&&(c.staticViewQueries=!0)),xm(c,Zt(),r)}(t,r,o)}function b_(t){const r=Zt(),o=ki(),c=np();ah(c+1);const y=km(o,c);if(t.dirty&&function cb(t){return!(4&~t[pe])}(r)===!(2&~y.metadata.flags)){if(null===y.matches)t.reset([]);else{const T=bv(r,c);t.reset(T,fp),t.notifyOnChanges()}return!0}return!1}function C_(){return function yv(t,r){return t[cs].queries[r].queryList}(Zt(),np())}function S_(t){return Vc(function gb(){return Fi.lFrame.contextLView}(),Di+t)}function O_(t,r=""){const o=Zt(),c=ki(),y=t+Di,T=c.firstCreatePass?hu(c,y,1,r,null):c.data[y],N=F_(c,o,T,r,t);o[y]=N,ud()&&$h(c,o,N,T),hl(T,!1)}let F_=(t,r,o,c,y)=>(fo(!0),qp(r[jn],c));function Bg(t){return jf("",t,""),Bg}function jf(t,r,o){const c=Zt(),y=ju(c,t,r,o);return y!==Wi&&Vl(c,bo(),y),jf}function Lg(t,r,o,c,y){const T=Zt(),N=To(T,t,r,o,c,y);return N!==Wi&&Vl(T,bo(),N),Lg}function Vg(t,r,o){Yw(r)&&(r=r());const c=Zt();return Xs(c,za(),r)&&aa(ki(),us(),c,t,r,c[jn],o,!1),Vg}function $_(t,r){const o=Yw(t);return o&&t.set(r),o}function jg(t,r){const o=Zt(),c=ki(),y=Cr();return Ng(c,o,o[jn],y,t,r),jg}function $g(t,r,o,c,y){if(t=lt(t),Array.isArray(t))for(let T=0;T<t.length;T++)$g(t[T],r,o,c,y);else{const T=ki(),N=Zt(),W=Cr();let re=Lo(t)?t:lt(t.provide);const Ie=yo(t),Ke=1048575&W.providerIndexes,ct=W.directiveStart,Gt=W.providerIndexes>>20;if(Lo(t)||!t.multi){const Xt=new hd(Ie,y,du),cn=Hg(re,r,y?Ke:Ke+Gt,ct);-1===cn?(pd(zc(W,N),T,re),Gg(T,t,r.length),r.push(re),W.directiveStart++,W.directiveEnd++,y&&(W.providerIndexes+=1048576),o.push(Xt),N.push(Xt)):(o[cn]=Xt,N[cn]=Xt)}else{const Xt=Hg(re,r,Ke+Gt,ct),cn=Hg(re,r,Ke,Ke+Gt),Pn=cn>=0&&o[cn];if(y&&!Pn||!y&&!(Xt>=0&&o[Xt])){pd(zc(W,N),T,re);const Yn=function a(t,r,o,c,y){const T=new hd(t,o,du);return T.multi=[],T.index=r,T.componentProviders=0,G_(T,y,c&&!o),T}(y?p:s,o.length,y,c,Ie);!y&&Pn&&(o[cn].providerFactory=Yn),Gg(T,t,r.length,0),r.push(re),W.directiveStart++,W.directiveEnd++,y&&(W.providerIndexes+=1048576),o.push(Yn),N.push(Yn)}else Gg(T,t,Xt>-1?Xt:cn,G_(o[y?cn:Xt],Ie,!y&&c));!y&&c&&Pn&&o[cn].componentProviders++}}}function Gg(t,r,o,c){const y=Lo(r),T=function vo(t){return!!t.useClass}(r);if(y||T){const re=(T?lt(r.useClass):r).prototype.ngOnDestroy;if(re){const Ie=t.destroyHooks||(t.destroyHooks=[]);if(!y&&r.multi){const Ke=Ie.indexOf(o);-1===Ke?Ie.push(o,[c,re]):Ie[Ke+1].push(c,re)}else Ie.push(o,re)}}}function G_(t,r,o){return o&&t.componentProviders++,t.multi.push(r)-1}function Hg(t,r,o,c){for(let y=o;y<c;y++)if(r[y]===t)return y;return-1}function s(t,r,o,c){return i(this.multi,[])}function p(t,r,o,c){const y=this.multi;let T;if(this.providerFactory){const N=this.providerFactory.componentProviders,W=lr(o,o[P],this.providerFactory.index,c);T=W.slice(0,N),i(y,T);for(let re=N;re<W.length;re++)T.push(W[re])}else T=[],i(y,T);return T}function i(t,r){for(let o=0;o<t.length;o++)r.push((0,t[o])());return r}function l(t,r=[]){return o=>{o.providersResolver=(c,y)=>function TT(t,r,o){const c=ki();if(c.firstCreatePass){const y=ro(t);$g(o,c.data,c.blueprint,y,!0),$g(r,c.data,c.blueprint,y,!1)}}(c,y?y(t):t,r)}}let D=(()=>{class t{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o)){const c=Os(0,o.type),y=c.length>0?Lv([c],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o,y)}return this.cachedInjectors.get(o)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=ni({token:t,providedIn:"environment",factory:()=>new t(er(Ir))})}}return t})();function Q(t){bl("NgStandalone"),t.getStandaloneInjector=r=>r.get(D).getOrCreateStandaloneInjector(t)}function ln(t,r,o){const c=_o()+t,y=Zt();return y[c]===Wi?jl(y,c,o?r.call(o):r()):gf(y,c)}function wn(t,r,o,c){return Xi(Zt(),_o(),t,r,o,c)}function En(t,r,o,c,y){return Zi(Zt(),_o(),t,r,o,c,y)}function Fn(t,r,o,c,y,T){return qi(Zt(),_o(),t,r,o,c,y,T)}function On(t,r,o,c,y,T,N){return function ts(t,r,o,c,y,T,N,W,re){const Ie=r+o;return qa(t,Ie,y,T,N,W)?jl(t,Ie+4,re?c.call(re,y,T,N,W):c(y,T,N,W)):Ki(t,Ie+4)}(Zt(),_o(),t,r,o,c,y,T,N)}function oi(t,r,o,c,y,T,N,W){const re=_o()+t,Ie=Zt(),Ke=qa(Ie,re,o,c,y,T);return Xs(Ie,re+4,N)||Ke?jl(Ie,re+5,W?r.call(W,o,c,y,T,N):r(o,c,y,T,N)):gf(Ie,re+5)}function bi(t,r,o,c,y,T,N,W,re){const Ie=_o()+t,Ke=Zt(),ct=qa(Ke,Ie,o,c,y,T);return ku(Ke,Ie+4,N,W)||ct?jl(Ke,Ie+6,re?r.call(re,o,c,y,T,N,W):r(o,c,y,T,N,W)):gf(Ke,Ie+6)}function Ki(t,r){const o=t[r];return o===Wi?void 0:o}function Xi(t,r,o,c,y,T){const N=r+o;return Xs(t,N,y)?jl(t,N+1,T?c.call(T,y):c(y)):Ki(t,N+1)}function Zi(t,r,o,c,y,T,N){const W=r+o;return ku(t,W,y,T)?jl(t,W+2,N?c.call(N,y,T):c(y,T)):Ki(t,W+2)}function qi(t,r,o,c,y,T,N,W){const re=r+o;return function Yd(t,r,o,c,y){const T=ku(t,r,o,c);return Xs(t,r+2,y)||T}(t,re,y,T,N)?jl(t,re+3,W?c.call(W,y,T,N):c(y,T,N)):Ki(t,re+3)}function Zs(t,r){const o=ki();let c;const y=t+Di;o.firstCreatePass?(c=function ao(t,r){if(r)for(let o=r.length-1;o>=0;o--){const c=r[o];if(t===c.name)return c}}(r,o.pipeRegistry),o.data[y]=c,c.onDestroy&&(o.destroyHooks??=[]).push(y,c.onDestroy)):c=o.data[y];const T=c.factory||(c.factory=Qr(c.type)),W=wr(du);try{const re=uh(!1),Ie=T();return uh(re),function pT(t,r,o,c){o>=t.data.length&&(t.data[o]=null,t.blueprint[o]=null),r[o]=c}(o,Zt(),y,Ie),Ie}finally{wr(W)}}function rl(t,r,o){const c=t+Di,y=Zt(),T=Vc(y,c);return is(y,c)?Xi(y,_o(),r,T.transform,o,T):T.transform(o)}function qn(t,r,o,c){const y=t+Di,T=Zt(),N=Vc(T,y);return is(T,y)?Zi(T,_o(),r,N.transform,o,c,N):N.transform(o,c)}function hi(t,r,o,c,y){const T=t+Di,N=Zt(),W=Vc(N,T);return is(N,T)?qi(N,_o(),r,W.transform,o,c,y,W):W.transform(o,c,y)}function is(t,r){return t[P].data[r].pure}function Ko(t,r){return Bd(t,r)}class $D{constructor(r){this.full=r;const o=r.split(".");this.major=o[0],this.minor=o[1],this.patch=o.slice(2).join(".")}}let GD=(()=>{class t{log(o){console.log(o)}warn(o){console.warn(o)}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=ni({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();const YD=new Qt(""),XD=new Qt("");let MT,UA=(()=>{class t{constructor(o,c,y){this._ngZone=o,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,MT||(function VA(t){MT=t}(y),y.addToWindow(c)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ps.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb()}});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(o)||(clearTimeout(c.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,c,y){let T=-1;c&&c>0&&(T=setTimeout(()=>{this._callbacks=this._callbacks.filter(N=>N.timeoutId!==T),o()},c)),this._callbacks.push({doneCb:o,timeoutId:T,updateCb:y})}whenStable(o,c,y){if(y&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,c,y),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,c,y){return[]}static{this.\u0275fac=function(c){return new(c||t)(er(Ps),er(JD),er(XD))}}static{this.\u0275prov=ni({token:t,factory:t.\u0275fac})}}return t})(),JD=(()=>{class t{constructor(){this._applications=new Map}registerApplication(o,c){this._applications.set(o,c)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,c=!0){return MT?.findTestabilityInTree(this,o,c)??null}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=ni({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();function xT(t){return!!t&&"function"==typeof t.then}function QD(t){return!!t&&"function"==typeof t.subscribe}const ZD=new Qt("");let kT=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((o,c)=>{this.resolve=o,this.reject=c}),this.appInits=Wn(ZD,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const o=[];for(const y of this.appInits){const T=y();if(xT(T))o.push(T);else if(QD(T)){const N=new Promise((W,re)=>{T.subscribe({complete:W,error:re})});o.push(N)}}const c=()=>{this.done=!0,this.resolve()};Promise.all(o).then(()=>{c()}).catch(y=>{this.reject(y)}),0===o.length&&c(),this.initialized=!0}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=ni({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const NT=new Qt("");function t2(t,r){return Array.isArray(r)?r.reduce(t2,t):{...t,...r}}let ed=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Wn(b1),this.afterRenderEffectManager=Wn(nf),this.externalTestViews=new Set,this.beforeRender=new X.B,this.afterTick=new X.B,this.componentTypes=[],this.components=[],this.isStable=Wn(zd).hasPendingTasks.pipe((0,Se.T)(o=>!o)),this._injector=Wn(Ir)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,c){const y=o instanceof Cm;if(!this._injector.get(kT).done)throw!y&&Ds(o),new je(405,!1);let N;N=y?o:this._injector.get(bu).resolveComponentFactory(o),this.componentTypes.push(N.componentType);const W=function jA(t){return t.isBoundToModule}(N)?void 0:this._injector.get(xu),Ie=N.create(xa.NULL,[],c||N.selector,W),Ke=Ie.location.nativeElement,ct=Ie.injector.get(YD,null);return ct?.registerApplication(Ke),Ie.onDestroy(()=>{this.detachView(Ie.hostView),Z_(this.components,Ie),ct?.unregisterApplication(Ke)}),this._loadComponent(Ie),Ie}tick(){this._tick(!0)}_tick(o){if(this._runningTick)throw new je(101,!1);const c=f(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(o)}catch(y){this.internalErrorHandler(y)}finally{this.afterTick.next(),this._runningTick=!1,f(c)}}detectChangesInAttachedViews(o){let c=0;const y=this.afterRenderEffectManager;for(;;){if(c===cw)throw new je(103,!1);if(o){const T=0===c;this.beforeRender.next(T);for(let{_lView:N,notifyErrorHandler:W}of this._views)GA(N,T,W)}if(c++,y.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:T})=>OT(T))&&(y.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:T})=>OT(T))))break}}attachView(o){const c=o;this._views.push(c),c.attachToAppRef(this)}detachView(o){const c=o;Z_(this._views,c),c.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const c=this._injector.get(NT,[]);[...this._bootstrapListeners,...c].forEach(y=>y(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>Z_(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new je(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=ni({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Z_(t,r){const o=t.indexOf(r);o>-1&&t.splice(o,1)}function GA(t,r,o){!r&&!OT(t)||function HA(t,r,o){let c;o?(c=0,t[pe]|=1024):c=64&t[pe]?0:1,zh(t,r,c)}(t,o,r)}function OT(t){return Xf(t)}class WA{constructor(r,o){this.ngModuleFactory=r,this.componentFactories=o}}let KA=(()=>{class t{compileModuleSync(o){return new mf(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const c=this.compileModuleSync(o),T=oa(Tr(o).declarations).reduce((N,W)=>{const re=xi(W);return re&&N.push(new Hd(re)),N},[]);return new WA(c,T)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=ni({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),XA=(()=>{class t{constructor(){this.zone=Wn(Ps),this.applicationRef=Wn(ed)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=ni({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function JA(){const t=Wn(Ps),r=Wn(Nl);return o=>t.runOutsideAngular(()=>r.handleError(o))}let ZA=(()=>{class t{constructor(){this.subscription=new Y.yU,this.initialized=!1,this.zone=Wn(Ps),this.pendingTasks=Wn(zd)}initialize(){if(this.initialized)return;this.initialized=!0;let o=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(o=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ps.assertNotInAngularZone(),queueMicrotask(()=>{null!==o&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(o),o=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ps.assertInAngularZone(),o??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=ni({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const eb=new Qt("",{providedIn:"root",factory:()=>Wn(eb,vi.Optional|vi.SkipSelf)||function qA(){return typeof $localize<"u"&&$localize.locale||Xu}()}),eR=new Qt("",{providedIn:"root",factory:()=>"USD"}),FT=new Qt("");let o2=(()=>{class t{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,c){const y=function VI(t="zone.js",r){return"noop"===t?new sv:"zone.js"===t?new Ps(r):t}(c?.ngZone,function s2(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:c?.ngZoneEventCoalescing,runCoalescing:c?.ngZoneRunCoalescing}));return y.run(()=>{const T=function dS(t,r,o){return new Pv(t,r,o)}(o.moduleType,this.injector,function r2(t){return[{provide:Ps,useFactory:t},{provide:Hr,multi:!0,useFactory:()=>{const r=Wn(XA,{optional:!0});return()=>r.initialize()}},{provide:Hr,multi:!0,useFactory:()=>{const r=Wn(ZA);return()=>{r.initialize()}}},{provide:b1,useFactory:JA}]}(()=>y)),N=T.injector.get(Nl,null);return y.runOutsideAngular(()=>{const W=y.onError.subscribe({next:re=>{N.handleError(re)}});T.onDestroy(()=>{Z_(this._modules,T),W.unsubscribe()})}),function e2(t,r,o){try{const c=o();return xT(c)?c.catch(y=>{throw r.runOutsideAngular(()=>t.handleError(y)),y}):c}catch(c){throw r.runOutsideAngular(()=>t.handleError(c)),c}}(N,y,()=>{const W=T.injector.get(kT);return W.runInitializers(),W.donePromise.then(()=>(function Pf(t){"string"==typeof t&&(Fy=t.toLowerCase().replace(/_/g,"-"))}(T.injector.get(eb,Xu)||Xu),this._moduleDoBootstrap(T),T))})})}bootstrapModule(o,c=[]){const y=t2({},c);return function YA(t,r,o){const c=new mf(o);return Promise.resolve(c)}(0,0,o).then(T=>this.bootstrapModuleFactory(T,y))}_moduleDoBootstrap(o){const c=o.injector.get(ed);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(y=>c.bootstrap(y));else{if(!o.instance.ngDoBootstrap)throw new je(-403,!1);o.instance.ngDoBootstrap(c)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new je(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const o=this._injector.get(FT,null);o&&(o.forEach(c=>c()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(c){return new(c||t)(er(xa))}}static{this.\u0275prov=ni({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})(),td=null;const a2=new Qt("");function l2(t,r,o=[]){const c=`Platform: ${r}`,y=new Qt(c);return(T=[])=>{let N=PT();if(!N||N.injector.get(a2,!1)){const W=[...o,...T,{provide:y,useValue:!0}];t?t(W):function nR(t){if(td&&!td.get(a2,!1))throw new je(400,!1);(function qD(){!function Te(t){ke=t}(()=>{throw new je(600,!1)})})(),td=t;const r=t.get(o2);(function u2(t){t.get(U1,null)?.forEach(o=>o())})(t)}(function c2(t=[],r){return xa.create({name:r,providers:[{provide:Ua,useValue:"platform"},{provide:FT,useValue:new Set([()=>td=null])},...t]})}(W,c))}return function iR(t){const r=PT();if(!r)throw new je(401,!1);return r}()}}function PT(){return td?.get(o2)??null}function sR(){return!1}function oR(){}let h2=(()=>{class t{static{this.__NG_ELEMENT_ID__=aR}}return t})();function aR(t){return function lR(t,r,o){if(ta(t)&&!o){const c=pa(t.index,r);return new Yh(c,c)}return 47&t.type?new Yh(r[Dr],r):null}(Cr(),Zt(),!(16&~t))}class g2{constructor(){}supports(r){return Wm(r)}create(r){return new fR(r)}}const hR=(t,r)=>r;class fR{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||hR}forEachItem(r){let o;for(o=this._itHead;null!==o;o=o._next)r(o)}forEachOperation(r){let o=this._itHead,c=this._removalsHead,y=0,T=null;for(;o||c;){const N=!c||o&&o.currentIndex<y2(c,y,T)?o:c,W=y2(N,y,T),re=N.currentIndex;if(N===c)y--,c=c._nextRemoved;else if(o=o._next,null==N.previousIndex)y++;else{T||(T=[]);const Ie=W-y,Ke=re-y;if(Ie!=Ke){for(let Gt=0;Gt<Ie;Gt++){const Xt=Gt<T.length?T[Gt]:T[Gt]=0,cn=Xt+Gt;Ke<=cn&&cn<Ie&&(T[Gt]=Xt+1)}T[N.previousIndex]=Ke-Ie}}W!==re&&r(N,W,re)}}forEachPreviousItem(r){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachMovedItem(r){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}forEachIdentityChange(r){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)r(o)}diff(r){if(null==r&&(r=[]),!Wm(r))throw new je(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let y,T,N,o=this._itHead,c=!1;if(Array.isArray(r)){this.length=r.length;for(let W=0;W<this.length;W++)T=r[W],N=this._trackByFn(W,T),null!==o&&Object.is(o.trackById,N)?(c&&(o=this._verifyReinsertion(o,T,N,W)),Object.is(o.item,T)||this._addIdentityChange(o,T)):(o=this._mismatch(o,T,N,W),c=!0),o=o._next}else y=0,function pD(t,r){if(Array.isArray(t))for(let o=0;o<t.length;o++)r(t[o]);else{const o=t[Symbol.iterator]();let c;for(;!(c=o.next()).done;)r(c.value)}}(r,W=>{N=this._trackByFn(y,W),null!==o&&Object.is(o.trackById,N)?(c&&(o=this._verifyReinsertion(o,W,N,y)),Object.is(o.item,W)||this._addIdentityChange(o,W)):(o=this._mismatch(o,W,N,y),c=!0),o=o._next,y++}),this.length=y;return this._truncate(o),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,o,c,y){let T;return null===r?T=this._itTail:(T=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._reinsertAfter(r,T,y)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(c,y))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._moveAfter(r,T,y)):r=this._addAfter(new pR(o,c),T,y),r}_verifyReinsertion(r,o,c,y){let T=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==T?r=this._reinsertAfter(T,r._prev,y):r.currentIndex!=y&&(r.currentIndex=y,this._addToMoves(r,y)),r}_truncate(r){for(;null!==r;){const o=r._next;this._addToRemovals(this._unlink(r)),r=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,o,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const y=r._prevRemoved,T=r._nextRemoved;return null===y?this._removalsHead=T:y._nextRemoved=T,null===T?this._removalsTail=y:T._prevRemoved=y,this._insertAfter(r,o,c),this._addToMoves(r,c),r}_moveAfter(r,o,c){return this._unlink(r),this._insertAfter(r,o,c),this._addToMoves(r,c),r}_addAfter(r,o,c){return this._insertAfter(r,o,c),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,o,c){const y=null===o?this._itHead:o._next;return r._next=y,r._prev=o,null===y?this._itTail=r:y._prev=r,null===o?this._itHead=r:o._next=r,null===this._linkedRecords&&(this._linkedRecords=new v2),this._linkedRecords.put(r),r.currentIndex=c,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const o=r._prev,c=r._next;return null===o?this._itHead=c:o._next=c,null===c?this._itTail=o:c._prev=o,r}_addToMoves(r,o){return r.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new v2),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,o){return r.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class pR{constructor(r,o){this.item=r,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class mR{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,o){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===o||o<=c.currentIndex)&&Object.is(c.trackById,r))return c;return null}remove(r){const o=r._prevDup,c=r._nextDup;return null===o?this._head=c:o._nextDup=c,null===c?this._tail=o:c._prevDup=o,null===this._head}}class v2{constructor(){this.map=new Map}put(r){const o=r.trackById;let c=this.map.get(o);c||(c=new mR,this.map.set(o,c)),c.add(r)}get(r,o){const y=this.map.get(r);return y?y.get(r,o):null}remove(r){const o=r.trackById;return this.map.get(o).remove(r)&&this.map.delete(o),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function y2(t,r,o){const c=t.previousIndex;if(null===c)return c;let y=0;return o&&c<o.length&&(y=o[c]),c+r+y}class _2{constructor(){}supports(r){return r instanceof Map||Uv(r)}create(){return new gR}}class gR{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let o;for(o=this._mapHead;null!==o;o=o._next)r(o)}forEachPreviousItem(r){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)r(o)}forEachChangedItem(r){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}diff(r){if(r){if(!(r instanceof Map||Uv(r)))throw new je(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(r,(c,y)=>{if(o&&o.key===y)this._maybeAddToChanges(o,c),this._appendAfter=o,o=o._next;else{const T=this._getOrCreateRecordForKey(y,c);o=this._insertBeforeOrAppend(o,T)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let c=o;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,o){if(r){const c=r._prev;return o._next=r,o._prev=c,r._prev=o,c&&(c._next=o),r===this._mapHead&&(this._mapHead=o),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(r,o){if(this._records.has(r)){const y=this._records.get(r);this._maybeAddToChanges(y,o);const T=y._prev,N=y._next;return T&&(T._next=N),N&&(N._prev=T),y._next=null,y._prev=null,y}const c=new vR(r);return this._records.set(r,c),c.currentValue=o,this._addToAdditions(c),c}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,o){Object.is(o,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=o,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,o){r instanceof Map?r.forEach(o):Object.keys(r).forEach(c=>o(r[c],c))}}class vR{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function b2(){return new jT([new g2])}let jT=(()=>{class t{static{this.\u0275prov=ni({token:t,providedIn:"root",factory:b2})}constructor(o){this.factories=o}static create(o,c){if(null!=c){const y=c.factories.slice();o=o.concat(y)}return new t(o)}static extend(o){return{provide:t,useFactory:c=>t.create(o,c||b2()),deps:[[t,new os,new yr]]}}find(o){const c=this.factories.find(y=>y.supports(o));if(null!=c)return c;throw new je(901,!1)}}return t})();function C2(){return new $T([new _2])}let $T=(()=>{class t{static{this.\u0275prov=ni({token:t,providedIn:"root",factory:C2})}constructor(o){this.factories=o}static create(o,c){if(c){const y=c.factories.slice();o=o.concat(y)}return new t(o)}static extend(o){return{provide:t,useFactory:c=>t.create(o,c||C2()),deps:[[t,new os,new yr]]}}find(o){const c=this.factories.find(y=>y.supports(o));if(c)return c;throw new je(901,!1)}}return t})();const bR=l2(null,"core",[]);let CR=(()=>{class t{constructor(o){}static{this.\u0275fac=function(c){return new(c||t)(er(ed))}}static{this.\u0275mod=Is({type:t})}static{this.\u0275inj=Xn({})}}return t})();function JR(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function ZR(t){const r=f(null);try{return t()}finally{f(r)}}function rM(t,r){const o=xi(t),c=r.elementInjector||_s();return new Hd(o).create(c,r.projectableNodes,r.hostElement,r.environmentInjector)}function sM(t){const r=xi(t);if(!r)return null;const o=new Hd(r);return{get selector(){return o.selector},get type(){return o.componentType},get inputs(){return o.inputs},get outputs(){return o.outputs},get ngContentSelectors(){return o.ngContentSelectors},get isStandalone(){return r.standalone},get isSignal(){return r.signals}}}},9417:(qe,me,u)=>{"use strict";u.d(me,{$R:()=>ai,BC:()=>at,Fm:()=>vi,JD:()=>Sr,Q0:()=>xr,VZ:()=>Qr,X1:()=>vs,YN:()=>gn,YS:()=>Zr,Zm:()=>m,cV:()=>ue,cb:()=>je,cz:()=>H,hs:()=>Et,j4:()=>Ni,k0:()=>U,kq:()=>d,l_:()=>gr,me:()=>R,ok:()=>Us,qT:()=>cr,tU:()=>Or,vO:()=>Y,vS:()=>ri,wz:()=>er,xH:()=>tr,xh:()=>Ao,y7:()=>qs,ze:()=>Ur});var n=u(4438),e=u(177),_=u(6648),g=u(7468),S=u(6354);let v=(()=>{class Fe{constructor(ge,et){this._renderer=ge,this._elementRef=et,this.onChange=Bt=>{},this.onTouched=()=>{}}setProperty(ge,et){this._renderer.setProperty(this._elementRef.nativeElement,ge,et)}registerOnTouched(ge){this.onTouched=ge}registerOnChange(ge){this.onChange=ge}setDisabledState(ge){this.setProperty("disabled",ge)}static{this.\u0275fac=function(et){return new(et||Fe)(n.rXU(n.sFG),n.rXU(n.aKT))}}static{this.\u0275dir=n.FsC({type:Fe})}}return Fe})(),f=(()=>{class Fe extends v{static{this.\u0275fac=(()=>{let ge;return function(Bt){return(ge||(ge=n.xGo(Fe)))(Bt||Fe)}})()}static{this.\u0275dir=n.FsC({type:Fe,features:[n.Vt3]})}}return Fe})();const d=new n.nKC(""),E={provide:d,useExisting:(0,n.Rfq)(()=>m),multi:!0};let m=(()=>{class Fe extends f{writeValue(ge){this.setProperty("checked",ge)}static{this.\u0275fac=(()=>{let ge;return function(Bt){return(ge||(ge=n.xGo(Fe)))(Bt||Fe)}})()}static{this.\u0275dir=n.FsC({type:Fe,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(et,Bt){1&et&&n.bIt("change",function(Ei){return Bt.onChange(Ei.target.checked)})("blur",function(){return Bt.onTouched()})},features:[n.Jv_([E]),n.Vt3]})}}return Fe})();const F={provide:d,useExisting:(0,n.Rfq)(()=>R),multi:!0},C=new n.nKC("");let R=(()=>{class Fe extends v{constructor(ge,et,Bt){super(ge,et),this._compositionMode=Bt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function w(){const Fe=(0,e.QT)()?(0,e.QT)().getUserAgent():"";return/android (\d+)/.test(Fe.toLowerCase())}())}writeValue(ge){this.setProperty("value",ge??"")}_handleInput(ge){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(ge)}_compositionStart(){this._composing=!0}_compositionEnd(ge){this._composing=!1,this._compositionMode&&this.onChange(ge)}static{this.\u0275fac=function(et){return new(et||Fe)(n.rXU(n.sFG),n.rXU(n.aKT),n.rXU(C,8))}}static{this.\u0275dir=n.FsC({type:Fe,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(et,Bt){1&et&&n.bIt("input",function(Ei){return Bt._handleInput(Ei.target.value)})("blur",function(){return Bt.onTouched()})("compositionstart",function(){return Bt._compositionStart()})("compositionend",function(Ei){return Bt._compositionEnd(Ei.target.value)})},features:[n.Jv_([F]),n.Vt3]})}}return Fe})();function x(Fe){return null==Fe||("string"==typeof Fe||Array.isArray(Fe))&&0===Fe.length}function O(Fe){return null!=Fe&&"number"==typeof Fe.length}const H=new n.nKC(""),M=new n.nKC(""),V=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class U{static min(Ge){return G(Ge)}static max(Ge){return function ie(Fe){return Ge=>{if(x(Ge.value)||x(Fe))return null;const ge=parseFloat(Ge.value);return!isNaN(ge)&&ge>Fe?{max:{max:Fe,actual:Ge.value}}:null}}(Ge)}static required(Ge){return le(Ge)}static requiredTrue(Ge){return function L(Fe){return!0===Fe.value?null:{required:!0}}(Ge)}static email(Ge){return function J(Fe){return x(Fe.value)||V.test(Fe.value)?null:{email:!0}}(Ge)}static minLength(Ge){return te(Ge)}static maxLength(Ge){return I(Ge)}static pattern(Ge){return function oe(Fe){if(!Fe)return z;let Ge,ge;return"string"==typeof Fe?(ge="","^"!==Fe.charAt(0)&&(ge+="^"),ge+=Fe,"$"!==Fe.charAt(Fe.length-1)&&(ge+="$"),Ge=new RegExp(ge)):(ge=Fe.toString(),Ge=Fe),et=>{if(x(et.value))return null;const Bt=et.value;return Ge.test(Bt)?null:{pattern:{requiredPattern:ge,actualValue:Bt}}}}(Ge)}static nullValidator(Ge){return null}static compose(Ge){return we(Ge)}static composeAsync(Ge){return Ve(Ge)}}function G(Fe){return Ge=>{if(x(Ge.value)||x(Fe))return null;const ge=parseFloat(Ge.value);return!isNaN(ge)&&ge<Fe?{min:{min:Fe,actual:Ge.value}}:null}}function le(Fe){return x(Fe.value)?{required:!0}:null}function te(Fe){return Ge=>x(Ge.value)||!O(Ge.value)?null:Ge.value.length<Fe?{minlength:{requiredLength:Fe,actualLength:Ge.value.length}}:null}function I(Fe){return Ge=>O(Ge.value)&&Ge.value.length>Fe?{maxlength:{requiredLength:Fe,actualLength:Ge.value.length}}:null}function z(Fe){return null}function _e(Fe){return null!=Fe}function Pe(Fe){return(0,n.jNT)(Fe)?(0,_.H)(Fe):Fe}function Re(Fe){let Ge={};return Fe.forEach(ge=>{Ge=null!=ge?{...Ge,...ge}:Ge}),0===Object.keys(Ge).length?null:Ge}function ke(Fe,Ge){return Ge.map(ge=>ge(Fe))}function Te(Fe){return Fe.map(Ge=>function Je(Fe){return!Fe.validate}(Ge)?Ge:ge=>Ge.validate(ge))}function we(Fe){if(!Fe)return null;const Ge=Fe.filter(_e);return 0==Ge.length?null:function(ge){return Re(ke(ge,Ge))}}function de(Fe){return null!=Fe?we(Te(Fe)):null}function Ve(Fe){if(!Fe)return null;const Ge=Fe.filter(_e);return 0==Ge.length?null:function(ge){const et=ke(ge,Ge).map(Pe);return(0,g.p)(et).pipe((0,S.T)(Re))}}function Ae(Fe){return null!=Fe?Ve(Te(Fe)):null}function rt(Fe,Ge){return null===Fe?[Ge]:Array.isArray(Fe)?[...Fe,Ge]:[Fe,Ge]}function Be(Fe){return Fe._rawValidators}function ht(Fe){return Fe._rawAsyncValidators}function Ye(Fe){return Fe?Array.isArray(Fe)?Fe:[Fe]:[]}function Yt(Fe,Ge){return Array.isArray(Fe)?Fe.includes(Ge):Fe===Ge}function Ut(Fe,Ge){const ge=Ye(Ge);return Ye(Fe).forEach(Bt=>{Yt(ge,Bt)||ge.push(Bt)}),ge}function Tt(Fe,Ge){return Ye(Ge).filter(ge=>!Yt(Fe,ge))}class _t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(Ge){this._rawValidators=Ge||[],this._composedValidatorFn=de(this._rawValidators)}_setAsyncValidators(Ge){this._rawAsyncValidators=Ge||[],this._composedAsyncValidatorFn=Ae(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(Ge){this._onDestroyCallbacks.push(Ge)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(Ge=>Ge()),this._onDestroyCallbacks=[]}reset(Ge=void 0){this.control&&this.control.reset(Ge)}hasError(Ge,ge){return!!this.control&&this.control.hasError(Ge,ge)}getError(Ge,ge){return this.control?this.control.getError(Ge,ge):null}}class X extends _t{get formDirective(){return null}get path(){return null}}class Y extends _t{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ee{constructor(Ge){this._cd=Ge}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let at=(()=>{class Fe extends ee{constructor(ge){super(ge)}static{this.\u0275fac=function(et){return new(et||Fe)(n.rXU(Y,2))}}static{this.\u0275dir=n.FsC({type:Fe,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(et,Bt){2&et&&n.AVh("ng-untouched",Bt.isUntouched)("ng-touched",Bt.isTouched)("ng-pristine",Bt.isPristine)("ng-dirty",Bt.isDirty)("ng-valid",Bt.isValid)("ng-invalid",Bt.isInvalid)("ng-pending",Bt.isPending)},features:[n.Vt3]})}}return Fe})(),je=(()=>{class Fe extends ee{constructor(ge){super(ge)}static{this.\u0275fac=function(et){return new(et||Fe)(n.rXU(X,10))}}static{this.\u0275dir=n.FsC({type:Fe,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(et,Bt){2&et&&n.AVh("ng-untouched",Bt.isUntouched)("ng-touched",Bt.isTouched)("ng-pristine",Bt.isPristine)("ng-dirty",Bt.isDirty)("ng-valid",Bt.isValid)("ng-invalid",Bt.isInvalid)("ng-pending",Bt.isPending)("ng-submitted",Bt.isSubmitted)},features:[n.Vt3]})}}return Fe})();const un="VALID",Mn="INVALID",kn="PENDING",Bn="DISABLED";function It(Fe){return(vt(Fe)?Fe.validators:Fe)||null}function Ht(Fe,Ge){return(vt(Ge)?Ge.asyncValidators:Fe)||null}function vt(Fe){return null!=Fe&&!Array.isArray(Fe)&&"object"==typeof Fe}function mt(Fe,Ge,ge){const et=Fe.controls;if(!(Ge?Object.keys(et):et).length)throw new n.wOt(1e3,"");if(!et[ge])throw new n.wOt(1001,"")}function kt(Fe,Ge,ge){Fe._forEachChild((et,Bt)=>{if(void 0===ge[Bt])throw new n.wOt(1002,"")})}class nn{constructor(Ge,ge){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(Ge),this._assignAsyncValidators(ge)}get validator(){return this._composedValidatorFn}set validator(Ge){this._rawValidators=this._composedValidatorFn=Ge}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(Ge){this._rawAsyncValidators=this._composedAsyncValidatorFn=Ge}get parent(){return this._parent}get valid(){return this.status===un}get invalid(){return this.status===Mn}get pending(){return this.status==kn}get disabled(){return this.status===Bn}get enabled(){return this.status!==Bn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(Ge){this._assignValidators(Ge)}setAsyncValidators(Ge){this._assignAsyncValidators(Ge)}addValidators(Ge){this.setValidators(Ut(Ge,this._rawValidators))}addAsyncValidators(Ge){this.setAsyncValidators(Ut(Ge,this._rawAsyncValidators))}removeValidators(Ge){this.setValidators(Tt(Ge,this._rawValidators))}removeAsyncValidators(Ge){this.setAsyncValidators(Tt(Ge,this._rawAsyncValidators))}hasValidator(Ge){return Yt(this._rawValidators,Ge)}hasAsyncValidator(Ge){return Yt(this._rawAsyncValidators,Ge)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(Ge={}){this.touched=!0,this._parent&&!Ge.onlySelf&&this._parent.markAsTouched(Ge)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(Ge=>Ge.markAllAsTouched())}markAsUntouched(Ge={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(ge=>{ge.markAsUntouched({onlySelf:!0})}),this._parent&&!Ge.onlySelf&&this._parent._updateTouched(Ge)}markAsDirty(Ge={}){this.pristine=!1,this._parent&&!Ge.onlySelf&&this._parent.markAsDirty(Ge)}markAsPristine(Ge={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(ge=>{ge.markAsPristine({onlySelf:!0})}),this._parent&&!Ge.onlySelf&&this._parent._updatePristine(Ge)}markAsPending(Ge={}){this.status=kn,!1!==Ge.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!Ge.onlySelf&&this._parent.markAsPending(Ge)}disable(Ge={}){const ge=this._parentMarkedDirty(Ge.onlySelf);this.status=Bn,this.errors=null,this._forEachChild(et=>{et.disable({...Ge,onlySelf:!0})}),this._updateValue(),!1!==Ge.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...Ge,skipPristineCheck:ge}),this._onDisabledChange.forEach(et=>et(!0))}enable(Ge={}){const ge=this._parentMarkedDirty(Ge.onlySelf);this.status=un,this._forEachChild(et=>{et.enable({...Ge,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:Ge.emitEvent}),this._updateAncestors({...Ge,skipPristineCheck:ge}),this._onDisabledChange.forEach(et=>et(!1))}_updateAncestors(Ge){this._parent&&!Ge.onlySelf&&(this._parent.updateValueAndValidity(Ge),Ge.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(Ge){this._parent=Ge}getRawValue(){return this.value}updateValueAndValidity(Ge={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===un||this.status===kn)&&this._runAsyncValidator(Ge.emitEvent)),!1!==Ge.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!Ge.onlySelf&&this._parent.updateValueAndValidity(Ge)}_updateTreeValidity(Ge={emitEvent:!0}){this._forEachChild(ge=>ge._updateTreeValidity(Ge)),this.updateValueAndValidity({onlySelf:!0,emitEvent:Ge.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Bn:un}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(Ge){if(this.asyncValidator){this.status=kn,this._hasOwnPendingAsyncValidator=!0;const ge=Pe(this.asyncValidator(this));this._asyncValidationSubscription=ge.subscribe(et=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(et,{emitEvent:Ge})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(Ge,ge={}){this.errors=Ge,this._updateControlsErrors(!1!==ge.emitEvent)}get(Ge){let ge=Ge;return null==ge||(Array.isArray(ge)||(ge=ge.split(".")),0===ge.length)?null:ge.reduce((et,Bt)=>et&&et._find(Bt),this)}getError(Ge,ge){const et=ge?this.get(ge):this;return et&&et.errors?et.errors[Ge]:null}hasError(Ge,ge){return!!this.getError(Ge,ge)}get root(){let Ge=this;for(;Ge._parent;)Ge=Ge._parent;return Ge}_updateControlsErrors(Ge){this.status=this._calculateStatus(),Ge&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(Ge)}_initObservables(){this.valueChanges=new n.bkB,this.statusChanges=new n.bkB}_calculateStatus(){return this._allControlsDisabled()?Bn:this.errors?Mn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(kn)?kn:this._anyControlsHaveStatus(Mn)?Mn:un}_anyControlsHaveStatus(Ge){return this._anyControls(ge=>ge.status===Ge)}_anyControlsDirty(){return this._anyControls(Ge=>Ge.dirty)}_anyControlsTouched(){return this._anyControls(Ge=>Ge.touched)}_updatePristine(Ge={}){this.pristine=!this._anyControlsDirty(),this._parent&&!Ge.onlySelf&&this._parent._updatePristine(Ge)}_updateTouched(Ge={}){this.touched=this._anyControlsTouched(),this._parent&&!Ge.onlySelf&&this._parent._updateTouched(Ge)}_registerOnCollectionChange(Ge){this._onCollectionChange=Ge}_setUpdateStrategy(Ge){vt(Ge)&&null!=Ge.updateOn&&(this._updateOn=Ge.updateOn)}_parentMarkedDirty(Ge){return!Ge&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(Ge){return null}_assignValidators(Ge){this._rawValidators=Array.isArray(Ge)?Ge.slice():Ge,this._composedValidatorFn=function Rn(Fe){return Array.isArray(Fe)?de(Fe):Fe||null}(this._rawValidators)}_assignAsyncValidators(Ge){this._rawAsyncValidators=Array.isArray(Ge)?Ge.slice():Ge,this._composedAsyncValidatorFn=function lt(Fe){return Array.isArray(Fe)?Ae(Fe):Fe||null}(this._rawAsyncValidators)}}class Tn extends nn{constructor(Ge,ge,et){super(It(ge),Ht(et,ge)),this.controls=Ge,this._initObservables(),this._setUpdateStrategy(ge),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(Ge,ge){return this.controls[Ge]?this.controls[Ge]:(this.controls[Ge]=ge,ge.setParent(this),ge._registerOnCollectionChange(this._onCollectionChange),ge)}addControl(Ge,ge,et={}){this.registerControl(Ge,ge),this.updateValueAndValidity({emitEvent:et.emitEvent}),this._onCollectionChange()}removeControl(Ge,ge={}){this.controls[Ge]&&this.controls[Ge]._registerOnCollectionChange(()=>{}),delete this.controls[Ge],this.updateValueAndValidity({emitEvent:ge.emitEvent}),this._onCollectionChange()}setControl(Ge,ge,et={}){this.controls[Ge]&&this.controls[Ge]._registerOnCollectionChange(()=>{}),delete this.controls[Ge],ge&&this.registerControl(Ge,ge),this.updateValueAndValidity({emitEvent:et.emitEvent}),this._onCollectionChange()}contains(Ge){return this.controls.hasOwnProperty(Ge)&&this.controls[Ge].enabled}setValue(Ge,ge={}){kt(this,0,Ge),Object.keys(Ge).forEach(et=>{mt(this,!0,et),this.controls[et].setValue(Ge[et],{onlySelf:!0,emitEvent:ge.emitEvent})}),this.updateValueAndValidity(ge)}patchValue(Ge,ge={}){null!=Ge&&(Object.keys(Ge).forEach(et=>{const Bt=this.controls[et];Bt&&Bt.patchValue(Ge[et],{onlySelf:!0,emitEvent:ge.emitEvent})}),this.updateValueAndValidity(ge))}reset(Ge={},ge={}){this._forEachChild((et,Bt)=>{et.reset(Ge?Ge[Bt]:null,{onlySelf:!0,emitEvent:ge.emitEvent})}),this._updatePristine(ge),this._updateTouched(ge),this.updateValueAndValidity(ge)}getRawValue(){return this._reduceChildren({},(Ge,ge,et)=>(Ge[et]=ge.getRawValue(),Ge))}_syncPendingControls(){let Ge=this._reduceChildren(!1,(ge,et)=>!!et._syncPendingControls()||ge);return Ge&&this.updateValueAndValidity({onlySelf:!0}),Ge}_forEachChild(Ge){Object.keys(this.controls).forEach(ge=>{const et=this.controls[ge];et&&Ge(et,ge)})}_setUpControls(){this._forEachChild(Ge=>{Ge.setParent(this),Ge._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(Ge){for(const[ge,et]of Object.entries(this.controls))if(this.contains(ge)&&Ge(et))return!0;return!1}_reduceValue(){return this._reduceChildren({},(ge,et,Bt)=>((et.enabled||this.disabled)&&(ge[Bt]=et.value),ge))}_reduceChildren(Ge,ge){let et=Ge;return this._forEachChild((Bt,Kn)=>{et=ge(et,Bt,Kn)}),et}_allControlsDisabled(){for(const Ge of Object.keys(this.controls))if(this.controls[Ge].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(Ge){return this.controls.hasOwnProperty(Ge)?this.controls[Ge]:null}}class ci extends Tn{}const ut=new n.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>Nt}),Nt="always";function $t(Fe,Ge){return[...Ge.path,Fe]}function zt(Fe,Ge,ge=Nt){An(Fe,Ge),Ge.valueAccessor.writeValue(Fe.value),(Fe.disabled||"always"===ge)&&Ge.valueAccessor.setDisabledState?.(Fe.disabled),function ui(Fe,Ge){Ge.valueAccessor.registerOnChange(ge=>{Fe._pendingValue=ge,Fe._pendingChange=!0,Fe._pendingDirty=!0,"change"===Fe.updateOn&&ni(Fe,Ge)})}(Fe,Ge),function Bi(Fe,Ge){const ge=(et,Bt)=>{Ge.valueAccessor.writeValue(et),Bt&&Ge.viewToModelUpdate(et)};Fe.registerOnChange(ge),Ge._registerOnDestroy(()=>{Fe._unregisterOnChange(ge)})}(Fe,Ge),function gi(Fe,Ge){Ge.valueAccessor.registerOnTouched(()=>{Fe._pendingTouched=!0,"blur"===Fe.updateOn&&Fe._pendingChange&&ni(Fe,Ge),"submit"!==Fe.updateOn&&Fe.markAsTouched()})}(Fe,Ge),function zn(Fe,Ge){if(Ge.valueAccessor.setDisabledState){const ge=et=>{Ge.valueAccessor.setDisabledState(et)};Fe.registerOnDisabledChange(ge),Ge._registerOnDestroy(()=>{Fe._unregisterOnDisabledChange(ge)})}}(Fe,Ge)}function yn(Fe,Ge,ge=!0){const et=()=>{};Ge.valueAccessor&&(Ge.valueAccessor.registerOnChange(et),Ge.valueAccessor.registerOnTouched(et)),mn(Fe,Ge),Fe&&(Ge._invokeOnDestroyCallbacks(),Fe._registerOnCollectionChange(()=>{}))}function vn(Fe,Ge){Fe.forEach(ge=>{ge.registerOnValidatorChange&&ge.registerOnValidatorChange(Ge)})}function An(Fe,Ge){const ge=Be(Fe);null!==Ge.validator?Fe.setValidators(rt(ge,Ge.validator)):"function"==typeof ge&&Fe.setValidators([ge]);const et=ht(Fe);null!==Ge.asyncValidator?Fe.setAsyncValidators(rt(et,Ge.asyncValidator)):"function"==typeof et&&Fe.setAsyncValidators([et]);const Bt=()=>Fe.updateValueAndValidity();vn(Ge._rawValidators,Bt),vn(Ge._rawAsyncValidators,Bt)}function mn(Fe,Ge){let ge=!1;if(null!==Fe){if(null!==Ge.validator){const Bt=Be(Fe);if(Array.isArray(Bt)&&Bt.length>0){const Kn=Bt.filter(Ei=>Ei!==Ge.validator);Kn.length!==Bt.length&&(ge=!0,Fe.setValidators(Kn))}}if(null!==Ge.asyncValidator){const Bt=ht(Fe);if(Array.isArray(Bt)&&Bt.length>0){const Kn=Bt.filter(Ei=>Ei!==Ge.asyncValidator);Kn.length!==Bt.length&&(ge=!0,Fe.setAsyncValidators(Kn))}}}const et=()=>{};return vn(Ge._rawValidators,et),vn(Ge._rawAsyncValidators,et),ge}function ni(Fe,Ge){Fe._pendingDirty&&Fe.markAsDirty(),Fe.setValue(Fe._pendingValue,{emitModelToViewChange:!1}),Ge.viewToModelUpdate(Fe._pendingValue),Fe._pendingChange=!1}function Xn(Fe,Ge){An(Fe,Ge)}function Dt(Fe,Ge){if(!Fe.hasOwnProperty("model"))return!1;const ge=Fe.model;return!!ge.isFirstChange()||!Object.is(Ge,ge.currentValue)}function rn(Fe,Ge){Fe._syncPendingControls(),Ge.forEach(ge=>{const et=ge.control;"submit"===et.updateOn&&et._pendingChange&&(ge.viewToModelUpdate(et._pendingValue),et._pendingChange=!1)})}function Qt(Fe,Ge){if(!Ge)return null;let ge,et,Bt;return Array.isArray(Ge),Ge.forEach(Kn=>{Kn.constructor===R?ge=Kn:function Ct(Fe){return Object.getPrototypeOf(Fe.constructor)===f}(Kn)?et=Kn:Bt=Kn}),Bt||et||ge||null}const yt={provide:X,useExisting:(0,n.Rfq)(()=>ue)},Oe=Promise.resolve();let ue=(()=>{class Fe extends X{constructor(ge,et,Bt){super(),this.callSetDisabledState=Bt,this.submitted=!1,this._directives=new Set,this.ngSubmit=new n.bkB,this.form=new Tn({},de(ge),Ae(et))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(ge){Oe.then(()=>{const et=this._findContainer(ge.path);ge.control=et.registerControl(ge.name,ge.control),zt(ge.control,ge,this.callSetDisabledState),ge.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(ge)})}getControl(ge){return this.form.get(ge.path)}removeControl(ge){Oe.then(()=>{const et=this._findContainer(ge.path);et&&et.removeControl(ge.name),this._directives.delete(ge)})}addFormGroup(ge){Oe.then(()=>{const et=this._findContainer(ge.path),Bt=new Tn({});Xn(Bt,ge),et.registerControl(ge.name,Bt),Bt.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(ge){Oe.then(()=>{const et=this._findContainer(ge.path);et&&et.removeControl(ge.name)})}getFormGroup(ge){return this.form.get(ge.path)}updateModel(ge,et){Oe.then(()=>{this.form.get(ge.path).setValue(et)})}setValue(ge){this.control.setValue(ge)}onSubmit(ge){return this.submitted=!0,rn(this.form,this._directives),this.ngSubmit.emit(ge),"dialog"===ge?.target?.method}onReset(){this.resetForm()}resetForm(ge=void 0){this.form.reset(ge),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(ge){return ge.pop(),ge.length?this.form.get(ge):this.form}static{this.\u0275fac=function(et){return new(et||Fe)(n.rXU(H,10),n.rXU(M,10),n.rXU(ut,8))}}static{this.\u0275dir=n.FsC({type:Fe,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(et,Bt){1&et&&n.bIt("submit",function(Ei){return Bt.onSubmit(Ei)})("reset",function(){return Bt.onReset()})},inputs:{options:[n.Mj6.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[n.Jv_([yt]),n.Vt3]})}}return Fe})();function q(Fe,Ge){const ge=Fe.indexOf(Ge);ge>-1&&Fe.splice(ge,1)}function he(Fe){return"object"==typeof Fe&&null!==Fe&&2===Object.keys(Fe).length&&"value"in Fe&&"disabled"in Fe}const Me=class extends nn{constructor(Ge=null,ge,et){super(It(ge),Ht(et,ge)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(Ge),this._setUpdateStrategy(ge),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),vt(ge)&&(ge.nonNullable||ge.initialValueIsDefault)&&(this.defaultValue=he(Ge)?Ge.value:Ge)}setValue(Ge,ge={}){this.value=this._pendingValue=Ge,this._onChange.length&&!1!==ge.emitModelToViewChange&&this._onChange.forEach(et=>et(this.value,!1!==ge.emitViewToModelChange)),this.updateValueAndValidity(ge)}patchValue(Ge,ge={}){this.setValue(Ge,ge)}reset(Ge=this.defaultValue,ge={}){this._applyFormState(Ge),this.markAsPristine(ge),this.markAsUntouched(ge),this.setValue(this.value,ge),this._pendingChange=!1}_updateValue(){}_anyControls(Ge){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(Ge){this._onChange.push(Ge)}_unregisterOnChange(Ge){q(this._onChange,Ge)}registerOnDisabledChange(Ge){this._onDisabledChange.push(Ge)}_unregisterOnDisabledChange(Ge){q(this._onDisabledChange,Ge)}_forEachChild(Ge){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(Ge){he(Ge)?(this.value=this._pendingValue=Ge.value,Ge.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=Ge}},Et=Me;let hn=(()=>{class Fe extends X{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return $t(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static{this.\u0275fac=(()=>{let ge;return function(Bt){return(ge||(ge=n.xGo(Fe)))(Bt||Fe)}})()}static{this.\u0275dir=n.FsC({type:Fe,features:[n.Vt3]})}}return Fe})();const Ar={provide:Y,useExisting:(0,n.Rfq)(()=>ri)},Gn=Promise.resolve();let ri=(()=>{class Fe extends Y{constructor(ge,et,Bt,Kn,Ei,ls){super(),this._changeDetectorRef=Ei,this.callSetDisabledState=ls,this.control=new Me,this._registered=!1,this.name="",this.update=new n.bkB,this._parent=ge,this._setValidators(et),this._setAsyncValidators(Bt),this.valueAccessor=Qt(0,Kn)}ngOnChanges(ge){if(this._checkForErrors(),!this._registered||"name"in ge){if(this._registered&&(this._checkName(),this.formDirective)){const et=ge.name.previousValue;this.formDirective.removeControl({name:et,path:this._getPath(et)})}this._setUpControl()}"isDisabled"in ge&&this._updateDisabled(ge),Dt(ge,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(ge){this.viewModel=ge,this.update.emit(ge)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){zt(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(ge){Gn.then(()=>{this.control.setValue(ge,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(ge){const et=ge.isDisabled.currentValue,Bt=0!==et&&(0,n.L39)(et);Gn.then(()=>{Bt&&!this.control.disabled?this.control.disable():!Bt&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(ge){return this._parent?$t(ge,this._parent):[ge]}static{this.\u0275fac=function(et){return new(et||Fe)(n.rXU(X,9),n.rXU(H,10),n.rXU(M,10),n.rXU(d,10),n.rXU(n.gRc,8),n.rXU(ut,8))}}static{this.\u0275dir=n.FsC({type:Fe,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[n.Mj6.None,"disabled","isDisabled"],model:[n.Mj6.None,"ngModel","model"],options:[n.Mj6.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[n.Jv_([Ar]),n.Vt3,n.OA$]})}}return Fe})(),cr=(()=>{class Fe{static{this.\u0275fac=function(et){return new(et||Fe)}}static{this.\u0275dir=n.FsC({type:Fe,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return Fe})();const Mi={provide:d,useExisting:(0,n.Rfq)(()=>xr),multi:!0};let xr=(()=>{class Fe extends f{writeValue(ge){this.setProperty("value",ge??"")}registerOnChange(ge){this.onChange=et=>{ge(""==et?null:parseFloat(et))}}static{this.\u0275fac=(()=>{let ge;return function(Bt){return(ge||(ge=n.xGo(Fe)))(Bt||Fe)}})()}static{this.\u0275dir=n.FsC({type:Fe,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(et,Bt){1&et&&n.bIt("input",function(Ei){return Bt.onChange(Ei.target.value)})("blur",function(){return Bt.onTouched()})},features:[n.Jv_([Mi]),n.Vt3]})}}return Fe})();const Gs={provide:d,useExisting:(0,n.Rfq)(()=>vi),multi:!0};let ks=(()=>{class Fe{constructor(){this._accessors=[]}add(ge,et){this._accessors.push([ge,et])}remove(ge){for(let et=this._accessors.length-1;et>=0;--et)if(this._accessors[et][1]===ge)return void this._accessors.splice(et,1)}select(ge){this._accessors.forEach(et=>{this._isSameGroup(et,ge)&&et[1]!==ge&&et[1].fireUncheck(ge.value)})}_isSameGroup(ge,et){return!!ge[0].control&&ge[0]._parent===et._control._parent&&ge[1].name===et.name}static{this.\u0275fac=function(et){return new(et||Fe)}}static{this.\u0275prov=n.jDH({token:Fe,factory:Fe.\u0275fac,providedIn:"root"})}}return Fe})(),vi=(()=>{class Fe extends f{constructor(ge,et,Bt,Kn){super(ge,et),this._registry=Bt,this._injector=Kn,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,n.WQX)(ut,{optional:!0})??Nt}ngOnInit(){this._control=this._injector.get(Y),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(ge){this._state=ge===this.value,this.setProperty("checked",this._state)}registerOnChange(ge){this._fn=ge,this.onChange=()=>{ge(this.value),this._registry.select(this)}}setDisabledState(ge){(this.setDisabledStateFired||ge||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",ge),this.setDisabledStateFired=!0}fireUncheck(ge){this.writeValue(ge)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(et){return new(et||Fe)(n.rXU(n.sFG),n.rXU(n.aKT),n.rXU(ks),n.rXU(n.zZn))}}static{this.\u0275dir=n.FsC({type:Fe,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(et,Bt){1&et&&n.bIt("change",function(){return Bt.onChange()})("blur",function(){return Bt.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[n.Jv_([Gs]),n.Vt3]})}}return Fe})();const wr=new n.nKC(""),Ns={provide:Y,useExisting:(0,n.Rfq)(()=>gr)};let gr=(()=>{class Fe extends Y{set isDisabled(ge){}static{this._ngModelWarningSentOnce=!1}constructor(ge,et,Bt,Kn,Ei){super(),this._ngModelWarningConfig=Kn,this.callSetDisabledState=Ei,this.update=new n.bkB,this._ngModelWarningSent=!1,this._setValidators(ge),this._setAsyncValidators(et),this.valueAccessor=Qt(0,Bt)}ngOnChanges(ge){if(this._isControlChanged(ge)){const et=ge.form.previousValue;et&&yn(et,this,!1),zt(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}Dt(ge,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&yn(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(ge){this.viewModel=ge,this.update.emit(ge)}_isControlChanged(ge){return ge.hasOwnProperty("form")}static{this.\u0275fac=function(et){return new(et||Fe)(n.rXU(H,10),n.rXU(M,10),n.rXU(d,10),n.rXU(wr,8),n.rXU(ut,8))}}static{this.\u0275dir=n.FsC({type:Fe,selectors:[["","formControl",""]],inputs:{form:[n.Mj6.None,"formControl","form"],isDisabled:[n.Mj6.None,"disabled","isDisabled"],model:[n.Mj6.None,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[n.Jv_([Ns]),n.Vt3,n.OA$]})}}return Fe})();const vr={provide:X,useExisting:(0,n.Rfq)(()=>Ni)};let Ni=(()=>{class Fe extends X{constructor(ge,et,Bt){super(),this.callSetDisabledState=Bt,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new n.bkB,this._setValidators(ge),this._setAsyncValidators(et)}ngOnChanges(ge){this._checkFormPresent(),ge.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(mn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(ge){const et=this.form.get(ge.path);return zt(et,ge,this.callSetDisabledState),et.updateValueAndValidity({emitEvent:!1}),this.directives.push(ge),et}getControl(ge){return this.form.get(ge.path)}removeControl(ge){yn(ge.control||null,ge,!1),function In(Fe,Ge){const ge=Fe.indexOf(Ge);ge>-1&&Fe.splice(ge,1)}(this.directives,ge)}addFormGroup(ge){this._setUpFormContainer(ge)}removeFormGroup(ge){this._cleanUpFormContainer(ge)}getFormGroup(ge){return this.form.get(ge.path)}addFormArray(ge){this._setUpFormContainer(ge)}removeFormArray(ge){this._cleanUpFormContainer(ge)}getFormArray(ge){return this.form.get(ge.path)}updateModel(ge,et){this.form.get(ge.path).setValue(et)}onSubmit(ge){return this.submitted=!0,rn(this.form,this.directives),this.ngSubmit.emit(ge),"dialog"===ge?.target?.method}onReset(){this.resetForm()}resetForm(ge=void 0){this.form.reset(ge),this.submitted=!1}_updateDomValue(){this.directives.forEach(ge=>{const et=ge.control,Bt=this.form.get(ge.path);et!==Bt&&(yn(et||null,ge),(Fe=>Fe instanceof Me)(Bt)&&(zt(Bt,ge,this.callSetDisabledState),ge.control=Bt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(ge){const et=this.form.get(ge.path);Xn(et,ge),et.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(ge){if(this.form){const et=this.form.get(ge.path);et&&function wi(Fe,Ge){return mn(Fe,Ge)}(et,ge)&&et.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){An(this.form,this),this._oldForm&&mn(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(et){return new(et||Fe)(n.rXU(H,10),n.rXU(M,10),n.rXU(ut,8))}}static{this.\u0275dir=n.FsC({type:Fe,selectors:[["","formGroup",""]],hostBindings:function(et,Bt){1&et&&n.bIt("submit",function(Ei){return Bt.onSubmit(Ei)})("reset",function(){return Bt.onReset()})},inputs:{form:[n.Mj6.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[n.Jv_([vr]),n.Vt3,n.OA$]})}}return Fe})();const Hs={provide:X,useExisting:(0,n.Rfq)(()=>ai)};let ai=(()=>{class Fe extends hn{constructor(ge,et,Bt){super(),this.name=null,this._parent=ge,this._setValidators(et),this._setAsyncValidators(Bt)}_checkParentType(){Jr(this._parent)}static{this.\u0275fac=function(et){return new(et||Fe)(n.rXU(X,13),n.rXU(H,10),n.rXU(M,10))}}static{this.\u0275dir=n.FsC({type:Fe,selectors:[["","formGroupName",""]],inputs:{name:[n.Mj6.None,"formGroupName","name"]},features:[n.Jv_([Hs]),n.Vt3]})}}return Fe})();const Yo={provide:X,useExisting:(0,n.Rfq)(()=>$n)};let $n=(()=>{class Fe extends X{constructor(ge,et,Bt){super(),this.name=null,this._parent=ge,this._setValidators(et),this._setAsyncValidators(Bt)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return $t(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Jr(this._parent)}static{this.\u0275fac=function(et){return new(et||Fe)(n.rXU(X,13),n.rXU(H,10),n.rXU(M,10))}}static{this.\u0275dir=n.FsC({type:Fe,selectors:[["","formArrayName",""]],inputs:{name:[n.Mj6.None,"formArrayName","name"]},features:[n.Jv_([Yo]),n.Vt3]})}}return Fe})();function Jr(Fe){return!(Fe instanceof ai||Fe instanceof Ni||Fe instanceof $n)}const pr={provide:Y,useExisting:(0,n.Rfq)(()=>Sr)};let Sr=(()=>{class Fe extends Y{set isDisabled(ge){}static{this._ngModelWarningSentOnce=!1}constructor(ge,et,Bt,Kn,Ei){super(),this._ngModelWarningConfig=Ei,this._added=!1,this.name=null,this.update=new n.bkB,this._ngModelWarningSent=!1,this._parent=ge,this._setValidators(et),this._setAsyncValidators(Bt),this.valueAccessor=Qt(0,Kn)}ngOnChanges(ge){this._added||this._setUpControl(),Dt(ge,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(ge){this.viewModel=ge,this.update.emit(ge)}get path(){return $t(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(et){return new(et||Fe)(n.rXU(X,13),n.rXU(H,10),n.rXU(M,10),n.rXU(d,10),n.rXU(wr,8))}}static{this.\u0275dir=n.FsC({type:Fe,selectors:[["","formControlName",""]],inputs:{name:[n.Mj6.None,"formControlName","name"],isDisabled:[n.Mj6.None,"disabled","isDisabled"],model:[n.Mj6.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[n.Jv_([pr]),n.Vt3,n.OA$]})}}return Fe})();const Er={provide:d,useExisting:(0,n.Rfq)(()=>er),multi:!0};function kr(Fe,Ge){return null==Fe?`${Ge}`:(Ge&&"object"==typeof Ge&&(Ge="Object"),`${Fe}: ${Ge}`.slice(0,50))}let er=(()=>{class Fe extends f{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(ge){this._compareWith=ge}writeValue(ge){this.value=ge;const Bt=kr(this._getOptionId(ge),ge);this.setProperty("value",Bt)}registerOnChange(ge){this.onChange=et=>{this.value=this._getOptionValue(et),ge(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(ge){for(const et of this._optionMap.keys())if(this._compareWith(this._optionMap.get(et),ge))return et;return null}_getOptionValue(ge){const et=function Lr(Fe){return Fe.split(":")[0]}(ge);return this._optionMap.has(et)?this._optionMap.get(et):ge}static{this.\u0275fac=(()=>{let ge;return function(Bt){return(ge||(ge=n.xGo(Fe)))(Bt||Fe)}})()}static{this.\u0275dir=n.FsC({type:Fe,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(et,Bt){1&et&&n.bIt("change",function(Ei){return Bt.onChange(Ei.target.value)})("blur",function(){return Bt.onTouched()})},inputs:{compareWith:"compareWith"},features:[n.Jv_([Er]),n.Vt3]})}}return Fe})(),tr=(()=>{class Fe{constructor(ge,et,Bt){this._element=ge,this._renderer=et,this._select=Bt,this._select&&(this.id=this._select._registerOption())}set ngValue(ge){null!=this._select&&(this._select._optionMap.set(this.id,ge),this._setElementValue(kr(this.id,ge)),this._select.writeValue(this._select.value))}set value(ge){this._setElementValue(ge),this._select&&this._select.writeValue(this._select.value)}_setElementValue(ge){this._renderer.setProperty(this._element.nativeElement,"value",ge)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(et){return new(et||Fe)(n.rXU(n.aKT),n.rXU(n.sFG),n.rXU(er,9))}}static{this.\u0275dir=n.FsC({type:Fe,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return Fe})();const Wn={provide:d,useExisting:(0,n.Rfq)(()=>rs),multi:!0};function Gr(Fe,Ge){return null==Fe?`${Ge}`:("string"==typeof Ge&&(Ge=`'${Ge}'`),Ge&&"object"==typeof Ge&&(Ge="Object"),`${Fe}: ${Ge}`.slice(0,50))}let rs=(()=>{class Fe extends f{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(ge){this._compareWith=ge}writeValue(ge){let et;if(this.value=ge,Array.isArray(ge)){const Bt=ge.map(Kn=>this._getOptionId(Kn));et=(Kn,Ei)=>{Kn._setSelected(Bt.indexOf(Ei.toString())>-1)}}else et=(Bt,Kn)=>{Bt._setSelected(!1)};this._optionMap.forEach(et)}registerOnChange(ge){this.onChange=et=>{const Bt=[],Kn=et.selectedOptions;if(void 0!==Kn){const Ei=Kn;for(let ls=0;ls<Ei.length;ls++){const Jn=this._getOptionValue(Ei[ls].value);Bt.push(Jn)}}else{const Ei=et.options;for(let ls=0;ls<Ei.length;ls++){const ys=Ei[ls];if(ys.selected){const Jn=this._getOptionValue(ys.value);Bt.push(Jn)}}}this.value=Bt,ge(Bt)}}_registerOption(ge){const et=(this._idCounter++).toString();return this._optionMap.set(et,ge),et}_getOptionId(ge){for(const et of this._optionMap.keys())if(this._compareWith(this._optionMap.get(et)._value,ge))return et;return null}_getOptionValue(ge){const et=function ur(Fe){return Fe.split(":")[0]}(ge);return this._optionMap.has(et)?this._optionMap.get(et)._value:ge}static{this.\u0275fac=(()=>{let ge;return function(Bt){return(ge||(ge=n.xGo(Fe)))(Bt||Fe)}})()}static{this.\u0275dir=n.FsC({type:Fe,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(et,Bt){1&et&&n.bIt("change",function(Ei){return Bt.onChange(Ei.target)})("blur",function(){return Bt.onTouched()})},inputs:{compareWith:"compareWith"},features:[n.Jv_([Wn]),n.Vt3]})}}return Fe})(),qs=(()=>{class Fe{constructor(ge,et,Bt){this._element=ge,this._renderer=et,this._select=Bt,this._select&&(this.id=this._select._registerOption(this))}set ngValue(ge){null!=this._select&&(this._value=ge,this._setElementValue(Gr(this.id,ge)),this._select.writeValue(this._select.value))}set value(ge){this._select?(this._value=ge,this._setElementValue(Gr(this.id,ge)),this._select.writeValue(this._select.value)):this._setElementValue(ge)}_setElementValue(ge){this._renderer.setProperty(this._element.nativeElement,"value",ge)}_setSelected(ge){this._renderer.setProperty(this._element.nativeElement,"selected",ge)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(et){return new(et||Fe)(n.rXU(n.aKT),n.rXU(n.sFG),n.rXU(rs,9))}}static{this.\u0275dir=n.FsC({type:Fe,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return Fe})();function go(Fe){return"number"==typeof Fe?Fe:parseInt(Fe,10)}let yr=(()=>{class Fe{constructor(){this._validator=z}ngOnChanges(ge){if(this.inputName in ge){const et=this.normalizeInput(ge[this.inputName].currentValue);this._enabled=this.enabled(et),this._validator=this._enabled?this.createValidator(et):z,this._onChange&&this._onChange()}}validate(ge){return this._validator(ge)}registerOnValidatorChange(ge){this._onChange=ge}enabled(ge){return null!=ge}static{this.\u0275fac=function(et){return new(et||Fe)}}static{this.\u0275dir=n.FsC({type:Fe,features:[n.OA$]})}}return Fe})();const Ca={provide:H,useExisting:(0,n.Rfq)(()=>Qr),multi:!0};let Qr=(()=>{class Fe extends yr{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=ge=>function Ss(Fe){return"number"==typeof Fe?Fe:parseFloat(Fe)}(ge),this.createValidator=ge=>G(ge)}static{this.\u0275fac=(()=>{let ge;return function(Bt){return(ge||(ge=n.xGo(Fe)))(Bt||Fe)}})()}static{this.\u0275dir=n.FsC({type:Fe,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(et,Bt){2&et&&n.BMQ("min",Bt._enabled?Bt.min:null)},inputs:{min:"min"},features:[n.Jv_([Ca]),n.Vt3]})}}return Fe})();const co={provide:H,useExisting:(0,n.Rfq)(()=>Zr),multi:!0};let Zr=(()=>{class Fe extends yr{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=n.L39,this.createValidator=ge=>le}enabled(ge){return ge}static{this.\u0275fac=(()=>{let ge;return function(Bt){return(ge||(ge=n.xGo(Fe)))(Bt||Fe)}})()}static{this.\u0275dir=n.FsC({type:Fe,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(et,Bt){2&et&&n.BMQ("required",Bt._enabled?"":null)},inputs:{required:"required"},features:[n.Jv_([co]),n.Vt3]})}}return Fe})();const to={provide:H,useExisting:(0,n.Rfq)(()=>Ao),multi:!0};let Ao=(()=>{class Fe extends yr{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=ge=>go(ge),this.createValidator=ge=>te(ge)}static{this.\u0275fac=(()=>{let ge;return function(Bt){return(ge||(ge=n.xGo(Fe)))(Bt||Fe)}})()}static{this.\u0275dir=n.FsC({type:Fe,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(et,Bt){2&et&&n.BMQ("minlength",Bt._enabled?Bt.minlength:null)},inputs:{minlength:"minlength"},features:[n.Jv_([to]),n.Vt3]})}}return Fe})();const Es={provide:H,useExisting:(0,n.Rfq)(()=>Or),multi:!0};let Or=(()=>{class Fe extends yr{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=ge=>go(ge),this.createValidator=ge=>I(ge)}static{this.\u0275fac=(()=>{let ge;return function(Bt){return(ge||(ge=n.xGo(Fe)))(Bt||Fe)}})()}static{this.\u0275dir=n.FsC({type:Fe,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(et,Bt){2&et&&n.BMQ("maxlength",Bt._enabled?Bt.maxlength:null)},inputs:{maxlength:"maxlength"},features:[n.Jv_([Es]),n.Vt3]})}}return Fe})(),Ts=(()=>{class Fe{static{this.\u0275fac=function(et){return new(et||Fe)}}static{this.\u0275mod=n.$C({type:Fe})}static{this.\u0275inj=n.G2t({})}}return Fe})();class si extends nn{constructor(Ge,ge,et){super(It(ge),Ht(et,ge)),this.controls=Ge,this._initObservables(),this._setUpdateStrategy(ge),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(Ge){return this.controls[this._adjustIndex(Ge)]}push(Ge,ge={}){this.controls.push(Ge),this._registerControl(Ge),this.updateValueAndValidity({emitEvent:ge.emitEvent}),this._onCollectionChange()}insert(Ge,ge,et={}){this.controls.splice(Ge,0,ge),this._registerControl(ge),this.updateValueAndValidity({emitEvent:et.emitEvent})}removeAt(Ge,ge={}){let et=this._adjustIndex(Ge);et<0&&(et=0),this.controls[et]&&this.controls[et]._registerOnCollectionChange(()=>{}),this.controls.splice(et,1),this.updateValueAndValidity({emitEvent:ge.emitEvent})}setControl(Ge,ge,et={}){let Bt=this._adjustIndex(Ge);Bt<0&&(Bt=0),this.controls[Bt]&&this.controls[Bt]._registerOnCollectionChange(()=>{}),this.controls.splice(Bt,1),ge&&(this.controls.splice(Bt,0,ge),this._registerControl(ge)),this.updateValueAndValidity({emitEvent:et.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(Ge,ge={}){kt(this,0,Ge),Ge.forEach((et,Bt)=>{mt(this,!1,Bt),this.at(Bt).setValue(et,{onlySelf:!0,emitEvent:ge.emitEvent})}),this.updateValueAndValidity(ge)}patchValue(Ge,ge={}){null!=Ge&&(Ge.forEach((et,Bt)=>{this.at(Bt)&&this.at(Bt).patchValue(et,{onlySelf:!0,emitEvent:ge.emitEvent})}),this.updateValueAndValidity(ge))}reset(Ge=[],ge={}){this._forEachChild((et,Bt)=>{et.reset(Ge[Bt],{onlySelf:!0,emitEvent:ge.emitEvent})}),this._updatePristine(ge),this._updateTouched(ge),this.updateValueAndValidity(ge)}getRawValue(){return this.controls.map(Ge=>Ge.getRawValue())}clear(Ge={}){this.controls.length<1||(this._forEachChild(ge=>ge._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:Ge.emitEvent}))}_adjustIndex(Ge){return Ge<0?Ge+this.length:Ge}_syncPendingControls(){let Ge=this.controls.reduce((ge,et)=>!!et._syncPendingControls()||ge,!1);return Ge&&this.updateValueAndValidity({onlySelf:!0}),Ge}_forEachChild(Ge){this.controls.forEach((ge,et)=>{Ge(ge,et)})}_updateValue(){this.value=this.controls.filter(Ge=>Ge.enabled||this.disabled).map(Ge=>Ge.value)}_anyControls(Ge){return this.controls.some(ge=>ge.enabled&&Ge(ge))}_setUpControls(){this._forEachChild(Ge=>this._registerControl(Ge))}_allControlsDisabled(){for(const Ge of this.controls)if(Ge.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(Ge){Ge.setParent(this),Ge._registerOnCollectionChange(this._onCollectionChange)}_find(Ge){return this.at(Ge)??null}}function mr(Fe){return!!Fe&&(void 0!==Fe.asyncValidators||void 0!==Fe.validators||void 0!==Fe.updateOn)}let Us=(()=>{class Fe{constructor(){this.useNonNullable=!1}get nonNullable(){const ge=new Fe;return ge.useNonNullable=!0,ge}group(ge,et=null){const Bt=this._reduceControls(ge);let Kn={};return mr(et)?Kn=et:null!==et&&(Kn.validators=et.validator,Kn.asyncValidators=et.asyncValidator),new Tn(Bt,Kn)}record(ge,et=null){const Bt=this._reduceControls(ge);return new ci(Bt,et)}control(ge,et,Bt){let Kn={};return this.useNonNullable?(mr(et)?Kn=et:(Kn.validators=et,Kn.asyncValidators=Bt),new Me(ge,{...Kn,nonNullable:!0})):new Me(ge,et,Bt)}array(ge,et,Bt){const Kn=ge.map(Ei=>this._createControl(Ei));return new si(Kn,et,Bt)}_reduceControls(ge){const et={};return Object.keys(ge).forEach(Bt=>{et[Bt]=this._createControl(ge[Bt])}),et}_createControl(ge){return ge instanceof Me||ge instanceof nn?ge:Array.isArray(ge)?this.control(ge[0],ge.length>1?ge[1]:null,ge.length>2?ge[2]:null):this.control(ge)}static{this.\u0275fac=function(et){return new(et||Fe)}}static{this.\u0275prov=n.jDH({token:Fe,factory:Fe.\u0275fac,providedIn:"root"})}}return Fe})(),Ur=(()=>{class Fe extends Us{group(ge,et=null){return super.group(ge,et)}control(ge,et,Bt){return super.control(ge,et,Bt)}array(ge,et,Bt){return super.array(ge,et,Bt)}static{this.\u0275fac=(()=>{let ge;return function(Bt){return(ge||(ge=n.xGo(Fe)))(Bt||Fe)}})()}static{this.\u0275prov=n.jDH({token:Fe,factory:Fe.\u0275fac,providedIn:"root"})}}return Fe})(),gn=(()=>{class Fe{static withConfig(ge){return{ngModule:Fe,providers:[{provide:ut,useValue:ge.callSetDisabledState??Nt}]}}static{this.\u0275fac=function(et){return new(et||Fe)}}static{this.\u0275mod=n.$C({type:Fe})}static{this.\u0275inj=n.G2t({imports:[Ts]})}}return Fe})(),vs=(()=>{class Fe{static withConfig(ge){return{ngModule:Fe,providers:[{provide:wr,useValue:ge.warnOnNgModelWithFormControl??"always"},{provide:ut,useValue:ge.callSetDisabledState??Nt}]}}static{this.\u0275fac=function(et){return new(et||Fe)}}static{this.\u0275mod=n.$C({type:Fe})}static{this.\u0275inj=n.G2t({imports:[Ts]})}}return Fe})()},345:(qe,me,u)=>{"use strict";u.d(me,{B7:()=>J,Bb:()=>ee,hE:()=>at,sG:()=>Tt,up:()=>Ze});var n=u(4438),e=u(177);class _ extends e.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class g extends _{static makeCurrent(){(0,e.ZD)(new g)}onAndCancel(vt,mt,kt){return vt.addEventListener(mt,kt),()=>{vt.removeEventListener(mt,kt)}}dispatchEvent(vt,mt){vt.dispatchEvent(mt)}remove(vt){vt.parentNode&&vt.parentNode.removeChild(vt)}createElement(vt,mt){return(mt=mt||this.getDefaultDocument()).createElement(vt)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(vt){return vt.nodeType===Node.ELEMENT_NODE}isShadowRoot(vt){return vt instanceof DocumentFragment}getGlobalEventTarget(vt,mt){return"window"===mt?window:"document"===mt?vt:"body"===mt?vt.body:null}getBaseHref(vt){const mt=function v(){return S=S||document.querySelector("base"),S?S.getAttribute("href"):null}();return null==mt?null:function f(lt){return new URL(lt,document.baseURI).pathname}(mt)}resetBaseElement(){S=null}getUserAgent(){return window.navigator.userAgent}getCookie(vt){return(0,e._b)(document.cookie,vt)}}let S=null,E=(()=>{class lt{build(){return new XMLHttpRequest}static{this.\u0275fac=function(kt){return new(kt||lt)}}static{this.\u0275prov=n.jDH({token:lt,factory:lt.\u0275fac})}}return lt})();const m=new n.nKC("");let F=(()=>{class lt{constructor(mt,kt){this._zone=kt,this._eventNameToPlugin=new Map,mt.forEach(nn=>{nn.manager=this}),this._plugins=mt.slice().reverse()}addEventListener(mt,kt,nn){return this._findPluginFor(kt).addEventListener(mt,kt,nn)}getZone(){return this._zone}_findPluginFor(mt){let kt=this._eventNameToPlugin.get(mt);if(kt)return kt;if(kt=this._plugins.find(Tn=>Tn.supports(mt)),!kt)throw new n.wOt(5101,!1);return this._eventNameToPlugin.set(mt,kt),kt}static{this.\u0275fac=function(kt){return new(kt||lt)(n.KVO(m),n.KVO(n.SKi))}}static{this.\u0275prov=n.jDH({token:lt,factory:lt.\u0275fac})}}return lt})();class w{constructor(vt){this._doc=vt}}const C="ng-app-id";let R=(()=>{class lt{constructor(mt,kt,nn,Tn={}){this.doc=mt,this.appId=kt,this.nonce=nn,this.platformId=Tn,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,e.Vy)(Tn),this.resetHostNodes()}addStyles(mt){for(const kt of mt)1===this.changeUsageCount(kt,1)&&this.onStyleAdded(kt)}removeStyles(mt){for(const kt of mt)this.changeUsageCount(kt,-1)<=0&&this.onStyleRemoved(kt)}ngOnDestroy(){const mt=this.styleNodesInDOM;mt&&(mt.forEach(kt=>kt.remove()),mt.clear());for(const kt of this.getAllStyles())this.onStyleRemoved(kt);this.resetHostNodes()}addHost(mt){this.hostNodes.add(mt);for(const kt of this.getAllStyles())this.addStyleToHost(mt,kt)}removeHost(mt){this.hostNodes.delete(mt)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(mt){for(const kt of this.hostNodes)this.addStyleToHost(kt,mt)}onStyleRemoved(mt){const kt=this.styleRef;kt.get(mt)?.elements?.forEach(nn=>nn.remove()),kt.delete(mt)}collectServerRenderedStyles(){const mt=this.doc.head?.querySelectorAll(`style[${C}="${this.appId}"]`);if(mt?.length){const kt=new Map;return mt.forEach(nn=>{null!=nn.textContent&&kt.set(nn.textContent,nn)}),kt}return null}changeUsageCount(mt,kt){const nn=this.styleRef;if(nn.has(mt)){const Tn=nn.get(mt);return Tn.usage+=kt,Tn.usage}return nn.set(mt,{usage:kt,elements:[]}),kt}getStyleElement(mt,kt){const nn=this.styleNodesInDOM,Tn=nn?.get(kt);if(Tn?.parentNode===mt)return nn.delete(kt),Tn.removeAttribute(C),Tn;{const Ln=this.doc.createElement("style");return this.nonce&&Ln.setAttribute("nonce",this.nonce),Ln.textContent=kt,this.platformIsServer&&Ln.setAttribute(C,this.appId),mt.appendChild(Ln),Ln}}addStyleToHost(mt,kt){const nn=this.getStyleElement(mt,kt),Tn=this.styleRef,Ln=Tn.get(kt)?.elements;Ln?Ln.push(nn):Tn.set(kt,{elements:[nn],usage:1})}resetHostNodes(){const mt=this.hostNodes;mt.clear(),mt.add(this.doc.head)}static{this.\u0275fac=function(kt){return new(kt||lt)(n.KVO(e.qQ),n.KVO(n.sZ2),n.KVO(n.BIS,8),n.KVO(n.Agw))}}static{this.\u0275prov=n.jDH({token:lt,factory:lt.\u0275fac})}}return lt})();const x={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},O=/%COMP%/g,H="%COMP%",M=`_nghost-${H}`,V=`_ngcontent-${H}`,G=new n.nKC("",{providedIn:"root",factory:()=>!0});function L(lt,vt){return vt.map(mt=>mt.replace(O,lt))}let J=(()=>{class lt{constructor(mt,kt,nn,Tn,Ln,dn,li,ci=null){this.eventManager=mt,this.sharedStylesHost=kt,this.appId=nn,this.removeStylesOnCompDestroy=Tn,this.doc=Ln,this.platformId=dn,this.ngZone=li,this.nonce=ci,this.rendererByCompId=new Map,this.platformIsServer=(0,e.Vy)(dn),this.defaultRenderer=new te(mt,Ln,li,this.platformIsServer)}createRenderer(mt,kt){if(!mt||!kt)return this.defaultRenderer;this.platformIsServer&&kt.encapsulation===n.gXe.ShadowDom&&(kt={...kt,encapsulation:n.gXe.Emulated});const nn=this.getOrCreateRenderer(mt,kt);return nn instanceof Re?nn.applyToHost(mt):nn instanceof Pe&&nn.applyStyles(),nn}getOrCreateRenderer(mt,kt){const nn=this.rendererByCompId;let Tn=nn.get(kt.id);if(!Tn){const Ln=this.doc,dn=this.ngZone,li=this.eventManager,ci=this.sharedStylesHost,Rt=this.removeStylesOnCompDestroy,ut=this.platformIsServer;switch(kt.encapsulation){case n.gXe.Emulated:Tn=new Re(li,ci,kt,this.appId,Rt,Ln,dn,ut);break;case n.gXe.ShadowDom:return new _e(li,ci,mt,kt,Ln,dn,this.nonce,ut);default:Tn=new Pe(li,ci,kt,Rt,Ln,dn,ut)}nn.set(kt.id,Tn)}return Tn}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(kt){return new(kt||lt)(n.KVO(F),n.KVO(R),n.KVO(n.sZ2),n.KVO(G),n.KVO(e.qQ),n.KVO(n.Agw),n.KVO(n.SKi),n.KVO(n.BIS))}}static{this.\u0275prov=n.jDH({token:lt,factory:lt.\u0275fac})}}return lt})();class te{constructor(vt,mt,kt,nn){this.eventManager=vt,this.doc=mt,this.ngZone=kt,this.platformIsServer=nn,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(vt,mt){return mt?this.doc.createElementNS(x[mt]||mt,vt):this.doc.createElement(vt)}createComment(vt){return this.doc.createComment(vt)}createText(vt){return this.doc.createTextNode(vt)}appendChild(vt,mt){(z(vt)?vt.content:vt).appendChild(mt)}insertBefore(vt,mt,kt){vt&&(z(vt)?vt.content:vt).insertBefore(mt,kt)}removeChild(vt,mt){vt&&vt.removeChild(mt)}selectRootElement(vt,mt){let kt="string"==typeof vt?this.doc.querySelector(vt):vt;if(!kt)throw new n.wOt(-5104,!1);return mt||(kt.textContent=""),kt}parentNode(vt){return vt.parentNode}nextSibling(vt){return vt.nextSibling}setAttribute(vt,mt,kt,nn){if(nn){mt=nn+":"+mt;const Tn=x[nn];Tn?vt.setAttributeNS(Tn,mt,kt):vt.setAttribute(mt,kt)}else vt.setAttribute(mt,kt)}removeAttribute(vt,mt,kt){if(kt){const nn=x[kt];nn?vt.removeAttributeNS(nn,mt):vt.removeAttribute(`${kt}:${mt}`)}else vt.removeAttribute(mt)}addClass(vt,mt){vt.classList.add(mt)}removeClass(vt,mt){vt.classList.remove(mt)}setStyle(vt,mt,kt,nn){nn&(n.czy.DashCase|n.czy.Important)?vt.style.setProperty(mt,kt,nn&n.czy.Important?"important":""):vt.style[mt]=kt}removeStyle(vt,mt,kt){kt&n.czy.DashCase?vt.style.removeProperty(mt):vt.style[mt]=""}setProperty(vt,mt,kt){null!=vt&&(vt[mt]=kt)}setValue(vt,mt){vt.nodeValue=mt}listen(vt,mt,kt){if("string"==typeof vt&&!(vt=(0,e.QT)().getGlobalEventTarget(this.doc,vt)))throw new Error(`Unsupported event target ${vt} for event ${mt}`);return this.eventManager.addEventListener(vt,mt,this.decoratePreventDefault(kt))}decoratePreventDefault(vt){return mt=>{if("__ngUnwrap__"===mt)return vt;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>vt(mt)):vt(mt))&&mt.preventDefault()}}}function z(lt){return"TEMPLATE"===lt.tagName&&void 0!==lt.content}class _e extends te{constructor(vt,mt,kt,nn,Tn,Ln,dn,li){super(vt,Tn,Ln,li),this.sharedStylesHost=mt,this.hostEl=kt,this.shadowRoot=kt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const ci=L(nn.id,nn.styles);for(const Rt of ci){const ut=document.createElement("style");dn&&ut.setAttribute("nonce",dn),ut.textContent=Rt,this.shadowRoot.appendChild(ut)}}nodeOrShadowRoot(vt){return vt===this.hostEl?this.shadowRoot:vt}appendChild(vt,mt){return super.appendChild(this.nodeOrShadowRoot(vt),mt)}insertBefore(vt,mt,kt){return super.insertBefore(this.nodeOrShadowRoot(vt),mt,kt)}removeChild(vt,mt){return super.removeChild(this.nodeOrShadowRoot(vt),mt)}parentNode(vt){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(vt)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Pe extends te{constructor(vt,mt,kt,nn,Tn,Ln,dn,li){super(vt,Tn,Ln,dn),this.sharedStylesHost=mt,this.removeStylesOnCompDestroy=nn,this.styles=li?L(li,kt.styles):kt.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Re extends Pe{constructor(vt,mt,kt,nn,Tn,Ln,dn,li){const ci=nn+"-"+kt.id;super(vt,mt,kt,Tn,Ln,dn,li,ci),this.contentAttr=function ie(lt){return V.replace(O,lt)}(ci),this.hostAttr=function le(lt){return M.replace(O,lt)}(ci)}applyToHost(vt){this.applyStyles(),this.setAttribute(vt,this.hostAttr,"")}createElement(vt,mt){const kt=super.createElement(vt,mt);return super.setAttribute(kt,this.contentAttr,""),kt}}let ke=(()=>{class lt extends w{constructor(mt){super(mt)}supports(mt){return!0}addEventListener(mt,kt,nn){return mt.addEventListener(kt,nn,!1),()=>this.removeEventListener(mt,kt,nn)}removeEventListener(mt,kt,nn){return mt.removeEventListener(kt,nn)}static{this.\u0275fac=function(kt){return new(kt||lt)(n.KVO(e.qQ))}}static{this.\u0275prov=n.jDH({token:lt,factory:lt.\u0275fac})}}return lt})();const Je=["alt","control","meta","shift"],Te={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},we={alt:lt=>lt.altKey,control:lt=>lt.ctrlKey,meta:lt=>lt.metaKey,shift:lt=>lt.shiftKey};let de=(()=>{class lt extends w{constructor(mt){super(mt)}supports(mt){return null!=lt.parseEventName(mt)}addEventListener(mt,kt,nn){const Tn=lt.parseEventName(kt),Ln=lt.eventCallback(Tn.fullKey,nn,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,e.QT)().onAndCancel(mt,Tn.domEventName,Ln))}static parseEventName(mt){const kt=mt.toLowerCase().split("."),nn=kt.shift();if(0===kt.length||"keydown"!==nn&&"keyup"!==nn)return null;const Tn=lt._normalizeKey(kt.pop());let Ln="",dn=kt.indexOf("code");if(dn>-1&&(kt.splice(dn,1),Ln="code."),Je.forEach(ci=>{const Rt=kt.indexOf(ci);Rt>-1&&(kt.splice(Rt,1),Ln+=ci+".")}),Ln+=Tn,0!=kt.length||0===Tn.length)return null;const li={};return li.domEventName=nn,li.fullKey=Ln,li}static matchEventFullKeyCode(mt,kt){let nn=Te[mt.key]||mt.key,Tn="";return kt.indexOf("code.")>-1&&(nn=mt.code,Tn="code."),!(null==nn||!nn)&&(nn=nn.toLowerCase()," "===nn?nn="space":"."===nn&&(nn="dot"),Je.forEach(Ln=>{Ln!==nn&&(0,we[Ln])(mt)&&(Tn+=Ln+".")}),Tn+=nn,Tn===kt)}static eventCallback(mt,kt,nn){return Tn=>{lt.matchEventFullKeyCode(Tn,mt)&&nn.runGuarded(()=>kt(Tn))}}static _normalizeKey(mt){return"esc"===mt?"escape":mt}static{this.\u0275fac=function(kt){return new(kt||lt)(n.KVO(e.qQ))}}static{this.\u0275prov=n.jDH({token:lt,factory:lt.\u0275fac})}}return lt})();const Tt=(0,n.oH4)(n.fpN,"browser",[{provide:n.Agw,useValue:e.AJ},{provide:n.PLl,useValue:function ht(){g.makeCurrent()},multi:!0},{provide:e.qQ,useFactory:function Yt(){return(0,n.TL$)(document),document},deps:[]}]),_t=new n.nKC(""),X=[{provide:n.e01,useClass:class d{addToWindow(vt){n.JZv.getAngularTestability=(kt,nn=!0)=>{const Tn=vt.findTestabilityInTree(kt,nn);if(null==Tn)throw new n.wOt(5103,!1);return Tn},n.JZv.getAllAngularTestabilities=()=>vt.getAllTestabilities(),n.JZv.getAllAngularRootElements=()=>vt.getAllRootElements(),n.JZv.frameworkStabilizers||(n.JZv.frameworkStabilizers=[]),n.JZv.frameworkStabilizers.push(kt=>{const nn=n.JZv.getAllAngularTestabilities();let Tn=nn.length;const Ln=function(){Tn--,0==Tn&&kt()};nn.forEach(dn=>{dn.whenStable(Ln)})})}findTestabilityInTree(vt,mt,kt){return null==mt?null:vt.getTestability(mt)??(kt?(0,e.QT)().isShadowRoot(mt)?this.findTestabilityInTree(vt,mt.host,!0):this.findTestabilityInTree(vt,mt.parentElement,!0):null)}},deps:[]},{provide:n.WHO,useClass:n.NYb,deps:[n.SKi,n.giA,n.e01]},{provide:n.NYb,useClass:n.NYb,deps:[n.SKi,n.giA,n.e01]}],Y=[{provide:n.H8p,useValue:"root"},{provide:n.zcH,useFactory:function Ye(){return new n.zcH},deps:[]},{provide:m,useClass:ke,multi:!0,deps:[e.qQ,n.SKi,n.Agw]},{provide:m,useClass:de,multi:!0,deps:[e.qQ]},J,R,F,{provide:n._9s,useExisting:J},{provide:e.N0,useClass:E,deps:[]},[]];let ee=(()=>{class lt{constructor(mt){}static withServerTransition(mt){return{ngModule:lt,providers:[{provide:n.sZ2,useValue:mt.appId}]}}static{this.\u0275fac=function(kt){return new(kt||lt)(n.KVO(_t,12))}}static{this.\u0275mod=n.$C({type:lt})}static{this.\u0275inj=n.G2t({providers:[...Y,...X],imports:[e.MD,n.Hbi]})}}return lt})(),at=(()=>{class lt{constructor(mt){this._doc=mt}getTitle(){return this._doc.title}setTitle(mt){this._doc.title=mt||""}static{this.\u0275fac=function(kt){return new(kt||lt)(n.KVO(e.qQ))}}static{this.\u0275prov=n.jDH({token:lt,factory:lt.\u0275fac,providedIn:"root"})}}return lt})(),Ze=(()=>{class lt{static{this.\u0275fac=function(kt){return new(kt||lt)}}static{this.\u0275prov=n.jDH({token:lt,factory:function(kt){let nn=null;return nn=kt?new(kt||lt):n.KVO(dt),nn},providedIn:"root"})}}return lt})(),dt=(()=>{class lt extends Ze{constructor(mt){super(),this._doc=mt}sanitize(mt,kt){if(null==kt)return null;switch(mt){case n.WPN.NONE:return kt;case n.WPN.HTML:return(0,n.ZF7)(kt,"HTML")?(0,n.rcV)(kt):(0,n.h9k)(this._doc,String(kt)).toString();case n.WPN.STYLE:return(0,n.ZF7)(kt,"Style")?(0,n.rcV)(kt):kt;case n.WPN.SCRIPT:if((0,n.ZF7)(kt,"Script"))return(0,n.rcV)(kt);throw new n.wOt(5200,!1);case n.WPN.URL:return(0,n.ZF7)(kt,"URL")?(0,n.rcV)(kt):(0,n.$MX)(String(kt));case n.WPN.RESOURCE_URL:if((0,n.ZF7)(kt,"ResourceURL"))return(0,n.rcV)(kt);throw new n.wOt(5201,!1);default:throw new n.wOt(5202,!1)}}bypassSecurityTrustHtml(mt){return(0,n.Kcf)(mt)}bypassSecurityTrustStyle(mt){return(0,n.cWb)(mt)}bypassSecurityTrustScript(mt){return(0,n.UyX)(mt)}bypassSecurityTrustUrl(mt){return(0,n.osQ)(mt)}bypassSecurityTrustResourceUrl(mt){return(0,n.e5t)(mt)}static{this.\u0275fac=function(kt){return new(kt||lt)(n.KVO(e.qQ))}}static{this.\u0275prov=n.jDH({token:lt,factory:lt.\u0275fac,providedIn:"root"})}}return lt})()},1583:(qe,me,u)=>{"use strict";u.d(me,{nX:()=>$n,j5:()=>Kt,wF:()=>he,Z:()=>q,bw:()=>yo,b:()=>At,Ix:()=>dr,Wk:()=>pe,wQ:()=>Ne,iI:()=>Ha,n3:()=>Wn});var n=u(4438),e=u(4402),_=u(6648),g=u(7673),S=u(4412),v=u(4572),f=u(9350),d=u(8793),E=u(9030),m=u(1203),F=u(8810),w=u(983),C=u(1985),R=u(8359),x=u(9974),O=u(4360);function H(){return(0,x.N)((A,j)=>{let B=null;A._refCount++;const Z=(0,O._)(j,void 0,void 0,void 0,()=>{if(!A||A._refCount<=0||0<--A._refCount)return void(B=null);const be=A._connection,He=B;B=null,be&&(!He||be===He)&&be.unsubscribe(),j.unsubscribe()});A.subscribe(Z),Z.closed||(B=A.connect())})}class M extends C.c{constructor(j,B){super(),this.source=j,this.subjectFactory=B,this._subject=null,this._refCount=0,this._connection=null,(0,x.S)(j)&&(this.lift=j.lift)}_subscribe(j){return this.getSubject().subscribe(j)}getSubject(){const j=this._subject;return(!j||j.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:j}=this;this._subject=this._connection=null,j?.unsubscribe()}connect(){let j=this._connection;if(!j){j=this._connection=new R.yU;const B=this.getSubject();j.add(this.source.subscribe((0,O._)(B,void 0,()=>{this._teardown(),B.complete()},Z=>{this._teardown(),B.error(Z)},()=>this._teardown()))),j.closed&&(this._connection=null,j=R.yU.EMPTY)}return j}refCount(){return H()(this)}}var V=u(1413),U=u(177),G=u(6354),ie=u(5558),le=u(6697),L=u(9172),J=u(5964),te=u(1397),I=u(1594),oe=u(274),z=u(8141),_e=u(9437),Pe=u(6649),ke=u(9901);function Je(A){return A<=0?()=>w.w:(0,x.N)((j,B)=>{let Z=[];j.subscribe((0,O._)(B,be=>{Z.push(be),A<Z.length&&Z.shift()},()=>{for(const be of Z)B.next(be);B.complete()},void 0,()=>{Z=null}))})}var Te=u(3774),we=u(3669),Ve=u(3703),Ae=u(980),rt=u(6977),Be=u(6365),ht=u(345);const Ye="primary",Yt=Symbol("RouteTitle");class Ut{constructor(j){this.params=j||{}}has(j){return Object.prototype.hasOwnProperty.call(this.params,j)}get(j){if(this.has(j)){const B=this.params[j];return Array.isArray(B)?B[0]:B}return null}getAll(j){if(this.has(j)){const B=this.params[j];return Array.isArray(B)?B:[B]}return[]}get keys(){return Object.keys(this.params)}}function Tt(A){return new Ut(A)}function _t(A,j,B){const Z=B.path.split("/");if(Z.length>A.length||"full"===B.pathMatch&&(j.hasChildren()||Z.length<A.length))return null;const be={};for(let He=0;He<Z.length;He++){const gt=Z[He],on=A[He];if(gt.startsWith(":"))be[gt.substring(1)]=on;else if(gt!==on.path)return null}return{consumed:A.slice(0,Z.length),posParams:be}}function Y(A,j){const B=A?ee(A):void 0,Z=j?ee(j):void 0;if(!B||!Z||B.length!=Z.length)return!1;let be;for(let He=0;He<B.length;He++)if(be=B[He],!Se(A[be],j[be]))return!1;return!0}function ee(A){return[...Object.keys(A),...Object.getOwnPropertySymbols(A)]}function Se(A,j){if(Array.isArray(A)&&Array.isArray(j)){if(A.length!==j.length)return!1;const B=[...A].sort(),Z=[...j].sort();return B.every((be,He)=>Z[He]===be)}return A===j}function Ee(A){return A.length>0?A[A.length-1]:null}function at(A){return(0,e.A)(A)?A:(0,n.jNT)(A)?(0,_.H)(Promise.resolve(A)):(0,g.of)(A)}const je={exact:function nt(A,j,B){if(!Ue(A.segments,j.segments)||!Ot(A.segments,j.segments,B)||A.numberOfChildren!==j.numberOfChildren)return!1;for(const Z in j.children)if(!A.children[Z]||!nt(A.children[Z],j.children[Z],B))return!1;return!0},subset:tn},ot={exact:function ft(A,j){return Y(A,j)},subset:function Wt(A,j){return Object.keys(j).length<=Object.keys(A).length&&Object.keys(j).every(B=>Se(A[B],j[B]))},ignored:()=>!0};function Ft(A,j,B){return je[B.paths](A.root,j.root,B.matrixParams)&&ot[B.queryParams](A.queryParams,j.queryParams)&&!("exact"===B.fragment&&A.fragment!==j.fragment)}function tn(A,j,B){return it(A,j,j.segments,B)}function it(A,j,B,Z){if(A.segments.length>B.length){const be=A.segments.slice(0,B.length);return!(!Ue(be,B)||j.hasChildren()||!Ot(be,B,Z))}if(A.segments.length===B.length){if(!Ue(A.segments,B)||!Ot(A.segments,B,Z))return!1;for(const be in j.children)if(!A.children[be]||!tn(A.children[be],j.children[be],Z))return!1;return!0}{const be=B.slice(0,A.segments.length),He=B.slice(A.segments.length);return!!(Ue(A.segments,be)&&Ot(A.segments,be,Z)&&A.children[Ye])&&it(A.children[Ye],j,He,Z)}}function Ot(A,j,B){return j.every((Z,be)=>ot[B](A[be].parameters,Z.parameters))}class ve{constructor(j=new ae([],{}),B={},Z=null){this.root=j,this.queryParams=B,this.fragment=Z}get queryParamMap(){return this._queryParamMap??=Tt(this.queryParams),this._queryParamMap}toString(){return an.serialize(this)}}class ae{constructor(j,B){this.segments=j,this.children=B,this.parent=null,Object.values(B).forEach(Z=>Z.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return un(this)}}class ${constructor(j,B){this.path=j,this.parameters=B}get parameterMap(){return this._parameterMap??=Tt(this.parameters),this._parameterMap}toString(){return vt(this)}}function Ue(A,j){return A.length===j.length&&A.every((B,Z)=>B.path===j[Z].path)}let dt=(()=>{class A{static{this.\u0275fac=function(Z){return new(Z||A)}}static{this.\u0275prov=n.jDH({token:A,factory:()=>new Pt,providedIn:"root"})}}return A})();class Pt{parse(j){const B=new Nt(j);return new ve(B.parseRootSegment(),B.parseQueryParams(),B.parseFragment())}serialize(j){const B=`/${Mn(j.root,!0)}`,Z=function kt(A){const j=Object.entries(A).map(([B,Z])=>Array.isArray(Z)?Z.map(be=>`${Bn(B)}=${Bn(be)}`).join("&"):`${Bn(B)}=${Bn(Z)}`).filter(B=>B);return j.length?`?${j.join("&")}`:""}(j.queryParams);return`${B}${Z}${"string"==typeof j.fragment?`#${function It(A){return encodeURI(A)}(j.fragment)}`:""}`}}const an=new Pt;function un(A){return A.segments.map(j=>vt(j)).join("/")}function Mn(A,j){if(!A.hasChildren())return un(A);if(j){const B=A.children[Ye]?Mn(A.children[Ye],!1):"",Z=[];return Object.entries(A.children).forEach(([be,He])=>{be!==Ye&&Z.push(`${be}:${Mn(He,!1)}`)}),Z.length>0?`${B}(${Z.join("//")})`:B}{const B=function Ze(A,j){let B=[];return Object.entries(A.children).forEach(([Z,be])=>{Z===Ye&&(B=B.concat(j(be,Z)))}),Object.entries(A.children).forEach(([Z,be])=>{Z!==Ye&&(B=B.concat(j(be,Z)))}),B}(A,(Z,be)=>be===Ye?[Mn(A.children[Ye],!1)]:[`${be}:${Mn(Z,!1)}`]);return 1===Object.keys(A.children).length&&null!=A.children[Ye]?`${un(A)}/${B[0]}`:`${un(A)}/(${B.join("//")})`}}function kn(A){return encodeURIComponent(A).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Bn(A){return kn(A).replace(/%3B/gi,";")}function Rn(A){return kn(A).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ht(A){return decodeURIComponent(A)}function lt(A){return Ht(A.replace(/\+/g,"%20"))}function vt(A){return`${Rn(A.path)}${function mt(A){return Object.entries(A).map(([j,B])=>`;${Rn(j)}=${Rn(B)}`).join("")}(A.parameters)}`}const nn=/^[^\/()?;#]+/;function Tn(A){const j=A.match(nn);return j?j[0]:""}const Ln=/^[^\/()?;=#]+/,li=/^[^=?&#]+/,Rt=/^[^&#]+/;class Nt{constructor(j){this.url=j,this.remaining=j}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ae([],{}):new ae([],this.parseChildren())}parseQueryParams(){const j={};if(this.consumeOptional("?"))do{this.parseQueryParam(j)}while(this.consumeOptional("&"));return j}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const j=[];for(this.peekStartsWith("(")||j.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),j.push(this.parseSegment());let B={};this.peekStartsWith("/(")&&(this.capture("/"),B=this.parseParens(!0));let Z={};return this.peekStartsWith("(")&&(Z=this.parseParens(!1)),(j.length>0||Object.keys(B).length>0)&&(Z[Ye]=new ae(j,B)),Z}parseSegment(){const j=Tn(this.remaining);if(""===j&&this.peekStartsWith(";"))throw new n.wOt(4009,!1);return this.capture(j),new $(Ht(j),this.parseMatrixParams())}parseMatrixParams(){const j={};for(;this.consumeOptional(";");)this.parseParam(j);return j}parseParam(j){const B=function dn(A){const j=A.match(Ln);return j?j[0]:""}(this.remaining);if(!B)return;this.capture(B);let Z="";if(this.consumeOptional("=")){const be=Tn(this.remaining);be&&(Z=be,this.capture(Z))}j[Ht(B)]=Ht(Z)}parseQueryParam(j){const B=function ci(A){const j=A.match(li);return j?j[0]:""}(this.remaining);if(!B)return;this.capture(B);let Z="";if(this.consumeOptional("=")){const gt=function ut(A){const j=A.match(Rt);return j?j[0]:""}(this.remaining);gt&&(Z=gt,this.capture(Z))}const be=lt(B),He=lt(Z);if(j.hasOwnProperty(be)){let gt=j[be];Array.isArray(gt)||(gt=[gt],j[be]=gt),gt.push(He)}else j[be]=He}parseParens(j){const B={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const Z=Tn(this.remaining),be=this.remaining[Z.length];if("/"!==be&&")"!==be&&";"!==be)throw new n.wOt(4010,!1);let He;Z.indexOf(":")>-1?(He=Z.slice(0,Z.indexOf(":")),this.capture(He),this.capture(":")):j&&(He=Ye);const gt=this.parseChildren();B[He]=1===Object.keys(gt).length?gt[Ye]:new ae([],gt),this.consumeOptional("//")}return B}peekStartsWith(j){return this.remaining.startsWith(j)}consumeOptional(j){return!!this.peekStartsWith(j)&&(this.remaining=this.remaining.substring(j.length),!0)}capture(j){if(!this.consumeOptional(j))throw new n.wOt(4011,!1)}}function $t(A){return A.segments.length>0?new ae([],{[Ye]:A}):A}function zt(A){const j={};for(const[Z,be]of Object.entries(A.children)){const He=zt(be);if(Z===Ye&&0===He.segments.length&&He.hasChildren())for(const[gt,on]of Object.entries(He.children))j[gt]=on;else(He.segments.length>0||He.hasChildren())&&(j[Z]=He)}return function yn(A){if(1===A.numberOfChildren&&A.children[Ye]){const j=A.children[Ye];return new ae(A.segments.concat(j.segments),j.children)}return A}(new ae(A.segments,j))}function vn(A){return A instanceof ve}function An(A){let j;const be=$t(function B(He){const gt={};for(const en of He.children){const Un=B(en);gt[en.outlet]=Un}const on=new ae(He.url,gt);return He===A&&(j=on),on}(A.root));return j??be}function mn(A,j,B,Z){let be=A;for(;be.parent;)be=be.parent;if(0===j.length)return ni(be,be,be,B,Z);const He=function wi(A){if("string"==typeof A[0]&&1===A.length&&"/"===A[0])return new Xn(!0,0,A);let j=0,B=!1;const Z=A.reduce((be,He,gt)=>{if("object"==typeof He&&null!=He){if(He.outlets){const on={};return Object.entries(He.outlets).forEach(([en,Un])=>{on[en]="string"==typeof Un?Un.split("/"):Un}),[...be,{outlets:on}]}if(He.segmentPath)return[...be,He.segmentPath]}return"string"!=typeof He?[...be,He]:0===gt?(He.split("/").forEach((on,en)=>{0==en&&"."===on||(0==en&&""===on?B=!0:".."===on?j++:""!=on&&be.push(on))}),be):[...be,He]},[]);return new Xn(B,j,Z)}(j);if(He.toRoot())return ni(be,be,new ae([],{}),B,Z);const gt=function Hi(A,j,B){if(A.isAbsolute)return new pi(j,!0,0);if(!B)return new pi(j,!1,NaN);if(null===B.parent)return new pi(B,!0,0);const Z=ui(A.commands[0])?0:1;return function ji(A,j,B){let Z=A,be=j,He=B;for(;He>be;){if(He-=be,Z=Z.parent,!Z)throw new n.wOt(4005,!1);be=Z.segments.length}return new pi(Z,!1,be-He)}(B,B.segments.length-1+Z,A.numberOfDoubleDots)}(He,be,A),on=gt.processChildren?Dt(gt.segmentGroup,gt.index,He.commands):tt(gt.segmentGroup,gt.index,He.commands);return ni(be,gt.segmentGroup,on,B,Z)}function ui(A){return"object"==typeof A&&null!=A&&!A.outlets&&!A.segmentPath}function gi(A){return"object"==typeof A&&null!=A&&A.outlets}function ni(A,j,B,Z,be){let gt,He={};Z&&Object.entries(Z).forEach(([en,Un])=>{He[en]=Array.isArray(Un)?Un.map(Oi=>`${Oi}`):`${Un}`}),gt=A===j?B:Bi(A,j,B);const on=$t(zt(gt));return new ve(on,He,be)}function Bi(A,j,B){const Z={};return Object.entries(A.children).forEach(([be,He])=>{Z[be]=He===j?B:Bi(He,j,B)}),new ae(A.segments,Z)}class Xn{constructor(j,B,Z){if(this.isAbsolute=j,this.numberOfDoubleDots=B,this.commands=Z,j&&Z.length>0&&ui(Z[0]))throw new n.wOt(4003,!1);const be=Z.find(gi);if(be&&be!==Ee(Z))throw new n.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class pi{constructor(j,B,Z){this.segmentGroup=j,this.processChildren=B,this.index=Z}}function tt(A,j,B){if(A??=new ae([],{}),0===A.segments.length&&A.hasChildren())return Dt(A,j,B);const Z=function Ct(A,j,B){let Z=0,be=j;const He={match:!1,pathIndex:0,commandIndex:0};for(;be<A.segments.length;){if(Z>=B.length)return He;const gt=A.segments[be],on=B[Z];if(gi(on))break;const en=`${on}`,Un=Z<B.length-1?B[Z+1]:null;if(be>0&&void 0===en)break;if(en&&Un&&"object"==typeof Un&&void 0===Un.outlets){if(!St(en,Un,gt))return He;Z+=2}else{if(!St(en,{},gt))return He;Z++}be++}return{match:!0,pathIndex:be,commandIndex:Z}}(A,j,B),be=B.slice(Z.commandIndex);if(Z.match&&Z.pathIndex<A.segments.length){const He=new ae(A.segments.slice(0,Z.pathIndex),{});return He.children[Ye]=new ae(A.segments.slice(Z.pathIndex),A.children),Dt(He,0,be)}return Z.match&&0===be.length?new ae(A.segments,{}):Z.match&&!A.hasChildren()?rn(A,j,B):Z.match?Dt(A,0,be):rn(A,j,B)}function Dt(A,j,B){if(0===B.length)return new ae(A.segments,{});{const Z=function Si(A){return gi(A[0])?A[0].outlets:{[Ye]:A}}(B),be={};if(Object.keys(Z).some(He=>He!==Ye)&&A.children[Ye]&&1===A.numberOfChildren&&0===A.children[Ye].segments.length){const He=Dt(A.children[Ye],j,B);return new ae(A.segments,He.children)}return Object.entries(Z).forEach(([He,gt])=>{"string"==typeof gt&&(gt=[gt]),null!==gt&&(be[He]=tt(A.children[He],j,gt))}),Object.entries(A.children).forEach(([He,gt])=>{void 0===Z[He]&&(be[He]=gt)}),new ae(A.segments,be)}}function rn(A,j,B){const Z=A.segments.slice(0,j);let be=0;for(;be<B.length;){const He=B[be];if(gi(He)){const en=Qt(He.outlets);return new ae(Z,en)}if(0===be&&ui(B[0])){Z.push(new $(A.segments[j].path,In(B[0]))),be++;continue}const gt=gi(He)?He.outlets[Ye]:`${He}`,on=be<B.length-1?B[be+1]:null;gt&&on&&ui(on)?(Z.push(new $(gt,In(on))),be+=2):(Z.push(new $(gt,{})),be++)}return new ae(Z,{})}function Qt(A){const j={};return Object.entries(A).forEach(([B,Z])=>{"string"==typeof Z&&(Z=[Z]),null!==Z&&(j[B]=rn(new ae([],{}),0,Z))}),j}function In(A){const j={};return Object.entries(A).forEach(([B,Z])=>j[B]=`${Z}`),j}function St(A,j,B){return A==B.path&&Y(j,B.parameters)}const yt="imperative";var Oe=function(A){return A[A.NavigationStart=0]="NavigationStart",A[A.NavigationEnd=1]="NavigationEnd",A[A.NavigationCancel=2]="NavigationCancel",A[A.NavigationError=3]="NavigationError",A[A.RoutesRecognized=4]="RoutesRecognized",A[A.ResolveStart=5]="ResolveStart",A[A.ResolveEnd=6]="ResolveEnd",A[A.GuardsCheckStart=7]="GuardsCheckStart",A[A.GuardsCheckEnd=8]="GuardsCheckEnd",A[A.RouteConfigLoadStart=9]="RouteConfigLoadStart",A[A.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",A[A.ChildActivationStart=11]="ChildActivationStart",A[A.ChildActivationEnd=12]="ChildActivationEnd",A[A.ActivationStart=13]="ActivationStart",A[A.ActivationEnd=14]="ActivationEnd",A[A.Scroll=15]="Scroll",A[A.NavigationSkipped=16]="NavigationSkipped",A}(Oe||{});class ue{constructor(j,B){this.id=j,this.url=B}}class q extends ue{constructor(j,B,Z="imperative",be=null){super(j,B),this.type=Oe.NavigationStart,this.navigationTrigger=Z,this.restoredState=be}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class he extends ue{constructor(j,B,Z){super(j,B),this.urlAfterRedirects=Z,this.type=Oe.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Me=function(A){return A[A.Redirect=0]="Redirect",A[A.SupersededByNewNavigation=1]="SupersededByNewNavigation",A[A.NoDataFromResolver=2]="NoDataFromResolver",A[A.GuardRejected=3]="GuardRejected",A}(Me||{}),Et=function(A){return A[A.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",A[A.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",A}(Et||{});class Kt extends ue{constructor(j,B,Z,be){super(j,B),this.reason=Z,this.code=be,this.type=Oe.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class hn extends ue{constructor(j,B,Z,be){super(j,B),this.reason=Z,this.code=be,this.type=Oe.NavigationSkipped}}class _n extends ue{constructor(j,B,Z,be){super(j,B),this.error=Z,this.target=be,this.type=Oe.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Zn extends ue{constructor(j,B,Z,be){super(j,B),this.urlAfterRedirects=Z,this.state=be,this.type=Oe.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _i extends ue{constructor(j,B,Z,be){super(j,B),this.urlAfterRedirects=Z,this.state=be,this.type=Oe.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fi extends ue{constructor(j,B,Z,be,He){super(j,B),this.urlAfterRedirects=Z,this.state=be,this.shouldActivate=He,this.type=Oe.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class di extends ue{constructor(j,B,Z,be){super(j,B),this.urlAfterRedirects=Z,this.state=be,this.type=Oe.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yi extends ue{constructor(j,B,Z,be){super(j,B),this.urlAfterRedirects=Z,this.state=be,this.type=Oe.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ar{constructor(j){this.route=j,this.type=Oe.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Gn{constructor(j){this.route=j,this.type=Oe.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ri{constructor(j){this.snapshot=j,this.type=Oe.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cr{constructor(j){this.snapshot=j,this.type=Oe.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mi{constructor(j){this.snapshot=j,this.type=Oe.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xr{constructor(j){this.snapshot=j,this.type=Oe.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gs{constructor(j,B,Z){this.routerEvent=j,this.position=B,this.anchor=Z,this.type=Oe.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ms{}class ks{constructor(j){this.url=j}}class Bs{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new gs,this.attachRef=null}}let gs=(()=>{class A{constructor(){this.contexts=new Map}onChildOutletCreated(B,Z){const be=this.getOrCreateContext(B);be.outlet=Z,this.contexts.set(B,be)}onChildOutletDestroyed(B){const Z=this.getContext(B);Z&&(Z.outlet=null,Z.attachRef=null)}onOutletDeactivated(){const B=this.contexts;return this.contexts=new Map,B}onOutletReAttached(B){this.contexts=B}getOrCreateContext(B){let Z=this.getContext(B);return Z||(Z=new Bs,this.contexts.set(B,Z)),Z}getContext(B){return this.contexts.get(B)||null}static{this.\u0275fac=function(Z){return new(Z||A)}}static{this.\u0275prov=n.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}}return A})();class wr{constructor(j){this._root=j}get root(){return this._root.value}parent(j){const B=this.pathFromRoot(j);return B.length>1?B[B.length-2]:null}children(j){const B=Ns(j,this._root);return B?B.children.map(Z=>Z.value):[]}firstChild(j){const B=Ns(j,this._root);return B&&B.children.length>0?B.children[0].value:null}siblings(j){const B=gr(j,this._root);return B.length<2?[]:B[B.length-2].children.map(be=>be.value).filter(be=>be!==j)}pathFromRoot(j){return gr(j,this._root).map(B=>B.value)}}function Ns(A,j){if(A===j.value)return j;for(const B of j.children){const Z=Ns(A,B);if(Z)return Z}return null}function gr(A,j){if(A===j.value)return[j];for(const B of j.children){const Z=gr(A,B);if(Z.length)return Z.unshift(j),Z}return[]}class vr{constructor(j,B){this.value=j,this.children=B}toString(){return`TreeNode(${this.value})`}}function Ni(A){const j={};return A&&A.children.forEach(B=>j[B.value.outlet]=B),j}class Hs extends wr{constructor(j,B){super(j),this.snapshot=B,Er(this,j)}toString(){return this.snapshot.toString()}}function ai(A){const j=function Yo(A){const He=new pr([],{},{},"",{},Ye,A,null,{});return new Sr("",new vr(He,[]))}(A),B=new S.t([new $("",{})]),Z=new S.t({}),be=new S.t({}),He=new S.t({}),gt=new S.t(""),on=new $n(B,Z,He,gt,be,Ye,A,j.root);return on.snapshot=j.root,new Hs(new vr(on,[]),j)}class $n{constructor(j,B,Z,be,He,gt,on,en){this.urlSubject=j,this.paramsSubject=B,this.queryParamsSubject=Z,this.fragmentSubject=be,this.dataSubject=He,this.outlet=gt,this.component=on,this._futureSnapshot=en,this.title=this.dataSubject?.pipe((0,G.T)(Un=>Un[Yt]))??(0,g.of)(void 0),this.url=j,this.params=B,this.queryParams=Z,this.fragment=be,this.data=He}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,G.T)(j=>Tt(j))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,G.T)(j=>Tt(j))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Jr(A,j,B="emptyOnly"){let Z;const{routeConfig:be}=A;return Z=null===j||"always"!==B&&""!==be?.path&&(j.component||j.routeConfig?.loadComponent)?{params:{...A.params},data:{...A.data},resolve:{...A.data,...A._resolvedData??{}}}:{params:{...j.params,...A.params},data:{...j.data,...A.data},resolve:{...A.data,...j.data,...be?.data,...A._resolvedData}},be&&tr(be)&&(Z.resolve[Yt]=be.title),Z}class pr{get title(){return this.data?.[Yt]}constructor(j,B,Z,be,He,gt,on,en,Un){this.url=j,this.params=B,this.queryParams=Z,this.fragment=be,this.data=He,this.outlet=gt,this.component=on,this.routeConfig=en,this._resolve=Un}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Tt(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Tt(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(Z=>Z.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Sr extends wr{constructor(j,B){super(B),this.url=j,Er(this,B)}toString(){return kr(this._root)}}function Er(A,j){j.value._routerState=A,j.children.forEach(B=>Er(A,B))}function kr(A){const j=A.children.length>0?` { ${A.children.map(kr).join(", ")} } `:"";return`${A.value}${j}`}function Lr(A){if(A.snapshot){const j=A.snapshot,B=A._futureSnapshot;A.snapshot=B,Y(j.queryParams,B.queryParams)||A.queryParamsSubject.next(B.queryParams),j.fragment!==B.fragment&&A.fragmentSubject.next(B.fragment),Y(j.params,B.params)||A.paramsSubject.next(B.params),function X(A,j){if(A.length!==j.length)return!1;for(let B=0;B<A.length;++B)if(!Y(A[B],j[B]))return!1;return!0}(j.url,B.url)||A.urlSubject.next(B.url),Y(j.data,B.data)||A.dataSubject.next(B.data)}else A.snapshot=A._futureSnapshot,A.dataSubject.next(A._futureSnapshot.data)}function er(A,j){const B=Y(A.params,j.params)&&function se(A,j){return Ue(A,j)&&A.every((B,Z)=>Y(B.parameters,j[Z].parameters))}(A.url,j.url);return B&&!(!A.parent!=!j.parent)&&(!A.parent||er(A.parent,j.parent))}function tr(A){return"string"==typeof A.title||null===A.title}let Wn=(()=>{class A{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ye,this.activateEvents=new n.bkB,this.deactivateEvents=new n.bkB,this.attachEvents=new n.bkB,this.detachEvents=new n.bkB,this.parentContexts=(0,n.WQX)(gs),this.location=(0,n.WQX)(n.c1b),this.changeDetector=(0,n.WQX)(n.gRc),this.environmentInjector=(0,n.WQX)(n.uvJ),this.inputBinder=(0,n.WQX)(ur,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(B){if(B.name){const{firstChange:Z,previousValue:be}=B.name;if(Z)return;this.isTrackedInParentContexts(be)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(be)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(B){return this.parentContexts.getContext(B)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const B=this.parentContexts.getContext(this.name);B?.route&&(B.attachRef?this.attach(B.attachRef,B.route):this.activateWith(B.route,B.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new n.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new n.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new n.wOt(4012,!1);this.location.detach();const B=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(B.instance),B}attach(B,Z){this.activated=B,this._activatedRoute=Z,this.location.insert(B.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(B.instance)}deactivate(){if(this.activated){const B=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(B)}}activateWith(B,Z){if(this.isActivated)throw new n.wOt(4013,!1);this._activatedRoute=B;const be=this.location,gt=B.snapshot.component,on=this.parentContexts.getOrCreateContext(this.name).children,en=new Gr(B,on,be.injector);this.activated=be.createComponent(gt,{index:be.length,injector:en,environmentInjector:Z??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(Z){return new(Z||A)}}static{this.\u0275dir=n.FsC({type:A,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[n.OA$]})}}return A})();class Gr{constructor(j,B,Z){this.route=j,this.childContexts=B,this.parent=Z,this.__ngOutletInjector=!0}get(j,B){return j===$n?this.route:j===gs?this.childContexts:this.parent.get(j,B)}}const ur=new n.nKC("");let Nr=(()=>{class A{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(B){this.unsubscribeFromRouteData(B),this.subscribeToRouteData(B)}unsubscribeFromRouteData(B){this.outletDataSubscriptions.get(B)?.unsubscribe(),this.outletDataSubscriptions.delete(B)}subscribeToRouteData(B){const{activatedRoute:Z}=B,be=(0,v.z)([Z.queryParams,Z.params,Z.data]).pipe((0,ie.n)(([He,gt,on],en)=>(on={...He,...gt,...on},0===en?(0,g.of)(on):Promise.resolve(on)))).subscribe(He=>{if(!B.isActivated||!B.activatedComponentRef||B.activatedRoute!==Z||null===Z.component)return void this.unsubscribeFromRouteData(B);const gt=(0,n.HJs)(Z.component);if(gt)for(const{templateName:on}of gt.inputs)B.activatedComponentRef.setInput(on,He[on]);else this.unsubscribeFromRouteData(B)});this.outletDataSubscriptions.set(B,be)}static{this.\u0275fac=function(Z){return new(Z||A)}}static{this.\u0275prov=n.jDH({token:A,factory:A.\u0275fac})}}return A})();function qs(A,j,B){if(B&&A.shouldReuseRoute(j.value,B.value.snapshot)){const Z=B.value;Z._futureSnapshot=j.value;const be=function go(A,j,B){return j.children.map(Z=>{for(const be of B.children)if(A.shouldReuseRoute(Z.value,be.value.snapshot))return qs(A,Z,be);return qs(A,Z)})}(A,j,B);return new vr(Z,be)}{if(A.shouldAttach(j.value)){const He=A.retrieve(j.value);if(null!==He){const gt=He.route;return gt.value._futureSnapshot=j.value,gt.children=j.children.map(on=>qs(A,on)),gt}}const Z=function Ss(A){return new $n(new S.t(A.url),new S.t(A.params),new S.t(A.queryParams),new S.t(A.fragment),new S.t(A.data),A.outlet,A.component,A)}(j.value),be=j.children.map(He=>qs(A,He));return new vr(Z,be)}}const yr="ngNavigationCancelingError";function ss(A,j){const{redirectTo:B,navigationBehaviorOptions:Z}=vn(j)?{redirectTo:j,navigationBehaviorOptions:void 0}:j,be=os(!1,Me.Redirect);return be.url=B,be.navigationBehaviorOptions=Z,be}function os(A,j){const B=new Error(`NavigationCancelingError: ${A||""}`);return B[yr]=!0,B.cancellationCode=j,B}function Qr(A){return!!A&&A[yr]}let co=(()=>{class A{static{this.\u0275fac=function(Z){return new(Z||A)}}static{this.\u0275cmp=n.VBU({type:A,selectors:[["ng-component"]],standalone:!0,features:[n.aNF],decls:1,vars:0,template:function(Z,be){1&Z&&n.nrm(0,"router-outlet")},dependencies:[Wn],encapsulation:2})}}return A})();function or(A){const j=A.children&&A.children.map(or),B=j?{...A,children:j}:{...A};return!B.component&&!B.loadComponent&&(j||B.loadChildren)&&B.outlet&&B.outlet!==Ye&&(B.component=co),B}function Fr(A){return A.outlet||Ye}function no(A){if(!A)return null;if(A.routeConfig?._injector)return A.routeConfig._injector;for(let j=A.parent;j;j=j.parent){const B=j.routeConfig;if(B?._loadedInjector)return B._loadedInjector;if(B?._injector)return B._injector}return null}class si{constructor(j,B,Z,be,He){this.routeReuseStrategy=j,this.futureState=B,this.currState=Z,this.forwardEvent=be,this.inputBindingEnabled=He}activate(j){const B=this.futureState._root,Z=this.currState?this.currState._root:null;this.deactivateChildRoutes(B,Z,j),Lr(this.futureState.root),this.activateChildRoutes(B,Z,j)}deactivateChildRoutes(j,B,Z){const be=Ni(B);j.children.forEach(He=>{const gt=He.value.outlet;this.deactivateRoutes(He,be[gt],Z),delete be[gt]}),Object.values(be).forEach(He=>{this.deactivateRouteAndItsChildren(He,Z)})}deactivateRoutes(j,B,Z){const be=j.value,He=B?B.value:null;if(be===He)if(be.component){const gt=Z.getContext(be.outlet);gt&&this.deactivateChildRoutes(j,B,gt.children)}else this.deactivateChildRoutes(j,B,Z);else He&&this.deactivateRouteAndItsChildren(B,Z)}deactivateRouteAndItsChildren(j,B){j.value.component&&this.routeReuseStrategy.shouldDetach(j.value.snapshot)?this.detachAndStoreRouteSubtree(j,B):this.deactivateRouteAndOutlet(j,B)}detachAndStoreRouteSubtree(j,B){const Z=B.getContext(j.value.outlet),be=Z&&j.value.component?Z.children:B,He=Ni(j);for(const gt of Object.values(He))this.deactivateRouteAndItsChildren(gt,be);if(Z&&Z.outlet){const gt=Z.outlet.detach(),on=Z.children.onOutletDeactivated();this.routeReuseStrategy.store(j.value.snapshot,{componentRef:gt,route:j,contexts:on})}}deactivateRouteAndOutlet(j,B){const Z=B.getContext(j.value.outlet),be=Z&&j.value.component?Z.children:B,He=Ni(j);for(const gt of Object.values(He))this.deactivateRouteAndItsChildren(gt,be);Z&&(Z.outlet&&(Z.outlet.deactivate(),Z.children.onOutletDeactivated()),Z.attachRef=null,Z.route=null)}activateChildRoutes(j,B,Z){const be=Ni(B);j.children.forEach(He=>{this.activateRoutes(He,be[He.value.outlet],Z),this.forwardEvent(new xr(He.value.snapshot))}),j.children.length&&this.forwardEvent(new cr(j.value.snapshot))}activateRoutes(j,B,Z){const be=j.value,He=B?B.value:null;if(Lr(be),be===He)if(be.component){const gt=Z.getOrCreateContext(be.outlet);this.activateChildRoutes(j,B,gt.children)}else this.activateChildRoutes(j,B,Z);else if(be.component){const gt=Z.getOrCreateContext(be.outlet);if(this.routeReuseStrategy.shouldAttach(be.snapshot)){const on=this.routeReuseStrategy.retrieve(be.snapshot);this.routeReuseStrategy.store(be.snapshot,null),gt.children.onOutletReAttached(on.contexts),gt.attachRef=on.componentRef,gt.route=on.route.value,gt.outlet&&gt.outlet.attach(on.componentRef,on.route.value),Lr(on.route.value),this.activateChildRoutes(j,null,gt.children)}else{const on=no(be.snapshot);gt.attachRef=null,gt.route=be,gt.injector=on,gt.outlet&&gt.outlet.activateWith(be,gt.injector),this.activateChildRoutes(j,null,gt.children)}}else this.activateChildRoutes(j,null,Z)}}class Hr{constructor(j){this.path=j,this.route=this.path[this.path.length-1]}}class Ls{constructor(j,B){this.component=j,this.route=B}}function mr(A,j,B){const Z=A._root;return Ur(Z,j?j._root:null,B,[Z.value])}function Pr(A,j){const B=Symbol(),Z=j.get(A,B);return Z===B?"function"!=typeof A||(0,n.LfX)(A)?j.get(A):A:Z}function Ur(A,j,B,Z,be={canDeactivateChecks:[],canActivateChecks:[]}){const He=Ni(j);return A.children.forEach(gt=>{(function Wr(A,j,B,Z,be={canDeactivateChecks:[],canActivateChecks:[]}){const He=A.value,gt=j?j.value:null,on=B?B.getContext(A.value.outlet):null;if(gt&&He.routeConfig===gt.routeConfig){const en=function gn(A,j,B){if("function"==typeof B)return B(A,j);switch(B){case"pathParamsChange":return!Ue(A.url,j.url);case"pathParamsOrQueryParamsChange":return!Ue(A.url,j.url)||!Y(A.queryParams,j.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!er(A,j)||!Y(A.queryParams,j.queryParams);default:return!er(A,j)}}(gt,He,He.routeConfig.runGuardsAndResolvers);en?be.canActivateChecks.push(new Hr(Z)):(He.data=gt.data,He._resolvedData=gt._resolvedData),Ur(A,j,He.component?on?on.children:null:B,Z,be),en&&on&&on.outlet&&on.outlet.isActivated&&be.canDeactivateChecks.push(new Ls(on.outlet.component,gt))}else gt&&vs(j,on,be),be.canActivateChecks.push(new Hr(Z)),Ur(A,null,He.component?on?on.children:null:B,Z,be)})(gt,He[gt.value.outlet],B,Z.concat([gt.value]),be),delete He[gt.value.outlet]}),Object.entries(He).forEach(([gt,on])=>vs(on,B.getContext(gt),be)),be}function vs(A,j,B){const Z=Ni(A),be=A.value;Object.entries(Z).forEach(([He,gt])=>{vs(gt,be.component?j?j.children.getContext(He):null:j,B)}),B.canDeactivateChecks.push(new Ls(be.component&&j&&j.outlet&&j.outlet.isActivated?j.outlet.component:null,be))}function Fe(A){return"function"==typeof A}function ls(A){return A instanceof f.G||"EmptyError"===A?.name}const ys=Symbol("INITIAL_VALUE");function Jn(){return(0,ie.n)(A=>(0,v.z)(A.map(j=>j.pipe((0,le.s)(1),(0,L.Z)(ys)))).pipe((0,G.T)(j=>{for(const B of j)if(!0!==B){if(B===ys)return ys;if(!1===B||B instanceof ve)return B}return!0}),(0,J.p)(j=>j!==ys),(0,le.s)(1)))}function Nn(A){return(0,m.F)((0,z.M)(j=>{if(vn(j))throw ss(0,j)}),(0,G.T)(j=>!0===j))}class Br{constructor(j){this.segmentGroup=j||null}}class Ti extends Error{constructor(j){super(),this.urlTree=j}}function Is(A){return(0,F.$)(new Br(A))}class xi{constructor(j,B){this.urlSerializer=j,this.urlTree=B}lineralizeSegments(j,B){let Z=[],be=B.root;for(;;){if(Z=Z.concat(be.segments),0===be.numberOfChildren)return(0,g.of)(Z);if(be.numberOfChildren>1||!be.children[Ye])return(0,F.$)(new n.wOt(4e3,!1));be=be.children[Ye]}}applyRedirectCommands(j,B,Z){const be=this.applyRedirectCreateUrlTree(B,this.urlSerializer.parse(B),j,Z);if(B.startsWith("/"))throw new Ti(be);return be}applyRedirectCreateUrlTree(j,B,Z,be){const He=this.createSegmentGroup(j,B.root,Z,be);return new ve(He,this.createQueryParams(B.queryParams,this.urlTree.queryParams),B.fragment)}createQueryParams(j,B){const Z={};return Object.entries(j).forEach(([be,He])=>{if("string"==typeof He&&He.startsWith(":")){const on=He.substring(1);Z[be]=B[on]}else Z[be]=He}),Z}createSegmentGroup(j,B,Z,be){const He=this.createSegments(j,B.segments,Z,be);let gt={};return Object.entries(B.children).forEach(([on,en])=>{gt[on]=this.createSegmentGroup(j,en,Z,be)}),new ae(He,gt)}createSegments(j,B,Z,be){return B.map(He=>He.path.startsWith(":")?this.findPosParam(j,He,be):this.findOrReturn(He,Z))}findPosParam(j,B,Z){const be=Z[B.path.substring(1)];if(!be)throw new n.wOt(4001,!1);return be}findOrReturn(j,B){let Z=0;for(const be of B){if(be.path===j.path)return B.splice(Z),be;Z++}return j}}const Hn={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function qr(A,j,B,Z,be){const He=Ds(A,j,B);return He.matched?(Z=function nr(A,j){return A.providers&&!A._injector&&(A._injector=(0,n.Ol2)(A.providers,j,`Route: ${A.path}`)),A._injector??j}(j,Z),function Vn(A,j,B,Z){const be=j.canMatch;if(!be||0===be.length)return(0,g.of)(!0);const He=be.map(gt=>{const on=Pr(gt,A);return at(function Ei(A){return A&&Fe(A.canMatch)}(on)?on.canMatch(j,B):(0,n.N4e)(A,()=>on(j,B)))});return(0,g.of)(He).pipe(Jn(),Nn())}(Z,j,B).pipe((0,G.T)(gt=>!0===gt?He:{...Hn}))):(0,g.of)(He)}function Ds(A,j,B){if("**"===j.path)return function Tr(A){return{matched:!0,parameters:A.length>0?Ee(A).parameters:{},consumedSegments:A,remainingSegments:[],positionalParamSegments:{}}}(B);if(""===j.path)return"full"===j.pathMatch&&(A.hasChildren()||B.length>0)?{...Hn}:{matched:!0,consumedSegments:[],remainingSegments:B,parameters:{},positionalParamSegments:{}};const be=(j.matcher||_t)(B,A,j);if(!be)return{...Hn};const He={};Object.entries(be.posParams??{}).forEach(([on,en])=>{He[on]=en.path});const gt=be.consumed.length>0?{...He,...be.consumed[be.consumed.length-1].parameters}:He;return{matched:!0,consumedSegments:be.consumed,remainingSegments:B.slice(be.consumed.length),parameters:gt,positionalParamSegments:be.posParams??{}}}function sl(A,j,B,Z){return B.length>0&&function Sa(A,j,B){return B.some(Z=>As(A,j,Z)&&Fr(Z)!==Ye)}(A,B,Z)?{segmentGroup:new ae(j,Ro(Z,new ae(B,A.children))),slicedSegments:[]}:0===B.length&&function bn(A,j,B){return B.some(Z=>As(A,j,Z))}(A,B,Z)?{segmentGroup:new ae(A.segments,$i(A,B,Z,A.children)),slicedSegments:B}:{segmentGroup:new ae(A.segments,A.children),slicedSegments:B}}function $i(A,j,B,Z){const be={};for(const He of B)if(As(A,j,He)&&!Z[Fr(He)]){const gt=new ae([],{});be[Fr(He)]=gt}return{...Z,...be}}function Ro(A,j){const B={};B[Ye]=j;for(const Z of A)if(""===Z.path&&Fr(Z)!==Ye){const be=new ae([],{});B[Fr(Z)]=be}return B}function As(A,j,B){return(!(A.hasChildren()||j.length>0)||"full"!==B.pathMatch)&&""===B.path}class Ea{}class qo{constructor(j,B,Z,be,He,gt,on){this.injector=j,this.configLoader=B,this.rootComponentType=Z,this.config=be,this.urlTree=He,this.paramsInheritanceStrategy=gt,this.urlSerializer=on,this.applyRedirects=new xi(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(j){return new n.wOt(4002,`'${j.segmentGroup}'`)}recognize(){const j=sl(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(j).pipe((0,G.T)(B=>{const Z=new pr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ye,this.rootComponentType,null,{}),be=new vr(Z,B),He=new Sr("",be),gt=function zn(A,j,B=null,Z=null){return mn(An(A),j,B,Z)}(Z,[],this.urlTree.queryParams,this.urlTree.fragment);return gt.queryParams=this.urlTree.queryParams,He.url=this.urlSerializer.serialize(gt),this.inheritParamsAndData(He._root,null),{state:He,tree:gt}}))}match(j){return this.processSegmentGroup(this.injector,this.config,j,Ye).pipe((0,_e.W)(Z=>{if(Z instanceof Ti)return this.urlTree=Z.urlTree,this.match(Z.urlTree.root);throw Z instanceof Br?this.noMatchError(Z):Z}))}inheritParamsAndData(j,B){const Z=j.value,be=Jr(Z,B,this.paramsInheritanceStrategy);Z.params=Object.freeze(be.params),Z.data=Object.freeze(be.data),j.children.forEach(He=>this.inheritParamsAndData(He,Z))}processSegmentGroup(j,B,Z,be){return 0===Z.segments.length&&Z.hasChildren()?this.processChildren(j,B,Z):this.processSegment(j,B,Z,Z.segments,be,!0).pipe((0,G.T)(He=>He instanceof vr?[He]:[]))}processChildren(j,B,Z){const be=[];for(const He of Object.keys(Z.children))"primary"===He?be.unshift(He):be.push(He);return(0,_.H)(be).pipe((0,oe.H)(He=>{const gt=Z.children[He],on=function as(A,j){const B=A.filter(Z=>Fr(Z)===j);return B.push(...A.filter(Z=>Fr(Z)!==j)),B}(B,He);return this.processSegmentGroup(j,on,gt,He)}),function Re(A,j){return(0,x.N)((0,Pe.S)(A,j,arguments.length>=2,!0))}((He,gt)=>(He.push(...gt),He)),(0,ke.U)(null),function de(A,j){const B=arguments.length>=2;return Z=>Z.pipe(A?(0,J.p)((be,He)=>A(be,He,Z)):we.D,Je(1),B?(0,ke.U)(j):(0,Te.v)(()=>new f.G))}(),(0,te.Z)(He=>{if(null===He)return Is(Z);const gt=La(He);return function ol(A){A.sort((j,B)=>j.value.outlet===Ye?-1:B.value.outlet===Ye?1:j.value.outlet.localeCompare(B.value.outlet))}(gt),(0,g.of)(gt)}))}processSegment(j,B,Z,be,He,gt){return(0,_.H)(B).pipe((0,oe.H)(on=>this.processSegmentAgainstRoute(on._injector??j,B,on,Z,be,He,gt).pipe((0,_e.W)(en=>{if(en instanceof Br)return(0,g.of)(null);throw en}))),(0,I.$)(on=>!!on),(0,_e.W)(on=>{if(ls(on))return function Os(A,j,B){return 0===j.length&&!A.children[B]}(Z,be,He)?(0,g.of)(new Ea):Is(Z);throw on}))}processSegmentAgainstRoute(j,B,Z,be,He,gt,on){return function Qo(A,j,B,Z){return!!(Fr(A)===Z||Z!==Ye&&As(j,B,A))&&Ds(j,A,B).matched}(Z,be,He,gt)?void 0===Z.redirectTo?this.matchSegmentAgainstRoute(j,be,Z,He,gt):this.allowRedirects&&on?this.expandSegmentAgainstRouteUsingRedirect(j,be,B,Z,He,gt):Is(be):Is(be)}expandSegmentAgainstRouteUsingRedirect(j,B,Z,be,He,gt){const{matched:on,consumedSegments:en,positionalParamSegments:Un,remainingSegments:Oi}=Ds(B,be,He);if(!on)return Is(B);be.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const Pi=this.applyRedirects.applyRedirectCommands(en,be.redirectTo,Un);return this.applyRedirects.lineralizeSegments(be,Pi).pipe((0,te.Z)(hr=>this.processSegment(j,Z,B,hr.concat(Oi),gt,!1)))}matchSegmentAgainstRoute(j,B,Z,be,He){const gt=qr(B,Z,be,j);return"**"===Z.path&&(B.children={}),gt.pipe((0,ie.n)(on=>on.matched?this.getChildConfig(j=Z._injector??j,Z,be).pipe((0,ie.n)(({routes:en})=>{const Un=Z._loadedInjector??j,{consumedSegments:Oi,remainingSegments:Pi,parameters:hr}=on,Vs=new pr(Oi,hr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function Lo(A){return A.data||{}}(Z),Fr(Z),Z.component??Z._loadedComponent??null,Z,function vo(A){return A.resolve||{}}(Z)),{segmentGroup:xs,slicedSegments:Da}=sl(B,Oi,Pi,en);if(0===Da.length&&xs.hasChildren())return this.processChildren(Un,en,xs).pipe((0,G.T)(Ks=>null===Ks?null:new vr(Vs,Ks)));if(0===en.length&&0===Da.length)return(0,g.of)(new vr(Vs,[]));const Yl=Fr(Z)===He;return this.processSegment(Un,en,xs,Da,Yl?Ye:He,!0).pipe((0,G.T)(Ks=>new vr(Vs,Ks instanceof vr?[Ks]:[])))})):Is(B)))}getChildConfig(j,B,Z){return B.children?(0,g.of)({routes:B.children,injector:j}):B.loadChildren?void 0!==B._loadedRoutes?(0,g.of)({routes:B._loadedRoutes,injector:B._loadedInjector}):function Qn(A,j,B,Z){const be=j.canLoad;if(void 0===be||0===be.length)return(0,g.of)(!0);const He=be.map(gt=>{const on=Pr(gt,A);return at(function ge(A){return A&&Fe(A.canLoad)}(on)?on.canLoad(j,B):(0,n.N4e)(A,()=>on(j,B)))});return(0,g.of)(He).pipe(Jn(),Nn())}(j,B,Z).pipe((0,te.Z)(be=>be?this.configLoader.loadChildren(j,B).pipe((0,z.M)(He=>{B._loadedRoutes=He.routes,B._loadedInjector=He.injector})):function Vr(A){return(0,F.$)(os(!1,Me.GuardRejected))}())):(0,g.of)({routes:[],injector:j})}}function hs(A){const j=A.value.routeConfig;return j&&""===j.path}function La(A){const j=[],B=new Set;for(const Z of A){if(!hs(Z)){j.push(Z);continue}const be=j.find(He=>Z.value.routeConfig===He.value.routeConfig);void 0!==be?(be.children.push(...Z.children),B.add(be)):j.push(Z)}for(const Z of B){const be=La(Z.children);j.push(new vr(Z.value,be))}return j.filter(Z=>!B.has(Z))}function Va(A){const j=A.children.map(B=>Va(B)).flat();return[A,...j]}function uo(A){return(0,ie.n)(j=>{const B=A(j);return B?(0,_.H)(B).pipe((0,G.T)(()=>j)):(0,g.of)(j)})}let Rs=(()=>{class A{buildTitle(B){let Z,be=B.root;for(;void 0!==be;)Z=this.getResolvedTitleForRoute(be)??Z,be=be.children.find(He=>He.outlet===Ye);return Z}getResolvedTitleForRoute(B){return B.data[Yt]}static{this.\u0275fac=function(Z){return new(Z||A)}}static{this.\u0275prov=n.jDH({token:A,factory:()=>(0,n.WQX)(Ws),providedIn:"root"})}}return A})(),Ws=(()=>{class A extends Rs{constructor(B){super(),this.title=B}updateTitle(B){const Z=this.buildTitle(B);void 0!==Z&&this.title.setTitle(Z)}static{this.\u0275fac=function(Z){return new(Z||A)(n.KVO(ht.hE))}}static{this.\u0275prov=n.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}}return A})();const Uo=new n.nKC("",{providedIn:"root",factory:()=>({})}),yo=new n.nKC("");let Kr=(()=>{class A{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,n.WQX)(n.Ql9)}loadComponent(B){if(this.componentLoaders.get(B))return this.componentLoaders.get(B);if(B._loadedComponent)return(0,g.of)(B._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(B);const Z=at(B.loadComponent()).pipe((0,G.T)(ha),(0,z.M)(He=>{this.onLoadEndListener&&this.onLoadEndListener(B),B._loadedComponent=He}),(0,Ae.j)(()=>{this.componentLoaders.delete(B)})),be=new M(Z,()=>new V.B).pipe(H());return this.componentLoaders.set(B,be),be}loadChildren(B,Z){if(this.childrenLoaders.get(Z))return this.childrenLoaders.get(Z);if(Z._loadedRoutes)return(0,g.of)({routes:Z._loadedRoutes,injector:Z._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(Z);const He=function fs(A,j,B,Z){return at(A.loadChildren()).pipe((0,G.T)(ha),(0,te.Z)(be=>be instanceof n.Co$||Array.isArray(be)?(0,g.of)(be):(0,_.H)(j.compileModuleAsync(be))),(0,G.T)(be=>{Z&&Z(A);let He,gt,on=!1;return Array.isArray(be)?(gt=be,!0):(He=be.create(B).injector,gt=He.get(yo,[],{optional:!0,self:!0}).flat()),{routes:gt.map(or),injector:He}}))}(Z,this.compiler,B,this.onLoadEndListener).pipe((0,Ae.j)(()=>{this.childrenLoaders.delete(Z)})),gt=new M(He,()=>new V.B).pipe(H());return this.childrenLoaders.set(Z,gt),gt}static{this.\u0275fac=function(Z){return new(Z||A)}}static{this.\u0275prov=n.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}}return A})();function ha(A){return function $a(A){return A&&"object"==typeof A&&"default"in A}(A)?A.default:A}let io=(()=>{class A{static{this.\u0275fac=function(Z){return new(Z||A)}}static{this.\u0275prov=n.jDH({token:A,factory:()=>(0,n.WQX)(Ms),providedIn:"root"})}}return A})(),Ms=(()=>{class A{shouldProcessUrl(B){return!0}extract(B){return B}merge(B,Z){return B}static{this.\u0275fac=function(Z){return new(Z||A)}}static{this.\u0275prov=n.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}}return A})();const Ii=new n.nKC(""),bs=new n.nKC("");function ne(A,j,B){const Z=A.get(bs),be=A.get(U.qQ);return A.get(n.SKi).runOutsideAngular(()=>{if(!be.startViewTransition||Z.skipNextTransition)return Z.skipNextTransition=!1,Promise.resolve();let He;const gt=new Promise(Un=>{He=Un}),on=be.startViewTransition(()=>(He(),function ze(A){return new Promise(j=>{(0,n.mal)(j,{injector:A})})}(A))),{onViewTransitionCreated:en}=Z;return en&&(0,n.N4e)(A,()=>en({transition:on,from:j,to:B})),gt})}let fe=(()=>{class A{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new V.B,this.transitionAbortSubject=new V.B,this.configLoader=(0,n.WQX)(Kr),this.environmentInjector=(0,n.WQX)(n.uvJ),this.urlSerializer=(0,n.WQX)(dt),this.rootContexts=(0,n.WQX)(gs),this.location=(0,n.WQX)(U.aZ),this.inputBindingEnabled=null!==(0,n.WQX)(ur,{optional:!0}),this.titleStrategy=(0,n.WQX)(Rs),this.options=(0,n.WQX)(Uo,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,n.WQX)(io),this.createViewTransition=(0,n.WQX)(Ii,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,g.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=be=>this.events.next(new Gn(be)),this.configLoader.onLoadStartListener=be=>this.events.next(new Ar(be))}complete(){this.transitions?.complete()}handleNavigationRequest(B){const Z=++this.navigationId;this.transitions?.next({...this.transitions.value,...B,id:Z})}setupNavigations(B,Z,be){return this.transitions=new S.t({id:0,currentUrlTree:Z,currentRawUrl:Z,extractedUrl:this.urlHandlingStrategy.extract(Z),urlAfterRedirects:this.urlHandlingStrategy.extract(Z),rawUrl:Z,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:yt,restoredState:null,currentSnapshot:be.snapshot,targetSnapshot:null,currentRouterState:be,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,J.p)(He=>0!==He.id),(0,G.T)(He=>({...He,extractedUrl:this.urlHandlingStrategy.extract(He.rawUrl)})),(0,ie.n)(He=>{let gt=!1,on=!1;return(0,g.of)(He).pipe((0,ie.n)(en=>{if(this.navigationId>He.id)return this.cancelNavigationTransition(He,"",Me.SupersededByNewNavigation),w.w;this.currentTransition=He,this.currentNavigation={id:en.id,initialUrl:en.rawUrl,extractedUrl:en.extractedUrl,trigger:en.source,extras:en.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const Un=!B.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!Un&&"reload"!==(en.extras.onSameUrlNavigation??B.onSameUrlNavigation)){const Pi="";return this.events.next(new hn(en.id,this.urlSerializer.serialize(en.rawUrl),Pi,Et.IgnoredSameUrlNavigation)),en.resolve(null),w.w}if(this.urlHandlingStrategy.shouldProcessUrl(en.rawUrl))return(0,g.of)(en).pipe((0,ie.n)(Pi=>{const hr=this.transitions?.getValue();return this.events.next(new q(Pi.id,this.urlSerializer.serialize(Pi.extractedUrl),Pi.source,Pi.restoredState)),hr!==this.transitions?.getValue()?w.w:Promise.resolve(Pi)}),function Ua(A,j,B,Z,be,He){return(0,te.Z)(gt=>function Zo(A,j,B,Z,be,He,gt="emptyOnly"){return new qo(A,j,B,Z,be,gt,He).recognize()}(A,j,B,Z,gt.extractedUrl,be,He).pipe((0,G.T)(({state:on,tree:en})=>({...gt,targetSnapshot:on,urlAfterRedirects:en}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,B.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,z.M)(Pi=>{He.targetSnapshot=Pi.targetSnapshot,He.urlAfterRedirects=Pi.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Pi.urlAfterRedirects};const hr=new Zn(Pi.id,this.urlSerializer.serialize(Pi.extractedUrl),this.urlSerializer.serialize(Pi.urlAfterRedirects),Pi.targetSnapshot);this.events.next(hr)}));if(Un&&this.urlHandlingStrategy.shouldProcessUrl(en.currentRawUrl)){const{id:Pi,extractedUrl:hr,source:Vs,restoredState:xs,extras:Da}=en,Yl=new q(Pi,this.urlSerializer.serialize(hr),Vs,xs);this.events.next(Yl);const Ks=ai(this.rootComponentType).snapshot;return this.currentTransition=He={...en,targetSnapshot:Ks,urlAfterRedirects:hr,extras:{...Da,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=hr,(0,g.of)(He)}{const Pi="";return this.events.next(new hn(en.id,this.urlSerializer.serialize(en.extractedUrl),Pi,Et.IgnoredByUrlHandlingStrategy)),en.resolve(null),w.w}}),(0,z.M)(en=>{const Un=new _i(en.id,this.urlSerializer.serialize(en.extractedUrl),this.urlSerializer.serialize(en.urlAfterRedirects),en.targetSnapshot);this.events.next(Un)}),(0,G.T)(en=>(this.currentTransition=He={...en,guards:mr(en.targetSnapshot,en.currentSnapshot,this.rootContexts)},He)),function xe(A,j){return(0,te.Z)(B=>{const{targetSnapshot:Z,currentSnapshot:be,guards:{canActivateChecks:He,canDeactivateChecks:gt}}=B;return 0===gt.length&&0===He.length?(0,g.of)({...B,guardsResult:!0}):function Xe(A,j,B,Z){return(0,_.H)(A).pipe((0,te.Z)(be=>function Jt(A,j,B,Z,be){const He=j&&j.routeConfig?j.routeConfig.canDeactivate:null;if(!He||0===He.length)return(0,g.of)(!0);const gt=He.map(on=>{const en=no(j)??be,Un=Pr(on,en);return at(function Kn(A){return A&&Fe(A.canDeactivate)}(Un)?Un.canDeactivate(A,j,B,Z):(0,n.N4e)(en,()=>Un(A,j,B,Z))).pipe((0,I.$)())});return(0,g.of)(gt).pipe(Jn())}(be.component,be.route,B,j,Z)),(0,I.$)(be=>!0!==be,!0))}(gt,Z,be,A).pipe((0,te.Z)(on=>on&&function Ge(A){return"boolean"==typeof A}(on)?function wt(A,j,B,Z){return(0,_.H)(j).pipe((0,oe.H)(be=>(0,d.x)(function Lt(A,j){return null!==A&&j&&j(new ri(A)),(0,g.of)(!0)}(be.route.parent,Z),function Mt(A,j){return null!==A&&j&&j(new Mi(A)),(0,g.of)(!0)}(be.route,Z),function fn(A,j,B){const Z=j[j.length-1],He=j.slice(0,j.length-1).reverse().map(gt=>function Us(A){const j=A.routeConfig?A.routeConfig.canActivateChild:null;return j&&0!==j.length?{node:A,guards:j}:null}(gt)).filter(gt=>null!==gt).map(gt=>(0,E.v)(()=>{const on=gt.guards.map(en=>{const Un=no(gt.node)??B,Oi=Pr(en,Un);return at(function Bt(A){return A&&Fe(A.canActivateChild)}(Oi)?Oi.canActivateChild(Z,A):(0,n.N4e)(Un,()=>Oi(Z,A))).pipe((0,I.$)())});return(0,g.of)(on).pipe(Jn())}));return(0,g.of)(He).pipe(Jn())}(A,be.path,B),function bt(A,j,B){const Z=j.routeConfig?j.routeConfig.canActivate:null;if(!Z||0===Z.length)return(0,g.of)(!0);const be=Z.map(He=>(0,E.v)(()=>{const gt=no(j)??B,on=Pr(He,gt);return at(function et(A){return A&&Fe(A.canActivate)}(on)?on.canActivate(j,A):(0,n.N4e)(gt,()=>on(j,A))).pipe((0,I.$)())}));return(0,g.of)(be).pipe(Jn())}(A,be.route,B))),(0,I.$)(be=>!0!==be,!0))}(Z,He,A,j):(0,g.of)(on)),(0,G.T)(on=>({...B,guardsResult:on})))})}(this.environmentInjector,en=>this.events.next(en)),(0,z.M)(en=>{if(He.guardsResult=en.guardsResult,vn(en.guardsResult))throw ss(0,en.guardsResult);const Un=new fi(en.id,this.urlSerializer.serialize(en.extractedUrl),this.urlSerializer.serialize(en.urlAfterRedirects),en.targetSnapshot,!!en.guardsResult);this.events.next(Un)}),(0,J.p)(en=>!!en.guardsResult||(this.cancelNavigationTransition(en,"",Me.GuardRejected),!1)),uo(en=>{if(en.guards.canActivateChecks.length)return(0,g.of)(en).pipe((0,z.M)(Un=>{const Oi=new di(Un.id,this.urlSerializer.serialize(Un.extractedUrl),this.urlSerializer.serialize(Un.urlAfterRedirects),Un.targetSnapshot);this.events.next(Oi)}),(0,ie.n)(Un=>{let Oi=!1;return(0,g.of)(Un).pipe(function Ta(A,j){return(0,te.Z)(B=>{const{targetSnapshot:Z,guards:{canActivateChecks:be}}=B;if(!be.length)return(0,g.of)(B);const He=new Set(be.map(en=>en.route)),gt=new Set;for(const en of He)if(!gt.has(en))for(const Un of Va(en))gt.add(Un);let on=0;return(0,_.H)(gt).pipe((0,oe.H)(en=>He.has(en)?function ja(A,j,B,Z){const be=A.routeConfig,He=A._resolve;return void 0!==be?.title&&!tr(be)&&(He[Yt]=be.title),function _s(A,j,B,Z){const be=ee(A);if(0===be.length)return(0,g.of)({});const He={};return(0,_.H)(be).pipe((0,te.Z)(gt=>function Ir(A,j,B,Z){const be=no(j)??Z,He=Pr(A,be);return at(He.resolve?He.resolve(j,B):(0,n.N4e)(be,()=>He(j,B)))}(A[gt],j,B,Z).pipe((0,I.$)(),(0,z.M)(on=>{He[gt]=on}))),Je(1),(0,Ve.u)(He),(0,_e.W)(gt=>ls(gt)?w.w:(0,F.$)(gt)))}(He,A,j,Z).pipe((0,G.T)(gt=>(A._resolvedData=gt,A.data=Jr(A,A.parent,B).resolve,null)))}(en,Z,A,j):(en.data=Jr(en,en.parent,A).resolve,(0,g.of)(void 0))),(0,z.M)(()=>on++),Je(1),(0,te.Z)(en=>on===gt.size?(0,g.of)(B):w.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,z.M)({next:()=>Oi=!0,complete:()=>{Oi||this.cancelNavigationTransition(Un,"",Me.NoDataFromResolver)}}))}),(0,z.M)(Un=>{const Oi=new Yi(Un.id,this.urlSerializer.serialize(Un.extractedUrl),this.urlSerializer.serialize(Un.urlAfterRedirects),Un.targetSnapshot);this.events.next(Oi)}))}),uo(en=>{const Un=Oi=>{const Pi=[];Oi.routeConfig?.loadComponent&&!Oi.routeConfig._loadedComponent&&Pi.push(this.configLoader.loadComponent(Oi.routeConfig).pipe((0,z.M)(hr=>{Oi.component=hr}),(0,G.T)(()=>{})));for(const hr of Oi.children)Pi.push(...Un(hr));return Pi};return(0,v.z)(Un(en.targetSnapshot.root)).pipe((0,ke.U)(null),(0,le.s)(1))}),uo(()=>this.afterPreactivation()),(0,ie.n)(()=>{const{currentSnapshot:en,targetSnapshot:Un}=He,Oi=this.createViewTransition?.(this.environmentInjector,en.root,Un.root);return Oi?(0,_.H)(Oi).pipe((0,G.T)(()=>He)):(0,g.of)(He)}),(0,G.T)(en=>{const Un=function rs(A,j,B){const Z=qs(A,j._root,B?B._root:void 0);return new Hs(Z,j)}(B.routeReuseStrategy,en.targetSnapshot,en.currentRouterState);return this.currentTransition=He={...en,targetRouterState:Un},this.currentNavigation.targetRouterState=Un,He}),(0,z.M)(()=>{this.events.next(new ms)}),((A,j,B,Z)=>(0,G.T)(be=>(new si(j,be.targetRouterState,be.currentRouterState,B,Z).activate(A),be)))(this.rootContexts,B.routeReuseStrategy,en=>this.events.next(en),this.inputBindingEnabled),(0,le.s)(1),(0,z.M)({next:en=>{gt=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new he(en.id,this.urlSerializer.serialize(en.extractedUrl),this.urlSerializer.serialize(en.urlAfterRedirects))),this.titleStrategy?.updateTitle(en.targetRouterState.snapshot),en.resolve(!0)},complete:()=>{gt=!0}}),(0,rt.Q)(this.transitionAbortSubject.pipe((0,z.M)(en=>{throw en}))),(0,Ae.j)(()=>{!gt&&!on&&this.cancelNavigationTransition(He,"",Me.SupersededByNewNavigation),this.currentTransition?.id===He.id&&(this.currentNavigation=null,this.currentTransition=null)}),(0,_e.W)(en=>{if(on=!0,Qr(en))this.events.next(new Kt(He.id,this.urlSerializer.serialize(He.extractedUrl),en.message,en.cancellationCode)),function Ca(A){return Qr(A)&&vn(A.url)}(en)?this.events.next(new ks(en.url)):He.resolve(!1);else{this.events.next(new _n(He.id,this.urlSerializer.serialize(He.extractedUrl),en,He.targetSnapshot??void 0));try{He.resolve(B.errorHandler(en))}catch(Un){this.options.resolveNavigationPromiseOnError?He.resolve(!1):He.reject(Un)}}return w.w}))}))}cancelNavigationTransition(B,Z,be){const He=new Kt(B.id,this.urlSerializer.serialize(B.extractedUrl),Z,be);this.events.next(He),B.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(Z){return new(Z||A)}}static{this.\u0275prov=n.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}}return A})();function Le(A){return A!==yt}let At=(()=>{class A{static{this.\u0275fac=function(Z){return new(Z||A)}}static{this.\u0275prov=n.jDH({token:A,factory:()=>(0,n.WQX)(Sn),providedIn:"root"})}}return A})();class pn{shouldDetach(j){return!1}store(j,B){}shouldAttach(j){return!1}retrieve(j){return null}shouldReuseRoute(j,B){return j.routeConfig===B.routeConfig}}let Sn=(()=>{class A extends pn{static{this.\u0275fac=(()=>{let B;return function(be){return(B||(B=n.xGo(A)))(be||A)}})()}static{this.\u0275prov=n.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}}return A})(),ei=(()=>{class A{static{this.\u0275fac=function(Z){return new(Z||A)}}static{this.\u0275prov=n.jDH({token:A,factory:()=>(0,n.WQX)(fr),providedIn:"root"})}}return A})(),fr=(()=>{class A extends ei{constructor(){super(...arguments),this.location=(0,n.WQX)(U.aZ),this.urlSerializer=(0,n.WQX)(dt),this.options=(0,n.WQX)(Uo,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,n.WQX)(io),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new ve,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=ai(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(B){return this.location.subscribe(Z=>{"popstate"===Z.type&&B(Z.url,Z.state)})}handleRouterEvent(B,Z){if(B instanceof q)this.stateMemento=this.createStateMemento();else if(B instanceof hn)this.rawUrlTree=Z.initialUrl;else if(B instanceof Zn){if("eager"===this.urlUpdateStrategy&&!Z.extras.skipLocationChange){const be=this.urlHandlingStrategy.merge(Z.finalUrl,Z.initialUrl);this.setBrowserUrl(be,Z)}}else B instanceof ms?(this.currentUrlTree=Z.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(Z.finalUrl,Z.initialUrl),this.routerState=Z.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Z.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Z))):B instanceof Kt&&(B.code===Me.GuardRejected||B.code===Me.NoDataFromResolver)?this.restoreHistory(Z):B instanceof _n?this.restoreHistory(Z,!0):B instanceof he&&(this.lastSuccessfulId=B.id,this.currentPageId=this.browserPageId)}setBrowserUrl(B,Z){const be=this.urlSerializer.serialize(B);if(this.location.isCurrentPathEqualTo(be)||Z.extras.replaceUrl){const gt={...Z.extras.state,...this.generateNgRouterState(Z.id,this.browserPageId)};this.location.replaceState(be,"",gt)}else{const He={...Z.extras.state,...this.generateNgRouterState(Z.id,this.browserPageId+1)};this.location.go(be,"",He)}}restoreHistory(B,Z=!1){if("computed"===this.canceledNavigationResolution){const He=this.currentPageId-this.browserPageId;0!==He?this.location.historyGo(He):this.currentUrlTree===B.finalUrl&&0===He&&(this.resetState(B),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(Z&&this.resetState(B),this.resetUrlToCurrentUrlTree())}resetState(B){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,B.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(B,Z){return"computed"===this.canceledNavigationResolution?{navigationId:B,\u0275routerPageId:Z}:{navigationId:B}}static{this.\u0275fac=(()=>{let B;return function(be){return(B||(B=n.xGo(A)))(be||A)}})()}static{this.\u0275prov=n.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}}return A})();var ar=function(A){return A[A.COMPLETE=0]="COMPLETE",A[A.FAILED=1]="FAILED",A[A.REDIRECTING=2]="REDIRECTING",A}(ar||{});function Ji(A,j){A.events.pipe((0,J.p)(B=>B instanceof he||B instanceof Kt||B instanceof _n||B instanceof hn),(0,G.T)(B=>B instanceof he||B instanceof hn?ar.COMPLETE:B instanceof Kt&&(B.code===Me.Redirect||B.code===Me.SupersededByNewNavigation)?ar.REDIRECTING:ar.FAILED),(0,J.p)(B=>B!==ar.REDIRECTING),(0,le.s)(1)).subscribe(()=>{j()})}function Ui(A){throw A}const ii={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Qi={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let dr=(()=>{class A{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=(0,n.WQX)(n.H3F),this.stateManager=(0,n.WQX)(ei),this.options=(0,n.WQX)(Uo,{optional:!0})||{},this.pendingTasks=(0,n.WQX)(n.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,n.WQX)(fe),this.urlSerializer=(0,n.WQX)(dt),this.location=(0,n.WQX)(U.aZ),this.urlHandlingStrategy=(0,n.WQX)(io),this._events=new V.B,this.errorHandler=this.options.errorHandler||Ui,this.navigated=!1,this.routeReuseStrategy=(0,n.WQX)(At),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,n.WQX)(yo,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,n.WQX)(ur,{optional:!0}),this.eventsSubscription=new R.yU,this.isNgZoneEnabled=(0,n.WQX)(n.SKi)instanceof n.SKi&&n.SKi.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:B=>{this.console.warn(B)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const B=this.navigationTransitions.events.subscribe(Z=>{try{const be=this.navigationTransitions.currentTransition,He=this.navigationTransitions.currentNavigation;if(null!==be&&null!==He)if(this.stateManager.handleRouterEvent(Z,He),Z instanceof Kt&&Z.code!==Me.Redirect&&Z.code!==Me.SupersededByNewNavigation)this.navigated=!0;else if(Z instanceof he)this.navigated=!0;else if(Z instanceof ks){const gt=this.urlHandlingStrategy.merge(Z.url,be.currentRawUrl),on={info:be.extras.info,skipLocationChange:be.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Le(be.source)};this.scheduleNavigation(gt,yt,null,on,{resolve:be.resolve,reject:be.reject,promise:be.promise})}(function P(A){return!(A instanceof ms||A instanceof ks)})(Z)&&this._events.next(Z)}catch(be){this.navigationTransitions.transitionAbortSubject.next(be)}});this.eventsSubscription.add(B)}resetRootComponentType(B){this.routerState.root.component=B,this.navigationTransitions.rootComponentType=B}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),yt,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((B,Z)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(B,"popstate",Z)},0)})}navigateToSyncWithBrowser(B,Z,be){const He={replaceUrl:!0},gt=be?.navigationId?be:null;if(be){const en={...be};delete en.navigationId,delete en.\u0275routerPageId,0!==Object.keys(en).length&&(He.state=en)}const on=this.parseUrl(B);this.scheduleNavigation(on,Z,gt,He)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(B){this.config=B.map(or),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(B,Z={}){const{relativeTo:be,queryParams:He,fragment:gt,queryParamsHandling:on,preserveFragment:en}=Z,Un=en?this.currentUrlTree.fragment:gt;let Pi,Oi=null;switch(on){case"merge":Oi={...this.currentUrlTree.queryParams,...He};break;case"preserve":Oi=this.currentUrlTree.queryParams;break;default:Oi=He||null}null!==Oi&&(Oi=this.removeEmptyProps(Oi));try{Pi=An(be?be.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof B[0]||!B[0].startsWith("/"))&&(B=[]),Pi=this.currentUrlTree.root}return mn(Pi,B,Oi,Un??null)}navigateByUrl(B,Z={skipLocationChange:!1}){const be=vn(B)?B:this.parseUrl(B),He=this.urlHandlingStrategy.merge(be,this.rawUrlTree);return this.scheduleNavigation(He,yt,null,Z)}navigate(B,Z={skipLocationChange:!1}){return function ye(A){for(let j=0;j<A.length;j++)if(null==A[j])throw new n.wOt(4008,!1)}(B),this.navigateByUrl(this.createUrlTree(B,Z),Z)}serializeUrl(B){return this.urlSerializer.serialize(B)}parseUrl(B){try{return this.urlSerializer.parse(B)}catch{return this.urlSerializer.parse("/")}}isActive(B,Z){let be;if(be=!0===Z?{...ii}:!1===Z?{...Qi}:Z,vn(B))return Ft(this.currentUrlTree,B,be);const He=this.parseUrl(B);return Ft(this.currentUrlTree,He,be)}removeEmptyProps(B){return Object.entries(B).reduce((Z,[be,He])=>(null!=He&&(Z[be]=He),Z),{})}scheduleNavigation(B,Z,be,He,gt){if(this.disposed)return Promise.resolve(!1);let on,en,Un;gt?(on=gt.resolve,en=gt.reject,Un=gt.promise):Un=new Promise((Pi,hr)=>{on=Pi,en=hr});const Oi=this.pendingTasks.add();return Ji(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Oi))}),this.navigationTransitions.handleNavigationRequest({source:Z,restoredState:be,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:B,extras:He,resolve:on,reject:en,promise:Un,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Un.catch(Pi=>Promise.reject(Pi))}static{this.\u0275fac=function(Z){return new(Z||A)}}static{this.\u0275prov=n.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}}return A})(),pe=(()=>{class A{constructor(B,Z,be,He,gt,on){this.router=B,this.route=Z,this.tabIndexAttribute=be,this.renderer=He,this.el=gt,this.locationStrategy=on,this.href=null,this.commands=null,this.onChanges=new V.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const en=gt.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===en||"area"===en,this.isAnchorElement?this.subscription=B.events.subscribe(Un=>{Un instanceof he&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(B){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",B)}ngOnChanges(B){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(B){null!=B?(this.commands=Array.isArray(B)?B:[B],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(B,Z,be,He,gt){const on=this.urlTree;return!!(null===on||this.isAnchorElement&&(0!==B||Z||be||He||gt||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(on,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const B=this.urlTree;this.href=null!==B&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(B)):null;const Z=null===this.href?null:(0,n.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",Z)}applyAttributeValue(B,Z){const be=this.renderer,He=this.el.nativeElement;null!==Z?be.setAttribute(He,B,Z):be.removeAttribute(He,B)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(Z){return new(Z||A)(n.rXU(dr),n.rXU($n),n.kS0("tabindex"),n.rXU(n.sFG),n.rXU(n.aKT),n.rXU(U.hb))}}static{this.\u0275dir=n.FsC({type:A,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(Z,be){1&Z&&n.bIt("click",function(gt){return be.onClick(gt.button,gt.ctrlKey,gt.shiftKey,gt.altKey,gt.metaKey)}),2&Z&&n.BMQ("target",be.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[n.Mj6.HasDecoratorInputTransform,"preserveFragment","preserveFragment",n.L39],skipLocationChange:[n.Mj6.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",n.L39],replaceUrl:[n.Mj6.HasDecoratorInputTransform,"replaceUrl","replaceUrl",n.L39],routerLink:"routerLink"},standalone:!0,features:[n.GFd,n.OA$]})}}return A})(),Ne=(()=>{class A{get isActive(){return this._isActive}constructor(B,Z,be,He,gt){this.router=B,this.element=Z,this.renderer=be,this.cdr=He,this.link=gt,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new n.bkB,this.routerEventsSubscription=B.events.subscribe(on=>{on instanceof he&&this.update()})}ngAfterContentInit(){(0,g.of)(this.links.changes,(0,g.of)(null)).pipe((0,Be.U)()).subscribe(B=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const B=[...this.links.toArray(),this.link].filter(Z=>!!Z).map(Z=>Z.onChanges);this.linkInputChangesSubscription=(0,_.H)(B).pipe((0,Be.U)()).subscribe(Z=>{this._isActive!==this.isLinkActive(this.router)(Z)&&this.update()})}set routerLinkActive(B){const Z=Array.isArray(B)?B:B.split(" ");this.classes=Z.filter(be=>!!be)}ngOnChanges(B){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const B=this.hasActiveLinks();this.classes.forEach(Z=>{B?this.renderer.addClass(this.element.nativeElement,Z):this.renderer.removeClass(this.element.nativeElement,Z)}),B&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==B&&(this._isActive=B,this.cdr.markForCheck(),this.isActiveChange.emit(B))})}isLinkActive(B){const Z=function st(A){return!!A.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return be=>{const He=be.urlTree;return!!He&&B.isActive(He,Z)}}hasActiveLinks(){const B=this.isLinkActive(this.router);return this.link&&B(this.link)||this.links.some(B)}static{this.\u0275fac=function(Z){return new(Z||A)(n.rXU(dr),n.rXU(n.aKT),n.rXU(n.sFG),n.rXU(n.gRc),n.rXU(pe,8))}}static{this.\u0275dir=n.FsC({type:A,selectors:[["","routerLinkActive",""]],contentQueries:function(Z,be,He){if(1&Z&&n.wni(He,pe,5),2&Z){let gt;n.mGM(gt=n.lsd())&&(be.links=gt)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[n.OA$]})}}return A})();class xt{}let sn=(()=>{class A{constructor(B,Z,be,He,gt){this.router=B,this.injector=be,this.preloadingStrategy=He,this.loader=gt}setUpPreloading(){this.subscription=this.router.events.pipe((0,J.p)(B=>B instanceof he),(0,oe.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(B,Z){const be=[];for(const He of Z){He.providers&&!He._injector&&(He._injector=(0,n.Ol2)(He.providers,B,`Route: ${He.path}`));const gt=He._injector??B,on=He._loadedInjector??gt;(He.loadChildren&&!He._loadedRoutes&&void 0===He.canLoad||He.loadComponent&&!He._loadedComponent)&&be.push(this.preloadConfig(gt,He)),(He.children||He._loadedRoutes)&&be.push(this.processRoutes(on,He.children??He._loadedRoutes))}return(0,_.H)(be).pipe((0,Be.U)())}preloadConfig(B,Z){return this.preloadingStrategy.preload(Z,()=>{let be;be=Z.loadChildren&&void 0===Z.canLoad?this.loader.loadChildren(B,Z):(0,g.of)(null);const He=be.pipe((0,te.Z)(gt=>null===gt?(0,g.of)(void 0):(Z._loadedRoutes=gt.routes,Z._loadedInjector=gt.injector,this.processRoutes(gt.injector??B,gt.routes))));if(Z.loadComponent&&!Z._loadedComponent){const gt=this.loader.loadComponent(Z);return(0,_.H)([He,gt]).pipe((0,Be.U)())}return He})}static{this.\u0275fac=function(Z){return new(Z||A)(n.KVO(dr),n.KVO(n.Ql9),n.KVO(n.uvJ),n.KVO(xt),n.KVO(Kr))}}static{this.\u0275prov=n.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}}return A})();const Cn=new n.nKC("");let ti=(()=>{class A{constructor(B,Z,be,He,gt={}){this.urlSerializer=B,this.transitions=Z,this.viewportScroller=be,this.zone=He,this.options=gt,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},gt.scrollPositionRestoration||="disabled",gt.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(B=>{B instanceof q?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=B.navigationTrigger,this.restoredId=B.restoredState?B.restoredState.navigationId:0):B instanceof he?(this.lastId=B.id,this.scheduleScrollEvent(B,this.urlSerializer.parse(B.urlAfterRedirects).fragment)):B instanceof hn&&B.code===Et.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(B,this.urlSerializer.parse(B.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(B=>{B instanceof Gs&&(B.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(B.position):B.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(B.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(B,Z){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Gs(B,"popstate"===this.lastSource?this.store[this.restoredId]:null,Z))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(Z){n.QTQ()}}static{this.\u0275prov=n.jDH({token:A,factory:A.\u0275fac})}}return A})();function mi(A,j){return{\u0275kind:A,\u0275providers:j}}function cs(){const A=(0,n.WQX)(n.zZn);return j=>{const B=A.get(n.o8S);if(j!==B.components[0])return;const Z=A.get(dr),be=A.get(Mo);1===A.get(fa)&&Z.initialNavigation(),A.get(Di,null,n.$GK.Optional)?.setUpPreloading(),A.get(Cn,null,n.$GK.Optional)?.init(),Z.resetRootComponentType(B.componentTypes[0]),be.closed||(be.next(),be.complete(),be.unsubscribe())}}const Mo=new n.nKC("",{factory:()=>new V.B}),fa=new n.nKC("",{providedIn:"root",factory:()=>1}),Di=new n.nKC("");function Ia(A){return mi(0,[{provide:Di,useExisting:sn},{provide:xt,useExisting:A}])}function ws(A){return mi(9,[{provide:Ii,useValue:ne},{provide:bs,useValue:{skipNextTransition:!!A?.skipInitialTransition,...A}}])}const yi=new n.nKC("ROUTER_FORROOT_GUARD"),es=[U.aZ,{provide:dt,useClass:Pt},dr,gs,{provide:$n,useFactory:function _r(A){return A.routerState.root},deps:[dr]},Kr,[]];let Ha=(()=>{class A{constructor(B){}static forRoot(B,Z){return{ngModule:A,providers:[es,[],{provide:yo,multi:!0,useValue:B},{provide:yi,useFactory:Wa,deps:[[dr,new n.Xx1,new n.kdw]]},{provide:Uo,useValue:Z||{}},Z?.useHash?{provide:U.hb,useClass:U.fw}:{provide:U.hb,useClass:U.Sm},{provide:Cn,useFactory:()=>{const A=(0,n.WQX)(U.Xr),j=(0,n.WQX)(n.SKi),B=(0,n.WQX)(Uo),Z=(0,n.WQX)(fe),be=(0,n.WQX)(dt);return B.scrollOffset&&A.setOffset(B.scrollOffset),new ti(be,Z,A,j,B)}},Z?.preloadingStrategy?Ia(Z.preloadingStrategy).\u0275providers:[],Z?.initialNavigation?al(Z):[],Z?.bindToComponentInputs?mi(8,[Nr,{provide:ur,useExisting:Nr}]).\u0275providers:[],Z?.enableViewTransitions?ws().\u0275providers:[],[{provide:$e,useFactory:cs},{provide:n.iLQ,multi:!0,useExisting:$e}]]}}static forChild(B){return{ngModule:A,providers:[{provide:yo,multi:!0,useValue:B}]}}static{this.\u0275fac=function(Z){return new(Z||A)(n.KVO(yi,8))}}static{this.\u0275mod=n.$C({type:A})}static{this.\u0275inj=n.G2t({})}}return A})();function Wa(A){return"guarded"}function al(A){return["disabled"===A.initialNavigation?mi(3,[{provide:n.hnV,multi:!0,useFactory:()=>{const j=(0,n.WQX)(dr);return()=>{j.setUpLocationChangeListener()}}},{provide:fa,useValue:2}]).\u0275providers:[],"enabledBlocking"===A.initialNavigation?mi(2,[{provide:fa,useValue:0},{provide:n.hnV,multi:!0,deps:[n.zZn],useFactory:j=>{const B=j.get(U.hj,Promise.resolve());return()=>B.then(()=>new Promise(Z=>{const be=j.get(dr),He=j.get(Mo);Ji(be,()=>{Z(!0)}),j.get(fe).afterPreactivation=()=>(Z(!0),He.closed?(0,g.of)(void 0):He),be.initialNavigation()}))}}]).\u0275providers:[]]}const $e=new n.nKC("")},7005:(qe,me,u)=>{"use strict";u.d(me,{xq:()=>we,XE:()=>Se,tl:()=>Ut,QG:()=>Ye,wY:()=>Je});var n=u(4438),e=u(1583),_=u(9350),g=u(7707),v=u(1985),f=u(1413),d=u(2771),E=u(7673),m=u(6648),F=u(4402),w=u(5964),C=u(9974),R=u(4360),O=u(1397),H=u(6354),M=u(1780),V=u(177),U=u(1626);const G=new n.nKC("LOCALIZE_ROUTER_FORROOT_GUARD"),ie=new n.nKC("RAW_ROUTES");var le=function(ot){return ot.LocalStorage="LocalStorage",ot.SessionStorage="SessionStorage",ot.Cookie="Cookie",ot}(le||{});const L=new n.nKC("USE_CACHED_LANG"),J=new n.nKC("CACHE_MECHANISM"),te=new n.nKC("CACHE_NAME"),I=new n.nKC("COOKIE_FORMAT"),oe=new n.nKC("INITIAL_NAVIGATION"),z=new n.nKC("DEFAULT_LANG_FUNCTION"),_e=new n.nKC("ALWAYS_SET_PREFIX");let Je=(()=>{class ot{constructor(ft=!0,nt=!0,Wt=le.LocalStorage,tn="LOCALIZE_DEFAULT_LANGUAGE",it=void 0,Ot="{{value}};{{expires}}",ve=!1){this.useCachedLang=ft,this.alwaysSetPrefix=nt,this.cacheName=tn,this.cookieFormat=Ot,this.initialNavigation=ve,this.cacheMechanism=Wt,this.defaultLangFunction=it}}return ot.\u0275fac=function(ft){return new(ft||ot)(n.KVO(L),n.KVO(_e),n.KVO(J),n.KVO(te),n.KVO(z),n.KVO(I),n.KVO(oe))},ot.\u0275prov=n.jDH({token:ot,factory:ot.\u0275fac}),ot})(),we=(()=>{class ot{constructor(ft,nt,Wt){this.translate=ft,this.location=nt,this.settings=Wt}init(ft){let nt;if(this.routes=ft,!this.locales||!this.locales.length)return Promise.resolve();const Wt=this.getLocationLang(),tn=this._getBrowserLang();this.defaultLang=this.settings.defaultLangFunction?this.settings.defaultLangFunction(this.locales,this._cachedLang,tn):this._cachedLang||tn||this.locales[0],nt=Wt||this.defaultLang,this.translate.setDefaultLang(this.defaultLang);let it=[];if(this.settings.alwaysSetPrefix){const Ot={path:"",redirectTo:this.defaultLang,pathMatch:"full"},ve=ft.findIndex(ae=>"**"===ae.path);-1!==ve&&(this._wildcardRoute=ft.splice(ve,1)[0]),it=this.routes.splice(0,this.routes.length,Ot)}else it=[...this.routes];for(let Ot=it.length-1;Ot>=0;Ot--)it[Ot].data&&it[Ot].data.skipRouteLocalization&&(this.settings.alwaysSetPrefix&&this.routes.push(it[Ot]),(void 0===it[Ot].redirectTo||!it[Ot].data.skipRouteLocalization.localizeRedirectTo)&&it.splice(Ot,1));return it&&it.length&&(this.locales.length>1||this.settings.alwaysSetPrefix)&&(this._languageRoute={children:it},this.routes.unshift(this._languageRoute)),this._wildcardRoute&&this.settings.alwaysSetPrefix&&this.routes.push(this._wildcardRoute),function S(ot,Ft){const ft="object"==typeof Ft;return new Promise((nt,Wt)=>{const tn=new g.Ms({next:it=>{nt(it),tn.unsubscribe()},error:Wt,complete:()=>{ft?nt(Ft.defaultValue):Wt(new _.G)}});ot.subscribe(tn)})}(this.translateRoutes(nt))}initChildRoutes(ft){return this._translateRouteTree(ft),ft}translateRoutes(ft){return new v.c(nt=>{this._cachedLang=ft,this._languageRoute&&(this._languageRoute.path=ft),this.translate.use(ft).subscribe(Wt=>{this._translationObject=Wt,this.currentLang=ft,this._languageRoute?(this._translateRouteTree(this._languageRoute.children,!0),this._wildcardRoute&&this._wildcardRoute.redirectTo&&this._translateProperty(this._wildcardRoute,"redirectTo",!0)):this._translateRouteTree(this.routes,!0),nt.next(void 0),nt.complete()})})}_translateRouteTree(ft,nt){ft.forEach(Wt=>{const tn=Wt.data&&Wt.data.skipRouteLocalization;if(Wt.redirectTo&&(!tn||tn.localizeRedirectTo)){const Ot=0===Wt.redirectTo.indexOf("/")||nt;this._translateProperty(Wt,"redirectTo",Ot)}tn||(null!=Wt.path&&this._translateProperty(Wt,"path"),Wt.children&&this._translateRouteTree(Wt.children),Wt.loadChildren&&Wt._loadedRoutes?.length&&this._translateRouteTree(Wt._loadedRoutes))})}_translateProperty(ft,nt,Wt){const tn=ft.data=ft.data||{};tn.localizeRouter||(tn.localizeRouter={}),tn.localizeRouter[nt]||(tn.localizeRouter={...tn.localizeRouter,[nt]:ft[nt]});const it=this.translateRoute(tn.localizeRouter[nt]);ft[nt]=Wt?this.addPrefixToUrl(it):it}get urlPrefix(){return this.settings.alwaysSetPrefix||this.currentLang!==this.defaultLang?this.currentLang?this.currentLang:this.defaultLang:""}addPrefixToUrl(ft){const nt=ft.split("?"),Wt=1===nt[0].length&&"/"===nt[0];nt[0]=nt[0].replace(/\/$/,"");const tn=nt.join("?");return""===this.urlPrefix?tn:tn.startsWith("/")||Wt?`/${this.urlPrefix}${tn}`:`${this.urlPrefix}/${tn}`}translateRoute(ft){const nt=ft.split("?");if(nt.length>2)throw Error("There should be only one query parameter block in the URL");return nt[0].split("/").map(tn=>tn.length?this.translateText(tn):tn).join("/")+(nt.length>1?`?${nt[1]}`:"")}getLocationLang(ft){const nt=(ft||this.location.path()).split(/[\?;]/);let Wt=[];return nt.length>0&&(Wt=nt[0].split("/")),Wt.length>1&&-1!==this.locales.indexOf(Wt[1])?Wt[1]:Wt.length&&-1!==this.locales.indexOf(Wt[0])?Wt[0]:null}_getBrowserLang(){return this._returnIfInLocales(this.translate.getBrowserLang())}get _cachedLang(){if(this.settings.useCachedLang){if(this.settings.cacheMechanism===le.LocalStorage)return this._cacheWithLocalStorage();if(this.settings.cacheMechanism===le.SessionStorage)return this._cacheWithSessionStorage();if(this.settings.cacheMechanism===le.Cookie)return this._cacheWithCookies()}}set _cachedLang(ft){this.settings.useCachedLang&&(this.settings.cacheMechanism===le.LocalStorage&&this._cacheWithLocalStorage(ft),this.settings.cacheMechanism===le.SessionStorage&&this._cacheWithSessionStorage(ft),this.settings.cacheMechanism===le.Cookie&&this._cacheWithCookies(ft))}_cacheWithLocalStorage(ft){try{if(typeof window>"u"||typeof window.localStorage>"u")return;return ft?void window.localStorage.setItem(this.settings.cacheName,ft):this._returnIfInLocales(window.localStorage.getItem(this.settings.cacheName))}catch{return}}_cacheWithSessionStorage(ft){try{if(typeof window>"u"||typeof window.sessionStorage>"u")return;return ft?void window.sessionStorage.setItem(this.settings.cacheName,ft):this._returnIfInLocales(window.sessionStorage.getItem(this.settings.cacheName))}catch{return}}_cacheWithCookies(ft){try{if(typeof document>"u"||typeof document.cookie>"u")return;const nt=encodeURIComponent(this.settings.cacheName);if(ft){let it=`${this.settings.cookieFormat}`;return it=it.replace("{{value}}",`${nt}=${encodeURIComponent(ft)}`).replace(/{{expires:?(\d+)?}}/g,(Ot,ve)=>{const ae=void 0===ve?30:parseInt(ve,10),$=new Date;return $.setTime($.getTime()+864e5*ae),`expires=${$.toUTCString()}`}),void(document.cookie=it)}const tn=new RegExp("(?:^"+nt+"|;\\s*"+nt+")=(.*?)(?:;|$)","g").exec(document.cookie);return decodeURIComponent(tn[1])}catch{return}}_returnIfInLocales(ft){return ft&&-1!==this.locales.indexOf(ft)?ft:null}translateText(ft){if(this.escapePrefix&&ft.startsWith(this.escapePrefix))return ft.replace(this.escapePrefix,"");{if(!this._translationObject)return ft;const nt=this.prefix+ft,Wt=this.translate.getParsedResult(this._translationObject,nt);return Wt!==nt?Wt:ft}}chooseQueryParams(ft,nt){let Wt;return ft&&ft.queryParams?Wt=ft.queryParams:nt&&(Wt=nt),Wt}formatQueryParams(ft){return new U.Nl({fromObject:ft}).toString()}getPrefix(){return this.prefix}getEscapePrefix(){return this.escapePrefix}}return ot.\u0275fac=function(ft){return new(ft||ot)(n.KVO(M.c$),n.KVO(V.aZ),n.KVO(Je))},ot.\u0275prov=n.jDH({token:ot,factory:ot.\u0275fac}),ot})(),Ve=(()=>{class ot extends we{load(ft){return new Promise(nt=>{this.init(ft).then(nt)})}}return ot.\u0275fac=(()=>{let Ft;return function(nt){return(Ft||(Ft=n.xGo(ot)))(nt||ot)}})(),ot.\u0275prov=n.jDH({token:ot,factory:ot.\u0275fac}),ot})();function Ae(ot,Ft){if(ot===Ft)return!0;if(null===ot||null===Ft)return!1;if(ot!=ot&&Ft!=Ft)return!0;const ft=typeof ot;let Wt,tn,it;if(ft===typeof Ft&&"object"===ft){if(!Array.isArray(ot)){if(Array.isArray(Ft))return!1;for(tn in it=Object.create(null),ot)if(ot.hasOwnProperty(tn)){if(!Ae(ot[tn],Ft[tn]))return!1;it[tn]=!0}for(tn in Ft)if(Ft.hasOwnProperty(tn)&&!(tn in it)&&typeof Ft[tn]<"u")return!1;return!0}if(!Array.isArray(Ft))return!1;if((Wt=ot.length)===Ft.length){for(tn=0;tn<Wt;tn++)if(!Ae(ot[tn],Ft[tn]))return!1;return!0}}return!1}function Be(ot){const Ft=Array.isArray(ot)?[]:{};for(const ft in ot)if(ft){const nt=ot[ft];Ft[ft]="object"==typeof nt?Be(nt):nt}return Ft}let Ye=(()=>{class ot{constructor(ft,nt,Wt,tn){this.parser=ft,this.settings=nt,this.router=Wt,this.route=tn,this.routerEvents=new f.B;const it=new d.m(1);this.hooks={_initializedSubject:it,initialized:it.asObservable()}}init(){this.applyConfigToRouter(this.parser.routes),this.router.events.pipe((0,w.p)(ft=>ft instanceof e.Z),function x(){return(0,C.N)((ot,Ft)=>{let ft,nt=!1;ot.subscribe((0,R._)(Ft,Wt=>{const tn=ft;ft=Wt,nt&&Ft.next([tn,Wt]),nt=!0}))})}()).subscribe(this._routeChanged()),this.settings.initialNavigation&&this.router.initialNavigation()}changeLanguage(ft,nt,Wt){if(ft!==this.parser.currentLang){const tn=this.router.routerState.snapshot.root;this.parser.translateRoutes(ft).subscribe(()=>{let it=this.traverseRouteSnapshot(tn);if(it=this.translateRoute(it),!this.settings.alwaysSetPrefix){let ae=it.split("/");const $=ae.indexOf(this.parser.currentLang);if(this.parser.currentLang===this.parser.defaultLang)(0===$||1===$&&""===ae[0])&&(ae=ae.slice(0,$).concat(ae.slice($+1)));else if(-1===$){const se=""===ae[0]?1:0;ae=ae.slice(0,se).concat(this.parser.currentLang,ae.slice(se))}it=ae.join("/")}it=it.replace(/\/+/g,"/");const Ot=it.lastIndexOf("/");Ot>0&&Ot===it.length-1&&(it=it.slice(0,-1));const ve=this.parser.chooseQueryParams(nt,this.route.snapshot.queryParams);if(this.applyConfigToRouter(this.parser.routes),this.lastExtras=nt,Wt){const ae=nt?{...nt}:{};ve&&(ae.queryParams=ve),this.router.navigate([it],ae)}else{let ae=this.parser.formatQueryParams(ve);ae=ae?`?${ae}`:"",this.router.navigateByUrl(`${it}${ae}`,nt)}})}}traverseRouteSnapshot(ft){return ft.firstChild&&ft.routeConfig?`${this.parseSegmentValue(ft)}/${this.traverseRouteSnapshot(ft.firstChild)}`:ft.firstChild?this.traverseRouteSnapshot(ft.firstChild):this.parseSegmentValue(ft)}buildUrlFromSegments(ft,nt){return nt.map((Wt,tn)=>0===Wt.indexOf(":")?ft.url[tn].path:Wt).join("/")}parseSegmentValue(ft){if(ft.routeConfig&&ft.routeConfig.matcher){const nt=this.parseSegmentValueMatcher(ft);return this.buildUrlFromSegments(ft,nt)}if(ft.data.localizeRouter){const Wt=ft.data.localizeRouter.path.split("/");return this.buildUrlFromSegments(ft,Wt)}if(ft.parent&&ft.parent.parent){const Wt=ft.routeConfig.path.split("/");return this.buildUrlFromSegments(ft,Wt)}return""}parseSegmentValueMatcher(ft){const nt=ft.data&&ft.data.localizeMatcher&&ft.data.localizeMatcher.params||{};return ft.url.map(tn=>{const it=tn.path,Ot=tn.localizedParamName;return(Ot&&nt[Ot]?nt[Ot](it):null)||`${this.parser.getEscapePrefix()}${it}`})}translateRoute(ft){if("string"==typeof ft){const Wt=this.parser.translateRoute(ft);return ft.indexOf("/")?Wt:this.parser.addPrefixToUrl(Wt)}const nt=[];return ft.forEach((Wt,tn)=>{if("string"==typeof Wt){const it=this.parser.translateRoute(Wt);tn||Wt.indexOf("/")?nt.push(it):nt.push(this.parser.addPrefixToUrl(it))}else nt.push(Wt)}),nt}_routeChanged(){return([ft,nt])=>{const Wt=this.parser.getLocationLang(ft.url)||this.parser.defaultLang,tn=this.parser.getLocationLang(nt.url)||this.parser.defaultLang,it=this.lastExtras;tn!==Wt&&this.latestUrl!==nt.url&&(this.latestUrl=nt.url,this.cancelCurrentNavigation(),this.parser.translateRoutes(tn).subscribe(()=>{this.applyConfigToRouter(this.parser.routes),this.lastExtras=void 0,this.router.navigateByUrl(nt.url,it),this.routerEvents.next(tn)})),this.latestUrl=nt.url}}cancelCurrentNavigation(){const ft=this.router.getCurrentNavigation(),nt=this.router.serializeUrl(ft.extractedUrl);this.router.events.next(new e.j5(ft.id,nt,"")),this.router.navigationTransitions.transitions.next({...this.router.navigationTransitions.transitions.getValue(),id:0})}applyConfigToRouter(ft){this.router.resetConfig(Be(ft))}}return ot.\u0275fac=function(ft){return new(ft||ot)(n.KVO(we),n.KVO(Je),n.KVO(e.Ix),n.KVO(e.nX))},ot.\u0275prov=n.jDH({token:ot,factory:ot.\u0275fac}),ot})(),Ut=(()=>{class ot{constructor(ft,nt){this.localize=ft,this._ref=nt,this.value="",this.subscription=this.localize.routerEvents.subscribe(()=>{this.transform(this.lastKey)})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}transform(ft){if(!ft||0===ft.length||!this.localize.parser.currentLang)return ft;if(Ae(ft,this.lastKey)&&Ae(this.lastLanguage,this.localize.parser.currentLang))return this.value;this.lastKey=ft,this.lastLanguage=this.localize.parser.currentLang,this.value=this.localize.translateRoute(ft),this.lastKey=ft;const nt=this._ref._view;return nt&&128&nt.state||setTimeout(()=>{this._ref.detectChanges()},0),this.value}}return ot.\u0275fac=function(ft){return new(ft||ot)(n.rXU(Ye,16),n.rXU(n.gRc,16))},ot.\u0275pipe=n.EJ8({name:"localize",type:ot,pure:!1}),ot})();class Tt{constructor(){}shouldDetach(Ft){return!1}store(Ft,ft){}shouldAttach(Ft){return!1}retrieve(Ft){return null}shouldReuseRoute(Ft,ft){return!(!Ft||!ft)&&this.getKey(Ft)===this.getKey(ft)}getKey(Ft){if(Ft.firstChild&&Ft.firstChild.routeConfig&&Ft.firstChild.routeConfig.path&&-1!==Ft.firstChild.routeConfig.path.indexOf("**"))return"WILDCARD";if(!(Ft.data.localizeRouter||Ft.parent&&Ft.parent.parent||Ft.data.skipRouteLocalization))return"LANG";if(Ft.routeConfig.matcher){let ft=`${this.getKey(Ft.parent)}/${Ft.routeConfig.matcher.name}`;return Ft.data.discriminantPathKey&&(ft=`${ft}-${Ft.data.discriminantPathKey}`),ft}if(Ft.data.localizeRouter){let ft=`${this.getKey(Ft.parent)}/${Ft.data.localizeRouter.path}`;return Ft.data.discriminantPathKey&&(ft=`${ft}-${Ft.data.discriminantPathKey}`),ft}{let ft=Ft.routeConfig.path;return Ft.parent&&(ft=`${this.getKey(Ft.parent)}/${Ft.routeConfig.path}`),Ft.data.discriminantPathKey&&(ft=`${ft}-${Ft.data.discriminantPathKey}`),ft}}}let _t=(()=>{class ot extends e.Ix{constructor(){super(),this.platformId=(0,n.WQX)(n.Agw),this.compiler=(0,n.WQX)(n.Ql9),this.localize=(0,n.WQX)(we),((0,V.UE)(this.platformId)?this.navigationTransitions.configLoader.__proto__:this.navigationTransitions.configLoader).loadModuleFactoryOrRoutes=Wt=>function X(ot){return(0,F.A)(ot)?ot:function rt(ot){return!!ot&&"function"==typeof ot.then}(ot)?(0,m.H)(Promise.resolve(ot)):(0,E.of)(ot)}(Wt()).pipe((0,O.Z)(tn=>{let it;return it=tn instanceof n.Co$||Array.isArray(tn)?(0,E.of)(tn):(0,m.H)(this.compiler.compileModuleAsync(tn)),it.pipe((0,H.T)(Ot=>Array.isArray(Ot)?Ot:{moduleType:Ot.moduleType,create:ve=>{const ae=Ot.create(ve),$=ae.injector.get.bind(ae.injector);return ae.injector.get=(se,Ue,Ze)=>{const dt=$(se,Ue,Ze);return se===e.bw?this.localize.initChildRoutes([].concat(...dt)):dt},ae}}))}))}}return ot.\u0275fac=function(ft){return new(ft||ot)},ot.\u0275prov=n.jDH({token:ot,factory:ot.\u0275fac,providedIn:"root"}),ot})(),Y=(()=>{class ot{constructor(ft){this.injector=ft}appInitializer(){return this.parser.load(this.routes).then(()=>{const nt=this.injector.get(Ye),Wt=this.injector.get(e.Ix),tn=this.injector.get(Je);if(nt.init(),tn.initialNavigation)return new Promise(it=>{const Ot=Wt.navigationTransitions.afterPreactivation;let ve=!0;Wt.navigationTransitions.afterPreactivation=()=>(ve&&(it(),ve=!1,nt.hooks._initializedSubject.next(!0),nt.hooks._initializedSubject.complete()),Ot())});nt.hooks._initializedSubject.next(!0),nt.hooks._initializedSubject.complete()})}generateInitializer(ft,nt){return this.parser=ft,this.routes=nt.reduce((Wt,tn)=>Wt.concat(tn)),this.appInitializer}}return ot.\u0275fac=function(ft){return new(ft||ot)(n.KVO(n.zZn))},ot.\u0275prov=n.jDH({token:ot,factory:ot.\u0275fac}),ot})();function ee(ot,Ft,ft){const nt=Be(ft);return ot.generateInitializer(Ft,nt).bind(ot)}let Se=(()=>{class ot{static forRoot(ft,nt={}){return{ngModule:ot,providers:[{provide:e.Ix,useClass:_t},{provide:G,useFactory:Ee,deps:[[ot,new n.Xx1,new n.kdw]]},{provide:L,useValue:nt.useCachedLang},{provide:_e,useValue:nt.alwaysSetPrefix},{provide:te,useValue:nt.cacheName},{provide:J,useValue:nt.cacheMechanism},{provide:z,useValue:nt.defaultLangFunction},{provide:I,useValue:nt.cookieFormat},{provide:oe,useValue:nt.initialNavigation},Je,nt.parser||{provide:we,useClass:Ve},{provide:ie,multi:!0,useValue:ft},Ye,Y,{provide:n.hnV,multi:!0,useFactory:ee,deps:[Y,we,ie]},{provide:e.b,useClass:Tt}]}}static forChild(ft){return{ngModule:ot,providers:[{provide:ie,multi:!0,useValue:ft}]}}}return ot.\u0275fac=function(ft){return new(ft||ot)},ot.\u0275mod=n.$C({type:ot}),ot.\u0275inj=n.G2t({imports:[V.MD,e.iI,M.h]}),ot})();function Ee(ot){if(ot)throw new Error("LocalizeRouterModule.forRoot() called twice. Lazy loaded modules should use LocalizeRouterModule.forChild() instead.");return"guarded"}},1780:(qe,me,u)=>{"use strict";u.d(me,{D9:()=>Pe,Wr:()=>w,c$:()=>z,h:()=>Re});var n=u(4438),e=u(7673),_=u(4402),g=u(7468),S=u(8793),v=u(9030),f=u(6697),d=u(9568),E=u(6354),m=u(274),F=u(5558);class w{}let C=(()=>{class ke extends w{getTranslation(Te){return(0,e.of)({})}}return ke.\u0275fac=(()=>{let Je;return function(we){return(Je||(Je=n.xGo(ke)))(we||ke)}})(),ke.\u0275prov=n.jDH({token:ke,factory:ke.\u0275fac}),ke})();class R{}let x=(()=>{class ke{handle(Te){return Te.key}}return ke.\u0275fac=function(Te){return new(Te||ke)},ke.\u0275prov=n.jDH({token:ke,factory:ke.\u0275fac}),ke})();function O(ke,Je){if(ke===Je)return!0;if(null===ke||null===Je)return!1;if(ke!=ke&&Je!=Je)return!0;let de,Ve,Ae,Te=typeof ke;if(Te==typeof Je&&"object"==Te){if(!Array.isArray(ke)){if(Array.isArray(Je))return!1;for(Ve in Ae=Object.create(null),ke){if(!O(ke[Ve],Je[Ve]))return!1;Ae[Ve]=!0}for(Ve in Je)if(!(Ve in Ae)&&typeof Je[Ve]<"u")return!1;return!0}if(!Array.isArray(Je))return!1;if((de=ke.length)==Je.length){for(Ve=0;Ve<de;Ve++)if(!O(ke[Ve],Je[Ve]))return!1;return!0}}return!1}function H(ke){return typeof ke<"u"&&null!==ke}function M(ke){return ke&&"object"==typeof ke&&!Array.isArray(ke)}function V(ke,Je){let Te=Object.assign({},ke);return M(ke)&&M(Je)&&Object.keys(Je).forEach(we=>{M(Je[we])?we in ke?Te[we]=V(ke[we],Je[we]):Object.assign(Te,{[we]:Je[we]}):Object.assign(Te,{[we]:Je[we]})}),Te}class U{}let G=(()=>{class ke extends U{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(Te,we){let de;return de="string"==typeof Te?this.interpolateString(Te,we):"function"==typeof Te?this.interpolateFunction(Te,we):Te,de}getValue(Te,we){let de="string"==typeof we?we.split("."):[we];we="";do{we+=de.shift(),!H(Te)||!H(Te[we])||"object"!=typeof Te[we]&&de.length?de.length?we+=".":Te=void 0:(Te=Te[we],we="")}while(de.length);return Te}interpolateFunction(Te,we){return Te(we)}interpolateString(Te,we){return we?Te.replace(this.templateMatcher,(de,Ve)=>{let Ae=this.getValue(we,Ve);return H(Ae)?Ae:de}):Te}}return ke.\u0275fac=(()=>{let Je;return function(we){return(Je||(Je=n.xGo(ke)))(we||ke)}})(),ke.\u0275prov=n.jDH({token:ke,factory:ke.\u0275fac}),ke})();class ie{}let le=(()=>{class ke extends ie{compile(Te,we){return Te}compileTranslations(Te,we){return Te}}return ke.\u0275fac=(()=>{let Je;return function(we){return(Je||(Je=n.xGo(ke)))(we||ke)}})(),ke.\u0275prov=n.jDH({token:ke,factory:ke.\u0275fac}),ke})();class L{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new n.bkB,this.onLangChange=new n.bkB,this.onDefaultLangChange=new n.bkB}}const J=new n.nKC("USE_STORE"),te=new n.nKC("USE_DEFAULT_LANG"),I=new n.nKC("DEFAULT_LANGUAGE"),oe=new n.nKC("USE_EXTEND");let z=(()=>{class ke{constructor(Te,we,de,Ve,Ae,rt=!0,Be=!1,ht=!1,Ye){this.store=Te,this.currentLoader=we,this.compiler=de,this.parser=Ve,this.missingTranslationHandler=Ae,this.useDefaultLang=rt,this.isolate=Be,this.extend=ht,this.pending=!1,this._onTranslationChange=new n.bkB,this._onLangChange=new n.bkB,this._onDefaultLangChange=new n.bkB,this._langs=[],this._translations={},this._translationRequests={},Ye&&this.setDefaultLang(Ye)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(Te){this.isolate?this._defaultLang=Te:this.store.defaultLang=Te}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(Te){this.isolate?this._currentLang=Te:this.store.currentLang=Te}get langs(){return this.isolate?this._langs:this.store.langs}set langs(Te){this.isolate?this._langs=Te:this.store.langs=Te}get translations(){return this.isolate?this._translations:this.store.translations}set translations(Te){this.isolate?this._translations=Te:this.store.translations=Te}setDefaultLang(Te){if(Te===this.defaultLang)return;let we=this.retrieveTranslations(Te);typeof we<"u"?(null==this.defaultLang&&(this.defaultLang=Te),we.pipe((0,f.s)(1)).subscribe(de=>{this.changeDefaultLang(Te)})):this.changeDefaultLang(Te)}getDefaultLang(){return this.defaultLang}use(Te){if(Te===this.currentLang)return(0,e.of)(this.translations[Te]);let we=this.retrieveTranslations(Te);return typeof we<"u"?(this.currentLang||(this.currentLang=Te),we.pipe((0,f.s)(1)).subscribe(de=>{this.changeLang(Te)}),we):(this.changeLang(Te),(0,e.of)(this.translations[Te]))}retrieveTranslations(Te){let we;return(typeof this.translations[Te]>"u"||this.extend)&&(this._translationRequests[Te]=this._translationRequests[Te]||this.getTranslation(Te),we=this._translationRequests[Te]),we}getTranslation(Te){this.pending=!0;const we=this.currentLoader.getTranslation(Te).pipe((0,d.t)(1),(0,f.s)(1));return this.loadingTranslations=we.pipe((0,E.T)(de=>this.compiler.compileTranslations(de,Te)),(0,d.t)(1),(0,f.s)(1)),this.loadingTranslations.subscribe({next:de=>{this.translations[Te]=this.extend&&this.translations[Te]?{...de,...this.translations[Te]}:de,this.updateLangs(),this.pending=!1},error:de=>{this.pending=!1}}),we}setTranslation(Te,we,de=!1){we=this.compiler.compileTranslations(we,Te),this.translations[Te]=(de||this.extend)&&this.translations[Te]?V(this.translations[Te],we):we,this.updateLangs(),this.onTranslationChange.emit({lang:Te,translations:this.translations[Te]})}getLangs(){return this.langs}addLangs(Te){Te.forEach(we=>{-1===this.langs.indexOf(we)&&this.langs.push(we)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(Te,we,de){let Ve;if(we instanceof Array){let Ae={},rt=!1;for(let Be of we)Ae[Be]=this.getParsedResult(Te,Be,de),(0,_.A)(Ae[Be])&&(rt=!0);if(rt){const Be=we.map(ht=>(0,_.A)(Ae[ht])?Ae[ht]:(0,e.of)(Ae[ht]));return(0,g.p)(Be).pipe((0,E.T)(ht=>{let Ye={};return ht.forEach((Yt,Ut)=>{Ye[we[Ut]]=Yt}),Ye}))}return Ae}if(Te&&(Ve=this.parser.interpolate(this.parser.getValue(Te,we),de)),typeof Ve>"u"&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(Ve=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],we),de)),typeof Ve>"u"){let Ae={key:we,translateService:this};typeof de<"u"&&(Ae.interpolateParams=de),Ve=this.missingTranslationHandler.handle(Ae)}return typeof Ve<"u"?Ve:we}get(Te,we){if(!H(Te)||!Te.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe((0,m.H)(de=>(de=this.getParsedResult(de,Te,we),(0,_.A)(de)?de:(0,e.of)(de))));{let de=this.getParsedResult(this.translations[this.currentLang],Te,we);return(0,_.A)(de)?de:(0,e.of)(de)}}getStreamOnTranslationChange(Te,we){if(!H(Te)||!Te.length)throw new Error('Parameter "key" required');return(0,S.x)((0,v.v)(()=>this.get(Te,we)),this.onTranslationChange.pipe((0,F.n)(de=>{const Ve=this.getParsedResult(de.translations,Te,we);return"function"==typeof Ve.subscribe?Ve:(0,e.of)(Ve)})))}stream(Te,we){if(!H(Te)||!Te.length)throw new Error('Parameter "key" required');return(0,S.x)((0,v.v)(()=>this.get(Te,we)),this.onLangChange.pipe((0,F.n)(de=>{const Ve=this.getParsedResult(de.translations,Te,we);return(0,_.A)(Ve)?Ve:(0,e.of)(Ve)})))}instant(Te,we){if(!H(Te)||!Te.length)throw new Error('Parameter "key" required');let de=this.getParsedResult(this.translations[this.currentLang],Te,we);if((0,_.A)(de)){if(Te instanceof Array){let Ve={};return Te.forEach((Ae,rt)=>{Ve[Te[rt]]=Te[rt]}),Ve}return Te}return de}set(Te,we,de=this.currentLang){this.translations[de][Te]=this.compiler.compile(we,de),this.updateLangs(),this.onTranslationChange.emit({lang:de,translations:this.translations[de]})}changeLang(Te){this.currentLang=Te,this.onLangChange.emit({lang:Te,translations:this.translations[Te]}),null==this.defaultLang&&this.changeDefaultLang(Te)}changeDefaultLang(Te){this.defaultLang=Te,this.onDefaultLangChange.emit({lang:Te,translations:this.translations[Te]})}reloadLang(Te){return this.resetLang(Te),this.getTranslation(Te)}resetLang(Te){this._translationRequests[Te]=void 0,this.translations[Te]=void 0}getBrowserLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let Te=window.navigator.languages?window.navigator.languages[0]:null;return Te=Te||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,typeof Te>"u"?void 0:(-1!==Te.indexOf("-")&&(Te=Te.split("-")[0]),-1!==Te.indexOf("_")&&(Te=Te.split("_")[0]),Te)}getBrowserCultureLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let Te=window.navigator.languages?window.navigator.languages[0]:null;return Te=Te||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,Te}}return ke.\u0275fac=function(Te){return new(Te||ke)(n.KVO(L),n.KVO(w),n.KVO(ie),n.KVO(U),n.KVO(R),n.KVO(te),n.KVO(J),n.KVO(oe),n.KVO(I))},ke.\u0275prov=n.jDH({token:ke,factory:ke.\u0275fac}),ke})(),Pe=(()=>{class ke{constructor(Te,we){this.translate=Te,this._ref=we,this.value="",this.lastKey=null,this.lastParams=[]}updateValue(Te,we,de){let Ve=Ae=>{this.value=void 0!==Ae?Ae:Te,this.lastKey=Te,this._ref.markForCheck()};if(de){let Ae=this.translate.getParsedResult(de,Te,we);(0,_.A)(Ae.subscribe)?Ae.subscribe(Ve):Ve(Ae)}this.translate.get(Te,we).subscribe(Ve)}transform(Te,...we){if(!Te||!Te.length)return Te;if(O(Te,this.lastKey)&&O(we,this.lastParams))return this.value;let de;if(H(we[0])&&we.length)if("string"==typeof we[0]&&we[0].length){let Ve=we[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{de=JSON.parse(Ve)}catch{throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${we[0]}`)}}else"object"==typeof we[0]&&!Array.isArray(we[0])&&(de=we[0]);return this.lastKey=Te,this.lastParams=we,this.updateValue(Te,de),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(Ve=>{this.lastKey&&Ve.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(Te,de,Ve.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(Ve=>{this.lastKey&&(this.lastKey=null,this.updateValue(Te,de,Ve.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(Te,de))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return ke.\u0275fac=function(Te){return new(Te||ke)(n.rXU(z,16),n.rXU(n.gRc,16))},ke.\u0275pipe=n.EJ8({name:"translate",type:ke,pure:!1}),ke.\u0275prov=n.jDH({token:ke,factory:ke.\u0275fac}),ke})(),Re=(()=>{class ke{static forRoot(Te={}){return{ngModule:ke,providers:[Te.loader||{provide:w,useClass:C},Te.compiler||{provide:ie,useClass:le},Te.parser||{provide:U,useClass:G},Te.missingTranslationHandler||{provide:R,useClass:x},L,{provide:J,useValue:Te.isolate},{provide:te,useValue:Te.useDefaultLang},{provide:oe,useValue:Te.extend},{provide:I,useValue:Te.defaultLanguage},z]}}static forChild(Te={}){return{ngModule:ke,providers:[Te.loader||{provide:w,useClass:C},Te.compiler||{provide:ie,useClass:le},Te.parser||{provide:U,useClass:G},Te.missingTranslationHandler||{provide:R,useClass:x},{provide:J,useValue:Te.isolate},{provide:te,useValue:Te.useDefaultLang},{provide:oe,useValue:Te.extend},{provide:I,useValue:Te.defaultLanguage},z]}}}return ke.\u0275fac=function(Te){return new(Te||ke)},ke.\u0275mod=n.$C({type:ke}),ke.\u0275inj=n.G2t({}),ke})()},4549:(qe,me,u)=>{"use strict";u.d(me,{c9:()=>ii,wB:()=>lt});class n extends Error{}class e extends n{constructor(P){super(`Invalid DateTime: ${P.toMessage()}`)}}class _ extends n{constructor(P){super(`Invalid Interval: ${P.toMessage()}`)}}class g extends n{constructor(P){super(`Invalid Duration: ${P.toMessage()}`)}}class S extends n{}class v extends n{constructor(P){super(`Invalid unit ${P}`)}}class f extends n{}class d extends n{constructor(){super("Zone is an abstract class")}}const E="numeric",m="short",F="long",w={year:E,month:E,day:E},C={year:E,month:m,day:E},R={year:E,month:m,day:E,weekday:m},x={year:E,month:F,day:E},O={year:E,month:F,day:E,weekday:F},H={hour:E,minute:E},M={hour:E,minute:E,second:E},V={hour:E,minute:E,second:E,timeZoneName:m},U={hour:E,minute:E,second:E,timeZoneName:F},G={hour:E,minute:E,hourCycle:"h23"},ie={hour:E,minute:E,second:E,hourCycle:"h23"},le={hour:E,minute:E,second:E,hourCycle:"h23",timeZoneName:m},L={hour:E,minute:E,second:E,hourCycle:"h23",timeZoneName:F},J={year:E,month:E,day:E,hour:E,minute:E},te={year:E,month:E,day:E,hour:E,minute:E,second:E},I={year:E,month:m,day:E,hour:E,minute:E},oe={year:E,month:m,day:E,hour:E,minute:E,second:E},z={year:E,month:m,day:E,weekday:m,hour:E,minute:E},_e={year:E,month:F,day:E,hour:E,minute:E,timeZoneName:m},Pe={year:E,month:F,day:E,hour:E,minute:E,second:E,timeZoneName:m},Re={year:E,month:F,day:E,weekday:F,hour:E,minute:E,timeZoneName:F},ke={year:E,month:F,day:E,weekday:F,hour:E,minute:E,second:E,timeZoneName:F};class Je{get type(){throw new d}get name(){throw new d}get ianaName(){return this.name}get isUniversal(){throw new d}offsetName(P,pe){throw new d}formatOffset(P,pe){throw new d}offset(P){throw new d}equals(P){throw new d}get isValid(){throw new d}}let Te=null;class we extends Je{static get instance(){return null===Te&&(Te=new we),Te}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(P,{format:pe,locale:Ne}){return Kt(P,pe,Ne)}formatOffset(P,pe){return _i(this.offset(P),pe)}offset(P){return-new Date(P).getTimezoneOffset()}equals(P){return"system"===P.type}get isValid(){return!0}}let de={};const Ae={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};let ht={};class Ye extends Je{static create(P){return ht[P]||(ht[P]=new Ye(P)),ht[P]}static resetCache(){ht={},de={}}static isValidSpecifier(P){return this.isValidZone(P)}static isValidZone(P){if(!P)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:P}).format(),!0}catch{return!1}}constructor(P){super(),this.zoneName=P,this.valid=Ye.isValidZone(P)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(P,{format:pe,locale:Ne}){return Kt(P,pe,Ne,this.name)}formatOffset(P,pe){return _i(this.offset(P),pe)}offset(P){const pe=new Date(P);if(isNaN(pe))return NaN;const Ne=function Ve(ye){return de[ye]||(de[ye]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:ye,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),de[ye]}(this.name);let[st,xt,Vt,qt,sn,Cn,ti]=Ne.formatToParts?function Be(ye,P){const pe=ye.formatToParts(P),Ne=[];for(let st=0;st<pe.length;st++){const{type:xt,value:Vt}=pe[st],qt=Ae[xt];"era"===xt?Ne[qt]=Vt:An(qt)||(Ne[qt]=parseInt(Vt,10))}return Ne}(Ne,pe):function rt(ye,P){const pe=ye.format(P).replace(/\u200E/g,""),Ne=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(pe),[,st,xt,Vt,qt,sn,Cn,ti]=Ne;return[Vt,st,xt,qt,sn,Cn,ti]}(Ne,pe);"BC"===qt&&(st=1-Math.abs(st));let mi=+pe;const jr=mi%1e3;return mi-=jr>=0?jr:1e3+jr,(q({year:st,month:xt,day:Vt,hour:24===sn?0:sn,minute:Cn,second:ti,millisecond:0})-mi)/6e4}equals(P){return"iana"===P.type&&P.name===this.name}get isValid(){return this.valid}}let Yt={},Tt={};function _t(ye,P={}){const pe=JSON.stringify([ye,P]);let Ne=Tt[pe];return Ne||(Ne=new Intl.DateTimeFormat(ye,P),Tt[pe]=Ne),Ne}let X={},ee={},Ee=null,je={};function tn(ye,P,pe,Ne){const st=ye.listingMode();return"error"===st?null:"en"===st?pe(P):Ne(P)}class Ot{constructor(P,pe,Ne){this.padTo=Ne.padTo||0,this.floor=Ne.floor||!1;const{padTo:st,floor:xt,...Vt}=Ne;if(!pe||Object.keys(Vt).length>0){const qt={useGrouping:!1,...Ne};Ne.padTo>0&&(qt.minimumIntegerDigits=Ne.padTo),this.inf=function Y(ye,P={}){const pe=JSON.stringify([ye,P]);let Ne=X[pe];return Ne||(Ne=new Intl.NumberFormat(ye,P),X[pe]=Ne),Ne}(P,qt)}}format(P){if(this.inf){const pe=this.floor?Math.floor(P):P;return this.inf.format(pe)}return Ct(this.floor?Math.floor(P):St(P,3),this.padTo)}}class ve{constructor(P,pe,Ne){let st;if(this.opts=Ne,this.originalZone=void 0,this.opts.timeZone)this.dt=P;else if("fixed"===P.zone.type){const Vt=P.offset/60*-1,qt=Vt>=0?`Etc/GMT+${Vt}`:`Etc/GMT${Vt}`;0!==P.offset&&Ye.create(qt).valid?(st=qt,this.dt=P):(st="UTC",this.dt=0===P.offset?P:P.setZone("UTC").plus({minutes:P.offset}),this.originalZone=P.zone)}else"system"===P.zone.type?this.dt=P:"iana"===P.zone.type?(this.dt=P,st=P.zone.name):(st="UTC",this.dt=P.setZone("UTC").plus({minutes:P.offset}),this.originalZone=P.zone);const xt={...this.opts};xt.timeZone=xt.timeZone||st,this.dtf=_t(pe,xt)}format(){return this.originalZone?this.formatToParts().map(({value:P})=>P).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const P=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?P.map(pe=>{if("timeZoneName"===pe.type){const Ne=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...pe,value:Ne}}return pe}):P}resolvedOptions(){return this.dtf.resolvedOptions()}}class ae{constructor(P,pe,Ne){this.opts={style:"long",...Ne},!pe&&Bi()&&(this.rtf=function Se(ye,P={}){const{base:pe,...Ne}=P,st=JSON.stringify([ye,Ne]);let xt=ee[st];return xt||(xt=new Intl.RelativeTimeFormat(ye,P),ee[st]=xt),xt}(P,Ne))}format(P,pe){return this.rtf?this.rtf.format(P,pe):function Ni(ye,P,pe="always",Ne=!1){const st={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},xt=-1===["hours","minutes","seconds"].indexOf(ye);if("auto"===pe&&xt){const jn="days"===ye;switch(P){case 1:return jn?"tomorrow":`next ${st[ye][0]}`;case-1:return jn?"yesterday":`last ${st[ye][0]}`;case 0:return jn?"today":`this ${st[ye][0]}`}}const Vt=Object.is(P,-0)||P<0,qt=Math.abs(P),sn=1===qt,Cn=st[ye],ti=Ne?sn?Cn[1]:Cn[2]||Cn[1]:sn?st[ye][0]:ye;return Vt?`${qt} ${ti} ago`:`in ${qt} ${ti}`}(pe,P,this.opts.numeric,"long"!==this.opts.style)}formatToParts(P,pe){return this.rtf?this.rtf.formatToParts(P,pe):[]}}const $={firstDay:1,minimalDays:4,weekend:[6,7]};class se{static fromOpts(P){return se.create(P.locale,P.numberingSystem,P.outputCalendar,P.weekSettings,P.defaultToEN)}static create(P,pe,Ne,st,xt=!1){const Vt=P||lt.defaultLocale,qt=Vt||(xt?"en-US":function at(){return Ee||(Ee=(new Intl.DateTimeFormat).resolvedOptions().locale,Ee)}()),sn=pe||lt.defaultNumberingSystem,Cn=Ne||lt.defaultOutputCalendar,ti=Si(st)||lt.defaultWeekSettings;return new se(qt,sn,Cn,ti,Vt)}static resetCache(){Ee=null,Tt={},X={},ee={}}static fromObject({locale:P,numberingSystem:pe,outputCalendar:Ne,weekSettings:st}={}){return se.create(P,pe,Ne,st)}constructor(P,pe,Ne,st,xt){const[Vt,qt,sn]=function Ft(ye){const P=ye.indexOf("-x-");-1!==P&&(ye=ye.substring(0,P));const pe=ye.indexOf("-u-");if(-1===pe)return[ye];{let Ne,st;try{Ne=_t(ye).resolvedOptions(),st=ye}catch{const sn=ye.substring(0,pe);Ne=_t(sn).resolvedOptions(),st=sn}const{numberingSystem:xt,calendar:Vt}=Ne;return[st,xt,Vt]}}(P);this.locale=Vt,this.numberingSystem=pe||qt||null,this.outputCalendar=Ne||sn||null,this.weekSettings=st,this.intl=function ft(ye,P,pe){return(pe||P)&&(ye.includes("-u-")||(ye+="-u"),pe&&(ye+=`-ca-${pe}`),P&&(ye+=`-nu-${P}`)),ye}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=xt,this.fastNumbersCached=null}get fastNumbers(){return null==this.fastNumbersCached&&(this.fastNumbersCached=function it(ye){return(!ye.numberingSystem||"latn"===ye.numberingSystem)&&("latn"===ye.numberingSystem||!ye.locale||ye.locale.startsWith("en")||"latn"===new Intl.DateTimeFormat(ye.intl).resolvedOptions().numberingSystem)}(this)),this.fastNumbersCached}listingMode(){return this.isEnglish()&&!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar)?"en":"intl"}clone(P){return P&&0!==Object.getOwnPropertyNames(P).length?se.create(P.locale||this.specifiedLocale,P.numberingSystem||this.numberingSystem,P.outputCalendar||this.outputCalendar,Si(P.weekSettings)||this.weekSettings,P.defaultToEN||!1):this}redefaultToEN(P={}){return this.clone({...P,defaultToEN:!0})}redefaultToSystem(P={}){return this.clone({...P,defaultToEN:!1})}months(P,pe=!1){return tn(this,P,ri,()=>{const Ne=pe?{month:P,day:"numeric"}:{month:P},st=pe?"format":"standalone";return this.monthsCache[st][P]||(this.monthsCache[st][P]=function nt(ye){const P=[];for(let pe=1;pe<=12;pe++){const Ne=ii.utc(2009,pe,1);P.push(ye(Ne))}return P}(xt=>this.extract(xt,Ne,"month"))),this.monthsCache[st][P]})}weekdays(P,pe=!1){return tn(this,P,Gs,()=>{const Ne=pe?{weekday:P,year:"numeric",month:"long",day:"numeric"}:{weekday:P},st=pe?"format":"standalone";return this.weekdaysCache[st][P]||(this.weekdaysCache[st][P]=function Wt(ye){const P=[];for(let pe=1;pe<=7;pe++){const Ne=ii.utc(2016,11,13+pe);P.push(ye(Ne))}return P}(xt=>this.extract(xt,Ne,"weekday"))),this.weekdaysCache[st][P]})}meridiems(){return tn(this,void 0,()=>ms,()=>{if(!this.meridiemCache){const P={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[ii.utc(2016,11,13,9),ii.utc(2016,11,13,19)].map(pe=>this.extract(pe,P,"dayperiod"))}return this.meridiemCache})}eras(P){return tn(this,P,gs,()=>{const pe={era:P};return this.eraCache[P]||(this.eraCache[P]=[ii.utc(-40,1,1),ii.utc(2017,1,1)].map(Ne=>this.extract(Ne,pe,"era"))),this.eraCache[P]})}extract(P,pe,Ne){const Vt=this.dtFormatter(P,pe).formatToParts().find(qt=>qt.type.toLowerCase()===Ne);return Vt?Vt.value:null}numberFormatter(P={}){return new Ot(this.intl,P.forceSimple||this.fastNumbers,P)}dtFormatter(P,pe={}){return new ve(P,this.intl,pe)}relFormatter(P={}){return new ae(this.intl,this.isEnglish(),P)}listFormatter(P={}){return function Ut(ye,P={}){const pe=JSON.stringify([ye,P]);let Ne=Yt[pe];return Ne||(Ne=new Intl.ListFormat(ye,P),Yt[pe]=Ne),Ne}(this.intl,P)}isEnglish(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:Xn()?function ot(ye){let P=je[ye];if(!P){const pe=new Intl.Locale(ye);P="getWeekInfo"in pe?pe.getWeekInfo():pe.weekInfo,je[ye]=P}return P}(this.locale):$}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(P){return this.locale===P.locale&&this.numberingSystem===P.numberingSystem&&this.outputCalendar===P.outputCalendar}}let Ue=null;class Ze extends Je{static get utcInstance(){return null===Ue&&(Ue=new Ze(0)),Ue}static instance(P){return 0===P?Ze.utcInstance:new Ze(P)}static parseSpecifier(P){if(P){const pe=P.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(pe)return new Ze(hn(pe[1],pe[2]))}return null}constructor(P){super(),this.fixed=P}get type(){return"fixed"}get name(){return 0===this.fixed?"UTC":`UTC${_i(this.fixed,"narrow")}`}get ianaName(){return 0===this.fixed?"Etc/UTC":`Etc/GMT${_i(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(P,pe){return _i(this.fixed,pe)}get isUniversal(){return!0}offset(){return this.fixed}equals(P){return"fixed"===P.type&&P.fixed===this.fixed}get isValid(){return!0}}class dt extends Je{constructor(P){super(),this.zoneName=P}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Pt(ye,P){if(An(ye)||null===ye)return P;if(ye instanceof Je)return ye;if(function gi(ye){return"string"==typeof ye}(ye)){const Ne=ye.toLowerCase();return"default"===Ne?P:"local"===Ne||"system"===Ne?we.instance:"utc"===Ne||"gmt"===Ne?Ze.utcInstance:Ze.parseSpecifier(Ne)||Ye.create(ye)}return mn(ye)?Ze.instance(ye):"object"==typeof ye&&"offset"in ye&&"function"==typeof ye.offset?ye:new dt(ye)}let Rn,an=()=>Date.now(),un="system",Mn=null,kn=null,Bn=null,It=60,Ht=null;class lt{static get now(){return an}static set now(P){an=P}static set defaultZone(P){un=P}static get defaultZone(){return Pt(un,we.instance)}static get defaultLocale(){return Mn}static set defaultLocale(P){Mn=P}static get defaultNumberingSystem(){return kn}static set defaultNumberingSystem(P){kn=P}static get defaultOutputCalendar(){return Bn}static set defaultOutputCalendar(P){Bn=P}static get defaultWeekSettings(){return Ht}static set defaultWeekSettings(P){Ht=Si(P)}static get twoDigitCutoffYear(){return It}static set twoDigitCutoffYear(P){It=P%100}static get throwOnInvalid(){return Rn}static set throwOnInvalid(P){Rn=P}static resetCaches(){se.resetCache(),Ye.resetCache()}}class vt{constructor(P,pe){this.reason=P,this.explanation=pe}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const mt=[0,31,59,90,120,151,181,212,243,273,304,334],kt=[0,31,60,91,121,152,182,213,244,274,305,335];function nn(ye,P){return new vt("unit out of range",`you specified ${P} (of type ${typeof P}) as a ${ye}, which is invalid`)}function Tn(ye,P,pe){const Ne=new Date(Date.UTC(ye,P-1,pe));ye<100&&ye>=0&&Ne.setUTCFullYear(Ne.getUTCFullYear()-1900);const st=Ne.getUTCDay();return 0===st?7:st}function Ln(ye,P,pe){return pe+(yt(ye)?kt:mt)[P-1]}function dn(ye,P){const pe=yt(ye)?kt:mt,Ne=pe.findIndex(xt=>xt<P);return{month:Ne+1,day:P-pe[Ne]}}function li(ye,P){return(ye-P+7)%7+1}function ci(ye,P=4,pe=1){const{year:Ne,month:st,day:xt}=ye,Vt=Ln(Ne,st,xt),qt=li(Tn(Ne,st,xt),pe);let Cn,sn=Math.floor((Vt-qt+14-P)/7);return sn<1?(Cn=Ne-1,sn=Me(Cn,P,pe)):sn>Me(Ne,P,pe)?(Cn=Ne+1,sn=1):Cn=Ne,{weekYear:Cn,weekNumber:sn,weekday:qt,...fi(ye)}}function Rt(ye,P=4,pe=1){const{weekYear:Ne,weekNumber:st,weekday:xt}=ye,Vt=li(Tn(Ne,1,P),pe),qt=Oe(Ne);let Cn,sn=7*st+xt-Vt-7+P;sn<1?(Cn=Ne-1,sn+=Oe(Cn)):sn>qt?(Cn=Ne+1,sn-=Oe(Ne)):Cn=Ne;const{month:ti,day:jn}=dn(Cn,sn);return{year:Cn,month:ti,day:jn,...fi(ye)}}function ut(ye){const{year:P,month:pe,day:Ne}=ye;return{year:P,ordinal:Ln(P,pe,Ne),...fi(ye)}}function Nt(ye){const{year:P,ordinal:pe}=ye,{month:Ne,day:st}=dn(P,pe);return{year:P,month:Ne,day:st,...fi(ye)}}function $t(ye,P){if(An(ye.localWeekday)&&An(ye.localWeekNumber)&&An(ye.localWeekYear))return{minDaysInFirstWeek:4,startOfWeek:1};if(!An(ye.weekday)||!An(ye.weekNumber)||!An(ye.weekYear))throw new S("Cannot mix locale-based week fields with ISO-based week fields");return An(ye.localWeekday)||(ye.weekday=ye.localWeekday),An(ye.localWeekNumber)||(ye.weekNumber=ye.localWeekNumber),An(ye.localWeekYear)||(ye.weekYear=ye.localWeekYear),delete ye.localWeekday,delete ye.localWeekNumber,delete ye.localWeekYear,{minDaysInFirstWeek:P.getMinDaysInFirstWeek(),startOfWeek:P.getStartOfWeek()}}function vn(ye){const P=ui(ye.year),pe=tt(ye.month,1,12),Ne=tt(ye.day,1,ue(ye.year,ye.month));return P?pe?!Ne&&nn("day",ye.day):nn("month",ye.month):nn("year",ye.year)}function zn(ye){const{hour:P,minute:pe,second:Ne,millisecond:st}=ye,xt=tt(P,0,23)||24===P&&0===pe&&0===Ne&&0===st,Vt=tt(pe,0,59),qt=tt(Ne,0,59),sn=tt(st,0,999);return xt?Vt?qt?!sn&&nn("millisecond",st):nn("second",Ne):nn("minute",pe):nn("hour",P)}function An(ye){return typeof ye>"u"}function mn(ye){return"number"==typeof ye}function ui(ye){return"number"==typeof ye&&ye%1==0}function Bi(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function Xn(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function pi(ye,P,pe){if(0!==ye.length)return ye.reduce((Ne,st)=>{const xt=[P(st),st];return Ne&&pe(Ne[0],xt[0])===Ne[0]?Ne:xt},null)[1]}function ji(ye,P){return Object.prototype.hasOwnProperty.call(ye,P)}function Si(ye){if(null==ye)return null;if("object"!=typeof ye)throw new f("Week settings must be an object");if(!tt(ye.firstDay,1,7)||!tt(ye.minimalDays,1,7)||!Array.isArray(ye.weekend)||ye.weekend.some(P=>!tt(P,1,7)))throw new f("Invalid week settings");return{firstDay:ye.firstDay,minimalDays:ye.minimalDays,weekend:Array.from(ye.weekend)}}function tt(ye,P,pe){return ui(ye)&&ye>=P&&ye<=pe}function Ct(ye,P=2){let Ne;return Ne=ye<0?"-"+(""+-ye).padStart(P,"0"):(""+ye).padStart(P,"0"),Ne}function rn(ye){if(!An(ye)&&null!==ye&&""!==ye)return parseInt(ye,10)}function Qt(ye){if(!An(ye)&&null!==ye&&""!==ye)return parseFloat(ye)}function In(ye){if(!An(ye)&&null!==ye&&""!==ye){const P=1e3*parseFloat("0."+ye);return Math.floor(P)}}function St(ye,P,pe=!1){const Ne=10**P;return(pe?Math.trunc:Math.round)(ye*Ne)/Ne}function yt(ye){return ye%4==0&&(ye%100!=0||ye%400==0)}function Oe(ye){return yt(ye)?366:365}function ue(ye,P){const pe=function Dt(ye,P){return ye-P*Math.floor(ye/P)}(P-1,12)+1;return 2===pe?yt(ye+(P-pe)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][pe-1]}function q(ye){let P=Date.UTC(ye.year,ye.month-1,ye.day,ye.hour,ye.minute,ye.second,ye.millisecond);return ye.year<100&&ye.year>=0&&(P=new Date(P),P.setUTCFullYear(ye.year,ye.month-1,ye.day)),+P}function he(ye,P,pe){return-li(Tn(ye,1,P),pe)+P-1}function Me(ye,P=4,pe=1){const Ne=he(ye,P,pe),st=he(ye+1,P,pe);return(Oe(ye)-Ne+st)/7}function Et(ye){return ye>99?ye:ye>lt.twoDigitCutoffYear?1900+ye:2e3+ye}function Kt(ye,P,pe,Ne=null){const st=new Date(ye),xt={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};Ne&&(xt.timeZone=Ne);const Vt={timeZoneName:P,...xt},qt=new Intl.DateTimeFormat(pe,Vt).formatToParts(st).find(sn=>"timezonename"===sn.type.toLowerCase());return qt?qt.value:null}function hn(ye,P){let pe=parseInt(ye,10);Number.isNaN(pe)&&(pe=0);const Ne=parseInt(P,10)||0;return 60*pe+(pe<0||Object.is(pe,-0)?-Ne:Ne)}function _n(ye){const P=Number(ye);if("boolean"==typeof ye||""===ye||Number.isNaN(P))throw new f(`Invalid unit value ${ye}`);return P}function Zn(ye,P){const pe={};for(const Ne in ye)if(ji(ye,Ne)){const st=ye[Ne];if(null==st)continue;pe[P(Ne)]=_n(st)}return pe}function _i(ye,P){const pe=Math.trunc(Math.abs(ye/60)),Ne=Math.trunc(Math.abs(ye%60)),st=ye>=0?"+":"-";switch(P){case"short":return`${st}${Ct(pe,2)}:${Ct(Ne,2)}`;case"narrow":return`${st}${pe}${Ne>0?`:${Ne}`:""}`;case"techie":return`${st}${Ct(pe,2)}${Ct(Ne,2)}`;default:throw new RangeError(`Value format ${P} is out of range for property format`)}}function fi(ye){return function Hi(ye,P){return P.reduce((pe,Ne)=>(pe[Ne]=ye[Ne],pe),{})}(ye,["hour","minute","second","millisecond"])}const Yi=["January","February","March","April","May","June","July","August","September","October","November","December"],Ar=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Gn=["J","F","M","A","M","J","J","A","S","O","N","D"];function ri(ye){switch(ye){case"narrow":return[...Gn];case"short":return[...Ar];case"long":return[...Yi];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const cr=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Mi=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],xr=["M","T","W","T","F","S","S"];function Gs(ye){switch(ye){case"narrow":return[...xr];case"short":return[...Mi];case"long":return[...cr];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const ms=["AM","PM"],ks=["Before Christ","Anno Domini"],vi=["BC","AD"],Bs=["B","A"];function gs(ye){switch(ye){case"narrow":return[...Bs];case"short":return[...vi];case"long":return[...ks];default:return null}}function ai(ye,P){let pe="";for(const Ne of ye)pe+=Ne.literal?Ne.val:P(Ne.val);return pe}const Yo={D:w,DD:C,DDD:x,DDDD:O,t:H,tt:M,ttt:V,tttt:U,T:G,TT:ie,TTT:le,TTTT:L,f:J,ff:I,fff:_e,ffff:Re,F:te,FF:oe,FFF:Pe,FFFF:ke};class $n{static create(P,pe={}){return new $n(P,pe)}static parseFormat(P){let pe=null,Ne="",st=!1;const xt=[];for(let Vt=0;Vt<P.length;Vt++){const qt=P.charAt(Vt);"'"===qt?(Ne.length>0&&xt.push({literal:st||/^\s+$/.test(Ne),val:Ne}),pe=null,Ne="",st=!st):st||qt===pe?Ne+=qt:(Ne.length>0&&xt.push({literal:/^\s+$/.test(Ne),val:Ne}),Ne=qt,pe=qt)}return Ne.length>0&&xt.push({literal:st||/^\s+$/.test(Ne),val:Ne}),xt}static macroTokenToFormatOpts(P){return Yo[P]}constructor(P,pe){this.opts=pe,this.loc=P,this.systemLoc=null}formatWithSystemDefault(P,pe){return null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(P,{...this.opts,...pe}).format()}dtFormatter(P,pe={}){return this.loc.dtFormatter(P,{...this.opts,...pe})}formatDateTime(P,pe){return this.dtFormatter(P,pe).format()}formatDateTimeParts(P,pe){return this.dtFormatter(P,pe).formatToParts()}formatInterval(P,pe){return this.dtFormatter(P.start,pe).dtf.formatRange(P.start.toJSDate(),P.end.toJSDate())}resolvedOptions(P,pe){return this.dtFormatter(P,pe).resolvedOptions()}num(P,pe=0){if(this.opts.forceSimple)return Ct(P,pe);const Ne={...this.opts};return pe>0&&(Ne.padTo=pe),this.loc.numberFormatter(Ne).format(P)}formatDateTimeFromString(P,pe){const Ne="en"===this.loc.listingMode(),st=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,xt=(mi,jr)=>this.loc.extract(P,mi,jr),Vt=mi=>P.isOffsetFixed&&0===P.offset&&mi.allowZ?"Z":P.isValid?P.zone.formatOffset(P.ts,mi.format):"",sn=(mi,jr)=>Ne?function gr(ye,P){return ri(P)[ye.month-1]}(P,mi):xt(jr?{month:mi}:{month:mi,day:"numeric"},"month"),Cn=(mi,jr)=>Ne?function Ns(ye,P){return Gs(P)[ye.weekday-1]}(P,mi):xt(jr?{weekday:mi}:{weekday:mi,month:"long",day:"numeric"},"weekday"),ti=mi=>{const jr=$n.macroTokenToFormatOpts(mi);return jr?this.formatWithSystemDefault(P,jr):mi},jn=mi=>Ne?function vr(ye,P){return gs(P)[ye.year<0?0:1]}(P,mi):xt({era:mi},"era");return ai($n.parseFormat(pe),mi=>{switch(mi){case"S":return this.num(P.millisecond);case"u":case"SSS":return this.num(P.millisecond,3);case"s":return this.num(P.second);case"ss":return this.num(P.second,2);case"uu":return this.num(Math.floor(P.millisecond/10),2);case"uuu":return this.num(Math.floor(P.millisecond/100));case"m":return this.num(P.minute);case"mm":return this.num(P.minute,2);case"h":return this.num(P.hour%12==0?12:P.hour%12);case"hh":return this.num(P.hour%12==0?12:P.hour%12,2);case"H":return this.num(P.hour);case"HH":return this.num(P.hour,2);case"Z":return Vt({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return Vt({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return Vt({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return P.zone.offsetName(P.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return P.zone.offsetName(P.ts,{format:"long",locale:this.loc.locale});case"z":return P.zoneName;case"a":return Ne?function wr(ye){return ms[ye.hour<12?0:1]}(P):xt({hour:"numeric",hourCycle:"h12"},"dayperiod");case"d":return st?xt({day:"numeric"},"day"):this.num(P.day);case"dd":return st?xt({day:"2-digit"},"day"):this.num(P.day,2);case"c":case"E":return this.num(P.weekday);case"ccc":return Cn("short",!0);case"cccc":return Cn("long",!0);case"ccccc":return Cn("narrow",!0);case"EEE":return Cn("short",!1);case"EEEE":return Cn("long",!1);case"EEEEE":return Cn("narrow",!1);case"L":return st?xt({month:"numeric",day:"numeric"},"month"):this.num(P.month);case"LL":return st?xt({month:"2-digit",day:"numeric"},"month"):this.num(P.month,2);case"LLL":return sn("short",!0);case"LLLL":return sn("long",!0);case"LLLLL":return sn("narrow",!0);case"M":return st?xt({month:"numeric"},"month"):this.num(P.month);case"MM":return st?xt({month:"2-digit"},"month"):this.num(P.month,2);case"MMM":return sn("short",!1);case"MMMM":return sn("long",!1);case"MMMMM":return sn("narrow",!1);case"y":return st?xt({year:"numeric"},"year"):this.num(P.year);case"yy":return st?xt({year:"2-digit"},"year"):this.num(P.year.toString().slice(-2),2);case"yyyy":return st?xt({year:"numeric"},"year"):this.num(P.year,4);case"yyyyyy":return st?xt({year:"numeric"},"year"):this.num(P.year,6);case"G":return jn("short");case"GG":return jn("long");case"GGGGG":return jn("narrow");case"kk":return this.num(P.weekYear.toString().slice(-2),2);case"kkkk":return this.num(P.weekYear,4);case"W":return this.num(P.weekNumber);case"WW":return this.num(P.weekNumber,2);case"n":return this.num(P.localWeekNumber);case"nn":return this.num(P.localWeekNumber,2);case"ii":return this.num(P.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(P.localWeekYear,4);case"o":return this.num(P.ordinal);case"ooo":return this.num(P.ordinal,3);case"q":return this.num(P.quarter);case"qq":return this.num(P.quarter,2);case"X":return this.num(Math.floor(P.ts/1e3));case"x":return this.num(P.ts);default:return ti(mi)}})}formatDurationFromString(P,pe){const Ne=sn=>{switch(sn[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},xt=$n.parseFormat(pe),Vt=xt.reduce((sn,{literal:Cn,val:ti})=>Cn?sn:sn.concat(ti),[]);return ai(xt,(sn=>Cn=>{const ti=Ne(Cn);return ti?this.num(sn.get(ti),Cn.length):Cn})(P.shiftTo(...Vt.map(Ne).filter(sn=>sn))))}}const Jr=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function pr(...ye){const P=ye.reduce((pe,Ne)=>pe+Ne.source,"");return RegExp(`^${P}$`)}function Sr(...ye){return P=>ye.reduce(([pe,Ne,st],xt)=>{const[Vt,qt,sn]=xt(P,st);return[{...pe,...Vt},qt||Ne,sn]},[{},null,1]).slice(0,2)}function Er(ye,...P){if(null==ye)return[null,null];for(const[pe,Ne]of P){const st=pe.exec(ye);if(st)return Ne(st)}return[null,null]}function kr(...ye){return(P,pe)=>{const Ne={};let st;for(st=0;st<ye.length;st++)Ne[ye[st]]=rn(P[pe+st]);return[Ne,null,pe+st]}}const Lr=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,tr=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Wn=RegExp(`${tr.source}(?:${Lr.source}?(?:\\[(${Jr.source})\\])?)?`),Gr=RegExp(`(?:T${Wn.source})?`),qs=kr("weekYear","weekNumber","weekDay"),go=kr("year","ordinal"),yr=RegExp(`${tr.source} ?(?:${Lr.source}|(${Jr.source}))?`),ss=RegExp(`(?: ${yr.source})?`);function os(ye,P,pe){const Ne=ye[P];return An(Ne)?pe:rn(Ne)}function Qr(ye,P){return[{hours:os(ye,P,0),minutes:os(ye,P+1,0),seconds:os(ye,P+2,0),milliseconds:In(ye[P+3])},null,P+4]}function co(ye,P){const pe=!ye[P]&&!ye[P+1],Ne=hn(ye[P+1],ye[P+2]);return[{},pe?null:Ze.instance(Ne),P+3]}function nr(ye,P){return[{},ye[P]?Ye.create(ye[P]):null,P+1]}const Zr=RegExp(`^T?${tr.source}$`),Bo=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Xo(ye){const[P,pe,Ne,st,xt,Vt,qt,sn,Cn]=ye,ti="-"===P[0],jn=sn&&"-"===sn[0],_r=(mi,jr=!1)=>void 0!==mi&&(jr||mi&&ti)?-mi:mi;return[{years:_r(Qt(pe)),months:_r(Qt(Ne)),weeks:_r(Qt(st)),days:_r(Qt(xt)),hours:_r(Qt(Vt)),minutes:_r(Qt(qt)),seconds:_r(Qt(sn),"-0"===sn),milliseconds:_r(In(Cn),jn)}]}const eo={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function to(ye,P,pe,Ne,st,xt,Vt){const qt={year:2===P.length?Et(rn(P)):rn(P),month:Ar.indexOf(pe)+1,day:rn(Ne),hour:rn(st),minute:rn(xt)};return Vt&&(qt.second=rn(Vt)),ye&&(qt.weekday=ye.length>3?cr.indexOf(ye)+1:Mi.indexOf(ye)+1),qt}const Ao=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Es(ye){const[,P,pe,Ne,st,xt,Vt,qt,sn,Cn,ti,jn]=ye,_r=to(P,st,Ne,pe,xt,Vt,qt);let mi;return mi=sn?eo[sn]:Cn?0:hn(ti,jn),[_r,new Ze(mi)]}const or=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Fr=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,as=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function no(ye){const[,P,pe,Ne,st,xt,Vt,qt]=ye;return[to(P,st,Ne,pe,xt,Vt,qt),Ze.utcInstance]}function wa(ye){const[,P,pe,Ne,st,xt,Vt,qt]=ye;return[to(P,qt,pe,Ne,st,xt,Vt),Ze.utcInstance]}const Ts=pr(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Gr),si=pr(/(\d{4})-?W(\d\d)(?:-?(\d))?/,Gr),Hr=pr(/(\d{4})-?(\d{3})/,Gr),Ls=pr(Wn),mr=Sr(function Ca(ye,P){return[{year:os(ye,P),month:os(ye,P+1,1),day:os(ye,P+2,1)},null,P+3]},Qr,co,nr),Us=Sr(qs,Qr,co,nr),Pr=Sr(go,Qr,co,nr),Ur=Sr(Qr,co,nr),Ge=Sr(Qr),et=pr(/(\d{4})-(\d\d)-(\d\d)/,ss),Bt=pr(yr),Kn=Sr(Qr,co,nr),ls="Invalid Duration",ys={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},Jn={years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6},...ys},xe=365.2425,Xe=30.436875,wt={years:{quarters:4,months:12,weeks:xe/7,days:xe,hours:24*xe,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:xe/28,days:xe/4,hours:24*xe/4,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:Xe/7,days:Xe,hours:24*Xe,minutes:43829.1,seconds:2629746,milliseconds:2629746e3},...ys},Mt=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],Lt=Mt.slice(0).reverse();function bt(ye,P,pe=!1){const Ne={values:pe?P.values:{...ye.values,...P.values||{}},loc:ye.loc.clone(P.loc),conversionAccuracy:P.conversionAccuracy||ye.conversionAccuracy,matrix:P.matrix||ye.matrix};return new Nn(Ne)}function fn(ye,P){let pe=P.milliseconds??0;for(const Ne of Lt.slice(1))P[Ne]&&(pe+=P[Ne]*ye[Ne].milliseconds);return pe}function Jt(ye,P){const pe=fn(ye,P)<0?-1:1;Mt.reduceRight((Ne,st)=>{if(An(P[st]))return Ne;if(Ne){const Vt=ye[st][Ne],qt=Math.floor(P[Ne]*pe/Vt);P[st]+=qt*pe,P[Ne]-=qt*Vt*pe}return st},null),Mt.reduce((Ne,st)=>{if(An(P[st]))return Ne;if(Ne){const xt=P[Ne]%1;P[Ne]-=xt,P[st]+=xt*ye[Ne][st]}return st},null)}class Nn{constructor(P){const pe="longterm"===P.conversionAccuracy||!1;let Ne=pe?wt:Jn;P.matrix&&(Ne=P.matrix),this.values=P.values,this.loc=P.loc||se.create(),this.conversionAccuracy=pe?"longterm":"casual",this.invalid=P.invalid||null,this.matrix=Ne,this.isLuxonDuration=!0}static fromMillis(P,pe){return Nn.fromObject({milliseconds:P},pe)}static fromObject(P,pe={}){if(null==P||"object"!=typeof P)throw new f("Duration.fromObject: argument expected to be an object, got "+(null===P?"null":typeof P));return new Nn({values:Zn(P,Nn.normalizeUnit),loc:se.fromObject(pe),conversionAccuracy:pe.conversionAccuracy,matrix:pe.matrix})}static fromDurationLike(P){if(mn(P))return Nn.fromMillis(P);if(Nn.isDuration(P))return P;if("object"==typeof P)return Nn.fromObject(P);throw new f(`Unknown duration argument ${P} of type ${typeof P}`)}static fromISO(P,pe){const[Ne]=function Fe(ye){return Er(ye,[Bo,Xo])}(P);return Ne?Nn.fromObject(Ne,pe):Nn.invalid("unparsable",`the input "${P}" can't be parsed as ISO 8601`)}static fromISOTime(P,pe){const[Ne]=function ge(ye){return Er(ye,[Zr,Ge])}(P);return Ne?Nn.fromObject(Ne,pe):Nn.invalid("unparsable",`the input "${P}" can't be parsed as ISO 8601`)}static invalid(P,pe=null){if(!P)throw new f("need to specify a reason the Duration is invalid");const Ne=P instanceof vt?P:new vt(P,pe);if(lt.throwOnInvalid)throw new g(Ne);return new Nn({invalid:Ne})}static normalizeUnit(P){const pe={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[P&&P.toLowerCase()];if(!pe)throw new v(P);return pe}static isDuration(P){return P&&P.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(P,pe={}){const Ne={...pe,floor:!1!==pe.round&&!1!==pe.floor};return this.isValid?$n.create(this.loc,Ne).formatDurationFromString(this,P):ls}toHuman(P={}){if(!this.isValid)return ls;const pe=Mt.map(Ne=>{const st=this.values[Ne];return An(st)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...P,unit:Ne.slice(0,-1)}).format(st)}).filter(Ne=>Ne);return this.loc.listFormatter({type:"conjunction",style:P.listStyle||"narrow",...P}).format(pe)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let P="P";return 0!==this.years&&(P+=this.years+"Y"),(0!==this.months||0!==this.quarters)&&(P+=this.months+3*this.quarters+"M"),0!==this.weeks&&(P+=this.weeks+"W"),0!==this.days&&(P+=this.days+"D"),(0!==this.hours||0!==this.minutes||0!==this.seconds||0!==this.milliseconds)&&(P+="T"),0!==this.hours&&(P+=this.hours+"H"),0!==this.minutes&&(P+=this.minutes+"M"),(0!==this.seconds||0!==this.milliseconds)&&(P+=St(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===P&&(P+="T0S"),P}toISOTime(P={}){if(!this.isValid)return null;const pe=this.toMillis();return pe<0||pe>=864e5?null:(P={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...P,includeOffset:!1},ii.fromMillis(pe,{zone:"UTC"}).toISOTime(P))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?fn(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(P){if(!this.isValid)return this;const pe=Nn.fromDurationLike(P),Ne={};for(const st of Mt)(ji(pe.values,st)||ji(this.values,st))&&(Ne[st]=pe.get(st)+this.get(st));return bt(this,{values:Ne},!0)}minus(P){if(!this.isValid)return this;const pe=Nn.fromDurationLike(P);return this.plus(pe.negate())}mapUnits(P){if(!this.isValid)return this;const pe={};for(const Ne of Object.keys(this.values))pe[Ne]=_n(P(this.values[Ne],Ne));return bt(this,{values:pe},!0)}get(P){return this[Nn.normalizeUnit(P)]}set(P){return this.isValid?bt(this,{values:{...this.values,...Zn(P,Nn.normalizeUnit)}}):this}reconfigure({locale:P,numberingSystem:pe,conversionAccuracy:Ne,matrix:st}={}){return bt(this,{loc:this.loc.clone({locale:P,numberingSystem:pe}),matrix:st,conversionAccuracy:Ne})}as(P){return this.isValid?this.shiftTo(P).get(P):NaN}normalize(){if(!this.isValid)return this;const P=this.toObject();return Jt(this.matrix,P),bt(this,{values:P},!0)}rescale(){return this.isValid?bt(this,{values:function Qn(ye){const P={};for(const[pe,Ne]of Object.entries(ye))0!==Ne&&(P[pe]=Ne);return P}(this.normalize().shiftToAll().toObject())},!0):this}shiftTo(...P){if(!this.isValid)return this;if(0===P.length)return this;P=P.map(Vt=>Nn.normalizeUnit(Vt));const pe={},Ne={},st=this.toObject();let xt;for(const Vt of Mt)if(P.indexOf(Vt)>=0){xt=Vt;let qt=0;for(const Cn in Ne)qt+=this.matrix[Cn][Vt]*Ne[Cn],Ne[Cn]=0;mn(st[Vt])&&(qt+=st[Vt]);const sn=Math.trunc(qt);pe[Vt]=sn,Ne[Vt]=(1e3*qt-1e3*sn)/1e3}else mn(st[Vt])&&(Ne[Vt]=st[Vt]);for(const Vt in Ne)0!==Ne[Vt]&&(pe[xt]+=Vt===xt?Ne[Vt]:Ne[Vt]/this.matrix[xt][Vt]);return Jt(this.matrix,pe),bt(this,{values:pe},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const P={};for(const pe of Object.keys(this.values))P[pe]=0===this.values[pe]?0:-this.values[pe];return bt(this,{values:P},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(P){if(!this.isValid||!P.isValid||!this.loc.equals(P.loc))return!1;function pe(Ne,st){return void 0===Ne||0===Ne?void 0===st||0===st:Ne===st}for(const Ne of Mt)if(!pe(this.values[Ne],P.values[Ne]))return!1;return!0}}const Vn="Invalid Interval";class Ti{constructor(P){this.s=P.start,this.e=P.end,this.invalid=P.invalid||null,this.isLuxonInterval=!0}static invalid(P,pe=null){if(!P)throw new f("need to specify a reason the Interval is invalid");const Ne=P instanceof vt?P:new vt(P,pe);if(lt.throwOnInvalid)throw new _(Ne);return new Ti({invalid:Ne})}static fromDateTimes(P,pe){const Ne=Qi(P),st=Qi(pe),xt=function Br(ye,P){return ye&&ye.isValid?P&&P.isValid?P<ye?Ti.invalid("end before start",`The end of an interval must be after its start, but you had start=${ye.toISO()} and end=${P.toISO()}`):null:Ti.invalid("missing or invalid end"):Ti.invalid("missing or invalid start")}(Ne,st);return xt??new Ti({start:Ne,end:st})}static after(P,pe){const Ne=Nn.fromDurationLike(pe),st=Qi(P);return Ti.fromDateTimes(st,st.plus(Ne))}static before(P,pe){const Ne=Nn.fromDurationLike(pe),st=Qi(P);return Ti.fromDateTimes(st.minus(Ne),st)}static fromISO(P,pe){const[Ne,st]=(P||"").split("/",2);if(Ne&&st){let xt,Vt,qt,sn;try{xt=ii.fromISO(Ne,pe),Vt=xt.isValid}catch{Vt=!1}try{qt=ii.fromISO(st,pe),sn=qt.isValid}catch{sn=!1}if(Vt&&sn)return Ti.fromDateTimes(xt,qt);if(Vt){const Cn=Nn.fromISO(st,pe);if(Cn.isValid)return Ti.after(xt,Cn)}else if(sn){const Cn=Nn.fromISO(Ne,pe);if(Cn.isValid)return Ti.before(qt,Cn)}}return Ti.invalid("unparsable",`the input "${P}" can't be parsed as ISO 8601`)}static isInterval(P){return P&&P.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return null===this.invalidReason}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(P="milliseconds"){return this.isValid?this.toDuration(P).get(P):NaN}count(P="milliseconds",pe){if(!this.isValid)return NaN;const Ne=this.start.startOf(P,pe);let st;return st=pe?.useLocaleWeeks?this.end.reconfigure({locale:Ne.locale}):this.end,st=st.startOf(P,pe),Math.floor(st.diff(Ne,P).get(P))+(st.valueOf()!==this.end.valueOf())}hasSame(P){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,P))}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(P){return!!this.isValid&&this.s>P}isBefore(P){return!!this.isValid&&this.e<=P}contains(P){return!!this.isValid&&this.s<=P&&this.e>P}set({start:P,end:pe}={}){return this.isValid?Ti.fromDateTimes(P||this.s,pe||this.e):this}splitAt(...P){if(!this.isValid)return[];const pe=P.map(Qi).filter(Vt=>this.contains(Vt)).sort((Vt,qt)=>Vt.toMillis()-qt.toMillis()),Ne=[];let{s:st}=this,xt=0;for(;st<this.e;){const Vt=pe[xt]||this.e,qt=+Vt>+this.e?this.e:Vt;Ne.push(Ti.fromDateTimes(st,qt)),st=qt,xt+=1}return Ne}splitBy(P){const pe=Nn.fromDurationLike(P);if(!this.isValid||!pe.isValid||0===pe.as("milliseconds"))return[];let xt,{s:Ne}=this,st=1;const Vt=[];for(;Ne<this.e;){const qt=this.start.plus(pe.mapUnits(sn=>sn*st));xt=+qt>+this.e?this.e:qt,Vt.push(Ti.fromDateTimes(Ne,xt)),Ne=xt,st+=1}return Vt}divideEqually(P){return this.isValid?this.splitBy(this.length()/P).slice(0,P):[]}overlaps(P){return this.e>P.s&&this.s<P.e}abutsStart(P){return!!this.isValid&&+this.e==+P.s}abutsEnd(P){return!!this.isValid&&+P.e==+this.s}engulfs(P){return!!this.isValid&&this.s<=P.s&&this.e>=P.e}equals(P){return!(!this.isValid||!P.isValid)&&this.s.equals(P.s)&&this.e.equals(P.e)}intersection(P){if(!this.isValid)return this;const pe=this.s>P.s?this.s:P.s,Ne=this.e<P.e?this.e:P.e;return pe>=Ne?null:Ti.fromDateTimes(pe,Ne)}union(P){return this.isValid?Ti.fromDateTimes(this.s<P.s?this.s:P.s,this.e>P.e?this.e:P.e):this}static merge(P){const[pe,Ne]=P.sort((st,xt)=>st.s-xt.s).reduce(([st,xt],Vt)=>xt?xt.overlaps(Vt)||xt.abutsStart(Vt)?[st,xt.union(Vt)]:[st.concat([xt]),Vt]:[st,Vt],[[],null]);return Ne&&pe.push(Ne),pe}static xor(P){let pe=null,Ne=0;const st=[],xt=P.map(sn=>[{time:sn.s,type:"s"},{time:sn.e,type:"e"}]),qt=Array.prototype.concat(...xt).sort((sn,Cn)=>sn.time-Cn.time);for(const sn of qt)Ne+="s"===sn.type?1:-1,1===Ne?pe=sn.time:(pe&&+pe!=+sn.time&&st.push(Ti.fromDateTimes(pe,sn.time)),pe=null);return Ti.merge(st)}difference(...P){return Ti.xor([this].concat(P)).map(pe=>this.intersection(pe)).filter(pe=>pe&&!pe.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:Vn}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(P=w,pe={}){return this.isValid?$n.create(this.s.loc.clone(pe),P).formatInterval(this):Vn}toISO(P){return this.isValid?`${this.s.toISO(P)}/${this.e.toISO(P)}`:Vn}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Vn}toISOTime(P){return this.isValid?`${this.s.toISOTime(P)}/${this.e.toISOTime(P)}`:Vn}toFormat(P,{separator:pe=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(P)}${pe}${this.e.toFormat(P)}`:Vn}toDuration(P,pe){return this.isValid?this.e.diff(this.s,P,pe):Nn.invalid(this.invalidReason)}mapEndpoints(P){return Ti.fromDateTimes(P(this.s),P(this.e))}}class Is{static hasDST(P=lt.defaultZone){const pe=ii.now().setZone(P).set({month:12});return!P.isUniversal&&pe.offset!==pe.set({month:6}).offset}static isValidIANAZone(P){return Ye.isValidZone(P)}static normalizeZone(P){return Pt(P,lt.defaultZone)}static getStartOfWeek({locale:P=null,locObj:pe=null}={}){return(pe||se.create(P)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:P=null,locObj:pe=null}={}){return(pe||se.create(P)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:P=null,locObj:pe=null}={}){return(pe||se.create(P)).getWeekendDays().slice()}static months(P="long",{locale:pe=null,numberingSystem:Ne=null,locObj:st=null,outputCalendar:xt="gregory"}={}){return(st||se.create(pe,Ne,xt)).months(P)}static monthsFormat(P="long",{locale:pe=null,numberingSystem:Ne=null,locObj:st=null,outputCalendar:xt="gregory"}={}){return(st||se.create(pe,Ne,xt)).months(P,!0)}static weekdays(P="long",{locale:pe=null,numberingSystem:Ne=null,locObj:st=null}={}){return(st||se.create(pe,Ne,null)).weekdays(P)}static weekdaysFormat(P="long",{locale:pe=null,numberingSystem:Ne=null,locObj:st=null}={}){return(st||se.create(pe,Ne,null)).weekdays(P,!0)}static meridiems({locale:P=null}={}){return se.create(P).meridiems()}static eras(P="short",{locale:pe=null}={}){return se.create(pe,null,"gregory").eras(P)}static features(){return{relative:Bi(),localeWeek:Xn()}}}function da(ye,P){const pe=st=>st.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),Ne=pe(P)-pe(ye);return Math.floor(Nn.fromMillis(Ne).as("days"))}const xi={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",latn:"\\d"},Hn={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},qr=xi.hanidec.replace(/[\[|\]]/g,"").split("");function Tr({numberingSystem:ye},P=""){return new RegExp(`${xi[ye||"latn"]}${P}`)}function $i(ye,P=(pe=>pe)){return{regex:ye,deser:([pe])=>P(function Ds(ye){let P=parseInt(ye,10);if(isNaN(P)){P="";for(let pe=0;pe<ye.length;pe++){const Ne=ye.charCodeAt(pe);if(-1!==ye[pe].search(xi.hanidec))P+=qr.indexOf(ye[pe]);else for(const st in Hn){const[xt,Vt]=Hn[st];Ne>=xt&&Ne<=Vt&&(P+=Ne-xt)}}return parseInt(P,10)}return P}(pe))}}const Sa="[ \xa0]",bn=new RegExp(Sa,"g");function As(ye){return ye.replace(/\./g,"\\.?").replace(bn,Sa)}function Qo(ye){return ye.replace(/\./g,"").replace(bn," ").toLowerCase()}function Os(ye,P){return null===ye?null:{regex:RegExp(ye.map(As).join("|")),deser:([pe])=>ye.findIndex(Ne=>Qo(pe)===Qo(Ne))+P}}function Ea(ye,P){return{regex:ye,deser:([,pe,Ne])=>hn(pe,Ne),groups:P}}function Zo(ye){return{regex:ye,deser:([P])=>P}}function Wl(ye){return ye.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}const ol={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};let vo=null;function Va(ye,P){return Array.prototype.concat(...ye.map(pe=>function Ta(ye,P){if(ye.literal)return ye;const Ne=Ir($n.macroTokenToFormatOpts(ye.val),P);return null==Ne||Ne.includes(void 0)?ye:Ne}(pe,P)))}function ja(ye,P,pe){const Ne=Va($n.parseFormat(pe),ye),st=Ne.map(Vt=>function qo(ye,P){const pe=Tr(P),Ne=Tr(P,"{2}"),st=Tr(P,"{3}"),xt=Tr(P,"{4}"),Vt=Tr(P,"{6}"),qt=Tr(P,"{1,2}"),sn=Tr(P,"{1,3}"),Cn=Tr(P,"{1,6}"),ti=Tr(P,"{1,9}"),jn=Tr(P,"{2,4}"),_r=Tr(P,"{4,6}"),mi=Cs=>({regex:RegExp(Wl(Cs.val)),deser:([Gi])=>Gi,literal:!0}),Dr=(Cs=>{if(ye.literal)return mi(Cs);switch(Cs.val){case"G":return Os(P.eras("short"),0);case"GG":return Os(P.eras("long"),0);case"y":return $i(Cn);case"yy":case"kk":return $i(jn,Et);case"yyyy":case"kkkk":return $i(xt);case"yyyyy":return $i(_r);case"yyyyyy":return $i(Vt);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return $i(qt);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return $i(Ne);case"MMM":return Os(P.months("short",!0),1);case"MMMM":return Os(P.months("long",!0),1);case"LLL":return Os(P.months("short",!1),1);case"LLLL":return Os(P.months("long",!1),1);case"o":case"S":return $i(sn);case"ooo":case"SSS":return $i(st);case"u":return Zo(ti);case"uu":return Zo(qt);case"uuu":case"E":case"c":return $i(pe);case"a":return Os(P.meridiems(),0);case"EEE":return Os(P.weekdays("short",!1),1);case"EEEE":return Os(P.weekdays("long",!1),1);case"ccc":return Os(P.weekdays("short",!0),1);case"cccc":return Os(P.weekdays("long",!0),1);case"Z":case"ZZ":return Ea(new RegExp(`([+-]${qt.source})(?::(${Ne.source}))?`),2);case"ZZZ":return Ea(new RegExp(`([+-]${qt.source})(${Ne.source})?`),2);case"z":return Zo(/[a-z_+-/]{1,256}?/i);case" ":return Zo(/[^\S\n\r]/);default:return mi(Cs)}})(ye)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};return Dr.token=ye,Dr}(Vt,ye)),xt=st.find(Vt=>Vt.invalidReason);if(xt)return{input:P,tokens:Ne,invalidReason:xt.invalidReason};{const[Vt,qt]=function La(ye){return[`^${ye.map(pe=>pe.regex).reduce((pe,Ne)=>`${pe}(${Ne.source})`,"")}$`,ye]}(st),sn=RegExp(Vt,"i"),[Cn,ti]=function Kl(ye,P,pe){const Ne=ye.match(P);if(Ne){const st={};let xt=1;for(const Vt in pe)if(ji(pe,Vt)){const qt=pe[Vt],sn=qt.groups?qt.groups+1:1;!qt.literal&&qt.token&&(st[qt.token.val[0]]=qt.deser(Ne.slice(xt,xt+sn))),xt+=sn}return[Ne,st]}return[Ne,{}]}(P,sn,qt),[jn,_r,mi]=ti?function Lo(ye){let Ne,pe=null;return An(ye.z)||(pe=Ye.create(ye.z)),An(ye.Z)||(pe||(pe=new Ze(ye.Z)),Ne=ye.Z),An(ye.q)||(ye.M=3*(ye.q-1)+1),An(ye.h)||(ye.h<12&&1===ye.a?ye.h+=12:12===ye.h&&0===ye.a&&(ye.h=0)),0===ye.G&&ye.y&&(ye.y=-ye.y),An(ye.u)||(ye.S=In(ye.u)),[Object.keys(ye).reduce((xt,Vt)=>{const qt=(xt=>{switch(xt){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}})(Vt);return qt&&(xt[qt]=ye[Vt]),xt},{}),pe,Ne]}(ti):[null,null,void 0];if(ji(ti,"a")&&ji(ti,"H"))throw new S("Can't include meridiem when specifying 24-hour format");return{input:P,tokens:Ne,regex:sn,rawMatches:Cn,matches:ti,result:jn,zone:_r,specificOffset:mi}}}function Ir(ye,P){if(!ye)return null;const Ne=$n.create(P,ye).dtFormatter(function Ua(){return vo||(vo=ii.fromMillis(1555555555555)),vo}()),st=Ne.formatToParts(),xt=Ne.resolvedOptions();return st.map(Vt=>function hs(ye,P,pe){const{type:Ne,value:st}=ye;if("literal"===Ne){const sn=/^\s+$/.test(st);return{literal:!sn,val:sn?" ":st}}let Vt=Ne;"hour"===Ne&&(Vt=null!=P.hour12?P.hour12?"hour12":"hour24":null!=P.hourCycle?"h11"===P.hourCycle||"h12"===P.hourCycle?"hour12":"hour24":pe.hour12?"hour12":"hour24");let qt=ol[Vt];if("object"==typeof qt&&(qt=qt[P[Ne]]),qt)return{literal:!1,val:qt}}(Vt,ye,xt))}const uo="Invalid DateTime",Rs=864e13;function Ws(ye){return new vt("unsupported zone",`the zone "${ye.name}" is not supported`)}function Uo(ye){return null===ye.weekData&&(ye.weekData=ci(ye.c)),ye.weekData}function yo(ye){return null===ye.localWeekData&&(ye.localWeekData=ci(ye.c,ye.loc.getMinDaysInFirstWeek(),ye.loc.getStartOfWeek())),ye.localWeekData}function Kr(ye,P){const pe={ts:ye.ts,zone:ye.zone,c:ye.c,o:ye.o,loc:ye.loc,invalid:ye.invalid};return new ii({...pe,...P,old:pe})}function fs(ye,P,pe){let Ne=ye-60*P*1e3;const st=pe.offset(Ne);if(P===st)return[Ne,P];Ne-=60*(st-P)*1e3;const xt=pe.offset(Ne);return st===xt?[Ne,st]:[ye-60*Math.min(st,xt)*1e3,Math.max(st,xt)]}function $a(ye,P){const pe=new Date(ye+=60*P*1e3);return{year:pe.getUTCFullYear(),month:pe.getUTCMonth()+1,day:pe.getUTCDate(),hour:pe.getUTCHours(),minute:pe.getUTCMinutes(),second:pe.getUTCSeconds(),millisecond:pe.getUTCMilliseconds()}}function ha(ye,P,pe){return fs(q(ye),P,pe)}function io(ye,P){const pe=ye.o,Ne=ye.c.year+Math.trunc(P.years),st=ye.c.month+Math.trunc(P.months)+3*Math.trunc(P.quarters),xt={...ye.c,year:Ne,month:st,day:Math.min(ye.c.day,ue(Ne,st))+Math.trunc(P.days)+7*Math.trunc(P.weeks)},Vt=Nn.fromObject({years:P.years-Math.trunc(P.years),quarters:P.quarters-Math.trunc(P.quarters),months:P.months-Math.trunc(P.months),weeks:P.weeks-Math.trunc(P.weeks),days:P.days-Math.trunc(P.days),hours:P.hours,minutes:P.minutes,seconds:P.seconds,milliseconds:P.milliseconds}).as("milliseconds"),qt=q(xt);let[sn,Cn]=fs(qt,pe,ye.zone);return 0!==Vt&&(sn+=Vt,Cn=ye.zone.offset(sn)),{ts:sn,o:Cn}}function Ms(ye,P,pe,Ne,st,xt){const{setZone:Vt,zone:qt}=pe;if(ye&&0!==Object.keys(ye).length||P){const sn=P||qt,Cn=ii.fromObject(ye,{...pe,zone:sn,specificOffset:xt});return Vt?Cn:Cn.setZone(qt)}return ii.invalid(new vt("unparsable",`the input "${st}" can't be parsed as ${Ne}`))}function Ii(ye,P,pe=!0){return ye.isValid?$n.create(se.create("en-US"),{allowZ:pe,forceSimple:!0}).formatDateTimeFromString(ye,P):null}function bs(ye,P){const pe=ye.c.year>9999||ye.c.year<0;let Ne="";return pe&&ye.c.year>=0&&(Ne+="+"),Ne+=Ct(ye.c.year,pe?6:4),P?(Ne+="-",Ne+=Ct(ye.c.month),Ne+="-",Ne+=Ct(ye.c.day)):(Ne+=Ct(ye.c.month),Ne+=Ct(ye.c.day)),Ne}function ne(ye,P,pe,Ne,st,xt){let Vt=Ct(ye.c.hour);return P?(Vt+=":",Vt+=Ct(ye.c.minute),(0!==ye.c.millisecond||0!==ye.c.second||!pe)&&(Vt+=":")):Vt+=Ct(ye.c.minute),(0!==ye.c.millisecond||0!==ye.c.second||!pe)&&(Vt+=Ct(ye.c.second),(0!==ye.c.millisecond||!Ne)&&(Vt+=".",Vt+=Ct(ye.c.millisecond,3))),st&&(ye.isOffsetFixed&&0===ye.offset&&!xt?Vt+="Z":ye.o<0?(Vt+="-",Vt+=Ct(Math.trunc(-ye.o/60)),Vt+=":",Vt+=Ct(Math.trunc(-ye.o%60))):(Vt+="+",Vt+=Ct(Math.trunc(ye.o/60)),Vt+=":",Vt+=Ct(Math.trunc(ye.o%60)))),xt&&(Vt+="["+ye.zone.ianaName+"]"),Vt}const ze={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},fe={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Le={ordinal:1,hour:0,minute:0,second:0,millisecond:0},At=["year","month","day","hour","minute","second","millisecond"],pn=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],Sn=["year","ordinal","hour","minute","second","millisecond"];function fr(ye){switch(ye.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return function ei(ye){const P={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[ye.toLowerCase()];if(!P)throw new v(ye);return P}(ye)}}function ar(ye,P){const pe=Pt(P.zone,lt.defaultZone),Ne=se.fromObject(P),st=lt.now();let xt,Vt;if(An(ye.year))xt=st;else{for(const Cn of At)An(ye[Cn])&&(ye[Cn]=ze[Cn]);const qt=vn(ye)||zn(ye);if(qt)return ii.invalid(qt);const sn=pe.offset(st);[xt,Vt]=ha(ye,sn,pe)}return new ii({ts:xt,zone:pe,loc:Ne,o:Vt})}function Ji(ye,P,pe){const Ne=!!An(pe.round)||pe.round,st=(Vt,qt)=>(Vt=St(Vt,Ne||pe.calendary?0:2,!0),P.loc.clone(pe).relFormatter(pe).format(Vt,qt)),xt=Vt=>pe.calendary?P.hasSame(ye,Vt)?0:P.startOf(Vt).diff(ye.startOf(Vt),Vt).get(Vt):P.diff(ye,Vt).get(Vt);if(pe.unit)return st(xt(pe.unit),pe.unit);for(const Vt of pe.units){const qt=xt(Vt);if(Math.abs(qt)>=1)return st(qt,Vt)}return st(ye>P?-0:0,pe.units[pe.units.length-1])}function Ui(ye){let pe,P={};return ye.length>0&&"object"==typeof ye[ye.length-1]?(P=ye[ye.length-1],pe=Array.from(ye).slice(0,ye.length-1)):pe=Array.from(ye),[P,pe]}class ii{constructor(P){const pe=P.zone||lt.defaultZone;let Ne=P.invalid||(Number.isNaN(P.ts)?new vt("invalid input"):null)||(pe.isValid?null:Ws(pe));this.ts=An(P.ts)?lt.now():P.ts;let st=null,xt=null;if(!Ne)if(P.old&&P.old.ts===this.ts&&P.old.zone.equals(pe))[st,xt]=[P.old.c,P.old.o];else{const qt=pe.offset(this.ts);st=$a(this.ts,qt),Ne=Number.isNaN(st.year)?new vt("invalid input"):null,st=Ne?null:st,xt=Ne?null:qt}this._zone=pe,this.loc=P.loc||se.create(),this.invalid=Ne,this.weekData=null,this.localWeekData=null,this.c=st,this.o=xt,this.isLuxonDateTime=!0}static now(){return new ii({})}static local(){const[P,pe]=Ui(arguments),[Ne,st,xt,Vt,qt,sn,Cn]=pe;return ar({year:Ne,month:st,day:xt,hour:Vt,minute:qt,second:sn,millisecond:Cn},P)}static utc(){const[P,pe]=Ui(arguments),[Ne,st,xt,Vt,qt,sn,Cn]=pe;return P.zone=Ze.utcInstance,ar({year:Ne,month:st,day:xt,hour:Vt,minute:qt,second:sn,millisecond:Cn},P)}static fromJSDate(P,pe={}){const Ne=function ni(ye){return"[object Date]"===Object.prototype.toString.call(ye)}(P)?P.valueOf():NaN;if(Number.isNaN(Ne))return ii.invalid("invalid input");const st=Pt(pe.zone,lt.defaultZone);return st.isValid?new ii({ts:Ne,zone:st,loc:se.fromObject(pe)}):ii.invalid(Ws(st))}static fromMillis(P,pe={}){if(mn(P))return P<-Rs||P>Rs?ii.invalid("Timestamp out of range"):new ii({ts:P,zone:Pt(pe.zone,lt.defaultZone),loc:se.fromObject(pe)});throw new f(`fromMillis requires a numerical input, but received a ${typeof P} with value ${P}`)}static fromSeconds(P,pe={}){if(mn(P))return new ii({ts:1e3*P,zone:Pt(pe.zone,lt.defaultZone),loc:se.fromObject(pe)});throw new f("fromSeconds requires a numerical input")}static fromObject(P,pe={}){P=P||{};const Ne=Pt(pe.zone,lt.defaultZone);if(!Ne.isValid)return ii.invalid(Ws(Ne));const st=se.fromObject(pe),xt=Zn(P,fr),{minDaysInFirstWeek:Vt,startOfWeek:qt}=$t(xt,st),sn=lt.now(),Cn=An(pe.specificOffset)?Ne.offset(sn):pe.specificOffset,ti=!An(xt.ordinal),jn=!An(xt.year),_r=!An(xt.month)||!An(xt.day),mi=jn||_r,jr=xt.weekYear||xt.weekNumber;if((mi||ti)&&jr)throw new S("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(_r&&ti)throw new S("Can't mix ordinal dates with month/day");const Dr=jr||xt.weekday&&!mi;let Cs,Gi,cs=$a(sn,Cn);Dr?(Cs=pn,Gi=fe,cs=ci(cs,Vt,qt)):ti?(Cs=Sn,Gi=Le,cs=ut(cs)):(Cs=At,Gi=ze);let Mo=!1;for(const ea of Cs)An(xt[ea])?xt[ea]=Mo?Gi[ea]:cs[ea]:Mo=!0;const fa=Dr?function zt(ye,P=4,pe=1){const Ne=ui(ye.weekYear),st=tt(ye.weekNumber,1,Me(ye.weekYear,P,pe)),xt=tt(ye.weekday,1,7);return Ne?st?!xt&&nn("weekday",ye.weekday):nn("week",ye.weekNumber):nn("weekYear",ye.weekYear)}(xt,Vt,qt):ti?function yn(ye){const P=ui(ye.year),pe=tt(ye.ordinal,1,Oe(ye.year));return P?!pe&&nn("ordinal",ye.ordinal):nn("year",ye.year)}(xt):vn(xt),ho=fa||zn(xt);if(ho)return ii.invalid(ho);const zr=Dr?Rt(xt,Vt,qt):ti?Nt(xt):xt,[Vo,Di]=ha(zr,Cn,Ne),Ia=new ii({ts:Vo,zone:Ne,o:Di,loc:st});return xt.weekday&&mi&&P.weekday!==Ia.weekday?ii.invalid("mismatched weekday",`you can't specify both a weekday of ${xt.weekday} and a date of ${Ia.toISO()}`):Ia}static fromISO(P,pe={}){const[Ne,st]=function Wr(ye){return Er(ye,[Ts,mr],[si,Us],[Hr,Pr],[Ls,Ur])}(P);return Ms(Ne,st,pe,"ISO 8601",P)}static fromRFC2822(P,pe={}){const[Ne,st]=function gn(ye){return Er(function Or(ye){return ye.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(ye),[Ao,Es])}(P);return Ms(Ne,st,pe,"RFC 2822",P)}static fromHTTP(P,pe={}){const[Ne,st]=function vs(ye){return Er(ye,[or,no],[Fr,no],[as,wa])}(P);return Ms(Ne,st,pe,"HTTP",pe)}static fromFormat(P,pe,Ne={}){if(An(P)||An(pe))throw new f("fromFormat requires an input string and a format");const{locale:st=null,numberingSystem:xt=null}=Ne,Vt=se.fromOpts({locale:st,numberingSystem:xt,defaultToEN:!0}),[qt,sn,Cn,ti]=function _s(ye,P,pe){const{result:Ne,zone:st,specificOffset:xt,invalidReason:Vt}=ja(ye,P,pe);return[Ne,st,xt,Vt]}(Vt,P,pe);return ti?ii.invalid(ti):Ms(qt,sn,Ne,`format ${pe}`,P,Cn)}static fromString(P,pe,Ne={}){return ii.fromFormat(P,pe,Ne)}static fromSQL(P,pe={}){const[Ne,st]=function Ei(ye){return Er(ye,[et,mr],[Bt,Kn])}(P);return Ms(Ne,st,pe,"SQL",P)}static invalid(P,pe=null){if(!P)throw new f("need to specify a reason the DateTime is invalid");const Ne=P instanceof vt?P:new vt(P,pe);if(lt.throwOnInvalid)throw new e(Ne);return new ii({invalid:Ne})}static isDateTime(P){return P&&P.isLuxonDateTime||!1}static parseFormatForOpts(P,pe={}){const Ne=Ir(P,se.fromObject(pe));return Ne?Ne.map(st=>st?st.val:null).join(""):null}static expandFormat(P,pe={}){return Va($n.parseFormat(P),se.fromObject(pe)).map(st=>st.val).join("")}get(P){return this[P]}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Uo(this).weekYear:NaN}get weekNumber(){return this.isValid?Uo(this).weekNumber:NaN}get weekday(){return this.isValid?Uo(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?yo(this).weekday:NaN}get localWeekNumber(){return this.isValid?yo(this).weekNumber:NaN}get localWeekYear(){return this.isValid?yo(this).weekYear:NaN}get ordinal(){return this.isValid?ut(this.c).ordinal:NaN}get monthShort(){return this.isValid?Is.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Is.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Is.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Is.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return!this.isOffsetFixed&&(this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset)}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const P=864e5,pe=6e4,Ne=q(this.c),st=this.zone.offset(Ne-P),xt=this.zone.offset(Ne+P),Vt=this.zone.offset(Ne-st*pe),qt=this.zone.offset(Ne-xt*pe);if(Vt===qt)return[this];const sn=Ne-Vt*pe,Cn=Ne-qt*pe,ti=$a(sn,Vt),jn=$a(Cn,qt);return ti.hour===jn.hour&&ti.minute===jn.minute&&ti.second===jn.second&&ti.millisecond===jn.millisecond?[Kr(this,{ts:sn}),Kr(this,{ts:Cn})]:[this]}get isInLeapYear(){return yt(this.year)}get daysInMonth(){return ue(this.year,this.month)}get daysInYear(){return this.isValid?Oe(this.year):NaN}get weeksInWeekYear(){return this.isValid?Me(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?Me(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(P={}){const{locale:pe,numberingSystem:Ne,calendar:st}=$n.create(this.loc.clone(P),P).resolvedOptions(this);return{locale:pe,numberingSystem:Ne,outputCalendar:st}}toUTC(P=0,pe={}){return this.setZone(Ze.instance(P),pe)}toLocal(){return this.setZone(lt.defaultZone)}setZone(P,{keepLocalTime:pe=!1,keepCalendarTime:Ne=!1}={}){if((P=Pt(P,lt.defaultZone)).equals(this.zone))return this;if(P.isValid){let st=this.ts;if(pe||Ne){const xt=P.offset(this.ts),Vt=this.toObject();[st]=ha(Vt,xt,P)}return Kr(this,{ts:st,zone:P})}return ii.invalid(Ws(P))}reconfigure({locale:P,numberingSystem:pe,outputCalendar:Ne}={}){return Kr(this,{loc:this.loc.clone({locale:P,numberingSystem:pe,outputCalendar:Ne})})}setLocale(P){return this.reconfigure({locale:P})}set(P){if(!this.isValid)return this;const pe=Zn(P,fr),{minDaysInFirstWeek:Ne,startOfWeek:st}=$t(pe,this.loc),xt=!An(pe.weekYear)||!An(pe.weekNumber)||!An(pe.weekday),Vt=!An(pe.ordinal),qt=!An(pe.year),sn=!An(pe.month)||!An(pe.day);if((qt||sn||Vt)&&(pe.weekYear||pe.weekNumber))throw new S("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(sn&&Vt)throw new S("Can't mix ordinal dates with month/day");let jn;xt?jn=Rt({...ci(this.c,Ne,st),...pe},Ne,st):An(pe.ordinal)?(jn={...this.toObject(),...pe},An(pe.day)&&(jn.day=Math.min(ue(jn.year,jn.month),jn.day))):jn=Nt({...ut(this.c),...pe});const[_r,mi]=ha(jn,this.o,this.zone);return Kr(this,{ts:_r,o:mi})}plus(P){return this.isValid?Kr(this,io(this,Nn.fromDurationLike(P))):this}minus(P){return this.isValid?Kr(this,io(this,Nn.fromDurationLike(P).negate())):this}startOf(P,{useLocaleWeeks:pe=!1}={}){if(!this.isValid)return this;const Ne={},st=Nn.normalizeUnit(P);switch(st){case"years":Ne.month=1;case"quarters":case"months":Ne.day=1;case"weeks":case"days":Ne.hour=0;case"hours":Ne.minute=0;case"minutes":Ne.second=0;case"seconds":Ne.millisecond=0}if("weeks"===st)if(pe){const xt=this.loc.getStartOfWeek(),{weekday:Vt}=this;Vt<xt&&(Ne.weekNumber=this.weekNumber-1),Ne.weekday=xt}else Ne.weekday=1;if("quarters"===st){const xt=Math.ceil(this.month/3);Ne.month=3*(xt-1)+1}return this.set(Ne)}endOf(P,pe){return this.isValid?this.plus({[P]:1}).startOf(P,pe).minus(1):this}toFormat(P,pe={}){return this.isValid?$n.create(this.loc.redefaultToEN(pe)).formatDateTimeFromString(this,P):uo}toLocaleString(P=w,pe={}){return this.isValid?$n.create(this.loc.clone(pe),P).formatDateTime(this):uo}toLocaleParts(P={}){return this.isValid?$n.create(this.loc.clone(P),P).formatDateTimeParts(this):[]}toISO({format:P="extended",suppressSeconds:pe=!1,suppressMilliseconds:Ne=!1,includeOffset:st=!0,extendedZone:xt=!1}={}){if(!this.isValid)return null;const Vt="extended"===P;let qt=bs(this,Vt);return qt+="T",qt+=ne(this,Vt,pe,Ne,st,xt),qt}toISODate({format:P="extended"}={}){return this.isValid?bs(this,"extended"===P):null}toISOWeekDate(){return Ii(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:P=!1,suppressSeconds:pe=!1,includeOffset:Ne=!0,includePrefix:st=!1,extendedZone:xt=!1,format:Vt="extended"}={}){return this.isValid?(st?"T":"")+ne(this,"extended"===Vt,pe,P,Ne,xt):null}toRFC2822(){return Ii(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Ii(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?bs(this,!0):null}toSQLTime({includeOffset:P=!0,includeZone:pe=!1,includeOffsetSpace:Ne=!0}={}){let st="HH:mm:ss.SSS";return(pe||P)&&(Ne&&(st+=" "),pe?st+="z":P&&(st+="ZZ")),Ii(this,st,!0)}toSQL(P={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(P)}`:null}toString(){return this.isValid?this.toISO():uo}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(P={}){if(!this.isValid)return{};const pe={...this.c};return P.includeConfig&&(pe.outputCalendar=this.outputCalendar,pe.numberingSystem=this.loc.numberingSystem,pe.locale=this.loc.locale),pe}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(P,pe="milliseconds",Ne={}){if(!this.isValid||!P.isValid)return Nn.invalid("created by diffing an invalid DateTime");const st={locale:this.locale,numberingSystem:this.numberingSystem,...Ne},xt=function wi(ye){return Array.isArray(ye)?ye:[ye]}(pe).map(Nn.normalizeUnit),Vt=P.valueOf()>this.valueOf(),Cn=function Vr(ye,P,pe,Ne){let[st,xt,Vt,qt]=function Jo(ye,P,pe){const Ne=[["years",(sn,Cn)=>Cn.year-sn.year],["quarters",(sn,Cn)=>Cn.quarter-sn.quarter+4*(Cn.year-sn.year)],["months",(sn,Cn)=>Cn.month-sn.month+12*(Cn.year-sn.year)],["weeks",(sn,Cn)=>{const ti=da(sn,Cn);return(ti-ti%7)/7}],["days",da]],st={},xt=ye;let Vt,qt;for(const[sn,Cn]of Ne)pe.indexOf(sn)>=0&&(Vt=sn,st[sn]=Cn(ye,P),qt=xt.plus(st),qt>P?(st[sn]--,(ye=xt.plus(st))>P&&(qt=ye,st[sn]--,ye=xt.plus(st))):ye=qt);return[ye,st,qt,Vt]}(ye,P,pe);const sn=P-st,Cn=pe.filter(jn=>["hours","minutes","seconds","milliseconds"].indexOf(jn)>=0);0===Cn.length&&(Vt<P&&(Vt=st.plus({[qt]:1})),Vt!==st&&(xt[qt]=(xt[qt]||0)+sn/(Vt-st)));const ti=Nn.fromObject(xt,Ne);return Cn.length>0?Nn.fromMillis(sn,Ne).shiftTo(...Cn).plus(ti):ti}(Vt?this:P,Vt?P:this,xt,st);return Vt?Cn.negate():Cn}diffNow(P="milliseconds",pe={}){return this.diff(ii.now(),P,pe)}until(P){return this.isValid?Ti.fromDateTimes(this,P):this}hasSame(P,pe,Ne){if(!this.isValid)return!1;const st=P.valueOf(),xt=this.setZone(P.zone,{keepLocalTime:!0});return xt.startOf(pe,Ne)<=st&&st<=xt.endOf(pe,Ne)}equals(P){return this.isValid&&P.isValid&&this.valueOf()===P.valueOf()&&this.zone.equals(P.zone)&&this.loc.equals(P.loc)}toRelative(P={}){if(!this.isValid)return null;const pe=P.base||ii.fromObject({},{zone:this.zone}),Ne=P.padding?this<pe?-P.padding:P.padding:0;let st=["years","months","days","hours","minutes","seconds"],xt=P.unit;return Array.isArray(P.unit)&&(st=P.unit,xt=void 0),Ji(pe,this.plus(Ne),{...P,numeric:"always",units:st,unit:xt})}toRelativeCalendar(P={}){return this.isValid?Ji(P.base||ii.fromObject({},{zone:this.zone}),this,{...P,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...P){if(!P.every(ii.isDateTime))throw new f("min requires all arguments be DateTimes");return pi(P,pe=>pe.valueOf(),Math.min)}static max(...P){if(!P.every(ii.isDateTime))throw new f("max requires all arguments be DateTimes");return pi(P,pe=>pe.valueOf(),Math.max)}static fromFormatExplain(P,pe,Ne={}){const{locale:st=null,numberingSystem:xt=null}=Ne;return ja(se.fromOpts({locale:st,numberingSystem:xt,defaultToEN:!0}),P,pe)}static fromStringExplain(P,pe,Ne={}){return ii.fromFormatExplain(P,pe,Ne)}static get DATE_SHORT(){return w}static get DATE_MED(){return C}static get DATE_MED_WITH_WEEKDAY(){return R}static get DATE_FULL(){return x}static get DATE_HUGE(){return O}static get TIME_SIMPLE(){return H}static get TIME_WITH_SECONDS(){return M}static get TIME_WITH_SHORT_OFFSET(){return V}static get TIME_WITH_LONG_OFFSET(){return U}static get TIME_24_SIMPLE(){return G}static get TIME_24_WITH_SECONDS(){return ie}static get TIME_24_WITH_SHORT_OFFSET(){return le}static get TIME_24_WITH_LONG_OFFSET(){return L}static get DATETIME_SHORT(){return J}static get DATETIME_SHORT_WITH_SECONDS(){return te}static get DATETIME_MED(){return I}static get DATETIME_MED_WITH_SECONDS(){return oe}static get DATETIME_MED_WITH_WEEKDAY(){return z}static get DATETIME_FULL(){return _e}static get DATETIME_FULL_WITH_SECONDS(){return Pe}static get DATETIME_HUGE(){return Re}static get DATETIME_HUGE_WITH_SECONDS(){return ke}}function Qi(ye){if(ii.isDateTime(ye))return ye;if(ye&&ye.valueOf&&mn(ye.valueOf()))return ii.fromJSDate(ye);if(ye&&"object"==typeof ye)return ii.fromObject(ye);throw new f(`Unknown datetime argument: ${ye}, of type ${typeof ye}`)}},4304:(qe,me,u)=>{"use strict";u.d(me,{h6:()=>H});var n=u(4438),e=u(177),_=u(9969);const g="400ms cubic-bezier(0.4,0.0,0.2,1)";(0,_.iF)({height:0,visibility:"hidden"}),(0,_.i0)(g,(0,_.iF)({height:"*",visibility:"visible"})),(0,_.iF)({height:"*",visibility:"visible"}),(0,_.i0)(g,(0,_.iF)({height:0,visibility:"hidden"}));let d=(()=>{class M{static forRoot(){return{ngModule:M,providers:[]}}static{this.\u0275fac=function(G){return new(G||M)}}static{this.\u0275mod=n.$C({type:M})}static{this.\u0275inj=n.G2t({})}}return M})(),H=(()=>{class M{static forRoot(){return{ngModule:M,providers:[]}}static{this.\u0275fac=function(G){return new(G||M)}}static{this.\u0275mod=n.$C({type:M})}static{this.\u0275inj=n.G2t({imports:[e.MD,d]})}}return M})()},6932:(qe,me,u)=>{"use strict";u.d(me,{Li:()=>d});var n=u(4438),e=u(2806),_=u(2865),g=u(177);class v{constructor(m,F,w){this.nodes=m,this.viewRef=F,this.componentRef=w}}class f{constructor(m,F,w,C,R,x,O,H,M){this._viewContainerRef=m,this._renderer=F,this._elementRef=w,this._injector=C,this._componentFactoryResolver=R,this._ngZone=x,this._applicationRef=O,this._posService=H,this._document=M,this.onBeforeShow=new n.bkB,this.onShown=new n.bkB,this.onBeforeHide=new n.bkB,this.onHidden=new n.bkB,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}get isShown(){return!this._isHiding&&!!this._componentRef}attach(m){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(m),this}to(m){return this.container=m||this.container,this}position(m){return m?(this.attachment=m.attachment||this.attachment,this._elementRef=m.target||this._elementRef,this):this}provide(m){return this._providers.push(m),this}show(m={}){if(this._subscribePositioning(),this._innerComponent=void 0,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(m.content,m.context,m.initialState);const F=n.zZn.create({providers:this._providers,parent:this._injector});if(!this._componentFactory)return;if(this._componentRef=this._componentFactory.create(F,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,m),this.container instanceof n.aKT&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"string"==typeof this.container&&typeof this._document<"u"){const w=this._document.querySelector(this.container)||this._document.querySelector(this.containerDefaultSelector);if(!w)return;w.appendChild(this._componentRef.location.nativeElement)}!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(m.id?{id:m.id}:this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}hide(m){if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);const F=this._componentRef.location.nativeElement;return F.parentNode?.removeChild(F),this._contentRef?.componentRef?.destroy(),this._viewContainerRef&&this._contentRef?.viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),this._contentRef?.viewRef?.destroy(),this._contentRef=void 0,this._componentRef=void 0,this._removeGlobalListener(),this.onHidden.emit(m?{id:m}:null),this}toggle(){this.isShown?this.hide():this.show()}dispose(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}listen(m){this.triggers=m.triggers||this.triggers,this._listenOpts.outsideClick=m.outsideClick,this._listenOpts.outsideEsc=m.outsideEsc,m.target=m.target||this._elementRef?.nativeElement;const F=this._listenOpts.hide=()=>m.hide?m.hide():void this.hide(),w=this._listenOpts.show=R=>{m.show?m.show(R):this.show(R),R()};return this._renderer&&(this._unregisterListenersFn=(0,e.GL)(this._renderer,{target:m.target,triggers:m.triggers,show:w,hide:F,toggle:R=>{this.isShown?F():w(R)}})),this}_removeGlobalListener(){this._globalListener&&(this._globalListener(),this._globalListener=Function.prototype)}attachInline(m,F){return m&&F&&(this._inlineViewRef=m.createEmbeddedView(F)),this}_registerOutsideClick(){if(this._componentRef&&this._componentRef.location){if(this._listenOpts.outsideClick){const m=this._componentRef.location.nativeElement;setTimeout(()=>{this._renderer&&this._elementRef&&(this._globalListener=(0,e.Xt)(this._renderer,{targets:[m,this._elementRef.nativeElement],outsideClick:this._listenOpts.outsideClick,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))})}this._listenOpts.outsideEsc&&this._renderer&&this._elementRef&&(this._globalListener=(0,e.Fv)(this._renderer,{targets:[this._componentRef.location.nativeElement,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))}}getInnerComponent(){return this._innerComponent}_subscribePositioning(){this._zoneSubscription||!this.attachment||(this.onShown.subscribe(()=>{this._posService.position({element:this._componentRef?.location,target:this._elementRef,attachment:this.attachment,appendToBody:"body"===this.container})}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>{this._componentRef&&this._posService.calcPosition()}))}_unsubscribePositioning(){this._zoneSubscription&&(this._zoneSubscription.unsubscribe(),this._zoneSubscription=void 0)}_getContentRef(m,F,w){if(!m)return new v([]);if(m instanceof n.C4Q){if(this._viewContainerRef){const x=this._viewContainerRef.createEmbeddedView(m,F);return x.markForCheck(),new v([x.rootNodes],x)}const R=m.createEmbeddedView({});return this._applicationRef.attachView(R),new v([R.rootNodes],R)}if("function"==typeof m){const R=this._componentFactoryResolver.resolveComponentFactory(m),x=n.zZn.create({providers:this._providers,parent:this._injector}),O=R.create(x);return Object.assign(O.instance,w),this._applicationRef.attachView(O.hostView),new v([[O.location.nativeElement]],O.hostView,O)}const C=this._renderer?[this._renderer.createText(`${m}`)]:[];return new v([C])}}let d=(()=>{class E{constructor(F,w,C,R,x,O){this._componentFactoryResolver=F,this._ngZone=w,this._injector=C,this._posService=R,this._applicationRef=x,this._document=O}createLoader(F,w,C){return new f(w,C,F,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService,this._document)}static{this.\u0275fac=function(w){return new(w||E)(n.KVO(n.OM3),n.KVO(n.SKi),n.KVO(n.zZn),n.KVO(_.DF),n.KVO(n.o8S),n.KVO(g.qQ))}}static{this.\u0275prov=n.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}}return E})()},779:(qe,me,u)=>{"use strict";u.d(me,{I8:()=>Ut,hZ:()=>Ye,Q_:()=>_t});var n=u(4438),e=u(2806),_=u(177),g=u(6697);let v,S=(()=>{class X{constructor(){this._focusTrapStack=[]}register(ee){this._focusTrapStack=this._focusTrapStack.filter(Ee=>Ee!==ee);let Se=this._focusTrapStack;Se.length&&Se[Se.length-1]._disable(),Se.push(ee),ee._enable()}deregister(ee){ee._disable();const Se=this._focusTrapStack,Ee=Se.indexOf(ee);-1!==Ee&&(Se.splice(Ee,1),Se.length&&Se[Se.length-1]._enable())}static{this.\u0275fac=function(Se){return new(Se||X)}}static{this.\u0275prov=n.jDH({token:X,factory:X.\u0275fac,providedIn:"root"})}}return X})();try{v=typeof Intl<"u"&&Intl.v8BreakIterator}catch{v=!1}let f=(()=>{class X{constructor(ee){this._platformId=ee,this.isBrowser=this._platformId?(0,_.UE)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!v)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(Se){return new(Se||X)(n.KVO(n.Agw))}}static{this.\u0275prov=n.jDH({token:X,factory:X.\u0275fac,providedIn:"root"})}}return X})(),E=(()=>{class X{constructor(ee){this._platform=ee}isDisabled(ee){return ee.hasAttribute("disabled")}isVisible(ee){return function F(X){return!!(X.offsetWidth||X.offsetHeight||"function"==typeof X.getClientRects&&X.getClientRects().length)}(ee)&&"visible"===getComputedStyle(ee).visibility}isTabbable(ee){if(!this._platform.isBrowser)return!1;const Se=function m(X){try{return X.frameElement}catch{return null}}(function G(X){return X.ownerDocument&&X.ownerDocument.defaultView||window}(ee));if(Se&&(-1===M(Se)||!this.isVisible(Se)))return!1;let Ee=ee.nodeName.toLowerCase(),at=M(ee);return ee.hasAttribute("contenteditable")?-1!==at:!("iframe"===Ee||"object"===Ee||this._platform.WEBKIT&&this._platform.IOS&&!function V(X){let Y=X.nodeName.toLowerCase(),ee="input"===Y&&X.type;return"text"===ee||"password"===ee||"select"===Y||"textarea"===Y}(ee))&&("audio"===Ee?!!ee.hasAttribute("controls")&&-1!==at:"video"===Ee?-1!==at&&(null!==at||this._platform.FIREFOX||ee.hasAttribute("controls")):ee.tabIndex>=0)}isFocusable(ee,Se){return function U(X){return!function C(X){return function x(X){return"input"==X.nodeName.toLowerCase()}(X)&&"hidden"==X.type}(X)&&(function w(X){let Y=X.nodeName.toLowerCase();return"input"===Y||"select"===Y||"button"===Y||"textarea"===Y}(X)||function R(X){return function O(X){return"a"==X.nodeName.toLowerCase()}(X)&&X.hasAttribute("href")}(X)||X.hasAttribute("contenteditable")||H(X))}(ee)&&!this.isDisabled(ee)&&(Se?.ignoreVisibility||this.isVisible(ee))}static{this.\u0275fac=function(Se){return new(Se||X)(n.KVO(f))}}static{this.\u0275prov=n.jDH({token:X,factory:X.\u0275fac,providedIn:"root"})}}return X})();function H(X){if(!X.hasAttribute("tabindex")||void 0===X.tabIndex)return!1;let Y=X.getAttribute("tabindex");return"-32768"!=Y&&!(!Y||isNaN(parseInt(Y,10)))}function M(X){if(!H(X))return null;const Y=parseInt(X.getAttribute("tabindex")||"",10);return isNaN(Y)?-1:Y}function ie(X){return null!=X&&"false"!=`${X}`}class le{get enabled(){return this._enabled}set enabled(Y){this._enabled=Y,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(Y,this._startAnchor),this._toggleAnchorTabIndex(Y,this._endAnchor))}constructor(Y,ee,Se,Ee,at=!1){this._element=Y,this._checker=ee,this._ngZone=Se,this._document=Ee,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,at||this.attachAnchors()}destroy(){const Y=this._startAnchor,ee=this._endAnchor;Y&&(Y.removeEventListener("focus",this.startAnchorListener),Y.parentNode&&Y.parentNode.removeChild(Y)),ee&&(ee.removeEventListener("focus",this.endAnchorListener),ee.parentNode&&ee.parentNode.removeChild(ee)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(Y=>{this._executeOnStable(()=>Y(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(Y=>{this._executeOnStable(()=>Y(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(Y=>{this._executeOnStable(()=>Y(this.focusLastTabbableElement()))})}_getRegionBoundary(Y){let ee=this._element.querySelectorAll(`[cdk-focus-region-${Y}], [cdkFocusRegion${Y}], [cdk-focus-${Y}]`);for(let Se=0;Se<ee.length;Se++)ee[Se].hasAttribute(`cdk-focus-${Y}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${Y}', use 'cdkFocusRegion${Y}' instead. The deprecated attribute will be removed in 8.0.0.`,ee[Se]):ee[Se].hasAttribute(`cdk-focus-region-${Y}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${Y}', use 'cdkFocusRegion${Y}' instead. The deprecated attribute will be removed in 8.0.0.`,ee[Se]);return"start"==Y?ee.length?ee[0]:this._getFirstTabbableElement(this._element):ee.length?ee[ee.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const Y=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(Y){if(Y.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",Y),!this._checker.isFocusable(Y)){const ee=this._getFirstTabbableElement(Y);return ee?.focus(),!!ee}return Y.focus(),!0}return this.focusFirstTabbableElement()}focusFirstTabbableElement(){const Y=this._getRegionBoundary("start");return Y&&Y.focus(),!!Y}focusLastTabbableElement(){const Y=this._getRegionBoundary("end");return Y&&Y.focus(),!!Y}hasAttached(){return this._hasAttached}_getFirstTabbableElement(Y){if(this._checker.isFocusable(Y)&&this._checker.isTabbable(Y))return Y;let ee=Y.children||Y.childNodes;for(let Se=0;Se<ee.length;Se++){let Ee=ee[Se].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(ee[Se]):null;if(Ee)return Ee}return null}_getLastTabbableElement(Y){if(this._checker.isFocusable(Y)&&this._checker.isTabbable(Y))return Y;let ee=Y.children||Y.childNodes;for(let Se=ee.length-1;Se>=0;Se--){let Ee=ee[Se].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(ee[Se]):null;if(Ee)return Ee}return null}_createAnchor(){const Y=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,Y),Y.classList.add("cdk-visually-hidden"),Y.classList.add("cdk-focus-trap-anchor"),Y.setAttribute("aria-hidden","true"),Y}_toggleAnchorTabIndex(Y,ee){Y?ee.setAttribute("tabindex","0"):ee.removeAttribute("tabindex")}toggleAnchors(Y){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(Y,this._startAnchor),this._toggleAnchorTabIndex(Y,this._endAnchor))}_executeOnStable(Y){this._ngZone.isStable?Y():this._ngZone.onStable.pipe((0,g.s)(1)).subscribe(Y)}}let L=(()=>{class X{constructor(ee,Se,Ee){this._checker=ee,this._ngZone=Se,this._document=Ee}create(ee,Se=!1){return new le(ee,this._checker,this._ngZone,this._document,Se)}static{this.\u0275fac=function(Se){return new(Se||X)(n.KVO(E),n.KVO(n.SKi),n.KVO(_.qQ))}}static{this.\u0275prov=n.jDH({token:X,factory:X.\u0275fac,providedIn:"root"})}}return X})(),J=(()=>{class X{get enabled(){return this.focusTrap.enabled}set enabled(ee){this.focusTrap.enabled=ie(ee)}get autoCapture(){return this._autoCapture}set autoCapture(ee){this._autoCapture=ie(ee)}constructor(ee,Se,Ee){this._elementRef=ee,this._focusTrapFactory=Se,this._previouslyFocusedElement=null,this._autoCapture=!1,this._document=Ee,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(ee){const Se=ee.autoCapture;Se&&!Se.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=this._document.activeElement,this.focusTrap.focusInitialElementWhenReady()}static{this.\u0275fac=function(Se){return new(Se||X)(n.rXU(n.aKT),n.rXU(L),n.rXU(_.qQ))}}static{this.\u0275dir=n.FsC({type:X,selectors:[["","focusTrap",""]],inputs:{enabled:[n.Mj6.None,"cdkTrapFocus","enabled"],autoCapture:[n.Mj6.None,"cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["focusTrap"],features:[n.OA$]})}}return X})(),te=(()=>{class X{static forRoot(){return{ngModule:X,providers:[S,f,E]}}static{this.\u0275fac=function(Se){return new(Se||X)}}static{this.\u0275mod=n.$C({type:X})}static{this.\u0275inj=n.G2t({imports:[_.MD]})}}return X})();var I=u(6932),oe=u(2865);const z=["*"];let _e=(()=>{class X{constructor(){this.hide=()=>{},this.setClass=()=>{}}static{this.\u0275fac=function(Se){return new(Se||X)}}static{this.\u0275prov=n.jDH({token:X,factory:X.\u0275fac,providedIn:"platform"})}}return X})(),Re=(()=>{class X{static{this.\u0275fac=function(Se){return new(Se||X)}}static{this.\u0275prov=n.jDH({token:X,factory:X.\u0275fac,providedIn:"platform"})}}return X})();const ke={backdrop:!0,keyboard:!0,focus:!0,show:!1,ignoreBackdropClick:!1,class:"",animated:!0,initialState:{},closeInterceptor:void 0},Je=new n.nKC("override-default-config"),Te_OPEN="modal-open";let Ae=(()=>{class X{constructor(ee,Se,Ee){this._element=Se,this._renderer=Ee,this.isShown=!1,this.isAnimated=!1,this._focusEl=null,this.isModalHiding=!1,this.clickStartedInContent=!1,this.config=Object.assign({},ee)}ngOnInit(){this._focusEl=e.Al.activeElement,this.isAnimated&&this._renderer.addClass(this._element.nativeElement,"fade"),this._renderer.setStyle(this._element.nativeElement,"display","block"),setTimeout(()=>{this.isShown=!0,this._renderer.addClass(this._element.nativeElement,"show")},this.isAnimated?150:0),e.Al&&e.Al.body&&(this.bsModalService&&1===this.bsModalService.getModalsCount()&&(this.bsModalService.checkScrollbar(),this.bsModalService.setScrollbar()),this._renderer.addClass(e.Al.body,Te_OPEN),this._renderer.setStyle(e.Al.body,"overflow-y","hidden")),this._element.nativeElement&&this._element.nativeElement.focus()}onClickStarted(ee){this.clickStartedInContent=ee.target!==this._element.nativeElement}onClickStop(ee){this.config.ignoreBackdropClick||"static"===this.config.backdrop||ee.target!==this._element.nativeElement||this.clickStartedInContent?this.clickStartedInContent=!1:(this.bsModalService?.setDismissReason("backdrop-click"),this.hide())}onPopState(){this.bsModalService?.setDismissReason("browser-back-navigation-clicked"),this.hide()}onEsc(ee){this.isShown&&((27===ee.keyCode||"Escape"===ee.key)&&ee.preventDefault(),this.config.keyboard&&this.level===this.bsModalService?.getModalsCount()&&(this.bsModalService?.setDismissReason("esc"),this.hide()))}ngOnDestroy(){this.isShown&&this._hide()}hide(){if(!this.isModalHiding){if(this.config.closeInterceptor)return void this.config.closeInterceptor().then(()=>this._hide(),()=>{});this._hide()}}_hide(){this.isModalHiding=!0,this._renderer.removeClass(this._element.nativeElement,"show"),setTimeout(()=>{this.isShown=!1,e.Al&&e.Al.body&&1===this.bsModalService?.getModalsCount()&&(this._renderer.removeClass(e.Al.body,Te_OPEN),this._renderer.setStyle(e.Al.body,"overflow-y","")),this.bsModalService?.hide(this.config.id),this.isModalHiding=!1,this._focusEl&&this._focusEl.focus()},this.isAnimated?300:0)}static{this.\u0275fac=function(Se){return new(Se||X)(n.rXU(Re),n.rXU(n.aKT),n.rXU(n.sFG))}}static{this.\u0275cmp=n.VBU({type:X,selectors:[["modal-container"]],hostAttrs:["role","dialog","tabindex","-1",1,"modal"],hostVars:3,hostBindings:function(Se,Ee){1&Se&&n.bIt("mousedown",function(je){return Ee.onClickStarted(je)})("click",function(je){return Ee.onClickStop(je)})("popstate",function(){return Ee.onPopState()},!1,n.tSv)("keydown.esc",function(je){return Ee.onEsc(je)},!1,n.tSv),2&Se&&n.BMQ("aria-modal",!0)("aria-labelledby",Ee.config.ariaLabelledBy)("aria-describedby",Ee.config.ariaDescribedby)},ngContentSelectors:z,decls:3,vars:2,consts:[["role","document","focusTrap",""],[1,"modal-content"]],template:function(Se,Ee){1&Se&&(n.NAR(),n.j41(0,"div",0)(1,"div",1),n.SdG(2),n.k0s()()),2&Se&&n.HbH("modal-dialog"+(Ee.config.class?" "+Ee.config.class:""))},dependencies:[J],encapsulation:2})}}return X})(),rt=(()=>{class X{get isAnimated(){return this._isAnimated}set isAnimated(ee){this._isAnimated=ee}get isShown(){return this._isShown}set isShown(ee){this._isShown=ee,ee?this.renderer.addClass(this.element.nativeElement,"show"):this.renderer.removeClass(this.element.nativeElement,"show")}constructor(ee,Se){this._isAnimated=!1,this._isShown=!1,this.element=ee,this.renderer=Se}ngOnInit(){this.isAnimated&&(this.renderer.addClass(this.element.nativeElement,"fade"),e.Aq.reflow(this.element.nativeElement)),this.isShown=!0}static{this.\u0275fac=function(Se){return new(Se||X)(n.rXU(n.aKT),n.rXU(n.sFG))}}static{this.\u0275cmp=n.VBU({type:X,selectors:[["bs-modal-backdrop"]],hostAttrs:[1,"modal-backdrop"],decls:0,vars:0,template:function(Se,Ee){},encapsulation:2})}}return X})(),Ye=(()=>{class X{set config(ee){this._config=this.getConfig(ee)}get config(){return this._config}get isShown(){return this._isShown}constructor(ee,Se,Ee,at,je){this._element=ee,this._renderer=Ee,this.onShow=new n.bkB,this.onShown=new n.bkB,this.onHide=new n.bkB,this.onHidden=new n.bkB,this._isShown=!1,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.timerHideModal=0,this.timerRmBackDrop=0,this.isNested=!1,this.clickStartedInContent=!1,this._focusEl=null,this._backdrop=at.createLoader(ee,Se,Ee),this._config=je||ke}onClickStarted(ee){this.clickStartedInContent=ee.target!==this._element.nativeElement}onClickStop(ee){this.config.ignoreBackdropClick||"static"===this.config.backdrop||ee.target!==this._element.nativeElement||this.clickStartedInContent?this.clickStartedInContent=!1:(this.dismissReason="backdrop-click",this.hide(ee))}onEsc(ee){this._isShown&&((27===ee.keyCode||"Escape"===ee.key)&&ee.preventDefault(),this.config.keyboard&&(this.dismissReason="esc",this.hide()))}ngOnDestroy(){this._isShown&&(this._isShown=!1,this.hideModal(),this._backdrop.dispose())}ngOnInit(){this._config=this._config||this.getConfig(),setTimeout(()=>{this._config.show&&this.show()},0)}toggle(){return this._isShown?this.hide():this.show()}show(){this.dismissReason=void 0,this.onShow.emit(this),!this._isShown&&(clearTimeout(this.timerHideModal),clearTimeout(this.timerRmBackDrop),this._isShown=!0,this.checkScrollbar(),this.setScrollbar(),e.Al&&e.Al.body&&(e.Al.body.classList.contains(Te_OPEN)?this.isNested=!0:(this._renderer.addClass(e.Al.body,Te_OPEN),this._renderer.setStyle(e.Al.body,"overflow-y","hidden"))),this.showBackdrop(()=>{this.showElement()}))}hide(ee){if(this._isShown){if(ee&&ee.preventDefault(),this.config.closeInterceptor)return void this.config.closeInterceptor().then(()=>this._hide(),()=>{});this._hide()}}_hide(){this.onHide.emit(this),e.x.clearTimeout(this.timerHideModal),e.x.clearTimeout(this.timerRmBackDrop),this._isShown=!1,this._renderer.removeClass(this._element.nativeElement,"show"),this._config.animated?this.timerHideModal=e.x.setTimeout(()=>this.hideModal(),300):this.hideModal(),this._focusEl&&this._focusEl.focus()}getConfig(ee){return Object.assign({},this._config,ee)}showElement(){(!this._element.nativeElement.parentNode||this._element.nativeElement.parentNode.nodeType!==Node.ELEMENT_NODE)&&e.Al&&e.Al.body&&e.Al.body.appendChild(this._element.nativeElement),this._renderer.setAttribute(this._element.nativeElement,"aria-hidden","false"),this._renderer.setAttribute(this._element.nativeElement,"aria-modal","true"),this._renderer.setStyle(this._element.nativeElement,"display","block"),this._renderer.setProperty(this._element.nativeElement,"scrollTop",0),this._config.animated&&e.Aq.reflow(this._element.nativeElement),this._renderer.addClass(this._element.nativeElement,"show");const ee=()=>{this._config.focus&&this._element.nativeElement.focus(),this.onShown.emit(this)};this._config.animated?setTimeout(ee,300):ee()}hideModal(){this._renderer.setAttribute(this._element.nativeElement,"aria-hidden","true"),this._renderer.setStyle(this._element.nativeElement,"display","none"),this.showBackdrop(()=>{this.isNested||(e.Al&&e.Al.body&&(this._renderer.removeClass(e.Al.body,Te_OPEN),this._renderer.setStyle(e.Al.body,"overflow-y","")),this.resetScrollbar()),this.resetAdjustments(),this.focusOtherModal(),this.onHidden.emit(this)})}showBackdrop(ee){if(!this._isShown||!this.config.backdrop||this.backdrop&&this.backdrop.instance.isShown)if(!this._isShown&&this.backdrop){this.backdrop.instance.isShown=!1;const Se=()=>{this.removeBackdrop(),ee&&ee()};this.backdrop.instance.isAnimated?this.timerRmBackDrop=e.x.setTimeout(Se,150):Se()}else ee&&ee();else{if(this.removeBackdrop(),this._backdrop.attach(rt).to("body").show({isAnimated:this._config.animated}),this.backdrop=this._backdrop._componentRef,!ee)return;if(!this._config.animated)return void ee();setTimeout(ee,150)}}removeBackdrop(){this._backdrop.hide()}focusOtherModal(){if(null==this._element.nativeElement.parentElement)return;const ee=this._element.nativeElement.parentElement.querySelectorAll(".in[bsModal]");ee.length&&ee[ee.length-1].focus()}resetAdjustments(){this._renderer.setStyle(this._element.nativeElement,"paddingLeft",""),this._renderer.setStyle(this._element.nativeElement,"paddingRight","")}checkScrollbar(){this.isBodyOverflowing=e.Al.body.clientWidth<e.x.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()}setScrollbar(){e.Al&&(this.originalBodyPadding=parseInt(e.x.getComputedStyle(e.Al.body).getPropertyValue("padding-right")||0,10),this.isBodyOverflowing&&(e.Al.body.style.paddingRight=`${this.originalBodyPadding+this.scrollbarWidth}px`))}resetScrollbar(){e.Al.body.style.paddingRight=`${this.originalBodyPadding}px`}getScrollbarWidth(){const ee=this._renderer.createElement("div");this._renderer.addClass(ee,"modal-scrollbar-measure"),this._renderer.appendChild(e.Al.body,ee);const Se=ee.offsetWidth-ee.clientWidth;return this._renderer.removeChild(e.Al.body,ee),Se}static{this.\u0275fac=function(Se){return new(Se||X)(n.rXU(n.aKT),n.rXU(n.c1b),n.rXU(n.sFG),n.rXU(I.Li),n.rXU(Je,8))}}static{this.\u0275dir=n.FsC({type:X,selectors:[["","bsModal",""]],hostBindings:function(Se,Ee){1&Se&&n.bIt("mousedown",function(je){return Ee.onClickStarted(je)})("mouseup",function(je){return Ee.onClickStop(je)})("keydown.esc",function(je){return Ee.onEsc(je)})},inputs:{config:"config",closeInterceptor:"closeInterceptor"},outputs:{onShow:"onShow",onShown:"onShown",onHide:"onHide",onHidden:"onHidden"},exportAs:["bs-modal"]})}}return X})(),Yt=1,Ut=(()=>{class X{constructor(ee,Se,Ee){this.clf=Se,this.modalDefaultOption=Ee,this.onShow=new n.bkB,this.onShown=new n.bkB,this.onHide=new n.bkB,this.onHidden=new n.bkB,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.modalsCount=0,this.loaders=[],this._focusEl=null,this._backdropLoader=this.clf.createLoader(),this._renderer=ee.createRenderer(null,null),this.config=Ee?Object.assign({},ke,Ee):ke}show(ee,Se){this._focusEl=e.Al.activeElement,this.modalsCount++,this._createLoaders();const Ee=Se?.id||Yt++;return this.config=this.modalDefaultOption?Object.assign({},ke,this.modalDefaultOption,Se):Object.assign({},ke,Se),this.config.id=Ee,this._showBackdrop(),this.lastDismissReason=void 0,this._showModal(ee)}hide(ee){(1===this.modalsCount||null==ee)&&(this._hideBackdrop(),this.resetScrollbar()),this.modalsCount=this.modalsCount>=1&&null!=ee?this.modalsCount-1:0,setTimeout(()=>{this._hideModal(ee),this.removeLoaders(ee)},this.config.animated?150:0),this._focusEl&&this._focusEl.focus()}_showBackdrop(){const ee=!0===this.config.backdrop||"static"===this.config.backdrop,Se=!this.backdropRef||!this.backdropRef.instance.isShown;1===this.modalsCount&&(this.removeBackdrop(),ee&&Se&&(this._backdropLoader.attach(rt).to("body").show({isAnimated:this.config.animated}),this.backdropRef=this._backdropLoader._componentRef))}_hideBackdrop(){this.backdropRef&&(this.backdropRef.instance.isShown=!1,setTimeout(()=>this.removeBackdrop(),this.config.animated?150:0))}_showModal(ee){const Se=this.loaders[this.loaders.length-1];if(this.config&&this.config.providers)for(const je of this.config.providers)Se.provide(je);const Ee=new _e,at=Se.provide({provide:Re,useValue:this.config}).provide({provide:_e,useValue:Ee}).attach(Ae).to("body");return Ee.hide=()=>this.hide(Ee.id),Ee.setClass=je=>{at.instance&&(at.instance.config.class=je)},Ee.onHidden=new n.bkB,Ee.onHide=new n.bkB,this.copyEvent(Se.onBeforeHide,Ee.onHide),this.copyEvent(Se.onHidden,Ee.onHidden),at.show({content:ee,isAnimated:this.config.animated,initialState:this.config.initialState,bsModalService:this,id:this.config.id}),at.instance&&(at.instance.level=this.getModalsCount(),Ee.content=Se.getInnerComponent(),Ee.id=at.instance.config?.id),Ee}_hideModal(ee){if(null!=ee){const Se=this.loaders.findIndex(at=>at.instance?.config.id===ee),Ee=this.loaders[Se];Ee&&Ee.hide(ee)}else this.loaders.forEach(Se=>{Se.instance&&Se.hide(Se.instance.config.id)})}getModalsCount(){return this.modalsCount}setDismissReason(ee){this.lastDismissReason=ee}removeBackdrop(){this._renderer.removeClass(e.Al.body,Te_OPEN),this._renderer.setStyle(e.Al.body,"overflow-y",""),this._backdropLoader.hide(),this.backdropRef=void 0}checkScrollbar(){this.isBodyOverflowing=e.Al.body.clientWidth<window.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()}setScrollbar(){e.Al&&(this.originalBodyPadding=parseInt(window.getComputedStyle(e.Al.body).getPropertyValue("padding-right")||"0",10),this.isBodyOverflowing&&(e.Al.body.style.paddingRight=`${this.originalBodyPadding+this.scrollbarWidth}px`))}resetScrollbar(){e.Al.body.style.paddingRight=`${this.originalBodyPadding}px`}getScrollbarWidth(){const ee=this._renderer.createElement("div");this._renderer.addClass(ee,"modal-scrollbar-measure"),this._renderer.appendChild(e.Al.body,ee);const Se=ee.offsetWidth-ee.clientWidth;return this._renderer.removeChild(e.Al.body,ee),Se}_createLoaders(){const ee=this.clf.createLoader();this.copyEvent(ee.onBeforeShow,this.onShow),this.copyEvent(ee.onShown,this.onShown),this.copyEvent(ee.onBeforeHide,this.onHide),this.copyEvent(ee.onHidden,this.onHidden),this.loaders.push(ee)}removeLoaders(ee){if(null!=ee){const Se=this.loaders.findIndex(Ee=>Ee.instance?.config.id===ee);Se>=0&&(this.loaders.splice(Se,1),this.loaders.forEach((Ee,at)=>{Ee.instance&&(Ee.instance.level=at+1)}))}else this.loaders.splice(0,this.loaders.length)}copyEvent(ee,Se){ee.subscribe(Ee=>{Se.emit(this.lastDismissReason||Ee)})}static{this.\u0275fac=function(Se){return new(Se||X)(n.KVO(n._9s),n.KVO(I.Li),n.KVO(Je,8))}}static{this.\u0275prov=n.jDH({token:X,factory:X.\u0275fac,providedIn:"platform"})}}return X})();te.forRoot();let _t=(()=>{class X{static forRoot(){return{ngModule:X,providers:[Ut,I.Li,oe.DF]}}static forChild(){return{ngModule:X,providers:[Ut,I.Li,oe.DF]}}static{this.\u0275fac=function(Se){return new(Se||X)}}static{this.\u0275mod=n.$C({type:X})}static{this.\u0275inj=n.G2t({imports:[te]})}}return X})()},2865:(qe,me,u)=>{"use strict";u.d(me,{Rz:()=>H,DF:()=>it});var n=u(2806),e=u(4438),_=u(177),g=u(1413),S=u(7786),v=u(3726),f=u(7673),d=u(6780),E=u(8359);const m={schedule(ve){let ae=requestAnimationFrame,$=cancelAnimationFrame;const{delegate:se}=m;se&&(ae=se.requestAnimationFrame,$=se.cancelAnimationFrame);const Ue=ae(Ze=>{$=void 0,ve(Ze)});return new E.yU(()=>$?.(Ue))},requestAnimationFrame(...ve){const{delegate:ae}=m;return(ae?.requestAnimationFrame||requestAnimationFrame)(...ve)},cancelAnimationFrame(...ve){const{delegate:ae}=m;return(ae?.cancelAnimationFrame||cancelAnimationFrame)(...ve)},delegate:void 0};var w=u(9687);const R=new class C extends w.q{flush(ae){this._active=!0;const $=this._scheduled;this._scheduled=void 0;const{actions:se}=this;let Ue;ae=ae||se.shift();do{if(Ue=ae.execute(ae.state,ae.delay))break}while((ae=se[0])&&ae.id===$&&se.shift());if(this._active=!1,Ue){for(;(ae=se[0])&&ae.id===$&&se.shift();)ae.unsubscribe();throw Ue}}}(class F extends d.R{constructor(ae,$){super(ae,$),this.scheduler=ae,this.work=$}requestAsyncId(ae,$,se=0){return null!==se&&se>0?super.requestAsyncId(ae,$,se):(ae.actions.push(this),ae._scheduled||(ae._scheduled=m.requestAnimationFrame(()=>ae.flush(void 0))))}recycleAsyncId(ae,$,se=0){var Ue;if(null!=se?se>0:this.delay>0)return super.recycleAsyncId(ae,$,se);const{actions:Ze}=ae;null!=$&&(null===(Ue=Ze[Ze.length-1])||void 0===Ue?void 0:Ue.id)!==$&&(m.cancelAnimationFrame($),ae._scheduled=void 0)}});var O=function(ve){return ve.top="top",ve.bottom="bottom",ve.left="left",ve.right="right",ve.auto="auto",ve.end="right",ve.start="left",ve["top left"]="top left",ve["top right"]="top right",ve["right top"]="right top",ve["right bottom"]="right bottom",ve["bottom right"]="bottom right",ve["bottom left"]="bottom left",ve["left bottom"]="left bottom",ve["left top"]="left top",ve["top start"]="top left",ve["top end"]="top right",ve["end top"]="right top",ve["end bottom"]="right bottom",ve["bottom end"]="bottom right",ve["bottom start"]="bottom left",ve["start bottom"]="start bottom",ve["start top"]="left top",ve}(O||{}),H=function(ve){return ve.top="top",ve.bottom="bottom",ve.left="start",ve.right="end",ve.auto="auto",ve.end="end",ve.start="start",ve["top left"]="top start",ve["top right"]="top end",ve["right top"]="end top",ve["right bottom"]="end bottom",ve["bottom right"]="bottom end",ve["bottom left"]="bottom start",ve["left bottom"]="start bottom",ve["left top"]="start top",ve["top start"]="top start",ve["top end"]="top end",ve["end top"]="end top",ve["end bottom"]="end bottom",ve["bottom end"]="bottom end",ve["bottom start"]="bottom start",ve["start bottom"]="start bottom",ve["start top"]="start top",ve}(H||{});function M(ve,ae){if(1!==ve.nodeType)return[];const se=ve.ownerDocument.defaultView?.getComputedStyle(ve,null);return ae?se&&se[ae]:se}function V(ve){if(!ve)return document.documentElement;let se,$=ve?.offsetParent;for(;null===$&&ve.nextElementSibling&&se!==ve.nextElementSibling;)se=ve.nextElementSibling,$=se.offsetParent;const Ue=$&&$.nodeName;return Ue&&"BODY"!==Ue&&"HTML"!==Ue?$&&-1!==["TH","TD","TABLE"].indexOf($.nodeName)&&"static"===M($,"position")?V($):$:se?se.ownerDocument.documentElement:document.documentElement}function G(ve){return null!==ve.parentNode?G(ve.parentNode):ve}function ie(ve,ae){if(!(ve&&ve.nodeType&&ae&&ae.nodeType))return document.documentElement;const $=ve.compareDocumentPosition(ae)&Node.DOCUMENT_POSITION_FOLLOWING,se=$?ve:ae,Ue=$?ae:ve,Ze=document.createRange();Ze.setStart(se,0),Ze.setEnd(Ue,0);const dt=Ze.commonAncestorContainer;if(ve!==dt&&ae!==dt||se.contains(Ue))return function U(ve){const{nodeName:ae}=ve;return"BODY"!==ae&&("HTML"===ae||V(ve.firstElementChild)===ve)}(dt)?dt:V(dt);const Pt=G(ve);return Pt.host?ie(Pt.host,ae):ie(ve,G(ae).host)}function le(ve){if(!ve||!ve.parentElement)return document.documentElement;let ae=ve.parentElement;for(;ae?.parentElement&&"none"===M(ae,"transform");)ae=ae.parentElement;return ae||document.documentElement}function L(ve,ae){const $="x"===ae?"Left":"Top",se="Left"===$?"Right":"Bottom";return parseFloat(ve[`border${$}Width`])+parseFloat(ve[`border${se}Width`])}function J(ve,ae,$){return Math.max(ae[`offset${ve}`],ae[`scroll${ve}`],$[`client${ve}`],$[`offset${ve}`],$[`scroll${ve}`],0)}function te(ve){const ae=ve.body,$=ve.documentElement;return{height:J("Height",ae,$),width:J("Width",ae,$)}}function I(ve){return{...ve,right:(ve.left||0)+ve.width,bottom:(ve.top||0)+ve.height}}function z(ve){return"number"==typeof ve||"[object Number]"===Object.prototype.toString.call(ve)}function _e(ve){const ae=ve.getBoundingClientRect();if(!(ae&&z(ae.top)&&z(ae.left)&&z(ae.bottom)&&z(ae.right)))return ae;const $={left:ae.left,top:ae.top,width:ae.right-ae.left,height:ae.bottom-ae.top},se="HTML"===ve.nodeName?te(ve.ownerDocument):void 0,Ue=se?.width||ve.clientWidth||z(ae.right)&&z($.left)&&ae.right-$.left||0,Ze=se?.height||ve.clientHeight||z(ae.bottom)&&z($.top)&&ae.bottom-$.top||0;let dt=ve.offsetWidth-Ue,Pt=ve.offsetHeight-Ze;if(dt||Pt){const an=M(ve);dt-=L(an,"x"),Pt-=L(an,"y"),$.width-=dt,$.height-=Pt}return I($)}function Pe(ve,ae,$=!1){const se="HTML"===ae.nodeName,Ue=_e(ve),Ze=_e(ae),dt=M(ae),Pt=parseFloat(dt.borderTopWidth),an=parseFloat(dt.borderLeftWidth);$&&se&&(Ze.top=Math.max(Ze.top??0,0),Ze.left=Math.max(Ze.left??0,0));const un=I({top:(Ue.top??0)-(Ze.top??0)-Pt,left:(Ue.left??0)-(Ze.left??0)-an,width:Ue.width,height:Ue.height});if(un.marginTop=0,un.marginLeft=0,se){const Mn=parseFloat(dt.marginTop),kn=parseFloat(dt.marginLeft);z(un.top)&&(un.top-=Pt-Mn),z(un.bottom)&&(un.bottom-=Pt-Mn),z(un.left)&&(un.left-=an-kn),z(un.right)&&(un.right-=an-kn),un.marginTop=Mn,un.marginLeft=kn}return un}function Re(ve){return"HTML"===ve.nodeName?ve:ve.parentNode||ve.host}function ke(ve){if(!ve)return document.body;switch(ve.nodeName){case"HTML":case"BODY":return ve.ownerDocument.body;case"#document":return ve.body}const{overflow:ae,overflowX:$,overflowY:se}=M(ve);return/(auto|scroll|overlay)/.test(String(ae)+String(se)+String($))?ve:ke(Re(ve))}function Je(ve,ae="top"){const $="top"===ae?"scrollTop":"scrollLeft",se=ve.nodeName;return"BODY"===se||"HTML"===se?(ve.ownerDocument.scrollingElement||ve.ownerDocument.documentElement)[$]:ve[$]}function we(ve){const ae=ve.nodeName;return"BODY"!==ae&&"HTML"!==ae&&("fixed"===M(ve,"position")||we(Re(ve)))}function de(ve,ae,$=0,se,Ue=!1){let Ze={top:0,left:0};const dt=Ue?le(ve):ie(ve,ae);if("viewport"===se)Ze=function Te(ve,ae=!1){const $=ve.ownerDocument.documentElement,se=Pe(ve,$),Ue=Math.max($.clientWidth,window.innerWidth||0),Ze=Math.max($.clientHeight,window.innerHeight||0),dt=ae?0:Je($),Pt=ae?0:Je($,"left");return I({top:dt-Number(se?.top)+Number(se?.marginTop),left:Pt-Number(se?.left)+Number(se?.marginLeft),width:Ue,height:Ze})}(dt,Ue);else{let Pt;"scrollParent"===se?(Pt=ke(Re(ae)),"BODY"===Pt.nodeName&&(Pt=ve.ownerDocument.documentElement)):Pt="window"===se?ve.ownerDocument.documentElement:se;const an=Pe(Pt,dt,Ue);if(an&&"HTML"===Pt.nodeName&&!we(dt)){const{height:un,width:Mn}=te(ve.ownerDocument);z(Ze.top)&&z(an.top)&&z(an.marginTop)&&(Ze.top+=an.top-an.marginTop),z(Ze.top)&&(Ze.bottom=Number(un)+Number(an.top)),z(Ze.left)&&z(an.left)&&z(an.marginLeft)&&(Ze.left+=an.left-an.marginLeft),z(Ze.top)&&(Ze.right=Number(Mn)+Number(an.left))}else an&&(Ze=an)}return z(Ze.left)&&(Ze.left+=$),z(Ze.top)&&(Ze.top+=$),z(Ze.right)&&(Ze.right-=$),z(Ze.bottom)&&(Ze.bottom-=$),Ze}function Ve({width:ve,height:ae}){return ve*ae}function Ae(ve,ae,$,se,Ue=["top","bottom","right","left"],Ze="viewport",dt=0){if(-1===ve.indexOf("auto"))return ve;const Pt=de($,se,dt,Ze),an={top:{width:Pt?.width??0,height:(ae?.top??0)-(Pt?.top??0)},right:{width:(Pt?.right??0)-(ae?.right??0),height:Pt?.height??0},bottom:{width:Pt?.width??0,height:(Pt?.bottom??0)-(ae?.bottom??0)},left:{width:(ae.left??0)-(Pt?.left??0),height:Pt?.height??0}},un=Object.keys(an).map(It=>({position:It,...an[It],area:Ve(an[It])})).sort((It,Rn)=>Rn.area-It.area);let Mn=un.filter(({width:It,height:Rn})=>It>=$.clientWidth&&Rn>=$.clientHeight);Mn=Mn.filter(({position:It})=>Ue.some(Rn=>Rn===It));const kn=Mn.length>0?Mn[0].position:un[0].position,Bn=ve.split(" ")[1];return $.className=$.className.replace(/bs-tooltip-auto/g,`bs-tooltip-${(0,n.Bu)().isBs5?H[kn]:kn}`),kn+(Bn?`-${Bn}`:"")}const Ye=(ve,ae=0)=>ve?parseFloat(ve):ae;function Yt(ve){const $=ve.ownerDocument.defaultView?.getComputedStyle(ve),se=Ye($?.marginTop)+Ye($?.marginBottom),Ue=Ye($?.marginLeft)+Ye($?.marginRight);return{width:Number(ve.offsetWidth)+Ue,height:Number(ve.offsetHeight)+se}}function Ut(ve,ae,$){return Pe(ae,$?le(ve):ie(ve,ae),$)}function Tt(ve,ae,$){const se=$.split(" ")[0],Ue=Yt(ve),Ze={width:Ue.width,height:Ue.height},dt=-1!==["right","left"].indexOf(se),Pt=dt?"top":"left",an=dt?"left":"top",un=dt?"height":"width",Mn=dt?"width":"height";return Ze[Pt]=(ae[Pt]??0)+ae[un]/2-Ue[un]/2,Ze[an]=se===an?(ae[an]??0)-Ue[Mn]:ae[function Be(ve){const ae={left:"right",right:"left",bottom:"top",top:"bottom"};return ve.replace(/left|right|bottom|top/g,$=>ae[$])}(an)]??0,Ze}function _t(ve,ae){return!!ve.modifiers[ae]?.enabled}const X={top:["top","top start","top end"],bottom:["bottom","bottom start","bottom end"],start:["start","start top","start bottom"],end:["end","end top","end bottom"]};function Y(ve,ae){return!!(0,n.Bu)().isBs5&&X[ae].includes(ve)}function Ee(ve,ae,$){!ve||!ae||Object.keys(ae).forEach(se=>{let Ue="";-1!==["width","height","top","right","bottom","left"].indexOf(se)&&function oe(ve){return""!==ve&&!isNaN(parseFloat(ve))&&isFinite(Number(ve))}(ae[se])&&(Ue="px"),$?$.setStyle(ve,se,`${String(ae[se])}${Ue}`):ve.style[se]=String(ae[se])+Ue})}function at(ve){let ae=ve.offsets.target;const $=ve.instance.target.querySelector(".arrow");if(!$)return ve;const se=-1!==["left","right"].indexOf(ve.placement.split(" ")[0]),Ue=se?"height":"width",Ze=se?"Top":"Left",dt=Ze.toLowerCase(),Pt=se?"left":"top",an=se?"bottom":"right",un=Yt($)[Ue],Mn=ve.placement.split(" ")[1];(ve.offsets.host[an]??0)-un<(ae[dt]??0)&&(ae[dt]-=(ae[dt]??0)-((ve.offsets.host[an]??0)-un)),Number(ve.offsets.host[dt])+Number(un)>(ae[an]??0)&&(ae[dt]+=Number(ve.offsets.host[dt])+Number(un)-Number(ae[an])),ae=I(ae);const kn=M(ve.instance.target),Bn=parseFloat(kn[`margin${Ze}`])||0,It=parseFloat(kn[`border${Ze}Width`])||0;let Rn;if(Mn){const lt=parseFloat(kn.borderRadius)||0,vt=Number(Bn+It+lt);Rn=dt===Mn?Number(ve.offsets.host[dt])+vt:Number(ve.offsets.host[dt])+Number(ve.offsets.host[Ue]-vt)}else Rn=Number(ve.offsets.host[dt])+Number(ve.offsets.host[Ue]/2-un/2);let Ht=Rn-(ae[dt]??0)-Bn-It;return Ht=Math.max(Math.min(ae[Ue]-(un+5),Ht),0),ve.offsets.arrow={[dt]:Math.round(Ht),[Pt]:""},ve.instance.arrow=$,ve}function je(ve){if(ve.offsets.target=I(ve.offsets.target),!_t(ve.options,"flip"))return ve.offsets.target={...ve.offsets.target,...Tt(ve.instance.target,ve.offsets.host,ve.placement)},ve;const ae=de(ve.instance.target,ve.instance.host,0,"viewport",!1);let $=ve.placement.split(" ")[0],se=ve.placement.split(" ")[1]||"";const Pt=Ae("auto",ve.offsets.host,ve.instance.target,ve.instance.host,ve.options.allowedPositions),an=[$,Pt];return an.forEach((un,Mn)=>{if($!==un||an.length===Mn+1)return;$=ve.placement.split(" ")[0];const kn="left"===$&&Math.floor(ve.offsets.target.right??0)>Math.floor(ve.offsets.host.left??0)||"right"===$&&Math.floor(ve.offsets.target.left??0)<Math.floor(ve.offsets.host.right??0)||"top"===$&&Math.floor(ve.offsets.target.bottom??0)>Math.floor(ve.offsets.host.top??0)||"bottom"===$&&Math.floor(ve.offsets.target.top??0)<Math.floor(ve.offsets.host.bottom??0),Bn=Math.floor(ve.offsets.target.left??0)<Math.floor(ae.left??0),It=Math.floor(ve.offsets.target.right??0)>Math.floor(ae.right??0),Rn=Math.floor(ve.offsets.target.top??0)<Math.floor(ae.top??0),Ht=Math.floor(ve.offsets.target.bottom??0)>Math.floor(ae.bottom??0),lt="left"===$&&Bn||"right"===$&&It||"top"===$&&Rn||"bottom"===$&&Ht,vt=-1!==["top","bottom"].indexOf($),mt=vt&&"left"===se&&Bn||vt&&"right"===se&&It||!vt&&"left"===se&&Rn||!vt&&"right"===se&&Ht;(kn||lt||mt)&&((kn||lt)&&($=an[Mn+1]),mt&&(se=function ht(ve){return"right"===ve?"left":"left"===ve?"right":ve}(se)),ve.placement=$+(se?` ${se}`:""),ve.offsets.target={...ve.offsets.target,...Tt(ve.instance.target,ve.offsets.host,ve.placement)})}),ve}function Ft(ve){if(!_t(ve.options,"preventOverflow"))return ve;const ae="transform",$=ve.instance.target.style,{top:se,left:Ue,[ae]:Ze}=$;$.top="",$.left="",$[ae]="";const dt=de(ve.instance.target,ve.instance.host,0,ve.options.modifiers.preventOverflow?.boundariesElement||"scrollParent",!1);$.top=se,$.left=Ue,$[ae]=Ze;const an={primary(un){let Mn=ve.offsets.target[un];return(ve.offsets.target[un]??0)<(dt[un]??0)&&(Mn=Math.max(ve.offsets.target[un]??0,dt[un]??0)),{[un]:Mn}},secondary(un){const Mn="right"===un,kn=Mn?"left":"top";let It=ve.offsets.target[kn];return(ve.offsets.target[un]??0)>(dt[un]??0)&&(It=Math.min(ve.offsets.target[kn]??0,(dt[un]??0)-ve.offsets.target[Mn?"width":"height"])),{[kn]:It}}};return["left","right","top","bottom"].forEach(un=>{const Mn=-1!==["left","top","start"].indexOf(un)?an.primary:an.secondary;ve.offsets.target={...ve.offsets.target,...Mn(un)}}),ve}function ft(ve){const ae=ve.placement,$=ae.split(" ")[0],se=ae.split(" ")[1];if(se){const{host:Ue,target:Ze}=ve.offsets,dt=-1!==["bottom","top"].indexOf($),Pt=dt?"left":"top",an=dt?"width":"height",un={start:{[Pt]:Ue[Pt]},end:{[Pt]:(Ue[Pt]??0)+Ue[an]-Ze[an]}};ve.offsets.target={...Ze,[Pt]:Pt===se?un.start[Pt]:un.end[Pt]}}return ve}const Wt=new class nt{position(ae,$){return this.offset(ae,$)}offset(ae,$){return Ut($,ae)}positionElements(ae,$,se,Ue,Ze){const dt=[je,ft,Ft,at],an=function ot(ve,ae,$,se){if(!ve||!ae)return;const Ue=Ut(ve,ae);!$.match(/^(auto)*\s*(left|right|top|bottom|start|end)*$/)&&!$.match(/^(left|right|top|bottom|start|end)*(?: (left|right|top|bottom|start|end))*$/)&&($="auto");const Ze=!!$.match(/auto/g);let dt=$.match(/auto\s(left|right|top|bottom|start|end)/)?$.split(" ")[1]||"auto":$;const Pt=dt.match(/^(left|right|top|bottom|start|end)* ?(?!\1)(left|right|top|bottom|start|end)?/);return Pt&&(dt=Pt[1]+(Pt[2]?` ${Pt[2]}`:"")),-1!==["left right","right left","top bottom","bottom top"].indexOf(dt)&&(dt="auto"),dt=Ae(dt,Ue,ve,ae,se?se.allowedPositions:void 0),{options:se||{modifiers:{}},instance:{target:ve,host:ae,arrow:void 0},offsets:{target:Tt(ve,Ue,dt),host:Ue,arrow:void 0},positionFixed:!1,placement:dt,placementAuto:Ze}}($,ae,O[se],Ze);if(an)return dt.reduce((un,Mn)=>Mn(un),an)}};function tn(ve,ae,$,se,Ue,Ze){const dt=Wt.positionElements(ve,ae,$,se,Ue);if(!dt)return;const Pt=function rt(ve){return{width:ve.offsets.target.width,height:ve.offsets.target.height,left:Math.floor(ve.offsets.target.left??0),top:Math.round(ve.offsets.target.top??0),bottom:Math.round(ve.offsets.target.bottom??0),right:Math.floor(ve.offsets.target.right??0)}}(dt);Ee(ae,{"will-change":"transform",top:"0px",left:"0px",transform:`translate3d(${Pt.left}px, ${Pt.top}px, 0px)`},Ze),dt.instance.arrow&&Ee(dt.instance.arrow,dt.offsets.arrow,Ze),function Se(ve,ae){const $=ve.instance.target;let se=$.className;const Ue=(0,n.Bu)().isBs5?H[ve.placement]:ve.placement;ve.placementAuto&&(se=se.replace(/bs-popover-auto/g,`bs-popover-${Ue}`),se=se.replace(/ms-2|me-2|mb-2|mt-2/g,""),se=se.replace(/bs-tooltip-auto/g,`bs-tooltip-${Ue}`),se=se.replace(/\sauto/g,` ${Ue}`),-1!==se.indexOf("popover")&&(se=se+" "+function ee(ve){return(0,n.Bu)().isBs5?Y(ve,"end")?"ms-2":Y(ve,"start")?"me-2":Y(ve,"top")?"mb-2":Y(ve,"bottom")?"mt-2":"":""}(Ue)),-1!==se.indexOf("popover")&&-1===se.indexOf("popover-auto")&&(se+=" popover-auto"),-1!==se.indexOf("tooltip")&&-1===se.indexOf("tooltip-auto")&&(se+=" tooltip-auto")),se=se.replace(/left|right|top|bottom|end|start/g,`${Ue.split(" ")[0]}`),ae?ae.setAttribute($,"class",se):$.className=se}(dt,Ze)}let it=(()=>{class ve{constructor($,se,Ue){this.update$$=new g.B,this.positionElements=new Map,this.isDisabled=!1,(0,_.UE)(Ue)&&$.runOutsideAngular(()=>{this.triggerEvent$=(0,S.h)((0,v.R)(window,"scroll",{passive:!0}),(0,v.R)(window,"resize",{passive:!0}),(0,f.of)(0,R),this.update$$),this.triggerEvent$.subscribe(()=>{this.isDisabled||this.positionElements.forEach(Ze=>{tn(Ot(Ze.target),Ot(Ze.element),Ze.attachment,Ze.appendToBody,this.options,se.createRenderer(null,null))})})})}position($){this.addPositionElement($)}get event$(){return this.triggerEvent$}disable(){this.isDisabled=!0}enable(){this.isDisabled=!1}addPositionElement($){this.positionElements.set(Ot($.element),$)}calcPosition(){this.update$$.next(null)}deletePositionElement($){this.positionElements.delete(Ot($))}setOptions($){this.options=$}static{this.\u0275fac=function(se){return new(se||ve)(e.KVO(e.SKi),e.KVO(e._9s),e.KVO(e.Agw))}}static{this.\u0275prov=e.jDH({token:ve,factory:ve.\u0275fac,providedIn:"root"})}}return ve})();function Ot(ve){return"string"==typeof ve?document.querySelector(ve):ve instanceof e.aKT?ve.nativeElement:ve??null}},3816:(qe,me,u)=>{"use strict";u.d(me,{jr:()=>w});var n=u(4438),e=u(177);let w=(()=>{class C{static forRoot(){return{ngModule:C,providers:[]}}static{this.\u0275fac=function(O){return new(O||C)}}static{this.\u0275mod=n.$C({type:C})}static{this.\u0275inj=n.G2t({imports:[e.MD]})}}return C})()},534:(qe,me,u)=>{"use strict";u.d(me,{Ss:()=>C,dg:()=>w});var n=u(4438),e=u(2806),_=u(2865),g=u(1635),S=u(6932),v=u(1584),f=u(177);const d=["*"];let E=(()=>{class R{constructor(){this.adaptivePosition=!0,this.placement="top",this.triggers="hover focus",this.delay=0}static{this.\u0275fac=function(H){return new(H||R)}}static{this.\u0275prov=n.jDH({token:R,factory:R.\u0275fac,providedIn:"root"})}}return R})(),m=(()=>{class R{get _bsVersions(){return(0,e.Bu)()}constructor(O){Object.assign(this,O)}ngAfterViewInit(){this.classMap={in:!1,fade:!1},this.placement&&(this._bsVersions.isBs5&&(this.placement=_.Rz[this.placement]),this.classMap[this.placement]=!0),this.classMap[`tooltip-${this.placement}`]=!0,this.classMap.in=!0,this.animation&&(this.classMap.fade=!0),this.containerClass&&(this.classMap[this.containerClass]=!0)}static{this.\u0275fac=function(H){return new(H||R)(n.rXU(E))}}static{this.\u0275cmp=n.VBU({type:R,selectors:[["bs-tooltip-container"]],hostAttrs:["role","tooltip"],hostVars:3,hostBindings:function(H,M){2&H&&(n.BMQ("id",M.id),n.HbH("show tooltip in tooltip-"+M.placement+" bs-tooltip-"+M.placement+" "+M.placement+" "+M.containerClass))},ngContentSelectors:d,decls:3,vars:0,consts:[[1,"tooltip-arrow","arrow"],[1,"tooltip-inner"]],template:function(H,M){1&H&&(n.NAR(),n.nrm(0,"div",0),n.j41(1,"div",1),n.SdG(2),n.k0s())},styles:[".tooltip[_nghost-%COMP%]{display:block;pointer-events:none;position:absolute}.tooltip[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{position:absolute}"],changeDetection:0})}}return R})(),F=0,w=(()=>{class R{get isOpen(){return this._tooltip.isShown}set isOpen(O){O?this.show():this.hide()}set htmlContent(O){(0,e.mc)("tooltipHtml was deprecated, please use `tooltip` instead"),this.tooltip=O}set _placement(O){(0,e.mc)("tooltipPlacement was deprecated, please use `placement` instead"),this.placement=O}set _isOpen(O){(0,e.mc)("tooltipIsOpen was deprecated, please use `isOpen` instead"),this.isOpen=O}get _isOpen(){return(0,e.mc)("tooltipIsOpen was deprecated, please use `isOpen` instead"),this.isOpen}set _enable(O){(0,e.mc)("tooltipEnable was deprecated, please use `isDisabled` instead"),this.isDisabled=!O}get _enable(){return(0,e.mc)("tooltipEnable was deprecated, please use `isDisabled` instead"),this.isDisabled}set _appendToBody(O){(0,e.mc)('tooltipAppendToBody was deprecated, please use `container="body"` instead'),this.container=O?"body":this.container}get _appendToBody(){return(0,e.mc)('tooltipAppendToBody was deprecated, please use `container="body"` instead'),"body"===this.container}set _popupClass(O){(0,e.mc)("tooltipClass deprecated")}set _tooltipContext(O){(0,e.mc)("tooltipContext deprecated")}set _tooltipPopupDelay(O){(0,e.mc)("tooltipPopupDelay is deprecated, use `delay` instead"),this.delay=O}get _tooltipTrigger(){return(0,e.mc)("tooltipTrigger was deprecated, please use `triggers` instead"),this.triggers}set _tooltipTrigger(O){(0,e.mc)("tooltipTrigger was deprecated, please use `triggers` instead"),this.triggers=(O||"").toString()}constructor(O,H,M,V,U,G){this._elementRef=V,this._renderer=U,this._positionService=G,this.tooltipId=F++,this.adaptivePosition=!0,this.tooltipChange=new n.bkB,this.placement="top",this.triggers="hover focus",this.containerClass="",this.isDisabled=!1,this.delay=0,this.tooltipAnimation=!0,this.tooltipFadeDuration=150,this.tooltipStateChanged=new n.bkB,this._tooltip=H.createLoader(this._elementRef,O,this._renderer).provide({provide:E,useValue:M}),Object.assign(this,M),this.onShown=this._tooltip.onShown,this.onHidden=this._tooltip.onHidden}ngOnInit(){this._tooltip.listen({triggers:this.triggers,show:()=>this.show()}),this.tooltipChange.subscribe(O=>{O||this._tooltip.hide()}),this.onShown.subscribe(()=>{this.setAriaDescribedBy()}),this.onHidden.subscribe(()=>{this.setAriaDescribedBy()})}setAriaDescribedBy(){this._ariaDescribedby=this.isOpen?`tooltip-${this.tooltipId}`:void 0,this._ariaDescribedby?this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ariaDescribedby):this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby")}toggle(){if(this.isOpen)return this.hide();this.show()}show(){if(this._positionService.setOptions({modifiers:{flip:{enabled:this.adaptivePosition},preventOverflow:{enabled:this.adaptivePosition,boundariesElement:this.boundariesElement||"scrollParent"}}}),this.isOpen||this.isDisabled||this._delayTimeoutId||!this.tooltip)return;const O=()=>{this._delayTimeoutId&&(this._delayTimeoutId=void 0),this._tooltip.attach(m).to(this.container).position({attachment:this.placement}).show({content:this.tooltip,placement:this.placement,containerClass:this.containerClass,id:`tooltip-${this.tooltipId}`})},H=()=>{this._tooltipCancelShowFn&&this._tooltipCancelShowFn()};this.delay?(this._delaySubscription&&this._delaySubscription.unsubscribe(),this._delaySubscription=(0,v.O)(this.delay).subscribe(()=>{O(),H()}),this.triggers&&(0,e.Zu)(this.triggers).forEach(M=>{M.close&&(this._tooltipCancelShowFn=this._renderer.listen(this._elementRef.nativeElement,M.close,()=>{this._delaySubscription?.unsubscribe(),H()}))})):O()}hide(){this._delayTimeoutId&&(clearTimeout(this._delayTimeoutId),this._delayTimeoutId=void 0),this._tooltip.isShown&&(this._tooltip.instance?.classMap&&(this._tooltip.instance.classMap.in=!1),setTimeout(()=>{this._tooltip.hide()},this.tooltipFadeDuration))}ngOnDestroy(){this._tooltip.dispose(),this.tooltipChange.unsubscribe(),this._delaySubscription&&this._delaySubscription.unsubscribe(),this.onShown.unsubscribe(),this.onHidden.unsubscribe()}static{this.\u0275fac=function(H){return new(H||R)(n.rXU(n.c1b),n.rXU(S.Li),n.rXU(E),n.rXU(n.aKT),n.rXU(n.sFG),n.rXU(_.DF))}}static{this.\u0275dir=n.FsC({type:R,selectors:[["","tooltip",""],["","tooltipHtml",""]],inputs:{adaptivePosition:"adaptivePosition",tooltip:"tooltip",placement:"placement",triggers:"triggers",container:"container",containerClass:"containerClass",boundariesElement:"boundariesElement",isOpen:"isOpen",isDisabled:"isDisabled",delay:"delay",htmlContent:[n.Mj6.None,"tooltipHtml","htmlContent"],_placement:[n.Mj6.None,"tooltipPlacement","_placement"],_isOpen:[n.Mj6.None,"tooltipIsOpen","_isOpen"],_enable:[n.Mj6.None,"tooltipEnable","_enable"],_appendToBody:[n.Mj6.None,"tooltipAppendToBody","_appendToBody"],tooltipAnimation:"tooltipAnimation",_popupClass:[n.Mj6.None,"tooltipClass","_popupClass"],_tooltipContext:[n.Mj6.None,"tooltipContext","_tooltipContext"],_tooltipPopupDelay:[n.Mj6.None,"tooltipPopupDelay","_tooltipPopupDelay"],tooltipFadeDuration:"tooltipFadeDuration",_tooltipTrigger:[n.Mj6.None,"tooltipTrigger","_tooltipTrigger"]},outputs:{tooltipChange:"tooltipChange",onShown:"onShown",onHidden:"onHidden",tooltipStateChanged:"tooltipStateChanged"},exportAs:["bs-tooltip"]})}}return(0,g.Cg)([(0,e.Yr)(),(0,g.Sn)("design:type",Object)],R.prototype,"tooltip",void 0),R})(),C=(()=>{class R{static forRoot(){return{ngModule:R,providers:[S.Li,_.DF]}}static{this.\u0275fac=function(H){return new(H||R)}}static{this.\u0275mod=n.$C({type:R})}static{this.\u0275inj=n.G2t({imports:[f.MD]})}}return R})()},8400:(qe,me,u)=>{"use strict";u.d(me,{Xi:()=>Tt,qP:()=>_t});var n=u(4438),e=u(2806),_=u(2865),g=u(8359),S=u(4402),v=u(983),f=u(6648),d=u(9969),E=u(177),m=u(9417),F=u(6932),w=u(152),C=u(8141),R=u(5558),x=u(1397),O=u(5964),H=u(6649),M=u(9974);const U=(X,Y)=>(X.push(Y),X);const ie=["ulElement"],le=["liElements"],L=(X,Y,ee,Se)=>({matches:X,itemTemplate:Y,query:ee,$implicit:Se}),J=(X,Y,ee,Se)=>({item:X,index:Y,match:ee,query:Se});function te(X,Y){}function I(X,Y){if(1&X&&n.nrm(0,"span",4),2&X){const ee=Y.match,Se=Y.query,Ee=n.XpG();n.Y8G("innerHtml",Ee.highlight(ee,Se),n.npT)}}function oe(X,Y){if(1&X&&(n.j41(0,"h6",8),n.EFF(1),n.k0s()),2&X){const ee=n.XpG().$implicit;n.R7$(),n.JRh(ee)}}function z(X,Y){}function _e(X,Y){if(1&X){const ee=n.RV6();n.j41(0,"button",9,2),n.bIt("click",function(Ee){n.eBV(ee);const at=n.XpG().$implicit,je=n.XpG(2);return n.Njj(je.selectMatch(at,Ee))})("mouseenter",function(){n.eBV(ee);const Ee=n.XpG().$implicit,at=n.XpG(2);return n.Njj(at.selectActive(Ee))}),n.DNE(2,z,0,0,"ng-template",3),n.k0s()}if(2&X){const ee=n.XpG(),Se=ee.$implicit,Ee=ee.index,at=n.XpG(2),je=n.sdS(2);n.AVh("active",at.isActive(Se)),n.Y8G("id",at.popupId+"-"+Ee)("@typeaheadAnimation",at.animationState),n.R7$(2),n.Y8G("ngTemplateOutlet",at.itemTemplate||je)("ngTemplateOutletContext",n.ziG(6,J,Se.item,Ee,Se,at.query))}}function Pe(X,Y){if(1&X&&n.DNE(0,oe,2,1,"h6",6)(1,_e,3,11,"ng-template",7),2&X){const ee=Y.$implicit;n.Y8G("ngIf",ee.isHeader()),n.R7$(),n.Y8G("ngIf",!ee.isHeader())}}function Re(X,Y){if(1&X&&n.DNE(0,Pe,2,2,"ng-template",5),2&X){const ee=n.XpG();n.Y8G("ngForOf",ee.matches)}}const ke={\u00c1:"A",\u0102:"A",\u1eae:"A",\u1eb6:"A",\u1eb0:"A",\u1eb2:"A",\u1eb4:"A",\u01cd:"A",\u00c2:"A",\u1ea4:"A",\u1eac:"A",\u1ea6:"A",\u1ea8:"A",\u1eaa:"A",\u00c4:"A",\u01de:"A",\u0226:"A",\u01e0:"A",\u1ea0:"A",\u0200:"A",\u00c0:"A",\u1ea2:"A",\u0202:"A",\u0100:"A",\u0104:"A",\u00c5:"A",\u01fa:"A",\u1e00:"A",\u023a:"A",\u00c3:"A",\ua732:"AA",\u00c6:"AE",\u01fc:"AE",\u01e2:"AE",\ua734:"AO",\ua736:"AU",\ua738:"AV",\ua73a:"AV",\ua73c:"AY",\u1e02:"B",\u1e04:"B",\u0181:"B",\u1e06:"B",\u0243:"B",\u0182:"B",\u0106:"C",\u010c:"C",\u00c7:"C",\u1e08:"C",\u0108:"C",\u010a:"C",\u0187:"C",\u023b:"C",\u010e:"D",\u1e10:"D",\u1e12:"D",\u1e0a:"D",\u1e0c:"D",\u018a:"D",\u1e0e:"D",\u01f2:"D",\u01c5:"D",\u0110:"D",\u018b:"D",\u01f1:"DZ",\u01c4:"DZ",\u00c9:"E",\u0114:"E",\u011a:"E",\u0228:"E",\u1e1c:"E",\u00ca:"E",\u1ebe:"E",\u1ec6:"E",\u1ec0:"E",\u1ec2:"E",\u1ec4:"E",\u1e18:"E",\u00cb:"E",\u0116:"E",\u1eb8:"E",\u0204:"E",\u00c8:"E",\u1eba:"E",\u0206:"E",\u0112:"E",\u1e16:"E",\u1e14:"E",\u0118:"E",\u0246:"E",\u1ebc:"E",\u1e1a:"E",\ua76a:"ET",\u1e1e:"F",\u0191:"F",\u01f4:"G",\u011e:"G",\u01e6:"G",\u0122:"G",\u011c:"G",\u0120:"G",\u0193:"G",\u1e20:"G",\u01e4:"G",\u1e2a:"H",\u021e:"H",\u1e28:"H",\u0124:"H",\u2c67:"H",\u1e26:"H",\u1e22:"H",\u1e24:"H",\u0126:"H",\u00cd:"I",\u012c:"I",\u01cf:"I",\u00ce:"I",\u00cf:"I",\u1e2e:"I",\u0130:"I",\u1eca:"I",\u0208:"I",\u00cc:"I",\u1ec8:"I",\u020a:"I",\u012a:"I",\u012e:"I",\u0197:"I",\u0128:"I",\u1e2c:"I",\ua779:"D",\ua77b:"F",\ua77d:"G",\ua782:"R",\ua784:"S",\ua786:"T",\ua76c:"IS",\u0134:"J",\u0248:"J",\u1e30:"K",\u01e8:"K",\u0136:"K",\u2c69:"K",\ua742:"K",\u1e32:"K",\u0198:"K",\u1e34:"K",\ua740:"K",\ua744:"K",\u0139:"L",\u023d:"L",\u013d:"L",\u013b:"L",\u1e3c:"L",\u1e36:"L",\u1e38:"L",\u2c60:"L",\ua748:"L",\u1e3a:"L",\u013f:"L",\u2c62:"L",\u01c8:"L",\u0141:"L",\u01c7:"LJ",\u1e3e:"M",\u1e40:"M",\u1e42:"M",\u2c6e:"M",\u0143:"N",\u0147:"N",\u0145:"N",\u1e4a:"N",\u1e44:"N",\u1e46:"N",\u01f8:"N",\u019d:"N",\u1e48:"N",\u0220:"N",\u01cb:"N",\u00d1:"N",\u01ca:"NJ",\u00d3:"O",\u014e:"O",\u01d1:"O",\u00d4:"O",\u1ed0:"O",\u1ed8:"O",\u1ed2:"O",\u1ed4:"O",\u1ed6:"O",\u00d6:"O",\u022a:"O",\u022e:"O",\u0230:"O",\u1ecc:"O",\u0150:"O",\u020c:"O",\u00d2:"O",\u1ece:"O",\u01a0:"O",\u1eda:"O",\u1ee2:"O",\u1edc:"O",\u1ede:"O",\u1ee0:"O",\u020e:"O",\ua74a:"O",\ua74c:"O",\u014c:"O",\u1e52:"O",\u1e50:"O",\u019f:"O",\u01ea:"O",\u01ec:"O",\u00d8:"O",\u01fe:"O",\u00d5:"O",\u1e4c:"O",\u1e4e:"O",\u022c:"O",\u01a2:"OI",\ua74e:"OO",\u0190:"E",\u0186:"O",\u0222:"OU",\u1e54:"P",\u1e56:"P",\ua752:"P",\u01a4:"P",\ua754:"P",\u2c63:"P",\ua750:"P",\ua758:"Q",\ua756:"Q",\u0154:"R",\u0158:"R",\u0156:"R",\u1e58:"R",\u1e5a:"R",\u1e5c:"R",\u0210:"R",\u0212:"R",\u1e5e:"R",\u024c:"R",\u2c64:"R",\ua73e:"C",\u018e:"E",\u015a:"S",\u1e64:"S",\u0160:"S",\u1e66:"S",\u015e:"S",\u015c:"S",\u0218:"S",\u1e60:"S",\u1e62:"S",\u1e68:"S",\u0164:"T",\u0162:"T",\u1e70:"T",\u021a:"T",\u023e:"T",\u1e6a:"T",\u1e6c:"T",\u01ac:"T",\u1e6e:"T",\u01ae:"T",\u0166:"T",\u2c6f:"A",\ua780:"L",\u019c:"M",\u0245:"V",\ua728:"TZ",\u00da:"U",\u016c:"U",\u01d3:"U",\u00db:"U",\u1e76:"U",\u00dc:"U",\u01d7:"U",\u01d9:"U",\u01db:"U",\u01d5:"U",\u1e72:"U",\u1ee4:"U",\u0170:"U",\u0214:"U",\u00d9:"U",\u1ee6:"U",\u01af:"U",\u1ee8:"U",\u1ef0:"U",\u1eea:"U",\u1eec:"U",\u1eee:"U",\u0216:"U",\u016a:"U",\u1e7a:"U",\u0172:"U",\u016e:"U",\u0168:"U",\u1e78:"U",\u1e74:"U",\ua75e:"V",\u1e7e:"V",\u01b2:"V",\u1e7c:"V",\ua760:"VY",\u1e82:"W",\u0174:"W",\u1e84:"W",\u1e86:"W",\u1e88:"W",\u1e80:"W",\u2c72:"W",\u1e8c:"X",\u1e8a:"X",\u00dd:"Y",\u0176:"Y",\u0178:"Y",\u1e8e:"Y",\u1ef4:"Y",\u1ef2:"Y",\u01b3:"Y",\u1ef6:"Y",\u1efe:"Y",\u0232:"Y",\u024e:"Y",\u1ef8:"Y",\u0179:"Z",\u017d:"Z",\u1e90:"Z",\u2c6b:"Z",\u017b:"Z",\u1e92:"Z",\u0224:"Z",\u1e94:"Z",\u01b5:"Z",\u0132:"IJ",\u0152:"OE",\u1d00:"A",\u1d01:"AE",\u0299:"B",\u1d03:"B",\u1d04:"C",\u1d05:"D",\u1d07:"E",\ua730:"F",\u0262:"G",\u029b:"G",\u029c:"H",\u026a:"I",\u0281:"R",\u1d0a:"J",\u1d0b:"K",\u029f:"L",\u1d0c:"L",\u1d0d:"M",\u0274:"N",\u1d0f:"O",\u0276:"OE",\u1d10:"O",\u1d15:"OU",\u1d18:"P",\u0280:"R",\u1d0e:"N",\u1d19:"R",\ua731:"S",\u1d1b:"T",\u2c7b:"E",\u1d1a:"R",\u1d1c:"U",\u1d20:"V",\u1d21:"W",\u028f:"Y",\u1d22:"Z",\u00e1:"a",\u0103:"a",\u1eaf:"a",\u1eb7:"a",\u1eb1:"a",\u1eb3:"a",\u1eb5:"a",\u01ce:"a",\u00e2:"a",\u1ea5:"a",\u1ead:"a",\u1ea7:"a",\u1ea9:"a",\u1eab:"a",\u00e4:"a",\u01df:"a",\u0227:"a",\u01e1:"a",\u1ea1:"a",\u0201:"a",\u00e0:"a",\u1ea3:"a",\u0203:"a",\u0101:"a",\u0105:"a",\u1d8f:"a",\u1e9a:"a",\u00e5:"a",\u01fb:"a",\u1e01:"a",\u2c65:"a",\u00e3:"a",\ua733:"aa",\u00e6:"ae",\u01fd:"ae",\u01e3:"ae",\ua735:"ao",\ua737:"au",\ua739:"av",\ua73b:"av",\ua73d:"ay",\u1e03:"b",\u1e05:"b",\u0253:"b",\u1e07:"b",\u1d6c:"b",\u1d80:"b",\u0180:"b",\u0183:"b",\u0275:"o",\u0107:"c",\u010d:"c",\u00e7:"c",\u1e09:"c",\u0109:"c",\u0255:"c",\u010b:"c",\u0188:"c",\u023c:"c",\u010f:"d",\u1e11:"d",\u1e13:"d",\u0221:"d",\u1e0b:"d",\u1e0d:"d",\u0257:"d",\u1d91:"d",\u1e0f:"d",\u1d6d:"d",\u1d81:"d",\u0111:"d",\u0256:"d",\u018c:"d",\u0131:"i",\u0237:"j",\u025f:"j",\u0284:"j",\u01f3:"dz",\u01c6:"dz",\u00e9:"e",\u0115:"e",\u011b:"e",\u0229:"e",\u1e1d:"e",\u00ea:"e",\u1ebf:"e",\u1ec7:"e",\u1ec1:"e",\u1ec3:"e",\u1ec5:"e",\u1e19:"e",\u00eb:"e",\u0117:"e",\u1eb9:"e",\u0205:"e",\u00e8:"e",\u1ebb:"e",\u0207:"e",\u0113:"e",\u1e17:"e",\u1e15:"e",\u2c78:"e",\u0119:"e",\u1d92:"e",\u0247:"e",\u1ebd:"e",\u1e1b:"e",\ua76b:"et",\u1e1f:"f",\u0192:"f",\u1d6e:"f",\u1d82:"f",\u01f5:"g",\u011f:"g",\u01e7:"g",\u0123:"g",\u011d:"g",\u0121:"g",\u0260:"g",\u1e21:"g",\u1d83:"g",\u01e5:"g",\u1e2b:"h",\u021f:"h",\u1e29:"h",\u0125:"h",\u2c68:"h",\u1e27:"h",\u1e23:"h",\u1e25:"h",\u0266:"h",\u1e96:"h",\u0127:"h",\u0195:"hv",\u00ed:"i",\u012d:"i",\u01d0:"i",\u00ee:"i",\u00ef:"i",\u1e2f:"i",\u1ecb:"i",\u0209:"i",\u00ec:"i",\u1ec9:"i",\u020b:"i",\u012b:"i",\u012f:"i",\u1d96:"i",\u0268:"i",\u0129:"i",\u1e2d:"i",\ua77a:"d",\ua77c:"f",\u1d79:"g",\ua783:"r",\ua785:"s",\ua787:"t",\ua76d:"is",\u01f0:"j",\u0135:"j",\u029d:"j",\u0249:"j",\u1e31:"k",\u01e9:"k",\u0137:"k",\u2c6a:"k",\ua743:"k",\u1e33:"k",\u0199:"k",\u1e35:"k",\u1d84:"k",\ua741:"k",\ua745:"k",\u013a:"l",\u019a:"l",\u026c:"l",\u013e:"l",\u013c:"l",\u1e3d:"l",\u0234:"l",\u1e37:"l",\u1e39:"l",\u2c61:"l",\ua749:"l",\u1e3b:"l",\u0140:"l",\u026b:"l",\u1d85:"l",\u026d:"l",\u0142:"l",\u01c9:"lj",\u017f:"s",\u1e9c:"s",\u1e9b:"s",\u1e9d:"s",\u1e3f:"m",\u1e41:"m",\u1e43:"m",\u0271:"m",\u1d6f:"m",\u1d86:"m",\u0144:"n",\u0148:"n",\u0146:"n",\u1e4b:"n",\u0235:"n",\u1e45:"n",\u1e47:"n",\u01f9:"n",\u0272:"n",\u1e49:"n",\u019e:"n",\u1d70:"n",\u1d87:"n",\u0273:"n",\u00f1:"n",\u01cc:"nj",\u00f3:"o",\u014f:"o",\u01d2:"o",\u00f4:"o",\u1ed1:"o",\u1ed9:"o",\u1ed3:"o",\u1ed5:"o",\u1ed7:"o",\u00f6:"o",\u022b:"o",\u022f:"o",\u0231:"o",\u1ecd:"o",\u0151:"o",\u020d:"o",\u00f2:"o",\u1ecf:"o",\u01a1:"o",\u1edb:"o",\u1ee3:"o",\u1edd:"o",\u1edf:"o",\u1ee1:"o",\u020f:"o",\ua74b:"o",\ua74d:"o",\u2c7a:"o",\u014d:"o",\u1e53:"o",\u1e51:"o",\u01eb:"o",\u01ed:"o",\u00f8:"o",\u01ff:"o",\u00f5:"o",\u1e4d:"o",\u1e4f:"o",\u022d:"o",\u01a3:"oi",\ua74f:"oo",\u025b:"e",\u1d93:"e",\u0254:"o",\u1d97:"o",\u0223:"ou",\u1e55:"p",\u1e57:"p",\ua753:"p",\u01a5:"p",\u1d71:"p",\u1d88:"p",\ua755:"p",\u1d7d:"p",\ua751:"p",\ua759:"q",\u02a0:"q",\u024b:"q",\ua757:"q",\u0155:"r",\u0159:"r",\u0157:"r",\u1e59:"r",\u1e5b:"r",\u1e5d:"r",\u0211:"r",\u027e:"r",\u1d73:"r",\u0213:"r",\u1e5f:"r",\u027c:"r",\u1d72:"r",\u1d89:"r",\u024d:"r",\u027d:"r",\u2184:"c",\ua73f:"c",\u0258:"e",\u027f:"r",\u015b:"s",\u1e65:"s",\u0161:"s",\u1e67:"s",\u015f:"s",\u015d:"s",\u0219:"s",\u1e61:"s",\u1e63:"s",\u1e69:"s",\u0282:"s",\u1d74:"s",\u1d8a:"s",\u023f:"s",\u0261:"g",\u1d11:"o",\u1d13:"o",\u1d1d:"u",\u0165:"t",\u0163:"t",\u1e71:"t",\u021b:"t",\u0236:"t",\u1e97:"t",\u2c66:"t",\u1e6b:"t",\u1e6d:"t",\u01ad:"t",\u1e6f:"t",\u1d75:"t",\u01ab:"t",\u0288:"t",\u0167:"t",\u1d7a:"th",\u0250:"a",\u1d02:"ae",\u01dd:"e",\u1d77:"g",\u0265:"h",\u02ae:"h",\u02af:"h",\u1d09:"i",\u029e:"k",\ua781:"l",\u026f:"m",\u0270:"m",\u1d14:"oe",\u0279:"r",\u027b:"r",\u027a:"r",\u2c79:"r",\u0287:"t",\u028c:"v",\u028d:"w",\u028e:"y",\ua729:"tz",\u00fa:"u",\u016d:"u",\u01d4:"u",\u00fb:"u",\u1e77:"u",\u00fc:"u",\u01d8:"u",\u01da:"u",\u01dc:"u",\u01d6:"u",\u1e73:"u",\u1ee5:"u",\u0171:"u",\u0215:"u",\u00f9:"u",\u1ee7:"u",\u01b0:"u",\u1ee9:"u",\u1ef1:"u",\u1eeb:"u",\u1eed:"u",\u1eef:"u",\u0217:"u",\u016b:"u",\u1e7b:"u",\u0173:"u",\u1d99:"u",\u016f:"u",\u0169:"u",\u1e79:"u",\u1e75:"u",\u1d6b:"ue",\ua778:"um",\u2c74:"v",\ua75f:"v",\u1e7f:"v",\u028b:"v",\u1d8c:"v",\u2c71:"v",\u1e7d:"v",\ua761:"vy",\u1e83:"w",\u0175:"w",\u1e85:"w",\u1e87:"w",\u1e89:"w",\u1e81:"w",\u2c73:"w",\u1e98:"w",\u1e8d:"x",\u1e8b:"x",\u1d8d:"x",\u00fd:"y",\u0177:"y",\u00ff:"y",\u1e8f:"y",\u1ef5:"y",\u1ef3:"y",\u01b4:"y",\u1ef7:"y",\u1eff:"y",\u0233:"y",\u1e99:"y",\u024f:"y",\u1ef9:"y",\u017a:"z",\u017e:"z",\u1e91:"z",\u0291:"z",\u2c6c:"z",\u017c:"z",\u1e93:"z",\u0225:"z",\u1e95:"z",\u1d76:"z",\u1d8e:"z",\u0290:"z",\u01b6:"z",\u0240:"z",\ufb00:"ff",\ufb03:"ffi",\ufb04:"ffl",\ufb01:"fi",\ufb02:"fl",\u0133:"ij",\u0153:"oe",\ufb06:"st",\u2090:"a",\u2091:"e",\u1d62:"i",\u2c7c:"j",\u2092:"o",\u1d63:"r",\u1d64:"u",\u1d65:"v",\u2093:"x"};class Te{constructor(Y,ee=Y,Se=!1){this.item=Y,this.value=ee,this.header=Se}isHeader(){return this.header}toString(){return this.value}}function we(X){return X?X.replace(/[^A-Za-z0-9[\] ]/g,function(Y){return ke[Y]||Y}):""}function Ve(X,Y=" ",ee="",Se){let Ee=[];if(Se){const je=X.split(new RegExp(`([${Se}]+)`,"g")),ot=je[je.length-1];ot>""&&(Y&&ee?Ee=Ae(ot,Y,ee):Ee.push(ot))}else Ee=Ae(X,Y,ee);return Ee}function Ae(X,Y,ee){const Se=[],at=X.split(new RegExp(`(?:[${ee}])([^${ee}]+)(?:[${ee}])|([^${Y}]+)`,"g")),je=at.length;let ot;const Ft=new RegExp(`[${ee}]+`,"g");for(let ft=0;ft<je;ft+=1)ot=at[ft],ot&&ot.length&&ot!==Y&&Se.push(ot.replace(Ft,""));return Se}function rt(X,Y){if(!Y||"object"!=typeof X)return X.toString();if(Y.endsWith("()"))return X[Y.slice(0,Y.length-2)]().toString();const Se=Y.replace(/\[(\w+)\]/g,".$1").replace(/^\./,"").split(".");for(const Ee of Se)Ee in X&&(X=X[Ee]);return X?X.toString():""}const Be="220ms cubic-bezier(0, 0, 0.2, 1)",ht=(0,d.hZ)("typeaheadAnimation",[(0,d.wk)("animated-down",(0,d.iF)({height:"*",overflow:"hidden"})),(0,d.kY)("* => animated-down",[(0,d.iF)({height:0,overflow:"hidden"}),(0,d.i0)(Be)]),(0,d.wk)("animated-up",(0,d.iF)({height:"*",overflow:"hidden"})),(0,d.kY)("* => animated-up",[(0,d.iF)({height:"*",overflow:"hidden"}),(0,d.i0)(Be)]),(0,d.kY)("* => unanimated",(0,d.i0)("0s"))]);let Ye=0,Yt=(()=>{class X{get typeaheadTemplateMethods(){return{selectMatch:this.selectMatch.bind(this),selectActive:this.selectActive.bind(this),isActive:this.isActive.bind(this)}}constructor(ee,Se,Ee,at){this.positionService=ee,this.renderer=Se,this.element=Ee,this.changeDetectorRef=at,this.activeChangeEvent=new n.bkB,this.isFocused=!1,this.positionServiceSubscription=new g.yU,this.height=0,this.popupId="ngb-typeahead-"+Ye++,this._matches=[],this.renderer.setAttribute(this.element.nativeElement,"id",this.popupId),this.positionServiceSubscription.add(this.positionService.event$?.subscribe(()=>{if(this.isAnimated)return this.animationState=this.isTopPosition?"animated-up":"animated-down",void this.changeDetectorRef.detectChanges();this.animationState="unanimated",this.changeDetectorRef.detectChanges()}))}get active(){return this._active}set active(ee){this._active=ee,this.activeChanged()}get matches(){return this._matches}set matches(ee){if(this.positionService.setOptions({modifiers:{flip:{enabled:this.adaptivePosition}},allowedPositions:["top","bottom"]}),this._matches=ee,this.needScrollbar=this.typeaheadScrollable&&this.typeaheadOptionsInScrollableView<this.matches.length,this.typeaheadScrollable&&setTimeout(()=>{this.setScrollableMode()}),this.typeaheadIsFirstItemActive&&this._matches.length>0&&(this.setActive(this._matches[0]),this._active?.isHeader()&&this.nextActiveMatch()),this._active&&!this.typeaheadIsFirstItemActive){const Se=this._matches.find(Ee=>Ee.value===this._active?.value);if(Se)return void this.selectActive(Se);this.active=void 0}}get isTopPosition(){return this.element.nativeElement.classList.contains("top")}get optionsListTemplate(){return this.parent?this.parent.optionsListTemplate:void 0}get isAnimated(){return!!this.parent&&this.parent.isAnimated}get adaptivePosition(){return!!this.parent&&this.parent.adaptivePosition}get typeaheadScrollable(){return!!this.parent&&this.parent.typeaheadScrollable}get typeaheadOptionsInScrollableView(){return this.parent?this.parent.typeaheadOptionsInScrollableView:5}get typeaheadIsFirstItemActive(){return!this.parent||this.parent.typeaheadIsFirstItemActive}get itemTemplate(){return this.parent?this.parent.typeaheadItemTemplate:void 0}get canSelectItemsOnBlur(){return!!this.parent?.selectItemOnBlur}selectActiveMatch(ee){this._active&&this.parent?.typeaheadSelectFirstItem&&this.selectMatch(this._active),!this.parent?.typeaheadSelectFirstItem&&ee&&this.selectMatch(this._active)}activeChanged(){if(!this._active)return;const ee=this.matches.indexOf(this._active);this.activeChangeEvent.emit(`${this.popupId}-${ee}`)}prevActiveMatch(){if(!this._active)return;const ee=this.matches.indexOf(this._active);this.setActive(this.matches[ee-1<0?this.matches.length-1:ee-1]),this._active.isHeader()&&this.prevActiveMatch(),this.typeaheadScrollable&&this.scrollPrevious(ee)}nextActiveMatch(){const ee=this._active?this.matches.indexOf(this._active):-1;this.setActive(this.matches[ee+1>this.matches.length-1?0:ee+1]),this._active?.isHeader()&&this.nextActiveMatch(),this.typeaheadScrollable&&this.scrollNext(ee)}selectActive(ee){this.isFocused=!0,this.setActive(ee)}highlight(ee,Se){let je,ot,Ee=ee.value,at=(this.parent&&this.parent.typeaheadLatinize?we(Ee):Ee).toLowerCase();if("object"==typeof Se){const Ft=Se.length;for(let ft=0;ft<Ft;ft+=1)je=at.indexOf(Se[ft]),ot=Se[ft].length,je>=0&&ot>0&&(Ee=`${Ee.substring(0,je)}<strong>${Ee.substring(je,je+ot)}</strong>${Ee.substring(je+ot)}`,at=`${at.substring(0,je)}        ${" ".repeat(ot)}         ${at.substring(je+ot)}`)}else Se&&(je=at.indexOf(Se),ot=Se.length,je>=0&&ot>0&&(Ee=`${Ee.substring(0,je)}<strong>${Ee.substring(je,je+ot)}</strong>${Ee.substring(je+ot)}`));return Ee}focusLost(){this.isFocused=!1,this.canSelectItemsOnBlur||this.setActive(void 0)}isActive(ee){return this.active===ee}selectMatch(ee,Se){return Se&&(Se.stopPropagation(),Se.preventDefault()),this.parent?.changeModel(ee),setTimeout(()=>this.parent?.typeaheadOnSelect.emit(ee),0),!1}setScrollableMode(){if(this.ulElement||(this.ulElement=this.element),this.liElements?.first){const ee=e.Aq.getStyles(this.ulElement.nativeElement),Se=e.Aq.getStyles(this.liElements.first.nativeElement),Ee=parseFloat((ee["padding-bottom"]?ee["padding-bottom"]:"").replace("px","")),at=parseFloat((ee["padding-top"]?ee["padding-top"]:"0").replace("px","")),je=parseFloat((Se.height?Se.height:"0").replace("px",""));this.guiHeight=`${this.typeaheadOptionsInScrollableView*je+at+Ee}px`}this.renderer.setStyle(this.element.nativeElement,"visibility","visible")}scrollPrevious(ee){if(0!==ee){if(this.liElements&&this.ulElement){const Se=this.liElements.toArray()[ee-1];Se&&!this.isScrolledIntoView(Se.nativeElement)&&(this.ulElement.nativeElement.scrollTop=Se.nativeElement.offsetTop)}}else this.scrollToBottom()}scrollNext(ee){if(ee+1>this.matches.length-1)this.scrollToTop();else if(this.liElements&&this.ulElement){const Se=this.liElements.toArray()[ee+1];Se&&!this.isScrolledIntoView(Se.nativeElement)&&(this.ulElement.nativeElement.scrollTop=Se.nativeElement.offsetTop-Number(this.ulElement.nativeElement.offsetHeight)+Number(Se.nativeElement.offsetHeight))}}ngOnDestroy(){this.positionServiceSubscription.unsubscribe()}setActive(ee){let Se;this._active=ee,null==this._active||this._active.isHeader()||(Se=ee),this.parent?.typeaheadOnPreview.emit(Se)}isScrolledIntoView(ee){if(!this.ulElement)return!1;const Se=this.ulElement.nativeElement.scrollTop,Ee=Se+Number(this.ulElement.nativeElement.offsetHeight),at=ee.offsetTop;return at+ee.offsetHeight<=Ee&&at>=Se}scrollToBottom(){this.ulElement?.nativeElement&&(this.ulElement.nativeElement.scrollTop=this.ulElement.nativeElement.scrollHeight)}scrollToTop(){this.ulElement?.nativeElement&&(this.ulElement.nativeElement.scrollTop=0)}static{this.\u0275fac=function(Se){return new(Se||X)(n.rXU(_.DF),n.rXU(n.sFG),n.rXU(n.aKT),n.rXU(n.gRc))}}static{this.\u0275cmp=n.VBU({type:X,selectors:[["typeahead-container"]],viewQuery:function(Se,Ee){if(1&Se&&(n.GBs(ie,5),n.GBs(le,5)),2&Se){let at;n.mGM(at=n.lsd())&&(Ee.ulElement=at.first),n.mGM(at=n.lsd())&&(Ee.liElements=at)}},hostAttrs:[1,"dropdown","open","bottom","dropdown-menu",2,"position","absolute","display","block"],hostVars:7,hostBindings:function(Se,Ee){1&Se&&n.bIt("mouseleave",function(){return Ee.focusLost()})("blur",function(){return Ee.focusLost()}),2&Se&&(n.BMQ("role","listbox"),n.xc7("height",Ee.needScrollbar?Ee.guiHeight:"auto")("visibility","inherit"),n.AVh("dropup",Ee.dropup))},outputs:{activeChangeEvent:"activeChange"},decls:5,vars:7,consts:[["bsItemTemplate",""],["bs4Template",""],["liElements",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHtml"],["ngFor","",3,"ngForOf"],["class","dropdown-header",4,"ngIf"],[3,"ngIf"],[1,"dropdown-header"],["role","option",1,"dropdown-item",3,"click","mouseenter","id"]],template:function(Se,Ee){if(1&Se&&n.DNE(0,te,0,0,"ng-template",3)(1,I,1,1,"ng-template",null,0,n.C5r)(3,Re,1,1,"ng-template",null,1,n.C5r),2&Se){const at=n.sdS(2),je=n.sdS(4);n.Y8G("ngTemplateOutlet",Ee.optionsListTemplate||je)("ngTemplateOutletContext",n.ziG(2,L,Ee.matches,Ee.itemTemplate||at,Ee.query,Ee.typeaheadTemplateMethods))}},dependencies:[E.Sq,E.bT,E.T3],styles:[".dropdown[_nghost-%COMP%]{z-index:1000}.dropdown-menu[_nghost-%COMP%], .dropdown-menu[_ngcontent-%COMP%]{overflow-y:auto;height:100px}"],data:{animation:[ht]}})}}return X})(),Ut=(()=>{class X{constructor(){this.adaptivePosition=!1,this.isAnimated=!1,this.hideResultsOnBlur=!0,this.cancelRequestOnFocusLost=!1,this.selectFirstItem=!0,this.isFirstItemActive=!0,this.minLength=1,this.selectItemOnBlur=!1}static{this.\u0275fac=function(Se){return new(Se||X)}}static{this.\u0275prov=n.jDH({token:X,factory:X.\u0275fac,providedIn:"root"})}}return X})(),Tt=(()=>{class X{constructor(ee,Se,Ee,at,je,ot,Ft){this.changeDetection=Ee,this.element=at,this.ngControl=je,this.renderer=ot,this.typeaheadMinLength=1,this.adaptivePosition=!1,this.isAnimated=!1,this.typeaheadWaitMs=0,this.typeaheadLatinize=!0,this.typeaheadSingleWords=!0,this.typeaheadWordDelimiters=" ",this.typeaheadMultipleSearchDelimiters=",",this.typeaheadPhraseDelimiters="'\"",this.typeaheadScrollable=!1,this.typeaheadOptionsInScrollableView=5,this.typeaheadSelectFirstItem=!0,this.typeaheadIsFirstItemActive=!0,this.typeaheadLoading=new n.bkB,this.typeaheadNoResults=new n.bkB,this.typeaheadOnSelect=new n.bkB,this.typeaheadOnPreview=new n.bkB,this.typeaheadOnBlur=new n.bkB,this.dropup=!1,this.isOpen=!1,this.list="list",this.isActiveItemChanged=!1,this.isFocused=!1,this.cancelRequestOnFocusLost=!1,this.selectItemOnBlur=!1,this.keyUpEventEmitter=new n.bkB,this.placement="bottom left",this._matches=[],this._subscriptions=[],this._outsideClickListener=()=>{},this._typeahead=ee.createLoader(at,Ft,ot).provide({provide:Ut,useValue:Se}),Object.assign(this,{typeaheadHideResultsOnBlur:Se.hideResultsOnBlur,cancelRequestOnFocusLost:Se.cancelRequestOnFocusLost,typeaheadSelectFirstItem:Se.selectFirstItem,typeaheadIsFirstItemActive:Se.isFirstItemActive,typeaheadMinLength:Se.minLength,adaptivePosition:Se.adaptivePosition,isAnimated:Se.isAnimated,selectItemOnBlur:Se.selectItemOnBlur})}get matches(){return this._matches}ngOnInit(){this.typeaheadOptionsLimit=this.typeaheadOptionsLimit||20,this.typeaheadMinLength=void 0===this.typeaheadMinLength?1:this.typeaheadMinLength,void 0===this.typeaheadAsync&&!(0,S.A)(this.typeahead)&&(this.typeaheadAsync=!1),(0,S.A)(this.typeahead)&&(this.typeaheadAsync=!0),this.typeaheadAsync?this.asyncActions():this.syncActions(),this.checkDelimitersConflict()}onInput(ee){const Se=void 0!==ee.target.value?ee.target.value:void 0!==ee.target.textContent?ee.target.textContent:ee.target.innerText;null!=Se&&Se.trim().length>=this.typeaheadMinLength?(this.typeaheadLoading.emit(!0),this.keyUpEventEmitter.emit(ee.target.value)):(this.typeaheadLoading.emit(!1),this.typeaheadNoResults.emit(!1),this.hide())}onChange(ee){if(this._container){if(27===ee.keyCode||"Escape"===ee.key)return void this.hide();if(38===ee.keyCode||"ArrowUp"===ee.key)return this.isActiveItemChanged=!0,void this._container.prevActiveMatch();if(40===ee.keyCode||"ArrowDown"===ee.key)return this.isActiveItemChanged=!0,void this._container.nextActiveMatch();if(13===ee.keyCode||"Enter"===ee.key)return void this._container.selectActiveMatch()}}onFocus(){this.isFocused=!0,setTimeout(()=>{0===this.typeaheadMinLength&&(this.typeaheadLoading.emit(!0),this.keyUpEventEmitter.emit(this.element.nativeElement.value||""))},0)}onBlur(){this.isFocused=!1,this._container&&!this._container.isFocused&&this.typeaheadOnBlur.emit(this._container.active),!this.container&&0===this._matches?.length&&this.typeaheadOnBlur.emit(new Te(this.element.nativeElement.value,this.element.nativeElement.value,!1))}onKeydown(ee){if(this._container&&((9===ee.keyCode||"Tab"===ee.key)&&this.onBlur(),9===ee.keyCode||"Tab"===ee.key||13===ee.keyCode||"Enter"===ee.key)){if(ee.preventDefault(),this.typeaheadSelectFirstItem)return void this._container.selectActiveMatch();this.typeaheadSelectFirstItem||(this._container.selectActiveMatch(this.isActiveItemChanged),this.isActiveItemChanged=!1,this.hide())}}changeModel(ee){if(!ee)return;let Se;if(this.typeaheadMultipleSearch&&this._allEnteredValue){const Ee=this._allEnteredValue.split(new RegExp(`([${this.typeaheadMultipleSearchDelimiters}]+)`));this._allEnteredValue=Ee.slice(0,Ee.length-1).concat(ee.value).join(""),Se=this._allEnteredValue}else Se=ee.value;this.ngControl.viewToModelUpdate(Se),this.ngControl.control?.setValue(Se),this.changeDetection.markForCheck(),this.hide()}show(){if(this._typeahead.attach(Yt).to(this.container).position({attachment:(this.dropup?"top":"bottom")+" left"}).show({typeaheadRef:this,placement:this.placement,animation:!1,dropup:this.dropup}),this._outsideClickListener=this.renderer.listen("document","click",Se=>{0===this.typeaheadMinLength&&this.element.nativeElement.contains(Se.target)||!this.typeaheadHideResultsOnBlur||this.element.nativeElement.contains(Se.target)||this.onOutsideClick()}),!this._typeahead.instance||!this.ngControl.control)return;this._container=this._typeahead.instance,this._container.parent=this;const ee=(this.typeaheadLatinize?we(this.ngControl.control.value):this.ngControl.control.value).toString().toLowerCase();this._container.query=this.tokenizeQuery(ee),this._container.matches=this._matches,this.element.nativeElement.focus(),this._container.activeChangeEvent.subscribe(Se=>{this.activeDescendant=Se,this.changeDetection.markForCheck()}),this.isOpen=!0}hide(){this._typeahead.isShown&&(this._typeahead.hide(),this._outsideClickListener(),this._container=void 0,this.isOpen=!1,this.changeDetection.markForCheck()),this.typeaheadOnPreview.emit()}onOutsideClick(){this._container&&!this._container.isFocused&&this.hide()}ngOnDestroy(){for(const ee of this._subscriptions)ee.unsubscribe();this._typeahead.dispose()}asyncActions(){this._subscriptions.push(this.keyUpEventEmitter.pipe((0,w.B)(this.typeaheadWaitMs),(0,C.M)(ee=>this._allEnteredValue=ee),(0,R.n)(()=>this.typeahead?this.typeahead:v.w)).subscribe(ee=>{this.finalizeAsyncCall(ee)}))}syncActions(){this._subscriptions.push(this.keyUpEventEmitter.pipe((0,w.B)(this.typeaheadWaitMs),(0,x.Z)(ee=>{this._allEnteredValue=ee;const Se=this.normalizeQuery(ee);return this.typeahead?((0,S.A)(this.typeahead)?this.typeahead:(0,f.H)(this.typeahead)).pipe((0,O.p)(at=>!!at&&this.testMatch(this.normalizeOption(at),Se)),function G(){return(0,M.N)((X,Y)=>{(function V(X,Y){return(0,M.N)((0,H.S)(X,Y,arguments.length>=2,!1,!0))})(U,[])(X).subscribe(Y)})}()):v.w})).subscribe(ee=>{this.finalizeAsyncCall(ee)}))}normalizeOption(ee){const Se=rt(ee,this.typeaheadOptionField);return(this.typeaheadLatinize?we(Se):Se).toLowerCase()}tokenizeQuery(ee){let Se=ee;return this.typeaheadMultipleSearch&&this.typeaheadSingleWords?this.haveCommonCharacters(`${this.typeaheadPhraseDelimiters}${this.typeaheadWordDelimiters}`,this.typeaheadMultipleSearchDelimiters)||(Se=Ve(Se,this.typeaheadWordDelimiters,this.typeaheadPhraseDelimiters,this.typeaheadMultipleSearchDelimiters)):Se=this.typeaheadSingleWords?Ve(Se,this.typeaheadWordDelimiters,this.typeaheadPhraseDelimiters):Ve(Se,void 0,void 0,this.typeaheadMultipleSearchDelimiters),Se}normalizeQuery(ee){let Se=(this.typeaheadLatinize?we(ee):ee).toString().toLowerCase();return Se=this.tokenizeQuery(Se),Se}testMatch(ee,Se){let Ee;if("object"==typeof Se){Ee=Se.length;for(let at=0;at<Ee;at+=1)if(Se[at].length>0&&ee.indexOf(Se[at])<0)return!1;return!0}return ee.indexOf(Se)>=0}finalizeAsyncCall(ee){if(this.prepareMatches(ee||[]),this.typeaheadLoading.emit(!1),this.typeaheadNoResults.emit(!this.hasMatches()),this.hasMatches()){if(this.isFocused||!this.cancelRequestOnFocusLost)if(this._container&&this.ngControl.control){const Ee=((this.typeaheadLatinize?we(this.ngControl.control.value):this.ngControl.control.value)||"").toString().toLowerCase();this._container.query=this.tokenizeQuery(Ee),this._container.matches=this._matches}else this.show()}else this.hide()}prepareMatches(ee){const Se=ee.slice(0,this.typeaheadOptionsLimit),Ee=this.typeaheadOrderBy?this.orderMatches(Se):Se;if(this.typeaheadGroupField){let at=[];Ee.map(ot=>rt(ot,this.typeaheadGroupField)).filter((ot,Ft,ft)=>ft.indexOf(ot)===Ft).forEach(ot=>{at.push(new Te(ot,ot,!0)),at=at.concat(Ee.filter(Ft=>rt(Ft,this.typeaheadGroupField)===ot).map(Ft=>new Te(Ft,rt(Ft,this.typeaheadOptionField))))}),this._matches=at}else this._matches=Ee.map(at=>new Te(at,rt(at,this.typeaheadOptionField)))}orderMatches(ee){if(!ee.length)return ee;if(null!=this.typeaheadOrderBy&&"object"==typeof this.typeaheadOrderBy&&0===Object.keys(this.typeaheadOrderBy).length)return console.error("Field and direction properties for typeaheadOrderBy have to be set according to documentation!"),ee;const{field:Se,direction:Ee}=this.typeaheadOrderBy||{};return!Ee||"asc"!==Ee&&"desc"!==Ee?(console.error('typeaheadOrderBy direction has to equal "asc" or "desc". Please follow the documentation.'),ee):"string"==typeof ee[0]?"asc"===Ee?ee.sort():ee.sort().reverse():Se&&"string"==typeof Se?ee.sort((at,je)=>{const ot=rt(at,Se),Ft=rt(je,Se);return ot<Ft?"asc"===Ee?-1:1:ot>Ft?"asc"===Ee?1:-1:0}):(console.error("typeaheadOrderBy field has to set according to the documentation."),ee)}hasMatches(){return this._matches.length>0}checkDelimitersConflict(){if(this.typeaheadMultipleSearch&&this.typeaheadSingleWords&&this.haveCommonCharacters(`${this.typeaheadPhraseDelimiters}${this.typeaheadWordDelimiters}`,this.typeaheadMultipleSearchDelimiters))throw new Error(`Delimiters used in typeaheadMultipleSearchDelimiters must be different\n          from delimiters used in typeaheadWordDelimiters (current value: ${this.typeaheadWordDelimiters}) and\n          typeaheadPhraseDelimiters (current value: ${this.typeaheadPhraseDelimiters}).\n          Please refer to the documentation`)}haveCommonCharacters(ee,Se){for(let Ee=0;Ee<ee.length;Ee++)if(ee.charAt(Ee).indexOf(Se)>-1)return!0;return!1}static{this.\u0275fac=function(Se){return new(Se||X)(n.rXU(F.Li),n.rXU(Ut),n.rXU(n.gRc),n.rXU(n.aKT),n.rXU(m.vO),n.rXU(n.sFG),n.rXU(n.c1b))}}static{this.\u0275dir=n.FsC({type:X,selectors:[["","typeahead",""]],hostVars:4,hostBindings:function(Se,Ee){1&Se&&n.bIt("input",function(je){return Ee.onInput(je)})("keyup",function(je){return Ee.onChange(je)})("click",function(){return Ee.onFocus()})("focus",function(){return Ee.onFocus()})("blur",function(){return Ee.onBlur()})("keydown",function(je){return Ee.onKeydown(je)}),2&Se&&n.BMQ("aria-activedescendant",Ee.activeDescendant)("aria-owns",Ee.isOpen?Ee._container.popupId:null)("aria-expanded",Ee.isOpen)("aria-autocomplete",Ee.list)},inputs:{typeahead:"typeahead",typeaheadMinLength:"typeaheadMinLength",adaptivePosition:"adaptivePosition",isAnimated:"isAnimated",typeaheadWaitMs:"typeaheadWaitMs",typeaheadOptionsLimit:"typeaheadOptionsLimit",typeaheadOptionField:"typeaheadOptionField",typeaheadGroupField:"typeaheadGroupField",typeaheadOrderBy:"typeaheadOrderBy",typeaheadAsync:"typeaheadAsync",typeaheadLatinize:"typeaheadLatinize",typeaheadSingleWords:"typeaheadSingleWords",typeaheadWordDelimiters:"typeaheadWordDelimiters",typeaheadMultipleSearch:"typeaheadMultipleSearch",typeaheadMultipleSearchDelimiters:"typeaheadMultipleSearchDelimiters",typeaheadPhraseDelimiters:"typeaheadPhraseDelimiters",typeaheadItemTemplate:"typeaheadItemTemplate",optionsListTemplate:"optionsListTemplate",typeaheadScrollable:"typeaheadScrollable",typeaheadOptionsInScrollableView:"typeaheadOptionsInScrollableView",typeaheadHideResultsOnBlur:"typeaheadHideResultsOnBlur",typeaheadSelectFirstItem:"typeaheadSelectFirstItem",typeaheadIsFirstItemActive:"typeaheadIsFirstItemActive",container:"container",dropup:"dropup"},outputs:{typeaheadLoading:"typeaheadLoading",typeaheadNoResults:"typeaheadNoResults",typeaheadOnSelect:"typeaheadOnSelect",typeaheadOnPreview:"typeaheadOnPreview",typeaheadOnBlur:"typeaheadOnBlur"},exportAs:["bs-typeahead"]})}}return X})(),_t=(()=>{class X{static forRoot(){return{ngModule:X,providers:[F.Li,_.DF]}}static{this.\u0275fac=function(Se){return new(Se||X)}}static{this.\u0275mod=n.$C({type:X})}static{this.\u0275inj=n.G2t({imports:[E.MD]})}}return X})()},2806:(qe,me,u)=>{"use strict";u.d(me,{Al:()=>m,Aq:()=>Pe,Bu:()=>I,Fv:()=>d,GL:()=>v,Xt:()=>f,Yr:()=>_e,Zu:()=>g,mc:()=>Je,x:()=>E});var n=u(4438);class e{constructor(we,de){this.open=we,this.close=de||we}isManual(){return"manual"===this.open||"manual"===this.close}}const _={hover:["mouseover","mouseout"],focus:["focusin","focusout"]};function g(Te,we=_){const de=(Te||"").trim();if(0===de.length)return[];const Ve=de.split(/\s+/).map(rt=>rt.split(":")).map(rt=>{const Be=we[rt[0]]||rt;return new e(Be[0],Be[1])}),Ae=Ve.filter(rt=>rt.isManual());if(Ae.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===Ae.length&&Ve.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return Ve}function v(Te,we){const de=g(we.triggers),Ve=we.target;if(1===de.length&&de[0].isManual())return Function.prototype;const Ae=[],rt=[],Be=()=>{rt.forEach(ht=>Ae.push(ht())),rt.length=0};return de.forEach(ht=>{const Ye=ht.open===ht.close,Yt=Ye?we.toggle:we.show;if(!Ye&&ht.close&&we.hide){const Ut=ht.close,Tt=we.hide;rt.push(()=>Te.listen(Ve,Ut,Tt))}Yt&&Ae.push(Te.listen(Ve,ht.open,()=>Yt(Be)))}),()=>{Ae.forEach(ht=>ht())}}function f(Te,we){return we.outsideClick?Te.listen("document","click",de=>{we.target&&we.target.contains(de.target)||we.targets&&we.targets.some(Ve=>Ve.contains(de.target))||we.hide&&we.hide()}):Function.prototype}function d(Te,we){return we.outsideEsc?Te.listen("document","keyup.esc",de=>{we.target&&we.target.contains(de.target)||we.targets&&we.targets.some(Ve=>Ve.contains(de.target))||we.hide&&we.hide()}):Function.prototype}const E=typeof window<"u"&&window||{},m=E.document;var G=function(Te){return Te.isBs4="bs4",Te.isBs5="bs5",Te}(G||{});let ie;function le(){const Te=E.document.createElement("span");Te.innerText="testing bs version",Te.classList.add("d-none"),Te.classList.add("pl-1"),E.document.head.appendChild(Te);const we=E.getComputedStyle(Te).paddingLeft;return we&&parseFloat(we)?(E.document.head.removeChild(Te),"bs4"):(E.document.head.removeChild(Te),"bs5")}function I(){return{isBs4:(ie||(ie=le()),"bs4"===ie),isBs5:(ie||(ie=le()),"bs5"===ie)}}function _e(){return function(de,Ve){const Ae=` __${Ve}Value`;Object.defineProperty(de,Ve,{get(){return this[Ae]},set(rt){const Be=this[Ae];this[Ae]=rt,Be!==rt&&this[Ve+"Change"]&&this[Ve+"Change"].emit(rt)}})}}class Pe{static reflow(we){}static getStyles(we){let de=we.ownerDocument.defaultView;return(!de||!de.opener)&&(de=E),de.getComputedStyle(we)}static stackOverflowConfig(){const we=function oe(){const Te=I(),we=Object.keys(Te).find(de=>Te[de]);return G[we]}();return{crossorigin:"anonymous",integrity:"bs5"===we?"sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65":"sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2",cdnLink:"bs5"===we?"https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css":"https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"}}}const Re={},ke=typeof console>"u"||!("warn"in console);function Je(Te){!(0,n.naY)()||ke||Te in Re||(Re[Te]=!0,console.warn(Te))}},5794:(qe,me,u)=>{"use strict";u.d(me,{_B:()=>Je,tw:()=>_e});var n=u(4438),e=u(9969),_=u(177),g=u(1413),S=u(345);const v=["toast-component",""];function f(Ae,rt){if(1&Ae){const Be=n.RV6();n.j41(0,"button",5),n.bIt("click",function(){n.eBV(Be);const Ye=n.XpG();return n.Njj(Ye.remove())}),n.j41(1,"span",6),n.EFF(2,"\xd7"),n.k0s()()}}function d(Ae,rt){if(1&Ae&&(n.qex(0),n.EFF(1),n.bVm()),2&Ae){const Be=n.XpG(2);n.R7$(),n.SpI("[",Be.duplicatesCount+1,"]")}}function E(Ae,rt){if(1&Ae&&(n.j41(0,"div"),n.EFF(1),n.DNE(2,d,2,1,"ng-container",4),n.k0s()),2&Ae){const Be=n.XpG();n.HbH(Be.options.titleClass),n.BMQ("aria-label",Be.title),n.R7$(),n.SpI(" ",Be.title," "),n.R7$(),n.Y8G("ngIf",Be.duplicatesCount)}}function m(Ae,rt){if(1&Ae&&n.nrm(0,"div",7),2&Ae){const Be=n.XpG();n.HbH(Be.options.messageClass),n.Y8G("innerHTML",Be.message,n.npT)}}function F(Ae,rt){if(1&Ae&&(n.j41(0,"div",8),n.EFF(1),n.k0s()),2&Ae){const Be=n.XpG();n.HbH(Be.options.messageClass),n.BMQ("aria-label",Be.message),n.R7$(),n.SpI(" ",Be.message," ")}}function w(Ae,rt){if(1&Ae&&(n.j41(0,"div"),n.nrm(1,"div",9),n.k0s()),2&Ae){const Be=n.XpG();n.R7$(),n.xc7("width",Be.width+"%")}}class U{_attachedHost;component;viewContainerRef;injector;constructor(rt,Be){this.component=rt,this.injector=Be}attach(rt,Be){return this._attachedHost=rt,rt.attach(this,Be)}detach(){const rt=this._attachedHost;if(rt)return this._attachedHost=void 0,rt.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(rt){this._attachedHost=rt}}class G{_attachedPortal;_disposeFn;attach(rt,Be){return this._attachedPortal=rt,this.attachComponentPortal(rt,Be)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(rt){this._disposeFn=rt}}class ie{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new g.B;_activate=new g.B;_manualClose=new g.B;_resetTimeout=new g.B;_countDuplicate=new g.B;constructor(rt){this._overlayRef=rt}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(rt,Be){rt&&this._resetTimeout.next(),Be&&this._countDuplicate.next(++this.duplicatesCount)}}class le{toastId;config;message;title;toastType;toastRef;_onTap=new g.B;_onAction=new g.B;constructor(rt,Be,ht,Ye,Yt,Ut){this.toastId=rt,this.config=Be,this.message=ht,this.title=Ye,this.toastType=Yt,this.toastRef=Ut,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(rt){this._onAction.next(rt)}onAction(){return this._onAction.asObservable()}}const J=new n.nKC("ToastConfig");class te extends G{_hostDomElement;_componentFactoryResolver;_appRef;constructor(rt,Be,ht){super(),this._hostDomElement=rt,this._componentFactoryResolver=Be,this._appRef=ht}attachComponentPortal(rt,Be){const ht=this._componentFactoryResolver.resolveComponentFactory(rt.component);let Ye;return Ye=ht.create(rt.injector),this._appRef.attachView(Ye.hostView),this.setDisposeFn(()=>{this._appRef.detachView(Ye.hostView),Ye.destroy()}),Be?this._hostDomElement.insertBefore(this._getComponentRootNode(Ye),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(Ye)),Ye}_getComponentRootNode(rt){return rt.hostView.rootNodes[0]}}let I=(()=>{class Ae{_document=(0,n.WQX)(_.qQ);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const Be=this._document.createElement("div");Be.classList.add("overlay-container"),Be.setAttribute("aria-live","polite"),this._document.body.appendChild(Be),this._containerElement=Be}static \u0275fac=function(ht){return new(ht||Ae)};static \u0275prov=n.jDH({token:Ae,factory:Ae.\u0275fac,providedIn:"root"})}return Ae})();class oe{_portalHost;constructor(rt){this._portalHost=rt}attach(rt,Be=!0){return this._portalHost.attach(rt,Be)}detach(){return this._portalHost.detach()}}let z=(()=>{class Ae{_overlayContainer=(0,n.WQX)(I);_componentFactoryResolver=(0,n.WQX)(n.OM3);_appRef=(0,n.WQX)(n.o8S);_document=(0,n.WQX)(_.qQ);_paneElements=new Map;create(Be,ht){return this._createOverlayRef(this.getPaneElement(Be,ht))}getPaneElement(Be="",ht){return this._paneElements.get(ht)||this._paneElements.set(ht,{}),this._paneElements.get(ht)[Be]||(this._paneElements.get(ht)[Be]=this._createPaneElement(Be,ht)),this._paneElements.get(ht)[Be]}_createPaneElement(Be,ht){const Ye=this._document.createElement("div");return Ye.id="toast-container",Ye.classList.add(Be),Ye.classList.add("toast-container"),ht?ht.getContainerElement().appendChild(Ye):this._overlayContainer.getContainerElement().appendChild(Ye),Ye}_createPortalHost(Be){return new te(Be,this._componentFactoryResolver,this._appRef)}_createOverlayRef(Be){return new oe(this._createPortalHost(Be))}static \u0275fac=function(ht){return new(ht||Ae)};static \u0275prov=n.jDH({token:Ae,factory:Ae.\u0275fac,providedIn:"root"})}return Ae})(),_e=(()=>{class Ae{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(Be,ht,Ye,Yt,Ut){this.overlay=ht,this._injector=Ye,this.sanitizer=Yt,this.ngZone=Ut,this.toastrConfig={...Be.default,...Be.config},Be.config.iconClasses&&(this.toastrConfig.iconClasses={...Be.default.iconClasses,...Be.config.iconClasses})}show(Be,ht,Ye={},Yt=""){return this._preBuildNotification(Yt,Be,ht,this.applyConfig(Ye))}success(Be,ht,Ye={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",Be,ht,this.applyConfig(Ye))}error(Be,ht,Ye={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",Be,ht,this.applyConfig(Ye))}info(Be,ht,Ye={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",Be,ht,this.applyConfig(Ye))}warning(Be,ht,Ye={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",Be,ht,this.applyConfig(Ye))}clear(Be){for(const ht of this.toasts)if(void 0!==Be){if(ht.toastId===Be)return void ht.toastRef.manualClose()}else ht.toastRef.manualClose()}remove(Be){const ht=this._findToast(Be);if(!ht||(ht.activeToast.toastRef.close(),this.toasts.splice(ht.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const Ye=this.toasts[this.currentlyActive].toastRef;Ye.isInactive()||(this.currentlyActive=this.currentlyActive+1,Ye.activate())}return!0}findDuplicate(Be="",ht="",Ye,Yt){const{includeTitleDuplicates:Ut}=this.toastrConfig;for(const Tt of this.toasts)if((!Ut||Ut&&Tt.title===Be)&&Tt.message===ht)return Tt.toastRef.onDuplicate(Ye,Yt),Tt;return null}applyConfig(Be={}){return{...this.toastrConfig,...Be}}_findToast(Be){for(let ht=0;ht<this.toasts.length;ht++)if(this.toasts[ht].toastId===Be)return{index:ht,activeToast:this.toasts[ht]};return null}_preBuildNotification(Be,ht,Ye,Yt){return Yt.onActivateTick?this.ngZone.run(()=>this._buildNotification(Be,ht,Ye,Yt)):this._buildNotification(Be,ht,Ye,Yt)}_buildNotification(Be,ht,Ye,Yt){if(!Yt.toastComponent)throw new Error("toastComponent required");const Ut=this.findDuplicate(Ye,ht,this.toastrConfig.resetTimeoutOnDuplicate&&Yt.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&Ye||ht)&&this.toastrConfig.preventDuplicates&&null!==Ut)return Ut;this.previousToastMessage=ht;let Tt=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(Tt=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const _t=this.overlay.create(Yt.positionClass,this.overlayContainer);this.index=this.index+1;let X=ht;ht&&Yt.enableHtml&&(X=this.sanitizer.sanitize(n.WPN.HTML,ht));const Y=new ie(_t),ee=new le(this.index,Yt,X,Ye,Be,Y),Ee=n.zZn.create({providers:[{provide:le,useValue:ee}],parent:this._injector}),at=new U(Yt.toastComponent,Ee),je=_t.attach(at,Yt.newestOnTop);Y.componentInstance=je.instance;const ot={toastId:this.index,title:Ye||"",message:ht||"",toastRef:Y,onShown:Y.afterActivate(),onHidden:Y.afterClosed(),onTap:ee.onTap(),onAction:ee.onAction(),portal:je};return Tt||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{ot.toastRef.activate()})),this.toasts.push(ot),ot}static \u0275fac=function(ht){return new(ht||Ae)(n.KVO(J),n.KVO(z),n.KVO(n.zZn),n.KVO(S.up),n.KVO(n.SKi))};static \u0275prov=n.jDH({token:Ae,factory:Ae.\u0275fac,providedIn:"root"})}return Ae})();const Re={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:(()=>{class Ae{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=-1;toastClasses="";state;get displayStyle(){if("inactive"===this.state.value)return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(Be,ht,Ye){this.toastrService=Be,this.toastPackage=ht,this.ngZone=Ye,this.message=ht.message,this.title=ht.title,this.options=ht.config,this.originalTimeout=ht.config.timeOut,this.toastClasses=`${ht.toastType} ${ht.config.toastClass}`,this.sub=ht.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=ht.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=ht.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=ht.toastRef.countDuplicate().subscribe(Yt=>{this.duplicatesCount=Yt}),this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}}}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const Be=(new Date).getTime();this.width=(this.hideTime-Be)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(Be,ht){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(Be),ht)):this.timeout=setTimeout(()=>Be(),ht)}outsideInterval(Be,ht){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(Be),ht)):this.intervalId=setInterval(()=>Be(),ht)}runInsideAngular(Be){this.ngZone?this.ngZone.run(()=>Be()):Be()}static \u0275fac=function(ht){return new(ht||Ae)(n.rXU(_e),n.rXU(le),n.rXU(n.SKi))};static \u0275cmp=n.VBU({type:Ae,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(ht,Ye){1&ht&&n.bIt("click",function(){return Ye.tapToast()})("mouseenter",function(){return Ye.stickAround()})("mouseleave",function(){return Ye.delayedHideToast()}),2&ht&&(n.zvX("@flyInOut",Ye.state),n.HbH(Ye.toastClasses),n.xc7("display",Ye.displayStyle))},standalone:!0,features:[n.aNF],attrs:v,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(ht,Ye){1&ht&&n.DNE(0,f,3,0,"button",0)(1,E,3,5,"div",1)(2,m,1,3,"div",2)(3,F,2,4,"div",3)(4,w,2,2,"div",4),2&ht&&(n.Y8G("ngIf",Ye.options.closeButton),n.R7$(),n.Y8G("ngIf",Ye.title),n.R7$(),n.Y8G("ngIf",Ye.message&&Ye.options.enableHtml),n.R7$(),n.Y8G("ngIf",Ye.message&&!Ye.options.enableHtml),n.R7$(),n.Y8G("ngIf",Ye.options.progressBar))},dependencies:[_.bT],encapsulation:2,data:{animation:[(0,e.hZ)("flyInOut",[(0,e.wk)("inactive",(0,e.iF)({opacity:0})),(0,e.wk)("active",(0,e.iF)({opacity:1})),(0,e.wk)("removed",(0,e.iF)({opacity:0})),(0,e.kY)("inactive => active",(0,e.i0)("{{ easeTime }}ms {{ easing }}")),(0,e.kY)("active => removed",(0,e.i0)("{{ easeTime }}ms {{ easing }}"))])]}})}return Ae})()},ke=(Ae={})=>(0,n.EmA)([{provide:J,useValue:{default:Re,config:Ae}}]);let Je=(()=>{class Ae{static forRoot(Be={}){return{ngModule:Ae,providers:[ke(Be)]}}static \u0275fac=function(ht){return new(ht||Ae)};static \u0275mod=n.$C({type:Ae});static \u0275inj=n.G2t({})}return Ae})()},1068:(qe,me,u)=>{"use strict";u.d(me,{gR:()=>yr,R9:()=>Pr,I6:()=>Lr,SL:()=>$n,zN:()=>Ss,sb:()=>Wr,Am:()=>Wr,FF:()=>Ur});var n={};u.r(n),u.d(n,{VERSION:()=>e,after:()=>vr,all:()=>go,allKeys:()=>an,any:()=>Ss,assign:()=>ut,before:()=>Ni,bind:()=>cr,bindAll:()=>Gs,chain:()=>Yi,chunk:()=>Bt,clone:()=>vn,collect:()=>Wn,compact:()=>mr,compose:()=>gr,constant:()=>Se,contains:()=>yr,countBy:()=>Or,create:()=>yn,debounce:()=>gs,default:()=>ls,defaults:()=>Nt,defer:()=>vi,delay:()=>ks,detect:()=>Lr,difference:()=>Pr,drop:()=>Hr,each:()=>tr,escape:()=>Oe,every:()=>go,extend:()=>Rt,extendOwn:()=>ut,filter:()=>rs,find:()=>Lr,findIndex:()=>$n,findKey:()=>ai,findLastIndex:()=>Jr,findWhere:()=>er,first:()=>si,flatten:()=>Us,foldl:()=>ur,foldr:()=>Nr,forEach:()=>tr,functions:()=>li,get:()=>gi,groupBy:()=>Ao,has:()=>ni,head:()=>si,identity:()=>Bi,include:()=>yr,includes:()=>yr,indexBy:()=>Es,indexOf:()=>Er,initial:()=>Ts,inject:()=>ur,intersection:()=>vs,invert:()=>dn,invoke:()=>ss,isArguments:()=>X,isArray:()=>Ut,isArrayBuffer:()=>Te,isBoolean:()=>te,isDataView:()=>Yt,isDate:()=>Pe,isElement:()=>I,isEmpty:()=>ve,isEqual:()=>Pt,isError:()=>ke,isFinite:()=>Y,isFunction:()=>Ve,isMap:()=>vt,isMatch:()=>ae,isNaN:()=>ee,isNull:()=>L,isNumber:()=>_e,isObject:()=>le,isRegExp:()=>Re,isSet:()=>kt,isString:()=>z,isSymbol:()=>Je,isTypedArray:()=>nt,isUndefined:()=>J,isWeakMap:()=>mt,isWeakSet:()=>nn,iteratee:()=>ji,keys:()=>Ot,last:()=>Ls,lastIndexOf:()=>kr,map:()=>Wn,mapObject:()=>tt,matcher:()=>Xn,matches:()=>Xn,max:()=>Qr,memoize:()=>ms,methods:()=>li,min:()=>co,mixin:()=>Ei,negate:()=>Ns,noop:()=>Dt,now:()=>In,object:()=>ge,omit:()=>wa,once:()=>Hs,pairs:()=>Ln,partial:()=>ri,partition:()=>or,pick:()=>no,pluck:()=>os,property:()=>wi,propertyOf:()=>Ct,random:()=>Qt,range:()=>et,reduce:()=>ur,reduceRight:()=>Nr,reject:()=>qs,rest:()=>Hr,restArguments:()=>ie,result:()=>_i,sample:()=>Bo,select:()=>rs,shuffle:()=>Xo,size:()=>Fr,some:()=>Ss,sortBy:()=>eo,sortedIndex:()=>pr,tail:()=>Hr,take:()=>si,tap:()=>zn,template:()=>Zn,templateSettings:()=>he,throttle:()=>Bs,times:()=>rn,toArray:()=>Zr,toPath:()=>An,transpose:()=>Fe,unescape:()=>q,union:()=>gn,uniq:()=>Wr,unique:()=>Wr,uniqueId:()=>di,unzip:()=>Fe,values:()=>Tn,where:()=>Ca,without:()=>Ur,wrap:()=>wr,zip:()=>Ge});var e="1.13.6",_="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},g=Array.prototype,S=Object.prototype,v=typeof Symbol<"u"?Symbol.prototype:null,f=g.push,d=g.slice,E=S.toString,m=S.hasOwnProperty,F=typeof ArrayBuffer<"u",w=typeof DataView<"u",C=Array.isArray,R=Object.keys,x=Object.create,O=F&&ArrayBuffer.isView,H=isNaN,M=isFinite,V=!{toString:null}.propertyIsEnumerable("toString"),U=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],G=Math.pow(2,53)-1;function ie(xe,Xe){return Xe=null==Xe?xe.length-1:+Xe,function(){for(var wt=Math.max(arguments.length-Xe,0),Mt=Array(wt),Lt=0;Lt<wt;Lt++)Mt[Lt]=arguments[Lt+Xe];switch(Xe){case 0:return xe.call(this,Mt);case 1:return xe.call(this,arguments[0],Mt);case 2:return xe.call(this,arguments[0],arguments[1],Mt)}var bt=Array(Xe+1);for(Lt=0;Lt<Xe;Lt++)bt[Lt]=arguments[Lt];return bt[Xe]=Mt,xe.apply(this,bt)}}function le(xe){var Xe=typeof xe;return"function"===Xe||"object"===Xe&&!!xe}function L(xe){return null===xe}function J(xe){return void 0===xe}function te(xe){return!0===xe||!1===xe||"[object Boolean]"===E.call(xe)}function I(xe){return!(!xe||1!==xe.nodeType)}function oe(xe){var Xe="[object "+xe+"]";return function(wt){return E.call(wt)===Xe}}const z=oe("String"),_e=oe("Number"),Pe=oe("Date"),Re=oe("RegExp"),ke=oe("Error"),Je=oe("Symbol"),Te=oe("ArrayBuffer");var we=oe("Function");"object"!=typeof Int8Array&&"function"!=typeof(_.document&&_.document.childNodes)&&(we=function(xe){return"function"==typeof xe||!1});const Ve=we,Ae=oe("Object");var rt=w&&Ae(new DataView(new ArrayBuffer(8))),Be=typeof Map<"u"&&Ae(new Map),ht=oe("DataView");const Yt=rt?function Ye(xe){return null!=xe&&Ve(xe.getInt8)&&Te(xe.buffer)}:ht,Ut=C||oe("Array");function Tt(xe,Xe){return null!=xe&&m.call(xe,Xe)}var _t=oe("Arguments");!function(){_t(arguments)||(_t=function(xe){return Tt(xe,"callee")})}();const X=_t;function Y(xe){return!Je(xe)&&M(xe)&&!isNaN(parseFloat(xe))}function ee(xe){return _e(xe)&&H(xe)}function Se(xe){return function(){return xe}}function Ee(xe){return function(Xe){var wt=xe(Xe);return"number"==typeof wt&&wt>=0&&wt<=G}}function at(xe){return function(Xe){return Xe?.[xe]}}const je=at("byteLength"),ot=Ee(je);var Ft=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;const nt=F?function ft(xe){return O?O(xe)&&!Yt(xe):ot(xe)&&Ft.test(E.call(xe))}:Se(!1),Wt=at("length");function it(xe,Xe){Xe=function tn(xe){for(var Xe={},wt=xe.length,Mt=0;Mt<wt;++Mt)Xe[xe[Mt]]=!0;return{contains:function(Lt){return!0===Xe[Lt]},push:function(Lt){return Xe[Lt]=!0,xe.push(Lt)}}}(Xe);var wt=U.length,Mt=xe.constructor,Lt=Ve(Mt)&&Mt.prototype||S,bt="constructor";for(Tt(xe,bt)&&!Xe.contains(bt)&&Xe.push(bt);wt--;)(bt=U[wt])in xe&&xe[bt]!==Lt[bt]&&!Xe.contains(bt)&&Xe.push(bt)}function Ot(xe){if(!le(xe))return[];if(R)return R(xe);var Xe=[];for(var wt in xe)Tt(xe,wt)&&Xe.push(wt);return V&&it(xe,Xe),Xe}function ve(xe){if(null==xe)return!0;var Xe=Wt(xe);return"number"==typeof Xe&&(Ut(xe)||z(xe)||X(xe))?0===Xe:0===Wt(Ot(xe))}function ae(xe,Xe){var wt=Ot(Xe),Mt=wt.length;if(null==xe)return!Mt;for(var Lt=Object(xe),bt=0;bt<Mt;bt++){var fn=wt[bt];if(Xe[fn]!==Lt[fn]||!(fn in Lt))return!1}return!0}function $(xe){return xe instanceof $?xe:this instanceof $?void(this._wrapped=xe):new $(xe)}function se(xe){return new Uint8Array(xe.buffer||xe,xe.byteOffset||0,je(xe))}$.VERSION=e,$.prototype.valueOf=$.prototype.toJSON=$.prototype.value=function(){return this._wrapped},$.prototype.toString=function(){return String(this._wrapped)};var Ue="[object DataView]";function Ze(xe,Xe,wt,Mt){if(xe===Xe)return 0!==xe||1/xe==1/Xe;if(null==xe||null==Xe)return!1;if(xe!=xe)return Xe!=Xe;var Lt=typeof xe;return("function"===Lt||"object"===Lt||"object"==typeof Xe)&&dt(xe,Xe,wt,Mt)}function dt(xe,Xe,wt,Mt){xe instanceof $&&(xe=xe._wrapped),Xe instanceof $&&(Xe=Xe._wrapped);var Lt=E.call(xe);if(Lt!==E.call(Xe))return!1;if(rt&&"[object Object]"==Lt&&Yt(xe)){if(!Yt(Xe))return!1;Lt=Ue}switch(Lt){case"[object RegExp]":case"[object String]":return""+xe==""+Xe;case"[object Number]":return+xe!=+xe?+Xe!=+Xe:0==+xe?1/+xe==1/Xe:+xe==+Xe;case"[object Date]":case"[object Boolean]":return+xe==+Xe;case"[object Symbol]":return v.valueOf.call(xe)===v.valueOf.call(Xe);case"[object ArrayBuffer]":case Ue:return dt(se(xe),se(Xe),wt,Mt)}var bt="[object Array]"===Lt;if(!bt&&nt(xe)){if(je(xe)!==je(Xe))return!1;if(xe.buffer===Xe.buffer&&xe.byteOffset===Xe.byteOffset)return!0;bt=!0}if(!bt){if("object"!=typeof xe||"object"!=typeof Xe)return!1;var Jt=xe.constructor,Qn=Xe.constructor;if(Jt!==Qn&&!(Ve(Jt)&&Jt instanceof Jt&&Ve(Qn)&&Qn instanceof Qn)&&"constructor"in xe&&"constructor"in Xe)return!1}Mt=Mt||[];for(var Nn=(wt=wt||[]).length;Nn--;)if(wt[Nn]===xe)return Mt[Nn]===Xe;if(wt.push(xe),Mt.push(Xe),bt){if((Nn=xe.length)!==Xe.length)return!1;for(;Nn--;)if(!Ze(xe[Nn],Xe[Nn],wt,Mt))return!1}else{var Br,Vn=Ot(xe);if(Nn=Vn.length,Ot(Xe).length!==Nn)return!1;for(;Nn--;)if(!Tt(Xe,Br=Vn[Nn])||!Ze(xe[Br],Xe[Br],wt,Mt))return!1}return wt.pop(),Mt.pop(),!0}function Pt(xe,Xe){return Ze(xe,Xe)}function an(xe){if(!le(xe))return[];var Xe=[];for(var wt in xe)Xe.push(wt);return V&&it(xe,Xe),Xe}function un(xe){var Xe=Wt(xe);return function(wt){if(null==wt)return!1;var Mt=an(wt);if(Wt(Mt))return!1;for(var Lt=0;Lt<Xe;Lt++)if(!Ve(wt[xe[Lt]]))return!1;return xe!==Ht||!Ve(wt[Mn])}}var Mn="forEach",Bn=["clear","delete"],It=["get","has","set"],Rn=Bn.concat(Mn,It),Ht=Bn.concat(It),lt=["add"].concat(Bn,Mn,"has");const vt=Be?un(Rn):oe("Map"),mt=Be?un(Ht):oe("WeakMap"),kt=Be?un(lt):oe("Set"),nn=oe("WeakSet");function Tn(xe){for(var Xe=Ot(xe),wt=Xe.length,Mt=Array(wt),Lt=0;Lt<wt;Lt++)Mt[Lt]=xe[Xe[Lt]];return Mt}function Ln(xe){for(var Xe=Ot(xe),wt=Xe.length,Mt=Array(wt),Lt=0;Lt<wt;Lt++)Mt[Lt]=[Xe[Lt],xe[Xe[Lt]]];return Mt}function dn(xe){for(var Xe={},wt=Ot(xe),Mt=0,Lt=wt.length;Mt<Lt;Mt++)Xe[xe[wt[Mt]]]=wt[Mt];return Xe}function li(xe){var Xe=[];for(var wt in xe)Ve(xe[wt])&&Xe.push(wt);return Xe.sort()}function ci(xe,Xe){return function(wt){var Mt=arguments.length;if(Xe&&(wt=Object(wt)),Mt<2||null==wt)return wt;for(var Lt=1;Lt<Mt;Lt++)for(var bt=arguments[Lt],fn=xe(bt),Jt=fn.length,Qn=0;Qn<Jt;Qn++){var Nn=fn[Qn];(!Xe||void 0===wt[Nn])&&(wt[Nn]=bt[Nn])}return wt}}const Rt=ci(an),ut=ci(Ot),Nt=ci(an,!0);function zt(xe){if(!le(xe))return{};if(x)return x(xe);var Xe=function(){};Xe.prototype=xe;var wt=new Xe;return Xe.prototype=null,wt}function yn(xe,Xe){var wt=zt(xe);return Xe&&ut(wt,Xe),wt}function vn(xe){return le(xe)?Ut(xe)?xe.slice():Rt({},xe):xe}function zn(xe,Xe){return Xe(xe),xe}function An(xe){return Ut(xe)?xe:[xe]}function mn(xe){return $.toPath(xe)}function ui(xe,Xe){for(var wt=Xe.length,Mt=0;Mt<wt;Mt++){if(null==xe)return;xe=xe[Xe[Mt]]}return wt?xe:void 0}function gi(xe,Xe,wt){var Mt=ui(xe,mn(Xe));return J(Mt)?wt:Mt}function ni(xe,Xe){for(var wt=(Xe=mn(Xe)).length,Mt=0;Mt<wt;Mt++){var Lt=Xe[Mt];if(!Tt(xe,Lt))return!1;xe=xe[Lt]}return!!wt}function Bi(xe){return xe}function Xn(xe){return xe=ut({},xe),function(Xe){return ae(Xe,xe)}}function wi(xe){return xe=mn(xe),function(Xe){return ui(Xe,xe)}}function pi(xe,Xe,wt){if(void 0===Xe)return xe;switch(wt??3){case 1:return function(Mt){return xe.call(Xe,Mt)};case 3:return function(Mt,Lt,bt){return xe.call(Xe,Mt,Lt,bt)};case 4:return function(Mt,Lt,bt,fn){return xe.call(Xe,Mt,Lt,bt,fn)}}return function(){return xe.apply(Xe,arguments)}}function Hi(xe,Xe,wt){return null==xe?Bi:Ve(xe)?pi(xe,Xe,wt):le(xe)&&!Ut(xe)?Xn(xe):wi(xe)}function ji(xe,Xe){return Hi(xe,Xe,1/0)}function Si(xe,Xe,wt){return $.iteratee!==ji?$.iteratee(xe,Xe):Hi(xe,Xe,wt)}function tt(xe,Xe,wt){Xe=Si(Xe,wt);for(var Mt=Ot(xe),Lt=Mt.length,bt={},fn=0;fn<Lt;fn++){var Jt=Mt[fn];bt[Jt]=Xe(xe[Jt],Jt,xe)}return bt}function Dt(){}function Ct(xe){return null==xe?Dt:function(Xe){return gi(xe,Xe)}}function rn(xe,Xe,wt){var Mt=Array(Math.max(0,xe));Xe=pi(Xe,wt,1);for(var Lt=0;Lt<xe;Lt++)Mt[Lt]=Xe(Lt);return Mt}function Qt(xe,Xe){return null==Xe&&(Xe=xe,xe=0),xe+Math.floor(Math.random()*(Xe-xe+1))}$.toPath=An,$.iteratee=ji;const In=Date.now||function(){return(new Date).getTime()};function St(xe){var Xe=function(bt){return xe[bt]},wt="(?:"+Ot(xe).join("|")+")",Mt=RegExp(wt),Lt=RegExp(wt,"g");return function(bt){return Mt.test(bt=null==bt?"":""+bt)?bt.replace(Lt,Xe):bt}}const yt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},Oe=St(yt),q=St(dn(yt)),he=$.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var Me=/(.)^/,Et={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Kt=/\\|'|\r|\n|\u2028|\u2029/g;function hn(xe){return"\\"+Et[xe]}var _n=/^\s*(\w|\$)+\s*$/;function Zn(xe,Xe,wt){!Xe&&wt&&(Xe=wt),Xe=Nt({},Xe,$.templateSettings);var Mt=RegExp([(Xe.escape||Me).source,(Xe.interpolate||Me).source,(Xe.evaluate||Me).source].join("|")+"|$","g"),Lt=0,bt="__p+='";xe.replace(Mt,function(Nn,Vn,Br,Ti,Is){return bt+=xe.slice(Lt,Is).replace(Kt,hn),Lt=Is+Nn.length,Vn?bt+="'+\n((__t=("+Vn+"))==null?'':_.escape(__t))+\n'":Br?bt+="'+\n((__t=("+Br+"))==null?'':__t)+\n'":Ti&&(bt+="';\n"+Ti+"\n__p+='"),Nn}),bt+="';\n";var Jt,fn=Xe.variable;if(fn){if(!_n.test(fn))throw new Error("variable is not a bare identifier: "+fn)}else bt="with(obj||{}){\n"+bt+"}\n",fn="obj";bt="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+bt+"return __p;\n";try{Jt=new Function(fn,"_",bt)}catch(Nn){throw Nn.source=bt,Nn}var Qn=function(Nn){return Jt.call(this,Nn,$)};return Qn.source="function("+fn+"){\n"+bt+"}",Qn}function _i(xe,Xe,wt){var Mt=(Xe=mn(Xe)).length;if(!Mt)return Ve(wt)?wt.call(xe):wt;for(var Lt=0;Lt<Mt;Lt++){var bt=xe?.[Xe[Lt]];void 0===bt&&(bt=wt,Lt=Mt),xe=Ve(bt)?bt.call(xe):bt}return xe}var fi=0;function di(xe){var Xe=++fi+"";return xe?xe+Xe:Xe}function Yi(xe){var Xe=$(xe);return Xe._chain=!0,Xe}function Ar(xe,Xe,wt,Mt,Lt){if(!(Mt instanceof Xe))return xe.apply(wt,Lt);var bt=zt(xe.prototype),fn=xe.apply(bt,Lt);return le(fn)?fn:bt}var Gn=ie(function(xe,Xe){var wt=Gn.placeholder,Mt=function(){for(var Lt=0,bt=Xe.length,fn=Array(bt),Jt=0;Jt<bt;Jt++)fn[Jt]=Xe[Jt]===wt?arguments[Lt++]:Xe[Jt];for(;Lt<arguments.length;)fn.push(arguments[Lt++]);return Ar(xe,Mt,this,this,fn)};return Mt});Gn.placeholder=$;const ri=Gn,cr=ie(function(xe,Xe,wt){if(!Ve(xe))throw new TypeError("Bind must be called on a function");var Mt=ie(function(Lt){return Ar(xe,Mt,Xe,this,wt.concat(Lt))});return Mt}),Mi=Ee(Wt);function xr(xe,Xe,wt,Mt){if(Mt=Mt||[],Xe||0===Xe){if(Xe<=0)return Mt.concat(xe)}else Xe=1/0;for(var Lt=Mt.length,bt=0,fn=Wt(xe);bt<fn;bt++){var Jt=xe[bt];if(Mi(Jt)&&(Ut(Jt)||X(Jt)))if(Xe>1)xr(Jt,Xe-1,wt,Mt),Lt=Mt.length;else for(var Qn=0,Nn=Jt.length;Qn<Nn;)Mt[Lt++]=Jt[Qn++];else wt||(Mt[Lt++]=Jt)}return Mt}const Gs=ie(function(xe,Xe){var wt=(Xe=xr(Xe,!1,!1)).length;if(wt<1)throw new Error("bindAll must be passed function names");for(;wt--;){var Mt=Xe[wt];xe[Mt]=cr(xe[Mt],xe)}return xe});function ms(xe,Xe){var wt=function(Mt){var Lt=wt.cache,bt=""+(Xe?Xe.apply(this,arguments):Mt);return Tt(Lt,bt)||(Lt[bt]=xe.apply(this,arguments)),Lt[bt]};return wt.cache={},wt}const ks=ie(function(xe,Xe,wt){return setTimeout(function(){return xe.apply(null,wt)},Xe)}),vi=ri(ks,$,1);function Bs(xe,Xe,wt){var Mt,Lt,bt,fn,Jt=0;wt||(wt={});var Qn=function(){Jt=!1===wt.leading?0:In(),Mt=null,fn=xe.apply(Lt,bt),Mt||(Lt=bt=null)},Nn=function(){var Vn=In();!Jt&&!1===wt.leading&&(Jt=Vn);var Br=Xe-(Vn-Jt);return Lt=this,bt=arguments,Br<=0||Br>Xe?(Mt&&(clearTimeout(Mt),Mt=null),Jt=Vn,fn=xe.apply(Lt,bt),Mt||(Lt=bt=null)):!Mt&&!1!==wt.trailing&&(Mt=setTimeout(Qn,Br)),fn};return Nn.cancel=function(){clearTimeout(Mt),Jt=0,Mt=Lt=bt=null},Nn}function gs(xe,Xe,wt){var Mt,Lt,bt,fn,Jt,Qn=function(){var Vn=In()-Lt;Xe>Vn?Mt=setTimeout(Qn,Xe-Vn):(Mt=null,wt||(fn=xe.apply(Jt,bt)),Mt||(bt=Jt=null))},Nn=ie(function(Vn){return Jt=this,bt=Vn,Lt=In(),Mt||(Mt=setTimeout(Qn,Xe),wt&&(fn=xe.apply(Jt,bt))),fn});return Nn.cancel=function(){clearTimeout(Mt),Mt=bt=Jt=null},Nn}function wr(xe,Xe){return ri(Xe,xe)}function Ns(xe){return function(){return!xe.apply(this,arguments)}}function gr(){var xe=arguments,Xe=xe.length-1;return function(){for(var wt=Xe,Mt=xe[Xe].apply(this,arguments);wt--;)Mt=xe[wt].call(this,Mt);return Mt}}function vr(xe,Xe){return function(){if(--xe<1)return Xe.apply(this,arguments)}}function Ni(xe,Xe){var wt;return function(){return--xe>0&&(wt=Xe.apply(this,arguments)),xe<=1&&(Xe=null),wt}}const Hs=ri(Ni,2);function ai(xe,Xe,wt){Xe=Si(Xe,wt);for(var Lt,Mt=Ot(xe),bt=0,fn=Mt.length;bt<fn;bt++)if(Xe(xe[Lt=Mt[bt]],Lt,xe))return Lt}function Yo(xe){return function(Xe,wt,Mt){wt=Si(wt,Mt);for(var Lt=Wt(Xe),bt=xe>0?0:Lt-1;bt>=0&&bt<Lt;bt+=xe)if(wt(Xe[bt],bt,Xe))return bt;return-1}}const $n=Yo(1),Jr=Yo(-1);function pr(xe,Xe,wt,Mt){for(var Lt=(wt=Si(wt,Mt,1))(Xe),bt=0,fn=Wt(xe);bt<fn;){var Jt=Math.floor((bt+fn)/2);wt(xe[Jt])<Lt?bt=Jt+1:fn=Jt}return bt}function Sr(xe,Xe,wt){return function(Mt,Lt,bt){var fn=0,Jt=Wt(Mt);if("number"==typeof bt)xe>0?fn=bt>=0?bt:Math.max(bt+Jt,fn):Jt=bt>=0?Math.min(bt+1,Jt):bt+Jt+1;else if(wt&&bt&&Jt)return Mt[bt=wt(Mt,Lt)]===Lt?bt:-1;if(Lt!=Lt)return(bt=Xe(d.call(Mt,fn,Jt),ee))>=0?bt+fn:-1;for(bt=xe>0?fn:Jt-1;bt>=0&&bt<Jt;bt+=xe)if(Mt[bt]===Lt)return bt;return-1}}const Er=Sr(1,$n,pr),kr=Sr(-1,Jr);function Lr(xe,Xe,wt){var Lt=(Mi(xe)?$n:ai)(xe,Xe,wt);if(void 0!==Lt&&-1!==Lt)return xe[Lt]}function er(xe,Xe){return Lr(xe,Xn(Xe))}function tr(xe,Xe,wt){var Mt,Lt;if(Xe=pi(Xe,wt),Mi(xe))for(Mt=0,Lt=xe.length;Mt<Lt;Mt++)Xe(xe[Mt],Mt,xe);else{var bt=Ot(xe);for(Mt=0,Lt=bt.length;Mt<Lt;Mt++)Xe(xe[bt[Mt]],bt[Mt],xe)}return xe}function Wn(xe,Xe,wt){Xe=Si(Xe,wt);for(var Mt=!Mi(xe)&&Ot(xe),Lt=(Mt||xe).length,bt=Array(Lt),fn=0;fn<Lt;fn++){var Jt=Mt?Mt[fn]:fn;bt[fn]=Xe(xe[Jt],Jt,xe)}return bt}function Gr(xe){return function(wt,Mt,Lt,bt){var fn=arguments.length>=3;return function(wt,Mt,Lt,bt){var fn=!Mi(wt)&&Ot(wt),Jt=(fn||wt).length,Qn=xe>0?0:Jt-1;for(bt||(Lt=wt[fn?fn[Qn]:Qn],Qn+=xe);Qn>=0&&Qn<Jt;Qn+=xe){var Nn=fn?fn[Qn]:Qn;Lt=Mt(Lt,wt[Nn],Nn,wt)}return Lt}(wt,pi(Mt,bt,4),Lt,fn)}}const ur=Gr(1),Nr=Gr(-1);function rs(xe,Xe,wt){var Mt=[];return Xe=Si(Xe,wt),tr(xe,function(Lt,bt,fn){Xe(Lt,bt,fn)&&Mt.push(Lt)}),Mt}function qs(xe,Xe,wt){return rs(xe,Ns(Si(Xe)),wt)}function go(xe,Xe,wt){Xe=Si(Xe,wt);for(var Mt=!Mi(xe)&&Ot(xe),Lt=(Mt||xe).length,bt=0;bt<Lt;bt++){var fn=Mt?Mt[bt]:bt;if(!Xe(xe[fn],fn,xe))return!1}return!0}function Ss(xe,Xe,wt){Xe=Si(Xe,wt);for(var Mt=!Mi(xe)&&Ot(xe),Lt=(Mt||xe).length,bt=0;bt<Lt;bt++){var fn=Mt?Mt[bt]:bt;if(Xe(xe[fn],fn,xe))return!0}return!1}function yr(xe,Xe,wt,Mt){return Mi(xe)||(xe=Tn(xe)),("number"!=typeof wt||Mt)&&(wt=0),Er(xe,Xe,wt)>=0}const ss=ie(function(xe,Xe,wt){var Mt,Lt;return Ve(Xe)?Lt=Xe:(Xe=mn(Xe),Mt=Xe.slice(0,-1),Xe=Xe[Xe.length-1]),Wn(xe,function(bt){var fn=Lt;if(!fn){if(Mt&&Mt.length&&(bt=ui(bt,Mt)),null==bt)return;fn=bt[Xe]}return null==fn?fn:fn.apply(bt,wt)})});function os(xe,Xe){return Wn(xe,wi(Xe))}function Ca(xe,Xe){return rs(xe,Xn(Xe))}function Qr(xe,Xe,wt){var bt,fn,Mt=-1/0,Lt=-1/0;if(null==Xe||"number"==typeof Xe&&"object"!=typeof xe[0]&&null!=xe)for(var Jt=0,Qn=(xe=Mi(xe)?xe:Tn(xe)).length;Jt<Qn;Jt++)null!=(bt=xe[Jt])&&bt>Mt&&(Mt=bt);else Xe=Si(Xe,wt),tr(xe,function(Nn,Vn,Br){((fn=Xe(Nn,Vn,Br))>Lt||fn===-1/0&&Mt===-1/0)&&(Mt=Nn,Lt=fn)});return Mt}function co(xe,Xe,wt){var bt,fn,Mt=1/0,Lt=1/0;if(null==Xe||"number"==typeof Xe&&"object"!=typeof xe[0]&&null!=xe)for(var Jt=0,Qn=(xe=Mi(xe)?xe:Tn(xe)).length;Jt<Qn;Jt++)null!=(bt=xe[Jt])&&bt<Mt&&(Mt=bt);else Xe=Si(Xe,wt),tr(xe,function(Nn,Vn,Br){((fn=Xe(Nn,Vn,Br))<Lt||fn===1/0&&Mt===1/0)&&(Mt=Nn,Lt=fn)});return Mt}var nr=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function Zr(xe){return xe?Ut(xe)?d.call(xe):z(xe)?xe.match(nr):Mi(xe)?Wn(xe,Bi):Tn(xe):[]}function Bo(xe,Xe,wt){if(null==Xe||wt)return Mi(xe)||(xe=Tn(xe)),xe[Qt(xe.length-1)];var Mt=Zr(xe),Lt=Wt(Mt);Xe=Math.max(Math.min(Xe,Lt),0);for(var bt=Lt-1,fn=0;fn<Xe;fn++){var Jt=Qt(fn,bt),Qn=Mt[fn];Mt[fn]=Mt[Jt],Mt[Jt]=Qn}return Mt.slice(0,Xe)}function Xo(xe){return Bo(xe,1/0)}function eo(xe,Xe,wt){var Mt=0;return Xe=Si(Xe,wt),os(Wn(xe,function(Lt,bt,fn){return{value:Lt,index:Mt++,criteria:Xe(Lt,bt,fn)}}).sort(function(Lt,bt){var fn=Lt.criteria,Jt=bt.criteria;if(fn!==Jt){if(fn>Jt||void 0===fn)return 1;if(fn<Jt||void 0===Jt)return-1}return Lt.index-bt.index}),"value")}function to(xe,Xe){return function(wt,Mt,Lt){var bt=Xe?[[],[]]:{};return Mt=Si(Mt,Lt),tr(wt,function(fn,Jt){var Qn=Mt(fn,Jt,wt);xe(bt,fn,Qn)}),bt}}const Ao=to(function(xe,Xe,wt){Tt(xe,wt)?xe[wt].push(Xe):xe[wt]=[Xe]}),Es=to(function(xe,Xe,wt){xe[wt]=Xe}),Or=to(function(xe,Xe,wt){Tt(xe,wt)?xe[wt]++:xe[wt]=1}),or=to(function(xe,Xe,wt){xe[wt?0:1].push(Xe)},!0);function Fr(xe){return null==xe?0:Mi(xe)?xe.length:Ot(xe).length}function as(xe,Xe,wt){return Xe in wt}const no=ie(function(xe,Xe){var wt={},Mt=Xe[0];if(null==xe)return wt;Ve(Mt)?(Xe.length>1&&(Mt=pi(Mt,Xe[1])),Xe=an(xe)):(Mt=as,Xe=xr(Xe,!1,!1),xe=Object(xe));for(var Lt=0,bt=Xe.length;Lt<bt;Lt++){var fn=Xe[Lt],Jt=xe[fn];Mt(Jt,fn,xe)&&(wt[fn]=Jt)}return wt}),wa=ie(function(xe,Xe){var Mt,wt=Xe[0];return Ve(wt)?(wt=Ns(wt),Xe.length>1&&(Mt=Xe[1])):(Xe=Wn(xr(Xe,!1,!1),String),wt=function(Lt,bt){return!yr(Xe,bt)}),no(xe,wt,Mt)});function Ts(xe,Xe,wt){return d.call(xe,0,Math.max(0,xe.length-(null==Xe||wt?1:Xe)))}function si(xe,Xe,wt){return null==xe||xe.length<1?null==Xe||wt?void 0:[]:null==Xe||wt?xe[0]:Ts(xe,xe.length-Xe)}function Hr(xe,Xe,wt){return d.call(xe,null==Xe||wt?1:Xe)}function Ls(xe,Xe,wt){return null==xe||xe.length<1?null==Xe||wt?void 0:[]:null==Xe||wt?xe[xe.length-1]:Hr(xe,Math.max(0,xe.length-Xe))}function mr(xe){return rs(xe,Boolean)}function Us(xe,Xe){return xr(xe,Xe,!1)}const Pr=ie(function(xe,Xe){return Xe=xr(Xe,!0,!0),rs(xe,function(wt){return!yr(Xe,wt)})}),Ur=ie(function(xe,Xe){return Pr(xe,Xe)});function Wr(xe,Xe,wt,Mt){te(Xe)||(Mt=wt,wt=Xe,Xe=!1),null!=wt&&(wt=Si(wt,Mt));for(var Lt=[],bt=[],fn=0,Jt=Wt(xe);fn<Jt;fn++){var Qn=xe[fn],Nn=wt?wt(Qn,fn,xe):Qn;Xe&&!wt?((!fn||bt!==Nn)&&Lt.push(Qn),bt=Nn):wt?yr(bt,Nn)||(bt.push(Nn),Lt.push(Qn)):yr(Lt,Qn)||Lt.push(Qn)}return Lt}const gn=ie(function(xe){return Wr(xr(xe,!0,!0))});function vs(xe){for(var Xe=[],wt=arguments.length,Mt=0,Lt=Wt(xe);Mt<Lt;Mt++){var bt=xe[Mt];if(!yr(Xe,bt)){var fn;for(fn=1;fn<wt&&yr(arguments[fn],bt);fn++);fn===wt&&Xe.push(bt)}}return Xe}function Fe(xe){for(var Xe=xe&&Qr(xe,Wt).length||0,wt=Array(Xe),Mt=0;Mt<Xe;Mt++)wt[Mt]=os(xe,Mt);return wt}const Ge=ie(Fe);function ge(xe,Xe){for(var wt={},Mt=0,Lt=Wt(xe);Mt<Lt;Mt++)Xe?wt[xe[Mt]]=Xe[Mt]:wt[xe[Mt][0]]=xe[Mt][1];return wt}function et(xe,Xe,wt){null==Xe&&(Xe=xe||0,xe=0),wt||(wt=Xe<xe?-1:1);for(var Mt=Math.max(Math.ceil((Xe-xe)/wt),0),Lt=Array(Mt),bt=0;bt<Mt;bt++,xe+=wt)Lt[bt]=xe;return Lt}function Bt(xe,Xe){if(null==Xe||Xe<1)return[];for(var wt=[],Mt=0,Lt=xe.length;Mt<Lt;)wt.push(d.call(xe,Mt,Mt+=Xe));return wt}function Kn(xe,Xe){return xe._chain?$(Xe).chain():Xe}function Ei(xe){return tr(li(xe),function(Xe){var wt=$[Xe]=xe[Xe];$.prototype[Xe]=function(){var Mt=[this._wrapped];return f.apply(Mt,arguments),Kn(this,wt.apply($,Mt))}}),$}tr(["pop","push","reverse","shift","sort","splice","unshift"],function(xe){var Xe=g[xe];$.prototype[xe]=function(){var wt=this._wrapped;return null!=wt&&(Xe.apply(wt,arguments),("shift"===xe||"splice"===xe)&&0===wt.length&&delete wt[0]),Kn(this,wt)}}),tr(["concat","join","slice"],function(xe){var Xe=g[xe];$.prototype[xe]=function(){var wt=this._wrapped;return null!=wt&&(wt=Xe.apply(wt,arguments)),Kn(this,wt)}});const ls=$;var ys=Ei(n);ys._=ys},467:(qe,me,u)=>{"use strict";function n(_,g,S,v,f,d,E){try{var m=_[d](E),F=m.value}catch(w){return void S(w)}m.done?g(F):Promise.resolve(F).then(v,f)}function e(_){return function(){var g=this,S=arguments;return new Promise(function(v,f){var d=_.apply(g,S);function E(F){n(d,v,f,E,m,"next",F)}function m(F){n(d,v,f,E,m,"throw",F)}E(void 0)})}}u.d(me,{A:()=>e})},1635:(qe,me,u)=>{"use strict";function S(we,de,Ve,Ae){var ht,rt=arguments.length,Be=rt<3?de:null===Ae?Ae=Object.getOwnPropertyDescriptor(de,Ve):Ae;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Be=Reflect.decorate(we,de,Ve,Ae);else for(var Ye=we.length-1;Ye>=0;Ye--)(ht=we[Ye])&&(Be=(rt<3?ht(Be):rt>3?ht(de,Ve,Be):ht(de,Ve))||Be);return rt>3&&Be&&Object.defineProperty(de,Ve,Be),Be}function F(we,de){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(we,de)}function w(we,de,Ve,Ae){return new(Ve||(Ve=Promise))(function(Be,ht){function Ye(Tt){try{Ut(Ae.next(Tt))}catch(_t){ht(_t)}}function Yt(Tt){try{Ut(Ae.throw(Tt))}catch(_t){ht(_t)}}function Ut(Tt){Tt.done?Be(Tt.value):function rt(Be){return Be instanceof Ve?Be:new Ve(function(ht){ht(Be)})}(Tt.value).then(Ye,Yt)}Ut((Ae=Ae.apply(we,de||[])).next())})}function G(we){return this instanceof G?(this.v=we,this):new G(we)}function ie(we,de,Ve){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var rt,Ae=Ve.apply(we,de||[]),Be=[];return rt={},ht("next"),ht("throw"),ht("return"),rt[Symbol.asyncIterator]=function(){return this},rt;function ht(X){Ae[X]&&(rt[X]=function(Y){return new Promise(function(ee,Se){Be.push([X,Y,ee,Se])>1||Ye(X,Y)})})}function Ye(X,Y){try{!function Yt(X){X.value instanceof G?Promise.resolve(X.value.v).then(Ut,Tt):_t(Be[0][2],X)}(Ae[X](Y))}catch(ee){_t(Be[0][3],ee)}}function Ut(X){Ye("next",X)}function Tt(X){Ye("throw",X)}function _t(X,Y){X(Y),Be.shift(),Be.length&&Ye(Be[0][0],Be[0][1])}}function L(we){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ve,de=we[Symbol.asyncIterator];return de?de.call(we):(we=function O(we){var de="function"==typeof Symbol&&Symbol.iterator,Ve=de&&we[de],Ae=0;if(Ve)return Ve.call(we);if(we&&"number"==typeof we.length)return{next:function(){return we&&Ae>=we.length&&(we=void 0),{value:we&&we[Ae++],done:!we}}};throw new TypeError(de?"Object is not iterable.":"Symbol.iterator is not defined.")}(we),Ve={},Ae("next"),Ae("throw"),Ae("return"),Ve[Symbol.asyncIterator]=function(){return this},Ve);function Ae(Be){Ve[Be]=we[Be]&&function(ht){return new Promise(function(Ye,Yt){!function rt(Be,ht,Ye,Yt){Promise.resolve(Yt).then(function(Ut){Be({value:Ut,done:Ye})},ht)}(Ye,Yt,(ht=we[Be](ht)).done,ht.value)})}}}u.d(me,{AQ:()=>ie,Cg:()=>S,N3:()=>G,Sn:()=>F,sH:()=>w,xN:()=>L}),"function"==typeof SuppressedError&&SuppressedError}},qe=>{qe(qe.s=3983)}]);