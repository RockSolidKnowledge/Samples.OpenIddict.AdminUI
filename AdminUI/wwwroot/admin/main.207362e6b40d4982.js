(self.webpackChunkadmin_ui_openiddict=self.webpackChunkadmin_ui_openiddict||[]).push([[792],{9838:(nt,fe,h)=>{"use strict";h.d(fe,{$9:()=>p,S9:()=>y,Vk:()=>e});var n=h(4438);let e=(()=>{class w{constructor(){this.Server="http://localhost:5000/"}static{this.\u0275fac=function(u){return new(u||w)}}static{this.\u0275prov=n.jDH({token:w,factory:w.\u0275fac})}}return w})();class y{constructor(){this.SharedSecret="Shared Secret",this.X509CertificateThumbprint="X509 Thumbprint",this.X509CertificateName="X509 Name",this.X509CertificateBase64="X509 Certificate Base64"}}let p=(()=>{class w{static get SITE_TITLE(){return"AdminUI"}static{this.checkHealthIdentityServerDocs="documentation/Troubleshooting/Unable_to_contact_IdentityServer.html"}static{this.loginRedirectLoopDocs="documentation/Troubleshooting/Login_redirect_loop.html"}static{this.sameSiteDocs="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie/SameSite"}static{this.defaultEmbeddedUserName="info@rocksolidknowledge.com"}}return w})()},3730:(nt,fe,h)=>{"use strict";h.r(fe),h.d(fe,{ClaimTypesModule:()=>Yt});var n=h(177),e=h(1583),y=h(9417),p=h(1780),w=h(779),C=h(534),m=h(8400),u=h(7005),f=h(9838),T=h(9957),O=h(7263),F=h(6303),b=h(4438),M=h(5794),k=h(526),N=h(345),G=h(7499),R=h(5424),j=h(7883),U=h(6728),$=h(3680),ie=h(6406),se=h(8698),L=h(9550),J=h(8762),q=h(7778),S=h(2292);function re(Xe,Zt){if(1&Xe){const ut=b.RV6();b.j41(0,"div",4)(1,"div",5)(2,"input",6),b.mxI("ngModelChange",function(Ie){b.eBV(ut);const ye=b.XpG();return b.DH7(ye.newEnumValue,Ie)||(ye.newEnumValue=Ie),b.Njj(Ie)}),b.k0s(),b.j41(3,"button",7),b.bIt("click",function(){b.eBV(ut);const Ie=b.XpG();return b.Njj(Ie.onAdd())}),b.nrm(4,"span",8),b.j41(5,"span",9),b.EFF(6),b.nI1(7,"translate"),b.k0s()()()()}if(2&Xe){const ut=b.XpG();b.R7$(2),b.FS9("id",ut.id+"-newValue-input"),b.R50("ngModel",ut.newEnumValue),b.R7$(),b.FS9("id",ut.id+"-newValue-button"),b.Y8G("disabled",ut.addDisabled),b.R7$(3),b.JRh(b.bMT(7,5,"Common.Add"))}}function K(Xe,Zt){if(1&Xe){const ut=b.RV6();b.j41(0,"app-pill-list",10),b.bIt("onDelete",function(Ie){b.eBV(ut);const ye=b.XpG();return b.Njj(ye.onDelete(Ie))}),b.k0s()}if(2&Xe){const ut=b.XpG();b.Y8G("readonly",ut.reserved)("id",ut.id)("values",ut.value)}}function me(Xe,Zt){if(1&Xe&&(b.j41(0,"span",11),b.EFF(1),b.nI1(2,"translate"),b.nI1(3,"number"),b.k0s()),2&Xe){const ut=b.XpG();b.R7$(),b.Lme("",b.bMT(2,2,"ClaimTypes.TooManyAllowedValues")," (",b.bMT(3,4,ut.value.length),")")}}let Ne=(()=>{class Xe{constructor(){this.id=(0,O.Nl)(),this.value=[],this.required=!1,this.disabled=!1,this.reserved=!1,this.newEnumValue="",this.onChange=ut=>{},this.onTouched=()=>{}}writeValue(ut){this.value=ut}registerOnChange(ut){this.onChange=ut}registerOnTouched(ut){this.onTouched=ut}setDisabledState(ut){this.disabled=ut}validate(ut){return!this.required||this.value?.length?null:{required:{valid:!1}}}get addDisabled(){return this.isNullOrEmpty(this.newEnumValue)||this.value.includes(this.newEnumValue)}onAdd(){this.newEnumValue&&(this.value.push(this.newEnumValue),this.onChange(this.value),this.newEnumValue="")}onDelete(ut){this.value.splice(ut,1),this.onChange(this.value)}isNullOrEmpty(ut){return!ut||null!==ut.match(/^ *$/)}static{this.\u0275fac=function(_e){return new(_e||Xe)}}static{this.\u0275cmp=b.VBU({type:Xe,selectors:[["app-edit-enum-claim-type"]],inputs:{id:"id",value:"value",required:"required",disabled:"disabled",reserved:"reserved"},features:[b.Jv_([{provide:y.kq,useExisting:(0,b.Rfq)(()=>Xe),multi:!0},{provide:y.cz,useExisting:(0,b.Rfq)(()=>Xe),multi:!0}])],decls:4,vars:3,consts:[["class","tw-form-row",4,"ngIf"],[1,"tw-pill-list"],[3,"readonly","id","values","onDelete",4,"ngIf"],["id","too-many-values",4,"ngIf"],[1,"tw-form-row"],[1,"tw-flex","tw-w-full","lg:tw-max-w-2xl"],["type","text",1,"tw-form-control","tw-rounded-r-none","tw-border-r-0",3,"ngModelChange","id","ngModel"],[1,"tw-btn","tw-rounded-l-none",3,"click","id","disabled"],["aria-hidden","true",1,"far","fa-plus"],[1,"sr-only"],[3,"onDelete","readonly","id","values"],["id","too-many-values"]],template:function(_e,Ie){1&_e&&(b.DNE(0,re,8,7,"div",0),b.j41(1,"div",1),b.DNE(2,K,1,3,"app-pill-list",2)(3,me,4,6,"span",3),b.k0s()),2&_e&&(b.Y8G("ngIf",!Ie.reserved),b.R7$(2),b.Y8G("ngIf",Ie.value.length<=50||!Ie.reserved),b.R7$(),b.Y8G("ngIf",Ie.value.length>50&&Ie.reserved))},dependencies:[n.bT,y.me,y.BC,y.vS,S.L,n.QX,p.D9],encapsulation:2})}}return Xe})();var De=h(4692);const xe=(Xe,Zt)=>({title:Xe,link:Zt}),Qe=Xe=>[Xe];function Se(Xe,Zt){if(1&Xe){const ut=b.RV6();b.j41(0,"select",23),b.bIt("change",function(){b.eBV(ut);const Ie=b.XpG(2);return b.Njj(Ie.onValueTypeChanged())}),b.j41(1,"option",24),b.EFF(2),b.nI1(3,"translate"),b.k0s(),b.j41(4,"option",25),b.EFF(5),b.nI1(6,"translate"),b.k0s(),b.j41(7,"option",26),b.EFF(8),b.nI1(9,"translate"),b.k0s(),b.j41(10,"option",27),b.EFF(11),b.nI1(12,"translate"),b.k0s(),b.j41(13,"option",28),b.EFF(14),b.nI1(15,"translate"),b.k0s()()}if(2&Xe){const ut=b.XpG(2);b.R7$(),b.Y8G("selected","String"==ut.claimType.valueType),b.R7$(),b.JRh(b.bMT(3,9,"Common.Types.String")),b.R7$(2),b.Y8G("selected","Int"==ut.claimType.valueType),b.R7$(),b.JRh(b.bMT(6,11,"Common.Types.Int")),b.R7$(2),b.Y8G("selected","DateTime"==ut.claimType.valueType),b.R7$(),b.JRh(b.bMT(9,13,"Common.Types.DateTime")),b.R7$(2),b.Y8G("selected","Boolean"==ut.claimType.valueType),b.R7$(),b.JRh(b.bMT(12,15,"Common.Types.Boolean")),b.R7$(3),b.JRh(b.bMT(15,17,"Common.Types.Enum"))}}function be(Xe,Zt){if(1&Xe&&(b.nrm(0,"app-readonly",10),b.nI1(1,"readOnlyValue")),2&Xe){const ut=b.XpG(2);b.Y8G("fieldType",ut.ReadOnlyFieldType.Single)("values",b.eq3(4,Qe,b.bMT(1,2,ut.claimType.valueType)))}}function le(Xe,Zt){if(1&Xe&&(b.j41(0,"app-form-row",29),b.nrm(1,"app-edit-enum-claim-type",30),b.k0s()),2&Xe){const ut=b.XpG(2);b.Y8G("label","Claims.AllowedValues"),b.R7$(),b.Y8G("reserved",ut.claimType.reserved)("required","Enum"===ut.claimTypeForm.get("valueType").value)}}function Fe(Xe,Zt){1&Xe&&b.nrm(0,"textarea",31)}function Te(Xe,Zt){if(1&Xe&&(b.nrm(0,"app-readonly",10),b.nI1(1,"readOnlyValue")),2&Xe){const ut=b.XpG(2);b.Y8G("fieldType",ut.ReadOnlyFieldType.Single)("values",b.eq3(4,Qe,b.bMT(1,2,ut.claimType.description)))}}function st(Xe,Zt){1&Xe&&(b.j41(0,"app-form-row",12),b.nrm(1,"input",32),b.k0s()),2&Xe&&b.Y8G("id","rule")("label","Claims.RegexRule")}function Oe(Xe,Zt){1&Xe&&(b.j41(0,"app-form-row",12),b.nrm(1,"input",33),b.k0s()),2&Xe&&b.Y8G("id","ruleValidation")("label","Claims.RuleValidationFailureDescription")}function pt(Xe,Zt){if(1&Xe&&(b.j41(0,"div",7)(1,"form",8)(2,"app-form-row",9),b.nrm(3,"app-readonly",10),b.nI1(4,"readOnlyValue"),b.k0s(),b.j41(5,"app-form-row",9),b.nrm(6,"input",11),b.k0s(),b.j41(7,"app-form-row",12)(8,"div",13),b.DNE(9,Se,16,19,"select",14)(10,be,2,6,"app-readonly",15),b.k0s()(),b.DNE(11,le,2,3,"app-form-row",16),b.j41(12,"app-form-row",12),b.DNE(13,Fe,1,0,"textarea",17)(14,Te,2,6,"app-readonly",15),b.k0s(),b.DNE(15,st,2,2,"app-form-row",18)(16,Oe,2,2,"app-form-row",18),b.j41(17,"app-form-row",9)(18,"app-form-toggle",19),b.nrm(19,"input",20),b.k0s()(),b.j41(20,"app-form-row",21)(21,"app-form-toggle",19),b.nrm(22,"input",22),b.k0s()()()()),2&Xe){const ut=b.XpG();b.R7$(),b.Y8G("formGroup",ut.claimTypeForm),b.R7$(),b.Y8G("id","name")("label","Common.Name")("help","ClaimTypes.NameHelp"),b.R7$(),b.Y8G("fieldType",ut.ReadOnlyFieldType.Single)("values",b.eq3(31,Qe,b.bMT(4,29,ut.claimType.name))),b.R7$(2),b.Y8G("id","displayName")("label","Common.DisplayName")("help","ClaimTypes.DisplayNameHelp"),b.R7$(2),b.Y8G("id","type")("label","Common.Type"),b.R7$(2),b.Y8G("ngIf",!ut.claimType.reserved),b.R7$(),b.Y8G("ngIf",ut.claimType.reserved),b.R7$(),b.Y8G("ngIf","Enum"===ut.claimTypeForm.get("valueType").value),b.R7$(),b.Y8G("id","description")("label","Common.Description"),b.R7$(),b.Y8G("ngIf",!ut.claimType.reserved),b.R7$(),b.Y8G("ngIf",ut.claimType.reserved),b.R7$(),b.Y8G("ngIf","String"===ut.claimTypeForm.get("valueType").value),b.R7$(),b.Y8G("ngIf","String"===ut.claimTypeForm.get("valueType").value),b.R7$(),b.Y8G("id","required")("label","Claims.Required")("help","Claims.FutureUsers"),b.R7$(),b.Y8G("id","required"),b.R7$(2),b.Y8G("id","userEditable")("label","Common.UserEditable")("help","Claims.UserEditable")("isLast",!0),b.R7$(),b.Y8G("id","userEditable")}}let Ye=(()=>{class Xe{get ReadOnlyFieldType(){return F.t}constructor(ut,_e,Ie,ye,ft,ze,Tt,vt,Xt,Vn,ri){this.router=ut,this.translate=_e,this.toastr=Ie,this.fb=ye,this.claimTypeService=ft,this.titleService=ze,this.dialogService=Tt,this.localize=vt,this.errorService=Xt,this.securityService=Vn,this.cdr=ri,this.claimType=null}ngOnInit(){this.claimTypeSubscription=this.claimTypeService.getCachedClaimType().subscribe({next:ut=>{this.claimType=ut,this.titleService.setTitle(this.translate.instant("Claims.Title")+" "+this.claimType.name+` - ${f.$9.SITE_TITLE}`),this.buildForm(),this.initialData=JSON.stringify(ut)},error:ut=>{this.errorService.handleError(ut)}})}ngOnDestroy(){this.claimTypeSubscription.unsubscribe()}canDeactivate(){return!this.claimTypeForm.dirty||(this.dialogService.confirm(),this.dialogService.eventStream)}buildForm(){this.claimTypeForm=this.fb.group({id:[this.claimType.id],name:[this.claimType.name,y.k0.required],displayName:[this.claimType.displayName],description:[{value:this.claimType.description,disabled:this.claimType.reserved},[y.k0.maxLength(1e3)]],required:[{value:this.claimType.required,disabled:"sub"===this.claimType.name||"role"===this.claimType.name},y.k0.required],valueType:[{value:this.claimType.valueType,disabled:this.claimType.reserved},y.k0.required],rule:[{value:this.claimType.rule,disabled:this.claimType.reserved}],ruleValidationFailureDescription:[{value:this.claimType.ruleValidationFailureDescription,disabled:this.claimType.reserved}],userEditable:[this.claimType.userEditable,y.k0.required],allowedValues:[this.claimType.allowedValues||[]]})}submit(){const ut=this.claimTypeForm.getRawValue();"String"!==this.claimTypeForm.get("valueType").value&&(ut.rule=void 0,ut.ruleValidationFailureDescription=void 0),this.claimTypeService.updateClaimType(ut).subscribe({next:_e=>{this.toastr.success(this.translate.instant("Notifications.Saving Success Message"),this.translate.instant("Common.Saved")),this.initialData=JSON.stringify(ut),this.claimTypeForm.markAsPristine(),this.claimTypeForm.markAsUntouched()},error:_e=>{(this.errorService.handleError(_e)&T.I.Toast)!==T.I.Toast&&this.toastr.error(this.translate.instant("Notifications.SomethingWrong"),this.translate.instant("Notifications.Error"))}})}delete(){this.claimTypeService.deleteClaimType(this.claimType).subscribe({next:ut=>{this.toastr.success(this.claimType.name+" "+this.translate.instant("Common.Delete.Deleted"),this.translate.instant("Common.Removed"));const _e=this.localize.translateRoute("/claim-types");this.router.navigate([_e])},error:ut=>{(this.errorService.handleError(ut)&T.I.Toast)!==T.I.Toast&&this.toastr.error(this.translate.instant("Notifications.SomethingWrong"),this.translate.instant("Notifications.Error"))}})}onValueTypeChanged(){const ut=this.claimTypeForm.get("allowedValues");"Enum"!==this.claimTypeForm.get("valueType").value?(ut?.disable(),this.cdr.detectChanges()):(ut?.setValue(this.claimType.allowedValues||[]),ut?.enable(),this.cdr.detectChanges())}get isIdentityServerManager(){return(0,O.jk)(this.securityService.userPermissions)}static{this.\u0275fac=function(_e){return new(_e||Xe)(b.rXU(e.Ix),b.rXU(p.c$),b.rXU(M.tw),b.rXU(y.ze),b.rXU(k.X),b.rXU(N.hE),b.rXU(G.o),b.rXU(u.QG),b.rXU(R.I),b.rXU(j.i),b.rXU(b.gRc))}}static{this.\u0275cmp=b.VBU({type:Xe,selectors:[["ng-component"]],decls:15,vars:22,consts:[["deleteClaimTypeModal",""],[3,"title","crumbs"],["id","editClaimType","class","tw-container tw-mx-auto",4,"ngIf"],["id","submitBtn",1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"click","disabled"],["right",""],["id","deleteBtn","type","button","data-toggle","modal",1,"tw-btn-danger","tw-mb-3",3,"click","disabled"],[3,"delete","modalId","resourceName"],["id","editClaimType",1,"tw-container","tw-mx-auto"],[3,"formGroup"],[3,"id","label","help"],[3,"fieldType","values"],["type","text","formControlName","displayName","name","displayName","id","displayName",1,"tw-form-control"],[3,"id","label"],[1,"tw-form-select"],["formControlName","valueType","class","tw-form-control","id","type",3,"change",4,"ngIf"],[3,"fieldType","values",4,"ngIf"],[3,"label",4,"ngIf"],["class","tw-form-control","formControlName","description","name","description","id","description",4,"ngIf"],[3,"id","label",4,"ngIf"],[3,"id"],["id","required","type","checkbox","name","required","formControlName","required","value","true",1,"tw-form-switch__input"],[3,"id","label","help","isLast"],["id","userEditable","type","checkbox","name","userEditable","formControlName","userEditable","value","true",1,"tw-form-switch__input"],["formControlName","valueType","id","type",1,"tw-form-control",3,"change"],["value","String",3,"selected"],["value","Int",3,"selected"],["value","DateTime",3,"selected"],["value","Boolean",3,"selected"],["value","Enum"],[3,"label"],["id","allowedValues","formControlName","allowedValues",3,"reserved","required"],["formControlName","description","name","description","id","description",1,"tw-form-control"],["type","text","formControlName","rule","name","rule","id","rule",1,"tw-form-control"],["type","text","formControlName","ruleValidationFailureDescription","name","rule","id","ruleValidation",1,"tw-form-control"]],template:function(_e,Ie){if(1&_e){const ye=b.RV6();b.nrm(0,"app-title-bar",1),b.nI1(1,"translate"),b.nI1(2,"localize"),b.DNE(3,pt,23,33,"div",2),b.j41(4,"app-button-bar")(5,"button",3),b.bIt("click",function(){return b.eBV(ye),b.Njj(Ie.submit())}),b.EFF(6),b.nI1(7,"translate"),b.k0s(),b.qex(8,4),b.j41(9,"button",5),b.bIt("click",function(){b.eBV(ye);const ze=b.sdS(13);return b.Njj(ze.show())}),b.EFF(10),b.nI1(11,"translate"),b.k0s(),b.bVm(),b.k0s(),b.j41(12,"app-delete-confirmation-modal",6,0),b.bIt("delete",function(){return b.eBV(ye),b.Njj(Ie.delete())}),b.k0s(),b.nrm(14,"app-can-deactivate")}2&_e&&(b.Y8G("title",Ie.claimType.name)("crumbs",b.eq3(20,Qe,b.l_i(17,xe,b.bMT(1,9,"Nav.ClaimTypes"),b.bMT(2,11,"/claim-types")))),b.R7$(3),b.Y8G("ngIf",Ie.claimType),b.R7$(2),b.Y8G("disabled",!(Ie.claimTypeForm.dirty&&Ie.claimTypeForm.valid)),b.R7$(),b.SpI(" ",b.bMT(7,13,"Common.Save")," "),b.R7$(3),b.Y8G("disabled",Ie.claimType.reserved||!Ie.isIdentityServerManager),b.R7$(),b.SpI(" ",b.bMT(11,15,"Common.Delete.Title")," "),b.R7$(2),b.Y8G("modalId","deleteClaimTypeModal")("resourceName",Ie.claimType.name))},dependencies:[n.bT,y.qT,y.xH,y.y7,y.me,y.Zm,y.wz,y.BC,y.cb,y.YS,y.j4,y.JD,U.E,$.z,ie.z,se.Y,L.m,J.O,q.w,Ne,p.D9,u.tl,De.u],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return Xe})();var qt=h(1413),jt=h(152),Dt=h(3294),wt=h(6354),z=h(1716),Y=h(9172),Z=h(1397),Ce=h(7156),we=h(7294),at=h(2510),Be=h(7384);class ot{}const mt=["addClaimTypeModal"],it=()=>({animated:!1,backdrop:"static"});function Kt(Xe,Zt){if(1&Xe&&(b.j41(0,"app-form-row",37),b.nrm(1,"app-edit-enum-claim-type",38),b.k0s()),2&Xe){const ut=b.XpG();b.Y8G("label","Claims.AllowedValues"),b.R7$(),b.Y8G("required","Enum"===ut.addClaimTypeForm.get("valueType").value)}}function sn(Xe,Zt){1&Xe&&(b.j41(0,"app-form-row",14),b.nrm(1,"input",39),b.k0s()),2&Xe&&b.Y8G("id","rules")("label","Claims.RegexRule")}function Ft(Xe,Zt){1&Xe&&(b.j41(0,"app-form-row",14),b.nrm(1,"input",40),b.k0s()),2&Xe&&b.Y8G("id","ruleValidationFailureDescription")("label","Claims.RuleValidationFailureDescription")}let Jt=(()=>{class Xe{constructor(ut,_e,Ie,ye,ft,ze){this.cdr=ut,this.claimTypeService=_e,this.errorService=Ie,this.translate=ye,this.fb=ft,this.toastr=ze,this.onSubmitted=new b.bkB,this.descFocus=!1}keydown(ut){"Enter"===ut.key&&this.addClaimTypeForm.valid&&!this.descFocus&&this.addClaimType()}ngOnInit(){this.buildForm()}buildForm(){this.addClaimTypeForm=this.fb.group({valueType:["String",y.k0.required],name:["",y.k0.required],displayName:[""],description:["",y.k0.maxLength(1e3)],rule:[""],ruleValidationFailureDescription:[""],required:[!1,y.k0.required],userEditable:[!1,y.k0.required],allowedValues:[[]]})}addAnotherClaimType(){this.addAnother=!0,this.addClaimType()}addClaimType(){let ut=new ot;ut=this.addClaimTypeForm.value,"String"!==this.addClaimTypeForm.get("valueType").value&&(ut.rule=void 0,ut.ruleValidationFailureDescription=void 0),this.claimTypeService.addClaimType(ut).subscribe({next:_e=>{this.buildForm(),this.toastr.success(this.translate.instant("Claims.Title")+" "+ut.name+" "+this.translate.instant("Common.Created"),this.translate.instant("Common.Added")),this.onSubmitted.emit(!0),this.addAnother||this.hide(),this.addAnother=!1},error:_e=>{(this.errorService.handleError(_e)&T.I.Toast)!==T.I.Toast&&this.toastr.error(this.translate.instant("Notifications.SomethingWrong"),this.translate.instant("Notifications.Error"))}})}hide(){this.addClaimTypeModal.hide()}show(){this.addClaimTypeModal.show()}ngOnDestroy(){this.hide()}onValueTypeChanged(){const ut=this.addClaimTypeForm.get("allowedValues");"Enum"!==this.addClaimTypeForm.get("valueType").value?(ut?.disable(),this.cdr.detectChanges()):(ut?.setValue([]),ut?.enable(),this.cdr.detectChanges())}static{this.\u0275fac=function(_e){return new(_e||Xe)(b.rXU(b.gRc),b.rXU(k.X),b.rXU(R.I),b.rXU(p.c$),b.rXU(y.ze),b.rXU(M.tw))}}static{this.\u0275cmp=b.VBU({type:Xe,selectors:[["app-add-claimtype"]],viewQuery:function(_e,Ie){if(1&_e&&b.GBs(mt,7),2&_e){let ye;b.mGM(ye=b.lsd())&&(Ie.addClaimTypeModal=ye.first)}},hostBindings:function(_e,Ie){1&_e&&b.bIt("keydown",function(ft){return Ie.keydown(ft)},!1,b.EBC)},outputs:{onSubmitted:"onSubmitted"},decls:62,vars:57,consts:[["addClaimTypeModal","bs-modal"],["bsModal","","id","addClaimTypeModal","tabindex","-1","role","dialog","aria-hidden","true",1,"modal",3,"config"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","scrollbars"],[3,"formGroup"],[3,"id","label","help"],["id","name","type","text","formControlName","name","name","name",1,"tw-form-control"],["id","displayName","type","text","formControlName","displayName","name","displayName",1,"tw-form-control"],[3,"id","label"],[1,"tw-form-select"],["formControlName","valueType","id","type",1,"tw-form-control",3,"change"],["value","String"],["value","Int"],["value","DateTime"],["value","Boolean"],["value","Enum"],[3,"label",4,"ngIf"],["id","description","formControlName","description","name","description",1,"tw-form-control",3,"focus","blur"],[3,"id","label",4,"ngIf"],[3,"id"],["id","required","type","checkbox","name","required","formControlName","required","value","true",1,"tw-form-switch__input"],[3,"id","label","help","isLast"],["id","userEditable","type","checkbox","name","userEditable","formControlName","userEditable","value","true",1,"tw-form-switch__input"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","addButton",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],[1,"tw-hidden","xs:tw-inline"],["id","addAnotherButton",1,"tw-btn",3,"click","disabled"],[1,"tw-btn-link","tw--mr-4",3,"click"],[3,"label"],["id","allowedValues","formControlName","allowedValues",3,"required"],["id","rules","formControlName","rule","type","text","name","rule",1,"tw-form-control"],["id","ruleValidationFailureDescription","formControlName","ruleValidationFailureDescription","type","text","name","ruleValidationFailureDescription",1,"tw-form-control"]],template:function(_e,Ie){if(1&_e){const ye=b.RV6();b.j41(0,"div",1,0)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),b.EFF(6),b.nI1(7,"translate"),b.k0s(),b.j41(8,"button",6),b.bIt("click",function(){return b.eBV(ye),b.Njj(Ie.hide())}),b.nrm(9,"span",7),b.j41(10,"span",8),b.EFF(11),b.nI1(12,"translate"),b.k0s()()(),b.j41(13,"div",9)(14,"form",10)(15,"app-form-row",11),b.nrm(16,"input",12),b.k0s(),b.j41(17,"app-form-row",11),b.nrm(18,"input",13),b.k0s(),b.j41(19,"app-form-row",14)(20,"div",15)(21,"select",16),b.bIt("change",function(){return b.eBV(ye),b.Njj(Ie.onValueTypeChanged())}),b.j41(22,"option",17),b.EFF(23),b.nI1(24,"translate"),b.k0s(),b.j41(25,"option",18),b.EFF(26),b.nI1(27,"translate"),b.k0s(),b.j41(28,"option",19),b.EFF(29),b.nI1(30,"translate"),b.k0s(),b.j41(31,"option",20),b.EFF(32),b.nI1(33,"translate"),b.k0s(),b.j41(34,"option",21),b.EFF(35),b.nI1(36,"translate"),b.k0s()()()(),b.DNE(37,Kt,2,2,"app-form-row",22),b.j41(38,"app-form-row",14)(39,"textarea",23),b.bIt("focus",function(){return b.eBV(ye),b.Njj(Ie.descFocus=!Ie.descFocus)})("blur",function(){return b.eBV(ye),b.Njj(Ie.descFocus=!Ie.descFocus)}),b.k0s()(),b.DNE(40,sn,2,2,"app-form-row",24)(41,Ft,2,2,"app-form-row",24),b.j41(42,"app-form-row",11)(43,"app-form-toggle",25),b.nrm(44,"input",26),b.k0s()(),b.j41(45,"app-form-row",27)(46,"app-form-toggle",25),b.nrm(47,"input",28),b.k0s()()()(),b.nrm(48,"div",29),b.j41(49,"div",30)(50,"div",31)(51,"div",32)(52,"button",33),b.bIt("click",function(){return b.eBV(ye),b.Njj(Ie.addClaimType())}),b.EFF(53),b.nI1(54,"translate"),b.k0s(),b.j41(55,"span",34)(56,"button",35),b.bIt("click",function(){return b.eBV(ye),b.Njj(Ie.addAnotherClaimType())}),b.EFF(57),b.nI1(58,"translate"),b.k0s()()(),b.j41(59,"button",36),b.bIt("click",function(){return b.eBV(ye),b.Njj(Ie.hide())}),b.EFF(60),b.nI1(61,"translate"),b.k0s()()()()()()}2&_e&&(b.Y8G("config",b.lJ4(56,it)),b.R7$(6),b.JRh(b.bMT(7,36,"Claims.New")),b.R7$(5),b.JRh(b.bMT(12,38,"Common.Close")),b.R7$(3),b.Y8G("formGroup",Ie.addClaimTypeForm),b.R7$(),b.Y8G("id","name")("label","Common.Name")("help","ClaimTypes.NameHelp"),b.R7$(2),b.Y8G("id","displayName")("label","Common.DisplayName")("help","ClaimTypes.DisplayNameHelp"),b.R7$(2),b.Y8G("id","type")("label","Common.Type"),b.R7$(4),b.JRh(b.bMT(24,40,"Common.Types.String")),b.R7$(3),b.JRh(b.bMT(27,42,"Common.Types.Int")),b.R7$(3),b.JRh(b.bMT(30,44,"Common.Types.DateTime")),b.R7$(3),b.JRh(b.bMT(33,46,"Common.Types.Boolean")),b.R7$(3),b.JRh(b.bMT(36,48,"Common.Types.Enum")),b.R7$(2),b.Y8G("ngIf","Enum"===Ie.addClaimTypeForm.get("valueType").value),b.R7$(),b.Y8G("id","description")("label","Common.Description"),b.R7$(2),b.Y8G("ngIf","String"===Ie.addClaimTypeForm.get("valueType").value),b.R7$(),b.Y8G("ngIf","String"===Ie.addClaimTypeForm.get("valueType").value),b.R7$(),b.Y8G("id","required")("label","Claims.Required")("help","Claims.FutureUsers"),b.R7$(),b.Y8G("id","required"),b.R7$(2),b.Y8G("id","userEditable")("label","Common.UserEditable")("help","Claims.UserEditable")("isLast",!0),b.R7$(),b.Y8G("id","userEditable"),b.R7$(6),b.Y8G("disabled",!Ie.addClaimTypeForm.valid),b.R7$(),b.JRh(b.bMT(54,50,"Common.Save")),b.R7$(3),b.Y8G("disabled",!Ie.addClaimTypeForm.valid),b.R7$(),b.JRh(b.bMT(58,52,"Common.SaveAndAdd")),b.R7$(3),b.JRh(b.bMT(61,54,"Common.Cancel")))},dependencies:[n.bT,y.qT,y.xH,y.y7,y.me,y.Zm,y.wz,y.BC,y.cb,y.YS,y.j4,y.JD,w.hZ,se.Y,L.m,Ne,p.D9],encapsulation:2})}}return Xe})();const je=(Xe,Zt)=>Zt.id,ce=(Xe,Zt)=>({"fad fa-pencil":Xe,"fas fa-eye":Zt});function X(Xe,Zt){1&Xe&&(b.j41(0,"div",4)(1,"div")(2,"p",5),b.EFF(3),b.nI1(4,"translate"),b.k0s(),b.nrm(5,"p",6),b.nI1(6,"translate"),b.k0s()()),2&Xe&&(b.R7$(3),b.JRh(b.bMT(4,2,"Common.ReadOnlyModeWarningTitle")),b.R7$(2),b.Y8G("innerHTML",b.bMT(6,4,"ClaimTypes.ReadOnlyModeWarn"),b.npT))}function oe(Xe,Zt){if(1&Xe){const ut=b.RV6();b.j41(0,"app-action-bar"),b.qex(1,8),b.j41(2,"button",9),b.bIt("click",function(){b.eBV(ut),b.XpG(2);const Ie=b.sdS(3);return b.Njj(Ie.show())}),b.EFF(3),b.nI1(4,"translate"),b.k0s(),b.bVm(),b.k0s()}2&Xe&&(b.R7$(3),b.SpI(" ",b.bMT(4,1,"Claims.Add")," "))}function Ve(Xe,Zt){if(1&Xe){const ut=b.RV6();b.j41(0,"app-search",7),b.nI1(1,"translate"),b.bIt("onSearch",function(Ie){b.eBV(ut);const ye=b.XpG();return b.Njj(ye.search(Ie))}),b.k0s(),b.DNE(2,oe,5,3,"app-action-bar")}if(2&Xe){const ut=b.XpG();b.Y8G("placeholder",b.bMT(1,2,"ClaimTypes.SearchPlaceholder")),b.R7$(2),b.vxM(2,!ut.isLoading&&ut.isIdentityServerManager?2:-1)}}function tt(Xe,Zt){1&Xe&&b.nrm(0,"app-simple-loader")}function gt(Xe,Zt){1&Xe&&(b.j41(0,"div",10)(1,"div"),b.EFF(2),b.nI1(3,"translate"),b.k0s()()),2&Xe&&(b.R7$(2),b.JRh(b.bMT(3,1,"Claims.NoClaimsFound")))}function Bt(Xe,Zt){1&Xe&&b.nrm(0,"span",25)}function cn(Xe,Zt){1&Xe&&b.nrm(0,"span",26)}function hn(Xe,Zt){1&Xe&&b.nrm(0,"span",27)}function An(Xe,Zt){1&Xe&&b.nrm(0,"span",25)}function xn(Xe,Zt){1&Xe&&b.nrm(0,"span",26)}function Bn(Xe,Zt){1&Xe&&b.nrm(0,"span",27)}function It(Xe,Zt){1&Xe&&b.nrm(0,"span",25)}function Dn(Xe,Zt){1&Xe&&b.nrm(0,"span",26)}function Gt(Xe,Zt){1&Xe&&b.nrm(0,"span",27)}function lt(Xe,Zt){1&Xe&&b.nrm(0,"span",25)}function Ct(Xe,Zt){1&Xe&&b.nrm(0,"span",26)}function yt(Xe,Zt){1&Xe&&b.nrm(0,"span",27)}function Ot(Xe,Zt){1&Xe&&(b.j41(0,"span",33)(1,"span",22),b.EFF(2),b.nI1(3,"translate"),b.k0s()()),2&Xe&&(b.R7$(2),b.JRh(b.bMT(3,1,"Common.Yes")))}function en(Xe,Zt){1&Xe&&(b.j41(0,"span",38)(1,"span",22),b.EFF(2),b.nI1(3,"translate"),b.k0s()()),2&Xe&&(b.R7$(2),b.JRh(b.bMT(3,1,"Common.No")))}function Sn(Xe,Zt){1&Xe&&(b.j41(0,"span",33)(1,"span",22),b.EFF(2),b.nI1(3,"translate"),b.k0s()()),2&Xe&&(b.R7$(2),b.JRh(b.bMT(3,1,"Common.Yes")))}function Un(Xe,Zt){1&Xe&&(b.j41(0,"span",38)(1,"span",22),b.EFF(2),b.nI1(3,"translate"),b.k0s()()),2&Xe&&(b.R7$(2),b.JRh(b.bMT(3,1,"Common.No")))}function fn(Xe,Zt){1&Xe&&(b.j41(0,"span",39),b.EFF(1),b.nI1(2,"translate"),b.k0s()),2&Xe&&(b.R7$(),b.SpI(" ",b.bMT(2,1,"Common.Reserved")," "))}function di(Xe,Zt){if(1&Xe){const ut=b.RV6();b.j41(0,"tr",23)(1,"td",28),b.bIt("click",function(){const Ie=b.eBV(ut).$implicit,ye=b.XpG(3);return b.Njj(ye.viewOrEditClaimType(Ie))}),b.j41(2,"b",29),b.EFF(3),b.k0s()(),b.j41(4,"td",30),b.bIt("click",function(){const Ie=b.eBV(ut).$implicit,ye=b.XpG(3);return b.Njj(ye.viewOrEditClaimType(Ie))}),b.j41(5,"b",29),b.EFF(6),b.k0s()(),b.j41(7,"td",30),b.bIt("click",function(){const Ie=b.eBV(ut).$implicit,ye=b.XpG(3);return b.Njj(ye.viewOrEditClaimType(Ie))}),b.j41(8,"code"),b.EFF(9),b.k0s()(),b.j41(10,"td",31),b.bIt("click",function(){const Ie=b.eBV(ut).$implicit,ye=b.XpG(3);return b.Njj(ye.viewOrEditClaimType(Ie))}),b.EFF(11),b.k0s(),b.j41(12,"td",32),b.bIt("click",function(){const Ie=b.eBV(ut).$implicit,ye=b.XpG(3);return b.Njj(ye.viewOrEditClaimType(Ie))}),b.DNE(13,Ot,4,3,"span",33)(14,en,4,3),b.k0s(),b.j41(15,"td",32),b.bIt("click",function(){const Ie=b.eBV(ut).$implicit,ye=b.XpG(3);return b.Njj(ye.viewOrEditClaimType(Ie))}),b.DNE(16,Sn,4,3,"span",33)(17,Un,4,3),b.k0s(),b.j41(18,"td",34),b.bIt("click",function(){const Ie=b.eBV(ut).$implicit,ye=b.XpG(3);return b.Njj(ye.viewOrEditClaimType(Ie))}),b.DNE(19,fn,3,3,"span",35),b.k0s(),b.j41(20,"td",34),b.bIt("click",function(){const Ie=b.eBV(ut).$implicit,ye=b.XpG(3);return b.Njj(ye.viewOrEditClaimType(Ie))}),b.j41(21,"button",36),b.bIt("click",function(){const Ie=b.eBV(ut).$implicit,ye=b.XpG(3);return b.Njj(ye.viewOrEditClaimType(Ie))}),b.nrm(22,"span",37),b.j41(23,"span",22),b.EFF(24),b.nI1(25,"translate"),b.k0s()()()()}if(2&Xe){const ut=Zt.$implicit,_e=b.XpG(3);b.R7$(3),b.SpI(" ",ut.name," "),b.R7$(3),b.SpI(" ",ut.displayName," "),b.R7$(3),b.JRh(ut.valueType),b.R7$(2),b.SpI(" ",ut.description," "),b.R7$(2),b.vxM(13,ut.required?13:14),b.R7$(3),b.vxM(16,ut.userEditable?16:17),b.R7$(3),b.Y8G("ngIf",ut.reserved),b.R7$(3),b.Y8G("ngClass",b.l_i(11,ce,_e.isAllPermission&&!_e.isAllPermissionReadOnly&&_e.hasPersistance,!_e.isAllPermission||!_e.hasPersistance)),b.R7$(2),b.JRh(b.bMT(25,9,"Common.Edit"))}}function Gn(Xe,Zt){if(1&Xe){const ut=b.RV6();b.j41(0,"table",11)(1,"thead")(2,"tr")(3,"th",12),b.bIt("click",function(){b.eBV(ut);const Ie=b.XpG(2);return b.Njj(Ie.sort("name"))}),b.j41(4,"span",13),b.EFF(5),b.nI1(6,"translate"),b.k0s(),b.DNE(7,Bt,1,0,"span",14)(8,cn,1,0,"span",15)(9,hn,1,0,"span",16),b.k0s(),b.j41(10,"th",17),b.EFF(11),b.nI1(12,"translate"),b.k0s(),b.j41(13,"th",18),b.bIt("click",function(){b.eBV(ut);const Ie=b.XpG(2);return b.Njj(Ie.sort("valueType"))}),b.j41(14,"span",13),b.EFF(15),b.nI1(16,"translate"),b.k0s(),b.DNE(17,An,1,0,"span",14)(18,xn,1,0,"span",15)(19,Bn,1,0,"span",16),b.k0s(),b.j41(20,"th",19),b.EFF(21),b.nI1(22,"translate"),b.k0s(),b.j41(23,"th",20),b.bIt("click",function(){b.eBV(ut);const Ie=b.XpG(2);return b.Njj(Ie.sort("required"))}),b.j41(24,"span",13),b.EFF(25),b.nI1(26,"translate"),b.k0s(),b.DNE(27,It,1,0,"span",14)(28,Dn,1,0,"span",15)(29,Gt,1,0,"span",16),b.k0s(),b.j41(30,"th",20),b.bIt("click",function(){b.eBV(ut);const Ie=b.XpG(2);return b.Njj(Ie.sort("userEditable"))}),b.j41(31,"span",13),b.EFF(32),b.nI1(33,"translate"),b.k0s(),b.DNE(34,lt,1,0,"span",14)(35,Ct,1,0,"span",15)(36,yt,1,0,"span",16),b.k0s(),b.j41(37,"th",21)(38,"span",22),b.EFF(39),b.nI1(40,"translate"),b.k0s()(),b.j41(41,"th",21)(42,"span",22),b.EFF(43),b.nI1(44,"translate"),b.k0s()()()(),b.j41(45,"tbody"),b.Z7z(46,di,26,14,"tr",23,je),b.k0s()(),b.nrm(48,"app-pager",24)}if(2&Xe){const ut=b.XpG(2);b.R7$(5),b.JRh(b.bMT(6,21,"Common.Name")),b.R7$(2),b.Y8G("ngIf",!ut.sortContains("name")),b.R7$(),b.Y8G("ngIf","name"===ut.sortCriteria),b.R7$(),b.Y8G("ngIf","-name"===ut.sortCriteria),b.R7$(2),b.SpI(" ",b.bMT(12,23,"Common.DisplayName")," "),b.R7$(4),b.JRh(b.bMT(16,25,"Common.Type")),b.R7$(2),b.Y8G("ngIf",!ut.sortContains("valueType")),b.R7$(),b.Y8G("ngIf","valueType"===ut.sortCriteria),b.R7$(),b.Y8G("ngIf","-valueType"===ut.sortCriteria),b.R7$(2),b.SpI(" ",b.bMT(22,27,"Common.Description")," "),b.R7$(4),b.JRh(b.bMT(26,29,"Common.Required")),b.R7$(2),b.Y8G("ngIf",!ut.sortContains("required")),b.R7$(),b.Y8G("ngIf","required"===ut.sortCriteria),b.R7$(),b.Y8G("ngIf","-required"===ut.sortCriteria),b.R7$(3),b.JRh(b.bMT(33,31,"Common.UserEditable")),b.R7$(2),b.Y8G("ngIf",!ut.sortContains("userEditable")),b.R7$(),b.Y8G("ngIf","userEditable"===ut.sortCriteria),b.R7$(),b.Y8G("ngIf","-userEditable"===ut.sortCriteria),b.R7$(3),b.JRh(b.bMT(40,33,"Common.Reserved")),b.R7$(4),b.JRh(b.bMT(44,35,"Common.Actions")),b.R7$(3),b.Dyx(ut.claimTypes),b.R7$(2),b.Y8G("totalResults",null==ut.claimTypes?null:ut.claimTypes.length)}}function Mt(Xe,Zt){if(1&Xe&&b.DNE(0,gt,4,3,"div",10)(1,Gn,49,37),2&Xe){const ut=b.XpG();b.vxM(0,(null==ut.claimTypes?null:ut.claimTypes.length)<1?0:1)}}let ht=(()=>{class Xe{constructor(ut,_e,Ie,ye,ft,ze,Tt,vt){this.router=ut,this.claimTypeService=_e,this.errorService=Ie,this.translate=ye,this.titleService=ft,this.localize=ze,this.securityService=Tt,this.activatedRoute=vt,this.sortCriteria="name",this.term="",this.isLoading=!0,this.sortStream=new qt.B,this.searchStream=new qt.B}ngOnInit(){this.hasPersistance=this.activatedRoute.snapshot?.data?.hasPersistance??!0,this.titleService.setTitle(this.translate.instant("Nav.ClaimTypes")+" - "+f.$9.SITE_TITLE);const ut=this.searchStream.pipe((0,jt.B)(300),(0,Dt.F)(),(0,wt.T)(ye=>(this.term=ye,{search:ye,sort:this.sortCriteria})));this.sortStream.pipe((0,wt.T)(ye=>(this.sortCriteria=ye,{search:this.term,sort:ye}))).pipe((0,z.h)(ut),(0,Y.Z)({search:this.term,sort:this.sortCriteria}),(0,Z.Z)(ye=>this.claimTypeService.getClaimTypes(ye.search,ye.sort,!0))).subscribe(ye=>{this.claimTypes=ye,this.isLoading=!1},ye=>{this.errorService.handleError(ye),this.isLoading=!1})}search(ut){this.searchStream.next(ut)}sort(ut){this.sortCriteria=this.sortCriteria.startsWith("-")?ut:"-"+ut,this.sortStream.next(this.sortCriteria)}sortContains(ut){return!!this.sortCriteria.includes(ut)}onSubmitted(ut){ut&&this.sortStream.next(this.sortCriteria)}viewOrEditClaimType(ut){this.isAllPermission?this.editClaimType(ut):this.viewClaimType(ut)}viewClaimType(ut){const _e=this.localize.translateRoute("/claim-types/view");this.router.navigate([_e,ut.id])}editClaimType(ut){const _e=this.localize.translateRoute("/claim-types");this.router.navigate([_e,ut.id])}get isAllPermission(){return(0,O.X4)(this.securityService.userPermissions)}get isAllPermissionReadOnly(){return(0,O.lK)(this.securityService.userPermissions)}get isIdentityServerManager(){return(0,O.jk)(this.securityService.userPermissions)}static{this.\u0275fac=function(_e){return new(_e||Xe)(b.rXU(e.Ix),b.rXU(k.X),b.rXU(R.I),b.rXU(p.c$),b.rXU(N.hE),b.rXU(u.QG),b.rXU(j.i),b.rXU(e.nX))}}static{this.\u0275cmp=b.VBU({type:Xe,selectors:[["ng-component"]],decls:9,vars:5,consts:[["addClaimTypeModal",""],[3,"title"],[3,"onSubmitted"],["id","claimTypeList",1,"tw-container","tw-mx-auto"],["id","readOnlyModeWarn",1,"tw-alert","tw-mb-4"],[1,"tw-font-bold"],[1,"tw-text-sm",3,"innerHTML"],[3,"onSearch","placeholder"],["right",""],[1,"tw-btn-success",3,"click"],["role","alert",1,"tw-alert"],["id","claimTypesTable",1,"datatable","selectable","hover"],["id","sortName",1,"tw-max-w-0","tw-cursor-pointer","md:tw-w-1/3","lg:tw-w-1/4",3,"click"],[1,"tw-mr-2"],["class","fad fa-sort",4,"ngIf"],["class","fas fa-caret-down",4,"ngIf"],["class","fas fa-caret-up",4,"ngIf"],[1,"tw-hidden","tw-cursor-pointer","md:tw-table-cell"],[1,"tw-hidden","tw-cursor-pointer","md:tw-table-cell",3,"click"],[1,"tw-hidden","tw-w-1/4","lg:tw-table-cell"],[1,"tw-hidden","tw-cursor-pointer","tw-text-center","xl:tw-table-cell",3,"click"],[1,"tw-w-1"],[1,"sr-only"],[1,"group"],["hidePager","true",3,"totalResults"],[1,"fad","fa-sort"],[1,"fas","fa-caret-down"],[1,"fas","fa-caret-up"],[1,"tw-max-w-0","tw-truncate",3,"click"],[1,"tw-text-blue-500"],[1,"tw-hidden","tw-truncate","md:tw-table-cell",3,"click"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell",3,"click"],[1,"tw-hidden","tw-text-center","xl:tw-table-cell",3,"click"],[1,"fas","fa-check","tw-text-green-500"],[3,"click"],["class","tw-pill",4,"ngIf"],["type","button",1,"tw-btn-link","tw-btn-small","editClaimType","group-hover:tw-text-blue-500",3,"click"],["id","viewOrEditIcon","aria-hidden","true",3,"ngClass"],[1,"fas","fa-times","tw-opacity-25"],[1,"tw-pill"]],template:function(_e,Ie){if(1&_e){const ye=b.RV6();b.nrm(0,"app-title-bar",1),b.nI1(1,"translate"),b.j41(2,"app-add-claimtype",2,0),b.bIt("onSubmitted",function(ze){return b.eBV(ye),b.Njj(Ie.onSubmitted(ze))}),b.k0s(),b.j41(4,"div",3),b.DNE(5,X,7,6,"div",4)(6,Ve,3,4)(7,tt,1,0,"app-simple-loader")(8,Mt,2,1),b.k0s()}2&_e&&(b.Y8G("title",b.bMT(1,3,"Nav.ClaimTypes")),b.R7$(5),b.vxM(5,Ie.hasPersistance?6:5),b.R7$(2),b.vxM(7,Ie.isLoading?7:8))},dependencies:[n.YU,n.bT,$.z,Ce.B,we.n,at.S,Be.d,Jt,p.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return Xe})();var xt=h(3178),$t=h(4446),nn=h(8939),vn=h(2892),gn=h(8416);let Yn=(()=>{class Xe{static{this.pathToConfigParamMap={"claim-types":"claimTypePersistence"}}}return Xe})();var In=h(9196);let mn=(()=>{class Xe{constructor(ut,_e,Ie){this.router=ut,this.localizeRouter=_e,this.configService=Ie}canActivate(ut,_e){var Ie=ut.url.map(ft=>ft.path),ye=Ie[Ie.length-2];return this.configService.getConfig().pipe((0,wt.T)(ft=>{if(!1!==ft[Yn.pathToConfigParamMap[ye]])return!0;Ie.splice(Ie.length-1,0,"view");var ze=this.localizeRouter.translateRoute(`/${Ie.join("/")}`);return this.router.navigate([ze]),!1}))}static{this.\u0275fac=function(_e){return new(_e||Xe)(b.KVO(e.Ix),b.KVO(u.QG),b.KVO(In.w))}}static{this.\u0275prov=b.jDH({token:Xe,factory:Xe.\u0275fac})}}return Xe})(),ci=(()=>{class Xe{constructor(ut){this.configService=ut}resolve(ut){var _e=ut.url.map(ye=>ye.path),Ie=_e[_e.length-1];return this.configService.getConfig().pipe((0,wt.T)(ye=>{var ft=ye[Yn.pathToConfigParamMap[Ie]];return!!(0,O.hX)(ft)||ft}))}static{this.\u0275fac=function(_e){return new(_e||Xe)(b.KVO(In.w))}}static{this.\u0275prov=b.jDH({token:Xe,factory:Xe.\u0275fac})}}return Xe})();const pi=[{path:"claim-types",component:ht,resolve:{hasPersistance:ci},canActivate:[vn.h,$t._],data:{permissions:[xt.a[xt.a.UserManager],xt.a[xt.a.UserManagerReadOnly],xt.a[xt.a.AllReadOnly],xt.a[xt.a.All]]}},{path:"claim-types/:Id",component:Ye,resolve:{resource:nn.R},canDeactivate:[gn.M],canActivate:[vn.h,mn,$t._],data:{permissions:[xt.a[xt.a.UserManager],xt.a[xt.a.All]]}},{path:"claim-types/view/:Id",loadChildren:()=>h.e(200).then(h.bind(h,2200)).then(Xe=>Xe.ClaimTypesModule),resolve:{resource:nn.R},canActivate:[vn.h,$t._],data:{permissions:[xt.a[xt.a.UserManager],xt.a[xt.a.UserManagerReadOnly],xt.a[xt.a.AllReadOnly],xt.a[xt.a.All]]}}];let ei=(()=>{class Xe{static{this.\u0275fac=function(_e){return new(_e||Xe)}}static{this.\u0275mod=b.$C({type:Xe})}static{this.\u0275inj=b.G2t({imports:[e.iI.forChild(pi),u.XE.forChild(pi),e.iI]})}}return Xe})();var Oi=h(8455),Xn=h(367),wi=h(5731),mi=h(4193),Hi=h(3665),ji=h(7175),Ei=h(1993),qe=h(8389),At=h(3843),We=h(7677),zt=h(1683),ct=h(4367);let Yt=(()=>{class Xe{static{this.\u0275fac=function(_e){return new(_e||Xe)}}static{this.\u0275mod=b.$C({type:Xe})}static{this.\u0275inj=b.G2t({providers:[nn.R,ci,mn],imports:[ei,n.MD,y.YN,y.X1,m.qP,C.Ss,w.Q_,e.iI,p.h,Oi.p,u.XE,Xn.m,wi.i,mi.c,Hi.t,ji.c,Ei.E,qe.w,At.G,We.N,zt.Y,ct.N]})}}return Xe})()},7275:(nt,fe,h)=>{"use strict";h.d(fe,{Q:()=>f});var n=h(177),e=h(1780),y=h(779),p=h(4193),w=h(8251),C=h(8389),m=h(7677),u=h(4438);let f=(()=>{class T{static{this.\u0275fac=function(b){return new(b||T)}}static{this.\u0275mod=u.$C({type:T})}static{this.\u0275inj=u.G2t({imports:[y.Q_,e.h,n.MD,w.h,p.c,C.w,m.N]})}}return T})()},4652:(nt,fe,h)=>{"use strict";h.d(fe,{T:()=>re});var n=h(4438),e=h(4252),y=h(7921),p=h(6303),w=h(4549),C=h(1589),m=h(1780),u=h(9812),f=h(779),T=h(177),O=h(8577),F=h(7294),b=h(8698),M=h(8762);const k=["deleteCertModal"],N=[[["","addButton",""]]],G=["[addButton]"],R=K=>[K],j=()=>({animated:!1,backdrop:"static"});function U(K,me){if(1&K){const Ne=n.RV6();n.j41(0,"button",13),n.bIt("click",function(){n.eBV(Ne);const xe=n.XpG(3);return n.Njj(xe.openDeleteModal(xe.certificates[0]))}),n.EFF(1),n.nI1(2,"translate"),n.k0s()}if(2&K){const Ne=n.XpG(3);n.Y8G("disabled",Ne.deleteCertDisabled),n.R7$(),n.SpI(" ",n.bMT(2,2,"Clients.Saml.DeleteCert")," ")}}function $(K,me){if(1&K&&(n.j41(0,"app-action-bar",10),n.qex(1,11),n.SdG(2),n.DNE(3,U,3,4,"button",12),n.bVm(),n.k0s()),2&K){const Ne=n.XpG(2);n.R7$(3),n.Y8G("ngIf",(null==Ne.certificates?null:Ne.certificates.length)>0)}}function ie(K,me){1&K&&(n.j41(0,"div",14),n.EFF(1),n.nI1(2,"translate"),n.k0s()),2&K&&(n.R7$(),n.SpI(" ",n.bMT(2,1,"Clients.Saml.CannotDeleteResponseCert")," "))}function se(K,me){1&K&&(n.j41(0,"div",15),n.EFF(1),n.nI1(2,"translate"),n.k0s()),2&K&&(n.R7$(),n.SpI(" ",n.bMT(2,1,"Clients.NoCertificates")," "))}function L(K,me){if(1&K&&(n.qex(0),n.j41(1,"app-form-row",16),n.nrm(2,"app-readonly",17),n.k0s(),n.j41(3,"app-form-row",16),n.nrm(4,"app-readonly",17),n.k0s(),n.j41(5,"app-form-row",18),n.nrm(6,"app-readonly",17)(7,"p",19),n.k0s(),n.bVm()),2&K){const Ne=n.XpG(2);n.R7$(),n.Y8G("label","Common.Subject"),n.R7$(),n.Y8G("values",n.eq3(11,R,Ne.readOnlyCertificate.subject))("fieldType",Ne.ReadOnlyFieldType.Single),n.R7$(),n.Y8G("label","Common.Thumbprint"),n.R7$(),n.Y8G("values",n.eq3(13,R,Ne.readOnlyCertificate.thumbprint))("fieldType",Ne.ReadOnlyFieldType.Single),n.R7$(),n.Y8G("label","Common.ExpiresOn")("isLast",!0),n.R7$(),n.Y8G("values",n.eq3(15,R,Ne.readOnlyCertificate.expiration))("fieldType",Ne.ReadOnlyFieldType.Single),n.R7$(),n.Y8G("innerHTML",Ne.displayExpiry(null==Ne.readOnlyCertificate?null:Ne.readOnlyCertificate.expiration.MainText),n.npT)}}function J(K,me){if(1&K&&(n.j41(0,"div",5),n.DNE(1,$,4,1,"app-action-bar",6)(2,ie,3,3,"div",7)(3,se,3,3,"div",8)(4,L,8,17,"ng-container",9),n.k0s()),2&K){const Ne=n.XpG();n.R7$(),n.Y8G("ngIf",!Ne.isReadOnly),n.R7$(),n.Y8G("ngIf",Ne.deleteCertDisabled&&!Ne.isReadOnly),n.R7$(),n.Y8G("ngIf",(null==Ne.certificates?null:Ne.certificates.length)<1),n.R7$(),n.Y8G("ngIf",1==(null==Ne.certificates?null:Ne.certificates.length)&&Ne.readOnlyCertificate)}}function q(K,me){if(1&K){const Ne=n.RV6();n.j41(0,"app-data-table",20),n.bIt("onDelete",function(xe){n.eBV(Ne);const Qe=n.XpG();return n.Njj(Qe.openDeleteModal(xe))}),n.nrm(1,"app-data-table-column",21)(2,"app-data-table-column",22)(3,"app-data-table-column",23),n.k0s()}if(2&K){const Ne=n.XpG();n.Y8G("isReadOnly",Ne.isReadOnly)("rows",Ne.certificates)("norowslabel","Clients.NoCertificates")("actions",Ne.dataTableActions),n.R7$(),n.Y8G("prop","subject")("title","Common.Subject")("cellClasses","tw-max-w-0 tw-truncate"),n.R7$(),n.Y8G("prop","thumbprint")("title","Common.Thumbprint")("headClasses","tw-hidden md:tw-table-cell")("cellClasses","tw-hidden tw-max-w-0 tw-truncate md:tw-table-cell"),n.R7$(),n.Y8G("prop","expiration")("formatter",Ne.displayExpiry.bind(Ne))("title","Common.ExpiresOn")("headClasses","tw-hidden tw-w-40 xs:tw-table-cell lg:tw-w-64")("cellClasses","tw-hidden xs:tw-table-cell")}}function S(K,me){if(1&K){const Ne=n.RV6();n.j41(0,"div",24,0)(2,"div",25)(3,"div",26)(4,"div",27)(5,"h5",28),n.EFF(6),n.nI1(7,"translate"),n.k0s(),n.j41(8,"button",29),n.bIt("click",function(){n.eBV(Ne);const xe=n.XpG();return n.Njj(xe.closeDeleteModal())}),n.nrm(9,"span",30),n.j41(10,"span",31),n.EFF(11),n.nI1(12,"translate"),n.k0s()()(),n.j41(13,"div",32),n.nrm(14,"p",33),n.nI1(15,"translate"),n.k0s(),n.nrm(16,"div",34),n.j41(17,"div",35)(18,"div",36)(19,"div",37)(20,"button",38),n.bIt("click",function(){n.eBV(Ne);const xe=n.XpG();return n.Njj(xe.removeCert())}),n.EFF(21),n.nI1(22,"translate"),n.k0s()(),n.j41(23,"button",39),n.bIt("click",function(){n.eBV(Ne);const xe=n.XpG();return n.Njj(xe.closeDeleteModal())}),n.EFF(24),n.nI1(25,"translate"),n.k0s()()()()()()}2&K&&(n.Y8G("config",n.lJ4(16,j)),n.R7$(6),n.JRh(n.bMT(7,6,"Common.Delete.Confirm")),n.R7$(5),n.JRh(n.bMT(12,8,"Common.Close")),n.R7$(3),n.Y8G("innerHTML",n.bMT(15,10,"Common.Delete.Warning"),n.npT),n.R7$(7),n.JRh(n.bMT(22,12,"Common.Delete.Title")),n.R7$(3),n.JRh(n.bMT(25,14,"Common.Delete.No")))}let re=(()=>{class K{set isReadOnly(Ne){this._isReadOnly=Ne||!1}get isReadOnly(){return this._isReadOnly}constructor(Ne,De){this.translateService=Ne,this.dataTableService=De,this.showSingle=!1,this.delete=new n.bkB,this.prettyDateTimePipe=new C.sp}ngOnDestroy(){this.dtsSubscription.unsubscribe()}ngOnInit(){this.dtsSubscription=this.dataTableService.deleteRowEvent.subscribe(Ne=>{this.openDeleteModal(Ne)})}ngOnChanges(){this.dataTableActions=this.isReadOnly?[]:[e.AA.Delete],this.readOnlyCertificate=this.showSingle&&this.certificates.length>0?new y.b(this.certificates[0]):null}openDeleteModal(Ne){this.certToDelete=this.showSingle?this.certificates[0]:this.certificates[Ne],this.deleteCertModal.show()}closeDeleteModal(){this.certToDelete=null,this.deleteCertModal.hide()}removeCert(){if(null==this.certToDelete)throw new Error("Delete called without target");this.delete.emit(this.certToDelete),this.deleteCertModal.hide()}displayExpiry(Ne){let De=w.c9.fromISO(Ne);const xe=this.daysUntilExpiry(De);if(this.warnOfExpiry(De)){let Qe='<b class="tw-text-red-500"><span class="fas fa-exclamation-triangle tw-mr-1" aria-hidden="true"></span>{0} {1} {2}</b>';return Qe=Qe.replace("{0}",this.translateService.instant("Common.ExpiresIn")),Qe=Qe.replace("{1}",xe.toString()),Qe=Qe.replace("{2}",this.translateService.instant("Common.UntilExpiry")),Qe}return this.prettyDateTimePipe.transform(Ne)}warnOfExpiry(Ne){return this.daysUntilExpiry(Ne)<=30&&this.daysUntilExpiry(Ne)>=1}daysUntilExpiry(Ne){const De=Ne.toMillis()-w.c9.now().toMillis();return Math.round(De/864e5)}get ReadOnlyFieldType(){return p.t}static{this.\u0275fac=function(De){return new(De||K)(n.rXU(m.c$),n.rXU(u.I))}}static{this.\u0275cmp=n.VBU({type:K,selectors:[["app-saml-cert-list"]],viewQuery:function(De,xe){if(1&De&&n.GBs(k,5),2&De){let Qe;n.mGM(Qe=n.lsd())&&(xe.deleteCertModal=Qe.first)}},inputs:{certificates:"certificates",deleteCertDisabled:"deleteCertDisabled",showSingle:"showSingle",isReadOnly:"isReadOnly"},outputs:{delete:"delete"},features:[n.OA$],ngContentSelectors:G,decls:4,vars:3,consts:[["deleteCertModal","bs-modal"],["id","CertificateList"],["class","tw-mb-4",4,"ngIf"],[3,"isReadOnly","rows","norowslabel","actions","onDelete",4,"ngIf"],["bsModal","","id","deleteCertModal","class","modal","role","dialog","aria-hidden","true","tabindex","-1",3,"config",4,"ngIf"],[1,"tw-mb-4"],["id","deleteBtn",4,"ngIf"],["class","tw-alert-warning tw-mb-6","role","alert",4,"ngIf"],["class","tw-alert","role","alert",4,"ngIf"],[4,"ngIf"],["id","deleteBtn"],["right",""],["id","deleteCertBtn","class","tw-btn-danger","type","button",3,"disabled","click",4,"ngIf"],["id","deleteCertBtn","type","button",1,"tw-btn-danger",3,"click","disabled"],["role","alert",1,"tw-alert-warning","tw-mb-6"],["role","alert",1,"tw-alert"],[3,"label"],[3,"values","fieldType"],[3,"label","isLast"],[1,"tw-form-text",3,"innerHTML"],[3,"onDelete","isReadOnly","rows","norowslabel","actions"],[3,"prop","title","cellClasses"],[3,"prop","title","headClasses","cellClasses"],[3,"prop","formatter","title","headClasses","cellClasses"],["bsModal","","id","deleteCertModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog","modal-dialog--danger"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","tw-text-center","scrollbars"],[3,"innerHTML"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],[1,"tw-btn-danger",3,"click"],[1,"tw-btn-link","tw--mr-4",3,"click"]],template:function(De,xe){1&De&&(n.NAR(N),n.j41(0,"div",1),n.DNE(1,J,5,4,"div",2)(2,q,4,16,"app-data-table",3),n.k0s(),n.DNE(3,S,26,17,"div",4)),2&De&&(n.R7$(),n.Y8G("ngIf",xe.showSingle),n.R7$(),n.Y8G("ngIf",!xe.showSingle),n.R7$(),n.Y8G("ngIf",!xe.isReadOnly))},dependencies:[f.hZ,T.bT,e.up,O.w,F.n,b.Y,M.O,m.D9],encapsulation:2,changeDetection:0})}}return K})()},5088:(nt,fe,h)=>{"use strict";h.d(fe,{E:()=>k});var n=h(9113),e=h(1744),y=h(1594),p=h(6799),w=h(4414),C=h(4438),m=h(5826),u=h(1780),f=h(177),T=h(7384);const O=(N,G)=>({"tw-btn-link":N,"tw-btn-success":G});function F(N,G){1&N&&(C.nrm(0,"app-simple-loader",7),C.nI1(1,"translate")),2&N&&C.Y8G("text",C.bMT(1,1,"Clients.Import.Wizard.CompleteImport.ImportInProgress"))}function b(N,G){if(1&N&&(C.j41(0,"div",8)(1,"div")(2,"h2",9),C.EFF(3),C.nI1(4,"translate"),C.k0s(),C.j41(5,"span",10),C.EFF(6),C.k0s()()()),2&N){const R=C.XpG();C.R7$(3),C.JRh(C.bMT(4,2,"Clients.Import.Wizard.CompleteImport.ImportComplete")),C.R7$(3),C.JRh(R.getSuccessMessage())}}function M(N,G){if(1&N){const R=C.RV6();C.j41(0,"div",11)(1,"button",12),C.bIt("click",function(){C.eBV(R);const U=C.XpG();return C.Njj(U.downloadSecrets())}),C.EFF(2),C.nI1(3,"translate"),C.k0s()()}if(2&N){const R=C.XpG();C.R7$(),C.Y8G("disabled",R.disableButtons),C.R7$(),C.SpI(" ",C.bMT(3,2,"Clients.Import.Wizard.CompleteImport.DownloadSecrets")," ")}}let k=(()=>{class N extends p.P{constructor(R,j,U){super(),this.clientImportService=R,this.importWizardService=j,this.translate=U,this.secretsDownloaded=!1,this.canDownloadSecrets=!1,this.disableButtons=!1,this.storage=sessionStorage}ngOnInit(){this.importWizardController.disableCloseButton=!0,this.disableButtons=!0,this.isLoading=!0,this.importWizardService.cache.pipe((0,y.$)()).subscribe(R=>{const j=new n.SD;j.clients=[],j.protectedResources=[],R.forEach(U=>{if(U.selected){if(U.resourceType===e.ot.Client){const $=new n.Hh;$.useExistingSecrets=U.useExistingSecrets,$.useExistingCertificates=U.useExistingCertificates,$.resourceId=U.identifier,$.secrets=U.secrets,U.certificates&&(U.certificates.EncryptionCertificate&&($.certificates.encryptionCertificate=U.certificates.EncryptionCertificate.base64Cert),U.certificates.SigningCertificates&&($.certificates.signingCertificates=U.certificates.SigningCertificates.map(ie=>ie.base64Cert))),j.clients.push($)}U.secrets&&U.secrets.length>0&&(this.canDownloadSecrets=!0)}U.resourceType===e.ot.ProtectedResource&&(this.buildAndAddProtectedResourceConfiguration(R,U,j.protectedResources),U.secrets&&U.secrets.length>0&&(this.canDownloadSecrets=!0))}),this.importConfiguration=j,this.completeImport()})}downloadSecrets(){this.importWizardService.downloadClientSecretsFromCache(),this.secretsDownloaded=!0}buildAndAddProtectedResourceConfiguration(R,j,U){j.dependantClients.forEach($=>{const ie=R.find(se=>se.identifier===$.identifier);if(ie&&ie.selected){const se=new n.Hh;se.useExistingSecrets=j.useExistingSecrets,se.resourceId=j.identifier,se.secrets=j.secrets,U.push(se)}})}completeImport(){const R=this.getFileInStorage();this.clientImportService.completeImport(R,this.importConfiguration).subscribe(()=>{this.isLoading=!1,this.importWizardController.disableCloseButton=!1,this.disableButtons=!1},j=>{this.importWizardService.resetImport.next("CompleteImportFailed")})}getSuccessMessage(){const R=this.importConfiguration.clients.length;let j=this.translate.instant("Clients.Import.Wizard.CompleteImport.ImportSuccess");return 1!==R&&(j=this.translate.instant("Clients.Import.Wizard.CompleteImport.ImportSuccessMultiple"),j=j.replace("{0}",R)),j}getFileInStorage(){return this.storage.getItem("importFile")}canNext(){return!this.isLoading}goNext(){!this.canDownloadSecrets||this.secretsDownloaded?this.quit():this.importWizardController.insertAndOpenStep(w.M.importDownloadWarning)}static{this.\u0275fac=function(j){return new(j||N)(C.rXU(n.qJ),C.rXU(m.o),C.rXU(u.c$))}}static{this.\u0275cmp=C.VBU({type:N,selectors:[["app-complete-import"]],features:[C.Vt3],decls:9,vars:11,consts:[[3,"text",4,"ngIf"],[1,"modal-body"],["class","tw-alert-success",4,"ngIf"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],["class","tw-mr-auto",4,"ngIf"],["id","nextBtn",1,"tw--mr-4",3,"click","ngClass","disabled"],[3,"text"],[1,"tw-alert-success"],[1,"tw-block","tw-font-semibold"],[1,"tw-block","tw-mt-1"],[1,"tw-mr-auto"],["id","downloadBtn",1,"tw-btn-success",3,"click","disabled"]],template:function(j,U){1&j&&(C.DNE(0,F,2,3,"app-simple-loader",0),C.j41(1,"div",1),C.DNE(2,b,7,4,"div",2),C.k0s(),C.j41(3,"div",3)(4,"div",4),C.DNE(5,M,4,4,"div",5),C.j41(6,"button",6),C.bIt("click",function(){return U.goNext()}),C.EFF(7),C.nI1(8,"translate"),C.k0s()()()),2&j&&(C.Y8G("ngIf",U.isLoading),C.R7$(2),C.Y8G("ngIf",!U.isLoading),C.R7$(3),C.Y8G("ngIf",U.canDownloadSecrets),C.R7$(),C.Y8G("ngClass",C.l_i(8,O,U.canDownloadSecrets,!U.canDownloadSecrets))("disabled",U.disableButtons),C.R7$(),C.SpI(" ",C.bMT(8,6,"Clients.Import.Wizard.CompleteImport.FinishImport")," "))},dependencies:[f.YU,f.bT,T.d,u.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return N})()},6366:(nt,fe,h)=>{"use strict";h.d(fe,{z:()=>y});var n=h(4412),e=h(4438);let y=(()=>{class p{constructor(){this.unsavedCache=new n.t(null),this.unsavedCache$=this.unsavedCache.asObservable(),this.savedCache=new n.t(null),this.savedCache$=this.savedCache.asObservable(),this.componentDirtyValidMap=new Map}onSave(){this.componentDirtyValidMap.clear()}static{this.\u0275fac=function(m){return new(m||p)}}static{this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}}return p})()},5691:(nt,fe,h)=>{"use strict";h.d(fe,{d:()=>y});var n=h(4412),e=h(4438);let y=(()=>{class p{constructor(){this.unsavedCache=new n.t(null),this.unsavedCache$=this.unsavedCache.asObservable(),this.savedCache=new n.t(null),this.savedCache$=this.savedCache.asObservable(),this.componentDirtyValidMap=new Map}onClientSave(){this.savedCache.next(this.unsavedCache.value),this.componentDirtyValidMap.clear()}static{this.\u0275fac=function(m){return new(m||p)}}static{this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}}return p})()},2509:(nt,fe,h)=>{"use strict";h.r(fe),h.d(fe,{SettingsModule:()=>Ie});var n=h(177),e=h(9417),y=h(7005),p=h(779),w=h(1583),C=h(1780),m=h(4252),u=h(7185),f=h(4438),T=h(1626),O=h(9564);let F=(()=>{class ye{constructor(ze,Tt){this.http=ze,this.headersService=Tt,this.actionUrl="signingkey",this.headers=Tt.setHeaders()}getKeys(){const ze=new T.Nl;return this.http.get(this.actionUrl,{headers:this.headers,params:ze})}deleteKey(ze){return this.http.delete(`${this.actionUrl}/${ze}`,{headers:this.headers})}static{this.\u0275fac=function(Tt){return new(Tt||ye)(f.KVO(T.Qq),f.KVO(O.m))}}static{this.\u0275prov=f.jDH({token:ye,factory:ye.\u0275fac,providedIn:"root"})}}return ye})();var b=h(5794),M=h(4754),k=h(9812),N=h(8577),G=h(3899);let R=(()=>{class ye{constructor(ze,Tt,vt,Xt,Vn){this.keyService=ze,this.toastr=Tt,this.translate=vt,this.modalService=Xt,this.dataTableService=Vn,this.keysDataTableActions=[m.AA.Delete],this.deleteModalType=u.q.Warning,this.deleteModalId="deleteKeyModal"}ngOnDestroy(){this.dtsSubscription.unsubscribe()}ngOnInit(){this.getSerializedKeys(),this.dtsSubscription=this.dataTableService.deleteRowEvent.subscribe(ze=>{this.startDeleteKey(ze)})}getSerializedKeys(){this.keyService.getKeys().subscribe(ze=>{this.keys=ze})}startDeleteKey(ze){this.keyToDelete=this.keys[ze],this.modalService.showById(this.deleteModalId,null)}deleteKey(){return this.keyService.deleteKey(this.keyToDelete.id).toPromise().then(ze=>{this.toastr.success(this.translate.instant("Settings.Keys.RemovedKey"),this.translate.instant("Notifications.Success")),this.getSerializedKeys(),this.resetAndCloseDeleteModal()},ze=>{this.toastr.error("Removed Key","Failed!")})}resetAndCloseDeleteModal(){this.keyToDelete=null,this.modalService.hideById(this.deleteModalId)}static{this.\u0275fac=function(Tt){return new(Tt||ye)(f.rXU(F),f.rXU(b.tw),f.rXU(C.c$),f.rXU(M.B),f.rXU(k.I))}}static{this.\u0275cmp=f.VBU({type:ye,selectors:[["app-list-keys"]],decls:14,vars:35,consts:[["id","keysList",1,"tw-container","tw-mx-auto"],["id","keysTable",3,"rows","actions","norowslabel"],[3,"title","headClasses","cellClasses","prop"],[3,"title","headClasses","cellClasses","prop","date"],[3,"title","headClasses","cellClasses","prop","isBoolean"],[3,"onCancel","onDelete","title","modalId","actions","modalType"],[1,"tw-text-center"],[1,"tw-mb-4"],[1,"tw-pill-danger",3,"innerHTML"]],template:function(Tt,vt){1&Tt&&(f.j41(0,"div",0)(1,"app-data-table",1),f.nrm(2,"app-data-table-column",2)(3,"app-data-table-column",2)(4,"app-data-table-column",2)(5,"app-data-table-column",3)(6,"app-data-table-column",4),f.k0s()(),f.j41(7,"app-custom-modal",5),f.bIt("onCancel",function(){return vt.resetAndCloseDeleteModal()})("onDelete",function(){return vt.deleteKey()}),f.j41(8,"div",6)(9,"p",7),f.EFF(10),f.nI1(11,"translate"),f.k0s(),f.nrm(12,"p",8),f.nI1(13,"translate"),f.k0s()()),2&Tt&&(f.R7$(),f.Y8G("rows",vt.keys)("actions",vt.keysDataTableActions)("norowslabel","Settings.Keys.NoKeys"),f.R7$(),f.Y8G("title","Common.ID")("headClasses","tw-w-1/2")("cellClasses","tw-max-w-0 tw-truncate")("prop","id"),f.R7$(),f.Y8G("title","Settings.Keys.Version")("headClasses","tw-text-center")("cellClasses","tw-text-center")("prop","version"),f.R7$(),f.Y8G("title","Settings.Keys.Algorithm")("headClasses","tw-text-center")("cellClasses","tw-text-center")("prop","algorithm"),f.R7$(),f.Y8G("title","Settings.Keys.Created")("headClasses","tw-text-center")("cellClasses","tw-text-center")("prop","created")("date",!0),f.R7$(),f.Y8G("title","Settings.Keys.IsX509Certificate")("headClasses","tw-text-center")("cellClasses","tw-text-center")("prop","isX509Certificate")("isBoolean",!0),f.R7$(),f.Y8G("title","Settings.Keys.DeleteKey")("modalId",vt.deleteModalId)("actions",vt.keysDataTableActions)("modalType",vt.deleteModalType),f.R7$(3),f.JRh(f.bMT(11,31,"Common.Delete.AreYouSureSimple")),f.R7$(2),f.Y8G("innerHTML",f.bMT(13,33,"Common.Delete.Warning"),f.npT))},dependencies:[m.up,N.w,G.G,C.D9],encapsulation:2})}}return ye})();var j=h(1594),U=h(6354),ie=h(1258),se=h(7756),L=h(5424),J=h(3431),q=h(7499),S=h(9196),re=h(6728),K=h(6406),me=h(8698),Ne=h(9550);function De(ye,ft){if(1&ye&&(f.j41(0,"option",11),f.EFF(1),f.k0s()),2&ye){const ze=ft.$implicit;f.Y8G("ngValue",ze),f.R7$(),f.JRh(ze)}}let xe=(()=>{class ye{constructor(){}ngOnInit(){}toggle(){this.parentForm.controls[this.webhookName].get("enabled").value?(this.parentForm.controls[this.webhookName].get("url").disable(),this.parentForm.controls[this.webhookName].get("scopeName").disable()):(this.parentForm.controls[this.webhookName].get("url").enable(),this.parentForm.controls[this.webhookName].get("scopeName").enable())}static{this.\u0275fac=function(Tt){return new(Tt||ye)}}static{this.\u0275cmp=f.VBU({type:ye,selectors:[["app-edit-webhook"]],inputs:{webhookName:"webhookName",scopeNames:"scopeNames",parentForm:"parentForm"},decls:11,vars:14,consts:[[1,"tw-ml-8","tw-mr-8",3,"formGroup"],[3,"formGroupName"],[3,"id","label"],[3,"id","isTraffic","isAlt"],["formControlName","enabled","type","checkbox",1,"tw-form-switch__input",3,"click","id"],[3,"id","label","help"],["id","WebhookUrl","type","text","formControlName","url",1,"tw-form-control"],[3,"label","isLast"],[1,"tw-form-select"],["id","scopes","formControlName","scopeName",1,"tw-form-control"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"]],template:function(Tt,vt){1&Tt&&(f.j41(0,"div",0)(1,"form",1)(2,"app-form-row",2)(3,"app-form-toggle",3)(4,"input",4),f.bIt("click",function(){return vt.toggle()}),f.k0s()()(),f.j41(5,"app-form-row",5),f.nrm(6,"input",6),f.k0s(),f.j41(7,"app-form-row",7)(8,"div",8)(9,"select",9),f.DNE(10,De,2,2,"option",10),f.k0s()()()()()),2&Tt&&(f.Y8G("formGroup",vt.parentForm),f.R7$(),f.FS9("formGroupName",vt.webhookName),f.R7$(),f.Y8G("id","WebhookEnabled")("label","Webhooks.EnableWebhook"),f.R7$(),f.Y8G("id","WebhookEnabled"+vt.webhookName)("isTraffic",!0)("isAlt",!1),f.R7$(),f.Y8G("id","WebhookEnabled"+vt.webhookName),f.R7$(),f.Y8G("id","WebhookUrl")("label","Common.URL")("help","Webhooks.EnsureHttps"),f.R7$(2),f.Y8G("label","Webhooks.ProtectingScope")("isLast",!0),f.R7$(3),f.Y8G("ngForOf",vt.scopeNames))},dependencies:[n.Sq,e.qT,e.xH,e.y7,e.me,e.Zm,e.wz,e.BC,e.cb,e.cV,e.j4,e.JD,e.$R,me.Y,Ne.m],encapsulation:2})}}return ye})();var Qe=h(6303),Se=h(7921),be=h(8762);const le=ye=>[ye];function Fe(ye,ft){if(1&ye&&(f.j41(0,"app-form-row",3),f.nrm(1,"app-readonly",2),f.k0s(),f.j41(2,"app-form-row",1),f.nrm(3,"app-readonly",2),f.k0s()),2&ye){const ze=f.XpG();f.Y8G("id","WebhookUrl"+ze.webhookName)("label","Common.URL")("help","Webhooks.EnsureHttps"),f.R7$(),f.Y8G("id","WebhookUrl"+ze.webhookName)("fieldType",ze.ReadOnlyFieldType.Single)("values",f.eq3(12,le,ze.webhookValues.url)),f.R7$(),f.Y8G("id","WebhookScope"+ze.webhookName)("label","Webhooks.ProtectingScope")("isLast",!0),f.R7$(),f.Y8G("id","WebhookScope"+ze.webhookName)("fieldType",ze.ReadOnlyFieldType.Single)("values",f.eq3(14,le,ze.webhookValues.scopeName))}}let Te=(()=>{class ye{get ReadOnlyFieldType(){return Qe.t}constructor(){}ngOnChanges(){this.webhookValues=new Se.b(this.webhook)}static{this.\u0275fac=function(Tt){return new(Tt||ye)}}static{this.\u0275cmp=f.VBU({type:ye,selectors:[["app-readonly-webhook"]],inputs:{webhookName:"webhookName",webhook:"webhook"},features:[f.OA$],decls:4,vars:9,consts:[[1,"tw-ml-8","tw-mr-8"],[3,"id","label","isLast"],[3,"id","fieldType","values"],[3,"id","label","help"]],template:function(Tt,vt){1&Tt&&(f.j41(0,"div",0)(1,"app-form-row",1),f.nrm(2,"app-readonly",2),f.k0s(),f.DNE(3,Fe,4,16),f.k0s()),2&Tt&&(f.R7$(),f.Y8G("id","WebhookEnabled"+vt.webhookName)("label","Webhooks.EnableWebhook")("isLast",!vt.webhook.enabled),f.R7$(),f.Y8G("id","WebhookEnabled"+vt.webhookName)("fieldType",vt.ReadOnlyFieldType.Single)("values",f.eq3(7,le,vt.webhookValues.enabled)),f.R7$(),f.vxM(3,vt.webhook.enabled?3:-1))},dependencies:[me.Y,be.O],encapsulation:2})}}return ye})();const st=["save"];function Oe(ye,ft){if(1&ye&&(f.j41(0,"div",0)(1,"h2",5),f.EFF(2),f.nI1(3,"translate"),f.k0s(),f.nrm(4,"app-readonly-webhook",6),f.j41(5,"h2",5),f.EFF(6),f.nI1(7,"translate"),f.k0s(),f.nrm(8,"app-readonly-webhook",6),f.j41(9,"h2",5),f.EFF(10),f.nI1(11,"translate"),f.k0s(),f.nrm(12,"app-readonly-webhook",6),f.j41(13,"h2",5),f.EFF(14),f.nI1(15,"translate"),f.k0s(),f.nrm(16,"app-readonly-webhook",6),f.k0s()),2&ye){const ze=f.XpG(2);f.R7$(2),f.JRh(f.bMT(3,12,"Webhooks.MultiFactorHeading")),f.R7$(2),f.Y8G("webhookName",ze.webhookNames.MFAReset)("webhook",ze.webhooksForm.get(ze.webhookNames.MFAReset).value),f.R7$(2),f.JRh(f.bMT(7,14,"Webhooks.PasswordResetHeading")),f.R7$(2),f.Y8G("webhookName",ze.webhookNames.PasswordReset)("webhook",ze.webhooksForm.get(ze.webhookNames.PasswordReset).value),f.R7$(2),f.JRh(f.bMT(11,16,"Webhooks.UserRegistrationHeading")),f.R7$(2),f.Y8G("webhookName",ze.webhookNames.UserRegistration)("webhook",ze.webhooksForm.get(ze.webhookNames.UserRegistration).value),f.R7$(2),f.JRh(f.bMT(15,18,"Webhooks.ServerSideSessionDeleteHeading")),f.R7$(2),f.Y8G("webhookName",ze.webhookNames.ServerSideSessionDelete)("webhook",ze.webhooksForm.get(ze.webhookNames.ServerSideSessionDelete).value)}}function pt(ye,ft){if(1&ye&&(f.j41(0,"div",1)(1,"div")(2,"p",2),f.EFF(3),f.nI1(4,"translate"),f.k0s(),f.nrm(5,"p",3),f.nI1(6,"translate"),f.k0s()(),f.DNE(7,Oe,17,20,"div",4)),2&ye){const ze=f.XpG();f.R7$(3),f.JRh(f.bMT(4,3,"Common.ReadOnlyModeWarningTitle")),f.R7$(2),f.Y8G("innerHTML",f.bMT(6,5,"Settings.Webhooks.ReadOnlyModeWarn"),f.npT),f.R7$(2),f.Y8G("ngIf",ze.webhookConfiguration)}}function Ye(ye,ft){if(1&ye&&(f.j41(0,"div",0)(1,"form",11)(2,"h2",5),f.EFF(3),f.nI1(4,"translate"),f.k0s(),f.nrm(5,"app-edit-webhook",12),f.j41(6,"h2",5),f.EFF(7),f.nI1(8,"translate"),f.k0s(),f.nrm(9,"app-edit-webhook",12),f.j41(10,"h2",5),f.EFF(11),f.nI1(12,"translate"),f.k0s(),f.nrm(13,"app-edit-webhook",12),f.j41(14,"h2",5),f.EFF(15),f.nI1(16,"translate"),f.k0s(),f.nrm(17,"app-edit-webhook",12),f.k0s()()),2&ye){const ze=f.XpG(2);f.R7$(),f.Y8G("formGroup",ze.webhooksForm),f.R7$(2),f.JRh(f.bMT(4,17,"Webhooks.MultiFactorHeading")),f.R7$(2),f.Y8G("webhookName",ze.webhookNames.MFAReset)("scopeNames",ze.scopeNames)("parentForm",ze.webhooksForm),f.R7$(2),f.JRh(f.bMT(8,19,"Webhooks.PasswordResetHeading")),f.R7$(2),f.Y8G("webhookName",ze.webhookNames.PasswordReset)("scopeNames",ze.scopeNames)("parentForm",ze.webhooksForm),f.R7$(2),f.JRh(f.bMT(12,21,"Webhooks.UserRegistrationHeading")),f.R7$(2),f.Y8G("webhookName",ze.webhookNames.UserRegistration)("scopeNames",ze.scopeNames)("parentForm",ze.webhooksForm),f.R7$(2),f.JRh(f.bMT(16,23,"Webhooks.ServerSideSessionDeleteHeading")),f.R7$(2),f.Y8G("webhookName",ze.webhookNames.ServerSideSessionDelete)("scopeNames",ze.scopeNames)("parentForm",ze.webhooksForm)}}function qt(ye,ft){if(1&ye){const ze=f.RV6();f.DNE(0,Ye,18,25,"div",4),f.j41(1,"app-custom-modal",7),f.bIt("onCancel",function(){f.eBV(ze);const vt=f.XpG();return f.Njj(vt.cancelWebhookUpdate())})("onSave",function(){f.eBV(ze);const vt=f.XpG();return f.Njj(vt.acceptClientCreation())}),f.j41(2,"h2",8),f.EFF(3),f.nI1(4,"translate"),f.k0s(),f.j41(5,"p",9),f.EFF(6),f.nI1(7,"translate"),f.k0s()(),f.j41(8,"app-custom-modal",7),f.bIt("onCancel",function(){f.eBV(ze);const vt=f.XpG();return f.Njj(vt.cancelWebhookUpdate())})("onSave",function(){f.eBV(ze);const vt=f.XpG();return f.Njj(vt.acceptClientCreation())}),f.j41(9,"h2",8),f.EFF(10),f.nI1(11,"translate"),f.k0s(),f.j41(12,"p",9),f.EFF(13),f.nI1(14,"translate"),f.k0s()(),f.j41(15,"app-button-bar")(16,"button",10),f.bIt("click",function(){f.eBV(ze);const vt=f.XpG();return f.Njj(vt.processWebhookConfigurationUpdate())}),f.EFF(17),f.nI1(18,"translate"),f.k0s()()}if(2&ye){const ze=f.XpG();f.Y8G("ngIf",ze.webhookConfiguration),f.R7$(),f.Y8G("saveText","Common.Continue")("actions",ze.confirmationModalActions)("title","Webhooks.ClientCreationWarningTitle")("modalId",ze.clientCreationConfirmationModalId),f.R7$(2),f.JRh(f.bMT(4,15,"Common.Warning")),f.R7$(3),f.SpI(" ",f.bMT(7,17,"Webhooks.ClientCreationWarningDescription")," "),f.R7$(2),f.Y8G("saveText","Common.Continue")("actions",ze.confirmationModalActions)("title","Webhooks.ClientDeletionWarningTitle")("modalId",ze.clientDeletionConfirmationModalId),f.R7$(2),f.JRh(f.bMT(11,19,"Common.Warning")),f.R7$(3),f.SpI(" ",f.bMT(14,21,"Webhooks.ClientDeletionWarningDescription")," "),f.R7$(3),f.Y8G("disabled",ze.saveLock),f.R7$(),f.SpI(" ",f.bMT(18,23,"Common.Save")," ")}}let jt=(()=>{class ye{constructor(ze,Tt,vt,Xt,Vn,ri,vi,ti,Ui){this.activatedRoute=ze,this.errorService=Tt,this.fb=vt,this.webhookService=Xt,this.translate=Vn,this.toastr=ri,this.modalService=vi,this.dialogService=ti,this.uiConfig=Ui,this.webhookNames=se.EK,this.saveLock=!1,this.clientCreationConfirmationModalId="clientCreationConfirmationModalId",this.clientDeletionConfirmationModalId="clientDeletionConfirmationModalId",this.confirmationModalActions=[ie.N.Save],this.isReadOnly=!1}ngOnInit(){this.uiConfig.getConfig().pipe((0,j.$)()).subscribe({next:ze=>{this.isReadOnly=!ze.webhookPersistence}}),this.activatedRoute.data.pipe(function $(...ye){const ft=ye.length;if(0===ft)throw new Error("list of properties cannot be empty.");return(0,U.T)(ze=>{let Tt=ze;for(let vt=0;vt<ft;vt++){const Xt=Tt?.[ye[vt]];if(!(typeof Xt<"u"))return;Tt=Xt}return Tt})}("webhookResolverObject")).subscribe(ze=>{this.webhookConfiguration=ze.webhookConfiguration,this.webhooksEnabled=this.checkWebhooksEnabled(),this.scopeNames=ze.scopeNames,this.webhooksForm=this.fb.group({[se.EK.MFAReset]:this.createFormGroup(this.webhookConfiguration.webhooks.MfaReset),[se.EK.PasswordReset]:this.createFormGroup(this.webhookConfiguration.webhooks.PasswordReset),[se.EK.UserRegistration]:this.createFormGroup(this.webhookConfiguration.webhooks.UserRegistration),[se.EK.ServerSideSessionDelete]:this.createFormGroup(this.webhookConfiguration.webhooks.ServerSideSessionDelete)}),this.saveLock=!0,this.webhooksForm.valueChanges.subscribe(Tt=>{this.saveLock=!(this.webhooksForm.controls[se.EK.MFAReset].valid&&this.webhooksForm.controls[se.EK.PasswordReset].valid&&this.webhooksForm.controls[se.EK.UserRegistration].valid&&this.webhooksForm.controls[se.EK.ServerSideSessionDelete].valid)})},ze=>{this.errorService.handleError(ze)})}createFormGroup(ze){return this.fb.group({url:[{value:ze.url,disabled:!ze.enabled},e.k0.required],scopeName:[{value:ze.scopeName,disabled:!ze.enabled}],enabled:[ze.enabled]})}processWebhookConfigurationUpdate(){const ze=this.getWebhookFormValues();return!this.webhooksEnabled&&this.checkAnyWebhooksEnabled(ze)?this.modalService.showById(this.clientCreationConfirmationModalId,this.saveButtonRef):this.webhooksEnabled&&this.checkAllWebhooksDisabled(ze)?this.modalService.showById(this.clientDeletionConfirmationModalId,this.saveButtonRef):void this.saveWebhookConfiguration()}saveWebhookConfiguration(){const ze=this.getWebhookFormValues();this.webhookService.saveWebhookConfiguration(ze).subscribe(()=>{this.toastr.success(this.translate.instant("Webhooks.WebhookConfigurationUpdated"),this.translate.instant("Notifications.Success")),this.webhookService.getWebhooks().subscribe(Tt=>{this.webhookConfiguration=Tt,this.webhooksEnabled=this.checkWebhooksEnabled()},Tt=>{this.errorService.handleError(Tt)}),this.webhooksForm.markAsPristine()},Tt=>{this.errorService.handleError(Tt)})}cancelWebhookUpdate(){this.modalService.hideById(this.clientCreationConfirmationModalId)}acceptClientCreation(){this.saveWebhookConfiguration()}getWebhookFormValues(){const ze=this.webhooksForm.getRawValue();return new se.m8(ze.MfaReset,ze.PasswordReset,ze.UserRegistration,ze.ServerSideSessionDelete)}checkWebhooksEnabled(){return this.webhookConfiguration.webhooks.PasswordReset.enabled||this.webhookConfiguration.webhooks.UserRegistration.enabled||this.webhookConfiguration.webhooks.MfaReset.enabled||this.webhookConfiguration.webhooks.ServerSideSessionDelete.enabled}checkAnyWebhooksEnabled(ze){return ze.webhooks.PasswordReset.enabled||ze.webhooks.UserRegistration.enabled||ze.webhooks.MfaReset.enabled||ze.webhooks.ServerSideSessionDelete.enabled}checkAllWebhooksDisabled(ze){return!(ze.webhooks.PasswordReset.enabled||ze.webhooks.UserRegistration.enabled||ze.webhooks.MfaReset.enabled||ze.webhooks.ServerSideSessionDelete.enabled)}canDeactivate(){return!this.webhooksForm.dirty||(this.dialogService.confirm(),this.dialogService.eventStream)}static{this.\u0275fac=function(Tt){return new(Tt||ye)(f.rXU(w.nX),f.rXU(L.I),f.rXU(e.ze),f.rXU(J.x),f.rXU(C.c$),f.rXU(b.tw),f.rXU(M.B),f.rXU(q.o),f.rXU(S.w))}}static{this.\u0275cmp=f.VBU({type:ye,selectors:[["app-manage-webhooks"]],viewQuery:function(Tt,vt){if(1&Tt&&f.GBs(st,5),2&Tt){let Xt;f.mGM(Xt=f.lsd())&&(vt.saveButtonRef=Xt.first)}},decls:4,vars:1,consts:[[1,"tw-container","tw-mx-auto"],["id","readOnlyModeWarn",1,"tw-alert","tw-mb-4"],[1,"tw-font-bold"],[1,"tw-text-sm",3,"innerHTML"],["class","tw-container tw-mx-auto",4,"ngIf"],[1,"tw-mb-6","tw-mt-8","tw-font-semibold","tw-text-lg"],[3,"webhookName","webhook"],[3,"onCancel","onSave","saveText","actions","title","modalId"],[1,"tw-text-xl","tw-font-semibold","md:tw-text-2xl"],["role","alert",1,"tw-alert-warning","tw-mb-4","tw-mt-4"],["id","save",1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"click","disabled"],[3,"formGroup"],[3,"webhookName","scopeNames","parentForm"]],template:function(Tt,vt){1&Tt&&(f.j41(0,"div",0),f.DNE(1,pt,8,7)(2,qt,19,25),f.k0s(),f.nrm(3,"app-can-deactivate")),2&Tt&&(f.R7$(),f.vxM(1,vt.isReadOnly?1:2))},dependencies:[n.bT,e.qT,e.cb,e.j4,re.E,K.z,G.G,xe,Te,C.D9],encapsulation:2})}}return ye})();class Dt{}var wt=h(4549);let z=(()=>{class ye{constructor(ze,Tt){this.http=ze,this.headersService=Tt,this.actionUrl="policy",this.headers=Tt.setHeaders()}getAccessPolicy(){return this.http.get(this.actionUrl,{headers:this.headers})}updateAccessPolicy(ze){return this.http.put(this.actionUrl,ze,{headers:this.headers})}static{this.\u0275fac=function(Tt){return new(Tt||ye)(f.KVO(T.Qq),f.KVO(O.m))}}static{this.\u0275prov=f.jDH({token:ye,factory:ye.\u0275fac})}}return ye})();var Y=h(6801),Z=h(7156),Ce=h(7384),we=h(7294),at=h(7778);class Be{constructor(ft,ze,Tt){this.isDateTime=!1,this.type=ft,this.value=ze,this.permission=Tt}}var ot=h(7811),Pt=h(6536);const mt=["addPolicyModal"],it=()=>({animated:!1,backdrop:"static"});function Kt(ye,ft){if(1&ye&&(f.j41(0,"option"),f.EFF(1),f.k0s()),2&ye){const ze=ft.$implicit;f.R7$(),f.SpI(" ",null==ze?null:ze.name," ")}}function sn(ye,ft){if(1&ye){const ze=f.RV6();f.j41(0,"input",31),f.mxI("ngModelChange",function(vt){f.eBV(ze);const Xt=f.XpG();return f.DH7(Xt.value,vt)||(Xt.value=vt),f.Njj(vt)}),f.k0s()}if(2&ye){const ze=f.XpG();f.R50("ngModel",ze.value)}}function Ft(ye,ft){if(1&ye&&(f.j41(0,"option"),f.EFF(1),f.k0s()),2&ye){const ze=ft.$implicit;f.R7$(),f.SpI(" ",null==ze?null:ze.name," ")}}function Jt(ye,ft){if(1&ye){const ze=f.RV6();f.j41(0,"div",11)(1,"select",32),f.mxI("ngModelChange",function(vt){f.eBV(ze);const Xt=f.XpG();return f.DH7(Xt.value,vt)||(Xt.value=vt),f.Njj(vt)}),f.DNE(2,Ft,2,1,"option",13),f.k0s()()}if(2&ye){const ze=f.XpG();f.R7$(),f.R50("ngModel",ze.value),f.R7$(),f.Y8G("ngForOf",ze.avaliableRoles)}}function je(ye,ft){if(1&ye){const ze=f.RV6();f.j41(0,"input",31),f.mxI("ngModelChange",function(vt){f.eBV(ze);const Xt=f.XpG();return f.DH7(Xt.value,vt)||(Xt.value=vt),f.Njj(vt)}),f.k0s()}if(2&ye){const ze=f.XpG();f.R50("ngModel",ze.value)}}function ce(ye,ft){if(1&ye){const ze=f.RV6();f.j41(0,"input",33),f.mxI("ngModelChange",function(vt){f.eBV(ze);const Xt=f.XpG();return f.DH7(Xt.value,vt)||(Xt.value=vt),f.Njj(vt)}),f.k0s()}if(2&ye){const ze=f.XpG();f.R50("ngModel",ze.value)}}function X(ye,ft){if(1&ye){const ze=f.RV6();f.j41(0,"div",11)(1,"select",32),f.mxI("ngModelChange",function(vt){f.eBV(ze);const Xt=f.XpG();return f.DH7(Xt.value,vt)||(Xt.value=vt),f.Njj(vt)}),f.j41(2,"option",34),f.EFF(3),f.nI1(4,"translate"),f.k0s(),f.j41(5,"option",35),f.EFF(6),f.nI1(7,"translate"),f.k0s()()()}if(2&ye){const ze=f.XpG();f.R7$(),f.R50("ngModel",ze.value),f.R7$(2),f.JRh(f.bMT(4,3,"Common.True")),f.R7$(3),f.JRh(f.bMT(7,5,"Common.False"))}}function oe(ye,ft){if(1&ye){const ze=f.RV6();f.j41(0,"div",36)(1,"app-enum-claim-type-input",37),f.bIt("valueChanged",function(vt){f.eBV(ze);const Xt=f.XpG();return f.Njj(Xt.value=vt)}),f.k0s()()}if(2&ye){const ze=f.XpG();f.Y8G("id","value-for-"+ze.selectedClaimType.id),f.R7$(),f.Y8G("id","claimsFormInput")("typeId",ze.selectedClaimType.id)("hostingModal","addPolicyModal")("value",ze.value)}}function Ve(ye,ft){if(1&ye){const ze=f.RV6();f.qex(0),f.j41(1,"app-date-time",40),f.mxI("ngModelChange",function(vt){f.eBV(ze);const Xt=f.XpG(2);return f.DH7(Xt.value,vt)||(Xt.value=vt),f.Njj(vt)}),f.k0s(),f.bVm()}if(2&ye){const ze=f.XpG(2);f.R7$(),f.R50("ngModel",ze.value)}}function tt(ye,ft){if(1&ye){const ze=f.RV6();f.qex(0),f.j41(1,"app-date-time",41),f.mxI("ngModelChange",function(vt){f.eBV(ze);const Xt=f.XpG(2);return f.DH7(Xt.value,vt)||(Xt.value=vt),f.Njj(vt)}),f.k0s(),f.bVm()}if(2&ye){const ze=f.XpG(2);f.R7$(),f.R50("ngModel",ze.value),f.Y8G("displayType","date")}}function gt(ye,ft){if(1&ye&&(f.j41(0,"div",38),f.DNE(1,Ve,2,1,"ng-container",39)(2,tt,2,2,"ng-container",39),f.k0s()),2&ye){const ze=f.XpG();f.R7$(),f.Y8G("ngIf","birthdate"!=ze.claimType),f.R7$(),f.Y8G("ngIf","birthdate"==ze.claimType)}}function Bt(ye,ft){if(1&ye&&(f.j41(0,"option",42),f.EFF(1),f.nI1(2,"translate"),f.k0s()),2&ye){const ze=ft.$implicit;f.FS9("value",ze),f.R7$(),f.SpI(" ",f.bMT(2,2,"Permission."+ze)," ")}}let cn=(()=>{class ye{constructor(ze){this.toastr=ze,this.added=new f.bkB,this.addAnother=!1}keydown(ze){"Enter"===ze.key&&this.isValid()&&this.addPolicy()}getClaimType(){this.selectedClaimType=this.avaliableClaimTypes.find(ze=>ze.name===this.claimType)}isValid(){return null!=this.claimType&&null!=this.value&&null!=this.permission}addAnotherPolicy(){this.addAnother=!0,this.addPolicy()}addPolicy(){const ze=new Be(this.claimType,this.value,this.permission);this.added.next(ze),this.addAnother?(this.reset(),this.addAnother=!1):this.hide()}reset(){this.selectedClaimType=void 0,this.claimType=void 0,this.value=void 0,this.permission=void 0}hide(){this.addPolicyModal.hide()}show(){this.reset(),this.addPolicyModal.show()}ngOnDestroy(){this.hide()}static{this.\u0275fac=function(Tt){return new(Tt||ye)(f.rXU(b.tw))}}static{this.\u0275cmp=f.VBU({type:ye,selectors:[["app-add-accesspolicy"]],viewQuery:function(Tt,vt){if(1&Tt&&f.GBs(mt,7),2&Tt){let Xt;f.mGM(Xt=f.lsd())&&(vt.addPolicyModal=Xt.first)}},hostBindings:function(Tt,vt){1&Tt&&f.bIt("keydown",function(Vn){return vt.keydown(Vn)},!1,f.EBC)},inputs:{avaliableClaimTypes:"avaliableClaimTypes",avaliableRoles:"avaliableRoles",avaliablePermissions:"avaliablePermissions",accessPolicy:"accessPolicy"},outputs:{added:"added"},decls:46,vars:38,consts:[["addPolicyModal","bs-modal"],["bsModal","","id","addPolicyModal","tabindex","-1","role","dialog","aria-hidden","true",1,"modal",3,"config"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","scrollbars"],[3,"id","label"],[1,"tw-form-select"],["id","addClaimType","required","",1,"tw-form-control",3,"ngModelChange","ngModel"],[4,"ngFor","ngForOf"],[3,"id","label","help"],["id","formClaimValue","class","tw-form-control","type","text","required","",3,"ngModel","ngModelChange",4,"ngIf"],["class","tw-form-select",4,"ngIf"],["id","formClaimValue","class","tw-form-control","type","number","required","",3,"ngModel","ngModelChange",4,"ngIf"],["class","",3,"id",4,"ngIf"],["class","tw-w-full sm:tw-max-w-2xl",4,"ngIf"],[3,"id","label","isLast"],["id","addClaimPermission","required","",1,"tw-form-control",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["type","submit","id","addPolicySubmit",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],[1,"tw-hidden","xs:tw-inline"],["type","button","id","addPolicyReSubmit",1,"tw-btn",3,"click","disabled"],[1,"tw-btn-link","tw--mr-4",3,"click"],["id","formClaimValue","type","text","required","",1,"tw-form-control",3,"ngModelChange","ngModel"],["id","formClaimValue","required","",1,"tw-form-control",3,"ngModelChange","ngModel"],["id","formClaimValue","type","number","required","",1,"tw-form-control",3,"ngModelChange","ngModel"],["value","true"],["value","false"],[1,"",3,"id"],[3,"valueChanged","id","typeId","hostingModal","value"],[1,"tw-w-full","sm:tw-max-w-2xl"],[4,"ngIf"],["id","formClaimValue","required","true",3,"ngModelChange","ngModel"],["id","formClaimValue","required","true",3,"ngModelChange","ngModel","displayType"],[3,"value"]],template:function(Tt,vt){if(1&Tt){const Xt=f.RV6();f.j41(0,"div",1,0)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),f.EFF(6),f.nI1(7,"translate"),f.k0s(),f.j41(8,"button",6),f.bIt("click",function(){return f.eBV(Xt),f.Njj(vt.hide())}),f.nrm(9,"span",7),f.j41(10,"span",8),f.EFF(11),f.nI1(12,"translate"),f.k0s()()(),f.j41(13,"div",9)(14,"app-form-row",10)(15,"div",11)(16,"select",12),f.mxI("ngModelChange",function(ri){return f.eBV(Xt),f.DH7(vt.claimType,ri)||(vt.claimType=ri),f.Njj(ri)}),f.bIt("ngModelChange",function(){return f.eBV(Xt),f.Njj(vt.getClaimType())}),f.nrm(17,"option"),f.DNE(18,Kt,2,1,"option",13),f.k0s()()(),f.j41(19,"app-form-row",14),f.DNE(20,sn,1,1,"input",15)(21,Jt,3,2,"div",16)(22,je,1,1,"input",15)(23,ce,1,1,"input",17)(24,X,8,7,"div",16)(25,oe,2,5,"div",18)(26,gt,3,2,"div",19),f.k0s(),f.j41(27,"app-form-row",20)(28,"div",11)(29,"select",21),f.mxI("ngModelChange",function(ri){return f.eBV(Xt),f.DH7(vt.permission,ri)||(vt.permission=ri),f.Njj(ri)}),f.nrm(30,"option"),f.DNE(31,Bt,3,4,"option",22),f.k0s()()()(),f.nrm(32,"div",23),f.j41(33,"div",24)(34,"div",25)(35,"div",26)(36,"button",27),f.bIt("click",function(){return f.eBV(Xt),vt.addPolicy(),f.Njj(vt.hide())}),f.EFF(37),f.nI1(38,"translate"),f.k0s(),f.j41(39,"span",28)(40,"button",29),f.bIt("click",function(){return f.eBV(Xt),f.Njj(vt.addAnotherPolicy())}),f.EFF(41),f.nI1(42,"translate"),f.k0s()()(),f.j41(43,"button",30),f.bIt("click",function(){return f.eBV(Xt),f.Njj(vt.hide())}),f.EFF(44),f.nI1(45,"translate"),f.k0s()()()()()()}2&Tt&&(f.Y8G("config",f.lJ4(37,it)),f.R7$(6),f.JRh(f.bMT(7,27,"Settings.AccessPolicy.NewPolicy")),f.R7$(5),f.JRh(f.bMT(12,29,"Common.Close")),f.R7$(3),f.Y8G("id","addClaimType")("label","Settings.AccessPolicy.ClaimType"),f.R7$(2),f.R50("ngModel",vt.claimType),f.R7$(2),f.Y8G("ngForOf",vt.avaliableClaimTypes),f.R7$(),f.Y8G("id","formClaimValue")("label","Settings.AccessPolicy.ClaimValue")("help","DateTime"==(null==vt.selectedClaimType?null:vt.selectedClaimType.valueType)?"Common.Dates.UTCWarning":""),f.R7$(),f.Y8G("ngIf",null==vt.claimType||""==vt.claimType),f.R7$(),f.Y8G("ngIf","role"==vt.claimType),f.R7$(),f.Y8G("ngIf","String"==(null==vt.selectedClaimType?null:vt.selectedClaimType.valueType)&&"role"!=vt.claimType),f.R7$(),f.Y8G("ngIf","Int"==(null==vt.selectedClaimType?null:vt.selectedClaimType.valueType)&&"role"!=vt.claimType),f.R7$(),f.Y8G("ngIf","Boolean"==(null==vt.selectedClaimType?null:vt.selectedClaimType.valueType)&&"role"!=vt.claimType),f.R7$(),f.Y8G("ngIf","Enum"==(null==vt.selectedClaimType?null:vt.selectedClaimType.valueType)),f.R7$(),f.Y8G("ngIf","DateTime"==(null==vt.selectedClaimType?null:vt.selectedClaimType.valueType)&&"role"!=vt.claimType),f.R7$(),f.Y8G("id","addClaimPermission")("label","Settings.AccessPolicy.Permission")("isLast",!0),f.R7$(2),f.R50("ngModel",vt.permission),f.R7$(2),f.Y8G("ngForOf",vt.avaliablePermissions),f.R7$(5),f.Y8G("disabled",!vt.isValid()),f.R7$(),f.JRh(f.bMT(38,31,"Common.Add")),f.R7$(3),f.Y8G("disabled",!vt.isValid()),f.R7$(),f.JRh(f.bMT(42,33,"Common.AddAndAdd")),f.R7$(3),f.JRh(f.bMT(45,35,"Common.Cancel")))},dependencies:[n.Sq,n.bT,e.xH,e.y7,e.me,e.Q0,e.wz,e.BC,e.YS,e.vS,p.hZ,me.Y,ot.j,Pt.Z,C.D9],encapsulation:2})}}return ye})();var hn=h(1589);const An=["deleteAccessPolicyModal"],xn=(ye,ft)=>ft.type+ft.value+ft.permission,Bn=ye=>({"inactive disabled":ye});function It(ye,ft){if(1&ye){const ze=f.RV6();f.j41(0,"app-action-bar"),f.qex(1,10),f.j41(2,"button",11),f.bIt("click",function(){f.eBV(ze),f.XpG();const vt=f.sdS(1);return f.Njj(vt.show())}),f.EFF(3),f.nI1(4,"translate"),f.k0s(),f.bVm(),f.k0s()}2&ye&&(f.R7$(3),f.SpI(" ",f.bMT(4,1,"Settings.AccessPolicy.Add")," "))}function Dn(ye,ft){1&ye&&(f.j41(0,"div",5)(1,"div")(2,"p",12),f.EFF(3),f.nI1(4,"translate"),f.k0s(),f.nrm(5,"p",13),f.nI1(6,"translate"),f.k0s()()),2&ye&&(f.R7$(3),f.JRh(f.bMT(4,2,"Common.ReadOnlyModeWarningTitle")),f.R7$(2),f.Y8G("innerHTML",f.bMT(6,4,"Settings.AccessPolicy.ReadOnlyModeWarn"),f.npT))}function Gt(ye,ft){1&ye&&f.nrm(0,"app-simple-loader")}function lt(ye,ft){1&ye&&(f.j41(0,"th",18)(1,"span",19),f.EFF(2),f.nI1(3,"translate"),f.k0s()()),2&ye&&(f.R7$(2),f.JRh(f.bMT(3,1,"Common.Actions")))}function Ct(ye,ft){if(1&ye&&(f.j41(0,"td",25),f.EFF(1),f.k0s()),2&ye){const ze=f.XpG().$implicit;f.R7$(),f.SpI(" ",ze.value," ")}}function yt(ye,ft){if(1&ye&&(f.j41(0,"td",25),f.EFF(1),f.nI1(2,"standardDate"),f.k0s()),2&ye){const ze=f.XpG().$implicit;f.R7$(),f.SpI(" ",f.bMT(2,1,ze.value)," ")}}function Ot(ye,ft){1&ye&&(f.j41(0,"span",24),f.EFF(1),f.nI1(2,"translate"),f.k0s()),2&ye&&(f.R7$(),f.SpI(" ",f.bMT(2,1,"Common.Reserved")," "))}function en(ye,ft){if(1&ye){const ze=f.RV6();f.j41(0,"button",27),f.bIt("click",function(){f.eBV(ze);const vt=f.XpG(2).$implicit,Xt=f.XpG(3);return f.Njj(Xt.openDeletePolicyConfirmation(vt.type,vt.value,vt.permission))}),f.nrm(1,"span",28),f.j41(2,"span",19),f.EFF(3),f.nI1(4,"translate"),f.k0s()()}2&ye&&(f.R7$(3),f.SpI(" ",f.bMT(4,1,"Common.Remove.Title")," "))}function Sn(ye,ft){if(1&ye&&(f.j41(0,"td"),f.DNE(1,en,5,3,"button",26),f.k0s()),2&ye){const ze=f.XpG().$implicit,Tt=f.XpG(3);f.R7$(),f.vxM(1,Tt.isAdminUiAdmin(ze)?-1:1)}}function Un(ye,ft){if(1&ye&&(f.j41(0,"tr",20)(1,"td",21)(2,"b"),f.EFF(3),f.k0s()(),f.DNE(4,Ct,2,1,"td",22)(5,yt,3,3,"ng-template",null,2,f.C5r),f.j41(7,"td",23),f.EFF(8),f.nI1(9,"translate"),f.k0s(),f.j41(10,"td"),f.DNE(11,Ot,3,3,"span",24),f.k0s(),f.DNE(12,Sn,2,1,"td"),f.k0s()),2&ye){const ze=ft.$implicit,Tt=f.sdS(6),vt=f.XpG(3);f.Y8G("ngClass",f.eq3(9,Bn,!vt.persistenceSetup||vt.isAdminUiAdmin(ze))),f.R7$(3),f.JRh(ze.type),f.R7$(),f.Y8G("ngIf",!ze.isDateTime)("ngIfElse",Tt),f.R7$(4),f.SpI(" ",f.bMT(9,7,"Permission."+ze.permission)," "),f.R7$(3),f.vxM(11,vt.isAdminUiAdmin(ze)?11:-1),f.R7$(),f.vxM(12,vt.persistenceSetup?12:-1)}}function fn(ye,ft){if(1&ye&&(f.j41(0,"table",6)(1,"thead")(2,"tr")(3,"th",15),f.EFF(4),f.nI1(5,"translate"),f.k0s(),f.j41(6,"th",16),f.EFF(7),f.nI1(8,"translate"),f.k0s(),f.j41(9,"th",17),f.EFF(10),f.nI1(11,"translate"),f.k0s(),f.j41(12,"th",18)(13,"span",19),f.EFF(14),f.nI1(15,"translate"),f.k0s()(),f.DNE(16,lt,4,3,"th",18),f.k0s()(),f.j41(17,"tbody"),f.Z7z(18,Un,13,11,"tr",20,xn),f.k0s(),f.nrm(20,"tbody"),f.k0s()),2&ye){const ze=f.XpG(2);f.R7$(4),f.JRh(f.bMT(5,5,"Settings.AccessPolicy.ClaimType")),f.R7$(3),f.JRh(f.bMT(8,7,"Settings.AccessPolicy.ClaimValue")),f.R7$(3),f.JRh(f.bMT(11,9,"Settings.AccessPolicy.Permission")),f.R7$(4),f.JRh(f.bMT(15,11,"Common.Reserved")),f.R7$(2),f.vxM(16,ze.persistenceSetup?16:-1),f.R7$(2),f.Dyx(null==ze.accessPolicy?null:ze.accessPolicy.policyClaims)}}function di(ye,ft){if(1&ye&&f.DNE(0,fn,21,13,"table",14),2&ye){const ze=f.XpG();f.Y8G("ngIf",(null==ze.accessPolicy||null==ze.accessPolicy.policyClaims?null:ze.accessPolicy.policyClaims.length)>0&&!ze.isLoading)}}function Gn(ye,ft){if(1&ye&&f.nrm(0,"app-pager",7),2&ye){const ze=f.XpG();f.Y8G("totalResults",null==ze.accessPolicy||null==ze.accessPolicy.policyClaims?null:ze.accessPolicy.policyClaims.length)}}let Mt=(()=>{class ye{constructor(ze,Tt,vt,Xt,Vn,ri,vi,ti){this.accessPolicyService=ze,this.translate=Tt,this.toastr=vt,this.errorService=Xt,this.healthCheckService=Vn,this.dialogService=ri,this.activatedRoute=vi,this.configService=ti,this.isLoading=!0,this.hasChanged=!1,this.saveDisabled=!1}ngOnInit(){this.activatedRoute.data.subscribe(ze=>{this.accessPolicyResolverData=ze.accessPolicyObject,this.avaliablePermissions=this.accessPolicyResolverData.permissions;const Tt=this.accessPolicyResolverData.accessPolicy.policyClaims.find(vt=>"role"===vt.type&&"AdminUI Administrator"===vt.value&&"All"===vt.permission);this.accessPolicy=new Dt,this.accessPolicy.version=this.accessPolicyResolverData.accessPolicy.version,this.accessPolicy.policyClaims=this.accessPolicyResolverData.accessPolicy.policyClaims.sort((vt,Xt)=>vt===Tt?-1:Xt===Tt?1:0),this.accessPolicy.policyClaims.forEach(vt=>{wt.c9.fromISO(vt.value).isValid&&(vt.isDateTime=!0)}),this.avaliableClaimTypes=this.accessPolicyResolverData.claimTypes.sort((vt,Xt)=>vt.name.toUpperCase()<Xt.name.toUpperCase()?-1:vt.name.toUpperCase()>Xt.name.toUpperCase()?1:0),this.avaliableRoles=this.accessPolicyResolverData.roles,this.isLoading=!1}),this.configService.getConfig().subscribe({next:ze=>{this.persistenceSetup=ze.policyPersistence}})}isAdminUiAdmin(ze){return"role"===ze.type&&"AdminUI Administrator"===ze.value&&"All"===ze.permission}canDeactivate(){return!this.hasChanged||(this.dialogService.confirm(),this.dialogService.eventStream)}getClaimType(){this.selectedClaimType=this.avaliableClaimTypes.find(ze=>ze.name===this.claimType)}warnToSave(){this.toastr.info(this.translate.instant("Notifications.DontForgetToSave"),this.translate.instant("Notifications.Notice"))}addPolicy(ze){this.hasChanged=!0,this.accessPolicy.policyClaims.push(ze),this.warnToSave()}openDeletePolicyConfirmation(ze,Tt,vt){this.indexToDelete=this.accessPolicy.policyClaims.findIndex(Xt=>Xt.type===ze&&Xt.value===Tt&&Xt.permission===vt),this.deleteAccessPolicyModal.show()}closeDeleteModal(){this.indexToDelete=null,this.deleteAccessPolicyModal.hide()}removePolicy(ze){this.accessPolicy.policyClaims.splice(ze,1),this.hasChanged=!0,this.warnToSave()}updatePolicy(){this.saveDisabled=!0,this.accessPolicyService.updateAccessPolicy(this.accessPolicy).subscribe(ze=>{this.accessPolicy=ze;const Tt=this.accessPolicy.policyClaims.find(vt=>"role"===vt.type&&"AdminUI Administrator"===vt.value&&"All"===vt.permission);this.accessPolicy.policyClaims.sort((vt,Xt)=>vt===Tt?-1:Xt===Tt?1:0),this.toastr.success(this.translate.instant("Settings.AccessPolicy.AccessPolicyUpdated"),this.translate.instant("Notifications.Success"))},ze=>{"409"===ze.code?this.toastr.error(this.translate.instant("Settings.AccessPolicy.AccessPolicyConflict"),this.translate.instant("Notifications.Error")):this.errorService.handleError(ze)},()=>{this.saveDisabled=!1}),this.hasChanged=!1}static{this.\u0275fac=function(Tt){return new(Tt||ye)(f.rXU(z),f.rXU(C.c$),f.rXU(b.tw),f.rXU(L.I),f.rXU(Y.M),f.rXU(q.o),f.rXU(w.nX),f.rXU(S.w))}}static{this.\u0275cmp=f.VBU({type:ye,selectors:[["app-update-accesspolicy"]],viewQuery:function(Tt,vt){if(1&Tt&&f.GBs(An,7),2&Tt){let Xt;f.mGM(Xt=f.lsd())&&(vt.deleteAccessPolicyModal=Xt.first)}},inputs:{claimType:"claimType",permission:"permission",value:"value"},decls:15,vars:15,consts:[["addPolicyModal",""],["deleteAccessPolicyModal",""],["dateTimePolicy",""],[3,"added","avaliableClaimTypes","avaliableRoles","avaliablePermissions","accessPolicy"],[1,"tw-container","tw-mx-auto"],["id","readOnlyModeWarn",1,"tw-alert","tw-mb-4"],[1,"datatable","hover"],["hidePager","true",3,"totalResults"],["id","save",1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"click","disabled"],[3,"delete","modalId","destructive"],["right",""],["id","addPolicyBtn",1,"tw-btn-success",3,"click"],[1,"tw-font-bold"],[1,"tw-text-sm",3,"innerHTML"],["class","datatable hover",4,"ngIf"],[1,"md:tw-w-1/4"],[1,"tw-hidden","md:tw-table-cell"],[1,"tw-hidden","lg:tw-table-cell"],[1,"tw-w-1"],[1,"sr-only"],[3,"ngClass"],[1,"tw-w-0","tw-truncate"],["class","tw-hidden tw-max-w-0 tw-truncate md:tw-table-cell",4,"ngIf","ngIfElse"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell"],[1,"tw-pill"],[1,"tw-hidden","tw-max-w-0","tw-truncate","md:tw-table-cell"],[1,"removePolicyBtn","tw-btn-link","tw-btn-small","tw-text-red-500"],[1,"removePolicyBtn","tw-btn-link","tw-btn-small","tw-text-red-500",3,"click"],["aria-hidden","true",1,"fas","fa-times"]],template:function(Tt,vt){if(1&Tt){const Xt=f.RV6();f.j41(0,"app-add-accesspolicy",3,0),f.bIt("added",function(ri){return f.eBV(Xt),f.Njj(vt.addPolicy(ri))}),f.k0s(),f.j41(2,"div",4),f.DNE(3,It,5,3,"app-action-bar")(4,Dn,7,6,"div",5)(5,Gt,1,0,"app-simple-loader")(6,di,1,1,"table",6)(7,Gn,1,1,"app-pager",7),f.k0s(),f.j41(8,"app-button-bar")(9,"button",8),f.bIt("click",function(){return f.eBV(Xt),f.Njj(vt.updatePolicy())}),f.EFF(10),f.nI1(11,"translate"),f.k0s()(),f.j41(12,"app-delete-confirmation-modal",9,1),f.bIt("delete",function(){return f.eBV(Xt),f.Njj(vt.removePolicy(vt.indexToDelete))}),f.k0s(),f.nrm(14,"app-can-deactivate")}if(2&Tt){const Xt=f.sdS(13);f.Y8G("avaliableClaimTypes",vt.avaliableClaimTypes)("avaliableRoles",vt.avaliableRoles)("avaliablePermissions",vt.avaliablePermissions)("accessPolicy",vt.accessPolicy),f.R7$(3),f.vxM(3,vt.persistenceSetup&&!vt.isLoading?3:-1),f.R7$(),f.vxM(4,vt.persistenceSetup?-1:4),f.R7$(),f.vxM(5,vt.isLoading?5:-1),f.R7$(),f.vxM(6,(null==vt.accessPolicy||null==vt.accessPolicy.policyClaims?null:vt.accessPolicy.policyClaims.length)>0&&!vt.isLoading?6:-1),f.R7$(),f.vxM(7,(null==vt.accessPolicy||null==vt.accessPolicy.policyClaims?null:vt.accessPolicy.policyClaims.length)>0&&!vt.isLoading?7:-1),f.R7$(2),f.Y8G("disabled",vt.saveDisabled),f.R7$(),f.SpI(" ",f.bMT(11,13,"Common.Save")," "),f.R7$(2),f.Y8G("modalId",Xt)("destructive",!1)}},dependencies:[n.YU,n.bT,re.E,Z.B,Ce.d,we.n,K.z,at.w,cn,C.D9,hn.El],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return ye})();var ht=h(7468);class xt{}var $t=h(526),nn=h(7773),vn=h(3519);let gn=(()=>{class ye{constructor(ze,Tt,vt,Xt,Vn){this.claimTypeService=ze,this.permissionService=Tt,this.accessPolicyService=vt,this.rolesService=Xt,this.errorService=Vn}resolve(){const ze=this.permissionService.getAvaliablePermissions(),Tt=this.accessPolicyService.getAccessPolicy(),vt=this.claimTypeService.getClaimTypes(),Xt=this.rolesService.getRoles();return(0,ht.p)([ze,Tt,vt,Xt]).pipe((0,U.T)(([ri,vi,ti,Ui])=>{const hr=new xt;return hr.permissions=ri,hr.claimTypes=ti,hr.accessPolicy=vi,hr.roles=Ui,hr},ri=>{this.errorService.handleError(ri)}))}static{this.\u0275fac=function(Tt){return new(Tt||ye)(f.KVO($t.X),f.KVO(nn.n),f.KVO(z),f.KVO(vn.P),f.KVO(L.I))}}static{this.\u0275prov=f.jDH({token:ye,factory:ye.\u0275fac})}}return ye})();var Yn=h(9437),In=h(5893);let mn=(()=>{class ye{constructor(ze,Tt,vt){this.webhookService=ze,this.protectedResourceService=Tt,this.errorService=vt}resolve(){return(0,ht.p)({webhooks:this.webhookService.getWebhooks(),protectedResources:this.protectedResourceService.getProtectedResources()}).pipe((0,U.T)(ze=>{const Tt=new ci;Tt.webhookConfiguration=ze.webhooks;const vt=[];return ze.protectedResources.forEach(Xt=>{vt.push(...Xt.scopes)}),Tt.scopeNames=vt.map(Xt=>Xt.name).sort(),Tt}),(0,Yn.W)(ze=>(this.errorService.handleError(ze),ze)))}static{this.\u0275fac=function(Tt){return new(Tt||ye)(f.KVO(J.x),f.KVO(In.x),f.KVO(L.I))}}static{this.\u0275prov=f.jDH({token:ye,factory:ye.\u0275fac})}}return ye})();class ci{}var pi=h(8416);const ei=[{path:"",redirectTo:"accesspolicy",pathMatch:"full"},{path:"accesspolicy",component:Mt,canDeactivate:[pi.M],resolve:{accessPolicyObject:gn}},{path:"webhooks",component:jt,canDeactivate:[pi.M],resolve:{webhookResolverObject:mn}},{path:"keys",component:R,canDeactivate:[pi.M]}];let Oi=(()=>{class ye{static{this.\u0275fac=function(Tt){return new(Tt||ye)}}static{this.\u0275mod=f.$C({type:ye})}static{this.\u0275inj=f.G2t({imports:[C.h.forChild({extend:!0}),w.iI.forChild(ei),C.h,w.iI]})}}return ye})();var Xn=h(3730),wi=h(1683),mi=h(2571),Hi=h(8455),ji=h(7883),Ei=h(367),qe=h(5731),At=h(7175),We=h(4193),zt=h(1993),ct=h(8389),Yt=h(6599),Xe=h(8251),Zt=h(4367),ut=h(275),_e=h(7677);let Ie=(()=>{class ye{static{this.\u0275fac=function(Tt){return new(Tt||ye)}}static{this.\u0275mod=f.$C({type:ye})}static{this.\u0275inj=f.G2t({providers:[gn,z,ji.i,$t.X,vn.P,F,mn,k.I],imports:[Oi,n.MD,e.YN,e.X1,p.Q_,C.h,wi.Y,w.iI,mi.A,Hi.p,y.XE,Ei.m,Xe.h,qe.i,At.c,We.c,zt.E,ct.w,Zt.N,Yt.Y,ut.W,Xn.ClaimTypesModule,_e.N]})}}return ye})()},7101:(nt,fe,h)=>{"use strict";h.r(fe),h.d(fe,{UsersModule:()=>At});var n=h(177),e=h(9417),y=h(1583),p=h(7005),w=h(779),C=h(534),m=h(1594),u=h(4438),f=h(5424),T=h(9196),O=h(3853),F=h(3680),b=h(1780);const M=(We,zt)=>({title:We,link:zt}),k=We=>[We],N=()=>["active"];function G(We,zt){1&We&&(u.j41(0,"span",25)(1,"span",26),u.EFF(2),u.nI1(3,"translate"),u.k0s(),u.nrm(4,"span",27),u.k0s()),2&We&&(u.R7$(2),u.JRh(u.bMT(3,1,"StarterMode.RequiresUpgrade")))}function R(We,zt){1&We&&(u.j41(0,"li",14)(1,"button",28),u.EFF(2),u.nI1(3,"translate"),u.k0s()()),2&We&&(u.R7$(),u.Y8G("routerLinkActive",u.lJ4(4,N)),u.R7$(),u.JRh(u.bMT(3,2,"Nav.SessionManagement")))}function j(We,zt){1&We&&(u.j41(0,"div",29)(1,"p"),u.EFF(2),u.nI1(3,"translate"),u.nI1(4,"translate"),u.k0s()()),2&We&&(u.R7$(2),u.Lme("",u.bMT(3,2,"Users.Delete.DeletedUser")," ",u.bMT(4,4,"Users.Delete.AuditingPurposes"),""))}let U=(()=>{class We{constructor(ct,Yt,Xe,Zt,ut){this.r=ct,this.route=Yt,this.errorService=Xe,this.configService=Zt,this.licenseService=ut}ngOnInit(){this.userDataSubscription=this.route.data.subscribe({next:ct=>{this.user=ct.user},error:ct=>{this.errorService.handleError(ct)}}),this.configSubscription=this.configService.getConfig().subscribe({next:ct=>{this.showSessionManagement=ct.featureFlagOptions.sessionManagementEnabled},error:ct=>{this.errorService.handleError(ct)}}),this.licenseService.getLicenseInfo().pipe((0,m.$)()).subscribe({next:ct=>{this.licenseInfo=ct}})}mobRoute(ct){this.r.navigate([ct],{relativeTo:this.route})}ngOnDestroy(){this.userDataSubscription.unsubscribe()}static{this.\u0275fac=function(Yt){return new(Yt||We)(u.rXU(y.Ix),u.rXU(y.nX),u.rXU(f.I),u.rXU(T.w),u.rXU(O.X))}}static{this.\u0275cmp=u.VBU({type:We,selectors:[["ng-component"]],decls:65,vars:76,consts:[[3,"title","totpEnabled","crumbs","hasTabs"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","details"],["value","roles"],["value","additionaldetails"],["value","applications"],["value","userlogins"],["value","useraudits"],["value","sessions"],["role","tablist",1,"tabs","tw-hidden","md:tw-flex"],[1,"tabs__item"],["type","button","routerLink","details","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","roles","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","additionaldetails","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","applications","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","userlogins","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","tabAudit","type","button","routerLink","useraudits","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","upgradeSymbol",4,"ngIf"],["class","tabs__item",4,"ngIf"],["id","editUser"],["id","userDeleted","class","tw-alert-danger tw-container tw-mx-auto tw-mb-6",4,"ngIf"],["id","upgradeSymbol"],[1,"sr-only"],["aria-hidden","true",1,"tw-text-secondary-500","far","fa-arrow-alt-circle-up","tw-pl-1"],["type","button","routerLink","sessions","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","userDeleted",1,"tw-alert-danger","tw-container","tw-mx-auto","tw-mb-6"]],template:function(Yt,Xe){1&Yt&&(u.j41(0,"app-title-bar",0),u.nI1(1,"translate"),u.nI1(2,"localize"),u.qex(3,1),u.j41(4,"div",2)(5,"label",3),u.EFF(6),u.nI1(7,"translate"),u.k0s(),u.j41(8,"div",4)(9,"select",5),u.bIt("change",function(ut){return Xe.mobRoute(ut.target.value)}),u.j41(10,"option",6),u.EFF(11),u.nI1(12,"translate"),u.k0s(),u.j41(13,"option",6),u.EFF(14),u.nI1(15,"translate"),u.k0s(),u.j41(16,"option",7),u.EFF(17),u.nI1(18,"translate"),u.k0s(),u.j41(19,"option",8),u.EFF(20),u.nI1(21,"translate"),u.k0s(),u.j41(22,"option",9),u.EFF(23),u.nI1(24,"translate"),u.k0s(),u.j41(25,"option",10),u.EFF(26),u.nI1(27,"translate"),u.k0s(),u.j41(28,"option",11),u.EFF(29),u.nI1(30,"translate"),u.k0s(),u.j41(31,"option",12),u.EFF(32),u.nI1(33,"translate"),u.k0s()()()(),u.j41(34,"ul",13),u.nI1(35,"translate"),u.j41(36,"li",14)(37,"button",15),u.EFF(38),u.nI1(39,"translate"),u.k0s()(),u.j41(40,"li",14)(41,"button",16),u.EFF(42),u.nI1(43,"translate"),u.k0s()(),u.j41(44,"li",14)(45,"button",17),u.EFF(46),u.nI1(47,"translate"),u.k0s()(),u.j41(48,"li",14)(49,"button",18),u.EFF(50),u.nI1(51,"translate"),u.k0s()(),u.j41(52,"li",14)(53,"button",19),u.EFF(54),u.nI1(55,"translate"),u.k0s()(),u.j41(56,"li",14)(57,"button",20),u.EFF(58),u.nI1(59,"translate"),u.DNE(60,G,5,3,"span",21),u.k0s()(),u.DNE(61,R,4,5,"li",22),u.k0s(),u.bVm(),u.k0s(),u.j41(62,"div",23),u.DNE(63,j,5,6,"div",24),u.nrm(64,"router-outlet"),u.k0s()),2&Yt&&(u.Y8G("title",Xe.user.firstName+" "+Xe.user.lastName)("totpEnabled",Xe.user.totpEnabled)("crumbs",u.eq3(68,k,u.l_i(65,M,u.bMT(1,29,"Nav.Users"),u.bMT(2,31,"/users"))))("hasTabs",!0),u.R7$(6),u.JRh(u.bMT(7,33,"Nav.SubMenu")),u.R7$(5),u.SpI("",u.bMT(12,35,"Nav.SubMenu"),"..."),u.R7$(3),u.JRh(u.bMT(15,37,"Nav.Details")),u.R7$(3),u.JRh(u.bMT(18,39,"Nav.Roles")),u.R7$(3),u.JRh(u.bMT(21,41,"Nav.Additional Details")),u.R7$(3),u.JRh(u.bMT(24,43,"Nav.Applications")),u.R7$(3),u.JRh(u.bMT(27,45,"Nav.External Logins")),u.R7$(3),u.JRh(u.bMT(30,47,"Nav.Audits")),u.R7$(3),u.JRh(u.bMT(33,49,"Nav.SessionManagement")),u.R7$(2),u.BMQ("aria-label",u.bMT(35,51,"Nav.SubMenu")),u.R7$(3),u.Y8G("routerLinkActive",u.lJ4(70,N)),u.R7$(),u.JRh(u.bMT(39,53,"Nav.Details")),u.R7$(3),u.Y8G("routerLinkActive",u.lJ4(71,N)),u.R7$(),u.JRh(u.bMT(43,55,"Nav.Roles")),u.R7$(3),u.Y8G("routerLinkActive",u.lJ4(72,N)),u.R7$(),u.JRh(u.bMT(47,57,"Nav.Additional Details")),u.R7$(3),u.Y8G("routerLinkActive",u.lJ4(73,N)),u.R7$(),u.JRh(u.bMT(51,59,"Nav.Applications")),u.R7$(3),u.Y8G("routerLinkActive",u.lJ4(74,N)),u.R7$(),u.JRh(u.bMT(55,61,"Nav.External Logins")),u.R7$(3),u.Y8G("routerLinkActive",u.lJ4(75,N)),u.R7$(),u.SpI(" ",u.bMT(59,63,"Nav.Audits")," "),u.R7$(2),u.Y8G("ngIf",null==Xe.licenseInfo?null:Xe.licenseInfo.isStarterLicense()),u.R7$(),u.Y8G("ngIf",Xe.showSessionManagement),u.R7$(2),u.Y8G("ngIf",Xe.user.isDeleted))},dependencies:[y.n3,y.Wk,y.wQ,n.bT,e.xH,e.y7,F.z,b.D9,p.tl],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return We})();var $=h(1413),ie=h(6354),se=h(8412),L=h(9172),J=h(1397),q=h(1986),S=h(9838),re=h(4313),K=h(7263),me=h(5602),Ne=h(345),De=h(5794),xe=h(7883),Qe=h(7156),Se=h(7294),be=h(7384),le=h(8698),Fe=h(9550),Te=h(316),st=h(6697),Oe=function(We){return We[We.None=0]="None",We[We.Add=1]="Add",We[We.AddAnother=2]="AddAnother",We[We.AddAndConfigure=3]="AddAndConfigure",We}(Oe||{}),pt=h(4589),Ye=h(526),qt=h(6801),jt=h(4701);const Dt=["claimsComponent"],wt=["addUserModal"],z=()=>({animated:!1,backdrop:"static"});function Y(We,zt){1&We&&(u.j41(0,"h2",37),u.nrm(1,"span",38),u.j41(2,"span",24),u.EFF(3),u.nI1(4,"translate"),u.k0s(),u.j41(5,"span")(6,"a",39),u.EFF(7),u.nI1(8,"translate"),u.k0s()()()),2&We&&(u.R7$(3),u.JRh(u.bMT(4,2,"Users.Password.DemoTitle")),u.R7$(4),u.SpI(" ",u.bMT(8,4,"Users.Password.DemoLink")," "))}function Z(We,zt){if(1&We&&(u.j41(0,"div")(1,"div",33),u.DNE(2,Y,9,6,"h2",34),u.j41(3,"app-form-row",16),u.nrm(4,"input",35),u.j41(5,"ul",36)(6,"li"),u.EFF(7),u.nI1(8,"translate"),u.k0s(),u.j41(9,"li"),u.EFF(10),u.nI1(11,"translate"),u.k0s(),u.j41(12,"li"),u.EFF(13),u.nI1(14,"translate"),u.k0s(),u.j41(15,"li"),u.EFF(16),u.nI1(17,"translate"),u.k0s(),u.j41(18,"li"),u.EFF(19),u.nI1(20,"translate"),u.k0s()()()()()),2&We){const ct=u.XpG();u.R7$(2),u.Y8G("ngIf",ct.isDemo),u.R7$(),u.Y8G("id","Password")("label","Users.Password.Title")("isLast",!0),u.R7$(4),u.JRh(u.bMT(8,9,"Users.Password.Requirements.1")),u.R7$(3),u.JRh(u.bMT(11,11,"Users.Password.Requirements.2")),u.R7$(3),u.JRh(u.bMT(14,13,"Users.Password.Requirements.3")),u.R7$(3),u.JRh(u.bMT(17,15,"Users.Password.Requirements.4")),u.R7$(3),u.JRh(u.bMT(20,17,"Users.Password.Requirements.5"))}}function Ce(We,zt){1&We&&u.nrm(0,"span",40)}function we(We,zt){1&We&&u.nrm(0,"span",40)}function at(We,zt){1&We&&u.nrm(0,"span",40)}let Be=(()=>{class We{constructor(ct,Yt,Xe,Zt,ut,_e,Ie,ye,ft,ze,Tt){this.userService=ct,this.claimTypesService=Yt,this.errorService=Xe,this.translate=Zt,this.router=ut,this.fb=_e,this.toastr=Ie,this.localize=ye,this.securityService=ft,this.healthCheckService=ze,this.configService=Tt,this.addAnother=!1,this.canCreatePassword=!1,this.isDemo=!1,this.onSubmitted=new u.bkB,this.inFlight=!1,this.addButtonClick=Oe,this.addClicked=Oe.None}keydown(ct){"Enter"===ct.key&&"addUserSubmit"!==ct.srcElement.id&&this.claimsComponent.isFormValid()&&this.addUserForm.valid&&this.addUser()}ngOnInit(){this.createForms(),this.configService.getConfig().pipe((0,st.s)(1)).subscribe(ct=>{null!=ct.featureFlagOptions.addUserPassword&&(this.canCreatePassword=!0===ct.featureFlagOptions.addUserPassword),this.isDemo=this.securityService.licenseType===pt.G.Demo||this.securityService.licenseType===pt.G.Starter,this.isDemo&&(this.canCreatePassword=!0)}),this.claimTypesService.getClaimTypes(null,null,!0).subscribe(ct=>{this.claimTypes=ct},ct=>{this.errorService.handleError(ct)})}addAnotherUser(){this.addAnother=!0,this.addClicked=Oe.AddAnother,this.addUser()}addUser(ct){let Yt;this.addClicked===Oe.None&&(this.addClicked=ct?Oe.AddAndConfigure:Oe.Add),Yt=JSON.parse(JSON.stringify(this.addUserForm.value)),Object.assign(Yt,{claims:[]});for(const Xe of this.claimsComponent.requiredClaims){if(null===Xe.value)continue;let Zt=Xe.value;"DateTime"===Xe.format&&(Zt=Xe.value),"Int"===Xe.format&&(Zt=Zt.toString()),Yt.claims.push({claimTypeId:Xe.typeId,value:Zt,type:Xe.type})}!1===this.canCreatePassword&&(Yt.password=null),this.inFlight=!0,this.userService.addUser(Yt).subscribe(Xe=>{this.inFlight=!1,this.addClicked=Oe.None,this.claimsComponent.resetForm(),this.addUserForm.reset();const Zt=this.translate.instant("Notifications.AccountCreated"),ut=this.translate.instant("Users.Singular")+" "+Yt.username+" "+this.translate.instant("Common.Created").toLowerCase();this.toastr.success(Zt,ut),ct&&Xe.headers.get("location")?this.addUserAndConfigure(Xe.headers.get("location")):(this.addAnother||this.hide(),this.addAnother=!1,this.onSubmitted.emit(!0))},Xe=>{this.inFlight=!1,this.addClicked=Oe.None,this.addAnother=!1,this.errorService.handleError(Xe)})}addUserAndConfigure(ct){const Yt=ct.lastIndexOf("/"),Xe=ct.substring(Yt+1),Zt=[this.localize.translateRoute("/users"),Xe];this.router.navigate(Zt)}createForms(){this.addUserForm=this.fb.group({username:["",[e.k0.required,(0,K.Zt)()]],email:["",Te.D],firstName:["",e.k0.required],lastName:["",e.k0.required],password:["",e.k0.pattern("^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$")]})}hide(){this.addUserModal.hide(),this.addUserForm.reset()}show(){this.addUserModal.show()}ngOnDestroy(){this.hide()}static{this.\u0275fac=function(Yt){return new(Yt||We)(u.rXU(me.D),u.rXU(Ye.X),u.rXU(f.I),u.rXU(b.c$),u.rXU(y.Ix),u.rXU(e.ze),u.rXU(De.tw),u.rXU(p.QG),u.rXU(xe.i),u.rXU(qt.M),u.rXU(T.w))}}static{this.\u0275cmp=u.VBU({type:We,selectors:[["app-add-user"]],viewQuery:function(Yt,Xe){if(1&Yt&&(u.GBs(Dt,7),u.GBs(wt,7)),2&Yt){let Zt;u.mGM(Zt=u.lsd())&&(Xe.claimsComponent=Zt.first),u.mGM(Zt=u.lsd())&&(Xe.addUserModal=Zt.first)}},hostBindings:function(Yt,Xe){1&Yt&&u.bIt("keydown",function(ut){return Xe.keydown(ut)},!1,u.EBC)},outputs:{onSubmitted:"onSubmitted"},decls:49,vars:39,consts:[["addUserModal","bs-modal"],["claimsComponent",""],["bsModal","","id","addUserModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","scrollbars"],["autocomplete","off",1,"form",3,"formGroup"],[3,"id","label"],["id","FirstName","type","text","name","FirstName","formControlName","firstName","required","",1,"tw-form-control"],["id","LastName","type","text","name","LastName","formControlName","lastName","required","",1,"tw-form-control"],["id","Username","type","text","name","username","formControlName","username","required","",1,"tw-form-control"],[3,"id","label","isLast"],["id","Email","type","email","name","email","formControlName","email","required","",1,"tw-form-control"],["id","requiredClaimsComponent",3,"claimTypes"],[3,"formGroup"],[4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items"],[1,"tw-mr-auto"],[1,"xs:tw-mr-3"],["type","submit","id","addUserSubmit",1,"tw-btn-success",3,"click","disabled"],["class","fad fa-spinner-third fa-spin tw-text-secondary-500 tw-mr-2 tw-ml-2",4,"ngIf"],[1,"tw-hidden","xs:tw-inline","md:tw-mr-3"],["id","submitAndConfigure",1,"tw-btn-success",3,"click","disabled"],[1,"tw-hidden","md:tw-inline"],["type","submit","id","addUserReSubmit",1,"tw-btn",3,"click","disabled"],[1,"tw-btn-link","tw--mr-4",3,"click"],[1,"tw-bg-red-100","tw-border","tw-border-red-500","tw-text-red-500","tw-mb-4","tw-p-4","tw-overflow-hidden","tw-rounded"],["class","tw-flex items-center tw-bg-red-500 tw-text-white tw-text-sm tw--mx-4 tw--mt-4 tw-mb-3 tw-py-3 tw-px-4",4,"ngIf"],["id","Password","type","password","name","Password","formControlName","password","aria-labelledby","PasswordHelp","required","",1,"tw-form-control","tw-border-red-300"],["id","PasswordHelp",1,"tw-form-text-danger"],[1,"tw-flex","items-center","tw-bg-red-500","tw-text-white","tw-text-sm","tw--mx-4","tw--mt-4","tw-mb-3","tw-py-3","tw-px-4"],["aria-hidden","true",1,"fas","fa-exclamation-triangle","tw-mr-2"],["href","documentation/Users/Set_User_Password.html","target","_blank",1,"tw-text-white","tw-underline","hover:tw-no-underline"],[1,"fad","fa-spinner-third","fa-spin","tw-text-secondary-500","tw-mr-2","tw-ml-2"]],template:function(Yt,Xe){if(1&Yt){const Zt=u.RV6();u.j41(0,"div",2,0)(2,"div",3)(3,"div",4)(4,"div",5)(5,"h5",6),u.EFF(6),u.nI1(7,"translate"),u.k0s(),u.j41(8,"button",7),u.bIt("click",function(){return u.eBV(Zt),u.Njj(Xe.hide())}),u.nrm(9,"span",8),u.j41(10,"span",9),u.EFF(11),u.nI1(12,"translate"),u.k0s()()(),u.j41(13,"div",10)(14,"form",11)(15,"app-form-row",12),u.nrm(16,"input",13),u.k0s(),u.j41(17,"app-form-row",12),u.nrm(18,"input",14),u.k0s(),u.j41(19,"app-form-row",12),u.nrm(20,"input",15),u.k0s(),u.j41(21,"app-form-row",16),u.nrm(22,"input",17),u.k0s()(),u.nrm(23,"app-required-claims-form",18,1),u.j41(25,"form",19),u.DNE(26,Z,21,19,"div",20),u.k0s()(),u.nrm(27,"div",21),u.j41(28,"div",22)(29,"div",23)(30,"div",24)(31,"span",25)(32,"button",26),u.bIt("click",function(){return u.eBV(Zt),u.Njj(Xe.addUser())}),u.EFF(33),u.nI1(34,"translate"),u.DNE(35,Ce,1,0,"span",27),u.k0s()(),u.j41(36,"span",28)(37,"button",29),u.bIt("click",function(){return u.eBV(Zt),u.Njj(Xe.addUser(!0))}),u.EFF(38),u.nI1(39,"translate"),u.DNE(40,we,1,0,"span",27),u.k0s()(),u.j41(41,"span",30)(42,"button",31),u.bIt("click",function(){return u.eBV(Zt),u.Njj(Xe.addAnotherUser())}),u.EFF(43),u.nI1(44,"translate"),u.DNE(45,at,1,0,"span",27),u.k0s()()(),u.j41(46,"button",32),u.bIt("click",function(){return u.eBV(Zt),u.Njj(Xe.hide())}),u.EFF(47),u.nI1(48,"translate"),u.k0s()()()()()()}if(2&Yt){const Zt=u.sdS(24);u.Y8G("config",u.lJ4(38,z)),u.R7$(6),u.JRh(u.bMT(7,26,"Users.NewUser")),u.R7$(5),u.JRh(u.bMT(12,28,"Common.Close")),u.R7$(3),u.Y8G("formGroup",Xe.addUserForm),u.R7$(),u.Y8G("id","FirstName")("label","Users.FirstName"),u.R7$(2),u.Y8G("id","LastName")("label","Users.LastName"),u.R7$(2),u.Y8G("id","Username")("label","Users.Username"),u.R7$(2),u.Y8G("id","Email")("label","Users.Email")("isLast",!Xe.canCreatePassword),u.R7$(2),u.Y8G("claimTypes",Xe.claimTypes),u.R7$(2),u.Y8G("formGroup",Xe.addUserForm),u.R7$(),u.Y8G("ngIf",Xe.canCreatePassword),u.R7$(6),u.Y8G("disabled",!Xe.addUserForm.valid||!Zt.isFormValid()||Xe.inFlight),u.R7$(),u.SpI(" ",u.bMT(34,30,"Common.Save")," "),u.R7$(2),u.Y8G("ngIf",Xe.inFlight&&Xe.addClicked===Xe.addButtonClick.Add),u.R7$(2),u.Y8G("disabled",Xe.addAnother||!Xe.addUserForm.valid||!Zt.isFormValid()||Xe.inFlight),u.R7$(),u.SpI(" ",u.bMT(39,32,"Common.SaveAndConfigure")," "),u.R7$(2),u.Y8G("ngIf",Xe.inFlight&&Xe.addClicked===Xe.addButtonClick.AddAndConfigure),u.R7$(2),u.Y8G("disabled",!Xe.addUserForm.valid||!Zt.isFormValid()||Xe.inFlight),u.R7$(),u.SpI(" ",u.bMT(44,34,"Common.SaveAndAdd")," "),u.R7$(2),u.Y8G("ngIf",Xe.inFlight&&Xe.addClicked===Xe.addButtonClick.AddAnother),u.R7$(2),u.JRh(u.bMT(48,36,"Common.Cancel"))}},dependencies:[n.bT,e.qT,e.me,e.BC,e.cb,e.YS,e.j4,e.JD,w.hZ,le.Y,jt.u,b.D9],encapsulation:2})}}return We})();const ot=["addUserModal"],Pt=(We,zt)=>({"tw-alert":We,"tw-alert-warning":zt}),mt=We=>({limit:We,type:"users",href:"https://www.identityserver.com/products/adminui/order-now?index=2&name=Enterprise"}),it=(We,zt)=>({"fad fa-pencil":We,"fas fa-eye":zt});function Kt(We,zt){if(1&We){const ct=u.RV6();u.j41(0,"app-add-user",30,1),u.bIt("onSubmitted",function(Xe){u.eBV(ct);const Zt=u.XpG();return u.Njj(Zt.onSubmitted(Xe))}),u.k0s()}}function sn(We,zt){if(1&We&&(u.j41(0,"div",31),u.nrm(1,"span",32),u.nI1(2,"translate"),u.k0s()),2&We){const ct=u.XpG();u.Y8G("ngClass",u.l_i(5,Pt,ct.limitReached,ct.overLimit)),u.R7$(),u.Y8G("innerHTML",u.i5U(2,2,"Common.QuotaLimit",u.eq3(8,mt,ct.licenseInfo.maxUsers)),u.npT)}}function Ft(We,zt){1&We&&(u.j41(0,"span"),u.nrm(1,"span",33),u.EFF(2),u.nI1(3,"translate"),u.k0s()),2&We&&(u.R7$(2),u.SpI(" ",u.bMT(3,1,"Auditing.ShowFilters")," "))}function Jt(We,zt){1&We&&(u.j41(0,"span"),u.nrm(1,"span",34),u.EFF(2),u.nI1(3,"translate"),u.k0s()),2&We&&(u.R7$(2),u.SpI(" ",u.bMT(3,1,"Auditing.HideFilters")," "))}function je(We,zt){if(1&We){const ct=u.RV6();u.j41(0,"div",38)(1,"label",39),u.EFF(2),u.nI1(3,"translate"),u.k0s(),u.j41(4,"select",40),u.mxI("ngModelChange",function(Xe){u.eBV(ct);const Zt=u.XpG(2);return u.DH7(Zt.pageSize,Xe)||(Zt.pageSize=Xe),u.Njj(Xe)}),u.bIt("change",function(){u.eBV(ct);const Xe=u.XpG(2);return u.Njj(Xe.setPageLength(+Xe.pageSize))}),u.j41(5,"option",41),u.EFF(6),u.nI1(7,"translate"),u.k0s(),u.j41(8,"option",42),u.EFF(9),u.nI1(10,"translate"),u.k0s(),u.j41(11,"option",43),u.EFF(12),u.nI1(13,"translate"),u.k0s()()()}if(2&We){const ct=u.XpG(2);u.R7$(2),u.Lme("",ct.pageSize," ",u.bMT(3,6,"Nav.PerPage"),""),u.R7$(2),u.R50("ngModel",ct.pageSize),u.R7$(2),u.SpI("25 ",u.bMT(7,8,"Nav.PerPage"),""),u.R7$(3),u.SpI("50 ",u.bMT(10,10,"Nav.PerPage"),""),u.R7$(3),u.SpI("100 ",u.bMT(13,12,"Nav.PerPage"),"")}}function ce(We,zt){if(1&We){const ct=u.RV6();u.qex(0,44),u.j41(1,"button",45),u.bIt("click",function(){u.eBV(ct);const Xe=u.XpG(2);return u.Njj(Xe.addModal.show())}),u.EFF(2),u.nI1(3,"translate"),u.k0s(),u.bVm()}if(2&We){const ct=u.XpG(2);u.R7$(),u.Y8G("disabled",ct.limitReached),u.R7$(),u.SpI(" ",u.bMT(3,2,"Users.AddUser")," ")}}function X(We,zt){if(1&We&&(u.j41(0,"app-action-bar"),u.qex(1,35),u.DNE(2,je,14,14,"div",36),u.bVm(),u.DNE(3,ce,4,4,"ng-container",37),u.k0s()),2&We){const ct=u.XpG();u.R7$(2),u.Y8G("ngIf",(null==ct.pagedResult?null:ct.pagedResult.results.length)>0),u.R7$(),u.Y8G("ngIf",!ct.isUserManagerReadOnly)}}function oe(We,zt){1&We&&u.nrm(0,"app-simple-loader")}function Ve(We,zt){1&We&&(u.j41(0,"div",46)(1,"div"),u.EFF(2),u.nI1(3,"translate"),u.k0s()()),2&We&&(u.R7$(2),u.JRh(u.bMT(3,1,"Users.NoUsersFound")))}function tt(We,zt){1&We&&(u.j41(0,"span",67)(1,"span",9),u.EFF(2),u.nI1(3,"translate"),u.k0s()()),2&We&&(u.R7$(2),u.JRh(u.bMT(3,1,"Users.Filter.Deleted")))}function gt(We,zt){1&We&&(u.j41(0,"span",68)(1,"span",9),u.EFF(2),u.nI1(3,"translate"),u.k0s()()),2&We&&(u.R7$(2),u.JRh(u.bMT(3,1,"Users.Filter.Blocked")))}function Bt(We,zt){1&We&&(u.j41(0,"span",69),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&We&&(u.R7$(),u.SpI(" ",u.bMT(2,1,"Users.Filter.Deleted")," "))}function cn(We,zt){1&We&&(u.j41(0,"span",70),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&We&&(u.R7$(),u.SpI(" ",u.bMT(2,1,"Users.Filter.Blocked")," "))}function hn(We,zt){1&We&&(u.j41(0,"span",9),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&We&&(u.R7$(),u.JRh(u.bMT(2,1,"Common.Edit")))}function An(We,zt){1&We&&(u.j41(0,"span",9),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&We&&(u.R7$(),u.JRh(u.bMT(2,1,"Common.View")))}function xn(We,zt){if(1&We){const ct=u.RV6();u.j41(0,"tr",54)(1,"td",55),u.bIt("click",function(){const Xe=u.eBV(ct).$implicit,Zt=u.XpG(2);return u.Njj(Zt.viewOrEditUser(Xe))}),u.DNE(2,tt,4,3,"span",56)(3,gt,4,3,"span",57),u.j41(4,"b",58),u.EFF(5),u.k0s()(),u.j41(6,"td",59),u.bIt("click",function(){const Xe=u.eBV(ct).$implicit,Zt=u.XpG(2);return u.Njj(Zt.viewOrEditUser(Xe))}),u.EFF(7),u.k0s(),u.j41(8,"td",60),u.bIt("click",function(){const Xe=u.eBV(ct).$implicit,Zt=u.XpG(2);return u.Njj(Zt.viewOrEditUser(Xe))}),u.EFF(9),u.k0s(),u.j41(10,"td",61),u.bIt("click",function(){const Xe=u.eBV(ct).$implicit,Zt=u.XpG(2);return u.Njj(Zt.viewOrEditUser(Xe))}),u.DNE(11,Bt,3,3,"span",62)(12,cn,3,3,"span",63),u.k0s(),u.j41(13,"td",61),u.bIt("click",function(){const Xe=u.eBV(ct).$implicit,Zt=u.XpG(2);return u.Njj(Zt.viewOrEditUser(Xe))}),u.j41(14,"button",64),u.bIt("click",function(){const Xe=u.eBV(ct).$implicit,Zt=u.XpG(2);return u.Njj(Zt.viewOrEditUser(Xe))}),u.nrm(15,"span",65),u.j41(16,"span",9),u.EFF(17),u.nI1(18,"translate"),u.k0s(),u.DNE(19,hn,3,3,"span",66)(20,An,3,3,"span",66),u.k0s()()()}if(2&We){const ct=zt.$implicit,Yt=u.XpG(2);u.AVh("inactive",ct.isBlocked||ct.isDeleted||Yt.overLimit),u.R7$(2),u.Y8G("ngIf",ct.isDeleted),u.R7$(),u.Y8G("ngIf",ct.isBlocked&&!ct.isDeleted),u.R7$(2),u.SpI(" ",ct.username," "),u.R7$(2),u.Lme(" ",ct.firstName," ",ct.lastName," "),u.R7$(2),u.SpI(" ",ct.email," "),u.R7$(2),u.Y8G("ngIf",ct.isDeleted),u.R7$(),u.Y8G("ngIf",ct.isBlocked&&!ct.isDeleted),u.R7$(3),u.Y8G("ngClass",u.l_i(16,it,!Yt.isUserManagerReadOnly&&!Yt.overLimit,Yt.isUserManagerReadOnly||Yt.overLimit)),u.R7$(2),u.JRh(u.bMT(18,14,"Common.Edit")),u.R7$(2),u.Y8G("ngIf",!Yt.isUserManagerReadOnly&&!Yt.overLimit),u.R7$(),u.Y8G("ngIf",Yt.isUserManagerReadOnly||Yt.overLimit)}}function Bn(We,zt){if(1&We&&(u.j41(0,"table",47)(1,"thead")(2,"tr")(3,"th",48),u.EFF(4),u.nI1(5,"translate"),u.k0s(),u.j41(6,"th",49),u.EFF(7),u.nI1(8,"translate"),u.k0s(),u.j41(9,"th",50),u.EFF(10),u.nI1(11,"translate"),u.k0s(),u.j41(12,"th",51)(13,"span",9),u.EFF(14),u.nI1(15,"translate"),u.k0s()(),u.j41(16,"th",51)(17,"span",9),u.EFF(18),u.nI1(19,"translate"),u.k0s()()()(),u.j41(20,"tbody",52),u.DNE(21,xn,21,19,"tr",53),u.k0s()()),2&We){const ct=u.XpG();u.R7$(4),u.SpI(" ",u.bMT(5,6,"Users.Username")," "),u.R7$(3),u.SpI(" ",u.bMT(8,8,"Users.FullName")," "),u.R7$(3),u.SpI(" ",u.bMT(11,10,"Users.Email")," "),u.R7$(4),u.JRh(u.bMT(15,12,"Common.Status")),u.R7$(4),u.JRh(u.bMT(19,14,"Common.Actions")),u.R7$(3),u.Y8G("ngForOf",ct.pagedResult.results)}}function It(We,zt){if(1&We){const ct=u.RV6();u.j41(0,"app-pager",71),u.bIt("onGoToPage",function(Xe){u.eBV(ct);const Zt=u.XpG();return u.Njj(Zt.goToPage(Xe))}),u.k0s()}if(2&We){const ct=u.XpG();u.Y8G("totalResults",null==ct.pagedResult?null:ct.pagedResult.totalCount)("currentPage",ct.page)("lastPage",null==ct.pagedResult?null:ct.pagedResult.pageCount)}}let Dn=(()=>{class We extends re.if{get limitReached(){return this.licenseInfo?.userLimitReached??!1}get overLimit(){return this.licenseInfo?.overUserLimit??!1}constructor(ct,Yt,Xe,Zt,ut,_e,Ie,ye,ft){super(Ie,ut,!0),this.router=ct,this.userService=Yt,this.errorService=Xe,this.titleService=Zt,this.localize=_e,this.securityService=ye,this.licenseService=ft,this.activeFilters=["active"],this.activeAdvancedFilters=[],this.pageSize=25,this.page=1,this.term="",this.showAdvancedFilters=!1,this.showingActive=!0,this.showingBlocked=!1,this.showingDeleted=!1,this.filterStream=new $.B,this.advancedFilterStream=new $.B,this.pageStream=new $.B,this.pageSizeStream=new $.B,this.mapSearchTerm=this.mapSearchTerm.bind(this)}ngOnInit(){this.titleService.setTitle(this.translate.instant("Nav.Users")+` - ${S.$9.SITE_TITLE}`),this.isLoading=!0;const ct=this.pageStream.pipe((0,ie.T)(_e=>(this.page=_e,{searchTerm:this.term,page:_e,pageSize:this.pageSize,filters:this.activeFilters}))),Yt=this.pageSizeStream.pipe((0,ie.T)(_e=>(this.pageSize=_e,{searchTerm:this.term,page:this.page,pageSize:_e,filters:this.activeFilters}))),Xe=this.filterStream.pipe((0,ie.T)(_e=>({searchTerm:this.term,page:this.page,pageSize:this.pageSize,filters:_e}))),Zt=this.advancedFilterStream.pipe((0,ie.T)(_e=>({searchTerm:this.term,page:this.page,pageSize:this.pageSize,filters:this.activeFilters,advancedFilters:_e})));ct.pipe((0,se.X)(Yt),(0,se.X)(this.searchSource),(0,se.X)(Xe),(0,se.X)(Zt),(0,se.X)(this.enterKeySource),(0,L.Z)({searchTerm:this.term,page:this.page,pageSize:this.pageSize,filters:this.activeFilters,advancedFilters:this.activeAdvancedFilters}),(0,J.Z)(_e=>(this.isLoading=!0,this.userService.getUsersLightweight(_e.searchTerm,_e.page,_e.pageSize,_e.filters,_e.advancedFilters).pipe((0,q.c)(200))))).subscribe({next:_e=>{this.pagedResult=_e,this.isLoading=!1},error:_e=>{500===_e.status?this.handleInternalServerError():this.errorService.handleError(_e),this.isLoading=!1}}),this.licenseService.getLicenseInfo().pipe((0,m.$)()).subscribe({next:_e=>{this.licenseInfo=_e}})}mapSearchTerm(ct){return this.term=ct,{searchTerm:ct,page:1,pageSize:this.pageSize,filters:this.activeFilters,advancedFilters:this.activeAdvancedFilters}}editUser(ct){const Yt=this.localize.translateRoute("/users");this.router.navigate([Yt,ct.subject])}viewUser(ct){const Yt=this.localize.translateRoute("/users/view");this.router.navigate([Yt,ct.subject])}viewOrEditUser(ct){this.isUserManagerReadOnly||this.overLimit?this.viewUser(ct):this.editUser(ct)}goToPage(ct){this.pageStream.next(ct)}setPageLength(ct){this.page=1,this.pageSizeStream.next(ct)}filter(ct){if(this.activeFilters.includes(ct)){const Yt=this.activeFilters.indexOf(ct);this.activeFilters.splice(Yt,1)}else this.activeFilters.push(ct);this.page=1,this.filterStream.next(this.activeFilters)}advancedFilter(ct){if(this.activeAdvancedFilters.includes(ct)){const Yt=this.activeAdvancedFilters.indexOf(ct);this.activeAdvancedFilters.splice(Yt,1)}else this.activeAdvancedFilters.push(ct);this.page=1,this.advancedFilterStream.next(this.activeAdvancedFilters)}isShowing(ct){return this.activeFilters.includes(ct)}onSubmitted(ct){ct&&(this.filterStream.next(this.activeFilters),this.advancedFilterStream.next(this.activeAdvancedFilters))}get isUserManagerReadOnly(){return(0,K.zG)(this.securityService.userPermissions)}handleInternalServerError(){this.toastr.error(this.translate.instant("Users.Filter.StoredProcedureErrorMessage"),this.translate.instant("Notifications.Error"))}static{this.\u0275fac=function(Yt){return new(Yt||We)(u.rXU(y.Ix),u.rXU(me.D),u.rXU(f.I),u.rXU(Ne.hE),u.rXU(b.c$),u.rXU(p.QG),u.rXU(De.tw),u.rXU(xe.i),u.rXU(O.X))}}static{this.\u0275cmp=u.VBU({type:We,selectors:[["ng-component"]],viewQuery:function(Yt,Xe){if(1&Yt&&u.GBs(ot,5),2&Yt){let Zt;u.mGM(Zt=u.lsd())&&(Xe.addModal=Zt.first)}},features:[u.Vt3],decls:46,vars:37,consts:[["searchUserName",""],["addUserModal",""],["id","addUserComponent",3,"onSubmitted",4,"ngIf"],["id","userList",1,"tw-container","tw-mx-auto"],["id","quotaLimitAlert","role","alert","class","tw-mb-4",3,"ngClass",4,"ngIf"],["id","searchContainer",1,"tw-mb-2"],[1,"tw-flex","tw-bg-white","tw-border","tw-border-grey-300","tw-opacity-75","tw-cursor-text","tw-rounded","focus-within:tw-opacity-100","focus-within:tw-border-blue-400","tw-transition-all","tw-ease-in-out"],["for","searchUserName",1,"tw-flex","tw-items-center","tw-text-grey-500","tw-m-0","tw-ml-3"],["aria-hidden","true",1,"far","fa-search","tw-text-sm"],[1,"sr-only"],["id","searchUserName","type","search",1,"tw-bg-transparent","tw-border-0","tw-text-base","tw-leading-tight","tw-px-2","tw-py-2","tw-w-full","focus:tw-outline-none","tw-transition-all","tw-ease-in-out",3,"ngModelChange","keyup","ngModel","placeholder"],["id","showFilterButton","type","button","aria-expanded","showAdvancedFilters",1,"tw-btn-link","tw-btn-small","tw-px-0","mt-2",3,"click"],[4,"ngIf"],["id","toggleFilters","aria-labelledby","showFilterButton",1,"tw-mt-3","tw-mb-6",3,"hidden"],[1,"tw-flex-grid","md:tw-flex-nowrap","mb-3"],[1,"tw-flex-grid-col","md:tw-w-2/3","lg:tw-w-3/5","mt-2","ml-2"],[1,"tw-form-group","tw-mb-0"],[3,"id","label","help","isLast"],[3,"id"],["id","includeClaims","name","includeClaims","type","checkbox",1,"tw-form-switch__input",3,"click"],[1,"tw-flex-grid-col","md:tw-ml-auto","md:tw-w-auto","mb-3","mr-2"],[1,"tw-form-label"],[1,"tw-flex","tw-items-center"],[1,"mr-2"],["id","activeFilter",3,"click","ngClass"],["id","blockedFilter",3,"click","ngClass"],["id","deletedFilter",3,"click","ngClass"],["class","tw-alert","role","alert",4,"ngIf"],["class","datatable selectable hover",4,"ngIf"],[3,"totalResults","currentPage","lastPage","onGoToPage",4,"ngIf"],["id","addUserComponent",3,"onSubmitted"],["id","quotaLimitAlert","role","alert",1,"tw-mb-4",3,"ngClass"],[3,"innerHTML"],["aria-hidden","true",1,"fas","fa-angle-down","tw-mr-1"],["aria-hidden","true",1,"fas","fa-angle-up","tw-mr-1"],["left",""],["class","tw-hidden tw-form-select tw-w-auto sm:tw-block",4,"ngIf"],["right","",4,"ngIf"],[1,"tw-hidden","tw-form-select","tw-w-auto","sm:tw-block"],["for","pageSizeToggle",1,"sr-only"],["id","pageSizeToggle",1,"tw-form-control","tw-form-control-small",3,"ngModelChange","change","ngModel"],["value","25"],["value","50"],["value","100"],["right",""],["id","addUserBtn",1,"tw-btn-success",3,"click","disabled"],["role","alert",1,"tw-alert"],[1,"datatable","selectable","hover"],["id","sortUsername",1,"md:tw-w-1/3","lg:tw-w-1/3"],[1,"tw-hidden","md:tw-table-cell"],[1,"tw-hidden","lg:tw-table-cell"],[1,"tw-w-1"],["id","usersTable"],["class","group userRow",3,"inactive",4,"ngFor","ngForOf"],[1,"group","userRow"],[1,"tw-truncate","tw-max-w-0",3,"click"],["class","fas fa-trash tw-text-red-500 tw-mr-1",4,"ngIf"],["class","fas fa-exclamation-triangle tw-text-orange-500 tw-mr-1",4,"ngIf"],[1,"tw-text-blue-500"],[1,"tw-hidden","tw-truncate","tw-max-w-0","md:tw-table-cell",3,"click"],[1,"tw-hidden","tw-truncate","tw-max-w-0","lg:tw-table-cell",3,"click"],[3,"click"],["class","tw-pill-danger",4,"ngIf"],["class","tw-pill-warning",4,"ngIf"],["id","userTableButton","type","button",1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click"],["id","viewOrEditIcon","aria-hidden","true",3,"ngClass"],["class","sr-only",4,"ngIf"],[1,"fas","fa-trash","tw-text-red-500","tw-mr-1"],[1,"fas","fa-exclamation-triangle","tw-text-orange-500","tw-mr-1"],[1,"tw-pill-danger"],[1,"tw-pill-warning"],[3,"onGoToPage","totalResults","currentPage","lastPage"]],template:function(Yt,Xe){if(1&Yt){const Zt=u.RV6();u.DNE(0,Kt,2,0,"app-add-user",2),u.j41(1,"div",3),u.DNE(2,sn,3,10,"div",4),u.j41(3,"div",5)(4,"div",6)(5,"label",7),u.nrm(6,"span",8),u.j41(7,"span",9),u.EFF(8),u.nI1(9,"translate"),u.k0s()(),u.j41(10,"input",10,0),u.nI1(12,"translate"),u.mxI("ngModelChange",function(_e){return u.eBV(Zt),u.DH7(Xe.searchTerm,_e)||(Xe.searchTerm=_e),u.Njj(_e)}),u.bIt("keyup",function(_e){return u.eBV(Zt),u.Njj(Xe.search(_e))}),u.k0s()(),u.j41(13,"button",11),u.bIt("click",function(){return u.eBV(Zt),u.Njj(Xe.showAdvancedFilters=!Xe.showAdvancedFilters)}),u.DNE(14,Ft,4,3,"span",12)(15,Jt,4,3,"span",12),u.k0s(),u.j41(16,"div",13)(17,"div",14)(18,"div",15)(19,"div",16)(20,"app-form-row",17)(21,"app-form-toggle",18)(22,"input",19),u.bIt("click",function(){return u.eBV(Zt),u.Njj(Xe.advancedFilter("claims"))}),u.k0s()()()()(),u.j41(23,"div",20)(24,"p",21),u.EFF(25),u.nI1(26,"translate"),u.k0s(),u.j41(27,"ul",22)(28,"li",23)(29,"button",24),u.bIt("click",function(){return u.eBV(Zt),u.Njj(Xe.filter("active"))}),u.EFF(30),u.nI1(31,"translate"),u.k0s()(),u.j41(32,"li",23)(33,"button",25),u.bIt("click",function(){return u.eBV(Zt),u.Njj(Xe.filter("blocked"))}),u.EFF(34),u.nI1(35,"translate"),u.k0s()(),u.j41(36,"li")(37,"button",26),u.bIt("click",function(){return u.eBV(Zt),u.Njj(Xe.filter("deleted"))}),u.EFF(38),u.nI1(39,"translate"),u.k0s()()()()(),u.nrm(40,"hr"),u.k0s()(),u.DNE(41,X,4,2,"app-action-bar",12)(42,oe,1,0,"app-simple-loader",12)(43,Ve,4,3,"div",27)(44,Bn,22,16,"table",28)(45,It,1,3,"app-pager",29),u.k0s()}2&Yt&&(u.Y8G("ngIf",!Xe.isUserManagerReadOnly),u.R7$(2),u.Y8G("ngIf",Xe.limitReached),u.R7$(6),u.JRh(u.bMT(9,25,"Common.Search")),u.R7$(2),u.FS9("placeholder",u.bMT(12,27,"Users.SearchPlaceholder")),u.R50("ngModel",Xe.searchTerm),u.R7$(4),u.Y8G("ngIf",!Xe.showAdvancedFilters),u.R7$(),u.Y8G("ngIf",Xe.showAdvancedFilters),u.R7$(),u.Y8G("hidden",!Xe.showAdvancedFilters),u.R7$(4),u.Y8G("id","includeClaims")("label","Users.Filter.IncludeClaims")("help","Users.Filter.IncludeClaimsHelp")("isLast",!0),u.R7$(),u.Y8G("id","includeClaims"),u.R7$(4),u.JRh(u.bMT(26,29,"Auditing.Showing")),u.R7$(4),u.Y8G("ngClass",Xe.isShowing("active")?"tw-btn":"tw-btn-link"),u.R7$(),u.SpI(" ",u.bMT(31,31,"Users.Filter.Active")," "),u.R7$(3),u.Y8G("ngClass",Xe.isShowing("blocked")?"tw-btn":"tw-btn-link"),u.R7$(),u.SpI(" ",u.bMT(35,33,"Users.Filter.Blocked")," "),u.R7$(3),u.Y8G("ngClass",Xe.isShowing("deleted")?"tw-btn":"tw-btn-link"),u.R7$(),u.SpI(" ",u.bMT(39,35,"Users.Filter.Deleted")," "),u.R7$(3),u.Y8G("ngIf",!Xe.isLoading),u.R7$(),u.Y8G("ngIf",Xe.isLoading),u.R7$(),u.Y8G("ngIf",(null==Xe.pagedResult?null:Xe.pagedResult.results.length)<1&&!Xe.isLoading),u.R7$(),u.Y8G("ngIf",(null==Xe.pagedResult?null:Xe.pagedResult.results.length)>0&&!Xe.isLoading),u.R7$(),u.Y8G("ngIf",(null==Xe.pagedResult?null:Xe.pagedResult.results.length)>0&&!Xe.isLoading))},dependencies:[n.YU,n.Sq,n.bT,e.xH,e.y7,e.me,e.wz,e.BC,e.vS,Qe.B,Se.n,be.d,le.Y,Fe.m,Be,b.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return We})();const Gt=()=>["active"];function lt(We,zt){1&We&&(u.j41(0,"ul",10),u.nI1(1,"translate"),u.j41(2,"li",11)(3,"button",12),u.EFF(4),u.nI1(5,"translate"),u.k0s()(),u.j41(6,"li",11)(7,"button",13),u.EFF(8),u.nI1(9,"translate"),u.k0s()()()),2&We&&(u.BMQ("aria-label",u.bMT(1,5,"Nav.SubMenu")),u.R7$(3),u.Y8G("routerLinkActive",u.lJ4(11,Gt)),u.R7$(),u.JRh(u.bMT(5,7,"Nav.Users")),u.R7$(3),u.Y8G("routerLinkActive",u.lJ4(12,Gt)),u.R7$(),u.JRh(u.bMT(9,9,"Nav.SessionManagement")))}let Ct=(()=>{class We{constructor(ct,Yt,Xe){this.r=ct,this.route=Yt,this.configService=Xe}ngOnInit(){this.configService.getConfig().subscribe(ct=>{this.showSessionManagement=ct.featureFlagOptions.sessionManagementEnabled})}mobRoute(ct){this.r.navigate([ct],{relativeTo:this.route})}static{this.\u0275fac=function(Yt){return new(Yt||We)(u.rXU(y.Ix),u.rXU(y.nX),u.rXU(T.w))}}static{this.\u0275cmp=u.VBU({type:We,selectors:[["app-users-nav"]],decls:21,vars:17,consts:[[3,"hasTabs","title"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","list"],["value","sessions"],["class","tabs tw-hidden md:tw-flex","role","tablist",4,"ngIf"],["id","userRoutes"],["role","tablist",1,"tabs","tw-hidden","md:tw-flex"],[1,"tabs__item"],["type","button","routerLink","list","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","sessions","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"]],template:function(Yt,Xe){1&Yt&&(u.j41(0,"app-title-bar",0),u.nI1(1,"translate"),u.qex(2,1),u.j41(3,"div",2)(4,"label",3),u.EFF(5),u.nI1(6,"translate"),u.k0s(),u.j41(7,"div",4)(8,"select",5),u.bIt("change",function(ut){return Xe.mobRoute(ut.target.value)}),u.j41(9,"option",6),u.EFF(10),u.nI1(11,"translate"),u.k0s(),u.j41(12,"option",6),u.EFF(13),u.nI1(14,"translate"),u.k0s(),u.j41(15,"option",7),u.EFF(16),u.nI1(17,"translate"),u.k0s()()()(),u.DNE(18,lt,10,13,"ul",8),u.bVm(),u.k0s(),u.j41(19,"div",9),u.nrm(20,"router-outlet"),u.k0s()),2&Yt&&(u.Y8G("hasTabs",!0)("title",u.bMT(1,7,"Nav.Users")),u.R7$(5),u.JRh(u.bMT(6,9,"Nav.SubMenu")),u.R7$(5),u.SpI("",u.bMT(11,11,"Nav.SubMenu"),"..."),u.R7$(3),u.JRh(u.bMT(14,13,"Nav.Users")),u.R7$(3),u.JRh(u.bMT(17,15,"Nav.SessionManagement")),u.R7$(2),u.Y8G("ngIf",Xe.showSessionManagement))},dependencies:[y.n3,y.Wk,y.wQ,n.bT,e.xH,e.y7,F.z,b.D9],encapsulation:2})}}return We})();const yt=(We,zt)=>({title:We,link:zt}),Ot=We=>[We],en=()=>["active"];function Sn(We,zt){1&We&&(u.j41(0,"span",25),u.EFF(1),u.nI1(2,"translate"),u.k0s()),2&We&&(u.R7$(),u.SpI(" ",u.bMT(2,1,"Users.Filter.Blocked")," "))}function Un(We,zt){1&We&&(u.j41(0,"span",26)(1,"span",27),u.EFF(2),u.nI1(3,"translate"),u.k0s(),u.nrm(4,"span",28),u.k0s()),2&We&&(u.R7$(2),u.JRh(u.bMT(3,1,"StarterMode.RequiresUpgrade")))}function fn(We,zt){1&We&&(u.j41(0,"div",29)(1,"p"),u.EFF(2),u.nI1(3,"translate"),u.nI1(4,"translate"),u.k0s()()),2&We&&(u.R7$(2),u.Lme("",u.bMT(3,2,"Users.Delete.DeletedUser")," ",u.bMT(4,4,"Users.Delete.AuditingPurposes"),""))}let di=(()=>{class We{constructor(ct,Yt,Xe,Zt){this.route=ct,this.router=Yt,this.errorService=Xe,this.licenseService=Zt}ngOnInit(){this.userDataSubscription=this.route.data.subscribe(ct=>{this.user=ct.user},ct=>{this.errorService.handleError(ct)}),this.licenseService.getLicenseInfo().pipe((0,m.$)()).subscribe({next:ct=>{this.licenseInfo=ct}})}mobRoute(ct){this.router.navigate([ct],{relativeTo:this.route})}ngOnDestroy(){this.userDataSubscription.unsubscribe()}static{this.\u0275fac=function(Yt){return new(Yt||We)(u.rXU(y.nX),u.rXU(y.Ix),u.rXU(f.I),u.rXU(O.X))}}static{this.\u0275cmp=u.VBU({type:We,selectors:[["ng-component"]],decls:63,vars:73,consts:[[3,"title","crumbs","hasTabs","isReadOnly"],["badge",""],["class","tw-pill-warning tw-mr-2",4,"ngIf"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","details"],["value","roles"],["value","additionaldetails"],["value","applications"],["value","userlogins"],["value","useraudits"],["role","tablist",1,"tabs","tw-hidden","md:tw-flex"],[1,"tabs__item"],["type","button","routerLink","details","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","roles","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","additionaldetails","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","applications","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","userlogins","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","tabAudit","type","button","routerLink","useraudits","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","upgradeSymbol",4,"ngIf"],["id","viewUser"],["id","userDeleted","class","tw-alert-danger tw-container tw-mx-auto tw-mb-6",4,"ngIf"],[1,"tw-pill-warning","tw-mr-2"],["id","upgradeSymbol"],[1,"sr-only"],["aria-hidden","true",1,"tw-text-secondary-500","far","fa-arrow-alt-circle-up","tw-pl-1"],["id","userDeleted",1,"tw-alert-danger","tw-container","tw-mx-auto","tw-mb-6"]],template:function(Yt,Xe){1&Yt&&(u.j41(0,"app-title-bar",0),u.nI1(1,"translate"),u.nI1(2,"localize"),u.qex(3,1),u.DNE(4,Sn,3,3,"span",2),u.bVm(),u.qex(5,3),u.j41(6,"div",4)(7,"label",5),u.EFF(8),u.nI1(9,"translate"),u.k0s(),u.j41(10,"div",6)(11,"select",7),u.bIt("change",function(ut){return Xe.mobRoute(ut.target.value)}),u.j41(12,"option",8),u.EFF(13),u.nI1(14,"translate"),u.k0s(),u.j41(15,"option",8),u.EFF(16),u.nI1(17,"translate"),u.k0s(),u.j41(18,"option",9),u.EFF(19),u.nI1(20,"translate"),u.k0s(),u.j41(21,"option",10),u.EFF(22),u.nI1(23,"translate"),u.k0s(),u.j41(24,"option",11),u.EFF(25),u.nI1(26,"translate"),u.k0s(),u.j41(27,"option",12),u.EFF(28),u.nI1(29,"translate"),u.k0s(),u.j41(30,"option",13),u.EFF(31),u.nI1(32,"translate"),u.k0s()()()(),u.j41(33,"ul",14),u.nI1(34,"translate"),u.j41(35,"li",15)(36,"button",16),u.EFF(37),u.nI1(38,"translate"),u.k0s()(),u.j41(39,"li",15)(40,"button",17),u.EFF(41),u.nI1(42,"translate"),u.k0s()(),u.j41(43,"li",15)(44,"button",18),u.EFF(45),u.nI1(46,"translate"),u.k0s()(),u.j41(47,"li",15)(48,"button",19),u.EFF(49),u.nI1(50,"translate"),u.k0s()(),u.j41(51,"li",15)(52,"button",20),u.EFF(53),u.nI1(54,"translate"),u.k0s()(),u.j41(55,"li",15)(56,"button",21),u.EFF(57),u.nI1(58,"translate"),u.DNE(59,Un,5,3,"span",22),u.k0s()()(),u.bVm(),u.k0s(),u.j41(60,"div",23),u.DNE(61,fn,5,6,"div",24),u.nrm(62,"router-outlet"),u.k0s()),2&Yt&&(u.Y8G("title",Xe.user.firstName+" "+Xe.user.lastName)("crumbs",u.eq3(65,Ot,u.l_i(62,yt,u.bMT(1,28,"Nav.Users"),u.bMT(2,30,"/users"))))("hasTabs",!0)("isReadOnly",!0),u.R7$(4),u.Y8G("ngIf",Xe.user.isBlocked),u.R7$(4),u.JRh(u.bMT(9,32,"Nav.SubMenu")),u.R7$(5),u.SpI("",u.bMT(14,34,"Nav.SubMenu"),"..."),u.R7$(3),u.JRh(u.bMT(17,36,"Nav.Details")),u.R7$(3),u.JRh(u.bMT(20,38,"Nav.Roles")),u.R7$(3),u.JRh(u.bMT(23,40,"Nav.Additional Details")),u.R7$(3),u.JRh(u.bMT(26,42,"Nav.Applications")),u.R7$(3),u.JRh(u.bMT(29,44,"Nav.External Logins")),u.R7$(3),u.JRh(u.bMT(32,46,"Nav.Audits")),u.R7$(2),u.BMQ("aria-label",u.bMT(34,48,"Nav.SubMenu")),u.R7$(3),u.Y8G("routerLinkActive",u.lJ4(67,en)),u.R7$(),u.JRh(u.bMT(38,50,"Nav.Details")),u.R7$(3),u.Y8G("routerLinkActive",u.lJ4(68,en)),u.R7$(),u.JRh(u.bMT(42,52,"Nav.Roles")),u.R7$(3),u.Y8G("routerLinkActive",u.lJ4(69,en)),u.R7$(),u.JRh(u.bMT(46,54,"Nav.Additional Details")),u.R7$(3),u.Y8G("routerLinkActive",u.lJ4(70,en)),u.R7$(),u.JRh(u.bMT(50,56,"Nav.Applications")),u.R7$(3),u.Y8G("routerLinkActive",u.lJ4(71,en)),u.R7$(),u.JRh(u.bMT(54,58,"Nav.External Logins")),u.R7$(3),u.Y8G("routerLinkActive",u.lJ4(72,en)),u.R7$(),u.SpI(" ",u.bMT(58,60,"Nav.Audits")," "),u.R7$(2),u.Y8G("ngIf",Xe.licenseInfo.isStarterLicense()),u.R7$(2),u.Y8G("ngIf",Xe.user.isDeleted))},dependencies:[y.n3,y.Wk,y.wQ,n.bT,F.z,b.D9,p.tl],encapsulation:2})}}return We})();var Gn=h(3178),Mt=h(5358),ht=h(3218),xt=h(2892),$t=h(4811),nn=h(4446),vn=h(2633);const gn=[{path:"users",component:Ct,children:[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:Dn},{path:"sessions",component:Mt.Z,canActivate:[ht.O]}],canActivate:[xt.h,nn._],data:{permissions:[Gn.a[Gn.a.UserManager],Gn.a[Gn.a.UserManagerReadOnly],Gn.a[Gn.a.AllReadOnly],Gn.a[Gn.a.All]]}},{path:"users/:Id",component:U,loadChildren:()=>Promise.all([h.e(861),h.e(76),h.e(866)]).then(h.bind(h,866)).then(We=>We.EditUsersModule),resolve:{user:$t.M},canActivate:[xt.h,nn._,vn.g],data:{permissions:[Gn.a[Gn.a.UserManager],Gn.a[Gn.a.All]]}},{path:"users/view/:Id",loadChildren:()=>Promise.all([h.e(861),h.e(76),h.e(855)]).then(h.bind(h,4855)).then(We=>We.ViewUserModule),component:di,canActivate:[xt.h,nn._],resolve:{user:$t.M},data:{permissions:[Gn.a[Gn.a.UserManager],Gn.a[Gn.a.UserManagerReadOnly],Gn.a[Gn.a.AllReadOnly],Gn.a[Gn.a.All]]}}];let Yn=(()=>{class We{static{this.\u0275fac=function(Yt){return new(Yt||We)}}static{this.\u0275mod=u.$C({type:We})}static{this.\u0275inj=u.G2t({imports:[y.iI.forChild(gn),p.XE.forChild(gn),y.iI]})}}return We})();var In=h(1683),mn=h(2571),ci=h(5663),pi=h(9475),ei=h(367),Oi=h(5731),Xn=h(4193),wi=h(3665),mi=h(7175),Hi=h(8389),ji=h(6599),Ei=h(3730),qe=h(7677);let At=(()=>{class We{static{this.\u0275fac=function(Yt){return new(Yt||We)}}static{this.\u0275mod=u.$C({type:We})}static{this.\u0275inj=u.G2t({providers:[$t.M,ci.Q],imports:[Yn,n.MD,e.YN,e.X1,w.Q_,In.Y,b.h,mn.A,C.Ss,p.XE,pi.F,ei.m,Oi.i,Xn.c,wi.t,mi.c,Hi.w,ji.Y,y.iI,Mt.Z,Ei.ClaimTypesModule,qe.N]})}}return We})()},3497:(nt,fe,h)=>{"use strict";h.d(fe,{E:()=>n});let n=(()=>{class e{static{this.Default="clientId"}static{this.Saml="entityId"}static{this.WsFed="realm"}}return e})()},4595:(nt,fe,h)=>{"use strict";h.d(fe,{I:()=>e});var n=h(6701);class e{static{this.RestrictedClientTypes=[n.s.ServerSide,n.s.ServerSidePKCE,n.s.Native,n.s.NativePKCE,n.s.Device,n.s.Saml,n.s.WsFed,n.s.LegacyClientSide]}}},4861:(nt,fe,h)=>{"use strict";h.d(fe,{M:()=>n});let n=(()=>{class e{static{this.DefaultAdministratorUsername="info@rocksolidknowledge.com"}}return e})()},6026:(nt,fe,h)=>{"use strict";h.d(fe,{R:()=>n});let n=(()=>{class e{static{this.Id="wizard-modal"}static{this.TileId="wizard-title"}static{this.DescriptionId="wizard-description"}}return e})()},5358:(nt,fe,h)=>{"use strict";h.d(fe,{Z:()=>Ce});var n=h(9417),e=h(1583),y=h(4549),p=h(1626),w=h(7263),C=h(4438),m=h(9564);let u=(()=>{class we{constructor(Be,ot){this.http=Be,this.headersService=ot,this.actionUrl="ServerSideSession",this.headers=this.headersService.setHeaders()}buildParams(Be,ot,Pt,mt,it,Kt,sn){let Ft=new p.Nl;return null!=Be&&(Ft=Ft.append("query",Be)),(0,w.gP)(mt)||(Ft=Ft.append("sort",mt)),ot&&(Ft=Ft.append("created",ot)),Pt&&(Ft=Ft.append("expires",Pt)),it&&(Ft=Ft.append("page",String(it))),Kt&&(Ft=Ft.append("pageSize",String(Kt))),sn&&(Ft=Ft.append("filterExpired",String(sn))),Ft}getSessions(Be,ot,Pt,mt,it,Kt,sn){const Ft=this.buildParams(Be,ot,Pt,mt,it,Kt,sn);return this.http.get(this.actionUrl,{headers:this.headers,params:Ft})}deleteSession(Be){return this.http.delete(`${this.actionUrl}/${Be}`,{headers:this.headers})}static{this.\u0275fac=function(ot){return new(ot||we)(C.KVO(p.Qq),C.KVO(m.m))}}static{this.\u0275prov=C.jDH({token:we,factory:we.\u0275fac})}}return we})();var f=h(177),T=h(1780),O=h(5731),F=h(1683),b=h(1413),M=h(8359),k=h(7175),N=h(1594),G=h(9172),R=h(1397),j=h(6599),U=h(8251),$=h(8577),ie=h(4252),se=h(4367),L=h(1258),J=h(7185),q=h(2390);class S{constructor(at,Be,ot,Pt,mt,it){this.query=at,this.page=Be,this.pageSize=ot,this.sortCriteria=Pt,this.fromDate=mt,this.toDate=it}}class re{constructor(at){this.query=at.query,this.page=at.page,this.pageSize=at.pageSize,this.sortCriteria=at.sortCriteria,this.fromDate=at.fromDate?.toString(),this.toDate=at.toDate?.toString()}}var K=function(we){return we.ByUser="user",we.ByUserDescending="-user",we.ByScheme="scheme",we.BySchemeDescending="-scheme",we.ByCreated="created",we.ByCreatedDescending="-created",we.ByExpires="expires",we.ByExpiresDescending="-expires",we.ByRenewed="renewed",we.ByRenewedDescending="-renewed",we}(K||{}),me=h(923),Ne=h(7005),De=h(9812),xe=h(4754),Qe=h(7883),Se=h(5424),be=h(3488),le=h(7156),Fe=h(7384),Te=h(6536),st=h(3899);const Oe=we=>[we];function pt(we,at){1&we&&(C.j41(0,"span",34),C.EFF(1),C.nI1(2,"translate"),C.k0s()),2&we&&(C.R7$(),C.SpI(" ",C.bMT(2,1,"Auditing.FromDateWarning")," "))}function Ye(we,at){1&we&&(C.j41(0,"span",35),C.EFF(1),C.nI1(2,"translate"),C.k0s()),2&we&&(C.R7$(),C.SpI(" ",C.bMT(2,1,"Auditing.ToDateBehindWarning")," "))}function qt(we,at){1&we&&(C.j41(0,"div",32)(1,"div",36)(2,"div",37)(3,"div",38),C.nrm(4,"input",39,2),C.nI1(6,"translate"),C.nI1(7,"translate"),C.k0s()()()()),2&we&&(C.R7$(4),C.BMQ("placeholder",C.bMT(6,2,"Auditing.FilterTermPlaceholder"))("aria-label",C.bMT(7,4,"Auditing.AddFilterTerm")))}function jt(we,at){1&we&&(C.j41(0,"p",40),C.nrm(1,"span",41),C.EFF(2),C.nI1(3,"translate"),C.k0s()),2&we&&(C.R7$(2),C.SpI(" ",C.bMT(3,1,"Auditing.UpdateWarning")," "))}function Dt(we,at){1&we&&C.nrm(0,"app-simple-loader")}function wt(we,at){1&we&&(C.j41(0,"div",42)(1,"div"),C.EFF(2),C.nI1(3,"translate"),C.k0s()()),2&we&&(C.R7$(2),C.JRh(C.bMT(3,1,"SessionManagement.NoSessionsFound")))}function z(we,at){if(1&we&&C.nrm(0,"app-data-table-column",48),2&we){const Be=C.XpG(2);C.Y8G("prop","user")("title","Auditing.Subject")("link","resourceLink")("headClasses","tw-hidden xs:tw-table-cell lg:tw-w-1/4")("sort",Be.sortingEnum.None)}}function Y(we,at){if(1&we&&(C.j41(0,"app-data-table",43),C.DNE(1,z,1,5,"app-data-table-column",44),C.nrm(2,"app-data-table-column",45)(3,"app-data-table-column",46)(4,"app-data-table-column",47)(5,"app-data-table-column",46),C.k0s()),2&we){const Be=C.XpG();C.Y8G("rows",Be.pagedResult.results)("actions",Be.dataTableActions),C.R7$(),C.Y8G("ngIf",!Be.resourceOnly()),C.R7$(),C.Y8G("prop","scheme")("title","SessionManagement.Scheme")("headClasses","tw-hidden tw-w-32 md:tw-table-cell xl:tw-w-40"),C.R7$(),C.Y8G("prop","created")("title","SessionManagement.Created")("headClasses","tw-hidden tw-w-32 md:tw-table-cell xl:tw-w-40")("date",Be.dateColumn(Be.DatePipeNames.prettyDateTime)),C.R7$(),C.Y8G("prop","expires")("title","SessionManagement.Expires")("headClasses","tw-hidden tw-w-32 md:tw-table-cell xl:tw-w-40")("date",Be.dateColumn(Be.DatePipeNames.prettyDateTime,"SessionManagement.NoExpiration"))("sort",Be.sortingEnum.Descending),C.R7$(),C.Y8G("prop","renewed")("title","SessionManagement.Renewed")("headClasses","tw-hidden tw-w-32 md:tw-table-cell xl:tw-w-40")("date",Be.dateColumn(Be.DatePipeNames.prettyDateTime,"SessionManagement.NotRenewed"))}}function Z(we,at){if(1&we){const Be=C.RV6();C.j41(0,"app-pager",49),C.bIt("onGoToPage",function(Pt){C.eBV(Be);const mt=C.XpG();return C.Njj(mt.goToPage(Pt))}),C.k0s()}if(2&we){const Be=C.XpG();C.Y8G("totalResults",null==Be.pagedResult?null:Be.pagedResult.totalCount)("currentPage",Be.filterForm.get("page").value)("lastPage",null==Be.pagedResult?null:Be.pagedResult.pageCount)}}let Ce=(()=>{class we{resourceOnly(){return!(0,w.gP)(this.resourceName)}constructor(Be,ot,Pt,mt,it,Kt,sn,Ft,Jt,je){this.sessionManagementService=Be,this.localizeRouter=ot,this.router=Pt,this.fb=mt,this.activatedRoute=it,this.dataTableService=Kt,this.modalService=sn,this.securityService=Ft,this.errorService=Jt,this.systemClock=je,this.isLoading=!1,this.sortingEnum=q.uy,this.filterHasChanged=!1,this.sessionStream=new b.B,this.dateColumn=(ce,X)=>new $.$(ce,X),this.DatePipeNames=me.N,this.dataTableActions=[ie.AA.Delete],this.deleteModalId="SessionManagement",this.modelActions=L.N,this.deleteModalType=J.q.Warning,this.resourceName="",this.dataTableServiceSubscriptions=new M.yU}ngOnDestroy(){this.dataTableServiceSubscriptions.unsubscribe()}userManagerReadOnly(){return(0,w.zG)(this.securityService.userPermissions)}ngOnInit(){this.translatedRoute=this.buildTranslatedRoute(),this.dataTableActions=this.userManagerReadOnly()?[]:[ie.AA.Delete],this.activatedRoute.parent.url.pipe((0,N.$)()).subscribe({next:Be=>{this.resourceName=Be[1]?.path??"",this.initDataSource()},error:Be=>this.errorService.handleError(Be)}),this.dataTableServiceSubscriptions.add(this.dataTableService.sortColumnEvent.subscribe(Be=>{this.sortResults(Be)})),this.dataTableServiceSubscriptions.add(this.dataTableService.deleteRowEvent.subscribe(Be=>{this.openDeleteModal(this.pagedResult.results[Be])}))}initDataSource(){this.setupFilterForm(this.activatedRoute.snapshot.queryParams),this.sessionStream.pipe((0,G.Z)({query:this.filterForm.value.query,fromDate:this.filterForm.value.fromDate??this.systemClock.now().minus({month:1}).toString(),toDate:this.filterForm.value.toDate??this.systemClock.now().plus({month:1}).toString(),sortCriteria:this.filterForm.value.sortCriteria,page:this.filterForm.value.page,pageSize:this.filterForm.value.pageSize}),(0,R.Z)(ot=>(this.isLoading=!0,this.sessionManagementService.getSessions(ot.query||"",ot.fromDate?.toString(),ot.toDate?.toString(),ot.sortCriteria||"-when",ot.page,ot.pageSize,this.resourceOnly())))).subscribe(ot=>{this.isLoading=!1,this.pagedResult={totalCount:ot.totalCount,pageSize:ot.pageSize,currentPage:ot.currentPage,pageCount:ot.pageCount,results:ot.results.map(Pt=>new q.j2(Pt,this.translatedRoute))}})}applyForm(Be){Be&&this.filterForm.patchValue({page:1}),this.resourceOnly()&&this.filterForm.patchValue({query:this.resourceName});const ot=this.filterForm.value;this.filterForm.patchValue({fromDate:ot.fromDate,toDate:ot.toDate}),this.sessionStream.next(ot),this.router.navigate([this.router.url.split("?")[0]],{queryParams:new re(this.filterForm.value)}),this.filterHasChanged=!1}goToPage(Be){this.filterForm.patchValue({page:Be}),this.applyForm(!1)}buildTranslatedRoute(){return this.userManagerReadOnly()?`${this.localizeRouter.translateRoute("/users/view")}`:`${this.localizeRouter.translateRoute("/users")}`}resetForm(){this.filterForm.setValue({fromDate:this.systemClock.now().minus({month:1}).toString(),toDate:this.systemClock.now().plus({month:1}).toString(),query:this.resourceName??"",page:1,pageSize:25,sortCriteria:K.ByExpiresDescending}),this.filterHasChanged=!1,this.applyForm(!0)}openDeleteModal(Be){this.sessionToDelete=Be,this.modalService.showById(this.deleteModalId,null)}closeDeleteModal(){this.sessionToDelete=null,this.modalService.hideById(this.deleteModalId)}removeSession(){if(null==this.sessionToDelete)throw new Error("Delete called without target");this.delete()}delete(){this.sessionManagementService.deleteSession(this.sessionToDelete.sessionId).subscribe({next:()=>{this.sessionToDelete=null,this.applyForm(!1),this.closeDeleteModal()},error:Be=>{this.errorService.handleError(Be)}})}sortResults(Be){const ot=this.activatedRoute.snapshot.queryParams,Pt=(0,w.gP)(ot?.fromDate)?this.systemClock.now().minus({month:1}):y.c9.fromISO(ot.fromDate),mt=(0,w.gP)(ot?.toDate)?this.systemClock.now().plus({month:1}):y.c9.fromISO(ot.toDate),it=new S(ot.query,ot.page,ot.pageSize,this.getSortFromColumnName(Be.prop,ot.sortCriteria),Pt,mt),Kt=this.filterHasChanged;this.filterForm.patchValue({sortCriteria:it.sortCriteria}),this.sessionStream.next(it),this.filterHasChanged=Kt,this.router.navigate([this.router.url.split("?")[0]],{queryParams:new re(it)}),this.dataTableService.sortCompletedEvent.next(Be.prop)}getSortFromColumnName(Be,ot){switch(Be){case"user":return ot===K.ByUserDescending?K.ByUser:K.ByUserDescending;case"expires":return ot===K.ByExpiresDescending?K.ByExpires:K.ByExpiresDescending;default:return K.ByExpiresDescending}}setupFilterForm(Be){const ot=(0,w.gP)(Be?.fromDate)?this.systemClock.now().minus({month:1}):y.c9.fromISO(Be.fromDate),Pt=(0,w.gP)(Be?.toDate)?this.systemClock.now().plus({month:1}):y.c9.fromISO(Be.toDate);this.filterForm=this.fb.nonNullable.group({fromDate:[ot,[w.TO]],toDate:[Pt],query:[this.resourceName||""],page:[Be?.page||1],pageSize:[Be?.pageSize>1e3?1e3:Be?.pageSize||25],sortCriteria:[Be?.sortCriteria||K.ByExpiresDescending]},{validators:w.$N}),this.filterForm.valueChanges.subscribe(()=>{this.filterHasChanged=!0})}static{this.\u0275fac=function(ot){return new(ot||we)(C.rXU(u),C.rXU(Ne.QG),C.rXU(e.Ix),C.rXU(n.ok),C.rXU(e.nX),C.rXU(De.I),C.rXU(xe.B),C.rXU(Qe.i),C.rXU(Se.I),C.rXU(be.F))}}static{this.\u0275cmp=C.VBU({type:we,selectors:[["app-sessionmanagement"]],standalone:!0,features:[C.Jv_([u]),C.aNF],decls:56,vars:42,consts:[["pageLength",""],["sortCriteria",""],["filterValue",""],["id","sessionList",1,"tw-container","tw-mx-auto"],[1,"",3,"formGroup"],[1,"tw-border-b","tw-border-grey-200","tw-mb-4","tw-pb-5"],[1,"tw-flex-grid","tw-mb-3","lg:tw-flex-nowrap"],[1,"tw-flex-grid-col","xs:tw-w-1/2","lg:tw-w-1/3"],[1,"tw-form-group","tw-mb-0"],["for","fromDate",1,"tw-form-label"],["id","fromDate","name","fromDate","formControlName","fromDate","aria-describedby","toErrorLabel",3,"displayType"],["id","fromErrorLabel","class","tw-form-text-danger",4,"ngIf"],["for","toDate",1,"tw-form-label"],["id","toDate","name","toDate","formControlName","toDate","aria-describedby","toErrorLabel",3,"displayType"],["id","toErrorLabel","class","tw-form-text-danger",4,"ngIf"],[1,"tw-flex-grid-col","tw-w-40","tw-ml-auto"],["for","pageSize",1,"tw-form-label"],[1,"tw-form-select"],["id","pageSize","formControlName","pageSize",1,"tw-form-control"],[3,"value"],["class","tw-mb-4",4,"ngIf"],[1,"tw-flex","tw-flex-wrap","tw-items-center"],["type","hidden"],["id","applyBtn",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],[1,"tw-btn-link","tw-mr-3",3,"click"],["class","tw-pill-warning tw-my-2",4,"ngIf"],[4,"ngIf"],["class","tw-alert","role","alert",4,"ngIf"],[3,"rows","actions",4,"ngIf"],[3,"totalResults","currentPage","lastPage","onGoToPage",4,"ngIf"],[3,"onCancel","onDelete","title","modalId","actions","modalType"],[1,"tw-text-center"],[1,"tw-mb-4"],[1,"tw-pill-danger",3,"innerHTML"],["id","fromErrorLabel",1,"tw-form-text-danger"],["id","toErrorLabel",1,"tw-form-text-danger"],["aria-labelledby","showFilterButton",1,"tw-mt-3","tw-mb-6"],[1,"tw-flex-grid","md:tw-flex-nowrap"],[1,"tw-flex-grid-col","tw-flex","xs:tw-w-3/5","sm:tw-w-1/2"],["formControlName","query","id","filterTerm","type","text","autocomplete","off",1,"tw-form-control","tw-border-r-1"],[1,"tw-pill-warning","tw-my-2"],["aria-hidden","true",1,"fas","fa-info-circle","tw-mr-1"],["role","alert",1,"tw-alert"],[3,"rows","actions"],[3,"prop","title","link","headClasses","sort",4,"ngIf"],[3,"prop","title","headClasses"],[3,"prop","title","headClasses","date"],[3,"prop","title","headClasses","date","sort"],[3,"prop","title","link","headClasses","sort"],[3,"onGoToPage","totalResults","currentPage","lastPage"]],template:function(ot,Pt){if(1&ot){const mt=C.RV6();C.j41(0,"div",3)(1,"form",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"div",8)(6,"label",9),C.EFF(7),C.nI1(8,"translate"),C.k0s(),C.j41(9,"div"),C.nrm(10,"app-date-time",10),C.DNE(11,pt,3,3,"span",11),C.k0s()()(),C.j41(12,"div",7)(13,"div",8)(14,"label",12),C.EFF(15),C.nI1(16,"translate"),C.k0s(),C.j41(17,"div"),C.nrm(18,"app-date-time",13),C.DNE(19,Ye,3,3,"span",14),C.k0s()()(),C.j41(20,"div",15)(21,"div",8)(22,"label",16),C.EFF(23),C.nI1(24,"translate"),C.k0s(),C.j41(25,"div",17)(26,"select",18,0)(28,"option",19),C.EFF(29,"25 "),C.k0s(),C.j41(30,"option",19),C.EFF(31,"50"),C.k0s(),C.j41(32,"option",19),C.EFF(33,"100"),C.k0s()()()()()(),C.DNE(34,qt,8,6,"div",20),C.j41(35,"div",21),C.nrm(36,"input",22,1),C.j41(38,"button",23),C.bIt("click",function(){return C.eBV(mt),C.Njj(Pt.applyForm(!0))}),C.EFF(39),C.nI1(40,"translate"),C.k0s(),C.j41(41,"button",24),C.bIt("click",function(){return C.eBV(mt),C.Njj(Pt.resetForm())}),C.EFF(42),C.nI1(43,"translate"),C.k0s(),C.DNE(44,jt,4,3,"p",25),C.k0s()()(),C.DNE(45,Dt,1,0,"app-simple-loader",26)(46,wt,4,3,"div",27)(47,Y,6,19,"app-data-table",28)(48,Z,1,3,"app-pager",29),C.k0s(),C.j41(49,"app-custom-modal",30),C.bIt("onCancel",function(){return C.eBV(mt),C.Njj(Pt.closeDeleteModal())})("onDelete",function(){return C.eBV(mt),C.Njj(Pt.removeSession())}),C.j41(50,"div",31)(51,"p",32),C.EFF(52),C.nI1(53,"translate"),C.k0s(),C.nrm(54,"p",33),C.nI1(55,"translate"),C.k0s()()}if(2&ot){let mt;C.R7$(),C.Y8G("formGroup",Pt.filterForm),C.R7$(6),C.JRh(C.bMT(8,26,"SessionManagement.Created")),C.R7$(3),C.Y8G("displayType","datetime"),C.R7$(),C.Y8G("ngIf",Pt.filterForm.get("fromDate").hasError("dateInFuture")),C.R7$(4),C.JRh(C.bMT(16,28,"SessionManagement.Expires")),C.R7$(3),C.Y8G("displayType","datetime"),C.R7$(),C.Y8G("ngIf",Pt.filterForm.hasError("fromDateIsAfterToDate")),C.R7$(4),C.JRh(C.bMT(24,30,"Auditing.ResultsPerPage")),C.R7$(5),C.Y8G("value",25),C.R7$(2),C.Y8G("value",50),C.R7$(2),C.Y8G("value",100),C.R7$(2),C.Y8G("ngIf",!Pt.resourceOnly()),C.R7$(4),C.Y8G("disabled",(null==Pt.filterForm?null:Pt.filterForm.errors)||(null==(mt=Pt.filterForm.get("fromDate"))?null:mt.hasError("dateInFuture"))),C.R7$(),C.SpI(" ",C.bMT(40,32,"Auditing.ExecuteAndDisplay")," "),C.R7$(3),C.SpI(" ",C.bMT(43,34,"Auditing.Reset")," "),C.R7$(2),C.Y8G("ngIf",Pt.filterHasChanged),C.R7$(),C.Y8G("ngIf",Pt.isLoading),C.R7$(),C.Y8G("ngIf",(null==Pt.pagedResult?null:Pt.pagedResult.results.length)<1&&!Pt.isLoading),C.R7$(),C.Y8G("ngIf",(null==Pt.pagedResult?null:Pt.pagedResult.results.length)>0),C.R7$(),C.Y8G("ngIf",(null==Pt.pagedResult?null:Pt.pagedResult.results.length)>0&&!Pt.isLoading),C.R7$(),C.Y8G("title","Settings.Keys.DeleteKey")("modalId",Pt.deleteModalId)("actions",C.eq3(40,Oe,Pt.modelActions.Delete))("modalType",Pt.deleteModalType),C.R7$(3),C.JRh(C.bMT(53,36,"Common.Delete.AreYouSureSimple")),C.R7$(2),C.Y8G("innerHTML",C.bMT(55,38,"Common.Delete.Warning"),C.npT)}},dependencies:[f.MD,f.bT,T.h,T.D9,e.iI,O.i,le.B,F.Y,k.c,Fe.d,n.X1,n.qT,n.xH,n.y7,n.me,n.wz,n.BC,n.cb,n.j4,n.JD,j.Y,Te.Z,U.h,ie.up,$.w,se.N,st.G],encapsulation:2})}}return we})()},2390:(nt,fe,h)=>{"use strict";h.d(fe,{j2:()=>e,uy:()=>n});var n=function(p){return p[p.None=0]="None",p[p.Ascending=1]="Ascending",p[p.Descending=2]="Descending",p}(n||{});class e{get routeLink(){return`${this.link.routeForLink}/${this.link.identifier}`}constructor(w,C){this.sort=n.None,this.sessionId=w.sessionId,this.scheme=w.scheme,this.created=w.created,this.expires=w.expires,this.renewed=w.renewed,this.user=w.user.name??w.user.identifier,this.link={identifier:w.user.identifier,routeForLink:C}}}},5517:(nt,fe,h)=>{"use strict";h.d(fe,{H:()=>m});var n=h(1594),e=h(6354),y=h(4438),p=h(3853),w=h(1583),C=h(7005);let m=(()=>{class u{constructor(T,O,F){this.licenseService=T,this.router=O,this.localizeRouter=F}canActivate(T,O){return this.licenseService.getLicenseInfo().pipe((0,n.$)(),(0,e.T)(F=>{if(F.isStarterLicense())return!0;{const b=this.localizeRouter.translateRoute("/home");this.router.navigate([b])}}))}static{this.\u0275fac=function(O){return new(O||u)(y.KVO(p.X),y.KVO(w.Ix),y.KVO(C.QG))}}static{this.\u0275prov=y.jDH({token:u,factory:u.\u0275fac})}}return u})()},4446:(nt,fe,h)=>{"use strict";h.d(fe,{_:()=>m});var n=h(1594),e=h(6354),y=h(4438),p=h(3853),w=h(1583),C=h(7005);let m=(()=>{class u{constructor(T,O,F){this.licenseService=T,this.router=O,this.localizeRouter=F}canActivate(T,O){return this.licenseService.getLicenseInfo().pipe((0,n.$)(),(0,e.T)(F=>{if(!F.isExpectingStarterConsent())return!0;{const b=this.localizeRouter.translateRoute("/starter-mode/consent");this.router.navigate([b])}}))}static{this.\u0275fac=function(O){return new(O||u)(y.KVO(p.X),y.KVO(w.Ix),y.KVO(C.QG))}}static{this.\u0275prov=y.jDH({token:u,factory:u.\u0275fac})}}return u})()},6923:(nt,fe,h)=>{"use strict";h.d(fe,{q:()=>u});var n=h(1594),e=h(6354),y=h(6976),p=h(4438),w=h(3853),C=h(1583),m=h(7005);let u=(()=>{class f{constructor(O,F,b){this.licenseService=O,this.router=F,this.localizeRouter=b,this.featureMap=new Map([["dynamic-auth",y.p.DynamicAuthentication],["auditing",y.p.Auditing],["clientaudits",y.p.Auditing],["useraudits",y.p.Auditing]])}canActivate(O,F){return this.licenseService.getLicenseInfo().pipe((0,n.$)(),(0,e.T)(b=>{if(!b.isStarterLicense())return!0;{const M=this.localizeRouter.translateRoute("/starter-mode/teaser");let k=y.p.None,N=F.url;for(let G of this.featureMap.entries())if(N.includes(G[0])){k=G[1];break}this.router.navigate([M],{queryParams:{feature:k}})}}))}static{this.\u0275fac=function(F){return new(F||f)(p.KVO(w.X),p.KVO(C.Ix),p.KVO(m.QG))}}static{this.\u0275prov=p.jDH({token:f,factory:f.\u0275fac})}}return f})()},8853:(nt,fe,h)=>{"use strict";h.d(fe,{a:()=>m});var n=h(1594),e=h(6354),y=h(4438),p=h(3853),w=h(1583),C=h(7005);let m=(()=>{class u{constructor(T,O,F){this.licenseService=T,this.router=O,this.localizeRouter=F}canActivate(T,O){return this.licenseService.getLicenseInfo().pipe((0,n.$)(),(0,e.T)(F=>{if(!F.overClientLimit)return!0;{let M=O.url.split("/clients/")[1];const k=[this.localizeRouter.translateRoute("/clients/view/"+M)];this.router.navigate(k)}}))}static{this.\u0275fac=function(O){return new(O||u)(y.KVO(p.X),y.KVO(w.Ix),y.KVO(C.QG))}}static{this.\u0275prov=y.jDH({token:u,factory:u.\u0275fac})}}return u})()},2633:(nt,fe,h)=>{"use strict";h.d(fe,{g:()=>m});var n=h(1594),e=h(6354),y=h(4438),p=h(3853),w=h(1583),C=h(7005);let m=(()=>{class u{constructor(T,O,F){this.licenseService=T,this.router=O,this.localizeRouter=F}canActivate(T,O){return this.licenseService.getLicenseInfo().pipe((0,n.$)(),(0,e.T)(F=>{if(!F.overUserLimit)return!0;{let M=O.url.split("/users/")[1];const k=[this.localizeRouter.translateRoute("/users/view/"+M)];this.router.navigate(k)}}))}static{this.\u0275fac=function(O){return new(O||u)(y.KVO(p.X),y.KVO(w.Ix),y.KVO(C.QG))}}static{this.\u0275prov=y.jDH({token:u,factory:u.\u0275fac})}}return u})()},9624:(nt,fe,h)=>{"use strict";h.r(fe),h.d(fe,{StarterModeModule:()=>be});var n=h(1583),e=h(7005),y=h(6976),p=h(4438),w=h(1780),C=h(3680),m=h(6406);let u=(()=>{class le{constructor(Te,st,Oe){this.route=Te,this.translate=st,this.router=Oe,this.featureMap=new Map([[y.p.DynamicAuthentication,this.translate.instant("DynamicAuth.Title.Generic")],[y.p.Auditing,this.translate.instant("Auditing.Title")],[y.p.ImportExportClients,this.translate.instant("Clients.Import.ImportExportClients")],[y.p.ExtraClientFlows,this.translate.instant("StarterMode.Clients.ExtraClientFlows")]])}ngOnInit(){this.generateDescription(),this.router.events.subscribe(Te=>{this.generateDescription()})}generateDescription(){const Te=+this.route.snapshot.queryParamMap.get("feature");if(Te in y.p&&Te!=y.p.None){const Oe=this.translate.instant("StarterMode.Teaser.RedirectedDescription").split("{0}");this.featureDescription=this.featureMap.get(Te),this.preFeatureDescription=Oe[0],this.postFeatureDescription=Oe[1]}else this.preFeatureDescription=this.translate.instant("StarterMode.Teaser.Description")}static{this.\u0275fac=function(st){return new(st||le)(p.rXU(n.nX),p.rXU(w.c$),p.rXU(n.Ix))}}static{this.\u0275cmp=p.VBU({type:le,selectors:[["ng-component"]],decls:40,vars:33,consts:[[3,"title"],["id","StarterModeAgreement",1,"tw-container","mx-auto"],[1,"cms"],["id","description"],[1,"tw-list-disc","tw-list-inside","tw-indent-8"],["id","UpgradeAdminUI","href","https://www.identityserver.com/products/adminui/order-now?index=2&name=Enterprise","target","_blank",1,"tw-btn-success","tw-mr-3","tw-mb-3"],["id","ExtendDemo","href","mailto:support@identityserver.com?subject=Extend my AdminUI demo license",1,"tw-btn","tw-mr-3","tw-mb-3"]],template:function(st,Oe){1&st&&(p.nrm(0,"app-title-bar",0),p.nI1(1,"translate"),p.j41(2,"div",1)(3,"div",2)(4,"p",3),p.EFF(5),p.j41(6,"strong"),p.EFF(7),p.k0s(),p.EFF(8),p.k0s(),p.j41(9,"ul",4)(10,"li"),p.EFF(11),p.nI1(12,"translate"),p.k0s(),p.j41(13,"li"),p.EFF(14),p.nI1(15,"translate"),p.k0s(),p.j41(16,"li"),p.EFF(17),p.nI1(18,"translate"),p.k0s(),p.j41(19,"li"),p.EFF(20),p.nI1(21,"translate"),p.k0s(),p.j41(22,"li"),p.EFF(23),p.nI1(24,"translate"),p.k0s(),p.j41(25,"li"),p.EFF(26),p.nI1(27,"translate"),p.k0s(),p.j41(28,"li"),p.EFF(29),p.nI1(30,"translate"),p.k0s()()()(),p.j41(31,"app-button-bar")(32,"a",5)(33,"span"),p.EFF(34),p.nI1(35,"translate"),p.k0s()(),p.j41(36,"a",6)(37,"span"),p.EFF(38),p.nI1(39,"translate"),p.k0s()()()),2&st&&(p.Y8G("title",p.bMT(1,13,"StarterMode.Teaser.Title")),p.R7$(5),p.SpI("",Oe.preFeatureDescription," "),p.R7$(2),p.JRh(Oe.featureDescription),p.R7$(),p.SpI(" ",Oe.postFeatureDescription,""),p.R7$(3),p.JRh(p.bMT(12,15,"StarterMode.Teaser.Features.Authentication")),p.R7$(3),p.JRh(p.bMT(15,17,"StarterMode.Teaser.Features.UsersAndClients")),p.R7$(3),p.JRh(p.bMT(18,19,"StarterMode.Teaser.Features.ExtraClientFlows")),p.R7$(3),p.JRh(p.bMT(21,21,"StarterMode.Teaser.Features.Audits")),p.R7$(3),p.JRh(p.bMT(24,23,"StarterMode.Teaser.Features.Access")),p.R7$(3),p.JRh(p.bMT(27,25,"StarterMode.Teaser.Features.Import")),p.R7$(3),p.JRh(p.bMT(30,27,"StarterMode.Teaser.Features.DynamicAuth")),p.R7$(5),p.JRh(p.bMT(35,29,"StarterMode.UpgradeAdminUI")),p.R7$(4),p.JRh(p.bMT(39,31,"StarterMode.ExtendDemo")))},dependencies:[C.z,m.z,w.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return le})();var f=h(1594),T=h(3178),O=h(7773),F=h(1626),b=h(9564);let M=(()=>{class le{constructor(Te,st){this.http=Te,this.headersService=st,this.headers=new F.Lr,this.actionUrl="StarterMode",this.headers=st.setHeaders()}storeConsent(){return this.http.put(this.actionUrl,null,{headers:this.headers}).pipe()}static{this.\u0275fac=function(st){return new(st||le)(p.KVO(F.Qq),p.KVO(b.m))}}static{this.\u0275prov=p.jDH({token:le,factory:le.\u0275fac})}}return le})();var k=h(5794),N=h(1339),G=h(9196),R=h(177),j=h(8114);function U(le,Fe){1&le&&(p.j41(0,"div",15)(1,"p",16)(2,"span"),p.EFF(3),p.nI1(4,"translate"),p.k0s()()()),2&le&&(p.R7$(3),p.JRh(p.bMT(4,1,"StarterMode.Consent.NonAdminUser")))}let $=(()=>{class le{constructor(Te,st,Oe,pt,Ye,qt){this.translate=Te,this.permissionService=st,this.starterModeConsentService=Oe,this.toastr=pt,this.authService=Ye,this.configService=qt}ngOnInit(){this.permissionService.getUserPermissions().pipe((0,f.$)()).subscribe({next:Te=>this.isAdmin=Te.permissions.includes(T.a.All)}),this.configService.getConfig().pipe((0,f.$)()).subscribe({next:Te=>this.starterModePersistance=Te.starterModePersistence})}giveConsentToStarterMode(){this.isAdmin&&this.starterModeConsentService.storeConsent().pipe((0,f.$)()).subscribe({next:()=>{this.authService.logoff()},error:Te=>{this.toastr.error(this.translate.instant("Notifications.StarterModeFailed"),this.translate.instant("Notifications.SomethingWrong"))}})}openStartModeNoPersistranceDocs(){window.open("https://docs.openiddictcomponents.com/adminui/Configuration_and_Integration/Miogrationless_Config#StarterMode","_blank")}static{this.\u0275fac=function(st){return new(st||le)(p.rXU(w.c$),p.rXU(O.n),p.rXU(M),p.rXU(k.tw),p.rXU(N.u),p.rXU(G.w))}}static{this.\u0275cmp=p.VBU({type:le,selectors:[["ng-component"]],decls:57,vars:56,consts:[["confirmStarterModeModal",""],["confirmStarterModeDocsModal",""],[3,"title"],["id","StarterModeAgreement",1,"tw-container","mx-auto"],["id","nonAdminUserWarning",4,"ngIf"],[1,"cms"],[1,"tw-list-disc","tw-list-inside","tw-indent-8"],["id","UpgradeAdminUI","href","https://www.identityserver.com/products/adminui/order-now?index=2&name=Enterprise","target","_blank",1,"tw-btn-success","tw-mr-3","tw-mb-3"],["id","confirmStarterModeBtn","data-toggle","modal",1,"tw-btn","tw-mr-3","tw-mb-3",3,"click","disabled"],["id","ExtendDemo","href","mailto:support@identityserver.com?subject=Extend my AdminUI demo license",1,"tw-btn-link","tw-mr-3","tw-mb-3"],[3,"confirm","modalId","type","buttonType","title","okText"],["body",""],[1,"tw-mb-4"],[1,"tw-pill-danger",3,"innerHTML"],[3,"confirm","modalId","buttonType","title","okText"],["id","nonAdminUserWarning"],["role","alert",1,"tw-alert-warning","tw-mb-4"]],template:function(st,Oe){if(1&st){const pt=p.RV6();p.nrm(0,"app-title-bar",2),p.nI1(1,"translate"),p.j41(2,"div",3),p.DNE(3,U,5,3,"div",4),p.j41(4,"div",5)(5,"p"),p.EFF(6),p.nI1(7,"translate"),p.k0s(),p.j41(8,"ul",6)(9,"li"),p.EFF(10),p.nI1(11,"translate"),p.k0s(),p.j41(12,"li"),p.EFF(13),p.nI1(14,"translate"),p.k0s(),p.j41(15,"li"),p.EFF(16),p.nI1(17,"translate"),p.k0s(),p.j41(18,"li"),p.EFF(19),p.nI1(20,"translate"),p.k0s(),p.j41(21,"li"),p.EFF(22),p.nI1(23,"translate"),p.k0s(),p.j41(24,"li"),p.EFF(25),p.nI1(26,"translate"),p.k0s(),p.j41(27,"li"),p.EFF(28),p.nI1(29,"translate"),p.k0s()()()(),p.j41(30,"app-button-bar")(31,"a",7)(32,"span"),p.EFF(33),p.nI1(34,"translate"),p.k0s()(),p.j41(35,"button",8),p.bIt("click",function(){p.eBV(pt);const qt=p.sdS(44),jt=p.sdS(52);return p.Njj(Oe.starterModePersistance?qt.show():jt.show())}),p.j41(36,"span"),p.EFF(37),p.nI1(38,"translate"),p.k0s()(),p.j41(39,"a",9)(40,"span"),p.EFF(41),p.nI1(42,"translate"),p.k0s()()(),p.j41(43,"app-confirmation-modal",10,0),p.bIt("confirm",function(){return p.eBV(pt),p.Njj(Oe.giveConsentToStarterMode())}),p.qex(45,11),p.j41(46,"p",12),p.EFF(47),p.nI1(48,"translate"),p.k0s(),p.nrm(49,"p",13),p.nI1(50,"translate"),p.bVm(),p.k0s(),p.j41(51,"app-confirmation-modal",14,1),p.bIt("confirm",function(){return p.eBV(pt),p.Njj(Oe.openStartModeNoPersistranceDocs())}),p.qex(53,11),p.j41(54,"p",12),p.EFF(55),p.nI1(56,"translate"),p.k0s(),p.bVm(),p.k0s()}2&st&&(p.Y8G("title",p.bMT(1,26,"StarterMode.Consent.Title")),p.R7$(3),p.Y8G("ngIf",!Oe.isAdmin),p.R7$(3),p.JRh(p.bMT(7,28,"StarterMode.Consent.Description")),p.R7$(4),p.JRh(p.bMT(11,30,"StarterMode.Consent.Features.Authentication")),p.R7$(3),p.JRh(p.bMT(14,32,"StarterMode.Consent.Features.Users")),p.R7$(3),p.JRh(p.bMT(17,34,"StarterMode.Consent.Features.Clients")),p.R7$(3),p.JRh(p.bMT(20,36,"StarterMode.Consent.Features.ClientFlows")),p.R7$(3),p.JRh(p.bMT(23,38,"StarterMode.Consent.Features.Import")),p.R7$(3),p.JRh(p.bMT(26,40,"StarterMode.Consent.Features.Audits")),p.R7$(3),p.JRh(p.bMT(29,42,"StarterMode.Consent.Features.DynamicAuth")),p.R7$(5),p.JRh(p.bMT(34,44,"StarterMode.UpgradeAdminUI")),p.R7$(2),p.Y8G("disabled",!Oe.isAdmin),p.R7$(2),p.JRh(p.bMT(38,46,"StarterMode.ConfirmStarterMode")),p.R7$(4),p.JRh(p.bMT(42,48,"StarterMode.ExtendDemo")),p.R7$(2),p.Y8G("modalId","confirmStarterModeModal")("type","danger")("buttonType","danger")("title","StarterMode.ConfirmationModal.Title")("okText","Common.Confirm"),p.R7$(4),p.JRh(p.bMT(48,50,"StarterMode.ConfirmationModal.Description")),p.R7$(2),p.Y8G("innerHTML",p.bMT(50,52,"StarterMode.ConfirmationModal.Warning"),p.npT),p.R7$(2),p.Y8G("modalId","confirmStarterModeDocsModal")("buttonType",null)("title","StarterMode.ConfirmationModal.Title")("okText","Common.Documentation"),p.R7$(4),p.JRh(p.bMT(56,54,"StarterMode.ConfirmationModal.DescriptionDocs")))},dependencies:[R.bT,C.z,m.z,j.B,w.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return le})();var ie=h(5517),se=h(2892),L=h(6354),J=h(3853);let q=(()=>{class le{constructor(Te,st,Oe){this.licenseService=Te,this.router=st,this.localizeRouter=Oe}canActivate(Te,st){return this.licenseService.getLicenseInfo().pipe((0,f.$)(),(0,L.T)(Oe=>{if(Oe.isExpectingStarterConsent())return!0;{const pt=this.localizeRouter.translateRoute("/home");this.router.navigate([pt])}}))}static{this.\u0275fac=function(st){return new(st||le)(p.KVO(J.X),p.KVO(n.Ix),p.KVO(e.QG))}}static{this.\u0275prov=p.jDH({token:le,factory:le.\u0275fac})}}return le})();var S=h(4446);const re=[{path:"starter-mode/teaser",component:u,canActivate:[se.h,S._,ie.H]},{path:"starter-mode/consent",component:$,canActivate:[se.h,q]}];let K=(()=>{class le{static{this.\u0275fac=function(st){return new(st||le)}}static{this.\u0275mod=p.$C({type:le})}static{this.\u0275inj=p.G2t({providers:[ie.H],imports:[n.iI.forChild(re),e.XE.forChild(re),n.iI]})}}return le})();var me=h(367),Ne=h(779),De=h(1993),xe=h(8853),Qe=h(2633),Se=h(4367);let be=(()=>{class le{static{this.\u0275fac=function(st){return new(st||le)}}static{this.\u0275mod=p.$C({type:le})}static{this.\u0275inj=p.G2t({providers:[M,q,ie.H,xe.a,Qe.g],imports:[n.iI,K,w.h,me.m,Ne.Q_,De.E,Se.N]})}}return le})()},7921:(nt,fe,h)=>{"use strict";h.d(fe,{b:()=>e});var n=h(1746);class e{constructor(p){Object.keys(p).forEach(C=>{this[C]=e.toReadOnlyValue(p[C])})}}(e||(e={})).toReadOnlyValue=function p(w){let C=w;return"boolean"==typeof w&&(C=C?"Yes":"No"),w instanceof Date&&(C=C?"Yes":"No"),w instanceof Array&&(C=w.join(", ").trimEnd()),new n.w(C)}},4866:(nt,fe,h)=>{"use strict";h.d(fe,{A:()=>e});var e,n=h(3806);!function(y){const p=new Map([[n.u.Minute,60],[n.u.Minutes,60],[n.u.Hour,3600],[n.u.Hours,3600],[n.u.Day,86400],[n.u.Days,86400],[n.u.Week,604800],[n.u.Weeks,604800],[n.u.Month,2629743],[n.u.Months,2629743],[n.u.Year,31556926],[n.u.Years,31556926],[n.u.Unlimited,null]]);y.getUnitMap=function w(){return p}}(e||(e={}))},6303:(nt,fe,h)=>{"use strict";h.d(fe,{t:()=>n});var n=function(e){return e[e.Single=0]="Single",e[e.Multi=1]="Multi",e[e.CommaSeparated=2]="CommaSeparated",e[e.LifetimePicker=3]="LifetimePicker",e}(n||{})},1746:(nt,fe,h)=>{"use strict";h.d(fe,{w:()=>n});class n{constructor(y,p){this.MainText=y,this.HelpText=p??null}}},1927:(nt,fe,h)=>{"use strict";h.d(fe,{K:()=>n});var n=function(e){return e.Jwt="Jwt",e.Reference="Reference",e}(n||{})},6701:(nt,fe,h)=>{"use strict";h.d(fe,{s:()=>n});var n=function(e){return e.Unknown="Unknown",e.ServerSide="ServerSide",e.Machine="Machine",e.CIBAMachine="CIBAMachine",e.Native="Native",e.Device="Device",e.Saml="Saml",e.WsFed="WsFed",e.BrowserBased="BrowserBased",e.LegacyClientSide="LegacyClientSide",e.ServerSidePKCE="ServerSidePKCE",e.NativePKCE="NativePKCE",e}(n||{})},3806:(nt,fe,h)=>{"use strict";h.d(fe,{u:()=>n});var n=function(e){return e.Minute="Minute",e.Minutes="Minutes",e.Hour="Hour",e.Hours="Hours",e.Day="Day",e.Days="Days",e.Week="Week",e.Weeks="Weeks",e.Month="Month",e.Months="Months",e.Year="Year",e.Years="Years",e.Unlimited="Unlimited",e.Global="Global",e}(n||{})},6976:(nt,fe,h)=>{"use strict";h.d(fe,{p:()=>n});var n=function(e){return e[e.None=0]="None",e[e.DynamicAuthentication=1]="DynamicAuthentication",e[e.Auditing=2]="Auditing",e[e.ImportExportClients=3]="ImportExportClients",e[e.ExtraClientFlows=4]="ExtraClientFlows",e}(n||{})},6772:(nt,fe,h)=>{"use strict";h.d(fe,{H:()=>n});var n=function(e){return e.Sliding="Sliding",e.Absolute="Absolute",e}(n||{})},78:(nt,fe,h)=>{"use strict";h.d(fe,{B:()=>n});var n=function(e){return e.ReUse="ReUse",e.OneTimeOnly="OneTimeOnly",e}(n||{})},9988:(nt,fe,h)=>{"use strict";h.d(fe,{$:()=>n});var n=function(e){return e.Home="Home",e.SinglePageApplication="SinglePageApplication",e.WebApplication="WebApplication",e.NativeApplication="NativeApplication",e.RobotApplication="RobotApplication",e.CIBARobotApplication="CIBARobotApplication",e.DeviceApplication="DeviceApplication",e.SamlApplication="SamlApplication",e.WsFedApplication="WsFedApplication",e.LegacySinglePageApplication="LegacySinglePageApplication",e.PKCEWebApplication="PKCEWebApplication",e.PKCENativeApplication="PKCENativeApplication",e.ImportWizard="ImportWizard",e.AddDynamicAuth="AddDynamicAuth",e.AddOidcDynamicAuth="AddOidcDynamicAuth",e.AddSamlDynamicAuth="AddSamlDynamicAuth",e}(n||{})},9957:(nt,fe,h)=>{"use strict";h.d(fe,{I:()=>n});var n=function(e){return e[e.NotHandled=0]="NotHandled",e[e.Toast=1]="Toast",e[e.Navigate=2]="Navigate",e}(n||{})},1410:(nt,fe,h)=>{"use strict";h.d(fe,{y:()=>n});var n=function(e){return e.Duende="Duende",e.OpenIddict="OpenIddict",e}(n||{})},4589:(nt,fe,h)=>{"use strict";h.d(fe,{G:()=>n});var n=function(e){return e[e.None=0]="None",e.Production="Production",e.NonProduction="Non-Production",e.Demo="Demo",e.Starter="Starter",e}(n||{})},8284:(nt,fe,h)=>{"use strict";h.d(fe,{v:()=>n});var n=function(e){return e[e.user=0]="user",e[e.role=1]="role",e[e.claimType=2]="claimType",e[e.client=3]="client",e[e.identityResource=4]="identityResource",e[e.protectedResource=5]="protectedResource",e[e.serviceProvider=6]="serviceProvider",e[e.relyingParty=7]="relyingParty",e[e.dynamicAuth=8]="dynamicAuth",e}(n||{})},4491:(nt,fe,h)=>{"use strict";h.d(fe,{$:()=>n});let n=(()=>{class e{static{this.Implicit="implicit"}static{this.Hybrid="hybrid"}static{this.AuthorizationCode="authorization_code"}static{this.ClientCredentials="client_credentials"}static{this.ResourceOwnerPassword="password"}static{this.Device="urn:ietf:params:oauth:grant-type:device_code"}static{this.CIBA="urn:openid:params:grant-type:ciba"}}return e})()},1258:(nt,fe,h)=>{"use strict";h.d(fe,{N:()=>n});var n=function(e){return e.Save="Save",e.SaveAndReAdd="SaveAndReAdd",e.Delete="Delete",e}(n||{})},7185:(nt,fe,h)=>{"use strict";h.d(fe,{q:()=>n});var n=function(e){return e.Default="Default",e.Warning="Warning",e}(n||{})},3178:(nt,fe,h)=>{"use strict";h.d(fe,{a:()=>n});var n=function(e){return e.None="None",e.UserManager="UserManager",e.UserManagerReadOnly="UserManagerReadOnly",e.IdentityServerManager="IdentityServerManager",e.IdentityServerManagerReadOnly="IdentityServerManagerReadOnly",e.Auditer="Auditer",e.AllReadOnly="AllReadOnly",e.All="All",e}(n||{})},785:(nt,fe,h)=>{"use strict";h.d(fe,{z:()=>e});var n=h(9838);class e{constructor(){this.description="",this.value="",this.expiration=null,this.created=null,this.type=(new n.S9).SharedSecret}}},1088:(nt,fe,h)=>{"use strict";h.d(fe,{Q:()=>y});var n=h(3806),e=h(4866);class y{constructor(w){this.unitMap=e.A.getUnitMap(),this.formatSeconds(w)}formatSeconds(w){return this.years=Math.floor(w/this.unitMap.get(n.u.Years)),w-=this.years*this.unitMap.get(n.u.Years),this.months=Math.floor(w/this.unitMap.get(n.u.Month)),w-=this.months*this.unitMap.get(n.u.Month),this.weeks=Math.floor(w/this.unitMap.get(n.u.Weeks)),w-=this.weeks*this.unitMap.get(n.u.Weeks),this.days=Math.floor(w/this.unitMap.get(n.u.Days)),w-=this.days*this.unitMap.get(n.u.Days),this.hours=Math.floor(w/this.unitMap.get(n.u.Hours)),w-=this.hours*this.unitMap.get(n.u.Hours),this.minutes=Math.floor(w/this.unitMap.get(n.u.Minute)),w-=this.minutes*this.unitMap.get(n.u.Minute),this.seconds=w,this}}},978:(nt,fe,h)=>{"use strict";h.d(fe,{D:()=>e,U:()=>n});var n=function(y){return y[y.Disabled=0]="Disabled",y[y.Duende=1]="Duende",y[y.Rsk=2]="Rsk",y}(n||{});class e{constructor(){this.defaultUserValidation=!0,this.addUserPassword=!1,this.enforcerAuthorizationEnabled=!1,this.enableSharedScopes=!1,this.sessionManagementEnabled=!1,this.dynamicAuthenticationFlag=void 0}}},7756:(nt,fe,h)=>{"use strict";h.d(fe,{EK:()=>y,m8:()=>e});class e{constructor(w,C,m,u){this.webhooks={MfaReset:w,PasswordReset:C,UserRegistration:m,ServerSideSessionDelete:u}}}var y=function(p){return p.MFAReset="MfaReset",p.PasswordReset="PasswordReset",p.UserRegistration="UserRegistration",p.ServerSideSessionDelete="ServerSideSessionDelete",p}(y||{})},7212:(nt,fe,h)=>{"use strict";h.d(fe,{D:()=>n});class n{constructor(){this.SigningCertificates=[]}}},1744:(nt,fe,h)=>{"use strict";h.d(fe,{$R:()=>n,XF:()=>C,jD:()=>y,ot:()=>e});class n{}var e=function(m){return m.Client="Client",m.ClaimType="ClaimType",m.IdentityResource="IdentityResource",m.ProtectedResource="ProtectedResource",m}(e||{}),y=function(m){return m.New="New",m.Duplicate="Duplicate",m.Conflicted="Conflicted",m}(y||{}),C=function(m){return m.Importing="Importing",m.Existing="Existing",m}(C||{})},590:(nt,fe,h)=>{"use strict";h.d(fe,{n:()=>e});var n=h(1744);let e=(()=>{class y{static{this.client="Client"}static{this.resource="Resource"}static{this.protectedResource="ProtectedResource"}static{this.claimType="ClaimType"}static getSummaryDisplayType(w){switch(w){case n.ot.Client:return this.client;case n.ot.IdentityResource:case n.ot.ProtectedResource:return this.resource;case n.ot.ClaimType:return this.claimType}}}return y})()},7957:(nt,fe,h)=>{"use strict";h.d(fe,{p:()=>n});class n{constructor(){this.nameComponentMap=new Map,this.nameTitleMap=new Map}getWizard(y){return this.nameComponentMap.get(y)}getWizardTitle(y){return this.nameTitleMap.get(y)}}},8575:(nt,fe,h)=>{"use strict";h.d(fe,{J:()=>n});class n{constructor(y,p){this.setupTitle=y,this.summaryTitle=p}}},7329:(nt,fe,h)=>{"use strict";h.d(fe,{W:()=>n});class n{constructor(y,p){this.component=y,this.data=p,p||(p={})}}},923:(nt,fe,h)=>{"use strict";h.d(fe,{N:()=>n});var n=function(e){return e.standardDate="standardDate",e.standardDateTime="standardDateTime",e.prettyDateTime="prettyDateTime",e}(n||{})},1589:(nt,fe,h)=>{"use strict";h.d(fe,{El:()=>w,r7:()=>p,sp:()=>y});var n=h(7263),e=h(4438);let y=(()=>{class C{transform(u){return(0,n.KU)(u,"ccc LLL dd yyyy, T")}static{this.\u0275fac=function(f){return new(f||C)}}static{this.\u0275pipe=e.EJ8({name:"prettyDateTime",type:C,pure:!0})}}return C})(),p=(()=>{class C{transform(u){return(0,n.KU)(u,"LLL dd yyyy T")}static{this.\u0275fac=function(f){return new(f||C)}}static{this.\u0275pipe=e.EJ8({name:"standardDateTime",type:C,pure:!0})}}return C})(),w=(()=>{class C{transform(u){return(0,n.KU)(u,"LLL dd yyyy")}static{this.\u0275fac=function(f){return new(f||C)}}static{this.\u0275pipe=e.EJ8({name:"standardDate",type:C,pure:!0})}}return C})()},1683:(nt,fe,h)=>{"use strict";h.d(fe,{Y:()=>p});var n=h(177),e=h(1780),y=h(4438);let p=(()=>{class w{static{this.\u0275fac=function(u){return new(u||w)}}static{this.\u0275mod=y.$C({type:w})}static{this.\u0275inj=y.G2t({imports:[n.MD,e.h]})}}return w})()},4692:(nt,fe,h)=>{"use strict";h.d(fe,{u:()=>y});var n=h(1746),e=h(4438);let y=(()=>{class p{transform(C,m){return new n.w(C)}static{this.\u0275fac=function(m){return new(m||p)}}static{this.\u0275pipe=e.EJ8({name:"readOnlyValue",type:p,pure:!0})}}return p})()},2467:(nt,fe,h)=>{"use strict";h.d(fe,{C:()=>e});var n=h(4438);let e=(()=>{class y{constructor(){this.map=new Map,this.map.set("description","Common.Description"),this.map.set("clientId","Clients.ID"),this.map.set("entityId","Clients.EntityId"),this.map.set("realm","Clients.Realm"),this.map.set("clientName","Common.DisplayName"),this.map.set("description","Common.Description"),this.map.set("clientUri","Common.DisplayURL"),this.map.set("logoUri","Common.LogoURL"),this.map.set("requireConsent","Clients.RequireConsent.Summary"),this.map.set("callbackUrl","Common.CallbackURL"),this.map.set("logoutUrl","Common.LogoutURL"),this.map.set("corsurl","Common.CORSUrl"),this.map.set("redirectUris","Common.RedirectUris"),this.map.set("secrets","Common.Secrets"),this.map.set("identityResources","Nav.IdentityResources"),this.map.set("protectedResources","Nav.ProtectedResources"),this.map.set("ACSEndpoint","Clients.AcsEndpoints"),this.map.set("SLOEndpoint","Clients.SloEndpoints"),this.map.set("ARSEndpoint","Clients.ArsEndpoints"),this.map.set("cibaLifetime","Common.CIBALifetime"),this.map.set("pollingInterval","Common.PollingInterval"),this.map.set("scheme","DynamicAuth.Scheme.Label"),this.map.set("displayName","DynamicAuth.DisplayName.Label"),this.map.set("authority","DynamicAuth.Authority.Label"),this.map.set("idpClientId","DynamicAuth.ClientId.Label"),this.map.set("callbackPath","DynamicAuth.CallbackPath.Label"),this.map.set("flow","DynamicAuth.Flow.Label"),this.map.set("scopes","DynamicAuth.Scopes.Label"),this.map.set("clientSecret","DynamicAuth.ClientSecret.Label"),this.map.set("signInScheme","DynamicAuth.SignInScheme.Label"),this.map.set("signOutScheme","DynamicAuth.SignOutScheme.Label"),this.map.set("callbackPathAcs","DynamicAuth.CallbackPathAcsEndpoint.Label"),this.map.set("certFile","DynamicAuth.CertFile.Label"),this.map.set("certPassword","DynamicAuth.CertPassword.Label"),this.map.set("metadataAddress","DynamicAuth.SAML.IdpMetadataAddress.Label")}transform(w,C){return this.map.get(w)??w}static{this.\u0275fac=function(C){return new(C||y)}}static{this.\u0275pipe=n.EJ8({name:"keyToString",type:y,pure:!0})}}return y})()},6807:(nt,fe,h)=>{"use strict";h.d(fe,{B:()=>y});var n=h(4438),e=h(7883);let y=(()=>{class p{constructor(C){this.securityService=C}notAllowedToEditClaim(C){return!this.securityService.allView&&this.isPolicyClaim(C)}isPolicyClaim(C){if(void 0!==C){const m=this.securityService.policyClaims;for(let u=0;u<m.length;u++)if(m[u].type===C.type&&m[u].value===C.value)return!0;return!1}}static{this.\u0275fac=function(m){return new(m||p)(n.KVO(e.i))}}static{this.\u0275prov=n.jDH({token:p,factory:p.\u0275fac})}}return p})()},2972:(nt,fe,h)=>{"use strict";h.d(fe,{X:()=>p});var n=h(4412);class e{constructor(){this.showNav=!1,this.showBanner=!1,this.showFooter=!1}}var y=h(4438);let p=(()=>{class w{constructor(){this.viewConfig=new e,this.viewConfig$=new n.t(this.viewConfig)}startInitialAdminCreation(){this.viewConfig.showNav=!1,this.viewConfig.showFooter=!1,this.viewConfig.showBanner=!1,this.viewConfig$.next(this.viewConfig)}finishInitialAdminCreation(){this.showAll()}failAuth(){this.showAll()}successAuth(){this.showAll()}failedEnforcerCompilation(){this.viewConfig.showFooter=!0,this.viewConfig.showNav=!1,this.viewConfig.showBanner=!0,this.viewConfig$.next(this.viewConfig)}showAll(){this.viewConfig.showFooter=!0,this.viewConfig.showNav=!0,this.viewConfig.showBanner=!0,this.viewConfig$.next(this.viewConfig)}static{this.\u0275fac=function(u){return new(u||w)}}static{this.\u0275prov=y.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}}return w})()},1339:(nt,fe,h)=>{"use strict";h.d(fe,{u:()=>w});var n=h(7263),e=h(4438),y=h(1626),p=h(2972);let w=(()=>{class C{constructor(u,f){this.http=u,this.appComponentViewService=f,this.isAuthenticated=!1,this.isCreatingInitialAdministrator=!1;const T=(0,n.$_)();this.actionUrl="auth",this.authUrl=`${T}auth`}login(){window.location.href=`${this.authUrl}/conditionallogin`}logoff(){this.isAuthenticated=!1,this.appComponentViewService.failAuth(),window.location.href=`${this.authUrl}/logout`}isAuthenticatedCheck(){return this.http.get(`${this.actionUrl}/isauthenticated`)}static{this.\u0275fac=function(f){return new(f||C)(e.KVO(y.Qq),e.KVO(p.X))}}static{this.\u0275prov=e.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})}}return C})()},6888:(nt,fe,h)=>{"use strict";h.d(fe,{W:()=>e});var n=h(4438);let e=(()=>{class y{constructor(){this.storage=sessionStorage,this.countKey="retryCount",this.maxRetryAttempts=1}startLogin(){this.retryCount=0}endLogin(){this.storage.removeItem(this.countKey)}get canRetryLogin(){return this.retryCount+1<=this.maxRetryAttempts}retryLogin(){this.canRetryLogin&&(this.retryCount+=1)}get retryCount(){const w=this.storage.getItem(this.countKey);let C=w?Number(w):0;return C=isNaN(C)?0:C,C}set retryCount(w){(w=isNaN(w)?0:w)<=this.maxRetryAttempts&&this.storage.setItem(this.countKey,w.toString())}static{this.\u0275fac=function(C){return new(C||y)}}static{this.\u0275prov=n.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})()},2261:(nt,fe,h)=>{"use strict";h.d(fe,{V:()=>Hl});var n=h(467);class e{}var y=h(5955);function w(Le,c,_){var A;return Le instanceof Object&&null!==(A=Le[c])&&void 0!==A?A:_}function C(Le,c=0,_=Le.byteLength-c,A=!1){let W="";for(const ae of new Uint8Array(Le,c,_)){const ve=ae.toString(16).toUpperCase();1===ve.length&&(W+="0"),W+=ve,A&&(W+=" ")}return W.trim()}function m(Le,c,_,A){return c instanceof ArrayBuffer?c.byteLength?_<0?(Le.error="Wrong parameter: inputOffset less than zero",!1):A<0?(Le.error="Wrong parameter: inputLength less than zero",!1):!(c.byteLength-_-A<0&&(Le.error="End of input reached before message was fully decoded (inconsistent offset and length values)",1)):(Le.error="Wrong parameter: inputBuffer has zero length",!1):(Le.error='Wrong parameter: inputBuffer must be "ArrayBuffer"',!1)}function u(Le,c){let _=0;if(1===Le.length)return Le[0];for(let A=Le.length-1;A>=0;A--)_+=Le[Le.length-1-A]*Math.pow(2,c*A);return _}function f(Le,c,_=-1){const A=_;let W=Le,ae=0,ve=Math.pow(2,c);for(let Ge=1;Ge<8;Ge++){if(Le<ve){let I;if(A<0)I=new ArrayBuffer(Ge),ae=Ge;else{if(A<Ge)return new ArrayBuffer(0);I=new ArrayBuffer(A),ae=A}const V=new Uint8Array(I);for(let B=Ge-1;B>=0;B--){const Q=Math.pow(2,B*c);V[ae-B-1]=Math.floor(W/Q),W-=V[ae-B-1]*Q}return I}ve*=Math.pow(2,c)}return new ArrayBuffer(0)}function T(...Le){let c=0,_=0;for(const ae of Le)c+=ae.byteLength;const A=new ArrayBuffer(c),W=new Uint8Array(A);for(const ae of Le)W.set(new Uint8Array(ae),_),_+=ae.byteLength;return A}function O(...Le){let c=0,_=0;for(const ae of Le)c+=ae.length;const A=new ArrayBuffer(c),W=new Uint8Array(A);for(const ae of Le)W.set(ae,_),_+=ae.length;return W}function F(){const Le=new Uint8Array(this.valueHex);this.valueHex.byteLength>=2&&(255===Le[0]&&128&Le[1]||0===Le[0]&&!(128&Le[1]))&&this.warnings.push("Needlessly long format");const c=new ArrayBuffer(this.valueHex.byteLength),_=new Uint8Array(c);for(let Ge=0;Ge<this.valueHex.byteLength;Ge++)_[Ge]=0;_[0]=128&Le[0];const A=u(_,8),W=new ArrayBuffer(this.valueHex.byteLength),ae=new Uint8Array(W);for(let Ge=0;Ge<this.valueHex.byteLength;Ge++)ae[Ge]=Le[Ge];return ae[0]&=127,u(ae,8)-A}function b(Le){const c=Le<0?-1*Le:Le;let _=128;for(let A=1;A<8;A++){if(c<=_){if(Le<0){const Ge=f(_-c,8,A);return new Uint8Array(Ge)[0]|=128,Ge}let W=f(c,8,A),ae=new Uint8Array(W);if(128&ae[0]){const ve=W.slice(0),Ge=new Uint8Array(ve);W=new ArrayBuffer(W.byteLength+1),ae=new Uint8Array(W);for(let I=0;I<ve.byteLength;I++)ae[I+1]=Ge[I];ae[0]=0}return W}_*=Math.pow(2,8)}return new ArrayBuffer(0)}function M(Le,c){if(Le.byteLength!==c.byteLength)return!1;const _=new Uint8Array(Le),A=new Uint8Array(c);for(let W=0;W<_.length;W++)if(_[W]!==A[W])return!1;return!0}function k(Le,c){const _=Le.toString(10);if(c<_.length)return"";const A=c-_.length,W=new Array(A);for(let ve=0;ve<A;ve++)W[ve]="0";return W.join("").concat(_)}const N="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",G="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=";function R(Le,c=!1,_=!1,A=!1){let W=0,ae=0,ve=0,Ge="";const I=c?G:N;if(A){let V=0;for(let B=0;B<Le.length;B++)if(0!==Le.charCodeAt(B)){V=B;break}Le=Le.slice(V)}for(;W<Le.length;){const V=Le.charCodeAt(W++);W>=Le.length&&(ae=1);const B=Le.charCodeAt(W++);W>=Le.length&&(ve=1);const Q=Le.charCodeAt(W++),ge=V>>2,$e=(3&V)<<4|B>>4;let _t=(15&B)<<2|Q>>6,ln=63&Q;1===ae?_t=ln=64:1===ve&&(ln=64),Ge+=_?64===_t?`${I.charAt(ge)}${I.charAt($e)}`:64===ln?`${I.charAt(ge)}${I.charAt($e)}${I.charAt(_t)}`:`${I.charAt(ge)}${I.charAt($e)}${I.charAt(_t)}${I.charAt(ln)}`:`${I.charAt(ge)}${I.charAt($e)}${I.charAt(_t)}${I.charAt(ln)}`}return Ge}function j(Le,c=!1,_=!1){const A=c?G:N;function W(I){for(let V=0;V<64;V++)if(A.charAt(V)===I)return V;return 64}function ae(I){return 64===I?0:I}let ve=0,Ge="";for(;ve<Le.length;){const I=W(Le.charAt(ve++)),V=ve>=Le.length?0:W(Le.charAt(ve++)),B=ve>=Le.length?0:W(Le.charAt(ve++)),Q=ve>=Le.length?0:W(Le.charAt(ve++)),ge=ae(I)<<2|ae(V)>>4,$e=(15&ae(V))<<4|ae(B)>>2,_t=(3&ae(B))<<6|ae(Q);Ge+=String.fromCharCode(ge),64!==B&&(Ge+=String.fromCharCode($e)),64!==Q&&(Ge+=String.fromCharCode(_t))}if(_){let V=-1;for(let B=Ge.length-1;B>=0;B--)if(0!==Ge.charCodeAt(B)){V=B;break}Ge=-1!==V?Ge.slice(0,V+1):""}return Ge}function U(Le){let c="";const _=new Uint8Array(Le);for(const A of _)c+=String.fromCharCode(A);return c}function $(Le){const c=Le.length,_=new ArrayBuffer(c),A=new Uint8Array(_);for(let W=0;W<c;W++)A[W]=Le.charCodeAt(W);return _}const ie=Math.log(2);function se(Le){const c=Math.log(Le)/ie,_=Math.floor(c),A=Math.round(c);return _===A?_:A}function L(Le,c){for(const _ of c)delete Le[_]}function J(){if(typeof BigInt>"u")throw new Error("BigInt is not defined. Your environment doesn't implement BigInt.")}function q(Le){let c=0,_=0;for(let W=0;W<Le.length;W++)c+=Le[W].byteLength;const A=new Uint8Array(c);for(let W=0;W<Le.length;W++){const ae=Le[W];A.set(new Uint8Array(ae),_),_+=ae.byteLength}return A.buffer}function S(Le,c,_,A){return c instanceof Uint8Array?c.byteLength?_<0?(Le.error="Wrong parameter: inputOffset less than zero",!1):A<0?(Le.error="Wrong parameter: inputLength less than zero",!1):!(c.byteLength-_-A<0&&(Le.error="End of input reached before message was fully decoded (inconsistent offset and length values)",1)):(Le.error="Wrong parameter: inputBuffer has zero length",!1):(Le.error="Wrong parameter: inputBuffer must be 'Uint8Array'",!1)}class re{constructor(){this.items=[]}write(c){this.items.push(c)}final(){return q(this.items)}}const K=[new Uint8Array([1])],me="0123456789",Ne="name",De="valueHexView",pt=new ArrayBuffer(0),Ye=new Uint8Array(0),qt="EndOfContent",jt="OCTET STRING",Dt="BIT STRING";function wt(Le){var c;return(c=class extends Le{constructor(...A){var W;super(...A);const ae=A[0]||{};this.isHexOnly=null!==(W=ae.isHexOnly)&&void 0!==W&&W,this.valueHexView=ae.valueHex?y._H.toUint8Array(ae.valueHex):Ye}get valueHex(){return this.valueHexView.slice().buffer}set valueHex(A){this.valueHexView=new Uint8Array(A)}fromBER(A,W,ae){const ve=A instanceof ArrayBuffer?new Uint8Array(A):A;if(!S(this,ve,W,ae))return-1;const Ge=W+ae;return this.valueHexView=ve.subarray(W,Ge),this.valueHexView.length?(this.blockLength=ae,Ge):(this.warnings.push("Zero buffer length"),W)}toBER(A=!1){return this.isHexOnly?A?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.byteLength===this.valueHexView.buffer.byteLength?this.valueHexView.buffer:this.valueHexView.slice().buffer:(this.error="Flag 'isHexOnly' is not set, abort",pt)}toJSON(){return{...super.toJSON(),isHexOnly:this.isHexOnly,valueHex:y.U$.ToHex(this.valueHexView)}}}).NAME="hexBlock",c}let z=(()=>{class Le{constructor({blockLength:_=0,error:A="",warnings:W=[],valueBeforeDecode:ae=Ye}={}){this.blockLength=_,this.error=A,this.warnings=W,this.valueBeforeDecodeView=y._H.toUint8Array(ae)}static blockName(){return this.NAME}get valueBeforeDecode(){return this.valueBeforeDecodeView.slice().buffer}set valueBeforeDecode(_){this.valueBeforeDecodeView=new Uint8Array(_)}toJSON(){return{blockName:this.constructor.NAME,blockLength:this.blockLength,error:this.error,warnings:this.warnings,valueBeforeDecode:y.U$.ToHex(this.valueBeforeDecodeView)}}}return Le.NAME="baseBlock",Le})(),Y=(()=>{class Le extends z{fromBER(_,A,W){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}toBER(_,A){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}}return Le.NAME="valueBlock",Le})(),Z=(()=>{class Le extends(wt(z)){constructor({idBlock:_={}}={}){var A,W,ae,ve;super(),_?(this.isHexOnly=null!==(A=_.isHexOnly)&&void 0!==A&&A,this.valueHexView=_.valueHex?y._H.toUint8Array(_.valueHex):Ye,this.tagClass=null!==(W=_.tagClass)&&void 0!==W?W:-1,this.tagNumber=null!==(ae=_.tagNumber)&&void 0!==ae?ae:-1,this.isConstructed=null!==(ve=_.isConstructed)&&void 0!==ve&&ve):(this.tagClass=-1,this.tagNumber=-1,this.isConstructed=!1)}toBER(_=!1){let A=0;switch(this.tagClass){case 1:A|=0;break;case 2:A|=64;break;case 3:A|=128;break;case 4:A|=192;break;default:return this.error="Unknown tag class",pt}if(this.isConstructed&&(A|=32),this.tagNumber<31&&!this.isHexOnly){const ae=new Uint8Array(1);if(!_){let ve=this.tagNumber;ve&=31,A|=ve,ae[0]=A}return ae.buffer}if(!this.isHexOnly){const ae=f(this.tagNumber,7),ve=new Uint8Array(ae),Ge=ae.byteLength,I=new Uint8Array(Ge+1);if(I[0]=31|A,!_){for(let V=0;V<Ge-1;V++)I[V+1]=128|ve[V];I[Ge]=ve[Ge-1]}return I.buffer}const W=new Uint8Array(this.valueHexView.byteLength+1);if(W[0]=31|A,!_){const ae=this.valueHexView;for(let ve=0;ve<ae.length-1;ve++)W[ve+1]=128|ae[ve];W[this.valueHexView.byteLength]=ae[ae.length-1]}return W.buffer}fromBER(_,A,W){const ae=y._H.toUint8Array(_);if(!S(this,ae,A,W))return-1;const ve=ae.subarray(A,A+W);if(0===ve.length)return this.error="Zero buffer length",-1;switch(192&ve[0]){case 0:this.tagClass=1;break;case 64:this.tagClass=2;break;case 128:this.tagClass=3;break;case 192:this.tagClass=4;break;default:return this.error="Unknown tag class",-1}this.isConstructed=!(32&~ve[0]),this.isHexOnly=!1;const I=31&ve[0];if(31!==I)this.tagNumber=I,this.blockLength=1;else{let V=1,B=this.valueHexView=new Uint8Array(255),Q=255;for(;128&ve[V];){if(B[V-1]=127&ve[V],V++,V>=ve.length)return this.error="End of input reached before message was fully decoded",-1;if(V===Q){Q+=255;const $e=new Uint8Array(Q);for(let _t=0;_t<B.length;_t++)$e[_t]=B[_t];B=this.valueHexView=new Uint8Array(Q)}}this.blockLength=V+1,B[V-1]=127&ve[V];const ge=new Uint8Array(V);for(let $e=0;$e<V;$e++)ge[$e]=B[$e];B=this.valueHexView=new Uint8Array(V),B.set(ge),this.blockLength<=9?this.tagNumber=u(B,7):(this.isHexOnly=!0,this.warnings.push("Tag too long, represented as hex-coded"))}if(1===this.tagClass&&this.isConstructed)switch(this.tagNumber){case 1:case 2:case 5:case 6:case 9:case 13:case 14:case 23:case 24:case 31:case 32:case 33:case 34:return this.error="Constructed encoding used for primitive type",-1}return A+this.blockLength}toJSON(){return{...super.toJSON(),tagClass:this.tagClass,tagNumber:this.tagNumber,isConstructed:this.isConstructed}}}return Le.NAME="identificationBlock",Le})(),Ce=(()=>{class Le extends z{constructor({lenBlock:_={}}={}){var A,W,ae;super(),this.isIndefiniteForm=null!==(A=_.isIndefiniteForm)&&void 0!==A&&A,this.longFormUsed=null!==(W=_.longFormUsed)&&void 0!==W&&W,this.length=null!==(ae=_.length)&&void 0!==ae?ae:0}fromBER(_,A,W){const ae=y._H.toUint8Array(_);if(!S(this,ae,A,W))return-1;const ve=ae.subarray(A,A+W);if(0===ve.length)return this.error="Zero buffer length",-1;if(255===ve[0])return this.error="Length block 0xFF is reserved by standard",-1;if(this.isIndefiniteForm=128===ve[0],this.isIndefiniteForm)return this.blockLength=1,A+this.blockLength;if(this.longFormUsed=!!(128&ve[0]),!1===this.longFormUsed)return this.length=ve[0],this.blockLength=1,A+this.blockLength;const Ge=127&ve[0];if(Ge>8)return this.error="Too big integer",-1;if(Ge+1>ve.length)return this.error="End of input reached before message was fully decoded",-1;const I=A+1,V=ae.subarray(I,I+Ge);return 0===V[Ge-1]&&this.warnings.push("Needlessly long encoded length"),this.length=u(V,8),this.longFormUsed&&this.length<=127&&this.warnings.push("Unnecessary usage of long length form"),this.blockLength=Ge+1,A+this.blockLength}toBER(_=!1){let A,W;if(this.length>127&&(this.longFormUsed=!0),this.isIndefiniteForm)return A=new ArrayBuffer(1),!1===_&&(W=new Uint8Array(A),W[0]=128),A;if(this.longFormUsed){const ae=f(this.length,8);if(ae.byteLength>127)return this.error="Too big length",pt;if(A=new ArrayBuffer(ae.byteLength+1),_)return A;const ve=new Uint8Array(ae);W=new Uint8Array(A),W[0]=128|ae.byteLength;for(let Ge=0;Ge<ae.byteLength;Ge++)W[Ge+1]=ve[Ge];return A}return A=new ArrayBuffer(1),!1===_&&(W=new Uint8Array(A),W[0]=this.length),A}toJSON(){return{...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,longFormUsed:this.longFormUsed,length:this.length}}}return Le.NAME="lengthBlock",Le})();const we={};let at=(()=>{class Le extends z{constructor({name:_="",optional:A=!1,primitiveSchema:W,...ae}={},ve){super(ae),this.name=_,this.optional=A,W&&(this.primitiveSchema=W),this.idBlock=new Z(ae),this.lenBlock=new Ce(ae),this.valueBlock=ve?new ve(ae):new Y(ae)}fromBER(_,A,W){const ae=this.valueBlock.fromBER(_,A,this.lenBlock.isIndefiniteForm?W:this.lenBlock.length);return-1===ae?(this.error=this.valueBlock.error,ae):(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),ae)}toBER(_,A){const W=A||new re;A||Be(this);const ae=this.idBlock.toBER(_);if(W.write(ae),this.lenBlock.isIndefiniteForm)W.write(new Uint8Array([128]).buffer),this.valueBlock.toBER(_,W),W.write(new ArrayBuffer(2));else{const ve=this.valueBlock.toBER(_);this.lenBlock.length=ve.byteLength;const Ge=this.lenBlock.toBER(_);W.write(Ge),W.write(ve)}return A?pt:W.final()}toJSON(){const _={...super.toJSON(),idBlock:this.idBlock.toJSON(),lenBlock:this.lenBlock.toJSON(),valueBlock:this.valueBlock.toJSON(),name:this.name,optional:this.optional};return this.primitiveSchema&&(_.primitiveSchema=this.primitiveSchema.toJSON()),_}toString(_="ascii"){return"ascii"===_?this.onAsciiEncoding():y.U$.ToHex(this.toBER())}onAsciiEncoding(){return`${this.constructor.NAME} : ${y.U$.ToHex(this.valueBlock.valueBeforeDecodeView)}`}isEqual(_){return this===_||_ instanceof this.constructor&&M(this.toBER(),_.toBER())}}return Le.NAME="BaseBlock",Le})();function Be(Le){if(Le instanceof we.Constructed)for(const c of Le.valueBlock.value)Be(c)&&(Le.lenBlock.isIndefiniteForm=!0);return!!Le.lenBlock.isIndefiniteForm}let ot=(()=>{class Le extends at{constructor({value:_="",...A}={},W){super(A,W),_&&this.fromString(_)}getValue(){return this.valueBlock.value}setValue(_){this.valueBlock.value=_}fromBER(_,A,W){const ae=this.valueBlock.fromBER(_,A,this.lenBlock.isIndefiniteForm?W:this.lenBlock.length);return-1===ae?(this.error=this.valueBlock.error,ae):(this.fromBuffer(this.valueBlock.valueHexView),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),ae)}onAsciiEncoding(){return`${this.constructor.NAME} : '${this.valueBlock.value}'`}}return Le.NAME="BaseStringBlock",Le})(),Pt=(()=>{class Le extends(wt(Y)){constructor({isHexOnly:_=!0,...A}={}){super(A),this.isHexOnly=_}}return Le.NAME="PrimitiveValueBlock",Le})();class it extends at{constructor(c={}){super(c,Pt),this.idBlock.isConstructed=!1}}function sn(Le,c=0,_=Le.length){const A=c;let W=new at({},Y);const ae=new z;if(!S(ae,Le,c,_))return W.error=ae.error,{offset:-1,result:W};if(!Le.subarray(c,c+_).length)return W.error="Zero buffer length",{offset:-1,result:W};let Ge=W.idBlock.fromBER(Le,c,_);if(W.idBlock.warnings.length&&W.warnings.concat(W.idBlock.warnings),-1===Ge)return W.error=W.idBlock.error,{offset:-1,result:W};if(Ge=W.lenBlock.fromBER(Le,c=Ge,_-=W.idBlock.blockLength),W.lenBlock.warnings.length&&W.warnings.concat(W.lenBlock.warnings),-1===Ge)return W.error=W.lenBlock.error,{offset:-1,result:W};if(c=Ge,_-=W.lenBlock.blockLength,!W.idBlock.isConstructed&&W.lenBlock.isIndefiniteForm)return W.error="Indefinite length form used for primitive encoding form",{offset:-1,result:W};let I=at;if(1===W.idBlock.tagClass){if(W.idBlock.tagNumber>=37&&!1===W.idBlock.isHexOnly)return W.error="UNIVERSAL 37 and upper tags are reserved by ASN.1 standard",{offset:-1,result:W};switch(W.idBlock.tagNumber){case 0:if(W.idBlock.isConstructed&&W.lenBlock.length>0)return W.error="Type [UNIVERSAL 0] is reserved",{offset:-1,result:W};I=we.EndOfContent;break;case 1:I=we.Boolean;break;case 2:I=we.Integer;break;case 3:I=we.BitString;break;case 4:I=we.OctetString;break;case 5:I=we.Null;break;case 6:I=we.ObjectIdentifier;break;case 10:I=we.Enumerated;break;case 12:I=we.Utf8String;break;case 13:I=we.RelativeObjectIdentifier;break;case 14:I=we.TIME;break;case 15:return W.error="[UNIVERSAL 15] is reserved by ASN.1 standard",{offset:-1,result:W};case 16:I=we.Sequence;break;case 17:I=we.Set;break;case 18:I=we.NumericString;break;case 19:I=we.PrintableString;break;case 20:I=we.TeletexString;break;case 21:I=we.VideotexString;break;case 22:I=we.IA5String;break;case 23:I=we.UTCTime;break;case 24:I=we.GeneralizedTime;break;case 25:I=we.GraphicString;break;case 26:I=we.VisibleString;break;case 27:I=we.GeneralString;break;case 28:I=we.UniversalString;break;case 29:I=we.CharacterString;break;case 30:I=we.BmpString;break;case 31:I=we.DATE;break;case 32:I=we.TimeOfDay;break;case 33:I=we.DateTime;break;case 34:I=we.Duration;break;default:{const V=W.idBlock.isConstructed?new we.Constructed:new we.Primitive;V.idBlock=W.idBlock,V.lenBlock=W.lenBlock,V.warnings=W.warnings,W=V}}}else I=W.idBlock.isConstructed?we.Constructed:we.Primitive;return W=function Kt(Le,c){if(Le instanceof c)return Le;const _=new c;return _.idBlock=Le.idBlock,_.lenBlock=Le.lenBlock,_.warnings=Le.warnings,_.valueBeforeDecodeView=Le.valueBeforeDecodeView,_}(W,I),Ge=W.fromBER(Le,c,W.lenBlock.isIndefiniteForm?_:W.lenBlock.length),W.valueBeforeDecodeView=Le.subarray(A,A+W.blockLength),{offset:Ge,result:W}}function Ft(Le){if(!Le.byteLength){const c=new at({},Y);return c.error="Input buffer has zero length",{offset:-1,result:c}}return sn(y._H.toUint8Array(Le).slice(),0,Le.byteLength)}function Jt(Le,c){return Le?1:c}we.Primitive=it,it.NAME="PRIMITIVE";let je=(()=>{class Le extends Y{constructor({value:_=[],isIndefiniteForm:A=!1,...W}={}){super(W),this.value=_,this.isIndefiniteForm=A}fromBER(_,A,W){const ae=y._H.toUint8Array(_);if(!S(this,ae,A,W))return-1;if(this.valueBeforeDecodeView=ae.subarray(A,A+W),0===this.valueBeforeDecodeView.length)return this.warnings.push("Zero buffer length"),A;let ve=A;for(;Jt(this.isIndefiniteForm,W)>0;){const Ge=sn(ae,ve,W);if(-1===Ge.offset)return this.error=Ge.result.error,this.warnings.concat(Ge.result.warnings),-1;if(ve=Ge.offset,this.blockLength+=Ge.result.blockLength,W-=Ge.result.blockLength,this.value.push(Ge.result),this.isIndefiniteForm&&Ge.result.constructor.NAME===qt)break}return this.isIndefiniteForm&&(this.value[this.value.length-1].constructor.NAME===qt?this.value.pop():this.warnings.push("No EndOfContent block encoded")),ve}toBER(_,A){const W=A||new re;for(let ae=0;ae<this.value.length;ae++)this.value[ae].toBER(_,W);return A?pt:W.final()}toJSON(){const _={...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,value:[]};for(const A of this.value)_.value.push(A.toJSON());return _}}return Le.NAME="ConstructedValueBlock",Le})();class X extends at{constructor(c={}){super(c,je),this.idBlock.isConstructed=!0}fromBER(c,_,A){this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;const W=this.valueBlock.fromBER(c,_,this.lenBlock.isIndefiniteForm?A:this.lenBlock.length);return-1===W?(this.error=this.valueBlock.error,W):(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),W)}onAsciiEncoding(){const c=[];for(const A of this.valueBlock.value)c.push(A.toString("ascii").split("\n").map(W=>`  ${W}`).join("\n"));const _=3===this.idBlock.tagClass?`[${this.idBlock.tagNumber}]`:this.constructor.NAME;return c.length?`${_} :\n${c.join("\n")}`:`${_} :`}}we.Constructed=X,X.NAME="CONSTRUCTED";let oe=(()=>{class Le extends Y{fromBER(_,A,W){return A}toBER(_){return pt}}return Le.override="EndOfContentValueBlock",Le})();class tt extends at{constructor(c={}){super(c,oe),this.idBlock.tagClass=1,this.idBlock.tagNumber=0}}we.EndOfContent=tt,tt.NAME=qt;class Bt extends at{constructor(c={}){super(c,Y),this.idBlock.tagClass=1,this.idBlock.tagNumber=5}fromBER(c,_,A){return this.lenBlock.length>0&&this.warnings.push("Non-zero length of value block for Null type"),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.blockLength+=A,_+A>c.byteLength?(this.error="End of input reached before message was fully decoded (inconsistent offset and length values)",-1):_+A}toBER(c,_){const A=new ArrayBuffer(2);if(!c){const W=new Uint8Array(A);W[0]=5,W[1]=0}return _&&_.write(A),A}onAsciiEncoding(){return`${this.constructor.NAME}`}}we.Null=Bt,Bt.NAME="NULL";let cn=(()=>{class Le extends(wt(Y)){constructor({value:_,...A}={}){super(A),this.valueHexView=A.valueHex?y._H.toUint8Array(A.valueHex):new Uint8Array(1),_&&(this.value=_)}get value(){for(const _ of this.valueHexView)if(_>0)return!0;return!1}set value(_){this.valueHexView[0]=_?255:0}fromBER(_,A,W){const ae=y._H.toUint8Array(_);return S(this,ae,A,W)?(this.valueHexView=ae.subarray(A,A+W),W>1&&this.warnings.push("Boolean value encoded in more then 1 octet"),this.isHexOnly=!0,F.call(this),this.blockLength=W,A+W):-1}toBER(){return this.valueHexView.slice()}toJSON(){return{...super.toJSON(),value:this.value}}}return Le.NAME="BooleanValueBlock",Le})();class An extends at{constructor(c={}){super(c,cn),this.idBlock.tagClass=1,this.idBlock.tagNumber=1}getValue(){return this.valueBlock.value}setValue(c){this.valueBlock.value=c}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.getValue}`}}we.Boolean=An,An.NAME="BOOLEAN";let xn=(()=>{class Le extends(wt(je)){constructor({isConstructed:_=!1,...A}={}){super(A),this.isConstructed=_}fromBER(_,A,W){let ae=0;if(this.isConstructed){if(this.isHexOnly=!1,ae=je.prototype.fromBER.call(this,_,A,W),-1===ae)return ae;for(let ve=0;ve<this.value.length;ve++){const Ge=this.value[ve].constructor.NAME;if(Ge===qt){if(this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, OCTET STRING may consists of OCTET STRINGs only",-1}if(Ge!==jt)return this.error="OCTET STRING may consists of OCTET STRINGs only",-1}}else this.isHexOnly=!0,ae=super.fromBER(_,A,W),this.blockLength=W;return ae}toBER(_,A){return this.isConstructed?je.prototype.toBER.call(this,_,A):_?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),isConstructed:this.isConstructed}}}return Le.NAME="OctetStringValueBlock",Le})();class It extends at{constructor({idBlock:c={},lenBlock:_={},...A}={}){var W,ae;null!==(W=A.isConstructed)&&void 0!==W||(A.isConstructed=!(null===(ae=A.value)||void 0===ae||!ae.length)),super({idBlock:{isConstructed:A.isConstructed,...c},lenBlock:{..._,isIndefiniteForm:!!A.isIndefiniteForm},...A},xn),this.idBlock.tagClass=1,this.idBlock.tagNumber=4}fromBER(c,_,A){if(this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,0===A)return 0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),_;if(!this.valueBlock.isConstructed){const ae=(c instanceof ArrayBuffer?new Uint8Array(c):c).subarray(_,_+A);try{if(ae.byteLength){const ve=sn(ae,0,ae.byteLength);-1!==ve.offset&&ve.offset===A&&(this.valueBlock.value=[ve.result])}}catch{}}return super.fromBER(c,_,A)}onAsciiEncoding(){return this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length?X.prototype.onAsciiEncoding.call(this):`${this.constructor.NAME} : ${y.U$.ToHex(this.valueBlock.valueHexView)}`}getValue(){if(!this.idBlock.isConstructed)return this.valueBlock.valueHexView.slice().buffer;const c=[];for(const _ of this.valueBlock.value)_ instanceof It&&c.push(_.valueBlock.valueHexView);return y._H.concat(c)}}we.OctetString=It,It.NAME=jt;let Dn=(()=>{class Le extends(wt(je)){constructor({unusedBits:_=0,isConstructed:A=!1,...W}={}){super(W),this.unusedBits=_,this.isConstructed=A,this.blockLength=this.valueHexView.byteLength}fromBER(_,A,W){if(!W)return A;let ae=-1;if(this.isConstructed){if(ae=je.prototype.fromBER.call(this,_,A,W),-1===ae)return ae;for(const I of this.value){const V=I.constructor.NAME;if(V===qt){if(this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, BIT STRING may consists of BIT STRINGs only",-1}if(V!==Dt)return this.error="BIT STRING may consists of BIT STRINGs only",-1;const B=I.valueBlock;if(this.unusedBits>0&&B.unusedBits>0)return this.error='Using of "unused bits" inside constructive BIT STRING allowed for least one only',-1;this.unusedBits=B.unusedBits}return ae}const ve=y._H.toUint8Array(_);if(!S(this,ve,A,W))return-1;const Ge=ve.subarray(A,A+W);if(this.unusedBits=Ge[0],this.unusedBits>7)return this.error="Unused bits for BitString must be in range 0-7",-1;if(!this.unusedBits){const I=Ge.subarray(1);try{if(I.byteLength){const V=sn(I,0,I.byteLength);-1!==V.offset&&V.offset===W-1&&(this.value=[V.result])}}catch{}}return this.valueHexView=Ge.subarray(1),this.blockLength=Ge.length,A+W}toBER(_,A){if(this.isConstructed)return je.prototype.toBER.call(this,_,A);if(_)return new ArrayBuffer(this.valueHexView.byteLength+1);if(!this.valueHexView.byteLength)return pt;const W=new Uint8Array(this.valueHexView.length+1);return W[0]=this.unusedBits,W.set(this.valueHexView,1),W.buffer}toJSON(){return{...super.toJSON(),unusedBits:this.unusedBits,isConstructed:this.isConstructed}}}return Le.NAME="BitStringValueBlock",Le})();var Ct;class lt extends at{constructor({idBlock:c={},lenBlock:_={},...A}={}){var W,ae;null!==(W=A.isConstructed)&&void 0!==W||(A.isConstructed=!(null===(ae=A.value)||void 0===ae||!ae.length)),super({idBlock:{isConstructed:A.isConstructed,...c},lenBlock:{..._,isIndefiniteForm:!!A.isIndefiniteForm},...A},Dn),this.idBlock.tagClass=1,this.idBlock.tagNumber=3}fromBER(c,_,A){return this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,super.fromBER(c,_,A)}onAsciiEncoding(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length)return X.prototype.onAsciiEncoding.call(this);{const c=[],_=this.valueBlock.valueHexView;for(const W of _)c.push(W.toString(2).padStart(8,"0"));const A=c.join("");return`${this.constructor.NAME} : ${A.substring(0,A.length-this.valueBlock.unusedBits)}`}}}function yt(Le,c){const _=new Uint8Array([0]),A=new Uint8Array(Le),W=new Uint8Array(c);let ae=A.slice(0);const ve=ae.length-1,Ge=W.slice(0),I=Ge.length-1;let V=0,Q=0;for(let ge=I<ve?ve:I;ge>=0;ge--,Q++)V=1==Q<Ge.length?ae[ve-Q]+Ge[I-Q]+_[0]:ae[ve-Q]+_[0],_[0]=V/10,1==Q>=ae.length?ae=O(new Uint8Array([V%10]),ae):ae[ve-Q]=V%10;return _[0]>0&&(ae=O(_,ae)),ae}function Ot(Le){if(Le>=K.length)for(let c=K.length;c<=Le;c++){const _=new Uint8Array([0]);let A=K[c-1].slice(0);for(let W=A.length-1;W>=0;W--){const ae=new Uint8Array([(A[W]<<1)+_[0]]);_[0]=ae[0]/10,A[W]=ae[0]%10}_[0]>0&&(A=O(_,A)),K.push(A)}return K[Le]}function en(Le,c){let _=0;const A=new Uint8Array(Le),W=new Uint8Array(c),ae=A.slice(0),ve=ae.length-1,Ge=W.slice(0),I=Ge.length-1;let V,B=0;for(let Q=I;Q>=0;Q--,B++)V=ae[ve-B]-Ge[I-B]-_,1==V<0?(_=1,ae[ve-B]=V+10):(_=0,ae[ve-B]=V);if(_>0)for(let Q=ve-I+1;Q>=0;Q--,B++){if(V=ae[ve-B]-_,!(V<0)){_=0,ae[ve-B]=V;break}_=1,ae[ve-B]=V+10}return ae.slice()}we.BitString=lt,lt.NAME=Dt;class Sn extends(wt(Y)){constructor({value:c,..._}={}){super(_),this._valueDec=0,_.valueHex&&this.setValueHex(),void 0!==c&&(this.valueDec=c)}setValueHex(){this.valueHexView.length>=4?(this.warnings.push("Too big Integer for decoding, hex only"),this.isHexOnly=!0,this._valueDec=0):(this.isHexOnly=!1,this.valueHexView.length>0&&(this._valueDec=F.call(this)))}set valueDec(c){this._valueDec=c,this.isHexOnly=!1,this.valueHexView=new Uint8Array(b(c))}get valueDec(){return this._valueDec}fromDER(c,_,A,W=0){const ae=this.fromBER(c,_,A);if(-1===ae)return ae;const ve=this.valueHexView;return 0===ve[0]&&128&ve[1]?this.valueHexView=ve.subarray(1):0!==W&&ve.length<W&&(W-ve.length>1&&(W=ve.length+1),this.valueHexView=ve.subarray(W-ve.length)),ae}toDER(c=!1){const _=this.valueHexView;switch(!0){case!!(128&_[0]):{const A=new Uint8Array(this.valueHexView.length+1);A[0]=0,A.set(_,1),this.valueHexView=A}break;case 0===_[0]&&!(128&_[1]):this.valueHexView=this.valueHexView.subarray(1)}return this.toBER(c)}fromBER(c,_,A){const W=super.fromBER(c,_,A);return-1===W||this.setValueHex(),W}toBER(c){return c?new ArrayBuffer(this.valueHexView.length):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}toString(){const c=8*this.valueHexView.length-1;let W,_=new Uint8Array(8*this.valueHexView.length/3),A=0;const ae=this.valueHexView;let ve="",Ge=!1;for(let I=ae.byteLength-1;I>=0;I--){W=ae[I];for(let V=0;V<8;V++)1&~W||(A===c?(_=en(Ot(A),_),ve="-"):_=yt(_,Ot(A))),A++,W>>=1}for(let I=0;I<_.length;I++)_[I]&&(Ge=!0),Ge&&(ve+=me.charAt(_[I]));return!1===Ge&&(ve+=me.charAt(0)),ve}}Ct=Sn,Sn.NAME="IntegerValueBlock",Object.defineProperty(Ct.prototype,"valueHex",{set:function(Le){this.valueHexView=new Uint8Array(Le),this.setValueHex()},get:function(){return this.valueHexView.slice().buffer}});class fn extends at{constructor(c={}){super(c,Sn),this.idBlock.tagClass=1,this.idBlock.tagNumber=2}toBigInt(){return J(),BigInt(this.valueBlock.toString())}static fromBigInt(c){J();const _=BigInt(c),A=new re,W=_.toString(16).replace(/^-/,""),ae=new Uint8Array(y.U$.FromHex(W));if(_<0){const Ge=new Uint8Array(ae.length+(128&ae[0]?1:0));Ge[0]|=128;const V=BigInt(`0x${y.U$.ToHex(Ge)}`)+_,B=y._H.toUint8Array(y.U$.FromHex(V.toString(16)));B[0]|=128,A.write(B)}else 128&ae[0]&&A.write(new Uint8Array([0])),A.write(ae);return new fn({valueHex:A.final()})}convertToDER(){const c=new fn({valueHex:this.valueBlock.valueHexView});return c.valueBlock.toDER(),c}convertFromDER(){return new fn({valueHex:0===this.valueBlock.valueHexView[0]?this.valueBlock.valueHexView.subarray(1):this.valueBlock.valueHexView})}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()}`}}we.Integer=fn,fn.NAME="INTEGER";class Gn extends fn{constructor(c={}){super(c),this.idBlock.tagClass=1,this.idBlock.tagNumber=10}}we.Enumerated=Gn,Gn.NAME="ENUMERATED";let Mt=(()=>{class Le extends(wt(Y)){constructor({valueDec:_=-1,isFirstSid:A=!1,...W}={}){super(W),this.valueDec=_,this.isFirstSid=A}fromBER(_,A,W){if(!W)return A;const ae=y._H.toUint8Array(_);if(!S(this,ae,A,W))return-1;const ve=ae.subarray(A,A+W);this.valueHexView=new Uint8Array(W);for(let I=0;I<W&&(this.valueHexView[I]=127&ve[I],this.blockLength++,128&ve[I]);I++);const Ge=new Uint8Array(this.blockLength);for(let I=0;I<this.blockLength;I++)Ge[I]=this.valueHexView[I];return this.valueHexView=Ge,128&ve[this.blockLength-1]?(this.error="End of input reached before message was fully decoded",-1):(0===this.valueHexView[0]&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=u(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),A+this.blockLength)}set valueBigInt(_){J();let A=BigInt(_).toString(2);for(;A.length%7;)A="0"+A;const W=new Uint8Array(A.length/7);for(let ae=0;ae<W.length;ae++)W[ae]=parseInt(A.slice(7*ae,7*ae+7),2)+(ae+1<W.length?128:0);this.fromBER(W.buffer,0,W.length)}toBER(_){if(this.isHexOnly){if(_)return new ArrayBuffer(this.valueHexView.byteLength);const ae=this.valueHexView,ve=new Uint8Array(this.blockLength);for(let Ge=0;Ge<this.blockLength-1;Ge++)ve[Ge]=128|ae[Ge];return ve[this.blockLength-1]=ae[this.blockLength-1],ve.buffer}const A=f(this.valueDec,7);if(0===A.byteLength)return this.error="Error during encoding SID value",pt;const W=new Uint8Array(A.byteLength);if(!_){const ae=new Uint8Array(A),ve=A.byteLength-1;for(let Ge=0;Ge<ve;Ge++)W[Ge]=128|ae[Ge];W[ve]=ae[ve]}return W}toString(){let _="";if(this.isHexOnly)_=y.U$.ToHex(this.valueHexView);else if(this.isFirstSid){let A=this.valueDec;this.valueDec<=39?_="0.":this.valueDec<=79?(_="1.",A-=40):(_="2.",A-=80),_+=A.toString()}else _=this.valueDec.toString();return _}toJSON(){return{...super.toJSON(),valueDec:this.valueDec,isFirstSid:this.isFirstSid}}}return Le.NAME="sidBlock",Le})(),ht=(()=>{class Le extends Y{constructor({value:_="",...A}={}){super(A),this.value=[],_&&this.fromString(_)}fromBER(_,A,W){let ae=A;for(;W>0;){const ve=new Mt;if(ae=ve.fromBER(_,ae,W),-1===ae)return this.blockLength=0,this.error=ve.error,ae;0===this.value.length&&(ve.isFirstSid=!0),this.blockLength+=ve.blockLength,W-=ve.blockLength,this.value.push(ve)}return ae}toBER(_){const A=[];for(let W=0;W<this.value.length;W++){const ae=this.value[W].toBER(_);if(0===ae.byteLength)return this.error=this.value[W].error,pt;A.push(ae)}return q(A)}fromString(_){this.value=[];let A=0,W=0,ae="",ve=!1;do{if(W=_.indexOf(".",A),ae=-1===W?_.substring(A):_.substring(A,W),A=W+1,ve){const Ge=this.value[0];let I=0;switch(Ge.valueDec){case 0:break;case 1:I=40;break;case 2:I=80;break;default:return void(this.value=[])}const V=parseInt(ae,10);if(isNaN(V))return;Ge.valueDec=V+I,ve=!1}else{const Ge=new Mt;if(ae>Number.MAX_SAFE_INTEGER){J();const I=BigInt(ae);Ge.valueBigInt=I}else if(Ge.valueDec=parseInt(ae,10),isNaN(Ge.valueDec))return;this.value.length||(Ge.isFirstSid=!0,ve=!0),this.value.push(Ge)}}while(-1!==W)}toString(){let _="",A=!1;for(let W=0;W<this.value.length;W++){A=this.value[W].isHexOnly;let ae=this.value[W].toString();0!==W&&(_=`${_}.`),A?(ae=`{${ae}}`,this.value[W].isFirstSid?_=`2.{${ae} - 80}`:_+=ae):_+=ae}return _}toJSON(){const _={...super.toJSON(),value:this.toString(),sidArray:[]};for(let A=0;A<this.value.length;A++)_.sidArray.push(this.value[A].toJSON());return _}}return Le.NAME="ObjectIdentifierValueBlock",Le})();class $t extends at{constructor(c={}){super(c,ht),this.idBlock.tagClass=1,this.idBlock.tagNumber=6}getValue(){return this.valueBlock.toString()}setValue(c){this.valueBlock.fromString(c)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}}we.ObjectIdentifier=$t,$t.NAME="OBJECT IDENTIFIER";let nn=(()=>{class Le extends(wt(z)){constructor({valueDec:_=0,...A}={}){super(A),this.valueDec=_}fromBER(_,A,W){if(0===W)return A;const ae=y._H.toUint8Array(_);if(!S(this,ae,A,W))return-1;const ve=ae.subarray(A,A+W);this.valueHexView=new Uint8Array(W);for(let I=0;I<W&&(this.valueHexView[I]=127&ve[I],this.blockLength++,128&ve[I]);I++);const Ge=new Uint8Array(this.blockLength);for(let I=0;I<this.blockLength;I++)Ge[I]=this.valueHexView[I];return this.valueHexView=Ge,128&ve[this.blockLength-1]?(this.error="End of input reached before message was fully decoded",-1):(0===this.valueHexView[0]&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=u(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),A+this.blockLength)}toBER(_){if(this.isHexOnly){if(_)return new ArrayBuffer(this.valueHexView.byteLength);const ae=this.valueHexView,ve=new Uint8Array(this.blockLength);for(let Ge=0;Ge<this.blockLength-1;Ge++)ve[Ge]=128|ae[Ge];return ve[this.blockLength-1]=ae[this.blockLength-1],ve.buffer}const A=f(this.valueDec,7);if(0===A.byteLength)return this.error="Error during encoding SID value",pt;const W=new Uint8Array(A.byteLength);if(!_){const ae=new Uint8Array(A),ve=A.byteLength-1;for(let Ge=0;Ge<ve;Ge++)W[Ge]=128|ae[Ge];W[ve]=ae[ve]}return W.buffer}toString(){let _="";return _=this.isHexOnly?y.U$.ToHex(this.valueHexView):this.valueDec.toString(),_}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}}return Le.NAME="relativeSidBlock",Le})(),vn=(()=>{class Le extends Y{constructor({value:_="",...A}={}){super(A),this.value=[],_&&this.fromString(_)}fromBER(_,A,W){let ae=A;for(;W>0;){const ve=new nn;if(ae=ve.fromBER(_,ae,W),-1===ae)return this.blockLength=0,this.error=ve.error,ae;this.blockLength+=ve.blockLength,W-=ve.blockLength,this.value.push(ve)}return ae}toBER(_,A){const W=[];for(let ae=0;ae<this.value.length;ae++){const ve=this.value[ae].toBER(_);if(0===ve.byteLength)return this.error=this.value[ae].error,pt;W.push(ve)}return q(W)}fromString(_){this.value=[];let A=0,W=0,ae="";do{W=_.indexOf(".",A),ae=-1===W?_.substring(A):_.substring(A,W),A=W+1;const ve=new nn;if(ve.valueDec=parseInt(ae,10),isNaN(ve.valueDec))return!0;this.value.push(ve)}while(-1!==W);return!0}toString(){let _="",A=!1;for(let W=0;W<this.value.length;W++){A=this.value[W].isHexOnly;let ae=this.value[W].toString();0!==W&&(_=`${_}.`),A&&(ae=`{${ae}}`),_+=ae}return _}toJSON(){const _={...super.toJSON(),value:this.toString(),sidArray:[]};for(let A=0;A<this.value.length;A++)_.sidArray.push(this.value[A].toJSON());return _}}return Le.NAME="RelativeObjectIdentifierValueBlock",Le})();class Yn extends at{constructor(c={}){super(c,vn),this.idBlock.tagClass=1,this.idBlock.tagNumber=13}getValue(){return this.valueBlock.toString()}setValue(c){this.valueBlock.fromString(c)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}}we.RelativeObjectIdentifier=Yn,Yn.NAME="RelativeObjectIdentifier";class mn extends X{constructor(c={}){super(c),this.idBlock.tagClass=1,this.idBlock.tagNumber=16}}we.Sequence=mn,mn.NAME="SEQUENCE";class pi extends X{constructor(c={}){super(c),this.idBlock.tagClass=1,this.idBlock.tagNumber=17}}we.Set=pi,pi.NAME="SET";let ei=(()=>{class Le extends(wt(Y)){constructor({..._}={}){super(_),this.isHexOnly=!0,this.value=""}toJSON(){return{...super.toJSON(),value:this.value}}}return Le.NAME="StringValueBlock",Le})(),Oi=(()=>{class Le extends ei{}return Le.NAME="SimpleStringValueBlock",Le})(),Xn=(()=>{class Le extends ot{constructor({..._}={}){super(_,Oi)}fromBuffer(_){this.valueBlock.value=String.fromCharCode.apply(null,y._H.toUint8Array(_))}fromString(_){const A=_.length,W=this.valueBlock.valueHexView=new Uint8Array(A);for(let ae=0;ae<A;ae++)W[ae]=_.charCodeAt(ae);this.valueBlock.value=_}}return Le.NAME="SIMPLE STRING",Le})(),wi=(()=>{class Le extends Xn{fromBuffer(_){this.valueBlock.valueHexView=y._H.toUint8Array(_);try{this.valueBlock.value=y.U$.ToUtf8String(_)}catch(A){this.warnings.push(`Error during "decodeURIComponent": ${A}, using raw string`),this.valueBlock.value=y.U$.ToBinary(_)}}fromString(_){this.valueBlock.valueHexView=new Uint8Array(y.U$.FromUtf8String(_)),this.valueBlock.value=_}}return Le.NAME="Utf8StringValueBlock",Le})();class Hi extends wi{constructor(c={}){super(c),this.idBlock.tagClass=1,this.idBlock.tagNumber=12}}we.Utf8String=Hi,Hi.NAME="UTF8String";let ji=(()=>{class Le extends Xn{fromBuffer(_){this.valueBlock.value=y.U$.ToUtf16String(_),this.valueBlock.valueHexView=y._H.toUint8Array(_)}fromString(_){this.valueBlock.value=_,this.valueBlock.valueHexView=new Uint8Array(y.U$.FromUtf16String(_))}}return Le.NAME="BmpStringValueBlock",Le})();class qe extends ji{constructor({...c}={}){super(c),this.idBlock.tagClass=1,this.idBlock.tagNumber=30}}we.BmpString=qe,qe.NAME="BMPString";let At=(()=>{class Le extends Xn{fromBuffer(_){const A=ArrayBuffer.isView(_)?_.slice().buffer:_.slice(0),W=new Uint8Array(A);for(let ae=0;ae<W.length;ae+=4)W[ae]=W[ae+3],W[ae+1]=W[ae+2],W[ae+2]=0,W[ae+3]=0;this.valueBlock.value=String.fromCharCode.apply(null,new Uint32Array(A))}fromString(_){const A=_.length,W=this.valueBlock.valueHexView=new Uint8Array(4*A);for(let ae=0;ae<A;ae++){const ve=f(_.charCodeAt(ae),8),Ge=new Uint8Array(ve);if(Ge.length>4)continue;const I=4-Ge.length;for(let V=Ge.length-1;V>=0;V--)W[4*ae+V+I]=Ge[V]}this.valueBlock.value=_}}return Le.NAME="UniversalStringValueBlock",Le})();class zt extends At{constructor({...c}={}){super(c),this.idBlock.tagClass=1,this.idBlock.tagNumber=28}}we.UniversalString=zt,zt.NAME="UniversalString";class Yt extends Xn{constructor(c={}){super(c),this.idBlock.tagClass=1,this.idBlock.tagNumber=18}}we.NumericString=Yt,Yt.NAME="NumericString";class Zt extends Xn{constructor(c={}){super(c),this.idBlock.tagClass=1,this.idBlock.tagNumber=19}}we.PrintableString=Zt,Zt.NAME="PrintableString";class _e extends Xn{constructor(c={}){super(c),this.idBlock.tagClass=1,this.idBlock.tagNumber=20}}we.TeletexString=_e,_e.NAME="TeletexString";class ye extends Xn{constructor(c={}){super(c),this.idBlock.tagClass=1,this.idBlock.tagNumber=21}}we.VideotexString=ye,ye.NAME="VideotexString";class ze extends Xn{constructor(c={}){super(c),this.idBlock.tagClass=1,this.idBlock.tagNumber=22}}we.IA5String=ze,ze.NAME="IA5String";class vt extends Xn{constructor(c={}){super(c),this.idBlock.tagClass=1,this.idBlock.tagNumber=25}}we.GraphicString=vt,vt.NAME="GraphicString";class Vn extends Xn{constructor(c={}){super(c),this.idBlock.tagClass=1,this.idBlock.tagNumber=26}}we.VisibleString=Vn,Vn.NAME="VisibleString";class vi extends Xn{constructor(c={}){super(c),this.idBlock.tagClass=1,this.idBlock.tagNumber=27}}we.GeneralString=vi,vi.NAME="GeneralString";class Ui extends Xn{constructor(c={}){super(c),this.idBlock.tagClass=1,this.idBlock.tagNumber=29}}we.CharacterString=Ui,Ui.NAME="CharacterString";class Hn extends Vn{constructor({value:c,valueDate:_,...A}={}){if(super(A),this.year=0,this.month=0,this.day=0,this.hour=0,this.minute=0,this.second=0,c){this.fromString(c),this.valueBlock.valueHexView=new Uint8Array(c.length);for(let W=0;W<c.length;W++)this.valueBlock.valueHexView[W]=c.charCodeAt(W)}_&&(this.fromDate(_),this.valueBlock.valueHexView=new Uint8Array(this.toBuffer())),this.idBlock.tagClass=1,this.idBlock.tagNumber=23}fromBuffer(c){this.fromString(String.fromCharCode.apply(null,y._H.toUint8Array(c)))}toBuffer(){const c=this.toString(),_=new ArrayBuffer(c.length),A=new Uint8Array(_);for(let W=0;W<c.length;W++)A[W]=c.charCodeAt(W);return _}fromDate(c){this.year=c.getUTCFullYear(),this.month=c.getUTCMonth()+1,this.day=c.getUTCDate(),this.hour=c.getUTCHours(),this.minute=c.getUTCMinutes(),this.second=c.getUTCSeconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second))}fromString(c){const A=/(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})Z/gi.exec(c);if(null===A)return void(this.error="Wrong input string for conversion");const W=parseInt(A[1],10);this.year=W>=50?1900+W:2e3+W,this.month=parseInt(A[2],10),this.day=parseInt(A[3],10),this.hour=parseInt(A[4],10),this.minute=parseInt(A[5],10),this.second=parseInt(A[6],10)}toString(c="iso"){if("iso"===c){const _=new Array(7);return _[0]=k(this.year<2e3?this.year-1900:this.year-2e3,2),_[1]=k(this.month,2),_[2]=k(this.day,2),_[3]=k(this.hour,2),_[4]=k(this.minute,2),_[5]=k(this.second,2),_[6]="Z",_.join("")}return super.toString(c)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.toDate().toISOString()}`}toJSON(){return{...super.toJSON(),year:this.year,month:this.month,day:this.day,hour:this.hour,minute:this.minute,second:this.second}}}we.UTCTime=Hn,Hn.NAME="UTCTime";class ar extends Hn{constructor(c={}){var _;super(c),null!==(_=this.millisecond)&&void 0!==_||(this.millisecond=0),this.idBlock.tagClass=1,this.idBlock.tagNumber=24}fromDate(c){super.fromDate(c),this.millisecond=c.getUTCMilliseconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond))}fromString(c){let ve,_=!1,A="",W="",ae=0,Ge=0,I=0;if("Z"===c[c.length-1])A=c.substring(0,c.length-1),_=!0;else{const Q=new Number(c[c.length-1]);if(isNaN(Q.valueOf()))throw new Error("Wrong input string for conversion");A=c}if(_){if(-1!==A.indexOf("+"))throw new Error("Wrong input string for conversion");if(-1!==A.indexOf("-"))throw new Error("Wrong input string for conversion")}else{let Q=1,ge=A.indexOf("+"),$e="";if(-1===ge&&(ge=A.indexOf("-"),Q=-1),-1!==ge){if($e=A.substring(ge+1),A=A.substring(0,ge),2!==$e.length&&4!==$e.length)throw new Error("Wrong input string for conversion");let _t=parseInt($e.substring(0,2),10);if(isNaN(_t.valueOf()))throw new Error("Wrong input string for conversion");if(Ge=Q*_t,4===$e.length){if(_t=parseInt($e.substring(2,4),10),isNaN(_t.valueOf()))throw new Error("Wrong input string for conversion");I=Q*_t}}}let V=A.indexOf(".");if(-1===V&&(V=A.indexOf(",")),-1!==V){const Q=new Number(`0${A.substring(V)}`);if(isNaN(Q.valueOf()))throw new Error("Wrong input string for conversion");ae=Q.valueOf(),W=A.substring(0,V)}else W=A;switch(!0){case 8===W.length:if(ve=/(\d{4})(\d{2})(\d{2})/gi,-1!==V)throw new Error("Wrong input string for conversion");break;case 10===W.length:if(ve=/(\d{4})(\d{2})(\d{2})(\d{2})/gi,-1!==V){let Q=60*ae;this.minute=Math.floor(Q),Q=60*(Q-this.minute),this.second=Math.floor(Q),Q=1e3*(Q-this.second),this.millisecond=Math.floor(Q)}break;case 12===W.length:if(ve=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})/gi,-1!==V){let Q=60*ae;this.second=Math.floor(Q),Q=1e3*(Q-this.second),this.millisecond=Math.floor(Q)}break;case 14===W.length:ve=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/gi,-1!==V&&(this.millisecond=Math.floor(1e3*ae));break;default:throw new Error("Wrong input string for conversion")}const B=ve.exec(W);if(null===B)throw new Error("Wrong input string for conversion");for(let Q=1;Q<B.length;Q++)switch(Q){case 1:this.year=parseInt(B[Q],10);break;case 2:this.month=parseInt(B[Q],10);break;case 3:this.day=parseInt(B[Q],10);break;case 4:this.hour=parseInt(B[Q],10)+Ge;break;case 5:this.minute=parseInt(B[Q],10)+I;break;case 6:this.second=parseInt(B[Q],10);break;default:throw new Error("Wrong input string for conversion")}if(!1===_){const Q=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond);this.year=Q.getUTCFullYear(),this.month=Q.getUTCMonth(),this.day=Q.getUTCDay(),this.hour=Q.getUTCHours(),this.minute=Q.getUTCMinutes(),this.second=Q.getUTCSeconds(),this.millisecond=Q.getUTCMilliseconds()}}toString(c="iso"){if("iso"===c){const _=[];return _.push(k(this.year,4)),_.push(k(this.month,2)),_.push(k(this.day,2)),_.push(k(this.hour,2)),_.push(k(this.minute,2)),_.push(k(this.second,2)),0!==this.millisecond&&(_.push("."),_.push(k(this.millisecond,3))),_.push("Z"),_.join("")}return super.toString(c)}toJSON(){return{...super.toJSON(),millisecond:this.millisecond}}}we.GeneralizedTime=ar,ar.NAME="GeneralizedTime";class kr extends Hi{constructor(c={}){super(c),this.idBlock.tagClass=1,this.idBlock.tagNumber=31}}we.DATE=kr,kr.NAME="DATE";class ys extends Hi{constructor(c={}){super(c),this.idBlock.tagClass=1,this.idBlock.tagNumber=32}}we.TimeOfDay=ys,ys.NAME="TimeOfDay";class yi extends Hi{constructor(c={}){super(c),this.idBlock.tagClass=1,this.idBlock.tagNumber=33}}we.DateTime=yi,yi.NAME="DateTime";class _s extends Hi{constructor(c={}){super(c),this.idBlock.tagClass=1,this.idBlock.tagNumber=34}}we.Duration=_s,_s.NAME="Duration";class Ls extends Hi{constructor(c={}){super(c),this.idBlock.tagClass=1,this.idBlock.tagNumber=14}}we.TIME=Ls,Ls.NAME="TIME";class _r{constructor({name:c="",optional:_=!1}={}){this.name=c,this.optional=_}}class br extends _r{constructor({value:c=[],..._}={}){super(_),this.value=c}}class Mi extends _r{constructor({value:c=new _r,local:_=!1,...A}={}){super(A),this.value=c,this.local=_}}class Zs{constructor({data:c=Ye}={}){this.dataView=y._H.toUint8Array(c)}get data(){return this.dataView.slice().buffer}set data(c){this.dataView=y._H.toUint8Array(c)}fromBER(c,_,A){const W=_+A;return this.dataView=y._H.toUint8Array(c).subarray(_,W),W}toBER(c){return this.dataView.slice().buffer}}function li(Le,c,_){if(_ instanceof br){for(let ae=0;ae<_.value.length;ae++)if(li(Le,c,_.value[ae]).verified)return{verified:!0,result:Le};{const ae={verified:!1,result:{error:"Wrong values for Choice type"}};return _.hasOwnProperty(Ne)&&(ae.name=_.name),ae}}if(_ instanceof _r)return _.hasOwnProperty(Ne)&&(Le[_.name]=c),{verified:!0,result:Le};if(!(Le instanceof Object))return{verified:!1,result:{error:"Wrong root object"}};if(!(c instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 data"}};if(!(_ instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!("idBlock"in _))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!("fromBER"in _.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!("toBER"in _.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};const A=_.idBlock.toBER(!1);if(0===A.byteLength)return{verified:!1,result:{error:"Error encoding idBlock for ASN.1 schema"}};if(-1===_.idBlock.fromBER(A,0,A.byteLength))return{verified:!1,result:{error:"Error decoding idBlock for ASN.1 schema"}};if(!1===_.idBlock.hasOwnProperty("tagClass"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(_.idBlock.tagClass!==c.idBlock.tagClass)return{verified:!1,result:Le};if(!1===_.idBlock.hasOwnProperty("tagNumber"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(_.idBlock.tagNumber!==c.idBlock.tagNumber)return{verified:!1,result:Le};if(!1===_.idBlock.hasOwnProperty("isConstructed"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(_.idBlock.isConstructed!==c.idBlock.isConstructed)return{verified:!1,result:Le};if(!("isHexOnly"in _.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(_.idBlock.isHexOnly!==c.idBlock.isHexOnly)return{verified:!1,result:Le};if(_.idBlock.isHexOnly){if(!(De in _.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};const ae=_.idBlock.valueHexView,ve=c.idBlock.valueHexView;if(ae.length!==ve.length)return{verified:!1,result:Le};for(let Ge=0;Ge<ae.length;Ge++)if(ae[Ge]!==ve[1])return{verified:!1,result:Le}}if(_.name&&(_.name=_.name.replace(/^\s+|\s+$/g,""),_.name&&(Le[_.name]=c)),_ instanceof we.Constructed){let ae=0,ve={verified:!1,result:{error:"Unknown error"}},Ge=_.valueBlock.value.length;if(Ge>0&&_.valueBlock.value[0]instanceof Mi&&(Ge=c.valueBlock.value.length),0===Ge)return{verified:!0,result:Le};if(0===c.valueBlock.value.length&&0!==_.valueBlock.value.length){let I=!0;for(let V=0;V<_.valueBlock.value.length;V++)I=I&&(_.valueBlock.value[V].optional||!1);return I?{verified:!0,result:Le}:(_.name&&(_.name=_.name.replace(/^\s+|\s+$/g,""),_.name&&delete Le[_.name]),Le.error="Inconsistent object length",{verified:!1,result:Le})}for(let I=0;I<Ge;I++)if(I-ae>=c.valueBlock.value.length){if(!1===_.valueBlock.value[I].optional){const V={verified:!1,result:Le};return Le.error="Inconsistent length between ASN.1 data and schema",_.name&&(_.name=_.name.replace(/^\s+|\s+$/g,""),_.name&&(delete Le[_.name],V.name=_.name)),V}}else if(_.valueBlock.value[0]instanceof Mi){if(ve=li(Le,c.valueBlock.value[I],_.valueBlock.value[0].value),!1===ve.verified){if(!_.valueBlock.value[0].optional)return _.name&&(_.name=_.name.replace(/^\s+|\s+$/g,""),_.name&&delete Le[_.name]),ve;ae++}if(Ne in _.valueBlock.value[0]&&_.valueBlock.value[0].name.length>0){let V={};V="local"in _.valueBlock.value[0]&&_.valueBlock.value[0].local?c:Le,typeof V[_.valueBlock.value[0].name]>"u"&&(V[_.valueBlock.value[0].name]=[]),V[_.valueBlock.value[0].name].push(c.valueBlock.value[I])}}else if(ve=li(Le,c.valueBlock.value[I-ae],_.valueBlock.value[I]),!1===ve.verified){if(!_.valueBlock.value[I].optional)return _.name&&(_.name=_.name.replace(/^\s+|\s+$/g,""),_.name&&delete Le[_.name]),ve;ae++}if(!1===ve.verified){const I={verified:!1,result:Le};return _.name&&(_.name=_.name.replace(/^\s+|\s+$/g,""),_.name&&(delete Le[_.name],I.name=_.name)),I}return{verified:!0,result:Le}}if(_.primitiveSchema&&De in c.valueBlock){const ae=sn(c.valueBlock.valueHexView);if(-1===ae.offset){const ve={verified:!1,result:ae.result};return _.name&&(_.name=_.name.replace(/^\s+|\s+$/g,""),_.name&&(delete Le[_.name],ve.name=_.name)),ve}return li(Le,ae.result,_.primitiveSchema)}return{verified:!0,result:Le}}class $n{constructor(c={}){this.algorithmId=w(c,"algorithmId",$n.defaultValues("algorithmId")),"algorithmParams"in c&&(this.algorithmParams=w(c,"algorithmParams",$n.defaultValues("algorithmParams"))),"schema"in c&&this.fromSchema(c.schema)}static defaultValues(c){switch(c){case"algorithmId":return"";case"algorithmParams":return new _r;default:throw new Error(`Invalid member name for AlgorithmIdentifier class: ${c}`)}}static compareWithDefault(c,_){switch(c){case"algorithmId":return""===_;case"algorithmParams":return _ instanceof _r;default:throw new Error(`Invalid member name for AlgorithmIdentifier class: ${c}`)}}static schema(c={}){const _=w(c,"names",{});return new mn({name:_.blockName||"",optional:_.optional||!1,value:[new $t({name:_.algorithmIdentifier||""}),new _r({name:_.algorithmParams||"",optional:!0})]})}fromSchema(c){L(c,["algorithm","params"]);const _=li(c,c,$n.schema({names:{algorithmIdentifier:"algorithm",algorithmParams:"params"}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for AlgorithmIdentifier");this.algorithmId=_.result.algorithm.valueBlock.toString(),"params"in _.result&&(this.algorithmParams=_.result.params)}toSchema(){const c=[];return c.push(new $t({value:this.algorithmId})),"algorithmParams"in this&&!(this.algorithmParams instanceof _r)&&c.push(this.algorithmParams),new mn({value:c})}toJSON(){const c={algorithmId:this.algorithmId};return"algorithmParams"in this&&!(this.algorithmParams instanceof _r)&&(c.algorithmParams=this.algorithmParams.toJSON()),c}isEqual(c){return c instanceof $n&&this.algorithmId===c.algorithmId&&("algorithmParams"in this?"algorithmParams"in c&&JSON.stringify(this.algorithmParams)===JSON.stringify(c.algorithmParams):!("algorithmParams"in c))}}let qr=(()=>{class Le{static register(_,A,W){this.namedCurves[_.toLowerCase()]=this.namedCurves[A]={name:_,id:A,size:W}}static find(_){return this.namedCurves[_.toLowerCase()]||null}}return Le.namedCurves={},Le})();qr.register("P-256","1.2.840.10045.3.1.7",32),qr.register("P-384","1.3.132.0.34",48),qr.register("P-521","1.3.132.0.35",66),qr.register("brainpoolP256r1","1.3.36.3.3.2.8.1.1.7",32),qr.register("brainpoolP384r1","1.3.36.3.3.2.8.1.1.11",48),qr.register("brainpoolP512r1","1.3.36.3.3.2.8.1.1.13",64);class mr{constructor(c={}){this.x=w(c,"x",mr.defaultValues("x")),this.y=w(c,"y",mr.defaultValues("y")),this.namedCurve=w(c,"namedCurve",mr.defaultValues("namedCurve")),"schema"in c&&this.fromSchema(c.schema),"json"in c&&this.fromJSON(c.json)}static defaultValues(c){switch(c){case"x":case"y":return new ArrayBuffer(0);case"namedCurve":return"";default:throw new Error(`Invalid member name for ECCPublicKey class: ${c}`)}}static compareWithDefault(c,_){switch(c){case"x":case"y":return M(_,mr.defaultValues(c));case"namedCurve":return""===_;default:throw new Error(`Invalid member name for ECCPublicKey class: ${c}`)}}static schema(c={}){return new Zs}fromSchema(c){if(!(c instanceof ArrayBuffer))throw new Error("Object's schema was not verified against input data for ECPublicKey");if(4!==new Uint8Array(c)[0])throw new Error("Object's schema was not verified against input data for ECPublicKey");const A=qr.find(this.namedCurve);if(!A)throw new Error(`Incorrect curve OID: ${this.namedCurve}`);const W=A.size;if(c.byteLength!==2*W+1)throw new Error("Object's schema was not verified against input data for ECPublicKey");this.x=c.slice(1,W+1),this.y=c.slice(1+W,2*W+1)}toSchema(){return new Zs({data:T(new Uint8Array([4]).buffer,this.x,this.y)})}toJSON(){const c=qr.find(this.namedCurve);return{crv:c?c.name:this.namedCurve,x:R(U(this.x),!0,!0,!1),y:R(U(this.y),!0,!0,!1)}}fromJSON(c){let _=0;if(!("crv"in c))throw new Error('Absent mandatory parameter "crv"');{const A=qr.find(c.crv);A&&(this.namedCurve=A.id,_=A.size)}if(!("x"in c))throw new Error('Absent mandatory parameter "x"');{const A=$(j(c.x,!0));if(A.byteLength<_){this.x=new ArrayBuffer(_);const W=new Uint8Array(this.x),ae=new Uint8Array(A);W.set(ae,1)}else this.x=A.slice(0,_)}if(!("y"in c))throw new Error('Absent mandatory parameter "y"');{const A=$(j(c.y,!0));if(A.byteLength<_){this.y=new ArrayBuffer(_);const W=new Uint8Array(this.y),ae=new Uint8Array(A);W.set(ae,1)}else this.y=A.slice(0,_)}}}class Ir{constructor(c={}){this.modulus=w(c,"modulus",Ir.defaultValues("modulus")),this.publicExponent=w(c,"publicExponent",Ir.defaultValues("publicExponent")),"schema"in c&&this.fromSchema(c.schema),"json"in c&&this.fromJSON(c.json)}static defaultValues(c){switch(c){case"modulus":case"publicExponent":return new fn;default:throw new Error(`Invalid member name for RSAPublicKey class: ${c}`)}}static schema(c={}){const _=w(c,"names",{});return new mn({name:_.blockName||"",value:[new fn({name:_.modulus||""}),new fn({name:_.publicExponent||""})]})}fromSchema(c){L(c,["modulus","publicExponent"]);const _=li(c,c,Ir.schema({names:{modulus:"modulus",publicExponent:"publicExponent"}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for RSAPublicKey");this.modulus=_.result.modulus.convertFromDER(256),this.publicExponent=_.result.publicExponent}toSchema(){return new mn({value:[this.modulus.convertToDER(),this.publicExponent]})}toJSON(){return{n:R(U(this.modulus.valueBlock.valueHex),!0,!0,!0),e:R(U(this.publicExponent.valueBlock.valueHex),!0,!0,!0)}}fromJSON(c){if(!("n"in c))throw new Error('Absent mandatory parameter "n"');{const _=$(j(c.n,!0));this.modulus=new fn({valueHex:_.slice(0,Math.pow(2,se(_.byteLength)))})}if(!("e"in c))throw new Error('Absent mandatory parameter "e"');this.publicExponent=new fn({valueHex:$(j(c.e,!0)).slice(0,3)})}}class Dr{constructor(c={}){this.algorithm=w(c,"algorithm",Dr.defaultValues("algorithm")),this.subjectPublicKey=w(c,"subjectPublicKey",Dr.defaultValues("subjectPublicKey")),"parsedKey"in c&&(this.parsedKey=w(c,"parsedKey",Dr.defaultValues("parsedKey"))),"schema"in c&&this.fromSchema(c.schema),"json"in c&&this.fromJSON(c.json)}static defaultValues(c){switch(c){case"algorithm":return new $n;case"subjectPublicKey":return new lt;default:throw new Error(`Invalid member name for PublicKeyInfo class: ${c}`)}}static schema(c={}){const _=w(c,"names",{});return new mn({name:_.blockName||"",value:[$n.schema(_.algorithm||{}),new lt({name:_.subjectPublicKey||""})]})}fromSchema(c){L(c,["algorithm","subjectPublicKey"]);const _=li(c,c,Dr.schema({names:{algorithm:{names:{blockName:"algorithm"}},subjectPublicKey:"subjectPublicKey"}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for PublicKeyInfo");switch(this.algorithm=new $n({schema:_.result.algorithm}),this.subjectPublicKey=_.result.subjectPublicKey,this.algorithm.algorithmId){case"1.2.840.10045.2.1":if("algorithmParams"in this.algorithm&&this.algorithm.algorithmParams.constructor.blockName()===$t.blockName())try{this.parsedKey=new mr({namedCurve:this.algorithm.algorithmParams.valueBlock.toString(),schema:this.subjectPublicKey.valueBlock.valueHex})}catch{}break;case"1.2.840.113549.1.1.1":{const A=Ft(this.subjectPublicKey.valueBlock.valueHex);if(-1!==A.offset)try{this.parsedKey=new Ir({schema:A.result})}catch{}}}}toSchema(){return new mn({value:[this.algorithm.toSchema(),this.subjectPublicKey]})}toJSON(){if(!("parsedKey"in this))return{algorithm:this.algorithm.toJSON(),subjectPublicKey:this.subjectPublicKey.toJSON()};const c={};switch(this.algorithm.algorithmId){case"1.2.840.10045.2.1":c.kty="EC";break;case"1.2.840.113549.1.1.1":c.kty="RSA"}const _=this.parsedKey.toJSON();for(const A of Object.keys(_))c[A]=_[A];return c}fromJSON(c){if("kty"in c){switch(c.kty.toUpperCase()){case"EC":this.parsedKey=new mr({json:c}),this.algorithm=new $n({algorithmId:"1.2.840.10045.2.1",algorithmParams:new $t({value:this.parsedKey.namedCurve})});break;case"RSA":this.parsedKey=new Ir({json:c}),this.algorithm=new $n({algorithmId:"1.2.840.113549.1.1.1",algorithmParams:new Bt});break;default:throw new Error(`Invalid value for "kty" parameter: ${c.kty}`)}this.subjectPublicKey=new lt({valueHex:this.parsedKey.toSchema().toBER(!1)})}}importKey(c){let _=Promise.resolve();const A=this;if(typeof c>"u")return Promise.reject("Need to provide publicKey input parameter");const W=cs();return typeof W>"u"?Promise.reject("Unable to create WebCrypto object"):(_=_.then(()=>W.exportKey("spki",c)),_=_.then(ae=>{const ve=Ft(ae);try{A.fromSchema(ve.result)}catch{return Promise.reject("Error during initializing object from schema")}},ae=>Promise.reject(`Error during exporting public key: ${ae}`)),_)}}class Nr{constructor(c={}){this.type=w(c,"type",Nr.defaultValues("type")),this.values=w(c,"values",Nr.defaultValues("values")),"schema"in c&&this.fromSchema(c.schema)}static defaultValues(c){switch(c){case"type":return"";case"values":return[];default:throw new Error(`Invalid member name for Attribute class: ${c}`)}}static compareWithDefault(c,_){switch(c){case"type":return""===_;case"values":return 0===_.length;default:throw new Error(`Invalid member name for Attribute class: ${c}`)}}static schema(c={}){const _=w(c,"names",{});return new mn({name:_.blockName||"",value:[new $t({name:_.type||""}),new pi({name:_.setName||"",value:[new Mi({name:_.values||"",value:new _r})]})]})}fromSchema(c){L(c,["type","values"]);const _=li(c,c,Nr.schema({names:{type:"type",values:"values"}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for Attribute");this.type=_.result.type.valueBlock.toString(),this.values=_.result.values}toSchema(){return new mn({value:[new $t({value:this.type}),new pi({value:this.values})]})}toJSON(){return{type:this.type,values:Array.from(this.values,c=>c.toJSON())}}}class $r{constructor(c={}){this.version=w(c,"version",$r.defaultValues("version")),this.privateKey=w(c,"privateKey",$r.defaultValues("privateKey")),"namedCurve"in c&&(this.namedCurve=w(c,"namedCurve",$r.defaultValues("namedCurve"))),"publicKey"in c&&(this.publicKey=w(c,"publicKey",$r.defaultValues("publicKey"))),"schema"in c&&this.fromSchema(c.schema),"json"in c&&this.fromJSON(c.json)}static defaultValues(c){switch(c){case"version":return 1;case"privateKey":return new It;case"namedCurve":return"";case"publicKey":return new mr;default:throw new Error(`Invalid member name for ECCPrivateKey class: ${c}`)}}static compareWithDefault(c,_){switch(c){case"version":return _===$r.defaultValues(c);case"privateKey":return _.isEqual($r.defaultValues(c));case"namedCurve":return""===_;case"publicKey":return mr.compareWithDefault("namedCurve",_.namedCurve)&&mr.compareWithDefault("x",_.x)&&mr.compareWithDefault("y",_.y);default:throw new Error(`Invalid member name for ECCPrivateKey class: ${c}`)}}static schema(c={}){const _=w(c,"names",{});return new mn({name:_.blockName||"",value:[new fn({name:_.version||""}),new It({name:_.privateKey||""}),new X({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new $t({name:_.namedCurve||""})]}),new X({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new lt({name:_.publicKey||""})]})]})}fromSchema(c){L(c,["version","privateKey","namedCurve","publicKey"]);const _=li(c,c,$r.schema({names:{version:"version",privateKey:"privateKey",namedCurve:"namedCurve",publicKey:"publicKey"}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for ECPrivateKey");if(this.version=_.result.version.valueBlock.valueDec,this.privateKey=_.result.privateKey,"namedCurve"in _.result&&(this.namedCurve=_.result.namedCurve.valueBlock.toString()),"publicKey"in _.result){const A={schema:_.result.publicKey.valueBlock.valueHex};"namedCurve"in this&&(A.namedCurve=this.namedCurve),this.publicKey=new mr(A)}}toSchema(){const c=[new fn({value:this.version}),this.privateKey];return"namedCurve"in this&&c.push(new X({idBlock:{tagClass:3,tagNumber:0},value:[new $t({value:this.namedCurve})]})),"publicKey"in this&&c.push(new X({idBlock:{tagClass:3,tagNumber:1},value:[new lt({valueHex:this.publicKey.toSchema().toBER(!1)})]})),new mn({value:c})}toJSON(){if(!("namedCurve"in this)||$r.compareWithDefault("namedCurve",this.namedCurve))throw new Error('Not enough information for making JSON: absent "namedCurve" value');let c="";switch(this.namedCurve){case"1.2.840.10045.3.1.7":c="P-256";break;case"1.3.132.0.34":c="P-384";break;case"1.3.132.0.35":c="P-521"}const _={crv:c,d:R(U(this.privateKey.valueBlock.valueHex),!0,!0,!1)};if("publicKey"in this){const A=this.publicKey.toJSON();_.x=A.x,_.y=A.y}return _}fromJSON(c){let _=0;if(!("crv"in c))throw new Error('Absent mandatory parameter "crv"');switch(c.crv.toUpperCase()){case"P-256":this.namedCurve="1.2.840.10045.3.1.7",_=32;break;case"P-384":this.namedCurve="1.3.132.0.34",_=48;break;case"P-521":this.namedCurve="1.3.132.0.35",_=66}if(!("d"in c))throw new Error('Absent mandatory parameter "d"');{const A=$(j(c.d,!0));if(A.byteLength<_){const W=new ArrayBuffer(_),ae=new Uint8Array(W),ve=new Uint8Array(A);ae.set(ve,1),this.privateKey=new It({valueHex:W})}else this.privateKey=new It({valueHex:A.slice(0,_)})}"x"in c&&"y"in c&&(this.publicKey=new mr({json:c}))}}class er{constructor(c={}){this.prime=w(c,"prime",er.defaultValues("prime")),this.exponent=w(c,"exponent",er.defaultValues("exponent")),this.coefficient=w(c,"coefficient",er.defaultValues("coefficient")),"schema"in c&&this.fromSchema(c.schema),"json"in c&&this.fromJSON(c.json)}static defaultValues(c){switch(c){case"prime":case"exponent":case"coefficient":return new fn;default:throw new Error(`Invalid member name for OtherPrimeInfo class: ${c}`)}}static schema(c={}){const _=w(c,"names",{});return new mn({name:_.blockName||"",value:[new fn({name:_.prime||""}),new fn({name:_.exponent||""}),new fn({name:_.coefficient||""})]})}fromSchema(c){L(c,["prime","exponent","coefficient"]);const _=li(c,c,er.schema({names:{prime:"prime",exponent:"exponent",coefficient:"coefficient"}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for OtherPrimeInfo");this.prime=_.result.prime.convertFromDER(),this.exponent=_.result.exponent.convertFromDER(),this.coefficient=_.result.coefficient.convertFromDER()}toSchema(){return new mn({value:[this.prime.convertToDER(),this.exponent.convertToDER(),this.coefficient.convertToDER()]})}toJSON(){return{r:R(U(this.prime.valueBlock.valueHex),!0,!0),d:R(U(this.exponent.valueBlock.valueHex),!0,!0),t:R(U(this.coefficient.valueBlock.valueHex),!0,!0)}}fromJSON(c){if(!("r"in c))throw new Error('Absent mandatory parameter "r"');if(this.prime=new fn({valueHex:$(j(c.r,!0))}),!("d"in c))throw new Error('Absent mandatory parameter "d"');if(this.exponent=new fn({valueHex:$(j(c.d,!0))}),!("t"in c))throw new Error('Absent mandatory parameter "t"');this.coefficient=new fn({valueHex:$(j(c.t,!0))})}}class tr{constructor(c={}){this.version=w(c,"version",tr.defaultValues("version")),this.modulus=w(c,"modulus",tr.defaultValues("modulus")),this.publicExponent=w(c,"publicExponent",tr.defaultValues("publicExponent")),this.privateExponent=w(c,"privateExponent",tr.defaultValues("privateExponent")),this.prime1=w(c,"prime1",tr.defaultValues("prime1")),this.prime2=w(c,"prime2",tr.defaultValues("prime2")),this.exponent1=w(c,"exponent1",tr.defaultValues("exponent1")),this.exponent2=w(c,"exponent2",tr.defaultValues("exponent2")),this.coefficient=w(c,"coefficient",tr.defaultValues("coefficient")),"otherPrimeInfos"in c&&(this.otherPrimeInfos=w(c,"otherPrimeInfos",tr.defaultValues("otherPrimeInfos"))),"schema"in c&&this.fromSchema(c.schema),"json"in c&&this.fromJSON(c.json)}static defaultValues(c){switch(c){case"version":return 0;case"modulus":case"publicExponent":case"privateExponent":case"prime1":case"prime2":case"exponent1":case"exponent2":case"coefficient":return new fn;case"otherPrimeInfos":return[];default:throw new Error(`Invalid member name for RSAPrivateKey class: ${c}`)}}static schema(c={}){const _=w(c,"names",{});return new mn({name:_.blockName||"",value:[new fn({name:_.version||""}),new fn({name:_.modulus||""}),new fn({name:_.publicExponent||""}),new fn({name:_.privateExponent||""}),new fn({name:_.prime1||""}),new fn({name:_.prime2||""}),new fn({name:_.exponent1||""}),new fn({name:_.exponent2||""}),new fn({name:_.coefficient||""}),new mn({optional:!0,value:[new Mi({name:_.otherPrimeInfosName||"",value:er.schema(_.otherPrimeInfo||{})})]})]})}fromSchema(c){L(c,["version","modulus","publicExponent","privateExponent","prime1","prime2","exponent1","exponent2","coefficient","otherPrimeInfos"]);const _=li(c,c,tr.schema({names:{version:"version",modulus:"modulus",publicExponent:"publicExponent",privateExponent:"privateExponent",prime1:"prime1",prime2:"prime2",exponent1:"exponent1",exponent2:"exponent2",coefficient:"coefficient",otherPrimeInfo:{names:{blockName:"otherPrimeInfos"}}}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for RSAPrivateKey");this.version=_.result.version.valueBlock.valueDec,this.modulus=_.result.modulus.convertFromDER(256),this.publicExponent=_.result.publicExponent,this.privateExponent=_.result.privateExponent.convertFromDER(256),this.prime1=_.result.prime1.convertFromDER(128),this.prime2=_.result.prime2.convertFromDER(128),this.exponent1=_.result.exponent1.convertFromDER(128),this.exponent2=_.result.exponent2.convertFromDER(128),this.coefficient=_.result.coefficient.convertFromDER(128),"otherPrimeInfos"in _.result&&(this.otherPrimeInfos=Array.from(_.result.otherPrimeInfos,A=>new er({schema:A})))}toSchema(){const c=[];return c.push(new fn({value:this.version})),c.push(this.modulus.convertToDER()),c.push(this.publicExponent),c.push(this.privateExponent.convertToDER()),c.push(this.prime1.convertToDER()),c.push(this.prime2.convertToDER()),c.push(this.exponent1.convertToDER()),c.push(this.exponent2.convertToDER()),c.push(this.coefficient.convertToDER()),"otherPrimeInfos"in this&&c.push(new mn({value:Array.from(this.otherPrimeInfos,_=>_.toSchema())})),new mn({value:c})}toJSON(){const c={n:R(U(this.modulus.valueBlock.valueHex),!0,!0,!0),e:R(U(this.publicExponent.valueBlock.valueHex),!0,!0,!0),d:R(U(this.privateExponent.valueBlock.valueHex),!0,!0,!0),p:R(U(this.prime1.valueBlock.valueHex),!0,!0,!0),q:R(U(this.prime2.valueBlock.valueHex),!0,!0,!0),dp:R(U(this.exponent1.valueBlock.valueHex),!0,!0,!0),dq:R(U(this.exponent2.valueBlock.valueHex),!0,!0,!0),qi:R(U(this.coefficient.valueBlock.valueHex),!0,!0,!0)};return"otherPrimeInfos"in this&&(c.oth=Array.from(this.otherPrimeInfos,_=>_.toJSON())),c}fromJSON(c){if(!("n"in c))throw new Error('Absent mandatory parameter "n"');if(this.modulus=new fn({valueHex:$(j(c.n,!0,!0))}),!("e"in c))throw new Error('Absent mandatory parameter "e"');if(this.publicExponent=new fn({valueHex:$(j(c.e,!0,!0))}),!("d"in c))throw new Error('Absent mandatory parameter "d"');if(this.privateExponent=new fn({valueHex:$(j(c.d,!0,!0))}),!("p"in c))throw new Error('Absent mandatory parameter "p"');if(this.prime1=new fn({valueHex:$(j(c.p,!0,!0))}),!("q"in c))throw new Error('Absent mandatory parameter "q"');if(this.prime2=new fn({valueHex:$(j(c.q,!0,!0))}),!("dp"in c))throw new Error('Absent mandatory parameter "dp"');if(this.exponent1=new fn({valueHex:$(j(c.dp,!0,!0))}),!("dq"in c))throw new Error('Absent mandatory parameter "dq"');if(this.exponent2=new fn({valueHex:$(j(c.dq,!0,!0))}),!("qi"in c))throw new Error('Absent mandatory parameter "qi"');this.coefficient=new fn({valueHex:$(j(c.qi,!0,!0))}),"oth"in c&&(this.otherPrimeInfos=Array.from(c.oth,_=>new er({json:_})))}}class Wn{constructor(c={}){this.version=w(c,"version",Wn.defaultValues("version")),this.privateKeyAlgorithm=w(c,"privateKeyAlgorithm",Wn.defaultValues("privateKeyAlgorithm")),this.privateKey=w(c,"privateKey",Wn.defaultValues("privateKey")),"attributes"in c&&(this.attributes=w(c,"attributes",Wn.defaultValues("attributes"))),"parsedKey"in c&&(this.parsedKey=w(c,"parsedKey",Wn.defaultValues("parsedKey"))),"schema"in c&&this.fromSchema(c.schema),"json"in c&&this.fromJSON(c.json)}static defaultValues(c){switch(c){case"version":return 0;case"privateKeyAlgorithm":return new $n;case"privateKey":return new It;case"attributes":return[];case"parsedKey":return{};default:throw new Error(`Invalid member name for PrivateKeyInfo class: ${c}`)}}static schema(c={}){const _=w(c,"names",{});return new mn({name:_.blockName||"",value:[new fn({name:_.version||""}),$n.schema(_.privateKeyAlgorithm||{}),new It({name:_.privateKey||""}),new X({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new Mi({name:_.attributes||"",value:Nr.schema()})]})]})}fromSchema(c){L(c,["version","privateKeyAlgorithm","privateKey","attributes"]);const _=li(c,c,Wn.schema({names:{version:"version",privateKeyAlgorithm:{names:{blockName:"privateKeyAlgorithm"}},privateKey:"privateKey",attributes:"attributes"}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for PrivateKeyInfo");switch(this.version=_.result.version.valueBlock.valueDec,this.privateKeyAlgorithm=new $n({schema:_.result.privateKeyAlgorithm}),this.privateKey=_.result.privateKey,"attributes"in _.result&&(this.attributes=Array.from(_.result.attributes,A=>new Nr({schema:A}))),this.privateKeyAlgorithm.algorithmId){case"1.2.840.113549.1.1.1":{const A=Ft(this.privateKey.valueBlock.valueHex);-1!==A.offset&&(this.parsedKey=new tr({schema:A.result}))}break;case"1.2.840.10045.2.1":if("algorithmParams"in this.privateKeyAlgorithm&&this.privateKeyAlgorithm.algorithmParams instanceof $t){const A=Ft(this.privateKey.valueBlock.valueHex);-1!==A.offset&&(this.parsedKey=new $r({namedCurve:this.privateKeyAlgorithm.algorithmParams.valueBlock.toString(),schema:A.result}))}}}toSchema(){const c=[new fn({value:this.version}),this.privateKeyAlgorithm.toSchema(),this.privateKey];return"attributes"in this&&c.push(new X({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.attributes,_=>_.toSchema())})),new mn({value:c})}toJSON(){if(!("parsedKey"in this)){const A={version:this.version,privateKeyAlgorithm:this.privateKeyAlgorithm.toJSON(),privateKey:this.privateKey.toJSON()};return"attributes"in this&&(A.attributes=Array.from(this.attributes,W=>W.toJSON())),A}const c={};switch(this.privateKeyAlgorithm.algorithmId){case"1.2.840.10045.2.1":c.kty="EC";break;case"1.2.840.113549.1.1.1":c.kty="RSA"}const _=this.parsedKey.toJSON();for(const A of Object.keys(_))c[A]=_[A];return c}fromJSON(c){if("kty"in c){switch(c.kty.toUpperCase()){case"EC":this.parsedKey=new $r({json:c}),this.privateKeyAlgorithm=new $n({algorithmId:"1.2.840.10045.2.1",algorithmParams:new $t({value:this.parsedKey.namedCurve})});break;case"RSA":this.parsedKey=new tr({json:c}),this.privateKeyAlgorithm=new $n({algorithmId:"1.2.840.113549.1.1.1",algorithmParams:new Bt});break;default:throw new Error(`Invalid value for "kty" parameter: ${c.kty}`)}this.privateKey=new It({valueHex:this.parsedKey.toSchema().toBER(!1)})}}}class Kr{constructor(c={}){if(this.contentType=w(c,"contentType",Kr.defaultValues("contentType")),this.contentEncryptionAlgorithm=w(c,"contentEncryptionAlgorithm",Kr.defaultValues("contentEncryptionAlgorithm")),"encryptedContent"in c&&(this.encryptedContent=c.encryptedContent,1===this.encryptedContent.idBlock.tagClass&&4===this.encryptedContent.idBlock.tagNumber&&!1===this.encryptedContent.idBlock.isConstructed)){const _=new It({idBlock:{isConstructed:!0},isConstructed:!0});let A=0,W=this.encryptedContent.valueBlock.valueHex.byteLength;for(;W>0;){const ae=new Uint8Array(this.encryptedContent.valueBlock.valueHex,A,A+1024>this.encryptedContent.valueBlock.valueHex.byteLength?this.encryptedContent.valueBlock.valueHex.byteLength-A:1024),ve=new ArrayBuffer(ae.length),Ge=new Uint8Array(ve);for(let I=0;I<Ge.length;I++)Ge[I]=ae[I];_.valueBlock.value.push(new It({valueHex:ve})),W-=ae.length,A+=ae.length}this.encryptedContent=_}"schema"in c&&this.fromSchema(c.schema)}static defaultValues(c){switch(c){case"contentType":return"";case"contentEncryptionAlgorithm":return new $n;case"encryptedContent":return new It;default:throw new Error(`Invalid member name for EncryptedContentInfo class: ${c}`)}}static compareWithDefault(c,_){switch(c){case"contentType":return""===_;case"contentEncryptionAlgorithm":return""===_.algorithmId&&!("algorithmParams"in _);case"encryptedContent":return _.isEqual(Kr.defaultValues(c));default:throw new Error(`Invalid member name for EncryptedContentInfo class: ${c}`)}}static schema(c={}){const _=w(c,"names",{});return new mn({name:_.blockName||"",value:[new $t({name:_.contentType||""}),$n.schema(_.contentEncryptionAlgorithm||{}),new br({value:[new X({name:_.encryptedContent||"",idBlock:{tagClass:3,tagNumber:0},value:[new Mi({value:new It})]}),new it({name:_.encryptedContent||"",idBlock:{tagClass:3,tagNumber:0}})]})]})}fromSchema(c){L(c,["contentType","contentEncryptionAlgorithm","encryptedContent"]);const _=li(c,c,Kr.schema({names:{contentType:"contentType",contentEncryptionAlgorithm:{names:{blockName:"contentEncryptionAlgorithm"}},encryptedContent:"encryptedContent"}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for EncryptedContentInfo");this.contentType=_.result.contentType.valueBlock.toString(),this.contentEncryptionAlgorithm=new $n({schema:_.result.contentEncryptionAlgorithm}),"encryptedContent"in _.result&&(this.encryptedContent=_.result.encryptedContent,this.encryptedContent.idBlock.tagClass=1,this.encryptedContent.idBlock.tagNumber=4)}toSchema(){const c={isIndefiniteForm:!1},_=[];if(_.push(new $t({value:this.contentType})),_.push(this.contentEncryptionAlgorithm.toSchema()),"encryptedContent"in this){c.isIndefiniteForm=this.encryptedContent.idBlock.isConstructed;const A=this.encryptedContent;A.idBlock.tagClass=3,A.idBlock.tagNumber=0,A.lenBlock.isIndefiniteForm=this.encryptedContent.idBlock.isConstructed,_.push(A)}return new mn({lenBlock:c,value:_})}toJSON(){const c={contentType:this.contentType,contentEncryptionAlgorithm:this.contentEncryptionAlgorithm.toJSON()};return"encryptedContent"in this&&(c.encryptedContent=this.encryptedContent.toJSON()),c}}class lr{constructor(c={}){this.hashAlgorithm=w(c,"hashAlgorithm",lr.defaultValues("hashAlgorithm")),this.maskGenAlgorithm=w(c,"maskGenAlgorithm",lr.defaultValues("maskGenAlgorithm")),this.saltLength=w(c,"saltLength",lr.defaultValues("saltLength")),this.trailerField=w(c,"trailerField",lr.defaultValues("trailerField")),"schema"in c&&this.fromSchema(c.schema)}static defaultValues(c){switch(c){case"hashAlgorithm":return new $n({algorithmId:"1.3.14.3.2.26",algorithmParams:new Bt});case"maskGenAlgorithm":return new $n({algorithmId:"1.2.840.113549.1.1.8",algorithmParams:new $n({algorithmId:"1.3.14.3.2.26",algorithmParams:new Bt}).toSchema()});case"saltLength":return 20;case"trailerField":return 1;default:throw new Error(`Invalid member name for RSASSAPSSParams class: ${c}`)}}static schema(c={}){const _=w(c,"names",{});return new mn({name:_.blockName||"",value:[new X({idBlock:{tagClass:3,tagNumber:0},optional:!0,value:[$n.schema(_.hashAlgorithm||{})]}),new X({idBlock:{tagClass:3,tagNumber:1},optional:!0,value:[$n.schema(_.maskGenAlgorithm||{})]}),new X({idBlock:{tagClass:3,tagNumber:2},optional:!0,value:[new fn({name:_.saltLength||""})]}),new X({idBlock:{tagClass:3,tagNumber:3},optional:!0,value:[new fn({name:_.trailerField||""})]})]})}fromSchema(c){L(c,["hashAlgorithm","maskGenAlgorithm","saltLength","trailerField"]);const _=li(c,c,lr.schema({names:{hashAlgorithm:{names:{blockName:"hashAlgorithm"}},maskGenAlgorithm:{names:{blockName:"maskGenAlgorithm"}},saltLength:"saltLength",trailerField:"trailerField"}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for RSASSAPSSParams");"hashAlgorithm"in _.result&&(this.hashAlgorithm=new $n({schema:_.result.hashAlgorithm})),"maskGenAlgorithm"in _.result&&(this.maskGenAlgorithm=new $n({schema:_.result.maskGenAlgorithm})),"saltLength"in _.result&&(this.saltLength=_.result.saltLength.valueBlock.valueDec),"trailerField"in _.result&&(this.trailerField=_.result.trailerField.valueBlock.valueDec)}toSchema(){const c=[];return this.hashAlgorithm.isEqual(lr.defaultValues("hashAlgorithm"))||c.push(new X({idBlock:{tagClass:3,tagNumber:0},value:[this.hashAlgorithm.toSchema()]})),this.maskGenAlgorithm.isEqual(lr.defaultValues("maskGenAlgorithm"))||c.push(new X({idBlock:{tagClass:3,tagNumber:1},value:[this.maskGenAlgorithm.toSchema()]})),this.saltLength!==lr.defaultValues("saltLength")&&c.push(new X({idBlock:{tagClass:3,tagNumber:2},value:[new fn({value:this.saltLength})]})),this.trailerField!==lr.defaultValues("trailerField")&&c.push(new X({idBlock:{tagClass:3,tagNumber:3},value:[new fn({value:this.trailerField})]})),new mn({value:c})}toJSON(){const c={};return this.hashAlgorithm.isEqual(lr.defaultValues("hashAlgorithm"))||(c.hashAlgorithm=this.hashAlgorithm.toJSON()),this.maskGenAlgorithm.isEqual(lr.defaultValues("maskGenAlgorithm"))||(c.maskGenAlgorithm=this.maskGenAlgorithm.toJSON()),this.saltLength!==lr.defaultValues("saltLength")&&(c.saltLength=this.saltLength),this.trailerField!==lr.defaultValues("trailerField")&&(c.trailerField=this.trailerField),c}}class Or{constructor(c={}){this.salt=w(c,"salt",Or.defaultValues("salt")),this.iterationCount=w(c,"iterationCount",Or.defaultValues("iterationCount")),"keyLength"in c&&(this.keyLength=w(c,"keyLength",Or.defaultValues("keyLength"))),"prf"in c&&(this.prf=w(c,"prf",Or.defaultValues("prf"))),"schema"in c&&this.fromSchema(c.schema)}static defaultValues(c){switch(c){case"salt":return{};case"iterationCount":return-1;case"keyLength":return 0;case"prf":return new $n({algorithmId:"1.3.14.3.2.26",algorithmParams:new Bt});default:throw new Error(`Invalid member name for PBKDF2Params class: ${c}`)}}static schema(c={}){const _=w(c,"names",{});return new mn({name:_.blockName||"",value:[new br({value:[new It({name:_.saltPrimitive||""}),$n.schema(_.saltConstructed||{})]}),new fn({name:_.iterationCount||""}),new fn({name:_.keyLength||"",optional:!0}),$n.schema(_.prf||{names:{optional:!0}})]})}fromSchema(c){L(c,["salt","iterationCount","keyLength","prf"]);const _=li(c,c,Or.schema({names:{saltPrimitive:"salt",saltConstructed:{names:{blockName:"salt"}},iterationCount:"iterationCount",keyLength:"keyLength",prf:{names:{blockName:"prf",optional:!0}}}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for PBKDF2Params");this.salt=_.result.salt,this.iterationCount=_.result.iterationCount.valueBlock.valueDec,"keyLength"in _.result&&(this.keyLength=_.result.keyLength.valueBlock.valueDec),"prf"in _.result&&(this.prf=new $n({schema:_.result.prf}))}toSchema(){const c=[];return c.push(this.salt),c.push(new fn({value:this.iterationCount})),"keyLength"in this&&Or.defaultValues("keyLength")!==this.keyLength&&c.push(new fn({value:this.keyLength})),"prf"in this&&!1===Or.defaultValues("prf").isEqual(this.prf)&&c.push(this.prf.toSchema()),new mn({value:c})}toJSON(){const c={salt:this.salt.toJSON(),iterationCount:this.iterationCount};return"keyLength"in this&&Or.defaultValues("keyLength")!==this.keyLength&&(c.keyLength=this.keyLength),"prf"in this&&!1===Or.defaultValues("prf").isEqual(this.prf)&&(c.prf=this.prf.toJSON()),c}}class as{constructor(c={}){this.keyDerivationFunc=w(c,"keyDerivationFunc",as.defaultValues("keyDerivationFunc")),this.encryptionScheme=w(c,"encryptionScheme",as.defaultValues("encryptionScheme")),"schema"in c&&this.fromSchema(c.schema)}static defaultValues(c){switch(c){case"keyDerivationFunc":case"encryptionScheme":return new $n;default:throw new Error(`Invalid member name for PBES2Params class: ${c}`)}}static schema(c={}){const _=w(c,"names",{});return new mn({name:_.blockName||"",value:[$n.schema(_.keyDerivationFunc||{}),$n.schema(_.encryptionScheme||{})]})}fromSchema(c){L(c,["keyDerivationFunc","encryptionScheme"]);const _=li(c,c,as.schema({names:{keyDerivationFunc:{names:{blockName:"keyDerivationFunc"}},encryptionScheme:{names:{blockName:"encryptionScheme"}}}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for PBES2Params");this.keyDerivationFunc=new $n({schema:_.result.keyDerivationFunc}),this.encryptionScheme=new $n({schema:_.result.encryptionScheme})}toSchema(){return new mn({value:[this.keyDerivationFunc.toSchema(),this.encryptionScheme.toSchema()]})}toJSON(){return{keyDerivationFunc:this.keyDerivationFunc.toJSON(),encryptionScheme:this.encryptionScheme.toJSON()}}}function ro(Le,c,_,A,W,ae){let ve,Ge;const I=[];switch(c.toUpperCase()){case"SHA-1":ve=20,Ge=64;break;case"SHA-256":ve=32,Ge=64;break;case"SHA-384":ve=48,Ge=128;break;case"SHA-512":ve=64,Ge=128;break;default:throw new Error("Unsupported hashing algorithm")}const V=new Uint8Array(A),B=new ArrayBuffer(2*A.byteLength+2),Q=new Uint8Array(B);for(let Jr=0;Jr<V.length;Jr++)Q[2*Jr]=0,Q[2*Jr+1]=V[Jr];Q[Q.length-2]=0,Q[Q.length-1]=0,A=B.slice(0);const ge=new ArrayBuffer(Ge),$e=new Uint8Array(ge);for(let Jr=0;Jr<ge.byteLength;Jr++)$e[Jr]=3;const _t=W.byteLength,ln=Ge*Math.ceil(_t/Ge),tn=new ArrayBuffer(ln),Ln=new Uint8Array(tn),ki=new Uint8Array(W);for(let Jr=0;Jr<ln;Jr++)Ln[Jr]=ki[Jr%_t];const Ni=A.byteLength,dr=Ge*Math.ceil(Ni/Ge),Ks=new ArrayBuffer(dr),Ns=new Uint8Array(Ks),Na=new Uint8Array(A);for(let Jr=0;Jr<dr;Jr++)Ns[Jr]=Na[Jr%Ni];let eo=new ArrayBuffer(tn.byteLength+Ks.byteLength),Kl=new Uint8Array(eo);Kl.set(Ln),Kl.set(Ns,Ln.length);const Hf=Math.ceil((_>>3)/ve);let qa=Promise.resolve(eo);for(let Jr=0;Jr<=Hf;Jr++){qa=qa.then(Oa=>{const _l=new ArrayBuffer(ge.byteLength+Oa.byteLength),bl=new Uint8Array(_l);return bl.set($e),bl.set(Kl,$e.length),_l});for(let Oa=0;Oa<ae;Oa++)qa=qa.then(_l=>Le.digest({name:c},new Uint8Array(_l)));qa=qa.then(Oa=>{const _l=new ArrayBuffer(Ge),bl=new Uint8Array(_l);for(let wl=0;wl<_l.byteLength;wl++)bl[wl]=Oa[wl%Oa.length];const Cl=Math.ceil(_t/Ge)+Math.ceil(Ni/Ge),aa=[];let zl=0,ku=Ge;for(let wl=0;wl<Cl;wl++){const Nu=Array.from(new Uint8Array(eo.slice(zl,zl+ku)));zl+=Ge,zl+Ge>eo.byteLength&&(ku=eo.byteLength-zl);let Xd=511;for(let Sr=_l.byteLength-1;Sr>=0;Sr--)Xd>>=8,Xd+=bl[Sr]+Nu[Sr],Nu[Sr]=255&Xd;aa.push(...Nu)}return eo=new ArrayBuffer(aa.length),Kl=new Uint8Array(eo),Kl.set(aa),I.push(...new Uint8Array(Oa)),eo})}return qa=qa.then(()=>{const Jr=new ArrayBuffer(_>>3);return new Uint8Array(Jr).set(new Uint8Array(I).slice(0,_>>3)),Jr}),qa}class wo{constructor(c={}){this.crypto=w(c,"crypto",{}),this.subtle=w(c,"subtle",{}),this.name=w(c,"name","")}importKey(c,_,A,W,ae){let ve={};switch(_ instanceof Uint8Array&&(_=_.buffer),c.toLowerCase()){case"raw":return this.subtle.importKey("raw",_,A,W,ae);case"spki":{const Ge=Ft(_);if(-1===Ge.offset)return Promise.reject("Incorrect keyData");const I=new Dr;try{I.fromSchema(Ge.result)}catch{return Promise.reject("Incorrect keyData")}switch(A.name.toUpperCase()){case"RSA-PSS":switch(A.hash.name.toUpperCase()){case"SHA-1":ve.alg="PS1";break;case"SHA-256":ve.alg="PS256";break;case"SHA-384":ve.alg="PS384";break;case"SHA-512":ve.alg="PS512";break;default:return Promise.reject(`Incorrect hash algorithm: ${A.hash.name.toUpperCase()}`)}case"RSASSA-PKCS1-V1_5":{if(ae=["verify"],ve.kty="RSA",ve.ext=W,ve.key_ops=ae,"1.2.840.113549.1.1.1"!==I.algorithm.algorithmId)return Promise.reject(`Incorrect public key algorithm: ${I.algorithm.algorithmId}`);if(!("alg"in ve))switch(A.hash.name.toUpperCase()){case"SHA-1":ve.alg="RS1";break;case"SHA-256":ve.alg="RS256";break;case"SHA-384":ve.alg="RS384";break;case"SHA-512":ve.alg="RS512";break;default:return Promise.reject(`Incorrect hash algorithm: ${A.hash.name.toUpperCase()}`)}const V=I.toJSON();for(const B of Object.keys(V))ve[B]=V[B]}break;case"ECDSA":ae=["verify"];case"ECDH":{if(ve={kty:"EC",ext:W,key_ops:ae},"1.2.840.10045.2.1"!==I.algorithm.algorithmId)return Promise.reject(`Incorrect public key algorithm: ${I.algorithm.algorithmId}`);const V=I.toJSON();for(const B of Object.keys(V))ve[B]=V[B]}break;case"RSA-OAEP":{if(ve.kty="RSA",ve.ext=W,ve.key_ops=ae,"safari"===this.name.toLowerCase())ve.alg="RSA-OAEP";else switch(A.hash.name.toUpperCase()){case"SHA-1":ve.alg="RSA-OAEP";break;case"SHA-256":ve.alg="RSA-OAEP-256";break;case"SHA-384":ve.alg="RSA-OAEP-384";break;case"SHA-512":ve.alg="RSA-OAEP-512";break;default:return Promise.reject(`Incorrect hash algorithm: ${A.hash.name.toUpperCase()}`)}const V=I.toJSON();for(const B of Object.keys(V))ve[B]=V[B]}break;case"RSAES-PKCS1-V1_5":{ve.kty="RSA",ve.ext=W,ve.key_ops=ae,ve.alg="PS1";const V=I.toJSON();for(const B of Object.keys(V))ve[B]=V[B]}break;default:return Promise.reject(`Incorrect algorithm name: ${A.name.toUpperCase()}`)}}break;case"pkcs8":{const Ge=new Wn,I=Ft(_);if(-1===I.offset)return Promise.reject("Incorrect keyData");try{Ge.fromSchema(I.result)}catch{return Promise.reject("Incorrect keyData")}if(!("parsedKey"in Ge))return Promise.reject("Incorrect keyData");switch(A.name.toUpperCase()){case"RSA-PSS":switch(A.hash.name.toUpperCase()){case"SHA-1":ve.alg="PS1";break;case"SHA-256":ve.alg="PS256";break;case"SHA-384":ve.alg="PS384";break;case"SHA-512":ve.alg="PS512";break;default:return Promise.reject(`Incorrect hash algorithm: ${A.hash.name.toUpperCase()}`)}case"RSASSA-PKCS1-V1_5":{if(ae=["sign"],ve.kty="RSA",ve.ext=W,ve.key_ops=ae,"1.2.840.113549.1.1.1"!==Ge.privateKeyAlgorithm.algorithmId)return Promise.reject(`Incorrect private key algorithm: ${Ge.privateKeyAlgorithm.algorithmId}`);if(!("alg"in ve))switch(A.hash.name.toUpperCase()){case"SHA-1":ve.alg="RS1";break;case"SHA-256":ve.alg="RS256";break;case"SHA-384":ve.alg="RS384";break;case"SHA-512":ve.alg="RS512";break;default:return Promise.reject(`Incorrect hash algorithm: ${A.hash.name.toUpperCase()}`)}const V=Ge.toJSON();for(const B of Object.keys(V))ve[B]=V[B]}break;case"ECDSA":ae=["sign"];case"ECDH":{if(ve={kty:"EC",ext:W,key_ops:ae},"1.2.840.10045.2.1"!==Ge.privateKeyAlgorithm.algorithmId)return Promise.reject(`Incorrect algorithm: ${Ge.privateKeyAlgorithm.algorithmId}`);const V=Ge.toJSON();for(const B of Object.keys(V))ve[B]=V[B]}break;case"RSA-OAEP":{if(ve.kty="RSA",ve.ext=W,ve.key_ops=ae,"safari"===this.name.toLowerCase())ve.alg="RSA-OAEP";else switch(A.hash.name.toUpperCase()){case"SHA-1":ve.alg="RSA-OAEP";break;case"SHA-256":ve.alg="RSA-OAEP-256";break;case"SHA-384":ve.alg="RSA-OAEP-384";break;case"SHA-512":ve.alg="RSA-OAEP-512";break;default:return Promise.reject(`Incorrect hash algorithm: ${A.hash.name.toUpperCase()}`)}const V=Ge.toJSON();for(const B of Object.keys(V))ve[B]=V[B]}break;case"RSAES-PKCS1-V1_5":{ae=["decrypt"],ve.kty="RSA",ve.ext=W,ve.key_ops=ae,ve.alg="PS1";const V=Ge.toJSON();for(const B of Object.keys(V))ve[B]=V[B]}break;default:return Promise.reject(`Incorrect algorithm name: ${A.name.toUpperCase()}`)}}break;case"jwk":ve=_;break;default:return Promise.reject(`Incorrect format: ${c}`)}return"safari"===this.name.toLowerCase()?Promise.resolve().then(()=>this.subtle.importKey("jwk",$(JSON.stringify(ve)),A,W,ae)).then(Ge=>Ge,()=>this.subtle.importKey("jwk",ve,A,W,ae)):this.subtle.importKey("jwk",ve,A,W,ae)}exportKey(c,_){let A=this.subtle.exportKey("jwk",_);switch("safari"===this.name.toLowerCase()&&(A=A.then(W=>W instanceof ArrayBuffer?JSON.parse(U(W)):W)),c.toLowerCase()){case"raw":return this.subtle.exportKey("raw",_);case"spki":A=A.then(W=>{const ae=new Dr;try{ae.fromJSON(W)}catch{return Promise.reject("Incorrect key data")}return ae.toSchema().toBER(!1)});break;case"pkcs8":A=A.then(W=>{const ae=new Wn;try{ae.fromJSON(W)}catch{return Promise.reject("Incorrect key data")}return ae.toSchema().toBER(!1)});break;case"jwk":break;default:return Promise.reject(`Incorrect format: ${c}`)}return A}convert(c,_,A,W,ae,ve){switch(c.toLowerCase()){case"raw":switch(_.toLowerCase()){case"raw":return Promise.resolve(A);case"spki":return Promise.resolve().then(()=>this.importKey("raw",A,W,ae,ve)).then(Ge=>this.exportKey("spki",Ge));case"pkcs8":return Promise.resolve().then(()=>this.importKey("raw",A,W,ae,ve)).then(Ge=>this.exportKey("pkcs8",Ge));case"jwk":return Promise.resolve().then(()=>this.importKey("raw",A,W,ae,ve)).then(Ge=>this.exportKey("jwk",Ge));default:return Promise.reject(`Incorrect outputFormat: ${_}`)}case"spki":switch(_.toLowerCase()){case"raw":return Promise.resolve().then(()=>this.importKey("spki",A,W,ae,ve)).then(Ge=>this.exportKey("raw",Ge));case"spki":return Promise.resolve(A);case"pkcs8":return Promise.reject("Impossible to convert between SPKI/PKCS8");case"jwk":return Promise.resolve().then(()=>this.importKey("spki",A,W,ae,ve)).then(Ge=>this.exportKey("jwk",Ge));default:return Promise.reject(`Incorrect outputFormat: ${_}`)}case"pkcs8":switch(_.toLowerCase()){case"raw":return Promise.resolve().then(()=>this.importKey("pkcs8",A,W,ae,ve)).then(Ge=>this.exportKey("raw",Ge));case"spki":return Promise.reject("Impossible to convert between SPKI/PKCS8");case"pkcs8":return Promise.resolve(A);case"jwk":return Promise.resolve().then(()=>this.importKey("pkcs8",A,W,ae,ve)).then(Ge=>this.exportKey("jwk",Ge));default:return Promise.reject(`Incorrect outputFormat: ${_}`)}case"jwk":switch(_.toLowerCase()){case"raw":return Promise.resolve().then(()=>this.importKey("jwk",A,W,ae,ve)).then(Ge=>this.exportKey("raw",Ge));case"spki":return Promise.resolve().then(()=>this.importKey("jwk",A,W,ae,ve)).then(Ge=>this.exportKey("spki",Ge));case"pkcs8":return Promise.resolve().then(()=>this.importKey("jwk",A,W,ae,ve)).then(Ge=>this.exportKey("pkcs8",Ge));case"jwk":return Promise.resolve(A);default:return Promise.reject(`Incorrect outputFormat: ${_}`)}default:return Promise.reject(`Incorrect inputFormat: ${c}`)}}encrypt(...c){return this.subtle.encrypt(...c)}decrypt(...c){return this.subtle.decrypt(...c)}sign(...c){return this.subtle.sign(...c)}verify(...c){return this.subtle.verify(...c)}digest(...c){return this.subtle.digest(...c)}generateKey(...c){return this.subtle.generateKey(...c)}deriveKey(...c){return this.subtle.deriveKey(...c)}deriveBits(...c){return this.subtle.deriveBits(...c)}wrapKey(...c){return this.subtle.wrapKey(...c)}unwrapKey(...c){return this.subtle.unwrapKey(...c)}getRandomValues(c){if(!("getRandomValues"in this.crypto))throw new Error("No support for getRandomValues");return this.crypto.getRandomValues(c)}getAlgorithmByOID(c){switch(c){case"1.2.840.113549.1.1.1":return{name:"RSAES-PKCS1-v1_5"};case"1.2.840.113549.1.1.5":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-1"}};case"1.2.840.113549.1.1.11":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"1.2.840.113549.1.1.12":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-384"}};case"1.2.840.113549.1.1.13":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-512"}};case"1.2.840.113549.1.1.10":return{name:"RSA-PSS"};case"1.2.840.113549.1.1.7":return{name:"RSA-OAEP"};case"1.2.840.10045.2.1":case"1.2.840.10045.4.1":return{name:"ECDSA",hash:{name:"SHA-1"}};case"1.2.840.10045.4.3.2":return{name:"ECDSA",hash:{name:"SHA-256"}};case"1.2.840.10045.4.3.3":return{name:"ECDSA",hash:{name:"SHA-384"}};case"1.2.840.10045.4.3.4":return{name:"ECDSA",hash:{name:"SHA-512"}};case"1.3.133.16.840.63.0.2":return{name:"ECDH",kdf:"SHA-1"};case"1.3.132.1.11.1":return{name:"ECDH",kdf:"SHA-256"};case"1.3.132.1.11.2":return{name:"ECDH",kdf:"SHA-384"};case"1.3.132.1.11.3":return{name:"ECDH",kdf:"SHA-512"};case"2.16.840.1.101.3.4.1.2":return{name:"AES-CBC",length:128};case"2.16.840.1.101.3.4.1.22":return{name:"AES-CBC",length:192};case"2.16.840.1.101.3.4.1.42":return{name:"AES-CBC",length:256};case"2.16.840.1.101.3.4.1.6":return{name:"AES-GCM",length:128};case"2.16.840.1.101.3.4.1.26":return{name:"AES-GCM",length:192};case"2.16.840.1.101.3.4.1.46":return{name:"AES-GCM",length:256};case"2.16.840.1.101.3.4.1.4":return{name:"AES-CFB",length:128};case"2.16.840.1.101.3.4.1.24":return{name:"AES-CFB",length:192};case"2.16.840.1.101.3.4.1.44":return{name:"AES-CFB",length:256};case"2.16.840.1.101.3.4.1.5":return{name:"AES-KW",length:128};case"2.16.840.1.101.3.4.1.25":return{name:"AES-KW",length:192};case"2.16.840.1.101.3.4.1.45":return{name:"AES-KW",length:256};case"1.2.840.113549.2.7":return{name:"HMAC",hash:{name:"SHA-1"}};case"1.2.840.113549.2.9":return{name:"HMAC",hash:{name:"SHA-256"}};case"1.2.840.113549.2.10":return{name:"HMAC",hash:{name:"SHA-384"}};case"1.2.840.113549.2.11":return{name:"HMAC",hash:{name:"SHA-512"}};case"1.2.840.113549.1.9.16.3.5":return{name:"DH"};case"1.3.14.3.2.26":return{name:"SHA-1"};case"2.16.840.1.101.3.4.2.1":return{name:"SHA-256"};case"2.16.840.1.101.3.4.2.2":return{name:"SHA-384"};case"2.16.840.1.101.3.4.2.3":return{name:"SHA-512"};case"1.2.840.113549.1.5.12":return{name:"PBKDF2"};case"1.2.840.10045.3.1.7":return{name:"P-256"};case"1.3.132.0.34":return{name:"P-384"};case"1.3.132.0.35":return{name:"P-521"}}return{}}getOIDByAlgorithm(c){let _="";switch(c.name.toUpperCase()){case"RSAES-PKCS1-V1_5":_="1.2.840.113549.1.1.1";break;case"RSASSA-PKCS1-V1_5":switch(c.hash.name.toUpperCase()){case"SHA-1":_="1.2.840.113549.1.1.5";break;case"SHA-256":_="1.2.840.113549.1.1.11";break;case"SHA-384":_="1.2.840.113549.1.1.12";break;case"SHA-512":_="1.2.840.113549.1.1.13"}break;case"RSA-PSS":_="1.2.840.113549.1.1.10";break;case"RSA-OAEP":_="1.2.840.113549.1.1.7";break;case"ECDSA":switch(c.hash.name.toUpperCase()){case"SHA-1":_="1.2.840.10045.4.1";break;case"SHA-256":_="1.2.840.10045.4.3.2";break;case"SHA-384":_="1.2.840.10045.4.3.3";break;case"SHA-512":_="1.2.840.10045.4.3.4"}break;case"ECDH":switch(c.kdf.toUpperCase()){case"SHA-1":_="1.3.133.16.840.63.0.2";break;case"SHA-256":_="1.3.132.1.11.1";break;case"SHA-384":_="1.3.132.1.11.2";break;case"SHA-512":_="1.3.132.1.11.3"}break;case"AES-CTR":case"AES-CMAC":case"CONCAT":case"HKDF":break;case"AES-CBC":switch(c.length){case 128:_="2.16.840.1.101.3.4.1.2";break;case 192:_="2.16.840.1.101.3.4.1.22";break;case 256:_="2.16.840.1.101.3.4.1.42"}break;case"AES-GCM":switch(c.length){case 128:_="2.16.840.1.101.3.4.1.6";break;case 192:_="2.16.840.1.101.3.4.1.26";break;case 256:_="2.16.840.1.101.3.4.1.46"}break;case"AES-CFB":switch(c.length){case 128:_="2.16.840.1.101.3.4.1.4";break;case 192:_="2.16.840.1.101.3.4.1.24";break;case 256:_="2.16.840.1.101.3.4.1.44"}break;case"AES-KW":switch(c.length){case 128:_="2.16.840.1.101.3.4.1.5";break;case 192:_="2.16.840.1.101.3.4.1.25";break;case 256:_="2.16.840.1.101.3.4.1.45"}break;case"HMAC":switch(c.hash.name.toUpperCase()){case"SHA-1":_="1.2.840.113549.2.7";break;case"SHA-256":_="1.2.840.113549.2.9";break;case"SHA-384":_="1.2.840.113549.2.10";break;case"SHA-512":_="1.2.840.113549.2.11"}break;case"DH":_="1.2.840.113549.1.9.16.3.5";break;case"SHA-1":_="1.3.14.3.2.26";break;case"SHA-256":_="2.16.840.1.101.3.4.2.1";break;case"SHA-384":_="2.16.840.1.101.3.4.2.2";break;case"SHA-512":_="2.16.840.1.101.3.4.2.3";break;case"PBKDF2":_="1.2.840.113549.1.5.12";break;case"P-256":_="1.2.840.10045.3.1.7";break;case"P-384":_="1.3.132.0.34";break;case"P-521":_="1.3.132.0.35"}return _}getAlgorithmParameters(c,_){let A={algorithm:{},usages:[]};switch(c.toUpperCase()){case"RSAES-PKCS1-V1_5":case"RSASSA-PKCS1-V1_5":switch(_.toLowerCase()){case"generatekey":A={algorithm:{name:"RSASSA-PKCS1-v1_5",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},usages:["sign","verify"]};break;case"verify":case"sign":case"importkey":A={algorithm:{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},usages:["verify"]};break;default:return{algorithm:{name:"RSASSA-PKCS1-v1_5"},usages:[]}}break;case"RSA-PSS":switch(_.toLowerCase()){case"sign":case"verify":A={algorithm:{name:"RSA-PSS",hash:{name:"SHA-1"},saltLength:20},usages:["sign","verify"]};break;case"generatekey":A={algorithm:{name:"RSA-PSS",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-1"}},usages:["sign","verify"]};break;case"importkey":A={algorithm:{name:"RSA-PSS",hash:{name:"SHA-1"}},usages:["verify"]};break;default:return{algorithm:{name:"RSA-PSS"},usages:[]}}break;case"RSA-OAEP":switch(_.toLowerCase()){case"encrypt":case"decrypt":A={algorithm:{name:"RSA-OAEP"},usages:["encrypt","decrypt"]};break;case"generatekey":A={algorithm:{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"importkey":A={algorithm:{name:"RSA-OAEP",hash:{name:"SHA-256"}},usages:["encrypt"]};break;default:return{algorithm:{name:"RSA-OAEP"},usages:[]}}break;case"ECDSA":switch(_.toLowerCase()){case"generatekey":A={algorithm:{name:"ECDSA",namedCurve:"P-256"},usages:["sign","verify"]};break;case"importkey":A={algorithm:{name:"ECDSA",namedCurve:"P-256"},usages:["verify"]};break;case"verify":case"sign":A={algorithm:{name:"ECDSA",hash:{name:"SHA-256"}},usages:["sign"]};break;default:return{algorithm:{name:"ECDSA"},usages:[]}}break;case"ECDH":switch(_.toLowerCase()){case"exportkey":case"importkey":case"generatekey":A={algorithm:{name:"ECDH",namedCurve:"P-256"},usages:["deriveKey","deriveBits"]};break;case"derivekey":case"derivebits":A={algorithm:{name:"ECDH",namedCurve:"P-256",public:[]},usages:["encrypt","decrypt"]};break;default:return{algorithm:{name:"ECDH"},usages:[]}}break;case"AES-CTR":switch(_.toLowerCase()){case"importkey":case"exportkey":case"generatekey":A={algorithm:{name:"AES-CTR",length:256},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"decrypt":case"encrypt":A={algorithm:{name:"AES-CTR",counter:new Uint8Array(16),length:10},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-CTR"},usages:[]}}break;case"AES-CBC":switch(_.toLowerCase()){case"importkey":case"exportkey":case"generatekey":A={algorithm:{name:"AES-CBC",length:256},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"decrypt":case"encrypt":A={algorithm:{name:"AES-CBC",iv:this.getRandomValues(new Uint8Array(16))},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-CBC"},usages:[]}}break;case"AES-GCM":switch(_.toLowerCase()){case"importkey":case"exportkey":case"generatekey":A={algorithm:{name:"AES-GCM",length:256},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"decrypt":case"encrypt":A={algorithm:{name:"AES-GCM",iv:this.getRandomValues(new Uint8Array(16))},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-GCM"},usages:[]}}break;case"AES-KW":switch(_.toLowerCase()){case"importkey":case"exportkey":case"generatekey":case"wrapkey":case"unwrapkey":A={algorithm:{name:"AES-KW",length:256},usages:["wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-KW"},usages:[]}}break;case"HMAC":switch(_.toLowerCase()){case"sign":case"verify":A={algorithm:{name:"HMAC"},usages:["sign","verify"]};break;case"importkey":case"exportkey":case"generatekey":A={algorithm:{name:"HMAC",length:32,hash:{name:"SHA-256"}},usages:["sign","verify"]};break;default:return{algorithm:{name:"HMAC"},usages:[]}}break;case"HKDF":if("derivekey"!==_.toLowerCase())return{algorithm:{name:"HKDF"},usages:[]};A={algorithm:{name:"HKDF",hash:"SHA-256",salt:new Uint8Array([]),info:new Uint8Array([])},usages:["encrypt","decrypt"]};break;case"PBKDF2":if("derivekey"!==_.toLowerCase())return{algorithm:{name:"PBKDF2"},usages:[]};A={algorithm:{name:"PBKDF2",hash:{name:"SHA-256"},salt:new Uint8Array([]),iterations:1e4},usages:["encrypt","decrypt"]}}return A}getHashAlgorithm(c){let _="";switch(c.algorithmId){case"1.2.840.10045.4.1":case"1.2.840.113549.1.1.5":_="SHA-1";break;case"1.2.840.10045.4.3.2":case"1.2.840.113549.1.1.11":_="SHA-256";break;case"1.2.840.10045.4.3.3":case"1.2.840.113549.1.1.12":_="SHA-384";break;case"1.2.840.10045.4.3.4":case"1.2.840.113549.1.1.13":_="SHA-512";break;case"1.2.840.113549.1.1.10":try{const A=new lr({schema:c.algorithmParams});if("hashAlgorithm"in A){const W=this.getAlgorithmByOID(A.hashAlgorithm.algorithmId);if(!("name"in W))return"";_=W.name}else _="SHA-1"}catch{}}return _}encryptEncryptedContentInfo(c){if(!(c instanceof Object))return Promise.reject('Parameters must have type "Object"');if(!("password"in c))return Promise.reject('Absent mandatory parameter "password"');if(!("contentEncryptionAlgorithm"in c))return Promise.reject('Absent mandatory parameter "contentEncryptionAlgorithm"');if(!("hmacHashAlgorithm"in c))return Promise.reject('Absent mandatory parameter "hmacHashAlgorithm"');if(!("iterationCount"in c))return Promise.reject('Absent mandatory parameter "iterationCount"');if(!("contentToEncrypt"in c))return Promise.reject('Absent mandatory parameter "contentToEncrypt"');if(!("contentType"in c))return Promise.reject('Absent mandatory parameter "contentType"');const _=this.getOIDByAlgorithm(c.contentEncryptionAlgorithm);if(""===_)return Promise.reject('Wrong "contentEncryptionAlgorithm" value');const A=this.getOIDByAlgorithm({name:"PBKDF2"});if(""===A)return Promise.reject("Can not find OID for PBKDF2");const W=this.getOIDByAlgorithm({name:"HMAC",hash:{name:c.hmacHashAlgorithm}});if(""===W)return Promise.reject(`Incorrect value for "hmacHashAlgorithm": ${c.hmacHashAlgorithm}`);let ae=Promise.resolve();const ve=new ArrayBuffer(16),Ge=new Uint8Array(ve);this.getRandomValues(Ge);const I=new ArrayBuffer(64),V=new Uint8Array(I);this.getRandomValues(V);const B=new Uint8Array(c.contentToEncrypt),Q=new Or({salt:new It({valueHex:I}),iterationCount:c.iterationCount,prf:new $n({algorithmId:W,algorithmParams:new Bt})});return ae=ae.then(()=>{const ge=new Uint8Array(c.password);return this.importKey("raw",ge,"PBKDF2",!1,["deriveKey"])},ge=>Promise.reject(ge)),ae=ae.then(ge=>this.deriveKey({name:"PBKDF2",hash:{name:c.hmacHashAlgorithm},salt:V,iterations:c.iterationCount},ge,c.contentEncryptionAlgorithm,!1,["encrypt"]),ge=>Promise.reject(ge)),ae=ae.then(ge=>this.encrypt({name:c.contentEncryptionAlgorithm.name,iv:Ge},ge,B),ge=>Promise.reject(ge)),ae=ae.then(ge=>{const $e=new as({keyDerivationFunc:new $n({algorithmId:A,algorithmParams:Q.toSchema()}),encryptionScheme:new $n({algorithmId:_,algorithmParams:new It({valueHex:ve})})});return new Kr({contentType:c.contentType,contentEncryptionAlgorithm:new $n({algorithmId:"1.2.840.113549.1.5.13",algorithmParams:$e.toSchema()}),encryptedContent:new It({valueHex:ge})})},ge=>Promise.reject(ge)),ae}decryptEncryptedContentInfo(c){if(!(c instanceof Object))return Promise.reject('Parameters must have type "Object"');if(!("password"in c))return Promise.reject('Absent mandatory parameter "password"');if(!("encryptedContentInfo"in c))return Promise.reject('Absent mandatory parameter "encryptedContentInfo"');if("1.2.840.113549.1.5.13"!==c.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId)return Promise.reject(`Unknown "contentEncryptionAlgorithm": ${c.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId}`);let A,W,_=Promise.resolve();try{A=new as({schema:c.encryptedContentInfo.contentEncryptionAlgorithm.algorithmParams})}catch{return Promise.reject('Incorrectly encoded "pbes2Parameters"')}try{W=new Or({schema:A.keyDerivationFunc.algorithmParams})}catch{return Promise.reject('Incorrectly encoded "pbkdf2Params"')}const ae=this.getAlgorithmByOID(A.encryptionScheme.algorithmId);if(!("name"in ae))return Promise.reject(`Incorrect OID for "contentEncryptionAlgorithm": ${A.encryptionScheme.algorithmId}`);const Ge=new Uint8Array(A.encryptionScheme.algorithmParams.valueBlock.valueHex),V=new Uint8Array(W.salt.valueBlock.valueHex),B=W.iterationCount;let Q="SHA-1";if("prf"in W){const ge=this.getAlgorithmByOID(W.prf.algorithmId);if(!("name"in ge))return Promise.reject("Incorrect OID for HMAC hash algorithm");Q=ge.hash.name}return _=_.then(()=>this.importKey("raw",c.password,"PBKDF2",!1,["deriveKey"]),ge=>Promise.reject(ge)),_=_.then(ge=>this.deriveKey({name:"PBKDF2",hash:{name:Q},salt:V,iterations:B},ge,ae,!1,["decrypt"]),ge=>Promise.reject(ge)),_=_.then(ge=>{let $e=new ArrayBuffer(0);if(!1===c.encryptedContentInfo.encryptedContent.idBlock.isConstructed)$e=c.encryptedContentInfo.encryptedContent.valueBlock.valueHex;else for(const _t of c.encryptedContentInfo.encryptedContent.valueBlock.value)$e=T($e,_t.valueBlock.valueHex);return this.decrypt({name:ae.name,iv:Ge},ge,$e)},ge=>Promise.reject(ge)),_}stampDataWithPassword(c){if(!(c instanceof Object))return Promise.reject('Parameters must have type "Object"');if(!("password"in c))return Promise.reject('Absent mandatory parameter "password"');if(!("hashAlgorithm"in c))return Promise.reject('Absent mandatory parameter "hashAlgorithm"');if(!("salt"in c))return Promise.reject('Absent mandatory parameter "iterationCount"');if(!("iterationCount"in c))return Promise.reject('Absent mandatory parameter "salt"');if(!("contentToStamp"in c))return Promise.reject('Absent mandatory parameter "contentToStamp"');let _;switch(c.hashAlgorithm.toLowerCase()){case"sha-1":_=160;break;case"sha-256":_=256;break;case"sha-384":_=384;break;case"sha-512":_=512;break;default:return Promise.reject(`Incorrect "parameters.hashAlgorithm" parameter: ${c.hashAlgorithm}`)}let A=Promise.resolve();const W={name:"HMAC",length:_,hash:{name:c.hashAlgorithm}};return A=A.then(()=>ro(this,c.hashAlgorithm,_,c.password,c.salt,c.iterationCount)),A=A.then(ae=>this.importKey("raw",new Uint8Array(ae),W,!1,["sign"])),A=A.then(ae=>this.sign(W,ae,new Uint8Array(c.contentToStamp)),ae=>Promise.reject(ae)),A}verifyDataStampedWithPassword(c){if(!(c instanceof Object))return Promise.reject('Parameters must have type "Object"');if(!("password"in c))return Promise.reject('Absent mandatory parameter "password"');if(!("hashAlgorithm"in c))return Promise.reject('Absent mandatory parameter "hashAlgorithm"');if(!("salt"in c))return Promise.reject('Absent mandatory parameter "iterationCount"');if(!("iterationCount"in c))return Promise.reject('Absent mandatory parameter "salt"');if(!("contentToVerify"in c))return Promise.reject('Absent mandatory parameter "contentToVerify"');if(!("signatureToVerify"in c))return Promise.reject('Absent mandatory parameter "signatureToVerify"');let _;switch(c.hashAlgorithm.toLowerCase()){case"sha-1":_=160;break;case"sha-256":_=256;break;case"sha-384":_=384;break;case"sha-512":_=512;break;default:return Promise.reject(`Incorrect "parameters.hashAlgorithm" parameter: ${c.hashAlgorithm}`)}let A=Promise.resolve();const W={name:"HMAC",length:_,hash:{name:c.hashAlgorithm}};return A=A.then(()=>ro(this,c.hashAlgorithm,_,c.password,c.salt,c.iterationCount)),A=A.then(ae=>this.importKey("raw",new Uint8Array(ae),W,!1,["verify"])),A=A.then(ae=>this.verify(W,ae,new Uint8Array(c.signatureToVerify),new Uint8Array(c.contentToVerify)),ae=>Promise.reject(ae)),A}getSignatureParameters(c,_="SHA-1"){if(""===this.getOIDByAlgorithm({name:_}))return Promise.reject(`Unsupported hash algorithm: ${_}`);const W=new $n,ae=this.getAlgorithmParameters(c.algorithm.name,"sign");switch(ae.algorithm.hash.name=_,c.algorithm.name.toUpperCase()){case"RSASSA-PKCS1-V1_5":case"ECDSA":W.algorithmId=this.getOIDByAlgorithm(ae.algorithm);break;case"RSA-PSS":{switch(_.toUpperCase()){case"SHA-256":ae.algorithm.saltLength=32;break;case"SHA-384":ae.algorithm.saltLength=48;break;case"SHA-512":ae.algorithm.saltLength=64}const ve={};if("SHA-1"!==_.toUpperCase()){const I=this.getOIDByAlgorithm({name:_});if(""===I)return Promise.reject(`Unsupported hash algorithm: ${_}`);ve.hashAlgorithm=new $n({algorithmId:I,algorithmParams:new Bt}),ve.maskGenAlgorithm=new $n({algorithmId:"1.2.840.113549.1.1.8",algorithmParams:ve.hashAlgorithm.toSchema()})}20!==ae.algorithm.saltLength&&(ve.saltLength=ae.algorithm.saltLength);const Ge=new lr(ve);W.algorithmId="1.2.840.113549.1.1.10",W.algorithmParams=Ge.toSchema()}break;default:return Promise.reject(`Unsupported signature algorithm: ${c.algorithm.name}`)}return Promise.resolve().then(()=>({signatureAlgorithm:W,parameters:ae}))}signWithPrivateKey(c,_,A){return this.sign(A.algorithm,_,new Uint8Array(c)).then(W=>("ECDSA"===A.algorithm.name&&(W=function nr(Le){if(Le.byteLength%2!=0)return new ArrayBuffer(0);const c=Le.byteLength/2,_=new ArrayBuffer(c);new Uint8Array(_).set(new Uint8Array(Le,0,c));const W=new fn({valueHex:_}),ae=new ArrayBuffer(c);new Uint8Array(ae).set(new Uint8Array(Le,c,c));const Ge=new fn({valueHex:ae});return new mn({value:[W.convertToDER(),Ge.convertToDER()]}).toBER(!1)}(W)),W),W=>Promise.reject(`Signing error: ${W}`))}fillPublicKeyParameters(c,_){const A={},W=this.getHashAlgorithm(_);if(""===W)return Promise.reject(`Unsupported signature algorithm: ${_.algorithmId}`);let ae;ae="1.2.840.113549.1.1.10"===_.algorithmId?_.algorithmId:c.algorithm.algorithmId;const ve=this.getAlgorithmByOID(ae);if("name"in ve==="")return Promise.reject(`Unsupported public key algorithm: ${_.algorithmId}`);if(A.algorithm=this.getAlgorithmParameters(ve.name,"importkey"),"hash"in A.algorithm.algorithm&&(A.algorithm.algorithm.hash.name=W),"ECDSA"===ve.name){let Ge=!1;if("algorithmParams"in c.algorithm&&"idBlock"in c.algorithm.algorithmParams&&1===c.algorithm.algorithmParams.idBlock.tagClass&&6===c.algorithm.algorithmParams.idBlock.tagNumber&&(Ge=!0),!1===Ge)return Promise.reject("Incorrect type for ECDSA public key parameters");const I=this.getAlgorithmByOID(c.algorithm.algorithmParams.valueBlock.toString());if(!("name"in I))return Promise.reject(`Unsupported named curve algorithm: ${c.algorithm.algorithmParams.valueBlock.toString()}`);A.algorithm.algorithm.namedCurve=I.name}return A}getPublicKey(c,_,A=null){null===A&&(A=this.fillPublicKeyParameters(c,_));const ae=c.toSchema().toBER(!1),ve=new Uint8Array(ae);return this.importKey("spki",ve,A.algorithm.algorithm,!0,A.algorithm.usages)}verifyWithPublicKey(c,_,A,W,ae=null){let ve=Promise.resolve();if(null===ae){if(""===(ae=this.getHashAlgorithm(W)))return Promise.reject(`Unsupported signature algorithm: ${W.algorithmId}`);ve=ve.then(()=>this.getPublicKey(A,W))}else{const Ge={};let I;I="1.2.840.113549.1.1.10"===W.algorithmId?W.algorithmId:A.algorithm.algorithmId;const V=this.getAlgorithmByOID(I);if("name"in V==="")return Promise.reject(`Unsupported public key algorithm: ${W.algorithmId}`);if(Ge.algorithm=this.getAlgorithmParameters(V.name,"importkey"),"hash"in Ge.algorithm.algorithm&&(Ge.algorithm.algorithm.hash.name=ae),"ECDSA"===V.name){let B=!1;if("algorithmParams"in A.algorithm&&"idBlock"in A.algorithm.algorithmParams&&1===A.algorithm.algorithmParams.idBlock.tagClass&&6===A.algorithm.algorithmParams.idBlock.tagNumber&&(B=!0),!1===B)return Promise.reject("Incorrect type for ECDSA public key parameters");const Q=this.getAlgorithmByOID(A.algorithm.algorithmParams.valueBlock.toString());if(!("name"in Q))return Promise.reject(`Unsupported named curve algorithm: ${A.algorithm.algorithmParams.valueBlock.toString()}`);Ge.algorithm.algorithm.namedCurve=Q.name}ve=ve.then(()=>this.getPublicKey(A,null,Ge))}return ve=ve.then(Ge=>{const I=this.getAlgorithmParameters(Ge.algorithm.name,"verify");"hash"in I.algorithm&&(I.algorithm.hash.name=ae);let V=_.valueBlock.valueHex;if("ECDSA"===Ge.algorithm.name&&(V=function Vo(Le){if(!(Le instanceof mn))return new ArrayBuffer(0);if(2!==Le.valueBlock.value.length)return new ArrayBuffer(0);if(!(Le.valueBlock.value[0]instanceof fn))return new ArrayBuffer(0);if(!(Le.valueBlock.value[1]instanceof fn))return new ArrayBuffer(0);const c=Le.valueBlock.value[0].convertFromDER(),_=Le.valueBlock.value[1].convertFromDER();switch(!0){case c.valueBlock.valueHex.byteLength<_.valueBlock.valueHex.byteLength:{if(_.valueBlock.valueHex.byteLength-c.valueBlock.valueHex.byteLength!=1)throw new Error("Incorrect DER integer decoding");const A=_.valueBlock.valueHex.byteLength,W=new Uint8Array(c.valueBlock.valueHex),ae=new ArrayBuffer(A),ve=new Uint8Array(ae);return ve.set(W,1),ve[0]=0,T(ae,_.valueBlock.valueHex)}case c.valueBlock.valueHex.byteLength>_.valueBlock.valueHex.byteLength:{if(c.valueBlock.valueHex.byteLength-_.valueBlock.valueHex.byteLength!=1)throw new Error("Incorrect DER integer decoding");const A=c.valueBlock.valueHex.byteLength,W=new Uint8Array(_.valueBlock.valueHex),ae=new ArrayBuffer(A),ve=new Uint8Array(ae);return ve.set(W,1),ve[0]=0,T(c.valueBlock.valueHex,ae)}default:if(c.valueBlock.valueHex.byteLength%2){const A=c.valueBlock.valueHex.byteLength+1,W=new Uint8Array(c.valueBlock.valueHex),ae=new ArrayBuffer(A),ve=new Uint8Array(ae);ve.set(W,1),ve[0]=0;const Ge=new Uint8Array(_.valueBlock.valueHex),I=new ArrayBuffer(A),V=new Uint8Array(I);return V.set(Ge,1),V[0]=0,T(ae,I)}}return T(c.valueBlock.valueHex,_.valueBlock.valueHex)}(Ft(V).result)),"RSA-PSS"===Ge.algorithm.name){let B;try{B=new lr({schema:W.algorithmParams})}catch(ge){return Promise.reject(ge)}I.algorithm.saltLength="saltLength"in B?B.saltLength:20;let Q="SHA-1";if("hashAlgorithm"in B){const ge=this.getAlgorithmByOID(B.hashAlgorithm.algorithmId);if(!("name"in ge))return Promise.reject(`Unrecognized hash algorithm: ${B.hashAlgorithm.algorithmId}`);Q=ge.name}I.algorithm.hash.name=Q}return this.verify(I.algorithm,Ge,new Uint8Array(V),new Uint8Array(c))}),ve}}let Ds={name:"none",crypto:null,subtle:null};function ls(){if(typeof process<"u"&&"pid"in process&&typeof global<"u"&&typeof window>"u"){let Le;try{Le=global[process.pid].pkijs.engine}catch{throw new Error('Please call "setEngine" before call to "getEngine"')}return Le}return Ds}function cs(){const Le=ls();if(null!==Le.subtle)return Le.subtle}function ts(Le){let c=!1,_="";const A=Le.trim();for(let W=0;W<A.length;W++)32===A.charCodeAt(W)?!1===c&&(c=!0):(c&&(_+=" ",c=!1),_+=A[W]);return _.toLowerCase()}!function(){if(typeof self<"u"&&"crypto"in self){let c="webcrypto";const _=self.crypto;let A;if("webkitSubtle"in self.crypto){try{A=self.crypto.webkitSubtle}catch{A=self.crypto.subtle}c="safari"}"subtle"in self.crypto&&(A=self.crypto.subtle),Ds=typeof A>"u"?{name:c,crypto:_,subtle:null}:{name:c,crypto:_,subtle:new wo({name:c,crypto:self.crypto,subtle:A})}}!function Cr(Le,c,_){if(typeof process<"u"&&"pid"in process&&typeof global<"u"&&typeof window>"u"){if(typeof global[process.pid]>"u")global[process.pid]={};else if("object"!=typeof global[process.pid])throw new Error(`Name global.${process.pid} already exists and it is not an object`);if(typeof global[process.pid].pkijs>"u")global[process.pid].pkijs={};else if("object"!=typeof global[process.pid].pkijs)throw new Error(`Name global.${process.pid}.pkijs already exists and it is not an object`);global[process.pid].pkijs.engine={name:Le,crypto:c,subtle:_}}else Ds.name!==Le&&(Ds={name:Le,crypto:c,subtle:_})}(Ds.name,Ds.crypto,Ds.subtle)}();class As{constructor(c={}){this.type=w(c,"type",As.defaultValues("type")),this.value=w(c,"value",As.defaultValues("value")),"schema"in c&&this.fromSchema(c.schema)}static defaultValues(c){switch(c){case"type":return"";case"value":return{};default:throw new Error(`Invalid member name for AttributeTypeAndValue class: ${c}`)}}static schema(c={}){const _=w(c,"names",{});return new mn({name:_.blockName||"",value:[new $t({name:_.type||""}),new _r({name:_.value||""})]})}static blockName(){return"AttributeTypeAndValue"}fromSchema(c){L(c,["type","typeValue"]);const _=li(c,c,As.schema({names:{type:"type",value:"typeValue"}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for AttributeTypeAndValue");this.type=_.result.type.valueBlock.toString(),this.value=_.result.typeValue}toSchema(){return new mn({value:[new $t({value:this.type}),this.value]})}toJSON(){const c={type:this.type};return c.value=0!==Object.keys(this.value).length?this.value.toJSON():this.value,c}isEqual(c){const _=[Hi.blockName(),qe.blockName(),zt.blockName(),Yt.blockName(),Zt.blockName(),_e.blockName(),ye.blockName(),ze.blockName(),vt.blockName(),Vn.blockName(),vi.blockName(),Ui.blockName()];if(c.constructor.blockName()===As.blockName()){if(this.type!==c.type)return!1;let A=[!1,!1];const W=this.value.constructor.blockName();for(const ae of _)W===ae&&(A[0]=!0),c.value.constructor.blockName()===ae&&(A[1]=!0);if(A[0]^A[1])return!1;if(A=A[0]&&A[1],A){const ae=ts(this.value.valueBlock.value),ve=ts(c.value.valueBlock.value);if(0!==ae.localeCompare(ve))return!1}else if(!1===M(this.value.valueBeforeDecode,c.value.valueBeforeDecode))return!1;return!0}return c instanceof ArrayBuffer&&M(this.value.valueBeforeDecode,c)}}class Pr{constructor(c={}){this.typesAndValues=w(c,"typesAndValues",Pr.defaultValues("typesAndValues")),this.valueBeforeDecode=w(c,"valueBeforeDecode",Pr.defaultValues("valueBeforeDecode")),"schema"in c&&this.fromSchema(c.schema)}static defaultValues(c){switch(c){case"typesAndValues":return[];case"valueBeforeDecode":return new ArrayBuffer(0);default:throw new Error(`Invalid member name for RelativeDistinguishedNames class: ${c}`)}}static compareWithDefault(c,_){switch(c){case"typesAndValues":return 0===_.length;case"valueBeforeDecode":return 0===_.byteLength;default:throw new Error(`Invalid member name for RelativeDistinguishedNames class: ${c}`)}}static schema(c={}){const _=w(c,"names",{});return new mn({name:_.blockName||"",value:[new Mi({name:_.repeatedSequence||"",value:new pi({value:[new Mi({name:_.repeatedSet||"",value:As.schema(_.typeAndValue||{})})]})})]})}fromSchema(c){L(c,["RDN","typesAndValues"]);const _=li(c,c,Pr.schema({names:{blockName:"RDN",repeatedSet:"typesAndValues"}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for RelativeDistinguishedNames");"typesAndValues"in _.result&&(this.typesAndValues=Array.from(_.result.typesAndValues,A=>new As({schema:A}))),this.valueBeforeDecode=_.result.RDN.valueBeforeDecode}toSchema(){return 0===this.valueBeforeDecode.byteLength?new mn({value:[new pi({value:Array.from(this.typesAndValues,_=>_.toSchema())})]}):Ft(this.valueBeforeDecode).result}toJSON(){return{typesAndValues:Array.from(this.typesAndValues,c=>c.toJSON())}}isEqual(c){if(c instanceof Pr){if(this.typesAndValues.length!==c.typesAndValues.length)return!1;for(const[_,A]of this.typesAndValues.entries())if(!1===A.isEqual(c.typesAndValues[_]))return!1;return!0}return c instanceof ArrayBuffer&&M(this.valueBeforeDecode,c)}}class rr{constructor(c={}){this.type=w(c,"type",rr.defaultValues("type")),this.value=w(c,"value",rr.defaultValues("value")),"schema"in c&&this.fromSchema(c.schema)}static defaultValues(c){switch(c){case"type":return 0;case"value":return new Date(0,0,0);default:throw new Error(`Invalid member name for Time class: ${c}`)}}static schema(c={},_=!1){const A=w(c,"names",{});return new br({optional:_,value:[new Hn({name:A.utcTimeName||""}),new ar({name:A.generalTimeName||""})]})}fromSchema(c){L(c,["utcTimeName","generalTimeName"]);const _=li(c,c,rr.schema({names:{utcTimeName:"utcTimeName",generalTimeName:"generalTimeName"}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for Time");"utcTimeName"in _.result&&(this.type=0,this.value=_.result.utcTimeName.toDate()),"generalTimeName"in _.result&&(this.type=1,this.value=_.result.generalTimeName.toDate())}toSchema(){let c={};return 0===this.type&&(c=new Hn({valueDate:this.value})),1===this.type&&(c=new ar({valueDate:this.value})),c}toJSON(){return{type:this.type,value:this.value}}}class Fr{constructor(c={}){this.attributes=w(c,"attributes",Fr.defaultValues("attributes")),"schema"in c&&this.fromSchema(c.schema)}static defaultValues(c){if("attributes"===c)return[];throw new Error(`Invalid member name for SubjectDirectoryAttributes class: ${c}`)}static schema(c={}){const _=w(c,"names",{});return new mn({name:_.blockName||"",value:[new Mi({name:_.attributes||"",value:Nr.schema()})]})}fromSchema(c){L(c,["attributes"]);const _=li(c,c,Fr.schema({names:{attributes:"attributes"}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for SubjectDirectoryAttributes");this.attributes=Array.from(_.result.attributes,A=>new Nr({schema:A}))}toSchema(){return new mn({value:Array.from(this.attributes,c=>c.toSchema())})}toJSON(){return{attributes:Array.from(this.attributes,c=>c.toJSON())}}}class us{constructor(c={}){"notBefore"in c&&(this.notBefore=w(c,"notBefore",us.defaultValues("notBefore"))),"notAfter"in c&&(this.notAfter=w(c,"notAfter",us.defaultValues("notAfter"))),"schema"in c&&this.fromSchema(c.schema)}static defaultValues(c){switch(c){case"notBefore":case"notAfter":return new Date;default:throw new Error(`Invalid member name for PrivateKeyUsagePeriod class: ${c}`)}}static schema(c={}){const _=w(c,"names",{});return new mn({name:_.blockName||"",value:[new it({name:_.notBefore||"",optional:!0,idBlock:{tagClass:3,tagNumber:0}}),new it({name:_.notAfter||"",optional:!0,idBlock:{tagClass:3,tagNumber:1}})]})}fromSchema(c){L(c,["notBefore","notAfter"]);const _=li(c,c,us.schema({names:{notBefore:"notBefore",notAfter:"notAfter"}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for PrivateKeyUsagePeriod");if("notBefore"in _.result){const A=new ar;A.fromBuffer(_.result.notBefore.valueBlock.valueHex),this.notBefore=A.toDate()}if("notAfter"in _.result){const A=new ar({valueHex:_.result.notAfter.valueBlock.valueHex});A.fromBuffer(_.result.notAfter.valueBlock.valueHex),this.notAfter=A.toDate()}}toSchema(){const c=[];return"notBefore"in this&&c.push(new it({idBlock:{tagClass:3,tagNumber:0},valueHex:new ar({valueDate:this.notBefore}).valueBlock.valueHex})),"notAfter"in this&&c.push(new it({idBlock:{tagClass:3,tagNumber:1},valueHex:new ar({valueDate:this.notAfter}).valueBlock.valueHex})),new mn({value:c})}toJSON(){const c={};return"notBefore"in this&&(c.notBefore=this.notBefore),"notAfter"in this&&(c.notAfter=this.notAfter),c}}function ao(Le={},c=!1){const _=w(Le,"names",{});return new mn({optional:c,value:[new X({optional:!0,idBlock:{tagClass:2,tagNumber:1},name:_.country_name||"",value:[new br({value:[new Yt,new Zt]})]}),new X({optional:!0,idBlock:{tagClass:2,tagNumber:2},name:_.administration_domain_name||"",value:[new br({value:[new Yt,new Zt]})]}),new it({optional:!0,idBlock:{tagClass:3,tagNumber:0},name:_.network_address||"",isHexOnly:!0}),new it({optional:!0,idBlock:{tagClass:3,tagNumber:1},name:_.terminal_identifier||"",isHexOnly:!0}),new X({optional:!0,idBlock:{tagClass:3,tagNumber:2},name:_.private_domain_name||"",value:[new br({value:[new Yt,new Zt]})]}),new it({optional:!0,idBlock:{tagClass:3,tagNumber:3},name:_.organization_name||"",isHexOnly:!0}),new it({optional:!0,name:_.numeric_user_identifier||"",idBlock:{tagClass:3,tagNumber:4},isHexOnly:!0}),new X({optional:!0,name:_.personal_name||"",idBlock:{tagClass:3,tagNumber:5},value:[new it({idBlock:{tagClass:3,tagNumber:0},isHexOnly:!0}),new it({optional:!0,idBlock:{tagClass:3,tagNumber:1},isHexOnly:!0}),new it({optional:!0,idBlock:{tagClass:3,tagNumber:2},isHexOnly:!0}),new it({optional:!0,idBlock:{tagClass:3,tagNumber:3},isHexOnly:!0})]}),new X({optional:!0,name:_.organizational_unit_names||"",idBlock:{tagClass:3,tagNumber:6},value:[new Mi({value:new Zt})]})]})}function Ra(Le=!1){return new mn({optional:Le,value:[new Zt,new Zt]})}function Rs(Le=!1){return new pi({optional:Le,value:[new it({optional:!0,idBlock:{tagClass:3,tagNumber:0},isHexOnly:!0}),new X({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new _r]})]})}class oi{constructor(c={}){this.type=w(c,"type",oi.defaultValues("type")),this.value=w(c,"value",oi.defaultValues("value")),"schema"in c&&this.fromSchema(c.schema)}static defaultValues(c){switch(c){case"type":return 9;case"value":return{};default:throw new Error(`Invalid member name for GeneralName class: ${c}`)}}static compareWithDefault(c,_){switch(c){case"type":return _===oi.defaultValues(c);case"value":return 0===Object.keys(_).length;default:throw new Error(`Invalid member name for GeneralName class: ${c}`)}}static schema(c={}){const _=w(c,"names",{});return new br({value:[new X({idBlock:{tagClass:3,tagNumber:0},name:_.blockName||"",value:[new $t,new X({idBlock:{tagClass:3,tagNumber:0},value:[new _r]})]}),new it({name:_.blockName||"",idBlock:{tagClass:3,tagNumber:1}}),new it({name:_.blockName||"",idBlock:{tagClass:3,tagNumber:2}}),new X({idBlock:{tagClass:3,tagNumber:3},name:_.blockName||"",value:[ao(_.builtInStandardAttributes||{},!1),Ra(!0),Rs(!0)]}),new X({idBlock:{tagClass:3,tagNumber:4},name:_.blockName||"",value:[Pr.schema(_.directoryName||{})]}),new X({idBlock:{tagClass:3,tagNumber:5},name:_.blockName||"",value:[new X({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new br({value:[new _e,new Zt,new zt,new Hi,new qe]})]}),new X({idBlock:{tagClass:3,tagNumber:1},value:[new br({value:[new _e,new Zt,new zt,new Hi,new qe]})]})]}),new it({name:_.blockName||"",idBlock:{tagClass:3,tagNumber:6}}),new it({name:_.blockName||"",idBlock:{tagClass:3,tagNumber:7}}),new it({name:_.blockName||"",idBlock:{tagClass:3,tagNumber:8}})]})}fromSchema(c){L(c,["blockName","otherName","rfc822Name","dNSName","x400Address","directoryName","ediPartyName","uniformResourceIdentifier","iPAddress","registeredID"]);const _=li(c,c,oi.schema({names:{blockName:"blockName",otherName:"otherName",rfc822Name:"rfc822Name",dNSName:"dNSName",x400Address:"x400Address",directoryName:{names:{blockName:"directoryName"}},ediPartyName:"ediPartyName",uniformResourceIdentifier:"uniformResourceIdentifier",iPAddress:"iPAddress",registeredID:"registeredID"}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for GeneralName");switch(this.type=_.result.blockName.idBlock.tagNumber,this.type){case 0:case 3:this.value=_.result.blockName;break;case 1:case 2:case 6:{const A=_.result.blockName;A.idBlock.tagClass=1,A.idBlock.tagNumber=22;const W=A.toBER(!1);this.value=Ft(W).result.valueBlock.value}break;case 4:this.value=new Pr({schema:_.result.directoryName});break;case 5:this.value=_.result.ediPartyName;break;case 7:this.value=new It({valueHex:_.result.blockName.valueBlock.valueHex});break;case 8:{const A=_.result.blockName;A.idBlock.tagClass=1,A.idBlock.tagNumber=6;const W=A.toBER(!1);this.value=Ft(W).result.valueBlock.toString()}}}toSchema(){switch(this.type){case 0:case 3:case 5:return new X({idBlock:{tagClass:3,tagNumber:this.type},value:[this.value]});case 1:case 2:case 6:{const c=new ze({value:this.value});return c.idBlock.tagClass=3,c.idBlock.tagNumber=this.type,c}case 4:return new X({idBlock:{tagClass:3,tagNumber:4},value:[this.value.toSchema()]});case 7:{const c=this.value;return c.idBlock.tagClass=3,c.idBlock.tagNumber=this.type,c}case 8:{const c=new $t({value:this.value});return c.idBlock.tagClass=3,c.idBlock.tagNumber=this.type,c}default:return oi.schema()}}toJSON(){const c={type:this.type,value:""};if("string"==typeof this.value)c.value=this.value;else try{c.value=this.value.toJSON()}catch{}return c}}class zr{constructor(c={}){this.altNames=w(c,"altNames",zr.defaultValues("altNames")),"schema"in c&&this.fromSchema(c.schema)}static defaultValues(c){if("altNames"===c)return[];throw new Error(`Invalid member name for AltName class: ${c}`)}static schema(c={}){const _=w(c,"names",{});return new mn({name:_.blockName||"",value:[new Mi({name:_.altNames||"",value:oi.schema()})]})}fromSchema(c){L(c,["altNames"]);const _=li(c,c,zr.schema({names:{altNames:"altNames"}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for AltName");"altNames"in _.result&&(this.altNames=Array.from(_.result.altNames,A=>new oi({schema:A})))}toSchema(){return new mn({value:Array.from(this.altNames,c=>c.toSchema())})}toJSON(){return{altNames:Array.from(this.altNames,c=>c.toJSON())}}}class Hs{constructor(c={}){this.cA=w(c,"cA",!1),"pathLenConstraint"in c&&(this.pathLenConstraint=w(c,"pathLenConstraint",0)),"schema"in c&&this.fromSchema(c.schema)}static defaultValues(c){if("cA"===c)return!1;throw new Error(`Invalid member name for BasicConstraints class: ${c}`)}static schema(c={}){const _=w(c,"names",{});return new mn({name:_.blockName||"",value:[new An({optional:!0,name:_.cA||""}),new fn({optional:!0,name:_.pathLenConstraint||""})]})}fromSchema(c){L(c,["cA","pathLenConstraint"]);const _=li(c,c,Hs.schema({names:{cA:"cA",pathLenConstraint:"pathLenConstraint"}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for BasicConstraints");"cA"in _.result&&(this.cA=_.result.cA.valueBlock.value),"pathLenConstraint"in _.result&&(this.pathLenConstraint=_.result.pathLenConstraint.valueBlock.isHexOnly?_.result.pathLenConstraint:_.result.pathLenConstraint.valueBlock.valueDec)}toSchema(){const c=[];return this.cA!==Hs.defaultValues("cA")&&c.push(new An({value:this.cA})),"pathLenConstraint"in this&&c.push(this.pathLenConstraint instanceof fn?this.pathLenConstraint:new fn({value:this.pathLenConstraint})),new mn({value:c})}toJSON(){const c={};return this.cA!==Hs.defaultValues("cA")&&(c.cA=this.cA),"pathLenConstraint"in this&&(c.pathLenConstraint=this.pathLenConstraint instanceof fn?this.pathLenConstraint.toJSON():this.pathLenConstraint),c}}class gr{constructor(c={}){"distributionPoint"in c&&(this.distributionPoint=w(c,"distributionPoint",gr.defaultValues("distributionPoint"))),this.onlyContainsUserCerts=w(c,"onlyContainsUserCerts",gr.defaultValues("onlyContainsUserCerts")),this.onlyContainsCACerts=w(c,"onlyContainsCACerts",gr.defaultValues("onlyContainsCACerts")),"onlySomeReasons"in c&&(this.onlySomeReasons=w(c,"onlySomeReasons",gr.defaultValues("onlySomeReasons"))),this.indirectCRL=w(c,"indirectCRL",gr.defaultValues("indirectCRL")),this.onlyContainsAttributeCerts=w(c,"onlyContainsAttributeCerts",gr.defaultValues("onlyContainsAttributeCerts")),"schema"in c&&this.fromSchema(c.schema)}static defaultValues(c){switch(c){case"distributionPoint":return[];case"onlyContainsUserCerts":case"onlyContainsCACerts":case"indirectCRL":case"onlyContainsAttributeCerts":return!1;case"onlySomeReasons":return 0;default:throw new Error(`Invalid member name for IssuingDistributionPoint class: ${c}`)}}static schema(c={}){const _=w(c,"names",{});return new mn({name:_.blockName||"",value:[new X({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new br({value:[new X({name:_.distributionPoint||"",idBlock:{tagClass:3,tagNumber:0},value:[new Mi({name:_.distributionPointNames||"",value:oi.schema()})]}),new X({name:_.distributionPoint||"",idBlock:{tagClass:3,tagNumber:1},value:Pr.schema().valueBlock.value})]})]}),new it({name:_.onlyContainsUserCerts||"",optional:!0,idBlock:{tagClass:3,tagNumber:1}}),new it({name:_.onlyContainsCACerts||"",optional:!0,idBlock:{tagClass:3,tagNumber:2}}),new it({name:_.onlySomeReasons||"",optional:!0,idBlock:{tagClass:3,tagNumber:3}}),new it({name:_.indirectCRL||"",optional:!0,idBlock:{tagClass:3,tagNumber:4}}),new it({name:_.onlyContainsAttributeCerts||"",optional:!0,idBlock:{tagClass:3,tagNumber:5}})]})}fromSchema(c){L(c,["distributionPoint","distributionPointNames","onlyContainsUserCerts","onlyContainsCACerts","onlySomeReasons","indirectCRL","onlyContainsAttributeCerts"]);const _=li(c,c,gr.schema({names:{distributionPoint:"distributionPoint",distributionPointNames:"distributionPointNames",onlyContainsUserCerts:"onlyContainsUserCerts",onlyContainsCACerts:"onlyContainsCACerts",onlySomeReasons:"onlySomeReasons",indirectCRL:"indirectCRL",onlyContainsAttributeCerts:"onlyContainsAttributeCerts"}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for IssuingDistributionPoint");if("distributionPoint"in _.result)switch(!0){case 0===_.result.distributionPoint.idBlock.tagNumber:this.distributionPoint=Array.from(_.result.distributionPointNames,A=>new oi({schema:A}));break;case 1===_.result.distributionPoint.idBlock.tagNumber:this.distributionPoint=new Pr({schema:new mn({value:_.result.distributionPoint.valueBlock.value})});break;default:throw new Error("Unknown tagNumber for distributionPoint: {$asn1.result.distributionPoint.idBlock.tagNumber}")}if("onlyContainsUserCerts"in _.result){const A=new Uint8Array(_.result.onlyContainsUserCerts.valueBlock.valueHex);this.onlyContainsUserCerts=0!==A[0]}if("onlyContainsCACerts"in _.result){const A=new Uint8Array(_.result.onlyContainsCACerts.valueBlock.valueHex);this.onlyContainsCACerts=0!==A[0]}if("onlySomeReasons"in _.result){const A=new Uint8Array(_.result.onlySomeReasons.valueBlock.valueHex);this.onlySomeReasons=A[0]}if("indirectCRL"in _.result){const A=new Uint8Array(_.result.indirectCRL.valueBlock.valueHex);this.indirectCRL=0!==A[0]}if("onlyContainsAttributeCerts"in _.result){const A=new Uint8Array(_.result.onlyContainsAttributeCerts.valueBlock.valueHex);this.onlyContainsAttributeCerts=0!==A[0]}}toSchema(){const c=[];if("distributionPoint"in this){let _;this.distributionPoint instanceof Array?_=new X({idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.distributionPoint,A=>A.toSchema())}):(_=this.distributionPoint.toSchema(),_.idBlock.tagClass=3,_.idBlock.tagNumber=1),c.push(new X({idBlock:{tagClass:3,tagNumber:0},value:[_]}))}if(this.onlyContainsUserCerts!==gr.defaultValues("onlyContainsUserCerts")&&c.push(new it({idBlock:{tagClass:3,tagNumber:1},valueHex:new Uint8Array([255]).buffer})),this.onlyContainsCACerts!==gr.defaultValues("onlyContainsCACerts")&&c.push(new it({idBlock:{tagClass:3,tagNumber:2},valueHex:new Uint8Array([255]).buffer})),"onlySomeReasons"in this){const _=new ArrayBuffer(1);new Uint8Array(_)[0]=this.onlySomeReasons,c.push(new it({idBlock:{tagClass:3,tagNumber:3},valueHex:_}))}return this.indirectCRL!==gr.defaultValues("indirectCRL")&&c.push(new it({idBlock:{tagClass:3,tagNumber:4},valueHex:new Uint8Array([255]).buffer})),this.onlyContainsAttributeCerts!==gr.defaultValues("onlyContainsAttributeCerts")&&c.push(new it({idBlock:{tagClass:3,tagNumber:5},valueHex:new Uint8Array([255]).buffer})),new mn({value:c})}toJSON(){const c={};return"distributionPoint"in this&&(c.distributionPoint=this.distributionPoint instanceof Array?Array.from(this.distributionPoint,_=>_.toJSON()):this.distributionPoint.toJSON()),this.onlyContainsUserCerts!==gr.defaultValues("onlyContainsUserCerts")&&(c.onlyContainsUserCerts=this.onlyContainsUserCerts),this.onlyContainsCACerts!==gr.defaultValues("onlyContainsCACerts")&&(c.onlyContainsCACerts=this.onlyContainsCACerts),"onlySomeReasons"in this&&(c.onlySomeReasons=this.onlySomeReasons),this.indirectCRL!==gr.defaultValues("indirectCRL")&&(c.indirectCRL=this.indirectCRL),this.onlyContainsAttributeCerts!==gr.defaultValues("onlyContainsAttributeCerts")&&(c.onlyContainsAttributeCerts=this.onlyContainsAttributeCerts),c}}class Ws{constructor(c={}){this.names=w(c,"names",Ws.defaultValues("names")),"schema"in c&&this.fromSchema(c.schema)}static defaultValues(c){if("names"===c)return[];throw new Error(`Invalid member name for GeneralNames class: ${c}`)}static schema(c={},_=!1){const A=w(c,"names",{});return new mn({optional:_,name:A.blockName||"",value:[new Mi({name:A.generalNames||"",value:oi.schema()})]})}fromSchema(c){L(c,["names","generalNames"]);const _=li(c,c,Ws.schema({names:{blockName:"names",generalNames:"generalNames"}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for GeneralNames");this.names=Array.from(_.result.generalNames,A=>new oi({schema:A}))}toSchema(){return new mn({value:Array.from(this.names,c=>c.toSchema())})}toJSON(){return{names:Array.from(this.names,c=>c.toJSON())}}}class Br{constructor(c={}){this.base=w(c,"base",Br.defaultValues("base")),this.minimum=w(c,"minimum",Br.defaultValues("minimum")),"maximum"in c&&(this.maximum=w(c,"maximum",Br.defaultValues("maximum"))),"schema"in c&&this.fromSchema(c.schema)}static defaultValues(c){switch(c){case"base":return new oi;case"minimum":case"maximum":return 0;default:throw new Error(`Invalid member name for GeneralSubtree class: ${c}`)}}static schema(c={}){const _=w(c,"names",{});return new mn({name:_.blockName||"",value:[oi.schema(_.base||{}),new X({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new fn({name:_.minimum||""})]}),new X({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new fn({name:_.maximum||""})]})]})}fromSchema(c){L(c,["base","minimum","maximum"]);const _=li(c,c,Br.schema({names:{base:{names:{blockName:"base"}},minimum:"minimum",maximum:"maximum"}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for GeneralSubtree");this.base=new oi({schema:_.result.base}),"minimum"in _.result&&(this.minimum=_.result.minimum.valueBlock.isHexOnly?_.result.minimum:_.result.minimum.valueBlock.valueDec),"maximum"in _.result&&(this.maximum=_.result.maximum.valueBlock.isHexOnly?_.result.maximum:_.result.maximum.valueBlock.valueDec)}toSchema(){const c=[];if(c.push(this.base.toSchema()),0!==this.minimum){let _=0;_=this.minimum instanceof fn?this.minimum:new fn({value:this.minimum}),c.push(new X({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[_]}))}if("maximum"in this){let _=0;_=this.maximum instanceof fn?this.maximum:new fn({value:this.maximum}),c.push(new X({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[_]}))}return new mn({value:c})}toJSON(){const c={base:this.base.toJSON()};return 0!==this.minimum&&(c.minimum="number"==typeof this.minimum?this.minimum:this.minimum.toJSON()),"maximum"in this&&(c.maximum="number"==typeof this.maximum?this.maximum:this.maximum.toJSON()),c}}class Gr{constructor(c={}){"permittedSubtrees"in c&&(this.permittedSubtrees=w(c,"permittedSubtrees",Gr.defaultValues("permittedSubtrees"))),"excludedSubtrees"in c&&(this.excludedSubtrees=w(c,"excludedSubtrees",Gr.defaultValues("excludedSubtrees"))),"schema"in c&&this.fromSchema(c.schema)}static defaultValues(c){switch(c){case"permittedSubtrees":case"excludedSubtrees":return[];default:throw new Error(`Invalid member name for NameConstraints class: ${c}`)}}static schema(c={}){const _=w(c,"names",{});return new mn({name:_.blockName||"",value:[new X({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new Mi({name:_.permittedSubtrees||"",value:Br.schema()})]}),new X({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new Mi({name:_.excludedSubtrees||"",value:Br.schema()})]})]})}fromSchema(c){L(c,["permittedSubtrees","excludedSubtrees"]);const _=li(c,c,Gr.schema({names:{permittedSubtrees:"permittedSubtrees",excludedSubtrees:"excludedSubtrees"}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for NameConstraints");"permittedSubtrees"in _.result&&(this.permittedSubtrees=Array.from(_.result.permittedSubtrees,A=>new Br({schema:A}))),"excludedSubtrees"in _.result&&(this.excludedSubtrees=Array.from(_.result.excludedSubtrees,A=>new Br({schema:A})))}toSchema(){const c=[];return"permittedSubtrees"in this&&c.push(new X({idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.permittedSubtrees,_=>_.toSchema())})),"excludedSubtrees"in this&&c.push(new X({idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.excludedSubtrees,_=>_.toSchema())})),new mn({value:c})}toJSON(){const c={};return"permittedSubtrees"in this&&(c.permittedSubtrees=Array.from(this.permittedSubtrees,_=>_.toJSON())),"excludedSubtrees"in this&&(c.excludedSubtrees=Array.from(this.excludedSubtrees,_=>_.toJSON())),c}}class Yr{constructor(c={}){"distributionPoint"in c&&(this.distributionPoint=w(c,"distributionPoint",Yr.defaultValues("distributionPoint"))),"reasons"in c&&(this.reasons=w(c,"reasons",Yr.defaultValues("reasons"))),"cRLIssuer"in c&&(this.cRLIssuer=w(c,"cRLIssuer",Yr.defaultValues("cRLIssuer"))),"schema"in c&&this.fromSchema(c.schema)}static defaultValues(c){switch(c){case"distributionPoint":case"cRLIssuer":return[];case"reasons":return new lt;default:throw new Error(`Invalid member name for DistributionPoint class: ${c}`)}}static schema(c={}){const _=w(c,"names",{});return new mn({name:_.blockName||"",value:[new X({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new br({value:[new X({name:_.distributionPoint||"",optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new Mi({name:_.distributionPointNames||"",value:oi.schema()})]}),new X({name:_.distributionPoint||"",optional:!0,idBlock:{tagClass:3,tagNumber:1},value:Pr.schema().valueBlock.value})]})]}),new it({name:_.reasons||"",optional:!0,idBlock:{tagClass:3,tagNumber:1}}),new X({name:_.cRLIssuer||"",optional:!0,idBlock:{tagClass:3,tagNumber:2},value:[new Mi({name:_.cRLIssuerNames||"",value:oi.schema()})]})]})}fromSchema(c){L(c,["distributionPoint","distributionPointNames","reasons","cRLIssuer","cRLIssuerNames"]);const _=li(c,c,Yr.schema({names:{distributionPoint:"distributionPoint",distributionPointNames:"distributionPointNames",reasons:"reasons",cRLIssuer:"cRLIssuer",cRLIssuerNames:"cRLIssuerNames"}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for DistributionPoint");"distributionPoint"in _.result&&(0===_.result.distributionPoint.idBlock.tagNumber&&(this.distributionPoint=Array.from(_.result.distributionPointNames,A=>new oi({schema:A}))),1===_.result.distributionPoint.idBlock.tagNumber&&(this.distributionPoint=new Pr({schema:new mn({value:_.result.distributionPoint.valueBlock.value})}))),"reasons"in _.result&&(this.reasons=new lt({valueHex:_.result.reasons.valueBlock.valueHex})),"cRLIssuer"in _.result&&(this.cRLIssuer=Array.from(_.result.cRLIssuerNames,A=>new oi({schema:A})))}toSchema(){const c=[];if("distributionPoint"in this){let _;_=new X(this.distributionPoint instanceof Array?{idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.distributionPoint,A=>A.toSchema())}:{idBlock:{tagClass:3,tagNumber:1},value:[this.distributionPoint.toSchema()]}),c.push(new X({idBlock:{tagClass:3,tagNumber:0},value:[_]}))}return"reasons"in this&&c.push(new it({idBlock:{tagClass:3,tagNumber:1},valueHex:this.reasons.valueBlock.valueHex})),"cRLIssuer"in this&&c.push(new X({idBlock:{tagClass:3,tagNumber:2},value:Array.from(this.cRLIssuer,_=>_.toSchema())})),new mn({value:c})}toJSON(){const c={};return"distributionPoint"in this&&(c.distributionPoint=this.distributionPoint instanceof Array?Array.from(this.distributionPoint,_=>_.toJSON()):this.distributionPoint.toJSON()),"reasons"in this&&(c.reasons=this.reasons.toJSON()),"cRLIssuer"in this&&(c.cRLIssuer=Array.from(this.cRLIssuer,_=>_.toJSON())),c}}class Cn{constructor(c={}){this.distributionPoints=w(c,"distributionPoints",Cn.defaultValues("distributionPoints")),"schema"in c&&this.fromSchema(c.schema)}static defaultValues(c){if("distributionPoints"===c)return[];throw new Error(`Invalid member name for CRLDistributionPoints class: ${c}`)}static schema(c={}){const _=w(c,"names",{});return new mn({name:_.blockName||"",value:[new Mi({name:_.distributionPoints||"",value:Yr.schema()})]})}fromSchema(c){L(c,["distributionPoints"]);const _=li(c,c,Cn.schema({names:{distributionPoints:"distributionPoints"}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for CRLDistributionPoints");this.distributionPoints=Array.from(_.result.distributionPoints,A=>new Yr({schema:A}))}toSchema(){return new mn({value:Array.from(this.distributionPoints,c=>c.toSchema())})}toJSON(){return{distributionPoints:Array.from(this.distributionPoints,c=>c.toJSON())}}}class bs{constructor(c={}){this.policyQualifierId=w(c,"policyQualifierId",bs.defaultValues("policyQualifierId")),this.qualifier=w(c,"qualifier",bs.defaultValues("qualifier")),"schema"in c&&this.fromSchema(c.schema)}static defaultValues(c){switch(c){case"policyQualifierId":return"";case"qualifier":return new _r;default:throw new Error(`Invalid member name for PolicyQualifierInfo class: ${c}`)}}static schema(c={}){const _=w(c,"names",{});return new mn({name:_.blockName||"",value:[new $t({name:_.policyQualifierId||""}),new _r({name:_.qualifier||""})]})}fromSchema(c){L(c,["policyQualifierId","qualifier"]);const _=li(c,c,bs.schema({names:{policyQualifierId:"policyQualifierId",qualifier:"qualifier"}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for PolicyQualifierInfo");this.policyQualifierId=_.result.policyQualifierId.valueBlock.toString(),this.qualifier=_.result.qualifier}toSchema(){return new mn({value:[new $t({value:this.policyQualifierId}),this.qualifier]})}toJSON(){return{policyQualifierId:this.policyQualifierId,qualifier:this.qualifier.toJSON()}}}class ke{constructor(c={}){this.policyIdentifier=w(c,"policyIdentifier",ke.defaultValues("policyIdentifier")),"policyQualifiers"in c&&(this.policyQualifiers=w(c,"policyQualifiers",ke.defaultValues("policyQualifiers"))),"schema"in c&&this.fromSchema(c.schema)}static defaultValues(c){switch(c){case"policyIdentifier":return"";case"policyQualifiers":return[];default:throw new Error(`Invalid member name for PolicyInformation class: ${c}`)}}static schema(c={}){const _=w(c,"names",{});return new mn({name:_.blockName||"",value:[new $t({name:_.policyIdentifier||""}),new mn({optional:!0,value:[new Mi({name:_.policyQualifiers||"",value:bs.schema()})]})]})}fromSchema(c){L(c,["policyIdentifier","policyQualifiers"]);const _=li(c,c,ke.schema({names:{policyIdentifier:"policyIdentifier",policyQualifiers:"policyQualifiers"}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for PolicyInformation");this.policyIdentifier=_.result.policyIdentifier.valueBlock.toString(),"policyQualifiers"in _.result&&(this.policyQualifiers=Array.from(_.result.policyQualifiers,A=>new bs({schema:A})))}toSchema(){const c=[];return c.push(new $t({value:this.policyIdentifier})),"policyQualifiers"in this&&c.push(new mn({value:Array.from(this.policyQualifiers,_=>_.toSchema())})),new mn({value:c})}toJSON(){const c={policyIdentifier:this.policyIdentifier};return"policyQualifiers"in this&&(c.policyQualifiers=Array.from(this.policyQualifiers,_=>_.toJSON())),c}}class Ue{constructor(c={}){this.certificatePolicies=w(c,"certificatePolicies",Ue.defaultValues("certificatePolicies")),"schema"in c&&this.fromSchema(c.schema)}static defaultValues(c){if("certificatePolicies"===c)return[];throw new Error(`Invalid member name for CertificatePolicies class: ${c}`)}static schema(c={}){const _=w(c,"names",{});return new mn({name:_.blockName||"",value:[new Mi({name:_.certificatePolicies||"",value:ke.schema()})]})}fromSchema(c){L(c,["certificatePolicies"]);const _=li(c,c,Ue.schema({names:{certificatePolicies:"certificatePolicies"}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for CertificatePolicies");this.certificatePolicies=Array.from(_.result.certificatePolicies,A=>new ke({schema:A}))}toSchema(){return new mn({value:Array.from(this.certificatePolicies,c=>c.toSchema())})}toJSON(){return{certificatePolicies:Array.from(this.certificatePolicies,c=>c.toJSON())}}}class he{constructor(c={}){this.issuerDomainPolicy=w(c,"issuerDomainPolicy",he.defaultValues("issuerDomainPolicy")),this.subjectDomainPolicy=w(c,"subjectDomainPolicy",he.defaultValues("subjectDomainPolicy")),"schema"in c&&this.fromSchema(c.schema)}static defaultValues(c){switch(c){case"issuerDomainPolicy":case"subjectDomainPolicy":return"";default:throw new Error(`Invalid member name for PolicyMapping class: ${c}`)}}static schema(c={}){const _=w(c,"names",{});return new mn({name:_.blockName||"",value:[new $t({name:_.issuerDomainPolicy||""}),new $t({name:_.subjectDomainPolicy||""})]})}fromSchema(c){L(c,["issuerDomainPolicy","subjectDomainPolicy"]);const _=li(c,c,he.schema({names:{issuerDomainPolicy:"issuerDomainPolicy",subjectDomainPolicy:"subjectDomainPolicy"}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for PolicyMapping");this.issuerDomainPolicy=_.result.issuerDomainPolicy.valueBlock.toString(),this.subjectDomainPolicy=_.result.subjectDomainPolicy.valueBlock.toString()}toSchema(){return new mn({value:[new $t({value:this.issuerDomainPolicy}),new $t({value:this.subjectDomainPolicy})]})}toJSON(){return{issuerDomainPolicy:this.issuerDomainPolicy,subjectDomainPolicy:this.subjectDomainPolicy}}}class Ze{constructor(c={}){this.mappings=w(c,"mappings",Ze.defaultValues("mappings")),"schema"in c&&this.fromSchema(c.schema)}static defaultValues(c){if("mappings"===c)return[];throw new Error(`Invalid member name for PolicyMappings class: ${c}`)}static schema(c={}){const _=w(c,"names",{});return new mn({name:_.blockName||"",value:[new Mi({name:_.mappings||"",value:he.schema()})]})}fromSchema(c){L(c,["mappings"]);const _=li(c,c,Ze.schema({names:{mappings:"mappings"}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for PolicyMappings");this.mappings=Array.from(_.result.mappings,A=>new he({schema:A}))}toSchema(){return new mn({value:Array.from(this.mappings,c=>c.toSchema())})}toJSON(){return{mappings:Array.from(this.mappings,c=>c.toJSON())}}}class Lt{constructor(c={}){"keyIdentifier"in c&&(this.keyIdentifier=w(c,"keyIdentifier",Lt.defaultValues("keyIdentifier"))),"authorityCertIssuer"in c&&(this.authorityCertIssuer=w(c,"authorityCertIssuer",Lt.defaultValues("authorityCertIssuer"))),"authorityCertSerialNumber"in c&&(this.authorityCertSerialNumber=w(c,"authorityCertSerialNumber",Lt.defaultValues("authorityCertSerialNumber"))),"schema"in c&&this.fromSchema(c.schema)}static defaultValues(c){switch(c){case"keyIdentifier":return new It;case"authorityCertIssuer":return[];case"authorityCertSerialNumber":return new fn;default:throw new Error(`Invalid member name for AuthorityKeyIdentifier class: ${c}`)}}static schema(c={}){const _=w(c,"names",{});return new mn({name:_.blockName||"",value:[new it({name:_.keyIdentifier||"",optional:!0,idBlock:{tagClass:3,tagNumber:0}}),new X({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new Mi({name:_.authorityCertIssuer||"",value:oi.schema()})]}),new it({name:_.authorityCertSerialNumber||"",optional:!0,idBlock:{tagClass:3,tagNumber:2}})]})}fromSchema(c){L(c,["keyIdentifier","authorityCertIssuer","authorityCertSerialNumber"]);const _=li(c,c,Lt.schema({names:{keyIdentifier:"keyIdentifier",authorityCertIssuer:"authorityCertIssuer",authorityCertSerialNumber:"authorityCertSerialNumber"}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for AuthorityKeyIdentifier");"keyIdentifier"in _.result&&(this.keyIdentifier=new It({valueHex:_.result.keyIdentifier.valueBlock.valueHex})),"authorityCertIssuer"in _.result&&(this.authorityCertIssuer=Array.from(_.result.authorityCertIssuer,A=>new oi({schema:A}))),"authorityCertSerialNumber"in _.result&&(this.authorityCertSerialNumber=new fn({valueHex:_.result.authorityCertSerialNumber.valueBlock.valueHex}))}toSchema(){const c=[];return"keyIdentifier"in this&&c.push(new it({idBlock:{tagClass:3,tagNumber:0},valueHex:this.keyIdentifier.valueBlock.valueHex})),"authorityCertIssuer"in this&&c.push(new X({idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.authorityCertIssuer,_=>_.toSchema())})),"authorityCertSerialNumber"in this&&c.push(new it({idBlock:{tagClass:3,tagNumber:2},valueHex:this.authorityCertSerialNumber.valueBlock.valueHex})),new mn({value:c})}toJSON(){const c={};return"keyIdentifier"in this&&(c.keyIdentifier=this.keyIdentifier.toJSON()),"authorityCertIssuer"in this&&(c.authorityCertIssuer=Array.from(this.authorityCertIssuer,_=>_.toJSON())),"authorityCertSerialNumber"in this&&(c.authorityCertSerialNumber=this.authorityCertSerialNumber.toJSON()),c}}class Kn{constructor(c={}){"requireExplicitPolicy"in c&&(this.requireExplicitPolicy=w(c,"requireExplicitPolicy",Kn.defaultValues("requireExplicitPolicy"))),"inhibitPolicyMapping"in c&&(this.inhibitPolicyMapping=w(c,"inhibitPolicyMapping",Kn.defaultValues("inhibitPolicyMapping"))),"schema"in c&&this.fromSchema(c.schema)}static defaultValues(c){switch(c){case"requireExplicitPolicy":case"inhibitPolicyMapping":return 0;default:throw new Error(`Invalid member name for PolicyConstraints class: ${c}`)}}static schema(c={}){const _=w(c,"names",{});return new mn({name:_.blockName||"",value:[new it({name:_.requireExplicitPolicy||"",optional:!0,idBlock:{tagClass:3,tagNumber:0}}),new it({name:_.inhibitPolicyMapping||"",optional:!0,idBlock:{tagClass:3,tagNumber:1}})]})}fromSchema(c){L(c,["requireExplicitPolicy","inhibitPolicyMapping"]);const _=li(c,c,Kn.schema({names:{requireExplicitPolicy:"requireExplicitPolicy",inhibitPolicyMapping:"inhibitPolicyMapping"}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for PolicyConstraints");if("requireExplicitPolicy"in _.result){const A=_.result.requireExplicitPolicy;A.idBlock.tagClass=1,A.idBlock.tagNumber=2;const ae=Ft(A.toBER(!1));this.requireExplicitPolicy=ae.result.valueBlock.valueDec}if("inhibitPolicyMapping"in _.result){const A=_.result.inhibitPolicyMapping;A.idBlock.tagClass=1,A.idBlock.tagNumber=2;const ae=Ft(A.toBER(!1));this.inhibitPolicyMapping=ae.result.valueBlock.valueDec}}toSchema(){const c=[];if("requireExplicitPolicy"in this){const _=new fn({value:this.requireExplicitPolicy});_.idBlock.tagClass=3,_.idBlock.tagNumber=0,c.push(_)}if("inhibitPolicyMapping"in this){const _=new fn({value:this.inhibitPolicyMapping});_.idBlock.tagClass=3,_.idBlock.tagNumber=1,c.push(_)}return new mn({value:c})}toJSON(){const c={};return"requireExplicitPolicy"in this&&(c.requireExplicitPolicy=this.requireExplicitPolicy),"inhibitPolicyMapping"in this&&(c.inhibitPolicyMapping=this.inhibitPolicyMapping),c}}class Si{constructor(c={}){this.keyPurposes=w(c,"keyPurposes",Si.defaultValues("keyPurposes")),"schema"in c&&this.fromSchema(c.schema)}static defaultValues(c){if("keyPurposes"===c)return[];throw new Error(`Invalid member name for ExtKeyUsage class: ${c}`)}static schema(c={}){const _=w(c,"names",{});return new mn({name:_.blockName||"",value:[new Mi({name:_.keyPurposes||"",value:new $t})]})}fromSchema(c){L(c,["keyPurposes"]);const _=li(c,c,Si.schema({names:{keyPurposes:"keyPurposes"}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for ExtKeyUsage");this.keyPurposes=Array.from(_.result.keyPurposes,A=>A.valueBlock.toString())}toSchema(){return new mn({value:Array.from(this.keyPurposes,c=>new $t({value:c}))})}toJSON(){return{keyPurposes:Array.from(this.keyPurposes)}}}class ds{constructor(c={}){this.accessMethod=w(c,"accessMethod",ds.defaultValues("accessMethod")),this.accessLocation=w(c,"accessLocation",ds.defaultValues("accessLocation")),"schema"in c&&this.fromSchema(c.schema)}static defaultValues(c){switch(c){case"accessMethod":return"";case"accessLocation":return new oi;default:throw new Error(`Invalid member name for AccessDescription class: ${c}`)}}static schema(c={}){const _=w(c,"names",{});return new mn({name:_.blockName||"",value:[new $t({name:_.accessMethod||""}),oi.schema(_.accessLocation||{})]})}fromSchema(c){L(c,["accessMethod","accessLocation"]);const _=li(c,c,ds.schema({names:{accessMethod:"accessMethod",accessLocation:{names:{blockName:"accessLocation"}}}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for AccessDescription");this.accessMethod=_.result.accessMethod.valueBlock.toString(),this.accessLocation=new oi({schema:_.result.accessLocation})}toSchema(){return new mn({value:[new $t({value:this.accessMethod}),this.accessLocation.toSchema()]})}toJSON(){return{accessMethod:this.accessMethod,accessLocation:this.accessLocation.toJSON()}}}class Cs{constructor(c={}){this.accessDescriptions=w(c,"accessDescriptions",Cs.defaultValues("accessDescriptions")),"schema"in c&&this.fromSchema(c.schema)}static defaultValues(c){if("accessDescriptions"===c)return[];throw new Error(`Invalid member name for InfoAccess class: ${c}`)}static schema(c={}){const _=w(c,"names",{});return new mn({name:_.blockName||"",value:[new Mi({name:_.accessDescriptions||"",value:ds.schema()})]})}fromSchema(c){L(c,["accessDescriptions"]);const _=li(c,c,Cs.schema({names:{accessDescriptions:"accessDescriptions"}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for InfoAccess");this.accessDescriptions=Array.from(_.result.accessDescriptions,A=>new ds({schema:A}))}toSchema(){return new mn({value:Array.from(this.accessDescriptions,c=>c.toSchema())})}toJSON(){return{accessDescriptions:Array.from(this.accessDescriptions,c=>c.toJSON())}}}class ni{constructor(c={}){if("view"in c)this.fromUint8Array(c.view);else if("buffer"in c)this.fromArrayBuffer(c.buffer);else if("string"in c)this.fromString(c.string);else if("hexstring"in c)this.fromHexString(c.hexstring);else if("length"in c&&c.length>0){if(this.length=c.length,c.stub)for(let _=0;_<this._view.length;_++)this._view[_]=c.stub}else this.length=0}set buffer(c){this._buffer=c,this._view=new Uint8Array(this._buffer)}get buffer(){return this._buffer}set view(c){this._buffer=new ArrayBuffer(c.length),this._view=new Uint8Array(this._buffer),this._view.set(c)}get view(){return this._view}get length(){return this.view.byteLength}set length(c){this._buffer=new ArrayBuffer(c),this._view=new Uint8Array(this._buffer)}clear(){this._buffer=new ArrayBuffer(0),this._view=new Uint8Array(this._buffer)}fromArrayBuffer(c){this._buffer=c,this._view=new Uint8Array(this._buffer)}fromUint8Array(c){this.fromArrayBuffer(new Uint8Array(c).buffer)}fromString(c){const _=c.length;this.length=_;for(let A=0;A<_;A++)this.view[A]=c.charCodeAt(A)}toString(c=0,_=this.view.length-c){let A="";(c>=this.view.length||c<0)&&(c=0),(_>=this.view.length||_<0)&&(_=this.view.length-c);for(let W=c;W<c+_;W++)A+=String.fromCharCode(this.view[W]);return A}fromHexString(c){const _=c.length;this.buffer=new ArrayBuffer(_>>1),this.view=new Uint8Array(this.buffer);const A=new Map;A.set("0",0),A.set("1",1),A.set("2",2),A.set("3",3),A.set("4",4),A.set("5",5),A.set("6",6),A.set("7",7),A.set("8",8),A.set("9",9),A.set("A",10),A.set("a",10),A.set("B",11),A.set("b",11),A.set("C",12),A.set("c",12),A.set("D",13),A.set("d",13),A.set("E",14),A.set("e",14),A.set("F",15),A.set("f",15);let W=0,ae=0;for(let ve=0;ve<_;ve++)ve%2?(ae|=A.get(c.charAt(ve)),this.view[W]=ae,W++):ae=A.get(c.charAt(ve))<<4}toHexString(c=0,_=this.view.length-c){let A="";(c>=this.view.length||c<0)&&(c=0),(_>=this.view.length||_<0)&&(_=this.view.length-c);for(let W=c;W<c+_;W++){const ae=this.view[W].toString(16).toUpperCase();A=A+(1==ae.length?"0":"")+ae}return A}copy(c=0,_=this.length-c){if(!c&&!this.length)return new ni;if(c<0||c>this.length-1)throw new Error(`Wrong start position: ${c}`);return new ni({buffer:this._buffer.slice(c,c+_)})}slice(c=0,_=this.length){if(!c&&!this.length)return new ni;if(c<0||c>this.length-1)throw new Error(`Wrong start position: ${c}`);return new ni({buffer:this._buffer.slice(c,_)})}realloc(c){const _=new ArrayBuffer(c);new Uint8Array(_).set(c>this._view.length?this._view:new Uint8Array(this._buffer,0,c)),this._buffer=_,this._view=new Uint8Array(this._buffer)}append(c){const _=this.length,A=c.length,W=c._view.subarray();this.realloc(_+A),this._view.set(W,_)}insert(c,_=0,A=this.length-_){return!(_>this.length-1||(A>this.length-_&&(A=this.length-_),A>c.length&&(A=c.length),this._view.set(A==c.length?c._view:c._view.subarray(0,A),_),0))}isEqual(c){if(this.length!=c.length)return!1;for(let _=0;_<c.length;_++)if(this.view[_]!=c.view[_])return!1;return!0}isEqualView(c){if(c.length!=this.view.length)return!1;for(let _=0;_<c.length;_++)if(this.view[_]!=c[_])return!1;return!0}findPattern(c,_,A,W){const{start:ae,length:ve,backward:Ge}=this.prepareFindParameters(_,A,W),I=c.length;if(I>ve)return-1;const V=[];for(let B=0;B<I;B++)V.push(c.view[B]);for(let B=0;B<=ve-I;B++){let Q=!0;const ge=Ge?ae-I-B:ae+B;for(let $e=0;$e<I;$e++)if(this.view[$e+ge]!=V[$e]){Q=!1;break}if(Q)return Ge?ae-I-B:ae+I+B}return-1}findFirstIn(c,_,A,W){const{start:ae,length:ve,backward:Ge}=this.prepareFindParameters(_,A,W),I={id:-1,position:Ge?0:ae+ve,length:0};for(let V=0;V<c.length;V++){const B=this.findPattern(c[V],ae,ve,Ge);if(-1!=B){let Q=!1;const ge=c[V].length;Ge?B-ge>=I.position-I.length&&(Q=!0):B-ge<=I.position-I.length&&(Q=!0),Q&&(I.position=B,I.id=V,I.length=ge)}}return I}findAllIn(c,_,A){let{start:W,length:ae}=this.prepareFindParameters(_,A);const ve=[];let Ge={id:-1,position:W};for(;;){const I=Ge.position;if(Ge=this.findFirstIn(c,Ge.position,ae),-1==Ge.id)break;ae-=Ge.position-I,ve.push({id:Ge.id,position:Ge.position})}return ve}findAllPatternIn(c,_,A){const{start:W,length:ae}=this.prepareFindParameters(_,A),ve=[],Ge=c.length;if(Ge>ae)return-1;const I=Array.from(c.view);for(let V=0;V<=ae-Ge;V++){let B=!0;const Q=W+V;for(let ge=0;ge<Ge;ge++)if(this.view[ge+Q]!=I[ge]){B=!1;break}B&&(ve.push(W+Ge+V),V+=Ge-1)}return ve}findFirstNotIn(c,_,A,W){let{start:ae,length:ve,backward:Ge}=this.prepareFindParameters(_,A,W);const I={left:{id:-1,position:ae},right:{id:-1,position:0},value:new ni};let V=ve;for(;V>0;){if(I.right=this.findFirstIn(c,Ge?ae-ve+V:ae+ve-V,V,Ge),-1==I.right.id){ve=V,Ge?ae-=ve:ae=I.left.position,I.value=new ni({buffer:this._buffer.slice(ae,ae+ve)});break}if(I.right.position!=(Ge?I.left.position-c[I.right.id].length:I.left.position+c[I.right.id].length)){Ge?(ae=I.right.position+c[I.right.id].length,ve=I.left.position-I.right.position-c[I.right.id].length):(ae=I.left.position,ve=I.right.position-I.left.position-c[I.right.id].length),I.value=new ni({buffer:this._buffer.slice(ae,ae+ve)});break}I.left=I.right,V-=c[I.right.id].length}if(Ge){const B=I.right;I.right=I.left,I.left=B}return I}findAllNotIn(c,_,A){let{start:W,length:ae}=this.prepareFindParameters(_,A);const ve=[];let Ge={left:{id:-1,position:W},right:{id:-1,position:W},value:new ni};do{const I=Ge.right.position;Ge=this.findFirstNotIn(c,Ge.right.position,ae),ae-=Ge.right.position-I,ve.push({left:{id:Ge.left.id,position:Ge.left.position},right:{id:Ge.right.id,position:Ge.right.position},value:Ge.value})}while(-1!=Ge.right.id);return ve}findFirstSequence(c,_,A,W){let{start:ae,length:ve,backward:Ge}=this.prepareFindParameters(_,A,W);const I=this.skipNotPatterns(c,ae,ve,Ge);if(-1==I)return{position:-1,value:new ni};const V=this.skipPatterns(c,I,ve-(Ge?ae-I:I-ae),Ge);return Ge?(ae=V,ve=I-V):(ae=I,ve=V-I),{position:V,value:new ni({buffer:this._buffer.slice(ae,ae+ve)})}}findAllSequences(c,_,A){let{start:W,length:ae}=this.prepareFindParameters(_,A);const ve=[];let Ge={position:W,value:new ni};do{const I=Ge.position;Ge=this.findFirstSequence(c,Ge.position,ae),-1!=Ge.position&&(ae-=Ge.position-I,ve.push({position:Ge.position,value:Ge.value}))}while(-1!=Ge.position);return ve}findPairedPatterns(c,_,A,W){const ae=[];if(c.isEqual(_))return ae;const{start:ve,length:Ge}=this.prepareFindParameters(A,W);let I=0;const V=this.findAllPatternIn(c,ve,Ge);if(!Array.isArray(V)||0==V.length)return ae;const B=this.findAllPatternIn(_,ve,Ge);if(!Array.isArray(B)||0==B.length)return ae;for(;I<V.length&&0!=B.length;)if(V[0]!=B[0]){if(V[I]>B[0])break;for(;V[I]<B[0]&&(I++,!(I>=V.length)););ae.push({left:V[I-1],right:B[0]}),V.splice(I-1,1),B.splice(0,1),I=0}else ae.push({left:V[0],right:B[0]}),V.splice(0,1),B.splice(0,1);return ae.sort((Q,ge)=>Q.left-ge.left),ae}findPairedArrays(c,_,A,W){const{start:ae,length:ve}=this.prepareFindParameters(A,W),Ge=[];let I=0;const V=this.findAllIn(c,ae,ve);if(0==V.length)return Ge;const B=this.findAllIn(_,ae,ve);if(0==B.length)return Ge;for(;I<V.length&&0!=B.length;)if(V[0].position!=B[0].position){if(V[I].position>B[0].position)break;for(;V[I].position<B[0].position&&(I++,!(I>=V.length)););Ge.push({left:V[I-1],right:B[0]}),V.splice(I-1,1),B.splice(0,1),I=0}else Ge.push({left:V[0],right:B[0]}),V.splice(0,1),B.splice(0,1);return Ge.sort((Q,ge)=>Q.left.position-ge.left.position),Ge}replacePattern(c,_,A,W,ae=null){let Ge,ve=[];const I={status:-1,searchPatternPositions:[],replacePatternPositions:[]},{start:V,length:B}=this.prepareFindParameters(A,W);if(null==ae){if(ve=this.findAllIn([c],V,B),0==ve.length)return I}else ve=ae;I.searchPatternPositions.push(...Array.from(ve,_t=>_t.position));const Q=c.length-_.length,ge=new ArrayBuffer(this.view.length-ve.length*Q),$e=new Uint8Array(ge);for($e.set(new Uint8Array(this.buffer,0,V)),Ge=0;Ge<ve.length;Ge++){const _t=0==Ge?V:ve[Ge-1].position;$e.set(new Uint8Array(this.buffer,_t,ve[Ge].position-c.length-_t),_t-Ge*Q),$e.set(_.view,ve[Ge].position-c.length-Ge*Q),I.replacePatternPositions.push(ve[Ge].position-c.length-Ge*Q)}return Ge--,$e.set(new Uint8Array(this.buffer,ve[Ge].position,this.length-ve[Ge].position),ve[Ge].position-c.length+_.length-Ge*Q),this.buffer=ge,this.view=new Uint8Array(this.buffer),I.status=1,I}skipPatterns(c,_,A,W){const{start:ae,length:ve,backward:Ge}=this.prepareFindParameters(_,A,W);let I=ae;for(let V=0;V<c.length;V++){const B=c[V].length,Q=Ge?I-B:I;let ge=!0;for(let $e=0;$e<B;$e++)if(this.view[$e+Q]!=c[V].view[$e]){ge=!1;break}if(ge)if(V=-1,Ge){if(I-=B,I<=0)return I}else if(I+=B,I>=ae+ve)return I}return I}skipNotPatterns(c,_,A,W){const{start:ae,length:ve,backward:Ge}=this.prepareFindParameters(_,A,W);let I=-1;for(let V=0;V<ve;V++){for(let B=0;B<c.length;B++){const Q=c[B].length,ge=Ge?ae-V-Q:ae+V;let $e=!0;for(let _t=0;_t<Q;_t++)if(this.view[_t+ge]!=c[B].view[_t]){$e=!1;break}if($e){I=Ge?ae-V:ae+V;break}}if(-1!=I)break}return I}prepareFindParameters(c=null,_=null,A=!1){return null===c&&(c=A?this.length:0),c>this.length&&(c=this.length),A?(null===_&&(_=c),_>c&&(_=c)):(null===_&&(_=this.length-c),_>this.length-c&&(_=this.length-c)),{start:c,length:_,backward:A}}}let Re=(()=>{class Le{constructor(_={}){this._stream=new ni,this._length=0,this._start=0,this.backward=!1,this.appendBlock=0,this.prevLength=0,this.prevStart=0,this.stream="view"in _?new ni({view:_.view}):"buffer"in _?new ni({buffer:_.buffer}):"string"in _?new ni({string:_.string}):"hexstring"in _?new ni({hexstring:_.hexstring}):"stream"in _?_.stream.slice():new ni,"backward"in _&&_.backward&&(this.backward=_.backward,this._start=this.stream.length),"length"in _&&_.length>0&&(this._length=_.length),"start"in _&&_.start&&_.start>0&&(this._start=_.start),"appendBlock"in _&&_.appendBlock&&_.appendBlock>0&&(this.appendBlock=_.appendBlock)}set stream(_){this._stream=_,this.prevLength=this._length,this._length=_.length,this.prevStart=this._start,this._start=0}get stream(){return this._stream}set length(_){this.prevLength=this._length,this._length=_}get length(){return this.appendBlock?this.start:this._length}set start(_){_>this.stream.length||(this.prevStart=this._start,this.prevLength=this._length,this._length-=this.backward?this._start-_:_-this._start,this._start=_)}get start(){return this._start}get buffer(){return this._stream.buffer.slice(0,this._length)}resetPosition(){this._start=this.prevStart,this._length=this.prevLength}findPattern(_,A=null){(null==A||A>this.length)&&(A=this.length);const W=this.stream.findPattern(_,this.start,this.length,this.backward);if(-1==W)return W;if(this.backward){if(W<this.start-_.length-A)return-1}else if(W>this.start+_.length+A)return-1;return this.start=W,W}findFirstIn(_,A=null){(null==A||A>this.length)&&(A=this.length);const W=this.stream.findFirstIn(_,this.start,this.length,this.backward);if(-1==W.id)return W;if(this.backward){if(W.position<this.start-_[W.id].length-A)return{id:-1,position:this.backward?0:this.start+this.length}}else if(W.position>this.start+_[W.id].length+A)return{id:-1,position:this.backward?0:this.start+this.length};return this.start=W.position,W}findAllIn(_){return this.stream.findAllIn(_,this.backward?this.start-this.length:this.start,this.length)}findFirstNotIn(_,A=null){(null==A||A>this._length)&&(A=this._length);const W=this._stream.findFirstNotIn(_,this._start,this._length,this.backward);if(-1==W.left.id&&-1==W.right.id)return W;if(this.backward){if(-1!=W.right.id&&W.right.position<this._start-_[W.right.id].length-A)return{left:{id:-1,position:this._start},right:{id:-1,position:0},value:new ni}}else if(-1!=W.left.id&&W.left.position>this._start+_[W.left.id].length+A)return{left:{id:-1,position:this._start},right:{id:-1,position:0},value:new ni};return this.start=this.backward?-1==W.left.id?0:W.left.position:-1==W.right.id?this._start+this._length:W.right.position,W}findAllNotIn(_){return this._stream.findAllNotIn(_,this.backward?this._start-this._length:this._start,this._length)}findFirstSequence(_,A=null,W=null){(null==A||A>this._length)&&(A=this._length),(null==W||W>A)&&(W=A);const ae=this._stream.findFirstSequence(_,this._start,A,this.backward);if(0==ae.value.length)return ae;if(this.backward){if(ae.position<this._start-ae.value.length-W)return{position:-1,value:new ni}}else if(ae.position>this._start+ae.value.length+W)return{position:-1,value:new ni};return this.start=ae.position,ae}findAllSequences(_){return this.stream.findAllSequences(_,this.backward?this.start-this.length:this.start,this.length)}findPairedPatterns(_,A,W=null){(null==W||W>this.length)&&(W=this.length);const ve=this.stream.findPairedPatterns(_,A,this.backward?this.start-this.length:this.start,this.length);if(ve.length)if(this.backward){if(ve[0].right<this.start-A.length-W)return[]}else if(ve[0].left>this.start+_.length+W)return[];return ve}findPairedArrays(_,A,W=null){(null==W||W>this.length)&&(W=this.length);const ve=this.stream.findPairedArrays(_,A,this.backward?this.start-this.length:this.start,this.length);if(ve.length)if(this.backward){if(ve[0].right.position<this.start-A[ve[0].right.id].length-W)return[]}else if(ve[0].left.position>this.start+_[ve[0].left.id].length+W)return[];return ve}replacePattern(_,A){return this.stream.replacePattern(_,A,this.backward?this.start-this.length:this.start,this.length)}skipPatterns(_){const A=this.stream.skipPatterns(_,this.start,this.length,this.backward);return this.start=A,A}skipNotPatterns(_){const A=this.stream.skipNotPatterns(_,this.start,this.length,this.backward);return-1==A?-1:(this.start=A,A)}append(_){this.beforeAppend(_.length),this._stream.view.set(_.view,this._start),this._length+=2*_.length,this.start=this._start+_.length,this.prevLength-=2*_.length}appendView(_){this.beforeAppend(_.length),this._stream.view.set(_,this._start),this._length+=2*_.length,this.start=this._start+_.length,this.prevLength-=2*_.length}appendChar(_){this.beforeAppend(1),this._stream.view[this._start]=_,this._length+=2,this.start=this._start+1,this.prevLength-=2}appendUint16(_){this.beforeAppend(2);const A=new Uint16Array([_]),W=new Uint8Array(A.buffer);this.stream.view[this._start]=W[1],this._stream.view[this._start+1]=W[0],this._length+=4,this.start=this._start+2,this.prevLength-=4}appendUint24(_){this.beforeAppend(3);const A=new Uint32Array([_]),W=new Uint8Array(A.buffer);this._stream.view[this._start]=W[2],this._stream.view[this._start+1]=W[1],this._stream.view[this._start+2]=W[0],this._length+=6,this.start=this._start+3,this.prevLength-=6}appendUint32(_){this.beforeAppend(4);const A=new Uint32Array([_]),W=new Uint8Array(A.buffer);this._stream.view[this._start]=W[3],this._stream.view[this._start+1]=W[2],this._stream.view[this._start+2]=W[1],this._stream.view[this._start+3]=W[0],this._length+=8,this.start=this._start+4,this.prevLength-=8}appendInt16(_){this.beforeAppend(2);const A=new Int16Array([_]),W=new Uint8Array(A.buffer);this._stream.view[this._start]=W[1],this._stream.view[this._start+1]=W[0],this._length+=4,this.start=this._start+2,this.prevLength-=4}appendInt32(_){this.beforeAppend(4);const A=new Int32Array([_]),W=new Uint8Array(A.buffer);this._stream.view[this._start]=W[3],this._stream.view[this._start+1]=W[2],this._stream.view[this._start+2]=W[1],this._stream.view[this._start+3]=W[0],this._length+=8,this.start=this._start+4,this.prevLength-=8}getBlock(_,A=!0){if(this._length<=0)return new Uint8Array(0);let W;if(this._length<_&&(_=this._length),this.backward){const ae=this._stream.view.subarray(this._length-_,this._length);W=new Uint8Array(_);for(let ve=0;ve<_;ve++)W[_-1-ve]=ae[ve]}else W=this._stream.view.subarray(this._start,this._start+_);return A&&(this.start+=this.backward?-1*_:_),W}getUint16(_=!0){const A=this.getBlock(2,_);if(A.length<2)return 0;const W=new Uint16Array(1),ae=new Uint8Array(W.buffer);return ae[0]=A[1],ae[1]=A[0],W[0]}getInt16(_=!0){const A=this.getBlock(2,_);if(A.length<2)return 0;const W=new Int16Array(1),ae=new Uint8Array(W.buffer);return ae[0]=A[1],ae[1]=A[0],W[0]}getUint24(_=!0){const A=this.getBlock(3,_);if(A.length<3)return 0;const W=new Uint32Array(1),ae=new Uint8Array(W.buffer);for(let ve=3;ve>=1;ve--)ae[3-ve]=A[ve-1];return W[0]}getUint32(_=!0){const A=this.getBlock(4,_);if(A.length<4)return 0;const W=new Uint32Array(1),ae=new Uint8Array(W.buffer);for(let ve=3;ve>=0;ve--)ae[3-ve]=A[ve];return W[0]}getInt32(_=!0){const A=this.getBlock(4,_);if(A.length<4)return 0;const W=new Int32Array(1),ae=new Uint8Array(W.buffer);for(let ve=3;ve>=0;ve--)ae[3-ve]=A[ve];return W[0]}beforeAppend(_){this._start+_>this._stream.length&&(_>this.appendBlock&&(this.appendBlock=_+Le.APPEND_BLOCK),this._stream.realloc(this._stream.length+this.appendBlock))}}return Le.APPEND_BLOCK=1e3,Le})();class Je{constructor(c={}){this.version=w(c,"version",Je.defaultValues("version")),this.logID=w(c,"logID",Je.defaultValues("logID")),this.timestamp=w(c,"timestamp",Je.defaultValues("timestamp")),this.extensions=w(c,"extensions",Je.defaultValues("extensions")),this.hashAlgorithm=w(c,"hashAlgorithm",Je.defaultValues("hashAlgorithm")),this.signatureAlgorithm=w(c,"signatureAlgorithm",Je.defaultValues("signatureAlgorithm")),this.signature=w(c,"signature",Je.defaultValues("signature")),"schema"in c&&this.fromSchema(c.schema),"stream"in c&&this.fromStream(c.stream)}static defaultValues(c){switch(c){case"version":return 0;case"logID":case"extensions":return new ArrayBuffer(0);case"timestamp":return new Date(0);case"hashAlgorithm":case"signatureAlgorithm":return"";case"signature":return new _r;default:throw new Error(`Invalid member name for SignedCertificateTimestamp class: ${c}`)}}fromSchema(c){if(!(c instanceof Zs))throw new Error("Object's schema was not verified against input data for SignedCertificateTimestamp");const _=new Re({stream:new ni({buffer:c.data})});this.fromStream(_)}fromStream(c){const _=c.getUint16();if(this.version=c.getBlock(1)[0],0===this.version){this.logID=new Uint8Array(c.getBlock(32)).buffer.slice(0),this.timestamp=new Date(u(new Uint8Array(c.getBlock(8)),8));const A=c.getUint16();switch(this.extensions=new Uint8Array(c.getBlock(A)).buffer.slice(0),c.getBlock(1)[0]){case 0:this.hashAlgorithm="none";break;case 1:this.hashAlgorithm="md5";break;case 2:this.hashAlgorithm="sha1";break;case 3:this.hashAlgorithm="sha224";break;case 4:this.hashAlgorithm="sha256";break;case 5:this.hashAlgorithm="sha384";break;case 6:this.hashAlgorithm="sha512";break;default:throw new Error("Object's stream was not correct for SignedCertificateTimestamp")}switch(c.getBlock(1)[0]){case 0:this.signatureAlgorithm="anonymous";break;case 1:this.signatureAlgorithm="rsa";break;case 2:this.signatureAlgorithm="dsa";break;case 3:this.signatureAlgorithm="ecdsa";break;default:throw new Error("Object's stream was not correct for SignedCertificateTimestamp")}const W=c.getUint16(),ve=Ft(new Uint8Array(c.getBlock(W)).buffer.slice(0));if(-1===ve.offset)throw new Error("Object's stream was not correct for SignedCertificateTimestamp");if(this.signature=ve.result,_!==47+A+W)throw new Error("Object's stream was not correct for SignedCertificateTimestamp")}}toSchema(){const c=this.toStream();return new Zs({data:c.stream.buffer})}toStream(){const c=new Re;c.appendUint16(47+this.extensions.byteLength+this.signature.valueBeforeDecode.byteLength),c.appendChar(this.version),c.appendView(new Uint8Array(this.logID));const _=new ArrayBuffer(8),A=new Uint8Array(_),W=f(this.timestamp.valueOf(),8);let ae,ve;switch(A.set(new Uint8Array(W),8-W.byteLength),c.appendView(A),c.appendUint16(this.extensions.byteLength),this.extensions.byteLength&&c.appendView(new Uint8Array(this.extensions)),this.hashAlgorithm.toLowerCase()){case"none":ae=0;break;case"md5":ae=1;break;case"sha1":ae=2;break;case"sha224":ae=3;break;case"sha256":ae=4;break;case"sha384":ae=5;break;case"sha512":ae=6;break;default:throw new Error(`Incorrect data for hashAlgorithm: ${this.hashAlgorithm}`)}switch(c.appendChar(ae),this.signatureAlgorithm.toLowerCase()){case"anonymous":ve=0;break;case"rsa":ve=1;break;case"dsa":ve=2;break;case"ecdsa":ve=3;break;default:throw new Error(`Incorrect data for signatureAlgorithm: ${this.signatureAlgorithm}`)}c.appendChar(ve);const Ge=this.signature.toBER(!1);return c.appendUint16(Ge.byteLength),c.appendView(new Uint8Array(Ge)),c}toJSON(){return{version:this.version,logID:C(this.logID),timestamp:this.timestamp,extensions:C(this.extensions),hashAlgorithm:this.hashAlgorithm,signatureAlgorithm:this.signatureAlgorithm,signature:this.signature.toJSON()}}verify(c,_,A=0){var W=this;return(0,n.A)(function*(){let Ge,ae=R(U(W.logID)),ve=null,I=new Re;for(const $e of c)if($e.log_id===ae){ve=$e.key;break}if(null===ve)throw new Error(`Public key not found for CT with logId: ${ae}`);const V=Ft($(j(ve)));if(-1===V.offset)throw new Error(`Incorrect key value for CT Log with logId: ${ae}`);Ge=new Dr({schema:V.result}),I.appendChar(0),I.appendChar(0);const B=new ArrayBuffer(8),Q=new Uint8Array(B),ge=f(W.timestamp.valueOf(),8);return Q.set(new Uint8Array(ge),8-ge.byteLength),I.appendView(Q),I.appendUint16(A),0===A&&I.appendUint24(_.byteLength),I.appendView(new Uint8Array(_)),I.appendUint16(W.extensions.byteLength),0!==W.extensions.byteLength&&I.appendView(new Uint8Array(W.extensions)),ls().subtle.verifyWithPublicKey(I._stream._buffer.slice(0,I._length),{valueBlock:{valueHex:W.signature.toBER(!1)}},Ge,{algorithmId:""},"SHA-256")})()}}class Et{constructor(c={}){this.timestamps=w(c,"timestamps",Et.defaultValues("timestamps")),"schema"in c&&this.fromSchema(c.schema)}static defaultValues(c){if("timestamps"===c)return[];throw new Error(`Invalid member name for SignedCertificateTimestampList class: ${c}`)}static compareWithDefault(c,_){if("timestamps"===c)return 0===_.length;throw new Error(`Invalid member name for SignedCertificateTimestampList class: ${c}`)}static schema(c={}){const _=w(c,"names",{});return"optional"in _||(_.optional=!1),new It({name:_.blockName||"SignedCertificateTimestampList",optional:_.optional})}fromSchema(c){if(!(c instanceof It))throw new Error("Object's schema was not verified against input data for SignedCertificateTimestampList");const _=new Re({stream:new ni({buffer:c.valueBlock.valueHex})});if(_.getUint16()!==_.length)throw new Error("Object's schema was not verified against input data for SignedCertificateTimestampList");for(;_.length;)this.timestamps.push(new Je({stream:_}))}toSchema(){const c=new Re;let _=0;const A=[];for(const W of this.timestamps){const ae=W.toStream();A.push(ae),_+=ae.stream.buffer.byteLength}c.appendUint16(_);for(const W of A)c.appendView(W.stream.view);return new It({valueHex:c.stream.buffer.slice(0)})}toJSON(){return{timestamps:Array.from(this.timestamps,c=>c.toJSON())}}}class St{constructor(c={}){this.templateID=w(c,"templateID",St.defaultValues("templateID")),"templateMajorVersion"in c&&(this.templateMajorVersion=w(c,"templateMajorVersion",St.defaultValues("templateMajorVersion"))),"templateMinorVersion"in c&&(this.templateMinorVersion=w(c,"templateMinorVersion",St.defaultValues("templateMinorVersion"))),"schema"in c&&this.fromSchema(c.schema)}static defaultValues(c){switch(c){case"templateID":return"";case"templateMajorVersion":case"templateMinorVersion":return 0;default:throw new Error(`Invalid member name for CertificateTemplate class: ${c}`)}}static schema(c={}){const _=w(c,"names",{});return new mn({name:_.blockName||"",value:[new $t({name:_.templateID||""}),new fn({name:_.templateMajorVersion||"",optional:!0}),new fn({name:_.templateMinorVersion||"",optional:!0})]})}fromSchema(c){L(c,["templateID","templateMajorVersion","templateMinorVersion"]);let _=li(c,c,St.schema({names:{templateID:"templateID",templateMajorVersion:"templateMajorVersion",templateMinorVersion:"templateMinorVersion"}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for CertificateTemplate");this.templateID=_.result.templateID.valueBlock.toString(),"templateMajorVersion"in _.result&&(this.templateMajorVersion=_.result.templateMajorVersion.valueBlock.valueDec),"templateMinorVersion"in _.result&&(this.templateMinorVersion=_.result.templateMinorVersion.valueBlock.valueDec)}toSchema(){const c=[];return c.push(new $t({value:this.templateID})),"templateMajorVersion"in this&&c.push(new fn({value:this.templateMajorVersion})),"templateMinorVersion"in this&&c.push(new fn({value:this.templateMinorVersion})),new mn({value:c})}toJSON(){const c={extnID:this.templateID};return"templateMajorVersion"in this&&(c.templateMajorVersion=this.templateMajorVersion),"templateMinorVersion"in this&&(c.templateMinorVersion=this.templateMinorVersion),c}}class on{constructor(c={}){this.certificateIndex=w(c,"certificateIndex",on.defaultValues("certificateIndex")),this.keyIndex=w(c,"keyIndex",on.defaultValues("keyIndex")),"schema"in c&&this.fromSchema(c.schema)}static defaultValues(c){switch(c){case"certificateIndex":case"keyIndex":return 0;default:throw new Error(`Invalid member name for CAVersion class: ${c}`)}}static schema(c={}){return new fn}fromSchema(c){if(c.constructor.blockName()!==fn.blockName())throw new Error("Object's schema was not verified against input data for CAVersion");let _=c.valueBlock.valueHex.slice(0);const A=new Uint8Array(_);switch(!0){case _.byteLength<4:{const Q=new ArrayBuffer(4);new Uint8Array(Q).set(A,4-_.byteLength),_=Q.slice(0)}break;case _.byteLength>4:{const Q=new ArrayBuffer(4);new Uint8Array(Q).set(A.slice(0,4)),_=Q.slice(0)}}const W=_.slice(0,2),ae=new Uint8Array(W);let ve=ae[0];ae[0]=ae[1],ae[1]=ve;const Ge=new Uint16Array(W);this.keyIndex=Ge[0];const I=_.slice(2),V=new Uint8Array(I);ve=V[0],V[0]=V[1],V[1]=ve;const B=new Uint16Array(I);this.certificateIndex=B[0]}toSchema(){const c=new ArrayBuffer(2);new Uint16Array(c)[0]=this.certificateIndex;const A=new Uint8Array(c);let W=A[0];A[0]=A[1],A[1]=W;const ae=new ArrayBuffer(2);new Uint16Array(ae)[0]=this.keyIndex;const Ge=new Uint8Array(ae);return W=Ge[0],Ge[0]=Ge[1],Ge[1]=W,new fn({valueHex:T(ae,c)})}toJSON(){return{certificateIndex:this.certificateIndex,keyIndex:this.keyIndex}}}class Nn{constructor(c={}){this.id=w(c,"id",Nn.defaultValues("id")),"type"in c&&(this.type=w(c,"type",Nn.defaultValues("type"))),"schema"in c&&this.fromSchema(c.schema)}static defaultValues(c){switch(c){case"id":return"";case"type":return new Bt;default:throw new Error(`Invalid member name for QCStatement class: ${c}`)}}static compareWithDefault(c,_){switch(c){case"id":return""===_;case"type":return _ instanceof Bt;default:throw new Error(`Invalid member name for QCStatement class: ${c}`)}}static schema(c={}){const _=w(c,"names",{});return new mn({name:_.blockName||"",value:[new $t({name:_.id||""}),new _r({name:_.type||"",optional:!0})]})}fromSchema(c){L(c,["id","type"]);const _=li(c,c,Nn.schema({names:{id:"id",type:"type"}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for QCStatement");this.id=_.result.id.valueBlock.toString(),"type"in _.result&&(this.type=_.result.type)}toSchema(){const c=[new $t({value:this.id})];return"type"in this&&c.push(this.type),new mn({value:c})}toJSON(){const c={id:this.id};return"type"in this&&(c.type=this.type.toJSON()),c}}class _i{constructor(c={}){this.values=w(c,"values",_i.defaultValues("values")),"schema"in c&&this.fromSchema(c.schema)}static defaultValues(c){if("values"===c)return[];throw new Error(`Invalid member name for QCStatements class: ${c}`)}static compareWithDefault(c,_){if("values"===c)return 0===_.length;throw new Error(`Invalid member name for QCStatements class: ${c}`)}static schema(c={}){const _=w(c,"names",{});return new mn({name:_.blockName||"",value:[new Mi({name:_.values||"",value:Nn.schema(_.value||{})})]})}fromSchema(c){L(c,["values"]);const _=li(c,c,_i.schema({names:{values:"values"}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for QCStatements");this.values=Array.from(_.result.values,A=>new Nn({schema:A}))}toSchema(){return new mn({value:Array.from(this.values,c=>c.toSchema())})}toJSON(){return{extensions:Array.from(this.values,c=>c.toJSON())}}}class Pn{constructor(c={}){this.extnID=w(c,"extnID",Pn.defaultValues("extnID")),this.critical=w(c,"critical",Pn.defaultValues("critical")),this.extnValue="extnValue"in c?new It({valueHex:c.extnValue}):Pn.defaultValues("extnValue"),"parsedValue"in c&&(this.parsedValue=w(c,"parsedValue",Pn.defaultValues("parsedValue"))),"schema"in c&&this.fromSchema(c.schema)}static defaultValues(c){switch(c){case"extnID":return"";case"critical":return!1;case"extnValue":return new It;case"parsedValue":return{};default:throw new Error(`Invalid member name for Extension class: ${c}`)}}static schema(c={}){const _=w(c,"names",{});return new mn({name:_.blockName||"",value:[new $t({name:_.extnID||""}),new An({name:_.critical||"",optional:!0}),new It({name:_.extnValue||""})]})}fromSchema(c){L(c,["extnID","critical","extnValue"]);let _=li(c,c,Pn.schema({names:{extnID:"extnID",critical:"critical",extnValue:"extnValue"}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for Extension");if(this.extnID=_.result.extnID.valueBlock.toString(),"critical"in _.result&&(this.critical=_.result.critical.valueBlock.value),this.extnValue=_.result.extnValue,_=Ft(this.extnValue.valueBlock.valueHex),-1!==_.offset)switch(this.extnID){case"2.5.29.9":try{this.parsedValue=new Fr({schema:_.result})}catch{this.parsedValue=new Fr,this.parsedValue.parsingError="Incorrectly formated SubjectDirectoryAttributes"}break;case"2.5.29.14":case"2.5.29.15":case"2.5.29.20":case"2.5.29.27":case"2.5.29.21":case"2.5.29.24":case"2.5.29.54":case"1.3.6.1.4.1.311.20.2":case"1.3.6.1.4.1.311.21.2":this.parsedValue=_.result;break;case"2.5.29.16":try{this.parsedValue=new us({schema:_.result})}catch{this.parsedValue=new us,this.parsedValue.parsingError="Incorrectly formated PrivateKeyUsagePeriod"}break;case"2.5.29.17":case"2.5.29.18":try{this.parsedValue=new zr({schema:_.result})}catch{this.parsedValue=new zr,this.parsedValue.parsingError="Incorrectly formated AltName"}break;case"2.5.29.19":try{this.parsedValue=new Hs({schema:_.result})}catch{this.parsedValue=new Hs,this.parsedValue.parsingError="Incorrectly formated BasicConstraints"}break;case"2.5.29.28":try{this.parsedValue=new gr({schema:_.result})}catch{this.parsedValue=new gr,this.parsedValue.parsingError="Incorrectly formated IssuingDistributionPoint"}break;case"2.5.29.29":try{this.parsedValue=new Ws({schema:_.result})}catch{this.parsedValue=new Ws,this.parsedValue.parsingError="Incorrectly formated GeneralNames"}break;case"2.5.29.30":try{this.parsedValue=new Gr({schema:_.result})}catch{this.parsedValue=new Gr,this.parsedValue.parsingError="Incorrectly formated NameConstraints"}break;case"2.5.29.31":case"2.5.29.46":try{this.parsedValue=new Cn({schema:_.result})}catch{this.parsedValue=new Cn,this.parsedValue.parsingError="Incorrectly formated CRLDistributionPoints"}break;case"2.5.29.32":case"1.3.6.1.4.1.311.21.10":try{this.parsedValue=new Ue({schema:_.result})}catch{this.parsedValue=new Ue,this.parsedValue.parsingError="Incorrectly formated CertificatePolicies"}break;case"2.5.29.33":try{this.parsedValue=new Ze({schema:_.result})}catch{this.parsedValue=new Ze,this.parsedValue.parsingError="Incorrectly formated CertificatePolicies"}break;case"2.5.29.35":try{this.parsedValue=new Lt({schema:_.result})}catch{this.parsedValue=new Lt,this.parsedValue.parsingError="Incorrectly formated AuthorityKeyIdentifier"}break;case"2.5.29.36":try{this.parsedValue=new Kn({schema:_.result})}catch{this.parsedValue=new Kn,this.parsedValue.parsingError="Incorrectly formated PolicyConstraints"}break;case"2.5.29.37":try{this.parsedValue=new Si({schema:_.result})}catch{this.parsedValue=new Si,this.parsedValue.parsingError="Incorrectly formated ExtKeyUsage"}break;case"1.3.6.1.5.5.7.1.1":case"1.3.6.1.5.5.7.1.11":try{this.parsedValue=new Cs({schema:_.result})}catch{this.parsedValue=new Cs,this.parsedValue.parsingError="Incorrectly formated InfoAccess"}break;case"1.3.6.1.4.1.11129.2.4.2":try{this.parsedValue=new Et({schema:_.result})}catch{this.parsedValue=new Et,this.parsedValue.parsingError="Incorrectly formated SignedCertificateTimestampList"}break;case"1.3.6.1.4.1.311.21.7":try{this.parsedValue=new St({schema:_.result})}catch{this.parsedValue=new St,this.parsedValue.parsingError="Incorrectly formated CertificateTemplate"}break;case"1.3.6.1.4.1.311.21.1":try{this.parsedValue=new on({schema:_.result})}catch{this.parsedValue=new on,this.parsedValue.parsingError="Incorrectly formated CAVersion"}break;case"1.3.6.1.5.5.7.1.3":try{this.parsedValue=new _i({schema:_.result})}catch{this.parsedValue=new _i,this.parsedValue.parsingError="Incorrectly formated QCStatements"}}}toSchema(){const c=[];return c.push(new $t({value:this.extnID})),this.critical!==Pn.defaultValues("critical")&&c.push(new An({value:this.critical})),c.push(this.extnValue),new mn({value:c})}toJSON(){const c={extnID:this.extnID,extnValue:this.extnValue.toJSON()};return this.critical!==Pn.defaultValues("critical")&&(c.critical=this.critical),"parsedValue"in this&&"toJSON"in this.parsedValue&&(c.parsedValue=this.parsedValue.toJSON()),c}}class cr{constructor(c={}){this.extensions=w(c,"extensions",cr.defaultValues("extensions")),"schema"in c&&this.fromSchema(c.schema)}static defaultValues(c){if("extensions"===c)return[];throw new Error(`Invalid member name for Extensions class: ${c}`)}static schema(c={},_=!1){const A=w(c,"names",{});return new mn({optional:_,name:A.blockName||"",value:[new Mi({name:A.extensions||"",value:Pn.schema(A.extension||{})})]})}fromSchema(c){L(c,["extensions"]);const _=li(c,c,cr.schema({names:{extensions:"extensions"}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for Extensions");this.extensions=Array.from(_.result.extensions,A=>new Pn({schema:A}))}toSchema(){return new mn({value:Array.from(this.extensions,c=>c.toSchema())})}toJSON(){return{extensions:Array.from(this.extensions,c=>c.toJSON())}}}function Hr(Le={}){const c=w(Le,"names",{});return new mn({name:c.blockName||"tbsCertificate",value:[new X({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new fn({name:c.tbsCertificateVersion||"tbsCertificate.version"})]}),new fn({name:c.tbsCertificateSerialNumber||"tbsCertificate.serialNumber"}),$n.schema(c.signature||{names:{blockName:"tbsCertificate.signature"}}),Pr.schema(c.issuer||{names:{blockName:"tbsCertificate.issuer"}}),new mn({name:c.tbsCertificateValidity||"tbsCertificate.validity",value:[rr.schema(c.notBefore||{names:{utcTimeName:"tbsCertificate.notBefore",generalTimeName:"tbsCertificate.notBefore"}}),rr.schema(c.notAfter||{names:{utcTimeName:"tbsCertificate.notAfter",generalTimeName:"tbsCertificate.notAfter"}})]}),Pr.schema(c.subject||{names:{blockName:"tbsCertificate.subject"}}),Dr.schema(c.subjectPublicKeyInfo||{names:{blockName:"tbsCertificate.subjectPublicKeyInfo"}}),new it({name:c.tbsCertificateIssuerUniqueID||"tbsCertificate.issuerUniqueID",optional:!0,idBlock:{tagClass:3,tagNumber:1}}),new it({name:c.tbsCertificateSubjectUniqueID||"tbsCertificate.subjectUniqueID",optional:!0,idBlock:{tagClass:3,tagNumber:2}}),new X({optional:!0,idBlock:{tagClass:3,tagNumber:3},value:[cr.schema(c.extensions||{names:{blockName:"tbsCertificate.extensions"}})]})]})}class ui{constructor(c={}){this.tbs=w(c,"tbs",ui.defaultValues("tbs")),this.version=w(c,"version",ui.defaultValues("version")),this.serialNumber=w(c,"serialNumber",ui.defaultValues("serialNumber")),this.signature=w(c,"signature",ui.defaultValues("signature")),this.issuer=w(c,"issuer",ui.defaultValues("issuer")),this.notBefore=w(c,"notBefore",ui.defaultValues("notBefore")),this.notAfter=w(c,"notAfter",ui.defaultValues("notAfter")),this.subject=w(c,"subject",ui.defaultValues("subject")),this.subjectPublicKeyInfo=w(c,"subjectPublicKeyInfo",ui.defaultValues("subjectPublicKeyInfo")),"issuerUniqueID"in c&&(this.issuerUniqueID=w(c,"issuerUniqueID",ui.defaultValues("issuerUniqueID"))),"subjectUniqueID"in c&&(this.subjectUniqueID=w(c,"subjectUniqueID",ui.defaultValues("subjectUniqueID"))),"extensions"in c&&(this.extensions=w(c,"extensions",ui.defaultValues("extensions"))),this.signatureAlgorithm=w(c,"signatureAlgorithm",ui.defaultValues("signatureAlgorithm")),this.signatureValue=w(c,"signatureValue",ui.defaultValues("signatureValue")),"schema"in c&&this.fromSchema(c.schema)}static defaultValues(c){switch(c){case"tbs":case"issuerUniqueID":case"subjectUniqueID":return new ArrayBuffer(0);case"version":return 0;case"serialNumber":return new fn;case"signature":case"signatureAlgorithm":return new $n;case"issuer":case"subject":return new Pr;case"notBefore":case"notAfter":return new rr;case"subjectPublicKeyInfo":return new Dr;case"extensions":return[];case"signatureValue":return new lt;default:throw new Error(`Invalid member name for Certificate class: ${c}`)}}static schema(c={}){const _=w(c,"names",{});return new mn({name:_.blockName||"",value:[Hr(_.tbsCertificate),$n.schema(_.signatureAlgorithm||{names:{blockName:"signatureAlgorithm"}}),new lt({name:_.signatureValue||"signatureValue"})]})}fromSchema(c){L(c,["tbsCertificate","tbsCertificate.extensions","tbsCertificate.version","tbsCertificate.serialNumber","tbsCertificate.signature","tbsCertificate.issuer","tbsCertificate.notBefore","tbsCertificate.notAfter","tbsCertificate.subject","tbsCertificate.subjectPublicKeyInfo","tbsCertificate.issuerUniqueID","tbsCertificate.subjectUniqueID","signatureAlgorithm","signatureValue"]);const _=li(c,c,ui.schema({names:{tbsCertificate:{names:{extensions:{names:{extensions:"tbsCertificate.extensions"}}}}}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for Certificate");this.tbs=_.result.tbsCertificate.valueBeforeDecode,"tbsCertificate.version"in _.result&&(this.version=_.result["tbsCertificate.version"].valueBlock.valueDec),this.serialNumber=_.result["tbsCertificate.serialNumber"],this.signature=new $n({schema:_.result["tbsCertificate.signature"]}),this.issuer=new Pr({schema:_.result["tbsCertificate.issuer"]}),this.notBefore=new rr({schema:_.result["tbsCertificate.notBefore"]}),this.notAfter=new rr({schema:_.result["tbsCertificate.notAfter"]}),this.subject=new Pr({schema:_.result["tbsCertificate.subject"]}),this.subjectPublicKeyInfo=new Dr({schema:_.result["tbsCertificate.subjectPublicKeyInfo"]}),"tbsCertificate.issuerUniqueID"in _.result&&(this.issuerUniqueID=_.result["tbsCertificate.issuerUniqueID"].valueBlock.valueHex),"tbsCertificate.subjectUniqueID"in _.result&&(this.subjectUniqueID=_.result["tbsCertificate.subjectUniqueID"].valueBlock.valueHex),"tbsCertificate.extensions"in _.result&&(this.extensions=Array.from(_.result["tbsCertificate.extensions"],A=>new Pn({schema:A}))),this.signatureAlgorithm=new $n({schema:_.result.signatureAlgorithm}),this.signatureValue=_.result.signatureValue}encodeTBS(){const c=[];return"version"in this&&this.version!==ui.defaultValues("version")&&c.push(new X({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new fn({value:this.version})]})),c.push(this.serialNumber),c.push(this.signature.toSchema()),c.push(this.issuer.toSchema()),c.push(new mn({value:[this.notBefore.toSchema(),this.notAfter.toSchema()]})),c.push(this.subject.toSchema()),c.push(this.subjectPublicKeyInfo.toSchema()),"issuerUniqueID"in this&&c.push(new it({optional:!0,idBlock:{tagClass:3,tagNumber:1},valueHex:this.issuerUniqueID})),"subjectUniqueID"in this&&c.push(new it({optional:!0,idBlock:{tagClass:3,tagNumber:2},valueHex:this.subjectUniqueID})),"extensions"in this&&c.push(new X({optional:!0,idBlock:{tagClass:3,tagNumber:3},value:[new mn({value:Array.from(this.extensions,_=>_.toSchema())})]})),new mn({value:c})}toSchema(c=!1){let _={};if(!1===c){if(0===this.tbs.length)return ui.schema().value[0];_=Ft(this.tbs).result}else _=this.encodeTBS();return new mn({value:[_,this.signatureAlgorithm.toSchema(),this.signatureValue]})}toJSON(){const c={tbs:C(this.tbs,0,this.tbs.byteLength),serialNumber:this.serialNumber.toJSON(),signature:this.signature.toJSON(),issuer:this.issuer.toJSON(),notBefore:this.notBefore.toJSON(),notAfter:this.notAfter.toJSON(),subject:this.subject.toJSON(),subjectPublicKeyInfo:this.subjectPublicKeyInfo.toJSON(),signatureAlgorithm:this.signatureAlgorithm.toJSON(),signatureValue:this.signatureValue.toJSON()};return"version"in this&&this.version!==ui.defaultValues("version")&&(c.version=this.version),"issuerUniqueID"in this&&(c.issuerUniqueID=C(this.issuerUniqueID,0,this.issuerUniqueID.byteLength)),"subjectUniqueID"in this&&(c.subjectUniqueID=C(this.subjectUniqueID,0,this.subjectUniqueID.byteLength)),"extensions"in this&&(c.extensions=Array.from(this.extensions,_=>_.toJSON())),c}getPublicKey(c=null){return ls().subtle.getPublicKey(this.subjectPublicKeyInfo,this.signatureAlgorithm,c)}getKeyHash(c="SHA-1"){const _=cs();return typeof _>"u"?Promise.reject("Unable to create WebCrypto object"):_.digest({name:c},new Uint8Array(this.subjectPublicKeyInfo.subjectPublicKey.valueBlock.valueHex))}sign(c,_="SHA-1"){if(typeof c>"u")return Promise.reject("Need to provide a private key for signing");let W,A=Promise.resolve();const ae=ls();return A=A.then(()=>ae.subtle.getSignatureParameters(c,_)),A=A.then(ve=>{W=ve.parameters,this.signature=ve.signatureAlgorithm,this.signatureAlgorithm=ve.signatureAlgorithm}),A=A.then(()=>{this.tbs=this.encodeTBS().toBER(!1)}),A=A.then(()=>ae.subtle.signWithPrivateKey(this.tbs,c,W)),A=A.then(ve=>{this.signatureValue=new lt({valueHex:ve})}),A}verify(c=null){let _={};return null!==c?_=c.subjectPublicKeyInfo:this.issuer.isEqual(this.subject)&&(_=this.subjectPublicKeyInfo),_ instanceof Dr?ls().subtle.verifyWithPublicKey(this.tbs,this.signatureValue,_,this.signatureAlgorithm):Promise.reject("Please provide issuer certificate as a parameter")}}function hs(){if(typeof BigInt>"u")throw new Error("BigInt is not defined. Your environment doesn't implement BigInt.")}function $i(Le){if(Le.idBlock.isConstructed)for(let c=0;c<Le.valueBlock.value.length;c++)$i(Le.valueBlock.value[c])&&(Le.lenBlock.isIndefiniteForm=!0);return!!Le.lenBlock.isIndefiniteForm}function Ka(Le){let c=0,_=0;for(let ae=0;ae<Le.length;ae++)c+=Le[ae].byteLength;const A=new ArrayBuffer(c),W=new Uint8Array(A);for(let ae=0;ae<Le.length;ae++){const ve=Le[ae];W.set(new Uint8Array(ve),_),_+=ve.byteLength}return A}const Ro=[new Uint8Array([1])],Pi="0123456789",xi="valueHex",Mo="isHexOnly",jo="isConstructed",pa="isIndefiniteForm",Mr="optional",$o="primitiveSchema",gs="value",za="valueDate",Ma="valueDec",Ar=new ArrayBuffer(0);class go{constructor(){this.items=[]}write(c){this.items.push(c)}final(){return Ka(this.items)}}class Ms{constructor(c={}){this.blockLength=w(c,"blockLength",0),this.error=w(c,"error",""),this.warnings=w(c,"warnings",[]),this.valueBeforeDecode="valueBeforeDecode"in c?c.valueBeforeDecode.slice(0):Ar}static blockName(){return"baseBlock"}toJSON(){return{blockName:this.constructor.blockName(),blockLength:this.blockLength,error:this.error,warnings:this.warnings,valueBeforeDecode:C(this.valueBeforeDecode,0,this.valueBeforeDecode.byteLength)}}}const qs=Le=>class extends Le{constructor(_={}){super(_),this.isHexOnly=w(_,Mo,!1),this.valueHex=xi in _?_.valueHex.slice(0):Ar}static blockName(){return"hexBlock"}fromBER(_,A,W){return!1===m(this,_,A,W)?-1:0===new Uint8Array(_,A,W).length?(this.warnings.push("Zero buffer length"),A):(this.valueHex=_.slice(A,A+W),this.blockLength=W,A+W)}toBER(_=!1){return!0!==this.isHexOnly?(this.error='Flag "isHexOnly" is not set, abort',Ar):!0===_?new ArrayBuffer(this.valueHex.byteLength):this.valueHex.slice(0)}toJSON(){let _={};try{_=super.toJSON()}catch{}return _.blockName=this.constructor.blockName(),_.isHexOnly=this.isHexOnly,_.valueHex=C(this.valueHex,0,this.valueHex.byteLength),_}};class Ho extends(qs(Ms)){constructor(c={}){super(),"idBlock"in c?(this.isHexOnly=w(c.idBlock,Mo,!1),this.valueHex=w(c.idBlock,xi,Ar),this.tagClass=w(c.idBlock,"tagClass",-1),this.tagNumber=w(c.idBlock,"tagNumber",-1),this.isConstructed=w(c.idBlock,jo,!1)):(this.tagClass=-1,this.tagNumber=-1,this.isConstructed=!1)}static blockName(){return"identificationBlock"}toBER(c=!1){let A,W,_=0;switch(this.tagClass){case 1:_|=0;break;case 2:_|=64;break;case 3:_|=128;break;case 4:_|=192;break;default:return this.error="Unknown tag class",Ar}if(this.isConstructed&&(_|=32),this.tagNumber<31&&!this.isHexOnly){if(A=new ArrayBuffer(1),W=new Uint8Array(A),!c){let ae=this.tagNumber;ae&=31,_|=ae,W[0]=_}return A}if(!1===this.isHexOnly){const ae=f(this.tagNumber,7),ve=new Uint8Array(ae),Ge=ae.byteLength;if(A=new ArrayBuffer(Ge+1),W=new Uint8Array(A),W[0]=31|_,!c){for(let I=0;I<Ge-1;I++)W[I+1]=128|ve[I];W[Ge]=ve[Ge-1]}return A}if(A=new ArrayBuffer(this.valueHex.byteLength+1),W=new Uint8Array(A),W[0]=31|_,!1===c){const ae=new Uint8Array(this.valueHex);for(let ve=0;ve<ae.length-1;ve++)W[ve+1]=128|ae[ve];W[this.valueHex.byteLength]=ae[ae.length-1]}return A}fromBER(c,_,A){if(!1===m(this,c,_,A))return-1;const W=new Uint8Array(c,_,A);if(0===W.length)return this.error="Zero buffer length",-1;switch(192&W[0]){case 0:this.tagClass=1;break;case 64:this.tagClass=2;break;case 128:this.tagClass=3;break;case 192:this.tagClass=4;break;default:return this.error="Unknown tag class",-1}this.isConstructed=!(32&~W[0]),this.isHexOnly=!1;const ve=31&W[0];if(31!==ve)this.tagNumber=ve,this.blockLength=1;else{let Ge=1;this.valueHex=new ArrayBuffer(255);let I=255,V=new Uint8Array(this.valueHex);for(;128&W[Ge];){if(V[Ge-1]=127&W[Ge],Ge++,Ge>=W.length)return this.error="End of input reached before message was fully decoded",-1;if(Ge===I){I+=255;const ge=new ArrayBuffer(I),$e=new Uint8Array(ge);for(let _t=0;_t<V.length;_t++)$e[_t]=V[_t];this.valueHex=new ArrayBuffer(I),V=new Uint8Array(this.valueHex)}}this.blockLength=Ge+1,V[Ge-1]=127&W[Ge];const B=new ArrayBuffer(Ge),Q=new Uint8Array(B);for(let ge=0;ge<Ge;ge++)Q[ge]=V[ge];this.valueHex=new ArrayBuffer(Ge),V=new Uint8Array(this.valueHex),V.set(Q),this.blockLength<=9?this.tagNumber=u(V,7):(this.isHexOnly=!0,this.warnings.push("Tag too long, represented as hex-coded"))}if(1===this.tagClass&&this.isConstructed)switch(this.tagNumber){case 1:case 2:case 5:case 6:case 9:case 13:case 14:case 23:case 24:case 31:case 32:case 33:case 34:return this.error="Constructed encoding used for primitive type",-1}return _+this.blockLength}toJSON(){let c={};try{c=super.toJSON()}catch{}return c.blockName=this.constructor.blockName(),c.tagClass=this.tagClass,c.tagNumber=this.tagNumber,c.isConstructed=this.isConstructed,c}}class Eo extends Ms{constructor(c={}){super(),"lenBlock"in c?(this.isIndefiniteForm=w(c.lenBlock,pa,!1),this.longFormUsed=w(c.lenBlock,"longFormUsed",!1),this.length=w(c.lenBlock,"length",0)):(this.isIndefiniteForm=!1,this.longFormUsed=!1,this.length=0)}static blockName(){return"lengthBlock"}fromBER(c,_,A){if(!1===m(this,c,_,A))return-1;const W=new Uint8Array(c,_,A);if(0===W.length)return this.error="Zero buffer length",-1;if(255===W[0])return this.error="Length block 0xFF is reserved by standard",-1;if(this.isIndefiniteForm=128===W[0],!0===this.isIndefiniteForm)return this.blockLength=1,_+this.blockLength;if(this.longFormUsed=!!(128&W[0]),!1===this.longFormUsed)return this.length=W[0],this.blockLength=1,_+this.blockLength;const ae=127&W[0];if(ae>8)return this.error="Too big integer",-1;if(ae+1>W.length)return this.error="End of input reached before message was fully decoded",-1;const ve=new Uint8Array(ae);for(let Ge=0;Ge<ae;Ge++)ve[Ge]=W[Ge+1];return 0===ve[ae-1]&&this.warnings.push("Needlessly long encoded length"),this.length=u(ve,8),this.longFormUsed&&this.length<=127&&this.warnings.push("Unnecessary usage of long length form"),this.blockLength=ae+1,_+this.blockLength}toBER(c=!1){let _,A;if(this.length>127&&(this.longFormUsed=!0),this.isIndefiniteForm)return _=new ArrayBuffer(1),!1===c&&(A=new Uint8Array(_),A[0]=128),_;if(!0===this.longFormUsed){const W=f(this.length,8);if(W.byteLength>127)return this.error="Too big length",Ar;if(_=new ArrayBuffer(W.byteLength+1),!0===c)return _;const ae=new Uint8Array(W);A=new Uint8Array(_),A[0]=128|W.byteLength;for(let ve=0;ve<W.byteLength;ve++)A[ve+1]=ae[ve];return _}return _=new ArrayBuffer(1),!1===c&&(A=new Uint8Array(_),A[0]=this.length),_}toJSON(){let c={};try{c=super.toJSON()}catch{}return c.blockName=this.constructor.blockName(),c.isIndefiniteForm=this.isIndefiniteForm,c.longFormUsed=this.longFormUsed,c.length=this.length,c}}class Xr extends Ms{constructor(c={}){super(c)}static blockName(){return"valueBlock"}fromBER(c,_,A){throw TypeError('User need to make a specific function in a class which extends "ValueBlock"')}toBER(c=!1){throw TypeError('User need to make a specific function in a class which extends "ValueBlock"')}}class vs extends Ms{constructor(c={},_=Xr){super(c),"name"in c&&(this.name=c.name),Mr in c&&(this.optional=c.optional),$o in c&&(this.primitiveSchema=c.primitiveSchema),this.idBlock=new Ho(c),this.lenBlock=new Eo(c),this.valueBlock=new _(c)}static blockName(){return"BaseBlock"}fromBER(c,_,A){const W=this.valueBlock.fromBER(c,_,!0===this.lenBlock.isIndefiniteForm?A:this.lenBlock.length);return-1===W?(this.error=this.valueBlock.error,W):(0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),W)}toBER(c=!1,_){const A=_||new go;_||$i(this);const W=this.idBlock.toBER(c);if(A.write(W),this.lenBlock.isIndefiniteForm)A.write(new Uint8Array([128]).buffer),this.valueBlock.toBER(c,A),A.write(new ArrayBuffer(2));else{const ae=this.valueBlock.toBER(!0);this.lenBlock.length=ae.byteLength;const ve=this.lenBlock.toBER(c);A.write(ve);const Ge=c?new ArrayBuffer(this.lenBlock.length):this.valueBlock.toBER(c);A.write(Ge,A)}if(!_)return A.final()}toJSON(){let c={};try{c=super.toJSON()}catch{}return c.idBlock=this.idBlock.toJSON(),c.lenBlock=this.lenBlock.toJSON(),c.valueBlock=this.valueBlock.toJSON(),"name"in this&&(c.name=this.name),Mr in this&&(c.optional=this.optional),$o in this&&(c.primitiveSchema=this.primitiveSchema.toJSON()),c}toString(){return`${this.constructor.blockName()} : ${C(this.valueBlock.valueHex)}`}}class Qa extends Xr{constructor(c={}){super(c),this.valueHex=xi in c?c.valueHex.slice(0):Ar,this.isHexOnly=w(c,Mo,!0)}fromBER(c,_,A){if(!1===m(this,c,_,A))return-1;const W=new Uint8Array(c,_,A);if(0===W.length)return this.warnings.push("Zero buffer length"),_;this.valueHex=new ArrayBuffer(W.length);const ae=new Uint8Array(this.valueHex);for(let ve=0;ve<W.length;ve++)ae[ve]=W[ve];return this.blockLength=A,_+A}toBER(c=!1){return this.valueHex.slice(0)}static blockName(){return"PrimitiveValueBlock"}toJSON(){let c={};try{c=super.toJSON()}catch{}return c.valueHex=C(this.valueHex,0,this.valueHex.byteLength),c.isHexOnly=this.isHexOnly,c}}class ma extends vs{constructor(c={}){super(c,Qa),this.idBlock.isConstructed=!1}static blockName(){return"PRIMITIVE"}}class lo extends Xr{constructor(c={}){super(c),this.value=w(c,gs,[]),this.isIndefiniteForm=w(c,pa,!1)}fromBER(c,_,A){const W=_,ae=A;if(!1===m(this,c,_,A))return-1;if(0===new Uint8Array(c,_,A).length)return this.warnings.push("Zero buffer length"),_;let I=_;for(;(!0===this.isIndefiniteForm?1:A)>0;){const V=Lr(c,I,A);if(-1===V.offset)return this.error=V.result.error,this.warnings.concat(V.result.warnings),-1;if(I=V.offset,this.blockLength+=V.result.blockLength,A-=V.result.blockLength,this.value.push(V.result),!0===this.isIndefiniteForm&&V.result.constructor.blockName()===Es.blockName())break}return!0===this.isIndefiniteForm&&(this.value[this.value.length-1].constructor.blockName()===Es.blockName()?this.value.pop():this.warnings.push("No EndOfContent block encoded")),this.valueBeforeDecode=c.slice(W,W+ae),I}toBER(c=!1,_){const A=_||new go;for(let W=0;W<this.value.length;W++)this.value[W].toBER(c,A);if(!_)return A.final()}static blockName(){return"ConstructedValueBlock"}toJSON(){let c={};try{c=super.toJSON()}catch{}c.isIndefiniteForm=this.isIndefiniteForm,c.value=[];for(let _=0;_<this.value.length;_++)c.value.push(this.value[_].toJSON());return c}}class xs extends vs{constructor(c={}){super(c,lo),this.idBlock.isConstructed=!0}static blockName(){return"CONSTRUCTED"}fromBER(c,_,A){this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;const W=this.valueBlock.fromBER(c,_,!0===this.lenBlock.isIndefiniteForm?A:this.lenBlock.length);return-1===W?(this.error=this.valueBlock.error,W):(0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),W)}toString(){const c=[];for(const A of this.valueBlock.value)c.push(A.toString().split("\n").map(W=>`  ${W}`).join("\n"));const _=3===this.idBlock.tagClass?`[${this.idBlock.tagNumber}]`:this.constructor.blockName();return c.length?`${_} :\n${c.join("\n")}`:`${_} :`}}class Fi extends Xr{constructor(c={}){super(c)}fromBER(c,_,A){return _}toBER(c=!1){return Ar}static blockName(){return"EndOfContentValueBlock"}}class Es extends vs{constructor(c={}){super(c,Fi),this.idBlock.tagClass=1,this.idBlock.tagNumber=0}static blockName(){return"EndOfContent"}}class ee extends Xr{constructor(c={}){super(c),this.value=w(c,gs,!1),this.isHexOnly=w(c,Mo,!1),xi in c?this.valueHex=c.valueHex.slice(0):(this.valueHex=new ArrayBuffer(1),!0===this.value&&(new Uint8Array(this.valueHex)[0]=255))}fromBER(c,_,A){if(!1===m(this,c,_,A))return-1;const W=new Uint8Array(c,_,A);A>1&&this.warnings.push("Boolean value encoded in more then 1 octet"),this.isHexOnly=!0,this.valueHex=new ArrayBuffer(W.length);const ae=new Uint8Array(this.valueHex);for(let ve=0;ve<W.length;ve++)ae[ve]=W[ve];return this.value=0!==F.call(this),this.blockLength=A,_+A}toBER(c=!1){return this.valueHex}static blockName(){return"BooleanValueBlock"}toJSON(){let c={};try{c=super.toJSON()}catch{}return c.value=this.value,c.isHexOnly=this.isHexOnly,c.valueHex=C(this.valueHex,0,this.valueHex.byteLength),c}}class Ke extends vs{constructor(c={}){super(c,ee),this.idBlock.tagClass=1,this.idBlock.tagNumber=1}static blockName(){return"BOOLEAN"}toString(){return`${this.constructor.blockName()} : ${this.valueBlock.value}`}}class de extends xs{constructor(c={}){super(c),this.idBlock.tagClass=1,this.idBlock.tagNumber=16}static blockName(){return"SEQUENCE"}}class Pe extends xs{constructor(c={}){super(c),this.idBlock.tagClass=1,this.idBlock.tagNumber=17}static blockName(){return"SET"}}class Rt extends vs{constructor(c={}){super(c,Ms),this.idBlock.tagClass=1,this.idBlock.tagNumber=5}static blockName(){return"NULL"}fromBER(c,_,A){return this.lenBlock.length>0&&this.warnings.push("Non-zero length of value block for Null type"),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),this.blockLength+=A,_+A>c.byteLength?(this.error="End of input reached before message was fully decoded (inconsistent offset and length values)",-1):_+A}toBER(c=!1,_){const A=new ArrayBuffer(2);if(!c){const W=new Uint8Array(A);W[0]=5,W[1]=0}return _&&_.write(A),A}toString(){return`${this.constructor.blockName()}`}}class pn extends(qs(lo)){constructor(c={}){super(c),this.isConstructed=w(c,jo,!1)}fromBER(c,_,A){let W=0;if(!0===this.isConstructed){if(this.isHexOnly=!1,W=lo.prototype.fromBER.call(this,c,_,A),-1===W)return W;for(let ae=0;ae<this.value.length;ae++){const ve=this.value[ae].constructor.blockName();if(ve===Es.blockName()){if(!0===this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, OCTET STRING may consists of OCTET STRINGs only",-1}if(ve!==wn.blockName())return this.error="OCTET STRING may consists of OCTET STRINGs only",-1}}else this.isHexOnly=!0,W=super.fromBER(c,_,A),this.blockLength=A;return W}toBER(c=!1,_){if(!0===this.isConstructed)return lo.prototype.toBER.call(this,c,_);let A=new ArrayBuffer(this.valueHex.byteLength);return!0===c||0===this.valueHex.byteLength||(A=this.valueHex.slice(0)),A}static blockName(){return"OctetStringValueBlock"}toJSON(){let c={};try{c=super.toJSON()}catch{}return c.isConstructed=this.isConstructed,c.isHexOnly=this.isHexOnly,c.valueHex=C(this.valueHex,0,this.valueHex.byteLength),c}}class wn extends vs{constructor(c={}){super(c,pn),this.idBlock.tagClass=1,this.idBlock.tagNumber=4}fromBER(c,_,A){if(this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,0===A)return 0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),_;if(!this.valueBlock.isConstructed){const W=c.slice(_,_+A);try{const ae=Di(W);-1!==ae.offset&&ae.offset===A&&(this.valueBlock.value=[ae.result])}catch{}}return super.fromBER(c,_,A)}static blockName(){return"OCTET STRING"}isEqual(c){return!(!(c instanceof wn)||JSON.stringify(this)!==JSON.stringify(c))}toString(){return this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length?xs.prototype.toString.call(this):`${this.constructor.blockName()} : ${C(this.valueBlock.valueHex)}`}}class Zn extends(qs(lo)){constructor(c={}){super(c),this.unusedBits=w(c,"unusedBits",0),this.isConstructed=w(c,jo,!1),this.blockLength=this.valueHex.byteLength}fromBER(c,_,A){if(0===A)return _;let W=-1;if(!0===this.isConstructed){if(W=lo.prototype.fromBER.call(this,c,_,A),-1===W)return W;for(let Ge=0;Ge<this.value.length;Ge++){const I=this.value[Ge].constructor.blockName();if(I===Es.blockName()){if(!0===this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, BIT STRING may consists of BIT STRINGs only",-1}if(I!==fr.blockName())return this.error="BIT STRING may consists of BIT STRINGs only",-1;if(this.unusedBits>0&&this.value[Ge].valueBlock.unusedBits>0)return this.error='Using of "unused bits" inside constructive BIT STRING allowed for least one only',-1;if(this.unusedBits=this.value[Ge].valueBlock.unusedBits,this.unusedBits>7)return this.error="Unused bits for BitString must be in range 0-7",-1}return W}if(!1===m(this,c,_,A))return-1;const ae=new Uint8Array(c,_,A);if(this.unusedBits=ae[0],this.unusedBits>7)return this.error="Unused bits for BitString must be in range 0-7",-1;if(!this.unusedBits){const Ge=c.slice(_+1,_+A);try{const I=Di(Ge);-1!==I.offset&&I.offset===A-1&&(this.value=[I.result])}catch{}}this.valueHex=new ArrayBuffer(ae.length-1);const ve=new Uint8Array(this.valueHex);for(let Ge=0;Ge<A-1;Ge++)ve[Ge]=ae[Ge+1];return this.blockLength=ae.length,_+A}toBER(c=!1,_){if(!0===this.isConstructed)return lo.prototype.toBER.call(this,c,_);if(!0===c)return new ArrayBuffer(this.valueHex.byteLength+1);if(0===this.valueHex.byteLength)return Ar;const A=new Uint8Array(this.valueHex),W=new ArrayBuffer(this.valueHex.byteLength+1),ae=new Uint8Array(W);ae[0]=this.unusedBits;for(let ve=0;ve<this.valueHex.byteLength;ve++)ae[ve+1]=A[ve];return W}static blockName(){return"BitStringValueBlock"}toJSON(){let c={};try{c=super.toJSON()}catch{}return c.unusedBits=this.unusedBits,c.isConstructed=this.isConstructed,c.isHexOnly=this.isHexOnly,c.valueHex=C(this.valueHex,0,this.valueHex.byteLength),c}}class fr extends vs{constructor(c={}){super(c,Zn),this.idBlock.tagClass=1,this.idBlock.tagNumber=3}static blockName(){return"BIT STRING"}fromBER(c,_,A){return 0===A?_:(this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,super.fromBER(c,_,A))}isEqual(c){return!(!(c instanceof fr)||JSON.stringify(this)!==JSON.stringify(c))}toString(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length)return xs.prototype.toString.call(this);{const c=[],_=new Uint8Array(this.valueBlock.valueHex);for(const A of _)c.push(A.toString(2).padStart(8,"0"));return`${this.constructor.blockName()} : ${c.join("")}`}}}class sr extends(qs(Xr)){constructor(c={}){super(c),gs in c&&(this.valueDec=c.value)}set valueHex(c){this._valueHex=c.slice(0),c.byteLength>=4?(this.warnings.push("Too big Integer for decoding, hex only"),this.isHexOnly=!0,this._valueDec=0):(this.isHexOnly=!1,c.byteLength>0&&(this._valueDec=F.call(this)))}get valueHex(){return this._valueHex}set valueDec(c){this._valueDec=c,this.isHexOnly=!1,this._valueHex=b(c)}get valueDec(){return this._valueDec}fromDER(c,_,A,W=0){const ae=this.fromBER(c,_,A);if(-1===ae)return ae;const ve=new Uint8Array(this._valueHex);if(0===ve[0]&&128&ve[1]){const Ge=new ArrayBuffer(this._valueHex.byteLength-1);new Uint8Array(Ge).set(new Uint8Array(this._valueHex,1,this._valueHex.byteLength-1)),this._valueHex=Ge.slice(0)}else if(0!==W&&this._valueHex.byteLength<W){W-this._valueHex.byteLength>1&&(W=this._valueHex.byteLength+1);const Ge=new ArrayBuffer(W);new Uint8Array(Ge).set(ve,W-this._valueHex.byteLength),this._valueHex=Ge.slice(0)}return ae}toDER(c=!1){const _=new Uint8Array(this._valueHex);switch(!0){case!!(128&_[0]):{const A=new ArrayBuffer(this._valueHex.byteLength+1),W=new Uint8Array(A);W[0]=0,W.set(_,1),this._valueHex=A.slice(0)}break;case 0===_[0]&&!(128&_[1]):{const A=new ArrayBuffer(this._valueHex.byteLength-1);new Uint8Array(A).set(new Uint8Array(this._valueHex,1,this._valueHex.byteLength-1)),this._valueHex=A.slice(0)}}return this.toBER(c)}fromBER(c,_,A){const W=super.fromBER(c,_,A);return-1===W?W:(this.blockLength=A,_+A)}toBER(c=!1){return this.valueHex.slice(0)}static blockName(){return"IntegerValueBlock"}toJSON(){let c={};try{c=super.toJSON()}catch{}return c.valueDec=this.valueDec,c}toString(){function c(Q,ge){const $e=new Uint8Array([0]);let _t=new Uint8Array(Q),ln=new Uint8Array(ge),tn=_t.slice(0);const Ln=tn.length-1;let ki=ln.slice(0);const Ni=ki.length-1;let dr=0,Ns=0;for(let Na=Ni<Ln?Ln:Ni;Na>=0;Na--,Ns++)dr=1==Ns<ki.length?tn[Ln-Ns]+ki[Ni-Ns]+$e[0]:tn[Ln-Ns]+$e[0],$e[0]=dr/10,1==Ns>=tn.length?tn=O(new Uint8Array([dr%10]),tn):tn[Ln-Ns]=dr%10;return $e[0]>0&&(tn=O($e,tn)),tn.slice(0)}function _(Q){if(Q>=Ro.length)for(let ge=Ro.length;ge<=Q;ge++){const $e=new Uint8Array([0]);let _t=Ro[ge-1].slice(0);for(let ln=_t.length-1;ln>=0;ln--){const tn=new Uint8Array([(_t[ln]<<1)+$e[0]]);$e[0]=tn[0]/10,_t[ln]=tn[0]%10}$e[0]>0&&(_t=O($e,_t)),Ro.push(_t)}return Ro[Q]}function A(Q,ge){let $e=0,_t=new Uint8Array(Q),ln=new Uint8Array(ge),tn=_t.slice(0);const Ln=tn.length-1;let ki=ln.slice(0);const Ni=ki.length-1;let dr,Ks=0;for(let Ns=Ni;Ns>=0;Ns--,Ks++)dr=tn[Ln-Ks]-ki[Ni-Ks]-$e,1==dr<0?($e=1,tn[Ln-Ks]=dr+10):($e=0,tn[Ln-Ks]=dr);if($e>0)for(let Ns=Ln-Ni+1;Ns>=0;Ns--,Ks++){if(dr=tn[Ln-Ks]-$e,!(dr<0)){$e=0,tn[Ln-Ks]=dr;break}$e=1,tn[Ln-Ks]=dr+10}return tn.slice()}const W=8*this._valueHex.byteLength-1;let Ge,ae=new Uint8Array(8*this._valueHex.byteLength/3),ve=0;const I=new Uint8Array(this._valueHex);let V="",B=!1;for(let Q=this._valueHex.byteLength-1;Q>=0;Q--){Ge=I[Q];for(let ge=0;ge<8;ge++)1&~Ge||(ve===W?(ae=A(_(ve),ae),V="-"):ae=c(ae,_(ve))),ve++,Ge>>=1}for(let Q=0;Q<ae.length;Q++)ae[Q]&&(B=!0),B&&(V+=Pi.charAt(ae[Q]));return!1===B&&(V+=Pi.charAt(0)),V}}class Ji extends vs{constructor(c={}){super(c,sr),this.idBlock.tagClass=1,this.idBlock.tagNumber=2}static blockName(){return"INTEGER"}isEqual(c){return c instanceof Ji?this.valueBlock.isHexOnly&&c.valueBlock.isHexOnly?M(this.valueBlock.valueHex,c.valueBlock.valueHex):this.valueBlock.isHexOnly===c.valueBlock.isHexOnly&&this.valueBlock.valueDec===c.valueBlock.valueDec:c instanceof ArrayBuffer&&M(this.valueBlock.valueHex,c)}convertToDER(){const c=new Ji({valueHex:this.valueBlock.valueHex});return c.valueBlock.toDER(),c}convertFromDER(){const c=this.valueBlock.valueHex.byteLength%2?this.valueBlock.valueHex.byteLength+1:this.valueBlock.valueHex.byteLength,_=new Ji({valueHex:this.valueBlock.valueHex});return _.valueBlock.fromDER(_.valueBlock.valueHex,0,_.valueBlock.valueHex.byteLength,c),_}toString(){hs();const c=C(this.valueBlock.valueHex),_=BigInt(`0x${c}`);return`${this.constructor.blockName()} : ${_.toString()}`}}class Vi extends Ji{constructor(c={}){super(c),this.idBlock.tagClass=1,this.idBlock.tagNumber=10}static blockName(){return"ENUMERATED"}}class ii extends(qs(Ms)){constructor(c={}){super(c),this.valueDec=w(c,Ma,-1),this.isFirstSid=w(c,"isFirstSid",!1)}static blockName(){return"sidBlock"}fromBER(c,_,A){if(0===A)return _;if(!1===m(this,c,_,A))return-1;const W=new Uint8Array(c,_,A);this.valueHex=new ArrayBuffer(A);let ae=new Uint8Array(this.valueHex);for(let I=0;I<A&&(ae[I]=127&W[I],this.blockLength++,128&W[I]);I++);const ve=new ArrayBuffer(this.blockLength),Ge=new Uint8Array(ve);for(let I=0;I<this.blockLength;I++)Ge[I]=ae[I];return this.valueHex=ve.slice(0),ae=new Uint8Array(this.valueHex),128&W[this.blockLength-1]?(this.error="End of input reached before message was fully decoded",-1):(0===ae[0]&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=u(ae,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),_+this.blockLength)}set valueBigInt(c){hs();let _=BigInt(c).toString(2);for(;_.length%7;)_="0"+_;const A=new Uint8Array(_.length/7);for(let W=0;W<A.length;W++)A[W]=parseInt(_.slice(7*W,7*W+7),2)+(W+1<A.length?128:0);this.fromBER(A.buffer,0,A.length)}toBER(c=!1){let _,A;if(this.isHexOnly){if(!0===c)return new ArrayBuffer(this.valueHex.byteLength);const ae=new Uint8Array(this.valueHex);_=new ArrayBuffer(this.blockLength),A=new Uint8Array(_);for(let ve=0;ve<this.blockLength-1;ve++)A[ve]=128|ae[ve];return A[this.blockLength-1]=ae[this.blockLength-1],_}const W=f(this.valueDec,7);if(0===W.byteLength)return this.error="Error during encoding SID value",Ar;if(_=new ArrayBuffer(W.byteLength),!1===c){const ae=new Uint8Array(W);A=new Uint8Array(_);for(let ve=0;ve<W.byteLength-1;ve++)A[ve]=128|ae[ve];A[W.byteLength-1]=ae[W.byteLength-1]}return _}toString(){let c="";if(!0===this.isHexOnly)c=C(this.valueHex,0,this.valueHex.byteLength);else if(this.isFirstSid){let _=this.valueDec;this.valueDec<=39?c="0.":this.valueDec<=79?(c="1.",_-=40):(c="2.",_-=80),c+=_.toString()}else c=this.valueDec.toString();return c}toJSON(){let c={};try{c=super.toJSON()}catch{}return c.valueDec=this.valueDec,c.isFirstSid=this.isFirstSid,c}}class Qi extends Xr{constructor(c={}){super(c),this.fromString(w(c,gs,""))}fromBER(c,_,A){let W=_;for(;A>0;){const ae=new ii;if(W=ae.fromBER(c,W,A),-1===W)return this.blockLength=0,this.error=ae.error,W;0===this.value.length&&(ae.isFirstSid=!0),this.blockLength+=ae.blockLength,A-=ae.blockLength,this.value.push(ae)}return W}toBER(c=!1){const _=[];for(let A=0;A<this.value.length;A++){const W=this.value[A].toBER(c);if(0===W.byteLength)return this.error=this.value[A].error,Ar;_.push(W)}return Ka(_)}fromString(c){this.value=[];let _=0,A=0,W="",ae=!1;do{if(A=c.indexOf(".",_),W=-1===A?c.substr(_):c.substr(_,A-_),_=A+1,ae){const ve=this.value[0];let Ge=0;switch(ve.valueDec){case 0:break;case 1:Ge=40;break;case 2:Ge=80;break;default:return this.value=[],!1}const I=parseInt(W,10);if(isNaN(I))return!0;ve.valueDec=I+Ge,ae=!1}else{const ve=new ii;if(W>Number.MAX_SAFE_INTEGER){hs();const Ge=BigInt(W);ve.valueBigInt=Ge}else if(ve.valueDec=parseInt(W,10),isNaN(ve.valueDec))return!0;0===this.value.length&&(ve.isFirstSid=!0,ae=!0),this.value.push(ve)}}while(-1!==A);return!0}toString(){let c="",_=!1;for(let A=0;A<this.value.length;A++){_=this.value[A].isHexOnly;let W=this.value[A].toString();0!==A&&(c=`${c}.`),_?(W=`{${W}}`,this.value[A].isFirstSid?c=`2.{${W} - 80}`:c+=W):c+=W}return c}static blockName(){return"ObjectIdentifierValueBlock"}toJSON(){let c={};try{c=super.toJSON()}catch{}c.value=this.toString(),c.sidArray=[];for(let _=0;_<this.value.length;_++)c.sidArray.push(this.value[_].toJSON());return c}}class ur extends vs{constructor(c={}){super(c,Qi),this.idBlock.tagClass=1,this.idBlock.tagNumber=6}static blockName(){return"OBJECT IDENTIFIER"}toString(){return`${this.constructor.blockName()} : ${this.valueBlock.toString()}`}}class pe extends(qs(Ms)){constructor(c={}){super(c),this.isHexOnly=!0,this.value=""}static blockName(){return"Utf8StringValueBlock"}toJSON(){let c={};try{c=super.toJSON()}catch{}return c.value=this.value,c}}class P extends vs{constructor(c={}){super(c,pe),gs in c&&this.fromString(c.value),this.idBlock.tagClass=1,this.idBlock.tagNumber=12}static blockName(){return"UTF8String"}fromBER(c,_,A){const W=this.valueBlock.fromBER(c,_,!0===this.lenBlock.isIndefiniteForm?A:this.lenBlock.length);return-1===W?(this.error=this.valueBlock.error,W):(this.fromBuffer(this.valueBlock.valueHex),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),W)}fromBuffer(c){this.valueBlock.value=String.fromCharCode.apply(null,new Uint8Array(c));try{this.valueBlock.value=decodeURIComponent(escape(this.valueBlock.value))}catch(_){this.warnings.push(`Error during "decodeURIComponent": ${_}, using raw string`)}}fromString(c){const _=unescape(encodeURIComponent(c)),A=_.length;this.valueBlock.valueHex=new ArrayBuffer(A);const W=new Uint8Array(this.valueBlock.valueHex);for(let ae=0;ae<A;ae++)W[ae]=_.charCodeAt(ae);this.valueBlock.value=c}toString(){return`${this.constructor.blockName()} : ${this.valueBlock.value}`}}class ue extends(qs(Ms)){constructor(c={}){super(c),this.valueDec=w(c,Ma,-1)}static blockName(){return"relativeSidBlock"}fromBER(c,_,A){if(0===A)return _;if(!1===m(this,c,_,A))return-1;const W=new Uint8Array(c,_,A);this.valueHex=new ArrayBuffer(A);let ae=new Uint8Array(this.valueHex);for(let I=0;I<A&&(ae[I]=127&W[I],this.blockLength++,128&W[I]);I++);const ve=new ArrayBuffer(this.blockLength),Ge=new Uint8Array(ve);for(let I=0;I<this.blockLength;I++)Ge[I]=ae[I];return this.valueHex=ve.slice(0),ae=new Uint8Array(this.valueHex),128&W[this.blockLength-1]?(this.error="End of input reached before message was fully decoded",-1):(0===ae[0]&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=u(ae,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),_+this.blockLength)}toBER(c=!1){let _,A;if(this.isHexOnly){if(!0===c)return new ArrayBuffer(this.valueHex.byteLength);const ae=new Uint8Array(this.valueHex);_=new ArrayBuffer(this.blockLength),A=new Uint8Array(_);for(let ve=0;ve<this.blockLength-1;ve++)A[ve]=128|ae[ve];return A[this.blockLength-1]=ae[this.blockLength-1],_}const W=f(this.valueDec,7);if(0===W.byteLength)return this.error="Error during encoding SID value",Ar;if(_=new ArrayBuffer(W.byteLength),!1===c){const ae=new Uint8Array(W);A=new Uint8Array(_);for(let ve=0;ve<W.byteLength-1;ve++)A[ve]=128|ae[ve];A[W.byteLength-1]=ae[W.byteLength-1]}return _}toString(){let c="";return c=!0===this.isHexOnly?C(this.valueHex,0,this.valueHex.byteLength):this.valueDec.toString(),c}toJSON(){let c={};try{c=super.toJSON()}catch{}return c.valueDec=this.valueDec,c}}class Me extends Xr{constructor(c={}){super(c),this.fromString(w(c,gs,""))}fromBER(c,_,A){let W=_;for(;A>0;){const ae=new ue;if(W=ae.fromBER(c,W,A),-1===W)return this.blockLength=0,this.error=ae.error,W;this.blockLength+=ae.blockLength,A-=ae.blockLength,this.value.push(ae)}return W}toBER(c=!1){let _=[];for(let A=0;A<this.value.length;A++){const W=this.value[A].toBER(c);if(0===W.byteLength)return this.error=this.value[A].error,Ar;_.push(W)}return Ka(_)}fromString(c){this.value=[];let _=0,A=0,W="";do{A=c.indexOf(".",_),W=-1===A?c.substr(_):c.substr(_,A-_),_=A+1;const ae=new ue;if(ae.valueDec=parseInt(W,10),isNaN(ae.valueDec))return!0;this.value.push(ae)}while(-1!==A);return!0}toString(){let c="",_=!1;for(let A=0;A<this.value.length;A++){_=this.value[A].isHexOnly;let W=this.value[A].toString();0!==A&&(c=`${c}.`),_&&(W=`{${W}}`),c+=W}return c}static blockName(){return"RelativeObjectIdentifierValueBlock"}toJSON(){let c={};try{c=super.toJSON()}catch{}c.value=this.toString(),c.sidArray=[];for(let _=0;_<this.value.length;_++)c.sidArray.push(this.value[_].toJSON());return c}}class rt extends vs{constructor(c={}){super(c,Me),this.idBlock.tagClass=1,this.idBlock.tagNumber=13}static blockName(){return"RelativeObjectIdentifier"}}class Nt extends(qs(Ms)){constructor(c={}){super(c),this.isHexOnly=!0,this.value=""}static blockName(){return"BmpStringValueBlock"}toJSON(){let c={};try{c=super.toJSON()}catch{}return c.value=this.value,c}}class Ut extends vs{constructor(c={}){super(c,Nt),gs in c&&this.fromString(c.value),this.idBlock.tagClass=1,this.idBlock.tagNumber=30}static blockName(){return"BMPString"}fromBER(c,_,A){const W=this.valueBlock.fromBER(c,_,!0===this.lenBlock.isIndefiniteForm?A:this.lenBlock.length);return-1===W?(this.error=this.valueBlock.error,W):(this.fromBuffer(this.valueBlock.valueHex),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),W)}fromBuffer(c){const _=c.slice(0),A=new Uint8Array(_);for(let W=0;W<A.length;W+=2){const ae=A[W];A[W]=A[W+1],A[W+1]=ae}this.valueBlock.value=String.fromCharCode.apply(null,new Uint16Array(_))}fromString(c){const _=c.length;this.valueBlock.valueHex=new ArrayBuffer(2*_);const A=new Uint8Array(this.valueBlock.valueHex);for(let W=0;W<_;W++){const ae=f(c.charCodeAt(W),8),ve=new Uint8Array(ae);if(ve.length>2)continue;const Ge=2-ve.length;for(let I=ve.length-1;I>=0;I--)A[2*W+I+Ge]=ve[I]}this.valueBlock.value=c}toString(){return`${this.constructor.blockName()} : ${this.valueBlock.value}`}}class rn extends(qs(Ms)){constructor(c={}){super(c),this.isHexOnly=!0,this.value=""}static blockName(){return"UniversalStringValueBlock"}toJSON(){let c={};try{c=super.toJSON()}catch{}return c.value=this.value,c}}class an extends vs{constructor(c={}){super(c,rn),gs in c&&this.fromString(c.value),this.idBlock.tagClass=1,this.idBlock.tagNumber=28}static blockName(){return"UniversalString"}fromBER(c,_,A){const W=this.valueBlock.fromBER(c,_,!0===this.lenBlock.isIndefiniteForm?A:this.lenBlock.length);return-1===W?(this.error=this.valueBlock.error,W):(this.fromBuffer(this.valueBlock.valueHex),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),W)}fromBuffer(c){const _=c.slice(0),A=new Uint8Array(_);for(let W=0;W<A.length;W+=4)A[W]=A[W+3],A[W+1]=A[W+2],A[W+2]=0,A[W+3]=0;this.valueBlock.value=String.fromCharCode.apply(null,new Uint32Array(_))}fromString(c){const _=c.length;this.valueBlock.valueHex=new ArrayBuffer(4*_);const A=new Uint8Array(this.valueBlock.valueHex);for(let W=0;W<_;W++){const ae=f(c.charCodeAt(W),8),ve=new Uint8Array(ae);if(ve.length>4)continue;const Ge=4-ve.length;for(let I=ve.length-1;I>=0;I--)A[4*W+I+Ge]=ve[I]}this.valueBlock.value=c}toString(){return`${this.constructor.blockName()} : ${this.valueBlock.value}`}}class _n extends(qs(Ms)){constructor(c={}){super(c),this.value="",this.isHexOnly=!0}static blockName(){return"SimpleStringValueBlock"}toJSON(){let c={};try{c=super.toJSON()}catch{}return c.value=this.value,c}}class qn extends vs{constructor(c={}){super(c,_n),gs in c&&this.fromString(c.value)}static blockName(){return"SIMPLESTRING"}fromBER(c,_,A){const W=this.valueBlock.fromBER(c,_,!0===this.lenBlock.isIndefiniteForm?A:this.lenBlock.length);return-1===W?(this.error=this.valueBlock.error,W):(this.fromBuffer(this.valueBlock.valueHex),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),W)}fromBuffer(c){this.valueBlock.value=String.fromCharCode.apply(null,new Uint8Array(c))}fromString(c){const _=c.length;this.valueBlock.valueHex=new ArrayBuffer(_);const A=new Uint8Array(this.valueBlock.valueHex);for(let W=0;W<_;W++)A[W]=c.charCodeAt(W);this.valueBlock.value=c}toString(){return`${this.constructor.blockName()} : ${this.valueBlock.value}`}}class jn extends qn{constructor(c={}){super(c),this.idBlock.tagClass=1,this.idBlock.tagNumber=18}static blockName(){return"NumericString"}}class Er extends qn{constructor(c={}){super(c),this.idBlock.tagClass=1,this.idBlock.tagNumber=19}static blockName(){return"PrintableString"}}class gi extends qn{constructor(c={}){super(c),this.idBlock.tagClass=1,this.idBlock.tagNumber=20}static blockName(){return"TeletexString"}}class Wr extends qn{constructor(c={}){super(c),this.idBlock.tagClass=1,this.idBlock.tagNumber=21}static blockName(){return"VideotexString"}}class Rr extends qn{constructor(c={}){super(c),this.idBlock.tagClass=1,this.idBlock.tagNumber=22}static blockName(){return"IA5String"}}class Ss extends qn{constructor(c={}){super(c),this.idBlock.tagClass=1,this.idBlock.tagNumber=25}static blockName(){return"GraphicString"}}class or extends qn{constructor(c={}){super(c),this.idBlock.tagClass=1,this.idBlock.tagNumber=26}static blockName(){return"VisibleString"}}class fs extends qn{constructor(c={}){super(c),this.idBlock.tagClass=1,this.idBlock.tagNumber=27}static blockName(){return"GeneralString"}}class Wo extends qn{constructor(c={}){super(c),this.idBlock.tagClass=1,this.idBlock.tagNumber=29}static blockName(){return"CharacterString"}}class xa extends or{constructor(c={}){if(super(c),this.year=0,this.month=0,this.day=0,this.hour=0,this.minute=0,this.second=0,gs in c){this.fromString(c.value),this.valueBlock.valueHex=new ArrayBuffer(c.value.length);const _=new Uint8Array(this.valueBlock.valueHex);for(let A=0;A<c.value.length;A++)_[A]=c.value.charCodeAt(A)}za in c&&(this.fromDate(c.valueDate),this.valueBlock.valueHex=this.toBuffer()),this.idBlock.tagClass=1,this.idBlock.tagNumber=23}fromBER(c,_,A){const W=this.valueBlock.fromBER(c,_,!0===this.lenBlock.isIndefiniteForm?A:this.lenBlock.length);return-1===W?(this.error=this.valueBlock.error,W):(this.fromBuffer(this.valueBlock.valueHex),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),W)}fromBuffer(c){this.fromString(String.fromCharCode.apply(null,new Uint8Array(c)))}toBuffer(){const c=this.toString(),_=new ArrayBuffer(c.length),A=new Uint8Array(_);for(let W=0;W<c.length;W++)A[W]=c.charCodeAt(W);return _}fromDate(c){this.year=c.getUTCFullYear(),this.month=c.getUTCMonth()+1,this.day=c.getUTCDate(),this.hour=c.getUTCHours(),this.minute=c.getUTCMinutes(),this.second=c.getUTCSeconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second))}fromString(c){const A=/(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})Z/gi.exec(c);if(null===A)return void(this.error="Wrong input string for conversion");const W=parseInt(A[1],10);this.year=W>=50?1900+W:2e3+W,this.month=parseInt(A[2],10),this.day=parseInt(A[3],10),this.hour=parseInt(A[4],10),this.minute=parseInt(A[5],10),this.second=parseInt(A[6],10)}toString(){const c=new Array(7);return c[0]=k(this.year<2e3?this.year-1900:this.year-2e3,2),c[1]=k(this.month,2),c[2]=k(this.day,2),c[3]=k(this.hour,2),c[4]=k(this.minute,2),c[5]=k(this.second,2),c[6]="Z",c.join("")}static blockName(){return"UTCTime"}toJSON(){let c={};try{c=super.toJSON()}catch{}return c.year=this.year,c.month=this.month,c.day=this.day,c.hour=this.hour,c.minute=this.minute,c.second=this.second,c}}class So extends or{constructor(c={}){if(super(c),this.year=0,this.month=0,this.day=0,this.hour=0,this.minute=0,this.second=0,this.millisecond=0,gs in c){this.fromString(c.value),this.valueBlock.valueHex=new ArrayBuffer(c.value.length);const _=new Uint8Array(this.valueBlock.valueHex);for(let A=0;A<c.value.length;A++)_[A]=c.value.charCodeAt(A)}za in c&&(this.fromDate(c.valueDate),this.valueBlock.valueHex=this.toBuffer()),this.idBlock.tagClass=1,this.idBlock.tagNumber=24}fromBER(c,_,A){const W=this.valueBlock.fromBER(c,_,!0===this.lenBlock.isIndefiniteForm?A:this.lenBlock.length);return-1===W?(this.error=this.valueBlock.error,W):(this.fromBuffer(this.valueBlock.valueHex),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),W)}fromBuffer(c){this.fromString(String.fromCharCode.apply(null,new Uint8Array(c)))}toBuffer(){const c=this.toString(),_=new ArrayBuffer(c.length),A=new Uint8Array(_);for(let W=0;W<c.length;W++)A[W]=c.charCodeAt(W);return _}fromDate(c){this.year=c.getUTCFullYear(),this.month=c.getUTCMonth()+1,this.day=c.getUTCDate(),this.hour=c.getUTCHours(),this.minute=c.getUTCMinutes(),this.second=c.getUTCSeconds(),this.millisecond=c.getUTCMilliseconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond))}fromString(c){let ve,_=!1,A="",W="",ae=0,Ge=0,I=0;if("Z"===c[c.length-1])A=c.substr(0,c.length-1),_=!0;else{const Q=new Number(c[c.length-1]);if(isNaN(Q.valueOf()))throw new Error("Wrong input string for conversion");A=c}if(_){if(-1!==A.indexOf("+"))throw new Error("Wrong input string for conversion");if(-1!==A.indexOf("-"))throw new Error("Wrong input string for conversion")}else{let Q=1,ge=A.indexOf("+"),$e="";if(-1===ge&&(ge=A.indexOf("-"),Q=-1),-1!==ge){if($e=A.substr(ge+1),A=A.substr(0,ge),2!==$e.length&&4!==$e.length)throw new Error("Wrong input string for conversion");let _t=new Number($e.substr(0,2));if(isNaN(_t.valueOf()))throw new Error("Wrong input string for conversion");if(Ge=Q*_t,4===$e.length){if(_t=new Number($e.substr(2,2)),isNaN(_t.valueOf()))throw new Error("Wrong input string for conversion");I=Q*_t}}}let V=A.indexOf(".");if(-1===V&&(V=A.indexOf(",")),-1!==V){const Q=new Number(`0${A.substr(V)}`);if(isNaN(Q.valueOf()))throw new Error("Wrong input string for conversion");ae=Q.valueOf(),W=A.substr(0,V)}else W=A;switch(!0){case 8===W.length:if(ve=/(\d{4})(\d{2})(\d{2})/gi,-1!==V)throw new Error("Wrong input string for conversion");break;case 10===W.length:if(ve=/(\d{4})(\d{2})(\d{2})(\d{2})/gi,-1!==V){let Q=60*ae;this.minute=Math.floor(Q),Q=60*(Q-this.minute),this.second=Math.floor(Q),Q=1e3*(Q-this.second),this.millisecond=Math.floor(Q)}break;case 12===W.length:if(ve=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})/gi,-1!==V){let Q=60*ae;this.second=Math.floor(Q),Q=1e3*(Q-this.second),this.millisecond=Math.floor(Q)}break;case 14===W.length:ve=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/gi,-1!==V&&(this.millisecond=Math.floor(1e3*ae));break;default:throw new Error("Wrong input string for conversion")}const B=ve.exec(W);if(null===B)throw new Error("Wrong input string for conversion");for(let Q=1;Q<B.length;Q++)switch(Q){case 1:this.year=parseInt(B[Q],10);break;case 2:this.month=parseInt(B[Q],10);break;case 3:this.day=parseInt(B[Q],10);break;case 4:this.hour=parseInt(B[Q],10)+Ge;break;case 5:this.minute=parseInt(B[Q],10)+I;break;case 6:this.second=parseInt(B[Q],10);break;default:throw new Error("Wrong input string for conversion")}if(!1===_){const Q=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond);this.year=Q.getUTCFullYear(),this.month=Q.getUTCMonth(),this.day=Q.getUTCDay(),this.hour=Q.getUTCHours(),this.minute=Q.getUTCMinutes(),this.second=Q.getUTCSeconds(),this.millisecond=Q.getUTCMilliseconds()}}toString(){const c=[];return c.push(k(this.year,4)),c.push(k(this.month,2)),c.push(k(this.day,2)),c.push(k(this.hour,2)),c.push(k(this.minute,2)),c.push(k(this.second,2)),0!==this.millisecond&&(c.push("."),c.push(k(this.millisecond,3))),c.push("Z"),c.join("")}static blockName(){return"GeneralizedTime"}toJSON(){let c={};try{c=super.toJSON()}catch{}return c.year=this.year,c.month=this.month,c.day=this.day,c.hour=this.hour,c.minute=this.minute,c.second=this.second,c.millisecond=this.millisecond,c}}class ks extends P{constructor(c={}){super(c),this.idBlock.tagClass=1,this.idBlock.tagNumber=31}static blockName(){return"DATE"}}class sa extends P{constructor(c={}){super(c),this.idBlock.tagClass=1,this.idBlock.tagNumber=32}static blockName(){return"TimeOfDay"}}class Ri extends P{constructor(c={}){super(c),this.idBlock.tagClass=1,this.idBlock.tagNumber=33}static blockName(){return"DateTime"}}class ka extends P{constructor(c={}){super(c),this.idBlock.tagClass=1,this.idBlock.tagNumber=34}static blockName(){return"Duration"}}class oa extends P{constructor(c={}){super(c),this.idBlock.tagClass=1,this.idBlock.tagNumber=14}static blockName(){return"TIME"}}function Lr(Le,c,_){const A=c;let ae=new vs({},Object);const ve=new Ms;if(!1===m(ve,Le,c,_))return ae.error=ve.error,{offset:-1,result:ae};if(0===new Uint8Array(Le,c,_).length)return ae.error="Zero buffer length",{offset:-1,result:ae};let I=ae.idBlock.fromBER(Le,c,_);if(ae.warnings.concat(ae.idBlock.warnings),-1===I)return ae.error=ae.idBlock.error,{offset:-1,result:ae};if(I=ae.lenBlock.fromBER(Le,c=I,_-=ae.idBlock.blockLength),ae.warnings.concat(ae.lenBlock.warnings),-1===I)return ae.error=ae.lenBlock.error,{offset:-1,result:ae};if(c=I,_-=ae.lenBlock.blockLength,!1===ae.idBlock.isConstructed&&!0===ae.lenBlock.isIndefiniteForm)return ae.error="Indefinite length form used for primitive encoding form",{offset:-1,result:ae};let V=vs;if(1===ae.idBlock.tagClass){if(ae.idBlock.tagNumber>=37&&!1===ae.idBlock.isHexOnly)return ae.error="UNIVERSAL 37 and upper tags are reserved by ASN.1 standard",{offset:-1,result:ae};switch(ae.idBlock.tagNumber){case 0:if(!0===ae.idBlock.isConstructed&&ae.lenBlock.length>0)return ae.error="Type [UNIVERSAL 0] is reserved",{offset:-1,result:ae};V=Es;break;case 1:V=Ke;break;case 2:V=Ji;break;case 3:V=fr;break;case 4:V=wn;break;case 5:V=Rt;break;case 6:V=ur;break;case 10:V=Vi;break;case 12:V=P;break;case 13:V=rt;break;case 14:V=oa;break;case 15:return ae.error="[UNIVERSAL 15] is reserved by ASN.1 standard",{offset:-1,result:ae};case 16:V=de;break;case 17:V=Pe;break;case 18:V=jn;break;case 19:V=Er;break;case 20:V=gi;break;case 21:V=Wr;break;case 22:V=Rr;break;case 23:V=xa;break;case 24:V=So;break;case 25:V=Ss;break;case 26:V=or;break;case 27:V=fs;break;case 28:V=an;break;case 29:V=Wo;break;case 30:V=Ut;break;case 31:V=ks;break;case 32:V=sa;break;case 33:V=Ri;break;case 34:V=ka;break;default:{let B;B=!0===ae.idBlock.isConstructed?new xs:new ma,B.idBlock=ae.idBlock,B.lenBlock=ae.lenBlock,B.warnings=ae.warnings,ae=B}}}else V=!0===ae.idBlock.isConstructed?xs:ma;return ae=function W(B,Q){if(B instanceof Q)return B;const ge=new Q;return ge.idBlock=B.idBlock,ge.lenBlock=B.lenBlock,ge.warnings=B.warnings,ge.valueBeforeDecode=B.valueBeforeDecode.slice(0),ge}(ae,V),I=ae.fromBER(Le,c,!0===ae.lenBlock.isIndefiniteForm?_:ae.lenBlock.length),ae.valueBeforeDecode=Le.slice(A,A+ae.blockLength),{offset:I,result:ae}}function Di(Le){if(0===Le.byteLength){const c=new vs({},Object);return c.error="Input buffer has zero length",{offset:-1,result:c}}return Lr(Le,0,Le.byteLength)}var va=h(3838),vo=h(4531),yl=h(4438);let Hl=(()=>{class Le{convertStringToArrayBuffer(_){const A=new va.hp(_,"base64").toString("binary"),W=new ArrayBuffer(2*A.length),ae=new Uint8Array(W);for(let ve=0,Ge=A.length;ve<Ge;ve++)ae[ve]=A.charCodeAt(ve);return W}buildCertModelFromArrayBuffer(_,A){var W=this;return(0,n.A)(function*(){const ae=Di(_),ve=new ui({schema:ae.result}),Ge=new e,I=W.getSubject(ve),V=yield W.calculateCertificateThumbprint(A);return Ge.base64Cert=A,Ge.subject=I,Ge.thumbprint=V,Ge})()}verifyCertFilePassword(_,A,W){let ae=new FileReader;ae.onload=ve=>{try{const Ge=va.hp.from(ae.result),I=this.arrayBufferToBase64(Ge);(0,vo.hc)(Ge,A),W.next(I)}catch(Ge){console.log("Invalid cert!"),W.error(Ge)}},ae.onerror=ve=>{W.error(ve)},ae.readAsArrayBuffer(_)}getSubject(_){const A={"2.5.4.6":"C","2.5.4.10":"O","2.5.4.11":"OU","2.5.4.3":"CN","2.5.4.7":"L","2.5.4.8":"S","2.5.4.12":"T","2.5.4.42":"GN","2.5.4.43":"I","2.5.4.4":"SN","1.2.840.113549.1.9.1":"E-mail"},W=new Array;for(const ve of _.subject.typesAndValues){let Ge=A[ve.type];typeof Ge>"u"&&(Ge=ve.type),W.push(`${Ge}=${ve.value.valueBlock.value}`)}return W.reverse().join(", ")}calculateCertificateThumbprint(_){var A=this;return(0,n.A)(function*(){const W=new va.hp(_,"base64"),ae=yield crypto.subtle.digest("SHA-1",W);return A.computeHex(ae)})()}computeHex(_){return[].map.call(new Uint8Array(_),A=>("00"+A.toString(16)).slice(-2)).join("")}arrayBufferToBase64(_){for(var A="",W=new Uint8Array(_),ae=W.byteLength,ve=0;ve<ae;ve++)A+=String.fromCharCode(W[ve]);return window.btoa(A)}static{this.\u0275fac=function(A){return new(A||Le)}}static{this.\u0275prov=yl.jDH({token:Le,factory:Le.\u0275fac})}}return Le})()},526:(nt,fe,h)=>{"use strict";h.d(fe,{X:()=>C});var n=h(1626),e=h(2771),y=h(7263),p=h(4438),w=h(9564);let C=(()=>{class m{constructor(f,T){this.http=f,this.claimTypeSubject=new e.m(1),this.actionUrl="ClaimTypes",this.headers=T.setHeaders()}getCachedClaimType(){return this.claimTypeSubject}getClaimType(f){return this.http.get(`${this.actionUrl}/${f}`,{headers:this.headers})}getClaimTypes(f,T,O=!1){let F=new n.Nl;return(0,y.gP)(f)||(F=F.append("name",f)),F=F.append("sort",(0,y.gP)(T)?"name":T),this.http.get(O?`${this.actionUrl}/ClaimTypesLightWeight`:this.actionUrl,{headers:this.headers,params:F})}addClaimType(f){const T=`${this.actionUrl}`,O=JSON.stringify(f);return this.http.post(T,O,{headers:this.headers})}updateClaimType(f){const T=`${this.actionUrl}/${f.id}`,O=JSON.stringify(f);return this.http.put(T,O,{headers:this.headers})}deleteClaimType(f){return this.http.delete(`${this.actionUrl}/${f.id}`,{headers:this.headers})}getAllowedValues(f,T,O){let F=new n.Nl;return(0,y.gP)(T)||(F=F.append("query",T)),O&&(F=F.append("resultThreshold",O)),this.http.get(`${this.actionUrl}/AllowedValues/${f}`,{headers:this.headers,params:F})}static{this.\u0275fac=function(T){return new(T||m)(p.KVO(n.Qq),p.KVO(w.m))}}static{this.\u0275prov=p.jDH({token:m,factory:m.\u0275fac})}}return m})()},8939:(nt,fe,h)=>{"use strict";h.d(fe,{R:()=>u});var n=h(983),e=h(6354),y=h(9437),p=h(8284),w=h(4438),C=h(526),m=h(5424);let u=(()=>{class f{constructor(O,F){this.claimTypeService=O,this.errorService=F}resolve(O,F){return this.claimTypeService.getClaimType(O.params.Id).pipe((0,e.T)(M=>(M&&this.claimTypeService.getCachedClaimType().next(M),M)),(0,y.W)((M,k)=>(404===M.status?this.errorService.resourceNotFound(p.v.claimType):this.errorService.handleError(M),(0,n.I)())))}static{this.\u0275fac=function(F){return new(F||f)(w.KVO(C.X),w.KVO(m.I))}}static{this.\u0275prov=w.jDH({token:f,factory:f.\u0275fac})}}return f})()},3577:(nt,fe,h)=>{"use strict";h.d(fe,{e:()=>y});var n=h(4412),e=h(4438);let y=(()=>{class p{constructor(){this.unsavedCache=new n.t(null),this.unsavedCache$=this.unsavedCache.asObservable(),this.savedCache=new n.t(null),this.savedCache$=this.savedCache.asObservable(),this.componentDirtyValidMap=new Map}onClientSave(){this.componentDirtyValidMap.clear()}static{this.\u0275fac=function(m){return new(m||p)}}static{this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})()},9113:(nt,fe,h)=>{"use strict";h.d(fe,{Hh:()=>C,SD:()=>w,qJ:()=>p});var n=h(4438),e=h(1626),y=h(9564);let p=(()=>{class u{constructor(T,O){this.http=T,this.headersService=O,this.actionUrl="clients/import"}validateImportFile(T){const b=this.headersService.setHeaders("application/vnd.adminui.import-clients-validation-v1+json","application/vnd.adminui.import-clients-validation-result-v1+json");return this.http.post(`${this.actionUrl}/validate`,T,{headers:b})}completeImport(T,O){const F=this.appendImportConfiguration(T,O),M=this.headersService.setHeaders("application/vnd.adminui.import-clients-v1+json");return this.http.post(`${this.actionUrl}`,F,{headers:M})}appendImportConfiguration(T,O){const F=JSON.parse(T);return F.importConfiguration={clients:O.clients,protectedResources:O.protectedResources},JSON.stringify(F)}static{this.\u0275fac=function(O){return new(O||u)(n.KVO(e.Qq),n.KVO(y.m))}}static{this.\u0275prov=n.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}}return u})();class w{}class C{constructor(){this.certificates=new m}}class m{}},8173:(nt,fe,h)=>{"use strict";h.d(fe,{q:()=>w});var n=h(6701),e=h(4491),y=h(4438),p=h(3577);let w=(()=>{class q{constructor(re){this.cache=re,this.defaultClientGrantTypeMap=new Map([[n.s.BrowserBased,e.$.AuthorizationCode],[n.s.ServerSidePKCE,e.$.AuthorizationCode],[n.s.ServerSide,e.$.Hybrid],[n.s.Native,e.$.Hybrid],[n.s.Machine,e.$.ClientCredentials],[n.s.CIBAMachine,e.$.CIBA],[n.s.Device,e.$.Device],[n.s.LegacyClientSide,e.$.Implicit]]),this.clientCacheSubscription=this.cache.unsavedCache$.subscribe(K=>{this.initClientViews(K)})}ngOnDestroy(){this.clientCacheSubscription.unsubscribe()}initClientViews(re){this.resetTabs(),this.isStandardClientFormat(re)||re.clientType===n.s.Saml||re.clientType===n.s.WsFed?this.initUsingClientType(re.clientType):0!==re.allowedGrantTypes.length?this.initUsingGrantTypes(re.allowedGrantTypes):this.initDefaults()}resetTabs(){this.authRequest=new C,this.details=new m,this.applicationUrls=new u,this.secrets=new f,this.resources=new T,this.tokens=new L,this.claims=new F,this.refreshTokens=new U,this.identityProviders=new M,this.properties=new k,this.other=new N,this.deviceFlow=new R,this.singleSignOut=new j,this.consent=new $,this.saml=new ie,this.wsFed=new se,this.ciba=new O,this.dpop=new J}isStandardClientFormat(re){if(re.clientType===n.s.Unknown||re.allowedGrantTypes.length>1)return!1;const K=this.defaultClientGrantTypeMap.get(re.clientType);return re.allowedGrantTypes[0]===K}initUsingClientType(re){switch(re){case n.s.BrowserBased:this.consent.display=!0,this.singleSignOut.display=!0,this.authRequest.display=!0,this.authRequest.pkce=!0,this.authRequest.par=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.applicationUrls.allowedCorsOrigins=!0,this.resources.allowedScopesIdentity=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.authorizationCodeLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0,this.dpop.display=!0;break;case n.s.ServerSide:case n.s.ServerSidePKCE:this.refreshTokens.display=!0,this.consent.display=!0,this.singleSignOut.display=!0,this.singleSignOut.backChannelLogoutSessionRequired=!0,this.singleSignOut.backChannelLogoutUri=!0,this.authRequest.display=!0,this.authRequest.pkce=!0,this.authRequest.par=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.resources.allowedScopesIdentity=!0,this.claims.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.authorizationCodeLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0;break;case n.s.Native:case n.s.NativePKCE:this.consent.display=!0,this.refreshTokens.display=!0,this.singleSignOut.display=!0,this.singleSignOut.backChannelLogoutSessionRequired=!0,this.singleSignOut.backChannelLogoutUri=!0,this.authRequest.display=!0,this.authRequest.pkce=!0,this.authRequest.par=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.resources.allowedScopesIdentity=!0,this.claims.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.authorizationCodeLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0,this.dpop.display=!0;break;case n.s.Machine:this.other.display=!0,this.authRequest.display=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.properties.display=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.dpop.display=!0;break;case n.s.CIBAMachine:this.other.display=!0,this.authRequest.display=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.resources.allowedScopesIdentity=!0,this.claims.display=!0,this.properties.display=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.ciba.display=!0,this.dpop.display=!0;break;case n.s.Device:this.consent.display=!0,this.authRequest.display=!0,this.refreshTokens.display=!0,this.deviceFlow.display=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.deviceFlow.display=!0,this.applicationUrls.display=!0,this.applicationUrls.allowedCorsOrigins=!0,this.secrets.display=!0,this.resources.allowedScopesIdentity=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0;break;case n.s.Saml:this.other.display=!0,this.other.userSSOLifetime=!0,this.tokens.display=!1,this.resources.allowedScopesIdentity=!0,this.identityProviders.display=!0,this.properties.display=!0,this.saml.display=!0;break;case n.s.WsFed:this.other.display=!0,this.other.userSSOLifetime=!0,this.tokens.display=!1,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.resources.allowedScopesIdentity=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.wsFed.display=!0;break;case n.s.LegacyClientSide:this.consent.display=!0,this.authRequest.display=!0,this.singleSignOut.display=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.applicationUrls.allowedCorsOrigins=!0,this.resources.allowedScopesIdentity=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.allowAccessTokensViaBrowser=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0}}initUsingGrantTypes(re){this.saml.display=!1,this.wsFed.display=!1,re.forEach(K=>{switch(K){case e.$.Implicit:this.consent.display=!0,this.singleSignOut.display=!0,this.authRequest.display=!0,this.authRequest.par=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.applicationUrls.allowedCorsOrigins=!0,this.resources.allowedScopesIdentity=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.allowAccessTokensViaBrowser=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0;break;case e.$.Hybrid:this.consent.display=!0,this.refreshTokens.display=!0,this.singleSignOut.display=!0,this.singleSignOut.backChannelLogoutSessionRequired=!0,this.singleSignOut.backChannelLogoutUri=!0,this.authRequest.display=!0,this.authRequest.pkce=!0,this.authRequest.par=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.resources.allowedScopesIdentity=!0,this.claims.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.allowAccessTokensViaBrowser=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.authorizationCodeLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0;break;case e.$.AuthorizationCode:this.consent.display=!0,this.refreshTokens.display=!0,this.singleSignOut.display=!0,this.singleSignOut.backChannelLogoutSessionRequired=!0,this.singleSignOut.backChannelLogoutUri=!0,this.authRequest.display=!0,this.authRequest.pkce=!0,this.authRequest.par=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.resources.allowedScopesIdentity=!0,this.claims.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.authorizationCodeLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0,this.dpop.display=!0;break;case e.$.ClientCredentials:this.other.display=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.authRequest.display=!0,this.properties.display=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.dpop.display=!0;break;case e.$.CIBA:this.other.display=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.authRequest.display=!0,this.properties.display=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.ciba.display=!0;break;case e.$.ResourceOwnerPassword:this.refreshTokens.display=!0,this.other.display=!0,this.secrets.display=!0,this.resources.allowedScopesIdentity=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.authRequest.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0;break;case e.$.Device:this.consent.display=!0,this.refreshTokens.display=!0,this.deviceFlow.display=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.allowedCorsOrigins=!0,this.secrets.display=!0,this.resources.allowedScopesIdentity=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.authRequest.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0;break;default:this.initDefaults()}})}initDefaults(){this.consent.display=!0,this.refreshTokens.display=!0,this.singleSignOut.display=!0,this.singleSignOut.backChannelLogoutUri=!0,this.singleSignOut.backChannelLogoutSessionRequired=!0,this.deviceFlow.display=!0,this.authRequest.display=!0,this.authRequest.pkce=!0,this.authRequest.par=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.applicationUrls.allowedCorsOrigins=!0,this.secrets.display=!0,this.resources.allowedScopesIdentity=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.allowAccessTokensViaBrowser=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.authorizationCodeLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0}static{this.\u0275fac=function(K){return new(K||q)(y.KVO(p.e))}}static{this.\u0275prov=y.jDH({token:q,factory:q.\u0275fac})}}return q})();class C{constructor(){this.display=!1,this.pkce=!1,this.par=!1}}class m{}class u{constructor(){this.display=!1,this.redirectUris=!1,this.postLogoutRedirectUris=!1,this.allowedCorsOrigins=!1}}class f{constructor(){this.display=!1}}class T{constructor(){this.allowedScopesIdentity=!1,this.allowedScopesAPI=!1}}class O{constructor(){this.display=!1}}class F{constructor(){this.display=!1}}class M{constructor(){this.display=!1}}class k{constructor(){this.display=!1}}class N{constructor(){this.display=!1,this.userSSOLifetime=!1}}class R{constructor(){this.display=!1}}class j{constructor(){this.display=!1,this.backChannelLogoutUri=!1,this.backChannelLogoutSessionRequired=!1}}class U{constructor(){this.display=!1}}class ${constructor(){this.display=!1}}class ie{constructor(){this.display=!1}}class se{constructor(){this.display=!1}}class L{constructor(){this.display=!0,this.allowAccessTokensViaBrowser=!1,this.identityTokenLifetime=!1,this.accessTokenLifetime=!1,this.authorizationCodeLifetime=!1,this.accessTokenType=!1,this.includeJwtId=!1,this.alwaysIncludeUserClaimsInIdToken=!1}}class J{constructor(){this.display=!1}}},9398:(nt,fe,h)=>{"use strict";h.d(fe,{_:()=>m});var n=h(1626),e=h(2771),y=h(7263),p=h(6701),w=h(4438),C=h(9564);let m=(()=>{class u{constructor(T,O){this.http=T,this.headersService=O,this.clientSubject=new e.m(1),this.actionUrl="clients",this.headers=O.setHeaders()}getClients(T,O,F){let b=new n.Nl;return(0,y.gP)(T)||(b=b.append("name",T)),O&&(b=b.append("page",O)),F&&(b=b.append("pageSize",F)),this.http.get(this.actionUrl,{headers:this.headers,params:b})}getClient(T){return this.http.get(`${this.actionUrl}/${T}`,{headers:this.headers})}getCachedClient(){return this.clientSubject}addClient(T){let O;switch(T.clientType){case p.s.Saml:O=this.headersService.setHeaders("application/vnd.adminui.new-saml-client-v1+json");break;case p.s.WsFed:O=this.headersService.setHeaders("application/vnd.adminui.new-wsfed-client-v1+json");break;default:O=this.headersService.setHeaders()}const F=`${this.actionUrl}/`,b=JSON.stringify(T);return this.http.post(F,b,{headers:O})}updateClient(T){return this.http.put(`${this.actionUrl}/${T.id}`,T,{headers:this.headers})}addClientSecret(T,O){return this.http.post(`${this.actionUrl}/${T}/secrets`,O,{headers:this.headers})}removeClientSecret(T,O){return this.http.delete(`${this.actionUrl}/${T}/secrets/${O.id}`,{headers:this.headers})}deleteClient(T){return this.http.delete(`${this.actionUrl}/${T}`,{headers:this.headers})}cloneClient(T,O){const F=`${this.actionUrl}/${T}/clone`,b=this.headersService.setHeaders("application/vnd.adminui.clone-client-v1+json");return this.http.post(F,O,{headers:b,observe:"response"})}static{this.\u0275fac=function(O){return new(O||u)(w.KVO(n.Qq),w.KVO(C.m))}}static{this.\u0275prov=w.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}}return u})()},9196:(nt,fe,h)=>{"use strict";h.d(fe,{w:()=>O});var n=h(1626),e=h(7673),y=h(1413),p=h(978);function C(F){return{...F,dynamicAuthenticationFlag:p.U[F.dynamicAuthenticationFlag]}}class f{}var T=h(4438);let O=(()=>{class F{constructor(M){this.http=M,this.headers=new n.Lr,this.actionUrl="UIConfiguration"}getConfig(M=!1){const k=new f;if(k.resetPasswordConfigured=!1,k.targetIdentityServer4=!1,k.resetMfaConfigured=!1,k.policyPersistence=!1,k.webhookPersistence=!1,k.featureFlagOptions=new p.D,k.supportedLanguages=[],this.uiOptions&&!M)return(0,e.of)(this.uiOptions);const N=new y.B;return this.headers=this.headers.set("Content-Type","application/json").set("Accept","application/json").set("Access-Control-Allow-Origin","true"),this.http.get(this.actionUrl,{headers:this.headers}).subscribe({next:G=>{this.uiOptions=function u(F){return{...F,featureFlagOptions:C(F.featureFlagOptions)}}(G),N.next(this.uiOptions)},error:G=>N.next(k)}),N.asObservable()}static{this.\u0275fac=function(k){return new(k||F)(T.KVO(n.Qq))}}static{this.\u0275prov=T.jDH({token:F,factory:F.\u0275fac})}}return F})()},3384:(nt,fe,h)=>{"use strict";h.d(fe,{R:()=>f});var n=h(983),e=h(6354),y=h(9437),p=h(8284),w=h(4438),C=h(2036),m=h(6366),u=h(5424);let f=(()=>{class T{constructor(F,b,M){this.wsfedClientService=F,this.relyingPartyCache=b,this.errorService=M}resolve(F,b){const M=F.parent.paramMap.get("Id");if(!(this.relyingPartyCache.componentDirtyValidMap.size>0))return this.wsfedClientService.getRelyingParty(M).pipe((0,e.T)(k=>{const N=JSON.parse(JSON.stringify(k.claimMappings)),G=new Map;for(const R in N)N.hasOwnProperty(R)&&G.set(R,N[R]);return k.claimMappings=G,this.relyingPartyCache.unsavedCache.next(k),k}),(0,y.W)(k=>(404===k.status?this.errorService.resourceNotFound(p.v.relyingParty):this.errorService.handleError(k),(0,n.I)())));this.relyingPartyCache.unsavedCache$.subscribe(k=>k)}static{this.\u0275fac=function(b){return new(b||T)(w.KVO(C.c),w.KVO(m.z),w.KVO(u.I))}}static{this.\u0275prov=w.jDH({token:T,factory:T.\u0275fac})}}return T})()},1466:(nt,fe,h)=>{"use strict";h.d(fe,{z:()=>T});var n=h(983),e=h(6354),y=h(9437),p=h(8284),w=h(4438),C=h(9156),m=h(5691),u=h(1583),f=h(5424);let T=(()=>{class O{constructor(b,M,k,N){this.serviceProviderService=b,this.serviceproviderCache=M,this.router=k,this.errorSerivce=N}resolve(b,M){const k=b.parent.paramMap.get("Id");if(!(this.serviceproviderCache.componentDirtyValidMap.size>0))return this.serviceProviderService.getServiceProvider(k).pipe((0,e.T)(N=>{const G=JSON.parse(JSON.stringify(N.claimMappings)),R=new Map;for(const j in G)G.hasOwnProperty(j)&&R.set(j,G[j]);return N.claimMappings=R,this.serviceproviderCache.unsavedCache.next(N),this.serviceproviderCache.savedCache.next(N),N}),(0,y.W)((N,G)=>(404===N.status?this.errorSerivce.resourceNotFound(p.v.serviceProvider):this.errorSerivce.handleError(N),(0,n.I)())));this.serviceproviderCache.unsavedCache$.subscribe(N=>N)}static{this.\u0275fac=function(M){return new(M||O)(w.KVO(C.s),w.KVO(m.d),w.KVO(u.Ix),w.KVO(f.I))}}static{this.\u0275prov=w.jDH({token:O,factory:O.\u0275fac})}}return O})()},4442:(nt,fe,h)=>{"use strict";h.d(fe,{_:()=>C});var n=h(1594),e=h(4438),y=h(9156),p=h(5691),w=h(5424);let C=(()=>{class m{constructor(f,T,O){this.serviceProviderService=f,this.cache=T,this.errorService=O}uploadFile(f,T){return this.serviceProviderService.setEncryptionCertificateViaFile(f,T)}uploadViaMetaData(f,T){return this.serviceProviderService.setEncryptionCertificateViaMetadata(f,T)}updateCertCache(f){this.serviceProviderService.getServiceProvider(f).subscribe(T=>{this.cache.unsavedCache$.pipe((0,n.$)()).subscribe(O=>{O.encryptionCertificate=T.encryptionCertificate,this.cache.unsavedCache.next(O)})},T=>{this.errorService.handleError(T)})}static{this.\u0275fac=function(T){return new(T||m)(e.KVO(y.s),e.KVO(p.d),e.KVO(w.I))}}static{this.\u0275prov=e.jDH({token:m,factory:m.\u0275fac})}}return m})()},5424:(nt,fe,h)=>{"use strict";h.d(fe,{I:()=>f});var n=h(7263),e=h(8284),y=h(9957),p=h(4438),w=h(1583),C=h(7005),m=h(5794),u=h(1780);let f=(()=>{class T{constructor(F,b,M,k){this.router=F,this.localize=b,this.toast=M,this.translate=k}resourceNotFound(F){this.router.navigate([this.localize.translateRoute("/resourcenotfound/"+e.v[F])])}handleError(F,b,M){let k=y.I.NotHandled;const N=this.getDefaultNavigationPath(F);if(N)this.router.navigate([this.localize.translateRoute(N)]),k|=y.I.Navigate;else{const G=this.getOptionsToastBody(F,b)||this.getDefaultToastBody(F),R=this.getOptionsToastTitle(F,b)||this.getDefaultToastTitle(F);G&&R&&(M?this.toast.error(G,R,M):this.toast.error(G,R),k|=y.I.Toast)}return k}getOptionsToastBody(F,b){if(!b)return;const M="number"==typeof F.status&&b.statusToastOptions?b.statusToastOptions[F.status]:b;return M&&M.toastBody}getOptionsToastTitle(F,b){if(!b)return;const M="number"==typeof F.status&&b.statusToastOptions?b.statusToastOptions[F.status]:b;return M&&M.toastTitle}getDefaultNavigationPath(F){switch(F.status){case 401:return"/unauthorized";case 403:return"/forbidden";case 404:return"/404";default:return}}getDefaultToastTitle(F){switch(F.status){case 400:case 420:return"Bad Request";case 405:return"Method Not Allowed";default:return this.translate.instant("Notifications.Error")}}getDefaultToastBody(F){return 500===F.status?`${this.translate.instant("Notifications.SomethingWrong")}. ${this.translate.instant("Notifications.CheckLogs")}`:F.error&&F.error.errors&&F.error.errors.length>0?F.error.errors[0]:(0,n.gP)(F._body)&&(0,n.gP)(F.error)?`${this.translate.instant("Notifications.SomethingWrong")}. ${this.translate.instant("Notifications.CheckLogs")}`:(0,n.gP)(F.error)?F._body:F.error}static{this.\u0275fac=function(b){return new(b||T)(p.KVO(w.Ix),p.KVO(C.QG),p.KVO(m.tw),p.KVO(u.c$))}}static{this.\u0275prov=p.jDH({token:T,factory:T.\u0275fac,providedIn:"root"})}}return T})()},9686:(nt,fe,h)=>{"use strict";h.d(fe,{D:()=>p});class n{constructor(C){this.form=C}submitForm(){document.body.appendChild(this.form),this.form.submit(),document.body.removeChild(this.form)}}var e=h(4438),y=h(7883);let p=(()=>{class w{constructor(m){this.securityService=m}buildForm(m){const u=this.buildStandardForm(m);return new n(u)}buildStandardForm(m){const u=document.createElement("form");return u.setAttribute("method","post"),u.setAttribute("action",m),u}appendInput(m,u,f){const T=document.createElement("input");T.setAttribute("type","text"),T.setAttribute("name",m),T.setAttribute("value",u),f.appendChild(T)}buildFormWithCustomInputs(m,u){const f=this.buildStandardForm(m);return u.forEach((T,O)=>{this.appendInput(O,T,f)}),new n(f)}static{this.\u0275fac=function(u){return new(u||w)(e.KVO(y.i))}}static{this.\u0275prov=e.jDH({token:w,factory:w.\u0275fac})}}return w})()},3218:(nt,fe,h)=>{"use strict";h.d(fe,{O:()=>C});var n=h(1594),e=h(6354),y=h(4438),p=h(1583),w=h(9196);let C=(()=>{class m{constructor(f,T){this.router=f,this.config=T}canActivate(f,T){return this.config.getConfig().pipe((0,n.$)(),(0,e.T)(O=>(O?.featureFlagOptions?.sessionManagementEnabled??!1)||this.router.parseUrl("/resourcenotfound/user")))}static{this.\u0275fac=function(T){return new(T||m)(y.KVO(p.Ix),y.KVO(w.w))}}static{this.\u0275prov=y.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})()},9564:(nt,fe,h)=>{"use strict";h.d(fe,{m:()=>y});var n=h(1626),e=h(4438);let y=(()=>{class p{setHeaders(C,m){return(new n.Lr).set("Content-Type",C||"application/json").set("Accept",m||"application/json").set("Access-Control-Allow-Origin","true").set("Cache-Control","no-cache").set("Pragma","no-cache").set("Expires","Sat, 01 Jan 2000 00:00:00 GMT")}static{this.\u0275fac=function(m){return new(m||p)}}static{this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}}return p})()},6801:(nt,fe,h)=>{"use strict";h.d(fe,{M:()=>p});var n=h(2771),e=h(4438),y=h(1626);let p=(()=>{class w{constructor(m){this.http=m,this.idsReady=!1,this.idsHealthCheckComplete=new n.m(1),this.uiReady=!1,this.uiHealthCheckComplete=new n.m(1),this.actionUrl="healthcheck"}checkHealthIdentityServer(){return this.http.get(`${this.actionUrl}/checkidentityserver`)}checkHealthUi(){return this.http.get(`${this.actionUrl}/checkui`)}static{this.\u0275fac=function(u){return new(u||w)(e.KVO(y.Qq))}}static{this.\u0275prov=e.jDH({token:w,factory:w.\u0275fac})}}return w})()},8261:(nt,fe,h)=>{"use strict";h.d(fe,{A:()=>C});var n=h(1626),e=h(2771),y=h(7263),p=h(4438),w=h(9564);let C=(()=>{class m{constructor(f,T){this.http=f,this.headersService=T,this.identityResourceSubject=new e.m(1),this.actionUrl="IdentityResources",this.headers=T.setHeaders()}getCachedIdentityResource(){return this.identityResourceSubject}getIdentityResources(f){let T=new n.Nl;return(0,y.gP)(f)||(T=T.append("name",f)),this.http.get(this.actionUrl,{headers:this.headers,params:T})}addResource(f){const T=`${this.actionUrl}/`,O=JSON.stringify(f);return this.http.post(T,O,{headers:this.headers})}getResource(f){return this.http.get(`${this.actionUrl}/${f}`,{headers:this.headers})}updateResource(f){return this.http.put(`${this.actionUrl}/${f.id}`,f,{headers:this.headers})}deleteIdentityResource(f){return this.http.delete(`${this.actionUrl}/${f}`,{headers:this.headers})}static{this.\u0275fac=function(T){return new(T||m)(p.KVO(n.Qq),p.KVO(w.m))}}static{this.\u0275prov=p.jDH({token:m,factory:m.\u0275fac})}}return m})()},6193:(nt,fe,h)=>{"use strict";h.d(fe,{V:()=>G});var n=h(1413),e=h(2771),y=h(4414),p=h(1594),w=h(1744),C=h(7728),m=h(5696),u=h(4406),f=h(1138),T=h(785),O=h(7263),F=h(2858),b=h(7212),M=h(4438),k=h(5847),N=h(5826);let G=(()=>{class R{constructor(U,$){this.importWizardProvider=U,this.importWizardService=$,this.stepModified=!0,this.disableCloseButton=!1,this.stepsAhead=new Array,this.stepsCompleted=new Array,this.move=new n.B}setupInitialStep(){const U=this.importWizardProvider.getStep(y.M.clientSummary);this.stepsAhead.push(U)}goToNextStep(){const U=this.stepsAhead.pop();this.stepsCompleted.push(U),U.component===C.z&&U.data.includes(w.ot.Client)?this.createWizard().subscribe(()=>{this.move.next(!1)}):(U.component===f.u&&U.data.rememberSecretAction?this.stepsAhead=this.applyRememberDecision(U):U.component===F.zI&&U.data.rememberCertificateAction&&(this.stepsAhead=this.applyCertificateRememberDecision(U)),this.move.next(!1))}applyCertificateRememberDecision(U){const $=[];return this.stepsAhead.forEach(ie=>{ie.component!==F.zI||ie.data.existingHasCertificates!==U.data.existingHasCertificates||(U.data.certificateAction===F.AU.DoNotSet?ie.data.certificates=new b.D:U.data.certificateAction===F.AU.UseExisting&&(ie.data.certificates=new b.D,ie.data.useExistingCertificates=!0),$.push(ie),this.stepsCompleted.push(ie))}),this.stepsAhead.filter(ie=>!$.includes(ie))}applyRememberDecision(U){const $=[];return this.stepsAhead.forEach(ie=>{if(ie.component===f.u&&ie.data.resourceType===U.data.resourceType&&ie.data.existingHasSecrets===U.data.existingHasSecrets){if(U.data.secretsAction===f.r.DoNotSet)ie.data.secrets=[];else if(U.data.secretsAction===f.r.UseExistingSecret)ie.data.useExistingSecrets=!0;else if(U.data.secretsAction===f.r.Generate){const se=new T.z;se.value=(0,O.Nl)(),se.type="Shared Secret",se.description="",ie.data.secrets=[se]}$.push(ie),this.stepsCompleted.push(ie)}}),this.stepsAhead.filter(ie=>!$.includes(ie))}areStepsRemaning(){return this.stepsAhead.length>0}getCurrentStep(){return this.stepsAhead[this.stepsAhead.length-1]}goToPreviousStep(){if(0===this.stepsCompleted.length)return void this.insertAndOpenStep(y.M.importCloseWarning,!0);this.getCurrentStep().isDeadEnd&&this.stepsAhead.pop();const $=this.stepsCompleted[this.stepsCompleted.length-1];if($.component===f.u)this.goToLastRememberedDecision($.component,ie=>ie.data.rememberSecretAction);else if($.component===F.zI)this.goToLastRememberedDecision($.component,ie=>ie.data.rememberCertificateAction&&ie.data.existingHasCertificates===$.data.existingHasCertificates);else{const ie=this.stepsCompleted.pop();this.stepsAhead.push(ie)}this.move.next(!1)}goToLastRememberedDecision(U,$){const ie=this.stepsCompleted.filter(se=>se.component===U);if(ie.length>1){const se=ie.filter($);if(se){const J=this.stepsCompleted.indexOf(se[se.length-1]),q=this.stepsCompleted.splice(J,this.stepsCompleted.length-1);this.stepsAhead=[...this.stepsAhead,...q.reverse()]}else{const L=this.stepsCompleted.pop();this.stepsAhead.push(L)}}else{const se=this.stepsCompleted.pop();this.stepsAhead.push(se)}}goToFinalSummary(){const U=this.stepsAhead.findIndex(ie=>ie.component===m.s),$=this.stepsAhead.splice(U+1);for(;$.length>0;){const ie=$.pop();this.stepsCompleted.push(ie)}this.move.next(!1)}goToSummaryStep(U){const $=this.stepsCompleted.findIndex(se=>se.component===C.z&&se.data.includes(U)),ie=this.stepsCompleted.splice($);for(;ie.length>0;){const se=ie.pop();this.stepsAhead.push(se)}this.stepModified=!1,this.move.next(!1)}quit(){this.move.next(!0)}cancel(){const U=this.getCurrentStep();U.component===u.X?this.quit():U.isDeadEnd?this.goToPreviousStep():this.insertAndOpenStep(y.M.importCloseWarning)}clear(){this.stepsAhead=[],this.stepsCompleted=[],this.stepModified=!0}insertAndOpenStep(U,$){const ie=this.stepsAhead.pop();this.stepsCompleted.push(ie);const se=this.importWizardProvider.getStep(U);se.data=$,this.stepsAhead.push(se),this.move.next(!1)}reset(){this.clear(),this.setupInitialStep(),this.move.next(!1)}createWizard(){this.stepsAhead=[];const U=new e.m;return this.importWizardService.cache.pipe((0,p.$)()).subscribe($=>{this.stepsAhead.push(this.importWizardProvider.getStep(y.M.importComplete)),this.showFinalSummary($)&&this.stepsAhead.push(this.importWizardProvider.getStep(y.M.finalSummary));const ie=this.sortImportResources($),se=[],L=[];for(let J=ie.length;J>0;J--){const q=ie[J-1];let S=!1;q.resourceType===w.ot.ProtectedResource&&q.dependantClients.forEach(re=>{S=$.some(K=>K.identifier===re.identifier&&K.resourceState!==w.jD.Duplicate)}),(q.selected||S)&&(q.existingHasSecrets&&se.push(this.importWizardProvider.getSecretStep(q)),q.hadSecrets&&!q.existingHasSecrets&&se.push(this.importWizardProvider.getSecretStep(q)),q.existingHasCertificates&&L.push(this.importWizardProvider.getCertificateStep(q)),q.hadCertificates&&!q.existingHasCertificates&&L.push(this.importWizardProvider.getCertificateStep(q)))}this.stepsAhead.push(...se),this.stepsAhead.push(...L),this.showClaimTypeSummary($)&&this.stepsAhead.push(this.importWizardProvider.getStep(y.M.claimTypeSummary)),this.showResourceSummary($)&&this.stepsAhead.push(this.importWizardProvider.getStep(y.M.resourcesSummary)),U.next()}),U}sortImportResources(U){U=(U=U.sort((ie,se)=>ie.displayName.toUpperCase().localeCompare(se.displayName.toUpperCase()))).sort((ie,se)=>+ie.conflictedByDependencies-+se.conflictedByDependencies);const $=[w.jD.Conflicted,w.jD.New,w.jD.Duplicate];return U.sort((ie,se)=>$.indexOf(ie.resourceState)-$.indexOf(se.resourceState))}showResourceSummary(U){const $=U.filter(se=>se.resourceType===w.ot.Client&&!0===se.selected).map(se=>se.identifier),ie=U.filter(se=>(se.resourceType===w.ot.IdentityResource||se.resourceType===w.ot.ProtectedResource)&&se.dependantClients.map(L=>L.identifier).some(L=>$.includes(L)));return ie.length>0&&ie.some(se=>se.resourceState===w.jD.Conflicted)}showClaimTypeSummary(U){const $=U.filter(se=>se.resourceType===w.ot.Client&&!0===se.selected).map(se=>se.identifier),ie=U.filter(se=>se.resourceType===w.ot.ClaimType&&se.dependantClients.map(L=>L.identifier).some(L=>$.includes(L)));return ie.length>0&&ie.some(se=>se.resourceState===w.jD.Conflicted)}showFinalSummary(U){return U.some($=>$.resourceType!==w.ot.Client)}static{this.\u0275fac=function($){return new($||R)(M.KVO(k.a),M.KVO(N.o))}}static{this.\u0275prov=M.jDH({token:R,factory:R.\u0275fac})}}return R})()},5847:(nt,fe,h)=>{"use strict";h.d(fe,{a:()=>L});var n=h(1744),e=h(7728),y=h(5088),p=h(7629),w=h(6799),C=h(4438),m=h(5826),u=h(1780);let f=(()=>{class q extends w.P{set data(re){null!==re&&(this.resetOnClose=re)}constructor(re){super(),this.importWizardService=re,this.isWarningModal=!0,this.resetOnClose=!1}yes(){this.resetOnClose?this.importWizardService.resetImport.next("Resetting Import"):this.quit()}no(){this.back()}static{this.\u0275fac=function(K){return new(K||q)(C.rXU(m.o))}}static{this.\u0275cmp=C.VBU({type:q,selectors:[["app-import-close-warning"]],features:[C.Vt3],decls:14,vars:12,consts:[[1,"modal-body","tw-text-center","scrollbars"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","stayBtn",1,"tw-btn-danger",3,"click"],["id","leaveBtn",1,"tw-btn-link","tw--mr-4",3,"click"]],template:function(K,me){1&K&&(C.j41(0,"div",0)(1,"p"),C.EFF(2),C.nI1(3,"translate"),C.nI1(4,"translate"),C.k0s()(),C.j41(5,"div",1)(6,"div",2)(7,"div",3)(8,"button",4),C.bIt("click",function(){return me.no()}),C.EFF(9),C.nI1(10,"translate"),C.k0s()(),C.j41(11,"button",5),C.bIt("click",function(){return me.yes()}),C.EFF(12),C.nI1(13,"translate"),C.k0s()()()),2&K&&(C.R7$(2),C.Lme("",C.bMT(3,4,"Clients.Import.Wizard.Warning.Text1")," ",C.bMT(4,6,"Clients.Import.Wizard.Warning.Text2"),""),C.R7$(7),C.JRh(C.bMT(10,8,"Notifications.StayHere")),C.R7$(3),C.JRh(C.bMT(13,10,"Notifications.DiscardChanges")))},dependencies:[u.D9],encapsulation:2})}}return q})();var T=h(4414),O=h(590),F=h(177);function b(q,S){1&q&&(C.j41(0,"p"),C.EFF(1),C.nI1(2,"translate"),C.k0s()),2&q&&(C.R7$(),C.JRh(C.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.Confirmation.Resource")))}let M=(()=>{class q extends w.P{set data(re){this.resource=re,this.summaryDisplayType=O.n.getSummaryDisplayType(re.resourceType)}constructor(re){super(),this.importWizardService=re,this.isWarningModal=!0}yes(){this.importWizardService.deselectResource(this.resource),this.reset()}no(){this.back()}static{this.\u0275fac=function(K){return new(K||q)(C.rXU(m.o))}}static{this.\u0275cmp=C.VBU({type:q,selectors:[["app-conflicts-confirmation"]],features:[C.Vt3],decls:14,vars:11,consts:[[1,"modal-body","tw-text-center"],[4,"ngIf"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","leaveBtn",1,"tw-btn-danger","tw--mr-4",3,"click"],["id","stayBtn",1,"tw-btn-link",3,"click"]],template:function(K,me){1&K&&(C.j41(0,"div",0)(1,"p"),C.EFF(2),C.nI1(3,"translate"),C.k0s(),C.DNE(4,b,3,3,"p",1),C.k0s(),C.j41(5,"div",2)(6,"div",3)(7,"div",4)(8,"button",5),C.bIt("click",function(){return me.no()}),C.EFF(9),C.nI1(10,"translate"),C.k0s()(),C.j41(11,"button",6),C.bIt("click",function(){return me.yes()}),C.EFF(12),C.nI1(13,"translate"),C.k0s()()()),2&K&&(C.R7$(2),C.Lme("",C.bMT(3,5,"Clients.Import.Wizard.Summary.Conflicts.Confirmation.AreYouSure")," ",null==me.resource?null:me.resource.displayName,""),C.R7$(2),C.Y8G("ngIf","Client"!==me.summaryDisplayType),C.R7$(5),C.JRh(C.bMT(10,7,"Clients.Import.Wizard.Warning.No")),C.R7$(3),C.JRh(C.bMT(13,9,"Clients.Import.Wizard.Warning.Yes")))},dependencies:[F.bT,u.D9],encapsulation:2})}}return q})();var k=h(5696),N=h(1138),G=h(4406),R=h(2858),j=h(467),U=h(5404);const $=["certReader"],ie=["nextButton"];let se=(()=>{class q extends w.P{get data(){return this._subject}set data(re){this._subject=re}constructor(re){super(),this.translate=re}certificateDataLoaded(re){this.nextButton.nativeElement.disabled=!re}goNext(){var re=this;return(0,j.A)(function*(){const K=yield re.certReaderComponent.getCertificateModel();re.data.next(K),re.importWizardController.goToPreviousStep()})()}static{this.\u0275fac=function(K){return new(K||q)(C.rXU(u.c$))}}static{this.\u0275cmp=C.VBU({type:q,selectors:[["app-import-certificate-picker"]],viewQuery:function(K,me){if(1&K&&(C.GBs($,5),C.GBs(ie,5)),2&K){let Ne;C.mGM(Ne=C.lsd())&&(me.certReaderComponent=Ne.first),C.mGM(Ne=C.lsd())&&(me.nextButton=Ne.first)}},features:[C.Vt3],decls:21,vars:21,consts:[["certReader",""],["nextButton",""],[1,"modal-body"],[3,"dataExists","uploadCert","uploadCertHelp","certMetaData","certMetaDataHelp"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","nextBtn","disabled","",1,"tw-btn-success","tw-mr-3",3,"click"],["id","backBtn",1,"tw-btn",3,"click"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"]],template:function(K,me){if(1&K){const Ne=C.RV6();C.j41(0,"div",2)(1,"app-cert-reader",3,0),C.nI1(3,"translate"),C.nI1(4,"translate"),C.nI1(5,"translate"),C.nI1(6,"translate"),C.bIt("dataExists",function(xe){return C.eBV(Ne),C.Njj(me.certificateDataLoaded(xe))}),C.k0s()(),C.nrm(7,"div",4),C.j41(8,"div",5)(9,"div",6)(10,"div",7)(11,"button",8,1),C.bIt("click",function(){return C.eBV(Ne),C.Njj(me.goNext())}),C.EFF(13),C.nI1(14,"translate"),C.k0s(),C.j41(15,"button",9),C.bIt("click",function(){return C.eBV(Ne),C.Njj(me.back())}),C.EFF(16),C.nI1(17,"translate"),C.k0s()(),C.j41(18,"button",10),C.bIt("click",function(){return C.eBV(Ne),C.Njj(me.cancel())}),C.EFF(19),C.nI1(20,"translate"),C.k0s()()()}2&K&&(C.R7$(),C.Y8G("uploadCert",C.bMT(3,7,"Clients.Saml.UploadCert"))("uploadCertHelp",C.bMT(4,9,"Clients.Saml.UploadCertHelp"))("certMetaData",C.bMT(5,11,"Clients.Saml.ServiceProviderSigningCert"))("certMetaDataHelp",C.bMT(6,13,"Clients.Saml.ServiceProviderSigningCertHelp")),C.R7$(12),C.SpI(" ",C.bMT(14,15,"Common.Add")," "),C.R7$(3),C.SpI(" ",C.bMT(17,17,"Common.Back")," "),C.R7$(3),C.SpI(" ",C.bMT(20,19,"Common.Cancel")," "))},dependencies:[U.V,u.D9],encapsulation:2})}}return q})(),L=(()=>{class q{constructor(){this.stepMap=new Map,this.stepMap.set(T.M.clientSummary,new J(e.z,"Clients.Import.Wizard.Summary.Title.Client",[n.ot.Client])),this.stepMap.set(T.M.resourcesSummary,new J(e.z,"Clients.Import.Wizard.Summary.Title.Resource",[n.ot.IdentityResource,n.ot.ProtectedResource])),this.stepMap.set(T.M.claimTypeSummary,new J(e.z,"Clients.Import.Wizard.Summary.Title.ClaimType",[n.ot.ClaimType])),this.stepMap.set(T.M.summaryConflicts,new J(p.oG,"Clients.Import.Wizard.Summary.Conflicts.ReviewChanges",null,!0)),this.stepMap.set(T.M.importComplete,new J(y.E,"Clients.Import.Wizard.CompleteImport.ImportComplete")),this.stepMap.set(T.M.importCloseWarning,new J(f,"Clients.Import.Wizard.Warning.Title",null,!0)),this.stepMap.set(T.M.summaryConflictsConfirmation,new J(M,"Clients.Import.Wizard.Warning.Title",null,!0)),this.stepMap.set(T.M.finalSummary,new J(k.s,"Clients.Import.Wizard.Summary.Title.Final")),this.stepMap.set(T.M.importDownloadWarning,new J(G.X,"Clients.Import.Wizard.CompleteImport.DownloadSecrets")),this.stepMap.set(T.M.importUploadCertificate,new J(se,"Clients.Import.Wizard.Certificates.AddCertificate",null,!0))}getStep(re){return this.stepMap.get(re)}getSecretStep(re){return new J(N.u,"Clients.Import.Wizard.Secrets.Title",re)}getCertificateStep(re){return new J(R.zI,"Clients.Import.Wizard.Certificates.Title",re)}static{this.\u0275fac=function(K){return new(K||q)}}static{this.\u0275prov=C.jDH({token:q,factory:q.\u0275fac})}}return q})();class J{constructor(S,re,K,me=!1){this.component=S,this.stepTitle=re,this.data=K,this.isDeadEnd=me}}},5826:(nt,fe,h)=>{"use strict";h.d(fe,{o:()=>w});var n=h(1744),e=h(2771),y=h(1594),p=h(4438);let w=(()=>{class C{constructor(){this.importResourceTypeMap=new Map([[n.ot.Client,"Client"],[n.ot.ClaimType,"Claim Type"],[n.ot.ProtectedResource,"Protected Resource"],[n.ot.IdentityResource,"Identity Resource"]]),this.cache=new e.m(1),this.resetImport=new e.m(1)}updateSelectedClients(u){this.cache.pipe((0,y.$)()).subscribe(f=>{u=u.filter(T=>T.resourceType===n.ot.Client),f.forEach(T=>{const O=u.find(F=>F.identifier===T.identifier);void 0!==O&&(T.selected=O.selected)}),this.cache.next(f)})}selectResource(u){this.setResourcesSelected(u,!0)}deselectResource(u){this.setResourcesSelected(u,!1)}setResourcesSelected(u,f){this.cache.pipe((0,y.$)()).subscribe(T=>{let O;O=u.resourceType===n.ot.Client?[u.identifier]:u.dependantClients.filter(b=>b.state===n.XF.Importing).map(b=>b.identifier),O.forEach(F=>{T.find(b=>b.identifier===F&&b.resourceType===n.ot.Client).selected=f}),this.cache.next(T)})}downloadClientSecretsFromCache(){const u=new e.m;return this.cache.pipe((0,y.$)()).subscribe(f=>{const T=f.filter(M=>M.secrets&&M.secrets.length>0);let O="Type,Id,Name,Secret\r\n";T.forEach(M=>{M.secrets.forEach(k=>{const N=this.importResourceTypeMap.get(M.resourceType);O+=N+","+M.identifier+","+M.displayName+","+k.value+"\r\n"})});const F=new Blob([O],{type:"application/csv"}),b=document.createElement("a");b.download="import-secrets.csv",b.href=window.URL.createObjectURL(F),b.click(),b.remove(),u.next()}),u}static{this.\u0275fac=function(f){return new(f||C)}}static{this.\u0275prov=p.jDH({token:C,factory:C.\u0275fac})}}return C})()},4414:(nt,fe,h)=>{"use strict";h.d(fe,{M:()=>n});let n=(()=>{class e{static{this.importUploadCertificate="CertificateUpload"}static{this.clientSummary="ClientSummary"}static{this.resourcesSummary="ResourcesSummary"}static{this.summaryConflicts="SummaryConflicts"}static{this.claimTypeSummary="ClaimTypeSummary"}static{this.importComplete="ImportComplete"}static{this.importCloseWarning="ImportCloseWarning"}static{this.summaryConflictsConfirmation="SummaryConflictsConfirmation"}static{this.finalSummary="FinalSummary"}static{this.importDownloadWarning="ImportDownloadWarning"}}return e})()},3853:(nt,fe,h)=>{"use strict";h.d(fe,{X:()=>u});var n=h(1626),e=h(4589);class p{constructor(){}isExpectingStarterConsent(){return this.isExpired&&this.licenseType==e.G.Demo}isStarterLicense(){return this.licenseType==e.G.Starter}get userLimitReached(){return this.userQuotaRemaining<=0&&this.isStarterLicense()}get overUserLimit(){return this.userQuotaRemaining<0&&this.isStarterLicense()}get clientLimitReached(){return this.clientQuotaRemaining<=0&&this.isStarterLicense()}get overClientLimit(){return this.clientQuotaRemaining<0&&this.isStarterLicense()}}var w=h(1594),C=h(6354),m=h(4438);let u=(()=>{class f{constructor(O){this.http=O,this.headers=new n.Lr,this.actionUrl="license"}getLicenseInfo(){return this.headers=this.headers.set("Content-Type","application/json").set("Accept","application/json").set("Access-Control-Allow-Origin","true"),this.http.get(this.actionUrl,{headers:this.headers}).pipe((0,w.$)(),(0,C.T)(O=>{var F=new p;return F.organisation=O.organisation,F.licenseType=O.licenseType,F.isExpired=O.isExpired,F.isInGracePeriod=O.isInGracePeriod,F.gracePeriodExpiry=O.gracePeriodExpiry,F.maxUsers=O.maxUsers,F.maxClients=O.maxClients,F.userQuotaRemaining=O.userQuotaRemaining,F.clientQuotaRemaining=O.clientQuotaRemaining,F}))}static{this.\u0275fac=function(F){return new(F||f)(m.KVO(n.Qq))}}static{this.\u0275prov=m.jDH({token:f,factory:f.\u0275fac})}}return f})()},7773:(nt,fe,h)=>{"use strict";h.d(fe,{n:()=>y});var n=h(1626),e=h(4438);let y=(()=>{class p{constructor(C){this.http=C,this.headers=new n.Lr,this.actionUrl="permission",this.headers=this.headers.set("Content-Type","application/json").set("Accept","application/json").set("Access-Control-Allow-Origin","true")}getUserPermissions(){return this.http.get(this.actionUrl,{headers:this.headers})}getAvaliablePermissions(){return this.http.get(this.actionUrl+"/avaliable",{headers:this.headers})}static{this.\u0275fac=function(m){return new(m||p)(e.KVO(n.Qq))}}static{this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}}return p})()},5893:(nt,fe,h)=>{"use strict";h.d(fe,{P:()=>u,x:()=>m});var n=h(1626),e=h(2771),y=h(7673),p=h(7263),w=h(4438),C=h(9564);let m=(()=>{class f{constructor(O,F){this.http=O,this.headersService=F,this.protectedResourceSubject=new e.m(1),this.actionUrl="ProtectedResources",this.headers=F.setHeaders()}getCachedProtectedResource(){return this.protectedResourceSubject}getProtectedResources(O){let F=new n.Nl;return(0,p.gP)(O)||(F=F.set("name",O)),this.http.get(this.actionUrl,{headers:this.headers,params:F})}getResourcesPaginated(O,F,b){const M=`${this.actionUrl}/getPaginated`;let k=new n.Nl;return(0,p.gP)(O)||(k=k.set("name",O)),F&&(k=k.append("page",F)),b&&(k=k.append("pageSize",b)),this.http.get(M,{headers:this.headers,params:k})}addResource(O){const F=`${this.actionUrl}/`,b=JSON.stringify(O);return this.http.post(F,b,{headers:this.headers})}getResource(O){return this.http.get(`${this.actionUrl}/${O}`,{headers:this.headers})}updateResource(O){return this.http.put(`${this.actionUrl}/${O.id}`,O,{headers:this.headers})}updateResourceSecret(O,F){return this.http.put(`${this.actionUrl}/${O}/secrets/${F.id}`,F,{headers:this.headers})}removeResourceSecret(O,F){return this.http.delete(`${this.actionUrl}/${O}/secrets/${F}`,{headers:this.headers})}addResourceSecret(O,F){return this.http.post(`${this.actionUrl}/${O}/secrets`,F,{headers:this.headers})}updateResourceScope(O,F,b){const M=encodeURIComponent(b);return this.http.put(`${this.actionUrl}/${O}/scopes/${M}`,F,{headers:this.headers})}addResourceScope(O,F){return this.http.post(`${this.actionUrl}/${O}/scopes`,F,{headers:this.headers})}deleteProtectedResource(O){return this.http.delete(`${this.actionUrl}/${O}`,{headers:this.headers})}deleteScope(O,F){const b=encodeURIComponent(F);return this.http.delete(`${this.actionUrl}/${O}/scopes/${b}`,{headers:this.headers})}getAllScopes(){return this.http.get(`${this.actionUrl}/scopes`,{headers:this.headers})}static{this.\u0275fac=function(F){return new(F||f)(w.KVO(n.Qq),w.KVO(C.m))}}static{this.\u0275prov=w.jDH({token:f,factory:f.\u0275fac})}}return f})(),u=(()=>{class f extends m{getProtectedResources(O){return(0,y.of)([])}static{this.\u0275fac=(()=>{let O;return function(b){return(O||(O=w.xGo(f)))(b||f)}})()}static{this.\u0275prov=w.jDH({token:f,factory:f.\u0275fac})}}return f})()},6199:(nt,fe,h)=>{"use strict";h.d(fe,{v:()=>f});var n=h(983),e=h(6354),y=h(9437),p=h(8284),w=h(4438),C=h(3519),m=h(1583),u=h(5424);let f=(()=>{class T{constructor(F,b,M){this.roleService=F,this.router=b,this.errorService=M}resolve(F,b){const M=F.paramMap.get("Id");return this.roleService.getRole(M).pipe((0,e.T)(k=>(k&&this.roleService.getCachedRole().next(k),k)),(0,y.W)((k,N)=>(404===k.status?this.errorService.resourceNotFound(p.v.role):this.errorService.handleError(k),(0,n.I)())))}static{this.\u0275fac=function(b){return new(b||T)(w.KVO(C.P),w.KVO(m.Ix),w.KVO(u.I))}}static{this.\u0275prov=w.jDH({token:T,factory:T.\u0275fac})}}return T})()},3519:(nt,fe,h)=>{"use strict";h.d(fe,{P:()=>C});var n=h(1626),e=h(2771),y=h(7263),p=h(4438),w=h(9564);let C=(()=>{class m{constructor(f,T){this.http=f,this.RoleSubject=new e.m(1),this.actionUrl="roles",this.headers=T.setHeaders()}getCachedRole(){return this.RoleSubject}setCachedRole(f){this.RoleSubject.next(f)}getRoles(f,T){let O=new n.Nl;return(0,y.gP)(f)||(O=O.append("name",f)),O=O.append("sort",(0,y.gP)(T)?"name":T),this.http.get(this.actionUrl,{headers:this.headers,params:O})}getRole(f){return this.http.get(`${this.actionUrl}/${f}`,{headers:this.headers})}deleteRole(f){return this.http.delete(`${this.actionUrl}/${f.id}`,{headers:this.headers})}addRole(f){const T=`${this.actionUrl}/`,O=JSON.stringify(f);return this.http.post(T,O,{headers:this.headers})}updateRole(f){const T=JSON.stringify(f);return this.http.put(`${this.actionUrl}/${f.id}`,T,{headers:this.headers})}getUsersInRole(f,T,O,F){let b=new n.Nl;return(0,y.gP)(F)||(b=b.append("q",F)),T&&(b=b.append("page",String(T))),O&&(b=b.append("pageSize",String(O))),this.http.get(`${this.actionUrl}/${f}/users`,{headers:this.headers,params:b})}addAndRemoveUsers(f,T){const O=JSON.stringify(T);return this.http.put(`${this.actionUrl}/${f}/users`,O,{headers:this.headers})}static{this.\u0275fac=function(T){return new(T||m)(p.KVO(n.Qq),p.KVO(w.m))}}static{this.\u0275prov=p.jDH({token:m,factory:m.\u0275fac})}}return m})()},2892:(nt,fe,h)=>{"use strict";h.d(fe,{h:()=>N});var n=h(7673),e=h(5060),y=h(1413),p=h(5558),w=h(4861),C=h(4438),m=h(7883),u=h(6801),f=h(1339),T=h(7005),O=h(5424),F=h(6888),b=h(1583),M=h(9196),k=h(2972);let N=(()=>{class G{constructor(j,U,$,ie,se,L,J,q,S){this.securityService=j,this.healthCheckService=U,this.authService=$,this.localizeRouter=ie,this.errorService=se,this.loginTrackingService=L,this.router=J,this.configService=q,this.appComponentViewService=S}canActivate(j,U){return this.healthCheckService.uiReady?this.authDecision(j,U):this.healthCheckService.uiHealthCheckComplete.pipe((0,p.n)($=>this.authDecision(j,U)))}authDecision(j,U){return document.dispatchEvent(new Event("appready")),this.authService.isAuthenticated?(this.authService.user==w.M.DefaultAdministratorUsername&&!this.authService.isCreatingInitialAdministrator&&this.configService.getConfig().subscribe($=>{if($.featureFlagOptions.defaultUserValidation){this.authService.isCreatingInitialAdministrator=!0;const ie=this.localizeRouter.translateRoute("/initial-admin-creation");this.router.navigate([ie])}}),void 0!==this.securityService.userPermissions?(0,n.of)(this.permissionAuthDecision(j)):this.permissionAuthDecisionAsObservable(j)):(this.securityService.startLogin(U.url),e.t)}permissionAuthDecision(j){const U=j.data.permissions;if(void 0===U)return!0;for(let $=0;$<U.length;$++)if(this.securityService.userPermissions.includes(U[$]))return!0;return this.errorService.handleError({status:403}),!1}permissionAuthDecisionAsObservable(j){const U=new y.B;return this.securityService.init().subscribe(()=>{U.next(this.permissionAuthDecision(j))}),U.asObservable()}static{this.\u0275fac=function(U){return new(U||G)(C.KVO(m.i),C.KVO(u.M),C.KVO(f.u),C.KVO(T.QG),C.KVO(O.I),C.KVO(F.W),C.KVO(b.Ix),C.KVO(M.w),C.KVO(k.X))}}static{this.\u0275prov=C.jDH({token:G,factory:G.\u0275fac})}}return G})()},7883:(nt,fe,h)=>{"use strict";h.d(fe,{i:()=>U});var n=h(1413);class e extends n.B{constructor(){super(...arguments),this._value=null,this._hasValue=!1,this._isComplete=!1}_checkFinalizedStatuses(ie){const{hasError:se,_hasValue:L,_value:J,thrownError:q,isStopped:S,_isComplete:re}=this;se?ie.error(q):(S||re)&&(L&&ie.next(J),ie.complete())}next(ie){this.isStopped||(this._value=ie,this._hasValue=!0)}complete(){const{_hasValue:ie,_value:se,_isComplete:L}=this;L||(this._isComplete=!0,ie&&super.next(se),super.complete())}}var y=h(7468),p=h(3178),w=h(6354),C=h(6697),m=h(7263),u=h(9838),f=h(4589),T=h(4438),O=h(1583),F=h(7005),b=h(9196),M=h(1339),k=h(7773),N=h(3853),G=h(5424),R=h(6888),j=h(1780);let U=(()=>{class ${constructor(se,L,J,q,S,re,K,me,Ne){this.router=se,this.localize=L,this.configService=J,this.authService=q,this.permissionService=S,this.licenseService=re,this.errorService=K,this.loginTrackingService=me,this.translate=Ne,this.userPermissions$=new e,this.userManagerView=!1,this.userManagerReadOnlyView=!1,this.identityServerManagerView=!1,this.identityServerManagerReadOnlyView=!1,this.allReadOnlyView=!1,this.allView=!1,this.auditerView=!1,this.noPermissions=!1,this.licenseType="",this.organisation="",this.nonProduction=!1,this.storage=sessionStorage}startLogin(se){let J=se??this.router.url;J=J.replace(`/${this.localize.parser.currentLang}`,""),this.storage.setItem("redirectUrl",J),this.loginTrackingService.startLogin(),this.authService.login()}onAuthorizationResultComplete(se){if(se.isAuthenticated){let L=this.storage.getItem("redirectUrl");null==L&&(L="/home");const J=this.localize.translateRoute(L);this.handleSuccessfulAuthorization(J)}else this.handleUnsuccessfulAuthorization(se.username)}handleSuccessfulAuthorization(se){this.init().subscribe(()=>{this.loginTrackingService.endLogin(),this.storage.removeItem("redirectUrl"),this.router.navigateByUrl(se)},L=>{this.loginTrackingService.canRetryLogin?(this.loginTrackingService.retryLogin(),this.authService.login()):this.errorService.handleError(L,{toastBody:this.translate.instant("Errors.LoginLoopError",{link:u.$9.loginRedirectLoopDocs}),toastTitle:this.translate.instant("Notifications.Error")},{timeOut:0,extendedTimeOut:0,enableHtml:!0})})}handleUnsuccessfulAuthorization(se){if((0,m.gP)(se))return void(this.loginTrackingService.canRetryLogin?(this.loginTrackingService.retryLogin(),this.authService.login()):this.errorService.handleError({},{toastBody:this.translate.instant("Errors.LoginLoopError",{link:u.$9.loginRedirectLoopDocs}),toastTitle:this.translate.instant("Notifications.Error")},{timeOut:0,extendedTimeOut:0,enableHtml:!0}));const L=this.localize.translateRoute("/unauthorized");this.router.navigateByUrl(L)}isNonProd(){return this.licenseType===f.G.Demo||this.licenseType===f.G.NonProduction}init(){const se=[this.initUsersPermissions(),this.initLicenseInfo(),this.initUiConfiguration()];return(0,y.p)(se)}initUsersPermissions(){return this.permissionService.getUserPermissions().pipe((0,w.T)(se=>{this.userPermissions=se.permissions,this.policyClaims=se.policyClaims,void 0!==this.userPermissions&&(this.userPermissions.includes(p.a[p.a.All])?(this.userManagerView=!0,this.userManagerReadOnlyView=!1,this.identityServerManagerView=!0,this.identityServerManagerReadOnlyView=!1,this.allReadOnlyView=!1,this.auditerView=!0,this.allView=!0):this.userPermissions.includes(p.a[p.a.AllReadOnly])?(this.userManagerView=!1,this.userManagerReadOnlyView=!0,this.identityServerManagerView=!1,this.identityServerManagerReadOnlyView=!0,this.allReadOnlyView=!0,this.auditerView=!0,this.allView=!1):(this.userManagerView=this.userPermissions.includes(p.a[p.a.UserManager]),this.userManagerReadOnlyView=this.userPermissions.includes(p.a[p.a.UserManagerReadOnly]),this.identityServerManagerView=this.userPermissions.includes(p.a[p.a.IdentityServerManager]),this.identityServerManagerReadOnlyView=this.userPermissions.includes(p.a[p.a.IdentityServerManagerReadOnly]),this.auditerView=this.userPermissions.includes(p.a[p.a.Auditer]),this.userManagerView||this.userManagerReadOnlyView||this.identityServerManagerView||this.identityServerManagerReadOnlyView||this.auditerView||this.allView||this.allReadOnlyView||(this.noPermissions=!0))),this.userPermissions$.next(se.permissions),this.userPermissions$.complete()},se=>{this.errorService.handleError(se)}))}initLicenseInfo(){return this.licenseService.getLicenseInfo().pipe((0,w.T)(se=>{this.licenseType=se.licenseType,"NonProduction"===this.licenseType&&(this.licenseType=f.G.NonProduction),se.isStarterLicense()&&(this.licenseType=f.G.Starter),this.nonProduction=se.licenseType!==f.G.Production,this.organisation=se.organisation}))}initUiConfiguration(){return this.configService.getConfig().pipe((0,C.s)(1))}static{this.\u0275fac=function(L){return new(L||$)(T.KVO(O.Ix),T.KVO(F.QG),T.KVO(b.w),T.KVO(M.u),T.KVO(k.n),T.KVO(N.X),T.KVO(G.I),T.KVO(R.W),T.KVO(j.c$))}}static{this.\u0275prov=T.jDH({token:$,factory:$.\u0275fac})}}return $})()},9156:(nt,fe,h)=>{"use strict";h.d(fe,{s:()=>w});var n=h(2771),e=h(4438),y=h(1626),p=h(9564);let w=(()=>{class C{constructor(u,f){this.http=u,this.headersService=f,this.ServiceProviderSubject=new n.m(1),this.actionUrl="clients",this.headers=f.setHeaders()}getCachedServiceProvider(){return this.ServiceProviderSubject}getServiceProvider(u){return this.http.get(`${this.actionUrl}/${u}/saml`,{headers:this.headers})}updateServiceProvider(u,f){const T=`${this.actionUrl}/${u}/saml`,O={allowIdpInitiatedSso:f.allowIdpInitiatedSso,assertionConsumerServices:f.assertionConsumerServices,artifactResolutionServices:f.artifactResolutionServices,claimMappings:f.claimMappings,encryptAssertions:f.encryptAssertions,requireSamlMessageDestination:f.requireSamlMessageDestination,signAssertions:f.signAssertions,singleLogoutServices:f.singleLogoutServices,requireAuthenticationRequestsSigned:f.requireAuthenticationRequestsSigned,artifactDeliveryBindingType:f.artifactDeliveryBindingType,requireSignedArtifactResolveRequests:f.requireSignedArtifactResolveRequests,requireSignedArtifactResponses:f.requireSignedArtifactResponses,nameIdentifierFormat:f.nameIdentifierFormat},F=this.headersService.setHeaders("application/vnd.adminui.sam-client-update-v2+json","application/vnd.adminui.saml-client-v2+json");return this.http.put(T,O,{headers:F})}setEncryptionCertificateViaFile(u,f){const T=`${this.actionUrl}/${u}/saml/certificates/encryption`,O=f,F=this.headersService.setHeaders("application/x-x509-ca-cert");return this.http.put(T,O,{headers:F})}setEncryptionCertificateViaMetadata(u,f){const T=`${this.actionUrl}/${u}/saml/certificates/encryption`,O=f,F=this.headersService.setHeaders("application/x-x509-ca-cert-base64");return this.http.put(T,O,{headers:F})}deleteEncryptionCertificate(u){return this.http.delete(`${this.actionUrl}/${u}/saml/certificates/encryption`,{headers:this.headers})}addSigningCertificateViaFile(u,f){const T=`${this.actionUrl}/${u}/saml/certificates/signing`,O=f,F=this.headersService.setHeaders("application/x-x509-ca-cert");return this.http.post(T,O,{headers:F})}addSigningCertificateViaMetadata(u,f){const T=`${this.actionUrl}/${u}/saml/certificates/signing`,O=f,F=this.headersService.setHeaders("application/x-x509-ca-cert-base64");return this.http.post(T,O,{headers:F})}deleteSigningCertificate(u,f){return this.http.delete(`${this.actionUrl}/${u}/saml/certificates/signing/${f}`,{headers:this.headers})}static{this.\u0275fac=function(f){return new(f||C)(e.KVO(y.Qq),e.KVO(p.m))}}static{this.\u0275prov=e.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})}}return C})()},8556:(nt,fe,h)=>{"use strict";h.d(fe,{S:()=>C});var n=h(1594),e=h(4438),y=h(9156),p=h(5691),w=h(5424);let C=(()=>{class m{constructor(f,T,O){this.serviceProviderService=f,this.cache=T,this.errorService=O}uploadFile(f,T){return this.serviceProviderService.addSigningCertificateViaFile(f,T)}uploadViaMetaData(f,T){return this.serviceProviderService.addSigningCertificateViaMetadata(f,T)}updateCertCache(f){this.serviceProviderService.getServiceProvider(f).subscribe(T=>{this.cache.unsavedCache$.pipe((0,n.$)()).subscribe(O=>{O.signingCertificates=T.signingCertificates,this.cache.unsavedCache.next(O)})},T=>{this.errorService.handleError(T)})}static{this.\u0275fac=function(T){return new(T||m)(e.KVO(y.s),e.KVO(p.d),e.KVO(w.I))}}static{this.\u0275prov=e.jDH({token:m,factory:m.\u0275fac})}}return m})()},3488:(nt,fe,h)=>{"use strict";h.d(fe,{F:()=>y});var n=h(4549),e=h(4438);let y=(()=>{class p{now(){return n.c9.now()}static{this.\u0275fac=function(m){return new(m||p)}}static{this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}}return p})()},1575:(nt,fe,h)=>{"use strict";h.d(fe,{v:()=>y});var n=h(4549),e=h(4438);let y=(()=>{class p{now(){return n.c9.now()}static{this.\u0275fac=function(m){return new(m||p)}}static{this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}}return p})()},4811:(nt,fe,h)=>{"use strict";h.d(fe,{M:()=>u});var n=h(983),e=h(6354),y=h(9437),p=h(8284),w=h(4438),C=h(5602),m=h(5424);let u=(()=>{class f{constructor(O,F){this.userService=O,this.errorService=F}resolve(O,F){return this.userService.getUser(O.params.Id).pipe((0,e.T)(M=>(M&&this.userService.getCachedUser().next(M),M)),(0,y.W)((M,k)=>(404===M.status?this.errorService.resourceNotFound(p.v.user):this.errorService.handleError(M),(0,n.I)())))}static{this.\u0275fac=function(F){return new(F||f)(w.KVO(C.D),w.KVO(m.I))}}static{this.\u0275prov=w.jDH({token:f,factory:f.\u0275fac})}}return f})()},5602:(nt,fe,h)=>{"use strict";h.d(fe,{D:()=>f});var n=h(1626),e=h(2771),y=h(7673),p=h(6354),w=h(9437),C=h(7263),m=h(4438),u=h(9564);let f=(()=>{class T{constructor(F,b){this.http=F,this.headersService=b,this.userSubject=new e.m(1),this.actionUrl="users",this.headers=this.headersService.setHeaders()}defaultUserExists(){return this.http.get(`${this.actionUrl}/default-user-exists`,{headers:this.headers}).pipe((0,p.T)(()=>!0),(0,w.W)(b=>(0,y.of)(!1)))}getUser(F){return this.http.get(`${this.actionUrl}/${F}`,{headers:this.headers}).pipe((0,p.T)(M=>(this.userSubject.next(M),M),M=>(this.userSubject.error(M),M)))}getCachedUser(){return this.userSubject}getUsers(F,b,M,k,N){let G=new n.Nl;return(0,C.gP)(F)||(G=G.append("q",F)),b&&(G=G.append("page",String(b))),M&&(G=G.append("pageSize",String(M))),k&&(G=G.append("state",k.toString())),N&&(G=G.append("sort",N.toString())),this.http.get(this.actionUrl,{headers:this.headers,params:G})}getUsersLightweight(F,b,M,k,N){let G=new n.Nl;return(0,C.gP)(F)||(G=G.append("q",F)),b&&(G=G.append("page",String(b))),M&&(G=G.append("pageSize",String(M))),k&&(G=G.append("state",k.toString())),N&&(G=G.append("advancedFilters",N.toString())),this.http.get(`${this.actionUrl}/lightweight`,{headers:this.headers,params:G})}addUser(F){const b=`${this.actionUrl}/`,M=JSON.stringify(F);return this.http.post(b,M,{headers:this.headers,observe:"response"})}addInitialAdministrator(F){const b=`${this.actionUrl}/initialadmin`,M=JSON.stringify(F);return this.http.post(b,M,{headers:this.headers,observe:"response"})}getUserApps(F){return this.http.get(`${this.actionUrl}/${F}/apps`,{headers:this.headers})}revokeAllUserApps(F){return this.http.delete(`${this.actionUrl}/${F}/apps`,{headers:this.headers})}revokeSingleUserApp(F,b){return this.http.delete(`${this.actionUrl}/${F}/apps/${b}`,{headers:this.headers})}updateUser(F){const b=`${this.actionUrl}/${F.subject}`,M=JSON.stringify(F);return this.http.put(b,M,{headers:this.headers})}deleteUser(F){return this.http.delete(`${this.actionUrl}/${F.subject}`,{headers:this.headers})}deleteDefaultUser(){return this.http.delete(`${this.actionUrl}/removedefaultuser`,{headers:this.headers})}addUserRoles(F,b){return this.http.post(`${this.actionUrl}/${F}/roles`,b,{headers:this.headers})}deleteUserRoles(F,b){return this.http.request("delete",`${this.actionUrl}/${F}/roles`,{headers:this.headers,body:b})}addUserClaim(F,b){return this.http.post(`${this.actionUrl}/${F}/claims`,b,{headers:this.headers})}updateUserClaim(F,b){return this.http.put(`${this.actionUrl}/${F}/claims`,b,{headers:this.headers})}deleteUserClaim(F,b){return this.http.request("delete",`${this.actionUrl}/${F}/claims`,{headers:this.headers,body:b})}resetPassword(F){return this.http.get(`${this.actionUrl}/${F}/password/reset`,{headers:this.headers})}resetMfa(F){return this.http.get(`${this.actionUrl}/${F}/mfa/reset`,{headers:this.headers})}getUserLogins(F){return this.http.get(`${this.actionUrl}/${F}/logins`,{headers:this.headers})}revokeUserLogin(F,b){return this.http.request("delete",`${this.actionUrl}/${F}/logins`,{headers:this.headers,body:b})}getLightweightUsersAndIfInRole(F,b,M,k,N){let G=new n.Nl;b&&(G=G.append("state",b.toString()));const R=`${this.actionUrl}/lightweight/isinrole/${F}`;return(0,C.gP)(M)||(G=G.append("searchTerm",M)),k&&(G=G.append("page",String(k))),N&&(G=G.append("pageSize",String(N))),this.http.get(R,{headers:this.headers,params:G})}static{this.\u0275fac=function(b){return new(b||T)(m.KVO(n.Qq),m.KVO(u.m))}}static{this.\u0275prov=m.jDH({token:T,factory:T.\u0275fac})}}return T})()},3431:(nt,fe,h)=>{"use strict";h.d(fe,{x:()=>w}),h(7756);var e=h(4438),y=h(1626),p=h(9564);let w=(()=>{class m{constructor(f,T){this.http=f,this.headersService=T,this.actionUrl="webhookconfiguration",this.headers=this.headersService.setHeaders()}getWebhooks(){return this.http.get(this.actionUrl,{headers:this.headers})}saveWebhookConfiguration(f){const T=JSON.stringify(f);return this.http.put(this.actionUrl,T,{headers:this.headers})}static{this.\u0275fac=function(T){return new(T||m)(e.KVO(y.Qq),e.KVO(p.m))}}static{this.\u0275prov=e.jDH({token:m,factory:m.\u0275fac})}}return m})()},2036:(nt,fe,h)=>{"use strict";h.d(fe,{c:()=>p});var n=h(4438),e=h(1626),y=h(9564);let p=(()=>{class w{constructor(m,u){this.http=m,this.headersService=u,this.actionUrl="clients"}getRelyingParty(m){const u=`${this.actionUrl}/${m}/wsfed`,f=this.headersService.setHeaders();return this.http.get(u,{headers:f})}updateRelyingParty(m,u){const f=`${this.actionUrl}/${m}/wsfed`,T=this.headersService.setHeaders("application/vnd.adminui.wsfed-relying-party-v1+json");return this.http.put(f,u,{headers:T})}static{this.\u0275fac=function(u){return new(u||w)(n.KVO(e.Qq),n.KVO(y.m))}}static{this.\u0275prov=n.jDH({token:w,factory:w.\u0275fac})}}return w})()},7294:(nt,fe,h)=>{"use strict";h.d(fe,{n:()=>p});var n=h(4438);const e=[[["","left",""]],[["","right",""]]],y=["[left]","[right]"];let p=(()=>{class w{static{this.\u0275fac=function(u){return new(u||w)}}static{this.\u0275cmp=n.VBU({type:w,selectors:[["app-action-bar"]],ngContentSelectors:y,decls:4,vars:0,consts:[[1,"tw-flex","tw-items-center","tw-bg-grey-100","tw-py-4","tw-sticky","tw-top-0","tw-z-20"],[1,"tw-shrink-0","tw-ml-auto"]],template:function(u,f){1&u&&(n.NAR(e),n.j41(0,"div",0),n.SdG(1),n.j41(2,"div",1),n.SdG(3,1),n.k0s()())},encapsulation:2})}}return w})()},4193:(nt,fe,h)=>{"use strict";h.d(fe,{c:()=>C});var n=h(177),e=h(1583),y=h(1683),p=h(1780),w=h(4438);let C=(()=>{class m{static{this.\u0275fac=function(T){return new(T||m)}}static{this.\u0275mod=w.$C({type:m})}static{this.\u0275inj=w.G2t({imports:[n.MD,e.iI,y.Y,p.h]})}}return m})()},9767:(nt,fe,h)=>{"use strict";h.d(fe,{Ws:()=>e,l1:()=>y});var n=h(9969);function e(){return(0,n.hZ)("fadeInOut",[(0,n.kY)(":enter",[(0,n.iF)({opacity:0}),(0,n.i0)("250ms",(0,n.iF)({opacity:1}))]),(0,n.kY)(":leave",[(0,n.iF)({opacity:1}),(0,n.i0)("250ms",(0,n.iF)({opacity:0}))])])}function y(){return(0,n.hZ)("initLoad",[(0,n.kY)(":enter",[(0,n.iF)({opacity:0}),(0,n.i0)("250ms",(0,n.iF)({opacity:1}))]),(0,n.kY)(":leave",[(0,n.iF)({opacity:1}),(0,n.i0)("250ms",(0,n.iF)({opacity:0}))])])}},7415:(nt,fe,h)=>{"use strict";h.d(fe,{P:()=>T});var n=h(9417),e=h(2571),y=h(534),p=h(3816),w=h(1780),C=h(8389),m=h(6843),u=h(177),f=h(4438);let T=(()=>{class O{static{this.\u0275fac=function(M){return new(M||O)}}static{this.\u0275mod=f.$C({type:O})}static{this.\u0275inj=f.G2t({imports:[u.MD,e.A,n.X1,p.jr,w.h,y.Ss,C.w,m.l]})}}return O})()},9475:(nt,fe,h)=>{"use strict";h.d(fe,{F:()=>M});var n=h(177),e=h(7005),y=h(9417),p=h(534),w=h(4304),C=h(1780),m=h(5731),u=h(4193),f=h(7175),T=h(6599),O=h(1683),F=h(1575),b=h(4438);let M=(()=>{class k{static{this.\u0275fac=function(R){return new(R||k)}}static{this.\u0275mod=b.$C({type:k})}static{this.\u0275inj=b.G2t({providers:[F.v],imports:[n.MD,y.YN,y.X1,e.XE,C.h,w.h6,p.Ss,m.i,u.c,f.c,T.Y,O.Y]})}}return k})()},6406:(nt,fe,h)=>{"use strict";h.d(fe,{z:()=>p});var n=h(4438);const e=["*",[["","right",""]]],y=["*","[right]"];let p=(()=>{class w{static{this.\u0275fac=function(u){return new(u||w)}}static{this.\u0275cmp=n.VBU({type:w,selectors:[["app-button-bar"]],ngContentSelectors:y,decls:6,vars:0,consts:[[1,"tw-bg-grey-200","tw-border","tw-border-grey-300","tw-mt-8","tw-px-4","tw-pt-4","tw-pb-1","xs:tw-border-0","xs:tw-border-t","xs:tw-mb-12","xs:tw-inset-x-0","xs:tw-bottom-0","xs:tw-fixed","xs:tw-z-20"],[1,"tw-container","tw-mx-auto"],[1,"tw-flex","tw-flex-wrap"],[1,"tw-mr-auto"]],template:function(u,f){1&u&&(n.NAR(e),n.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),n.SdG(4),n.k0s(),n.SdG(5,1),n.k0s()()())},encapsulation:2})}}return w})()},1993:(nt,fe,h)=>{"use strict";h.d(fe,{E:()=>y});var n=h(177),e=h(4438);let y=(()=>{class p{static{this.\u0275fac=function(m){return new(m||p)}}static{this.\u0275mod=e.$C({type:p})}static{this.\u0275inj=e.G2t({imports:[n.MD]})}}return p})()},7499:(nt,fe,h)=>{"use strict";h.d(fe,{o:()=>y});var n=h(1413),e=h(4438);let y=(()=>{class p{constructor(){this.emitter=new n.B,this.eventStream=new n.B}getChangeEmitter(){return this.emitter}confirm(){this.emitter.next()}static{this.\u0275fac=function(m){return new(m||p)}}static{this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}}return p})()},6728:(nt,fe,h)=>{"use strict";h.d(fe,{E:()=>m});var n=h(4438),e=h(7499),y=h(1780),p=h(779);const w=["canDeactivate"],C=()=>({animated:!1,backdrop:"static"});let m=(()=>{class u{constructor(T,O){this.service=T,this.translate=O,this.param={value:"world"}}ngOnInit(){}ngAfterViewInit(){this.listener=this.service.getChangeEmitter().subscribe(T=>{this.modal.show()})}leave(){this.modal.hide(),this.service.eventStream.next(!0)}stay(){this.modal.hide(),this.service.eventStream.next(!1)}ngOnDestroy(){this.listener?.unsubscribe()}static{this.\u0275fac=function(O){return new(O||u)(n.rXU(e.o),n.rXU(y.c$))}}static{this.\u0275cmp=n.VBU({type:u,selectors:[["app-can-deactivate"]],viewQuery:function(O,F){if(1&O&&n.GBs(w,7),2&O){let b;n.mGM(b=n.lsd())&&(F.modal=b.first)}},decls:28,vars:20,consts:[["canDeactivate","bs-modal"],["bsModal","","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog","modal-dialog--danger"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","tw-text-center","scrollbars"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","stayBtn",1,"tw-btn-danger",3,"click"],["id","leaveBtn",1,"tw-btn-link","tw--mr-4",3,"click"]],template:function(O,F){if(1&O){const b=n.RV6();n.j41(0,"div",1,0)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),n.EFF(6),n.nI1(7,"translate"),n.k0s(),n.j41(8,"button",6),n.bIt("click",function(){return n.eBV(b),n.Njj(F.stay())}),n.nrm(9,"span",7),n.j41(10,"span",8),n.EFF(11),n.nI1(12,"translate"),n.k0s()()(),n.j41(13,"div",9)(14,"p"),n.EFF(15),n.nI1(16,"translate"),n.nI1(17,"translate"),n.k0s()(),n.nrm(18,"div",10),n.j41(19,"div",11)(20,"div",12)(21,"div",13)(22,"button",14),n.bIt("click",function(){return n.eBV(b),n.Njj(F.stay())}),n.EFF(23),n.nI1(24,"translate"),n.k0s()(),n.j41(25,"button",15),n.bIt("click",function(){return n.eBV(b),n.Njj(F.leave())}),n.EFF(26),n.nI1(27,"translate"),n.k0s()()()()()()}2&O&&(n.Y8G("config",n.lJ4(19,C)),n.R7$(6),n.JRh(n.bMT(7,7,"Notifications.UnsavedChangesTitle")),n.R7$(5),n.JRh(n.bMT(12,9,"Common.Close")),n.R7$(4),n.Lme("",n.bMT(16,11,"Notifications.UnsavedChanges")," ",n.bMT(17,13,"Notifications.ContinueWithoutSaving"),""),n.R7$(8),n.JRh(n.bMT(24,15,"Notifications.StayHere")),n.R7$(3),n.JRh(n.bMT(27,17,"Notifications.DiscardChanges")))},dependencies:[p.hZ,y.D9],encapsulation:2})}}return u})()},8455:(nt,fe,h)=>{"use strict";h.d(fe,{p:()=>m});var n=h(779),e=h(8416),y=h(7499),p=h(1780),w=h(177),C=h(4438);let m=(()=>{class u{static{this.\u0275fac=function(O){return new(O||u)}}static{this.\u0275mod=C.$C({type:u})}static{this.\u0275inj=C.G2t({providers:[e.M,y.o],imports:[w.MD,n.Q_,p.h]})}}return u})()},8416:(nt,fe,h)=>{"use strict";h.d(fe,{M:()=>e});var n=h(4438);let e=(()=>{class y{canDeactivate(w){return!w.canDeactivate||w.canDeactivate()}static{this.\u0275fac=function(C){return new(C||y)}}static{this.\u0275prov=n.jDH({token:y,factory:y.\u0275fac})}}return y})()},5404:(nt,fe,h)=>{"use strict";h.d(fe,{V:()=>f});var n=h(467),e=h(4438),y=h(2261),p=h(5794),w=h(1780),C=h(9417),m=h(8698);const u=["fileInput"];let f=(()=>{class T{constructor(F,b,M){this.certPickerService=F,this.toastr=b,this.translate=M,this.metadata="",this.dataExists=new e.bkB}ngOnInit(){}handleFileInput(F){this.fileToUpload=F.item(0),this.dataExists.emit(this.hasData())}metaDataKeyDown(){this.dataExists.emit(this.hasData())}hasData(){return!(this.metadata.length<=1&&!this.fileToUpload)}getCertificateModel(){var F=this;return(0,n.A)(function*(){let b="";if(F.fileToUpload){const k=F.fileToUpload.slice(0),N=new FileReader,R=new Promise(function(j,U){N.onloadend=function(){const ie=N.result.split("base64,");j(ie[1])}});N.readAsDataURL(k),b=yield R}else""!==F.metadata&&(b=F.metadata);const M=yield F.tryBuildCertModel(b);return F.resetForm(F),M})()}resetForm(F){F.fileToUpload=null,F.fileInput.nativeElement.value="",F.metadata="",F.dataExists.emit(F.hasData())}tryBuildCertModel(F){var b=this;return(0,n.A)(function*(){let M;try{const k=b.certPickerService.convertStringToArrayBuffer(F);M=yield b.certPickerService.buildCertModelFromArrayBuffer(k,F)}catch(k){throw b.toastr.error(b.translate.instant("Clients.Import.Wizard.Certificates.TryAgainDifferentFile"),b.translate.instant("Clients.Import.Wizard.Certificates.FailedToParseCertificate")),k}return M})()}static{this.\u0275fac=function(b){return new(b||T)(e.rXU(y.V),e.rXU(p.tw),e.rXU(w.c$))}}static{this.\u0275cmp=e.VBU({type:T,selectors:[["app-cert-reader"]],viewQuery:function(b,M){if(1&b&&e.GBs(u,7),2&b){let k;e.mGM(k=e.lsd())&&(M.fileInput=k.first)}},inputs:{uploadCert:"uploadCert",uploadCertHelp:"uploadCertHelp",certMetaData:"certMetaData",certMetaDataHelp:"certMetaDataHelp"},outputs:{dataExists:"dataExists"},decls:11,vars:14,consts:[["fileInput",""],[3,"id","label","help","isLast"],[1,"tw-form-control"],["id","fileInput","type","file","name","cert","accept",".cer",1,"tw-form-file","tw-max-w-full",3,"change","disabled"],[1,"tw-flex","tw-items-center","tw-justify-center","tw-border-b","tw-border-grey-300","tw-my-8","tw-relative","tw-z-10"],[1,"tw-inline-block","tw-bg-grey-100","tw-text-xs","tw-leading-none","tw-uppercase","tw-text-grey-500","tw--my-2","tw-px-2"],["id","metaData",1,"tw-form-control",3,"ngModelChange","keyup","disabled","ngModel"]],template:function(b,M){if(1&b){const k=e.RV6();e.j41(0,"app-form-row",1)(1,"div",2)(2,"input",3,0),e.bIt("change",function(G){return e.eBV(k),e.Njj(M.handleFileInput(G.target.files))}),e.k0s()()(),e.j41(4,"div",4)(5,"span",5),e.EFF(6),e.nI1(7,"translate"),e.k0s()(),e.j41(8,"app-form-row",1)(9,"textarea",6),e.mxI("ngModelChange",function(G){return e.eBV(k),e.DH7(M.metadata,G)||(M.metadata=G),e.Njj(G)}),e.bIt("keyup",function(){return e.eBV(k),e.Njj(M.metaDataKeyDown())}),e.EFF(10,"  "),e.k0s()()}2&b&&(e.Y8G("id","fileInput")("label",M.uploadCert)("help",M.uploadCertHelp)("isLast",!0),e.R7$(2),e.Y8G("disabled",""!=M.metadata),e.R7$(4),e.JRh(e.bMT(7,12,"Common.Or")),e.R7$(2),e.Y8G("id","metaData")("label",M.certMetaData)("help",M.certMetaDataHelp)("isLast",!0),e.R7$(),e.Y8G("disabled",null!=M.fileToUpload),e.R50("ngModel",M.metadata))},dependencies:[C.me,C.BC,C.vS,m.Y,w.D9],encapsulation:2})}}return T})()},75:(nt,fe,h)=>{"use strict";h.d(fe,{U:()=>m});var n=h(1683),e=h(177),y=h(1780),p=h(9417),w=h(8389),C=h(4438);let m=(()=>{class u{static{this.\u0275fac=function(O){return new(O||u)}}static{this.\u0275mod=C.$C({type:u})}static{this.\u0275inj=C.G2t({imports:[n.Y,e.MD,y.h,p.YN,w.w]})}}return u})()},4354:(nt,fe,h)=>{"use strict";h.d(fe,{f:()=>N});var n=h(1413),e=h(4438),y=h(177),p=h(9417);let w=(()=>{class G{transform(j,U){let $=j;return U&&($=j.filter(ie=>ie.name.toUpperCase().includes(U))),$}static{this.\u0275fac=function(U){return new(U||G)}}static{this.\u0275pipe=e.EJ8({name:"search",type:G,pure:!0})}}return G})();var C=h(1780);const m=G=>({"tw-text-grey-600":G});function u(G,R){if(1&G){const j=e.RV6();e.j41(0,"div",19)(1,"label",20),e.nrm(2,"span",21),e.j41(3,"span",13),e.EFF(4),e.nI1(5,"translate"),e.k0s()(),e.j41(6,"input",22),e.mxI("ngModelChange",function($){e.eBV(j);const ie=e.XpG();return e.DH7(ie.availableSearchValue,$)||(ie.availableSearchValue=$),e.Njj($)}),e.k0s()()}if(2&G){const j=e.XpG();e.R7$(4),e.JRh(e.bMT(5,2,"Common.Search")),e.R7$(2),e.R50("ngModel",j.availableSearchValue)}}function f(G,R){1&G&&e.nrm(0,"span",30)}function T(G,R){if(1&G&&(e.j41(0,"span",31),e.EFF(1),e.k0s()),2&G){const j=e.XpG().$implicit;e.R7$(),e.SpI(" ",j.description," ")}}function O(G,R){if(1&G){const j=e.RV6();e.j41(0,"li",23)(1,"label",24)(2,"input",25),e.bIt("change",function(){const $=e.eBV(j).$implicit,ie=e.XpG();return e.Njj(ie.selectAvailable($))}),e.k0s(),e.j41(3,"span",26)(4,"span",27),e.DNE(5,f,1,0,"span",28),e.EFF(6),e.k0s(),e.DNE(7,T,2,1,"span",29),e.k0s()()()}if(2&G){let j;const U=R.$implicit,$=e.XpG();e.R7$(),e.Y8G("htmlFor",$.prefix+U.name),e.R7$(),e.FS9("id",$.prefix+U.name),e.FS9("name",U.name),e.Y8G("checked",U.selected)("disabled",$.isRestricted(U)||$.isReadOnly),e.R7$(2),e.Y8G("ngClass",e.eq3(10,m,$.isReadOnly)),e.R7$(),e.Y8G("ngIf",$.isRestricted(U)),e.R7$(),e.Lme(" ",null!==(j=U.displayName)&&void 0!==j?j:U.name," ",U.shared?"*":""," "),e.R7$(),e.Y8G("ngIf",(null==U.description?null:U.description.length)>0)}}function F(G,R){if(1&G){const j=e.RV6();e.j41(0,"div",32)(1,"label",33),e.nrm(2,"span",21),e.j41(3,"span",13),e.EFF(4),e.nI1(5,"translate"),e.k0s()(),e.j41(6,"input",34),e.mxI("ngModelChange",function($){e.eBV(j);const ie=e.XpG();return e.DH7(ie.assignedSearchValue,$)||(ie.assignedSearchValue=$),e.Njj($)}),e.k0s()()}if(2&G){const j=e.XpG();e.R7$(4),e.JRh(e.bMT(5,2,"Common.Search")),e.R7$(2),e.R50("ngModel",j.assignedSearchValue)}}function b(G,R){1&G&&e.nrm(0,"span",30)}function M(G,R){if(1&G&&(e.j41(0,"span",31),e.EFF(1),e.k0s()),2&G){const j=e.XpG().$implicit;e.R7$(),e.SpI(" ",j.description," ")}}function k(G,R){if(1&G){const j=e.RV6();e.j41(0,"li",35)(1,"label",24)(2,"input",25),e.bIt("change",function(){const $=e.eBV(j).$implicit,ie=e.XpG();return e.Njj(ie.selectAssigned($))}),e.k0s(),e.j41(3,"span",26)(4,"span",27),e.DNE(5,b,1,0,"span",28),e.EFF(6),e.k0s(),e.DNE(7,M,2,1,"span",29),e.k0s()()()}if(2&G){let j;const U=R.$implicit,$=e.XpG();e.R7$(),e.Y8G("htmlFor",$.prefix+U.name),e.R7$(),e.FS9("id",$.prefix+U.name),e.FS9("name",U.name),e.Y8G("checked",U.selected)("disabled",$.isRestricted(U)||$.isReadOnly),e.R7$(2),e.Y8G("ngClass",e.eq3(10,m,$.isReadOnly)),e.R7$(),e.Y8G("ngIf",$.isRestricted(U)),e.R7$(),e.Lme(" ",null!==(j=U.displayName)&&void 0!==j?j:U.name," ",U.shared?"*":""," "),e.R7$(),e.Y8G("ngIf",(null==U.description?null:U.description.length)>0)}}let N=(()=>{class G{set availableInput(j){this.available=this.sortArray(j)}set assignedInput(j){this.assigned=this.sortArray(j)}set isReadOnly(j){this._isReadOnly=j||!1}get isReadOnly(){return this._isReadOnly}constructor(){this.availableCount=0,this.assignedCount=0,this.unAssignedStream=new n.B,this.assignedStream=new n.B}ngOnInit(){this.prefix=Math.random().toString(36).replace(/[^a-z]+/g,"").substring(0,5)}sortArray(j){if(j&&j.length>0)for(const U of j)U.selected=!1;return j.sort((U,$)=>U.name<$.name?-1:1)}selectAvailable(j){j.selected?this.availableCount-=1:this.availableCount+=1,j.selected=!j.selected}selectAssigned(j){j.selected?this.assignedCount-=1:this.assignedCount+=1,j.selected=!j.selected}assignItems(){let j=this.available.filter(U=>U.selected);this.assignedStream.next(j),this.available.forEach(U=>{U.selected=!1}),this.assigned.forEach(U=>{U.selected=!1}),j=[]}unAssignItems(){let j=this.assigned.filter(U=>U.selected);this.unAssignedStream.next(j),this.available.forEach(U=>{U.selected=!1}),this.assigned.forEach(U=>{U.selected=!1}),j=[]}isRestricted(j){if(this.restrictedInput)for(let U=0;U<this.restrictedInput.length;U++)if(this.restrictedInput[U].value===j.name)return!0}static{this.\u0275fac=function(U){return new(U||G)}}static{this.\u0275cmp=e.VBU({type:G,selectors:[["app-common-picker"]],inputs:{availableInput:"availableInput",assignedInput:"assignedInput",restrictedInput:"restrictedInput",assignedSearch:"assignedSearch",availableSearch:"availableSearch",isReadOnly:"isReadOnly"},decls:37,vars:28,consts:[["id","commonPicker",1,"tw-mx-auto","md:tw-flex","md:tw-justify-between"],[1,"tw-bg-white","tw-border","tw-border-grey-300","md:tw-w-2/5"],[1,"tw-flex","tw-flex-col","tw-items-center","tw-justify-start","tw-bg-primary-100","tw-border-b","tw-border-grey-300","tw-py-3","tw-px-4","md:tw-h-24","md:tw-py-1","md:tw-justify-center"],[1,"tw-font-semibold","tw-text-base","tw-truncate"],["class","tw-mt-3 tw-w-full tw-relative","id","availableSearch",4,"ngIf"],[1,"tw-py-2","tw-h-64","tw-overflow-hidden","tw-overflow-y-scroll","scrollbars","md:tw-h-72"],["id","unassignedItems","class","tw-py-3 tw-px-4",4,"ngFor","ngForOf"],[1,"md:tw-self-center","md:tw-shrink-0","md:tw-w-1/5"],["id","assignButtons",1,"tw-flex","tw-items-center","tw-justify-center","tw-p-2","md:tw-flex-wrap","lg:tw-px-3","xl:tw-px-4"],[1,"tw-p-2","tw-w-24","tw-text-center","md:tw-w-full"],["id","assignBtn",1,"tw-btn","tw-w-full","tw-max-w-32",3,"click","disabled"],["aria-hidden","true",1,"far","fa-chevron-down","md:tw-hidden"],["aria-hidden","true",1,"far","fa-chevron-right","tw-hidden","md:tw-inline"],[1,"sr-only"],["id","unAssignBtn",1,"tw-btn","tw-w-full","tw-max-w-32",3,"click","disabled"],["aria-hidden","true",1,"far","fa-chevron-up","md:tw-hidden"],["aria-hidden","true",1,"far","fa-chevron-left","tw-hidden","md:tw-inline"],["class","tw-mt-3 tw-w-full tw-relative","id","assignedSearch",4,"ngIf"],["id","assignedItems","class","tw-py-3 tw-px-4",4,"ngFor","ngForOf"],["id","availableSearch",1,"tw-mt-3","tw-w-full","tw-relative"],["for","searchAvailable",1,"tw-flex","tw-items-center","tw-justify-center","tw-text-grey-700","tw-mb-0","tw-w-10","tw-absolute","tw-inset-y-0"],["aria-hidden","true",1,"far","fa-search","tw-text-sm","tw-cursor-pointer"],["id","searchAvailable","name","availableSearchValue","type","search",1,"tw-form-control","tw-w-full","tw-pl-10",3,"ngModelChange","ngModel"],["id","unassignedItems",1,"tw-py-3","tw-px-4"],[1,"tw-flex","tw-items-start","tw-m-0","tw-text-sm","tw-leading-none","tw-normal-case","tw-cursor-pointer","tw-truncate",3,"htmlFor"],["type","checkbox",1,"tw-block","tw-mr-2",3,"change","id","name","checked","disabled"],[1,"tw-block","tw-w-full","tw-truncate"],[3,"ngClass"],["class","fas fa-lock tw-text-red-500 tw-text-xs tw-mr-1",4,"ngIf"],["class","tw-block tw-mt-2 tw-font-normal tw-text-xs tw-leading-none tw-text-grey-600 tw-truncate",4,"ngIf"],[1,"fas","fa-lock","tw-text-red-500","tw-text-xs","tw-mr-1"],[1,"tw-block","tw-mt-2","tw-font-normal","tw-text-xs","tw-leading-none","tw-text-grey-600","tw-truncate"],["id","assignedSearch",1,"tw-mt-3","tw-w-full","tw-relative"],["for","searchAssigned",1,"tw-flex","tw-items-center","tw-justify-center","tw-text-grey-700","tw-mb-0","tw-w-10","tw-absolute","tw-inset-y-0"],["id","searchAssigned","name","assignedSearchValue","type","search",1,"tw-form-control","tw-w-full","tw-pl-10",3,"ngModelChange","ngModel"],["id","assignedItems",1,"tw-py-3","tw-px-4"]],template:function(U,$){1&U&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.DNE(6,u,7,4,"div",4),e.k0s(),e.j41(7,"ul",5),e.DNE(8,O,8,12,"li",6),e.nI1(9,"uppercase"),e.nI1(10,"search"),e.k0s()(),e.j41(11,"div",7)(12,"ul",8)(13,"li",9)(14,"button",10),e.bIt("click",function(){return $.assignItems()}),e.nrm(15,"span",11)(16,"span",12),e.j41(17,"span",13),e.EFF(18),e.nI1(19,"translate"),e.k0s()()(),e.j41(20,"li",9)(21,"button",14),e.bIt("click",function(){return $.unAssignItems()}),e.nrm(22,"span",15)(23,"span",16),e.j41(24,"span",13),e.EFF(25),e.nI1(26,"translate"),e.k0s()()()()(),e.j41(27,"div",1)(28,"div",2)(29,"h2",3),e.EFF(30),e.nI1(31,"translate"),e.k0s(),e.DNE(32,F,7,4,"div",17),e.k0s(),e.j41(33,"ul",5),e.DNE(34,k,8,12,"li",18),e.nI1(35,"uppercase"),e.nI1(36,"search"),e.k0s()()()),2&U&&(e.R7$(4),e.JRh(e.bMT(5,10,"UserDetails.Available")),e.R7$(2),e.Y8G("ngIf",$.availableSearch||!$.isReadOnly),e.R7$(2),e.Y8G("ngForOf",e.i5U(10,14,$.available,e.bMT(9,12,$.availableSearchValue))),e.R7$(6),e.Y8G("disabled",$.availableCount<1||$.isReadOnly),e.R7$(4),e.JRh(e.bMT(19,17,"Common.Unassign")),e.R7$(3),e.Y8G("disabled",$.assignedCount<1||$.isReadOnly),e.R7$(4),e.JRh(e.bMT(26,19,"Common.Assign")),e.R7$(5),e.JRh(e.bMT(31,21,"UserDetails.Assigned")),e.R7$(2),e.Y8G("ngIf",$.assignedSearch||!$.isReadOnly),e.R7$(2),e.Y8G("ngForOf",e.i5U(36,25,$.assigned,e.bMT(35,23,$.assignedSearchValue))))},dependencies:[y.YU,y.Sq,y.bT,p.me,p.BC,p.vS,y.Pc,w,C.D9],encapsulation:2})}}return G})()},2571:(nt,fe,h)=>{"use strict";h.d(fe,{A:()=>C});var n=h(9417),e=h(1683),y=h(177),p=h(1780),w=h(4438);let C=(()=>{class m{static{this.\u0275fac=function(T){return new(T||m)}}static{this.\u0275mod=w.$C({type:m})}static{this.\u0275inj=w.G2t({imports:[y.MD,n.YN,e.Y,p.h]})}}return m})()},275:(nt,fe,h)=>{"use strict";h.d(fe,{W:()=>w});var n=h(177),e=h(1780),y=h(1583),p=h(4438);let w=(()=>{class C{static{this.\u0275fac=function(f){return new(f||C)}}static{this.\u0275mod=p.$C({type:C})}static{this.\u0275inj=p.G2t({imports:[n.MD,e.h,y.iI]})}}return C})()},6719:(nt,fe,h)=>{"use strict";h.d(fe,{G:()=>p});var n=h(4438),e=h(1583);const y=["*"];let p=(()=>{class w{constructor(m){this.activatedRoute=m,this.restrictedStarter=!1,this.active=!1}ngOnInit(){const m=this.activatedRoute.snapshot;null!==m.firstChild&&null!==m.firstChild.routeConfig&&m.firstChild.routeConfig.path===this.value&&(this.active=!0)}static{this.\u0275fac=function(u){return new(u||w)(n.rXU(e.nX))}}static{this.\u0275cmp=n.VBU({type:w,selectors:[["app-custom-tab"]],inputs:{title:[n.Mj6.None,"tabTitle","title"],value:[n.Mj6.None,"tabValue","value"],restrictedStarter:"restrictedStarter"},ngContentSelectors:y,decls:1,vars:0,template:function(u,f){1&u&&(n.NAR(),n.SdG(0))},encapsulation:2})}}return w})()},251:(nt,fe,h)=>{"use strict";h.d(fe,{v:()=>O});var n=h(6719),e=h(4438),y=h(1583),p=h(177),w=h(1780);const C=(F,b)=>({tabs:F,"pill-tabs":b}),m=(F,b)=>({tabs__item:F,"pill-tabs__item":b}),u=(F,b)=>({tabs__link:F,"pill-tabs__link":b});function f(F,b){1&F&&(e.j41(0,"span",5)(1,"span",6),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.nrm(4,"span",7),e.k0s()),2&F&&(e.R7$(2),e.JRh(e.bMT(3,1,"StarterMode.RequiresUpgrade")))}function T(F,b){if(1&F){const M=e.RV6();e.j41(0,"li",2)(1,"button",3),e.bIt("click",function(){const N=e.eBV(M).$implicit,G=e.XpG();return e.Njj(G.changeTab(N))}),e.EFF(2),e.nI1(3,"translate"),e.DNE(4,f,5,3,"span",4),e.k0s()()}if(2&F){const M=b.$implicit,k=b.index,N=e.XpG();e.Y8G("ngClass",e.l_i(11,m,!N.pillMode,N.pillMode)),e.R7$(),e.AVh("active",M.active),e.Y8G("id","customTab"+k)("ngClass",e.l_i(14,u,!N.pillMode,N.pillMode)),e.BMQ("data-value",M.value)("aria-selected",M.active),e.R7$(),e.SpI(" ",e.bMT(3,9,M.title)," "),e.R7$(2),e.Y8G("ngIf",M.restrictedStarter)}}let O=(()=>{class F{constructor(M,k){this.router=M,this.activatedRoute=k,this.pillMode=!1}ngOnInit(){"string"==typeof this.pillMode&&(this.pillMode="true"===this.pillMode)}ngAfterContentInit(){const M=this.tabs.filter(k=>k.active);M&&!M.length&&this.changeTab(this.tabs.first)}changeTab(M){!this.tabs||!this.tabs.length||M.active||(this.setActiveTab(M),this.router.navigate([M.value],{relativeTo:this.activatedRoute}))}setActiveTab(M){this.tabs.toArray().forEach(k=>k.active=!1),M.active=!0}static{this.\u0275fac=function(k){return new(k||F)(e.rXU(y.Ix),e.rXU(y.nX))}}static{this.\u0275cmp=e.VBU({type:F,selectors:[["app-custom-tabs"]],contentQueries:function(k,N,G){if(1&k&&e.wni(G,n.G,4),2&k){let R;e.mGM(R=e.lsd())&&(N.tabs=R)}},inputs:{pillMode:"pillMode"},decls:3,vars:8,consts:[["role","tablist",3,"ngClass"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],["role","tab",3,"click","id","ngClass"],["id","upgradeSymbol",4,"ngIf"],["id","upgradeSymbol"],[1,"sr-only"],["aria-hidden","true",1,"tw-text-secondary-500","far","fa-arrow-alt-circle-up","tw-pl-1"]],template:function(k,N){1&k&&(e.j41(0,"ul",0),e.nI1(1,"translate"),e.DNE(2,T,5,17,"li",1),e.k0s()),2&k&&(e.Y8G("ngClass",e.l_i(5,C,!N.pillMode,N.pillMode)),e.BMQ("aria-label",e.bMT(1,3,"Nav.SubMenu")),e.R7$(2),e.Y8G("ngForOf",N.tabs))},dependencies:[p.YU,p.Sq,p.bT,w.D9],encapsulation:2})}}return F})()},8577:(nt,fe,h)=>{"use strict";h.d(fe,{$:()=>C,w:()=>m});var n=h(4438),e=h(1589),y=h(2390),p=h(923),w=h(9812);class C{get datePipe(){return this._datePipe}constructor(f=p.N.standardDate,T="Common.NoDateSet"){this._datePipe=new e.El,this.noDateLabel=T??"Common.NoDateSet",this._datePipe=(()=>{switch(f){case p.N.standardDate:return new e.El;case p.N.standardDateTime:return new e.r7;case p.N.prettyDateTime:return new e.sp;default:return new e.El}})()}}let m=(()=>{class u{constructor(T){this.dataTableService=T,this.headClasses="",this.cellClasses="",this.isPlaceholder=!1,this.isBoolean=!1,this.placeholder="",this.navigate=new n.bkB}ngOnDestroy(){this.dataTableSub?.unsubscribe()}ngOnInit(){this.dataTableSub=this.dataTableService.sortCompletedEvent.subscribe(T=>{null!=this.sort&&this.setSort(T)})}get dateColumn(){return"boolean"==typeof this.date?new C:this.date}format(T){return void 0!==this.formatter?this.formatter(T):T}get sortClass(){if(null==this.sort)return"";switch(this.sort){case y.uy.None:return"fad fa-sort";case y.uy.Ascending:return"fas fa-caret-up";case y.uy.Descending:return"fas fa-caret-down"}}setSort(T){this.sort=T==this.prop?this.sort==y.uy.Descending?y.uy.Ascending:y.uy.Descending:y.uy.None}static{this.\u0275fac=function(O){return new(O||u)(n.rXU(w.I))}}static{this.\u0275cmp=n.VBU({type:u,selectors:[["app-data-table-column"]],inputs:{title:"title",prop:"prop",headClasses:"headClasses",cellClasses:"cellClasses",date:"date",link:"link",isPlaceholder:"isPlaceholder",isBoolean:"isBoolean",placeholder:"placeholder",formatter:"formatter",sort:"sort"},outputs:{navigate:"navigate"},decls:0,vars:0,template:function(O,F){},encapsulation:2})}}return u})()},4252:(nt,fe,h)=>{"use strict";h.d(fe,{AA:()=>Se,up:()=>Qe});var n=h(4438),e=h(8577),y=h(1583),p=h(9812),w=h(177),C=h(1780);const m=["selectButton"],u=["deleteButton"],f=le=>({hover:le}),T=le=>({"tw-mr-2":le});function O(le,Fe){if(1&le&&(n.j41(0,"div",7),n.nrm(1,"div",8),n.nI1(2,"translate"),n.k0s()),2&le){const Te=n.XpG();n.R7$(),n.Y8G("innerHTML",n.bMT(2,1,Te.noRowsLabel),n.npT)}}function F(le,Fe){if(1&le&&n.nrm(0,"span",14),2&le){const Te=n.XpG().$implicit;n.Y8G("ngClass",Te.sortClass)}}function b(le,Fe){if(1&le){const Te=n.RV6();n.j41(0,"th",13),n.bIt("click",function(){const Oe=n.eBV(Te).$implicit,pt=n.XpG(2);return n.Njj(pt.sortColumn(Oe))}),n.j41(1,"span",14),n.EFF(2),n.nI1(3,"translate"),n.k0s(),n.DNE(4,F,1,1,"span",15),n.k0s()}if(2&le){const Te=Fe.$implicit;n.Y8G("className",Te.headClasses),n.R7$(),n.Y8G("ngClass",n.eq3(6,T,null!=Te.sort)),n.R7$(),n.JRh(n.bMT(3,4,Te.title)),n.R7$(2),n.Y8G("ngIf",null!=Te.sort)}}function M(le,Fe){1&le&&(n.j41(0,"th",16)(1,"span",17),n.EFF(2),n.nI1(3,"translate"),n.k0s()()),2&le&&(n.R7$(2),n.JRh(n.bMT(3,1,"Common.Actions")))}function k(le,Fe){if(1&le&&(n.qex(0),n.EFF(1),n.bVm()),2&le){const Te=n.XpG(3).$implicit;n.R7$(),n.SpI(" ",Te," ")}}function N(le,Fe){if(1&le&&(n.qex(0),n.EFF(1),n.bVm()),2&le){const Te=n.XpG(4).$implicit,st=n.XpG().$implicit;n.R7$(),n.SpI(" ",Te.dateColumn.datePipe.transform(st[Te.prop])," ")}}function G(le,Fe){if(1&le&&(n.EFF(0),n.nI1(1,"translate")),2&le){const Te=n.XpG(4).$implicit;n.SpI(" ",n.bMT(1,1,Te.dateColumn.noDateLabel)," ")}}function R(le,Fe){if(1&le&&(n.qex(0),n.DNE(1,N,2,1,"ng-container",21)(2,G,2,3,"ng-template",null,1,n.C5r),n.bVm()),2&le){const Te=n.sdS(3),st=n.XpG(3).$implicit,Oe=n.XpG().$implicit;n.R7$(),n.Y8G("ngIf",Oe[st.prop])("ngIfElse",Te)}}function j(le,Fe){if(1&le){const Te=n.RV6();n.qex(0),n.j41(1,"a",22),n.bIt("click",function(){n.eBV(Te);const Oe=n.XpG(5).$implicit,pt=n.XpG(2);return n.Njj(!!pt.clickLinkCell(Oe.link))}),n.EFF(2),n.k0s(),n.bVm()}if(2&le){const Te=n.XpG(4).$implicit,st=n.XpG().$implicit;n.R7$(),n.FS9("href",st.routeLink,n.B4B),n.R7$(),n.SpI(" ",st[Te.prop]," ")}}function U(le,Fe){if(1&le&&n.nrm(0,"span",23),2&le){const Te=n.XpG(4).$implicit,st=n.XpG().$implicit;n.Y8G("innerHTML",Te.format(st[Te.prop]),n.npT)}}function $(le,Fe){if(1&le&&n.DNE(0,j,3,2,"ng-container",21)(1,U,1,1,"ng-template",null,2,n.C5r),2&le){const Te=n.sdS(2),st=n.XpG(3).$implicit;n.Y8G("ngIf",st.link)("ngIfElse",Te)}}function ie(le,Fe){if(1&le&&(n.qex(0),n.DNE(1,R,4,2,"ng-container",21)(2,$,3,2,"ng-template",null,0,n.C5r),n.bVm()),2&le){const Te=n.sdS(3),st=n.XpG(2).$implicit;n.R7$(),n.Y8G("ngIf",st.date)("ngIfElse",Te)}}function se(le,Fe){if(1&le&&(n.qex(0),n.DNE(1,k,2,1,"ng-container",20)(2,ie,4,2,"ng-container",20),n.bVm()),2&le){const Te=n.XpG().$implicit;n.R7$(),n.Y8G("ngIf",null==Te.prop),n.R7$(),n.Y8G("ngIf",null!=Te.prop)}}function L(le,Fe){if(1&le&&(n.qex(0),n.j41(1,"span",24),n.EFF(2),n.nI1(3,"translate"),n.k0s(),n.bVm()),2&le){const Te=n.XpG().$implicit;n.R7$(2),n.JRh(n.bMT(3,1,Te.placeholder))}}function J(le,Fe){1&le&&(n.j41(0,"span",27)(1,"span",17),n.EFF(2),n.nI1(3,"translate"),n.k0s()()),2&le&&(n.R7$(2),n.JRh(n.bMT(3,1,"Common.Yes")))}function q(le,Fe){1&le&&(n.j41(0,"span",28)(1,"span",17),n.EFF(2),n.nI1(3,"translate"),n.k0s()()),2&le&&(n.R7$(2),n.JRh(n.bMT(3,1,"Common.No")))}function S(le,Fe){if(1&le&&(n.qex(0),n.DNE(1,J,4,3,"span",25)(2,q,4,3,"span",26),n.bVm()),2&le){const Te=n.XpG().$implicit,st=n.XpG().$implicit;n.R7$(),n.Y8G("ngIf",st[Te.prop]),n.R7$(),n.Y8G("ngIf",!st[Te.prop])}}function re(le,Fe){if(1&le&&(n.j41(0,"td",19),n.DNE(1,se,3,2,"ng-container",20)(2,L,4,3,"ng-container",20)(3,S,3,2,"ng-container",20),n.k0s()),2&le){const Te=Fe.$implicit;n.Y8G("className",Te.cellClasses),n.BMQ("data-label",Te.title),n.R7$(),n.Y8G("ngIf",!Te.isPlaceholder&&!Te.isBoolean),n.R7$(),n.Y8G("ngIf",Te.isPlaceholder),n.R7$(),n.Y8G("ngIf",Te.isBoolean)}}function K(le,Fe){if(1&le){const Te=n.RV6();n.j41(0,"button",32,3),n.bIt("click",function(){n.eBV(Te);const Oe=n.XpG(2).$implicit,pt=n.XpG(2);return n.Njj(pt.selectRow(Oe))}),n.nrm(2,"span",33),n.j41(3,"span",17),n.EFF(4),n.nI1(5,"translate"),n.k0s()()}2&le&&(n.R7$(4),n.JRh(n.bMT(5,1,"Common.Edit")))}function me(le,Fe){if(1&le){const Te=n.RV6();n.j41(0,"button",34,4),n.bIt("click",function(){n.eBV(Te);const Oe=n.XpG(2).index,pt=n.XpG(2);return n.Njj(pt.deleteRow(Oe))}),n.nrm(2,"span",35),n.j41(3,"span",17),n.EFF(4),n.nI1(5,"translate"),n.k0s()()}2&le&&(n.R7$(4),n.JRh(n.bMT(5,1,"Common.Remove.Title")))}function Ne(le,Fe){if(1&le&&(n.j41(0,"td",16)(1,"div",29),n.DNE(2,K,6,3,"button",30)(3,me,6,3,"button",31),n.k0s()()),2&le){const Te=n.XpG(3);n.R7$(2),n.Y8G("ngIf",Te.canSelect),n.R7$(),n.Y8G("ngIf",Te.canDelete)}}function De(le,Fe){if(1&le&&(n.j41(0,"tr"),n.DNE(1,re,4,5,"td",18)(2,Ne,4,2,"td",11),n.k0s()),2&le){const Te=n.XpG(2);n.R7$(),n.Y8G("ngForOf",Te.columns),n.R7$(),n.Y8G("ngIf",Te.actions)}}function xe(le,Fe){if(1&le&&(n.j41(0,"table",9)(1,"thead")(2,"tr"),n.DNE(3,b,5,8,"th",10)(4,M,4,3,"th",11),n.k0s()(),n.j41(5,"tbody"),n.DNE(6,De,3,2,"tr",12),n.k0s()()),2&le){const Te=n.XpG();n.Y8G("ngClass",n.eq3(4,f,!Te.isReadOnly)),n.R7$(3),n.Y8G("ngForOf",Te.columns),n.R7$(),n.Y8G("ngIf",Te.actions),n.R7$(2),n.Y8G("ngForOf",Te.rows)}}let Qe=(()=>{class le{set isReadOnly(Te){this._isReadOnly=Te||!1}get isReadOnly(){return this._isReadOnly}constructor(Te,st){this.router=Te,this.dataTableService=st,this.onSelect=new n.bkB}ngOnInit(){this.isReadOnly?(this.canDelete=!1,this.canSelect=!1):this.actions&&(this.canDelete=this.actions.includes(Se.Delete),this.canSelect=this.actions.includes(Se.Select))}ngAfterViewInit(){this.dataTableService.columns=this.columns}deleteRow(Te){this.canDelete&&this.dataTableService.deleteRowEvent.next(Te)}selectRow(Te){if(this.canSelect){const st=new be(Te,this.selectButtonRef);this.onSelect.emit(st)}}clickLinkCell(Te){this.router.navigate([`${Te.routeForLink}`,Te.identifier])}sortColumn(Te){(null!=Te.sort||null!=Te.sort)&&this.dataTableService.sortColumnEvent.next(Te)}static{this.\u0275fac=function(st){return new(st||le)(n.rXU(y.Ix),n.rXU(p.I))}}static{this.\u0275cmp=n.VBU({type:le,selectors:[["app-data-table"]],contentQueries:function(st,Oe,pt){if(1&st&&n.wni(pt,e.w,4),2&st){let Ye;n.mGM(Ye=n.lsd())&&(Oe.columns=Ye)}},viewQuery:function(st,Oe){if(1&st&&(n.GBs(m,5),n.GBs(u,5)),2&st){let pt;n.mGM(pt=n.lsd())&&(Oe.selectButtonRef=pt.first),n.mGM(pt=n.lsd())&&(Oe.deleteButtonRef=pt.first)}},inputs:{noRowsLabel:[n.Mj6.None,"norowslabel","noRowsLabel"],rows:"rows",actions:"actions",isReadOnly:"isReadOnly"},outputs:{onSelect:"onSelect"},decls:2,vars:2,consts:[["nonDateRow",""],["dateRowWithNoValue",""],["normalRowWithoutLink",""],["selectButton",""],["deleteButton",""],["class","tw-alert tw-mb-4","role","alert",4,"ngIf"],["class","datatable",3,"ngClass",4,"ngIf"],["role","alert",1,"tw-alert","tw-mb-4"],["id","noRowsLabel",3,"innerHTML"],[1,"datatable",3,"ngClass"],[3,"className","click",4,"ngFor","ngForOf"],["class","tw-w-1",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"click","className"],[3,"ngClass"],[3,"ngClass",4,"ngIf"],[1,"tw-w-1"],[1,"sr-only"],[3,"className",4,"ngFor","ngForOf"],[3,"className"],[4,"ngIf"],[4,"ngIf","ngIfElse"],[3,"click","href"],[3,"innerHTML"],[1,"tw-italic","tw-text-grey-800"],["class","fas fa-check tw-text-green-500",4,"ngIf"],["class","fas fa-times tw-opacity-25",4,"ngIf"],[1,"fas","fa-check","tw-text-green-500"],[1,"fas","fa-times","tw-opacity-25"],[1,"tw-flex","tw-items-center"],["id","selectButton","class","tw-btn-link tw-btn-small tw-mr-1","value","Edit",3,"click",4,"ngIf"],["id","deleteButton","class","tw-btn-link tw-btn-small tw-text-red-500","value","Delete",3,"click",4,"ngIf"],["id","selectButton","value","Edit",1,"tw-btn-link","tw-btn-small","tw-mr-1",3,"click"],["aria-hidden","true",1,"fad","fa-pencil"],["id","deleteButton","value","Delete",1,"tw-btn-link","tw-btn-small","tw-text-red-500",3,"click"],["aria-hidden","true",1,"fas","fa-times"]],template:function(st,Oe){1&st&&n.DNE(0,O,3,3,"div",5)(1,xe,7,6,"table",6),2&st&&(n.Y8G("ngIf",(null==Oe.rows?null:Oe.rows.length)<1),n.R7$(),n.Y8G("ngIf",(null==Oe.rows?null:Oe.rows.length)>0))},dependencies:[w.YU,w.Sq,w.bT,C.D9],encapsulation:2})}}return le})();var Se=function(le){return le.Delete="Delete",le.Select="Select",le}(Se||{});class be{constructor(Fe,Te=null){this.data=Fe,this.element=Te}}},8251:(nt,fe,h)=>{"use strict";h.d(fe,{h:()=>m});var n=h(1780),e=h(177),y=h(534),p=h(1683),w=h(9812),C=h(4438);let m=(()=>{class u{static{this.\u0275fac=function(O){return new(O||u)}}static{this.\u0275mod=C.$C({type:u})}static{this.\u0275inj=C.G2t({providers:[w.I],imports:[e.MD,n.h,y.Ss,p.Y]})}}return u})()},9812:(nt,fe,h)=>{"use strict";h.d(fe,{I:()=>y});var n=h(1413),e=h(4438);let y=(()=>{class p{constructor(){this.sortColumnEvent=new n.B,this.sortCompletedEvent=new n.B,this.deleteRowEvent=new n.B}static{this.\u0275fac=function(m){return new(m||p)}}static{this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})()},6536:(nt,fe,h)=>{"use strict";h.d(fe,{Z:()=>R,e:()=>G});var n=h(4438),e=h(9417),y=h(4549),p=h(7263),w=h(177);function C(j,U){1&j&&n.eu8(0)}function m(j,U){if(1&j&&(n.j41(0,"div",4),n.DNE(1,C,1,0,"ng-container",5),n.k0s()),2&j){n.XpG();const $=n.sdS(5);n.R7$(),n.Y8G("ngTemplateOutlet",$)}}function u(j,U){1&j&&n.eu8(0)}function f(j,U){1&j&&n.eu8(0)}function T(j,U){if(1&j&&(n.j41(0,"div",6)(1,"div",7),n.DNE(2,u,1,0,"ng-container",5),n.k0s(),n.j41(3,"div",8),n.DNE(4,f,1,0,"ng-container",5),n.k0s()()),2&j){n.XpG();const $=n.sdS(5),ie=n.sdS(7);n.R7$(2),n.Y8G("ngTemplateOutlet",ie),n.R7$(2),n.Y8G("ngTemplateOutlet",$)}}function O(j,U){1&j&&n.eu8(0)}function F(j,U){if(1&j&&(n.j41(0,"div",6),n.DNE(1,O,1,0,"ng-container",5),n.k0s()),2&j){n.XpG();const $=n.sdS(7);n.R7$(),n.Y8G("ngTemplateOutlet",$)}}function b(j,U){if(1&j&&(n.j41(0,"option",15),n.EFF(1),n.nI1(2,"number"),n.k0s()),2&j){const $=U.index;n.Y8G("value",$),n.R7$(),n.JRh(n.i5U(2,2,$,"2.0"))}}function M(j,U){if(1&j&&(n.j41(0,"option",15),n.EFF(1),n.nI1(2,"number"),n.k0s()),2&j){const $=U.index;n.Y8G("value",$),n.R7$(),n.JRh(n.i5U(2,2,$,"2.0"))}}function k(j,U){if(1&j){const $=n.RV6();n.j41(0,"label",9),n.EFF(1,"Hours"),n.k0s(),n.j41(2,"div",10)(3,"select",11),n.bIt("ngModelChange",function(se){n.eBV($);const L=n.XpG();return n.Njj(L.onHoursChange(se))}),n.j41(4,"option",12),n.EFF(5,"HH"),n.k0s(),n.DNE(6,b,3,5,"option",13),n.k0s()(),n.j41(7,"span",14),n.EFF(8,":"),n.k0s(),n.j41(9,"label",9),n.EFF(10,"Minutes"),n.k0s(),n.j41(11,"div",10)(12,"select",11),n.bIt("ngModelChange",function(se){n.eBV($);const L=n.XpG();return n.Njj(L.onMinutesChange(se))}),n.j41(13,"option",12),n.EFF(14,"MM"),n.k0s(),n.DNE(15,M,3,5,"option",13),n.k0s()()}if(2&j){const $=n.XpG();n.Y8G("for",$.id+"-time-hours"),n.R7$(3),n.Y8G("id",$.id+"-time-hours")("ngModel",$.hours),n.R7$(),n.Y8G("value",void 0),n.R7$(2),n.Y8G("ngForOf",$.counter(23)),n.R7$(3),n.Y8G("for",$.id+"-time-minutes"),n.R7$(3),n.Y8G("id",$.id+"-time-minutes")("ngModel",$.minutes),n.R7$(),n.Y8G("value",void 0),n.R7$(2),n.Y8G("ngForOf",$.counter(59))}}function N(j,U){if(1&j){const $=n.RV6();n.j41(0,"input",16),n.bIt("ngModelChange",function(se){n.eBV($);const L=n.XpG();return n.Njj(L.onDateChange(se))})("keyup",function(se){n.eBV($);const L=n.XpG();return n.Njj(L.onKeyUp(se))}),n.k0s()}if(2&j){const $=n.XpG();n.Y8G("id",$.id+"-date")("ngModel",$.stringDate),n.BMQ("required",$.required?"":null)("min",$.minDate)("max",$.maxDate)}}var G=function(j){return j.Date="date",j.Time="time",j.DateTime="datetime",j}(G||{});let R=(()=>{class j{constructor(){this.id=(0,p.Nl)(),this.displayType=G.DateTime,this.required=!1,this.disabled=!1,this.keyup=new n.bkB,this.onChange=$=>{},this.onTouched=()=>{}}set value($){this.setDate($)}set min($){this.minDate=this.toMinMaxDateString($)}set max($){this.maxDate=this.toMinMaxDateString($)}get hours(){return(this.date?this.date:void 0)?.hour}get minutes(){return(this.date?this.date:void 0)?.minute}ngOnInit(){}writeValue($){this.setDate($)}registerOnChange($){this.onChange=$}registerOnTouched($){this.onTouched=$}setDisabledState($){this.disabled=$}get opacity(){return this.disabled?.25:1}validate($){return!this.required||this.date?null:{required:{valid:!1}}}onKeyUp($){this.keyup.emit($)}onHoursChange($){this.date=this.date?this.date.set({hour:$}):y.c9.now().set({hour:$}),this.onChange(this.date.toString())}onMinutesChange($){this.date=this.date?this.date.set({minute:$}):y.c9.now().set({minute:$}),this.onChange(this.date.toString())}onDateChange($){this.stringDate=$;let ie=y.c9.fromFormat($,"yyyy-MM-dd");ie.isValid&&(this.date=this.date?this.date.set({year:ie.year,month:ie.month,day:ie.day}):ie,this.onChange(this.date.toString()))}counter($){return new Array($+1)}setDate($){if($){if($ instanceof y.c9&&(this.date=$),"string"==typeof $){const ie=y.c9.fromISO($);this.date=ie.isValid?ie:void 0}this.stringDate=this.date.toFormat("yyyy-MM-dd")}}toMinMaxDateString($){let ie;return ie=$ instanceof y.c9?$:y.c9.fromISO($.toString()),ie.toFormat("yyyy-MM-dd")}static{this.\u0275fac=function(ie){return new(ie||j)}}static{this.\u0275cmp=n.VBU({type:j,selectors:[["app-date-time"]],hostVars:2,hostBindings:function(ie,se){2&ie&&n.xc7("opacity",se.opacity)},inputs:{id:"id",value:"value",displayType:"displayType",required:"required",disabled:"disabled",min:"min",max:"max"},outputs:{keyup:"keyup"},features:[n.Jv_([{provide:e.kq,useExisting:(0,n.Rfq)(()=>j),multi:!0},{provide:e.cz,useExisting:(0,n.Rfq)(()=>j),multi:!0}])],decls:8,vars:3,consts:[["timeTemplate",""],["dateTemplate",""],["class","tw-flex tw-items-center",4,"ngIf"],["class","tw-flex tw-flex-wrap",4,"ngIf"],[1,"tw-flex","tw-items-center"],[4,"ngTemplateOutlet"],[1,"tw-flex","tw-flex-wrap"],[1,"tw-w-18"],[1,"tw-flex-none","tw-flex","tw-items-center","tw-pl-3"],[1,"sr-only",3,"for"],[1,"tw-form-select","tw-flex-no-shrink","tw-w-18"],[1,"tw-form-control",3,"ngModelChange","id","ngModel"],["disabled","","selected","",3,"value"],[3,"value",4,"ngFor","ngForOf"],["aria-hidden","true",1,"tw-font-semibold","tw-flex-no-shrink","px-1"],[3,"value"],["type","date","placeholder","dd/mm/yyyy",1,"tw-form-control",3,"ngModelChange","keyup","id","ngModel"]],template:function(ie,se){1&ie&&(n.j41(0,"div"),n.DNE(1,m,2,1,"div",2)(2,T,5,2,"div",3)(3,F,2,1,"div",3)(4,k,16,10,"ng-template",null,0,n.C5r)(6,N,1,5,"ng-template",null,1,n.C5r),n.k0s()),2&ie&&(n.R7$(),n.Y8G("ngIf","time"==se.displayType),n.R7$(),n.Y8G("ngIf","datetime"==se.displayType),n.R7$(),n.Y8G("ngIf","date"==se.displayType))},dependencies:[w.Sq,w.bT,w.T3,e.xH,e.y7,e.me,e.wz,e.BC,e.vS,w.QX],encapsulation:2})}}return j})()},6599:(nt,fe,h)=>{"use strict";h.d(fe,{Y:()=>C});var n=h(177),e=h(1683),y=h(1780),p=h(9417),w=h(4438);let C=(()=>{class m{static{this.\u0275fac=function(T){return new(T||m)}}static{this.\u0275mod=w.$C({type:m})}static{this.\u0275inj=w.G2t({imports:[n.MD,p.YN,e.Y,y.h]})}}return m})()},3860:(nt,fe,h)=>{"use strict";h.d(fe,{$:()=>p});var n=h(9417),e=h(7263),y=h(4438);let p=(()=>{class w{validate(m){return this.regex?(0,e.AB)(new RegExp(this.regex,"i"))(m):null}static{this.\u0275fac=function(u){return new(u||w)}}static{this.\u0275dir=y.FsC({type:w,selectors:[["","appClaimRegex",""]],inputs:{regex:[y.Mj6.None,"appClaimRegex","regex"]},features:[y.Jv_([{provide:n.cz,useExisting:w,multi:!0}])]})}}return w})()},5663:(nt,fe,h)=>{"use strict";h.d(fe,{Q:()=>C});var n=h(5794),e=h(1583),y=h(1780),p=h(4438),w=h(7005);let C=(()=>{class m{constructor(f){this.injector=f}handleError(f){if((0,p.naY)())console.log(f);else{const T=this.injector.get(e.Ix),O=this.injector.get(n.tw),F=this.injector.get(y.c$),b=this.injector.get(w.QG);O.info(F.instant("Notifications.Support")),O.info(F.instant("Notifications.Apology"),F.instant("Notifications.Sorry"));const M=b.translateRoute("/home");T.navigateByUrl(M)}}static{this.\u0275fac=function(T){return new(T||m)(p.KVO(p.zZn))}}static{this.\u0275prov=p.jDH({token:m,factory:m.\u0275fac})}}return m})()},7811:(nt,fe,h)=>{"use strict";h.d(fe,{j:()=>U});var n=h(4438),e=h(1413),y=h(1985),p=h(5558),w=h(6354),C=h(7673),m=h(1584),u=h(526),f=h(9417),T=h(8400),O=h(177),F=h(1780);function b($,ie){if(1&$&&(n.j41(0,"option",11),n.EFF(1),n.k0s()),2&$){const se=ie.$implicit;n.Y8G("value",se),n.R7$(),n.JRh(se)}}function M($,ie){if(1&$){const se=n.RV6();n.j41(0,"select",9,1),n.bIt("ngModelChange",function(J){n.eBV(se);const q=n.XpG();return n.Njj(q.valueChanged.emit(J))})("keyup",function(){n.eBV(se);const J=n.XpG();return n.Njj(J.keyupEvent.emit())}),n.DNE(2,b,2,2,"option",10),n.k0s()}if(2&$){const se=n.sdS(1),L=n.XpG();n.Y8G("id",L.forId)("ngModel",L.value)("disabled",L.disabled&&!se.dirty),n.R7$(2),n.Y8G("ngForOf",L.allowedValues)}}function k($,ie){if(1&$){const se=n.RV6();n.j41(0,"input",12,1),n.nI1(2,"translate"),n.bIt("ngModelChange",function(J){n.eBV(se);const q=n.XpG();return n.Njj(q.valueChanged.emit(J))})("focus",function(J){n.eBV(se);const q=n.XpG();return n.Njj(q.onFocus(J))}),n.k0s()}if(2&$){const se=n.sdS(1),L=n.XpG(),J=n.sdS(5);n.FS9("placeholder",n.bMT(2,9,"ClaimTypes.TypeaheadHelp")),n.Y8G("id",L.forId)("container",L.hostingModal)("ngModel",L.value)("typeahead",L.dataSource)("typeaheadWaitMs",200)("typeaheadAsync",!0)("typeaheadItemTemplate",J)("disabled",L.disabled&&!se.dirty)}}function N($,ie){if(1&$&&(n.j41(0,"span"),n.EFF(1),n.nI1(2,"slice"),n.k0s()),2&$){const se=ie.item;n.R7$(),n.JRh(se.length>20?n.brH(2,1,se,0,20)+"...":se)}}function G($,ie){1&$&&(n.j41(0,"div",13),n.nrm(1,"span",14),n.j41(2,"span"),n.EFF(3),n.nI1(4,"translate"),n.k0s()()),2&$&&(n.R7$(3),n.JRh(n.bMT(4,1,"Common.LoadingPleaseWait")))}function R($,ie){1&$&&(n.j41(0,"div",15),n.nrm(1,"span",16),n.j41(2,"span"),n.EFF(3),n.nI1(4,"translate"),n.k0s()()),2&$&&(n.R7$(3),n.JRh(n.bMT(4,1,"ClaimTypes.AllowedValuesFiltering.NothingFound")))}function j($,ie){if(1&$&&(n.j41(0,"div",17),n.nrm(1,"span",16),n.j41(2,"span"),n.EFF(3),n.nI1(4,"translate"),n.k0s()()),2&$){const se=n.XpG();n.R7$(3),n.Lme("",n.bMT(4,2,"ClaimTypes.AllowedValuesFiltering.TooManyFound")," (",se.totalValues,")")}}let U=(()=>{class ${set hostingModal(se){this._hostingModal=se}get hostingModal(){return null!=this._hostingModal?`#${this._hostingModal}`:null}set typeId(se){this._typeId=se,this.typeIdSub.next(se)}get typeId(){return this._typeId}constructor(se){this.claimTypesService=se,this.valueChanged=new n.bkB,this.disabled=!1,this.keyupEvent=new n.bkB,this.typeIdSub=new e.B,this.threshold=50,this.typeahead=!1,this.loading=!1,this.nothingFound=!1,this.tooManyResults=!1,this.typeIdSub.subscribe(L=>{this.claimTypesService.getAllowedValues(this._typeId,null,this.threshold).subscribe(J=>{this.totalValues=J.totalAllowedValues,this.allowedValues=J.allowedValues,this.typeahead=!this.allowedValues,this.allowedValues||(this.dataSource=this.initDataSrc())})})}initDataSrc(){return new y.c(se=>{this.loading=!0,this.nothingFound=!1,this.tooManyResults=!1,se.next(this.value)}).pipe((0,p.n)(se=>se?this.claimTypesService.getAllowedValues(this.typeId,se,this.threshold).pipe((0,w.T)(L=>(this.totalValues=L.totalAllowedValues,this.allowedValues=L.allowedValues,this.loading=!1,this.nothingFound=L.totalAllowedValues<=0,this.tooManyResults=L.totalAllowedValues>=this.threshold,L.allowedValues||[]))):(this.loading=!1,this.nothingFound=!1,this.tooManyResults=!1,(0,C.of)([]))))}onFocus(se){se.stopPropagation(),(0,m.O)(1).subscribe(()=>{const L=new Event("input");se.target?.dispatchEvent(L)})}static{this.\u0275fac=function(L){return new(L||$)(n.rXU(u.X))}}static{this.\u0275cmp=n.VBU({type:$,selectors:[["app-enum-claim-type-input"]],inputs:{hostingModal:"hostingModal",forId:[n.Mj6.None,"id","forId"],typeId:"typeId",inModal:"inModal",value:"value",disabled:"disabled"},outputs:{valueChanged:"valueChanged",keyupEvent:"keyupEvent"},decls:9,vars:5,consts:[["customItemTemplate",""],["claimvalue","ngModel"],[1,"tw-form-select"],["class","tw-form-control","name","enum","required","",3,"id","ngModel","disabled","ngModelChange","keyup",4,"ngIf"],[1,"tw-form-typeahead"],["class","tw-form-control","type","text","name","enum","autocomplete","off","required","",3,"id","container","ngModel","typeahead","typeaheadWaitMs","typeaheadAsync","typeaheadItemTemplate","placeholder","disabled","ngModelChange","focus",4,"ngIf"],["id","typeahead-loading-msg","class","tw-form-label tw-text-sm tw-mt-2",4,"ngIf"],["id","typeahead-nothing-found-msg","class","tw-form-label tw-text-sm tw-mt-2",4,"ngIf"],["id","typeahead-too-many-msg","class","tw-form-label tw-text-sm tw-mt-2",4,"ngIf"],["name","enum","required","",1,"tw-form-control",3,"ngModelChange","keyup","id","ngModel","disabled"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["type","text","name","enum","autocomplete","off","required","",1,"tw-form-control",3,"ngModelChange","focus","id","container","ngModel","typeahead","typeaheadWaitMs","typeaheadAsync","typeaheadItemTemplate","placeholder","disabled"],["id","typeahead-loading-msg",1,"tw-form-label","tw-text-sm","tw-mt-2"],[1,"fad","fa-spinner-third","fa-spin","tw-text-secondary-500","tw-mr-2"],["id","typeahead-nothing-found-msg",1,"tw-form-label","tw-text-sm","tw-mt-2"],[1,"fa","fa-exclamation-triangle","tw-text-secondary-500","tw-mr-2"],["id","typeahead-too-many-msg",1,"tw-form-label","tw-text-sm","tw-mt-2"]],template:function(L,J){1&L&&(n.j41(0,"div",2),n.DNE(1,M,3,4,"select",3),n.k0s(),n.j41(2,"div",4),n.DNE(3,k,3,11,"input",5),n.k0s(),n.DNE(4,N,3,5,"ng-template",null,0,n.C5r)(6,G,5,3,"div",6)(7,R,5,3,"div",7)(8,j,5,4,"div",8)),2&L&&(n.R7$(),n.Y8G("ngIf",!J.typeahead),n.R7$(2),n.Y8G("ngIf",J.typeahead),n.R7$(3),n.Y8G("ngIf",J.typeahead&&J.loading),n.R7$(),n.Y8G("ngIf",J.typeahead&&J.nothingFound),n.R7$(),n.Y8G("ngIf",J.typeahead&&J.tooManyResults))},dependencies:[f.xH,f.y7,f.me,f.wz,f.BC,f.YS,f.vS,T.Xi,O.Sq,O.bT,O.P9,F.D9],encapsulation:2})}}return $})()},8389:(nt,fe,h)=>{"use strict";h.d(fe,{w:()=>m});var n=h(177),e=h(1780),y=h(9417),p=h(6599),w=h(8400),C=h(4438);let m=(()=>{class u{static{this.\u0275fac=function(O){return new(O||u)}}static{this.\u0275mod=C.$C({type:u})}static{this.\u0275inj=C.G2t({imports:[y.YN,y.X1,w.qP,n.MD,e.h,p.Y]})}}return u})()},4701:(nt,fe,h)=>{"use strict";h.d(fe,{u:()=>U});var n=h(6536),e=h(7263),y=h(4438),p=h(9417),w=h(177),C=h(8698),m=h(9550),u=h(3860),f=h(7811);const T=["claimsForm"];function O($,ie){if(1&$){const se=y.RV6();y.j41(0,"input",11,1),y.bIt("keyup",function(){y.eBV(se);const J=y.XpG().$implicit,q=y.XpG();return y.Njj(q.checkForPolicyClaimForm(J.type,J))}),y.mxI("ngModelChange",function(J){y.eBV(se);const q=y.XpG().$implicit;return y.DH7(q.value,J)||(q.value=J),y.Njj(J)}),y.k0s()}if(2&$){const se=y.sdS(1),L=y.XpG(),J=L.$implicit,q=L.index,S=y.XpG();y.Mz_("id","claim-",q,""),y.Y8G("name",J.type),y.R50("ngModel",J.value),y.Y8G("appClaimRegex",J.regex)("disabled",S.notAllowedToEditClaim(J)&&!se.dirty)}}function F($,ie){if(1&$){const se=y.RV6();y.j41(0,"input",12,1),y.bIt("keyup",function(){y.eBV(se);const J=y.XpG().$implicit,q=y.XpG();return y.Njj(q.checkForPolicyClaimForm(J.type,J))}),y.mxI("ngModelChange",function(J){y.eBV(se);const q=y.XpG().$implicit;return y.DH7(q.value,J)||(q.value=J),y.Njj(J)}),y.k0s()}if(2&$){const se=y.sdS(1),L=y.XpG(),J=L.$implicit,q=L.index,S=y.XpG();y.Mz_("id","claim-",q,""),y.Y8G("name",J.type),y.R50("ngModel",J.value),y.Y8G("disabled",S.notAllowedToEditClaim(J)&&!se.dirty)}}function b($,ie){if(1&$){const se=y.RV6();y.j41(0,"app-form-toggle",13)(1,"input",14),y.bIt("keyup",function(){y.eBV(se);const J=y.XpG().$implicit,q=y.XpG();return y.Njj(q.checkForPolicyClaimForm(J.type,J))})("ngModelChange",function(J){y.eBV(se);const q=y.XpG().$implicit;return y.Njj(q.value=J?"true":"false")}),y.k0s()()}if(2&$){const se=y.XpG(),L=se.$implicit,J=se.index,q=y.XpG();y.Y8G("id","claim-"+J)("isTraffic",!0)("isAlt",!1),y.R7$(),y.Y8G("id","claim-"+J)("name",L.type)("disabled",q.notAllowedToEditClaim(L)&&!q.claimvalue.dirty)("ngModel","true"==L.value)}}function M($,ie){if(1&$){const se=y.RV6();y.qex(0),y.j41(1,"app-date-time",17,1),y.mxI("ngModelChange",function(J){y.eBV(se);const q=y.XpG(2).$implicit;return y.DH7(q.value,J)||(q.value=J),y.Njj(J)}),y.bIt("keyup",function(){y.eBV(se);const J=y.XpG(2).$implicit,q=y.XpG();return y.Njj(q.checkForPolicyClaimForm(J.type,J))})("change",function(){y.eBV(se);const J=y.XpG(3);return y.Njj(J.makeFormDirty())}),y.k0s(),y.bVm()}if(2&$){const se=y.sdS(2),L=y.XpG(2),J=L.$implicit,q=L.index,S=y.XpG();y.R7$(),y.Mz_("id","claim-",q,""),y.Y8G("name",J.type),y.R50("ngModel",J.value),y.Y8G("disabled",S.notAllowedToEditClaim(J)&&!se.dirty)}}function k($,ie){if(1&$){const se=y.RV6();y.qex(0),y.j41(1,"app-date-time",18,1),y.mxI("ngModelChange",function(J){y.eBV(se);const q=y.XpG(2).$implicit;return y.DH7(q.value,J)||(q.value=J),y.Njj(J)}),y.bIt("keyup",function(){y.eBV(se);const J=y.XpG(2).$implicit,q=y.XpG();return y.Njj(q.checkForPolicyClaimForm(J.type,J))})("change",function(){y.eBV(se);const J=y.XpG(3);return y.Njj(J.makeFormDirty())}),y.k0s(),y.bVm()}if(2&$){const se=y.sdS(2),L=y.XpG(2),J=L.$implicit,q=L.index,S=y.XpG();y.R7$(),y.Mz_("id","claim-",q,""),y.Y8G("name",J.type)("displayType",S.dateTimeDisplayType.Date),y.R50("ngModel",J.value),y.Y8G("disabled",S.notAllowedToEditClaim(J)&&!se.dirty)}}function N($,ie){if(1&$&&(y.j41(0,"div",15),y.DNE(1,M,3,5,"ng-container",16)(2,k,3,6,"ng-container",16),y.k0s()),2&$){const se=y.XpG().$implicit;y.R7$(),y.Y8G("ngIf","birthdate"!=se.type),y.R7$(),y.Y8G("ngIf","birthdate"==se.type)}}function G($,ie){if(1&$){const se=y.RV6();y.j41(0,"div",19)(1,"app-enum-claim-type-input",20),y.bIt("valueChanged",function(J){y.eBV(se);const q=y.XpG().$implicit,S=y.XpG();return q.value=J,y.Njj(S.makeFormDirty())})("keyupEvent",function(){y.eBV(se);const J=y.XpG().$implicit,q=y.XpG();return y.Njj(q.checkForPolicyClaimForm(J.type,J))}),y.k0s()()}if(2&$){const se=y.XpG(),L=se.$implicit,J=se.index,q=y.XpG();y.R7$(),y.Y8G("id","claim-"+J)("typeId",q.getClaimType(L).id)("value",L.value)("disabled",q.notAllowedToEditClaim(L))}}function R($,ie){if(1&$&&(y.j41(0,"span",21),y.EFF(1),y.k0s()),2&$){const se=y.XpG().$implicit;y.R7$(),y.JRh(se.failureMessage)}}function j($,ie){if(1&$&&(y.j41(0,"app-form-row",4),y.DNE(1,O,2,6,"input",5)(2,F,2,5,"input",6)(3,b,2,7,"app-form-toggle",7)(4,N,3,2,"div",8)(5,G,2,4,"div",9)(6,R,2,1,"span",10),y.k0s()),2&$){const se=ie.$implicit,L=ie.index,J=y.XpG();y.Y8G("id","claim-"+L)("label",J.getLabel(se))("help",J.getHelpTextString(se)),y.R7$(),y.Y8G("ngIf","String"==se.format),y.R7$(),y.Y8G("ngIf","Int"==se.format),y.R7$(),y.Y8G("ngIf","Boolean"==se.format),y.R7$(),y.Y8G("ngIf","DateTime"==se.format),y.R7$(),y.Y8G("ngIf","Enum"==se.format),y.R7$(),y.Y8G("ngIf",J.claimDirtyAndInvalid(se.type))}}let U=(()=>{class ${constructor(){this.claims=null,this.notAllowedToEditClaim=()=>!1,this.isPolicyClaim=()=>!1,this.requiredClaims=[],this.dateTimeDisplayType=n.e}ngOnChanges(){for(const se of this.claimTypes??[])if(se.required){let L="Boolean"===se.valueType?"false":null,J=this.claims?.filter(S=>S.type===se.name)??[];J.length>0&&!(0,e.hX)(J[0].value)&&(L=J[0].value);const q={typeId:se.id,format:se.valueType,value:L,type:se.name,displayName:se.displayName,editing:!1,required:se.required};se.rule&&(q.regex=se.rule,q.failureMessage=se.ruleValidationFailureDescription),this.requiredClaims.push(q)}}getHelpTextString(se){return this.isPolicyClaim(se)?"DateTime"==se.format?"Common.PolicyWithUTCNotice":"Common.Policy":"DateTime"==se.format?"Common.Dates.UTCWarning":""}checkForPolicyClaimForm(se,L){this.notAllowedToEditClaim(L)&&this.claimsForm.form.controls[se].setErrors({incorrect:!0})}isClaimInValid(se){return this.claimsForm.form.get(se)?.invalid??!1}makeFormDirty(){this.claimsForm.form.markAsDirty()}isFormValid(){return this.claimsForm.form.valid}claimDirtyAndInvalid(se){let L=this.claimsForm.form.get(se)??{invalid:!1,dirty:!1};return L.invalid&&L.dirty}resetForm(){this.claimsForm.reset()}getClaimType(se){return this.claimTypes.find(L=>L.name===se.type)}getLabel(se){return(0,e.gP)(se.displayName)?se.type:se.displayName}static{this.\u0275fac=function(L){return new(L||$)}}static{this.\u0275cmp=y.VBU({type:$,selectors:[["app-required-claims-form"]],viewQuery:function(L,J){if(1&L&&y.GBs(T,7),2&L){let q;y.mGM(q=y.lsd())&&(J.claimsForm=q.first)}},inputs:{claimTypes:"claimTypes",claims:"claims",notAllowedToEditClaim:"notAllowedToEditClaim",isPolicyClaim:"isPolicyClaim"},features:[y.OA$],decls:3,vars:1,consts:[["claimsForm","ngForm"],["claimvalue","ngModel"],["id","requiredClaims"],[3,"id","label","help",4,"ngFor","ngForOf"],[3,"id","label","help"],["class","tw-form-control","type","text","required","",3,"name","ngModel","appClaimRegex","id","disabled","keyup","ngModelChange",4,"ngIf"],["class","tw-form-control","type","number","required","",3,"name","ngModel","id","disabled","keyup","ngModelChange",4,"ngIf"],[3,"id","isTraffic","isAlt",4,"ngIf"],["class","tw-w-full sm:tw-max-w-2xl",4,"ngIf"],["class","",4,"ngIf"],["id","fail-msg","class","tw-form-text-danger",4,"ngIf"],["type","text","required","",1,"tw-form-control",3,"keyup","ngModelChange","name","ngModel","appClaimRegex","id","disabled"],["type","number","required","",1,"tw-form-control",3,"keyup","ngModelChange","name","ngModel","id","disabled"],[3,"id","isTraffic","isAlt"],["type","checkbox",1,"tw-form-switch__input",3,"keyup","ngModelChange","id","name","disabled","ngModel"],[1,"tw-w-full","sm:tw-max-w-2xl"],[4,"ngIf"],[3,"ngModelChange","keyup","change","id","name","ngModel","disabled"],[3,"ngModelChange","keyup","change","id","name","displayType","ngModel","disabled"],[1,""],[3,"valueChanged","keyupEvent","id","typeId","value","disabled"],["id","fail-msg",1,"tw-form-text-danger"]],template:function(L,J){1&L&&(y.j41(0,"form",2,0),y.DNE(2,j,7,9,"app-form-row",3),y.k0s()),2&L&&(y.R7$(2),y.Y8G("ngForOf",J.requiredClaims))},dependencies:[p.qT,p.me,p.Q0,p.Zm,p.BC,p.cb,p.YS,p.vS,p.cV,w.Sq,w.bT,n.Z,C.Y,m.m,u.$,f.j],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return $})()},803:(nt,fe,h)=>{"use strict";h.d(fe,{f:()=>p});var n=h(4438);const e=[[["","left",""]],[["","right",""]]],y=["[left]","[right]"];let p=(()=>{class w{static{this.\u0275fac=function(u){return new(u||w)}}static{this.\u0275cmp=n.VBU({type:w,selectors:[["app-row-bar"]],ngContentSelectors:y,decls:4,vars:0,consts:[[1,"tw-flex","tw-items-center","tw-bg-grey-100","tw-py-4","tw-sticky","tw-top-0","tw-z-20"],[1,"tw-shrink-0","tw-m-auto","tw-flex","tw-ml-4"]],template:function(u,f){1&u&&(n.NAR(e),n.j41(0,"div",0),n.SdG(1),n.j41(2,"div",1),n.SdG(3,1),n.k0s()())},encapsulation:2})}}return w})()},8698:(nt,fe,h)=>{"use strict";h.d(fe,{Y:()=>T});var n=h(4438),e=h(177),y=h(1780);const p=["*"],w=O=>({"last:tw-border-0 last:tw-mb-0 last:tw-pb-0":O});function C(O,F){if(1&O&&(n.nrm(0,"span",7),n.nI1(1,"translate")),2&O){const b=n.XpG(2);n.Y8G("innerHtml",n.bMT(1,1,b.helpText),n.npT)}}function m(O,F){if(1&O&&(n.j41(0,"label",4)(1,"span",5),n.EFF(2),n.nI1(3,"translate"),n.k0s(),n.DNE(4,C,2,3,"span",6),n.k0s()),2&O){const b=n.XpG();n.Y8G("for",b.idFor),n.R7$(2),n.JRh(n.bMT(3,3,b.labelText)),n.R7$(2),n.Y8G("ngIf",b.showHelpText)}}function u(O,F){if(1&O&&(n.nrm(0,"span",7),n.nI1(1,"translate")),2&O){const b=n.XpG(2);n.Y8G("innerHtml",n.bMT(1,1,b.helpText),n.npT)}}function f(O,F){if(1&O&&(n.j41(0,"p",8)(1,"span",5),n.EFF(2),n.nI1(3,"translate"),n.k0s(),n.DNE(4,u,2,3,"span",6),n.k0s()),2&O){const b=n.XpG();n.R7$(2),n.JRh(n.bMT(3,2,b.labelText)),n.R7$(2),n.Y8G("ngIf",b.showHelpText)}}let T=(()=>{class O{constructor(){this.helpText="",this.hasLabel=!0,this.isLast=!1,this.showHelpText=!1}ngOnInit(){""!==this.helpText&&(this.showHelpText=!0)}static{this.\u0275fac=function(M){return new(M||O)}}static{this.\u0275cmp=n.VBU({type:O,selectors:[["app-form-row"]],inputs:{idFor:[n.Mj6.None,"id","idFor"],labelText:[n.Mj6.None,"label","labelText"],helpText:[n.Mj6.None,"help","helpText"],hasLabel:"hasLabel",isLast:"isLast"},ngContentSelectors:p,decls:5,vars:5,consts:[[1,"tw-form-row-border","tw-flex","tw-items-center",3,"ngClass"],["class","tw-form-label-inline",3,"for",4,"ngIf"],["class","tw-form-label-inline",4,"ngIf"],[1,"tw-w-full"],[1,"tw-form-label-inline",3,"for"],[1,"tw-block"],["class","tw-form-label-help",3,"innerHtml",4,"ngIf"],[1,"tw-form-label-help",3,"innerHtml"],[1,"tw-form-label-inline"]],template:function(M,k){1&M&&(n.NAR(),n.j41(0,"div",0),n.DNE(1,m,5,5,"label",1)(2,f,5,4,"p",2),n.j41(3,"div",3),n.SdG(4),n.k0s()()),2&M&&(n.Y8G("ngClass",n.eq3(3,w,k.isLast)),n.R7$(),n.Y8G("ngIf",k.idFor&&k.hasLabel),n.R7$(),n.Y8G("ngIf",!k.idFor&&k.hasLabel))},dependencies:[e.YU,e.bT,y.D9],encapsulation:2})}}return O})()},9550:(nt,fe,h)=>{"use strict";h.d(fe,{m:()=>C});var n=h(4438),e=h(177);const y=["*"],p=(m,u)=>({"tw-form-switch__slider--traffic":m,"tw-form-switch__slider--alt":u}),w=(m,u)=>({"tw-form-switch__state--traffic":m,"tw-form-switch__state--alt":u});let C=(()=>{class m{constructor(){this.isAlt=!1,this.isTraffic=!1}static{this.\u0275fac=function(T){return new(T||m)}}static{this.\u0275cmp=n.VBU({type:m,selectors:[["app-form-toggle"]],inputs:{idFor:[n.Mj6.None,"id","idFor"],isAlt:"isAlt",isTraffic:"isTraffic"},ngContentSelectors:y,decls:4,vars:9,consts:[[1,"tw-form-switch",3,"for"],[1,"tw-form-switch__slider",3,"ngClass"],[1,"tw-form-switch__state",3,"ngClass"]],template:function(T,O){1&T&&(n.NAR(),n.j41(0,"label",0),n.SdG(1),n.j41(2,"span",1),n.nrm(3,"span",2),n.k0s()()),2&T&&(n.Y8G("for",O.idFor),n.R7$(2),n.Y8G("ngClass",n.l_i(3,p,O.isTraffic,O.isAlt)),n.R7$(),n.Y8G("ngClass",n.l_i(6,w,O.isTraffic,O.isAlt)))},dependencies:[e.YU],encapsulation:2})}}return m})()},7263:(nt,fe,h)=>{"use strict";h.d(fe,{$N:()=>j,$_:()=>ie,AB:()=>N,KU:()=>w,Li:()=>$,Nj:()=>y,Nl:()=>k,TO:()=>R,X4:()=>S,Yt:()=>b,Zt:()=>G,_U:()=>F,ci:()=>se,gP:()=>u,hX:()=>C,hr:()=>p,jk:()=>L,kI:()=>f,lK:()=>re,uf:()=>O,zG:()=>J});var n=h(3178),e=h(4549);function y(K,me=" "){return C(K)?"":K.join(me)}function p(K,me=" "){return u(K)?[]:K.split(me)}function w(K,me){return`${e.c9.fromISO(K).toFormat(me)} UTC`}function C(K){return null==K}function u(K){return null==K||"string"!=typeof K||""===K||null!==K.match(/^ *$/)}function f(K){const me=document.createElement("a");return me.href=K,me.protocol+"//"+decodeURIComponent(me.host)}function O(K){const Ne=new RegExp("(^https?://|urn:|tcp://)").exec(K);if(Ne){if("urn:"===Ne[0])return!1}else K="http://"+K;const De=K.split("/");return K.endsWith("/")?De.length>4:De.length>3}function F(K){const Ne=new RegExp("https?://|urn:|tcp://").exec(K);return Ne?Ne[0]:null}function b(K,me){const Ne=JSON.parse(JSON.stringify(K));return me.forEach(De=>{let xe=Ne.length;for(;xe--;)Ne[xe].name===De.name&&Ne.splice(xe,1)}),Ne}function k(){let K=(new Date).getTime();return typeof performance<"u"&&"function"==typeof performance.now&&(K+=performance.now()),"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(me){const Ne=(K+16*Math.random())%16|0;return K=Math.floor(K/16),("x"===me?Ne:3&Ne|8).toString(16)})}function N(K){return me=>K.test(me.value)?null:{regex:{value:me.value}}}function G(){return K=>0===(K.value||"").trim().length?{whitespace:{value:K.value}}:null}function R(K){const me=e.c9.now();return e.c9.fromISO(K.value).diff(me).milliseconds>1?{dateInFuture:!0}:null}function j(K){const me=e.c9.fromISO(K.get("fromDate").value);return e.c9.fromISO(K.get("toDate").value).diff(me,"minutes").minutes<1?{fromDateIsAfterToDate:!0}:null}function $(K){if(K&&K.size>0){const me={};return K.forEach((Ne,De)=>{me[De]=Ne}),me}return{}}function ie(){const K=document.getElementsByTagName("base")[0].attributes.href.value;return u(K)?"/":K.endsWith("/")?K:`${K}/`}function se(K){return!(!K||0===K.length)&&(K.includes(n.a.IdentityServerManagerReadOnly)||K.includes(n.a.AllReadOnly))&&!(K.includes(n.a.IdentityServerManager)||K.includes(n.a.All))}function L(K){return!(!K||0===K.length)&&(K.includes(n.a.IdentityServerManager)||K.includes(n.a.All))}function J(K){return!(!K||0===K.length)&&(K.includes(n.a.UserManagerReadOnly)||K.includes(n.a.AllReadOnly))&&!(K.includes(n.a.UserManager)||K.includes(n.a.All))}function S(K){return!(!K||0===K.length)&&K.includes(n.a.All)}function re(K){return!(!K||0===K.length)&&K.includes(n.a.AllReadOnly)&&!K.includes(n.a.All)}},1560:(nt,fe,h)=>{"use strict";h.d(fe,{T:()=>se});var n=h(4438),e=h(9417),y=h(4866),p=h(3806),w=h(1088),C=h(7263),m=h(177),u=h(1780);const f=(L,J)=>({"tw-btn active":L,"tw-btn-link":J});function T(L,J){if(1&L&&(n.j41(0,"div"),n.nrm(1,"input",7),n.k0s()),2&L){const q=n.XpG();n.R7$(),n.FS9("id",q.id+"-input"),n.Y8G("ngModel",q.value)}}function O(L,J){if(1&L){const q=n.RV6();n.j41(0,"div")(1,"input",8),n.bIt("keydown",function(re){n.eBV(q);const K=n.XpG();return n.Njj(K.onKeyDown(re))})("paste",function(re){n.eBV(q);const K=n.XpG();return n.Njj(K.onPaste(re))})("ngModelChange",function(re){n.eBV(q);const K=n.XpG();return n.Njj(K.onValueChange(re))}),n.k0s()()}if(2&L){const q=n.XpG();n.R7$(),n.FS9("id",q.id+"-input"),n.Y8G("ngModel",q.value)("disabled",q.disabled)}}function F(L,J){if(1&L&&(n.j41(0,"span",13),n.EFF(1),n.nI1(2,"translate"),n.k0s()),2&L){const q=n.XpG(2);n.R7$(),n.Lme(" ",q.timeSpan.years," ",n.bMT(2,2,q.displayTimeSpanUnit(q.timeSpan.years,"Year"))," ")}}function b(L,J){if(1&L&&(n.j41(0,"span",13),n.EFF(1),n.nI1(2,"translate"),n.k0s()),2&L){const q=n.XpG(2);n.R7$(),n.Lme(" ",q.timeSpan.months," ",n.bMT(2,2,q.displayTimeSpanUnit(q.timeSpan.months,"Month"))," ")}}function M(L,J){if(1&L&&(n.j41(0,"span",13),n.EFF(1),n.nI1(2,"translate"),n.k0s()),2&L){const q=n.XpG(2);n.R7$(),n.Lme(" ",q.timeSpan.weeks," ",n.bMT(2,2,q.displayTimeSpanUnit(q.timeSpan.weeks,"Week"))," ")}}function k(L,J){if(1&L&&(n.j41(0,"span",13),n.EFF(1),n.nI1(2,"translate"),n.k0s()),2&L){const q=n.XpG(2);n.R7$(),n.Lme(" ",q.timeSpan.days," ",n.bMT(2,2,q.displayTimeSpanUnit(q.timeSpan.days,"Day"))," ")}}function N(L,J){if(1&L&&(n.j41(0,"span",13),n.EFF(1),n.nI1(2,"translate"),n.k0s()),2&L){const q=n.XpG(2);n.R7$(),n.Lme(" ",q.timeSpan.hours," ",n.bMT(2,2,q.displayTimeSpanUnit(q.timeSpan.hours,"Hour"))," ")}}function G(L,J){if(1&L&&(n.j41(0,"span",13),n.EFF(1),n.nI1(2,"translate"),n.k0s()),2&L){const q=n.XpG(2);n.R7$(),n.Lme(" ",q.timeSpan.minutes," ",n.bMT(2,2,q.displayTimeSpanUnit(q.timeSpan.minutes,"Minute"))," ")}}function R(L,J){if(1&L&&(n.j41(0,"span",13),n.EFF(1),n.nI1(2,"translate"),n.k0s()),2&L){const q=n.XpG(2);n.R7$(),n.Lme(" ",q.timeSpan.seconds," ",n.bMT(2,2,q.displayTimeSpanUnit(q.timeSpan.seconds,"Second"))," ")}}function j(L,J){if(1&L&&(n.j41(0,"span",13),n.EFF(1),n.nI1(2,"translate"),n.k0s()),2&L){const q=n.XpG(2);n.R7$(),n.SpI(" ",n.bMT(2,1,"Clients.Tokens.Durations."+q.tryGetNullMeaning())," ")}}function U(L,J){if(1&L&&(n.j41(0,"p",9),n.nrm(1,"span",10),n.nI1(2,"translate"),n.j41(3,"span",11),n.DNE(4,F,3,4,"span",12)(5,b,3,4,"span",12)(6,M,3,4,"span",12)(7,k,3,4,"span",12)(8,N,3,4,"span",12)(9,G,3,4,"span",12)(10,R,3,4,"span",12)(11,j,3,3,"span",12),n.k0s()()),2&L){const q=n.XpG();n.FS9("id",q.id+"-longTimeLabel"),n.R7$(),n.BMQ("aria-label",n.bMT(2,10,"Clients.Tokens.DurationTitle")),n.R7$(3),n.Y8G("ngIf",(null==q.timeSpan?null:q.timeSpan.years)>0),n.R7$(),n.Y8G("ngIf",(null==q.timeSpan?null:q.timeSpan.months)>0),n.R7$(),n.Y8G("ngIf",(null==q.timeSpan?null:q.timeSpan.weeks)>0),n.R7$(),n.Y8G("ngIf",(null==q.timeSpan?null:q.timeSpan.days)>0),n.R7$(),n.Y8G("ngIf",(null==q.timeSpan?null:q.timeSpan.hours)>0),n.R7$(),n.Y8G("ngIf",(null==q.timeSpan?null:q.timeSpan.minutes)>0),n.R7$(),n.Y8G("ngIf",(null==q.timeSpan?null:q.timeSpan.seconds)>0),n.R7$(),n.Y8G("ngIf",q.showNullTimeSpan())}}function $(L,J){if(1&L&&(n.j41(0,"span",16),n.EFF(1),n.k0s()),2&L){const q=n.XpG().$implicit;n.R7$(),n.JRh(q.duration)}}function ie(L,J){if(1&L){const q=n.RV6();n.j41(0,"li")(1,"button",14),n.bIt("click",function(){const re=n.eBV(q).$implicit,K=n.XpG();return n.Njj(K.setInput(re))}),n.DNE(2,$,2,1,"span",15),n.j41(3,"span"),n.EFF(4),n.nI1(5,"translate"),n.k0s()()()}if(2&L){const q=J.$implicit,S=n.XpG();n.R7$(),n.Y8G("ngClass",n.l_i(6,f,S.checkSelected(q),!S.checkSelected(q)))("disabled",S.disabled),n.R7$(),n.Y8G("ngIf",q.duration),n.R7$(2),n.JRh(n.bMT(5,4,"Clients.Tokens.Durations."+q.unit+"Short"))}}let se=(()=>{class L{constructor(){this.id=(0,C.Nl)(),this.allowNull=!1,this.disabled=!1,this.required=!1,this.unitMap=y.A.getUnitMap(),this.LifetimeUnit=p.u,this.onChange=q=>{},this.onTouched=()=>{}}set value(q){this.setValue(q,!1)}get value(){return this._value}setValue(q,S=!0){null!=q&&!Number.isInteger(q)||(this._value=q,null==q?this.timeSpan=null:this.timeSpan?this.timeSpan.formatSeconds(q):this.timeSpan=new w.Q(q),S&&this.onChange(q))}onValueChange(q){this.setValue(q)}onKeyDown(q){return 69!==q.keyCode&&189!==q.keyCode&&190!==q.keyCode}onPaste(q){const re=q.clipboardData?.getData("text"),K=Number(re);Number.isInteger(K)&&(K>0||null==K&&this.allowNull)||q.preventDefault()}writeValue(q){this.setValue(q,!1)}registerOnChange(q){this.onChange=q}registerOnTouched(q){this.onTouched=q}setDisabledState(q){this.disabled=q}validate(q){if(this.required){if(!this.value)return{required:{valid:!1}}}else if(!this.value)return null;return!isNaN(this.value)&&this.value>0?null:{number:{valid:!1}}}nullAwareMultiply(q,S){return null==q||null==S?null:q*S}setInput(q){const S=this.nullAwareMultiply(q.duration,this.unitMap.get(q.unit));this.setValue(S)}checkSelected(q){return this.value===this.nullAwareMultiply(q.duration,this.unitMap.get(q.unit))}displayTimeSpanUnit(q,S){return"Clients.Tokens.Durations."+S+(q>1?"s":"")}showNullTimeSpan(){return!(!this.allowNull||null!=this.timeSpan&&(0!==this.timeSpan.years||0!==this.timeSpan.months||0!==this.timeSpan.weeks||0!==this.timeSpan.days||0!==this.timeSpan.hours||0!==this.timeSpan.minutes||0!==this.timeSpan.seconds))}tryGetNullMeaning(){return this.buttons.find(S=>null===S.duration)?.unit??"NotSet"}static{this.\u0275fac=function(S){return new(S||L)}}static{this.\u0275cmp=n.VBU({type:L,selectors:[["app-lifetime-picker"]],inputs:{id:"id",value:"value",buttons:"buttons",allowNull:"allowNull",disabled:"disabled",required:"required"},features:[n.Jv_([{provide:e.kq,useExisting:(0,n.Rfq)(()=>L),multi:!0},{provide:e.cz,useExisting:(0,n.Rfq)(()=>L),multi:!0}])],decls:8,vars:5,consts:[[1,"tw-flex-grid","sm:tw-flex-nowrap","lg:tw-max-w-2xl"],[1,"tw-flex-grid-col"],[4,"ngIf"],["class","tw-form-text tw-flex tw-items-center",3,"id",4,"ngIf"],[1,"tw-flex-grid-col","sm:tw-w-auto"],[1,"tw-flex","tw-items-center",3,"id"],[4,"ngFor","ngForOf"],["type","number","min","0","disabled","",1,"tw-form-control",3,"id","ngModel"],["type","number","min","0",1,"tw-form-control",3,"keydown","paste","ngModelChange","id","ngModel","disabled"],[1,"tw-form-text","tw-flex","tw-items-center",3,"id"],[1,"far","fa-clock","tw-mr-2","tw--mt-px"],[1,"tw-flex","tw-flex-wrap"],["class","tw-mr-2",4,"ngIf"],[1,"tw-mr-2"],[3,"click","ngClass","disabled"],["class","tw-mr-1",4,"ngIf"],[1,"tw-mr-1"]],template:function(S,re){1&S&&(n.j41(0,"div",0)(1,"div",1),n.DNE(2,T,2,2,"div",2)(3,O,2,3,"div",2)(4,U,12,12,"p",3),n.k0s(),n.j41(5,"div",4)(6,"ul",5),n.DNE(7,ie,6,9,"li",6),n.k0s()()()),2&S&&(n.R7$(2),n.Y8G("ngIf",re.disabled),n.R7$(),n.Y8G("ngIf",!re.disabled),n.R7$(),n.Y8G("ngIf",re.value>0||null==re.value&&re.allowNull),n.R7$(2),n.FS9("id",re.id+"-buttonList"),n.R7$(),n.Y8G("ngForOf",re.buttons))},dependencies:[m.YU,m.Sq,m.bT,e.me,e.Q0,e.BC,e.VZ,e.vS,u.D9],encapsulation:2})}}return L})()},967:(nt,fe,h)=>{"use strict";h.d(fe,{M:()=>C});var n=h(177),e=h(7005),y=h(9417),p=h(1780),w=h(4438);let C=(()=>{class m{static{this.\u0275fac=function(T){return new(T||m)}}static{this.\u0275mod=w.$C({type:m})}static{this.\u0275inj=w.G2t({imports:[n.MD,y.YN,y.X1,e.XE,p.h]})}}return m})()},8114:(nt,fe,h)=>{"use strict";h.d(fe,{B:()=>f});var n=h(4438),e=h(177),y=h(9216),p=h(1780);const w=["confirmModal"],C=[[["","body",""]]],m=["[body]"];function u(T,O){1&T&&n.nrm(0,"span",9)}let f=(()=>{class T{constructor(){this.type="narrow",this.buttonType="success",this.okText="Common.Ok",this.cancelText="Common.Cancel",this.inFlight=!1,this.confirm=new n.bkB,this.close=new n.bkB}get isShown(){return this.confirmModal.isShown}show(){this.confirmModal.show()}hide(){this.confirmModal.hide()}ok(){this.confirmModal.hideModal(),this.confirm.emit()}closeModal(){this.confirmModal.hideModal(),this.close.emit()}static{this.\u0275fac=function(b){return new(b||T)}}static{this.\u0275cmp=n.VBU({type:T,selectors:[["app-confirmation-modal"]],viewQuery:function(b,M){if(1&b&&n.GBs(w,7),2&b){let k;n.mGM(k=n.lsd())&&(M.confirmModal=k.first)}},inputs:{modalId:"modalId",type:"type",buttonType:"buttonType",title:"title",okText:"okText",cancelText:"cancelText",inFlight:"inFlight"},outputs:{confirm:"confirm",close:"close"},ngContentSelectors:m,decls:14,vars:16,consts:[["confirmModal",""],[3,"close","modalId","title","type"],["body",""],["footer",""],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["data-dismiss","modal",3,"click","id","disabled"],["class","fad fa-spinner-third fa-spin tw-text-secondary-500 tw-mr-2 tw-ml-2",4,"ngIf"],["data-dismiss","modal",1,"tw-btn-link","tw--mr-4",3,"click","id"],[1,"fad","fa-spinner-third","fa-spin","tw-text-secondary-500","tw-mr-2","tw-ml-2"]],template:function(b,M){if(1&b){const k=n.RV6();n.NAR(C),n.j41(0,"app-simple-modal",1,0),n.bIt("close",function(){return n.eBV(k),n.Njj(M.close.emit())}),n.qex(2,2),n.SdG(3),n.bVm(),n.qex(4,3),n.j41(5,"div",4)(6,"div",5)(7,"button",6),n.bIt("click",function(){return n.eBV(k),n.Njj(M.ok())}),n.EFF(8),n.nI1(9,"translate"),n.DNE(10,u,1,0,"span",7),n.k0s()(),n.j41(11,"button",8),n.bIt("click",function(){return n.eBV(k),n.Njj(M.closeModal())}),n.EFF(12),n.nI1(13,"translate"),n.k0s()(),n.bVm(),n.k0s()}2&b&&(n.Y8G("modalId",M.modalId)("title",M.title)("type",M.type),n.R7$(7),n.ZvI("tw-btn",M.buttonType?"-"+M.buttonType:"",""),n.Y8G("id",M.modalId+"-confirmBtn")("disabled",M.inFlight),n.R7$(),n.SpI(" ",n.bMT(9,12,M.okText)," "),n.R7$(2),n.Y8G("ngIf",M.inFlight),n.R7$(),n.Y8G("id",M.modalId+"-cancelBtn"),n.R7$(),n.JRh(n.bMT(13,14,M.cancelText)))},dependencies:[e.bT,y.R,p.D9],encapsulation:2})}}return T})()},7778:(nt,fe,h)=>{"use strict";h.d(fe,{w:()=>O});var n=h(4438),e=h(177),y=h(8114),p=h(1780);const w=["deleteClientModal"];function C(F,b){1&F&&(n.j41(0,"p",6),n.EFF(1),n.nI1(2,"translate"),n.k0s()),2&F&&(n.R7$(),n.JRh(n.bMT(2,1,"Common.Delete.AreYouSureSimple3")))}function m(F,b){if(1&F&&(n.j41(0,"p",6),n.EFF(1),n.nI1(2,"translate"),n.j41(3,"strong"),n.EFF(4),n.k0s(),n.EFF(5,"?"),n.k0s()),2&F){const M=n.XpG();n.R7$(),n.SpI("",n.bMT(2,2,"Common.Delete.AreYouSureSimple")," "),n.R7$(3),n.JRh(M.resourceName)}}function u(F,b){1&F&&(n.nrm(0,"p",7),n.nI1(1,"translate")),2&F&&n.Y8G("innerHTML",n.bMT(1,1,"Common.Delete.Warning"),n.npT)}function f(F,b){if(1&F&&(n.nrm(0,"p",7),n.nI1(1,"translate")),2&F){const M=n.XpG();n.Y8G("innerHTML",n.bMT(1,1,M.danger),n.npT)}}function T(F,b){if(1&F&&(n.nrm(0,"p",8),n.nI1(1,"translate")),2&F){const M=n.XpG();n.Y8G("innerHTML",n.bMT(1,1,M.warning),n.npT)}}let O=(()=>{class F{constructor(){this.resourceName=null,this.warning=null,this.danger=null,this.destructive=!0,this.delete=new n.bkB,this.close=new n.bkB}get isShown(){return this.deleteModal.isShown}show(){this.deleteModal.show()}hide(){this.deleteModal.hide()}closeModal(){this.deleteModal.hide(),this.close.emit(null)}static{this.\u0275fac=function(k){return new(k||F)}}static{this.\u0275cmp=n.VBU({type:F,selectors:[["app-delete-confirmation-modal"]],viewQuery:function(k,N){if(1&k&&n.GBs(w,7),2&k){let G;n.mGM(G=n.lsd())&&(N.deleteModal=G.first)}},inputs:{modalId:"modalId",resourceName:"resourceName",warning:"warning",danger:"danger",destructive:"destructive"},outputs:{delete:"delete",close:"close"},decls:8,vars:11,consts:[["deleteClientModal",""],[3,"confirm","modalId","type","buttonType","title","okText","cancelText"],["body",""],["class","tw-mb-4",4,"ngIf"],["class","tw-pill-danger",3,"innerHTML",4,"ngIf"],["class","tw-pill-warning",3,"innerHTML",4,"ngIf"],[1,"tw-mb-4"],[1,"tw-pill-danger",3,"innerHTML"],[1,"tw-pill-warning",3,"innerHTML"]],template:function(k,N){if(1&k){const G=n.RV6();n.j41(0,"app-confirmation-modal",1,0),n.bIt("confirm",function(){return n.eBV(G),n.Njj(N.delete.emit())}),n.qex(2,2),n.DNE(3,C,3,3,"p",3)(4,m,6,4,"p",3)(5,u,2,3,"p",4)(6,f,2,3,"p",4)(7,T,2,3,"p",5),n.bVm(),n.k0s()}2&k&&(n.Y8G("modalId",N.modalId)("type","danger")("buttonType","danger")("title","Common.Delete.Confirm")("okText","Common.Delete.Title")("cancelText","Common.Delete.No"),n.R7$(3),n.Y8G("ngIf",!N.resourceName),n.R7$(),n.Y8G("ngIf",N.resourceName),n.R7$(),n.Y8G("ngIf",N.destructive&&null===N.warning&&null===N.danger),n.R7$(),n.Y8G("ngIf",N.destructive&&N.danger),n.R7$(),n.Y8G("ngIf",N.destructive&&N.warning))},dependencies:[e.bT,y.B,p.D9],encapsulation:2})}}return F})()},4367:(nt,fe,h)=>{"use strict";h.d(fe,{N:()=>m});var n=h(177),e=h(1780),y=h(779),p=h(1993),w=h(4193),C=h(4438);let m=(()=>{class u{static{this.\u0275fac=function(O){return new(O||u)}}static{this.\u0275mod=C.$C({type:u})}static{this.\u0275inj=C.G2t({imports:[n.MD,e.h,p.E,w.c,e.h,y.Q_]})}}return u})()},3899:(nt,fe,h)=>{"use strict";h.d(fe,{G:()=>L});var n=h(4438),e=h(177),y=h(1413),p=h(3726),w=h(6977),C=h(6354),m=h(9172),u=h(5964),f=h(3993);const T=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");var b=h(1258),M=h(7185),k=h(4754),N=h(1780);const G=["*"];function R(J,q){if(1&J){const S=n.RV6();n.j41(0,"button",16),n.bIt("click",function(){n.eBV(S);const K=n.XpG();return n.Njj(K.cancel())}),n.nrm(1,"span",17),n.j41(2,"span",18),n.EFF(3),n.nI1(4,"translate"),n.k0s()()}2&J&&(n.R7$(3),n.JRh(n.bMT(4,1,"Common.Close")))}function j(J,q){if(1&J){const S=n.RV6();n.j41(0,"button",19),n.bIt("click",function(){n.eBV(S);const K=n.XpG();return n.Njj(K.save())}),n.EFF(1),n.nI1(2,"translate"),n.k0s()}if(2&J){const S=n.XpG();n.Y8G("disabled",S.addDisabled),n.R7$(),n.SpI(" ",n.bMT(2,2,S.saveText)," ")}}function U(J,q){if(1&J){const S=n.RV6();n.j41(0,"button",20),n.bIt("click",function(){n.eBV(S);const K=n.XpG();return n.Njj(K.delete())}),n.EFF(1),n.nI1(2,"translate"),n.k0s()}if(2&J){const S=n.XpG();n.Y8G("disabled",S.deleteDisabled),n.R7$(),n.SpI(" ",n.bMT(2,2,S.deleteText)," ")}}function $(J,q){if(1&J){const S=n.RV6();n.j41(0,"div",21)(1,"button",22),n.bIt("click",function(){n.eBV(S);const K=n.XpG();return n.Njj(K.saveAndReAdd())}),n.EFF(2),n.nI1(3,"translate"),n.k0s()()}if(2&J){const S=n.XpG();n.R7$(),n.Y8G("disabled",S.addDisabled),n.R7$(),n.SpI(" ",n.bMT(3,2,S.saveAndReAddText)," ")}}function ie(J,q){if(1&J){const S=n.RV6();n.j41(0,"button",23),n.bIt("click",function(){n.eBV(S);const K=n.XpG();return n.Njj(K.cancel())}),n.EFF(1),n.nI1(2,"translate"),n.k0s()}2&J&&(n.R7$(),n.SpI(" ",n.bMT(2,1,"Common.Cancel")," "))}function se(J,q){1&J&&n.nrm(0,"div",24)}let L=(()=>{class J{constructor(S,re,K){this.document=S,this.elRef=re,this.modalService=K,this.hideCancel=!1,this.modalType=M.q.Default,this.saveText="Common.Save",this.saveAndReAddText="Common.SaveAndAdd",this.deleteText="Common.Delete.Title",this.addDisabled=!1,this.deleteDisabled=!1,this.onSave=new n.bkB,this.onSaveAndReAdd=new n.bkB,this.onDelete=new n.bkB,this.onCancel=new n.bkB,this.isVisible=!1,this.isVisible$=new y.B,this.showBackdrop=!1}ngOnInit(){this.modalService.add(this),this.element=this.elRef.nativeElement.firstChild,this.actions&&(this.canDelete=this.actions.includes(b.N.Delete),this.canSave=this.actions.includes(b.N.Save),this.canSaveAndReAdd=this.actions.includes(b.N.SaveAndReAdd))}delete(){this.onDelete.emit()}save(){this.onSave.emit(),this.modalService.hideById(this.modalId)}saveAndReAdd(){this.onSaveAndReAdd.emit()}show(){this.isVisible=!0,function O(J,q){const S=function F(J){const q=Array.from(J.querySelectorAll(T)).filter(S=>-1!==S.tabIndex);return[q[0],q[q.length-1]]}(J),[re,K]=S,me=(0,p.R)(J,"focusin").pipe((0,w.Q)(q),(0,C.T)(Ne=>Ne.target),(0,m.Z)(re));re.focus(),(0,p.R)(J,"keydown").pipe((0,w.Q)(q),(0,u.p)(Ne=>"Tab"===Ne.key),(0,f.E)(me)).subscribe(([Ne,De])=>{(De===re||De===J)&&Ne.shiftKey&&(K.focus(),Ne.preventDefault()),De===K&&!Ne.shiftKey&&(re.focus(),Ne.preventDefault())}),(0,p.R)(document,"click").pipe((0,w.Q)(q),(0,f.E)(me),(0,C.T)(Ne=>Ne[1])).subscribe(Ne=>{Ne.focus()})}(this.element,this.isVisible$),1===this.modalService.visibleModals()&&(this.showBackdrop=!0,this.document.body.classList.add("tw-overflow-hidden")),(0,p.R)(this.document,"keydown").pipe((0,w.Q)(this.isVisible$),(0,u.p)(S=>"Esc"===S.key)).subscribe(()=>{this.isVisible&&this.cancel()})}cancel(){!1===this.hideCancel&&this.onCancel.emit()}hide(){this.isVisible=!1,this.isVisible$.next(),this.modalService.visibleModals()<1&&(this.showBackdrop=!1,this.document.body.classList.remove("tw-overflow-hidden"))}ngOnDestroy(){this.modalService.hideById(this.modalId),this.modalService.remove(this)}static{this.\u0275fac=function(re){return new(re||J)(n.rXU(e.qQ),n.rXU(n.aKT),n.rXU(k.B))}}static{this.\u0275cmp=n.VBU({type:J,selectors:[["app-custom-modal"]],inputs:{modalId:"modalId",title:"title",actions:"actions",hideCancel:"hideCancel",modalType:"modalType",saveText:"saveText",saveAndReAddText:"saveAndReAddText",deleteText:"deleteText",addDisabled:"addDisabled",deleteDisabled:"deleteDisabled"},outputs:{onSave:"onSave",onSaveAndReAdd:"onSaveAndReAdd",onDelete:"onDelete",onCancel:"onCancel"},ngContentSelectors:G,decls:19,vars:15,consts:[["role","dialog","aria-modal","true","tabindex","-1",1,"modal"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title",3,"id"],["type","button","class","modal-close",3,"click",4,"ngIf"],[1,"modal-body","scrollbars"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","save","class","tw-btn-success tw-mr-3","type","submit",3,"disabled","click",4,"ngIf"],["id","delete","class","tw-btn-danger tw-mr-3","type","submit",3,"disabled","click",4,"ngIf"],["class","tw-hidden tw-mr-3 md:tw-block",4,"ngIf"],["class","tw-btn-link tw--mr-4",3,"click",4,"ngIf"],["id","backdrop","class","modal-backdrop show",4,"ngIf"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],["id","save","type","submit",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],["id","delete","type","submit",1,"tw-btn-danger","tw-mr-3",3,"click","disabled"],[1,"tw-hidden","tw-mr-3","md:tw-block"],["id","saveAndReSubmit","type","submit",1,"tw-btn",3,"click","disabled"],[1,"tw-btn-link","tw--mr-4",3,"click"],["id","backdrop",1,"modal-backdrop","show"]],template:function(re,K){1&re&&(n.NAR(),n.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),n.EFF(5),n.nI1(6,"translate"),n.k0s(),n.DNE(7,R,5,3,"button",5),n.k0s(),n.j41(8,"div",6),n.SdG(9),n.k0s(),n.nrm(10,"div",7),n.j41(11,"div",8)(12,"div",9)(13,"div",10),n.DNE(14,j,3,4,"button",11)(15,U,3,4,"button",12)(16,$,4,4,"div",13),n.k0s(),n.DNE(17,ie,3,3,"button",14),n.k0s()()()()(),n.DNE(18,se,1,0,"div",15)),2&re&&(n.AVh("show",K.isVisible),n.BMQ("aria-hidden",!K.isVisible)("aria-labelledby","modal-title-"+K.modalId),n.R7$(4),n.Mz_("id","modal-title-",K.modalId,""),n.R7$(),n.JRh(n.bMT(6,13,K.title)),n.R7$(2),n.Y8G("ngIf",!K.hideCancel),n.R7$(7),n.Y8G("ngIf",K.canSave),n.R7$(),n.Y8G("ngIf",K.canDelete),n.R7$(),n.Y8G("ngIf",K.canSaveAndReAdd),n.R7$(),n.Y8G("ngIf",!K.hideCancel),n.R7$(),n.Y8G("ngIf",K.showBackdrop))},dependencies:[e.bT,N.D9],encapsulation:2})}}return J})()},4754:(nt,fe,h)=>{"use strict";h.d(fe,{B:()=>y});var n=h(177),e=h(4438);let y=(()=>{class p{constructor(C){this.document=C,this.modalList=[]}add(C){this.modalList.push(C)}remove(C){const m=this.modalList.indexOf(C);this.modalList.splice(m)}visibleModals(){return this.modalList.filter(C=>C.isVisible).length}showById(C,m){null!=m&&null!=m.nativeElement&&(this.lastClickedEl=m.nativeElement),this.modalList.find(f=>f.modalId===C).show()}hideById(C){const m=this.modalList.find(u=>u.modalId===C);m&&(m.hide(),this.focusLastEl())}focusLastEl(){this.lastClickedEl&&this.lastClickedEl.focus()}static{this.\u0275fac=function(m){return new(m||p)(e.KVO(n.qQ))}}static{this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})()},9216:(nt,fe,h)=>{"use strict";h.d(fe,{R:()=>u});var n=h(4438),e=h(779),y=h(1780);const p=["simpleModal"],w=[[["","body",""]],[["","footer",""]]],C=["[body]","[footer]"],m=()=>({backdrop:"static",animated:!1});let u=(()=>{class f{constructor(){this.type=null,this.inFlight=!1,this.close=new n.bkB}get isShown(){return this.simpleModal.isShown}get modalType(){return this.type?` modal-dialog--${this.type}`:""}show(){this.simpleModal.show()}hide(){this.simpleModal.hide()}hideModal(){this.simpleModal.hide()}closeModal(){this.simpleModal.hide(),this.close.emit()}static{this.\u0275fac=function(F){return new(F||f)}}static{this.\u0275cmp=n.VBU({type:f,selectors:[["app-simple-modal"]],viewQuery:function(F,b){if(1&F&&n.GBs(p,7),2&F){let M;n.mGM(M=n.lsd())&&(b.simpleModal=M.first)}},inputs:{modalId:"modalId",type:"type",title:"title",inFlight:"inFlight"},outputs:{close:"close"},ngContentSelectors:C,decls:17,vars:13,consts:[["simpleModal","bs-modal"],["bsModal","","bsModal","","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"id","config"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"modal-close",3,"click","id"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","tw-text-center","scrollbars"],[1,"modal-footer"]],template:function(F,b){if(1&F){const M=n.RV6();n.NAR(w),n.j41(0,"div",1,0)(2,"div")(3,"div",2)(4,"div",3)(5,"h5",4),n.EFF(6),n.nI1(7,"translate"),n.k0s(),n.j41(8,"button",5),n.bIt("click",function(){return n.eBV(M),n.Njj(b.closeModal())}),n.nrm(9,"span",6),n.j41(10,"span",7),n.EFF(11),n.nI1(12,"translate"),n.k0s()()(),n.j41(13,"div",8),n.SdG(14),n.k0s(),n.j41(15,"div",9),n.SdG(16,1),n.k0s()()()()}if(2&F){let M;n.Y8G("id",null!==(M=b.modalId)&&void 0!==M?M:"simpleModel")("config",n.lJ4(12,m)),n.R7$(2),n.ZvI("modal-dialog",b.modalType,""),n.R7$(4),n.JRh(n.bMT(7,8,b.title)),n.R7$(2),n.Y8G("id",b.modalId+"-closeBtn"),n.R7$(3),n.JRh(n.bMT(12,10,"Common.Close"))}},dependencies:[e.hZ,y.D9],encapsulation:2})}}return f})()},7156:(nt,fe,h)=>{"use strict";h.d(fe,{B:()=>m});var n=h(4438),e=h(177),y=h(1780);function p(u,f){if(1&u&&(n.j41(0,"span",6),n.EFF(1),n.k0s()),2&u){const T=n.XpG();n.R7$(),n.JRh(T.pageXofX)}}function w(u,f){1&u&&(n.j41(0,"span",7),n.EFF(1,"\u2022"),n.k0s())}function C(u,f){if(1&u){const T=n.RV6();n.j41(0,"nav",8),n.nI1(1,"translate"),n.j41(2,"ul",9)(3,"li")(4,"button",10),n.bIt("click",function(){n.eBV(T);const F=n.XpG();return n.Njj(F.goToPage(1))}),n.j41(5,"span"),n.nrm(6,"span",11),n.k0s(),n.j41(7,"span",12),n.EFF(8),n.nI1(9,"translate"),n.k0s()()(),n.j41(10,"li",13)(11,"button",14),n.bIt("click",function(){n.eBV(T);const F=n.XpG();return n.Njj(F.goToPage(F.currentPage-1))}),n.j41(12,"span"),n.nrm(13,"span",15),n.k0s(),n.j41(14,"span",12),n.EFF(15),n.nI1(16,"translate"),n.k0s()()(),n.j41(17,"li",13)(18,"button",16),n.bIt("click",function(){n.eBV(T);const F=n.XpG();return n.Njj(F.goToPage(F.currentPage+1))}),n.j41(19,"span"),n.nrm(20,"span",17),n.k0s(),n.j41(21,"span",12),n.EFF(22),n.nI1(23,"translate"),n.k0s()()(),n.j41(24,"li",13)(25,"button",18),n.bIt("click",function(){n.eBV(T);const F=n.XpG();return n.Njj(F.goToPage(F.lastPage))}),n.j41(26,"span"),n.nrm(27,"span",19),n.k0s(),n.j41(28,"span",12),n.EFF(29),n.nI1(30,"translate"),n.k0s()()()()()}if(2&u){const T=n.XpG();n.BMQ("aria-label",n.bMT(1,9,"Nav.Page")),n.R7$(4),n.Y8G("disabled",1==T.currentPage),n.R7$(4),n.JRh(n.bMT(9,11,"Nav.First")),n.R7$(3),n.Y8G("disabled",1==T.currentPage),n.R7$(4),n.JRh(n.bMT(16,13,"Nav.Previous")),n.R7$(3),n.Y8G("disabled",T.currentPage==T.lastPage),n.R7$(4),n.JRh(n.bMT(23,15,"Nav.Next")),n.R7$(3),n.Y8G("disabled",T.currentPage==T.lastPage),n.R7$(4),n.JRh(n.bMT(30,17,"Nav.Last"))}}let m=(()=>{class u{constructor(T,O){this.translate=T,this.decimalPipe=O,this.onGoToPage=new n.bkB}ngOnInit(){this.setupDefaults(),this.setupPages()}setupDefaults(){this.totalResults=void 0===this.totalResults?0:this.totalResults,this.currentPage=void 0===this.currentPage?1:this.currentPage,this.lastPage=void 0===this.lastPage?1:this.lastPage,this.hidePager=void 0!==this.hidePager}setupPages(){let T=this.translate.instant("Nav.PageXofX");T=T.replace("{0}",this.decimalPipe.transform(this.currentPage)),T=T.replace("{1}",this.decimalPipe.transform(this.lastPage)),this.pageXofX=T}goToPage(T){void 0!==this.onGoToPage&&(T<1?T=1:T>this.lastPage&&(T=this.lastPage),this.onGoToPage.emit(T))}static{this.\u0275fac=function(O){return new(O||u)(n.rXU(y.c$),n.rXU(e.QX))}}static{this.\u0275cmp=n.VBU({type:u,selectors:[["app-pager"]],inputs:{totalResults:"totalResults",currentPage:"currentPage",lastPage:"lastPage",hidePager:"hidePager"},outputs:{onGoToPage:"onGoToPage"},features:[n.Jv_([e.QX])],decls:9,vars:9,consts:[[1,"tw-flex","tw-flex-wrap","tw-items-center","tw-justify-between","tw-mt-2"],[1,"tw-flex","tw-items-center","tw-justify-center","tw-w-full","tw-text-xs","tw-text-grey-700","tw-px-3","tw-py-2","sm:tw-w-auto"],["class","tw-hidden md:tw-inline",4,"ngIf"],["class","tw-hidden tw-text-base tw-mx-2 tw-opacity-50 md:tw-inline","aria-hidden","true",4,"ngIf"],["id","pager-total-results"],["class","tw-mt-2 tw-mx-auto sm:mt-0 sm:tw-mr-0",4,"ngIf"],[1,"tw-hidden","md:tw-inline"],["aria-hidden","true",1,"tw-hidden","tw-text-base","tw-mx-2","tw-opacity-50","md:tw-inline"],[1,"tw-mt-2","tw-mx-auto","sm:mt-0","sm:tw-mr-0"],[1,"tw-flex","tw-items-center","tw-justify-center","tw-bg-white","tw-rounded"],["id","pagerFirstPage",1,"tw-btn-link",3,"click","disabled"],["aria-hidden","true",1,"fas","fa-angle-double-left"],[1,"sr-only"],[1,"tw-border-l-2","tw-border-grey-100"],["id","pagerPrevPage",1,"tw-btn-link",3,"click","disabled"],["aria-hidden","true",1,"fas","fa-angle-left"],["id","pagerNextPage",1,"tw-btn-link",3,"click","disabled"],["aria-hidden","true",1,"fas","fa-angle-right"],["id","pagerLastPage",1,"tw-btn-link",3,"click","disabled"],["aria-hidden","true",1,"fas","fa-angle-double-right"]],template:function(O,F){1&O&&(n.j41(0,"div",0)(1,"div",1),n.DNE(2,p,2,1,"span",2)(3,w,2,0,"span",3),n.j41(4,"span",4),n.EFF(5),n.nI1(6,"number"),n.nI1(7,"translate"),n.k0s()(),n.DNE(8,C,31,19,"nav",5),n.k0s()),2&O&&(n.R7$(2),n.Y8G("ngIf",!F.hidePager),n.R7$(),n.Y8G("ngIf",!F.hidePager),n.R7$(2),n.Lme("",n.bMT(6,5,F.totalResults)," ",n.bMT(7,7,"Nav.ResultsFound"),""),n.R7$(3),n.Y8G("ngIf",!F.hidePager))},dependencies:[e.bT,e.QX,y.D9],encapsulation:2})}}return u})()},5731:(nt,fe,h)=>{"use strict";h.d(fe,{i:()=>C});var n=h(177),e=h(1583),y=h(1683),p=h(1780),w=h(4438);let C=(()=>{class m{static{this.\u0275fac=function(T){return new(T||m)}}static{this.\u0275mod=w.$C({type:m})}static{this.\u0275inj=w.G2t({imports:[n.MD,e.iI,y.Y,p.h]})}}return m})()},2292:(nt,fe,h)=>{"use strict";h.d(fe,{L:()=>m});var n=h(4438),e=h(7263),y=h(177);function p(u,f){if(1&u&&(n.j41(0,"div",5)(1,"span",6),n.EFF(2),n.k0s()()),2&u){const T=n.XpG().$implicit,O=n.XpG();n.BMQ("aria-label",O.enumValues),n.R7$(2),n.JRh(T)}}function w(u,f){if(1&u){const T=n.RV6();n.j41(0,"button",7),n.bIt("click",function(){n.eBV(T);const F=n.XpG().index,b=n.XpG();return n.Njj(b.deleteValue(F))}),n.nrm(1,"span",8),n.j41(2,"span",6),n.EFF(3),n.k0s()()}if(2&u){const T=n.XpG().$implicit,O=n.XpG();n.BMQ("aria-label",O.enumValues),n.R7$(3),n.JRh(T)}}function C(u,f){if(1&u&&(n.j41(0,"li",2),n.DNE(1,p,3,2,"div",3)(2,w,4,2,"button",4),n.k0s()),2&u){const T=n.XpG();n.R7$(),n.Y8G("ngIf",T.readonly),n.R7$(),n.Y8G("ngIf",!T.readonly)}}let m=(()=>{class u{get id(){return this._id}set id(T){this._id=T||(0,e.Nl)()}constructor(){this.readonly=!1,this.onDelete=new n.bkB}ngOnInit(){}deleteValue(T){this.readonly||this.onDelete.emit(T)}static{this.\u0275fac=function(O){return new(O||u)}}static{this.\u0275cmp=n.VBU({type:u,selectors:[["app-pill-list"]],inputs:{id:"id",values:"values",readonly:"readonly"},outputs:{onDelete:"onDelete"},decls:2,vars:2,consts:[[3,"id"],["class","tw-pill",4,"ngFor","ngForOf"],[1,"tw-pill"],["class","tw-btn-small tw-rounded tw-pl-1",4,"ngIf"],["class","tw-btn-small tw-rounded tw-pl-1",3,"click",4,"ngIf"],[1,"tw-btn-small","tw-rounded","tw-pl-1"],[1,"tw-pl-1"],[1,"tw-btn-small","tw-rounded","tw-pl-1",3,"click"],["aria-hidden","true",1,"fas","fa-times","tw-mr-1"]],template:function(O,F){1&O&&(n.j41(0,"ul",0),n.DNE(1,C,3,2,"li",1),n.k0s()),2&O&&(n.FS9("id",F.id+"-enumValues-select"),n.R7$(),n.Y8G("ngForOf",F.values))},dependencies:[y.Sq,y.bT]})}}return u})()},3843:(nt,fe,h)=>{"use strict";h.d(fe,{G:()=>y});var n=h(177),e=h(4438);let y=(()=>{class p{static{this.\u0275fac=function(m){return new(m||p)}}static{this.\u0275mod=e.$C({type:p})}static{this.\u0275inj=e.G2t({imports:[n.MD]})}}return p})()},6843:(nt,fe,h)=>{"use strict";h.d(fe,{l:()=>T});var n=h(177),e=h(1683),y=h(1780),p=h(8251),w=h(4193),C=h(4367),m=h(9417),u=h(8389),f=h(4438);let T=(()=>{class O{static{this.\u0275fac=function(M){return new(M||O)}}static{this.\u0275mod=f.$C({type:O})}static{this.\u0275inj=f.G2t({imports:[n.MD,m.YN,e.Y,y.h,p.h,w.c,C.N,u.w]})}}return O})()},8762:(nt,fe,h)=>{"use strict";h.d(fe,{O:()=>q});var n=h(6303),e=h(1088),y=h(4438),p=h(177),w=h(1780);function C(S,re){if(1&S&&(y.j41(0,"div")(1,"p",4),y.EFF(2),y.k0s()()),2&S){const K=y.XpG(3);y.R7$(2),y.JRh(K.displayValue)}}function m(S,re){if(1&S&&(y.j41(0,"div"),y.DNE(1,C,3,1,"div",2),y.k0s()),2&S){const K=y.XpG(2),me=y.sdS(2);y.R7$(),y.Y8G("ngIf",K.displayValue)("ngIfElse",me)}}function u(S,re){if(1&S&&(y.j41(0,"div",10),y.EFF(1),y.j41(2,"small",11),y.EFF(3),y.k0s()()),2&S){const K=y.XpG(),me=K.$implicit;y.Y8G("id","multiMainText"+K.i),y.R7$(),y.SpI(" ",me.MainText," "),y.R7$(2),y.JRh(me.HelpText)}}function f(S,re){if(1&S&&(y.j41(0,"li",8),y.DNE(1,u,4,3,"div",9),y.k0s()),2&S){const K=re.$implicit;y.XpG(3);const me=y.sdS(2);y.R7$(),y.Y8G("ngIf",K.MainText)("ngIfElse",me)}}function T(S,re){if(1&S&&(y.j41(0,"div")(1,"div",5)(2,"ul",6),y.DNE(3,f,2,2,"li",7),y.k0s()()()),2&S){const K=y.XpG(2);y.R7$(3),y.Y8G("ngForOf",K.filteredValues)}}function O(S,re){1&S&&y.nrm(0,"div")}function F(S,re){if(1&S&&(y.j41(0,"p",22),y.EFF(1),y.nI1(2,"translate"),y.k0s()),2&S){const K=y.XpG(5);y.R7$(),y.Lme(" ",K.timeSpan.years," ",y.bMT(2,2,K.displayTimeSpanUnit(K.timeSpan.years,"Year"))," ")}}function b(S,re){if(1&S&&(y.j41(0,"p",23),y.EFF(1),y.nI1(2,"translate"),y.k0s()),2&S){const K=y.XpG(5);y.R7$(),y.Lme(" ",K.timeSpan.months," ",y.bMT(2,2,K.displayTimeSpanUnit(K.timeSpan.months,"Month"))," ")}}function M(S,re){if(1&S&&(y.j41(0,"p",24),y.EFF(1),y.nI1(2,"translate"),y.k0s()),2&S){const K=y.XpG(5);y.R7$(),y.Lme(" ",K.timeSpan.weeks," ",y.bMT(2,2,K.displayTimeSpanUnit(K.timeSpan.weeks,"Week"))," ")}}function k(S,re){if(1&S&&(y.j41(0,"p",25),y.EFF(1),y.nI1(2,"translate"),y.k0s()),2&S){const K=y.XpG(5);y.R7$(),y.Lme(" ",K.timeSpan.days," ",y.bMT(2,2,K.displayTimeSpanUnit(K.timeSpan.days,"Day"))," ")}}function N(S,re){if(1&S&&(y.j41(0,"p",26),y.EFF(1),y.nI1(2,"translate"),y.k0s()),2&S){const K=y.XpG(5);y.R7$(),y.Lme(" ",K.timeSpan.hours," ",y.bMT(2,2,K.displayTimeSpanUnit(K.timeSpan.hours,"Hour"))," ")}}function G(S,re){if(1&S&&(y.j41(0,"p",27),y.EFF(1),y.nI1(2,"translate"),y.k0s()),2&S){const K=y.XpG(5);y.R7$(),y.Lme(" ",K.timeSpan.minutes," ",y.bMT(2,2,K.displayTimeSpanUnit(K.timeSpan.minutes,"Minute"))," ")}}function R(S,re){if(1&S&&(y.j41(0,"span",28),y.EFF(1),y.nI1(2,"translate"),y.k0s()),2&S){const K=y.XpG(5);y.R7$(),y.Lme(" ",K.timeSpan.seconds," ",y.bMT(2,2,K.displayTimeSpanUnit(K.timeSpan.seconds,"Second"))," ")}}function j(S,re){if(1&S&&(y.j41(0,"div")(1,"div",13),y.DNE(2,F,3,4,"p",14)(3,b,3,4,"p",15)(4,M,3,4,"p",16)(5,k,3,4,"p",17)(6,N,3,4,"p",18)(7,G,3,4,"p",19)(8,R,3,4,"span",20),y.k0s(),y.j41(9,"small",21),y.EFF(10),y.k0s()()),2&S){const K=y.XpG(4);y.R7$(2),y.Y8G("ngIf",K.timeSpan.years>0),y.R7$(),y.Y8G("ngIf",K.timeSpan.months>0),y.R7$(),y.Y8G("ngIf",K.timeSpan.weeks>0),y.R7$(),y.Y8G("ngIf",K.timeSpan.days>0),y.R7$(),y.Y8G("ngIf",K.timeSpan.hours>0),y.R7$(),y.Y8G("ngIf",K.timeSpan.minutes>0),y.R7$(),y.Y8G("ngIf",K.timeSpan.seconds>0),y.R7$(2),y.JRh(K.values[0].MainText)}}function U(S,re){1&S&&(y.j41(0,"div")(1,"p",29),y.EFF(2),y.nI1(3,"translate"),y.k0s()()),2&S&&(y.R7$(2),y.Lme("",0," ",y.bMT(3,2,"Clients.Tokens.Durations.Seconds"),""))}function $(S,re){1&S&&(y.j41(0,"div")(1,"p",30),y.EFF(2),y.nI1(3,"translate"),y.k0s()()),2&S&&(y.R7$(2),y.JRh(y.bMT(3,1,"Clients.Tokens.Durations.Unlimited")))}function ie(S,re){if(1&S&&y.DNE(0,j,11,8,"div",3)(1,U,4,4,"div",3)(2,$,4,3,"div",3),2&S){const K=y.XpG(3);y.Y8G("ngIf","Unlimited"!=K.values[0].MainText&&0!==K.values[0].MainText&&"0"!==K.values[0].MainText),y.R7$(),y.Y8G("ngIf",0===K.values[0].MainText||"0"===K.values[0].MainText),y.R7$(),y.Y8G("ngIf","Unlimited"==K.values[0].MainText)}}function se(S,re){if(1&S&&(y.j41(0,"div"),y.DNE(1,O,1,0,"div",12)(2,ie,3,3,"ng-template",null,1,y.C5r),y.k0s()),2&S){const K=y.sdS(3),me=y.XpG(2),Ne=y.sdS(2);y.R7$(),y.Y8G("ngIf",null==me.values[0].MainText)("ngIfThen",Ne)("ngIfElse",K)}}function L(S,re){if(1&S&&(y.j41(0,"div"),y.DNE(1,m,2,2,"div",3)(2,T,4,1,"div",3)(3,se,4,3,"div",3),y.k0s()),2&S){const K=y.XpG();y.R7$(),y.Y8G("ngIf",K.fieldType==K.ReadOnlyFieldType.Single||K.fieldType==K.ReadOnlyFieldType.CommaSeparated),y.R7$(),y.Y8G("ngIf",K.fieldType==K.ReadOnlyFieldType.Multi),y.R7$(),y.Y8G("ngIf",K.fieldType==K.ReadOnlyFieldType.LifetimePicker)}}function J(S,re){if(1&S&&(y.j41(0,"div")(1,"p",31),y.EFF(2),y.nI1(3,"translate"),y.k0s()()),2&S){const K=y.XpG();y.R7$(2),y.SpI(" ",y.bMT(3,1,K.noValueString)," ")}}let q=(()=>{class S{constructor(){this.customNoValue=null,this.filteredValues=[]}ngOnChanges(K){this.initData()}ngOnInit(){this.noValueString=this.customNoValue?this.customNoValue:this.fieldType==n.t.Single||this.fieldType==n.t.LifetimePicker?"Common.NoValue":"Common.NoValues",this.initData()}initData(){!this.values||void 0===this.values||(this.filteredValues=this.values.filter(K=>null!=K),this.filteredValues.length<1)||(this.fieldType===n.t.Single?this.displayValue=this.filteredValues[0].MainText||null:this.fieldType===n.t.CommaSeparated?this.displayValue=this.filteredValues.map(K=>K.MainText).join(", ").trimEnd():this.fieldType===n.t.LifetimePicker&&null!==this.values[0].MainText&&"Unlimited"!==this.values[0].MainText&&(this.timeSpan=new e.Q(+this.values[0].MainText)))}displayTimeSpanUnit(K,me){return"Clients.Tokens.Durations."+me+(K>1?"s":"")}get ReadOnlyFieldType(){return n.t}static{this.\u0275fac=function(me){return new(me||S)}}static{this.\u0275cmp=y.VBU({type:S,selectors:[["app-readonly"]],inputs:{fieldType:"fieldType",values:"values",customNoValue:"customNoValue"},features:[y.OA$],decls:3,vars:2,consts:[["valuesEmptyBlock",""],["lifetimeHasValueBlock",""],[4,"ngIf","ngIfElse"],[4,"ngIf"],["id","singleCommaMainText"],[1,"tw-overflow-hidden","tw-overflow-y-auto","scrollbars","tw-max-h-readonly-field"],[1,"tw--mt-2"],["class","tw-pt-2",4,"ngFor","ngForOf"],[1,"tw-pt-2"],[3,"id",4,"ngIf","ngIfElse"],[3,"id"],["id","multiHelpText",1,"tw-block","tw-text-grey-700"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"tw-flex","tw-flex-wrap"],["class","tw-mr-2","id","lifetimeYears",4,"ngIf"],["class","tw-mr-2","id","lifetimeMonths",4,"ngIf"],["class","tw-mr-2","id","lifetimeWeeks",4,"ngIf"],["class","tw-mr-2","id","lifetimeDays",4,"ngIf"],["class","tw-mr-2","id","lifetimeHours",4,"ngIf"],["class","tw-mr-2","id","lifetimeMinutes",4,"ngIf"],["class","tw-mr-2","id","lifetimeSeconds",4,"ngIf"],["id","lifetimeSeconds",1,"tw-block","tw-text-grey-700"],["id","lifetimeYears",1,"tw-mr-2"],["id","lifetimeMonths",1,"tw-mr-2"],["id","lifetimeWeeks",1,"tw-mr-2"],["id","lifetimeDays",1,"tw-mr-2"],["id","lifetimeHours",1,"tw-mr-2"],["id","lifetimeMinutes",1,"tw-mr-2"],["id","lifetimeSeconds",1,"tw-mr-2"],["id","zero"],["id","unlimited"],["id","valuesUndefined",1,"tw-italic","tw-text-grey-400"]],template:function(me,Ne){if(1&me&&y.DNE(0,L,4,3,"div",2)(1,J,4,3,"ng-template",null,0,y.C5r),2&me){const De=y.sdS(2);y.Y8G("ngIf",(null==Ne.filteredValues?null:Ne.filteredValues.length)>0)("ngIfElse",De)}},dependencies:[p.Sq,p.bT,w.D9]})}}return S})()},7677:(nt,fe,h)=>{"use strict";h.d(fe,{N:()=>p});var n=h(177),e=h(1780),y=h(4438);let p=(()=>{class w{static{this.\u0275fac=function(u){return new(u||w)}}static{this.\u0275mod=y.$C({type:w})}static{this.\u0275inj=y.G2t({imports:[e.h,n.MD]})}}return w})()},2510:(nt,fe,h)=>{"use strict";h.d(fe,{S:()=>y});var n=h(4438),e=h(1780);let y=(()=>{class p{constructor(){this.placeholder=null,this.onSearch=new n.bkB}search(C){this.onSearch.emit(C.target.value)}static{this.\u0275fac=function(m){return new(m||p)}}static{this.\u0275cmp=n.VBU({type:p,selectors:[["app-search"]],inputs:{placeholder:"placeholder"},outputs:{onSearch:"onSearch"},decls:8,vars:4,consts:[["id","searchContainer",1,"tw-mb-2"],[1,"tw-flex","tw-bg-white","tw-border","tw-border-grey-300","tw-opacity-75","tw-cursor-text","tw-rounded","focus-within:tw-opacity-100","focus-within:tw-border-blue-400","tw-transition-all","tw-ease-in-out"],["for","searchTerm",1,"tw-flex","tw-items-center","tw-text-grey-500","tw-m-0","tw-ml-3"],["aria-hidden","true",1,"far","fa-search","tw-text-sm"],[1,"sr-only"],["id","searchTerm","type","text",1,"tw-bg-transparent","tw-border-0","tw-text-base","tw-leading-tight","tw-px-2","tw-py-2","tw-w-full","focus:tw-outline-none","tw-transition-all","tw-ease-in-out",3,"keyup","placeholder"]],template:function(m,u){1&m&&(n.j41(0,"div",0)(1,"div",1)(2,"label",2),n.nrm(3,"span",3),n.j41(4,"span",4),n.EFF(5),n.nI1(6,"translate"),n.k0s()(),n.j41(7,"input",5),n.bIt("keyup",function(T){return u.search(T)}),n.k0s()()()),2&m&&(n.R7$(5),n.JRh(n.bMT(6,2,"Common.Search")),n.R7$(2),n.Y8G("placeholder",u.placeholder))},dependencies:[e.D9],encapsulation:2})}}return p})()},3665:(nt,fe,h)=>{"use strict";h.d(fe,{t:()=>C});var n=h(9417),e=h(177),y=h(1583),p=h(1780),w=h(4438);let C=(()=>{class m{static{this.\u0275fac=function(T){return new(T||m)}}static{this.\u0275mod=w.$C({type:m})}static{this.\u0275inj=w.G2t({imports:[e.MD,y.iI,p.h,n.YN]})}}return m})()},9764:(nt,fe,h)=>{"use strict";h.d(fe,{s:()=>Qe});var n=h(467),e=h(4438),y=h(9417),p=h(9838),w=h(1413),C=h(7263),m=h(9767),u=h(4252),f=h(1258),T=h(4549),O=h(4754),F=h(9812),b=h(177),M=h(5404),k=h(8698),N=h(9550),G=h(8577),R=h(3899),j=h(6536),U=h(1780);const $=["certificateReader"],ie=["addCertificateBtn"],se=["showModalButton"],L=["secretPicker"],J=["certificateReaderNonModal"],q=["addCertificateBtnNonModal"];function S(Se,be){if(1&Se&&(e.j41(0,"option",43),e.EFF(1),e.k0s()),2&Se){const le=be.$implicit;e.Y8G("value",le.value),e.R7$(),e.JRh(le.value)}}function re(Se,be){1&Se&&(e.j41(0,"p",44),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&Se&&(e.R7$(),e.JRh(e.bMT(2,1,"Secret Picker.LastWarning")))}function K(Se,be){if(1&Se&&e.nrm(0,"app-date-time",45),2&Se){const le=e.XpG(2);e.Y8G("min",le.minDate)}}function me(Se,be){if(1&Se){const le=e.RV6();e.j41(0,"form",15)(1,"div",16)(2,"div",17)(3,"app-form-row",18)(4,"div",19)(5,"select",20),e.DNE(6,S,2,2,"option",21),e.nI1(7,"keyvalue"),e.k0s()()(),e.j41(8,"app-form-row",18)(9,"div",22)(10,"div",23),e.nrm(11,"input",24),e.j41(12,"button",25),e.bIt("click",function(){e.eBV(le);const Te=e.XpG();return e.Njj(Te.generateRandom())}),e.nrm(13,"span",26),e.j41(14,"span",27),e.EFF(15),e.nI1(16,"translate"),e.k0s()()(),e.nrm(17,"input",28),e.j41(18,"div",29)(19,"button",30,1),e.bIt("click",function(){e.eBV(le);const Te=e.XpG();return e.Njj(Te.openCertificateReaderModel())}),e.j41(21,"span"),e.EFF(22),e.nI1(23,"translate"),e.k0s()()(),e.DNE(24,re,3,3,"p",31),e.k0s()(),e.j41(25,"app-form-row",32)(26,"div",22)(27,"div",33)(28,"div",34)(29,"app-form-toggle",35)(30,"input",36),e.bIt("change",function(){e.eBV(le);const Te=e.XpG();return e.Njj(Te.toggleExpirationDateInput())}),e.k0s()()()(),e.DNE(31,K,1,1,"app-date-time",37),e.k0s()(),e.j41(32,"app-form-row",38),e.nrm(33,"textarea",39),e.k0s()()(),e.j41(34,"div",40)(35,"button",41),e.bIt("click",function(){e.eBV(le);const Te=e.XpG();return e.Njj(Te.addSecret())}),e.EFF(36),e.nI1(37,"translate"),e.k0s(),e.j41(38,"button",42),e.bIt("click",function(){e.eBV(le);const Te=e.XpG();return e.Njj(Te.resetForm())}),e.EFF(39),e.nI1(40,"translate"),e.k0s()()()}if(2&Se){const le=e.XpG();e.Y8G("formGroup",le.secretForm),e.R7$(3),e.Y8G("id","SecretType")("label","Common.Type"),e.R7$(3),e.Y8G("ngForOf",e.bMT(7,23,le.secretTypes)),e.R7$(2),e.Y8G("id","SecretValue")("label","Common.Value"),e.R7$(2),e.Y8G("hidden","Shared Secret"!==le.secretForm.controls.type.value),e.R7$(5),e.JRh(e.bMT(16,25,"Common.GenerateRandom")),e.R7$(2),e.Y8G("hidden","Shared Secret"===le.secretForm.controls.type.value),e.R7$(2),e.Y8G("hidden","Shared Secret"===le.secretForm.controls.type.value),e.R7$(3),e.JRh(e.bMT(23,27,"Common.ReadCertificate")),e.R7$(2),e.Y8G("ngIf",le.displayWarnings),e.R7$(),e.Y8G("id","SecretExpiry")("label","Common.ExpirationDate")("help","Common.Dates.UTCWarning"),e.R7$(4),e.Y8G("id","expirationDateEnabled"),e.R7$(2),e.Y8G("ngIf",le.expirationDateEnabled),e.R7$(),e.Y8G("id","SecretDescription")("label","Common.Description")("isLast",!0),e.R7$(3),e.Y8G("disabled",!le.secretForm.valid),e.R7$(),e.JRh(e.bMT(37,29,"Common.Add")),e.R7$(3),e.JRh(e.bMT(40,31,"Common.Clear"))}}function Ne(Se,be){1&Se&&e.nrm(0,"app-data-table-column",46),2&Se&&e.Y8G("prop","created")("date",!0)("title","Common.Created")("headClasses","tw-hidden tw-w-40 md:tw-table-cell")("cellClasses","tw-hidden md:tw-table-cell")}function De(Se,be){if(1&Se){const le=e.RV6();e.j41(0,"div",47,2)(2,"div",48)(3,"app-cert-reader",49,3),e.nI1(5,"translate"),e.nI1(6,"translate"),e.nI1(7,"translate"),e.nI1(8,"translate"),e.bIt("dataExists",function(Te){e.eBV(le);const st=e.XpG();return e.Njj(st.certificateDataLoaded(Te))}),e.k0s()(),e.j41(9,"div",40)(10,"button",50,4),e.bIt("click",function(){e.eBV(le);const Te=e.XpG();return e.Njj(Te.hideCertReaderNonModal(!0))}),e.EFF(12),e.nI1(13,"translate"),e.k0s(),e.j41(14,"button",42),e.bIt("click",function(){e.eBV(le);const Te=e.XpG();return e.Njj(Te.hideCertReaderNonModal(!1))}),e.EFF(15),e.nI1(16,"translate"),e.k0s()()()}2&Se&&(e.R7$(3),e.Y8G("uploadCert",e.bMT(5,6,"Secret Picker.UploadCert"))("uploadCertHelp",e.bMT(6,8,"Secret Picker.UploadCertHelp"))("certMetaData",e.bMT(7,10,"Secret Picker.MetaData"))("certMetaDataHelp",e.bMT(8,12,"Secret Picker.MetaDataHelp")),e.R7$(9),e.JRh(e.bMT(13,14,"Common.Use")),e.R7$(3),e.JRh(e.bMT(16,16,"Common.Cancel")))}function xe(Se,be){if(1&Se){const le=e.RV6();e.j41(0,"app-custom-modal",51),e.bIt("onSave",function(){e.eBV(le);const Te=e.XpG();return e.Njj(Te.closeCertificateReaderModelAndReadCertificate())})("onCancel",function(){e.eBV(le);const Te=e.XpG();return e.Njj(Te.closeCertificateReaderModel())}),e.j41(1,"app-cert-reader",52,3),e.nI1(3,"translate"),e.nI1(4,"translate"),e.nI1(5,"translate"),e.nI1(6,"translate"),e.bIt("dataExists",function(Te){e.eBV(le);const st=e.XpG();return e.Njj(st.certificateDataLoaded(Te))}),e.k0s()()}if(2&Se){const le=e.XpG();e.Y8G("modalId",le.certModalId)("title","Secret Picker.ReadCertificate")("actions",le.modalActions),e.R7$(),e.Y8G("uploadCert",e.bMT(3,7,"Secret Picker.UploadCert"))("uploadCertHelp",e.bMT(4,9,"Secret Picker.UploadCertHelp"))("certMetaData",e.bMT(5,11,"Secret Picker.MetaData"))("certMetaDataHelp",e.bMT(6,13,"Secret Picker.MetaDataHelp"))}}let Qe=(()=>{class Se{set clientSecrets(le){this._clientSecrets=le||[]}get clientSecrets(){return this._clientSecrets}set isReadOnly(le){this._isReadOnly=le||!1}get isReadOnly(){return this._isReadOnly}constructor(le,Fe,Te){this.fb=le,this.modalService=Fe,this.dataTableService=Te,this._clientSecrets=[],this.nonModelCertPicker=!1,this.showCreatedColumn=!0,this.secretTypes=new p.S9,this.minDate=T.c9.now(),this.secretsAddStream=new w.B,this.secretsRemoveStream=new w.B,this.descFocus=!1,this.displayWarnings=!0,this.dataTableActions=[u.AA.Delete],this.modalActions=[f.N.Delete,f.N.Save],this.certModalId="CertificatePickerModal",this.expirationDateEnabled=!1,this.filepickerDisplayed=new e.bkB}ngOnDestroy(){this.dtsSubscription.unsubscribe()}keydown(le){"Enter"===le.key&&this.secretForm.valid&&!this.descFocus&&this.addSecret()}ngOnInit(){const le=T.c9.now().toISO();this.secretForm=this.fb.group({description:["",y.k0.maxLength(1e3)],value:["",y.k0.required],expiration:[{value:le,disabled:!0}],type:["Shared Secret"],enabled:[]}),this.dtsSubscription=this.dataTableService.deleteRowEvent.subscribe(Fe=>{this.deleteSecret(Fe)})}selectedDate(le){this.secretForm.controls.expiration.setValue(le)}toggleExpirationDateInput(){this.expirationDateEnabled=!this.expirationDateEnabled,this.updateExpiration()}generateRandom(){this.secretForm.controls.value.setValue((0,C.Nl)())}dateSelected(le){this.secretForm.controls.expiration.setValue(le)}addSecret(){const le=this.secretForm.value;le.expiration=this.expirationDateEnabled?T.c9.fromISO(le.expiration).toString():null,this.secretsAddStream.next(le),this.secretForm.reset(),this.resetForm()}updateExpiration(){const le=this.secretForm.controls.expiration;this.expirationDateEnabled?(le.addValidators(y.k0.required),le.enable()):(le.removeValidators(y.k0.required),le.disable()),le.reset()}deleteSecret(le){this.secretsRemoveStream.next(this.clientSecrets[le])}resetForm(){this.secretForm.setValue({description:"",value:"",expiration:"",type:"Shared Secret",enabled:""}),this.expirationDateEnabled=!1,this.updateExpiration()}openCertificateReaderModel(){this.nonModelCertPicker?(this.certificateReaderNonModal.nativeElement.hidden=!1,this.secretPicker.nativeElement.hidden=!0):this.modalService.showById(this.certModalId,this.showModalButton),this.filepickerDisplayed.emit(!0)}resetState(){this.nonModelCertPicker?(this.certificateReaderNonModal.nativeElement.hidden=!0,this.secretPicker.nativeElement.hidden=!1):this.modalService.hideById(this.certModalId),this.filepickerDisplayed.emit(!1)}closeCertificateReaderModel(){this.modalService.hideById(this.certModalId),this.filepickerDisplayed.emit(!1)}closeCertificateReaderModelAndReadCertificate(){var le=this;return(0,n.A)(function*(){le.modalService.hideById(le.certModalId),le.filepickerDisplayed.emit(!1),yield le.ReadCertificateModel()})()}ReadCertificateModel(){var le=this;return(0,n.A)(function*(){const Fe=yield le.certReaderComponent.getCertificateModel();let Te="";switch(le.secretForm.controls.type.value){case"X509 Certificate Base64":Te=Fe.base64Cert;break;case"X509 Name":Te=Fe.subject;break;case"X509 Thumbprint":Te=Fe.thumbprint}le.secretForm.controls.value.setValue(Te)})()}certificateDataLoaded(le){this.addCertificateButton&&(this.addCertificateButton.nativeElement.disabled=!le),this.addCertificateBtnNonModal&&(this.addCertificateBtnNonModal.nativeElement.disabled=!le)}hideCertReaderNonModal(le){var Fe=this;return(0,n.A)(function*(){Fe.certificateReaderNonModal.nativeElement.hidden=!0,Fe.secretPicker.nativeElement.hidden=!1,le&&(yield Fe.ReadCertificateModel()),Fe.filepickerDisplayed.emit(!1)})()}static{this.\u0275fac=function(Fe){return new(Fe||Se)(e.rXU(y.ze),e.rXU(O.B),e.rXU(F.I))}}static{this.\u0275cmp=e.VBU({type:Se,selectors:[["app-secret-picker"]],viewQuery:function(Fe,Te){if(1&Fe&&(e.GBs($,5),e.GBs(ie,5),e.GBs(se,5),e.GBs(L,5),e.GBs(J,5),e.GBs(q,5)),2&Fe){let st;e.mGM(st=e.lsd())&&(Te.certReaderComponent=st.first),e.mGM(st=e.lsd())&&(Te.addCertificateButton=st.first),e.mGM(st=e.lsd())&&(Te.showModalButton=st.first),e.mGM(st=e.lsd())&&(Te.secretPicker=st.first),e.mGM(st=e.lsd())&&(Te.certificateReaderNonModal=st.first),e.mGM(st=e.lsd())&&(Te.addCertificateBtnNonModal=st.first)}},hostBindings:function(Fe,Te){1&Fe&&e.bIt("keydown",function(Oe){return Te.keydown(Oe)},!1,e.EBC)},inputs:{clientSecrets:"clientSecrets",isReadOnly:"isReadOnly",nonModelCertPicker:"nonModelCertPicker",showCreatedColumn:"showCreatedColumn"},outputs:{filepickerDisplayed:"filepickerDisplayed"},decls:11,vars:25,consts:[["secretPicker",""],["showCertModalButton",""],["certificateReaderNonModal",""],["certificateReader",""],["addCertificateBtnNonModal",""],["id","secretPicker"],["id","secretForm",3,"formGroup",4,"ngIf"],[3,"isReadOnly","rows","norowslabel","actions"],[3,"prop","title","headClasses"],[3,"title","isPlaceholder","placeholder","headClasses","cellClasses"],[3,"prop","title","headClasses","cellClasses"],["id","createdColumn",3,"prop","date","title","headClasses","cellClasses",4,"ngIf"],[3,"prop","date","title","headClasses","cellClasses"],["hidden","",4,"ngIf"],[3,"modalId","title","actions","onSave","onCancel",4,"ngIf"],["id","secretForm",3,"formGroup"],[1,"tw-flex-grid","tw-mb-6","md:tw-flex-nowrap"],[1,"tw-flex-grid-col"],[3,"id","label"],[1,"tw-form-select"],["id","SecretType","name","type","formControlName","type",1,"tw-form-control"],[3,"value",4,"ngFor","ngForOf"],[1,"tw-w-full","lg:tw-max-w-2xl"],[1,"tw-flex",3,"hidden"],["type","text","id","SecretValue","formControlName","value","name","SecretValue","autocomplete","off",1,"tw-form-control","tw-rounded-r-none","tw-border-r-0"],["id","generateSecret",1,"tw-btn","tw-rounded-l-none",3,"click"],["aria-hidden","true",1,"far","fa-random"],[1,"sr-only"],["type","text","id","SecretValue","formControlName","value","name","SecretValue","autocomplete","off",1,"tw-form-control",3,"hidden"],[1,"tw-form-text"],["id","readCertificate",1,"tw-underline","hover:tw-no-underline",3,"click","hidden"],["class","tw-form-text-danger",4,"ngIf"],[3,"id","label","help"],[1,"tw-form-row","tw-flex","tw-items-center"],[1,"tw-shrink-0","tw-block"],[3,"id"],["formControlName","enabled","type","checkbox","id","expirationDateEnabled","name","expirationDateEnabled",1,"tw-form-switch__input",3,"change"],["id","expiration","formControlName","expiration",3,"min",4,"ngIf"],[3,"id","label","isLast"],["id","SecretDescription","name","SecretDescription","formControlName","description",1,"tw-form-control","md:tw-h-56"],[1,"tw-flex","tw-mb-6"],["id","addSecretBtn",1,"tw-btn-success","tw-mr-4",3,"click","disabled"],[1,"tw-btn",3,"click"],[3,"value"],[1,"tw-form-text-danger"],["id","expiration","formControlName","expiration",3,"min"],["id","createdColumn",3,"prop","date","title","headClasses","cellClasses"],["hidden",""],[1,"tw-mb-6","md:tw-flex-nowrap"],["id","certificateReader",3,"dataExists","uploadCert","uploadCertHelp","certMetaData","certMetaDataHelp"],["id","addCertificateBtn","disabled","",1,"tw-btn-success","tw-mr-4",3,"click"],[3,"onSave","onCancel","modalId","title","actions"],["id","",3,"dataExists","uploadCert","uploadCertHelp","certMetaData","certMetaDataHelp"]],template:function(Fe,Te){1&Fe&&(e.j41(0,"div",5,0),e.DNE(2,me,41,33,"form",6),e.j41(3,"app-data-table",7),e.nrm(4,"app-data-table-column",8)(5,"app-data-table-column",9)(6,"app-data-table-column",10),e.DNE(7,Ne,1,5,"app-data-table-column",11),e.nrm(8,"app-data-table-column",12),e.k0s()(),e.DNE(9,De,17,18,"div",13)(10,xe,7,15,"app-custom-modal",14)),2&Fe&&(e.R7$(2),e.Y8G("ngIf",!Te.isReadOnly),e.R7$(),e.Y8G("isReadOnly",Te.isReadOnly)("rows",Te.clientSecrets)("norowslabel","Clients.NoSecrets")("actions",Te.dataTableActions),e.R7$(),e.Y8G("prop","type")("title","Common.Type")("headClasses","sm:tw-w-1/3 md:tw-w-1/4"),e.R7$(),e.Y8G("title","Common.Value")("isPlaceholder",!0)("placeholder","Secret Picker.HiddenValue")("headClasses","tw-hidden tw-w-40 xl:tw-table-cell")("cellClasses","tw-hidden xl:tw-table-cell"),e.R7$(),e.Y8G("prop","description")("title","Common.Description")("headClasses","tw-hidden sm:tw-table-cell")("cellClasses","tw-hidden tw-max-w-0 tw-truncate sm:tw-table-cell"),e.R7$(),e.Y8G("ngIf",Te.showCreatedColumn),e.R7$(),e.Y8G("prop","expiration")("date",!0)("title","Common.Expiration")("headClasses","tw-hidden tw-w-40 md:tw-table-cell")("cellClasses","tw-hidden md:tw-table-cell"),e.R7$(),e.Y8G("ngIf",Te.nonModelCertPicker),e.R7$(),e.Y8G("ngIf",!1===Te.nonModelCertPicker))},dependencies:[b.Sq,b.bT,y.qT,y.xH,y.y7,y.me,y.Zm,y.wz,y.BC,y.cb,y.j4,y.JD,M.V,k.Y,N.m,u.up,G.w,R.G,j.Z,b.lG,U.D9],encapsulation:2,data:{animation:[(0,m.Ws)()]}})}}return Se})()},4179:(nt,fe,h)=>{"use strict";h.d(fe,{z:()=>b});var n=h(9417),e=h(177),y=h(1683),p=h(1780),w=h(779),C=h(75),m=h(8389),u=h(8251),f=h(4367),T=h(6599),O=h(9812),F=h(4438);let b=(()=>{class M{static{this.\u0275fac=function(G){return new(G||M)}}static{this.\u0275mod=F.$C({type:M})}static{this.\u0275inj=F.G2t({providers:[O.I],imports:[e.MD,n.X1,y.Y,p.h,n.YN,w.Q_,C.U,m.w,u.h,f.N,T.Y]})}}return M})()},4313:(nt,fe,h)=>{"use strict";h.d(fe,{if:()=>f});var n=h(1413),e=h(152),y=h(3294),p=h(5964),w=h(6354);class f{constructor(O,F,b){this.toastr=O,this.translate=F,this.canSearchEmptyString=b,this.searchTerm="",this.searchTermStream=new n.B,this.enterKeyStream=new n.B,this.searchSource=this.searchTermStream.pipe((0,e.B)(600),(0,y.F)(),(0,p.p)(M=>this.filterSearchTerm(M)),(0,w.T)(M=>this.mapSearchTerm(M))),this.enterKeySource=this.enterKeyStream.pipe((0,e.B)(600),(0,p.p)(()=>this.filterSearchTerm(this.searchTerm)),(0,w.T)(()=>this.mapSearchTerm(this.searchTerm)))}filterSearchTerm(O){return this.canSearchEmptyString?O.length<50&&1!==O.length:!(O.length<2||O.length>50)&&""!==O.trim()}search(O){"Enter"===O.key?1===this.searchTerm.length?this.toastr.warning(this.translate.instant("Users.MinimumSearchLength"),this.translate.instant("Notifications.Sorry")):this.enterKeyStream.next():1!==this.searchTerm.length&&this.searchTermStream.next(this.searchTerm)}}},9945:(nt,fe,h)=>{"use strict";h.d(fe,{f:()=>m});var n=h(177),e=h(9417),y=h(1683),p=h(8389),w=h(1780),C=h(4438);let m=(()=>{class u{static{this.\u0275fac=function(O){return new(O||u)}}static{this.\u0275mod=C.$C({type:u})}static{this.\u0275inj=C.G2t({imports:[n.MD,e.YN,e.X1,p.w,y.Y,w.h]})}}return u})()},7384:(nt,fe,h)=>{"use strict";h.d(fe,{d:()=>C});var n=h(4438),e=h(177),y=h(1780);function p(m,u){1&m&&(n.j41(0,"span"),n.EFF(1),n.nI1(2,"translate"),n.k0s()),2&m&&(n.R7$(),n.JRh(n.bMT(2,1,"Common.LoadingPleaseWait")))}function w(m,u){if(1&m&&(n.j41(0,"span"),n.EFF(1),n.k0s()),2&m){const f=n.XpG();n.R7$(),n.JRh(f.text)}}let C=(()=>{class m{constructor(){this.text=""}static{this.\u0275fac=function(T){return new(T||m)}}static{this.\u0275cmp=n.VBU({type:m,selectors:[["app-simple-loader"]],inputs:{text:"text"},decls:4,vars:2,consts:[[1,"tw-flex","tw-items-center","tw-justify-center","tw-text-sm","tw-min-h-48"],[1,"fad","fa-spinner-third","fa-spin","tw-text-secondary-500","tw-mr-2"],[4,"ngIf"]],template:function(T,O){1&T&&(n.j41(0,"div",0),n.nrm(1,"span",1),n.DNE(2,p,3,3,"span",2)(3,w,2,1,"span",2),n.k0s()),2&T&&(n.R7$(2),n.Y8G("ngIf",""==O.text),n.R7$(),n.Y8G("ngIf",""!=O.text))},dependencies:[e.bT,y.D9],encapsulation:2})}}return m})()},7175:(nt,fe,h)=>{"use strict";h.d(fe,{c:()=>C});var n=h(9417),e=h(177),y=h(1583),p=h(1780),w=h(4438);let C=(()=>{class m{static{this.\u0275fac=function(T){return new(T||m)}}static{this.\u0275mod=w.$C({type:m})}static{this.\u0275inj=w.G2t({imports:[e.MD,y.iI,p.h,n.YN]})}}return m})()},7970:(nt,fe,h)=>{"use strict";h.d(fe,{j:()=>w});var n=h(4438),e=h(7263),y=h(177);function p(C,m){if(1&C){const u=n.RV6();n.j41(0,"li",2)(1,"input",3),n.bIt("click",function(){const T=n.eBV(u).index,O=n.XpG();return n.Njj(O.selectValue(T))}),n.k0s(),n.j41(2,"label",4),n.bIt("click",function(){const T=n.eBV(u).index,O=n.XpG();return n.Njj(O.selectValue(T))}),n.j41(3,"span",5),n.EFF(4),n.k0s()()()}if(2&C){const u=m.$implicit,f=m.index,T=n.XpG();n.R7$(),n.Mz_("id","enum-val-",f,""),n.Mz_("name","",T.id,"-state"),n.Y8G("checked",u===T.value),n.R7$(),n.STu("tw-state-toggle-btn ",T.borderStyle(f)," ",T.isSelected(u),""),n.Mz_("for","enum-val-",f,""),n.BMQ("aria-label",T.enumValues),n.R7$(2),n.JRh(u)}}let w=(()=>{class C{get id(){return this._id}set id(u){this._id=u||(0,e.Nl)()}constructor(){this.readonly=!1,this.newValue=new n.bkB}selectValue(u){this.readonly||this.newValue.emit(this.options[u])}borderStyle(u){return 0===u?"tw-rounded-l-lg":u>=this.options.length-1?"tw-rounded-r-lg":"tw-rounded-none"}isSelected(u){return u===this.value?"tw-btn-selected":"tw-btn"}static{this.\u0275fac=function(f){return new(f||C)}}static{this.\u0275cmp=n.VBU({type:C,selectors:[["app-state-toggle"]],inputs:{id:"id",options:"options",value:"value",readonly:"readonly"},outputs:{newValue:"newValue"},decls:2,vars:2,consts:[[3,"id"],["class","tw-state-toggle",4,"ngFor","ngForOf"],[1,"tw-state-toggle"],["type","radio",1,"sr-only",3,"click","id","name","checked"],["type","button",3,"click","for"],[1,"tw-pl-1"]],template:function(f,T){1&f&&(n.j41(0,"ul",0),n.DNE(1,p,5,13,"li",1),n.k0s()),2&f&&(n.FS9("id",T.id+"-enumValues-select"),n.R7$(),n.Y8G("ngForOf",T.options))},dependencies:[y.Sq],encapsulation:2})}}return C})()},1957:(nt,fe,h)=>{"use strict";h.d(fe,{U:()=>p});var n=h(177),e=h(9417),y=h(4438);let p=(()=>{class w{static{this.\u0275fac=function(u){return new(u||w)}}static{this.\u0275mod=y.$C({type:w})}static{this.\u0275inj=y.G2t({imports:[n.MD,e.YN]})}}return w})()},3680:(nt,fe,h)=>{"use strict";h.d(fe,{z:()=>N});var n=h(4438),e=h(177),y=h(1583),p=h(1780),w=h(7005);const C=[[["","badge",""]],[["","ctx",""]],[["","button",""]],[["","tabs",""]]],m=["[badge]","[ctx]","[button]","[tabs]"],u=G=>[G];function f(G,R){if(1&G&&(n.qex(0),n.j41(1,"li",7)(2,"span",17),n.EFF(3,"/"),n.k0s(),n.j41(4,"a",8),n.EFF(5),n.k0s()(),n.bVm()),2&G){const j=R.$implicit;n.R7$(4),n.Y8G("routerLink",j.link),n.R7$(),n.SpI(" ",j.title," ")}}function T(G,R){1&G&&(n.j41(0,"span",18),n.EFF(1),n.nI1(2,"translate"),n.k0s()),2&G&&(n.R7$(),n.SpI(" ",n.bMT(2,1,"Common.ReadOnly")," "))}function O(G,R){1&G&&(n.j41(0,"span",19),n.EFF(1),n.nI1(2,"translate"),n.k0s()),2&G&&(n.R7$(),n.SpI(" ",n.bMT(2,1,"Common.Reserved")," "))}function F(G,R){1&G&&(n.j41(0,"span",20),n.EFF(1),n.nI1(2,"translate"),n.k0s()),2&G&&(n.R7$(),n.SpI(" ",n.bMT(2,1,"Common.UserTOTPEnabled")," "))}function b(G,R){1&G&&(n.j41(0,"div",21),n.SdG(1,2),n.k0s())}function M(G,R){1&G&&(n.qex(0),n.j41(1,"div",22),n.SdG(2,3),n.k0s(),n.bVm())}let N=(()=>{class G{constructor(){this.hasButton=!1,this.hasTabs=!1,this.isReadOnly=!1,this.isReserved=!1,this.totpEnabled=!1}static{this.\u0275fac=function(U){return new(U||G)}}static{this.\u0275cmp=n.VBU({type:G,selectors:[["app-title-bar"]],inputs:{title:"title",crumbs:"crumbs",hasButton:"hasButton",hasTabs:"hasTabs",isReadOnly:"isReadOnly",isReserved:"isReserved",totpEnabled:"totpEnabled"},ngContentSelectors:m,decls:24,vars:18,consts:[[1,"tw-bg-grey-200","tw-border-b","tw-border-grey-300","tw--mt-5","tw--mx-4","tw-mb-6"],[1,"tw-px-4","tw-py-5"],[1,"tw-container","tw-mx-auto","tw-text-left"],[1,"tw-flex","tw-items-end","tw-justify-between"],[1,"tw-content","tw-min-w-0"],[1,"tw-mb-2"],["id","pageCrumbs",1,"tw-flex","tw-items-center","tw-text-xs","tw-leading-none","tw-text-grey-700"],[1,"tw-flex","tw-items-center"],[1,"tw-inline-block","tw-text-grey-700","tw-font-normal","hover:tw-text-body",3,"routerLink"],[4,"ngFor","ngForOf"],[1,"md:tw-flex","md:tw-items-center"],["id","pageTitle",1,"tw-text-xl","tw-font-semibold","tw-mb-2","tw-truncate","md:tw-mb-0","md:tw-mr-3","md:tw-text-2xl","last:tw-mb-0"],["id","readOnlyBadge","class","tw-pill tw-mr-2",4,"ngIf"],["id","reservedBadge","class","tw-pill tw-mr-2",4,"ngIf"],["class","tw-pill tw-mr-2",4,"ngIf"],["class","tw-shrink-0 tw-ml-4",4,"ngIf"],[4,"ngIf"],["aria-hidden","true",1,"tw-mx-2","tw-opacity-75"],["id","readOnlyBadge",1,"tw-pill","tw-mr-2"],["id","reservedBadge",1,"tw-pill","tw-mr-2"],[1,"tw-pill","tw-mr-2"],[1,"tw-shrink-0","tw-ml-4"],[1,"tw-container","tw-mx-auto","tw--mt-2"]],template:function(U,$){1&U&&(n.NAR(C),n.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"nav",5),n.nI1(6,"translate"),n.j41(7,"ol",6)(8,"li",7)(9,"a",8),n.nI1(10,"localize"),n.EFF(11),n.nI1(12,"translate"),n.k0s()(),n.DNE(13,f,6,2,"ng-container",9),n.k0s()(),n.j41(14,"div",10)(15,"h1",11),n.EFF(16),n.k0s(),n.SdG(17),n.DNE(18,T,3,3,"span",12)(19,O,3,3,"span",13)(20,F,3,3,"span",14),n.SdG(21,1),n.k0s()(),n.DNE(22,b,2,0,"div",15),n.k0s()()(),n.DNE(23,M,3,0,"ng-container",16),n.k0s()),2&U&&(n.R7$(5),n.BMQ("aria-label",n.bMT(6,10,"Nav.Breadcrumbs")),n.R7$(4),n.Y8G("routerLink",n.eq3(16,u,n.bMT(10,12,"/home"))),n.R7$(2),n.SpI(" ",n.bMT(12,14,"Nav.Home")," "),n.R7$(2),n.Y8G("ngForOf",$.crumbs),n.R7$(3),n.JRh($.title),n.R7$(2),n.Y8G("ngIf",$.isReadOnly&&!$.isReserved),n.R7$(),n.Y8G("ngIf",$.isReserved),n.R7$(),n.Y8G("ngIf",$.totpEnabled),n.R7$(2),n.Y8G("ngIf",$.hasButton),n.R7$(),n.Y8G("ngIf",$.hasTabs))},dependencies:[e.Sq,e.bT,y.Wk,p.D9,w.tl],encapsulation:2})}}return G})()},367:(nt,fe,h)=>{"use strict";h.d(fe,{m:()=>m});var n=h(177),e=h(1583),y=h(1683),p=h(7005),w=h(1780),C=h(4438);let m=(()=>{class u{static{this.\u0275fac=function(O){return new(O||u)}}static{this.\u0275mod=C.$C({type:u})}static{this.\u0275inj=C.G2t({imports:[n.MD,e.iI,y.Y,w.h,p.XE]})}}return u})()},2552:(nt,fe,h)=>{"use strict";h.d(fe,{N:()=>j});var n=h(4438),e=h(177),y=h(9417),p=h(1780);const w=(U,$)=>({"tw-bg-green-200":U,"tw-bg-primary-200":$}),C=(U,$,ie)=>({"tw-bg-green-500":U,"tw-bg-primary-500":$,"tw-bg-grey-200":ie}),m=(U,$,ie)=>({"tw-text-white":U,"tw-text-secondary-500":$,"tw-text-grey-400 group-hover:tw-text-grey-700":ie}),u=(U,$)=>({"fas fa-check tw-text-xl trans":U,"far fa-arrow-alt-circle-up tw-text-2xl":$}),f=(U,$,ie)=>({"tw-text-green-800":U,"tw-text-primary-800":$,"tw-text-navy-500":ie}),T=(U,$,ie)=>({"tw-text-green-600":U,"tw-text-primary-600":$,"tw-text-grey-600":ie}),O=(U,$,ie)=>({"tw-text-green-500":U,"tw-text-primary-500":$,"tw-text-grey-300":ie});function F(U,$){1&U&&(n.j41(0,"span",12),n.EFF(1),n.nI1(2,"translate"),n.k0s()),2&U&&(n.R7$(),n.JRh(n.bMT(2,1,"Clients.Selected")))}let b=(()=>{class U{constructor(){this.select=new n.bkB}static{this.\u0275fac=function(se){return new(se||U)}}static{this.\u0275cmp=n.VBU({type:U,selectors:[["app-type-option"]],inputs:{id:"id",btnId:"btnId",title:"title",summary:"summary",icon:"icon",selected:"selected",type:"type",activeType:"activeType",starterModeProtected:"starterModeProtected"},outputs:{select:"select"},decls:16,vars:48,consts:[[3,"id"],["type","radio",1,"sr-only",3,"click","id","value","ngModel"],["type","button",1,"tw-block","tw-bg-white","tw-pl-16","tw-py-3","tw-w-full","tw-overflow-hidden","tw-rounded","tw-relative","group","tw-transition-all","tw-ease-in-out","hover:tw-shadow-md","md:tw-pr-16",3,"click","for","ngClass"],["id","iconBg",1,"tw-flex","tw-items-center","tw-justify-center","tw-w-16","tw-h-full","tw-absolute","tw-top-0","tw-left-0","tw-transition-all","tw-ease-in-out",3,"ngClass"],["id","iconTextSpan",3,"ngClass"],["id","checkIconSpan",3,"ngClass"],["class","sr-only",4,"ngIf"],[1,"tw-px-4","tw-text-left"],["id","titleSpan",1,"tw-block","tw-font-semibold","tw-transition-all","tw-ease-in-out",3,"ngClass"],["id","summarySpan",1,"tw-block","tw-text-xs","tw-transition-all","tw-ease-in-out",3,"ngClass"],[1,"tw-hidden","tw-items-center","tw-justify-center","tw-w-16","tw-h-full","tw-absolute","tw-top-0","tw-right-0","tw-transition-all","tw-ease-in-out","md:tw-flex"],["id","iconSpan",3,"ngClass"],[1,"sr-only"]],template:function(se,L){1&se&&(n.j41(0,"li",0)(1,"input",1),n.bIt("click",function(){return L.select.emit(L.type)}),n.k0s(),n.j41(2,"label",2),n.bIt("click",function(){return L.select.emit(L.type)}),n.j41(3,"div",3)(4,"span",4),n.nrm(5,"span",5),n.k0s(),n.DNE(6,F,3,3,"span",6),n.k0s(),n.j41(7,"div",7)(8,"span",8),n.EFF(9),n.nI1(10,"translate"),n.k0s(),n.j41(11,"span",9),n.EFF(12),n.nI1(13,"translate"),n.k0s()(),n.j41(14,"div",10),n.nrm(15,"span",11),n.k0s()()()),2&se&&(n.FS9("id",L.id),n.R7$(),n.FS9("id",L.btnId),n.FS9("value",L.type),n.Y8G("ngModel",L.activeType),n.R7$(),n.FS9("for",L.btnId),n.Y8G("ngClass",n.l_i(22,w,L.selected&&!L.starterModeProtected,L.selected&&L.starterModeProtected)),n.R7$(),n.Y8G("ngClass",n.sMw(25,C,L.selected&&!L.starterModeProtected,L.selected&&L.starterModeProtected,!L.selected)),n.R7$(),n.Y8G("ngClass",n.sMw(29,m,L.selected&&!L.starterModeProtected,L.selected&&L.starterModeProtected,!L.selected)),n.R7$(),n.Y8G("ngClass",n.l_i(33,u,!L.starterModeProtected,L.starterModeProtected)),n.R7$(),n.Y8G("ngIf",L.selected),n.R7$(2),n.Y8G("ngClass",n.sMw(36,f,L.selected&&!L.starterModeProtected,L.selected&&L.starterModeProtected,!L.selected)),n.R7$(),n.SpI(" ",n.bMT(10,18,L.title)," "),n.R7$(2),n.Y8G("ngClass",n.sMw(40,T,L.selected&&!L.starterModeProtected,L.selected&&L.starterModeProtected,!L.selected)),n.R7$(),n.SpI(" ",n.bMT(13,20,L.summary)," "),n.R7$(3),n.ZvI("",L.icon," tw-text-3xl tw-transition-all tw-ease-in-out"),n.Y8G("ngClass",n.sMw(44,O,L.selected&&!L.starterModeProtected,L.selected&&L.starterModeProtected,!L.selected)))},dependencies:[e.YU,e.bT,y.me,y.Fm,y.BC,y.vS,p.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return U})();const M=(U,$)=>$.id;function k(U,$){1&U&&(n.j41(0,"h6",1),n.EFF(1),n.nI1(2,"translate"),n.k0s()),2&U&&(n.R7$(),n.JRh(n.bMT(2,1,"StarterMode.Basic")))}function N(U,$){if(1&U){const ie=n.RV6();n.j41(0,"div",1)(1,"app-type-option",3),n.bIt("select",function(L){n.eBV(ie);const J=n.XpG();return n.Njj(J.select.emit(L))}),n.k0s()()}if(2&U){const ie=$.$implicit,se=n.XpG();n.R7$(),n.Y8G("id",ie.id)("btnId",ie.btnId)("title",ie.title)("summary",ie.summary)("icon",ie.icon)("selected",ie.selectedTypes.includes(se.activeType))("type",ie.type)("summary",ie.summary)}}function G(U,$){if(1&U){const ie=n.RV6();n.j41(0,"div",1)(1,"app-type-option",5),n.bIt("select",function(L){n.eBV(ie);const J=n.XpG(2);return n.Njj(J.select.emit(L))}),n.k0s()()}if(2&U){const ie=$.$implicit,se=n.XpG(2);n.R7$(),n.Y8G("id",ie.id)("btnId",ie.btnId)("title",ie.title)("summary",ie.summary)("icon",ie.icon)("selected",se.activeType===ie.type)("type",ie.type)("summary",ie.summary)("starterModeProtected",se.isStarterMode)}}function R(U,$){if(1&U&&(n.j41(0,"h6",1),n.EFF(1),n.nI1(2,"translate"),n.k0s(),n.j41(3,"ul",4),n.Z7z(4,G,2,9,"div",1,M),n.k0s()),2&U){const ie=n.XpG();n.R7$(),n.JRh(n.bMT(2,1,"StarterMode.Enterprise")),n.R7$(3),n.Dyx(ie.disabledOptions())}}let j=(()=>{class U{constructor(){this.select=new n.bkB}availableOptions(){return this.isStarterMode?this.options.filter(ie=>ie.starterMode):this.options}disabledOptions(){return this.isStarterMode?this.options.filter(ie=>!ie.starterMode):[]}static{this.\u0275fac=function(se){return new(se||U)}}static{this.\u0275cmp=n.VBU({type:U,selectors:[["app-type-selector"]],inputs:{id:"id",options:"options",activeType:"activeType",isStarterMode:"isStarterMode"},outputs:{select:"select"},decls:6,vars:2,consts:[["id","defaultSetupList",1,"tw--mt-2","tw--ml-2","md:tw--mt-4","md:tw--ml-4"],[1,"tw-pt-2","tw-pl-2","tw-w-full","sm:tw-w-1/2","md:tw-pt-4","md:tw-pl-4"],["id","availableTypes",1,"singleItem","tw-flex","tw-flex-wrap"],[3,"select","id","btnId","title","summary","icon","selected","type"],["id","disabledTypes",1,"singleItem","tw-flex","tw-flex-wrap"],[3,"select","id","btnId","title","summary","icon","selected","type","starterModeProtected"]],template:function(se,L){1&se&&(n.j41(0,"div",0),n.DNE(1,k,3,3,"h6",1),n.j41(2,"ul",2),n.Z7z(3,N,2,8,"div",1,M),n.k0s(),n.DNE(5,R,6,3),n.k0s()),2&se&&(n.R7$(),n.vxM(1,L.isStarterMode?1:-1),n.R7$(2),n.Dyx(L.availableOptions()),n.R7$(2),n.vxM(5,L.isStarterMode?5:-1))},dependencies:[b,p.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return U})()},5667:(nt,fe,h)=>{"use strict";h.d(fe,{g:()=>w});var n=h(177),e=h(9417),y=h(1780),p=h(4438);let w=(()=>{class C{static{this.\u0275fac=function(f){return new(f||C)}}static{this.\u0275mod=p.$C({type:C})}static{this.\u0275inj=p.G2t({imports:[n.MD,e.YN,y.h]})}}return C})()},2420:(nt,fe,h)=>{"use strict";h.d(fe,{P:()=>U});var n=h(1594),e=h(4438),y=h(1715),p=h(6026);let w=(()=>{class ${constructor(){this.wizardCancel=new e.bkB,this.finish=new e.bkB,this.hide=new e.bkB,this.titleId=p.R.TileId,this.index=0,this.progressPercent=0}ngOnInit(){this.setupWizard(),this.createComponentAtCurrentIndex(),this.displayComponentAtCurrentIndex()}setupWizard(){this.wizardSteps=this.wizardProvider.getWizard(this.wizardName),this.wizardTitles=this.wizardProvider.getWizardTitle(this.wizardName)}keydown(se){"Enter"===se.key&&this.canNext()&&this.nextTab()}get showProgress(){return!0}hideWizard(){this.hide.emit()}cancelWizard(){this.wizardCancel.emit()}finishWizard(){this.finish.emit()}initialStep(){return this.index<=0}displayComponentAtCurrentIndex(){this.wizardHost.viewContainerRef.detach();const se=this.components.get(this.index);this.wizardHost.viewContainerRef.insert(se.hostView),this.components.get(this.index).instance.hosted(),this.updateProgress()}createComponentAtCurrentIndex(){const L=this.wizardHost.viewContainerRef.createComponent(this.wizardSteps[this.index].component);this.components.set(this.index,L),L.instance.data=this.wizardSteps[this.index].data,this.wizardHost.viewContainerRef.detach()}canNext(){return this.components.get(this.index).instance.canNext()}updateProgress(){this.progressPercent=(this.index+1)/(this.wizardSteps.length+1)*100}ngOnDestroy(){this.clearComponents()}clearComponents(){this.components.forEach(se=>{se?.destroy()}),this.components.clear()}get asAny(){return this}static{this.\u0275fac=function(L){return new(L||$)}}static{this.\u0275dir=e.FsC({type:$,viewQuery:function(L,J){if(1&L&&e.GBs(y.t,7),2&L){let q;e.mGM(q=e.lsd())&&(J.wizardHost=q.first)}},hostBindings:function(L,J){1&L&&e.bIt("keydown",function(S){return J.keydown(S)},!1,e.EBC)},inputs:{wizardName:"wizardName"},outputs:{wizardCancel:"wizardCancel",finish:"finish",hide:"hide"}})}}return $})();var C=h(9417),m=h(177),u=h(1780),f=h(2467);function T($,ie){if(1&$&&(e.j41(0,"span",17),e.EFF(1),e.k0s()),2&$){const se=ie.$implicit;e.R7$(),e.JRh(se)}}function O($,ie){if(1&$){const se=e.RV6();e.j41(0,"tr",11)(1,"td",12),e.bIt("click",function(){e.eBV(se);const J=e.XpG().$implicit,q=e.XpG();return e.Njj(q.jumpToTab(J.stepName))}),e.j41(2,"b"),e.EFF(3),e.nI1(4,"keyToString"),e.nI1(5,"translate"),e.k0s()(),e.j41(6,"td",13),e.bIt("click",function(){e.eBV(se);const J=e.XpG().$implicit,q=e.XpG();return e.Njj(q.jumpToTab(J.stepName))}),e.DNE(7,T,2,1,"span",14),e.k0s(),e.j41(8,"td",12),e.bIt("click",function(){e.eBV(se);const J=e.XpG().$implicit,q=e.XpG();return e.Njj(q.jumpToTab(J.stepName))}),e.j41(9,"button",15),e.bIt("click",function(){e.eBV(se);const J=e.XpG().$implicit,q=e.XpG();return e.Njj(q.jumpToTab(J.stepName))}),e.nrm(10,"span",16),e.j41(11,"span",2),e.EFF(12),e.nI1(13,"translate"),e.k0s()()()()}if(2&$){const se=ie.$implicit;e.R7$(3),e.JRh(e.bMT(5,5,e.bMT(4,3,se.key))),e.R7$(4),e.Y8G("ngForOf",se.value),e.R7$(5),e.JRh(e.bMT(13,7,"Common.Edit"))}}function F($,ie){if(1&$&&(e.qex(0),e.DNE(1,O,14,9,"tr",10),e.nI1(2,"keyvalue"),e.bVm()),2&$){const se=ie.$implicit;e.R7$(),e.Y8G("ngForOf",e.bMT(2,1,se.stepData))}}function b($,ie){if(1&$&&(e.j41(0,"form",18)(1,"div",19),e.nrm(2,"input",20),e.j41(3,"label",21),e.EFF(4),e.nI1(5,"translate"),e.k0s()()()),2&$){const se=e.XpG();e.Y8G("formGroup",se.summaryForm),e.R7$(),e.Y8G("ngClass","last:tw-border-0 last:tw-mb-0 last:tw-pb-0"),e.R7$(3),e.JRh(e.bMT(5,3,"Common.Enabled"))}}let M=(()=>{class ${constructor(se){this.fb=se,this.askIfEnabled=!1,this.emitNavigate=new e.bkB}ngOnInit(){this.summaryForm=this.fb.group({enabled:[!0]})}jumpToTab(se){this.emitNavigate.emit(se)}isEnabled(){return this.summaryForm.get("enabled").value}static{this.\u0275fac=function(L){return new(L||$)(e.rXU(C.ze))}}static{this.\u0275cmp=e.VBU({type:$,selectors:[["app-wizard-summary"]],inputs:{askIfEnabled:"askIfEnabled"},decls:30,vars:20,consts:[[1,"cms","tw-mb-6"],["id","reviewTable",1,"datatable","selectable","hover"],[1,"sr-only"],[1,"disabled","inactive"],[1,"sm:tw-w-40"],[1,"tw-hidden","tw-max-w-0","tw-truncate","sm:tw-table-cell"],[1,"tw-italic"],[1,"tw-w-1"],[4,"ngFor","ngForOf"],[3,"formGroup",4,"ngIf"],["id","summaryItemRow","class","group",4,"ngFor","ngForOf"],["id","summaryItemRow",1,"group"],[3,"click"],[1,"tw-hidden","sm:tw-table-cell","tw-max-w-0","tw-wrap",3,"click"],["class","tw-block",4,"ngFor","ngForOf"],[1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click"],["aria-hidden","true",1,"fad","fa-pencil"],[1,"tw-block"],[3,"formGroup"],[1,"tw-form-row-border","tw-mt-6",3,"ngClass"],["id","enabledCheck","type","checkbox","value","false","formControlName","enabled",1,"tw-h-full","tw-ml-2","tw-mr-6"],["for","enabledCheck",1,"tw-form-label-inline","align-middle"]],template:function(L,J){1&L&&(e.j41(0,"div",0)(1,"p"),e.EFF(2),e.nI1(3,"translate"),e.k0s()(),e.j41(4,"table",1)(5,"thead",2)(6,"tr")(7,"th"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"th"),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"th")(14,"span",2),e.EFF(15),e.nI1(16,"translate"),e.k0s()()()(),e.j41(17,"tbody")(18,"tr",3)(19,"td",4)(20,"b"),e.EFF(21),e.nI1(22,"translate"),e.k0s()(),e.j41(23,"td",5)(24,"span",6),e.EFF(25),e.nI1(26,"translate"),e.k0s()(),e.nrm(27,"td",7),e.k0s(),e.DNE(28,F,3,3,"ng-container",8),e.k0s()(),e.DNE(29,b,6,5,"form",9)),2&L&&(e.R7$(2),e.JRh(e.bMT(3,8,"Common.Wizards.Review")),e.R7$(6),e.JRh(e.bMT(9,10,"Common.Key")),e.R7$(3),e.JRh(e.bMT(12,12,"Common.Value")),e.R7$(4),e.JRh(e.bMT(16,14,"Common.Actions")),e.R7$(6),e.JRh(e.bMT(22,16,"Common.Type")),e.R7$(4),e.JRh(e.bMT(26,18,J.summaryTitle)),e.R7$(3),e.Y8G("ngForOf",J.summary),e.R7$(),e.Y8G("ngIf",J.askIfEnabled))},dependencies:[m.YU,m.Sq,m.bT,C.qT,C.Zm,C.BC,C.cb,C.j4,C.JD,m.lG,u.D9,f.C],encapsulation:2})}}return $})();var k=h(5424),N=h(5794);let G=(()=>{class $ extends w{constructor(se,L,J){super(),this.errorService=se,this.toastr=L,this.translate=J,this.components=new Map}nextTab(){++this.index,this.index===this.wizardSteps.length?this.buildSummary():(void 0===this.components.get(this.index)&&this.createComponentAtCurrentIndex(),this.displayComponentAtCurrentIndex(),this.setOrUpdateDtoSnapshot())}previousTab(){this.index>0&&(--this.index,this.displayComponentAtCurrentIndex())}buildSummary(){const se=[];this.wizardSteps.forEach((L,J)=>{const S=this.components.get(J).instance.getStepSummary();null!=S&&se.push({stepName:`ClientStep${J}`,stepData:S})}),this.displaySummaryComponent(se)}displaySummaryComponent(se){this.wizardHost.viewContainerRef.detach(),void 0===this.summaryComponentRef?(this.wizardHost.viewContainerRef.detach(),this.summaryComponentRef=this.wizardHost.viewContainerRef.createComponent(M)):this.wizardHost.viewContainerRef.insert(this.summaryComponentRef.hostView),this.summaryComponentRef.instance.summary=se,this.summaryComponentRef.instance.summaryTitle=this.wizardTitles.summaryTitle,this.summaryComponentRef.instance.emitNavigate.pipe((0,n.$)()).subscribe(L=>{this.index=se.findIndex(J=>J.stepName===L),this.displayComponentAtCurrentIndex()}),this.updateProgress()}getWizardDto(){let se={};return this.wizardSteps.forEach((L,J)=>{if(J>=this.index)return;const S=this.components.get(J).instance.getStepDTO();se=Object.assign({},se,S)}),se}ngOnDestroy(){this.summaryComponentRef&&this.summaryComponentRef.destroy()}setOrUpdateDtoSnapshot(){var se=this.components.get(this.index),L=this.getWizardDto();se.instance.dtoSnapshot=L}static{this.\u0275fac=function(L){return new(L||$)(e.rXU(k.I),e.rXU(N.tw),e.rXU(u.c$))}}static{this.\u0275dir=e.FsC({type:$,features:[e.Vt3]})}}return $})();var R=h(9988),j=h(7263);let U=(()=>{class $ extends G{constructor(se,L,J){super(se,L,J),this.components=new Map,this.displayUpgradeIcon=!1}get showProgress(){return this.wizardName!==R.$.Home&&super.showProgress}nextTab(){var se=this.components.get(this.index),L=(0,j.hX)(se.instance.selectedType)?null:se.instance.selectedType();L?this.changeWizardType(L):super.nextTab()}previousTab(){0!==this.index||this.wizardName===R.$.Home?super.previousTab():this.changeWizardType(R.$.Home)}initialStep(){return super.initialStep()&&this.wizardName==R.$.Home}cancelWizard(){this.index>0||this.wizardName!==R.$.Home?this.changeWizardType(R.$.Home,0):super.cancelWizard()}changeWizardType(se,L=null){(0,j.hX)(L)||(this.index=L),this.wizardName=se,this.clearComponents(),this.setupWizard(),this.createComponentAtCurrentIndex(),this.displayComponentAtCurrentIndex()}static{this.\u0275fac=function(L){return new(L||$)(e.rXU(k.I),e.rXU(N.tw),e.rXU(u.c$))}}static{this.\u0275dir=e.FsC({type:$,inputs:{displayUpgradeIcon:"displayUpgradeIcon"},features:[e.Vt3]})}}return $})()},1715:(nt,fe,h)=>{"use strict";h.d(fe,{t:()=>e});var n=h(4438);let e=(()=>{class y{constructor(w){this.viewContainerRef=w}static{this.\u0275fac=function(C){return new(C||y)(n.rXU(n.c1b))}}static{this.\u0275dir=n.FsC({type:y,selectors:[["","appStepHost",""]]})}}return y})()},2858:(nt,fe,h)=>{"use strict";h.d(fe,{AU:()=>L,zI:()=>q});var n=h(6799),e=h(9417),y=h(4414),p=h(1413),w=h(590),C=h(4438),m=h(5794),u=h(1780),f=h(177);function T(S,re){if(1&S&&(C.j41(0,"li",10)(1,"label",22),C.nrm(2,"input",23),C.j41(3,"span"),C.EFF(4),C.nI1(5,"translate"),C.k0s()()()),2&S){const K=C.XpG();C.R7$(2),C.Y8G("value",K.CertificateAction.DoNotSet),C.R7$(2),C.JRh(C.bMT(5,2,"Clients.Import.Wizard.Certificates.DoNotSet"))}}function O(S,re){if(1&S&&(C.j41(0,"li",10)(1,"label",24),C.nrm(2,"input",25),C.j41(3,"span"),C.EFF(4),C.nI1(5,"translate"),C.k0s()()()),2&S){const K=C.XpG();C.R7$(2),C.Y8G("value",K.CertificateAction.UseExisting),C.R7$(2),C.JRh(C.bMT(5,2,"Clients.Import.Wizard.Certificates.UseExistingCertificates"))}}function F(S,re){if(1&S){const K=C.RV6();C.j41(0,"tr")(1,"td",39),C.EFF(2),C.k0s(),C.j41(3,"td")(4,"button",40),C.bIt("click",function(){const Ne=C.eBV(K).$implicit,De=C.XpG(5);return C.Njj(De.deleteCert(Ne))}),C.EFF(5),C.nrm(6,"span",41),C.j41(7,"span",37),C.EFF(8),C.nI1(9,"translate"),C.k0s()()()()}if(2&S){const K=re.$implicit,me=C.XpG(5);C.R7$(2),C.SpI(" ",null==K?null:K.subject," "),C.R7$(3),C.SpI(" ",me.deleteDisabled," "),C.R7$(3),C.JRh(C.bMT(9,3,"Clients.Saml.DeleteCert"))}}function b(S,re){if(1&S&&(C.qex(0),C.DNE(1,F,10,5,"tr",38),C.bVm()),2&S){const K=C.XpG(4);C.R7$(),C.Y8G("ngForOf",K.data.certificates.SigningCertificates)}}function M(S,re){if(1&S){const K=C.RV6();C.qex(0),C.j41(1,"tr")(2,"td",39),C.EFF(3),C.k0s(),C.j41(4,"td")(5,"button",40),C.bIt("click",function(){C.eBV(K);const Ne=C.XpG(4);return C.Njj(Ne.deleteCert(null))}),C.EFF(6),C.nrm(7,"span",41),C.j41(8,"span",37),C.EFF(9),C.nI1(10,"translate"),C.k0s()()()(),C.bVm()}if(2&S){const K=C.XpG(4);C.R7$(3),C.SpI(" ",K.data.certificates.EncryptionCertificate.subject," "),C.R7$(3),C.SpI(" ",K.deleteDisabled," "),C.R7$(3),C.JRh(C.bMT(10,3,"Clients.Saml.DeleteCert"))}}function k(S,re){if(1&S&&(C.j41(0,"table",34)(1,"thead")(2,"tr")(3,"th",35),C.EFF(4),C.nI1(5,"translate"),C.k0s(),C.j41(6,"th",36)(7,"span",37),C.EFF(8),C.nI1(9,"translate"),C.k0s()()()(),C.j41(10,"tbody"),C.DNE(11,b,2,1,"ng-container",13)(12,M,11,5,"ng-container",13),C.k0s()()),2&S){const K=C.XpG(3);C.R7$(4),C.JRh(C.bMT(5,4,"Common.Subject")),C.R7$(4),C.JRh(C.bMT(9,6,"Common.Actions")),C.R7$(3),C.Y8G("ngIf",K.activeTab===K.ActiveTab.Request),C.R7$(),C.Y8G("ngIf",K.activeTab===K.ActiveTab.Response)}}function N(S,re){if(1&S&&(C.j41(0,"div"),C.DNE(1,k,13,8,"table",33),C.k0s()),2&S){const K=C.XpG(2);C.R7$(),C.Y8G("ngIf",K.activeTab==K.ActiveTab.Request?K.data.certificates.SigningCertificates.length>0:K.data.certificates.EncryptionCertificate)}}function G(S,re){1&S&&(C.j41(0,"div",42)(1,"div"),C.EFF(2),C.nI1(3,"translate"),C.k0s()()),2&S&&(C.R7$(2),C.JRh(C.bMT(3,1,"Clients.NoCertificates")))}function R(S,re){if(1&S){const K=C.RV6();C.j41(0,"button",43),C.bIt("click",function(){C.eBV(K);const Ne=C.XpG(3);return C.Njj(Ne.addCert())}),C.EFF(1),C.nI1(2,"translate"),C.k0s()}2&S&&(C.R7$(),C.JRh(C.bMT(2,1,"Clients.Saml.AddCert")))}function j(S,re){if(1&S){const K=C.RV6();C.j41(0,"button",43),C.bIt("click",function(){C.eBV(K);const Ne=C.XpG(3);return C.Njj(Ne.addCert())}),C.EFF(1),C.nI1(2,"translate"),C.k0s()}2&S&&(C.R7$(),C.JRh(C.bMT(2,1,"Clients.Saml.ReplaceCertificate")))}function U(S,re){if(1&S&&(C.qex(0),C.DNE(1,R,3,3,"button",32)(2,j,3,3,"button",32),C.bVm()),2&S){const K=C.XpG(2);C.R7$(),C.Y8G("ngIf",!K.data.certificates.EncryptionCertificate||""===K.data.certificates.EncryptionCertificate),C.R7$(),C.Y8G("ngIf",K.data.certificates.EncryptionCertificate&&""!==K.data.certificates.EncryptionCertificate)}}function $(S,re){if(1&S){const K=C.RV6();C.j41(0,"button",43),C.bIt("click",function(){C.eBV(K);const Ne=C.XpG(2);return C.Njj(Ne.addCert())}),C.EFF(1),C.nI1(2,"translate"),C.k0s()}2&S&&(C.R7$(),C.JRh(C.bMT(2,1,"Clients.Saml.AddCert")))}function ie(S,re){if(1&S){const K=C.RV6();C.j41(0,"div")(1,"ul",26)(2,"li",27)(3,"button",28),C.bIt("click",function(){C.eBV(K);const Ne=C.XpG();return C.Njj(Ne.activeTab=Ne.ActiveTab.Request)}),C.EFF(4),C.nI1(5,"translate"),C.k0s()(),C.j41(6,"li",27)(7,"button",29),C.bIt("click",function(){C.eBV(K);const Ne=C.XpG();return C.Njj(Ne.activeTab=Ne.ActiveTab.Response)}),C.EFF(8),C.nI1(9,"translate"),C.k0s()()(),C.DNE(10,N,2,1,"div",13)(11,G,4,3,"div",30),C.j41(12,"div",31),C.DNE(13,U,3,2,"ng-container",13)(14,$,3,3,"button",32),C.k0s()()}if(2&S){const K=C.XpG();C.R7$(3),C.AVh("active",K.activeTab===K.ActiveTab.Request),C.R7$(),C.JRh(C.bMT(5,10,"Clients.Saml.Request")),C.R7$(3),C.AVh("active",K.activeTab===K.ActiveTab.Response),C.R7$(),C.JRh(C.bMT(9,12,"Clients.Saml.Response")),C.R7$(2),C.Y8G("ngIf",K.data.certificates),C.R7$(),C.Y8G("ngIf",K.activeTab==K.ActiveTab.Request&&0===K.data.certificates.SigningCertificates.length||K.activeTab==K.ActiveTab.Response&&!K.data.certificates.EncryptionCertificate),C.R7$(2),C.Y8G("ngIf",K.activeTab===K.ActiveTab.Response),C.R7$(),C.Y8G("ngIf",K.activeTab===K.ActiveTab.Request)}}function se(S,re){if(1&S){const K=C.RV6();C.j41(0,"div",44)(1,"ul",45)(2,"li",10)(3,"label",46)(4,"input",47),C.mxI("ngModelChange",function(Ne){C.eBV(K);const De=C.XpG();return C.DH7(De.data.rememberCertificateAction,Ne)||(De.data.rememberCertificateAction=Ne),C.Njj(Ne)}),C.k0s(),C.j41(5,"span",48),C.EFF(6),C.nI1(7,"translate"),C.k0s()()()()()}if(2&S){const K=C.XpG();C.R7$(4),C.R50("ngModel",K.data.rememberCertificateAction),C.R7$(2),C.SpI(" ",C.bMT(7,2,"Clients.Import.Wizard.Certificates.RememberMyDecision")," ")}}var L=function(S){return S[S.DoNotSet=0]="DoNotSet",S[S.UseExisting=1]="UseExisting",S[S.ManuallyCreate=2]="ManuallyCreate",S}(L||{}),J=function(S){return S[S.Request=0]="Request",S[S.Response=1]="Response",S}(J||{});let q=(()=>{class S extends n.P{get data(){return this._selectableImportResource}set data(K){this._selectableImportResource=K}constructor(K,me,Ne,De){super(),this.fb=K,this.changeDetector=me,this.toastr=Ne,this.translate=De,this.CertificateAction=L,this.ActiveTab=J}ngOnInit(){if(this.form=this.fb.group({certificateAction:[L.UseExisting,e.k0.required]}),this.data){let me;me=this.data.existingHasCertificates?this.data.certificateAction===L.ManuallyCreate?L.ManuallyCreate:L.UseExisting:L.DoNotSet,this.data.certificateAction=me,this.form.get("certificateAction").setValue(me),this.displayResourceType=w.n.getSummaryDisplayType(this.data.resourceType)}this.data.certificateAction===L.ManuallyCreate&&(this.showCertificatePicker=!0,this.changeDetector.detectChanges(),this.data.certificates&&(this.activeTab=J.Request,this.data.certificates.SigningCertificates&&this.data.certificates.SigningCertificates.length>0?this.activeTab=J.Request:this.data.certificates.EncryptionCertificate&&(this.activeTab=J.Response))),this.form.valueChanges.subscribe(()=>{const K=this.form.value.certificateAction;this.data.certificateAction=K,K===L.ManuallyCreate?(this.showCertificatePicker=!0,this.activeTab=J.Request,this.changeDetector.detectChanges()):this.showCertificatePicker=!1}),this.updatedCertificatesObservable&&this.updatedCertificatesObservable.unsubscribe()}addCert(){this.updatedCertificatesObservable&&(this.updatedCertificatesObservable.unsubscribe(),this.updatedCertificatesObservable=null),this.updatedCertificateSubject=new p.B,this.updatedCertificatesObservable=this.updatedCertificateSubject.subscribe(K=>{this.activeTab===J.Request?(this.stripContentTypeFromData(K),this.data.certificates.SigningCertificates.some(me=>me.base64Cert===K.base64Cert)?this.toastr.error(this.translate.instant("Clients.Import.Wizard.Certificates.DuplicateCertificate"),this.translate.instant("Clients.Import.Wizard.Certificates.InvalidCertificate")):this.data.certificates.SigningCertificates.push(K)):(this.stripContentTypeFromData(K),this.data.certificates.EncryptionCertificate=K)}),this.openModal(y.M.importUploadCertificate,this.updatedCertificatesObservable)}stripContentTypeFromData(K){const me=K.base64Cert.split("base64,");me.length>1&&(K.base64Cert=me[1])}deleteCert(K){if(this.activeTab===J.Request){const me=this.data.certificates.SigningCertificates.indexOf(K);this.data.certificates.SigningCertificates.splice(me,1)}else this.data.certificates.EncryptionCertificate=null}goNext(){this.data.certificateAction===L.ManuallyCreate&&(!this.data.certificates||!(this.data.certificates.SigningCertificates.length>0||this.data.certificates.EncryptionCertificate&&this.data.certificates.EncryptionCertificate.base64Cert))||(this.data.certificateAction===L.DoNotSet?(this.data.certificates.SigningCertificates=[],this.data.certificates.EncryptionCertificate=null):this.data.certificateAction===L.UseExisting&&(this.data.useExistingCertificates=!0),this.next())}disableNext(){return!(this.data.certificateAction===L.DoNotSet||this.data.certificateAction===L.UseExisting||null!==this.data.certificates&&(null!==this.data.certificates.SigningCertificates&&0!==this.data.certificates.SigningCertificates.length||this.data.certificates.EncryptionCertificate&&""!==this.data.certificates.EncryptionCertificate.base64Cert))}ngOnDestroy(){this.updatedCertificatesObservable&&this.updatedCertificatesObservable.unsubscribe()}static{this.\u0275fac=function(me){return new(me||S)(C.rXU(e.ze),C.rXU(C.gRc),C.rXU(m.tw),C.rXU(u.c$))}}static{this.\u0275cmp=C.VBU({type:S,selectors:[["app-import-certificates"]],features:[C.Vt3],decls:38,vars:29,consts:[["existingHasCertificates",""],[1,"modal-body"],[1,"tw-mb-4"],[1,"tw-font-semibold","tw-mr-2"],["id","displayName"],[1,"cms"],["id","certActionsLabel"],[3,"formGroup"],["role","group","aria-labelledby","certActionsLabel",1,"tw-form-checks"],["class","tw-form-checks__item",4,"ngIf","ngIfElse"],[1,"tw-form-checks__item"],["for","manually-create",1,"tw-form-checks__label"],["id","manually-create","formControlName","certificateAction","type","radio",1,"tw-form-checks__input",3,"value"],[4,"ngIf"],["class","tw-border-t tw-border-grey-200 tw-px-4 tw-pt-4 tw--mx-5 tw-mt-4",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],["id","backBtn",1,"tw-btn",3,"click"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],["for","do-not-set",1,"tw-form-checks__label"],["id","do-not-set","formControlName","certificateAction","type","radio",1,"tw-form-checks__input",3,"value"],["for","existing-certificate",1,"tw-form-checks__label"],["id","existing-certificate","formControlName","certificateAction","type","radio",1,"tw-form-checks__input",3,"value"],[1,"pill-tabs"],[1,"pill-tabs__item"],["id","requestSpan",1,"pill-tabs__link",3,"click"],["id","responseSpan",1,"pill-tabs__link",3,"click"],["id","noCertsAlert","class","tw-alert tw-mb-4","role","alert",4,"ngIf"],[1,"tw-flex","tw-justify-end"],["id","addButton","class","tw-btn-success",3,"click",4,"ngIf"],["id","certificateTable","class","datatable hover tw-mb-4",4,"ngIf"],["id","certificateTable",1,"datatable","hover","tw-mb-4"],[1,""],[1,"tw-w-1"],[1,"sr-only"],[4,"ngFor","ngForOf"],[1,"tw-max-w-0","tw-truncate"],["type","button",1,"tw-btn-link","tw-btn-small","tw-text-red-500",3,"click"],["aria-hidden","true",1,"fas","fa-times"],["id","noCertsAlert","role","alert",1,"tw-alert","tw-mb-4"],["id","addButton",1,"tw-btn-success",3,"click"],[1,"tw-border-t","tw-border-grey-200","tw-px-4","tw-pt-4","tw--mx-5","tw-mt-4"],[1,"tw-form-checks"],["for","remember-my-decision",1,"tw-form-checks__label"],["id","remember-my-decision","type","checkbox",1,"tw-form-checks__input",3,"ngModelChange","ngModel"],[1,"tw-font-normal"]],template:function(me,Ne){if(1&me){const De=C.RV6();C.j41(0,"div",1)(1,"h2",2)(2,"span",3),C.EFF(3),C.nI1(4,"translate"),C.k0s(),C.j41(5,"span",4),C.EFF(6),C.nI1(7,"translate"),C.k0s()(),C.j41(8,"div",5)(9,"p",6),C.EFF(10),C.nI1(11,"translate"),C.k0s()(),C.j41(12,"form",7)(13,"ul",8),C.DNE(14,T,6,4,"li",9)(15,O,6,4,"ng-template",null,0,C.C5r),C.j41(17,"li",10)(18,"label",11),C.nrm(19,"input",12),C.j41(20,"span"),C.EFF(21),C.nI1(22,"translate"),C.k0s()()()()(),C.DNE(23,ie,15,14,"div",13)(24,se,8,4,"div",14),C.k0s(),C.nrm(25,"div",15),C.j41(26,"div",16)(27,"div",17)(28,"div",18)(29,"button",19),C.bIt("click",function(){return C.eBV(De),C.Njj(Ne.goNext())}),C.EFF(30),C.nI1(31,"translate"),C.k0s(),C.j41(32,"button",20),C.bIt("click",function(){return C.eBV(De),C.Njj(Ne.back())}),C.EFF(33),C.nI1(34,"translate"),C.k0s()(),C.j41(35,"button",21),C.bIt("click",function(){return C.eBV(De),C.Njj(Ne.cancel())}),C.EFF(36),C.nI1(37,"translate"),C.k0s()()()}if(2&me){const De=C.sdS(16);C.R7$(3),C.SpI("",C.bMT(4,15,"Clients.Import.Wizard.Certificates.Title"),":"),C.R7$(3),C.Lme("",null==Ne.data?null:Ne.data.displayName," (",C.bMT(7,17,"Clients.Import.Wizard.Secrets."+Ne.displayResourceType),")"),C.R7$(4),C.JRh(C.bMT(11,19,"Clients.Import.Wizard.Certificates.ChooseWhatToDo")),C.R7$(2),C.Y8G("formGroup",Ne.form),C.R7$(2),C.Y8G("ngIf",!(null!=Ne.data&&Ne.data.existingHasCertificates))("ngIfElse",De),C.R7$(5),C.Y8G("value",Ne.CertificateAction.ManuallyCreate),C.R7$(2),C.JRh(C.bMT(22,21,"Clients.Import.Wizard.Certificates.UploadNewCertificates")),C.R7$(2),C.Y8G("ngIf",Ne.showCertificatePicker),C.R7$(),C.Y8G("ngIf",!Ne.showCertificatePicker),C.R7$(5),C.Y8G("disabled",Ne.disableNext()),C.R7$(),C.JRh(C.bMT(31,23,"Common.Next")),C.R7$(3),C.JRh(C.bMT(34,25,"Common.Back")),C.R7$(3),C.JRh(C.bMT(37,27,"Common.Cancel"))}},dependencies:[f.Sq,f.bT,e.qT,e.me,e.Zm,e.Fm,e.BC,e.cb,e.vS,e.j4,e.JD,u.D9],encapsulation:2})}}return S})()},4406:(nt,fe,h)=>{"use strict";h.d(fe,{X:()=>w});var n=h(6799),e=h(4438),y=h(5826),p=h(1780);let w=(()=>{class C extends n.P{constructor(u){super(),this.importWizardService=u,this.hideProgressBar=!0}downloadAndQuit(){this.importWizardService.downloadClientSecretsFromCache().subscribe(()=>{this.quit()})}yes(){this.quit()}static{this.\u0275fac=function(f){return new(f||C)(e.rXU(y.o))}}static{this.\u0275cmp=e.VBU({type:C,selectors:[["app-import-download-warning"]],features:[e.Vt3],decls:17,vars:15,consts:[[1,"modal-body","tw-text-center"],[1,"tw-mb-4"],[1,"tw-pill-danger"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","leaveBtn",1,"tw-btn-success",3,"click"],["id","stayBtn",1,"tw-btn-link","tw--mr-4",3,"click"]],template:function(f,T){1&f&&(e.j41(0,"div",0)(1,"p",1),e.EFF(2),e.nI1(3,"translate"),e.nI1(4,"translate"),e.k0s(),e.j41(5,"p",2),e.EFF(6),e.nI1(7,"translate"),e.k0s()(),e.j41(8,"div",3)(9,"div",4)(10,"div",5)(11,"button",6),e.bIt("click",function(){return T.downloadAndQuit()}),e.EFF(12),e.nI1(13,"translate"),e.k0s()(),e.j41(14,"button",7),e.bIt("click",function(){return T.yes()}),e.EFF(15),e.nI1(16,"translate"),e.k0s()()()),2&f&&(e.R7$(2),e.Lme(" ",e.bMT(3,5,"Clients.Import.Wizard.Warning.DownloadSecrets")," ",e.bMT(4,7,"Clients.Import.Wizard.Warning.Text2")," "),e.R7$(4),e.JRh(e.bMT(7,9,"Secret Picker.LastWarning")),e.R7$(6),e.JRh(e.bMT(13,11,"Clients.Import.Wizard.CompleteImport.DownloadSecrets")),e.R7$(3),e.JRh(e.bMT(16,13,"Clients.Import.Wizard.CompleteImport.FinishImport")))},dependencies:[p.D9],encapsulation:2})}}return C})()},1138:(nt,fe,h)=>{"use strict";h.d(fe,{r:()=>N,u:()=>G});var n=h(1744),e=h(9417),y=h(785),p=h(7263),w=h(6799),C=h(590),m=h(4438),u=h(1780),f=h(177),T=h(9764);const O=["secretPicker"];function F(R,j){if(1&R&&(m.j41(0,"li",11)(1,"label",28),m.nrm(2,"input",29),m.j41(3,"span"),m.EFF(4),m.nI1(5,"translate"),m.k0s()()()),2&R){const U=m.XpG();m.R7$(2),m.Y8G("value",U.SecretsActions.DoNotSet),m.R7$(2),m.JRh(m.bMT(5,2,"Clients.Import.Wizard.Secrets.DoNotSet"))}}function b(R,j){if(1&R&&(m.j41(0,"li",11)(1,"label",30),m.nrm(2,"input",31),m.j41(3,"span"),m.EFF(4),m.nI1(5,"translate"),m.k0s()()()),2&R){const U=m.XpG();m.R7$(2),m.Y8G("value",U.SecretsActions.UseExistingSecret),m.R7$(2),m.JRh(m.bMT(5,2,"Clients.Import.Wizard.Secrets.UseExistingSecrets"))}}function M(R,j){if(1&R&&m.nrm(0,"app-secret-picker",32,1),2&R){const U=m.XpG();m.Y8G("clientSecrets",U.possibleSecrets)("nonModelCertPicker",!1)}}function k(R,j){if(1&R){const U=m.RV6();m.j41(0,"div",33)(1,"ul",34)(2,"li",11)(3,"label",35)(4,"input",36),m.mxI("ngModelChange",function(ie){m.eBV(U);const se=m.XpG();return m.DH7(se.data.rememberSecretAction,ie)||(se.data.rememberSecretAction=ie),m.Njj(ie)}),m.k0s(),m.j41(5,"span",37),m.EFF(6),m.nI1(7,"translate"),m.k0s()()()()()}if(2&R){const U=m.XpG();m.R7$(4),m.R50("ngModel",U.data.rememberSecretAction),m.R7$(2),m.SpI(" ",m.bMT(7,2,"Clients.Import.Wizard.Secrets.RememberMyDecision")," ")}}var N=function(R){return R[R.DoNotSet=0]="DoNotSet",R[R.Generate=1]="Generate",R[R.ManuallyCreate=2]="ManuallyCreate",R[R.UseExistingSecret=3]="UseExistingSecret",R}(N||{});let G=(()=>{class R extends w.P{get data(){return this._selectableImportResource}set data(U){this._selectableImportResource=U}constructor(U,$,ie){super(),this.translate=U,this.fb=$,this.changeDetector=ie,this.SecretsActions=N,this.possibleSecrets=[]}ngOnInit(){if(this.form=this.fb.group({secretAction:["",e.k0.required]}),this.data){const U=this.data.existingHasSecrets?N.UseExistingSecret:N.DoNotSet;this.form.get("secretAction").setValue(U),this.displayResourceType=this.data.resourceType===n.ot.Client?C.n.client:C.n.protectedResource}this.data.secrets&&this.data.secrets.length>0&&(this.data.secretsAction===N.ManuallyCreate?(this.possibleSecrets=this.data.secrets,this.form.setValue({secretAction:N.ManuallyCreate}),this.showSecretPicker=!0,this.changeDetector.detectChanges(),this.secretPicker.displayWarnings=!1,this.manageSecretStreams()):this.form.setValue({secretAction:N.Generate})),this.form.valueChanges.subscribe(()=>{const U=this.form.value.secretAction;this.data.secretsAction=U,U===N.ManuallyCreate?(this.showSecretPicker=!0,this.changeDetector.detectChanges(),this.secretPicker.displayWarnings=!1,this.manageSecretStreams()):this.showSecretPicker=!1})}getResourceType(){return this.data?n.ot[this.data.resourceType]:""}goNext(){const U=this.form.get("secretAction");if(U.value===N.DoNotSet)this.data.secrets=[];else if(U.value===N.UseExistingSecret)this.data.useExistingSecrets=!0;else if(U.value===N.Generate){const $=new y.z;$.value=(0,p.Nl)(),$.type="Shared Secret",$.description="",this.data.secrets=[$]}else this.data.secrets=this.possibleSecrets;this.data.secretsAction=this.form.get("secretAction").value,this.next()}manageSecretStreams(){this.secretAddSubscription=this.secretPicker.secretsAddStream.subscribe(U=>{this.possibleSecrets.push(U)}),this.secretDeleteSubscription=this.secretPicker.secretsRemoveStream.subscribe(U=>{this.secretPicker.clientSecrets.splice(this.secretPicker.clientSecrets.indexOf(U),1)})}ngOnDestroy(){this.secretAddSubscription&&(this.secretAddSubscription.unsubscribe(),this.secretDeleteSubscription.unsubscribe())}static{this.\u0275fac=function($){return new($||R)(m.rXU(u.c$),m.rXU(e.ze),m.rXU(m.gRc))}}static{this.\u0275cmp=m.VBU({type:R,selectors:[["app-import-secrets"]],viewQuery:function($,ie){if(1&$&&m.GBs(O,5),2&$){let se;m.mGM(se=m.lsd())&&(ie.secretPicker=se.first)}},features:[m.Vt3],decls:51,vars:38,consts:[["existingHasSecrets",""],["secretPicker",""],[1,"modal-body"],[1,"tw-mb-4"],[1,"tw-font-semibold","tw-mr-2"],["id","displayName"],[1,"cms"],["id","secretActionsLabel"],[3,"formGroup"],["role","group","aria-labelledby","secretActionsLabel",1,"tw-form-checks"],["class","tw-form-checks__item",4,"ngIf","ngIfElse"],[1,"tw-form-checks__item"],["for","generate",1,"tw-form-checks__label"],["id","generate","formControlName","secretAction","type","radio",1,"tw-form-checks__input",3,"value"],["for","manually-create",1,"tw-form-checks__label"],["id","manually-create","formControlName","secretAction","type","radio",1,"tw-form-checks__input",3,"value"],[1,"tw-text-center","tw-mb-8"],[1,"tw-pill","tw-mx-auto"],[1,"tw-font-bold"],[3,"clientSecrets","nonModelCertPicker",4,"ngIf"],["class","tw-border-t tw-border-grey-200 tw-px-4 tw-pt-4 tw--mx-5 tw-mt-4",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"click"],["id","backBtn",1,"tw-btn",3,"click"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],["for","do-not-set",1,"tw-form-checks__label"],["id","do-not-set","formControlName","secretAction","type","radio",1,"tw-form-checks__input",3,"value"],["for","existing-secrets",1,"tw-form-checks__label"],["id","existing-secrets","formControlName","secretAction","type","radio",1,"tw-form-checks__input",3,"value"],[3,"clientSecrets","nonModelCertPicker"],[1,"tw-border-t","tw-border-grey-200","tw-px-4","tw-pt-4","tw--mx-5","tw-mt-4"],[1,"tw-form-checks"],["for","remember-my-decision",1,"tw-form-checks__label"],["id","remember-my-decision","type","checkbox",1,"tw-form-checks__input",3,"ngModelChange","ngModel"],[1,"tw-font-normal"]],template:function($,ie){if(1&$){const se=m.RV6();m.j41(0,"div",2)(1,"h2",3)(2,"span",4),m.EFF(3),m.nI1(4,"translate"),m.k0s(),m.j41(5,"span",5),m.EFF(6),m.nI1(7,"translate"),m.k0s()(),m.j41(8,"div",6)(9,"p",7),m.EFF(10),m.nI1(11,"translate"),m.k0s()(),m.j41(12,"form",8)(13,"ul",9),m.DNE(14,F,6,4,"li",10)(15,b,6,4,"ng-template",null,0,m.C5r),m.j41(17,"li",11)(18,"label",12),m.nrm(19,"input",13),m.j41(20,"span"),m.EFF(21),m.nI1(22,"translate"),m.k0s()()(),m.j41(23,"li",11)(24,"label",14),m.nrm(25,"input",15),m.j41(26,"span"),m.EFF(27),m.nI1(28,"translate"),m.k0s()()()()(),m.j41(29,"div",16)(30,"p",17)(31,"b",18),m.EFF(32),m.nI1(33,"translate"),m.k0s(),m.EFF(34),m.nI1(35,"translate"),m.k0s()(),m.DNE(36,M,2,2,"app-secret-picker",19)(37,k,8,4,"div",20),m.k0s(),m.nrm(38,"div",21),m.j41(39,"div",22)(40,"div",23)(41,"div",24)(42,"button",25),m.bIt("click",function(){return m.eBV(se),m.Njj(ie.goNext())}),m.EFF(43),m.nI1(44,"translate"),m.k0s(),m.j41(45,"button",26),m.bIt("click",function(){return m.eBV(se),m.Njj(ie.back())}),m.EFF(46),m.nI1(47,"translate"),m.k0s()(),m.j41(48,"button",27),m.bIt("click",function(){return m.eBV(se),m.Njj(ie.cancel())}),m.EFF(49),m.nI1(50,"translate"),m.k0s()()()}if(2&$){const se=m.sdS(16);m.R7$(3),m.SpI("",m.bMT(4,18,"Clients.Import.Wizard.Secrets.Title"),":"),m.R7$(3),m.Lme("",null==ie.data?null:ie.data.displayName," (",m.bMT(7,20,"Clients.Import.Wizard.Secrets."+ie.displayResourceType),")"),m.R7$(4),m.JRh(m.bMT(11,22,"Clients.Import.Wizard.Secrets.ChooseWhatToDo")),m.R7$(2),m.Y8G("formGroup",ie.form),m.R7$(2),m.Y8G("ngIf",!(null!=ie.data&&ie.data.existingHasSecrets))("ngIfElse",se),m.R7$(5),m.Y8G("value",ie.SecretsActions.Generate),m.R7$(2),m.JRh(m.bMT(22,24,"Clients.Import.Wizard.Secrets.Generate")),m.R7$(4),m.Y8G("value",ie.SecretsActions.ManuallyCreate),m.R7$(2),m.JRh(m.bMT(28,26,"Clients.Import.Wizard.Secrets.ManuallyCreate")),m.R7$(5),m.SpI("",m.bMT(33,28,"Clients.Import.Wizard.Secrets.Note.Title"),":"),m.R7$(2),m.SpI(" ",m.bMT(35,30,"Clients.Import.Wizard.Secrets.Note.Note")," "),m.R7$(2),m.Y8G("ngIf",ie.showSecretPicker),m.R7$(),m.Y8G("ngIf",!ie.showSecretPicker),m.R7$(6),m.JRh(m.bMT(44,32,"Common.Next")),m.R7$(3),m.JRh(m.bMT(47,34,"Common.Back")),m.R7$(3),m.JRh(m.bMT(50,36,"Common.Cancel"))}},dependencies:[f.bT,e.qT,e.me,e.Zm,e.Fm,e.BC,e.cb,e.vS,e.j4,e.JD,T.s,u.D9],encapsulation:2})}}return R})()},5696:(nt,fe,h)=>{"use strict";h.d(fe,{s:()=>L});var n=h(1744),e=h(4414),y=h(6799),p=h(4438),w=h(5826),C=h(1780),m=h(177);const u=(J,q,S,re,K)=>({title:J,editable:!0,header1:q,header2:S,header3:re,data:K}),f=(J,q,S,re,K,me)=>({title:J,editable:q,header1:S,header2:re,header3:K,data:me}),T=J=>({"inactive disabled tw-opacity-50 tw-pointer-events-none":J});function O(J,q){1&J&&p.eu8(0)}function F(J,q){if(1&J&&(p.j41(0,"div"),p.DNE(1,O,1,0,"ng-container",12),p.nI1(2,"translate"),p.nI1(3,"translate"),p.nI1(4,"translate"),p.nI1(5,"translate"),p.k0s()),2&J){const S=p.XpG(),re=p.sdS(9);p.R7$(),p.Y8G("ngTemplateOutlet",re)("ngTemplateOutletContext",p.s1E(10,u,p.bMT(2,2,"Nav.Clients"),p.bMT(3,4,"Clients.Import.Wizard.Summary.Name.Client"),p.bMT(4,6,"Clients.Import.Wizard.Summary.Identifier.Client"),p.bMT(5,8,"Clients.Import.Wizard.Summary.Type.Client"),S.clients))}}function b(J,q){1&J&&p.eu8(0)}function M(J,q){if(1&J&&(p.j41(0,"div",13),p.DNE(1,b,1,0,"ng-container",12),p.nI1(2,"translate"),p.nI1(3,"translate"),p.nI1(4,"translate"),p.nI1(5,"translate"),p.k0s()),2&J){const S=p.XpG(),re=p.sdS(9);p.R7$(),p.Y8G("ngTemplateOutlet",re)("ngTemplateOutletContext",p.l4e(10,f,p.bMT(2,2,"Nav.Resources"),S.canEdit(S.resources),p.bMT(3,4,"Clients.Import.Wizard.Summary.Name.Resource"),p.bMT(4,6,"Clients.Import.Wizard.Summary.Identifier.Resource"),p.bMT(5,8,"Clients.Import.Wizard.Summary.Type.Resource"),S.resources))}}function k(J,q){1&J&&p.eu8(0)}function N(J,q){if(1&J&&(p.j41(0,"div",13),p.DNE(1,k,1,0,"ng-container",12),p.nI1(2,"translate"),p.nI1(3,"translate"),p.nI1(4,"translate"),p.nI1(5,"translate"),p.k0s()),2&J){const S=p.XpG(),re=p.sdS(9);p.R7$(),p.Y8G("ngTemplateOutlet",re)("ngTemplateOutletContext",p.l4e(10,f,p.bMT(2,2,"Nav.ClaimTypes"),S.canEdit(S.claims),p.bMT(3,4,"Clients.Import.Wizard.Summary.Name.Resource"),p.bMT(4,6,"Clients.Import.Wizard.Summary.Identifier.ClaimType"),p.bMT(5,8,"Clients.Import.Wizard.Summary.Type.ClaimType"),S.claims))}}function G(J,q){if(1&J&&(p.qex(0),p.j41(1,"td",31),p.nrm(2,"span",32),p.k0s(),p.j41(3,"td")(4,"span",33),p.EFF(5),p.k0s()(),p.bVm()),2&J){const S=p.XpG().$implicit,re=p.XpG(2);p.R7$(5),p.JRh(re.getConflicts(S))}}function R(J,q){1&J&&p.nrm(0,"span",37)}function j(J,q){1&J&&p.nrm(0,"span",38)}function U(J,q){1&J&&p.nrm(0,"span",32)}function $(J,q){if(1&J&&(p.qex(0),p.j41(1,"td",31),p.DNE(2,R,1,0,"span",34)(3,j,1,0,"span",35)(4,U,1,0,"span",36),p.k0s(),p.j41(5,"td")(6,"span",33),p.EFF(7),p.k0s()(),p.bVm()),2&J){const S=p.XpG().$implicit,re=p.XpG(2);p.R7$(2),p.Y8G("ngIf",S.resourceState==re.resourceStates.New),p.R7$(),p.Y8G("ngIf",S.resourceState==re.resourceStates.Duplicate),p.R7$(),p.Y8G("ngIf",S.conflictedByDependencies),p.R7$(2),p.AVh("tw-italic",S.resourceState===re.resourceStates.Duplicate),p.R7$(),p.SpI(" ",re.getResourceState(S)," ")}}function ie(J,q){if(1&J&&(p.j41(0,"tr",27)(1,"td",28)(2,"b"),p.EFF(3),p.k0s()(),p.j41(4,"td",29),p.EFF(5),p.k0s(),p.j41(6,"td",30),p.EFF(7),p.nI1(8,"translate"),p.k0s(),p.DNE(9,G,6,1,"ng-container",3)(10,$,8,6,"ng-container",3),p.k0s()),2&J){const S=q.$implicit,re=p.XpG(2);p.Y8G("ngClass",p.eq3(9,T,S.resourceState===re.resourceStates.Duplicate)),p.R7$(),p.Y8G("title",S.displayName),p.R7$(2),p.JRh(S.displayName),p.R7$(2),p.SpI(" ",S.identifier," "),p.R7$(2),p.SpI(" ",p.bMT(8,7,"Clients.Import.Wizard.Summary.ResourceTypes."+S.displayType)," "),p.R7$(2),p.Y8G("ngIf",S.resourceState===re.resourceStates.Conflicted&&!S.conflictedByDependencies),p.R7$(),p.Y8G("ngIf",S.resourceState!==re.resourceStates.Conflicted||S.conflictedByDependencies)}}function se(J,q){if(1&J){const S=p.RV6();p.j41(0,"h2",14)(1,"span",15),p.EFF(2),p.k0s(),p.j41(3,"button",16),p.bIt("click",function(){const K=p.eBV(S).data,me=p.XpG();return p.Njj(me.editResourceSummary(K))}),p.nrm(4,"span",17),p.j41(5,"span",18),p.EFF(6),p.nI1(7,"translate"),p.k0s()()(),p.j41(8,"table",19)(9,"thead")(10,"tr")(11,"th",20),p.EFF(12),p.k0s(),p.j41(13,"th",21),p.EFF(14),p.k0s(),p.j41(15,"th",22),p.EFF(16),p.k0s(),p.nrm(17,"td",23),p.j41(18,"th",24)(19,"span",25),p.EFF(20),p.nI1(21,"translate"),p.k0s()()()(),p.j41(22,"tbody"),p.DNE(23,ie,11,11,"tr",26),p.k0s()()}if(2&J){const S=q.title,re=q.editable,K=q.header1,me=q.header2,Ne=q.header3,De=q.data;p.R7$(2),p.JRh(S),p.R7$(),p.Y8G("disabled",!re),p.R7$(3),p.JRh(p.bMT(7,8,"Common.Edit")),p.R7$(6),p.JRh(K),p.R7$(2),p.JRh(me),p.R7$(2),p.JRh(Ne),p.R7$(4),p.JRh(p.bMT(21,10,"Common.Status")),p.R7$(3),p.Y8G("ngForOf",De)}}let L=(()=>{class J extends y.P{constructor(S,re){super(),this.importWizardService=S,this.translate=re,this.resourceStates=n.jD,this.resourceTypes=n.ot}ngOnInit(){this.importWizardService.cache.subscribe(S=>{const re=[this.resourceStates.Conflicted,this.resourceStates.New,this.resourceStates.Duplicate],K=S.filter(De=>De.resourceType===n.ot.Client&&(De.selected||De.resourceState===n.jD.Duplicate)),me=[],Ne=[];S.forEach(De=>{De.resourceType!==n.ot.Client&&K.some(xe=>De.dependantClients.some(Qe=>Qe.identifier===xe.identifier))&&(De.resourceType===n.ot.ClaimType?me.push(De):Ne.push(De))}),this.clients=K.sort((De,xe)=>re.indexOf(De.resourceState)-re.indexOf(xe.resourceState)),this.claims=me.sort((De,xe)=>re.indexOf(De.resourceState)-re.indexOf(xe.resourceState)),this.resources=Ne.sort((De,xe)=>re.indexOf(De.resourceState)-re.indexOf(xe.resourceState))})}canNext(){return!0}goNext(){this.next()}viewConflicts(S,re){S.stopPropagation(),this.openModal(e.M.summaryConflicts,re)}getResourceState(S){return S.conflictedByDependencies?this.translate.instant("Clients.Import.Wizard.Summary.DependencyConflicts"):this.resourceStates[S.resourceState]}canEdit(S){return S.length>0&&S.some(re=>re.resourceState!==n.jD.Duplicate)}editResourceSummary(S){this.importWizardController.goToSummaryStep(S[0].resourceType)}getConflicts(S){let K,re=0;return S.conflicts.forEach(me=>{re+=me.conflicts.length}),K=this.translate.instant(1===re?"Clients.Import.Wizard.Summary.Change":"Clients.Import.Wizard.Summary.Changes"),re+" "+K}static{this.\u0275fac=function(re){return new(re||J)(p.rXU(w.o),p.rXU(C.c$))}}static{this.\u0275cmp=p.VBU({type:J,selectors:[["app-import-summary-all"]],features:[p.Vt3],decls:23,vars:16,consts:[["commonDatatable",""],[1,"modal-body"],[1,"cms"],[4,"ngIf"],["class","tw-mt-8",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],["id","backBtn",1,"tw-btn",3,"click"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"tw-mt-8"],[1,"tw-border-b","tw-border-grey-200","tw-mb-3","tw-pb-1","tw-font-semibold","md:tw-flex","md:tw-items-center"],[1,"tw-block","tw-mb-2","md:tw-mb-0"],[1,"tw-btn","tw-btn-small","tw-btn-link","md:tw-ml-auto",3,"click","disabled"],["aria-hidden","true",1,"fad","fa-pencil"],[1,"tw-ml-2"],[1,"datatable"],[1,"md:tw-w-1/3","lg:tw-w-1/4"],[1,"tw-hidden","sm:tw-table-cell","md:tw-w-1/3"],[1,"tw-hidden","lg:tw-table-cell"],["aria-hidden","true",1,"tw-hidden","tw-w-1","xs:tw-table-cell"],[1,"tw-w-1"],[1,"sr-only"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"tw-truncate","tw-max-w-0",3,"title"],[1,"tw-hidden","tw-truncate","sm:tw-table-cell"],[1,"tw-hidden","tw-truncate","lg:tw-table-cell"],["aria-hidden","true",1,"tw-hidden","tw-text-right","xs:tw-table-cell"],[1,"fas","fa-exclamation-triangle","tw-text-orange-500","tw--mr-3"],[1,"tw-whitespace-nowrap"],["class","fas fa-check tw-text-green-500 tw--mr-3",4,"ngIf"],["class","far fa-copy tw--mr-3",4,"ngIf"],["class","fas fa-exclamation-triangle tw-text-orange-500 tw--mr-3",4,"ngIf"],[1,"fas","fa-check","tw-text-green-500","tw--mr-3"],[1,"far","fa-copy","tw--mr-3"]],template:function(re,K){if(1&re){const me=p.RV6();p.j41(0,"div",1)(1,"div",2)(2,"p"),p.EFF(3),p.nI1(4,"translate"),p.k0s()(),p.DNE(5,F,6,16,"div",3)(6,M,6,17,"div",4)(7,N,6,17,"div",4)(8,se,24,12,"ng-template",null,0,p.C5r),p.k0s(),p.nrm(10,"div",5),p.j41(11,"div",6)(12,"div",7)(13,"div",8)(14,"button",9),p.bIt("click",function(){return p.eBV(me),p.Njj(K.goNext())}),p.EFF(15),p.nI1(16,"translate"),p.k0s(),p.j41(17,"button",10),p.bIt("click",function(){return p.eBV(me),p.Njj(K.back())}),p.EFF(18),p.nI1(19,"translate"),p.k0s()(),p.j41(20,"button",11),p.bIt("click",function(){return p.eBV(me),p.Njj(K.cancel())}),p.EFF(21),p.nI1(22,"translate"),p.k0s()()()}2&re&&(p.R7$(3),p.JRh(p.bMT(4,8,"Clients.Import.Wizard.Summary.FinalSummary")),p.R7$(2),p.Y8G("ngIf",(null==K.clients?null:K.clients.length)>0),p.R7$(),p.Y8G("ngIf",(null==K.resources?null:K.resources.length)>0),p.R7$(),p.Y8G("ngIf",(null==K.claims?null:K.claims.length)>0),p.R7$(7),p.Y8G("disabled",!K.canNext()),p.R7$(),p.JRh(p.bMT(16,10,"Clients.Import.Import")),p.R7$(3),p.JRh(p.bMT(19,12,"Common.Back")),p.R7$(3),p.JRh(p.bMT(22,14,"Common.Cancel")))},dependencies:[m.YU,m.Sq,m.bT,m.T3,C.D9],encapsulation:2})}}return J})()},7629:(nt,fe,h)=>{"use strict";h.d(fe,{oG:()=>tt});var n=h(1744),e=h(4414),y=h(7263),p=h(590),w=h(6799);let C=(()=>{class It{static{this.RelyingPartyProperty="RelyingParty"}static{this.RelyingPartyIdentifier="Relying Party"}static{this.ServiceProviderProperty="ServiceProvider"}static{this.ServiceProviderIdentifier="Service Provider"}static{this.ClaimsProperty="Claims"}static{this.PropertiesProperty="Properties"}static{this.ScopesProperty="Scopes"}static{this.UserClaimsProperty="UserClaims"}static{this.sloProperty="SingleLogoutServices"}static{this.acsProperty="AssertionConsumerServices"}static{this.sloIdentifier="Single Logout Services"}static{this.acsIdentifier="Assertion Consumer Services"}static{this.ClaimMappingsIdentifier="Claim Mappings"}static{this.ClaimMappingsKey="ClaimMappings"}static{this.SamlDisplayType="Saml"}static{this.WsFedDisplayType="WsFed"}static{this.Client="Client"}static{this.Endpoint="Endpoint"}static{this.ProtectedResources="ProtectedResources"}static{this.IdentityResources="IdentityResources"}static{this.ClaimTypes="ClaimTypes"}static{this.Secrets="Secrets"}static{this.Certificates="Certificates"}}return It})();var m=h(4438),u=h(5826),f=h(1780),T=h(7005),O=h(177);let F=(()=>{class It{transform(Gt){if(Gt){const lt=[...Gt];let Ct="",yt="";for(let Ot=0;Ot<lt.length;Ot++){const en=lt[Ot];if(0===Ct.length)Ct=en.toUpperCase();else if(Ot+1===lt.length)yt===yt.toUpperCase()||en===en.toLowerCase()?Ct+=en:Ct+=`${en}`;else if(en===en.toUpperCase()){const Sn=yt===yt.toUpperCase(),Un=lt[Ot+1];Sn?Un===Un.toLowerCase()?Ct+=` ${en}`:Ct+=en:Ct+=` ${en}`}else Ct+=en;yt=en}Gt=Ct}return Gt}static{this.\u0275fac=function(lt){return new(lt||It)}}static{this.\u0275pipe=m.EJ8({name:"beautifyPropertyName",type:It,pure:!0})}}return It})();const b=["importSummaryConflictsModal"];function M(It,Dn){1&It&&m.nrm(0,"span",25)}function k(It,Dn){1&It&&m.nrm(0,"span",26)}function N(It,Dn){1&It&&(m.j41(0,"span",36),m.EFF(1,", "),m.k0s())}function G(It,Dn){if(1&It&&(m.j41(0,"li",34)(1,"span"),m.EFF(2),m.k0s(),m.DNE(3,N,2,0,"span",35),m.k0s()),2&It){const Gt=Dn.$implicit,lt=Dn.last;m.R7$(2),m.JRh(Gt.displayName),m.R7$(),m.Y8G("ngIf",!lt)}}function R(It,Dn){if(1&It&&(m.j41(0,"dl",30)(1,"dt",31),m.EFF(2),m.nI1(3,"translate"),m.k0s(),m.j41(4,"dd")(5,"ul",32),m.DNE(6,G,4,2,"li",33),m.k0s()()()),2&It){const Gt=m.XpG(3);m.R7$(2),m.SpI(" ",m.bMT(3,2,"Clients.Import.Wizard.Summary.EffectsImportClients"),": "),m.R7$(4),m.Y8G("ngForOf",Gt.linkedNewClients)}}function j(It,Dn){1&It&&(m.j41(0,"span",36),m.EFF(1,", "),m.k0s())}function U(It,Dn){if(1&It&&(m.j41(0,"li",34)(1,"a",38),m.EFF(2),m.k0s(),m.DNE(3,j,2,0,"span",35),m.k0s()),2&It){const Gt=Dn.$implicit,lt=Dn.last,Ct=m.XpG(4);m.R7$(),m.Y8G("href",Ct.buildHref(Gt.existingIdentifier),m.B4B),m.R7$(),m.SpI(" ",Gt.displayName," "),m.R7$(),m.Y8G("ngIf",!lt)}}function $(It,Dn){if(1&It&&(m.j41(0,"dl",37)(1,"dt",31),m.EFF(2),m.nI1(3,"translate"),m.k0s(),m.j41(4,"dd",34)(5,"ul",32),m.DNE(6,U,4,3,"li",33),m.k0s()()()),2&It){const Gt=m.XpG(3);m.R7$(2),m.SpI(" ",m.bMT(3,2,"Clients.Import.Wizard.Summary.EffectsExistingClients"),": "),m.R7$(4),m.Y8G("ngForOf",Gt.linkedExistingClients)}}function ie(It,Dn){if(1&It&&(m.j41(0,"div",27),m.DNE(1,R,7,4,"dl",28)(2,$,7,4,"dl",29),m.k0s()),2&It){const Gt=m.XpG(2);m.R7$(),m.Y8G("ngIf",Gt.linkedNewClients.length>0),m.R7$(),m.Y8G("ngIf",Gt.linkedExistingClients.length>0)}}function se(It,Dn){if(1&It){const Gt=m.RV6();m.j41(0,"div",18)(1,"div",19)(2,"button",20),m.bIt("click",function(){m.eBV(Gt);const Ct=m.XpG();return m.Njj(Ct.toggleDisplayLinkedClientsDropdown())}),m.j41(3,"span"),m.EFF(4),m.nI1(5,"translate"),m.k0s(),m.j41(6,"span",21),m.DNE(7,M,1,0,"span",22)(8,k,1,0,"span",23),m.k0s()(),m.DNE(9,ie,3,2,"div",24),m.k0s()()}if(2&It){const Gt=m.XpG();m.AVh("tw-alert-warning",Gt.linkedExistingClients.length>0),m.R7$(4),m.JRh(m.bMT(5,6,"Clients.Import.Wizard.Summary.LinkedClients")),m.R7$(3),m.Y8G("ngIf",Gt.displayLinkedClientsDropdown),m.R7$(),m.Y8G("ngIf",!Gt.displayLinkedClientsDropdown),m.R7$(),m.Y8G("ngIf",Gt.displayLinkedClientsDropdown)}}function L(It,Dn){if(1&It&&(m.j41(0,"span",47),m.EFF(1),m.k0s()),2&It){const Gt=m.XpG().$implicit;m.R7$(),m.SpI(" ",Gt.previous," ")}}function J(It,Dn){1&It&&(m.j41(0,"i",48),m.EFF(1),m.nI1(2,"translate"),m.k0s()),2&It&&(m.R7$(),m.SpI(" ",m.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.NoValue")," "))}function q(It,Dn){if(1&It&&(m.j41(0,"span",49),m.EFF(1),m.k0s()),2&It){const Gt=m.XpG().$implicit;m.R7$(),m.SpI(" ",Gt.new," ")}}function S(It,Dn){1&It&&(m.j41(0,"i",48),m.EFF(1),m.nI1(2,"translate"),m.k0s()),2&It&&(m.R7$(),m.SpI(" ",m.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.Deleted")," "))}function re(It,Dn){if(1&It){const Gt=m.RV6();m.j41(0,"tr",43),m.bIt("change",function(){m.eBV(Gt);const Ct=m.XpG(2);return m.Njj(Ct.setupTableHeadings())}),m.j41(1,"td"),m.EFF(2),m.nI1(3,"beautifyPropertyName"),m.k0s(),m.j41(4,"td"),m.DNE(5,L,2,1,"span",44)(6,J,3,3,"i",45),m.k0s(),m.j41(7,"td"),m.DNE(8,q,2,1,"span",46)(9,S,3,3,"i",45),m.k0s()()}if(2&It){const Gt=Dn.$implicit,lt=m.XpG(2);m.R7$(2),m.JRh(m.bMT(3,5,Gt.propertyName)),m.R7$(3),m.Y8G("ngIf",lt.hasValue(Gt.previous)),m.R7$(),m.Y8G("ngIf",!lt.hasValue(Gt.previous)),m.R7$(2),m.Y8G("ngIf",lt.hasValue(Gt.new)),m.R7$(),m.Y8G("ngIf",!lt.hasValue(Gt.new))}}function K(It,Dn){if(1&It&&(m.j41(0,"div",39)(1,"table",40)(2,"thead")(3,"tr")(4,"th"),m.EFF(5),m.nI1(6,"translate"),m.k0s(),m.j41(7,"th",41),m.EFF(8),m.nI1(9,"translate"),m.k0s(),m.j41(10,"th",41),m.EFF(11),m.nI1(12,"translate"),m.k0s()()(),m.j41(13,"tbody"),m.DNE(14,re,10,7,"tr",42),m.k0s()()()),2&It){const Gt=m.XpG();m.R7$(5),m.JRh(m.bMT(6,4,"Clients.Import.Wizard.Summary.Conflicts.Property")),m.R7$(3),m.JRh(m.bMT(9,6,"Clients.Import.Wizard.Summary.Conflicts.OldValue")),m.R7$(3),m.JRh(m.bMT(12,8,"Clients.Import.Wizard.Summary.Conflicts.NewValue")),m.R7$(3),m.Y8G("ngForOf",null==Gt.fieldConflicts?null:Gt.fieldConflicts.conflicts)}}function me(It,Dn){if(1&It&&(m.j41(0,"span",47),m.EFF(1),m.k0s()),2&It){const Gt=m.XpG().$implicit;m.R7$(),m.SpI(" ",Gt.previous," ")}}function Ne(It,Dn){1&It&&(m.j41(0,"i",48),m.EFF(1),m.nI1(2,"translate"),m.k0s()),2&It&&(m.R7$(),m.SpI(" ",m.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.NoValue")," "))}function De(It,Dn){if(1&It&&(m.j41(0,"span",49),m.EFF(1),m.k0s()),2&It){const Gt=m.XpG().$implicit;m.R7$(),m.SpI(" ",Gt.new," ")}}function xe(It,Dn){1&It&&(m.j41(0,"i",48),m.EFF(1),m.nI1(2,"translate"),m.k0s()),2&It&&(m.R7$(),m.SpI(" ",m.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.Deleted")," "))}function Qe(It,Dn){if(1&It){const Gt=m.RV6();m.j41(0,"tr",43),m.bIt("change",function(){m.eBV(Gt);const Ct=m.XpG(3);return m.Njj(Ct.setupTableHeadings())}),m.j41(1,"td"),m.EFF(2),m.k0s(),m.j41(3,"td"),m.DNE(4,me,2,1,"span",44)(5,Ne,3,3,"i",45),m.k0s(),m.j41(6,"td"),m.DNE(7,De,2,1,"span",46)(8,xe,3,3,"i",45),m.k0s()()}if(2&It){const Gt=Dn.$implicit,lt=m.XpG(3);m.R7$(2),m.JRh(Gt.propertyName),m.R7$(2),m.Y8G("ngIf",lt.hasValue(Gt.previous)),m.R7$(),m.Y8G("ngIf",!lt.hasValue(Gt.previous)),m.R7$(2),m.Y8G("ngIf",lt.hasValue(Gt.new)),m.R7$(),m.Y8G("ngIf",!lt.hasValue(Gt.new))}}function Se(It,Dn){if(1&It&&(m.j41(0,"div",52)(1,"h4",53),m.EFF(2),m.nI1(3,"beautifyPropertyName"),m.k0s(),m.j41(4,"table",40)(5,"thead")(6,"tr")(7,"th"),m.EFF(8),m.nI1(9,"translate"),m.k0s(),m.j41(10,"th",41),m.EFF(11),m.nI1(12,"translate"),m.k0s(),m.j41(13,"th",41),m.EFF(14),m.nI1(15,"translate"),m.k0s()()(),m.j41(16,"tbody"),m.DNE(17,Qe,9,5,"tr",42),m.k0s()()()),2&It){const Gt=Dn.$implicit;m.R7$(2),m.SpI(" ",m.bMT(3,5,Gt.identifier)," "),m.R7$(6),m.JRh(m.bMT(9,7,"Clients.Import.Wizard.Summary.Conflicts.Key")),m.R7$(3),m.JRh(m.bMT(12,9,"Clients.Import.Wizard.Summary.Conflicts.OldValue")),m.R7$(3),m.JRh(m.bMT(15,11,"Clients.Import.Wizard.Summary.Conflicts.NewValue")),m.R7$(3),m.Y8G("ngForOf",null==Gt?null:Gt.conflicts)}}function be(It,Dn){if(1&It&&(m.j41(0,"div",50),m.DNE(1,Se,18,13,"div",51),m.k0s()),2&It){const Gt=m.XpG();m.R7$(),m.Y8G("ngForOf",Gt.clientKeyValueConflicts)}}function le(It,Dn){if(1&It&&(m.j41(0,"span",47),m.EFF(1),m.k0s()),2&It){const Gt=m.XpG().$implicit;m.R7$(),m.SpI(" ",Gt.previous," ")}}function Fe(It,Dn){1&It&&(m.j41(0,"i",48),m.EFF(1),m.nI1(2,"translate"),m.k0s()),2&It&&(m.R7$(),m.SpI(" ",m.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.NoValue")," "))}function Te(It,Dn){if(1&It&&(m.j41(0,"span",49),m.EFF(1),m.k0s()),2&It){const Gt=m.XpG().$implicit;m.R7$(),m.SpI(" ",Gt.new," ")}}function st(It,Dn){1&It&&(m.j41(0,"i",48),m.EFF(1),m.nI1(2,"translate"),m.k0s()),2&It&&(m.R7$(),m.SpI(" ",m.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.Deleted")," "))}function Oe(It,Dn){if(1&It){const Gt=m.RV6();m.j41(0,"tr",43),m.bIt("change",function(){m.eBV(Gt);const Ct=m.XpG(3);return m.Njj(Ct.setupTableHeadings())}),m.j41(1,"td"),m.EFF(2),m.nI1(3,"beautifyPropertyName"),m.k0s(),m.j41(4,"td"),m.DNE(5,le,2,1,"span",44)(6,Fe,3,3,"i",45),m.k0s(),m.j41(7,"td"),m.DNE(8,Te,2,1,"span",46)(9,st,3,3,"i",45),m.k0s()()}if(2&It){const Gt=Dn.$implicit,lt=m.XpG(3);m.R7$(2),m.JRh(m.bMT(3,5,Gt.propertyName)),m.R7$(3),m.Y8G("ngIf",lt.hasValue(Gt.previous)),m.R7$(),m.Y8G("ngIf",!lt.hasValue(Gt.previous)),m.R7$(2),m.Y8G("ngIf",lt.hasValue(Gt.new)),m.R7$(),m.Y8G("ngIf",!lt.hasValue(Gt.new))}}function pt(It,Dn){if(1&It&&(m.j41(0,"div",52)(1,"h4",53),m.EFF(2),m.nI1(3,"beautifyPropertyName"),m.k0s(),m.j41(4,"table",40)(5,"thead")(6,"tr")(7,"th"),m.EFF(8),m.nI1(9,"translate"),m.k0s(),m.j41(10,"th",41),m.EFF(11),m.nI1(12,"translate"),m.k0s(),m.j41(13,"th",41),m.EFF(14),m.nI1(15,"translate"),m.k0s()()(),m.j41(16,"tbody"),m.DNE(17,Oe,10,7,"tr",42),m.k0s()()()),2&It){const Gt=Dn.$implicit;m.R7$(2),m.SpI(" ",m.bMT(3,5,Gt.identifier)," "),m.R7$(6),m.JRh(m.bMT(9,7,"Clients.Import.Wizard.Summary.Conflicts.Property")),m.R7$(3),m.JRh(m.bMT(12,9,"Clients.Import.Wizard.Summary.Conflicts.OldValue")),m.R7$(3),m.JRh(m.bMT(15,11,"Clients.Import.Wizard.Summary.Conflicts.NewValue")),m.R7$(3),m.Y8G("ngForOf",null==Gt?null:Gt.conflicts)}}function Ye(It,Dn){if(1&It&&(m.j41(0,"div",54)(1,"h3",55),m.EFF(2),m.nI1(3,"translate"),m.k0s(),m.DNE(4,pt,18,13,"div",51),m.k0s()),2&It){const Gt=m.XpG();m.R7$(2),m.SpI(" ",m.bMT(3,2,"Clients.Import.Wizard.Summary.Conflicts.ConflictedScopes")," "),m.R7$(2),m.Y8G("ngForOf",Gt.scopeConflicts)}}function qt(It,Dn){if(1&It&&(m.j41(0,"td"),m.EFF(1),m.nI1(2,"beautifyPropertyName"),m.k0s()),2&It){const Gt=m.XpG().$implicit;m.R7$(),m.JRh(m.bMT(2,1,Gt.propertyName))}}function jt(It,Dn){if(1&It&&(m.j41(0,"td"),m.EFF(1),m.k0s()),2&It){const Gt=m.XpG().$implicit;m.R7$(),m.JRh(Gt.propertyName)}}function Dt(It,Dn){if(1&It&&(m.j41(0,"dl",60)(1,"dt",61),m.EFF(2),m.nI1(3,"translate"),m.k0s(),m.j41(4,"dd",62),m.EFF(5),m.k0s(),m.j41(6,"dt",61),m.EFF(7),m.nI1(8,"translate"),m.k0s(),m.j41(9,"dd",62),m.EFF(10),m.k0s(),m.j41(11,"dt",61),m.EFF(12),m.nI1(13,"translate"),m.k0s(),m.j41(14,"dd",47),m.EFF(15),m.k0s()()),2&It){const Gt=m.XpG(2).$implicit;m.R7$(2),m.SpI("",m.bMT(3,6,"Common.URL"),":"),m.R7$(3),m.JRh(Gt.previous.location),m.R7$(2),m.SpI("",m.bMT(8,8,"Clients.Saml.BindingType"),":"),m.R7$(3),m.JRh(Gt.previous.binding),m.R7$(2),m.SpI("",m.bMT(13,10,"Clients.Saml.Index"),":"),m.R7$(3),m.JRh(Gt.previous.index)}}function wt(It,Dn){1&It&&(m.j41(0,"dl")(1,"i",48),m.EFF(2),m.nI1(3,"translate"),m.k0s()()),2&It&&(m.R7$(2),m.SpI(" ",m.bMT(3,1,"Clients.Import.Wizard.Summary.Conflicts.NoValue")," "))}function z(It,Dn){if(1&It&&(m.j41(0,"dl",60)(1,"dt",61),m.EFF(2),m.nI1(3,"translate"),m.k0s(),m.j41(4,"dd",63),m.EFF(5),m.k0s(),m.j41(6,"dt",61),m.EFF(7),m.nI1(8,"translate"),m.k0s(),m.j41(9,"dd",63),m.EFF(10),m.k0s(),m.j41(11,"dt",61),m.EFF(12),m.nI1(13,"translate"),m.k0s(),m.j41(14,"dd",49),m.EFF(15),m.k0s()()),2&It){const Gt=m.XpG(2).$implicit;m.R7$(2),m.SpI("",m.bMT(3,6,"Common.URL"),":"),m.R7$(3),m.JRh(Gt.new.location),m.R7$(2),m.SpI("",m.bMT(8,8,"Clients.Saml.BindingType"),":"),m.R7$(3),m.JRh(Gt.new.binding),m.R7$(2),m.SpI("",m.bMT(13,10,"Clients.Saml.Index"),":"),m.R7$(3),m.JRh(Gt.new.index)}}function Y(It,Dn){1&It&&(m.j41(0,"dl")(1,"i",48),m.EFF(2),m.nI1(3,"translate"),m.k0s()()),2&It&&(m.R7$(2),m.SpI(" ",m.bMT(3,1,"Clients.Import.Wizard.Summary.Conflicts.Deleted")," "))}function Z(It,Dn){if(1&It&&(m.qex(0),m.j41(1,"td"),m.DNE(2,Dt,16,12,"dl",59)(3,wt,4,3,"dl",57),m.k0s(),m.j41(4,"td"),m.DNE(5,z,16,12,"dl",59)(6,Y,4,3,"dl",57),m.k0s(),m.bVm()),2&It){const Gt=m.XpG().$implicit,lt=m.XpG(3);m.R7$(2),m.Y8G("ngIf",lt.hasValue(Gt.previous)),m.R7$(),m.Y8G("ngIf",!lt.hasValue(Gt.previous)),m.R7$(2),m.Y8G("ngIf",lt.hasValue(Gt.new)),m.R7$(),m.Y8G("ngIf",!lt.hasValue(Gt.new))}}function Ce(It,Dn){if(1&It&&(m.j41(0,"span",47),m.EFF(1),m.k0s()),2&It){const Gt=m.XpG(2).$implicit;m.R7$(),m.SpI(" ",Gt.previous," ")}}function we(It,Dn){1&It&&(m.j41(0,"i",48),m.EFF(1),m.nI1(2,"translate"),m.k0s()),2&It&&(m.R7$(),m.SpI(" ",m.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.NoValue")," "))}function at(It,Dn){if(1&It&&(m.j41(0,"span",49),m.EFF(1),m.k0s()),2&It){const Gt=m.XpG(2).$implicit;m.R7$(),m.SpI(" ",Gt.new," ")}}function Be(It,Dn){1&It&&(m.j41(0,"i",48),m.EFF(1),m.nI1(2,"translate"),m.k0s()),2&It&&(m.R7$(),m.SpI(" ",m.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.Deleted")," "))}function ot(It,Dn){if(1&It&&(m.j41(0,"td",64),m.DNE(1,Ce,2,1,"span",44)(2,we,3,3,"i",45),m.k0s(),m.j41(3,"td",64),m.DNE(4,at,2,1,"span",46)(5,Be,3,3,"i",45),m.k0s()),2&It){const Gt=m.XpG().$implicit,lt=m.XpG(3);m.R7$(),m.Y8G("ngIf",lt.hasValue(Gt.previous)),m.R7$(),m.Y8G("ngIf",!lt.hasValue(Gt.previous)),m.R7$(2),m.Y8G("ngIf",lt.hasValue(Gt.new)),m.R7$(),m.Y8G("ngIf",!lt.hasValue(Gt.new))}}function Pt(It,Dn){if(1&It){const Gt=m.RV6();m.j41(0,"tr",43),m.bIt("change",function(){m.eBV(Gt);const Ct=m.XpG(3);return m.Njj(Ct.setupTableHeadings())}),m.DNE(1,qt,3,3,"td",57)(2,jt,2,1,"td",57)(3,Z,7,4,"ng-container",58)(4,ot,6,4,"ng-template",null,0,m.C5r),m.k0s()}if(2&It){const Gt=m.sdS(5),lt=m.XpG().$implicit,Ct=m.XpG(2);m.R7$(),m.Y8G("ngIf",lt.identifier!=Ct.summaryConflictsConstants.ClaimMappingsKey),m.R7$(),m.Y8G("ngIf",lt.identifier==Ct.summaryConflictsConstants.ClaimMappingsKey),m.R7$(),m.Y8G("ngIf",lt.identifier==Ct.summaryConflictsConstants.sloProperty||lt.identifier==Ct.summaryConflictsConstants.acsProperty)("ngIfElse",Gt)}}function mt(It,Dn){if(1&It&&(m.j41(0,"div",52)(1,"h4",53),m.EFF(2),m.nI1(3,"beautifyPropertyName"),m.k0s(),m.j41(4,"table",40)(5,"thead")(6,"tr")(7,"th"),m.EFF(8),m.nI1(9,"translate"),m.k0s(),m.j41(10,"th",41),m.EFF(11),m.nI1(12,"translate"),m.k0s(),m.j41(13,"th",41),m.EFF(14),m.nI1(15,"translate"),m.k0s()()(),m.j41(16,"tbody"),m.DNE(17,Pt,6,4,"tr",42),m.k0s()()()),2&It){const Gt=Dn.$implicit;m.R7$(2),m.SpI(" ",m.bMT(3,5,Gt.identifier)," "),m.R7$(6),m.JRh(m.bMT(9,7,"Clients.Import.Wizard.Summary.Conflicts.Property")),m.R7$(3),m.JRh(m.bMT(12,9,"Clients.Import.Wizard.Summary.Conflicts.OldValue")),m.R7$(3),m.JRh(m.bMT(15,11,"Clients.Import.Wizard.Summary.Conflicts.NewValue")),m.R7$(3),m.Y8G("ngForOf",null==Gt?null:Gt.conflicts)}}function it(It,Dn){if(1&It&&(m.j41(0,"div",56)(1,"h3",55),m.EFF(2),m.nI1(3,"translate"),m.k0s(),m.DNE(4,mt,18,13,"div",51),m.k0s()),2&It){const Gt=m.XpG();m.R7$(2),m.SpI(" ",m.bMT(3,2,"Clients.Import.Wizard.Summary.Conflicts.ConflictedServiceProvider")," "),m.R7$(2),m.Y8G("ngForOf",Gt.serviceProviderConflicts)}}function Kt(It,Dn){if(1&It&&(m.j41(0,"td"),m.EFF(1),m.nI1(2,"beautifyPropertyName"),m.k0s()),2&It){const Gt=m.XpG().$implicit;m.R7$(),m.JRh(m.bMT(2,1,Gt.propertyName))}}function sn(It,Dn){if(1&It&&(m.j41(0,"td"),m.EFF(1),m.k0s()),2&It){const Gt=m.XpG().$implicit;m.R7$(),m.JRh(Gt.propertyName)}}function Ft(It,Dn){if(1&It&&(m.j41(0,"span",47),m.EFF(1),m.k0s()),2&It){const Gt=m.XpG().$implicit;m.R7$(),m.SpI(" ",Gt.previous," ")}}function Jt(It,Dn){1&It&&(m.j41(0,"i",48),m.EFF(1),m.nI1(2,"translate"),m.k0s()),2&It&&(m.R7$(),m.SpI(" ",m.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.NoValue")," "))}function je(It,Dn){if(1&It&&(m.j41(0,"span",49),m.EFF(1),m.k0s()),2&It){const Gt=m.XpG().$implicit;m.R7$(),m.SpI(" ",Gt.new," ")}}function ce(It,Dn){1&It&&(m.j41(0,"i",48),m.EFF(1),m.nI1(2,"translate"),m.k0s()),2&It&&(m.R7$(),m.SpI(" ",m.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.Deleted")," "))}function X(It,Dn){if(1&It){const Gt=m.RV6();m.j41(0,"tr",43),m.bIt("change",function(){m.eBV(Gt);const Ct=m.XpG(3);return m.Njj(Ct.setupTableHeadings())}),m.DNE(1,Kt,3,3,"td",57)(2,sn,2,1,"td",57),m.j41(3,"td",64),m.DNE(4,Ft,2,1,"span",44)(5,Jt,3,3,"i",45),m.k0s(),m.j41(6,"td",64),m.DNE(7,je,2,1,"span",46)(8,ce,3,3,"i",45),m.k0s()()}if(2&It){const Gt=Dn.$implicit,lt=m.XpG().$implicit,Ct=m.XpG(2);m.R7$(),m.Y8G("ngIf",lt.identifier!=Ct.summaryConflictsConstants.ClaimMappingsIdentifier),m.R7$(),m.Y8G("ngIf",lt.identifier==Ct.summaryConflictsConstants.ClaimMappingsIdentifier),m.R7$(2),m.Y8G("ngIf",Ct.hasValue(Gt.previous)),m.R7$(),m.Y8G("ngIf",!Ct.hasValue(Gt.previous)),m.R7$(2),m.Y8G("ngIf",Ct.hasValue(Gt.new)),m.R7$(),m.Y8G("ngIf",!Ct.hasValue(Gt.new))}}function oe(It,Dn){if(1&It&&(m.j41(0,"div",52)(1,"h4",53),m.EFF(2),m.nI1(3,"beautifyPropertyName"),m.k0s(),m.j41(4,"table",40)(5,"thead")(6,"tr")(7,"th"),m.EFF(8),m.nI1(9,"translate"),m.k0s(),m.j41(10,"th",41),m.EFF(11),m.nI1(12,"translate"),m.k0s(),m.j41(13,"th",41),m.EFF(14),m.nI1(15,"translate"),m.k0s()()(),m.j41(16,"tbody"),m.DNE(17,X,9,6,"tr",42),m.k0s()()()),2&It){const Gt=Dn.$implicit;m.R7$(2),m.SpI(" ",m.bMT(3,5,Gt.identifier)," "),m.R7$(6),m.JRh(m.bMT(9,7,"Clients.Import.Wizard.Summary.Conflicts.Property")),m.R7$(3),m.JRh(m.bMT(12,9,"Clients.Import.Wizard.Summary.Conflicts.OldValue")),m.R7$(3),m.JRh(m.bMT(15,11,"Clients.Import.Wizard.Summary.Conflicts.NewValue")),m.R7$(3),m.Y8G("ngForOf",null==Gt?null:Gt.conflicts)}}function Ve(It,Dn){if(1&It&&(m.j41(0,"div",65)(1,"h3",55),m.EFF(2),m.nI1(3,"translate"),m.k0s(),m.DNE(4,oe,18,13,"div",51),m.k0s()),2&It){const Gt=m.XpG();m.R7$(2),m.SpI(" ",m.bMT(3,2,"Clients.Import.Wizard.Summary.Conflicts.ConflictedRelyingParty")," "),m.R7$(2),m.Y8G("ngForOf",Gt.relyingPartyConflicts)}}let tt=(()=>{class It extends w.P{set data(Gt){const lt=JSON.parse(JSON.stringify(Gt));this.resource=lt,this.summaryDisplayType=p.n.getSummaryDisplayType(lt.resourceType),this.setupLinkedClients(lt),this.resource.resourceType===n.ot.ClaimType&&(this.fieldConflicts=this.resource.conflicts.find(Ct=>Ct.identifier===C.ClaimTypes)),this.resource.resourceType===n.ot.IdentityResource&&(this.fieldConflicts=this.resource.conflicts.find(Ct=>Ct.identifier===C.IdentityResources)),this.resource.resourceType===n.ot.Client&&(this.initClient(),this.resource.displayType===C.SamlDisplayType?this.initServiceProvider():this.resource.displayType===C.WsFedDisplayType&&this.initRelyingParty()),this.resource.resourceType===n.ot.ProtectedResource&&(this.fieldConflicts=this.resource.conflicts.find(Ct=>Ct.identifier===C.ProtectedResources),this.initScopeConflicts())}constructor(Gt,lt,Ct){super(),this.importWizardService=Gt,this.translate=lt,this.localizeRouterService=Ct,this.clientKeyValueConflicts=[],this.scopeConflicts=[],this.serviceProviderConflicts=[],this.relyingPartyConflicts=[],this.summaryConflictsConstants=C}accept(){this.importWizardController.stepModified=!0,this.summaryDisplayType===p.n.client&&this.importWizardService.selectResource(this.resource),this.back()}decline(){this.importWizardController.stepModified=!0,this.openModal(e.M.summaryConflictsConfirmation,this.resource)}setupLinkedClients(Gt){null!==Gt.dependantClients&&0!==Gt.dependantClients.length?(this.displayLinkedClients=!0,this.linkedNewClients=this.sortDependentClients(Gt.dependantClients.filter(lt=>lt.state===n.XF.Importing)),this.linkedExistingClients=this.sortDependentClients(Gt.dependantClients.filter(lt=>lt.state===n.XF.Existing)),this.displayLinkedClientsDropdown=this.linkedExistingClients.length>0&&this.linkedExistingClients.length<8&&this.linkedNewClients.length<8):this.displayLinkedClients=!1}sortDependentClients(Gt){return Gt.sort((lt,Ct)=>lt.displayName.localeCompare(Ct.displayName))}buildHref(Gt){return this.localizeRouterService.translateRoute(`/clients/${Gt}`)}toggleDisplayLinkedClientsDropdown(){this.displayLinkedClientsDropdown=!this.displayLinkedClientsDropdown}hasValue(Gt){return!(null==Gt||(0,y.gP)(Gt.toString()))}initClient(){const Gt=this.resource.conflicts.find(yt=>yt.identifier===C.Client),lt=this.resource.conflicts.find(yt=>yt.identifier===C.ClaimsProperty),Ct=this.resource.conflicts.find(yt=>yt.identifier===C.PropertiesProperty);Gt&&(this.fieldConflicts=Gt),lt&&this.clientKeyValueConflicts.push(lt),Ct&&this.clientKeyValueConflicts.push(Ct)}initRelyingParty(){const Gt=this.resource.conflicts.find(Ct=>Ct.identifier===C.RelyingPartyProperty),lt=this.resource.conflicts.find(Ct=>Ct.identifier===C.ClaimMappingsKey);Gt&&this.relyingPartyConflicts.push(Gt),lt&&this.relyingPartyConflicts.push(lt)}initServiceProvider(){const Gt=this.resource.conflicts.find(Ot=>Ot.identifier===C.ServiceProviderProperty),lt=this.resource.conflicts.find(Ot=>Ot.identifier===C.ClaimMappingsKey),Ct=this.resource.conflicts.find(Ot=>Ot.identifier===C.acsProperty),yt=this.resource.conflicts.find(Ot=>Ot.identifier===C.sloProperty);Gt&&this.serviceProviderConflicts.push(Gt),lt&&this.serviceProviderConflicts.push(lt),Ct&&this.serviceProviderConflicts.push(Ct),yt&&this.serviceProviderConflicts.push(yt)}initScopeConflicts(){const Gt=this.resource.conflicts.filter(lt=>lt.identifier!==C.ProtectedResources);void 0!==Gt&&(Gt.forEach(lt=>{const Ct=lt.conflicts.find(yt=>yt.propertyName===C.UserClaimsProperty);Ct&&(Ct.new=Ct.new.join(", "),Ct.previous=Ct.previous.join(", "))}),this.scopeConflicts=Gt)}static{this.\u0275fac=function(lt){return new(lt||It)(m.rXU(u.o),m.rXU(f.c$),m.rXU(T.QG))}}static{this.\u0275cmp=m.VBU({type:It,selectors:[["app-import-summary-conflicts"]],viewQuery:function(lt,Ct){if(1&lt&&m.GBs(b,7),2&lt){let yt;m.mGM(yt=m.lsd())&&(Ct.importSummaryConflictsModal=yt.first)}},features:[m.Vt3],decls:30,vars:22,consts:[["normalConflicts",""],[1,"modal-body"],[1,"tw-mb-4"],[1,"tw-font-semibold","tw-mr-2"],[1,"cms"],["class","tw-alert tw-mb-6",3,"tw-alert-warning",4,"ngIf"],["class","tw-mb-6 last:tw-mb-0",4,"ngIf"],["id","clientKeyValueConflictsSection",4,"ngIf"],["id","scopeConflictsSection",4,"ngIf"],["id","serviceProviderConflictsSection",4,"ngIf"],["id","relyingPartyConflictsSection",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],[1,"tw-btn-success","tw-mr-3",3,"click"],[1,"tw-btn-danger",3,"click"],[1,"tw-btn-link","tw--mr-4",3,"click"],[1,"tw-alert","tw-mb-6"],[1,"tw-w-full"],[1,"tw-flex","tw-items-center","tw-font-semibold","tw-text-left","tw-w-full",3,"click"],["aria-hidden","true",1,"tw-ml-auto"],["class","fas fa-caret-up fa-fw",4,"ngIf"],["class","fas fa-caret-down fa-fw",4,"ngIf"],["class","tw-pt-2 tw-pb-1",4,"ngIf"],[1,"fas","fa-caret-up","fa-fw"],[1,"fas","fa-caret-down","fa-fw"],[1,"tw-pt-2","tw-pb-1"],["class","tw-flex tw-mb-1 last:tw-mb-0",4,"ngIf"],["id","existingClients","class","tw-flex tw-text-red-500",4,"ngIf"],[1,"tw-flex","tw-mb-1","last:tw-mb-0"],[1,"tw-shrink-0","tw-mr-2","tw-font-semibold","tw-w-20"],[1,"tw-flex","tw-flex-wrap"],["class","tw-inline-flex tw-mr-2",4,"ngFor","ngForOf"],[1,"tw-inline-flex","tw-mr-2"],["aria-hidden","true",4,"ngIf"],["aria-hidden","true"],["id","existingClients",1,"tw-flex","tw-text-red-500"],["target","_blank",1,"tw-text-red-500","tw-font-normal","tw-underline","hover:tw-text-red-500","hover:tw-no-underline",3,"href"],[1,"tw-mb-6","last:tw-mb-0"],[1,"datatable"],[1,"md:tw-w-1/3","lg:tw-w-2/5"],[3,"change",4,"ngFor","ngForOf"],[3,"change"],["class","tw-text-red-500",4,"ngIf"],["class","tw-text-grey-600",4,"ngIf"],["class","tw-text-green-500",4,"ngIf"],[1,"tw-text-red-500"],[1,"tw-text-grey-600"],[1,"tw-text-green-500"],["id","clientKeyValueConflictsSection"],["class","tw-mb-5 last:tw-mb-0",4,"ngFor","ngForOf"],[1,"tw-mb-5","last:tw-mb-0"],[1,"tw-font-semibold","tw-text-sm","tw-mb-4","tw-px-3"],["id","scopeConflictsSection"],[1,"tw-border-b","tw-border-grey-200","tw-mb-4","tw-pb-2","tw-font-semibold","md:tw-flex","md:tw-items-center","ng-star-inserted"],["id","serviceProviderConflictsSection"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["class","tw-text-grey-700",4,"ngIf"],[1,"tw-text-grey-700"],[1,"tw-font-normal"],[1,"tw-text-red-500","tw-mb-1"],[1,"tw-text-green-500","tw-mb-1"],[1,"tw-max-w-0","wrap-words"],["id","relyingPartyConflictsSection"]],template:function(lt,Ct){1&lt&&(m.j41(0,"div",1)(1,"h2",2)(2,"span",3),m.EFF(3),m.nI1(4,"translate"),m.k0s(),m.j41(5,"span"),m.EFF(6),m.k0s()(),m.j41(7,"div",4)(8,"p"),m.EFF(9),m.nI1(10,"translate"),m.k0s()(),m.DNE(11,se,10,8,"div",5)(12,K,15,10,"div",6)(13,be,2,1,"div",7)(14,Ye,5,4,"div",8)(15,it,5,4,"div",9)(16,Ve,5,4,"div",10),m.k0s(),m.nrm(17,"div",11),m.j41(18,"div",12)(19,"div",13)(20,"div",14)(21,"button",15),m.bIt("click",function(){return Ct.accept()}),m.EFF(22),m.nI1(23,"translate"),m.k0s(),m.j41(24,"button",16),m.bIt("click",function(){return Ct.decline()}),m.EFF(25),m.nI1(26,"translate"),m.k0s()(),m.j41(27,"button",17),m.bIt("click",function(){return Ct.back()}),m.EFF(28),m.nI1(29,"translate"),m.k0s()()()),2&lt&&(m.R7$(3),m.SpI("",m.bMT(4,12,"Clients.Import.Wizard.Summary.Identifier."+Ct.summaryDisplayType),":"),m.R7$(3),m.JRh(null==Ct.resource?null:Ct.resource.displayName),m.R7$(3),m.JRh(m.bMT(10,14,"Clients.Import.Wizard.Summary.Conflicts.ConfirmationText."+Ct.summaryDisplayType)),m.R7$(2),m.Y8G("ngIf",Ct.displayLinkedClients),m.R7$(),m.Y8G("ngIf",Ct.fieldConflicts&&Ct.fieldConflicts.conflicts.length>0),m.R7$(),m.Y8G("ngIf",Ct.clientKeyValueConflicts.length>0),m.R7$(),m.Y8G("ngIf",Ct.scopeConflicts.length>0),m.R7$(),m.Y8G("ngIf",Ct.serviceProviderConflicts.length>0),m.R7$(),m.Y8G("ngIf",Ct.relyingPartyConflicts.length>0),m.R7$(6),m.JRh(m.bMT(23,16,"Clients.Import.Wizard.Summary.Conflicts.Accept")),m.R7$(3),m.JRh(m.bMT(26,18,"Clients.Import.Wizard.Summary.Conflicts.Decline")),m.R7$(3),m.JRh(m.bMT(29,20,"Clients.Import.Wizard.Summary.Conflicts.Cancel")))},dependencies:[O.Sq,O.bT,f.D9,F],encapsulation:2})}}return It})()},7728:(nt,fe,h)=>{"use strict";h.d(fe,{z:()=>q});var n=h(1744),e=h(4414),y=h(590),p=h(6799),w=h(4438),C=h(5826),m=h(1780),u=h(177),f=h(9417);const T=S=>({"inactive disabled tw-opacity-50 tw-pointer-events-none":S});function O(S,re){if(1&S){const K=w.RV6();w.j41(0,"th",21)(1,"label",22)(2,"input",23),w.mxI("ngModelChange",function(Ne){w.eBV(K);const De=w.XpG();return w.DH7(De.allSelected,Ne)||(De.allSelected=Ne),w.Njj(Ne)}),w.bIt("change",function(){w.eBV(K);const Ne=w.XpG();return w.Njj(Ne.toggleAllSelected())}),w.k0s()()()}if(2&S){const K=w.XpG();w.R7$(2),w.R50("ngModel",K.allSelected)}}function F(S,re){if(1&S&&(w.j41(0,"th",24),w.EFF(1),w.nI1(2,"translate"),w.k0s()),2&S){const K=w.XpG();w.R7$(),w.JRh(w.bMT(2,1,"Clients.Import.Wizard.Summary.Identifier."+K.summaryDisplayType))}}function b(S,re){1&S&&(w.j41(0,"th",25),w.EFF(1),w.nI1(2,"translate"),w.k0s()),2&S&&(w.R7$(),w.SpI("",w.bMT(2,1,"Nav.Clients")," *"))}function M(S,re){if(1&S){const K=w.RV6();w.j41(0,"label",22)(1,"input",23),w.nI1(2,"translate"),w.mxI("ngModelChange",function(Ne){w.eBV(K);const De=w.XpG(2).$implicit;return w.DH7(De.selected,Ne)||(De.selected=Ne),w.Njj(Ne)}),w.bIt("change",function(){w.eBV(K);const Ne=w.XpG(3);return w.Njj(Ne.selectionChanged())}),w.k0s()()}if(2&S){const K=w.XpG(2).$implicit;w.R7$(),w.R50("ngModel",K.selected),w.BMQ("aria-label",w.bMT(2,2,"Common.Add"))}}function k(S,re){if(1&S&&(w.j41(0,"td",21),w.DNE(1,M,3,4,"label",32),w.k0s()),2&S){const K=w.XpG().$implicit;w.R7$(),w.Y8G("ngIf",K.isSelectable)}}function N(S,re){if(1&S){const K=w.RV6();w.j41(0,"td",33),w.bIt("click",function(){w.eBV(K);const Ne=w.XpG().$implicit,De=w.XpG();return w.Njj(De.toggle(Ne))}),w.EFF(1),w.k0s()}if(2&S){const K=w.XpG().$implicit;w.Y8G("title",K.identifier),w.R7$(),w.SpI(" ",K.identifier," ")}}function G(S,re){if(1&S&&(w.j41(0,"td",34),w.EFF(1),w.k0s()),2&S){const K=w.XpG().$implicit,me=w.XpG();w.R7$(),w.SpI(" ",me.displayLinkedClients(K)," ")}}function R(S,re){1&S&&w.nrm(0,"span",40)}function j(S,re){if(1&S){const K=w.RV6();w.qex(0),w.j41(1,"td",35),w.bIt("click",function(Ne){w.eBV(K);const De=w.XpG().$implicit,xe=w.XpG();return w.Njj(xe.viewConflicts(Ne,De))}),w.DNE(2,R,1,0,"span",36),w.k0s(),w.j41(3,"td",37),w.bIt("click",function(Ne){w.eBV(K);const De=w.XpG().$implicit,xe=w.XpG();return w.Njj(xe.viewConflicts(Ne,De))}),w.j41(4,"button",38),w.bIt("click",function(Ne){w.eBV(K);const De=w.XpG().$implicit,xe=w.XpG();return w.Njj(xe.viewConflicts(Ne,De))}),w.j41(5,"span",39),w.EFF(6),w.k0s()()(),w.bVm()}if(2&S){const K=w.XpG().$implicit,me=w.XpG();w.R7$(2),w.Y8G("ngIf",K.resourceState==me.resourceStates.Conflicted),w.R7$(4),w.JRh(me.getConflicts(K))}}function U(S,re){1&S&&w.nrm(0,"span",45)}function $(S,re){1&S&&w.nrm(0,"span",46)}function ie(S,re){1&S&&w.nrm(0,"span",40)}function se(S,re){if(1&S){const K=w.RV6();w.qex(0),w.j41(1,"td",41),w.bIt("click",function(){w.eBV(K);const Ne=w.XpG().$implicit,De=w.XpG();return w.Njj(De.toggle(Ne))}),w.DNE(2,U,1,0,"span",42)(3,$,1,0,"span",43)(4,ie,1,0,"span",36),w.k0s(),w.j41(5,"td",44),w.bIt("click",function(){w.eBV(K);const Ne=w.XpG().$implicit,De=w.XpG();return w.Njj(De.toggle(Ne))}),w.j41(6,"span",39),w.EFF(7),w.k0s()(),w.bVm()}if(2&S){const K=w.XpG().$implicit,me=w.XpG();w.R7$(2),w.Y8G("ngIf",K.resourceState==me.resourceStates.New),w.R7$(),w.Y8G("ngIf",K.resourceState==me.resourceStates.Duplicate),w.R7$(),w.Y8G("ngIf",K.conflictedByDependencies),w.R7$(2),w.AVh("tw-italic",!K.isSelectable),w.R7$(),w.SpI(" ",me.getResourceState(K)," ")}}function L(S,re){if(1&S){const K=w.RV6();w.j41(0,"tr",26),w.DNE(1,k,2,1,"td",3),w.j41(2,"td",27),w.bIt("click",function(){const Ne=w.eBV(K).$implicit,De=w.XpG();return w.Njj(De.toggle(Ne))}),w.j41(3,"b"),w.EFF(4),w.k0s()(),w.DNE(5,N,2,2,"td",28),w.j41(6,"td",29),w.bIt("click",function(){const Ne=w.eBV(K).$implicit,De=w.XpG();return w.Njj(De.toggle(Ne))}),w.EFF(7),w.nI1(8,"translate"),w.k0s(),w.DNE(9,G,2,1,"td",30)(10,j,7,2,"ng-container",31)(11,se,8,6,"ng-container",31),w.k0s()}if(2&S){const K=re.$implicit,me=w.XpG();w.Y8G("ngClass",w.eq3(11,T,K.resourceState===me.resourceStates.Duplicate)),w.R7$(),w.Y8G("ngIf",me.showSelectAll()),w.R7$(),w.Y8G("title",K.displayName),w.R7$(2),w.JRh(K.displayName),w.R7$(),w.Y8G("ngIf","ClaimType"!==me.summaryDisplayType),w.R7$(2),w.SpI(" ",w.bMT(8,9,"Clients.Import.Wizard.Summary.ResourceTypes."+K.displayType)," "),w.R7$(2),w.Y8G("ngIf","Client"!==me.summaryDisplayType),w.R7$(),w.Y8G("ngIf",K.resourceState===me.resourceStates.Conflicted&&!K.conflictedByDependencies),w.R7$(),w.Y8G("ngIf",K.resourceState!==me.resourceStates.Conflicted||K.conflictedByDependencies)}}function J(S,re){1&S&&(w.j41(0,"p",47),w.EFF(1),w.nI1(2,"translate"),w.k0s()),2&S&&(w.R7$(),w.SpI(" * ",w.bMT(2,1,"Clients.Import.Wizard.Summary.ClientsHelp")," "))}let q=(()=>{class S extends p.P{get data(){return this._importResourceType}set data(K){this._importResourceType=K}constructor(K,me){super(),this.importWizardService=K,this.translate=me,this.resourceStates=n.jD,this.nextImport=!1}ngOnInit(){this.summaryDisplayType=y.n.getSummaryDisplayType(this.data[0]),this.importWizardService.cache.subscribe(K=>{K.every(Ne=>Ne.resourceType===n.ot.Client)&&(this.nextImport=!0);let me=K.filter(Ne=>this.data.includes(Ne.resourceType));if(!this.data.includes(n.ot.Client)){const Ne=K.filter(De=>De.resourceType===n.ot.Client&&!0===De.selected).map(De=>De.identifier);me=me.filter(De=>De.dependantClients.map(xe=>xe.identifier).some(xe=>Ne.includes(xe)))}if(1===this.data.length&&this.data.includes(n.ot.Client)){const Ne=me.filter(xe=>xe.resourceState===n.jD.Duplicate),De=K.filter(xe=>xe.resourceType!==n.ot.Client&&xe.dependantClients.length>0&&xe.resourceState===n.jD.Conflicted);Ne.forEach(xe=>{De.filter(Se=>Se.dependantClients.some(be=>be.identifier===xe.identifier)).length>0&&(xe.resourceState=n.jD.Conflicted,xe.selected=!0,xe.conflictedByDependencies=!0)})}this.displayData=this.importWizardController.sortImportResources(me),this.checkAllSelected()})}getNextText(){return this.translate.instant(this.nextImport?"Clients.Import.Import":"Common.Next")}canNext(){return this.displayData.some(K=>K.selected)||this.displayData.every(K=>!1===K.isSelectable)&&this.summaryDisplayType!==y.n.client}goNext(){this.importWizardController.stepModified?(this.summaryDisplayType===y.n.client&&this.importWizardService.updateSelectedClients(this.displayData.filter(K=>K.selected)),this.next()):this.importWizardController.goToFinalSummary()}goBack(){this.importWizardController.stepModified=!0,this.back()}selectionChanged(){this.importWizardController.stepModified=!0,this.checkAllSelected()}checkAllSelected(){this.allSelected=this.displayData.filter(K=>K.resourceState!==this.resourceStates.Duplicate).every(K=>!0===K.selected)}toggle(K){K.isSelectable&&(K.selected=!K.selected,this.selectionChanged())}toggleAllSelected(){this.displayData.forEach(K=>K.selected=this.allSelected),this.selectionChanged()}getConflicts(K){let Ne,me=0;return K.conflicts.forEach(De=>{me+=De.conflicts.length}),Ne=this.translate.instant(1===me?"Clients.Import.Wizard.Summary.Change":"Clients.Import.Wizard.Summary.Changes"),me+" "+Ne}viewConflicts(K,me){K.stopPropagation(),this.openModal(e.M.summaryConflicts,me)}showSelectAll(){return this.displayData.some(K=>K.isSelectable)&&!this.displayData.every(K=>K.resourceState===n.jD.Duplicate)}displayLinkedClients(K){return null===K.dependantClients||0===K.dependantClients.length?"-":K.dependantClients.length.toString()}getResourceState(K){return K.conflictedByDependencies?this.translate.instant("Clients.Import.Wizard.Summary.DependencyConflicts"):this.resourceStates[K.resourceState]}static{this.\u0275fac=function(me){return new(me||S)(w.rXU(C.o),w.rXU(m.c$))}}static{this.\u0275cmp=w.VBU({type:S,selectors:[["app-import-summary"]],features:[w.Vt3],decls:37,vars:27,consts:[[1,"modal-body"],[1,"cms"],[1,"datatable","hover"],["class","toggle tw-w-1",4,"ngIf"],[1,"md:tw-w-1/3","lg:tw-w-1/4"],["class","tw-hidden sm:tw-table-cell md:tw-w-1/3",4,"ngIf"],[1,"tw-hidden","lg:tw-table-cell"],["class","tw-hidden tw-text-center lg:tw-table-cell",4,"ngIf"],["aria-hidden","true",1,"tw-hidden","tw-w-1","xs:tw-table-cell"],[1,"tw-w-1"],[1,"sr-only"],["id","resourceTable"],[3,"ngClass",4,"ngFor","ngForOf"],["class","tw-text-xs tw-text-grey-700 tw-px-3 tw-py-2",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],["id","backBtn",1,"tw-btn",3,"click"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],[1,"toggle","tw-w-1"],[1,"toggle-label"],["type","checkbox",1,"tw-block","tw-cursor-pointer",3,"ngModelChange","change","ngModel"],[1,"tw-hidden","sm:tw-table-cell","md:tw-w-1/3"],[1,"tw-hidden","tw-text-center","lg:tw-table-cell"],[3,"ngClass"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell",3,"click","title"],["class","tw-hidden tw-max-w-1 tw-truncate sm:tw-table-cell",3,"title","click",4,"ngIf"],[1,"tw-hidden","lg:tw-table-cell","tw-truncate",3,"click"],["class","tw-text-center",4,"ngIf"],[4,"ngIf"],["class","toggle-label",4,"ngIf"],[1,"tw-hidden","tw-max-w-1","tw-truncate","sm:tw-table-cell",3,"click","title"],[1,"tw-text-center"],["aria-hidden","true","data-toggle","modal","data-target","#displayConflictsModal",1,"tw-hidden","tw-cursor-pointer","tw-text-right","xs:tw-table-cell",3,"click"],["class","fas fa-exclamation-triangle tw-text-orange-500 tw--mr-3",4,"ngIf"],["data-toggle","modal","data-target","#displayConflictsModal",1,"tw-cursor-pointer",3,"click"],["data-toggle","modal","data-target","#displayConflictsModal",1,"tw-font-semibold","tw-text-blue-500",3,"click"],[1,"tw-whitespace-nowrap"],[1,"fas","fa-exclamation-triangle","tw-text-orange-500","tw--mr-3"],["aria-hidden","true",1,"tw-hidden","tw-cursor-pointer","tw-text-right","xs:tw-table-cell",3,"click"],["class","fas fa-check tw-text-green-500 tw--mr-3",4,"ngIf"],["class","far fa-copy tw--mr-3",4,"ngIf"],[3,"click"],[1,"fas","fa-check","tw-text-green-500","tw--mr-3"],[1,"far","fa-copy","tw--mr-3"],[1,"tw-text-xs","tw-text-grey-700","tw-px-3","tw-py-2"]],template:function(me,Ne){1&me&&(w.j41(0,"div",0)(1,"div",1)(2,"p"),w.EFF(3),w.nI1(4,"translate"),w.k0s()(),w.j41(5,"table",2)(6,"thead")(7,"tr"),w.DNE(8,O,3,1,"th",3),w.j41(9,"th",4),w.EFF(10),w.nI1(11,"translate"),w.k0s(),w.DNE(12,F,3,3,"th",5),w.j41(13,"th",6),w.EFF(14),w.nI1(15,"translate"),w.k0s(),w.DNE(16,b,3,3,"th",7),w.nrm(17,"td",8),w.j41(18,"th",9)(19,"span",10),w.EFF(20),w.nI1(21,"translate"),w.k0s()()()(),w.j41(22,"tbody",11),w.DNE(23,L,12,13,"tr",12),w.k0s()(),w.DNE(24,J,3,3,"p",13),w.k0s(),w.nrm(25,"div",14),w.j41(26,"div",15)(27,"div",16)(28,"div",17)(29,"button",18),w.bIt("click",function(){return Ne.goNext()}),w.EFF(30),w.k0s(),w.j41(31,"button",19),w.bIt("click",function(){return Ne.goBack()}),w.EFF(32),w.nI1(33,"translate"),w.k0s()(),w.j41(34,"button",20),w.bIt("click",function(){return Ne.cancel()}),w.EFF(35),w.nI1(36,"translate"),w.k0s()()()),2&me&&(w.R7$(3),w.JRh(w.bMT(4,15,"Clients.Import.Wizard.Summary.Intro."+Ne.summaryDisplayType)),w.R7$(2),w.AVh("selectable",Ne.showSelectAll()),w.R7$(3),w.Y8G("ngIf",Ne.showSelectAll()),w.R7$(2),w.JRh(w.bMT(11,17,"Clients.Import.Wizard.Summary.Name."+Ne.summaryDisplayType)),w.R7$(2),w.Y8G("ngIf","ClaimType"!==Ne.summaryDisplayType),w.R7$(2),w.JRh(w.bMT(15,19,"Clients.Import.Wizard.Summary.Type."+Ne.summaryDisplayType)),w.R7$(2),w.Y8G("ngIf","Client"!==Ne.summaryDisplayType),w.R7$(4),w.JRh(w.bMT(21,21,"Common.Status")),w.R7$(3),w.Y8G("ngForOf",Ne.displayData),w.R7$(),w.Y8G("ngIf","Client"!==Ne.summaryDisplayType),w.R7$(5),w.Y8G("disabled",!Ne.canNext()),w.R7$(),w.JRh(Ne.getNextText()),w.R7$(2),w.JRh(w.bMT(33,23,"Common.Back")),w.R7$(3),w.JRh(w.bMT(36,25,"Common.Cancel")))},dependencies:[u.YU,u.Sq,u.bT,f.Zm,f.BC,f.vS,m.D9],encapsulation:2})}}return S})()},6799:(nt,fe,h)=>{"use strict";h.d(fe,{P:()=>n});class n{constructor(){this.isWarningModal=!1,this.hideProgressBar=!1}get data(){return this._data}set data(y){this._data=y}next(){this.importWizardController.goToNextStep()}back(){this.importWizardController.goToPreviousStep()}cancel(){this.importWizardController.cancel()}openModal(y,p){this.importWizardController.insertAndOpenStep(y,p)}quit(){this.importWizardController.quit()}reset(){this.importWizardController.reset()}}},7301:(nt,fe,h)=>{"use strict";h.d(fe,{l:()=>pt});var n=h(1594),e=h(1410),y=h(9988),p=h(4438),w=h(3853),C=h(9417),m=h(177),u=h(8698),f=h(2552),T=h(1780);function O(Ye,qt){if(1&Ye&&(p.j41(0,"option",17),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&Ye){const jt=qt.$implicit;p.Y8G("value",jt),p.R7$(),p.JRh(p.bMT(2,2,"Clients.WizardTypes."+jt))}}function F(Ye,qt){if(1&Ye){const jt=p.RV6();p.j41(0,"form",12)(1,"app-form-row",13)(2,"div",14)(3,"select",15,0),p.bIt("change",function(){p.eBV(jt);const wt=p.sdS(4),z=p.XpG(2);return p.Njj(z.setActive(wt.value))}),p.DNE(5,O,3,4,"option",16),p.k0s()()()()}if(2&Ye){const jt=p.XpG(2);p.Y8G("formGroup",jt.webAppSelectForm),p.R7$(),p.Y8G("id","webAppFlow")("label","Clients.WizardTypes.WebAppSelection")("isLast",!0),p.R7$(4),p.Y8G("ngForOf",jt.webAppTypes)}}function b(Ye,qt){if(1&Ye&&(p.j41(0,"option",17),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&Ye){const jt=qt.$implicit;p.Y8G("value",jt),p.R7$(),p.JRh(p.bMT(2,2,"Clients.WizardTypes."+jt))}}function M(Ye,qt){if(1&Ye){const jt=p.RV6();p.j41(0,"form",18)(1,"app-form-row",13)(2,"div",14)(3,"select",19,1),p.bIt("change",function(){p.eBV(jt);const wt=p.sdS(4),z=p.XpG(2);return p.Njj(z.setActive(wt.value))}),p.DNE(5,b,3,4,"option",16),p.k0s()()()()}if(2&Ye){const jt=p.XpG(2);p.Y8G("formGroup",jt.robotAppSelectForm),p.R7$(),p.Y8G("id","robotAppFlow")("label","Clients.WizardTypes.WebAppSelection")("isLast",!0),p.R7$(4),p.Y8G("ngForOf",jt.robotAppTypes)}}function k(Ye,qt){if(1&Ye&&(p.j41(0,"option",17),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&Ye){const jt=qt.$implicit;p.Y8G("value",jt),p.R7$(),p.JRh(p.bMT(2,2,"Clients.WizardTypes."+jt))}}function N(Ye,qt){if(1&Ye){const jt=p.RV6();p.j41(0,"form",20)(1,"app-form-row",13)(2,"div",14)(3,"select",21,2),p.bIt("change",function(){p.eBV(jt);const wt=p.sdS(4),z=p.XpG(2);return p.Njj(z.setActive(wt.value))}),p.DNE(5,k,3,4,"option",16),p.k0s()()()()}if(2&Ye){const jt=p.XpG(2);p.Y8G("formGroup",jt.nativeAppSelectForm),p.R7$(),p.Y8G("id","nativeAppFlow")("label","Clients.WizardTypes.WebAppSelection")("isLast",!0),p.R7$(4),p.Y8G("ngForOf",jt.nativeAppTypes)}}function G(Ye,qt){if(1&Ye&&p.DNE(0,F,6,5,"form",9)(1,M,6,5,"form",10)(2,N,6,5,"form",11),2&Ye){const jt=p.XpG();p.Y8G("ngIf",!jt.isStarterMode&&(jt.activeType===jt.wizardTypes.WebApplication||jt.activeType===jt.wizardTypes.PKCEWebApplication)),p.R7$(),p.Y8G("ngIf",jt.activeType===jt.wizardTypes.RobotApplication||jt.activeType===jt.wizardTypes.CIBARobotApplication),p.R7$(),p.Y8G("ngIf",!jt.isStarterMode&&(jt.activeType===jt.wizardTypes.NativeApplication||jt.activeType===jt.wizardTypes.PKCENativeApplication))}}function R(Ye,qt){1&Ye&&(p.j41(0,"span"),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&Ye&&(p.R7$(),p.JRh(p.bMT(2,1,"Clients.Home.Title")))}function j(Ye,qt){1&Ye&&(p.j41(0,"span"),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&Ye&&(p.R7$(),p.JRh(p.bMT(2,1,"Clients.SPA.Title")))}function U(Ye,qt){1&Ye&&(p.j41(0,"span"),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&Ye&&(p.R7$(),p.JRh(p.bMT(2,1,"Clients.WebApp.Title")))}function $(Ye,qt){1&Ye&&(p.j41(0,"span"),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&Ye&&(p.R7$(),p.JRh(p.bMT(2,1,"Clients.PKCEWebApp.Title")))}function ie(Ye,qt){1&Ye&&(p.j41(0,"span"),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&Ye&&(p.R7$(),p.JRh(p.bMT(2,1,"Clients.NativeApp.Title")))}function se(Ye,qt){1&Ye&&(p.j41(0,"span"),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&Ye&&(p.R7$(),p.JRh(p.bMT(2,1,"Clients.PKCENativeApp.Title")))}function L(Ye,qt){1&Ye&&(p.j41(0,"span"),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&Ye&&(p.R7$(),p.JRh(p.bMT(2,1,"Clients.MachineToMachine.Title")))}function J(Ye,qt){1&Ye&&(p.j41(0,"span"),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&Ye&&(p.R7$(),p.JRh(p.bMT(2,1,"Clients.CIBAMachineToMachine.Title")))}function q(Ye,qt){1&Ye&&(p.j41(0,"span"),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&Ye&&(p.R7$(),p.JRh(p.bMT(2,1,"Clients.DeviceFlow.Title")))}function S(Ye,qt){1&Ye&&(p.j41(0,"span"),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&Ye&&(p.R7$(),p.JRh(p.bMT(2,1,"Clients.Saml.Title")))}function re(Ye,qt){1&Ye&&(p.j41(0,"span"),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&Ye&&(p.R7$(),p.JRh(p.bMT(2,1,"Clients.WsFed.Title")))}function K(Ye,qt){1&Ye&&(p.j41(0,"span"),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&Ye&&(p.R7$(),p.JRh(p.bMT(2,1,"Clients.LegacySPA.Title")))}function me(Ye,qt){1&Ye&&(p.nrm(0,"p",4),p.nI1(1,"translate")),2&Ye&&p.Y8G("innerHTML",p.bMT(1,1,"Clients.Home.Description"),p.npT)}function Ne(Ye,qt){1&Ye&&(p.nrm(0,"p",4),p.nI1(1,"translate")),2&Ye&&p.Y8G("innerHTML",p.bMT(1,1,"Clients.SPA.Description"),p.npT)}function De(Ye,qt){1&Ye&&(p.nrm(0,"p",4),p.nI1(1,"translate")),2&Ye&&p.Y8G("innerHTML",p.bMT(1,1,"Clients.WebApp.Description"),p.npT)}function xe(Ye,qt){1&Ye&&(p.nrm(0,"p",4),p.nI1(1,"translate")),2&Ye&&p.Y8G("innerHTML",p.bMT(1,1,"Clients.PKCEWebApp.Description"),p.npT)}function Qe(Ye,qt){1&Ye&&(p.nrm(0,"p",4),p.nI1(1,"translate")),2&Ye&&p.Y8G("innerHTML",p.bMT(1,1,"Clients.NativeApp.Description"),p.npT)}function Se(Ye,qt){1&Ye&&(p.nrm(0,"p",4),p.nI1(1,"translate")),2&Ye&&p.Y8G("innerHTML",p.bMT(1,1,"Clients.PKCENativeApp.Description"),p.npT)}function be(Ye,qt){1&Ye&&(p.nrm(0,"p",4),p.nI1(1,"translate")),2&Ye&&p.Y8G("innerHTML",p.bMT(1,1,"Clients.MachineToMachine.Description"),p.npT)}function le(Ye,qt){1&Ye&&(p.nrm(0,"p",4),p.nI1(1,"translate")),2&Ye&&p.Y8G("innerHTML",p.bMT(1,1,"Clients.CIBAMachineToMachine.Description"),p.npT)}function Fe(Ye,qt){1&Ye&&(p.nrm(0,"p",4),p.nI1(1,"translate")),2&Ye&&p.Y8G("innerHTML",p.bMT(1,1,"Clients.DeviceFlow.Description"),p.npT)}function Te(Ye,qt){1&Ye&&(p.nrm(0,"p",4),p.nI1(1,"translate")),2&Ye&&p.Y8G("innerHTML",p.bMT(1,1,"Clients.Saml.Description"),p.npT)}function st(Ye,qt){1&Ye&&(p.nrm(0,"p",4),p.nI1(1,"translate")),2&Ye&&p.Y8G("innerHTML",p.bMT(1,1,"Clients.WsFed.Description"),p.npT)}function Oe(Ye,qt){1&Ye&&(p.nrm(0,"p",4),p.nI1(1,"translate")),2&Ye&&p.Y8G("innerHTML",p.bMT(1,1,"Clients.LegacySPA.Description"),p.npT)}let pt=(()=>{class Ye{get isDuende(){return this.data===e.y.Duende}constructor(jt,Dt){this.licenseService=jt,this.fb=Dt,this.wizardTypes=y.$,this.activeType=y.$.SinglePageApplication,this.webAppTypes=[y.$.PKCEWebApplication,y.$.WebApplication],this.robotAppTypes=[y.$.RobotApplication,y.$.CIBARobotApplication],this.nativeAppTypes=[y.$.PKCENativeApplication,y.$.NativeApplication],this.starterModeProtectedSetups=[y.$.WebApplication,y.$.PKCEWebApplication,y.$.PKCENativeApplication,y.$.NativeApplication,y.$.DeviceApplication,y.$.SamlApplication,y.$.WsFedApplication,y.$.LegacySinglePageApplication]}hosted(){}ngOnInit(){this.licenseService.getLicenseInfo().pipe((0,n.$)()).subscribe(jt=>{this.isStarterMode=jt.isStarterLicense()})}getStepSummary(){return new Map}getStepDTO(){return{}}canNext(){return!this.isStarterMode||!this.starterModeProtectedType()}selectedType(){return this.activeType}onNext(){throw new Error("Method not implemented.")}buildOptionsArray(){var jt=[{id:"spaBtn",btnId:"spaTestBtn",title:"Clients.SPA.Title",summary:"Clients.SPA.Summary",icon:"fab fa-chrome",type:y.$.SinglePageApplication,selectedTypes:[y.$.SinglePageApplication],starterMode:!0},{id:"webAppBtn",btnId:"webAppTestBtn",title:"Clients.WebApp.Title",summary:"Clients.WebApp.Summary",icon:"fas fa-globe",type:y.$.PKCEWebApplication,selectedTypes:[y.$.WebApplication,y.$.PKCEWebApplication],starterMode:!1},{id:"nativeBtn",btnId:"nativeTestBtn",title:"Clients.NativeApp.Title",summary:"Clients.PKCENativeApp.Summary",icon:"fas fa-mobile-alt",type:y.$.PKCENativeApplication,selectedTypes:[y.$.NativeApplication,y.$.PKCENativeApplication],starterMode:!1},{id:"robotBtn",btnId:"robotTestBtn",title:"Clients.MachineToMachine.Title",summary:"Clients.MachineToMachine.Summary",icon:"fas fa-microchip",type:y.$.RobotApplication,selectedTypes:[y.$.RobotApplication,y.$.CIBARobotApplication],starterMode:!0},{id:"deviceBtn",btnId:"deviceTestBtn",title:"Clients.DeviceFlow.Title",summary:"Clients.DeviceFlow.Summary",icon:"fas fa-wifi",type:y.$.DeviceApplication,selectedTypes:[y.$.DeviceApplication],starterMode:!1},{id:"samlBtn",btnId:"samlTestBtn",title:"Clients.Saml.Title",summary:"Clients.Saml.Summary",icon:"fas fa-code",type:y.$.SamlApplication,selectedTypes:[y.$.SamlApplication],starterMode:!1},{id:"legacySpaBtn",btnId:"legacySpaTestBtn",title:"Clients.LegacySPA.Title",summary:"Clients.LegacySPA.Summary",icon:"fab fa-chrome",type:y.$.LegacySinglePageApplication,selectedTypes:[y.$.LegacySinglePageApplication],starterMode:!1}];return this.isDuende&&jt.push({id:"wsfedBtn",btnId:"wsfedTestBtn",title:"Clients.WsFed.Title",summary:"Clients.WsFed.Summary",icon:"far fa-id-card",type:y.$.WsFedApplication,selectedTypes:[y.$.WsFedApplication],starterMode:!1}),jt}setActive(jt){this.activeType=jt,this.setWebAppSelection(jt),this.setRobotAppSelection(jt),this.setNativeAppSelection(jt)}starterModeProtectedType(){return this.starterModeProtectedSetups.includes(this.activeType)}setWebAppSelection(jt){(jt===y.$.WebApplication||jt===y.$.PKCEWebApplication)&&(this.webAppSelectForm=this.fb.group({webAppSelection:jt}))}setRobotAppSelection(jt){this.isDuende&&(jt===y.$.RobotApplication||jt===y.$.CIBARobotApplication)&&(this.robotAppSelectForm=this.fb.group({robotAppSelection:jt}))}setNativeAppSelection(jt){(jt===y.$.NativeApplication||jt===y.$.PKCENativeApplication)&&(this.nativeAppSelectForm=this.fb.group({nativeAppSelection:jt}))}static{this.\u0275fac=function(Dt){return new(Dt||Ye)(p.rXU(w.X),p.rXU(C.ze))}}static{this.\u0275cmp=p.VBU({type:Ye,selectors:[["app-client-type-select"]],inputs:{data:"data"},decls:32,vars:9,consts:[["webAppSelection",""],["robotAppSelection",""],["nativeAppSelection",""],[1,"cms","tw-mb-6"],[3,"innerHTML"],["id","clientTypeSelector",3,"select","activeType","isStarterMode","options"],[1,"tw-border-t","tw-border-grey-300","tw-text-grey-700","tw-text-sm","tw-mt-6","tw-pt-5"],[1,"tw-text-sm","tw-font-semibold","tw-text-primary-500","tw-mb-2"],["aria-hidden","true",1,"fas","fa-info-circle","tw-w-5"],["id","webAppSelectionForm","class","tw-mt-5",3,"formGroup",4,"ngIf"],["id","robotSelectionForm","class","tw-mt-5",3,"formGroup",4,"ngIf"],["id","nativeSelectionFrom","class","tw-mt-5",3,"formGroup",4,"ngIf"],["id","webAppSelectionForm",1,"tw-mt-5",3,"formGroup"],[3,"id","label","isLast"],[1,"tw-form-select"],["id","webAppFlow","formControlName","webAppSelection",1,"tw-form-control",3,"change"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["id","robotSelectionForm",1,"tw-mt-5",3,"formGroup"],["id","robotAppFlow","formControlName","robotAppSelection",1,"tw-form-control",3,"change"],["id","nativeSelectionFrom",1,"tw-mt-5",3,"formGroup"],["id","nativeAppFlow","formControlName","nativeAppSelection",1,"tw-form-control",3,"change"]],template:function(Dt,wt){if(1&Dt&&(p.j41(0,"div",3),p.nrm(1,"p",4),p.nI1(2,"translate"),p.k0s(),p.j41(3,"app-type-selector",5),p.bIt("select",function(Y){return wt.setActive(Y)}),p.k0s(),p.DNE(4,G,3,3),p.j41(5,"div",6)(6,"h2",7),p.nrm(7,"span",8),p.DNE(8,R,3,3)(9,j,3,3)(10,U,3,3)(11,$,3,3)(12,ie,3,3)(13,se,3,3)(14,L,3,3)(15,J,3,3)(16,q,3,3)(17,S,3,3)(18,re,3,3)(19,K,3,3),p.k0s(),p.DNE(20,me,2,3)(21,Ne,2,3)(22,De,2,3)(23,xe,2,3)(24,Qe,2,3)(25,Se,2,3)(26,be,2,3)(27,le,2,3)(28,Fe,2,3)(29,Te,2,3)(30,st,2,3)(31,Oe,2,3),p.k0s()),2&Dt){let z,Y;p.R7$(),p.Y8G("innerHTML",p.bMT(2,7,"Clients.Home.Description"),p.npT),p.R7$(2),p.Y8G("activeType",wt.activeType)("isStarterMode",wt.isStarterMode)("options",wt.buildOptionsArray()),p.R7$(),p.vxM(4,wt.isDuende?4:-1),p.R7$(4),p.vxM(8,(z=wt.activeType)===wt.wizardTypes.Home?8:z===wt.wizardTypes.SinglePageApplication?9:z===wt.wizardTypes.WebApplication?10:z===wt.wizardTypes.PKCEWebApplication?11:z===wt.wizardTypes.NativeApplication?12:z===wt.wizardTypes.PKCENativeApplication?13:z===wt.wizardTypes.RobotApplication?14:z===wt.wizardTypes.CIBARobotApplication?15:z===wt.wizardTypes.DeviceApplication?16:z===wt.wizardTypes.SamlApplication?17:z===wt.wizardTypes.WsFedApplication?18:z===wt.wizardTypes.LegacySinglePageApplication?19:-1),p.R7$(12),p.vxM(20,(Y=wt.activeType)===wt.wizardTypes.Home?20:Y===wt.wizardTypes.SinglePageApplication?21:Y===wt.wizardTypes.WebApplication?22:Y===wt.wizardTypes.PKCEWebApplication?23:Y===wt.wizardTypes.NativeApplication?24:Y===wt.wizardTypes.PKCENativeApplication?25:Y===wt.wizardTypes.RobotApplication?26:Y===wt.wizardTypes.CIBARobotApplication?27:Y===wt.wizardTypes.DeviceApplication?28:Y===wt.wizardTypes.SamlApplication?29:Y===wt.wizardTypes.WsFedApplication?30:Y===wt.wizardTypes.LegacySinglePageApplication?31:-1)}},dependencies:[m.Sq,m.bT,C.qT,C.xH,C.y7,C.wz,C.BC,C.cb,C.j4,C.JD,u.Y,f.N,T.D9],encapsulation:2})}}return Ye})()},5313:(nt,fe,h)=>{"use strict";h.d(fe,{w:()=>b});var n=h(9417),e=h(4438),y=h(177),p=h(8698),w=h(1780);function C(k,N){1&k&&(e.j41(0,"p"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&k&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.SloEndpoints")))}function m(k,N){1&k&&(e.j41(0,"p"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&k&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.AcsEndpoints")))}function u(k,N){1&k&&(e.j41(0,"p"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&k&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.ArsEndpoints")))}function f(k,N){1&k&&(e.j41(0,"option",13),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&k&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.Post")))}function T(k,N){1&k&&(e.j41(0,"option",14),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&k&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.Redirect")))}function O(k,N){1&k&&(e.j41(0,"option",15),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&k&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.Artifact")))}function F(k,N){1&k&&(e.j41(0,"option",16),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&k&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.Soap")))}let b=(()=>{class k{constructor(G){this.fb=G}hosted(){}ngOnInit(){const G=[n.k0.pattern("^https?://.*$")],R=[];"ACSEndpoint"===this.data.endpointType&&(G.push(n.k0.required),R.push(n.k0.required)),this.endpointForm=this.fb.group({location:["",G],index:[0,[n.k0.min(0),n.k0.max(99)]],binding:["ARSEndpoint"===this.data.endpointType?"urn:oasis:names:tc:SAML:2.0:bindings:SOAP":"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST",R]}),this.registerBindingValidation()}ngOnDestroy(){void 0!==this.valueChangesSub&&this.valueChangesSub.unsubscribe()}registerBindingValidation(){const G=this.endpointForm.get("location"),R=this.endpointForm.get("binding");this.valueChangesSub=G.valueChanges.subscribe(j=>{R.setValidators(j.length>0?n.k0.required:null),R.updateValueAndValidity()})}getStepSummary(){if(""!==this.endpointForm.get("location").value)return new Map([[this.data.endpointType,[`${this.endpointForm.get("location").value} - ${this.endpointForm.get("index").value} - ${this.endpointForm.get("binding").value}`]]])}getStepDTO(){if(""!==this.endpointForm.get("location").value){let G,R;switch(this.data.endpointType){case"SLOEndpoint":G="SLOBindingType",R="SLOEndpointIndex";break;case"ACSEndpoint":G="ACSBindingType",R="ACSEndpointIndex";break;default:G="ARSBindingType",R="ARSEndpointIndex"}const j=null==this.endpointForm.get("index").value?0:this.endpointForm.get("index").value;return{[this.data.endpointType]:this.endpointForm.get("location").value,[G]:this.endpointForm.get("binding").value,[R]:j}}}canNext(){return this.endpointForm.valid}static{this.\u0275fac=function(R){return new(R||k)(e.rXU(n.ze))}}static{this.\u0275cmp=e.VBU({type:k,selectors:[["app-endpoints"]],decls:16,vars:18,consts:[[1,"cms","tw-mb-6"],[4,"ngIf"],[3,"formGroup"],[3,"id","label","help"],["id","EndpointUrl","type","url","name","EndpointUrl","formControlName","location",1,"tw-form-control"],[1,"tw-form-select"],["id","EndpointBinding","formControlName","binding",1,"tw-form-control"],["value","urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST",4,"ngIf"],["value","urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect",4,"ngIf"],["value","urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Artifact",4,"ngIf"],["value","urn:oasis:names:tc:SAML:2.0:bindings:SOAP",4,"ngIf"],[3,"id","label","help","isLast"],["id","EndpointIndex","type","number","name","EndpointIndex","min","0","formControlName","index",1,"tw-form-control","tw-max-w-48"],["value","urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST"],["value","urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect"],["value","urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Artifact"],["value","urn:oasis:names:tc:SAML:2.0:bindings:SOAP"]],template:function(R,j){1&R&&(e.j41(0,"div",0),e.DNE(1,C,3,3,"p",1)(2,m,3,3,"p",1)(3,u,3,3,"p",1),e.k0s(),e.j41(4,"form",2)(5,"app-form-row",3),e.nrm(6,"input",4),e.k0s(),e.j41(7,"app-form-row",3)(8,"div",5)(9,"select",6),e.DNE(10,f,3,3,"option",7)(11,T,3,3,"option",8)(12,O,3,3,"option",9)(13,F,3,3,"option",10),e.k0s()()(),e.j41(14,"app-form-row",11),e.nrm(15,"input",12),e.k0s()()),2&R&&(e.R7$(),e.Y8G("ngIf","SLOEndpoint"==j.data.endpointType),e.R7$(),e.Y8G("ngIf","ACSEndpoint"==j.data.endpointType),e.R7$(),e.Y8G("ngIf","ARSEndpoint"==j.data.endpointType),e.R7$(),e.Y8G("formGroup",j.endpointForm),e.R7$(),e.Y8G("id","EndpointUrl")("label","Clients.Endpoint")("help","SLOEndpoint"==j.data.endpointType?"Clients.SloEndpointHelp":"ACSEndpoint"==j.data.endpointType?"Clients.AcsEndpointHelp":"Clients.ArsEndpointHelp"),e.R7$(2),e.Y8G("id","EndpointBinding")("label","Clients.BindingType")("help","Clients.BindingTypeHelp"),e.R7$(3),e.Y8G("ngIf","ARSEndpoint"!=j.data.endpointType),e.R7$(),e.Y8G("ngIf","ARSEndpoint"!=j.data.endpointType),e.R7$(),e.Y8G("ngIf","ARSEndpoint"!=j.data.endpointType),e.R7$(),e.Y8G("ngIf","ARSEndpoint"==j.data.endpointType),e.R7$(),e.Y8G("id","EndpointIndex")("label","Clients.Saml.Index")("help","Clients.IndexHelp")("isLast",!0))},dependencies:[y.bT,n.qT,n.xH,n.y7,n.me,n.Q0,n.wz,n.BC,n.cb,n.VZ,n.j4,n.JD,p.Y,w.D9],encapsulation:2})}}return k})()},2653:(nt,fe,h)=>{"use strict";h.d(fe,{f:()=>e});var n=h(4438);let e=(()=>{class y{constructor(){this.assignedIdentityResources=[],this.assignedProtectedResources=[]}static{this.\u0275fac=function(C){return new(C||y)}}static{this.\u0275prov=n.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})()},9947:(nt,fe,h)=>{"use strict";h.d(fe,{a:()=>U});var n=h(9417),e=h(177),y=h(1780),p=h(8400),w=h(1683),C=h(4179),m=h(2571),u=h(5826),f=h(7175),T=h(5847),O=h(779),F=h(534),b=h(6193),M=h(75),k=h(8389),N=h(2653),G=h(7677),R=h(5667),j=h(4438);let U=(()=>{class ${static{this.\u0275fac=function(L){return new(L||$)}}static{this.\u0275mod=j.$C({type:$})}static{this.\u0275inj=j.G2t({providers:[N.f,u.o,T.a,b.V],imports:[e.MD,n.YN,n.X1,p.qP,y.h,F.Ss,w.Y,O.Q_,C.z,m.A,f.c,M.U,k.w,G.N,R.g]})}}return $})()},316:(nt,fe,h)=>{"use strict";function n(e){const y=e.value;if(null==y)return{validEmail:!1};if(y.indexOf(" ")>-1)return{validEmail:!1};let p=!1;for(let w=0;w<y.length;w++)if("@"===e.value[w]){if(p||0===w||w===y.length-1)return{validEmail:!1};p=!0}return p?null:{validEmail:!1}}h.d(fe,{D:()=>n})},6280:(nt,fe,h)=>{"use strict";var n=h(345),e=h(4438),p=h(9417),w=h(1626),C=h(9969);function u(s){return new e.wOt(3e3,!1)}function jt(s){switch(s.length){case 0:return new C.sf;case 1:return s[0];default:return new C.ui(s)}}function Dt(s,g,i=new Map,a=new Map){const d=[],D=[];let te=-1,Ae=null;if(g.forEach(et=>{const bt=et.get("offset"),Ht=bt==te,dn=Ht&&Ae||new Map;et.forEach((yn,En)=>{let On=En,kn=yn;if("offset"!==En)switch(On=s.normalizePropertyName(On,d),kn){case C.FX:kn=i.get(En);break;case C.kp:kn=a.get(En);break;default:kn=s.normalizeStyleValue(En,On,kn,d)}dn.set(On,kn)}),Ht||D.push(dn),Ae=dn,te=bt}),d.length)throw function De(s){return new e.wOt(3502,!1)}();return D}function wt(s,g,i,a){switch(g){case"start":s.onStart(()=>a(i&&z(i,"start",s)));break;case"done":s.onDone(()=>a(i&&z(i,"done",s)));break;case"destroy":s.onDestroy(()=>a(i&&z(i,"destroy",s)))}}function z(s,g,i){const D=Y(s.element,s.triggerName,s.fromState,s.toState,g||s.phaseName,i.totalTime??s.totalTime,!!i.disabled),te=s._data;return null!=te&&(D._data=te),D}function Y(s,g,i,a,d="",D=0,te){return{element:s,triggerName:g,fromState:i,toState:a,phaseName:d,totalTime:D,disabled:!!te}}function Z(s,g,i){let a=s.get(g);return a||s.set(g,a=i),a}function Ce(s){const g=s.indexOf(":");return[s.substring(1,g),s.slice(g+1)]}const we=typeof document>"u"?null:document.documentElement;function at(s){const g=s.parentNode||s.host||null;return g===we?null:g}let ot=null,Pt=!1;function sn(s,g){for(;g;){if(g===s)return!0;g=at(g)}return!1}function Ft(s,g,i){if(i)return Array.from(s.querySelectorAll(g));const a=s.querySelector(g);return a?[a]:[]}let je=(()=>{class s{validateStyleProperty(i){return function mt(s){ot||(ot=function Kt(){return typeof document<"u"?document.body:null}()||{},Pt=!!ot.style&&"WebkitAppearance"in ot.style);let g=!0;return ot.style&&!function Be(s){return"ebkit"==s.substring(1,6)}(s)&&(g=s in ot.style,!g&&Pt&&(g="Webkit"+s.charAt(0).toUpperCase()+s.slice(1)in ot.style)),g}(i)}matchesElement(i,a){return!1}containsElement(i,a){return sn(i,a)}getParentElement(i){return at(i)}query(i,a,d){return Ft(i,a,d)}computeStyle(i,a,d){return d||""}animate(i,a,d,D,te,Ae=[],et){return new C.sf(d,D)}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac})}}return s})();class ce{static{this.NOOP=new je}}class X{}const Ve=1e3,Bt="ng-enter",cn="ng-leave",hn="ng-trigger",An=".ng-trigger",xn="ng-animating",Bn=".ng-animating";function It(s){if("number"==typeof s)return s;const g=s.match(/^(-?[\.\d]+)(m?s)/);return!g||g.length<2?0:Dn(parseFloat(g[1]),g[2])}function Dn(s,g){return"s"===g?s*Ve:s}function Gt(s,g,i){return s.hasOwnProperty("duration")?s:function lt(s,g,i){let d,D=0,te="";if("string"==typeof s){const Ae=s.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Ae)return g.push(u()),{duration:0,delay:0,easing:""};d=Dn(parseFloat(Ae[1]),Ae[2]);const et=Ae[3];null!=et&&(D=Dn(parseFloat(et),Ae[4]));const bt=Ae[5];bt&&(te=bt)}else d=s;if(!i){let Ae=!1,et=g.length;d<0&&(g.push(function f(){return new e.wOt(3100,!1)}()),Ae=!0),D<0&&(g.push(function T(){return new e.wOt(3101,!1)}()),Ae=!0),Ae&&g.splice(et,0,u())}return{duration:d,delay:D,easing:te}}(s,g,i)}function Ot(s,g,i){g.forEach((a,d)=>{const D=ht(d);i&&!i.has(d)&&i.set(d,s.style[D]),s.style[D]=a})}function en(s,g){g.forEach((i,a)=>{const d=ht(a);s.style[d]=""})}function Sn(s){return Array.isArray(s)?1==s.length?s[0]:(0,C.K2)(s):s}const fn=new RegExp("{{\\s*(.+?)\\s*}}","g");function di(s){let g=[];if("string"==typeof s){let i;for(;i=fn.exec(s);)g.push(i[1]);fn.lastIndex=0}return g}function Gn(s,g,i){const a=`${s}`,d=a.replace(fn,(D,te)=>{let Ae=g[te];return null==Ae&&(i.push(function F(s){return new e.wOt(3003,!1)}()),Ae=""),Ae.toString()});return d==a?s:d}const Mt=/-+([a-z0-9])/g;function ht(s){return s.replace(Mt,(...g)=>g[1].toUpperCase())}function vn(s,g,i){switch(g.type){case C.If.Trigger:return s.visitTrigger(g,i);case C.If.State:return s.visitState(g,i);case C.If.Transition:return s.visitTransition(g,i);case C.If.Sequence:return s.visitSequence(g,i);case C.If.Group:return s.visitGroup(g,i);case C.If.Animate:return s.visitAnimate(g,i);case C.If.Keyframes:return s.visitKeyframes(g,i);case C.If.Style:return s.visitStyle(g,i);case C.If.Reference:return s.visitReference(g,i);case C.If.AnimateChild:return s.visitAnimateChild(g,i);case C.If.AnimateRef:return s.visitAnimateRef(g,i);case C.If.Query:return s.visitQuery(g,i);case C.If.Stagger:return s.visitStagger(g,i);default:throw function b(s){return new e.wOt(3004,!1)}()}}function gn(s,g){return window.getComputedStyle(s)[g]}const Yn=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class In extends X{normalizePropertyName(g,i){return ht(g)}normalizeStyleValue(g,i,a,d){let D="";const te=a.toString().trim();if(Yn.has(i)&&0!==a&&"0"!==a)if("number"==typeof a)D="px";else{const Ae=a.match(/^[+-]?[\d\.]+([a-z]*)$/);Ae&&0==Ae[1].length&&d.push(function M(s,g){return new e.wOt(3005,!1)}())}return te+D}}const wi="*";const Ei=new Set(["true","1"]),qe=new Set(["false","0"]);function At(s,g){const i=Ei.has(s)||qe.has(s),a=Ei.has(g)||qe.has(g);return(d,D)=>{let te=s==wi||s==d,Ae=g==wi||g==D;return!te&&i&&"boolean"==typeof d&&(te=d?Ei.has(s):qe.has(s)),!Ae&&a&&"boolean"==typeof D&&(Ae=D?Ei.has(g):qe.has(g)),te&&Ae}}const zt=new RegExp("s*:selfs*,?","g");function ct(s,g,i,a){return new Xe(s).build(g,i,a)}class Xe{constructor(g){this._driver=g}build(g,i,a){const d=new _e(i);return this._resetContextStyleTimingState(d),vn(this,Sn(g),d)}_resetContextStyleTimingState(g){g.currentQuerySelector="",g.collectedStyles=new Map,g.collectedStyles.set("",new Map),g.currentTime=0}visitTrigger(g,i){let a=i.queryCount=0,d=i.depCount=0;const D=[],te=[];return"@"==g.name.charAt(0)&&i.errors.push(function k(){return new e.wOt(3006,!1)}()),g.definitions.forEach(Ae=>{if(this._resetContextStyleTimingState(i),Ae.type==C.If.State){const et=Ae,bt=et.name;bt.toString().split(/\s*,\s*/).forEach(Ht=>{et.name=Ht,D.push(this.visitState(et,i))}),et.name=bt}else if(Ae.type==C.If.Transition){const et=this.visitTransition(Ae,i);a+=et.queryCount,d+=et.depCount,te.push(et)}else i.errors.push(function N(){return new e.wOt(3007,!1)}())}),{type:C.If.Trigger,name:g.name,states:D,transitions:te,queryCount:a,depCount:d,options:null}}visitState(g,i){const a=this.visitStyle(g.styles,i),d=g.options&&g.options.params||null;if(a.containsDynamicStyles){const D=new Set,te=d||{};a.styles.forEach(Ae=>{Ae instanceof Map&&Ae.forEach(et=>{di(et).forEach(bt=>{te.hasOwnProperty(bt)||D.add(bt)})})}),D.size&&i.errors.push(function G(s,g){return new e.wOt(3008,!1)}(0,D.values()))}return{type:C.If.State,name:g.name,style:a,options:d?{params:d}:null}}visitTransition(g,i){i.queryCount=0,i.depCount=0;const a=vn(this,Sn(g.animation),i),d=function mi(s,g){const i=[];return"string"==typeof s?s.split(/\s*,\s*/).forEach(a=>function Hi(s,g,i){if(":"==s[0]){const et=function ji(s,g){switch(s){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(i,a)=>parseFloat(a)>parseFloat(i);case":decrement":return(i,a)=>parseFloat(a)<parseFloat(i);default:return g.push(function re(s){return new e.wOt(3016,!1)}()),"* => *"}}(s,i);if("function"==typeof et)return void g.push(et);s=et}const a=s.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==a||a.length<4)return i.push(function S(s){return new e.wOt(3015,!1)}()),g;const d=a[1],D=a[2],te=a[3];g.push(At(d,te)),"<"==D[0]&&(d!=wi||te!=wi)&&g.push(At(te,d))}(a,i,g)):i.push(s),i}(g.expr,i.errors);return{type:C.If.Transition,matchers:d,animation:a,queryCount:i.queryCount,depCount:i.depCount,options:ft(g.options)}}visitSequence(g,i){return{type:C.If.Sequence,steps:g.steps.map(a=>vn(this,a,i)),options:ft(g.options)}}visitGroup(g,i){const a=i.currentTime;let d=0;const D=g.steps.map(te=>{i.currentTime=a;const Ae=vn(this,te,i);return d=Math.max(d,i.currentTime),Ae});return i.currentTime=d,{type:C.If.Group,steps:D,options:ft(g.options)}}visitAnimate(g,i){const a=function ye(s,g){if(s.hasOwnProperty("duration"))return s;if("number"==typeof s)return ze(Gt(s,g).duration,0,"");const i=s;if(i.split(/\s+/).some(D=>"{"==D.charAt(0)&&"{"==D.charAt(1))){const D=ze(0,0,"");return D.dynamic=!0,D.strValue=i,D}const d=Gt(i,g);return ze(d.duration,d.delay,d.easing)}(g.timings,i.errors);i.currentAnimateTimings=a;let d,D=g.styles?g.styles:(0,C.iF)({});if(D.type==C.If.Keyframes)d=this.visitKeyframes(D,i);else{let te=g.styles,Ae=!1;if(!te){Ae=!0;const bt={};a.easing&&(bt.easing=a.easing),te=(0,C.iF)(bt)}i.currentTime+=a.duration+a.delay;const et=this.visitStyle(te,i);et.isEmptyStep=Ae,d=et}return i.currentAnimateTimings=null,{type:C.If.Animate,timings:a,style:d,options:null}}visitStyle(g,i){const a=this._makeStyleAst(g,i);return this._validateStyleAst(a,i),a}_makeStyleAst(g,i){const a=[],d=Array.isArray(g.styles)?g.styles:[g.styles];for(let Ae of d)"string"==typeof Ae?Ae===C.kp?a.push(Ae):i.errors.push(new e.wOt(3002,!1)):a.push(new Map(Object.entries(Ae)));let D=!1,te=null;return a.forEach(Ae=>{if(Ae instanceof Map&&(Ae.has("easing")&&(te=Ae.get("easing"),Ae.delete("easing")),!D))for(let et of Ae.values())if(et.toString().indexOf("{{")>=0){D=!0;break}}),{type:C.If.Style,styles:a,easing:te,offset:g.offset,containsDynamicStyles:D,options:null}}_validateStyleAst(g,i){const a=i.currentAnimateTimings;let d=i.currentTime,D=i.currentTime;a&&D>0&&(D-=a.duration+a.delay),g.styles.forEach(te=>{"string"!=typeof te&&te.forEach((Ae,et)=>{const bt=i.collectedStyles.get(i.currentQuerySelector),Ht=bt.get(et);let dn=!0;Ht&&(D!=d&&D>=Ht.startTime&&d<=Ht.endTime&&(i.errors.push(function U(s,g,i,a,d){return new e.wOt(3010,!1)}()),dn=!1),D=Ht.startTime),dn&&bt.set(et,{startTime:D,endTime:d}),i.options&&function Un(s,g,i){const a=g.params||{},d=di(s);d.length&&d.forEach(D=>{a.hasOwnProperty(D)||i.push(function O(s){return new e.wOt(3001,!1)}())})}(Ae,i.options,i.errors)})})}visitKeyframes(g,i){const a={type:C.If.Keyframes,styles:[],options:null};if(!i.currentAnimateTimings)return i.errors.push(function $(){return new e.wOt(3011,!1)}()),a;let D=0;const te=[];let Ae=!1,et=!1,bt=0;const Ht=g.steps.map(bi=>{const Ti=this._makeStyleAst(bi,i);let Zi=null!=Ti.offset?Ti.offset:function Ie(s){if("string"==typeof s)return null;let g=null;if(Array.isArray(s))s.forEach(i=>{if(i instanceof Map&&i.has("offset")){const a=i;g=parseFloat(a.get("offset")),a.delete("offset")}});else if(s instanceof Map&&s.has("offset")){const i=s;g=parseFloat(i.get("offset")),i.delete("offset")}return g}(Ti.styles),Ci=0;return null!=Zi&&(D++,Ci=Ti.offset=Zi),et=et||Ci<0||Ci>1,Ae=Ae||Ci<bt,bt=Ci,te.push(Ci),Ti});et&&i.errors.push(function ie(){return new e.wOt(3012,!1)}()),Ae&&i.errors.push(function se(){return new e.wOt(3200,!1)}());const dn=g.steps.length;let yn=0;D>0&&D<dn?i.errors.push(function L(){return new e.wOt(3202,!1)}()):0==D&&(yn=1/(dn-1));const En=dn-1,On=i.currentTime,kn=i.currentAnimateTimings,ai=kn.duration;return Ht.forEach((bi,Ti)=>{const Zi=yn>0?Ti==En?1:yn*Ti:te[Ti],Ci=Zi*ai;i.currentTime=On+kn.delay+Ci,kn.duration=Ci,this._validateStyleAst(bi,i),bi.offset=Zi,a.styles.push(bi)}),a}visitReference(g,i){return{type:C.If.Reference,animation:vn(this,Sn(g.animation),i),options:ft(g.options)}}visitAnimateChild(g,i){return i.depCount++,{type:C.If.AnimateChild,options:ft(g.options)}}visitAnimateRef(g,i){return{type:C.If.AnimateRef,animation:this.visitReference(g.animation,i),options:ft(g.options)}}visitQuery(g,i){const a=i.currentQuerySelector,d=g.options||{};i.queryCount++,i.currentQuery=g;const[D,te]=function Zt(s){const g=!!s.split(/\s*,\s*/).find(i=>":self"==i);return g&&(s=s.replace(zt,"")),s=s.replace(/@\*/g,An).replace(/@\w+/g,i=>An+"-"+i.slice(1)).replace(/:animating/g,Bn),[s,g]}(g.selector);i.currentQuerySelector=a.length?a+" "+D:D,Z(i.collectedStyles,i.currentQuerySelector,new Map);const Ae=vn(this,Sn(g.animation),i);return i.currentQuery=null,i.currentQuerySelector=a,{type:C.If.Query,selector:D,limit:d.limit||0,optional:!!d.optional,includeSelf:te,animation:Ae,originalSelector:g.selector,options:ft(g.options)}}visitStagger(g,i){i.currentQuery||i.errors.push(function J(){return new e.wOt(3013,!1)}());const a="full"===g.timings?{duration:0,delay:0,easing:"full"}:Gt(g.timings,i.errors,!0);return{type:C.If.Stagger,animation:vn(this,Sn(g.animation),i),timings:a,options:null}}}class _e{constructor(g){this.errors=g,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function ft(s){return s?(s={...s}).params&&(s.params=function ut(s){return s?{...s}:null}(s.params)):s={},s}function ze(s,g,i){return{duration:s,delay:g,easing:i}}function Tt(s,g,i,a,d,D,te=null,Ae=!1){return{type:1,element:s,keyframes:g,preStyleProps:i,postStyleProps:a,duration:d,delay:D,totalTime:d+D,easing:te,subTimeline:Ae}}class vt{constructor(){this._map=new Map}get(g){return this._map.get(g)||[]}append(g,i){let a=this._map.get(g);a||this._map.set(g,a=[]),a.push(...i)}has(g){return this._map.has(g)}clear(){this._map.clear()}}const ri=new RegExp(":enter","g"),ti=new RegExp(":leave","g");function Ui(s,g,i,a,d,D=new Map,te=new Map,Ae,et,bt=[]){return(new hr).buildKeyframes(s,g,i,a,d,D,te,Ae,et,bt)}class hr{buildKeyframes(g,i,a,d,D,te,Ae,et,bt,Ht=[]){bt=bt||new vt;const dn=new si(g,i,bt,d,D,Ht,[]);dn.options=et;const yn=et.delay?It(et.delay):0;dn.currentTimeline.delayNextStep(yn),dn.currentTimeline.setStyles([te],null,dn.errors,et),vn(this,a,dn);const En=dn.timelines.filter(On=>On.containsAnimation());if(En.length&&Ae.size){let On;for(let kn=En.length-1;kn>=0;kn--){const ai=En[kn];if(ai.element===i){On=ai;break}}On&&!On.allowOnlyTimelineStyles()&&On.setStyles([Ae],null,dn.errors,et)}return En.length?En.map(On=>On.buildKeyframes()):[Tt(i,[],[],[],0,yn,"",!1)]}visitTrigger(g,i){}visitState(g,i){}visitTransition(g,i){}visitAnimateChild(g,i){const a=i.subInstructions.get(i.element);if(a){const d=i.createSubContext(g.options),D=i.currentTimeline.currentTime,te=this._visitSubInstructions(a,d,d.options);D!=te&&i.transformIntoNewTimeline(te)}i.previousNode=g}visitAnimateRef(g,i){const a=i.createSubContext(g.options);a.transformIntoNewTimeline(),this._applyAnimationRefDelays([g.options,g.animation.options],i,a),this.visitReference(g.animation,a),i.transformIntoNewTimeline(a.currentTimeline.currentTime),i.previousNode=g}_applyAnimationRefDelays(g,i,a){for(const d of g){const D=d?.delay;if(D){const te="number"==typeof D?D:It(Gn(D,d?.params??{},i.errors));a.delayNextStep(te)}}}_visitSubInstructions(g,i,a){let D=i.currentTimeline.currentTime;const te=null!=a.duration?It(a.duration):null,Ae=null!=a.delay?It(a.delay):null;return 0!==te&&g.forEach(et=>{const bt=i.appendInstructionToTimeline(et,te,Ae);D=Math.max(D,bt.duration+bt.delay)}),D}visitReference(g,i){i.updateOptions(g.options,!0),vn(this,g.animation,i),i.previousNode=g}visitSequence(g,i){const a=i.subContextCount;let d=i;const D=g.options;if(D&&(D.params||D.delay)&&(d=i.createSubContext(D),d.transformIntoNewTimeline(),null!=D.delay)){d.previousNode.type==C.If.Style&&(d.currentTimeline.snapshotCurrentStyles(),d.previousNode=Hn);const te=It(D.delay);d.delayNextStep(te)}g.steps.length&&(g.steps.forEach(te=>vn(this,te,d)),d.currentTimeline.applyStylesToKeyframe(),d.subContextCount>a&&d.transformIntoNewTimeline()),i.previousNode=g}visitGroup(g,i){const a=[];let d=i.currentTimeline.currentTime;const D=g.options&&g.options.delay?It(g.options.delay):0;g.steps.forEach(te=>{const Ae=i.createSubContext(g.options);D&&Ae.delayNextStep(D),vn(this,te,Ae),d=Math.max(d,Ae.currentTimeline.currentTime),a.push(Ae.currentTimeline)}),a.forEach(te=>i.currentTimeline.mergeTimelineCollectedStyles(te)),i.transformIntoNewTimeline(d),i.previousNode=g}_visitTiming(g,i){if(g.dynamic){const a=g.strValue;return Gt(i.params?Gn(a,i.params,i.errors):a,i.errors)}return{duration:g.duration,delay:g.delay,easing:g.easing}}visitAnimate(g,i){const a=i.currentAnimateTimings=this._visitTiming(g.timings,i),d=i.currentTimeline;a.delay&&(i.incrementTime(a.delay),d.snapshotCurrentStyles());const D=g.style;D.type==C.If.Keyframes?this.visitKeyframes(D,i):(i.incrementTime(a.duration),this.visitStyle(D,i),d.applyStylesToKeyframe()),i.currentAnimateTimings=null,i.previousNode=g}visitStyle(g,i){const a=i.currentTimeline,d=i.currentAnimateTimings;!d&&a.hasCurrentStyleProperties()&&a.forwardFrame();const D=d&&d.easing||g.easing;g.isEmptyStep?a.applyEmptyStep(D):a.setStyles(g.styles,D,i.errors,i.options),i.previousNode=g}visitKeyframes(g,i){const a=i.currentAnimateTimings,d=i.currentTimeline.duration,D=a.duration,Ae=i.createSubContext().currentTimeline;Ae.easing=a.easing,g.styles.forEach(et=>{Ae.forwardTime((et.offset||0)*D),Ae.setStyles(et.styles,et.easing,i.errors,i.options),Ae.applyStylesToKeyframe()}),i.currentTimeline.mergeTimelineCollectedStyles(Ae),i.transformIntoNewTimeline(d+D),i.previousNode=g}visitQuery(g,i){const a=i.currentTimeline.currentTime,d=g.options||{},D=d.delay?It(d.delay):0;D&&(i.previousNode.type===C.If.Style||0==a&&i.currentTimeline.hasCurrentStyleProperties())&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Hn);let te=a;const Ae=i.invokeQuery(g.selector,g.originalSelector,g.limit,g.includeSelf,!!d.optional,i.errors);i.currentQueryTotal=Ae.length;let et=null;Ae.forEach((bt,Ht)=>{i.currentQueryIndex=Ht;const dn=i.createSubContext(g.options,bt);D&&dn.delayNextStep(D),bt===i.element&&(et=dn.currentTimeline),vn(this,g.animation,dn),dn.currentTimeline.applyStylesToKeyframe(),te=Math.max(te,dn.currentTimeline.currentTime)}),i.currentQueryIndex=0,i.currentQueryTotal=0,i.transformIntoNewTimeline(te),et&&(i.currentTimeline.mergeTimelineCollectedStyles(et),i.currentTimeline.snapshotCurrentStyles()),i.previousNode=g}visitStagger(g,i){const a=i.parentContext,d=i.currentTimeline,D=g.timings,te=Math.abs(D.duration),Ae=te*(i.currentQueryTotal-1);let et=te*i.currentQueryIndex;switch(D.duration<0?"reverse":D.easing){case"reverse":et=Ae-et;break;case"full":et=a.currentStaggerTime}const Ht=i.currentTimeline;et&&Ht.delayNextStep(et);const dn=Ht.currentTime;vn(this,g.animation,i),i.previousNode=g,a.currentStaggerTime=d.currentTime-dn+(d.startTime-a.currentTimeline.startTime)}}const Hn={};class si{constructor(g,i,a,d,D,te,Ae,et){this._driver=g,this.element=i,this.subInstructions=a,this._enterClassName=d,this._leaveClassName=D,this.errors=te,this.timelines=Ae,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Hn,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=et||new ar(this._driver,i,0),Ae.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(g,i){if(!g)return;const a=g;let d=this.options;null!=a.duration&&(d.duration=It(a.duration)),null!=a.delay&&(d.delay=It(a.delay));const D=a.params;if(D){let te=d.params;te||(te=this.options.params={}),Object.keys(D).forEach(Ae=>{(!i||!te.hasOwnProperty(Ae))&&(te[Ae]=Gn(D[Ae],te,this.errors))})}}_copyOptions(){const g={};if(this.options){const i=this.options.params;if(i){const a=g.params={};Object.keys(i).forEach(d=>{a[d]=i[d]})}}return g}createSubContext(g=null,i,a){const d=i||this.element,D=new si(this._driver,d,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(d,a||0));return D.previousNode=this.previousNode,D.currentAnimateTimings=this.currentAnimateTimings,D.options=this._copyOptions(),D.updateOptions(g),D.currentQueryIndex=this.currentQueryIndex,D.currentQueryTotal=this.currentQueryTotal,D.parentContext=this,this.subContextCount++,D}transformIntoNewTimeline(g){return this.previousNode=Hn,this.currentTimeline=this.currentTimeline.fork(this.element,g),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(g,i,a){const d={duration:i??g.duration,delay:this.currentTimeline.currentTime+(a??0)+g.delay,easing:""},D=new Ai(this._driver,g.element,g.keyframes,g.preStyleProps,g.postStyleProps,d,g.stretchStartingKeyframe);return this.timelines.push(D),d}incrementTime(g){this.currentTimeline.forwardTime(this.currentTimeline.duration+g)}delayNextStep(g){g>0&&this.currentTimeline.delayNextStep(g)}invokeQuery(g,i,a,d,D,te){let Ae=[];if(d&&Ae.push(this.element),g.length>0){g=(g=g.replace(ri,"."+this._enterClassName)).replace(ti,"."+this._leaveClassName);let bt=this._driver.query(this.element,g,1!=a);0!==a&&(bt=a<0?bt.slice(bt.length+a,bt.length):bt.slice(0,a)),Ae.push(...bt)}return!D&&0==Ae.length&&te.push(function q(s){return new e.wOt(3014,!1)}()),Ae}}class ar{constructor(g,i,a,d){this._driver=g,this.element=i,this.startTime=a,this._elementTimelineStylesLookup=d,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(i),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(i,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(g){const i=1===this._keyframes.size&&this._pendingStyles.size;this.duration||i?(this.forwardTime(this.currentTime+g),i&&this.snapshotCurrentStyles()):this.startTime+=g}fork(g,i){return this.applyStylesToKeyframe(),new ar(this._driver,g,i||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(g){this.applyStylesToKeyframe(),this.duration=g,this._loadKeyframe()}_updateStyle(g,i){this._localTimelineStyles.set(g,i),this._globalTimelineStyles.set(g,i),this._styleSummary.set(g,{time:this.currentTime,value:i})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(g){g&&this._previousKeyframe.set("easing",g);for(let[i,a]of this._globalTimelineStyles)this._backFill.set(i,a||C.kp),this._currentKeyframe.set(i,C.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(g,i,a,d){i&&this._previousKeyframe.set("easing",i);const D=d&&d.params||{},te=function Qs(s,g){const i=new Map;let a;return s.forEach(d=>{if("*"===d){a??=g.keys();for(let D of a)i.set(D,C.kp)}else for(let[D,te]of d)i.set(D,te)}),i}(g,this._globalTimelineStyles);for(let[Ae,et]of te){const bt=Gn(et,D,a);this._pendingStyles.set(Ae,bt),this._localTimelineStyles.has(Ae)||this._backFill.set(Ae,this._globalTimelineStyles.get(Ae)??C.kp),this._updateStyle(Ae,bt)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((g,i)=>{this._currentKeyframe.set(i,g)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((g,i)=>{this._currentKeyframe.has(i)||this._currentKeyframe.set(i,g)}))}snapshotCurrentStyles(){for(let[g,i]of this._localTimelineStyles)this._pendingStyles.set(g,i),this._updateStyle(g,i)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const g=[];for(let i in this._currentKeyframe)g.push(i);return g}mergeTimelineCollectedStyles(g){g._styleSummary.forEach((i,a)=>{const d=this._styleSummary.get(a);(!d||i.time>d.time)&&this._updateStyle(a,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const g=new Set,i=new Set,a=1===this._keyframes.size&&0===this.duration;let d=[];this._keyframes.forEach((Ae,et)=>{const bt=new Map([...this._backFill,...Ae]);bt.forEach((Ht,dn)=>{Ht===C.FX?g.add(dn):Ht===C.kp&&i.add(dn)}),a||bt.set("offset",et/this.duration),d.push(bt)});const D=[...g.values()],te=[...i.values()];if(a){const Ae=d[0],et=new Map(Ae);Ae.set("offset",0),et.set("offset",1),d=[Ae,et]}return Tt(this.element,d,D,te,this.duration,this.startTime,this.easing,!1)}}class Ai extends ar{constructor(g,i,a,d,D,te,Ae=!1){super(g,i,te.delay),this.keyframes=a,this.preStyleProps=d,this.postStyleProps=D,this._stretchStartingKeyframe=Ae,this.timings={duration:te.duration,delay:te.delay,easing:te.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let g=this.keyframes,{delay:i,duration:a,easing:d}=this.timings;if(this._stretchStartingKeyframe&&i){const D=[],te=a+i,Ae=i/te,et=new Map(g[0]);et.set("offset",0),D.push(et);const bt=new Map(g[0]);bt.set("offset",kr(Ae)),D.push(bt);const Ht=g.length-1;for(let dn=1;dn<=Ht;dn++){let yn=new Map(g[dn]);const En=yn.get("offset");yn.set("offset",kr((i+En*a)/te)),D.push(yn)}a=te,i=0,d="",g=D}return Tt(this.element,g,this.preStyleProps,this.postStyleProps,a,i,d,!0)}}function kr(s,g=3){const i=Math.pow(10,g-1);return Math.round(s*i)/i}function ys(s,g,i,a,d,D,te,Ae,et,bt,Ht,dn,yn){return{type:0,element:s,triggerName:g,isRemovalTransition:d,fromState:i,fromStyles:D,toState:a,toStyles:te,timelines:Ae,queriedElements:et,preStyleProps:bt,postStyleProps:Ht,totalTime:dn,errors:yn}}const Bs={};class yi{constructor(g,i,a){this._triggerName=g,this.ast=i,this._stateStyles=a}match(g,i,a,d){return function _s(s,g,i,a,d){return s.some(D=>D(g,i,a,d))}(this.ast.matchers,g,i,a,d)}buildStyles(g,i,a){let d=this._stateStyles.get("*");return void 0!==g&&(d=this._stateStyles.get(g?.toString())||d),d?d.buildStyles(i,a):new Map}build(g,i,a,d,D,te,Ae,et,bt,Ht){const dn=[],yn=this.ast.options&&this.ast.options.params||Bs,On=this.buildStyles(a,Ae&&Ae.params||Bs,dn),kn=et&&et.params||Bs,ai=this.buildStyles(d,kn,dn),bi=new Set,Ti=new Map,Zi=new Map,Ci="void"===d,ir={params:Tr(kn,yn),delay:this.ast.options?.delay},Yi=Ht?[]:Ui(g,i,this.ast.animation,D,te,On,ai,ir,bt,dn);let Xi=0;return Yi.forEach(Wi=>{Xi=Math.max(Wi.duration+Wi.delay,Xi)}),dn.length?ys(i,this._triggerName,a,d,Ci,On,ai,[],[],Ti,Zi,Xi,dn):(Yi.forEach(Wi=>{const Zr=Wi.element,os=Z(Ti,Zr,new Set);Wi.preStyleProps.forEach(no=>os.add(no));const to=Z(Zi,Zr,new Set);Wi.postStyleProps.forEach(no=>to.add(no)),Zr!==i&&bi.add(Zr)}),ys(i,this._triggerName,a,d,Ci,On,ai,Yi,[...bi.values()],Ti,Zi,Xi))}}function Tr(s,g){const i={...g};return Object.entries(s).forEach(([a,d])=>{null!=d&&(i[a]=d)}),i}class Ls{constructor(g,i,a){this.styles=g,this.defaultParams=i,this.normalizer=a}buildStyles(g,i){const a=new Map,d=Tr(g,this.defaultParams);return this.styles.styles.forEach(D=>{"string"!=typeof D&&D.forEach((te,Ae)=>{te&&(te=Gn(te,d,i));const et=this.normalizer.normalizePropertyName(Ae,i);te=this.normalizer.normalizeStyleValue(Ae,et,te,i),a.set(Ae,te)})}),a}}class br{constructor(g,i,a){this.name=g,this.ast=i,this._normalizer=a,this.transitionFactories=[],this.states=new Map,i.states.forEach(d=>{this.states.set(d.name,new Ls(d.style,d.options&&d.options.params||{},a))}),Zs(this.states,"true","1"),Zs(this.states,"false","0"),i.transitions.forEach(d=>{this.transitionFactories.push(new yi(g,d,this.states))}),this.fallbackTransition=function Mi(s,g,i){return new yi(s,{type:C.If.Transition,animation:{type:C.If.Sequence,steps:[],options:null},matchers:[(te,Ae)=>!0],options:null,queryCount:0,depCount:0},g)}(g,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(g,i,a,d){return this.transitionFactories.find(te=>te.match(g,i,a,d))||null}matchStyles(g,i,a){return this.fallbackTransition.buildStyles(g,i,a)}}function Zs(s,g,i){s.has(g)?s.has(i)||s.set(i,s.get(g)):s.has(i)&&s.set(g,s.get(i))}const li=new vt;class ia{constructor(g,i,a){this.bodyNode=g,this._driver=i,this._normalizer=a,this._animations=new Map,this._playersById=new Map,this.players=[]}register(g,i){const a=[],D=ct(this._driver,i,a,[]);if(a.length)throw function xe(s){return new e.wOt(3503,!1)}();this._animations.set(g,D)}_buildPlayer(g,i,a){const d=g.element,D=Dt(this._normalizer,g.keyframes,i,a);return this._driver.animate(d,D,g.duration,g.delay,g.easing,[],!0)}create(g,i,a={}){const d=[],D=this._animations.get(g);let te;const Ae=new Map;if(D?(te=Ui(this._driver,i,D,Bt,cn,new Map,new Map,a,li,d),te.forEach(Ht=>{const dn=Z(Ae,Ht.element,new Map);Ht.postStyleProps.forEach(yn=>dn.set(yn,null))})):(d.push(function Qe(){return new e.wOt(3300,!1)}()),te=[]),d.length)throw function Se(s){return new e.wOt(3504,!1)}();Ae.forEach((Ht,dn)=>{Ht.forEach((yn,En)=>{Ht.set(En,this._driver.computeStyle(dn,En,C.kp))})});const bt=jt(te.map(Ht=>{const dn=Ae.get(Ht.element);return this._buildPlayer(Ht,new Map,dn)}));return this._playersById.set(g,bt),bt.onDestroy(()=>this.destroy(g)),this.players.push(bt),bt}destroy(g){const i=this._getPlayer(g);i.destroy(),this._playersById.delete(g);const a=this.players.indexOf(i);a>=0&&this.players.splice(a,1)}_getPlayer(g){const i=this._playersById.get(g);if(!i)throw function be(s){return new e.wOt(3301,!1)}();return i}listen(g,i,a,d){const D=Y(i,"","","");return wt(this._getPlayer(g),a,D,d),()=>{}}command(g,i,a,d){if("register"==a)return void this.register(g,d[0]);if("create"==a)return void this.create(g,i,d[0]||{});const D=this._getPlayer(g);switch(a){case"play":D.play();break;case"pause":D.pause();break;case"reset":D.reset();break;case"restart":D.restart();break;case"finish":D.finish();break;case"init":D.init();break;case"setPosition":D.setPosition(parseFloat(d[0]));break;case"destroy":this.destroy(g)}}}const $n="ng-animate-queued",mr="ng-animate-disabled",$r=[],er={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},tr={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Wn="__ng_removed";class Kr{get params(){return this.options.params}constructor(g,i=""){this.namespaceId=i;const a=g&&g.hasOwnProperty("value");if(this.value=function Cr(s){return s??null}(a?g.value:g),a){const{value:D,...te}=g;this.options=te}else this.options={};this.options.params||(this.options.params={})}absorbOptions(g){const i=g.params;if(i){const a=this.options.params;Object.keys(i).forEach(d=>{null==a[d]&&(a[d]=i[d])})}}}const lr="void",Or=new Kr(lr);class as{constructor(g,i,a){this.id=g,this.hostElement=i,this._engine=a,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+g,nr(i,this._hostClassName)}listen(g,i,a,d){if(!this._triggers.has(i))throw function le(s,g){return new e.wOt(3302,!1)}();if(null==a||0==a.length)throw function Fe(s){return new e.wOt(3303,!1)}();if(!function cs(s){return"start"==s||"done"==s}(a))throw function Te(s,g){return new e.wOt(3400,!1)}();const D=Z(this._elementListeners,g,[]),te={name:i,phase:a,callback:d};D.push(te);const Ae=Z(this._engine.statesByElement,g,new Map);return Ae.has(i)||(nr(g,hn),nr(g,hn+"-"+i),Ae.set(i,Or)),()=>{this._engine.afterFlush(()=>{const et=D.indexOf(te);et>=0&&D.splice(et,1),this._triggers.has(i)||Ae.delete(i)})}}register(g,i){return!this._triggers.has(g)&&(this._triggers.set(g,i),!0)}_getTrigger(g){const i=this._triggers.get(g);if(!i)throw function st(s){return new e.wOt(3401,!1)}();return i}trigger(g,i,a,d=!0){const D=this._getTrigger(i),te=new wo(this.id,i,g);let Ae=this._engine.statesByElement.get(g);Ae||(nr(g,hn),nr(g,hn+"-"+i),this._engine.statesByElement.set(g,Ae=new Map));let et=Ae.get(i);const bt=new Kr(a,this.id);if(!(a&&a.hasOwnProperty("value"))&&et&&bt.absorbOptions(et.options),Ae.set(i,bt),et||(et=Or),bt.value!==lr&&et.value===bt.value){if(!function oo(s,g){const i=Object.keys(s),a=Object.keys(g);if(i.length!=a.length)return!1;for(let d=0;d<i.length;d++){const D=i[d];if(!g.hasOwnProperty(D)||s[D]!==g[D])return!1}return!0}(et.params,bt.params)){const kn=[],ai=D.matchStyles(et.value,et.params,kn),bi=D.matchStyles(bt.value,bt.params,kn);kn.length?this._engine.reportError(kn):this._engine.afterFlush(()=>{en(g,ai),Ot(g,bi)})}return}const yn=Z(this._engine.playersByElement,g,[]);yn.forEach(kn=>{kn.namespaceId==this.id&&kn.triggerName==i&&kn.queued&&kn.destroy()});let En=D.matchTransition(et.value,bt.value,g,bt.params),On=!1;if(!En){if(!d)return;En=D.fallbackTransition,On=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:g,triggerName:i,transition:En,fromState:et,toState:bt,player:te,isFallbackTransition:On}),On||(nr(g,$n),te.onStart(()=>{ts(g,$n)})),te.onDone(()=>{let kn=this.players.indexOf(te);kn>=0&&this.players.splice(kn,1);const ai=this._engine.playersByElement.get(g);if(ai){let bi=ai.indexOf(te);bi>=0&&ai.splice(bi,1)}}),this.players.push(te),yn.push(te),te}deregister(g){this._triggers.delete(g),this._engine.statesByElement.forEach(i=>i.delete(g)),this._elementListeners.forEach((i,a)=>{this._elementListeners.set(a,i.filter(d=>d.name!=g))})}clearElementCache(g){this._engine.statesByElement.delete(g),this._elementListeners.delete(g);const i=this._engine.playersByElement.get(g);i&&(i.forEach(a=>a.destroy()),this._engine.playersByElement.delete(g))}_signalRemovalForInnerTriggers(g,i){const a=this._engine.driver.query(g,An,!0);a.forEach(d=>{if(d[Wn])return;const D=this._engine.fetchNamespacesByElement(d);D.size?D.forEach(te=>te.triggerLeaveAnimation(d,i,!1,!0)):this.clearElementCache(d)}),this._engine.afterFlushAnimationsDone(()=>a.forEach(d=>this.clearElementCache(d)))}triggerLeaveAnimation(g,i,a,d){const D=this._engine.statesByElement.get(g),te=new Map;if(D){const Ae=[];if(D.forEach((et,bt)=>{if(te.set(bt,et.value),this._triggers.has(bt)){const Ht=this.trigger(g,bt,lr,d);Ht&&Ae.push(Ht)}}),Ae.length)return this._engine.markElementAsRemoved(this.id,g,!0,i,te),a&&jt(Ae).onDone(()=>this._engine.processLeaveNode(g)),!0}return!1}prepareLeaveAnimationListeners(g){const i=this._elementListeners.get(g),a=this._engine.statesByElement.get(g);if(i&&a){const d=new Set;i.forEach(D=>{const te=D.name;if(d.has(te))return;d.add(te);const et=this._triggers.get(te).fallbackTransition,bt=a.get(te)||Or,Ht=new Kr(lr),dn=new wo(this.id,te,g);this._engine.totalQueuedPlayers++,this._queue.push({element:g,triggerName:te,transition:et,fromState:bt,toState:Ht,player:dn,isFallbackTransition:!0})})}}removeNode(g,i){const a=this._engine;if(g.childElementCount&&this._signalRemovalForInnerTriggers(g,i),this.triggerLeaveAnimation(g,i,!0))return;let d=!1;if(a.totalAnimations){const D=a.players.length?a.playersByQueriedElement.get(g):[];if(D&&D.length)d=!0;else{let te=g;for(;te=te.parentNode;)if(a.statesByElement.get(te)){d=!0;break}}}if(this.prepareLeaveAnimationListeners(g),d)a.markElementAsRemoved(this.id,g,!1,i);else{const D=g[Wn];(!D||D===er)&&(a.afterFlush(()=>this.clearElementCache(g)),a.destroyInnerAnimations(g),a._onRemovalComplete(g,i))}}insertNode(g,i){nr(g,this._hostClassName)}drainQueuedTransitions(g){const i=[];return this._queue.forEach(a=>{const d=a.player;if(d.destroyed)return;const D=a.element,te=this._elementListeners.get(D);te&&te.forEach(Ae=>{if(Ae.name==a.triggerName){const et=Y(D,a.triggerName,a.fromState.value,a.toState.value);et._data=g,wt(a.player,Ae.phase,et,Ae.callback)}}),d.markedForDestroy?this._engine.afterFlush(()=>{d.destroy()}):i.push(a)}),this._queue=[],i.sort((a,d)=>{const D=a.transition.ast.depCount,te=d.transition.ast.depCount;return 0==D||0==te?D-te:this._engine.driver.containsElement(a.element,d.element)?1:-1})}destroy(g){this.players.forEach(i=>i.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,g)}}class ro{_onRemovalComplete(g,i){this.onRemovalComplete(g,i)}constructor(g,i,a,d){this.bodyNode=g,this.driver=i,this._normalizer=a,this.scheduler=d,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(D,te)=>{}}get queuedPlayers(){const g=[];return this._namespaceList.forEach(i=>{i.players.forEach(a=>{a.queued&&g.push(a)})}),g}createNamespace(g,i){const a=new as(g,i,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,i)?this._balanceNamespaceList(a,i):(this.newHostElements.set(i,a),this.collectEnterElement(i)),this._namespaceLookup[g]=a}_balanceNamespaceList(g,i){const a=this._namespaceList,d=this.namespacesByHostElement;if(a.length-1>=0){let te=!1,Ae=this.driver.getParentElement(i);for(;Ae;){const et=d.get(Ae);if(et){const bt=a.indexOf(et);a.splice(bt+1,0,g),te=!0;break}Ae=this.driver.getParentElement(Ae)}te||a.unshift(g)}else a.push(g);return d.set(i,g),g}register(g,i){let a=this._namespaceLookup[g];return a||(a=this.createNamespace(g,i)),a}registerTrigger(g,i,a){let d=this._namespaceLookup[g];d&&d.register(i,a)&&this.totalAnimations++}destroy(g,i){g&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const a=this._fetchNamespace(g);this.namespacesByHostElement.delete(a.hostElement);const d=this._namespaceList.indexOf(a);d>=0&&this._namespaceList.splice(d,1),a.destroy(i),delete this._namespaceLookup[g]}))}_fetchNamespace(g){return this._namespaceLookup[g]}fetchNamespacesByElement(g){const i=new Set,a=this.statesByElement.get(g);if(a)for(let d of a.values())if(d.namespaceId){const D=this._fetchNamespace(d.namespaceId);D&&i.add(D)}return i}trigger(g,i,a,d){if(ls(i)){const D=this._fetchNamespace(g);if(D)return D.trigger(i,a,d),!0}return!1}insertNode(g,i,a,d){if(!ls(i))return;const D=i[Wn];if(D&&D.setForRemoval){D.setForRemoval=!1,D.setForMove=!0;const te=this.collectedLeaveElements.indexOf(i);te>=0&&this.collectedLeaveElements.splice(te,1)}if(g){const te=this._fetchNamespace(g);te&&te.insertNode(i,a)}d&&this.collectEnterElement(i)}collectEnterElement(g){this.collectedEnterElements.push(g)}markElementAsDisabled(g,i){i?this.disabledNodes.has(g)||(this.disabledNodes.add(g),nr(g,mr)):this.disabledNodes.has(g)&&(this.disabledNodes.delete(g),ts(g,mr))}removeNode(g,i,a){if(ls(i)){this.scheduler?.notify();const d=g?this._fetchNamespace(g):null;d?d.removeNode(i,a):this.markElementAsRemoved(g,i,!1,a);const D=this.namespacesByHostElement.get(i);D&&D.id!==g&&D.removeNode(i,a)}else this._onRemovalComplete(i,a)}markElementAsRemoved(g,i,a,d,D){this.collectedLeaveElements.push(i),i[Wn]={namespaceId:g,setForRemoval:d,hasAnimation:a,removedBeforeQueried:!1,previousTriggersValues:D}}listen(g,i,a,d,D){return ls(i)?this._fetchNamespace(g).listen(i,a,d,D):()=>{}}_buildInstruction(g,i,a,d,D){return g.transition.build(this.driver,g.element,g.fromState.value,g.toState.value,a,d,g.fromState.options,g.toState.options,i,D)}destroyInnerAnimations(g){let i=this.driver.query(g,An,!0);i.forEach(a=>this.destroyActiveAnimationsForElement(a)),0!=this.playersByQueriedElement.size&&(i=this.driver.query(g,Bn,!0),i.forEach(a=>this.finishActiveQueriedAnimationOnElement(a)))}destroyActiveAnimationsForElement(g){const i=this.playersByElement.get(g);i&&i.forEach(a=>{a.queued?a.markedForDestroy=!0:a.destroy()})}finishActiveQueriedAnimationOnElement(g){const i=this.playersByQueriedElement.get(g);i&&i.forEach(a=>a.finish())}whenRenderingDone(){return new Promise(g=>{if(this.players.length)return jt(this.players).onDone(()=>g());g()})}processLeaveNode(g){const i=g[Wn];if(i&&i.setForRemoval){if(g[Wn]=er,i.namespaceId){this.destroyInnerAnimations(g);const a=this._fetchNamespace(i.namespaceId);a&&a.clearElementCache(g)}this._onRemovalComplete(g,i.setForRemoval)}g.classList?.contains(mr)&&this.markElementAsDisabled(g,!1),this.driver.query(g,".ng-animate-disabled",!0).forEach(a=>{this.markElementAsDisabled(a,!1)})}flush(g=-1){let i=[];if(this.newHostElements.size&&(this.newHostElements.forEach((a,d)=>this._balanceNamespaceList(a,d)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let a=0;a<this.collectedEnterElements.length;a++)nr(this.collectedEnterElements[a],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const a=[];try{i=this._flushAnimations(a,g)}finally{for(let d=0;d<a.length;d++)a[d]()}}else for(let a=0;a<this.collectedLeaveElements.length;a++)this.processLeaveNode(this.collectedLeaveElements[a]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(a=>a()),this._flushFns=[],this._whenQuietFns.length){const a=this._whenQuietFns;this._whenQuietFns=[],i.length?jt(i).onDone(()=>{a.forEach(d=>d())}):a.forEach(d=>d())}}reportError(g){throw function Oe(s){return new e.wOt(3402,!1)}()}_flushAnimations(g,i){const a=new vt,d=[],D=new Map,te=[],Ae=new Map,et=new Map,bt=new Map,Ht=new Set;this.disabledNodes.forEach(Qn=>{Ht.add(Qn);const hi=this.driver.query(Qn,".ng-animate-queued",!0);for(let Ii=0;Ii<hi.length;Ii++)Ht.add(hi[Ii])});const dn=this.bodyNode,yn=Array.from(this.statesByElement.keys()),En=mo(yn,this.collectedEnterElements),On=new Map;let kn=0;En.forEach((Qn,hi)=>{const Ii=Bt+kn++;On.set(hi,Ii),Qn.forEach(qi=>nr(qi,Ii))});const ai=[],bi=new Set,Ti=new Set;for(let Qn=0;Qn<this.collectedLeaveElements.length;Qn++){const hi=this.collectedLeaveElements[Qn],Ii=hi[Wn];Ii&&Ii.setForRemoval&&(ai.push(hi),bi.add(hi),Ii.hasAnimation?this.driver.query(hi,".ng-star-inserted",!0).forEach(qi=>bi.add(qi)):Ti.add(hi))}const Zi=new Map,Ci=mo(yn,Array.from(bi));Ci.forEach((Qn,hi)=>{const Ii=cn+kn++;Zi.set(hi,Ii),Qn.forEach(qi=>nr(qi,Ii))}),g.push(()=>{En.forEach((Qn,hi)=>{const Ii=On.get(hi);Qn.forEach(qi=>ts(qi,Ii))}),Ci.forEach((Qn,hi)=>{const Ii=Zi.get(hi);Qn.forEach(qi=>ts(qi,Ii))}),ai.forEach(Qn=>{this.processLeaveNode(Qn)})});const ir=[],Yi=[];for(let Qn=this._namespaceList.length-1;Qn>=0;Qn--)this._namespaceList[Qn].drainQueuedTransitions(i).forEach(Ii=>{const qi=Ii.player,Is=Ii.element;if(ir.push(qi),this.collectedEnterElements.length){const Js=Is[Wn];if(Js&&Js.setForMove){if(Js.previousTriggersValues&&Js.previousTriggersValues.has(Ii.triggerName)){const na=Js.previousTriggersValues.get(Ii.triggerName),Uo=this.statesByElement.get(Ii.element);if(Uo&&Uo.has(Ii.triggerName)){const Ru=Uo.get(Ii.triggerName);Ru.value=na,Uo.set(Ii.triggerName,Ru)}}return void qi.destroy()}}const fa=!dn||!this.driver.containsElement(dn,Is),po=Zi.get(Is),Ia=On.get(Is),jr=this._buildInstruction(Ii,a,Ia,po,fa);if(jr.errors&&jr.errors.length)return void Yi.push(jr);if(fa)return qi.onStart(()=>en(Is,jr.fromStyles)),qi.onDestroy(()=>Ot(Is,jr.toStyles)),void d.push(qi);if(Ii.isFallbackTransition)return qi.onStart(()=>en(Is,jr.fromStyles)),qi.onDestroy(()=>Ot(Is,jr.toStyles)),void d.push(qi);const Ha=[];jr.timelines.forEach(Js=>{Js.stretchStartingKeyframe=!0,this.disabledNodes.has(Js.element)||Ha.push(Js)}),jr.timelines=Ha,a.append(Is,jr.timelines),te.push({instruction:jr,player:qi,element:Is}),jr.queriedElements.forEach(Js=>Z(Ae,Js,[]).push(qi)),jr.preStyleProps.forEach((Js,na)=>{if(Js.size){let Uo=et.get(na);Uo||et.set(na,Uo=new Set),Js.forEach((Ru,Lc)=>Uo.add(Lc))}}),jr.postStyleProps.forEach((Js,na)=>{let Uo=bt.get(na);Uo||bt.set(na,Uo=new Set),Js.forEach((Ru,Lc)=>Uo.add(Lc))})});if(Yi.length){const Qn=[];Yi.forEach(hi=>{Qn.push(function Ye(s,g){return new e.wOt(3505,!1)}())}),ir.forEach(hi=>hi.destroy()),this.reportError(Qn)}const Xi=new Map,Wi=new Map;te.forEach(Qn=>{const hi=Qn.element;a.has(hi)&&(Wi.set(hi,hi),this._beforeAnimationBuild(Qn.player.namespaceId,Qn.instruction,Xi))}),d.forEach(Qn=>{const hi=Qn.element;this._getPreviousPlayers(hi,!1,Qn.namespaceId,Qn.triggerName,null).forEach(qi=>{Z(Xi,hi,[]).push(qi),qi.destroy()})});const Zr=ai.filter(Qn=>Ao(Qn,et,bt)),os=new Map;es(os,this.driver,Ti,bt,C.kp).forEach(Qn=>{Ao(Qn,et,bt)&&Zr.push(Qn)});const no=new Map;En.forEach((Qn,hi)=>{es(no,this.driver,new Set(Qn),et,C.FX)}),Zr.forEach(Qn=>{const hi=os.get(Qn),Ii=no.get(Qn);os.set(Qn,new Map([...hi?.entries()??[],...Ii?.entries()??[]]))});const io=[],fl=[],pl={};te.forEach(Qn=>{const{element:hi,player:Ii,instruction:qi}=Qn;if(a.has(hi)){if(Ht.has(hi))return Ii.onDestroy(()=>Ot(hi,qi.toStyles)),Ii.disabled=!0,Ii.overrideTotalTime(qi.totalTime),void d.push(Ii);let Is=pl;if(Wi.size>1){let po=hi;const Ia=[];for(;po=po.parentNode;){const jr=Wi.get(po);if(jr){Is=jr;break}Ia.push(po)}Ia.forEach(jr=>Wi.set(jr,Is))}const fa=this._buildAnimation(Ii.namespaceId,qi,Xi,D,no,os);if(Ii.setRealPlayer(fa),Is===pl)io.push(Ii);else{const po=this.playersByElement.get(Is);po&&po.length&&(Ii.parentPlayer=jt(po)),d.push(Ii)}}else en(hi,qi.fromStyles),Ii.onDestroy(()=>Ot(hi,qi.toStyles)),fl.push(Ii),Ht.has(hi)&&d.push(Ii)}),fl.forEach(Qn=>{const hi=D.get(Qn.element);if(hi&&hi.length){const Ii=jt(hi);Qn.setRealPlayer(Ii)}}),d.forEach(Qn=>{Qn.parentPlayer?Qn.syncPlayerEvents(Qn.parentPlayer):Qn.destroy()});for(let Qn=0;Qn<ai.length;Qn++){const hi=ai[Qn],Ii=hi[Wn];if(ts(hi,cn),Ii&&Ii.hasAnimation)continue;let qi=[];if(Ae.size){let fa=Ae.get(hi);fa&&fa.length&&qi.push(...fa);let po=this.driver.query(hi,Bn,!0);for(let Ia=0;Ia<po.length;Ia++){let jr=Ae.get(po[Ia]);jr&&jr.length&&qi.push(...jr)}}const Is=qi.filter(fa=>!fa.destroyed);Is.length?Vo(this,hi,Is):this.processLeaveNode(hi)}return ai.length=0,io.forEach(Qn=>{this.players.push(Qn),Qn.onDone(()=>{Qn.destroy();const hi=this.players.indexOf(Qn);this.players.splice(hi,1)}),Qn.play()}),io}afterFlush(g){this._flushFns.push(g)}afterFlushAnimationsDone(g){this._whenQuietFns.push(g)}_getPreviousPlayers(g,i,a,d,D){let te=[];if(i){const Ae=this.playersByQueriedElement.get(g);Ae&&(te=Ae)}else{const Ae=this.playersByElement.get(g);if(Ae){const et=!D||D==lr;Ae.forEach(bt=>{bt.queued||!et&&bt.triggerName!=d||te.push(bt)})}}return(a||d)&&(te=te.filter(Ae=>!(a&&a!=Ae.namespaceId||d&&d!=Ae.triggerName))),te}_beforeAnimationBuild(g,i,a){const D=i.element,te=i.isRemovalTransition?void 0:g,Ae=i.isRemovalTransition?void 0:i.triggerName;for(const et of i.timelines){const bt=et.element,Ht=bt!==D,dn=Z(a,bt,[]);this._getPreviousPlayers(bt,Ht,te,Ae,i.toState).forEach(En=>{const On=En.getRealPlayer();On.beforeDestroy&&On.beforeDestroy(),En.destroy(),dn.push(En)})}en(D,i.fromStyles)}_buildAnimation(g,i,a,d,D,te){const Ae=i.triggerName,et=i.element,bt=[],Ht=new Set,dn=new Set,yn=i.timelines.map(On=>{const kn=On.element;Ht.add(kn);const ai=kn[Wn];if(ai&&ai.removedBeforeQueried)return new C.sf(On.duration,On.delay);const bi=kn!==et,Ti=function ra(s){const g=[];return so(s,g),g}((a.get(kn)||$r).map(Xi=>Xi.getRealPlayer())).filter(Xi=>!!Xi.element&&Xi.element===kn),Zi=D.get(kn),Ci=te.get(kn),ir=Dt(this._normalizer,On.keyframes,Zi,Ci),Yi=this._buildPlayer(On,ir,Ti);if(On.subTimeline&&d&&dn.add(kn),bi){const Xi=new wo(g,Ae,kn);Xi.setRealPlayer(Yi),bt.push(Xi)}return Yi});bt.forEach(On=>{Z(this.playersByQueriedElement,On.element,[]).push(On),On.onDone(()=>function Ds(s,g,i){let a=s.get(g);if(a){if(a.length){const d=a.indexOf(i);a.splice(d,1)}0==a.length&&s.delete(g)}return a}(this.playersByQueriedElement,On.element,On))}),Ht.forEach(On=>nr(On,xn));const En=jt(yn);return En.onDestroy(()=>{Ht.forEach(On=>ts(On,xn)),Ot(et,i.toStyles)}),dn.forEach(On=>{Z(d,On,[]).push(En)}),En}_buildPlayer(g,i,a){return i.length>0?this.driver.animate(g.element,i,g.duration,g.delay,g.easing,a):new C.sf(g.duration,g.delay)}}class wo{constructor(g,i,a){this.namespaceId=g,this.triggerName=i,this.element=a,this._player=new C.sf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(g){this._containsRealPlayer||(this._player=g,this._queuedCallbacks.forEach((i,a)=>{i.forEach(d=>wt(g,a,void 0,d))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(g.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(g){this.totalTime=g}syncPlayerEvents(g){const i=this._player;i.triggerCallback&&g.onStart(()=>i.triggerCallback("start")),g.onDone(()=>this.finish()),g.onDestroy(()=>this.destroy())}_queueEvent(g,i){Z(this._queuedCallbacks,g,[]).push(i)}onDone(g){this.queued&&this._queueEvent("done",g),this._player.onDone(g)}onStart(g){this.queued&&this._queueEvent("start",g),this._player.onStart(g)}onDestroy(g){this.queued&&this._queueEvent("destroy",g),this._player.onDestroy(g)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(g){this.queued||this._player.setPosition(g)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(g){const i=this._player;i.triggerCallback&&i.triggerCallback(g)}}function ls(s){return s&&1===s.nodeType}function Aa(s,g){const i=s.style.display;return s.style.display=g??"none",i}function es(s,g,i,a,d){const D=[];i.forEach(et=>D.push(Aa(et)));const te=[];a.forEach((et,bt)=>{const Ht=new Map;et.forEach(dn=>{const yn=g.computeStyle(bt,dn,d);Ht.set(dn,yn),(!yn||0==yn.length)&&(bt[Wn]=tr,te.push(bt))}),s.set(bt,Ht)});let Ae=0;return i.forEach(et=>Aa(et,D[Ae++])),te}function mo(s,g){const i=new Map;if(s.forEach(Ae=>i.set(Ae,[])),0==g.length)return i;const d=new Set(g),D=new Map;function te(Ae){if(!Ae)return 1;let et=D.get(Ae);if(et)return et;const bt=Ae.parentNode;return et=i.has(bt)?bt:d.has(bt)?1:te(bt),D.set(Ae,et),et}return g.forEach(Ae=>{const et=te(Ae);1!==et&&i.get(et).push(Ae)}),i}function nr(s,g){s.classList?.add(g)}function ts(s,g){s.classList?.remove(g)}function Vo(s,g,i){jt(i).onDone(()=>s.processLeaveNode(g))}function so(s,g){for(let i=0;i<s.length;i++){const a=s[i];a instanceof C.ui?so(a.players,g):g.push(a)}}function Ao(s,g,i){const a=i.get(s);if(!a)return!1;let d=g.get(s);return d?a.forEach(D=>d.add(D)):g.set(s,a),i.delete(s),!0}class As{constructor(g,i,a,d){this._driver=i,this._normalizer=a,this._triggerCache={},this.onRemovalComplete=(D,te)=>{},this._transitionEngine=new ro(g.body,i,a,d),this._timelineEngine=new ia(g.body,i,a),this._transitionEngine.onRemovalComplete=(D,te)=>this.onRemovalComplete(D,te)}registerTrigger(g,i,a,d,D){const te=g+"-"+d;let Ae=this._triggerCache[te];if(!Ae){const et=[],Ht=ct(this._driver,D,et,[]);if(et.length)throw function Ne(s,g){return new e.wOt(3404,!1)}();Ae=function _r(s,g,i){return new br(s,g,i)}(d,Ht,this._normalizer),this._triggerCache[te]=Ae}this._transitionEngine.registerTrigger(i,d,Ae)}register(g,i){this._transitionEngine.register(g,i)}destroy(g,i){this._transitionEngine.destroy(g,i)}onInsert(g,i,a,d){this._transitionEngine.insertNode(g,i,a,d)}onRemove(g,i,a){this._transitionEngine.removeNode(g,i,a)}disableAnimations(g,i){this._transitionEngine.markElementAsDisabled(g,i)}process(g,i,a,d){if("@"==a.charAt(0)){const[D,te]=Ce(a);this._timelineEngine.command(D,i,te,d)}else this._transitionEngine.trigger(g,i,a,d)}listen(g,i,a,d,D){if("@"==a.charAt(0)){const[te,Ae]=Ce(a);return this._timelineEngine.listen(te,i,Ae,D)}return this._transitionEngine.listen(g,i,a,d,D)}flush(g=-1){this._transitionEngine.flush(g)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(g){this._transitionEngine.afterFlushAnimationsDone(g)}}class rr{static{this.initialStylesByElement=new WeakMap}constructor(g,i,a){this._element=g,this._startStyles=i,this._endStyles=a,this._state=0;let d=rr.initialStylesByElement.get(g);d||rr.initialStylesByElement.set(g,d=new Map),this._initialStyles=d}start(){this._state<1&&(this._startStyles&&Ot(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ot(this._element,this._initialStyles),this._endStyles&&(Ot(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(rr.initialStylesByElement.delete(this._element),this._startStyles&&(en(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(en(this._element,this._endStyles),this._endStyles=null),Ot(this._element,this._initialStyles),this._state=3)}}function Fr(s){let g=null;return s.forEach((i,a)=>{(function us(s){return"display"===s||"position"===s})(a)&&(g=g||new Map,g.set(a,i))}),g}class ao{constructor(g,i,a,d){this.element=g,this.keyframes=i,this.options=a,this._specialStyles=d,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=a.duration,this._delay=a.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(g=>g()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const g=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,g,this.options),this._finalKeyframe=g.length?g[g.length-1]:new Map;const i=()=>this._onFinish();this.domPlayer.addEventListener("finish",i),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",i)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(g){const i=[];return g.forEach(a=>{i.push(Object.fromEntries(a))}),i}_triggerWebAnimation(g,i,a){return g.animate(this._convertKeyframesToObject(i),a)}onStart(g){this._originalOnStartFns.push(g),this._onStartFns.push(g)}onDone(g){this._originalOnDoneFns.push(g),this._onDoneFns.push(g)}onDestroy(g){this._onDestroyFns.push(g)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(g=>g()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(g=>g()),this._onDestroyFns=[])}setPosition(g){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=g*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const g=new Map;this.hasStarted()&&this._finalKeyframe.forEach((a,d)=>{"offset"!==d&&g.set(d,this._finished?a:gn(this.element,d))}),this.currentSnapshot=g}triggerCallback(g){const i="start"===g?this._onStartFns:this._onDoneFns;i.forEach(a=>a()),i.length=0}}class Ra{validateStyleProperty(g){return!0}validateAnimatableStyleProperty(g){return!0}matchesElement(g,i){return!1}containsElement(g,i){return sn(g,i)}getParentElement(g){return at(g)}query(g,i,a){return Ft(g,i,a)}computeStyle(g,i,a){return gn(g,i)}animate(g,i,a,d,D,te=[]){const et={duration:a,delay:d,fill:0==d?"both":"forwards"};D&&(et.easing=D);const bt=new Map,Ht=te.filter(En=>En instanceof ao);(function $t(s,g){return 0===s||0===g})(a,d)&&Ht.forEach(En=>{En.currentSnapshot.forEach((On,kn)=>bt.set(kn,On))});let dn=function Ct(s){return s.length?s[0]instanceof Map?s:s.map(g=>new Map(Object.entries(g))):[]}(i).map(En=>new Map(En));dn=function nn(s,g,i){if(i.size&&g.length){let a=g[0],d=[];if(i.forEach((D,te)=>{a.has(te)||d.push(te),a.set(te,D)}),d.length)for(let D=1;D<g.length;D++){let te=g[D];d.forEach(Ae=>te.set(Ae,gn(s,Ae)))}}return g}(g,dn,bt);const yn=function Pr(s,g){let i=null,a=null;return Array.isArray(g)&&g.length?(i=Fr(g[0]),g.length>1&&(a=Fr(g[g.length-1]))):g instanceof Map&&(i=Fr(g)),i||a?new rr(s,i,a):null}(g,dn);return new ao(g,dn,et,yn)}}const Hs="@.disabled";class gr{constructor(g,i,a,d){this.namespaceId=g,this.delegate=i,this.engine=a,this._onDestroy=d,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(g){this.delegate.destroyNode?.(g)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(g,i){return this.delegate.createElement(g,i)}createComment(g){return this.delegate.createComment(g)}createText(g){return this.delegate.createText(g)}appendChild(g,i){this.delegate.appendChild(g,i),this.engine.onInsert(this.namespaceId,i,g,!1)}insertBefore(g,i,a,d=!0){this.delegate.insertBefore(g,i,a),this.engine.onInsert(this.namespaceId,i,g,d)}removeChild(g,i,a){this.engine.onRemove(this.namespaceId,i,this.delegate)}selectRootElement(g,i){return this.delegate.selectRootElement(g,i)}parentNode(g){return this.delegate.parentNode(g)}nextSibling(g){return this.delegate.nextSibling(g)}setAttribute(g,i,a,d){this.delegate.setAttribute(g,i,a,d)}removeAttribute(g,i,a){this.delegate.removeAttribute(g,i,a)}addClass(g,i){this.delegate.addClass(g,i)}removeClass(g,i){this.delegate.removeClass(g,i)}setStyle(g,i,a,d){this.delegate.setStyle(g,i,a,d)}removeStyle(g,i,a){this.delegate.removeStyle(g,i,a)}setProperty(g,i,a){"@"==i.charAt(0)&&i==Hs?this.disableAnimations(g,!!a):this.delegate.setProperty(g,i,a)}setValue(g,i){this.delegate.setValue(g,i)}listen(g,i,a){return this.delegate.listen(g,i,a)}disableAnimations(g,i){this.engine.disableAnimations(g,i)}}class Ws extends gr{constructor(g,i,a,d,D){super(i,a,d,D),this.factory=g,this.namespaceId=i}setProperty(g,i,a){"@"==i.charAt(0)?"."==i.charAt(1)&&i==Hs?this.disableAnimations(g,a=void 0===a||!!a):this.engine.process(this.namespaceId,g,i.slice(1),a):this.delegate.setProperty(g,i,a)}listen(g,i,a){if("@"==i.charAt(0)){const d=function Br(s){switch(s){case"body":return document.body;case"document":return document;case"window":return window;default:return s}}(g);let D=i.slice(1),te="";return"@"!=D.charAt(0)&&([D,te]=function Gr(s){const g=s.indexOf(".");return[s.substring(0,g),s.slice(g+1)]}(D)),this.engine.listen(this.namespaceId,d,D,te,Ae=>{this.factory.scheduleListenerCallback(Ae._data||-1,a,Ae)})}return this.delegate.listen(g,i,a)}}class Yr{constructor(g,i,a){this.delegate=g,this.engine=i,this._zone=a,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(d,D)=>{const te=D?.parentNode(d);te&&D.removeChild(te,d)}}createRenderer(g,i){const d=this.delegate.createRenderer(g,i);if(!g||!i?.data?.animation){const bt=this._rendererCache;let Ht=bt.get(d);return Ht||(Ht=new gr("",d,this.engine,()=>bt.delete(d)),bt.set(d,Ht)),Ht}const D=i.id,te=i.id+"-"+this._currentId;this._currentId++,this.engine.register(te,g);const Ae=bt=>{Array.isArray(bt)?bt.forEach(Ae):this.engine.registerTrigger(D,te,g,bt.name,bt)};return i.data.animation.forEach(Ae),new Ws(this,te,d,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(g,i,a){if(g>=0&&g<this._microtaskId)return void this._zone.run(()=>i(a));const d=this._animationCallbacksBuffer;0==d.length&&queueMicrotask(()=>{this._zone.run(()=>{d.forEach(D=>{const[te,Ae]=D;te(Ae)}),this._animationCallbacksBuffer=[]})}),d.push([i,a])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}var Cn=h(177);let bs=(()=>{class s extends As{constructor(i,a,d){super(i,a,d,(0,e.WQX)(e.An2,{optional:!0}))}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(a){return new(a||s)(e.KVO(Cn.qQ),e.KVO(ce),e.KVO(X))}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac})}}return s})();const he=[{provide:X,useFactory:function ke(){return new In}},{provide:As,useClass:bs},{provide:e._9s,useFactory:function Ue(s,g,i){return new Yr(s,g,i)},deps:[n.B7,As,e.SKi]}],Ze=[{provide:ce,useFactory:()=>new Ra},{provide:e.bc$,useValue:"BrowserAnimations"},...he],Lt=[{provide:ce,useClass:je},{provide:e.bc$,useValue:"NoopAnimations"},...he];let Kn=(()=>{class s{static withConfig(i){return{ngModule:s,providers:i.disableAnimations?Lt:Ze}}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({providers:Ze,imports:[n.Bb]})}}return s})();var ni=h(5794),Re=h(534),Je=h(4304),Et=h(3816),kt=h(779),Vt=h(9838),St=h(1583),on=h(1594);const Nn="9.0.0";var _i=h(7468),Pn=h(6648);let cr=(()=>{class s{static{this.DocsLink="documentation/index.html"}static{this.EnablingDynamicAuth="documentation/DynamicAuthentication/Enabling_Dynamic_Authentication.html"}static{this.AdvOthDynamicAuth="documentation/DynamicAuthentication/Editing_a_Oidc_Dynamic_Provider.html#advanced-tab-other"}static{this.ApiDocsLink="swagger"}static{this.SupportLink="mailto:support@identityserver.com?subject=AdminUI"}}return s})();var Hr=h(1339),ui=h(7883),hs=h(6801),$i=h(7005),Ka=h(6888);class Ro{constructor(){this.rss=new Pi,this.rss.channel=new Ki,this.rss.channel.item=new Array}}class Pi{}class Ki{}class ns{}var Us=h(1108),vr=h(4549),Mn=h(1780),xi=h(7384);const Mo=(s,g)=>({"tw-bg-white":s,"tw-bg-grey-100":g});function ml(s,g){1&s&&(e.j41(0,"div",6),e.nrm(1,"app-simple-loader"),e.k0s())}function gl(s,g){if(1&s&&(e.j41(0,"li",8)(1,"a",9)(2,"h3",10),e.EFF(3),e.k0s(),e.j41(4,"span",11),e.EFF(5),e.k0s(),e.j41(6,"p",12),e.EFF(7),e.k0s()()()),2&s){const i=g.$implicit,a=e.XpG(2);e.R7$(),e.Y8G("href",a.domSanitizer.bypassSecurityTrustUrl(i.link),e.B4B),e.R7$(2),e.JRh(i.title),e.R7$(2),e.JRh(i.pubDate),e.R7$(2),e.JRh(i.description)}}function xo(s,g){if(1&s&&(e.j41(0,"ul"),e.DNE(1,gl,8,4,"li",7),e.k0s()),2&s){const i=e.XpG();e.R7$(),e.Y8G("ngForOf",null==i.dto?null:i.dto.rss.channel.item)}}let jo=(()=>{class s{constructor(i,a,d){this.http=i,this.domSanitizer=a,this.translate=d,this.rssURL="https://www.identityserver.com/rss",this.versionNumber="",this.altTheme=!1,this.errorEntry=new ns}ngOnInit(){this.isLoading=!0,this.http.get(this.rssURL,{headers:new w.Lr({Accept:"application/xml"}),responseType:"text"}).subscribe(i=>{this.dto=(new Us).xml2js(i),Object.setPrototypeOf(this.dto,Ro.prototype),this.dto.rss.channel.item.forEach(a=>{a.pubDate=this.formatDate(a.pubDate)}),this.isLoading=!1},i=>{this.errorEntry.title=this.translate.instant("Errors.RssUnavailable"),this.dto=new Ro,this.dto.rss.channel.item.push(this.errorEntry),this.isLoading=!1})}formatDate(i){return i?vr.c9.fromHTTP(i).toFormat("DD"):""}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(w.Qq),e.rXU(n.up),e.rXU(Mn.c$))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-rss-feed"]],inputs:{altTheme:"altTheme"},decls:9,vars:9,consts:[["id","rssFeed"],[1,"tw-flex","tw-items-center","tw-text-lg","tw-font-semibold","tw-mb-4"],["aria-hidden","true",1,"fas","fa-rss","tw-text-sm","tw-text-orange-500","tw-mr-2"],[1,"tw-border","tw-border-grey-200","tw-shadow-inner","tw-h-72","tw-p-4","tw-overflow-y-auto","tw-relative","scrollbars",3,"ngClass"],["class","tw-flex tw-items-center tw-justify-center tw-absolute tw-inset-0",4,"ngIf"],[4,"ngIf"],[1,"tw-flex","tw-items-center","tw-justify-center","tw-absolute","tw-inset-0"],["class","tw-border-b tw-border-grey-200 tw-mb-5 tw-pb-5 last:tw-mb-0 last:tw-pb-0 last:tw-border-0",4,"ngFor","ngForOf"],[1,"tw-border-b","tw-border-grey-200","tw-mb-5","tw-pb-5","last:tw-mb-0","last:tw-pb-0","last:tw-border-0"],["target","_blank",1,"tw-block",3,"href"],[1,"tw-text-base"],[1,"tw-block","tw-text-xs","tw-text-grey-600","tw-font-normal","tw-mt-1"],[1,"tw-text-sm","tw-text-grey-800","tw-font-normal","tw-mt-2"]],template:function(a,d){1&a&&(e.j41(0,"div",0)(1,"h2",1),e.nrm(2,"span",2),e.j41(3,"span"),e.EFF(4),e.nI1(5,"translate"),e.k0s()(),e.j41(6,"div",3),e.DNE(7,ml,2,0,"div",4)(8,xo,2,1,"ul",5),e.k0s()()),2&a&&(e.R7$(4),e.JRh(e.bMT(5,4,"LandingPage.LatestNews")),e.R7$(2),e.Y8G("ngClass",e.l_i(6,Mo,!d.altTheme,d.altTheme)),e.R7$(),e.Y8G("ngIf",d.isLoading),e.R7$(),e.Y8G("ngIf",!d.isLoading))},dependencies:[Cn.YU,Cn.Sq,Cn.bT,xi.d,Mn.D9],encapsulation:2})}}return s})();function Vs(s,g){1&s&&e.nrm(0,"span",27)}let pa=(()=>{class s{get LinkConstants(){return cr}constructor(i,a,d,D,te,Ae,et){this.authService=i,this.securityService=a,this.titleService=d,this.healthCheckService=D,this.localizeRouter=te,this.router=Ae,this.loginTrackingService=et,this.loginAllowed=!1,this.startLogin=!1,this.versionNumber="",this.titleService.setTitle(`${Vt.$9.SITE_TITLE}`),this.versionNumber=Nn;const bt=new Date;this.appCopyright=2017!==bt.getFullYear()?"2017 - "+bt.getFullYear():"2017"}ngOnInit(){this.startLogin=!1;const i=this.healthCheckService.idsHealthCheckComplete.pipe((0,on.$)()),a=this.healthCheckService.uiHealthCheckComplete.pipe((0,on.$)());(0,_i.p)([i,a]).subscribe(()=>{this.healthCheckService.idsReady&&this.healthCheckService.uiReady&&(this.loginAllowed=!0)})}canLogin(){this.healthCheckService.idsReady&&this.healthCheckService.uiReady&&(this.loginAllowed=!0)}ngAfterViewInit(){document.dispatchEvent(new Event("appready"))}start(){const i=this.localizeRouter.translateRoute("/home");return this.startLogin=!0,(0,Pn.H)(this.router.navigate([i]))}login(){this.loginTrackingService.startLogin(),this.authService.login()}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(Hr.u),e.rXU(ui.i),e.rXU(n.hE),e.rXU(hs.M),e.rXU($i.QG),e.rXU(St.Ix),e.rXU(Ka.W))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-landing-page"]],decls:49,vars:28,consts:[[1,"tw-fixed","tw-inset-0","tw-z-10"],[1,"tw-bg-primary-500","tw-absolute","tw-inset-0",2,"background-image","url(assets/img/pattern.png)"],[1,"tw--mt-5","tw-mx-auto","tw--mb-10","tw-relative","tw-z-20"],[1,"tw-flex","tw-items-center","tw-h-16","tw-mb-4"],["src","assets/img/logo-persimmon.png","alt","AdminUI",1,"tw-h-8"],[1,"tw-text-sm","tw-font-semibold","tw-text-white-75","tw-ml-auto"],[1,"tw-px-6"],[1,"tw-bg-white","tw-p-6","tw--mx-6","tw-shadow","tw-rounded","md:tw-mx-auto","md:tw-max-w-2xl"],[1,"tw-text-xl","tw-font-semibold","md:tw-text-2xl"],[1,"tw-font-semibold","tw-mt-3"],[1,"tw-text-sm","tw-mt-2"],["href","mailto:sales@identityserver.com?subject=AdminUI",1,"tw-text-blue-500","tw-font-semibold","hover:tw-text-body","tw-transition-all","tw-ease-in-out"],[1,"tw-mt-4"],["id","loginBtn",1,"tw-btn","tw-btn-success",3,"click","disabled"],["class","fad fa-spinner-third fa-spin tw-text-green-400 tw-text-xs tw-ml-3","aria-hidden","true",4,"ngIf"],[1,"tw-flex","tw-flex-wrap","tw-items-center","tw-border-t","tw-border-grey-200","tw-text-sm","tw--mx-6","tw--mb-2","tw-mt-6","tw-pt-4","tw-px-6"],[1,"tw-flex","tw-items-center","tw-mr-3"],["target","_blank","rel","noopener",1,"tw-inline-block","tw-text-blue-500","hover:tw-text-body","tw-transition-all","tw-ease-in-out",3,"href"],["aria-hidden","true",1,"tw-ml-3","tw-opacity-50"],[1,"tw-flex","tw-items-center"],[1,"tw-inline-block","tw-text-blue-500","hover:tw-text-body","tw-transition-all","tw-ease-in-out",3,"href"],[1,"tw-bg-white","tw-mt-6","tw-p-6","tw--mx-6","tw-shadow","tw-rounded","md:tw-mx-auto","md:tw-max-w-2xl","md:tw-mt-8","lg:tw-mt-10"],["altTheme","true"],["id","copyright",1,"tw-text-center","tw-mt-6","md:tw-mt-8","lg:tw-mt-10"],["id","RSKBackLink","href","https://www.rocksolidknowledge.com","target","_blank","rel","noopener",1,"tw-inline-block","tw-text-white-50","hover:tw-text-white"],["src","assets/img/rsk-logo.png","alt","Rock Solid Knowledge","aria-hidden","true",1,"tw-block","tw-w-40","tw-mx-auto"],[1,"tw-block","tw-text-xs","tw-mt-2"],["aria-hidden","true",1,"fad","fa-spinner-third","fa-spin","tw-text-green-400","tw-text-xs","tw-ml-3"]],template:function(a,d){1&a&&(e.j41(0,"div",0),e.nrm(1,"div",1),e.k0s(),e.j41(2,"div",2)(3,"header",3),e.nrm(4,"img",4),e.j41(5,"span",5),e.EFF(6),e.k0s()(),e.j41(7,"div",6)(8,"div",7)(9,"h2",8),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"p",9),e.EFF(13),e.nI1(14,"translate"),e.k0s(),e.j41(15,"p",10),e.EFF(16),e.nI1(17,"translate"),e.j41(18,"a",11),e.EFF(19," sales@identityserver.com "),e.k0s()(),e.j41(20,"div",12)(21,"button",13),e.bIt("click",function(){return d.login()}),e.EFF(22),e.nI1(23,"translate"),e.k0s(),e.DNE(24,Vs,1,0,"span",14),e.k0s(),e.j41(25,"ul",15)(26,"li",16)(27,"a",17),e.EFF(28),e.nI1(29,"translate"),e.k0s(),e.j41(30,"span",18),e.EFF(31,"\u2022"),e.k0s()(),e.j41(32,"li",16)(33,"a",17),e.EFF(34),e.nI1(35,"translate"),e.k0s(),e.j41(36,"span",18),e.EFF(37,"\u2022"),e.k0s()(),e.j41(38,"li",19)(39,"a",20),e.EFF(40),e.nI1(41,"translate"),e.k0s()()()(),e.j41(42,"div",21),e.nrm(43,"app-rss-feed",22),e.k0s(),e.j41(44,"footer",23)(45,"a",24),e.nrm(46,"img",25),e.j41(47,"span",26),e.EFF(48),e.k0s()()()()()),2&a&&(e.R7$(6),e.SpI("v",d.versionNumber,""),e.R7$(4),e.SpI("",e.bMT(11,14,"LandingPage.Welcome")," AdminUI"),e.R7$(3),e.JRh(e.bMT(14,16,"LandingPage.IntroParagraph1")),e.R7$(3),e.SpI(" ",e.bMT(17,18,"LandingPage.IntroParagraph2")," "),e.R7$(5),e.Y8G("disabled",!d.loginAllowed||d.startLogin),e.R7$(),e.SpI(" ",e.bMT(23,20,"Nav.Login")," "),e.R7$(2),e.Y8G("ngIf",d.startLogin),e.R7$(3),e.FS9("href",d.LinkConstants.ApiDocsLink,e.B4B),e.R7$(),e.SpI(" ",e.bMT(29,22,"LandingPage.APIDocs")," "),e.R7$(5),e.FS9("href",d.LinkConstants.DocsLink,e.B4B),e.R7$(),e.SpI(" ",e.bMT(35,24,"Common.Documentation")," "),e.R7$(5),e.FS9("href",d.LinkConstants.SupportLink,e.B4B),e.R7$(),e.SpI(" ",e.bMT(41,26,"Nav.Support")," "),e.R7$(8),e.SpI("\xa9 ",d.appCopyright,""))},dependencies:[Cn.bT,jo,Mn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();var wr=h(2892),Jn=h(3178),Mr=h(4446),$o=h(8416),gs=h(2972);let za=(()=>{class s{constructor(i,a,d){this.authService=i,this.securityService=a,this.appComponentViewService=d}ngOnInit(){this.authService.isAuthenticatedCheck().subscribe(i=>{this.authService.user=i.username,this.authService.isAuthenticated=i.isAuthenticated,i.isAuthenticated?this.appComponentViewService.successAuth():this.appComponentViewService.failAuth(),this.securityService.onAuthorizationResultComplete(i)})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(Hr.u),e.rXU(ui.i),e.rXU(gs.X))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-auth"]],decls:0,vars:0,template:function(a,d){},encapsulation:2})}}return s})(),$l=(()=>{class s{constructor(i){this.translate=i}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(Mn.c$))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["ng-component"]],decls:10,vars:6,consts:[[1,"tw-p-4"],[1,"tw-container","tw-mx-auto"],["role","alert",1,"tw-alert-danger"],[1,"tw-text-sm","tw-font-semibold"]],template:function(a,d){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1",3),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"p"),e.EFF(8),e.nI1(9,"translate"),e.k0s()()()()()),2&a&&(e.R7$(5),e.JRh(e.bMT(6,2,"Errors.ForbiddenTitle")),e.R7$(3),e.JRh(e.bMT(9,4,"Errors.ForbiddenDescription")))},dependencies:[Mn.D9],encapsulation:2})}}return s})(),Go=(()=>{class s{constructor(i){this.translate=i}ngAfterViewInit(){document.dispatchEvent(new Event("appready"))}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(Mn.c$))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["ng-component"]],decls:10,vars:6,consts:[[1,"tw-p-4"],[1,"tw-container","tw-mx-auto"],["role","alert",1,"tw-alert-danger"],[1,"tw-text-sm","tw-font-semibold"]],template:function(a,d){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1",3),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"p"),e.EFF(8),e.nI1(9,"translate"),e.k0s()()()()()),2&a&&(e.R7$(5),e.JRh(e.bMT(6,2,"Errors.NotFoundTitle")),e.R7$(3),e.JRh(e.bMT(9,4,"Errors.NotFoundDescription")))},dependencies:[Mn.D9],encapsulation:2})}}return s})();var ko=h(8284);let Ya=(()=>{class s{constructor(i,a){this.route=i,this.translate=a}ngOnInit(){const i=this.route.snapshot.paramMap.get("resource");this.resourceTypeString=i in ko.v?i:"Resource"}ngAfterViewInit(){document.dispatchEvent(new Event("appready"))}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(St.nX),e.rXU(Mn.c$))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["ng-component"]],decls:10,vars:6,consts:[[1,"tw-p-4"],[1,"tw-container","tw-mx-auto"],["role","alert",1,"tw-alert-danger"],[1,"tw-text-sm","tw-font-semibold"]],template:function(a,d){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1",3),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"p"),e.EFF(8),e.nI1(9,"translate"),e.k0s()()()()()),2&a&&(e.R7$(5),e.JRh(e.bMT(6,2,"Errors.ResourceNotFoundDescription")),e.R7$(3),e.JRh(e.bMT(9,4,"Errors.ResourceNotFoundDescription")))},dependencies:[Mn.D9],encapsulation:2})}}return s})();function Ma(s,g){1&s&&(e.j41(0,"p",6),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Errors.UnableToCompilePolicy")))}function Xa(s,g){1&s&&(e.j41(0,"p",7),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Errors.UnauthenticatedDescription")))}let Ja=(()=>{class s{constructor(i){this.isEnforcerCompilationError=!1,this.getNavigationState(i)}getNavigationState(i){const a=i.getCurrentNavigation();if(null!=a&&null!=a.extras.state){const d=a.extras.state;d.enforcer&&(this.isEnforcerCompilationError=d.enforcer)}}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(St.Ix))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["ng-component"]],decls:10,vars:5,consts:[["normalError",""],[1,"tw-p-4"],[1,"tw-container","tw-mx-auto"],["role","alert",1,"tw-alert-danger"],[1,"tw-text-sm","tw-font-semibold"],["id","ContactAdmin",4,"ngIf","ngIfElse"],["id","ContactAdmin"],["id","UnauthDescription"]],template:function(a,d){if(1&a&&(e.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"div")(4,"h1",4),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.DNE(7,Ma,3,3,"p",5)(8,Xa,3,3,"ng-template",null,0,e.C5r),e.k0s()()()()),2&a){const D=e.sdS(9);e.R7$(5),e.JRh(e.bMT(6,3,"Errors.UnauthenticatedTitle")),e.R7$(2),e.Y8G("ngIf",d.isEnforcerCompilationError)("ngIfElse",D)}},dependencies:[Cn.bT,Mn.D9],encapsulation:2})}}return s})();var ws=h(4589);const Ar=(s,g)=>({title:s,link:g,icon:"fad fa-file fa-swap-opacity"}),go=(s,g)=>({title:s,link:g,icon:"fad fa-file-code fa-swap-opacity"}),Ms=(s,g)=>({title:s,link:g,icon:"fad fa-envelope fa-swap-opacity"}),qs=(s,g)=>({"tw-pill":s,"tw-pill-info":g});function Ho(s,g){if(1&s&&(e.j41(0,"li",16)(1,"span",17),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"span",19),e.EFF(5),e.k0s()()),2&s){const i=e.XpG(2);e.R7$(2),e.JRh(e.bMT(3,2,"Index.LicensedTo")),e.R7$(3),e.SpI(" ",i.securityService.organisation," ")}}function Eo(s,g){if(1&s&&(e.j41(0,"div",10)(1,"div",11)(2,"div",12)(3,"div",13)(4,"ul",14),e.DNE(5,Ho,6,4,"li",15),e.j41(6,"li",16)(7,"span",17),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"span",18),e.EFF(11),e.k0s()()()()()()()),2&s){const i=e.XpG();e.R7$(5),e.Y8G("ngIf",i.securityService.organisation),e.R7$(3),e.JRh(e.bMT(9,4,"Index.LicenseType")),e.R7$(2),e.Y8G("ngClass",e.l_i(6,qs,i.isNonProd(),!i.isNonProd())),e.R7$(),e.SpI(" ",i.securityService.licenseType," ")}}function Xr(s,g){1&s&&e.eu8(0)}function vs(s,g){1&s&&e.eu8(0)}function Qa(s,g){1&s&&e.eu8(0)}function ma(s,g){if(1&s&&(e.j41(0,"li",20)(1,"a",21),e.nrm(2,"span",22),e.j41(3,"span",23),e.EFF(4),e.k0s()()()),2&s){const i=g.title,a=g.link,d=g.icon;e.R7$(),e.Y8G("href",a,e.B4B),e.R7$(),e.ZvI("",d," fa-fw tw-shrink-0 tw-opacity-75 tw-mr-3 sm:tw-block sm:tw-mr-0 sm:tw-text-2xl md:tw-text-3xl"),e.R7$(2),e.JRh(i)}}let lo=(()=>{class s{get LinkConstants(){return cr}constructor(i,a){this.titleService=i,this.securityService=a,this.titleService.setTitle(`Home - ${Vt.$9.SITE_TITLE}`)}ngOnInit(){}ngAfterViewInit(){document.dispatchEvent(new Event("appready"))}isDemo(){return this.securityService.licenseType===ws.G.Demo}isNonProd(){return this.securityService.licenseType!==ws.G.Production}isLegacy(){return"Legacy"===this.securityService.organisation}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(n.hE),e.rXU(ui.i))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-index"]],decls:18,vars:25,consts:[["commonDocsButton",""],[1,"sr-only"],["class","tw-bg-grey-200 tw-border-b tw-border-grey-300 tw--mt-5 tw--mx-4 tw-mb-6 tw-px-4",4,"ngIf"],[1,"tw-container","tw-text-left","tw-mx-auto","tw-mb-4"],[1,"tw-max-w-2xl","tw-mx-auto"],[1,"tw--ml-2","tw--mt-2","md:tw--ml-4","md:tw--mt-4"],[1,"tw-flex","tw-flex-wrap"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"tw-bg-white","tw-mt-6","tw-p-6","tw-max-w-2xl","tw-mx-auto","tw-shadow","tw-rounded"],["altTheme","true"],[1,"tw-bg-grey-200","tw-border-b","tw-border-grey-300","tw--mt-5","tw--mx-4","tw-mb-6","tw-px-4"],[1,"tw-py-4"],[1,"tw-container","tw-text-left","tw-mx-auto"],[1,"tw--mt-4","tw--ml-4"],[1,"tw-flex","tw-flex-wrap","tw-items-center","tw-justify-between","tw-text-xs","tw-text-grey-700","lg:tw-justify-end"],["class","tw-pt-4 tw-pl-4",4,"ngIf"],[1,"tw-pt-4","tw-pl-4"],[1,"tw-mr-2"],[3,"ngClass"],[1,"tw-pill"],[1,"tw-w-full","tw-pt-2","tw-pl-2","sm:tw-w-1/3","md:tw-pt-4","md:tw-pl-4"],["target","_blank",1,"tw-btn","tw-justify-start","tw-py-4","tw-w-full","sm:tw-flex-col",3,"href"],["aria-hidden","true"],[1,"tw-truncate","sm:tw-block","sm:tw-mt-3","sm:tw-text-sm","md:tw-text-base"]],template:function(a,d){if(1&a&&(e.j41(0,"h1",1),e.EFF(1),e.nI1(2,"translate"),e.k0s(),e.DNE(3,Eo,12,9,"div",2),e.j41(4,"div",3)(5,"div",4)(6,"div",5)(7,"ul",6),e.DNE(8,Xr,1,0,"ng-container",7),e.nI1(9,"translate"),e.DNE(10,vs,1,0,"ng-container",7),e.nI1(11,"translate"),e.DNE(12,Qa,1,0,"ng-container",7),e.nI1(13,"translate"),e.k0s()()(),e.j41(14,"div",8),e.nrm(15,"app-rss-feed",9),e.k0s()(),e.DNE(16,ma,5,5,"ng-template",null,0,e.C5r)),2&a){const D=e.sdS(17);e.R7$(),e.JRh(e.bMT(2,8,"Common.AppName")),e.R7$(2),e.Y8G("ngIf",!d.isLegacy()),e.R7$(5),e.Y8G("ngTemplateOutlet",D)("ngTemplateOutletContext",e.l_i(16,Ar,e.bMT(9,10,"Common.Documentation"),d.LinkConstants.DocsLink)),e.R7$(2),e.Y8G("ngTemplateOutlet",D)("ngTemplateOutletContext",e.l_i(19,go,e.bMT(11,12,"LandingPage.APIDocs"),d.LinkConstants.ApiDocsLink)),e.R7$(2),e.Y8G("ngTemplateOutlet",D)("ngTemplateOutletContext",e.l_i(22,Ms,e.bMT(13,14,"Nav.Support"),d.LinkConstants.SupportLink))}},dependencies:[Cn.YU,Cn.bT,Cn.T3,jo,Mn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();var xs=h(316),Fi=h(7263),Es=h(5602),ee=h(5424),Ke=h(526),de=h(8698),Pe=h(6536);const Rt=["requiredClaimsForm"];function pn(s,g){if(1&s){const i=e.RV6();e.j41(0,"div",7)(1,"div",10)(2,"h2",11),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"p",12),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"p",13),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"div",14)(12,"span",15)(13,"button",16),e.bIt("click",function(){e.eBV(i);const d=e.XpG();return e.Njj(d.signOutAndRedirectToLogin())}),e.EFF(14),e.nI1(15,"translate"),e.k0s()()()()()}2&s&&(e.R7$(3),e.JRh(e.bMT(4,4,"Notifications.Success")),e.R7$(3),e.SpI(" ",e.bMT(7,6,"InitialAdminCreation.SuccessMessage")," "),e.R7$(3),e.SpI(" ",e.bMT(10,8,"InitialAdminCreation.LoginMessage")," "),e.R7$(5),e.SpI(" ",e.bMT(15,10,"Nav.Login")," "))}function wn(s,g){1&s&&(e.j41(0,"span",40),e.EFF(1,"Passwords must match"),e.k0s())}function Zn(s,g){1&s&&(e.j41(0,"ul",41)(1,"li"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"li"),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"li"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"li"),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"li"),e.EFF(14),e.nI1(15,"translate"),e.k0s()()),2&s&&(e.R7$(2),e.JRh(e.bMT(3,5,"Users.Password.Requirements.1")),e.R7$(3),e.JRh(e.bMT(6,7,"Users.Password.Requirements.2")),e.R7$(3),e.JRh(e.bMT(9,9,"Users.Password.Requirements.3")),e.R7$(3),e.JRh(e.bMT(12,11,"Users.Password.Requirements.4")),e.R7$(3),e.JRh(e.bMT(15,13,"Users.Password.Requirements.5")))}function fr(s,g){if(1&s){const i=e.RV6();e.j41(0,"input",50),e.mxI("ngModelChange",function(d){e.eBV(i);const D=e.XpG().$implicit;return e.DH7(D.value,d)||(D.value=d),e.Njj(d)}),e.k0s()}if(2&s){const i=e.XpG(),a=i.$implicit;e.Mz_("id","claim-",i.index,""),e.R50("ngModel",a.value)}}function sr(s,g){if(1&s){const i=e.RV6();e.j41(0,"input",51),e.mxI("ngModelChange",function(d){e.eBV(i);const D=e.XpG().$implicit;return e.DH7(D.value,d)||(D.value=d),e.Njj(d)}),e.k0s()}if(2&s){const i=e.XpG(),a=i.$implicit;e.Mz_("id","claim-",i.index,""),e.R50("ngModel",a.value)}}function Ji(s,g){if(1&s){const i=e.RV6();e.j41(0,"div",52)(1,"select",53),e.mxI("ngModelChange",function(d){e.eBV(i);const D=e.XpG().$implicit;return e.DH7(D.value,d)||(D.value=d),e.Njj(d)}),e.j41(2,"option",54),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"option",55),e.EFF(6),e.nI1(7,"translate"),e.k0s()()()}if(2&s){const i=e.XpG(),a=i.$implicit,d=i.index;e.R7$(),e.Mz_("id","claim-",d,""),e.R50("ngModel",a.value),e.R7$(2),e.JRh(e.bMT(4,5,"Common.True")),e.R7$(3),e.JRh(e.bMT(7,7,"Common.False"))}}function Vi(s,g){if(1&s){const i=e.RV6();e.qex(0),e.j41(1,"app-date-time",58),e.mxI("ngModelChange",function(d){e.eBV(i);const D=e.XpG(2).$implicit;return e.DH7(D.value,d)||(D.value=d),e.Njj(d)}),e.k0s(),e.bVm()}if(2&s){const i=e.XpG(2),a=i.$implicit,d=i.index;e.R7$(),e.Mz_("id","claim-",d,""),e.R50("ngModel",a.value)}}function ii(s,g){if(1&s){const i=e.RV6();e.qex(0),e.j41(1,"app-date-time",59),e.mxI("ngModelChange",function(d){e.eBV(i);const D=e.XpG(2).$implicit;return e.DH7(D.value,d)||(D.value=d),e.Njj(d)}),e.k0s(),e.bVm()}if(2&s){const i=e.XpG(2),a=i.$implicit,d=i.index;e.R7$(),e.Mz_("id","claim-",d,""),e.R50("ngModel",a.value),e.Y8G("displayType","date")}}function Qi(s,g){if(1&s&&(e.j41(0,"div",56),e.DNE(1,Vi,2,3,"ng-container",57)(2,ii,2,4,"ng-container",57),e.k0s()),2&s){const i=e.XpG().$implicit;e.R7$(),e.Y8G("ngIf","birthdate"!=i.name),e.R7$(),e.Y8G("ngIf","birthdate"==i.name)}}function ur(s,g){if(1&s&&(e.j41(0,"option",62),e.EFF(1),e.k0s()),2&s){const i=g.$implicit;e.Y8G("value",i),e.R7$(),e.JRh(i)}}function pe(s,g){if(1&s){const i=e.RV6();e.j41(0,"div",52)(1,"select",60),e.mxI("ngModelChange",function(d){e.eBV(i);const D=e.XpG().$implicit;return e.DH7(D.value,d)||(D.value=d),e.Njj(d)}),e.DNE(2,ur,2,2,"option",61),e.k0s()()}if(2&s){const i=e.XpG(),a=i.$implicit,d=i.index;e.R7$(),e.Mz_("id","claim-",d,""),e.R50("ngModel",a.value),e.R7$(),e.Y8G("ngForOf",a.allowedValues)}}function P(s,g){if(1&s&&(e.j41(0,"span",63),e.EFF(1),e.k0s()),2&s){const i=e.XpG().$implicit;e.R7$(),e.SpI(" ",i.failureMessage," ")}}function ue(s,g){if(1&s&&(e.j41(0,"app-form-row",44),e.DNE(1,fr,1,3,"input",45)(2,sr,1,3,"input",46)(3,Ji,8,9,"div",47)(4,Qi,3,2,"div",48)(5,pe,3,4,"div",47)(6,P,2,1,"span",49),e.k0s()),2&s){const i=g.$implicit,a=g.index,d=e.XpG(3);e.Y8G("id","claim-"+a)("label",i.name)("help","DateTime"==i.format?"Common.Dates.UTCWarning":"")("isLast",a===d.displayClaims.length-1),e.R7$(),e.Y8G("ngIf","String"==i.format),e.R7$(),e.Y8G("ngIf","Int"==i.format),e.R7$(),e.Y8G("ngIf","Boolean"==i.format),e.R7$(),e.Y8G("ngIf","DateTime"==i.format),e.R7$(),e.Y8G("ngIf","Enum"==i.format),e.R7$(),e.Y8G("ngIf",null!=i.failureMessage)}}function Me(s,g){if(1&s&&(e.j41(0,"div",42),e.DNE(1,ue,7,10,"app-form-row",43),e.k0s()),2&s){const i=e.XpG(2);e.R7$(),e.Y8G("ngForOf",i.displayClaims)}}function rt(s,g){1&s&&e.nrm(0,"span",64)}function Nt(s,g){if(1&s){const i=e.RV6();e.j41(0,"div",10)(1,"h2",11),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"div"),e.nrm(5,"hr",17)(6,"p",18)(7,"p",19),e.nI1(8,"translate"),e.j41(9,"p",18),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.nrm(12,"hr",17),e.j41(13,"form",20)(14,"app-form-row",21),e.nrm(15,"input",22),e.k0s(),e.j41(16,"app-form-row",21),e.nrm(17,"input",23),e.k0s(),e.j41(18,"app-form-row",21),e.nrm(19,"input",24),e.k0s(),e.j41(20,"app-form-row",21),e.nrm(21,"input",25),e.k0s(),e.j41(22,"app-form-row",21),e.nrm(23,"input",26),e.k0s(),e.j41(24,"app-form-row",21),e.nrm(25,"input",27),e.DNE(26,wn,2,0,"span",28)(27,Zn,16,15,"ul",29),e.k0s()(),e.j41(28,"form",null,0),e.DNE(30,Me,2,1,"div",30),e.k0s(),e.j41(31,"div",14)(32,"span",15)(33,"button",31),e.bIt("click",function(){e.eBV(i);const d=e.XpG();return e.Njj(d.addUser())}),e.EFF(34),e.nI1(35,"translate"),e.DNE(36,rt,1,0,"span",32),e.k0s()()()(),e.j41(37,"ul",33)(38,"li",34)(39,"a",35),e.EFF(40),e.nI1(41,"translate"),e.k0s(),e.j41(42,"span",36),e.EFF(43,"\u2022"),e.k0s()(),e.j41(44,"li",34)(45,"a",37),e.EFF(46),e.nI1(47,"translate"),e.k0s(),e.j41(48,"span",36),e.EFF(49,"\u2022"),e.k0s()(),e.j41(50,"li",38)(51,"a",39),e.EFF(52),e.nI1(53,"translate"),e.k0s()()()()}if(2&s){const i=e.sdS(29),a=e.XpG();e.R7$(2),e.JRh(e.bMT(3,26,"LandingPage.AdminCreation")),e.R7$(5),e.Y8G("innerHTML",e.bMT(8,28,"InitialAdminCreation.PermissionsInfoMessage"),e.npT),e.R7$(3),e.SpI(" ",e.bMT(11,30,"InitialAdminCreation.PasswordHashMessage")," "),e.R7$(3),e.Y8G("formGroup",a.addUserForm),e.R7$(),e.Y8G("id","FirstName")("label","Users.FirstName"),e.R7$(2),e.Y8G("id","LastName")("label","Users.LastName"),e.R7$(2),e.Y8G("id","Username")("label","Users.Username"),e.R7$(2),e.Y8G("id","Email")("label","Users.Email"),e.R7$(2),e.Y8G("id","Password")("label","Users.Password.Title"),e.R7$(2),e.Y8G("id","Password")("label","UserDetails.Confirm Password"),e.R7$(2),e.Y8G("ngIf",a.addUserForm.hasError("notSame")),e.R7$(),e.Y8G("ngIf",a.addUserForm.get("password").hasError("pattern")),e.R7$(3),e.Y8G("ngIf",a.displayClaims.length>0),e.R7$(3),e.Y8G("disabled",!a.addUserForm.valid||!i.form.valid||a.inFlight),e.R7$(),e.SpI(" ",e.bMT(35,32,"Common.Save")," "),e.R7$(2),e.Y8G("ngIf",a.inFlight),e.R7$(3),e.FS9("href",a.apiDocsLink,e.B4B),e.R7$(),e.SpI(" ",e.bMT(41,34,"LandingPage.APIDocs")," "),e.R7$(6),e.SpI(" ",e.bMT(47,36,"Common.Documentation")," "),e.R7$(6),e.SpI(" ",e.bMT(53,38,"Nav.Support")," ")}}let Ut=(()=>{class s{constructor(i,a,d,D,te,Ae,et,bt){this.authService=i,this.titleService=a,this.toastr=d,this.fb=D,this.userService=te,this.errorService=Ae,this.claimTypesService=et,this.appComponentViewService=bt,this.versionNumber="",this.createdAdmin=!1,this.displayClaims=[],this.checkPasswords=dn=>dn.get("password").value===dn.get("confirmPassword").value?null:{notSame:!0},this.titleService.setTitle(`${Vt.$9.SITE_TITLE}`),this.versionNumber=Nn;const Ht=new Date;this.appCopyright=2017!==Ht.getFullYear()?"2017 - "+Ht.getFullYear():"2017"}ngOnInit(){this.appComponentViewService.startInitialAdminCreation(),this.createForms(),this.claimTypesService.getClaimTypes(null,null).subscribe(i=>{this.claimTypes=i;for(const d of this.claimTypes)d.required&&this.displayClaims.push({claimTypeId:d.id,format:d.valueType,name:d.name,value:null,failureMessage:d.ruleValidationFailureDescription,allowedValues:d.allowedValues})},i=>{this.errorService.handleError(i)})}addUser(){let i;i=JSON.parse(JSON.stringify(this.addUserForm.value)),Object.assign(i,{claims:[]});for(const a of this.displayClaims){if(null===a.value)continue;let d=a.value;"DateTime"===a.format&&(d=a.value),"Int"===a.format&&(d=d.toString()),i.claims.push({claimTypeId:a.claimTypeId,value:d,type:a.name})}this.inFlight=!0,this.userService.addInitialAdministrator(i).subscribe(()=>{this.inFlight=!1,this.createdAdmin=!0},a=>{this.inFlight=!1,this.errorService.handleError(a)})}signOutAndRedirectToLogin(){this.authService.logoff()}createForms(){this.addUserForm=this.fb.group({username:["",[p.k0.required,(0,Fi.Zt)()]],email:["",xs.D],firstName:["",p.k0.required],lastName:["",p.k0.required],password:["",p.k0.pattern("^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$")],confirmPassword:[""]},{validators:this.checkPasswords})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(Hr.u),e.rXU(n.hE),e.rXU(ni.tw),e.rXU(p.ze),e.rXU(Es.D),e.rXU(ee.I),e.rXU(Ke.X),e.rXU(gs.X))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-initial-admin-creation"]],viewQuery:function(a,d){if(1&a&&e.GBs(Rt,5),2&a){let D;e.mGM(D=e.lsd())&&(d.requiredClaimsForm=D.first)}},decls:10,vars:3,consts:[["requiredClaimsForm","ngForm"],[1,"tw-fixed","tw-inset-0","tw-z-10"],[1,"tw-bg-primary-500","tw-absolute","tw-inset-0",2,"background-image","url(assets/img/pattern.png)"],[1,"tw--mt-5","tw-mx-auto","tw--mb-10","tw-relative","tw-z-20"],[1,"tw-flex","tw-items-center","tw-h-16","tw-mb-4"],["src","assets/img/logo-persimmon.png","alt","AdminUI",1,"tw-h-8"],[1,"tw-text-sm","tw-font-semibold","tw-text-white-75","tw-ml-auto"],[1,"tw-px-6"],["class","tw-px-6",4,"ngIf"],["class","tw-bg-white tw-p-6 tw--mx-6 tw-shadow tw-rounded md:tw-mx-auto md:tw-max-w-2xl",4,"ngIf"],[1,"tw-bg-white","tw-p-6","tw--mx-6","tw-shadow","tw-rounded","md:tw-mx-auto","md:tw-max-w-2xl"],[1,"tw-text-xl","tw-font-semibold","md:tw-text-2xl"],["role","alert",1,"tw-alert-success","tw-mb-4","tw-mt-4"],[1,"tw-text-sm","tw-mt-2"],[1,"tw-mt-4"],[1,"xs:tw-mr-3"],["id","loginBtn",1,"tw-btn","tw-btn-success",3,"click"],[1,"tw-mt-5","tw-mt-5"],[1,"tw-font-semibold","tw-mt-5"],[1,"tw-mt-5",3,"innerHTML"],["autocomplete","off",1,"form","tw-mt-5",3,"formGroup"],[3,"id","label"],["id","FirstName","type","text","name","FirstName","formControlName","firstName","required","",1,"tw-form-control"],["id","LastName","type","text","name","LastName","formControlName","lastName","required","",1,"tw-form-control"],["id","Username","type","text","name","username","formControlName","username","required","",1,"tw-form-control"],["id","Email","type","email","name","email","formControlName","email","required","",1,"tw-form-control"],["id","Password","type","password","name","Password","formControlName","password","aria-labelledby","PasswordHelp","required","",1,"tw-form-control"],["id","ConfirmPassword","type","password","name","ConfirmPassword","formControlName","confirmPassword","required","",1,"tw-form-control"],["class","tw-form-text-danger",4,"ngIf"],["id","PasswordHelp","class","tw-form-text-danger",4,"ngIf"],["id","claimsForm",4,"ngIf"],["type","submit","id","addUserSubmit",1,"tw-btn-success",3,"click","disabled"],["class","fad fa-spinner-third fa-spin tw-text-secondary-500 tw-mr-2 tw-ml-2",4,"ngIf"],[1,"tw-flex","tw-flex-wrap","tw-items-center","tw-border-t","tw-border-grey-200","tw-text-sm","tw--mx-6","tw--mb-2","tw-mt-6","tw-pt-4","tw-px-6"],[1,"tw-flex","tw-items-center","tw-mr-3"],["target","_blank",1,"tw-inline-block","tw-text-blue-500","hover:tw-text-body","tw-transition-all","tw-ease-in-out",3,"href"],["aria-hidden","true",1,"tw-ml-3","tw-opacity-50"],["href","documentation/index.html","target","_blank",1,"tw-inline-block","tw-text-blue-500","hover:tw-text-body","tw-transition-all","tw-ease-in-out"],[1,"tw-flex","tw-items-center"],["href","mailto:support@identityserver.com?subject=AdminUI",1,"tw-inline-block","tw-text-blue-500","hover:tw-text-body","tw-transition-all","tw-ease-in-out"],[1,"tw-form-text-danger"],["id","PasswordHelp",1,"tw-form-text-danger"],["id","claimsForm"],[3,"id","label","help","isLast",4,"ngFor","ngForOf"],[3,"id","label","help","isLast"],["class","tw-form-control","type","text","name","string","required","",3,"id","ngModel","ngModelChange",4,"ngIf"],["class","tw-form-control","type","number","name","number","required","",3,"id","ngModel","ngModelChange",4,"ngIf"],["class","tw-form-select",4,"ngIf"],["class","tw-w-full sm:tw-max-w-2xl",4,"ngIf"],["class","tw-form-text",4,"ngIf"],["type","text","name","string","required","",1,"tw-form-control",3,"ngModelChange","id","ngModel"],["type","number","name","number","required","",1,"tw-form-control",3,"ngModelChange","id","ngModel"],[1,"tw-form-select"],["name","boolean","required","",1,"tw-form-control",3,"ngModelChange","id","ngModel"],["value","true"],["value","false"],[1,"tw-w-full","sm:tw-max-w-2xl"],[4,"ngIf"],["name","claimValue","required","",3,"ngModelChange","id","ngModel"],["name","claimValue","required","",3,"ngModelChange","id","ngModel","displayType"],["name","enum","required","",1,"tw-form-control",3,"ngModelChange","id","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"tw-form-text"],[1,"fad","fa-spinner-third","fa-spin","tw-text-secondary-500","tw-mr-2","tw-ml-2"]],template:function(a,d){1&a&&(e.j41(0,"div",1),e.nrm(1,"div",2),e.k0s(),e.j41(2,"div",3)(3,"header",4),e.nrm(4,"img",5),e.j41(5,"span",6),e.EFF(6),e.k0s()(),e.j41(7,"div",7),e.DNE(8,pn,16,12,"div",8)(9,Nt,54,40,"div",9),e.k0s()()),2&a&&(e.R7$(6),e.SpI("v",d.versionNumber,""),e.R7$(2),e.Y8G("ngIf",d.createdAdmin),e.R7$(),e.Y8G("ngIf",!d.createdAdmin))},dependencies:[Cn.Sq,Cn.bT,p.qT,p.xH,p.y7,p.me,p.Q0,p.wz,p.BC,p.cb,p.YS,p.vS,p.cV,p.j4,p.JD,de.Y,Pe.Z,Mn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();var rn=h(3680),an=h(6719),_n=h(251);const qn=(s,g)=>({title:s,link:g}),jn=s=>[s];function Er(s,g){1&s&&(e.j41(0,"span",8),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Policy")," "))}function gi(s,g){1&s&&(e.j41(0,"span",9),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Reserved")," "))}function Wr(s,g){if(1&s&&(e.qex(0,5),e.DNE(1,Er,3,3,"span",6)(2,gi,3,3,"span",7),e.bVm()),2&s){const i=e.XpG();e.R7$(),e.Y8G("ngIf",i.isPolicyRole()),e.R7$(),e.Y8G("ngIf",i.role.reserved)}}let Rr=(()=>{class s{constructor(i,a,d,D){this.activatedRoute=i,this.errorService=a,this.router=d,this.securityService=D}ngOnInit(){this.roleDataSubscription=this.activatedRoute.data.subscribe(i=>{this.role=i.role},i=>{this.errorService.handleError(i)})}ngOnDestroy(){this.roleDataSubscription.unsubscribe()}isPolicyRole(){const i=this.securityService.policyClaims;for(let a=0;a<i.length;a++)if("role"===i[a].type&&i[a].value===this.role.name)return!0;return!1}mobRoute(i){this.router.navigate([i],{relativeTo:this.activatedRoute})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(St.nX),e.rXU(ee.I),e.rXU(St.Ix),e.rXU(ui.i))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["ng-component"]],decls:10,vars:17,consts:[[3,"title","crumbs","hasTabs"],["badge","",4,"ngIf"],["tabs",""],[3,"tabTitle","tabValue"],["id","editRole"],["badge",""],["class","tw-pill-warning tw-mr-2",4,"ngIf"],["class","tw-pill tw-mr-2",4,"ngIf"],[1,"tw-pill-warning","tw-mr-2"],[1,"tw-pill","tw-mr-2"]],template:function(a,d){1&a&&(e.j41(0,"app-title-bar",0),e.nI1(1,"translate"),e.nI1(2,"localize"),e.DNE(3,Wr,3,2,"ng-container",1),e.qex(4,2),e.j41(5,"app-custom-tabs"),e.nrm(6,"app-custom-tab",3)(7,"app-custom-tab",3),e.k0s(),e.bVm(),e.k0s(),e.j41(8,"div",4),e.nrm(9,"router-outlet"),e.k0s()),2&a&&(e.Y8G("title",d.role.name)("crumbs",e.eq3(15,jn,e.l_i(12,qn,e.bMT(1,8,"Nav.Roles"),e.bMT(2,10,"/roles"))))("hasTabs",!0),e.R7$(3),e.Y8G("ngIf",d.isPolicyRole()||d.role.reserved),e.R7$(3),e.Y8G("tabTitle","Nav.Details")("tabValue","details"),e.R7$(),e.Y8G("tabTitle","Nav.Users")("tabValue","users"))},dependencies:[Cn.bT,St.n3,rn.z,an.G,_n.v,Mn.D9,$i.tl],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();var Ss=h(9957),or=h(6303),fs=h(3519),Wo=h(7499),xa=h(6728),So=h(6406),ks=h(8762),sa=h(7778),Ri=h(4692);const ka=s=>[s];function oa(s,g){1&s&&e.nrm(0,"input",12)}function Ko(s,g){if(1&s&&(e.nrm(0,"app-readonly",13),e.nI1(1,"readOnlyValue")),2&s){const i=e.XpG();e.Y8G("fieldType",i.ReadOnlyFieldType.Single)("values",e.eq3(4,ka,e.bMT(1,2,i.role.name)))}}function Gl(s,g){1&s&&e.nrm(0,"textarea",14)}function Za(s,g){if(1&s&&(e.nrm(0,"app-readonly",13),e.nI1(1,"readOnlyValue")),2&s){const i=e.XpG();e.Y8G("fieldType",i.ReadOnlyFieldType.Single)("values",e.eq3(4,ka,e.bMT(1,2,i.role.description)))}}let Ts=(()=>{class s{get ReadOnlyFieldType(){return or.t}constructor(i,a,d,D,te,Ae,et,bt,Ht,dn,yn){this.rolesService=i,this.route=a,this.securityService=d,this.router=D,this.fb=te,this.titleService=Ae,this.toastr=et,this.dialogService=bt,this.translate=Ht,this.localize=dn,this.errorService=yn}ngOnInit(){this.getCachedRoleSubscription=this.rolesService.getCachedRole().subscribe(i=>{this.role=i,this.buildForms(),this.initialData=JSON.stringify(i);const a=this.translate.instant("Roles.Role")+" "+this.role.name+" - "+Vt.$9.SITE_TITLE;this.titleService.setTitle(a)})}ngOnDestroy(){this.getCachedRoleSubscription.unsubscribe()}updateRole(){this.role=Object.assign({id:this.role.id},this.editRoleForm.value),this.role.name=this.role.name.trim(),this.rolesService.updateRole(this.role).subscribe(()=>{this.rolesService.setCachedRole(this.role);const i=this.translate.instant("Notifications.Saving Success Title"),a=this.translate.instant("Notifications.Saving Success Message");this.toastr.success(a,i)},i=>{if(401===i.status)this.toastr.warning(this.translate.instant("Roles.UpdateUnauthorized"),this.translate.instant("Notifications.Unauthorized"));else{const a={toastBody:this.translate.instant("Notifications.Saving Error Title"),toastTitle:this.translate.instant("Notifications.Saving Error Message")};(this.errorService.handleError(i,a)&Ss.I.Toast)!==Ss.I.Toast&&this.toastr.error(a.toastBody,a.toastTitle)}})}deleteRole(){this.rolesService.deleteRole(this.role).subscribe(i=>{const a=this.localize.translateRoute("/roles");this.router.navigate([a]),this.toastr.success(this.translate.instant("Roles.RoleRemoved"),this.translate.instant("Common.Delete.Deleted"))},i=>{if(401===i.status)this.toastr.warning(this.translate.instant("Roles.DeleteUnauthorized"),this.translate.instant("Notifications.Unauthorized"));else{const a={toastBody:this.translate.instant("Notifications.Saving Error Title"),toastTitle:this.translate.instant("Notifications.Saving Error Message")};(this.errorService.handleError(i,a)&Ss.I.Toast)!==Ss.I.Toast&&this.toastr.error(a.toastBody,a.toastTitle)}})}buildForms(){this.editRoleForm=this.fb.group({name:[{value:this.role.name,disabled:this.isControlDisabled()}],description:[{value:this.role.description,disabled:this.isControlDisabled()}]})}isControlDisabled(){return this.allowedToEditRole()||this.role.reserved}canDeactivate(){return!!this.editRoleForm.pristine||(this.dialogService.confirm(),this.dialogService.eventStream)}allowedToEditRole(){return!this.securityService.allView&&this.isPolicyRole()}isPolicyRole(){const i=this.securityService.policyClaims;for(let a=0;a<i.length;a++)if("role"===i[a].type&&i[a].value===this.role.name)return!0;return!1}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(fs.P),e.rXU(St.nX),e.rXU(ui.i),e.rXU(St.Ix),e.rXU(p.ze),e.rXU(n.hE),e.rXU(ni.tw),e.rXU(Wo.o),e.rXU(Mn.c$),e.rXU($i.QG),e.rXU(ee.I))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-role-details"]],decls:19,vars:21,consts:[["deleteRoleModal",""],["id","editRoleDetails",1,"tw-container","tw-mx-auto"],[3,"formGroup"],[3,"id","label","help"],["type","text","class","tw-form-control","id","addRoleName","formControlName","name",4,"ngIf"],["class","tw-h-full",3,"fieldType","values",4,"ngIf"],[3,"id","label","isLast"],["class","tw-form-control","rows","2","id","addRoleDescription","formControlName","description",4,"ngIf"],["id","updateRoleBtn",1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"click","disabled"],["right",""],["id","showModal","data-toggle","modal","type","button",1,"tw-btn-danger","tw-mb-3",3,"click","disabled"],[3,"delete","modalId","resourceName"],["type","text","id","addRoleName","formControlName","name",1,"tw-form-control"],[1,"tw-h-full",3,"fieldType","values"],["rows","2","id","addRoleDescription","formControlName","description",1,"tw-form-control"]],template:function(a,d){if(1&a){const D=e.RV6();e.j41(0,"div",1)(1,"form",2)(2,"app-form-row",3),e.DNE(3,oa,1,0,"input",4)(4,Ko,2,6,"app-readonly",5),e.k0s(),e.j41(5,"app-form-row",6),e.DNE(6,Gl,1,0,"textarea",7)(7,Za,2,6,"app-readonly",5),e.k0s()()(),e.j41(8,"app-button-bar")(9,"button",8),e.bIt("click",function(){return e.eBV(D),e.Njj(d.updateRole())}),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.qex(12,9),e.j41(13,"button",10),e.bIt("click",function(){e.eBV(D);const Ae=e.sdS(17);return e.Njj(Ae.show())}),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.bVm(),e.k0s(),e.j41(16,"app-delete-confirmation-modal",11,0),e.bIt("delete",function(){return e.eBV(D),e.Njj(d.deleteRole())}),e.k0s(),e.nrm(18,"app-can-deactivate")}2&a&&(e.R7$(),e.Y8G("formGroup",d.editRoleForm),e.R7$(),e.Y8G("id","addRoleName")("label","Common.Name")("help","Roles.TrimWhitespaceHelp"),e.R7$(),e.Y8G("ngIf",!d.isControlDisabled()),e.R7$(),e.Y8G("ngIf",d.isControlDisabled()),e.R7$(),e.Y8G("id","addRoleDescription")("label","Common.Description")("isLast",!0),e.R7$(),e.Y8G("ngIf",!d.isControlDisabled()),e.R7$(),e.Y8G("ngIf",d.isControlDisabled()),e.R7$(2),e.Y8G("disabled",!d.editRoleForm.dirty&&d.editRoleForm.valid||d.allowedToEditRole()||d.role.reserved),e.R7$(),e.SpI(" ",e.bMT(11,17,"Common.Save")," "),e.R7$(3),e.Y8G("disabled",d.isControlDisabled()),e.R7$(),e.SpI(" ",e.bMT(15,19,"Common.Delete.Title")," "),e.R7$(2),e.Y8G("modalId","deleteRoleModal")("resourceName",d.role.name))},dependencies:[Cn.bT,p.qT,p.me,p.BC,p.cb,p.j4,p.JD,xa.E,So.z,de.Y,ks.O,sa.w,Ri.u,Mn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();var Lr=h(1413),Di=h(6354),is=h(1716),vl=h(9172),ga=h(1397),va=h(1986),vo=h(4313),yl=h(7156),Hl=h(7294),Le=h(8114),c=function(s){return s.Remove="Remove",s.Add="Add",s}(c||{}),_=h(1068);const A=["roleManagerUsers"],W=()=>({animated:!1,backdrop:"static"}),ae=(s,g,i,a)=>({id:"usersAddingSummary",title:s,data:g,label:i,empty:a}),ve=(s,g,i,a)=>({id:"usersRemovingSummary",title:s,data:g,label:i,empty:a});function Ge(s,g){1&s&&(e.nrm(0,"app-simple-loader",19),e.nI1(1,"translate")),2&s&&e.Y8G("text",e.bMT(1,1,"Roles.SavingPleaseWait"))}function I(s,g){if(1&s){const i=e.RV6();e.j41(0,"li",38)(1,"label",39)(2,"input",40),e.bIt("change",function(){const d=e.eBV(i).$implicit,D=e.XpG(3);return e.Njj(D.toggleIfInRole(d))}),e.k0s(),e.j41(3,"div",41)(4,"span",42),e.EFF(5),e.k0s(),e.j41(6,"span",43),e.EFF(7),e.k0s()()()()}if(2&s){const i=g.$implicit,a=e.XpG(3);e.R7$(2),e.Y8G("checked",a.checkChecked(i)),e.R7$(3),e.JRh(i.userName),e.R7$(2),e.JRh(i.email)}}function V(s,g){if(1&s&&(e.j41(0,"div",35)(1,"ul",36),e.DNE(2,I,8,3,"li",37),e.k0s()()),2&s){const i=e.XpG(2);e.R7$(2),e.Y8G("ngForOf",i.users)}}function B(s,g){1&s&&(e.j41(0,"p",44),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Roles.NotSelected")," "))}function Q(s,g){1&s&&(e.j41(0,"p",44),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Roles.NoResults")," "))}function ge(s,g){1&s&&e.nrm(0,"app-simple-loader")}function $e(s,g){1&s&&e.eu8(0)}function _t(s,g){1&s&&e.eu8(0)}function ln(s,g){if(1&s){const i=e.RV6();e.j41(0,"div")(1,"div",20),e.nrm(2,"p",21),e.k0s(),e.j41(3,"div",22)(4,"h2",23),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"div",24)(8,"label",25)(9,"span",9),e.EFF(10),e.nI1(11,"translate"),e.k0s()(),e.j41(12,"input",26),e.mxI("ngModelChange",function(d){e.eBV(i);const D=e.XpG();return e.DH7(D.searchTerm,d)||(D.searchTerm=d),e.Njj(d)}),e.bIt("keyup",function(d){e.eBV(i);const D=e.XpG();return e.Njj(D.search(d))}),e.k0s()()(),e.j41(13,"div",27)(14,"div",28),e.DNE(15,V,3,1,"div",29)(16,B,3,3,"p",30)(17,Q,3,3,"p",30)(18,ge,1,0,"app-simple-loader",12),e.k0s(),e.j41(19,"div",31)(20,"div",32),e.DNE(21,$e,1,0,"ng-container",33),e.nI1(22,"translate"),e.nI1(23,"translate"),e.nI1(24,"translate"),e.k0s(),e.j41(25,"div",34),e.DNE(26,_t,1,0,"ng-container",33),e.nI1(27,"translate"),e.nI1(28,"translate"),e.nI1(29,"translate"),e.k0s()()()()}if(2&s){const i=e.XpG(),a=e.sdS(17);e.R7$(2),e.Y8G("innerHtml",i.summaryText,e.npT),e.R7$(3),e.JRh(e.bMT(6,12,"Roles.SearchAllUsers")),e.R7$(5),e.JRh(e.bMT(11,14,"Roles.SearchUsers")),e.R7$(2),e.R50("ngModel",i.searchTerm),e.R7$(3),e.Y8G("ngIf",!i.isLoading&&i.hasSearched&&i.users.length>0),e.R7$(),e.Y8G("ngIf",!i.isLoading&&!i.hasSearched&&i.users.length<1),e.R7$(),e.Y8G("ngIf",!i.isLoading&&i.hasSearched&&i.users.length<1),e.R7$(),e.Y8G("ngIf",i.isLoading),e.R7$(3),e.Y8G("ngTemplateOutlet",a)("ngTemplateOutletContext",e.ziG(28,ae,e.bMT(22,16,"Roles.Adding"),i.usersAdding,e.bMT(23,18,"Roles.CancelAdding"),e.bMT(24,20,"Roles.NoUsersAdding"))),e.R7$(5),e.Y8G("ngTemplateOutlet",a)("ngTemplateOutletContext",e.ziG(33,ve,e.bMT(27,22,"Roles.Removing"),i.usersRemoving,e.bMT(28,24,"Roles.CancelRemoving"),e.bMT(29,26,"Roles.NoUsersRemoving")))}}function tn(s,g){if(1&s&&(e.j41(0,"p",44),e.EFF(1),e.k0s()),2&s){const i=e.XpG().empty;e.R7$(),e.JRh(i)}}function Ln(s,g){if(1&s){const i=e.RV6();e.j41(0,"li",52)(1,"button",53),e.bIt("click",function(){const d=e.eBV(i).$implicit,D=e.XpG(3);return e.Njj(D.toggleIfInRole(d))}),e.j41(2,"div",54),e.nrm(3,"span",55),e.j41(4,"span",56),e.EFF(5),e.k0s()()()()}if(2&s){const i=g.$implicit,a=e.XpG(2).label;e.R7$(),e.BMQ("aria-label",a+" "+i.userName),e.R7$(4),e.JRh(i.userName)}}function ki(s,g){if(1&s&&(e.j41(0,"div",49)(1,"ul",50),e.DNE(2,Ln,6,2,"li",51),e.k0s()()),2&s){const i=e.XpG(),a=i.id,d=i.data;e.R7$(),e.FS9("id",a),e.R7$(),e.Y8G("ngForOf",d)}}function Ni(s,g){if(1&s&&(e.j41(0,"h2",45),e.EFF(1),e.j41(2,"span",46),e.EFF(3),e.k0s()(),e.j41(4,"div",47),e.DNE(5,tn,2,1,"p",30)(6,ki,3,2,"div",48),e.k0s()),2&s){const i=g.title,a=g.data;e.R7$(),e.SpI(" ",i," "),e.R7$(2),e.SpI("(",a.length,")"),e.R7$(2),e.Y8G("ngIf",a.length<1),e.R7$(),e.Y8G("ngIf",a.length>0)}}let dr=(()=>{class s extends vo.if{constructor(i,a,d,D,te){super(D,te,!1),this.userService=i,this.rolesService=a,this.translateService=d,this.onSubmitted=new e.bkB,this.isLoading=!1,this.isSaving=!1,this.hasSearched=!1,this.users=new Array,this.usersAdding=[],this.usersRemoving=[],this.usersInRole=[]}ngOnInit(){this.summaryText=this.translateService.instant("Roles.AddRemoveUsersFromRole").replace("{0}",this.role.name),this.roleManagerUsers.onShow.subscribe(()=>{this.reset()}),this.searchSource.pipe((0,is.h)(this.enterKeySource)).subscribe(()=>{this.isLoading=!0,this.userService.getLightweightUsersAndIfInRole(this.role.id,"active",this.searchTerm,1,50).subscribe(te=>{this.users=te.results;const Ae=[...this.users.filter(et=>et.isInRole),...this.usersInRole];this.usersInRole=_.Am(Ae,!1,et=>et.subject),this.isLoading=!1,this.hasSearched=!0},te=>{this.isLoading=!1})})}mapSearchTerm(i){return{searchTerm:i}}reset(){this.isLoading=!1,this.isSaving=!1,this.hasSearched=!1,this.users=[],this.usersAdding=[],this.usersRemoving=[],this.searchTerm="",this.searchTermStream.next("")}hide(){this.roleManagerUsers.hide()}show(){this.roleManagerUsers.show()}toggleIfInRole(i){if(i.isInRole){const a=_.SL(this.usersRemoving,d=>d.subject===i.subject);a>-1?(this.usersRemoving.splice(a,1),this.usersInRole.push(i)):(this.usersRemoving.push(i),this.usersInRole.splice(this.usersInRole.indexOf(i),1))}else{const a=_.SL(this.usersAdding,d=>d.subject===i.subject);a>-1?(this.usersAdding.splice(a,1),this.usersInRole.splice(this.usersInRole.indexOf(i),1)):(this.usersAdding.push(i),this.usersInRole.push(i))}}checkChecked(i){let a;return i.isInRole?(a=_.I6(this.usersRemoving,d=>d.subject===i.subject),void 0===a):(a=_.I6(this.usersAdding,d=>d.subject===i.subject),void 0!==a)}addOrRemoveUsers(){const i=[];this.isSaving=!0,i.push(...this.usersAdding.map(a=>({username:a.userName,subject:a.subject,addOrRemove:c.Add}))),i.push(...this.usersRemoving.map(a=>({username:a.userName,subject:a.subject,addOrRemove:c.Remove}))),this.rolesService.addAndRemoveUsers(this.role.id,i).subscribe(()=>{this.hide(),this.onSubmitted.emit(),this.toastr.success(this.translate.instant("Roles.Success"),this.translate.instant("Notifications.Success"))},a=>{this.isSaving=!1,401===a.status?this.toastr.warning(this.translate.instant("Roles.UpdateUnauthorized"),this.translate.instant("Notifications.Unauthorized")):this.toastr.warning(this.translate.instant("Roles.UpdateBadRequest"),this.translate.instant("Notifications.Failed"))})}ngOnDestroy(){this.hide()}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(Es.D),e.rXU(fs.P),e.rXU(Mn.c$),e.rXU(ni.tw),e.rXU(Mn.c$))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-role-manageusers"]],viewQuery:function(a,d){if(1&a&&e.GBs(A,7),2&a){let D;e.mGM(D=e.lsd())&&(d.roleManagerUsers=D.first)}},inputs:{role:"role"},outputs:{onSubmitted:"onSubmitted"},features:[e.Vt3],decls:28,vars:19,consts:[["roleManagerUsers","bs-modal"],["commonSummaryGroup",""],["bsModal","","id","roleManagerUsers","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click","disabled"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","scrollbars"],[3,"text",4,"ngIf"],[4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","manageUserSubmit","type","submit",1,"tw-btn-success",3,"click","disabled"],[1,"tw-btn-link","tw--mr-4",3,"click","disabled"],[3,"text"],[1,"cms"],[3,"innerHtml"],[1,"tw-mb-4","md:tw-w-1/2","tw-pr-3"],[1,"tw-text-sm","tw-font-semibold","tw-mb-3"],[1,"tw-relative"],["for","roleUserSearch",1,"far","fa-search","tw-flex","tw-items-center","tw-justify-center","tw-text-grey-700","tw-m-0","tw-text-xs","tw-absolute","tw-inset-y-0","tw-w-10"],["id","roleUserSearch","type","search","minlength","2","maxlength","25","required","","autocomplete","off",1,"tw-form-control","tw-pl-8",3,"ngModelChange","keyup","ngModel"],[1,"md:tw-flex","md:tw-min-h-64","md:tw-max-h-popups-short"],[1,"tw-mb-6","md:tw-mb-0","md:tw-pr-3","md:tw-w-1/2"],["class","tw-max-h-48 tw-overflow-x-none tw-overflow-y-auto scrollbars md:tw-max-h-full md:tw-h-full",4,"ngIf"],["class","tw-italic tw-text-xs tw-text-grey-700",4,"ngIf"],[1,"md:tw-pl-3","md:tw-w-1/2"],[1,"tw-pb-3","md:tw-flex","md:tw-flex-col","md:tw-max-h-1/2"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"tw-pt-3","md:tw-flex","md:tw-flex-col","md:tw-max-h-1/2"],[1,"tw-max-h-48","tw-overflow-x-none","tw-overflow-y-auto","scrollbars","md:tw-max-h-full","md:tw-h-full"],["id","usersInRoleTable"],["class","tw-border-t-2 tw-border-grey-100 first:tw-border-t-0",4,"ngFor","ngForOf"],[1,"tw-border-t-2","tw-border-grey-100","first:tw-border-t-0"],[1,"tw-flex","tw-items-start","tw-bg-white","tw-normal-case","tw-text-sm","tw-m-0","tw-px-4","tw-py-3","tw-cursor-pointer"],["type","checkbox",1,"tw-shrink-0","tw-block","tw-mt-1","tw-mr-2",3,"change","checked"],[1,"tw-w-full","tw-truncate"],[1,"tw-block","tw-truncate"],[1,"tw-block","tw-text-xs","tw-text-grey-600","tw-mt-1","tw-truncate"],[1,"tw-italic","tw-text-xs","tw-text-grey-700"],[1,"tw-text-sm","tw-font-semibold","tw-mb-2"],[1,"tw-text-xs","tw-text-grey-700"],[1,"tw-overflow-x-none","tw-overflow-y-auto","scrollbars"],["class","tw--mt-2 tw--ml-2",4,"ngIf"],[1,"tw--mt-2","tw--ml-2"],[1,"tw-flex","tw-flex-wrap","tw-items-center",3,"id"],["class","tw-pl-2 tw-pt-2",4,"ngFor","ngForOf"],[1,"tw-pl-2","tw-pt-2"],[1,"tw-pill","hover:tw-bg-red-500","group","hover:tw-text-white",3,"click"],[1,"tw-flex","tw-items-center","tw-text-left","tw-truncate"],["aria-hidden","true",1,"fas","fa-times","tw-text-red-500","tw-mr-2","tw-shrink-0","group-hover:tw-text-white"],["aria-hidden","true",1,"tw-block","tw-truncate"]],template:function(a,d){if(1&a){const D=e.RV6();e.j41(0,"div",2,0)(2,"div",3)(3,"div",4)(4,"div",5)(5,"h5",6),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"button",7),e.bIt("click",function(){return e.eBV(D),e.Njj(d.hide())}),e.nrm(9,"span",8),e.j41(10,"span",9),e.EFF(11),e.nI1(12,"translate"),e.k0s()()(),e.j41(13,"div",10),e.DNE(14,Ge,2,3,"app-simple-loader",11)(15,ln,30,38,"div",12)(16,Ni,7,4,"ng-template",null,1,e.C5r),e.k0s(),e.nrm(18,"div",13),e.j41(19,"div",14)(20,"div",15)(21,"div",16)(22,"button",17),e.bIt("click",function(){return e.eBV(D),e.Njj(d.addOrRemoveUsers())}),e.EFF(23),e.nI1(24,"translate"),e.k0s()(),e.j41(25,"button",18),e.bIt("click",function(){return e.eBV(D),e.Njj(d.hide())}),e.EFF(26),e.nI1(27,"translate"),e.k0s()()()()()()}2&a&&(e.Y8G("config",e.lJ4(18,W)),e.R7$(6),e.JRh(e.bMT(7,10,"Roles.RoleUserManagement")),e.R7$(2),e.Y8G("disabled",d.isSaving),e.R7$(3),e.JRh(e.bMT(12,12,"Common.Close")),e.R7$(3),e.Y8G("ngIf",d.isSaving),e.R7$(),e.Y8G("ngIf",!d.isSaving),e.R7$(7),e.Y8G("disabled",d.isSaving||d.usersAdding.length<1&&d.usersRemoving.length<1),e.R7$(),e.SpI(" ",e.bMT(24,14,"Common.Save")," "),e.R7$(2),e.Y8G("disabled",d.isSaving),e.R7$(),e.JRh(e.bMT(27,16,"Common.Close")))},dependencies:[Cn.Sq,Cn.bT,Cn.T3,p.me,p.BC,p.YS,p.xh,p.tU,p.vS,kt.hZ,xi.d,Mn.D9],encapsulation:2})}}return s})();function Ks(s,g){if(1&s){const i=e.RV6();e.qex(0,20),e.j41(1,"div",21)(2,"label",22),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"select",23),e.mxI("ngModelChange",function(d){e.eBV(i);const D=e.XpG(2);return e.DH7(D.pageSize,d)||(D.pageSize=d),e.Njj(d)}),e.bIt("change",function(){e.eBV(i);const d=e.XpG(2);return e.Njj(d.setPageLength(+d.pageSize))}),e.j41(6,"option",24),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"option",25),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"option",26),e.EFF(13),e.nI1(14,"translate"),e.k0s()()(),e.bVm()}if(2&s){const i=e.XpG(2);e.R7$(3),e.Lme("",i.pageSize," ",e.bMT(4,6,"Nav.PerPage"),""),e.R7$(2),e.R50("ngModel",i.pageSize),e.R7$(2),e.SpI("25 ",e.bMT(8,8,"Nav.PerPage"),""),e.R7$(3),e.SpI("50 ",e.bMT(11,10,"Nav.PerPage"),""),e.R7$(3),e.SpI("100 ",e.bMT(14,12,"Nav.PerPage"),"")}}function Ns(s,g){1&s&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Roles.ManageUsers")," "))}function Na(s,g){1&s&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Roles.AddUsers")," "))}function Wl(s,g){if(1&s){const i=e.RV6();e.j41(0,"app-action-bar"),e.DNE(1,Ks,15,14,"ng-container",17),e.qex(2,18),e.j41(3,"button",19),e.bIt("click",function(){e.eBV(i),e.XpG();const d=e.sdS(11);return e.Njj(d.show())}),e.DNE(4,Ns,3,3,"span",9)(5,Na,3,3,"span",9),e.k0s(),e.bVm(),e.k0s()}if(2&s){const i=e.XpG();e.R7$(),e.Y8G("ngIf",(null==i.pagedResult?null:i.pagedResult.results.length)>0),e.R7$(3),e.Y8G("ngIf",i.users&&i.users.length>0),e.R7$(),e.Y8G("ngIf",i.users&&i.users.length<1)}}function eo(s,g){1&s&&e.nrm(0,"app-simple-loader")}function Kl(s,g){1&s&&(e.j41(0,"div",27)(1,"div"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&s&&(e.R7$(2),e.JRh(e.bMT(3,1,"Users.NoUsersFound")))}function Hf(s,g){if(1&s){const i=e.RV6();e.j41(0,"tr")(1,"td",34),e.bIt("click",function(){const d=e.eBV(i).$implicit,D=e.XpG(2);return e.Njj(D.goToUser(d))}),e.j41(2,"b",35),e.EFF(3),e.k0s()(),e.j41(4,"td",36),e.bIt("click",function(){const d=e.eBV(i).$implicit,D=e.XpG(2);return e.Njj(D.goToUser(d))}),e.EFF(5),e.k0s(),e.j41(6,"td",36),e.bIt("click",function(){const d=e.eBV(i).$implicit,D=e.XpG(2);return e.Njj(D.goToUser(d))}),e.EFF(7),e.k0s(),e.j41(8,"td",37),e.bIt("click",function(){const d=e.eBV(i).$implicit,D=e.XpG(2);return e.Njj(D.removeUser(d))}),e.j41(9,"button",38),e.bIt("click",function(){const d=e.eBV(i).$implicit,D=e.XpG(2),te=e.sdS(17);return D.removeUser(d),e.Njj(te.show())}),e.nrm(10,"span",39),e.j41(11,"span",7),e.EFF(12),e.nI1(13,"translate"),e.k0s()()()()}if(2&s){const i=g.$implicit;e.R7$(3),e.JRh(i.username),e.R7$(2),e.SpI(" ",i.firstName," "),e.R7$(2),e.SpI(" ",i.lastName," "),e.R7$(5),e.JRh(e.bMT(13,4,"Common.Remove.Title"))}}function qa(s,g){if(1&s&&(e.j41(0,"table",28)(1,"thead")(2,"tr")(3,"th",29),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"th",30),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"th",30),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"th",31)(13,"span",7),e.EFF(14),e.nI1(15,"translate"),e.k0s()()()(),e.j41(16,"tbody",32),e.DNE(17,Hf,14,6,"tr",33),e.k0s()()),2&s){const i=e.XpG();e.R7$(4),e.JRh(e.bMT(5,5,"Users.Username")),e.R7$(3),e.JRh(e.bMT(8,7,"Users.FirstName")),e.R7$(3),e.JRh(e.bMT(11,9,"Users.LastName")),e.R7$(4),e.JRh(e.bMT(15,11,"Common.Actions")),e.R7$(3),e.Y8G("ngForOf",i.users)}}function Jr(s,g){if(1&s){const i=e.RV6();e.j41(0,"app-pager",40),e.bIt("onGoToPage",function(d){e.eBV(i);const D=e.XpG();return e.Njj(D.goToPage(d))}),e.k0s()}if(2&s){const i=e.XpG();e.Y8G("totalResults",null==i.pagedResult?null:i.pagedResult.totalCount)("currentPage",i.page)("lastPage",null==i.pagedResult?null:i.pagedResult.pageCount)}}let Oa=(()=>{class s extends vo.if{constructor(i,a,d,D,te,Ae,et){super(te,a,!0),this.rolesService=i,this.localize=d,this.router=D,this.errorService=Ae,this.userService=et,this.pageStream=new Lr.B,this.pageSizeStream=new Lr.B,this.userToRemove=null,this.removeSummaryTranslation="",this.removeSummary="",this.page=1,this.pageSize=25,this.removeSummaryTranslation=a.instant("Roles.AreYouSureRemove")}ngOnInit(){this.isLoading=!0,this.rolesService.getCachedRole().pipe((0,on.$)()).subscribe(i=>{this.role=i,this.removeSummaryTranslation=this.removeSummaryTranslation.replace("{1}",this.role.name);const a=this.pageStream.pipe((0,Di.T)(te=>(this.page=te,{searchTerm:this.searchTerm,page:te,pageSize:this.pageSize}))),d=this.pageSizeStream.pipe((0,Di.T)(te=>(this.pageSize=te,{searchTerm:this.searchTerm,page:this.page,pageSize:te})));a.pipe((0,is.h)(d),(0,is.h)(this.searchSource),(0,is.h)(this.enterKeySource),(0,vl.Z)({searchTerm:this.searchTerm,page:this.page,pageSize:this.pageSize}),(0,ga.Z)(te=>(this.isLoading=!0,this.rolesService.getUsersInRole(i.id,te.page,te.pageSize,te.searchTerm).pipe((0,va.c)(200))))).subscribe(te=>{this.pagedResult=te,this.users=te.results,this.isLoading=!1},te=>{this.errorService.handleError(te),this.isLoading=!1})})}mapSearchTerm(i){return this.searchTerm=i,{searchTerm:this.searchTerm,page:1,pageSize:this.pageSize}}onSubmit(i){this.pageStream.next(1)}goToPage(i){this.pageStream.next(i)}setPageLength(i){this.page=1,this.pageSizeStream.next(i)}goToUser(i){const a=[this.localize.translateRoute("/users"),i.subject,"roles"];this.router.navigate(a)}removeUser(i){this.removeSummary=this.removeSummaryTranslation.replace("{0}",i.username),this.userToRemove=i}delete(){this.isLoading=!0,this.userService.deleteUserRoles(this.userToRemove.subject,[this.role.name]).subscribe(i=>{let a=this.users&&1===this.users.length&&this.page>1?this.page-1:this.page;a<1&&(a=1),this.goToPage(a),this.toastr.success(this.translate.instant("Roles.Success"),this.translate.instant("Notifications.Success")),this.userToRemove=null},i=>{this.isLoading=!1,401===i.status&&this.toastr.warning(this.translate.instant("Roles.UnassignUnauthorized"),this.translate.instant("Notifications.Unauthorized")),this.userToRemove=null})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(fs.P),e.rXU(Mn.c$),e.rXU($i.QG),e.rXU(St.Ix),e.rXU(ni.tw),e.rXU(ee.I),e.rXU(Es.D))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-role-users"]],features:[e.Vt3],decls:20,vars:17,consts:[["manageUsersModal",""],["removeUserModal",""],[1,"tw-container","tw-mx-auto"],["id","searchContainer",1,"tw-mb-2"],[1,"tw-flex","tw-bg-white","tw-border","tw-border-grey-300","tw-opacity-75","tw-cursor-text","tw-rounded","focus-within:tw-opacity-100","focus-within:tw-border-blue-400","tw-transition-all","tw-ease-in-out"],["for","searchTerm",1,"tw-flex","tw-items-center","tw-text-grey-500","tw-m-0","tw-ml-3"],["aria-hidden","true",1,"far","fa-search","tw-text-sm"],[1,"sr-only"],["id","searchRole","type","search","minlength","2","maxlength","25","required","","autocomplete","off",1,"tw-bg-transparent","tw-border-0","tw-text-base","tw-leading-tight","tw-px-2","tw-py-2","tw-w-full","focus:tw-outline-none","tw-transition-all","tw-ease-in-out",3,"ngModelChange","keyup","ngModel"],[4,"ngIf"],["id","manageUsersModal",3,"onSubmitted","role"],["class","tw-alert","role","alert",4,"ngIf"],["id","roleUsersTable","class","datatable selectable hover",4,"ngIf"],[3,"totalResults","currentPage","lastPage","onGoToPage",4,"ngIf"],[3,"confirm","modalId","type","buttonType","title","okText","cancelText"],["body",""],[3,"innerHtml"],["left","",4,"ngIf"],["right",""],["id","manageUsersButton",1,"tw-btn-success",3,"click"],["left",""],[1,"tw-form-select","tw-w-auto"],["for","pageSizeToggle",1,"sr-only"],["id","pageSizeToggle",1,"tw-form-control","tw-form-control-small",3,"ngModelChange","change","ngModel"],["value","25"],["value","50"],["value","100"],["role","alert",1,"tw-alert"],["id","roleUsersTable",1,"datatable","selectable","hover"],[1,"sm:tw-w-1/3","md:tw-w-1/2"],[1,"tw-hidden","sm:tw-table-cell"],[1,"tw-w-1"],["id","usersInRoleTable"],[4,"ngFor","ngForOf"],[1,"tw-max-w-0","tw-truncate",3,"click"],[1,"tw-text-blue-500"],[1,"tw-hidden","tw-max-w-0","tw-truncate","sm:tw-table-cell",3,"click"],[3,"click"],[1,"tw-btn-link","tw-btn-small","tw-text-red-500",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[3,"onGoToPage","totalResults","currentPage","lastPage"]],template:function(a,d){if(1&a){const D=e.RV6();e.j41(0,"div",2)(1,"div",3)(2,"div",4)(3,"label",5),e.nrm(4,"span",6),e.j41(5,"span",7),e.EFF(6),e.nI1(7,"translate"),e.k0s()(),e.j41(8,"input",8),e.mxI("ngModelChange",function(Ae){return e.eBV(D),e.DH7(d.searchTerm,Ae)||(d.searchTerm=Ae),e.Njj(Ae)}),e.bIt("keyup",function(Ae){return e.eBV(D),e.Njj(d.search(Ae))}),e.k0s()()(),e.DNE(9,Wl,6,3,"app-action-bar",9),e.j41(10,"app-role-manageusers",10,0),e.bIt("onSubmitted",function(Ae){return e.eBV(D),e.Njj(d.onSubmit(Ae))}),e.k0s(),e.DNE(12,eo,1,0,"app-simple-loader",9)(13,Kl,4,3,"div",11)(14,qa,18,13,"table",12)(15,Jr,1,3,"app-pager",13),e.k0s(),e.j41(16,"app-confirmation-modal",14,1),e.bIt("confirm",function(){return e.eBV(D),e.Njj(d.delete())}),e.qex(18,15),e.nrm(19,"p",16),e.bVm(),e.k0s()}2&a&&(e.R7$(6),e.JRh(e.bMT(7,15,"Common.Search")),e.R7$(2),e.R50("ngModel",d.searchTerm),e.R7$(),e.Y8G("ngIf",!d.isLoading),e.R7$(),e.Y8G("role",d.role),e.R7$(2),e.Y8G("ngIf",d.isLoading),e.R7$(),e.Y8G("ngIf",d.users&&0==d.users.length&&!d.isLoading),e.R7$(),e.Y8G("ngIf",d.users&&d.users.length>0&&!d.isLoading),e.R7$(),e.Y8G("ngIf",(null==d.pagedResult?null:d.pagedResult.results.length)>0&&!d.isLoading),e.R7$(),e.Y8G("modalId","removeUserModal")("type","danger")("buttonType","danger")("title","Common.Remove.Confirm")("okText","Common.Remove.Title")("cancelText","Common.Remove.No"),e.R7$(3),e.Y8G("innerHtml",d.removeSummary,e.npT))},dependencies:[Cn.Sq,Cn.bT,p.xH,p.y7,p.me,p.wz,p.BC,p.YS,p.xh,p.tU,p.vS,yl.B,Hl.n,xi.d,Le.B,dr,Mn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();var _l=h(152),bl=h(3294),Cl=h(8412),aa=h(2510);class zl{constructor(){this.selected=!1}}const ku=["addRoleModal"],wl=()=>({animated:!1,backdrop:"static"});let Nu=(()=>{class s{constructor(i,a,d,D,te,Ae){this.rolesService=i,this.errorService=a,this.translate=d,this.router=D,this.fb=te,this.toastr=Ae,this.added=new e.bkB}keydown(i){"Enter"===i.key&&this.addRoleForm.valid&&this.addRole()}ngOnInit(){this.addRoleForm=this.fb.group({name:["",p.k0.required],description:["",p.k0.maxLength(1e3)]})}addAnotherRole(){this.addAnother=!0,this.addRole()}addRole(){let i=new zl;i=this.addRoleForm.value,i.name=i.name.trim(),this.rolesService.addRole(i).subscribe(a=>{this.addAnother||this.hide(),this.addAnother=!1,this.addRoleForm.reset(),this.toastr.success(this.translate.instant("Roles.Role")+" "+i.name+" "+this.translate.instant("Common.Created"),this.translate.instant("Roles.RoleCreated")),this.added.emit(!0)},a=>{this.errorService.handleError(a)})}hide(){this.addRoleModal.hide()}show(){this.addRoleModal.show(),this.addRoleForm.reset()}ngOnDestroy(){this.hide()}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(fs.P),e.rXU(ee.I),e.rXU(Mn.c$),e.rXU(St.Ix),e.rXU(p.ze),e.rXU(ni.tw))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-add-role"]],viewQuery:function(a,d){if(1&a&&e.GBs(ku,7),2&a){let D;e.mGM(D=e.lsd())&&(d.addRoleModal=D.first)}},hostBindings:function(a,d){1&a&&e.bIt("keydown",function(te){return d.keydown(te)},!1,e.EBC)},outputs:{added:"added"},decls:33,vars:26,consts:[["addRoleModal","bs-modal"],["bsModal","","id","addRoleModal","tabindex","-1","role","dialog","aria-hidden","true",1,"modal",3,"config"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","scrollbars"],[3,"formGroup"],[3,"id","label","help"],["type","text","id","addRoleName","formControlName","name",1,"tw-form-control"],[3,"id","label","isLast"],["rows","2","id","addRoleDescription","formControlName","description",1,"tw-form-control"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["type","submit","id","addRoleSubmit",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],[1,"tw-hidden","xs:tw-inline"],["type","button","id","addRoleReSubmit",1,"tw-btn",3,"click","disabled"],[1,"tw-btn-link","tw--mr-4",3,"click"]],template:function(a,d){if(1&a){const D=e.RV6();e.j41(0,"div",1,0)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"button",6),e.bIt("click",function(){return e.eBV(D),e.Njj(d.hide())}),e.nrm(9,"span",7),e.j41(10,"span",8),e.EFF(11),e.nI1(12,"translate"),e.k0s()()(),e.j41(13,"div",9)(14,"form",10)(15,"app-form-row",11),e.nrm(16,"input",12),e.k0s(),e.j41(17,"app-form-row",13),e.nrm(18,"textarea",14),e.k0s()()(),e.nrm(19,"div",15),e.j41(20,"div",16)(21,"div",17)(22,"div",18)(23,"button",19),e.bIt("click",function(){return e.eBV(D),d.addRole(),e.Njj(d.hide())}),e.EFF(24),e.nI1(25,"translate"),e.k0s(),e.j41(26,"span",20)(27,"button",21),e.bIt("click",function(){return e.eBV(D),e.Njj(d.addAnotherRole())}),e.EFF(28),e.nI1(29,"translate"),e.k0s()()(),e.j41(30,"button",22),e.bIt("click",function(){return e.eBV(D),e.Njj(d.hide())}),e.EFF(31),e.nI1(32,"translate"),e.k0s()()()()()()}2&a&&(e.Y8G("config",e.lJ4(25,wl)),e.R7$(6),e.JRh(e.bMT(7,15,"Roles.NewRole")),e.R7$(5),e.JRh(e.bMT(12,17,"Common.Close")),e.R7$(3),e.Y8G("formGroup",d.addRoleForm),e.R7$(),e.Y8G("id","addRoleName")("label","Common.Name")("help","Roles.TrimWhitespaceHelp"),e.R7$(2),e.Y8G("id","addRoleDescription")("label","Common.Description")("isLast",!0),e.R7$(6),e.Y8G("disabled",!d.addRoleForm.valid),e.R7$(),e.JRh(e.bMT(25,19,"Common.Save")),e.R7$(3),e.Y8G("disabled",!d.addRoleForm.valid),e.R7$(),e.JRh(e.bMT(29,21,"Common.SaveAndAdd")),e.R7$(3),e.JRh(e.bMT(32,23,"Common.Cancel")))},dependencies:[p.qT,p.me,p.BC,p.cb,p.j4,p.JD,kt.hZ,de.Y,Mn.D9],encapsulation:2})}}return s})();const Xd=(s,g)=>({"fad fa-pencil":s,"fas fa-eye":g});function Sr(s,g){if(1&s){const i=e.RV6();e.j41(0,"app-action-bar"),e.qex(1,9),e.j41(2,"button",10),e.bIt("click",function(){e.eBV(i),e.XpG();const d=e.sdS(3);return e.Njj(d.show())}),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.bVm(),e.k0s()}2&s&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"Roles.AddRole")," "))}function Wf(s,g){1&s&&e.nrm(0,"app-simple-loader")}function Ou(s,g){1&s&&(e.j41(0,"div",11)(1,"div"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&s&&(e.R7$(2),e.JRh(e.bMT(3,1,"Roles.NoRolesFound")))}function zo(s,g){1&s&&e.nrm(0,"span",23)}function Zy(s,g){1&s&&e.nrm(0,"span",24)}function Pu(s,g){1&s&&(e.j41(0,"span",36),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Policy")," "))}function Uc(s,g){1&s&&(e.j41(0,"span",37),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Reserved")," "))}function ya(s,g){if(1&s){const i=e.RV6();e.j41(0,"tr",25)(1,"td",26),e.bIt("click",function(){const d=e.eBV(i).$implicit,D=e.XpG(2);return e.Njj(D.viewOrEditRole(d))}),e.j41(2,"b",27),e.EFF(3),e.k0s()(),e.j41(4,"td",28),e.bIt("click",function(){const d=e.eBV(i).$implicit,D=e.XpG(2);return e.Njj(D.viewOrEditRole(d))}),e.EFF(5),e.k0s(),e.j41(6,"td",29),e.bIt("click",function(){const d=e.eBV(i).$implicit,D=e.XpG(2);return e.Njj(D.viewOrEditRole(d))}),e.DNE(7,Pu,3,3,"span",30),e.k0s(),e.j41(8,"td",31),e.bIt("click",function(){const d=e.eBV(i).$implicit,D=e.XpG(2);return e.Njj(D.viewOrEditRole(d))}),e.DNE(9,Uc,3,3,"span",32),e.k0s(),e.j41(10,"td",33),e.bIt("click",function(){const d=e.eBV(i).$implicit,D=e.XpG(2);return e.Njj(D.viewOrEditRole(d))}),e.j41(11,"button",34),e.bIt("click",function(){const d=e.eBV(i).$implicit,D=e.XpG(2);return e.Njj(D.viewOrEditRole(d))}),e.nrm(12,"span",35),e.j41(13,"span",19),e.EFF(14),e.nI1(15,"translate"),e.k0s()()()()}if(2&s){const i=g.$implicit,a=e.XpG(2);e.R7$(3),e.JRh(i.name),e.R7$(2),e.SpI(" ",i.description," "),e.R7$(2),e.Y8G("ngIf",a.isPolicyRole(i)),e.R7$(2),e.Y8G("ngIf",i.reserved),e.R7$(3),e.Y8G("ngClass",e.l_i(8,Xd,!a.isUserManagerReadOnly,a.isUserManagerReadOnly)),e.R7$(2),e.JRh(e.bMT(15,6,"Common.Edit"))}}function qy(s,g){if(1&s){const i=e.RV6();e.j41(0,"table",12)(1,"thead")(2,"tr")(3,"th",13),e.bIt("click",function(){e.eBV(i);const d=e.XpG();return e.Njj(d.sort())}),e.j41(4,"span",14),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.DNE(7,zo,1,0,"span",15)(8,Zy,1,0,"span",16),e.k0s(),e.j41(9,"th",17),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"th",18)(13,"span",19),e.EFF(14),e.nI1(15,"translate"),e.k0s()(),e.j41(16,"th",20)(17,"span",19),e.EFF(18),e.nI1(19,"translate"),e.k0s()(),e.j41(20,"th",21)(21,"span",19),e.EFF(22),e.nI1(23,"translate"),e.k0s()()()(),e.j41(24,"tbody"),e.DNE(25,ya,16,11,"tr",22),e.k0s()()}if(2&s){const i=e.XpG();e.R7$(5),e.JRh(e.bMT(6,8,"Common.Name")),e.R7$(2),e.Y8G("ngIf",i.sortIcon),e.R7$(),e.Y8G("ngIf",!i.sortIcon),e.R7$(2),e.SpI(" ",e.bMT(11,10,"Common.Description")," "),e.R7$(4),e.JRh(e.bMT(15,12,"Common.Policy")),e.R7$(4),e.JRh(e.bMT(19,14,"Common.Reserved")),e.R7$(4),e.JRh(e.bMT(23,16,"Common.Actions")),e.R7$(3),e.Y8G("ngForOf",i.roles)}}function Kf(s,g){if(1&s&&e.nrm(0,"app-pager",38),2&s){const i=e.XpG();e.Y8G("totalResults",null==i.roles?null:i.roles.length)}}let e_=(()=>{class s{constructor(i,a,d,D,te,Ae,et){this.rolesService=i,this.securityService=a,this.translate=d,this.router=D,this.titleService=te,this.localize=Ae,this.errorService=et,this.roleListLength=0,this.sortCriteria="-name",this.term="",this.searchTermStream=new Lr.B,this.sortStream=new Lr.B}ngOnInit(){const i=this.translate.instant("Nav.Roles")+" - "+Vt.$9.SITE_TITLE;this.titleService.setTitle(i),this.isLoading=!0;const a=this.sortStream.pipe((0,Di.T)(te=>({search:this.term,sort:te})));this.searchTermStream.pipe((0,_l.B)(300),(0,bl.F)(),(0,Di.T)(te=>(this.term=te,{search:te,sort:this.sortCriteria}))).pipe((0,Cl.X)(a),(0,vl.Z)({search:this.term,sort:this.sortCriteria}),(0,ga.Z)(te=>this.rolesService.getRoles(te.search,te.sort))).subscribe({next:te=>{this.roles=te,this.isLoading=!1},error:te=>{this.errorService.handleError(te),this.isLoading=!1}})}search(i){this.searchTermStream.next(i)}update(){this.sortStream.next(this.sortCriteria)}sort(){this.sortCriteria=this.sortCriteria.startsWith("-")?"name":"-name",this.sortStream.next(this.sortCriteria),this.sortIcon=!this.sortIcon}viewOrEditRole(i){this.isUserManagerReadOnly?this.viewRole(i):this.editRole(i)}editRole(i){const a=[this.localize.translateRoute("/roles"),i.id];this.router.navigate(a)}viewRole(i){const a=[this.localize.translateRoute("/roles/view"),i.id];this.router.navigate(a)}allowedToEditRole(i){return!this.securityService.allView&&this.isPolicyRole(i)}isPolicyRole(i){const a=this.securityService.policyClaims;for(let d=0;d<a.length;d++)if("role"===a[d].type&&a[d].value===i.name)return!0;return!1}get isUserManagerReadOnly(){return(0,Fi.zG)(this.securityService.userPermissions)}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(fs.P),e.rXU(ui.i),e.rXU(Mn.c$),e.rXU(St.Ix),e.rXU(n.hE),e.rXU($i.QG),e.rXU(ee.I))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["ng-component"]],decls:12,vars:11,consts:[["addRoleModal",""],[3,"title"],[3,"added"],["id","rolesList",1,"tw-container","mx-auto"],[3,"onSearch","placeholder"],[4,"ngIf"],["class","tw-alert","role","alert",4,"ngIf"],["id","rolesTable","class","datatable selectable hover",4,"ngIf"],["hidePager","true",3,"totalResults",4,"ngIf"],["right",""],[1,"tw-btn-success",3,"click"],["role","alert",1,"tw-alert"],["id","rolesTable",1,"datatable","selectable","hover"],["id","sortName",1,"tw-max-w-0","tw-cursor-pointer","lg:tw-w-1/3",3,"click"],[1,"tw-mr-2"],["class","fas fa-caret-down","aria-hidden","true",4,"ngIf"],["class","fas fa-caret-up","aria-hidden","true",4,"ngIf"],[1,"tw-hidden","lg:tw-table-cell"],[1,"tw-w-1","tw-hidden","sm:tw-table-cell"],[1,"sr-only"],[1,"tw-w-1","tw-hidden","md:tw-table-cell"],[1,"tw-w-1"],["class","group",4,"ngFor","ngForOf"],["aria-hidden","true",1,"fas","fa-caret-down"],["aria-hidden","true",1,"fas","fa-caret-up"],[1,"group"],[1,"tw-max-w-0","tw-truncate",3,"click"],[1,"tw-text-blue-500"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell",3,"click"],[1,"tw-hidden","sm:tw-table-cell",3,"click"],["class","tw-pill-warning",4,"ngIf"],[1,"tw-hidden","md:tw-table-cell",3,"click"],["class","tw-pill",4,"ngIf"],[3,"click"],[1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click"],["id","viewOrEditIcon","aria-hidden","true",3,"ngClass"],[1,"tw-pill-warning"],[1,"tw-pill"],["hidePager","true",3,"totalResults"]],template:function(a,d){if(1&a){const D=e.RV6();e.nrm(0,"app-title-bar",1),e.nI1(1,"translate"),e.j41(2,"app-add-role",2,0),e.bIt("added",function(){return e.eBV(D),e.Njj(d.update())}),e.k0s(),e.j41(4,"div",3)(5,"app-search",4),e.nI1(6,"translate"),e.bIt("onSearch",function(Ae){return e.eBV(D),e.Njj(d.search(Ae))}),e.k0s(),e.DNE(7,Sr,5,3,"app-action-bar",5)(8,Wf,1,0,"app-simple-loader",5)(9,Ou,4,3,"div",6)(10,qy,26,18,"table",7)(11,Kf,1,1,"app-pager",8),e.k0s()}2&a&&(e.Y8G("title",e.bMT(1,7,"Nav.Roles")),e.R7$(5),e.Y8G("placeholder",e.bMT(6,9,"Roles.SearchPlaceholder")),e.R7$(2),e.Y8G("ngIf",!d.isLoading&&!d.isUserManagerReadOnly),e.R7$(),e.Y8G("ngIf",d.isLoading),e.R7$(),e.Y8G("ngIf",(!d.roles||d.roles.length<=0)&&!d.isLoading),e.R7$(),e.Y8G("ngIf",d.roles&&d.roles.length>0&&!d.isLoading),e.R7$(),e.Y8G("ngIf",d.roles&&d.roles.length>0&&!d.isLoading))},dependencies:[Cn.YU,Cn.Sq,Cn.bT,rn.z,yl.B,Hl.n,aa.S,xi.d,Nu,Mn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();const El=(s,g)=>({title:s,link:g}),Fg=s=>[s];function t_(s,g){1&s&&(e.j41(0,"span",8),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Policy")," "))}function Bg(s,g){1&s&&(e.j41(0,"span",9),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Reserved")," "))}function zf(s,g){if(1&s&&(e.qex(0,5),e.DNE(1,t_,3,3,"span",6)(2,Bg,3,3,"span",7),e.bVm()),2&s){const i=e.XpG();e.R7$(),e.Y8G("ngIf",i.isPolicyRole()),e.R7$(),e.Y8G("ngIf",i.role.reserved)}}let Yf=(()=>{class s{constructor(i,a,d,D){this.activatedRoute=i,this.errorService=a,this.router=d,this.securityService=D}ngOnInit(){this.roleDataSubscription=this.activatedRoute.data.subscribe(i=>{this.role=i.role},i=>{this.errorService.handleError(i)})}ngOnDestroy(){this.roleDataSubscription.unsubscribe()}isPolicyRole(){const i=this.securityService.policyClaims;for(let a=0;a<i.length;a++)if("role"===i[a].type&&i[a].value===this.role.name)return!0;return!1}mobRoute(i){this.router.navigate([i],{relativeTo:this.activatedRoute})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(St.nX),e.rXU(ee.I),e.rXU(St.Ix),e.rXU(ui.i))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["ng-component"]],decls:10,vars:18,consts:[[3,"title","crumbs","hasTabs","isReadOnly"],["badge","",4,"ngIf"],["tabs",""],[3,"tabTitle","tabValue"],["id","viewRole"],["badge",""],["class","tw-pill-warning tw-mr-2",4,"ngIf"],["class","tw-pill tw-mr-2",4,"ngIf"],[1,"tw-pill-warning","tw-mr-2"],[1,"tw-pill","tw-mr-2"]],template:function(a,d){1&a&&(e.j41(0,"app-title-bar",0),e.nI1(1,"translate"),e.nI1(2,"localize"),e.DNE(3,zf,3,2,"ng-container",1),e.qex(4,2),e.j41(5,"app-custom-tabs"),e.nrm(6,"app-custom-tab",3)(7,"app-custom-tab",3),e.k0s(),e.bVm(),e.k0s(),e.j41(8,"div",4),e.nrm(9,"router-outlet"),e.k0s()),2&a&&(e.Y8G("title",d.role.name)("crumbs",e.eq3(16,Fg,e.l_i(13,El,e.bMT(1,9,"Nav.Roles"),e.bMT(2,11,"/roles"))))("hasTabs",!0)("isReadOnly",!0),e.R7$(3),e.Y8G("ngIf",d.isPolicyRole()||d.role.reserved),e.R7$(3),e.Y8G("tabTitle","Nav.Details")("tabValue","details"),e.R7$(),e.Y8G("tabTitle","Nav.Users")("tabValue","users"))},dependencies:[Cn.bT,St.n3,rn.z,an.G,_n.v,Mn.D9,$i.tl],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();var js=h(9196);const Vc=()=>["active"];function Xf(s,g){1&s&&(e.j41(0,"option",15),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Nav.AccessPolicy")))}function ac(s,g){1&s&&(e.j41(0,"option",16),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Nav.Keys")))}function Li(s,g){1&s&&(e.j41(0,"li",17)(1,"button",18),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&s&&(e.R7$(),e.Y8G("routerLinkActive",e.lJ4(4,Vc)),e.R7$(),e.JRh(e.bMT(3,2,"Nav.AccessPolicy")))}function Lg(s,g){1&s&&(e.j41(0,"li",19)(1,"button",20),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&s&&(e.R7$(),e.Y8G("routerLinkActive",e.lJ4(4,Vc)),e.R7$(),e.JRh(e.bMT(3,2,"Nav.Keys")))}let AS=(()=>{class s{constructor(i,a,d){this.titleService=i,this.translate=a,this.configService=d,this.targetIdentityServer4=!1,this.hideAccessPolicy=!1}ngOnInit(){this.configService.getConfig().pipe((0,on.$)()).subscribe(i=>{this.targetIdentityServer4=i.targetIdentityServer4,this.hideAccessPolicy=i.featureFlagOptions.enforcerAuthorizationEnabled}),this.titleService.setTitle(this.translate.instant("Settings.Title")+` - ${Vt.$9.SITE_TITLE}`)}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(n.hE),e.rXU(Mn.c$),e.rXU(js.w))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-settings"]],decls:26,vars:25,consts:[[3,"title","hasTabs"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu","disabled","",1,"tw-form-control"],["value","details"],["value","Access Policy",4,"ngIf"],["value","Keys",4,"ngIf"],["value","Webhooks"],["role","tablist",1,"tabs","tw-hidden","md:tw-flex"],["class","tabs__item","id","acessPolicyTab",4,"ngIf"],[1,"tabs__item"],["routerLink","webhooks","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["class","tabs__item","id","keysTab",4,"ngIf"],["value","Access Policy"],["value","Keys"],["id","acessPolicyTab",1,"tabs__item"],["routerLink","accesspolicy","role","tab","aria-selected","false",1,"tabs__link","active",3,"routerLinkActive"],["id","keysTab",1,"tabs__item"],["routerLink","keys","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"]],template:function(a,d){1&a&&(e.j41(0,"app-title-bar",0),e.nI1(1,"translate"),e.qex(2,1),e.j41(3,"div",2)(4,"label",3),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"div",4)(8,"select",5)(9,"option",6),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.DNE(12,Xf,3,3,"option",7)(13,ac,3,3,"option",8),e.j41(14,"option",9),e.EFF(15),e.nI1(16,"translate"),e.k0s()()()(),e.j41(17,"ul",10),e.nI1(18,"translate"),e.DNE(19,Li,4,5,"li",11),e.j41(20,"li",12)(21,"button",13),e.EFF(22),e.nI1(23,"translate"),e.k0s()(),e.DNE(24,Lg,4,5,"li",14),e.k0s(),e.bVm(),e.k0s(),e.nrm(25,"router-outlet")),2&a&&(e.Y8G("title",e.bMT(1,12,"Nav.Settings"))("hasTabs",!0),e.R7$(5),e.JRh(e.bMT(6,14,"Nav.SubMenu")),e.R7$(5),e.SpI("",e.bMT(11,16,"Nav.SubMenu"),"..."),e.R7$(2),e.Y8G("ngIf",!d.hideAccessPolicy),e.R7$(),e.Y8G("ngIf",!d.targetIdentityServer4),e.R7$(2),e.JRh(e.bMT(16,18,"Nav.Webhooks")),e.R7$(2),e.BMQ("aria-label",e.bMT(18,20,"Nav.SubMenu")),e.R7$(2),e.Y8G("ngIf",!d.hideAccessPolicy),e.R7$(2),e.Y8G("routerLinkActive",e.lJ4(24,Vc)),e.R7$(),e.JRh(e.bMT(23,22,"Nav.Webhooks")),e.R7$(2),e.Y8G("ngIf",!d.targetIdentityServer4))},dependencies:[St.n3,St.Wk,St.wQ,Cn.bT,p.xH,p.y7,rn.z,Mn.D9],encapsulation:2})}}return s})();var n_=h(5517);let i_=(()=>{class s{constructor(i,a,d){this.router=i,this.config=a,this.localizeRouter=d}canActivate(i,a){return this.config.getConfig().pipe((0,on.$)(),(0,Di.T)(d=>{if("accesspolicy"!=i.firstChild.routeConfig.path||!d.featureFlagOptions.enforcerAuthorizationEnabled)return!0;{const D=this.localizeRouter.translateRoute("/settings/webhooks");this.router.navigate([D])}}))}static{this.\u0275fac=function(a){return new(a||s)(e.KVO(St.Ix),e.KVO(js.w),e.KVO($i.QG))}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();var Fu=h(6199);const lc=[{path:"",component:pa},{path:"initial-admin-creation",component:Ut,canActivate:[wr.h],data:{permissions:[Jn.a[Jn.a.All]]}},{path:"home",component:lo,canActivate:[wr.h,Mr._]},{path:"settings",component:AS,loadChildren:()=>Promise.resolve().then(h.bind(h,2509)).then(s=>s.SettingsModule),canActivate:[wr.h,Mr._,i_],canDeactivate:[$o.M],data:{permissions:[Jn.a[Jn.a.All]]}},{path:"users",loadChildren:()=>Promise.resolve().then(h.bind(h,7101)).then(s=>s.UsersModule),canActivate:[wr.h,Mr._]},{path:"roles",component:e_,canActivate:[wr.h,Mr._],data:{permissions:[Jn.a[Jn.a.UserManager],Jn.a[Jn.a.UserManagerReadOnly],Jn.a[Jn.a.AllReadOnly],Jn.a[Jn.a.All]]}},{path:"roles/:Id",component:Rr,children:[{path:"",redirectTo:"details",pathMatch:"full"},{path:"details",component:Ts,canDeactivate:[$o.M]},{path:"users",component:Oa,canDeactivate:[$o.M]}],resolve:{role:Fu.v},canDeactivate:[$o.M],canActivate:[wr.h,Mr._],data:{permissions:[Jn.a[Jn.a.UserManager],Jn.a[Jn.a.All]]}},{path:"roles/view/:Id",component:Yf,loadChildren:()=>h.e(907).then(h.bind(h,5907)).then(s=>s.ViewRolesModule),resolve:{role:Fu.v},canActivate:[wr.h,Mr._],data:{permissions:[Jn.a[Jn.a.UserManager],Jn.a[Jn.a.UserManagerReadOnly],Jn.a[Jn.a.AllReadOnly],Jn.a[Jn.a.All]]}},{path:"claim-types",loadChildren:()=>Promise.resolve().then(h.bind(h,3730)).then(s=>s.ClaimTypesModule),canActivate:[wr.h,Mr._]},{path:"starter-mode",loadChildren:()=>Promise.resolve().then(h.bind(h,9624)).then(s=>s.StarterModeModule),canActivate:[wr.h,n_.H]},{path:"unauthorized",component:Ja},{path:"forbidden",component:$l},{path:"auth",component:za,data:{skipRouteLocalization:!0}},{path:"resourcenotfound",component:Ya,canActivate:[wr.h,Mr._]},{path:"**",component:Go,canActivate:[wr.h,Mr._]},{path:"applications",loadChildren:()=>h.e(488).then(h.bind(h,4488)).then(s=>s.ApplicationsModule),canActivate:[wr.h,Mr._]},{path:"openiddict",component:pa,canActivate:[wr.h,Mr._],data:{permissions:[Jn.a[Jn.a.UserManager],Jn.a[Jn.a.UserManagerReadOnly],Jn.a[Jn.a.AllReadOnly],Jn.a[Jn.a.All]]}}];let s_=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({imports:[St.iI.forRoot(lc,{scrollPositionRestoration:"enabled"}),St.iI]})}}return s})();var cc=h(1683),Jd=h(9564),bn=h(2771);let pr=(()=>{class s{constructor(){this.cachedClaimTypes=new bn.m(1),this.cachedClaimTypes$=this.cachedClaimTypes.asObservable()}setClaimTypes(i){this.cachedClaimTypes.next(i)}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac})}}return s})();var jc=h(8455),Jf=h(2571),Ur=h(4179),uc=h(983),la=h(9437),el=h(8261);let Qf=(()=>{class s{constructor(i,a){this.identityResourceService=i,this.errorService=a}resolve(i,a){const d=i.paramMap.get("Id");return this.identityResourceService.getResource(d).pipe((0,Di.T)(D=>(D&&this.identityResourceService.getCachedIdentityResource().next(D),D)),(0,la.W)((D,te)=>(404===D.status?this.errorService.resourceNotFound(ko.v.identityResource):this.errorService.handleError(D),(0,uc.I)())))}static{this.\u0275fac=function(a){return new(a||s)(e.KVO(el.A),e.KVO(ee.I))}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac})}}return s})();var $c=h(5893);let o_=(()=>{class s{constructor(i,a){this.protectedResourceService=i,this.errorService=a}resolve(i,a){const d=i.paramMap.get("Id");return this.protectedResourceService.getResource(d).pipe((0,Di.T)(D=>(D&&this.protectedResourceService.getCachedProtectedResource().next(D),D)),(0,la.W)((D,te)=>(404===D.status?this.errorService.resourceNotFound(ko.v.protectedResource):this.errorService.handleError(D),(0,uc.I)())))}static{this.\u0275fac=function(a){return new(a||s)(e.KVO($c.x),e.KVO(ee.I))}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac})}}return s})();var Ug=h(7415),Bu=h(367),yo=h(5731),Pa=h(4193),Qd=h(3665),No=h(7175),Fa=h(1993),dc=h(8389),Zf=h(9945),Vg=h(6843),qf=h(7677),Yl=h(4367);let ep=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({providers:[Qf,o_,pr],imports:[Cn.MD,St.iI,Mn.h,p.YN,cc.Y,p.X1,Et.jr,Re.Ss,Ur.z,Jf.A,jc.p,Je.h6,kt.Q_,Ug.P,$i.XE,Bu.m,yo.i,Pa.c,Qd.t,No.c,Fa.E,dc.w,Zf.f,Vg.l,qf.N,Yl.N]})}}return s})();var hc=h(2261),Sl=h(9398),tp=h(3577);let Zd=(()=>{class s{constructor(i,a,d){this.clientService=i,this.clientCachingService=a,this.errorService=d}resolve(i,a){const d=i.paramMap.get("Id");return this.clientService.getClient(d).pipe((0,Di.T)(D=>(this.clientCachingService.unsavedCache.next(D),D)),(0,la.W)(D=>(404===D.status?this.errorService.resourceNotFound(ko.v.client):this.errorService.handleError(D),(0,uc.I)())))}static{this.\u0275fac=function(a){return new(a||s)(e.KVO(Sl._),e.KVO(tp.e),e.KVO(ee.I))}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac})}}return s})();var qd=h(3384),np=h(4442),eh=h(9686);let th=(()=>{class s{constructor(i){this.fileDownloader=i,this.actionUrl="clients/export"}exportAllClients(){this.fileDownloader.buildForm(this.actionUrl).submitForm()}exportSelectedClients(i){const a=this.actionUrl+"/specified",d=new Map;d.set("clientIds",i.join(",")),this.fileDownloader.buildFormWithCustomInputs(a,d).submitForm()}static{this.\u0275fac=function(a){return new(a||s)(e.KVO(eh.D))}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac})}}return s})();var ip=h(8556),Lu=h(2036),jg=h(9475),co=h(8251),Tl=h(6599),rs=h(9947),rp=h(6366),sp=h(5691),Xl=h(7673),nh=h(8173),yr=h(6701),Jl=function(s){return s.Client="Client",s.WsFed="WsFed",s.Saml="Saml",s}(Jl||{}),Uu=h(9156),Oo=h(3853),Gc=h(3497),Yo=h(9550),Vu=h(2467);const ih=["cloneClientModal"],op=["addClaimTypeModal"],$g=()=>({backdrop:"static",keyboard:"false"});function Gg(s,g){if(1&s&&(e.j41(0,"div",25)(1,"div"),e.EFF(2),e.k0s()()),2&s){const i=e.XpG();e.R7$(2),e.JRh(i.errorCode)}}function a_(s,g){if(1&s&&(e.j41(0,"app-form-row",16)(1,"app-form-toggle",26),e.nrm(2,"input",27),e.k0s()()),2&s){const i=e.XpG();e.Y8G("id","cloneSecrets")("label","Clients.Clone.CloneSecrets")("help","Clients.Clone.CloneSecretsDescription")("isLast",i.clientType!==i.clientTypes.Saml),e.R7$(),e.Y8G("id","cloneSecrets")}}function Hc(s,g){1&s&&(e.j41(0,"app-form-row",16)(1,"app-form-toggle",26),e.nrm(2,"input",28),e.k0s()()),2&s&&(e.Y8G("id","cloneCerts")("label","Clients.Clone.CloneCerts")("help","Clients.Clone.CloneCertsDescription")("isLast",!0),e.R7$(),e.Y8G("id","cloneSecrets"))}let ju=(()=>{class s{constructor(i,a,d,D,te){this.clientsService=i,this.fb=a,this.localize=d,this.router=D,this.translate=te,this.clientTypeKey=Gc.E.Default,this.clientTypes=yr.s,this.errorCode=""}ngOnInit(){this.newClientForm=this.fb.group({clientId:["",p.k0.required],clientName:["",p.k0.required],cloneSecrets:[!1],cloneCerts:[!1]}),this.clientType===this.clientTypes.Saml?this.clientTypeKey=Gc.E.Saml:this.clientType===this.clientTypes.WsFed&&(this.clientTypeKey=Gc.E.WsFed)}cloneClient(){const i=this.newClientForm.getRawValue();this.clientsService.cloneClient(this.client.id,i).subscribe(a=>{const d=a.headers.get("location");if(d){this.clearForm();const D=d.lastIndexOf("/"),te=d.substring(D+1),Ae=[this.localize.translateRoute("/clients"),te];this.router.navigate(Ae)}},a=>{this.errorCode=this.translate.instant(400===a.status?`Errors.CloneClientError.${a.error.errorCode}`:"Errors.CloneClientError.Default")})}show(){this.cloneClientModal.show(),this.setupForm()}setupForm(){const i=this.translate.instant("Clients.Clone.CopyOf").replace("{0}",this.client.clientName);this.newClientForm.patchValue({clientId:(0,Fi.Nl)(),clientName:i,cloneSecrets:!1,cloneCerts:!1})}clearForm(){this.cloneClientModal.hide(),this.errorCode="",this.newClientForm.reset()}setRandomID(){this.newClientForm.patchValue({clientId:(0,Fi.Nl)()})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(Sl._),e.rXU(p.ze),e.rXU($i.QG),e.rXU(St.Ix),e.rXU(Mn.c$))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-clone-client"]],viewQuery:function(a,d){if(1&a&&(e.GBs(ih,7),e.GBs(op,7)),2&a){let D;e.mGM(D=e.lsd())&&(d.cloneClientModal=D.first),e.mGM(D=e.lsd())&&(d.addClaimTypeModal=D.first)}},inputs:{client:"client",clientType:"clientType"},decls:38,vars:31,consts:[["cloneClientModal","bs-modal"],["bsModal","","id","cloneClientModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","scrollbars",3,"formGroup"],["class","tw-alert-danger tw-mb-6",4,"ngIf"],[3,"id","label","help"],[1,"tw-flex","tw-w-full","lg:tw-max-w-2xl"],["type","text","name","ClientId","id","cloneClientId","formControlName","clientId",1,"tw-form-control","tw-rounded-r-none","tw-border-r-0"],[1,"tw-btn","tw-rounded-l-none",3,"click"],["aria-hidden","true",1,"far","fa-random"],[3,"id","label","help","isLast"],["id","cloneClientName","type","text","name","DisplayName","formControlName","clientName",1,"tw-form-control"],[3,"id","label","help","isLast",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","confirmCloneBtn",1,"tw-btn-success",3,"click","disabled"],["id","closeCloneModal",1,"tw-btn-link","tw--mr-4",3,"click"],[1,"tw-alert-danger","tw-mb-6"],[3,"id"],["id","cloneSecrets","type","checkbox","name","cloneSecrets","formControlName","cloneSecrets",1,"tw-form-switch__input"],["id","cloneCerts","type","checkbox","name","cloneCerts","formControlName","cloneCerts",1,"tw-form-switch__input"]],template:function(a,d){if(1&a){const D=e.RV6();e.j41(0,"div",1,0)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"button",6),e.bIt("click",function(){return e.eBV(D),e.Njj(d.clearForm())}),e.nrm(9,"span",7),e.j41(10,"span",8),e.EFF(11),e.nI1(12,"translate"),e.k0s()()(),e.j41(13,"div",9),e.DNE(14,Gg,3,1,"div",10),e.j41(15,"app-form-row",11),e.nI1(16,"keyToString"),e.j41(17,"div",12),e.nrm(18,"input",13),e.j41(19,"button",14),e.bIt("click",function(){return e.eBV(D),e.Njj(d.setRandomID())}),e.nrm(20,"span",15),e.j41(21,"span",8),e.EFF(22),e.nI1(23,"translate"),e.k0s()()()(),e.j41(24,"app-form-row",16),e.nrm(25,"input",17),e.k0s(),e.DNE(26,a_,3,5,"app-form-row",18)(27,Hc,3,5,"app-form-row",18),e.k0s(),e.nrm(28,"div",19),e.j41(29,"div",20)(30,"div",21)(31,"div",22)(32,"button",23),e.bIt("click",function(){return e.eBV(D),e.Njj(d.cloneClient())}),e.EFF(33),e.nI1(34,"translate"),e.k0s()(),e.j41(35,"button",24),e.bIt("click",function(){return e.eBV(D),e.Njj(d.clearForm())}),e.EFF(36),e.nI1(37,"translate"),e.k0s()()()()()()}2&a&&(e.Y8G("config",e.lJ4(30,$g)),e.R7$(6),e.JRh(e.bMT(7,18,"Clients.Clone.Title")),e.R7$(5),e.JRh(e.bMT(12,20,"Common.Close")),e.R7$(2),e.Y8G("formGroup",d.newClientForm),e.R7$(),e.Y8G("ngIf",""!=d.errorCode),e.R7$(),e.Y8G("id","cloneClientId")("label",e.bMT(16,22,d.clientTypeKey))("help","Clients.IDHelp"),e.R7$(7),e.JRh(e.bMT(23,24,"Common.GenerateRandom")),e.R7$(2),e.Y8G("id","cloneClientName")("label","Common.DisplayName")("help","Clients.DisplayNameHelp")("isLast",0===d.client.clientSecrets.length&&d.clientType!==d.clientTypes.Saml),e.R7$(2),e.Y8G("ngIf",0!==d.client.clientSecrets.length),e.R7$(),e.Y8G("ngIf",d.clientType===d.clientTypes.Saml),e.R7$(5),e.Y8G("disabled",!d.newClientForm.valid),e.R7$(),e.SpI(" ",e.bMT(34,26,"Common.Save")," "),e.R7$(3),e.JRh(e.bMT(37,28,"Common.Cancel")))},dependencies:[Cn.bT,p.me,p.Zm,p.BC,p.cb,p.j4,p.JD,de.Y,Yo.m,kt.hZ,Mn.D9,Vu.C],encapsulation:2})}}return s})();const l_=(s,g)=>({title:s,link:g}),ap=s=>[s];function c_(s,g){1&s&&(e.j41(0,"option",29),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Nav.Saml")))}function u_(s,g){1&s&&(e.j41(0,"option",30),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.RelyingParty.Heading")))}function d_(s,g){1&s&&(e.j41(0,"option",31),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.URLS.Title")))}function xS(s,g){1&s&&(e.j41(0,"option",32),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Common.Secrets")))}function kS(s,g){1&s&&(e.j41(0,"option",33),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Common.CIBA")))}function lp(s,g){1&s&&(e.j41(0,"span",34),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" - ",e.bMT(2,1,"StarterMode.RequiresUpgrade")," "))}function $u(s,g){1&s&&e.nrm(0,"app-custom-tab",19),2&s&&e.Y8G("tabTitle","Nav.Saml")("tabValue","saml")}function h_(s,g){1&s&&e.nrm(0,"app-custom-tab",19),2&s&&e.Y8G("tabTitle","Clients.RelyingParty.Heading")("tabValue","wsfed")}function Gu(s,g){1&s&&e.nrm(0,"app-custom-tab",19),2&s&&e.Y8G("tabTitle","Clients.URLS.Title")("tabValue","applicationurls")}function cp(s,g){1&s&&e.nrm(0,"app-custom-tab",19),2&s&&e.Y8G("tabTitle","Common.Secrets")("tabValue","secrets")}function rh(s,g){1&s&&e.nrm(0,"app-custom-tab",19),2&s&&e.Y8G("tabTitle","Common.CIBA")("tabValue","ciba")}let NS=(()=>{class s{constructor(i,a,d,D,te,Ae,et,bt,Ht,dn,yn,En,On,kn,ai,bi){this.clientsService=i,this.clientCachingService=a,this.relyingPartyCachingService=d,this.serviceProviderCachingService=D,this.samlClientService=te,this.wsFedClientService=Ae,this.clientViewService=et,this.titleService=bt,this.translate=Ht,this.errorService=dn,this.router=yn,this.route=En,this.toastr=On,this.localize=kn,this.dialogService=ai,this.licenseService=bi}ngOnInit(){this.clientSubscription=this.clientCachingService.unsavedCache$.subscribe(i=>{this.client=i;const a=this.translate.instant("Clients.Title")+" "+this.client.clientName+" - "+Vt.$9.SITE_TITLE;this.titleService.setTitle(a),this.checkSubmitEnabled()}),this.relyingPartyCachingService.unsavedCache$.subscribe(i=>{this.checkSubmitEnabled()}),this.serviceProviderCachingService.unsavedCache$.subscribe(i=>{this.checkSubmitEnabled()}),this.licenseService.getLicenseInfo().pipe((0,on.$)()).subscribe({next:i=>{this.licenseInfo=i}})}checkSubmitEnabled(){const i=[...Array.from(this.clientCachingService.componentDirtyValidMap.values()),...Array.from(this.relyingPartyCachingService.componentDirtyValidMap.values()),...Array.from(this.serviceProviderCachingService.componentDirtyValidMap.values())];this.submitDisabled=0===i.length||i.some(a=>!a.isValid)}ngOnDestroy(){this.clientSubscription.unsubscribe()}deleteClient(i){this.clientsService.deleteClient(i).subscribe(a=>{const d=this.localize.translateRoute("/clients");this.router.navigate([d]),this.toastr.success(this.client.clientName+" "+this.translate.instant("Common.Delete.Deleted"),this.translate.instant("Clients.Deleted"))},a=>{const d={toastBody:this.translate.instant("Notifications.Delete Error Title"),toastTitle:this.translate.instant("Notifications.Delete User Message")};(this.errorService.handleError(a,d)&Ss.I.Toast)!==Ss.I.Toast&&this.toastr.error(d.toastBody,d.toastTitle)})}saveClient(){const i=this.buildStreamArray();(0,_i.p)(i).subscribe(a=>{a.some(D=>D instanceof w.yz)?this.handleError(a):this.handleSave(a),this.checkSubmitEnabled()},a=>{this.errorService.handleError(a)})}buildStreamArray(){const i=[];return this.clientCachingService.componentDirtyValidMap.size>0&&i.push(this.clientsService.updateClient(this.client).pipe((0,Di.T)(()=>Jl.Client),(0,la.W)(a=>(0,Xl.of)(a)))),this.client.clientType===yr.s.WsFed&&this.relyingPartyCachingService.componentDirtyValidMap.size>0?this.relyingPartyCachingService.unsavedCache$.pipe((0,on.$)()).subscribe(a=>{const d=JSON.parse(JSON.stringify(a));d.claimMappings=(0,Fi.Li)(a.claimMappings),i.push(this.wsFedClientService.updateRelyingParty(this.client.id,d).pipe((0,Di.T)(()=>Jl.WsFed),(0,la.W)(D=>(0,Xl.of)(D))))}):this.client.clientType===yr.s.Saml&&this.serviceProviderCachingService.componentDirtyValidMap.size>0&&this.serviceProviderCachingService.unsavedCache$.pipe((0,on.$)()).subscribe(a=>{const d=JSON.parse(JSON.stringify(a));d.claimMappings=(0,Fi.Li)(a.claimMappings),i.push(this.samlClientService.updateServiceProvider(this.client.id,d).pipe((0,Di.T)(()=>Jl.Saml),(0,la.W)(D=>(0,Xl.of)(D))))}),i}handleSave(i){i.forEach(a=>{switch(a){case Jl.WsFed:this.relyingPartyCachingService.onSave();break;case Jl.Saml:this.serviceProviderCachingService.onClientSave();break;case Jl.Client:this.clientCachingService.onClientSave()}}),this.toastr.success(this.translate.instant("Clients.UpdatedClient"),this.translate.instant("Notifications.Saving Success Title"))}handleError(i){const a=i.filter(d=>d instanceof w.yz);a.length===i.length?this.errorService.handleError(a[0]):400===a[0].status?(this.toastr.warning(this.translate.instant("Only some parts updated"),this.translate.instant("Partial Update Warning")),this.handleSave(_.R9(i,a))):this.errorService.handleError(a[0])}canDeactivate(){return!(this.clientCachingService.componentDirtyValidMap.size>0||this.relyingPartyCachingService.componentDirtyValidMap.size>0||this.serviceProviderCachingService.componentDirtyValidMap.size>0)||(this.dialogService.confirm(),this.dialogService.eventStream.subscribe(i=>{i&&(this.clientCachingService.componentDirtyValidMap.size>0&&this.clientCachingService.componentDirtyValidMap.clear(),this.relyingPartyCachingService.componentDirtyValidMap.size>0&&this.relyingPartyCachingService.componentDirtyValidMap.clear(),this.serviceProviderCachingService.componentDirtyValidMap.size>0&&this.serviceProviderCachingService.componentDirtyValidMap.clear())}),this.dialogService.eventStream)}isCloneDisabled(){return this.clientCachingService.componentDirtyValidMap.size>0||this.relyingPartyCachingService.componentDirtyValidMap.size>0||this.serviceProviderCachingService.componentDirtyValidMap.size>0}mobRoute(i){this.router.navigate([i],{relativeTo:this.route})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(Sl._),e.rXU(tp.e),e.rXU(rp.z),e.rXU(sp.d),e.rXU(Uu.s),e.rXU(Lu.c),e.rXU(nh.q),e.rXU(n.hE),e.rXU(Mn.c$),e.rXU(ee.I),e.rXU(St.Ix),e.rXU(St.nX),e.rXU(ni.tw),e.rXU($i.QG),e.rXU(Wo.o),e.rXU(Oo.X))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-edit-client"]],features:[e.Jv_([nh.q])],decls:61,vars:65,consts:[["cloneClientModal",""],["deleteClientModal",""],[3,"title","crumbs","hasButton","hasTabs"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","details"],["value","saml",4,"ngIf"],["value","wsfed",4,"ngIf"],["value","applicationurls",4,"ngIf"],["value","secrets",4,"ngIf"],["value","resources"],["value","ciba",4,"ngIf"],["value","advanced"],["value","clientaudits"],["id","upgradeSymbol",4,"ngIf"],[1,"tw-hidden","md:tw-flex"],[3,"tabTitle","tabValue"],[3,"tabTitle","tabValue",4,"ngIf"],[3,"tabTitle","tabValue","restrictedStarter"],["id","editClient",1,"tw-container","tw-mx-auto"],["id","submitBtn",1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"click","disabled"],["id","cloneBtn","type","button","data-toggle","modal",1,"tw-hidden","tw-btn","tw-mr-3","tw-mb-3","xs:tw-inline-flex",3,"click","disabled"],["right",""],["type","button","data-toggle","modal",1,"tw-btn-danger","tw-mb-3",3,"click"],[3,"client","clientType"],[3,"delete","resourceName"],["value","saml"],["value","wsfed"],["value","applicationurls"],["value","secrets"],["value","ciba"],["id","upgradeSymbol"]],template:function(a,d){if(1&a){const D=e.RV6();e.j41(0,"app-title-bar",2),e.nI1(1,"translate"),e.nI1(2,"localize"),e.qex(3,3),e.j41(4,"div",4)(5,"label",5),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"div",6)(9,"select",7),e.bIt("change",function(Ae){return e.eBV(D),e.Njj(d.mobRoute(Ae.target.value))}),e.j41(10,"option",8),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"option",8),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.DNE(16,c_,3,3,"option",9)(17,u_,3,3,"option",10)(18,d_,3,3,"option",11)(19,xS,3,3,"option",12),e.j41(20,"option",13),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.DNE(23,kS,3,3,"option",14),e.j41(24,"option",15),e.EFF(25),e.nI1(26,"translate"),e.k0s(),e.j41(27,"option",16),e.EFF(28),e.nI1(29,"translate"),e.DNE(30,lp,3,3,"span",17),e.k0s()()()(),e.j41(31,"app-custom-tabs",18),e.nrm(32,"app-custom-tab",19),e.DNE(33,$u,1,2,"app-custom-tab",20)(34,h_,1,2,"app-custom-tab",20)(35,Gu,1,2,"app-custom-tab",20)(36,cp,1,2,"app-custom-tab",20),e.nrm(37,"app-custom-tab",19),e.DNE(38,rh,1,2,"app-custom-tab",20),e.nrm(39,"app-custom-tab",19)(40,"app-custom-tab",21),e.k0s(),e.bVm(),e.k0s(),e.j41(41,"div",22),e.nrm(42,"router-outlet"),e.k0s(),e.j41(43,"app-button-bar")(44,"button",23),e.bIt("click",function(){return e.eBV(D),e.Njj(d.saveClient())}),e.j41(45,"span"),e.EFF(46),e.nI1(47,"translate"),e.k0s()(),e.j41(48,"button",24),e.bIt("click",function(){e.eBV(D);const Ae=e.sdS(57);return e.Njj(Ae.show())}),e.j41(49,"span"),e.EFF(50),e.nI1(51,"translate"),e.k0s()(),e.qex(52,25),e.j41(53,"button",26),e.bIt("click",function(){e.eBV(D);const Ae=e.sdS(59);return e.Njj(Ae.show())}),e.EFF(54),e.nI1(55,"translate"),e.k0s(),e.bVm(),e.k0s(),e.nrm(56,"app-clone-client",27,0),e.j41(58,"app-delete-confirmation-modal",28,1),e.bIt("delete",function(){return e.eBV(D),e.Njj(d.deleteClient(d.client.id))}),e.k0s(),e.nrm(60,"app-can-deactivate")}if(2&a){let D,te;e.Y8G("title",d.client.clientName)("crumbs",e.eq3(63,ap,e.l_i(60,l_,e.bMT(1,38,"Nav.Clients"),e.bMT(2,40,"/clients"))))("hasButton",!0)("hasTabs",!0),e.R7$(6),e.JRh(e.bMT(7,42,"Nav.SubMenu")),e.R7$(5),e.SpI("",e.bMT(12,44,"Nav.SubMenu"),"..."),e.R7$(3),e.JRh(e.bMT(15,46,"Nav.Details")),e.R7$(2),e.Y8G("ngIf",d.clientViewService.saml.display),e.R7$(),e.Y8G("ngIf",d.clientViewService.wsFed.display),e.R7$(),e.Y8G("ngIf",d.clientViewService.applicationUrls.display),e.R7$(),e.Y8G("ngIf",d.clientViewService.secrets.display),e.R7$(2),e.JRh(e.bMT(22,48,"Nav.Resources")),e.R7$(2),e.Y8G("ngIf",d.clientViewService.ciba.display),e.R7$(2),e.JRh(e.bMT(26,50,"Common.Advanced")),e.R7$(3),e.SpI(" ",e.bMT(29,52,"Nav.Audits")," "),e.R7$(2),e.Y8G("ngIf",null!==(D=null==d.licenseInfo?null:d.licenseInfo.isStarterLicense())&&void 0!==D&&D),e.R7$(2),e.Y8G("tabTitle","Nav.Details")("tabValue","details"),e.R7$(),e.Y8G("ngIf",d.clientViewService.saml.display),e.R7$(),e.Y8G("ngIf",d.clientViewService.wsFed.display),e.R7$(),e.Y8G("ngIf",d.clientViewService.applicationUrls.display),e.R7$(),e.Y8G("ngIf",d.clientViewService.secrets.display),e.R7$(),e.Y8G("tabTitle","Nav.Resources")("tabValue","resources"),e.R7$(),e.Y8G("ngIf",d.clientViewService.ciba.display),e.R7$(),e.Y8G("tabTitle","Common.Advanced")("tabValue","advanced"),e.R7$(),e.Y8G("tabTitle","Nav.Audits")("tabValue","clientaudits")("restrictedStarter",null!==(te=null==d.licenseInfo?null:d.licenseInfo.isStarterLicense())&&void 0!==te&&te),e.R7$(4),e.Y8G("disabled",d.submitDisabled),e.R7$(2),e.JRh(e.bMT(47,54,"Common.SaveAll")),e.R7$(2),e.Y8G("disabled",d.isCloneDisabled()),e.R7$(2),e.JRh(e.bMT(51,56,"Clients.Clone.Label")),e.R7$(4),e.JRh(e.bMT(55,58,"Common.Delete.Title")),e.R7$(2),e.Y8G("client",d.client)("clientType",d.client.clientType),e.R7$(2),e.Y8G("resourceName",d.client.clientName)}},dependencies:[St.n3,Cn.bT,p.xH,p.y7,an.G,_n.v,rn.z,xa.E,So.z,sa.w,ju,Mn.D9,$i.tl],encapsulation:2})}}return s})();h(78),h(6772),h(1927);class m_{constructor(g){this.id=g.id,this.clientId=g.clientId,this.clientName=g.clientName,this.description=g.description,this.enabled=g.enabled,this.selected=!1,this.nonEditable=g.nonEditable,this.clientType=g.clientType}}var Ba=h(6026),Hg=h(6976),sh=h(4595),Gi=h(9988),dp=h(1744),hp=h(1138),oh=h(2858),Wg=h(7212);class Kg extends dp.$R{set selected(g){this.isSelectable&&(this._selected=g)}get selected(){return this._selected}get isSelectable(){return this.resourceState!==dp.jD.Duplicate&&this.resourceType===dp.ot.Client}constructor(g,i=!0){super(),this._selected=!1,this.conflictedByDependencies=!1,this.secretsAction=hp.r.DoNotSet,this.certificateAction=oh.AU.DoNotSet,this.identifier=g.identifier,this.resourceType=g.resourceType,this.resourceState=g.resourceState,this.displayType=g.displayType,this.displayName=g.displayName,this.conflicts=g.conflicts,this.dependantClients=g.dependantClients,this.hadSecrets=g.hadSecrets,this.hadCertificates=g.hadCertificates,this.existingHasSecrets=g.existingHasSecrets,this.existingHasCertificates=g.existingHasCertificates,this.selected=i,this.certificates=new Wg.D}}var g_=h(9113),ah=h(5826),fc=h(5088),v_=h(7629),zg=h(6193);function Yg(s,g){if(1&s&&(e.j41(0,"div",7),e.nrm(1,"div",8),e.k0s()),2&s){const i=e.XpG();e.R7$(),e.xc7("width",i.progressComplete+"%"),e.BMQ("aria-valuenow",i.progressComplete)}}function Wc(s,g){}let pc=(()=>{class s{constructor(i){this.viewContainerRef=i}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(e.c1b))}}static{this.\u0275dir=e.FsC({type:s,selectors:[["","appImportStepHost",""]]})}}return s})(),uo=(()=>{class s{constructor(i){this.importWizardController=i,this.finish=new e.bkB,this.warning=new e.bkB,this.components=new Map,this.progressComplete=5,this.progressStepString="",this.disableButtons=!1,this.hideProgressBar=!1}ngOnInit(){this.moveSubscription=this.importWizardController.move.subscribe(i=>{i?this.finish.emit():this.importWizardController.areStepsRemaning()&&(this.displayNext(),this.progressStepString=this.getStepsProgressForCurrentStep())}),this.importWizardController.setupInitialStep(),this.displayNext()}displayNext(){this.wizardHost.viewContainerRef.detach();const i=this.importWizardController.getCurrentStep();let a;if(i.component===oh.zI){const d=this.components.get(i);this.wizardHost.viewContainerRef.detach(),a=d??this.wizardHost.viewContainerRef.createComponent(i.component)}else a=this.wizardHost.viewContainerRef.createComponent(i.component);this.wizardHost.viewContainerRef.detach(),this.wizardHost.viewContainerRef.insert(a.hostView),a.instance.data=i.data,a.instance.importWizardController=this.importWizardController,this.title=i.stepTitle,this.components.set(i,a),this.updateProgressBar(),this.hideProgressBar=a.instance.isWarningModal||a.instance.hideProgressBar,this.warning.emit(a.instance.isWarningModal)}closeButton(){const i=this.importWizardController.getCurrentStep();i.component!==fc.E?this.importWizardController.cancel():this.components.get(i).instance.goNext()}getStepsProgressForCurrentStep(){const i=this.importWizardController.getCurrentStep();if(i.component===hp.u||i.component===oh.zI){const a=this.importWizardController.stepsCompleted.filter(D=>D.component===i.component).length,d=a+this.importWizardController.stepsAhead.filter(D=>D.component===i.component).length;return 1===d?"":"("+(a+1)+"/"+d+")"}return""}disableCloseButton(){return this.importWizardController.disableCloseButton}updateProgressBar(){this.importWizardController.stepsCompleted.length>0?1===this.importWizardController.stepsAhead.length?this.progressComplete=100:this.importWizardController.getCurrentStep().component!==v_.oG&&(this.progressComplete=(this.importWizardController.stepsCompleted.length+1)/(this.importWizardController.stepsAhead.length+this.importWizardController.stepsCompleted.length)*100):this.progressComplete=5}ngOnDestroy(){this.importWizardController.clear(),this.components.forEach(i=>{i.destroy()}),this.components.clear(),this.moveSubscription?.unsubscribe()}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(zg.V))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-import-wizard-host"]],viewQuery:function(a,d){if(1&a&&e.GBs(pc,7),2&a){let D;e.mGM(D=e.lsd())&&(d.wizardHost=D.first)}},outputs:{finish:"finish",warning:"warning"},decls:12,vars:9,consts:[[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click","disabled"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],["class","modal-progress",4,"ngIf"],["appImportStepHost",""],[1,"modal-progress"],["role","progressbar",1,"modal-progress-bar"]],template:function(a,d){1&a&&(e.j41(0,"div",0)(1,"h5",1),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"button",2),e.bIt("click",function(){return d.closeButton()}),e.nrm(5,"span",3),e.j41(6,"span",4),e.EFF(7),e.nI1(8,"translate"),e.k0s()()(),e.DNE(9,Yg,2,3,"div",5),e.j41(10,"div"),e.DNE(11,Wc,0,0,"ng-template",6),e.k0s()),2&a&&(e.R7$(2),e.Lme("",e.bMT(3,5,d.title)," ",d.progressStepString,""),e.R7$(2),e.Y8G("disabled",d.disableCloseButton()),e.R7$(3),e.JRh(e.bMT(8,7,"Common.Close")),e.R7$(2),e.Y8G("ngIf",!d.hideProgressBar))},dependencies:[Cn.bT,pc,Mn.D9],encapsulation:2})}}return s})();function y_(s,g){1&s&&(e.nrm(0,"app-simple-loader",17),e.nI1(1,"translate")),2&s&&e.Y8G("text",e.bMT(1,1,"Clients.Import.Wizard.Setup.CheckImportPleaseWait"))}function Xg(s,g){if(1&s&&(e.j41(0,"div",23)(1,"div"),e.EFF(2),e.k0s()()),2&s){const i=e.XpG(3);e.R7$(2),e.JRh(i.errorCode)}}function fp(s,g){if(1&s){const i=e.RV6();e.j41(0,"div")(1,"div",18)(2,"p"),e.EFF(3),e.nI1(4,"translate"),e.k0s()(),e.DNE(5,Xg,3,1,"div",19),e.j41(6,"app-form-row",20)(7,"div",21)(8,"input",22,1),e.bIt("change",function(d){e.eBV(i);const D=e.XpG(2);return e.Njj(D.handleFileInput(d.target.files))}),e.k0s()()()()}if(2&s){const i=e.XpG(2);e.R7$(3),e.JRh(e.bMT(4,6,"Clients.Import.Wizard.Setup.Summary")),e.R7$(2),e.Y8G("ngIf",""!=i.errorCode),e.R7$(),e.Y8G("id","fileInput")("label","Clients.Import.Wizard.Setup.ChooseFile")("help","Clients.Import.Wizard.Setup.ChooseFileHelp")("isLast",!0)}}function __(s,g){if(1&s){const i=e.RV6();e.j41(0,"div")(1,"div",3)(2,"h5",4),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"button",5),e.nI1(6,"translate"),e.bIt("click",function(){e.eBV(i);const d=e.XpG();return e.Njj(d.hide())}),e.nrm(7,"span",6),e.k0s()(),e.j41(8,"div",7),e.nrm(9,"div",8,0),e.k0s(),e.j41(11,"div",9),e.DNE(12,y_,2,3,"app-simple-loader",10)(13,fp,11,8,"div",2),e.k0s(),e.nrm(14,"div",11),e.j41(15,"div",12)(16,"div",13)(17,"div",14)(18,"button",15),e.bIt("click",function(){e.eBV(i);const d=e.XpG();return e.Njj(d.startImport())}),e.EFF(19),e.nI1(20,"translate"),e.k0s()(),e.j41(21,"button",16),e.bIt("click",function(){e.eBV(i);const d=e.XpG();return e.Njj(d.hide())}),e.EFF(22),e.nI1(23,"translate"),e.k0s()()()()}if(2&s){const i=e.XpG();e.R7$(2),e.Y8G("id",i.titleId),e.R7$(),e.JRh(e.bMT(4,10,"Clients.Import.Wizard.Setup.Title")),e.R7$(2),e.Y8G("disabled",i.disableButtons),e.BMQ("aria-label",e.bMT(6,12,"Common.Close")),e.R7$(7),e.Y8G("ngIf",i.isLoading),e.R7$(),e.Y8G("ngIf",!i.isLoading),e.R7$(5),e.Y8G("disabled",i.disableButtons||null==i.fileToUpload),e.R7$(),e.SpI(" ",e.bMT(20,14,"Common.Start")," "),e.R7$(2),e.Y8G("disabled",i.disableButtons),e.R7$(),e.SpI(" ",e.bMT(23,16,"Common.Cancel")," ")}}function Jg(s,g){if(1&s){const i=e.RV6();e.j41(0,"div")(1,"app-import-wizard-host",24),e.bIt("warning",function(d){e.eBV(i);const D=e.XpG();return e.Njj(D.onWarning(d))})("finish",function(){e.eBV(i);const d=e.XpG();return e.Njj(d.onFinish())}),e.k0s()()}}let lh=(()=>{class s{constructor(i,a,d,D){this.translate=i,this.clientImportService=a,this.importWizardService=d,this.modalService=D,this.finish=new e.bkB,this.titleId=Ba.R.TileId,this.wizardTypes=Gi.$,this.isLoading=!1,this.fileToUpload=null,this.isWarningModal=!1,this.storage=sessionStorage,this.importWizardService.resetImport.subscribe(te=>{this.reset(),null!=te&&(this.errorCode=te)})}ngOnInit(){this.reset()}onCancel(){this.hide()}onFinish(){this.finish.emit(),this.hide()}onWarning(i){this.isWarningModal=i}hide(){this.reset(),this.modalService.hide(Ba.R.Id)}handleFileInput(i){this.fileToUpload=i.item(0)}reset(){this.isLoading=!1,this.disableButtons=!1,this.showWizard=!1,this.fileToUpload=null,this.errorCode="",this.isWarningModal=!1}startImport(){null!=this.fileToUpload&&this.validateImport()}validateImport(){if(this.isLoading=!0,this.disableButtons=!0,"application/json"!==this.fileToUpload.type)return this.reset(),void(this.errorCode=this.translate.instant("Clients.Import.Wizard.Setup.Errors.InvalidFile"));this.fileToUpload.text().then(i=>{this.clientImportService.validateImportFile(i).subscribe(a=>{try{JSON.parse(i)}catch{return this.reset(),void(this.errorCode=this.translate.instant("Clients.Import.Wizard.Setup.Errors.InvalidData"))}this.storeFileInStorage(i);const d=a.importResources.map(D=>new Kg(D));this.importWizardService.cache.next(d),this.isLoading=!1,this.showWizard=!0},a=>{if(400===a.status){this.reset();const d=a.error;this.errorCode=this.translate.instant(`Errors.${d.errorCode}`),"ValidateImportError.WrongVersion"===d.errorCode&&(this.errorCode=this.errorCode.replace("{0}",d.replacementArgs[0]),this.errorCode=this.errorCode.replace("{1}",d.replacementArgs[1]))}else this.reset(),this.errorCode=this.translate.instant("Clients.Import.Wizard.Setup.Errors.Default")})})}storeFileInStorage(i){this.storage.setItem("importFile",i)}ngOnDestroy(){this.reset(),this.hide()}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(Mn.c$),e.rXU(g_.qJ),e.rXU(ah.o),e.rXU(kt.I8))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-import-wizard"]],outputs:{finish:"finish"},decls:2,vars:2,consts:[["progressBar",""],["fileInput","","selectedFile",""],[4,"ngIf"],[1,"modal-header"],[1,"modal-title",3,"id"],["type","button",1,"modal-close",3,"click","disabled"],["aria-hidden","true",1,"fas","fa-times"],[1,"modal-progress"],["role","progressbar",1,"modal-progress-bar",2,"width","2%"],[1,"modal-body"],[3,"text",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","importNext",1,"tw-btn-success",3,"click","disabled"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click","disabled"],[3,"text"],[1,"cms","tw-mb-6"],["class","tw-alert-danger tw-mb-6",4,"ngIf"],[3,"id","label","help","isLast"],[1,"tw-form-control"],["id","fileInput","type","file","name","file","accept",".json",1,"tw-form-file","tw-max-w-full",3,"change"],[1,"tw-alert-danger","tw-mb-6"],[3,"warning","finish"]],template:function(a,d){1&a&&e.DNE(0,__,24,18,"div",2)(1,Jg,2,0,"div",2),2&a&&(e.Y8G("ngIf",!d.showWizard),e.R7$(),e.Y8G("ngIf",d.showWizard))},dependencies:[Cn.bT,xi.d,de.Y,uo,Mn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();var fi=h(7329),ch=h(7957),_o=h(8575);class mc{constructor(g){this.clientType=g}}class Ql{constructor(g){this.clientType=g}}let gc=(()=>{class s{constructor(i){this.fb=i}hosted(){}ngOnInit(){this.callbackUrlForm=this.fb.group({callbackUrl:["",p.k0.required]})}getStepSummary(){const i=new Map;return i.set("callbackUrl",[this.callbackUrlForm.get("callbackUrl").value]),(this.data.clientType===yr.s.BrowserBased||this.data.clientType===yr.s.LegacyClientSide)&&(this.corsUrl=""===this.callbackUrlForm.get("callbackUrl").value?"":(0,Fi.kI)(this.callbackUrlForm.get("callbackUrl").value),i.set("corsurl",[this.corsUrl])),i}getStepDTO(){const i=this.getStepSummary(),a={};return i.forEach((d,D)=>{"corsurl"===D&&(D="allowedCorsOrigins"),"callbackUrl"===D&&(D="redirectUris"),a[D]=d}),a}canNext(){return this.callbackUrlForm.valid}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(p.ze))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-callback-url"]],inputs:{data:"data"},decls:6,vars:8,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help","isLast"],["type","url","name","CallbackUrl","id","CallbackUrl","formControlName","callbackUrl",1,"tw-form-control"]],template:function(a,d){1&a&&(e.j41(0,"div",0),e.nrm(1,"p",1),e.nI1(2,"translate"),e.k0s(),e.j41(3,"form",2)(4,"app-form-row",3),e.nrm(5,"input",4),e.k0s()()),2&a&&(e.R7$(),e.Y8G("innerHTML",e.bMT(2,6,"Clients.CallbackURL"),e.npT),e.R7$(2),e.Y8G("formGroup",d.callbackUrlForm),e.R7$(),e.Y8G("id","CallbackUrl")("label","Common.CallbackURL")("help","Clients.RedirectURLDescription")("isLast",!0))},dependencies:[p.qT,p.me,p.BC,p.cb,p.j4,p.JD,de.Y,Mn.D9],encapsulation:2})}}return s})();class tl{constructor(g,i=Gc.E.Default){this.clientType=g,this.clientIdKey=i}}function b_(s,g){1&s&&(e.j41(0,"div")(1,"app-form-row",2),e.nrm(2,"input",13),e.k0s(),e.j41(3,"app-form-row",2),e.nrm(4,"input",14),e.k0s()()),2&s&&(e.R7$(),e.Y8G("id","Domain")("label","Common.DisplayURL")("help","Clients.DisplayURLHelp"),e.R7$(2),e.Y8G("id","LogoUrl")("label","Common.LogoURL")("help","Clients.LogoURLHelp"))}function Qg(s,g){1&s&&(e.j41(0,"app-form-row",10)(1,"app-form-toggle",15),e.nrm(2,"input",16),e.k0s()()),2&s&&(e.Y8G("id","requireConsent")("label","Clients.RequireConsent.Title")("help","Clients.RequireConsent.Help")("isLast",!0),e.R7$(),e.Y8G("id","requireConsent"))}let nl=(()=>{class s{constructor(i){this.fb=i,this.desFocus=!1,this.hasExtraFields=!1}hosted(){}ngOnInit(){this.descriptionForm=this.fb.group({clientType:[this.data.clientType],clientId:["",[p.k0.required,p.k0.maxLength(100),p.k0.pattern(/^\S*$/)]],clientName:["",[p.k0.required,p.k0.maxLength(50)]],description:["",p.k0.maxLength(1e3)]}),this.hasExtraFields=this.data.clientType===yr.s.Native||this.data.clientType===yr.s.NativePKCE||this.data.clientType===yr.s.BrowserBased||this.data.clientType===yr.s.LegacyClientSide||this.data.clientType===yr.s.ServerSide||this.data.clientType===yr.s.ServerSidePKCE,this.clientIdKey=this.data.clientIdKey,this.hasExtraFields&&(this.descriptionForm.addControl("clientUri",new p.hs("",p.k0.pattern("^https?://.*$"))),this.descriptionForm.addControl("logoUri",new p.hs("",p.k0.pattern("^https?://.*$"))),this.descriptionForm.addControl("requireConsent",new p.hs(!0)))}setRandomID(){this.descriptionForm.patchValue({clientId:(0,Fi.Nl)()})}canNext(){return this.descriptionForm.valid}getStepSummary(){const i=new Map;for(const a in this.descriptionForm.value)this.descriptionForm.value.hasOwnProperty(a)&&i.set("clientId"===a?this.clientIdKey:a,[this.descriptionForm.value[a]]);return i.delete("clientType"),i}getStepDTO(){const i=this.descriptionForm.value;return this.hasExtraFields&&(""===this.descriptionForm.controls.clientUri.value&&(i.clientUri=null),""===this.descriptionForm.controls.logoUri.value&&(i.logoUri=null)),i}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(p.ze))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["ng-component"]],inputs:{data:"data"},decls:20,vars:21,consts:[[1,"cms","tw-mb-6"],[3,"formGroup"],[3,"id","label","help"],[1,"tw-flex","tw-w-full","lg:tw-max-w-2xl"],["type","text","name","ClientId","id","ClientId","formControlName","clientId",1,"tw-form-control","tw-rounded-r-none","tw-border-r-0"],["id","genRandomIdBtn",1,"tw-btn","tw-rounded-l-none",3,"click"],["aria-hidden","true",1,"far","fa-random"],[1,"sr-only"],["id","DisplayName","type","text","name","DisplayName","formControlName","clientName",1,"tw-form-control"],[4,"ngIf"],[3,"id","label","help","isLast"],["id","Description","name","Description","formControlName","description",1,"tw-form-control",3,"blur","focus"],[3,"id","label","help","isLast",4,"ngIf"],["id","Domain","type","text","name","Domain","formControlName","clientUri",1,"tw-form-control"],["type","text","name","LogoUrl","id","LogoUrl","formControlName","logoUri",1,"tw-form-control"],[3,"id"],["id","requireConsent","type","checkbox","formControlName","requireConsent","name","requireConsent",1,"tw-form-switch__input"]],template:function(a,d){1&a&&(e.j41(0,"div",0)(1,"p"),e.EFF(2),e.nI1(3,"translate"),e.k0s()(),e.j41(4,"div",1)(5,"app-form-row",2),e.nI1(6,"keyToString"),e.j41(7,"div",3),e.nrm(8,"input",4),e.j41(9,"button",5),e.bIt("click",function(){return d.setRandomID()}),e.nrm(10,"span",6),e.j41(11,"span",7),e.EFF(12),e.nI1(13,"translate"),e.k0s()()()(),e.j41(14,"app-form-row",2),e.nrm(15,"input",8),e.k0s(),e.DNE(16,b_,5,6,"div",9),e.j41(17,"app-form-row",10)(18,"textarea",11),e.bIt("blur",function(){return d.desFocus=!d.desFocus})("focus",function(){return d.desFocus=!d.desFocus}),e.k0s()(),e.DNE(19,Qg,3,5,"app-form-row",12),e.k0s()),2&a&&(e.R7$(2),e.JRh(e.bMT(3,15,"Clients.EnterBasicDetails")),e.R7$(2),e.Y8G("formGroup",d.descriptionForm),e.R7$(),e.Y8G("id","ClientId")("label",e.bMT(6,17,d.clientIdKey))("help","Clients.IDHelp"),e.R7$(7),e.JRh(e.bMT(13,19,"Common.GenerateRandom")),e.R7$(2),e.Y8G("id","DisplayName")("label","Common.DisplayName")("help","Clients.DisplayNameHelp"),e.R7$(2),e.Y8G("ngIf",d.hasExtraFields),e.R7$(),e.Y8G("id","Description")("label","Common.Description")("help","Clients.DescriptionHelp")("isLast",!d.hasExtraFields),e.R7$(2),e.Y8G("ngIf",d.hasExtraFields))},dependencies:[Cn.bT,p.me,p.Zm,p.BC,p.cb,p.j4,p.JD,de.Y,Yo.m,Mn.D9,Vu.C],encapsulation:2})}}return s})();var Kc=h(9767),C_=h(9764);const w_=["secretPicker"];let Hu=(()=>{class s{constructor(){this.secrets=[],this.filePickerClosed=!0}getStepSummary(){const i=new Map;return i.set("secrets",this.secrets.map(a=>a.type)),i}getStepDTO(){return{clientSecrets:this.secretPicker.clientSecrets}}canNext(){return this.filePickerClosed}hosted(){this.secretPicker.resetState()}ngOnInit(){this.secretPicker.secretsAddStream.subscribe(i=>{this.secretPicker.clientSecrets.push(i)}),this.secretPicker.secretsRemoveStream.subscribe(i=>{this.secretPicker.clientSecrets.splice(this.secretPicker.clientSecrets.indexOf(i),1)})}filePickerStateChanged(i){this.filePickerClosed=!i}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-client-secret-picker"]],viewQuery:function(a,d){if(1&a&&e.GBs(w_,7),2&a){let D;e.mGM(D=e.lsd())&&(d.secretPicker=D.first)}},decls:5,vars:6,consts:[["secretPicker",""],[1,"tw-mb-4"],[3,"filepickerDisplayed","clientSecrets","nonModelCertPicker","showCreatedColumn"]],template:function(a,d){if(1&a){const D=e.RV6();e.j41(0,"p",1),e.EFF(1),e.nI1(2,"translate"),e.k0s(),e.j41(3,"app-secret-picker",2,0),e.bIt("filepickerDisplayed",function(Ae){return e.eBV(D),e.Njj(d.filePickerStateChanged(Ae))}),e.k0s()}2&a&&(e.R7$(),e.JRh(e.bMT(2,4,"Clients.NativeApp.Secrets")),e.R7$(2),e.Y8G("clientSecrets",d.secrets)("nonModelCertPicker",!0)("showCreatedColumn",!1))},dependencies:[C_.s,Mn.D9],encapsulation:2,data:{animation:[(0,Kc.Ws)()]}})}}return s})();var uh=h(5313);let Wu=(()=>{class s{constructor(i){this.fb=i}hosted(){}ngOnInit(){this.logoutUrlForm=this.fb.group({logoutUrl:["",p.k0.pattern("^https?://.*$")]})}getStepSummary(){const i="logoutUrl",a=new Map,d=this.logoutUrlForm.value[i];return(0,Fi.gP)(d)||a.set(i,[d]),a}getStepDTO(){const i=this.logoutUrlForm.value.logoutUrl;return(0,Fi.gP)(i)?{postLogoutRedirectUris:[]}:{postLogoutRedirectUris:[i]}}canNext(){return this.logoutUrlForm.valid}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(p.ze))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-logout-url"]],inputs:{data:"data"},decls:6,vars:8,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help","isLast"],["type","url","name","LogoutUrl","id","LogoutUrl","formControlName","logoutUrl",1,"tw-form-control"]],template:function(a,d){1&a&&(e.j41(0,"div",0),e.nrm(1,"p",1),e.nI1(2,"translate"),e.k0s(),e.j41(3,"form",2)(4,"app-form-row",3),e.nrm(5,"input",4),e.k0s()()),2&a&&(e.R7$(),e.Y8G("innerHTML",e.bMT(2,6,"Clients.PostLogoutURL"),e.npT),e.R7$(2),e.Y8G("formGroup",d.logoutUrlForm),e.R7$(),e.Y8G("id","LogoutUrl")("label","Common.LogoutURL")("help","Clients.LogoutURLDescription")("isLast",!0))},dependencies:[p.qT,p.me,p.BC,p.cb,p.j4,p.JD,de.Y,Mn.D9],encapsulation:2})}}return s})(),_a=(()=>{class s{constructor(i){this.fb=i}hosted(){}ngOnInit(){this.cibaConfigForm=this.fb.group({cibaLifetime:["",p.k0.required],pollingInterval:["",p.k0.required]})}getStepSummary(){const i=new Map;return i.set("cibaLifetime",[this.cibaConfigForm.get("cibaLifetime").value]),i.set("pollingInterval",[this.cibaConfigForm.get("pollingInterval").value]),this.data.clientType===yr.s.CIBAMachine&&(this.cibaLifetime=""===this.cibaConfigForm.get("cibaLifetime").value?"":this.cibaConfigForm.get("cibaLifetime").value,this.pollingInterval=""===this.cibaConfigForm.get("pollingInterval").value?"":this.cibaConfigForm.get("pollingInterval").value,i.set("cibaLifetime",[this.cibaLifetime.toString()]),i.set("pollingInterval",[this.pollingInterval.toString()])),i}getStepDTO(){const i=this.getStepSummary(),a={};return i.forEach((d,D)=>{"cibaLifetime"===D&&(D="cibaLifetime"),"pollingInterval"===D&&(D="pollingInterval"),a[D]=d[0]}),a}canNext(){return this.cibaConfigForm.valid}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(p.ze))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-ciba-configuration"]],inputs:{data:"data"},decls:8,vars:11,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help"],["type","number","name","CIBALifetime","id","CIBALifetime","formControlName","cibaLifetime",1,"tw-form-control"],[3,"id","label","help","isLast"],["type","number","name","PollingInterval","id","PollingInterval","formControlName","pollingInterval",1,"tw-form-control"]],template:function(a,d){1&a&&(e.j41(0,"div",0),e.nrm(1,"p",1),e.nI1(2,"translate"),e.k0s(),e.j41(3,"form",2)(4,"app-form-row",3),e.nrm(5,"input",4),e.k0s(),e.j41(6,"app-form-row",5),e.nrm(7,"input",6),e.k0s()()),2&a&&(e.R7$(),e.Y8G("innerHTML",e.bMT(2,9,"Clients.CIBAConfiguration"),e.npT),e.R7$(2),e.Y8G("formGroup",d.cibaConfigForm),e.R7$(),e.Y8G("id","CIBALifetime")("label","Common.CIBALifetime")("help","Clients.CIBALifetimeDescription"),e.R7$(2),e.Y8G("id","PollingInterval")("label","Common.PollingInterval")("help","Clients.CIBAPollingIntervalDescription")("isLast",!0))},dependencies:[p.qT,p.me,p.Q0,p.BC,p.cb,p.j4,p.JD,de.Y,Mn.D9],encapsulation:2})}}return s})();const PS=["commonPicker"];let pp=(()=>{class s{constructor(i,a){this.wizardResourceService=a,this.resourceType=i}hosted(){}ngOnInit(){}getStepSummary(){const a=("protectedResources"===this.resourceType?this.wizardResourceService.assignedProtectedResources:this.wizardResourceService.assignedIdentityResources).map(d=>d.name);return new Map([[this.resourceType,a]])}getStepDTO(){return{allowedScopes:[...this.wizardResourceService.assignedIdentityResources.concat(this.wizardResourceService.assignedProtectedResources).map(d=>d.name)]}}canNext(){return this.wizardResourceService.assignedIdentityResources.length>0||this.wizardResourceService.assignedProtectedResources.length>0}static{this.\u0275fac=function(a){e.QTQ()}}static{this.\u0275dir=e.FsC({type:s,viewQuery:function(a,d){if(1&a&&e.GBs(PS,7),2&a){let D;e.mGM(D=e.lsd())&&(d.commonPicker=D.first)}}})}}return s})();var E_=h(2653),dh=h(4354);function Nl(s,g){1&s&&(e.j41(0,"p"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.ProtectedResourcesAccess")))}function Zg(s,g){1&s&&(e.j41(0,"p"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.IdentityResourcesAccess")))}let Po=(()=>{class s extends pp{constructor(i,a){super("identityResources",a),this.identityResourceService=i,this.wizardResourceService=a,this.resources=[],this.assignedResources=[]}ngOnInit(){this.identityResourceService.getIdentityResources().subscribe(i=>{const a=i.find(d=>"openid"===d.name);a&&(i.splice(i.indexOf(a),1),this.assignedResources=[a],this.wizardResourceService.assignedIdentityResources=this.assignedResources),this.resources=i})}ngAfterViewInit(){this.commonPicker.assignedStream.subscribe(i=>{this.resources=(0,Fi.Yt)(this.resources.slice(),i);const a=this.assignedResources.slice();this.assignedResources=a.concat(i),this.wizardResourceService.assignedIdentityResources=this.assignedResources,this.commonPicker.availableCount=0}),this.commonPicker.unAssignedStream.subscribe(i=>{const a=this.resources;this.assignedResources=(0,Fi.Yt)(this.assignedResources.slice(),i),this.resources=a.concat(i),this.wizardResourceService.assignedIdentityResources=this.assignedResources,this.commonPicker.assignedCount=0})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(el.A),e.rXU(E_.f))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["wizard-identity-resource-picker"]],features:[e.Vt3],decls:5,vars:4,consts:[["commonPicker",""],[1,"cms","tw-mb-6"],[4,"ngIf"],[3,"assignedInput","availableInput"]],template:function(a,d){1&a&&(e.j41(0,"div",1),e.DNE(1,Nl,3,3,"p",2)(2,Zg,3,3,"p",2),e.k0s(),e.nrm(3,"app-common-picker",3,0)),2&a&&(e.R7$(),e.Y8G("ngIf","protectedResources"==d.resourceType),e.R7$(),e.Y8G("ngIf","identityResources"==d.resourceType),e.R7$(),e.Y8G("assignedInput",d.assignedResources)("availableInput",d.resources))},dependencies:[Cn.bT,dh.f,Mn.D9],encapsulation:2})}}return s})();function S_(s,g){1&s&&(e.j41(0,"p"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.ProtectedResourcesAccess")))}function T_(s,g){1&s&&(e.j41(0,"p"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.IdentityResourcesAccess")))}let Il=(()=>{class s extends pp{constructor(i,a){super("protectedResources",a),this.protectedResourceService=i,this.wizardResourceService=a,this.resources=[],this.assignedResources=[]}ngOnInit(){this.protectedResourceService.getProtectedResources().subscribe(i=>{const a=[];i.forEach(d=>{d.scopes.forEach(D=>{a.find(te=>te.name==D.name)||a.push(D)})}),this.resources=a})}ngAfterViewInit(){this.commonPicker.assignedStream.subscribe(i=>{this.resources=(0,Fi.Yt)(this.resources.slice(),i);const a=this.assignedResources.slice();this.assignedResources=a.concat(i),this.wizardResourceService.assignedProtectedResources=this.assignedResources,this.commonPicker.availableCount=0}),this.commonPicker.unAssignedStream.subscribe(i=>{const a=this.resources;this.assignedResources=(0,Fi.Yt)(this.assignedResources.slice(),i),this.resources=a.concat(i),this.wizardResourceService.assignedProtectedResources=this.assignedResources,this.commonPicker.assignedCount=0})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU($c.x),e.rXU(E_.f))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["wizard-protected-resource-picker"]],features:[e.Vt3],decls:5,vars:4,consts:[["commonPicker",""],[1,"cms","tw-mb-6"],[4,"ngIf"],[3,"assignedInput","availableInput"]],template:function(a,d){1&a&&(e.j41(0,"div",1),e.DNE(1,S_,3,3,"p",2)(2,T_,3,3,"p",2),e.k0s(),e.nrm(3,"app-common-picker",3,0)),2&a&&(e.R7$(),e.Y8G("ngIf","protectedResources"==d.resourceType),e.R7$(),e.Y8G("ngIf","identityResources"==d.resourceType),e.R7$(),e.Y8G("assignedInput",d.assignedResources)("availableInput",d.resources))},dependencies:[Cn.bT,dh.f,Mn.D9],encapsulation:2})}}return s})();var FS=h(7301),BS=h(1410);class LS extends ch.p{constructor(){super(),this.nameComponentMap.set(Gi.$.Home,[new fi.W(FS.l,BS.y.Duende)]),this.nameComponentMap.set(Gi.$.SinglePageApplication,[new fi.W(nl,new tl(yr.s.BrowserBased)),new fi.W(gc,new Ql(yr.s.BrowserBased)),new fi.W(Wu,new mc(yr.s.BrowserBased)),new fi.W(Po,{}),new fi.W(Il,{})]),this.nameComponentMap.set(Gi.$.LegacySinglePageApplication,[new fi.W(nl,new tl(yr.s.LegacyClientSide)),new fi.W(gc,new Ql(yr.s.LegacyClientSide)),new fi.W(Wu,new mc(yr.s.LegacyClientSide)),new fi.W(Po,{}),new fi.W(Il,{})]),this.nameComponentMap.set(Gi.$.SamlApplication,[new fi.W(nl,new tl(yr.s.Saml,Gc.E.Saml)),new fi.W(uh.w,{endpointType:"ACSEndpoint"}),new fi.W(uh.w,{endpointType:"SLOEndpoint"}),new fi.W(uh.w,{endpointType:"ARSEndpoint"}),new fi.W(Po)]),this.nameComponentMap.set(Gi.$.WsFedApplication,[new fi.W(nl,new tl(yr.s.WsFed,Gc.E.WsFed)),new fi.W(gc,new Ql(yr.s.WsFed)),new fi.W(Po)]),this.nameComponentMap.set(Gi.$.DeviceApplication,[new fi.W(nl,new tl(yr.s.Device)),new fi.W(Il,{}),new fi.W(Po,{})]),this.nameComponentMap.set(Gi.$.RobotApplication,[new fi.W(nl,new tl(yr.s.Machine)),new fi.W(Il,{}),new fi.W(Hu,{})]),this.nameComponentMap.set(Gi.$.CIBARobotApplication,[new fi.W(nl,new tl(yr.s.CIBAMachine)),new fi.W(Po,{}),new fi.W(Il,{}),new fi.W(Hu,{}),new fi.W(_a,{})]),this.nameComponentMap.set(Gi.$.NativeApplication,[new fi.W(nl,new tl(yr.s.Native)),new fi.W(gc,new Ql(yr.s.Native)),new fi.W(Hu,{}),new fi.W(Po,{}),new fi.W(Il,{})]),this.nameComponentMap.set(Gi.$.PKCENativeApplication,[new fi.W(nl,new tl(yr.s.NativePKCE)),new fi.W(gc,new Ql(yr.s.NativePKCE)),new fi.W(Hu,{}),new fi.W(Po,{}),new fi.W(Il,{})]),this.nameComponentMap.set(Gi.$.WebApplication,[new fi.W(nl,new tl(yr.s.ServerSide)),new fi.W(gc,new Ql(yr.s.ServerSide)),new fi.W(Wu,new mc(yr.s.ServerSide)),new fi.W(Hu,{}),new fi.W(Po,{}),new fi.W(Il,{})]),this.nameComponentMap.set(Gi.$.PKCEWebApplication,[new fi.W(nl,new tl(yr.s.ServerSidePKCE)),new fi.W(gc,new Ql(yr.s.ServerSidePKCE)),new fi.W(Wu,new mc(yr.s.ServerSidePKCE)),new fi.W(Hu,{}),new fi.W(Po,{}),new fi.W(Il,{})]),this.nameTitleMap.set(Gi.$.Home,new _o.J("Clients.Home.Title","")),this.nameTitleMap.set(Gi.$.SinglePageApplication,new _o.J("Clients.SPA.Setup","Clients.SPA.Title")),this.nameTitleMap.set(Gi.$.LegacySinglePageApplication,new _o.J("Clients.LegacySPA.Setup","Clients.LegacySPA.Title")),this.nameTitleMap.set(Gi.$.DeviceApplication,new _o.J("Clients.DeviceFlow.Setup","Clients.DeviceFlow.Title")),this.nameTitleMap.set(Gi.$.RobotApplication,new _o.J("Clients.MachineToMachine.Setup","Clients.MachineToMachine.Title")),this.nameTitleMap.set(Gi.$.CIBARobotApplication,new _o.J("Clients.CIBAMachineToMachine.Setup","Clients.CIBAMachineToMachine.Title")),this.nameTitleMap.set(Gi.$.NativeApplication,new _o.J("Clients.NativeApp.Setup","Clients.NativeApp.Title")),this.nameTitleMap.set(Gi.$.PKCENativeApplication,new _o.J("Clients.NativeApp.Setup","Clients.NativeApp.Title")),this.nameTitleMap.set(Gi.$.WebApplication,new _o.J("Clients.WebApp.Setup","Clients.WebApp.Title")),this.nameTitleMap.set(Gi.$.PKCEWebApplication,new _o.J("Clients.WebApp.Setup","Clients.PKCEWebApp.Title")),this.nameTitleMap.set(Gi.$.SamlApplication,new _o.J("Clients.Saml.Setup","Clients.Saml.Title")),this.nameTitleMap.set(Gi.$.WsFedApplication,new _o.J("Clients.WsFed.Setup","Clients.WsFed.Title"))}getWizard(g){return this.nameComponentMap.get(g)}getWizardTitle(g){return this.nameTitleMap.get(g)}}var I_=h(2420),D_=h(1715);function A_(s,g){if(1&s&&(e.j41(0,"div",5),e.nrm(1,"div",17),e.k0s()),2&s){const i=e.XpG();e.R7$(),e.xc7("width",i.progressPercent+"%"),e.BMQ("aria-valuenow",i.progressPercent)}}function zc(s,g){}function Ku(s,g){if(1&s){const i=e.RV6();e.j41(0,"button",18),e.bIt("click",function(){e.eBV(i);const d=e.XpG();return e.Njj(d.nextTab())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}if(2&s){const i=e.XpG();e.Y8G("disabled",!i.canNext()),e.R7$(),e.JRh(e.bMT(2,2,"Common.Next"))}}function qg(s,g){if(1&s){const i=e.RV6();e.j41(0,"button",19),e.bIt("click",function(){e.eBV(i);const d=e.XpG();return e.Njj(d.submit())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Common.Save")))}function R_(s,g){if(1&s){const i=e.RV6();e.j41(0,"button",20),e.bIt("click",function(){e.eBV(i);const d=e.XpG();return e.Njj(d.previousTab())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Common.Back")))}function mp(s,g){1&s&&(e.j41(0,"a",15),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"StarterMode.UpgradeAdminUI")))}let Dl=(()=>{class s extends I_.P{constructor(i,a,d,D){super(a,d,D),this.clientsService=i,this.wizardProvider=new LS,this.wizardName=Gi.$.Home}submit(){const i=this.getWizardDto();this.clientsService.addClient(i).subscribe({complete:()=>{this.finishWizard(),this.clearComponents(),this.toastr.success(this.translate.instant("Common.Created")+": "+i.clientName,this.translate.instant("Notifications.SuccessfullyCreated"))},error:a=>{this.errorService.handleError(a)}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(Sl._),e.rXU(ee.I),e.rXU(ni.tw),e.rXU(Mn.c$))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-client-wizard-host"]],features:[e.Jv_([Sl._]),e.Vt3],decls:23,vars:15,consts:[[1,"modal-header"],[1,"modal-title",3,"id"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-progress"],[1,"modal-body","scrollbars"],["appStepHost",""],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["class","tw-btn-success tw-mr-3","id","nextBtn",3,"disabled","click",4,"ngIf"],["class","tw-btn-success tw-mr-3","id","submitBtn",3,"click",4,"ngIf"],["class","tw-btn","id","backBtn",3,"click",4,"ngIf"],["id","upgradeAdminUI","href","starter-mode/teaser",1,"tw-btn","tw-ml-4"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],["role","progressbar",1,"modal-progress-bar"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],["id","submitBtn",1,"tw-btn-success","tw-mr-3",3,"click"],["id","backBtn",1,"tw-btn",3,"click"]],template:function(a,d){if(1&a&&(e.j41(0,"div",0)(1,"h5",1),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"button",2),e.bIt("click",function(){return d.hideWizard()}),e.nrm(5,"span",3),e.j41(6,"span",4),e.EFF(7),e.nI1(8,"translate"),e.k0s()()(),e.DNE(9,A_,2,3,"div",5),e.j41(10,"div",6),e.DNE(11,zc,0,0,"ng-template",7),e.k0s(),e.nrm(12,"div",8),e.j41(13,"div",9)(14,"div",10)(15,"div",11),e.DNE(16,Ku,3,4,"button",12)(17,qg,3,3,"button",13)(18,R_,3,3,"button",14)(19,mp,3,3,"a",15),e.k0s(),e.j41(20,"button",16),e.bIt("click",function(){return d.cancelWizard()}),e.EFF(21),e.nI1(22,"translate"),e.k0s()()()),2&a){let D;e.R7$(),e.Y8G("id",d.titleId),e.R7$(),e.JRh(e.bMT(3,9,null!==(D=null==d.wizardTitles?null:d.wizardTitles.setupTitle)&&void 0!==D?D:"")),e.R7$(5),e.JRh(e.bMT(8,11,"Common.Close")),e.R7$(2),e.vxM(9,d.showProgress?9:-1),e.R7$(7),e.Y8G("ngIf",d.index<(null==d.wizardSteps?null:d.wizardSteps.length)),e.R7$(),e.Y8G("ngIf",d.index==(null==d.wizardSteps?null:d.wizardSteps.length)),e.R7$(),e.Y8G("ngIf",!d.initialStep()),e.R7$(),e.vxM(19,d.initialStep()&&null!=d.asAny&&d.asAny.displayUpgradeIcon?19:-1),e.R7$(2),e.JRh(e.bMT(22,13,"Common.Cancel"))}},dependencies:[Cn.bT,D_.t,Mn.D9],encapsulation:2})}}return s})();const M_=(s,g)=>({"tw-alert":s,"tw-alert-warning":g}),gp=s=>({limit:s,type:"client applications",href:"https://www.identityserver.com/products/adminui/order-now?index=2&name=Enterprise"}),zu=(s,g)=>({"fad fa-pencil":s,"fas fa-eye":g});function x_(s,g){if(1&s){const i=e.RV6();e.j41(0,"app-client-wizard-host",12,0),e.bIt("finish",function(){e.eBV(i);const d=e.XpG();return e.Njj(d.onFinish())})("hide",function(){e.eBV(i);const d=e.XpG();return e.Njj(d.hideWizard())})("wizardCancel",function(){e.eBV(i);const d=e.XpG();return e.Njj(d.hideWizard())}),e.k0s()}if(2&s){const i=e.XpG();e.Y8G("displayUpgradeIcon",i.licenseInfo.isStarterLicense())}}function e0(s,g){if(1&s){const i=e.RV6();e.j41(0,"app-import-wizard",13,1),e.bIt("finish",function(){e.eBV(i);const d=e.XpG();return e.Njj(d.reload())}),e.k0s()}}function t0(s,g){if(1&s&&(e.j41(0,"div",14),e.nrm(1,"span",15),e.nI1(2,"translate"),e.k0s()),2&s){const i=e.XpG();e.Y8G("ngClass",e.l_i(5,M_,i.limitReached,i.overLimit)),e.R7$(),e.Y8G("innerHTML",e.i5U(2,2,"Common.QuotaLimit",e.eq3(8,gp,i.licenseInfo.maxClients)),e.npT)}}function hh(s,g){if(1&s){const i=e.RV6();e.j41(0,"div",22)(1,"label",23),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"select",24),e.mxI("ngModelChange",function(d){e.eBV(i);const D=e.XpG(2);return e.DH7(D.pageSize,d)||(D.pageSize=d),e.Njj(d)}),e.bIt("change",function(){e.eBV(i);const d=e.XpG(2);return e.Njj(d.setPageLength(+d.pageSize))}),e.j41(5,"option",25),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"option",26),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"option",27),e.EFF(12),e.nI1(13,"translate"),e.k0s()()()}if(2&s){const i=e.XpG(2);e.R7$(2),e.Lme("",i.pageSize," ",e.bMT(3,6,"Nav.PerPage"),""),e.R7$(2),e.R50("ngModel",i.pageSize),e.R7$(2),e.SpI("25 ",e.bMT(7,8,"Nav.PerPage"),""),e.R7$(3),e.SpI("50 ",e.bMT(10,10,"Nav.PerPage"),""),e.R7$(3),e.SpI("100 ",e.bMT(13,12,"Nav.PerPage"),"")}}function fh(s,g){1&s&&(e.j41(0,"span",31)(1,"span",9),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.nrm(4,"span",32),e.k0s()),2&s&&(e.R7$(2),e.JRh(e.bMT(3,1,"StarterMode.RequiresUpgrade")))}function vp(s,g){if(1&s){const i=e.RV6();e.j41(0,"button",28),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(i);const d=e.XpG(2),D=e.sdS(5);return e.Njj(d.showWizard(D,!0))}),e.j41(2,"span")(3,"span",9),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.nrm(6,"span",29),e.k0s(),e.DNE(7,fh,5,3,"span",30),e.k0s()}if(2&s){const i=e.XpG(2);e.Y8G("tooltip",e.bMT(1,3,"Clients.Import.Import")),e.R7$(4),e.JRh(e.bMT(5,5,"Clients.Import.ImportClients")),e.R7$(3),e.Y8G("ngIf",i.licenseInfo.isStarterLicense())}}function k_(s,g){if(1&s&&(e.j41(0,"span",37),e.EFF(1),e.k0s()),2&s){const i=e.XpG(3);e.R7$(),e.JRh(i.clientSelectedCount)}}function N_(s,g){1&s&&(e.j41(0,"span",38)(1,"span",9),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.nrm(4,"span",32),e.k0s()),2&s&&(e.R7$(2),e.JRh(e.bMT(3,1,"StarterMode.RequiresUpgrade")))}function O_(s,g){if(1&s){const i=e.RV6();e.j41(0,"button",33),e.bIt("click",function(){e.eBV(i);const d=e.XpG(2);return e.Njj(d.exportClients())}),e.j41(1,"span")(2,"span",9),e.EFF(3),e.k0s(),e.nrm(4,"span",34),e.DNE(5,k_,2,1,"span",35),e.k0s(),e.DNE(6,N_,5,3,"span",36),e.k0s()}if(2&s){const i=e.XpG(2);e.Y8G("tooltip",i.currentExportTooltip),e.R7$(3),e.JRh(i.currentExportText),e.R7$(2),e.Y8G("ngIf",i.shouldDisplayCount),e.R7$(),e.Y8G("ngIf",i.licenseInfo.isStarterLicense())}}function n0(s,g){if(1&s){const i=e.RV6();e.j41(0,"app-action-bar"),e.qex(1,16),e.DNE(2,hh,14,14,"div",17),e.bVm(),e.qex(3,18),e.j41(4,"button",19),e.bIt("click",function(){e.eBV(i);const d=e.XpG(),D=e.sdS(3);return e.Njj(d.showWizard(D,d.limitReached))}),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.DNE(7,vp,8,7,"button",20)(8,O_,7,4,"button",21),e.bVm(),e.k0s()}if(2&s){const i=e.XpG();e.R7$(2),e.Y8G("ngIf",(null==i.pagedResult?null:i.pagedResult.results.length)>0),e.R7$(2),e.Y8G("disabled",i.limitReached),e.R7$(),e.SpI(" ",e.bMT(6,5,"Clients.Add")," "),e.R7$(2),e.Y8G("ngIf",i.canImportExport),e.R7$(),e.Y8G("ngIf",i.canImportExport)}}function P_(s,g){1&s&&e.nrm(0,"app-simple-loader")}function F_(s,g){1&s&&(e.j41(0,"div",42)(1,"div"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&s&&(e.R7$(2),e.JRh(e.bMT(3,1,"Clients.None")))}function ca(s,g){if(1&s){const i=e.RV6();e.j41(0,"th",49)(1,"label",50)(2,"input",51),e.bIt("change",function(){e.eBV(i);const d=e.XpG(3);return e.Njj(d.toggleAllClients())}),e.mxI("ngModelChange",function(d){e.eBV(i);const D=e.XpG(3);return e.DH7(D.allClientsSelected,d)||(D.allClientsSelected=d),e.Njj(d)}),e.k0s()()()}if(2&s){const i=e.XpG(3);e.R7$(2),e.R50("ngModel",i.allClientsSelected)}}function yp(s,g){if(1&s){const i=e.RV6();e.j41(0,"label",65)(1,"input",66),e.bIt("change",function(){e.eBV(i);const d=e.XpG(5);return e.Njj(d.areAllClientsSelected())}),e.mxI("ngModelChange",function(d){e.eBV(i);const D=e.XpG(2).$implicit;return e.DH7(D.selected,d)||(D.selected=d),e.Njj(d)}),e.k0s()()}if(2&s){const i=e.XpG(2).$implicit;e.FS9("for",i.id),e.R7$(),e.FS9("id",i.id),e.R50("ngModel",i.selected)}}function r0(s,g){if(1&s&&(e.j41(0,"td",63),e.DNE(1,yp,2,3,"label",64),e.k0s()),2&s){const i=e.XpG().$implicit,a=e.XpG(3);e.R7$(),e.Y8G("ngIf",!a.isClientReadOnly(i))}}function _p(s,g){1&s&&(e.j41(0,"span",67)(1,"span",9),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&s&&(e.R7$(2),e.JRh(e.bMT(3,1,"Common.Disabled")))}function Fo(s,g){1&s&&(e.j41(0,"span",68),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Disabled")," "))}function Yu(s,g){1&s&&(e.j41(0,"span",69),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Reserved")," "))}function s0(s,g){1&s&&(e.j41(0,"span",9),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Common.Edit")))}function o0(s,g){1&s&&(e.j41(0,"span",9),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Common.View")))}function B_(s,g){if(1&s){const i=e.RV6();e.j41(0,"tr",52),e.DNE(1,r0,2,1,"td",53),e.j41(2,"td",54),e.bIt("click",function(){const d=e.eBV(i).$implicit,D=e.XpG(3);return e.Njj(D.viewOrEditClient(d))}),e.DNE(3,_p,4,3,"span",55),e.j41(4,"b"),e.EFF(5),e.k0s()(),e.j41(6,"td",56),e.bIt("click",function(){const d=e.eBV(i).$implicit,D=e.XpG(3);return e.Njj(D.viewOrEditClient(d))}),e.EFF(7),e.k0s(),e.j41(8,"td",57),e.bIt("click",function(){const d=e.eBV(i).$implicit,D=e.XpG(3);return e.Njj(D.viewOrEditClient(d))}),e.DNE(9,Fo,3,3,"span",58)(10,Yu,3,3,"span",59),e.k0s(),e.j41(11,"td",57),e.bIt("click",function(){const d=e.eBV(i).$implicit,D=e.XpG(3);return e.Njj(D.viewOrEditClient(d))}),e.j41(12,"button",60),e.bIt("click",function(){const d=e.eBV(i).$implicit,D=e.XpG(3);return e.Njj(D.viewOrEditClient(d))}),e.nrm(13,"span",61),e.DNE(14,s0,3,3,"span",62)(15,o0,3,3,"span",62),e.k0s()()()}if(2&s){const i=g.$implicit,a=e.XpG(3);e.AVh("inactive",!i.enabled||a.isClientReadOnly(i)),e.FS9("id",i.clientName),e.R7$(),e.Y8G("ngIf",!a.isIdentityServerManagerReadOnly),e.R7$(2),e.Y8G("ngIf",!i.enabled),e.R7$(),e.AVh("tw-text-blue-500",!(null!=i&&i.nonEditable)),e.R7$(),e.SpI(" ",null==i?null:i.clientName," "),e.R7$(2),e.SpI(" ",null==i?null:i.description," "),e.R7$(2),e.Y8G("ngIf",!i.enabled),e.R7$(),e.Y8G("ngIf",null==i?null:i.nonEditable),e.R7$(3),e.Y8G("ngClass",e.l_i(14,zu,!a.isIdentityServerManagerReadOnly&&!a.isClientReadOnly(i),a.isIdentityServerManagerReadOnly||a.isClientReadOnly(i))),e.R7$(),e.Y8G("ngIf",!a.isIdentityServerManagerReadOnly&&!a.isClientReadOnly(i)),e.R7$(),e.Y8G("ngIf",a.isIdentityServerManagerReadOnly||a.isClientReadOnly(i))}}function a0(s,g){if(1&s&&(e.j41(0,"table",43)(1,"thead")(2,"tr"),e.DNE(3,ca,3,1,"th",44),e.j41(4,"th",45),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"th",46),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"th",47)(11,"span",9),e.EFF(12),e.nI1(13,"translate"),e.k0s()(),e.j41(14,"th",47)(15,"span",9),e.EFF(16),e.nI1(17,"translate"),e.k0s()()()(),e.j41(18,"tbody"),e.DNE(19,B_,16,17,"tr",48),e.k0s()()),2&s){const i=e.XpG(2);e.R7$(3),e.Y8G("ngIf",!i.isIdentityServerManagerReadOnly),e.R7$(2),e.JRh(e.bMT(6,6,"Common.Name")),e.R7$(3),e.JRh(e.bMT(9,8,"Common.Description")),e.R7$(4),e.JRh(e.bMT(13,10,"Common.Reserved")),e.R7$(4),e.JRh(e.bMT(17,12,"Common.Actions")),e.R7$(3),e.Y8G("ngForOf",i.allClients)}}function L_(s,g){if(1&s){const i=e.RV6();e.j41(0,"app-pager",70),e.bIt("onGoToPage",function(d){e.eBV(i);const D=e.XpG(2);return e.Njj(D.goToPage(d))}),e.k0s()}if(2&s){const i=e.XpG(2);e.Y8G("totalResults",null==i.pagedResult?null:i.pagedResult.totalCount)("currentPage",i.page)("lastPage",null==i.pagedResult?null:i.pagedResult.pageCount)}}function l0(s,g){if(1&s&&(e.qex(0),e.DNE(1,F_,4,3,"div",39)(2,a0,20,14,"table",40)(3,L_,1,3,"app-pager",41),e.bVm()),2&s){const i=e.XpG();e.R7$(),e.Y8G("ngIf",(null==i.allClients?null:i.allClients.length)<1),e.R7$(),e.Y8G("ngIf",(null==i.allClients?null:i.allClients.length)>0),e.R7$(),e.Y8G("ngIf",(null==i.pagedResult?null:i.pagedResult.results.length)>0&&!i.isLoading)}}let U_=(()=>{class s extends vo.if{get limitReached(){return this.licenseInfo?.clientLimitReached??!1}get overLimit(){return this.licenseInfo?.overClientLimit??!1}constructor(i,a,d,D,te,Ae,et,bt,Ht,dn,yn,En){super(bt,te,!0),this.router=i,this.errorService=a,this.titleService=d,this.clientsService=D,this.translate=te,this.localize=Ae,this.exportService=et,this.securityService=Ht,this.modalService=dn,this.localizeRouter=yn,this.licenseService=En,this.pageSize=25,this.page=1,this.term="",this.isLoading=!0,this.allClients=[],this.allClientsSelected=!1,this.clientSelectedCount=0,this.currentExportText=this.translate.instant("Clients.Export.ExportAllClients"),this.currentExportTooltip=this.translate.instant("Clients.Export.ExportAll"),this.shouldDisplayCount=!1,this.canImportExport=!1,this.pageStream=new Lr.B,this.pageSizeStream=new Lr.B,this.mapSearchTerm=this.mapSearchTerm.bind(this)}reload(){this.pageStream.next(this.page),this.pageSizeStream.next(this.pageSize)}mapSearchTerm(i){return this.term=i,{searchTerm:i,page:1,pageSize:this.pageSize}}ngOnInit(){const i=this.translate.instant("Nav.Clients")+" - "+Vt.$9.SITE_TITLE;this.isLoading=!0,this.titleService.setTitle(i),this.canImportExport=this.securityService.allView;const a=this.pageStream.pipe((0,Di.T)(te=>(this.page=te,{searchTerm:this.term,page:te,pageSize:this.pageSize}))),d=this.pageSizeStream.pipe((0,Di.T)(te=>(this.pageSize=te,{searchTerm:this.term,page:this.page,pageSize:te})));a.pipe((0,Cl.X)(d),(0,Cl.X)(this.searchSource),(0,Cl.X)(this.enterKeySource),(0,vl.Z)({searchTerm:this.term,page:this.page,pageSize:this.pageSize}),(0,ga.Z)(te=>(this.isLoading=!0,this.clientsService.getClients(te.searchTerm,te.page,te.pageSize).pipe((0,va.c)(200))))).subscribe({next:te=>{this.pagedResult=te,this.allClients=this.pagedResult.results.map(Ae=>new m_(Ae)).sort((Ae,et)=>Number(et.nonEditable)-Number(Ae.nonEditable)),this.isLoading=!1},error:te=>{this.errorService.handleError(te),this.isLoading=!1}}),this.licenseService.getLicenseInfo().pipe((0,on.$)()).subscribe(te=>{this.licenseInfo=te})}checkStarterMode(){if(this.licenseInfo.isStarterLicense()){const i=this.localizeRouter.translateRoute("/starter-mode/teaser");this.router.navigate([i],{queryParams:{feature:Hg.p.ImportExportClients}})}return this.licenseInfo.isStarterLicense()}showWizard(i,a=!1){a&&this.checkStarterMode()||this.modalService.show(i,{id:Ba.R.Id,ariaLabelledBy:Ba.R.TileId,ariaDescribedby:Ba.R.DescriptionId,backdrop:"static"})}hideWizard(){this.modalService.hide(Ba.R.Id)}goToPage(i){this.pageStream.next(i)}setPageLength(i){this.page=1,this.pageSizeStream.next(i)}viewOrEditClient(i){this.isIdentityServerManagerReadOnly||this.isClientReadOnly(i)?this.viewClient(i):this.editClient(i)}viewClient(i){const a=this.localize.translateRoute("/clients/view");this.router.navigate([a,i.id])}editClient(i){const a=this.localize.translateRoute("/clients");this.router.navigate([a,i.id])}exportClients(){if(!this.checkStarterMode())if(0===this.clientSelectedCount)this.exportService.exportAllClients();else{const i=this.allClients.filter(a=>a.selected).map(a=>a.clientId);this.exportService.exportSelectedClients(i)}}areAllClientsSelected(){this.allClientsSelected=this.allClients.every(i=>i.selected||i.nonEditable),this.clientSelectedCount=this.allClients.filter(i=>i.selected&&!i.nonEditable).length,0===this.clientSelectedCount?(this.currentExportText=this.translate.instant("Clients.Export.ExportAllClients"),this.currentExportTooltip=this.translate.instant("Clients.Export.ExportAll"),this.shouldDisplayCount=!1):(this.shouldDisplayCount=this.allClients.filter(i=>!i.nonEditable).length!==this.clientSelectedCount,this.currentExportText=`${this.translate.instant("Clients.Export.ExportSelectedClients")} (${this.clientSelectedCount})`,this.currentExportTooltip=this.translate.instant("Clients.Export.ExportSelected"))}toggleAllClients(){let i=!0;this.allClients.forEach(a=>{!a.nonEditable&&!a.selected&&(i=!1)}),this.allClients.forEach(a=>{a.nonEditable||(a.selected=!i)}),this.shouldDisplayCount=!1,this.clientSelectedCount=i?0:this.allClients.filter(a=>!a.nonEditable).length,this.currentExportText=this.translate.instant("Clients.Export.ExportAllClients"),this.currentExportTooltip=this.translate.instant("Clients.Export.ExportAll"),this.allClientsSelected=!i}get isIdentityServerManagerReadOnly(){return(0,Fi.ci)(this.securityService.userPermissions)}handleInternalServerError(){this.toastr.error(this.translate.instant("Clients.Filter.StoredProcedureErrorMessage"),this.translate.instant("Notifications.Error"))}isClientReadOnly(i){const a=sh.I.RestrictedClientTypes.includes(i.clientType);return i.nonEditable||this.overLimit||a&&this.licenseInfo.isStarterLicense()}onFinish(){this.hideWizard(),this.reload()}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(St.Ix),e.rXU(ee.I),e.rXU(n.hE),e.rXU(Sl._),e.rXU(Mn.c$),e.rXU($i.QG),e.rXU(th),e.rXU(ni.tw),e.rXU(ui.i),e.rXU(kt.I8),e.rXU($i.QG),e.rXU(Oo.X))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["ng-component"]],features:[e.Vt3],decls:20,vars:14,consts:[["addClientModal",""],["importWizardModal",""],[3,"title"],["id","clientsList",1,"tw-container","tw-mx-auto"],["id","quotaLimitAlert","role","alert","class","tw-mb-4",3,"ngClass",4,"ngIf"],["id","searchContainer",1,"tw-mb-2"],[1,"tw-flex","tw-bg-white","tw-border","tw-border-grey-300","tw-opacity-75","tw-cursor-text","tw-rounded","focus-within:tw-opacity-100","focus-within:tw-border-blue-400","tw-transition-all","tw-ease-in-out"],["for","searchUserName",1,"tw-flex","tw-items-center","tw-text-grey-500","tw-m-0","tw-ml-3"],["aria-hidden","true",1,"far","fa-search","tw-text-sm"],[1,"sr-only"],["id","searchTerm","type","search",1,"tw-bg-transparent","tw-border-0","tw-text-base","tw-leading-tight","tw-px-2","tw-py-2","tw-w-full","focus:tw-outline-none","tw-transition-all","tw-ease-in-out",3,"ngModelChange","keyup","ngModel","placeholder"],[4,"ngIf"],[3,"finish","hide","wizardCancel","displayUpgradeIcon"],["id","importWizardModal",3,"finish"],["id","quotaLimitAlert","role","alert",1,"tw-mb-4",3,"ngClass"],[3,"innerHTML"],["left",""],["class","tw-hidden tw-form-select tw-w-auto sm:tw-block",4,"ngIf"],["right",""],["id","addClientBtn",1,"tw-btn-success",3,"click","disabled"],["id","importButton","class","tw-btn-white tw-ml-3","container","body",3,"tooltip","click",4,"ngIf"],["id","exportButton","class","tw-btn-white tw-ml-3 tw-relative","container","body",3,"tooltip","click",4,"ngIf"],[1,"tw-hidden","tw-form-select","tw-w-auto","sm:tw-block"],["for","pageSizeToggle",1,"sr-only"],["id","pageSizeToggle",1,"tw-form-control","tw-form-control-small",3,"ngModelChange","change","ngModel"],["value","25"],["value","50"],["value","100"],["id","importButton","container","body",1,"tw-btn-white","tw-ml-3",3,"click","tooltip"],["aria-hidden","true",1,"fad","fa-arrow-from-bottom"],["id","importUpgradeSymbol",4,"ngIf"],["id","importUpgradeSymbol"],["aria-hidden","true",1,"tw-text-secondary-500","far","fa-arrow-alt-circle-up","tw-absolute"],["id","exportButton","container","body",1,"tw-btn-white","tw-ml-3","tw-relative",3,"click","tooltip"],["aria-hidden","true",1,"fad","fa-arrow-to-bottom"],["class","ml-2",4,"ngIf"],["id","exportUpgradeSymbol",4,"ngIf"],[1,"ml-2"],["id","exportUpgradeSymbol"],["id","clientsNone","class","tw-alert","role","alert",4,"ngIf"],["id","clientsTable","class","datatable selectable hover",4,"ngIf"],[3,"totalResults","currentPage","lastPage","onGoToPage",4,"ngIf"],["id","clientsNone","role","alert",1,"tw-alert"],["id","clientsTable",1,"datatable","selectable","hover"],["class","toggle tw-w-1",4,"ngIf"],[1,"lg:tw-w-1/3"],[1,"tw-hidden","lg:tw-table-cell"],[1,"tw-w-1"],["class","group clientRow",3,"id","inactive",4,"ngFor","ngForOf"],[1,"toggle","tw-w-1"],["for","toggleAllClients",1,"toggle-label"],["id","toggleAllClients","type","checkbox",1,"tw-block","tw-cursor-pointer",3,"change","ngModelChange","ngModel"],[1,"group","clientRow",3,"id"],["class","toggle",4,"ngIf"],[1,"tw-max-w-0","tw-truncate",3,"click"],["class","fas fa-exclamation-triangle tw-text-orange-500 tw-mr-1","container","body",4,"ngIf"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell",3,"click"],[3,"click"],["class","tw-pill-warning",4,"ngIf"],["class","tw-pill",4,"ngIf"],["type","button",1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click"],["id","viewOrEditIcon","aria-hidden","true",3,"ngClass"],["class","sr-only",4,"ngIf"],[1,"toggle"],["class","toggle-label",3,"for",4,"ngIf"],[1,"toggle-label",3,"for"],["type","checkbox",1,"tw-block","tw-cursor-pointer","checkbox",3,"change","ngModelChange","id","ngModel"],["container","body",1,"fas","fa-exclamation-triangle","tw-text-orange-500","tw-mr-1"],[1,"tw-pill-warning"],[1,"tw-pill"],[3,"onGoToPage","totalResults","currentPage","lastPage"]],template:function(a,d){if(1&a){const D=e.RV6();e.nrm(0,"app-title-bar",2),e.nI1(1,"translate"),e.DNE(2,x_,2,1,"ng-template",null,0,e.C5r)(4,e0,2,0,"ng-template",null,1,e.C5r),e.j41(6,"div",3),e.DNE(7,t0,3,10,"div",4),e.j41(8,"div",5)(9,"div",6)(10,"label",7),e.nrm(11,"span",8),e.j41(12,"span",9),e.EFF(13),e.nI1(14,"translate"),e.k0s()(),e.j41(15,"input",10),e.nI1(16,"translate"),e.mxI("ngModelChange",function(Ae){return e.eBV(D),e.DH7(d.searchTerm,Ae)||(d.searchTerm=Ae),e.Njj(Ae)}),e.bIt("keyup",function(Ae){return e.eBV(D),e.Njj(d.search(Ae))}),e.k0s()()(),e.DNE(17,n0,9,7,"app-action-bar",11)(18,P_,1,0,"app-simple-loader",11)(19,l0,4,3,"ng-container",11),e.k0s()}2&a&&(e.Y8G("title",e.bMT(1,8,"Nav.Clients")),e.R7$(7),e.Y8G("ngIf",d.limitReached),e.R7$(6),e.JRh(e.bMT(14,10,"Common.Search")),e.R7$(2),e.FS9("placeholder",e.bMT(16,12,"Clients.SearchPlaceholder")),e.R50("ngModel",d.searchTerm),e.R7$(2),e.Y8G("ngIf",!d.isLoading&&!d.isIdentityServerManagerReadOnly),e.R7$(),e.Y8G("ngIf",d.isLoading),e.R7$(),e.Y8G("ngIf",!d.isLoading))},dependencies:[Cn.YU,Cn.Sq,Cn.bT,p.xH,p.y7,p.me,p.Zm,p.wz,p.BC,p.vS,Re.dg,rn.z,yl.B,Hl.n,xi.d,lh,Dl,Mn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();const c0=(s,g)=>({title:s,link:g}),V_=s=>[s];function j_(s,g){1&s&&(e.j41(0,"option",23),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Nav.Saml")))}function $_(s,g){1&s&&(e.j41(0,"option",24),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.RelyingParty.Heading")))}function G_(s,g){1&s&&(e.j41(0,"option",25),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.URLS.Title")))}function u0(s,g){1&s&&(e.j41(0,"option",26),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Common.Secrets")))}function d0(s,g){1&s&&(e.j41(0,"option",27),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Common.CIBA")))}function h0(s,g){1&s&&(e.j41(0,"span",28),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" - ",e.bMT(2,1,"StarterMode.RequiresUpgrade")," "))}function ph(s,g){1&s&&e.nrm(0,"app-custom-tab",17),2&s&&e.Y8G("tabTitle","Nav.Saml")("tabValue","saml")}function f0(s,g){1&s&&e.nrm(0,"app-custom-tab",17),2&s&&e.Y8G("tabTitle","Clients.RelyingParty.Heading")("tabValue","wsfed")}function p0(s,g){1&s&&e.nrm(0,"app-custom-tab",17),2&s&&e.Y8G("tabTitle","Clients.URLS.Title")("tabValue","applicationurls")}function m0(s,g){1&s&&e.nrm(0,"app-custom-tab",17),2&s&&e.Y8G("tabTitle","Common.Secrets")("tabValue","secrets")}function g0(s,g){1&s&&e.nrm(0,"app-custom-tab",17),2&s&&e.Y8G("tabTitle","Common.CIBA")("tabValue","ciba")}function H_(s,g){1&s&&(e.j41(0,"span",29),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Disabled")," "))}let W_=(()=>{class s{constructor(i,a,d,D,te,Ae,et,bt){this.clientCachingService=i,this.clientViewService=a,this.titleService=d,this.translate=D,this.errorService=te,this.licenseService=Ae,this.router=et,this.route=bt}ngOnInit(){this.clientSubscription=this.clientCachingService.unsavedCache$.subscribe(i=>{this.client=i;const a=this.translate.instant("Clients.Title")+" "+this.client.clientName+" - "+Vt.$9.SITE_TITLE;this.titleService.setTitle(a)}),this.licenseService.getLicenseInfo().pipe().subscribe({next:i=>this.licenseInfo=i})}ngOnDestroy(){this.clientSubscription.unsubscribe()}mobRoute(i){this.router.navigate([i],{relativeTo:this.route})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(tp.e),e.rXU(nh.q),e.rXU(n.hE),e.rXU(Mn.c$),e.rXU(ee.I),e.rXU(Oo.X),e.rXU(St.Ix),e.rXU(St.nX))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-view-client"]],features:[e.Jv_([nh.q])],decls:45,vars:54,consts:[[3,"title","crumbs","hasButton","hasTabs","isReadOnly","isReserved"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","details"],["value","saml",4,"ngIf"],["value","wsfed",4,"ngIf"],["value","applicationurls",4,"ngIf"],["value","secrets",4,"ngIf"],["value","resources"],["value","ciba",4,"ngIf"],["value","advanced"],["value","clientaudits"],["id","upgradeSymbol",4,"ngIf"],[1,"tw-hidden","md:tw-flex"],[3,"tabTitle","tabValue"],[3,"tabTitle","tabValue",4,"ngIf"],[3,"tabTitle","tabValue","restrictedStarter"],["badge",""],["class","tw-pill-warning tw-mr-2",4,"ngIf"],["id","viewClient",1,"tw-container","tw-mx-auto"],["value","saml"],["value","wsfed"],["value","applicationurls"],["value","secrets"],["value","ciba"],["id","upgradeSymbol"],[1,"tw-pill-warning","tw-mr-2"]],template:function(a,d){if(1&a&&(e.j41(0,"app-title-bar",0),e.nI1(1,"translate"),e.nI1(2,"localize"),e.qex(3,1),e.j41(4,"div",2)(5,"label",3),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"div",4)(9,"select",5),e.bIt("change",function(te){return d.mobRoute(te.target.value)}),e.j41(10,"option",6),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"option",6),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.DNE(16,j_,3,3,"option",7)(17,$_,3,3,"option",8)(18,G_,3,3,"option",9)(19,u0,3,3,"option",10),e.j41(20,"option",11),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.DNE(23,d0,3,3,"option",12),e.j41(24,"option",13),e.EFF(25),e.nI1(26,"translate"),e.k0s(),e.j41(27,"option",14),e.EFF(28),e.nI1(29,"translate"),e.DNE(30,h0,3,3,"span",15),e.k0s()()()(),e.j41(31,"app-custom-tabs",16),e.nrm(32,"app-custom-tab",17),e.DNE(33,ph,1,2,"app-custom-tab",18)(34,f0,1,2,"app-custom-tab",18)(35,p0,1,2,"app-custom-tab",18)(36,m0,1,2,"app-custom-tab",18),e.nrm(37,"app-custom-tab",17),e.DNE(38,g0,1,2,"app-custom-tab",18),e.nrm(39,"app-custom-tab",17)(40,"app-custom-tab",19),e.k0s(),e.bVm(),e.qex(41,20),e.DNE(42,H_,3,3,"span",21),e.bVm(),e.k0s(),e.j41(43,"div",22),e.nrm(44,"router-outlet"),e.k0s()),2&a){let D,te;e.Y8G("title",d.client.clientName)("crumbs",e.eq3(52,V_,e.l_i(49,c0,e.bMT(1,33,"Nav.Clients"),e.bMT(2,35,"/clients"))))("hasButton",!0)("hasTabs",!0)("isReadOnly",!0)("isReserved",d.client.nonEditable),e.R7$(6),e.JRh(e.bMT(7,37,"Nav.SubMenu")),e.R7$(5),e.SpI("",e.bMT(12,39,"Nav.SubMenu"),"..."),e.R7$(3),e.JRh(e.bMT(15,41,"Nav.Details")),e.R7$(2),e.Y8G("ngIf",d.clientViewService.saml.display),e.R7$(),e.Y8G("ngIf",d.clientViewService.wsFed.display),e.R7$(),e.Y8G("ngIf",d.clientViewService.applicationUrls.display),e.R7$(),e.Y8G("ngIf",d.clientViewService.secrets.display),e.R7$(2),e.JRh(e.bMT(22,43,"Nav.Resources")),e.R7$(2),e.Y8G("ngIf",d.clientViewService.ciba.display),e.R7$(2),e.JRh(e.bMT(26,45,"Common.Advanced")),e.R7$(3),e.SpI(" ",e.bMT(29,47,"Nav.Audits")," "),e.R7$(2),e.Y8G("ngIf",null!==(D=null==d.licenseInfo?null:d.licenseInfo.isStarterLicense())&&void 0!==D&&D),e.R7$(2),e.Y8G("tabTitle","Nav.Details")("tabValue","details"),e.R7$(),e.Y8G("ngIf",d.clientViewService.saml.display),e.R7$(),e.Y8G("ngIf",d.clientViewService.wsFed.display),e.R7$(),e.Y8G("ngIf",d.clientViewService.applicationUrls.display),e.R7$(),e.Y8G("ngIf",d.clientViewService.secrets.display),e.R7$(),e.Y8G("tabTitle","Nav.Resources")("tabValue","resources"),e.R7$(),e.Y8G("ngIf",d.clientViewService.ciba.display),e.R7$(),e.Y8G("tabTitle","Common.Advanced")("tabValue","advanced"),e.R7$(),e.Y8G("tabTitle","Nav.Audits")("tabValue","clientaudits")("restrictedStarter",null!==(te=null==d.licenseInfo?null:d.licenseInfo.isStarterLicense())&&void 0!==te&&te),e.R7$(2),e.Y8G("ngIf",!d.client.enabled)}},dependencies:[St.n3,Cn.bT,rn.z,an.G,_n.v,Mn.D9,$i.tl],encapsulation:2})}}return s})();var bp=h(8853);const Cp=[{path:"clients",component:U_,canActivate:[wr.h,Mr._],data:{permissions:[Jn.a[Jn.a.IdentityServerManager],Jn.a[Jn.a.IdentityServerManagerReadOnly],Jn.a[Jn.a.AllReadOnly],Jn.a[Jn.a.All]]}},{path:"clients/:Id",component:NS,loadChildren:()=>Promise.all([h.e(861),h.e(419),h.e(76),h.e(600)]).then(h.bind(h,6600)).then(s=>s.EditClientModule),canDeactivate:[$o.M],resolve:{client:Zd},canActivate:[wr.h,Mr._,bp.a],data:{permissions:[Jn.a[Jn.a.IdentityServerManager],Jn.a[Jn.a.All]]}},{path:"clients/view/:Id",component:W_,loadChildren:()=>Promise.all([h.e(861),h.e(419),h.e(908)]).then(h.bind(h,4908)).then(s=>s.ViewClientModule),resolve:{client:Zd},canActivate:[wr.h,Mr._],data:{permissions:[Jn.a[Jn.a.IdentityServerManager],Jn.a[Jn.a.IdentityServerManagerReadOnly],Jn.a[Jn.a.AllReadOnly],Jn.a[Jn.a.All]]}}];let VS=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({imports:[St.iI.forChild(Cp),$i.XE.forChild(Cp),St.iI]})}}return s})();var v0=h(1466),K_=h(5667);let z_=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({providers:[Zd,qd.R,v0.z,Lu.c,rp.z,sp.d,ip.S,np._,th,hc.V],imports:[VS,Cn.MD,St.iI,p.YN,cc.Y,p.X1,Re.Ss,kt.Q_,Mn.h,$i.XE,jg.F,rs.a,Bu.m,yo.i,Pa.c,Qd.t,No.c,Fa.E,co.h,dc.w,Yl.N,Tl.Y,K_.g]})}}return s})();var Y_=h(4811),y0=h(8939);class _0 extends $i.xq{constructor(g,i,a,d,D="assets/locales.json"){super(g,i,a),this.http=d,this.path=D}load(g){return new Promise(i=>{this.http.get(`${this.path}`).subscribe(a=>{this.locales=a.locales,this.prefix=a.prefix||"",this.escapePrefix=a.escapePrefix||"",this.init(g).then(i)})})}}var mh=h(7773),b0=h(6807),Al=h(967),vc=h(1985),Bo=h(6977),Xo=h(3726),$S=h(1584),C0=h(8750),Xu=h(2326),w0=h(4360);function gh(...s){return 1===(s=(0,Xu.K)(s)).length?(0,C0.Tg)(s[0]):new vc.c(function Ep(s){return g=>{let i=[];for(let a=0;i&&!g.closed&&a<s.length;a++)i.push((0,C0.Tg)(s[a]).subscribe((0,w0._)(g,d=>{if(i){for(let D=0;D<i.length;D++)D!==a&&i[D].unsubscribe();i=null}g.next(d)})))}}(s))}h(7786);var Sp=h(9326);function Ju(...s){const g=(0,Sp.ms)(s),i=(0,Xu.K)(s);return i.length?new vc.c(a=>{let d=i.map(()=>[]),D=i.map(()=>!1);a.add(()=>{d=D=null});for(let te=0;!a.closed&&te<i.length;te++)(0,C0.Tg)(i[te]).subscribe((0,w0._)(a,Ae=>{if(d[te].push(Ae),d.every(et=>et.length)){const et=d.map(bt=>bt.shift());a.next(g?g(...et):et),d.some((bt,Ht)=>!bt.length&&D[Ht])&&a.complete()}},()=>{D[te]=!0,!d[te].length&&a.complete()}));return()=>{d=D=null}}):uc.w}var Qu=h(8793),Lo=h(5964),La=h(6697),yh=h(8141),Xc=h(3993),E0=h(5558),Zu={left:"right",right:"left",bottom:"top",top:"bottom"};function _h(s){return s.replace(/left|right|bottom|top/g,function(g){return Zu[g]})}function il(s){return s.split("-")[0]}var Q_={start:"end",end:"start"};function S0(s){return s.replace(/start|end/g,function(g){return Q_[g]})}var Jo="top",Ua="bottom",rl="right",ba="left",yc="auto",Jc=[Jo,Ua,rl,ba],Zl="start",qu="end",Z_="viewport",Ol="popper",ed=Jc.reduce(function(s,g){return s.concat([g+"-"+Zl,g+"-"+qu])},[]),bh=[].concat(Jc,[yc]).reduce(function(s,g){return s.concat([g,g+"-"+Zl,g+"-"+qu])},[]),Dp=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function bo(s){if(null==s)return window;if("[object Window]"!==s.toString()){var g=s.ownerDocument;return g&&g.defaultView||window}return s}function _c(s){return s instanceof bo(s).Element||s instanceof Element}function Va(s){return s instanceof bo(s).HTMLElement||s instanceof HTMLElement}function R0(s){return!(typeof ShadowRoot>"u")&&(s instanceof bo(s).ShadowRoot||s instanceof ShadowRoot)}function sl(s){return((_c(s)?s.ownerDocument:s.document)||window.document).documentElement}var Pl=Math.max,td=Math.min,bc=Math.round;function Sh(){var s=navigator.userAgentData;return null!=s&&s.brands&&Array.isArray(s.brands)?s.brands.map(function(g){return g.brand+"/"+g.version}).join(" "):navigator.userAgent}function ql(){return!/^((?!chrome|android).)*safari/i.test(Sh())}function Qc(s,g,i){void 0===g&&(g=!1),void 0===i&&(i=!1);var a=s.getBoundingClientRect(),d=1,D=1;g&&Va(s)&&(d=s.offsetWidth>0&&bc(a.width)/s.offsetWidth||1,D=s.offsetHeight>0&&bc(a.height)/s.offsetHeight||1);var Ae=(_c(s)?bo(s):window).visualViewport,et=!ql()&&i,bt=(a.left+(et&&Ae?Ae.offsetLeft:0))/d,Ht=(a.top+(et&&Ae?Ae.offsetTop:0))/D,dn=a.width/d,yn=a.height/D;return{width:dn,height:yn,top:Ht,right:bt+dn,bottom:Ht+yn,left:bt,x:bt,y:Ht}}function Ap(s){var g=bo(s);return{scrollLeft:g.pageXOffset,scrollTop:g.pageYOffset}}function Rp(s){return Qc(sl(s)).left+Ap(s).scrollLeft}function Fl(s){return bo(s).getComputedStyle(s)}function Qo(s){return s?(s.nodeName||"").toLowerCase():null}function Th(s){return"html"===Qo(s)?s:s.assignedSlot||s.parentNode||(R0(s)?s.host:null)||sl(s)}function Mp(s){var g=Fl(s);return/auto|scroll|overlay|hidden/.test(g.overflow+g.overflowY+g.overflowX)}function M0(s){return["html","body","#document"].indexOf(Qo(s))>=0?s.ownerDocument.body:Va(s)&&Mp(s)?s:M0(Th(s))}function nd(s,g){var i;void 0===g&&(g=[]);var a=M0(s),d=a===(null==(i=s.ownerDocument)?void 0:i.body),D=bo(a),te=d?[D].concat(D.visualViewport||[],Mp(a)?a:[]):a,Ae=g.concat(te);return d?Ae:Ae.concat(nd(Th(te)))}function nb(s){return["table","td","th"].indexOf(Qo(s))>=0}function x0(s){return Va(s)&&"fixed"!==Fl(s).position?s.offsetParent:null}function id(s){for(var g=bo(s),i=x0(s);i&&nb(i)&&"static"===Fl(i).position;)i=x0(i);return i&&("html"===Qo(i)||"body"===Qo(i)&&"static"===Fl(i).position)?g:i||function k0(s){var g=/firefox/i.test(Sh());if(/Trident/i.test(Sh())&&Va(s)&&"fixed"===Fl(s).position)return null;var d=Th(s);for(R0(d)&&(d=d.host);Va(d)&&["html","body"].indexOf(Qo(d))<0;){var D=Fl(d);if("none"!==D.transform||"none"!==D.perspective||"paint"===D.contain||-1!==["transform","perspective"].indexOf(D.willChange)||g&&"filter"===D.willChange||g&&D.filter&&"none"!==D.filter)return d;d=d.parentNode}return null}(s)||g}function N0(s,g){var i=g.getRootNode&&g.getRootNode();if(s.contains(g))return!0;if(i&&R0(i)){var a=g;do{if(a&&s.isSameNode(a))return!0;a=a.parentNode||a.host}while(a)}return!1}function xp(s){return Object.assign({},s,{left:s.x,top:s.y,right:s.x+s.width,bottom:s.y+s.height})}function rd(s,g,i){return g===Z_?xp(function tb(s,g){var i=bo(s),a=sl(s),d=i.visualViewport,D=a.clientWidth,te=a.clientHeight,Ae=0,et=0;if(d){D=d.width,te=d.height;var bt=ql();(bt||!bt&&"fixed"===g)&&(Ae=d.offsetLeft,et=d.offsetTop)}return{width:D,height:te,x:Ae+Rp(s),y:et}}(s,i)):_c(g)?function ib(s,g){var i=Qc(s,!1,"fixed"===g);return i.top=i.top+s.clientTop,i.left=i.left+s.clientLeft,i.bottom=i.top+s.clientHeight,i.right=i.left+s.clientWidth,i.width=s.clientWidth,i.height=s.clientHeight,i.x=i.left,i.y=i.top,i}(g,i):xp(function Bl(s){var g,i=sl(s),a=Ap(s),d=null==(g=s.ownerDocument)?void 0:g.body,D=Pl(i.scrollWidth,i.clientWidth,d?d.scrollWidth:0,d?d.clientWidth:0),te=Pl(i.scrollHeight,i.clientHeight,d?d.scrollHeight:0,d?d.clientHeight:0),Ae=-a.scrollLeft+Rp(s),et=-a.scrollTop;return"rtl"===Fl(d||i).direction&&(Ae+=Pl(i.clientWidth,d?d.clientWidth:0)-D),{width:D,height:te,x:Ae,y:et}}(sl(s)))}function Cc(s){return s.split("-")[1]}function Ih(s){return["top","bottom"].indexOf(s)>=0?"x":"y"}function kp(s){var et,g=s.reference,i=s.element,a=s.placement,d=a?il(a):null,D=a?Cc(a):null,te=g.x+g.width/2-i.width/2,Ae=g.y+g.height/2-i.height/2;switch(d){case Jo:et={x:te,y:g.y-i.height};break;case Ua:et={x:te,y:g.y+g.height};break;case rl:et={x:g.x+g.width,y:Ae};break;case ba:et={x:g.x-i.width,y:Ae};break;default:et={x:g.x,y:g.y}}var bt=d?Ih(d):null;if(null!=bt){var Ht="y"===bt?"height":"width";switch(D){case Zl:et[bt]=et[bt]-(g[Ht]/2-i[Ht]/2);break;case qu:et[bt]=et[bt]+(g[Ht]/2-i[Ht]/2)}}return et}function sb(s){return Object.assign({},{top:0,right:0,bottom:0,left:0},s)}function ob(s,g){return g.reduce(function(i,a){return i[a]=s,i},{})}function od(s,g){void 0===g&&(g={});var a=g.placement,d=void 0===a?s.placement:a,D=g.strategy,te=void 0===D?s.strategy:D,Ae=g.boundary,et=void 0===Ae?"clippingParents":Ae,bt=g.rootBoundary,Ht=void 0===bt?Z_:bt,dn=g.elementContext,yn=void 0===dn?Ol:dn,En=g.altBoundary,On=void 0!==En&&En,kn=g.padding,ai=void 0===kn?0:kn,bi=sb("number"!=typeof ai?ai:ob(ai,Jc)),Zi=s.rects.popper,Ci=s.elements[On?yn===Ol?"reference":Ol:yn],ir=function sd(s,g,i,a){var d="clippingParents"===g?function Ll(s){var g=nd(Th(s)),a=["absolute","fixed"].indexOf(Fl(s).position)>=0&&Va(s)?id(s):s;return _c(a)?g.filter(function(d){return _c(d)&&N0(d,a)&&"body"!==Qo(d)}):[]}(s):[].concat(g),D=[].concat(d,[i]),Ae=D.reduce(function(et,bt){var Ht=rd(s,bt,a);return et.top=Pl(Ht.top,et.top),et.right=td(Ht.right,et.right),et.bottom=td(Ht.bottom,et.bottom),et.left=Pl(Ht.left,et.left),et},rd(s,D[0],a));return Ae.width=Ae.right-Ae.left,Ae.height=Ae.bottom-Ae.top,Ae.x=Ae.left,Ae.y=Ae.top,Ae}(_c(Ci)?Ci:Ci.contextElement||sl(s.elements.popper),et,Ht,te),Yi=Qc(s.elements.reference),Xi=kp({reference:Yi,element:Zi,strategy:"absolute",placement:d}),Wi=xp(Object.assign({},Zi,Xi)),Zr=yn===Ol?Wi:Yi,os={top:ir.top-Zr.top+bi.top,bottom:Zr.bottom-ir.bottom+bi.bottom,left:ir.left-Zr.left+bi.left,right:Zr.right-ir.right+bi.right},to=s.modifiersData.offset;if(yn===Ol&&to){var no=to[d];Object.keys(os).forEach(function(io){var fl=[rl,Ua].indexOf(io)>=0?1:-1,pl=[Jo,Ua].indexOf(io)>=0?"y":"x";os[io]+=no[pl]*fl})}return os}const O0={name:"flip",enabled:!0,phase:"main",fn:function WS(s){var g=s.state,i=s.options,a=s.name;if(!g.modifiersData[a]._skip){for(var d=i.mainAxis,D=void 0===d||d,te=i.altAxis,Ae=void 0===te||te,et=i.fallbackPlacements,bt=i.padding,Ht=i.boundary,dn=i.rootBoundary,yn=i.altBoundary,En=i.flipVariations,On=void 0===En||En,kn=i.allowedAutoPlacements,ai=g.options.placement,bi=il(ai),Zi=et||(bi!==ai&&On?function HS(s){if(il(s)===yc)return[];var g=_h(s);return[S0(s),g,S0(g)]}(ai):[_h(ai)]),Ci=[ai].concat(Zi).reduce(function(jr,Ha){return jr.concat(il(Ha)===yc?function Np(s,g){void 0===g&&(g={});var d=g.boundary,D=g.rootBoundary,te=g.padding,Ae=g.flipVariations,et=g.allowedAutoPlacements,bt=void 0===et?bh:et,Ht=Cc(g.placement),dn=Ht?Ae?ed:ed.filter(function(On){return Cc(On)===Ht}):Jc,yn=dn.filter(function(On){return bt.indexOf(On)>=0});0===yn.length&&(yn=dn);var En=yn.reduce(function(On,kn){return On[kn]=od(s,{placement:kn,boundary:d,rootBoundary:D,padding:te})[il(kn)],On},{});return Object.keys(En).sort(function(On,kn){return En[On]-En[kn]})}(g,{placement:Ha,boundary:Ht,rootBoundary:dn,padding:bt,flipVariations:On,allowedAutoPlacements:kn}):Ha)},[]),ir=g.rects.reference,Yi=g.rects.popper,Xi=new Map,Wi=!0,Zr=Ci[0],os=0;os<Ci.length;os++){var to=Ci[os],no=il(to),io=Cc(to)===Zl,fl=[Jo,Ua].indexOf(no)>=0,pl=fl?"width":"height",Qn=od(g,{placement:to,boundary:Ht,rootBoundary:dn,altBoundary:yn,padding:bt}),hi=fl?io?rl:ba:io?Ua:Jo;ir[pl]>Yi[pl]&&(hi=_h(hi));var Ii=_h(hi),qi=[];if(D&&qi.push(Qn[no]<=0),Ae&&qi.push(Qn[hi]<=0,Qn[Ii]<=0),qi.every(function(jr){return jr})){Zr=to,Wi=!1;break}Xi.set(to,qi)}if(Wi)for(var fa=function(Ha){var Bc=Ci.find(function(Js){var na=Xi.get(Js);if(na)return na.slice(0,Ha).every(function(Uo){return Uo})});if(Bc)return Zr=Bc,"break"},po=On?3:1;po>0&&"break"!==fa(po);po--);g.placement!==Zr&&(g.modifiersData[a]._skip=!0,g.placement=Zr,g.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function ad(s,g,i){return Pl(s,td(g,i))}function Op(s){var g=Qc(s),i=s.offsetWidth,a=s.offsetHeight;return Math.abs(g.width-i)<=1&&(i=g.width),Math.abs(g.height-a)<=1&&(a=g.height),{x:s.offsetLeft,y:s.offsetTop,width:i,height:a}}const P0={name:"preventOverflow",enabled:!0,phase:"main",fn:function cb(s){var g=s.state,i=s.options,a=s.name,d=i.mainAxis,D=void 0===d||d,te=i.altAxis,Ae=void 0!==te&&te,yn=i.tether,En=void 0===yn||yn,On=i.tetherOffset,kn=void 0===On?0:On,ai=od(g,{boundary:i.boundary,rootBoundary:i.rootBoundary,padding:i.padding,altBoundary:i.altBoundary}),bi=il(g.placement),Ti=Cc(g.placement),Zi=!Ti,Ci=Ih(bi),ir=function ab(s){return"x"===s?"y":"x"}(Ci),Yi=g.modifiersData.popperOffsets,Xi=g.rects.reference,Wi=g.rects.popper,Zr="function"==typeof kn?kn(Object.assign({},g.rects,{placement:g.placement})):kn,os="number"==typeof Zr?{mainAxis:Zr,altAxis:Zr}:Object.assign({mainAxis:0,altAxis:0},Zr),to=g.modifiersData.offset?g.modifiersData.offset[g.placement]:null,no={x:0,y:0};if(Yi){if(D){var io,fl="y"===Ci?Jo:ba,pl="y"===Ci?Ua:rl,Qn="y"===Ci?"height":"width",hi=Yi[Ci],Ii=hi+ai[fl],qi=hi-ai[pl],Is=En?-Wi[Qn]/2:0,fa=Ti===Zl?Xi[Qn]:Wi[Qn],po=Ti===Zl?-Wi[Qn]:-Xi[Qn],Ia=g.elements.arrow,jr=En&&Ia?Op(Ia):{width:0,height:0},Ha=g.modifiersData["arrow#persistent"]?g.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Bc=Ha[fl],Js=Ha[pl],na=ad(0,Xi[Qn],jr[Qn]),Uo=Zi?Xi[Qn]/2-Is-na-Bc-os.mainAxis:fa-na-Bc-os.mainAxis,Ru=Zi?-Xi[Qn]/2+Is+na+Js+os.mainAxis:po+na+Js+os.mainAxis,Lc=g.elements.arrow&&id(g.elements.arrow),qE=Lc?"y"===Ci?Lc.clientTop||0:Lc.clientLeft||0:0,ky=null!=(io=to?.[Ci])?io:0,Ny=hi+Ru-ky,Tg=ad(En?td(Ii,hi+Uo-ky-qE):Ii,hi,En?Pl(qi,Ny):qi);Yi[Ci]=Tg,no[Ci]=Tg-hi}if(Ae){var Ig,oc=Yi[ir],zd="y"===ir?"height":"width",Dg=oc+ai["x"===Ci?Jo:ba],Ag=oc-ai["x"===Ci?Ua:rl],Lf=-1!==[Jo,ba].indexOf(bi),Rg=null!=(Ig=to?.[ir])?Ig:0,Fy=Lf?Dg:oc-Xi[zd]-Wi[zd]-Rg+os.altAxis,By=Lf?oc+Xi[zd]+Wi[zd]-Rg-os.altAxis:Ag,Uf=En&&Lf?function lb(s,g,i){var a=ad(s,g,i);return a>i?i:a}(Fy,oc,By):ad(En?Fy:Dg,oc,En?By:Ag);Yi[ir]=Uf,no[ir]=Uf-oc}g.modifiersData[a]=no}},requiresIfExists:["offset"]},B0={name:"arrow",enabled:!0,phase:"main",fn:function ub(s){var g,i=s.state,a=s.name,d=s.options,D=i.elements.arrow,te=i.modifiersData.popperOffsets,Ae=il(i.placement),et=Ih(Ae),Ht=[ba,rl].indexOf(Ae)>=0?"height":"width";if(D&&te){var dn=function(g,i){return sb("number"!=typeof(g="function"==typeof g?g(Object.assign({},i.rects,{placement:i.placement})):g)?g:ob(g,Jc))}(d.padding,i),yn=Op(D),En="y"===et?Jo:ba,On="y"===et?Ua:rl,kn=i.rects.reference[Ht]+i.rects.reference[et]-te[et]-i.rects.popper[Ht],ai=te[et]-i.rects.reference[et],bi=id(D),Ti=bi?"y"===et?bi.clientHeight||0:bi.clientWidth||0:0,Yi=Ti/2-yn[Ht]/2+(kn/2-ai/2),Xi=ad(dn[En],Yi,Ti-yn[Ht]-dn[On]);i.modifiersData[a]=((g={})[et]=Xi,g.centerOffset=Xi-Yi,g)}},effect:function db(s){var g=s.state,a=s.options.element,d=void 0===a?"[data-popper-arrow]":a;null!=d&&("string"==typeof d&&!(d=g.elements.popper.querySelector(d))||N0(g.elements.popper,d)&&(g.elements.arrow=d))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function hb(s,g,i){void 0===i&&(i=!1);var a=Va(g),d=Va(g)&&function Pp(s){var g=s.getBoundingClientRect(),i=bc(g.width)/s.offsetWidth||1,a=bc(g.height)/s.offsetHeight||1;return 1!==i||1!==a}(g),D=sl(g),te=Qc(s,d,i),Ae={scrollLeft:0,scrollTop:0},et={x:0,y:0};return(a||!a&&!i)&&(("body"!==Qo(g)||Mp(D))&&(Ae=function L0(s){return s!==bo(s)&&Va(s)?function Dh(s){return{scrollLeft:s.scrollLeft,scrollTop:s.scrollTop}}(s):Ap(s)}(g)),Va(g)?((et=Qc(g,!0)).x+=g.clientLeft,et.y+=g.clientTop):D&&(et.x=Rp(D))),{x:te.left+Ae.scrollLeft-et.x,y:te.top+Ae.scrollTop-et.y,width:te.width,height:te.height}}function wc(s){var g=new Map,i=new Set,a=[];function d(D){i.add(D.name),[].concat(D.requires||[],D.requiresIfExists||[]).forEach(function(Ae){if(!i.has(Ae)){var et=g.get(Ae);et&&d(et)}}),a.push(D)}return s.forEach(function(D){g.set(D.name,D)}),s.forEach(function(D){i.has(D.name)||d(D)}),a}function fb(s){var g;return function(){return g||(g=new Promise(function(i){Promise.resolve().then(function(){g=void 0,i(s())})})),g}}var Bp={placement:"bottom",modifiers:[],strategy:"absolute"};function V0(){for(var s=arguments.length,g=new Array(s),i=0;i<s;i++)g[i]=arguments[i];return!g.some(function(a){return!(a&&"function"==typeof a.getBoundingClientRect)})}function pb(s){void 0===s&&(s={});var i=s.defaultModifiers,a=void 0===i?[]:i,d=s.defaultOptions,D=void 0===d?Bp:d;return function(Ae,et,bt){void 0===bt&&(bt=D);var Ht={placement:"bottom",orderedModifiers:[],options:Object.assign({},Bp,D),modifiersData:{},elements:{reference:Ae,popper:et},attributes:{},styles:{}},dn=[],yn=!1,En={state:Ht,setOptions:function(bi){var Ti="function"==typeof bi?bi(Ht.options):bi;kn(),Ht.options=Object.assign({},D,Ht.options,Ti),Ht.scrollParents={reference:_c(Ae)?nd(Ae):Ae.contextElement?nd(Ae.contextElement):[],popper:nd(et)};var Zi=function U0(s){var g=wc(s);return Dp.reduce(function(i,a){return i.concat(g.filter(function(d){return d.phase===a}))},[])}(function Fp(s){var g=s.reduce(function(i,a){var d=i[a.name];return i[a.name]=d?Object.assign({},d,a,{options:Object.assign({},d.options,a.options),data:Object.assign({},d.data,a.data)}):a,i},{});return Object.keys(g).map(function(i){return g[i]})}([].concat(a,Ht.options.modifiers)));return Ht.orderedModifiers=Zi.filter(function(Ci){return Ci.enabled}),function On(){Ht.orderedModifiers.forEach(function(ai){var Ti=ai.options,Ci=ai.effect;if("function"==typeof Ci){var ir=Ci({state:Ht,name:ai.name,instance:En,options:void 0===Ti?{}:Ti});dn.push(ir||function(){})}})}(),En.update()},forceUpdate:function(){if(!yn){var bi=Ht.elements,Ti=bi.reference,Zi=bi.popper;if(V0(Ti,Zi)){Ht.rects={reference:hb(Ti,id(Zi),"fixed"===Ht.options.strategy),popper:Op(Zi)},Ht.reset=!1,Ht.placement=Ht.options.placement,Ht.orderedModifiers.forEach(function(os){return Ht.modifiersData[os.name]=Object.assign({},os.data)});for(var Ci=0;Ci<Ht.orderedModifiers.length;Ci++)if(!0!==Ht.reset){var ir=Ht.orderedModifiers[Ci],Yi=ir.fn,Xi=ir.options;"function"==typeof Yi&&(Ht=Yi({state:Ht,options:void 0===Xi?{}:Xi,name:ir.name,instance:En})||Ht)}else Ht.reset=!1,Ci=-1}}},update:fb(function(){return new Promise(function(ai){En.forceUpdate(),ai(Ht)})}),destroy:function(){kn(),yn=!0}};if(!V0(Ae,et))return En;function kn(){dn.forEach(function(ai){return ai()}),dn=[]}return En.setOptions(bt).then(function(ai){!yn&&bt.onFirstUpdate&&bt.onFirstUpdate(ai)}),En}}var Ah={passive:!0};const zS={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function j0(s){var g=s.state,i=s.instance,a=s.options,d=a.scroll,D=void 0===d||d,te=a.resize,Ae=void 0===te||te,et=bo(g.elements.popper),bt=[].concat(g.scrollParents.reference,g.scrollParents.popper);return D&&bt.forEach(function(Ht){Ht.addEventListener("scroll",i.update,Ah)}),Ae&&et.addEventListener("resize",i.update,Ah),function(){D&&bt.forEach(function(Ht){Ht.removeEventListener("scroll",i.update,Ah)}),Ae&&et.removeEventListener("resize",i.update,Ah)}},data:{}},ld={name:"popperOffsets",enabled:!0,phase:"read",fn:function YS(s){var g=s.state;g.modifiersData[s.name]=kp({reference:g.rects.reference,element:g.rects.popper,strategy:"absolute",placement:g.placement})},data:{}};var mb={top:"auto",right:"auto",bottom:"auto",left:"auto"};function $0(s){var g,i=s.popper,a=s.popperRect,d=s.placement,D=s.variation,te=s.offsets,Ae=s.position,et=s.gpuAcceleration,bt=s.adaptive,Ht=s.roundOffsets,dn=s.isFixed,yn=te.x,En=void 0===yn?0:yn,On=te.y,kn=void 0===On?0:On,ai="function"==typeof Ht?Ht({x:En,y:kn}):{x:En,y:kn};En=ai.x,kn=ai.y;var bi=te.hasOwnProperty("x"),Ti=te.hasOwnProperty("y"),Zi=ba,Ci=Jo,ir=window;if(bt){var Yi=id(i),Xi="clientHeight",Wi="clientWidth";Yi===bo(i)&&"static"!==Fl(Yi=sl(i)).position&&"absolute"===Ae&&(Xi="scrollHeight",Wi="scrollWidth"),(d===Jo||(d===ba||d===rl)&&D===qu)&&(Ci=Ua,kn-=(dn&&Yi===ir&&ir.visualViewport?ir.visualViewport.height:Yi[Xi])-a.height,kn*=et?1:-1),d!==ba&&(d!==Jo&&d!==Ua||D!==qu)||(Zi=rl,En-=(dn&&Yi===ir&&ir.visualViewport?ir.visualViewport.width:Yi[Wi])-a.width,En*=et?1:-1)}var io,to=Object.assign({position:Ae},bt&&mb),no=!0===Ht?function gb(s,g){var a=s.y,d=g.devicePixelRatio||1;return{x:bc(s.x*d)/d||0,y:bc(a*d)/d||0}}({x:En,y:kn},bo(i)):{x:En,y:kn};return En=no.x,kn=no.y,Object.assign({},to,et?((io={})[Ci]=Ti?"0":"",io[Zi]=bi?"0":"",io.transform=(ir.devicePixelRatio||1)<=1?"translate("+En+"px, "+kn+"px)":"translate3d("+En+"px, "+kn+"px, 0)",io):((g={})[Ci]=Ti?kn+"px":"",g[Zi]=bi?En+"px":"",g.transform="",g))}const vb={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function G0(s){var g=s.state,i=s.options,a=i.gpuAcceleration,d=void 0===a||a,D=i.adaptive,te=void 0===D||D,Ae=i.roundOffsets,et=void 0===Ae||Ae,bt={placement:il(g.placement),variation:Cc(g.placement),popper:g.elements.popper,popperRect:g.rects.popper,gpuAcceleration:d,isFixed:"fixed"===g.options.strategy};null!=g.modifiersData.popperOffsets&&(g.styles.popper=Object.assign({},g.styles.popper,$0(Object.assign({},bt,{offsets:g.modifiersData.popperOffsets,position:g.options.strategy,adaptive:te,roundOffsets:et})))),null!=g.modifiersData.arrow&&(g.styles.arrow=Object.assign({},g.styles.arrow,$0(Object.assign({},bt,{offsets:g.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:et})))),g.attributes.popper=Object.assign({},g.attributes.popper,{"data-popper-placement":g.placement})},data:{}};var bb=[zS,ld,vb,{name:"applyStyles",enabled:!0,phase:"write",fn:function yb(s){var g=s.state;Object.keys(g.elements).forEach(function(i){var a=g.styles[i]||{},d=g.attributes[i]||{},D=g.elements[i];!Va(D)||!Qo(D)||(Object.assign(D.style,a),Object.keys(d).forEach(function(te){var Ae=d[te];!1===Ae?D.removeAttribute(te):D.setAttribute(te,!0===Ae?"":Ae)}))})},effect:function _b(s){var g=s.state,i={popper:{position:g.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(g.elements.popper.style,i.popper),g.styles=i,g.elements.arrow&&Object.assign(g.elements.arrow.style,i.arrow),function(){Object.keys(g.elements).forEach(function(a){var d=g.elements[a],D=g.attributes[a]||{},Ae=Object.keys(g.styles.hasOwnProperty(a)?g.styles[a]:i[a]).reduce(function(et,bt){return et[bt]="",et},{});!Va(d)||!Qo(d)||(Object.assign(d.style,Ae),Object.keys(D).forEach(function(et){d.removeAttribute(et)}))})}},requires:["computeStyles"]}],Cb=pb({defaultModifiers:bb});const QS={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function JS(s){var g=s.state,a=s.name,d=s.options.offset,D=void 0===d?[0,0]:d,te=bh.reduce(function(Ht,dn){return Ht[dn]=function Lp(s,g,i){var a=il(s),d=[ba,Jo].indexOf(a)>=0?-1:1,D="function"==typeof i?i(Object.assign({},g,{placement:s})):i,te=D[0],Ae=D[1];return te=te||0,Ae=(Ae||0)*d,[ba,rl].indexOf(a)>=0?{x:Ae,y:te}:{x:te,y:Ae}}(dn,g.rects,D),Ht},{}),Ae=te[g.placement],bt=Ae.y;null!=g.modifiersData.popperOffsets&&(g.modifiersData.popperOffsets.x+=Ae.x,g.modifiersData.popperOffsets.y+=bt),g.modifiersData[a]=te}},Up=["*"],Tb=["dialog"],bv={animation:!0,transitionTimerDelayMs:5};let Fh=(()=>{class s{constructor(){this.animation=bv.animation}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();function nu(s){return"string"==typeof s}function Sc(s){return null!=s}function pd(s){return(s||document.body).getBoundingClientRect()}function Ev(s=document){const g=s?.activeElement;return g?g.shadowRoot?Ev(g.shadowRoot):g:null}const $b=()=>{},{transitionTimerDelayMs:Gb}=bv,iu=new Map,ja=(s,g,i,a)=>{let d=a.context||{};const D=iu.get(g);if(D)switch(a.runningTransition){case"continue":return uc.w;case"stop":s.run(()=>D.transition$.complete()),d=Object.assign(D.context,d),iu.delete(g)}const te=i(g,a.animation,d)||$b;if(!a.animation||"none"===window.getComputedStyle(g).transitionProperty)return s.run(()=>te()),(0,Xl.of)(void 0).pipe(function Zp(s){return g=>new vc.c(i=>g.subscribe({next:te=>s.run(()=>i.next(te)),error:te=>s.run(()=>i.error(te)),complete:()=>s.run(()=>i.complete())}))}(s));const Ae=new Lr.B,et=new Lr.B,bt=Ae.pipe(function vh(...s){return g=>(0,Qu.x)(g,(0,Xl.of)(...s))}(!0));iu.set(g,{transition$:Ae,complete:()=>{et.next(),et.complete()},context:d});const Ht=function Cv(s){const{transitionDelay:g,transitionDuration:i}=window.getComputedStyle(s);return 1e3*(parseFloat(g)+parseFloat(i))}(g);return s.runOutsideAngular(()=>{const dn=(0,Xo.R)(g,"transitionend").pipe((0,Bo.Q)(bt),(0,Lo.p)(({target:En})=>En===g));gh((0,$S.O)(Ht+Gb).pipe((0,Bo.Q)(bt)),dn,et).pipe((0,Bo.Q)(bt)).subscribe(()=>{iu.delete(g),s.run(()=>{te(),Ae.next(),Ae.complete()})})}),Ae.asObservable()};let Uh=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({})}}return s})(),tm=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({})}}return s})(),ru=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({})}}return s})(),rm=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({})}}return s})();var ps=function(s){return s[s.Tab=9]="Tab",s[s.Enter=13]="Enter",s[s.Escape=27]="Escape",s[s.Space=32]="Space",s[s.PageUp=33]="PageUp",s[s.PageDown=34]="PageDown",s[s.End=35]="End",s[s.Home=36]="Home",s[s.ArrowLeft=37]="ArrowLeft",s[s.ArrowUp=38]="ArrowUp",s[s.ArrowRight=39]="ArrowRight",s[s.ArrowDown=40]="ArrowDown",s}(ps||{});const Xh=(s,g)=>!!g&&g.some(i=>i.contains(s)),Jh=(s,g)=>!g||null!=function Vb(s,g){return!g||typeof s.closest>"u"?null:s.closest(g)}(s,g),_d=typeof navigator<"u"&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const dm=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function ou(s){const g=Array.from(s.querySelectorAll(dm)).filter(i=>-1!==i.tabIndex);return[g[0],g[g.length-1]]}let lC=(()=>{class s{constructor(){this._element=(0,e.WQX)(Cn.qQ).documentElement}isRTL(){return"rtl"===(this._element.getAttribute("dir")||"").toLowerCase()}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();const Cd=/\s+/,kv=/  +/gi,cC={top:["top"],bottom:["bottom"],start:["left","right"],left:["left"],end:["right","left"],right:["right"],"top-start":["top-start","top-end"],"top-left":["top-start"],"top-end":["top-end","top-start"],"top-right":["top-end"],"bottom-start":["bottom-start","bottom-end"],"bottom-left":["bottom-start"],"bottom-end":["bottom-end","bottom-start"],"bottom-right":["bottom-end"],"start-top":["left-start","right-start"],"left-top":["left-start"],"start-bottom":["left-end","right-end"],"left-bottom":["left-end"],"end-top":["right-start","left-start"],"right-top":["right-start"],"end-bottom":["right-end","left-end"],"right-bottom":["right-end"]},uC=/^left/,Qh=/^right/,dC=/^start/,hC=/^end/;function Ov({placement:s,baseClass:g},i){let a=Array.isArray(s)?s:s.split(Cd),D=a.findIndex(bt=>"auto"===bt);D>=0&&["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"].forEach(function(bt){null==a.find(Ht=>-1!==Ht.search("^"+bt))&&a.splice(D++,1,bt)});const te=a.map(bt=>function Nv(s,g){const[i,a]=cC[s];return g&&a||i}(bt,i.isRTL()));return{placement:te.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!g,phase:"write",fn({state:bt}){const Ht=new RegExp(g+"(-[a-z]+)*","gi"),dn=bt.elements.popper,yn=bt.placement;let En=dn.className;En=En.replace(Ht,""),En+=` ${function fC(s,g){let[i,a]=g.split("-");const d=i.replace(uC,"start").replace(Qh,"end");let D=[d];if(a){let te=a;("left"===i||"right"===i)&&(te=te.replace(dC,"top").replace(hC,"bottom")),D.push(`${d}-${te}`)}return s&&(D=D.map(te=>`${s}-${te}`)),D.join(" ")}(g,yn)}`,En=En.trim().replace(kv," "),dn.className=En}},O0,P0,B0,{enabled:!0,name:"flip",options:{fallbackPlacements:te}},{enabled:!0,name:"preventOverflow",phase:"main",fn:function(){}}]}}function Pv(s){return s}new Date(1882,10,12),new Date(2174,10,25);let hf=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({})}}return s})(),Yv=(()=>{class s{constructor(){this.autoClose=!0,this.placement=["bottom-start","bottom-end","top-start","top-end"],this.popperOptions=i=>i,this.container=null}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})(),Id=(()=>{class s{constructor(){this._disabled=!1,this.nativeElement=(0,e.WQX)(e.aKT).nativeElement,this.tabindex=0}set disabled(i){this._disabled=""===i||!0===i}get disabled(){return this._disabled}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275dir=e.FsC({type:s,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:3,hostBindings:function(a,d){2&a&&(e.Mr5("tabIndex",d.disabled?-1:d.tabindex),e.AVh("disabled",d.disabled))},inputs:{tabindex:"tabindex",disabled:"disabled"},standalone:!0})}}return s})(),ff=(()=>{class s{constructor(){this.item=(0,e.WQX)(Id)}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275dir=e.FsC({type:s,selectors:[["button","ngbDropdownItem",""]],hostVars:1,hostBindings:function(a,d){2&a&&e.Mr5("disabled",d.item.disabled)},standalone:!0})}}return s})(),Dd=(()=>{class s{constructor(){this.dropdown=(0,e.WQX)(pf),this.nativeElement=(0,e.WQX)(e.aKT).nativeElement}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275dir=e.FsC({type:s,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(a,d,D){if(1&a&&e.wni(D,Id,4),2&a){let te;e.mGM(te=e.lsd())&&(d.menuItems=te)}},hostVars:4,hostBindings:function(a,d){1&a&&e.bIt("keydown.ArrowUp",function(te){return d.dropdown.onKeyDown(te)})("keydown.ArrowDown",function(te){return d.dropdown.onKeyDown(te)})("keydown.Home",function(te){return d.dropdown.onKeyDown(te)})("keydown.End",function(te){return d.dropdown.onKeyDown(te)})("keydown.Enter",function(te){return d.dropdown.onKeyDown(te)})("keydown.Space",function(te){return d.dropdown.onKeyDown(te)})("keydown.Tab",function(te){return d.dropdown.onKeyDown(te)})("keydown.Shift.Tab",function(te){return d.dropdown.onKeyDown(te)}),2&a&&e.AVh("dropdown-menu",!0)("show",d.dropdown.isOpen())},standalone:!0})}}return s})(),Ad=(()=>{class s{constructor(){this.dropdown=(0,e.WQX)(pf),this.nativeElement=(0,e.WQX)(e.aKT).nativeElement}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275dir=e.FsC({type:s,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:3,hostBindings:function(a,d){2&a&&(e.BMQ("aria-expanded",d.dropdown.isOpen()),e.AVh("show",d.dropdown.isOpen()))},standalone:!0})}}return s})(),_m=(()=>{class s extends Ad{static{this.\u0275fac=(()=>{let i;return function(d){return(i||(i=e.xGo(s)))(d||s)}})()}static{this.\u0275dir=e.FsC({type:s,selectors:[["","ngbDropdownToggle",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:3,hostBindings:function(a,d){1&a&&e.bIt("click",function(){return d.dropdown.toggle()})("keydown.ArrowUp",function(te){return d.dropdown.onKeyDown(te)})("keydown.ArrowDown",function(te){return d.dropdown.onKeyDown(te)})("keydown.Home",function(te){return d.dropdown.onKeyDown(te)})("keydown.End",function(te){return d.dropdown.onKeyDown(te)})("keydown.Tab",function(te){return d.dropdown.onKeyDown(te)})("keydown.Shift.Tab",function(te){return d.dropdown.onKeyDown(te)}),2&a&&(e.BMQ("aria-expanded",d.dropdown.isOpen()),e.AVh("show",d.dropdown.isOpen()))},standalone:!0,features:[e.Jv_([{provide:Ad,useExisting:(0,e.Rfq)(()=>s)}]),e.Vt3]})}}return s})(),pf=(()=>{class s{constructor(){this._changeDetector=(0,e.WQX)(e.gRc),this._config=(0,e.WQX)(Yv),this._document=(0,e.WQX)(Cn.qQ),this._ngZone=(0,e.WQX)(e.SKi),this._nativeElement=(0,e.WQX)(e.aKT).nativeElement,this._destroyCloseHandlers$=new Lr.B,this._bodyContainer=null,this._positioning=function Zh(){const s=(0,e.WQX)(lC);let g=null;return{createPopper(i){if(!g){let d=(i.updatePopperOptions||Pv)(Ov(i,s));g=Cb(i.hostElement,i.targetElement,d)}},update(){g&&g.update()},setOptions(i){if(g){let d=(i.updatePopperOptions||Pv)(Ov(i,s));g.setOptions(d)}},destroy(){g&&(g.destroy(),g=null)}}}(),this.autoClose=this._config.autoClose,this._open=!1,this.placement=this._config.placement,this.popperOptions=this._config.popperOptions,this.container=this._config.container,this.openChange=new e.bkB}ngOnInit(){this.display||(this.display=this._nativeElement.closest(".navbar")?"static":"dynamic")}ngAfterContentInit(){this._ngZone.onStable.pipe((0,La.s)(1)).subscribe(()=>{this._applyPlacementClasses(),this._open&&this._setCloseHandlers()})}ngOnChanges(i){if(i.container&&this._open&&this._applyContainer(this.container),i.placement&&!i.placement.firstChange&&(this._positioning.setOptions({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:"body"===this.container}),this._applyPlacementClasses()),i.dropdownClass){const{currentValue:a,previousValue:d}=i.dropdownClass;this._applyCustomDropdownClass(a,d)}i.autoClose&&this._open&&(this.autoClose=i.autoClose.currentValue,this._setCloseHandlers())}isOpen(){return this._open}open(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&(this._anchor.nativeElement.focus(),"dynamic"===this.display&&this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:"body"===this.container,updatePopperOptions:i=>this.popperOptions(function pC(s){return g=>(g.modifiers.push(QS,{name:"offset",options:{offset:()=>s}}),g)}([0,2])(i))}),this._applyPlacementClasses(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positionMenu())})))}_setCloseHandlers(){this._destroyCloseHandlers$.next(),function bd(s,g,i,a,d,D,te,Ae){i&&s.runOutsideAngular((s=>_d?()=>setTimeout(()=>s(),100):s)(()=>{const bt=(0,Xo.R)(g,"keydown").pipe((0,Bo.Q)(d),(0,Lo.p)(yn=>yn.which===ps.Escape),(0,yh.M)(yn=>yn.preventDefault())),Ht=(0,Xo.R)(g,"mousedown").pipe((0,Di.T)(yn=>{const En=yn.target;return 2!==yn.button&&!Xh(En,te)&&("inside"===i?Xh(En,D)&&Jh(En,Ae):"outside"===i?!Xh(En,D):Jh(En,Ae)||!Xh(En,D))}),(0,Bo.Q)(d)),dn=(0,Xo.R)(g,"mouseup").pipe((0,Xc.E)(Ht),(0,Lo.p)(([yn,En])=>En),(0,va.c)(0),(0,Bo.Q)(d));gh([bt.pipe((0,Di.T)(yn=>0)),dn.pipe((0,Di.T)(yn=>1))]).subscribe(yn=>s.run(()=>a(yn)))}))}(this._ngZone,this._document,this.autoClose,i=>{this.close(),0===i&&this._anchor.nativeElement.focus()},this._destroyCloseHandlers$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}close(){this._open&&(this._open=!1,this._resetContainer(),this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this._destroyCloseHandlers$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}toggle(){this.isOpen()?this.close():this.open()}ngOnDestroy(){this.close()}onKeyDown(i){const a=i.which,d=this._getMenuElements();let D=-1,te=null;const Ae=this._isEventFromToggle(i);if(!Ae&&d.length&&d.forEach((et,bt)=>{et.contains(i.target)&&(te=et),et===Ev(this._document)&&(D=bt)}),a!==ps.Space&&a!==ps.Enter){if(a!==ps.Tab){if(Ae||te){if(this.open(),d.length){switch(a){case ps.ArrowDown:D=Math.min(D+1,d.length-1);break;case ps.ArrowUp:if(this._isDropup()&&-1===D){D=d.length-1;break}D=Math.max(D-1,0);break;case ps.Home:D=0;break;case ps.End:D=d.length-1}d[D].focus()}i.preventDefault()}}else if(i.target&&this.isOpen()&&this.autoClose){if(this._anchor.nativeElement===i.target)return void("body"!==this.container||i.shiftKey?i.shiftKey&&this.close():(this._menu.nativeElement.setAttribute("tabindex","0"),this._menu.nativeElement.focus(),this._menu.nativeElement.removeAttribute("tabindex")));if("body"===this.container){const et=this._menu.nativeElement.querySelectorAll(dm);i.shiftKey&&i.target===et[0]?(this._anchor.nativeElement.focus(),i.preventDefault()):!i.shiftKey&&i.target===et[et.length-1]&&(this._anchor.nativeElement.focus(),this.close())}else(0,Xo.R)(i.target,"focusout").pipe((0,La.s)(1)).subscribe(({relatedTarget:et})=>{this._nativeElement.contains(et)||this.close()})}}else te&&(!0===this.autoClose||"inside"===this.autoClose)&&(0,Xo.R)(te,"click").pipe((0,La.s)(1)).subscribe(()=>this.close())}_isDropup(){return this._nativeElement.classList.contains("dropup")}_isEventFromToggle(i){return this._anchor.nativeElement.contains(i.target)}_getMenuElements(){return this._menu?this._menu.menuItems.filter(({disabled:i})=>!i).map(({nativeElement:i})=>i):[]}_positionMenu(){const i=this._menu;this.isOpen()&&i&&("dynamic"===this.display?(this._positioning.update(),this._applyPlacementClasses()):this._applyPlacementClasses(this._getFirstPlacement(this.placement)))}_getFirstPlacement(i){return Array.isArray(i)?i[0]:i.split(" ")[0]}_resetContainer(){this._menu&&this._nativeElement.appendChild(this._menu.nativeElement),this._bodyContainer&&(this._document.body.removeChild(this._bodyContainer),this._bodyContainer=null)}_applyContainer(i=null){if(this._resetContainer(),"body"===i){const a=this._menu.nativeElement,d=this._bodyContainer=this._bodyContainer||this._document.createElement("div");d.style.position="absolute",a.style.position="static",d.style.zIndex="1055",d.appendChild(a),this._document.body.appendChild(d)}this._applyCustomDropdownClass(this.dropdownClass)}_applyCustomDropdownClass(i,a){const d="body"===this.container?this._bodyContainer:this._nativeElement;d&&(a&&d.classList.remove(a),i&&d.classList.add(i))}_applyPlacementClasses(i){if(this._menu){i||(i=this._getFirstPlacement(this.placement)),this._nativeElement.classList.remove("dropup","dropdown"),"static"===this.display?this._menu.nativeElement.setAttribute("data-bs-popper","static"):this._menu.nativeElement.removeAttribute("data-bs-popper");const a=-1!==i.search("^top")?"dropup":"dropdown";this._nativeElement.classList.add(a),this._bodyContainer&&(this._bodyContainer.classList.remove("dropup","dropdown"),this._bodyContainer.classList.add(a))}}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275dir=e.FsC({type:s,selectors:[["","ngbDropdown",""]],contentQueries:function(a,d,D){if(1&a&&(e.wni(D,Dd,5),e.wni(D,Ad,5)),2&a){let te;e.mGM(te=e.lsd())&&(d._menu=te.first),e.mGM(te=e.lsd())&&(d._anchor=te.first)}},hostVars:2,hostBindings:function(a,d){2&a&&e.AVh("show",d.isOpen())},inputs:{autoClose:"autoClose",dropdownClass:"dropdownClass",_open:[e.Mj6.None,"open","_open"],placement:"placement",popperOptions:"popperOptions",container:"container",display:"display"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],standalone:!0,features:[e.OA$]})}}return s})(),mf=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({})}}return s})(),bm=(()=>{class s{constructor(){this._ngbConfig=(0,e.WQX)(Fh),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(i){this._animation=i}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();class Vl{constructor(g,i,a){this.nodes=g,this.viewRef=i,this.componentRef=a}}let Cm=(()=>{class s{constructor(){this._document=(0,e.WQX)(Cn.qQ)}hide(){const i=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),a=this._document.body,d=a.style,{overflow:D,paddingRight:te}=d;if(i>0){const Ae=parseFloat(window.getComputedStyle(a).paddingRight);d.paddingRight=`${Ae+i}px`}return d.overflow="hidden",()=>{i>0&&(d.paddingRight=te),d.overflow=D}}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})(),wm=(()=>{class s{constructor(){this._nativeElement=(0,e.WQX)(e.aKT).nativeElement,this._zone=(0,e.WQX)(e.SKi)}ngOnInit(){this._zone.onStable.asObservable().pipe((0,La.s)(1)).subscribe(()=>{ja(this._zone,this._nativeElement,(i,a)=>{a&&pd(i),i.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return ja(this._zone,this._nativeElement,({classList:i})=>i.remove("show"),{animation:this.animation,runningTransition:"stop"})}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(a,d){2&a&&(e.HbH("modal-backdrop"+(d.backdropClass?" "+d.backdropClass:"")),e.AVh("show",!d.animation)("fade",d.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[e.aNF],decls:0,vars:0,template:function(a,d){},encapsulation:2})}}return s})();class Xv{update(g){}close(g){}dismiss(g){}}const OC=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],PC=["animation","backdropClass"];class FC{_applyWindowOptions(g,i){OC.forEach(a=>{Sc(i[a])&&(g[a]=i[a])})}_applyBackdropOptions(g,i){PC.forEach(a=>{Sc(i[a])&&(g[a]=i[a])})}update(g){this._applyWindowOptions(this._windowCmptRef.instance,g),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,g)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,Bo.Q)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,Bo.Q)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(g,i,a,d){this._windowCmptRef=g,this._contentRef=i,this._backdropCmptRef=a,this._beforeDismiss=d,this._closed=new Lr.B,this._dismissed=new Lr.B,this._hidden=new Lr.B,g.instance.dismissEvent.subscribe(D=>{this.dismiss(D)}),this.result=new Promise((D,te)=>{this._resolve=D,this._reject=te}),this.result.then(null,()=>{})}close(g){this._windowCmptRef&&(this._closed.next(g),this._resolve(g),this._removeModalElements())}_dismiss(g){this._dismissed.next(g),this._reject(g),this._removeModalElements()}dismiss(g){if(this._windowCmptRef)if(this._beforeDismiss){const i=this._beforeDismiss();!function wv(s){return s&&s.then}(i)?!1!==i&&this._dismiss(g):i.then(a=>{!1!==a&&this._dismiss(g)},()=>{})}else this._dismiss(g)}_removeModalElements(){const g=this._windowCmptRef.instance.hide(),i=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,Xl.of)(void 0);g.subscribe(()=>{const{nativeElement:a}=this._windowCmptRef.location;a.parentNode.removeChild(a),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),i.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:a}=this._backdropCmptRef.location;a.parentNode.removeChild(a),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Ju(g,i).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var gf=function(s){return s[s.BACKDROP_CLICK=0]="BACKDROP_CLICK",s[s.ESC=1]="ESC",s}(gf||{});let Em=(()=>{class s{constructor(){this._document=(0,e.WQX)(Cn.qQ),this._elRef=(0,e.WQX)(e.aKT),this._zone=(0,e.WQX)(e.SKi),this._closed$=new Lr.B,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new e.bkB,this.shown=new Lr.B,this.hidden=new Lr.B}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":nu(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(i){this.dismissEvent.emit(i)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,La.s)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:i}=this._elRef,a={animation:this.animation,runningTransition:"stop"},te=Ju(ja(this._zone,i,()=>i.classList.remove("show"),a),ja(this._zone,this._dialogEl.nativeElement,()=>{},a));return te.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),te}_show(){const i={animation:this.animation,runningTransition:"continue"};Ju(ja(this._zone,this._elRef.nativeElement,(D,te)=>{te&&pd(D),D.classList.add("show")},i),ja(this._zone,this._dialogEl.nativeElement,()=>{},i)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:i}=this._elRef;this._zone.runOutsideAngular(()=>{(0,Xo.R)(i,"keydown").pipe((0,Bo.Q)(this._closed$),(0,Lo.p)(d=>d.which===ps.Escape)).subscribe(d=>{this.keyboard?requestAnimationFrame(()=>{d.defaultPrevented||this._zone.run(()=>this.dismiss(gf.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let a=!1;(0,Xo.R)(this._dialogEl.nativeElement,"mousedown").pipe((0,Bo.Q)(this._closed$),(0,yh.M)(()=>a=!1),(0,E0.n)(()=>(0,Xo.R)(i,"mouseup").pipe((0,Bo.Q)(this._closed$),(0,La.s)(1))),(0,Lo.p)(({target:d})=>i===d)).subscribe(()=>{a=!0}),(0,Xo.R)(i,"click").pipe((0,Bo.Q)(this._closed$)).subscribe(({target:d})=>{i===d&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!a&&this._zone.run(()=>this.dismiss(gf.BACKDROP_CLICK))),a=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:i}=this._elRef;if(!i.contains(document.activeElement)){const a=i.querySelector("[ngbAutofocus]"),d=ou(i)[0];(a||d||i).focus()}}_restoreFocus(){const i=this._document.body,a=this._elWithFocus;let d;d=a&&a.focus&&i.contains(a)?a:i,this._zone.runOutsideAngular(()=>{setTimeout(()=>d.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&ja(this._zone,this._elRef.nativeElement,({classList:i})=>(i.add("modal-static"),()=>i.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["ngb-modal-window"]],viewQuery:function(a,d){if(1&a&&e.GBs(Tb,7),2&a){let D;e.mGM(D=e.lsd())&&(d._dialogEl=D.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(a,d){2&a&&(e.BMQ("aria-modal",!0)("aria-labelledby",d.ariaLabelledBy)("aria-describedby",d.ariaDescribedBy),e.HbH("modal d-block"+(d.windowClass?" "+d.windowClass:"")),e.AVh("fade",d.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[e.aNF],ngContentSelectors:Up,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(a,d){1&a&&(e.NAR(),e.j41(0,"div",1,0)(2,"div",2),e.SdG(3),e.k0s()()),2&a&&e.HbH("modal-dialog"+(d.size?" modal-"+d.size:"")+(d.centered?" modal-dialog-centered":"")+d.fullscreenClass+(d.scrollable?" modal-dialog-scrollable":"")+(d.modalDialogClass?" "+d.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}}return s})(),Sm=(()=>{class s{constructor(){this._applicationRef=(0,e.WQX)(e.o8S),this._injector=(0,e.WQX)(e.zZn),this._environmentInjector=(0,e.WQX)(e.uvJ),this._document=(0,e.WQX)(Cn.qQ),this._scrollBar=(0,e.WQX)(Cm),this._activeWindowCmptHasChanged=new Lr.B,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new e.bkB;const i=(0,e.WQX)(e.SKi);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const a=this._windowCmpts[this._windowCmpts.length-1];((s,g,i,a=!1)=>{s.runOutsideAngular(()=>{const d=(0,Xo.R)(g,"focusin").pipe((0,Bo.Q)(i),(0,Di.T)(D=>D.target));(0,Xo.R)(g,"keydown").pipe((0,Bo.Q)(i),(0,Lo.p)(D=>D.which===ps.Tab),(0,Xc.E)(d)).subscribe(([D,te])=>{const[Ae,et]=ou(g);(te===Ae||te===g)&&D.shiftKey&&(et.focus(),D.preventDefault()),te===et&&!D.shiftKey&&(Ae.focus(),D.preventDefault())}),a&&(0,Xo.R)(g,"click").pipe((0,Bo.Q)(i),(0,Xc.E)(d),(0,Di.T)(D=>D[1])).subscribe(D=>D.focus())})})(i,a.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(a.location.nativeElement)}})}_restoreScrollBar(){const i=this._scrollBarRestoreFn;i&&(this._scrollBarRestoreFn=null,i())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(i,a,d){const D=d.container instanceof HTMLElement?d.container:Sc(d.container)?this._document.querySelector(d.container):this._document.body;if(!D)throw new Error(`The specified modal container "${d.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const te=new Xv,Ae=(i=d.injector||i).get(e.uvJ,null)||this._environmentInjector,et=this._getContentRef(i,Ae,a,te,d);let bt=!1!==d.backdrop?this._attachBackdrop(D):void 0,Ht=this._attachWindowComponent(D,et.nodes),dn=new FC(Ht,et,bt,d.beforeDismiss);return this._registerModalRef(dn),this._registerWindowCmpt(Ht),dn.hidden.pipe((0,La.s)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),te.close=yn=>{dn.close(yn)},te.dismiss=yn=>{dn.dismiss(yn)},te.update=yn=>{dn.update(yn)},dn.update(d),1===this._modalRefs.length&&this._document.body.classList.add("modal-open"),bt&&bt.instance&&bt.changeDetectorRef.detectChanges(),Ht.changeDetectorRef.detectChanges(),dn}get activeInstances(){return this._activeInstances}dismissAll(i){this._modalRefs.forEach(a=>a.dismiss(i))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(i){let a=(0,e.a0P)(wm,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(a.hostView),i.appendChild(a.location.nativeElement),a}_attachWindowComponent(i,a){let d=(0,e.a0P)(Em,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:a});return this._applicationRef.attachView(d.hostView),i.appendChild(d.location.nativeElement),d}_getContentRef(i,a,d,D,te){return d?d instanceof e.C4Q?this._createFromTemplateRef(d,D):nu(d)?this._createFromString(d):this._createFromComponent(i,a,d,D,te):new Vl([])}_createFromTemplateRef(i,a){const D=i.createEmbeddedView({$implicit:a,close(te){a.close(te)},dismiss(te){a.dismiss(te)}});return this._applicationRef.attachView(D),new Vl([D.rootNodes],D)}_createFromString(i){const a=this._document.createTextNode(`${i}`);return new Vl([[a]])}_createFromComponent(i,a,d,D,te){const Ae=e.zZn.create({providers:[{provide:Xv,useValue:D}],parent:i}),et=(0,e.a0P)(d,{environmentInjector:a,elementInjector:Ae}),bt=et.location.nativeElement;return te.scrollable&&bt.classList.add("component-host-scrollable"),this._applicationRef.attachView(et.hostView),new Vl([[bt]],et.hostView,et)}_setAriaHidden(i){const a=i.parentElement;a&&i!==this._document.body&&(Array.from(a.children).forEach(d=>{d!==i&&"SCRIPT"!==d.nodeName&&(this._ariaHiddenValues.set(d,d.getAttribute("aria-hidden")),d.setAttribute("aria-hidden","true"))}),this._setAriaHidden(a))}_revertAriaHidden(){this._ariaHiddenValues.forEach((i,a)=>{i?a.setAttribute("aria-hidden",i):a.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(i){const a=()=>{const d=this._modalRefs.indexOf(i);d>-1&&(this._modalRefs.splice(d,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(i),this._activeInstances.emit(this._modalRefs),i.result.then(a,a)}_registerWindowCmpt(i){this._windowCmpts.push(i),this._activeWindowCmptHasChanged.next(),i.onDestroy(()=>{const a=this._windowCmpts.indexOf(i);a>-1&&(this._windowCmpts.splice(a,1),this._activeWindowCmptHasChanged.next())})}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})(),Jv=(()=>{class s{constructor(){this._injector=(0,e.WQX)(e.zZn),this._modalStack=(0,e.WQX)(Sm),this._config=(0,e.WQX)(bm)}open(i,a={}){const d={...this._config,animation:this._config.animation,...a};return this._modalStack.open(this._injector,i,d)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(i){this._modalStack.dismissAll(i)}hasOpenModals(){return this._modalStack.hasOpenModals()}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})(),Tm=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({providers:[Jv]})}}return s})(),Am=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({})}}return s})(),Rm=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({})}}return s})(),KC=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({})}}return s})(),Mc=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({})}}return s})(),zC=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({})}}return s})(),QC=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({})}}return s})(),l1=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({})}}return s})(),Nm=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({})}}return s})(),Om=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({})}}return s})();new e.nKC("live announcer delay",{providedIn:"root",factory:()=>100});let _f=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({})}}return s})(),kd=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({})}}return s})();const sw=[Uh,tm,ru,rm,hf,mf,Tm,Am,kd,Rm,KC,Mc,zC,QC,l1,Nm,Om,_f];let d1=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({imports:[sw,Uh,tm,ru,rm,hf,mf,Tm,Am,kd,Rm,KC,Mc,zC,QC,l1,Nm,Om,_f]})}}return s})(),Fm=(()=>{class s{intercept(i,a){if(i.url.startsWith("https://"))return a.handle(i);const d=(0,Fi.$_)(),D=i.clone({url:`${d}${i.url}`});return a.handle(D)}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac})}}return s})();class ow{constructor(g,i="/assets/i18n/",a=".json"){this.http=g,this.prefix=i,this.suffix=a}getTranslation(g){return this.http.get(`${this.prefix}${g}${this.suffix}`)}}var ul=h(3431),Nd=h(9625);let Fs=(()=>{class s{constructor(){let i=new Nd.UAParser,a=i.getBrowser(),d=i.getOS();this.browserName=a.name,this.browserVersion=a.major,this.browserVersionToInt=parseInt(a.major),this.operatingSystem=d.name,this.operatingSystemVersion=d.version}validBrowser(){switch(this.browserName){case To.InternetExplorer:return this.verifyInternetExplorer();case To.Edge:return this.verifyEdge();case To.Firefox:return this.verifyFirefox();case To.Chrome:return this.verifyChrome();case To.Safari:case To.MobileSafari:return this.verifySafari();case To.Opera:case To.OperaMobile:return this.verifyOpera();case To.SamsungInternet:return this.verifySamsungInternet()}return!1}verifyInternetExplorer(){return this.browserVersion.startsWith("11")&&this.operatingSystem==ic.Windows&&this.operatingSystemVersion.startsWith("10")}verifyEdge(){return this.browserVersionToInt>=16}verifyFirefox(){return this.operatingSystem==ic.Android||this.operatingSystem==ic.ApplePhone?this.browserVersionToInt>=92:this.browserVersionToInt>=60}verifyChrome(){return this.operatingSystem==ic.Android||this.operatingSystem==ic.ApplePhone?this.browserVersionToInt>=93:this.browserVersionToInt>=51}verifySafari(){const i=parseFloat(this.operatingSystemVersion);return this.browserName==To.MobileSafari?this.browserVersionToInt>=12:this.browserVersionToInt>14||this.browserVersionToInt>=12&&i>=10.14}verifyOpera(){return this.browserName==To.OperaMobile?this.browserVersionToInt>12:this.browserVersionToInt>=39}verifySamsungInternet(){return this.browserVersionToInt>=5}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac})}}return s})(),To=(()=>{class s{static{this.InternetExplorer="IE"}static{this.Edge="Edge"}static{this.Firefox="Firefox"}static{this.Chrome="Chrome"}static{this.Safari="Safari"}static{this.MobileSafari="Mobile Safari"}static{this.Opera="Opera"}static{this.OperaMobile="Opera Mobi"}static{this.SamsungInternet="Samsung Internet"}}return s})(),ic=(()=>{class s{static{this.Windows="Windows"}static{this.Android="Android"}static{this.ApplePhone="iOS"}}return s})();var Ea=h(5060),Od=h(8810);let h1=(()=>{class s{static{this.EnforcerCompilationError=599}static{this.ExpiredTokenRedirect=413}}return s})(),cu=(()=>{class s{constructor(i,a,d,D){this.router=i,this.localizeRouterService=a,this.appComponentViewService=d,this.securityService=D}intercept(i,a){return a.handle(i).pipe((0,la.W)(d=>{if(d.status===h1.ExpiredTokenRedirect)return this.securityService.startLogin(),Ea.t;if(d.status===h1.EnforcerCompilationError){this.appComponentViewService.failedEnforcerCompilation();const D=this.localizeRouterService.translateRoute("/unauthorized");return document.dispatchEvent(new Event("appready")),this.router.navigate([D],{state:{enforcer:!0}}),Ea.t}return(0,Od.$)(()=>d)}))}static{this.\u0275fac=function(a){return new(a||s)(e.KVO(St.Ix),e.KVO($i.QG),e.KVO(gs.X),e.KVO(ui.i))}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac})}}return s})();var Bm=h(3488),bf=h(8400),aw=h(7275),f1=h(275),Ys=h(1957),Lm=h(4412);let Vr=(()=>{class s{constructor(){this.unsavedCache=new Lm.t(null),this.unsavedCache$=this.unsavedCache.asObservable(),this.savedCache=new Lm.t(null),this.savedCache$=this.savedCache.asObservable(),this.componentDirtyValidMap=new Map}onSave(){this.componentDirtyValidMap.clear()}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})(),ss=(()=>{class s{constructor(i,a){this.http=i,this.actionUrl="DynamicAuthentication",this.headers=a.setHeaders()}get(i,a,d,D){let te=new w.Nl;return(0,Fi.gP)(i)||(te=te.append("scheme",i)),a&&(te=te.append("page",a)),d&&(te=te.append("pageSize",d)),(0,Fi.gP)(D)||(te=te.append("filters",D)),this.http.get(this.actionUrl,{headers:this.headers,params:te})}createDynamicAuth(i){return this.http.post(this.actionUrl,i,{headers:this.headers})}getDynamicAuth(i){return this.http.get(`${this.actionUrl}/${i}`,{headers:this.headers})}updateDynamicAuth(i){return this.http.put(`${this.actionUrl}/${i.scheme}`,i,{headers:this.headers})}deleteDynamicAuth(i){return this.http.delete(`${this.actionUrl}/${i}`,{headers:this.headers})}replaceSigningCert(i,a,d){return this.http.put(`${this.actionUrl}/${i}/saml/sp/signing-certificate`,{certBase64:a,certPassword:d},{headers:this.headers})}removeSigningCert(i){return this.http.delete(`${this.actionUrl}/${i}/saml/sp/signing-certificate`,{headers:this.headers})}replaceEncryptionCert(i,a,d){return this.http.put(`${this.actionUrl}/${i}/saml/sp/encryption-certificate`,{certBase64:a,certPassword:d},{headers:this.headers})}removeEncryptionCert(i){return this.http.delete(`${this.actionUrl}/${i}/saml/sp/encryption-certificate`,{headers:this.headers})}schemaHealthy(){return this.http.get(`${this.actionUrl}/validate`,{headers:this.headers}).pipe((0,Di.T)(a=>a.isValid??!1))}static{this.\u0275fac=function(a){return new(a||s)(e.KVO(w.Qq),e.KVO(Jd.m))}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac})}}return s})();var s,Qr=function(s){return s[s.OIDC=0]="OIDC",s[s.SAML=1]="SAML",s}(Qr||{});function Ef(s){return{...s,type:Qr[s.type]}}function Vm(s){return{...s,type:Qr[s.type]}}function ho(s){return JSON.parse(s)}function ea(s){return JSON.parse(s)}(s=Qr||(Qr={})).fromWizardType=function g(i){switch(i){case Gi.$.AddOidcDynamicAuth:return s.OIDC;case Gi.$.AddSamlDynamicAuth:return s.SAML}};let Fd=(()=>{class s{constructor(i,a,d){this.dynamicAuthService=i,this.changeCachingService=a,this.errorService=d}resolve(i,a){return this.dynamicAuthService.getDynamicAuth(i.params.Scheme).pipe((0,Di.T)(D=>{let te;return D&&(te=Ef(D),this.changeCachingService.unsavedCache.next(te)),te}),(0,la.W)((D,te)=>(404===D.status?this.errorService.resourceNotFound(ko.v.dynamicAuth):this.errorService.handleError(D),(0,uc.I)())))}static{this.\u0275fac=function(a){return new(a||s)(e.KVO(ss),e.KVO(Vr),e.KVO(ee.I))}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac})}}return s})();var Bd=h(9568),Sa=function(s){return s[s.Query=0]="Query",s[s.FormPost=1]="FormPost",s[s.Fragment=2]="Fragment",s}(Sa||{}),m1=function(s){return s.OIDC="oidc",s.SAML="saml2p",s.Enabled="enabled",s.Disabled="disabled",s}(m1||{}),$s=function(s){return s.AuthCode="AuthCode",s.AuthCodePlusPkce="AuthCodePlusPkce",s}($s||{});class Xs{static{this.DiscoveryDocumentPath="/.well-known/openid-configuration"}static{this.DiscoveryDocCachingDuration=6e4}static{this.FlowTypes=[$s.AuthCode,$s.AuthCodePlusPkce]}static{this.RequiredScopes=["openid"]}static{this.ScopeOptions=[...Xs.RequiredScopes,"profile","email"]}static{this.MaxScopeLength=100}static{this.SignInSchemeOptions=[{name:"DynamicAuth.SignInScheme.IdSExternalLogin.Name",value:"Idsrv.External",help:"DynamicAuth.SignInScheme.IdSExternalLogin.Help"},{name:"DynamicAuth.SignInScheme.AspNetExternalLogin.Name",value:"Identity.External",help:"DynamicAuth.SignInScheme.AspNetExternalLogin.Help"}]}static{this.SignInSchemeCodeFrag='services.AddAuthentication("local-cookie")\n    .AddCookie("local-cookie")\n\t.AddCookie("other-cookie");'}static{this.SamlSignInSchemeCodeFrag='services.AddIdentityServer(...)\n            .AddSamlDynamicProvider(options => {\n                options.SignInScheme = "MyIdentityScheme"; \n            });'}static{this.SamlSignOutSchemeCodeFrag='services.AddIdentityServer(...)\n            .AddSamlDynamicProvider(options => {\n                options.SignOutScheme = "MyIdentityScheme";\n            });'}static{this.AdminUIOidcDiscoveryDocumentEndpoint="DynamicAuthentication/DiscDoc"}static{this.AdminUISamlMetadataEndpoint="DynamicAuthentication/SAML/ValidateMetadataAddr"}static AllowRemoveScope(g){return!this.RequiredScopes.includes(g)}static{this.ResponseModeMap=new Map([["query",Sa.Query],["form_post",Sa.FormPost],["fragment",Sa.Fragment]])}static{this.ResponseModeKey=g=>[...Xs.ResponseModeMap.entries()].filter(({1:a})=>a===g).map(([a])=>a)[0]}}let xc=(()=>{class s{get cacheTimeout(){return Xs.DiscoveryDocCachingDuration}constructor(i,a){this.http=i,this.cacheTime=0,this.discoveryDoc=new bn.m(1),this.headers=a.setHeaders()}getDiscoveryDocument(i,a=!1){this.actionUrl=Xs.AdminUIOidcDiscoveryDocumentEndpoint;const d=Date.now()-this.cacheTime>=this.cacheTimeout;if(!a&&(!i||this.previousAuthority===i&&!d&&this.discoveryDoc))return this.discoveryDoc.asObservable();let D=new w.Nl;return D=D.append("authority",i),this.http.get(this.actionUrl,{headers:this.headers,params:D}).pipe((0,Bd.t)(1),(0,Di.T)(te=>(this.previousAuthority=i,this.cacheTime=Date.now(),this.discoveryDoc.next(te),te)),(0,la.W)(te=>(this.previousAuthority=i,this.cacheTime=Date.now(),this.discoveryDoc.next(null),(0,Xl.of)(null))))}isValid(i){return this.getDiscoveryDocument(i,!0).pipe((0,Di.T)(a=>!(!a||!a.issuer)))}supportedScopes(i){return this.getDiscoveryDocument(i).pipe((0,Di.T)(a=>a?.scopes_supported??Xs.ScopeOptions))}validateMetadataUrl(i){this.actionUrl=Xs.AdminUISamlMetadataEndpoint;let a=new w.Nl;return a=a.append("metadataUrl",i),this.http.get(this.actionUrl,{headers:this.headers,params:a}).pipe((0,Bd.t)(1),(0,Di.T)(d=>!0),(0,la.W)(d=>(0,Xl.of)(!1)))}static{this.\u0275fac=function(a){return new(a||s)(e.KVO(w.Qq),e.KVO(Jd.m))}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac})}}return s})();var da=h(978);let g1=(()=>{class s{constructor(i){this.fb=i}ngOnInit(){this.clientSecretForm=this.fb.group({clientSecret:[""]})}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return!this.clientSecretForm.invalid}hosted(){}toStepDto(){const i={};return i.clientSecret=this.clientSecretForm.get("clientSecret").value,i}toSummaryMap(){const i=new Map;return i.set("clientSecret",[this.clientSecretForm.get("clientSecret").value]),i}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(p.ze))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-client-secret-step"]],inputs:{data:"data"},decls:6,vars:8,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help","isLast"],["type","text","name","ClientSecret","id","ClientSecret","formControlName","clientSecret",1,"tw-form-control"]],template:function(a,d){1&a&&(e.j41(0,"div",0),e.nrm(1,"p",1),e.nI1(2,"translate"),e.k0s(),e.j41(3,"form",2)(4,"app-form-row",3),e.nrm(5,"input",4),e.k0s()()),2&a&&(e.R7$(),e.Y8G("innerHTML",e.bMT(2,6,"DynamicAuth.Wizard.OIDC.ClientSecretStep.Title"),e.npT),e.R7$(2),e.Y8G("formGroup",d.clientSecretForm),e.R7$(),e.Y8G("id","ClientSecret")("label","DynamicAuth.ClientSecret.Label")("help","DynamicAuth.ClientSecret.Help")("isLast",!0))},dependencies:[p.qT,p.me,p.BC,p.cb,p.j4,p.JD,de.Y,Mn.D9],encapsulation:2})}}return s})();var v1=h(5568);function jl(){return p.k0.pattern(/^([/]{1}[\w-]{0,}){1,}$/)}function rI(s){if((0,Fi.hX)(s.value))return{invalidUri:"Errors.ValidateAbsoluteUri.NullOrUndefined"};let g=(0,v1.parse)(s.value);return(0,Fi.gP)(g.query)&&(0,Fi.gP)(g.fragment)?"absolute"!==g.reference?{invalidUri:"Errors.ValidateAbsoluteUri.MustBeAbsolute"}:(0,Fi.gP)(g.error)?null:{invalidUri:g.error}:{invalidUri:"Errors.ValidateAbsoluteUri.MustNotContainQueryFragmeant"}}function lw(s,g){1&s&&(e.j41(0,"app-form-row",3),e.nrm(1,"input",11),e.k0s()),2&s&&e.Y8G("id","CallbackPath")("label","DynamicAuth.CallbackPath.Label")("help","DynamicAuth.CallbackPath.Help")}function Sf(s,g){if(1&s&&(e.j41(0,"option",12),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s){const i=g.$implicit;e.Y8G("value",i),e.R7$(),e.JRh(e.bMT(2,2,"DynamicAuth.Flows."+i))}}let jm=(()=>{class s{constructor(i,a,d,D,te){this.fb=i,this.configService=a,this.translate=d,this.providerValidator=D,this.toastr=te,this.failedToContactAuthority=!1,this.allowedFlows=Xs.FlowTypes}ngOnInit(){this.configServiceSub=this.configService.getConfig().subscribe({next:i=>{this.isRskDynamicAuth=i.featureFlagOptions.dynamicAuthenticationFlag==da.U.Rsk}}),this.buildForm()}ngOnDestroy(){this.configServiceSub.unsubscribe()}tryReachAuthority(){var i=this.connectionForm.get("authority").value;this.providerValidator.isValid(i).subscribe(a=>{a||this.toastr.warning(this.translate.instant("DynamicAuth.Authority.ReachableWarningMsg"),this.translate.instant("DynamicAuth.Authority.ReachableWarningTitle"))})}buildForm(){let i={authority:["https://",[p.k0.required,p.k0.pattern("^https://.{1,}$")]],clientId:["",p.k0.required]};this.isRskDynamicAuth&&(i.callbackPath=["/oidc-scheme",[p.k0.required,jl()]]),i.flow=[$s.AuthCodePlusPkce,[p.k0.required]],this.connectionForm=this.fb.group(i)}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return!this.connectionForm.invalid}hosted(){}toStepDto(){const i={};return i.authority=this.connectionForm.get("authority").value,i.clientId=this.connectionForm.get("clientId").value,this.isRskDynamicAuth&&(i.callbackPath=this.connectionForm.get("callbackPath").value),i.flow=this.connectionForm.get("flow").value,i}toSummaryMap(){const i=new Map;return i.set("authority",[this.connectionForm.get("authority").value]),i.set("idpClientId",[this.connectionForm.get("clientId").value]),this.isRskDynamicAuth&&i.set("callbackPath",[this.connectionForm.get("callbackPath").value]),i.set("flow",[this.translate.instant("DynamicAuth.Flows."+this.connectionForm.get("flow").value)]),i}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(p.ze),e.rXU(js.w),e.rXU(Mn.c$),e.rXU(xc),e.rXU(ni.tw))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-connection-step"]],inputs:{data:"data"},decls:13,vars:16,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help"],["type","text","name","Authority","id","Authority","formControlName","authority","required","",1,"tw-form-control",3,"focusout"],["type","text","name","ClientId","id","ClientId","formControlName","clientId","required","",1,"tw-form-control"],[3,"id","label","help",4,"ngIf"],[3,"id","label","help","isLast"],[1,"tw-form-select"],["id","Flow","formControlName","flow",1,"tw-form-control"],[3,"value",4,"ngFor","ngForOf"],["type","text","name","CallbackPath","id","CallbackPath","formControlName","callbackPath","required","",1,"tw-form-control"],[3,"value"]],template:function(a,d){1&a&&(e.j41(0,"div",0),e.nrm(1,"p",1),e.nI1(2,"translate"),e.k0s(),e.j41(3,"form",2)(4,"app-form-row",3)(5,"input",4),e.bIt("focusout",function(){return d.tryReachAuthority()}),e.k0s()(),e.j41(6,"app-form-row",3),e.nrm(7,"input",5),e.k0s(),e.DNE(8,lw,2,3,"app-form-row",6),e.j41(9,"app-form-row",7)(10,"div",8)(11,"select",9),e.DNE(12,Sf,3,4,"option",10),e.k0s()()()()),2&a&&(e.R7$(),e.Y8G("innerHTML",e.bMT(2,14,"DynamicAuth.Wizard.OIDC.ConnectionStep.Title"),e.npT),e.R7$(2),e.Y8G("formGroup",d.connectionForm),e.R7$(),e.Y8G("id","Authority")("label","DynamicAuth.Authority.Label")("help","DynamicAuth.Authority.Help"),e.R7$(2),e.Y8G("id","ClientId")("label","DynamicAuth.ClientId.Label")("help","DynamicAuth.ClientId.Help"),e.R7$(2),e.Y8G("ngIf",d.isRskDynamicAuth),e.R7$(),e.Y8G("id","Flow")("label","DynamicAuth.Flow.Label")("help","DynamicAuth.Flow.Help")("isLast",!0),e.R7$(3),e.Y8G("ngForOf",d.allowedFlows))},dependencies:[Cn.Sq,Cn.bT,p.qT,p.xH,p.y7,p.me,p.wz,p.BC,p.cb,p.YS,p.j4,p.JD,de.Y,Mn.D9],encapsulation:2})}}return s})();var uu=h(803);function du(s,g){if(1&s&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"slice"),e.k0s()),2&s){const i=g.item;e.R7$(),e.JRh(i.length>20?e.brH(2,1,i,0,20)+"...":i)}}function y1(s,g){1&s&&(e.j41(0,"div",16)(1,"div"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&s&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"DynamicAuth.NoScopesMessage")," "))}function _1(s,g){1&s&&(e.j41(0,"span",20),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Reserved")," "))}function hu(s,g){if(1&s){const i=e.RV6();e.j41(0,"button",21),e.bIt("click",function(){e.eBV(i);const d=e.XpG().$implicit,D=e.XpG(2);return e.Njj(D.removeScope(d))}),e.nrm(1,"span",22),e.j41(2,"span",13),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}if(2&s){const i=e.XpG().$implicit;e.Y8G("id","btnRemove"+i),e.R7$(3),e.JRh(e.bMT(4,2,"Common.Remove.Title"))}}function $m(s,g){if(1&s&&(e.j41(0,"tr")(1,"td",17)(2,"span"),e.EFF(3),e.k0s()(),e.j41(4,"td"),e.DNE(5,_1,3,3,"span",18),e.k0s(),e.j41(6,"td"),e.DNE(7,hu,5,4,"button",19),e.k0s()()),2&s){const i=g.$implicit,a=e.XpG(2);e.R7$(3),e.JRh(i),e.R7$(2),e.Y8G("ngIf",!a.allowRemoveScope(i)),e.R7$(2),e.Y8G("ngIf",a.allowRemoveScope(i))}}function Gm(s,g){if(1&s&&(e.j41(0,"div",9),e.DNE(1,y1,4,3,"div",10),e.j41(2,"table",11)(3,"thead")(4,"th",12)(5,"span",13),e.EFF(6),e.nI1(7,"translate"),e.k0s()(),e.j41(8,"th",14)(9,"span",13),e.EFF(10),e.nI1(11,"translate"),e.k0s()(),e.j41(12,"th",14)(13,"span",13),e.EFF(14),e.nI1(15,"translate"),e.k0s()()(),e.j41(16,"tbody"),e.DNE(17,$m,8,3,"tr",15),e.k0s()()()),2&s){const i=e.XpG();e.Y8G("id","Scopes"),e.R7$(),e.Y8G("ngIf",i.scopes.length<=0),e.R7$(5),e.JRh(e.bMT(7,6,"Common.Scope")),e.R7$(4),e.JRh(e.bMT(11,8,"Common.Reserved")),e.R7$(4),e.JRh(e.bMT(15,10,"Common.Actions")),e.R7$(3),e.Y8G("ngForOf",i.scopes)}}let b1=(()=>{class s{constructor(i,a,d,D){this.toastrService=i,this.translateService=a,this.fb=d,this.providerValidator=D,this.scopes=[...Xs.RequiredScopes],this.maxScopeLength=Xs.MaxScopeLength}ngOnInit(){this.scopesForm=this.fb.group({newScope:[""]}),this.options=new vc.c(i=>{let a=this.scopesForm.get("newScope").value;i.next(a)}).pipe((0,E0.n)(i=>this.providerValidator.supportedScopes().pipe((0,Di.T)(a=>this.filterScopes(i,a)))))}filterScopes(i,a){const d=!i;return a.filter(D=>!this.scopes.includes(D)&&(d||D.includes(i)))}addScope(){var i=this.scopesForm.get("newScope").value;if(""!==i)if(this.scopes.includes(i)){const a=this.translateService.instant("DynamicAuth.Scopes.AlreadyAdded");this.toastrService.error(a)}else if(i.indexOf(" ")>=0){const a=this.translateService.instant("DynamicAuth.Scopes.CannotHaveSpaces");this.toastrService.error(a)}else this.scopes.push(i);else this.toastrService.error(this.translateService.instant("DynamicAuth.Scopes.MustSpecifyScope"))}removeScope(i){const a=this.scopes.indexOf(i);if(-1!==a)this.scopes.splice(a,1);else{const d=this.translateService.instant("DynamicAuth.Scopes.MustSpecifyScope");this.toastrService.error(d)}}allowRemoveScope(i){return Xs.AllowRemoveScope(i)}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return!0}hosted(){}toStepDto(){const i={};return i.scopes=this.scopes,i}toSummaryMap(){const i=new Map;return i.set("scopes",this.scopes),i}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(ni.tw),e.rXU(Mn.c$),e.rXU(p.ze),e.rXU(xc))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-scopes-step"]],inputs:{data:"data"},decls:14,vars:20,consts:[["customItemTemplate",""],[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","hasLabel","isLast"],[1,"tw-form-typeahead"],["id","new-scope-input","formControlName","newScope","type","text","name","New Scope","container","#addIdpModal","autocomplete","off","left","",1,"tw-form-control",3,"typeahead","typeaheadWaitMs","typeaheadAsync","typeaheadItemTemplate","typeaheadMinLength","placeholder","maxlength"],["id","addScopeButton","right","",1,"tw-btn-success",3,"click"],["class","tw-mt-6",3,"id",4,"ngIf"],[1,"tw-mt-6",3,"id"],["class","tw-alert","role","alert",4,"ngIf"],[1,"datatable"],[1,"tw-w-full"],[1,"sr-only"],[1,"tw-w-1"],[4,"ngFor","ngForOf"],["role","alert",1,"tw-alert"],[1,"tw-table-cell","tw-max-w-0","tw-truncate"],["class","tw-pill",4,"ngIf"],["class","tw-btn-link tw-btn-small tw-text-red-500",3,"id","click",4,"ngIf"],[1,"tw-pill"],[1,"tw-btn-link","tw-btn-small","tw-text-red-500",3,"click","id"],["aria-hidden","true",1,"fas","fa-times"]],template:function(a,d){if(1&a){const D=e.RV6();e.j41(0,"div",1),e.nrm(1,"p",2),e.nI1(2,"translate"),e.k0s(),e.DNE(3,du,3,5,"ng-template",null,0,e.C5r),e.j41(5,"form",3)(6,"app-form-row",4)(7,"app-row-bar",5),e.nrm(8,"input",6),e.nI1(9,"translate"),e.j41(10,"button",7),e.bIt("click",function(){return e.eBV(D),e.Njj(d.addScope())}),e.EFF(11),e.nI1(12,"translate"),e.k0s()()(),e.DNE(13,Gm,18,12,"div",8),e.k0s()}if(2&a){const D=e.sdS(4);e.R7$(),e.Y8G("innerHTML",e.bMT(2,14,"DynamicAuth.Wizard.OIDC.ScopesStep.Title"),e.npT),e.R7$(4),e.Y8G("formGroup",d.scopesForm),e.R7$(),e.Y8G("id","NewScope")("hasLabel",!1)("isLast",!0),e.R7$(2),e.FS9("placeholder",e.bMT(9,16,"DynamicAuth.Scopes.Placeholder")),e.Y8G("typeahead",d.options)("typeaheadWaitMs",200)("typeaheadAsync",!0)("typeaheadItemTemplate",D)("typeaheadMinLength",0)("maxlength",d.maxScopeLength),e.R7$(3),e.SpI(" ",e.bMT(12,18,"Common.Add")," "),e.R7$(2),e.Y8G("ngIf",d.scopes.length>0)}},dependencies:[Cn.Sq,Cn.bT,p.qT,p.me,p.BC,p.cb,p.tU,p.j4,p.JD,bf.Xi,de.Y,uu.f,Cn.P9,Mn.D9],encapsulation:2})}}return s})(),Hm=(()=>{class s{constructor(i){this.fb=i}ngOnInit(){this.nameRoleForm=this.fb.group({scheme:["",[p.k0.required,p.k0.pattern(/^[\d\w-]*$/)]],displayName:["",[p.k0.required]]})}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return!this.nameRoleForm.invalid}hosted(){}toStepDto(){const i={};return i.scheme=this.nameRoleForm.get("scheme").value,i.displayName=this.nameRoleForm.get("displayName").value,i}toSummaryMap(){const i=new Map;return i.set("scheme",[this.nameRoleForm.get("scheme").value]),i.set("displayName",[this.nameRoleForm.get("displayName").value]),i}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(p.ze))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-name-role-step"]],inputs:{data:"data"},decls:8,vars:11,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help"],["type","text","name","Scheme","id","Scheme","formControlName","scheme","required","",1,"tw-form-control"],[3,"id","label","help","isLast"],["type","text","name","DisplayName","id","DisplayName","formControlName","displayName","required","",1,"tw-form-control"]],template:function(a,d){1&a&&(e.j41(0,"div",0),e.nrm(1,"p",1),e.nI1(2,"translate"),e.k0s(),e.j41(3,"form",2)(4,"app-form-row",3),e.nrm(5,"input",4),e.k0s(),e.j41(6,"app-form-row",5),e.nrm(7,"input",6),e.k0s()()),2&a&&(e.R7$(),e.Y8G("innerHTML",e.bMT(2,9,"DynamicAuth.Wizard.NameRoleStep.Title"),e.npT),e.R7$(2),e.Y8G("formGroup",d.nameRoleForm),e.R7$(),e.Y8G("id","Scheme")("label","DynamicAuth.Scheme.Label")("help","DynamicAuth.Scheme.Help"),e.R7$(2),e.Y8G("id","DisplayName")("label","DynamicAuth.DisplayName.Label")("help","DynamicAuth.DisplayName.Help")("isLast",!0))},dependencies:[p.qT,p.me,p.BC,p.cb,p.YS,p.j4,p.JD,de.Y,Mn.D9],encapsulation:2})}}return s})();function cw(s,g){if(1&s&&(e.j41(0,"span",10),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s){const i=e.XpG().$implicit;e.R7$(),e.SpI(" ",e.bMT(2,1,i.help)," ")}}function uw(s,g){if(1&s&&(e.j41(0,"li",5)(1,"label",6),e.nrm(2,"input",7),e.j41(3,"span",8),e.EFF(4),e.nI1(5,"translate"),e.k0s()(),e.DNE(6,cw,3,3,"span",9),e.k0s()),2&s){const i=g.$implicit,a=g.index,d=e.XpG();e.R7$(),e.FCK("for","",d.id,"-item-",a,""),e.R7$(),e.FCK("id","",d.id,"-item-",a,""),e.Y8G("value",i.value),e.R7$(2),e.JRh(e.bMT(5,9,i.name)),e.R7$(2),e.Y8G("ngIf",i.help)}}function fu(s,g){if(1&s&&(e.j41(0,"li",5)(1,"label",6),e.nrm(2,"input",7),e.j41(3,"span",8),e.EFF(4),e.nI1(5,"translate"),e.nI1(6,"translate"),e.k0s()()()),2&s){const i=e.XpG();e.R7$(),e.Mz_("for","",i.id,"-item-custom"),e.R7$(),e.Mz_("id","",i.id,"-item-custom"),e.Y8G("value",i.customRadioValue),e.R7$(2),e.Lme("",e.bMT(5,7,"Common.Custom")," ",e.bMT(6,9,i.label),"")}}function w1(s,g){if(1&s){const i=e.RV6();e.j41(0,"app-form-row",11)(1,"input",12),e.nI1(2,"translate"),e.bIt("ngModelChange",function(d){e.eBV(i);const D=e.XpG();return e.Njj(D.valueChanged.emit(d))}),e.k0s()()}if(2&s){const i=e.XpG();e.Mz_("id","",i.id,"-custom"),e.Y8G("label","Common.Custom")("isLast",i.isLast),e.R7$(),e.Mz_("id","",i.id,"-item-value"),e.FS9("placeholder",e.bMT(2,8,i.placeholder)),e.Y8G("ngModel",i.value)}}let dw=(()=>{class s{constructor(i){this.fb=i,this.listItems=[],this.allowCustom=!1,this.valueChanged=new e.bkB,this.customRadioValue="CUSTOM_VALUE"}ngOnInit(){const i=this.listItems.some(a=>a.value===this.value)?this.value:this.customRadioValue;this.radioForm=this.fb.group({radioVal:[i]}),this.radioForm.get("radioVal").valueChanges.subscribe(a=>{this.valueChanged.emit(a===this.customRadioValue?"":a)})}showCustom(){return this.radioForm.get("radioVal").value===this.customRadioValue}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(p.ze))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-radio-list-input"]],inputs:{id:"id",label:"label",help:"help",listItems:"listItems",placeholder:"placeholder",allowCustom:"allowCustom",isLast:"isLast",value:"value"},outputs:{valueChanged:"valueChanged"},decls:6,vars:14,consts:[[3,"id","label","help","isLast","formGroup"],["role","group",1,"tw-form-checks",3,"id"],["class","tw-form-checks__item",4,"ngFor","ngForOf"],["class","tw-form-checks__item",4,"ngIf"],[3,"id","label","isLast",4,"ngIf"],[1,"tw-form-checks__item"],[1,"tw-form-checks__label",3,"for"],["type","radio","formControlName","radioVal",1,"tw-form-checks__input",3,"id","value"],[1,"tw-form-label"],["class","tw-form-label-help",4,"ngIf"],[1,"tw-form-label-help"],[3,"id","label","isLast"],["type","text","name","value",1,"tw-form-control",3,"ngModelChange","id","ngModel","placeholder"]],template:function(a,d){1&a&&(e.j41(0,"app-form-row",0)(1,"ul",1),e.nI1(2,"translate"),e.DNE(3,uw,7,11,"li",2)(4,fu,7,11,"li",3),e.k0s()(),e.DNE(5,w1,3,10,"app-form-row",4)),2&a&&(e.Mz_("id","",d.id,"-options"),e.Y8G("label",d.label)("help",d.help)("isLast",!d.showCustom()&&d.isLast)("formGroup",d.radioForm),e.R7$(),e.Mz_("id","",d.id,"-options-list"),e.BMQ("aria-label",e.bMT(2,12,d.label)),e.R7$(2),e.Y8G("ngForOf",d.listItems),e.R7$(),e.Y8G("ngIf",d.allowCustom),e.R7$(),e.Y8G("ngIf",d.showCustom()))},dependencies:[p.me,p.Fm,p.BC,p.cb,p.vS,p.j4,p.JD,Cn.Sq,Cn.bT,de.Y,Mn.D9],encapsulation:2})}}return s})();function hw(s,g){if(1&s&&(e.j41(0,"app-form-row",7)(1,"app-form-toggle",8),e.nrm(2,"input",9),e.k0s()()),2&s){const i=e.XpG(2);e.Y8G("id","DifferentScheme")("label","DynamicAuth.DifferentSignOut.Label")("help","DynamicAuth.DifferentSignOut.Help")("isLast",!i.diffSignOut),e.R7$(),e.Y8G("id","DifferentScheme")("isTraffic",!0)("isAlt",!1)}}function fw(s,g){if(1&s){const i=e.RV6();e.j41(0,"app-radio-list-input",10),e.bIt("valueChanged",function(d){e.eBV(i);const D=e.XpG(2);return e.Njj(D.signInSchemeForm.get("outScheme").setValue(d))}),e.k0s()}if(2&s){const i=e.XpG(2);e.Y8G("label","DynamicAuth.SignOutScheme.Label")("help","DynamicAuth.SignOutScheme.Help")("listItems",i.options)("allowCustom",!0)("value",i.signInSchemeForm.get("outScheme").value)("isLast",!0)}}function E1(s,g){if(1&s){const i=e.RV6();e.j41(0,"form",3)(1,"app-radio-list-input",4),e.bIt("valueChanged",function(d){e.eBV(i);const D=e.XpG();return e.Njj(D.signInSchemeForm.get("scheme").setValue(d))}),e.k0s(),e.DNE(2,hw,3,7,"app-form-row",5)(3,fw,1,6,"app-radio-list-input",6),e.k0s()}if(2&s){const i=e.XpG();e.Y8G("formGroup",i.signInSchemeForm),e.R7$(),e.Y8G("label","DynamicAuth.SignInScheme.Label")("help","DynamicAuth.SignInScheme.Help")("listItems",i.options)("allowCustom",!0)("value",i.signInSchemeForm.get("scheme").value)("isLast",!1),e.R7$(),e.Y8G("ngIf",i.isRskDynamicAuth),e.R7$(),e.Y8G("ngIf",i.diffSignOut)}}let Wm=(()=>{class s{constructor(i,a){this.fb=i,this.configService=a,this.isRskDynamicAuth=!1,this.options=Xs.SignInSchemeOptions,this.snippet=Xs.SamlSignInSchemeCodeFrag}ngOnInit(){this.configService.getConfig().pipe((0,on.$)()).subscribe({next:i=>{this.isRskDynamicAuth=i.featureFlagOptions.dynamicAuthenticationFlag==da.U.Rsk,this.isRskDynamicAuth?(this.signInSchemeForm=this.fb.group({scheme:[this.options[0].value,p.k0.required],diffSignOut:[!1],outScheme:[this.options[0].value]}),this.signInSchemeForm.get("diffSignOut").valueChanges.subscribe(a=>{this.signInSchemeForm.get("outScheme").setValidators(a?[p.k0.required]:[])})):this.signInSchemeForm=this.fb.group({scheme:[this.options[0].value,p.k0.required]})}})}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return!this.signInSchemeForm.invalid}hosted(){}get diffSignOut(){return this.isRskDynamicAuth&&this.signInSchemeForm.get("diffSignOut").value}toStepDto(){const i={};return i.signInScheme=this.signInSchemeForm.get("scheme").value,this.diffSignOut&&(i.signOutScheme=this.signInSchemeForm.get("outScheme").value),i}toSummaryMap(){const i=new Map;return i.set("signInScheme",[this.signInSchemeForm.get("scheme").value]),this.diffSignOut&&i.set("signOutScheme",[this.signInSchemeForm.get("outScheme").value]),i}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(p.ze),e.rXU(js.w))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-sign-in-scheme-step"]],inputs:{data:"data"},decls:4,vars:4,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],["id","Scheme","placeholder","DynamicAuth.SignInScheme.Placeholder",3,"valueChanged","label","help","listItems","allowCustom","value","isLast"],[3,"id","label","help","isLast",4,"ngIf"],["id","OutScheme","placeholder","DynamicAuth.SignOutScheme.Placeholder",3,"label","help","listItems","allowCustom","value","isLast","valueChanged",4,"ngIf"],[3,"id","label","help","isLast"],[3,"id","isTraffic","isAlt"],["id","DifferentScheme","formControlName","diffSignOut","type","checkbox",1,"tw-form-switch__input"],["id","OutScheme","placeholder","DynamicAuth.SignOutScheme.Placeholder",3,"valueChanged","label","help","listItems","allowCustom","value","isLast"]],template:function(a,d){1&a&&(e.j41(0,"div",0),e.nrm(1,"p",1),e.nI1(2,"translate"),e.k0s(),e.DNE(3,E1,4,9,"form",2)),2&a&&(e.R7$(),e.Y8G("innerHTML",e.bMT(2,2,"DynamicAuth.Wizard.SignInSchemeStep.Title"),e.npT),e.R7$(2),e.Y8G("ngIf",d.signInSchemeForm))},dependencies:[Cn.bT,p.qT,p.Zm,p.BC,p.cb,p.j4,p.JD,de.Y,Yo.m,dw,Mn.D9],encapsulation:2})}}return s})();function pw(s,g){1&s&&(e.nrm(0,"span",8),e.nI1(1,"translate")),2&s&&e.Y8G("innerHTML",e.bMT(1,1,"Errors.PathValidation"),e.npT)}let sI=(()=>{class s{constructor(i,a){this.fb=i,this.configService=a}ngOnInit(){this.configService.getConfig().pipe((0,on.$)()).subscribe({next:i=>{this.isRskDynamicAuth=i.featureFlagOptions.dynamicAuthenticationFlag==da.U.Rsk,this.buildForm()}})}ngOnDestroy(){}buildForm(){let i=this.dtoSnapshot?.scheme;(0,Fi.gP)(i)&&(i="{scheme}");let d={entityId:["",[p.k0.required]],callbackPath:[this.isRskDynamicAuth?`/signin/dynamic/${i}`:`/federation/${i}/signin-saml`,[p.k0.required,jl()]]};this.serviceProviderForm=this.fb.group(d)}validCallbackPath(){return this.serviceProviderForm.get("callbackPath").valid}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return!this.serviceProviderForm.invalid}hosted(){}toStepDto(){const i={};return i.entityId=this.serviceProviderForm.get("entityId").value,i.callbackPath=this.serviceProviderForm.get("callbackPath").value,i}toSummaryMap(){const i=new Map;return i.set("entityId",[this.serviceProviderForm.get("entityId").value]),i.set("callbackPathAcs",[this.serviceProviderForm.get("callbackPath").value]),i}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(p.ze),e.rXU(js.w))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-service-provider-step"]],inputs:{data:"data"},decls:9,vars:12,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help"],["type","text","name","EntityId","id","EntityId","formControlName","entityId","required","",1,"tw-form-control"],[3,"id","label","help","isLast"],["type","text","name","CallbackPath","id","CallbackPath","formControlName","callbackPath","required","",1,"tw-form-control"],["id","CallbackWarn","class","tw-form-text-warning",3,"innerHTML",4,"ngIf"],["id","CallbackWarn",1,"tw-form-text-warning",3,"innerHTML"]],template:function(a,d){1&a&&(e.j41(0,"div",0),e.nrm(1,"p",1),e.nI1(2,"translate"),e.k0s(),e.j41(3,"form",2)(4,"app-form-row",3),e.nrm(5,"input",4),e.k0s(),e.j41(6,"app-form-row",5),e.nrm(7,"input",6),e.DNE(8,pw,2,3,"span",7),e.k0s()()),2&a&&(e.R7$(),e.Y8G("innerHTML",e.bMT(2,10,"DynamicAuth.Wizard.SAML.ServiceProviderStep.Title"),e.npT),e.R7$(2),e.Y8G("formGroup",d.serviceProviderForm),e.R7$(),e.Y8G("id","EntityId")("label","DynamicAuth.EntityId.Label")("help","DynamicAuth.EntityId.Help"),e.R7$(2),e.Y8G("id","CallbackPath")("label","DynamicAuth.CallbackPathAcsEndpoint.Label")("help","DynamicAuth.CallbackPathAcsEndpoint.Help")("isLast",!0),e.R7$(2),e.Y8G("ngIf",!d.validCallbackPath()))},dependencies:[Cn.bT,p.qT,p.me,p.BC,p.cb,p.YS,p.j4,p.JD,de.Y,Mn.D9],encapsulation:2})}}return s})();var $a=h(1746);const Km=["fileInput"];let zm=(()=>{class s{get ReadOnlyFieldType(){return or.t}constructor(i,a,d,D){this.fb=i,this.certService=a,this.toastr=d,this.translate=D,this.validCertificateForm=!1,this.selectedFile=void 0,this.fileName=new $a.w(""),this.fileContent=void 0,this.passwordDisabled=!0}ngOnInit(){this.buildForm()}buildForm(){this.certForm=this.fb.group({certPassword:["",[]]})}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return this.disableClearBtn()||this.validCertificateForm}hosted(){}handleFileInput(i){this.selectedFile=i.item(0),this.passwordDisabled=!1,this.requestCertValidation()}requestCertValidation(){this.validCertificateForm=!1}disableTestBtn(){return null==this.selectedFile}disableClearBtn(){const i=this.certForm.get("certPassword").value;return null==this.selectedFile&&""==i}validateForm(){if(null==this.selectedFile)return void this.toastr.error(this.translate.instant("Notifications.CertInValidMsg"),this.translate.instant("Notifications.CertInValidTitle"));this.fileName=new $a.w(""),this.fileContent=void 0;const i=this.certForm.get("certPassword").value;this.certService.verifyCertFilePassword(this.selectedFile,i,{next:a=>{this.fileName=new $a.w(this.selectedFile?.name),this.fileContent=a,this.validCertificateForm=!0,this.toastr.success(this.translate.instant("Notifications.CertValidTitle"))},error:a=>{this.validCertificateForm=!1,this.toastr.error(this.translate.instant("Notifications.CertInValidMsg"),this.translate.instant("Notifications.CertInValidTitle"))}})}clearCertificateForm(){this.fileInputNative.nativeElement.value=null,this.selectedFile=null,this.fileName=new $a.w(""),this.fileContent=void 0,this.certForm.get("certPassword").setValue(""),this.passwordDisabled=!0,this.validCertificateForm=!1}toStepDto(){const i={};return i.certFile=this.fileContent,i.certPassword=this.certForm.get("certPassword").value,i}toSummaryMap(){const i=new Map;return i.set("certFile",[this.selectedFile?.name]),i.set("certPassword",[this.certForm.get("certPassword").value]),i}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(p.ze),e.rXU(hc.V),e.rXU(ni.tw),e.rXU(Mn.c$))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-signing-step"]],viewQuery:function(a,d){if(1&a&&e.GBs(Km,5),2&a){let D;e.mGM(D=e.lsd())&&(d.fileInputNative=D.first)}},inputs:{data:"data"},decls:18,vars:19,consts:[["fileInput","","selectedFile",""],[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help"],[1,"tw-form-control"],["id","fileInput","type","file","name","file","accept",".pfx,.p12",1,"tw-form-file","tw-max-w-full",3,"change"],[3,"input","id","label"],["type","text","name","CertPassword","id","CertPassword","formControlName","certPassword",1,"tw-form-control",3,"readonly"],[3,"isLast"],["id","testBtn",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],["id","clearBtn",1,"tw-btn","tw-mr-3",3,"click","disabled"]],template:function(a,d){if(1&a){const D=e.RV6();e.j41(0,"div",1),e.nrm(1,"p",2),e.nI1(2,"translate"),e.k0s(),e.j41(3,"form",3)(4,"app-form-row",4)(5,"div",5)(6,"input",6,0),e.bIt("change",function(Ae){return e.eBV(D),e.Njj(d.handleFileInput(Ae.target.files))}),e.k0s()()(),e.j41(9,"app-form-row",7),e.bIt("input",function(){return e.eBV(D),e.Njj(d.requestCertValidation())}),e.nrm(10,"input",8),e.k0s(),e.j41(11,"app-form-row",9)(12,"button",10),e.bIt("click",function(){return e.eBV(D),e.Njj(d.validateForm())}),e.EFF(13),e.nI1(14,"translate"),e.k0s(),e.j41(15,"button",11),e.bIt("click",function(){return e.eBV(D),e.Njj(d.clearCertificateForm())}),e.EFF(16),e.nI1(17,"translate"),e.k0s()()()}2&a&&(e.R7$(),e.Y8G("innerHTML",e.bMT(2,13,"DynamicAuth.Wizard.SAML.SigningStep.Title"),e.npT),e.R7$(2),e.Y8G("formGroup",d.certForm),e.R7$(),e.Y8G("id","fileInputRow")("label","DynamicAuth.CertFile.Label")("help","DynamicAuth.CertFile.Help"),e.R7$(5),e.Y8G("id","CertPasswordRow")("label","DynamicAuth.CertPassword.Label"),e.R7$(),e.Y8G("readonly",d.passwordDisabled),e.R7$(),e.Y8G("isLast",!0),e.R7$(),e.Y8G("disabled",d.disableTestBtn()),e.R7$(),e.JRh(e.bMT(14,15,"Common.ValidateCert")),e.R7$(2),e.Y8G("disabled",d.disableClearBtn()),e.R7$(),e.JRh(e.bMT(17,17,"Common.Clear")))},dependencies:[p.qT,p.me,p.BC,p.cb,p.j4,p.JD,de.Y,Mn.D9],encapsulation:2})}}return s})(),Tf=(()=>{class s{constructor(i){this.inner=i}success_noduplicate(i,a){return this.showToast(i,a,(d,D)=>this.inner.success(d,D))}error_noduplicate(i,a){return this.showToast(i,a,(d,D)=>this.inner.error(d,D))}showToast(i,a,d){var D=this.inner.findDuplicate(a,i,!1,!1);return D&&this.inner.remove(D.toastId),d(i,a)}static{this.\u0275fac=function(a){return new(a||s)(e.KVO(ni.tw))}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})(),mw=(()=>{class s{constructor(i,a,d,D){this.fb=i,this.providerValidator=a,this.translate=d,this.toastr=D,this.metadataAddrStream=new Lr.B}ngOnInit(){this.buildForm(),this.metadataAddrStream.subscribe(i=>{this.providerValidator.validateMetadataUrl(i).subscribe(a=>{a?this.toastr.success_noduplicate(this.translate.instant("DynamicAuth.Wizard.SAML.ExternalProviderStep.MetadataValidMsg"),this.translate.instant("DynamicAuth.Wizard.SAML.ExternalProviderStep.MetadataValidTitle")):this.toastr.error_noduplicate(this.translate.instant("DynamicAuth.Wizard.SAML.ExternalProviderStep.MetadataInValidMsg"),this.translate.instant("DynamicAuth.Wizard.SAML.ExternalProviderStep.MetadataInValidTitle"))})})}ngOnDestroy(){this.metadataAddrStream.unsubscribe()}tryMetadataAddr(){const i=this.externalProviderForm.get("metadataAddress");i.invalid||this.metadataAddrStream.next(i.value)}showReachableError(){const i=this.externalProviderForm.get("metadataAddress");return!(0,Fi.gP)(i.value)&&i.errors?.unreachableUrl}buildForm(){let i={metadataAddress:["https://",[p.k0.required,p.k0.pattern("^https://.{1,}$")]]};this.externalProviderForm=this.fb.group(i)}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return!this.externalProviderForm.invalid}hosted(){}toStepDto(){const i={};return i.metadataAddress=this.externalProviderForm.get("metadataAddress").value,i}toSummaryMap(){const i=new Map;return i.set("metadataAddress",[this.externalProviderForm.get("metadataAddress").value]),i}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(p.ze),e.rXU(xc),e.rXU(Mn.c$),e.rXU(Tf))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-external-provider-step"]],inputs:{data:"data"},decls:11,vars:12,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help","isLast"],[1,"tw-flex","tw-w-full","lg:tw-max-w-2xl"],["type","text","name","MetadataAddress","id","MetadataAddress","formControlName","metadataAddress","placeholder","https://","required","",1,"tw-form-control","tw-rounded-r-none","tw-border-r-0"],["id","testMetadataAddr",1,"tw-btn","tw-rounded-l-none",3,"click","disabled"]],template:function(a,d){1&a&&(e.j41(0,"div",0),e.nrm(1,"p",1),e.nI1(2,"translate"),e.k0s(),e.j41(3,"form",2)(4,"app-form-row",3)(5,"div",4),e.nrm(6,"input",5),e.j41(7,"button",6),e.bIt("click",function(){return d.tryMetadataAddr()}),e.j41(8,"span"),e.EFF(9),e.nI1(10,"translate"),e.k0s()()()()()),2&a&&(e.R7$(),e.Y8G("innerHTML",e.bMT(2,8,"DynamicAuth.Wizard.SAML.ExternalProviderStep.Title"),e.npT),e.R7$(2),e.Y8G("formGroup",d.externalProviderForm),e.R7$(),e.Y8G("id","MetadataAddress")("label","DynamicAuth.SAML.IdpMetadataAddress.Label")("help","DynamicAuth.SAML.IdpMetadataAddress.Help")("isLast",!0),e.R7$(3),e.Y8G("disabled",!d.canNext()),e.R7$(2),e.JRh(e.bMT(10,10,"Common.ValidateMetadata")))},dependencies:[p.qT,p.me,p.BC,p.cb,p.YS,p.j4,p.JD,de.Y,Mn.D9],encapsulation:2})}}return s})();var gw=h(2552);function vw(s,g){1&s&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"DynamicAuth.Wizard.TypeSelectStep.OIDC.Title")))}function yw(s,g){1&s&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"DynamicAuth.Wizard.TypeSelectStep.SAML.Title")))}function _w(s,g){1&s&&(e.nrm(0,"p",1),e.nI1(1,"translate")),2&s&&e.Y8G("innerHTML",e.bMT(1,1,"DynamicAuth.Wizard.TypeSelectStep.OIDC.Description"),e.npT)}function bw(s,g){1&s&&(e.nrm(0,"p",1),e.nI1(1,"translate")),2&s&&e.Y8G("innerHTML",e.bMT(1,1,"DynamicAuth.Wizard.TypeSelectStep.SAML.Description"),e.npT)}let Cw=(()=>{class s{constructor(){this.wizardTypes=Gi.$,this.activeType=Gi.$.AddOidcDynamicAuth}hosted(){}ngOnInit(){}getStepSummary(){return new Map}getStepDTO(){return{}}canNext(){return!0}selectedType(){return this.activeType}buildOptionsArray(){return[{id:"oidcBtn",btnId:"oidcTestBtn",title:"DynamicAuth.Wizard.TypeSelectStep.OIDC.Name",summary:"DynamicAuth.Wizard.TypeSelectStep.OIDC.Title",icon:"fab fa-openid",type:Gi.$.AddOidcDynamicAuth,selectedTypes:[Gi.$.AddOidcDynamicAuth],starterMode:!0},{id:"samlBtn",btnId:"samlTestBtn",title:"DynamicAuth.Wizard.TypeSelectStep.SAML.Name",summary:"DynamicAuth.Wizard.TypeSelectStep.SAML.Title",icon:"fad fa-code",type:Gi.$.AddSamlDynamicAuth,selectedTypes:[Gi.$.AddSamlDynamicAuth],starterMode:!0}]}setActive(i){this.activeType=i}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-type-select"]],inputs:{data:"data"},decls:11,vars:8,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],["id","clientTypeSelector",3,"select","activeType","isStarterMode","options"],[1,"tw-border-t","tw-border-grey-300","tw-text-grey-700","tw-text-sm","tw-mt-6","tw-pt-5"],[1,"tw-text-sm","tw-font-semibold","tw-text-primary-500","tw-mb-2"],["aria-hidden","true",1,"fas","fa-info-circle","tw-w-5"]],template:function(a,d){if(1&a&&(e.j41(0,"div",0),e.nrm(1,"p",1),e.nI1(2,"translate"),e.k0s(),e.j41(3,"app-type-selector",2),e.bIt("select",function(te){return d.setActive(te)}),e.k0s(),e.j41(4,"div",3)(5,"h2",4),e.nrm(6,"span",5),e.DNE(7,vw,3,3)(8,yw,3,3),e.k0s(),e.DNE(9,_w,2,3)(10,bw,2,3),e.k0s()),2&a){let D,te;e.R7$(),e.Y8G("innerHTML",e.bMT(2,6,"DynamicAuth.Wizard.Description"),e.npT),e.R7$(2),e.Y8G("activeType",d.activeType)("isStarterMode",!1)("options",d.buildOptionsArray()),e.R7$(4),e.vxM(7,(D=d.activeType)===d.wizardTypes.AddOidcDynamicAuth?7:D===d.wizardTypes.AddSamlDynamicAuth?8:-1),e.R7$(2),e.vxM(9,(te=d.activeType)===d.wizardTypes.AddOidcDynamicAuth?9:te===d.wizardTypes.AddSamlDynamicAuth?10:-1)}},dependencies:[gw.N,Mn.D9],encapsulation:2})}}return s})();class ww extends ch.p{constructor(g){super();var i=[new fi.W(Hm,{stepName:"NameRoleStepComponent"}),new fi.W(jm,{stepName:"ConnectionStepComponent"}),new fi.W(b1,{stepName:"ScopesStepComponent"}),new fi.W(g1,{stepName:"ClientSecretStepComponent"})];g&&i.push(new fi.W(Wm,{stepName:"SignInSchemeStepComponent"}));var a=[new fi.W(Hm,{stepName:"NameRoleStepComponent"}),new fi.W(sI,{stepName:"ServiceProviderStepComponent"}),new fi.W(zm,{stepName:"SigningStepComponent"}),new fi.W(mw,{stepName:"ExternalProviderStepComponent"}),new fi.W(Wm,{stepName:"SignInSchemeStepComponent"})];this.nameComponentMap.set(Gi.$.Home,[new fi.W(Cw,{})]),this.nameComponentMap.set(Gi.$.AddOidcDynamicAuth,i),this.nameComponentMap.set(Gi.$.AddSamlDynamicAuth,a),this.nameTitleMap.set(Gi.$.Home,new _o.J("DynamicAuth.Wizard.Setup","DynamicAuth.Wizard.Title")),this.nameTitleMap.set(Gi.$.AddOidcDynamicAuth,new _o.J("DynamicAuth.Wizard.OIDC.Setup","DynamicAuth.Wizard.OIDC.Title")),this.nameTitleMap.set(Gi.$.AddSamlDynamicAuth,new _o.J("DynamicAuth.Wizard.SAML.Setup","DynamicAuth.Wizard.SAML.Title"))}}let Ew=(()=>{class s{canNext(){return!1}hosted(){}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-empty-step"]],decls:4,vars:3,consts:[["id","emptyStepError","role","alert",1,"tw-alert-danger"]],template:function(a,d){1&a&&(e.j41(0,"div",0)(1,"div"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&a&&(e.R7$(2),e.JRh(e.bMT(3,1,"Common.Wizards.Empty")))},dependencies:[Mn.D9],encapsulation:2})}}return s})();class Sw extends ch.p{getWizard(g){return[new fi.W(Ew)]}getWizardTitle(g){return new _o.J("Empty Provider",`No step for wizard name: ${g}`)}}function Tw(s,g){if(1&s&&(e.j41(0,"div",5),e.nrm(1,"div",17),e.k0s()),2&s){const i=e.XpG();e.R7$(),e.xc7("width",i.progressPercent+"%"),e.BMQ("aria-valuenow",i.progressPercent)}}function Iw(s,g){}function Dw(s,g){if(1&s){const i=e.RV6();e.j41(0,"button",18),e.bIt("click",function(){e.eBV(i);const d=e.XpG();return e.Njj(d.nextTab())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}if(2&s){const i=e.XpG();e.Y8G("disabled",!i.canNext()),e.R7$(),e.JRh(e.bMT(2,2,"Common.Next"))}}function Aw(s,g){if(1&s){const i=e.RV6();e.j41(0,"button",19),e.bIt("click",function(){e.eBV(i);const d=e.XpG();return e.Njj(d.submit())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Common.Save")))}function Rw(s,g){if(1&s){const i=e.RV6();e.j41(0,"button",20),e.bIt("click",function(){e.eBV(i);const d=e.XpG();return e.Njj(d.previousTab())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Common.Back")))}function S1(s,g){1&s&&(e.j41(0,"a",15),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"StarterMode.UpgradeAdminUI")))}let T1=(()=>{class s extends I_.P{constructor(i,a,d,D,te){super(i,a,d),this.dynamicAuthService=D,this.configService=te,this.wizardProvider=new Sw,this.wizardName=Gi.$.Home,this.configService.getConfig().subscribe({next:Ae=>{this.wizardProvider=new ww(Ae.featureFlagOptions.dynamicAuthenticationFlag==da.U.Rsk)},error:Ae=>{this.errorService.handleError(Ae)}})}submit(){const i=Vm(this.getModel());this.dynamicAuthService.createDynamicAuth(i).subscribe({complete:()=>{this.finishWizard(),this.clearComponents(),this.toastr.success(`${this.translate.instant("Common.Created")}: ${i.displayName}`,this.translate.instant("Notifications.SuccessfullyCreated"))},error:a=>{this.errorService.handleError(a)}})}getModel(){const i=this.wizardName,a=this.getWizardDto(),d=this.summaryComponentRef.instance.isEnabled();var D="";if(this.wizardName===Gi.$.AddOidcDynamicAuth&&(D=JSON.stringify({authority:a.authority,clientId:a.clientId,callbackPath:a.callbackPath,usePkce:a.flow==$s.AuthCodePlusPkce,scope:a.scopes,clientSecret:a.clientSecret,signInScheme:a.signInScheme})),this.wizardName===Gi.$.AddSamlDynamicAuth){var te={spEntityId:a.entityId,callbackPath:a.callbackPath,signAuthenticationRequests:!(0,Fi.hX)(a.certFile)&&!(0,Fi.hX)(a.certPassword),signingCertBase64:a.certFile,signingCertPassword:a.certPassword,signInScheme:a.signInScheme,idpMetadataAddress:a.metadataAddress};D=JSON.stringify(te)}return{type:Qr.fromWizardType(i),scheme:a.scheme,displayName:a.displayName,enabled:d,nonEditable:!1,options:D}}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(ee.I),e.rXU(ni.tw),e.rXU(Mn.c$),e.rXU(ss),e.rXU(js.w))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-wizard-host"]],features:[e.Jv_([Sl._]),e.Vt3],decls:23,vars:15,consts:[[1,"modal-header"],[1,"modal-title",3,"id"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-progress"],[1,"modal-body","scrollbars"],["appStepHost",""],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["class","tw-btn-success tw-mr-3","id","nextBtn",3,"disabled","click",4,"ngIf"],["class","tw-btn-success tw-mr-3","id","submitBtn",3,"click",4,"ngIf"],["class","tw-btn","id","backBtn",3,"click",4,"ngIf"],["id","upgradeAdminUI","href","starter-mode/teaser",1,"tw-btn","tw-ml-4"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],["role","progressbar",1,"modal-progress-bar"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],["id","submitBtn",1,"tw-btn-success","tw-mr-3",3,"click"],["id","backBtn",1,"tw-btn",3,"click"]],template:function(a,d){if(1&a&&(e.j41(0,"div",0)(1,"h5",1),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"button",2),e.bIt("click",function(){return d.hideWizard()}),e.nrm(5,"span",3),e.j41(6,"span",4),e.EFF(7),e.nI1(8,"translate"),e.k0s()()(),e.DNE(9,Tw,2,3,"div",5),e.j41(10,"div",6),e.DNE(11,Iw,0,0,"ng-template",7),e.k0s(),e.nrm(12,"div",8),e.j41(13,"div",9)(14,"div",10)(15,"div",11),e.DNE(16,Dw,3,4,"button",12)(17,Aw,3,3,"button",13)(18,Rw,3,3,"button",14)(19,S1,3,3,"a",15),e.k0s(),e.j41(20,"button",16),e.bIt("click",function(){return d.cancelWizard()}),e.EFF(21),e.nI1(22,"translate"),e.k0s()()()),2&a){let D;e.R7$(),e.Y8G("id",d.titleId),e.R7$(),e.JRh(e.bMT(3,9,null!==(D=null==d.wizardTitles?null:d.wizardTitles.setupTitle)&&void 0!==D?D:"")),e.R7$(5),e.JRh(e.bMT(8,11,"Common.Close")),e.R7$(2),e.vxM(9,d.showProgress?9:-1),e.R7$(7),e.Y8G("ngIf",d.index<(null==d.wizardSteps?null:d.wizardSteps.length)),e.R7$(),e.Y8G("ngIf",d.index==(null==d.wizardSteps?null:d.wizardSteps.length)),e.R7$(),e.Y8G("ngIf",!d.initialStep()),e.R7$(),e.vxM(19,d.initialStep()&&null!=d.asAny&&d.asAny.displayUpgradeIcon?19:-1),e.R7$(2),e.JRh(e.bMT(22,13,"Common.Cancel"))}},dependencies:[Cn.bT,D_.t,Mn.D9],encapsulation:2})}}return s})();const rc=()=>({href:"https://www.identityserver.com/documentation/dynamic-authentication-providers/quickstarts/entityframework/"}),Mw=(s,g)=>({"fad fa-pencil":s,"fas fa-eye":g});function I1(s,g){1&s&&(e.j41(0,"div",3),e.nrm(1,"app-title-bar",4),e.nI1(2,"translate"),e.j41(3,"div",5)(4,"div",6)(5,"p",7),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"ul",8)(9,"li")(10,"a",9),e.EFF(11),e.nI1(12,"translate"),e.k0s()(),e.j41(13,"li")(14,"a",10),e.EFF(15),e.nI1(16,"translate"),e.k0s()()()()()()),2&s&&(e.R7$(),e.Y8G("title",e.bMT(2,4,"DynamicAuth.Title.Generic")),e.R7$(5),e.JRh(e.bMT(7,6,"DynamicAuth.Unconfigured.FirstLine")),e.R7$(5),e.JRh(e.bMT(12,8,"DynamicAuth.Unconfigured.WhatIs")),e.R7$(4),e.JRh(e.bMT(16,10,"DynamicAuth.Unconfigured.Enable")))}function xw(s,g){if(1&s){const i=e.RV6();e.j41(0,"app-dynamic-auth-wizard-host",17),e.bIt("wizardCancel",function(){e.eBV(i);const d=e.XpG(2);return e.Njj(d.hideWizard())})("finish",function(){e.eBV(i);const d=e.XpG(2);return e.Njj(d.onFinish())})("hide",function(){e.eBV(i);const d=e.XpG(2);return e.Njj(d.hideWizard())}),e.k0s()}}function D1(s,g){1&s&&(e.j41(0,"div",18)(1,"div",19),e.nrm(2,"span",20),e.nI1(3,"translate"),e.k0s()()),2&s&&(e.R7$(2),e.Y8G("innerHTML",e.i5U(3,1,"Errors.DynamicAuthentication.SchemaHealth",e.lJ4(4,rc)),e.npT))}function A1(s,g){1&s&&(e.j41(0,"span"),e.nrm(1,"span",38),e.EFF(2),e.nI1(3,"translate"),e.k0s()),2&s&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"Auditing.ShowFilters")," "))}function Ld(s,g){1&s&&(e.j41(0,"span"),e.nrm(1,"span",39),e.EFF(2),e.nI1(3,"translate"),e.k0s()),2&s&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"Auditing.HideFilters")," "))}function Ym(s,g){if(1&s){const i=e.RV6();e.j41(0,"li",34)(1,"button",40),e.bIt("click",function(){e.eBV(i);const d=e.XpG(3);return e.Njj(d.filter(d.DynamicAuthFilters.Enabled))}),e.EFF(2),e.nI1(3,"translate"),e.k0s()()}if(2&s){const i=e.XpG(3);e.R7$(),e.Y8G("ngClass",i.isShowing(i.DynamicAuthFilters.Enabled)?"tw-btn":"tw-btn-link"),e.R7$(),e.SpI(" ",e.bMT(3,2,"DynamicAuth.Filters.Enabled")," ")}}function pu(s,g){if(1&s){const i=e.RV6();e.j41(0,"li")(1,"button",41),e.bIt("click",function(){e.eBV(i);const d=e.XpG(3);return e.Njj(d.filter(d.DynamicAuthFilters.Disabled))}),e.EFF(2),e.nI1(3,"translate"),e.k0s()()}if(2&s){const i=e.XpG(3);e.R7$(),e.Y8G("ngClass",i.isShowing(i.DynamicAuthFilters.Disabled)?"tw-btn":"tw-btn-link"),e.R7$(),e.SpI(" ",e.bMT(3,2,"DynamicAuth.Filters.Disabled")," ")}}function R1(s,g){if(1&s){const i=e.RV6();e.j41(0,"div",46)(1,"label",47),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"select",48),e.mxI("ngModelChange",function(d){e.eBV(i);const D=e.XpG(4);return e.DH7(D.pageSize,d)||(D.pageSize=d),e.Njj(d)}),e.bIt("change",function(){e.eBV(i);const d=e.XpG(4);return e.Njj(d.setPageLength(+d.pageSize))}),e.j41(5,"option",49),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"option",50),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"option",51),e.EFF(12),e.nI1(13,"translate"),e.k0s()()()}if(2&s){const i=e.XpG(4);e.R7$(2),e.Lme("",i.pageSize," ",e.bMT(3,6,"Nav.PerPage"),""),e.R7$(2),e.R50("ngModel",i.pageSize),e.R7$(2),e.SpI("25 ",e.bMT(7,8,"Nav.PerPage"),""),e.R7$(3),e.SpI("50 ",e.bMT(10,10,"Nav.PerPage"),""),e.R7$(3),e.SpI("100 ",e.bMT(13,12,"Nav.PerPage"),"")}}function mu(s,g){if(1&s){const i=e.RV6();e.j41(0,"app-action-bar"),e.qex(1,42),e.DNE(2,R1,14,14,"div",43),e.bVm(),e.qex(3,44),e.j41(4,"button",45),e.bIt("click",function(){e.eBV(i),e.XpG(2);const d=e.sdS(9),D=e.XpG();return e.Njj(D.showWizard(d))}),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.bVm(),e.k0s()}if(2&s){const i=e.XpG(3);e.R7$(2),e.Y8G("ngIf",(null==i.pagedResult?null:i.pagedResult.results.length)>0),e.R7$(3),e.SpI(" ",e.bMT(6,2,"Common.Add")," ")}}function Xm(s,g){1&s&&e.nrm(0,"app-simple-loader")}function gu(s,g){1&s&&(e.j41(0,"div",55)(1,"div"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&s&&(e.R7$(2),e.JRh(e.bMT(3,1,"DynamicAuth.List.None")))}function vu(s,g){1&s&&(e.j41(0,"span",70)(1,"span",14),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&s&&(e.R7$(2),e.JRh(e.bMT(3,1,"Common.Disabled")))}function yu(s,g){1&s&&(e.j41(0,"span",71),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Disabled")," "))}function _u(s,g){1&s&&(e.j41(0,"span",72),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Reserved")," "))}function bu(s,g){if(1&s){const i=e.RV6();e.j41(0,"tr",61)(1,"td",62),e.bIt("click",function(){const d=e.eBV(i).$implicit,D=e.XpG(5);return e.Njj(D.viewOrEditDynamicAuth(d))}),e.DNE(2,vu,4,3,"span",63),e.j41(3,"b"),e.EFF(4),e.k0s()(),e.j41(5,"td",64),e.bIt("click",function(){const d=e.eBV(i).$implicit,D=e.XpG(5);return e.Njj(D.viewOrEditDynamicAuth(d))}),e.EFF(6),e.k0s(),e.j41(7,"td",64),e.bIt("click",function(){const d=e.eBV(i).$implicit,D=e.XpG(5);return e.Njj(D.viewOrEditDynamicAuth(d))}),e.j41(8,"code"),e.EFF(9),e.k0s()(),e.j41(10,"td",65),e.bIt("click",function(){const d=e.eBV(i).$implicit,D=e.XpG(5);return e.Njj(D.viewOrEditDynamicAuth(d))}),e.DNE(11,yu,3,3,"span",66)(12,_u,3,3,"span",67),e.k0s(),e.j41(13,"td",65),e.bIt("click",function(){const d=e.eBV(i).$implicit,D=e.XpG(5);return e.Njj(D.viewOrEditDynamicAuth(d))}),e.j41(14,"button",68),e.bIt("click",function(){const d=e.eBV(i).$implicit,D=e.XpG(5);return e.Njj(D.viewOrEditDynamicAuth(d))}),e.nrm(15,"span",69),e.j41(16,"span",14),e.EFF(17),e.nI1(18,"translate"),e.k0s()()()()}if(2&s){const i=g.$implicit,a=e.XpG(5);e.AVh("inactive",!i.enabled||(null==i?null:i.nonEditable)),e.FS9("id",i.scheme),e.R7$(2),e.Y8G("ngIf",!i.enabled),e.R7$(),e.AVh("tw-text-blue-500",!(null!=i&&i.nonEditable)),e.R7$(),e.SpI(" ",null==i?null:i.scheme," "),e.R7$(2),e.SpI(" ",null==i?null:i.displayName," "),e.R7$(3),e.JRh(a.typeStr(null==i?null:i.type)),e.R7$(2),e.Y8G("ngIf",!i.enabled),e.R7$(),e.Y8G("ngIf",null==i?null:i.nonEditable),e.R7$(3),e.Y8G("ngClass",e.l_i(15,Mw,!a.isReadOnly&&!i.nonEditable,a.isReadOnly||i.nonEditable)),e.R7$(2),e.JRh(e.bMT(18,13,"Common.Edit"))}}function Cu(s,g){if(1&s&&(e.j41(0,"table",56)(1,"thead")(2,"tr")(3,"th",57),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"th",58),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"th",58),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"th",59)(13,"span",14),e.EFF(14),e.nI1(15,"translate"),e.k0s()(),e.j41(16,"th",59)(17,"span",14),e.EFF(18),e.nI1(19,"translate"),e.k0s()()()(),e.j41(20,"tbody"),e.DNE(21,bu,19,18,"tr",60),e.k0s()()),2&s){const i=e.XpG(4);e.R7$(4),e.SpI(" ",e.bMT(5,6,"Common.Scheme")," "),e.R7$(3),e.SpI(" ",e.bMT(8,8,"Common.Name")," "),e.R7$(3),e.SpI(" ",e.bMT(11,10,"Common.Type")," "),e.R7$(4),e.JRh(e.bMT(15,12,"Common.Status")),e.R7$(4),e.JRh(e.bMT(19,14,"Common.Actions")),e.R7$(3),e.Y8G("ngForOf",i.dynamicAuths)}}function wu(s,g){if(1&s){const i=e.RV6();e.j41(0,"app-pager",73),e.bIt("onGoToPage",function(d){e.eBV(i);const D=e.XpG(4);return e.Njj(D.goToPage(d))}),e.k0s()}if(2&s){const i=e.XpG(4);e.Y8G("totalResults",null==i.pagedResult?null:i.pagedResult.totalCount)("currentPage",i.page)("lastPage",null==i.pagedResult?null:i.pagedResult.pageCount)}}function Eu(s,g){if(1&s&&(e.qex(0),e.DNE(1,gu,4,3,"div",52)(2,Cu,22,16,"table",53)(3,wu,1,3,"app-pager",54),e.bVm()),2&s){const i=e.XpG(3);e.R7$(),e.Y8G("ngIf",(null==i.dynamicAuths?null:i.dynamicAuths.length)<1),e.R7$(),e.Y8G("ngIf",(null==i.dynamicAuths?null:i.dynamicAuths.length)>0),e.R7$(),e.Y8G("ngIf",(null==i.pagedResult?null:i.pagedResult.results.length)>0&&!i.isLoading)}}function Su(s,g){if(1&s){const i=e.RV6();e.j41(0,"div",21)(1,"div",22)(2,"div",23)(3,"label",24),e.nrm(4,"span",25),e.j41(5,"span",14),e.EFF(6),e.nI1(7,"translate"),e.k0s()(),e.j41(8,"input",26),e.nI1(9,"translate"),e.mxI("ngModelChange",function(d){e.eBV(i);const D=e.XpG(2);return e.DH7(D.searchTerm,d)||(D.searchTerm=d),e.Njj(d)}),e.bIt("keyup",function(d){e.eBV(i);const D=e.XpG(2);return e.Njj(D.search(d))}),e.k0s()(),e.j41(10,"button",27),e.bIt("click",function(){e.eBV(i);const d=e.XpG(2);return e.Njj(d.showAdvancedFilters=!d.showAdvancedFilters)}),e.DNE(11,A1,4,3,"span",28)(12,Ld,4,3,"span",28),e.k0s(),e.j41(13,"div",29)(14,"div",30)(15,"div",31)(16,"p",32),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"ul",33)(20,"li",34)(21,"button",35),e.bIt("click",function(){e.eBV(i);const d=e.XpG(2);return e.Njj(d.filter(d.DynamicAuthFilters.OIDC))}),e.EFF(22),e.nI1(23,"translate"),e.k0s()(),e.j41(24,"li",34)(25,"button",36),e.bIt("click",function(){e.eBV(i);const d=e.XpG(2);return e.Njj(d.filter(d.DynamicAuthFilters.SAML))}),e.EFF(26),e.nI1(27,"translate"),e.k0s()(),e.DNE(28,Ym,4,4,"li",37)(29,pu,4,4,"li",28),e.k0s()()(),e.nrm(30,"hr"),e.k0s()(),e.DNE(31,mu,7,4,"app-action-bar",28)(32,Xm,1,0,"app-simple-loader",28)(33,Eu,4,3,"ng-container",28),e.k0s()}if(2&s){const i=e.XpG(2);e.R7$(6),e.JRh(e.bMT(7,16,"Common.Search")),e.R7$(2),e.FS9("placeholder",e.bMT(9,18,"DynamicAuth.SearchPlaceholder")),e.R50("ngModel",i.searchTerm),e.R7$(3),e.Y8G("ngIf",!i.showAdvancedFilters),e.R7$(),e.Y8G("ngIf",i.showAdvancedFilters),e.R7$(),e.Y8G("hidden",!i.showAdvancedFilters),e.R7$(4),e.JRh(e.bMT(18,20,"Auditing.Showing")),e.R7$(4),e.Y8G("ngClass",i.isShowing(i.DynamicAuthFilters.OIDC)?"tw-btn":"tw-btn-link"),e.R7$(),e.SpI(" ",e.bMT(23,22,"DynamicAuth.Filters.OIDC")," "),e.R7$(3),e.Y8G("ngClass",i.isShowing(i.DynamicAuthFilters.SAML)?"tw-btn":"tw-btn-link"),e.R7$(),e.SpI(" ",e.bMT(27,24,"DynamicAuth.Filters.SAML")," "),e.R7$(2),e.Y8G("ngIf",!i.isRskDynamicAuth),e.R7$(),e.Y8G("ngIf",!i.isRskDynamicAuth),e.R7$(2),e.Y8G("ngIf",!i.isLoading&&!i.isReadOnly),e.R7$(),e.Y8G("ngIf",i.isLoading),e.R7$(),e.Y8G("ngIf",!i.isLoading)}}function M1(s,g){if(1&s&&(e.j41(0,"div",11)(1,"app-title-bar",4),e.nI1(2,"translate"),e.j41(3,"a",12),e.nrm(4,"span",13),e.j41(5,"span",14),e.EFF(6),e.nI1(7,"translate"),e.k0s()()(),e.DNE(8,xw,1,0,"ng-template",null,0,e.C5r)(10,D1,4,5,"div",15)(11,Su,34,26,"div",16),e.k0s()),2&s){const i=e.XpG();e.R7$(),e.Y8G("title",e.bMT(2,5,i.isRskDynamicAuth?"DynamicAuth.Title.RSK":"DynamicAuth.Title.Duende")),e.R7$(2),e.Y8G("href",i.LinkConstants.EnablingDynamicAuth,e.B4B),e.R7$(3),e.JRh(e.bMT(7,7,"Common.Help")),e.R7$(4),e.Y8G("ngIf",!i.schemaHealthy),e.R7$(),e.Y8G("ngIf",i.schemaHealthy)}}let x1=(()=>{class s extends vo.if{get DynamicAuthFilters(){return m1}get isReadOnly(){return(0,Fi.ci)(this.securityService.userPermissions)}get LinkConstants(){return cr}typeStr(i){return Qr[i]}constructor(i,a,d,D,te,Ae,et,bt,Ht,dn){super(Ae,et,!0),this.configService=i,this.errorService=a,this.titleService=d,this.dynamicAuthenticationService=D,this.securityService=te,this.router=bt,this.localize=Ht,this.modalService=dn,this.activeFilters=[],this.pageSize=25,this.page=1,this.term="",this.isLoading=!0,this.showAdvancedFilters=!1,this.schemaHealthy=!0,this.isRskDynamicAuth=!1,this.dynamicAuthIsNotConfigured=!1,this.dynamicAuths=[],this.filterStream=new Lr.B,this.pageStream=new Lr.B,this.pageSizeStream=new Lr.B,this.mapSearchTerm=this.mapSearchTerm.bind(this)}showWizard(i){this.modalService.show(i,{id:Ba.R.Id,ariaLabelledBy:Ba.R.TileId,ariaDescribedby:Ba.R.DescriptionId,backdrop:"static"})}hideWizard(){this.modalService.hide(Ba.R.Id)}reload(){this.pageStream.next(this.page),this.pageSizeStream.next(this.pageSize)}mapSearchTerm(i){return this.term=i,{searchTerm:i,page:1,pageSize:this.pageSize}}ngOnInit(){const i=this.translate.instant("Nav.DynamicAuth")+" - "+Vt.$9.SITE_TITLE;this.isLoading=!0,this.titleService.setTitle(i),this.configService.getConfig().subscribe({next:a=>{this.dynamicAuthIsNotConfigured=(0,Fi.hX)(a.featureFlagOptions.dynamicAuthenticationFlag),this.isRskDynamicAuth=a.featureFlagOptions.dynamicAuthenticationFlag==da.U.Rsk},error:a=>{this.errorService.handleError(a)}}),this.dynamicAuthIsNotConfigured||this.dynamicAuthenticationService.schemaHealthy().pipe((0,on.$)()).subscribe({next:a=>{this.schemaHealthy=a,this.schemaHealthy&&this.triggerPageLoad()},error:a=>{this.toastr.error(this.translate.instant("Errors.DynamicAuthentication.SchemeHealthHttp",{status:a.status}))}})}triggerPageLoad(){const i=this.filterStream.pipe((0,Di.T)(D=>(this.activeFilters=D,{filters:D,searchTerm:this.term,page:this.page,pageSize:this.pageSize}))),a=this.pageStream.pipe((0,Di.T)(D=>(this.page=D,{filters:this.activeFilters,searchTerm:this.term,page:D,pageSize:this.pageSize}))),d=this.pageSizeStream.pipe((0,Di.T)(D=>(this.pageSize=D,{filters:this.activeFilters,searchTerm:this.term,page:this.page,pageSize:D})));a.pipe((0,Cl.X)(d),(0,Cl.X)(this.searchSource),(0,Cl.X)(i),(0,Cl.X)(this.enterKeySource),(0,vl.Z)({filters:this.activeFilters,searchTerm:this.term,page:this.page,pageSize:this.pageSize}),(0,ga.Z)(D=>{this.isLoading=!0;const te=D.filters.join(" ");return this.dynamicAuthenticationService.get(D.searchTerm,D.page,D.pageSize,te).pipe((0,va.c)(200))})).subscribe({next:D=>{this.pagedResult=D,this.dynamicAuths=this.pagedResult.results.map(te=>Ef(te)).sort((te,Ae)=>Number(Ae.nonEditable)-Number(te.nonEditable)),this.isLoading=!1},error:D=>{500===D.status?this.handleInternalServerError():this.errorService.handleError(D),this.isLoading=!1}})}filter(i){if(this.activeFilters.includes(i)){const a=this.activeFilters.indexOf(i);this.activeFilters.splice(a,1)}else this.activeFilters.push(i);this.filterStream.next(this.activeFilters)}isShowing(i){return this.activeFilters.includes(i)}goToPage(i){this.pageStream.next(i)}setPageLength(i){this.page=1,this.pageSizeStream.next(i)}viewOrEditDynamicAuth(i){const d=this.localize.translateRoute(`${this.isReadOnly||i.nonEditable?"/dynamic-auth/view":"/dynamic-auth"}/${i.scheme}`);this.router.navigateByUrl(d)}handleInternalServerError(){this.toastr.error(this.translate.instant("IdentityProviders.Filter.StoredProcedureErrorMessage"),this.translate.instant("Notifications.Error"))}onFinish(){this.hideWizard(),this.reload()}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(js.w),e.rXU(ee.I),e.rXU(n.hE),e.rXU(ss),e.rXU(ui.i),e.rXU(ni.tw),e.rXU(Mn.c$),e.rXU(St.Ix),e.rXU($i.QG),e.rXU(kt.I8))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["ng-component"]],features:[e.Vt3],decls:2,vars:2,consts:[["idpWizardModal",""],["id","missingConfiguration",4,"ngIf"],["id","listView",4,"ngIf"],["id","missingConfiguration"],[3,"title"],["id","ActivationInformation",1,"tw-container","mx-auto"],[1,"cms"],["id","firstLine"],[1,"tw-list-disc","tw-list-inside","tw-indent-8"],["href","documentation/DynamicAuthentication/What_is_Dynamic_Authentication.html","target","_blank",1,"tw-text-blue-500","hover:tw-text-body","tw-transition-all","tw-ease-in-out"],["href","documentation/DynamicAuthentication/Enabling_or_disabling_Dynamic_Authentication.html","target","_blank",1,"tw-text-blue-500","hover:tw-text-body","tw-transition-all","tw-ease-in-out"],["id","listView"],["type","button","target","_blank","ctx","",1,"tw-btn-link","tw-btn","group-hover:tw-text-blue-500","tw-pl-0",3,"href"],[1,"far","fa-question-circle"],[1,"sr-only"],["id","schemaUnhealthy","class","tw-container tw-mx-auto",4,"ngIf"],["id","dynamicAuthList","class","tw-container tw-mx-auto",4,"ngIf"],[3,"wizardCancel","finish","hide"],["id","schemaUnhealthy",1,"tw-container","tw-mx-auto"],[1,"tw-alert-warning","tw-mb-4"],[3,"innerHTML"],["id","dynamicAuthList",1,"tw-container","tw-mx-auto"],["id","searchContainer",1,"tw-mb-2"],[1,"tw-flex","tw-bg-white","tw-border","tw-border-grey-300","tw-opacity-75","tw-cursor-text","tw-rounded","focus-within:tw-opacity-100","focus-within:tw-border-blue-400","tw-transition-all","tw-ease-in-out"],["for","idpTerm",1,"tw-flex","tw-items-center","tw-text-grey-500","tw-m-0","tw-ml-3"],["aria-hidden","true",1,"far","fa-search","tw-text-sm"],["id","idpTerm","type","search",1,"tw-bg-transparent","tw-border-0","tw-text-base","tw-leading-tight","tw-px-2","tw-py-2","tw-w-full","focus:tw-outline-none","tw-transition-all","tw-ease-in-out",3,"ngModelChange","keyup","ngModel","placeholder"],["id","showFilterButton","type","button","aria-expanded","showAdvancedFilters",1,"tw-btn-link","tw-btn-small","tw-px-0","mt-2",3,"click"],[4,"ngIf"],["id","toggleFilters","aria-labelledby","showFilterButton",1,"tw-mt-3","tw-mb-6",3,"hidden"],[1,"tw-flex-grid","md:tw-flex-nowrap","mb-3"],[1,"tw-flex-grid-col","md:tw-ml-auto","md:tw-w-auto","mb-3","mr-2"],[1,"tw-form-label"],[1,"tw-flex","tw-items-center"],[1,"mr-2"],["id","oidcFilter",3,"click","ngClass"],["id","samlFilter",3,"click","ngClass"],["class","mr-2",4,"ngIf"],["aria-hidden","true",1,"fas","fa-angle-down","tw-mr-1"],["aria-hidden","true",1,"fas","fa-angle-up","tw-mr-1"],["id","enabledFilter",3,"click","ngClass"],["id","disabledFilter",3,"click","ngClass"],["left",""],["class","tw-hidden tw-form-select tw-w-auto sm:tw-block",4,"ngIf"],["right",""],["id","addIdpBtn",1,"tw-btn-success",3,"click"],[1,"tw-hidden","tw-form-select","tw-w-auto","sm:tw-block"],["for","pageSizeToggle",1,"sr-only"],["id","pageSizeToggle",1,"tw-form-control","tw-form-control-small",3,"ngModelChange","change","ngModel"],["value","25"],["value","50"],["value","100"],["id","idpNone","class","tw-alert","role","alert",4,"ngIf"],["id","idpTable","class","datatable selectable hover",4,"ngIf"],[3,"totalResults","currentPage","lastPage","onGoToPage",4,"ngIf"],["id","idpNone","role","alert",1,"tw-alert"],["id","idpTable",1,"datatable","selectable","hover"],["id","sortUsername",1,"md:tw-w-1/3","lg:tw-w-1/3"],[1,"tw-hidden","lg:tw-table-cell"],[1,"tw-w-1"],["class","group",3,"id","inactive",4,"ngFor","ngForOf"],[1,"group",3,"id"],[1,"tw-max-w-0","tw-truncate",3,"click"],["class","fas fa-exclamation-triangle tw-text-orange-500 tw-mr-1","container","body",4,"ngIf"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell",3,"click"],[3,"click"],["class","tw-pill-warning",4,"ngIf"],["class","tw-pill",4,"ngIf"],["type","button",1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click"],["id","viewOrEditIcon","aria-hidden","true",3,"ngClass"],["container","body",1,"fas","fa-exclamation-triangle","tw-text-orange-500","tw-mr-1"],[1,"tw-pill-warning"],[1,"tw-pill"],[3,"onGoToPage","totalResults","currentPage","lastPage"]],template:function(a,d){1&a&&e.DNE(0,I1,17,12,"div",1)(1,M1,12,9,"div",2),2&a&&(e.Y8G("ngIf",d.dynamicAuthIsNotConfigured),e.R7$(),e.Y8G("ngIf",!d.dynamicAuthIsNotConfigured))},dependencies:[Cn.YU,Cn.Sq,Cn.bT,p.xH,p.y7,p.me,p.wz,p.BC,p.vS,rn.z,Hl.n,xi.d,yl.B,T1,Mn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();var kc=h(3806),Jm=h(1258),Qm=h(4754),Zm=h(1560),qm=h(3899);const k1=["updateClientSecretButton"],eg=s=>[s];function If(s,g){1&s&&(e.j41(0,"app-form-row",15)(1,"app-form-toggle",16),e.nrm(2,"input",17),e.k0s()()),2&s&&(e.Y8G("id","Enabled")("label","Common.Enabled"),e.R7$(),e.Y8G("id","Enabled")("isTraffic",!0)("isAlt",!1))}function sc(s,g){if(1&s&&(e.j41(0,"div",10),e.DNE(1,If,3,5,"app-form-row",11),e.j41(2,"app-form-row",12),e.nrm(3,"app-readonly",13),e.nI1(4,"readOnlyValue"),e.k0s(),e.j41(5,"app-form-row",12),e.nrm(6,"input",14),e.k0s()()),2&s){const i=e.XpG(2);e.R7$(),e.Y8G("ngIf",!i.isRskDynamicAuth),e.R7$(),e.Y8G("id","Scheme")("label","DynamicAuth.Scheme.Label")("help","DynamicAuth.Scheme.Help"),e.R7$(),e.Y8G("fieldType",i.ReadOnlyFieldType.Single)("values",e.eq3(11,eg,e.bMT(4,9,i.dynamicAuth.scheme))),e.R7$(2),e.Y8G("id","DisplayName")("label","DynamicAuth.DisplayName.Label")("help","DynamicAuth.DisplayName.Help")}}function kw(s,g){1&s&&(e.j41(0,"app-form-row",12),e.nrm(1,"input",25),e.k0s()),2&s&&e.Y8G("id","CallbackPath")("label","DynamicAuth.CallbackPath.Label")("help","DynamicAuth.CallbackPath.Help")}function Nw(s,g){if(1&s&&(e.j41(0,"option",26),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s){const i=g.$implicit;e.Y8G("value",i),e.R7$(),e.JRh(e.bMT(2,2,"DynamicAuth.Flows."+i))}}function tg(s,g){if(1&s){const i=e.RV6();e.j41(0,"div",18)(1,"app-form-row",12)(2,"input",19),e.bIt("focusout",function(){e.eBV(i);const d=e.XpG(2);return e.Njj(d.tryReachAuthority())}),e.k0s()(),e.j41(3,"app-form-row",12),e.nrm(4,"input",20),e.k0s(),e.DNE(5,kw,2,3,"app-form-row",21),e.j41(6,"app-form-row",12)(7,"div",22)(8,"select",23),e.DNE(9,Nw,3,4,"option",24),e.k0s()()()()}if(2&s){const i=e.XpG(2);e.R7$(),e.Y8G("id","Authority")("label","DynamicAuth.Authority.Label")("help","DynamicAuth.Authority.Help"),e.R7$(2),e.Y8G("id","ClientId")("label","DynamicAuth.ClientId.Label")("help","DynamicAuth.ClientId.Help"),e.R7$(2),e.Y8G("ngIf",i.isRskDynamicAuth),e.R7$(),e.Y8G("id","Flow")("label","DynamicAuth.Flow.Label")("help","DynamicAuth.Flow.Help"),e.R7$(3),e.Y8G("ngForOf",i.allowedFlows)}}function Nc(s,g){1&s&&(e.j41(0,"app-form-row",31)(1,"app-form-toggle",16),e.nrm(2,"input",32),e.k0s()()),2&s&&(e.Y8G("id","DifferentSignOut")("label","DynamicAuth.DifferentSignOut.Label")("help","DynamicAuth.DifferentSignOut.Help"),e.R7$(),e.Y8G("id","DifferentSignOut")("isTraffic",!0)("isAlt",!1))}function ng(s,g){1&s&&(e.j41(0,"app-form-row",12)(1,"app-row-bar",28),e.nrm(2,"input",33),e.nI1(3,"translate"),e.k0s()()),2&s&&(e.Y8G("id","SignOutScheme")("label","DynamicAuth.SignOutScheme.Label")("help","DynamicAuth.SignOutScheme.Help"),e.R7$(2),e.FS9("placeholder",e.bMT(3,4,"DynamicAuth.SignOutScheme.Placeholder")))}function Ow(s,g){if(1&s&&(e.j41(0,"div",27)(1,"app-form-row",12)(2,"app-row-bar",28),e.nrm(3,"input",29),e.nI1(4,"translate"),e.k0s()(),e.DNE(5,Nc,3,6,"app-form-row",30)(6,ng,4,6,"app-form-row",21),e.k0s()),2&s){const i=e.XpG(2);e.R7$(),e.Y8G("id","SignInScheme")("label","DynamicAuth.SignInScheme.Label")("help","DynamicAuth.SignInScheme.Help"),e.R7$(2),e.FS9("placeholder",e.bMT(4,6,"DynamicAuth.SignInScheme.Placeholder")),e.R7$(2),e.Y8G("ngIf",i.isRskDynamicAuth||i.dynamicAuth.type==i.dynamicAuthTypes.SAML),e.R7$(),e.Y8G("ngIf",(i.isRskDynamicAuth||i.dynamicAuth.type==i.dynamicAuthTypes.SAML)&&i.formGroup.get("signInSchemeForm.differentSignOut").value)}}function ig(s,g){if(1&s&&(e.j41(0,"div")(1,"app-form-row",34),e.nrm(2,"app-lifetime-picker",35),e.k0s()()),2&s){const i=e.XpG(2);e.R7$(),e.Y8G("id","TimeComparisonTolerance")("label","DynamicAuth.SAML.TimeComparisonTolerance.Label")("help","DynamicAuth.SAML.TimeComparisonTolerance.Help")("isLast",!0),e.R7$(),e.Y8G("buttons",i.defaultToleranceTimes)}}function oI(s,g){if(1&s){const i=e.RV6();e.j41(0,"div",36)(1,"app-form-row",34)(2,"div",37),e.nrm(3,"app-readonly",13),e.j41(4,"button",38,0),e.nI1(6,"translate"),e.bIt("click",function(){e.eBV(i);const d=e.XpG(2);return e.Njj(d.openClientSecretModal())}),e.nrm(7,"span",39),e.j41(8,"span",40),e.EFF(9),e.nI1(10,"translate"),e.k0s()()()()()}if(2&s){const i=e.XpG(2);e.R7$(),e.Y8G("id","ClientSecret")("label","DynamicAuth.ClientSecret.Label")("help","DynamicAuth.ClientSecret.Help")("isLast",!0),e.R7$(2),e.Y8G("fieldType",i.ReadOnlyFieldType.Single)("values",e.eq3(12,eg,i.displaySecret)),e.R7$(),e.Y8G("tooltip",e.bMT(6,8,"DynamicAuth.UpdateClientSecret.Title")),e.R7$(5),e.JRh(e.bMT(10,10,"Common.Edit"))}}function aI(s,g){if(1&s&&(e.j41(0,"form",4),e.DNE(1,sc,7,13,"div",5)(2,tg,10,11,"div",6)(3,Ow,7,8,"div",7)(4,ig,3,5,"div",8)(5,oI,11,14,"div",9),e.k0s()),2&s){const i=e.XpG();e.Y8G("formGroup",i.formGroup),e.R7$(),e.Y8G("ngIf",i.formGroup.get("detailsForm")),e.R7$(),e.Y8G("ngIf",i.formGroup.get("connectionForm")&&i.dynamicAuth.type==i.dynamicAuthTypes.OIDC),e.R7$(),e.Y8G("ngIf",i.formGroup.get("signInSchemeForm")&&(i.isRskDynamicAuth||i.dynamicAuth.type==i.dynamicAuthTypes.SAML)),e.R7$(),e.Y8G("ngIf",i.formGroup.get("timeComparisonTolerance")&&(i.isRskDynamicAuth||i.dynamicAuth.type==i.dynamicAuthTypes.SAML)),e.R7$(),e.Y8G("ngIf",i.formGroup.get("secretForm")&&i.dynamicAuth.type==i.dynamicAuthTypes.OIDC)}}function Pw(s,g){if(1&s){const i=e.RV6();e.j41(0,"app-custom-modal",41),e.bIt("onCancel",function(){e.eBV(i);const d=e.XpG();return e.Njj(d.cancelClientSecretModal())})("onSave",function(){e.eBV(i);const d=e.XpG();return e.Njj(d.addNewClientSecretToFormGroup())}),e.j41(1,"form",4)(2,"p",42),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.nrm(5,"input",43),e.k0s()()}if(2&s){const i=e.XpG();e.Y8G("title","DynamicAuth.UpdateClientSecret.Title")("modalId",i.updateClientSecretModalId)("actions",i.updateClientSecretModalActions)("saveText","DynamicAuth.UpdateClientSecret.Confirm"),e.R7$(),e.Y8G("formGroup",i.formClientSecret),e.R7$(2),e.SpI("",e.bMT(4,6,"DynamicAuth.UpdateClientSecret.Description"),":")}}let Fw=(()=>{class s{get ReadOnlyFieldType(){return or.t}constructor(i,a,d,D,te,Ae,et,bt){this.fb=i,this.errorService=a,this.dynamicAuthCacheService=d,this.configService=D,this.providerValidator=te,this.translate=Ae,this.toastr=et,this.modalService=bt,this.dynamicAuthTypes=Qr,this.isDeleting=!1,this.allowedFlows=Xs.FlowTypes,this.samlSignInSchemeCodeFrag=Xs.SamlSignInSchemeCodeFrag,this.samlSignOutSchemeCodeFrag=Xs.SamlSignOutSchemeCodeFrag,this.failedToContactAuthority=!1,this.updateClientSecretModalActions=[Jm.N.Save],this.updateClientSecretModalId="updateClientSecretModal"}ngOnInit(){this.defaultToleranceTimes=[{duration:2,unit:kc.u.Minutes},{duration:5,unit:kc.u.Minutes},{duration:10,unit:kc.u.Minutes}],this.configService.getConfig().subscribe({next:i=>{this.isRskDynamicAuth=i.featureFlagOptions.dynamicAuthenticationFlag==da.U.Rsk},error:i=>{this.errorService.handleError(i)}}),this.dynamicAuthCacheService.unsavedCache$.pipe((0,on.$)()).subscribe({next:i=>{switch(this.dynamicAuth=i,this.dynamicAuth.type){case Qr.OIDC:this.buildOidcForms(),this.formClientSecret=this.fb.group({newClientSecret:[""]}),this.tryReachAuthority();break;case Qr.SAML:this.buildSamlForms()}this.subscribeToValueChanges()},error:i=>{this.errorService.handleError(i)}})}ngOnDestroy(){this.formSubscription.unsubscribe(),this.authorityChanged?.unsubscribe()}buildDetailsForm(){return this.fb.group({enabled:[this.dynamicAuth.enabled,[]],displayName:[this.dynamicAuth.displayName,[p.k0.required]]})}buildOidcForms(){this.oidcOptions=ho(this.dynamicAuth.options),this.displaySecret=new $a.w(this.oidcOptions.clientSecret);let i={authority:[this.oidcOptions.authority,[p.k0.required,p.k0.pattern("^https://.{1,}$")]],clientId:[this.oidcOptions.clientId,[p.k0.required]],flow:[this.oidcOptions.usePkce?$s.AuthCodePlusPkce:$s.AuthCode,[p.k0.required]]};this.isRskDynamicAuth&&(i.callbackPath=[this.oidcOptions.callbackPath,[p.k0.required,jl()]]);let a={detailsForm:this.buildDetailsForm(),connectionForm:this.fb.group(i),secretForm:this.fb.group({clientSecret:[this.oidcOptions.clientSecret,[]]})};this.isRskDynamicAuth&&(a.signInSchemeForm=this.fb.group({signInScheme:[this.oidcOptions.signInScheme,[p.k0.required]],differentSignOut:[!(0,Fi.gP)(this.oidcOptions.signOutScheme),[]],signOutScheme:[this.oidcOptions.signOutScheme,[]]}),a.signInSchemeForm.get("differentSignOut").valueChanges.subscribe(d=>{d&&a.signInSchemeForm.get("signOutScheme").setValidators([p.k0.required])})),this.formGroup=this.fb.group(a)}buildSamlForms(){this.samlOptions=ea(this.dynamicAuth.options),this.formGroup=this.fb.group({detailsForm:this.buildDetailsForm(),signInSchemeForm:this.fb.group({signInScheme:[this.samlOptions.signInScheme,[p.k0.required]],differentSignOut:[!(0,Fi.gP)(this.samlOptions.signOutScheme),[]],signOutScheme:[this.samlOptions.signOutScheme,[]]}),timeComparisonTolerance:[this.samlOptions.timeComparisonTolerance,[]]})}tryReachAuthority(){let i=this.formGroup.get("connectionForm.authority").value;this.providerValidator.isValid(i).subscribe(a=>{a||this.toastr.warning(this.translate.instant("DynamicAuth.Authority.ReachableWarningMsg"),this.translate.instant("DynamicAuth.Authority.ReachableWarningTitle"))})}subscribeToValueChanges(){this.formSubscription=this.formGroup.valueChanges.subscribe({next:i=>{let d,a={...this.dynamicAuth};a=this.updateDetails(a),this.dynamicAuth.type===Qr.OIDC?(d={...this.oidcOptions},d=this.updateConnection(d),d=this.updateSignInScheme(d),d=this.updateSecret(d)):this.dynamicAuth.type===Qr.SAML&&(d={...this.samlOptions},d=this.updateSignInScheme(d),d=this.updateTimeComparisonTolerance(d)),a.options=JSON.stringify(d),this.dynamicAuthCacheService.unsavedCache.next(a)}}),this.dynamicAuth.type===Qr.OIDC&&(this.authorityChanged=this.formGroup.get("connectionForm.authority").valueChanges.subscribe(i=>{this.failedToContactAuthority=!1}))}canSave(){return!1}updateDetails(i){return this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditDetailsComponent.detailsForm",this.formGroup.get("detailsForm").valid),{...i,enabled:this.formGroup.get("detailsForm.enabled").value,displayName:this.formGroup.get("detailsForm.displayName").value}}updateConnection(i){this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditDetailsComponent.connectionForm",this.formGroup.get("connectionForm").valid);let a={...i,authority:this.formGroup.get("connectionForm.authority").value,clientId:this.formGroup.get("connectionForm.clientId").value,usePkce:this.formGroup.get("connectionForm.flow").value==$s.AuthCodePlusPkce};return this.isRskDynamicAuth&&(a.callbackPath=this.formGroup.get("connectionForm.callbackPath").value),a}updateSignInScheme(i){if(!this.isRskDynamicAuth&&this.dynamicAuth.type==Qr.OIDC)return i;this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditDetailsComponent.signInSchemeForm",this.formGroup.get("signInSchemeForm").valid);let a={signInScheme:this.formGroup.get("signInSchemeForm.signInScheme").value,signOutScheme:void 0};if(this.dynamicAuth.type===Qr.SAML||this.isRskDynamicAuth){let d=this.formGroup.get("signInSchemeForm.differentSignOut").value,D=this.formGroup.get("signInSchemeForm.signOutScheme").value;a.signOutScheme=d?D:null}return{...i,...a}}updateSecret(i){this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditDetailsComponent.secretForm",this.formGroup.get("secretForm").valid);let a=this.formGroup.get("secretForm.clientSecret").value;return this.displaySecret=new $a.w(a),{...i,clientSecret:a}}updateTimeComparisonTolerance(i){let a=this.formGroup.get("timeComparisonTolerance");return this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditDetailsComponent.timeComparisonTolerance",a.valid),{...i,timeComparisonTolerance:a.value}}setTimeComparisonTolerance(i){this.formGroup.controls.timeComparisonTolerance.setValue(i)}checkTimeComparisonToleranceSelected(i){return i==this.formGroup.get("timeComparisonTolerance").value}addNewClientSecretToFormGroup(){let i=this.formClientSecret.get("newClientSecret").value;this.formGroup.controls.secretForm.setValue({clientSecret:i}),this.formClientSecret.controls.newClientSecret.setValue(null)}openClientSecretModal(){this.modalService.showById(this.updateClientSecretModalId,this.updateClientSecretButtonRef)}cancelClientSecretModal(){this.modalService.hideById(this.updateClientSecretModalId)}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(p.ze),e.rXU(ee.I),e.rXU(Vr),e.rXU(js.w),e.rXU(xc),e.rXU(Mn.c$),e.rXU(ni.tw),e.rXU(Qm.B))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-edit-details"]],viewQuery:function(a,d){if(1&a&&e.GBs(k1,5),2&a){let D;e.mGM(D=e.lsd())&&(d.updateClientSecretButtonRef=D.first)}},decls:3,vars:2,consts:[["addClientSecretButton",""],["id","editIdPDetails",1,"tw-container","tw-mx-auto"],[3,"formGroup",4,"ngIf"],[3,"title","modalId","actions","saveText","onCancel","onSave",4,"ngIf"],[3,"formGroup"],["formGroupName","detailsForm",4,"ngIf"],["formGroupName","connectionForm",4,"ngIf"],["formGroupName","signInSchemeForm",4,"ngIf"],[4,"ngIf"],["formGroupName","secretForm",4,"ngIf"],["formGroupName","detailsForm"],[3,"id","label",4,"ngIf"],[3,"id","label","help"],[3,"fieldType","values"],["type","text","name","DisplayName","id","DisplayName","formControlName","displayName","required","",1,"tw-form-control"],[3,"id","label"],[3,"id","isTraffic","isAlt"],["id","Enabled","formControlName","enabled","type","checkbox",1,"tw-form-switch__input"],["formGroupName","connectionForm"],["type","text","name","Authority","id","Authority","formControlName","authority","required","",1,"tw-form-control",3,"focusout"],["type","text","name","ClientId","id","ClientId","formControlName","clientId","required","",1,"tw-form-control"],[3,"id","label","help",4,"ngIf"],[1,"tw-form-select"],["id","flow","formControlName","flow",1,"tw-form-control"],[3,"value",4,"ngFor","ngForOf"],["type","text","name","CallbackPath","id","CallbackPath","formControlName","callbackPath","required","",1,"tw-form-control"],[3,"value"],["formGroupName","signInSchemeForm"],[1,"tw-form-input"],["id","signInScheme","formControlName","signInScheme","type","text","name","Sign-In Scheme","left","",1,"tw-form-control",3,"placeholder"],["class","tw-form-typeahead",3,"id","label","help",4,"ngIf"],[1,"tw-form-typeahead",3,"id","label","help"],["id","DifferentSignOut","formControlName","differentSignOut","type","checkbox",1,"tw-form-switch__input"],["id","signOutScheme","formControlName","signOutScheme","type","text","name","Sign-Out Scheme","left","",1,"tw-form-control",3,"placeholder"],[3,"id","label","help","isLast"],["id","timeComparisonTolerance","formControlName","timeComparisonTolerance",3,"buttons"],["formGroupName","secretForm"],[1,"tw-flex","tw-w-full","lg:tw-max-w-2xl"],["id","changeClientSecret","type","button","placement","right",1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500","editClientSecret",3,"click","tooltip"],["id","editIcon","aria-hidden","true",1,"fad","fa-pencil"],[1,"sr-only"],[3,"onCancel","onSave","title","modalId","actions","saveText"],[1,"tw-mb-4"],["type","text","name","newClientSecret","id","newClientSecret","formControlName","newClientSecret",1,"tw-form-control"]],template:function(a,d){1&a&&(e.j41(0,"div",1),e.DNE(1,aI,6,6,"form",2),e.k0s(),e.DNE(2,Pw,6,8,"app-custom-modal",3)),2&a&&(e.R7$(),e.Y8G("ngIf",d.dynamicAuth&&(d.oidcOptions||d.samlOptions)),e.R7$(),e.Y8G("ngIf",d.dynamicAuth&&d.oidcOptions))},dependencies:[Cn.Sq,Cn.bT,p.qT,p.xH,p.y7,p.me,p.Zm,p.wz,p.BC,p.cb,p.YS,p.j4,p.JD,p.$R,Re.dg,Zm.T,de.Y,Yo.m,uu.f,qm.G,ks.O,Ri.u,Mn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();function N1(s,g){1&s&&(e.j41(0,"div")(1,"app-form-row",3),e.nrm(2,"input",7),e.k0s()()),2&s&&(e.R7$(),e.Y8G("id","IdPInitiatedSsoCompletionPath")("label","DynamicAuth.SAML.IdPInitiatedSsoCompletionPath.Label")("help","DynamicAuth.SAML.IdPInitiatedSsoCompletionPath.Help")("isLast",!0))}function Bw(s,g){if(1&s&&(e.j41(0,"form",2)(1,"app-form-row",3)(2,"app-form-toggle",4),e.nrm(3,"input",5),e.k0s()(),e.DNE(4,N1,3,4,"div",6),e.k0s()),2&s){const i=e.XpG();e.Y8G("formGroup",i.idpAdvancedForm),e.R7$(),e.Y8G("id","AllowIdpInitiatedSso")("label","DynamicAuth.SAML.AllowIdpInitiatedSso.Label")("help","DynamicAuth.SAML.AllowIdpInitiatedSso.Help")("isLast",!i.idpAdvancedForm.get("allowIdpInitiatedSso").value),e.R7$(),e.Y8G("id","AllowIdpInitiatedSso")("isTraffic",!0)("isAlt",!1),e.R7$(2),e.Y8G("ngIf",i.idpAdvancedForm.get("allowIdpInitiatedSso").value)}}let fo=(()=>{class s{constructor(i,a,d){this.fb=i,this.errorService=a,this.dynamicAuthCacheService=d}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,on.$)()).subscribe({next:i=>{this.dynamicAuth=i,this.samlOptions=ea(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges()},error:i=>{this.errorService.handleError(i)}})}subscribeToValueChanges(){this.idpAdvancedFormSubscription=this.idpAdvancedForm.valueChanges.subscribe({next:i=>{this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditSpDetailsComponent",this.idpAdvancedForm.valid);var a={...this.samlOptions,allowIdpInitiatedSso:this.idpAdvancedForm.controls.allowIdpInitiatedSso.value,idPInitiatedSsoCompletionPath:this.idpAdvancedForm.controls.idPInitiatedSsoCompletionPath.value};const d={...this.dynamicAuth,options:JSON.stringify(a)};this.dynamicAuthCacheService.unsavedCache.next(d)}})}ngOnDestroy(){this.idpAdvancedFormSubscription.unsubscribe()}buildForm(){this.idpAdvancedForm=this.fb.group({allowIdpInitiatedSso:[this.samlOptions.allowIdpInitiatedSso,[]],idPInitiatedSsoCompletionPath:[this.samlOptions.idPInitiatedSsoCompletionPath,[p.k0.required]]})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(p.ze),e.rXU(ee.I),e.rXU(Vr))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-edit-idp-advanced"]],decls:2,vars:1,consts:[["id","editIdpAdvanced",1,"tw-container","tw-mx-auto"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label","help","isLast"],[3,"id","isTraffic","isAlt"],["id","AllowIdpInitiatedSso","formControlName","allowIdpInitiatedSso","type","checkbox",1,"tw-form-switch__input"],[4,"ngIf"],["type","text","name","IdPInitiatedSsoCompletionPath","id","IdPInitiatedSsoCompletionPath","formControlName","idPInitiatedSsoCompletionPath","required","",1,"tw-form-control"]],template:function(a,d){1&a&&(e.j41(0,"div",0),e.DNE(1,Bw,5,9,"form",1),e.k0s()),2&a&&(e.R7$(),e.Y8G("ngIf",d.dynamicAuth&&d.idpAdvancedForm))},dependencies:[Cn.bT,p.qT,p.me,p.Zm,p.BC,p.cb,p.YS,p.j4,p.JD,de.Y,Yo.m],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();function O1(s,g){if(1&s){const i=e.RV6();e.j41(0,"form",2)(1,"app-form-row",3)(2,"app-form-toggle",4),e.nrm(3,"input",5),e.k0s()(),e.j41(4,"app-form-row",6)(5,"div",7),e.nrm(6,"input",8),e.j41(7,"button",9),e.bIt("click",function(){e.eBV(i);const d=e.XpG();return e.Njj(d.tryMetadataAddr())}),e.j41(8,"span"),e.EFF(9),e.nI1(10,"translate"),e.k0s()()()()()}if(2&s){const i=e.XpG();e.Y8G("formGroup",i.idpDetailsForm),e.R7$(),e.Y8G("id","RequireValidMetadataSignature")("label","DynamicAuth.SAML.RequireValidMetadataSignature.Label")("help","DynamicAuth.SAML.RequireValidMetadataSignature.Help"),e.R7$(),e.Y8G("id","RequireValidMetadataSignature")("isTraffic",!0)("isAlt",!1),e.R7$(2),e.Y8G("id","MetadataAddress")("label","DynamicAuth.SAML.IdpMetadataAddress.Label")("help","DynamicAuth.SAML.IdpMetadataAddress.Help")("isLast",!0),e.R7$(5),e.JRh(e.bMT(10,12,"Common.ValidateMetadata"))}}let Lw=(()=>{class s{constructor(i,a,d,D,te,Ae){this.fb=i,this.errorService=a,this.dynamicAuthCacheService=d,this.providerValidator=D,this.translate=te,this.toastr=Ae,this.metadataAddrStream=new bn.m(1)}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,on.$)()).subscribe({next:i=>{this.dynamicAuth=i,this.samlOptions=ea(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges(),(0,Fi.gP)(this.samlOptions.idpMetadataAddress)||this.metadataAddrStream.next(this.samlOptions.idpMetadataAddress)},error:i=>{this.errorService.handleError(i)}}),this.metadataAddrStream.subscribe(i=>{this.providerValidator.validateMetadataUrl(i).subscribe(a=>{a?this.toastr.success_noduplicate(this.translate.instant("DynamicAuth.Wizard.SAML.ExternalProviderStep.MetadataValidMsg"),this.translate.instant("DynamicAuth.Wizard.SAML.ExternalProviderStep.MetadataValidTitle")):this.toastr.error_noduplicate(this.translate.instant("DynamicAuth.Wizard.SAML.ExternalProviderStep.MetadataInValidMsg"),this.translate.instant("DynamicAuth.Wizard.SAML.ExternalProviderStep.MetadataInValidTitle"))})})}subscribeToValueChanges(){this.idpDetailsFormSubscription=this.idpDetailsForm.valueChanges.subscribe({next:i=>this.updateCache()})}ngOnDestroy(){this.idpDetailsFormSubscription.unsubscribe(),this.metadataAddrStream.unsubscribe()}buildForm(){var i={idpMetadataAddress:[this.samlOptions.idpMetadataAddress,[p.k0.required,p.k0.pattern("^https://.{1,}$")]],requireValidMetadataSignature:[this.samlOptions.requireValidMetadataSignature]};this.idpDetailsForm=this.fb.group(i)}updateCache(){this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditIdpDetailsComponent",this.idpDetailsForm.valid);var i={...this.samlOptions,idpMetadataAddress:this.idpDetailsForm.controls.idpMetadataAddress.value,requireValidMetadataSignature:this.idpDetailsForm.controls.requireValidMetadataSignature.value};const a={...this.dynamicAuth,options:JSON.stringify(i)};this.dynamicAuthCacheService.unsavedCache.next(a)}tryMetadataAddr(){const i=this.idpDetailsForm.get("idpMetadataAddress");i.invalid||this.metadataAddrStream.next(i.value)}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(p.ze),e.rXU(ee.I),e.rXU(Vr),e.rXU(xc),e.rXU(Mn.c$),e.rXU(Tf))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-edit-idp-details"]],decls:2,vars:1,consts:[["id","editIdpDetails",1,"tw-container","tw-mx-auto"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label","help"],[3,"id","isTraffic","isAlt"],["id","RequireValidMetadataSignature","formControlName","requireValidMetadataSignature","type","checkbox",1,"tw-form-switch__input"],[3,"id","label","help","isLast"],[1,"tw-flex","tw-w-full","lg:tw-max-w-2xl"],["type","text","name","IdpMetadataAddress","id","IdpMetadataAddress","formControlName","idpMetadataAddress","placeholder","https://","required","",1,"tw-form-control","tw-rounded-r-none","tw-border-r-0"],["id","testMetadataAddr",1,"tw-btn","tw-rounded-l-none",3,"click"]],template:function(a,d){1&a&&(e.j41(0,"div",0),e.DNE(1,O1,11,14,"form",1),e.k0s()),2&a&&(e.R7$(),e.Y8G("ngIf",d.dynamicAuth&&d.idpDetailsForm))},dependencies:[Cn.bT,p.qT,p.me,p.Zm,p.BC,p.cb,p.YS,p.j4,p.JD,de.Y,Yo.m,Mn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();const Uw=["AdvancedTabs"];let P1=(()=>{class s{constructor(){}ngOnInit(){}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-edit-idp"]],viewQuery:function(a,d){if(1&a&&e.GBs(Uw,7),2&a){let D;e.mGM(D=e.lsd())&&(d.advancedTabs=D.first)}},decls:6,vars:5,consts:[[1,"tw-container","tw-mx-auto"],[3,"pillMode"],[3,"tabTitle","tabValue"],["id","editDynamicAuthIdpDetails"]],template:function(a,d){1&a&&(e.j41(0,"div",0)(1,"app-custom-tabs",1),e.nrm(2,"app-custom-tab",2)(3,"app-custom-tab",2),e.k0s()(),e.j41(4,"div",3),e.nrm(5,"router-outlet"),e.k0s()),2&a&&(e.R7$(),e.Y8G("pillMode",!0),e.R7$(),e.Y8G("tabTitle","Nav.Details")("tabValue","details"),e.R7$(),e.Y8G("tabTitle","Nav.Advanced")("tabValue","advanced"))},dependencies:[St.n3,an.G,_n.v],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();function Vw(s,g){if(1&s&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"slice"),e.k0s()),2&s){const i=g.item;e.R7$(),e.JRh(i.length>20?e.brH(2,1,i,0,20)+"...":i)}}function F1(s,g){1&s&&(e.j41(0,"div",11)(1,"div"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&s&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"DynamicAuth.NoScopesMessage")," "))}function B1(s,g){1&s&&(e.j41(0,"span",21),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Reserved")," "))}function Tu(s,g){if(1&s){const i=e.RV6();e.j41(0,"button",22),e.bIt("click",function(){e.eBV(i);const d=e.XpG().$implicit,D=e.XpG(3);return e.Njj(D.removeScope(d))}),e.nrm(1,"span",23),e.j41(2,"span",15),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&s&&(e.R7$(3),e.JRh(e.bMT(4,1,"Common.Delete.Title")))}function jw(s,g){if(1&s&&(e.j41(0,"tr")(1,"td",18)(2,"span"),e.EFF(3),e.k0s()(),e.j41(4,"td"),e.DNE(5,B1,3,3,"span",19),e.k0s(),e.j41(6,"td"),e.DNE(7,Tu,5,3,"button",20),e.k0s()()),2&s){const i=g.$implicit,a=e.XpG(3);e.R7$(3),e.JRh(i),e.R7$(2),e.Y8G("ngIf",!a.allowRemoveScope(i)),e.R7$(2),e.Y8G("ngIf",a.allowRemoveScope(i))}}function $w(s,g){if(1&s&&(e.j41(0,"table",12)(1,"thead",13)(2,"th",14)(3,"span",15),e.EFF(4),e.nI1(5,"translate"),e.k0s()(),e.j41(6,"th",16)(7,"span",15),e.EFF(8),e.nI1(9,"translate"),e.k0s()(),e.j41(10,"th",16)(11,"span",15),e.EFF(12),e.nI1(13,"translate"),e.k0s()()(),e.j41(14,"tbody"),e.DNE(15,jw,8,3,"tr",17),e.k0s()()),2&s){const i=e.XpG(2);e.R7$(4),e.JRh(e.bMT(5,4,"Common.Scope")),e.R7$(4),e.JRh(e.bMT(9,6,"Common.Reserved")),e.R7$(4),e.JRh(e.bMT(13,8,"Common.Actions")),e.R7$(3),e.Y8G("ngForOf",i.currentScopes())}}function L1(s,g){if(1&s){const i=e.RV6();e.j41(0,"form",3)(1,"app-form-row",4)(2,"app-row-bar",5),e.nrm(3,"input",6),e.nI1(4,"translate"),e.j41(5,"button",7),e.bIt("click",function(){e.eBV(i);const d=e.XpG();return e.Njj(d.addScope())}),e.EFF(6),e.nI1(7,"translate"),e.k0s()()(),e.j41(8,"div",8),e.DNE(9,F1,4,3,"div",9)(10,$w,16,10,"table",10),e.k0s()()}if(2&s){const i=e.XpG(),a=e.sdS(1);e.Y8G("formGroup",i.scopesForm),e.R7$(),e.Y8G("id","NewScope")("hasLabel",!1)("isLast",!0),e.R7$(2),e.FS9("placeholder",e.bMT(4,15,"DynamicAuth.Scopes.Placeholder")),e.Y8G("typeahead",i.options)("typeaheadWaitMs",200)("typeaheadAsync",!0)("typeaheadItemTemplate",a)("typeaheadMinLength",0)("maxlength",i.maxScopeLength),e.R7$(3),e.SpI(" ",e.bMT(7,17,"Common.Add")," "),e.R7$(2),e.Y8G("id","Scopes"),e.R7$(),e.Y8G("ngIf",i.currentScopes().length<=0),e.R7$(),e.Y8G("ngIf",i.currentScopes().length>0)}}let Gw=(()=>{class s{constructor(i,a,d,D,te,Ae){this.fb=i,this.errorService=a,this.toastr=d,this.translateService=D,this.dynamicAuthChachService=te,this.providerValidator=Ae,this.newScope="",this.dynamicAuthTypes=Qr,this.isDeleting=!1,this.maxScopeLength=Xs.MaxScopeLength}ngOnInit(){this.dynamicAuthChachService.unsavedCache$.pipe((0,on.$)()).subscribe({next:i=>{this.dynamicAuth=i,this.oidcOptions=ho(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges()},error:i=>{this.errorService.handleError(i)}}),this.options=new vc.c(i=>{let a=this.scopesForm.get("newScope").value;i.next(a)}).pipe((0,E0.n)(i=>this.providerValidator.supportedScopes(this.oidcOptions.authority).pipe((0,Di.T)(a=>this.filterScopes(i,a)))))}filterScopes(i,a){const d=!i;return a.filter(D=>!this.currentScopes().includes(D)&&(d||D.includes(i)))}subscribeToValueChanges(){this.scopesFormSubscription=this.scopesForm.controls.scopes.valueChanges.subscribe({next:i=>{this.dynamicAuthChachService.componentDirtyValidMap.set("DynamicAuthEditScopesComponent",this.scopesForm.valid);const a={...this.oidcOptions,scope:this.scopesForm.controls.scopes.value},d={...this.dynamicAuth,options:JSON.stringify(a)};this.dynamicAuthChachService.unsavedCache.next(d)}})}ngOnDestroy(){this.scopesFormSubscription.unsubscribe()}buildForm(){this.scopesForm=this.fb.group({newScope:[this.newScope],scopes:[this.oidcOptions.scope]})}addScope(){const i=this.scopesForm.controls.newScope.value,a=this.scopesForm.controls.scopes.value;""!==i?i.indexOf(" ")>=0?this.toastr.error(this.translateService.instant("DynamicAuth.Scopes.CannotHaveSpaces")):a.includes(i)?this.toastr.error(this.translateService.instant("DynamicAuth.Scopes.AlreadyAdded")):this.scopesForm.setValue({newScope:"",scopes:[...a,i]}):this.toastr.error(this.translateService.instant("DynamicAuth.Scopes.MustSpecifyScope"))}removeScope(i){this.scopesForm.controls.scopes.setValue(this.scopesForm.controls.scopes.value.filter(d=>d!==i))}currentScopes(){const i=this.scopesForm.controls.scopes;return i?i.value:[]}allowRemoveScope(i){return Xs.AllowRemoveScope(i)}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(p.ze),e.rXU(ee.I),e.rXU(ni.tw),e.rXU(Mn.c$),e.rXU(Vr),e.rXU(xc))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-edit-scopes"]],decls:4,vars:1,consts:[["customItemTemplate",""],["id","editIdPDetails",1,"tw-container","tw-mx-auto"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","hasLabel","isLast"],[1,"tw-form-typeahead"],["id","new-scope-input","formControlName","newScope","type","text","name","New Scope","container","#addIdpModal","autocomplete","off","left","",1,"tw-form-control",3,"typeahead","typeaheadWaitMs","typeaheadAsync","typeaheadItemTemplate","typeaheadMinLength","placeholder","maxlength"],["id","addScopeButton","right","",1,"tw-btn-success",3,"click"],[1,"tw-mt-6",3,"id"],["class","tw-alert","role","alert",4,"ngIf"],["class","datatable",4,"ngIf"],["role","alert",1,"tw-alert"],[1,"datatable"],[1,""],[1,"tw-w-full"],[1,"sr-only"],[1,"tw-w-1"],[4,"ngFor","ngForOf"],[1,"tw-table-cell","tw-max-w-0","tw-truncate"],["class","tw-pill",4,"ngIf"],["class","tw-btn-link tw-btn-small tw-text-red-500","value","Delete",3,"click",4,"ngIf"],[1,"tw-pill"],["value","Delete",1,"tw-btn-link","tw-btn-small","tw-text-red-500",3,"click"],["aria-hidden","true",1,"fas","fa-times"]],template:function(a,d){1&a&&(e.DNE(0,Vw,3,5,"ng-template",null,0,e.C5r),e.j41(2,"div",1),e.DNE(3,L1,11,19,"form",2),e.k0s()),2&a&&(e.R7$(3),e.Y8G("ngIf",d.dynamicAuth))},dependencies:[Cn.Sq,Cn.bT,p.qT,p.me,p.BC,p.cb,p.tU,p.j4,p.JD,de.Y,uu.f,bf.Xi,Cn.P9,Mn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();var rg=h(4572);function lI(s,g){1&s&&(e.nrm(0,"span",12),e.nI1(1,"translate")),2&s&&e.Y8G("innerHTML",e.bMT(1,1,"DynamicAuth.PathValidation"),e.npT)}function sg(s,g){1&s&&(e.nrm(0,"span",13),e.nI1(1,"translate")),2&s&&e.Y8G("innerHTML",e.bMT(1,1,"DynamicAuth.PathValidation"),e.npT)}function og(s,g){1&s&&(e.nrm(0,"span",14),e.nI1(1,"translate")),2&s&&e.Y8G("innerHTML",e.bMT(1,1,"DynamicAuth.PathValidation"),e.npT)}function ag(s,g){if(1&s&&(e.j41(0,"form",2)(1,"app-form-row",3),e.nrm(2,"input",4),e.k0s(),e.j41(3,"app-form-row",3),e.nrm(4,"input",5),e.DNE(5,lI,2,3,"span",6),e.k0s(),e.j41(6,"app-form-row",3),e.nrm(7,"input",7),e.DNE(8,sg,2,3,"span",8),e.k0s(),e.j41(9,"app-form-row",9),e.nrm(10,"input",10),e.DNE(11,og,2,3,"span",11),e.k0s()()),2&s){const i=e.XpG();e.Y8G("formGroup",i.spDetailsForm),e.R7$(),e.Y8G("id","SPEntityID")("label","DynamicAuth.SPEntityID.Label")("help","DynamicAuth.SPEntityID.Help"),e.R7$(2),e.Y8G("id","SpMetadataAddress")("label","DynamicAuth.SpMetadataAddress.Label")("help","DynamicAuth.SpMetadataAddress.Help"),e.R7$(2),e.Y8G("ngIf",!i.validMetadataPath()),e.R7$(),e.Y8G("id","CallbackPath")("label","DynamicAuth.CallbackPath.Label")("help","DynamicAuth.CallbackPath.Help"),e.R7$(2),e.Y8G("ngIf",!i.validCallbackPath()),e.R7$(),e.Y8G("id","SignedOutCallbackPath")("label","DynamicAuth.SignedOutCallbackPath.Label")("help","DynamicAuth.SignedOutCallbackPath.Help")("isLast",!0),e.R7$(2),e.Y8G("ngIf",!i.validSignedOutPath())}}let lg=(()=>{class s{constructor(i,a,d,D){this.fb=i,this.errorService=a,this.dynamicAuthCacheService=d,this.configService=D}ngOnInit(){(0,rg.z)([this.dynamicAuthCacheService.unsavedCache$.pipe((0,on.$)()),this.configService.getConfig().pipe((0,on.$)())]).subscribe({next:([i,a])=>{this.dynamicAuth=i,this.samlOptions=ea(this.dynamicAuth.options),this.isRskDynamicAuth=a.featureFlagOptions.dynamicAuthenticationFlag==da.U.Rsk,this.buildForm(),this.subscribeToValueChanges()}})}subscribeToValueChanges(){this.spDetailsFormSubscription=this.spDetailsForm.valueChanges.subscribe({next:i=>{this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditSpDetailsComponent",this.spDetailsForm.valid);var a={...this.samlOptions,spEntityId:this.spDetailsForm.controls.spEntityId.value,spMetadataAddress:this.spDetailsForm.controls.spMetadataAddress.value,callbackPath:this.spDetailsForm.controls.callbackPath.value,signedOutCallbackPath:this.spDetailsForm.controls.signedOutCallbackPath.value};const d={...this.dynamicAuth,options:JSON.stringify(a)};this.dynamicAuthCacheService.unsavedCache.next(d)}})}ngOnDestroy(){this.spDetailsFormSubscription.unsubscribe()}buildForm(){let i={spEntityId:[this.samlOptions.spEntityId,[p.k0.required]],spMetadataAddress:[this.samlOptions.spMetadataAddress,[p.k0.required,jl()]],callbackPath:[this.samlOptions.callbackPath,[p.k0.required,jl()]],signedOutCallbackPath:[this.samlOptions.signedOutCallbackPath,[jl()]]};this.spDetailsForm=this.fb.group(i)}validMetadataPath(){return this.spDetailsForm.get("spMetadataAddress").valid}validCallbackPath(){return this.spDetailsForm.get("callbackPath").valid}validSignedOutPath(){return!!this.isRskDynamicAuth||this.spDetailsForm.get("signedOutCallbackPath").valid}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(p.ze),e.rXU(ee.I),e.rXU(Vr),e.rXU(js.w))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-edit-sp-details"]],decls:2,vars:1,consts:[["id","editSPDetails",1,"tw-container","tw-mx-auto"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label","help"],["type","text","name","DisplayName","id","DisplayName","formControlName","spEntityId","required","",1,"tw-form-control"],["type","text","name","SpMetadataAddress","id","SpMetadataAddress","formControlName","spMetadataAddress","required","",1,"tw-form-control"],["id","MetaWarn","class","tw-form-text-warning",3,"innerHTML",4,"ngIf"],["type","text","name","CallbackPath","id","CallbackPath","formControlName","callbackPath","required","",1,"tw-form-control"],["id","CallbackWarn","class","tw-form-text-warning",3,"innerHTML",4,"ngIf"],[3,"id","label","help","isLast"],["type","text","name","CallbackPath","id","SignedOutCallbackPath","formControlName","signedOutCallbackPath",1,"tw-form-control"],["id","SignOutWarn","class","tw-form-text-warning",3,"innerHTML",4,"ngIf"],["id","MetaWarn",1,"tw-form-text-warning",3,"innerHTML"],["id","CallbackWarn",1,"tw-form-text-warning",3,"innerHTML"],["id","SignOutWarn",1,"tw-form-text-warning",3,"innerHTML"]],template:function(a,d){1&a&&(e.j41(0,"div",0),e.DNE(1,ag,12,17,"form",1),e.k0s()),2&a&&(e.R7$(),e.Y8G("ngIf",d.dynamicAuth&&d.spDetailsForm))},dependencies:[Cn.bT,p.qT,p.me,p.BC,p.cb,p.YS,p.j4,p.JD,de.Y,Mn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();var Ta=h(4652);function Hw(s,g){if(1&s&&(e.j41(0,"form",10)(1,"app-form-row",11)(2,"app-form-toggle",16),e.nrm(3,"input",17),e.k0s()()()),2&s){const i=e.XpG();e.Y8G("formGroup",i.spRequestForm),e.R7$(),e.Y8G("id","SignAuthenticationRequests")("label","DynamicAuth.SAML.SignAuthenticationRequests.Label")("help","DynamicAuth.SAML.SignAuthenticationRequests.Help"),e.R7$(),e.Y8G("id","SignAuthenticationRequests")("isTraffic",!0)("isAlt",!1)}}function U1(s,g){if(1&s){const i=e.RV6();e.j41(0,"button",18),e.bIt("click",function(){e.eBV(i),e.XpG();const d=e.sdS(7);return e.Njj(d.show())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Clients.Saml.AddCert")," "))}function xl(s,g){if(1&s){const i=e.RV6();e.j41(0,"button",19),e.bIt("click",function(){e.eBV(i),e.XpG();const d=e.sdS(7);return e.Njj(d.show())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Clients.Saml.ReplaceCertificate")," "))}let dl=(()=>{class s{get ReadOnlyFieldType(){return or.t}constructor(i,a,d,D,te,Ae,et){this.fb=i,this.errorService=a,this.dynamicAuthCacheService=d,this.toastr=D,this.translate=te,this.certService=Ae,this.dynamicAuthService=et,this.canDeleteCert=!1,this.selectedFile=void 0,this.fileName=new $a.w("")}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,on.$)()).subscribe({next:i=>{this.dynamicAuth=i,this.samlOptions=ea(this.dynamicAuth.options),this.certificateDescription=this.samlOptions.signingCertificateDto?[this.samlOptions.signingCertificateDto]:[],this.canDeleteCert=this.samlOptions.signAuthenticationRequests,this.buildForm(),this.subscribeToValueChanges()},error:i=>{this.errorService.handleError(i)}})}subscribeToValueChanges(){this.spRequestFormSubscription=this.spRequestForm.valueChanges.subscribe({next:i=>{this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditSpRequestComponent",this.spRequestForm.valid);var a={...this.samlOptions,signAuthenticationRequests:this.spRequestForm.controls.signAuthenticationRequests.value};const d={...this.dynamicAuth,options:JSON.stringify(a)};this.canDeleteCert=this.spRequestForm.controls.signAuthenticationRequests.value,this.dynamicAuthCacheService.unsavedCache.next(d)}})}buildForm(){this.spRequestForm=this.fb.group({signAuthenticationRequests:[this.samlOptions.signAuthenticationRequests,[]]}),this.certForm=this.fb.group({selectedFile:void 0,certPassword:["",[]]})}handleFileInput(i){this.selectedFile=i.item(0)}updateSigningCert(){this.fileName=new $a.w("");const i=this.certForm.get("certPassword").value;this.certService.verifyCertFilePassword(this.selectedFile,i,{next:a=>{this.fileName=new $a.w(this.selectedFile?.name),this.dynamicAuthService.replaceSigningCert(this.dynamicAuth.scheme,a,i).subscribe(d=>{this.certificateDescription=[d],this.selectedFile=null,this.certForm.get("certPassword").setValue(""),this.updateSigninCertInCache(d)})},error:a=>{this.toastr.error(this.translate.instant("Notifications.CertInValidMsg"),this.translate.instant("Notifications.CertInValidTitle")),this.selectedFile=null,this.certForm.get("certPassword").setValue("")}})}removeSigningCert(){this.dynamicAuthService.removeSigningCert(this.dynamicAuth.scheme).subscribe(()=>{this.samlOptions.signingCertificateDto=null,this.certificateDescription=[],this.updateSigninCertInCache(null)},i=>{this.errorService.handleError(i)})}updateSigninCertInCache(i){var a={...this.samlOptions,signingCertificateDto:i};const d={...this.dynamicAuth,options:JSON.stringify(a)};this.dynamicAuthCacheService.unsavedCache.next(d)}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(p.ze),e.rXU(ee.I),e.rXU(Vr),e.rXU(ni.tw),e.rXU(Mn.c$),e.rXU(hc.V),e.rXU(ss))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-edit-sp-request"]],decls:17,vars:19,consts:[["addCertificateModal",""],["fileInput","","selectedFile",""],["id","editSpRequest",1,"tw-container","tw-mx-auto"],[3,"formGroup",4,"ngIf"],[3,"delete","certificates","showSingle","deleteCertDisabled"],["addButton",""],["id","addCertButton","class","tw-btn-success","type","button",3,"click",4,"ngIf"],["id","replaceCertButton","class","tw-btn-success tw-mr-4","type","button",3,"click",4,"ngIf"],[3,"confirm","modalId","type","buttonType","title","okText"],["body",""],[3,"formGroup"],[3,"id","label","help"],[1,"tw-form-control"],["id","fileInput","type","file","name","file","accept",".pfx,.p12",1,"tw-form-file","tw-max-w-full",3,"change"],[3,"id","label","help","isLast"],["type","text","name","CertPassword","id","CertPassword","formControlName","certPassword",1,"tw-form-control"],[3,"id","isTraffic","isAlt"],["id","SignAuthenticationRequests","formControlName","signAuthenticationRequests","type","checkbox",1,"tw-form-switch__input"],["id","addCertButton","type","button",1,"tw-btn-success",3,"click"],["id","replaceCertButton","type","button",1,"tw-btn-success","tw-mr-4",3,"click"]],template:function(a,d){if(1&a){const D=e.RV6();e.j41(0,"div",2),e.DNE(1,Hw,4,7,"form",3),e.j41(2,"app-saml-cert-list",4),e.bIt("delete",function(){return e.eBV(D),e.Njj(d.removeSigningCert())}),e.qex(3,5),e.DNE(4,U1,3,3,"button",6)(5,xl,3,3,"button",7),e.bVm(),e.k0s(),e.j41(6,"app-confirmation-modal",8,0),e.bIt("confirm",function(){return e.eBV(D),e.Njj(d.updateSigningCert())}),e.qex(8,9),e.j41(9,"form",10)(10,"app-form-row",11)(11,"div",12)(12,"input",13,1),e.bIt("change",function(Ae){return e.eBV(D),e.Njj(d.handleFileInput(Ae.target.files))}),e.k0s()()(),e.j41(15,"app-form-row",14),e.nrm(16,"input",15),e.k0s()(),e.bVm(),e.k0s()()}2&a&&(e.R7$(),e.Y8G("ngIf",d.dynamicAuth&&d.spRequestForm),e.R7$(),e.Y8G("certificates",d.certificateDescription)("showSingle",!0)("deleteCertDisabled",d.canDeleteCert),e.R7$(2),e.Y8G("ngIf",d.certificateDescription.length<1),e.R7$(),e.Y8G("ngIf",d.certificateDescription.length>0),e.R7$(),e.Y8G("modalId","addCertificateModal")("type",null)("buttonType","success")("title","DynamicAuth.UpdateSigningCertificate.Title")("okText","Common.Update"),e.R7$(3),e.Y8G("formGroup",d.certForm),e.R7$(),e.Y8G("id","fileInput")("label","DynamicAuth.CertFile.Label")("help","DynamicAuth.CertFile.Help"),e.R7$(5),e.Y8G("id","CertPassword")("label","DynamicAuth.CertPassword.Label")("help","DynamicAuth.CertPassword.Help")("isLast",!0))},dependencies:[Cn.bT,p.qT,p.me,p.Zm,p.BC,p.cb,p.j4,p.JD,de.Y,Yo.m,Le.B,Ta.T,Mn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();function hl(s,g){if(1&s&&(e.j41(0,"form",10)(1,"app-form-row",11)(2,"app-form-toggle",16),e.nrm(3,"input",17),e.k0s()(),e.j41(4,"app-form-row",11)(5,"app-form-toggle",16),e.nrm(6,"input",18),e.k0s()()()),2&s){const i=e.XpG();e.Y8G("formGroup",i.spResponseForm),e.R7$(),e.Y8G("id","RequireSignedAssertions")("label","DynamicAuth.SAML.RequireSignedAssertions.Label")("help","DynamicAuth.SAML.RequireSignedAssertions.Help"),e.R7$(),e.Y8G("id","RequireSignedAssertions")("isTraffic",!0)("isAlt",!1),e.R7$(2),e.Y8G("id","RequireEncryptedAssertions")("label","DynamicAuth.SAML.RequireEncryptedAssertions.Label")("help","DynamicAuth.SAML.RequireEncryptedAssertions.Help"),e.R7$(),e.Y8G("id","RequireEncryptedAssertions")("isTraffic",!0)("isAlt",!1)}}function V1(s,g){if(1&s){const i=e.RV6();e.j41(0,"button",19),e.bIt("click",function(){e.eBV(i),e.XpG();const d=e.sdS(7);return e.Njj(d.show())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Clients.Saml.AddCert")," "))}function j1(s,g){if(1&s){const i=e.RV6();e.j41(0,"button",20),e.bIt("click",function(){e.eBV(i),e.XpG();const d=e.sdS(7);return e.Njj(d.show())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Clients.Saml.ReplaceCertificate")," "))}let Ww=(()=>{class s{get ReadOnlyFieldType(){return or.t}constructor(i,a,d,D,te,Ae,et){this.fb=i,this.errorService=a,this.dynamicAuthCacheService=d,this.toastr=D,this.translate=te,this.certService=Ae,this.dynamicAuthService=et,this.canDeleteCert=!1,this.selectedFile=void 0,this.fileName=new $a.w("")}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,on.$)()).subscribe({next:i=>{this.dynamicAuth=i,this.samlOptions=ea(this.dynamicAuth.options),this.certificateDescription=this.samlOptions.encryptionCertificateDto?[this.samlOptions.encryptionCertificateDto]:[],this.canDeleteCert=this.samlOptions.requireEncryptedAssertions,this.buildForm(),this.subscribeToValueChanges()},error:i=>{this.errorService.handleError(i)}})}subscribeToValueChanges(){this.spResponseFormSubscription=this.spResponseForm.valueChanges.subscribe({next:i=>{this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditSpResponseComponent",this.spResponseForm.valid);var a={...this.samlOptions,requireEncryptedAssertions:this.spResponseForm.controls.requireEncryptedAssertions.value,requireSignedAssertions:this.spResponseForm.controls.requireSignedAssertions.value};const d={...this.dynamicAuth,options:JSON.stringify(a)};this.canDeleteCert=this.spResponseForm.controls.requireEncryptedAssertions.value,this.dynamicAuthCacheService.unsavedCache.next(d)}})}buildForm(){this.spResponseForm=this.fb.group({requireEncryptedAssertions:[this.samlOptions.requireEncryptedAssertions,[]],requireSignedAssertions:[this.samlOptions.requireSignedAssertions,[]]}),this.certForm=this.fb.group({selectedFile:void 0,certPassword:["",[]]})}handleFileInput(i){this.selectedFile=i.item(0)}updateEncryptionCert(){this.fileName=new $a.w("");const i=this.certForm.get("certPassword").value;this.certService.verifyCertFilePassword(this.selectedFile,i,{next:a=>{this.fileName=new $a.w(this.selectedFile?.name),this.dynamicAuthService.replaceEncryptionCert(this.dynamicAuth.scheme,a,i).subscribe(d=>{this.certificateDescription=[d],this.selectedFile=null,this.certForm.get("certPassword").setValue(""),this.updateEncryptionCertInCache(d)})},error:a=>{this.toastr.error(this.translate.instant("Notifications.CertInValidMsg"),this.translate.instant("Notifications.CertInValidTitle")),this.selectedFile=null,this.certForm.get("certPassword").setValue("")}})}removeEncryptionCert(){this.dynamicAuthService.removeEncryptionCert(this.dynamicAuth.scheme).subscribe(()=>{this.samlOptions.encryptionCertificateDto=null,this.certificateDescription=[],this.updateEncryptionCertInCache(null)},i=>{this.errorService.handleError(i)})}updateEncryptionCertInCache(i){var a={...this.samlOptions,encryptionCertificateDto:i};const d={...this.dynamicAuth,options:JSON.stringify(a)};this.dynamicAuthCacheService.unsavedCache.next(d)}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(p.ze),e.rXU(ee.I),e.rXU(Vr),e.rXU(ni.tw),e.rXU(Mn.c$),e.rXU(hc.V),e.rXU(ss))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-edit-sp-response"]],decls:17,vars:19,consts:[["addCertificateModal",""],["fileInput","","selectedFile",""],["id","editSpResponse|",1,"tw-container","tw-mx-auto"],[3,"formGroup",4,"ngIf"],[3,"delete","certificates","showSingle","deleteCertDisabled"],["addButton",""],["id","addCertButton","class","tw-btn-success","type","button",3,"click",4,"ngIf"],["id","replaceCertButton","class","tw-btn-success tw-mr-4","type","button",3,"click",4,"ngIf"],[3,"confirm","modalId","type","buttonType","title","okText"],["body",""],[3,"formGroup"],[3,"id","label","help"],[1,"tw-form-control"],["id","fileInput","type","file","name","file","accept",".pfx,.p12",1,"tw-form-file","tw-max-w-full",3,"change"],[3,"id","label","help","isLast"],["type","text","name","CertPassword","id","CertPassword","formControlName","certPassword",1,"tw-form-control"],[3,"id","isTraffic","isAlt"],["id","RequireSignedAssertions","formControlName","requireSignedAssertions","type","checkbox",1,"tw-form-switch__input"],["id","RequireEncryptedAssertions","formControlName","requireEncryptedAssertions","type","checkbox",1,"tw-form-switch__input"],["id","addCertButton","type","button",1,"tw-btn-success",3,"click"],["id","replaceCertButton","type","button",1,"tw-btn-success","tw-mr-4",3,"click"]],template:function(a,d){if(1&a){const D=e.RV6();e.j41(0,"div",2),e.DNE(1,hl,7,13,"form",3),e.j41(2,"app-saml-cert-list",4),e.bIt("delete",function(){return e.eBV(D),e.Njj(d.removeEncryptionCert())}),e.qex(3,5),e.DNE(4,V1,3,3,"button",6)(5,j1,3,3,"button",7),e.bVm(),e.k0s(),e.j41(6,"app-confirmation-modal",8,0),e.bIt("confirm",function(){return e.eBV(D),e.Njj(d.updateEncryptionCert())}),e.qex(8,9),e.j41(9,"form",10)(10,"app-form-row",11)(11,"div",12)(12,"input",13,1),e.bIt("change",function(Ae){return e.eBV(D),e.Njj(d.handleFileInput(Ae.target.files))}),e.k0s()()(),e.j41(15,"app-form-row",14),e.nrm(16,"input",15),e.k0s()(),e.bVm(),e.k0s()()}2&a&&(e.R7$(),e.Y8G("ngIf",d.dynamicAuth&&d.spResponseForm),e.R7$(),e.Y8G("certificates",d.certificateDescription)("showSingle",!0)("deleteCertDisabled",d.canDeleteCert),e.R7$(2),e.Y8G("ngIf",d.certificateDescription.length<1),e.R7$(),e.Y8G("ngIf",d.certificateDescription.length>0),e.R7$(),e.Y8G("modalId","addCertificateModal")("type",null)("buttonType","success")("title","DynamicAuth.UpdateEncryptionCertificate.Title")("okText","Common.Update"),e.R7$(3),e.Y8G("formGroup",d.certForm),e.R7$(),e.Y8G("id","fileInput")("label","DynamicAuth.CertFile.Label")("help","DynamicAuth.CertFile.Help"),e.R7$(5),e.Y8G("id","CertPassword")("label","DynamicAuth.CertPassword.Label")("help","DynamicAuth.CertPassword.Help")("isLast",!0))},dependencies:[Cn.bT,p.qT,p.me,p.Zm,p.BC,p.cb,p.j4,p.JD,de.Y,Yo.m,Le.B,Ta.T,Mn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();const Kw=["AdvancedTabs"];let zw=(()=>{class s{constructor(){}ngOnInit(){}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-edit-sp"]],viewQuery:function(a,d){if(1&a&&e.GBs(Kw,7),2&a){let D;e.mGM(D=e.lsd())&&(d.advancedTabs=D.first)}},decls:7,vars:7,consts:[[1,"tw-container","tw-mx-auto"],[3,"pillMode"],[3,"tabTitle","tabValue"],["id","editDynamicAuthSpDetails"]],template:function(a,d){1&a&&(e.j41(0,"div",0)(1,"app-custom-tabs",1),e.nrm(2,"app-custom-tab",2)(3,"app-custom-tab",2)(4,"app-custom-tab",2),e.k0s()(),e.j41(5,"div",3),e.nrm(6,"router-outlet"),e.k0s()),2&a&&(e.R7$(),e.Y8G("pillMode",!0),e.R7$(),e.Y8G("tabTitle","Nav.Details")("tabValue","details"),e.R7$(),e.Y8G("tabTitle","Nav.Request")("tabValue","request"),e.R7$(),e.Y8G("tabTitle","Nav.Response")("tabValue","response"))},dependencies:[St.n3,an.G,_n.v],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();const Yw=(s,g)=>({title:s,link:g}),cg=s=>[s];function Ud(s,g){1&s&&e.nrm(0,"app-custom-tab",3),2&s&&e.Y8G("tabTitle","Nav.Scopes")("tabValue","scopes")}function Xw(s,g){1&s&&e.nrm(0,"app-custom-tab",3),2&s&&e.Y8G("tabTitle","Nav.Advanced")("tabValue","advanced")}function $1(s,g){1&s&&e.nrm(0,"app-custom-tab",3),2&s&&e.Y8G("tabTitle","Nav.SP")("tabValue","sp")}function Jw(s,g){1&s&&e.nrm(0,"app-custom-tab",3),2&s&&e.Y8G("tabTitle","Nav.IdP")("tabValue","idp")}let Qw=(()=>{class s{constructor(i,a,d,D,te,Ae,et,bt,Ht,dn){this.r=i,this.route=a,this.localize=d,this.titleService=D,this.translate=te,this.toastr=Ae,this.errorService=et,this.dynamicAuthService=bt,this.dynamicAuthCachService=Ht,this.dialogService=dn,this.dynamicAuthTypes=Qr,this.isFirstCall=!0}ngOnInit(){this.dynamicAuthSub=this.dynamicAuthCachService.unsavedCache$.subscribe({next:i=>{this.dynamicAuth=i;const a=this.translate.instant("DynamicAuth.Title.Generic")+" "+this.dynamicAuth.displayName+" - "+Vt.$9.SITE_TITLE;if(this.titleService.setTitle(a),this.checkSubmitEnabled(),this.dynamicAuth.type==Qr.OIDC&&this.isFirstCall){var d=ho(this.dynamicAuth.options);this.oldSecret=d.clientSecret,this.isFirstCall=!1}},error:i=>{this.errorService.handleError(i)}})}ngOnDestroy(){this.dynamicAuthSub.unsubscribe()}canDeactivate(){return!(this.dynamicAuthCachService.componentDirtyValidMap.size>0)||(this.dialogService.confirm(),this.dialogService.eventStream.subscribe(i=>{i&&this.dynamicAuthCachService.componentDirtyValidMap.size>0&&this.dynamicAuthCachService.componentDirtyValidMap.clear()}),this.dialogService.eventStream)}checkSubmitEnabled(){const i=[...Array.from(this.dynamicAuthCachService.componentDirtyValidMap.values())];this.saveDisabled=0===i.length||i.some(a=>!a)}mobRoute(i){this.r.navigate([i],{relativeTo:this.route})}saveDynamicAuth(){this.saveDisabled||(this.dynamicAuth.type==Qr.OIDC&&this.setOidcClientSecret(),this.dynamicAuthService.updateDynamicAuth(Vm(this.dynamicAuth)).subscribe({next:i=>{this.isFirstCall=!0,this.dynamicAuthCachService.unsavedCache.next(Ef(i)),this.dynamicAuthCachService.onSave(),this.toastr.success(this.translate.instant("DynamicAuth.Success.Updated"),this.translate.instant("Notifications.SuccessfullySaved")),this.checkSubmitEnabled()},error:i=>{this.errorService.handleError(i)}}))}deleteDynamicAuth(i){this.dynamicAuthService.deleteDynamicAuth(i).subscribe({next:a=>{const d=this.localize.translateRoute("/dynamic-auth");this.r.navigate([d]),this.toastr.success(`${i} ${this.translate.instant("Common.Delete.Deleted")}`,this.translate.instant("Notifications.SuccessfullyDeleted"))},error:a=>{this.errorService.handleError(a)}})}setOidcClientSecret(){var i=ho(this.dynamicAuth.options);this.oldSecret==i.clientSecret&&(i.clientSecret=void 0),this.dynamicAuth.options=JSON.stringify(i)}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(St.Ix),e.rXU(St.nX),e.rXU($i.QG),e.rXU(n.hE),e.rXU(Mn.c$),e.rXU(ni.tw),e.rXU(ee.I),e.rXU(ss),e.rXU(Vr),e.rXU(Wo.o))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["ng-component"]],decls:24,vars:26,consts:[["deleteDynamicAuthModal",""],[3,"title","crumbs","hasTabs"],["tabs",""],[3,"tabTitle","tabValue"],[3,"tabTitle","tabValue",4,"ngIf"],["id","editDynamicAuth",1,"tw-container","tw-mx-auto"],["id","submitBtn",1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"click","disabled"],["right",""],["id","deleteBtn","type","button","data-toggle","modal",1,"tw-btn-danger","tw-mb-3",3,"click"],[3,"delete","resourceName"]],template:function(a,d){if(1&a){const D=e.RV6();e.j41(0,"app-title-bar",1),e.nI1(1,"translate"),e.nI1(2,"localize"),e.qex(3,2),e.j41(4,"app-custom-tabs"),e.nrm(5,"app-custom-tab",3),e.DNE(6,Ud,1,2,"app-custom-tab",4)(7,Xw,1,2,"app-custom-tab",4)(8,$1,1,2,"app-custom-tab",4)(9,Jw,1,2,"app-custom-tab",4),e.k0s(),e.bVm(),e.k0s(),e.j41(10,"div",5),e.nrm(11,"router-outlet"),e.k0s(),e.j41(12,"app-button-bar")(13,"button",6),e.bIt("click",function(){return e.eBV(D),e.Njj(d.saveDynamicAuth())}),e.j41(14,"span"),e.EFF(15),e.nI1(16,"translate"),e.k0s()(),e.qex(17,7),e.j41(18,"button",8),e.bIt("click",function(){e.eBV(D);const Ae=e.sdS(22);return e.Njj(Ae.show())}),e.EFF(19),e.nI1(20,"translate"),e.k0s(),e.bVm(),e.k0s(),e.j41(21,"app-delete-confirmation-modal",9,0),e.bIt("delete",function(){return e.eBV(D),e.Njj(d.deleteDynamicAuth(d.dynamicAuth.scheme))}),e.nrm(23,"app-can-deactivate"),e.k0s()}2&a&&(e.Y8G("title",d.dynamicAuth.displayName)("crumbs",e.eq3(24,cg,e.l_i(21,Yw,e.bMT(1,13,"Nav.DynamicAuth"),e.bMT(2,15,"/dynamic-auth"))))("hasTabs",!0),e.R7$(5),e.Y8G("tabTitle","Nav.Details")("tabValue","details"),e.R7$(),e.Y8G("ngIf",d.dynamicAuth.type==d.dynamicAuthTypes.OIDC),e.R7$(),e.Y8G("ngIf",d.dynamicAuth.type==d.dynamicAuthTypes.OIDC),e.R7$(),e.Y8G("ngIf",d.dynamicAuth.type==d.dynamicAuthTypes.SAML),e.R7$(),e.Y8G("ngIf",d.dynamicAuth.type==d.dynamicAuthTypes.SAML),e.R7$(4),e.Y8G("disabled",d.saveDisabled),e.R7$(2),e.JRh(e.bMT(16,17,"Common.SaveAll")),e.R7$(4),e.JRh(e.bMT(20,19,"Common.Delete.Title")),e.R7$(2),e.Y8G("resourceName",d.dynamicAuth.displayName))},dependencies:[St.n3,Cn.bT,an.G,_n.v,xa.E,rn.z,So.z,sa.w,Mn.D9,$i.tl],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();var ta=h(7921);const Ga=s=>[s];function Df(s,g){if(1&s&&(e.j41(0,"app-form-row",4),e.nrm(1,"app-readonly",3),e.k0s()),2&s){const i=e.XpG(2);e.Y8G("id","CallbackPath")("label","DynamicAuth.CallbackPath.Label")("help","DynamicAuth.CallbackPath.Help"),e.R7$(),e.Y8G("fieldType",i.ReadOnlyFieldType.Single)("values",e.eq3(5,Ga,i.optionsDictionary.callbackPath))}}function Zw(s,g){if(1&s&&(e.j41(0,"div",8)(1,"app-form-row",4),e.nrm(2,"app-readonly",3),e.k0s(),e.j41(3,"app-form-row",4),e.nrm(4,"app-readonly",3),e.k0s(),e.DNE(5,Df,2,7,"app-form-row",9),e.j41(6,"app-form-row",4),e.nrm(7,"app-readonly",3),e.k0s()()),2&s){const i=e.XpG();e.R7$(),e.Y8G("id","Authority")("label","DynamicAuth.Authority.Label")("help","DynamicAuth.Authority.Help"),e.R7$(),e.Y8G("fieldType",i.ReadOnlyFieldType.Single)("values",e.eq3(16,Ga,i.optionsDictionary.authority)),e.R7$(),e.Y8G("id","ClientId")("label","DynamicAuth.ClientId.Label")("help","DynamicAuth.ClientId.Help"),e.R7$(),e.Y8G("fieldType",i.ReadOnlyFieldType.Single)("values",e.eq3(18,Ga,i.optionsDictionary.clientId)),e.R7$(),e.Y8G("ngIf",i.isRskDynamicAuth),e.R7$(),e.Y8G("id","Flow")("label","DynamicAuth.Flow.Label")("help","DynamicAuth.Flow.Help"),e.R7$(),e.Y8G("fieldType",i.ReadOnlyFieldType.Single)("values",e.eq3(20,Ga,i.optionsDictionary.flow))}}function G1(s,g){if(1&s&&(e.j41(0,"div",10)(1,"app-form-row",11),e.nrm(2,"app-readonly",3),e.k0s(),e.j41(3,"app-form-row",4),e.nrm(4,"app-readonly",3),e.k0s(),e.j41(5,"app-form-row",12),e.nrm(6,"app-readonly",3),e.k0s()()),2&s){const i=e.XpG();e.R7$(),e.Y8G("id","SignInScheme")("label","DynamicAuth.SignInScheme.Label")("help","DynamicAuth.SignInScheme.Help"),e.R7$(),e.Y8G("fieldType",i.ReadOnlyFieldType.Single)("values",e.eq3(16,Ga,i.optionsDictionary.signInScheme)),e.R7$(),e.Y8G("id","SignOutScheme")("label","DynamicAuth.SignOutScheme.Label")("help","DynamicAuth.SignOutScheme.Help"),e.R7$(),e.Y8G("fieldType",i.ReadOnlyFieldType.Single)("values",e.eq3(18,Ga,i.optionsDictionary.signOutScheme)),e.R7$(),e.Y8G("id","TimeComparisonTolerance")("label","DynamicAuth.SAML.TimeComparisonTolerance.Label")("help","DynamicAuth.SAML.TimeComparisonTolerance.Help")("isLast",!0),e.R7$(),e.Y8G("fieldType",i.ReadOnlyFieldType.LifetimePicker)("values",e.eq3(20,Ga,i.optionsDictionary.timeComparisonTolerance))}}function H1(s,g){if(1&s&&(e.j41(0,"div",13)(1,"app-form-row",12),e.nrm(2,"app-readonly",3),e.k0s()()),2&s){const i=e.XpG();e.R7$(),e.Y8G("id","ClientSecret")("label","DynamicAuth.ClientSecret.Label")("help","DynamicAuth.ClientSecret.Help")("isLast",!0),e.R7$(),e.Y8G("fieldType",i.ReadOnlyFieldType.Single)("values",e.eq3(6,Ga,i.optionsDictionary.clientSecret))}}let W1=(()=>{class s{get ReadOnlyFieldType(){return or.t}constructor(i,a,d,D){this.errorService=i,this.dynamicAuthChachService=a,this.configService=d,this.translate=D,this.dynamicAuthTypes=Qr,this.snippet=Xs.SamlSignInSchemeCodeFrag}ngOnInit(){this.configService.getConfig().subscribe({next:i=>{this.isRskDynamicAuth=i.featureFlagOptions.dynamicAuthenticationFlag==da.U.Rsk},error:i=>{this.errorService.handleError(i)}}),this.dynamicAuthChachService.unsavedCache$.pipe((0,on.$)()).subscribe({next:i=>{switch(this.dynamicAuthType=i.type,this.dynamicAuthDictionary=new ta.b(i),this.dynamicAuthType){case Qr.OIDC:this.setOidcOptions(i.options);break;case Qr.SAML:this.setSamlOptions(i.options)}},error:i=>{this.errorService.handleError(i)}})}setOidcOptions(i){let a={...ho(i)};a.flow=this.translate.instant("DynamicAuth.Flows."+(a.usePkce?$s.AuthCodePlusPkce:$s.AuthCode)),this.optionsDictionary=new ta.b(a)}setSamlOptions(i){const a=ea(i);this.optionsDictionary=new ta.b(a)}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(ee.I),e.rXU(Vr),e.rXU(js.w),e.rXU(Mn.c$))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-view-details"]],decls:11,vars:23,consts:[["id","viewDynamicAuthDetails"],["id","dynamicAuthDetails"],[3,"id","label"],[3,"fieldType","values"],[3,"id","label","help"],["id","connectionDetails",4,"ngIf"],["id","signInSchemeDetails",4,"ngIf"],["id","secretDetails",4,"ngIf"],["id","connectionDetails"],[3,"id","label","help",4,"ngIf"],["id","signInSchemeDetails"],[1,"tw-form-typeahead",3,"id","label","help"],[3,"id","label","help","isLast"],["id","secretDetails"]],template:function(a,d){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"app-form-row",2),e.nrm(3,"app-readonly",3),e.k0s(),e.j41(4,"app-form-row",4),e.nrm(5,"app-readonly",3),e.k0s(),e.j41(6,"app-form-row",4),e.nrm(7,"app-readonly",3),e.k0s()(),e.DNE(8,Zw,8,22,"div",5)(9,G1,7,22,"div",6)(10,H1,3,8,"div",7),e.k0s()),2&a&&(e.R7$(2),e.Y8G("id","Enabled")("label","Common.Enabled"),e.R7$(),e.Y8G("fieldType",d.ReadOnlyFieldType.Single)("values",e.eq3(17,Ga,d.dynamicAuthDictionary.enabled)),e.R7$(),e.Y8G("id","Scheme")("label","DynamicAuth.Scheme.Label")("help","DynamicAuth.Scheme.Help"),e.R7$(),e.Y8G("fieldType",d.ReadOnlyFieldType.Single)("values",e.eq3(19,Ga,d.dynamicAuthDictionary.scheme)),e.R7$(),e.Y8G("id","DisplayName")("label","DynamicAuth.DisplayName.Label")("help","DynamicAuth.DisplayName.Help"),e.R7$(),e.Y8G("fieldType",d.ReadOnlyFieldType.Single)("values",e.eq3(21,Ga,d.dynamicAuthDictionary.displayName)),e.R7$(),e.Y8G("ngIf",d.dynamicAuthType==d.dynamicAuthTypes.OIDC),e.R7$(),e.Y8G("ngIf",d.isRskDynamicAuth||d.dynamicAuthType==d.dynamicAuthTypes.SAML),e.R7$(),e.Y8G("ngIf",d.dynamicAuthType==d.dynamicAuthTypes.OIDC))},dependencies:[Cn.bT,de.Y,ks.O],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();const K1=s=>[s];let qw=(()=>{class s{get ReadOnlyFieldType(){return or.t}constructor(i){this.dynamicAuthCacheService=i}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,on.$)()).subscribe({next:i=>{var a=ea(i.options);this.idpAdvancedDictionary=new ta.b({allowIdpInitiatedSso:a.allowIdpInitiatedSso,idPInitiatedSsoCompletionPath:a.idPInitiatedSsoCompletionPath})}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(Vr))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-view-idp-advanced"]],decls:5,vars:15,consts:[["id","viewIdpAdvanced"],[3,"id","label","help"],[3,"fieldType","values"],[3,"id","label","help","isLast"]],template:function(a,d){1&a&&(e.j41(0,"div",0)(1,"app-form-row",1),e.nrm(2,"app-readonly",2),e.k0s(),e.j41(3,"app-form-row",3),e.nrm(4,"app-readonly",2),e.k0s()()),2&a&&(e.R7$(),e.Y8G("id","AllowIdpInitiatedSso")("label","DynamicAuth.SAML.AllowIdpInitiatedSso.Label")("help","DynamicAuth.SAML.AllowIdpInitiatedSso.Help"),e.R7$(),e.Y8G("fieldType",d.ReadOnlyFieldType.Single)("values",e.eq3(11,K1,d.idpAdvancedDictionary.allowIdpInitiatedSso)),e.R7$(),e.Y8G("id","IdPInitiatedSsoCompletionPath")("label","DynamicAuth.SAML.IdPInitiatedSsoCompletionPath.Label")("help","DynamicAuth.SAML.IdPInitiatedSsoCompletionPath.Help")("isLast",!0),e.R7$(),e.Y8G("fieldType",d.ReadOnlyFieldType.Single)("values",e.eq3(13,K1,d.idpAdvancedDictionary.idPInitiatedSsoCompletionPath)))},dependencies:[de.Y,ks.O],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();const z1=s=>[s];let eE=(()=>{class s{get ReadOnlyFieldType(){return or.t}constructor(i){this.dynamicAuthCacheService=i}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,on.$)()).subscribe({next:i=>{var a=ea(i.options);this.idpDetailsDictionary=new ta.b({requireValidMetadataSignature:a.requireValidMetadataSignature,idpMetadataAddr:a.idpMetadataAddress})}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(Vr))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-view-idp-details"]],decls:5,vars:15,consts:[["id","viewIdpDetails"],[3,"id","label","help"],[3,"fieldType","values"],[3,"id","label","help","isLast"]],template:function(a,d){1&a&&(e.j41(0,"div",0)(1,"app-form-row",1),e.nrm(2,"app-readonly",2),e.k0s(),e.j41(3,"app-form-row",3),e.nrm(4,"app-readonly",2),e.k0s()()),2&a&&(e.R7$(),e.Y8G("id","RequireValidMetadataSignature")("label","DynamicAuth.SAML.RequireValidMetadataSignature.Label")("help","DynamicAuth.SAML.RequireValidMetadataSignature.Help"),e.R7$(),e.Y8G("fieldType",d.ReadOnlyFieldType.Single)("values",e.eq3(11,z1,d.idpDetailsDictionary.requireValidMetadataSignature)),e.R7$(),e.Y8G("id","IdpMetadataAddress")("label","DynamicAuth.SAML.IdpMetadataAddress.Label")("help","DynamicAuth.SAML.IdpMetadataAddress.Help")("isLast",!0),e.R7$(),e.Y8G("fieldType",d.ReadOnlyFieldType.Single)("values",e.eq3(13,z1,d.idpDetailsDictionary.idpMetadataAddr)))},dependencies:[de.Y,ks.O],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();const tE=["AdvancedTabs"];let nE=(()=>{class s{constructor(){}ngOnInit(){}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-view-idp"]],viewQuery:function(a,d){if(1&a&&e.GBs(tE,7),2&a){let D;e.mGM(D=e.lsd())&&(d.advancedTabs=D.first)}},decls:6,vars:5,consts:[[1,"tw-container","tw-mx-auto"],[3,"pillMode"],[3,"tabTitle","tabValue"],["id","viewDynamicAuthIdpDetails"]],template:function(a,d){1&a&&(e.j41(0,"div",0)(1,"app-custom-tabs",1),e.nrm(2,"app-custom-tab",2)(3,"app-custom-tab",2),e.k0s()(),e.j41(4,"div",3),e.nrm(5,"router-outlet"),e.k0s()),2&a&&(e.R7$(),e.Y8G("pillMode",!0),e.R7$(),e.Y8G("tabTitle","Nav.Details")("tabValue","details"),e.R7$(),e.Y8G("tabTitle","Nav.Advanced")("tabValue","advanced"))},dependencies:[St.n3,an.G,_n.v],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();function iE(s,g){if(1&s&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"slice"),e.k0s()),2&s){const i=g.item;e.R7$(),e.JRh(i.length>20?e.brH(2,1,i,0,20)+"...":i)}}function rE(s,g){1&s&&(e.j41(0,"div",5)(1,"div"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&s&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"UserDetails.NoClaimsMessage")," "))}function sE(s,g){if(1&s&&(e.j41(0,"tr")(1,"td",11)(2,"span",12),e.EFF(3),e.k0s()()()),2&s){const i=g.$implicit;e.R7$(3),e.JRh(i)}}function ug(s,g){if(1&s&&(e.j41(0,"table",6)(1,"thead",7)(2,"th",8)(3,"span",9),e.EFF(4),e.nI1(5,"translate"),e.k0s()()(),e.j41(6,"tbody"),e.DNE(7,sE,4,1,"tr",10),e.k0s()()),2&s){const i=e.XpG();e.R7$(4),e.JRh(e.bMT(5,2,"Common.Scope")),e.R7$(3),e.Y8G("ngForOf",i.oidcOptions.scope)}}let oE=(()=>{class s{constructor(i,a){this.errorService=i,this.dynamicAuthChachService=a,this.newScope="",this.dynamicAuthTypes=Qr,this.isDeleting=!1}ngOnInit(){this.dynamicAuthChachService.unsavedCache$.pipe((0,on.$)()).subscribe({next:i=>{this.dynamicAuth=i,this.oidcOptions=ho(this.dynamicAuth.options)},error:i=>{this.errorService.handleError(i)}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(ee.I),e.rXU(Vr))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-view-scopes"]],decls:6,vars:3,consts:[["customItemTemplate",""],["id","viewScopes"],[1,"tw-mt-6",3,"id"],["class","tw-alert","role","alert",4,"ngIf"],["class","datatable",4,"ngIf"],["role","alert",1,"tw-alert"],[1,"datatable"],[1,""],[1,"tw-w-full"],[1,"sr-only"],[4,"ngFor","ngForOf"],[1,"tw-table-cell","tw-w-full"],[1,"tw-block","tw-truncate"]],template:function(a,d){1&a&&(e.DNE(0,iE,3,5,"ng-template",null,0,e.C5r),e.j41(2,"div",1)(3,"div",2),e.DNE(4,rE,4,3,"div",3)(5,ug,8,4,"table",4),e.k0s()()),2&a&&(e.R7$(3),e.Y8G("id","Scopes"),e.R7$(),e.Y8G("ngIf",d.oidcOptions.scope.length<=0),e.R7$(),e.Y8G("ngIf",d.oidcOptions.scope.length>0))},dependencies:[Cn.Sq,Cn.bT,Cn.P9,Mn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();const Iu=s=>[s];let Y1=(()=>{class s{get ReadOnlyFieldType(){return or.t}constructor(i){this.dynamicAuthCacheService=i}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,on.$)()).subscribe({next:i=>{var a=ea(i.options);this.spDetailsDictionary=new ta.b({entityId:a.spEntityId,metaDataAddr:a.spMetadataAddress,callbackPath:a.callbackPath,signOutCallbackPath:a.signedOutCallbackPath})}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(Vr))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-view-sp-details"]],decls:9,vars:29,consts:[["id","viewSpDetails"],[3,"id","label","help"],[3,"fieldType","values"],[3,"id","label","help","isLast"]],template:function(a,d){1&a&&(e.j41(0,"div",0)(1,"app-form-row",1),e.nrm(2,"app-readonly",2),e.k0s(),e.j41(3,"app-form-row",1),e.nrm(4,"app-readonly",2),e.k0s(),e.j41(5,"app-form-row",1),e.nrm(6,"app-readonly",2),e.k0s(),e.j41(7,"app-form-row",3),e.nrm(8,"app-readonly",2),e.k0s()()),2&a&&(e.R7$(),e.Y8G("id","SPEntityID")("label","DynamicAuth.SPEntityID.Label")("help","DynamicAuth.SPEntityID.Help"),e.R7$(),e.Y8G("fieldType",d.ReadOnlyFieldType.Single)("values",e.eq3(21,Iu,d.spDetailsDictionary.entityId)),e.R7$(),e.Y8G("id","SpMetadataAddress")("label","DynamicAuth.SpMetadataAddress.Label")("help","DynamicAuth.SpMetadataAddress.Help"),e.R7$(),e.Y8G("fieldType",d.ReadOnlyFieldType.Single)("values",e.eq3(23,Iu,d.spDetailsDictionary.metaDataAddr)),e.R7$(),e.Y8G("id","CallbackPath")("label","DynamicAuth.CallbackPath.Label")("help","DynamicAuth.CallbackPath.Help"),e.R7$(),e.Y8G("fieldType",d.ReadOnlyFieldType.Single)("values",e.eq3(25,Iu,d.spDetailsDictionary.callbackPath)),e.R7$(),e.Y8G("id","SignedOutCallbackPath")("label","DynamicAuth.SignedOutCallbackPath.Label")("help","DynamicAuth.SignedOutCallbackPath.Help")("isLast",!0),e.R7$(),e.Y8G("fieldType",d.ReadOnlyFieldType.Single)("values",e.eq3(27,Iu,d.spDetailsDictionary.signOutCallbackPath)))},dependencies:[de.Y,ks.O],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();const X1=s=>[s];let J1=(()=>{class s{get ReadOnlyFieldType(){return or.t}constructor(i){this.dynamicAuthCacheService=i}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,on.$)()).subscribe({next:i=>{var a=ea(i.options);this.spRequestDictionary=new ta.b({signAuthenticationRequests:a.signAuthenticationRequests}),this.certificateDescription=a.signingCertificateDto?[a.signingCertificateDto]:[]}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(Vr))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-view-sp-request"]],decls:4,vars:10,consts:[["id","viewSpRequest"],[3,"id","label","help"],[3,"fieldType","values"],[3,"certificates","showSingle","isReadOnly"]],template:function(a,d){1&a&&(e.j41(0,"div",0)(1,"app-form-row",1),e.nrm(2,"app-readonly",2),e.k0s(),e.nrm(3,"app-saml-cert-list",3),e.k0s()),2&a&&(e.R7$(),e.Y8G("id","SignAuthenticationRequests")("label","DynamicAuth.SAML.SignAuthenticationRequests.Label")("help","DynamicAuth.SAML.SignAuthenticationRequests.Help"),e.R7$(),e.Y8G("fieldType",d.ReadOnlyFieldType.Single)("values",e.eq3(8,X1,d.spRequestDictionary.signAuthenticationRequests)),e.R7$(),e.Y8G("certificates",d.certificateDescription)("showSingle",!0)("isReadOnly",!0))},dependencies:[de.Y,Ta.T,ks.O],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();const dg=s=>[s];let aE=(()=>{class s{get ReadOnlyFieldType(){return or.t}constructor(i){this.dynamicAuthCacheService=i}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,on.$)()).subscribe({next:i=>{var a=ea(i.options);this.spResponseDictionary=new ta.b({requireSignedAssertions:a.requireSignedAssertions,requireEncryptedAssertions:a.requireEncryptedAssertions}),this.certificateDescription=a.encryptionCertificateDto?[a.encryptionCertificateDto]:[]}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(Vr))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-view-sp-response"]],decls:6,vars:17,consts:[["id","viewSpResponse"],[3,"id","label","help"],[3,"fieldType","values"],[3,"certificates","showSingle","isReadOnly"]],template:function(a,d){1&a&&(e.j41(0,"div",0)(1,"app-form-row",1),e.nrm(2,"app-readonly",2),e.k0s(),e.j41(3,"app-form-row",1),e.nrm(4,"app-readonly",2),e.k0s(),e.nrm(5,"app-saml-cert-list",3),e.k0s()),2&a&&(e.R7$(),e.Y8G("id","RequireSignedAssertions")("label","DynamicAuth.SAML.RequireSignedAssertions.Label")("help","DynamicAuth.SAML.RequireSignedAssertions.Help"),e.R7$(),e.Y8G("fieldType",d.ReadOnlyFieldType.Single)("values",e.eq3(13,dg,d.spResponseDictionary.requireSignedAssertions)),e.R7$(),e.Y8G("id","RequireEncryptedAssertions")("label","DynamicAuth.SAML.RequireEncryptedAssertions.Label")("help","DynamicAuth.SAML.RequireEncryptedAssertions.Help"),e.R7$(),e.Y8G("fieldType",d.ReadOnlyFieldType.Single)("values",e.eq3(15,dg,d.spResponseDictionary.requireEncryptedAssertions)),e.R7$(),e.Y8G("certificates",d.certificateDescription)("showSingle",!0)("isReadOnly",!0))},dependencies:[de.Y,Ta.T,ks.O],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();const lE=["AdvancedTabs"];let Q1=(()=>{class s{constructor(){}ngOnInit(){}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-view-sp"]],viewQuery:function(a,d){if(1&a&&e.GBs(lE,7),2&a){let D;e.mGM(D=e.lsd())&&(d.advancedTabs=D.first)}},decls:7,vars:7,consts:[[1,"tw-container","tw-mx-auto"],[3,"pillMode"],[3,"tabTitle","tabValue"],["id","viewDynamicAuthSpDetails"]],template:function(a,d){1&a&&(e.j41(0,"div",0)(1,"app-custom-tabs",1),e.nrm(2,"app-custom-tab",2)(3,"app-custom-tab",2)(4,"app-custom-tab",2),e.k0s()(),e.j41(5,"div",3),e.nrm(6,"router-outlet"),e.k0s()),2&a&&(e.R7$(),e.Y8G("pillMode",!0),e.R7$(),e.Y8G("tabTitle","Nav.Details")("tabValue","details"),e.R7$(),e.Y8G("tabTitle","Nav.Request")("tabValue","request"),e.R7$(),e.Y8G("tabTitle","Nav.Response")("tabValue","response"))},dependencies:[St.n3,an.G,_n.v],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();const cE=(s,g)=>({title:s,link:g}),Z1=s=>[s],Vd=()=>["active"];function q1(s,g){1&s&&(e.j41(0,"option",19),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Nav.Scopes")))}function hg(s,g){1&s&&(e.j41(0,"option",20),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Nav.Advanced")))}function uE(s,g){1&s&&(e.j41(0,"option",21),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Nav.SP")))}function dE(s,g){1&s&&(e.j41(0,"option",22),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Nav.IdP")))}function fg(s,g){1&s&&(e.j41(0,"button",23),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.Y8G("routerLinkActive",e.lJ4(4,Vd)),e.R7$(),e.JRh(e.bMT(2,2,"Nav.Scopes")))}function hE(s,g){1&s&&(e.j41(0,"button",24),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.Y8G("routerLinkActive",e.lJ4(4,Vd)),e.R7$(),e.JRh(e.bMT(2,2,"Nav.Advanced")))}function Af(s,g){1&s&&(e.j41(0,"button",25),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.Y8G("routerLinkActive",e.lJ4(4,Vd)),e.R7$(),e.JRh(e.bMT(2,2,"Nav.SP")))}function Rf(s,g){1&s&&(e.j41(0,"button",26),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.Y8G("routerLinkActive",e.lJ4(4,Vd)),e.R7$(),e.JRh(e.bMT(2,2,"Nav.IdP")))}let pg=(()=>{class s{constructor(i,a,d,D,te,Ae){this.r=i,this.route=a,this.titleService=d,this.translate=D,this.errorService=te,this.dynamicAuthCachService=Ae,this.dynamicAuthTypes=Qr}ngOnInit(){this.dynamicAuthSub=this.dynamicAuthCachService.unsavedCache$.pipe((0,on.$)()).subscribe({next:i=>{this.dynamicAuth=i;const a=this.translate.instant("DynamicAuth.Title")+" "+this.dynamicAuth.displayName+" - "+Vt.$9.SITE_TITLE;this.titleService.setTitle(a)},error:i=>{this.errorService.handleError(i)}})}mobRoute(i){this.r.navigate([i],{relativeTo:this.route})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(St.Ix),e.rXU(St.nX),e.rXU(n.hE),e.rXU(Mn.c$),e.rXU(ee.I),e.rXU(Vr))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["ng-component"]],decls:33,vars:36,consts:[[3,"title","crumbs","hasTabs","isReadOnly","isReserved"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","details"],["value","scopes",4,"ngIf"],["value","advanced",4,"ngIf"],["value","sp",4,"ngIf"],["value","idp",4,"ngIf"],["role","tablist",1,"tabs","tw-hidden","md:tw-flex"],[1,"tabs__item"],["type","button","routerLink","details","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["class","tabs__link","type","button","routerLink","scopes","role","tab","aria-selected","false",3,"routerLinkActive",4,"ngIf"],["class","tabs__link","type","button","routerLink","advanced","role","tab","aria-selected","false",3,"routerLinkActive",4,"ngIf"],["class","tabs__link","type","button","routerLink","sp","role","tab","aria-selected","false",3,"routerLinkActive",4,"ngIf"],["class","tabs__link","type","button","routerLink","idp","role","tab","aria-selected","false",3,"routerLinkActive",4,"ngIf"],["id","viewDynamicAuth",1,"tw-container","tw-mx-auto"],["value","scopes"],["value","advanced"],["value","sp"],["value","idp"],["type","button","routerLink","scopes","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","advanced","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","sp","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","idp","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"]],template:function(a,d){1&a&&(e.j41(0,"app-title-bar",0),e.nI1(1,"translate"),e.nI1(2,"localize"),e.qex(3,1),e.j41(4,"div",2)(5,"label",3),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"div",4)(9,"select",5),e.bIt("change",function(te){return d.mobRoute(te.target.value)}),e.j41(10,"option",6),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.DNE(13,q1,3,3,"option",7)(14,hg,3,3,"option",8)(15,uE,3,3,"option",9)(16,dE,3,3,"option",10),e.k0s()()(),e.j41(17,"ul",11),e.nI1(18,"translate"),e.j41(19,"li",12)(20,"button",13),e.EFF(21),e.nI1(22,"translate"),e.k0s()(),e.j41(23,"li",12),e.DNE(24,fg,3,5,"button",14),e.k0s(),e.j41(25,"li",12),e.DNE(26,hE,3,5,"button",15),e.k0s(),e.j41(27,"li",12),e.DNE(28,Af,3,5,"button",16),e.k0s(),e.j41(29,"li",12),e.DNE(30,Rf,3,5,"button",17),e.k0s()(),e.bVm(),e.k0s(),e.j41(31,"div",18),e.nrm(32,"router-outlet"),e.k0s()),2&a&&(e.Y8G("title",d.dynamicAuth.displayName)("crumbs",e.eq3(33,Z1,e.l_i(30,cE,e.bMT(1,18,"Nav.DynamicAuth"),e.bMT(2,20,"/dynamic-auth"))))("hasTabs",!0)("isReadOnly",!0)("isReserved",d.dynamicAuth.nonEditable),e.R7$(6),e.JRh(e.bMT(7,22,"Nav.SubMenu")),e.R7$(5),e.JRh(e.bMT(12,24,"Nav.Details")),e.R7$(2),e.Y8G("ngIf",d.dynamicAuth.type==d.dynamicAuthTypes.OIDC),e.R7$(),e.Y8G("ngIf",d.dynamicAuth.type==d.dynamicAuthTypes.OIDC),e.R7$(),e.Y8G("ngIf",d.dynamicAuth.type==d.dynamicAuthTypes.SAML),e.R7$(),e.Y8G("ngIf",d.dynamicAuth.type==d.dynamicAuthTypes.SAML),e.R7$(),e.BMQ("aria-label",e.bMT(18,26,"Nav.SubMenu")),e.R7$(3),e.Y8G("routerLinkActive",e.lJ4(35,Vd)),e.R7$(),e.JRh(e.bMT(22,28,"Nav.Details")),e.R7$(3),e.Y8G("ngIf",d.dynamicAuth.type==d.dynamicAuthTypes.OIDC),e.R7$(2),e.Y8G("ngIf",d.dynamicAuth.type==d.dynamicAuthTypes.OIDC),e.R7$(2),e.Y8G("ngIf",d.dynamicAuth.type==d.dynamicAuthTypes.SAML),e.R7$(2),e.Y8G("ngIf",d.dynamicAuth.type==d.dynamicAuthTypes.SAML))},dependencies:[St.n3,St.Wk,St.wQ,Cn.bT,p.xH,p.y7,rn.z,Mn.D9,$i.tl],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})(),Mf=(()=>{class s{constructor(i,a){this.router=i,this.config=a}canActivate(i,a){return this.config.getConfig().pipe((0,on.$)(),(0,Di.T)(d=>d?.featureFlagOptions?.dynamicAuthenticationFlag!=da.U.Disabled||this.router.parseUrl("/resourcenotfound/dynamic-auth")))}static{this.\u0275fac=function(a){return new(a||s)(e.KVO(St.Ix),e.KVO(js.w))}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();var jd=h(6923);function fE(s,g){1&s&&(e.j41(0,"app-form-row",3)(1,"app-form-toggle",4),e.nrm(2,"input",7),e.k0s()()),2&s&&(e.Y8G("id","MapInboundClaims")("label","DynamicAuth.MapInboundClaims.Label")("help","DynamicAuth.MapInboundClaims.Help")("isLast",!0),e.R7$(),e.Y8G("id","MapInboundClaims")("isTraffic",!0)("isAlt",!1))}function pE(s,g){if(1&s&&(e.j41(0,"form",2)(1,"app-form-row",3)(2,"app-form-toggle",4),e.nrm(3,"input",5),e.k0s()(),e.DNE(4,fE,3,7,"app-form-row",6),e.k0s()),2&s){const i=e.XpG();e.Y8G("formGroup",i.form),e.R7$(),e.Y8G("id","GetClaimsFromUserInfoEndpoint")("label","DynamicAuth.GetClaimsFromUserInfoEndpoint.Label")("help","DynamicAuth.GetClaimsFromUserInfoEndpoint.Help")("isLast",!i.isRskDynamicAuth),e.R7$(),e.Y8G("id","GetClaimsFromUserInfoEndpoint")("isTraffic",!0)("isAlt",!1),e.R7$(2),e.Y8G("ngIf",i.isRskDynamicAuth)}}let xf=(()=>{class s{get ReadOnlyFieldType(){return or.t}constructor(i,a,d,D){this.fb=i,this.configService=a,this.dynamicAuthCache=d,this.errorService=D}ngOnInit(){this.configService.getConfig().pipe((0,on.$)()).subscribe({next:i=>{this.isRskDynamicAuth=i.featureFlagOptions.dynamicAuthenticationFlag==da.U.Rsk}}),this.dynamicAuthCache.unsavedCache$.pipe((0,on.$)()).subscribe({next:i=>{this.dynamicAuth=i,this.oidcOptions=ho(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges()},error:i=>{this.errorService.handleError(i)}})}buildForm(){let i={getClaimsFromUserInfoEndpoint:[this.oidcOptions.getClaimsFromUserInfoEndpoint,[]]};this.isRskDynamicAuth&&(i.mapInboundClaims=[this.oidcOptions.mapInboundClaims,[]]),this.form=this.fb.group(i)}subscribeToValueChanges(){this.form.valueChanges.subscribe({next:i=>{let a={...this.oidcOptions,getClaimsFromUserInfoEndpoint:this.form.get("getClaimsFromUserInfoEndpoint").value};this.isRskDynamicAuth&&(a.mapInboundClaims=this.form.get("mapInboundClaims").value),this.dynamicAuthCache.componentDirtyValidMap.set("DynamicAuthEditAdvancedComponent",this.form.valid),this.dynamicAuthCache.unsavedCache.next({...this.dynamicAuth,options:JSON.stringify(a)})}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(p.ze),e.rXU(js.w),e.rXU(Vr),e.rXU(ee.I))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-claims-edit-details"]],decls:2,vars:1,consts:[["id","editDynamicAuthClaims"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label","help","isLast"],[3,"id","isTraffic","isAlt"],["id","GetClaimsFromUserInfoEndpoint","formControlName","getClaimsFromUserInfoEndpoint","type","checkbox",1,"tw-form-switch__input"],[3,"id","label","help","isLast",4,"ngIf"],["id","MapInboundClaims","formControlName","mapInboundClaims","type","checkbox",1,"tw-form-switch__input"]],template:function(a,d){1&a&&(e.j41(0,"div",0),e.DNE(1,pE,5,9,"form",1),e.k0s()),2&a&&(e.R7$(),e.Y8G("ngIf",d.form))},dependencies:[Cn.bT,p.qT,p.Zm,p.BC,p.cb,p.j4,p.JD,de.Y,Yo.m],encapsulation:2})}}return s})();function kf(s,g){if(1&s&&(e.j41(0,"form",2)(1,"app-form-row",3)(2,"app-form-toggle",4),e.nrm(3,"input",5),e.k0s()(),e.j41(4,"app-form-row",6)(5,"app-form-toggle",4),e.nrm(6,"input",7),e.k0s()()()),2&s){const i=e.XpG();e.Y8G("formGroup",i.form),e.R7$(),e.Y8G("id","SaveTokens")("label","DynamicAuth.SaveTokens.Label")("help","DynamicAuth.SaveTokens.Help"),e.R7$(),e.Y8G("id","SaveTokens")("isTraffic",!0)("isAlt",!1),e.R7$(2),e.Y8G("id","UseTokenLifetime")("label","DynamicAuth.UseTokenLifetime.Label")("help","DynamicAuth.UseTokenLifetime.Help")("isLast",!0),e.R7$(),e.Y8G("id","UseTokenLifetime")("isTraffic",!0)("isAlt",!1)}}let mg=(()=>{class s{get ReadOnlyFieldType(){return or.t}constructor(i,a,d){this.fb=i,this.dynamicAuthCache=a,this.errorService=d}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,on.$)()).subscribe({next:i=>{this.dynamicAuth=i,this.oidcOptions=ho(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges()},error:i=>{this.errorService.handleError(i)}})}buildForm(){this.form=this.fb.group({saveTokens:[this.oidcOptions.saveTokens,[]],useTokenLifetime:[this.oidcOptions.useTokenLifetime,[]]})}subscribeToValueChanges(){this.form.valueChanges.subscribe({next:i=>{let a={...this.oidcOptions,saveTokens:this.form.get("saveTokens").value,useTokenLifetime:this.form.get("useTokenLifetime").value};this.dynamicAuthCache.componentDirtyValidMap.set("DynamicAuthEditAdvancedComponent",this.form.valid),this.dynamicAuthCache.unsavedCache.next({...this.dynamicAuth,options:JSON.stringify(a)})}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(p.ze),e.rXU(Vr),e.rXU(ee.I))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-tokens-edit-details"]],decls:2,vars:1,consts:[["id","editDynamicAuthTokens"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label","help"],[3,"id","isTraffic","isAlt"],["id","SaveTokens","formControlName","saveTokens","type","checkbox",1,"tw-form-switch__input"],[3,"id","label","help","isLast"],["id","UseTokenLifetime","formControlName","useTokenLifetime","type","checkbox",1,"tw-form-switch__input"]],template:function(a,d){1&a&&(e.j41(0,"div",0),e.DNE(1,kf,7,14,"form",1),e.k0s()),2&a&&(e.R7$(),e.Y8G("ngIf",d.form))},dependencies:[Cn.bT,p.qT,p.Zm,p.BC,p.cb,p.j4,p.JD,de.Y,Yo.m],encapsulation:2})}}return s})();function ey(s,g){if(1&s&&(e.j41(0,"form",2)(1,"app-form-row",3)(2,"app-form-toggle",4),e.nrm(3,"input",5),e.k0s()(),e.j41(4,"app-form-row",6),e.nrm(5,"app-lifetime-picker",7),e.k0s()()),2&s){const i=e.XpG();e.Y8G("formGroup",i.form),e.R7$(),e.Y8G("id","RefreshOnIssuerKeyNotFound")("label","DynamicAuth.RefreshOnIssuerKeyNotFound.Label")("help","DynamicAuth.RefreshOnIssuerKeyNotFound.Help"),e.R7$(),e.Y8G("id","RefreshOnIssuerKeyNotFound")("isTraffic",!0)("isAlt",!1),e.R7$(2),e.Y8G("id","MetadataRefreshInterval")("label","DynamicAuth.MetadataRefreshInterval.Label")("help","DynamicAuth.MetadataRefreshInterval.Help")("isLast",!0),e.R7$(),e.Y8G("buttons",i.metadataRefreshIntervalButtons)}}let mE=(()=>{class s{get ReadOnlyFieldType(){return or.t}constructor(i,a,d){this.fb=i,this.dynamicAuthCache=a,this.errorService=d,this.setButtonModels()}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,on.$)()).subscribe({next:i=>{this.dynamicAuth=i,this.oidcOptions=ho(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges()},error:i=>{this.errorService.handleError(i)}})}buildForm(){this.form=this.fb.group({refreshOnIssuerKeyNotFound:[this.oidcOptions.refreshMetadataOnIssuerKeyNotFound],metadataRefreshInterval:[this.oidcOptions.metadataRefreshInterval,[p.k0.min(300)]]})}subscribeToValueChanges(){this.form.valueChanges.subscribe({next:i=>{let a={...this.oidcOptions,refreshMetadataOnIssuerKeyNotFound:this.form.get("refreshOnIssuerKeyNotFound").value,metadataRefreshInterval:this.form.get("metadataRefreshInterval").value};this.dynamicAuthCache.componentDirtyValidMap.set("DynamicAuthEditAdvancedComponent",this.form.valid),this.dynamicAuthCache.unsavedCache.next({...this.dynamicAuth,options:JSON.stringify(a)})}})}setButtonModels(){this.metadataRefreshIntervalButtons=[{duration:1,unit:kc.u.Hour},{duration:12,unit:kc.u.Hours},{duration:1,unit:kc.u.Day}]}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(p.ze),e.rXU(Vr),e.rXU(ee.I))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-metadata-edit-details"]],decls:2,vars:1,consts:[["id","editDynamicAuthMetadata"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label","help"],[3,"id","isTraffic","isAlt"],["id","RefreshOnIssuerKeyNotFound","formControlName","refreshOnIssuerKeyNotFound","type","checkbox",1,"tw-form-switch__input"],[3,"id","label","help","isLast"],["id","MetadataRefreshInterval","formControlName","metadataRefreshInterval",3,"buttons"]],template:function(a,d){1&a&&(e.j41(0,"div",0),e.DNE(1,ey,6,12,"form",1),e.k0s()),2&a&&(e.R7$(),e.Y8G("ngIf",d.form))},dependencies:[Cn.bT,p.qT,p.Zm,p.BC,p.cb,p.j4,p.JD,Zm.T,de.Y,Yo.m],encapsulation:2})}}return s})();function gE(s,g){if(1&s&&(e.j41(0,"form",2)(1,"app-form-row",3)(2,"app-form-toggle",4),e.nrm(3,"input",5),e.k0s()(),e.j41(4,"app-form-row",6)(5,"app-form-toggle",4),e.nrm(6,"input",7),e.k0s()()()),2&s){const i=e.XpG();e.Y8G("formGroup",i.form),e.R7$(),e.Y8G("id","SkipUnrecognizedRequests")("label","DynamicAuth.SkipUnrecognizedRequests.Label")("help","DynamicAuth.SkipUnrecognizedRequests.Help"),e.R7$(),e.Y8G("id","SkipUnrecognizedRequests")("isTraffic",!0)("isAlt",!1),e.R7$(2),e.Y8G("id","DisableTelemetry")("label","DynamicAuth.DisableTelemetry.Label")("help","DynamicAuth.DisableTelemetry.Help")("isLast",!0),e.R7$(),e.Y8G("id","DisableTelemetry")("isTraffic",!0)("isAlt",!1)}}let ty=(()=>{class s{get ReadOnlyFieldType(){return or.t}constructor(i,a,d){this.fb=i,this.dynamicAuthCache=a,this.errorService=d}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,on.$)()).subscribe({next:i=>{this.dynamicAuth=i,this.oidcOptions=ho(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges()},error:i=>{this.errorService.handleError(i)}})}buildForm(){this.form=this.fb.group({skipUnrecognizedRequests:[this.oidcOptions.skipUnrecognizedRequests,[]],disableTelemetry:[this.oidcOptions.disableTelemetry,[]]})}subscribeToValueChanges(){this.form.valueChanges.subscribe({next:i=>{let a={...this.oidcOptions,skipUnrecognizedRequests:this.form.get("skipUnrecognizedRequests").value,disableTelemetry:this.form.get("disableTelemetry").value};this.dynamicAuthCache.componentDirtyValidMap.set("DynamicAuthEditAdvancedComponent",this.form.valid),this.dynamicAuthCache.unsavedCache.next({...this.dynamicAuth,options:JSON.stringify(a)})}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(p.ze),e.rXU(Vr),e.rXU(ee.I))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-other-edit-details"]],decls:2,vars:1,consts:[["id","editDynamicAuthOther"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label","help"],[3,"id","isTraffic","isAlt"],["id","SkipUnrecognizedRequests","formControlName","skipUnrecognizedRequests","type","checkbox",1,"tw-form-switch__input"],[3,"id","label","help","isLast"],["id","DisableTelemetry","formControlName","disableTelemetry","type","checkbox",1,"tw-form-switch__input"]],template:function(a,d){1&a&&(e.j41(0,"div",0),e.DNE(1,gE,7,14,"form",1),e.k0s()),2&a&&(e.R7$(),e.Y8G("ngIf",d.form))},dependencies:[Cn.bT,p.qT,p.Zm,p.BC,p.cb,p.j4,p.JD,de.Y,Yo.m],encapsulation:2})}}return s})();function gg(s,g){1&s&&e.nrm(0,"app-custom-tab",2),2&s&&e.Y8G("tabTitle","Common.Request")("tabValue","request")}function vg(s,g){1&s&&e.nrm(0,"app-custom-tab",2),2&s&&e.Y8G("tabTitle","Common.SignOut")("tabValue","signOut")}function Oc(s,g){1&s&&e.nrm(0,"app-custom-tab",2),2&s&&e.Y8G("tabTitle","Common.Metadata")("tabValue","metadata")}function vE(s,g){1&s&&e.nrm(0,"app-custom-tab",2),2&s&&e.Y8G("tabTitle","Common.Tokens")("tabValue","tokens")}function yE(s,g){1&s&&e.nrm(0,"app-custom-tab",2),2&s&&e.Y8G("tabTitle","Common.Other")("tabValue","other")}let Pc=(()=>{class s{constructor(i){this.configService=i}ngOnInit(){this.configService.getConfig().subscribe({next:i=>{this.isRskDynamicAuth=i.featureFlagOptions.dynamicAuthenticationFlag==da.U.Rsk}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(js.w))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-advanced"]],decls:9,vars:9,consts:[[3,"pillMode","hidden"],[3,"tabTitle","tabValue",4,"ngIf"],[3,"tabTitle","tabValue"],["id","dynamicAuthAdvanced"]],template:function(a,d){1&a&&(e.j41(0,"app-custom-tabs",0),e.DNE(1,gg,1,2,"app-custom-tab",1),e.nrm(2,"app-custom-tab",2),e.DNE(3,vg,1,2,"app-custom-tab",1)(4,Oc,1,2,"app-custom-tab",1)(5,vE,1,2,"app-custom-tab",1)(6,yE,1,2,"app-custom-tab",1),e.k0s(),e.j41(7,"div",3),e.nrm(8,"router-outlet"),e.k0s()),2&a&&(e.Y8G("pillMode",!0)("hidden",!d.isRskDynamicAuth),e.R7$(),e.Y8G("ngIf",d.isRskDynamicAuth),e.R7$(),e.Y8G("tabTitle","Common.Claims")("tabValue","claims"),e.R7$(),e.Y8G("ngIf",d.isRskDynamicAuth),e.R7$(),e.Y8G("ngIf",d.isRskDynamicAuth),e.R7$(),e.Y8G("ngIf",d.isRskDynamicAuth),e.R7$(),e.Y8G("ngIf",d.isRskDynamicAuth))},dependencies:[St.n3,Cn.bT,an.G,_n.v],encapsulation:2})}}return s})();function cI(s,g){if(1&s&&(e.j41(0,"form",2)(1,"app-form-row",3),e.nrm(2,"input",4),e.k0s(),e.j41(3,"app-form-row",3),e.nrm(4,"input",5),e.k0s(),e.j41(5,"app-form-row",6),e.nrm(6,"input",7),e.k0s()()),2&s){const i=e.XpG();e.Y8G("formGroup",i.form),e.R7$(),e.Y8G("id","RemoteSignOutPath")("label","DynamicAuth.RemoteSignOutPath.Label"),e.R7$(2),e.Y8G("id","SignedOutRedirectUri")("label","DynamicAuth.SignedOutRedirectUri.Label"),e.R7$(2),e.Y8G("id","SignedOutCallbackPath")("label","DynamicAuth.SignedOutCallbackPath.Label")("isLast",!0)}}let yg=(()=>{class s{get ReadOnlyFieldType(){return or.t}constructor(i,a,d){this.fb=i,this.dynamicAuthCache=a,this.errorService=d}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,on.$)()).subscribe({next:i=>{this.dynamicAuth=i,this.oidcOptions=ho(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges()},error:i=>{this.errorService.handleError(i)}})}buildForm(){this.form=this.fb.group({remoteSignOutPath:[this.oidcOptions.remoteSignOutPath,[p.k0.required,jl()]],signedOutRedirectUri:[this.oidcOptions.signedOutRedirectUri,[p.k0.required,jl()]],signedOutCallbackPath:[this.oidcOptions.signedOutCallbackPath,[p.k0.required,jl()]]})}subscribeToValueChanges(){this.form.valueChanges.subscribe({next:i=>{let a={...this.oidcOptions,remoteSignOutPath:this.form.get("remoteSignOutPath").value,signedOutRedirectUri:this.form.get("signedOutRedirectUri").value,signedOutCallbackPath:this.form.get("signedOutCallbackPath").value};this.dynamicAuthCache.componentDirtyValidMap.set("DynamicAuthEditAdvancedComponent",this.form.valid),this.dynamicAuthCache.unsavedCache.next({...this.dynamicAuth,options:JSON.stringify(a)})}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(p.ze),e.rXU(Vr),e.rXU(ee.I))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-signout-edit-details"]],decls:2,vars:1,consts:[["id","editDynamicAuthSignOut"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label"],["type","text","name","RemoteSignOutPath","id","RemoteSignOutPath","formControlName","remoteSignOutPath","required","",1,"tw-form-control"],["type","text","name","SignedOutRedirectUri","id","SignedOutRedirectUri","formControlName","signedOutRedirectUri","required","",1,"tw-form-control"],[3,"id","label","isLast"],["type","text","name","SignedOutCallbackPath","id","SignedOutCallbackPath","formControlName","signedOutCallbackPath","required","",1,"tw-form-control"]],template:function(a,d){1&a&&(e.j41(0,"div",0),e.DNE(1,cI,7,8,"form",1),e.k0s()),2&a&&(e.R7$(),e.Y8G("ngIf",d.form))},dependencies:[Cn.bT,p.qT,p.me,p.BC,p.cb,p.YS,p.j4,p.JD,de.Y],encapsulation:2})}}return s})();const _E=s=>[s];function ny(s,g){if(1&s&&(e.j41(0,"app-form-row",1),e.nrm(1,"app-readonly",2),e.k0s()),2&s){const i=e.XpG();e.Y8G("id","MapInboundClaims")("label","DynamicAuth.MapInboundClaims.Label")("help","DynamicAuth.MapInboundClaims.Help")("isLast",!0),e.R7$(),e.Y8G("fieldType",i.ReadOnlyFieldType.Single)("values",e.eq3(6,_E,i.optionsDictionary.mapInboundClaims))}}let iy=(()=>{class s{get ReadOnlyFieldType(){return or.t}constructor(i,a){this.configService=i,this.dynamicAuthCache=a}ngOnInit(){(0,rg.z)([this.dynamicAuthCache.unsavedCache$.pipe((0,on.$)()),this.configService.getConfig().pipe((0,on.$)())]).subscribe({next:([i,a])=>{this.optionsDictionary=new ta.b(ho(i.options)),this.isRskDynamicAuth=a.featureFlagOptions.dynamicAuthenticationFlag==da.U.Rsk}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(js.w),e.rXU(Vr))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-claims-view-details"]],decls:4,vars:9,consts:[["id","viewDynamicAuthClaims"],[3,"id","label","help","isLast"],[3,"fieldType","values"],[3,"id","label","help","isLast",4,"ngIf"]],template:function(a,d){1&a&&(e.j41(0,"div",0)(1,"app-form-row",1),e.nrm(2,"app-readonly",2),e.k0s(),e.DNE(3,ny,2,8,"app-form-row",3),e.k0s()),2&a&&(e.R7$(),e.Y8G("id","GetClaimsFromUserInfoEndpoint")("label","DynamicAuth.GetClaimsFromUserInfoEndpoint.Label")("help","DynamicAuth.GetClaimsFromUserInfoEndpoint.Help")("isLast",!d.isRskDynamicAuth),e.R7$(),e.Y8G("fieldType",d.ReadOnlyFieldType.Single)("values",e.eq3(7,_E,d.optionsDictionary.getClaimsFromUserInfoEndpoint)),e.R7$(),e.Y8G("ngIf",d.isRskDynamicAuth))},dependencies:[Cn.bT,de.Y,ks.O],encapsulation:2})}}return s})();const ry=s=>[s];let Du=(()=>{class s{get ReadOnlyFieldType(){return or.t}constructor(i){this.dynamicAuthCache=i}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,on.$)()).subscribe({next:i=>{this.optionsDictionary=new ta.b(ho(i.options))}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(Vr))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-signout-view-details"]],decls:7,vars:19,consts:[["id","viewDynamicAuthSignOut"],[3,"id","label"],[3,"fieldType","values"],[3,"id","label","isLast"]],template:function(a,d){1&a&&(e.j41(0,"div",0)(1,"app-form-row",1),e.nrm(2,"app-readonly",2),e.k0s(),e.j41(3,"app-form-row",1),e.nrm(4,"app-readonly",2),e.k0s(),e.j41(5,"app-form-row",3),e.nrm(6,"app-readonly",2),e.k0s()()),2&a&&(e.R7$(),e.Y8G("id","RemoteSignOutPath")("label","DynamicAuth.RemoteSignOutPath.Label"),e.R7$(),e.Y8G("fieldType",d.ReadOnlyFieldType.Single)("values",e.eq3(13,ry,d.optionsDictionary.remoteSignOutPath)),e.R7$(),e.Y8G("id","SignedOutRedirectUri")("label","DynamicAuth.SignedOutRedirectUri.Label"),e.R7$(),e.Y8G("fieldType",d.ReadOnlyFieldType.Single)("values",e.eq3(15,ry,d.optionsDictionary.signedOutRedirectUri)),e.R7$(),e.Y8G("id","SignedOutCallbackPath")("label","DynamicAuth.SignedOutCallbackPath.Label")("isLast",!0),e.R7$(),e.Y8G("fieldType",d.ReadOnlyFieldType.Single)("values",e.eq3(17,ry,d.optionsDictionary.signedOutCallbackPath)))},dependencies:[de.Y,ks.O],encapsulation:2})}}return s})();const sy=s=>[s];let bE=(()=>{class s{get ReadOnlyFieldType(){return or.t}constructor(i){this.dynamicAuthCache=i}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,on.$)()).subscribe({next:i=>{this.optionsDictionary=new ta.b(ho(i.options))}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(Vr))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-metadata-view-details"]],decls:5,vars:15,consts:[["id","viewDynamicAuthMetadata"],[3,"id","label","help"],[3,"fieldType","values"],[3,"id","label","help","isLast"]],template:function(a,d){1&a&&(e.j41(0,"div",0)(1,"app-form-row",1),e.nrm(2,"app-readonly",2),e.k0s(),e.j41(3,"app-form-row",3),e.nrm(4,"app-readonly",2),e.k0s()()),2&a&&(e.R7$(),e.Y8G("id","RefreshOnIssuerKeyNotFound")("label","DynamicAuth.RefreshOnIssuerKeyNotFound.Label")("help","DynamicAuth.RefreshOnIssuerKeyNotFound.Help"),e.R7$(),e.Y8G("fieldType",d.ReadOnlyFieldType.Single)("values",e.eq3(11,sy,d.optionsDictionary.refreshOnIssuerKeyNotFound)),e.R7$(),e.Y8G("id","MetadataRefreshInterval")("label","DynamicAuth.MetadataRefreshInterval.Label")("help","DynamicAuth.MetadataRefreshInterval.Help")("isLast",!0),e.R7$(),e.Y8G("fieldType",d.ReadOnlyFieldType.Single)("values",e.eq3(13,sy,d.optionsDictionary.metadataRefreshInterval)))},dependencies:[de.Y,ks.O],encapsulation:2})}}return s})();const oy=s=>[s];let Au=(()=>{class s{get ReadOnlyFieldType(){return or.t}constructor(i){this.dynamicAuthCache=i}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,on.$)()).subscribe({next:i=>{this.optionsDictionary=new ta.b(ho(i.options))}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(Vr))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-tokens-view-details"]],decls:5,vars:15,consts:[["id","viewDynamicAuthTokens"],[3,"id","label","help"],[3,"fieldType","values"],[3,"id","label","help","isLast"]],template:function(a,d){1&a&&(e.j41(0,"div",0)(1,"app-form-row",1),e.nrm(2,"app-readonly",2),e.k0s(),e.j41(3,"app-form-row",3),e.nrm(4,"app-readonly",2),e.k0s()()),2&a&&(e.R7$(),e.Y8G("id","SaveTokens")("label","DynamicAuth.SaveTokens.Label")("help","DynamicAuth.SaveTokens.Help"),e.R7$(),e.Y8G("fieldType",d.ReadOnlyFieldType.Single)("values",e.eq3(11,oy,d.optionsDictionary.saveTokens)),e.R7$(),e.Y8G("id","UseTokenLifetime")("label","DynamicAuth.UseTokenLifetime.Label")("help","DynamicAuth.UseTokenLifetime.Help")("isLast",!0),e.R7$(),e.Y8G("fieldType",d.ReadOnlyFieldType.Single)("values",e.eq3(13,oy,d.optionsDictionary.useTokenLifetime)))},dependencies:[de.Y,ks.O],encapsulation:2})}}return s})();const ay=s=>[s];let Nf=(()=>{class s{get ReadOnlyFieldType(){return or.t}constructor(i){this.dynamicAuthCache=i}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,on.$)()).subscribe({next:i=>{this.optionsDictionary=new ta.b(ho(i.options))}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(Vr))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-other-view-details"]],decls:5,vars:15,consts:[["id","viewDynamicAuthOther"],[3,"id","label","help"],[3,"fieldType","values"],[3,"id","label","help","isLast"]],template:function(a,d){1&a&&(e.j41(0,"div",0)(1,"app-form-row",1),e.nrm(2,"app-readonly",2),e.k0s(),e.j41(3,"app-form-row",3),e.nrm(4,"app-readonly",2),e.k0s()()),2&a&&(e.R7$(),e.Y8G("id","SkipUnrecognizedRequests")("label","DynamicAuth.SkipUnrecognizedRequests.Label")("help","DynamicAuth.SkipUnrecognizedRequests.Help"),e.R7$(),e.Y8G("fieldType",d.ReadOnlyFieldType.Single)("values",e.eq3(11,ay,d.optionsDictionary.skipUnrecognizedRequests)),e.R7$(),e.Y8G("id","DisableTelemetry")("label","DynamicAuth.DisableTelemetry.Label")("help","DynamicAuth.DisableTelemetry.Help")("isLast",!0),e.R7$(),e.Y8G("fieldType",d.ReadOnlyFieldType.Single)("values",e.eq3(13,ay,d.optionsDictionary.disableTelemetry)))},dependencies:[de.Y,ks.O],encapsulation:2})}}return s})();var Of=h(7970),ha=h(2292);function ly(s,g){if(1&s){const i=e.RV6();e.j41(0,"div",6)(1,"div",7),e.nrm(2,"input",8),e.j41(3,"button",9),e.bIt("click",function(){e.eBV(i);const d=e.XpG();return e.Njj(d.onAdd())}),e.nrm(4,"span",10),e.j41(5,"span",11),e.EFF(6),e.nI1(7,"translate"),e.k0s()()()()}if(2&s){const i=e.XpG();e.R7$(2),e.FS9("id",i.id+"-newValue-input"),e.R7$(),e.FS9("id",i.id+"-newValue-button"),e.Y8G("disabled",i.addDisabled),e.R7$(3),e.JRh(e.bMT(7,4,"Common.Add"))}}function cy(s,g){if(1&s){const i=e.RV6();e.j41(0,"app-pill-list",12),e.bIt("onDelete",function(d){e.eBV(i);const D=e.XpG();return e.Njj(D.onDelete(d))}),e.k0s()}if(2&s){const i=e.XpG();e.Y8G("readonly",i.reserved)("id",i.id)("values",i.value)}}function CE(s,g){if(1&s&&(e.j41(0,"span",13),e.EFF(1),e.k0s()),2&s){const i=e.XpG();e.R7$(),e.JRh(i.valueLimitMsg)}}function uy(s,g){if(1&s&&(e.j41(0,"span",14),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s){const i=g.$implicit;e.R7$(),e.Lme("",i.key,": ",e.bMT(2,2,i.value),"")}}let dy=(()=>{class s{get newValue(){return this.form.get("newValue")?.value}set newValue(i){this.form.get("newValue").setValue(i)}get errors(){let i=this.form.get("newValue");return i.dirty?i?.errors??[]:[]}get valueLimitMsg(){return this.tranlate.instant("Errors.PillListLimitReached",[this.value.length,this.valueLimit])}constructor(i,a){this.fb=i,this.tranlate=a,this.id=(0,Fi.Nl)(),this.value=[],this.required=!1,this.disabled=!1,this.reserved=!1,this.valueLimit=50,this.validators=[],this.onChange=d=>{},this.onTouched=()=>{}}ngOnInit(){this.form=this.fb.group({newValue:["",this.validators]})}writeValue(i){this.value=i}registerOnChange(i){this.onChange=i}registerOnTouched(i){this.onTouched=i}setDisabledState(i){this.disabled=i}validate(i){return!this.required||this.value?.length?null:{required:{valid:!1}}}get addDisabled(){return this.isNullOrEmpty(this.newValue)||this.value.includes(this.newValue)||this.form.get("newValue").invalid}onAdd(){this.newValue&&(this.value.push(this.newValue),this.onChange(this.value),this.newValue="",this.form.markAsPristine())}onDelete(i){this.value.splice(i,1),this.onChange(this.value)}isNullOrEmpty(i){return!i||null!==i.match(/^ *$/)}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(p.ze),e.rXU(Mn.c$))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-freetext-list-input"]],inputs:{id:"id",value:"value",required:"required",disabled:"disabled",reserved:"reserved",valueLimit:"valueLimit",validators:"validators"},features:[e.Jv_([{provide:p.kq,useExisting:(0,e.Rfq)(()=>s),multi:!0},{provide:p.cz,useExisting:(0,e.Rfq)(()=>s),multi:!0}])],decls:8,vars:7,consts:[[3,"formGroup"],["class","tw-form-row",4,"ngIf"],[1,"tw-pill-list","tw-mb-5"],[3,"readonly","id","values","onDelete",4,"ngIf"],["id","too-many-values",4,"ngIf"],["class","tw-alert-danger tw-mb-4","role","alert",4,"ngFor","ngForOf"],[1,"tw-form-row"],[1,"tw-flex","tw-w-full","lg:tw-max-w-2xl"],["type","text","formControlName","newValue",1,"tw-form-control","tw-rounded-r-none","tw-border-r-0",3,"id"],[1,"tw-btn","tw-rounded-l-none",3,"click","id","disabled"],["aria-hidden","true",1,"far","fa-plus"],[1,"sr-only"],[3,"onDelete","readonly","id","values"],["id","too-many-values"],["role","alert",1,"tw-alert-danger","tw-mb-4"]],template:function(a,d){1&a&&(e.j41(0,"form",0),e.DNE(1,ly,8,6,"div",1),e.j41(2,"div",2),e.DNE(3,cy,1,3,"app-pill-list",3)(4,CE,2,1,"span",4),e.k0s(),e.j41(5,"div"),e.DNE(6,uy,3,4,"span",5),e.nI1(7,"keyvalue"),e.k0s()()),2&a&&(e.Y8G("formGroup",d.form),e.R7$(),e.Y8G("ngIf",!d.reserved),e.R7$(2),e.Y8G("ngIf",d.value.length<=d.valueLimit||!d.reserved),e.R7$(),e.Y8G("ngIf",d.value.length>d.valueLimit&&d.reserved),e.R7$(2),e.Y8G("ngForOf",e.bMT(7,5,d.errors)))},dependencies:[Cn.Sq,Cn.bT,p.qT,p.me,p.BC,p.cb,p.j4,p.JD,ha.L,Cn.lG,Mn.D9],encapsulation:2})}}return s})();function hy(s,g){if(1&s&&(e.j41(0,"li",21)(1,"label",22),e.nrm(2,"input",23),e.j41(3,"span"),e.EFF(4),e.nI1(5,"translate"),e.k0s()()()),2&s){const i=g.$implicit,a=e.XpG(2);e.Y8G("id",i.value+"-prompt"),e.R7$(),e.Y8G("for",i.value+"-checkbox"),e.R7$(),e.Y8G("id",i.value+"-checkbox")("formControlName",i.value),e.BMQ("disabled",a.promptDisabled(i.value)),e.R7$(2),e.JRh(e.bMT(5,6,i.displayName))}}function fy(s,g){1&s&&e.nrm(0,"app-freetext-list-input",24)}function wE(s,g){if(1&s){const i=e.RV6();e.j41(0,"form",2)(1,"app-form-row",3)(2,"app-row-bar",4)(3,"app-state-toggle",5),e.bIt("newValue",function(d){e.eBV(i);const D=e.XpG();return e.Njj(D.updateResponseMode(d))}),e.k0s(),e.j41(4,"a",6),e.nrm(5,"span",7),e.j41(6,"span",8),e.EFF(7),e.nI1(8,"translate"),e.k0s()()()(),e.j41(9,"app-form-row",3)(10,"ul",9),e.DNE(11,hy,6,8,"li",10),e.j41(12,"li",11)(13,"label",12),e.nrm(14,"input",13),e.j41(15,"span"),e.EFF(16),e.nI1(17,"translate"),e.k0s()()()(),e.nrm(18,"br"),e.DNE(19,fy,1,0,"app-freetext-list-input",14),e.j41(20,"p",15)(21,"span",16),e.EFF(22,"Preview:"),e.k0s(),e.j41(23,"span",17)(24,"span",18),e.EFF(25),e.k0s()()()(),e.j41(26,"app-form-row",19),e.nrm(27,"app-freetext-list-input",20),e.k0s()()}if(2&s){const i=e.XpG();e.Y8G("formGroup",i.form),e.R7$(),e.Y8G("id","ResponseMode")("label","DynamicAuth.ResponseMode.Label")("help","DynamicAuth.ResponseMode.Help"),e.R7$(2),e.Y8G("id","ResponseMode")("options",i.responseModeOptions)("value",i.form.get("responseMode").value),e.R7$(),e.Y8G("href",i.LinkConstants.AdvOthDynamicAuth,e.B4B),e.R7$(3),e.JRh(e.bMT(8,22,"Common.Help")),e.R7$(2),e.Y8G("id","Prompt")("label","DynamicAuth.Prompt.Label")("help","DynamicAuth.Prompt.Help"),e.R7$(2),e.Y8G("ngForOf",i.promptOptions),e.R7$(3),e.BMQ("disabled",i.promptDisabled("")),e.R7$(2),e.JRh(e.bMT(17,24,"DynamicAuth.Prompt.Values.Other")),e.R7$(3),e.Y8G("ngIf",i.form.get("useOther").value&&!i.promptDisabled("other")),e.R7$(6),e.SpI(" '",i.generatePromptString(),"' "),e.R7$(),e.Y8G("id","Resource")("label","DynamicAuth.Resource.Label")("help","DynamicAuth.Resource.Help")("isLast",!0),e.R7$(),e.Y8G("validators",i.ResourceValidators)}}class Pf{constructor(g,i){this.displayName=g,this.value=i}}let EE=(()=>{class s{get ReadOnlyFieldType(){return or.t}get LinkConstants(){return cr}get ResourceValidators(){return[rI]}constructor(i,a,d){this.fb=i,this.dynamicAuthCache=a,this.errorService=d,this.responseModeOptions=Object.keys(Sa).filter(D=>isNaN(Number(D))),this.promptOptions=[new Pf("DynamicAuth.Prompt.Values.None","none"),new Pf("DynamicAuth.Prompt.Values.Login","login"),new Pf("DynamicAuth.Prompt.Values.Consent","consent"),new Pf("DynamicAuth.Prompt.Values.SelectAccount","select_account")]}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,on.$)()).subscribe({next:i=>{this.dynamicAuth=i,this.oidcOptions=ho(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges()},error:i=>{this.errorService.handleError(i)}})}buildForm(){let i=Xs.ResponseModeMap.get(this.oidcOptions.responseMode);const a=this.promptOptions.map(Ae=>Ae.value),d=(0,Fi.hr)(this.oidcOptions.prompt),D=d.filter(Ae=>!a.includes(Ae));let te={responseMode:[Sa[i],[]],resource:[(0,Fi.hr)(this.oidcOptions.resource),[]],useOther:[D.length>0,[]],otherPrompts:[D,[]]};for(let Ae of this.promptOptions)te[Ae.value]=[d?.includes(Ae.value)??!1,[]];this.form=this.fb.group(te)}subscribeToValueChanges(){this.formChange=this.form.valueChanges.subscribe({next:i=>{let a=Sa[this.form.get("responseMode").value],d=Xs.ResponseModeKey(a),D={...this.oidcOptions,responseMode:d,prompt:this.generatePromptString(),resource:(0,Fi.Nj)(this.form.get("resource").value)};this.dynamicAuthCache.componentDirtyValidMap.set("DynamicAuthEditAdvancedComponent",this.form.valid),this.dynamicAuthCache.unsavedCache.next({...this.dynamicAuth,options:JSON.stringify(D)})}})}generatePromptString(){let i=[];if(this.form.get("none").value)return"none";for(let a of this.promptOptions)this.form.get(a.value).value&&i.push(a.value);return this.form.get("useOther").value&&this.form.get("otherPrompts").value.forEach(a=>i.push(a)),(0,Fi.Nj)(i)}promptDisabled(i){const a=this.form.get("none").value;return!("none"===i||!a)||null}updateResponseMode(i){this.form.get("responseMode").setValue(i)}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(p.ze),e.rXU(Vr),e.rXU(ee.I))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-request-edit-details"]],decls:2,vars:1,consts:[["id","editDynamicAuthRequest"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label","help"],[1,"tw-form-input"],["left","",3,"newValue","id","options","value"],["type","button","target","_blank","right","",1,"tw-btn-link","tw-btn","tw-pt-0","group-hover:tw-text-blue-500",3,"href"],[1,"far","fa-question-circle","tw-w-15","tw-h-15"],[1,"sr-only"],[1,"tw-form-checks"],["class","tw-form-checks__item",3,"id",4,"ngFor","ngForOf"],["id","other-prompt",1,"tw-form-checks__item"],["for","other-checkbox",1,"tw-form-checks__label"],["id","other-checkbox","name","otherPrompt","type","checkbox","formControlName","useOther",1,"tw-form-checks__input"],["id","Prompt","formControlName","otherPrompts",4,"ngIf"],["id","promp-preview",1,"tw-form-text","tw-flex","tw-items-center"],[1,"tw-mr-2","tw--mt-px"],[1,"tw-flex","tw-flex-wrap"],[1,"tw-mr-2"],[3,"id","label","help","isLast"],["id","Resource","formControlName","resource",3,"validators"],[1,"tw-form-checks__item",3,"id"],[1,"tw-form-checks__label",3,"for"],["name","noneCheckBox","type","checkbox",1,"tw-form-checks__input",3,"id","formControlName"],["id","Prompt","formControlName","otherPrompts"]],template:function(a,d){1&a&&(e.j41(0,"div",0),e.DNE(1,wE,28,26,"form",1),e.k0s()),2&a&&(e.R7$(),e.Y8G("ngIf",d.form))},dependencies:[Cn.Sq,Cn.bT,p.qT,p.Zm,p.BC,p.cb,p.j4,p.JD,de.Y,uu.f,Of.j,dy,Mn.D9],encapsulation:2})}}return s})();const Fc=s=>[s];let SE=(()=>{class s{get ReadOnlyFieldType(){return or.t}constructor(i){this.dynamicAuthCache=i}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,on.$)()).subscribe({next:i=>{this.optionsDictionary=new ta.b(ho(i.options))}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(Vr))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-request-view-details"]],decls:7,vars:22,consts:[["id","viewDynamicAuthOther"],[3,"id","label","help"],[3,"fieldType","values"],[3,"id","label","help","isLast"]],template:function(a,d){1&a&&(e.j41(0,"div",0)(1,"app-form-row",1),e.nrm(2,"app-readonly",2),e.k0s(),e.j41(3,"app-form-row",1),e.nrm(4,"app-readonly",2),e.k0s(),e.j41(5,"app-form-row",3),e.nrm(6,"app-readonly",2),e.k0s()()),2&a&&(e.R7$(),e.Y8G("id","ResponseMode")("label","DynamicAuth.ResponseMode.Label")("help","DynamicAuth.ResponseMode.Help"),e.R7$(),e.Y8G("fieldType",d.ReadOnlyFieldType.Single)("values",e.eq3(16,Fc,d.optionsDictionary.responseMode)),e.R7$(),e.Y8G("id","Prompt")("label","DynamicAuth.Prompt.Label")("help","DynamicAuth.Prompt.Help"),e.R7$(),e.Y8G("fieldType",d.ReadOnlyFieldType.Single)("values",e.eq3(18,Fc,d.optionsDictionary.prompt)),e.R7$(),e.Y8G("id","Resource")("label","DynamicAuth.Resource.Label")("help","DynamicAuth.Resource.Help")("isLast",!0),e.R7$(),e.Y8G("fieldType",d.ReadOnlyFieldType.Single)("values",e.eq3(20,Fc,d.optionsDictionary.resource)))},dependencies:[de.Y,ks.O],encapsulation:2})}}return s})();const py=[{path:"dynamic-auth",component:x1,canActivate:[wr.h,Mr._,Mf,jd.q],data:{permissions:[Jn.a[Jn.a.IdentityServerManager],Jn.a[Jn.a.IdentityServerManagerReadOnly],Jn.a[Jn.a.AllReadOnly],Jn.a[Jn.a.All]]}},{path:"dynamic-auth/:Scheme",component:Qw,children:[{path:"",redirectTo:"details",pathMatch:"full"},{path:"details",component:Fw},{path:"scopes",component:Gw},{path:"advanced",component:Pc,children:[{path:"request",component:EE},{path:"claims",component:xf},{path:"signOut",component:yg},{path:"metadata",component:mE},{path:"tokens",component:mg},{path:"other",component:ty}]},{path:"sp",component:zw,children:[{path:"details",component:lg},{path:"request",component:dl},{path:"response",component:Ww}]},{path:"idp",component:P1,children:[{path:"details",component:Lw},{path:"advanced",component:fo}]}],resolve:{dynamicAuth:Fd},canDeactivate:[$o.M],canActivate:[wr.h,Mr._,Mf,jd.q],data:{permissions:[Jn.a[Jn.a.IdentityServerManager],Jn.a[Jn.a.All]]}},{path:"dynamic-auth/view/:Scheme",component:pg,children:[{path:"",redirectTo:"details",pathMatch:"full"},{path:"details",component:W1},{path:"scopes",component:oE},{path:"advanced",component:Pc,children:[{path:"request",component:SE},{path:"claims",component:iy},{path:"signOut",component:Du},{path:"metadata",component:bE},{path:"tokens",component:Au},{path:"other",component:Nf}]},{path:"sp",component:Q1,children:[{path:"details",component:Y1},{path:"request",component:J1},{path:"response",component:aE}]},{path:"idp",component:nE,children:[{path:"details",component:eE},{path:"advanced",component:qw}]}],resolve:{dynamicAuth:Fd},canActivate:[wr.h,Mr._,Mf,jd.q],data:{permissions:[Jn.a[Jn.a.IdentityServerManager],Jn.a[Jn.a.IdentityServerManagerReadOnly],Jn.a[Jn.a.AllReadOnly],Jn.a[Jn.a.All]]}}];let TE=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({imports:[St.iI.forChild(py),$i.XE.forChild(py),St.iI]})}}return s})();var Ff=h(3843);let my=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({imports:[Cn.MD,p.YN,p.X1,dc.w,Mn.h,Ff.G]})}}return s})(),gy=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({providers:[Fd,qd.R,Lu.c,rp.z,sp.d,ip.S,np._,th,hc.V,ss,Vr,js.w,xc],imports:[TE,Cn.MD,St.iI,p.YN,cc.Y,p.X1,Et.jr,f1.W,Re.Ss,kt.Q_,Ur.z,Jf.A,Mn.h,jc.p,$i.XE,jg.F,Al.M,rs.a,Bu.m,Pa.c,No.c,Fa.E,co.h,dc.w,Yl.N,Zf.f,Tl.Y,Vg.l,aw.Q,yo.i,bf.qP,Ys.U,qf.N,my]})}}return s})();var _g=h(9624),vy=h(2633),$d=h(3730);let Gd=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({providers:[Fu.v],imports:[Cn.MD,p.YN,p.X1,kt.Q_,cc.Y,St.iI,Mn.h,jc.p,$i.XE,Bu.m,yo.i,Pa.c,Qd.t,No.c,f1.W,Fa.E,dc.w,qf.N,Yl.N]})}}return s})();var IE=h(2509),DE=h(7101);let bg=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({imports:[Cn.MD,St.iI,cc.Y,Mn.h,$i.XE,mf]})}}return s})(),Hd=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({providers:[Bm.F,mh.n,Es.D,ui.i,wr.h,Mr._,jd.q,bp.a,vy.g,fs.P,Jd.m,Ke.X,Vt.Vk,Y_.M,Fu.v,y0.R,$i.QG,hs.M,Fs,Mn.c$,Oo.X,js.w,b0.B,ee.I,eh.D,ul.x,Tf],imports:[Cn.MD,p.YN,p.X1,Kn,w.q1,cc.Y,DE.UsersModule,Gd,_g.StarterModeModule,jc.p,Ug.P,kt.Q_.forRoot(),Et.jr.forRoot(),Re.Ss.forRoot(),Je.h6.forRoot(),$d.ClaimTypesModule,ni._B.forRoot(),IE.SettingsModule,Al.M,d1,No.c,co.h,Yl.N,dc.w,Tl.Y,Mn.h,St.iI,$i.XE,bg,mf]})}}return s})();var AE=h(4861);const yy=s=>[s],_y=s=>({showUpgrade:s});function by(s,g){1&s&&e.eu8(0)}function Cy(s,g){if(1&s&&(e.j41(0,"button",4),e.nI1(1,"localize"),e.EFF(2),e.DNE(3,by,1,0,"ng-container",5),e.k0s()),2&s){const i=e.XpG(2),a=e.sdS(2);e.HbH(i.btnClasses),e.Y8G("routerLinkActive",i.activeClass)("routerLink",e.eq3(9,yy,e.bMT(1,7,i.route))),e.R7$(2),e.SpI(" ",i.title," "),e.R7$(),e.Y8G("ngTemplateOutlet",a)("ngTemplateOutletContext",e.eq3(11,_y,i.showUpgrade))}}function wy(s,g){1&s&&e.eu8(0)}function RE(s,g){if(1&s&&(e.j41(0,"button",6),e.nI1(1,"localize"),e.EFF(2),e.DNE(3,wy,1,0,"ng-container",5),e.k0s()),2&s){const i=e.XpG(2),a=e.sdS(2);e.HbH(i.btnClasses),e.Y8G("routerLinkActive",i.activeClass)("routerLink",e.eq3(9,yy,e.bMT(1,7,i.route))),e.R7$(2),e.SpI(" ",i.title," "),e.R7$(),e.Y8G("ngTemplateOutlet",a)("ngTemplateOutletContext",e.eq3(11,_y,i.showUpgrade))}}function Ey(s,g){if(1&s&&(e.j41(0,"li",2),e.DNE(1,Cy,4,13,"button",3)(2,RE,4,13),e.k0s()),2&s){const i=e.XpG();e.HbH(i.classes),e.Y8G("id",i.id),e.R7$(),e.vxM(1,i.sub?1:2)}}function ME(s,g){1&s&&(e.j41(0,"div",7)(1,"span",8),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.nrm(4,"span",9),e.k0s()),2&s&&(e.R7$(2),e.JRh(e.bMT(3,1,"StarterMode.RequiresUpgrade")))}function xE(s,g){1&s&&e.DNE(0,ME,5,3,"div",7),2&s&&e.vxM(0,g.showUpgrade?0:-1)}let kE=(()=>{class s{constructor(){this.showUpgrade=!1}get btnClasses(){const i="tw-nav tw-flex tw-items-center tw-text-primary-200 tw-relative tw-truncate hover:tw-text-white focus:tw-text-white";return this.sub?`${i} tw-text-sm tw-font-normal tw-px-8 tw-py-3 lg:tw-px-6 xl:tw-px-8`:`${i} tw-font-semibold tw-h-header tw-px-4 lg:tw-px-6 xl:tw-px-8`}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-nav-item"]],inputs:{id:"id",title:"title",classes:"classes",activeClass:"activeClass",sub:"sub",route:"route",display:"display",showUpgrade:"showUpgrade"},decls:3,vars:1,consts:[["upgradeSymbol",""],[3,"class","id"],[3,"id"],["ngbDropdownItem","",3,"class","routerLinkActive","routerLink"],["ngbDropdownItem","",3,"routerLinkActive","routerLink"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"routerLinkActive","routerLink"],[1,"upgradeSymbol","tw-text-secondary-500","tw-text-sm","tw-pl-1","tw-font-normal","tw-py-3","lg:tw-px-1"],[1,"sr-only"],["aria-hidden","true",1,"far","fa-arrow-alt-circle-up"]],template:function(a,d){1&a&&e.DNE(0,Ey,3,4,"li",1)(1,xE,1,1,"ng-template",null,0,e.C5r),2&a&&e.vxM(0,d.display?0:-1)},dependencies:[Cn.T3,St.Wk,St.wQ,Id,ff,Mn.D9,$i.tl],encapsulation:2})}}return s})();const uI=["sameSiteBrowserNotification"],dI=["defaultUserResolveButton"],hI=[[["","navigation",""]]],Sy=["[navigation]"],Bf=s=>({text:"IdentityServer",check:s}),NE=(s,g)=>({"tw-opacity-75":s,"tw-pill-info":g}),Cg=s=>[s],wg=(s,g)=>({"tw-text-sm tw-font-normal tw-px-8 tw-py-3 lg:tw-px-6 xl:tw-px-8":s,"tw-font-semibold tw-h-header tw-px-4 lg:tw-px-6 xl:tw-px-8":g});function Wd(s,g){if(1&s){const i=e.RV6();e.j41(0,"div",20,3)(2,"div",21)(3,"div",22)(4,"div",23)(5,"div",24)(6,"b",25),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"button",26),e.bIt("click",function(){e.eBV(i);const d=e.XpG(2);return e.Njj(d.closeSameSiteBrowserNotification())}),e.j41(10,"b"),e.EFF(11),e.nI1(12,"translate"),e.k0s()()()()()()()}2&s&&(e.R7$(7),e.SpI(" ",e.bMT(8,2,"Common.SameSiteCookiesBannerError")," "),e.R7$(4),e.JRh(e.bMT(12,4,"Common.Close")))}function OE(s,g){if(1&s){const i=e.RV6();e.j41(0,"div",27)(1,"div",21)(2,"div",22)(3,"div",23)(4,"div",24)(5,"b",25),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"button",28,4),e.bIt("click",function(){e.eBV(i);const d=e.XpG(2);return e.Njj(d.defaultUserDeleteConfirmation())}),e.j41(10,"b"),e.EFF(11),e.nI1(12,"translate"),e.k0s()()()()()()()}2&s&&(e.R7$(6),e.SpI(" ",e.bMT(7,2,"InitialAdminCreation.ReminderMessage")," "),e.R7$(5),e.JRh(e.bMT(12,4,"InitialAdminCreation.Resolve")))}function PE(s,g){if(1&s&&(e.j41(0,"div",29)(1,"div",21)(2,"div",22)(3,"div",23)(4,"div",30)(5,"b",25),e.EFF(6),e.k0s()()()()()()),2&s){const i=e.XpG(2);e.R7$(6),e.SpI(" ",i.licenseIsInStarterModeMessage," ")}}function FE(s,g){if(1&s&&(e.j41(0,"div",31)(1,"div",21)(2,"div",22)(3,"div",23)(4,"div",24)(5,"b",25),e.EFF(6),e.k0s()()()()()()),2&s){const i=e.XpG(2);e.R7$(6),e.SpI(" ",i.licenseIsInGracePeriodMessage," ")}}function BE(s,g){if(1&s&&(e.j41(0,"div",15),e.DNE(1,Wd,13,6,"div",16)(2,OE,13,6,"div",17)(3,PE,7,1,"div",18)(4,FE,7,1,"div",19),e.k0s()),2&s){const i=e.XpG();e.R7$(),e.Y8G("ngIf",i.noSameSiteSupport),e.R7$(),e.Y8G("ngIf",i.defaultUserExists),e.R7$(),e.Y8G("ngIf",i.licenseIsInStarterMode),e.R7$(),e.Y8G("ngIf",i.licenseIsInGracePeriod)}}function fI(s,g){if(1&s&&(e.j41(0,"div",40),e.EFF(1),e.k0s()),2&s){const i=e.XpG(2);e.Y8G("ngClass",e.l_i(2,NE,i.securityService.isNonProd(),!i.securityService.isNonProd())),e.R7$(),e.SpI(" ",i.securityService.licenseType," ")}}function LE(s,g){if(1&s){const i=e.RV6();e.j41(0,"nav",32),e.nI1(1,"translate"),e.j41(2,"div",21)(3,"div",33),e.DNE(4,fI,2,5,"div",34),e.j41(5,"div",35),e.nrm(6,"span",36),e.j41(7,"span",37),e.EFF(8),e.k0s(),e.j41(9,"span",38),e.EFF(10,"\u2022"),e.k0s()(),e.j41(11,"button",39),e.bIt("click",function(){e.eBV(i);const d=e.XpG();return e.Njj(d.logoff())}),e.EFF(12),e.nI1(13,"translate"),e.k0s()()()()}if(2&s){const i=e.XpG();e.BMQ("aria-label",e.bMT(1,4,"Nav.Account")),e.R7$(4),e.Y8G("ngIf","Legacy"!=i.securityService.organisation),e.R7$(4),e.JRh(i.authService.user),e.R7$(4),e.SpI(" ",e.bMT(13,6,"Nav.Logout")," ")}}function Ty(s,g){1&s&&e.nrm(0,"span",53)}function UE(s,g){1&s&&e.nrm(0,"span",54)}function VE(s,g){1&s&&e.nrm(0,"div",60)}function Kd(s,g){if(1&s){const i=e.RV6();e.j41(0,"nav",55),e.DNE(1,VE,1,0,"div",56),e.j41(2,"ul",43),e.nrm(3,"app-nav-item",57),e.nI1(4,"translate"),e.nrm(5,"app-nav-item",57),e.nI1(6,"translate"),e.nrm(7,"app-nav-item",57),e.nI1(8,"translate"),e.nrm(9,"app-nav-item",57),e.nI1(10,"translate"),e.SdG(11),e.nrm(12,"app-nav-item",57),e.nI1(13,"translate"),e.j41(14,"li",58)(15,"button",59),e.bIt("click",function(){e.eBV(i);const d=e.XpG(2);return e.Njj(d.logoff())}),e.EFF(16),e.nI1(17,"translate"),e.k0s()()()()}if(2&s){const i=e.XpG(2);e.R7$(),e.Y8G("ngIf",!i.healthCheckService.uiReady),e.R7$(2),e.Y8G("id","app-nav-item-home")("title",e.bMT(4,28,"Nav.Home"))("classes","lg:tw-hidden")("activeClass","tw-nav-active")("route","/home")("display",!0),e.R7$(2),e.Y8G("id","app-nav-item-users")("title",e.bMT(6,30,"Nav.Users"))("activeClass","tw-nav-active")("route","/users")("display",i.securityService.userManagerView||i.securityService.userManagerReadOnlyView),e.R7$(2),e.Y8G("id","app-nav-item-roles")("title",e.bMT(8,32,"Nav.Roles"))("activeClass","tw-nav-active")("route","/roles")("display",i.securityService.userManagerView||i.securityService.userManagerReadOnlyView),e.R7$(2),e.Y8G("id","app-nav-item-claimtypes")("title",e.bMT(10,34,"Nav.ClaimTypes"))("activeClass","tw-nav-active")("route","/claim-types")("display",i.securityService.userManagerView||i.securityService.userManagerReadOnlyView),e.R7$(3),e.Y8G("id","app-nav-item-settings")("title",e.bMT(13,36,"Nav.Settings"))("activeClass","tw-nav-active")("route","/settings/accesspolicy")("display",i.securityService.allView),e.R7$(4),e.SpI(" ",e.bMT(17,38,"Logout")," ")}}function jE(s,g){if(1&s){const i=e.RV6();e.j41(0,"header",41),e.bIt("resize",function(){e.eBV(i);const d=e.XpG();return e.Njj(d.detectSize())},!1,e.tSv),e.j41(1,"div",42)(2,"div",43)(3,"h2",44),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"div",45)(7,"a",46),e.nI1(8,"localize"),e.nrm(9,"img",47),e.j41(10,"span",48),e.EFF(11),e.nI1(12,"translate"),e.k0s()(),e.j41(13,"button",49),e.bIt("click",function(){e.eBV(i);const d=e.XpG();return e.Njj(d.menuToggle())}),e.j41(14,"span",48),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.DNE(17,Ty,1,0,"span",50)(18,UE,1,0,"span",51),e.k0s()(),e.DNE(19,Kd,18,40,"nav",52),e.k0s()()()}if(2&s){const i=e.XpG();e.R7$(4),e.JRh(e.bMT(5,10,"Nav.Menu")),e.R7$(3),e.Y8G("routerLink",e.eq3(18,Cg,e.bMT(8,12,"/home"))),e.R7$(4),e.JRh(e.bMT(12,14,"Nav.Home")),e.R7$(2),e.AVh("tw-bg-primary-700",i.openMenu),e.BMQ("aria-expanded",1==i.openMenu),e.R7$(2),e.JRh(e.bMT(16,16,"Nav.ToggleNavigation")),e.R7$(2),e.Y8G("ngIf",!i.openMenu),e.R7$(),e.Y8G("ngIf",i.openMenu),e.R7$(),e.Y8G("ngIf",i.openMenu&&i.appComponentViewConfig.showNav&&!i.expectingStarterModeConsent)}}function Iy(s,g){1&s&&(e.j41(0,"div",65)(1,"span",48),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.nrm(4,"span",66),e.k0s()),2&s&&(e.R7$(2),e.JRh(e.bMT(3,1,"StarterMode.RequiresUpgrade")))}function $E(s,g){if(1&s&&(e.j41(0,"li",62)(1,"button",63),e.nI1(2,"localize"),e.EFF(3),e.DNE(4,Iy,5,3,"div",64),e.k0s()()),2&s){const i=e.XpG(),a=i.title,d=i.classes,D=i.activeClass,te=i.sub,Ae=i.route,et=i.starterUpgrade,bt=i.id,Ht=e.XpG();e.HbH(d),e.Y8G("id",bt),e.R7$(),e.Y8G("ngClass",e.l_i(10,wg,te,!te))("routerLinkActive",D)("routerLink",e.eq3(13,Cg,e.bMT(2,8,Ae))),e.R7$(2),e.SpI(" ",a," "),e.R7$(),e.Y8G("ngIf",et&&Ht.licenseIsInStarterMode)}}function Dy(s,g){1&s&&e.DNE(0,$E,5,15,"li",61),2&s&&e.Y8G("ngIf",g.display)}function GE(s,g){1&s&&(e.j41(0,"div",65)(1,"span",48),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.nrm(4,"span",66),e.k0s()),2&s&&(e.R7$(2),e.JRh(e.bMT(3,1,"StarterMode.RequiresUpgrade")))}function Ay(s,g){if(1&s&&(e.j41(0,"li",62)(1,"button",67),e.nI1(2,"localize"),e.EFF(3),e.DNE(4,GE,5,3,"div",64),e.k0s()()),2&s){const i=e.XpG(),a=i.title,d=i.classes,D=i.activeClass,te=i.sub,Ae=i.route,et=i.starterUpgrade,bt=i.id,Ht=e.XpG();e.HbH(d),e.Y8G("id",bt),e.R7$(),e.Y8G("ngClass",e.l_i(10,wg,te,!te))("routerLinkActive",D)("routerLink",e.eq3(13,Cg,e.bMT(2,8,Ae))),e.R7$(2),e.SpI(" ",a," "),e.R7$(),e.Y8G("ngIf",et&&Ht.licenseIsInStarterMode)}}function HE(s,g){1&s&&e.DNE(0,Ay,5,15,"li",61),2&s&&e.Y8G("ngIf",g.display)}function Eg(s,g){1&s&&(e.j41(0,"div",68)(1,"div",69)(2,"div")(3,"h1",70),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"p"),e.EFF(7),e.nI1(8,"translate"),e.k0s()()()()),2&s&&(e.R7$(4),e.JRh(e.bMT(5,2,"Errors.Unauthorized")),e.R7$(3),e.JRh(e.bMT(8,4,"Errors.ContactAdmin")))}function WE(s,g){1&s&&e.nrm(0,"router-outlet")}function Ry(s,g){1&s&&e.eu8(0)}function My(s,g){if(1&s&&(e.j41(0,"div",72)(1,"div",73),e.nrm(2,"span",74),e.j41(3,"span",75)(4,"b"),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.EFF(7),e.k0s()()()),2&s){const i=e.XpG(),a=i.text;e.Y8G("@fadeInOut",i.check),e.R7$(5),e.SpI("",e.bMT(6,3,"Common.Loading"),":"),e.R7$(2),e.SpI(" ",a," ")}}function KE(s,g){1&s&&e.DNE(0,My,8,5,"div",71),2&s&&e.Y8G("ngIf",g.check)}function zE(s,g){if(1&s){const i=e.RV6();e.j41(0,"footer",76)(1,"button",77),e.bIt("click",function(){e.eBV(i);const d=e.XpG();return e.Njj(d.jumpToTop())}),e.nrm(2,"span",78),e.j41(3,"span",48),e.EFF(4),e.nI1(5,"translate"),e.k0s()(),e.j41(6,"div",79)(7,"div",80)(8,"p",81)(9,"span",82),e.EFF(10),e.k0s(),e.EFF(11),e.j41(12,"a",83),e.EFF(13),e.nI1(14,"translate"),e.k0s()(),e.j41(15,"ul",84)(16,"li",85)(17,"a",86),e.EFF(18),e.nI1(19,"translate"),e.k0s(),e.j41(20,"span",87),e.EFF(21,"\u2022"),e.k0s()(),e.j41(22,"li",22)(23,"a",88),e.EFF(24),e.nI1(25,"translate"),e.k0s()()()()()()}if(2&s){const i=e.XpG();e.R7$(4),e.JRh(e.bMT(5,6,"Nav.ToTop")),e.R7$(6),e.SpI("AdminUI ",i.versionNumber,""),e.R7$(),e.SpI(" \xa9 ",i.appCopyright," "),e.R7$(2),e.SpI(" ",e.bMT(14,8,"Common.CompanyName")," "),e.R7$(5),e.SpI(" ",e.bMT(19,10,"Common.Documentation")," "),e.R7$(6),e.SpI(" ",e.bMT(25,12,"Nav.Support")," ")}}let YE=(()=>{class s{constructor(i,a,d,D,te,Ae,et,bt,Ht,dn,yn,En,On){this.securityService=i,this.translate=a,this.localizeRouter=d,this.toastr=D,this.router=te,this.healthCheckService=Ae,this.authService=et,this.userService=bt,this.modalService=Ht,this.browserSameSiteService=dn,this.appComponentViewService=yn,this.licenseService=En,this.configService=On,this.user={name:"test"},this.openMenu=!1,this.desktop=!1,this.versionNumber="",this.skipLinkPath="",this.licenseType="",this.organisation="",this.noSameSiteSupport=!1,this.nonProduction=!1,this.defaultUserExists=!1,this.licenseIsInGracePeriod=!1,this.licenseIsInStarterMode=!1,this.expectingStarterModeConsent=!1,this.defaultUserRemovalModalId="defaultUserRemovalModal",this.resolveModalActions=[Jm.N.Save],this.subscriptions=[],vr.wB.defaultLocale="utc",vr.wB.defaultZone="utc";const kn=this.localizeRouter.parser.currentLang;document.getElementsByTagName("html")[0].setAttribute("lang",kn),this.appCopyright="2017 - "+(new Date).getFullYear()}ngOnInit(){if(this.detectSize(),this.setupLongLivedSubscriptions(),this.setupHealthCheck(),!this.browserSameSiteService.validBrowser()&&!localStorage.getItem("closedSameSiteBanner")){const a={link:Vt.$9.sameSiteDocs};this.noSameSiteSupport=!0,this.toastr.error(this.translate.instant("Common.SameSiteCookiesError",a),this.translate.instant("Notifications.Error"),{timeOut:0,extendedTimeOut:0,enableHtml:!0})}}ngOnDestroy(){this.userDataSubscription&&this.userDataSubscription.unsubscribe(),this.licenseInfoSubscription&&this.licenseInfoSubscription.unsubscribe(),this.subscriptions.forEach(i=>i.unsubscribe())}setupLongLivedSubscriptions(){this.subscriptions.push(this.router.events.pipe((0,Lo.p)(i=>i instanceof St.wF)).subscribe(()=>{this.router.url.endsWith("#main-content")||(this.skipLinkPath=`${this.router.url}#main-content`)}),this.healthCheckService.uiHealthCheckComplete.subscribe(()=>{this.versionNumber=Nn}),this.router.events.subscribe({next:i=>{this.desktop||(this.openMenu=!1)}}),this.appComponentViewService.viewConfig$.subscribe({next:i=>{this.appComponentViewConfig=i}}))}setupHealthCheck(){this.healthCheckService.checkHealthUi().pipe((0,La.s)(1)).subscribe({next:i=>this.uiHealthCheckSuccess(i),error:i=>this.uiHealthCheckFailed(i)}),this.healthCheckService.checkHealthIdentityServer().pipe((0,La.s)(1)).subscribe({next:i=>this.idsHealthCheckSuccess(),error:i=>this.idsHealthCheckFailed(i)})}uiHealthCheckSuccess(i){this.healthCheckService.uiReady=!0,this.healthCheckService.uiHealthCheckComplete.next(!0),"string"==typeof i&&!(0,Fi.gP)(i)&&this.toastr.warning(i,this.translate.instant("Common.Warning"),{timeOut:3e3,extendedTimeOut:0,enableHtml:!0}),this.userDataSubscription?.unsubscribe(),this.userDataSubscription=(0,_i.p)({authentication:this.authService.isAuthenticatedCheck(),permissions:this.securityService.userPermissions$}).subscribe(a=>{a.authentication.isAuthenticated&&a.authentication.username!=AE.M.DefaultAdministratorUsername&&a.permissions.includes(Jn.a[Jn.a.All])&&this.userService.defaultUserExists().subscribe(d=>{this.defaultUserExists=d})}),this.licenseInfoSubscription?.unsubscribe(),this.licenseInfoSubscription=this.licenseService.getLicenseInfo().subscribe(a=>{if(this.licenseIsInStarterMode=a.isStarterLicense(),this.expectingStarterModeConsent=a.isExpectingStarterConsent(),this.licenseIsInStarterMode&&(this.licenseIsInStarterModeMessage=this.translate.instant("StarterMode.Warning")),this.licenseIsInGracePeriod=a.isInGracePeriod,this.licenseIsInGracePeriod){const d=(0,Fi.KU)(a.gracePeriodExpiry,"ccc LLL dd yyyy, T");let D=this.translate.instant("Common.LicenseIsInGracePeriod");D=D.replace("{0}",d),this.licenseIsInGracePeriodMessage=D}})}uiHealthCheckFailed(i){this.healthCheckService.uiHealthCheckComplete.next(!0);const a=this.getHealthCheckError(i);this.toastr.error(this.translate.instant("LandingPage.UIError",{error:a?` (${a})`:""}),this.translate.instant("Notifications.Error"),{timeOut:0,extendedTimeOut:0,enableHtml:!0})}idsHealthCheckSuccess(){this.healthCheckService.idsReady=!0,this.healthCheckService.idsHealthCheckComplete.next(!0)}idsHealthCheckFailed(i){this.healthCheckService.idsHealthCheckComplete.next(!0);const a=this.getHealthCheckError(i);this.toastr.error(this.translate.instant("LandingPage.IdentityServerError",{link:Vt.$9.checkHealthIdentityServerDocs,error:a?` (${a})`:""}),this.translate.instant("Notifications.Error"),{timeOut:0,extendedTimeOut:0,enableHtml:!0})}closeSameSiteBrowserNotification(){this.noSameSiteSupport=!1,localStorage.setItem("closedSameSiteBanner","1")}defaultUserDeleteConfirmation(){this.modalService.showById(this.defaultUserRemovalModalId,this.defaultUserResolveButton)}cancelDefaultUserDelete(){this.modalService.hideById(this.defaultUserRemovalModalId)}removeDefaultUser(){this.userService.deleteDefaultUser().subscribe({next:i=>{this.defaultUserExists=!1,this.toastr.success(this.translate.instant("LandingPage.DefaultUserRemoved"),this.translate.instant("Notifications.Success"),{timeOut:0,extendedTimeOut:0,enableHtml:!0}),this.modalService.hideById(this.defaultUserRemovalModalId)},error:i=>{this.toastr.error(this.translate.instant("Notifications.CheckLogs"),this.translate.instant("Notifications.SomethingWrong"),{timeOut:0,extendedTimeOut:0,enableHtml:!0})}})}isActive(i,a=!1){return this.router.isActive(i,a)}isActiveResourceRoute(){return this.router.url.includes("/identityresources")||this.router.url.includes("/protectedresources")}detectSize(){const i=window.matchMedia("(min-width: 1024px)");i.matches&&!this.desktop?(this.desktop=!0,this.openMenu=!0):!i.matches&&this.desktop&&(this.desktop=!1,this.openMenu=!1)}logoff(){this.authService.logoff()}menuToggle(){this.openMenu=!this.openMenu}jumpToTop(){window.scrollTo(0,0)}getHealthCheckError(i){if(!i)return"";const a=i.error;if(a){if("string"==typeof a)return a;if(a.errors&&a.errors.length>0)return a.errors[0]}return i.message?i.message:i.statusText?i.statusText:`${this.translate.instant("Notifications.SomethingWrong")}. ${this.translate.instant("Notifications.CheckLogs")}`}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(ui.i),e.rXU(Mn.c$),e.rXU($i.QG),e.rXU(ni.tw),e.rXU(St.Ix),e.rXU(hs.M),e.rXU(Hr.u),e.rXU(Es.D),e.rXU(Qm.B),e.rXU(Fs),e.rXU(gs.X),e.rXU(Oo.X),e.rXU(js.w))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-shared-base"]],viewQuery:function(a,d){if(1&a&&(e.GBs(uI,5),e.GBs(dI,5)),2&a){let D;e.mGM(D=e.lsd())&&(d.sameSiteBrowserNotification=D.first),e.mGM(D=e.lsd())&&(d.defaultUserResolveButton=D.first)}},ngContentSelectors:Sy,decls:20,vars:18,consts:[["commonNavItem",""],["commonSubNavItem",""],["commonLoader",""],["sameSiteBrowserNotification",""],["defaultUserResolveButton",""],["id","skipLink",1,"sr-only","sr-only-focusable","tw-block","tw-bg-grey-200","tw-px-4","tw-py-3","tw-font-semibold","tw-left-0","tw-top-0","tw-z-50","focus:tw-m-1","focus:tw-text-blue-500","focus:tw-fixed",3,"href"],["id","loggedInTopBarAlerts",4,"ngIf"],["id","metaMenu","class","tw-bg-primary-500 tw-border-b tw-border-primary-400 tw-text-white tw-text-xs tw-px-4",4,"ngIf"],["id","mainNavBar","class","tw-bg-primary-500 tw-text-primary-100 tw-relative tw-z-30","role","banner",3,"resize",4,"ngIf"],["id","main-content","role","main","tabindex","-1",1,"tw-bg-grey-100","tw-px-4","tw-pt-5","tw-pb-5","focus:tw-shadow-none","xs:tw-pb-20"],[3,"onSave","onCancel","actions","title","modalId","saveText"],["class","tw-container tw-pb-10 tw-mx-auto",4,"ngIf"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["id","footer","class","tw-bg-grey-200 tw-border-t tw-border-grey-300 tw-text-grey-600 tw-text-xs tw-h-12 tw-fixed tw-bottom-0 tw-inset-x-0 tw-z-30",4,"ngIf"],["id","loggedInTopBarAlerts"],["class","tw-bg-red-500 tw-text-white tw-text-xs tw-px-4","role","alert",4,"ngIf"],["class","tw-bg-red-500 tw-text-white tw-text-xs tw-px-4 tw-py-2","role","alert",4,"ngIf"],["id","licenseStarterModeNotification","class","tw-bg-orange-500 tw-text-primary-900 tw-text-xs tw-px-4 tw-py-2","role","alert",4,"ngIf"],["id","licenseExpiredNotification","class","tw-bg-red-500 tw-text-white tw-text-xs tw-px-4 tw-py-2","role","alert",4,"ngIf"],["role","alert",1,"tw-bg-red-500","tw-text-white","tw-text-xs","tw-px-4"],[1,"tw-container","tw-mx-auto","tw-text-left"],[1,"tw-flex","tw-items-center"],[1,"tw-w-full","tw-left-0"],[1,"tw-flex","tw-items-center","tw-text-body","tw-text-md","tw-py-2","tw-text-white"],[1,"tw-block","tw-w-full"],[1,"tw-block","tw-underline","hover:tw-no-underline","tw-ml-2","tw-shrink-0",3,"click"],["role","alert",1,"tw-bg-red-500","tw-text-white","tw-text-xs","tw-px-4","tw-py-2"],[1,"tw-text-black","tw-bg-white","tw-btn","tw-block","tw-ml-2","tw-shrink-0",3,"click"],["id","licenseStarterModeNotification","role","alert",1,"tw-bg-orange-500","tw-text-primary-900","tw-text-xs","tw-px-4","tw-py-2"],[1,"tw-flex","tw-items-center","tw-text-body","tw-text-md","tw-py-2","tw-text-primary-900"],["id","licenseExpiredNotification","role","alert",1,"tw-bg-red-500","tw-text-white","tw-text-xs","tw-px-4","tw-py-2"],["id","metaMenu",1,"tw-bg-primary-500","tw-border-b","tw-border-primary-400","tw-text-white","tw-text-xs","tw-px-4"],[1,"tw-flex","tw-items-center","tw-h-8"],[3,"ngClass",4,"ngIf"],[1,"tw-hidden","tw-items-center","tw-ml-auto","sm:tw-flex"],["aria-hidden","true",1,"fad","fa-user-lock","tw-mr-2",2,"--fa-secondary-color","#4DAC4D","--fa-secondary-opacity","1.0"],[1,"tw-font-semibold"],["aria-hidden","true",1,"tw-mx-3","tw-opacity-50","tw-text-base"],["tabindex","0",1,"tw-self-stretch","tw-flex","tw-items-center","tw-ml-auto","tw-text-white","tw-font-normal","tw-cursor-pointer","hover:tw-underline","sm:tw-ml-0","trans",3,"click"],[3,"ngClass"],["id","mainNavBar","role","banner",1,"tw-bg-primary-500","tw-text-primary-100","tw-relative","tw-z-30",3,"resize"],[1,"tw-container","tw-text-left","tw-mx-auto"],[1,"lg:tw-flex"],["id","navMenuTitle",1,"sr-only"],[1,"tw-flex","tw-justify-between","tw-h-header","tw-ml-4","xl:tw-mr-4","max:tw-ml-0"],[1,"tw-flex","tw-items-center","tw-justify-center","tw-shrink-0",3,"routerLink"],["src","/assets/img/logo-persimmon.png","alt","","aria-hidden","true",1,"tw-w-8"],[1,"sr-only"],["id","mainMenu","aria-controls","mainMenu",1,"tw-shrink-0","tw-text-xl","tw-w-header","lg:tw-hidden",3,"click"],["class","fas fa-bars fa-fw","aria-hidden","true",4,"ngIf"],["class","fas fa-times fa-fw","aria-hidden","true",4,"ngIf"],["id","mainNavLinks","class","tw-bg-primary-700 tw-relative lg:tw-flex lg:tw-bg-transparent","role","navigation","aria-labelledby","navMenuTitle",4,"ngIf"],["aria-hidden","true",1,"fas","fa-bars","fa-fw"],["aria-hidden","true",1,"fas","fa-times","fa-fw"],["id","mainNavLinks","role","navigation","aria-labelledby","navMenuTitle",1,"tw-bg-primary-700","tw-relative","lg:tw-flex","lg:tw-bg-transparent"],["class","tw-block tw-bg-primary-700 tw-opacity-75 lg:tw-bg-primary-500 tw-absolute tw-inset-0 tw-z-20",4,"ngIf"],[3,"id","title","classes","activeClass","route","display"],[1,"lg:tw-hidden"],[1,"tw-flex","tw-items-center","tw-text-primary-200","tw-font-semibold","tw-h-header","tw-px-4","tw-w-full","tw-truncate","hover:tw-bg-primary-600","hover:tw-text-white","focus:tw-bg-primary-600","focus:tw-text-white","lg:tw-px-6","xl:tw-px-8",3,"click"],[1,"tw-block","tw-bg-primary-700","tw-opacity-75","lg:tw-bg-primary-500","tw-absolute","tw-inset-0","tw-z-20"],[3,"class","id",4,"ngIf"],[3,"id"],[1,"tw-nav","tw-flex","tw-items-center","tw-text-primary-200","tw-relative","tw-truncate","hover:tw-text-white","focus:tw-text-white",3,"ngClass","routerLinkActive","routerLink"],["class","upgradeSymbol tw-text-secondary-500 tw-text-sm tw-pl-1 tw-font-normal tw-py-3 lg:tw-px-1",4,"ngIf"],[1,"upgradeSymbol","tw-text-secondary-500","tw-text-sm","tw-pl-1","tw-font-normal","tw-py-3","lg:tw-px-1"],["aria-hidden","true",1,"far","fa-arrow-alt-circle-up"],["ngbDropdownItem","",1,"tw-nav","tw-flex","tw-items-center","tw-text-primary-200","tw-relative","tw-truncate","hover:tw-text-white","focus:tw-text-white",3,"ngClass","routerLinkActive","routerLink"],[1,"tw-container","tw-pb-10","tw-mx-auto"],["role","alert",1,"tw-alert-danger"],[1,"tw-text-sm","tw-font-semibold"],["class","tw-fixed tw-w-full tw-bottom-0 tw-left-0 tw-z-40",4,"ngIf"],[1,"tw-fixed","tw-w-full","tw-bottom-0","tw-left-0","tw-z-40"],[1,"tw-flex","tw-items-center","tw-bg-orange-500","tw-shadow-toast","tw-text-body","tw-text-sm","tw-px-4","tw-py-3"],[1,"fad","fa-spinner-third","fa-spin","tw-mr-2"],[1,"tw-block"],["id","footer",1,"tw-bg-grey-200","tw-border-t","tw-border-grey-300","tw-text-grey-600","tw-text-xs","tw-h-12","tw-fixed","tw-bottom-0","tw-inset-x-0","tw-z-30"],["id","jumpToTop",1,"tw-hidden","tw-items-center","tw-justify-center","tw-bg-grey-400","tw-m-2","tw-w-8","tw-h-8","tw-text-grey-800","tw-rounded","tw-cursor-pointer","tw-fixed","tw-right-0","tw-bottom-0","trans-bg","hover:tw-bg-grey-500","max:tw-flex",3,"click"],["aria-hidden","true",1,"fas","fa-chevron-up"],[1,"tw-flex","tw-items-center","tw-h-12","tw-px-4"],[1,"tw-flex","tw-items-center","tw-justify-center","tw-container","tw-w-full","tw-mx-auto","md:tw-justify-between"],[1,"tw-text-center","md:tw-text-left"],[1,"tw-mr-2","md:tw-mr-3"],["id","RSKBackLink","href","https://www.rocksolidknowledge.com/","target","_blank",1,"tw-text-grey-600","tw-font-normal","hover:tw-text-grey-700","tw-transition-all","tw-ease-in-out"],[1,"tw-hidden","tw-items-center","md:tw-flex"],[1,"tw-flex","tw-items-center","tw-mr-2"],["href","documentation/index.html","target","_blank",1,"tw-text-grey-600","tw-font-normal","hover:tw-text-grey-700","tw-transition-all","tw-ease-in-out"],["aria-hidden","true",1,"tw-ml-2","tw-opacity-50","tw-text-sm"],["href","mailto:support@rocksolidknowledge.zendesk.com","target","_blank",1,"tw-text-grey-600","tw-font-normal","hover:tw-text-grey-700","tw-transition-all","tw-ease-in-out"]],template:function(a,d){if(1&a){const D=e.RV6();e.NAR(hI),e.j41(0,"a",5),e.EFF(1),e.nI1(2,"translate"),e.k0s(),e.DNE(3,BE,5,4,"div",6)(4,LE,14,8,"nav",7)(5,jE,20,20,"header",8)(6,Dy,1,1,"ng-template",null,0,e.C5r)(8,HE,1,1,"ng-template",null,1,e.C5r),e.j41(10,"main",9)(11,"app-custom-modal",10),e.bIt("onSave",function(){return e.eBV(D),e.Njj(d.removeDefaultUser())})("onCancel",function(){return e.eBV(D),e.Njj(d.cancelDefaultUserDelete())}),e.j41(12,"p"),e.EFF(13," To secure your AdminUI, the 'info@rocksolidknowledge' Administrator needs to be removed from your database "),e.k0s()(),e.DNE(14,Eg,9,6,"div",11)(15,WE,1,0,"router-outlet",12),e.k0s(),e.DNE(16,Ry,1,0,"ng-container",13)(17,KE,1,1,"ng-template",null,2,e.C5r)(19,zE,26,14,"footer",14)}if(2&a){const D=e.sdS(18);e.Y8G("href",d.skipLinkPath,e.B4B),e.R7$(),e.SpI(" ",e.bMT(2,14,"Nav.SkipToContent"),"\n"),e.R7$(2),e.Y8G("ngIf",d.appComponentViewConfig.showNav),e.R7$(),e.Y8G("ngIf",d.appComponentViewConfig.showBanner),e.R7$(),e.Y8G("ngIf",d.appComponentViewConfig.showNav),e.R7$(6),e.Y8G("actions",d.resolveModalActions)("title","Remove Default Administrator")("modalId",d.defaultUserRemovalModalId)("saveText","Remove User"),e.R7$(3),e.Y8G("ngIf",d.securityService.noPermissions),e.R7$(),e.Y8G("ngIf",!d.securityService.noPermissions),e.R7$(),e.Y8G("ngTemplateOutlet",D)("ngTemplateOutletContext",e.eq3(16,Bf,!d.healthCheckService.idsReady)),e.R7$(3),e.Y8G("ngIf",d.appComponentViewConfig.showFooter)}},dependencies:[Cn.YU,Cn.bT,Cn.T3,Id,ff,qm.G,St.n3,St.Wk,St.wQ,kE,Mn.D9,$i.tl],encapsulation:2,data:{animation:[(0,Kc.l1)(),(0,Kc.Ws)()]}})}}return s})();const Sg=["resourcesMenu"];function XE(s,g){if(1&s&&(e.j41(0,"li",2)(1,"button",3)(2,"span",4),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.nrm(5,"span",5),e.k0s(),e.j41(6,"div",6),e.nI1(7,"translate"),e.j41(8,"ul",7),e.nrm(9,"app-nav-item",8),e.nI1(10,"translate"),e.nrm(11,"app-nav-item",8),e.nI1(12,"translate"),e.k0s()()()),2&s){const i=e.XpG();e.Y8G("autoClose",!0),e.R7$(),e.AVh("tw-nav-active",i.isApplicationRoute()),e.R7$(2),e.JRh(e.bMT(4,19,"Nav.Applications")),e.R7$(3),e.BMQ("aria-label",e.bMT(7,21,"Nav.Resources")),e.R7$(3),e.Y8G("id","app-nav-item-clients")("title",e.bMT(10,23,"Nav.Clients"))("classes","")("activeClass","tw-subnav-active")("sub",!0)("route","/applications/clients")("display",!0),e.R7$(2),e.Y8G("id","app-nav-item-apis")("title",e.bMT(12,25,"Nav.Apis"))("classes","")("activeClass","tw-subnav-active")("sub",!0)("route","/applications/apis")("display",!0)}}let xy=(()=>{class s{constructor(i,a,d){this.securityService=i,this.licenseService=a,this.router=d,this.subscriptions=[],this.licenseIsInStarterMode=!1}ngOnInit(){this.setupLongLivedSubscriptions()}ngOnDestroy(){this.subscriptions.forEach(i=>i.unsubscribe())}setupLongLivedSubscriptions(){this.subscriptions.push(this.licenseService.getLicenseInfo().subscribe(i=>{this.licenseIsInStarterMode=i.isStarterLicense()}))}isApplicationRoute(){return this.router.url.includes("/applications")}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(ui.i),e.rXU(Oo.X),e.rXU(St.Ix))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-root"]],viewQuery:function(a,d){if(1&a&&e.GBs(Sg,5),2&a){let D;e.mGM(D=e.lsd())&&(d.resourcesMenu=D.first)}},decls:3,vars:1,consts:[["navigation",""],["class","","ngbDropdown","",3,"autoClose",4,"ngIf"],["ngbDropdown","",1,"",3,"autoClose"],["tabindex","0","ngbDropdownToggle","","id","menuApplicationsToggle","type","button",1,"tw-flex","tw-items-center","tw-text-primary-200","tw-font-semibold","tw-h-header","tw-w-full","tw-px-4","tw-relative","tw-truncate","hover:tw-text-white","focus:tw-text-white","lg:tw-px-6","xl:tw-px-8","tw-transition-all","tw-ease-in-out"],[1,"tw-block","tw-truncate"],["aria-hidden","true",1,"fas","fa-caret-down","tw-text-xs","tw-ml-2","tw-opacity-50"],["ngbDropdownMenu","","aria-labelledby","menuResourcesToggle",1,"tw-bg-primary-800","lg:tw-bg-primary-500","-mt-4"],["role","menu",1,"lg:tw-pt-2","lg:tw-pb-3"],[3,"id","title","classes","activeClass","sub","route","display"]],template:function(a,d){1&a&&(e.j41(0,"app-shared-base"),e.qex(1,0),e.DNE(2,XE,13,27,"li",1),e.bVm(),e.k0s()),2&a&&(e.R7$(2),e.Y8G("ngIf",d.securityService.identityServerManagerView||d.securityService.identityServerManagerReadOnlyView))},dependencies:[YE,Cn.bT,pf,_m,Dd,kE,Mn.D9],encapsulation:2,data:{animation:[(0,Kc.l1)(),(0,Kc.Ws)()]}})}}return s})();function JE(s,g,i,a){return new _0(s,g,i,a,"resources/locales.json?cb="+Nn)}function QE(s){return new ow(s,"./resources/",".json?cb="+Nn)}let ZE=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s,bootstrap:[xy]})}static{this.\u0275inj=e.G2t({providers:[Bm.F,mh.n,Es.D,ui.i,wr.h,Mr._,jd.q,bp.a,vy.g,fs.P,Jd.m,Ke.X,Vt.Vk,Y_.M,Fu.v,y0.R,Fd,$i.QG,hs.M,Fs,Mn.c$,Oo.X,js.w,b0.B,ee.I,eh.D,ul.x,Tf,{provide:$c.x,useClass:$c.P},{provide:w.a7,useClass:Fm,multi:!0},{provide:w.a7,useClass:cu,multi:!0}],imports:[s_,Hd,Cn.MD,p.YN,p.X1,Kn,w.q1,cc.Y,z_,gy,_g.StarterModeModule,ep,jc.p,Ug.P,Mn.h.forRoot({loader:{provide:Mn.Wr,useFactory:QE,deps:[w.Qq]}}),$i.XE.forRoot(lc,{parser:{provide:$i.xq,useFactory:JE,deps:[Mn.c$,Cn.aZ,$i.wY,w.Qq]}}),kt.Q_.forRoot(),Et.jr.forRoot(),Re.Ss.forRoot(),Je.h6.forRoot(),ni._B.forRoot(),Al.M,d1,No.c,co.h,Yl.N,dc.w,Tl.Y,bg,$i.XE]})}}return s})();(0,e.SmG)(),n.sG().bootstrapModule(ZE)},3981:(nt,fe)=>{"use strict";fe.byteLength=function m(b){var M=C(b),N=M[1];return 3*(M[0]+N)/4-N},fe.toByteArray=function f(b){var M,$,k=C(b),N=k[0],G=k[1],R=new e(function u(b,M,k){return 3*(M+k)/4-k}(0,N,G)),j=0,U=G>0?N-4:N;for($=0;$<U;$+=4)M=n[b.charCodeAt($)]<<18|n[b.charCodeAt($+1)]<<12|n[b.charCodeAt($+2)]<<6|n[b.charCodeAt($+3)],R[j++]=M>>16&255,R[j++]=M>>8&255,R[j++]=255&M;return 2===G&&(M=n[b.charCodeAt($)]<<2|n[b.charCodeAt($+1)]>>4,R[j++]=255&M),1===G&&(M=n[b.charCodeAt($)]<<10|n[b.charCodeAt($+1)]<<4|n[b.charCodeAt($+2)]>>2,R[j++]=M>>8&255,R[j++]=255&M),R},fe.fromByteArray=function F(b){for(var M,k=b.length,N=k%3,G=[],R=16383,j=0,U=k-N;j<U;j+=R)G.push(O(b,j,j+R>U?U:j+R));return 1===N?G.push(h[(M=b[k-1])>>2]+h[M<<4&63]+"=="):2===N&&G.push(h[(M=(b[k-2]<<8)+b[k-1])>>10]+h[M>>4&63]+h[M<<2&63]+"="),G.join("")};for(var h=[],n=[],e=typeof Uint8Array<"u"?Uint8Array:Array,y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=0;p<64;++p)h[p]=y[p],n[y.charCodeAt(p)]=p;function C(b){var M=b.length;if(M%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var k=b.indexOf("=");return-1===k&&(k=M),[k,k===M?0:4-k%4]}function T(b){return h[b>>18&63]+h[b>>12&63]+h[b>>6&63]+h[63&b]}function O(b,M,k){for(var G=[],R=M;R<k;R+=3)G.push(T((b[R]<<16&16711680)+(b[R+1]<<8&65280)+(255&b[R+2])));return G.join("")}n[45]=62,n[95]=63},3838:(nt,fe,h)=>{"use strict";const e=h(3981),y=h(2020),p="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;fe.hp=u,fe.IS=50;const w=2147483647;function m(ce){if(ce>w)throw new RangeError('The value "'+ce+'" is invalid for option "size"');const X=new Uint8Array(ce);return Object.setPrototypeOf(X,u.prototype),X}function u(ce,X,oe){if("number"==typeof ce){if("string"==typeof X)throw new TypeError('The "string" argument must be of type string. Received type number');return F(ce)}return f(ce,X,oe)}function f(ce,X,oe){if("string"==typeof ce)return function b(ce,X){if(("string"!=typeof X||""===X)&&(X="utf8"),!u.isEncoding(X))throw new TypeError("Unknown encoding: "+X);const oe=0|U(ce,X);let Ve=m(oe);const tt=Ve.write(ce,X);return tt!==oe&&(Ve=Ve.slice(0,tt)),Ve}(ce,X);if(ArrayBuffer.isView(ce))return function k(ce){if(Kt(ce,Uint8Array)){const X=new Uint8Array(ce);return N(X.buffer,X.byteOffset,X.byteLength)}return M(ce)}(ce);if(null==ce)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ce);if(Kt(ce,ArrayBuffer)||ce&&Kt(ce.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Kt(ce,SharedArrayBuffer)||ce&&Kt(ce.buffer,SharedArrayBuffer)))return N(ce,X,oe);if("number"==typeof ce)throw new TypeError('The "value" argument must not be of type number. Received type number');const Ve=ce.valueOf&&ce.valueOf();if(null!=Ve&&Ve!==ce)return u.from(Ve,X,oe);const tt=function G(ce){if(u.isBuffer(ce)){const X=0|R(ce.length),oe=m(X);return 0===oe.length||ce.copy(oe,0,0,X),oe}return void 0!==ce.length?"number"!=typeof ce.length||sn(ce.length)?m(0):M(ce):"Buffer"===ce.type&&Array.isArray(ce.data)?M(ce.data):void 0}(ce);if(tt)return tt;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof ce[Symbol.toPrimitive])return u.from(ce[Symbol.toPrimitive]("string"),X,oe);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ce)}function T(ce){if("number"!=typeof ce)throw new TypeError('"size" argument must be of type number');if(ce<0)throw new RangeError('The value "'+ce+'" is invalid for option "size"')}function F(ce){return T(ce),m(ce<0?0:0|R(ce))}function M(ce){const X=ce.length<0?0:0|R(ce.length),oe=m(X);for(let Ve=0;Ve<X;Ve+=1)oe[Ve]=255&ce[Ve];return oe}function N(ce,X,oe){if(X<0||ce.byteLength<X)throw new RangeError('"offset" is outside of buffer bounds');if(ce.byteLength<X+(oe||0))throw new RangeError('"length" is outside of buffer bounds');let Ve;return Ve=void 0===X&&void 0===oe?new Uint8Array(ce):void 0===oe?new Uint8Array(ce,X):new Uint8Array(ce,X,oe),Object.setPrototypeOf(Ve,u.prototype),Ve}function R(ce){if(ce>=w)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+w.toString(16)+" bytes");return 0|ce}function U(ce,X){if(u.isBuffer(ce))return ce.length;if(ArrayBuffer.isView(ce)||Kt(ce,ArrayBuffer))return ce.byteLength;if("string"!=typeof ce)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof ce);const oe=ce.length,Ve=arguments.length>2&&!0===arguments[2];if(!Ve&&0===oe)return 0;let tt=!1;for(;;)switch(X){case"ascii":case"latin1":case"binary":return oe;case"utf8":case"utf-8":return Be(ce).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*oe;case"hex":return oe>>>1;case"base64":return mt(ce).length;default:if(tt)return Ve?-1:Be(ce).length;X=(""+X).toLowerCase(),tt=!0}}function $(ce,X,oe){let Ve=!1;if((void 0===X||X<0)&&(X=0),X>this.length||((void 0===oe||oe>this.length)&&(oe=this.length),oe<=0)||(oe>>>=0)<=(X>>>=0))return"";for(ce||(ce="utf8");;)switch(ce){case"hex":return be(this,X,oe);case"utf8":case"utf-8":return Ne(this,X,oe);case"ascii":return Qe(this,X,oe);case"latin1":case"binary":return Se(this,X,oe);case"base64":return me(this,X,oe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return le(this,X,oe);default:if(Ve)throw new TypeError("Unknown encoding: "+ce);ce=(ce+"").toLowerCase(),Ve=!0}}function ie(ce,X,oe){const Ve=ce[X];ce[X]=ce[oe],ce[oe]=Ve}function se(ce,X,oe,Ve,tt){if(0===ce.length)return-1;if("string"==typeof oe?(Ve=oe,oe=0):oe>2147483647?oe=2147483647:oe<-2147483648&&(oe=-2147483648),sn(oe=+oe)&&(oe=tt?0:ce.length-1),oe<0&&(oe=ce.length+oe),oe>=ce.length){if(tt)return-1;oe=ce.length-1}else if(oe<0){if(!tt)return-1;oe=0}if("string"==typeof X&&(X=u.from(X,Ve)),u.isBuffer(X))return 0===X.length?-1:L(ce,X,oe,Ve,tt);if("number"==typeof X)return X&=255,"function"==typeof Uint8Array.prototype.indexOf?tt?Uint8Array.prototype.indexOf.call(ce,X,oe):Uint8Array.prototype.lastIndexOf.call(ce,X,oe):L(ce,[X],oe,Ve,tt);throw new TypeError("val must be string, number or Buffer")}function L(ce,X,oe,Ve,tt){let An,gt=1,Bt=ce.length,cn=X.length;if(void 0!==Ve&&("ucs2"===(Ve=String(Ve).toLowerCase())||"ucs-2"===Ve||"utf16le"===Ve||"utf-16le"===Ve)){if(ce.length<2||X.length<2)return-1;gt=2,Bt/=2,cn/=2,oe/=2}function hn(xn,Bn){return 1===gt?xn[Bn]:xn.readUInt16BE(Bn*gt)}if(tt){let xn=-1;for(An=oe;An<Bt;An++)if(hn(ce,An)===hn(X,-1===xn?0:An-xn)){if(-1===xn&&(xn=An),An-xn+1===cn)return xn*gt}else-1!==xn&&(An-=An-xn),xn=-1}else for(oe+cn>Bt&&(oe=Bt-cn),An=oe;An>=0;An--){let xn=!0;for(let Bn=0;Bn<cn;Bn++)if(hn(ce,An+Bn)!==hn(X,Bn)){xn=!1;break}if(xn)return An}return-1}function J(ce,X,oe,Ve){oe=Number(oe)||0;const tt=ce.length-oe;Ve?(Ve=Number(Ve))>tt&&(Ve=tt):Ve=tt;const gt=X.length;let Bt;for(Ve>gt/2&&(Ve=gt/2),Bt=0;Bt<Ve;++Bt){const cn=parseInt(X.substr(2*Bt,2),16);if(sn(cn))return Bt;ce[oe+Bt]=cn}return Bt}function q(ce,X,oe,Ve){return it(Be(X,ce.length-oe),ce,oe,Ve)}function S(ce,X,oe,Ve){return it(function ot(ce){const X=[];for(let oe=0;oe<ce.length;++oe)X.push(255&ce.charCodeAt(oe));return X}(X),ce,oe,Ve)}function re(ce,X,oe,Ve){return it(mt(X),ce,oe,Ve)}function K(ce,X,oe,Ve){return it(function Pt(ce,X){let oe,Ve,tt;const gt=[];for(let Bt=0;Bt<ce.length&&!((X-=2)<0);++Bt)oe=ce.charCodeAt(Bt),Ve=oe>>8,tt=oe%256,gt.push(tt),gt.push(Ve);return gt}(X,ce.length-oe),ce,oe,Ve)}function me(ce,X,oe){return e.fromByteArray(0===X&&oe===ce.length?ce:ce.slice(X,oe))}function Ne(ce,X,oe){oe=Math.min(ce.length,oe);const Ve=[];let tt=X;for(;tt<oe;){const gt=ce[tt];let Bt=null,cn=gt>239?4:gt>223?3:gt>191?2:1;if(tt+cn<=oe){let hn,An,xn,Bn;switch(cn){case 1:gt<128&&(Bt=gt);break;case 2:hn=ce[tt+1],128==(192&hn)&&(Bn=(31&gt)<<6|63&hn,Bn>127&&(Bt=Bn));break;case 3:hn=ce[tt+1],An=ce[tt+2],128==(192&hn)&&128==(192&An)&&(Bn=(15&gt)<<12|(63&hn)<<6|63&An,Bn>2047&&(Bn<55296||Bn>57343)&&(Bt=Bn));break;case 4:hn=ce[tt+1],An=ce[tt+2],xn=ce[tt+3],128==(192&hn)&&128==(192&An)&&128==(192&xn)&&(Bn=(15&gt)<<18|(63&hn)<<12|(63&An)<<6|63&xn,Bn>65535&&Bn<1114112&&(Bt=Bn))}}null===Bt?(Bt=65533,cn=1):Bt>65535&&(Bt-=65536,Ve.push(Bt>>>10&1023|55296),Bt=56320|1023&Bt),Ve.push(Bt),tt+=cn}return function xe(ce){const X=ce.length;if(X<=De)return String.fromCharCode.apply(String,ce);let oe="",Ve=0;for(;Ve<X;)oe+=String.fromCharCode.apply(String,ce.slice(Ve,Ve+=De));return oe}(Ve)}!(u.TYPED_ARRAY_SUPPORT=function C(){try{const ce=new Uint8Array(1),X={foo:function(){return 42}};return Object.setPrototypeOf(X,Uint8Array.prototype),Object.setPrototypeOf(ce,X),42===ce.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(ce,X,oe){return f(ce,X,oe)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(ce,X,oe){return function O(ce,X,oe){return T(ce),ce<=0?m(ce):void 0!==X?"string"==typeof oe?m(ce).fill(X,oe):m(ce).fill(X):m(ce)}(ce,X,oe)},u.allocUnsafe=function(ce){return F(ce)},u.allocUnsafeSlow=function(ce){return F(ce)},u.isBuffer=function(X){return null!=X&&!0===X._isBuffer&&X!==u.prototype},u.compare=function(X,oe){if(Kt(X,Uint8Array)&&(X=u.from(X,X.offset,X.byteLength)),Kt(oe,Uint8Array)&&(oe=u.from(oe,oe.offset,oe.byteLength)),!u.isBuffer(X)||!u.isBuffer(oe))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(X===oe)return 0;let Ve=X.length,tt=oe.length;for(let gt=0,Bt=Math.min(Ve,tt);gt<Bt;++gt)if(X[gt]!==oe[gt]){Ve=X[gt],tt=oe[gt];break}return Ve<tt?-1:tt<Ve?1:0},u.isEncoding=function(X){switch(String(X).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(X,oe){if(!Array.isArray(X))throw new TypeError('"list" argument must be an Array of Buffers');if(0===X.length)return u.alloc(0);let Ve;if(void 0===oe)for(oe=0,Ve=0;Ve<X.length;++Ve)oe+=X[Ve].length;const tt=u.allocUnsafe(oe);let gt=0;for(Ve=0;Ve<X.length;++Ve){let Bt=X[Ve];if(Kt(Bt,Uint8Array))gt+Bt.length>tt.length?(u.isBuffer(Bt)||(Bt=u.from(Bt)),Bt.copy(tt,gt)):Uint8Array.prototype.set.call(tt,Bt,gt);else{if(!u.isBuffer(Bt))throw new TypeError('"list" argument must be an Array of Buffers');Bt.copy(tt,gt)}gt+=Bt.length}return tt},u.byteLength=U,u.prototype._isBuffer=!0,u.prototype.swap16=function(){const X=this.length;if(X%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let oe=0;oe<X;oe+=2)ie(this,oe,oe+1);return this},u.prototype.swap32=function(){const X=this.length;if(X%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let oe=0;oe<X;oe+=4)ie(this,oe,oe+3),ie(this,oe+1,oe+2);return this},u.prototype.swap64=function(){const X=this.length;if(X%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let oe=0;oe<X;oe+=8)ie(this,oe,oe+7),ie(this,oe+1,oe+6),ie(this,oe+2,oe+5),ie(this,oe+3,oe+4);return this},u.prototype.toLocaleString=u.prototype.toString=function(){const X=this.length;return 0===X?"":0===arguments.length?Ne(this,0,X):$.apply(this,arguments)},u.prototype.equals=function(X){if(!u.isBuffer(X))throw new TypeError("Argument must be a Buffer");return this===X||0===u.compare(this,X)},u.prototype.inspect=function(){let X="";const oe=fe.IS;return X=this.toString("hex",0,oe).replace(/(.{2})/g,"$1 ").trim(),this.length>oe&&(X+=" ... "),"<Buffer "+X+">"},p&&(u.prototype[p]=u.prototype.inspect),u.prototype.compare=function(X,oe,Ve,tt,gt){if(Kt(X,Uint8Array)&&(X=u.from(X,X.offset,X.byteLength)),!u.isBuffer(X))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof X);if(void 0===oe&&(oe=0),void 0===Ve&&(Ve=X?X.length:0),void 0===tt&&(tt=0),void 0===gt&&(gt=this.length),oe<0||Ve>X.length||tt<0||gt>this.length)throw new RangeError("out of range index");if(tt>=gt&&oe>=Ve)return 0;if(tt>=gt)return-1;if(oe>=Ve)return 1;if(this===X)return 0;let Bt=(gt>>>=0)-(tt>>>=0),cn=(Ve>>>=0)-(oe>>>=0);const hn=Math.min(Bt,cn),An=this.slice(tt,gt),xn=X.slice(oe,Ve);for(let Bn=0;Bn<hn;++Bn)if(An[Bn]!==xn[Bn]){Bt=An[Bn],cn=xn[Bn];break}return Bt<cn?-1:cn<Bt?1:0},u.prototype.includes=function(X,oe,Ve){return-1!==this.indexOf(X,oe,Ve)},u.prototype.indexOf=function(X,oe,Ve){return se(this,X,oe,Ve,!0)},u.prototype.lastIndexOf=function(X,oe,Ve){return se(this,X,oe,Ve,!1)},u.prototype.write=function(X,oe,Ve,tt){if(void 0===oe)tt="utf8",Ve=this.length,oe=0;else if(void 0===Ve&&"string"==typeof oe)tt=oe,Ve=this.length,oe=0;else{if(!isFinite(oe))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");oe>>>=0,isFinite(Ve)?(Ve>>>=0,void 0===tt&&(tt="utf8")):(tt=Ve,Ve=void 0)}const gt=this.length-oe;if((void 0===Ve||Ve>gt)&&(Ve=gt),X.length>0&&(Ve<0||oe<0)||oe>this.length)throw new RangeError("Attempt to write outside buffer bounds");tt||(tt="utf8");let Bt=!1;for(;;)switch(tt){case"hex":return J(this,X,oe,Ve);case"utf8":case"utf-8":return q(this,X,oe,Ve);case"ascii":case"latin1":case"binary":return S(this,X,oe,Ve);case"base64":return re(this,X,oe,Ve);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return K(this,X,oe,Ve);default:if(Bt)throw new TypeError("Unknown encoding: "+tt);tt=(""+tt).toLowerCase(),Bt=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const De=4096;function Qe(ce,X,oe){let Ve="";oe=Math.min(ce.length,oe);for(let tt=X;tt<oe;++tt)Ve+=String.fromCharCode(127&ce[tt]);return Ve}function Se(ce,X,oe){let Ve="";oe=Math.min(ce.length,oe);for(let tt=X;tt<oe;++tt)Ve+=String.fromCharCode(ce[tt]);return Ve}function be(ce,X,oe){const Ve=ce.length;(!X||X<0)&&(X=0),(!oe||oe<0||oe>Ve)&&(oe=Ve);let tt="";for(let gt=X;gt<oe;++gt)tt+=Ft[ce[gt]];return tt}function le(ce,X,oe){const Ve=ce.slice(X,oe);let tt="";for(let gt=0;gt<Ve.length-1;gt+=2)tt+=String.fromCharCode(Ve[gt]+256*Ve[gt+1]);return tt}function Fe(ce,X,oe){if(ce%1!=0||ce<0)throw new RangeError("offset is not uint");if(ce+X>oe)throw new RangeError("Trying to access beyond buffer length")}function Te(ce,X,oe,Ve,tt,gt){if(!u.isBuffer(ce))throw new TypeError('"buffer" argument must be a Buffer instance');if(X>tt||X<gt)throw new RangeError('"value" argument is out of bounds');if(oe+Ve>ce.length)throw new RangeError("Index out of range")}function st(ce,X,oe,Ve,tt){Y(X,Ve,tt,ce,oe,7);let gt=Number(X&BigInt(4294967295));ce[oe++]=gt,gt>>=8,ce[oe++]=gt,gt>>=8,ce[oe++]=gt,gt>>=8,ce[oe++]=gt;let Bt=Number(X>>BigInt(32)&BigInt(4294967295));return ce[oe++]=Bt,Bt>>=8,ce[oe++]=Bt,Bt>>=8,ce[oe++]=Bt,Bt>>=8,ce[oe++]=Bt,oe}function Oe(ce,X,oe,Ve,tt){Y(X,Ve,tt,ce,oe,7);let gt=Number(X&BigInt(4294967295));ce[oe+7]=gt,gt>>=8,ce[oe+6]=gt,gt>>=8,ce[oe+5]=gt,gt>>=8,ce[oe+4]=gt;let Bt=Number(X>>BigInt(32)&BigInt(4294967295));return ce[oe+3]=Bt,Bt>>=8,ce[oe+2]=Bt,Bt>>=8,ce[oe+1]=Bt,Bt>>=8,ce[oe]=Bt,oe+8}function pt(ce,X,oe,Ve,tt,gt){if(oe+Ve>ce.length)throw new RangeError("Index out of range");if(oe<0)throw new RangeError("Index out of range")}function Ye(ce,X,oe,Ve,tt){return X=+X,oe>>>=0,tt||pt(ce,0,oe,4),y.write(ce,X,oe,Ve,23,4),oe+4}function qt(ce,X,oe,Ve,tt){return X=+X,oe>>>=0,tt||pt(ce,0,oe,8),y.write(ce,X,oe,Ve,52,8),oe+8}u.prototype.slice=function(X,oe){const Ve=this.length;(X=~~X)<0?(X+=Ve)<0&&(X=0):X>Ve&&(X=Ve),(oe=void 0===oe?Ve:~~oe)<0?(oe+=Ve)<0&&(oe=0):oe>Ve&&(oe=Ve),oe<X&&(oe=X);const tt=this.subarray(X,oe);return Object.setPrototypeOf(tt,u.prototype),tt},u.prototype.readUintLE=u.prototype.readUIntLE=function(X,oe,Ve){X>>>=0,oe>>>=0,Ve||Fe(X,oe,this.length);let tt=this[X],gt=1,Bt=0;for(;++Bt<oe&&(gt*=256);)tt+=this[X+Bt]*gt;return tt},u.prototype.readUintBE=u.prototype.readUIntBE=function(X,oe,Ve){X>>>=0,oe>>>=0,Ve||Fe(X,oe,this.length);let tt=this[X+--oe],gt=1;for(;oe>0&&(gt*=256);)tt+=this[X+--oe]*gt;return tt},u.prototype.readUint8=u.prototype.readUInt8=function(X,oe){return X>>>=0,oe||Fe(X,1,this.length),this[X]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(X,oe){return X>>>=0,oe||Fe(X,2,this.length),this[X]|this[X+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(X,oe){return X>>>=0,oe||Fe(X,2,this.length),this[X]<<8|this[X+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(X,oe){return X>>>=0,oe||Fe(X,4,this.length),(this[X]|this[X+1]<<8|this[X+2]<<16)+16777216*this[X+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(X,oe){return X>>>=0,oe||Fe(X,4,this.length),16777216*this[X]+(this[X+1]<<16|this[X+2]<<8|this[X+3])},u.prototype.readBigUInt64LE=Jt(function(X){Z(X>>>=0,"offset");const oe=this[X],Ve=this[X+7];(void 0===oe||void 0===Ve)&&Ce(X,this.length-8);const tt=oe+256*this[++X]+65536*this[++X]+this[++X]*2**24,gt=this[++X]+256*this[++X]+65536*this[++X]+Ve*2**24;return BigInt(tt)+(BigInt(gt)<<BigInt(32))}),u.prototype.readBigUInt64BE=Jt(function(X){Z(X>>>=0,"offset");const oe=this[X],Ve=this[X+7];(void 0===oe||void 0===Ve)&&Ce(X,this.length-8);const tt=oe*2**24+65536*this[++X]+256*this[++X]+this[++X],gt=this[++X]*2**24+65536*this[++X]+256*this[++X]+Ve;return(BigInt(tt)<<BigInt(32))+BigInt(gt)}),u.prototype.readIntLE=function(X,oe,Ve){X>>>=0,oe>>>=0,Ve||Fe(X,oe,this.length);let tt=this[X],gt=1,Bt=0;for(;++Bt<oe&&(gt*=256);)tt+=this[X+Bt]*gt;return gt*=128,tt>=gt&&(tt-=Math.pow(2,8*oe)),tt},u.prototype.readIntBE=function(X,oe,Ve){X>>>=0,oe>>>=0,Ve||Fe(X,oe,this.length);let tt=oe,gt=1,Bt=this[X+--tt];for(;tt>0&&(gt*=256);)Bt+=this[X+--tt]*gt;return gt*=128,Bt>=gt&&(Bt-=Math.pow(2,8*oe)),Bt},u.prototype.readInt8=function(X,oe){return X>>>=0,oe||Fe(X,1,this.length),128&this[X]?-1*(255-this[X]+1):this[X]},u.prototype.readInt16LE=function(X,oe){X>>>=0,oe||Fe(X,2,this.length);const Ve=this[X]|this[X+1]<<8;return 32768&Ve?4294901760|Ve:Ve},u.prototype.readInt16BE=function(X,oe){X>>>=0,oe||Fe(X,2,this.length);const Ve=this[X+1]|this[X]<<8;return 32768&Ve?4294901760|Ve:Ve},u.prototype.readInt32LE=function(X,oe){return X>>>=0,oe||Fe(X,4,this.length),this[X]|this[X+1]<<8|this[X+2]<<16|this[X+3]<<24},u.prototype.readInt32BE=function(X,oe){return X>>>=0,oe||Fe(X,4,this.length),this[X]<<24|this[X+1]<<16|this[X+2]<<8|this[X+3]},u.prototype.readBigInt64LE=Jt(function(X){Z(X>>>=0,"offset");const oe=this[X],Ve=this[X+7];return(void 0===oe||void 0===Ve)&&Ce(X,this.length-8),(BigInt(this[X+4]+256*this[X+5]+65536*this[X+6]+(Ve<<24))<<BigInt(32))+BigInt(oe+256*this[++X]+65536*this[++X]+this[++X]*2**24)}),u.prototype.readBigInt64BE=Jt(function(X){Z(X>>>=0,"offset");const oe=this[X],Ve=this[X+7];(void 0===oe||void 0===Ve)&&Ce(X,this.length-8);const tt=(oe<<24)+65536*this[++X]+256*this[++X]+this[++X];return(BigInt(tt)<<BigInt(32))+BigInt(this[++X]*2**24+65536*this[++X]+256*this[++X]+Ve)}),u.prototype.readFloatLE=function(X,oe){return X>>>=0,oe||Fe(X,4,this.length),y.read(this,X,!0,23,4)},u.prototype.readFloatBE=function(X,oe){return X>>>=0,oe||Fe(X,4,this.length),y.read(this,X,!1,23,4)},u.prototype.readDoubleLE=function(X,oe){return X>>>=0,oe||Fe(X,8,this.length),y.read(this,X,!0,52,8)},u.prototype.readDoubleBE=function(X,oe){return X>>>=0,oe||Fe(X,8,this.length),y.read(this,X,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(X,oe,Ve,tt){X=+X,oe>>>=0,Ve>>>=0,tt||Te(this,X,oe,Ve,Math.pow(2,8*Ve)-1,0);let gt=1,Bt=0;for(this[oe]=255&X;++Bt<Ve&&(gt*=256);)this[oe+Bt]=X/gt&255;return oe+Ve},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(X,oe,Ve,tt){X=+X,oe>>>=0,Ve>>>=0,tt||Te(this,X,oe,Ve,Math.pow(2,8*Ve)-1,0);let gt=Ve-1,Bt=1;for(this[oe+gt]=255&X;--gt>=0&&(Bt*=256);)this[oe+gt]=X/Bt&255;return oe+Ve},u.prototype.writeUint8=u.prototype.writeUInt8=function(X,oe,Ve){return X=+X,oe>>>=0,Ve||Te(this,X,oe,1,255,0),this[oe]=255&X,oe+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(X,oe,Ve){return X=+X,oe>>>=0,Ve||Te(this,X,oe,2,65535,0),this[oe]=255&X,this[oe+1]=X>>>8,oe+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(X,oe,Ve){return X=+X,oe>>>=0,Ve||Te(this,X,oe,2,65535,0),this[oe]=X>>>8,this[oe+1]=255&X,oe+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(X,oe,Ve){return X=+X,oe>>>=0,Ve||Te(this,X,oe,4,4294967295,0),this[oe+3]=X>>>24,this[oe+2]=X>>>16,this[oe+1]=X>>>8,this[oe]=255&X,oe+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(X,oe,Ve){return X=+X,oe>>>=0,Ve||Te(this,X,oe,4,4294967295,0),this[oe]=X>>>24,this[oe+1]=X>>>16,this[oe+2]=X>>>8,this[oe+3]=255&X,oe+4},u.prototype.writeBigUInt64LE=Jt(function(X,oe=0){return st(this,X,oe,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=Jt(function(X,oe=0){return Oe(this,X,oe,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(X,oe,Ve,tt){if(X=+X,oe>>>=0,!tt){const hn=Math.pow(2,8*Ve-1);Te(this,X,oe,Ve,hn-1,-hn)}let gt=0,Bt=1,cn=0;for(this[oe]=255&X;++gt<Ve&&(Bt*=256);)X<0&&0===cn&&0!==this[oe+gt-1]&&(cn=1),this[oe+gt]=(X/Bt|0)-cn&255;return oe+Ve},u.prototype.writeIntBE=function(X,oe,Ve,tt){if(X=+X,oe>>>=0,!tt){const hn=Math.pow(2,8*Ve-1);Te(this,X,oe,Ve,hn-1,-hn)}let gt=Ve-1,Bt=1,cn=0;for(this[oe+gt]=255&X;--gt>=0&&(Bt*=256);)X<0&&0===cn&&0!==this[oe+gt+1]&&(cn=1),this[oe+gt]=(X/Bt|0)-cn&255;return oe+Ve},u.prototype.writeInt8=function(X,oe,Ve){return X=+X,oe>>>=0,Ve||Te(this,X,oe,1,127,-128),X<0&&(X=255+X+1),this[oe]=255&X,oe+1},u.prototype.writeInt16LE=function(X,oe,Ve){return X=+X,oe>>>=0,Ve||Te(this,X,oe,2,32767,-32768),this[oe]=255&X,this[oe+1]=X>>>8,oe+2},u.prototype.writeInt16BE=function(X,oe,Ve){return X=+X,oe>>>=0,Ve||Te(this,X,oe,2,32767,-32768),this[oe]=X>>>8,this[oe+1]=255&X,oe+2},u.prototype.writeInt32LE=function(X,oe,Ve){return X=+X,oe>>>=0,Ve||Te(this,X,oe,4,2147483647,-2147483648),this[oe]=255&X,this[oe+1]=X>>>8,this[oe+2]=X>>>16,this[oe+3]=X>>>24,oe+4},u.prototype.writeInt32BE=function(X,oe,Ve){return X=+X,oe>>>=0,Ve||Te(this,X,oe,4,2147483647,-2147483648),X<0&&(X=4294967295+X+1),this[oe]=X>>>24,this[oe+1]=X>>>16,this[oe+2]=X>>>8,this[oe+3]=255&X,oe+4},u.prototype.writeBigInt64LE=Jt(function(X,oe=0){return st(this,X,oe,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=Jt(function(X,oe=0){return Oe(this,X,oe,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeFloatLE=function(X,oe,Ve){return Ye(this,X,oe,!0,Ve)},u.prototype.writeFloatBE=function(X,oe,Ve){return Ye(this,X,oe,!1,Ve)},u.prototype.writeDoubleLE=function(X,oe,Ve){return qt(this,X,oe,!0,Ve)},u.prototype.writeDoubleBE=function(X,oe,Ve){return qt(this,X,oe,!1,Ve)},u.prototype.copy=function(X,oe,Ve,tt){if(!u.isBuffer(X))throw new TypeError("argument should be a Buffer");if(Ve||(Ve=0),!tt&&0!==tt&&(tt=this.length),oe>=X.length&&(oe=X.length),oe||(oe=0),tt>0&&tt<Ve&&(tt=Ve),tt===Ve||0===X.length||0===this.length)return 0;if(oe<0)throw new RangeError("targetStart out of bounds");if(Ve<0||Ve>=this.length)throw new RangeError("Index out of range");if(tt<0)throw new RangeError("sourceEnd out of bounds");tt>this.length&&(tt=this.length),X.length-oe<tt-Ve&&(tt=X.length-oe+Ve);const gt=tt-Ve;return this===X&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(oe,Ve,tt):Uint8Array.prototype.set.call(X,this.subarray(Ve,tt),oe),gt},u.prototype.fill=function(X,oe,Ve,tt){if("string"==typeof X){if("string"==typeof oe?(tt=oe,oe=0,Ve=this.length):"string"==typeof Ve&&(tt=Ve,Ve=this.length),void 0!==tt&&"string"!=typeof tt)throw new TypeError("encoding must be a string");if("string"==typeof tt&&!u.isEncoding(tt))throw new TypeError("Unknown encoding: "+tt);if(1===X.length){const Bt=X.charCodeAt(0);("utf8"===tt&&Bt<128||"latin1"===tt)&&(X=Bt)}}else"number"==typeof X?X&=255:"boolean"==typeof X&&(X=Number(X));if(oe<0||this.length<oe||this.length<Ve)throw new RangeError("Out of range index");if(Ve<=oe)return this;let gt;if(oe>>>=0,Ve=void 0===Ve?this.length:Ve>>>0,X||(X=0),"number"==typeof X)for(gt=oe;gt<Ve;++gt)this[gt]=X;else{const Bt=u.isBuffer(X)?X:u.from(X,tt),cn=Bt.length;if(0===cn)throw new TypeError('The value "'+X+'" is invalid for argument "value"');for(gt=0;gt<Ve-oe;++gt)this[gt+oe]=Bt[gt%cn]}return this};const jt={};function Dt(ce,X,oe){jt[ce]=class extends oe{constructor(){super(),Object.defineProperty(this,"message",{value:X.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${ce}]`,delete this.name}get code(){return ce}set code(tt){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:tt,writable:!0})}toString(){return`${this.name} [${ce}]: ${this.message}`}}}function wt(ce){let X="",oe=ce.length;const Ve="-"===ce[0]?1:0;for(;oe>=Ve+4;oe-=3)X=`_${ce.slice(oe-3,oe)}${X}`;return`${ce.slice(0,oe)}${X}`}function Y(ce,X,oe,Ve,tt,gt){if(ce>oe||ce<X){const Bt="bigint"==typeof X?"n":"";let cn;throw cn=gt>3?0===X||X===BigInt(0)?`>= 0${Bt} and < 2${Bt} ** ${8*(gt+1)}${Bt}`:`>= -(2${Bt} ** ${8*(gt+1)-1}${Bt}) and < 2 ** ${8*(gt+1)-1}${Bt}`:`>= ${X}${Bt} and <= ${oe}${Bt}`,new jt.ERR_OUT_OF_RANGE("value",cn,ce)}!function z(ce,X,oe){Z(X,"offset"),(void 0===ce[X]||void 0===ce[X+oe])&&Ce(X,ce.length-(oe+1))}(Ve,tt,gt)}function Z(ce,X){if("number"!=typeof ce)throw new jt.ERR_INVALID_ARG_TYPE(X,"number",ce)}function Ce(ce,X,oe){throw Math.floor(ce)!==ce?(Z(ce,oe),new jt.ERR_OUT_OF_RANGE(oe||"offset","an integer",ce)):X<0?new jt.ERR_BUFFER_OUT_OF_BOUNDS:new jt.ERR_OUT_OF_RANGE(oe||"offset",`>= ${oe?1:0} and <= ${X}`,ce)}Dt("ERR_BUFFER_OUT_OF_BOUNDS",function(ce){return ce?`${ce} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Dt("ERR_INVALID_ARG_TYPE",function(ce,X){return`The "${ce}" argument must be of type number. Received type ${typeof X}`},TypeError),Dt("ERR_OUT_OF_RANGE",function(ce,X,oe){let Ve=`The value of "${ce}" is out of range.`,tt=oe;return Number.isInteger(oe)&&Math.abs(oe)>2**32?tt=wt(String(oe)):"bigint"==typeof oe&&(tt=String(oe),(oe>BigInt(2)**BigInt(32)||oe<-(BigInt(2)**BigInt(32)))&&(tt=wt(tt)),tt+="n"),Ve+=` It must be ${X}. Received ${tt}`,Ve},RangeError);const we=/[^+/0-9A-Za-z-_]/g;function Be(ce,X){let oe;X=X||1/0;const Ve=ce.length;let tt=null;const gt=[];for(let Bt=0;Bt<Ve;++Bt){if(oe=ce.charCodeAt(Bt),oe>55295&&oe<57344){if(!tt){if(oe>56319){(X-=3)>-1&&gt.push(239,191,189);continue}if(Bt+1===Ve){(X-=3)>-1&&gt.push(239,191,189);continue}tt=oe;continue}if(oe<56320){(X-=3)>-1&&gt.push(239,191,189),tt=oe;continue}oe=65536+(tt-55296<<10|oe-56320)}else tt&&(X-=3)>-1&&gt.push(239,191,189);if(tt=null,oe<128){if((X-=1)<0)break;gt.push(oe)}else if(oe<2048){if((X-=2)<0)break;gt.push(oe>>6|192,63&oe|128)}else if(oe<65536){if((X-=3)<0)break;gt.push(oe>>12|224,oe>>6&63|128,63&oe|128)}else{if(!(oe<1114112))throw new Error("Invalid code point");if((X-=4)<0)break;gt.push(oe>>18|240,oe>>12&63|128,oe>>6&63|128,63&oe|128)}}return gt}function mt(ce){return e.toByteArray(function at(ce){if((ce=(ce=ce.split("=")[0]).trim().replace(we,"")).length<2)return"";for(;ce.length%4!=0;)ce+="=";return ce}(ce))}function it(ce,X,oe,Ve){let tt;for(tt=0;tt<Ve&&!(tt+oe>=X.length||tt>=ce.length);++tt)X[tt+oe]=ce[tt];return tt}function Kt(ce,X){return ce instanceof X||null!=ce&&null!=ce.constructor&&null!=ce.constructor.name&&ce.constructor.name===X.name}function sn(ce){return ce!=ce}const Ft=function(){const ce="0123456789abcdef",X=new Array(256);for(let oe=0;oe<16;++oe){const Ve=16*oe;for(let tt=0;tt<16;++tt)X[Ve+tt]=ce[oe]+ce[tt]}return X}();function Jt(ce){return typeof BigInt>"u"?je:ce}function je(){throw new Error("BigInt not supported")}},2020:(nt,fe)=>{fe.read=function(h,n,e,y,p){var w,C,m=8*p-y-1,u=(1<<m)-1,f=u>>1,T=-7,O=e?p-1:0,F=e?-1:1,b=h[n+O];for(O+=F,w=b&(1<<-T)-1,b>>=-T,T+=m;T>0;w=256*w+h[n+O],O+=F,T-=8);for(C=w&(1<<-T)-1,w>>=-T,T+=y;T>0;C=256*C+h[n+O],O+=F,T-=8);if(0===w)w=1-f;else{if(w===u)return C?NaN:1/0*(b?-1:1);C+=Math.pow(2,y),w-=f}return(b?-1:1)*C*Math.pow(2,w-y)},fe.write=function(h,n,e,y,p,w){var C,m,u,f=8*w-p-1,T=(1<<f)-1,O=T>>1,F=23===p?Math.pow(2,-24)-Math.pow(2,-77):0,b=y?0:w-1,M=y?1:-1,k=n<0||0===n&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(m=isNaN(n)?1:0,C=T):(C=Math.floor(Math.log(n)/Math.LN2),n*(u=Math.pow(2,-C))<1&&(C--,u*=2),(n+=C+O>=1?F/u:F*Math.pow(2,1-O))*u>=2&&(C++,u/=2),C+O>=T?(m=0,C=T):C+O>=1?(m=(n*u-1)*Math.pow(2,p),C+=O):(m=n*Math.pow(2,O-1)*Math.pow(2,p),C=0));p>=8;h[e+b]=255&m,b+=M,m/=256,p-=8);for(C=C<<p|m,f+=p;f>0;h[e+b]=255&C,b+=M,C/=256,f-=8);h[e+b-M]|=128*k}},57:(nt,fe,h)=>{var n=h(6589);function e(M,k){n.cipher.registerAlgorithm(M,function(){return new n.aes.Algorithm(M,k)})}h(5855),h(8580),h(812),nt.exports=n.aes=n.aes||{},n.aes.startEncrypting=function(M,k,N,G){var R=b({key:M,output:N,decrypt:!1,mode:G});return R.start(k),R},n.aes.createEncryptionCipher=function(M,k){return b({key:M,output:null,decrypt:!1,mode:k})},n.aes.startDecrypting=function(M,k,N,G){var R=b({key:M,output:N,decrypt:!0,mode:G});return R.start(k),R},n.aes.createDecryptionCipher=function(M,k){return b({key:M,output:null,decrypt:!0,mode:k})},n.aes.Algorithm=function(M,k){y||T();var N=this;N.name=M,N.mode=new k({blockSize:16,cipher:{encrypt:function(G,R){return F(N._w,G,R,!1)},decrypt:function(G,R){return F(N._w,G,R,!0)}}}),N._init=!1},n.aes.Algorithm.prototype.initialize=function(M){if(!this._init){var N,k=M.key;if("string"!=typeof k||16!==k.length&&24!==k.length&&32!==k.length){if(n.util.isArray(k)&&(16===k.length||24===k.length||32===k.length)){N=k,k=n.util.createBuffer();for(var G=0;G<N.length;++G)k.putByte(N[G])}}else k=n.util.createBuffer(k);if(!n.util.isArray(k)){N=k,k=[];var R=N.length();if(16===R||24===R||32===R)for(R>>>=2,G=0;G<R;++G)k.push(N.getInt32())}if(!n.util.isArray(k)||4!==k.length&&6!==k.length&&8!==k.length)throw new Error("Invalid key parameter.");var U=-1!==["CFB","OFB","CTR","GCM"].indexOf(this.mode.name);this._w=O(k,M.decrypt&&!U),this._init=!0}},n.aes._expandKey=function(M,k){return y||T(),O(M,k)},n.aes._updateBlock=F,e("AES-ECB",n.cipher.modes.ecb),e("AES-CBC",n.cipher.modes.cbc),e("AES-CFB",n.cipher.modes.cfb),e("AES-OFB",n.cipher.modes.ofb),e("AES-CTR",n.cipher.modes.ctr),e("AES-GCM",n.cipher.modes.gcm);var w,C,m,u,f,y=!1,p=4;function T(){y=!0,m=[0,1,2,4,8,16,32,64,128,27,54];for(var M=new Array(256),k=0;k<128;++k)M[k]=k<<1,M[k+128]=k+128<<1^283;for(w=new Array(256),C=new Array(256),u=new Array(4),f=new Array(4),k=0;k<4;++k)u[k]=new Array(256),f[k]=new Array(256);var R,j,U,$,ie,se,L,N=0,G=0;for(k=0;k<256;++k){w[N]=$=($=G^G<<1^G<<2^G<<3^G<<4)>>8^255&$^99,C[$]=N,se=(ie=M[$])<<24^$<<16^$<<8^$^ie,L=((R=M[N])^(j=M[R])^(U=M[j]))<<24^(N^U)<<16^(N^j^U)<<8^N^R^U;for(var J=0;J<4;++J)u[J][N]=se,f[J][$]=L,se=se<<24|se>>>8,L=L<<24|L>>>8;0===N?N=G=1:(N=R^M[M[M[R^U]]],G^=M[M[G]])}}function O(M,k){for(var G,N=M.slice(0),R=1,j=N.length,$=p*(j+6+1),ie=j;ie<$;++ie)G=N[ie-1],ie%j==0?(G=w[G>>>16&255]<<24^w[G>>>8&255]<<16^w[255&G]<<8^w[G>>>24]^m[R]<<24,R++):j>6&&ie%j==4&&(G=w[G>>>24]<<24^w[G>>>16&255]<<16^w[G>>>8&255]<<8^w[255&G]),N[ie]=N[ie-j]^G;if(k){for(var se,L=f[0],J=f[1],q=f[2],S=f[3],re=N.slice(0),K=(ie=0,($=N.length)-p);ie<$;ie+=p,K-=p)if(0===ie||ie===$-p)re[ie]=N[K],re[ie+1]=N[K+3],re[ie+2]=N[K+2],re[ie+3]=N[K+1];else for(var me=0;me<p;++me)re[ie+(3&-me)]=L[w[(se=N[K+me])>>>24]]^J[w[se>>>16&255]]^q[w[se>>>8&255]]^S[w[255&se]];N=re}return N}function F(M,k,N,G){var j,U,$,ie,se,L,J,q,S,re,K,me,R=M.length/4-1;G?(j=f[0],U=f[1],$=f[2],ie=f[3],se=C):(j=u[0],U=u[1],$=u[2],ie=u[3],se=w),L=k[0]^M[0],J=k[G?3:1]^M[1],q=k[2]^M[2],S=k[G?1:3]^M[3];for(var Ne=3,De=1;De<R;++De)re=j[L>>>24]^U[J>>>16&255]^$[q>>>8&255]^ie[255&S]^M[++Ne],K=j[J>>>24]^U[q>>>16&255]^$[S>>>8&255]^ie[255&L]^M[++Ne],me=j[q>>>24]^U[S>>>16&255]^$[L>>>8&255]^ie[255&J]^M[++Ne],S=j[S>>>24]^U[L>>>16&255]^$[J>>>8&255]^ie[255&q]^M[++Ne],L=re,J=K,q=me;N[0]=se[L>>>24]<<24^se[J>>>16&255]<<16^se[q>>>8&255]<<8^se[255&S]^M[++Ne],N[G?3:1]=se[J>>>24]<<24^se[q>>>16&255]<<16^se[S>>>8&255]<<8^se[255&L]^M[++Ne],N[2]=se[q>>>24]<<24^se[S>>>16&255]<<16^se[L>>>8&255]<<8^se[255&J]^M[++Ne],N[G?1:3]=se[S>>>24]<<24^se[L>>>16&255]<<16^se[J>>>8&255]<<8^se[255&q]^M[++Ne]}function b(M){var G,N="AES-"+((M=M||{}).mode||"CBC").toUpperCase(),R=(G=M.decrypt?n.cipher.createDecipher(N,M.key):n.cipher.createCipher(N,M.key)).start;return G.start=function(j,U){var $=null;U instanceof n.util.ByteBuffer&&($=U,U={}),(U=U||{}).output=$,U.iv=j,R.call(G,U)},G}},3707:(nt,fe,h)=>{var n=h(6589);h(57),h(9807);var e=nt.exports=n.tls;function y(f,T,O){var F=T.entity===n.tls.ConnectionEnd.client;f.read.cipherState={init:!1,cipher:n.cipher.createDecipher("AES-CBC",F?O.keys.server_write_key:O.keys.client_write_key),iv:F?O.keys.server_write_IV:O.keys.client_write_IV},f.write.cipherState={init:!1,cipher:n.cipher.createCipher("AES-CBC",F?O.keys.client_write_key:O.keys.server_write_key),iv:F?O.keys.client_write_IV:O.keys.server_write_IV},f.read.cipherFunction=m,f.write.cipherFunction=p,f.read.macLength=f.write.macLength=O.mac_length,f.read.macFunction=f.write.macFunction=e.hmac_sha1}function p(f,T){var b,O=!1,F=T.macFunction(T.macKey,T.sequenceNumber,f);f.fragment.putBytes(F),T.updateSequenceNumber(),b=f.version.minor===e.Versions.TLS_1_0.minor?T.cipherState.init?null:T.cipherState.iv:n.random.getBytesSync(16),T.cipherState.init=!0;var M=T.cipherState.cipher;return M.start({iv:b}),f.version.minor>=e.Versions.TLS_1_1.minor&&M.output.putBytes(b),M.update(f.fragment),M.finish(w)&&(f.fragment=M.output,f.length=f.fragment.length(),O=!0),O}function w(f,T,O){if(!O){var F=f-T.length()%f;T.fillWithByte(F-1,F)}return!0}function C(f,T,O){var F=!0;if(O){for(var b=T.length(),M=T.last(),k=b-1-M;k<b-1;++k)F=F&&T.at(k)==M;F&&T.truncate(M+1)}return F}function m(f,T){var F,O=!1;F=f.version.minor===e.Versions.TLS_1_0.minor?T.cipherState.init?null:T.cipherState.iv:f.fragment.getBytes(16),T.cipherState.init=!0;var b=T.cipherState.cipher;b.start({iv:F}),b.update(f.fragment),O=b.finish(C);var M=T.macLength,k=n.random.getBytesSync(M),N=b.output.length();N>=M?(f.fragment=b.output.getBytes(N-M),k=b.output.getBytes(M)):f.fragment=b.output.getBytes(),f.fragment=n.util.createBuffer(f.fragment),f.length=f.fragment.length();var G=T.macFunction(T.macKey,T.sequenceNumber,f);return T.updateSequenceNumber(),O=function u(f,T,O){var F=n.hmac.create();return F.start("SHA1",f),F.update(T),T=F.digest().getBytes(),F.start(null,null),F.update(O),T===(O=F.digest().getBytes())}(T.macKey,k,G)&&O,O}e.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:function(f){f.bulk_cipher_algorithm=e.BulkCipherAlgorithm.aes,f.cipher_type=e.CipherType.block,f.enc_key_length=16,f.block_length=16,f.fixed_iv_length=16,f.record_iv_length=16,f.mac_algorithm=e.MACAlgorithm.hmac_sha1,f.mac_length=20,f.mac_key_length=20},initConnectionState:y},e.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:function(f){f.bulk_cipher_algorithm=e.BulkCipherAlgorithm.aes,f.cipher_type=e.CipherType.block,f.enc_key_length=32,f.block_length=16,f.fixed_iv_length=16,f.record_iv_length=16,f.mac_algorithm=e.MACAlgorithm.hmac_sha1,f.mac_length=20,f.mac_key_length=20},initConnectionState:y}},2758:(nt,fe,h)=>{var n=h(6589);h(7097);var e=n.asn1;fe.privateKeyValidator={name:"PrivateKeyInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},fe.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:e.Class.UNIVERSAL,type:e.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]}},7097:(nt,fe,h)=>{var n=h(6589);h(812),h(1817);var e=nt.exports=n.asn1=n.asn1||{};function y(m,u,f){if(f>u){var T=new Error("Too few bytes to parse DER.");throw T.available=m.length(),T.remaining=u,T.requested=f,T}}function w(m,u,f,T){var O;y(m,u,2);var F=m.getByte();u--;var b=192&F,M=31&F;O=m.length();var k=function(m,u){var f=m.getByte();if(u--,128!==f){var T;if(128&f){var F=127&f;y(m,u,F),T=m.getInt(F<<3)}else T=f;if(T<0)throw new Error("Negative length: "+T);return T}}(m,u);if(u-=O-m.length(),void 0!==k&&k>u){if(T.strict){var N=new Error("Too few bytes to read ASN.1 value.");throw N.available=m.length(),N.remaining=u,N.requested=k,N}k=u}var G,R,j=!(32&~F);if(j)if(G=[],void 0===k)for(;;){if(y(m,u,2),"\0\0"===m.bytes(2)){m.getBytes(2),u-=2;break}O=m.length(),G.push(w(m,u,f+1,T)),u-=O-m.length()}else for(;k>0;)O=m.length(),G.push(w(m,k,f+1,T)),u-=O-m.length(),k-=O-m.length();if(void 0===G&&b===e.Class.UNIVERSAL&&M===e.Type.BITSTRING&&(R=m.bytes(k)),void 0===G&&T.decodeBitStrings&&b===e.Class.UNIVERSAL&&M===e.Type.BITSTRING&&k>1){var U=m.read,$=u,ie=0;if(M===e.Type.BITSTRING&&(y(m,u,1),ie=m.getByte(),u--),0===ie)try{O=m.length();var L=w(m,u,f+1,{strict:!0,decodeBitStrings:!0}),J=O-m.length();u-=J,M==e.Type.BITSTRING&&J++;var q=L.tagClass;J===k&&(q===e.Class.UNIVERSAL||q===e.Class.CONTEXT_SPECIFIC)&&(G=[L])}catch{}void 0===G&&(m.read=U,u=$)}if(void 0===G){if(void 0===k){if(T.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");k=u}if(M===e.Type.BMPSTRING)for(G="";k>0;k-=2)y(m,u,2),G+=String.fromCharCode(m.getInt16()),u-=2;else G=m.getBytes(k),u-=k}return e.create(b,M,j,G,void 0===R?null:{bitStringContents:R})}e.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192},e.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30},e.create=function(m,u,f,T,O){if(n.util.isArray(T)){for(var F=[],b=0;b<T.length;++b)void 0!==T[b]&&F.push(T[b]);T=F}var M={tagClass:m,type:u,constructed:f,composed:f||n.util.isArray(T),value:T};return O&&"bitStringContents"in O&&(M.bitStringContents=O.bitStringContents,M.original=e.copy(M)),M},e.copy=function(m,u){var f;if(n.util.isArray(m)){f=[];for(var T=0;T<m.length;++T)f.push(e.copy(m[T],u));return f}return"string"==typeof m?m:(f={tagClass:m.tagClass,type:m.type,constructed:m.constructed,composed:m.composed,value:e.copy(m.value,u)},u&&!u.excludeBitStringContents&&(f.bitStringContents=m.bitStringContents),f)},e.equals=function(m,u,f){if(n.util.isArray(m)){if(!n.util.isArray(u)||m.length!==u.length)return!1;for(var T=0;T<m.length;++T)if(!e.equals(m[T],u[T]))return!1;return!0}if(typeof m!=typeof u)return!1;if("string"==typeof m)return m===u;var O=m.tagClass===u.tagClass&&m.type===u.type&&m.constructed===u.constructed&&m.composed===u.composed&&e.equals(m.value,u.value);return f&&f.includeBitStringContents&&(O=O&&m.bitStringContents===u.bitStringContents),O},e.getBerValueLength=function(m){var u=m.getByte();if(128!==u)return 128&u?m.getInt((127&u)<<3):u},e.fromDer=function(m,u){void 0===u&&(u={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),"boolean"==typeof u&&(u={strict:u,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in u||(u.strict=!0),"parseAllBytes"in u||(u.parseAllBytes=!0),"decodeBitStrings"in u||(u.decodeBitStrings=!0),"string"==typeof m&&(m=n.util.createBuffer(m));var f=m.length(),T=w(m,m.length(),0,u);if(u.parseAllBytes&&0!==m.length()){var O=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw O.byteCount=f,O.remaining=m.length(),O}return T},e.toDer=function(m){var u=n.util.createBuffer(),f=m.tagClass|m.type,T=n.util.createBuffer(),O=!1;if("bitStringContents"in m&&(O=!0,m.original&&(O=e.equals(m,m.original))),O)T.putBytes(m.bitStringContents);else if(m.composed){m.constructed?f|=32:T.putByte(0);for(var F=0;F<m.value.length;++F)void 0!==m.value[F]&&T.putBuffer(e.toDer(m.value[F]))}else if(m.type===e.Type.BMPSTRING)for(F=0;F<m.value.length;++F)T.putInt16(m.value.charCodeAt(F));else!(m.type===e.Type.INTEGER&&m.value.length>1)||(0!==m.value.charCodeAt(0)||128&m.value.charCodeAt(1))&&(255!==m.value.charCodeAt(0)||128&~m.value.charCodeAt(1))?T.putBytes(m.value):T.putBytes(m.value.substr(1));if(u.putByte(f),T.length()<=127)u.putByte(127&T.length());else{var b=T.length(),M="";do{M+=String.fromCharCode(255&b),b>>>=8}while(b>0);for(u.putByte(128|M.length),F=M.length-1;F>=0;--F)u.putByte(M.charCodeAt(F))}return u.putBuffer(T),u},e.oidToDer=function(m){var u=m.split("."),f=n.util.createBuffer();f.putByte(40*parseInt(u[0],10)+parseInt(u[1],10));for(var T,O,F,b,M=2;M<u.length;++M){T=!0,O=[],F=parseInt(u[M],10);do{b=127&F,F>>>=7,T||(b|=128),O.push(b),T=!1}while(F>0);for(var k=O.length-1;k>=0;--k)f.putByte(O[k])}return f},e.derToOid=function(m){var u;"string"==typeof m&&(m=n.util.createBuffer(m));var f=m.getByte();u=Math.floor(f/40)+"."+f%40;for(var T=0;m.length()>0;)T<<=7,128&(f=m.getByte())?T+=127&f:(u+="."+(T+f),T=0);return u},e.utcTimeToDate=function(m){var u=new Date,f=parseInt(m.substr(0,2),10);f=f>=50?1900+f:2e3+f;var T=parseInt(m.substr(2,2),10)-1,O=parseInt(m.substr(4,2),10),F=parseInt(m.substr(6,2),10),b=parseInt(m.substr(8,2),10),M=0;if(m.length>11){var k=m.charAt(10),N=10;"+"!==k&&"-"!==k&&(M=parseInt(m.substr(10,2),10),N+=2)}if(u.setUTCFullYear(f,T,O),u.setUTCHours(F,b,M,0),N&&("+"===(k=m.charAt(N))||"-"===k)){var j=60*parseInt(m.substr(N+1,2),10)+parseInt(m.substr(N+4,2),10);j*=6e4,u.setTime("+"===k?+u-j:+u+j)}return u},e.generalizedTimeToDate=function(m){var u=new Date,f=parseInt(m.substr(0,4),10),T=parseInt(m.substr(4,2),10)-1,O=parseInt(m.substr(6,2),10),F=parseInt(m.substr(8,2),10),b=parseInt(m.substr(10,2),10),M=parseInt(m.substr(12,2),10),k=0,N=0,G=!1;"Z"===m.charAt(m.length-1)&&(G=!0);var R=m.length-5,j=m.charAt(R);return"+"!==j&&"-"!==j||(N=60*parseInt(m.substr(R+1,2),10)+parseInt(m.substr(R+4,2),10),N*=6e4,"+"===j&&(N*=-1),G=!0),"."===m.charAt(14)&&(k=1e3*parseFloat(m.substr(14),10)),G?(u.setUTCFullYear(f,T,O),u.setUTCHours(F,b,M,k),u.setTime(+u+N)):(u.setFullYear(f,T,O),u.setHours(F,b,M,k)),u},e.dateToUtcTime=function(m){if("string"==typeof m)return m;var u="",f=[];f.push((""+m.getUTCFullYear()).substr(2)),f.push(""+(m.getUTCMonth()+1)),f.push(""+m.getUTCDate()),f.push(""+m.getUTCHours()),f.push(""+m.getUTCMinutes()),f.push(""+m.getUTCSeconds());for(var T=0;T<f.length;++T)f[T].length<2&&(u+="0"),u+=f[T];return u+"Z"},e.dateToGeneralizedTime=function(m){if("string"==typeof m)return m;var u="",f=[];f.push(""+m.getUTCFullYear()),f.push(""+(m.getUTCMonth()+1)),f.push(""+m.getUTCDate()),f.push(""+m.getUTCHours()),f.push(""+m.getUTCMinutes()),f.push(""+m.getUTCSeconds());for(var T=0;T<f.length;++T)f[T].length<2&&(u+="0"),u+=f[T];return u+"Z"},e.integerToDer=function(m){var u=n.util.createBuffer();if(m>=-128&&m<128)return u.putSignedInt(m,8);if(m>=-32768&&m<32768)return u.putSignedInt(m,16);if(m>=-8388608&&m<8388608)return u.putSignedInt(m,24);if(m>=-2147483648&&m<2147483648)return u.putSignedInt(m,32);var f=new Error("Integer too large; max is 32-bits.");throw f.integer=m,f},e.derToInteger=function(m){"string"==typeof m&&(m=n.util.createBuffer(m));var u=8*m.length();if(u>32)throw new Error("Integer too large; max is 32-bits.");return m.getSignedInt(u)},e.validate=function(m,u,f,T){var O=!1;if((m.tagClass===u.tagClass||typeof u.tagClass>"u")&&(m.type===u.type||typeof u.type>"u"))if(m.constructed===u.constructed||typeof u.constructed>"u"){if(O=!0,u.value&&n.util.isArray(u.value))for(var F=0,b=0;O&&b<u.value.length;++b)O=u.value[b].optional||!1,m.value[F]&&((O=e.validate(m.value[F],u.value[b],f,T))?++F:u.value[b].optional&&(O=!0)),!O&&T&&T.push("["+u.name+'] Tag class "'+u.tagClass+'", type "'+u.type+'" expected value length "'+u.value.length+'", got "'+m.value.length+'"');if(O&&f&&(u.capture&&(f[u.capture]=m.value),u.captureAsn1&&(f[u.captureAsn1]=m),u.captureBitStringContents&&"bitStringContents"in m&&(f[u.captureBitStringContents]=m.bitStringContents),u.captureBitStringValue&&"bitStringContents"in m))if(m.bitStringContents.length<2)f[u.captureBitStringValue]="";else{if(0!==m.bitStringContents.charCodeAt(0))throw new Error("captureBitStringValue only supported for zero unused bits");f[u.captureBitStringValue]=m.bitStringContents.slice(1)}}else T&&T.push("["+u.name+'] Expected constructed "'+u.constructed+'", got "'+m.constructed+'"');else T&&(m.tagClass!==u.tagClass&&T.push("["+u.name+'] Expected tag class "'+u.tagClass+'", got "'+m.tagClass+'"'),m.type!==u.type&&T.push("["+u.name+'] Expected type "'+u.type+'", got "'+m.type+'"'));return O};var C=/[^\\u0000-\\u00ff]/;e.prettyPrint=function(m,u,f){var T="";f=f||2,(u=u||0)>0&&(T+="\n");for(var O="",F=0;F<u*f;++F)O+=" ";switch(T+=O+"Tag: ",m.tagClass){case e.Class.UNIVERSAL:T+="Universal:";break;case e.Class.APPLICATION:T+="Application:";break;case e.Class.CONTEXT_SPECIFIC:T+="Context-Specific:";break;case e.Class.PRIVATE:T+="Private:"}if(m.tagClass===e.Class.UNIVERSAL)switch(T+=m.type,m.type){case e.Type.NONE:T+=" (None)";break;case e.Type.BOOLEAN:T+=" (Boolean)";break;case e.Type.INTEGER:T+=" (Integer)";break;case e.Type.BITSTRING:T+=" (Bit string)";break;case e.Type.OCTETSTRING:T+=" (Octet string)";break;case e.Type.NULL:T+=" (Null)";break;case e.Type.OID:T+=" (Object Identifier)";break;case e.Type.ODESC:T+=" (Object Descriptor)";break;case e.Type.EXTERNAL:T+=" (External or Instance of)";break;case e.Type.REAL:T+=" (Real)";break;case e.Type.ENUMERATED:T+=" (Enumerated)";break;case e.Type.EMBEDDED:T+=" (Embedded PDV)";break;case e.Type.UTF8:T+=" (UTF8)";break;case e.Type.ROID:T+=" (Relative Object Identifier)";break;case e.Type.SEQUENCE:T+=" (Sequence)";break;case e.Type.SET:T+=" (Set)";break;case e.Type.PRINTABLESTRING:T+=" (Printable String)";break;case e.Type.IA5String:T+=" (IA5String (ASCII))";break;case e.Type.UTCTIME:T+=" (UTC time)";break;case e.Type.GENERALIZEDTIME:T+=" (Generalized time)";break;case e.Type.BMPSTRING:T+=" (BMP String)"}else T+=m.type;if(T+="\n",T+=O+"Constructed: "+m.constructed+"\n",m.composed){var b=0,M="";for(F=0;F<m.value.length;++F)void 0!==m.value[F]&&(b+=1,M+=e.prettyPrint(m.value[F],u+1,f),F+1<m.value.length&&(M+=","));T+=O+"Sub values: "+b+M}else{if(T+=O+"Value: ",m.type===e.Type.OID){var k=e.derToOid(m.value);T+=k,n.pki&&n.pki.oids&&k in n.pki.oids&&(T+=" ("+n.pki.oids[k]+") ")}if(m.type===e.Type.INTEGER)try{T+=e.derToInteger(m.value)}catch{T+="0x"+n.util.bytesToHex(m.value)}else if(m.type===e.Type.BITSTRING){if(T+=m.value.length>1?"0x"+n.util.bytesToHex(m.value.slice(1)):"(none)",m.value.length>0){var N=m.value.charCodeAt(0);1==N?T+=" (1 unused bit shown)":N>1&&(T+=" ("+N+" unused bits shown)")}}else if(m.type===e.Type.OCTETSTRING)C.test(m.value)||(T+="("+m.value+") "),T+="0x"+n.util.bytesToHex(m.value);else if(m.type===e.Type.UTF8)try{T+=n.util.decodeUtf8(m.value)}catch(G){if("URI malformed"!==G.message)throw G;T+="0x"+n.util.bytesToHex(m.value)+" (malformed UTF8)"}else m.type===e.Type.PRINTABLESTRING||m.type===e.Type.IA5String?T+=m.value:C.test(m.value)?T+="0x"+n.util.bytesToHex(m.value):T+=0===m.value.length?"[null]":m.value}return T}},3175:nt=>{var fe={};nt.exports=fe;var h={};fe.encode=function(e,y,p){if("string"!=typeof y)throw new TypeError('"alphabet" must be a string.');if(void 0!==p&&"number"!=typeof p)throw new TypeError('"maxline" must be a number.');var w="";if(e instanceof Uint8Array){var C=0,m=y.length,u=y.charAt(0),f=[0];for(C=0;C<e.length;++C){for(var T=0,O=e[C];T<f.length;++T)f[T]=(O+=f[T]<<8)%m,O=O/m|0;for(;O>0;)f.push(O%m),O=O/m|0}for(C=0;0===e[C]&&C<e.length-1;++C)w+=u;for(C=f.length-1;C>=0;--C)w+=y[f[C]]}else w=function n(e,y){var p=0,w=y.length,C=y.charAt(0),m=[0];for(p=0;p<e.length();++p){for(var u=0,f=e.at(p);u<m.length;++u)m[u]=(f+=m[u]<<8)%w,f=f/w|0;for(;f>0;)m.push(f%w),f=f/w|0}var T="";for(p=0;0===e.at(p)&&p<e.length()-1;++p)T+=C;for(p=m.length-1;p>=0;--p)T+=y[m[p]];return T}(e,y);if(p){var F=new RegExp(".{1,"+p+"}","g");w=w.match(F).join("\r\n")}return w},fe.decode=function(e,y){if("string"!=typeof e)throw new TypeError('"input" must be a string.');if("string"!=typeof y)throw new TypeError('"alphabet" must be a string.');var p=h[y];if(!p){p=h[y]=[];for(var w=0;w<y.length;++w)p[y.charCodeAt(w)]=w}e=e.replace(/\s/g,"");var C=y.length,m=y.charAt(0),u=[0];for(w=0;w<e.length;w++){var f=p[e.charCodeAt(w)];if(void 0===f)return;for(var T=0,O=f;T<u.length;++T)u[T]=255&(O+=u[T]*C),O>>=8;for(;O>0;)u.push(255&O),O>>=8}for(var F=0;e[F]===m&&F<e.length-1;++F)u.push(0);return typeof Buffer<"u"?Buffer.from(u.reverse()):new Uint8Array(u.reverse())}},5855:(nt,fe,h)=>{var n=h(6589);h(812),nt.exports=n.cipher=n.cipher||{},n.cipher.algorithms=n.cipher.algorithms||{},n.cipher.createCipher=function(y,p){var w=y;if("string"==typeof w&&(w=n.cipher.getAlgorithm(w))&&(w=w()),!w)throw new Error("Unsupported algorithm: "+y);return new n.cipher.BlockCipher({algorithm:w,key:p,decrypt:!1})},n.cipher.createDecipher=function(y,p){var w=y;if("string"==typeof w&&(w=n.cipher.getAlgorithm(w))&&(w=w()),!w)throw new Error("Unsupported algorithm: "+y);return new n.cipher.BlockCipher({algorithm:w,key:p,decrypt:!0})},n.cipher.registerAlgorithm=function(y,p){y=y.toUpperCase(),n.cipher.algorithms[y]=p},n.cipher.getAlgorithm=function(y){return(y=y.toUpperCase())in n.cipher.algorithms?n.cipher.algorithms[y]:null};var e=n.cipher.BlockCipher=function(y){this.algorithm=y.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=y.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=y.decrypt,this.algorithm.initialize(y)};e.prototype.start=function(y){y=y||{};var p={};for(var w in y)p[w]=y[w];p.decrypt=this._decrypt,this._finish=!1,this._input=n.util.createBuffer(),this.output=y.output||n.util.createBuffer(),this.mode.start(p)},e.prototype.update=function(y){for(y&&this._input.putBuffer(y);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()},e.prototype.finish=function(y){y&&("ECB"===this.mode.name||"CBC"===this.mode.name)&&(this.mode.pad=function(w){return y(this.blockSize,w,!1)},this.mode.unpad=function(w){return y(this.blockSize,w,!0)});var p={};return p.decrypt=this._decrypt,p.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,p)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,p))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,p))}},8580:(nt,fe,h)=>{var n=h(6589);h(812),n.cipher=n.cipher||{};var e=nt.exports=n.cipher.modes=n.cipher.modes||{};function y(C,m){if("string"==typeof C&&(C=n.util.createBuffer(C)),n.util.isArray(C)&&C.length>4){var u=C;C=n.util.createBuffer();for(var f=0;f<u.length;++f)C.putByte(u[f])}if(C.length()<m)throw new Error("Invalid IV length; got "+C.length()+" bytes and expected "+m+" bytes.");if(!n.util.isArray(C)){var T=[],O=m/4;for(f=0;f<O;++f)T.push(C.getInt32());C=T}return C}function p(C){C[C.length-1]=C[C.length-1]+1&4294967295}function w(C){return[C/4294967296|0,4294967295&C]}e.ecb=function(C){C=C||{},this.name="ECB",this.cipher=C.cipher,this.blockSize=C.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},e.ecb.prototype.start=function(C){},e.ecb.prototype.encrypt=function(C,m,u){if(C.length()<this.blockSize&&!(u&&C.length()>0))return!0;for(var f=0;f<this._ints;++f)this._inBlock[f]=C.getInt32();for(this.cipher.encrypt(this._inBlock,this._outBlock),f=0;f<this._ints;++f)m.putInt32(this._outBlock[f])},e.ecb.prototype.decrypt=function(C,m,u){if(C.length()<this.blockSize&&!(u&&C.length()>0))return!0;for(var f=0;f<this._ints;++f)this._inBlock[f]=C.getInt32();for(this.cipher.decrypt(this._inBlock,this._outBlock),f=0;f<this._ints;++f)m.putInt32(this._outBlock[f])},e.ecb.prototype.pad=function(C,m){var u=C.length()===this.blockSize?this.blockSize:this.blockSize-C.length();return C.fillWithByte(u,u),!0},e.ecb.prototype.unpad=function(C,m){if(m.overflow>0)return!1;var u=C.length(),f=C.at(u-1);return!(f>this.blockSize<<2||(C.truncate(f),0))},e.cbc=function(C){C=C||{},this.name="CBC",this.cipher=C.cipher,this.blockSize=C.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},e.cbc.prototype.start=function(C){if(null===C.iv){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else{if(!("iv"in C))throw new Error("Invalid IV parameter.");this._iv=y(C.iv,this.blockSize),this._prev=this._iv.slice(0)}},e.cbc.prototype.encrypt=function(C,m,u){if(C.length()<this.blockSize&&!(u&&C.length()>0))return!0;for(var f=0;f<this._ints;++f)this._inBlock[f]=this._prev[f]^C.getInt32();for(this.cipher.encrypt(this._inBlock,this._outBlock),f=0;f<this._ints;++f)m.putInt32(this._outBlock[f]);this._prev=this._outBlock},e.cbc.prototype.decrypt=function(C,m,u){if(C.length()<this.blockSize&&!(u&&C.length()>0))return!0;for(var f=0;f<this._ints;++f)this._inBlock[f]=C.getInt32();for(this.cipher.decrypt(this._inBlock,this._outBlock),f=0;f<this._ints;++f)m.putInt32(this._prev[f]^this._outBlock[f]);this._prev=this._inBlock.slice(0)},e.cbc.prototype.pad=function(C,m){var u=C.length()===this.blockSize?this.blockSize:this.blockSize-C.length();return C.fillWithByte(u,u),!0},e.cbc.prototype.unpad=function(C,m){if(m.overflow>0)return!1;var u=C.length(),f=C.at(u-1);return!(f>this.blockSize<<2||(C.truncate(f),0))},e.cfb=function(C){C=C||{},this.name="CFB",this.cipher=C.cipher,this.blockSize=C.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=n.util.createBuffer(),this._partialBytes=0},e.cfb.prototype.start=function(C){if(!("iv"in C))throw new Error("Invalid IV parameter.");this._iv=y(C.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},e.cfb.prototype.encrypt=function(C,m,u){var f=C.length();if(0===f)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&f>=this.blockSize)for(var T=0;T<this._ints;++T)this._inBlock[T]=C.getInt32()^this._outBlock[T],m.putInt32(this._inBlock[T]);else{var O=(this.blockSize-f)%this.blockSize;for(O>0&&(O=this.blockSize-O),this._partialOutput.clear(),T=0;T<this._ints;++T)this._partialBlock[T]=C.getInt32()^this._outBlock[T],this._partialOutput.putInt32(this._partialBlock[T]);if(O>0)C.read-=this.blockSize;else for(T=0;T<this._ints;++T)this._inBlock[T]=this._partialBlock[T];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),O>0&&!u)return m.putBytes(this._partialOutput.getBytes(O-this._partialBytes)),this._partialBytes=O,!0;m.putBytes(this._partialOutput.getBytes(f-this._partialBytes)),this._partialBytes=0}},e.cfb.prototype.decrypt=function(C,m,u){var f=C.length();if(0===f)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&f>=this.blockSize)for(var T=0;T<this._ints;++T)this._inBlock[T]=C.getInt32(),m.putInt32(this._inBlock[T]^this._outBlock[T]);else{var O=(this.blockSize-f)%this.blockSize;for(O>0&&(O=this.blockSize-O),this._partialOutput.clear(),T=0;T<this._ints;++T)this._partialBlock[T]=C.getInt32(),this._partialOutput.putInt32(this._partialBlock[T]^this._outBlock[T]);if(O>0)C.read-=this.blockSize;else for(T=0;T<this._ints;++T)this._inBlock[T]=this._partialBlock[T];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),O>0&&!u)return m.putBytes(this._partialOutput.getBytes(O-this._partialBytes)),this._partialBytes=O,!0;m.putBytes(this._partialOutput.getBytes(f-this._partialBytes)),this._partialBytes=0}},e.ofb=function(C){C=C||{},this.name="OFB",this.cipher=C.cipher,this.blockSize=C.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=n.util.createBuffer(),this._partialBytes=0},e.ofb.prototype.start=function(C){if(!("iv"in C))throw new Error("Invalid IV parameter.");this._iv=y(C.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},e.ofb.prototype.encrypt=function(C,m,u){var f=C.length();if(0===C.length())return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&f>=this.blockSize)for(var T=0;T<this._ints;++T)m.putInt32(C.getInt32()^this._outBlock[T]),this._inBlock[T]=this._outBlock[T];else{var O=(this.blockSize-f)%this.blockSize;for(O>0&&(O=this.blockSize-O),this._partialOutput.clear(),T=0;T<this._ints;++T)this._partialOutput.putInt32(C.getInt32()^this._outBlock[T]);if(O>0)C.read-=this.blockSize;else for(T=0;T<this._ints;++T)this._inBlock[T]=this._outBlock[T];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),O>0&&!u)return m.putBytes(this._partialOutput.getBytes(O-this._partialBytes)),this._partialBytes=O,!0;m.putBytes(this._partialOutput.getBytes(f-this._partialBytes)),this._partialBytes=0}},e.ofb.prototype.decrypt=e.ofb.prototype.encrypt,e.ctr=function(C){C=C||{},this.name="CTR",this.cipher=C.cipher,this.blockSize=C.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=n.util.createBuffer(),this._partialBytes=0},e.ctr.prototype.start=function(C){if(!("iv"in C))throw new Error("Invalid IV parameter.");this._iv=y(C.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},e.ctr.prototype.encrypt=function(C,m,u){var f=C.length();if(0===f)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&f>=this.blockSize)for(var T=0;T<this._ints;++T)m.putInt32(C.getInt32()^this._outBlock[T]);else{var O=(this.blockSize-f)%this.blockSize;for(O>0&&(O=this.blockSize-O),this._partialOutput.clear(),T=0;T<this._ints;++T)this._partialOutput.putInt32(C.getInt32()^this._outBlock[T]);if(O>0&&(C.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),O>0&&!u)return m.putBytes(this._partialOutput.getBytes(O-this._partialBytes)),this._partialBytes=O,!0;m.putBytes(this._partialOutput.getBytes(f-this._partialBytes)),this._partialBytes=0}p(this._inBlock)},e.ctr.prototype.decrypt=e.ctr.prototype.encrypt,e.gcm=function(C){C=C||{},this.name="GCM",this.cipher=C.cipher,this.blockSize=C.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=n.util.createBuffer(),this._partialBytes=0,this._R=3774873600},e.gcm.prototype.start=function(C){if(!("iv"in C))throw new Error("Invalid IV parameter.");var u,m=n.util.createBuffer(C.iv);if(this._cipherLength=0,u="additionalData"in C?n.util.createBuffer(C.additionalData):n.util.createBuffer(),this._tagLength="tagLength"in C?C.tagLength:128,this._tag=null,C.decrypt&&(this._tag=n.util.createBuffer(C.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var f=m.length();if(12===f)this._j0=[m.getInt32(),m.getInt32(),m.getInt32(),1];else{for(this._j0=[0,0,0,0];m.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[m.getInt32(),m.getInt32(),m.getInt32(),m.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(w(8*f)))}this._inBlock=this._j0.slice(0),p(this._inBlock),this._partialBytes=0,u=n.util.createBuffer(u),this._aDataLength=w(8*u.length());var T=u.length()%this.blockSize;for(T&&u.fillWithByte(0,this.blockSize-T),this._s=[0,0,0,0];u.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[u.getInt32(),u.getInt32(),u.getInt32(),u.getInt32()])},e.gcm.prototype.encrypt=function(C,m,u){var f=C.length();if(0===f)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&f>=this.blockSize){for(var T=0;T<this._ints;++T)m.putInt32(this._outBlock[T]^=C.getInt32());this._cipherLength+=this.blockSize}else{var O=(this.blockSize-f)%this.blockSize;for(O>0&&(O=this.blockSize-O),this._partialOutput.clear(),T=0;T<this._ints;++T)this._partialOutput.putInt32(C.getInt32()^this._outBlock[T]);if(O<=0||u){if(u){var F=f%this.blockSize;this._cipherLength+=F,this._partialOutput.truncate(this.blockSize-F)}else this._cipherLength+=this.blockSize;for(T=0;T<this._ints;++T)this._outBlock[T]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),O>0&&!u)return C.read-=this.blockSize,m.putBytes(this._partialOutput.getBytes(O-this._partialBytes)),this._partialBytes=O,!0;m.putBytes(this._partialOutput.getBytes(f-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),p(this._inBlock)},e.gcm.prototype.decrypt=function(C,m,u){var f=C.length();if(f<this.blockSize&&!(u&&f>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),p(this._inBlock),this._hashBlock[0]=C.getInt32(),this._hashBlock[1]=C.getInt32(),this._hashBlock[2]=C.getInt32(),this._hashBlock[3]=C.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var T=0;T<this._ints;++T)m.putInt32(this._outBlock[T]^this._hashBlock[T]);this._cipherLength+=f<this.blockSize?f%this.blockSize:this.blockSize},e.gcm.prototype.afterFinish=function(C,m){var u=!0;m.decrypt&&m.overflow&&C.truncate(this.blockSize-m.overflow),this.tag=n.util.createBuffer();var f=this._aDataLength.concat(w(8*this._cipherLength));this._s=this.ghash(this._hashSubkey,this._s,f);var T=[];this.cipher.encrypt(this._j0,T);for(var O=0;O<this._ints;++O)this.tag.putInt32(this._s[O]^T[O]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),m.decrypt&&this.tag.bytes()!==this._tag&&(u=!1),u},e.gcm.prototype.multiply=function(C,m){for(var u=[0,0,0,0],f=m.slice(0),T=0;T<128;++T)C[T/32|0]&1<<31-T%32&&(u[0]^=f[0],u[1]^=f[1],u[2]^=f[2],u[3]^=f[3]),this.pow(f,f);return u},e.gcm.prototype.pow=function(C,m){for(var u=1&C[3],f=3;f>0;--f)m[f]=C[f]>>>1|(1&C[f-1])<<31;m[0]=C[0]>>>1,u&&(m[0]^=this._R)},e.gcm.prototype.tableMultiply=function(C){for(var m=[0,0,0,0],u=0;u<32;++u){var O=this._m[u][C[u/8|0]>>>4*(7-u%8)&15];m[0]^=O[0],m[1]^=O[1],m[2]^=O[2],m[3]^=O[3]}return m},e.gcm.prototype.ghash=function(C,m,u){return m[0]^=u[0],m[1]^=u[1],m[2]^=u[2],m[3]^=u[3],this.tableMultiply(m)},e.gcm.prototype.generateHashTable=function(C,m){for(var u=8/m,f=4*u,T=16*u,O=new Array(T),F=0;F<T;++F){var b=[0,0,0,0];b[F/f|0]=1<<m-1<<(f-1-F%f)*m,O[F]=this.generateSubHashTable(this.multiply(b,C),m)}return O},e.gcm.prototype.generateSubHashTable=function(C,m){var u=1<<m,f=u>>>1,T=new Array(u);T[f]=C.slice(0);for(var O=f>>>1;O>0;)this.pow(T[2*O],T[O]=[]),O>>=1;for(O=2;O<f;){for(var F=1;F<O;++F){var b=T[O],M=T[F];T[O+F]=[b[0]^M[0],b[1]^M[1],b[2]^M[2],b[3]^M[3]]}O*=2}for(T[0]=[0,0,0,0],O=f+1;O<u;++O){var k=T[O^f];T[O]=[C[0]^k[0],C[1]^k[1],C[2]^k[2],C[3]^k[3]]}return T}},3674:(nt,fe,h)=>{var n=h(6589);function e(M,k){n.cipher.registerAlgorithm(M,function(){return new n.des.Algorithm(M,k)})}h(5855),h(8580),h(812),nt.exports=n.des=n.des||{},n.des.startEncrypting=function(M,k,N,G){var R=b({key:M,output:N,decrypt:!1,mode:G||(null===k?"ECB":"CBC")});return R.start(k),R},n.des.createEncryptionCipher=function(M,k){return b({key:M,output:null,decrypt:!1,mode:k})},n.des.startDecrypting=function(M,k,N,G){var R=b({key:M,output:N,decrypt:!0,mode:G||(null===k?"ECB":"CBC")});return R.start(k),R},n.des.createDecryptionCipher=function(M,k){return b({key:M,output:null,decrypt:!0,mode:k})},n.des.Algorithm=function(M,k){var N=this;N.name=M,N.mode=new k({blockSize:8,cipher:{encrypt:function(G,R){return F(N._keys,G,R,!1)},decrypt:function(G,R){return F(N._keys,G,R,!0)}}}),N._init=!1},n.des.Algorithm.prototype.initialize=function(M){if(!this._init){var k=n.util.createBuffer(M.key);if(0===this.name.indexOf("3DES")&&24!==k.length())throw new Error("Invalid Triple-DES key size: "+8*k.length());this._keys=function O(M){for(var xe,k=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],N=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],G=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],R=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],j=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],U=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],$=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],ie=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],se=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],L=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],J=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],q=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],S=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],re=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],K=M.length()>8?3:1,me=[],Ne=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],De=0,Qe=0;Qe<K;Qe++){var Se=M.getInt32(),be=M.getInt32();Se^=(xe=252645135&(Se>>>4^be))<<4,Se^=xe=65535&((be^=xe)>>>-16^Se),Se^=(xe=858993459&(Se>>>2^(be^=xe<<-16)))<<2,Se^=xe=65535&((be^=xe)>>>-16^Se),Se^=(xe=1431655765&(Se>>>1^(be^=xe<<-16)))<<1,Se^=xe=16711935&((be^=xe)>>>8^Se),xe=(Se^=(xe=1431655765&(Se>>>1^(be^=xe<<8)))<<1)<<8|(be^=xe)>>>20&240,Se=be<<24|be<<8&16711680|be>>>8&65280|be>>>24&240,be=xe;for(var le=0;le<Ne.length;++le){Ne[le]?(Se=Se<<2|Se>>>26,be=be<<2|be>>>26):(Se=Se<<1|Se>>>27,be=be<<1|be>>>27);var Fe=k[(Se&=-15)>>>28]|N[Se>>>24&15]|G[Se>>>20&15]|R[Se>>>16&15]|j[Se>>>12&15]|U[Se>>>8&15]|$[Se>>>4&15],Te=ie[(be&=-15)>>>28]|se[be>>>24&15]|L[be>>>20&15]|J[be>>>16&15]|q[be>>>12&15]|S[be>>>8&15]|re[be>>>4&15];me[De++]=Fe^(xe=65535&(Te>>>16^Fe)),me[De++]=Te^xe<<16}}return me}(k),this._init=!0}},e("DES-ECB",n.cipher.modes.ecb),e("DES-CBC",n.cipher.modes.cbc),e("DES-CFB",n.cipher.modes.cfb),e("DES-OFB",n.cipher.modes.ofb),e("DES-CTR",n.cipher.modes.ctr),e("3DES-ECB",n.cipher.modes.ecb),e("3DES-CBC",n.cipher.modes.cbc),e("3DES-CFB",n.cipher.modes.cfb),e("3DES-OFB",n.cipher.modes.ofb),e("3DES-CTR",n.cipher.modes.ctr);var y=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],p=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],w=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],C=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],m=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],u=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],f=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],T=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function F(M,k,N,G){var j,R=32===M.length?3:9;j=3===R?G?[30,-2,-2]:[0,32,2]:G?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var U,$=k[0],ie=k[1];$^=(U=252645135&($>>>4^ie))<<4,$^=(U=65535&($>>>16^(ie^=U)))<<16,$^=U=858993459&((ie^=U)>>>2^$),$^=U=16711935&((ie^=U<<2)>>>8^$),$=($^=(U=1431655765&($>>>1^(ie^=U<<8)))<<1)<<1|$>>>31,ie=(ie^=U)<<1|ie>>>31;for(var se=0;se<R;se+=3){for(var L=j[se+1],J=j[se+2],q=j[se];q!=L;q+=J){var S=ie^M[q],re=(ie>>>4|ie<<28)^M[q+1];U=$,$=ie,ie=U^(p[S>>>24&63]|C[S>>>16&63]|u[S>>>8&63]|T[63&S]|y[re>>>24&63]|w[re>>>16&63]|m[re>>>8&63]|f[63&re])}U=$,$=ie,ie=U}ie=ie>>>1|ie<<31,ie^=U=1431655765&(($=$>>>1|$<<31)>>>1^ie),ie^=(U=16711935&(ie>>>8^($^=U<<1)))<<8,ie^=(U=858993459&(ie>>>2^($^=U)))<<2,ie^=U=65535&(($^=U)>>>16^ie),ie^=U=252645135&(($^=U<<16)>>>4^ie),N[0]=$^=U<<4,N[1]=ie}function b(M){var G,N="DES-"+((M=M||{}).mode||"CBC").toUpperCase(),R=(G=M.decrypt?n.cipher.createDecipher(N,M.key):n.cipher.createCipher(N,M.key)).start;return G.start=function(j,U){var $=null;U instanceof n.util.ByteBuffer&&($=U,U={}),(U=U||{}).output=$,U.iv=j,R.call(G,U)},G}},651:(nt,fe,h)=>{var n=h(6589);h(3364),h(1675),h(1290),h(812);var e=h(2758),y=e.publicKeyValidator,p=e.privateKeyValidator;if(typeof w>"u")var w=n.jsbn.BigInteger;var C=n.util.ByteBuffer,m=typeof Buffer>"u"?Uint8Array:Buffer;n.pki=n.pki||{},nt.exports=n.pki.ed25519=n.ed25519=n.ed25519||{};var u=n.ed25519;function f(Dt){var wt=Dt.message;if(wt instanceof Uint8Array||wt instanceof m)return wt;var z=Dt.encoding;if(void 0===wt){if(!Dt.md)throw new TypeError('"options.message" or "options.md" not specified.');wt=Dt.md.digest().getBytes(),z="binary"}if("string"==typeof wt&&!z)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if("string"==typeof wt){if(typeof Buffer<"u")return Buffer.from(wt,z);wt=new C(wt,z)}else if(!(wt instanceof C))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var Y=new m(wt.length()),Z=0;Z<Y.length;++Z)Y[Z]=wt.at(Z);return Y}u.constants={},u.constants.PUBLIC_KEY_BYTE_LENGTH=32,u.constants.PRIVATE_KEY_BYTE_LENGTH=64,u.constants.SEED_BYTE_LENGTH=32,u.constants.SIGN_BYTE_LENGTH=64,u.constants.HASH_BYTE_LENGTH=64,u.generateKeyPair=function(Dt){var wt=(Dt=Dt||{}).seed;if(void 0===wt)wt=n.random.getBytesSync(u.constants.SEED_BYTE_LENGTH);else if("string"==typeof wt){if(wt.length!==u.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+u.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(wt instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');wt=f({message:wt,encoding:"binary"});for(var z=new m(u.constants.PUBLIC_KEY_BYTE_LENGTH),Y=new m(u.constants.PRIVATE_KEY_BYTE_LENGTH),Z=0;Z<32;++Z)Y[Z]=wt[Z];return function j(Dt,wt){var Y,z=[Oe(),Oe(),Oe(),Oe()],Z=R(wt,32);for(Z[0]&=248,Z[31]&=127,Z[31]|=64,be(z,Z),q(Dt,z),Y=0;Y<32;++Y)wt[Y+32]=Dt[Y]}(z,Y),{publicKey:z,privateKey:Y}},u.privateKeyFromAsn1=function(Dt){var wt={},z=[];if(!n.asn1.validate(Dt,p,wt,z)){var Z=new Error("Invalid Key.");throw Z.errors=z,Z}var Ce=n.asn1.derToOid(wt.privateKeyOid),we=n.oids.EdDSA25519;if(Ce!==we)throw new Error('Invalid OID "'+Ce+'"; OID must be "'+we+'".');return{privateKeyBytes:f({message:n.asn1.fromDer(wt.privateKey).value,encoding:"binary"})}},u.publicKeyFromAsn1=function(Dt){var wt={},z=[];if(!n.asn1.validate(Dt,y,wt,z)){var Z=new Error("Invalid Key.");throw Z.errors=z,Z}var Ce=n.asn1.derToOid(wt.publicKeyOid),we=n.oids.EdDSA25519;if(Ce!==we)throw new Error('Invalid OID "'+Ce+'"; OID must be "'+we+'".');var at=wt.ed25519PublicKey;if(at.length!==u.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return f({message:at,encoding:"binary"})},u.publicKeyFromPrivateKey=function(Dt){var wt=f({message:(Dt=Dt||{}).privateKey,encoding:"binary"});if(wt.length!==u.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+u.constants.PRIVATE_KEY_BYTE_LENGTH);for(var z=new m(u.constants.PUBLIC_KEY_BYTE_LENGTH),Y=0;Y<z.length;++Y)z[Y]=wt[32+Y];return z},u.sign=function(Dt){var wt=f(Dt=Dt||{}),z=f({message:Dt.privateKey,encoding:"binary"});if(z.length===u.constants.SEED_BYTE_LENGTH)z=u.generateKeyPair({seed:z}).privateKey;else if(z.length!==u.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+u.constants.SEED_BYTE_LENGTH+" or "+u.constants.PRIVATE_KEY_BYTE_LENGTH);var Z=new m(u.constants.SIGN_BYTE_LENGTH+wt.length);!function U(Dt,wt,z,Y){var Z,Ce,we=new Float64Array(64),at=[Oe(),Oe(),Oe(),Oe()],Be=R(Y,32);Be[0]&=248,Be[31]&=127,Be[31]|=64;var ot=z+64;for(Z=0;Z<z;++Z)Dt[64+Z]=wt[Z];for(Z=0;Z<32;++Z)Dt[32+Z]=Be[32+Z];var Pt=R(Dt.subarray(32),z+32);for(se(Pt),be(at,Pt),q(Dt,at),Z=32;Z<64;++Z)Dt[Z]=Y[Z];var mt=R(Dt,z+64);for(se(mt),Z=32;Z<64;++Z)we[Z]=0;for(Z=0;Z<32;++Z)we[Z]=Pt[Z];for(Z=0;Z<32;++Z)for(Ce=0;Ce<32;Ce++)we[Z+Ce]+=mt[Z]*Be[Ce];ie(Dt.subarray(32),we)}(Z,wt,wt.length,z);for(var Ce=new m(u.constants.SIGN_BYTE_LENGTH),we=0;we<Ce.length;++we)Ce[we]=Z[we];return Ce},u.verify=function(Dt){var wt=f(Dt=Dt||{});if(void 0===Dt.signature)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var z=f({message:Dt.signature,encoding:"binary"});if(z.length!==u.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+u.constants.SIGN_BYTE_LENGTH);var Y=f({message:Dt.publicKey,encoding:"binary"});if(Y.length!==u.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+u.constants.PUBLIC_KEY_BYTE_LENGTH);var we,Z=new m(u.constants.SIGN_BYTE_LENGTH+wt.length),Ce=new m(u.constants.SIGN_BYTE_LENGTH+wt.length);for(we=0;we<u.constants.SIGN_BYTE_LENGTH;++we)Z[we]=z[we];for(we=0;we<wt.length;++we)Z[we+u.constants.SIGN_BYTE_LENGTH]=wt[we];return function $(Dt,wt,z,Y){var Z,we=new m(32),at=[Oe(),Oe(),Oe(),Oe()],Be=[Oe(),Oe(),Oe(),Oe()];if(-1,z<64||function re(Dt,wt){var z=Oe(),Y=Oe(),Z=Oe(),Ce=Oe(),we=Oe(),at=Oe(),Be=Oe();return le(Dt[2],O),function K(Dt,wt){var z;for(z=0;z<16;++z)Dt[z]=wt[2*z]+(wt[2*z+1]<<8);Dt[15]&=32767}(Dt[1],wt),qt(Z,Dt[1]),jt(Ce,Z,F),Ye(Z,Z,Dt[2]),pt(Ce,Dt[2],Ce),qt(we,Ce),qt(at,we),jt(Be,at,we),jt(z,Be,Z),jt(z,z,Ce),function me(Dt,wt){var Y,z=Oe();for(Y=0;Y<16;++Y)z[Y]=wt[Y];for(Y=250;Y>=0;--Y)qt(z,z),1!==Y&&jt(z,z,wt);for(Y=0;Y<16;++Y)Dt[Y]=z[Y]}(z,z),jt(z,z,Z),jt(z,z,Ce),jt(z,z,Ce),jt(Dt[0],z,Ce),qt(Y,Dt[0]),jt(Y,Y,Ce),Ne(Y,Z)&&jt(Dt[0],Dt[0],G),qt(Y,Dt[0]),jt(Y,Y,Ce),Ne(Y,Z)?-1:(Qe(Dt[0])===wt[31]>>7&&Ye(Dt[0],T,Dt[0]),jt(Dt[3],Dt[0],Dt[1]),0)}(Be,Y))return-1;for(Z=0;Z<z;++Z)Dt[Z]=wt[Z];for(Z=0;Z<32;++Z)Dt[Z+32]=Y[Z];var ot=R(Dt,z);if(se(ot),Se(at,Be,ot),be(Be,wt.subarray(32)),L(at,Be),q(we,at),z-=64,De(wt,0,we,0)){for(Z=0;Z<z;++Z)Dt[Z]=0;return-1}for(Z=0;Z<z;++Z)Dt[Z]=wt[Z+64];return z}(Ce,Z,Z.length,Y)>=0};var T=Oe(),O=Oe([1]),F=Oe([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),b=Oe([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),M=Oe([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),k=Oe([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),N=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),G=Oe([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function R(Dt,wt){var z=n.md.sha512.create(),Y=new C(Dt);z.update(Y.getBytes(wt),"binary");var Z=z.digest().getBytes();if(typeof Buffer<"u")return Buffer.from(Z,"binary");for(var Ce=new m(u.constants.HASH_BYTE_LENGTH),we=0;we<64;++we)Ce[we]=Z.charCodeAt(we);return Ce}function ie(Dt,wt){var z,Y,Z,Ce;for(Y=63;Y>=32;--Y){for(z=0,Z=Y-32,Ce=Y-12;Z<Ce;++Z)wt[Z]+=z-16*wt[Y]*N[Z-(Y-32)],wt[Z]-=256*(z=wt[Z]+128>>8);wt[Z]+=z,wt[Y]=0}for(z=0,Z=0;Z<32;++Z)wt[Z]+=z-(wt[31]>>4)*N[Z],z=wt[Z]>>8,wt[Z]&=255;for(Z=0;Z<32;++Z)wt[Z]-=z*N[Z];for(Y=0;Y<32;++Y)wt[Y+1]+=wt[Y]>>8,Dt[Y]=255&wt[Y]}function se(Dt){for(var wt=new Float64Array(64),z=0;z<64;++z)wt[z]=Dt[z],Dt[z]=0;ie(Dt,wt)}function L(Dt,wt){var z=Oe(),Y=Oe(),Z=Oe(),Ce=Oe(),we=Oe(),at=Oe(),Be=Oe(),ot=Oe(),Pt=Oe();Ye(z,Dt[1],Dt[0]),Ye(Pt,wt[1],wt[0]),jt(z,z,Pt),pt(Y,Dt[0],Dt[1]),pt(Pt,wt[0],wt[1]),jt(Y,Y,Pt),jt(Z,Dt[3],wt[3]),jt(Z,Z,b),jt(Ce,Dt[2],wt[2]),pt(Ce,Ce,Ce),Ye(we,Y,z),Ye(at,Ce,Z),pt(Be,Ce,Z),pt(ot,Y,z),jt(Dt[0],we,at),jt(Dt[1],ot,Be),jt(Dt[2],Be,at),jt(Dt[3],we,ot)}function J(Dt,wt,z){for(var Y=0;Y<4;++Y)st(Dt[Y],wt[Y],z)}function q(Dt,wt){var z=Oe(),Y=Oe(),Z=Oe();(function Fe(Dt,wt){var Y,z=Oe();for(Y=0;Y<16;++Y)z[Y]=wt[Y];for(Y=253;Y>=0;--Y)qt(z,z),2!==Y&&4!==Y&&jt(z,z,wt);for(Y=0;Y<16;++Y)Dt[Y]=z[Y]})(Z,wt[2]),jt(z,wt[0],Z),jt(Y,wt[1],Z),S(Dt,Y),Dt[31]^=Qe(z)<<7}function S(Dt,wt){var z,Y,Z,Ce=Oe(),we=Oe();for(z=0;z<16;++z)we[z]=wt[z];for(Te(we),Te(we),Te(we),Y=0;Y<2;++Y){for(Ce[0]=we[0]-65517,z=1;z<15;++z)Ce[z]=we[z]-65535-(Ce[z-1]>>16&1),Ce[z-1]&=65535;Ce[15]=we[15]-32767-(Ce[14]>>16&1),Z=Ce[15]>>16&1,Ce[14]&=65535,st(we,Ce,1-Z)}for(z=0;z<16;z++)Dt[2*z]=255&we[z],Dt[2*z+1]=we[z]>>8}function Ne(Dt,wt){var z=new m(32),Y=new m(32);return S(z,Dt),S(Y,wt),De(z,0,Y,0)}function De(Dt,wt,z,Y){return function xe(Dt,wt,z,Y,Z){var Ce,we=0;for(Ce=0;Ce<Z;++Ce)we|=Dt[wt+Ce]^z[Y+Ce];return(1&we-1>>>8)-1}(Dt,wt,z,Y,32)}function Qe(Dt){var wt=new m(32);return S(wt,Dt),1&wt[0]}function Se(Dt,wt,z){var Y,Z;for(le(Dt[0],T),le(Dt[1],O),le(Dt[2],O),le(Dt[3],T),Z=255;Z>=0;--Z)J(Dt,wt,Y=z[Z/8|0]>>(7&Z)&1),L(wt,Dt),L(Dt,Dt),J(Dt,wt,Y)}function be(Dt,wt){var z=[Oe(),Oe(),Oe(),Oe()];le(z[0],M),le(z[1],k),le(z[2],O),jt(z[3],M,k),Se(Dt,z,wt)}function le(Dt,wt){var z;for(z=0;z<16;z++)Dt[z]=0|wt[z]}function Te(Dt){var wt,z,Y=1;for(wt=0;wt<16;++wt)z=Dt[wt]+Y+65535,Y=Math.floor(z/65536),Dt[wt]=z-65536*Y;Dt[0]+=Y-1+37*(Y-1)}function st(Dt,wt,z){for(var Y,Z=~(z-1),Ce=0;Ce<16;++Ce)Dt[Ce]^=Y=Z&(Dt[Ce]^wt[Ce]),wt[Ce]^=Y}function Oe(Dt){var wt,z=new Float64Array(16);if(Dt)for(wt=0;wt<Dt.length;++wt)z[wt]=Dt[wt];return z}function pt(Dt,wt,z){for(var Y=0;Y<16;++Y)Dt[Y]=wt[Y]+z[Y]}function Ye(Dt,wt,z){for(var Y=0;Y<16;++Y)Dt[Y]=wt[Y]-z[Y]}function qt(Dt,wt){jt(Dt,wt,wt)}function jt(Dt,wt,z){var Y,Z,Ce=0,we=0,at=0,Be=0,ot=0,Pt=0,mt=0,it=0,Kt=0,sn=0,Ft=0,Jt=0,je=0,ce=0,X=0,oe=0,Ve=0,tt=0,gt=0,Bt=0,cn=0,hn=0,An=0,xn=0,Bn=0,It=0,Dn=0,Gt=0,lt=0,Ct=0,yt=0,Ot=z[0],en=z[1],Sn=z[2],Un=z[3],fn=z[4],di=z[5],Gn=z[6],Mt=z[7],ht=z[8],xt=z[9],$t=z[10],nn=z[11],vn=z[12],gn=z[13],Yn=z[14],In=z[15];Ce+=(Y=wt[0])*Ot,we+=Y*en,at+=Y*Sn,Be+=Y*Un,ot+=Y*fn,Pt+=Y*di,mt+=Y*Gn,it+=Y*Mt,Kt+=Y*ht,sn+=Y*xt,Ft+=Y*$t,Jt+=Y*nn,je+=Y*vn,ce+=Y*gn,X+=Y*Yn,oe+=Y*In,we+=(Y=wt[1])*Ot,at+=Y*en,Be+=Y*Sn,ot+=Y*Un,Pt+=Y*fn,mt+=Y*di,it+=Y*Gn,Kt+=Y*Mt,sn+=Y*ht,Ft+=Y*xt,Jt+=Y*$t,je+=Y*nn,ce+=Y*vn,X+=Y*gn,oe+=Y*Yn,Ve+=Y*In,at+=(Y=wt[2])*Ot,Be+=Y*en,ot+=Y*Sn,Pt+=Y*Un,mt+=Y*fn,it+=Y*di,Kt+=Y*Gn,sn+=Y*Mt,Ft+=Y*ht,Jt+=Y*xt,je+=Y*$t,ce+=Y*nn,X+=Y*vn,oe+=Y*gn,Ve+=Y*Yn,tt+=Y*In,Be+=(Y=wt[3])*Ot,ot+=Y*en,Pt+=Y*Sn,mt+=Y*Un,it+=Y*fn,Kt+=Y*di,sn+=Y*Gn,Ft+=Y*Mt,Jt+=Y*ht,je+=Y*xt,ce+=Y*$t,X+=Y*nn,oe+=Y*vn,Ve+=Y*gn,tt+=Y*Yn,gt+=Y*In,ot+=(Y=wt[4])*Ot,Pt+=Y*en,mt+=Y*Sn,it+=Y*Un,Kt+=Y*fn,sn+=Y*di,Ft+=Y*Gn,Jt+=Y*Mt,je+=Y*ht,ce+=Y*xt,X+=Y*$t,oe+=Y*nn,Ve+=Y*vn,tt+=Y*gn,gt+=Y*Yn,Bt+=Y*In,Pt+=(Y=wt[5])*Ot,mt+=Y*en,it+=Y*Sn,Kt+=Y*Un,sn+=Y*fn,Ft+=Y*di,Jt+=Y*Gn,je+=Y*Mt,ce+=Y*ht,X+=Y*xt,oe+=Y*$t,Ve+=Y*nn,tt+=Y*vn,gt+=Y*gn,Bt+=Y*Yn,cn+=Y*In,mt+=(Y=wt[6])*Ot,it+=Y*en,Kt+=Y*Sn,sn+=Y*Un,Ft+=Y*fn,Jt+=Y*di,je+=Y*Gn,ce+=Y*Mt,X+=Y*ht,oe+=Y*xt,Ve+=Y*$t,tt+=Y*nn,gt+=Y*vn,Bt+=Y*gn,cn+=Y*Yn,hn+=Y*In,it+=(Y=wt[7])*Ot,Kt+=Y*en,sn+=Y*Sn,Ft+=Y*Un,Jt+=Y*fn,je+=Y*di,ce+=Y*Gn,X+=Y*Mt,oe+=Y*ht,Ve+=Y*xt,tt+=Y*$t,gt+=Y*nn,Bt+=Y*vn,cn+=Y*gn,hn+=Y*Yn,An+=Y*In,Kt+=(Y=wt[8])*Ot,sn+=Y*en,Ft+=Y*Sn,Jt+=Y*Un,je+=Y*fn,ce+=Y*di,X+=Y*Gn,oe+=Y*Mt,Ve+=Y*ht,tt+=Y*xt,gt+=Y*$t,Bt+=Y*nn,cn+=Y*vn,hn+=Y*gn,An+=Y*Yn,xn+=Y*In,sn+=(Y=wt[9])*Ot,Ft+=Y*en,Jt+=Y*Sn,je+=Y*Un,ce+=Y*fn,X+=Y*di,oe+=Y*Gn,Ve+=Y*Mt,tt+=Y*ht,gt+=Y*xt,Bt+=Y*$t,cn+=Y*nn,hn+=Y*vn,An+=Y*gn,xn+=Y*Yn,Bn+=Y*In,Ft+=(Y=wt[10])*Ot,Jt+=Y*en,je+=Y*Sn,ce+=Y*Un,X+=Y*fn,oe+=Y*di,Ve+=Y*Gn,tt+=Y*Mt,gt+=Y*ht,Bt+=Y*xt,cn+=Y*$t,hn+=Y*nn,An+=Y*vn,xn+=Y*gn,Bn+=Y*Yn,It+=Y*In,Jt+=(Y=wt[11])*Ot,je+=Y*en,ce+=Y*Sn,X+=Y*Un,oe+=Y*fn,Ve+=Y*di,tt+=Y*Gn,gt+=Y*Mt,Bt+=Y*ht,cn+=Y*xt,hn+=Y*$t,An+=Y*nn,xn+=Y*vn,Bn+=Y*gn,It+=Y*Yn,Dn+=Y*In,je+=(Y=wt[12])*Ot,ce+=Y*en,X+=Y*Sn,oe+=Y*Un,Ve+=Y*fn,tt+=Y*di,gt+=Y*Gn,Bt+=Y*Mt,cn+=Y*ht,hn+=Y*xt,An+=Y*$t,xn+=Y*nn,Bn+=Y*vn,It+=Y*gn,Dn+=Y*Yn,Gt+=Y*In,ce+=(Y=wt[13])*Ot,X+=Y*en,oe+=Y*Sn,Ve+=Y*Un,tt+=Y*fn,gt+=Y*di,Bt+=Y*Gn,cn+=Y*Mt,hn+=Y*ht,An+=Y*xt,xn+=Y*$t,Bn+=Y*nn,It+=Y*vn,Dn+=Y*gn,Gt+=Y*Yn,lt+=Y*In,X+=(Y=wt[14])*Ot,oe+=Y*en,Ve+=Y*Sn,tt+=Y*Un,gt+=Y*fn,Bt+=Y*di,cn+=Y*Gn,hn+=Y*Mt,An+=Y*ht,xn+=Y*xt,Bn+=Y*$t,It+=Y*nn,Dn+=Y*vn,Gt+=Y*gn,lt+=Y*Yn,Ct+=Y*In,oe+=(Y=wt[15])*Ot,we+=38*(tt+=Y*Sn),at+=38*(gt+=Y*Un),Be+=38*(Bt+=Y*fn),ot+=38*(cn+=Y*di),Pt+=38*(hn+=Y*Gn),mt+=38*(An+=Y*Mt),it+=38*(xn+=Y*ht),Kt+=38*(Bn+=Y*xt),sn+=38*(It+=Y*$t),Ft+=38*(Dn+=Y*nn),Jt+=38*(Gt+=Y*vn),je+=38*(lt+=Y*gn),ce+=38*(Ct+=Y*Yn),X+=38*(yt+=Y*In),Ce=(Y=(Ce+=38*(Ve+=Y*en))+(Z=1)+65535)-65536*(Z=Math.floor(Y/65536)),we=(Y=we+Z+65535)-65536*(Z=Math.floor(Y/65536)),at=(Y=at+Z+65535)-65536*(Z=Math.floor(Y/65536)),Be=(Y=Be+Z+65535)-65536*(Z=Math.floor(Y/65536)),ot=(Y=ot+Z+65535)-65536*(Z=Math.floor(Y/65536)),Pt=(Y=Pt+Z+65535)-65536*(Z=Math.floor(Y/65536)),mt=(Y=mt+Z+65535)-65536*(Z=Math.floor(Y/65536)),it=(Y=it+Z+65535)-65536*(Z=Math.floor(Y/65536)),Kt=(Y=Kt+Z+65535)-65536*(Z=Math.floor(Y/65536)),sn=(Y=sn+Z+65535)-65536*(Z=Math.floor(Y/65536)),Ft=(Y=Ft+Z+65535)-65536*(Z=Math.floor(Y/65536)),Jt=(Y=Jt+Z+65535)-65536*(Z=Math.floor(Y/65536)),je=(Y=je+Z+65535)-65536*(Z=Math.floor(Y/65536)),ce=(Y=ce+Z+65535)-65536*(Z=Math.floor(Y/65536)),X=(Y=X+Z+65535)-65536*(Z=Math.floor(Y/65536)),oe=(Y=oe+Z+65535)-65536*(Z=Math.floor(Y/65536)),Ce=(Y=(Ce+=Z-1+37*(Z-1))+(Z=1)+65535)-65536*(Z=Math.floor(Y/65536)),we=(Y=we+Z+65535)-65536*(Z=Math.floor(Y/65536)),at=(Y=at+Z+65535)-65536*(Z=Math.floor(Y/65536)),Be=(Y=Be+Z+65535)-65536*(Z=Math.floor(Y/65536)),ot=(Y=ot+Z+65535)-65536*(Z=Math.floor(Y/65536)),Pt=(Y=Pt+Z+65535)-65536*(Z=Math.floor(Y/65536)),mt=(Y=mt+Z+65535)-65536*(Z=Math.floor(Y/65536)),it=(Y=it+Z+65535)-65536*(Z=Math.floor(Y/65536)),Kt=(Y=Kt+Z+65535)-65536*(Z=Math.floor(Y/65536)),sn=(Y=sn+Z+65535)-65536*(Z=Math.floor(Y/65536)),Ft=(Y=Ft+Z+65535)-65536*(Z=Math.floor(Y/65536)),Jt=(Y=Jt+Z+65535)-65536*(Z=Math.floor(Y/65536)),je=(Y=je+Z+65535)-65536*(Z=Math.floor(Y/65536)),ce=(Y=ce+Z+65535)-65536*(Z=Math.floor(Y/65536)),X=(Y=X+Z+65535)-65536*(Z=Math.floor(Y/65536)),oe=(Y=oe+Z+65535)-65536*(Z=Math.floor(Y/65536)),Dt[0]=Ce+=Z-1+37*(Z-1),Dt[1]=we,Dt[2]=at,Dt[3]=Be,Dt[4]=ot,Dt[5]=Pt,Dt[6]=mt,Dt[7]=it,Dt[8]=Kt,Dt[9]=sn,Dt[10]=Ft,Dt[11]=Jt,Dt[12]=je,Dt[13]=ce,Dt[14]=X,Dt[15]=oe}},6589:nt=>{nt.exports={options:{usePureJavaScript:!1}}},4579:(nt,fe,h)=>{var n=h(6589);h(5437),h(812),(nt.exports=n.hmac=n.hmac||{}).create=function(){var y=null,p=null,w=null,C=null,m={start:function(u,f){if(null!==u)if("string"==typeof u){if(!((u=u.toLowerCase())in n.md.algorithms))throw new Error('Unknown hash algorithm "'+u+'"');p=n.md.algorithms[u].create()}else p=u;if(null===f)f=y;else{if("string"==typeof f)f=n.util.createBuffer(f);else if(n.util.isArray(f)){var T=f;f=n.util.createBuffer();for(var O=0;O<T.length;++O)f.putByte(T[O])}var F=f.length();for(F>p.blockLength&&(p.start(),p.update(f.bytes()),f=p.digest()),w=n.util.createBuffer(),C=n.util.createBuffer(),F=f.length(),O=0;O<F;++O)T=f.at(O),w.putByte(54^T),C.putByte(92^T);if(F<p.blockLength)for(T=p.blockLength-F,O=0;O<T;++O)w.putByte(54),C.putByte(92);y=f,w=w.bytes(),C=C.bytes()}p.start(),p.update(w)},update:function(u){p.update(u)},getMac:function(){var u=p.digest().bytes();return p.start(),p.update(C),p.update(u),p.digest()}};return m.digest=m.getMac,m}},2114:(nt,fe,h)=>{nt.exports=h(6589),h(57),h(3707),h(7097),h(5855),h(3674),h(651),h(4579),h(8321),h(872),h(9228),h(5833),h(1097),h(9368),h(8788),h(4724),h(8645),h(9622),h(3697),h(409),h(8588),h(1675),h(1881),h(3120),h(9807),h(812)},3364:(nt,fe,h)=>{var e,n=h(6589);function w(_e,Ie,ye){this.data=[],null!=_e&&("number"==typeof _e?this.fromNumber(_e,Ie,ye):this.fromString(_e,null==Ie&&"string"!=typeof _e?256:Ie))}function C(){return new w(null)}function f(_e,Ie,ye,ft,ze,Tt){for(var vt=16383&Ie,Xt=Ie>>14;--Tt>=0;){var Vn=16383&this.data[_e],ri=this.data[_e++]>>14,vi=Xt*Vn+ri*vt;ze=((Vn=vt*Vn+((16383&vi)<<14)+ye.data[ft]+ze)>>28)+(vi>>14)+Xt*ri,ye.data[ft++]=268435455&Vn}return ze}nt.exports=n.jsbn=n.jsbn||{},n.jsbn.BigInteger=w,typeof navigator>"u"?(w.prototype.am=f,e=28):"Microsoft Internet Explorer"==navigator.appName?(w.prototype.am=function u(_e,Ie,ye,ft,ze,Tt){for(var vt=32767&Ie,Xt=Ie>>15;--Tt>=0;){var Vn=32767&this.data[_e],ri=this.data[_e++]>>15,vi=Xt*Vn+ri*vt;ze=((Vn=vt*Vn+((32767&vi)<<15)+ye.data[ft]+(1073741823&ze))>>>30)+(vi>>>15)+Xt*ri+(ze>>>30),ye.data[ft++]=1073741823&Vn}return ze},e=30):"Netscape"!=navigator.appName?(w.prototype.am=function m(_e,Ie,ye,ft,ze,Tt){for(;--Tt>=0;){var vt=Ie*this.data[_e++]+ye.data[ft]+ze;ze=Math.floor(vt/67108864),ye.data[ft++]=67108863&vt}return ze},e=26):(w.prototype.am=f,e=28),w.prototype.DB=e,w.prototype.DM=(1<<e)-1,w.prototype.DV=1<<e,w.prototype.FV=Math.pow(2,52),w.prototype.F1=52-e,w.prototype.F2=2*e-52;var b,M,F=new Array;for(b=48,M=0;M<=9;++M)F[b++]=M;for(b=97,M=10;M<36;++M)F[b++]=M;for(b=65,M=10;M<36;++M)F[b++]=M;function k(_e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(_e)}function N(_e,Ie){return F[_e.charCodeAt(Ie)]??-1}function j(_e){var Ie=C();return Ie.fromInt(_e),Ie}function q(_e){var ye,Ie=1;return 0!=(ye=_e>>>16)&&(_e=ye,Ie+=16),0!=(ye=_e>>8)&&(_e=ye,Ie+=8),0!=(ye=_e>>4)&&(_e=ye,Ie+=4),0!=(ye=_e>>2)&&(_e=ye,Ie+=2),0!=(ye=_e>>1)&&(_e=ye,Ie+=1),Ie}function le(_e){this.m=_e}function qt(_e){this.m=_e,this.mp=_e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<_e.DB-15)-1,this.mt2=2*_e.t}function Ve(_e,Ie){return _e&Ie}function gt(_e,Ie){return _e|Ie}function cn(_e,Ie){return _e^Ie}function An(_e,Ie){return _e&~Ie}function Gt(_e){if(0==_e)return-1;var Ie=0;return 65535&_e||(_e>>=16,Ie+=16),255&_e||(_e>>=8,Ie+=8),15&_e||(_e>>=4,Ie+=4),3&_e||(_e>>=2,Ie+=2),1&_e||++Ie,Ie}function Ct(_e){for(var Ie=0;0!=_e;)_e&=_e-1,++Ie;return Ie}function Yn(){}function In(_e){return _e}function Xn(_e){this.r2=C(),this.q3=C(),w.ONE.dlShiftTo(2*_e.t,this.r2),this.mu=this.r2.divide(_e),this.m=_e}le.prototype.convert=function Fe(_e){return _e.s<0||_e.compareTo(this.m)>=0?_e.mod(this.m):_e},le.prototype.revert=function Te(_e){return _e},le.prototype.reduce=function st(_e){_e.divRemTo(this.m,null,_e)},le.prototype.mulTo=function Oe(_e,Ie,ye){_e.multiplyTo(Ie,ye),this.reduce(ye)},le.prototype.sqrTo=function pt(_e,Ie){_e.squareTo(Ie),this.reduce(Ie)},qt.prototype.convert=function jt(_e){var Ie=C();return _e.abs().dlShiftTo(this.m.t,Ie),Ie.divRemTo(this.m,null,Ie),_e.s<0&&Ie.compareTo(w.ZERO)>0&&this.m.subTo(Ie,Ie),Ie},qt.prototype.revert=function Dt(_e){var Ie=C();return _e.copyTo(Ie),this.reduce(Ie),Ie},qt.prototype.reduce=function wt(_e){for(;_e.t<=this.mt2;)_e.data[_e.t++]=0;for(var Ie=0;Ie<this.m.t;++Ie){var ye=32767&_e.data[Ie],ft=ye*this.mpl+((ye*this.mph+(_e.data[Ie]>>15)*this.mpl&this.um)<<15)&_e.DM;for(_e.data[ye=Ie+this.m.t]+=this.m.am(0,ft,_e,Ie,0,this.m.t);_e.data[ye]>=_e.DV;)_e.data[ye]-=_e.DV,_e.data[++ye]++}_e.clamp(),_e.drShiftTo(this.m.t,_e),_e.compareTo(this.m)>=0&&_e.subTo(this.m,_e)},qt.prototype.mulTo=function Y(_e,Ie,ye){_e.multiplyTo(Ie,ye),this.reduce(ye)},qt.prototype.sqrTo=function z(_e,Ie){_e.squareTo(Ie),this.reduce(Ie)},w.prototype.copyTo=function G(_e){for(var Ie=this.t-1;Ie>=0;--Ie)_e.data[Ie]=this.data[Ie];_e.t=this.t,_e.s=this.s},w.prototype.fromInt=function R(_e){this.t=1,this.s=_e<0?-1:0,_e>0?this.data[0]=_e:_e<-1?this.data[0]=_e+this.DV:this.t=0},w.prototype.fromString=function U(_e,Ie){var ye;if(16==Ie)ye=4;else if(8==Ie)ye=3;else if(256==Ie)ye=8;else if(2==Ie)ye=1;else if(32==Ie)ye=5;else{if(4!=Ie)return void this.fromRadix(_e,Ie);ye=2}this.t=0,this.s=0;for(var ft=_e.length,ze=!1,Tt=0;--ft>=0;){var vt=8==ye?255&_e[ft]:N(_e,ft);vt<0?"-"==_e.charAt(ft)&&(ze=!0):(ze=!1,0==Tt?this.data[this.t++]=vt:Tt+ye>this.DB?(this.data[this.t-1]|=(vt&(1<<this.DB-Tt)-1)<<Tt,this.data[this.t++]=vt>>this.DB-Tt):this.data[this.t-1]|=vt<<Tt,(Tt+=ye)>=this.DB&&(Tt-=this.DB))}8==ye&&128&_e[0]&&(this.s=-1,Tt>0&&(this.data[this.t-1]|=(1<<this.DB-Tt)-1<<Tt)),this.clamp(),ze&&w.ZERO.subTo(this,this)},w.prototype.clamp=function $(){for(var _e=this.s&this.DM;this.t>0&&this.data[this.t-1]==_e;)--this.t},w.prototype.dlShiftTo=function re(_e,Ie){var ye;for(ye=this.t-1;ye>=0;--ye)Ie.data[ye+_e]=this.data[ye];for(ye=_e-1;ye>=0;--ye)Ie.data[ye]=0;Ie.t=this.t+_e,Ie.s=this.s},w.prototype.drShiftTo=function K(_e,Ie){for(var ye=_e;ye<this.t;++ye)Ie.data[ye-_e]=this.data[ye];Ie.t=Math.max(this.t-_e,0),Ie.s=this.s},w.prototype.lShiftTo=function me(_e,Ie){var Xt,ye=_e%this.DB,ft=this.DB-ye,ze=(1<<ft)-1,Tt=Math.floor(_e/this.DB),vt=this.s<<ye&this.DM;for(Xt=this.t-1;Xt>=0;--Xt)Ie.data[Xt+Tt+1]=this.data[Xt]>>ft|vt,vt=(this.data[Xt]&ze)<<ye;for(Xt=Tt-1;Xt>=0;--Xt)Ie.data[Xt]=0;Ie.data[Tt]=vt,Ie.t=this.t+Tt+1,Ie.s=this.s,Ie.clamp()},w.prototype.rShiftTo=function Ne(_e,Ie){Ie.s=this.s;var ye=Math.floor(_e/this.DB);if(ye>=this.t)Ie.t=0;else{var ft=_e%this.DB,ze=this.DB-ft,Tt=(1<<ft)-1;Ie.data[0]=this.data[ye]>>ft;for(var vt=ye+1;vt<this.t;++vt)Ie.data[vt-ye-1]|=(this.data[vt]&Tt)<<ze,Ie.data[vt-ye]=this.data[vt]>>ft;ft>0&&(Ie.data[this.t-ye-1]|=(this.s&Tt)<<ze),Ie.t=this.t-ye,Ie.clamp()}},w.prototype.subTo=function De(_e,Ie){for(var ye=0,ft=0,ze=Math.min(_e.t,this.t);ye<ze;)ft+=this.data[ye]-_e.data[ye],Ie.data[ye++]=ft&this.DM,ft>>=this.DB;if(_e.t<this.t){for(ft-=_e.s;ye<this.t;)ft+=this.data[ye],Ie.data[ye++]=ft&this.DM,ft>>=this.DB;ft+=this.s}else{for(ft+=this.s;ye<_e.t;)ft-=_e.data[ye],Ie.data[ye++]=ft&this.DM,ft>>=this.DB;ft-=_e.s}Ie.s=ft<0?-1:0,ft<-1?Ie.data[ye++]=this.DV+ft:ft>0&&(Ie.data[ye++]=ft),Ie.t=ye,Ie.clamp()},w.prototype.multiplyTo=function xe(_e,Ie){var ye=this.abs(),ft=_e.abs(),ze=ye.t;for(Ie.t=ze+ft.t;--ze>=0;)Ie.data[ze]=0;for(ze=0;ze<ft.t;++ze)Ie.data[ze+ye.t]=ye.am(0,ft.data[ze],Ie,ze,0,ye.t);Ie.s=0,Ie.clamp(),this.s!=_e.s&&w.ZERO.subTo(Ie,Ie)},w.prototype.squareTo=function Qe(_e){for(var Ie=this.abs(),ye=_e.t=2*Ie.t;--ye>=0;)_e.data[ye]=0;for(ye=0;ye<Ie.t-1;++ye){var ft=Ie.am(ye,Ie.data[ye],_e,2*ye,0,1);(_e.data[ye+Ie.t]+=Ie.am(ye+1,2*Ie.data[ye],_e,2*ye+1,ft,Ie.t-ye-1))>=Ie.DV&&(_e.data[ye+Ie.t]-=Ie.DV,_e.data[ye+Ie.t+1]=1)}_e.t>0&&(_e.data[_e.t-1]+=Ie.am(ye,Ie.data[ye],_e,2*ye,0,1)),_e.s=0,_e.clamp()},w.prototype.divRemTo=function Se(_e,Ie,ye){var ft=_e.abs();if(!(ft.t<=0)){var ze=this.abs();if(ze.t<ft.t)return Ie?.fromInt(0),void(null!=ye&&this.copyTo(ye));null==ye&&(ye=C());var Tt=C(),vt=this.s,Xt=_e.s,Vn=this.DB-q(ft.data[ft.t-1]);Vn>0?(ft.lShiftTo(Vn,Tt),ze.lShiftTo(Vn,ye)):(ft.copyTo(Tt),ze.copyTo(ye));var ri=Tt.t,vi=Tt.data[ri-1];if(0!=vi){var ti=vi*(1<<this.F1)+(ri>1?Tt.data[ri-2]>>this.F2:0),Ui=this.FV/ti,hr=(1<<this.F1)/ti,Hn=1<<this.F2,si=ye.t,ar=si-ri,Ai=Ie??C();for(Tt.dlShiftTo(ar,Ai),ye.compareTo(Ai)>=0&&(ye.data[ye.t++]=1,ye.subTo(Ai,ye)),w.ONE.dlShiftTo(ri,Ai),Ai.subTo(Tt,Tt);Tt.t<ri;)Tt.data[Tt.t++]=0;for(;--ar>=0;){var kr=ye.data[--si]==vi?this.DM:Math.floor(ye.data[si]*Ui+(ye.data[si-1]+Hn)*hr);if((ye.data[si]+=Tt.am(0,kr,ye,ar,0,ri))<kr)for(Tt.dlShiftTo(ar,Ai),ye.subTo(Ai,ye);ye.data[si]<--kr;)ye.subTo(Ai,ye)}null!=Ie&&(ye.drShiftTo(ri,Ie),vt!=Xt&&w.ZERO.subTo(Ie,Ie)),ye.t=ri,ye.clamp(),Vn>0&&ye.rShiftTo(Vn,ye),vt<0&&w.ZERO.subTo(ye,ye)}}},w.prototype.invDigit=function Ye(){if(this.t<1)return 0;var _e=this.data[0];if(!(1&_e))return 0;var Ie=3&_e;return(Ie=(Ie=(Ie=(Ie=Ie*(2-(15&_e)*Ie)&15)*(2-(255&_e)*Ie)&255)*(2-((65535&_e)*Ie&65535))&65535)*(2-_e*Ie%this.DV)%this.DV)>0?this.DV-Ie:-Ie},w.prototype.isEven=function Z(){return 0==(this.t>0?1&this.data[0]:this.s)},w.prototype.exp=function Ce(_e,Ie){if(_e>4294967295||_e<1)return w.ONE;var ye=C(),ft=C(),ze=Ie.convert(this),Tt=q(_e)-1;for(ze.copyTo(ye);--Tt>=0;)if(Ie.sqrTo(ye,ft),(_e&1<<Tt)>0)Ie.mulTo(ft,ze,ye);else{var vt=ye;ye=ft,ft=vt}return Ie.revert(ye)},w.prototype.toString=function ie(_e){if(this.s<0)return"-"+this.negate().toString(_e);var Ie;if(16==_e)Ie=4;else if(8==_e)Ie=3;else if(2==_e)Ie=1;else if(32==_e)Ie=5;else{if(4!=_e)return this.toRadix(_e);Ie=2}var ft,ye=(1<<Ie)-1,ze=!1,Tt="",vt=this.t,Xt=this.DB-vt*this.DB%Ie;if(vt-- >0)for(Xt<this.DB&&(ft=this.data[vt]>>Xt)>0&&(ze=!0,Tt=k(ft));vt>=0;)Xt<Ie?(ft=(this.data[vt]&(1<<Xt)-1)<<Ie-Xt,ft|=this.data[--vt]>>(Xt+=this.DB-Ie)):(ft=this.data[vt]>>(Xt-=Ie)&ye,Xt<=0&&(Xt+=this.DB,--vt)),ft>0&&(ze=!0),ze&&(Tt+=k(ft));return ze?Tt:"0"},w.prototype.negate=function se(){var _e=C();return w.ZERO.subTo(this,_e),_e},w.prototype.abs=function L(){return this.s<0?this.negate():this},w.prototype.compareTo=function J(_e){var Ie=this.s-_e.s;if(0!=Ie)return Ie;var ye=this.t;if(0!=(Ie=ye-_e.t))return this.s<0?-Ie:Ie;for(;--ye>=0;)if(0!=(Ie=this.data[ye]-_e.data[ye]))return Ie;return 0},w.prototype.bitLength=function S(){return this.t<=0?0:this.DB*(this.t-1)+q(this.data[this.t-1]^this.s&this.DM)},w.prototype.mod=function be(_e){var Ie=C();return this.abs().divRemTo(_e,null,Ie),this.s<0&&Ie.compareTo(w.ZERO)>0&&_e.subTo(Ie,Ie),Ie},w.prototype.modPowInt=function we(_e,Ie){var ye;return ye=_e<256||Ie.isEven()?new le(Ie):new qt(Ie),this.exp(_e,ye)},w.ZERO=j(0),w.ONE=j(1),Yn.prototype.convert=In,Yn.prototype.revert=In,Yn.prototype.mulTo=function mn(_e,Ie,ye){_e.multiplyTo(Ie,ye)},Yn.prototype.sqrTo=function ci(_e,Ie){_e.squareTo(Ie)},Xn.prototype.convert=function wi(_e){if(_e.s<0||_e.t>2*this.m.t)return _e.mod(this.m);if(_e.compareTo(this.m)<0)return _e;var Ie=C();return _e.copyTo(Ie),this.reduce(Ie),Ie},Xn.prototype.revert=function mi(_e){return _e},Xn.prototype.reduce=function Hi(_e){for(_e.drShiftTo(this.m.t-1,this.r2),_e.t>this.m.t+1&&(_e.t=this.m.t+1,_e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);_e.compareTo(this.r2)<0;)_e.dAddOffset(1,this.m.t+1);for(_e.subTo(this.r2,_e);_e.compareTo(this.m)>=0;)_e.subTo(this.m,_e)},Xn.prototype.mulTo=function Ei(_e,Ie,ye){_e.multiplyTo(Ie,ye),this.reduce(ye)},Xn.prototype.sqrTo=function ji(_e,Ie){_e.squareTo(Ie),this.reduce(Ie)};var ct=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],Yt=(1<<26)/ct[ct.length-1];w.prototype.chunkSize=function mt(_e){return Math.floor(Math.LN2*this.DB/Math.log(_e))},w.prototype.toRadix=function Kt(_e){if(null==_e&&(_e=10),0==this.signum()||_e<2||_e>36)return"0";var Ie=this.chunkSize(_e),ye=Math.pow(_e,Ie),ft=j(ye),ze=C(),Tt=C(),vt="";for(this.divRemTo(ft,ze,Tt);ze.signum()>0;)vt=(ye+Tt.intValue()).toString(_e).substr(1)+vt,ze.divRemTo(ft,ze,Tt);return Tt.intValue().toString(_e)+vt},w.prototype.fromRadix=function sn(_e,Ie){this.fromInt(0),null==Ie&&(Ie=10);for(var ye=this.chunkSize(Ie),ft=Math.pow(Ie,ye),ze=!1,Tt=0,vt=0,Xt=0;Xt<_e.length;++Xt){var Vn=N(_e,Xt);Vn<0?"-"==_e.charAt(Xt)&&0==this.signum()&&(ze=!0):(vt=Ie*vt+Vn,++Tt>=ye&&(this.dMultiply(ft),this.dAddOffset(vt,0),Tt=0,vt=0))}Tt>0&&(this.dMultiply(Math.pow(Ie,Tt)),this.dAddOffset(vt,0)),ze&&w.ZERO.subTo(this,this)},w.prototype.fromNumber=function Ft(_e,Ie,ye){if("number"==typeof Ie)if(_e<2)this.fromInt(1);else for(this.fromNumber(_e,ye),this.testBit(_e-1)||this.bitwiseTo(w.ONE.shiftLeft(_e-1),gt,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(Ie);)this.dAddOffset(2,0),this.bitLength()>_e&&this.subTo(w.ONE.shiftLeft(_e-1),this);else{var ft=new Array,ze=7&_e;ft.length=1+(_e>>3),Ie.nextBytes(ft),ze>0?ft[0]&=(1<<ze)-1:ft[0]=0,this.fromString(ft,256)}},w.prototype.bitwiseTo=function oe(_e,Ie,ye){var ft,ze,Tt=Math.min(_e.t,this.t);for(ft=0;ft<Tt;++ft)ye.data[ft]=Ie(this.data[ft],_e.data[ft]);if(_e.t<this.t){for(ze=_e.s&this.DM,ft=Tt;ft<this.t;++ft)ye.data[ft]=Ie(this.data[ft],ze);ye.t=this.t}else{for(ze=this.s&this.DM,ft=Tt;ft<_e.t;++ft)ye.data[ft]=Ie(ze,_e.data[ft]);ye.t=_e.t}ye.s=Ie(this.s,_e.s),ye.clamp()},w.prototype.changeBit=function en(_e,Ie){var ye=w.ONE.shiftLeft(_e);return this.bitwiseTo(ye,Ie,ye),ye},w.prototype.addTo=function di(_e,Ie){for(var ye=0,ft=0,ze=Math.min(_e.t,this.t);ye<ze;)ft+=this.data[ye]+_e.data[ye],Ie.data[ye++]=ft&this.DM,ft>>=this.DB;if(_e.t<this.t){for(ft+=_e.s;ye<this.t;)ft+=this.data[ye],Ie.data[ye++]=ft&this.DM,ft>>=this.DB;ft+=this.s}else{for(ft+=this.s;ye<_e.t;)ft+=_e.data[ye],Ie.data[ye++]=ft&this.DM,ft>>=this.DB;ft+=_e.s}Ie.s=ft<0?-1:0,ft>0?Ie.data[ye++]=ft:ft<-1&&(Ie.data[ye++]=this.DV+ft),Ie.t=ye,Ie.clamp()},w.prototype.dMultiply=function vn(_e){this.data[this.t]=this.am(0,_e-1,this,0,0,this.t),++this.t,this.clamp()},w.prototype.dAddOffset=function gn(_e,Ie){if(0!=_e){for(;this.t<=Ie;)this.data[this.t++]=0;for(this.data[Ie]+=_e;this.data[Ie]>=this.DV;)this.data[Ie]-=this.DV,++Ie>=this.t&&(this.data[this.t++]=0),++this.data[Ie]}},w.prototype.multiplyLowerTo=function ei(_e,Ie,ye){var ze,ft=Math.min(this.t+_e.t,Ie);for(ye.s=0,ye.t=ft;ft>0;)ye.data[--ft]=0;for(ze=ye.t-this.t;ft<ze;++ft)ye.data[ft+this.t]=this.am(0,_e.data[ft],ye,ft,0,this.t);for(ze=Math.min(_e.t,Ie);ft<ze;++ft)this.am(0,_e.data[ft],ye,ft,0,Ie-ft);ye.clamp()},w.prototype.multiplyUpperTo=function Oi(_e,Ie,ye){--Ie;var ft=ye.t=this.t+_e.t-Ie;for(ye.s=0;--ft>=0;)ye.data[ft]=0;for(ft=Math.max(Ie-this.t,0);ft<_e.t;++ft)ye.data[this.t+ft-Ie]=this.am(Ie-ft,_e.data[ft],ye,0,0,this.t+ft-Ie);ye.clamp(),ye.drShiftTo(1,ye)},w.prototype.modInt=function We(_e){if(_e<=0)return 0;var Ie=this.DV%_e,ye=this.s<0?_e-1:0;if(this.t>0)if(0==Ie)ye=this.data[0]%_e;else for(var ft=this.t-1;ft>=0;--ft)ye=(Ie*ye+this.data[ft])%_e;return ye},w.prototype.millerRabin=function Zt(_e){var Ie=this.subtract(w.ONE),ye=Ie.getLowestSetBit();if(ye<=0)return!1;for(var Tt,ft=Ie.shiftRight(ye),ze=function ut(){return{nextBytes:function(_e){for(var Ie=0;Ie<_e.length;++Ie)_e[Ie]=Math.floor(256*Math.random())}}}(),vt=0;vt<_e;++vt){do{Tt=new w(this.bitLength(),ze)}while(Tt.compareTo(w.ONE)<=0||Tt.compareTo(Ie)>=0);var Xt=Tt.modPow(ft,this);if(0!=Xt.compareTo(w.ONE)&&0!=Xt.compareTo(Ie)){for(var Vn=1;Vn++<ye&&0!=Xt.compareTo(Ie);)if(0==(Xt=Xt.modPowInt(2,this)).compareTo(w.ONE))return!1;if(0!=Xt.compareTo(Ie))return!1}}return!0},w.prototype.clone=function at(){var _e=C();return this.copyTo(_e),_e},w.prototype.intValue=function Be(){if(this.s<0){if(1==this.t)return this.data[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this.data[0];if(0==this.t)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]},w.prototype.byteValue=function ot(){return 0==this.t?this.s:this.data[0]<<24>>24},w.prototype.shortValue=function Pt(){return 0==this.t?this.s:this.data[0]<<16>>16},w.prototype.signum=function it(){return this.s<0?-1:this.t<=0||1==this.t&&this.data[0]<=0?0:1},w.prototype.toByteArray=function Jt(){var _e=this.t,Ie=new Array;Ie[0]=this.s;var ft,ye=this.DB-_e*this.DB%8,ze=0;if(_e-- >0)for(ye<this.DB&&(ft=this.data[_e]>>ye)!=(this.s&this.DM)>>ye&&(Ie[ze++]=ft|this.s<<this.DB-ye);_e>=0;)ye<8?(ft=(this.data[_e]&(1<<ye)-1)<<8-ye,ft|=this.data[--_e]>>(ye+=this.DB-8)):(ft=this.data[_e]>>(ye-=8)&255,ye<=0&&(ye+=this.DB,--_e)),128&ft&&(ft|=-256),0==ze&&(128&this.s)!=(128&ft)&&++ze,(ze>0||ft!=this.s)&&(Ie[ze++]=ft);return Ie},w.prototype.equals=function je(_e){return 0==this.compareTo(_e)},w.prototype.min=function ce(_e){return this.compareTo(_e)<0?this:_e},w.prototype.max=function X(_e){return this.compareTo(_e)>0?this:_e},w.prototype.and=function tt(_e){var Ie=C();return this.bitwiseTo(_e,Ve,Ie),Ie},w.prototype.or=function Bt(_e){var Ie=C();return this.bitwiseTo(_e,gt,Ie),Ie},w.prototype.xor=function hn(_e){var Ie=C();return this.bitwiseTo(_e,cn,Ie),Ie},w.prototype.andNot=function xn(_e){var Ie=C();return this.bitwiseTo(_e,An,Ie),Ie},w.prototype.not=function Bn(){for(var _e=C(),Ie=0;Ie<this.t;++Ie)_e.data[Ie]=this.DM&~this.data[Ie];return _e.t=this.t,_e.s=~this.s,_e},w.prototype.shiftLeft=function It(_e){var Ie=C();return _e<0?this.rShiftTo(-_e,Ie):this.lShiftTo(_e,Ie),Ie},w.prototype.shiftRight=function Dn(_e){var Ie=C();return _e<0?this.lShiftTo(-_e,Ie):this.rShiftTo(_e,Ie),Ie},w.prototype.getLowestSetBit=function lt(){for(var _e=0;_e<this.t;++_e)if(0!=this.data[_e])return _e*this.DB+Gt(this.data[_e]);return this.s<0?this.t*this.DB:-1},w.prototype.bitCount=function yt(){for(var _e=0,Ie=this.s&this.DM,ye=0;ye<this.t;++ye)_e+=Ct(this.data[ye]^Ie);return _e},w.prototype.testBit=function Ot(_e){var Ie=Math.floor(_e/this.DB);return Ie>=this.t?0!=this.s:!!(this.data[Ie]&1<<_e%this.DB)},w.prototype.setBit=function Sn(_e){return this.changeBit(_e,gt)},w.prototype.clearBit=function Un(_e){return this.changeBit(_e,An)},w.prototype.flipBit=function fn(_e){return this.changeBit(_e,cn)},w.prototype.add=function Gn(_e){var Ie=C();return this.addTo(_e,Ie),Ie},w.prototype.subtract=function Mt(_e){var Ie=C();return this.subTo(_e,Ie),Ie},w.prototype.multiply=function ht(_e){var Ie=C();return this.multiplyTo(_e,Ie),Ie},w.prototype.divide=function xt(_e){var Ie=C();return this.divRemTo(_e,Ie,null),Ie},w.prototype.remainder=function $t(_e){var Ie=C();return this.divRemTo(_e,null,Ie),Ie},w.prototype.divideAndRemainder=function nn(_e){var Ie=C(),ye=C();return this.divRemTo(_e,Ie,ye),new Array(Ie,ye)},w.prototype.modPow=function qe(_e,Ie){var ft,Tt,ye=_e.bitLength(),ze=j(1);if(ye<=0)return ze;ft=ye<18?1:ye<48?3:ye<144?4:ye<768?5:6,Tt=ye<8?new le(Ie):Ie.isEven()?new Xn(Ie):new qt(Ie);var vt=new Array,Xt=3,Vn=ft-1,ri=(1<<ft)-1;if(vt[1]=Tt.convert(this),ft>1){var vi=C();for(Tt.sqrTo(vt[1],vi);Xt<=ri;)vt[Xt]=C(),Tt.mulTo(vi,vt[Xt-2],vt[Xt]),Xt+=2}var Ui,si,ti=_e.t-1,hr=!0,Hn=C();for(ye=q(_e.data[ti])-1;ti>=0;){for(ye>=Vn?Ui=_e.data[ti]>>ye-Vn&ri:(Ui=(_e.data[ti]&(1<<ye+1)-1)<<Vn-ye,ti>0&&(Ui|=_e.data[ti-1]>>this.DB+ye-Vn)),Xt=ft;!(1&Ui);)Ui>>=1,--Xt;if((ye-=Xt)<0&&(ye+=this.DB,--ti),hr)vt[Ui].copyTo(ze),hr=!1;else{for(;Xt>1;)Tt.sqrTo(ze,Hn),Tt.sqrTo(Hn,ze),Xt-=2;Xt>0?Tt.sqrTo(ze,Hn):(si=ze,ze=Hn,Hn=si),Tt.mulTo(Hn,vt[Ui],ze)}for(;ti>=0&&!(_e.data[ti]&1<<ye);)Tt.sqrTo(ze,Hn),si=ze,ze=Hn,Hn=si,--ye<0&&(ye=this.DB-1,--ti)}return Tt.revert(ze)},w.prototype.modInverse=function zt(_e){var Ie=_e.isEven();if(this.isEven()&&Ie||0==_e.signum())return w.ZERO;for(var ye=_e.clone(),ft=this.clone(),ze=j(1),Tt=j(0),vt=j(0),Xt=j(1);0!=ye.signum();){for(;ye.isEven();)ye.rShiftTo(1,ye),Ie?((!ze.isEven()||!Tt.isEven())&&(ze.addTo(this,ze),Tt.subTo(_e,Tt)),ze.rShiftTo(1,ze)):Tt.isEven()||Tt.subTo(_e,Tt),Tt.rShiftTo(1,Tt);for(;ft.isEven();)ft.rShiftTo(1,ft),Ie?((!vt.isEven()||!Xt.isEven())&&(vt.addTo(this,vt),Xt.subTo(_e,Xt)),vt.rShiftTo(1,vt)):Xt.isEven()||Xt.subTo(_e,Xt),Xt.rShiftTo(1,Xt);ye.compareTo(ft)>=0?(ye.subTo(ft,ye),Ie&&ze.subTo(vt,ze),Tt.subTo(Xt,Tt)):(ft.subTo(ye,ft),Ie&&vt.subTo(ze,vt),Xt.subTo(Tt,Xt))}return 0!=ft.compareTo(w.ONE)?w.ZERO:Xt.compareTo(_e)>=0?Xt.subtract(_e):Xt.signum()<0?(Xt.addTo(_e,Xt),Xt.signum()<0?Xt.add(_e):Xt):Xt},w.prototype.pow=function pi(_e){return this.exp(_e,new Yn)},w.prototype.gcd=function At(_e){var Ie=this.s<0?this.negate():this.clone(),ye=_e.s<0?_e.negate():_e.clone();if(Ie.compareTo(ye)<0){var ft=Ie;Ie=ye,ye=ft}var ze=Ie.getLowestSetBit(),Tt=ye.getLowestSetBit();if(Tt<0)return Ie;for(ze<Tt&&(Tt=ze),Tt>0&&(Ie.rShiftTo(Tt,Ie),ye.rShiftTo(Tt,ye));Ie.signum()>0;)(ze=Ie.getLowestSetBit())>0&&Ie.rShiftTo(ze,Ie),(ze=ye.getLowestSetBit())>0&&ye.rShiftTo(ze,ye),Ie.compareTo(ye)>=0?(Ie.subTo(ye,Ie),Ie.rShiftTo(1,Ie)):(ye.subTo(Ie,ye),ye.rShiftTo(1,ye));return Tt>0&&ye.lShiftTo(Tt,ye),ye},w.prototype.isProbablePrime=function Xe(_e){var Ie,ye=this.abs();if(1==ye.t&&ye.data[0]<=ct[ct.length-1]){for(Ie=0;Ie<ct.length;++Ie)if(ye.data[0]==ct[Ie])return!0;return!1}if(ye.isEven())return!1;for(Ie=1;Ie<ct.length;){for(var ft=ct[Ie],ze=Ie+1;ze<ct.length&&ft<Yt;)ft*=ct[ze++];for(ft=ye.modInt(ft);Ie<ze;)if(ft%ct[Ie++]==0)return!1}return ye.millerRabin(_e)}},8321:(nt,fe,h)=>{var n=h(6589);h(812),h(1675),h(3364),nt.exports=n.kem=n.kem||{};var e=n.jsbn.BigInteger;function y(p,w,C,m){p.generate=function(u,f){for(var T=new n.util.ByteBuffer,O=Math.ceil(f/m)+C,F=new n.util.ByteBuffer,b=C;b<O;++b){F.putInt32(b),w.start(),w.update(u+F.getBytes());var M=w.digest();T.putBytes(M.getBytes(m))}return T.truncate(T.length()-f),T.getBytes()}}n.kem.rsa={},n.kem.rsa.create=function(p,w){var C=(w=w||{}).prng||n.random;return{encrypt:function(u,f){var O,T=Math.ceil(u.n.bitLength()/8);do{O=new e(n.util.bytesToHex(C.getBytesSync(T)),16).mod(u.n)}while(O.compareTo(e.ONE)<=0);var F=T-(O=n.util.hexToBytes(O.toString(16))).length;return F>0&&(O=n.util.fillString("\0",F)+O),{encapsulation:u.encrypt(O,"NONE"),key:p.generate(O,f)}},decrypt:function(u,f,T){var O=u.decrypt(f,"NONE");return p.generate(O,T)}}},n.kem.kdf1=function(p,w){y(this,p,0,w||p.digestLength)},n.kem.kdf2=function(p,w){y(this,p,1,w||p.digestLength)}},872:(nt,fe,h)=>{var n=h(6589);h(812),nt.exports=n.log=n.log||{},n.log.levels=["none","error","warning","info","debug","verbose","max"];var e={},y=[],p=null;n.log.LEVEL_LOCKED=2,n.log.NO_LEVEL_CHECK=4,n.log.INTERPOLATE=8;for(var w=0;w<n.log.levels.length;++w){var C=n.log.levels[w];e[C]={index:w,name:C.toUpperCase()}}n.log.logMessage=function(b){for(var M=e[b.level].index,k=0;k<y.length;++k){var N=y[k];N.flags&n.log.NO_LEVEL_CHECK?N.f(b):M<=e[N.level].index&&N.f(N,b)}},n.log.prepareStandard=function(b){"standard"in b||(b.standard=e[b.level].name+" ["+b.category+"] "+b.message)},n.log.prepareFull=function(b){if(!("full"in b)){var M=[b.message];M=M.concat([]),b.full=n.util.format.apply(this,M)}},n.log.prepareStandardFull=function(b){"standardFull"in b||(n.log.prepareStandard(b),b.standardFull=b.standard)};var m=["error","warning","info","debug","verbose"];for(w=0;w<m.length;++w)!function(M){n.log[M]=function(k,N){var G=Array.prototype.slice.call(arguments).slice(2);n.log.logMessage({timestamp:new Date,level:M,category:k,message:N,arguments:G})}}(m[w]);if(n.log.makeLogger=function(b){var M={flags:0,f:b};return n.log.setLevel(M,"none"),M},n.log.setLevel=function(b,M){var k=!1;if(b&&!(b.flags&n.log.LEVEL_LOCKED))for(var N=0;N<n.log.levels.length;++N)if(M==n.log.levels[N]){b.level=M,k=!0;break}return k},n.log.lock=function(b,M){typeof M>"u"||M?b.flags|=n.log.LEVEL_LOCKED:b.flags&=~n.log.LEVEL_LOCKED},n.log.addLogger=function(b){y.push(b)},typeof console<"u"&&"log"in console){var u;if(console.error&&console.warn&&console.info&&console.debug){var f={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},T=function(b,M){n.log.prepareStandard(M);var k=f[M.level],N=[M.standard];N=N.concat(M.arguments.slice()),k.apply(console,N)};u=n.log.makeLogger(T)}else T=function(M,k){n.log.prepareStandardFull(k),console.log(k.standardFull)},u=n.log.makeLogger(T);n.log.setLevel(u,"debug"),n.log.addLogger(u),p=u}else console={log:function(){}};if(null!==p&&typeof window<"u"&&window.location){var O=new URL(window.location.href).searchParams;O.has("console.level")&&n.log.setLevel(p,O.get("console.level").slice(-1)[0]),O.has("console.lock")&&"true"==O.get("console.lock").slice(-1)[0]&&n.log.lock(p)}n.log.consoleLogger=p},9228:(nt,fe,h)=>{nt.exports=h(5437),h(4846),h(8825),h(2507),h(1290)},5437:(nt,fe,h)=>{var n=h(6589);nt.exports=n.md=n.md||{},n.md.algorithms=n.md.algorithms||{}},4846:(nt,fe,h)=>{var n=h(6589);h(5437),h(812);var e=nt.exports=n.md5=n.md5||{};n.md.md5=n.md.algorithms.md5=e,e.create=function(){m||function u(){y="\x80",y+=n.util.fillString("\0",64),p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],w=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],C=new Array(64);for(var T=0;T<64;++T)C[T]=Math.floor(4294967296*Math.abs(Math.sin(T+1)));m=!0}();var T=null,O=n.util.createBuffer(),F=new Array(16),b={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){b.messageLength=0,b.fullMessageLength=b.messageLength64=[];for(var M=b.messageLengthSize/4,k=0;k<M;++k)b.fullMessageLength.push(0);return O=n.util.createBuffer(),T={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},b}};return b.start(),b.update=function(M,k){"utf8"===k&&(M=n.util.encodeUtf8(M));var N=M.length;b.messageLength+=N,N=[N/4294967296>>>0,N>>>0];for(var G=b.fullMessageLength.length-1;G>=0;--G)b.fullMessageLength[G]+=N[1],N[1]=N[0]+(b.fullMessageLength[G]/4294967296>>>0),b.fullMessageLength[G]=b.fullMessageLength[G]>>>0,N[0]=N[1]/4294967296>>>0;return O.putBytes(M),f(T,F,O),(O.read>2048||0===O.length())&&O.compact(),b},b.digest=function(){var M=n.util.createBuffer();M.putBytes(O.bytes()),M.putBytes(y.substr(0,b.blockLength-(b.fullMessageLength[b.fullMessageLength.length-1]+b.messageLengthSize&b.blockLength-1)));for(var G,R=0,j=b.fullMessageLength.length-1;j>=0;--j)R=(G=8*b.fullMessageLength[j]+R)/4294967296>>>0,M.putInt32Le(G>>>0);var U={h0:T.h0,h1:T.h1,h2:T.h2,h3:T.h3};f(U,F,M);var $=n.util.createBuffer();return $.putInt32Le(U.h0),$.putInt32Le(U.h1),$.putInt32Le(U.h2),$.putInt32Le(U.h3),$},b};var y=null,p=null,w=null,C=null,m=!1;function f(T,O,F){for(var b,M,k,N,G,j,U,$=F.length();$>=64;){for(M=T.h0,k=T.h1,N=T.h2,G=T.h3,U=0;U<16;++U)O[U]=F.getInt32Le(),b=M+(G^k&(N^G))+C[U]+O[U],M=G,G=N,N=k,k+=b<<(j=w[U])|b>>>32-j;for(;U<32;++U)b=M+(N^G&(k^N))+C[U]+O[p[U]],M=G,G=N,N=k,k+=b<<(j=w[U])|b>>>32-j;for(;U<48;++U)b=M+(k^N^G)+C[U]+O[p[U]],M=G,G=N,N=k,k+=b<<(j=w[U])|b>>>32-j;for(;U<64;++U)b=M+(N^(k|~G))+C[U]+O[p[U]],M=G,G=N,N=k,k+=b<<(j=w[U])|b>>>32-j;T.h0=T.h0+M|0,T.h1=T.h1+k|0,T.h2=T.h2+N|0,T.h3=T.h3+G|0,$-=64}}},8040:(nt,fe,h)=>{var n=h(6589);h(5833),nt.exports=n.mgf=n.mgf||{},n.mgf.mgf1=n.mgf1},5833:(nt,fe,h)=>{var n=h(6589);h(812),n.mgf=n.mgf||{},(nt.exports=n.mgf.mgf1=n.mgf1=n.mgf1||{}).create=function(y){return{generate:function(w,C){for(var m=new n.util.ByteBuffer,u=Math.ceil(C/y.digestLength),f=0;f<u;f++){var T=new n.util.ByteBuffer;T.putInt32(f),y.start(),y.update(w+T.getBytes()),m.putBuffer(y.digest())}return m.truncate(m.length()-C),m.getBytes()}}}},1817:(nt,fe,h)=>{var n=h(6589);n.pki=n.pki||{};var e=nt.exports=n.pki.oids=n.oids=n.oids||{};function y(w,C){e[w]=C,e[C]=w}function p(w,C){e[w]=C}y("1.2.840.113549.1.1.1","rsaEncryption"),y("1.2.840.113549.1.1.4","md5WithRSAEncryption"),y("1.2.840.113549.1.1.5","sha1WithRSAEncryption"),y("1.2.840.113549.1.1.7","RSAES-OAEP"),y("1.2.840.113549.1.1.8","mgf1"),y("1.2.840.113549.1.1.9","pSpecified"),y("1.2.840.113549.1.1.10","RSASSA-PSS"),y("1.2.840.113549.1.1.11","sha256WithRSAEncryption"),y("1.2.840.113549.1.1.12","sha384WithRSAEncryption"),y("1.2.840.113549.1.1.13","sha512WithRSAEncryption"),y("1.3.101.112","EdDSA25519"),y("1.2.840.10040.4.3","dsa-with-sha1"),y("1.3.14.3.2.7","desCBC"),y("1.3.14.3.2.26","sha1"),y("1.3.14.3.2.29","sha1WithRSASignature"),y("2.16.840.1.101.3.4.2.1","sha256"),y("2.16.840.1.101.3.4.2.2","sha384"),y("2.16.840.1.101.3.4.2.3","sha512"),y("2.16.840.1.101.3.4.2.4","sha224"),y("2.16.840.1.101.3.4.2.5","sha512-224"),y("2.16.840.1.101.3.4.2.6","sha512-256"),y("1.2.840.113549.2.2","md2"),y("1.2.840.113549.2.5","md5"),y("1.2.840.113549.1.7.1","data"),y("1.2.840.113549.1.7.2","signedData"),y("1.2.840.113549.1.7.3","envelopedData"),y("1.2.840.113549.1.7.4","signedAndEnvelopedData"),y("1.2.840.113549.1.7.5","digestedData"),y("1.2.840.113549.1.7.6","encryptedData"),y("1.2.840.113549.1.9.1","emailAddress"),y("1.2.840.113549.1.9.2","unstructuredName"),y("1.2.840.113549.1.9.3","contentType"),y("1.2.840.113549.1.9.4","messageDigest"),y("1.2.840.113549.1.9.5","signingTime"),y("1.2.840.113549.1.9.6","counterSignature"),y("1.2.840.113549.1.9.7","challengePassword"),y("1.2.840.113549.1.9.8","unstructuredAddress"),y("1.2.840.113549.1.9.14","extensionRequest"),y("1.2.840.113549.1.9.20","friendlyName"),y("1.2.840.113549.1.9.21","localKeyId"),y("1.2.840.113549.1.9.22.1","x509Certificate"),y("1.2.840.113549.1.12.10.1.1","keyBag"),y("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag"),y("1.2.840.113549.1.12.10.1.3","certBag"),y("1.2.840.113549.1.12.10.1.4","crlBag"),y("1.2.840.113549.1.12.10.1.5","secretBag"),y("1.2.840.113549.1.12.10.1.6","safeContentsBag"),y("1.2.840.113549.1.5.13","pkcs5PBES2"),y("1.2.840.113549.1.5.12","pkcs5PBKDF2"),y("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4"),y("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4"),y("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC"),y("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC"),y("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC"),y("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC"),y("1.2.840.113549.2.7","hmacWithSHA1"),y("1.2.840.113549.2.8","hmacWithSHA224"),y("1.2.840.113549.2.9","hmacWithSHA256"),y("1.2.840.113549.2.10","hmacWithSHA384"),y("1.2.840.113549.2.11","hmacWithSHA512"),y("1.2.840.113549.3.7","des-EDE3-CBC"),y("2.16.840.1.101.3.4.1.2","aes128-CBC"),y("2.16.840.1.101.3.4.1.22","aes192-CBC"),y("2.16.840.1.101.3.4.1.42","aes256-CBC"),y("2.5.4.3","commonName"),y("2.5.4.4","surname"),y("2.5.4.5","serialNumber"),y("2.5.4.6","countryName"),y("2.5.4.7","localityName"),y("2.5.4.8","stateOrProvinceName"),y("2.5.4.9","streetAddress"),y("2.5.4.10","organizationName"),y("2.5.4.11","organizationalUnitName"),y("2.5.4.12","title"),y("2.5.4.13","description"),y("2.5.4.15","businessCategory"),y("2.5.4.17","postalCode"),y("2.5.4.42","givenName"),y("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName"),y("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName"),y("2.16.840.1.113730.1.1","nsCertType"),y("2.16.840.1.113730.1.13","nsComment"),p("2.5.29.1","authorityKeyIdentifier"),p("2.5.29.2","keyAttributes"),p("2.5.29.3","certificatePolicies"),p("2.5.29.4","keyUsageRestriction"),p("2.5.29.5","policyMapping"),p("2.5.29.6","subtreesConstraint"),p("2.5.29.7","subjectAltName"),p("2.5.29.8","issuerAltName"),p("2.5.29.9","subjectDirectoryAttributes"),p("2.5.29.10","basicConstraints"),p("2.5.29.11","nameConstraints"),p("2.5.29.12","policyConstraints"),p("2.5.29.13","basicConstraints"),y("2.5.29.14","subjectKeyIdentifier"),y("2.5.29.15","keyUsage"),p("2.5.29.16","privateKeyUsagePeriod"),y("2.5.29.17","subjectAltName"),y("2.5.29.18","issuerAltName"),y("2.5.29.19","basicConstraints"),p("2.5.29.20","cRLNumber"),p("2.5.29.21","cRLReason"),p("2.5.29.22","expirationDate"),p("2.5.29.23","instructionCode"),p("2.5.29.24","invalidityDate"),p("2.5.29.25","cRLDistributionPoints"),p("2.5.29.26","issuingDistributionPoint"),p("2.5.29.27","deltaCRLIndicator"),p("2.5.29.28","issuingDistributionPoint"),p("2.5.29.29","certificateIssuer"),p("2.5.29.30","nameConstraints"),y("2.5.29.31","cRLDistributionPoints"),y("2.5.29.32","certificatePolicies"),p("2.5.29.33","policyMappings"),p("2.5.29.34","policyConstraints"),y("2.5.29.35","authorityKeyIdentifier"),p("2.5.29.36","policyConstraints"),y("2.5.29.37","extKeyUsage"),p("2.5.29.46","freshestCRL"),p("2.5.29.54","inhibitAnyPolicy"),y("1.3.6.1.4.1.11129.2.4.2","timestampList"),y("1.3.6.1.5.5.7.1.1","authorityInfoAccess"),y("1.3.6.1.5.5.7.3.1","serverAuth"),y("1.3.6.1.5.5.7.3.2","clientAuth"),y("1.3.6.1.5.5.7.3.3","codeSigning"),y("1.3.6.1.5.5.7.3.4","emailProtection"),y("1.3.6.1.5.5.7.3.8","timeStamping")},1347:(nt,fe,h)=>{var n=h(6589);if(h(57),h(7097),h(3674),h(5437),h(1817),h(1097),h(9368),h(1675),h(1881),h(2880),h(812),typeof e>"u")var e=n.jsbn.BigInteger;var y=n.asn1,p=n.pki=n.pki||{};nt.exports=p.pbe=n.pbe=n.pbe||{};var w=p.oids,C={name:"EncryptedPrivateKeyInfo",tagClass:y.Class.UNIVERSAL,type:y.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:y.Class.UNIVERSAL,type:y.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:y.Class.UNIVERSAL,type:y.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:y.Class.UNIVERSAL,type:y.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:y.Class.UNIVERSAL,type:y.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},m={name:"PBES2Algorithms",tagClass:y.Class.UNIVERSAL,type:y.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:y.Class.UNIVERSAL,type:y.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:y.Class.UNIVERSAL,type:y.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:y.Class.UNIVERSAL,type:y.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:y.Class.UNIVERSAL,type:y.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:y.Class.UNIVERSAL,type:y.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:y.Class.UNIVERSAL,type:y.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:y.Class.UNIVERSAL,type:y.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:y.Class.UNIVERSAL,type:y.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:y.Class.UNIVERSAL,type:y.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:y.Class.UNIVERSAL,type:y.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:y.Class.UNIVERSAL,type:y.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},u={name:"pkcs-12PbeParams",tagClass:y.Class.UNIVERSAL,type:y.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:y.Class.UNIVERSAL,type:y.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:y.Class.UNIVERSAL,type:y.Type.INTEGER,constructed:!1,capture:"iterations"}]};function f(b,M){return b.start().update(M).digest().getBytes()}function T(b){var M;if(b){if(!(M=p.oids[y.derToOid(b)])){var k=new Error("Unsupported PRF OID.");throw k.oid=b,k.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],k}}else M="hmacWithSHA1";return O(M)}function O(b){var M=n.md;switch(b){case"hmacWithSHA224":M=n.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":b=b.substr(8).toLowerCase();break;default:var k=new Error("Unsupported PRF algorithm.");throw k.algorithm=b,k.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],k}if(!M||!(b in M))throw new Error("Unknown hash algorithm: "+b);return M[b].create()}p.encryptPrivateKeyInfo=function(b,M,k){(k=k||{}).saltSize=k.saltSize||8,k.count=k.count||2048,k.algorithm=k.algorithm||"aes128",k.prfAlgorithm=k.prfAlgorithm||"sha1";var j,U,$,N=n.random.getBytesSync(k.saltSize),G=k.count,R=y.integerToDer(G);if(0===k.algorithm.indexOf("aes")||"des"===k.algorithm){var ie,se,L;switch(k.algorithm){case"aes128":j=16,ie=16,se=w["aes128-CBC"],L=n.aes.createEncryptionCipher;break;case"aes192":j=24,ie=16,se=w["aes192-CBC"],L=n.aes.createEncryptionCipher;break;case"aes256":j=32,ie=16,se=w["aes256-CBC"],L=n.aes.createEncryptionCipher;break;case"des":j=8,ie=8,se=w.desCBC,L=n.des.createEncryptionCipher;break;default:throw(J=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=k.algorithm,J}var q="hmacWith"+k.prfAlgorithm.toUpperCase(),S=O(q),re=n.pkcs5.pbkdf2(M,N,G,j,S),K=n.random.getBytesSync(ie);(me=L(re)).start(K),me.update(y.toDer(b)),me.finish(),$=me.output.getBytes();var Ne=function F(b,M,k,N){var G=y.create(y.Class.UNIVERSAL,y.Type.SEQUENCE,!0,[y.create(y.Class.UNIVERSAL,y.Type.OCTETSTRING,!1,b),y.create(y.Class.UNIVERSAL,y.Type.INTEGER,!1,M.getBytes())]);return"hmacWithSHA1"!==N&&G.value.push(y.create(y.Class.UNIVERSAL,y.Type.INTEGER,!1,n.util.hexToBytes(k.toString(16))),y.create(y.Class.UNIVERSAL,y.Type.SEQUENCE,!0,[y.create(y.Class.UNIVERSAL,y.Type.OID,!1,y.oidToDer(p.oids[N]).getBytes()),y.create(y.Class.UNIVERSAL,y.Type.NULL,!1,"")])),G}(N,R,j,q);U=y.create(y.Class.UNIVERSAL,y.Type.SEQUENCE,!0,[y.create(y.Class.UNIVERSAL,y.Type.OID,!1,y.oidToDer(w.pkcs5PBES2).getBytes()),y.create(y.Class.UNIVERSAL,y.Type.SEQUENCE,!0,[y.create(y.Class.UNIVERSAL,y.Type.SEQUENCE,!0,[y.create(y.Class.UNIVERSAL,y.Type.OID,!1,y.oidToDer(w.pkcs5PBKDF2).getBytes()),Ne]),y.create(y.Class.UNIVERSAL,y.Type.SEQUENCE,!0,[y.create(y.Class.UNIVERSAL,y.Type.OID,!1,y.oidToDer(se).getBytes()),y.create(y.Class.UNIVERSAL,y.Type.OCTETSTRING,!1,K)])])])}else{var J;if("3des"!==k.algorithm)throw(J=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=k.algorithm,J;j=24;var me,De=new n.util.ByteBuffer(N);re=p.pbe.generatePkcs12Key(M,De,1,G,j),K=p.pbe.generatePkcs12Key(M,De,2,G,j),(me=n.des.createEncryptionCipher(re)).start(K),me.update(y.toDer(b)),me.finish(),$=me.output.getBytes(),U=y.create(y.Class.UNIVERSAL,y.Type.SEQUENCE,!0,[y.create(y.Class.UNIVERSAL,y.Type.OID,!1,y.oidToDer(w["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),y.create(y.Class.UNIVERSAL,y.Type.SEQUENCE,!0,[y.create(y.Class.UNIVERSAL,y.Type.OCTETSTRING,!1,N),y.create(y.Class.UNIVERSAL,y.Type.INTEGER,!1,R.getBytes())])])}return y.create(y.Class.UNIVERSAL,y.Type.SEQUENCE,!0,[U,y.create(y.Class.UNIVERSAL,y.Type.OCTETSTRING,!1,$)])},p.decryptPrivateKeyInfo=function(b,M){var k=null,N={},G=[];if(!y.validate(b,C,N,G)){var R=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw R.errors=G,R}var j=y.derToOid(N.encryptionOid),U=p.pbe.getCipher(j,N.encryptionParams,M),$=n.util.createBuffer(N.encryptedData);return U.update($),U.finish()&&(k=y.fromDer(U.output)),k},p.encryptedPrivateKeyToPem=function(b,M){var k={type:"ENCRYPTED PRIVATE KEY",body:y.toDer(b).getBytes()};return n.pem.encode(k,{maxline:M})},p.encryptedPrivateKeyFromPem=function(b){var M=n.pem.decode(b)[0];if("ENCRYPTED PRIVATE KEY"!==M.type){var k=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw k.headerType=M.type,k}if(M.procType&&"ENCRYPTED"===M.procType.type)throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return y.fromDer(M.body)},p.encryptRsaPrivateKey=function(b,M,k){if(!(k=k||{}).legacy){var N=p.wrapRsaPrivateKey(p.privateKeyToAsn1(b));return N=p.encryptPrivateKeyInfo(N,M,k),p.encryptedPrivateKeyToPem(N)}var G,R,j,U;switch(k.algorithm){case"aes128":G="AES-128-CBC",j=16,R=n.random.getBytesSync(16),U=n.aes.createEncryptionCipher;break;case"aes192":G="AES-192-CBC",j=24,R=n.random.getBytesSync(16),U=n.aes.createEncryptionCipher;break;case"aes256":G="AES-256-CBC",j=32,R=n.random.getBytesSync(16),U=n.aes.createEncryptionCipher;break;case"3des":G="DES-EDE3-CBC",j=24,R=n.random.getBytesSync(8),U=n.des.createEncryptionCipher;break;case"des":G="DES-CBC",j=8,R=n.random.getBytesSync(8),U=n.des.createEncryptionCipher;break;default:var $=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+k.algorithm+'".');throw $.algorithm=k.algorithm,$}var se=U(n.pbe.opensslDeriveBytes(M,R.substr(0,8),j));se.start(R),se.update(y.toDer(p.privateKeyToAsn1(b))),se.finish();var L={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:G,parameters:n.util.bytesToHex(R).toUpperCase()},body:se.output.getBytes()};return n.pem.encode(L)},p.decryptRsaPrivateKey=function(b,M){var k=null,N=n.pem.decode(b)[0];if("ENCRYPTED PRIVATE KEY"!==N.type&&"PRIVATE KEY"!==N.type&&"RSA PRIVATE KEY"!==N.type)throw(G=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".')).headerType=G,G;if(N.procType&&"ENCRYPTED"===N.procType.type){var R,j;switch(N.dekInfo.algorithm){case"DES-CBC":R=8,j=n.des.createDecryptionCipher;break;case"DES-EDE3-CBC":R=24,j=n.des.createDecryptionCipher;break;case"AES-128-CBC":R=16,j=n.aes.createDecryptionCipher;break;case"AES-192-CBC":R=24,j=n.aes.createDecryptionCipher;break;case"AES-256-CBC":R=32,j=n.aes.createDecryptionCipher;break;case"RC2-40-CBC":R=5,j=function(L){return n.rc2.createDecryptionCipher(L,40)};break;case"RC2-64-CBC":R=8,j=function(L){return n.rc2.createDecryptionCipher(L,64)};break;case"RC2-128-CBC":R=16,j=function(L){return n.rc2.createDecryptionCipher(L,128)};break;default:var G;throw(G=new Error('Could not decrypt private key; unsupported encryption algorithm "'+N.dekInfo.algorithm+'".')).algorithm=N.dekInfo.algorithm,G}var U=n.util.hexToBytes(N.dekInfo.parameters),ie=j(n.pbe.opensslDeriveBytes(M,U.substr(0,8),R));if(ie.start(U),ie.update(n.util.createBuffer(N.body)),!ie.finish())return k;k=ie.output.getBytes()}else k=N.body;return null!==(k="ENCRYPTED PRIVATE KEY"===N.type?p.decryptPrivateKeyInfo(y.fromDer(k),M):y.fromDer(k))&&(k=p.privateKeyFromAsn1(k)),k},p.pbe.generatePkcs12Key=function(b,M,k,N,G,R){var j,U;if(typeof R>"u"||null===R){if(!("sha1"in n.md))throw new Error('"sha1" hash algorithm unavailable.');R=n.md.sha1.create()}var $=R.digestLength,ie=R.blockLength,se=new n.util.ByteBuffer,L=new n.util.ByteBuffer;if(null!=b){for(U=0;U<b.length;U++)L.putInt16(b.charCodeAt(U));L.putInt16(0)}var J=L.length(),q=M.length(),S=new n.util.ByteBuffer;S.fillWithByte(k,ie);var re=ie*Math.ceil(q/ie),K=new n.util.ByteBuffer;for(U=0;U<re;U++)K.putByte(M.at(U%q));var me=ie*Math.ceil(J/ie),Ne=new n.util.ByteBuffer;for(U=0;U<me;U++)Ne.putByte(L.at(U%J));var De=K;De.putBuffer(Ne);for(var xe=Math.ceil(G/$),Qe=1;Qe<=xe;Qe++){var Se=new n.util.ByteBuffer;Se.putBytes(S.bytes()),Se.putBytes(De.bytes());for(var be=0;be<N;be++)R.start(),R.update(Se.getBytes()),Se=R.digest();var le=new n.util.ByteBuffer;for(U=0;U<ie;U++)le.putByte(Se.at(U%$));var Fe=Math.ceil(q/ie)+Math.ceil(J/ie),Te=new n.util.ByteBuffer;for(j=0;j<Fe;j++){var st=new n.util.ByteBuffer(De.getBytes(ie)),Oe=511;for(U=le.length()-1;U>=0;U--)Oe>>=8,Oe+=le.at(U)+st.at(U),st.setAt(U,255&Oe);Te.putBuffer(st)}De=Te,se.putBuffer(Se)}return se.truncate(se.length()-G),se},p.pbe.getCipher=function(b,M,k){switch(b){case p.oids.pkcs5PBES2:return p.pbe.getCipherForPBES2(b,M,k);case p.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case p.oids["pbewithSHAAnd40BitRC2-CBC"]:return p.pbe.getCipherForPKCS12PBE(b,M,k);default:var N=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw N.oid=b,N.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],N}},p.pbe.getCipherForPBES2=function(b,M,k){var R,N={},G=[];if(!y.validate(M,m,N,G))throw(R=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=G,R;if((b=y.derToOid(N.kdfOid))!==p.oids.pkcs5PBKDF2)throw(R=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.")).oid=b,R.supportedOids=["pkcs5PBKDF2"],R;if((b=y.derToOid(N.encOid))!==p.oids["aes128-CBC"]&&b!==p.oids["aes192-CBC"]&&b!==p.oids["aes256-CBC"]&&b!==p.oids["des-EDE3-CBC"]&&b!==p.oids.desCBC)throw(R=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.")).oid=b,R.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],R;var $,ie,j=N.kdfSalt,U=n.util.createBuffer(N.kdfIterationCount);switch(U=U.getInt(U.length()<<3),p.oids[b]){case"aes128-CBC":$=16,ie=n.aes.createDecryptionCipher;break;case"aes192-CBC":$=24,ie=n.aes.createDecryptionCipher;break;case"aes256-CBC":$=32,ie=n.aes.createDecryptionCipher;break;case"des-EDE3-CBC":$=24,ie=n.des.createDecryptionCipher;break;case"desCBC":$=8,ie=n.des.createDecryptionCipher}var se=T(N.prfOid),L=n.pkcs5.pbkdf2(k,j,U,$,se),J=N.encIv,q=ie(L);return q.start(J),q},p.pbe.getCipherForPKCS12PBE=function(b,M,k){var N={},G=[];if(!y.validate(M,u,N,G))throw(R=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=G,R;var $,ie,se,j=n.util.createBuffer(N.salt),U=n.util.createBuffer(N.iterations);switch(U=U.getInt(U.length()<<3),b){case p.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:$=24,ie=8,se=n.des.startDecrypting;break;case p.oids["pbewithSHAAnd40BitRC2-CBC"]:$=5,ie=8,se=function(re,K){var me=n.rc2.createDecryptionCipher(re,40);return me.start(K,null),me};break;default:var R;throw(R=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.")).oid=b,R}var L=T(N.prfOid),J=p.pbe.generatePkcs12Key(k,j,1,U,$,L);return L.start(),se(J,p.pbe.generatePkcs12Key(k,j,2,U,ie,L))},p.pbe.opensslDeriveBytes=function(b,M,k,N){if(typeof N>"u"||null===N){if(!("md5"in n.md))throw new Error('"md5" hash algorithm unavailable.');N=n.md.md5.create()}null===M&&(M="");for(var G=[f(N,b+M)],R=16,j=1;R<k;++j,R+=16)G.push(f(N,G[j-1]+b+M));return G.join("").substr(0,k)}},1097:(nt,fe,h)=>{var n=h(6589);h(4579),h(5437),h(812);var y,e=n.pkcs5=n.pkcs5||{};n.util.isNodejs&&!n.options.usePureJavaScript&&(y=h(310)),nt.exports=n.pbkdf2=e.pbkdf2=function(p,w,C,m,u,f){if("function"==typeof u&&(f=u,u=null),n.util.isNodejs&&!n.options.usePureJavaScript&&y.pbkdf2&&(null===u||"object"!=typeof u)&&(y.pbkdf2Sync.length>4||!u||"sha1"===u))return"string"!=typeof u&&(u="sha1"),p=Buffer.from(p,"binary"),w=Buffer.from(w,"binary"),f?4===y.pbkdf2Sync.length?y.pbkdf2(p,w,C,m,function(se,L){if(se)return f(se);f(null,L.toString("binary"))}):y.pbkdf2(p,w,C,m,u,function(se,L){if(se)return f(se);f(null,L.toString("binary"))}):4===y.pbkdf2Sync.length?y.pbkdf2Sync(p,w,C,m).toString("binary"):y.pbkdf2Sync(p,w,C,m,u).toString("binary");if((typeof u>"u"||null===u)&&(u="sha1"),"string"==typeof u){if(!(u in n.md.algorithms))throw new Error("Unknown hash algorithm: "+u);u=n.md[u].create()}var T=u.digestLength;if(m>4294967295*T){var O=new Error("Derived key is too long.");if(f)return f(O);throw O}var F=Math.ceil(m/T),b=m-(F-1)*T,M=n.hmac.create();M.start(u,p);var N,G,R,k="";if(!f){for(var j=1;j<=F;++j){M.start(null,null),M.update(w),M.update(n.util.int32ToBytes(j)),N=R=M.digest().getBytes();for(var U=2;U<=C;++U)M.start(null,null),M.update(R),G=M.digest().getBytes(),N=n.util.xorBytes(N,G,T),R=G;k+=j<F?N:N.substr(0,b)}return k}function $(){if(j>F)return f(null,k);M.start(null,null),M.update(w),M.update(n.util.int32ToBytes(j)),N=R=M.digest().getBytes(),U=2,ie()}function ie(){if(U<=C)return M.start(null,null),M.update(R),G=M.digest().getBytes(),N=n.util.xorBytes(N,G,T),R=G,++U,n.util.setImmediate(ie);k+=j<F?N:N.substr(0,b),++j,$()}j=1,$()}},9368:(nt,fe,h)=>{var n=h(6589);h(812);var e=nt.exports=n.pem=n.pem||{};function y(w){for(var C=w.name+": ",m=[],u=function(b,M){return" "+M},f=0;f<w.values.length;++f)m.push(w.values[f].replace(/^(\S+\r\n)/,u));C+=m.join(",")+"\r\n";var T=0,O=-1;for(f=0;f<C.length;++f,++T)if(T>65&&-1!==O){var F=C[O];","===F?(++O,C=C.substr(0,O)+"\r\n "+C.substr(O)):C=C.substr(0,O)+"\r\n"+F+C.substr(O+1),T=f-O-1,O=-1,++f}else(" "===C[f]||"\t"===C[f]||","===C[f])&&(O=f);return C}function p(w){return w.replace(/^\s+/,"")}e.encode=function(w,C){C=C||{};var u,m="-----BEGIN "+w.type+"-----\r\n";if(w.procType&&(m+=y(u={name:"Proc-Type",values:[String(w.procType.version),w.procType.type]})),w.contentDomain&&(m+=y(u={name:"Content-Domain",values:[w.contentDomain]})),w.dekInfo&&(u={name:"DEK-Info",values:[w.dekInfo.algorithm]},w.dekInfo.parameters&&u.values.push(w.dekInfo.parameters),m+=y(u)),w.headers)for(var f=0;f<w.headers.length;++f)m+=y(w.headers[f]);return w.procType&&(m+="\r\n"),(m+=n.util.encode64(w.body,C.maxline||64)+"\r\n")+"-----END "+w.type+"-----\r\n"},e.decode=function(w){for(var T,C=[],m=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,u=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,f=/\r?\n/;T=m.exec(w);){var O=T[1];"NEW CERTIFICATE REQUEST"===O&&(O="CERTIFICATE REQUEST");var F={type:O,procType:null,contentDomain:null,dekInfo:null,headers:[],body:n.util.decode64(T[3])};if(C.push(F),T[2]){for(var b=T[2].split(f),M=0;T&&M<b.length;){for(var k=b[M].replace(/\s+$/,""),N=M+1;N<b.length;++N){var G=b[N];if(!/\s/.test(G[0]))break;k+=G,M=N}if(T=k.match(u)){for(var R={name:T[1],values:[]},j=T[2].split(","),U=0;U<j.length;++U)R.values.push(p(j[U]));if(F.procType)if(F.contentDomain||"Content-Domain"!==R.name)if(F.dekInfo||"DEK-Info"!==R.name)F.headers.push(R);else{if(0===R.values.length)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');F.dekInfo={algorithm:j[0],parameters:j[1]||null}}else F.contentDomain=j[0]||"";else{if("Proc-Type"!==R.name)throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(2!==R.values.length)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');F.procType={version:j[0],type:j[1]}}}++M}if("ENCRYPTED"===F.procType&&!F.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(0===C.length)throw new Error("Invalid PEM formatted message.");return C}},8788:(nt,fe,h)=>{var n=h(6589);h(812),h(1675),h(8825);var e=nt.exports=n.pkcs1=n.pkcs1||{};function y(p,w,C){C||(C=n.md.sha1.create());for(var m="",u=Math.ceil(w/C.digestLength),f=0;f<u;++f){var T=String.fromCharCode(f>>24&255,f>>16&255,f>>8&255,255&f);C.start(),C.update(p+T),m+=C.digest().getBytes()}return m.substring(0,w)}e.encode_rsa_oaep=function(p,w,C){var m,u,f,T;"string"==typeof C?(m=C,u=arguments[3]||void 0,f=arguments[4]||void 0):C&&(m=C.label||void 0,u=C.seed||void 0,f=C.md||void 0,C.mgf1&&C.mgf1.md&&(T=C.mgf1.md)),f?f.start():f=n.md.sha1.create(),T||(T=f);var O=Math.ceil(p.n.bitLength()/8),F=O-2*f.digestLength-2;if(w.length>F)throw(b=new Error("RSAES-OAEP input message length is too long.")).length=w.length,b.maxLength=F,b;m||(m=""),f.update(m,"raw");for(var M=f.digest(),k="",N=F-w.length,G=0;G<N;G++)k+="\0";var R=M.getBytes()+k+"\x01"+w;if(u){if(u.length!==f.digestLength){var b;throw(b=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.")).seedLength=u.length,b.digestLength=f.digestLength,b}}else u=n.random.getBytes(f.digestLength);var j=y(u,O-f.digestLength-1,T),U=n.util.xorBytes(R,j,R.length),$=y(U,f.digestLength,T);return"\0"+n.util.xorBytes(u,$,u.length)+U},e.decode_rsa_oaep=function(p,w,C){var m,u,f;"string"==typeof C?(m=C,u=arguments[3]||void 0):C&&(m=C.label||void 0,u=C.md||void 0,C.mgf1&&C.mgf1.md&&(f=C.mgf1.md));var T=Math.ceil(p.n.bitLength()/8);if(w.length!==T)throw(U=new Error("RSAES-OAEP encoded message length is invalid.")).length=w.length,U.expectedLength=T,U;if(void 0===u?u=n.md.sha1.create():u.start(),f||(f=u),T<2*u.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");m||(m=""),u.update(m,"raw");for(var O=u.digest().getBytes(),F=w.charAt(0),b=w.substring(1,u.digestLength+1),M=w.substring(1+u.digestLength),k=y(M,u.digestLength,f),G=y(n.util.xorBytes(b,k,b.length),T-u.digestLength-1,f),R=n.util.xorBytes(M,G,M.length),j=R.substring(0,u.digestLength),U="\0"!==F,$=0;$<u.digestLength;++$)U|=O.charAt($)!==j.charAt($);for(var ie=1,se=u.digestLength,L=u.digestLength;L<R.length;L++){var J=R.charCodeAt(L);U|=J&(ie?65534:0),se+=ie&=1&J^1}if(U||1!==R.charCodeAt(se))throw new Error("Invalid RSAES-OAEP padding.");return R.substring(se+1)}},4724:(nt,fe,h)=>{var n=h(6589);h(7097),h(4579),h(1817),h(8291),h(1347),h(1675),h(2880),h(8825),h(812),h(9436);var e=n.asn1,y=n.pki,p=nt.exports=n.pkcs12=n.pkcs12||{},w={name:"ContentInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:e.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},C={name:"PFX",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"version"},w,{name:"PFX.macData",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:e.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:e.Class.UNIVERSAL,type:e.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:e.Class.UNIVERSAL,type:e.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},m={name:"SafeBag",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:e.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:e.Class.UNIVERSAL,type:e.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},u={name:"Attribute",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:e.Class.UNIVERSAL,type:e.Type.SET,constructed:!0,capture:"values"}]},f={name:"CertBag",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:e.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:e.Class.UNIVERSAL,type:e.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function T(N,G,R,j){for(var U=[],$=0;$<N.length;$++)for(var ie=0;ie<N[$].safeBags.length;ie++){var se=N[$].safeBags[ie];if(void 0===j||se.type===j){if(null===G){U.push(se);continue}void 0!==se.attributes[G]&&se.attributes[G].indexOf(R)>=0&&U.push(se)}}return U}function O(N){if(N.composed||N.constructed){for(var G=n.util.createBuffer(),R=0;R<N.value.length;++R)G.putBytes(N.value[R].value);N.composed=N.constructed=!1,N.value=G.getBytes()}return N}function b(N,G){var R={},j=[];if(!e.validate(N,n.pkcs7.asn1.encryptedDataValidator,R,j))throw(U=new Error("Cannot read EncryptedContentInfo.")).errors=j,U;var U,$=e.derToOid(R.contentType);if($!==y.oids.data)throw(U=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.")).oid=$,U;$=e.derToOid(R.encAlgorithm);var ie=y.pbe.getCipher($,R.encParameter,G),se=O(R.encryptedContentAsn1),L=n.util.createBuffer(se.value);if(ie.update(L),!ie.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return ie.output.getBytes()}function M(N,G,R){if(!G&&0===N.length)return[];if((N=e.fromDer(N,G)).tagClass!==e.Class.UNIVERSAL||N.type!==e.Type.SEQUENCE||!0!==N.constructed)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var j=[],U=0;U<N.value.length;U++){var ie={},se=[];if(!e.validate(N.value[U],m,ie,se))throw(L=new Error("Cannot read SafeBag.")).errors=se,L;var J={type:e.derToOid(ie.bagId),attributes:k(ie.bagAttributes)};j.push(J);var q,S,re=ie.bagValue.value[0];switch(J.type){case y.oids.pkcs8ShroudedKeyBag:if(null===(re=y.decryptPrivateKeyInfo(re,R)))throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case y.oids.keyBag:try{J.key=y.privateKeyFromAsn1(re)}catch{J.key=null,J.asn1=re}continue;case y.oids.certBag:q=f,S=function(){if(e.derToOid(ie.certId)!==y.oids.x509Certificate){var me=new Error("Unsupported certificate type, only X.509 supported.");throw me.oid=e.derToOid(ie.certId),me}var Ne=e.fromDer(ie.cert,G);try{J.cert=y.certificateFromAsn1(Ne,!0)}catch{J.cert=null,J.asn1=Ne}};break;default:var L;throw(L=new Error("Unsupported PKCS#12 SafeBag type.")).oid=J.type,L}if(void 0!==q&&!e.validate(re,q,ie,se))throw(L=new Error("Cannot read PKCS#12 "+q.name)).errors=se,L;S()}return j}function k(N){var G={};if(void 0!==N)for(var R=0;R<N.length;++R){var j={},U=[];if(!e.validate(N[R],u,j,U)){var $=new Error("Cannot read PKCS#12 BagAttribute.");throw $.errors=U,$}var ie=e.derToOid(j.oid);if(void 0!==y.oids[ie]){G[y.oids[ie]]=[];for(var se=0;se<j.values.length;++se)G[y.oids[ie]].push(j.values[se].value)}}return G}p.pkcs12FromAsn1=function(N,G,R){"string"==typeof G?(R=G,G=!0):void 0===G&&(G=!0);var j={};if(!e.validate(N,C,j,[]))throw($=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.")).errors=$,$;var $,ie={version:j.version.charCodeAt(0),safeContents:[],getBags:function(De){var Qe,xe={};return"localKeyId"in De?Qe=De.localKeyId:"localKeyIdHex"in De&&(Qe=n.util.hexToBytes(De.localKeyIdHex)),void 0===Qe&&!("friendlyName"in De)&&"bagType"in De&&(xe[De.bagType]=T(ie.safeContents,null,null,De.bagType)),void 0!==Qe&&(xe.localKeyId=T(ie.safeContents,"localKeyId",Qe,De.bagType)),"friendlyName"in De&&(xe.friendlyName=T(ie.safeContents,"friendlyName",De.friendlyName,De.bagType)),xe},getBagsByFriendlyName:function(De,xe){return T(ie.safeContents,"friendlyName",De,xe)},getBagsByLocalKeyId:function(De,xe){return T(ie.safeContents,"localKeyId",De,xe)}};if(3!==j.version.charCodeAt(0))throw($=new Error("PKCS#12 PFX of version other than 3 not supported.")).version=j.version.charCodeAt(0),$;if(e.derToOid(j.contentType)!==y.oids.data)throw($=new Error("Only PKCS#12 PFX in password integrity mode supported.")).oid=e.derToOid(j.contentType),$;var se=j.content.value[0];if(se.tagClass!==e.Class.UNIVERSAL||se.type!==e.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(se=O(se),j.mac){var L=null,J=0,q=e.derToOid(j.macAlgorithm);switch(q){case y.oids.sha1:L=n.md.sha1.create(),J=20;break;case y.oids.sha256:L=n.md.sha256.create(),J=32;break;case y.oids.sha384:L=n.md.sha384.create(),J=48;break;case y.oids.sha512:L=n.md.sha512.create(),J=64;break;case y.oids.md5:L=n.md.md5.create(),J=16}if(null===L)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+q);var S=new n.util.ByteBuffer(j.macSalt),re="macIterations"in j?parseInt(n.util.bytesToHex(j.macIterations),16):1,K=p.generateKey(R,S,3,re,J,L),me=n.hmac.create();if(me.start(L,K),me.update(se.value),me.getMac().getBytes()!==j.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return function F(N,G,R,j){if((G=e.fromDer(G,R)).tagClass!==e.Class.UNIVERSAL||G.type!==e.Type.SEQUENCE||!0!==G.constructed)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var U=0;U<G.value.length;U++){var ie={},se=[];if(!e.validate(G.value[U],w,ie,se))throw(L=new Error("Cannot read ContentInfo.")).errors=se,L;var J={encrypted:!1},q=null,S=ie.content.value[0];switch(e.derToOid(ie.contentType)){case y.oids.data:if(S.tagClass!==e.Class.UNIVERSAL||S.type!==e.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");q=O(S).value;break;case y.oids.encryptedData:q=b(S,j),J.encrypted=!0;break;default:var L;throw(L=new Error("Unsupported PKCS#12 contentType.")).contentType=e.derToOid(ie.contentType),L}J.safeBags=M(q,R,j),N.safeContents.push(J)}}(ie,se.value,G,R),ie},p.toPkcs12Asn1=function(N,G,R,j){(j=j||{}).saltSize=j.saltSize||8,j.count=j.count||2048,j.algorithm=j.algorithm||j.encAlgorithm||"aes128","useMac"in j||(j.useMac=!0),"localKeyId"in j||(j.localKeyId=null),"generateLocalKeyId"in j||(j.generateLocalKeyId=!0);var $,U=j.localKeyId;if(null!==U)U=n.util.hexToBytes(U);else if(j.generateLocalKeyId)if(G){var ie=n.util.isArray(G)?G[0]:G;"string"==typeof ie&&(ie=y.certificateFromPem(ie)),(se=n.md.sha1.create()).update(e.toDer(y.certificateToAsn1(ie)).getBytes()),U=se.digest().getBytes()}else U=n.random.getBytes(20);var L=[];null!==U&&L.push(e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(y.oids.localKeyId).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SET,!0,[e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,U)])])),"friendlyName"in j&&L.push(e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(y.oids.friendlyName).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SET,!0,[e.create(e.Class.UNIVERSAL,e.Type.BMPSTRING,!1,j.friendlyName)])])),L.length>0&&($=e.create(e.Class.UNIVERSAL,e.Type.SET,!0,L));var J=[],q=[];null!==G&&(q=n.util.isArray(G)?G:[G]);for(var S=[],re=0;re<q.length;++re){"string"==typeof(G=q[re])&&(G=y.certificateFromPem(G));var K=0===re?$:void 0,me=y.certificateToAsn1(G),Ne=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(y.oids.certBag).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(y.oids.x509Certificate).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,e.toDer(me).getBytes())])])]),K]);S.push(Ne)}if(S.length>0){var De=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,S),xe=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(y.oids.data).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,e.toDer(De).getBytes())])]);J.push(xe)}var Qe=null;if(null!==N){var Se=y.wrapRsaPrivateKey(y.privateKeyToAsn1(N));Qe=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,null===R?[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(y.oids.keyBag).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[Se]),$]:[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(y.oids.pkcs8ShroudedKeyBag).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[y.encryptPrivateKeyInfo(Se,R,j)]),$]);var be=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[Qe]),le=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(y.oids.data).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,e.toDer(be).getBytes())])]);J.push(le)}var Te,Fe=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,J);if(j.useMac){var se=n.md.sha1.create(),st=new n.util.ByteBuffer(n.random.getBytes(j.saltSize)),Oe=j.count,pt=(N=p.generateKey(R,st,3,Oe,20),n.hmac.create());pt.start(se,N),pt.update(e.toDer(Fe).getBytes());var Ye=pt.getMac();Te=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(y.oids.sha1).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")]),e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,Ye.getBytes())]),e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,st.getBytes()),e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(Oe).getBytes())])}return e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(3).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(y.oids.data).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,e.toDer(Fe).getBytes())])]),Te])},p.generateKey=n.pbe.generatePkcs12Key},8645:(nt,fe,h)=>{var n=h(6589);h(57),h(7097),h(3674),h(1817),h(9368),h(8291),h(1675),h(812),h(9436);var e=n.asn1,y=nt.exports=n.pkcs7=n.pkcs7||{};function p(N){var G={},R=[];if(!e.validate(N,y.asn1.recipientInfoValidator,G,R)){var j=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw j.errors=R,j}return{version:G.version.charCodeAt(0),issuer:n.pki.RDNAttributesAsArray(G.issuer),serialNumber:n.util.createBuffer(G.serial).toHex(),encryptedContent:{algorithm:e.derToOid(G.encAlgorithm),parameter:G.encParameter?G.encParameter.value:void 0,content:G.encKey}}}function w(N){return e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(N.version).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[n.pki.distinguishedNameToAsn1({attributes:N.issuer}),e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,n.util.hexToBytes(N.serialNumber))]),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(N.encryptedContent.algorithm).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")]),e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,N.encryptedContent.content)])}function m(N){for(var G=[],R=0;R<N.length;++R)G.push(w(N[R]));return G}function f(N){var G=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(N.version).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[n.pki.distinguishedNameToAsn1({attributes:N.issuer}),e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,n.util.hexToBytes(N.serialNumber))]),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(N.digestAlgorithm).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")])]);if(N.authenticatedAttributesAsn1&&G.value.push(N.authenticatedAttributesAsn1),G.value.push(e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(N.signatureAlgorithm).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")])),G.value.push(e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,N.signature)),N.unauthenticatedAttributes.length>0){for(var R=e.create(e.Class.CONTEXT_SPECIFIC,1,!0,[]),j=0;j<N.unauthenticatedAttributes.length;++j)R.values.push(F(N.unauthenticatedAttributes[j]));G.value.push(R)}return G}function F(N){var G;if(N.type===n.pki.oids.contentType)G=e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(N.value).getBytes());else if(N.type===n.pki.oids.messageDigest)G=e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,N.value.bytes());else if(N.type===n.pki.oids.signingTime){var R=new Date("1950-01-01T00:00:00Z"),j=new Date("2050-01-01T00:00:00Z"),U=N.value;if("string"==typeof U){var $=Date.parse(U);U=isNaN($)?13===U.length?e.utcTimeToDate(U):e.generalizedTimeToDate(U):new Date($)}G=U>=R&&U<j?e.create(e.Class.UNIVERSAL,e.Type.UTCTIME,!1,e.dateToUtcTime(U)):e.create(e.Class.UNIVERSAL,e.Type.GENERALIZEDTIME,!1,e.dateToGeneralizedTime(U))}return e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(N.type).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SET,!0,[G])])}function b(N){return[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(n.pki.oids.data).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(N.algorithm).getBytes()),N.parameter?e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,N.parameter.getBytes()):void 0]),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,N.content.getBytes())])]}function M(N,G,R){var j={};if(!e.validate(G,R,j,[])){var $=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw $.errors=$,$}if(e.derToOid(j.contentType)!==n.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(j.encryptedContent){var se="";if(n.util.isArray(j.encryptedContent))for(var L=0;L<j.encryptedContent.length;++L){if(j.encryptedContent[L].type!==e.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");se+=j.encryptedContent[L].value}else se=j.encryptedContent;N.encryptedContent={algorithm:e.derToOid(j.encAlgorithm),parameter:n.util.createBuffer(j.encParameter.value),content:n.util.createBuffer(se)}}if(j.content){if(se="",n.util.isArray(j.content))for(L=0;L<j.content.length;++L){if(j.content[L].type!==e.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");se+=j.content[L].value}else se=j.content;N.content=n.util.createBuffer(se)}return N.version=j.version.charCodeAt(0),N.rawCapture=j,j}function k(N){if(void 0===N.encryptedContent.key)throw new Error("Symmetric key not available.");if(void 0===N.content){var G;switch(N.encryptedContent.algorithm){case n.pki.oids["aes128-CBC"]:case n.pki.oids["aes192-CBC"]:case n.pki.oids["aes256-CBC"]:G=n.aes.createDecryptionCipher(N.encryptedContent.key);break;case n.pki.oids.desCBC:case n.pki.oids["des-EDE3-CBC"]:G=n.des.createDecryptionCipher(N.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+N.encryptedContent.algorithm)}if(G.start(N.encryptedContent.parameter),G.update(N.encryptedContent.content),!G.finish())throw new Error("Symmetric decryption failed.");N.content=G.output}}y.messageFromPem=function(N){var G=n.pem.decode(N)[0];if("PKCS7"!==G.type){var R=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw R.headerType=G.type,R}if(G.procType&&"ENCRYPTED"===G.procType.type)throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var j=e.fromDer(G.body);return y.messageFromAsn1(j)},y.messageToPem=function(N,G){var R={type:"PKCS7",body:e.toDer(N.toAsn1()).getBytes()};return n.pem.encode(R,{maxline:G})},y.messageFromAsn1=function(N){var G={},R=[];if(!e.validate(N,y.asn1.contentInfoValidator,G,R)){var j=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw j.errors=R,j}var $,U=e.derToOid(G.contentType);switch(U){case n.pki.oids.envelopedData:$=y.createEnvelopedData();break;case n.pki.oids.encryptedData:$=y.createEncryptedData();break;case n.pki.oids.signedData:$=y.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+U+" is not (yet) supported.")}return $.fromAsn1(G.content.value[0]),$},y.createSignedData=function(){var N=null;return N={type:n.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(j){if(M(N,j,y.asn1.signedDataValidator),N.certificates=[],N.crls=[],N.digestAlgorithmIdentifiers=[],N.contentInfo=null,N.signerInfos=[],N.rawCapture.certificates)for(var U=N.rawCapture.certificates.value,$=0;$<U.length;++$)N.certificates.push(n.pki.certificateFromAsn1(U[$]))},toAsn1:function(){N.contentInfo||N.sign();for(var j=[],U=0;U<N.certificates.length;++U)j.push(n.pki.certificateToAsn1(N.certificates[U]));var $=[],ie=e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(N.version).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SET,!0,N.digestAlgorithmIdentifiers),N.contentInfo])]);return j.length>0&&ie.value[0].value.push(e.create(e.Class.CONTEXT_SPECIFIC,0,!0,j)),$.length>0&&ie.value[0].value.push(e.create(e.Class.CONTEXT_SPECIFIC,1,!0,$)),ie.value[0].value.push(e.create(e.Class.UNIVERSAL,e.Type.SET,!0,N.signerInfos)),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(N.type).getBytes()),ie])},addSigner:function(j){var U=j.issuer,$=j.serialNumber;if(j.certificate){var ie=j.certificate;"string"==typeof ie&&(ie=n.pki.certificateFromPem(ie)),U=ie.issuer.attributes,$=ie.serialNumber}var se=j.key;if(!se)throw new Error("Could not add PKCS#7 signer; no private key specified.");"string"==typeof se&&(se=n.pki.privateKeyFromPem(se));var L=j.digestAlgorithm||n.pki.oids.sha1;switch(L){case n.pki.oids.sha1:case n.pki.oids.sha256:case n.pki.oids.sha384:case n.pki.oids.sha512:case n.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+L)}var J=j.authenticatedAttributes||[];if(J.length>0){for(var q=!1,S=!1,re=0;re<J.length;++re){var K=J[re];if(q||K.type!==n.pki.oids.contentType){if(S||K.type!==n.pki.oids.messageDigest);else if(S=!0,q)break}else if(q=!0,S)break}if(!q||!S)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}N.signers.push({key:se,version:1,issuer:U,serialNumber:$,digestAlgorithm:L,signatureAlgorithm:n.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:J,unauthenticatedAttributes:[]})},sign:function(j){var U;if(j=j||{},"object"==typeof N.content&&null!==N.contentInfo||(N.contentInfo=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(n.pki.oids.data).getBytes())]),!("content"in N))||(N.content instanceof n.util.ByteBuffer?U=N.content.bytes():"string"==typeof N.content&&(U=n.util.encodeUtf8(N.content)),j.detached?N.detachedContent=e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,U):N.contentInfo.value.push(e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,U)]))),0!==N.signers.length){var $=function G(){for(var j={},U=0;U<N.signers.length;++U){var $=N.signers[U];(ie=$.digestAlgorithm)in j||(j[ie]=n.md[n.pki.oids[ie]].create()),$.md=0===$.authenticatedAttributes.length?j[ie]:n.md[n.pki.oids[ie]].create()}for(var ie in N.digestAlgorithmIdentifiers=[],j)N.digestAlgorithmIdentifiers.push(e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(ie).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")]));return j}();!function R(j){var U;if(N.detachedContent?U=N.detachedContent:U=(U=N.contentInfo.value[1]).value[0],!U)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var $=e.derToOid(N.contentInfo.value[0].value),ie=e.toDer(U);for(var se in ie.getByte(),e.getBerValueLength(ie),ie=ie.getBytes(),j)j[se].start().update(ie);for(var L=new Date,J=0;J<N.signers.length;++J){var q=N.signers[J];if(0===q.authenticatedAttributes.length){if($!==n.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{q.authenticatedAttributesAsn1=e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var S=e.create(e.Class.UNIVERSAL,e.Type.SET,!0,[]),re=0;re<q.authenticatedAttributes.length;++re){var K=q.authenticatedAttributes[re];K.type===n.pki.oids.messageDigest?K.value=j[q.digestAlgorithm].digest():K.type===n.pki.oids.signingTime&&(K.value||(K.value=L)),S.value.push(F(K)),q.authenticatedAttributesAsn1.value.push(F(K))}ie=e.toDer(S).getBytes(),q.md.start().update(ie)}q.signature=q.key.sign(q.md,"RSASSA-PKCS1-V1_5")}N.signerInfos=function O(N){for(var G=[],R=0;R<N.length;++R)G.push(f(N[R]));return G}(N.signers)}($)}},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(j){"string"==typeof j&&(j=n.pki.certificateFromPem(j)),N.certificates.push(j)},addCertificateRevokationList:function(j){throw new Error("PKCS#7 CRL support not yet implemented.")}}},y.createEncryptedData=function(){var N=null;return N={type:n.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:n.pki.oids["aes256-CBC"]},fromAsn1:function(G){M(N,G,y.asn1.encryptedDataValidator)},decrypt:function(G){void 0!==G&&(N.encryptedContent.key=G),k(N)}}},y.createEnvelopedData=function(){var N=null;return N={type:n.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:n.pki.oids["aes256-CBC"]},fromAsn1:function(G){var R=M(N,G,y.asn1.envelopedDataValidator);N.recipients=function C(N){for(var G=[],R=0;R<N.length;++R)G.push(p(N[R]));return G}(R.recipientInfos.value)},toAsn1:function(){return e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(N.type).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(N.version).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SET,!0,m(N.recipients)),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,b(N.encryptedContent))])])])},findRecipient:function(G){for(var R=G.issuer.attributes,j=0;j<N.recipients.length;++j){var U=N.recipients[j],$=U.issuer;if(U.serialNumber===G.serialNumber&&$.length===R.length){for(var ie=!0,se=0;se<R.length;++se)if($[se].type!==R[se].type||$[se].value!==R[se].value){ie=!1;break}if(ie)return U}}return null},decrypt:function(G,R){if(void 0===N.encryptedContent.key&&void 0!==G&&void 0!==R)switch(G.encryptedContent.algorithm){case n.pki.oids.rsaEncryption:case n.pki.oids.desCBC:var j=R.decrypt(G.encryptedContent.content);N.encryptedContent.key=n.util.createBuffer(j);break;default:throw new Error("Unsupported asymmetric cipher, OID "+G.encryptedContent.algorithm)}k(N)},addRecipient:function(G){N.recipients.push({version:0,issuer:G.issuer.attributes,serialNumber:G.serialNumber,encryptedContent:{algorithm:n.pki.oids.rsaEncryption,key:G.publicKey}})},encrypt:function(G,R){if(void 0===N.encryptedContent.content){var j,U,$;switch(G=G||N.encryptedContent.key,R=R||N.encryptedContent.algorithm){case n.pki.oids["aes128-CBC"]:j=16,U=16,$=n.aes.createEncryptionCipher;break;case n.pki.oids["aes192-CBC"]:j=24,U=16,$=n.aes.createEncryptionCipher;break;case n.pki.oids["aes256-CBC"]:j=32,U=16,$=n.aes.createEncryptionCipher;break;case n.pki.oids["des-EDE3-CBC"]:j=24,U=8,$=n.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+R)}if(void 0===G)G=n.util.createBuffer(n.random.getBytes(j));else if(G.length()!=j)throw new Error("Symmetric key has wrong length; got "+G.length()+" bytes, expected "+j+".");N.encryptedContent.algorithm=R,N.encryptedContent.key=G,N.encryptedContent.parameter=n.util.createBuffer(n.random.getBytes(U));var ie=$(G);if(ie.start(N.encryptedContent.parameter.copy()),ie.update(N.content),!ie.finish())throw new Error("Symmetric encryption failed.");N.encryptedContent.content=ie.output}for(var se=0;se<N.recipients.length;++se){var L=N.recipients[se];if(void 0===L.encryptedContent.content){if(L.encryptedContent.algorithm!==n.pki.oids.rsaEncryption)throw new Error("Unsupported asymmetric cipher, OID "+L.encryptedContent.algorithm);L.encryptedContent.content=L.encryptedContent.key.encrypt(N.encryptedContent.key.data)}}}}}},8291:(nt,fe,h)=>{var n=h(6589);h(7097),h(812);var e=n.asn1,y=nt.exports=n.pkcs7asn1=n.pkcs7asn1||{};n.pkcs7=n.pkcs7||{},n.pkcs7.asn1=y;var p={name:"ContentInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:e.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};y.contentInfoValidator=p;var w={name:"EncryptedContentInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:e.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:e.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};y.envelopedDataValidator={name:"EnvelopedData",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:e.Class.UNIVERSAL,type:e.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(w)},y.encryptedDataValidator={name:"EncryptedData",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"version"}].concat(w)},y.signedDataValidator={name:"SignedData",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:e.Class.UNIVERSAL,type:e.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},p,{name:"SignedData.Certificates",tagClass:e.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:e.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:e.Class.UNIVERSAL,type:e.Type.SET,capture:"signerInfos",optional:!0,value:[{name:"SignerInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:e.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:e.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:e.Class.UNIVERSAL,type:e.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:e.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]}]}]},y.recipientInfoValidator={name:"RecipientInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:e.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter",optional:!0}]},{name:"RecipientInfo.encryptedKey",tagClass:e.Class.UNIVERSAL,type:e.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}},9622:(nt,fe,h)=>{var n=h(6589);h(7097),h(1817),h(1347),h(9368),h(1097),h(4724),h(8588),h(2880),h(812),h(9436);var e=n.asn1,y=nt.exports=n.pki=n.pki||{};y.pemToDer=function(p){var w=n.pem.decode(p)[0];if(w.procType&&"ENCRYPTED"===w.procType.type)throw new Error("Could not convert PEM to DER; PEM is encrypted.");return n.util.createBuffer(w.body)},y.privateKeyFromPem=function(p){var w=n.pem.decode(p)[0];if("PRIVATE KEY"!==w.type&&"RSA PRIVATE KEY"!==w.type){var C=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw C.headerType=w.type,C}if(w.procType&&"ENCRYPTED"===w.procType.type)throw new Error("Could not convert private key from PEM; PEM is encrypted.");var m=e.fromDer(w.body);return y.privateKeyFromAsn1(m)},y.privateKeyToPem=function(p,w){var C={type:"RSA PRIVATE KEY",body:e.toDer(y.privateKeyToAsn1(p)).getBytes()};return n.pem.encode(C,{maxline:w})},y.privateKeyInfoToPem=function(p,w){var C={type:"PRIVATE KEY",body:e.toDer(p).getBytes()};return n.pem.encode(C,{maxline:w})}},3697:(nt,fe,h)=>{var n=h(6589);h(812),h(3364),h(1675),function(){if(n.prime)nt.exports=n.prime;else{var e=nt.exports=n.prime=n.prime||{},y=n.jsbn.BigInteger,p=[6,4,2,4,2,4,6,2],w=new y(null);w.fromInt(30);var C=function(b,M){return b|M};e.generateProbablePrime=function(b,M,k){"function"==typeof M&&(k=M,M={});var N=(M=M||{}).algorithm||"PRIMEINC";"string"==typeof N&&(N={name:N}),N.options=N.options||{};var G=M.prng||n.random;if("PRIMEINC"===N.name)return function m(b,M,k,N){return"workers"in k?function T(b,M,k,N){if(typeof Worker>"u")return u(b,M,k,N);var G=O(b,M),R=k.workers,j=k.workLoad||100,U=30*j/8,$=k.workerScript||"forge/prime.worker.js";if(-1===R)return n.util.estimateCores(function(se,L){se&&(L=2),R=L-1,ie()});function ie(){R=Math.max(1,R);for(var se=[],L=0;L<R;++L)se[L]=new Worker($);for(L=0;L<R;++L)se[L].addEventListener("message",S);var q=!1;function S(re){if(!q){var K=re.data;if(K.found){for(var me=0;me<se.length;++me)se[me].terminate();return q=!0,N(null,new y(K.prime,16))}G.bitLength()>b&&(G=O(b,M));var Ne=G.toString(16);re.target.postMessage({hex:Ne,workLoad:j}),G.dAddOffset(U,0)}}}ie()}(b,M,k,N):u(b,M,k,N)}(b,{nextBytes:function(j){for(var U=G.getBytesSync(j.length),$=0;$<j.length;++$)j[$]=U.charCodeAt($)}},N.options,k);throw new Error("Invalid prime generation algorithm: "+N.name)}}function u(b,M,k,N){var G=O(b,M),j=function F(b){return b<=100?27:b<=150?18:b<=200?15:b<=250?12:b<=300?9:b<=350?8:b<=400?7:b<=500?6:b<=600?5:b<=800?4:b<=1250?3:2}(G.bitLength());"millerRabinTests"in k&&(j=k.millerRabinTests);var U=10;"maxBlockTime"in k&&(U=k.maxBlockTime),f(G,b,M,0,j,U,N)}function f(b,M,k,N,G,R,j){var U=+new Date;do{if(b.bitLength()>M&&(b=O(M,k)),b.isProbablePrime(G))return j(null,b);b.dAddOffset(p[N++%8],0)}while(R<0||+new Date-U<R);n.util.setImmediate(function(){f(b,M,k,N,G,R,j)})}function O(b,M){var k=new y(b,M),N=b-1;return k.testBit(N)||k.bitwiseTo(y.ONE.shiftLeft(N),C,k),k.dAddOffset(31-k.mod(w).byteValue(),0),k}}()},409:(nt,fe,h)=>{var n=h(6589);h(812);var e=null;n.util.isNodejs&&!n.options.usePureJavaScript&&!process.versions["node-webkit"]&&(e=h(310)),(nt.exports=n.prng=n.prng||{}).create=function(p){for(var w={plugin:p,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},C=p.md,m=new Array(32),u=0;u<32;++u)m[u]=C.create();function T(){if(w.pools[0].messageLength>=32)return O();w.collect(w.seedFileSync(32-w.pools[0].messageLength<<5)),O()}function O(){w.reseeds=4294967295===w.reseeds?0:w.reseeds+1;var b=w.plugin.md.create();b.update(w.keyBytes);for(var M=1,k=0;k<32;++k)w.reseeds%M==0&&(b.update(w.pools[k].digest().getBytes()),w.pools[k].start()),M<<=1;w.keyBytes=b.digest().getBytes(),b.start(),b.update(w.keyBytes);var N=b.digest().getBytes();w.key=w.plugin.formatKey(w.keyBytes),w.seed=w.plugin.formatSeed(N),w.generated=0}function F(b){var M=null,k=n.util.globalScope,N=k.crypto||k.msCrypto;N&&N.getRandomValues&&(M=function(J){return N.getRandomValues(J)});var G=n.util.createBuffer();if(M)for(;G.length()<b;){var R=Math.max(1,Math.min(b-G.length(),65536)/4),j=new Uint32Array(Math.floor(R));try{M(j);for(var U=0;U<j.length;++U)G.putInt32(j[U])}catch(J){if(!(typeof QuotaExceededError<"u"&&J instanceof QuotaExceededError))throw J}}if(G.length()<b)for(var $,ie,se,L=Math.floor(65536*Math.random());G.length()<b;)for(ie=16807*(65535&L),ie+=(32767&($=16807*(L>>16)))<<16,L=4294967295&(ie=(2147483647&(ie+=$>>15))+(ie>>31)),U=0;U<3;++U)se=L>>>(U<<3),se^=Math.floor(256*Math.random()),G.putByte(255&se);return G.getBytes(b)}return w.pools=m,w.pool=0,w.generate=function(b,M){if(!M)return w.generateSync(b);var k=w.plugin.cipher,N=w.plugin.increment,G=w.plugin.formatKey,R=w.plugin.formatSeed,j=n.util.createBuffer();w.key=null,function U($){if($)return M($);if(j.length()>=b)return M(null,j.getBytes(b));if(w.generated>1048575&&(w.key=null),null===w.key)return n.util.nextTick(function(){!function f(b){if(w.pools[0].messageLength>=32)return O(),b();w.seedFile(32-w.pools[0].messageLength<<5,function(k,N){if(k)return b(k);w.collect(N),O(),b()})}(U)});var ie=k(w.key,w.seed);w.generated+=ie.length,j.putBytes(ie),w.key=G(k(w.key,N(w.seed))),w.seed=R(k(w.key,w.seed)),n.util.setImmediate(U)}()},w.generateSync=function(b){var M=w.plugin.cipher,k=w.plugin.increment,N=w.plugin.formatKey,G=w.plugin.formatSeed;w.key=null;for(var R=n.util.createBuffer();R.length()<b;){w.generated>1048575&&(w.key=null),null===w.key&&T();var j=M(w.key,w.seed);w.generated+=j.length,R.putBytes(j),w.key=N(M(w.key,k(w.seed))),w.seed=G(M(w.key,w.seed))}return R.getBytes(b)},e?(w.seedFile=function(b,M){e.randomBytes(b,function(k,N){if(k)return M(k);M(null,N.toString())})},w.seedFileSync=function(b){return e.randomBytes(b).toString()}):(w.seedFile=function(b,M){try{M(null,F(b))}catch(k){M(k)}},w.seedFileSync=F),w.collect=function(b){for(var M=b.length,k=0;k<M;++k)w.pools[w.pool].update(b.substr(k,1)),w.pool=31===w.pool?0:w.pool+1},w.collectInt=function(b,M){for(var k="",N=0;N<M;N+=8)k+=String.fromCharCode(b>>N&255);w.collect(k)},w.registerWorker=function(b){b===self?w.seedFile=function(k,N){self.addEventListener("message",function G(R){var j=R.data;j.forge&&j.forge.prng&&(self.removeEventListener("message",G),N(j.forge.prng.err,j.forge.prng.bytes))}),self.postMessage({forge:{prng:{needed:k}}})}:b.addEventListener("message",function(k){var N=k.data;N.forge&&N.forge.prng&&w.seedFile(N.forge.prng.needed,function(G,R){b.postMessage({forge:{prng:{err:G,bytes:R}}})})})},w}},8588:(nt,fe,h)=>{var n=h(6589);h(1675),h(812),(nt.exports=n.pss=n.pss||{}).create=function(y){3===arguments.length&&(y={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var u,p=y.md,w=y.mgf,C=p.digestLength,m=y.salt||null;if("string"==typeof m&&(m=n.util.createBuffer(m)),"saltLength"in y)u=y.saltLength;else{if(null===m)throw new Error("Salt length not specified or specific salt not given.");u=m.length()}if(null!==m&&m.length()!==u)throw new Error("Given salt length does not match length of given salt.");var f=y.prng||n.random;return{encode:function(O,F){var b,G,M=F-1,k=Math.ceil(M/8),N=O.digest().getBytes();if(k<C+u+2)throw new Error("Message is too long to encrypt.");G=null===m?f.getBytesSync(u):m.bytes();var R=new n.util.ByteBuffer;R.fillWithByte(0,8),R.putBytes(N),R.putBytes(G),p.start(),p.update(R.getBytes());var j=p.digest().getBytes(),U=new n.util.ByteBuffer;U.fillWithByte(0,k-u-C-2),U.putByte(1),U.putBytes(G);var $=U.getBytes(),ie=k-C-1,se=w.generate(j,ie),L="";for(b=0;b<ie;b++)L+=String.fromCharCode($.charCodeAt(b)^se.charCodeAt(b));var J=65280>>8*k-M&255;return(L=String.fromCharCode(L.charCodeAt(0)&~J)+L.substr(1))+j+"\xbc"},verify:function(O,F,b){var M,k=b-1,N=Math.ceil(k/8);if(F=F.substr(-N),N<C+u+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(188!==F.charCodeAt(N-1))throw new Error("Encoded message does not end in 0xBC.");var G=N-C-1,R=F.substr(0,G),j=F.substr(G,C),U=65280>>8*N-k&255;if(R.charCodeAt(0)&U)throw new Error("Bits beyond keysize not zero as expected.");var $=w.generate(j,G),ie="";for(M=0;M<G;M++)ie+=String.fromCharCode(R.charCodeAt(M)^$.charCodeAt(M));ie=String.fromCharCode(ie.charCodeAt(0)&~U)+ie.substr(1);var se=N-C-u-2;for(M=0;M<se;M++)if(0!==ie.charCodeAt(M))throw new Error("Leftmost octets not zero as expected");if(1!==ie.charCodeAt(se))throw new Error("Inconsistent PSS signature, 0x01 marker not found");var L=ie.substr(-u),J=new n.util.ByteBuffer;return J.fillWithByte(0,8),J.putBytes(O),J.putBytes(L),p.start(),p.update(J.getBytes()),j===p.digest().getBytes()}}}},1675:(nt,fe,h)=>{var n=h(6589);h(57),h(2507),h(409),h(812),n.random&&n.random.getBytes?nt.exports=n.random:function(e){var y={},p=new Array(4),w=n.util.createBuffer();function C(){var b=n.prng.create(y);return b.getBytes=function(M,k){return b.generate(M,k)},b.getBytesSync=function(M){return b.generate(M)},b}y.formatKey=function(b){var M=n.util.createBuffer(b);return(b=new Array(4))[0]=M.getInt32(),b[1]=M.getInt32(),b[2]=M.getInt32(),b[3]=M.getInt32(),n.aes._expandKey(b,!1)},y.formatSeed=function(b){var M=n.util.createBuffer(b);return(b=new Array(4))[0]=M.getInt32(),b[1]=M.getInt32(),b[2]=M.getInt32(),b[3]=M.getInt32(),b},y.cipher=function(b,M){return n.aes._updateBlock(b,M,p,!1),w.putInt32(p[0]),w.putInt32(p[1]),w.putInt32(p[2]),w.putInt32(p[3]),w.getBytes()},y.increment=function(b){return++b[3],b},y.md=n.md.sha256;var m=C(),u=null,f=n.util.globalScope,T=f.crypto||f.msCrypto;if(T&&T.getRandomValues&&(u=function(b){return T.getRandomValues(b)}),n.options.usePureJavaScript||!n.util.isNodejs&&!u){if(typeof window>"u"||window,m.collectInt(+new Date,32),typeof navigator<"u"){var O="";for(var F in navigator)try{"string"==typeof navigator[F]&&(O+=navigator[F])}catch{}m.collect(O),O=null}e&&(e().mousemove(function(b){m.collectInt(b.clientX,16),m.collectInt(b.clientY,16)}),e().keypress(function(b){m.collectInt(b.charCode,8)}))}if(n.random)for(var F in m)n.random[F]=m[F];else n.random=m;n.random.createInstance=C,nt.exports=n.random}(typeof jQuery<"u"?jQuery:null)},1881:(nt,fe,h)=>{var n=h(6589);h(812);var e=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],y=[1,2,3,5],p=function(m,u){return m<<u&65535|(65535&m)>>16-u},w=function(m,u){return(65535&m)>>u|m<<16-u&65535};nt.exports=n.rc2=n.rc2||{},n.rc2.expandKey=function(m,u){"string"==typeof m&&(m=n.util.createBuffer(m)),u=u||128;var M,f=m,T=m.length(),O=u,F=Math.ceil(O/8),b=255>>(7&O);for(M=T;M<128;M++)f.putByte(e[f.at(M-1)+f.at(M-T)&255]);for(f.setAt(128-F,e[f.at(128-F)&b]),M=127-F;M>=0;M--)f.setAt(M,e[f.at(M+1)^f.at(M+F)]);return f};var C=function(m,u,f){var M,k,N,G,T=!1,O=null,F=null,b=null,R=[];for(m=n.rc2.expandKey(m,u),N=0;N<64;N++)R.push(m.getInt16Le());f?(M=function($){for(N=0;N<4;N++)$[N]+=R[G]+($[(N+3)%4]&$[(N+2)%4])+(~$[(N+3)%4]&$[(N+1)%4]),$[N]=p($[N],y[N]),G++},k=function($){for(N=0;N<4;N++)$[N]+=R[63&$[(N+3)%4]]}):(M=function($){for(N=3;N>=0;N--)$[N]=w($[N],y[N]),$[N]-=R[G]+($[(N+3)%4]&$[(N+2)%4])+(~$[(N+3)%4]&$[(N+1)%4]),G--},k=function($){for(N=3;N>=0;N--)$[N]-=R[63&$[(N+3)%4]]});var j=function($){var ie=[];for(N=0;N<4;N++){var se=O.getInt16Le();null!==b&&(f?se^=b.getInt16Le():b.putInt16Le(se)),ie.push(65535&se)}G=f?0:63;for(var L=0;L<$.length;L++)for(var J=0;J<$[L][0];J++)$[L][1](ie);for(N=0;N<4;N++)null!==b&&(f?b.putInt16Le(ie[N]):ie[N]^=b.getInt16Le()),F.putInt16Le(ie[N])},U=null;return U={start:function($,ie){$&&"string"==typeof $&&($=n.util.createBuffer($)),T=!1,O=n.util.createBuffer(),F=ie||new n.util.createBuffer,b=$,U.output=F},update:function($){for(T||O.putBuffer($);O.length()>=8;)j([[5,M],[1,k],[6,M],[1,k],[5,M]])},finish:function($){var ie=!0;if(f)if($)ie=$(8,O,!f);else{var se=8===O.length()?8:8-O.length();O.fillWithByte(se,se)}if(ie&&(T=!0,U.update()),!f&&(ie=0===O.length()))if($)ie=$(8,F,!f);else{var L=F.length(),J=F.at(L-1);J>L?ie=!1:F.truncate(J)}return ie}}};n.rc2.startEncrypting=function(m,u,f){var T=n.rc2.createEncryptionCipher(m,128);return T.start(u,f),T},n.rc2.createEncryptionCipher=function(m,u){return C(m,u,!0)},n.rc2.startDecrypting=function(m,u,f){var T=n.rc2.createDecryptionCipher(m,128);return T.start(u,f),T},n.rc2.createDecryptionCipher=function(m,u){return C(m,u,!1)}},2880:(nt,fe,h)=>{var n=h(6589);if(h(7097),h(3364),h(1817),h(8788),h(3697),h(1675),h(812),typeof e>"u")var e=n.jsbn.BigInteger;var y=n.util.isNodejs?h(310):null,p=n.asn1,w=n.util;n.pki=n.pki||{},nt.exports=n.pki.rsa=n.rsa=n.rsa||{};var C=n.pki,m=[6,4,2,4,2,4,6,2],u={name:"PrivateKeyInfo",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:p.Class.UNIVERSAL,type:p.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:p.Class.UNIVERSAL,type:p.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:p.Class.UNIVERSAL,type:p.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},f={name:"RSAPrivateKey",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:p.Class.UNIVERSAL,type:p.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:p.Class.UNIVERSAL,type:p.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:p.Class.UNIVERSAL,type:p.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:p.Class.UNIVERSAL,type:p.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:p.Class.UNIVERSAL,type:p.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:p.Class.UNIVERSAL,type:p.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:p.Class.UNIVERSAL,type:p.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:p.Class.UNIVERSAL,type:p.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:p.Class.UNIVERSAL,type:p.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},T={name:"RSAPublicKey",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:p.Class.UNIVERSAL,type:p.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:p.Class.UNIVERSAL,type:p.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},O=n.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:p.Class.UNIVERSAL,type:p.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:p.Class.UNIVERSAL,type:p.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},F={name:"DigestInfo",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:p.Class.UNIVERSAL,type:p.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:p.Class.UNIVERSAL,type:p.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:p.Class.UNIVERSAL,type:p.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},b=function(S){if(!(S.algorithm in C.oids)){var K=new Error("Unknown message digest algorithm.");throw K.algorithm=S.algorithm,K}var me=p.oidToDer(C.oids[S.algorithm]).getBytes(),Ne=p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[]),De=p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[]);De.value.push(p.create(p.Class.UNIVERSAL,p.Type.OID,!1,me)),De.value.push(p.create(p.Class.UNIVERSAL,p.Type.NULL,!1,""));var xe=p.create(p.Class.UNIVERSAL,p.Type.OCTETSTRING,!1,S.digest().getBytes());return Ne.value.push(De),Ne.value.push(xe),p.toDer(Ne).getBytes()},M=function(S,re,K){if(K)return S.modPow(re.e,re.n);if(!re.p||!re.q)return S.modPow(re.d,re.n);var me;re.dP||(re.dP=re.d.mod(re.p.subtract(e.ONE))),re.dQ||(re.dQ=re.d.mod(re.q.subtract(e.ONE))),re.qInv||(re.qInv=re.q.modInverse(re.p));do{me=new e(n.util.bytesToHex(n.random.getBytes(re.n.bitLength()/8)),16)}while(me.compareTo(re.n)>=0||!me.gcd(re.n).equals(e.ONE));for(var Ne=(S=S.multiply(me.modPow(re.e,re.n)).mod(re.n)).mod(re.p).modPow(re.dP,re.p),De=S.mod(re.q).modPow(re.dQ,re.q);Ne.compareTo(De)<0;)Ne=Ne.add(re.p);var xe=Ne.subtract(De).multiply(re.qInv).mod(re.p).multiply(re.q).add(De);return xe.multiply(me.modInverse(re.n)).mod(re.n)};function k(S,re,K){var me=n.util.createBuffer(),Ne=Math.ceil(re.n.bitLength()/8);if(S.length>Ne-11){var De=new Error("Message is too long for PKCS#1 v1.5 padding.");throw De.length=S.length,De.max=Ne-11,De}me.putByte(0),me.putByte(K);var Qe,xe=Ne-3-S.length;if(0===K||1===K){Qe=0===K?0:255;for(var Se=0;Se<xe;++Se)me.putByte(Qe)}else for(;xe>0;){var be=0,le=n.random.getBytes(xe);for(Se=0;Se<xe;++Se)0===(Qe=le.charCodeAt(Se))?++be:me.putByte(Qe);xe=be}return me.putByte(0),me.putBytes(S),me}function N(S,re,K,me){var Ne=Math.ceil(re.n.bitLength()/8),De=n.util.createBuffer(S),xe=De.getByte(),Qe=De.getByte();if(0!==xe||K&&0!==Qe&&1!==Qe||!K&&2!=Qe||K&&0===Qe&&typeof me>"u")throw new Error("Encryption block is invalid.");var Se=0;if(0===Qe){Se=Ne-3-me;for(var be=0;be<Se;++be)if(0!==De.getByte())throw new Error("Encryption block is invalid.")}else if(1===Qe)for(Se=0;De.length()>1;){if(255!==De.getByte()){--De.read;break}++Se}else if(2===Qe)for(Se=0;De.length()>1;){if(0===De.getByte()){--De.read;break}++Se}if(0!==De.getByte()||Se!==Ne-3-De.length())throw new Error("Encryption block is invalid.");return De.getBytes()}function R(S){var re=S.toString(16);re[0]>="8"&&(re="00"+re);var K=n.util.hexToBytes(re);return!(K.length>1)||(0!==K.charCodeAt(0)||128&K.charCodeAt(1))&&(255!==K.charCodeAt(0)||128&~K.charCodeAt(1))?K:K.substr(1)}function j(S){return S<=100?27:S<=150?18:S<=200?15:S<=250?12:S<=300?9:S<=350?8:S<=400?7:S<=500?6:S<=600?5:S<=800?4:S<=1250?3:2}function U(S){return n.util.isNodejs&&"function"==typeof y[S]}function $(S){return typeof w.globalScope<"u"&&"object"==typeof w.globalScope.crypto&&"object"==typeof w.globalScope.crypto.subtle&&"function"==typeof w.globalScope.crypto.subtle[S]}function ie(S){return typeof w.globalScope<"u"&&"object"==typeof w.globalScope.msCrypto&&"object"==typeof w.globalScope.msCrypto.subtle&&"function"==typeof w.globalScope.msCrypto.subtle[S]}function se(S){for(var re=n.util.hexToBytes(S.toString(16)),K=new Uint8Array(re.length),me=0;me<re.length;++me)K[me]=re.charCodeAt(me);return K}C.rsa.encrypt=function(S,re,K){var Ne,me=K,De=Math.ceil(re.n.bitLength()/8);!1!==K&&!0!==K?(me=2===K,Ne=k(S,re,K)):(Ne=n.util.createBuffer()).putBytes(S);for(var xe=new e(Ne.toHex(),16),Se=M(xe,re,me).toString(16),be=n.util.createBuffer(),le=De-Math.ceil(Se.length/2);le>0;)be.putByte(0),--le;return be.putBytes(n.util.hexToBytes(Se)),be.getBytes()},C.rsa.decrypt=function(S,re,K,me){var Ne=Math.ceil(re.n.bitLength()/8);if(S.length!==Ne){var De=new Error("Encrypted message length is invalid.");throw De.length=S.length,De.expected=Ne,De}var xe=new e(n.util.createBuffer(S).toHex(),16);if(xe.compareTo(re.n)>=0)throw new Error("Encrypted message is invalid.");for(var Se=M(xe,re,K).toString(16),be=n.util.createBuffer(),le=Ne-Math.ceil(Se.length/2);le>0;)be.putByte(0),--le;return be.putBytes(n.util.hexToBytes(Se)),!1!==me?N(be.getBytes(),re,K):be.getBytes()},C.rsa.createKeyPairGenerationState=function(S,re,K){"string"==typeof S&&(S=parseInt(S,10)),S=S||2048;var xe,me=(K=K||{}).prng||n.random,Ne={nextBytes:function(Qe){for(var Se=me.getBytesSync(Qe.length),be=0;be<Qe.length;++be)Qe[be]=Se.charCodeAt(be)}},De=K.algorithm||"PRIMEINC";if("PRIMEINC"!==De)throw new Error("Invalid key generation algorithm: "+De);return(xe={algorithm:De,state:0,bits:S,rng:Ne,eInt:re||65537,e:new e(null),p:null,q:null,qBits:S>>1,pBits:S-(S>>1),pqState:0,num:null,keys:null}).e.fromInt(xe.eInt),xe},C.rsa.stepKeyPairGenerationState=function(S,re){"algorithm"in S||(S.algorithm="PRIMEINC");var K=new e(null);K.fromInt(30);for(var xe,me=0,Ne=function(Fe,Te){return Fe|Te},De=+new Date,Qe=0;null===S.keys&&(re<=0||Qe<re);){if(0===S.state){var Se=null===S.p?S.pBits:S.qBits,be=Se-1;0===S.pqState?(S.num=new e(Se,S.rng),S.num.testBit(be)||S.num.bitwiseTo(e.ONE.shiftLeft(be),Ne,S.num),S.num.dAddOffset(31-S.num.mod(K).byteValue(),0),me=0,++S.pqState):1===S.pqState?S.num.bitLength()>Se?S.pqState=0:S.num.isProbablePrime(j(S.num.bitLength()))?++S.pqState:S.num.dAddOffset(m[me++%8],0):2===S.pqState?S.pqState=0===S.num.subtract(e.ONE).gcd(S.e).compareTo(e.ONE)?3:0:3===S.pqState&&(S.pqState=0,null===S.p?S.p=S.num:S.q=S.num,null!==S.p&&null!==S.q&&++S.state,S.num=null)}else if(1===S.state)S.p.compareTo(S.q)<0&&(S.num=S.p,S.p=S.q,S.q=S.num),++S.state;else if(2===S.state)S.p1=S.p.subtract(e.ONE),S.q1=S.q.subtract(e.ONE),S.phi=S.p1.multiply(S.q1),++S.state;else if(3===S.state)0===S.phi.gcd(S.e).compareTo(e.ONE)?++S.state:(S.p=null,S.q=null,S.state=0);else if(4===S.state)S.n=S.p.multiply(S.q),S.n.bitLength()===S.bits?++S.state:(S.q=null,S.state=0);else if(5===S.state){var le=S.e.modInverse(S.phi);S.keys={privateKey:C.rsa.setPrivateKey(S.n,S.e,le,S.p,S.q,le.mod(S.p1),le.mod(S.q1),S.q.modInverse(S.p)),publicKey:C.rsa.setPublicKey(S.n,S.e)}}Qe+=(xe=+new Date)-De,De=xe}return null!==S.keys},C.rsa.generateKeyPair=function(S,re,K,me){if(1===arguments.length?"object"==typeof S?(K=S,S=void 0):"function"==typeof S&&(me=S,S=void 0):2===arguments.length?"number"==typeof S?"function"==typeof re?(me=re,re=void 0):"number"!=typeof re&&(K=re,re=void 0):(K=S,me=re,S=void 0,re=void 0):3===arguments.length&&("number"==typeof re?"function"==typeof K&&(me=K,K=void 0):(me=K,K=re,re=void 0)),K=K||{},void 0===S&&(S=K.bits||2048),void 0===re&&(re=K.e||65537),!n.options.usePureJavaScript&&!K.prng&&S>=256&&S<=16384&&(65537===re||3===re))if(me){if(U("generateKeyPair"))return y.generateKeyPair("rsa",{modulusLength:S,publicExponent:re,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(Qe,Se,be){if(Qe)return me(Qe);me(null,{privateKey:C.privateKeyFromPem(be),publicKey:C.publicKeyFromPem(Se)})});if($("generateKey")&&$("exportKey"))return w.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:S,publicExponent:se(re),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(Qe){return w.globalScope.crypto.subtle.exportKey("pkcs8",Qe.privateKey)}).then(void 0,function(Qe){me(Qe)}).then(function(Qe){if(Qe){var Se=C.privateKeyFromAsn1(p.fromDer(n.util.createBuffer(Qe)));me(null,{privateKey:Se,publicKey:C.setRsaPublicKey(Se.n,Se.e)})}});if(ie("generateKey")&&ie("exportKey")){var Ne=w.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:S,publicExponent:se(re),hash:{name:"SHA-256"}},!0,["sign","verify"]);return Ne.oncomplete=function(Qe){var be=w.globalScope.msCrypto.subtle.exportKey("pkcs8",Qe.target.result.privateKey);be.oncomplete=function(le){var Te=C.privateKeyFromAsn1(p.fromDer(n.util.createBuffer(le.target.result)));me(null,{privateKey:Te,publicKey:C.setRsaPublicKey(Te.n,Te.e)})},be.onerror=function(le){me(le)}},void(Ne.onerror=function(Qe){me(Qe)})}}else if(U("generateKeyPairSync")){var De=y.generateKeyPairSync("rsa",{modulusLength:S,publicExponent:re,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:C.privateKeyFromPem(De.privateKey),publicKey:C.publicKeyFromPem(De.publicKey)}}var xe=C.rsa.createKeyPairGenerationState(S,re,K);if(!me)return C.rsa.stepKeyPairGenerationState(xe,0),xe.keys;!function G(S,re,K){"function"==typeof re&&(K=re,re={});var me={algorithm:{name:(re=re||{}).algorithm||"PRIMEINC",options:{workers:re.workers||2,workLoad:re.workLoad||100,workerScript:re.workerScript}}};function Ne(){De(S.pBits,function(Qe,Se){return Qe?K(Qe):(S.p=Se,null!==S.q?xe(Qe,S.q):void De(S.qBits,xe))})}function De(Qe,Se){n.prime.generateProbablePrime(Qe,me,Se)}function xe(Qe,Se){if(Qe)return K(Qe);if(S.q=Se,S.p.compareTo(S.q)<0){var be=S.p;S.p=S.q,S.q=be}if(0!==S.p.subtract(e.ONE).gcd(S.e).compareTo(e.ONE))return S.p=null,void Ne();if(0!==S.q.subtract(e.ONE).gcd(S.e).compareTo(e.ONE))return S.q=null,void De(S.qBits,xe);if(S.p1=S.p.subtract(e.ONE),S.q1=S.q.subtract(e.ONE),S.phi=S.p1.multiply(S.q1),0!==S.phi.gcd(S.e).compareTo(e.ONE))return S.p=S.q=null,void Ne();if(S.n=S.p.multiply(S.q),S.n.bitLength()!==S.bits)return S.q=null,void De(S.qBits,xe);var le=S.e.modInverse(S.phi);S.keys={privateKey:C.rsa.setPrivateKey(S.n,S.e,le,S.p,S.q,le.mod(S.p1),le.mod(S.q1),S.q.modInverse(S.p)),publicKey:C.rsa.setPublicKey(S.n,S.e)},K(null,S.keys)}"prng"in re&&(me.prng=re.prng),Ne()}(xe,K,me)},C.setRsaPublicKey=C.rsa.setPublicKey=function(S,re){var K={n:S,e:re,encrypt:function(me,Ne,De){if("string"==typeof Ne?Ne=Ne.toUpperCase():void 0===Ne&&(Ne="RSAES-PKCS1-V1_5"),"RSAES-PKCS1-V1_5"===Ne)Ne={encode:function(Qe,Se,be){return k(Qe,Se,2).getBytes()}};else if("RSA-OAEP"===Ne||"RSAES-OAEP"===Ne)Ne={encode:function(Qe,Se){return n.pkcs1.encode_rsa_oaep(Se,Qe,De)}};else if(-1!==["RAW","NONE","NULL",null].indexOf(Ne))Ne={encode:function(Qe){return Qe}};else if("string"==typeof Ne)throw new Error('Unsupported encryption scheme: "'+Ne+'".');var xe=Ne.encode(me,K,!0);return C.rsa.encrypt(xe,K,!0)},verify:function(me,Ne,De,xe){"string"==typeof De?De=De.toUpperCase():void 0===De&&(De="RSASSA-PKCS1-V1_5"),void 0===xe&&(xe={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in xe||(xe._parseAllDigestBytes=!0),"RSASSA-PKCS1-V1_5"===De?De={verify:function(Se,be){be=N(be,K,!0);var le=p.fromDer(be,{parseAllBytes:xe._parseAllDigestBytes}),Fe={},Te=[];if(!p.validate(le,F,Fe,Te))throw(st=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.")).errors=Te,st;var st,Oe=p.derToOid(Fe.algorithmIdentifier);if(Oe!==n.oids.md2&&Oe!==n.oids.md5&&Oe!==n.oids.sha1&&Oe!==n.oids.sha224&&Oe!==n.oids.sha256&&Oe!==n.oids.sha384&&Oe!==n.oids.sha512&&Oe!==n.oids["sha512-224"]&&Oe!==n.oids["sha512-256"])throw(st=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.")).oid=Oe,st;if((Oe===n.oids.md2||Oe===n.oids.md5)&&!("parameters"in Fe))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return Se===Fe.digest}}:("NONE"===De||"NULL"===De||null===De)&&(De={verify:function(Se,be){return Se===N(be,K,!0)}});var Qe=C.rsa.decrypt(Ne,K,!0,!1);return De.verify(me,Qe,K.n.bitLength())}};return K},C.setRsaPrivateKey=C.rsa.setPrivateKey=function(S,re,K,me,Ne,De,xe,Qe){var Se={n:S,e:re,d:K,p:me,q:Ne,dP:De,dQ:xe,qInv:Qe,decrypt:function(be,le,Fe){"string"==typeof le?le=le.toUpperCase():void 0===le&&(le="RSAES-PKCS1-V1_5");var Te=C.rsa.decrypt(be,Se,!1,!1);if("RSAES-PKCS1-V1_5"===le)le={decode:N};else if("RSA-OAEP"===le||"RSAES-OAEP"===le)le={decode:function(st,Oe){return n.pkcs1.decode_rsa_oaep(Oe,st,Fe)}};else{if(-1===["RAW","NONE","NULL",null].indexOf(le))throw new Error('Unsupported encryption scheme: "'+le+'".');le={decode:function(st){return st}}}return le.decode(Te,Se,!1)},sign:function(be,le){var Fe=!1;"string"==typeof le&&(le=le.toUpperCase()),void 0===le||"RSASSA-PKCS1-V1_5"===le?(le={encode:b},Fe=1):("NONE"===le||"NULL"===le||null===le)&&(le={encode:function(){return be}},Fe=1);var Te=le.encode(be,Se.n.bitLength());return C.rsa.encrypt(Te,Se,Fe)}};return Se},C.wrapRsaPrivateKey=function(S){return p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.INTEGER,!1,p.integerToDer(0).getBytes()),p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.OID,!1,p.oidToDer(C.oids.rsaEncryption).getBytes()),p.create(p.Class.UNIVERSAL,p.Type.NULL,!1,"")]),p.create(p.Class.UNIVERSAL,p.Type.OCTETSTRING,!1,p.toDer(S).getBytes())])},C.privateKeyFromAsn1=function(S){var Ne,De,xe,Qe,Se,be,le,Fe,re={},K=[];if(p.validate(S,u,re,K)&&(S=p.fromDer(n.util.createBuffer(re.privateKey))),!p.validate(S,f,re={},K=[])){var me=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw me.errors=K,me}return Ne=n.util.createBuffer(re.privateKeyModulus).toHex(),De=n.util.createBuffer(re.privateKeyPublicExponent).toHex(),xe=n.util.createBuffer(re.privateKeyPrivateExponent).toHex(),Qe=n.util.createBuffer(re.privateKeyPrime1).toHex(),Se=n.util.createBuffer(re.privateKeyPrime2).toHex(),be=n.util.createBuffer(re.privateKeyExponent1).toHex(),le=n.util.createBuffer(re.privateKeyExponent2).toHex(),Fe=n.util.createBuffer(re.privateKeyCoefficient).toHex(),C.setRsaPrivateKey(new e(Ne,16),new e(De,16),new e(xe,16),new e(Qe,16),new e(Se,16),new e(be,16),new e(le,16),new e(Fe,16))},C.privateKeyToAsn1=C.privateKeyToRSAPrivateKey=function(S){return p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.INTEGER,!1,p.integerToDer(0).getBytes()),p.create(p.Class.UNIVERSAL,p.Type.INTEGER,!1,R(S.n)),p.create(p.Class.UNIVERSAL,p.Type.INTEGER,!1,R(S.e)),p.create(p.Class.UNIVERSAL,p.Type.INTEGER,!1,R(S.d)),p.create(p.Class.UNIVERSAL,p.Type.INTEGER,!1,R(S.p)),p.create(p.Class.UNIVERSAL,p.Type.INTEGER,!1,R(S.q)),p.create(p.Class.UNIVERSAL,p.Type.INTEGER,!1,R(S.dP)),p.create(p.Class.UNIVERSAL,p.Type.INTEGER,!1,R(S.dQ)),p.create(p.Class.UNIVERSAL,p.Type.INTEGER,!1,R(S.qInv))])},C.publicKeyFromAsn1=function(S){var re={},K=[];if(p.validate(S,O,re,K)){var Ne,me=p.derToOid(re.publicKeyOid);if(me!==C.oids.rsaEncryption)throw(Ne=new Error("Cannot read public key. Unknown OID.")).oid=me,Ne;S=re.rsaPublicKey}if(!p.validate(S,T,re,K=[]))throw(Ne=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.")).errors=K,Ne;var De=n.util.createBuffer(re.publicKeyModulus).toHex(),xe=n.util.createBuffer(re.publicKeyExponent).toHex();return C.setRsaPublicKey(new e(De,16),new e(xe,16))},C.publicKeyToAsn1=C.publicKeyToSubjectPublicKeyInfo=function(S){return p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.OID,!1,p.oidToDer(C.oids.rsaEncryption).getBytes()),p.create(p.Class.UNIVERSAL,p.Type.NULL,!1,"")]),p.create(p.Class.UNIVERSAL,p.Type.BITSTRING,!1,[C.publicKeyToRSAPublicKey(S)])])},C.publicKeyToRSAPublicKey=function(S){return p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.INTEGER,!1,R(S.n)),p.create(p.Class.UNIVERSAL,p.Type.INTEGER,!1,R(S.e))])}},8825:(nt,fe,h)=>{var n=h(6589);h(5437),h(812);var e=nt.exports=n.sha1=n.sha1||{};n.md.sha1=n.md.algorithms.sha1=e,e.create=function(){p||function w(){y="\x80",y+=n.util.fillString("\0",64),p=!0}();var m=null,u=n.util.createBuffer(),f=new Array(80),T={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){T.messageLength=0,T.fullMessageLength=T.messageLength64=[];for(var O=T.messageLengthSize/4,F=0;F<O;++F)T.fullMessageLength.push(0);return u=n.util.createBuffer(),m={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},T}};return T.start(),T.update=function(O,F){"utf8"===F&&(O=n.util.encodeUtf8(O));var b=O.length;T.messageLength+=b,b=[b/4294967296>>>0,b>>>0];for(var M=T.fullMessageLength.length-1;M>=0;--M)T.fullMessageLength[M]+=b[1],b[1]=b[0]+(T.fullMessageLength[M]/4294967296>>>0),T.fullMessageLength[M]=T.fullMessageLength[M]>>>0,b[0]=b[1]/4294967296>>>0;return u.putBytes(O),C(m,f,u),(u.read>2048||0===u.length())&&u.compact(),T},T.digest=function(){var O=n.util.createBuffer();O.putBytes(u.bytes()),O.putBytes(y.substr(0,T.blockLength-(T.fullMessageLength[T.fullMessageLength.length-1]+T.messageLengthSize&T.blockLength-1)));for(var M,N=8*T.fullMessageLength[0],G=0;G<T.fullMessageLength.length-1;++G)O.putInt32((N+=(M=8*T.fullMessageLength[G+1])/4294967296>>>0)>>>0),N=M>>>0;O.putInt32(N);var R={h0:m.h0,h1:m.h1,h2:m.h2,h3:m.h3,h4:m.h4};C(R,f,O);var j=n.util.createBuffer();return j.putInt32(R.h0),j.putInt32(R.h1),j.putInt32(R.h2),j.putInt32(R.h3),j.putInt32(R.h4),j},T};var y=null,p=!1;function C(m,u,f){for(var T,O,F,b,M,k,G,R=f.length();R>=64;){for(O=m.h0,F=m.h1,b=m.h2,M=m.h3,k=m.h4,G=0;G<16;++G)T=f.getInt32(),u[G]=T,T=(O<<5|O>>>27)+(M^F&(b^M))+k+1518500249+T,k=M,M=b,b=(F<<30|F>>>2)>>>0,F=O,O=T;for(;G<20;++G)u[G]=T=(T=u[G-3]^u[G-8]^u[G-14]^u[G-16])<<1|T>>>31,T=(O<<5|O>>>27)+(M^F&(b^M))+k+1518500249+T,k=M,M=b,b=(F<<30|F>>>2)>>>0,F=O,O=T;for(;G<32;++G)u[G]=T=(T=u[G-3]^u[G-8]^u[G-14]^u[G-16])<<1|T>>>31,T=(O<<5|O>>>27)+(F^b^M)+k+1859775393+T,k=M,M=b,b=(F<<30|F>>>2)>>>0,F=O,O=T;for(;G<40;++G)u[G]=T=(T=u[G-6]^u[G-16]^u[G-28]^u[G-32])<<2|T>>>30,T=(O<<5|O>>>27)+(F^b^M)+k+1859775393+T,k=M,M=b,b=(F<<30|F>>>2)>>>0,F=O,O=T;for(;G<60;++G)u[G]=T=(T=u[G-6]^u[G-16]^u[G-28]^u[G-32])<<2|T>>>30,T=(O<<5|O>>>27)+(F&b|M&(F^b))+k+2400959708+T,k=M,M=b,b=(F<<30|F>>>2)>>>0,F=O,O=T;for(;G<80;++G)u[G]=T=(T=u[G-6]^u[G-16]^u[G-28]^u[G-32])<<2|T>>>30,T=(O<<5|O>>>27)+(F^b^M)+k+3395469782+T,k=M,M=b,b=(F<<30|F>>>2)>>>0,F=O,O=T;m.h0=m.h0+O|0,m.h1=m.h1+F|0,m.h2=m.h2+b|0,m.h3=m.h3+M|0,m.h4=m.h4+k|0,R-=64}}},2507:(nt,fe,h)=>{var n=h(6589);h(5437),h(812);var e=nt.exports=n.sha256=n.sha256||{};n.md.sha256=n.md.algorithms.sha256=e,e.create=function(){p||function C(){y="\x80",y+=n.util.fillString("\0",64),w=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],p=!0}();var u=null,f=n.util.createBuffer(),T=new Array(64),O={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){O.messageLength=0,O.fullMessageLength=O.messageLength64=[];for(var F=O.messageLengthSize/4,b=0;b<F;++b)O.fullMessageLength.push(0);return f=n.util.createBuffer(),u={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},O}};return O.start(),O.update=function(F,b){"utf8"===b&&(F=n.util.encodeUtf8(F));var M=F.length;O.messageLength+=M,M=[M/4294967296>>>0,M>>>0];for(var k=O.fullMessageLength.length-1;k>=0;--k)O.fullMessageLength[k]+=M[1],M[1]=M[0]+(O.fullMessageLength[k]/4294967296>>>0),O.fullMessageLength[k]=O.fullMessageLength[k]>>>0,M[0]=M[1]/4294967296>>>0;return f.putBytes(F),m(u,T,f),(f.read>2048||0===f.length())&&f.compact(),O},O.digest=function(){var F=n.util.createBuffer();F.putBytes(f.bytes()),F.putBytes(y.substr(0,O.blockLength-(O.fullMessageLength[O.fullMessageLength.length-1]+O.messageLengthSize&O.blockLength-1)));for(var k,G=8*O.fullMessageLength[0],R=0;R<O.fullMessageLength.length-1;++R)F.putInt32((G+=(k=8*O.fullMessageLength[R+1])/4294967296>>>0)>>>0),G=k>>>0;F.putInt32(G);var j={h0:u.h0,h1:u.h1,h2:u.h2,h3:u.h3,h4:u.h4,h5:u.h5,h6:u.h6,h7:u.h7};m(j,T,F);var U=n.util.createBuffer();return U.putInt32(j.h0),U.putInt32(j.h1),U.putInt32(j.h2),U.putInt32(j.h3),U.putInt32(j.h4),U.putInt32(j.h5),U.putInt32(j.h6),U.putInt32(j.h7),U},O};var y=null,p=!1,w=null;function m(u,f,T){for(var O,F,N,G,R,j,U,$,ie,se,L,J,q=T.length();q>=64;){for(G=0;G<16;++G)f[G]=T.getInt32();for(;G<64;++G)f[G]=(O=((O=f[G-2])>>>17|O<<15)^(O>>>19|O<<13)^O>>>10)+f[G-7]+(F=((F=f[G-15])>>>7|F<<25)^(F>>>18|F<<14)^F>>>3)+f[G-16]|0;for(R=u.h0,j=u.h1,U=u.h2,$=u.h3,ie=u.h4,se=u.h5,L=u.h6,J=u.h7,G=0;G<64;++G)N=R&j|U&(R^j),O=J+((ie>>>6|ie<<26)^(ie>>>11|ie<<21)^(ie>>>25|ie<<7))+(L^ie&(se^L))+w[G]+f[G],J=L,L=se,se=ie,ie=$+O>>>0,$=U,U=j,j=R,R=O+(F=((R>>>2|R<<30)^(R>>>13|R<<19)^(R>>>22|R<<10))+N)>>>0;u.h0=u.h0+R|0,u.h1=u.h1+j|0,u.h2=u.h2+U|0,u.h3=u.h3+$|0,u.h4=u.h4+ie|0,u.h5=u.h5+se|0,u.h6=u.h6+L|0,u.h7=u.h7+J|0,q-=64}}},1290:(nt,fe,h)=>{var n=h(6589);h(5437),h(812);var e=nt.exports=n.sha512=n.sha512||{};n.md.sha512=n.md.algorithms.sha512=e;var y=n.sha384=n.sha512.sha384=n.sha512.sha384||{};y.create=function(){return e.create("SHA-384")},n.md.sha384=n.md.algorithms.sha384=y,n.sha512.sha256=n.sha512.sha256||{create:function(){return e.create("SHA-512/256")}},n.md["sha512/256"]=n.md.algorithms["sha512/256"]=n.sha512.sha256,n.sha512.sha224=n.sha512.sha224||{create:function(){return e.create("SHA-512/224")}},n.md["sha512/224"]=n.md.algorithms["sha512/224"]=n.sha512.sha224,e.create=function(T){if(w||function u(){p="\x80",p+=n.util.fillString("\0",128),C=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],(m={})["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],m["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],m["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],m["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],w=!0}(),typeof T>"u"&&(T="SHA-512"),!(T in m))throw new Error("Invalid SHA-512 algorithm: "+T);for(var O=m[T],F=null,b=n.util.createBuffer(),M=new Array(80),k=0;k<80;++k)M[k]=new Array(2);var N=64;switch(T){case"SHA-384":N=48;break;case"SHA-512/256":N=32;break;case"SHA-512/224":N=28}var G={algorithm:T.replace("-","").toLowerCase(),blockLength:128,digestLength:N,messageLength:0,fullMessageLength:null,messageLengthSize:16,start:function(){G.messageLength=0,G.fullMessageLength=G.messageLength128=[];for(var R=G.messageLengthSize/4,j=0;j<R;++j)G.fullMessageLength.push(0);for(b=n.util.createBuffer(),F=new Array(O.length),j=0;j<O.length;++j)F[j]=O[j].slice(0);return G}};return G.start(),G.update=function(R,j){"utf8"===j&&(R=n.util.encodeUtf8(R));var U=R.length;G.messageLength+=U,U=[U/4294967296>>>0,U>>>0];for(var $=G.fullMessageLength.length-1;$>=0;--$)G.fullMessageLength[$]+=U[1],U[1]=U[0]+(G.fullMessageLength[$]/4294967296>>>0),G.fullMessageLength[$]=G.fullMessageLength[$]>>>0,U[0]=U[1]/4294967296>>>0;return b.putBytes(R),f(F,M,b),(b.read>2048||0===b.length())&&b.compact(),G},G.digest=function(){var R=n.util.createBuffer();R.putBytes(b.bytes()),R.putBytes(p.substr(0,G.blockLength-(G.fullMessageLength[G.fullMessageLength.length-1]+G.messageLengthSize&G.blockLength-1)));for(var $,se=8*G.fullMessageLength[0],L=0;L<G.fullMessageLength.length-1;++L)R.putInt32((se+=($=8*G.fullMessageLength[L+1])/4294967296>>>0)>>>0),se=$>>>0;R.putInt32(se);var J=new Array(F.length);for(L=0;L<F.length;++L)J[L]=F[L].slice(0);f(J,M,R);var S,q=n.util.createBuffer();for(S="SHA-512"===T?J.length:"SHA-384"===T?J.length-2:J.length-4,L=0;L<S;++L)q.putInt32(J[L][0]),(L!==S-1||"SHA-512/224"!==T)&&q.putInt32(J[L][1]);return q},G};var p=null,w=!1,C=null,m=null;function f(T,O,F){for(var b,M,k,N,J,q,S,re,K,me,Ne,De,xe,Qe,Se,be,le,Fe,Te,st,Oe,pt,Ye,qt,jt,Dt,wt,z=F.length();z>=128;){for(Oe=0;Oe<16;++Oe)O[Oe][0]=F.getInt32()>>>0,O[Oe][1]=F.getInt32()>>>0;for(;Oe<80;++Oe)M=(((pt=(qt=O[Oe-2])[0])<<13|(Ye=qt[1])>>>19)^(Ye<<3|pt>>>29)^(pt<<26|Ye>>>6))>>>0,O[Oe][0]=(b=((pt>>>19|Ye<<13)^(Ye>>>29|pt<<3)^pt>>>6)>>>0)+(jt=O[Oe-7])[0]+(k=(((pt=(Dt=O[Oe-15])[0])>>>1|(Ye=Dt[1])<<31)^(pt>>>8|Ye<<24)^pt>>>7)>>>0)+(wt=O[Oe-16])[0]+((Ye=M+jt[1]+(N=((pt<<31|Ye>>>1)^(pt<<24|Ye>>>8)^(pt<<25|Ye>>>7))>>>0)+wt[1])/4294967296>>>0)>>>0,O[Oe][1]=Ye>>>0;for(J=T[0][0],q=T[0][1],S=T[1][0],re=T[1][1],K=T[2][0],me=T[2][1],Ne=T[3][0],De=T[3][1],xe=T[4][0],Qe=T[4][1],Se=T[5][0],be=T[5][1],le=T[6][0],Fe=T[6][1],Te=T[7][0],st=T[7][1],Oe=0;Oe<80;++Oe)b=Te+(((xe>>>14|Qe<<18)^(xe>>>18|Qe<<14)^(Qe>>>9|xe<<23))>>>0)+((le^xe&(Se^le))>>>0)+C[Oe][0]+O[Oe][0]+((Ye=st+(((xe<<18|Qe>>>14)^(xe<<14|Qe>>>18)^(Qe<<23|xe>>>9))>>>0)+((Fe^Qe&(be^Fe))>>>0)+C[Oe][1]+O[Oe][1])/4294967296>>>0)>>>0,M=Ye>>>0,k=(((J>>>28|q<<4)^(q>>>2|J<<30)^(q>>>7|J<<25))>>>0)+((J&S|K&(J^S))>>>0)+((Ye=(((J<<4|q>>>28)^(q<<30|J>>>2)^(q<<25|J>>>7))>>>0)+((q&re|me&(q^re))>>>0))/4294967296>>>0)>>>0,N=Ye>>>0,Te=le,st=Fe,le=Se,Fe=be,Se=xe,be=Qe,xe=Ne+b+((Ye=De+M)/4294967296>>>0)>>>0,Qe=Ye>>>0,Ne=K,De=me,K=S,me=re,S=J,re=q,J=b+k+((Ye=M+N)/4294967296>>>0)>>>0,q=Ye>>>0;T[0][0]=T[0][0]+J+((Ye=T[0][1]+q)/4294967296>>>0)>>>0,T[0][1]=Ye>>>0,T[1][0]=T[1][0]+S+((Ye=T[1][1]+re)/4294967296>>>0)>>>0,T[1][1]=Ye>>>0,T[2][0]=T[2][0]+K+((Ye=T[2][1]+me)/4294967296>>>0)>>>0,T[2][1]=Ye>>>0,T[3][0]=T[3][0]+Ne+((Ye=T[3][1]+De)/4294967296>>>0)>>>0,T[3][1]=Ye>>>0,T[4][0]=T[4][0]+xe+((Ye=T[4][1]+Qe)/4294967296>>>0)>>>0,T[4][1]=Ye>>>0,T[5][0]=T[5][0]+Se+((Ye=T[5][1]+be)/4294967296>>>0)>>>0,T[5][1]=Ye>>>0,T[6][0]=T[6][0]+le+((Ye=T[6][1]+Fe)/4294967296>>>0)>>>0,T[6][1]=Ye>>>0,T[7][0]=T[7][0]+Te+((Ye=T[7][1]+st)/4294967296>>>0)>>>0,T[7][1]=Ye>>>0,z-=128}}},3120:(nt,fe,h)=>{var n=h(6589);h(57),h(4579),h(4846),h(8825),h(812);var e=nt.exports=n.ssh=n.ssh||{};function y(C,m){var u=m.toString(16);u[0]>="8"&&(u="00"+u);var f=n.util.hexToBytes(u);C.putInt32(f.length),C.putBytes(f)}function p(C,m){C.putInt32(m.length),C.putString(m)}function w(){for(var C=n.md.sha1.create(),m=arguments.length,u=0;u<m;++u)C.update(arguments[u]);return C.digest()}e.privateKeyToPutty=function(C,m,u){var f="ssh-rsa",T=""===(m=m||"")?"none":"aes256-cbc",O="PuTTY-User-Key-File-2: "+f+"\r\n";O+="Encryption: "+T+"\r\n",O+="Comment: "+(u=u||"")+"\r\n";var F=n.util.createBuffer();p(F,f),y(F,C.e),y(F,C.n);var b=n.util.encode64(F.bytes(),64),M=Math.floor(b.length/66)+1;O+="Public-Lines: "+M+"\r\n",O+=b;var N,k=n.util.createBuffer();if(y(k,C.d),y(k,C.p),y(k,C.q),y(k,C.qInv),m){var G=k.length()+16-1;G-=G%16;var R=w(k.bytes());R.truncate(R.length()-G+k.length()),k.putBuffer(R);var j=n.util.createBuffer();j.putBuffer(w("\0\0\0\0",m)),j.putBuffer(w("\0\0\0\x01",m));var U=n.aes.createEncryptionCipher(j.truncate(8),"CBC");U.start(n.util.createBuffer().fillWithByte(0,16)),U.update(k.copy()),U.finish();var $=U.output;$.truncate(16),N=n.util.encode64($.bytes(),64)}else N=n.util.encode64(k.bytes(),64);O+="\r\nPrivate-Lines: "+(M=Math.floor(N.length/66)+1)+"\r\n",O+=N;var ie=w("putty-private-key-file-mac-key",m),se=n.util.createBuffer();p(se,f),p(se,T),p(se,u),se.putInt32(F.length()),se.putBuffer(F),se.putInt32(k.length()),se.putBuffer(k);var L=n.hmac.create();return L.start("sha1",ie),L.update(se.bytes()),O+"\r\nPrivate-MAC: "+L.digest().toHex()+"\r\n"},e.publicKeyToOpenSSH=function(C,m){var u="ssh-rsa";m=m||"";var f=n.util.createBuffer();return p(f,u),y(f,C.e),y(f,C.n),u+" "+n.util.encode64(f.bytes())+" "+m},e.privateKeyToOpenSSH=function(C,m){return m?n.pki.encryptRsaPrivateKey(C,m,{legacy:!0,algorithm:"aes128"}):n.pki.privateKeyToPem(C)},e.getPublicKeyFingerprint=function(C,m){var u=(m=m||{}).md||n.md.md5.create(),T=n.util.createBuffer();p(T,"ssh-rsa"),y(T,C.e),y(T,C.n),u.start(),u.update(T.getBytes());var O=u.digest();if("hex"===m.encoding){var F=O.toHex();return m.delimiter?F.match(/.{2}/g).join(m.delimiter):F}if("binary"===m.encoding)return O.getBytes();if(m.encoding)throw new Error('Unknown encoding "'+m.encoding+'".');return O}},9807:(nt,fe,h)=>{var n=h(6589);h(7097),h(4579),h(4846),h(9368),h(9622),h(1675),h(8825),h(812);var e=function(z,Y,Z,Ce){var we=n.util.createBuffer(),at=z.length>>1,Be=at+(1&z.length),ot=z.substr(0,Be),Pt=z.substr(at,Be),mt=n.util.createBuffer(),it=n.hmac.create();Z=Y+Z;var Kt=Math.ceil(Ce/16),sn=Math.ceil(Ce/20);it.start("MD5",ot);var Ft=n.util.createBuffer();mt.putBytes(Z);for(var Jt=0;Jt<Kt;++Jt)it.start(null,null),it.update(mt.getBytes()),mt.putBuffer(it.digest()),it.start(null,null),it.update(mt.bytes()+Z),Ft.putBuffer(it.digest());it.start("SHA1",Pt);var je=n.util.createBuffer();for(mt.clear(),mt.putBytes(Z),Jt=0;Jt<sn;++Jt)it.start(null,null),it.update(mt.getBytes()),mt.putBuffer(it.digest()),it.start(null,null),it.update(mt.bytes()+Z),je.putBuffer(it.digest());return we.putBytes(n.util.xorBytes(Ft.getBytes(),je.getBytes(),Ce)),we},w=function(z,Y,Z){var Ce=!1;try{var we=z.deflate(Y.fragment.getBytes());Y.fragment=n.util.createBuffer(we),Y.length=we.length,Ce=!0}catch{}return Ce},C=function(z,Y,Z){var Ce=!1;try{var we=z.inflate(Y.fragment.getBytes());Y.fragment=n.util.createBuffer(we),Y.length=we.length,Ce=!0}catch{}return Ce},m=function(z,Y){var Z=0;switch(Y){case 1:Z=z.getByte();break;case 2:Z=z.getInt16();break;case 3:Z=z.getInt24();break;case 4:Z=z.getInt32()}return n.util.createBuffer(z.getBytes(Z))},u=function(z,Y,Z){z.putInt(Z.length(),Y<<3),z.putBuffer(Z)},f={Versions:{TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}}};f.SupportedVersions=[f.Versions.TLS_1_1,f.Versions.TLS_1_0],f.Version=f.SupportedVersions[0],f.MaxFragment=15360,f.ConnectionEnd={server:0,client:1},f.PRFAlgorithm={tls_prf_sha256:0},f.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2},f.CipherType={stream:0,block:1,aead:2},f.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4},f.CompressionMethod={none:0,deflate:1},f.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24},f.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20},f.Alert={},f.Alert.Level={warning:1,fatal:2},f.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100},f.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2},f.CipherSuites={},f.getCipherSuite=function(z){var Y=null;for(var Z in f.CipherSuites){var Ce=f.CipherSuites[Z];if(Ce.id[0]===z.charCodeAt(0)&&Ce.id[1]===z.charCodeAt(1)){Y=Ce;break}}return Y},f.handleUnexpected=function(z,Y){!z.open&&z.entity===f.ConnectionEnd.client||z.error(z,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.unexpected_message}})},f.handleHelloRequest=function(z,Y,Z){!z.handshaking&&z.handshakes>0&&(f.queue(z,f.createAlert(z,{level:f.Alert.Level.warning,description:f.Alert.Description.no_renegotiation})),f.flush(z)),z.process()},f.parseHelloMessage=function(z,Y,Z){var Ce=null,we=z.entity===f.ConnectionEnd.client;if(Z<38)z.error(z,{message:we?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.illegal_parameter}});else{var at=Y.fragment,Be=at.length();if(Ce={version:{major:at.getByte(),minor:at.getByte()},random:n.util.createBuffer(at.getBytes(32)),session_id:m(at,1),extensions:[]},we?(Ce.cipher_suite=at.getBytes(2),Ce.compression_method=at.getByte()):(Ce.cipher_suites=m(at,2),Ce.compression_methods=m(at,1)),(Be=Z-(Be-at.length()))>0){for(var ot=m(at,2);ot.length()>0;)Ce.extensions.push({type:[ot.getByte(),ot.getByte()],data:m(ot,2)});if(!we)for(var Pt=0;Pt<Ce.extensions.length;++Pt){var mt=Ce.extensions[Pt];if(0===mt.type[0]&&0===mt.type[1])for(var it=m(mt.data,2);it.length()>0&&0===it.getByte();)z.session.extensions.server_name.serverNameList.push(m(it,2).getBytes())}}if(z.session.version&&(Ce.version.major!==z.session.version.major||Ce.version.minor!==z.session.version.minor))return z.error(z,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.protocol_version}});if(we)z.session.cipherSuite=f.getCipherSuite(Ce.cipher_suite);else for(var sn=n.util.createBuffer(Ce.cipher_suites.bytes());sn.length()>0&&(z.session.cipherSuite=f.getCipherSuite(sn.getBytes(2)),null===z.session.cipherSuite););if(null===z.session.cipherSuite)return z.error(z,{message:"No cipher suites in common.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.handshake_failure},cipherSuite:n.util.bytesToHex(Ce.cipher_suite)});z.session.compressionMethod=we?Ce.compression_method:f.CompressionMethod.none}return Ce},f.createSecurityParameters=function(z,Y){var Z=z.entity===f.ConnectionEnd.client,Ce=Y.random.bytes(),we=Z?z.session.sp.client_random:Ce,at=Z?Ce:f.createRandom().getBytes();z.session.sp={entity:z.entity,prf_algorithm:f.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:z.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:we,server_random:at}},f.handleServerHello=function(z,Y,Z){var Ce=f.parseHelloMessage(z,Y,Z);if(!z.fail){if(!(Ce.version.minor<=z.version.minor))return z.error(z,{message:"Incompatible TLS version.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.protocol_version}});z.version.minor=Ce.version.minor,z.session.version=z.version;var we=Ce.session_id.bytes();we.length>0&&we===z.session.id?(z.expect=k,z.session.resuming=!0,z.session.sp.server_random=Ce.random.bytes()):(z.expect=O,z.session.resuming=!1,f.createSecurityParameters(z,Ce)),z.session.id=we,z.process()}},f.handleClientHello=function(z,Y,Z){var Ce=f.parseHelloMessage(z,Y,Z);if(!z.fail){var we=Ce.session_id.bytes(),at=null;if(z.sessionCache&&(null===(at=z.sessionCache.getSession(we))?we="":(at.version.major!==Ce.version.major||at.version.minor>Ce.version.minor)&&(at=null,we="")),0===we.length&&(we=n.random.getBytes(32)),z.session.id=we,z.session.clientHelloVersion=Ce.version,z.session.sp={},at)z.version=z.session.version=at.version,z.session.sp=at.sp;else{for(var Be,ot=1;ot<f.SupportedVersions.length&&!((Be=f.SupportedVersions[ot]).minor<=Ce.version.minor);++ot);z.version={major:Be.major,minor:Be.minor},z.session.version=z.version}null!==at?(z.expect=se,z.session.resuming=!0,z.session.sp.client_random=Ce.random.bytes()):(z.expect=!1!==z.verifyClient?U:$,z.session.resuming=!1,f.createSecurityParameters(z,Ce)),z.open=!0,f.queue(z,f.createRecord(z,{type:f.ContentType.handshake,data:f.createServerHello(z)})),z.session.resuming?(f.queue(z,f.createRecord(z,{type:f.ContentType.change_cipher_spec,data:f.createChangeCipherSpec()})),z.state.pending=f.createConnectionState(z),z.state.current.write=z.state.pending.write,f.queue(z,f.createRecord(z,{type:f.ContentType.handshake,data:f.createFinished(z)}))):(f.queue(z,f.createRecord(z,{type:f.ContentType.handshake,data:f.createCertificate(z)})),z.fail||(f.queue(z,f.createRecord(z,{type:f.ContentType.handshake,data:f.createServerKeyExchange(z)})),!1!==z.verifyClient&&f.queue(z,f.createRecord(z,{type:f.ContentType.handshake,data:f.createCertificateRequest(z)})),f.queue(z,f.createRecord(z,{type:f.ContentType.handshake,data:f.createServerHelloDone(z)})))),f.flush(z),z.process()}},f.handleCertificate=function(z,Y,Z){if(Z<3)return z.error(z,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.illegal_parameter}});var at,Be,we={certificate_list:m(Y.fragment,3)},ot=[];try{for(;we.certificate_list.length()>0;)at=m(we.certificate_list,3),Be=n.asn1.fromDer(at),at=n.pki.certificateFromAsn1(Be,!0),ot.push(at)}catch(mt){return z.error(z,{message:"Could not parse certificate list.",cause:mt,send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.bad_certificate}})}var Pt=z.entity===f.ConnectionEnd.client;!Pt&&!0!==z.verifyClient||0!==ot.length?0===ot.length?z.expect=Pt?F:$:(Pt?z.session.serverCertificate=ot[0]:z.session.clientCertificate=ot[0],f.verifyCertificateChain(z,ot)&&(z.expect=Pt?F:$)):z.error(z,{message:Pt?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.illegal_parameter}}),z.process()},f.handleServerKeyExchange=function(z,Y,Z){if(Z>0)return z.error(z,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.unsupported_certificate}});z.expect=b,z.process()},f.handleClientKeyExchange=function(z,Y,Z){if(Z<48)return z.error(z,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.unsupported_certificate}});var we={enc_pre_master_secret:m(Y.fragment,2).getBytes()},at=null;if(z.getPrivateKey)try{at=z.getPrivateKey(z,z.session.serverCertificate),at=n.pki.privateKeyFromPem(at)}catch(Pt){z.error(z,{message:"Could not get private key.",cause:Pt,send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.internal_error}})}if(null===at)return z.error(z,{message:"No private key set.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.internal_error}});try{var Be=z.session.sp;Be.pre_master_secret=at.decrypt(we.enc_pre_master_secret);var ot=z.session.clientHelloVersion;if(ot.major!==Be.pre_master_secret.charCodeAt(0)||ot.minor!==Be.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch{Be.pre_master_secret=n.random.getBytes(48)}z.expect=se,null!==z.session.clientCertificate&&(z.expect=ie),z.process()},f.handleCertificateRequest=function(z,Y,Z){if(Z<3)return z.error(z,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.illegal_parameter}});var Ce=Y.fragment,we={certificate_types:m(Ce,1),certificate_authorities:m(Ce,2)};z.session.certificateRequest=we,z.expect=M,z.process()},f.handleCertificateVerify=function(z,Y,Z){if(Z<2)return z.error(z,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.illegal_parameter}});var Ce=Y.fragment;Ce.read-=4;var we=Ce.bytes();Ce.read+=4;var at={signature:m(Ce,2).getBytes()},Be=n.util.createBuffer();Be.putBuffer(z.session.md5.digest()),Be.putBuffer(z.session.sha1.digest()),Be=Be.getBytes();try{if(!z.session.clientCertificate.publicKey.verify(Be,at.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");z.session.md5.update(we),z.session.sha1.update(we)}catch{return z.error(z,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.handshake_failure}})}z.expect=se,z.process()},f.handleServerHelloDone=function(z,Y,Z){if(Z>0)return z.error(z,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.record_overflow}});if(null===z.serverCertificate){var Ce={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.insufficient_security}},at=z.verify(z,Ce.alert.description,0,[]);if(!0!==at)return(at||0===at)&&("object"!=typeof at||n.util.isArray(at)?"number"==typeof at&&(Ce.alert.description=at):(at.message&&(Ce.message=at.message),at.alert&&(Ce.alert.description=at.alert))),z.error(z,Ce)}null!==z.session.certificateRequest&&(Y=f.createRecord(z,{type:f.ContentType.handshake,data:f.createCertificate(z)}),f.queue(z,Y)),Y=f.createRecord(z,{type:f.ContentType.handshake,data:f.createClientKeyExchange(z)}),f.queue(z,Y),z.expect=R;var Be=function(ot,Pt){null!==ot.session.certificateRequest&&null!==ot.session.clientCertificate&&f.queue(ot,f.createRecord(ot,{type:f.ContentType.handshake,data:f.createCertificateVerify(ot,Pt)})),f.queue(ot,f.createRecord(ot,{type:f.ContentType.change_cipher_spec,data:f.createChangeCipherSpec()})),ot.state.pending=f.createConnectionState(ot),ot.state.current.write=ot.state.pending.write,f.queue(ot,f.createRecord(ot,{type:f.ContentType.handshake,data:f.createFinished(ot)})),ot.expect=k,f.flush(ot),ot.process()};if(null===z.session.certificateRequest||null===z.session.clientCertificate)return Be(z,null);f.getClientSignature(z,Be)},f.handleChangeCipherSpec=function(z,Y){if(1!==Y.fragment.getByte())return z.error(z,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.illegal_parameter}});var Z=z.entity===f.ConnectionEnd.client;(z.session.resuming&&Z||!z.session.resuming&&!Z)&&(z.state.pending=f.createConnectionState(z)),z.state.current.read=z.state.pending.read,(!z.session.resuming&&Z||z.session.resuming&&!Z)&&(z.state.pending=null),z.expect=Z?N:L,z.process()},f.handleFinished=function(z,Y,Z){var Ce=Y.fragment;Ce.read-=4;var we=Ce.bytes();Ce.read+=4;var at=Y.fragment.getBytes();(Ce=n.util.createBuffer()).putBuffer(z.session.md5.digest()),Ce.putBuffer(z.session.sha1.digest());var Be=z.entity===f.ConnectionEnd.client;if((Ce=e(z.session.sp.master_secret,Be?"server finished":"client finished",Ce.getBytes(),12)).getBytes()!==at)return z.error(z,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.decrypt_error}});z.session.md5.update(we),z.session.sha1.update(we),(z.session.resuming&&Be||!z.session.resuming&&!Be)&&(f.queue(z,f.createRecord(z,{type:f.ContentType.change_cipher_spec,data:f.createChangeCipherSpec()})),z.state.current.write=z.state.pending.write,z.state.pending=null,f.queue(z,f.createRecord(z,{type:f.ContentType.handshake,data:f.createFinished(z)}))),z.expect=Be?G:J,z.handshaking=!1,++z.handshakes,z.peerCertificate=Be?z.session.serverCertificate:z.session.clientCertificate,f.flush(z),z.isConnected=!0,z.connected(z),z.process()},f.handleAlert=function(z,Y){var we,Z=Y.fragment,Ce={level:Z.getByte(),description:Z.getByte()};switch(Ce.description){case f.Alert.Description.close_notify:we="Connection closed.";break;case f.Alert.Description.unexpected_message:we="Unexpected message.";break;case f.Alert.Description.bad_record_mac:we="Bad record MAC.";break;case f.Alert.Description.decryption_failed:we="Decryption failed.";break;case f.Alert.Description.record_overflow:we="Record overflow.";break;case f.Alert.Description.decompression_failure:we="Decompression failed.";break;case f.Alert.Description.handshake_failure:we="Handshake failure.";break;case f.Alert.Description.bad_certificate:we="Bad certificate.";break;case f.Alert.Description.unsupported_certificate:we="Unsupported certificate.";break;case f.Alert.Description.certificate_revoked:we="Certificate revoked.";break;case f.Alert.Description.certificate_expired:we="Certificate expired.";break;case f.Alert.Description.certificate_unknown:we="Certificate unknown.";break;case f.Alert.Description.illegal_parameter:we="Illegal parameter.";break;case f.Alert.Description.unknown_ca:we="Unknown certificate authority.";break;case f.Alert.Description.access_denied:we="Access denied.";break;case f.Alert.Description.decode_error:we="Decode error.";break;case f.Alert.Description.decrypt_error:we="Decrypt error.";break;case f.Alert.Description.export_restriction:we="Export restriction.";break;case f.Alert.Description.protocol_version:we="Unsupported protocol version.";break;case f.Alert.Description.insufficient_security:we="Insufficient security.";break;case f.Alert.Description.internal_error:we="Internal error.";break;case f.Alert.Description.user_canceled:we="User canceled.";break;case f.Alert.Description.no_renegotiation:we="Renegotiation not supported.";break;default:we="Unknown error."}if(Ce.description===f.Alert.Description.close_notify)return z.close();z.error(z,{message:we,send:!1,origin:z.entity===f.ConnectionEnd.client?"server":"client",alert:Ce}),z.process()},f.handleHandshake=function(z,Y){var Z=Y.fragment,Ce=Z.getByte(),we=Z.getInt24();if(we>Z.length())return z.fragmented=Y,Y.fragment=n.util.createBuffer(),Z.read-=4,z.process();z.fragmented=null,Z.read-=4;var at=Z.bytes(we+4);Z.read+=4,Ce in Oe[z.entity][z.expect]?(z.entity===f.ConnectionEnd.server&&!z.open&&!z.fail&&(z.handshaking=!0,z.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:n.md.md5.create(),sha1:n.md.sha1.create()}),Ce!==f.HandshakeType.hello_request&&Ce!==f.HandshakeType.certificate_verify&&Ce!==f.HandshakeType.finished&&(z.session.md5.update(at),z.session.sha1.update(at)),Oe[z.entity][z.expect][Ce](z,Y,we)):f.handleUnexpected(z,Y)},f.handleApplicationData=function(z,Y){z.data.putBuffer(Y.fragment),z.dataReady(z),z.process()},f.handleHeartbeat=function(z,Y){var Z=Y.fragment,Ce=Z.getByte(),we=Z.getInt16(),at=Z.getBytes(we);if(Ce===f.HeartbeatMessageType.heartbeat_request){if(z.handshaking||we>at.length)return z.process();f.queue(z,f.createRecord(z,{type:f.ContentType.heartbeat,data:f.createHeartbeat(f.HeartbeatMessageType.heartbeat_response,at)})),f.flush(z)}else if(Ce===f.HeartbeatMessageType.heartbeat_response){if(at!==z.expectedHeartbeatPayload)return z.process();z.heartbeatReceived&&z.heartbeatReceived(z,n.util.createBuffer(at))}z.process()};var O=1,F=2,b=3,M=4,k=5,N=6,G=7,R=8,U=1,$=2,ie=3,se=4,L=5,J=6,S=f.handleUnexpected,re=f.handleChangeCipherSpec,K=f.handleAlert,me=f.handleHandshake,Ne=f.handleApplicationData,De=f.handleHeartbeat,xe=[];xe[f.ConnectionEnd.client]=[[S,K,me,S,De],[S,K,me,S,De],[S,K,me,S,De],[S,K,me,S,De],[S,K,me,S,De],[re,K,S,S,De],[S,K,me,S,De],[S,K,me,Ne,De],[S,K,me,S,De]],xe[f.ConnectionEnd.server]=[[S,K,me,S,De],[S,K,me,S,De],[S,K,me,S,De],[S,K,me,S,De],[re,K,S,S,De],[S,K,me,S,De],[S,K,me,Ne,De],[S,K,me,S,De]];var Qe=f.handleHelloRequest,be=f.handleCertificate,le=f.handleServerKeyExchange,Fe=f.handleCertificateRequest,Te=f.handleServerHelloDone,st=f.handleFinished,Oe=[];Oe[f.ConnectionEnd.client]=[[S,S,f.handleServerHello,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S],[Qe,S,S,S,S,S,S,S,S,S,S,be,le,Fe,Te,S,S,S,S,S,S],[Qe,S,S,S,S,S,S,S,S,S,S,S,le,Fe,Te,S,S,S,S,S,S],[Qe,S,S,S,S,S,S,S,S,S,S,S,S,Fe,Te,S,S,S,S,S,S],[Qe,S,S,S,S,S,S,S,S,S,S,S,S,S,Te,S,S,S,S,S,S],[Qe,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S],[Qe,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,st],[Qe,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S],[Qe,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S]],Oe[f.ConnectionEnd.server]=[[S,f.handleClientHello,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S],[S,S,S,S,S,S,S,S,S,S,S,be,S,S,S,S,S,S,S,S,S],[S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,f.handleClientKeyExchange,S,S,S,S],[S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,f.handleCertificateVerify,S,S,S,S,S],[S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S],[S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,st],[S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S],[S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S]],f.generateKeys=function(z,Y){var Z=e,Ce=Y.client_random+Y.server_random;z.session.resuming||(Y.master_secret=Z(Y.pre_master_secret,"master secret",Ce,48).bytes(),Y.pre_master_secret=null);var we=2*Y.mac_key_length+2*Y.enc_key_length,at=z.version.major===f.Versions.TLS_1_0.major&&z.version.minor===f.Versions.TLS_1_0.minor;at&&(we+=2*Y.fixed_iv_length);var Be=Z(Y.master_secret,"key expansion",Ce=Y.server_random+Y.client_random,we),ot={client_write_MAC_key:Be.getBytes(Y.mac_key_length),server_write_MAC_key:Be.getBytes(Y.mac_key_length),client_write_key:Be.getBytes(Y.enc_key_length),server_write_key:Be.getBytes(Y.enc_key_length)};return at&&(ot.client_write_IV=Be.getBytes(Y.fixed_iv_length),ot.server_write_IV=Be.getBytes(Y.fixed_iv_length)),ot},f.createConnectionState=function(z){var Y=z.entity===f.ConnectionEnd.client,Z=function(){var at={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:function(Be){return!0},compressionState:null,compressFunction:function(Be){return!0},updateSequenceNumber:function(){4294967295===at.sequenceNumber[1]?(at.sequenceNumber[1]=0,++at.sequenceNumber[0]):++at.sequenceNumber[1]}};return at},Ce={read:Z(),write:Z()};if(Ce.read.update=function(at,Be){return Ce.read.cipherFunction(Be,Ce.read)?Ce.read.compressFunction(at,Be,Ce.read)||at.error(at,{message:"Could not decompress record.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.decompression_failure}}):at.error(at,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.bad_record_mac}}),!at.fail},Ce.write.update=function(at,Be){return Ce.write.compressFunction(at,Be,Ce.write)?Ce.write.cipherFunction(Be,Ce.write)||at.error(at,{message:"Could not encrypt record.",send:!1,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.internal_error}}):at.error(at,{message:"Could not compress record.",send:!1,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.internal_error}}),!at.fail},z.session){var we=z.session.sp;switch(z.session.cipherSuite.initSecurityParameters(we),we.keys=f.generateKeys(z,we),Ce.read.macKey=Y?we.keys.server_write_MAC_key:we.keys.client_write_MAC_key,Ce.write.macKey=Y?we.keys.client_write_MAC_key:we.keys.server_write_MAC_key,z.session.cipherSuite.initConnectionState(Ce,z,we),we.compression_algorithm){case f.CompressionMethod.none:break;case f.CompressionMethod.deflate:Ce.read.compressFunction=C,Ce.write.compressFunction=w;break;default:throw new Error("Unsupported compression algorithm.")}}return Ce},f.createRandom=function(){var z=new Date,Y=+z+6e4*z.getTimezoneOffset(),Z=n.util.createBuffer();return Z.putInt32(Y),Z.putBytes(n.random.getBytes(28)),Z},f.createRecord=function(z,Y){return Y.data?{type:Y.type,version:{major:z.version.major,minor:z.version.minor},length:Y.data.length(),fragment:Y.data}:null},f.createAlert=function(z,Y){var Z=n.util.createBuffer();return Z.putByte(Y.level),Z.putByte(Y.description),f.createRecord(z,{type:f.ContentType.alert,data:Z})},f.createClientHello=function(z){z.session.clientHelloVersion={major:z.version.major,minor:z.version.minor};for(var Y=n.util.createBuffer(),Z=0;Z<z.cipherSuites.length;++Z){var Ce=z.cipherSuites[Z];Y.putByte(Ce.id[0]),Y.putByte(Ce.id[1])}var we=Y.length(),at=n.util.createBuffer();at.putByte(f.CompressionMethod.none);var Be=at.length(),ot=n.util.createBuffer();if(z.virtualHost){var Pt=n.util.createBuffer();Pt.putByte(0),Pt.putByte(0);var mt=n.util.createBuffer();mt.putByte(0),u(mt,2,n.util.createBuffer(z.virtualHost));var it=n.util.createBuffer();u(it,2,mt),u(Pt,2,it),ot.putBuffer(Pt)}var Kt=ot.length();Kt>0&&(Kt+=2);var sn=z.session.id,Ft=sn.length+1+2+4+28+2+we+1+Be+Kt,Jt=n.util.createBuffer();return Jt.putByte(f.HandshakeType.client_hello),Jt.putInt24(Ft),Jt.putByte(z.version.major),Jt.putByte(z.version.minor),Jt.putBytes(z.session.sp.client_random),u(Jt,1,n.util.createBuffer(sn)),u(Jt,2,Y),u(Jt,1,at),Kt>0&&u(Jt,2,ot),Jt},f.createServerHello=function(z){var Y=z.session.id,Z=Y.length+1+2+4+28+2+1,Ce=n.util.createBuffer();return Ce.putByte(f.HandshakeType.server_hello),Ce.putInt24(Z),Ce.putByte(z.version.major),Ce.putByte(z.version.minor),Ce.putBytes(z.session.sp.server_random),u(Ce,1,n.util.createBuffer(Y)),Ce.putByte(z.session.cipherSuite.id[0]),Ce.putByte(z.session.cipherSuite.id[1]),Ce.putByte(z.session.compressionMethod),Ce},f.createCertificate=function(z){var Y=z.entity===f.ConnectionEnd.client,Z=null;z.getCertificate&&(Z=z.getCertificate(z,Y?z.session.certificateRequest:z.session.extensions.server_name.serverNameList));var we=n.util.createBuffer();if(null!==Z)try{n.util.isArray(Z)||(Z=[Z]);for(var at=null,Be=0;Be<Z.length;++Be){var ot=n.pem.decode(Z[Be])[0];if("CERTIFICATE"!==ot.type&&"X509 CERTIFICATE"!==ot.type&&"TRUSTED CERTIFICATE"!==ot.type){var Pt=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw Pt.headerType=ot.type,Pt}if(ot.procType&&"ENCRYPTED"===ot.procType.type)throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var mt=n.util.createBuffer(ot.body);null===at&&(at=n.asn1.fromDer(mt.bytes(),!1));var it=n.util.createBuffer();u(it,3,mt),we.putBuffer(it)}Z=n.pki.certificateFromAsn1(at),Y?z.session.clientCertificate=Z:z.session.serverCertificate=Z}catch(Ft){return z.error(z,{message:"Could not send certificate list.",cause:Ft,send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.bad_certificate}})}var Kt=3+we.length(),sn=n.util.createBuffer();return sn.putByte(f.HandshakeType.certificate),sn.putInt24(Kt),u(sn,3,we),sn},f.createClientKeyExchange=function(z){var Y=n.util.createBuffer();Y.putByte(z.session.clientHelloVersion.major),Y.putByte(z.session.clientHelloVersion.minor),Y.putBytes(n.random.getBytes(46));var Z=z.session.sp;Z.pre_master_secret=Y.getBytes();var we=(Y=z.session.serverCertificate.publicKey.encrypt(Z.pre_master_secret)).length+2,at=n.util.createBuffer();return at.putByte(f.HandshakeType.client_key_exchange),at.putInt24(we),at.putInt16(Y.length),at.putBytes(Y),at},f.createServerKeyExchange=function(z){return n.util.createBuffer()},f.getClientSignature=function(z,Y){var Z=n.util.createBuffer();Z.putBuffer(z.session.md5.digest()),Z.putBuffer(z.session.sha1.digest()),Z=Z.getBytes(),z.getSignature=z.getSignature||function(Ce,we,at){var Be=null;if(Ce.getPrivateKey)try{Be=Ce.getPrivateKey(Ce,Ce.session.clientCertificate),Be=n.pki.privateKeyFromPem(Be)}catch(ot){Ce.error(Ce,{message:"Could not get private key.",cause:ot,send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.internal_error}})}null===Be?Ce.error(Ce,{message:"No private key set.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.internal_error}}):we=Be.sign(we,null),at(Ce,we)},z.getSignature(z,Z,Y)},f.createCertificateVerify=function(z,Y){var Z=Y.length+2,Ce=n.util.createBuffer();return Ce.putByte(f.HandshakeType.certificate_verify),Ce.putInt24(Z),Ce.putInt16(Y.length),Ce.putBytes(Y),Ce},f.createCertificateRequest=function(z){var Y=n.util.createBuffer();Y.putByte(1);var Z=n.util.createBuffer();for(var Ce in z.caStore.certs){var at=n.pki.distinguishedNameToAsn1(z.caStore.certs[Ce].subject),Be=n.asn1.toDer(at);Z.putInt16(Be.length()),Z.putBuffer(Be)}var ot=1+Y.length()+2+Z.length(),Pt=n.util.createBuffer();return Pt.putByte(f.HandshakeType.certificate_request),Pt.putInt24(ot),u(Pt,1,Y),u(Pt,2,Z),Pt},f.createServerHelloDone=function(z){var Y=n.util.createBuffer();return Y.putByte(f.HandshakeType.server_hello_done),Y.putInt24(0),Y},f.createChangeCipherSpec=function(){var z=n.util.createBuffer();return z.putByte(1),z},f.createFinished=function(z){var Y=n.util.createBuffer();Y.putBuffer(z.session.md5.digest()),Y.putBuffer(z.session.sha1.digest()),Y=e(z.session.sp.master_secret,z.entity===f.ConnectionEnd.client?"client finished":"server finished",Y.getBytes(),12);var ot=n.util.createBuffer();return ot.putByte(f.HandshakeType.finished),ot.putInt24(Y.length()),ot.putBuffer(Y),ot},f.createHeartbeat=function(z,Y,Z){typeof Z>"u"&&(Z=Y.length);var Ce=n.util.createBuffer();Ce.putByte(z),Ce.putInt16(Z),Ce.putBytes(Y);var we=Ce.length(),at=Math.max(16,we-Z-3);return Ce.putBytes(n.random.getBytes(at)),Ce},f.queue=function(z,Y){if(Y&&(0!==Y.fragment.length()||Y.type!==f.ContentType.handshake&&Y.type!==f.ContentType.alert&&Y.type!==f.ContentType.change_cipher_spec)){if(Y.type===f.ContentType.handshake){var Z=Y.fragment.bytes();z.session.md5.update(Z),z.session.sha1.update(Z),Z=null}var Ce;if(Y.fragment.length()<=f.MaxFragment)Ce=[Y];else{Ce=[];for(var we=Y.fragment.bytes();we.length>f.MaxFragment;)Ce.push(f.createRecord(z,{type:Y.type,data:n.util.createBuffer(we.slice(0,f.MaxFragment))})),we=we.slice(f.MaxFragment);we.length>0&&Ce.push(f.createRecord(z,{type:Y.type,data:n.util.createBuffer(we)}))}for(var at=0;at<Ce.length&&!z.fail;++at){var Be=Ce[at];z.state.current.write.update(z,Be)&&z.records.push(Be)}}},f.flush=function(z){for(var Y=0;Y<z.records.length;++Y){var Z=z.records[Y];z.tlsData.putByte(Z.type),z.tlsData.putByte(Z.version.major),z.tlsData.putByte(Z.version.minor),z.tlsData.putInt16(Z.fragment.length()),z.tlsData.putBuffer(z.records[Y].fragment)}return z.records=[],z.tlsDataReady(z)};var jt=function(z){switch(z){case!0:return!0;case n.pki.certificateError.bad_certificate:return f.Alert.Description.bad_certificate;case n.pki.certificateError.unsupported_certificate:return f.Alert.Description.unsupported_certificate;case n.pki.certificateError.certificate_revoked:return f.Alert.Description.certificate_revoked;case n.pki.certificateError.certificate_expired:return f.Alert.Description.certificate_expired;case n.pki.certificateError.certificate_unknown:return f.Alert.Description.certificate_unknown;case n.pki.certificateError.unknown_ca:return f.Alert.Description.unknown_ca;default:return f.Alert.Description.bad_certificate}};for(var wt in f.verifyCertificateChain=function(z,Y){try{var Z={};for(var Ce in z.verifyOptions)Z[Ce]=z.verifyOptions[Ce];Z.verify=function(at,Be,ot){jt(at);var mt=z.verify(z,at,Be,ot);if(!0!==mt){if("object"==typeof mt&&!n.util.isArray(mt)){var it=new Error("The application rejected the certificate.");throw it.send=!0,it.alert={level:f.Alert.Level.fatal,description:f.Alert.Description.bad_certificate},mt.message&&(it.message=mt.message),mt.alert&&(it.alert.description=mt.alert),it}mt!==at&&(mt=function(z){switch(z){case!0:return!0;case f.Alert.Description.bad_certificate:return n.pki.certificateError.bad_certificate;case f.Alert.Description.unsupported_certificate:return n.pki.certificateError.unsupported_certificate;case f.Alert.Description.certificate_revoked:return n.pki.certificateError.certificate_revoked;case f.Alert.Description.certificate_expired:return n.pki.certificateError.certificate_expired;case f.Alert.Description.certificate_unknown:return n.pki.certificateError.certificate_unknown;case f.Alert.Description.unknown_ca:return n.pki.certificateError.unknown_ca;default:return n.pki.certificateError.bad_certificate}}(mt))}return mt},n.pki.verifyCertificateChain(z.caStore,Y,Z)}catch(at){var we=at;("object"!=typeof we||n.util.isArray(we))&&(we={send:!0,alert:{level:f.Alert.Level.fatal,description:jt(at)}}),"send"in we||(we.send=!0),"alert"in we||(we.alert={level:f.Alert.Level.fatal,description:jt(we.error)}),z.error(z,we)}return!z.fail},f.createSessionCache=function(z,Y){var Z=null;if(z&&z.getSession&&z.setSession&&z.order)Z=z;else{for(var Ce in(Z={}).cache=z||{},Z.capacity=Math.max(Y||100,1),Z.order=[],z)Z.order.length<=Y?Z.order.push(Ce):delete z[Ce];Z.getSession=function(we){var at=null,Be=null;if(we?Be=n.util.bytesToHex(we):Z.order.length>0&&(Be=Z.order[0]),null!==Be&&Be in Z.cache)for(var ot in at=Z.cache[Be],delete Z.cache[Be],Z.order)if(Z.order[ot]===Be){Z.order.splice(ot,1);break}return at},Z.setSession=function(we,at){if(Z.order.length===Z.capacity){var Be=Z.order.shift();delete Z.cache[Be]}Be=n.util.bytesToHex(we),Z.order.push(Be),Z.cache[Be]=at}}return Z},f.createConnection=function(z){var Y;Y=z.caStore?n.util.isArray(z.caStore)?n.pki.createCaStore(z.caStore):z.caStore:n.pki.createCaStore();var Z=z.cipherSuites||null;if(null===Z)for(var Ce in Z=[],f.CipherSuites)Z.push(f.CipherSuites[Ce]);var we=z.server?f.ConnectionEnd.server:f.ConnectionEnd.client,at=z.sessionCache?f.createSessionCache(z.sessionCache):null,Be={version:{major:f.Version.major,minor:f.Version.minor},entity:we,sessionId:z.sessionId,caStore:Y,sessionCache:at,cipherSuites:Z,connected:z.connected,virtualHost:z.virtualHost||null,verifyClient:z.verifyClient||!1,verify:z.verify||function(it,Kt,sn,Ft){return Kt},verifyOptions:z.verifyOptions||{},getCertificate:z.getCertificate||null,getPrivateKey:z.getPrivateKey||null,getSignature:z.getSignature||null,input:n.util.createBuffer(),tlsData:n.util.createBuffer(),data:n.util.createBuffer(),tlsDataReady:z.tlsDataReady,dataReady:z.dataReady,heartbeatReceived:z.heartbeatReceived,closed:z.closed,error:function(it,Kt){Kt.origin=Kt.origin||(it.entity===f.ConnectionEnd.client?"client":"server"),Kt.send&&(f.queue(it,f.createAlert(it,Kt.alert)),f.flush(it));var sn=!1!==Kt.fatal;sn&&(it.fail=!0),z.error(it,Kt),sn&&it.close(!1)},deflate:z.deflate||null,inflate:z.inflate||null,reset:function(it){Be.version={major:f.Version.major,minor:f.Version.minor},Be.record=null,Be.session=null,Be.peerCertificate=null,Be.state={pending:null,current:null},Be.expect=0,Be.fragmented=null,Be.records=[],Be.open=!1,Be.handshakes=0,Be.handshaking=!1,Be.isConnected=!1,Be.fail=!(it||typeof it>"u"),Be.input.clear(),Be.tlsData.clear(),Be.data.clear(),Be.state.current=f.createConnectionState(Be)}};return Be.reset(),Be.handshake=function(it){if(Be.entity!==f.ConnectionEnd.client)Be.error(Be,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(Be.handshaking)Be.error(Be,{message:"Handshake already in progress.",fatal:!1});else{Be.fail&&!Be.open&&0===Be.handshakes&&(Be.fail=!1),Be.handshaking=!0;var Kt=null;(it=it||"").length>0&&(Be.sessionCache&&(Kt=Be.sessionCache.getSession(it)),null===Kt&&(it="")),0===it.length&&Be.sessionCache&&null!==(Kt=Be.sessionCache.getSession())&&(it=Kt.id),Be.session={id:it,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:n.md.md5.create(),sha1:n.md.sha1.create()},Kt&&(Be.version=Kt.version,Be.session.sp=Kt.sp),Be.session.sp.client_random=f.createRandom().getBytes(),Be.open=!0,f.queue(Be,f.createRecord(Be,{type:f.ContentType.handshake,data:f.createClientHello(Be)})),f.flush(Be)}},Be.process=function(it){var Kt=0;return it&&Be.input.putBytes(it),Be.fail||(null!==Be.record&&Be.record.ready&&Be.record.fragment.isEmpty()&&(Be.record=null),null===Be.record&&(Kt=function(it){var Kt=0,sn=it.input,Ft=sn.length();if(Ft<5)Kt=5-Ft;else{it.record={type:sn.getByte(),version:{major:sn.getByte(),minor:sn.getByte()},length:sn.getInt16(),fragment:n.util.createBuffer(),ready:!1};var Jt=it.record.version.major===it.version.major;Jt&&it.session&&it.session.version&&(Jt=it.record.version.minor===it.version.minor),Jt||it.error(it,{message:"Incompatible TLS version.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.protocol_version}})}return Kt}(Be)),!Be.fail&&null!==Be.record&&!Be.record.ready&&(Kt=function(it){var Kt=0,sn=it.input,Ft=sn.length();return Ft<it.record.length?Kt=it.record.length-Ft:(it.record.fragment.putBytes(sn.getBytes(it.record.length)),sn.compact(),it.state.current.read.update(it,it.record)&&(null!==it.fragmented&&(it.fragmented.type===it.record.type?(it.fragmented.fragment.putBuffer(it.record.fragment),it.record=it.fragmented):it.error(it,{message:"Invalid fragmented record.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.unexpected_message}})),it.record.ready=!0)),Kt}(Be)),!Be.fail&&null!==Be.record&&Be.record.ready&&function(it,Kt){var sn=Kt.type-f.ContentType.change_cipher_spec,Ft=xe[it.entity][it.expect];sn in Ft?Ft[sn](it,Kt):f.handleUnexpected(it,Kt)}(Be,Be.record)),Kt},Be.prepare=function(it){return f.queue(Be,f.createRecord(Be,{type:f.ContentType.application_data,data:n.util.createBuffer(it)})),f.flush(Be)},Be.prepareHeartbeatRequest=function(it,Kt){return it instanceof n.util.ByteBuffer&&(it=it.bytes()),typeof Kt>"u"&&(Kt=it.length),Be.expectedHeartbeatPayload=it,f.queue(Be,f.createRecord(Be,{type:f.ContentType.heartbeat,data:f.createHeartbeat(f.HeartbeatMessageType.heartbeat_request,it,Kt)})),f.flush(Be)},Be.close=function(it){if(!Be.fail&&Be.sessionCache&&Be.session){var Kt={id:Be.session.id,version:Be.session.version,sp:Be.session.sp};Kt.sp.keys=null,Be.sessionCache.setSession(Kt.id,Kt)}Be.open&&(Be.open=!1,Be.input.clear(),(Be.isConnected||Be.handshaking)&&(Be.isConnected=Be.handshaking=!1,f.queue(Be,f.createAlert(Be,{level:f.Alert.Level.warning,description:f.Alert.Description.close_notify})),f.flush(Be)),Be.closed(Be)),Be.reset(it)},Be},nt.exports=n.tls=n.tls||{},f)"function"!=typeof f[wt]&&(n.tls[wt]=f[wt]);n.tls.prf_tls1=e,n.tls.hmac_sha1=function(z,Y,Z){var Ce=n.hmac.create();Ce.start("SHA1",z);var we=n.util.createBuffer();return we.putInt32(Y[0]),we.putInt32(Y[1]),we.putByte(Z.type),we.putByte(Z.version.major),we.putByte(Z.version.minor),we.putInt16(Z.length),we.putBytes(Z.fragment.bytes()),Ce.update(we.getBytes()),Ce.digest().getBytes()},n.tls.createSessionCache=f.createSessionCache,n.tls.createConnection=f.createConnection},812:(nt,fe,h)=>{var n=h(6589),e=h(3175),y=nt.exports=n.util=n.util||{};function p(R){if(8!==R&&16!==R&&24!==R&&32!==R)throw new Error("Only 8, 16, 24, or 32 bits supported: "+R)}function w(R){if(this.data="",this.read=0,"string"==typeof R)this.data=R;else if(y.isArrayBuffer(R)||y.isArrayBufferView(R))if(typeof Buffer<"u"&&R instanceof Buffer)this.data=R.toString("binary");else{var j=new Uint8Array(R);try{this.data=String.fromCharCode.apply(null,j)}catch{for(var U=0;U<j.length;++U)this.putByte(j[U])}}else(R instanceof w||"object"==typeof R&&"string"==typeof R.data&&"number"==typeof R.read)&&(this.data=R.data,this.read=R.read);this._constructedStringLength=0}(function(){if(typeof process<"u"&&process.nextTick&&!process.browser)return y.nextTick=process.nextTick,void(y.setImmediate="function"==typeof setImmediate?setImmediate:y.nextTick);if("function"==typeof setImmediate)return y.setImmediate=function(){return setImmediate.apply(void 0,arguments)},void(y.nextTick=function(J){return setImmediate(J)});if(y.setImmediate=function(J){setTimeout(J,0)},typeof window<"u"&&"function"==typeof window.postMessage){let J=function(q){if(q.source===window&&q.data===R){q.stopPropagation();var S=j.slice();j.length=0,S.forEach(function(re){re()})}};var R="forge.setImmediate",j=[];y.setImmediate=function(q){j.push(q),1===j.length&&window.postMessage(R,"*")},window.addEventListener("message",J,!0)}if(typeof MutationObserver<"u"){var U=Date.now(),$=!0,ie=document.createElement("div");j=[],new MutationObserver(function(){var q=j.slice();j.length=0,q.forEach(function(S){S()})}).observe(ie,{attributes:!0});var se=y.setImmediate;y.setImmediate=function(q){Date.now()-U>15?(U=Date.now(),se(q)):(j.push(q),1===j.length&&ie.setAttribute("a",$=!$))}}y.nextTick=y.setImmediate})(),y.isNodejs=typeof process<"u"&&process.versions&&process.versions.node,y.globalScope=y.isNodejs?global:typeof self>"u"?window:self,y.isArray=Array.isArray||function(R){return"[object Array]"===Object.prototype.toString.call(R)},y.isArrayBuffer=function(R){return typeof ArrayBuffer<"u"&&R instanceof ArrayBuffer},y.isArrayBufferView=function(R){return R&&y.isArrayBuffer(R.buffer)&&void 0!==R.byteLength},y.ByteBuffer=w,y.ByteStringBuffer=w,y.ByteStringBuffer.prototype._optimizeConstructedString=function(R){this._constructedStringLength+=R,this._constructedStringLength>4096&&(this.data.substr(0,1),this._constructedStringLength=0)},y.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},y.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0},y.ByteStringBuffer.prototype.putByte=function(R){return this.putBytes(String.fromCharCode(R))},y.ByteStringBuffer.prototype.fillWithByte=function(R,j){R=String.fromCharCode(R);for(var U=this.data;j>0;)1&j&&(U+=R),(j>>>=1)>0&&(R+=R);return this.data=U,this._optimizeConstructedString(j),this},y.ByteStringBuffer.prototype.putBytes=function(R){return this.data+=R,this._optimizeConstructedString(R.length),this},y.ByteStringBuffer.prototype.putString=function(R){return this.putBytes(y.encodeUtf8(R))},y.ByteStringBuffer.prototype.putInt16=function(R){return this.putBytes(String.fromCharCode(R>>8&255)+String.fromCharCode(255&R))},y.ByteStringBuffer.prototype.putInt24=function(R){return this.putBytes(String.fromCharCode(R>>16&255)+String.fromCharCode(R>>8&255)+String.fromCharCode(255&R))},y.ByteStringBuffer.prototype.putInt32=function(R){return this.putBytes(String.fromCharCode(R>>24&255)+String.fromCharCode(R>>16&255)+String.fromCharCode(R>>8&255)+String.fromCharCode(255&R))},y.ByteStringBuffer.prototype.putInt16Le=function(R){return this.putBytes(String.fromCharCode(255&R)+String.fromCharCode(R>>8&255))},y.ByteStringBuffer.prototype.putInt24Le=function(R){return this.putBytes(String.fromCharCode(255&R)+String.fromCharCode(R>>8&255)+String.fromCharCode(R>>16&255))},y.ByteStringBuffer.prototype.putInt32Le=function(R){return this.putBytes(String.fromCharCode(255&R)+String.fromCharCode(R>>8&255)+String.fromCharCode(R>>16&255)+String.fromCharCode(R>>24&255))},y.ByteStringBuffer.prototype.putInt=function(R,j){p(j);var U="";do{j-=8,U+=String.fromCharCode(R>>j&255)}while(j>0);return this.putBytes(U)},y.ByteStringBuffer.prototype.putSignedInt=function(R,j){return R<0&&(R+=2<<j-1),this.putInt(R,j)},y.ByteStringBuffer.prototype.putBuffer=function(R){return this.putBytes(R.getBytes())},y.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},y.ByteStringBuffer.prototype.getInt16=function(){var R=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,R},y.ByteStringBuffer.prototype.getInt24=function(){var R=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,R},y.ByteStringBuffer.prototype.getInt32=function(){var R=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,R},y.ByteStringBuffer.prototype.getInt16Le=function(){var R=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,R},y.ByteStringBuffer.prototype.getInt24Le=function(){var R=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,R},y.ByteStringBuffer.prototype.getInt32Le=function(){var R=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,R},y.ByteStringBuffer.prototype.getInt=function(R){p(R);var j=0;do{j=(j<<8)+this.data.charCodeAt(this.read++),R-=8}while(R>0);return j},y.ByteStringBuffer.prototype.getSignedInt=function(R){var j=this.getInt(R),U=2<<R-2;return j>=U&&(j-=U<<1),j},y.ByteStringBuffer.prototype.getBytes=function(R){var j;return R?(R=Math.min(this.length(),R),j=this.data.slice(this.read,this.read+R),this.read+=R):0===R?j="":(j=0===this.read?this.data:this.data.slice(this.read),this.clear()),j},y.ByteStringBuffer.prototype.bytes=function(R){return typeof R>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+R)},y.ByteStringBuffer.prototype.at=function(R){return this.data.charCodeAt(this.read+R)},y.ByteStringBuffer.prototype.setAt=function(R,j){return this.data=this.data.substr(0,this.read+R)+String.fromCharCode(j)+this.data.substr(this.read+R+1),this},y.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},y.ByteStringBuffer.prototype.copy=function(){var R=y.createBuffer(this.data);return R.read=this.read,R},y.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},y.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this},y.ByteStringBuffer.prototype.truncate=function(R){var j=Math.max(0,this.length()-R);return this.data=this.data.substr(this.read,j),this.read=0,this},y.ByteStringBuffer.prototype.toHex=function(){for(var R="",j=this.read;j<this.data.length;++j){var U=this.data.charCodeAt(j);U<16&&(R+="0"),R+=U.toString(16)}return R},y.ByteStringBuffer.prototype.toString=function(){return y.decodeUtf8(this.bytes())},y.DataBuffer=function m(R,j){this.read=(j=j||{}).readOffset||0,this.growSize=j.growSize||1024;var U=y.isArrayBuffer(R),$=y.isArrayBufferView(R);if(U||$)return this.data=U?new DataView(R):new DataView(R.buffer,R.byteOffset,R.byteLength),void(this.write="writeOffset"in j?j.writeOffset:this.data.byteLength);this.data=new DataView(new ArrayBuffer(0)),this.write=0,null!=R&&this.putBytes(R),"writeOffset"in j&&(this.write=j.writeOffset)},y.DataBuffer.prototype.length=function(){return this.write-this.read},y.DataBuffer.prototype.isEmpty=function(){return this.length()<=0},y.DataBuffer.prototype.accommodate=function(R,j){if(this.length()>=R)return this;j=Math.max(j||this.growSize,R);var U=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),$=new Uint8Array(this.length()+j);return $.set(U),this.data=new DataView($.buffer),this},y.DataBuffer.prototype.putByte=function(R){return this.accommodate(1),this.data.setUint8(this.write++,R),this},y.DataBuffer.prototype.fillWithByte=function(R,j){this.accommodate(j);for(var U=0;U<j;++U)this.data.setUint8(R);return this},y.DataBuffer.prototype.putBytes=function(R,j){if(y.isArrayBufferView(R)){var $=(U=new Uint8Array(R.buffer,R.byteOffset,R.byteLength)).byteLength-U.byteOffset;return this.accommodate($),new Uint8Array(this.data.buffer,this.write).set(U),this.write+=$,this}if(y.isArrayBuffer(R)){var U=new Uint8Array(R);return this.accommodate(U.byteLength),new Uint8Array(this.data.buffer).set(U,this.write),this.write+=U.byteLength,this}if(R instanceof y.DataBuffer||"object"==typeof R&&"number"==typeof R.read&&"number"==typeof R.write&&y.isArrayBufferView(R.data))return U=new Uint8Array(R.data.byteLength,R.read,R.length()),this.accommodate(U.byteLength),new Uint8Array(R.data.byteLength,this.write).set(U),this.write+=U.byteLength,this;if(R instanceof y.ByteStringBuffer&&(R=R.data,j="binary"),j=j||"binary","string"==typeof R){var se;if("hex"===j)return this.accommodate(Math.ceil(R.length/2)),se=new Uint8Array(this.data.buffer,this.write),this.write+=y.binary.hex.decode(R,se,this.write),this;if("base64"===j)return this.accommodate(3*Math.ceil(R.length/4)),se=new Uint8Array(this.data.buffer,this.write),this.write+=y.binary.base64.decode(R,se,this.write),this;if("utf8"===j&&(R=y.encodeUtf8(R),j="binary"),"binary"===j||"raw"===j)return this.accommodate(R.length),se=new Uint8Array(this.data.buffer,this.write),this.write+=y.binary.raw.decode(se),this;if("utf16"===j)return this.accommodate(2*R.length),se=new Uint16Array(this.data.buffer,this.write),this.write+=y.text.utf16.encode(se),this;throw new Error("Invalid encoding: "+j)}throw Error("Invalid parameter: "+R)},y.DataBuffer.prototype.putBuffer=function(R){return this.putBytes(R),R.clear(),this},y.DataBuffer.prototype.putString=function(R){return this.putBytes(R,"utf16")},y.DataBuffer.prototype.putInt16=function(R){return this.accommodate(2),this.data.setInt16(this.write,R),this.write+=2,this},y.DataBuffer.prototype.putInt24=function(R){return this.accommodate(3),this.data.setInt16(this.write,R>>8&65535),this.data.setInt8(this.write,R>>16&255),this.write+=3,this},y.DataBuffer.prototype.putInt32=function(R){return this.accommodate(4),this.data.setInt32(this.write,R),this.write+=4,this},y.DataBuffer.prototype.putInt16Le=function(R){return this.accommodate(2),this.data.setInt16(this.write,R,!0),this.write+=2,this},y.DataBuffer.prototype.putInt24Le=function(R){return this.accommodate(3),this.data.setInt8(this.write,R>>16&255),this.data.setInt16(this.write,R>>8&65535,!0),this.write+=3,this},y.DataBuffer.prototype.putInt32Le=function(R){return this.accommodate(4),this.data.setInt32(this.write,R,!0),this.write+=4,this},y.DataBuffer.prototype.putInt=function(R,j){p(j),this.accommodate(j/8);do{j-=8,this.data.setInt8(this.write++,R>>j&255)}while(j>0);return this},y.DataBuffer.prototype.putSignedInt=function(R,j){return p(j),this.accommodate(j/8),R<0&&(R+=2<<j-1),this.putInt(R,j)},y.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)},y.DataBuffer.prototype.getInt16=function(){var R=this.data.getInt16(this.read);return this.read+=2,R},y.DataBuffer.prototype.getInt24=function(){var R=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,R},y.DataBuffer.prototype.getInt32=function(){var R=this.data.getInt32(this.read);return this.read+=4,R},y.DataBuffer.prototype.getInt16Le=function(){var R=this.data.getInt16(this.read,!0);return this.read+=2,R},y.DataBuffer.prototype.getInt24Le=function(){var R=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,R},y.DataBuffer.prototype.getInt32Le=function(){var R=this.data.getInt32(this.read,!0);return this.read+=4,R},y.DataBuffer.prototype.getInt=function(R){p(R);var j=0;do{j=(j<<8)+this.data.getInt8(this.read++),R-=8}while(R>0);return j},y.DataBuffer.prototype.getSignedInt=function(R){var j=this.getInt(R),U=2<<R-2;return j>=U&&(j-=U<<1),j},y.DataBuffer.prototype.getBytes=function(R){var j;return R?(R=Math.min(this.length(),R),j=this.data.slice(this.read,this.read+R),this.read+=R):0===R?j="":(j=0===this.read?this.data:this.data.slice(this.read),this.clear()),j},y.DataBuffer.prototype.bytes=function(R){return typeof R>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+R)},y.DataBuffer.prototype.at=function(R){return this.data.getUint8(this.read+R)},y.DataBuffer.prototype.setAt=function(R,j){return this.data.setUint8(R,j),this},y.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)},y.DataBuffer.prototype.copy=function(){return new y.DataBuffer(this)},y.DataBuffer.prototype.compact=function(){if(this.read>0){var R=new Uint8Array(this.data.buffer,this.read),j=new Uint8Array(R.byteLength);j.set(R),this.data=new DataView(j),this.write-=this.read,this.read=0}return this},y.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this},y.DataBuffer.prototype.truncate=function(R){return this.write=Math.max(0,this.length()-R),this.read=Math.min(this.read,this.write),this},y.DataBuffer.prototype.toHex=function(){for(var R="",j=this.read;j<this.data.byteLength;++j){var U=this.data.getUint8(j);U<16&&(R+="0"),R+=U.toString(16)}return R},y.DataBuffer.prototype.toString=function(R){var j=new Uint8Array(this.data,this.read,this.length());if("binary"===(R=R||"utf8")||"raw"===R)return y.binary.raw.encode(j);if("hex"===R)return y.binary.hex.encode(j);if("base64"===R)return y.binary.base64.encode(j);if("utf8"===R)return y.text.utf8.decode(j);if("utf16"===R)return y.text.utf16.decode(j);throw new Error("Invalid encoding: "+R)},y.createBuffer=function(R,j){return j=j||"raw",void 0!==R&&"utf8"===j&&(R=y.encodeUtf8(R)),new y.ByteBuffer(R)},y.fillString=function(R,j){for(var U="";j>0;)1&j&&(U+=R),(j>>>=1)>0&&(R+=R);return U},y.xorBytes=function(R,j,U){for(var $="",ie="",se="",L=0,J=0;U>0;--U,++L)ie=R.charCodeAt(L)^j.charCodeAt(L),J>=10&&($+=se,se="",J=0),se+=String.fromCharCode(ie),++J;return $+se},y.hexToBytes=function(R){var j="",U=0;for(!0&R.length&&(U=1,j+=String.fromCharCode(parseInt(R[0],16)));U<R.length;U+=2)j+=String.fromCharCode(parseInt(R.substr(U,2),16));return j},y.bytesToHex=function(R){return y.createBuffer(R).toHex()},y.int32ToBytes=function(R){return String.fromCharCode(R>>24&255)+String.fromCharCode(R>>16&255)+String.fromCharCode(R>>8&255)+String.fromCharCode(255&R)};var u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",f=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],T="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";y.encode64=function(R,j){for(var ie,se,L,U="",$="",J=0;J<R.length;)ie=R.charCodeAt(J++),se=R.charCodeAt(J++),L=R.charCodeAt(J++),U+=u.charAt(ie>>2),U+=u.charAt((3&ie)<<4|se>>4),isNaN(se)?U+="==":(U+=u.charAt((15&se)<<2|L>>6),U+=isNaN(L)?"=":u.charAt(63&L)),j&&U.length>j&&($+=U.substr(0,j)+"\r\n",U=U.substr(j));return $+U},y.decode64=function(R){R=R.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var U,$,ie,se,j="",L=0;L<R.length;)U=f[R.charCodeAt(L++)-43],$=f[R.charCodeAt(L++)-43],ie=f[R.charCodeAt(L++)-43],se=f[R.charCodeAt(L++)-43],j+=String.fromCharCode(U<<2|$>>4),64!==ie&&(j+=String.fromCharCode((15&$)<<4|ie>>2),64!==se&&(j+=String.fromCharCode((3&ie)<<6|se)));return j},y.encodeUtf8=function(R){return unescape(encodeURIComponent(R))},y.decodeUtf8=function(R){return decodeURIComponent(escape(R))},y.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:e.encode,decode:e.decode}},y.binary.raw.encode=function(R){return String.fromCharCode.apply(null,R)},y.binary.raw.decode=function(R,j,U){var $=j;$||($=new Uint8Array(R.length));for(var ie=U=U||0,se=0;se<R.length;++se)$[ie++]=R.charCodeAt(se);return j?ie-U:$},y.binary.hex.encode=y.bytesToHex,y.binary.hex.decode=function(R,j,U){var $=j;$||($=new Uint8Array(Math.ceil(R.length/2)));var ie=0,se=U=U||0;for(1&R.length&&(ie=1,$[se++]=parseInt(R[0],16));ie<R.length;ie+=2)$[se++]=parseInt(R.substr(ie,2),16);return j?se-U:$},y.binary.base64.encode=function(R,j){for(var ie,se,L,U="",$="",J=0;J<R.byteLength;)ie=R[J++],se=R[J++],L=R[J++],U+=u.charAt(ie>>2),U+=u.charAt((3&ie)<<4|se>>4),isNaN(se)?U+="==":(U+=u.charAt((15&se)<<2|L>>6),U+=isNaN(L)?"=":u.charAt(63&L)),j&&U.length>j&&($+=U.substr(0,j)+"\r\n",U=U.substr(j));return $+U},y.binary.base64.decode=function(R,j,U){var $=j;$||($=new Uint8Array(3*Math.ceil(R.length/4))),R=R.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var ie,se,L,J,q=0,S=U=U||0;q<R.length;)ie=f[R.charCodeAt(q++)-43],se=f[R.charCodeAt(q++)-43],L=f[R.charCodeAt(q++)-43],J=f[R.charCodeAt(q++)-43],$[S++]=ie<<2|se>>4,64!==L&&($[S++]=(15&se)<<4|L>>2,64!==J&&($[S++]=(3&L)<<6|J));return j?S-U:$.subarray(0,S)},y.binary.base58.encode=function(R,j){return y.binary.baseN.encode(R,T,j)},y.binary.base58.decode=function(R,j){return y.binary.baseN.decode(R,T,j)},y.text={utf8:{},utf16:{}},y.text.utf8.encode=function(R,j,U){R=y.encodeUtf8(R);var $=j;$||($=new Uint8Array(R.length));for(var ie=U=U||0,se=0;se<R.length;++se)$[ie++]=R.charCodeAt(se);return j?ie-U:$},y.text.utf8.decode=function(R){return y.decodeUtf8(String.fromCharCode.apply(null,R))},y.text.utf16.encode=function(R,j,U){var $=j;$||($=new Uint8Array(2*R.length));for(var ie=new Uint16Array($.buffer),se=U=U||0,L=U,J=0;J<R.length;++J)ie[L++]=R.charCodeAt(J),se+=2;return j?se-U:$},y.text.utf16.decode=function(R){return String.fromCharCode.apply(null,new Uint16Array(R.buffer))},y.deflate=function(R,j,U){if(j=y.decode64(R.deflate(y.encode64(j)).rval),U){var $=2;32&j.charCodeAt(1)&&($=6),j=j.substring($,j.length-4)}return j},y.inflate=function(R,j,U){var $=R.inflate(y.encode64(j)).rval;return null===$?null:y.decode64($)};var O=function(R,j,U){if(!R)throw new Error("WebStorage not available.");var $;if(null===U?$=R.removeItem(j):(U=y.encode64(JSON.stringify(U)),$=R.setItem(j,U)),typeof $<"u"&&!0!==$.rval){var ie=new Error($.error.message);throw ie.id=$.error.id,ie.name=$.error.name,ie}},F=function(R,j){if(!R)throw new Error("WebStorage not available.");var U=R.getItem(j);if(R.init)if(null===U.rval){if(U.error){var $=new Error(U.error.message);throw $.id=U.error.id,$.name=U.error.name,$}U=null}else U=U.rval;return null!==U&&(U=JSON.parse(y.decode64(U))),U},b=function(R,j,U,$){var ie=F(R,j);null===ie&&(ie={}),ie[U]=$,O(R,j,ie)},M=function(R,j,U){var $=F(R,j);return null!==$&&($=U in $?$[U]:null),$},k=function(R,j,U){var $=F(R,j);if(null!==$&&U in $){delete $[U];var ie=!0;for(var se in $){ie=!1;break}ie&&($=null),O(R,j,$)}},N=function(R,j){O(R,j,null)},G=function(R,j,U){var $=null;typeof U>"u"&&(U=["web","flash"]);var ie,se=!1,L=null;for(var J in U){ie=U[J];try{if("flash"===ie||"both"===ie){if(null===j[0])throw new Error("Flash local storage not available.");$=R.apply(this,j),se="flash"===ie}("web"===ie||"both"===ie)&&(j[0]=localStorage,$=R.apply(this,j),se=!0)}catch(q){L=q}if(se)break}if(!se)throw L;return $};y.setItem=function(R,j,U,$,ie){G(b,arguments,ie)},y.getItem=function(R,j,U,$){return G(M,arguments,$)},y.removeItem=function(R,j,U,$){G(k,arguments,$)},y.clearItems=function(R,j,U){G(N,arguments,U)},y.isEmpty=function(R){for(var j in R)if(R.hasOwnProperty(j))return!1;return!0},y.format=function(R){for(var U,$,j=/%./g,ie=0,se=[],L=0;U=j.exec(R);){($=R.substring(L,j.lastIndex-2)).length>0&&se.push($),L=j.lastIndex;var J=U[0][1];switch(J){case"s":case"o":se.push(ie<arguments.length?arguments[1+ie++]:"<?>");break;case"%":se.push("%");break;default:se.push("<%"+J+"?>")}}return se.push(R.substring(L)),se.join("")},y.formatNumber=function(R,j,U,$){var ie=R,se=isNaN(j=Math.abs(j))?2:j,L=void 0===U?",":U,J=void 0===$?".":$,q=ie<0?"-":"",S=parseInt(ie=Math.abs(+ie||0).toFixed(se),10)+"",re=S.length>3?S.length%3:0;return q+(re?S.substr(0,re)+J:"")+S.substr(re).replace(/(\d{3})(?=\d)/g,"$1"+J)+(se?L+Math.abs(ie-S).toFixed(se).slice(2):"")},y.formatSize=function(R){return R>=1073741824?y.formatNumber(R/1073741824,2,".","")+" GiB":R>=1048576?y.formatNumber(R/1048576,2,".","")+" MiB":R>=1024?y.formatNumber(R/1024,0)+" KiB":y.formatNumber(R,0)+" bytes"},y.bytesFromIP=function(R){return-1!==R.indexOf(".")?y.bytesFromIPv4(R):-1!==R.indexOf(":")?y.bytesFromIPv6(R):null},y.bytesFromIPv4=function(R){if(4!==(R=R.split(".")).length)return null;for(var j=y.createBuffer(),U=0;U<R.length;++U){var $=parseInt(R[U],10);if(isNaN($))return null;j.putByte($)}return j.getBytes()},y.bytesFromIPv6=function(R){for(var j=0,U=2*(8-(R=R.split(":").filter(function(L){return 0===L.length&&++j,!0})).length+j),$=y.createBuffer(),ie=0;ie<8;++ie)if(R[ie]&&0!==R[ie].length){var se=y.hexToBytes(R[ie]);se.length<2&&$.putByte(0),$.putBytes(se)}else $.fillWithByte(0,U),U=0;return $.getBytes()},y.bytesToIP=function(R){return 4===R.length?y.bytesToIPv4(R):16===R.length?y.bytesToIPv6(R):null},y.bytesToIPv4=function(R){if(4!==R.length)return null;for(var j=[],U=0;U<R.length;++U)j.push(R.charCodeAt(U));return j.join(".")},y.bytesToIPv6=function(R){if(16!==R.length)return null;for(var j=[],U=[],$=0,ie=0;ie<R.length;ie+=2){for(var se=y.bytesToHex(R[ie]+R[ie+1]);"0"===se[0]&&"0"!==se;)se=se.substr(1);if("0"===se){var L=U[U.length-1],J=j.length;L&&J===L.end+1?(L.end=J,L.end-L.start>U[$].end-U[$].start&&($=U.length-1)):U.push({start:J,end:J})}j.push(se)}if(U.length>0){var q=U[$];q.end-q.start>0&&(j.splice(q.start,q.end-q.start+1,""),0===q.start&&j.unshift(""),7===q.end&&j.push(""))}return j.join(":")},y.estimateCores=function(R,j){if("function"==typeof R&&(j=R,R={}),R=R||{},"cores"in y&&!R.update)return j(null,y.cores);if(typeof navigator<"u"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return y.cores=navigator.hardwareConcurrency,j(null,y.cores);if(typeof Worker>"u")return y.cores=1,j(null,y.cores);if(typeof Blob>"u")return y.cores=2,j(null,y.cores);var U=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(L){for(var J=Date.now(),q=J+4;Date.now()<q;);self.postMessage({st:J,et:q})})}.toString(),")()"],{type:"application/javascript"}));!function $(L,J,q){if(0===J){var S=Math.floor(L.reduce(function(re,K){return re+K},0)/L.length);return y.cores=Math.max(1,S),URL.revokeObjectURL(U),j(null,y.cores)}!function ie(L,J){for(var q=[],S=[],re=0;re<L;++re){var K=new Worker(U);K.addEventListener("message",function(me){if(S.push(me.data),S.length===L){for(var Ne=0;Ne<L;++Ne)q[Ne].terminate();J(null,S)}}),q.push(K)}for(re=0;re<L;++re)q[re].postMessage(re)}(q,function(re,K){L.push(function se(L,J){for(var q=[],S=0;S<L;++S)for(var re=J[S],K=q[S]=[],me=0;me<L;++me)if(S!==me){var Ne=J[me];(re.st>Ne.st&&re.st<Ne.et||Ne.st>re.st&&Ne.st<re.et)&&K.push(me)}return q.reduce(function(De,xe){return Math.max(De,xe.length)},0)}(q,K)),$(L,J-1,q)})}([],5,16)}},9436:(nt,fe,h)=>{var n=h(6589);h(57),h(7097),h(3674),h(5437),h(8040),h(1817),h(9368),h(8588),h(2880),h(812);var e=n.asn1,y=nt.exports=n.pki=n.pki||{},p=y.oids,w={};w.CN=p.commonName,w.commonName="CN",w.C=p.countryName,w.countryName="C",w.L=p.localityName,w.localityName="L",w.ST=p.stateOrProvinceName,w.stateOrProvinceName="ST",w.O=p.organizationName,w.organizationName="O",w.OU=p.organizationalUnitName,w.organizationalUnitName="OU",w.E=p.emailAddress,w.emailAddress="E";var C=n.pki.rsa.publicKeyValidator,m={name:"Certificate",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:e.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:e.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:e.Class.UNIVERSAL,type:e.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:e.Class.UNIVERSAL,type:e.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:e.Class.UNIVERSAL,type:e.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:e.Class.UNIVERSAL,type:e.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},C,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:e.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:e.Class.UNIVERSAL,type:e.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:e.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:e.Class.UNIVERSAL,type:e.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:e.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:e.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:e.Class.UNIVERSAL,type:e.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},u={name:"rsapss",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:e.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:e.Class.UNIVERSAL,type:e.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:e.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:e.Class.UNIVERSAL,type:e.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:e.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:e.Class.UNIVERSAL,type:e.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:e.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:e.Class.UNIVERSAL,type:e.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},T={name:"CertificationRequest",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[{name:"CertificationRequestInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},C,{name:"CertificationRequestInfo.attributes",tagClass:e.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:e.Class.UNIVERSAL,type:e.Type.SET,constructed:!0}]}]}]},{name:"CertificationRequest.signatureAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:e.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:e.Class.UNIVERSAL,type:e.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};function O(L,J){"string"==typeof J&&(J={shortName:J});for(var S,q=null,re=0;null===q&&re<L.attributes.length;++re)S=L.attributes[re],(J.type&&J.type===S.type||J.name&&J.name===S.name||J.shortName&&J.shortName===S.shortName)&&(q=S);return q}y.RDNAttributesAsArray=function(L,J){for(var S,re,K,q=[],me=0;me<L.value.length;++me){S=L.value[me];for(var Ne=0;Ne<S.value.length;++Ne)(K={}).type=e.derToOid((re=S.value[Ne]).value[0].value),K.value=re.value[1].value,K.valueTagClass=re.value[1].type,K.type in p&&(K.name=p[K.type],K.name in w&&(K.shortName=w[K.name])),J&&(J.update(K.type),J.update(K.value)),q.push(K)}return q},y.CRIAttributesAsArray=function(L){for(var J=[],q=0;q<L.length;++q)for(var S=L[q],re=e.derToOid(S.value[0].value),K=S.value[1].value,me=0;me<K.length;++me){var Ne={};if(Ne.type=re,Ne.value=K[me].value,Ne.valueTagClass=K[me].type,Ne.type in p&&(Ne.name=p[Ne.type],Ne.name in w&&(Ne.shortName=w[Ne.name])),Ne.type===p.extensionRequest){Ne.extensions=[];for(var De=0;De<Ne.value.length;++De)Ne.extensions.push(y.certificateExtensionFromAsn1(Ne.value[De]))}J.push(Ne)}return J};var F=function(L,J,q){var S={};if(L!==p["RSASSA-PSS"])return S;q&&(S={hash:{algorithmOid:p.sha1},mgf:{algorithmOid:p.mgf1,hash:{algorithmOid:p.sha1}},saltLength:20});var re={},K=[];if(!e.validate(J,u,re,K)){var me=new Error("Cannot read RSASSA-PSS parameter block.");throw me.errors=K,me}return void 0!==re.hashOid&&(S.hash=S.hash||{},S.hash.algorithmOid=e.derToOid(re.hashOid)),void 0!==re.maskGenOid&&(S.mgf=S.mgf||{},S.mgf.algorithmOid=e.derToOid(re.maskGenOid),S.mgf.hash=S.mgf.hash||{},S.mgf.hash.algorithmOid=e.derToOid(re.maskGenHashOid)),void 0!==re.saltLength&&(S.saltLength=re.saltLength.charCodeAt(0)),S},b=function(L){switch(p[L.signatureOid]){case"sha1WithRSAEncryption":case"sha1WithRSASignature":return n.md.sha1.create();case"md5WithRSAEncryption":return n.md.md5.create();case"sha256WithRSAEncryption":case"RSASSA-PSS":return n.md.sha256.create();case"sha384WithRSAEncryption":return n.md.sha384.create();case"sha512WithRSAEncryption":return n.md.sha512.create();default:var J=new Error("Could not compute "+L.type+" digest. Unknown signature OID.");throw J.signatureOid=L.signatureOid,J}},M=function(L){var q,J=L.certificate;switch(J.signatureOid){case p.sha1WithRSAEncryption:case p.sha1WithRSASignature:break;case p["RSASSA-PSS"]:var S,re,K;if(void 0===(S=p[J.signatureParameters.mgf.hash.algorithmOid])||void 0===n.md[S])throw(K=new Error("Unsupported MGF hash function.")).oid=J.signatureParameters.mgf.hash.algorithmOid,K.name=S,K;if(void 0===(re=p[J.signatureParameters.mgf.algorithmOid])||void 0===n.mgf[re])throw(K=new Error("Unsupported MGF function.")).oid=J.signatureParameters.mgf.algorithmOid,K.name=re,K;if(re=n.mgf[re].create(n.md[S].create()),void 0===(S=p[J.signatureParameters.hash.algorithmOid])||void 0===n.md[S])throw(K=new Error("Unsupported RSASSA-PSS hash function.")).oid=J.signatureParameters.hash.algorithmOid,K.name=S,K;q=n.pss.create(n.md[S].create(),re,J.signatureParameters.saltLength)}return J.publicKey.verify(L.md.digest().getBytes(),L.signature,q)};function k(L){for(var q,S,J=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]),re=L.attributes,K=0;K<re.length;++K){var me=(q=re[K]).value,Ne=e.Type.PRINTABLESTRING;"valueTagClass"in q&&(Ne=q.valueTagClass)===e.Type.UTF8&&(me=n.util.encodeUtf8(me)),S=e.create(e.Class.UNIVERSAL,e.Type.SET,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(q.type).getBytes()),e.create(e.Class.UNIVERSAL,Ne,!1,me)])]),J.value.push(S)}return J}function G(L){for(var J,q=0;q<L.length;++q){if(typeof(J=L[q]).name>"u"&&(J.type&&J.type in y.oids?J.name=y.oids[J.type]:J.shortName&&J.shortName in w&&(J.name=y.oids[w[J.shortName]])),typeof J.type>"u"){if(!J.name||!(J.name in y.oids))throw(S=new Error("Attribute type not specified.")).attribute=J,S;J.type=y.oids[J.name]}if(typeof J.shortName>"u"&&J.name&&J.name in w&&(J.shortName=w[J.name]),J.type===p.extensionRequest&&(J.valueConstructed=!0,J.valueTagClass=e.Type.SEQUENCE,!J.value&&J.extensions)){J.value=[];for(var re=0;re<J.extensions.length;++re)J.value.push(y.certificateExtensionToAsn1(R(J.extensions[re])))}var S;if(typeof J.value>"u")throw(S=new Error("Attribute value not specified.")).attribute=J,S}}function R(L,J){if(J=J||{},typeof L.name>"u"&&L.id&&L.id in y.oids&&(L.name=y.oids[L.id]),typeof L.id>"u"){if(!L.name||!(L.name in y.oids))throw(q=new Error("Extension ID not specified.")).extension=L,q;L.id=y.oids[L.name]}if(typeof L.value<"u")return L;if("keyUsage"===L.name){var S=0,re=0,K=0;L.digitalSignature&&(re|=128,S=7),L.nonRepudiation&&(re|=64,S=6),L.keyEncipherment&&(re|=32,S=5),L.dataEncipherment&&(re|=16,S=4),L.keyAgreement&&(re|=8,S=3),L.keyCertSign&&(re|=4,S=2),L.cRLSign&&(re|=2,S=1),L.encipherOnly&&(re|=1,S=0),L.decipherOnly&&(K|=128,S=7);var me=String.fromCharCode(S);0!==K?me+=String.fromCharCode(re)+String.fromCharCode(K):0!==re&&(me+=String.fromCharCode(re)),L.value=e.create(e.Class.UNIVERSAL,e.Type.BITSTRING,!1,me)}else if("basicConstraints"===L.name)L.value=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]),L.cA&&L.value.value.push(e.create(e.Class.UNIVERSAL,e.Type.BOOLEAN,!1,"\xff")),"pathLenConstraint"in L&&L.value.value.push(e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(L.pathLenConstraint).getBytes()));else if("extKeyUsage"===L.name){L.value=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]);var Ne=L.value.value;for(var De in L)!0===L[De]&&(De in p?Ne.push(e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(p[De]).getBytes())):-1!==De.indexOf(".")&&Ne.push(e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(De).getBytes())))}else if("nsCertType"===L.name)S=0,re=0,L.client&&(re|=128,S=7),L.server&&(re|=64,S=6),L.email&&(re|=32,S=5),L.objsign&&(re|=16,S=4),L.reserved&&(re|=8,S=3),L.sslCA&&(re|=4,S=2),L.emailCA&&(re|=2,S=1),L.objCA&&(re|=1,S=0),me=String.fromCharCode(S),0!==re&&(me+=String.fromCharCode(re)),L.value=e.create(e.Class.UNIVERSAL,e.Type.BITSTRING,!1,me);else if("subjectAltName"===L.name||"issuerAltName"===L.name){L.value=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]);for(var Qe=0;Qe<L.altNames.length;++Qe){if(me=(xe=L.altNames[Qe]).value,7===xe.type&&xe.ip){if(null===(me=n.util.bytesFromIP(xe.ip)))throw(q=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=L,q}else 8===xe.type&&(me=e.oidToDer(xe.oid?e.oidToDer(xe.oid):me));L.value.value.push(e.create(e.Class.CONTEXT_SPECIFIC,xe.type,!1,me))}}else if("nsComment"===L.name&&J.cert){if(!/^[\x00-\x7F]*$/.test(L.comment)||L.comment.length<1||L.comment.length>128)throw new Error('Invalid "nsComment" content.');L.value=e.create(e.Class.UNIVERSAL,e.Type.IA5STRING,!1,L.comment)}else if("subjectKeyIdentifier"===L.name&&J.cert){var Se=J.cert.generateSubjectKeyIdentifier();L.subjectKeyIdentifier=Se.toHex(),L.value=e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,Se.getBytes())}else if("authorityKeyIdentifier"===L.name&&J.cert){if(L.value=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]),Ne=L.value.value,L.keyIdentifier){var be=!0===L.keyIdentifier?J.cert.generateSubjectKeyIdentifier().getBytes():L.keyIdentifier;Ne.push(e.create(e.Class.CONTEXT_SPECIFIC,0,!1,be))}if(L.authorityCertIssuer){var le=[e.create(e.Class.CONTEXT_SPECIFIC,4,!0,[k(!0===L.authorityCertIssuer?J.cert.issuer:L.authorityCertIssuer)])];Ne.push(e.create(e.Class.CONTEXT_SPECIFIC,1,!0,le))}if(L.serialNumber){var Fe=n.util.hexToBytes(!0===L.serialNumber?J.cert.serialNumber:L.serialNumber);Ne.push(e.create(e.Class.CONTEXT_SPECIFIC,2,!1,Fe))}}else if("cRLDistributionPoints"===L.name){L.value=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]),Ne=L.value.value;var xe,Te=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]),st=e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[]);for(Qe=0;Qe<L.altNames.length;++Qe){if(me=(xe=L.altNames[Qe]).value,7===xe.type&&xe.ip){if(null===(me=n.util.bytesFromIP(xe.ip)))throw(q=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=L,q}else 8===xe.type&&(me=e.oidToDer(xe.oid?e.oidToDer(xe.oid):me));st.value.push(e.create(e.Class.CONTEXT_SPECIFIC,xe.type,!1,me))}Te.value.push(e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[st])),Ne.push(Te)}var q;if(typeof L.value>"u")throw(q=new Error("Extension value not specified.")).extension=L,q;return L}function j(L,J){if(L===p["RSASSA-PSS"]){var q=[];return void 0!==J.hash.algorithmOid&&q.push(e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(J.hash.algorithmOid).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")])])),void 0!==J.mgf.algorithmOid&&q.push(e.create(e.Class.CONTEXT_SPECIFIC,1,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(J.mgf.algorithmOid).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(J.mgf.hash.algorithmOid).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")])])])),void 0!==J.saltLength&&q.push(e.create(e.Class.CONTEXT_SPECIFIC,2,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(J.saltLength).getBytes())])),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,q)}return e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")}function U(L){var J=e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[]);if(0===L.attributes.length)return J;for(var q=L.attributes,S=0;S<q.length;++S){var re=q[S],K=re.value,me=e.Type.UTF8;"valueTagClass"in re&&(me=re.valueTagClass),me===e.Type.UTF8&&(K=n.util.encodeUtf8(K));var Ne=!1;"valueConstructed"in re&&(Ne=re.valueConstructed);var De=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(re.type).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SET,!0,[e.create(e.Class.UNIVERSAL,me,Ne,K)])]);J.value.push(De)}return J}y.certificateFromPem=function(L,J,q){var S=n.pem.decode(L)[0];if("CERTIFICATE"!==S.type&&"X509 CERTIFICATE"!==S.type&&"TRUSTED CERTIFICATE"!==S.type){var re=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw re.headerType=S.type,re}if(S.procType&&"ENCRYPTED"===S.procType.type)throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var K=e.fromDer(S.body,q);return y.certificateFromAsn1(K,J)},y.certificateToPem=function(L,J){var q={type:"CERTIFICATE",body:e.toDer(y.certificateToAsn1(L)).getBytes()};return n.pem.encode(q,{maxline:J})},y.publicKeyFromPem=function(L){var J=n.pem.decode(L)[0];if("PUBLIC KEY"!==J.type&&"RSA PUBLIC KEY"!==J.type){var q=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw q.headerType=J.type,q}if(J.procType&&"ENCRYPTED"===J.procType.type)throw new Error("Could not convert public key from PEM; PEM is encrypted.");var S=e.fromDer(J.body);return y.publicKeyFromAsn1(S)},y.publicKeyToPem=function(L,J){var q={type:"PUBLIC KEY",body:e.toDer(y.publicKeyToAsn1(L)).getBytes()};return n.pem.encode(q,{maxline:J})},y.publicKeyToRSAPublicKeyPem=function(L,J){var q={type:"RSA PUBLIC KEY",body:e.toDer(y.publicKeyToRSAPublicKey(L)).getBytes()};return n.pem.encode(q,{maxline:J})},y.getPublicKeyFingerprint=function(L,J){var re,q=(J=J||{}).md||n.md.sha1.create();switch(J.type||"RSAPublicKey"){case"RSAPublicKey":re=e.toDer(y.publicKeyToRSAPublicKey(L)).getBytes();break;case"SubjectPublicKeyInfo":re=e.toDer(y.publicKeyToAsn1(L)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+J.type+'".')}q.start(),q.update(re);var K=q.digest();if("hex"===J.encoding){var me=K.toHex();return J.delimiter?me.match(/.{2}/g).join(J.delimiter):me}if("binary"===J.encoding)return K.getBytes();if(J.encoding)throw new Error('Unknown encoding "'+J.encoding+'".');return K},y.certificationRequestFromPem=function(L,J,q){var S=n.pem.decode(L)[0];if("CERTIFICATE REQUEST"!==S.type){var re=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw re.headerType=S.type,re}if(S.procType&&"ENCRYPTED"===S.procType.type)throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var K=e.fromDer(S.body,q);return y.certificationRequestFromAsn1(K,J)},y.certificationRequestToPem=function(L,J){var q={type:"CERTIFICATE REQUEST",body:e.toDer(y.certificationRequestToAsn1(L)).getBytes()};return n.pem.encode(q,{maxline:J})},y.createCertificate=function(){var L={version:2,serialNumber:"00",signatureOid:null,signature:null,siginfo:{}};return L.siginfo.algorithmOid=null,L.validity={},L.validity.notBefore=new Date,L.validity.notAfter=new Date,L.issuer={},L.issuer.getField=function(J){return O(L.issuer,J)},L.issuer.addField=function(J){G([J]),L.issuer.attributes.push(J)},L.issuer.attributes=[],L.issuer.hash=null,L.subject={},L.subject.getField=function(J){return O(L.subject,J)},L.subject.addField=function(J){G([J]),L.subject.attributes.push(J)},L.subject.attributes=[],L.subject.hash=null,L.extensions=[],L.publicKey=null,L.md=null,L.setSubject=function(J,q){G(J),L.subject.attributes=J,delete L.subject.uniqueId,q&&(L.subject.uniqueId=q),L.subject.hash=null},L.setIssuer=function(J,q){G(J),L.issuer.attributes=J,delete L.issuer.uniqueId,q&&(L.issuer.uniqueId=q),L.issuer.hash=null},L.setExtensions=function(J){for(var q=0;q<J.length;++q)R(J[q],{cert:L});L.extensions=J},L.getExtension=function(J){"string"==typeof J&&(J={name:J});for(var S,q=null,re=0;null===q&&re<L.extensions.length;++re)S=L.extensions[re],(J.id&&S.id===J.id||J.name&&S.name===J.name)&&(q=S);return q},L.sign=function(J,q){L.md=q||n.md.sha1.create();var S=p[L.md.algorithm+"WithRSAEncryption"];if(!S){var re=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw re.algorithm=L.md.algorithm,re}L.signatureOid=L.siginfo.algorithmOid=S,L.tbsCertificate=y.getTBSCertificate(L);var K=e.toDer(L.tbsCertificate);L.md.update(K.getBytes()),L.signature=J.sign(L.md)},L.verify=function(J){var q=!1;if(!L.issued(J)){var S=J.issuer,re=L.subject,K=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");throw K.expectedIssuer=re.attributes,K.actualIssuer=S.attributes,K}var me=J.md;if(null===me){me=b({signatureOid:J.signatureOid,type:"certificate"});var Ne=J.tbsCertificate||y.getTBSCertificate(J),De=e.toDer(Ne);me.update(De.getBytes())}return null!==me&&(q=M({certificate:L,md:me,signature:J.signature})),q},L.isIssuer=function(J){var q=!1,S=L.issuer,re=J.subject;if(S.hash&&re.hash)q=S.hash===re.hash;else if(S.attributes.length===re.attributes.length){q=!0;for(var K,me,Ne=0;q&&Ne<S.attributes.length;++Ne)((K=S.attributes[Ne]).type!==(me=re.attributes[Ne]).type||K.value!==me.value)&&(q=!1)}return q},L.issued=function(J){return J.isIssuer(L)},L.generateSubjectKeyIdentifier=function(){return y.getPublicKeyFingerprint(L.publicKey,{type:"RSAPublicKey"})},L.verifySubjectKeyIdentifier=function(){for(var J=p.subjectKeyIdentifier,q=0;q<L.extensions.length;++q){var S=L.extensions[q];if(S.id===J){var re=L.generateSubjectKeyIdentifier().getBytes();return n.util.hexToBytes(S.subjectKeyIdentifier)===re}}return!1},L},y.certificateFromAsn1=function(L,J){var q={},S=[];if(!e.validate(L,m,q,S)){var re=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");throw re.errors=S,re}if(e.derToOid(q.publicKeyOid)!==y.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var me=y.createCertificate();me.version=q.certVersion?q.certVersion.charCodeAt(0):0;var Ne=n.util.createBuffer(q.certSerialNumber);me.serialNumber=Ne.toHex(),me.signatureOid=n.asn1.derToOid(q.certSignatureOid),me.signatureParameters=F(me.signatureOid,q.certSignatureParams,!0),me.siginfo.algorithmOid=n.asn1.derToOid(q.certinfoSignatureOid),me.siginfo.parameters=F(me.siginfo.algorithmOid,q.certinfoSignatureParams,!1),me.signature=q.certSignature;var De=[];if(void 0!==q.certValidity1UTCTime&&De.push(e.utcTimeToDate(q.certValidity1UTCTime)),void 0!==q.certValidity2GeneralizedTime&&De.push(e.generalizedTimeToDate(q.certValidity2GeneralizedTime)),void 0!==q.certValidity3UTCTime&&De.push(e.utcTimeToDate(q.certValidity3UTCTime)),void 0!==q.certValidity4GeneralizedTime&&De.push(e.generalizedTimeToDate(q.certValidity4GeneralizedTime)),De.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(De.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(me.validity.notBefore=De[0],me.validity.notAfter=De[1],me.tbsCertificate=q.tbsCertificate,J){me.md=b({signatureOid:me.signatureOid,type:"certificate"});var xe=e.toDer(me.tbsCertificate);me.md.update(xe.getBytes())}var Qe=n.md.sha1.create(),Se=e.toDer(q.certIssuer);Qe.update(Se.getBytes()),me.issuer.getField=function(Fe){return O(me.issuer,Fe)},me.issuer.addField=function(Fe){G([Fe]),me.issuer.attributes.push(Fe)},me.issuer.attributes=y.RDNAttributesAsArray(q.certIssuer),q.certIssuerUniqueId&&(me.issuer.uniqueId=q.certIssuerUniqueId),me.issuer.hash=Qe.digest().toHex();var be=n.md.sha1.create(),le=e.toDer(q.certSubject);return be.update(le.getBytes()),me.subject.getField=function(Fe){return O(me.subject,Fe)},me.subject.addField=function(Fe){G([Fe]),me.subject.attributes.push(Fe)},me.subject.attributes=y.RDNAttributesAsArray(q.certSubject),q.certSubjectUniqueId&&(me.subject.uniqueId=q.certSubjectUniqueId),me.subject.hash=be.digest().toHex(),me.extensions=q.certExtensions?y.certificateExtensionsFromAsn1(q.certExtensions):[],me.publicKey=y.publicKeyFromAsn1(q.subjectPublicKeyInfo),me},y.certificateExtensionsFromAsn1=function(L){for(var J=[],q=0;q<L.value.length;++q)for(var S=L.value[q],re=0;re<S.value.length;++re)J.push(y.certificateExtensionFromAsn1(S.value[re]));return J},y.certificateExtensionFromAsn1=function(L){var J={};if(J.id=e.derToOid(L.value[0].value),J.critical=!1,L.value[1].type===e.Type.BOOLEAN?(J.critical=0!==L.value[1].value.charCodeAt(0),J.value=L.value[2].value):J.value=L.value[1].value,J.id in p)if(J.name=p[J.id],"keyUsage"===J.name){var S=0,re=0;(q=e.fromDer(J.value)).value.length>1&&(S=q.value.charCodeAt(1),re=q.value.length>2?q.value.charCodeAt(2):0),J.digitalSignature=!(128&~S),J.nonRepudiation=!(64&~S),J.keyEncipherment=!(32&~S),J.dataEncipherment=!(16&~S),J.keyAgreement=!(8&~S),J.keyCertSign=!(4&~S),J.cRLSign=!(2&~S),J.encipherOnly=!(1&~S),J.decipherOnly=!(128&~re)}else if("basicConstraints"===J.name){var q=e.fromDer(J.value);J.cA=q.value.length>0&&q.value[0].type===e.Type.BOOLEAN&&0!==q.value[0].value.charCodeAt(0);var K=null;q.value.length>0&&q.value[0].type===e.Type.INTEGER?K=q.value[0].value:q.value.length>1&&(K=q.value[1].value),null!==K&&(J.pathLenConstraint=e.derToInteger(K))}else if("extKeyUsage"===J.name){q=e.fromDer(J.value);for(var me=0;me<q.value.length;++me){var Ne=e.derToOid(q.value[me].value);Ne in p?J[p[Ne]]=!0:J[Ne]=!0}}else if("nsCertType"===J.name)S=0,(q=e.fromDer(J.value)).value.length>1&&(S=q.value.charCodeAt(1)),J.client=!(128&~S),J.server=!(64&~S),J.email=!(32&~S),J.objsign=!(16&~S),J.reserved=!(8&~S),J.sslCA=!(4&~S),J.emailCA=!(2&~S),J.objCA=!(1&~S);else if("subjectAltName"===J.name||"issuerAltName"===J.name){J.altNames=[],q=e.fromDer(J.value);for(var De,xe=0;xe<q.value.length;++xe){var Qe={type:(De=q.value[xe]).type,value:De.value};switch(J.altNames.push(Qe),De.type){case 1:case 2:case 6:break;case 7:Qe.ip=n.util.bytesToIP(De.value);break;case 8:Qe.oid=e.derToOid(De.value)}}}else"subjectKeyIdentifier"===J.name&&(q=e.fromDer(J.value),J.subjectKeyIdentifier=n.util.bytesToHex(q.value));return J},y.certificationRequestFromAsn1=function(L,J){var q={},S=[];if(!e.validate(L,T,q,S)){var re=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");throw re.errors=S,re}if(e.derToOid(q.publicKeyOid)!==y.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var me=y.createCertificationRequest();if(me.version=q.csrVersion?q.csrVersion.charCodeAt(0):0,me.signatureOid=n.asn1.derToOid(q.csrSignatureOid),me.signatureParameters=F(me.signatureOid,q.csrSignatureParams,!0),me.siginfo.algorithmOid=n.asn1.derToOid(q.csrSignatureOid),me.siginfo.parameters=F(me.siginfo.algorithmOid,q.csrSignatureParams,!1),me.signature=q.csrSignature,me.certificationRequestInfo=q.certificationRequestInfo,J){me.md=b({signatureOid:me.signatureOid,type:"certification request"});var Ne=e.toDer(me.certificationRequestInfo);me.md.update(Ne.getBytes())}var De=n.md.sha1.create();return me.subject.getField=function(xe){return O(me.subject,xe)},me.subject.addField=function(xe){G([xe]),me.subject.attributes.push(xe)},me.subject.attributes=y.RDNAttributesAsArray(q.certificationRequestInfoSubject,De),me.subject.hash=De.digest().toHex(),me.publicKey=y.publicKeyFromAsn1(q.subjectPublicKeyInfo),me.getAttribute=function(xe){return O(me,xe)},me.addAttribute=function(xe){G([xe]),me.attributes.push(xe)},me.attributes=y.CRIAttributesAsArray(q.certificationRequestInfoAttributes||[]),me},y.createCertificationRequest=function(){var L={version:0,signatureOid:null,signature:null,siginfo:{}};return L.siginfo.algorithmOid=null,L.subject={},L.subject.getField=function(J){return O(L.subject,J)},L.subject.addField=function(J){G([J]),L.subject.attributes.push(J)},L.subject.attributes=[],L.subject.hash=null,L.publicKey=null,L.attributes=[],L.getAttribute=function(J){return O(L,J)},L.addAttribute=function(J){G([J]),L.attributes.push(J)},L.md=null,L.setSubject=function(J){G(J),L.subject.attributes=J,L.subject.hash=null},L.setAttributes=function(J){G(J),L.attributes=J},L.sign=function(J,q){L.md=q||n.md.sha1.create();var S=p[L.md.algorithm+"WithRSAEncryption"];if(!S){var re=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw re.algorithm=L.md.algorithm,re}L.signatureOid=L.siginfo.algorithmOid=S,L.certificationRequestInfo=y.getCertificationRequestInfo(L);var K=e.toDer(L.certificationRequestInfo);L.md.update(K.getBytes()),L.signature=J.sign(L.md)},L.verify=function(){var J=!1,q=L.md;if(null===q){q=b({signatureOid:L.signatureOid,type:"certification request"});var S=L.certificationRequestInfo||y.getCertificationRequestInfo(L),re=e.toDer(S);q.update(re.getBytes())}return null!==q&&(J=M({certificate:L,md:q,signature:L.signature})),J},L};var $=new Date("1950-01-01T00:00:00Z"),ie=new Date("2050-01-01T00:00:00Z");function se(L){return L>=$&&L<ie?e.create(e.Class.UNIVERSAL,e.Type.UTCTIME,!1,e.dateToUtcTime(L)):e.create(e.Class.UNIVERSAL,e.Type.GENERALIZEDTIME,!1,e.dateToGeneralizedTime(L))}y.getTBSCertificate=function(L){var J=se(L.validity.notBefore),q=se(L.validity.notAfter),S=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(L.version).getBytes())]),e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,n.util.hexToBytes(L.serialNumber)),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(L.siginfo.algorithmOid).getBytes()),j(L.siginfo.algorithmOid,L.siginfo.parameters)]),k(L.issuer),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[J,q]),k(L.subject),y.publicKeyToAsn1(L.publicKey)]);return L.issuer.uniqueId&&S.value.push(e.create(e.Class.CONTEXT_SPECIFIC,1,!0,[e.create(e.Class.UNIVERSAL,e.Type.BITSTRING,!1,"\0"+L.issuer.uniqueId)])),L.subject.uniqueId&&S.value.push(e.create(e.Class.CONTEXT_SPECIFIC,2,!0,[e.create(e.Class.UNIVERSAL,e.Type.BITSTRING,!1,"\0"+L.subject.uniqueId)])),L.extensions.length>0&&S.value.push(y.certificateExtensionsToAsn1(L.extensions)),S},y.getCertificationRequestInfo=function(L){return e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(L.version).getBytes()),k(L.subject),y.publicKeyToAsn1(L.publicKey),U(L)])},y.distinguishedNameToAsn1=function(L){return k(L)},y.certificateToAsn1=function(L){var J=L.tbsCertificate||y.getTBSCertificate(L);return e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[J,e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(L.signatureOid).getBytes()),j(L.signatureOid,L.signatureParameters)]),e.create(e.Class.UNIVERSAL,e.Type.BITSTRING,!1,"\0"+L.signature)])},y.certificateExtensionsToAsn1=function(L){var J=e.create(e.Class.CONTEXT_SPECIFIC,3,!0,[]),q=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]);J.value.push(q);for(var S=0;S<L.length;++S)q.value.push(y.certificateExtensionToAsn1(L[S]));return J},y.certificateExtensionToAsn1=function(L){var J=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]);J.value.push(e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(L.id).getBytes())),L.critical&&J.value.push(e.create(e.Class.UNIVERSAL,e.Type.BOOLEAN,!1,"\xff"));var q=L.value;return"string"!=typeof L.value&&(q=e.toDer(q).getBytes()),J.value.push(e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,q)),J},y.certificationRequestToAsn1=function(L){var J=L.certificationRequestInfo||y.getCertificationRequestInfo(L);return e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[J,e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(L.signatureOid).getBytes()),j(L.signatureOid,L.signatureParameters)]),e.create(e.Class.UNIVERSAL,e.Type.BITSTRING,!1,"\0"+L.signature)])},y.createCaStore=function(L){var J={certs:{}};function q(me){return S(me),J.certs[me.hash]||null}function S(me){if(!me.hash){var Ne=n.md.sha1.create();me.attributes=y.RDNAttributesAsArray(k(me),Ne),me.hash=Ne.digest().toHex()}}if(J.getIssuer=function(me){return q(me.issuer)},J.addCertificate=function(me){if("string"==typeof me&&(me=n.pki.certificateFromPem(me)),S(me.subject),!J.hasCertificate(me))if(me.subject.hash in J.certs){var Ne=J.certs[me.subject.hash];n.util.isArray(Ne)||(Ne=[Ne]),Ne.push(me),J.certs[me.subject.hash]=Ne}else J.certs[me.subject.hash]=me},J.hasCertificate=function(me){"string"==typeof me&&(me=n.pki.certificateFromPem(me));var Ne=q(me.subject);if(!Ne)return!1;n.util.isArray(Ne)||(Ne=[Ne]);for(var De=e.toDer(y.certificateToAsn1(me)).getBytes(),xe=0;xe<Ne.length;++xe)if(De===e.toDer(y.certificateToAsn1(Ne[xe])).getBytes())return!0;return!1},J.listAllCertificates=function(){var me=[];for(var Ne in J.certs)if(J.certs.hasOwnProperty(Ne)){var De=J.certs[Ne];if(n.util.isArray(De))for(var xe=0;xe<De.length;++xe)me.push(De[xe]);else me.push(De)}return me},J.removeCertificate=function(me){var Ne;if("string"==typeof me&&(me=n.pki.certificateFromPem(me)),S(me.subject),!J.hasCertificate(me))return null;var De=q(me.subject);if(!n.util.isArray(De))return Ne=J.certs[me.subject.hash],delete J.certs[me.subject.hash],Ne;for(var xe=e.toDer(y.certificateToAsn1(me)).getBytes(),Qe=0;Qe<De.length;++Qe)xe===e.toDer(y.certificateToAsn1(De[Qe])).getBytes()&&(Ne=De[Qe],De.splice(Qe,1));return 0===De.length&&delete J.certs[me.subject.hash],Ne},L)for(var re=0;re<L.length;++re)J.addCertificate(L[re]);return J},y.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"},y.verifyCertificateChain=function(L,J,q){"function"==typeof q&&(q={verify:q}),q=q||{};var S=(J=J.slice(0)).slice(0),re=q.validityCheckDate;typeof re>"u"&&(re=new Date);var K=!0,me=null,Ne=0;do{var De=J.shift(),xe=null,Qe=!1;if(re&&(re<De.validity.notBefore||re>De.validity.notAfter)&&(me={message:"Certificate is not valid yet or has expired.",error:y.certificateError.certificate_expired,notBefore:De.validity.notBefore,notAfter:De.validity.notAfter,now:re}),null===me){if(null===(xe=J[0]||L.getIssuer(De))&&De.isIssuer(De)&&(Qe=!0,xe=De),xe){var Se=xe;n.util.isArray(Se)||(Se=[Se]);for(var be=!1;!be&&Se.length>0;){xe=Se.shift();try{be=xe.verify(De)}catch{}}be||(me={message:"Certificate signature is invalid.",error:y.certificateError.bad_certificate})}null===me&&(!xe||Qe)&&!L.hasCertificate(De)&&(me={message:"Certificate is not trusted.",error:y.certificateError.unknown_ca})}if(null===me&&xe&&!De.isIssuer(xe)&&(me={message:"Certificate issuer is invalid.",error:y.certificateError.bad_certificate}),null===me)for(var le={keyUsage:!0,basicConstraints:!0},Fe=0;null===me&&Fe<De.extensions.length;++Fe){var Te=De.extensions[Fe];Te.critical&&!(Te.name in le)&&(me={message:"Certificate has an unsupported critical extension.",error:y.certificateError.unsupported_certificate})}if(null===me&&(!K||0===J.length&&(!xe||Qe))){var st=De.getExtension("basicConstraints"),Oe=De.getExtension("keyUsage");null!==Oe&&(!Oe.keyCertSign||null===st)&&(me={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:y.certificateError.bad_certificate}),null===me&&null!==st&&!st.cA&&(me={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:y.certificateError.bad_certificate}),null===me&&null!==Oe&&"pathLenConstraint"in st&&Ne-1>st.pathLenConstraint&&(me={message:"Certificate basicConstraints pathLenConstraint violated.",error:y.certificateError.bad_certificate})}var Ye=null===me||me.error,qt=q.verify?q.verify(Ye,Ne,S):Ye;if(!0!==qt)throw!0===Ye&&(me={message:"The application rejected the certificate.",error:y.certificateError.bad_certificate}),(qt||0===qt)&&("object"!=typeof qt||n.util.isArray(qt)?"string"==typeof qt&&(me.error=qt):(qt.message&&(me.message=qt.message),qt.error&&(me.error=qt.error))),me;me=null,K=!1,++Ne}while(J.length>0);return!0}},4531:(nt,fe,h)=>{"use strict";fe.hc=void 0;const e=h(2114);fe.hc=(w,C)=>{const m=e.asn1.fromDer(w.toString("binary")),f=e.pkcs12.pkcs12FromAsn1(m,!1,C).getBags({bagType:e.pki.oids.certBag});if(!f||!f?.[e.pki.oids.certBag]?.[0])throw new Error("Unable to parse certificate. Incorrect Password?");return f[e.pki.oids.certBag][0]}},5955:(nt,fe)=>{"use strict";class e{static isArrayBuffer(M){return"[object ArrayBuffer]"===Object.prototype.toString.call(M)}static toArrayBuffer(M){return this.isArrayBuffer(M)?M:M.byteLength===M.buffer.byteLength||0===M.byteOffset&&M.byteLength===M.buffer.byteLength?M.buffer:this.toUint8Array(M.buffer).slice(M.byteOffset,M.byteOffset+M.byteLength).buffer}static toUint8Array(M){return this.toView(M,Uint8Array)}static toView(M,k){if(M.constructor===k)return M;if(this.isArrayBuffer(M))return new k(M);if(this.isArrayBufferView(M))return new k(M.buffer,M.byteOffset,M.byteLength);throw new TypeError("The provided value is not of type '(ArrayBuffer or ArrayBufferView)'")}static isBufferSource(M){return this.isArrayBufferView(M)||this.isArrayBuffer(M)}static isArrayBufferView(M){return ArrayBuffer.isView(M)||M&&this.isArrayBuffer(M.buffer)}static isEqual(M,k){const N=e.toUint8Array(M),G=e.toUint8Array(k);if(N.length!==G.byteLength)return!1;for(let R=0;R<N.length;R++)if(N[R]!==G[R])return!1;return!0}static concat(...M){let k;k=Array.isArray(M[0])&&!(M[1]instanceof Function)||Array.isArray(M[0])&&M[1]instanceof Function?M[0]:M[M.length-1]instanceof Function?M.slice(0,M.length-1):M;let N=0;for(const j of k)N+=j.byteLength;const G=new Uint8Array(N);let R=0;for(const j of k){const U=this.toUint8Array(j);G.set(U,R),R+=U.length}return M[M.length-1]instanceof Function?this.toView(G,M[M.length-1]):G.buffer}}const y="string",p=/^[0-9a-f]+$/i,w=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/,C=/^[a-zA-Z0-9-_]+$/;class m{static fromString(M){const k=unescape(encodeURIComponent(M)),N=new Uint8Array(k.length);for(let G=0;G<k.length;G++)N[G]=k.charCodeAt(G);return N.buffer}static toString(M){const k=e.toUint8Array(M);let N="";for(let R=0;R<k.length;R++)N+=String.fromCharCode(k[R]);return decodeURIComponent(escape(N))}}class u{static toString(M,k=!1){const N=e.toArrayBuffer(M),G=new DataView(N);let R="";for(let j=0;j<N.byteLength;j+=2){const U=G.getUint16(j,k);R+=String.fromCharCode(U)}return R}static fromString(M,k=!1){const N=new ArrayBuffer(2*M.length),G=new DataView(N);for(let R=0;R<M.length;R++)G.setUint16(2*R,M.charCodeAt(R),k);return N}}let f=(()=>{class b{static isHex(k){return typeof k===y&&p.test(k)}static isBase64(k){return typeof k===y&&w.test(k)}static isBase64Url(k){return typeof k===y&&C.test(k)}static ToString(k,N="utf8"){const G=e.toUint8Array(k);switch(N.toLowerCase()){case"utf8":return this.ToUtf8String(G);case"binary":return this.ToBinary(G);case"hex":return this.ToHex(G);case"base64":return this.ToBase64(G);case"base64url":return this.ToBase64Url(G);case"utf16le":return u.toString(G,!0);case"utf16":case"utf16be":return u.toString(G);default:throw new Error(`Unknown type of encoding '${N}'`)}}static FromString(k,N="utf8"){if(!k)return new ArrayBuffer(0);switch(N.toLowerCase()){case"utf8":return this.FromUtf8String(k);case"binary":return this.FromBinary(k);case"hex":return this.FromHex(k);case"base64":return this.FromBase64(k);case"base64url":return this.FromBase64Url(k);case"utf16le":return u.fromString(k,!0);case"utf16":case"utf16be":return u.fromString(k);default:throw new Error(`Unknown type of encoding '${N}'`)}}static ToBase64(k){const N=e.toUint8Array(k);if(typeof btoa<"u"){const G=this.ToString(N,"binary");return btoa(G)}return Buffer.from(N).toString("base64")}static FromBase64(k){const N=this.formatString(k);if(!N)return new ArrayBuffer(0);if(!b.isBase64(N))throw new TypeError("Argument 'base64Text' is not Base64 encoded");return typeof atob<"u"?this.FromBinary(atob(N)):new Uint8Array(Buffer.from(N,"base64")).buffer}static FromBase64Url(k){const N=this.formatString(k);if(!N)return new ArrayBuffer(0);if(!b.isBase64Url(N))throw new TypeError("Argument 'base64url' is not Base64Url encoded");return this.FromBase64(this.Base64Padding(N.replace(/\-/g,"+").replace(/\_/g,"/")))}static ToBase64Url(k){return this.ToBase64(k).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}static FromUtf8String(k,N=b.DEFAULT_UTF8_ENCODING){switch(N){case"ascii":return this.FromBinary(k);case"utf8":return m.fromString(k);case"utf16":case"utf16be":return u.fromString(k);case"utf16le":case"usc2":return u.fromString(k,!0);default:throw new Error(`Unknown type of encoding '${N}'`)}}static ToUtf8String(k,N=b.DEFAULT_UTF8_ENCODING){switch(N){case"ascii":return this.ToBinary(k);case"utf8":return m.toString(k);case"utf16":case"utf16be":return u.toString(k);case"utf16le":case"usc2":return u.toString(k,!0);default:throw new Error(`Unknown type of encoding '${N}'`)}}static FromBinary(k){const N=k.length,G=new Uint8Array(N);for(let R=0;R<N;R++)G[R]=k.charCodeAt(R);return G.buffer}static ToBinary(k){const N=e.toUint8Array(k);let G="";for(let R=0;R<N.length;R++)G+=String.fromCharCode(N[R]);return G}static ToHex(k){const N=e.toUint8Array(k);let G="";const R=N.length;for(let j=0;j<R;j++){const U=N[j];U<16&&(G+="0"),G+=U.toString(16)}return G}static FromHex(k){let N=this.formatString(k);if(!N)return new ArrayBuffer(0);if(!b.isHex(N))throw new TypeError("Argument 'hexString' is not HEX encoded");N.length%2&&(N=`0${N}`);const G=new Uint8Array(N.length/2);for(let R=0;R<N.length;R+=2){const j=N.slice(R,R+2);G[R/2]=parseInt(j,16)}return G.buffer}static ToUtf16String(k,N=!1){return u.toString(k,N)}static FromUtf16String(k,N=!1){return u.fromString(k,N)}static Base64Padding(k){const N=4-k.length%4;if(N<4)for(let G=0;G<N;G++)k+="=";return k}static formatString(k){return k?.replace(/[\n\r\t ]/g,"")||""}}return b.DEFAULT_UTF8_ENCODING="utf8",b})();fe._H=e,fe.U$=f},4412:(nt,fe,h)=>{"use strict";h.d(fe,{t:()=>e});var n=h(1413);class e extends n.B{constructor(p){super(),this._value=p}get value(){return this.getValue()}_subscribe(p){const w=super._subscribe(p);return!w.closed&&p.next(this._value),w}getValue(){const{hasError:p,thrownError:w,_value:C}=this;if(p)throw w;return this._throwIfClosed(),C}next(p){super.next(this._value=p)}}},1985:(nt,fe,h)=>{"use strict";h.d(fe,{c:()=>u});var n=h(7707),e=h(8359),y=h(3494),p=h(1203),w=h(1026),C=h(8071),m=h(9786);let u=(()=>{class F{constructor(M){M&&(this._subscribe=M)}lift(M){const k=new F;return k.source=this,k.operator=M,k}subscribe(M,k,N){const G=function O(F){return F&&F instanceof n.vU||function T(F){return F&&(0,C.T)(F.next)&&(0,C.T)(F.error)&&(0,C.T)(F.complete)}(F)&&(0,e.Uv)(F)}(M)?M:new n.Ms(M,k,N);return(0,m.Y)(()=>{const{operator:R,source:j}=this;G.add(R?R.call(G,j):j?this._subscribe(G):this._trySubscribe(G))}),G}_trySubscribe(M){try{return this._subscribe(M)}catch(k){M.error(k)}}forEach(M,k){return new(k=f(k))((N,G)=>{const R=new n.Ms({next:j=>{try{M(j)}catch(U){G(U),R.unsubscribe()}},error:G,complete:N});this.subscribe(R)})}_subscribe(M){var k;return null===(k=this.source)||void 0===k?void 0:k.subscribe(M)}[y.s](){return this}pipe(...M){return(0,p.m)(M)(this)}toPromise(M){return new(M=f(M))((k,N)=>{let G;this.subscribe(R=>G=R,R=>N(R),()=>k(G))})}}return F.create=b=>new F(b),F})();function f(F){var b;return null!==(b=F??w.$.Promise)&&void 0!==b?b:Promise}},2771:(nt,fe,h)=>{"use strict";h.d(fe,{m:()=>y});var n=h(1413),e=h(6129);class y extends n.B{constructor(w=1/0,C=1/0,m=e.U){super(),this._bufferSize=w,this._windowTime=C,this._timestampProvider=m,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=C===1/0,this._bufferSize=Math.max(1,w),this._windowTime=Math.max(1,C)}next(w){const{isStopped:C,_buffer:m,_infiniteTimeWindow:u,_timestampProvider:f,_windowTime:T}=this;C||(m.push(w),!u&&m.push(f.now()+T)),this._trimBuffer(),super.next(w)}_subscribe(w){this._throwIfClosed(),this._trimBuffer();const C=this._innerSubscribe(w),{_infiniteTimeWindow:m,_buffer:u}=this,f=u.slice();for(let T=0;T<f.length&&!w.closed;T+=m?1:2)w.next(f[T]);return this._checkFinalizedStatuses(w),C}_trimBuffer(){const{_bufferSize:w,_timestampProvider:C,_buffer:m,_infiniteTimeWindow:u}=this,f=(u?1:2)*w;if(w<1/0&&f<m.length&&m.splice(0,m.length-f),!u){const T=C.now();let O=0;for(let F=1;F<m.length&&m[F]<=T;F+=2)O=F;O&&m.splice(0,O+1)}}}},1413:(nt,fe,h)=>{"use strict";h.d(fe,{B:()=>m});var n=h(1985),e=h(8359);const p=(0,h(1853).L)(f=>function(){f(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var w=h(7908),C=h(9786);let m=(()=>{class f extends n.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(O){const F=new u(this,this);return F.operator=O,F}_throwIfClosed(){if(this.closed)throw new p}next(O){(0,C.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const F of this.currentObservers)F.next(O)}})}error(O){(0,C.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=O;const{observers:F}=this;for(;F.length;)F.shift().error(O)}})}complete(){(0,C.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:O}=this;for(;O.length;)O.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var O;return(null===(O=this.observers)||void 0===O?void 0:O.length)>0}_trySubscribe(O){return this._throwIfClosed(),super._trySubscribe(O)}_subscribe(O){return this._throwIfClosed(),this._checkFinalizedStatuses(O),this._innerSubscribe(O)}_innerSubscribe(O){const{hasError:F,isStopped:b,observers:M}=this;return F||b?e.Kn:(this.currentObservers=null,M.push(O),new e.yU(()=>{this.currentObservers=null,(0,w.o)(M,O)}))}_checkFinalizedStatuses(O){const{hasError:F,thrownError:b,isStopped:M}=this;F?O.error(b):M&&O.complete()}asObservable(){const O=new n.c;return O.source=this,O}}return f.create=(T,O)=>new u(T,O),f})();class u extends m{constructor(T,O){super(),this.destination=T,this.source=O}next(T){var O,F;null===(F=null===(O=this.destination)||void 0===O?void 0:O.next)||void 0===F||F.call(O,T)}error(T){var O,F;null===(F=null===(O=this.destination)||void 0===O?void 0:O.error)||void 0===F||F.call(O,T)}complete(){var T,O;null===(O=null===(T=this.destination)||void 0===T?void 0:T.complete)||void 0===O||O.call(T)}_subscribe(T){var O,F;return null!==(F=null===(O=this.source)||void 0===O?void 0:O.subscribe(T))&&void 0!==F?F:e.Kn}}},7707:(nt,fe,h)=>{"use strict";h.d(fe,{Ms:()=>N,vU:()=>F});var n=h(8071),e=h(8359),y=h(1026),p=h(5334),w=h(5343);const C=f("C",void 0,void 0);function f($,ie,se){return{kind:$,value:ie,error:se}}var T=h(9270),O=h(9786);class F extends e.yU{constructor(ie){super(),this.isStopped=!1,ie?(this.destination=ie,(0,e.Uv)(ie)&&ie.add(this)):this.destination=U}static create(ie,se,L){return new N(ie,se,L)}next(ie){this.isStopped?j(function u($){return f("N",$,void 0)}(ie),this):this._next(ie)}error(ie){this.isStopped?j(function m($){return f("E",void 0,$)}(ie),this):(this.isStopped=!0,this._error(ie))}complete(){this.isStopped?j(C,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ie){this.destination.next(ie)}_error(ie){try{this.destination.error(ie)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const b=Function.prototype.bind;function M($,ie){return b.call($,ie)}class k{constructor(ie){this.partialObserver=ie}next(ie){const{partialObserver:se}=this;if(se.next)try{se.next(ie)}catch(L){G(L)}}error(ie){const{partialObserver:se}=this;if(se.error)try{se.error(ie)}catch(L){G(L)}else G(ie)}complete(){const{partialObserver:ie}=this;if(ie.complete)try{ie.complete()}catch(se){G(se)}}}class N extends F{constructor(ie,se,L){let J;if(super(),(0,n.T)(ie)||!ie)J={next:ie??void 0,error:se??void 0,complete:L??void 0};else{let q;this&&y.$.useDeprecatedNextContext?(q=Object.create(ie),q.unsubscribe=()=>this.unsubscribe(),J={next:ie.next&&M(ie.next,q),error:ie.error&&M(ie.error,q),complete:ie.complete&&M(ie.complete,q)}):J=ie}this.destination=new k(J)}}function G($){y.$.useDeprecatedSynchronousErrorHandling?(0,O.l)($):(0,p.m)($)}function j($,ie){const{onStoppedNotification:se}=y.$;se&&T.f.setTimeout(()=>se($,ie))}const U={closed:!0,next:w.l,error:function R($){throw $},complete:w.l}},8359:(nt,fe,h)=>{"use strict";h.d(fe,{Kn:()=>C,yU:()=>w,Uv:()=>m});var n=h(8071);const y=(0,h(1853).L)(f=>function(O){f(this),this.message=O?`${O.length} errors occurred during unsubscription:\n${O.map((F,b)=>`${b+1}) ${F.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=O});var p=h(7908);class w{constructor(T){this.initialTeardown=T,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let T;if(!this.closed){this.closed=!0;const{_parentage:O}=this;if(O)if(this._parentage=null,Array.isArray(O))for(const M of O)M.remove(this);else O.remove(this);const{initialTeardown:F}=this;if((0,n.T)(F))try{F()}catch(M){T=M instanceof y?M.errors:[M]}const{_finalizers:b}=this;if(b){this._finalizers=null;for(const M of b)try{u(M)}catch(k){T=T??[],k instanceof y?T=[...T,...k.errors]:T.push(k)}}if(T)throw new y(T)}}add(T){var O;if(T&&T!==this)if(this.closed)u(T);else{if(T instanceof w){if(T.closed||T._hasParent(this))return;T._addParent(this)}(this._finalizers=null!==(O=this._finalizers)&&void 0!==O?O:[]).push(T)}}_hasParent(T){const{_parentage:O}=this;return O===T||Array.isArray(O)&&O.includes(T)}_addParent(T){const{_parentage:O}=this;this._parentage=Array.isArray(O)?(O.push(T),O):O?[O,T]:T}_removeParent(T){const{_parentage:O}=this;O===T?this._parentage=null:Array.isArray(O)&&(0,p.o)(O,T)}remove(T){const{_finalizers:O}=this;O&&(0,p.o)(O,T),T instanceof w&&T._removeParent(this)}}w.EMPTY=(()=>{const f=new w;return f.closed=!0,f})();const C=w.EMPTY;function m(f){return f instanceof w||f&&"closed"in f&&(0,n.T)(f.remove)&&(0,n.T)(f.add)&&(0,n.T)(f.unsubscribe)}function u(f){(0,n.T)(f)?f():f.unsubscribe()}},1026:(nt,fe,h)=>{"use strict";h.d(fe,{$:()=>n});const n={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4572:(nt,fe,h)=>{"use strict";h.d(fe,{P:()=>O,z:()=>T});var n=h(1985),e=h(3073),y=h(6648),p=h(3669),w=h(6450),C=h(9326),m=h(8496),u=h(4360),f=h(5225);function T(...b){const M=(0,C.lI)(b),k=(0,C.ms)(b),{args:N,keys:G}=(0,e.D)(b);if(0===N.length)return(0,y.H)([],M);const R=new n.c(O(N,M,G?j=>(0,m.e)(G,j):p.D));return k?R.pipe((0,w.I)(k)):R}function O(b,M,k=p.D){return N=>{F(M,()=>{const{length:G}=b,R=new Array(G);let j=G,U=G;for(let $=0;$<G;$++)F(M,()=>{const ie=(0,y.H)(b[$],M);let se=!1;ie.subscribe((0,u._)(N,L=>{R[$]=L,se||(se=!0,U--),U||N.next(k(R.slice()))},()=>{--j||N.complete()}))},N)},N)}}function F(b,M,k){b?(0,f.N)(k,b,M):M()}},8793:(nt,fe,h)=>{"use strict";h.d(fe,{x:()=>w});var n=h(6365),y=h(9326),p=h(6648);function w(...C){return function e(){return(0,n.U)(1)}()((0,p.H)(C,(0,y.lI)(C)))}},9030:(nt,fe,h)=>{"use strict";h.d(fe,{v:()=>y});var n=h(1985),e=h(8750);function y(p){return new n.c(w=>{(0,e.Tg)(p()).subscribe(w)})}},983:(nt,fe,h)=>{"use strict";h.d(fe,{I:()=>y,w:()=>e});var n=h(1985);const e=new n.c(w=>w.complete());function y(w){return w?function p(w){return new n.c(C=>w.schedule(()=>C.complete()))}(w):e}},7468:(nt,fe,h)=>{"use strict";h.d(fe,{p:()=>u});var n=h(1985),e=h(3073),y=h(8750),p=h(9326),w=h(4360),C=h(6450),m=h(8496);function u(...f){const T=(0,p.ms)(f),{args:O,keys:F}=(0,e.D)(f),b=new n.c(M=>{const{length:k}=O;if(!k)return void M.complete();const N=new Array(k);let G=k,R=k;for(let j=0;j<k;j++){let U=!1;(0,y.Tg)(O[j]).subscribe((0,w._)(M,$=>{U||(U=!0,R--),N[j]=$},()=>G--,void 0,()=>{(!G||!U)&&(R||M.next(F?(0,m.e)(F,N):N),M.complete())}))}});return T?b.pipe((0,C.I)(T)):b}},6648:(nt,fe,h)=>{"use strict";h.d(fe,{H:()=>L});var n=h(8750),e=h(5225),y=h(9974),p=h(4360);function w(J,q=0){return(0,y.N)((S,re)=>{S.subscribe((0,p._)(re,K=>(0,e.N)(re,J,()=>re.next(K),q),()=>(0,e.N)(re,J,()=>re.complete(),q),K=>(0,e.N)(re,J,()=>re.error(K),q)))})}function C(J,q=0){return(0,y.N)((S,re)=>{re.add(J.schedule(()=>S.subscribe(re),q))})}var f=h(1985),O=h(4761),F=h(8071);function M(J,q){if(!J)throw new Error("Iterable cannot be null");return new f.c(S=>{(0,e.N)(S,q,()=>{const re=J[Symbol.asyncIterator]();(0,e.N)(S,q,()=>{re.next().then(K=>{K.done?S.complete():S.next(K.value)})},0,!0)})})}var k=h(5055),N=h(9858),G=h(7441),R=h(5397),j=h(7953),U=h(591),$=h(5196);function L(J,q){return q?function se(J,q){if(null!=J){if((0,k.l)(J))return function m(J,q){return(0,n.Tg)(J).pipe(C(q),w(q))}(J,q);if((0,G.X)(J))return function T(J,q){return new f.c(S=>{let re=0;return q.schedule(function(){re===J.length?S.complete():(S.next(J[re++]),S.closed||this.schedule())})})}(J,q);if((0,N.y)(J))return function u(J,q){return(0,n.Tg)(J).pipe(C(q),w(q))}(J,q);if((0,j.T)(J))return M(J,q);if((0,R.x)(J))return function b(J,q){return new f.c(S=>{let re;return(0,e.N)(S,q,()=>{re=J[O.l](),(0,e.N)(S,q,()=>{let K,me;try{({value:K,done:me}=re.next())}catch(Ne){return void S.error(Ne)}me?S.complete():S.next(K)},0,!0)}),()=>(0,F.T)(re?.return)&&re.return()})}(J,q);if((0,$.U)(J))return function ie(J,q){return M((0,$.C)(J),q)}(J,q)}throw(0,U.L)(J)}(J,q):(0,n.Tg)(J)}},3726:(nt,fe,h)=>{"use strict";h.d(fe,{R:()=>T});var n=h(8750),e=h(1985),y=h(1397),p=h(7441),w=h(8071),C=h(6450);const m=["addListener","removeListener"],u=["addEventListener","removeEventListener"],f=["on","off"];function T(k,N,G,R){if((0,w.T)(G)&&(R=G,G=void 0),R)return T(k,N,G).pipe((0,C.I)(R));const[j,U]=function M(k){return(0,w.T)(k.addEventListener)&&(0,w.T)(k.removeEventListener)}(k)?u.map($=>ie=>k[$](N,ie,G)):function F(k){return(0,w.T)(k.addListener)&&(0,w.T)(k.removeListener)}(k)?m.map(O(k,N)):function b(k){return(0,w.T)(k.on)&&(0,w.T)(k.off)}(k)?f.map(O(k,N)):[];if(!j&&(0,p.X)(k))return(0,y.Z)($=>T($,N,G))((0,n.Tg)(k));if(!j)throw new TypeError("Invalid event target");return new e.c($=>{const ie=(...se)=>$.next(1<se.length?se:se[0]);return j(ie),()=>U(ie)})}function O(k,N){return G=>R=>k[G](N,R)}},8750:(nt,fe,h)=>{"use strict";h.d(fe,{Tg:()=>b});var n=h(1635),e=h(7441),y=h(9858),p=h(1985),w=h(5055),C=h(7953),m=h(591),u=h(5397),f=h(5196),T=h(8071),O=h(5334),F=h(3494);function b($){if($ instanceof p.c)return $;if(null!=$){if((0,w.l)($))return function M($){return new p.c(ie=>{const se=$[F.s]();if((0,T.T)(se.subscribe))return se.subscribe(ie);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}($);if((0,e.X)($))return function k($){return new p.c(ie=>{for(let se=0;se<$.length&&!ie.closed;se++)ie.next($[se]);ie.complete()})}($);if((0,y.y)($))return function N($){return new p.c(ie=>{$.then(se=>{ie.closed||(ie.next(se),ie.complete())},se=>ie.error(se)).then(null,O.m)})}($);if((0,C.T)($))return R($);if((0,u.x)($))return function G($){return new p.c(ie=>{for(const se of $)if(ie.next(se),ie.closed)return;ie.complete()})}($);if((0,f.U)($))return function j($){return R((0,f.C)($))}($)}throw(0,m.L)($)}function R($){return new p.c(ie=>{(function U($,ie){var se,L,J,q;return(0,n.sH)(this,void 0,void 0,function*(){try{for(se=(0,n.xN)($);!(L=yield se.next()).done;)if(ie.next(L.value),ie.closed)return}catch(S){J={error:S}}finally{try{L&&!L.done&&(q=se.return)&&(yield q.call(se))}finally{if(J)throw J.error}}ie.complete()})})($,ie).catch(se=>ie.error(se))})}},7786:(nt,fe,h)=>{"use strict";h.d(fe,{h:()=>C});var n=h(6365),e=h(8750),y=h(983),p=h(9326),w=h(6648);function C(...m){const u=(0,p.lI)(m),f=(0,p.R0)(m,1/0),T=m;return T.length?1===T.length?(0,e.Tg)(T[0]):(0,n.U)(f)((0,w.H)(T,u)):y.w}},5060:(nt,fe,h)=>{"use strict";h.d(fe,{t:()=>y});var n=h(1985),e=h(5343);const y=new n.c(e.l)},7673:(nt,fe,h)=>{"use strict";h.d(fe,{of:()=>y});var n=h(9326),e=h(6648);function y(...p){const w=(0,n.lI)(p);return(0,e.H)(p,w)}},8810:(nt,fe,h)=>{"use strict";h.d(fe,{$:()=>y});var n=h(1985),e=h(8071);function y(p,w){const C=(0,e.T)(p)?p:()=>p,m=u=>u.error(C());return new n.c(w?u=>w.schedule(m,0,u):m)}},1584:(nt,fe,h)=>{"use strict";h.d(fe,{O:()=>w});var n=h(1985),e=h(3236),y=h(9470);function w(C=0,m,u=e.b){let f=-1;return null!=m&&((0,y.m)(m)?u=m:f=m),new n.c(T=>{let O=function p(C){return C instanceof Date&&!isNaN(C)}(C)?+C-u.now():C;O<0&&(O=0);let F=0;return u.schedule(function(){T.closed||(T.next(F++),0<=f?this.schedule(void 0,f):T.complete())},O)})}},4360:(nt,fe,h)=>{"use strict";h.d(fe,{_:()=>e});var n=h(7707);function e(p,w,C,m,u){return new y(p,w,C,m,u)}class y extends n.vU{constructor(w,C,m,u,f,T){super(w),this.onFinalize=f,this.shouldUnsubscribe=T,this._next=C?function(O){try{C(O)}catch(F){w.error(F)}}:super._next,this._error=u?function(O){try{u(O)}catch(F){w.error(F)}finally{this.unsubscribe()}}:super._error,this._complete=m?function(){try{m()}catch(O){w.error(O)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var w;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:C}=this;super.unsubscribe(),!C&&(null===(w=this.onFinalize)||void 0===w||w.call(this))}}}},9437:(nt,fe,h)=>{"use strict";h.d(fe,{W:()=>p});var n=h(8750),e=h(4360),y=h(9974);function p(w){return(0,y.N)((C,m)=>{let T,u=null,f=!1;u=C.subscribe((0,e._)(m,void 0,void 0,O=>{T=(0,n.Tg)(w(O,p(w)(C))),u?(u.unsubscribe(),u=null,T.subscribe(m)):f=!0})),f&&(u.unsubscribe(),u=null,T.subscribe(m))})}},274:(nt,fe,h)=>{"use strict";h.d(fe,{H:()=>y});var n=h(1397),e=h(8071);function y(p,w){return(0,e.T)(w)?(0,n.Z)(p,w,1):(0,n.Z)(p,1)}},152:(nt,fe,h)=>{"use strict";h.d(fe,{B:()=>p});var n=h(3236),e=h(9974),y=h(4360);function p(w,C=n.E){return(0,e.N)((m,u)=>{let f=null,T=null,O=null;const F=()=>{if(f){f.unsubscribe(),f=null;const M=T;T=null,u.next(M)}};function b(){const M=O+w,k=C.now();if(k<M)return f=this.schedule(void 0,M-k),void u.add(f);F()}m.subscribe((0,y._)(u,M=>{T=M,O=C.now(),f||(f=C.schedule(b,w),u.add(f))},()=>{F(),u.complete()},void 0,()=>{T=f=null}))})}},9901:(nt,fe,h)=>{"use strict";h.d(fe,{U:()=>y});var n=h(9974),e=h(4360);function y(p){return(0,n.N)((w,C)=>{let m=!1;w.subscribe((0,e._)(C,u=>{m=!0,C.next(u)},()=>{m||C.next(p),C.complete()}))})}},1986:(nt,fe,h)=>{"use strict";h.d(fe,{c:()=>b});var n=h(3236),e=h(8793),y=h(6697),p=h(9974),w=h(4360),C=h(5343),u=h(3703),f=h(1397),T=h(8750);function O(M,k){return k?N=>(0,e.x)(k.pipe((0,y.s)(1),function m(){return(0,p.N)((M,k)=>{M.subscribe((0,w._)(k,C.l))})}()),N.pipe(O(M))):(0,f.Z)((N,G)=>(0,T.Tg)(M(N,G)).pipe((0,y.s)(1),(0,u.u)(N)))}var F=h(1584);function b(M,k=n.E){const N=(0,F.O)(M,k);return O(()=>N)}},3294:(nt,fe,h)=>{"use strict";h.d(fe,{F:()=>p});var n=h(3669),e=h(9974),y=h(4360);function p(C,m=n.D){return C=C??w,(0,e.N)((u,f)=>{let T,O=!0;u.subscribe((0,y._)(f,F=>{const b=m(F);(O||!C(T,b))&&(O=!1,T=b,f.next(F))}))})}function w(C,m){return C===m}},5964:(nt,fe,h)=>{"use strict";h.d(fe,{p:()=>y});var n=h(9974),e=h(4360);function y(p,w){return(0,n.N)((C,m)=>{let u=0;C.subscribe((0,e._)(m,f=>p.call(w,f,u++)&&m.next(f)))})}},980:(nt,fe,h)=>{"use strict";h.d(fe,{j:()=>e});var n=h(9974);function e(y){return(0,n.N)((p,w)=>{try{p.subscribe(w)}finally{w.add(y)}})}},1594:(nt,fe,h)=>{"use strict";h.d(fe,{$:()=>m});var n=h(9350),e=h(5964),y=h(6697),p=h(9901),w=h(3774),C=h(3669);function m(u,f){const T=arguments.length>=2;return O=>O.pipe(u?(0,e.p)((F,b)=>u(F,b,O)):C.D,(0,y.s)(1),T?(0,p.U)(f):(0,w.v)(()=>new n.G))}},6354:(nt,fe,h)=>{"use strict";h.d(fe,{T:()=>y});var n=h(9974),e=h(4360);function y(p,w){return(0,n.N)((C,m)=>{let u=0;C.subscribe((0,e._)(m,f=>{m.next(p.call(w,f,u++))}))})}},3703:(nt,fe,h)=>{"use strict";h.d(fe,{u:()=>e});var n=h(6354);function e(y){return(0,n.T)(()=>y)}},1716:(nt,fe,h)=>{"use strict";h.d(fe,{h:()=>C});var n=h(9974),e=h(2326),y=h(6365),p=h(9326),w=h(6648);function C(...m){const u=(0,p.lI)(m),f=(0,p.R0)(m,1/0);return m=(0,e.K)(m),(0,n.N)((T,O)=>{(0,y.U)(f)((0,w.H)([T,...m],u)).subscribe(O)})}},6365:(nt,fe,h)=>{"use strict";h.d(fe,{U:()=>y});var n=h(1397),e=h(3669);function y(p=1/0){return(0,n.Z)(e.D,p)}},1397:(nt,fe,h)=>{"use strict";h.d(fe,{Z:()=>u});var n=h(6354),e=h(8750),y=h(9974),p=h(5225),w=h(4360),m=h(8071);function u(f,T,O=1/0){return(0,m.T)(T)?u((F,b)=>(0,n.T)((M,k)=>T(F,M,b,k))((0,e.Tg)(f(F,b))),O):("number"==typeof T&&(O=T),(0,y.N)((F,b)=>function C(f,T,O,F,b,M,k,N){const G=[];let R=0,j=0,U=!1;const $=()=>{U&&!G.length&&!R&&T.complete()},ie=L=>R<F?se(L):G.push(L),se=L=>{M&&T.next(L),R++;let J=!1;(0,e.Tg)(O(L,j++)).subscribe((0,w._)(T,q=>{b?.(q),M?ie(q):T.next(q)},()=>{J=!0},void 0,()=>{if(J)try{for(R--;G.length&&R<F;){const q=G.shift();k?(0,p.N)(T,k,()=>se(q)):se(q)}$()}catch(q){T.error(q)}}))};return f.subscribe((0,w._)(T,ie,()=>{U=!0,$()})),()=>{N?.()}}(F,b,f,O)))}},8412:(nt,fe,h)=>{"use strict";h.d(fe,{X:()=>e});var n=h(1716);function e(...y){return(0,n.h)(...y)}},6649:(nt,fe,h)=>{"use strict";h.d(fe,{S:()=>e});var n=h(4360);function e(y,p,w,C,m){return(u,f)=>{let T=w,O=p,F=0;u.subscribe((0,n._)(f,b=>{const M=F++;O=T?y(O,b,M):(T=!0,b),C&&f.next(O)},m&&(()=>{T&&f.next(O),f.complete()})))}}},9568:(nt,fe,h)=>{"use strict";h.d(fe,{t:()=>u});var n=h(2771),e=h(8750),y=h(1413),p=h(7707),w=h(9974);function m(f,T,...O){if(!0===T)return void f();if(!1===T)return;const F=new p.Ms({next:()=>{F.unsubscribe(),f()}});return(0,e.Tg)(T(...O)).subscribe(F)}function u(f,T,O){let F,b=!1;return f&&"object"==typeof f?({bufferSize:F=1/0,windowTime:T=1/0,refCount:b=!1,scheduler:O}=f):F=f??1/0,function C(f={}){const{connector:T=(()=>new y.B),resetOnError:O=!0,resetOnComplete:F=!0,resetOnRefCountZero:b=!0}=f;return M=>{let k,N,G,R=0,j=!1,U=!1;const $=()=>{N?.unsubscribe(),N=void 0},ie=()=>{$(),k=G=void 0,j=U=!1},se=()=>{const L=k;ie(),L?.unsubscribe()};return(0,w.N)((L,J)=>{R++,!U&&!j&&$();const q=G=G??T();J.add(()=>{R--,0===R&&!U&&!j&&(N=m(se,b))}),q.subscribe(J),!k&&R>0&&(k=new p.Ms({next:S=>q.next(S),error:S=>{U=!0,$(),N=m(ie,O,S),q.error(S)},complete:()=>{j=!0,$(),N=m(ie,F),q.complete()}}),(0,e.Tg)(L).subscribe(k))})(M)}}({connector:()=>new n.m(F,T,O),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:b})}},9172:(nt,fe,h)=>{"use strict";h.d(fe,{Z:()=>p});var n=h(8793),e=h(9326),y=h(9974);function p(...w){const C=(0,e.lI)(w);return(0,y.N)((m,u)=>{(C?(0,n.x)(w,m,C):(0,n.x)(w,m)).subscribe(u)})}},5558:(nt,fe,h)=>{"use strict";h.d(fe,{n:()=>p});var n=h(8750),e=h(9974),y=h(4360);function p(w,C){return(0,e.N)((m,u)=>{let f=null,T=0,O=!1;const F=()=>O&&!f&&u.complete();m.subscribe((0,y._)(u,b=>{f?.unsubscribe();let M=0;const k=T++;(0,n.Tg)(w(b,k)).subscribe(f=(0,y._)(u,N=>u.next(C?C(b,N,k,M++):N),()=>{f=null,F()}))},()=>{O=!0,F()}))})}},6697:(nt,fe,h)=>{"use strict";h.d(fe,{s:()=>p});var n=h(983),e=h(9974),y=h(4360);function p(w){return w<=0?()=>n.w:(0,e.N)((C,m)=>{let u=0;C.subscribe((0,y._)(m,f=>{++u<=w&&(m.next(f),w<=u&&m.complete())}))})}},6977:(nt,fe,h)=>{"use strict";h.d(fe,{Q:()=>w});var n=h(9974),e=h(4360),y=h(8750),p=h(5343);function w(C){return(0,n.N)((m,u)=>{(0,y.Tg)(C).subscribe((0,e._)(u,()=>u.complete(),p.l)),!u.closed&&m.subscribe(u)})}},8141:(nt,fe,h)=>{"use strict";h.d(fe,{M:()=>w});var n=h(8071),e=h(9974),y=h(4360),p=h(3669);function w(C,m,u){const f=(0,n.T)(C)||m||u?{next:C,error:m,complete:u}:C;return f?(0,e.N)((T,O)=>{var F;null===(F=f.subscribe)||void 0===F||F.call(f);let b=!0;T.subscribe((0,y._)(O,M=>{var k;null===(k=f.next)||void 0===k||k.call(f,M),O.next(M)},()=>{var M;b=!1,null===(M=f.complete)||void 0===M||M.call(f),O.complete()},M=>{var k;b=!1,null===(k=f.error)||void 0===k||k.call(f,M),O.error(M)},()=>{var M,k;b&&(null===(M=f.unsubscribe)||void 0===M||M.call(f)),null===(k=f.finalize)||void 0===k||k.call(f)}))}):p.D}},3774:(nt,fe,h)=>{"use strict";h.d(fe,{v:()=>p});var n=h(9350),e=h(9974),y=h(4360);function p(C=w){return(0,e.N)((m,u)=>{let f=!1;m.subscribe((0,y._)(u,T=>{f=!0,u.next(T)},()=>f?u.complete():u.error(C())))})}function w(){return new n.G}},3993:(nt,fe,h)=>{"use strict";h.d(fe,{E:()=>m});var n=h(9974),e=h(4360),y=h(8750),p=h(3669),w=h(5343),C=h(9326);function m(...u){const f=(0,C.ms)(u);return(0,n.N)((T,O)=>{const F=u.length,b=new Array(F);let M=u.map(()=>!1),k=!1;for(let N=0;N<F;N++)(0,y.Tg)(u[N]).subscribe((0,e._)(O,G=>{b[N]=G,!k&&!M[N]&&(M[N]=!0,(k=M.every(p.D))&&(M=null))},w.l));T.subscribe((0,e._)(O,N=>{if(k){const G=[N,...b];O.next(f?f(...G):G)}}))})}},6780:(nt,fe,h)=>{"use strict";h.d(fe,{R:()=>w});var n=h(8359);class e extends n.yU{constructor(m,u){super()}schedule(m,u=0){return this}}const y={setInterval(C,m,...u){const{delegate:f}=y;return f?.setInterval?f.setInterval(C,m,...u):setInterval(C,m,...u)},clearInterval(C){const{delegate:m}=y;return(m?.clearInterval||clearInterval)(C)},delegate:void 0};var p=h(7908);class w extends e{constructor(m,u){super(m,u),this.scheduler=m,this.work=u,this.pending=!1}schedule(m,u=0){var f;if(this.closed)return this;this.state=m;const T=this.id,O=this.scheduler;return null!=T&&(this.id=this.recycleAsyncId(O,T,u)),this.pending=!0,this.delay=u,this.id=null!==(f=this.id)&&void 0!==f?f:this.requestAsyncId(O,this.id,u),this}requestAsyncId(m,u,f=0){return y.setInterval(m.flush.bind(m,this),f)}recycleAsyncId(m,u,f=0){if(null!=f&&this.delay===f&&!1===this.pending)return u;null!=u&&y.clearInterval(u)}execute(m,u){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const f=this._execute(m,u);if(f)return f;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(m,u){let T,f=!1;try{this.work(m)}catch(O){f=!0,T=O||new Error("Scheduled action threw falsy error")}if(f)return this.unsubscribe(),T}unsubscribe(){if(!this.closed){const{id:m,scheduler:u}=this,{actions:f}=u;this.work=this.state=this.scheduler=null,this.pending=!1,(0,p.o)(f,this),null!=m&&(this.id=this.recycleAsyncId(u,m,null)),this.delay=null,super.unsubscribe()}}}},9687:(nt,fe,h)=>{"use strict";h.d(fe,{q:()=>y});var n=h(6129);class e{constructor(w,C=e.now){this.schedulerActionCtor=w,this.now=C}schedule(w,C=0,m){return new this.schedulerActionCtor(this,w).schedule(m,C)}}e.now=n.U.now;class y extends e{constructor(w,C=e.now){super(w,C),this.actions=[],this._active=!1}flush(w){const{actions:C}=this;if(this._active)return void C.push(w);let m;this._active=!0;do{if(m=w.execute(w.state,w.delay))break}while(w=C.shift());if(this._active=!1,m){for(;w=C.shift();)w.unsubscribe();throw m}}}},3236:(nt,fe,h)=>{"use strict";h.d(fe,{E:()=>y,b:()=>p});var n=h(6780);const y=new(h(9687).q)(n.R),p=y},6129:(nt,fe,h)=>{"use strict";h.d(fe,{U:()=>n});const n={now:()=>(n.delegate||Date).now(),delegate:void 0}},9270:(nt,fe,h)=>{"use strict";h.d(fe,{f:()=>n});const n={setTimeout(e,y,...p){const{delegate:w}=n;return w?.setTimeout?w.setTimeout(e,y,...p):setTimeout(e,y,...p)},clearTimeout(e){const{delegate:y}=n;return(y?.clearTimeout||clearTimeout)(e)},delegate:void 0}},4761:(nt,fe,h)=>{"use strict";h.d(fe,{l:()=>e});const e=function n(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(nt,fe,h)=>{"use strict";h.d(fe,{s:()=>n});const n="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(nt,fe,h)=>{"use strict";h.d(fe,{G:()=>e});const e=(0,h(1853).L)(y=>function(){y(this),this.name="EmptyError",this.message="no elements in sequence"})},9326:(nt,fe,h)=>{"use strict";h.d(fe,{R0:()=>C,lI:()=>w,ms:()=>p});var n=h(8071),e=h(9470);function y(m){return m[m.length-1]}function p(m){return(0,n.T)(y(m))?m.pop():void 0}function w(m){return(0,e.m)(y(m))?m.pop():void 0}function C(m,u){return"number"==typeof y(m)?m.pop():u}},3073:(nt,fe,h)=>{"use strict";h.d(fe,{D:()=>w});const{isArray:n}=Array,{getPrototypeOf:e,prototype:y,keys:p}=Object;function w(m){if(1===m.length){const u=m[0];if(n(u))return{args:u,keys:null};if(function C(m){return m&&"object"==typeof m&&e(m)===y}(u)){const f=p(u);return{args:f.map(T=>u[T]),keys:f}}}return{args:m,keys:null}}},2326:(nt,fe,h)=>{"use strict";h.d(fe,{K:()=>e});const{isArray:n}=Array;function e(y){return 1===y.length&&n(y[0])?y[0]:y}},7908:(nt,fe,h)=>{"use strict";function n(e,y){if(e){const p=e.indexOf(y);0<=p&&e.splice(p,1)}}h.d(fe,{o:()=>n})},1853:(nt,fe,h)=>{"use strict";function n(e){const p=e(w=>{Error.call(w),w.stack=(new Error).stack});return p.prototype=Object.create(Error.prototype),p.prototype.constructor=p,p}h.d(fe,{L:()=>n})},8496:(nt,fe,h)=>{"use strict";function n(e,y){return e.reduce((p,w,C)=>(p[w]=y[C],p),{})}h.d(fe,{e:()=>n})},9786:(nt,fe,h)=>{"use strict";h.d(fe,{Y:()=>y,l:()=>p});var n=h(1026);let e=null;function y(w){if(n.$.useDeprecatedSynchronousErrorHandling){const C=!e;if(C&&(e={errorThrown:!1,error:null}),w(),C){const{errorThrown:m,error:u}=e;if(e=null,m)throw u}}else w()}function p(w){n.$.useDeprecatedSynchronousErrorHandling&&e&&(e.errorThrown=!0,e.error=w)}},5225:(nt,fe,h)=>{"use strict";function n(e,y,p,w=0,C=!1){const m=y.schedule(function(){p(),C?e.add(this.schedule(null,w)):this.unsubscribe()},w);if(e.add(m),!C)return m}h.d(fe,{N:()=>n})},3669:(nt,fe,h)=>{"use strict";function n(e){return e}h.d(fe,{D:()=>n})},7441:(nt,fe,h)=>{"use strict";h.d(fe,{X:()=>n});const n=e=>e&&"number"==typeof e.length&&"function"!=typeof e},7953:(nt,fe,h)=>{"use strict";h.d(fe,{T:()=>e});var n=h(8071);function e(y){return Symbol.asyncIterator&&(0,n.T)(y?.[Symbol.asyncIterator])}},8071:(nt,fe,h)=>{"use strict";function n(e){return"function"==typeof e}h.d(fe,{T:()=>n})},5055:(nt,fe,h)=>{"use strict";h.d(fe,{l:()=>y});var n=h(3494),e=h(8071);function y(p){return(0,e.T)(p[n.s])}},5397:(nt,fe,h)=>{"use strict";h.d(fe,{x:()=>y});var n=h(4761),e=h(8071);function y(p){return(0,e.T)(p?.[n.l])}},4402:(nt,fe,h)=>{"use strict";h.d(fe,{A:()=>y});var n=h(1985),e=h(8071);function y(p){return!!p&&(p instanceof n.c||(0,e.T)(p.lift)&&(0,e.T)(p.subscribe))}},9858:(nt,fe,h)=>{"use strict";h.d(fe,{y:()=>e});var n=h(8071);function e(y){return(0,n.T)(y?.then)}},5196:(nt,fe,h)=>{"use strict";h.d(fe,{C:()=>y,U:()=>p});var n=h(1635),e=h(8071);function y(w){return(0,n.AQ)(this,arguments,function*(){const m=w.getReader();try{for(;;){const{value:u,done:f}=yield(0,n.N3)(m.read());if(f)return yield(0,n.N3)(void 0);yield yield(0,n.N3)(u)}}finally{m.releaseLock()}})}function p(w){return(0,e.T)(w?.getReader)}},9470:(nt,fe,h)=>{"use strict";h.d(fe,{m:()=>e});var n=h(8071);function e(y){return y&&(0,n.T)(y.schedule)}},9974:(nt,fe,h)=>{"use strict";h.d(fe,{N:()=>y,S:()=>e});var n=h(8071);function e(p){return(0,n.T)(p?.lift)}function y(p){return w=>{if(e(w))return w.lift(function(C){try{return p(C,this)}catch(m){this.error(m)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(nt,fe,h)=>{"use strict";h.d(fe,{I:()=>p});var n=h(6354);const{isArray:e}=Array;function p(w){return(0,n.T)(C=>function y(w,C){return e(C)?w(...C):w(C)}(w,C))}},5343:(nt,fe,h)=>{"use strict";function n(){}h.d(fe,{l:()=>n})},1203:(nt,fe,h)=>{"use strict";h.d(fe,{F:()=>e,m:()=>y});var n=h(3669);function e(...p){return y(p)}function y(p){return 0===p.length?n.D:1===p.length?p[0]:function(C){return p.reduce((m,u)=>u(m),C)}}},5334:(nt,fe,h)=>{"use strict";h.d(fe,{m:()=>y});var n=h(1026),e=h(9270);function y(p){e.f.setTimeout(()=>{const{onUnhandledError:w}=n.$;if(!w)throw p;w(p)})}},591:(nt,fe,h)=>{"use strict";function n(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}h.d(fe,{L:()=>n})},9625:function(nt,fe,h){var n;!function(e,y){"use strict";var m="function",u="undefined",f="object",T="string",O="major",F="model",b="name",M="type",k="vendor",N="version",G="architecture",R="console",j="mobile",U="tablet",$="smarttv",ie="wearable",se="embedded",J="Amazon",q="Apple",S="ASUS",re="BlackBerry",K="Browser",me="Chrome",De="Firefox",xe="Google",be="Microsoft",le="Motorola",Fe="Opera",Te="Samsung",Oe="Sony",pt="Xiaomi",Ye="Zebra",qt="Facebook",jt="Chromium OS",z=function(Ft){for(var Jt={},je=0;je<Ft.length;je++)Jt[Ft[je].toUpperCase()]=Ft[je];return Jt},Y=function(Ft,Jt){return typeof Ft===T&&-1!==Z(Jt).indexOf(Z(Ft))},Z=function(Ft){return Ft.toLowerCase()},we=function(Ft,Jt){if(typeof Ft===T)return Ft=Ft.replace(/^\s\s*/,""),typeof Jt===u?Ft:Ft.substring(0,500)},at=function(Ft,Jt){for(var ce,X,oe,Ve,tt,gt,je=0;je<Jt.length&&!tt;){var Bt=Jt[je],cn=Jt[je+1];for(ce=X=0;ce<Bt.length&&!tt&&Bt[ce];)if(tt=Bt[ce++].exec(Ft))for(oe=0;oe<cn.length;oe++)gt=tt[++X],typeof(Ve=cn[oe])===f&&Ve.length>0?2===Ve.length?this[Ve[0]]=typeof Ve[1]==m?Ve[1].call(this,gt):Ve[1]:3===Ve.length?this[Ve[0]]=typeof Ve[1]!==m||Ve[1].exec&&Ve[1].test?gt?gt.replace(Ve[1],Ve[2]):y:gt?Ve[1].call(this,gt,Ve[2]):y:4===Ve.length&&(this[Ve[0]]=gt?Ve[3].call(this,gt.replace(Ve[1],Ve[2])):y):this[Ve]=gt||y;je+=2}},Be=function(Ft,Jt){for(var je in Jt)if(typeof Jt[je]===f&&Jt[je].length>0){for(var ce=0;ce<Jt[je].length;ce++)if(Y(Jt[je][ce],Ft))return"?"===je?y:je}else if(Y(Jt[je],Ft))return"?"===je?y:je;return Ft},Pt={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},mt={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[N,[b,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[N,[b,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[b,N],[/opios[\/ ]+([\w\.]+)/i],[N,[b,Fe+" Mini"]],[/\bopr\/([\w\.]+)/i],[N,[b,Fe]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[N,[b,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[b,N],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[N,[b,"UC"+K]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[N,[b,"WeChat"]],[/konqueror\/([\w\.]+)/i],[N,[b,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[N,[b,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[N,[b,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[N,[b,"Smart Lenovo "+K]],[/(avast|avg)\/([\w\.]+)/i],[[b,/(.+)/,"$1 Secure "+K],N],[/\bfocus\/([\w\.]+)/i],[N,[b,De+" Focus"]],[/\bopt\/([\w\.]+)/i],[N,[b,Fe+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[N,[b,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[N,[b,"Dolphin"]],[/coast\/([\w\.]+)/i],[N,[b,Fe+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[N,[b,"MIUI "+K]],[/fxios\/([-\w\.]+)/i],[N,[b,De]],[/\bqihu|(qi?ho?o?|360)browser/i],[[b,"360 "+K]],[/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i],[[b,/(.+)/,"$1 "+K],N],[/samsungbrowser\/([\w\.]+)/i],[N,[b,Te+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[b,/_/g," "],N],[/metasr[\/ ]?([\d\.]+)/i],[N,[b,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[b,"Sogou Mobile"],N],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[b,N],[/(lbbrowser)/i,/\[(linkedin)app\]/i],[b],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[b,qt],N],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[b,N],[/\bgsa\/([\w\.]+) .*safari\//i],[N,[b,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[N,[b,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[N,[b,me+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[b,me+" WebView"],N],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[N,[b,"Android "+K]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[b,N],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[N,[b,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[N,b],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[b,[N,Be,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[b,N],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[b,"Netscape"],N],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[N,[b,De+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[b,N],[/(cobalt)\/([\w\.]+)/i],[b,[N,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[G,"amd64"]],[/(ia32(?=;))/i],[[G,Z]],[/((?:i[346]|x)86)[;\)]/i],[[G,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[G,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[G,"armhf"]],[/windows (ce|mobile); ppc;/i],[[G,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[G,/ower/,"",Z]],[/(sun4\w)[;\)]/i],[[G,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[G,Z]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[F,[k,Te],[M,U]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[F,[k,Te],[M,j]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[F,[k,q],[M,j]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[F,[k,q],[M,U]],[/(macintosh);/i],[F,[k,q]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[F,[k,"Sharp"],[M,j]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[F,[k,"Huawei"],[M,U]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[F,[k,"Huawei"],[M,j]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[F,/_/g," "],[k,pt],[M,j]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[F,/_/g," "],[k,pt],[M,U]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[F,[k,"OPPO"],[M,j]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[F,[k,"Vivo"],[M,j]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[F,[k,"Realme"],[M,j]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[F,[k,le],[M,j]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[F,[k,le],[M,U]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[F,[k,"LG"],[M,U]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[F,[k,"LG"],[M,j]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[F,[k,"Lenovo"],[M,U]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[F,/_/g," "],[k,"Nokia"],[M,j]],[/(pixel c)\b/i],[F,[k,xe],[M,U]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[F,[k,xe],[M,j]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[F,[k,Oe],[M,j]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[F,"Xperia Tablet"],[k,Oe],[M,U]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[F,[k,"OnePlus"],[M,j]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[F,[k,J],[M,U]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[F,/(.+)/g,"Fire Phone $1"],[k,J],[M,j]],[/(playbook);[-\w\),; ]+(rim)/i],[F,k,[M,U]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[F,[k,re],[M,j]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[F,[k,S],[M,U]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[F,[k,S],[M,j]],[/(nexus 9)/i],[F,[k,"HTC"],[M,U]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[k,[F,/_/g," "],[M,j]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[F,[k,"Acer"],[M,U]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[F,[k,"Meizu"],[M,j]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[F,[k,"Ulefone"],[M,j]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[k,F,[M,j]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[k,F,[M,U]],[/(surface duo)/i],[F,[k,be],[M,U]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[F,[k,"Fairphone"],[M,j]],[/(u304aa)/i],[F,[k,"AT&T"],[M,j]],[/\bsie-(\w*)/i],[F,[k,"Siemens"],[M,j]],[/\b(rct\w+) b/i],[F,[k,"RCA"],[M,U]],[/\b(venue[\d ]{2,7}) b/i],[F,[k,"Dell"],[M,U]],[/\b(q(?:mv|ta)\w+) b/i],[F,[k,"Verizon"],[M,U]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[F,[k,"Barnes & Noble"],[M,U]],[/\b(tm\d{3}\w+) b/i],[F,[k,"NuVision"],[M,U]],[/\b(k88) b/i],[F,[k,"ZTE"],[M,U]],[/\b(nx\d{3}j) b/i],[F,[k,"ZTE"],[M,j]],[/\b(gen\d{3}) b.+49h/i],[F,[k,"Swiss"],[M,j]],[/\b(zur\d{3}) b/i],[F,[k,"Swiss"],[M,U]],[/\b((zeki)?tb.*\b) b/i],[F,[k,"Zeki"],[M,U]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[k,"Dragon Touch"],F,[M,U]],[/\b(ns-?\w{0,9}) b/i],[F,[k,"Insignia"],[M,U]],[/\b((nxa|next)-?\w{0,9}) b/i],[F,[k,"NextBook"],[M,U]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[k,"Voice"],F,[M,j]],[/\b(lvtel\-)?(v1[12]) b/i],[[k,"LvTel"],F,[M,j]],[/\b(ph-1) /i],[F,[k,"Essential"],[M,j]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[F,[k,"Envizen"],[M,U]],[/\b(trio[-\w\. ]+) b/i],[F,[k,"MachSpeed"],[M,U]],[/\btu_(1491) b/i],[F,[k,"Rotor"],[M,U]],[/(shield[\w ]+) b/i],[F,[k,"Nvidia"],[M,U]],[/(sprint) (\w+)/i],[k,F,[M,j]],[/(kin\.[onetw]{3})/i],[[F,/\./g," "],[k,be],[M,j]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[F,[k,Ye],[M,U]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[F,[k,Ye],[M,j]],[/smart-tv.+(samsung)/i],[k,[M,$]],[/hbbtv.+maple;(\d+)/i],[[F,/^/,"SmartTV"],[k,Te],[M,$]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[k,"LG"],[M,$]],[/(apple) ?tv/i],[k,[F,q+" TV"],[M,$]],[/crkey/i],[[F,me+"cast"],[k,xe],[M,$]],[/droid.+aft(\w+)( bui|\))/i],[F,[k,J],[M,$]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[F,[k,"Sharp"],[M,$]],[/(bravia[\w ]+)( bui|\))/i],[F,[k,Oe],[M,$]],[/(mitv-\w{5}) bui/i],[F,[k,pt],[M,$]],[/Hbbtv.*(technisat) (.*);/i],[k,F,[M,$]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[k,we],[F,we],[M,$]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[M,$]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[k,F,[M,R]],[/droid.+; (shield) bui/i],[F,[k,"Nvidia"],[M,R]],[/(playstation [345portablevi]+)/i],[F,[k,Oe],[M,R]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[F,[k,be],[M,R]],[/((pebble))app/i],[k,F,[M,ie]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[F,[k,q],[M,ie]],[/droid.+; (glass) \d/i],[F,[k,xe],[M,ie]],[/droid.+; (wt63?0{2,3})\)/i],[F,[k,Ye],[M,ie]],[/(quest( 2| pro)?)/i],[F,[k,qt],[M,ie]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[k,[M,se]],[/(aeobc)\b/i],[F,[k,J],[M,se]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[F,[M,j]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[F,[M,U]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[M,U]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[M,j]],[/(android[-\w\. ]{0,9});.+buil/i],[F,[k,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[N,[b,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[N,[b,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[b,N],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[N,b]],os:[[/microsoft (windows) (vista|xp)/i],[b,N],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[b,[N,Be,Pt]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[N,Be,Pt],[b,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[N,/_/g,"."],[b,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[b,"Mac OS"],[N,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[N,b],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[b,N],[/\(bb(10);/i],[N,[b,re]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[N,[b,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[N,[b,De+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[N,[b,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[N,[b,"watchOS"]],[/crkey\/([\d\.]+)/i],[N,[b,me+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[b,jt],N],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[b,N],[/(sunos) ?([\w\.\d]*)/i],[[b,"Solaris"],N],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[b,N]]},it=function(Ft,Jt){if(typeof Ft===f&&(Jt=Ft,Ft=y),!(this instanceof it))return new it(Ft,Jt).getResult();var je=typeof e!==u&&e.navigator?e.navigator:y,ce=Ft||(je&&je.userAgent?je.userAgent:""),X=je&&je.userAgentData?je.userAgentData:y,oe=Jt?function(Ft,Jt){var je={};for(var ce in Ft)je[ce]=Jt[ce]&&Jt[ce].length%2==0?Jt[ce].concat(Ft[ce]):Ft[ce];return je}(mt,Jt):mt,Ve=je&&je.userAgent==ce;return this.getBrowser=function(){var tt={};return tt[b]=y,tt[N]=y,at.call(tt,ce,oe.browser),tt[O]=function(Ft){return typeof Ft===T?Ft.replace(/[^\d\.]/g,"").split(".")[0]:y}(tt[N]),Ve&&je&&je.brave&&typeof je.brave.isBrave==m&&(tt[b]="Brave"),tt},this.getCPU=function(){var tt={};return tt[G]=y,at.call(tt,ce,oe.cpu),tt},this.getDevice=function(){var tt={};return tt[k]=y,tt[F]=y,tt[M]=y,at.call(tt,ce,oe.device),Ve&&!tt[M]&&X&&X.mobile&&(tt[M]=j),Ve&&"Macintosh"==tt[F]&&je&&typeof je.standalone!==u&&je.maxTouchPoints&&je.maxTouchPoints>2&&(tt[F]="iPad",tt[M]=U),tt},this.getEngine=function(){var tt={};return tt[b]=y,tt[N]=y,at.call(tt,ce,oe.engine),tt},this.getOS=function(){var tt={};return tt[b]=y,tt[N]=y,at.call(tt,ce,oe.os),Ve&&!tt[b]&&X&&"Unknown"!=X.platform&&(tt[b]=X.platform.replace(/chrome os/i,jt).replace(/macos/i,"Mac OS")),tt},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return ce},this.setUA=function(tt){return ce=typeof tt===T&&tt.length>500?we(tt,500):tt,this},this.setUA(ce),this};it.VERSION="1.0.37",it.BROWSER=z([b,N,O]),it.CPU=z([G]),it.DEVICE=z([F,k,M,R,j,$,U,ie,se]),it.ENGINE=it.OS=z([b,N]),typeof fe!==u?(nt.exports&&(fe=nt.exports=it),fe.UAParser=it):h.amdO?(n=function(){return it}.call(fe,h,fe,nt))!==y&&(nt.exports=n):typeof e!==u&&(e.UAParser=it);var Kt=typeof e!==u&&(e.jQuery||e.Zepto);if(Kt&&!Kt.ua){var sn=new it;Kt.ua=sn.getResult(),Kt.ua.get=function(){return sn.getUA()},Kt.ua.set=function(Ft){sn.setUA(Ft);var Jt=sn.getResult();for(var je in Jt)Kt.ua[je]=Jt[je]}}}("object"==typeof window?window:this)},5568:function(nt,fe){!function(h){"use strict";function n(){for(var Mt=arguments.length,ht=Array(Mt),xt=0;xt<Mt;xt++)ht[xt]=arguments[xt];if(ht.length>1){ht[0]=ht[0].slice(0,-1);for(var $t=ht.length-1,nn=1;nn<$t;++nn)ht[nn]=ht[nn].slice(1,-1);return ht[$t]=ht[$t].slice(1),ht.join("")}return ht[0]}function e(Mt){return"(?:"+Mt+")"}function y(Mt){return void 0===Mt?"undefined":null===Mt?"null":Object.prototype.toString.call(Mt).split(" ").pop().split("]").shift().toLowerCase()}function p(Mt){return Mt.toUpperCase()}function m(Mt){var ht="[A-Za-z]",$t="[0-9]",vn=n($t,"[A-Fa-f]"),In=e(e("%[EFef]"+vn+"%"+vn+vn+"%"+vn+vn)+"|"+e("%[89A-Fa-f]"+vn+"%"+vn+vn)+"|"+e("%"+vn+vn)),ci="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",pi=n("[\\:\\/\\?\\#\\[\\]\\@]",ci),Oi=Mt?"[\\uE000-\\uF8FF]":"[]",Xn=n(ht,$t,"[\\-\\.\\_\\~]",Mt?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),wi=e(ht+n(ht,$t,"[\\+\\-\\.]")+"*"),mi=e(e(In+"|"+n(Xn,ci,"[\\:]"))+"*"),ji=(e(e("25[0-5]")+"|"+e("2[0-4]"+$t)+"|"+e("1"+$t+$t)+"|"+e("[1-9]"+$t)+"|"+$t),e(e("25[0-5]")+"|"+e("2[0-4]"+$t)+"|"+e("1"+$t+$t)+"|"+e("0?[1-9]"+$t)+"|0?0?"+$t)),Ei=e(ji+"\\."+ji+"\\."+ji+"\\."+ji),qe=e(vn+"{1,4}"),At=e(e(qe+"\\:"+qe)+"|"+Ei),We=e(e(qe+"\\:")+"{6}"+At),zt=e("\\:\\:"+e(qe+"\\:")+"{5}"+At),ct=e(e(qe)+"?\\:\\:"+e(qe+"\\:")+"{4}"+At),Yt=e(e(e(qe+"\\:")+"{0,1}"+qe)+"?\\:\\:"+e(qe+"\\:")+"{3}"+At),Xe=e(e(e(qe+"\\:")+"{0,2}"+qe)+"?\\:\\:"+e(qe+"\\:")+"{2}"+At),Zt=e(e(e(qe+"\\:")+"{0,3}"+qe)+"?\\:\\:"+qe+"\\:"+At),ut=e(e(e(qe+"\\:")+"{0,4}"+qe)+"?\\:\\:"+At),_e=e(e(e(qe+"\\:")+"{0,5}"+qe)+"?\\:\\:"+qe),Ie=e(e(e(qe+"\\:")+"{0,6}"+qe)+"?\\:\\:"),ye=e([We,zt,ct,Yt,Xe,Zt,ut,_e,Ie].join("|")),ft=e(e(Xn+"|"+In)+"+"),Tt=(e(ye+"\\%25"+ft),e(ye+e("\\%25|\\%(?!"+vn+"{2})")+ft)),vt=e("[vV]"+vn+"+\\."+n(Xn,ci,"[\\:]")+"+"),Xt=e("\\["+e(Tt+"|"+ye+"|"+vt)+"\\]"),Vn=e(e(In+"|"+n(Xn,ci))+"*"),ri=e(Xt+"|"+Ei+"(?!"+Vn+")|"+Vn),vi=e($t+"*"),ti=e(e(mi+"@")+"?"+ri+e("\\:"+vi)+"?"),Ui=e(In+"|"+n(Xn,ci,"[\\:\\@]")),hr=e(Ui+"*"),Hn=e(Ui+"+"),si=e(e(In+"|"+n(Xn,ci,"[\\@]"))+"+"),ar=e(e("\\/"+hr)+"*"),Ai=e("\\/"+e(Hn+ar)+"?"),kr=e(si+ar),Qs=e(Hn+ar),ys="(?!"+Ui+")",yi=(e(ar+"|"+Ai+"|"+kr+"|"+Qs+"|"+ys),e(e(Ui+"|"+n("[\\/\\?]",Oi))+"*")),Gs=e(e(Ui+"|[\\/\\?]")+"*"),_s=e(e("\\/\\/"+ti+ar)+"|"+Ai+"|"+Qs+"|"+ys),Tr=e(wi+"\\:"+_s+e("\\?"+yi)+"?"+e("\\#"+Gs)+"?"),Ls=e(e("\\/\\/"+ti+ar)+"|"+Ai+"|"+kr+"|"+ys),_r=e(Ls+e("\\?"+yi)+"?"+e("\\#"+Gs)+"?");return e(Tr+"|"+_r),e(wi+"\\:"+_s+e("\\?"+yi)+"?"),e(e("\\/\\/("+e("("+mi+")@")+"?("+ri+")"+e("\\:("+vi+")")+"?)")+"?("+ar+"|"+Ai+"|"+Qs+"|"+ys+")"),e("\\?("+yi+")"),e("\\#("+Gs+")"),e(e("\\/\\/("+e("("+mi+")@")+"?("+ri+")"+e("\\:("+vi+")")+"?)")+"?("+ar+"|"+Ai+"|"+kr+"|"+ys+")"),e("\\?("+yi+")"),e("\\#("+Gs+")"),e(e("\\/\\/("+e("("+mi+")@")+"?("+ri+")"+e("\\:("+vi+")")+"?)")+"?("+ar+"|"+Ai+"|"+Qs+"|"+ys+")"),e("\\?("+yi+")"),e("\\#("+Gs+")"),e("("+mi+")@"),e("\\:("+vi+")"),{NOT_SCHEME:new RegExp(n("[^]",ht,$t,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(n("[^\\%\\:]",Xn,ci),"g"),NOT_HOST:new RegExp(n("[^\\%\\[\\]\\:]",Xn,ci),"g"),NOT_PATH:new RegExp(n("[^\\%\\/\\:\\@]",Xn,ci),"g"),NOT_PATH_NOSCHEME:new RegExp(n("[^\\%\\/\\@]",Xn,ci),"g"),NOT_QUERY:new RegExp(n("[^\\%]",Xn,ci,"[\\:\\@\\/\\?]",Oi),"g"),NOT_FRAGMENT:new RegExp(n("[^\\%]",Xn,ci,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(n("[^]",Xn,ci),"g"),UNRESERVED:new RegExp(Xn,"g"),OTHER_CHARS:new RegExp(n("[^\\%]",Xn,pi),"g"),PCT_ENCODED:new RegExp(In,"g"),IPV4ADDRESS:new RegExp("^("+Ei+")$"),IPV6ADDRESS:new RegExp("^\\[?("+ye+")"+e(e("\\%25|\\%(?!"+vn+"{2})")+"("+ft+")")+"?\\]?$")}}var u=m(!1),f=m(!0),T=function(){return function(ht,xt){if(Array.isArray(ht))return ht;if(Symbol.iterator in Object(ht))return function Mt(ht,xt){var $t=[],nn=!0,vn=!1,gn=void 0;try{for(var In,Yn=ht[Symbol.iterator]();!(nn=(In=Yn.next()).done)&&($t.push(In.value),!xt||$t.length!==xt);nn=!0);}catch(mn){vn=!0,gn=mn}finally{try{!nn&&Yn.return&&Yn.return()}finally{if(vn)throw gn}}return $t}(ht,xt);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),F=2147483647,b=36,$=/^xn--/,ie=/[^\0-\x7E]/,se=/[\x2E\u3002\uFF0E\uFF61]/g,L={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},q=Math.floor,S=String.fromCharCode;function re(Mt){throw new RangeError(L[Mt])}function me(Mt,ht){var xt=Mt.split("@"),$t="";return xt.length>1&&($t=xt[0]+"@",Mt=xt[1]),$t+function K(Mt,ht){for(var xt=[],$t=Mt.length;$t--;)xt[$t]=ht(Mt[$t]);return xt}((Mt=Mt.replace(se,".")).split("."),ht).join(".")}function Ne(Mt){for(var ht=[],xt=0,$t=Mt.length;xt<$t;){var nn=Mt.charCodeAt(xt++);if(nn>=55296&&nn<=56319&&xt<$t){var vn=Mt.charCodeAt(xt++);56320==(64512&vn)?ht.push(((1023&nn)<<10)+(1023&vn)+65536):(ht.push(nn),xt--)}else ht.push(nn)}return ht}var xe=function(ht){return ht-48<10?ht-22:ht-65<26?ht-65:ht-97<26?ht-97:b},Qe=function(ht,xt){return ht+22+75*(ht<26)-((0!=xt)<<5)},Se=function(ht,xt,$t){var nn=0;for(ht=$t?q(ht/700):ht>>1,ht+=q(ht/xt);ht>455;nn+=b)ht=q(ht/35);return q(nn+36*ht/(ht+38))},be=function(ht){var xt=[],$t=ht.length,nn=0,vn=128,gn=72,Yn=ht.lastIndexOf("-");Yn<0&&(Yn=0);for(var In=0;In<Yn;++In)ht.charCodeAt(In)>=128&&re("not-basic"),xt.push(ht.charCodeAt(In));for(var mn=Yn>0?Yn+1:0;mn<$t;){for(var ci=nn,pi=1,ei=b;;ei+=b){mn>=$t&&re("invalid-input");var Oi=xe(ht.charCodeAt(mn++));(Oi>=b||Oi>q((F-nn)/pi))&&re("overflow"),nn+=Oi*pi;var Xn=ei<=gn?1:ei>=gn+26?26:ei-gn;if(Oi<Xn)break;var wi=b-Xn;pi>q(F/wi)&&re("overflow"),pi*=wi}var mi=xt.length+1;gn=Se(nn-ci,mi,0==ci),q(nn/mi)>F-vn&&re("overflow"),vn+=q(nn/mi),nn%=mi,xt.splice(nn++,0,vn)}return String.fromCodePoint.apply(String,xt)},le=function(ht){var xt=[],$t=(ht=Ne(ht)).length,nn=128,vn=0,gn=72,Yn=!0,In=!1,mn=void 0;try{for(var pi,ci=ht[Symbol.iterator]();!(Yn=(pi=ci.next()).done);Yn=!0){var ei=pi.value;ei<128&&xt.push(S(ei))}}catch(Tt){In=!0,mn=Tt}finally{try{!Yn&&ci.return&&ci.return()}finally{if(In)throw mn}}var Oi=xt.length,Xn=Oi;for(Oi&&xt.push("-");Xn<$t;){var wi=F,mi=!0,Hi=!1,ji=void 0;try{for(var qe,Ei=ht[Symbol.iterator]();!(mi=(qe=Ei.next()).done);mi=!0){var At=qe.value;At>=nn&&At<wi&&(wi=At)}}catch(Tt){Hi=!0,ji=Tt}finally{try{!mi&&Ei.return&&Ei.return()}finally{if(Hi)throw ji}}var We=Xn+1;wi-nn>q((F-vn)/We)&&re("overflow"),vn+=(wi-nn)*We,nn=wi;var zt=!0,ct=!1,Yt=void 0;try{for(var Zt,Xe=ht[Symbol.iterator]();!(zt=(Zt=Xe.next()).done);zt=!0){var ut=Zt.value;if(ut<nn&&++vn>F&&re("overflow"),ut==nn){for(var _e=vn,Ie=b;;Ie+=b){var ye=Ie<=gn?1:Ie>=gn+26?26:Ie-gn;if(_e<ye)break;var ft=_e-ye,ze=b-ye;xt.push(S(Qe(ye+ft%ze,0))),_e=q(ft/ze)}xt.push(S(Qe(_e,0))),gn=Se(vn,We,Xn==Oi),vn=0,++Xn}}}catch(Tt){ct=!0,Yt=Tt}finally{try{!zt&&Xe.return&&Xe.return()}finally{if(ct)throw Yt}}++vn,++nn}return xt.join("")},st={version:"2.1.0",ucs2:{decode:Ne,encode:function(ht){return String.fromCodePoint.apply(String,function(Mt){if(Array.isArray(Mt)){for(var ht=0,xt=Array(Mt.length);ht<Mt.length;ht++)xt[ht]=Mt[ht];return xt}return Array.from(Mt)}(ht))}},decode:be,encode:le,toASCII:function(ht){return me(ht,function(xt){return ie.test(xt)?"xn--"+le(xt):xt})},toUnicode:function(ht){return me(ht,function(xt){return $.test(xt)?be(xt.slice(4).toLowerCase()):xt})}},Oe={};function pt(Mt){var ht=Mt.charCodeAt(0);return ht<16?"%0"+ht.toString(16).toUpperCase():ht<128?"%"+ht.toString(16).toUpperCase():ht<2048?"%"+(ht>>6|192).toString(16).toUpperCase()+"%"+(63&ht|128).toString(16).toUpperCase():"%"+(ht>>12|224).toString(16).toUpperCase()+"%"+(ht>>6&63|128).toString(16).toUpperCase()+"%"+(63&ht|128).toString(16).toUpperCase()}function Ye(Mt){for(var ht="",xt=0,$t=Mt.length;xt<$t;){var nn=parseInt(Mt.substr(xt+1,2),16);if(nn<128)ht+=String.fromCharCode(nn),xt+=3;else if(nn>=194&&nn<224){if($t-xt>=6){var vn=parseInt(Mt.substr(xt+4,2),16);ht+=String.fromCharCode((31&nn)<<6|63&vn)}else ht+=Mt.substr(xt,6);xt+=6}else if(nn>=224){if($t-xt>=9){var gn=parseInt(Mt.substr(xt+4,2),16),Yn=parseInt(Mt.substr(xt+7,2),16);ht+=String.fromCharCode((15&nn)<<12|(63&gn)<<6|63&Yn)}else ht+=Mt.substr(xt,9);xt+=9}else ht+=Mt.substr(xt,3),xt+=3}return ht}function qt(Mt,ht){function xt($t){var nn=Ye($t);return nn.match(ht.UNRESERVED)?nn:$t}return Mt.scheme&&(Mt.scheme=String(Mt.scheme).replace(ht.PCT_ENCODED,xt).toLowerCase().replace(ht.NOT_SCHEME,"")),void 0!==Mt.userinfo&&(Mt.userinfo=String(Mt.userinfo).replace(ht.PCT_ENCODED,xt).replace(ht.NOT_USERINFO,pt).replace(ht.PCT_ENCODED,p)),void 0!==Mt.host&&(Mt.host=String(Mt.host).replace(ht.PCT_ENCODED,xt).toLowerCase().replace(ht.NOT_HOST,pt).replace(ht.PCT_ENCODED,p)),void 0!==Mt.path&&(Mt.path=String(Mt.path).replace(ht.PCT_ENCODED,xt).replace(Mt.scheme?ht.NOT_PATH:ht.NOT_PATH_NOSCHEME,pt).replace(ht.PCT_ENCODED,p)),void 0!==Mt.query&&(Mt.query=String(Mt.query).replace(ht.PCT_ENCODED,xt).replace(ht.NOT_QUERY,pt).replace(ht.PCT_ENCODED,p)),void 0!==Mt.fragment&&(Mt.fragment=String(Mt.fragment).replace(ht.PCT_ENCODED,xt).replace(ht.NOT_FRAGMENT,pt).replace(ht.PCT_ENCODED,p)),Mt}function jt(Mt){return Mt.replace(/^0*(.*)/,"$1")||"0"}function Dt(Mt,ht){var xt=Mt.match(ht.IPV4ADDRESS)||[],nn=T(xt,2)[1];return nn?nn.split(".").map(jt).join("."):Mt}function wt(Mt,ht){var xt=Mt.match(ht.IPV6ADDRESS)||[],$t=T(xt,3),nn=$t[1],vn=$t[2];if(nn){for(var gn=nn.toLowerCase().split("::").reverse(),Yn=T(gn,2),In=Yn[0],mn=Yn[1],ci=mn?mn.split(":").map(jt):[],pi=In.split(":").map(jt),ei=ht.IPV4ADDRESS.test(pi[pi.length-1]),Oi=ei?7:8,Xn=pi.length-Oi,wi=Array(Oi),mi=0;mi<Oi;++mi)wi[mi]=ci[mi]||pi[Xn+mi]||"";ei&&(wi[Oi-1]=Dt(wi[Oi-1],ht));var ji=wi.reduce(function(We,zt,ct){if(!zt||"0"===zt){var Yt=We[We.length-1];Yt&&Yt.index+Yt.length===ct?Yt.length++:We.push({index:ct,length:1})}return We},[]).sort(function(We,zt){return zt.length-We.length})[0],Ei=void 0;if(ji&&ji.length>1){var qe=wi.slice(0,ji.index),At=wi.slice(ji.index+ji.length);Ei=qe.join(":")+"::"+At.join(":")}else Ei=wi.join(":");return vn&&(Ei+="%"+vn),Ei}return Mt}var z=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Y=void 0==="".match(/(){0}/)[1];function Z(Mt){var ht=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},xt={},$t=!1!==ht.iri?f:u;"suffix"===ht.reference&&(Mt=(ht.scheme?ht.scheme+":":"")+"//"+Mt);var nn=Mt.match(z);if(nn){Y?(xt.scheme=nn[1],xt.userinfo=nn[3],xt.host=nn[4],xt.port=parseInt(nn[5],10),xt.path=nn[6]||"",xt.query=nn[7],xt.fragment=nn[8],isNaN(xt.port)&&(xt.port=nn[5])):(xt.scheme=nn[1]||void 0,xt.userinfo=-1!==Mt.indexOf("@")?nn[3]:void 0,xt.host=-1!==Mt.indexOf("//")?nn[4]:void 0,xt.port=parseInt(nn[5],10),xt.path=nn[6]||"",xt.query=-1!==Mt.indexOf("?")?nn[7]:void 0,xt.fragment=-1!==Mt.indexOf("#")?nn[8]:void 0,isNaN(xt.port)&&(xt.port=Mt.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?nn[4]:void 0)),xt.host&&(xt.host=wt(Dt(xt.host,$t),$t)),xt.reference=void 0!==xt.scheme||void 0!==xt.userinfo||void 0!==xt.host||void 0!==xt.port||xt.path||void 0!==xt.query?void 0===xt.scheme?"relative":void 0===xt.fragment?"absolute":"uri":"same-document",ht.reference&&"suffix"!==ht.reference&&ht.reference!==xt.reference&&(xt.error=xt.error||"URI is not a "+ht.reference+" reference.");var vn=Oe[(ht.scheme||xt.scheme||"").toLowerCase()];if(ht.unicodeSupport||vn&&vn.unicodeSupport)qt(xt,$t);else{if(xt.host&&(ht.domainHost||vn&&vn.domainHost))try{xt.host=st.toASCII(xt.host.replace($t.PCT_ENCODED,Ye).toLowerCase())}catch(gn){xt.error=xt.error||"Host's domain name can not be converted to ASCII via punycode: "+gn}qt(xt,u)}vn&&vn.parse&&vn.parse(xt,ht)}else xt.error=xt.error||"URI can not be parsed.";return xt}var we=/^\.\.?\//,at=/^\/\.(\/|$)/,Be=/^\/\.\.(\/|$)/,ot=/^\/?(?:.|\n)*?(?=\/|$)/;function Pt(Mt){for(var ht=[];Mt.length;)if(Mt.match(we))Mt=Mt.replace(we,"");else if(Mt.match(at))Mt=Mt.replace(at,"/");else if(Mt.match(Be))Mt=Mt.replace(Be,"/"),ht.pop();else if("."===Mt||".."===Mt)Mt="";else{var xt=Mt.match(ot);if(!xt)throw new Error("Unexpected dot segment condition");var $t=xt[0];Mt=Mt.slice($t.length),ht.push($t)}return ht.join("")}function mt(Mt){var ht=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},xt=ht.iri?f:u,$t=[],nn=Oe[(ht.scheme||Mt.scheme||"").toLowerCase()];if(nn&&nn.serialize&&nn.serialize(Mt,ht),Mt.host&&!xt.IPV6ADDRESS.test(Mt.host)&&(ht.domainHost||nn&&nn.domainHost))try{Mt.host=ht.iri?st.toUnicode(Mt.host):st.toASCII(Mt.host.replace(xt.PCT_ENCODED,Ye).toLowerCase())}catch(Yn){Mt.error=Mt.error||"Host's domain name can not be converted to "+(ht.iri?"Unicode":"ASCII")+" via punycode: "+Yn}qt(Mt,xt),"suffix"!==ht.reference&&Mt.scheme&&($t.push(Mt.scheme),$t.push(":"));var vn=function Ce(Mt,ht){var xt=!1!==ht.iri?f:u,$t=[];return void 0!==Mt.userinfo&&($t.push(Mt.userinfo),$t.push("@")),void 0!==Mt.host&&$t.push(wt(Dt(String(Mt.host),xt),xt).replace(xt.IPV6ADDRESS,function(nn,vn,gn){return"["+vn+(gn?"%25"+gn:"")+"]"})),("number"==typeof Mt.port||"string"==typeof Mt.port)&&($t.push(":"),$t.push(String(Mt.port))),$t.length?$t.join(""):void 0}(Mt,ht);if(void 0!==vn&&("suffix"!==ht.reference&&$t.push("//"),$t.push(vn),Mt.path&&"/"!==Mt.path.charAt(0)&&$t.push("/")),void 0!==Mt.path){var gn=Mt.path;!ht.absolutePath&&(!nn||!nn.absolutePath)&&(gn=Pt(gn)),void 0===vn&&(gn=gn.replace(/^\/\//,"/%2F")),$t.push(gn)}return void 0!==Mt.query&&($t.push("?"),$t.push(Mt.query)),void 0!==Mt.fragment&&($t.push("#"),$t.push(Mt.fragment)),$t.join("")}function it(Mt,ht){var xt=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},nn={};return arguments[3]||(Mt=Z(mt(Mt,xt),xt),ht=Z(mt(ht,xt),xt)),!(xt=xt||{}).tolerant&&ht.scheme?(nn.scheme=ht.scheme,nn.userinfo=ht.userinfo,nn.host=ht.host,nn.port=ht.port,nn.path=Pt(ht.path||""),nn.query=ht.query):(void 0!==ht.userinfo||void 0!==ht.host||void 0!==ht.port?(nn.userinfo=ht.userinfo,nn.host=ht.host,nn.port=ht.port,nn.path=Pt(ht.path||""),nn.query=ht.query):(ht.path?("/"===ht.path.charAt(0)?nn.path=Pt(ht.path):(nn.path=void 0===Mt.userinfo&&void 0===Mt.host&&void 0===Mt.port||Mt.path?Mt.path?Mt.path.slice(0,Mt.path.lastIndexOf("/")+1)+ht.path:ht.path:"/"+ht.path,nn.path=Pt(nn.path)),nn.query=ht.query):(nn.path=Mt.path,nn.query=void 0!==ht.query?ht.query:Mt.query),nn.userinfo=Mt.userinfo,nn.host=Mt.host,nn.port=Mt.port),nn.scheme=Mt.scheme),nn.fragment=ht.fragment,nn}function je(Mt,ht){return Mt&&Mt.toString().replace(ht&&ht.iri?f.PCT_ENCODED:u.PCT_ENCODED,Ye)}var ce={scheme:"http",domainHost:!0,parse:function(ht,xt){return ht.host||(ht.error=ht.error||"HTTP URIs must have a host."),ht},serialize:function(ht,xt){var $t="https"===String(ht.scheme).toLowerCase();return(ht.port===($t?443:80)||""===ht.port)&&(ht.port=void 0),ht.path||(ht.path="/"),ht}},X={scheme:"https",domainHost:ce.domainHost,parse:ce.parse,serialize:ce.serialize};function oe(Mt){return"boolean"==typeof Mt.secure?Mt.secure:"wss"===String(Mt.scheme).toLowerCase()}var Ve={scheme:"ws",domainHost:!0,parse:function(ht,xt){var $t=ht;return $t.secure=oe($t),$t.resourceName=($t.path||"/")+($t.query?"?"+$t.query:""),$t.path=void 0,$t.query=void 0,$t},serialize:function(ht,xt){if((ht.port===(oe(ht)?443:80)||""===ht.port)&&(ht.port=void 0),"boolean"==typeof ht.secure&&(ht.scheme=ht.secure?"wss":"ws",ht.secure=void 0),ht.resourceName){var $t=ht.resourceName.split("?"),nn=T($t,2),vn=nn[0],gn=nn[1];ht.path=vn&&"/"!==vn?vn:void 0,ht.query=gn,ht.resourceName=void 0}return ht.fragment=void 0,ht}},tt={scheme:"wss",domainHost:Ve.domainHost,parse:Ve.parse,serialize:Ve.serialize},gt={},cn="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",hn="[0-9A-Fa-f]",An=e(e("%[EFef]"+hn+"%"+hn+hn+"%"+hn+hn)+"|"+e("%[89A-Fa-f]"+hn+"%"+hn+hn)+"|"+e("%"+hn+hn)),It=n("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),Gt=new RegExp(cn,"g"),lt=new RegExp(An,"g"),Ct=new RegExp(n("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',It),"g"),yt=new RegExp(n("[^]",cn,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),Ot=yt;function en(Mt){var ht=Ye(Mt);return ht.match(Gt)?ht:Mt}var Sn={scheme:"mailto",parse:function(ht,xt){var $t=ht,nn=$t.to=$t.path?$t.path.split(","):[];if($t.path=void 0,$t.query){for(var vn=!1,gn={},Yn=$t.query.split("&"),In=0,mn=Yn.length;In<mn;++In){var ci=Yn[In].split("=");switch(ci[0]){case"to":for(var pi=ci[1].split(","),ei=0,Oi=pi.length;ei<Oi;++ei)nn.push(pi[ei]);break;case"subject":$t.subject=je(ci[1],xt);break;case"body":$t.body=je(ci[1],xt);break;default:vn=!0,gn[je(ci[0],xt)]=je(ci[1],xt)}}vn&&($t.headers=gn)}$t.query=void 0;for(var Xn=0,wi=nn.length;Xn<wi;++Xn){var mi=nn[Xn].split("@");if(mi[0]=je(mi[0]),xt.unicodeSupport)mi[1]=je(mi[1],xt).toLowerCase();else try{mi[1]=st.toASCII(je(mi[1],xt).toLowerCase())}catch(Hi){$t.error=$t.error||"Email address's domain name can not be converted to ASCII via punycode: "+Hi}nn[Xn]=mi.join("@")}return $t},serialize:function(ht,xt){var $t=ht,nn=function w(Mt){return null!=Mt?Mt instanceof Array?Mt:"number"!=typeof Mt.length||Mt.split||Mt.setInterval||Mt.call?[Mt]:Array.prototype.slice.call(Mt):[]}(ht.to);if(nn){for(var vn=0,gn=nn.length;vn<gn;++vn){var Yn=String(nn[vn]),In=Yn.lastIndexOf("@"),mn=Yn.slice(0,In).replace(lt,en).replace(lt,p).replace(Ct,pt),ci=Yn.slice(In+1);try{ci=xt.iri?st.toUnicode(ci):st.toASCII(je(ci,xt).toLowerCase())}catch(Xn){$t.error=$t.error||"Email address's domain name can not be converted to "+(xt.iri?"Unicode":"ASCII")+" via punycode: "+Xn}nn[vn]=mn+"@"+ci}$t.path=nn.join(",")}var pi=ht.headers=ht.headers||{};ht.subject&&(pi.subject=ht.subject),ht.body&&(pi.body=ht.body);var ei=[];for(var Oi in pi)pi[Oi]!==gt[Oi]&&ei.push(Oi.replace(lt,en).replace(lt,p).replace(yt,pt)+"="+pi[Oi].replace(lt,en).replace(lt,p).replace(Ot,pt));return ei.length&&($t.query=ei.join("&")),$t}},Un=/^([^\:]+)\:(.*)/,fn={scheme:"urn",parse:function(ht,xt){var $t=ht.path&&ht.path.match(Un),nn=ht;if($t){var vn=xt.scheme||nn.scheme||"urn",gn=$t[1].toLowerCase(),Yn=$t[2],mn=Oe[vn+":"+(xt.nid||gn)];nn.nid=gn,nn.nss=Yn,nn.path=void 0,mn&&(nn=mn.parse(nn,xt))}else nn.error=nn.error||"URN can not be parsed.";return nn},serialize:function(ht,xt){var nn=ht.nid,gn=Oe[(xt.scheme||ht.scheme||"urn")+":"+(xt.nid||nn)];gn&&(ht=gn.serialize(ht,xt));var Yn=ht;return Yn.path=(nn||xt.nid)+":"+ht.nss,Yn}},di=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Gn={scheme:"urn:uuid",parse:function(ht,xt){var $t=ht;return $t.uuid=$t.nss,$t.nss=void 0,!xt.tolerant&&(!$t.uuid||!$t.uuid.match(di))&&($t.error=$t.error||"UUID is not valid."),$t},serialize:function(ht,xt){var $t=ht;return $t.nss=(ht.uuid||"").toLowerCase(),$t}};Oe[ce.scheme]=ce,Oe[X.scheme]=X,Oe[Ve.scheme]=Ve,Oe[tt.scheme]=tt,Oe[Sn.scheme]=Sn,Oe[fn.scheme]=fn,Oe[Gn.scheme]=Gn,h.SCHEMES=Oe,h.pctEncChar=pt,h.pctDecChars=Ye,h.parse=Z,h.removeDotSegments=Pt,h.serialize=mt,h.resolveComponents=it,h.resolve=function Kt(Mt,ht,xt){var $t=function C(Mt,ht){var xt=Mt;if(ht)for(var $t in ht)xt[$t]=ht[$t];return xt}({scheme:"null"},xt);return mt(it(Z(Mt,$t),Z(ht,$t),$t,!0),$t)},h.normalize=function sn(Mt,ht){return"string"==typeof Mt?Mt=mt(Z(Mt,ht),ht):"object"===y(Mt)&&(Mt=Z(mt(Mt,ht),ht)),Mt},h.equal=function Ft(Mt,ht,xt){return"string"==typeof Mt?Mt=mt(Z(Mt,xt),xt):"object"===y(Mt)&&(Mt=mt(Mt,xt)),"string"==typeof ht?ht=mt(Z(ht,xt),xt):"object"===y(ht)&&(ht=mt(ht,xt)),Mt===ht},h.escapeComponent=function Jt(Mt,ht){return Mt&&Mt.toString().replace(ht&&ht.iri?f.ESCAPE:u.ESCAPE,pt)},h.unescapeComponent=je,Object.defineProperty(h,"__esModule",{value:!0})}(fe)},1108:function(nt,fe){var h,e;!function(y,p){"use strict";h=function(y){return function(w){w=w||{},function m(){w.arrayAccessForm=w.arrayAccessForm||"none",w.emptyNodeForm=w.emptyNodeForm||"text",w.jsAttributeFilter=w.jsAttributeFilter,w.jsAttributeConverter=w.jsAttributeConverter,w.attributeConverters=w.attributeConverters||[],w.datetimeAccessFormPaths=w.datetimeAccessFormPaths||[],w.arrayAccessFormPaths=w.arrayAccessFormPaths||[],w.xmldomOptions=w.xmldomOptions||{},void 0===w.enableToStringFunc&&(w.enableToStringFunc=!0),void 0===w.skipEmptyTextNodesForObj&&(w.skipEmptyTextNodesForObj=!0),void 0===w.stripWhitespaces&&(w.stripWhitespaces=!0),void 0===w.useDoubleQuotes&&(w.useDoubleQuotes=!0),void 0===w.ignoreRoot&&(w.ignoreRoot=!1),void 0===w.escapeMode&&(w.escapeMode=!0),void 0===w.attributePrefix&&(w.attributePrefix="_"),void 0===w.selfClosingElements&&(w.selfClosingElements=!0),void 0===w.keepCData&&(w.keepCData=!1),void 0===w.keepText&&(w.keepText=!1),void 0===w.jsDateUTC&&(w.jsDateUTC=!1)}(),function u(){function De(xe){var Qe=String(xe);return 1===Qe.length&&(Qe="0"+Qe),Qe}"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|^\n+|(\s|\n)+$/g,"")}),"function"!=typeof Date.prototype.toISOString&&(Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+De(this.getUTCMonth()+1)+"-"+De(this.getUTCDate())+"T"+De(this.getUTCHours())+":"+De(this.getUTCMinutes())+":"+De(this.getUTCSeconds())+"."+String((this.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"})}();var f={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};function T(De){var xe=De.localName;return null==xe&&(xe=De.baseName),(null==xe||""===xe)&&(xe=De.nodeName),xe}function F(De){return"string"==typeof De?De.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"):De}function M(De,xe,Qe){if("property"===w.arrayAccessForm&&(De[xe+"_asArray"]=De[xe]instanceof Array?De[xe]:[De[xe]]),!(De[xe]instanceof Array)&&w.arrayAccessFormPaths.length>0){for(var Se=!1,be=0;be<w.arrayAccessFormPaths.length;be++){var le=w.arrayAccessFormPaths[be];if("string"==typeof le){if(le===Qe){Se=!0;break}}else if(le instanceof RegExp){if(le.test(Qe)){Se=!0;break}}else if("function"==typeof le&&le(xe,Qe)){Se=!0;break}}Se&&(De[xe]=[De[xe]])}}function k(De){var Qe=De.split(/[-T:+Z]/g),Se=new Date(Qe[0],Qe[1]-1,Qe[2]),be=Qe[5].split(".");if(Se.setHours(Qe[3],Qe[4],be[0]),be.length>1&&Se.setMilliseconds(be[1]),Qe[6]&&Qe[7]){var le=60*Qe[6]+Number(Qe[7]);le=0+("-"==(/\d\d-\d\d:\d\d$/.test(De)?"-":"+")?-1*le:le),Se.setMinutes(Se.getMinutes()-le-Se.getTimezoneOffset())}else-1!==De.indexOf("Z",De.length-1)&&(Se=new Date(Date.UTC(Se.getFullYear(),Se.getMonth(),Se.getDate(),Se.getHours(),Se.getMinutes(),Se.getSeconds(),Se.getMilliseconds())));return Se}function R(De,xe){for(var Qe={__cnt:0},Se=De.childNodes,be=0;be<Se.length;be++){var le=Se.item(be),Fe=T(le);le.nodeType!==f.COMMENT_NODE&&(Qe.__cnt++,null==Qe[Fe]?(Qe[Fe]=j(le,xe+"."+Fe),M(Qe,Fe,xe+"."+Fe)):(Qe[Fe]instanceof Array||(Qe[Fe]=[Qe[Fe]],M(Qe,Fe,xe+"."+Fe)),Qe[Fe][Qe[Fe].length]=j(le,xe+"."+Fe)))}for(var Te=0;Te<De.attributes.length;Te++){var st=De.attributes.item(Te);Qe.__cnt++;for(var Oe=st.value,pt=0;pt<w.attributeConverters.length;pt++){var Ye=w.attributeConverters[pt];Ye.test.call(null,st.name,st.value)&&(Oe=Ye.convert.call(null,st.name,st.value))}Qe[w.attributePrefix+st.name]=Oe}var qt=function O(De){return De.prefix}(De);return qt&&(Qe.__cnt++,Qe.__prefix=qt),Qe["#text"]&&(Qe.__text=Qe["#text"],Qe.__text instanceof Array&&(Qe.__text=Qe.__text.join("\n")),w.escapeMode&&(Qe.__text=function b(De){return De.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&amp;/g,"&")}(Qe.__text)),w.stripWhitespaces&&(Qe.__text=Qe.__text.trim()),delete Qe["#text"],"property"===w.arrayAccessForm&&delete Qe["#text_asArray"],Qe.__text=function N(De,xe,Qe){if(w.datetimeAccessFormPaths.length>0)for(var Se=Qe.split(".#")[0],be=0;be<w.datetimeAccessFormPaths.length;be++){var le=w.datetimeAccessFormPaths[be];if("string"==typeof le){if(le===Se)return k(De)}else if(le instanceof RegExp){if(le.test(Se))return k(De)}else if("function"==typeof le&&le(Se))return k(De)}return De}(Qe.__text,0,xe+".#text")),Qe.hasOwnProperty("#cdata-section")&&(Qe.__cdata=Qe["#cdata-section"],delete Qe["#cdata-section"],"property"===w.arrayAccessForm&&delete Qe["#cdata-section_asArray"]),1===Qe.__cnt&&Qe.__text&&!w.keepText?Qe=Qe.__text:0===Qe.__cnt&&"text"===w.emptyNodeForm?Qe="":Qe.__cnt>1&&void 0!==Qe.__text&&w.skipEmptyTextNodesForObj&&(w.stripWhitespaces&&""===Qe.__text||""===Qe.__text.trim())&&delete Qe.__text,delete Qe.__cnt,w.keepCData||Qe.hasOwnProperty("__text")||!Qe.hasOwnProperty("__cdata")||1!==Object.keys(Qe).length?(w.enableToStringFunc&&(Qe.__text||Qe.__cdata)&&(Qe.toString=function(){return(this.__text?this.__text:"")+(this.__cdata?this.__cdata:"")}),Qe):Qe.__cdata?Qe.__cdata:""}function j(De,xe){return De.nodeType===f.DOCUMENT_NODE?function G(De){for(var xe={},Qe=De.childNodes,Se=0;Se<Qe.length;Se++){var be=Qe.item(Se);if(be.nodeType===f.ELEMENT_NODE){var le=T(be);w.ignoreRoot?xe=j(be,le):xe[le]=j(be,le)}}return xe}(De):De.nodeType===f.ELEMENT_NODE?R(De,xe):De.nodeType===f.TEXT_NODE||De.nodeType===f.CDATA_SECTION_NODE?De.nodeValue:null}function U(De,xe,Qe,Se){var be="<"+(De&&De.__prefix?De.__prefix+":":"")+xe;if(Qe)for(var le=0;le<Qe.length;le++){var Fe=Qe[le],Te=De[Fe];w.escapeMode&&(Te=F(Te)),be+=" "+Fe.substr(w.attributePrefix.length)+"=",be+=w.useDoubleQuotes?'"'+Te+'"':"'"+Te+"'"}return be+(Se?" />":">")}function $(De,xe){return"</"+(De&&De.__prefix?De.__prefix+":":"")+xe+">"}function se(De,xe){return!!("property"===w.arrayAccessForm&&function ie(De,xe){return-1!==De.indexOf(xe,De.length-xe.length)}(xe.toString(),"_asArray")||0===xe.toString().indexOf(w.attributePrefix)||0===xe.toString().indexOf("__")||De[xe]instanceof Function)}function L(De){var xe=0;if(De instanceof Object)for(var Qe in De)se(De,Qe)||xe++;return xe}function J(De){var xe=[];if(De instanceof Object)for(var Qe in De)-1===Qe.toString().indexOf("__")&&0===Qe.toString().indexOf(w.attributePrefix)&&xe.push(Qe);return xe}function S(De){var xe="";return De instanceof Object?xe+=function q(De){var xe="";return De.__cdata&&(xe+="<![CDATA["+De.__cdata+"]]>"),(De.__text||"number"==typeof De.__text||"boolean"==typeof De.__text)&&(xe+=w.escapeMode?F(De.__text):De.__text),xe}(De):null!==De&&(xe+=w.escapeMode?F(De):De),xe}function K(De,xe,Qe){var Se="";return w.jsAttributeFilter&&w.jsAttributeFilter.call(null,xe,De)||(w.jsAttributeConverter&&(De=w.jsAttributeConverter.call(null,xe,De)),null!=De&&""!==De||!w.selfClosingElements?"object"==typeof De?"[object Array]"===Object.prototype.toString.call(De)?Se+=function re(De,xe,Qe){var Se="";if(0===De.length)Se+=U(De,xe,Qe,!0);else for(var be=0;be<De.length;be++)Se+=K(De[be],xe,J(De[be]));return Se}(De,xe,Qe):De instanceof Date?(Se+=U(De,xe,Qe,!1),Se+=w.jsDateUTC?De.toUTCString():De.toISOString(),Se+=$(De,xe)):L(De)>0||"number"==typeof De.__text||"boolean"==typeof De.__text||De.__text||De.__cdata?(Se+=U(De,xe,Qe,!1),Se+=me(De),Se+=$(De,xe)):w.selfClosingElements?Se+=U(De,xe,Qe,!0):(Se+=U(De,xe,Qe,!1),Se+=$(De,xe)):(Se+=U(De,xe,Qe,!1),Se+=S(De),Se+=$(De,xe)):Se+=U(De,xe,Qe,!0)),Se}function me(De){var xe="";if(L(De)>0)for(var Se in De)if(!se(De,Se)){var be=De[Se];xe+=K(be,Se,J(be))}return xe+S(De)}function Ne(De){if(void 0===De||"string"!=typeof De)return null;var xe=null,Qe=null;if(y)Qe=(xe=new y(w.xmldomOptions)).parseFromString(De,"text/xml");else if(window&&window.DOMParser){xe=new window.DOMParser;var Se=null;if(!window.ActiveXObject&&!("ActiveXObject"in window)&&document.all&&!document.addEventListener)try{Se=xe.parseFromString("INVALID","text/xml").childNodes[0].namespaceURI}catch{Se=null}try{Qe=xe.parseFromString(De,"text/xml"),null!==Se&&Qe.getElementsByTagNameNS(Se,"parsererror").length>0&&(Qe=null)}catch{Qe=null}}else 0===De.indexOf("<?")&&(De=De.substr(De.indexOf("?>")+2)),(Qe=new ActiveXObject("Microsoft.XMLDOM")).async="false",Qe.loadXML(De);return Qe}this.asArray=function(xe){return null==xe?[]:xe instanceof Array?xe:[xe]},this.toXmlDateTime=function(xe){return xe instanceof Date?xe.toISOString():"number"==typeof xe?new Date(xe).toISOString():null},this.asDateTime=function(xe){return"string"==typeof xe?k(xe):xe},this.xml2dom=function(xe){return Ne(xe)},this.dom2js=function(xe){return j(xe,null)},this.js2dom=function(xe){return Ne(this.js2xml(xe))},this.xml2js=function(xe){var Qe=Ne(xe);return null!=Qe?this.dom2js(Qe):null},this.js2xml=function(xe){return me(xe)},this.getVersion=function(){return"3.4.4"}}},void 0!==(e=h.apply(fe,[]))&&(nt.exports=e)}()},310:()=>{},9969:(nt,fe,h)=>{"use strict";h.d(fe,{FX:()=>q,If:()=>n,K2:()=>C,hZ:()=>y,i0:()=>p,iF:()=>m,kY:()=>T,kp:()=>e,sf:()=>L,ui:()=>J,wk:()=>u});var n=function(S){return S[S.State=0]="State",S[S.Transition=1]="Transition",S[S.Sequence=2]="Sequence",S[S.Group=3]="Group",S[S.Animate=4]="Animate",S[S.Keyframes=5]="Keyframes",S[S.Style=6]="Style",S[S.Trigger=7]="Trigger",S[S.Reference=8]="Reference",S[S.AnimateChild=9]="AnimateChild",S[S.AnimateRef=10]="AnimateRef",S[S.Query=11]="Query",S[S.Stagger=12]="Stagger",S}(n||{});const e="*";function y(S,re){return{type:n.Trigger,name:S,definitions:re,options:{}}}function p(S,re=null){return{type:n.Animate,styles:re,timings:S}}function C(S,re=null){return{type:n.Sequence,steps:S,options:re}}function m(S){return{type:n.Style,styles:S,offset:null}}function u(S,re,K){return{type:n.State,name:S,styles:re,options:K}}function T(S,re,K=null){return{type:n.Transition,expr:S,animation:re,options:K}}class L{constructor(re=0,K=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=re+K}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(re=>re()),this._onDoneFns=[])}onStart(re){this._originalOnStartFns.push(re),this._onStartFns.push(re)}onDone(re){this._originalOnDoneFns.push(re),this._onDoneFns.push(re)}onDestroy(re){this._onDestroyFns.push(re)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(re=>re()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(re=>re()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(re){this._position=this.totalTime?re*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(re){const K="start"==re?this._onStartFns:this._onDoneFns;K.forEach(me=>me()),K.length=0}}class J{constructor(re){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=re;let K=0,me=0,Ne=0;const De=this.players.length;0==De?queueMicrotask(()=>this._onFinish()):this.players.forEach(xe=>{xe.onDone(()=>{++K==De&&this._onFinish()}),xe.onDestroy(()=>{++me==De&&this._onDestroy()}),xe.onStart(()=>{++Ne==De&&this._onStart()})}),this.totalTime=this.players.reduce((xe,Qe)=>Math.max(xe,Qe.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(re=>re()),this._onDoneFns=[])}init(){this.players.forEach(re=>re.init())}onStart(re){this._onStartFns.push(re)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(re=>re()),this._onStartFns=[])}onDone(re){this._onDoneFns.push(re)}onDestroy(re){this._onDestroyFns.push(re)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(re=>re.play())}pause(){this.players.forEach(re=>re.pause())}restart(){this.players.forEach(re=>re.restart())}finish(){this._onFinish(),this.players.forEach(re=>re.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(re=>re.destroy()),this._onDestroyFns.forEach(re=>re()),this._onDestroyFns=[])}reset(){this.players.forEach(re=>re.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(re){const K=re*this.totalTime;this.players.forEach(me=>{const Ne=me.totalTime?Math.min(1,K/me.totalTime):1;me.setPosition(Ne)})}getPosition(){const re=this.players.reduce((K,me)=>null===K||me.totalTime>K.totalTime?me:K,null);return null!=re?re.getPosition():0}beforeDestroy(){this.players.forEach(re=>{re.beforeDestroy&&re.beforeDestroy()})}triggerCallback(re){const K="start"==re?this._onStartFns:this._onDoneFns;K.forEach(me=>me()),K.length=0}}const q="!"},177:(nt,fe,h)=>{"use strict";h.d(fe,{AJ:()=>as,MD:()=>Or,N0:()=>ra,P9:()=>Kr,Pc:()=>Ls,QT:()=>y,QX:()=>Nr,Sm:()=>N,Sq:()=>ut,T3:()=>si,UE:()=>Cr,VF:()=>w,Vy:()=>ls,XO:()=>xe,Xr:()=>mo,YU:()=>ct,Yq:()=>je,ZD:()=>p,_b:()=>At,aZ:()=>R,bT:()=>ye,cH:()=>S,fw:()=>G,hb:()=>M,hj:()=>f,lG:()=>Ir,oV:()=>q,qQ:()=>m,tL:()=>Qe});var n=h(4438);let e=null;function y(){return e}function p(ee){e??=ee}class w{}const m=new n.nKC("");let u=(()=>{class ee{historyGo(de){throw new Error("")}static{this.\u0275fac=function(Pe){return new(Pe||ee)}}static{this.\u0275prov=n.jDH({token:ee,factory:()=>(0,n.WQX)(T),providedIn:"platform"})}}return ee})();const f=new n.nKC("");let T=(()=>{class ee extends u{constructor(){super(),this._doc=(0,n.WQX)(m),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return y().getBaseHref(this._doc)}onPopState(de){const Pe=y().getGlobalEventTarget(this._doc,"window");return Pe.addEventListener("popstate",de,!1),()=>Pe.removeEventListener("popstate",de)}onHashChange(de){const Pe=y().getGlobalEventTarget(this._doc,"window");return Pe.addEventListener("hashchange",de,!1),()=>Pe.removeEventListener("hashchange",de)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(de){this._location.pathname=de}pushState(de,Pe,Rt){this._history.pushState(de,Pe,Rt)}replaceState(de,Pe,Rt){this._history.replaceState(de,Pe,Rt)}forward(){this._history.forward()}back(){this._history.back()}historyGo(de=0){this._history.go(de)}getState(){return this._history.state}static{this.\u0275fac=function(Pe){return new(Pe||ee)}}static{this.\u0275prov=n.jDH({token:ee,factory:()=>new ee,providedIn:"platform"})}}return ee})();function O(ee,Ke){if(0==ee.length)return Ke;if(0==Ke.length)return ee;let de=0;return ee.endsWith("/")&&de++,Ke.startsWith("/")&&de++,2==de?ee+Ke.substring(1):1==de?ee+Ke:ee+"/"+Ke}function F(ee){const Ke=ee.match(/#|\?|$/),de=Ke&&Ke.index||ee.length;return ee.slice(0,de-("/"===ee[de-1]?1:0))+ee.slice(de)}function b(ee){return ee&&"?"!==ee[0]?"?"+ee:ee}let M=(()=>{class ee{historyGo(de){throw new Error("")}static{this.\u0275fac=function(Pe){return new(Pe||ee)}}static{this.\u0275prov=n.jDH({token:ee,factory:()=>(0,n.WQX)(N),providedIn:"root"})}}return ee})();const k=new n.nKC("");let N=(()=>{class ee extends M{constructor(de,Pe){super(),this._platformLocation=de,this._removeListenerFns=[],this._baseHref=Pe??this._platformLocation.getBaseHrefFromDOM()??(0,n.WQX)(m).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(de){this._removeListenerFns.push(this._platformLocation.onPopState(de),this._platformLocation.onHashChange(de))}getBaseHref(){return this._baseHref}prepareExternalUrl(de){return O(this._baseHref,de)}path(de=!1){const Pe=this._platformLocation.pathname+b(this._platformLocation.search),Rt=this._platformLocation.hash;return Rt&&de?`${Pe}${Rt}`:Pe}pushState(de,Pe,Rt,pn){const wn=this.prepareExternalUrl(Rt+b(pn));this._platformLocation.pushState(de,Pe,wn)}replaceState(de,Pe,Rt,pn){const wn=this.prepareExternalUrl(Rt+b(pn));this._platformLocation.replaceState(de,Pe,wn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(de=0){this._platformLocation.historyGo?.(de)}static{this.\u0275fac=function(Pe){return new(Pe||ee)(n.KVO(u),n.KVO(k,8))}}static{this.\u0275prov=n.jDH({token:ee,factory:ee.\u0275fac,providedIn:"root"})}}return ee})(),G=(()=>{class ee extends M{constructor(de,Pe){super(),this._platformLocation=de,this._baseHref="",this._removeListenerFns=[],null!=Pe&&(this._baseHref=Pe)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(de){this._removeListenerFns.push(this._platformLocation.onPopState(de),this._platformLocation.onHashChange(de))}getBaseHref(){return this._baseHref}path(de=!1){const Pe=this._platformLocation.hash??"#";return Pe.length>0?Pe.substring(1):Pe}prepareExternalUrl(de){const Pe=O(this._baseHref,de);return Pe.length>0?"#"+Pe:Pe}pushState(de,Pe,Rt,pn){let wn=this.prepareExternalUrl(Rt+b(pn));0==wn.length&&(wn=this._platformLocation.pathname),this._platformLocation.pushState(de,Pe,wn)}replaceState(de,Pe,Rt,pn){let wn=this.prepareExternalUrl(Rt+b(pn));0==wn.length&&(wn=this._platformLocation.pathname),this._platformLocation.replaceState(de,Pe,wn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(de=0){this._platformLocation.historyGo?.(de)}static{this.\u0275fac=function(Pe){return new(Pe||ee)(n.KVO(u),n.KVO(k,8))}}static{this.\u0275prov=n.jDH({token:ee,factory:ee.\u0275fac})}}return ee})(),R=(()=>{class ee{constructor(de){this._subject=new n.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=de;const Pe=this._locationStrategy.getBaseHref();this._basePath=function ie(ee){if(new RegExp("^(https?:)?//").test(ee)){const[,de]=ee.split(/\/\/[^\/]+/);return de}return ee}(F($(Pe))),this._locationStrategy.onPopState(Rt=>{this._subject.emit({url:this.path(!0),pop:!0,state:Rt.state,type:Rt.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(de=!1){return this.normalize(this._locationStrategy.path(de))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(de,Pe=""){return this.path()==this.normalize(de+b(Pe))}normalize(de){return ee.stripTrailingSlash(function U(ee,Ke){if(!ee||!Ke.startsWith(ee))return Ke;const de=Ke.substring(ee.length);return""===de||["/",";","?","#"].includes(de[0])?de:Ke}(this._basePath,$(de)))}prepareExternalUrl(de){return de&&"/"!==de[0]&&(de="/"+de),this._locationStrategy.prepareExternalUrl(de)}go(de,Pe="",Rt=null){this._locationStrategy.pushState(Rt,"",de,Pe),this._notifyUrlChangeListeners(this.prepareExternalUrl(de+b(Pe)),Rt)}replaceState(de,Pe="",Rt=null){this._locationStrategy.replaceState(Rt,"",de,Pe),this._notifyUrlChangeListeners(this.prepareExternalUrl(de+b(Pe)),Rt)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(de=0){this._locationStrategy.historyGo?.(de)}onUrlChange(de){return this._urlChangeListeners.push(de),this._urlChangeSubscription??=this.subscribe(Pe=>{this._notifyUrlChangeListeners(Pe.url,Pe.state)}),()=>{const Pe=this._urlChangeListeners.indexOf(de);this._urlChangeListeners.splice(Pe,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(de="",Pe){this._urlChangeListeners.forEach(Rt=>Rt(de,Pe))}subscribe(de,Pe,Rt){return this._subject.subscribe({next:de,error:Pe,complete:Rt})}static{this.normalizeQueryParams=b}static{this.joinWithSlash=O}static{this.stripTrailingSlash=F}static{this.\u0275fac=function(Pe){return new(Pe||ee)(n.KVO(M))}}static{this.\u0275prov=n.jDH({token:ee,factory:()=>function j(){return new R((0,n.KVO)(M))}(),providedIn:"root"})}}return ee})();function $(ee){return ee.replace(/\/index.html$/,"")}var L=function(ee){return ee[ee.Decimal=0]="Decimal",ee[ee.Percent=1]="Percent",ee[ee.Currency=2]="Currency",ee[ee.Scientific=3]="Scientific",ee}(L||{}),q=function(ee){return ee[ee.Format=0]="Format",ee[ee.Standalone=1]="Standalone",ee}(q||{}),S=function(ee){return ee[ee.Narrow=0]="Narrow",ee[ee.Abbreviated=1]="Abbreviated",ee[ee.Wide=2]="Wide",ee[ee.Short=3]="Short",ee}(S||{}),re=function(ee){return ee[ee.Short=0]="Short",ee[ee.Medium=1]="Medium",ee[ee.Long=2]="Long",ee[ee.Full=3]="Full",ee}(re||{});const K={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function xe(ee,Ke,de){const Pe=(0,n.H5H)(ee),pn=we([Pe[n.KH2.DaysFormat],Pe[n.KH2.DaysStandalone]],Ke);return we(pn,de)}function Qe(ee,Ke,de){const Pe=(0,n.H5H)(ee),pn=we([Pe[n.KH2.MonthsFormat],Pe[n.KH2.MonthsStandalone]],Ke);return we(pn,de)}function Fe(ee,Ke){return we((0,n.H5H)(ee)[n.KH2.DateFormat],Ke)}function Te(ee,Ke){return we((0,n.H5H)(ee)[n.KH2.TimeFormat],Ke)}function st(ee,Ke){return we((0,n.H5H)(ee)[n.KH2.DateTimeFormat],Ke)}function Oe(ee,Ke){const de=(0,n.H5H)(ee),Pe=de[n.KH2.NumberSymbols][Ke];if(typeof Pe>"u"){if(Ke===K.CurrencyDecimal)return de[n.KH2.NumberSymbols][K.Decimal];if(Ke===K.CurrencyGroup)return de[n.KH2.NumberSymbols][K.Group]}return Pe}function z(ee){if(!ee[n.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${ee[n.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function we(ee,Ke){for(let de=Ke;de>-1;de--)if(typeof ee[de]<"u")return ee[de];throw new Error("Locale data API: locale data undefined")}function at(ee){const[Ke,de]=ee.split(":");return{hours:+Ke,minutes:+de}}const mt=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,it={},Kt=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var sn=function(ee){return ee[ee.Short=0]="Short",ee[ee.ShortGMT=1]="ShortGMT",ee[ee.Long=2]="Long",ee[ee.Extended=3]="Extended",ee}(sn||{}),Ft=function(ee){return ee[ee.FullYear=0]="FullYear",ee[ee.Month=1]="Month",ee[ee.Date=2]="Date",ee[ee.Hours=3]="Hours",ee[ee.Minutes=4]="Minutes",ee[ee.Seconds=5]="Seconds",ee[ee.FractionalSeconds=6]="FractionalSeconds",ee[ee.Day=7]="Day",ee}(Ft||{}),Jt=function(ee){return ee[ee.DayPeriods=0]="DayPeriods",ee[ee.Days=1]="Days",ee[ee.Months=2]="Months",ee[ee.Eras=3]="Eras",ee}(Jt||{});function je(ee,Ke,de,Pe){let Rt=function Un(ee){if(di(ee))return ee;if("number"==typeof ee&&!isNaN(ee))return new Date(ee);if("string"==typeof ee){if(ee=ee.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(ee)){const[Rt,pn=1,wn=1]=ee.split("-").map(Zn=>+Zn);return ce(Rt,pn-1,wn)}const de=parseFloat(ee);if(!isNaN(ee-de))return new Date(de);let Pe;if(Pe=ee.match(mt))return function fn(ee){const Ke=new Date(0);let de=0,Pe=0;const Rt=ee[8]?Ke.setUTCFullYear:Ke.setFullYear,pn=ee[8]?Ke.setUTCHours:Ke.setHours;ee[9]&&(de=Number(ee[9]+ee[10]),Pe=Number(ee[9]+ee[11])),Rt.call(Ke,Number(ee[1]),Number(ee[2])-1,Number(ee[3]));const wn=Number(ee[4]||0)-de,Zn=Number(ee[5]||0)-Pe,fr=Number(ee[6]||0),sr=Math.floor(1e3*parseFloat("0."+(ee[7]||0)));return pn.call(Ke,wn,Zn,fr,sr),Ke}(Pe)}const Ke=new Date(ee);if(!di(Ke))throw new Error(`Unable to convert "${ee}" into a date`);return Ke}(ee);Ke=X(de,Ke)||Ke;let Zn,wn=[];for(;Ke;){if(Zn=Kt.exec(Ke),!Zn){wn.push(Ke);break}{wn=wn.concat(Zn.slice(1));const Ji=wn.pop();if(!Ji)break;Ke=Ji}}let fr=Rt.getTimezoneOffset();Pe&&(fr=Ot(Pe,fr),Rt=function Sn(ee,Ke,de){const Pe=de?-1:1,Rt=ee.getTimezoneOffset();return function en(ee,Ke){return(ee=new Date(ee.getTime())).setMinutes(ee.getMinutes()+Ke),ee}(ee,Pe*(Ot(Ke,Rt)-Rt))}(Rt,Pe,!0));let sr="";return wn.forEach(Ji=>{const Vi=function yt(ee){if(Ct[ee])return Ct[ee];let Ke;switch(ee){case"G":case"GG":case"GGG":Ke=cn(Jt.Eras,S.Abbreviated);break;case"GGGG":Ke=cn(Jt.Eras,S.Wide);break;case"GGGGG":Ke=cn(Jt.Eras,S.Narrow);break;case"y":Ke=gt(Ft.FullYear,1,0,!1,!0);break;case"yy":Ke=gt(Ft.FullYear,2,0,!0,!0);break;case"yyy":Ke=gt(Ft.FullYear,3,0,!1,!0);break;case"yyyy":Ke=gt(Ft.FullYear,4,0,!1,!0);break;case"Y":Ke=lt(1);break;case"YY":Ke=lt(2,!0);break;case"YYY":Ke=lt(3);break;case"YYYY":Ke=lt(4);break;case"M":case"L":Ke=gt(Ft.Month,1,1);break;case"MM":case"LL":Ke=gt(Ft.Month,2,1);break;case"MMM":Ke=cn(Jt.Months,S.Abbreviated);break;case"MMMM":Ke=cn(Jt.Months,S.Wide);break;case"MMMMM":Ke=cn(Jt.Months,S.Narrow);break;case"LLL":Ke=cn(Jt.Months,S.Abbreviated,q.Standalone);break;case"LLLL":Ke=cn(Jt.Months,S.Wide,q.Standalone);break;case"LLLLL":Ke=cn(Jt.Months,S.Narrow,q.Standalone);break;case"w":Ke=Gt(1);break;case"ww":Ke=Gt(2);break;case"W":Ke=Gt(1,!0);break;case"d":Ke=gt(Ft.Date,1);break;case"dd":Ke=gt(Ft.Date,2);break;case"c":case"cc":Ke=gt(Ft.Day,1);break;case"ccc":Ke=cn(Jt.Days,S.Abbreviated,q.Standalone);break;case"cccc":Ke=cn(Jt.Days,S.Wide,q.Standalone);break;case"ccccc":Ke=cn(Jt.Days,S.Narrow,q.Standalone);break;case"cccccc":Ke=cn(Jt.Days,S.Short,q.Standalone);break;case"E":case"EE":case"EEE":Ke=cn(Jt.Days,S.Abbreviated);break;case"EEEE":Ke=cn(Jt.Days,S.Wide);break;case"EEEEE":Ke=cn(Jt.Days,S.Narrow);break;case"EEEEEE":Ke=cn(Jt.Days,S.Short);break;case"a":case"aa":case"aaa":Ke=cn(Jt.DayPeriods,S.Abbreviated);break;case"aaaa":Ke=cn(Jt.DayPeriods,S.Wide);break;case"aaaaa":Ke=cn(Jt.DayPeriods,S.Narrow);break;case"b":case"bb":case"bbb":Ke=cn(Jt.DayPeriods,S.Abbreviated,q.Standalone,!0);break;case"bbbb":Ke=cn(Jt.DayPeriods,S.Wide,q.Standalone,!0);break;case"bbbbb":Ke=cn(Jt.DayPeriods,S.Narrow,q.Standalone,!0);break;case"B":case"BB":case"BBB":Ke=cn(Jt.DayPeriods,S.Abbreviated,q.Format,!0);break;case"BBBB":Ke=cn(Jt.DayPeriods,S.Wide,q.Format,!0);break;case"BBBBB":Ke=cn(Jt.DayPeriods,S.Narrow,q.Format,!0);break;case"h":Ke=gt(Ft.Hours,1,-12);break;case"hh":Ke=gt(Ft.Hours,2,-12);break;case"H":Ke=gt(Ft.Hours,1);break;case"HH":Ke=gt(Ft.Hours,2);break;case"m":Ke=gt(Ft.Minutes,1);break;case"mm":Ke=gt(Ft.Minutes,2);break;case"s":Ke=gt(Ft.Seconds,1);break;case"ss":Ke=gt(Ft.Seconds,2);break;case"S":Ke=gt(Ft.FractionalSeconds,1);break;case"SS":Ke=gt(Ft.FractionalSeconds,2);break;case"SSS":Ke=gt(Ft.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":Ke=An(sn.Short);break;case"ZZZZZ":Ke=An(sn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":Ke=An(sn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":Ke=An(sn.Long);break;default:return null}return Ct[ee]=Ke,Ke}(Ji);sr+=Vi?Vi(Rt,de,fr):"''"===Ji?"'":Ji.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),sr}function ce(ee,Ke,de){const Pe=new Date(0);return Pe.setFullYear(ee,Ke,de),Pe.setHours(0,0,0),Pe}function X(ee,Ke){const de=function Ne(ee){return(0,n.H5H)(ee)[n.KH2.LocaleId]}(ee);if(it[de]??={},it[de][Ke])return it[de][Ke];let Pe="";switch(Ke){case"shortDate":Pe=Fe(ee,re.Short);break;case"mediumDate":Pe=Fe(ee,re.Medium);break;case"longDate":Pe=Fe(ee,re.Long);break;case"fullDate":Pe=Fe(ee,re.Full);break;case"shortTime":Pe=Te(ee,re.Short);break;case"mediumTime":Pe=Te(ee,re.Medium);break;case"longTime":Pe=Te(ee,re.Long);break;case"fullTime":Pe=Te(ee,re.Full);break;case"short":const Rt=X(ee,"shortTime"),pn=X(ee,"shortDate");Pe=oe(st(ee,re.Short),[Rt,pn]);break;case"medium":const wn=X(ee,"mediumTime"),Zn=X(ee,"mediumDate");Pe=oe(st(ee,re.Medium),[wn,Zn]);break;case"long":const fr=X(ee,"longTime"),sr=X(ee,"longDate");Pe=oe(st(ee,re.Long),[fr,sr]);break;case"full":const Ji=X(ee,"fullTime"),Vi=X(ee,"fullDate");Pe=oe(st(ee,re.Full),[Ji,Vi])}return Pe&&(it[de][Ke]=Pe),Pe}function oe(ee,Ke){return Ke&&(ee=ee.replace(/\{([^}]+)}/g,function(de,Pe){return null!=Ke&&Pe in Ke?Ke[Pe]:de})),ee}function Ve(ee,Ke,de="-",Pe,Rt){let pn="";(ee<0||Rt&&ee<=0)&&(Rt?ee=1-ee:(ee=-ee,pn=de));let wn=String(ee);for(;wn.length<Ke;)wn="0"+wn;return Pe&&(wn=wn.slice(wn.length-Ke)),pn+wn}function gt(ee,Ke,de=0,Pe=!1,Rt=!1){return function(pn,wn){let Zn=function Bt(ee,Ke){switch(ee){case Ft.FullYear:return Ke.getFullYear();case Ft.Month:return Ke.getMonth();case Ft.Date:return Ke.getDate();case Ft.Hours:return Ke.getHours();case Ft.Minutes:return Ke.getMinutes();case Ft.Seconds:return Ke.getSeconds();case Ft.FractionalSeconds:return Ke.getMilliseconds();case Ft.Day:return Ke.getDay();default:throw new Error(`Unknown DateType value "${ee}".`)}}(ee,pn);if((de>0||Zn>-de)&&(Zn+=de),ee===Ft.Hours)0===Zn&&-12===de&&(Zn=12);else if(ee===Ft.FractionalSeconds)return function tt(ee,Ke){return Ve(ee,3).substring(0,Ke)}(Zn,Ke);const fr=Oe(wn,K.MinusSign);return Ve(Zn,Ke,fr,Pe,Rt)}}function cn(ee,Ke,de=q.Format,Pe=!1){return function(Rt,pn){return function hn(ee,Ke,de,Pe,Rt,pn){switch(de){case Jt.Months:return Qe(Ke,Rt,Pe)[ee.getMonth()];case Jt.Days:return xe(Ke,Rt,Pe)[ee.getDay()];case Jt.DayPeriods:const wn=ee.getHours(),Zn=ee.getMinutes();if(pn){const sr=function Y(ee){const Ke=(0,n.H5H)(ee);return z(Ke),(Ke[n.KH2.ExtraData][2]||[]).map(Pe=>"string"==typeof Pe?at(Pe):[at(Pe[0]),at(Pe[1])])}(Ke),Ji=function Z(ee,Ke,de){const Pe=(0,n.H5H)(ee);z(Pe);const pn=we([Pe[n.KH2.ExtraData][0],Pe[n.KH2.ExtraData][1]],Ke)||[];return we(pn,de)||[]}(Ke,Rt,Pe),Vi=sr.findIndex(ii=>{if(Array.isArray(ii)){const[Qi,ur]=ii,pe=wn>=Qi.hours&&Zn>=Qi.minutes,P=wn<ur.hours||wn===ur.hours&&Zn<ur.minutes;if(Qi.hours<ur.hours){if(pe&&P)return!0}else if(pe||P)return!0}else if(ii.hours===wn&&ii.minutes===Zn)return!0;return!1});if(-1!==Vi)return Ji[Vi]}return function De(ee,Ke,de){const Pe=(0,n.H5H)(ee),pn=we([Pe[n.KH2.DayPeriodsFormat],Pe[n.KH2.DayPeriodsStandalone]],Ke);return we(pn,de)}(Ke,Rt,Pe)[wn<12?0:1];case Jt.Eras:return function Se(ee,Ke){return we((0,n.H5H)(ee)[n.KH2.Eras],Ke)}(Ke,Pe)[ee.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${de}`)}}(Rt,pn,ee,Ke,de,Pe)}}function An(ee){return function(Ke,de,Pe){const Rt=-1*Pe,pn=Oe(de,K.MinusSign),wn=Rt>0?Math.floor(Rt/60):Math.ceil(Rt/60);switch(ee){case sn.Short:return(Rt>=0?"+":"")+Ve(wn,2,pn)+Ve(Math.abs(Rt%60),2,pn);case sn.ShortGMT:return"GMT"+(Rt>=0?"+":"")+Ve(wn,1,pn);case sn.Long:return"GMT"+(Rt>=0?"+":"")+Ve(wn,2,pn)+":"+Ve(Math.abs(Rt%60),2,pn);case sn.Extended:return 0===Pe?"Z":(Rt>=0?"+":"")+Ve(wn,2,pn)+":"+Ve(Math.abs(Rt%60),2,pn);default:throw new Error(`Unknown zone width "${ee}"`)}}}const xn=0,Bn=4;function Dn(ee){const Ke=ee.getDay(),de=0===Ke?-3:Bn-Ke;return ce(ee.getFullYear(),ee.getMonth(),ee.getDate()+de)}function Gt(ee,Ke=!1){return function(de,Pe){let Rt;if(Ke){const pn=new Date(de.getFullYear(),de.getMonth(),1).getDay()-1,wn=de.getDate();Rt=1+Math.floor((wn+pn)/7)}else{const pn=Dn(de),wn=function It(ee){const Ke=ce(ee,xn,1).getDay();return ce(ee,0,1+(Ke<=Bn?Bn:Bn+7)-Ke)}(pn.getFullYear()),Zn=pn.getTime()-wn.getTime();Rt=1+Math.round(Zn/6048e5)}return Ve(Rt,ee,Oe(Pe,K.MinusSign))}}function lt(ee,Ke=!1){return function(de,Pe){return Ve(Dn(de).getFullYear(),ee,Oe(Pe,K.MinusSign),Ke)}}const Ct={};function Ot(ee,Ke){ee=ee.replace(/:/g,"");const de=Date.parse("Jan 01, 1970 00:00:00 "+ee)/6e4;return isNaN(de)?Ke:de}function di(ee){return ee instanceof Date&&!isNaN(ee.valueOf())}const Gn=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function mi(ee){const Ke=parseInt(ee);if(isNaN(Ke))throw new Error("Invalid integer literal when parsing "+ee);return Ke}function At(ee,Ke){Ke=encodeURIComponent(Ke);for(const de of ee.split(";")){const Pe=de.indexOf("="),[Rt,pn]=-1==Pe?[de,""]:[de.slice(0,Pe),de.slice(Pe+1)];if(Rt.trim()===Ke)return decodeURIComponent(pn)}return null}const We=/\s+/,zt=[];let ct=(()=>{class ee{constructor(de,Pe){this._ngEl=de,this._renderer=Pe,this.initialClasses=zt,this.stateMap=new Map}set klass(de){this.initialClasses=null!=de?de.trim().split(We):zt}set ngClass(de){this.rawClass="string"==typeof de?de.trim().split(We):de}ngDoCheck(){for(const Pe of this.initialClasses)this._updateState(Pe,!0);const de=this.rawClass;if(Array.isArray(de)||de instanceof Set)for(const Pe of de)this._updateState(Pe,!0);else if(null!=de)for(const Pe of Object.keys(de))this._updateState(Pe,!!de[Pe]);this._applyStateDiff()}_updateState(de,Pe){const Rt=this.stateMap.get(de);void 0!==Rt?(Rt.enabled!==Pe&&(Rt.changed=!0,Rt.enabled=Pe),Rt.touched=!0):this.stateMap.set(de,{enabled:Pe,changed:!0,touched:!0})}_applyStateDiff(){for(const de of this.stateMap){const Pe=de[0],Rt=de[1];Rt.changed?(this._toggleClass(Pe,Rt.enabled),Rt.changed=!1):Rt.touched||(Rt.enabled&&this._toggleClass(Pe,!1),this.stateMap.delete(Pe)),Rt.touched=!1}}_toggleClass(de,Pe){(de=de.trim()).length>0&&de.split(We).forEach(Rt=>{Pe?this._renderer.addClass(this._ngEl.nativeElement,Rt):this._renderer.removeClass(this._ngEl.nativeElement,Rt)})}static{this.\u0275fac=function(Pe){return new(Pe||ee)(n.rXU(n.aKT),n.rXU(n.sFG))}}static{this.\u0275dir=n.FsC({type:ee,selectors:[["","ngClass",""]],inputs:{klass:[n.Mj6.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return ee})();class Zt{constructor(Ke,de,Pe,Rt){this.$implicit=Ke,this.ngForOf=de,this.index=Pe,this.count=Rt}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ut=(()=>{class ee{set ngForOf(de){this._ngForOf=de,this._ngForOfDirty=!0}set ngForTrackBy(de){this._trackByFn=de}get ngForTrackBy(){return this._trackByFn}constructor(de,Pe,Rt){this._viewContainer=de,this._template=Pe,this._differs=Rt,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(de){de&&(this._template=de)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const de=this._ngForOf;!this._differ&&de&&(this._differ=this._differs.find(de).create(this.ngForTrackBy))}if(this._differ){const de=this._differ.diff(this._ngForOf);de&&this._applyChanges(de)}}_applyChanges(de){const Pe=this._viewContainer;de.forEachOperation((Rt,pn,wn)=>{if(null==Rt.previousIndex)Pe.createEmbeddedView(this._template,new Zt(Rt.item,this._ngForOf,-1,-1),null===wn?void 0:wn);else if(null==wn)Pe.remove(null===pn?void 0:pn);else if(null!==pn){const Zn=Pe.get(pn);Pe.move(Zn,wn),_e(Zn,Rt)}});for(let Rt=0,pn=Pe.length;Rt<pn;Rt++){const Zn=Pe.get(Rt).context;Zn.index=Rt,Zn.count=pn,Zn.ngForOf=this._ngForOf}de.forEachIdentityChange(Rt=>{_e(Pe.get(Rt.currentIndex),Rt)})}static ngTemplateContextGuard(de,Pe){return!0}static{this.\u0275fac=function(Pe){return new(Pe||ee)(n.rXU(n.c1b),n.rXU(n.C4Q),n.rXU(n._q3))}}static{this.\u0275dir=n.FsC({type:ee,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return ee})();function _e(ee,Ke){ee.context.$implicit=Ke.item}let ye=(()=>{class ee{constructor(de,Pe){this._viewContainer=de,this._context=new ft,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Pe}set ngIf(de){this._context.$implicit=this._context.ngIf=de,this._updateView()}set ngIfThen(de){ze("ngIfThen",de),this._thenTemplateRef=de,this._thenViewRef=null,this._updateView()}set ngIfElse(de){ze("ngIfElse",de),this._elseTemplateRef=de,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(de,Pe){return!0}static{this.\u0275fac=function(Pe){return new(Pe||ee)(n.rXU(n.c1b),n.rXU(n.C4Q))}}static{this.\u0275dir=n.FsC({type:ee,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return ee})();class ft{constructor(){this.$implicit=null,this.ngIf=null}}function ze(ee,Ke){if(Ke&&!Ke.createEmbeddedView)throw new Error(`${ee} must be a TemplateRef, but received '${(0,n.Tbb)(Ke)}'.`)}let si=(()=>{class ee{constructor(de){this._viewContainerRef=de,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(de){if(this._shouldRecreateView(de)){const Pe=this._viewContainerRef;if(this._viewRef&&Pe.remove(Pe.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const Rt=this._createContextForwardProxy();this._viewRef=Pe.createEmbeddedView(this.ngTemplateOutlet,Rt,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(de){return!!de.ngTemplateOutlet||!!de.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(de,Pe,Rt)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,Pe,Rt),get:(de,Pe,Rt)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,Pe,Rt)}})}static{this.\u0275fac=function(Pe){return new(Pe||ee)(n.rXU(n.c1b))}}static{this.\u0275dir=n.FsC({type:ee,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[n.OA$]})}}return ee})();function Ai(ee,Ke){return new n.wOt(2100,!1)}let Ls=(()=>{class ee{transform(de){if(null==de)return null;if("string"!=typeof de)throw Ai();return de.toUpperCase()}static{this.\u0275fac=function(Pe){return new(Pe||ee)}}static{this.\u0275pipe=n.EJ8({name:"uppercase",type:ee,pure:!0,standalone:!0})}}return ee})(),Ir=(()=>{class ee{constructor(de){this.differs=de,this.keyValues=[],this.compareFn=Dr}transform(de,Pe=Dr){if(!de||!(de instanceof Map)&&"object"!=typeof de)return null;this.differ??=this.differs.find(de).create();const Rt=this.differ.diff(de),pn=Pe!==this.compareFn;return Rt&&(this.keyValues=[],Rt.forEachItem(wn=>{this.keyValues.push(function mr(ee,Ke){return{key:ee,value:Ke}}(wn.key,wn.currentValue))})),(Rt||pn)&&(this.keyValues.sort(Pe),this.compareFn=Pe),this.keyValues}static{this.\u0275fac=function(Pe){return new(Pe||ee)(n.rXU(n.MKu,16))}}static{this.\u0275pipe=n.EJ8({name:"keyvalue",type:ee,pure:!1,standalone:!0})}}return ee})();function Dr(ee,Ke){const de=ee.key,Pe=Ke.key;if(de===Pe)return 0;if(void 0===de)return 1;if(void 0===Pe)return-1;if(null===de)return 1;if(null===Pe)return-1;if("string"==typeof de&&"string"==typeof Pe)return de<Pe?-1:1;if("number"==typeof de&&"number"==typeof Pe)return de-Pe;if("boolean"==typeof de&&"boolean"==typeof Pe)return de<Pe?-1:1;const Rt=String(de),pn=String(Pe);return Rt==pn?0:Rt<pn?-1:1}let Nr=(()=>{class ee{constructor(de){this._locale=de}transform(de,Pe,Rt){if(!function tr(ee){return!(null==ee||""===ee||ee!=ee)}(de))return null;Rt||=this._locale;try{return function pi(ee,Ke,de){return function In(ee,Ke,de,Pe,Rt,pn,wn=!1){let Zn="",fr=!1;if(isFinite(ee)){let sr=function Xn(ee){let Pe,Rt,pn,wn,Zn,Ke=Math.abs(ee)+"",de=0;for((Rt=Ke.indexOf("."))>-1&&(Ke=Ke.replace(".","")),(pn=Ke.search(/e/i))>0?(Rt<0&&(Rt=pn),Rt+=+Ke.slice(pn+1),Ke=Ke.substring(0,pn)):Rt<0&&(Rt=Ke.length),pn=0;"0"===Ke.charAt(pn);pn++);if(pn===(Zn=Ke.length))Pe=[0],Rt=1;else{for(Zn--;"0"===Ke.charAt(Zn);)Zn--;for(Rt-=pn,Pe=[],wn=0;pn<=Zn;pn++,wn++)Pe[wn]=Number(Ke.charAt(pn))}return Rt>22&&(Pe=Pe.splice(0,21),de=Rt-1,Rt=1),{digits:Pe,exponent:de,integerLen:Rt}}(ee);wn&&(sr=function Oi(ee){if(0===ee.digits[0])return ee;const Ke=ee.digits.length-ee.integerLen;return ee.exponent?ee.exponent+=2:(0===Ke?ee.digits.push(0,0):1===Ke&&ee.digits.push(0),ee.integerLen+=2),ee}(sr));let Ji=Ke.minInt,Vi=Ke.minFrac,ii=Ke.maxFrac;if(pn){const Me=pn.match(Gn);if(null===Me)throw new Error(`${pn} is not a valid digit info`);const rt=Me[1],Nt=Me[3],Ut=Me[5];null!=rt&&(Ji=mi(rt)),null!=Nt&&(Vi=mi(Nt)),null!=Ut?ii=mi(Ut):null!=Nt&&Vi>ii&&(ii=Vi)}!function wi(ee,Ke,de){if(Ke>de)throw new Error(`The minimum number of digits after fraction (${Ke}) is higher than the maximum (${de}).`);let Pe=ee.digits,Rt=Pe.length-ee.integerLen;const pn=Math.min(Math.max(Ke,Rt),de);let wn=pn+ee.integerLen,Zn=Pe[wn];if(wn>0){Pe.splice(Math.max(ee.integerLen,wn));for(let Vi=wn;Vi<Pe.length;Vi++)Pe[Vi]=0}else{Rt=Math.max(0,Rt),ee.integerLen=1,Pe.length=Math.max(1,wn=pn+1),Pe[0]=0;for(let Vi=1;Vi<wn;Vi++)Pe[Vi]=0}if(Zn>=5)if(wn-1<0){for(let Vi=0;Vi>wn;Vi--)Pe.unshift(0),ee.integerLen++;Pe.unshift(1),ee.integerLen++}else Pe[wn-1]++;for(;Rt<Math.max(0,pn);Rt++)Pe.push(0);let fr=0!==pn;const sr=Ke+ee.integerLen,Ji=Pe.reduceRight(function(Vi,ii,Qi,ur){return ur[Qi]=(ii+=Vi)<10?ii:ii-10,fr&&(0===ur[Qi]&&Qi>=sr?ur.pop():fr=!1),ii>=10?1:0},0);Ji&&(Pe.unshift(Ji),ee.integerLen++)}(sr,Vi,ii);let Qi=sr.digits,ur=sr.integerLen;const pe=sr.exponent;let P=[];for(fr=Qi.every(Me=>!Me);ur<Ji;ur++)Qi.unshift(0);for(;ur<0;ur++)Qi.unshift(0);ur>0?P=Qi.splice(ur,Qi.length):(P=Qi,Qi=[0]);const ue=[];for(Qi.length>=Ke.lgSize&&ue.unshift(Qi.splice(-Ke.lgSize,Qi.length).join(""));Qi.length>Ke.gSize;)ue.unshift(Qi.splice(-Ke.gSize,Qi.length).join(""));Qi.length&&ue.unshift(Qi.join("")),Zn=ue.join(Oe(de,Pe)),P.length&&(Zn+=Oe(de,Rt)+P.join("")),pe&&(Zn+=Oe(de,K.Exponential)+"+"+pe)}else Zn=Oe(de,K.Infinity);return Zn=ee<0&&!fr?Ke.negPre+Zn+Ke.negSuf:Ke.posPre+Zn+Ke.posSuf,Zn}(ee,function ei(ee,Ke="-"){const de={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},Pe=ee.split(";"),Rt=Pe[0],pn=Pe[1],wn=-1!==Rt.indexOf(".")?Rt.split("."):[Rt.substring(0,Rt.lastIndexOf("0")+1),Rt.substring(Rt.lastIndexOf("0")+1)],Zn=wn[0],fr=wn[1]||"";de.posPre=Zn.substring(0,Zn.indexOf("#"));for(let Ji=0;Ji<fr.length;Ji++){const Vi=fr.charAt(Ji);"0"===Vi?de.minFrac=de.maxFrac=Ji+1:"#"===Vi?de.maxFrac=Ji+1:de.posSuf+=Vi}const sr=Zn.split(",");if(de.gSize=sr[1]?sr[1].length:0,de.lgSize=sr[2]||sr[1]?(sr[2]||sr[1]).length:0,pn){const Ji=Rt.length-de.posPre.length-de.posSuf.length,Vi=pn.indexOf("#");de.negPre=pn.substring(0,Vi).replace(/'/g,""),de.negSuf=pn.slice(Vi+Ji).replace(/'/g,"")}else de.negPre=Ke+de.posPre,de.negSuf=de.posSuf;return de}(function pt(ee,Ke){return(0,n.H5H)(ee)[n.KH2.NumberFormats][Ke]}(Ke,L.Decimal),Oe(Ke,K.MinusSign)),Ke,K.Group,K.Decimal,de)}(function Wn(ee){if("string"==typeof ee&&!isNaN(Number(ee)-parseFloat(ee)))return Number(ee);if("number"!=typeof ee)throw new Error(`${ee} is not a number`);return ee}(de),Rt,Pe)}catch(pn){throw Ai()}}static{this.\u0275fac=function(Pe){return new(Pe||ee)(n.rXU(n.xe9,16))}}static{this.\u0275pipe=n.EJ8({name:"number",type:ee,pure:!0,standalone:!0})}}return ee})();let Kr=(()=>{class ee{transform(de,Pe,Rt){if(null==de)return null;if(!this.supports(de))throw Ai();return de.slice(Pe,Rt)}supports(de){return"string"==typeof de||Array.isArray(de)}static{this.\u0275fac=function(Pe){return new(Pe||ee)}}static{this.\u0275pipe=n.EJ8({name:"slice",type:ee,pure:!1,standalone:!0})}}return ee})(),Or=(()=>{class ee{static{this.\u0275fac=function(Pe){return new(Pe||ee)}}static{this.\u0275mod=n.$C({type:ee})}static{this.\u0275inj=n.G2t({})}}return ee})();const as="browser",ro="server";function Cr(ee){return ee===as}function ls(ee){return ee===ro}let mo=(()=>{class ee{static{this.\u0275prov=(0,n.jDH)({token:ee,providedIn:"root",factory:()=>Cr((0,n.WQX)(n.Agw))?new nr((0,n.WQX)(m),window):new Vo})}}return ee})();class nr{constructor(Ke,de){this.document=Ke,this.window=de,this.offset=()=>[0,0]}setOffset(Ke){this.offset=Array.isArray(Ke)?()=>Ke:Ke}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(Ke){this.window.scrollTo(Ke[0],Ke[1])}scrollToAnchor(Ke){const de=function ts(ee,Ke){const de=ee.getElementById(Ke)||ee.getElementsByName(Ke)[0];if(de)return de;if("function"==typeof ee.createTreeWalker&&ee.body&&"function"==typeof ee.body.attachShadow){const Pe=ee.createTreeWalker(ee.body,NodeFilter.SHOW_ELEMENT);let Rt=Pe.currentNode;for(;Rt;){const pn=Rt.shadowRoot;if(pn){const wn=pn.getElementById(Ke)||pn.querySelector(`[name="${Ke}"]`);if(wn)return wn}Rt=Pe.nextNode()}}return null}(this.document,Ke);de&&(this.scrollToElement(de),de.focus())}setHistoryScrollRestoration(Ke){this.window.history.scrollRestoration=Ke}scrollToElement(Ke){const de=Ke.getBoundingClientRect(),Pe=de.left+this.window.pageXOffset,Rt=de.top+this.window.pageYOffset,pn=this.offset();this.window.scrollTo(Pe-pn[0],Rt-pn[1])}}class Vo{setOffset(Ke){}getScrollPosition(){return[0,0]}scrollToPosition(Ke){}scrollToAnchor(Ke){}setHistoryScrollRestoration(Ke){}}class ra{}},1626:(nt,fe,h)=>{"use strict";h.d(fe,{Lr:()=>M,Nl:()=>ie,Qq:()=>Fe,a7:()=>Y,q1:()=>$t,yz:()=>Se}),h(467);var e=h(4438),y=h(7673),p=h(1985),w=h(6648),C=h(274),m=h(5964),u=h(6354),f=h(980),T=h(5558),O=h(177);class F{}class b{}class M{constructor(At){this.normalizedNames=new Map,this.lazyUpdate=null,At?"string"==typeof At?this.lazyInit=()=>{this.headers=new Map,At.split("\n").forEach(We=>{const zt=We.indexOf(":");if(zt>0){const ct=We.slice(0,zt),Yt=ct.toLowerCase(),Xe=We.slice(zt+1).trim();this.maybeSetNormalizedName(ct,Yt),this.headers.has(Yt)?this.headers.get(Yt).push(Xe):this.headers.set(Yt,[Xe])}})}:typeof Headers<"u"&&At instanceof Headers?(this.headers=new Map,At.forEach((We,zt)=>{this.setHeaderEntries(zt,We)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(At).forEach(([We,zt])=>{this.setHeaderEntries(We,zt)})}:this.headers=new Map}has(At){return this.init(),this.headers.has(At.toLowerCase())}get(At){this.init();const We=this.headers.get(At.toLowerCase());return We&&We.length>0?We[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(At){return this.init(),this.headers.get(At.toLowerCase())||null}append(At,We){return this.clone({name:At,value:We,op:"a"})}set(At,We){return this.clone({name:At,value:We,op:"s"})}delete(At,We){return this.clone({name:At,value:We,op:"d"})}maybeSetNormalizedName(At,We){this.normalizedNames.has(We)||this.normalizedNames.set(We,At)}init(){this.lazyInit&&(this.lazyInit instanceof M?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(At=>this.applyUpdate(At)),this.lazyUpdate=null))}copyFrom(At){At.init(),Array.from(At.headers.keys()).forEach(We=>{this.headers.set(We,At.headers.get(We)),this.normalizedNames.set(We,At.normalizedNames.get(We))})}clone(At){const We=new M;return We.lazyInit=this.lazyInit&&this.lazyInit instanceof M?this.lazyInit:this,We.lazyUpdate=(this.lazyUpdate||[]).concat([At]),We}applyUpdate(At){const We=At.name.toLowerCase();switch(At.op){case"a":case"s":let zt=At.value;if("string"==typeof zt&&(zt=[zt]),0===zt.length)return;this.maybeSetNormalizedName(At.name,We);const ct=("a"===At.op?this.headers.get(We):void 0)||[];ct.push(...zt),this.headers.set(We,ct);break;case"d":const Yt=At.value;if(Yt){let Xe=this.headers.get(We);if(!Xe)return;Xe=Xe.filter(Zt=>-1===Yt.indexOf(Zt)),0===Xe.length?(this.headers.delete(We),this.normalizedNames.delete(We)):this.headers.set(We,Xe)}else this.headers.delete(We),this.normalizedNames.delete(We)}}setHeaderEntries(At,We){const zt=(Array.isArray(We)?We:[We]).map(Yt=>Yt.toString()),ct=At.toLowerCase();this.headers.set(ct,zt),this.maybeSetNormalizedName(At,ct)}forEach(At){this.init(),Array.from(this.normalizedNames.keys()).forEach(We=>At(this.normalizedNames.get(We),this.headers.get(We)))}}class N{encodeKey(At){return U(At)}encodeValue(At){return U(At)}decodeKey(At){return decodeURIComponent(At)}decodeValue(At){return decodeURIComponent(At)}}const R=/%(\d[a-f0-9])/gi,j={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function U(qe){return encodeURIComponent(qe).replace(R,(At,We)=>j[We]??At)}function $(qe){return`${qe}`}class ie{constructor(At={}){if(this.updates=null,this.cloneFrom=null,this.encoder=At.encoder||new N,At.fromString){if(At.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function G(qe,At){const We=new Map;return qe.length>0&&qe.replace(/^\?/,"").split("&").forEach(ct=>{const Yt=ct.indexOf("="),[Xe,Zt]=-1==Yt?[At.decodeKey(ct),""]:[At.decodeKey(ct.slice(0,Yt)),At.decodeValue(ct.slice(Yt+1))],ut=We.get(Xe)||[];ut.push(Zt),We.set(Xe,ut)}),We}(At.fromString,this.encoder)}else At.fromObject?(this.map=new Map,Object.keys(At.fromObject).forEach(We=>{const zt=At.fromObject[We],ct=Array.isArray(zt)?zt.map($):[$(zt)];this.map.set(We,ct)})):this.map=null}has(At){return this.init(),this.map.has(At)}get(At){this.init();const We=this.map.get(At);return We?We[0]:null}getAll(At){return this.init(),this.map.get(At)||null}keys(){return this.init(),Array.from(this.map.keys())}append(At,We){return this.clone({param:At,value:We,op:"a"})}appendAll(At){const We=[];return Object.keys(At).forEach(zt=>{const ct=At[zt];Array.isArray(ct)?ct.forEach(Yt=>{We.push({param:zt,value:Yt,op:"a"})}):We.push({param:zt,value:ct,op:"a"})}),this.clone(We)}set(At,We){return this.clone({param:At,value:We,op:"s"})}delete(At,We){return this.clone({param:At,value:We,op:"d"})}toString(){return this.init(),this.keys().map(At=>{const We=this.encoder.encodeKey(At);return this.map.get(At).map(zt=>We+"="+this.encoder.encodeValue(zt)).join("&")}).filter(At=>""!==At).join("&")}clone(At){const We=new ie({encoder:this.encoder});return We.cloneFrom=this.cloneFrom||this,We.updates=(this.updates||[]).concat(At),We}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(At=>this.map.set(At,this.cloneFrom.map.get(At))),this.updates.forEach(At=>{switch(At.op){case"a":case"s":const We=("a"===At.op?this.map.get(At.param):void 0)||[];We.push($(At.value)),this.map.set(At.param,We);break;case"d":if(void 0===At.value){this.map.delete(At.param);break}{let zt=this.map.get(At.param)||[];const ct=zt.indexOf($(At.value));-1!==ct&&zt.splice(ct,1),zt.length>0?this.map.set(At.param,zt):this.map.delete(At.param)}}}),this.cloneFrom=this.updates=null)}}class L{constructor(){this.map=new Map}set(At,We){return this.map.set(At,We),this}get(At){return this.map.has(At)||this.map.set(At,At.defaultValue()),this.map.get(At)}delete(At){return this.map.delete(At),this}has(At){return this.map.has(At)}keys(){return this.map.keys()}}function q(qe){return typeof ArrayBuffer<"u"&&qe instanceof ArrayBuffer}function S(qe){return typeof Blob<"u"&&qe instanceof Blob}function re(qe){return typeof FormData<"u"&&qe instanceof FormData}class me{constructor(At,We,zt,ct){let Yt;if(this.url=We,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=At.toUpperCase(),function J(qe){switch(qe){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||ct?(this.body=void 0!==zt?zt:null,Yt=ct):Yt=zt,Yt&&(this.reportProgress=!!Yt.reportProgress,this.withCredentials=!!Yt.withCredentials,Yt.responseType&&(this.responseType=Yt.responseType),Yt.headers&&(this.headers=Yt.headers),Yt.context&&(this.context=Yt.context),Yt.params&&(this.params=Yt.params),this.transferCache=Yt.transferCache),this.headers??=new M,this.context??=new L,this.params){const Xe=this.params.toString();if(0===Xe.length)this.urlWithParams=We;else{const Zt=We.indexOf("?");this.urlWithParams=We+(-1===Zt?"?":Zt<We.length-1?"&":"")+Xe}}else this.params=new ie,this.urlWithParams=We}serializeBody(){return null===this.body?null:"string"==typeof this.body||q(this.body)||S(this.body)||re(this.body)||function K(qe){return typeof URLSearchParams<"u"&&qe instanceof URLSearchParams}(this.body)?this.body:this.body instanceof ie?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||re(this.body)?null:S(this.body)?this.body.type||null:q(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ie?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(At={}){const We=At.method||this.method,zt=At.url||this.url,ct=At.responseType||this.responseType,Yt=At.transferCache??this.transferCache,Xe=void 0!==At.body?At.body:this.body,Zt=At.withCredentials??this.withCredentials,ut=At.reportProgress??this.reportProgress;let _e=At.headers||this.headers,Ie=At.params||this.params;const ye=At.context??this.context;return void 0!==At.setHeaders&&(_e=Object.keys(At.setHeaders).reduce((ft,ze)=>ft.set(ze,At.setHeaders[ze]),_e)),At.setParams&&(Ie=Object.keys(At.setParams).reduce((ft,ze)=>ft.set(ze,At.setParams[ze]),Ie)),new me(We,zt,Xe,{params:Ie,headers:_e,context:ye,reportProgress:ut,responseType:ct,withCredentials:Zt,transferCache:Yt})}}var Ne=function(qe){return qe[qe.Sent=0]="Sent",qe[qe.UploadProgress=1]="UploadProgress",qe[qe.ResponseHeader=2]="ResponseHeader",qe[qe.DownloadProgress=3]="DownloadProgress",qe[qe.Response=4]="Response",qe[qe.User=5]="User",qe}(Ne||{});class De{constructor(At,We=be.Ok,zt="OK"){this.headers=At.headers||new M,this.status=void 0!==At.status?At.status:We,this.statusText=At.statusText||zt,this.url=At.url||null,this.ok=this.status>=200&&this.status<300}}class xe extends De{constructor(At={}){super(At),this.type=Ne.ResponseHeader}clone(At={}){return new xe({headers:At.headers||this.headers,status:void 0!==At.status?At.status:this.status,statusText:At.statusText||this.statusText,url:At.url||this.url||void 0})}}class Qe extends De{constructor(At={}){super(At),this.type=Ne.Response,this.body=void 0!==At.body?At.body:null}clone(At={}){return new Qe({body:void 0!==At.body?At.body:this.body,headers:At.headers||this.headers,status:void 0!==At.status?At.status:this.status,statusText:At.statusText||this.statusText,url:At.url||this.url||void 0})}}class Se extends De{constructor(At){super(At,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${At.url||"(unknown url)"}`:`Http failure response for ${At.url||"(unknown url)"}: ${At.status} ${At.statusText}`,this.error=At.error||null}}var be=function(qe){return qe[qe.Continue=100]="Continue",qe[qe.SwitchingProtocols=101]="SwitchingProtocols",qe[qe.Processing=102]="Processing",qe[qe.EarlyHints=103]="EarlyHints",qe[qe.Ok=200]="Ok",qe[qe.Created=201]="Created",qe[qe.Accepted=202]="Accepted",qe[qe.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",qe[qe.NoContent=204]="NoContent",qe[qe.ResetContent=205]="ResetContent",qe[qe.PartialContent=206]="PartialContent",qe[qe.MultiStatus=207]="MultiStatus",qe[qe.AlreadyReported=208]="AlreadyReported",qe[qe.ImUsed=226]="ImUsed",qe[qe.MultipleChoices=300]="MultipleChoices",qe[qe.MovedPermanently=301]="MovedPermanently",qe[qe.Found=302]="Found",qe[qe.SeeOther=303]="SeeOther",qe[qe.NotModified=304]="NotModified",qe[qe.UseProxy=305]="UseProxy",qe[qe.Unused=306]="Unused",qe[qe.TemporaryRedirect=307]="TemporaryRedirect",qe[qe.PermanentRedirect=308]="PermanentRedirect",qe[qe.BadRequest=400]="BadRequest",qe[qe.Unauthorized=401]="Unauthorized",qe[qe.PaymentRequired=402]="PaymentRequired",qe[qe.Forbidden=403]="Forbidden",qe[qe.NotFound=404]="NotFound",qe[qe.MethodNotAllowed=405]="MethodNotAllowed",qe[qe.NotAcceptable=406]="NotAcceptable",qe[qe.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",qe[qe.RequestTimeout=408]="RequestTimeout",qe[qe.Conflict=409]="Conflict",qe[qe.Gone=410]="Gone",qe[qe.LengthRequired=411]="LengthRequired",qe[qe.PreconditionFailed=412]="PreconditionFailed",qe[qe.PayloadTooLarge=413]="PayloadTooLarge",qe[qe.UriTooLong=414]="UriTooLong",qe[qe.UnsupportedMediaType=415]="UnsupportedMediaType",qe[qe.RangeNotSatisfiable=416]="RangeNotSatisfiable",qe[qe.ExpectationFailed=417]="ExpectationFailed",qe[qe.ImATeapot=418]="ImATeapot",qe[qe.MisdirectedRequest=421]="MisdirectedRequest",qe[qe.UnprocessableEntity=422]="UnprocessableEntity",qe[qe.Locked=423]="Locked",qe[qe.FailedDependency=424]="FailedDependency",qe[qe.TooEarly=425]="TooEarly",qe[qe.UpgradeRequired=426]="UpgradeRequired",qe[qe.PreconditionRequired=428]="PreconditionRequired",qe[qe.TooManyRequests=429]="TooManyRequests",qe[qe.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",qe[qe.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",qe[qe.InternalServerError=500]="InternalServerError",qe[qe.NotImplemented=501]="NotImplemented",qe[qe.BadGateway=502]="BadGateway",qe[qe.ServiceUnavailable=503]="ServiceUnavailable",qe[qe.GatewayTimeout=504]="GatewayTimeout",qe[qe.HttpVersionNotSupported=505]="HttpVersionNotSupported",qe[qe.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",qe[qe.InsufficientStorage=507]="InsufficientStorage",qe[qe.LoopDetected=508]="LoopDetected",qe[qe.NotExtended=510]="NotExtended",qe[qe.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",qe}(be||{});function le(qe,At){return{body:At,headers:qe.headers,context:qe.context,observe:qe.observe,params:qe.params,reportProgress:qe.reportProgress,responseType:qe.responseType,withCredentials:qe.withCredentials,transferCache:qe.transferCache}}let Fe=(()=>{class qe{constructor(We){this.handler=We}request(We,zt,ct={}){let Yt;if(We instanceof me)Yt=We;else{let ut,_e;ut=ct.headers instanceof M?ct.headers:new M(ct.headers),ct.params&&(_e=ct.params instanceof ie?ct.params:new ie({fromObject:ct.params})),Yt=new me(We,zt,void 0!==ct.body?ct.body:null,{headers:ut,context:ct.context,params:_e,reportProgress:ct.reportProgress,responseType:ct.responseType||"json",withCredentials:ct.withCredentials,transferCache:ct.transferCache})}const Xe=(0,y.of)(Yt).pipe((0,C.H)(ut=>this.handler.handle(ut)));if(We instanceof me||"events"===ct.observe)return Xe;const Zt=Xe.pipe((0,m.p)(ut=>ut instanceof Qe));switch(ct.observe||"body"){case"body":switch(Yt.responseType){case"arraybuffer":return Zt.pipe((0,u.T)(ut=>{if(null!==ut.body&&!(ut.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return ut.body}));case"blob":return Zt.pipe((0,u.T)(ut=>{if(null!==ut.body&&!(ut.body instanceof Blob))throw new Error("Response is not a Blob.");return ut.body}));case"text":return Zt.pipe((0,u.T)(ut=>{if(null!==ut.body&&"string"!=typeof ut.body)throw new Error("Response is not a string.");return ut.body}));default:return Zt.pipe((0,u.T)(ut=>ut.body))}case"response":return Zt;default:throw new Error(`Unreachable: unhandled observe type ${ct.observe}}`)}}delete(We,zt={}){return this.request("DELETE",We,zt)}get(We,zt={}){return this.request("GET",We,zt)}head(We,zt={}){return this.request("HEAD",We,zt)}jsonp(We,zt){return this.request("JSONP",We,{params:(new ie).append(zt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(We,zt={}){return this.request("OPTIONS",We,zt)}patch(We,zt,ct={}){return this.request("PATCH",We,le(ct,zt))}post(We,zt,ct={}){return this.request("POST",We,le(ct,zt))}put(We,zt,ct={}){return this.request("PUT",We,le(ct,zt))}static{this.\u0275fac=function(zt){return new(zt||qe)(e.KVO(F))}}static{this.\u0275prov=e.jDH({token:qe,factory:qe.\u0275fac})}}return qe})();function Dt(qe,At){return At(qe)}function wt(qe,At){return(We,zt)=>At.intercept(We,{handle:ct=>qe(ct,zt)})}const Y=new e.nKC(""),Z=new e.nKC(""),Ce=new e.nKC(""),we=new e.nKC("");function at(){let qe=null;return(At,We)=>{null===qe&&(qe=((0,e.WQX)(Y,{optional:!0})??[]).reduceRight(wt,Dt));const zt=(0,e.WQX)(e.TgB),ct=zt.add();return qe(At,We).pipe((0,f.j)(()=>zt.remove(ct)))}}let Pt=(()=>{class qe extends F{constructor(We,zt){super(),this.backend=We,this.injector=zt,this.chain=null,this.pendingTasks=(0,e.WQX)(e.TgB);const ct=(0,e.WQX)(we,{optional:!0});this.backend=ct??We}handle(We){if(null===this.chain){const ct=Array.from(new Set([...this.injector.get(Z),...this.injector.get(Ce,[])]));this.chain=ct.reduceRight((Yt,Xe)=>function z(qe,At,We){return(zt,ct)=>(0,e.N4e)(We,()=>At(zt,Yt=>qe(Yt,ct)))}(Yt,Xe,this.injector),Dt)}const zt=this.pendingTasks.add();return this.chain(We,ct=>this.backend.handle(ct)).pipe((0,f.j)(()=>this.pendingTasks.remove(zt)))}static{this.\u0275fac=function(zt){return new(zt||qe)(e.KVO(b),e.KVO(e.uvJ))}}static{this.\u0275prov=e.jDH({token:qe,factory:qe.\u0275fac})}}return qe})();const tt=/^\)\]\}',?\n/;let Bt=(()=>{class qe{constructor(We){this.xhrFactory=We}handle(We){if("JSONP"===We.method)throw new e.wOt(-2800,!1);const zt=this.xhrFactory;return(zt.\u0275loadImpl?(0,w.H)(zt.\u0275loadImpl()):(0,y.of)(null)).pipe((0,T.n)(()=>new p.c(Yt=>{const Xe=zt.build();if(Xe.open(We.method,We.urlWithParams),We.withCredentials&&(Xe.withCredentials=!0),We.headers.forEach((vt,Xt)=>Xe.setRequestHeader(vt,Xt.join(","))),We.headers.has("Accept")||Xe.setRequestHeader("Accept","application/json, text/plain, */*"),!We.headers.has("Content-Type")){const vt=We.detectContentTypeHeader();null!==vt&&Xe.setRequestHeader("Content-Type",vt)}if(We.responseType){const vt=We.responseType.toLowerCase();Xe.responseType="json"!==vt?vt:"text"}const Zt=We.serializeBody();let ut=null;const _e=()=>{if(null!==ut)return ut;const vt=Xe.statusText||"OK",Xt=new M(Xe.getAllResponseHeaders()),Vn=function gt(qe){return"responseURL"in qe&&qe.responseURL?qe.responseURL:/^X-Request-URL:/m.test(qe.getAllResponseHeaders())?qe.getResponseHeader("X-Request-URL"):null}(Xe)||We.url;return ut=new xe({headers:Xt,status:Xe.status,statusText:vt,url:Vn}),ut},Ie=()=>{let{headers:vt,status:Xt,statusText:Vn,url:ri}=_e(),vi=null;Xt!==be.NoContent&&(vi=typeof Xe.response>"u"?Xe.responseText:Xe.response),0===Xt&&(Xt=vi?be.Ok:0);let ti=Xt>=200&&Xt<300;if("json"===We.responseType&&"string"==typeof vi){const Ui=vi;vi=vi.replace(tt,"");try{vi=""!==vi?JSON.parse(vi):null}catch(hr){vi=Ui,ti&&(ti=!1,vi={error:hr,text:vi})}}ti?(Yt.next(new Qe({body:vi,headers:vt,status:Xt,statusText:Vn,url:ri||void 0})),Yt.complete()):Yt.error(new Se({error:vi,headers:vt,status:Xt,statusText:Vn,url:ri||void 0}))},ye=vt=>{const{url:Xt}=_e(),Vn=new Se({error:vt,status:Xe.status||0,statusText:Xe.statusText||"Unknown Error",url:Xt||void 0});Yt.error(Vn)};let ft=!1;const ze=vt=>{ft||(Yt.next(_e()),ft=!0);let Xt={type:Ne.DownloadProgress,loaded:vt.loaded};vt.lengthComputable&&(Xt.total=vt.total),"text"===We.responseType&&Xe.responseText&&(Xt.partialText=Xe.responseText),Yt.next(Xt)},Tt=vt=>{let Xt={type:Ne.UploadProgress,loaded:vt.loaded};vt.lengthComputable&&(Xt.total=vt.total),Yt.next(Xt)};return Xe.addEventListener("load",Ie),Xe.addEventListener("error",ye),Xe.addEventListener("timeout",ye),Xe.addEventListener("abort",ye),We.reportProgress&&(Xe.addEventListener("progress",ze),null!==Zt&&Xe.upload&&Xe.upload.addEventListener("progress",Tt)),Xe.send(Zt),Yt.next({type:Ne.Sent}),()=>{Xe.removeEventListener("error",ye),Xe.removeEventListener("abort",ye),Xe.removeEventListener("load",Ie),Xe.removeEventListener("timeout",ye),We.reportProgress&&(Xe.removeEventListener("progress",ze),null!==Zt&&Xe.upload&&Xe.upload.removeEventListener("progress",Tt)),Xe.readyState!==Xe.DONE&&Xe.abort()}})))}static{this.\u0275fac=function(zt){return new(zt||qe)(e.KVO(O.N0))}}static{this.\u0275prov=e.jDH({token:qe,factory:qe.\u0275fac})}}return qe})();const cn=new e.nKC(""),An=new e.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Bn=new e.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class It{}let Dn=(()=>{class qe{constructor(We,zt,ct){this.doc=We,this.platform=zt,this.cookieName=ct,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const We=this.doc.cookie||"";return We!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,O._b)(We,this.cookieName),this.lastCookieString=We),this.lastToken}static{this.\u0275fac=function(zt){return new(zt||qe)(e.KVO(O.qQ),e.KVO(e.Agw),e.KVO(An))}}static{this.\u0275prov=e.jDH({token:qe,factory:qe.\u0275fac})}}return qe})();function Gt(qe,At){const We=qe.url.toLowerCase();if(!(0,e.WQX)(cn)||"GET"===qe.method||"HEAD"===qe.method||We.startsWith("http://")||We.startsWith("https://"))return At(qe);const zt=(0,e.WQX)(It).getToken(),ct=(0,e.WQX)(Bn);return null!=zt&&!qe.headers.has(ct)&&(qe=qe.clone({headers:qe.headers.set(ct,zt)})),At(qe)}var Ct=function(qe){return qe[qe.Interceptors=0]="Interceptors",qe[qe.LegacyInterceptors=1]="LegacyInterceptors",qe[qe.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",qe[qe.NoXsrfProtection=3]="NoXsrfProtection",qe[qe.JsonpSupport=4]="JsonpSupport",qe[qe.RequestsMadeViaParent=5]="RequestsMadeViaParent",qe[qe.Fetch=6]="Fetch",qe}(Ct||{});function yt(qe,At){return{\u0275kind:qe,\u0275providers:At}}function Ot(...qe){const At=[Fe,Bt,Pt,{provide:F,useExisting:Pt},{provide:b,useExisting:Bt},{provide:Z,useValue:Gt,multi:!0},{provide:cn,useValue:!0},{provide:It,useClass:Dn}];for(const We of qe)At.push(...We.\u0275providers);return(0,e.EmA)(At)}const Sn=new e.nKC("");let $t=(()=>{class qe{static{this.\u0275fac=function(zt){return new(zt||qe)}}static{this.\u0275mod=e.$C({type:qe})}static{this.\u0275inj=e.G2t({providers:[Ot(yt(Ct.LegacyInterceptors,[{provide:Sn,useFactory:at},{provide:Z,useExisting:Sn,multi:!0}]))]})}}return qe})()},4438:(nt,fe,h)=>{"use strict";h.d(fe,{bc$:()=>jS,iLQ:()=>gS,sZ2:()=>vc,hnV:()=>pD,Hbi:()=>gR,o8S:()=>Mu,BIS:()=>X_,gRc:()=>DD,Ql9:()=>j2,OM3:()=>ef,Ocv:()=>X2,abz:()=>Po,Z63:()=>zr,aKT:()=>Ku,uvJ:()=>Ar,zcH:()=>Nl,bkB:()=>Dl,$GK:()=>yi,nKC:()=>ct,zZn:()=>_a,_q3:()=>SS,MKu:()=>TS,xe9:()=>Hy,Co$:()=>iw,Vns:()=>lu,SKi:()=>Ps,Xx1:()=>Cr,Agw:()=>wp,PLl:()=>Rl,sFG:()=>ET,_9s:()=>CC,czy:()=>xh,WPN:()=>wc,kdw:()=>cs,C4Q:()=>al,NYb:()=>O2,giA:()=>hD,RxE:()=>rD,c1b:()=>ym,gXe:()=>Gr,mal:()=>nc,Af3:()=>Es,L39:()=>WR,a0P:()=>qR,Ol2:()=>_f,w6W:()=>qT,oH4:()=>ED,SmG:()=>tR,Rfq:()=>Gt,WQX:()=>Wn,naY:()=>eR,QuC:()=>Us,EmA:()=>xo,fpN:()=>mR,HJs:()=>eM,N4e:()=>xs,O8t:()=>zR,An2:()=>fm,H3F:()=>sD,H8p:()=>Ya,KH2:()=>Du,TgB:()=>xd,wOt:()=>Be,WHO:()=>uD,e01:()=>dD,lNU:()=>at,h9k:()=>L0,$MX:()=>rd,ZF7:()=>Qo,Kcf:()=>Mp,e5t:()=>x0,UyX:()=>nd,cWb:()=>M0,osQ:()=>nb,H5H:()=>yg,Zy3:()=>ot,mq5:()=>ny,JZv:()=>gt,LfX:()=>mi,plB:()=>Dc,jNT:()=>pS,zjR:()=>fD,TL$:()=>b0,Tbb:()=>xn,rcV:()=>Bl,nM4:()=>ew,Vt3:()=>xm,Mj6:()=>Yr,GFd:()=>Om,OA$:()=>eo,Jv_:()=>EI,aNF:()=>SI,R7$:()=>uv,BMQ:()=>Xm,HbH:()=>U1,ZvI:()=>H1,STu:()=>W1,AVh:()=>lg,vxM:()=>dg,wni:()=>hi,VBU:()=>cr,FsC:()=>Ka,jDH:()=>ei,G2t:()=>Xn,$C:()=>hs,EJ8:()=>Ro,rXU:()=>hd,nrm:()=>pg,eu8:()=>mg,bVm:()=>kf,qex:()=>xf,k0s:()=>Rf,j41:()=>Af,RV6:()=>ty,xGo:()=>Xg,Mr5:()=>gg,pXf:()=>Ae,KVO:()=>er,kS0:()=>lh,QTQ:()=>hv,bIt:()=>yn,lsd:()=>Is,XpG:()=>Zi,nI1:()=>LI,bMT:()=>UI,i5U:()=>VI,brH:()=>jI,SdG:()=>Yi,NAR:()=>ir,Y8G:()=>sg,FS9:()=>Xi,Mz_:()=>Wi,FCK:()=>Zr,lJ4:()=>II,eq3:()=>DI,l_i:()=>AI,sMw:()=>RI,ziG:()=>MI,s1E:()=>xI,l4e:()=>kI,mGM:()=>qi,sdS:()=>Ha,Dyx:()=>q1,Z7z:()=>Z1,fX1:()=>Q1,Njj:()=>Jf,EBC:()=>z0,tSv:()=>K0,eBV:()=>jc,npT:()=>U0,B4B:()=>Fp,n$t:()=>j0,xc7:()=>ag,zvX:()=>vg,DNE:()=>cu,C5r:()=>$I,EFF:()=>Lf,JRh:()=>Uf,SpI:()=>Ly,Lme:()=>tS,DH7:()=>CI,mxI:()=>iS,R50:()=>nS,GBs:()=>Ii}),h(467);let y=null,w=1;const C=Symbol("SIGNAL");function m(t){const r=y;return y=t,r}function M(t){if((!L(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==w)){if(!t.producerMustRecompute(t)&&!U(t))return t.dirty=!1,void(t.lastCleanEpoch=w);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=w}}function U(t){J(t);for(let r=0;r<t.producerNode.length;r++){const o=t.producerNode[r],l=t.producerLastReadVersion[r];if(l!==o.version||(M(o),l!==o.version))return!0}return!1}function se(t,r){if(function q(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),J(t),1===t.liveConsumerNode.length)for(let l=0;l<t.producerNode.length;l++)se(t.producerNode[l],t.producerIndexOfThis[l]);const o=t.liveConsumerNode.length-1;if(t.liveConsumerNode[r]=t.liveConsumerNode[o],t.liveConsumerIndexOfThis[r]=t.liveConsumerIndexOfThis[o],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,r<t.liveConsumerNode.length){const l=t.liveConsumerIndexOfThis[r],v=t.liveConsumerNode[r];J(v),v.producerIndexOfThis[l]=r}}function L(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function J(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let xe=null;var z=h(1413),Y=h(8359),Z=h(4412),Ce=h(6354);const at="https://g.co/ng/security#xss";class Be extends Error{constructor(r,o){super(ot(r,o)),this.code=r}}function ot(t,r){return`NG0${Math.abs(t)}${r?": "+r:""}`}function Ft(t){return{toString:t}.toString()}const je="__parameters__";function Ve(t,r,o){return Ft(()=>{const l=function oe(t){return function(...o){if(t){const l=t(...o);for(const v in l)this[v]=l[v]}}}(r);function v(...E){if(this instanceof v)return l.apply(this,E),this;const x=new v(...E);return H.annotation=x,H;function H(ne,Ee,He){const dt=ne.hasOwnProperty(je)?ne[je]:Object.defineProperty(ne,je,{value:[]})[je];for(;dt.length<=He;)dt.push(null);return(dt[He]=dt[He]||[]).push(x),ne}}return o&&(v.prototype=Object.create(o.prototype)),v.prototype.ngMetadataName=t,v.annotationCls=v,v})}const gt=globalThis;function hn(t){for(let r in t)if(t[r]===hn)return r;throw Error("Could not find renamed property on target object.")}function An(t,r){for(const o in r)r.hasOwnProperty(o)&&!t.hasOwnProperty(o)&&(t[o]=r[o])}function xn(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(xn).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const o=r.indexOf("\n");return-1===o?r:r.substring(0,o)}function Bn(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const Dn=hn({__forward_ref__:hn});function Gt(t){return t.__forward_ref__=Gt,t.toString=function(){return xn(this())},t}function lt(t){return Ct(t)?t():t}function Ct(t){return"function"==typeof t&&t.hasOwnProperty(Dn)&&t.__forward_ref__===Gt}function Un(t,r,o){t!=r&&function gn(t,r,o,l){throw new Error(`ASSERTION ERROR: ${t}`+(null==l?"":` [Expected=> ${o} ${l} ${r} <=Actual]`))}(o,t,r,"==")}function ei(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Xn(t){return{providers:t.providers||[],imports:t.imports||[]}}function wi(t){return Hi(t,qe)||Hi(t,We)}function mi(t){return null!==wi(t)}function Hi(t,r){return t.hasOwnProperty(r)?t[r]:null}function Ei(t){return t&&(t.hasOwnProperty(At)||t.hasOwnProperty(zt))?t[At]:null}const qe=hn({\u0275prov:hn}),At=hn({\u0275inj:hn}),We=hn({ngInjectableDef:hn}),zt=hn({ngInjectorDef:hn});class ct{constructor(r,o){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=ei({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function vt(t){return t&&!!t.\u0275providers}const Xt=hn({\u0275cmp:hn}),Vn=hn({\u0275dir:hn}),ri=hn({\u0275pipe:hn}),vi=hn({\u0275mod:hn}),ti=hn({\u0275fac:hn}),Ui=hn({__NG_ELEMENT_ID__:hn}),hr=hn({__NG_ENV_ID__:hn});function Hn(t){return"string"==typeof t?t:null==t?"":String(t)}function Bs(t,r){throw new Be(-201,!1)}var yi=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(yi||{});let Gs;function _s(){return Gs}function Tr(t){const r=Gs;return Gs=t,r}function Ls(t,r,o){const l=wi(t);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:o&yi.Optional?null:void 0!==r?r:void Bs()}const Mi={},Zs="__NG_DI_FLAG__",li="ngTempTokenPath",$n=/\n/gm,mr="__source";let Ir;function Nr(t){const r=Ir;return Ir=t,r}function $r(t,r=yi.Default){if(void 0===Ir)throw new Be(-203,!1);return null===Ir?Ls(t,void 0,r):Ir.get(t,r&yi.Optional?null:void 0,r)}function er(t,r=yi.Default){return(_s()||$r)(lt(t),r)}function Wn(t,r=yi.Default){return er(t,Kr(r))}function Kr(t){return typeof t>"u"||"number"==typeof t?t:(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function lr(t){const r=[];for(let o=0;o<t.length;o++){const l=lt(t[o]);if(Array.isArray(l)){if(0===l.length)throw new Be(900,!1);let v,E=yi.Default;for(let x=0;x<l.length;x++){const H=l[x],ne=as(H);"number"==typeof ne?-1===ne?v=H.token:E|=ne:v=H}r.push(er(v,E))}else r.push(er(l))}return r}function Or(t,r){return t[Zs]=r,t.prototype[Zs]=r,t}function as(t){return t[Zs]}const Cr=Or(Ve("Optional"),8),cs=Or(Ve("SkipSelf"),4);function es(t,r){return t.hasOwnProperty(ti)?t[ti]:null}function ts(t,r){t.forEach(o=>Array.isArray(o)?ts(o,r):r(o))}function Vo(t,r,o){r>=t.length?t.push(o):t.splice(r,0,o)}function ra(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function rr(t,r,o){let l=us(t,r);return l>=0?t[1|l]=o:(l=~l,function As(t,r,o,l){let v=t.length;if(v==r)t.push(o,l);else if(1===v)t.push(l,t[0]),t[0]=o;else{for(v--,t.push(t[v-1],t[v]);v>r;)t[v]=t[v-2],v--;t[r]=o,t[r+1]=l}}(t,l,r,o)),l}function Fr(t,r){const o=us(t,r);if(o>=0)return t[1|o]}function us(t,r){return function Ra(t,r,o){let l=0,v=t.length>>o;for(;v!==l;){const E=l+(v-l>>1),x=t[E<<o];if(r===x)return E<<o;x>r?v=E:l=E+1}return~(v<<o)}(t,r,1)}const Rs={},oi=[],zr=new ct(""),Hs=new ct("",-1),gr=new ct("");class Ws{get(r,o=Mi){if(o===Mi){const l=new Error(`NullInjectorError: No provider for ${xn(r)}!`);throw l.name="NullInjectorError",l}return o}}var Br=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Br||{}),Gr=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Gr||{}),Yr=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Yr||{});function Cn(t,r,o){let l=t.length;for(;;){const v=t.indexOf(r,o);if(-1===v)return v;if(0===v||t.charCodeAt(v-1)<=32){const E=r.length;if(v+E===l||t.charCodeAt(v+E)<=32)return v}o=v+1}}function bs(t,r,o){let l=0;for(;l<o.length;){const v=o[l];if("number"==typeof v){if(0!==v)break;l++;const E=o[l++],x=o[l++],H=o[l++];t.setAttribute(r,x,H,E)}else{const E=v,x=o[++l];Ue(E)?t.setProperty(r,E,x):t.setAttribute(r,E,x),l++}}return l}function ke(t){return 3===t||4===t||6===t}function Ue(t){return 64===t.charCodeAt(0)}function he(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let o=-1;for(let l=0;l<r.length;l++){const v=r[l];"number"==typeof v?o=v:0===o||Ze(t,o,v,null,-1===o||2===o?r[++l]:null)}}return t}function Ze(t,r,o,l,v){let E=0,x=t.length;if(-1===r)x=-1;else for(;E<t.length;){const H=t[E++];if("number"==typeof H){if(H===r){x=-1;break}if(H>r){x=E-1;break}}}for(;E<t.length;){const H=t[E];if("number"==typeof H)break;if(H===o){if(null===l)return void(null!==v&&(t[E+1]=v));if(l===t[E+1])return void(t[E+2]=v)}E++,null!==l&&E++,null!==v&&E++}-1!==x&&(t.splice(x,0,r),E=x+1),t.splice(E++,0,o),null!==l&&t.splice(E++,0,l),null!==v&&t.splice(E++,0,v)}const Lt="ng-template";function Kn(t,r,o,l){let v=0;if(l){for(;v<r.length&&"string"==typeof r[v];v+=2)if("class"===r[v]&&-1!==Cn(r[v+1].toLowerCase(),o,0))return!0}else if(Si(t))return!1;if(v=r.indexOf(1,v),v>-1){let E;for(;++v<r.length&&"string"==typeof(E=r[v]);)if(E.toLowerCase()===o)return!0}return!1}function Si(t){return 4===t.type&&t.value!==Lt}function ds(t,r,o){return r===(4!==t.type||o?t.value:Lt)}function Cs(t,r,o){let l=4;const v=t.attrs,E=null!==v?function kt(t){for(let r=0;r<t.length;r++)if(ke(t[r]))return r;return t.length}(v):0;let x=!1;for(let H=0;H<r.length;H++){const ne=r[H];if("number"!=typeof ne){if(!x)if(4&l){if(l=2|1&l,""!==ne&&!ds(t,ne,o)||""===ne&&1===r.length){if(ni(l))return!1;x=!0}}else if(8&l){if(null===v||!Kn(t,v,ne,o)){if(ni(l))return!1;x=!0}}else{const Ee=r[++H],He=Re(ne,v,Si(t),o);if(-1===He){if(ni(l))return!1;x=!0;continue}if(""!==Ee){let dt;if(dt=He>E?"":v[He+1].toLowerCase(),2&l&&Ee!==dt){if(ni(l))return!1;x=!0}}}}else{if(!x&&!ni(l)&&!ni(ne))return!1;if(x&&ni(ne))continue;x=!1,l=ne|1&l}}return ni(l)||x}function ni(t){return!(1&t)}function Re(t,r,o,l){if(null===r)return-1;let v=0;if(l||!o){let E=!1;for(;v<r.length;){const x=r[v];if(x===t)return v;if(3===x||6===x)E=!0;else{if(1===x||2===x){let H=r[++v];for(;"string"==typeof H;)H=r[++v];continue}if(4===x)break;if(0===x){v+=4;continue}}v+=E?1:2}return-1}return function Vt(t,r){let o=t.indexOf(4);if(o>-1)for(o++;o<t.length;){const l=t[o];if("number"==typeof l)return-1;if(l===r)return o;o++}return-1}(r,t)}function Je(t,r,o=!1){for(let l=0;l<r.length;l++)if(Cs(t,r[l],o))return!0;return!1}function St(t,r){e:for(let o=0;o<r.length;o++){const l=r[o];if(t.length===l.length){for(let v=0;v<t.length;v++)if(t[v]!==l[v])continue e;return!0}}return!1}function on(t,r){return t?":not("+r.trim()+")":r}function Nn(t){let r=t[0],o=1,l=2,v="",E=!1;for(;o<t.length;){let x=t[o];if("string"==typeof x)if(2&l){const H=t[++o];v+="["+x+(H.length>0?'="'+H+'"':"")+"]"}else 8&l?v+="."+x:4&l&&(v+=" "+x);else""!==v&&!ni(x)&&(r+=on(E,v),v=""),l=x,E=E||!ni(l);o++}return""!==v&&(r+=on(E,v)),r}function cr(t){return Ft(()=>{const r=Mn(t),o={...r,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Br.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Gr.Emulated,styles:t.styles||oi,_:null,schemas:t.schemas||null,tView:null,id:""};xi(o);const l=t.dependencies;return o.directiveDefs=Mo(l,!1),o.pipeDefs=Mo(l,!0),o.id=function gl(t){let r=0;const o=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const v of o)r=Math.imul(31,r)+v.charCodeAt(0)|0;return r+=2147483648,"c"+r}(o),o})}function Hr(t){return Pi(t)||Ki(t)}function ui(t){return null!==t}function hs(t){return Ft(()=>({type:t.type,bootstrap:t.bootstrap||oi,declarations:t.declarations||oi,imports:t.imports||oi,exports:t.exports||oi,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function $i(t,r){if(null==t)return Rs;const o={};for(const l in t)if(t.hasOwnProperty(l)){const v=t[l];let E,x,H=Yr.None;Array.isArray(v)?(H=v[0],E=v[1],x=v[2]??E):(E=v,x=v),r?(o[E]=H!==Yr.None?[l,H]:l,r[E]=x):o[E]=l}return o}function Ka(t){return Ft(()=>{const r=Mn(t);return xi(r),r})}function Ro(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Pi(t){return t[Xt]||null}function Ki(t){return t[Vn]||null}function ns(t){return t[ri]||null}function Us(t){const r=Pi(t)||Ki(t)||ns(t);return null!==r&&r.standalone}function vr(t,r){const o=t[vi]||null;if(!o&&!0===r)throw new Error(`Type ${xn(t)} does not have '\u0275mod' property.`);return o}function Mn(t){const r={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputTransforms:null,inputConfig:t.inputs||Rs,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||oi,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:$i(t.inputs,r),outputs:$i(t.outputs),debugInfo:null}}function xi(t){t.features?.forEach(r=>r(t))}function Mo(t,r){if(!t)return null;const o=r?ns:Hr;return()=>("function"==typeof t?t():t).map(l=>o(l)).filter(ui)}function xo(t){return{\u0275providers:t}}function jo(...t){return{\u0275providers:Vs(0,t),\u0275fromNgModule:!0}}function Vs(t,...r){const o=[],l=new Set;let v;const E=x=>{o.push(x)};return ts(r,x=>{const H=x;wr(H,E,[],l)&&(v||=[],v.push(H))}),void 0!==v&&pa(v,E),o}function pa(t,r){for(let o=0;o<t.length;o++){const{ngModule:l,providers:v}=t[o];Mr(v,E=>{r(E,l)})}}function wr(t,r,o,l){if(!(t=lt(t)))return!1;let v=null,E=Ei(t);const x=!E&&Pi(t);if(E||x){if(x&&!x.standalone)return!1;v=t}else{const ne=t.ngModule;if(E=Ei(ne),!E)return!1;v=ne}const H=l.has(v);if(x){if(H)return!1;if(l.add(v),x.dependencies){const ne="function"==typeof x.dependencies?x.dependencies():x.dependencies;for(const Ee of ne)wr(Ee,r,o,l)}}else{if(!E)return!1;{if(null!=E.imports&&!H){let Ee;l.add(v);try{ts(E.imports,He=>{wr(He,r,o,l)&&(Ee||=[],Ee.push(He))})}finally{}void 0!==Ee&&pa(Ee,r)}if(!H){const Ee=es(v)||(()=>new v);r({provide:v,useFactory:Ee,deps:oi},v),r({provide:gr,useValue:v,multi:!0},v),r({provide:zr,useValue:()=>er(v),multi:!0},v)}const ne=E.providers;if(null!=ne&&!H){const Ee=t;Mr(ne,He=>{r(He,Ee)})}}}return v!==t&&void 0!==t.providers}function Mr(t,r){for(let o of t)vt(o)&&(o=o.\u0275providers),Array.isArray(o)?Mr(o,r):r(o)}const $o=hn({provide:String,useValue:hn});function gs(t){return null!==t&&"object"==typeof t&&$o in t}function Go(t){return"function"==typeof t}const Ya=new ct(""),Ma={},Xa={};let Ja;function ws(){return void 0===Ja&&(Ja=new Ws),Ja}class Ar{}class go extends Ar{get destroyed(){return this._destroyed}constructor(r,o,l,v){super(),this.parent=o,this.source=l,this.scopes=v,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,lo(r,x=>this.processProvider(x)),this.records.set(Hs,Xr(void 0,this)),v.has("environment")&&this.records.set(Ar,Xr(void 0,this));const E=this.records.get(Ya);null!=E&&"string"==typeof E.value&&this.scopes.add(E.value),this.injectorDefTypes=new Set(this.get(gr,oi,yi.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const r=m(null);try{for(const l of this._ngOnDestroyHooks)l.ngOnDestroy();const o=this._onDestroyHooks;this._onDestroyHooks=[];for(const l of o)l()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),m(r)}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();const o=Nr(this),l=Tr(void 0);try{return r()}finally{Nr(o),Tr(l)}}get(r,o=Mi,l=yi.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(hr))return r[hr](this);l=Kr(l);const E=Nr(this),x=Tr(void 0);try{if(!(l&yi.SkipSelf)){let ne=this.records.get(r);if(void 0===ne){const Ee=function ma(t){return"function"==typeof t||"object"==typeof t&&t instanceof ct}(r)&&wi(r);ne=Ee&&this.injectableDefInScope(Ee)?Xr(Ms(r),Ma):null,this.records.set(r,ne)}if(null!=ne)return this.hydrate(r,ne)}return(l&yi.Self?ws():this.parent).get(r,o=l&yi.Optional&&o===Mi?null:o)}catch(H){if("NullInjectorError"===H.name){if((H[li]=H[li]||[]).unshift(xn(r)),E)throw H;return function ro(t,r,o,l){const v=t[li];throw r[mr]&&v.unshift(r[mr]),t.message=function wo(t,r,o,l=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let v=xn(r);if(Array.isArray(r))v=r.map(xn).join(" -> ");else if("object"==typeof r){let E=[];for(let x in r)if(r.hasOwnProperty(x)){let H=r[x];E.push(x+":"+("string"==typeof H?JSON.stringify(H):xn(H)))}v=`{${E.join(", ")}}`}return`${o}${l?"("+l+")":""}[${v}]: ${t.replace($n,"\n  ")}`}("\n"+t.message,v,o,l),t.ngTokenPath=v,t[li]=null,t}(H,r,"R3InjectorError",this.source)}throw H}finally{Tr(x),Nr(E)}}resolveInjectorInitializers(){const r=m(null),o=Nr(this),l=Tr(void 0);try{const E=this.get(zr,oi,yi.Self);for(const x of E)x()}finally{Nr(o),Tr(l),m(r)}}toString(){const r=[],o=this.records;for(const l of o.keys())r.push(xn(l));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Be(205,!1)}processProvider(r){let o=Go(r=lt(r))?r:lt(r&&r.provide);const l=function Ho(t){return gs(t)?Xr(void 0,t.useValue):Xr(Eo(t),Ma)}(r);if(!Go(r)&&!0===r.multi){let v=this.records.get(o);v||(v=Xr(void 0,Ma,!0),v.factory=()=>lr(v.multi),this.records.set(o,v)),o=r,v.multi.push(r)}this.records.set(o,l)}hydrate(r,o){const l=m(null);try{return o.value===Ma&&(o.value=Xa,o.value=o.factory()),"object"==typeof o.value&&o.value&&function Qa(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}finally{m(l)}}injectableDefInScope(r){if(!r.providedIn)return!1;const o=lt(r.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(r){const o=this._onDestroyHooks.indexOf(r);-1!==o&&this._onDestroyHooks.splice(o,1)}}function Ms(t){const r=wi(t),o=null!==r?r.factory:es(t);if(null!==o)return o;if(t instanceof ct)throw new Be(204,!1);if(t instanceof Function)return function qs(t){if(t.length>0)throw new Be(204,!1);const o=function ji(t){return t&&(t[qe]||t[We])||null}(t);return null!==o?()=>o.factory(t):()=>new t}(t);throw new Be(204,!1)}function Eo(t,r,o){let l;if(Go(t)){const v=lt(t);return es(v)||Ms(v)}if(gs(t))l=()=>lt(t.useValue);else if(function $l(t){return!(!t||!t.useFactory)}(t))l=()=>t.useFactory(...lr(t.deps||[]));else if(function za(t){return!(!t||!t.useExisting)}(t))l=()=>er(lt(t.useExisting));else{const v=lt(t&&(t.useClass||t.provide));if(!function vs(t){return!!t.deps}(t))return es(v)||Ms(v);l=()=>new v(...lr(t.deps))}return l}function Xr(t,r,o=!1){return{factory:t,value:r,multi:o?[]:void 0}}function lo(t,r){for(const o of t)Array.isArray(o)?lo(o,r):o&&vt(o)?lo(o.\u0275providers,r):r(o)}function xs(t,r){t instanceof go&&t.assertNotDestroyed();const l=Nr(t),v=Tr(void 0);try{return r()}finally{Nr(l),Tr(v)}}function Fi(){return void 0!==_s()||null!=function Dr(){return Ir}()}function Es(t){if(!Fi())throw new Be(-203,!1)}const pe=0,P=1,ue=2,Me=3,rt=4,Nt=5,Ut=6,rn=7,an=8,_n=9,qn=10,jn=11,Er=12,gi=13,Wr=14,Rr=15,Ss=16,or=17,fs=18,Wo=19,xa=20,So=21,ks=22,sa=23,Ri=25,ka=1,Ko=7,Za=9,Ts=10;var Lr=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Lr||{});function Di(t){return Array.isArray(t)&&"object"==typeof t[ka]}function is(t){return Array.isArray(t)&&!0===t[ka]}function vl(t){return!!(4&t.flags)}function ga(t){return t.componentOffset>-1}function va(t){return!(1&~t.flags)}function vo(t){return!!t.template}function yl(t){return!!(512&t[ue])}class Na{constructor(r,o,l){this.previousValue=r,this.currentValue=o,this.firstChange=l}isFirstChange(){return this.firstChange}}function Wl(t,r,o,l){null!==r?r.applyValueToInputSignal(r,l):t[o]=l}function eo(){return Kl}function Kl(t){return t.type.prototype.ngOnChanges&&(t.setInput=qa),Hf}function Hf(){const t=Oa(this),r=t?.current;if(r){const o=t.previous;if(o===Rs)t.previous=r;else for(let l in r)o[l]=r[l];t.current=null,this.ngOnChanges(r)}}function qa(t,r,o,l,v){const E=this.declaredInputs[l],x=Oa(t)||function _l(t,r){return t[Jr]=r}(t,{previous:Rs,current:null}),H=x.current||(x.current={}),ne=x.previous,Ee=ne[E];H[E]=new Na(Ee&&Ee.currentValue,o,ne===Rs),Wl(t,r,v,o)}eo.ngInherit=!0;const Jr="__ngSimpleChanges__";function Oa(t){return t[Jr]||null}const aa=function(t,r,o){};let wl=!1;function Sr(t){for(;Array.isArray(t);)t=t[pe];return t}function Ou(t,r){return Sr(r[t])}function zo(t,r){return Sr(r[t.index])}function Pu(t,r){return t.data[r]}function Uc(t,r){return t[r]}function ya(t,r){const o=r[t];return Di(o)?o:o[pe]}function Kf(t){return!(128&~t[ue])}function El(t,r){return null==r?null:t[r]}function Fg(t){t[or]=0}function t_(t){1024&t[ue]||(t[ue]|=1024,Kf(t)&&js(t))}function zf(t){return!!(9216&t[ue]||t[sa]?.dirty)}function Yf(t){t[qn].changeDetectionScheduler?.notify(1),zf(t)?js(t):64&t[ue]&&(function Nu(){return wl}()?(t[ue]|=1024,js(t)):t[qn].changeDetectionScheduler?.notify())}function js(t){t[qn].changeDetectionScheduler?.notify();let r=ac(t);for(;null!==r&&!(8192&r[ue])&&(r[ue]|=8192,Kf(r));)r=ac(r)}function Vc(t,r){if(!(256&~t[ue]))throw new Be(911,!1);null===t[So]&&(t[So]=[]),t[So].push(r)}function ac(t){const r=t[Me];return is(r)?r[Me]:r}const Li={lFrame:eh(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function r_(){return Li.bindingsEnabled}function lc(){return null!==Li.skipHydrationRootTNode}function bn(){return Li.lFrame.lView}function pr(){return Li.lFrame.tView}function jc(t){return Li.lFrame.contextLView=t,t[an]}function Jf(t){return Li.lFrame.contextLView=null,t}function Ur(){let t=uc();for(;null!==t&&64===t.type;)t=t.parent;return t}function uc(){return Li.lFrame.currentTNode}function la(){const t=Li.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}function el(t,r){const o=Li.lFrame;o.currentTNode=t,o.isParent=r}function Qf(){return Li.lFrame.isParent}function $c(){Li.lFrame.isParent=!1}function yo(){const t=Li.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}function No(){return Li.lFrame.bindingIndex++}function Fa(t){const r=Li.lFrame,o=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,o}function Zf(t){Li.lFrame.inI18n=t}function Vg(t,r){const o=Li.lFrame;o.bindingIndex=o.bindingRootIndex=t,Yl(r)}function Yl(t){Li.lFrame.currentDirectiveIndex=t}function ep(t){const r=Li.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}function hc(){return Li.lFrame.currentQueryIndex}function Sl(t){Li.lFrame.currentQueryIndex=t}function tp(t){const r=t[P];return 2===r.type?r.declTNode:1===r.type?t[Nt]:null}function Zd(t,r,o){if(o&yi.SkipSelf){let v=r,E=t;for(;!(v=v.parent,null!==v||o&yi.Host||(v=tp(E),null===v||(E=E[Wr],10&v.type))););if(null===v)return!1;r=v,t=E}const l=Li.lFrame=np();return l.currentTNode=r,l.lView=t,!0}function qd(t){const r=np(),o=t[P];Li.lFrame=r,r.currentTNode=o.firstChild,r.lView=t,r.tView=o,r.contextLView=t,r.bindingIndex=o.bindingStartIndex,r.inI18n=!1}function np(){const t=Li.lFrame,r=null===t?null:t.child;return null===r?eh(t):r}function eh(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function th(){const t=Li.lFrame;return Li.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ip=th;function Lu(){const t=th();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function co(){return Li.lFrame.selectedIndex}function Tl(t){Li.lFrame.selectedIndex=t}function rs(){const t=Li.lFrame;return Pu(t.tView,t.selectedIndex)}let Jl=!0;function Uu(){return Jl}function Oo(t){Jl=t}function Yo(t,r){for(let o=r.directiveStart,l=r.directiveEnd;o<l;o++){const E=t.data[o].type.prototype,{ngAfterContentInit:x,ngAfterContentChecked:H,ngAfterViewInit:ne,ngAfterViewChecked:Ee,ngOnDestroy:He}=E;x&&(t.contentHooks??=[]).push(-o,x),H&&((t.contentHooks??=[]).push(o,H),(t.contentCheckHooks??=[]).push(o,H)),ne&&(t.viewHooks??=[]).push(-o,ne),Ee&&((t.viewHooks??=[]).push(o,Ee),(t.viewCheckHooks??=[]).push(o,Ee)),null!=He&&(t.destroyHooks??=[]).push(o,He)}}function Vu(t,r,o){$g(t,r,3,o)}function ih(t,r,o,l){(3&t[ue])===o&&$g(t,r,o,l)}function op(t,r){let o=t[ue];(3&o)===r&&(o&=16383,o+=1,t[ue]=o)}function $g(t,r,o,l){const E=l??-1,x=r.length-1;let H=0;for(let ne=void 0!==l?65535&t[or]:0;ne<x;ne++)if("number"==typeof r[ne+1]){if(H=r[ne],null!=l&&H>=l)break}else r[ne]<0&&(t[or]+=65536),(H<E||-1==E)&&(a_(t,o,r,ne),t[or]=(4294901760&t[or])+ne+2),ne++}function Gg(t,r){aa(4,t,r);const o=m(null);try{r.call(t)}finally{m(o),aa(5,t,r)}}function a_(t,r,o,l){const v=o[l]<0,E=o[l+1],H=t[v?-o[l]:o[l]];v?t[ue]>>14<t[or]>>16&&(3&t[ue])===r&&(t[ue]+=16384,Gg(H,E)):Gg(H,E)}const Hc=-1;class ju{constructor(r,o,l){this.factory=r,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=l}}function lp(t){return t!==Hc}function $u(t){return 32767&t}function Gu(t,r){let o=function h_(t){return t>>16}(t),l=r;for(;o>0;)l=l[Wr],o--;return l}let cp=!0;function rh(t){const r=cp;return cp=t,r}const f_=255,p_=5;let OS=0;const kl={};function up(t,r){const o=Hg(t,r);if(-1!==o)return o;const l=r[P];l.firstCreatePass&&(t.injectorIndex=r.length,Ba(l.data,t),Ba(r,null),Ba(l.blueprint,null));const v=sh(t,r),E=t.injectorIndex;if(lp(v)){const x=$u(v),H=Gu(v,r),ne=H[P].data;for(let Ee=0;Ee<8;Ee++)r[E+Ee]=H[x+Ee]|ne[x+Ee]}return r[E+8]=v,E}function Ba(t,r){t.push(0,0,0,0,0,0,0,0,r)}function Hg(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function sh(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let o=0,l=null,v=r;for(;null!==v;){if(l=Jg(v),null===l)return Hc;if(o++,v=v[Wr],-1!==l.injectorIndex)return l.injectorIndex|o<<16}return Hc}function Gi(t,r,o){!function m_(t,r,o){let l;"string"==typeof o?l=o.charCodeAt(0)||0:o.hasOwnProperty(Ui)&&(l=o[Ui]),null==l&&(l=o[Ui]=OS++);const v=l&f_;r.data[t+(v>>p_)]|=1<<v}(t,r,o)}function hp(t,r,o){if(o&yi.Optional||void 0!==t)return t;Bs()}function oh(t,r,o,l){if(o&yi.Optional&&void 0===l&&(l=null),!(o&(yi.Self|yi.Host))){const v=t[_n],E=Tr(void 0);try{return v?v.get(r,l,o&yi.Optional):Ls(r,l,o&yi.Optional)}finally{Tr(E)}}return hp(l,0,o)}function Wg(t,r,o,l=yi.Default,v){if(null!==t){if(2048&r[ue]&&!(l&yi.Self)){const x=function __(t,r,o,l,v){let E=t,x=r;for(;null!==E&&null!==x&&2048&x[ue]&&!(512&x[ue]);){const H=Kg(E,x,o,l|yi.Self,kl);if(H!==kl)return H;let ne=E.parent;if(!ne){const Ee=x[xa];if(Ee){const He=Ee.get(o,kl,l);if(He!==kl)return He}ne=Jg(x),x=x[Wr]}E=ne}return v}(t,r,o,l,kl);if(x!==kl)return x}const E=Kg(t,r,o,l,kl);if(E!==kl)return E}return oh(r,o,l,v)}function Kg(t,r,o,l,v){const E=function v_(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(Ui)?t[Ui]:void 0;return"number"==typeof r?r>=0?r&f_:y_:r}(o);if("function"==typeof E){if(!Zd(r,t,l))return l&yi.Host?hp(v,0,l):oh(r,o,l,v);try{let x;if(x=E(l),null!=x||l&yi.Optional)return x;Bs()}finally{ip()}}else if("number"==typeof E){let x=null,H=Hg(t,r),ne=Hc,Ee=l&yi.Host?r[Rr][Nt]:null;for((-1===H||l&yi.SkipSelf)&&(ne=-1===H?sh(t,r):r[H+8],ne!==Hc&&Yg(l,!1)?(x=r[P],H=$u(ne),r=Gu(ne,r)):H=-1);-1!==H;){const He=r[P];if(zg(E,H,He.data)){const dt=g_(H,r,o,x,l,Ee);if(dt!==kl)return dt}ne=r[H+8],ne!==Hc&&Yg(l,r[P].data[H+8]===Ee)&&zg(E,H,r)?(x=He,H=$u(ne),r=Gu(ne,r)):H=-1}}return v}function g_(t,r,o,l,v,E){const x=r[P],H=x.data[t+8],He=ah(H,x,o,null==l?ga(H)&&cp:l!=x&&!!(3&H.type),v&yi.Host&&E===H);return null!==He?fc(r,x,He,H):kl}function ah(t,r,o,l,v){const E=t.providerIndexes,x=r.data,H=1048575&E,ne=t.directiveStart,He=E>>20,Wt=v?H+He:t.directiveEnd;for(let Qt=l?H:H+He;Qt<Wt;Qt++){const un=x[Qt];if(Qt<ne&&o===un||Qt>=ne&&un.type===o)return Qt}if(v){const Qt=x[ne];if(Qt&&vo(Qt)&&Qt.type===o)return ne}return null}function fc(t,r,o,l){let v=t[o];const E=r.data;if(function l_(t){return t instanceof ju}(v)){const x=v;x.resolving&&function kr(t,r){throw r&&r.join(" > "),new Be(-200,t)}(function si(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Hn(t)}(E[o]));const H=rh(x.canSeeViewProviders);x.resolving=!0;const Ee=x.injectImpl?Tr(x.injectImpl):null;Zd(t,l,yi.Default);try{v=t[o]=x.factory(void 0,E,t,l),r.firstCreatePass&&o>=l.directiveStart&&function Gc(t,r,o){const{ngOnChanges:l,ngOnInit:v,ngDoCheck:E}=r.type.prototype;if(l){const x=Kl(r);(o.preOrderHooks??=[]).push(t,x),(o.preOrderCheckHooks??=[]).push(t,x)}v&&(o.preOrderHooks??=[]).push(0-t,v),E&&((o.preOrderHooks??=[]).push(t,E),(o.preOrderCheckHooks??=[]).push(t,E))}(o,E[o],r)}finally{null!==Ee&&Tr(Ee),rh(H),x.resolving=!1,ip()}}return v}function zg(t,r,o){return!!(o[r+(t>>p_)]&1<<t)}function Yg(t,r){return!(t&yi.Self||t&yi.Host&&r)}class uo{constructor(r,o){this._tNode=r,this._lView=o}get(r,o,l){return Wg(this._tNode,this._lView,r,Kr(l),o)}}function y_(){return new uo(Ur(),bn())}function Xg(t){return Ft(()=>{const r=t.prototype.constructor,o=r[ti]||fp(r),l=Object.prototype;let v=Object.getPrototypeOf(t.prototype).constructor;for(;v&&v!==l;){const E=v[ti]||fp(v);if(E&&E!==o)return E;v=Object.getPrototypeOf(v)}return E=>new E})}function fp(t){return Ct(t)?()=>{const r=fp(lt(t));return r&&r()}:es(t)}function Jg(t){const r=t[P],o=r.type;return 2===o?r.declTNode:1===o?t[Nt]:null}function lh(t){return function dp(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const o=t.attrs;if(o){const l=o.length;let v=0;for(;v<l;){const E=o[v];if(ke(E))break;if(0===E)v+=2;else if("number"==typeof E)for(v++;v<l&&"string"==typeof o[v];)v++;else{if(E===r)return o[v+1];v+=2}}}return null}(Ur(),t)}function uh(t,r=null,o=null,l){const v=Wu(t,r,o,l);return v.resolveInjectorInitializers(),v}function Wu(t,r=null,o=null,l,v=new Set){const E=[o||oi,jo(t)];return l=l||("object"==typeof t?void 0:xn(t)),new go(E,r||ws(),l||null,v)}let _a=(()=>{class t{static{this.THROW_IF_NOT_FOUND=Mi}static{this.NULL=new Ws}static create(o,l){if(Array.isArray(o))return uh({name:""},l,o,"");{const v=o.name??"";return uh({name:v},o.parent,o.providers,v)}}static{this.\u0275prov=ei({token:t,providedIn:"any",factory:()=>er(Hs)})}static{this.__NG_ELEMENT_ID__=-1}}return t})();function dh(t){return t.ngOriginalError}class Nl{constructor(){this._console=console}handleError(r){const o=this._findOriginalError(r);this._console.error("ERROR",r),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(r){let o=r&&dh(r);for(;o&&dh(o);)o=dh(o);return o||null}}const Zg=new ct("",{providedIn:"root",factory:()=>Wn(Nl).handleError.bind(void 0)});let Po=(()=>{class t{static{this.__NG_ELEMENT_ID__=T_}static{this.__NG_ENV_ID__=o=>o}}return t})();class S_ extends Po{constructor(r){super(),this._lView=r}onDestroy(r){return Vc(this._lView,r),()=>function Xf(t,r){if(null===t[So])return;const o=t[So].indexOf(r);-1!==o&&t[So].splice(o,1)}(this._lView,r)}}function T_(){return new S_(bn())}function A_(){return zc(Ur(),bn())}function zc(t,r){return new Ku(zo(t,r))}let Ku=(()=>{class t{constructor(o){this.nativeElement=o}static{this.__NG_ELEMENT_ID__=A_}}return t})();function qg(t){return t instanceof Ku?t.nativeElement:t}function mp(t){return r=>{setTimeout(t,void 0,r)}}const Dl=class R_ extends z.B{constructor(r=!1){super(),this.destroyRef=void 0,this.__isAsync=r,Fi()&&(this.destroyRef=Wn(Po,{optional:!0})??void 0)}emit(r){const o=m(null);try{super.next(r)}finally{m(o)}}subscribe(r,o,l){let v=r,E=o||(()=>null),x=l;if(r&&"object"==typeof r){const ne=r;v=ne.next?.bind(ne),E=ne.error?.bind(ne),x=ne.complete?.bind(ne)}this.__isAsync&&(E=mp(E),v&&(v=mp(v)),x&&(x=mp(x)));const H=super.subscribe({next:v,error:E,complete:x});return r instanceof Y.yU&&r.add(H),H}};function M_(){return this._results[Symbol.iterator]()}class gp{get changes(){return this._changes??=new Dl}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const o=gp.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=M_)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,o){return this._results.reduce(r,o)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,o){this.dirty=!1;const l=function nr(t){return t.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function mo(t,r,o){if(t.length!==r.length)return!1;for(let l=0;l<t.length;l++){let v=t[l],E=r[l];if(o&&(v=o(v),E=o(E)),E!==v)return!1}return!0}(this._results,l,o))&&(this._results=l,this.length=l.length,this.last=l[this.length-1],this.first=l[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(r){this._onDirty=r}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function hh(t){return!(128&~t.flags)}const vp=new Map;let k_=0;const _p="__ngContext__";function Fo(t,r){Di(r)?(t[_p]=r[Wo],function O_(t){vp.set(t[Wo],t)}(r)):t[_p]=r}function u0(t){return h0(t[Er])}function d0(t){return h0(t[rt])}function h0(t){for(;null!==t&&!is(t);)t=t[rt];return t}let mh;function b0(t){mh=t}function Al(){if(void 0!==mh)return mh;if(typeof document<"u")return document;throw new Be(210,!1)}const vc=new ct("",{providedIn:"root",factory:()=>Bo}),Bo="ng",Rl=new ct(""),wp=new ct("",{providedIn:"platform",factory:()=>"unknown"}),jS=new ct(""),X_=new ct("",{providedIn:"root",factory:()=>Al().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let il=()=>null;function Jo(t,r,o=!1){return il(t,r,o)}const D0=new ct("",{providedIn:"root",factory:()=>!1});let Eh,sl;function bo(t){return function Dp(){if(void 0===Eh&&(Eh=null,gt.trustedTypes))try{Eh=gt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Eh}()?.createHTML(t)||t}function Pl(){if(void 0===sl&&(sl=null,gt.trustedTypes))try{sl=gt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return sl}function td(t){return Pl()?.createHTML(t)||t}function Sh(t){return Pl()?.createScriptURL(t)||t}class ql{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${at})`}}class Qc extends ql{getTypeName(){return"HTML"}}class Ap extends ql{getTypeName(){return"Style"}}class Rp extends ql{getTypeName(){return"Script"}}class tb extends ql{getTypeName(){return"URL"}}class Fl extends ql{getTypeName(){return"ResourceURL"}}function Bl(t){return t instanceof ql?t.changingThisBreaksApplicationSecurity:t}function Qo(t,r){const o=function Th(t){return t instanceof ql&&t.getTypeName()||null}(t);if(null!=o&&o!==r){if("ResourceURL"===o&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${o} (see ${at})`)}return o===r}function Mp(t){return new Qc(t)}function M0(t){return new Ap(t)}function nd(t){return new Rp(t)}function nb(t){return new tb(t)}function x0(t){return new Fl(t)}function k0(t){const r=new N0(t);return function xp(){try{return!!(new window.DOMParser).parseFromString(bo(""),"text/html")}catch{return!1}}()?new id(r):r}class id{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const o=(new window.DOMParser).parseFromString(bo(r),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(r):(o.removeChild(o.firstChild),o)}catch{return null}}}class N0{constructor(r){this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(r){const o=this.inertDocument.createElement("template");return o.innerHTML=bo(r),o}}const ib=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function rd(t){return(t=String(t)).match(ib)?t:"unsafe:"+t}function Ll(t){const r={};for(const o of t.split(","))r[o]=!0;return r}function sd(...t){const r={};for(const o of t)for(const l in o)o.hasOwnProperty(l)&&(r[l]=!0);return r}const Cc=Ll("area,br,col,hr,img,wbr"),Ih=Ll("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),kp=Ll("rp,rt"),od=sd(Cc,sd(Ih,Ll("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),sd(kp,Ll("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),sd(kp,Ih)),Np=Ll("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),O0=sd(Np,Ll("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ll("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ab=Ll("script,style,template");class ad{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let o=r.firstChild,l=!0,v=[];for(;o;)if(o.nodeType===Node.ELEMENT_NODE?l=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,l&&o.firstChild)v.push(o),o=cb(o);else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let E=Op(o);if(E){o=E;break}o=v.pop()}return this.buf.join("")}startElement(r){const o=P0(r).toLowerCase();if(!od.hasOwnProperty(o))return this.sanitizedSomething=!0,!ab.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const l=r.attributes;for(let v=0;v<l.length;v++){const E=l.item(v),x=E.name,H=x.toLowerCase();if(!O0.hasOwnProperty(H)){this.sanitizedSomething=!0;continue}let ne=E.value;Np[H]&&(ne=rd(ne)),this.buf.push(" ",x,'="',B0(ne),'"')}return this.buf.push(">"),!0}endElement(r){const o=P0(r).toLowerCase();od.hasOwnProperty(o)&&!Cc.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(r){this.buf.push(B0(r))}}function Op(t){const r=t.nextSibling;if(r&&t!==r.previousSibling)throw F0(r);return r}function cb(t){const r=t.firstChild;if(r&&function lb(t,r){return(t.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(t,r))throw F0(r);return r}function P0(t){const r=t.nodeName;return"string"==typeof r?r:"FORM"}function F0(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}const ub=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,db=/([^\#-~ |!])/g;function B0(t){return t.replace(/&/g,"&amp;").replace(ub,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(db,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Dh;function L0(t,r){let o=null;try{Dh=Dh||k0(t);let l=r?String(r):"";o=Dh.getInertBodyElement(l);let v=5,E=l;do{if(0===v)throw new Error("Failed to sanitize html because the input is unstable");v--,l=E,E=o.innerHTML,o=Dh.getInertBodyElement(l)}while(l!==E);return bo((new ad).sanitizeChildren(Pp(o)||o))}finally{if(o){const l=Pp(o)||o;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function Pp(t){return"content"in t&&function hb(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var wc=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(wc||{});function U0(t){const r=ld();return r?td(r.sanitize(wc.HTML,t)||""):Qo(t,"HTML")?td(Bl(t)):L0(Al(),Hn(t))}function Fp(t){const r=ld();return r?r.sanitize(wc.URL,t)||"":Qo(t,"URL")?Bl(t):rd(Hn(t))}function Bp(t){const r=ld();if(r)return Sh(r.sanitize(wc.RESOURCE_URL,t)||"");if(Qo(t,"ResourceURL"))return Sh(Bl(t));throw new Be(904,!1)}function j0(t,r,o){return function Ah(t,r){return"src"===r&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===r&&("base"===t||"link"===t)?Bp:Fp}(r,o)(t)}function ld(){const t=bn();return t&&t[qn].sanitizer}const mb=/^>|^->|<!--|-->|--!>|<!-$/g,gb=/(<|>)/g,$0="\u200b$1\u200b";function K0(t){return t.ownerDocument.defaultView}function z0(t){return t.ownerDocument}function Ca(t){return t instanceof Function?t():t}var xh=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(xh||{});let kh;function jp(t,r){return kh(t,r)}function qc(t,r,o,l,v){if(null!=l){let E,x=!1;is(l)?E=l:Di(l)&&(x=!0,l=l[pe]);const H=Sr(l);0===t&&null!==o?null==v?nv(r,o,H):Ec(r,o,H,v||null,!0):1===t&&null!==o?Ec(r,o,H,v||null,!0):2===t?function dd(t,r,o){const l=Oh(t,r);l&&function kb(t,r,o,l){t.removeChild(r,o,l)}(t,l,r,o)}(r,H,x):3===t&&r.destroyNode(H),null!=E&&function Pb(t,r,o,l,v){const E=o[Ko];E!==Sr(o)&&qc(r,t,l,E,v);for(let H=Ts;H<o.length;H++){const ne=o[H];Xp(ne[P],ne,t,r,l,E)}}(r,t,E,o,v)}}function $p(t,r){return t.createText(r)}function Gp(t,r){return t.createComment(function G0(t){return t.replace(mb,r=>r.replace(gb,$0))}(r))}function Nh(t,r,o){return t.createElement(r,o)}function q0(t,r){r[qn].changeDetectionScheduler?.notify(1),Xp(t,r,r[jn],2,null,null)}function ev(t,r){const o=t[Za],l=o.indexOf(r);o.splice(l,1)}function cd(t,r){if(t.length<=Ts)return;const o=Ts+r,l=t[o];if(l){const v=l[Ss];null!==v&&v!==t&&ev(v,l),r>0&&(t[o-1][rt]=l[rt]);const E=ra(t,Ts+r);!function Tb(t,r){q0(t,r),r[pe]=null,r[Nt]=null}(l[P],l);const x=E[fs];null!==x&&x.detachView(E[P]),l[Me]=null,l[rt]=null,l[ue]&=-129}return l}function eu(t,r){if(!(256&r[ue])){const o=r[jn];o.destroyNode&&Xp(t,r,o,3,null,null),function Db(t){let r=t[Er];if(!r)return Hp(t[P],t);for(;r;){let o=null;if(Di(r))o=r[Er];else{const l=r[Ts];l&&(o=l)}if(!o){for(;r&&!r[rt]&&r!==t;)Di(r)&&Hp(r[P],r),r=r[Me];null===r&&(r=t),Di(r)&&Hp(r[P],r),o=r&&r[rt]}r=o}}(r)}}function Hp(t,r){if(256&r[ue])return;const o=m(null);try{r[ue]&=-129,r[ue]|=256,r[sa]&&function $(t){if(J(t),L(t))for(let r=0;r<t.producerNode.length;r++)se(t.producerNode[r],t.producerIndexOfThis[r]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}(r[sa]),function xb(t,r){let o;if(null!=t&&null!=(o=t.destroyHooks))for(let l=0;l<o.length;l+=2){const v=r[o[l]];if(!(v instanceof ju)){const E=o[l+1];if(Array.isArray(E))for(let x=0;x<E.length;x+=2){const H=v[E[x]],ne=E[x+1];aa(4,H,ne);try{ne.call(H)}finally{aa(5,H,ne)}}else{aa(4,v,E);try{E.call(v)}finally{aa(5,v,E)}}}}}(t,r),function Mb(t,r){const o=t.cleanup,l=r[rn];if(null!==o)for(let E=0;E<o.length-1;E+=2)if("string"==typeof o[E]){const x=o[E+3];x>=0?l[x]():l[-x].unsubscribe(),E+=2}else o[E].call(l[o[E+1]]);null!==l&&(r[rn]=null);const v=r[So];if(null!==v){r[So]=null;for(let E=0;E<v.length;E++)(0,v[E])()}}(t,r),1===r[P].type&&r[jn].destroy();const l=r[Ss];if(null!==l&&is(r[Me])){l!==r[Me]&&ev(l,r);const v=r[fs];null!==v&&v.detachView(t)}!function P_(t){vp.delete(t[Wo])}(r)}finally{m(o)}}function Wp(t,r,o){return tv(t,r.parent,o)}function tv(t,r,o){let l=r;for(;null!==l&&40&l.type;)l=(r=l).parent;if(null===l)return o[pe];{const{componentOffset:v}=l;if(v>-1){const{encapsulation:E}=t.data[l.directiveStart+v];if(E===Gr.None||E===Gr.Emulated)return null}return zo(l,o)}}function Ec(t,r,o,l,v){t.insertBefore(r,o,l,v)}function nv(t,r,o){t.appendChild(r,o)}function iv(t,r,o,l,v){null!==l?Ec(t,r,o,l,v):nv(t,r,o)}function Oh(t,r){return t.parentNode(r)}function rv(t,r,o){return ov(t,r,o)}function sv(t,r,o){return 40&t.type?zo(t,o):null}let Kp,ov=sv;function av(t,r){ov=t,Kp=r}function Ph(t,r,o,l){const v=Wp(t,l,r),E=r[jn],H=rv(l.parent||r[Nt],l,r);if(null!=v)if(Array.isArray(o))for(let ne=0;ne<o.length;ne++)iv(E,v,o[ne],H,!1);else iv(E,v,o,H,!1);void 0!==Kp&&Kp(E,l,r,o,v)}function ud(t,r){if(null!==r){const o=r.type;if(3&o)return zo(r,t);if(4&o)return zp(-1,t[r.index]);if(8&o){const l=r.child;if(null!==l)return ud(t,l);{const v=t[r.index];return is(v)?zp(-1,v):Sr(v)}}if(32&o)return jp(r,t)()||Sr(t[r.index]);{const l=lv(t,r);return null!==l?Array.isArray(l)?l[0]:ud(ac(t[Rr]),l):ud(t,r.next)}}return null}function lv(t,r){return null!==r?t[Rr][Nt].projection[r.projection]:null}function zp(t,r){const o=Ts+t+1;if(o<r.length){const l=r[o],v=l[P].firstChild;if(null!==v)return ud(l,v)}return r[Ko]}function Yp(t,r,o,l,v,E,x){for(;null!=o;){const H=l[o.index],ne=o.type;if(x&&0===r&&(H&&Fo(Sr(H),l),o.flags|=2),32&~o.flags)if(8&ne)Yp(t,r,o.child,l,v,E,!1),qc(r,t,v,H,E);else if(32&ne){const Ee=jp(o,l);let He;for(;He=Ee();)qc(r,t,v,He,E);qc(r,t,v,H,E)}else 16&ne?Ob(t,r,l,o,v,E):qc(r,t,v,H,E);o=x?o.projectionNext:o.next}}function Xp(t,r,o,l,v,E){Yp(o,l,t.firstChild,r,v,E,!1)}function Ob(t,r,o,l,v,E){const x=o[Rr],ne=x[Nt].projection[l.projection];if(Array.isArray(ne))for(let Ee=0;Ee<ne.length;Ee++)qc(r,t,v,ne[Ee],E);else{let Ee=ne;const He=x[Me];hh(l)&&(Ee.flags|=128),Yp(t,r,Ee,He,v,E,!0)}}function Fb(t,r,o){""===o?t.removeAttribute(r,"class"):t.setAttribute(r,"class",o)}function Bb(t,r,o){const{mergedAttrs:l,classes:v,styles:E}=o;null!==l&&bs(t,r,l),null!==v&&Fb(t,r,v),null!==E&&function oT(t,r,o){t.setAttribute(r,"style",o)}(t,r,E)}const zi={};function uv(t=1){dv(pr(),bn(),co()+t,!1)}function dv(t,r,o,l){if(!l)if(3&~r[ue]){const E=t.preOrderHooks;null!==E&&ih(r,E,0,o)}else{const E=t.preOrderCheckHooks;null!==E&&Vu(r,E,o)}Tl(o)}function hd(t,r=yi.Default){const o=bn();return null===o?er(t,r):Wg(Ur(),o,lt(t),r)}function hv(){throw new Error("invalid")}function fv(t,r,o,l,v,E){const x=m(null);try{let H=null;v&Yr.SignalBased&&(H=r[l][C]),null!==H&&void 0!==H.transformFn&&(E=H.transformFn(E)),v&Yr.HasDecoratorInputTransform&&(E=t.inputTransforms[l].call(r,E)),null!==t.setInput?t.setInput(r,H,E,o,l):Wl(r,H,l,E)}finally{m(x)}}function Jp(t,r,o,l,v,E,x,H,ne,Ee,He){const dt=r.blueprint.slice();return dt[pe]=v,dt[ue]=204|l,(null!==Ee||t&&2048&t[ue])&&(dt[ue]|=2048),Fg(dt),dt[Me]=dt[Wr]=t,dt[an]=o,dt[qn]=x||t&&t[qn],dt[jn]=H||t&&t[jn],dt[_n]=ne||t&&t[_n]||null,dt[Nt]=E,dt[Wo]=function N_(){return k_++}(),dt[Ut]=He,dt[xa]=Ee,dt[Rr]=2==r.type?t[Rr]:dt,dt}function tu(t,r,o,l,v){let E=t.data[r];if(null===E)E=pv(t,r,o,l,v),function dc(){return Li.lFrame.inI18n}()&&(E.flags|=32);else if(64&E.type){E.type=o,E.value=l,E.attrs=v;const x=la();E.injectorIndex=null===x?-1:x.injectorIndex}return el(E,!0),E}function pv(t,r,o,l,v){const E=uc(),x=Qf(),ne=t.data[r]=function nu(t,r,o,l,v,E){let x=r?r.injectorIndex:-1,H=0;return lc()&&(H|=128),{type:o,index:l,insertBeforeIndex:null,injectorIndex:x,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:H,providerIndexes:0,value:v,attrs:E,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,x?E:E&&E.parent,o,r,l,v);return null===t.firstChild&&(t.firstChild=ne),null!==E&&(x?null==E.child&&null!==ne.parent&&(E.child=ne):null===E.next&&(E.next=ne,ne.prev=E)),ne}function fd(t,r,o,l){if(0===o)return-1;const v=r.length;for(let E=0;E<o;E++)r.push(l),t.blueprint.push(l),t.data.push(null);return v}function mv(t,r,o,l,v){const E=co(),x=2&l;try{Tl(-1),x&&r.length>Ri&&dv(t,r,Ri,!1),aa(x?2:0,v),o(l,v)}finally{Tl(E),aa(x?3:1,v)}}function gv(t,r,o){if(vl(r)){const l=m(null);try{const E=r.directiveEnd;for(let x=r.directiveStart;x<E;x++){const H=t.data[x];H.contentQueries&&H.contentQueries(1,o[x],x)}}finally{m(l)}}}function Qp(t,r,o){r_()&&(function Gb(t,r,o,l){const v=o.directiveStart,E=o.directiveEnd;ga(o)&&function zb(t,r,o){const l=zo(r,t),v=yv(o);let x=16;o.signals?x=4096:o.onPush&&(x=64);const H=em(t,Jp(t,v,null,x,l,r,null,t[qn].rendererFactory.createRenderer(l,o),null,null,null));t[r.index]=H}(r,o,t.data[v+o.componentOffset]),t.firstCreatePass||up(o,r),Fo(l,r);const x=o.initialInputs;for(let H=v;H<E;H++){const ne=t.data[H],Ee=fc(r,t,H,o);Fo(Ee,r),null!==x&&Yb(0,H-v,Ee,ne,0,x),vo(ne)&&(ya(o.index,r)[an]=fc(r,t,H,o))}}(t,r,o,zo(o,r)),!(64&~o.flags)&&iu(t,r,o))}function vv(t,r,o=zo){const l=r.localNames;if(null!==l){let v=r.index+1;for(let E=0;E<l.length;E+=2){const x=l[E+1],H=-1===x?o(r,t):t[x];t[v++]=H}}}function yv(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=_v(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):r}function _v(t,r,o,l,v,E,x,H,ne,Ee,He){const dt=Ri+l,Wt=dt+v,Qt=function bv(t,r){const o=[];for(let l=0;l<r;l++)o.push(l<t?null:zi);return o}(dt,Wt),un="function"==typeof Ee?Ee():Ee;return Qt[P]={type:t,blueprint:Qt,template:o,queries:null,viewQuery:H,declTNode:r,data:Qt.slice().fill(null,dt),bindingStartIndex:dt,expandoStartIndex:Wt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof E?E():E,pipeRegistry:"function"==typeof x?x():x,firstChild:null,schemas:ne,consts:un,incompleteFirstPass:!1,ssrId:He}}let Cv=()=>null;function Co(t,r,o,l,v){for(let E in r){if(!r.hasOwnProperty(E))continue;const x=r[E];if(void 0===x)continue;l??={};let H,ne=Yr.None;Array.isArray(x)?(H=x[0],ne=x[1]):H=x;let Ee=E;if(null!==v){if(!v.hasOwnProperty(E))continue;Ee=v[E]}0===t?Zo(l,o,Ee,H,ne):Zo(l,o,Ee,H)}return l}function Zo(t,r,o,l,v){let E;t.hasOwnProperty(o)?(E=t[o]).push(r,l):E=t[o]=[r,l],void 0!==v&&E.push(v)}function qo(t,r,o,l,v,E,x,H){const ne=zo(r,o);let He,Ee=r.inputs;!H&&null!=Ee&&(He=Ee[l])?(Vh(t,o,He,l,v),ga(r)&&function cT(t,r){const o=ya(r,t);16&o[ue]||(o[ue]|=64)}(o,r.index)):3&r.type&&(l=function wv(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(l),v=null!=x?x(v,r.value||"",l):v,E.setProperty(ne,l,v))}function Zp(t,r,o,l){if(r_()){const v=null===l?null:{"":-1},E=function uT(t,r){const o=t.directiveRegistry;let l=null,v=null;if(o)for(let E=0;E<o.length;E++){const x=o[E];if(Je(r,x.selectors,!1))if(l||(l=[]),vo(x))if(null!==x.findHostDirectiveDefs){const H=[];v=v||new Map,x.findHostDirectiveDefs(x,H,v),l.unshift(...H,x),qp(t,r,H.length)}else l.unshift(x),qp(t,r,0);else v=v||new Map,x.findHostDirectiveDefs?.(x,l,v),l.push(x)}return null===l?null:[l,v]}(t,o);let x,H;null===E?x=H=null:[x,H]=E,null!==x&&jb(t,r,o,x,v,H),v&&function Hb(t,r,o){if(r){const l=t.localNames=[];for(let v=0;v<r.length;v+=2){const E=o[r[v+1]];if(null==E)throw new Be(-301,!1);l.push(r[v],E)}}}(o,l,v)}o.mergedAttrs=he(o.mergedAttrs,o.attrs)}function jb(t,r,o,l,v,E){for(let Ee=0;Ee<l.length;Ee++)Gi(up(o,r),t,l[Ee].type);!function Sv(t,r,o){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+o,t.providerIndexes=r}(o,t.data.length,l.length);for(let Ee=0;Ee<l.length;Ee++){const He=l[Ee];He.providersResolver&&He.providersResolver(He)}let x=!1,H=!1,ne=fd(t,r,l.length,null);for(let Ee=0;Ee<l.length;Ee++){const He=l[Ee];o.mergedAttrs=he(o.mergedAttrs,He.hostAttrs),Kb(t,o,r,ne,He),Wb(ne,He,v),null!==He.contentQueries&&(o.flags|=4),(null!==He.hostBindings||null!==He.hostAttrs||0!==He.hostVars)&&(o.flags|=64);const dt=He.type.prototype;!x&&(dt.ngOnChanges||dt.ngOnInit||dt.ngDoCheck)&&((t.preOrderHooks??=[]).push(o.index),x=!0),!H&&(dt.ngOnChanges||dt.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(o.index),H=!0),ne++}!function Sc(t,r,o){const v=r.directiveEnd,E=t.data,x=r.attrs,H=[];let ne=null,Ee=null;for(let He=r.directiveStart;He<v;He++){const dt=E[He],Wt=o?o.get(dt):null,un=Wt?Wt.outputs:null;ne=Co(0,dt.inputs,He,ne,Wt?Wt.inputs:null),Ee=Co(1,dt.outputs,He,Ee,un);const Tn=null===ne||null===x||Si(r)?null:Xb(ne,He,x);H.push(Tn)}null!==ne&&(ne.hasOwnProperty("class")&&(r.flags|=8),ne.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=H,r.inputs=ne,r.outputs=Ee}(t,o,E)}function iu(t,r,o){const l=o.directiveStart,v=o.directiveEnd,E=o.index,x=function qf(){return Li.lFrame.currentDirectiveIndex}();try{Tl(E);for(let H=l;H<v;H++){const ne=t.data[H],Ee=r[H];Yl(H),(null!==ne.hostBindings||0!==ne.hostVars||null!==ne.hostAttrs)&&ja(ne,Ee)}}finally{Tl(-1),Yl(x)}}function ja(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function qp(t,r,o){r.componentOffset=o,(t.components??=[]).push(r.index)}function Wb(t,r,o){if(o){if(r.exportAs)for(let l=0;l<r.exportAs.length;l++)o[r.exportAs[l]]=t;vo(r)&&(o[""]=t)}}function Kb(t,r,o,l,v){t.data[l]=v;const E=v.factory||(v.factory=es(v.type)),x=new ju(E,vo(v),hd);t.blueprint[l]=x,o[l]=x,function Ev(t,r,o,l,v){const E=v.hostBindings;if(E){let x=t.hostBindingOpCodes;null===x&&(x=t.hostBindingOpCodes=[]);const H=~r.index;(function $b(t){let r=t.length;for(;r>0;){const o=t[--r];if("number"==typeof o&&o<0)return o}return 0})(x)!=H&&x.push(H),x.push(o,l,E)}}(t,r,l,fd(t,o,v.hostVars,zi),v)}function ol(t,r,o,l,v,E){const x=zo(t,r);!function Bh(t,r,o,l,v,E,x){if(null==E)t.removeAttribute(r,v,o);else{const H=null==x?Hn(E):x(E,l||"",v);t.setAttribute(r,v,H,o)}}(r[jn],x,E,t.value,o,l,v)}function Yb(t,r,o,l,v,E){const x=E[r];if(null!==x)for(let H=0;H<x.length;)fv(l,o,x[H++],x[H++],x[H++],x[H++])}function Xb(t,r,o){let l=null,v=0;for(;v<o.length;){const E=o[v];if(0!==E)if(5!==E){if("number"==typeof E)break;if(t.hasOwnProperty(E)){null===l&&(l=[]);const x=t[E];for(let H=0;H<x.length;H+=3)if(x[H]===r){l.push(E,x[H+1],x[H+2],o[v+1]);break}}v+=2}else v+=2;else v+=4}return l}function tc(t,r,o,l){return[t,!0,0,r,null,l,null,o,null,null]}function Lh(t,r){const o=t.contentQueries;if(null!==o){const l=m(null);try{for(let v=0;v<o.length;v+=2){const x=o[v+1];if(-1!==x){const H=t.data[x];Sl(o[v]),H.contentQueries(2,r[x],x)}}}finally{m(l)}}}function em(t,r){return t[Er]?t[gi][rt]=r:t[Er]=r,t[gi]=r,r}function Uh(t,r,o){Sl(0);const l=m(null);try{r(t,o)}finally{m(l)}}function Jb(t){return t[rn]||(t[rn]=[])}function Qb(t){return t.cleanup||(t.cleanup=[])}function tm(t,r,o){return(null===t||vo(t))&&(o=function Wf(t){for(;Array.isArray(t);){if("object"==typeof t[ka])return t;t=t[pe]}return null}(o[r.index])),o[jn]}function nm(t,r){const o=t[_n],l=o?o.get(Nl,null):null;l&&l.handleError(r)}function Vh(t,r,o,l,v){for(let E=0;E<o.length;){const x=o[E++],H=o[E++],ne=o[E++];fv(t.data[x],r[x],l,H,ne,v)}}function Ml(t,r,o){const l=Ou(r,t);!function Z0(t,r,o){t.setValue(r,o)}(t[jn],l,o)}function md(t,r){const o=ya(r,t),l=o[P];!function jh(t,r){for(let o=r.length;o<t.blueprint.length;o++)r.push(t.blueprint[o])}(l,o);const v=o[pe];null!==v&&null===o[Ut]&&(o[Ut]=Jo(v,o[_n])),Tv(l,o,o[an])}function Tv(t,r,o){qd(r);try{const l=t.viewQuery;null!==l&&Uh(1,l,o);const v=t.template;null!==v&&mv(t,r,v,1,o),t.firstCreatePass&&(t.firstCreatePass=!1),r[fs]?.finishViewCreation(t),t.staticContentQueries&&Lh(t,r),t.staticViewQueries&&Uh(2,t.viewQuery,o);const E=t.components;null!==E&&function dT(t,r){for(let o=0;o<r.length;o++)md(t,r[o])}(r,E)}catch(l){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),l}finally{r[ue]&=-5,Lu()}}function $h(t,r,o,l){const v=m(null);try{const E=r.tView,ne=Jp(t,E,o,4096&t[ue]?4096:16,null,r,null,null,l?.injector??null,l?.embeddedViewInjector??null,l?.dehydratedView??null);ne[Ss]=t[r.index];const He=t[fs];return null!==He&&(ne[fs]=He.createEmbeddedView(E)),Tv(E,ne,o),ne}finally{m(v)}}function Zb(t,r){const o=Ts+r;if(o<t.length)return t[o]}function gd(t,r){return!r||null===r.firstChild||hh(t)}function Gh(t,r,o,l=!0){const v=r[P];if(function Ab(t,r,o,l){const v=Ts+l,E=o.length;l>0&&(o[v-1][rt]=r),l<E-Ts?(r[rt]=o[v],Vo(o,Ts+l,r)):(o.push(r),r[rt]=null),r[Me]=o;const x=r[Ss];null!==x&&o!==x&&function Rb(t,r){const o=t[Za];r[Rr]!==r[Me][Me][Rr]&&(t[ue]|=Lr.HasTransplantedViews),null===o?t[Za]=[r]:o.push(r)}(x,r);const H=r[fs];null!==H&&H.insertView(t),Yf(r),r[ue]|=128}(v,r,t,o),l){const x=zp(o,t),H=r[jn],ne=Oh(H,t[Ko]);null!==ne&&function Ib(t,r,o,l,v,E){l[pe]=v,l[Nt]=r,Xp(t,l,o,1,v,E)}(v,t[Nt],H,r,ne,x)}const E=r[Ut];null!==E&&null!==E.firstChild&&(E.firstChild=null)}function im(t,r){const o=cd(t,r);return void 0!==o&&eu(o[P],o),o}function ru(t,r,o,l,v=!1){for(;null!==o;){const E=r[o.index];null!==E&&l.push(Sr(E)),is(E)&&rm(E,l);const x=o.type;if(8&x)ru(t,r,o.child,l);else if(32&x){const H=jp(o,r);let ne;for(;ne=H();)l.push(ne)}else if(16&x){const H=lv(r,o);if(Array.isArray(H))l.push(...H);else{const ne=ac(r[Rr]);ru(ne[P],ne,H,l,!0)}}o=v?o.projectionNext:o.next}return l}function rm(t,r){for(let o=Ts;o<t.length;o++){const l=t[o],v=l[P].firstChild;null!==v&&ru(l[P],l,v,r)}t[Ko]!==t[pe]&&r.push(t[Ko])}let zs=[];const Wh={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{js(t.lView)},consumerOnSignalRead(){this.lView[sa]=this}},Dv=100;function Ul(t,r=!0,o=0){const l=t[qn],v=l.rendererFactory;v.begin?.();try{!function Av(t,r){sm(t,r);let o=0;for(;zf(t);){if(o===Dv)throw new Be(103,!1);o++,sm(t,1)}}(t,o)}catch(x){throw r&&nm(t,x),x}finally{v.end?.(),l.inlineEffectRunner?.flush()}}function eC(t,r,o,l){const v=r[ue];if(!(256&~v))return;r[qn].inlineEffectRunner?.flush(),qd(r);let x=null,H=null;(function Kh(t){return 2!==t.type})(t)&&(H=function Iv(t){return t[sa]??function Hh(t){const r=zs.pop()??Object.create(Wh);return r.lView=t,r}(t)}(r),x=function R(t){return t&&(t.nextProducerIndex=0),m(t)}(H));try{Fg(r),function Qd(t){return Li.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==o&&mv(t,r,o,2,l);const ne=!(3&~v);if(ne){const dt=t.preOrderCheckHooks;null!==dt&&Vu(r,dt,null)}else{const dt=t.preOrderHooks;null!==dt&&ih(r,dt,0,null),op(r,0)}if(function tC(t){for(let r=u0(t);null!==r;r=d0(r)){if(!(r[ue]&Lr.HasTransplantedViews))continue;const o=r[Za];for(let l=0;l<o.length;l++){t_(o[l])}}}(r),zh(r,0),null!==t.contentQueries&&Lh(t,r),ne){const dt=t.contentCheckHooks;null!==dt&&Vu(r,dt)}else{const dt=t.contentHooks;null!==dt&&ih(r,dt,1),op(r,1)}!function aT(t,r){const o=t.hostBindingOpCodes;if(null!==o)try{for(let l=0;l<o.length;l++){const v=o[l];if(v<0)Tl(~v);else{const E=v,x=o[++l],H=o[++l];Vg(x,E),H(2,r[E])}}}finally{Tl(-1)}}(t,r);const Ee=t.components;null!==Ee&&Mv(r,Ee,0);const He=t.viewQuery;if(null!==He&&Uh(2,He,l),ne){const dt=t.viewCheckHooks;null!==dt&&Vu(r,dt)}else{const dt=t.viewHooks;null!==dt&&ih(r,dt,2),op(r,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r[ks]){for(const dt of r[ks])dt();r[ks]=null}r[ue]&=-73}catch(ne){throw js(r),ne}finally{null!==H&&(function j(t,r){if(m(r),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(L(t))for(let o=t.nextProducerIndex;o<t.producerNode.length;o++)se(t.producerNode[o],t.producerIndexOfThis[o]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}(H,x),function qb(t){t.lView[sa]!==t&&(t.lView=null,zs.push(t))}(H)),Lu()}}function zh(t,r){for(let o=u0(t);null!==o;o=d0(o))for(let l=Ts;l<o.length;l++)Rv(o[l],r)}function nC(t,r,o){Rv(ya(r,t),o)}function Rv(t,r){Kf(t)&&sm(t,r)}function sm(t,r){const l=t[P],v=t[ue],E=t[sa];let x=!!(0===r&&16&v);if(x||=!!(64&v&&0===r),x||=!!(1024&v),x||=!(!E?.dirty||!U(E)),E&&(E.dirty=!1),t[ue]&=-9217,x)eC(l,t,l.template,t[an]);else if(8192&v){zh(t,1);const H=l.components;null!==H&&Mv(t,H,1)}}function Mv(t,r,o){for(let l=0;l<r.length;l++)nC(t,r[l],o)}function vd(t){for(t[qn].changeDetectionScheduler?.notify();t;){t[ue]|=64;const r=ac(t);if(yl(t)&&!r)return t;t=r}return null}class yd{get rootNodes(){const r=this._lView,o=r[P];return ru(o,r,o.firstChild,[])}constructor(r,o,l=!0){this._lView=r,this._cdRefInjectingView=o,this.notifyErrorHandler=l,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[an]}set context(r){this._lView[an]=r}get destroyed(){return!(256&~this._lView[ue])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[Me];if(is(r)){const o=r[8],l=o?o.indexOf(this):-1;l>-1&&(cd(r,l),ra(o,l))}this._attachedToViewContainer=!1}eu(this._lView[P],this._lView)}onDestroy(r){Vc(this._lView,r)}markForCheck(){vd(this._cdRefInjectingView||this._lView)}detach(){this._lView[ue]&=-129}reattach(){Yf(this._lView),this._lView[ue]|=128}detectChanges(){this._lView[ue]|=1024,Ul(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Be(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,q0(this._lView[P],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Be(902,!1);this._appRef=r,Yf(this._lView)}}let al=(()=>{class t{static{this.__NG_ELEMENT_ID__=Yh}}return t})();const iC=al,om=class extends iC{constructor(r,o,l){super(),this._declarationLView=r,this._declarationTContainer=o,this.elementRef=l}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(r,o){return this.createEmbeddedViewImpl(r,o)}createEmbeddedViewImpl(r,o,l){const v=$h(this._declarationLView,this._declarationTContainer,r,{embeddedViewInjector:o,dehydratedView:l});return new yd(v)}};function Yh(){return su(Ur(),bn())}function su(t,r){return 4&t.type?new om(r,t,zc(t,r)):null}let vC=()=>null;function Sd(t,r){return vC(t,r)}class fm{}class CT{}class yC{}class wT{resolveComponentFactory(r){throw function _C(t){const r=Error(`No component factory found for ${xn(t)}.`);return r.ngComponent=t,r}(r)}}let ef=(()=>{class t{static{this.NULL=new wT}}return t})();class CC{}let ET=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function Lv(){const t=bn(),o=ya(Ur().index,t);return(Di(o)?o:t)[jn]}()}}return t})(),ST=(()=>{class t{static{this.\u0275prov=ei({token:t,providedIn:"root",factory:()=>null})}}return t})();const wa={},tf=new Set;function ll(t){tf.has(t)||(tf.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function nf(...t){}class Ps{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Dl(!1),this.onMicrotaskEmpty=new Dl(!1),this.onStable=new Dl(!1),this.onError=new Dl(!1),typeof Zone>"u")throw new Be(908,!1);Zone.assertZonePatched();const v=this;v._nesting=0,v._outer=v._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(v._inner=v._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(v._inner=v._inner.fork(Zone.longStackTraceZoneSpec)),v.shouldCoalesceEventChangeDetection=!l&&o,v.shouldCoalesceRunChangeDetection=l,v.lastRequestAnimationFrameId=-1,v.nativeRequestAnimationFrame=function wC(){const t="function"==typeof gt.requestAnimationFrame;let r=gt[t?"requestAnimationFrame":"setTimeout"],o=gt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&r&&o){const l=r[Zone.__symbol__("OriginalDelegate")];l&&(r=l);const v=o[Zone.__symbol__("OriginalDelegate")];v&&(o=v)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function Uv(t){const r=()=>{!function rf(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(gt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,pm(t),t.isCheckStableRunning=!0,Tc(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),pm(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,l,v,E,x,H)=>{if(function au(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(H))return o.invokeTask(v,E,x,H);try{return Vv(t),o.invokeTask(v,E,x,H)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===E.type||t.shouldCoalesceRunChangeDetection)&&r(),jv(t)}},onInvoke:(o,l,v,E,x,H,ne)=>{try{return Vv(t),o.invoke(v,E,x,H,ne)}finally{t.shouldCoalesceRunChangeDetection&&r(),jv(t)}},onHasTask:(o,l,v,E)=>{o.hasTask(v,E),l===v&&("microTask"==E.change?(t._hasPendingMicrotasks=E.microTask,pm(t),Tc(t)):"macroTask"==E.change&&(t.hasPendingMacrotasks=E.macroTask))},onHandleError:(o,l,v,E)=>(o.handleError(v,E),t.runOutsideAngular(()=>t.onError.emit(E)),!1)})}(v)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ps.isInAngularZone())throw new Be(909,!1)}static assertNotInAngularZone(){if(Ps.isInAngularZone())throw new Be(909,!1)}run(r,o,l){return this._inner.run(r,o,l)}runTask(r,o,l,v){const E=this._inner,x=E.scheduleEventTask("NgZoneEvent: "+v,r,IT,nf,nf);try{return E.runTask(x,o,l)}finally{E.cancelTask(x)}}runGuarded(r,o,l){return this._inner.runGuarded(r,o,l)}runOutsideAngular(r){return this._outer.run(r)}}const IT={};function Tc(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function pm(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Vv(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function jv(t){t._nesting--,Tc(t)}class $v{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Dl,this.onMicrotaskEmpty=new Dl,this.onStable=new Dl,this.onError=new Dl}run(r,o,l){return r.apply(o,l)}runGuarded(r,o,l){return r.apply(o,l)}runOutsideAngular(r){return r()}runTask(r,o,l,v){return r.apply(o,l)}}var cl=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(cl||{});const Td={destroy(){}};function nc(t,r){!r&&Es();const o=r?.injector??Wn(_a);if(!function ec(t){return"browser"===(t??Wn(_a)).get(wp)}(o))return Td;ll("NgAfterNextRender");const l=o.get(lf),v=l.handler??=new EC,E=r?.phase??cl.MixedReadWrite,x=()=>{v.unregister(ne),H()},H=o.get(Po).onDestroy(x),ne=xs(o,()=>new mm(E,()=>{x(),t()}));return v.register(ne),{destroy:x}}class mm{constructor(r,o){this.phase=r,this.callbackFn=o,this.zone=Wn(Ps),this.errorHandler=Wn(Nl,{optional:!0}),Wn(fm,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(r){this.errorHandler?.handleError(r)}}}class EC{constructor(){this.executingCallbacks=!1,this.buckets={[cl.EarlyRead]:new Set,[cl.Write]:new Set,[cl.MixedReadWrite]:new Set,[cl.Read]:new Set},this.deferredCallbacks=new Set}register(r){(this.executingCallbacks?this.deferredCallbacks:this.buckets[r.phase]).add(r)}unregister(r){this.buckets[r.phase].delete(r),this.deferredCallbacks.delete(r)}execute(){this.executingCallbacks=!0;for(const r of Object.values(this.buckets))for(const o of r)o.invoke();this.executingCallbacks=!1;for(const r of this.deferredCallbacks)this.buckets[r.phase].add(r);this.deferredCallbacks.clear()}destroy(){for(const r of Object.values(this.buckets))r.clear();this.deferredCallbacks.clear()}}let lf=(()=>{class t{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const o=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const l of o)l()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=ei({token:t,providedIn:"root",factory:()=>new t})}}return t})();function Dc(t){return!!vr(t)}function df(t,r,o){let l=o?t.styles:null,v=o?t.classes:null,E=0;if(null!==r)for(let x=0;x<r.length;x++){const H=r[x];"number"==typeof H?E=H:1==E?v=Bn(v,H):2==E&&(l=Bn(l,H+": "+r[++x]+";"))}o?t.styles=l:t.stylesWithoutHost=l,o?t.classes=v:t.classesWithoutHost=v}class Wv extends ef{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const o=Pi(r);return new Rc(o,this.ngModule)}}function DC(t){const r=[];for(const o in t){if(!t.hasOwnProperty(o))continue;const l=t[o];void 0!==l&&r.push({propName:Array.isArray(l)?l[0]:l,templateName:o})}return r}class vm{constructor(r,o){this.injector=r,this.parentInjector=o}get(r,o,l){l=Kr(l);const v=this.injector.get(r,wa,l);return v!==wa||o===wa?v:this.parentInjector.get(r,o,l)}}class Rc extends yC{get inputs(){const r=this.componentDef,o=r.inputTransforms,l=DC(r.inputs);if(null!==o)for(const v of l)o.hasOwnProperty(v.propName)&&(v.transform=o[v.propName]);return l}get outputs(){return DC(this.componentDef.outputs)}constructor(r,o){super(),this.componentDef=r,this.ngModule=o,this.componentType=r.type,this.selector=function _i(t){return t.map(Nn).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!o}create(r,o,l,v){const E=m(null);try{let x=(v=v||this.ngModule)instanceof Ar?v:v?.injector;x&&null!==this.componentDef.getStandaloneInjector&&(x=this.componentDef.getStandaloneInjector(x)||x);const H=x?new vm(r,x):r,ne=H.get(CC,null);if(null===ne)throw new Be(407,!1);const Ee=H.get(ST,null),Wt={rendererFactory:ne,sanitizer:Ee,inlineEffectRunner:null,afterRenderEventManager:H.get(lf,null),changeDetectionScheduler:H.get(fm,null)},Qt=ne.createRenderer(null,this.componentDef),un=this.componentDef.selectors[0][0]||"div",Tn=l?function Fh(t,r,o,l){const E=l.get(D0,!1)||o===Gr.ShadowDom,x=t.selectRootElement(r,E);return function Lb(t){Cv(t)}(x),x}(Qt,l,this.componentDef.encapsulation,H):Nh(Qt,un,function Kv(t){const r=t.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(un));let Fn=512;this.componentDef.signals?Fn|=4096:this.componentDef.onPush||(Fn|=16);let zn=null;null!==Tn&&(zn=Jo(Tn,H,!0));const Rn=_v(0,null,null,1,0,null,null,null,null,null,null),Bi=Jp(null,Rn,null,Fn,null,null,Wt,Qt,H,null,zn);let xr,ms;qd(Bi);try{const Do=this.componentDef;let Wa,Gf=null;Do.findHostDirectiveDefs?(Wa=[],Gf=new Map,Do.findHostDirectiveDefs(Do,Wa,Gf),Wa.push(Do)):Wa=[Do];const rA=function MT(t,r){const o=t[P],l=Ri;return t[l]=r,tu(o,l,2,"#host",null)}(Bi,Tn),tM=function zv(t,r,o,l,v,E,x){const H=v[P];!function AC(t,r,o,l){for(const v of t)r.mergedAttrs=he(r.mergedAttrs,v.hostAttrs);null!==r.mergedAttrs&&(df(r,r.mergedAttrs,!0),null!==o&&Bb(l,o,r))}(l,t,r,x);let ne=null;null!==r&&(ne=Jo(r,v[_n]));const Ee=E.rendererFactory.createRenderer(r,o);let He=16;o.signals?He=4096:o.onPush&&(He=64);const dt=Jp(v,yv(o),null,He,v[t.index],t,E,Ee,null,null,ne);return H.firstCreatePass&&qp(H,t,l.length-1),em(v,dt),v[t.index]=dt}(rA,Tn,Do,Wa,Bi,Wt,Qt);ms=Pu(Rn,Ri),Tn&&function MC(t,r,o,l){if(l)bs(t,o,["ng-version","17.3.3"]);else{const{attrs:v,classes:E}=function Pn(t){const r=[],o=[];let l=1,v=2;for(;l<t.length;){let E=t[l];if("string"==typeof E)2===v?""!==E&&r.push(E,t[++l]):8===v&&o.push(E);else{if(!ni(v))break;v=E}l++}return{attrs:r,classes:o}}(r.selectors[0]);v&&bs(t,o,v),E&&E.length>0&&Fb(t,o,E.join(" "))}}(Qt,Do,Tn,l),void 0!==o&&function xT(t,r,o){const l=t.projection=[];for(let v=0;v<r.length;v++){const E=o[v];l.push(null!=E?Array.from(E):null)}}(ms,this.ngContentSelectors,o),xr=function RC(t,r,o,l,v,E){const x=Ur(),H=v[P],ne=zo(x,v);jb(H,v,x,o,null,l);for(let He=0;He<o.length;He++)Fo(fc(v,H,x.directiveStart+He,x),v);iu(H,v,x),ne&&Fo(ne,v);const Ee=fc(v,H,x.directiveStart+x.componentOffset,x);if(t[an]=v[an]=Ee,null!==E)for(const He of E)He(Ee,r);return gv(H,x,v),Ee}(tM,Do,Wa,Gf,Bi,[kT]),Tv(Rn,Bi,null)}finally{Lu()}return new RT(this.componentType,xr,zc(ms,Bi),Bi,ms)}finally{m(E)}}}class RT extends CT{constructor(r,o,l,v,E){super(),this.location=l,this._rootLView=v,this._tNode=E,this.previousInputValues=null,this.instance=o,this.hostView=this.changeDetectorRef=new yd(v,void 0,!1),this.componentType=r}setInput(r,o){const l=this._tNode.inputs;let v;if(null!==l&&(v=l[r])){if(this.previousInputValues??=new Map,this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),o))return;const E=this._rootLView;Vh(E[P],E,v,r,o),this.previousInputValues.set(r,o),vd(ya(this._tNode.index,E))}}get injector(){return new uo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function kT(){const t=Ur();Yo(bn()[P],t)}let ym=(()=>{class t{static{this.__NG_ELEMENT_ID__=NT}}return t})();function NT(){return Yv(Ur(),bn())}const OT=ym,xC=class extends OT{constructor(r,o,l){super(),this._lContainer=r,this._hostTNode=o,this._hostLView=l}get element(){return zc(this._hostTNode,this._hostLView)}get injector(){return new uo(this._hostTNode,this._hostLView)}get parentInjector(){const r=sh(this._hostTNode,this._hostLView);if(lp(r)){const o=Gu(r,this._hostLView),l=$u(r);return new uo(o[P].data[l+8],o)}return new uo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const o=kC(this._lContainer);return null!==o&&o[r]||null}get length(){return this._lContainer.length-Ts}createEmbeddedView(r,o,l){let v,E;"number"==typeof l?v=l:null!=l&&(v=l.index,E=l.injector);const x=Sd(this._lContainer,r.ssrId),H=r.createEmbeddedViewImpl(o||{},E,x);return this.insertImpl(H,v,gd(this._hostTNode,x)),H}createComponent(r,o,l,v,E){const x=r&&!function wn(t){return"function"==typeof t}(r);let H;if(x)H=o;else{const un=o||{};H=un.index,l=un.injector,v=un.projectableNodes,E=un.environmentInjector||un.ngModuleRef}const ne=x?r:new Rc(Pi(r)),Ee=l||this.parentInjector;if(!E&&null==ne.ngModule){const Tn=(x?Ee:this.parentInjector).get(Ar,null);Tn&&(E=Tn)}const He=Pi(ne.componentType??{}),dt=Sd(this._lContainer,He?.id??null),Qt=ne.create(Ee,v,dt?.firstChild??null,E);return this.insertImpl(Qt.hostView,H,gd(this._hostTNode,dt)),Qt}insert(r,o){return this.insertImpl(r,o,!0)}insertImpl(r,o,l){const v=r._lView;if(function e_(t){return is(t[Me])}(v)){const H=this.indexOf(r);if(-1!==H)this.detach(H);else{const ne=v[Me],Ee=new xC(ne,ne[Nt],ne[Me]);Ee.detach(Ee.indexOf(r))}}const E=this._adjustIndex(o),x=this._lContainer;return Gh(x,v,E,l),r.attachToViewContainerRef(),Vo(hf(x),E,r),r}move(r,o){return this.insert(r,o)}indexOf(r){const o=kC(this._lContainer);return null!==o?o.indexOf(r):-1}remove(r){const o=this._adjustIndex(r,-1),l=cd(this._lContainer,o);l&&(ra(hf(this._lContainer),o),eu(l[P],l))}detach(r){const o=this._adjustIndex(r,-1),l=cd(this._lContainer,o);return l&&null!=ra(hf(this._lContainer),o)?new yd(l):null}_adjustIndex(r,o=0){return r??this.length+o}};function kC(t){return t[8]}function hf(t){return t[8]||(t[8]=[])}function Yv(t,r){let o;const l=r[t.index];return is(l)?o=l:(o=tc(l,r,null,t),r[t.index]=o,em(r,o)),ff(o,r,t,l),new xC(o,t,r)}let ff=function _m(t,r,o,l){if(t[Ko])return;let v;v=8&o.type?Sr(l):function Id(t,r){const o=t[jn],l=o.createComment(""),v=zo(r,t);return Ec(o,Oh(o,v),l,function Nb(t,r){return t.nextSibling(r)}(o,v),!1),l}(r,o),t[Ko]=v},Dd=()=>!1;class bm{constructor(r){this.queryList=r,this.matches=null}clone(){return new bm(this.queryList)}setDirty(){this.queryList.setDirty()}}class Vl{constructor(r=[]){this.queries=r}createEmbeddedView(r){const o=r.queries;if(null!==o){const l=null!==r.contentQueries?r.contentQueries[0]:o.length,v=[];for(let E=0;E<l;E++){const x=o.getByIndex(E);v.push(this.queries[x.indexInDeclarationView].clone())}return new Vl(v)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}finishViewCreation(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let o=0;o<this.queries.length;o++)null!==Im(r,o).matches&&this.queries[o].setDirty()}}class NC{constructor(r,o,l=null){this.flags=o,this.read=l,this.predicate="string"==typeof r?function Zv(t){return t.split(",").map(r=>r.trim())}(r):r}}class Cm{constructor(r=[]){this.queries=r}elementStart(r,o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(r,o)}elementEnd(r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(r)}embeddedTView(r){let o=null;for(let l=0;l<this.length;l++){const v=null!==o?o.length:0,E=this.getByIndex(l).embeddedTView(r,v);E&&(E.indexInDeclarationView=l,null!==o?o.push(E):o=[E])}return null!==o?new Cm(o):null}template(r,o){for(let l=0;l<this.queries.length;l++)this.queries[l].template(r,o)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class wm{constructor(r,o=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(r,o){this.isApplyingToNode(o)&&this.matchTNode(r,o)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,o){this.elementStart(r,o)}embeddedTView(r,o){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,o),new wm(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1&~this.metadata.flags){const o=this._declarationNodeIndex;let l=r.parent;for(;null!==l&&8&l.type&&l.index!==o;)l=l.parent;return o===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(r,o){const l=this.metadata.predicate;if(Array.isArray(l))for(let v=0;v<l.length;v++){const E=l[v];this.matchTNodeWithReadOption(r,o,Xv(o,E)),this.matchTNodeWithReadOption(r,o,ah(o,r,E,!1,!1))}else l===al?4&o.type&&this.matchTNodeWithReadOption(r,o,-1):this.matchTNodeWithReadOption(r,o,ah(o,r,l,!1,!1))}matchTNodeWithReadOption(r,o,l){if(null!==l){const v=this.metadata.read;if(null!==v)if(v===Ku||v===ym||v===al&&4&o.type)this.addMatch(o.index,-2);else{const E=ah(o,r,v,!1,!1);null!==E&&this.addMatch(o.index,E)}else this.addMatch(o.index,l)}}addMatch(r,o){null===this.matches?this.matches=[r,o]:this.matches.push(r,o)}}function Xv(t,r){const o=t.localNames;if(null!==o)for(let l=0;l<o.length;l+=2)if(o[l]===r)return o[l+1];return null}function PC(t,r,o,l){return-1===o?function OC(t,r){return 11&t.type?zc(t,r):4&t.type?su(t,r):null}(r,t):-2===o?function FC(t,r,o){return o===Ku?zc(r,t):o===al?su(r,t):o===ym?Yv(r,t):void 0}(t,r,l):fc(t,t[P],o,r)}function gf(t,r,o,l){const v=r[fs].queries[l];if(null===v.matches){const E=t.data,x=o.matches,H=[];for(let ne=0;null!==x&&ne<x.length;ne+=2){const Ee=x[ne];H.push(Ee<0?null:PC(r,E[Ee],x[ne+1],o.metadata.read))}v.matches=H}return v.matches}function Em(t,r,o,l){const v=t.queries.getByIndex(o),E=v.matches;if(null!==E){const x=gf(t,r,v,o);for(let H=0;H<E.length;H+=2){const ne=E[H];if(ne>0)l.push(x[H/2]);else{const Ee=E[H+1],He=r[-ne];for(let dt=Ts;dt<He.length;dt++){const Wt=He[dt];Wt[Ss]===Wt[Me]&&Em(Wt[P],Wt,Ee,l)}if(null!==He[Za]){const dt=He[Za];for(let Wt=0;Wt<dt.length;Wt++){const Qt=dt[Wt];Em(Qt[P],Qt,Ee,l)}}}}}return l}function Jv(t,r,o){const l=new gp(!(4&~o));return function Ub(t,r,o,l){const v=Jb(r);v.push(o),t.firstCreatePass&&Qb(t).push(l,v.length-1)}(t,r,l,l.destroy),(r[fs]??=new Vl).queries.push(new bm(l))-1}function qv(t,r,o){null===t.queries&&(t.queries=new Cm),t.queries.track(new wm(r,o))}function Im(t,r){return t.queries.getByIndex(r)}function vf(t,r){const o=t[P],l=Im(o,r);return l.crossesNgTemplate?Em(o,t,r,[]):gf(o,t,l,r)}function n1(t){return function Rd(t){return"function"==typeof t&&void 0!==t[C]}(t)&&"function"==typeof t.set}function xm(t){let r=function qC(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),o=!0;const l=[t];for(;r;){let v;if(vo(t))v=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Be(903,!1);v=r.\u0275dir}if(v){if(o){l.push(v);const x=t;x.inputs=km(t.inputs),x.inputTransforms=km(t.inputTransforms),x.declaredInputs=km(t.declaredInputs),x.outputs=km(t.outputs);const H=v.hostBindings;H&&YT(t,H);const ne=v.viewQuery,Ee=v.contentQueries;if(ne&&zT(t,ne),Ee&&l1(t,Ee),WT(t,v),An(t.outputs,v.outputs),vo(v)&&v.data.animation){const He=t.data;He.animation=(He.animation||[]).concat(v.data.animation)}}const E=v.features;if(E)for(let x=0;x<E.length;x++){const H=E[x];H&&H.ngInherit&&H(t),H===xm&&(o=!1)}}r=Object.getPrototypeOf(r)}!function KT(t){let r=0,o=null;for(let l=t.length-1;l>=0;l--){const v=t[l];v.hostVars=r+=v.hostVars,v.hostAttrs=he(v.hostAttrs,o=he(o,v.hostAttrs))}}(l)}function WT(t,r){for(const o in r.inputs){if(!r.inputs.hasOwnProperty(o)||t.inputs.hasOwnProperty(o))continue;const l=r.inputs[o];if(void 0!==l&&(t.inputs[o]=l,t.declaredInputs[o]=r.declaredInputs[o],null!==r.inputTransforms)){const v=Array.isArray(l)?l[0]:l;if(!r.inputTransforms.hasOwnProperty(v))continue;t.inputTransforms??={},t.inputTransforms[v]=r.inputTransforms[v]}}}function km(t){return t===Rs?{}:t===oi?[]:t}function zT(t,r){const o=t.viewQuery;t.viewQuery=o?(l,v)=>{r(l,v),o(l,v)}:r}function l1(t,r){const o=t.contentQueries;t.contentQueries=o?(l,v,E)=>{r(l,v,E),o(l,v,E)}:r}function YT(t,r){const o=t.hostBindings;t.hostBindings=o?(l,v)=>{r(l,v),o(l,v)}:r}function ew(t){const r=o=>{const l=(Array.isArray(t)?t:t()).map(v=>"function"==typeof v?{directive:lt(v),inputs:Rs,outputs:Rs}:{directive:lt(v.directive),inputs:tw(v.inputs),outputs:tw(v.outputs)});null===o.hostDirectives?(o.findHostDirectiveDefs=Nm,o.hostDirectives=l):o.hostDirectives.unshift(...l)};return r.ngInherit=!0,r}function Nm(t,r,o){if(null!==t.hostDirectives)for(const l of t.hostDirectives){const v=Ki(l.directive);ZT(v.declaredInputs,l.inputs),Nm(v,r,o),o.set(v,l),r.push(v)}}function tw(t){if(void 0===t||0===t.length)return Rs;const r={};for(let o=0;o<t.length;o+=2)r[t[o]]=t[o+1];return r}function ZT(t,r){for(const o in r)r.hasOwnProperty(o)&&(t[r[o]]=t[o])}function Om(t){const r=t.inputConfig,o={};for(const l in r)if(r.hasOwnProperty(l)){const v=r[l];Array.isArray(v)&&v[3]&&(o[l]=v[3])}t.inputTransforms=o}class lu{}class iw{}function qT(t,r){return new c1(t,r??null,[])}class c1 extends lu{constructor(r,o,l){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Wv(this);const v=vr(r);this._bootstrapComponents=Ca(v.bootstrap),this._r3Injector=Wu(r,o,[{provide:lu,useValue:this},{provide:ef,useValue:this.componentFactoryResolver},...l],xn(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class u1 extends iw{constructor(r){super(),this.moduleType=r}create(r){return new c1(this.moduleType,r,[])}}class rw extends lu{constructor(r){super(),this.componentFactoryResolver=new Wv(this),this.instance=null;const o=new go([...r.providers,{provide:lu,useValue:this},{provide:ef,useValue:this.componentFactoryResolver}],r.parent||ws(),r.debugName,new Set(["environment"]));this.injector=o,r.runEnvironmentInitializers&&o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function _f(t,r,o=null){return new rw({providers:t,parent:r,debugName:o,runEnvironmentInitializers:!0}).injector}let xd=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Z.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const o=this.taskId++;return this.pendingTasks.add(o),o}remove(o){this.pendingTasks.delete(o),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(l){return new(l||t)}}static{this.\u0275prov=ei({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function kd(t){return!!Fm(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Fm(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ul(t,r,o){return t[r]=o}function Nd(t,r){return t[r]}function Fs(t,r,o){return!Object.is(t[r],o)&&(t[r]=o,!0)}function To(t,r,o,l){const v=Fs(t,r,o);return Fs(t,r+1,l)||v}function Ea(t,r,o,l,v,E){const x=To(t,r,o,l);return To(t,r+2,v,E)||x}function cu(t,r,o,l,v,E,x,H){const ne=bn(),Ee=pr(),He=t+Ri,dt=Ee.firstCreatePass?function h1(t,r,o,l,v,E,x,H,ne){const Ee=r.consts,He=tu(r,t,4,x||null,El(Ee,H));Zp(r,o,He,El(Ee,ne)),Yo(r,He);const dt=He.tView=_v(2,He,l,v,E,r.directiveRegistry,r.pipeRegistry,null,r.schemas,Ee,null);return null!==r.queries&&(r.queries.template(r,He),dt.queries=r.queries.embeddedTView(He)),He}(He,Ee,ne,r,o,l,v,E,x):Ee.data[He];el(dt,!1);const Wt=Bm(Ee,ne,dt,t);Uu()&&Ph(Ee,ne,Wt,dt),Fo(Wt,ne);const Qt=tc(Wt,ne,Wt,dt);return ne[He]=Qt,em(ne,Qt),function Ad(t,r,o){return Dd(t,r,o)}(Qt,dt,ne),va(dt)&&Qp(Ee,ne,dt),null!=x&&vv(ne,dt,H),cu}let Bm=function bf(t,r,o,l){return Oo(!0),r[jn].createComment("")};function Xm(t,r,o,l){const v=bn();return Fs(v,No(),r)&&(pr(),ol(rs(),v,t,r,o,l)),Xm}function vu(t,r,o,l){return Fs(t,No(),o)?r+Hn(o)+l:zi}function yu(t,r,o,l,v,E){const H=To(t,function Pa(){return Li.lFrame.bindingIndex}(),o,v);return Fa(2),H?r+Hn(o)+l+Hn(v)+E:zi}function If(t,r){return t<<17|r<<2}function sc(t){return t>>17&32767}function tg(t){return 2|t}function Nc(t){return(131068&t)>>2}function ng(t,r){return-131069&t|r<<2}function ig(t){return 1|t}function N1(t,r,o,l){const v=t[o+1],E=null===r;let x=l?sc(v):Nc(v),H=!1;for(;0!==x&&(!1===H||E);){const Ee=t[x+1];Bw(t[x],r)&&(H=!0,t[x+1]=l?ig(Ee):tg(Ee)),x=l?sc(Ee):Nc(Ee)}H&&(t[o+1]=l?tg(v):ig(v))}function Bw(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&us(t,r)>=0}const fo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function O1(t){return t.substring(fo.key,fo.keyEnd)}function P1(t,r){const o=fo.textEnd;return o===r?-1:(r=fo.keyEnd=function jw(t,r,o){for(;r<o&&t.charCodeAt(r)>32;)r++;return r}(t,fo.key=r,o),Tu(t,r,o))}function Tu(t,r,o){for(;r<o&&t.charCodeAt(r)<=32;)r++;return r}function sg(t,r,o){const l=bn();return Fs(l,No(),r)&&qo(pr(),rs(),l,t,r,l[jn],o,!1),sg}function og(t,r,o,l,v){const x=v?"class":"style";Vh(t,o,r.inputs[x],x,l)}function ag(t,r,o){return dl(t,r,o,!1),ag}function lg(t,r){return dl(t,r,null,!0),lg}function U1(t){hl(Jw,xl,t,!0)}function xl(t,r){for(let o=function Uw(t){return function B1(t){fo.key=0,fo.keyEnd=0,fo.value=0,fo.valueEnd=0,fo.textEnd=t.length}(t),P1(t,Tu(t,0,fo.textEnd))}(r);o>=0;o=P1(r,o))rr(t,O1(r),!0)}function dl(t,r,o,l){const v=bn(),E=pr(),x=Fa(2);E.firstUpdatePass&&j1(E,t,x,l),r!==zi&&Fs(v,x,r)&&ta(E,E.data[co()],v,v[jn],t,v[x+1]=function Zw(t,r){return null==t||""===t||("string"==typeof r?t+=r:"object"==typeof t&&(t=xn(Bl(t)))),t}(r,o),l,x)}function hl(t,r,o,l){const v=pr(),E=Fa(2);v.firstUpdatePass&&j1(v,null,E,l);const x=bn();if(o!==zi&&Fs(x,E,o)){const H=v.data[co()];if(G1(H,l)&&!V1(v,E)){let ne=l?H.classesWithoutHost:H.stylesWithoutHost;null!==ne&&(o=Bn(ne,o||"")),og(v,H,x,o,l)}else!function Qw(t,r,o,l,v,E,x,H){v===zi&&(v=oi);let ne=0,Ee=0,He=0<v.length?v[0]:null,dt=0<E.length?E[0]:null;for(;null!==He||null!==dt;){const Wt=ne<v.length?v[ne+1]:void 0,Qt=Ee<E.length?E[Ee+1]:void 0;let Tn,un=null;He===dt?(ne+=2,Ee+=2,Wt!==Qt&&(un=dt,Tn=Qt)):null===dt||null!==He&&He<dt?(ne+=2,un=He):(Ee+=2,un=dt,Tn=Qt),null!==un&&ta(t,r,o,l,un,Tn,x,H),He=ne<v.length?v[ne]:null,dt=Ee<E.length?E[Ee]:null}}(v,H,x,x[jn],x[E+1],x[E+1]=function Xw(t,r,o){if(null==o||""===o)return oi;const l=[],v=Bl(o);if(Array.isArray(v))for(let E=0;E<v.length;E++)t(l,v[E],!0);else if("object"==typeof v)for(const E in v)v.hasOwnProperty(E)&&t(l,E,v[E]);else"string"==typeof v&&r(l,v);return l}(t,r,o),l,E)}}function V1(t,r){return r>=t.expandoStartIndex}function j1(t,r,o,l){const v=t.data;if(null===v[o+1]){const E=v[co()],x=V1(t,o);G1(E,l)&&null===r&&!x&&(r=!1),r=function Ww(t,r,o,l){const v=ep(t);let E=l?r.residualClasses:r.residualStyles;if(null===v)0===(l?r.classBindings:r.styleBindings)&&(o=Ud(o=cg(null,t,r,o,l),r.attrs,l),E=null);else{const x=r.directiveStylingLast;if(-1===x||t[x]!==v)if(o=cg(v,t,r,o,l),null===E){let ne=function Kw(t,r,o){const l=o?r.classBindings:r.styleBindings;if(0!==Nc(l))return t[sc(l)]}(t,r,l);void 0!==ne&&Array.isArray(ne)&&(ne=cg(null,t,r,ne[1],l),ne=Ud(ne,r.attrs,l),function zw(t,r,o,l){t[sc(o?r.classBindings:r.styleBindings)]=l}(t,r,l,ne))}else E=function Yw(t,r,o){let l;const v=r.directiveEnd;for(let E=1+r.directiveStylingLast;E<v;E++)l=Ud(l,t[E].hostAttrs,o);return Ud(l,r.attrs,o)}(t,r,l)}return void 0!==E&&(l?r.residualClasses=E:r.residualStyles=E),o}(v,E,r,l),function Pw(t,r,o,l,v,E){let x=E?r.classBindings:r.styleBindings,H=sc(x),ne=Nc(x);t[l]=o;let He,Ee=!1;if(Array.isArray(o)?(He=o[1],(null===He||us(o,He)>0)&&(Ee=!0)):He=o,v)if(0!==ne){const Wt=sc(t[H+1]);t[l+1]=If(Wt,H),0!==Wt&&(t[Wt+1]=ng(t[Wt+1],l)),t[H+1]=function Nw(t,r){return 131071&t|r<<17}(t[H+1],l)}else t[l+1]=If(H,0),0!==H&&(t[H+1]=ng(t[H+1],l)),H=l;else t[l+1]=If(ne,0),0===H?H=l:t[ne+1]=ng(t[ne+1],l),ne=l;Ee&&(t[l+1]=tg(t[l+1])),N1(t,He,l,!0),N1(t,He,l,!1),function Fw(t,r,o,l,v){const E=v?t.residualClasses:t.residualStyles;null!=E&&"string"==typeof r&&us(E,r)>=0&&(o[l+1]=ig(o[l+1]))}(r,He,t,l,E),x=If(H,ne),E?r.classBindings=x:r.styleBindings=x}(v,E,r,o,x,l)}}function cg(t,r,o,l,v){let E=null;const x=o.directiveEnd;let H=o.directiveStylingLast;for(-1===H?H=o.directiveStart:H++;H<x&&(E=r[H],l=Ud(l,E.hostAttrs,v),E!==t);)H++;return null!==t&&(o.directiveStylingLast=H),l}function Ud(t,r,o){const l=o?1:2;let v=-1;if(null!==r)for(let E=0;E<r.length;E++){const x=r[E];"number"==typeof x?v=x:v===l&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),rr(t,x,!!o||r[++E]))}return void 0===t?null:t}function Jw(t,r,o){const l=String(r);""!==l&&!l.includes(" ")&&rr(t,l,o)}function ta(t,r,o,l,v,E,x,H){if(!(3&r.type))return;const ne=t.data,Ee=ne[H+1],He=function Ow(t){return!(1&~t)}(Ee)?Ga(ne,r,o,v,Nc(Ee),x):void 0;Df(He)||(Df(E)||function kw(t){return!(2&~t)}(Ee)&&(E=Ga(ne,null,o,v,H,x)),function sT(t,r,o,l,v){if(r)v?t.addClass(o,l):t.removeClass(o,l);else{let E=-1===l.indexOf("-")?void 0:xh.DashCase;null==v?t.removeStyle(o,l,E):("string"==typeof v&&v.endsWith("!important")&&(v=v.slice(0,-10),E|=xh.Important),t.setStyle(o,l,v,E))}}(l,x,Ou(co(),o),v,E))}function Ga(t,r,o,l,v,E){const x=null===r;let H;for(;v>0;){const ne=t[v],Ee=Array.isArray(ne),He=Ee?ne[1]:ne,dt=null===He;let Wt=o[v+1];Wt===zi&&(Wt=dt?oi:void 0);let Qt=dt?Fr(Wt,l):He===l?Wt:void 0;if(Ee&&!Df(Qt)&&(Qt=Fr(ne,l)),Df(Qt)&&(H=Qt,x))return H;const un=t[v+1];v=x?sc(un):Nc(un)}if(null!==r){let ne=E?r.residualClasses:r.residualStyles;null!=ne&&(H=Fr(ne,l))}return H}function Df(t){return void 0!==t}function G1(t,r){return!!(t.flags&(r?8:16))}function H1(t,r,o){hl(rr,xl,vu(bn(),t,r,o),!0)}function W1(t,r,o,l,v){hl(rr,xl,yu(bn(),t,r,o,l,v),!0)}class sE{destroy(r){}updateValue(r,o){}swap(r,o){const l=Math.min(r,o),v=Math.max(r,o),E=this.detach(v);if(v-l>1){const x=this.detach(l);this.attach(l,E),this.attach(v,x)}else this.attach(l,E)}move(r,o){this.attach(o,this.detach(r))}}function ug(t,r,o,l,v){return t===o&&Object.is(r,l)?1:Object.is(v(t,r),v(o,l))?-1:0}function Iu(t,r,o,l){return!(void 0===r||!r.has(l)||(t.attach(o,r.get(l)),r.delete(l),0))}function Y1(t,r,o,l,v){if(Iu(t,r,l,o(l,v)))t.updateValue(l,v);else{const E=t.create(l,v);t.attach(l,E)}}function X1(t,r,o,l){const v=new Set;for(let E=r;E<=o;E++)v.add(l(E,t.at(E)));return v}class J1{constructor(){this.kvMap=new Map,this._vMap=void 0}has(r){return this.kvMap.has(r)}delete(r){if(!this.has(r))return!1;const o=this.kvMap.get(r);return void 0!==this._vMap&&this._vMap.has(o)?(this.kvMap.set(r,this._vMap.get(o)),this._vMap.delete(o)):this.kvMap.delete(r),!0}get(r){return this.kvMap.get(r)}set(r,o){if(this.kvMap.has(r)){let l=this.kvMap.get(r);void 0===this._vMap&&(this._vMap=new Map);const v=this._vMap;for(;v.has(l);)l=v.get(l);v.set(l,o)}else this.kvMap.set(r,o)}forEach(r){for(let[o,l]of this.kvMap)if(r(l,o),void 0!==this._vMap){const v=this._vMap;for(;v.has(l);)l=v.get(l),r(l,o)}}}function dg(t,r,o){ll("NgControlFlow");const l=bn(),v=No(),E=hg(l,Ri+t);if(Fs(l,v,r)){const H=m(null);try{if(im(E,0),-1!==r){const ne=fg(l[P],Ri+r),Ee=Sd(E,ne.tView.ssrId);Gh(E,$h(l,ne,o,{dehydratedView:Ee}),0,gd(ne,Ee))}}finally{m(H)}}else{const H=Zb(E,0);void 0!==H&&(H[an]=o)}}class aE{constructor(r,o,l){this.lContainer=r,this.$implicit=o,this.$index=l}get $count(){return this.lContainer.length-Ts}}function Q1(t,r){return r}class cE{constructor(r,o,l){this.hasEmptyBlock=r,this.trackByFn=o,this.liveCollection=l}}function Z1(t,r,o,l,v,E,x,H,ne,Ee,He,dt,Wt){ll("NgControlFlow");const Qt=void 0!==ne,un=bn(),Tn=H?x.bind(un[Rr][an]):x,Fn=new cE(Qt,Tn);un[Ri+t]=Fn,cu(t+1,r,o,l,v,E),Qt&&cu(t+2,ne,Ee,He,dt,Wt)}class Vd extends sE{constructor(r,o,l){super(),this.lContainer=r,this.hostLView=o,this.templateTNode=l,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Ts}at(r){return this.getLView(r)[an].$implicit}attach(r,o){const l=o[Ut];this.needsIndexUpdate||=r!==this.length,Gh(this.lContainer,o,r,gd(this.templateTNode,l))}detach(r){return this.needsIndexUpdate||=r!==this.length-1,function uE(t,r){return cd(t,r)}(this.lContainer,r)}create(r,o){const l=Sd(this.lContainer,this.templateTNode.tView.ssrId);return $h(this.hostLView,this.templateTNode,new aE(this.lContainer,o,r),{dehydratedView:l})}destroy(r){eu(r[P],r)}updateValue(r,o){this.getLView(r)[an].$implicit=o}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let r=0;r<this.length;r++)this.getLView(r)[an].$index=r}getLView(r){return function dE(t,r){return Zb(t,r)}(this.lContainer,r)}}function q1(t){const r=m(null),o=co();try{const l=bn(),v=l[P],E=l[o];if(void 0===E.liveCollection){const H=o+1,ne=hg(l,H),Ee=fg(v,H);E.liveCollection=new Vd(ne,l,Ee)}else E.liveCollection.reset();const x=E.liveCollection;if(function oE(t,r,o){let l,v,E=0,x=t.length-1;if(Array.isArray(r)){let H=r.length-1;for(;E<=x&&E<=H;){const ne=t.at(E),Ee=r[E],He=ug(E,ne,E,Ee,o);if(0!==He){He<0&&t.updateValue(E,Ee),E++;continue}const dt=t.at(x),Wt=r[H],Qt=ug(x,dt,H,Wt,o);if(0!==Qt){Qt<0&&t.updateValue(x,Wt),x--,H--;continue}const un=o(E,ne),Tn=o(x,dt),Fn=o(E,Ee);if(Object.is(Fn,Tn)){const zn=o(H,Wt);Object.is(zn,un)?(t.swap(E,x),t.updateValue(x,Wt),H--,x--):t.move(x,E),t.updateValue(E,Ee),E++}else if(l??=new J1,v??=X1(t,E,x,o),Iu(t,l,E,Fn))t.updateValue(E,Ee),E++,x++;else if(v.has(Fn))l.set(un,t.detach(E)),x--;else{const zn=t.create(E,r[E]);t.attach(E,zn),E++,x++}}for(;E<=H;)Y1(t,l,o,E,r[E]),E++}else if(null!=r){const H=r[Symbol.iterator]();let ne=H.next();for(;!ne.done&&E<=x;){const Ee=t.at(E),He=ne.value,dt=ug(E,Ee,E,He,o);if(0!==dt)dt<0&&t.updateValue(E,He),E++,ne=H.next();else{l??=new J1,v??=X1(t,E,x,o);const Wt=o(E,He);if(Iu(t,l,E,Wt))t.updateValue(E,He),E++,x++,ne=H.next();else if(v.has(Wt)){const Qt=o(E,Ee);l.set(Qt,t.detach(E)),x--}else t.attach(E,t.create(E,He)),E++,x++,ne=H.next()}}for(;!ne.done;)Y1(t,l,o,t.length,ne.value),ne=H.next()}for(;E<=x;)t.destroy(t.detach(x--));l?.forEach(H=>{t.destroy(H)})}(x,t,E.trackByFn),x.updateIndexes(),E.hasEmptyBlock){const H=No(),ne=0===x.length;if(Fs(l,H,ne)){const Ee=o+2,He=hg(l,Ee);if(ne){const dt=fg(v,Ee),Wt=Sd(He,dt.tView.ssrId);Gh(He,$h(l,dt,void 0,{dehydratedView:Wt}),0,gd(dt,Wt))}else im(He,0)}}}finally{m(r)}}function hg(t,r){return t[r]}function fg(t,r){return Pu(t,r)}function Af(t,r,o,l){const v=bn(),E=pr(),x=Ri+t,H=v[jn],ne=E.firstCreatePass?function hE(t,r,o,l,v,E){const x=r.consts,ne=tu(r,t,2,l,El(x,v));return Zp(r,o,ne,El(x,E)),null!==ne.attrs&&df(ne,ne.attrs,!1),null!==ne.mergedAttrs&&df(ne,ne.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,ne),ne}(x,E,v,r,o,l):E.data[x],Ee=Mf(E,v,ne,H,r,t);v[x]=Ee;const He=va(ne);return el(ne,!0),Bb(H,Ee,ne),!function Od(t){return!(32&~t.flags)}(ne)&&Uu()&&Ph(E,v,Ee,ne),0===function n_(){return Li.lFrame.elementDepthCount}()&&Fo(Ee,v),function i_(){Li.lFrame.elementDepthCount++}(),He&&(Qp(E,v,ne),gv(E,ne,v)),null!==l&&vv(v,ne),Af}function Rf(){let t=Ur();Qf()?$c():(t=t.parent,el(t,!1));const r=t;(function RS(t){return Li.skipHydrationRootTNode===t})(r)&&function Jd(){Li.skipHydrationRootTNode=null}(),function Fu(){Li.lFrame.elementDepthCount--}();const o=pr();return o.firstCreatePass&&(Yo(o,t),vl(t)&&o.queries.elementEnd(t)),null!=r.classesWithoutHost&&function u_(t){return!!(8&t.flags)}(r)&&og(o,r,bn(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function d_(t){return!!(16&t.flags)}(r)&&og(o,r,bn(),r.stylesWithoutHost,!1),Rf}function pg(t,r,o,l){return Af(t,r,o,l),Rf(),pg}let Mf=(t,r,o,l,v,E)=>(Oo(!0),Nh(l,v,function yr(){return Li.lFrame.currentNamespace}()));function xf(t,r,o){const l=bn(),v=pr(),E=t+Ri,x=v.firstCreatePass?function pE(t,r,o,l,v){const E=r.consts,x=El(E,l),H=tu(r,t,8,"ng-container",x);return null!==x&&df(H,x,!0),Zp(r,o,H,El(E,v)),null!==r.queries&&r.queries.elementStart(r,H),H}(E,v,l,r,o):v.data[E];el(x,!0);const H=ey(v,l,x,t);return l[E]=H,Uu()&&Ph(v,l,H,x),Fo(H,l),va(x)&&(Qp(v,l,x),gv(v,x,l)),null!=o&&vv(l,x),xf}function kf(){let t=Ur();const r=pr();return Qf()?$c():(t=t.parent,el(t,!1)),r.firstCreatePass&&(Yo(r,t),vl(t)&&r.queries.elementEnd(t)),kf}function mg(t,r,o){return xf(t,r,o),kf(),mg}let ey=(t,r,o,l)=>(Oo(!0),Gp(r[jn],""));function ty(){return bn()}function gg(t,r,o){const l=bn();return Fs(l,No(),r)&&qo(pr(),rs(),l,t,r,l[jn],o,!0),gg}function vg(t,r,o){const l=bn();if(Fs(l,No(),r)){const E=pr(),x=rs();qo(E,x,l,t,r,tm(ep(E.data),x,l),o,!0)}return vg}const Oc=void 0;var yE=["en",[["a","p"],["AM","PM"],Oc],[["AM","PM"],Oc,Oc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Oc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Oc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Oc,"{1} 'at' {0}",Oc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function vE(t){const o=Math.floor(Math.abs(t)),l=t.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===l?1:5}];let Pc={};function yg(t){const r=function sy(t){return t.toLowerCase().replace(/_/g,"-")}(t);let o=iy(r);if(o)return o;const l=r.split("-")[0];if(o=iy(l),o)return o;if("en"===l)return yE;throw new Be(701,!1)}function ny(t){return yg(t)[Du.PluralCase]}function iy(t){return t in Pc||(Pc[t]=gt.ng&&gt.ng.common&&gt.ng.common.locales&&gt.ng.common.locales[t]),Pc[t]}var Du=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Du||{});const Au="en-US",Nf={marker:"element"},Of={marker:"ICU"};var ha=function(t){return t[t.SHIFT=2]="SHIFT",t[t.APPEND_EAGERLY=1]="APPEND_EAGERLY",t[t.COMMENT=2]="COMMENT",t}(ha||{});let ly=Au;function uy(t,r,o){const l=r.insertBeforeIndex,v=Array.isArray(l)?l[0]:l;return null===v?sv(t,0,o):Sr(o[v])}function dy(t,r,o,l,v){const E=r.insertBeforeIndex;if(Array.isArray(E)){let x=l,H=null;if(3&r.type||(H=x,x=v),null!==x&&-1===r.componentOffset)for(let ne=1;ne<E.length;ne++)Ec(t,x,o[E[ne]],H,!1)}}function hy(t,r){if(t.push(r),t.length>1)for(let o=t.length-2;o>=0;o--){const l=t[o];fy(l)||wE(l,r)&&null===Pf(l)&&EE(l,r.index)}}function fy(t){return!(64&t.type)}function wE(t,r){return fy(r)||t.index>r.index}function Pf(t){const r=t.insertBeforeIndex;return Array.isArray(r)?r[0]:r}function EE(t,r){const o=t.insertBeforeIndex;Array.isArray(o)?o[0]=r:(av(uy,dy),t.insertBeforeIndex=r)}function TE(t,r,o){const l=pv(t,o,64,null,null);return hy(r,l),l}let Hd=(t,r,o,l)=>(Oo(!0),function bg(t,r,o){const l=t[jn];switch(o){case Node.COMMENT_NODE:return Gp(l,r);case Node.TEXT_NODE:return $p(l,r);case Node.ELEMENT_NODE:return Nh(l,r,null)}}(t,o,l));function xE(){const t=[];let o,l,r=-1;function E(H,ne){r=0;const Ee=function Ff(t,r){const o=r[t.currentCaseLViewIndex];return null===o?o:o<0?~o:o}(H,ne);l=null!==Ee?H.remove[Ee]:oi}function x(){if(r<l.length){const H=l[r++];return H>0?o[H]:(t.push(r,l),E(o[P].data[~H],o),x())}return 0===t.length?null:(l=t.pop(),r=t.pop(),x())}return function v(H,ne){for(o=ne;t.length;)t.pop();return E(H.value,ne),x}}const Bf=/\ufffd(\d+):?\d*\ufffd/gi,Cg=/\ufffd(\d+)\ufffd/,wg=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Wd="\ufffd",OE=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,PE=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,FE=/\uE500/g;function Ty(t,r,o,l,v,E,x){const H=fd(t,l,1,null);let ne=H<<ha.SHIFT,Ee=la();r===Ee&&(Ee=null),null===Ee&&(ne|=ha.APPEND_EAGERLY),x&&(ne|=ha.COMMENT,function Sb(t){void 0===kh&&(kh=t())}(xE)),v.push(ne,null===E?"":E);const He=pv(t,H,x?32:1,null===E?"":E,null);hy(o,He);const dt=He.index;return el(He,!1),null!==Ee&&r!==Ee&&function py(t,r){let o=t.insertBeforeIndex;null===o?(av(uy,dy),o=t.insertBeforeIndex=[null,r]):(Un(Array.isArray(o),!0,"Expecting array here"),o.push(r))}(Ee,dt),He}function UE(t,r,o,l,v,E,x,H){const ne=H.match(Bf),He=Ty(r,o,l,x,v,ne?null:H,!1).index;ne&&Kd(E,H,He,null,0,null),t.push({kind:0,index:He})}function Kd(t,r,o,l,v,E){const x=t.length,H=x+1;t.push(null,null);const ne=x+2,Ee=r.split(Bf);let He=0;for(let dt=0;dt<Ee.length;dt++){const Wt=Ee[dt];if(1&dt){const Qt=v+parseInt(Wt,10);t.push(-1-Qt),He|=Iy(Qt)}else""!==Wt&&t.push(Wt)}return t.push(o<<2|(l?1:0)),l&&t.push(l,E),t[x]=He,t[H]=t.length-ne,He}function Iy(t){return 1<<Math.min(t,31)}function Dy(t){let r,E,o="",l=0,v=!1;for(;null!==(r=OE.exec(t));)v?r[0]===`${Wd}/*${E}${Wd}`&&(l=r.index,v=!1):(o+=t.substring(l,r.index+r[0].length),E=r[1],v=!0);return o+=t.slice(l),o}function Ay(t,r,o,l,v,E,x){let H=0;const ne={type:E.type,currentCaseLViewIndex:fd(r,o,1,null),anchorIdx:x,cases:[],create:[],remove:[],update:[]};(function zE(t,r,o){t.push(Iy(r.mainBinding),2,-1-r.mainBinding,o<<2|2)})(l,E,x),function SE(t,r,o){const l=t.data[r];null===l?t.data[r]=o:l.value=o}(r,x,ne);const Ee=E.values,He=[];for(let dt=0;dt<Ee.length;dt++){const Wt=Ee[dt],Qt=[];for(let Tn=0;Tn<Wt.length;Tn++){const Fn=Wt[Tn];if("string"!=typeof Fn){const zn=Qt.push(Fn)-1;Wt[Tn]=`\x3c!--\ufffd${zn}\ufffd--\x3e`}}const un=[];He.push(un),H=WE(un,r,ne,o,l,v,E.cases[dt],Wt.join(""),Qt)|H}H&&function YE(t,r,o){t.push(r,1,o<<2|3)}(l,H,x),t.push({kind:3,index:x,cases:He,currentCaseLViewIndex:ne.currentCaseLViewIndex})}function HE(t){const r=[],o=[];let l=1,v=0;const E=Eg(t=t.replace(wg,function(x,H,ne){return l="select"===ne?0:1,v=parseInt(H.slice(1),10),""}));for(let x=0;x<E.length;){let H=E[x++].trim();1===l&&(H=H.replace(/\s*(?:=)?(\w+)\s*/,"$1")),H.length&&r.push(H);const ne=Eg(E[x++]);r.length>o.length&&o.push(ne)}return{type:l,mainBinding:v,cases:r,values:o}}function Eg(t){if(!t)return[];let r=0;const o=[],l=[],v=/[{}]/g;let E;for(v.lastIndex=0;E=v.exec(t);){const H=E.index;if("}"==E[0]){if(o.pop(),0==o.length){const ne=t.substring(r,H);wg.test(ne)?l.push(HE(ne)):l.push(ne),r=H+1}}else{if(0==o.length){const ne=t.substring(r,H);l.push(ne),r=H+1}o.push("{")}}const x=t.substring(r);return l.push(x),l}function WE(t,r,o,l,v,E,x,H,ne){const Ee=[],He=[],dt=[];o.cases.push(x),o.create.push(Ee),o.remove.push(He),o.update.push(dt);const Qt=k0(Al()).getInertBodyElement(H),un=Pp(Qt)||Qt;return un?Ry(t,r,o,l,v,Ee,He,dt,un,E,ne,0):0}function Ry(t,r,o,l,v,E,x,H,ne,Ee,He,dt){let Wt=0,Qt=ne.firstChild;for(;Qt;){const un=fd(r,l,1,null);switch(Qt.nodeType){case Node.ELEMENT_NODE:const Tn=Qt,Fn=Tn.tagName.toLowerCase();if(od.hasOwnProperty(Fn)){Sg(E,Nf,Fn,Ee,un),r.data[un]=Fn;const xr=Tn.attributes;for(let Do=0;Do<xr.length;Do++){const Wa=xr.item(Do),Gf=Wa.name.toLowerCase();Wa.value.match(Bf)?O0.hasOwnProperty(Gf)&&Kd(H,Wa.value,un,Wa.name,0,Np[Gf]?rd:null):XE(E,un,Wa)}const ms={kind:1,index:un,children:[]};t.push(ms),Wt=Ry(ms.children,r,o,l,v,E,x,H,Qt,un,He,dt+1)|Wt,My(x,un,dt)}break;case Node.TEXT_NODE:const zn=Qt.textContent||"",Rn=zn.match(Bf);Sg(E,null,Rn?"":zn,Ee,un),My(x,un,dt),Rn&&(Wt=Kd(H,zn,un,null,0,null)|Wt),t.push({kind:0,index:un});break;case Node.COMMENT_NODE:const Bi=Cg.exec(Qt.textContent||"");if(Bi){const ms=He[parseInt(Bi[1],10)];Sg(E,Of,"",Ee,un),Ay(t,r,l,v,Ee,ms,un),KE(x,un,dt)}}Qt=Qt.nextSibling}return Wt}function My(t,r,o){0===o&&t.push(r)}function KE(t,r,o){0===o&&(t.push(~r),t.push(r))}function Sg(t,r,o,l,v){null!==r&&t.push(r),t.push(o,v,function vy(t,r,o){return t|r<<17|o<<1}(0,l,v))}function XE(t,r,o){t.push(r<<1|1,o.name,o.value)}function D(t,r,o=-1){const l=pr(),v=bn(),E=Ri+t,x=El(l.consts,r),H=la();l.firstCreatePass&&function LE(t,r,o,l,v,E){const x=la(),H=[],ne=[],Ee=[[]],He=[[]];v=function GE(t,r){if(function $E(t){return-1===t}(r))return Dy(t);{const o=t.indexOf(`:${r}${Wd}`)+2+r.toString().length,l=t.search(new RegExp(`${Wd}\\/\\*\\d+:${r}${Wd}`));return Dy(t.substring(o,l))}}(v,E);const dt=function BE(t){return t.replace(FE," ")}(v).split(PE);for(let Wt=0;Wt<dt.length;Wt++){let Qt=dt[Wt];if(1&Wt){const un=47===Qt.charCodeAt(0),Tn=Qt.charCodeAt(un?1:0),Fn=Ri+Number.parseInt(Qt.substring(un?2:1));if(un)Ee.shift(),He.shift(),el(la(),!1);else{const zn=TE(t,Ee[0],Fn);Ee.unshift([]),el(zn,!0);const Rn={kind:2,index:Fn,children:[],type:35===Tn?0:1};He[0].push(Rn),He.unshift(Rn.children)}}else{const un=Eg(Qt);for(let Tn=0;Tn<un.length;Tn++){let Fn=un[Tn];if(1&Tn){const zn=Fn;if("object"!=typeof zn)throw new Error(`Unable to parse ICU expression in "${v}" message.`);const Bi=Ty(t,x,Ee[0],o,H,"",!0).index;Ay(He[0],t,o,ne,r,zn,Bi)}else""!==Fn&&UE(He[0],t,x,Ee[0],H,ne,o,Fn)}}}t.data[l]={create:H,update:ne,ast:He[0]}}(l,null===H?0:H.index,v,E,x,o),2===l.type?v[Rr][ue]|=32:v[ue]|=32;const ne=l.data[E],He=tv(l,H===v[Nt]?null:H,v);(function _y(t,r,o,l){const v=t[jn];for(let E=0;E<r.length;E++){const x=r[E++],Ee=(x&ha.APPEND_EAGERLY)===ha.APPEND_EAGERLY,He=x>>>ha.SHIFT;let dt=t[He],Wt=!1;null===dt&&(dt=t[He]=Hd(t,He,r[E],(x&ha.COMMENT)===ha.COMMENT?Node.COMMENT_NODE:Node.TEXT_NODE),Wt=Uu()),Ee&&null!==o&&Wt&&Ec(v,o,dt,l,!1)}})(v,ne.create,He,H&&8&H.type?v[H.index]:null),Zf(!0)}function Ae(t,r,o){D(t,r,o),function te(){Zf(!1)}()}function yn(t,r,o,l){const v=bn(),E=pr(),x=Ur();return kn(E,v,v[jn],x,t,r,l),yn}function kn(t,r,o,l,v,E,x){const H=va(l),Ee=t.firstCreatePass&&Qb(t),He=r[an],dt=Jb(r);let Wt=!0;if(3&l.type||x){const Tn=zo(l,r),Fn=x?x(Tn):Tn,zn=dt.length,Rn=x?xr=>x(Sr(xr[l.index])):l.index;let Bi=null;if(!x&&H&&(Bi=function On(t,r,o,l){const v=t.cleanup;if(null!=v)for(let E=0;E<v.length-1;E+=2){const x=v[E];if(x===o&&v[E+1]===l){const H=r[rn],ne=v[E+2];return H.length>ne?H[ne]:null}"string"==typeof x&&(E+=2)}return null}(t,r,v,l.index)),null!==Bi)(Bi.__ngLastListenerFn__||Bi).__ngNextListenerFn__=E,Bi.__ngLastListenerFn__=E,Wt=!1;else{E=bi(l,r,He,E,!1);const xr=o.listen(Fn,v,E);dt.push(E,xr),Ee&&Ee.push(v,Rn,zn,zn+1)}}else E=bi(l,r,He,E,!1);const Qt=l.outputs;let un;if(Wt&&null!==Qt&&(un=Qt[v])){const Tn=un.length;if(Tn)for(let Fn=0;Fn<Tn;Fn+=2){const ms=r[un[Fn]][un[Fn+1]].subscribe(E),Do=dt.length;dt.push(E,ms),Ee&&Ee.push(v,l.index,Do,-(Do+1))}}}function ai(t,r,o,l){const v=m(null);try{return aa(6,r,o),!1!==o(l)}catch(E){return nm(t,E),!1}finally{aa(7,r,o),m(v)}}function bi(t,r,o,l,v){return function E(x){if(x===Function)return l;vd(t.componentOffset>-1?ya(t.index,r):r);let ne=ai(r,o,l,x),Ee=E.__ngNextListenerFn__;for(;Ee;)ne=ai(r,o,Ee,x)&&ne,Ee=Ee.__ngNextListenerFn__;return v&&!1===ne&&x.preventDefault(),ne}}function Zi(t=1){return function jg(t){return(Li.lFrame.contextLView=function Bg(t,r){for(;t>0;)r=r[Wr],t--;return r}(t,Li.lFrame.contextLView))[an]}(t)}function Ci(t,r){let o=null;const l=function Et(t){const r=t.attrs;if(null!=r){const o=r.indexOf(5);if(!(1&o))return r[o+1]}return null}(t);for(let v=0;v<r.length;v++){const E=r[v];if("*"!==E){if(null===l?Je(t,E,!0):St(l,E))return v}else o=v}return o}function ir(t){const r=bn()[Rr][Nt];if(!r.projection){const l=r.projection=function so(t,r){const o=[];for(let l=0;l<t;l++)o.push(r);return o}(t?t.length:1,null),v=l.slice();let E=r.child;for(;null!==E;){const x=t?Ci(E,t):0;null!==x&&(v[x]?v[x].projectionNext=E:l[x]=E,v[x]=E),E=E.next}}}function Yi(t,r=0,o){const l=bn(),v=pr(),E=tu(v,Ri+t,16,null,o||null);null===E.projection&&(E.projection=r),$c(),(!l[Ut]||lc())&&32&~E.flags&&function rT(t,r,o){Ob(r[jn],0,r,o,Wp(t,o,r),rv(o.parent||r[Nt],o,r))}(v,l,E)}function Xi(t,r,o){return Wi(t,"",r,"",o),Xi}function Wi(t,r,o,l,v){const E=bn(),x=vu(E,r,o,l);return x!==zi&&qo(pr(),rs(),E,t,x,E[jn],v,!1),Wi}function Zr(t,r,o,l,v,E,x){const H=bn(),ne=yu(H,r,o,l,v,E);return ne!==zi&&qo(pr(),rs(),H,t,ne,H[jn],x,!1),Zr}function hi(t,r,o,l){!function Qv(t,r,o,l){const v=pr();if(v.firstCreatePass){const E=Ur();qv(v,new NC(r,o,l),E.index),function e1(t,r){const o=t.contentQueries||(t.contentQueries=[]);r!==(o.length?o[o.length-1]:-1)&&o.push(t.queries.length-1,r)}(v,t),!(2&~o)&&(v.staticContentQueries=!0)}return Jv(v,bn(),o)}(t,r,o,l)}function Ii(t,r,o){!function Tm(t,r,o){const l=pr();return l.firstCreatePass&&(qv(l,new NC(t,r,o),-1),!(2&~r)&&(l.staticViewQueries=!0)),Jv(l,bn(),r)}(t,r,o)}function qi(t){const r=bn(),o=pr(),l=hc();Sl(l+1);const v=Im(o,l);if(t.dirty&&function qy(t){return!(4&~t[ue])}(r)===!(2&~v.metadata.flags)){if(null===v.matches)t.reset([]);else{const E=vf(r,l);t.reset(E,qg),t.notifyOnChanges()}return!0}return!1}function Is(){return function Sm(t,r){return t[fs].queries[r].queryList}(bn(),hc())}function Ha(t){return Uc(function o_(){return Li.lFrame.contextLView}(),Ri+t)}function Lf(t,r=""){const o=bn(),l=pr(),v=t+Ri,E=l.firstCreatePass?tu(l,v,1,r,null):l.data[v],x=Rg(l,o,E,r,t);o[v]=x,Uu()&&Ph(l,o,x,E),el(E,!1)}let Rg=(t,r,o,l,v)=>(Oo(!0),$p(r[jn],l));function Uf(t){return Ly("",t,""),Uf}function Ly(t,r,o){const l=bn(),v=vu(l,t,r,o);return v!==zi&&Ml(l,co(),v),Ly}function tS(t,r,o,l,v){const E=bn(),x=yu(E,t,r,o,l,v);return x!==zi&&Ml(E,co(),x),tS}function nS(t,r,o){n1(r)&&(r=r());const l=bn();return Fs(l,No(),r)&&qo(pr(),rs(),l,t,r,l[jn],o,!1),nS}function CI(t,r){const o=n1(t);return o&&t.set(r),o}function iS(t,r){const o=bn(),l=pr(),v=Ur();return kn(l,o,o[jn],v,t,r),iS}function rS(t,r,o,l,v){if(t=lt(t),Array.isArray(t))for(let E=0;E<t.length;E++)rS(t[E],r,o,l,v);else{const E=pr(),x=bn(),H=Ur();let ne=Go(t)?t:lt(t.provide);const Ee=Eo(t),He=1048575&H.providerIndexes,dt=H.directiveStart,Wt=H.providerIndexes>>20;if(Go(t)||!t.multi){const Qt=new ju(Ee,v,hd),un=oS(ne,r,v?He:He+Wt,dt);-1===un?(Gi(up(H,x),E,ne),sS(E,t,r.length),r.push(ne),H.directiveStart++,H.directiveEnd++,v&&(H.providerIndexes+=1048576),o.push(Qt),x.push(Qt)):(o[un]=Qt,x[un]=Qt)}else{const Qt=oS(ne,r,He+Wt,dt),un=oS(ne,r,He,He+Wt),Fn=un>=0&&o[un];if(v&&!Fn||!v&&!(Qt>=0&&o[Qt])){Gi(up(H,x),E,ne);const zn=function xA(t,r,o,l,v){const E=new ju(t,o,hd);return E.multi=[],E.index=r,E.componentProviders=0,wI(E,v,l&&!o),E}(v?MA:RA,o.length,v,l,Ee);!v&&Fn&&(o[un].providerFactory=zn),sS(E,t,r.length,0),r.push(ne),H.directiveStart++,H.directiveEnd++,v&&(H.providerIndexes+=1048576),o.push(zn),x.push(zn)}else sS(E,t,Qt>-1?Qt:un,wI(o[v?un:Qt],Ee,!v&&l));!v&&l&&Fn&&o[un].componentProviders++}}}function sS(t,r,o,l){const v=Go(r),E=function ko(t){return!!t.useClass}(r);if(v||E){const ne=(E?lt(r.useClass):r).prototype.ngOnDestroy;if(ne){const Ee=t.destroyHooks||(t.destroyHooks=[]);if(!v&&r.multi){const He=Ee.indexOf(o);-1===He?Ee.push(o,[l,ne]):Ee[He+1].push(l,ne)}else Ee.push(o,ne)}}}function wI(t,r,o){return o&&t.componentProviders++,t.multi.push(r)-1}function oS(t,r,o,l){for(let v=o;v<l;v++)if(r[v]===t)return v;return-1}function RA(t,r,o,l){return aS(this.multi,[])}function MA(t,r,o,l){const v=this.multi;let E;if(this.providerFactory){const x=this.providerFactory.componentProviders,H=fc(o,o[P],this.providerFactory.index,l);E=H.slice(0,x),aS(v,E);for(let ne=x;ne<H.length;ne++)E.push(H[ne])}else E=[],aS(v,E);return E}function aS(t,r){for(let o=0;o<t.length;o++)r.push((0,t[o])());return r}function EI(t,r=[]){return o=>{o.providersResolver=(l,v)=>function AA(t,r,o){const l=pr();if(l.firstCreatePass){const v=vo(t);rS(o,l.data,l.blueprint,v,!0),rS(r,l.data,l.blueprint,v,!1)}}(l,v?v(t):t,r)}}let kA=(()=>{class t{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o)){const l=Vs(0,o.type),v=l.length>0?_f([l],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o,v)}return this.cachedInjectors.get(o)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=ei({token:t,providedIn:"environment",factory:()=>new t(er(Ar))})}}return t})();function SI(t){ll("NgStandalone"),t.getStandaloneInjector=r=>r.get(kA).getOrCreateStandaloneInjector(t)}function II(t,r,o){const l=yo()+t,v=bn();return v[l]===zi?ul(v,l,o?r.call(o):r()):Nd(v,l)}function DI(t,r,o,l){return NI(bn(),yo(),t,r,o,l)}function AI(t,r,o,l,v){return OI(bn(),yo(),t,r,o,l,v)}function RI(t,r,o,l,v,E){return PI(bn(),yo(),t,r,o,l,v,E)}function MI(t,r,o,l,v,E,x){return function FI(t,r,o,l,v,E,x,H,ne){const Ee=r+o;return Ea(t,Ee,v,E,x,H)?ul(t,Ee+4,ne?l.call(ne,v,E,x,H):l(v,E,x,H)):Mg(t,Ee+4)}(bn(),yo(),t,r,o,l,v,E,x)}function xI(t,r,o,l,v,E,x,H){const ne=yo()+t,Ee=bn(),He=Ea(Ee,ne,o,l,v,E);return Fs(Ee,ne+4,x)||He?ul(Ee,ne+5,H?r.call(H,o,l,v,E,x):r(o,l,v,E,x)):Nd(Ee,ne+5)}function kI(t,r,o,l,v,E,x,H,ne){const Ee=yo()+t,He=bn(),dt=Ea(He,Ee,o,l,v,E);return To(He,Ee+4,x,H)||dt?ul(He,Ee+6,ne?r.call(ne,o,l,v,E,x,H):r(o,l,v,E,x,H)):Nd(He,Ee+6)}function Mg(t,r){const o=t[r];return o===zi?void 0:o}function NI(t,r,o,l,v,E){const x=r+o;return Fs(t,x,v)?ul(t,x+1,E?l.call(E,v):l(v)):Mg(t,x+1)}function OI(t,r,o,l,v,E,x){const H=r+o;return To(t,H,v,E)?ul(t,H+2,x?l.call(x,v,E):l(v,E)):Mg(t,H+2)}function PI(t,r,o,l,v,E,x,H){const ne=r+o;return function ic(t,r,o,l,v){const E=To(t,r,o,l);return Fs(t,r+2,v)||E}(t,ne,v,E,x)?ul(t,ne+3,H?l.call(H,v,E,x):l(v,E,x)):Mg(t,ne+3)}function LI(t,r){const o=pr();let l;const v=t+Ri;o.firstCreatePass?(l=function LA(t,r){if(r)for(let o=r.length-1;o>=0;o--){const l=r[o];if(t===l.name)return l}}(r,o.pipeRegistry),o.data[v]=l,l.onDestroy&&(o.destroyHooks??=[]).push(v,l.onDestroy)):l=o.data[v];const E=l.factory||(l.factory=es(l.type)),H=Tr(hd);try{const ne=rh(!1),Ee=E();return rh(ne),function jr(t,r,o,l){o>=t.data.length&&(t.data[o]=null,t.blueprint[o]=null),r[o]=l}(o,bn(),v,Ee),Ee}finally{Tr(H)}}function UI(t,r,o){const l=t+Ri,v=bn(),E=Uc(v,l);return xg(v,l)?NI(v,yo(),r,E.transform,o,E):E.transform(o)}function VI(t,r,o,l){const v=t+Ri,E=bn(),x=Uc(E,v);return xg(E,v)?OI(E,yo(),r,x.transform,o,l,x):x.transform(o,l)}function jI(t,r,o,l,v){const E=t+Ri,x=bn(),H=Uc(x,E);return xg(x,E)?PI(x,yo(),r,H.transform,o,l,v,H):H.transform(o,l,v)}function xg(t,r){return t[P].data[r].pure}function $I(t,r){return su(t,r)}class rD{constructor(r){this.full=r;const o=r.split(".");this.major=o[0],this.minor=o[1],this.patch=o.slice(2).join(".")}}let sD=(()=>{class t{log(o){console.log(o)}warn(o){console.warn(o)}static{this.\u0275fac=function(l){return new(l||t)}}static{this.\u0275prov=ei({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();const uD=new ct(""),dD=new ct("");let fS,O2=(()=>{class t{constructor(o,l,v){this._ngZone=o,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,fS||(function P2(t){fS=t}(v),v.addToWindow(l)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ps.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb()}});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(o)||(clearTimeout(l.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,l,v){let E=-1;l&&l>0&&(E=setTimeout(()=>{this._callbacks=this._callbacks.filter(x=>x.timeoutId!==E),o()},l)),this._callbacks.push({doneCb:o,timeoutId:E,updateCb:v})}whenStable(o,l,v){if(v&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,l,v),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,l,v){return[]}static{this.\u0275fac=function(l){return new(l||t)(er(Ps),er(hD),er(dD))}}static{this.\u0275prov=ei({token:t,factory:t.\u0275fac})}}return t})(),hD=(()=>{class t{constructor(){this._applications=new Map}registerApplication(o,l){this._applications.set(o,l)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,l=!0){return fS?.findTestabilityInTree(this,o,l)??null}static{this.\u0275fac=function(l){return new(l||t)}}static{this.\u0275prov=ei({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();function pS(t){return!!t&&"function"==typeof t.then}function fD(t){return!!t&&"function"==typeof t.subscribe}const pD=new ct("");let mS=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((o,l)=>{this.resolve=o,this.reject=l}),this.appInits=Wn(pD,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const o=[];for(const v of this.appInits){const E=v();if(pS(E))o.push(E);else if(fD(E)){const x=new Promise((H,ne)=>{E.subscribe({complete:H,error:ne})});o.push(x)}}const l=()=>{this.done=!0,this.resolve()};Promise.all(o).then(()=>{l()}).catch(v=>{this.reject(v)}),0===o.length&&l(),this.initialized=!0}static{this.\u0275fac=function(l){return new(l||t)}}static{this.\u0275prov=ei({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const gS=new ct("");function vD(t,r){return Array.isArray(r)?r.reduce(vD,t):{...t,...r}}let Mu=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Wn(Zg),this.afterRenderEffectManager=Wn(lf),this.externalTestViews=new Set,this.beforeRender=new z.B,this.afterTick=new z.B,this.componentTypes=[],this.components=[],this.isStable=Wn(xd).hasPendingTasks.pipe((0,Ce.T)(o=>!o)),this._injector=Wn(Ar)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,l){const v=o instanceof yC;if(!this._injector.get(mS).done)throw!v&&Us(o),new Be(405,!1);let x;x=v?o:this._injector.get(ef).resolveComponentFactory(o),this.componentTypes.push(x.componentType);const H=function F2(t){return t.isBoundToModule}(x)?void 0:this._injector.get(lu),Ee=x.create(_a.NULL,[],l||x.selector,H),He=Ee.location.nativeElement,dt=Ee.injector.get(uD,null);return dt?.registerApplication(He),Ee.onDestroy(()=>{this.detachView(Ee.hostView),$y(this.components,Ee),dt?.unregisterApplication(He)}),this._loadComponent(Ee),Ee}tick(){this._tick(!0)}_tick(o){if(this._runningTick)throw new Be(101,!1);const l=m(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(o)}catch(v){this.internalErrorHandler(v)}finally{this.afterTick.next(),this._runningTick=!1,m(l)}}detectChangesInAttachedViews(o){let l=0;const v=this.afterRenderEffectManager;for(;;){if(l===Dv)throw new Be(103,!1);if(o){const E=0===l;this.beforeRender.next(E);for(let{_lView:x,notifyErrorHandler:H}of this._views)L2(x,E,H)}if(l++,v.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:E})=>vS(E))&&(v.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:E})=>vS(E))))break}}attachView(o){const l=o;this._views.push(l),l.attachToAppRef(this)}detachView(o){const l=o;$y(this._views,l),l.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const l=this._injector.get(gS,[]);[...this._bootstrapListeners,...l].forEach(v=>v(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>$y(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new Be(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(l){return new(l||t)}}static{this.\u0275prov=ei({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function $y(t,r){const o=t.indexOf(r);o>-1&&t.splice(o,1)}function L2(t,r,o){!r&&!vS(t)||function U2(t,r,o){let l;o?(l=0,t[ue]|=1024):l=64&t[ue]?0:1,Ul(t,r,l)}(t,o,r)}function vS(t){return zf(t)}class V2{constructor(r,o){this.ngModuleFactory=r,this.componentFactories=o}}let j2=(()=>{class t{compileModuleSync(o){return new u1(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const l=this.compileModuleSync(o),E=Ca(vr(o).declarations).reduce((x,H)=>{const ne=Pi(H);return ne&&x.push(new Rc(ne)),x},[]);return new V2(l,E)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}static{this.\u0275fac=function(l){return new(l||t)}}static{this.\u0275prov=ei({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),H2=(()=>{class t{constructor(){this.zone=Wn(Ps),this.applicationRef=Wn(Mu)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(l){return new(l||t)}}static{this.\u0275prov=ei({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function W2(){const t=Wn(Ps),r=Wn(Nl);return o=>t.runOutsideAngular(()=>r.handleError(o))}let z2=(()=>{class t{constructor(){this.subscription=new Y.yU,this.initialized=!1,this.zone=Wn(Ps),this.pendingTasks=Wn(xd)}initialize(){if(this.initialized)return;this.initialized=!0;let o=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(o=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ps.assertNotInAngularZone(),queueMicrotask(()=>{null!==o&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(o),o=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ps.assertInAngularZone(),o??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(l){return new(l||t)}}static{this.\u0275prov=ei({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const Hy=new ct("",{providedIn:"root",factory:()=>Wn(Hy,yi.Optional|yi.SkipSelf)||function Y2(){return typeof $localize<"u"&&$localize.locale||Au}()}),X2=new ct("",{providedIn:"root",factory:()=>"USD"}),yS=new ct("");let CD=(()=>{class t{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,l){const v=function Ic(t="zone.js",r){return"noop"===t?new $v:"zone.js"===t?new Ps(r):t}(l?.ngZone,function bD(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:l?.ngZoneEventCoalescing,runCoalescing:l?.ngZoneRunCoalescing}));return v.run(()=>{const E=function eI(t,r,o){return new c1(t,r,o)}(o.moduleType,this.injector,function _D(t){return[{provide:Ps,useFactory:t},{provide:zr,multi:!0,useFactory:()=>{const r=Wn(H2,{optional:!0});return()=>r.initialize()}},{provide:zr,multi:!0,useFactory:()=>{const r=Wn(z2);return()=>{r.initialize()}}},{provide:Zg,useFactory:W2}]}(()=>v)),x=E.injector.get(Nl,null);return v.runOutsideAngular(()=>{const H=v.onError.subscribe({next:ne=>{x.handleError(ne)}});E.onDestroy(()=>{$y(this._modules,E),H.unsubscribe()})}),function gD(t,r,o){try{const l=o();return pS(l)?l.catch(v=>{throw r.runOutsideAngular(()=>t.handleError(v)),v}):l}catch(l){throw r.runOutsideAngular(()=>t.handleError(l)),l}}(x,v,()=>{const H=E.injector.get(mS);return H.runInitializers(),H.donePromise.then(()=>(function cy(t){"string"==typeof t&&(ly=t.toLowerCase().replace(/_/g,"-"))}(E.injector.get(Hy,Au)||Au),this._moduleDoBootstrap(E),E))})})}bootstrapModule(o,l=[]){const v=vD({},l);return function G2(t,r,o){const l=new u1(o);return Promise.resolve(l)}(0,0,o).then(E=>this.bootstrapModuleFactory(E,v))}_moduleDoBootstrap(o){const l=o.injector.get(Mu);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(v=>l.bootstrap(v));else{if(!o.instance.ngDoBootstrap)throw new Be(-403,!1);o.instance.ngDoBootstrap(l)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Be(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const o=this._injector.get(yS,null);o&&(o.forEach(l=>l()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(l){return new(l||t)(er(_a))}}static{this.\u0275prov=ei({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})(),xu=null;const wD=new ct("");function ED(t,r,o=[]){const l=`Platform: ${r}`,v=new ct(l);return(E=[])=>{let x=_S();if(!x||x.injector.get(wD,!1)){const H=[...o,...E,{provide:v,useValue:!0}];t?t(H):function Q2(t){if(xu&&!xu.get(wD,!1))throw new Be(400,!1);(function mD(){!function Se(t){xe=t}(()=>{throw new Be(600,!1)})})(),xu=t;const r=t.get(CD);(function TD(t){t.get(Rl,null)?.forEach(o=>o())})(t)}(function SD(t=[],r){return _a.create({name:r,providers:[{provide:Ya,useValue:"platform"},{provide:yS,useValue:new Set([()=>xu=null])},...t]})}(H,l))}return function Z2(t){const r=_S();if(!r)throw new Be(401,!1);return r}()}}function _S(){return xu?.get(CD)??null}function eR(){return!1}function tR(){}let DD=(()=>{class t{static{this.__NG_ELEMENT_ID__=nR}}return t})();function nR(t){return function iR(t,r,o){if(ga(t)&&!o){const l=ya(t.index,r);return new yd(l,l)}return 47&t.type?new yd(r[Rr],r):null}(Ur(),bn(),!(16&~t))}class xD{constructor(){}supports(r){return kd(r)}create(r){return new lR(r)}}const aR=(t,r)=>r;class lR{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||aR}forEachItem(r){let o;for(o=this._itHead;null!==o;o=o._next)r(o)}forEachOperation(r){let o=this._itHead,l=this._removalsHead,v=0,E=null;for(;o||l;){const x=!l||o&&o.currentIndex<ND(l,v,E)?o:l,H=ND(x,v,E),ne=x.currentIndex;if(x===l)v--,l=l._nextRemoved;else if(o=o._next,null==x.previousIndex)v++;else{E||(E=[]);const Ee=H-v,He=ne-v;if(Ee!=He){for(let Wt=0;Wt<Ee;Wt++){const Qt=Wt<E.length?E[Wt]:E[Wt]=0,un=Qt+Wt;He<=un&&un<Ee&&(E[Wt]=Qt+1)}E[x.previousIndex]=He-Ee}}H!==ne&&r(x,H,ne)}}forEachPreviousItem(r){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachMovedItem(r){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}forEachIdentityChange(r){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)r(o)}diff(r){if(null==r&&(r=[]),!kd(r))throw new Be(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let v,E,x,o=this._itHead,l=!1;if(Array.isArray(r)){this.length=r.length;for(let H=0;H<this.length;H++)E=r[H],x=this._trackByFn(H,E),null!==o&&Object.is(o.trackById,x)?(l&&(o=this._verifyReinsertion(o,E,x,H)),Object.is(o.item,E)||this._addIdentityChange(o,E)):(o=this._mismatch(o,E,x,H),l=!0),o=o._next}else v=0,function d1(t,r){if(Array.isArray(t))for(let o=0;o<t.length;o++)r(t[o]);else{const o=t[Symbol.iterator]();let l;for(;!(l=o.next()).done;)r(l.value)}}(r,H=>{x=this._trackByFn(v,H),null!==o&&Object.is(o.trackById,x)?(l&&(o=this._verifyReinsertion(o,H,x,v)),Object.is(o.item,H)||this._addIdentityChange(o,H)):(o=this._mismatch(o,H,x,v),l=!0),o=o._next,v++}),this.length=v;return this._truncate(o),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,o,l,v){let E;return null===r?E=this._itTail:(E=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._reinsertAfter(r,E,v)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(l,v))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._moveAfter(r,E,v)):r=this._addAfter(new cR(o,l),E,v),r}_verifyReinsertion(r,o,l,v){let E=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==E?r=this._reinsertAfter(E,r._prev,v):r.currentIndex!=v&&(r.currentIndex=v,this._addToMoves(r,v)),r}_truncate(r){for(;null!==r;){const o=r._next;this._addToRemovals(this._unlink(r)),r=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,o,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const v=r._prevRemoved,E=r._nextRemoved;return null===v?this._removalsHead=E:v._nextRemoved=E,null===E?this._removalsTail=v:E._prevRemoved=v,this._insertAfter(r,o,l),this._addToMoves(r,l),r}_moveAfter(r,o,l){return this._unlink(r),this._insertAfter(r,o,l),this._addToMoves(r,l),r}_addAfter(r,o,l){return this._insertAfter(r,o,l),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,o,l){const v=null===o?this._itHead:o._next;return r._next=v,r._prev=o,null===v?this._itTail=r:v._prev=r,null===o?this._itHead=r:o._next=r,null===this._linkedRecords&&(this._linkedRecords=new kD),this._linkedRecords.put(r),r.currentIndex=l,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const o=r._prev,l=r._next;return null===o?this._itHead=l:o._next=l,null===l?this._itTail=o:l._prev=o,r}_addToMoves(r,o){return r.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new kD),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,o){return r.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class cR{constructor(r,o){this.item=r,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class uR{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,o){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===o||o<=l.currentIndex)&&Object.is(l.trackById,r))return l;return null}remove(r){const o=r._prevDup,l=r._nextDup;return null===o?this._head=l:o._nextDup=l,null===l?this._tail=o:l._prevDup=o,null===this._head}}class kD{constructor(){this.map=new Map}put(r){const o=r.trackById;let l=this.map.get(o);l||(l=new uR,this.map.set(o,l)),l.add(r)}get(r,o){const v=this.map.get(r);return v?v.get(r,o):null}remove(r){const o=r.trackById;return this.map.get(o).remove(r)&&this.map.delete(o),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ND(t,r,o){const l=t.previousIndex;if(null===l)return l;let v=0;return o&&l<o.length&&(v=o[l]),l+r+v}class OD{constructor(){}supports(r){return r instanceof Map||Fm(r)}create(){return new dR}}class dR{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let o;for(o=this._mapHead;null!==o;o=o._next)r(o)}forEachPreviousItem(r){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)r(o)}forEachChangedItem(r){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}diff(r){if(r){if(!(r instanceof Map||Fm(r)))throw new Be(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(r,(l,v)=>{if(o&&o.key===v)this._maybeAddToChanges(o,l),this._appendAfter=o,o=o._next;else{const E=this._getOrCreateRecordForKey(v,l);o=this._insertBeforeOrAppend(o,E)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let l=o;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,o){if(r){const l=r._prev;return o._next=r,o._prev=l,r._prev=o,l&&(l._next=o),r===this._mapHead&&(this._mapHead=o),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(r,o){if(this._records.has(r)){const v=this._records.get(r);this._maybeAddToChanges(v,o);const E=v._prev,x=v._next;return E&&(E._next=x),x&&(x._prev=E),v._next=null,v._prev=null,v}const l=new hR(r);return this._records.set(r,l),l.currentValue=o,this._addToAdditions(l),l}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,o){Object.is(o,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=o,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,o){r instanceof Map?r.forEach(o):Object.keys(r).forEach(l=>o(r[l],l))}}class hR{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function PD(){return new SS([new xD])}let SS=(()=>{class t{static{this.\u0275prov=ei({token:t,providedIn:"root",factory:PD})}constructor(o){this.factories=o}static create(o,l){if(null!=l){const v=l.factories.slice();o=o.concat(v)}return new t(o)}static extend(o){return{provide:t,useFactory:l=>t.create(o,l||PD()),deps:[[t,new cs,new Cr]]}}find(o){const l=this.factories.find(v=>v.supports(o));if(null!=l)return l;throw new Be(901,!1)}}return t})();function FD(){return new TS([new OD])}let TS=(()=>{class t{static{this.\u0275prov=ei({token:t,providedIn:"root",factory:FD})}constructor(o){this.factories=o}static create(o,l){if(l){const v=l.factories.slice();o=o.concat(v)}return new t(o)}static extend(o){return{provide:t,useFactory:l=>t.create(o,l||FD()),deps:[[t,new cs,new Cr]]}}find(o){const l=this.factories.find(v=>v.supports(o));if(l)return l;throw new Be(901,!1)}}return t})();const mR=ED(null,"core",[]);let gR=(()=>{class t{constructor(o){}static{this.\u0275fac=function(l){return new(l||t)(er(Mu))}}static{this.\u0275mod=hs({type:t})}static{this.\u0275inj=Xn({})}}return t})();function WR(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function zR(t){const r=m(null);try{return t()}finally{m(r)}}function qR(t,r){const o=Pi(t),l=r.elementInjector||ws();return new Rc(o).create(l,r.projectableNodes,r.hostElement,r.environmentInjector)}function eM(t){const r=Pi(t);if(!r)return null;const o=new Rc(r);return{get selector(){return o.selector},get type(){return o.componentType},get inputs(){return o.inputs},get outputs(){return o.outputs},get ngContentSelectors(){return o.ngContentSelectors},get isStandalone(){return r.standalone},get isSignal(){return r.signals}}}},9417:(nt,fe,h)=>{"use strict";h.d(fe,{$R:()=>li,BC:()=>at,Fm:()=>yi,JD:()=>Ir,Q0:()=>kr,VZ:()=>es,X1:()=>bs,YN:()=>Cn,YS:()=>ts,Zm:()=>T,cV:()=>_e,cb:()=>Be,cz:()=>G,hs:()=>ze,j4:()=>Mi,k0:()=>U,kq:()=>u,l_:()=>_r,me:()=>M,ok:()=>Ws,qT:()=>ar,tU:()=>Pr,vO:()=>Y,vS:()=>si,wz:()=>er,xH:()=>tr,xh:()=>Ao,y7:()=>ro,ze:()=>Gr});var n=h(4438),e=h(177),y=h(6648),p=h(7468),w=h(6354);let C=(()=>{class ke{constructor(he,Ze){this._renderer=he,this._elementRef=Ze,this.onChange=Lt=>{},this.onTouched=()=>{}}setProperty(he,Ze){this._renderer.setProperty(this._elementRef.nativeElement,he,Ze)}registerOnTouched(he){this.onTouched=he}registerOnChange(he){this.onChange=he}setDisabledState(he){this.setProperty("disabled",he)}static{this.\u0275fac=function(Ze){return new(Ze||ke)(n.rXU(n.sFG),n.rXU(n.aKT))}}static{this.\u0275dir=n.FsC({type:ke})}}return ke})(),m=(()=>{class ke extends C{static{this.\u0275fac=(()=>{let he;return function(Lt){return(he||(he=n.xGo(ke)))(Lt||ke)}})()}static{this.\u0275dir=n.FsC({type:ke,features:[n.Vt3]})}}return ke})();const u=new n.nKC(""),f={provide:u,useExisting:(0,n.Rfq)(()=>T),multi:!0};let T=(()=>{class ke extends m{writeValue(he){this.setProperty("checked",he)}static{this.\u0275fac=(()=>{let he;return function(Lt){return(he||(he=n.xGo(ke)))(Lt||ke)}})()}static{this.\u0275dir=n.FsC({type:ke,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(Ze,Lt){1&Ze&&n.bIt("change",function(Si){return Lt.onChange(Si.target.checked)})("blur",function(){return Lt.onTouched()})},features:[n.Jv_([f]),n.Vt3]})}}return ke})();const O={provide:u,useExisting:(0,n.Rfq)(()=>M),multi:!0},b=new n.nKC("");let M=(()=>{class ke extends C{constructor(he,Ze,Lt){super(he,Ze),this._compositionMode=Lt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function F(){const ke=(0,e.QT)()?(0,e.QT)().getUserAgent():"";return/android (\d+)/.test(ke.toLowerCase())}())}writeValue(he){this.setProperty("value",he??"")}_handleInput(he){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(he)}_compositionStart(){this._composing=!0}_compositionEnd(he){this._composing=!1,this._compositionMode&&this.onChange(he)}static{this.\u0275fac=function(Ze){return new(Ze||ke)(n.rXU(n.sFG),n.rXU(n.aKT),n.rXU(b,8))}}static{this.\u0275dir=n.FsC({type:ke,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(Ze,Lt){1&Ze&&n.bIt("input",function(Si){return Lt._handleInput(Si.target.value)})("blur",function(){return Lt.onTouched()})("compositionstart",function(){return Lt._compositionStart()})("compositionend",function(Si){return Lt._compositionEnd(Si.target.value)})},features:[n.Jv_([O]),n.Vt3]})}}return ke})();function k(ke){return null==ke||("string"==typeof ke||Array.isArray(ke))&&0===ke.length}function N(ke){return null!=ke&&"number"==typeof ke.length}const G=new n.nKC(""),R=new n.nKC(""),j=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class U{static min(Ue){return $(Ue)}static max(Ue){return function ie(ke){return Ue=>{if(k(Ue.value)||k(ke))return null;const he=parseFloat(Ue.value);return!isNaN(he)&&he>ke?{max:{max:ke,actual:Ue.value}}:null}}(Ue)}static required(Ue){return se(Ue)}static requiredTrue(Ue){return function L(ke){return!0===ke.value?null:{required:!0}}(Ue)}static email(Ue){return function J(ke){return k(ke.value)||j.test(ke.value)?null:{email:!0}}(Ue)}static minLength(Ue){return q(Ue)}static maxLength(Ue){return S(Ue)}static pattern(Ue){return function re(ke){if(!ke)return K;let Ue,he;return"string"==typeof ke?(he="","^"!==ke.charAt(0)&&(he+="^"),he+=ke,"$"!==ke.charAt(ke.length-1)&&(he+="$"),Ue=new RegExp(he)):(he=ke.toString(),Ue=ke),Ze=>{if(k(Ze.value))return null;const Lt=Ze.value;return Ue.test(Lt)?null:{pattern:{requiredPattern:he,actualValue:Lt}}}}(Ue)}static nullValidator(Ue){return null}static compose(Ue){return be(Ue)}static composeAsync(Ue){return Fe(Ue)}}function $(ke){return Ue=>{if(k(Ue.value)||k(ke))return null;const he=parseFloat(Ue.value);return!isNaN(he)&&he<ke?{min:{min:ke,actual:Ue.value}}:null}}function se(ke){return k(ke.value)?{required:!0}:null}function q(ke){return Ue=>k(Ue.value)||!N(Ue.value)?null:Ue.value.length<ke?{minlength:{requiredLength:ke,actualLength:Ue.value.length}}:null}function S(ke){return Ue=>N(Ue.value)&&Ue.value.length>ke?{maxlength:{requiredLength:ke,actualLength:Ue.value.length}}:null}function K(ke){return null}function me(ke){return null!=ke}function Ne(ke){return(0,n.jNT)(ke)?(0,y.H)(ke):ke}function De(ke){let Ue={};return ke.forEach(he=>{Ue=null!=he?{...Ue,...he}:Ue}),0===Object.keys(Ue).length?null:Ue}function xe(ke,Ue){return Ue.map(he=>he(ke))}function Se(ke){return ke.map(Ue=>function Qe(ke){return!ke.validate}(Ue)?Ue:he=>Ue.validate(he))}function be(ke){if(!ke)return null;const Ue=ke.filter(me);return 0==Ue.length?null:function(he){return De(xe(he,Ue))}}function le(ke){return null!=ke?be(Se(ke)):null}function Fe(ke){if(!ke)return null;const Ue=ke.filter(me);return 0==Ue.length?null:function(he){const Ze=xe(he,Ue).map(Ne);return(0,p.p)(Ze).pipe((0,w.T)(De))}}function Te(ke){return null!=ke?Fe(Se(ke)):null}function st(ke,Ue){return null===ke?[Ue]:Array.isArray(ke)?[...ke,Ue]:[ke,Ue]}function Oe(ke){return ke._rawValidators}function pt(ke){return ke._rawAsyncValidators}function Ye(ke){return ke?Array.isArray(ke)?ke:[ke]:[]}function qt(ke,Ue){return Array.isArray(ke)?ke.includes(Ue):ke===Ue}function jt(ke,Ue){const he=Ye(Ue);return Ye(ke).forEach(Lt=>{qt(he,Lt)||he.push(Lt)}),he}function Dt(ke,Ue){return Ye(Ue).filter(he=>!qt(ke,he))}class wt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(Ue){this._rawValidators=Ue||[],this._composedValidatorFn=le(this._rawValidators)}_setAsyncValidators(Ue){this._rawAsyncValidators=Ue||[],this._composedAsyncValidatorFn=Te(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(Ue){this._onDestroyCallbacks.push(Ue)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(Ue=>Ue()),this._onDestroyCallbacks=[]}reset(Ue=void 0){this.control&&this.control.reset(Ue)}hasError(Ue,he){return!!this.control&&this.control.hasError(Ue,he)}getError(Ue,he){return this.control?this.control.getError(Ue,he):null}}class z extends wt{get formDirective(){return null}get path(){return null}}class Y extends wt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Z{constructor(Ue){this._cd=Ue}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let at=(()=>{class ke extends Z{constructor(he){super(he)}static{this.\u0275fac=function(Ze){return new(Ze||ke)(n.rXU(Y,2))}}static{this.\u0275dir=n.FsC({type:ke,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(Ze,Lt){2&Ze&&n.AVh("ng-untouched",Lt.isUntouched)("ng-touched",Lt.isTouched)("ng-pristine",Lt.isPristine)("ng-dirty",Lt.isDirty)("ng-valid",Lt.isValid)("ng-invalid",Lt.isInvalid)("ng-pending",Lt.isPending)},features:[n.Vt3]})}}return ke})(),Be=(()=>{class ke extends Z{constructor(he){super(he)}static{this.\u0275fac=function(Ze){return new(Ze||ke)(n.rXU(z,10))}}static{this.\u0275dir=n.FsC({type:ke,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(Ze,Lt){2&Ze&&n.AVh("ng-untouched",Lt.isUntouched)("ng-touched",Lt.isTouched)("ng-pristine",Lt.isPristine)("ng-dirty",Lt.isDirty)("ng-valid",Lt.isValid)("ng-invalid",Lt.isInvalid)("ng-pending",Lt.isPending)("ng-submitted",Lt.isSubmitted)},features:[n.Vt3]})}}return ke})();const hn="VALID",An="INVALID",xn="PENDING",Bn="DISABLED";function It(ke){return(Ct(ke)?ke.validators:ke)||null}function Gt(ke,Ue){return(Ct(Ue)?Ue.asyncValidators:ke)||null}function Ct(ke){return null!=ke&&!Array.isArray(ke)&&"object"==typeof ke}function yt(ke,Ue,he){const Ze=ke.controls;if(!(Ue?Object.keys(Ze):Ze).length)throw new n.wOt(1e3,"");if(!Ze[he])throw new n.wOt(1001,"")}function Ot(ke,Ue,he){ke._forEachChild((Ze,Lt)=>{if(void 0===he[Lt])throw new n.wOt(1002,"")})}class en{constructor(Ue,he){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(Ue),this._assignAsyncValidators(he)}get validator(){return this._composedValidatorFn}set validator(Ue){this._rawValidators=this._composedValidatorFn=Ue}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(Ue){this._rawAsyncValidators=this._composedAsyncValidatorFn=Ue}get parent(){return this._parent}get valid(){return this.status===hn}get invalid(){return this.status===An}get pending(){return this.status==xn}get disabled(){return this.status===Bn}get enabled(){return this.status!==Bn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(Ue){this._assignValidators(Ue)}setAsyncValidators(Ue){this._assignAsyncValidators(Ue)}addValidators(Ue){this.setValidators(jt(Ue,this._rawValidators))}addAsyncValidators(Ue){this.setAsyncValidators(jt(Ue,this._rawAsyncValidators))}removeValidators(Ue){this.setValidators(Dt(Ue,this._rawValidators))}removeAsyncValidators(Ue){this.setAsyncValidators(Dt(Ue,this._rawAsyncValidators))}hasValidator(Ue){return qt(this._rawValidators,Ue)}hasAsyncValidator(Ue){return qt(this._rawAsyncValidators,Ue)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(Ue={}){this.touched=!0,this._parent&&!Ue.onlySelf&&this._parent.markAsTouched(Ue)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(Ue=>Ue.markAllAsTouched())}markAsUntouched(Ue={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(he=>{he.markAsUntouched({onlySelf:!0})}),this._parent&&!Ue.onlySelf&&this._parent._updateTouched(Ue)}markAsDirty(Ue={}){this.pristine=!1,this._parent&&!Ue.onlySelf&&this._parent.markAsDirty(Ue)}markAsPristine(Ue={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(he=>{he.markAsPristine({onlySelf:!0})}),this._parent&&!Ue.onlySelf&&this._parent._updatePristine(Ue)}markAsPending(Ue={}){this.status=xn,!1!==Ue.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!Ue.onlySelf&&this._parent.markAsPending(Ue)}disable(Ue={}){const he=this._parentMarkedDirty(Ue.onlySelf);this.status=Bn,this.errors=null,this._forEachChild(Ze=>{Ze.disable({...Ue,onlySelf:!0})}),this._updateValue(),!1!==Ue.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...Ue,skipPristineCheck:he}),this._onDisabledChange.forEach(Ze=>Ze(!0))}enable(Ue={}){const he=this._parentMarkedDirty(Ue.onlySelf);this.status=hn,this._forEachChild(Ze=>{Ze.enable({...Ue,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:Ue.emitEvent}),this._updateAncestors({...Ue,skipPristineCheck:he}),this._onDisabledChange.forEach(Ze=>Ze(!1))}_updateAncestors(Ue){this._parent&&!Ue.onlySelf&&(this._parent.updateValueAndValidity(Ue),Ue.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(Ue){this._parent=Ue}getRawValue(){return this.value}updateValueAndValidity(Ue={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===hn||this.status===xn)&&this._runAsyncValidator(Ue.emitEvent)),!1!==Ue.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!Ue.onlySelf&&this._parent.updateValueAndValidity(Ue)}_updateTreeValidity(Ue={emitEvent:!0}){this._forEachChild(he=>he._updateTreeValidity(Ue)),this.updateValueAndValidity({onlySelf:!0,emitEvent:Ue.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Bn:hn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(Ue){if(this.asyncValidator){this.status=xn,this._hasOwnPendingAsyncValidator=!0;const he=Ne(this.asyncValidator(this));this._asyncValidationSubscription=he.subscribe(Ze=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(Ze,{emitEvent:Ue})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(Ue,he={}){this.errors=Ue,this._updateControlsErrors(!1!==he.emitEvent)}get(Ue){let he=Ue;return null==he||(Array.isArray(he)||(he=he.split(".")),0===he.length)?null:he.reduce((Ze,Lt)=>Ze&&Ze._find(Lt),this)}getError(Ue,he){const Ze=he?this.get(he):this;return Ze&&Ze.errors?Ze.errors[Ue]:null}hasError(Ue,he){return!!this.getError(Ue,he)}get root(){let Ue=this;for(;Ue._parent;)Ue=Ue._parent;return Ue}_updateControlsErrors(Ue){this.status=this._calculateStatus(),Ue&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(Ue)}_initObservables(){this.valueChanges=new n.bkB,this.statusChanges=new n.bkB}_calculateStatus(){return this._allControlsDisabled()?Bn:this.errors?An:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(xn)?xn:this._anyControlsHaveStatus(An)?An:hn}_anyControlsHaveStatus(Ue){return this._anyControls(he=>he.status===Ue)}_anyControlsDirty(){return this._anyControls(Ue=>Ue.dirty)}_anyControlsTouched(){return this._anyControls(Ue=>Ue.touched)}_updatePristine(Ue={}){this.pristine=!this._anyControlsDirty(),this._parent&&!Ue.onlySelf&&this._parent._updatePristine(Ue)}_updateTouched(Ue={}){this.touched=this._anyControlsTouched(),this._parent&&!Ue.onlySelf&&this._parent._updateTouched(Ue)}_registerOnCollectionChange(Ue){this._onCollectionChange=Ue}_setUpdateStrategy(Ue){Ct(Ue)&&null!=Ue.updateOn&&(this._updateOn=Ue.updateOn)}_parentMarkedDirty(Ue){return!Ue&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(Ue){return null}_assignValidators(Ue){this._rawValidators=Array.isArray(Ue)?Ue.slice():Ue,this._composedValidatorFn=function Dn(ke){return Array.isArray(ke)?le(ke):ke||null}(this._rawValidators)}_assignAsyncValidators(Ue){this._rawAsyncValidators=Array.isArray(Ue)?Ue.slice():Ue,this._composedAsyncValidatorFn=function lt(ke){return Array.isArray(ke)?Te(ke):ke||null}(this._rawAsyncValidators)}}class Sn extends en{constructor(Ue,he,Ze){super(It(he),Gt(Ze,he)),this.controls=Ue,this._initObservables(),this._setUpdateStrategy(he),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(Ue,he){return this.controls[Ue]?this.controls[Ue]:(this.controls[Ue]=he,he.setParent(this),he._registerOnCollectionChange(this._onCollectionChange),he)}addControl(Ue,he,Ze={}){this.registerControl(Ue,he),this.updateValueAndValidity({emitEvent:Ze.emitEvent}),this._onCollectionChange()}removeControl(Ue,he={}){this.controls[Ue]&&this.controls[Ue]._registerOnCollectionChange(()=>{}),delete this.controls[Ue],this.updateValueAndValidity({emitEvent:he.emitEvent}),this._onCollectionChange()}setControl(Ue,he,Ze={}){this.controls[Ue]&&this.controls[Ue]._registerOnCollectionChange(()=>{}),delete this.controls[Ue],he&&this.registerControl(Ue,he),this.updateValueAndValidity({emitEvent:Ze.emitEvent}),this._onCollectionChange()}contains(Ue){return this.controls.hasOwnProperty(Ue)&&this.controls[Ue].enabled}setValue(Ue,he={}){Ot(this,0,Ue),Object.keys(Ue).forEach(Ze=>{yt(this,!0,Ze),this.controls[Ze].setValue(Ue[Ze],{onlySelf:!0,emitEvent:he.emitEvent})}),this.updateValueAndValidity(he)}patchValue(Ue,he={}){null!=Ue&&(Object.keys(Ue).forEach(Ze=>{const Lt=this.controls[Ze];Lt&&Lt.patchValue(Ue[Ze],{onlySelf:!0,emitEvent:he.emitEvent})}),this.updateValueAndValidity(he))}reset(Ue={},he={}){this._forEachChild((Ze,Lt)=>{Ze.reset(Ue?Ue[Lt]:null,{onlySelf:!0,emitEvent:he.emitEvent})}),this._updatePristine(he),this._updateTouched(he),this.updateValueAndValidity(he)}getRawValue(){return this._reduceChildren({},(Ue,he,Ze)=>(Ue[Ze]=he.getRawValue(),Ue))}_syncPendingControls(){let Ue=this._reduceChildren(!1,(he,Ze)=>!!Ze._syncPendingControls()||he);return Ue&&this.updateValueAndValidity({onlySelf:!0}),Ue}_forEachChild(Ue){Object.keys(this.controls).forEach(he=>{const Ze=this.controls[he];Ze&&Ue(Ze,he)})}_setUpControls(){this._forEachChild(Ue=>{Ue.setParent(this),Ue._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(Ue){for(const[he,Ze]of Object.entries(this.controls))if(this.contains(he)&&Ue(Ze))return!0;return!1}_reduceValue(){return this._reduceChildren({},(he,Ze,Lt)=>((Ze.enabled||this.disabled)&&(he[Lt]=Ze.value),he))}_reduceChildren(Ue,he){let Ze=Ue;return this._forEachChild((Lt,Kn)=>{Ze=he(Ze,Lt,Kn)}),Ze}_allControlsDisabled(){for(const Ue of Object.keys(this.controls))if(this.controls[Ue].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(Ue){return this.controls.hasOwnProperty(Ue)?this.controls[Ue]:null}}class Gn extends Sn{}const ht=new n.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>xt}),xt="always";function $t(ke,Ue){return[...Ue.path,ke]}function nn(ke,Ue,he=xt){In(ke,Ue),Ue.valueAccessor.writeValue(ke.value),(ke.disabled||"always"===he)&&Ue.valueAccessor.setDisabledState?.(ke.disabled),function ci(ke,Ue){Ue.valueAccessor.registerOnChange(he=>{ke._pendingValue=he,ke._pendingChange=!0,ke._pendingDirty=!0,"change"===ke.updateOn&&ei(ke,Ue)})}(ke,Ue),function Oi(ke,Ue){const he=(Ze,Lt)=>{Ue.valueAccessor.writeValue(Ze),Lt&&Ue.viewToModelUpdate(Ze)};ke.registerOnChange(he),Ue._registerOnDestroy(()=>{ke._unregisterOnChange(he)})}(ke,Ue),function pi(ke,Ue){Ue.valueAccessor.registerOnTouched(()=>{ke._pendingTouched=!0,"blur"===ke.updateOn&&ke._pendingChange&&ei(ke,Ue),"submit"!==ke.updateOn&&ke.markAsTouched()})}(ke,Ue),function Yn(ke,Ue){if(Ue.valueAccessor.setDisabledState){const he=Ze=>{Ue.valueAccessor.setDisabledState(Ze)};ke.registerOnDisabledChange(he),Ue._registerOnDestroy(()=>{ke._unregisterOnDisabledChange(he)})}}(ke,Ue)}function vn(ke,Ue,he=!0){const Ze=()=>{};Ue.valueAccessor&&(Ue.valueAccessor.registerOnChange(Ze),Ue.valueAccessor.registerOnTouched(Ze)),mn(ke,Ue),ke&&(Ue._invokeOnDestroyCallbacks(),ke._registerOnCollectionChange(()=>{}))}function gn(ke,Ue){ke.forEach(he=>{he.registerOnValidatorChange&&he.registerOnValidatorChange(Ue)})}function In(ke,Ue){const he=Oe(ke);null!==Ue.validator?ke.setValidators(st(he,Ue.validator)):"function"==typeof he&&ke.setValidators([he]);const Ze=pt(ke);null!==Ue.asyncValidator?ke.setAsyncValidators(st(Ze,Ue.asyncValidator)):"function"==typeof Ze&&ke.setAsyncValidators([Ze]);const Lt=()=>ke.updateValueAndValidity();gn(Ue._rawValidators,Lt),gn(Ue._rawAsyncValidators,Lt)}function mn(ke,Ue){let he=!1;if(null!==ke){if(null!==Ue.validator){const Lt=Oe(ke);if(Array.isArray(Lt)&&Lt.length>0){const Kn=Lt.filter(Si=>Si!==Ue.validator);Kn.length!==Lt.length&&(he=!0,ke.setValidators(Kn))}}if(null!==Ue.asyncValidator){const Lt=pt(ke);if(Array.isArray(Lt)&&Lt.length>0){const Kn=Lt.filter(Si=>Si!==Ue.asyncValidator);Kn.length!==Lt.length&&(he=!0,ke.setAsyncValidators(Kn))}}}const Ze=()=>{};return gn(Ue._rawValidators,Ze),gn(Ue._rawAsyncValidators,Ze),he}function ei(ke,Ue){ke._pendingDirty&&ke.markAsDirty(),ke.setValue(ke._pendingValue,{emitModelToViewChange:!1}),Ue.viewToModelUpdate(ke._pendingValue),ke._pendingChange=!1}function Xn(ke,Ue){In(ke,Ue)}function At(ke,Ue){if(!ke.hasOwnProperty("model"))return!1;const he=ke.model;return!!he.isFirstChange()||!Object.is(Ue,he.currentValue)}function zt(ke,Ue){ke._syncPendingControls(),Ue.forEach(he=>{const Ze=he.control;"submit"===Ze.updateOn&&Ze._pendingChange&&(he.viewToModelUpdate(Ze._pendingValue),Ze._pendingChange=!1)})}function ct(ke,Ue){if(!Ue)return null;let he,Ze,Lt;return Array.isArray(Ue),Ue.forEach(Kn=>{Kn.constructor===M?he=Kn:function We(ke){return Object.getPrototypeOf(ke.constructor)===m}(Kn)?Ze=Kn:Lt=Kn}),Lt||Ze||he||null}const Zt={provide:z,useExisting:(0,n.Rfq)(()=>_e)},ut=Promise.resolve();let _e=(()=>{class ke extends z{constructor(he,Ze,Lt){super(),this.callSetDisabledState=Lt,this.submitted=!1,this._directives=new Set,this.ngSubmit=new n.bkB,this.form=new Sn({},le(he),Te(Ze))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(he){ut.then(()=>{const Ze=this._findContainer(he.path);he.control=Ze.registerControl(he.name,he.control),nn(he.control,he,this.callSetDisabledState),he.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(he)})}getControl(he){return this.form.get(he.path)}removeControl(he){ut.then(()=>{const Ze=this._findContainer(he.path);Ze&&Ze.removeControl(he.name),this._directives.delete(he)})}addFormGroup(he){ut.then(()=>{const Ze=this._findContainer(he.path),Lt=new Sn({});Xn(Lt,he),Ze.registerControl(he.name,Lt),Lt.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(he){ut.then(()=>{const Ze=this._findContainer(he.path);Ze&&Ze.removeControl(he.name)})}getFormGroup(he){return this.form.get(he.path)}updateModel(he,Ze){ut.then(()=>{this.form.get(he.path).setValue(Ze)})}setValue(he){this.control.setValue(he)}onSubmit(he){return this.submitted=!0,zt(this.form,this._directives),this.ngSubmit.emit(he),"dialog"===he?.target?.method}onReset(){this.resetForm()}resetForm(he=void 0){this.form.reset(he),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(he){return he.pop(),he.length?this.form.get(he):this.form}static{this.\u0275fac=function(Ze){return new(Ze||ke)(n.rXU(G,10),n.rXU(R,10),n.rXU(ht,8))}}static{this.\u0275dir=n.FsC({type:ke,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(Ze,Lt){1&Ze&&n.bIt("submit",function(Si){return Lt.onSubmit(Si)})("reset",function(){return Lt.onReset()})},inputs:{options:[n.Mj6.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[n.Jv_([Zt]),n.Vt3]})}}return ke})();function Ie(ke,Ue){const he=ke.indexOf(Ue);he>-1&&ke.splice(he,1)}function ye(ke){return"object"==typeof ke&&null!==ke&&2===Object.keys(ke).length&&"value"in ke&&"disabled"in ke}const ft=class extends en{constructor(Ue=null,he,Ze){super(It(he),Gt(Ze,he)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(Ue),this._setUpdateStrategy(he),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ct(he)&&(he.nonNullable||he.initialValueIsDefault)&&(this.defaultValue=ye(Ue)?Ue.value:Ue)}setValue(Ue,he={}){this.value=this._pendingValue=Ue,this._onChange.length&&!1!==he.emitModelToViewChange&&this._onChange.forEach(Ze=>Ze(this.value,!1!==he.emitViewToModelChange)),this.updateValueAndValidity(he)}patchValue(Ue,he={}){this.setValue(Ue,he)}reset(Ue=this.defaultValue,he={}){this._applyFormState(Ue),this.markAsPristine(he),this.markAsUntouched(he),this.setValue(this.value,he),this._pendingChange=!1}_updateValue(){}_anyControls(Ue){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(Ue){this._onChange.push(Ue)}_unregisterOnChange(Ue){Ie(this._onChange,Ue)}registerOnDisabledChange(Ue){this._onDisabledChange.push(Ue)}_unregisterOnDisabledChange(Ue){Ie(this._onDisabledChange,Ue)}_forEachChild(Ue){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(Ue){ye(Ue)?(this.value=this._pendingValue=Ue.value,Ue.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=Ue}},ze=ft;let vt=(()=>{class ke extends z{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return $t(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static{this.\u0275fac=(()=>{let he;return function(Lt){return(he||(he=n.xGo(ke)))(Lt||ke)}})()}static{this.\u0275dir=n.FsC({type:ke,features:[n.Vt3]})}}return ke})();const hr={provide:Y,useExisting:(0,n.Rfq)(()=>si)},Hn=Promise.resolve();let si=(()=>{class ke extends Y{constructor(he,Ze,Lt,Kn,Si,ds){super(),this._changeDetectorRef=Si,this.callSetDisabledState=ds,this.control=new ft,this._registered=!1,this.name="",this.update=new n.bkB,this._parent=he,this._setValidators(Ze),this._setAsyncValidators(Lt),this.valueAccessor=ct(0,Kn)}ngOnChanges(he){if(this._checkForErrors(),!this._registered||"name"in he){if(this._registered&&(this._checkName(),this.formDirective)){const Ze=he.name.previousValue;this.formDirective.removeControl({name:Ze,path:this._getPath(Ze)})}this._setUpControl()}"isDisabled"in he&&this._updateDisabled(he),At(he,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(he){this.viewModel=he,this.update.emit(he)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){nn(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(he){Hn.then(()=>{this.control.setValue(he,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(he){const Ze=he.isDisabled.currentValue,Lt=0!==Ze&&(0,n.L39)(Ze);Hn.then(()=>{Lt&&!this.control.disabled?this.control.disable():!Lt&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(he){return this._parent?$t(he,this._parent):[he]}static{this.\u0275fac=function(Ze){return new(Ze||ke)(n.rXU(z,9),n.rXU(G,10),n.rXU(R,10),n.rXU(u,10),n.rXU(n.gRc,8),n.rXU(ht,8))}}static{this.\u0275dir=n.FsC({type:ke,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[n.Mj6.None,"disabled","isDisabled"],model:[n.Mj6.None,"ngModel","model"],options:[n.Mj6.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[n.Jv_([hr]),n.Vt3,n.OA$]})}}return ke})(),ar=(()=>{class ke{static{this.\u0275fac=function(Ze){return new(Ze||ke)}}static{this.\u0275dir=n.FsC({type:ke,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return ke})();const Ai={provide:u,useExisting:(0,n.Rfq)(()=>kr),multi:!0};let kr=(()=>{class ke extends m{writeValue(he){this.setProperty("value",he??"")}registerOnChange(he){this.onChange=Ze=>{he(""==Ze?null:parseFloat(Ze))}}static{this.\u0275fac=(()=>{let he;return function(Lt){return(he||(he=n.xGo(ke)))(Lt||ke)}})()}static{this.\u0275dir=n.FsC({type:ke,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(Ze,Lt){1&Ze&&n.bIt("input",function(Si){return Lt.onChange(Si.target.value)})("blur",function(){return Lt.onTouched()})},features:[n.Jv_([Ai]),n.Vt3]})}}return ke})();const Qs={provide:u,useExisting:(0,n.Rfq)(()=>yi),multi:!0};let Bs=(()=>{class ke{constructor(){this._accessors=[]}add(he,Ze){this._accessors.push([he,Ze])}remove(he){for(let Ze=this._accessors.length-1;Ze>=0;--Ze)if(this._accessors[Ze][1]===he)return void this._accessors.splice(Ze,1)}select(he){this._accessors.forEach(Ze=>{this._isSameGroup(Ze,he)&&Ze[1]!==he&&Ze[1].fireUncheck(he.value)})}_isSameGroup(he,Ze){return!!he[0].control&&he[0]._parent===Ze._control._parent&&he[1].name===Ze.name}static{this.\u0275fac=function(Ze){return new(Ze||ke)}}static{this.\u0275prov=n.jDH({token:ke,factory:ke.\u0275fac,providedIn:"root"})}}return ke})(),yi=(()=>{class ke extends m{constructor(he,Ze,Lt,Kn){super(he,Ze),this._registry=Lt,this._injector=Kn,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,n.WQX)(ht,{optional:!0})??xt}ngOnInit(){this._control=this._injector.get(Y),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(he){this._state=he===this.value,this.setProperty("checked",this._state)}registerOnChange(he){this._fn=he,this.onChange=()=>{he(this.value),this._registry.select(this)}}setDisabledState(he){(this.setDisabledStateFired||he||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",he),this.setDisabledStateFired=!0}fireUncheck(he){this.writeValue(he)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(Ze){return new(Ze||ke)(n.rXU(n.sFG),n.rXU(n.aKT),n.rXU(Bs),n.rXU(n.zZn))}}static{this.\u0275dir=n.FsC({type:ke,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(Ze,Lt){1&Ze&&n.bIt("change",function(){return Lt.onChange()})("blur",function(){return Lt.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[n.Jv_([Qs]),n.Vt3]})}}return ke})();const Tr=new n.nKC(""),Ls={provide:Y,useExisting:(0,n.Rfq)(()=>_r)};let _r=(()=>{class ke extends Y{set isDisabled(he){}static{this._ngModelWarningSentOnce=!1}constructor(he,Ze,Lt,Kn,Si){super(),this._ngModelWarningConfig=Kn,this.callSetDisabledState=Si,this.update=new n.bkB,this._ngModelWarningSent=!1,this._setValidators(he),this._setAsyncValidators(Ze),this.valueAccessor=ct(0,Lt)}ngOnChanges(he){if(this._isControlChanged(he)){const Ze=he.form.previousValue;Ze&&vn(Ze,this,!1),nn(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}At(he,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&vn(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(he){this.viewModel=he,this.update.emit(he)}_isControlChanged(he){return he.hasOwnProperty("form")}static{this.\u0275fac=function(Ze){return new(Ze||ke)(n.rXU(G,10),n.rXU(R,10),n.rXU(u,10),n.rXU(Tr,8),n.rXU(ht,8))}}static{this.\u0275dir=n.FsC({type:ke,selectors:[["","formControl",""]],inputs:{form:[n.Mj6.None,"formControl","form"],isDisabled:[n.Mj6.None,"disabled","isDisabled"],model:[n.Mj6.None,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[n.Jv_([Ls]),n.Vt3,n.OA$]})}}return ke})();const br={provide:z,useExisting:(0,n.Rfq)(()=>Mi)};let Mi=(()=>{class ke extends z{constructor(he,Ze,Lt){super(),this.callSetDisabledState=Lt,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new n.bkB,this._setValidators(he),this._setAsyncValidators(Ze)}ngOnChanges(he){this._checkFormPresent(),he.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(mn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(he){const Ze=this.form.get(he.path);return nn(Ze,he,this.callSetDisabledState),Ze.updateValueAndValidity({emitEvent:!1}),this.directives.push(he),Ze}getControl(he){return this.form.get(he.path)}removeControl(he){vn(he.control||null,he,!1),function Yt(ke,Ue){const he=ke.indexOf(Ue);he>-1&&ke.splice(he,1)}(this.directives,he)}addFormGroup(he){this._setUpFormContainer(he)}removeFormGroup(he){this._cleanUpFormContainer(he)}getFormGroup(he){return this.form.get(he.path)}addFormArray(he){this._setUpFormContainer(he)}removeFormArray(he){this._cleanUpFormContainer(he)}getFormArray(he){return this.form.get(he.path)}updateModel(he,Ze){this.form.get(he.path).setValue(Ze)}onSubmit(he){return this.submitted=!0,zt(this.form,this.directives),this.ngSubmit.emit(he),"dialog"===he?.target?.method}onReset(){this.resetForm()}resetForm(he=void 0){this.form.reset(he),this.submitted=!1}_updateDomValue(){this.directives.forEach(he=>{const Ze=he.control,Lt=this.form.get(he.path);Ze!==Lt&&(vn(Ze||null,he),(ke=>ke instanceof ft)(Lt)&&(nn(Lt,he,this.callSetDisabledState),he.control=Lt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(he){const Ze=this.form.get(he.path);Xn(Ze,he),Ze.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(he){if(this.form){const Ze=this.form.get(he.path);Ze&&function wi(ke,Ue){return mn(ke,Ue)}(Ze,he)&&Ze.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){In(this.form,this),this._oldForm&&mn(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(Ze){return new(Ze||ke)(n.rXU(G,10),n.rXU(R,10),n.rXU(ht,8))}}static{this.\u0275dir=n.FsC({type:ke,selectors:[["","formGroup",""]],hostBindings:function(Ze,Lt){1&Ze&&n.bIt("submit",function(Si){return Lt.onSubmit(Si)})("reset",function(){return Lt.onReset()})},inputs:{form:[n.Mj6.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[n.Jv_([br]),n.Vt3,n.OA$]})}}return ke})();const Zs={provide:z,useExisting:(0,n.Rfq)(()=>li)};let li=(()=>{class ke extends vt{constructor(he,Ze,Lt){super(),this.name=null,this._parent=he,this._setValidators(Ze),this._setAsyncValidators(Lt)}_checkParentType(){qr(this._parent)}static{this.\u0275fac=function(Ze){return new(Ze||ke)(n.rXU(z,13),n.rXU(G,10),n.rXU(R,10))}}static{this.\u0275dir=n.FsC({type:ke,selectors:[["","formGroupName",""]],inputs:{name:[n.Mj6.None,"formGroupName","name"]},features:[n.Jv_([Zs]),n.Vt3]})}}return ke})();const ia={provide:z,useExisting:(0,n.Rfq)(()=>$n)};let $n=(()=>{class ke extends z{constructor(he,Ze,Lt){super(),this.name=null,this._parent=he,this._setValidators(Ze),this._setAsyncValidators(Lt)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return $t(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){qr(this._parent)}static{this.\u0275fac=function(Ze){return new(Ze||ke)(n.rXU(z,13),n.rXU(G,10),n.rXU(R,10))}}static{this.\u0275dir=n.FsC({type:ke,selectors:[["","formArrayName",""]],inputs:{name:[n.Mj6.None,"formArrayName","name"]},features:[n.Jv_([ia]),n.Vt3]})}}return ke})();function qr(ke){return!(ke instanceof li||ke instanceof Mi||ke instanceof $n)}const mr={provide:Y,useExisting:(0,n.Rfq)(()=>Ir)};let Ir=(()=>{class ke extends Y{set isDisabled(he){}static{this._ngModelWarningSentOnce=!1}constructor(he,Ze,Lt,Kn,Si){super(),this._ngModelWarningConfig=Si,this._added=!1,this.name=null,this.update=new n.bkB,this._ngModelWarningSent=!1,this._parent=he,this._setValidators(Ze),this._setAsyncValidators(Lt),this.valueAccessor=ct(0,Kn)}ngOnChanges(he){this._added||this._setUpControl(),At(he,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(he){this.viewModel=he,this.update.emit(he)}get path(){return $t(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(Ze){return new(Ze||ke)(n.rXU(z,13),n.rXU(G,10),n.rXU(R,10),n.rXU(u,10),n.rXU(Tr,8))}}static{this.\u0275dir=n.FsC({type:ke,selectors:[["","formControlName",""]],inputs:{name:[n.Mj6.None,"formControlName","name"],isDisabled:[n.Mj6.None,"disabled","isDisabled"],model:[n.Mj6.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[n.Jv_([mr]),n.Vt3,n.OA$]})}}return ke})();const Dr={provide:u,useExisting:(0,n.Rfq)(()=>er),multi:!0};function Nr(ke,Ue){return null==ke?`${Ue}`:(Ue&&"object"==typeof Ue&&(Ue="Object"),`${ke}: ${Ue}`.slice(0,50))}let er=(()=>{class ke extends m{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(he){this._compareWith=he}writeValue(he){this.value=he;const Lt=Nr(this._getOptionId(he),he);this.setProperty("value",Lt)}registerOnChange(he){this.onChange=Ze=>{this.value=this._getOptionValue(Ze),he(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(he){for(const Ze of this._optionMap.keys())if(this._compareWith(this._optionMap.get(Ze),he))return Ze;return null}_getOptionValue(he){const Ze=function $r(ke){return ke.split(":")[0]}(he);return this._optionMap.has(Ze)?this._optionMap.get(Ze):he}static{this.\u0275fac=(()=>{let he;return function(Lt){return(he||(he=n.xGo(ke)))(Lt||ke)}})()}static{this.\u0275dir=n.FsC({type:ke,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(Ze,Lt){1&Ze&&n.bIt("change",function(Si){return Lt.onChange(Si.target.value)})("blur",function(){return Lt.onTouched()})},inputs:{compareWith:"compareWith"},features:[n.Jv_([Dr]),n.Vt3]})}}return ke})(),tr=(()=>{class ke{constructor(he,Ze,Lt){this._element=he,this._renderer=Ze,this._select=Lt,this._select&&(this.id=this._select._registerOption())}set ngValue(he){null!=this._select&&(this._select._optionMap.set(this.id,he),this._setElementValue(Nr(this.id,he)),this._select.writeValue(this._select.value))}set value(he){this._setElementValue(he),this._select&&this._select.writeValue(this._select.value)}_setElementValue(he){this._renderer.setProperty(this._element.nativeElement,"value",he)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(Ze){return new(Ze||ke)(n.rXU(n.aKT),n.rXU(n.sFG),n.rXU(er,9))}}static{this.\u0275dir=n.FsC({type:ke,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return ke})();const Wn={provide:u,useExisting:(0,n.Rfq)(()=>as),multi:!0};function Kr(ke,Ue){return null==ke?`${Ue}`:("string"==typeof Ue&&(Ue=`'${Ue}'`),Ue&&"object"==typeof Ue&&(Ue="Object"),`${ke}: ${Ue}`.slice(0,50))}let as=(()=>{class ke extends m{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(he){this._compareWith=he}writeValue(he){let Ze;if(this.value=he,Array.isArray(he)){const Lt=he.map(Kn=>this._getOptionId(Kn));Ze=(Kn,Si)=>{Kn._setSelected(Lt.indexOf(Si.toString())>-1)}}else Ze=(Lt,Kn)=>{Lt._setSelected(!1)};this._optionMap.forEach(Ze)}registerOnChange(he){this.onChange=Ze=>{const Lt=[],Kn=Ze.selectedOptions;if(void 0!==Kn){const Si=Kn;for(let ds=0;ds<Si.length;ds++){const ni=this._getOptionValue(Si[ds].value);Lt.push(ni)}}else{const Si=Ze.options;for(let ds=0;ds<Si.length;ds++){const Cs=Si[ds];if(Cs.selected){const ni=this._getOptionValue(Cs.value);Lt.push(ni)}}}this.value=Lt,he(Lt)}}_registerOption(he){const Ze=(this._idCounter++).toString();return this._optionMap.set(Ze,he),Ze}_getOptionId(he){for(const Ze of this._optionMap.keys())if(this._compareWith(this._optionMap.get(Ze)._value,he))return Ze;return null}_getOptionValue(he){const Ze=function lr(ke){return ke.split(":")[0]}(he);return this._optionMap.has(Ze)?this._optionMap.get(Ze)._value:he}static{this.\u0275fac=(()=>{let he;return function(Lt){return(he||(he=n.xGo(ke)))(Lt||ke)}})()}static{this.\u0275dir=n.FsC({type:ke,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(Ze,Lt){1&Ze&&n.bIt("change",function(Si){return Lt.onChange(Si.target)})("blur",function(){return Lt.onTouched()})},inputs:{compareWith:"compareWith"},features:[n.Jv_([Wn]),n.Vt3]})}}return ke})(),ro=(()=>{class ke{constructor(he,Ze,Lt){this._element=he,this._renderer=Ze,this._select=Lt,this._select&&(this.id=this._select._registerOption(this))}set ngValue(he){null!=this._select&&(this._value=he,this._setElementValue(Kr(this.id,he)),this._select.writeValue(this._select.value))}set value(he){this._select?(this._value=he,this._setElementValue(Kr(this.id,he)),this._select.writeValue(this._select.value)):this._setElementValue(he)}_setElementValue(he){this._renderer.setProperty(this._element.nativeElement,"value",he)}_setSelected(he){this._renderer.setProperty(this._element.nativeElement,"selected",he)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(Ze){return new(Ze||ke)(n.rXU(n.aKT),n.rXU(n.sFG),n.rXU(as,9))}}static{this.\u0275dir=n.FsC({type:ke,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return ke})();function wo(ke){return"number"==typeof ke?ke:parseInt(ke,10)}let Cr=(()=>{class ke{constructor(){this._validator=K}ngOnChanges(he){if(this.inputName in he){const Ze=this.normalizeInput(he[this.inputName].currentValue);this._enabled=this.enabled(Ze),this._validator=this._enabled?this.createValidator(Ze):K,this._onChange&&this._onChange()}}validate(he){return this._validator(he)}registerOnValidatorChange(he){this._onChange=he}enabled(he){return null!=he}static{this.\u0275fac=function(Ze){return new(Ze||ke)}}static{this.\u0275dir=n.FsC({type:ke,features:[n.OA$]})}}return ke})();const Aa={provide:G,useExisting:(0,n.Rfq)(()=>es),multi:!0};let es=(()=>{class ke extends Cr{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=he=>function Ds(ke){return"number"==typeof ke?ke:parseFloat(ke)}(he),this.createValidator=he=>$(he)}static{this.\u0275fac=(()=>{let he;return function(Lt){return(he||(he=n.xGo(ke)))(Lt||ke)}})()}static{this.\u0275dir=n.FsC({type:ke,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(Ze,Lt){2&Ze&&n.BMQ("min",Lt._enabled?Lt.min:null)},inputs:{min:"min"},features:[n.Jv_([Aa]),n.Vt3]})}}return ke})();const mo={provide:G,useExisting:(0,n.Rfq)(()=>ts),multi:!0};let ts=(()=>{class ke extends Cr{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=n.L39,this.createValidator=he=>se}enabled(he){return he}static{this.\u0275fac=(()=>{let he;return function(Lt){return(he||(he=n.xGo(ke)))(Lt||ke)}})()}static{this.\u0275dir=n.FsC({type:ke,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(Ze,Lt){2&Ze&&n.BMQ("required",Lt._enabled?"":null)},inputs:{required:"required"},features:[n.Jv_([mo]),n.Vt3]})}}return ke})();const oo={provide:G,useExisting:(0,n.Rfq)(()=>Ao),multi:!0};let Ao=(()=>{class ke extends Cr{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=he=>wo(he),this.createValidator=he=>q(he)}static{this.\u0275fac=(()=>{let he;return function(Lt){return(he||(he=n.xGo(ke)))(Lt||ke)}})()}static{this.\u0275dir=n.FsC({type:ke,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(Ze,Lt){2&Ze&&n.BMQ("minlength",Lt._enabled?Lt.minlength:null)},inputs:{minlength:"minlength"},features:[n.Jv_([oo]),n.Vt3]})}}return ke})();const As={provide:G,useExisting:(0,n.Rfq)(()=>Pr),multi:!0};let Pr=(()=>{class ke extends Cr{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=he=>wo(he),this.createValidator=he=>S(he)}static{this.\u0275fac=(()=>{let he;return function(Lt){return(he||(he=n.xGo(ke)))(Lt||ke)}})()}static{this.\u0275dir=n.FsC({type:ke,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(Ze,Lt){2&Ze&&n.BMQ("maxlength",Lt._enabled?Lt.maxlength:null)},inputs:{maxlength:"maxlength"},features:[n.Jv_([As]),n.Vt3]})}}return ke})(),Rs=(()=>{class ke{static{this.\u0275fac=function(Ze){return new(Ze||ke)}}static{this.\u0275mod=n.$C({type:ke})}static{this.\u0275inj=n.G2t({})}}return ke})();class oi extends en{constructor(Ue,he,Ze){super(It(he),Gt(Ze,he)),this.controls=Ue,this._initObservables(),this._setUpdateStrategy(he),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(Ue){return this.controls[this._adjustIndex(Ue)]}push(Ue,he={}){this.controls.push(Ue),this._registerControl(Ue),this.updateValueAndValidity({emitEvent:he.emitEvent}),this._onCollectionChange()}insert(Ue,he,Ze={}){this.controls.splice(Ue,0,he),this._registerControl(he),this.updateValueAndValidity({emitEvent:Ze.emitEvent})}removeAt(Ue,he={}){let Ze=this._adjustIndex(Ue);Ze<0&&(Ze=0),this.controls[Ze]&&this.controls[Ze]._registerOnCollectionChange(()=>{}),this.controls.splice(Ze,1),this.updateValueAndValidity({emitEvent:he.emitEvent})}setControl(Ue,he,Ze={}){let Lt=this._adjustIndex(Ue);Lt<0&&(Lt=0),this.controls[Lt]&&this.controls[Lt]._registerOnCollectionChange(()=>{}),this.controls.splice(Lt,1),he&&(this.controls.splice(Lt,0,he),this._registerControl(he)),this.updateValueAndValidity({emitEvent:Ze.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(Ue,he={}){Ot(this,0,Ue),Ue.forEach((Ze,Lt)=>{yt(this,!1,Lt),this.at(Lt).setValue(Ze,{onlySelf:!0,emitEvent:he.emitEvent})}),this.updateValueAndValidity(he)}patchValue(Ue,he={}){null!=Ue&&(Ue.forEach((Ze,Lt)=>{this.at(Lt)&&this.at(Lt).patchValue(Ze,{onlySelf:!0,emitEvent:he.emitEvent})}),this.updateValueAndValidity(he))}reset(Ue=[],he={}){this._forEachChild((Ze,Lt)=>{Ze.reset(Ue[Lt],{onlySelf:!0,emitEvent:he.emitEvent})}),this._updatePristine(he),this._updateTouched(he),this.updateValueAndValidity(he)}getRawValue(){return this.controls.map(Ue=>Ue.getRawValue())}clear(Ue={}){this.controls.length<1||(this._forEachChild(he=>he._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:Ue.emitEvent}))}_adjustIndex(Ue){return Ue<0?Ue+this.length:Ue}_syncPendingControls(){let Ue=this.controls.reduce((he,Ze)=>!!Ze._syncPendingControls()||he,!1);return Ue&&this.updateValueAndValidity({onlySelf:!0}),Ue}_forEachChild(Ue){this.controls.forEach((he,Ze)=>{Ue(he,Ze)})}_updateValue(){this.value=this.controls.filter(Ue=>Ue.enabled||this.disabled).map(Ue=>Ue.value)}_anyControls(Ue){return this.controls.some(he=>he.enabled&&Ue(he))}_setUpControls(){this._forEachChild(Ue=>this._registerControl(Ue))}_allControlsDisabled(){for(const Ue of this.controls)if(Ue.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(Ue){Ue.setParent(this),Ue._registerOnCollectionChange(this._onCollectionChange)}_find(Ue){return this.at(Ue)??null}}function gr(ke){return!!ke&&(void 0!==ke.asyncValidators||void 0!==ke.validators||void 0!==ke.updateOn)}let Ws=(()=>{class ke{constructor(){this.useNonNullable=!1}get nonNullable(){const he=new ke;return he.useNonNullable=!0,he}group(he,Ze=null){const Lt=this._reduceControls(he);let Kn={};return gr(Ze)?Kn=Ze:null!==Ze&&(Kn.validators=Ze.validator,Kn.asyncValidators=Ze.asyncValidator),new Sn(Lt,Kn)}record(he,Ze=null){const Lt=this._reduceControls(he);return new Gn(Lt,Ze)}control(he,Ze,Lt){let Kn={};return this.useNonNullable?(gr(Ze)?Kn=Ze:(Kn.validators=Ze,Kn.asyncValidators=Lt),new ft(he,{...Kn,nonNullable:!0})):new ft(he,Ze,Lt)}array(he,Ze,Lt){const Kn=he.map(Si=>this._createControl(Si));return new oi(Kn,Ze,Lt)}_reduceControls(he){const Ze={};return Object.keys(he).forEach(Lt=>{Ze[Lt]=this._createControl(he[Lt])}),Ze}_createControl(he){return he instanceof ft||he instanceof en?he:Array.isArray(he)?this.control(he[0],he.length>1?he[1]:null,he.length>2?he[2]:null):this.control(he)}static{this.\u0275fac=function(Ze){return new(Ze||ke)}}static{this.\u0275prov=n.jDH({token:ke,factory:ke.\u0275fac,providedIn:"root"})}}return ke})(),Gr=(()=>{class ke extends Ws{group(he,Ze=null){return super.group(he,Ze)}control(he,Ze,Lt){return super.control(he,Ze,Lt)}array(he,Ze,Lt){return super.array(he,Ze,Lt)}static{this.\u0275fac=(()=>{let he;return function(Lt){return(he||(he=n.xGo(ke)))(Lt||ke)}})()}static{this.\u0275prov=n.jDH({token:ke,factory:ke.\u0275fac,providedIn:"root"})}}return ke})(),Cn=(()=>{class ke{static withConfig(he){return{ngModule:ke,providers:[{provide:ht,useValue:he.callSetDisabledState??xt}]}}static{this.\u0275fac=function(Ze){return new(Ze||ke)}}static{this.\u0275mod=n.$C({type:ke})}static{this.\u0275inj=n.G2t({imports:[Rs]})}}return ke})(),bs=(()=>{class ke{static withConfig(he){return{ngModule:ke,providers:[{provide:Tr,useValue:he.warnOnNgModelWithFormControl??"always"},{provide:ht,useValue:he.callSetDisabledState??xt}]}}static{this.\u0275fac=function(Ze){return new(Ze||ke)}}static{this.\u0275mod=n.$C({type:ke})}static{this.\u0275inj=n.G2t({imports:[Rs]})}}return ke})()},345:(nt,fe,h)=>{"use strict";h.d(fe,{B7:()=>J,Bb:()=>Z,hE:()=>at,sG:()=>Dt,up:()=>tt});var n=h(4438),e=h(177);class y extends e.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class p extends y{static makeCurrent(){(0,e.ZD)(new p)}onAndCancel(Ct,yt,Ot){return Ct.addEventListener(yt,Ot),()=>{Ct.removeEventListener(yt,Ot)}}dispatchEvent(Ct,yt){Ct.dispatchEvent(yt)}remove(Ct){Ct.parentNode&&Ct.parentNode.removeChild(Ct)}createElement(Ct,yt){return(yt=yt||this.getDefaultDocument()).createElement(Ct)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Ct){return Ct.nodeType===Node.ELEMENT_NODE}isShadowRoot(Ct){return Ct instanceof DocumentFragment}getGlobalEventTarget(Ct,yt){return"window"===yt?window:"document"===yt?Ct:"body"===yt?Ct.body:null}getBaseHref(Ct){const yt=function C(){return w=w||document.querySelector("base"),w?w.getAttribute("href"):null}();return null==yt?null:function m(lt){return new URL(lt,document.baseURI).pathname}(yt)}resetBaseElement(){w=null}getUserAgent(){return window.navigator.userAgent}getCookie(Ct){return(0,e._b)(document.cookie,Ct)}}let w=null,f=(()=>{class lt{build(){return new XMLHttpRequest}static{this.\u0275fac=function(Ot){return new(Ot||lt)}}static{this.\u0275prov=n.jDH({token:lt,factory:lt.\u0275fac})}}return lt})();const T=new n.nKC("");let O=(()=>{class lt{constructor(yt,Ot){this._zone=Ot,this._eventNameToPlugin=new Map,yt.forEach(en=>{en.manager=this}),this._plugins=yt.slice().reverse()}addEventListener(yt,Ot,en){return this._findPluginFor(Ot).addEventListener(yt,Ot,en)}getZone(){return this._zone}_findPluginFor(yt){let Ot=this._eventNameToPlugin.get(yt);if(Ot)return Ot;if(Ot=this._plugins.find(Sn=>Sn.supports(yt)),!Ot)throw new n.wOt(5101,!1);return this._eventNameToPlugin.set(yt,Ot),Ot}static{this.\u0275fac=function(Ot){return new(Ot||lt)(n.KVO(T),n.KVO(n.SKi))}}static{this.\u0275prov=n.jDH({token:lt,factory:lt.\u0275fac})}}return lt})();class F{constructor(Ct){this._doc=Ct}}const b="ng-app-id";let M=(()=>{class lt{constructor(yt,Ot,en,Sn={}){this.doc=yt,this.appId=Ot,this.nonce=en,this.platformId=Sn,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,e.Vy)(Sn),this.resetHostNodes()}addStyles(yt){for(const Ot of yt)1===this.changeUsageCount(Ot,1)&&this.onStyleAdded(Ot)}removeStyles(yt){for(const Ot of yt)this.changeUsageCount(Ot,-1)<=0&&this.onStyleRemoved(Ot)}ngOnDestroy(){const yt=this.styleNodesInDOM;yt&&(yt.forEach(Ot=>Ot.remove()),yt.clear());for(const Ot of this.getAllStyles())this.onStyleRemoved(Ot);this.resetHostNodes()}addHost(yt){this.hostNodes.add(yt);for(const Ot of this.getAllStyles())this.addStyleToHost(yt,Ot)}removeHost(yt){this.hostNodes.delete(yt)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(yt){for(const Ot of this.hostNodes)this.addStyleToHost(Ot,yt)}onStyleRemoved(yt){const Ot=this.styleRef;Ot.get(yt)?.elements?.forEach(en=>en.remove()),Ot.delete(yt)}collectServerRenderedStyles(){const yt=this.doc.head?.querySelectorAll(`style[${b}="${this.appId}"]`);if(yt?.length){const Ot=new Map;return yt.forEach(en=>{null!=en.textContent&&Ot.set(en.textContent,en)}),Ot}return null}changeUsageCount(yt,Ot){const en=this.styleRef;if(en.has(yt)){const Sn=en.get(yt);return Sn.usage+=Ot,Sn.usage}return en.set(yt,{usage:Ot,elements:[]}),Ot}getStyleElement(yt,Ot){const en=this.styleNodesInDOM,Sn=en?.get(Ot);if(Sn?.parentNode===yt)return en.delete(Ot),Sn.removeAttribute(b),Sn;{const Un=this.doc.createElement("style");return this.nonce&&Un.setAttribute("nonce",this.nonce),Un.textContent=Ot,this.platformIsServer&&Un.setAttribute(b,this.appId),yt.appendChild(Un),Un}}addStyleToHost(yt,Ot){const en=this.getStyleElement(yt,Ot),Sn=this.styleRef,Un=Sn.get(Ot)?.elements;Un?Un.push(en):Sn.set(Ot,{elements:[en],usage:1})}resetHostNodes(){const yt=this.hostNodes;yt.clear(),yt.add(this.doc.head)}static{this.\u0275fac=function(Ot){return new(Ot||lt)(n.KVO(e.qQ),n.KVO(n.sZ2),n.KVO(n.BIS,8),n.KVO(n.Agw))}}static{this.\u0275prov=n.jDH({token:lt,factory:lt.\u0275fac})}}return lt})();const k={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},N=/%COMP%/g,G="%COMP%",R=`_nghost-${G}`,j=`_ngcontent-${G}`,$=new n.nKC("",{providedIn:"root",factory:()=>!0});function L(lt,Ct){return Ct.map(yt=>yt.replace(N,lt))}let J=(()=>{class lt{constructor(yt,Ot,en,Sn,Un,fn,di,Gn=null){this.eventManager=yt,this.sharedStylesHost=Ot,this.appId=en,this.removeStylesOnCompDestroy=Sn,this.doc=Un,this.platformId=fn,this.ngZone=di,this.nonce=Gn,this.rendererByCompId=new Map,this.platformIsServer=(0,e.Vy)(fn),this.defaultRenderer=new q(yt,Un,di,this.platformIsServer)}createRenderer(yt,Ot){if(!yt||!Ot)return this.defaultRenderer;this.platformIsServer&&Ot.encapsulation===n.gXe.ShadowDom&&(Ot={...Ot,encapsulation:n.gXe.Emulated});const en=this.getOrCreateRenderer(yt,Ot);return en instanceof De?en.applyToHost(yt):en instanceof Ne&&en.applyStyles(),en}getOrCreateRenderer(yt,Ot){const en=this.rendererByCompId;let Sn=en.get(Ot.id);if(!Sn){const Un=this.doc,fn=this.ngZone,di=this.eventManager,Gn=this.sharedStylesHost,Mt=this.removeStylesOnCompDestroy,ht=this.platformIsServer;switch(Ot.encapsulation){case n.gXe.Emulated:Sn=new De(di,Gn,Ot,this.appId,Mt,Un,fn,ht);break;case n.gXe.ShadowDom:return new me(di,Gn,yt,Ot,Un,fn,this.nonce,ht);default:Sn=new Ne(di,Gn,Ot,Mt,Un,fn,ht)}en.set(Ot.id,Sn)}return Sn}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(Ot){return new(Ot||lt)(n.KVO(O),n.KVO(M),n.KVO(n.sZ2),n.KVO($),n.KVO(e.qQ),n.KVO(n.Agw),n.KVO(n.SKi),n.KVO(n.BIS))}}static{this.\u0275prov=n.jDH({token:lt,factory:lt.\u0275fac})}}return lt})();class q{constructor(Ct,yt,Ot,en){this.eventManager=Ct,this.doc=yt,this.ngZone=Ot,this.platformIsServer=en,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(Ct,yt){return yt?this.doc.createElementNS(k[yt]||yt,Ct):this.doc.createElement(Ct)}createComment(Ct){return this.doc.createComment(Ct)}createText(Ct){return this.doc.createTextNode(Ct)}appendChild(Ct,yt){(K(Ct)?Ct.content:Ct).appendChild(yt)}insertBefore(Ct,yt,Ot){Ct&&(K(Ct)?Ct.content:Ct).insertBefore(yt,Ot)}removeChild(Ct,yt){Ct&&Ct.removeChild(yt)}selectRootElement(Ct,yt){let Ot="string"==typeof Ct?this.doc.querySelector(Ct):Ct;if(!Ot)throw new n.wOt(-5104,!1);return yt||(Ot.textContent=""),Ot}parentNode(Ct){return Ct.parentNode}nextSibling(Ct){return Ct.nextSibling}setAttribute(Ct,yt,Ot,en){if(en){yt=en+":"+yt;const Sn=k[en];Sn?Ct.setAttributeNS(Sn,yt,Ot):Ct.setAttribute(yt,Ot)}else Ct.setAttribute(yt,Ot)}removeAttribute(Ct,yt,Ot){if(Ot){const en=k[Ot];en?Ct.removeAttributeNS(en,yt):Ct.removeAttribute(`${Ot}:${yt}`)}else Ct.removeAttribute(yt)}addClass(Ct,yt){Ct.classList.add(yt)}removeClass(Ct,yt){Ct.classList.remove(yt)}setStyle(Ct,yt,Ot,en){en&(n.czy.DashCase|n.czy.Important)?Ct.style.setProperty(yt,Ot,en&n.czy.Important?"important":""):Ct.style[yt]=Ot}removeStyle(Ct,yt,Ot){Ot&n.czy.DashCase?Ct.style.removeProperty(yt):Ct.style[yt]=""}setProperty(Ct,yt,Ot){null!=Ct&&(Ct[yt]=Ot)}setValue(Ct,yt){Ct.nodeValue=yt}listen(Ct,yt,Ot){if("string"==typeof Ct&&!(Ct=(0,e.QT)().getGlobalEventTarget(this.doc,Ct)))throw new Error(`Unsupported event target ${Ct} for event ${yt}`);return this.eventManager.addEventListener(Ct,yt,this.decoratePreventDefault(Ot))}decoratePreventDefault(Ct){return yt=>{if("__ngUnwrap__"===yt)return Ct;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>Ct(yt)):Ct(yt))&&yt.preventDefault()}}}function K(lt){return"TEMPLATE"===lt.tagName&&void 0!==lt.content}class me extends q{constructor(Ct,yt,Ot,en,Sn,Un,fn,di){super(Ct,Sn,Un,di),this.sharedStylesHost=yt,this.hostEl=Ot,this.shadowRoot=Ot.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Gn=L(en.id,en.styles);for(const Mt of Gn){const ht=document.createElement("style");fn&&ht.setAttribute("nonce",fn),ht.textContent=Mt,this.shadowRoot.appendChild(ht)}}nodeOrShadowRoot(Ct){return Ct===this.hostEl?this.shadowRoot:Ct}appendChild(Ct,yt){return super.appendChild(this.nodeOrShadowRoot(Ct),yt)}insertBefore(Ct,yt,Ot){return super.insertBefore(this.nodeOrShadowRoot(Ct),yt,Ot)}removeChild(Ct,yt){return super.removeChild(this.nodeOrShadowRoot(Ct),yt)}parentNode(Ct){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Ct)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ne extends q{constructor(Ct,yt,Ot,en,Sn,Un,fn,di){super(Ct,Sn,Un,fn),this.sharedStylesHost=yt,this.removeStylesOnCompDestroy=en,this.styles=di?L(di,Ot.styles):Ot.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class De extends Ne{constructor(Ct,yt,Ot,en,Sn,Un,fn,di){const Gn=en+"-"+Ot.id;super(Ct,yt,Ot,Sn,Un,fn,di,Gn),this.contentAttr=function ie(lt){return j.replace(N,lt)}(Gn),this.hostAttr=function se(lt){return R.replace(N,lt)}(Gn)}applyToHost(Ct){this.applyStyles(),this.setAttribute(Ct,this.hostAttr,"")}createElement(Ct,yt){const Ot=super.createElement(Ct,yt);return super.setAttribute(Ot,this.contentAttr,""),Ot}}let xe=(()=>{class lt extends F{constructor(yt){super(yt)}supports(yt){return!0}addEventListener(yt,Ot,en){return yt.addEventListener(Ot,en,!1),()=>this.removeEventListener(yt,Ot,en)}removeEventListener(yt,Ot,en){return yt.removeEventListener(Ot,en)}static{this.\u0275fac=function(Ot){return new(Ot||lt)(n.KVO(e.qQ))}}static{this.\u0275prov=n.jDH({token:lt,factory:lt.\u0275fac})}}return lt})();const Qe=["alt","control","meta","shift"],Se={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},be={alt:lt=>lt.altKey,control:lt=>lt.ctrlKey,meta:lt=>lt.metaKey,shift:lt=>lt.shiftKey};let le=(()=>{class lt extends F{constructor(yt){super(yt)}supports(yt){return null!=lt.parseEventName(yt)}addEventListener(yt,Ot,en){const Sn=lt.parseEventName(Ot),Un=lt.eventCallback(Sn.fullKey,en,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,e.QT)().onAndCancel(yt,Sn.domEventName,Un))}static parseEventName(yt){const Ot=yt.toLowerCase().split("."),en=Ot.shift();if(0===Ot.length||"keydown"!==en&&"keyup"!==en)return null;const Sn=lt._normalizeKey(Ot.pop());let Un="",fn=Ot.indexOf("code");if(fn>-1&&(Ot.splice(fn,1),Un="code."),Qe.forEach(Gn=>{const Mt=Ot.indexOf(Gn);Mt>-1&&(Ot.splice(Mt,1),Un+=Gn+".")}),Un+=Sn,0!=Ot.length||0===Sn.length)return null;const di={};return di.domEventName=en,di.fullKey=Un,di}static matchEventFullKeyCode(yt,Ot){let en=Se[yt.key]||yt.key,Sn="";return Ot.indexOf("code.")>-1&&(en=yt.code,Sn="code."),!(null==en||!en)&&(en=en.toLowerCase()," "===en?en="space":"."===en&&(en="dot"),Qe.forEach(Un=>{Un!==en&&(0,be[Un])(yt)&&(Sn+=Un+".")}),Sn+=en,Sn===Ot)}static eventCallback(yt,Ot,en){return Sn=>{lt.matchEventFullKeyCode(Sn,yt)&&en.runGuarded(()=>Ot(Sn))}}static _normalizeKey(yt){return"esc"===yt?"escape":yt}static{this.\u0275fac=function(Ot){return new(Ot||lt)(n.KVO(e.qQ))}}static{this.\u0275prov=n.jDH({token:lt,factory:lt.\u0275fac})}}return lt})();const Dt=(0,n.oH4)(n.fpN,"browser",[{provide:n.Agw,useValue:e.AJ},{provide:n.PLl,useValue:function pt(){p.makeCurrent()},multi:!0},{provide:e.qQ,useFactory:function qt(){return(0,n.TL$)(document),document},deps:[]}]),wt=new n.nKC(""),z=[{provide:n.e01,useClass:class u{addToWindow(Ct){n.JZv.getAngularTestability=(Ot,en=!0)=>{const Sn=Ct.findTestabilityInTree(Ot,en);if(null==Sn)throw new n.wOt(5103,!1);return Sn},n.JZv.getAllAngularTestabilities=()=>Ct.getAllTestabilities(),n.JZv.getAllAngularRootElements=()=>Ct.getAllRootElements(),n.JZv.frameworkStabilizers||(n.JZv.frameworkStabilizers=[]),n.JZv.frameworkStabilizers.push(Ot=>{const en=n.JZv.getAllAngularTestabilities();let Sn=en.length;const Un=function(){Sn--,0==Sn&&Ot()};en.forEach(fn=>{fn.whenStable(Un)})})}findTestabilityInTree(Ct,yt,Ot){return null==yt?null:Ct.getTestability(yt)??(Ot?(0,e.QT)().isShadowRoot(yt)?this.findTestabilityInTree(Ct,yt.host,!0):this.findTestabilityInTree(Ct,yt.parentElement,!0):null)}},deps:[]},{provide:n.WHO,useClass:n.NYb,deps:[n.SKi,n.giA,n.e01]},{provide:n.NYb,useClass:n.NYb,deps:[n.SKi,n.giA,n.e01]}],Y=[{provide:n.H8p,useValue:"root"},{provide:n.zcH,useFactory:function Ye(){return new n.zcH},deps:[]},{provide:T,useClass:xe,multi:!0,deps:[e.qQ,n.SKi,n.Agw]},{provide:T,useClass:le,multi:!0,deps:[e.qQ]},J,M,O,{provide:n._9s,useExisting:J},{provide:e.N0,useClass:f,deps:[]},[]];let Z=(()=>{class lt{constructor(yt){}static withServerTransition(yt){return{ngModule:lt,providers:[{provide:n.sZ2,useValue:yt.appId}]}}static{this.\u0275fac=function(Ot){return new(Ot||lt)(n.KVO(wt,12))}}static{this.\u0275mod=n.$C({type:lt})}static{this.\u0275inj=n.G2t({providers:[...Y,...z],imports:[e.MD,n.Hbi]})}}return lt})(),at=(()=>{class lt{constructor(yt){this._doc=yt}getTitle(){return this._doc.title}setTitle(yt){this._doc.title=yt||""}static{this.\u0275fac=function(Ot){return new(Ot||lt)(n.KVO(e.qQ))}}static{this.\u0275prov=n.jDH({token:lt,factory:lt.\u0275fac,providedIn:"root"})}}return lt})(),tt=(()=>{class lt{static{this.\u0275fac=function(Ot){return new(Ot||lt)}}static{this.\u0275prov=n.jDH({token:lt,factory:function(Ot){let en=null;return en=Ot?new(Ot||lt):n.KVO(gt),en},providedIn:"root"})}}return lt})(),gt=(()=>{class lt extends tt{constructor(yt){super(),this._doc=yt}sanitize(yt,Ot){if(null==Ot)return null;switch(yt){case n.WPN.NONE:return Ot;case n.WPN.HTML:return(0,n.ZF7)(Ot,"HTML")?(0,n.rcV)(Ot):(0,n.h9k)(this._doc,String(Ot)).toString();case n.WPN.STYLE:return(0,n.ZF7)(Ot,"Style")?(0,n.rcV)(Ot):Ot;case n.WPN.SCRIPT:if((0,n.ZF7)(Ot,"Script"))return(0,n.rcV)(Ot);throw new n.wOt(5200,!1);case n.WPN.URL:return(0,n.ZF7)(Ot,"URL")?(0,n.rcV)(Ot):(0,n.$MX)(String(Ot));case n.WPN.RESOURCE_URL:if((0,n.ZF7)(Ot,"ResourceURL"))return(0,n.rcV)(Ot);throw new n.wOt(5201,!1);default:throw new n.wOt(5202,!1)}}bypassSecurityTrustHtml(yt){return(0,n.Kcf)(yt)}bypassSecurityTrustStyle(yt){return(0,n.cWb)(yt)}bypassSecurityTrustScript(yt){return(0,n.UyX)(yt)}bypassSecurityTrustUrl(yt){return(0,n.osQ)(yt)}bypassSecurityTrustResourceUrl(yt){return(0,n.e5t)(yt)}static{this.\u0275fac=function(Ot){return new(Ot||lt)(n.KVO(e.qQ))}}static{this.\u0275prov=n.jDH({token:lt,factory:lt.\u0275fac,providedIn:"root"})}}return lt})()},1583:(nt,fe,h)=>{"use strict";h.d(fe,{nX:()=>$n,j5:()=>Tt,wF:()=>ye,Z:()=>Ie,bw:()=>Eo,b:()=>Rt,Ix:()=>ur,Wk:()=>ue,wQ:()=>Me,iI:()=>vl,n3:()=>Wn});var n=h(4438),e=h(4402),y=h(6648),p=h(7673),w=h(4412),C=h(4572),m=h(9350),u=h(8793),f=h(9030),T=h(1203),O=h(8810),F=h(983),b=h(1985),M=h(8359),k=h(9974),N=h(4360);function G(){return(0,k.N)((I,V)=>{let B=null;I._refCount++;const Q=(0,N._)(V,void 0,void 0,void 0,()=>{if(!I||I._refCount<=0||0<--I._refCount)return void(B=null);const ge=I._connection,$e=B;B=null,ge&&(!$e||ge===$e)&&ge.unsubscribe(),V.unsubscribe()});I.subscribe(Q),Q.closed||(B=I.connect())})}class R extends b.c{constructor(V,B){super(),this.source=V,this.subjectFactory=B,this._subject=null,this._refCount=0,this._connection=null,(0,k.S)(V)&&(this.lift=V.lift)}_subscribe(V){return this.getSubject().subscribe(V)}getSubject(){const V=this._subject;return(!V||V.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:V}=this;this._subject=this._connection=null,V?.unsubscribe()}connect(){let V=this._connection;if(!V){V=this._connection=new M.yU;const B=this.getSubject();V.add(this.source.subscribe((0,N._)(B,void 0,()=>{this._teardown(),B.complete()},Q=>{this._teardown(),B.error(Q)},()=>this._teardown()))),V.closed&&(this._connection=null,V=M.yU.EMPTY)}return V}refCount(){return G()(this)}}var j=h(1413),U=h(177),$=h(6354),ie=h(5558),se=h(6697),L=h(9172),J=h(5964),q=h(1397),S=h(1594),re=h(274),K=h(8141),me=h(9437),Ne=h(6649),xe=h(9901);function Qe(I){return I<=0?()=>F.w:(0,k.N)((V,B)=>{let Q=[];V.subscribe((0,N._)(B,ge=>{Q.push(ge),I<Q.length&&Q.shift()},()=>{for(const ge of Q)B.next(ge);B.complete()},void 0,()=>{Q=null}))})}var Se=h(3774),be=h(3669),Fe=h(3703),Te=h(980),st=h(6977),Oe=h(6365),pt=h(345);const Ye="primary",qt=Symbol("RouteTitle");class jt{constructor(V){this.params=V||{}}has(V){return Object.prototype.hasOwnProperty.call(this.params,V)}get(V){if(this.has(V)){const B=this.params[V];return Array.isArray(B)?B[0]:B}return null}getAll(V){if(this.has(V)){const B=this.params[V];return Array.isArray(B)?B:[B]}return[]}get keys(){return Object.keys(this.params)}}function Dt(I){return new jt(I)}function wt(I,V,B){const Q=B.path.split("/");if(Q.length>I.length||"full"===B.pathMatch&&(V.hasChildren()||Q.length<I.length))return null;const ge={};for(let $e=0;$e<Q.length;$e++){const _t=Q[$e],ln=I[$e];if(_t.startsWith(":"))ge[_t.substring(1)]=ln;else if(_t!==ln.path)return null}return{consumed:I.slice(0,Q.length),posParams:ge}}function Y(I,V){const B=I?Z(I):void 0,Q=V?Z(V):void 0;if(!B||!Q||B.length!=Q.length)return!1;let ge;for(let $e=0;$e<B.length;$e++)if(ge=B[$e],!Ce(I[ge],V[ge]))return!1;return!0}function Z(I){return[...Object.keys(I),...Object.getOwnPropertySymbols(I)]}function Ce(I,V){if(Array.isArray(I)&&Array.isArray(V)){if(I.length!==V.length)return!1;const B=[...I].sort(),Q=[...V].sort();return B.every((ge,$e)=>Q[$e]===ge)}return I===V}function we(I){return I.length>0?I[I.length-1]:null}function at(I){return(0,e.A)(I)?I:(0,n.jNT)(I)?(0,y.H)(Promise.resolve(I)):(0,p.of)(I)}const Be={exact:function it(I,V,B){if(!Ve(I.segments,V.segments)||!Jt(I.segments,V.segments,B)||I.numberOfChildren!==V.numberOfChildren)return!1;for(const Q in V.children)if(!I.children[Q]||!it(I.children[Q],V.children[Q],B))return!1;return!0},subset:sn},ot={exact:function mt(I,V){return Y(I,V)},subset:function Kt(I,V){return Object.keys(V).length<=Object.keys(I).length&&Object.keys(V).every(B=>Ce(I[B],V[B]))},ignored:()=>!0};function Pt(I,V,B){return Be[B.paths](I.root,V.root,B.matrixParams)&&ot[B.queryParams](I.queryParams,V.queryParams)&&!("exact"===B.fragment&&I.fragment!==V.fragment)}function sn(I,V,B){return Ft(I,V,V.segments,B)}function Ft(I,V,B,Q){if(I.segments.length>B.length){const ge=I.segments.slice(0,B.length);return!(!Ve(ge,B)||V.hasChildren()||!Jt(ge,B,Q))}if(I.segments.length===B.length){if(!Ve(I.segments,B)||!Jt(I.segments,B,Q))return!1;for(const ge in V.children)if(!I.children[ge]||!sn(I.children[ge],V.children[ge],Q))return!1;return!0}{const ge=B.slice(0,I.segments.length),$e=B.slice(I.segments.length);return!!(Ve(I.segments,ge)&&Jt(I.segments,ge,Q)&&I.children[Ye])&&Ft(I.children[Ye],V,$e,Q)}}function Jt(I,V,B){return V.every((Q,ge)=>ot[B](I[ge].parameters,Q.parameters))}class je{constructor(V=new ce([],{}),B={},Q=null){this.root=V,this.queryParams=B,this.fragment=Q}get queryParamMap(){return this._queryParamMap??=Dt(this.queryParams),this._queryParamMap}toString(){return cn.serialize(this)}}class ce{constructor(V,B){this.segments=V,this.children=B,this.parent=null,Object.values(B).forEach(Q=>Q.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return hn(this)}}class X{constructor(V,B){this.path=V,this.parameters=B}get parameterMap(){return this._parameterMap??=Dt(this.parameters),this._parameterMap}toString(){return Ct(this)}}function Ve(I,V){return I.length===V.length&&I.every((B,Q)=>B.path===V[Q].path)}let gt=(()=>{class I{static{this.\u0275fac=function(Q){return new(Q||I)}}static{this.\u0275prov=n.jDH({token:I,factory:()=>new Bt,providedIn:"root"})}}return I})();class Bt{parse(V){const B=new xt(V);return new je(B.parseRootSegment(),B.parseQueryParams(),B.parseFragment())}serialize(V){const B=`/${An(V.root,!0)}`,Q=function Ot(I){const V=Object.entries(I).map(([B,Q])=>Array.isArray(Q)?Q.map(ge=>`${Bn(B)}=${Bn(ge)}`).join("&"):`${Bn(B)}=${Bn(Q)}`).filter(B=>B);return V.length?`?${V.join("&")}`:""}(V.queryParams);return`${B}${Q}${"string"==typeof V.fragment?`#${function It(I){return encodeURI(I)}(V.fragment)}`:""}`}}const cn=new Bt;function hn(I){return I.segments.map(V=>Ct(V)).join("/")}function An(I,V){if(!I.hasChildren())return hn(I);if(V){const B=I.children[Ye]?An(I.children[Ye],!1):"",Q=[];return Object.entries(I.children).forEach(([ge,$e])=>{ge!==Ye&&Q.push(`${ge}:${An($e,!1)}`)}),Q.length>0?`${B}(${Q.join("//")})`:B}{const B=function tt(I,V){let B=[];return Object.entries(I.children).forEach(([Q,ge])=>{Q===Ye&&(B=B.concat(V(ge,Q)))}),Object.entries(I.children).forEach(([Q,ge])=>{Q!==Ye&&(B=B.concat(V(ge,Q)))}),B}(I,(Q,ge)=>ge===Ye?[An(I.children[Ye],!1)]:[`${ge}:${An(Q,!1)}`]);return 1===Object.keys(I.children).length&&null!=I.children[Ye]?`${hn(I)}/${B[0]}`:`${hn(I)}/(${B.join("//")})`}}function xn(I){return encodeURIComponent(I).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Bn(I){return xn(I).replace(/%3B/gi,";")}function Dn(I){return xn(I).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Gt(I){return decodeURIComponent(I)}function lt(I){return Gt(I.replace(/\+/g,"%20"))}function Ct(I){return`${Dn(I.path)}${function yt(I){return Object.entries(I).map(([V,B])=>`;${Dn(V)}=${Dn(B)}`).join("")}(I.parameters)}`}const en=/^[^\/()?;#]+/;function Sn(I){const V=I.match(en);return V?V[0]:""}const Un=/^[^\/()?;=#]+/,di=/^[^=?&#]+/,Mt=/^[^&#]+/;class xt{constructor(V){this.url=V,this.remaining=V}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ce([],{}):new ce([],this.parseChildren())}parseQueryParams(){const V={};if(this.consumeOptional("?"))do{this.parseQueryParam(V)}while(this.consumeOptional("&"));return V}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const V=[];for(this.peekStartsWith("(")||V.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),V.push(this.parseSegment());let B={};this.peekStartsWith("/(")&&(this.capture("/"),B=this.parseParens(!0));let Q={};return this.peekStartsWith("(")&&(Q=this.parseParens(!1)),(V.length>0||Object.keys(B).length>0)&&(Q[Ye]=new ce(V,B)),Q}parseSegment(){const V=Sn(this.remaining);if(""===V&&this.peekStartsWith(";"))throw new n.wOt(4009,!1);return this.capture(V),new X(Gt(V),this.parseMatrixParams())}parseMatrixParams(){const V={};for(;this.consumeOptional(";");)this.parseParam(V);return V}parseParam(V){const B=function fn(I){const V=I.match(Un);return V?V[0]:""}(this.remaining);if(!B)return;this.capture(B);let Q="";if(this.consumeOptional("=")){const ge=Sn(this.remaining);ge&&(Q=ge,this.capture(Q))}V[Gt(B)]=Gt(Q)}parseQueryParam(V){const B=function Gn(I){const V=I.match(di);return V?V[0]:""}(this.remaining);if(!B)return;this.capture(B);let Q="";if(this.consumeOptional("=")){const _t=function ht(I){const V=I.match(Mt);return V?V[0]:""}(this.remaining);_t&&(Q=_t,this.capture(Q))}const ge=lt(B),$e=lt(Q);if(V.hasOwnProperty(ge)){let _t=V[ge];Array.isArray(_t)||(_t=[_t],V[ge]=_t),_t.push($e)}else V[ge]=$e}parseParens(V){const B={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const Q=Sn(this.remaining),ge=this.remaining[Q.length];if("/"!==ge&&")"!==ge&&";"!==ge)throw new n.wOt(4010,!1);let $e;Q.indexOf(":")>-1?($e=Q.slice(0,Q.indexOf(":")),this.capture($e),this.capture(":")):V&&($e=Ye);const _t=this.parseChildren();B[$e]=1===Object.keys(_t).length?_t[Ye]:new ce([],_t),this.consumeOptional("//")}return B}peekStartsWith(V){return this.remaining.startsWith(V)}consumeOptional(V){return!!this.peekStartsWith(V)&&(this.remaining=this.remaining.substring(V.length),!0)}capture(V){if(!this.consumeOptional(V))throw new n.wOt(4011,!1)}}function $t(I){return I.segments.length>0?new ce([],{[Ye]:I}):I}function nn(I){const V={};for(const[Q,ge]of Object.entries(I.children)){const $e=nn(ge);if(Q===Ye&&0===$e.segments.length&&$e.hasChildren())for(const[_t,ln]of Object.entries($e.children))V[_t]=ln;else($e.segments.length>0||$e.hasChildren())&&(V[Q]=$e)}return function vn(I){if(1===I.numberOfChildren&&I.children[Ye]){const V=I.children[Ye];return new ce(I.segments.concat(V.segments),V.children)}return I}(new ce(I.segments,V))}function gn(I){return I instanceof je}function In(I){let V;const ge=$t(function B($e){const _t={};for(const tn of $e.children){const Ln=B(tn);_t[tn.outlet]=Ln}const ln=new ce($e.url,_t);return $e===I&&(V=ln),ln}(I.root));return V??ge}function mn(I,V,B,Q){let ge=I;for(;ge.parent;)ge=ge.parent;if(0===V.length)return ei(ge,ge,ge,B,Q);const $e=function wi(I){if("string"==typeof I[0]&&1===I.length&&"/"===I[0])return new Xn(!0,0,I);let V=0,B=!1;const Q=I.reduce((ge,$e,_t)=>{if("object"==typeof $e&&null!=$e){if($e.outlets){const ln={};return Object.entries($e.outlets).forEach(([tn,Ln])=>{ln[tn]="string"==typeof Ln?Ln.split("/"):Ln}),[...ge,{outlets:ln}]}if($e.segmentPath)return[...ge,$e.segmentPath]}return"string"!=typeof $e?[...ge,$e]:0===_t?($e.split("/").forEach((ln,tn)=>{0==tn&&"."===ln||(0==tn&&""===ln?B=!0:".."===ln?V++:""!=ln&&ge.push(ln))}),ge):[...ge,$e]},[]);return new Xn(B,V,Q)}(V);if($e.toRoot())return ei(ge,ge,new ce([],{}),B,Q);const _t=function Hi(I,V,B){if(I.isAbsolute)return new mi(V,!0,0);if(!B)return new mi(V,!1,NaN);if(null===B.parent)return new mi(B,!0,0);const Q=ci(I.commands[0])?0:1;return function ji(I,V,B){let Q=I,ge=V,$e=B;for(;$e>ge;){if($e-=ge,Q=Q.parent,!Q)throw new n.wOt(4005,!1);ge=Q.segments.length}return new mi(Q,!1,ge-$e)}(B,B.segments.length-1+Q,I.numberOfDoubleDots)}($e,ge,I),ln=_t.processChildren?At(_t.segmentGroup,_t.index,$e.commands):qe(_t.segmentGroup,_t.index,$e.commands);return ei(ge,_t.segmentGroup,ln,B,Q)}function ci(I){return"object"==typeof I&&null!=I&&!I.outlets&&!I.segmentPath}function pi(I){return"object"==typeof I&&null!=I&&I.outlets}function ei(I,V,B,Q,ge){let _t,$e={};Q&&Object.entries(Q).forEach(([tn,Ln])=>{$e[tn]=Array.isArray(Ln)?Ln.map(ki=>`${ki}`):`${Ln}`}),_t=I===V?B:Oi(I,V,B);const ln=$t(nn(_t));return new je(ln,$e,ge)}function Oi(I,V,B){const Q={};return Object.entries(I.children).forEach(([ge,$e])=>{Q[ge]=$e===V?B:Oi($e,V,B)}),new ce(I.segments,Q)}class Xn{constructor(V,B,Q){if(this.isAbsolute=V,this.numberOfDoubleDots=B,this.commands=Q,V&&Q.length>0&&ci(Q[0]))throw new n.wOt(4003,!1);const ge=Q.find(pi);if(ge&&ge!==we(Q))throw new n.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class mi{constructor(V,B,Q){this.segmentGroup=V,this.processChildren=B,this.index=Q}}function qe(I,V,B){if(I??=new ce([],{}),0===I.segments.length&&I.hasChildren())return At(I,V,B);const Q=function We(I,V,B){let Q=0,ge=V;const $e={match:!1,pathIndex:0,commandIndex:0};for(;ge<I.segments.length;){if(Q>=B.length)return $e;const _t=I.segments[ge],ln=B[Q];if(pi(ln))break;const tn=`${ln}`,Ln=Q<B.length-1?B[Q+1]:null;if(ge>0&&void 0===tn)break;if(tn&&Ln&&"object"==typeof Ln&&void 0===Ln.outlets){if(!Xe(tn,Ln,_t))return $e;Q+=2}else{if(!Xe(tn,{},_t))return $e;Q++}ge++}return{match:!0,pathIndex:ge,commandIndex:Q}}(I,V,B),ge=B.slice(Q.commandIndex);if(Q.match&&Q.pathIndex<I.segments.length){const $e=new ce(I.segments.slice(0,Q.pathIndex),{});return $e.children[Ye]=new ce(I.segments.slice(Q.pathIndex),I.children),At($e,0,ge)}return Q.match&&0===ge.length?new ce(I.segments,{}):Q.match&&!I.hasChildren()?zt(I,V,B):Q.match?At(I,0,ge):zt(I,V,B)}function At(I,V,B){if(0===B.length)return new ce(I.segments,{});{const Q=function Ei(I){return pi(I[0])?I[0].outlets:{[Ye]:I}}(B),ge={};if(Object.keys(Q).some($e=>$e!==Ye)&&I.children[Ye]&&1===I.numberOfChildren&&0===I.children[Ye].segments.length){const $e=At(I.children[Ye],V,B);return new ce(I.segments,$e.children)}return Object.entries(Q).forEach(([$e,_t])=>{"string"==typeof _t&&(_t=[_t]),null!==_t&&(ge[$e]=qe(I.children[$e],V,_t))}),Object.entries(I.children).forEach(([$e,_t])=>{void 0===Q[$e]&&(ge[$e]=_t)}),new ce(I.segments,ge)}}function zt(I,V,B){const Q=I.segments.slice(0,V);let ge=0;for(;ge<B.length;){const $e=B[ge];if(pi($e)){const tn=ct($e.outlets);return new ce(Q,tn)}if(0===ge&&ci(B[0])){Q.push(new X(I.segments[V].path,Yt(B[0]))),ge++;continue}const _t=pi($e)?$e.outlets[Ye]:`${$e}`,ln=ge<B.length-1?B[ge+1]:null;_t&&ln&&ci(ln)?(Q.push(new X(_t,Yt(ln))),ge+=2):(Q.push(new X(_t,{})),ge++)}return new ce(Q,{})}function ct(I){const V={};return Object.entries(I).forEach(([B,Q])=>{"string"==typeof Q&&(Q=[Q]),null!==Q&&(V[B]=zt(new ce([],{}),0,Q))}),V}function Yt(I){const V={};return Object.entries(I).forEach(([B,Q])=>V[B]=`${Q}`),V}function Xe(I,V,B){return I==B.path&&Y(V,B.parameters)}const Zt="imperative";var ut=function(I){return I[I.NavigationStart=0]="NavigationStart",I[I.NavigationEnd=1]="NavigationEnd",I[I.NavigationCancel=2]="NavigationCancel",I[I.NavigationError=3]="NavigationError",I[I.RoutesRecognized=4]="RoutesRecognized",I[I.ResolveStart=5]="ResolveStart",I[I.ResolveEnd=6]="ResolveEnd",I[I.GuardsCheckStart=7]="GuardsCheckStart",I[I.GuardsCheckEnd=8]="GuardsCheckEnd",I[I.RouteConfigLoadStart=9]="RouteConfigLoadStart",I[I.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",I[I.ChildActivationStart=11]="ChildActivationStart",I[I.ChildActivationEnd=12]="ChildActivationEnd",I[I.ActivationStart=13]="ActivationStart",I[I.ActivationEnd=14]="ActivationEnd",I[I.Scroll=15]="Scroll",I[I.NavigationSkipped=16]="NavigationSkipped",I}(ut||{});class _e{constructor(V,B){this.id=V,this.url=B}}class Ie extends _e{constructor(V,B,Q="imperative",ge=null){super(V,B),this.type=ut.NavigationStart,this.navigationTrigger=Q,this.restoredState=ge}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ye extends _e{constructor(V,B,Q){super(V,B),this.urlAfterRedirects=Q,this.type=ut.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var ft=function(I){return I[I.Redirect=0]="Redirect",I[I.SupersededByNewNavigation=1]="SupersededByNewNavigation",I[I.NoDataFromResolver=2]="NoDataFromResolver",I[I.GuardRejected=3]="GuardRejected",I}(ft||{}),ze=function(I){return I[I.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",I[I.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",I}(ze||{});class Tt extends _e{constructor(V,B,Q,ge){super(V,B),this.reason=Q,this.code=ge,this.type=ut.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class vt extends _e{constructor(V,B,Q,ge){super(V,B),this.reason=Q,this.code=ge,this.type=ut.NavigationSkipped}}class Xt extends _e{constructor(V,B,Q,ge){super(V,B),this.error=Q,this.target=ge,this.type=ut.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Vn extends _e{constructor(V,B,Q,ge){super(V,B),this.urlAfterRedirects=Q,this.state=ge,this.type=ut.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ri extends _e{constructor(V,B,Q,ge){super(V,B),this.urlAfterRedirects=Q,this.state=ge,this.type=ut.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vi extends _e{constructor(V,B,Q,ge,$e){super(V,B),this.urlAfterRedirects=Q,this.state=ge,this.shouldActivate=$e,this.type=ut.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ti extends _e{constructor(V,B,Q,ge){super(V,B),this.urlAfterRedirects=Q,this.state=ge,this.type=ut.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ui extends _e{constructor(V,B,Q,ge){super(V,B),this.urlAfterRedirects=Q,this.state=ge,this.type=ut.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hr{constructor(V){this.route=V,this.type=ut.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Hn{constructor(V){this.route=V,this.type=ut.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class si{constructor(V){this.snapshot=V,this.type=ut.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ar{constructor(V){this.snapshot=V,this.type=ut.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ai{constructor(V){this.snapshot=V,this.type=ut.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kr{constructor(V){this.snapshot=V,this.type=ut.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qs{constructor(V,B,Q){this.routerEvent=V,this.position=B,this.anchor=Q,this.type=ut.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ys{}class Bs{constructor(V){this.url=V}}class Gs{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new _s,this.attachRef=null}}let _s=(()=>{class I{constructor(){this.contexts=new Map}onChildOutletCreated(B,Q){const ge=this.getOrCreateContext(B);ge.outlet=Q,this.contexts.set(B,ge)}onChildOutletDestroyed(B){const Q=this.getContext(B);Q&&(Q.outlet=null,Q.attachRef=null)}onOutletDeactivated(){const B=this.contexts;return this.contexts=new Map,B}onOutletReAttached(B){this.contexts=B}getOrCreateContext(B){let Q=this.getContext(B);return Q||(Q=new Gs,this.contexts.set(B,Q)),Q}getContext(B){return this.contexts.get(B)||null}static{this.\u0275fac=function(Q){return new(Q||I)}}static{this.\u0275prov=n.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}}return I})();class Tr{constructor(V){this._root=V}get root(){return this._root.value}parent(V){const B=this.pathFromRoot(V);return B.length>1?B[B.length-2]:null}children(V){const B=Ls(V,this._root);return B?B.children.map(Q=>Q.value):[]}firstChild(V){const B=Ls(V,this._root);return B&&B.children.length>0?B.children[0].value:null}siblings(V){const B=_r(V,this._root);return B.length<2?[]:B[B.length-2].children.map(ge=>ge.value).filter(ge=>ge!==V)}pathFromRoot(V){return _r(V,this._root).map(B=>B.value)}}function Ls(I,V){if(I===V.value)return V;for(const B of V.children){const Q=Ls(I,B);if(Q)return Q}return null}function _r(I,V){if(I===V.value)return[V];for(const B of V.children){const Q=_r(I,B);if(Q.length)return Q.unshift(V),Q}return[]}class br{constructor(V,B){this.value=V,this.children=B}toString(){return`TreeNode(${this.value})`}}function Mi(I){const V={};return I&&I.children.forEach(B=>V[B.value.outlet]=B),V}class Zs extends Tr{constructor(V,B){super(V),this.snapshot=B,Dr(this,V)}toString(){return this.snapshot.toString()}}function li(I){const V=function ia(I){const $e=new mr([],{},{},"",{},Ye,I,null,{});return new Ir("",new br($e,[]))}(I),B=new w.t([new X("",{})]),Q=new w.t({}),ge=new w.t({}),$e=new w.t({}),_t=new w.t(""),ln=new $n(B,Q,$e,_t,ge,Ye,I,V.root);return ln.snapshot=V.root,new Zs(new br(ln,[]),V)}class $n{constructor(V,B,Q,ge,$e,_t,ln,tn){this.urlSubject=V,this.paramsSubject=B,this.queryParamsSubject=Q,this.fragmentSubject=ge,this.dataSubject=$e,this.outlet=_t,this.component=ln,this._futureSnapshot=tn,this.title=this.dataSubject?.pipe((0,$.T)(Ln=>Ln[qt]))??(0,p.of)(void 0),this.url=V,this.params=B,this.queryParams=Q,this.fragment=ge,this.data=$e}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,$.T)(V=>Dt(V))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,$.T)(V=>Dt(V))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function qr(I,V,B="emptyOnly"){let Q;const{routeConfig:ge}=I;return Q=null===V||"always"!==B&&""!==ge?.path&&(V.component||V.routeConfig?.loadComponent)?{params:{...I.params},data:{...I.data},resolve:{...I.data,...I._resolvedData??{}}}:{params:{...V.params,...I.params},data:{...V.data,...I.data},resolve:{...I.data,...V.data,...ge?.data,...I._resolvedData}},ge&&tr(ge)&&(Q.resolve[qt]=ge.title),Q}class mr{get title(){return this.data?.[qt]}constructor(V,B,Q,ge,$e,_t,ln,tn,Ln){this.url=V,this.params=B,this.queryParams=Q,this.fragment=ge,this.data=$e,this.outlet=_t,this.component=ln,this.routeConfig=tn,this._resolve=Ln}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Dt(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Dt(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(Q=>Q.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ir extends Tr{constructor(V,B){super(B),this.url=V,Dr(this,B)}toString(){return Nr(this._root)}}function Dr(I,V){V.value._routerState=I,V.children.forEach(B=>Dr(I,B))}function Nr(I){const V=I.children.length>0?` { ${I.children.map(Nr).join(", ")} } `:"";return`${I.value}${V}`}function $r(I){if(I.snapshot){const V=I.snapshot,B=I._futureSnapshot;I.snapshot=B,Y(V.queryParams,B.queryParams)||I.queryParamsSubject.next(B.queryParams),V.fragment!==B.fragment&&I.fragmentSubject.next(B.fragment),Y(V.params,B.params)||I.paramsSubject.next(B.params),function z(I,V){if(I.length!==V.length)return!1;for(let B=0;B<I.length;++B)if(!Y(I[B],V[B]))return!1;return!0}(V.url,B.url)||I.urlSubject.next(B.url),Y(V.data,B.data)||I.dataSubject.next(B.data)}else I.snapshot=I._futureSnapshot,I.dataSubject.next(I._futureSnapshot.data)}function er(I,V){const B=Y(I.params,V.params)&&function oe(I,V){return Ve(I,V)&&I.every((B,Q)=>Y(B.parameters,V[Q].parameters))}(I.url,V.url);return B&&!(!I.parent!=!V.parent)&&(!I.parent||er(I.parent,V.parent))}function tr(I){return"string"==typeof I.title||null===I.title}let Wn=(()=>{class I{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ye,this.activateEvents=new n.bkB,this.deactivateEvents=new n.bkB,this.attachEvents=new n.bkB,this.detachEvents=new n.bkB,this.parentContexts=(0,n.WQX)(_s),this.location=(0,n.WQX)(n.c1b),this.changeDetector=(0,n.WQX)(n.gRc),this.environmentInjector=(0,n.WQX)(n.uvJ),this.inputBinder=(0,n.WQX)(lr,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(B){if(B.name){const{firstChange:Q,previousValue:ge}=B.name;if(Q)return;this.isTrackedInParentContexts(ge)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(ge)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(B){return this.parentContexts.getContext(B)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const B=this.parentContexts.getContext(this.name);B?.route&&(B.attachRef?this.attach(B.attachRef,B.route):this.activateWith(B.route,B.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new n.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new n.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new n.wOt(4012,!1);this.location.detach();const B=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(B.instance),B}attach(B,Q){this.activated=B,this._activatedRoute=Q,this.location.insert(B.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(B.instance)}deactivate(){if(this.activated){const B=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(B)}}activateWith(B,Q){if(this.isActivated)throw new n.wOt(4013,!1);this._activatedRoute=B;const ge=this.location,_t=B.snapshot.component,ln=this.parentContexts.getOrCreateContext(this.name).children,tn=new Kr(B,ln,ge.injector);this.activated=ge.createComponent(_t,{index:ge.length,injector:tn,environmentInjector:Q??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(Q){return new(Q||I)}}static{this.\u0275dir=n.FsC({type:I,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[n.OA$]})}}return I})();class Kr{constructor(V,B,Q){this.route=V,this.childContexts=B,this.parent=Q,this.__ngOutletInjector=!0}get(V,B){return V===$n?this.route:V===_s?this.childContexts:this.parent.get(V,B)}}const lr=new n.nKC("");let Or=(()=>{class I{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(B){this.unsubscribeFromRouteData(B),this.subscribeToRouteData(B)}unsubscribeFromRouteData(B){this.outletDataSubscriptions.get(B)?.unsubscribe(),this.outletDataSubscriptions.delete(B)}subscribeToRouteData(B){const{activatedRoute:Q}=B,ge=(0,C.z)([Q.queryParams,Q.params,Q.data]).pipe((0,ie.n)(([$e,_t,ln],tn)=>(ln={...$e,..._t,...ln},0===tn?(0,p.of)(ln):Promise.resolve(ln)))).subscribe($e=>{if(!B.isActivated||!B.activatedComponentRef||B.activatedRoute!==Q||null===Q.component)return void this.unsubscribeFromRouteData(B);const _t=(0,n.HJs)(Q.component);if(_t)for(const{templateName:ln}of _t.inputs)B.activatedComponentRef.setInput(ln,$e[ln]);else this.unsubscribeFromRouteData(B)});this.outletDataSubscriptions.set(B,ge)}static{this.\u0275fac=function(Q){return new(Q||I)}}static{this.\u0275prov=n.jDH({token:I,factory:I.\u0275fac})}}return I})();function ro(I,V,B){if(B&&I.shouldReuseRoute(V.value,B.value.snapshot)){const Q=B.value;Q._futureSnapshot=V.value;const ge=function wo(I,V,B){return V.children.map(Q=>{for(const ge of B.children)if(I.shouldReuseRoute(Q.value,ge.value.snapshot))return ro(I,Q,ge);return ro(I,Q)})}(I,V,B);return new br(Q,ge)}{if(I.shouldAttach(V.value)){const $e=I.retrieve(V.value);if(null!==$e){const _t=$e.route;return _t.value._futureSnapshot=V.value,_t.children=V.children.map(ln=>ro(I,ln)),_t}}const Q=function Ds(I){return new $n(new w.t(I.url),new w.t(I.params),new w.t(I.queryParams),new w.t(I.fragment),new w.t(I.data),I.outlet,I.component,I)}(V.value),ge=V.children.map($e=>ro(I,$e));return new br(Q,ge)}}const Cr="ngNavigationCancelingError";function ls(I,V){const{redirectTo:B,navigationBehaviorOptions:Q}=gn(V)?{redirectTo:V,navigationBehaviorOptions:void 0}:V,ge=cs(!1,ft.Redirect);return ge.url=B,ge.navigationBehaviorOptions=Q,ge}function cs(I,V){const B=new Error(`NavigationCancelingError: ${I||""}`);return B[Cr]=!0,B.cancellationCode=V,B}function es(I){return!!I&&I[Cr]}let mo=(()=>{class I{static{this.\u0275fac=function(Q){return new(Q||I)}}static{this.\u0275cmp=n.VBU({type:I,selectors:[["ng-component"]],standalone:!0,features:[n.aNF],decls:1,vars:0,template:function(Q,ge){1&Q&&n.nrm(0,"router-outlet")},dependencies:[Wn],encapsulation:2})}}return I})();function rr(I){const V=I.children&&I.children.map(rr),B=V?{...I,children:V}:{...I};return!B.component&&!B.loadComponent&&(V||B.loadChildren)&&B.outlet&&B.outlet!==Ye&&(B.component=mo),B}function Fr(I){return I.outlet||Ye}function ao(I){if(!I)return null;if(I.routeConfig?._injector)return I.routeConfig._injector;for(let V=I.parent;V;V=V.parent){const B=V.routeConfig;if(B?._loadedInjector)return B._loadedInjector;if(B?._injector)return B._injector}return null}class oi{constructor(V,B,Q,ge,$e){this.routeReuseStrategy=V,this.futureState=B,this.currState=Q,this.forwardEvent=ge,this.inputBindingEnabled=$e}activate(V){const B=this.futureState._root,Q=this.currState?this.currState._root:null;this.deactivateChildRoutes(B,Q,V),$r(this.futureState.root),this.activateChildRoutes(B,Q,V)}deactivateChildRoutes(V,B,Q){const ge=Mi(B);V.children.forEach($e=>{const _t=$e.value.outlet;this.deactivateRoutes($e,ge[_t],Q),delete ge[_t]}),Object.values(ge).forEach($e=>{this.deactivateRouteAndItsChildren($e,Q)})}deactivateRoutes(V,B,Q){const ge=V.value,$e=B?B.value:null;if(ge===$e)if(ge.component){const _t=Q.getContext(ge.outlet);_t&&this.deactivateChildRoutes(V,B,_t.children)}else this.deactivateChildRoutes(V,B,Q);else $e&&this.deactivateRouteAndItsChildren(B,Q)}deactivateRouteAndItsChildren(V,B){V.value.component&&this.routeReuseStrategy.shouldDetach(V.value.snapshot)?this.detachAndStoreRouteSubtree(V,B):this.deactivateRouteAndOutlet(V,B)}detachAndStoreRouteSubtree(V,B){const Q=B.getContext(V.value.outlet),ge=Q&&V.value.component?Q.children:B,$e=Mi(V);for(const _t of Object.values($e))this.deactivateRouteAndItsChildren(_t,ge);if(Q&&Q.outlet){const _t=Q.outlet.detach(),ln=Q.children.onOutletDeactivated();this.routeReuseStrategy.store(V.value.snapshot,{componentRef:_t,route:V,contexts:ln})}}deactivateRouteAndOutlet(V,B){const Q=B.getContext(V.value.outlet),ge=Q&&V.value.component?Q.children:B,$e=Mi(V);for(const _t of Object.values($e))this.deactivateRouteAndItsChildren(_t,ge);Q&&(Q.outlet&&(Q.outlet.deactivate(),Q.children.onOutletDeactivated()),Q.attachRef=null,Q.route=null)}activateChildRoutes(V,B,Q){const ge=Mi(B);V.children.forEach($e=>{this.activateRoutes($e,ge[$e.value.outlet],Q),this.forwardEvent(new kr($e.value.snapshot))}),V.children.length&&this.forwardEvent(new ar(V.value.snapshot))}activateRoutes(V,B,Q){const ge=V.value,$e=B?B.value:null;if($r(ge),ge===$e)if(ge.component){const _t=Q.getOrCreateContext(ge.outlet);this.activateChildRoutes(V,B,_t.children)}else this.activateChildRoutes(V,B,Q);else if(ge.component){const _t=Q.getOrCreateContext(ge.outlet);if(this.routeReuseStrategy.shouldAttach(ge.snapshot)){const ln=this.routeReuseStrategy.retrieve(ge.snapshot);this.routeReuseStrategy.store(ge.snapshot,null),_t.children.onOutletReAttached(ln.contexts),_t.attachRef=ln.componentRef,_t.route=ln.route.value,_t.outlet&&_t.outlet.attach(ln.componentRef,ln.route.value),$r(ln.route.value),this.activateChildRoutes(V,null,_t.children)}else{const ln=ao(ge.snapshot);_t.attachRef=null,_t.route=ge,_t.injector=ln,_t.outlet&&_t.outlet.activateWith(ge,_t.injector),this.activateChildRoutes(V,null,_t.children)}}else this.activateChildRoutes(V,null,Q)}}class zr{constructor(V){this.path=V,this.route=this.path[this.path.length-1]}}class Hs{constructor(V,B){this.component=V,this.route=B}}function gr(I,V,B){const Q=I._root;return Gr(Q,V?V._root:null,B,[Q.value])}function Br(I,V){const B=Symbol(),Q=V.get(I,B);return Q===B?"function"!=typeof I||(0,n.LfX)(I)?V.get(I):I:Q}function Gr(I,V,B,Q,ge={canDeactivateChecks:[],canActivateChecks:[]}){const $e=Mi(V);return I.children.forEach(_t=>{(function Yr(I,V,B,Q,ge={canDeactivateChecks:[],canActivateChecks:[]}){const $e=I.value,_t=V?V.value:null,ln=B?B.getContext(I.value.outlet):null;if(_t&&$e.routeConfig===_t.routeConfig){const tn=function Cn(I,V,B){if("function"==typeof B)return B(I,V);switch(B){case"pathParamsChange":return!Ve(I.url,V.url);case"pathParamsOrQueryParamsChange":return!Ve(I.url,V.url)||!Y(I.queryParams,V.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!er(I,V)||!Y(I.queryParams,V.queryParams);default:return!er(I,V)}}(_t,$e,$e.routeConfig.runGuardsAndResolvers);tn?ge.canActivateChecks.push(new zr(Q)):($e.data=_t.data,$e._resolvedData=_t._resolvedData),Gr(I,V,$e.component?ln?ln.children:null:B,Q,ge),tn&&ln&&ln.outlet&&ln.outlet.isActivated&&ge.canDeactivateChecks.push(new Hs(ln.outlet.component,_t))}else _t&&bs(V,ln,ge),ge.canActivateChecks.push(new zr(Q)),Gr(I,null,$e.component?ln?ln.children:null:B,Q,ge)})(_t,$e[_t.value.outlet],B,Q.concat([_t.value]),ge),delete $e[_t.value.outlet]}),Object.entries($e).forEach(([_t,ln])=>bs(ln,B.getContext(_t),ge)),ge}function bs(I,V,B){const Q=Mi(I),ge=I.value;Object.entries(Q).forEach(([$e,_t])=>{bs(_t,ge.component?V?V.children.getContext($e):null:V,B)}),B.canDeactivateChecks.push(new Hs(ge.component&&V&&V.outlet&&V.outlet.isActivated?V.outlet.component:null,ge))}function ke(I){return"function"==typeof I}function ds(I){return I instanceof m.G||"EmptyError"===I?.name}const Cs=Symbol("INITIAL_VALUE");function ni(){return(0,ie.n)(I=>(0,C.z)(I.map(V=>V.pipe((0,se.s)(1),(0,L.Z)(Cs)))).pipe((0,$.T)(V=>{for(const B of V)if(!0!==B){if(B===Cs)return Cs;if(!1===B||B instanceof je)return B}return!0}),(0,J.p)(V=>V!==Cs),(0,se.s)(1)))}function Pn(I){return(0,T.F)((0,K.M)(V=>{if(gn(V))throw ls(0,V)}),(0,$.T)(V=>!0===V))}class Hr{constructor(V){this.segmentGroup=V||null}}class ui extends Error{constructor(V){super(),this.urlTree=V}}function hs(I){return(0,O.$)(new Hr(I))}class Pi{constructor(V,B){this.urlSerializer=V,this.urlTree=B}lineralizeSegments(V,B){let Q=[],ge=B.root;for(;;){if(Q=Q.concat(ge.segments),0===ge.numberOfChildren)return(0,p.of)(Q);if(ge.numberOfChildren>1||!ge.children[Ye])return(0,O.$)(new n.wOt(4e3,!1));ge=ge.children[Ye]}}applyRedirectCommands(V,B,Q){const ge=this.applyRedirectCreateUrlTree(B,this.urlSerializer.parse(B),V,Q);if(B.startsWith("/"))throw new ui(ge);return ge}applyRedirectCreateUrlTree(V,B,Q,ge){const $e=this.createSegmentGroup(V,B.root,Q,ge);return new je($e,this.createQueryParams(B.queryParams,this.urlTree.queryParams),B.fragment)}createQueryParams(V,B){const Q={};return Object.entries(V).forEach(([ge,$e])=>{if("string"==typeof $e&&$e.startsWith(":")){const ln=$e.substring(1);Q[ge]=B[ln]}else Q[ge]=$e}),Q}createSegmentGroup(V,B,Q,ge){const $e=this.createSegments(V,B.segments,Q,ge);let _t={};return Object.entries(B.children).forEach(([ln,tn])=>{_t[ln]=this.createSegmentGroup(V,tn,Q,ge)}),new ce($e,_t)}createSegments(V,B,Q,ge){return B.map($e=>$e.path.startsWith(":")?this.findPosParam(V,$e,ge):this.findOrReturn($e,Q))}findPosParam(V,B,Q){const ge=Q[B.path.substring(1)];if(!ge)throw new n.wOt(4001,!1);return ge}findOrReturn(V,B){let Q=0;for(const ge of B){if(ge.path===V.path)return B.splice(Q),ge;Q++}return V}}const Ki={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ns(I,V,B,Q,ge){const $e=Us(I,V,B);return $e.matched?(Q=function nr(I,V){return I.providers&&!I._injector&&(I._injector=(0,n.Ol2)(I.providers,V,`Route: ${I.path}`)),I._injector??V}(V,Q),function cr(I,V,B,Q){const ge=V.canMatch;if(!ge||0===ge.length)return(0,p.of)(!0);const $e=ge.map(_t=>{const ln=Br(_t,I);return at(function Si(I){return I&&ke(I.canMatch)}(ln)?ln.canMatch(V,B):(0,n.N4e)(I,()=>ln(V,B)))});return(0,p.of)($e).pipe(ni(),Pn())}(Q,V,B).pipe((0,$.T)(_t=>!0===_t?$e:{...Ki}))):(0,p.of)($e)}function Us(I,V,B){if("**"===V.path)return function vr(I){return{matched:!0,parameters:I.length>0?we(I).parameters:{},consumedSegments:I,remainingSegments:[],positionalParamSegments:{}}}(B);if(""===V.path)return"full"===V.pathMatch&&(I.hasChildren()||B.length>0)?{...Ki}:{matched:!0,consumedSegments:[],remainingSegments:B,parameters:{},positionalParamSegments:{}};const ge=(V.matcher||wt)(B,I,V);if(!ge)return{...Ki};const $e={};Object.entries(ge.posParams??{}).forEach(([ln,tn])=>{$e[ln]=tn.path});const _t=ge.consumed.length>0?{...$e,...ge.consumed[ge.consumed.length-1].parameters}:$e;return{matched:!0,consumedSegments:ge.consumed,remainingSegments:B.slice(ge.consumed.length),parameters:_t,positionalParamSegments:ge.posParams??{}}}function Mn(I,V,B,Q){return B.length>0&&function ml(I,V,B){return B.some(Q=>xo(I,V,Q)&&Fr(Q)!==Ye)}(I,B,Q)?{segmentGroup:new ce(V,Mo(Q,new ce(B,I.children))),slicedSegments:[]}:0===B.length&&function gl(I,V,B){return B.some(Q=>xo(I,V,Q))}(I,B,Q)?{segmentGroup:new ce(I.segments,xi(I,B,Q,I.children)),slicedSegments:B}:{segmentGroup:new ce(I.segments,I.children),slicedSegments:B}}function xi(I,V,B,Q){const ge={};for(const $e of B)if(xo(I,V,$e)&&!Q[Fr($e)]){const _t=new ce([],{});ge[Fr($e)]=_t}return{...Q,...ge}}function Mo(I,V){const B={};B[Ye]=V;for(const Q of I)if(""===Q.path&&Fr(Q)!==Ye){const ge=new ce([],{});B[Fr(Q)]=ge}return B}function xo(I,V,B){return(!(I.hasChildren()||V.length>0)||"full"!==B.pathMatch)&&""===B.path}class pa{}class Mr{constructor(V,B,Q,ge,$e,_t,ln){this.injector=V,this.configLoader=B,this.rootComponentType=Q,this.config=ge,this.urlTree=$e,this.paramsInheritanceStrategy=_t,this.urlSerializer=ln,this.applyRedirects=new Pi(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(V){return new n.wOt(4002,`'${V.segmentGroup}'`)}recognize(){const V=Mn(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(V).pipe((0,$.T)(B=>{const Q=new mr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ye,this.rootComponentType,null,{}),ge=new br(Q,B),$e=new Ir("",ge),_t=function Yn(I,V,B=null,Q=null){return mn(In(I),V,B,Q)}(Q,[],this.urlTree.queryParams,this.urlTree.fragment);return _t.queryParams=this.urlTree.queryParams,$e.url=this.urlSerializer.serialize(_t),this.inheritParamsAndData($e._root,null),{state:$e,tree:_t}}))}match(V){return this.processSegmentGroup(this.injector,this.config,V,Ye).pipe((0,me.W)(Q=>{if(Q instanceof ui)return this.urlTree=Q.urlTree,this.match(Q.urlTree.root);throw Q instanceof Hr?this.noMatchError(Q):Q}))}inheritParamsAndData(V,B){const Q=V.value,ge=qr(Q,B,this.paramsInheritanceStrategy);Q.params=Object.freeze(ge.params),Q.data=Object.freeze(ge.data),V.children.forEach($e=>this.inheritParamsAndData($e,Q))}processSegmentGroup(V,B,Q,ge){return 0===Q.segments.length&&Q.hasChildren()?this.processChildren(V,B,Q):this.processSegment(V,B,Q,Q.segments,ge,!0).pipe((0,$.T)($e=>$e instanceof br?[$e]:[]))}processChildren(V,B,Q){const ge=[];for(const $e of Object.keys(Q.children))"primary"===$e?ge.unshift($e):ge.push($e);return(0,y.H)(ge).pipe((0,re.H)($e=>{const _t=Q.children[$e],ln=function us(I,V){const B=I.filter(Q=>Fr(Q)===V);return B.push(...I.filter(Q=>Fr(Q)!==V)),B}(B,$e);return this.processSegmentGroup(V,ln,_t,$e)}),function De(I,V){return(0,k.N)((0,Ne.S)(I,V,arguments.length>=2,!0))}(($e,_t)=>($e.push(..._t),$e)),(0,xe.U)(null),function le(I,V){const B=arguments.length>=2;return Q=>Q.pipe(I?(0,J.p)((ge,$e)=>I(ge,$e,Q)):be.D,Qe(1),B?(0,xe.U)(V):(0,Se.v)(()=>new m.G))}(),(0,q.Z)($e=>{if(null===$e)return hs(Q);const _t=za($e);return function $o(I){I.sort((V,B)=>V.value.outlet===Ye?-1:B.value.outlet===Ye?1:V.value.outlet.localeCompare(B.value.outlet))}(_t),(0,p.of)(_t)}))}processSegment(V,B,Q,ge,$e,_t){return(0,y.H)(B).pipe((0,re.H)(ln=>this.processSegmentAgainstRoute(ln._injector??V,B,ln,Q,ge,$e,_t).pipe((0,me.W)(tn=>{if(tn instanceof Hr)return(0,p.of)(null);throw tn}))),(0,S.$)(ln=>!!ln),(0,me.W)(ln=>{if(ds(ln))return function Vs(I,V,B){return 0===V.length&&!I.children[B]}(Q,ge,$e)?(0,p.of)(new pa):hs(Q);throw ln}))}processSegmentAgainstRoute(V,B,Q,ge,$e,_t,ln){return function jo(I,V,B,Q){return!!(Fr(I)===Q||Q!==Ye&&xo(V,B,I))&&Us(V,I,B).matched}(Q,ge,$e,_t)?void 0===Q.redirectTo?this.matchSegmentAgainstRoute(V,ge,Q,$e,_t):this.allowRedirects&&ln?this.expandSegmentAgainstRouteUsingRedirect(V,ge,B,Q,$e,_t):hs(ge):hs(ge)}expandSegmentAgainstRouteUsingRedirect(V,B,Q,ge,$e,_t){const{matched:ln,consumedSegments:tn,positionalParamSegments:Ln,remainingSegments:ki}=Us(B,ge,$e);if(!ln)return hs(B);ge.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const Ni=this.applyRedirects.applyRedirectCommands(tn,ge.redirectTo,Ln);return this.applyRedirects.lineralizeSegments(ge,Ni).pipe((0,q.Z)(dr=>this.processSegment(V,Q,B,dr.concat(ki),_t,!1)))}matchSegmentAgainstRoute(V,B,Q,ge,$e){const _t=ns(B,Q,ge,V);return"**"===Q.path&&(B.children={}),_t.pipe((0,ie.n)(ln=>ln.matched?this.getChildConfig(V=Q._injector??V,Q,ge).pipe((0,ie.n)(({routes:tn})=>{const Ln=Q._loadedInjector??V,{consumedSegments:ki,remainingSegments:Ni,parameters:dr}=ln,Ks=new mr(ki,dr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function Go(I){return I.data||{}}(Q),Fr(Q),Q.component??Q._loadedComponent??null,Q,function ko(I){return I.resolve||{}}(Q)),{segmentGroup:Ns,slicedSegments:Na}=Mn(B,ki,Ni,tn);if(0===Na.length&&Ns.hasChildren())return this.processChildren(Ln,tn,Ns).pipe((0,$.T)(eo=>null===eo?null:new br(Ks,eo)));if(0===tn.length&&0===Na.length)return(0,p.of)(new br(Ks,[]));const Wl=Fr(Q)===$e;return this.processSegment(Ln,tn,Ns,Na,Wl?Ye:$e,!0).pipe((0,$.T)(eo=>new br(Ks,eo instanceof br?[eo]:[])))})):hs(B)))}getChildConfig(V,B,Q){return B.children?(0,p.of)({routes:B.children,injector:V}):B.loadChildren?void 0!==B._loadedRoutes?(0,p.of)({routes:B._loadedRoutes,injector:B._loadedInjector}):function _i(I,V,B,Q){const ge=V.canLoad;if(void 0===ge||0===ge.length)return(0,p.of)(!0);const $e=ge.map(_t=>{const ln=Br(_t,I);return at(function he(I){return I&&ke(I.canLoad)}(ln)?ln.canLoad(V,B):(0,n.N4e)(I,()=>ln(V,B)))});return(0,p.of)($e).pipe(ni(),Pn())}(V,B,Q).pipe((0,q.Z)(ge=>ge?this.configLoader.loadChildren(V,B).pipe((0,K.M)($e=>{B._loadedRoutes=$e.routes,B._loadedInjector=$e.injector})):function Ro(I){return(0,O.$)(cs(!1,ft.GuardRejected))}())):(0,p.of)({routes:[],injector:V})}}function gs(I){const V=I.value.routeConfig;return V&&""===V.path}function za(I){const V=[],B=new Set;for(const Q of I){if(!gs(Q)){V.push(Q);continue}const ge=V.find($e=>Q.value.routeConfig===$e.value.routeConfig);void 0!==ge?(ge.children.push(...Q.children),B.add(ge)):V.push(Q)}for(const Q of B){const ge=za(Q.children);V.push(new br(Q.value,ge))}return V.filter(Q=>!B.has(Q))}function Xa(I){const V=I.children.map(B=>Xa(B)).flat();return[I,...V]}function go(I){return(0,ie.n)(V=>{const B=I(V);return B?(0,y.H)(B).pipe((0,$.T)(()=>V)):(0,p.of)(V)})}let Ms=(()=>{class I{buildTitle(B){let Q,ge=B.root;for(;void 0!==ge;)Q=this.getResolvedTitleForRoute(ge)??Q,ge=ge.children.find($e=>$e.outlet===Ye);return Q}getResolvedTitleForRoute(B){return B.data[qt]}static{this.\u0275fac=function(Q){return new(Q||I)}}static{this.\u0275prov=n.jDH({token:I,factory:()=>(0,n.WQX)(qs),providedIn:"root"})}}return I})(),qs=(()=>{class I extends Ms{constructor(B){super(),this.title=B}updateTitle(B){const Q=this.buildTitle(B);void 0!==Q&&this.title.setTitle(Q)}static{this.\u0275fac=function(Q){return new(Q||I)(n.KVO(pt.hE))}}static{this.\u0275prov=n.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}}return I})();const Ho=new n.nKC("",{providedIn:"root",factory:()=>({})}),Eo=new n.nKC("");let Xr=(()=>{class I{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,n.WQX)(n.Ql9)}loadComponent(B){if(this.componentLoaders.get(B))return this.componentLoaders.get(B);if(B._loadedComponent)return(0,p.of)(B._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(B);const Q=at(B.loadComponent()).pipe((0,$.T)(ma),(0,K.M)($e=>{this.onLoadEndListener&&this.onLoadEndListener(B),B._loadedComponent=$e}),(0,Te.j)(()=>{this.componentLoaders.delete(B)})),ge=new R(Q,()=>new j.B).pipe(G());return this.componentLoaders.set(B,ge),ge}loadChildren(B,Q){if(this.childrenLoaders.get(Q))return this.childrenLoaders.get(Q);if(Q._loadedRoutes)return(0,p.of)({routes:Q._loadedRoutes,injector:Q._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(Q);const $e=function vs(I,V,B,Q){return at(I.loadChildren()).pipe((0,$.T)(ma),(0,q.Z)(ge=>ge instanceof n.Co$||Array.isArray(ge)?(0,p.of)(ge):(0,y.H)(V.compileModuleAsync(ge))),(0,$.T)(ge=>{Q&&Q(I);let $e,_t,ln=!1;return Array.isArray(ge)?(_t=ge,!0):($e=ge.create(B).injector,_t=$e.get(Eo,[],{optional:!0,self:!0}).flat()),{routes:_t.map(rr),injector:$e}}))}(Q,this.compiler,B,this.onLoadEndListener).pipe((0,Te.j)(()=>{this.childrenLoaders.delete(Q)})),_t=new R($e,()=>new j.B).pipe(G());return this.childrenLoaders.set(Q,_t),_t}static{this.\u0275fac=function(Q){return new(Q||I)}}static{this.\u0275prov=n.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}}return I})();function ma(I){return function Qa(I){return I&&"object"==typeof I&&"default"in I}(I)?I.default:I}let lo=(()=>{class I{static{this.\u0275fac=function(Q){return new(Q||I)}}static{this.\u0275prov=n.jDH({token:I,factory:()=>(0,n.WQX)(xs),providedIn:"root"})}}return I})(),xs=(()=>{class I{shouldProcessUrl(B){return!0}extract(B){return B}merge(B,Q){return B}static{this.\u0275fac=function(Q){return new(Q||I)}}static{this.\u0275prov=n.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}}return I})();const Fi=new n.nKC(""),Es=new n.nKC("");function ee(I,V,B){const Q=I.get(Es),ge=I.get(U.qQ);return I.get(n.SKi).runOutsideAngular(()=>{if(!ge.startViewTransition||Q.skipNextTransition)return Q.skipNextTransition=!1,Promise.resolve();let $e;const _t=new Promise(Ln=>{$e=Ln}),ln=ge.startViewTransition(()=>($e(),function Ke(I){return new Promise(V=>{(0,n.mal)(V,{injector:I})})}(I))),{onViewTransitionCreated:tn}=Q;return tn&&(0,n.N4e)(I,()=>tn({transition:ln,from:V,to:B})),_t})}let de=(()=>{class I{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new j.B,this.transitionAbortSubject=new j.B,this.configLoader=(0,n.WQX)(Xr),this.environmentInjector=(0,n.WQX)(n.uvJ),this.urlSerializer=(0,n.WQX)(gt),this.rootContexts=(0,n.WQX)(_s),this.location=(0,n.WQX)(U.aZ),this.inputBindingEnabled=null!==(0,n.WQX)(lr,{optional:!0}),this.titleStrategy=(0,n.WQX)(Ms),this.options=(0,n.WQX)(Ho,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,n.WQX)(lo),this.createViewTransition=(0,n.WQX)(Fi,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,p.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=ge=>this.events.next(new Hn(ge)),this.configLoader.onLoadStartListener=ge=>this.events.next(new hr(ge))}complete(){this.transitions?.complete()}handleNavigationRequest(B){const Q=++this.navigationId;this.transitions?.next({...this.transitions.value,...B,id:Q})}setupNavigations(B,Q,ge){return this.transitions=new w.t({id:0,currentUrlTree:Q,currentRawUrl:Q,extractedUrl:this.urlHandlingStrategy.extract(Q),urlAfterRedirects:this.urlHandlingStrategy.extract(Q),rawUrl:Q,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Zt,restoredState:null,currentSnapshot:ge.snapshot,targetSnapshot:null,currentRouterState:ge,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,J.p)($e=>0!==$e.id),(0,$.T)($e=>({...$e,extractedUrl:this.urlHandlingStrategy.extract($e.rawUrl)})),(0,ie.n)($e=>{let _t=!1,ln=!1;return(0,p.of)($e).pipe((0,ie.n)(tn=>{if(this.navigationId>$e.id)return this.cancelNavigationTransition($e,"",ft.SupersededByNewNavigation),F.w;this.currentTransition=$e,this.currentNavigation={id:tn.id,initialUrl:tn.rawUrl,extractedUrl:tn.extractedUrl,trigger:tn.source,extras:tn.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const Ln=!B.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!Ln&&"reload"!==(tn.extras.onSameUrlNavigation??B.onSameUrlNavigation)){const Ni="";return this.events.next(new vt(tn.id,this.urlSerializer.serialize(tn.rawUrl),Ni,ze.IgnoredSameUrlNavigation)),tn.resolve(null),F.w}if(this.urlHandlingStrategy.shouldProcessUrl(tn.rawUrl))return(0,p.of)(tn).pipe((0,ie.n)(Ni=>{const dr=this.transitions?.getValue();return this.events.next(new Ie(Ni.id,this.urlSerializer.serialize(Ni.extractedUrl),Ni.source,Ni.restoredState)),dr!==this.transitions?.getValue()?F.w:Promise.resolve(Ni)}),function Ya(I,V,B,Q,ge,$e){return(0,q.Z)(_t=>function wr(I,V,B,Q,ge,$e,_t="emptyOnly"){return new Mr(I,V,B,Q,ge,_t,$e).recognize()}(I,V,B,Q,_t.extractedUrl,ge,$e).pipe((0,$.T)(({state:ln,tree:tn})=>({..._t,targetSnapshot:ln,urlAfterRedirects:tn}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,B.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,K.M)(Ni=>{$e.targetSnapshot=Ni.targetSnapshot,$e.urlAfterRedirects=Ni.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Ni.urlAfterRedirects};const dr=new Vn(Ni.id,this.urlSerializer.serialize(Ni.extractedUrl),this.urlSerializer.serialize(Ni.urlAfterRedirects),Ni.targetSnapshot);this.events.next(dr)}));if(Ln&&this.urlHandlingStrategy.shouldProcessUrl(tn.currentRawUrl)){const{id:Ni,extractedUrl:dr,source:Ks,restoredState:Ns,extras:Na}=tn,Wl=new Ie(Ni,this.urlSerializer.serialize(dr),Ks,Ns);this.events.next(Wl);const eo=li(this.rootComponentType).snapshot;return this.currentTransition=$e={...tn,targetSnapshot:eo,urlAfterRedirects:dr,extras:{...Na,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=dr,(0,p.of)($e)}{const Ni="";return this.events.next(new vt(tn.id,this.urlSerializer.serialize(tn.extractedUrl),Ni,ze.IgnoredByUrlHandlingStrategy)),tn.resolve(null),F.w}}),(0,K.M)(tn=>{const Ln=new ri(tn.id,this.urlSerializer.serialize(tn.extractedUrl),this.urlSerializer.serialize(tn.urlAfterRedirects),tn.targetSnapshot);this.events.next(Ln)}),(0,$.T)(tn=>(this.currentTransition=$e={...tn,guards:gr(tn.targetSnapshot,tn.currentSnapshot,this.rootContexts)},$e)),function Re(I,V){return(0,q.Z)(B=>{const{targetSnapshot:Q,currentSnapshot:ge,guards:{canActivateChecks:$e,canDeactivateChecks:_t}}=B;return 0===_t.length&&0===$e.length?(0,p.of)({...B,guardsResult:!0}):function Je(I,V,B,Q){return(0,y.H)(I).pipe((0,q.Z)(ge=>function Nn(I,V,B,Q,ge){const $e=V&&V.routeConfig?V.routeConfig.canDeactivate:null;if(!$e||0===$e.length)return(0,p.of)(!0);const _t=$e.map(ln=>{const tn=ao(V)??ge,Ln=Br(ln,tn);return at(function Kn(I){return I&&ke(I.canDeactivate)}(Ln)?Ln.canDeactivate(I,V,B,Q):(0,n.N4e)(tn,()=>Ln(I,V,B,Q))).pipe((0,S.$)())});return(0,p.of)(_t).pipe(ni())}(ge.component,ge.route,B,V,Q)),(0,S.$)(ge=>!0!==ge,!0))}(_t,Q,ge,I).pipe((0,q.Z)(ln=>ln&&function Ue(I){return"boolean"==typeof I}(ln)?function Et(I,V,B,Q){return(0,y.H)(V).pipe((0,re.H)(ge=>(0,u.x)(function Vt(I,V){return null!==I&&V&&V(new si(I)),(0,p.of)(!0)}(ge.route.parent,Q),function kt(I,V){return null!==I&&V&&V(new Ai(I)),(0,p.of)(!0)}(ge.route,Q),function on(I,V,B){const Q=V[V.length-1],$e=V.slice(0,V.length-1).reverse().map(_t=>function Ws(I){const V=I.routeConfig?I.routeConfig.canActivateChild:null;return V&&0!==V.length?{node:I,guards:V}:null}(_t)).filter(_t=>null!==_t).map(_t=>(0,f.v)(()=>{const ln=_t.guards.map(tn=>{const Ln=ao(_t.node)??B,ki=Br(tn,Ln);return at(function Lt(I){return I&&ke(I.canActivateChild)}(ki)?ki.canActivateChild(Q,I):(0,n.N4e)(Ln,()=>ki(Q,I))).pipe((0,S.$)())});return(0,p.of)(ln).pipe(ni())}));return(0,p.of)($e).pipe(ni())}(I,ge.path,B),function St(I,V,B){const Q=V.routeConfig?V.routeConfig.canActivate:null;if(!Q||0===Q.length)return(0,p.of)(!0);const ge=Q.map($e=>(0,f.v)(()=>{const _t=ao(V)??B,ln=Br($e,_t);return at(function Ze(I){return I&&ke(I.canActivate)}(ln)?ln.canActivate(V,I):(0,n.N4e)(_t,()=>ln(V,I))).pipe((0,S.$)())}));return(0,p.of)(ge).pipe(ni())}(I,ge.route,B))),(0,S.$)(ge=>!0!==ge,!0))}(Q,$e,I,V):(0,p.of)(ln)),(0,$.T)(ln=>({...B,guardsResult:ln})))})}(this.environmentInjector,tn=>this.events.next(tn)),(0,K.M)(tn=>{if($e.guardsResult=tn.guardsResult,gn(tn.guardsResult))throw ls(0,tn.guardsResult);const Ln=new vi(tn.id,this.urlSerializer.serialize(tn.extractedUrl),this.urlSerializer.serialize(tn.urlAfterRedirects),tn.targetSnapshot,!!tn.guardsResult);this.events.next(Ln)}),(0,J.p)(tn=>!!tn.guardsResult||(this.cancelNavigationTransition(tn,"",ft.GuardRejected),!1)),go(tn=>{if(tn.guards.canActivateChecks.length)return(0,p.of)(tn).pipe((0,K.M)(Ln=>{const ki=new ti(Ln.id,this.urlSerializer.serialize(Ln.extractedUrl),this.urlSerializer.serialize(Ln.urlAfterRedirects),Ln.targetSnapshot);this.events.next(ki)}),(0,ie.n)(Ln=>{let ki=!1;return(0,p.of)(Ln).pipe(function Ma(I,V){return(0,q.Z)(B=>{const{targetSnapshot:Q,guards:{canActivateChecks:ge}}=B;if(!ge.length)return(0,p.of)(B);const $e=new Set(ge.map(tn=>tn.route)),_t=new Set;for(const tn of $e)if(!_t.has(tn))for(const Ln of Xa(tn))_t.add(Ln);let ln=0;return(0,y.H)(_t).pipe((0,re.H)(tn=>$e.has(tn)?function Ja(I,V,B,Q){const ge=I.routeConfig,$e=I._resolve;return void 0!==ge?.title&&!tr(ge)&&($e[qt]=ge.title),function ws(I,V,B,Q){const ge=Z(I);if(0===ge.length)return(0,p.of)({});const $e={};return(0,y.H)(ge).pipe((0,q.Z)(_t=>function Ar(I,V,B,Q){const ge=ao(V)??Q,$e=Br(I,ge);return at($e.resolve?$e.resolve(V,B):(0,n.N4e)(ge,()=>$e(V,B)))}(I[_t],V,B,Q).pipe((0,S.$)(),(0,K.M)(ln=>{$e[_t]=ln}))),Qe(1),(0,Fe.u)($e),(0,me.W)(_t=>ds(_t)?F.w:(0,O.$)(_t)))}($e,I,V,Q).pipe((0,$.T)(_t=>(I._resolvedData=_t,I.data=qr(I,I.parent,B).resolve,null)))}(tn,Q,I,V):(tn.data=qr(tn,tn.parent,I).resolve,(0,p.of)(void 0))),(0,K.M)(()=>ln++),Qe(1),(0,q.Z)(tn=>ln===_t.size?(0,p.of)(B):F.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,K.M)({next:()=>ki=!0,complete:()=>{ki||this.cancelNavigationTransition(Ln,"",ft.NoDataFromResolver)}}))}),(0,K.M)(Ln=>{const ki=new Ui(Ln.id,this.urlSerializer.serialize(Ln.extractedUrl),this.urlSerializer.serialize(Ln.urlAfterRedirects),Ln.targetSnapshot);this.events.next(ki)}))}),go(tn=>{const Ln=ki=>{const Ni=[];ki.routeConfig?.loadComponent&&!ki.routeConfig._loadedComponent&&Ni.push(this.configLoader.loadComponent(ki.routeConfig).pipe((0,K.M)(dr=>{ki.component=dr}),(0,$.T)(()=>{})));for(const dr of ki.children)Ni.push(...Ln(dr));return Ni};return(0,C.z)(Ln(tn.targetSnapshot.root)).pipe((0,xe.U)(null),(0,se.s)(1))}),go(()=>this.afterPreactivation()),(0,ie.n)(()=>{const{currentSnapshot:tn,targetSnapshot:Ln}=$e,ki=this.createViewTransition?.(this.environmentInjector,tn.root,Ln.root);return ki?(0,y.H)(ki).pipe((0,$.T)(()=>$e)):(0,p.of)($e)}),(0,$.T)(tn=>{const Ln=function as(I,V,B){const Q=ro(I,V._root,B?B._root:void 0);return new Zs(Q,V)}(B.routeReuseStrategy,tn.targetSnapshot,tn.currentRouterState);return this.currentTransition=$e={...tn,targetRouterState:Ln},this.currentNavigation.targetRouterState=Ln,$e}),(0,K.M)(()=>{this.events.next(new ys)}),((I,V,B,Q)=>(0,$.T)(ge=>(new oi(V,ge.targetRouterState,ge.currentRouterState,B,Q).activate(I),ge)))(this.rootContexts,B.routeReuseStrategy,tn=>this.events.next(tn),this.inputBindingEnabled),(0,se.s)(1),(0,K.M)({next:tn=>{_t=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ye(tn.id,this.urlSerializer.serialize(tn.extractedUrl),this.urlSerializer.serialize(tn.urlAfterRedirects))),this.titleStrategy?.updateTitle(tn.targetRouterState.snapshot),tn.resolve(!0)},complete:()=>{_t=!0}}),(0,st.Q)(this.transitionAbortSubject.pipe((0,K.M)(tn=>{throw tn}))),(0,Te.j)(()=>{!_t&&!ln&&this.cancelNavigationTransition($e,"",ft.SupersededByNewNavigation),this.currentTransition?.id===$e.id&&(this.currentNavigation=null,this.currentTransition=null)}),(0,me.W)(tn=>{if(ln=!0,es(tn))this.events.next(new Tt($e.id,this.urlSerializer.serialize($e.extractedUrl),tn.message,tn.cancellationCode)),function Aa(I){return es(I)&&gn(I.url)}(tn)?this.events.next(new Bs(tn.url)):$e.resolve(!1);else{this.events.next(new Xt($e.id,this.urlSerializer.serialize($e.extractedUrl),tn,$e.targetSnapshot??void 0));try{$e.resolve(B.errorHandler(tn))}catch(Ln){this.options.resolveNavigationPromiseOnError?$e.resolve(!1):$e.reject(Ln)}}return F.w}))}))}cancelNavigationTransition(B,Q,ge){const $e=new Tt(B.id,this.urlSerializer.serialize(B.extractedUrl),Q,ge);this.events.next($e),B.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(Q){return new(Q||I)}}static{this.\u0275prov=n.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}}return I})();function Pe(I){return I!==Zt}let Rt=(()=>{class I{static{this.\u0275fac=function(Q){return new(Q||I)}}static{this.\u0275prov=n.jDH({token:I,factory:()=>(0,n.WQX)(wn),providedIn:"root"})}}return I})();class pn{shouldDetach(V){return!1}store(V,B){}shouldAttach(V){return!1}retrieve(V){return null}shouldReuseRoute(V,B){return V.routeConfig===B.routeConfig}}let wn=(()=>{class I extends pn{static{this.\u0275fac=(()=>{let B;return function(ge){return(B||(B=n.xGo(I)))(ge||I)}})()}static{this.\u0275prov=n.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}}return I})(),Zn=(()=>{class I{static{this.\u0275fac=function(Q){return new(Q||I)}}static{this.\u0275prov=n.jDH({token:I,factory:()=>(0,n.WQX)(fr),providedIn:"root"})}}return I})(),fr=(()=>{class I extends Zn{constructor(){super(...arguments),this.location=(0,n.WQX)(U.aZ),this.urlSerializer=(0,n.WQX)(gt),this.options=(0,n.WQX)(Ho,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,n.WQX)(lo),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new je,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=li(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(B){return this.location.subscribe(Q=>{"popstate"===Q.type&&B(Q.url,Q.state)})}handleRouterEvent(B,Q){if(B instanceof Ie)this.stateMemento=this.createStateMemento();else if(B instanceof vt)this.rawUrlTree=Q.initialUrl;else if(B instanceof Vn){if("eager"===this.urlUpdateStrategy&&!Q.extras.skipLocationChange){const ge=this.urlHandlingStrategy.merge(Q.finalUrl,Q.initialUrl);this.setBrowserUrl(ge,Q)}}else B instanceof ys?(this.currentUrlTree=Q.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(Q.finalUrl,Q.initialUrl),this.routerState=Q.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Q.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Q))):B instanceof Tt&&(B.code===ft.GuardRejected||B.code===ft.NoDataFromResolver)?this.restoreHistory(Q):B instanceof Xt?this.restoreHistory(Q,!0):B instanceof ye&&(this.lastSuccessfulId=B.id,this.currentPageId=this.browserPageId)}setBrowserUrl(B,Q){const ge=this.urlSerializer.serialize(B);if(this.location.isCurrentPathEqualTo(ge)||Q.extras.replaceUrl){const _t={...Q.extras.state,...this.generateNgRouterState(Q.id,this.browserPageId)};this.location.replaceState(ge,"",_t)}else{const $e={...Q.extras.state,...this.generateNgRouterState(Q.id,this.browserPageId+1)};this.location.go(ge,"",$e)}}restoreHistory(B,Q=!1){if("computed"===this.canceledNavigationResolution){const $e=this.currentPageId-this.browserPageId;0!==$e?this.location.historyGo($e):this.currentUrlTree===B.finalUrl&&0===$e&&(this.resetState(B),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(Q&&this.resetState(B),this.resetUrlToCurrentUrlTree())}resetState(B){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,B.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(B,Q){return"computed"===this.canceledNavigationResolution?{navigationId:B,\u0275routerPageId:Q}:{navigationId:B}}static{this.\u0275fac=(()=>{let B;return function(ge){return(B||(B=n.xGo(I)))(ge||I)}})()}static{this.\u0275prov=n.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}}return I})();var sr=function(I){return I[I.COMPLETE=0]="COMPLETE",I[I.FAILED=1]="FAILED",I[I.REDIRECTING=2]="REDIRECTING",I}(sr||{});function Ji(I,V){I.events.pipe((0,J.p)(B=>B instanceof ye||B instanceof Tt||B instanceof Xt||B instanceof vt),(0,$.T)(B=>B instanceof ye||B instanceof vt?sr.COMPLETE:B instanceof Tt&&(B.code===ft.Redirect||B.code===ft.SupersededByNewNavigation)?sr.REDIRECTING:sr.FAILED),(0,J.p)(B=>B!==sr.REDIRECTING),(0,se.s)(1)).subscribe(()=>{V()})}function Vi(I){throw I}const ii={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Qi={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ur=(()=>{class I{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=(0,n.WQX)(n.H3F),this.stateManager=(0,n.WQX)(Zn),this.options=(0,n.WQX)(Ho,{optional:!0})||{},this.pendingTasks=(0,n.WQX)(n.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,n.WQX)(de),this.urlSerializer=(0,n.WQX)(gt),this.location=(0,n.WQX)(U.aZ),this.urlHandlingStrategy=(0,n.WQX)(lo),this._events=new j.B,this.errorHandler=this.options.errorHandler||Vi,this.navigated=!1,this.routeReuseStrategy=(0,n.WQX)(Rt),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,n.WQX)(Eo,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,n.WQX)(lr,{optional:!0}),this.eventsSubscription=new M.yU,this.isNgZoneEnabled=(0,n.WQX)(n.SKi)instanceof n.SKi&&n.SKi.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:B=>{this.console.warn(B)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const B=this.navigationTransitions.events.subscribe(Q=>{try{const ge=this.navigationTransitions.currentTransition,$e=this.navigationTransitions.currentNavigation;if(null!==ge&&null!==$e)if(this.stateManager.handleRouterEvent(Q,$e),Q instanceof Tt&&Q.code!==ft.Redirect&&Q.code!==ft.SupersededByNewNavigation)this.navigated=!0;else if(Q instanceof ye)this.navigated=!0;else if(Q instanceof Bs){const _t=this.urlHandlingStrategy.merge(Q.url,ge.currentRawUrl),ln={info:ge.extras.info,skipLocationChange:ge.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Pe(ge.source)};this.scheduleNavigation(_t,Zt,null,ln,{resolve:ge.resolve,reject:ge.reject,promise:ge.promise})}(function P(I){return!(I instanceof ys||I instanceof Bs)})(Q)&&this._events.next(Q)}catch(ge){this.navigationTransitions.transitionAbortSubject.next(ge)}});this.eventsSubscription.add(B)}resetRootComponentType(B){this.routerState.root.component=B,this.navigationTransitions.rootComponentType=B}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Zt,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((B,Q)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(B,"popstate",Q)},0)})}navigateToSyncWithBrowser(B,Q,ge){const $e={replaceUrl:!0},_t=ge?.navigationId?ge:null;if(ge){const tn={...ge};delete tn.navigationId,delete tn.\u0275routerPageId,0!==Object.keys(tn).length&&($e.state=tn)}const ln=this.parseUrl(B);this.scheduleNavigation(ln,Q,_t,$e)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(B){this.config=B.map(rr),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(B,Q={}){const{relativeTo:ge,queryParams:$e,fragment:_t,queryParamsHandling:ln,preserveFragment:tn}=Q,Ln=tn?this.currentUrlTree.fragment:_t;let Ni,ki=null;switch(ln){case"merge":ki={...this.currentUrlTree.queryParams,...$e};break;case"preserve":ki=this.currentUrlTree.queryParams;break;default:ki=$e||null}null!==ki&&(ki=this.removeEmptyProps(ki));try{Ni=In(ge?ge.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof B[0]||!B[0].startsWith("/"))&&(B=[]),Ni=this.currentUrlTree.root}return mn(Ni,B,ki,Ln??null)}navigateByUrl(B,Q={skipLocationChange:!1}){const ge=gn(B)?B:this.parseUrl(B),$e=this.urlHandlingStrategy.merge(ge,this.rawUrlTree);return this.scheduleNavigation($e,Zt,null,Q)}navigate(B,Q={skipLocationChange:!1}){return function pe(I){for(let V=0;V<I.length;V++)if(null==I[V])throw new n.wOt(4008,!1)}(B),this.navigateByUrl(this.createUrlTree(B,Q),Q)}serializeUrl(B){return this.urlSerializer.serialize(B)}parseUrl(B){try{return this.urlSerializer.parse(B)}catch{return this.urlSerializer.parse("/")}}isActive(B,Q){let ge;if(ge=!0===Q?{...ii}:!1===Q?{...Qi}:Q,gn(B))return Pt(this.currentUrlTree,B,ge);const $e=this.parseUrl(B);return Pt(this.currentUrlTree,$e,ge)}removeEmptyProps(B){return Object.entries(B).reduce((Q,[ge,$e])=>(null!=$e&&(Q[ge]=$e),Q),{})}scheduleNavigation(B,Q,ge,$e,_t){if(this.disposed)return Promise.resolve(!1);let ln,tn,Ln;_t?(ln=_t.resolve,tn=_t.reject,Ln=_t.promise):Ln=new Promise((Ni,dr)=>{ln=Ni,tn=dr});const ki=this.pendingTasks.add();return Ji(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(ki))}),this.navigationTransitions.handleNavigationRequest({source:Q,restoredState:ge,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:B,extras:$e,resolve:ln,reject:tn,promise:Ln,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ln.catch(Ni=>Promise.reject(Ni))}static{this.\u0275fac=function(Q){return new(Q||I)}}static{this.\u0275prov=n.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}}return I})(),ue=(()=>{class I{constructor(B,Q,ge,$e,_t,ln){this.router=B,this.route=Q,this.tabIndexAttribute=ge,this.renderer=$e,this.el=_t,this.locationStrategy=ln,this.href=null,this.commands=null,this.onChanges=new j.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const tn=_t.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===tn||"area"===tn,this.isAnchorElement?this.subscription=B.events.subscribe(Ln=>{Ln instanceof ye&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(B){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",B)}ngOnChanges(B){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(B){null!=B?(this.commands=Array.isArray(B)?B:[B],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(B,Q,ge,$e,_t){const ln=this.urlTree;return!!(null===ln||this.isAnchorElement&&(0!==B||Q||ge||$e||_t||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(ln,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const B=this.urlTree;this.href=null!==B&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(B)):null;const Q=null===this.href?null:(0,n.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",Q)}applyAttributeValue(B,Q){const ge=this.renderer,$e=this.el.nativeElement;null!==Q?ge.setAttribute($e,B,Q):ge.removeAttribute($e,B)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(Q){return new(Q||I)(n.rXU(ur),n.rXU($n),n.kS0("tabindex"),n.rXU(n.sFG),n.rXU(n.aKT),n.rXU(U.hb))}}static{this.\u0275dir=n.FsC({type:I,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(Q,ge){1&Q&&n.bIt("click",function(_t){return ge.onClick(_t.button,_t.ctrlKey,_t.shiftKey,_t.altKey,_t.metaKey)}),2&Q&&n.BMQ("target",ge.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[n.Mj6.HasDecoratorInputTransform,"preserveFragment","preserveFragment",n.L39],skipLocationChange:[n.Mj6.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",n.L39],replaceUrl:[n.Mj6.HasDecoratorInputTransform,"replaceUrl","replaceUrl",n.L39],routerLink:"routerLink"},standalone:!0,features:[n.GFd,n.OA$]})}}return I})(),Me=(()=>{class I{get isActive(){return this._isActive}constructor(B,Q,ge,$e,_t){this.router=B,this.element=Q,this.renderer=ge,this.cdr=$e,this.link=_t,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new n.bkB,this.routerEventsSubscription=B.events.subscribe(ln=>{ln instanceof ye&&this.update()})}ngAfterContentInit(){(0,p.of)(this.links.changes,(0,p.of)(null)).pipe((0,Oe.U)()).subscribe(B=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const B=[...this.links.toArray(),this.link].filter(Q=>!!Q).map(Q=>Q.onChanges);this.linkInputChangesSubscription=(0,y.H)(B).pipe((0,Oe.U)()).subscribe(Q=>{this._isActive!==this.isLinkActive(this.router)(Q)&&this.update()})}set routerLinkActive(B){const Q=Array.isArray(B)?B:B.split(" ");this.classes=Q.filter(ge=>!!ge)}ngOnChanges(B){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const B=this.hasActiveLinks();this.classes.forEach(Q=>{B?this.renderer.addClass(this.element.nativeElement,Q):this.renderer.removeClass(this.element.nativeElement,Q)}),B&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==B&&(this._isActive=B,this.cdr.markForCheck(),this.isActiveChange.emit(B))})}isLinkActive(B){const Q=function rt(I){return!!I.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return ge=>{const $e=ge.urlTree;return!!$e&&B.isActive($e,Q)}}hasActiveLinks(){const B=this.isLinkActive(this.router);return this.link&&B(this.link)||this.links.some(B)}static{this.\u0275fac=function(Q){return new(Q||I)(n.rXU(ur),n.rXU(n.aKT),n.rXU(n.sFG),n.rXU(n.gRc),n.rXU(ue,8))}}static{this.\u0275dir=n.FsC({type:I,selectors:[["","routerLinkActive",""]],contentQueries:function(Q,ge,$e){if(1&Q&&n.wni($e,ue,5),2&Q){let _t;n.mGM(_t=n.lsd())&&(ge.links=_t)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[n.OA$]})}}return I})();class Nt{}let an=(()=>{class I{constructor(B,Q,ge,$e,_t){this.router=B,this.injector=ge,this.preloadingStrategy=$e,this.loader=_t}setUpPreloading(){this.subscription=this.router.events.pipe((0,J.p)(B=>B instanceof ye),(0,re.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(B,Q){const ge=[];for(const $e of Q){$e.providers&&!$e._injector&&($e._injector=(0,n.Ol2)($e.providers,B,`Route: ${$e.path}`));const _t=$e._injector??B,ln=$e._loadedInjector??_t;($e.loadChildren&&!$e._loadedRoutes&&void 0===$e.canLoad||$e.loadComponent&&!$e._loadedComponent)&&ge.push(this.preloadConfig(_t,$e)),($e.children||$e._loadedRoutes)&&ge.push(this.processRoutes(ln,$e.children??$e._loadedRoutes))}return(0,y.H)(ge).pipe((0,Oe.U)())}preloadConfig(B,Q){return this.preloadingStrategy.preload(Q,()=>{let ge;ge=Q.loadChildren&&void 0===Q.canLoad?this.loader.loadChildren(B,Q):(0,p.of)(null);const $e=ge.pipe((0,q.Z)(_t=>null===_t?(0,p.of)(void 0):(Q._loadedRoutes=_t.routes,Q._loadedInjector=_t.injector,this.processRoutes(_t.injector??B,_t.routes))));if(Q.loadComponent&&!Q._loadedComponent){const _t=this.loader.loadComponent(Q);return(0,y.H)([$e,_t]).pipe((0,Oe.U)())}return $e})}static{this.\u0275fac=function(Q){return new(Q||I)(n.KVO(ur),n.KVO(n.Ql9),n.KVO(n.uvJ),n.KVO(Nt),n.KVO(Xr))}}static{this.\u0275prov=n.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}}return I})();const _n=new n.nKC("");let qn=(()=>{class I{constructor(B,Q,ge,$e,_t={}){this.urlSerializer=B,this.transitions=Q,this.viewportScroller=ge,this.zone=$e,this.options=_t,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},_t.scrollPositionRestoration||="disabled",_t.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(B=>{B instanceof Ie?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=B.navigationTrigger,this.restoredId=B.restoredState?B.restoredState.navigationId:0):B instanceof ye?(this.lastId=B.id,this.scheduleScrollEvent(B,this.urlSerializer.parse(B.urlAfterRedirects).fragment)):B instanceof vt&&B.code===ze.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(B,this.urlSerializer.parse(B.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(B=>{B instanceof Qs&&(B.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(B.position):B.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(B.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(B,Q){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Qs(B,"popstate"===this.lastSource?this.store[this.restoredId]:null,Q))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(Q){n.QTQ()}}static{this.\u0275prov=n.jDH({token:I,factory:I.\u0275fac})}}return I})();function gi(I,V){return{\u0275kind:I,\u0275providers:V}}function fs(){const I=(0,n.WQX)(n.zZn);return V=>{const B=I.get(n.o8S);if(V!==B.components[0])return;const Q=I.get(ur),ge=I.get(Wo);1===I.get(xa)&&Q.initialNavigation(),I.get(Ri,null,n.$GK.Optional)?.setUpPreloading(),I.get(_n,null,n.$GK.Optional)?.init(),Q.resetRootComponentType(B.componentTypes[0]),ge.closed||(ge.next(),ge.complete(),ge.unsubscribe())}}const Wo=new n.nKC("",{factory:()=>new j.B}),xa=new n.nKC("",{providedIn:"root",factory:()=>1}),Ri=new n.nKC("");function ka(I){return gi(0,[{provide:Ri,useExisting:an},{provide:Nt,useExisting:I}])}function Ts(I){return gi(9,[{provide:Fi,useValue:ee},{provide:Es,useValue:{skipNextTransition:!!I?.skipInitialTransition,...I}}])}const Di=new n.nKC("ROUTER_FORROOT_GUARD"),is=[U.aZ,{provide:gt,useClass:Bt},ur,_s,{provide:$n,useFactory:function Er(I){return I.routerState.root},deps:[ur]},Xr,[]];let vl=(()=>{class I{constructor(B){}static forRoot(B,Q){return{ngModule:I,providers:[is,[],{provide:Eo,multi:!0,useValue:B},{provide:Di,useFactory:yl,deps:[[ur,new n.Xx1,new n.kdw]]},{provide:Ho,useValue:Q||{}},Q?.useHash?{provide:U.hb,useClass:U.fw}:{provide:U.hb,useClass:U.Sm},{provide:_n,useFactory:()=>{const I=(0,n.WQX)(U.Xr),V=(0,n.WQX)(n.SKi),B=(0,n.WQX)(Ho),Q=(0,n.WQX)(de),ge=(0,n.WQX)(gt);return B.scrollOffset&&I.setOffset(B.scrollOffset),new qn(ge,Q,I,V,B)}},Q?.preloadingStrategy?ka(Q.preloadingStrategy).\u0275providers:[],Q?.initialNavigation?Hl(Q):[],Q?.bindToComponentInputs?gi(8,[Or,{provide:lr,useExisting:Or}]).\u0275providers:[],Q?.enableViewTransitions?Ts().\u0275providers:[],[{provide:Le,useFactory:fs},{provide:n.iLQ,multi:!0,useExisting:Le}]]}}static forChild(B){return{ngModule:I,providers:[{provide:Eo,multi:!0,useValue:B}]}}static{this.\u0275fac=function(Q){return new(Q||I)(n.KVO(Di,8))}}static{this.\u0275mod=n.$C({type:I})}static{this.\u0275inj=n.G2t({})}}return I})();function yl(I){return"guarded"}function Hl(I){return["disabled"===I.initialNavigation?gi(3,[{provide:n.hnV,multi:!0,useFactory:()=>{const V=(0,n.WQX)(ur);return()=>{V.setUpLocationChangeListener()}}},{provide:xa,useValue:2}]).\u0275providers:[],"enabledBlocking"===I.initialNavigation?gi(2,[{provide:xa,useValue:0},{provide:n.hnV,multi:!0,deps:[n.zZn],useFactory:V=>{const B=V.get(U.hj,Promise.resolve());return()=>B.then(()=>new Promise(Q=>{const ge=V.get(ur),$e=V.get(Wo);Ji(ge,()=>{Q(!0)}),V.get(de).afterPreactivation=()=>(Q(!0),$e.closed?(0,p.of)(void 0):$e),ge.initialNavigation()}))}}]).\u0275providers:[]]}const Le=new n.nKC("")},7005:(nt,fe,h)=>{"use strict";h.d(fe,{xq:()=>be,XE:()=>Ce,tl:()=>jt,QG:()=>Ye,wY:()=>Qe});var n=h(4438),e=h(1583),y=h(9350),p=h(7707),C=h(1985),m=h(1413),u=h(2771),f=h(7673),T=h(6648),O=h(4402),F=h(5964),b=h(9974),M=h(4360),N=h(1397),G=h(6354),R=h(1780),j=h(177),U=h(1626);const $=new n.nKC("LOCALIZE_ROUTER_FORROOT_GUARD"),ie=new n.nKC("RAW_ROUTES");var se=function(ot){return ot.LocalStorage="LocalStorage",ot.SessionStorage="SessionStorage",ot.Cookie="Cookie",ot}(se||{});const L=new n.nKC("USE_CACHED_LANG"),J=new n.nKC("CACHE_MECHANISM"),q=new n.nKC("CACHE_NAME"),S=new n.nKC("COOKIE_FORMAT"),re=new n.nKC("INITIAL_NAVIGATION"),K=new n.nKC("DEFAULT_LANG_FUNCTION"),me=new n.nKC("ALWAYS_SET_PREFIX");let Qe=(()=>{class ot{constructor(mt=!0,it=!0,Kt=se.LocalStorage,sn="LOCALIZE_DEFAULT_LANGUAGE",Ft=void 0,Jt="{{value}};{{expires}}",je=!1){this.useCachedLang=mt,this.alwaysSetPrefix=it,this.cacheName=sn,this.cookieFormat=Jt,this.initialNavigation=je,this.cacheMechanism=Kt,this.defaultLangFunction=Ft}}return ot.\u0275fac=function(mt){return new(mt||ot)(n.KVO(L),n.KVO(me),n.KVO(J),n.KVO(q),n.KVO(K),n.KVO(S),n.KVO(re))},ot.\u0275prov=n.jDH({token:ot,factory:ot.\u0275fac}),ot})(),be=(()=>{class ot{constructor(mt,it,Kt){this.translate=mt,this.location=it,this.settings=Kt}init(mt){let it;if(this.routes=mt,!this.locales||!this.locales.length)return Promise.resolve();const Kt=this.getLocationLang(),sn=this._getBrowserLang();this.defaultLang=this.settings.defaultLangFunction?this.settings.defaultLangFunction(this.locales,this._cachedLang,sn):this._cachedLang||sn||this.locales[0],it=Kt||this.defaultLang,this.translate.setDefaultLang(this.defaultLang);let Ft=[];if(this.settings.alwaysSetPrefix){const Jt={path:"",redirectTo:this.defaultLang,pathMatch:"full"},je=mt.findIndex(ce=>"**"===ce.path);-1!==je&&(this._wildcardRoute=mt.splice(je,1)[0]),Ft=this.routes.splice(0,this.routes.length,Jt)}else Ft=[...this.routes];for(let Jt=Ft.length-1;Jt>=0;Jt--)Ft[Jt].data&&Ft[Jt].data.skipRouteLocalization&&(this.settings.alwaysSetPrefix&&this.routes.push(Ft[Jt]),(void 0===Ft[Jt].redirectTo||!Ft[Jt].data.skipRouteLocalization.localizeRedirectTo)&&Ft.splice(Jt,1));return Ft&&Ft.length&&(this.locales.length>1||this.settings.alwaysSetPrefix)&&(this._languageRoute={children:Ft},this.routes.unshift(this._languageRoute)),this._wildcardRoute&&this.settings.alwaysSetPrefix&&this.routes.push(this._wildcardRoute),function w(ot,Pt){const mt="object"==typeof Pt;return new Promise((it,Kt)=>{const sn=new p.Ms({next:Ft=>{it(Ft),sn.unsubscribe()},error:Kt,complete:()=>{mt?it(Pt.defaultValue):Kt(new y.G)}});ot.subscribe(sn)})}(this.translateRoutes(it))}initChildRoutes(mt){return this._translateRouteTree(mt),mt}translateRoutes(mt){return new C.c(it=>{this._cachedLang=mt,this._languageRoute&&(this._languageRoute.path=mt),this.translate.use(mt).subscribe(Kt=>{this._translationObject=Kt,this.currentLang=mt,this._languageRoute?(this._translateRouteTree(this._languageRoute.children,!0),this._wildcardRoute&&this._wildcardRoute.redirectTo&&this._translateProperty(this._wildcardRoute,"redirectTo",!0)):this._translateRouteTree(this.routes,!0),it.next(void 0),it.complete()})})}_translateRouteTree(mt,it){mt.forEach(Kt=>{const sn=Kt.data&&Kt.data.skipRouteLocalization;if(Kt.redirectTo&&(!sn||sn.localizeRedirectTo)){const Jt=0===Kt.redirectTo.indexOf("/")||it;this._translateProperty(Kt,"redirectTo",Jt)}sn||(null!=Kt.path&&this._translateProperty(Kt,"path"),Kt.children&&this._translateRouteTree(Kt.children),Kt.loadChildren&&Kt._loadedRoutes?.length&&this._translateRouteTree(Kt._loadedRoutes))})}_translateProperty(mt,it,Kt){const sn=mt.data=mt.data||{};sn.localizeRouter||(sn.localizeRouter={}),sn.localizeRouter[it]||(sn.localizeRouter={...sn.localizeRouter,[it]:mt[it]});const Ft=this.translateRoute(sn.localizeRouter[it]);mt[it]=Kt?this.addPrefixToUrl(Ft):Ft}get urlPrefix(){return this.settings.alwaysSetPrefix||this.currentLang!==this.defaultLang?this.currentLang?this.currentLang:this.defaultLang:""}addPrefixToUrl(mt){const it=mt.split("?"),Kt=1===it[0].length&&"/"===it[0];it[0]=it[0].replace(/\/$/,"");const sn=it.join("?");return""===this.urlPrefix?sn:sn.startsWith("/")||Kt?`/${this.urlPrefix}${sn}`:`${this.urlPrefix}/${sn}`}translateRoute(mt){const it=mt.split("?");if(it.length>2)throw Error("There should be only one query parameter block in the URL");return it[0].split("/").map(sn=>sn.length?this.translateText(sn):sn).join("/")+(it.length>1?`?${it[1]}`:"")}getLocationLang(mt){const it=(mt||this.location.path()).split(/[\?;]/);let Kt=[];return it.length>0&&(Kt=it[0].split("/")),Kt.length>1&&-1!==this.locales.indexOf(Kt[1])?Kt[1]:Kt.length&&-1!==this.locales.indexOf(Kt[0])?Kt[0]:null}_getBrowserLang(){return this._returnIfInLocales(this.translate.getBrowserLang())}get _cachedLang(){if(this.settings.useCachedLang){if(this.settings.cacheMechanism===se.LocalStorage)return this._cacheWithLocalStorage();if(this.settings.cacheMechanism===se.SessionStorage)return this._cacheWithSessionStorage();if(this.settings.cacheMechanism===se.Cookie)return this._cacheWithCookies()}}set _cachedLang(mt){this.settings.useCachedLang&&(this.settings.cacheMechanism===se.LocalStorage&&this._cacheWithLocalStorage(mt),this.settings.cacheMechanism===se.SessionStorage&&this._cacheWithSessionStorage(mt),this.settings.cacheMechanism===se.Cookie&&this._cacheWithCookies(mt))}_cacheWithLocalStorage(mt){try{if(typeof window>"u"||typeof window.localStorage>"u")return;return mt?void window.localStorage.setItem(this.settings.cacheName,mt):this._returnIfInLocales(window.localStorage.getItem(this.settings.cacheName))}catch{return}}_cacheWithSessionStorage(mt){try{if(typeof window>"u"||typeof window.sessionStorage>"u")return;return mt?void window.sessionStorage.setItem(this.settings.cacheName,mt):this._returnIfInLocales(window.sessionStorage.getItem(this.settings.cacheName))}catch{return}}_cacheWithCookies(mt){try{if(typeof document>"u"||typeof document.cookie>"u")return;const it=encodeURIComponent(this.settings.cacheName);if(mt){let Ft=`${this.settings.cookieFormat}`;return Ft=Ft.replace("{{value}}",`${it}=${encodeURIComponent(mt)}`).replace(/{{expires:?(\d+)?}}/g,(Jt,je)=>{const ce=void 0===je?30:parseInt(je,10),X=new Date;return X.setTime(X.getTime()+864e5*ce),`expires=${X.toUTCString()}`}),void(document.cookie=Ft)}const sn=new RegExp("(?:^"+it+"|;\\s*"+it+")=(.*?)(?:;|$)","g").exec(document.cookie);return decodeURIComponent(sn[1])}catch{return}}_returnIfInLocales(mt){return mt&&-1!==this.locales.indexOf(mt)?mt:null}translateText(mt){if(this.escapePrefix&&mt.startsWith(this.escapePrefix))return mt.replace(this.escapePrefix,"");{if(!this._translationObject)return mt;const it=this.prefix+mt,Kt=this.translate.getParsedResult(this._translationObject,it);return Kt!==it?Kt:mt}}chooseQueryParams(mt,it){let Kt;return mt&&mt.queryParams?Kt=mt.queryParams:it&&(Kt=it),Kt}formatQueryParams(mt){return new U.Nl({fromObject:mt}).toString()}getPrefix(){return this.prefix}getEscapePrefix(){return this.escapePrefix}}return ot.\u0275fac=function(mt){return new(mt||ot)(n.KVO(R.c$),n.KVO(j.aZ),n.KVO(Qe))},ot.\u0275prov=n.jDH({token:ot,factory:ot.\u0275fac}),ot})(),Fe=(()=>{class ot extends be{load(mt){return new Promise(it=>{this.init(mt).then(it)})}}return ot.\u0275fac=(()=>{let Pt;return function(it){return(Pt||(Pt=n.xGo(ot)))(it||ot)}})(),ot.\u0275prov=n.jDH({token:ot,factory:ot.\u0275fac}),ot})();function Te(ot,Pt){if(ot===Pt)return!0;if(null===ot||null===Pt)return!1;if(ot!=ot&&Pt!=Pt)return!0;const mt=typeof ot;let Kt,sn,Ft;if(mt===typeof Pt&&"object"===mt){if(!Array.isArray(ot)){if(Array.isArray(Pt))return!1;for(sn in Ft=Object.create(null),ot)if(ot.hasOwnProperty(sn)){if(!Te(ot[sn],Pt[sn]))return!1;Ft[sn]=!0}for(sn in Pt)if(Pt.hasOwnProperty(sn)&&!(sn in Ft)&&typeof Pt[sn]<"u")return!1;return!0}if(!Array.isArray(Pt))return!1;if((Kt=ot.length)===Pt.length){for(sn=0;sn<Kt;sn++)if(!Te(ot[sn],Pt[sn]))return!1;return!0}}return!1}function Oe(ot){const Pt=Array.isArray(ot)?[]:{};for(const mt in ot)if(mt){const it=ot[mt];Pt[mt]="object"==typeof it?Oe(it):it}return Pt}let Ye=(()=>{class ot{constructor(mt,it,Kt,sn){this.parser=mt,this.settings=it,this.router=Kt,this.route=sn,this.routerEvents=new m.B;const Ft=new u.m(1);this.hooks={_initializedSubject:Ft,initialized:Ft.asObservable()}}init(){this.applyConfigToRouter(this.parser.routes),this.router.events.pipe((0,F.p)(mt=>mt instanceof e.Z),function k(){return(0,b.N)((ot,Pt)=>{let mt,it=!1;ot.subscribe((0,M._)(Pt,Kt=>{const sn=mt;mt=Kt,it&&Pt.next([sn,Kt]),it=!0}))})}()).subscribe(this._routeChanged()),this.settings.initialNavigation&&this.router.initialNavigation()}changeLanguage(mt,it,Kt){if(mt!==this.parser.currentLang){const sn=this.router.routerState.snapshot.root;this.parser.translateRoutes(mt).subscribe(()=>{let Ft=this.traverseRouteSnapshot(sn);if(Ft=this.translateRoute(Ft),!this.settings.alwaysSetPrefix){let ce=Ft.split("/");const X=ce.indexOf(this.parser.currentLang);if(this.parser.currentLang===this.parser.defaultLang)(0===X||1===X&&""===ce[0])&&(ce=ce.slice(0,X).concat(ce.slice(X+1)));else if(-1===X){const oe=""===ce[0]?1:0;ce=ce.slice(0,oe).concat(this.parser.currentLang,ce.slice(oe))}Ft=ce.join("/")}Ft=Ft.replace(/\/+/g,"/");const Jt=Ft.lastIndexOf("/");Jt>0&&Jt===Ft.length-1&&(Ft=Ft.slice(0,-1));const je=this.parser.chooseQueryParams(it,this.route.snapshot.queryParams);if(this.applyConfigToRouter(this.parser.routes),this.lastExtras=it,Kt){const ce=it?{...it}:{};je&&(ce.queryParams=je),this.router.navigate([Ft],ce)}else{let ce=this.parser.formatQueryParams(je);ce=ce?`?${ce}`:"",this.router.navigateByUrl(`${Ft}${ce}`,it)}})}}traverseRouteSnapshot(mt){return mt.firstChild&&mt.routeConfig?`${this.parseSegmentValue(mt)}/${this.traverseRouteSnapshot(mt.firstChild)}`:mt.firstChild?this.traverseRouteSnapshot(mt.firstChild):this.parseSegmentValue(mt)}buildUrlFromSegments(mt,it){return it.map((Kt,sn)=>0===Kt.indexOf(":")?mt.url[sn].path:Kt).join("/")}parseSegmentValue(mt){if(mt.routeConfig&&mt.routeConfig.matcher){const it=this.parseSegmentValueMatcher(mt);return this.buildUrlFromSegments(mt,it)}if(mt.data.localizeRouter){const Kt=mt.data.localizeRouter.path.split("/");return this.buildUrlFromSegments(mt,Kt)}if(mt.parent&&mt.parent.parent){const Kt=mt.routeConfig.path.split("/");return this.buildUrlFromSegments(mt,Kt)}return""}parseSegmentValueMatcher(mt){const it=mt.data&&mt.data.localizeMatcher&&mt.data.localizeMatcher.params||{};return mt.url.map(sn=>{const Ft=sn.path,Jt=sn.localizedParamName;return(Jt&&it[Jt]?it[Jt](Ft):null)||`${this.parser.getEscapePrefix()}${Ft}`})}translateRoute(mt){if("string"==typeof mt){const Kt=this.parser.translateRoute(mt);return mt.indexOf("/")?Kt:this.parser.addPrefixToUrl(Kt)}const it=[];return mt.forEach((Kt,sn)=>{if("string"==typeof Kt){const Ft=this.parser.translateRoute(Kt);sn||Kt.indexOf("/")?it.push(Ft):it.push(this.parser.addPrefixToUrl(Ft))}else it.push(Kt)}),it}_routeChanged(){return([mt,it])=>{const Kt=this.parser.getLocationLang(mt.url)||this.parser.defaultLang,sn=this.parser.getLocationLang(it.url)||this.parser.defaultLang,Ft=this.lastExtras;sn!==Kt&&this.latestUrl!==it.url&&(this.latestUrl=it.url,this.cancelCurrentNavigation(),this.parser.translateRoutes(sn).subscribe(()=>{this.applyConfigToRouter(this.parser.routes),this.lastExtras=void 0,this.router.navigateByUrl(it.url,Ft),this.routerEvents.next(sn)})),this.latestUrl=it.url}}cancelCurrentNavigation(){const mt=this.router.getCurrentNavigation(),it=this.router.serializeUrl(mt.extractedUrl);this.router.events.next(new e.j5(mt.id,it,"")),this.router.navigationTransitions.transitions.next({...this.router.navigationTransitions.transitions.getValue(),id:0})}applyConfigToRouter(mt){this.router.resetConfig(Oe(mt))}}return ot.\u0275fac=function(mt){return new(mt||ot)(n.KVO(be),n.KVO(Qe),n.KVO(e.Ix),n.KVO(e.nX))},ot.\u0275prov=n.jDH({token:ot,factory:ot.\u0275fac}),ot})(),jt=(()=>{class ot{constructor(mt,it){this.localize=mt,this._ref=it,this.value="",this.subscription=this.localize.routerEvents.subscribe(()=>{this.transform(this.lastKey)})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}transform(mt){if(!mt||0===mt.length||!this.localize.parser.currentLang)return mt;if(Te(mt,this.lastKey)&&Te(this.lastLanguage,this.localize.parser.currentLang))return this.value;this.lastKey=mt,this.lastLanguage=this.localize.parser.currentLang,this.value=this.localize.translateRoute(mt),this.lastKey=mt;const it=this._ref._view;return it&&128&it.state||setTimeout(()=>{this._ref.detectChanges()},0),this.value}}return ot.\u0275fac=function(mt){return new(mt||ot)(n.rXU(Ye,16),n.rXU(n.gRc,16))},ot.\u0275pipe=n.EJ8({name:"localize",type:ot,pure:!1}),ot})();class Dt{constructor(){}shouldDetach(Pt){return!1}store(Pt,mt){}shouldAttach(Pt){return!1}retrieve(Pt){return null}shouldReuseRoute(Pt,mt){return!(!Pt||!mt)&&this.getKey(Pt)===this.getKey(mt)}getKey(Pt){if(Pt.firstChild&&Pt.firstChild.routeConfig&&Pt.firstChild.routeConfig.path&&-1!==Pt.firstChild.routeConfig.path.indexOf("**"))return"WILDCARD";if(!(Pt.data.localizeRouter||Pt.parent&&Pt.parent.parent||Pt.data.skipRouteLocalization))return"LANG";if(Pt.routeConfig.matcher){let mt=`${this.getKey(Pt.parent)}/${Pt.routeConfig.matcher.name}`;return Pt.data.discriminantPathKey&&(mt=`${mt}-${Pt.data.discriminantPathKey}`),mt}if(Pt.data.localizeRouter){let mt=`${this.getKey(Pt.parent)}/${Pt.data.localizeRouter.path}`;return Pt.data.discriminantPathKey&&(mt=`${mt}-${Pt.data.discriminantPathKey}`),mt}{let mt=Pt.routeConfig.path;return Pt.parent&&(mt=`${this.getKey(Pt.parent)}/${Pt.routeConfig.path}`),Pt.data.discriminantPathKey&&(mt=`${mt}-${Pt.data.discriminantPathKey}`),mt}}}let wt=(()=>{class ot extends e.Ix{constructor(){super(),this.platformId=(0,n.WQX)(n.Agw),this.compiler=(0,n.WQX)(n.Ql9),this.localize=(0,n.WQX)(be),((0,j.UE)(this.platformId)?this.navigationTransitions.configLoader.__proto__:this.navigationTransitions.configLoader).loadModuleFactoryOrRoutes=Kt=>function z(ot){return(0,O.A)(ot)?ot:function st(ot){return!!ot&&"function"==typeof ot.then}(ot)?(0,T.H)(Promise.resolve(ot)):(0,f.of)(ot)}(Kt()).pipe((0,N.Z)(sn=>{let Ft;return Ft=sn instanceof n.Co$||Array.isArray(sn)?(0,f.of)(sn):(0,T.H)(this.compiler.compileModuleAsync(sn)),Ft.pipe((0,G.T)(Jt=>Array.isArray(Jt)?Jt:{moduleType:Jt.moduleType,create:je=>{const ce=Jt.create(je),X=ce.injector.get.bind(ce.injector);return ce.injector.get=(oe,Ve,tt)=>{const gt=X(oe,Ve,tt);return oe===e.bw?this.localize.initChildRoutes([].concat(...gt)):gt},ce}}))}))}}return ot.\u0275fac=function(mt){return new(mt||ot)},ot.\u0275prov=n.jDH({token:ot,factory:ot.\u0275fac,providedIn:"root"}),ot})(),Y=(()=>{class ot{constructor(mt){this.injector=mt}appInitializer(){return this.parser.load(this.routes).then(()=>{const it=this.injector.get(Ye),Kt=this.injector.get(e.Ix),sn=this.injector.get(Qe);if(it.init(),sn.initialNavigation)return new Promise(Ft=>{const Jt=Kt.navigationTransitions.afterPreactivation;let je=!0;Kt.navigationTransitions.afterPreactivation=()=>(je&&(Ft(),je=!1,it.hooks._initializedSubject.next(!0),it.hooks._initializedSubject.complete()),Jt())});it.hooks._initializedSubject.next(!0),it.hooks._initializedSubject.complete()})}generateInitializer(mt,it){return this.parser=mt,this.routes=it.reduce((Kt,sn)=>Kt.concat(sn)),this.appInitializer}}return ot.\u0275fac=function(mt){return new(mt||ot)(n.KVO(n.zZn))},ot.\u0275prov=n.jDH({token:ot,factory:ot.\u0275fac}),ot})();function Z(ot,Pt,mt){const it=Oe(mt);return ot.generateInitializer(Pt,it).bind(ot)}let Ce=(()=>{class ot{static forRoot(mt,it={}){return{ngModule:ot,providers:[{provide:e.Ix,useClass:wt},{provide:$,useFactory:we,deps:[[ot,new n.Xx1,new n.kdw]]},{provide:L,useValue:it.useCachedLang},{provide:me,useValue:it.alwaysSetPrefix},{provide:q,useValue:it.cacheName},{provide:J,useValue:it.cacheMechanism},{provide:K,useValue:it.defaultLangFunction},{provide:S,useValue:it.cookieFormat},{provide:re,useValue:it.initialNavigation},Qe,it.parser||{provide:be,useClass:Fe},{provide:ie,multi:!0,useValue:mt},Ye,Y,{provide:n.hnV,multi:!0,useFactory:Z,deps:[Y,be,ie]},{provide:e.b,useClass:Dt}]}}static forChild(mt){return{ngModule:ot,providers:[{provide:ie,multi:!0,useValue:mt}]}}}return ot.\u0275fac=function(mt){return new(mt||ot)},ot.\u0275mod=n.$C({type:ot}),ot.\u0275inj=n.G2t({imports:[j.MD,e.iI,R.h]}),ot})();function we(ot){if(ot)throw new Error("LocalizeRouterModule.forRoot() called twice. Lazy loaded modules should use LocalizeRouterModule.forChild() instead.");return"guarded"}},1780:(nt,fe,h)=>{"use strict";h.d(fe,{D9:()=>Ne,Wr:()=>F,c$:()=>K,h:()=>De});var n=h(4438),e=h(7673),y=h(4402),p=h(7468),w=h(8793),C=h(9030),m=h(6697),u=h(9568),f=h(6354),T=h(274),O=h(5558);class F{}let b=(()=>{class xe extends F{getTranslation(Se){return(0,e.of)({})}}return xe.\u0275fac=(()=>{let Qe;return function(be){return(Qe||(Qe=n.xGo(xe)))(be||xe)}})(),xe.\u0275prov=n.jDH({token:xe,factory:xe.\u0275fac}),xe})();class M{}let k=(()=>{class xe{handle(Se){return Se.key}}return xe.\u0275fac=function(Se){return new(Se||xe)},xe.\u0275prov=n.jDH({token:xe,factory:xe.\u0275fac}),xe})();function N(xe,Qe){if(xe===Qe)return!0;if(null===xe||null===Qe)return!1;if(xe!=xe&&Qe!=Qe)return!0;let le,Fe,Te,Se=typeof xe;if(Se==typeof Qe&&"object"==Se){if(!Array.isArray(xe)){if(Array.isArray(Qe))return!1;for(Fe in Te=Object.create(null),xe){if(!N(xe[Fe],Qe[Fe]))return!1;Te[Fe]=!0}for(Fe in Qe)if(!(Fe in Te)&&typeof Qe[Fe]<"u")return!1;return!0}if(!Array.isArray(Qe))return!1;if((le=xe.length)==Qe.length){for(Fe=0;Fe<le;Fe++)if(!N(xe[Fe],Qe[Fe]))return!1;return!0}}return!1}function G(xe){return typeof xe<"u"&&null!==xe}function R(xe){return xe&&"object"==typeof xe&&!Array.isArray(xe)}function j(xe,Qe){let Se=Object.assign({},xe);return R(xe)&&R(Qe)&&Object.keys(Qe).forEach(be=>{R(Qe[be])?be in xe?Se[be]=j(xe[be],Qe[be]):Object.assign(Se,{[be]:Qe[be]}):Object.assign(Se,{[be]:Qe[be]})}),Se}class U{}let $=(()=>{class xe extends U{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(Se,be){let le;return le="string"==typeof Se?this.interpolateString(Se,be):"function"==typeof Se?this.interpolateFunction(Se,be):Se,le}getValue(Se,be){let le="string"==typeof be?be.split("."):[be];be="";do{be+=le.shift(),!G(Se)||!G(Se[be])||"object"!=typeof Se[be]&&le.length?le.length?be+=".":Se=void 0:(Se=Se[be],be="")}while(le.length);return Se}interpolateFunction(Se,be){return Se(be)}interpolateString(Se,be){return be?Se.replace(this.templateMatcher,(le,Fe)=>{let Te=this.getValue(be,Fe);return G(Te)?Te:le}):Se}}return xe.\u0275fac=(()=>{let Qe;return function(be){return(Qe||(Qe=n.xGo(xe)))(be||xe)}})(),xe.\u0275prov=n.jDH({token:xe,factory:xe.\u0275fac}),xe})();class ie{}let se=(()=>{class xe extends ie{compile(Se,be){return Se}compileTranslations(Se,be){return Se}}return xe.\u0275fac=(()=>{let Qe;return function(be){return(Qe||(Qe=n.xGo(xe)))(be||xe)}})(),xe.\u0275prov=n.jDH({token:xe,factory:xe.\u0275fac}),xe})();class L{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new n.bkB,this.onLangChange=new n.bkB,this.onDefaultLangChange=new n.bkB}}const J=new n.nKC("USE_STORE"),q=new n.nKC("USE_DEFAULT_LANG"),S=new n.nKC("DEFAULT_LANGUAGE"),re=new n.nKC("USE_EXTEND");let K=(()=>{class xe{constructor(Se,be,le,Fe,Te,st=!0,Oe=!1,pt=!1,Ye){this.store=Se,this.currentLoader=be,this.compiler=le,this.parser=Fe,this.missingTranslationHandler=Te,this.useDefaultLang=st,this.isolate=Oe,this.extend=pt,this.pending=!1,this._onTranslationChange=new n.bkB,this._onLangChange=new n.bkB,this._onDefaultLangChange=new n.bkB,this._langs=[],this._translations={},this._translationRequests={},Ye&&this.setDefaultLang(Ye)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(Se){this.isolate?this._defaultLang=Se:this.store.defaultLang=Se}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(Se){this.isolate?this._currentLang=Se:this.store.currentLang=Se}get langs(){return this.isolate?this._langs:this.store.langs}set langs(Se){this.isolate?this._langs=Se:this.store.langs=Se}get translations(){return this.isolate?this._translations:this.store.translations}set translations(Se){this.isolate?this._translations=Se:this.store.translations=Se}setDefaultLang(Se){if(Se===this.defaultLang)return;let be=this.retrieveTranslations(Se);typeof be<"u"?(null==this.defaultLang&&(this.defaultLang=Se),be.pipe((0,m.s)(1)).subscribe(le=>{this.changeDefaultLang(Se)})):this.changeDefaultLang(Se)}getDefaultLang(){return this.defaultLang}use(Se){if(Se===this.currentLang)return(0,e.of)(this.translations[Se]);let be=this.retrieveTranslations(Se);return typeof be<"u"?(this.currentLang||(this.currentLang=Se),be.pipe((0,m.s)(1)).subscribe(le=>{this.changeLang(Se)}),be):(this.changeLang(Se),(0,e.of)(this.translations[Se]))}retrieveTranslations(Se){let be;return(typeof this.translations[Se]>"u"||this.extend)&&(this._translationRequests[Se]=this._translationRequests[Se]||this.getTranslation(Se),be=this._translationRequests[Se]),be}getTranslation(Se){this.pending=!0;const be=this.currentLoader.getTranslation(Se).pipe((0,u.t)(1),(0,m.s)(1));return this.loadingTranslations=be.pipe((0,f.T)(le=>this.compiler.compileTranslations(le,Se)),(0,u.t)(1),(0,m.s)(1)),this.loadingTranslations.subscribe({next:le=>{this.translations[Se]=this.extend&&this.translations[Se]?{...le,...this.translations[Se]}:le,this.updateLangs(),this.pending=!1},error:le=>{this.pending=!1}}),be}setTranslation(Se,be,le=!1){be=this.compiler.compileTranslations(be,Se),this.translations[Se]=(le||this.extend)&&this.translations[Se]?j(this.translations[Se],be):be,this.updateLangs(),this.onTranslationChange.emit({lang:Se,translations:this.translations[Se]})}getLangs(){return this.langs}addLangs(Se){Se.forEach(be=>{-1===this.langs.indexOf(be)&&this.langs.push(be)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(Se,be,le){let Fe;if(be instanceof Array){let Te={},st=!1;for(let Oe of be)Te[Oe]=this.getParsedResult(Se,Oe,le),(0,y.A)(Te[Oe])&&(st=!0);if(st){const Oe=be.map(pt=>(0,y.A)(Te[pt])?Te[pt]:(0,e.of)(Te[pt]));return(0,p.p)(Oe).pipe((0,f.T)(pt=>{let Ye={};return pt.forEach((qt,jt)=>{Ye[be[jt]]=qt}),Ye}))}return Te}if(Se&&(Fe=this.parser.interpolate(this.parser.getValue(Se,be),le)),typeof Fe>"u"&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(Fe=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],be),le)),typeof Fe>"u"){let Te={key:be,translateService:this};typeof le<"u"&&(Te.interpolateParams=le),Fe=this.missingTranslationHandler.handle(Te)}return typeof Fe<"u"?Fe:be}get(Se,be){if(!G(Se)||!Se.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe((0,T.H)(le=>(le=this.getParsedResult(le,Se,be),(0,y.A)(le)?le:(0,e.of)(le))));{let le=this.getParsedResult(this.translations[this.currentLang],Se,be);return(0,y.A)(le)?le:(0,e.of)(le)}}getStreamOnTranslationChange(Se,be){if(!G(Se)||!Se.length)throw new Error('Parameter "key" required');return(0,w.x)((0,C.v)(()=>this.get(Se,be)),this.onTranslationChange.pipe((0,O.n)(le=>{const Fe=this.getParsedResult(le.translations,Se,be);return"function"==typeof Fe.subscribe?Fe:(0,e.of)(Fe)})))}stream(Se,be){if(!G(Se)||!Se.length)throw new Error('Parameter "key" required');return(0,w.x)((0,C.v)(()=>this.get(Se,be)),this.onLangChange.pipe((0,O.n)(le=>{const Fe=this.getParsedResult(le.translations,Se,be);return(0,y.A)(Fe)?Fe:(0,e.of)(Fe)})))}instant(Se,be){if(!G(Se)||!Se.length)throw new Error('Parameter "key" required');let le=this.getParsedResult(this.translations[this.currentLang],Se,be);if((0,y.A)(le)){if(Se instanceof Array){let Fe={};return Se.forEach((Te,st)=>{Fe[Se[st]]=Se[st]}),Fe}return Se}return le}set(Se,be,le=this.currentLang){this.translations[le][Se]=this.compiler.compile(be,le),this.updateLangs(),this.onTranslationChange.emit({lang:le,translations:this.translations[le]})}changeLang(Se){this.currentLang=Se,this.onLangChange.emit({lang:Se,translations:this.translations[Se]}),null==this.defaultLang&&this.changeDefaultLang(Se)}changeDefaultLang(Se){this.defaultLang=Se,this.onDefaultLangChange.emit({lang:Se,translations:this.translations[Se]})}reloadLang(Se){return this.resetLang(Se),this.getTranslation(Se)}resetLang(Se){this._translationRequests[Se]=void 0,this.translations[Se]=void 0}getBrowserLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let Se=window.navigator.languages?window.navigator.languages[0]:null;return Se=Se||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,typeof Se>"u"?void 0:(-1!==Se.indexOf("-")&&(Se=Se.split("-")[0]),-1!==Se.indexOf("_")&&(Se=Se.split("_")[0]),Se)}getBrowserCultureLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let Se=window.navigator.languages?window.navigator.languages[0]:null;return Se=Se||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,Se}}return xe.\u0275fac=function(Se){return new(Se||xe)(n.KVO(L),n.KVO(F),n.KVO(ie),n.KVO(U),n.KVO(M),n.KVO(q),n.KVO(J),n.KVO(re),n.KVO(S))},xe.\u0275prov=n.jDH({token:xe,factory:xe.\u0275fac}),xe})(),Ne=(()=>{class xe{constructor(Se,be){this.translate=Se,this._ref=be,this.value="",this.lastKey=null,this.lastParams=[]}updateValue(Se,be,le){let Fe=Te=>{this.value=void 0!==Te?Te:Se,this.lastKey=Se,this._ref.markForCheck()};if(le){let Te=this.translate.getParsedResult(le,Se,be);(0,y.A)(Te.subscribe)?Te.subscribe(Fe):Fe(Te)}this.translate.get(Se,be).subscribe(Fe)}transform(Se,...be){if(!Se||!Se.length)return Se;if(N(Se,this.lastKey)&&N(be,this.lastParams))return this.value;let le;if(G(be[0])&&be.length)if("string"==typeof be[0]&&be[0].length){let Fe=be[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{le=JSON.parse(Fe)}catch{throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${be[0]}`)}}else"object"==typeof be[0]&&!Array.isArray(be[0])&&(le=be[0]);return this.lastKey=Se,this.lastParams=be,this.updateValue(Se,le),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(Fe=>{this.lastKey&&Fe.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(Se,le,Fe.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(Fe=>{this.lastKey&&(this.lastKey=null,this.updateValue(Se,le,Fe.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(Se,le))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return xe.\u0275fac=function(Se){return new(Se||xe)(n.rXU(K,16),n.rXU(n.gRc,16))},xe.\u0275pipe=n.EJ8({name:"translate",type:xe,pure:!1}),xe.\u0275prov=n.jDH({token:xe,factory:xe.\u0275fac}),xe})(),De=(()=>{class xe{static forRoot(Se={}){return{ngModule:xe,providers:[Se.loader||{provide:F,useClass:b},Se.compiler||{provide:ie,useClass:se},Se.parser||{provide:U,useClass:$},Se.missingTranslationHandler||{provide:M,useClass:k},L,{provide:J,useValue:Se.isolate},{provide:q,useValue:Se.useDefaultLang},{provide:re,useValue:Se.extend},{provide:S,useValue:Se.defaultLanguage},K]}}static forChild(Se={}){return{ngModule:xe,providers:[Se.loader||{provide:F,useClass:b},Se.compiler||{provide:ie,useClass:se},Se.parser||{provide:U,useClass:$},Se.missingTranslationHandler||{provide:M,useClass:k},{provide:J,useValue:Se.isolate},{provide:q,useValue:Se.useDefaultLang},{provide:re,useValue:Se.extend},{provide:S,useValue:Se.defaultLanguage},K]}}}return xe.\u0275fac=function(Se){return new(Se||xe)},xe.\u0275mod=n.$C({type:xe}),xe.\u0275inj=n.G2t({}),xe})()},4549:(nt,fe,h)=>{"use strict";h.d(fe,{c9:()=>ii,wB:()=>lt});class n extends Error{}class e extends n{constructor(P){super(`Invalid DateTime: ${P.toMessage()}`)}}class y extends n{constructor(P){super(`Invalid Interval: ${P.toMessage()}`)}}class p extends n{constructor(P){super(`Invalid Duration: ${P.toMessage()}`)}}class w extends n{}class C extends n{constructor(P){super(`Invalid unit ${P}`)}}class m extends n{}class u extends n{constructor(){super("Zone is an abstract class")}}const f="numeric",T="short",O="long",F={year:f,month:f,day:f},b={year:f,month:T,day:f},M={year:f,month:T,day:f,weekday:T},k={year:f,month:O,day:f},N={year:f,month:O,day:f,weekday:O},G={hour:f,minute:f},R={hour:f,minute:f,second:f},j={hour:f,minute:f,second:f,timeZoneName:T},U={hour:f,minute:f,second:f,timeZoneName:O},$={hour:f,minute:f,hourCycle:"h23"},ie={hour:f,minute:f,second:f,hourCycle:"h23"},se={hour:f,minute:f,second:f,hourCycle:"h23",timeZoneName:T},L={hour:f,minute:f,second:f,hourCycle:"h23",timeZoneName:O},J={year:f,month:f,day:f,hour:f,minute:f},q={year:f,month:f,day:f,hour:f,minute:f,second:f},S={year:f,month:T,day:f,hour:f,minute:f},re={year:f,month:T,day:f,hour:f,minute:f,second:f},K={year:f,month:T,day:f,weekday:T,hour:f,minute:f},me={year:f,month:O,day:f,hour:f,minute:f,timeZoneName:T},Ne={year:f,month:O,day:f,hour:f,minute:f,second:f,timeZoneName:T},De={year:f,month:O,day:f,weekday:O,hour:f,minute:f,timeZoneName:O},xe={year:f,month:O,day:f,weekday:O,hour:f,minute:f,second:f,timeZoneName:O};class Qe{get type(){throw new u}get name(){throw new u}get ianaName(){return this.name}get isUniversal(){throw new u}offsetName(P,ue){throw new u}formatOffset(P,ue){throw new u}offset(P){throw new u}equals(P){throw new u}get isValid(){throw new u}}let Se=null;class be extends Qe{static get instance(){return null===Se&&(Se=new be),Se}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(P,{format:ue,locale:Me}){return Tt(P,ue,Me)}formatOffset(P,ue){return ri(this.offset(P),ue)}offset(P){return-new Date(P).getTimezoneOffset()}equals(P){return"system"===P.type}get isValid(){return!0}}let le={};const Te={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};let pt={};class Ye extends Qe{static create(P){return pt[P]||(pt[P]=new Ye(P)),pt[P]}static resetCache(){pt={},le={}}static isValidSpecifier(P){return this.isValidZone(P)}static isValidZone(P){if(!P)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:P}).format(),!0}catch{return!1}}constructor(P){super(),this.zoneName=P,this.valid=Ye.isValidZone(P)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(P,{format:ue,locale:Me}){return Tt(P,ue,Me,this.name)}formatOffset(P,ue){return ri(this.offset(P),ue)}offset(P){const ue=new Date(P);if(isNaN(ue))return NaN;const Me=function Fe(pe){return le[pe]||(le[pe]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:pe,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),le[pe]}(this.name);let[rt,Nt,Ut,rn,an,_n,qn]=Me.formatToParts?function Oe(pe,P){const ue=pe.formatToParts(P),Me=[];for(let rt=0;rt<ue.length;rt++){const{type:Nt,value:Ut}=ue[rt],rn=Te[Nt];"era"===Nt?Me[rn]=Ut:In(rn)||(Me[rn]=parseInt(Ut,10))}return Me}(Me,ue):function st(pe,P){const ue=pe.format(P).replace(/\u200E/g,""),Me=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(ue),[,rt,Nt,Ut,rn,an,_n,qn]=Me;return[Ut,rt,Nt,rn,an,_n,qn]}(Me,ue);"BC"===rn&&(rt=1-Math.abs(rt));let gi=+ue;const Wr=gi%1e3;return gi-=Wr>=0?Wr:1e3+Wr,(Ie({year:rt,month:Nt,day:Ut,hour:24===an?0:an,minute:_n,second:qn,millisecond:0})-gi)/6e4}equals(P){return"iana"===P.type&&P.name===this.name}get isValid(){return this.valid}}let qt={},Dt={};function wt(pe,P={}){const ue=JSON.stringify([pe,P]);let Me=Dt[ue];return Me||(Me=new Intl.DateTimeFormat(pe,P),Dt[ue]=Me),Me}let z={},Z={},we=null,Be={};function sn(pe,P,ue,Me){const rt=pe.listingMode();return"error"===rt?null:"en"===rt?ue(P):Me(P)}class Jt{constructor(P,ue,Me){this.padTo=Me.padTo||0,this.floor=Me.floor||!1;const{padTo:rt,floor:Nt,...Ut}=Me;if(!ue||Object.keys(Ut).length>0){const rn={useGrouping:!1,...Me};Me.padTo>0&&(rn.minimumIntegerDigits=Me.padTo),this.inf=function Y(pe,P={}){const ue=JSON.stringify([pe,P]);let Me=z[ue];return Me||(Me=new Intl.NumberFormat(pe,P),z[ue]=Me),Me}(P,rn)}}format(P){if(this.inf){const ue=this.floor?Math.floor(P):P;return this.inf.format(ue)}return We(this.floor?Math.floor(P):Xe(P,3),this.padTo)}}class je{constructor(P,ue,Me){let rt;if(this.opts=Me,this.originalZone=void 0,this.opts.timeZone)this.dt=P;else if("fixed"===P.zone.type){const Ut=P.offset/60*-1,rn=Ut>=0?`Etc/GMT+${Ut}`:`Etc/GMT${Ut}`;0!==P.offset&&Ye.create(rn).valid?(rt=rn,this.dt=P):(rt="UTC",this.dt=0===P.offset?P:P.setZone("UTC").plus({minutes:P.offset}),this.originalZone=P.zone)}else"system"===P.zone.type?this.dt=P:"iana"===P.zone.type?(this.dt=P,rt=P.zone.name):(rt="UTC",this.dt=P.setZone("UTC").plus({minutes:P.offset}),this.originalZone=P.zone);const Nt={...this.opts};Nt.timeZone=Nt.timeZone||rt,this.dtf=wt(ue,Nt)}format(){return this.originalZone?this.formatToParts().map(({value:P})=>P).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const P=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?P.map(ue=>{if("timeZoneName"===ue.type){const Me=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...ue,value:Me}}return ue}):P}resolvedOptions(){return this.dtf.resolvedOptions()}}class ce{constructor(P,ue,Me){this.opts={style:"long",...Me},!ue&&Oi()&&(this.rtf=function Ce(pe,P={}){const{base:ue,...Me}=P,rt=JSON.stringify([pe,Me]);let Nt=Z[rt];return Nt||(Nt=new Intl.RelativeTimeFormat(pe,P),Z[rt]=Nt),Nt}(P,Me))}format(P,ue){return this.rtf?this.rtf.format(P,ue):function Mi(pe,P,ue="always",Me=!1){const rt={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},Nt=-1===["hours","minutes","seconds"].indexOf(pe);if("auto"===ue&&Nt){const jn="days"===pe;switch(P){case 1:return jn?"tomorrow":`next ${rt[pe][0]}`;case-1:return jn?"yesterday":`last ${rt[pe][0]}`;case 0:return jn?"today":`this ${rt[pe][0]}`}}const Ut=Object.is(P,-0)||P<0,rn=Math.abs(P),an=1===rn,_n=rt[pe],qn=Me?an?_n[1]:_n[2]||_n[1]:an?rt[pe][0]:pe;return Ut?`${rn} ${qn} ago`:`in ${rn} ${qn}`}(ue,P,this.opts.numeric,"long"!==this.opts.style)}formatToParts(P,ue){return this.rtf?this.rtf.formatToParts(P,ue):[]}}const X={firstDay:1,minimalDays:4,weekend:[6,7]};class oe{static fromOpts(P){return oe.create(P.locale,P.numberingSystem,P.outputCalendar,P.weekSettings,P.defaultToEN)}static create(P,ue,Me,rt,Nt=!1){const Ut=P||lt.defaultLocale,rn=Ut||(Nt?"en-US":function at(){return we||(we=(new Intl.DateTimeFormat).resolvedOptions().locale,we)}()),an=ue||lt.defaultNumberingSystem,_n=Me||lt.defaultOutputCalendar,qn=Ei(rt)||lt.defaultWeekSettings;return new oe(rn,an,_n,qn,Ut)}static resetCache(){we=null,Dt={},z={},Z={}}static fromObject({locale:P,numberingSystem:ue,outputCalendar:Me,weekSettings:rt}={}){return oe.create(P,ue,Me,rt)}constructor(P,ue,Me,rt,Nt){const[Ut,rn,an]=function Pt(pe){const P=pe.indexOf("-x-");-1!==P&&(pe=pe.substring(0,P));const ue=pe.indexOf("-u-");if(-1===ue)return[pe];{let Me,rt;try{Me=wt(pe).resolvedOptions(),rt=pe}catch{const an=pe.substring(0,ue);Me=wt(an).resolvedOptions(),rt=an}const{numberingSystem:Nt,calendar:Ut}=Me;return[rt,Nt,Ut]}}(P);this.locale=Ut,this.numberingSystem=ue||rn||null,this.outputCalendar=Me||an||null,this.weekSettings=rt,this.intl=function mt(pe,P,ue){return(ue||P)&&(pe.includes("-u-")||(pe+="-u"),ue&&(pe+=`-ca-${ue}`),P&&(pe+=`-nu-${P}`)),pe}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=Nt,this.fastNumbersCached=null}get fastNumbers(){return null==this.fastNumbersCached&&(this.fastNumbersCached=function Ft(pe){return(!pe.numberingSystem||"latn"===pe.numberingSystem)&&("latn"===pe.numberingSystem||!pe.locale||pe.locale.startsWith("en")||"latn"===new Intl.DateTimeFormat(pe.intl).resolvedOptions().numberingSystem)}(this)),this.fastNumbersCached}listingMode(){return this.isEnglish()&&!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar)?"en":"intl"}clone(P){return P&&0!==Object.getOwnPropertyNames(P).length?oe.create(P.locale||this.specifiedLocale,P.numberingSystem||this.numberingSystem,P.outputCalendar||this.outputCalendar,Ei(P.weekSettings)||this.weekSettings,P.defaultToEN||!1):this}redefaultToEN(P={}){return this.clone({...P,defaultToEN:!0})}redefaultToSystem(P={}){return this.clone({...P,defaultToEN:!1})}months(P,ue=!1){return sn(this,P,si,()=>{const Me=ue?{month:P,day:"numeric"}:{month:P},rt=ue?"format":"standalone";return this.monthsCache[rt][P]||(this.monthsCache[rt][P]=function it(pe){const P=[];for(let ue=1;ue<=12;ue++){const Me=ii.utc(2009,ue,1);P.push(pe(Me))}return P}(Nt=>this.extract(Nt,Me,"month"))),this.monthsCache[rt][P]})}weekdays(P,ue=!1){return sn(this,P,Qs,()=>{const Me=ue?{weekday:P,year:"numeric",month:"long",day:"numeric"}:{weekday:P},rt=ue?"format":"standalone";return this.weekdaysCache[rt][P]||(this.weekdaysCache[rt][P]=function Kt(pe){const P=[];for(let ue=1;ue<=7;ue++){const Me=ii.utc(2016,11,13+ue);P.push(pe(Me))}return P}(Nt=>this.extract(Nt,Me,"weekday"))),this.weekdaysCache[rt][P]})}meridiems(){return sn(this,void 0,()=>ys,()=>{if(!this.meridiemCache){const P={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[ii.utc(2016,11,13,9),ii.utc(2016,11,13,19)].map(ue=>this.extract(ue,P,"dayperiod"))}return this.meridiemCache})}eras(P){return sn(this,P,_s,()=>{const ue={era:P};return this.eraCache[P]||(this.eraCache[P]=[ii.utc(-40,1,1),ii.utc(2017,1,1)].map(Me=>this.extract(Me,ue,"era"))),this.eraCache[P]})}extract(P,ue,Me){const Ut=this.dtFormatter(P,ue).formatToParts().find(rn=>rn.type.toLowerCase()===Me);return Ut?Ut.value:null}numberFormatter(P={}){return new Jt(this.intl,P.forceSimple||this.fastNumbers,P)}dtFormatter(P,ue={}){return new je(P,this.intl,ue)}relFormatter(P={}){return new ce(this.intl,this.isEnglish(),P)}listFormatter(P={}){return function jt(pe,P={}){const ue=JSON.stringify([pe,P]);let Me=qt[ue];return Me||(Me=new Intl.ListFormat(pe,P),qt[ue]=Me),Me}(this.intl,P)}isEnglish(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:Xn()?function ot(pe){let P=Be[pe];if(!P){const ue=new Intl.Locale(pe);P="getWeekInfo"in ue?ue.getWeekInfo():ue.weekInfo,Be[pe]=P}return P}(this.locale):X}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(P){return this.locale===P.locale&&this.numberingSystem===P.numberingSystem&&this.outputCalendar===P.outputCalendar}}let Ve=null;class tt extends Qe{static get utcInstance(){return null===Ve&&(Ve=new tt(0)),Ve}static instance(P){return 0===P?tt.utcInstance:new tt(P)}static parseSpecifier(P){if(P){const ue=P.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(ue)return new tt(vt(ue[1],ue[2]))}return null}constructor(P){super(),this.fixed=P}get type(){return"fixed"}get name(){return 0===this.fixed?"UTC":`UTC${ri(this.fixed,"narrow")}`}get ianaName(){return 0===this.fixed?"Etc/UTC":`Etc/GMT${ri(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(P,ue){return ri(this.fixed,ue)}get isUniversal(){return!0}offset(){return this.fixed}equals(P){return"fixed"===P.type&&P.fixed===this.fixed}get isValid(){return!0}}class gt extends Qe{constructor(P){super(),this.zoneName=P}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Bt(pe,P){if(In(pe)||null===pe)return P;if(pe instanceof Qe)return pe;if(function pi(pe){return"string"==typeof pe}(pe)){const Me=pe.toLowerCase();return"default"===Me?P:"local"===Me||"system"===Me?be.instance:"utc"===Me||"gmt"===Me?tt.utcInstance:tt.parseSpecifier(Me)||Ye.create(pe)}return mn(pe)?tt.instance(pe):"object"==typeof pe&&"offset"in pe&&"function"==typeof pe.offset?pe:new gt(pe)}let Dn,cn=()=>Date.now(),hn="system",An=null,xn=null,Bn=null,It=60,Gt=null;class lt{static get now(){return cn}static set now(P){cn=P}static set defaultZone(P){hn=P}static get defaultZone(){return Bt(hn,be.instance)}static get defaultLocale(){return An}static set defaultLocale(P){An=P}static get defaultNumberingSystem(){return xn}static set defaultNumberingSystem(P){xn=P}static get defaultOutputCalendar(){return Bn}static set defaultOutputCalendar(P){Bn=P}static get defaultWeekSettings(){return Gt}static set defaultWeekSettings(P){Gt=Ei(P)}static get twoDigitCutoffYear(){return It}static set twoDigitCutoffYear(P){It=P%100}static get throwOnInvalid(){return Dn}static set throwOnInvalid(P){Dn=P}static resetCaches(){oe.resetCache(),Ye.resetCache()}}class Ct{constructor(P,ue){this.reason=P,this.explanation=ue}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const yt=[0,31,59,90,120,151,181,212,243,273,304,334],Ot=[0,31,60,91,121,152,182,213,244,274,305,335];function en(pe,P){return new Ct("unit out of range",`you specified ${P} (of type ${typeof P}) as a ${pe}, which is invalid`)}function Sn(pe,P,ue){const Me=new Date(Date.UTC(pe,P-1,ue));pe<100&&pe>=0&&Me.setUTCFullYear(Me.getUTCFullYear()-1900);const rt=Me.getUTCDay();return 0===rt?7:rt}function Un(pe,P,ue){return ue+(Zt(pe)?Ot:yt)[P-1]}function fn(pe,P){const ue=Zt(pe)?Ot:yt,Me=ue.findIndex(Nt=>Nt<P);return{month:Me+1,day:P-ue[Me]}}function di(pe,P){return(pe-P+7)%7+1}function Gn(pe,P=4,ue=1){const{year:Me,month:rt,day:Nt}=pe,Ut=Un(Me,rt,Nt),rn=di(Sn(Me,rt,Nt),ue);let _n,an=Math.floor((Ut-rn+14-P)/7);return an<1?(_n=Me-1,an=ft(_n,P,ue)):an>ft(Me,P,ue)?(_n=Me+1,an=1):_n=Me,{weekYear:_n,weekNumber:an,weekday:rn,...vi(pe)}}function Mt(pe,P=4,ue=1){const{weekYear:Me,weekNumber:rt,weekday:Nt}=pe,Ut=di(Sn(Me,1,P),ue),rn=ut(Me);let _n,an=7*rt+Nt-Ut-7+P;an<1?(_n=Me-1,an+=ut(_n)):an>rn?(_n=Me+1,an-=ut(Me)):_n=Me;const{month:qn,day:jn}=fn(_n,an);return{year:_n,month:qn,day:jn,...vi(pe)}}function ht(pe){const{year:P,month:ue,day:Me}=pe;return{year:P,ordinal:Un(P,ue,Me),...vi(pe)}}function xt(pe){const{year:P,ordinal:ue}=pe,{month:Me,day:rt}=fn(P,ue);return{year:P,month:Me,day:rt,...vi(pe)}}function $t(pe,P){if(In(pe.localWeekday)&&In(pe.localWeekNumber)&&In(pe.localWeekYear))return{minDaysInFirstWeek:4,startOfWeek:1};if(!In(pe.weekday)||!In(pe.weekNumber)||!In(pe.weekYear))throw new w("Cannot mix locale-based week fields with ISO-based week fields");return In(pe.localWeekday)||(pe.weekday=pe.localWeekday),In(pe.localWeekNumber)||(pe.weekNumber=pe.localWeekNumber),In(pe.localWeekYear)||(pe.weekYear=pe.localWeekYear),delete pe.localWeekday,delete pe.localWeekNumber,delete pe.localWeekYear,{minDaysInFirstWeek:P.getMinDaysInFirstWeek(),startOfWeek:P.getStartOfWeek()}}function gn(pe){const P=ci(pe.year),ue=qe(pe.month,1,12),Me=qe(pe.day,1,_e(pe.year,pe.month));return P?ue?!Me&&en("day",pe.day):en("month",pe.month):en("year",pe.year)}function Yn(pe){const{hour:P,minute:ue,second:Me,millisecond:rt}=pe,Nt=qe(P,0,23)||24===P&&0===ue&&0===Me&&0===rt,Ut=qe(ue,0,59),rn=qe(Me,0,59),an=qe(rt,0,999);return Nt?Ut?rn?!an&&en("millisecond",rt):en("second",Me):en("minute",ue):en("hour",P)}function In(pe){return typeof pe>"u"}function mn(pe){return"number"==typeof pe}function ci(pe){return"number"==typeof pe&&pe%1==0}function Oi(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function Xn(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function mi(pe,P,ue){if(0!==pe.length)return pe.reduce((Me,rt)=>{const Nt=[P(rt),rt];return Me&&ue(Me[0],Nt[0])===Me[0]?Me:Nt},null)[1]}function ji(pe,P){return Object.prototype.hasOwnProperty.call(pe,P)}function Ei(pe){if(null==pe)return null;if("object"!=typeof pe)throw new m("Week settings must be an object");if(!qe(pe.firstDay,1,7)||!qe(pe.minimalDays,1,7)||!Array.isArray(pe.weekend)||pe.weekend.some(P=>!qe(P,1,7)))throw new m("Invalid week settings");return{firstDay:pe.firstDay,minimalDays:pe.minimalDays,weekend:Array.from(pe.weekend)}}function qe(pe,P,ue){return ci(pe)&&pe>=P&&pe<=ue}function We(pe,P=2){let Me;return Me=pe<0?"-"+(""+-pe).padStart(P,"0"):(""+pe).padStart(P,"0"),Me}function zt(pe){if(!In(pe)&&null!==pe&&""!==pe)return parseInt(pe,10)}function ct(pe){if(!In(pe)&&null!==pe&&""!==pe)return parseFloat(pe)}function Yt(pe){if(!In(pe)&&null!==pe&&""!==pe){const P=1e3*parseFloat("0."+pe);return Math.floor(P)}}function Xe(pe,P,ue=!1){const Me=10**P;return(ue?Math.trunc:Math.round)(pe*Me)/Me}function Zt(pe){return pe%4==0&&(pe%100!=0||pe%400==0)}function ut(pe){return Zt(pe)?366:365}function _e(pe,P){const ue=function At(pe,P){return pe-P*Math.floor(pe/P)}(P-1,12)+1;return 2===ue?Zt(pe+(P-ue)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][ue-1]}function Ie(pe){let P=Date.UTC(pe.year,pe.month-1,pe.day,pe.hour,pe.minute,pe.second,pe.millisecond);return pe.year<100&&pe.year>=0&&(P=new Date(P),P.setUTCFullYear(pe.year,pe.month-1,pe.day)),+P}function ye(pe,P,ue){return-di(Sn(pe,1,P),ue)+P-1}function ft(pe,P=4,ue=1){const Me=ye(pe,P,ue),rt=ye(pe+1,P,ue);return(ut(pe)-Me+rt)/7}function ze(pe){return pe>99?pe:pe>lt.twoDigitCutoffYear?1900+pe:2e3+pe}function Tt(pe,P,ue,Me=null){const rt=new Date(pe),Nt={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};Me&&(Nt.timeZone=Me);const Ut={timeZoneName:P,...Nt},rn=new Intl.DateTimeFormat(ue,Ut).formatToParts(rt).find(an=>"timezonename"===an.type.toLowerCase());return rn?rn.value:null}function vt(pe,P){let ue=parseInt(pe,10);Number.isNaN(ue)&&(ue=0);const Me=parseInt(P,10)||0;return 60*ue+(ue<0||Object.is(ue,-0)?-Me:Me)}function Xt(pe){const P=Number(pe);if("boolean"==typeof pe||""===pe||Number.isNaN(P))throw new m(`Invalid unit value ${pe}`);return P}function Vn(pe,P){const ue={};for(const Me in pe)if(ji(pe,Me)){const rt=pe[Me];if(null==rt)continue;ue[P(Me)]=Xt(rt)}return ue}function ri(pe,P){const ue=Math.trunc(Math.abs(pe/60)),Me=Math.trunc(Math.abs(pe%60)),rt=pe>=0?"+":"-";switch(P){case"short":return`${rt}${We(ue,2)}:${We(Me,2)}`;case"narrow":return`${rt}${ue}${Me>0?`:${Me}`:""}`;case"techie":return`${rt}${We(ue,2)}${We(Me,2)}`;default:throw new RangeError(`Value format ${P} is out of range for property format`)}}function vi(pe){return function Hi(pe,P){return P.reduce((ue,Me)=>(ue[Me]=pe[Me],ue),{})}(pe,["hour","minute","second","millisecond"])}const Ui=["January","February","March","April","May","June","July","August","September","October","November","December"],hr=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Hn=["J","F","M","A","M","J","J","A","S","O","N","D"];function si(pe){switch(pe){case"narrow":return[...Hn];case"short":return[...hr];case"long":return[...Ui];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const ar=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Ai=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],kr=["M","T","W","T","F","S","S"];function Qs(pe){switch(pe){case"narrow":return[...kr];case"short":return[...Ai];case"long":return[...ar];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const ys=["AM","PM"],Bs=["Before Christ","Anno Domini"],yi=["BC","AD"],Gs=["B","A"];function _s(pe){switch(pe){case"narrow":return[...Gs];case"short":return[...yi];case"long":return[...Bs];default:return null}}function li(pe,P){let ue="";for(const Me of pe)ue+=Me.literal?Me.val:P(Me.val);return ue}const ia={D:F,DD:b,DDD:k,DDDD:N,t:G,tt:R,ttt:j,tttt:U,T:$,TT:ie,TTT:se,TTTT:L,f:J,ff:S,fff:me,ffff:De,F:q,FF:re,FFF:Ne,FFFF:xe};class $n{static create(P,ue={}){return new $n(P,ue)}static parseFormat(P){let ue=null,Me="",rt=!1;const Nt=[];for(let Ut=0;Ut<P.length;Ut++){const rn=P.charAt(Ut);"'"===rn?(Me.length>0&&Nt.push({literal:rt||/^\s+$/.test(Me),val:Me}),ue=null,Me="",rt=!rt):rt||rn===ue?Me+=rn:(Me.length>0&&Nt.push({literal:/^\s+$/.test(Me),val:Me}),Me=rn,ue=rn)}return Me.length>0&&Nt.push({literal:rt||/^\s+$/.test(Me),val:Me}),Nt}static macroTokenToFormatOpts(P){return ia[P]}constructor(P,ue){this.opts=ue,this.loc=P,this.systemLoc=null}formatWithSystemDefault(P,ue){return null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(P,{...this.opts,...ue}).format()}dtFormatter(P,ue={}){return this.loc.dtFormatter(P,{...this.opts,...ue})}formatDateTime(P,ue){return this.dtFormatter(P,ue).format()}formatDateTimeParts(P,ue){return this.dtFormatter(P,ue).formatToParts()}formatInterval(P,ue){return this.dtFormatter(P.start,ue).dtf.formatRange(P.start.toJSDate(),P.end.toJSDate())}resolvedOptions(P,ue){return this.dtFormatter(P,ue).resolvedOptions()}num(P,ue=0){if(this.opts.forceSimple)return We(P,ue);const Me={...this.opts};return ue>0&&(Me.padTo=ue),this.loc.numberFormatter(Me).format(P)}formatDateTimeFromString(P,ue){const Me="en"===this.loc.listingMode(),rt=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,Nt=(gi,Wr)=>this.loc.extract(P,gi,Wr),Ut=gi=>P.isOffsetFixed&&0===P.offset&&gi.allowZ?"Z":P.isValid?P.zone.formatOffset(P.ts,gi.format):"",an=(gi,Wr)=>Me?function _r(pe,P){return si(P)[pe.month-1]}(P,gi):Nt(Wr?{month:gi}:{month:gi,day:"numeric"},"month"),_n=(gi,Wr)=>Me?function Ls(pe,P){return Qs(P)[pe.weekday-1]}(P,gi):Nt(Wr?{weekday:gi}:{weekday:gi,month:"long",day:"numeric"},"weekday"),qn=gi=>{const Wr=$n.macroTokenToFormatOpts(gi);return Wr?this.formatWithSystemDefault(P,Wr):gi},jn=gi=>Me?function br(pe,P){return _s(P)[pe.year<0?0:1]}(P,gi):Nt({era:gi},"era");return li($n.parseFormat(ue),gi=>{switch(gi){case"S":return this.num(P.millisecond);case"u":case"SSS":return this.num(P.millisecond,3);case"s":return this.num(P.second);case"ss":return this.num(P.second,2);case"uu":return this.num(Math.floor(P.millisecond/10),2);case"uuu":return this.num(Math.floor(P.millisecond/100));case"m":return this.num(P.minute);case"mm":return this.num(P.minute,2);case"h":return this.num(P.hour%12==0?12:P.hour%12);case"hh":return this.num(P.hour%12==0?12:P.hour%12,2);case"H":return this.num(P.hour);case"HH":return this.num(P.hour,2);case"Z":return Ut({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return Ut({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return Ut({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return P.zone.offsetName(P.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return P.zone.offsetName(P.ts,{format:"long",locale:this.loc.locale});case"z":return P.zoneName;case"a":return Me?function Tr(pe){return ys[pe.hour<12?0:1]}(P):Nt({hour:"numeric",hourCycle:"h12"},"dayperiod");case"d":return rt?Nt({day:"numeric"},"day"):this.num(P.day);case"dd":return rt?Nt({day:"2-digit"},"day"):this.num(P.day,2);case"c":case"E":return this.num(P.weekday);case"ccc":return _n("short",!0);case"cccc":return _n("long",!0);case"ccccc":return _n("narrow",!0);case"EEE":return _n("short",!1);case"EEEE":return _n("long",!1);case"EEEEE":return _n("narrow",!1);case"L":return rt?Nt({month:"numeric",day:"numeric"},"month"):this.num(P.month);case"LL":return rt?Nt({month:"2-digit",day:"numeric"},"month"):this.num(P.month,2);case"LLL":return an("short",!0);case"LLLL":return an("long",!0);case"LLLLL":return an("narrow",!0);case"M":return rt?Nt({month:"numeric"},"month"):this.num(P.month);case"MM":return rt?Nt({month:"2-digit"},"month"):this.num(P.month,2);case"MMM":return an("short",!1);case"MMMM":return an("long",!1);case"MMMMM":return an("narrow",!1);case"y":return rt?Nt({year:"numeric"},"year"):this.num(P.year);case"yy":return rt?Nt({year:"2-digit"},"year"):this.num(P.year.toString().slice(-2),2);case"yyyy":return rt?Nt({year:"numeric"},"year"):this.num(P.year,4);case"yyyyyy":return rt?Nt({year:"numeric"},"year"):this.num(P.year,6);case"G":return jn("short");case"GG":return jn("long");case"GGGGG":return jn("narrow");case"kk":return this.num(P.weekYear.toString().slice(-2),2);case"kkkk":return this.num(P.weekYear,4);case"W":return this.num(P.weekNumber);case"WW":return this.num(P.weekNumber,2);case"n":return this.num(P.localWeekNumber);case"nn":return this.num(P.localWeekNumber,2);case"ii":return this.num(P.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(P.localWeekYear,4);case"o":return this.num(P.ordinal);case"ooo":return this.num(P.ordinal,3);case"q":return this.num(P.quarter);case"qq":return this.num(P.quarter,2);case"X":return this.num(Math.floor(P.ts/1e3));case"x":return this.num(P.ts);default:return qn(gi)}})}formatDurationFromString(P,ue){const Me=an=>{switch(an[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},Nt=$n.parseFormat(ue),Ut=Nt.reduce((an,{literal:_n,val:qn})=>_n?an:an.concat(qn),[]);return li(Nt,(an=>_n=>{const qn=Me(_n);return qn?this.num(an.get(qn),_n.length):_n})(P.shiftTo(...Ut.map(Me).filter(an=>an))))}}const qr=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function mr(...pe){const P=pe.reduce((ue,Me)=>ue+Me.source,"");return RegExp(`^${P}$`)}function Ir(...pe){return P=>pe.reduce(([ue,Me,rt],Nt)=>{const[Ut,rn,an]=Nt(P,rt);return[{...ue,...Ut},rn||Me,an]},[{},null,1]).slice(0,2)}function Dr(pe,...P){if(null==pe)return[null,null];for(const[ue,Me]of P){const rt=ue.exec(pe);if(rt)return Me(rt)}return[null,null]}function Nr(...pe){return(P,ue)=>{const Me={};let rt;for(rt=0;rt<pe.length;rt++)Me[pe[rt]]=zt(P[ue+rt]);return[Me,null,ue+rt]}}const $r=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,tr=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Wn=RegExp(`${tr.source}(?:${$r.source}?(?:\\[(${qr.source})\\])?)?`),Kr=RegExp(`(?:T${Wn.source})?`),ro=Nr("weekYear","weekNumber","weekDay"),wo=Nr("year","ordinal"),Cr=RegExp(`${tr.source} ?(?:${$r.source}|(${qr.source}))?`),ls=RegExp(`(?: ${Cr.source})?`);function cs(pe,P,ue){const Me=pe[P];return In(Me)?ue:zt(Me)}function es(pe,P){return[{hours:cs(pe,P,0),minutes:cs(pe,P+1,0),seconds:cs(pe,P+2,0),milliseconds:Yt(pe[P+3])},null,P+4]}function mo(pe,P){const ue=!pe[P]&&!pe[P+1],Me=vt(pe[P+1],pe[P+2]);return[{},ue?null:tt.instance(Me),P+3]}function nr(pe,P){return[{},pe[P]?Ye.create(pe[P]):null,P+1]}const ts=RegExp(`^T?${tr.source}$`),Vo=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function ra(pe){const[P,ue,Me,rt,Nt,Ut,rn,an,_n]=pe,qn="-"===P[0],jn=an&&"-"===an[0],Er=(gi,Wr=!1)=>void 0!==gi&&(Wr||gi&&qn)?-gi:gi;return[{years:Er(ct(ue)),months:Er(ct(Me)),weeks:Er(ct(rt)),days:Er(ct(Nt)),hours:Er(ct(Ut)),minutes:Er(ct(rn)),seconds:Er(ct(an),"-0"===an),milliseconds:Er(Yt(_n),jn)}]}const so={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function oo(pe,P,ue,Me,rt,Nt,Ut){const rn={year:2===P.length?ze(zt(P)):zt(P),month:hr.indexOf(ue)+1,day:zt(Me),hour:zt(rt),minute:zt(Nt)};return Ut&&(rn.second=zt(Ut)),pe&&(rn.weekday=pe.length>3?ar.indexOf(pe)+1:Ai.indexOf(pe)+1),rn}const Ao=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function As(pe){const[,P,ue,Me,rt,Nt,Ut,rn,an,_n,qn,jn]=pe,Er=oo(P,rt,Me,ue,Nt,Ut,rn);let gi;return gi=an?so[an]:_n?0:vt(qn,jn),[Er,new tt(gi)]}const rr=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Fr=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,us=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function ao(pe){const[,P,ue,Me,rt,Nt,Ut,rn]=pe;return[oo(P,rt,Me,ue,Nt,Ut,rn),tt.utcInstance]}function Ra(pe){const[,P,ue,Me,rt,Nt,Ut,rn]=pe;return[oo(P,rn,ue,Me,rt,Nt,Ut),tt.utcInstance]}const Rs=mr(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Kr),oi=mr(/(\d{4})-?W(\d\d)(?:-?(\d))?/,Kr),zr=mr(/(\d{4})-?(\d{3})/,Kr),Hs=mr(Wn),gr=Ir(function Aa(pe,P){return[{year:cs(pe,P),month:cs(pe,P+1,1),day:cs(pe,P+2,1)},null,P+3]},es,mo,nr),Ws=Ir(ro,es,mo,nr),Br=Ir(wo,es,mo,nr),Gr=Ir(es,mo,nr),Ue=Ir(es),Ze=mr(/(\d{4})-(\d\d)-(\d\d)/,ls),Lt=mr(Cr),Kn=Ir(es,mo,nr),ds="Invalid Duration",Cs={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},ni={years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6},...Cs},Re=365.2425,Je=30.436875,Et={years:{quarters:4,months:12,weeks:Re/7,days:Re,hours:24*Re,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:Re/28,days:Re/4,hours:24*Re/4,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:Je/7,days:Je,hours:24*Je,minutes:43829.1,seconds:2629746,milliseconds:2629746e3},...Cs},kt=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],Vt=kt.slice(0).reverse();function St(pe,P,ue=!1){const Me={values:ue?P.values:{...pe.values,...P.values||{}},loc:pe.loc.clone(P.loc),conversionAccuracy:P.conversionAccuracy||pe.conversionAccuracy,matrix:P.matrix||pe.matrix};return new Pn(Me)}function on(pe,P){let ue=P.milliseconds??0;for(const Me of Vt.slice(1))P[Me]&&(ue+=P[Me]*pe[Me].milliseconds);return ue}function Nn(pe,P){const ue=on(pe,P)<0?-1:1;kt.reduceRight((Me,rt)=>{if(In(P[rt]))return Me;if(Me){const Ut=pe[rt][Me],rn=Math.floor(P[Me]*ue/Ut);P[rt]+=rn*ue,P[Me]-=rn*Ut*ue}return rt},null),kt.reduce((Me,rt)=>{if(In(P[rt]))return Me;if(Me){const Nt=P[Me]%1;P[Me]-=Nt,P[rt]+=Nt*pe[Me][rt]}return rt},null)}class Pn{constructor(P){const ue="longterm"===P.conversionAccuracy||!1;let Me=ue?Et:ni;P.matrix&&(Me=P.matrix),this.values=P.values,this.loc=P.loc||oe.create(),this.conversionAccuracy=ue?"longterm":"casual",this.invalid=P.invalid||null,this.matrix=Me,this.isLuxonDuration=!0}static fromMillis(P,ue){return Pn.fromObject({milliseconds:P},ue)}static fromObject(P,ue={}){if(null==P||"object"!=typeof P)throw new m("Duration.fromObject: argument expected to be an object, got "+(null===P?"null":typeof P));return new Pn({values:Vn(P,Pn.normalizeUnit),loc:oe.fromObject(ue),conversionAccuracy:ue.conversionAccuracy,matrix:ue.matrix})}static fromDurationLike(P){if(mn(P))return Pn.fromMillis(P);if(Pn.isDuration(P))return P;if("object"==typeof P)return Pn.fromObject(P);throw new m(`Unknown duration argument ${P} of type ${typeof P}`)}static fromISO(P,ue){const[Me]=function ke(pe){return Dr(pe,[Vo,ra])}(P);return Me?Pn.fromObject(Me,ue):Pn.invalid("unparsable",`the input "${P}" can't be parsed as ISO 8601`)}static fromISOTime(P,ue){const[Me]=function he(pe){return Dr(pe,[ts,Ue])}(P);return Me?Pn.fromObject(Me,ue):Pn.invalid("unparsable",`the input "${P}" can't be parsed as ISO 8601`)}static invalid(P,ue=null){if(!P)throw new m("need to specify a reason the Duration is invalid");const Me=P instanceof Ct?P:new Ct(P,ue);if(lt.throwOnInvalid)throw new p(Me);return new Pn({invalid:Me})}static normalizeUnit(P){const ue={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[P&&P.toLowerCase()];if(!ue)throw new C(P);return ue}static isDuration(P){return P&&P.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(P,ue={}){const Me={...ue,floor:!1!==ue.round&&!1!==ue.floor};return this.isValid?$n.create(this.loc,Me).formatDurationFromString(this,P):ds}toHuman(P={}){if(!this.isValid)return ds;const ue=kt.map(Me=>{const rt=this.values[Me];return In(rt)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...P,unit:Me.slice(0,-1)}).format(rt)}).filter(Me=>Me);return this.loc.listFormatter({type:"conjunction",style:P.listStyle||"narrow",...P}).format(ue)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let P="P";return 0!==this.years&&(P+=this.years+"Y"),(0!==this.months||0!==this.quarters)&&(P+=this.months+3*this.quarters+"M"),0!==this.weeks&&(P+=this.weeks+"W"),0!==this.days&&(P+=this.days+"D"),(0!==this.hours||0!==this.minutes||0!==this.seconds||0!==this.milliseconds)&&(P+="T"),0!==this.hours&&(P+=this.hours+"H"),0!==this.minutes&&(P+=this.minutes+"M"),(0!==this.seconds||0!==this.milliseconds)&&(P+=Xe(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===P&&(P+="T0S"),P}toISOTime(P={}){if(!this.isValid)return null;const ue=this.toMillis();return ue<0||ue>=864e5?null:(P={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...P,includeOffset:!1},ii.fromMillis(ue,{zone:"UTC"}).toISOTime(P))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?on(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(P){if(!this.isValid)return this;const ue=Pn.fromDurationLike(P),Me={};for(const rt of kt)(ji(ue.values,rt)||ji(this.values,rt))&&(Me[rt]=ue.get(rt)+this.get(rt));return St(this,{values:Me},!0)}minus(P){if(!this.isValid)return this;const ue=Pn.fromDurationLike(P);return this.plus(ue.negate())}mapUnits(P){if(!this.isValid)return this;const ue={};for(const Me of Object.keys(this.values))ue[Me]=Xt(P(this.values[Me],Me));return St(this,{values:ue},!0)}get(P){return this[Pn.normalizeUnit(P)]}set(P){return this.isValid?St(this,{values:{...this.values,...Vn(P,Pn.normalizeUnit)}}):this}reconfigure({locale:P,numberingSystem:ue,conversionAccuracy:Me,matrix:rt}={}){return St(this,{loc:this.loc.clone({locale:P,numberingSystem:ue}),matrix:rt,conversionAccuracy:Me})}as(P){return this.isValid?this.shiftTo(P).get(P):NaN}normalize(){if(!this.isValid)return this;const P=this.toObject();return Nn(this.matrix,P),St(this,{values:P},!0)}rescale(){return this.isValid?St(this,{values:function _i(pe){const P={};for(const[ue,Me]of Object.entries(pe))0!==Me&&(P[ue]=Me);return P}(this.normalize().shiftToAll().toObject())},!0):this}shiftTo(...P){if(!this.isValid)return this;if(0===P.length)return this;P=P.map(Ut=>Pn.normalizeUnit(Ut));const ue={},Me={},rt=this.toObject();let Nt;for(const Ut of kt)if(P.indexOf(Ut)>=0){Nt=Ut;let rn=0;for(const _n in Me)rn+=this.matrix[_n][Ut]*Me[_n],Me[_n]=0;mn(rt[Ut])&&(rn+=rt[Ut]);const an=Math.trunc(rn);ue[Ut]=an,Me[Ut]=(1e3*rn-1e3*an)/1e3}else mn(rt[Ut])&&(Me[Ut]=rt[Ut]);for(const Ut in Me)0!==Me[Ut]&&(ue[Nt]+=Ut===Nt?Me[Ut]:Me[Ut]/this.matrix[Nt][Ut]);return Nn(this.matrix,ue),St(this,{values:ue},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const P={};for(const ue of Object.keys(this.values))P[ue]=0===this.values[ue]?0:-this.values[ue];return St(this,{values:P},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(P){if(!this.isValid||!P.isValid||!this.loc.equals(P.loc))return!1;function ue(Me,rt){return void 0===Me||0===Me?void 0===rt||0===rt:Me===rt}for(const Me of kt)if(!ue(this.values[Me],P.values[Me]))return!1;return!0}}const cr="Invalid Interval";class ui{constructor(P){this.s=P.start,this.e=P.end,this.invalid=P.invalid||null,this.isLuxonInterval=!0}static invalid(P,ue=null){if(!P)throw new m("need to specify a reason the Interval is invalid");const Me=P instanceof Ct?P:new Ct(P,ue);if(lt.throwOnInvalid)throw new y(Me);return new ui({invalid:Me})}static fromDateTimes(P,ue){const Me=Qi(P),rt=Qi(ue),Nt=function Hr(pe,P){return pe&&pe.isValid?P&&P.isValid?P<pe?ui.invalid("end before start",`The end of an interval must be after its start, but you had start=${pe.toISO()} and end=${P.toISO()}`):null:ui.invalid("missing or invalid end"):ui.invalid("missing or invalid start")}(Me,rt);return Nt??new ui({start:Me,end:rt})}static after(P,ue){const Me=Pn.fromDurationLike(ue),rt=Qi(P);return ui.fromDateTimes(rt,rt.plus(Me))}static before(P,ue){const Me=Pn.fromDurationLike(ue),rt=Qi(P);return ui.fromDateTimes(rt.minus(Me),rt)}static fromISO(P,ue){const[Me,rt]=(P||"").split("/",2);if(Me&&rt){let Nt,Ut,rn,an;try{Nt=ii.fromISO(Me,ue),Ut=Nt.isValid}catch{Ut=!1}try{rn=ii.fromISO(rt,ue),an=rn.isValid}catch{an=!1}if(Ut&&an)return ui.fromDateTimes(Nt,rn);if(Ut){const _n=Pn.fromISO(rt,ue);if(_n.isValid)return ui.after(Nt,_n)}else if(an){const _n=Pn.fromISO(Me,ue);if(_n.isValid)return ui.before(rn,_n)}}return ui.invalid("unparsable",`the input "${P}" can't be parsed as ISO 8601`)}static isInterval(P){return P&&P.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return null===this.invalidReason}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(P="milliseconds"){return this.isValid?this.toDuration(P).get(P):NaN}count(P="milliseconds",ue){if(!this.isValid)return NaN;const Me=this.start.startOf(P,ue);let rt;return rt=ue?.useLocaleWeeks?this.end.reconfigure({locale:Me.locale}):this.end,rt=rt.startOf(P,ue),Math.floor(rt.diff(Me,P).get(P))+(rt.valueOf()!==this.end.valueOf())}hasSame(P){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,P))}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(P){return!!this.isValid&&this.s>P}isBefore(P){return!!this.isValid&&this.e<=P}contains(P){return!!this.isValid&&this.s<=P&&this.e>P}set({start:P,end:ue}={}){return this.isValid?ui.fromDateTimes(P||this.s,ue||this.e):this}splitAt(...P){if(!this.isValid)return[];const ue=P.map(Qi).filter(Ut=>this.contains(Ut)).sort((Ut,rn)=>Ut.toMillis()-rn.toMillis()),Me=[];let{s:rt}=this,Nt=0;for(;rt<this.e;){const Ut=ue[Nt]||this.e,rn=+Ut>+this.e?this.e:Ut;Me.push(ui.fromDateTimes(rt,rn)),rt=rn,Nt+=1}return Me}splitBy(P){const ue=Pn.fromDurationLike(P);if(!this.isValid||!ue.isValid||0===ue.as("milliseconds"))return[];let Nt,{s:Me}=this,rt=1;const Ut=[];for(;Me<this.e;){const rn=this.start.plus(ue.mapUnits(an=>an*rt));Nt=+rn>+this.e?this.e:rn,Ut.push(ui.fromDateTimes(Me,Nt)),Me=Nt,rt+=1}return Ut}divideEqually(P){return this.isValid?this.splitBy(this.length()/P).slice(0,P):[]}overlaps(P){return this.e>P.s&&this.s<P.e}abutsStart(P){return!!this.isValid&&+this.e==+P.s}abutsEnd(P){return!!this.isValid&&+P.e==+this.s}engulfs(P){return!!this.isValid&&this.s<=P.s&&this.e>=P.e}equals(P){return!(!this.isValid||!P.isValid)&&this.s.equals(P.s)&&this.e.equals(P.e)}intersection(P){if(!this.isValid)return this;const ue=this.s>P.s?this.s:P.s,Me=this.e<P.e?this.e:P.e;return ue>=Me?null:ui.fromDateTimes(ue,Me)}union(P){return this.isValid?ui.fromDateTimes(this.s<P.s?this.s:P.s,this.e>P.e?this.e:P.e):this}static merge(P){const[ue,Me]=P.sort((rt,Nt)=>rt.s-Nt.s).reduce(([rt,Nt],Ut)=>Nt?Nt.overlaps(Ut)||Nt.abutsStart(Ut)?[rt,Nt.union(Ut)]:[rt.concat([Nt]),Ut]:[rt,Ut],[[],null]);return Me&&ue.push(Me),ue}static xor(P){let ue=null,Me=0;const rt=[],Nt=P.map(an=>[{time:an.s,type:"s"},{time:an.e,type:"e"}]),rn=Array.prototype.concat(...Nt).sort((an,_n)=>an.time-_n.time);for(const an of rn)Me+="s"===an.type?1:-1,1===Me?ue=an.time:(ue&&+ue!=+an.time&&rt.push(ui.fromDateTimes(ue,an.time)),ue=null);return ui.merge(rt)}difference(...P){return ui.xor([this].concat(P)).map(ue=>this.intersection(ue)).filter(ue=>ue&&!ue.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:cr}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(P=F,ue={}){return this.isValid?$n.create(this.s.loc.clone(ue),P).formatInterval(this):cr}toISO(P){return this.isValid?`${this.s.toISO(P)}/${this.e.toISO(P)}`:cr}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:cr}toISOTime(P){return this.isValid?`${this.s.toISOTime(P)}/${this.e.toISOTime(P)}`:cr}toFormat(P,{separator:ue=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(P)}${ue}${this.e.toFormat(P)}`:cr}toDuration(P,ue){return this.isValid?this.e.diff(this.s,P,ue):Pn.invalid(this.invalidReason)}mapEndpoints(P){return ui.fromDateTimes(P(this.s),P(this.e))}}class hs{static hasDST(P=lt.defaultZone){const ue=ii.now().setZone(P).set({month:12});return!P.isUniversal&&ue.offset!==ue.set({month:6}).offset}static isValidIANAZone(P){return Ye.isValidZone(P)}static normalizeZone(P){return Bt(P,lt.defaultZone)}static getStartOfWeek({locale:P=null,locObj:ue=null}={}){return(ue||oe.create(P)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:P=null,locObj:ue=null}={}){return(ue||oe.create(P)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:P=null,locObj:ue=null}={}){return(ue||oe.create(P)).getWeekendDays().slice()}static months(P="long",{locale:ue=null,numberingSystem:Me=null,locObj:rt=null,outputCalendar:Nt="gregory"}={}){return(rt||oe.create(ue,Me,Nt)).months(P)}static monthsFormat(P="long",{locale:ue=null,numberingSystem:Me=null,locObj:rt=null,outputCalendar:Nt="gregory"}={}){return(rt||oe.create(ue,Me,Nt)).months(P,!0)}static weekdays(P="long",{locale:ue=null,numberingSystem:Me=null,locObj:rt=null}={}){return(rt||oe.create(ue,Me,null)).weekdays(P)}static weekdaysFormat(P="long",{locale:ue=null,numberingSystem:Me=null,locObj:rt=null}={}){return(rt||oe.create(ue,Me,null)).weekdays(P,!0)}static meridiems({locale:P=null}={}){return oe.create(P).meridiems()}static eras(P="short",{locale:ue=null}={}){return oe.create(ue,null,"gregory").eras(P)}static features(){return{relative:Oi(),localeWeek:Xn()}}}function $i(pe,P){const ue=rt=>rt.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),Me=ue(P)-ue(pe);return Math.floor(Pn.fromMillis(Me).as("days"))}const Pi={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",latn:"\\d"},Ki={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},ns=Pi.hanidec.replace(/[\[|\]]/g,"").split("");function vr({numberingSystem:pe},P=""){return new RegExp(`${Pi[pe||"latn"]}${P}`)}function xi(pe,P=(ue=>ue)){return{regex:pe,deser:([ue])=>P(function Us(pe){let P=parseInt(pe,10);if(isNaN(P)){P="";for(let ue=0;ue<pe.length;ue++){const Me=pe.charCodeAt(ue);if(-1!==pe[ue].search(Pi.hanidec))P+=ns.indexOf(pe[ue]);else for(const rt in Ki){const[Nt,Ut]=Ki[rt];Me>=Nt&&Me<=Ut&&(P+=Me-Nt)}}return parseInt(P,10)}return P}(ue))}}const ml="[ \xa0]",gl=new RegExp(ml,"g");function xo(pe){return pe.replace(/\./g,"\\.?").replace(gl,ml)}function jo(pe){return pe.replace(/\./g,"").replace(gl," ").toLowerCase()}function Vs(pe,P){return null===pe?null:{regex:RegExp(pe.map(xo).join("|")),deser:([ue])=>pe.findIndex(Me=>jo(ue)===jo(Me))+P}}function pa(pe,P){return{regex:pe,deser:([,ue,Me])=>vt(ue,Me),groups:P}}function wr(pe){return{regex:pe,deser:([P])=>P}}function Jn(pe){return pe.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}const $o={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};let ko=null;function Xa(pe,P){return Array.prototype.concat(...pe.map(ue=>function Ma(pe,P){if(pe.literal)return pe;const Me=Ar($n.macroTokenToFormatOpts(pe.val),P);return null==Me||Me.includes(void 0)?pe:Me}(ue,P)))}function Ja(pe,P,ue){const Me=Xa($n.parseFormat(ue),pe),rt=Me.map(Ut=>function Mr(pe,P){const ue=vr(P),Me=vr(P,"{2}"),rt=vr(P,"{3}"),Nt=vr(P,"{4}"),Ut=vr(P,"{6}"),rn=vr(P,"{1,2}"),an=vr(P,"{1,3}"),_n=vr(P,"{1,6}"),qn=vr(P,"{1,9}"),jn=vr(P,"{2,4}"),Er=vr(P,"{4,6}"),gi=Ss=>({regex:RegExp(Jn(Ss.val)),deser:([or])=>or,literal:!0}),Rr=(Ss=>{if(pe.literal)return gi(Ss);switch(Ss.val){case"G":return Vs(P.eras("short"),0);case"GG":return Vs(P.eras("long"),0);case"y":return xi(_n);case"yy":case"kk":return xi(jn,ze);case"yyyy":case"kkkk":return xi(Nt);case"yyyyy":return xi(Er);case"yyyyyy":return xi(Ut);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return xi(rn);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return xi(Me);case"MMM":return Vs(P.months("short",!0),1);case"MMMM":return Vs(P.months("long",!0),1);case"LLL":return Vs(P.months("short",!1),1);case"LLLL":return Vs(P.months("long",!1),1);case"o":case"S":return xi(an);case"ooo":case"SSS":return xi(rt);case"u":return wr(qn);case"uu":return wr(rn);case"uuu":case"E":case"c":return xi(ue);case"a":return Vs(P.meridiems(),0);case"EEE":return Vs(P.weekdays("short",!1),1);case"EEEE":return Vs(P.weekdays("long",!1),1);case"ccc":return Vs(P.weekdays("short",!0),1);case"cccc":return Vs(P.weekdays("long",!0),1);case"Z":case"ZZ":return pa(new RegExp(`([+-]${rn.source})(?::(${Me.source}))?`),2);case"ZZZ":return pa(new RegExp(`([+-]${rn.source})(${Me.source})?`),2);case"z":return wr(/[a-z_+-/]{1,256}?/i);case" ":return wr(/[^\S\n\r]/);default:return gi(Ss)}})(pe)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};return Rr.token=pe,Rr}(Ut,pe)),Nt=rt.find(Ut=>Ut.invalidReason);if(Nt)return{input:P,tokens:Me,invalidReason:Nt.invalidReason};{const[Ut,rn]=function za(pe){return[`^${pe.map(ue=>ue.regex).reduce((ue,Me)=>`${ue}(${Me.source})`,"")}$`,pe]}(rt),an=RegExp(Ut,"i"),[_n,qn]=function $l(pe,P,ue){const Me=pe.match(P);if(Me){const rt={};let Nt=1;for(const Ut in ue)if(ji(ue,Ut)){const rn=ue[Ut],an=rn.groups?rn.groups+1:1;!rn.literal&&rn.token&&(rt[rn.token.val[0]]=rn.deser(Me.slice(Nt,Nt+an))),Nt+=an}return[Me,rt]}return[Me,{}]}(P,an,rn),[jn,Er,gi]=qn?function Go(pe){let Me,ue=null;return In(pe.z)||(ue=Ye.create(pe.z)),In(pe.Z)||(ue||(ue=new tt(pe.Z)),Me=pe.Z),In(pe.q)||(pe.M=3*(pe.q-1)+1),In(pe.h)||(pe.h<12&&1===pe.a?pe.h+=12:12===pe.h&&0===pe.a&&(pe.h=0)),0===pe.G&&pe.y&&(pe.y=-pe.y),In(pe.u)||(pe.S=Yt(pe.u)),[Object.keys(pe).reduce((Nt,Ut)=>{const rn=(Nt=>{switch(Nt){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}})(Ut);return rn&&(Nt[rn]=pe[Ut]),Nt},{}),ue,Me]}(qn):[null,null,void 0];if(ji(qn,"a")&&ji(qn,"H"))throw new w("Can't include meridiem when specifying 24-hour format");return{input:P,tokens:Me,regex:an,rawMatches:_n,matches:qn,result:jn,zone:Er,specificOffset:gi}}}function Ar(pe,P){if(!pe)return null;const Me=$n.create(P,pe).dtFormatter(function Ya(){return ko||(ko=ii.fromMillis(1555555555555)),ko}()),rt=Me.formatToParts(),Nt=Me.resolvedOptions();return rt.map(Ut=>function gs(pe,P,ue){const{type:Me,value:rt}=pe;if("literal"===Me){const an=/^\s+$/.test(rt);return{literal:!an,val:an?" ":rt}}let Ut=Me;"hour"===Me&&(Ut=null!=P.hour12?P.hour12?"hour12":"hour24":null!=P.hourCycle?"h11"===P.hourCycle||"h12"===P.hourCycle?"hour12":"hour24":ue.hour12?"hour12":"hour24");let rn=$o[Ut];if("object"==typeof rn&&(rn=rn[P[Me]]),rn)return{literal:!1,val:rn}}(Ut,pe,Nt))}const go="Invalid DateTime",Ms=864e13;function qs(pe){return new Ct("unsupported zone",`the zone "${pe.name}" is not supported`)}function Ho(pe){return null===pe.weekData&&(pe.weekData=Gn(pe.c)),pe.weekData}function Eo(pe){return null===pe.localWeekData&&(pe.localWeekData=Gn(pe.c,pe.loc.getMinDaysInFirstWeek(),pe.loc.getStartOfWeek())),pe.localWeekData}function Xr(pe,P){const ue={ts:pe.ts,zone:pe.zone,c:pe.c,o:pe.o,loc:pe.loc,invalid:pe.invalid};return new ii({...ue,...P,old:ue})}function vs(pe,P,ue){let Me=pe-60*P*1e3;const rt=ue.offset(Me);if(P===rt)return[Me,P];Me-=60*(rt-P)*1e3;const Nt=ue.offset(Me);return rt===Nt?[Me,rt]:[pe-60*Math.min(rt,Nt)*1e3,Math.max(rt,Nt)]}function Qa(pe,P){const ue=new Date(pe+=60*P*1e3);return{year:ue.getUTCFullYear(),month:ue.getUTCMonth()+1,day:ue.getUTCDate(),hour:ue.getUTCHours(),minute:ue.getUTCMinutes(),second:ue.getUTCSeconds(),millisecond:ue.getUTCMilliseconds()}}function ma(pe,P,ue){return vs(Ie(pe),P,ue)}function lo(pe,P){const ue=pe.o,Me=pe.c.year+Math.trunc(P.years),rt=pe.c.month+Math.trunc(P.months)+3*Math.trunc(P.quarters),Nt={...pe.c,year:Me,month:rt,day:Math.min(pe.c.day,_e(Me,rt))+Math.trunc(P.days)+7*Math.trunc(P.weeks)},Ut=Pn.fromObject({years:P.years-Math.trunc(P.years),quarters:P.quarters-Math.trunc(P.quarters),months:P.months-Math.trunc(P.months),weeks:P.weeks-Math.trunc(P.weeks),days:P.days-Math.trunc(P.days),hours:P.hours,minutes:P.minutes,seconds:P.seconds,milliseconds:P.milliseconds}).as("milliseconds"),rn=Ie(Nt);let[an,_n]=vs(rn,ue,pe.zone);return 0!==Ut&&(an+=Ut,_n=pe.zone.offset(an)),{ts:an,o:_n}}function xs(pe,P,ue,Me,rt,Nt){const{setZone:Ut,zone:rn}=ue;if(pe&&0!==Object.keys(pe).length||P){const an=P||rn,_n=ii.fromObject(pe,{...ue,zone:an,specificOffset:Nt});return Ut?_n:_n.setZone(rn)}return ii.invalid(new Ct("unparsable",`the input "${rt}" can't be parsed as ${Me}`))}function Fi(pe,P,ue=!0){return pe.isValid?$n.create(oe.create("en-US"),{allowZ:ue,forceSimple:!0}).formatDateTimeFromString(pe,P):null}function Es(pe,P){const ue=pe.c.year>9999||pe.c.year<0;let Me="";return ue&&pe.c.year>=0&&(Me+="+"),Me+=We(pe.c.year,ue?6:4),P?(Me+="-",Me+=We(pe.c.month),Me+="-",Me+=We(pe.c.day)):(Me+=We(pe.c.month),Me+=We(pe.c.day)),Me}function ee(pe,P,ue,Me,rt,Nt){let Ut=We(pe.c.hour);return P?(Ut+=":",Ut+=We(pe.c.minute),(0!==pe.c.millisecond||0!==pe.c.second||!ue)&&(Ut+=":")):Ut+=We(pe.c.minute),(0!==pe.c.millisecond||0!==pe.c.second||!ue)&&(Ut+=We(pe.c.second),(0!==pe.c.millisecond||!Me)&&(Ut+=".",Ut+=We(pe.c.millisecond,3))),rt&&(pe.isOffsetFixed&&0===pe.offset&&!Nt?Ut+="Z":pe.o<0?(Ut+="-",Ut+=We(Math.trunc(-pe.o/60)),Ut+=":",Ut+=We(Math.trunc(-pe.o%60))):(Ut+="+",Ut+=We(Math.trunc(pe.o/60)),Ut+=":",Ut+=We(Math.trunc(pe.o%60)))),Nt&&(Ut+="["+pe.zone.ianaName+"]"),Ut}const Ke={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},de={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Pe={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Rt=["year","month","day","hour","minute","second","millisecond"],pn=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],wn=["year","ordinal","hour","minute","second","millisecond"];function fr(pe){switch(pe.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return function Zn(pe){const P={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[pe.toLowerCase()];if(!P)throw new C(pe);return P}(pe)}}function sr(pe,P){const ue=Bt(P.zone,lt.defaultZone),Me=oe.fromObject(P),rt=lt.now();let Nt,Ut;if(In(pe.year))Nt=rt;else{for(const _n of Rt)In(pe[_n])&&(pe[_n]=Ke[_n]);const rn=gn(pe)||Yn(pe);if(rn)return ii.invalid(rn);const an=ue.offset(rt);[Nt,Ut]=ma(pe,an,ue)}return new ii({ts:Nt,zone:ue,loc:Me,o:Ut})}function Ji(pe,P,ue){const Me=!!In(ue.round)||ue.round,rt=(Ut,rn)=>(Ut=Xe(Ut,Me||ue.calendary?0:2,!0),P.loc.clone(ue).relFormatter(ue).format(Ut,rn)),Nt=Ut=>ue.calendary?P.hasSame(pe,Ut)?0:P.startOf(Ut).diff(pe.startOf(Ut),Ut).get(Ut):P.diff(pe,Ut).get(Ut);if(ue.unit)return rt(Nt(ue.unit),ue.unit);for(const Ut of ue.units){const rn=Nt(Ut);if(Math.abs(rn)>=1)return rt(rn,Ut)}return rt(pe>P?-0:0,ue.units[ue.units.length-1])}function Vi(pe){let ue,P={};return pe.length>0&&"object"==typeof pe[pe.length-1]?(P=pe[pe.length-1],ue=Array.from(pe).slice(0,pe.length-1)):ue=Array.from(pe),[P,ue]}class ii{constructor(P){const ue=P.zone||lt.defaultZone;let Me=P.invalid||(Number.isNaN(P.ts)?new Ct("invalid input"):null)||(ue.isValid?null:qs(ue));this.ts=In(P.ts)?lt.now():P.ts;let rt=null,Nt=null;if(!Me)if(P.old&&P.old.ts===this.ts&&P.old.zone.equals(ue))[rt,Nt]=[P.old.c,P.old.o];else{const rn=ue.offset(this.ts);rt=Qa(this.ts,rn),Me=Number.isNaN(rt.year)?new Ct("invalid input"):null,rt=Me?null:rt,Nt=Me?null:rn}this._zone=ue,this.loc=P.loc||oe.create(),this.invalid=Me,this.weekData=null,this.localWeekData=null,this.c=rt,this.o=Nt,this.isLuxonDateTime=!0}static now(){return new ii({})}static local(){const[P,ue]=Vi(arguments),[Me,rt,Nt,Ut,rn,an,_n]=ue;return sr({year:Me,month:rt,day:Nt,hour:Ut,minute:rn,second:an,millisecond:_n},P)}static utc(){const[P,ue]=Vi(arguments),[Me,rt,Nt,Ut,rn,an,_n]=ue;return P.zone=tt.utcInstance,sr({year:Me,month:rt,day:Nt,hour:Ut,minute:rn,second:an,millisecond:_n},P)}static fromJSDate(P,ue={}){const Me=function ei(pe){return"[object Date]"===Object.prototype.toString.call(pe)}(P)?P.valueOf():NaN;if(Number.isNaN(Me))return ii.invalid("invalid input");const rt=Bt(ue.zone,lt.defaultZone);return rt.isValid?new ii({ts:Me,zone:rt,loc:oe.fromObject(ue)}):ii.invalid(qs(rt))}static fromMillis(P,ue={}){if(mn(P))return P<-Ms||P>Ms?ii.invalid("Timestamp out of range"):new ii({ts:P,zone:Bt(ue.zone,lt.defaultZone),loc:oe.fromObject(ue)});throw new m(`fromMillis requires a numerical input, but received a ${typeof P} with value ${P}`)}static fromSeconds(P,ue={}){if(mn(P))return new ii({ts:1e3*P,zone:Bt(ue.zone,lt.defaultZone),loc:oe.fromObject(ue)});throw new m("fromSeconds requires a numerical input")}static fromObject(P,ue={}){P=P||{};const Me=Bt(ue.zone,lt.defaultZone);if(!Me.isValid)return ii.invalid(qs(Me));const rt=oe.fromObject(ue),Nt=Vn(P,fr),{minDaysInFirstWeek:Ut,startOfWeek:rn}=$t(Nt,rt),an=lt.now(),_n=In(ue.specificOffset)?Me.offset(an):ue.specificOffset,qn=!In(Nt.ordinal),jn=!In(Nt.year),Er=!In(Nt.month)||!In(Nt.day),gi=jn||Er,Wr=Nt.weekYear||Nt.weekNumber;if((gi||qn)&&Wr)throw new w("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(Er&&qn)throw new w("Can't mix ordinal dates with month/day");const Rr=Wr||Nt.weekday&&!gi;let Ss,or,fs=Qa(an,_n);Rr?(Ss=pn,or=de,fs=Gn(fs,Ut,rn)):qn?(Ss=wn,or=Pe,fs=ht(fs)):(Ss=Rt,or=Ke);let Wo=!1;for(const oa of Ss)In(Nt[oa])?Nt[oa]=Wo?or[oa]:fs[oa]:Wo=!0;const xa=Rr?function nn(pe,P=4,ue=1){const Me=ci(pe.weekYear),rt=qe(pe.weekNumber,1,ft(pe.weekYear,P,ue)),Nt=qe(pe.weekday,1,7);return Me?rt?!Nt&&en("weekday",pe.weekday):en("week",pe.weekNumber):en("weekYear",pe.weekYear)}(Nt,Ut,rn):qn?function vn(pe){const P=ci(pe.year),ue=qe(pe.ordinal,1,ut(pe.year));return P?!ue&&en("ordinal",pe.ordinal):en("year",pe.year)}(Nt):gn(Nt),So=xa||Yn(Nt);if(So)return ii.invalid(So);const ks=Rr?Mt(Nt,Ut,rn):qn?xt(Nt):Nt,[sa,Ri]=ma(ks,_n,Me),ka=new ii({ts:sa,zone:Me,o:Ri,loc:rt});return Nt.weekday&&gi&&P.weekday!==ka.weekday?ii.invalid("mismatched weekday",`you can't specify both a weekday of ${Nt.weekday} and a date of ${ka.toISO()}`):ka}static fromISO(P,ue={}){const[Me,rt]=function Yr(pe){return Dr(pe,[Rs,gr],[oi,Ws],[zr,Br],[Hs,Gr])}(P);return xs(Me,rt,ue,"ISO 8601",P)}static fromRFC2822(P,ue={}){const[Me,rt]=function Cn(pe){return Dr(function Pr(pe){return pe.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(pe),[Ao,As])}(P);return xs(Me,rt,ue,"RFC 2822",P)}static fromHTTP(P,ue={}){const[Me,rt]=function bs(pe){return Dr(pe,[rr,ao],[Fr,ao],[us,Ra])}(P);return xs(Me,rt,ue,"HTTP",ue)}static fromFormat(P,ue,Me={}){if(In(P)||In(ue))throw new m("fromFormat requires an input string and a format");const{locale:rt=null,numberingSystem:Nt=null}=Me,Ut=oe.fromOpts({locale:rt,numberingSystem:Nt,defaultToEN:!0}),[rn,an,_n,qn]=function ws(pe,P,ue){const{result:Me,zone:rt,specificOffset:Nt,invalidReason:Ut}=Ja(pe,P,ue);return[Me,rt,Nt,Ut]}(Ut,P,ue);return qn?ii.invalid(qn):xs(rn,an,Me,`format ${ue}`,P,_n)}static fromString(P,ue,Me={}){return ii.fromFormat(P,ue,Me)}static fromSQL(P,ue={}){const[Me,rt]=function Si(pe){return Dr(pe,[Ze,gr],[Lt,Kn])}(P);return xs(Me,rt,ue,"SQL",P)}static invalid(P,ue=null){if(!P)throw new m("need to specify a reason the DateTime is invalid");const Me=P instanceof Ct?P:new Ct(P,ue);if(lt.throwOnInvalid)throw new e(Me);return new ii({invalid:Me})}static isDateTime(P){return P&&P.isLuxonDateTime||!1}static parseFormatForOpts(P,ue={}){const Me=Ar(P,oe.fromObject(ue));return Me?Me.map(rt=>rt?rt.val:null).join(""):null}static expandFormat(P,ue={}){return Xa($n.parseFormat(P),oe.fromObject(ue)).map(rt=>rt.val).join("")}get(P){return this[P]}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Ho(this).weekYear:NaN}get weekNumber(){return this.isValid?Ho(this).weekNumber:NaN}get weekday(){return this.isValid?Ho(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?Eo(this).weekday:NaN}get localWeekNumber(){return this.isValid?Eo(this).weekNumber:NaN}get localWeekYear(){return this.isValid?Eo(this).weekYear:NaN}get ordinal(){return this.isValid?ht(this.c).ordinal:NaN}get monthShort(){return this.isValid?hs.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?hs.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?hs.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?hs.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return!this.isOffsetFixed&&(this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset)}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const P=864e5,ue=6e4,Me=Ie(this.c),rt=this.zone.offset(Me-P),Nt=this.zone.offset(Me+P),Ut=this.zone.offset(Me-rt*ue),rn=this.zone.offset(Me-Nt*ue);if(Ut===rn)return[this];const an=Me-Ut*ue,_n=Me-rn*ue,qn=Qa(an,Ut),jn=Qa(_n,rn);return qn.hour===jn.hour&&qn.minute===jn.minute&&qn.second===jn.second&&qn.millisecond===jn.millisecond?[Xr(this,{ts:an}),Xr(this,{ts:_n})]:[this]}get isInLeapYear(){return Zt(this.year)}get daysInMonth(){return _e(this.year,this.month)}get daysInYear(){return this.isValid?ut(this.year):NaN}get weeksInWeekYear(){return this.isValid?ft(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?ft(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(P={}){const{locale:ue,numberingSystem:Me,calendar:rt}=$n.create(this.loc.clone(P),P).resolvedOptions(this);return{locale:ue,numberingSystem:Me,outputCalendar:rt}}toUTC(P=0,ue={}){return this.setZone(tt.instance(P),ue)}toLocal(){return this.setZone(lt.defaultZone)}setZone(P,{keepLocalTime:ue=!1,keepCalendarTime:Me=!1}={}){if((P=Bt(P,lt.defaultZone)).equals(this.zone))return this;if(P.isValid){let rt=this.ts;if(ue||Me){const Nt=P.offset(this.ts),Ut=this.toObject();[rt]=ma(Ut,Nt,P)}return Xr(this,{ts:rt,zone:P})}return ii.invalid(qs(P))}reconfigure({locale:P,numberingSystem:ue,outputCalendar:Me}={}){return Xr(this,{loc:this.loc.clone({locale:P,numberingSystem:ue,outputCalendar:Me})})}setLocale(P){return this.reconfigure({locale:P})}set(P){if(!this.isValid)return this;const ue=Vn(P,fr),{minDaysInFirstWeek:Me,startOfWeek:rt}=$t(ue,this.loc),Nt=!In(ue.weekYear)||!In(ue.weekNumber)||!In(ue.weekday),Ut=!In(ue.ordinal),rn=!In(ue.year),an=!In(ue.month)||!In(ue.day);if((rn||an||Ut)&&(ue.weekYear||ue.weekNumber))throw new w("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(an&&Ut)throw new w("Can't mix ordinal dates with month/day");let jn;Nt?jn=Mt({...Gn(this.c,Me,rt),...ue},Me,rt):In(ue.ordinal)?(jn={...this.toObject(),...ue},In(ue.day)&&(jn.day=Math.min(_e(jn.year,jn.month),jn.day))):jn=xt({...ht(this.c),...ue});const[Er,gi]=ma(jn,this.o,this.zone);return Xr(this,{ts:Er,o:gi})}plus(P){return this.isValid?Xr(this,lo(this,Pn.fromDurationLike(P))):this}minus(P){return this.isValid?Xr(this,lo(this,Pn.fromDurationLike(P).negate())):this}startOf(P,{useLocaleWeeks:ue=!1}={}){if(!this.isValid)return this;const Me={},rt=Pn.normalizeUnit(P);switch(rt){case"years":Me.month=1;case"quarters":case"months":Me.day=1;case"weeks":case"days":Me.hour=0;case"hours":Me.minute=0;case"minutes":Me.second=0;case"seconds":Me.millisecond=0}if("weeks"===rt)if(ue){const Nt=this.loc.getStartOfWeek(),{weekday:Ut}=this;Ut<Nt&&(Me.weekNumber=this.weekNumber-1),Me.weekday=Nt}else Me.weekday=1;if("quarters"===rt){const Nt=Math.ceil(this.month/3);Me.month=3*(Nt-1)+1}return this.set(Me)}endOf(P,ue){return this.isValid?this.plus({[P]:1}).startOf(P,ue).minus(1):this}toFormat(P,ue={}){return this.isValid?$n.create(this.loc.redefaultToEN(ue)).formatDateTimeFromString(this,P):go}toLocaleString(P=F,ue={}){return this.isValid?$n.create(this.loc.clone(ue),P).formatDateTime(this):go}toLocaleParts(P={}){return this.isValid?$n.create(this.loc.clone(P),P).formatDateTimeParts(this):[]}toISO({format:P="extended",suppressSeconds:ue=!1,suppressMilliseconds:Me=!1,includeOffset:rt=!0,extendedZone:Nt=!1}={}){if(!this.isValid)return null;const Ut="extended"===P;let rn=Es(this,Ut);return rn+="T",rn+=ee(this,Ut,ue,Me,rt,Nt),rn}toISODate({format:P="extended"}={}){return this.isValid?Es(this,"extended"===P):null}toISOWeekDate(){return Fi(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:P=!1,suppressSeconds:ue=!1,includeOffset:Me=!0,includePrefix:rt=!1,extendedZone:Nt=!1,format:Ut="extended"}={}){return this.isValid?(rt?"T":"")+ee(this,"extended"===Ut,ue,P,Me,Nt):null}toRFC2822(){return Fi(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Fi(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Es(this,!0):null}toSQLTime({includeOffset:P=!0,includeZone:ue=!1,includeOffsetSpace:Me=!0}={}){let rt="HH:mm:ss.SSS";return(ue||P)&&(Me&&(rt+=" "),ue?rt+="z":P&&(rt+="ZZ")),Fi(this,rt,!0)}toSQL(P={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(P)}`:null}toString(){return this.isValid?this.toISO():go}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(P={}){if(!this.isValid)return{};const ue={...this.c};return P.includeConfig&&(ue.outputCalendar=this.outputCalendar,ue.numberingSystem=this.loc.numberingSystem,ue.locale=this.loc.locale),ue}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(P,ue="milliseconds",Me={}){if(!this.isValid||!P.isValid)return Pn.invalid("created by diffing an invalid DateTime");const rt={locale:this.locale,numberingSystem:this.numberingSystem,...Me},Nt=function wi(pe){return Array.isArray(pe)?pe:[pe]}(ue).map(Pn.normalizeUnit),Ut=P.valueOf()>this.valueOf(),_n=function Ro(pe,P,ue,Me){let[rt,Nt,Ut,rn]=function Ka(pe,P,ue){const Me=[["years",(an,_n)=>_n.year-an.year],["quarters",(an,_n)=>_n.quarter-an.quarter+4*(_n.year-an.year)],["months",(an,_n)=>_n.month-an.month+12*(_n.year-an.year)],["weeks",(an,_n)=>{const qn=$i(an,_n);return(qn-qn%7)/7}],["days",$i]],rt={},Nt=pe;let Ut,rn;for(const[an,_n]of Me)ue.indexOf(an)>=0&&(Ut=an,rt[an]=_n(pe,P),rn=Nt.plus(rt),rn>P?(rt[an]--,(pe=Nt.plus(rt))>P&&(rn=pe,rt[an]--,pe=Nt.plus(rt))):pe=rn);return[pe,rt,rn,Ut]}(pe,P,ue);const an=P-rt,_n=ue.filter(jn=>["hours","minutes","seconds","milliseconds"].indexOf(jn)>=0);0===_n.length&&(Ut<P&&(Ut=rt.plus({[rn]:1})),Ut!==rt&&(Nt[rn]=(Nt[rn]||0)+an/(Ut-rt)));const qn=Pn.fromObject(Nt,Me);return _n.length>0?Pn.fromMillis(an,Me).shiftTo(..._n).plus(qn):qn}(Ut?this:P,Ut?P:this,Nt,rt);return Ut?_n.negate():_n}diffNow(P="milliseconds",ue={}){return this.diff(ii.now(),P,ue)}until(P){return this.isValid?ui.fromDateTimes(this,P):this}hasSame(P,ue,Me){if(!this.isValid)return!1;const rt=P.valueOf(),Nt=this.setZone(P.zone,{keepLocalTime:!0});return Nt.startOf(ue,Me)<=rt&&rt<=Nt.endOf(ue,Me)}equals(P){return this.isValid&&P.isValid&&this.valueOf()===P.valueOf()&&this.zone.equals(P.zone)&&this.loc.equals(P.loc)}toRelative(P={}){if(!this.isValid)return null;const ue=P.base||ii.fromObject({},{zone:this.zone}),Me=P.padding?this<ue?-P.padding:P.padding:0;let rt=["years","months","days","hours","minutes","seconds"],Nt=P.unit;return Array.isArray(P.unit)&&(rt=P.unit,Nt=void 0),Ji(ue,this.plus(Me),{...P,numeric:"always",units:rt,unit:Nt})}toRelativeCalendar(P={}){return this.isValid?Ji(P.base||ii.fromObject({},{zone:this.zone}),this,{...P,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...P){if(!P.every(ii.isDateTime))throw new m("min requires all arguments be DateTimes");return mi(P,ue=>ue.valueOf(),Math.min)}static max(...P){if(!P.every(ii.isDateTime))throw new m("max requires all arguments be DateTimes");return mi(P,ue=>ue.valueOf(),Math.max)}static fromFormatExplain(P,ue,Me={}){const{locale:rt=null,numberingSystem:Nt=null}=Me;return Ja(oe.fromOpts({locale:rt,numberingSystem:Nt,defaultToEN:!0}),P,ue)}static fromStringExplain(P,ue,Me={}){return ii.fromFormatExplain(P,ue,Me)}static get DATE_SHORT(){return F}static get DATE_MED(){return b}static get DATE_MED_WITH_WEEKDAY(){return M}static get DATE_FULL(){return k}static get DATE_HUGE(){return N}static get TIME_SIMPLE(){return G}static get TIME_WITH_SECONDS(){return R}static get TIME_WITH_SHORT_OFFSET(){return j}static get TIME_WITH_LONG_OFFSET(){return U}static get TIME_24_SIMPLE(){return $}static get TIME_24_WITH_SECONDS(){return ie}static get TIME_24_WITH_SHORT_OFFSET(){return se}static get TIME_24_WITH_LONG_OFFSET(){return L}static get DATETIME_SHORT(){return J}static get DATETIME_SHORT_WITH_SECONDS(){return q}static get DATETIME_MED(){return S}static get DATETIME_MED_WITH_SECONDS(){return re}static get DATETIME_MED_WITH_WEEKDAY(){return K}static get DATETIME_FULL(){return me}static get DATETIME_FULL_WITH_SECONDS(){return Ne}static get DATETIME_HUGE(){return De}static get DATETIME_HUGE_WITH_SECONDS(){return xe}}function Qi(pe){if(ii.isDateTime(pe))return pe;if(pe&&pe.valueOf&&mn(pe.valueOf()))return ii.fromJSDate(pe);if(pe&&"object"==typeof pe)return ii.fromObject(pe);throw new m(`Unknown datetime argument: ${pe}, of type ${typeof pe}`)}},4304:(nt,fe,h)=>{"use strict";h.d(fe,{h6:()=>G});var n=h(4438),e=h(177),y=h(9969);const p="400ms cubic-bezier(0.4,0.0,0.2,1)";(0,y.iF)({height:0,visibility:"hidden"}),(0,y.i0)(p,(0,y.iF)({height:"*",visibility:"visible"})),(0,y.iF)({height:"*",visibility:"visible"}),(0,y.i0)(p,(0,y.iF)({height:0,visibility:"hidden"}));let u=(()=>{class R{static forRoot(){return{ngModule:R,providers:[]}}static{this.\u0275fac=function($){return new($||R)}}static{this.\u0275mod=n.$C({type:R})}static{this.\u0275inj=n.G2t({})}}return R})(),G=(()=>{class R{static forRoot(){return{ngModule:R,providers:[]}}static{this.\u0275fac=function($){return new($||R)}}static{this.\u0275mod=n.$C({type:R})}static{this.\u0275inj=n.G2t({imports:[e.MD,u]})}}return R})()},6932:(nt,fe,h)=>{"use strict";h.d(fe,{Li:()=>u});var n=h(4438),e=h(2806),y=h(2865),p=h(177);class C{constructor(T,O,F){this.nodes=T,this.viewRef=O,this.componentRef=F}}class m{constructor(T,O,F,b,M,k,N,G,R){this._viewContainerRef=T,this._renderer=O,this._elementRef=F,this._injector=b,this._componentFactoryResolver=M,this._ngZone=k,this._applicationRef=N,this._posService=G,this._document=R,this.onBeforeShow=new n.bkB,this.onShown=new n.bkB,this.onBeforeHide=new n.bkB,this.onHidden=new n.bkB,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}get isShown(){return!this._isHiding&&!!this._componentRef}attach(T){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(T),this}to(T){return this.container=T||this.container,this}position(T){return T?(this.attachment=T.attachment||this.attachment,this._elementRef=T.target||this._elementRef,this):this}provide(T){return this._providers.push(T),this}show(T={}){if(this._subscribePositioning(),this._innerComponent=void 0,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(T.content,T.context,T.initialState);const O=n.zZn.create({providers:this._providers,parent:this._injector});if(!this._componentFactory)return;if(this._componentRef=this._componentFactory.create(O,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,T),this.container instanceof n.aKT&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"string"==typeof this.container&&typeof this._document<"u"){const F=this._document.querySelector(this.container)||this._document.querySelector(this.containerDefaultSelector);if(!F)return;F.appendChild(this._componentRef.location.nativeElement)}!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(T.id?{id:T.id}:this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}hide(T){if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);const O=this._componentRef.location.nativeElement;return O.parentNode?.removeChild(O),this._contentRef?.componentRef?.destroy(),this._viewContainerRef&&this._contentRef?.viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),this._contentRef?.viewRef?.destroy(),this._contentRef=void 0,this._componentRef=void 0,this._removeGlobalListener(),this.onHidden.emit(T?{id:T}:null),this}toggle(){this.isShown?this.hide():this.show()}dispose(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}listen(T){this.triggers=T.triggers||this.triggers,this._listenOpts.outsideClick=T.outsideClick,this._listenOpts.outsideEsc=T.outsideEsc,T.target=T.target||this._elementRef?.nativeElement;const O=this._listenOpts.hide=()=>T.hide?T.hide():void this.hide(),F=this._listenOpts.show=M=>{T.show?T.show(M):this.show(M),M()};return this._renderer&&(this._unregisterListenersFn=(0,e.GL)(this._renderer,{target:T.target,triggers:T.triggers,show:F,hide:O,toggle:M=>{this.isShown?O():F(M)}})),this}_removeGlobalListener(){this._globalListener&&(this._globalListener(),this._globalListener=Function.prototype)}attachInline(T,O){return T&&O&&(this._inlineViewRef=T.createEmbeddedView(O)),this}_registerOutsideClick(){if(this._componentRef&&this._componentRef.location){if(this._listenOpts.outsideClick){const T=this._componentRef.location.nativeElement;setTimeout(()=>{this._renderer&&this._elementRef&&(this._globalListener=(0,e.Xt)(this._renderer,{targets:[T,this._elementRef.nativeElement],outsideClick:this._listenOpts.outsideClick,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))})}this._listenOpts.outsideEsc&&this._renderer&&this._elementRef&&(this._globalListener=(0,e.Fv)(this._renderer,{targets:[this._componentRef.location.nativeElement,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))}}getInnerComponent(){return this._innerComponent}_subscribePositioning(){this._zoneSubscription||!this.attachment||(this.onShown.subscribe(()=>{this._posService.position({element:this._componentRef?.location,target:this._elementRef,attachment:this.attachment,appendToBody:"body"===this.container})}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>{this._componentRef&&this._posService.calcPosition()}))}_unsubscribePositioning(){this._zoneSubscription&&(this._zoneSubscription.unsubscribe(),this._zoneSubscription=void 0)}_getContentRef(T,O,F){if(!T)return new C([]);if(T instanceof n.C4Q){if(this._viewContainerRef){const k=this._viewContainerRef.createEmbeddedView(T,O);return k.markForCheck(),new C([k.rootNodes],k)}const M=T.createEmbeddedView({});return this._applicationRef.attachView(M),new C([M.rootNodes],M)}if("function"==typeof T){const M=this._componentFactoryResolver.resolveComponentFactory(T),k=n.zZn.create({providers:this._providers,parent:this._injector}),N=M.create(k);return Object.assign(N.instance,F),this._applicationRef.attachView(N.hostView),new C([[N.location.nativeElement]],N.hostView,N)}const b=this._renderer?[this._renderer.createText(`${T}`)]:[];return new C([b])}}let u=(()=>{class f{constructor(O,F,b,M,k,N){this._componentFactoryResolver=O,this._ngZone=F,this._injector=b,this._posService=M,this._applicationRef=k,this._document=N}createLoader(O,F,b){return new m(F,b,O,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService,this._document)}static{this.\u0275fac=function(F){return new(F||f)(n.KVO(n.OM3),n.KVO(n.SKi),n.KVO(n.zZn),n.KVO(y.DF),n.KVO(n.o8S),n.KVO(p.qQ))}}static{this.\u0275prov=n.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}}return f})()},779:(nt,fe,h)=>{"use strict";h.d(fe,{I8:()=>jt,hZ:()=>Ye,Q_:()=>wt});var n=h(4438),e=h(2806),y=h(177),p=h(6697);let C,w=(()=>{class z{constructor(){this._focusTrapStack=[]}register(Z){this._focusTrapStack=this._focusTrapStack.filter(we=>we!==Z);let Ce=this._focusTrapStack;Ce.length&&Ce[Ce.length-1]._disable(),Ce.push(Z),Z._enable()}deregister(Z){Z._disable();const Ce=this._focusTrapStack,we=Ce.indexOf(Z);-1!==we&&(Ce.splice(we,1),Ce.length&&Ce[Ce.length-1]._enable())}static{this.\u0275fac=function(Ce){return new(Ce||z)}}static{this.\u0275prov=n.jDH({token:z,factory:z.\u0275fac,providedIn:"root"})}}return z})();try{C=typeof Intl<"u"&&Intl.v8BreakIterator}catch{C=!1}let m=(()=>{class z{constructor(Z){this._platformId=Z,this.isBrowser=this._platformId?(0,y.UE)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!C)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(Ce){return new(Ce||z)(n.KVO(n.Agw))}}static{this.\u0275prov=n.jDH({token:z,factory:z.\u0275fac,providedIn:"root"})}}return z})(),f=(()=>{class z{constructor(Z){this._platform=Z}isDisabled(Z){return Z.hasAttribute("disabled")}isVisible(Z){return function O(z){return!!(z.offsetWidth||z.offsetHeight||"function"==typeof z.getClientRects&&z.getClientRects().length)}(Z)&&"visible"===getComputedStyle(Z).visibility}isTabbable(Z){if(!this._platform.isBrowser)return!1;const Ce=function T(z){try{return z.frameElement}catch{return null}}(function $(z){return z.ownerDocument&&z.ownerDocument.defaultView||window}(Z));if(Ce&&(-1===R(Ce)||!this.isVisible(Ce)))return!1;let we=Z.nodeName.toLowerCase(),at=R(Z);return Z.hasAttribute("contenteditable")?-1!==at:!("iframe"===we||"object"===we||this._platform.WEBKIT&&this._platform.IOS&&!function j(z){let Y=z.nodeName.toLowerCase(),Z="input"===Y&&z.type;return"text"===Z||"password"===Z||"select"===Y||"textarea"===Y}(Z))&&("audio"===we?!!Z.hasAttribute("controls")&&-1!==at:"video"===we?-1!==at&&(null!==at||this._platform.FIREFOX||Z.hasAttribute("controls")):Z.tabIndex>=0)}isFocusable(Z,Ce){return function U(z){return!function b(z){return function k(z){return"input"==z.nodeName.toLowerCase()}(z)&&"hidden"==z.type}(z)&&(function F(z){let Y=z.nodeName.toLowerCase();return"input"===Y||"select"===Y||"button"===Y||"textarea"===Y}(z)||function M(z){return function N(z){return"a"==z.nodeName.toLowerCase()}(z)&&z.hasAttribute("href")}(z)||z.hasAttribute("contenteditable")||G(z))}(Z)&&!this.isDisabled(Z)&&(Ce?.ignoreVisibility||this.isVisible(Z))}static{this.\u0275fac=function(Ce){return new(Ce||z)(n.KVO(m))}}static{this.\u0275prov=n.jDH({token:z,factory:z.\u0275fac,providedIn:"root"})}}return z})();function G(z){if(!z.hasAttribute("tabindex")||void 0===z.tabIndex)return!1;let Y=z.getAttribute("tabindex");return"-32768"!=Y&&!(!Y||isNaN(parseInt(Y,10)))}function R(z){if(!G(z))return null;const Y=parseInt(z.getAttribute("tabindex")||"",10);return isNaN(Y)?-1:Y}function ie(z){return null!=z&&"false"!=`${z}`}class se{get enabled(){return this._enabled}set enabled(Y){this._enabled=Y,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(Y,this._startAnchor),this._toggleAnchorTabIndex(Y,this._endAnchor))}constructor(Y,Z,Ce,we,at=!1){this._element=Y,this._checker=Z,this._ngZone=Ce,this._document=we,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,at||this.attachAnchors()}destroy(){const Y=this._startAnchor,Z=this._endAnchor;Y&&(Y.removeEventListener("focus",this.startAnchorListener),Y.parentNode&&Y.parentNode.removeChild(Y)),Z&&(Z.removeEventListener("focus",this.endAnchorListener),Z.parentNode&&Z.parentNode.removeChild(Z)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(Y=>{this._executeOnStable(()=>Y(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(Y=>{this._executeOnStable(()=>Y(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(Y=>{this._executeOnStable(()=>Y(this.focusLastTabbableElement()))})}_getRegionBoundary(Y){let Z=this._element.querySelectorAll(`[cdk-focus-region-${Y}], [cdkFocusRegion${Y}], [cdk-focus-${Y}]`);for(let Ce=0;Ce<Z.length;Ce++)Z[Ce].hasAttribute(`cdk-focus-${Y}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${Y}', use 'cdkFocusRegion${Y}' instead. The deprecated attribute will be removed in 8.0.0.`,Z[Ce]):Z[Ce].hasAttribute(`cdk-focus-region-${Y}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${Y}', use 'cdkFocusRegion${Y}' instead. The deprecated attribute will be removed in 8.0.0.`,Z[Ce]);return"start"==Y?Z.length?Z[0]:this._getFirstTabbableElement(this._element):Z.length?Z[Z.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const Y=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(Y){if(Y.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",Y),!this._checker.isFocusable(Y)){const Z=this._getFirstTabbableElement(Y);return Z?.focus(),!!Z}return Y.focus(),!0}return this.focusFirstTabbableElement()}focusFirstTabbableElement(){const Y=this._getRegionBoundary("start");return Y&&Y.focus(),!!Y}focusLastTabbableElement(){const Y=this._getRegionBoundary("end");return Y&&Y.focus(),!!Y}hasAttached(){return this._hasAttached}_getFirstTabbableElement(Y){if(this._checker.isFocusable(Y)&&this._checker.isTabbable(Y))return Y;let Z=Y.children||Y.childNodes;for(let Ce=0;Ce<Z.length;Ce++){let we=Z[Ce].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(Z[Ce]):null;if(we)return we}return null}_getLastTabbableElement(Y){if(this._checker.isFocusable(Y)&&this._checker.isTabbable(Y))return Y;let Z=Y.children||Y.childNodes;for(let Ce=Z.length-1;Ce>=0;Ce--){let we=Z[Ce].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(Z[Ce]):null;if(we)return we}return null}_createAnchor(){const Y=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,Y),Y.classList.add("cdk-visually-hidden"),Y.classList.add("cdk-focus-trap-anchor"),Y.setAttribute("aria-hidden","true"),Y}_toggleAnchorTabIndex(Y,Z){Y?Z.setAttribute("tabindex","0"):Z.removeAttribute("tabindex")}toggleAnchors(Y){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(Y,this._startAnchor),this._toggleAnchorTabIndex(Y,this._endAnchor))}_executeOnStable(Y){this._ngZone.isStable?Y():this._ngZone.onStable.pipe((0,p.s)(1)).subscribe(Y)}}let L=(()=>{class z{constructor(Z,Ce,we){this._checker=Z,this._ngZone=Ce,this._document=we}create(Z,Ce=!1){return new se(Z,this._checker,this._ngZone,this._document,Ce)}static{this.\u0275fac=function(Ce){return new(Ce||z)(n.KVO(f),n.KVO(n.SKi),n.KVO(y.qQ))}}static{this.\u0275prov=n.jDH({token:z,factory:z.\u0275fac,providedIn:"root"})}}return z})(),J=(()=>{class z{get enabled(){return this.focusTrap.enabled}set enabled(Z){this.focusTrap.enabled=ie(Z)}get autoCapture(){return this._autoCapture}set autoCapture(Z){this._autoCapture=ie(Z)}constructor(Z,Ce,we){this._elementRef=Z,this._focusTrapFactory=Ce,this._previouslyFocusedElement=null,this._autoCapture=!1,this._document=we,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(Z){const Ce=Z.autoCapture;Ce&&!Ce.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=this._document.activeElement,this.focusTrap.focusInitialElementWhenReady()}static{this.\u0275fac=function(Ce){return new(Ce||z)(n.rXU(n.aKT),n.rXU(L),n.rXU(y.qQ))}}static{this.\u0275dir=n.FsC({type:z,selectors:[["","focusTrap",""]],inputs:{enabled:[n.Mj6.None,"cdkTrapFocus","enabled"],autoCapture:[n.Mj6.None,"cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["focusTrap"],features:[n.OA$]})}}return z})(),q=(()=>{class z{static forRoot(){return{ngModule:z,providers:[w,m,f]}}static{this.\u0275fac=function(Ce){return new(Ce||z)}}static{this.\u0275mod=n.$C({type:z})}static{this.\u0275inj=n.G2t({imports:[y.MD]})}}return z})();var S=h(6932),re=h(2865);const K=["*"];let me=(()=>{class z{constructor(){this.hide=()=>{},this.setClass=()=>{}}static{this.\u0275fac=function(Ce){return new(Ce||z)}}static{this.\u0275prov=n.jDH({token:z,factory:z.\u0275fac,providedIn:"platform"})}}return z})(),De=(()=>{class z{static{this.\u0275fac=function(Ce){return new(Ce||z)}}static{this.\u0275prov=n.jDH({token:z,factory:z.\u0275fac,providedIn:"platform"})}}return z})();const xe={backdrop:!0,keyboard:!0,focus:!0,show:!1,ignoreBackdropClick:!1,class:"",animated:!0,initialState:{},closeInterceptor:void 0},Qe=new n.nKC("override-default-config"),Se_OPEN="modal-open";let Te=(()=>{class z{constructor(Z,Ce,we){this._element=Ce,this._renderer=we,this.isShown=!1,this.isAnimated=!1,this._focusEl=null,this.isModalHiding=!1,this.clickStartedInContent=!1,this.config=Object.assign({},Z)}ngOnInit(){this._focusEl=e.Al.activeElement,this.isAnimated&&this._renderer.addClass(this._element.nativeElement,"fade"),this._renderer.setStyle(this._element.nativeElement,"display","block"),setTimeout(()=>{this.isShown=!0,this._renderer.addClass(this._element.nativeElement,"show")},this.isAnimated?150:0),e.Al&&e.Al.body&&(this.bsModalService&&1===this.bsModalService.getModalsCount()&&(this.bsModalService.checkScrollbar(),this.bsModalService.setScrollbar()),this._renderer.addClass(e.Al.body,Se_OPEN),this._renderer.setStyle(e.Al.body,"overflow-y","hidden")),this._element.nativeElement&&this._element.nativeElement.focus()}onClickStarted(Z){this.clickStartedInContent=Z.target!==this._element.nativeElement}onClickStop(Z){this.config.ignoreBackdropClick||"static"===this.config.backdrop||Z.target!==this._element.nativeElement||this.clickStartedInContent?this.clickStartedInContent=!1:(this.bsModalService?.setDismissReason("backdrop-click"),this.hide())}onPopState(){this.bsModalService?.setDismissReason("browser-back-navigation-clicked"),this.hide()}onEsc(Z){this.isShown&&((27===Z.keyCode||"Escape"===Z.key)&&Z.preventDefault(),this.config.keyboard&&this.level===this.bsModalService?.getModalsCount()&&(this.bsModalService?.setDismissReason("esc"),this.hide()))}ngOnDestroy(){this.isShown&&this._hide()}hide(){if(!this.isModalHiding){if(this.config.closeInterceptor)return void this.config.closeInterceptor().then(()=>this._hide(),()=>{});this._hide()}}_hide(){this.isModalHiding=!0,this._renderer.removeClass(this._element.nativeElement,"show"),setTimeout(()=>{this.isShown=!1,e.Al&&e.Al.body&&1===this.bsModalService?.getModalsCount()&&(this._renderer.removeClass(e.Al.body,Se_OPEN),this._renderer.setStyle(e.Al.body,"overflow-y","")),this.bsModalService?.hide(this.config.id),this.isModalHiding=!1,this._focusEl&&this._focusEl.focus()},this.isAnimated?300:0)}static{this.\u0275fac=function(Ce){return new(Ce||z)(n.rXU(De),n.rXU(n.aKT),n.rXU(n.sFG))}}static{this.\u0275cmp=n.VBU({type:z,selectors:[["modal-container"]],hostAttrs:["role","dialog","tabindex","-1",1,"modal"],hostVars:3,hostBindings:function(Ce,we){1&Ce&&n.bIt("mousedown",function(Be){return we.onClickStarted(Be)})("click",function(Be){return we.onClickStop(Be)})("popstate",function(){return we.onPopState()},!1,n.tSv)("keydown.esc",function(Be){return we.onEsc(Be)},!1,n.tSv),2&Ce&&n.BMQ("aria-modal",!0)("aria-labelledby",we.config.ariaLabelledBy)("aria-describedby",we.config.ariaDescribedby)},ngContentSelectors:K,decls:3,vars:2,consts:[["role","document","focusTrap",""],[1,"modal-content"]],template:function(Ce,we){1&Ce&&(n.NAR(),n.j41(0,"div",0)(1,"div",1),n.SdG(2),n.k0s()()),2&Ce&&n.HbH("modal-dialog"+(we.config.class?" "+we.config.class:""))},dependencies:[J],encapsulation:2})}}return z})(),st=(()=>{class z{get isAnimated(){return this._isAnimated}set isAnimated(Z){this._isAnimated=Z}get isShown(){return this._isShown}set isShown(Z){this._isShown=Z,Z?this.renderer.addClass(this.element.nativeElement,"show"):this.renderer.removeClass(this.element.nativeElement,"show")}constructor(Z,Ce){this._isAnimated=!1,this._isShown=!1,this.element=Z,this.renderer=Ce}ngOnInit(){this.isAnimated&&(this.renderer.addClass(this.element.nativeElement,"fade"),e.Aq.reflow(this.element.nativeElement)),this.isShown=!0}static{this.\u0275fac=function(Ce){return new(Ce||z)(n.rXU(n.aKT),n.rXU(n.sFG))}}static{this.\u0275cmp=n.VBU({type:z,selectors:[["bs-modal-backdrop"]],hostAttrs:[1,"modal-backdrop"],decls:0,vars:0,template:function(Ce,we){},encapsulation:2})}}return z})(),Ye=(()=>{class z{set config(Z){this._config=this.getConfig(Z)}get config(){return this._config}get isShown(){return this._isShown}constructor(Z,Ce,we,at,Be){this._element=Z,this._renderer=we,this.onShow=new n.bkB,this.onShown=new n.bkB,this.onHide=new n.bkB,this.onHidden=new n.bkB,this._isShown=!1,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.timerHideModal=0,this.timerRmBackDrop=0,this.isNested=!1,this.clickStartedInContent=!1,this._focusEl=null,this._backdrop=at.createLoader(Z,Ce,we),this._config=Be||xe}onClickStarted(Z){this.clickStartedInContent=Z.target!==this._element.nativeElement}onClickStop(Z){this.config.ignoreBackdropClick||"static"===this.config.backdrop||Z.target!==this._element.nativeElement||this.clickStartedInContent?this.clickStartedInContent=!1:(this.dismissReason="backdrop-click",this.hide(Z))}onEsc(Z){this._isShown&&((27===Z.keyCode||"Escape"===Z.key)&&Z.preventDefault(),this.config.keyboard&&(this.dismissReason="esc",this.hide()))}ngOnDestroy(){this._isShown&&(this._isShown=!1,this.hideModal(),this._backdrop.dispose())}ngOnInit(){this._config=this._config||this.getConfig(),setTimeout(()=>{this._config.show&&this.show()},0)}toggle(){return this._isShown?this.hide():this.show()}show(){this.dismissReason=void 0,this.onShow.emit(this),!this._isShown&&(clearTimeout(this.timerHideModal),clearTimeout(this.timerRmBackDrop),this._isShown=!0,this.checkScrollbar(),this.setScrollbar(),e.Al&&e.Al.body&&(e.Al.body.classList.contains(Se_OPEN)?this.isNested=!0:(this._renderer.addClass(e.Al.body,Se_OPEN),this._renderer.setStyle(e.Al.body,"overflow-y","hidden"))),this.showBackdrop(()=>{this.showElement()}))}hide(Z){if(this._isShown){if(Z&&Z.preventDefault(),this.config.closeInterceptor)return void this.config.closeInterceptor().then(()=>this._hide(),()=>{});this._hide()}}_hide(){this.onHide.emit(this),e.x.clearTimeout(this.timerHideModal),e.x.clearTimeout(this.timerRmBackDrop),this._isShown=!1,this._renderer.removeClass(this._element.nativeElement,"show"),this._config.animated?this.timerHideModal=e.x.setTimeout(()=>this.hideModal(),300):this.hideModal(),this._focusEl&&this._focusEl.focus()}getConfig(Z){return Object.assign({},this._config,Z)}showElement(){(!this._element.nativeElement.parentNode||this._element.nativeElement.parentNode.nodeType!==Node.ELEMENT_NODE)&&e.Al&&e.Al.body&&e.Al.body.appendChild(this._element.nativeElement),this._renderer.setAttribute(this._element.nativeElement,"aria-hidden","false"),this._renderer.setAttribute(this._element.nativeElement,"aria-modal","true"),this._renderer.setStyle(this._element.nativeElement,"display","block"),this._renderer.setProperty(this._element.nativeElement,"scrollTop",0),this._config.animated&&e.Aq.reflow(this._element.nativeElement),this._renderer.addClass(this._element.nativeElement,"show");const Z=()=>{this._config.focus&&this._element.nativeElement.focus(),this.onShown.emit(this)};this._config.animated?setTimeout(Z,300):Z()}hideModal(){this._renderer.setAttribute(this._element.nativeElement,"aria-hidden","true"),this._renderer.setStyle(this._element.nativeElement,"display","none"),this.showBackdrop(()=>{this.isNested||(e.Al&&e.Al.body&&(this._renderer.removeClass(e.Al.body,Se_OPEN),this._renderer.setStyle(e.Al.body,"overflow-y","")),this.resetScrollbar()),this.resetAdjustments(),this.focusOtherModal(),this.onHidden.emit(this)})}showBackdrop(Z){if(!this._isShown||!this.config.backdrop||this.backdrop&&this.backdrop.instance.isShown)if(!this._isShown&&this.backdrop){this.backdrop.instance.isShown=!1;const Ce=()=>{this.removeBackdrop(),Z&&Z()};this.backdrop.instance.isAnimated?this.timerRmBackDrop=e.x.setTimeout(Ce,150):Ce()}else Z&&Z();else{if(this.removeBackdrop(),this._backdrop.attach(st).to("body").show({isAnimated:this._config.animated}),this.backdrop=this._backdrop._componentRef,!Z)return;if(!this._config.animated)return void Z();setTimeout(Z,150)}}removeBackdrop(){this._backdrop.hide()}focusOtherModal(){if(null==this._element.nativeElement.parentElement)return;const Z=this._element.nativeElement.parentElement.querySelectorAll(".in[bsModal]");Z.length&&Z[Z.length-1].focus()}resetAdjustments(){this._renderer.setStyle(this._element.nativeElement,"paddingLeft",""),this._renderer.setStyle(this._element.nativeElement,"paddingRight","")}checkScrollbar(){this.isBodyOverflowing=e.Al.body.clientWidth<e.x.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()}setScrollbar(){e.Al&&(this.originalBodyPadding=parseInt(e.x.getComputedStyle(e.Al.body).getPropertyValue("padding-right")||0,10),this.isBodyOverflowing&&(e.Al.body.style.paddingRight=`${this.originalBodyPadding+this.scrollbarWidth}px`))}resetScrollbar(){e.Al.body.style.paddingRight=`${this.originalBodyPadding}px`}getScrollbarWidth(){const Z=this._renderer.createElement("div");this._renderer.addClass(Z,"modal-scrollbar-measure"),this._renderer.appendChild(e.Al.body,Z);const Ce=Z.offsetWidth-Z.clientWidth;return this._renderer.removeChild(e.Al.body,Z),Ce}static{this.\u0275fac=function(Ce){return new(Ce||z)(n.rXU(n.aKT),n.rXU(n.c1b),n.rXU(n.sFG),n.rXU(S.Li),n.rXU(Qe,8))}}static{this.\u0275dir=n.FsC({type:z,selectors:[["","bsModal",""]],hostBindings:function(Ce,we){1&Ce&&n.bIt("mousedown",function(Be){return we.onClickStarted(Be)})("mouseup",function(Be){return we.onClickStop(Be)})("keydown.esc",function(Be){return we.onEsc(Be)})},inputs:{config:"config",closeInterceptor:"closeInterceptor"},outputs:{onShow:"onShow",onShown:"onShown",onHide:"onHide",onHidden:"onHidden"},exportAs:["bs-modal"]})}}return z})(),qt=1,jt=(()=>{class z{constructor(Z,Ce,we){this.clf=Ce,this.modalDefaultOption=we,this.onShow=new n.bkB,this.onShown=new n.bkB,this.onHide=new n.bkB,this.onHidden=new n.bkB,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.modalsCount=0,this.loaders=[],this._focusEl=null,this._backdropLoader=this.clf.createLoader(),this._renderer=Z.createRenderer(null,null),this.config=we?Object.assign({},xe,we):xe}show(Z,Ce){this._focusEl=e.Al.activeElement,this.modalsCount++,this._createLoaders();const we=Ce?.id||qt++;return this.config=this.modalDefaultOption?Object.assign({},xe,this.modalDefaultOption,Ce):Object.assign({},xe,Ce),this.config.id=we,this._showBackdrop(),this.lastDismissReason=void 0,this._showModal(Z)}hide(Z){(1===this.modalsCount||null==Z)&&(this._hideBackdrop(),this.resetScrollbar()),this.modalsCount=this.modalsCount>=1&&null!=Z?this.modalsCount-1:0,setTimeout(()=>{this._hideModal(Z),this.removeLoaders(Z)},this.config.animated?150:0),this._focusEl&&this._focusEl.focus()}_showBackdrop(){const Z=!0===this.config.backdrop||"static"===this.config.backdrop,Ce=!this.backdropRef||!this.backdropRef.instance.isShown;1===this.modalsCount&&(this.removeBackdrop(),Z&&Ce&&(this._backdropLoader.attach(st).to("body").show({isAnimated:this.config.animated}),this.backdropRef=this._backdropLoader._componentRef))}_hideBackdrop(){this.backdropRef&&(this.backdropRef.instance.isShown=!1,setTimeout(()=>this.removeBackdrop(),this.config.animated?150:0))}_showModal(Z){const Ce=this.loaders[this.loaders.length-1];if(this.config&&this.config.providers)for(const Be of this.config.providers)Ce.provide(Be);const we=new me,at=Ce.provide({provide:De,useValue:this.config}).provide({provide:me,useValue:we}).attach(Te).to("body");return we.hide=()=>this.hide(we.id),we.setClass=Be=>{at.instance&&(at.instance.config.class=Be)},we.onHidden=new n.bkB,we.onHide=new n.bkB,this.copyEvent(Ce.onBeforeHide,we.onHide),this.copyEvent(Ce.onHidden,we.onHidden),at.show({content:Z,isAnimated:this.config.animated,initialState:this.config.initialState,bsModalService:this,id:this.config.id}),at.instance&&(at.instance.level=this.getModalsCount(),we.content=Ce.getInnerComponent(),we.id=at.instance.config?.id),we}_hideModal(Z){if(null!=Z){const Ce=this.loaders.findIndex(at=>at.instance?.config.id===Z),we=this.loaders[Ce];we&&we.hide(Z)}else this.loaders.forEach(Ce=>{Ce.instance&&Ce.hide(Ce.instance.config.id)})}getModalsCount(){return this.modalsCount}setDismissReason(Z){this.lastDismissReason=Z}removeBackdrop(){this._renderer.removeClass(e.Al.body,Se_OPEN),this._renderer.setStyle(e.Al.body,"overflow-y",""),this._backdropLoader.hide(),this.backdropRef=void 0}checkScrollbar(){this.isBodyOverflowing=e.Al.body.clientWidth<window.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()}setScrollbar(){e.Al&&(this.originalBodyPadding=parseInt(window.getComputedStyle(e.Al.body).getPropertyValue("padding-right")||"0",10),this.isBodyOverflowing&&(e.Al.body.style.paddingRight=`${this.originalBodyPadding+this.scrollbarWidth}px`))}resetScrollbar(){e.Al.body.style.paddingRight=`${this.originalBodyPadding}px`}getScrollbarWidth(){const Z=this._renderer.createElement("div");this._renderer.addClass(Z,"modal-scrollbar-measure"),this._renderer.appendChild(e.Al.body,Z);const Ce=Z.offsetWidth-Z.clientWidth;return this._renderer.removeChild(e.Al.body,Z),Ce}_createLoaders(){const Z=this.clf.createLoader();this.copyEvent(Z.onBeforeShow,this.onShow),this.copyEvent(Z.onShown,this.onShown),this.copyEvent(Z.onBeforeHide,this.onHide),this.copyEvent(Z.onHidden,this.onHidden),this.loaders.push(Z)}removeLoaders(Z){if(null!=Z){const Ce=this.loaders.findIndex(we=>we.instance?.config.id===Z);Ce>=0&&(this.loaders.splice(Ce,1),this.loaders.forEach((we,at)=>{we.instance&&(we.instance.level=at+1)}))}else this.loaders.splice(0,this.loaders.length)}copyEvent(Z,Ce){Z.subscribe(we=>{Ce.emit(this.lastDismissReason||we)})}static{this.\u0275fac=function(Ce){return new(Ce||z)(n.KVO(n._9s),n.KVO(S.Li),n.KVO(Qe,8))}}static{this.\u0275prov=n.jDH({token:z,factory:z.\u0275fac,providedIn:"platform"})}}return z})();q.forRoot();let wt=(()=>{class z{static forRoot(){return{ngModule:z,providers:[jt,S.Li,re.DF]}}static forChild(){return{ngModule:z,providers:[jt,S.Li,re.DF]}}static{this.\u0275fac=function(Ce){return new(Ce||z)}}static{this.\u0275mod=n.$C({type:z})}static{this.\u0275inj=n.G2t({imports:[q]})}}return z})()},2865:(nt,fe,h)=>{"use strict";h.d(fe,{Rz:()=>G,DF:()=>Ft});var n=h(2806),e=h(4438),y=h(177),p=h(1413),w=h(7786),C=h(3726),m=h(7673),u=h(6780),f=h(8359);const T={schedule(je){let ce=requestAnimationFrame,X=cancelAnimationFrame;const{delegate:oe}=T;oe&&(ce=oe.requestAnimationFrame,X=oe.cancelAnimationFrame);const Ve=ce(tt=>{X=void 0,je(tt)});return new f.yU(()=>X?.(Ve))},requestAnimationFrame(...je){const{delegate:ce}=T;return(ce?.requestAnimationFrame||requestAnimationFrame)(...je)},cancelAnimationFrame(...je){const{delegate:ce}=T;return(ce?.cancelAnimationFrame||cancelAnimationFrame)(...je)},delegate:void 0};var F=h(9687);const M=new class b extends F.q{flush(ce){this._active=!0;const X=this._scheduled;this._scheduled=void 0;const{actions:oe}=this;let Ve;ce=ce||oe.shift();do{if(Ve=ce.execute(ce.state,ce.delay))break}while((ce=oe[0])&&ce.id===X&&oe.shift());if(this._active=!1,Ve){for(;(ce=oe[0])&&ce.id===X&&oe.shift();)ce.unsubscribe();throw Ve}}}(class O extends u.R{constructor(ce,X){super(ce,X),this.scheduler=ce,this.work=X}requestAsyncId(ce,X,oe=0){return null!==oe&&oe>0?super.requestAsyncId(ce,X,oe):(ce.actions.push(this),ce._scheduled||(ce._scheduled=T.requestAnimationFrame(()=>ce.flush(void 0))))}recycleAsyncId(ce,X,oe=0){var Ve;if(null!=oe?oe>0:this.delay>0)return super.recycleAsyncId(ce,X,oe);const{actions:tt}=ce;null!=X&&(null===(Ve=tt[tt.length-1])||void 0===Ve?void 0:Ve.id)!==X&&(T.cancelAnimationFrame(X),ce._scheduled=void 0)}});var N=function(je){return je.top="top",je.bottom="bottom",je.left="left",je.right="right",je.auto="auto",je.end="right",je.start="left",je["top left"]="top left",je["top right"]="top right",je["right top"]="right top",je["right bottom"]="right bottom",je["bottom right"]="bottom right",je["bottom left"]="bottom left",je["left bottom"]="left bottom",je["left top"]="left top",je["top start"]="top left",je["top end"]="top right",je["end top"]="right top",je["end bottom"]="right bottom",je["bottom end"]="bottom right",je["bottom start"]="bottom left",je["start bottom"]="start bottom",je["start top"]="left top",je}(N||{}),G=function(je){return je.top="top",je.bottom="bottom",je.left="start",je.right="end",je.auto="auto",je.end="end",je.start="start",je["top left"]="top start",je["top right"]="top end",je["right top"]="end top",je["right bottom"]="end bottom",je["bottom right"]="bottom end",je["bottom left"]="bottom start",je["left bottom"]="start bottom",je["left top"]="start top",je["top start"]="top start",je["top end"]="top end",je["end top"]="end top",je["end bottom"]="end bottom",je["bottom end"]="bottom end",je["bottom start"]="bottom start",je["start bottom"]="start bottom",je["start top"]="start top",je}(G||{});function R(je,ce){if(1!==je.nodeType)return[];const oe=je.ownerDocument.defaultView?.getComputedStyle(je,null);return ce?oe&&oe[ce]:oe}function j(je){if(!je)return document.documentElement;let oe,X=je?.offsetParent;for(;null===X&&je.nextElementSibling&&oe!==je.nextElementSibling;)oe=je.nextElementSibling,X=oe.offsetParent;const Ve=X&&X.nodeName;return Ve&&"BODY"!==Ve&&"HTML"!==Ve?X&&-1!==["TH","TD","TABLE"].indexOf(X.nodeName)&&"static"===R(X,"position")?j(X):X:oe?oe.ownerDocument.documentElement:document.documentElement}function $(je){return null!==je.parentNode?$(je.parentNode):je}function ie(je,ce){if(!(je&&je.nodeType&&ce&&ce.nodeType))return document.documentElement;const X=je.compareDocumentPosition(ce)&Node.DOCUMENT_POSITION_FOLLOWING,oe=X?je:ce,Ve=X?ce:je,tt=document.createRange();tt.setStart(oe,0),tt.setEnd(Ve,0);const gt=tt.commonAncestorContainer;if(je!==gt&&ce!==gt||oe.contains(Ve))return function U(je){const{nodeName:ce}=je;return"BODY"!==ce&&("HTML"===ce||j(je.firstElementChild)===je)}(gt)?gt:j(gt);const Bt=$(je);return Bt.host?ie(Bt.host,ce):ie(je,$(ce).host)}function se(je){if(!je||!je.parentElement)return document.documentElement;let ce=je.parentElement;for(;ce?.parentElement&&"none"===R(ce,"transform");)ce=ce.parentElement;return ce||document.documentElement}function L(je,ce){const X="x"===ce?"Left":"Top",oe="Left"===X?"Right":"Bottom";return parseFloat(je[`border${X}Width`])+parseFloat(je[`border${oe}Width`])}function J(je,ce,X){return Math.max(ce[`offset${je}`],ce[`scroll${je}`],X[`client${je}`],X[`offset${je}`],X[`scroll${je}`],0)}function q(je){const ce=je.body,X=je.documentElement;return{height:J("Height",ce,X),width:J("Width",ce,X)}}function S(je){return{...je,right:(je.left||0)+je.width,bottom:(je.top||0)+je.height}}function K(je){return"number"==typeof je||"[object Number]"===Object.prototype.toString.call(je)}function me(je){const ce=je.getBoundingClientRect();if(!(ce&&K(ce.top)&&K(ce.left)&&K(ce.bottom)&&K(ce.right)))return ce;const X={left:ce.left,top:ce.top,width:ce.right-ce.left,height:ce.bottom-ce.top},oe="HTML"===je.nodeName?q(je.ownerDocument):void 0,Ve=oe?.width||je.clientWidth||K(ce.right)&&K(X.left)&&ce.right-X.left||0,tt=oe?.height||je.clientHeight||K(ce.bottom)&&K(X.top)&&ce.bottom-X.top||0;let gt=je.offsetWidth-Ve,Bt=je.offsetHeight-tt;if(gt||Bt){const cn=R(je);gt-=L(cn,"x"),Bt-=L(cn,"y"),X.width-=gt,X.height-=Bt}return S(X)}function Ne(je,ce,X=!1){const oe="HTML"===ce.nodeName,Ve=me(je),tt=me(ce),gt=R(ce),Bt=parseFloat(gt.borderTopWidth),cn=parseFloat(gt.borderLeftWidth);X&&oe&&(tt.top=Math.max(tt.top??0,0),tt.left=Math.max(tt.left??0,0));const hn=S({top:(Ve.top??0)-(tt.top??0)-Bt,left:(Ve.left??0)-(tt.left??0)-cn,width:Ve.width,height:Ve.height});if(hn.marginTop=0,hn.marginLeft=0,oe){const An=parseFloat(gt.marginTop),xn=parseFloat(gt.marginLeft);K(hn.top)&&(hn.top-=Bt-An),K(hn.bottom)&&(hn.bottom-=Bt-An),K(hn.left)&&(hn.left-=cn-xn),K(hn.right)&&(hn.right-=cn-xn),hn.marginTop=An,hn.marginLeft=xn}return hn}function De(je){return"HTML"===je.nodeName?je:je.parentNode||je.host}function xe(je){if(!je)return document.body;switch(je.nodeName){case"HTML":case"BODY":return je.ownerDocument.body;case"#document":return je.body}const{overflow:ce,overflowX:X,overflowY:oe}=R(je);return/(auto|scroll|overlay)/.test(String(ce)+String(oe)+String(X))?je:xe(De(je))}function Qe(je,ce="top"){const X="top"===ce?"scrollTop":"scrollLeft",oe=je.nodeName;return"BODY"===oe||"HTML"===oe?(je.ownerDocument.scrollingElement||je.ownerDocument.documentElement)[X]:je[X]}function be(je){const ce=je.nodeName;return"BODY"!==ce&&"HTML"!==ce&&("fixed"===R(je,"position")||be(De(je)))}function le(je,ce,X=0,oe,Ve=!1){let tt={top:0,left:0};const gt=Ve?se(je):ie(je,ce);if("viewport"===oe)tt=function Se(je,ce=!1){const X=je.ownerDocument.documentElement,oe=Ne(je,X),Ve=Math.max(X.clientWidth,window.innerWidth||0),tt=Math.max(X.clientHeight,window.innerHeight||0),gt=ce?0:Qe(X),Bt=ce?0:Qe(X,"left");return S({top:gt-Number(oe?.top)+Number(oe?.marginTop),left:Bt-Number(oe?.left)+Number(oe?.marginLeft),width:Ve,height:tt})}(gt,Ve);else{let Bt;"scrollParent"===oe?(Bt=xe(De(ce)),"BODY"===Bt.nodeName&&(Bt=je.ownerDocument.documentElement)):Bt="window"===oe?je.ownerDocument.documentElement:oe;const cn=Ne(Bt,gt,Ve);if(cn&&"HTML"===Bt.nodeName&&!be(gt)){const{height:hn,width:An}=q(je.ownerDocument);K(tt.top)&&K(cn.top)&&K(cn.marginTop)&&(tt.top+=cn.top-cn.marginTop),K(tt.top)&&(tt.bottom=Number(hn)+Number(cn.top)),K(tt.left)&&K(cn.left)&&K(cn.marginLeft)&&(tt.left+=cn.left-cn.marginLeft),K(tt.top)&&(tt.right=Number(An)+Number(cn.left))}else cn&&(tt=cn)}return K(tt.left)&&(tt.left+=X),K(tt.top)&&(tt.top+=X),K(tt.right)&&(tt.right-=X),K(tt.bottom)&&(tt.bottom-=X),tt}function Fe({width:je,height:ce}){return je*ce}function Te(je,ce,X,oe,Ve=["top","bottom","right","left"],tt="viewport",gt=0){if(-1===je.indexOf("auto"))return je;const Bt=le(X,oe,gt,tt),cn={top:{width:Bt?.width??0,height:(ce?.top??0)-(Bt?.top??0)},right:{width:(Bt?.right??0)-(ce?.right??0),height:Bt?.height??0},bottom:{width:Bt?.width??0,height:(Bt?.bottom??0)-(ce?.bottom??0)},left:{width:(ce.left??0)-(Bt?.left??0),height:Bt?.height??0}},hn=Object.keys(cn).map(It=>({position:It,...cn[It],area:Fe(cn[It])})).sort((It,Dn)=>Dn.area-It.area);let An=hn.filter(({width:It,height:Dn})=>It>=X.clientWidth&&Dn>=X.clientHeight);An=An.filter(({position:It})=>Ve.some(Dn=>Dn===It));const xn=An.length>0?An[0].position:hn[0].position,Bn=je.split(" ")[1];return X.className=X.className.replace(/bs-tooltip-auto/g,`bs-tooltip-${(0,n.Bu)().isBs5?G[xn]:xn}`),xn+(Bn?`-${Bn}`:"")}const Ye=(je,ce=0)=>je?parseFloat(je):ce;function qt(je){const X=je.ownerDocument.defaultView?.getComputedStyle(je),oe=Ye(X?.marginTop)+Ye(X?.marginBottom),Ve=Ye(X?.marginLeft)+Ye(X?.marginRight);return{width:Number(je.offsetWidth)+Ve,height:Number(je.offsetHeight)+oe}}function jt(je,ce,X){return Ne(ce,X?se(je):ie(je,ce),X)}function Dt(je,ce,X){const oe=X.split(" ")[0],Ve=qt(je),tt={width:Ve.width,height:Ve.height},gt=-1!==["right","left"].indexOf(oe),Bt=gt?"top":"left",cn=gt?"left":"top",hn=gt?"height":"width",An=gt?"width":"height";return tt[Bt]=(ce[Bt]??0)+ce[hn]/2-Ve[hn]/2,tt[cn]=oe===cn?(ce[cn]??0)-Ve[An]:ce[function Oe(je){const ce={left:"right",right:"left",bottom:"top",top:"bottom"};return je.replace(/left|right|bottom|top/g,X=>ce[X])}(cn)]??0,tt}function wt(je,ce){return!!je.modifiers[ce]?.enabled}const z={top:["top","top start","top end"],bottom:["bottom","bottom start","bottom end"],start:["start","start top","start bottom"],end:["end","end top","end bottom"]};function Y(je,ce){return!!(0,n.Bu)().isBs5&&z[ce].includes(je)}function we(je,ce,X){!je||!ce||Object.keys(ce).forEach(oe=>{let Ve="";-1!==["width","height","top","right","bottom","left"].indexOf(oe)&&function re(je){return""!==je&&!isNaN(parseFloat(je))&&isFinite(Number(je))}(ce[oe])&&(Ve="px"),X?X.setStyle(je,oe,`${String(ce[oe])}${Ve}`):je.style[oe]=String(ce[oe])+Ve})}function at(je){let ce=je.offsets.target;const X=je.instance.target.querySelector(".arrow");if(!X)return je;const oe=-1!==["left","right"].indexOf(je.placement.split(" ")[0]),Ve=oe?"height":"width",tt=oe?"Top":"Left",gt=tt.toLowerCase(),Bt=oe?"left":"top",cn=oe?"bottom":"right",hn=qt(X)[Ve],An=je.placement.split(" ")[1];(je.offsets.host[cn]??0)-hn<(ce[gt]??0)&&(ce[gt]-=(ce[gt]??0)-((je.offsets.host[cn]??0)-hn)),Number(je.offsets.host[gt])+Number(hn)>(ce[cn]??0)&&(ce[gt]+=Number(je.offsets.host[gt])+Number(hn)-Number(ce[cn])),ce=S(ce);const xn=R(je.instance.target),Bn=parseFloat(xn[`margin${tt}`])||0,It=parseFloat(xn[`border${tt}Width`])||0;let Dn;if(An){const lt=parseFloat(xn.borderRadius)||0,Ct=Number(Bn+It+lt);Dn=gt===An?Number(je.offsets.host[gt])+Ct:Number(je.offsets.host[gt])+Number(je.offsets.host[Ve]-Ct)}else Dn=Number(je.offsets.host[gt])+Number(je.offsets.host[Ve]/2-hn/2);let Gt=Dn-(ce[gt]??0)-Bn-It;return Gt=Math.max(Math.min(ce[Ve]-(hn+5),Gt),0),je.offsets.arrow={[gt]:Math.round(Gt),[Bt]:""},je.instance.arrow=X,je}function Be(je){if(je.offsets.target=S(je.offsets.target),!wt(je.options,"flip"))return je.offsets.target={...je.offsets.target,...Dt(je.instance.target,je.offsets.host,je.placement)},je;const ce=le(je.instance.target,je.instance.host,0,"viewport",!1);let X=je.placement.split(" ")[0],oe=je.placement.split(" ")[1]||"";const Bt=Te("auto",je.offsets.host,je.instance.target,je.instance.host,je.options.allowedPositions),cn=[X,Bt];return cn.forEach((hn,An)=>{if(X!==hn||cn.length===An+1)return;X=je.placement.split(" ")[0];const xn="left"===X&&Math.floor(je.offsets.target.right??0)>Math.floor(je.offsets.host.left??0)||"right"===X&&Math.floor(je.offsets.target.left??0)<Math.floor(je.offsets.host.right??0)||"top"===X&&Math.floor(je.offsets.target.bottom??0)>Math.floor(je.offsets.host.top??0)||"bottom"===X&&Math.floor(je.offsets.target.top??0)<Math.floor(je.offsets.host.bottom??0),Bn=Math.floor(je.offsets.target.left??0)<Math.floor(ce.left??0),It=Math.floor(je.offsets.target.right??0)>Math.floor(ce.right??0),Dn=Math.floor(je.offsets.target.top??0)<Math.floor(ce.top??0),Gt=Math.floor(je.offsets.target.bottom??0)>Math.floor(ce.bottom??0),lt="left"===X&&Bn||"right"===X&&It||"top"===X&&Dn||"bottom"===X&&Gt,Ct=-1!==["top","bottom"].indexOf(X),yt=Ct&&"left"===oe&&Bn||Ct&&"right"===oe&&It||!Ct&&"left"===oe&&Dn||!Ct&&"right"===oe&&Gt;(xn||lt||yt)&&((xn||lt)&&(X=cn[An+1]),yt&&(oe=function pt(je){return"right"===je?"left":"left"===je?"right":je}(oe)),je.placement=X+(oe?` ${oe}`:""),je.offsets.target={...je.offsets.target,...Dt(je.instance.target,je.offsets.host,je.placement)})}),je}function Pt(je){if(!wt(je.options,"preventOverflow"))return je;const ce="transform",X=je.instance.target.style,{top:oe,left:Ve,[ce]:tt}=X;X.top="",X.left="",X[ce]="";const gt=le(je.instance.target,je.instance.host,0,je.options.modifiers.preventOverflow?.boundariesElement||"scrollParent",!1);X.top=oe,X.left=Ve,X[ce]=tt;const cn={primary(hn){let An=je.offsets.target[hn];return(je.offsets.target[hn]??0)<(gt[hn]??0)&&(An=Math.max(je.offsets.target[hn]??0,gt[hn]??0)),{[hn]:An}},secondary(hn){const An="right"===hn,xn=An?"left":"top";let It=je.offsets.target[xn];return(je.offsets.target[hn]??0)>(gt[hn]??0)&&(It=Math.min(je.offsets.target[xn]??0,(gt[hn]??0)-je.offsets.target[An?"width":"height"])),{[xn]:It}}};return["left","right","top","bottom"].forEach(hn=>{const An=-1!==["left","top","start"].indexOf(hn)?cn.primary:cn.secondary;je.offsets.target={...je.offsets.target,...An(hn)}}),je}function mt(je){const ce=je.placement,X=ce.split(" ")[0],oe=ce.split(" ")[1];if(oe){const{host:Ve,target:tt}=je.offsets,gt=-1!==["bottom","top"].indexOf(X),Bt=gt?"left":"top",cn=gt?"width":"height",hn={start:{[Bt]:Ve[Bt]},end:{[Bt]:(Ve[Bt]??0)+Ve[cn]-tt[cn]}};je.offsets.target={...tt,[Bt]:Bt===oe?hn.start[Bt]:hn.end[Bt]}}return je}const Kt=new class it{position(ce,X){return this.offset(ce,X)}offset(ce,X){return jt(X,ce)}positionElements(ce,X,oe,Ve,tt){const gt=[Be,mt,Pt,at],cn=function ot(je,ce,X,oe){if(!je||!ce)return;const Ve=jt(je,ce);!X.match(/^(auto)*\s*(left|right|top|bottom|start|end)*$/)&&!X.match(/^(left|right|top|bottom|start|end)*(?: (left|right|top|bottom|start|end))*$/)&&(X="auto");const tt=!!X.match(/auto/g);let gt=X.match(/auto\s(left|right|top|bottom|start|end)/)?X.split(" ")[1]||"auto":X;const Bt=gt.match(/^(left|right|top|bottom|start|end)* ?(?!\1)(left|right|top|bottom|start|end)?/);return Bt&&(gt=Bt[1]+(Bt[2]?` ${Bt[2]}`:"")),-1!==["left right","right left","top bottom","bottom top"].indexOf(gt)&&(gt="auto"),gt=Te(gt,Ve,je,ce,oe?oe.allowedPositions:void 0),{options:oe||{modifiers:{}},instance:{target:je,host:ce,arrow:void 0},offsets:{target:Dt(je,Ve,gt),host:Ve,arrow:void 0},positionFixed:!1,placement:gt,placementAuto:tt}}(X,ce,N[oe],tt);if(cn)return gt.reduce((hn,An)=>An(hn),cn)}};function sn(je,ce,X,oe,Ve,tt){const gt=Kt.positionElements(je,ce,X,oe,Ve);if(!gt)return;const Bt=function st(je){return{width:je.offsets.target.width,height:je.offsets.target.height,left:Math.floor(je.offsets.target.left??0),top:Math.round(je.offsets.target.top??0),bottom:Math.round(je.offsets.target.bottom??0),right:Math.floor(je.offsets.target.right??0)}}(gt);we(ce,{"will-change":"transform",top:"0px",left:"0px",transform:`translate3d(${Bt.left}px, ${Bt.top}px, 0px)`},tt),gt.instance.arrow&&we(gt.instance.arrow,gt.offsets.arrow,tt),function Ce(je,ce){const X=je.instance.target;let oe=X.className;const Ve=(0,n.Bu)().isBs5?G[je.placement]:je.placement;je.placementAuto&&(oe=oe.replace(/bs-popover-auto/g,`bs-popover-${Ve}`),oe=oe.replace(/ms-2|me-2|mb-2|mt-2/g,""),oe=oe.replace(/bs-tooltip-auto/g,`bs-tooltip-${Ve}`),oe=oe.replace(/\sauto/g,` ${Ve}`),-1!==oe.indexOf("popover")&&(oe=oe+" "+function Z(je){return(0,n.Bu)().isBs5?Y(je,"end")?"ms-2":Y(je,"start")?"me-2":Y(je,"top")?"mb-2":Y(je,"bottom")?"mt-2":"":""}(Ve)),-1!==oe.indexOf("popover")&&-1===oe.indexOf("popover-auto")&&(oe+=" popover-auto"),-1!==oe.indexOf("tooltip")&&-1===oe.indexOf("tooltip-auto")&&(oe+=" tooltip-auto")),oe=oe.replace(/left|right|top|bottom|end|start/g,`${Ve.split(" ")[0]}`),ce?ce.setAttribute(X,"class",oe):X.className=oe}(gt,tt)}let Ft=(()=>{class je{constructor(X,oe,Ve){this.update$$=new p.B,this.positionElements=new Map,this.isDisabled=!1,(0,y.UE)(Ve)&&X.runOutsideAngular(()=>{this.triggerEvent$=(0,w.h)((0,C.R)(window,"scroll",{passive:!0}),(0,C.R)(window,"resize",{passive:!0}),(0,m.of)(0,M),this.update$$),this.triggerEvent$.subscribe(()=>{this.isDisabled||this.positionElements.forEach(tt=>{sn(Jt(tt.target),Jt(tt.element),tt.attachment,tt.appendToBody,this.options,oe.createRenderer(null,null))})})})}position(X){this.addPositionElement(X)}get event$(){return this.triggerEvent$}disable(){this.isDisabled=!0}enable(){this.isDisabled=!1}addPositionElement(X){this.positionElements.set(Jt(X.element),X)}calcPosition(){this.update$$.next(null)}deletePositionElement(X){this.positionElements.delete(Jt(X))}setOptions(X){this.options=X}static{this.\u0275fac=function(oe){return new(oe||je)(e.KVO(e.SKi),e.KVO(e._9s),e.KVO(e.Agw))}}static{this.\u0275prov=e.jDH({token:je,factory:je.\u0275fac,providedIn:"root"})}}return je})();function Jt(je){return"string"==typeof je?document.querySelector(je):je instanceof e.aKT?je.nativeElement:je??null}},3816:(nt,fe,h)=>{"use strict";h.d(fe,{jr:()=>F});var n=h(4438),e=h(177);let F=(()=>{class b{static forRoot(){return{ngModule:b,providers:[]}}static{this.\u0275fac=function(N){return new(N||b)}}static{this.\u0275mod=n.$C({type:b})}static{this.\u0275inj=n.G2t({imports:[e.MD]})}}return b})()},534:(nt,fe,h)=>{"use strict";h.d(fe,{Ss:()=>b,dg:()=>F});var n=h(4438),e=h(2806),y=h(2865),p=h(1635),w=h(6932),C=h(1584),m=h(177);const u=["*"];let f=(()=>{class M{constructor(){this.adaptivePosition=!0,this.placement="top",this.triggers="hover focus",this.delay=0}static{this.\u0275fac=function(G){return new(G||M)}}static{this.\u0275prov=n.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})(),T=(()=>{class M{get _bsVersions(){return(0,e.Bu)()}constructor(N){Object.assign(this,N)}ngAfterViewInit(){this.classMap={in:!1,fade:!1},this.placement&&(this._bsVersions.isBs5&&(this.placement=y.Rz[this.placement]),this.classMap[this.placement]=!0),this.classMap[`tooltip-${this.placement}`]=!0,this.classMap.in=!0,this.animation&&(this.classMap.fade=!0),this.containerClass&&(this.classMap[this.containerClass]=!0)}static{this.\u0275fac=function(G){return new(G||M)(n.rXU(f))}}static{this.\u0275cmp=n.VBU({type:M,selectors:[["bs-tooltip-container"]],hostAttrs:["role","tooltip"],hostVars:3,hostBindings:function(G,R){2&G&&(n.BMQ("id",R.id),n.HbH("show tooltip in tooltip-"+R.placement+" bs-tooltip-"+R.placement+" "+R.placement+" "+R.containerClass))},ngContentSelectors:u,decls:3,vars:0,consts:[[1,"tooltip-arrow","arrow"],[1,"tooltip-inner"]],template:function(G,R){1&G&&(n.NAR(),n.nrm(0,"div",0),n.j41(1,"div",1),n.SdG(2),n.k0s())},styles:[".tooltip[_nghost-%COMP%]{display:block;pointer-events:none;position:absolute}.tooltip[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{position:absolute}"],changeDetection:0})}}return M})(),O=0,F=(()=>{class M{get isOpen(){return this._tooltip.isShown}set isOpen(N){N?this.show():this.hide()}set htmlContent(N){(0,e.mc)("tooltipHtml was deprecated, please use `tooltip` instead"),this.tooltip=N}set _placement(N){(0,e.mc)("tooltipPlacement was deprecated, please use `placement` instead"),this.placement=N}set _isOpen(N){(0,e.mc)("tooltipIsOpen was deprecated, please use `isOpen` instead"),this.isOpen=N}get _isOpen(){return(0,e.mc)("tooltipIsOpen was deprecated, please use `isOpen` instead"),this.isOpen}set _enable(N){(0,e.mc)("tooltipEnable was deprecated, please use `isDisabled` instead"),this.isDisabled=!N}get _enable(){return(0,e.mc)("tooltipEnable was deprecated, please use `isDisabled` instead"),this.isDisabled}set _appendToBody(N){(0,e.mc)('tooltipAppendToBody was deprecated, please use `container="body"` instead'),this.container=N?"body":this.container}get _appendToBody(){return(0,e.mc)('tooltipAppendToBody was deprecated, please use `container="body"` instead'),"body"===this.container}set _popupClass(N){(0,e.mc)("tooltipClass deprecated")}set _tooltipContext(N){(0,e.mc)("tooltipContext deprecated")}set _tooltipPopupDelay(N){(0,e.mc)("tooltipPopupDelay is deprecated, use `delay` instead"),this.delay=N}get _tooltipTrigger(){return(0,e.mc)("tooltipTrigger was deprecated, please use `triggers` instead"),this.triggers}set _tooltipTrigger(N){(0,e.mc)("tooltipTrigger was deprecated, please use `triggers` instead"),this.triggers=(N||"").toString()}constructor(N,G,R,j,U,$){this._elementRef=j,this._renderer=U,this._positionService=$,this.tooltipId=O++,this.adaptivePosition=!0,this.tooltipChange=new n.bkB,this.placement="top",this.triggers="hover focus",this.containerClass="",this.isDisabled=!1,this.delay=0,this.tooltipAnimation=!0,this.tooltipFadeDuration=150,this.tooltipStateChanged=new n.bkB,this._tooltip=G.createLoader(this._elementRef,N,this._renderer).provide({provide:f,useValue:R}),Object.assign(this,R),this.onShown=this._tooltip.onShown,this.onHidden=this._tooltip.onHidden}ngOnInit(){this._tooltip.listen({triggers:this.triggers,show:()=>this.show()}),this.tooltipChange.subscribe(N=>{N||this._tooltip.hide()}),this.onShown.subscribe(()=>{this.setAriaDescribedBy()}),this.onHidden.subscribe(()=>{this.setAriaDescribedBy()})}setAriaDescribedBy(){this._ariaDescribedby=this.isOpen?`tooltip-${this.tooltipId}`:void 0,this._ariaDescribedby?this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ariaDescribedby):this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby")}toggle(){if(this.isOpen)return this.hide();this.show()}show(){if(this._positionService.setOptions({modifiers:{flip:{enabled:this.adaptivePosition},preventOverflow:{enabled:this.adaptivePosition,boundariesElement:this.boundariesElement||"scrollParent"}}}),this.isOpen||this.isDisabled||this._delayTimeoutId||!this.tooltip)return;const N=()=>{this._delayTimeoutId&&(this._delayTimeoutId=void 0),this._tooltip.attach(T).to(this.container).position({attachment:this.placement}).show({content:this.tooltip,placement:this.placement,containerClass:this.containerClass,id:`tooltip-${this.tooltipId}`})},G=()=>{this._tooltipCancelShowFn&&this._tooltipCancelShowFn()};this.delay?(this._delaySubscription&&this._delaySubscription.unsubscribe(),this._delaySubscription=(0,C.O)(this.delay).subscribe(()=>{N(),G()}),this.triggers&&(0,e.Zu)(this.triggers).forEach(R=>{R.close&&(this._tooltipCancelShowFn=this._renderer.listen(this._elementRef.nativeElement,R.close,()=>{this._delaySubscription?.unsubscribe(),G()}))})):N()}hide(){this._delayTimeoutId&&(clearTimeout(this._delayTimeoutId),this._delayTimeoutId=void 0),this._tooltip.isShown&&(this._tooltip.instance?.classMap&&(this._tooltip.instance.classMap.in=!1),setTimeout(()=>{this._tooltip.hide()},this.tooltipFadeDuration))}ngOnDestroy(){this._tooltip.dispose(),this.tooltipChange.unsubscribe(),this._delaySubscription&&this._delaySubscription.unsubscribe(),this.onShown.unsubscribe(),this.onHidden.unsubscribe()}static{this.\u0275fac=function(G){return new(G||M)(n.rXU(n.c1b),n.rXU(w.Li),n.rXU(f),n.rXU(n.aKT),n.rXU(n.sFG),n.rXU(y.DF))}}static{this.\u0275dir=n.FsC({type:M,selectors:[["","tooltip",""],["","tooltipHtml",""]],inputs:{adaptivePosition:"adaptivePosition",tooltip:"tooltip",placement:"placement",triggers:"triggers",container:"container",containerClass:"containerClass",boundariesElement:"boundariesElement",isOpen:"isOpen",isDisabled:"isDisabled",delay:"delay",htmlContent:[n.Mj6.None,"tooltipHtml","htmlContent"],_placement:[n.Mj6.None,"tooltipPlacement","_placement"],_isOpen:[n.Mj6.None,"tooltipIsOpen","_isOpen"],_enable:[n.Mj6.None,"tooltipEnable","_enable"],_appendToBody:[n.Mj6.None,"tooltipAppendToBody","_appendToBody"],tooltipAnimation:"tooltipAnimation",_popupClass:[n.Mj6.None,"tooltipClass","_popupClass"],_tooltipContext:[n.Mj6.None,"tooltipContext","_tooltipContext"],_tooltipPopupDelay:[n.Mj6.None,"tooltipPopupDelay","_tooltipPopupDelay"],tooltipFadeDuration:"tooltipFadeDuration",_tooltipTrigger:[n.Mj6.None,"tooltipTrigger","_tooltipTrigger"]},outputs:{tooltipChange:"tooltipChange",onShown:"onShown",onHidden:"onHidden",tooltipStateChanged:"tooltipStateChanged"},exportAs:["bs-tooltip"]})}}return(0,p.Cg)([(0,e.Yr)(),(0,p.Sn)("design:type",Object)],M.prototype,"tooltip",void 0),M})(),b=(()=>{class M{static forRoot(){return{ngModule:M,providers:[w.Li,y.DF]}}static{this.\u0275fac=function(G){return new(G||M)}}static{this.\u0275mod=n.$C({type:M})}static{this.\u0275inj=n.G2t({imports:[m.MD]})}}return M})()},8400:(nt,fe,h)=>{"use strict";h.d(fe,{Xi:()=>Dt,qP:()=>wt});var n=h(4438),e=h(2806),y=h(2865),p=h(8359),w=h(4402),C=h(983),m=h(6648),u=h(9969),f=h(177),T=h(9417),O=h(6932),F=h(152),b=h(8141),M=h(5558),k=h(1397),N=h(5964),G=h(6649),R=h(9974);const U=(z,Y)=>(z.push(Y),z);const ie=["ulElement"],se=["liElements"],L=(z,Y,Z,Ce)=>({matches:z,itemTemplate:Y,query:Z,$implicit:Ce}),J=(z,Y,Z,Ce)=>({item:z,index:Y,match:Z,query:Ce});function q(z,Y){}function S(z,Y){if(1&z&&n.nrm(0,"span",4),2&z){const Z=Y.match,Ce=Y.query,we=n.XpG();n.Y8G("innerHtml",we.highlight(Z,Ce),n.npT)}}function re(z,Y){if(1&z&&(n.j41(0,"h6",8),n.EFF(1),n.k0s()),2&z){const Z=n.XpG().$implicit;n.R7$(),n.JRh(Z)}}function K(z,Y){}function me(z,Y){if(1&z){const Z=n.RV6();n.j41(0,"button",9,2),n.bIt("click",function(we){n.eBV(Z);const at=n.XpG().$implicit,Be=n.XpG(2);return n.Njj(Be.selectMatch(at,we))})("mouseenter",function(){n.eBV(Z);const we=n.XpG().$implicit,at=n.XpG(2);return n.Njj(at.selectActive(we))}),n.DNE(2,K,0,0,"ng-template",3),n.k0s()}if(2&z){const Z=n.XpG(),Ce=Z.$implicit,we=Z.index,at=n.XpG(2),Be=n.sdS(2);n.AVh("active",at.isActive(Ce)),n.Y8G("id",at.popupId+"-"+we)("@typeaheadAnimation",at.animationState),n.R7$(2),n.Y8G("ngTemplateOutlet",at.itemTemplate||Be)("ngTemplateOutletContext",n.ziG(6,J,Ce.item,we,Ce,at.query))}}function Ne(z,Y){if(1&z&&n.DNE(0,re,2,1,"h6",6)(1,me,3,11,"ng-template",7),2&z){const Z=Y.$implicit;n.Y8G("ngIf",Z.isHeader()),n.R7$(),n.Y8G("ngIf",!Z.isHeader())}}function De(z,Y){if(1&z&&n.DNE(0,Ne,2,2,"ng-template",5),2&z){const Z=n.XpG();n.Y8G("ngForOf",Z.matches)}}const xe={\u00c1:"A",\u0102:"A",\u1eae:"A",\u1eb6:"A",\u1eb0:"A",\u1eb2:"A",\u1eb4:"A",\u01cd:"A",\u00c2:"A",\u1ea4:"A",\u1eac:"A",\u1ea6:"A",\u1ea8:"A",\u1eaa:"A",\u00c4:"A",\u01de:"A",\u0226:"A",\u01e0:"A",\u1ea0:"A",\u0200:"A",\u00c0:"A",\u1ea2:"A",\u0202:"A",\u0100:"A",\u0104:"A",\u00c5:"A",\u01fa:"A",\u1e00:"A",\u023a:"A",\u00c3:"A",\ua732:"AA",\u00c6:"AE",\u01fc:"AE",\u01e2:"AE",\ua734:"AO",\ua736:"AU",\ua738:"AV",\ua73a:"AV",\ua73c:"AY",\u1e02:"B",\u1e04:"B",\u0181:"B",\u1e06:"B",\u0243:"B",\u0182:"B",\u0106:"C",\u010c:"C",\u00c7:"C",\u1e08:"C",\u0108:"C",\u010a:"C",\u0187:"C",\u023b:"C",\u010e:"D",\u1e10:"D",\u1e12:"D",\u1e0a:"D",\u1e0c:"D",\u018a:"D",\u1e0e:"D",\u01f2:"D",\u01c5:"D",\u0110:"D",\u018b:"D",\u01f1:"DZ",\u01c4:"DZ",\u00c9:"E",\u0114:"E",\u011a:"E",\u0228:"E",\u1e1c:"E",\u00ca:"E",\u1ebe:"E",\u1ec6:"E",\u1ec0:"E",\u1ec2:"E",\u1ec4:"E",\u1e18:"E",\u00cb:"E",\u0116:"E",\u1eb8:"E",\u0204:"E",\u00c8:"E",\u1eba:"E",\u0206:"E",\u0112:"E",\u1e16:"E",\u1e14:"E",\u0118:"E",\u0246:"E",\u1ebc:"E",\u1e1a:"E",\ua76a:"ET",\u1e1e:"F",\u0191:"F",\u01f4:"G",\u011e:"G",\u01e6:"G",\u0122:"G",\u011c:"G",\u0120:"G",\u0193:"G",\u1e20:"G",\u01e4:"G",\u1e2a:"H",\u021e:"H",\u1e28:"H",\u0124:"H",\u2c67:"H",\u1e26:"H",\u1e22:"H",\u1e24:"H",\u0126:"H",\u00cd:"I",\u012c:"I",\u01cf:"I",\u00ce:"I",\u00cf:"I",\u1e2e:"I",\u0130:"I",\u1eca:"I",\u0208:"I",\u00cc:"I",\u1ec8:"I",\u020a:"I",\u012a:"I",\u012e:"I",\u0197:"I",\u0128:"I",\u1e2c:"I",\ua779:"D",\ua77b:"F",\ua77d:"G",\ua782:"R",\ua784:"S",\ua786:"T",\ua76c:"IS",\u0134:"J",\u0248:"J",\u1e30:"K",\u01e8:"K",\u0136:"K",\u2c69:"K",\ua742:"K",\u1e32:"K",\u0198:"K",\u1e34:"K",\ua740:"K",\ua744:"K",\u0139:"L",\u023d:"L",\u013d:"L",\u013b:"L",\u1e3c:"L",\u1e36:"L",\u1e38:"L",\u2c60:"L",\ua748:"L",\u1e3a:"L",\u013f:"L",\u2c62:"L",\u01c8:"L",\u0141:"L",\u01c7:"LJ",\u1e3e:"M",\u1e40:"M",\u1e42:"M",\u2c6e:"M",\u0143:"N",\u0147:"N",\u0145:"N",\u1e4a:"N",\u1e44:"N",\u1e46:"N",\u01f8:"N",\u019d:"N",\u1e48:"N",\u0220:"N",\u01cb:"N",\u00d1:"N",\u01ca:"NJ",\u00d3:"O",\u014e:"O",\u01d1:"O",\u00d4:"O",\u1ed0:"O",\u1ed8:"O",\u1ed2:"O",\u1ed4:"O",\u1ed6:"O",\u00d6:"O",\u022a:"O",\u022e:"O",\u0230:"O",\u1ecc:"O",\u0150:"O",\u020c:"O",\u00d2:"O",\u1ece:"O",\u01a0:"O",\u1eda:"O",\u1ee2:"O",\u1edc:"O",\u1ede:"O",\u1ee0:"O",\u020e:"O",\ua74a:"O",\ua74c:"O",\u014c:"O",\u1e52:"O",\u1e50:"O",\u019f:"O",\u01ea:"O",\u01ec:"O",\u00d8:"O",\u01fe:"O",\u00d5:"O",\u1e4c:"O",\u1e4e:"O",\u022c:"O",\u01a2:"OI",\ua74e:"OO",\u0190:"E",\u0186:"O",\u0222:"OU",\u1e54:"P",\u1e56:"P",\ua752:"P",\u01a4:"P",\ua754:"P",\u2c63:"P",\ua750:"P",\ua758:"Q",\ua756:"Q",\u0154:"R",\u0158:"R",\u0156:"R",\u1e58:"R",\u1e5a:"R",\u1e5c:"R",\u0210:"R",\u0212:"R",\u1e5e:"R",\u024c:"R",\u2c64:"R",\ua73e:"C",\u018e:"E",\u015a:"S",\u1e64:"S",\u0160:"S",\u1e66:"S",\u015e:"S",\u015c:"S",\u0218:"S",\u1e60:"S",\u1e62:"S",\u1e68:"S",\u0164:"T",\u0162:"T",\u1e70:"T",\u021a:"T",\u023e:"T",\u1e6a:"T",\u1e6c:"T",\u01ac:"T",\u1e6e:"T",\u01ae:"T",\u0166:"T",\u2c6f:"A",\ua780:"L",\u019c:"M",\u0245:"V",\ua728:"TZ",\u00da:"U",\u016c:"U",\u01d3:"U",\u00db:"U",\u1e76:"U",\u00dc:"U",\u01d7:"U",\u01d9:"U",\u01db:"U",\u01d5:"U",\u1e72:"U",\u1ee4:"U",\u0170:"U",\u0214:"U",\u00d9:"U",\u1ee6:"U",\u01af:"U",\u1ee8:"U",\u1ef0:"U",\u1eea:"U",\u1eec:"U",\u1eee:"U",\u0216:"U",\u016a:"U",\u1e7a:"U",\u0172:"U",\u016e:"U",\u0168:"U",\u1e78:"U",\u1e74:"U",\ua75e:"V",\u1e7e:"V",\u01b2:"V",\u1e7c:"V",\ua760:"VY",\u1e82:"W",\u0174:"W",\u1e84:"W",\u1e86:"W",\u1e88:"W",\u1e80:"W",\u2c72:"W",\u1e8c:"X",\u1e8a:"X",\u00dd:"Y",\u0176:"Y",\u0178:"Y",\u1e8e:"Y",\u1ef4:"Y",\u1ef2:"Y",\u01b3:"Y",\u1ef6:"Y",\u1efe:"Y",\u0232:"Y",\u024e:"Y",\u1ef8:"Y",\u0179:"Z",\u017d:"Z",\u1e90:"Z",\u2c6b:"Z",\u017b:"Z",\u1e92:"Z",\u0224:"Z",\u1e94:"Z",\u01b5:"Z",\u0132:"IJ",\u0152:"OE",\u1d00:"A",\u1d01:"AE",\u0299:"B",\u1d03:"B",\u1d04:"C",\u1d05:"D",\u1d07:"E",\ua730:"F",\u0262:"G",\u029b:"G",\u029c:"H",\u026a:"I",\u0281:"R",\u1d0a:"J",\u1d0b:"K",\u029f:"L",\u1d0c:"L",\u1d0d:"M",\u0274:"N",\u1d0f:"O",\u0276:"OE",\u1d10:"O",\u1d15:"OU",\u1d18:"P",\u0280:"R",\u1d0e:"N",\u1d19:"R",\ua731:"S",\u1d1b:"T",\u2c7b:"E",\u1d1a:"R",\u1d1c:"U",\u1d20:"V",\u1d21:"W",\u028f:"Y",\u1d22:"Z",\u00e1:"a",\u0103:"a",\u1eaf:"a",\u1eb7:"a",\u1eb1:"a",\u1eb3:"a",\u1eb5:"a",\u01ce:"a",\u00e2:"a",\u1ea5:"a",\u1ead:"a",\u1ea7:"a",\u1ea9:"a",\u1eab:"a",\u00e4:"a",\u01df:"a",\u0227:"a",\u01e1:"a",\u1ea1:"a",\u0201:"a",\u00e0:"a",\u1ea3:"a",\u0203:"a",\u0101:"a",\u0105:"a",\u1d8f:"a",\u1e9a:"a",\u00e5:"a",\u01fb:"a",\u1e01:"a",\u2c65:"a",\u00e3:"a",\ua733:"aa",\u00e6:"ae",\u01fd:"ae",\u01e3:"ae",\ua735:"ao",\ua737:"au",\ua739:"av",\ua73b:"av",\ua73d:"ay",\u1e03:"b",\u1e05:"b",\u0253:"b",\u1e07:"b",\u1d6c:"b",\u1d80:"b",\u0180:"b",\u0183:"b",\u0275:"o",\u0107:"c",\u010d:"c",\u00e7:"c",\u1e09:"c",\u0109:"c",\u0255:"c",\u010b:"c",\u0188:"c",\u023c:"c",\u010f:"d",\u1e11:"d",\u1e13:"d",\u0221:"d",\u1e0b:"d",\u1e0d:"d",\u0257:"d",\u1d91:"d",\u1e0f:"d",\u1d6d:"d",\u1d81:"d",\u0111:"d",\u0256:"d",\u018c:"d",\u0131:"i",\u0237:"j",\u025f:"j",\u0284:"j",\u01f3:"dz",\u01c6:"dz",\u00e9:"e",\u0115:"e",\u011b:"e",\u0229:"e",\u1e1d:"e",\u00ea:"e",\u1ebf:"e",\u1ec7:"e",\u1ec1:"e",\u1ec3:"e",\u1ec5:"e",\u1e19:"e",\u00eb:"e",\u0117:"e",\u1eb9:"e",\u0205:"e",\u00e8:"e",\u1ebb:"e",\u0207:"e",\u0113:"e",\u1e17:"e",\u1e15:"e",\u2c78:"e",\u0119:"e",\u1d92:"e",\u0247:"e",\u1ebd:"e",\u1e1b:"e",\ua76b:"et",\u1e1f:"f",\u0192:"f",\u1d6e:"f",\u1d82:"f",\u01f5:"g",\u011f:"g",\u01e7:"g",\u0123:"g",\u011d:"g",\u0121:"g",\u0260:"g",\u1e21:"g",\u1d83:"g",\u01e5:"g",\u1e2b:"h",\u021f:"h",\u1e29:"h",\u0125:"h",\u2c68:"h",\u1e27:"h",\u1e23:"h",\u1e25:"h",\u0266:"h",\u1e96:"h",\u0127:"h",\u0195:"hv",\u00ed:"i",\u012d:"i",\u01d0:"i",\u00ee:"i",\u00ef:"i",\u1e2f:"i",\u1ecb:"i",\u0209:"i",\u00ec:"i",\u1ec9:"i",\u020b:"i",\u012b:"i",\u012f:"i",\u1d96:"i",\u0268:"i",\u0129:"i",\u1e2d:"i",\ua77a:"d",\ua77c:"f",\u1d79:"g",\ua783:"r",\ua785:"s",\ua787:"t",\ua76d:"is",\u01f0:"j",\u0135:"j",\u029d:"j",\u0249:"j",\u1e31:"k",\u01e9:"k",\u0137:"k",\u2c6a:"k",\ua743:"k",\u1e33:"k",\u0199:"k",\u1e35:"k",\u1d84:"k",\ua741:"k",\ua745:"k",\u013a:"l",\u019a:"l",\u026c:"l",\u013e:"l",\u013c:"l",\u1e3d:"l",\u0234:"l",\u1e37:"l",\u1e39:"l",\u2c61:"l",\ua749:"l",\u1e3b:"l",\u0140:"l",\u026b:"l",\u1d85:"l",\u026d:"l",\u0142:"l",\u01c9:"lj",\u017f:"s",\u1e9c:"s",\u1e9b:"s",\u1e9d:"s",\u1e3f:"m",\u1e41:"m",\u1e43:"m",\u0271:"m",\u1d6f:"m",\u1d86:"m",\u0144:"n",\u0148:"n",\u0146:"n",\u1e4b:"n",\u0235:"n",\u1e45:"n",\u1e47:"n",\u01f9:"n",\u0272:"n",\u1e49:"n",\u019e:"n",\u1d70:"n",\u1d87:"n",\u0273:"n",\u00f1:"n",\u01cc:"nj",\u00f3:"o",\u014f:"o",\u01d2:"o",\u00f4:"o",\u1ed1:"o",\u1ed9:"o",\u1ed3:"o",\u1ed5:"o",\u1ed7:"o",\u00f6:"o",\u022b:"o",\u022f:"o",\u0231:"o",\u1ecd:"o",\u0151:"o",\u020d:"o",\u00f2:"o",\u1ecf:"o",\u01a1:"o",\u1edb:"o",\u1ee3:"o",\u1edd:"o",\u1edf:"o",\u1ee1:"o",\u020f:"o",\ua74b:"o",\ua74d:"o",\u2c7a:"o",\u014d:"o",\u1e53:"o",\u1e51:"o",\u01eb:"o",\u01ed:"o",\u00f8:"o",\u01ff:"o",\u00f5:"o",\u1e4d:"o",\u1e4f:"o",\u022d:"o",\u01a3:"oi",\ua74f:"oo",\u025b:"e",\u1d93:"e",\u0254:"o",\u1d97:"o",\u0223:"ou",\u1e55:"p",\u1e57:"p",\ua753:"p",\u01a5:"p",\u1d71:"p",\u1d88:"p",\ua755:"p",\u1d7d:"p",\ua751:"p",\ua759:"q",\u02a0:"q",\u024b:"q",\ua757:"q",\u0155:"r",\u0159:"r",\u0157:"r",\u1e59:"r",\u1e5b:"r",\u1e5d:"r",\u0211:"r",\u027e:"r",\u1d73:"r",\u0213:"r",\u1e5f:"r",\u027c:"r",\u1d72:"r",\u1d89:"r",\u024d:"r",\u027d:"r",\u2184:"c",\ua73f:"c",\u0258:"e",\u027f:"r",\u015b:"s",\u1e65:"s",\u0161:"s",\u1e67:"s",\u015f:"s",\u015d:"s",\u0219:"s",\u1e61:"s",\u1e63:"s",\u1e69:"s",\u0282:"s",\u1d74:"s",\u1d8a:"s",\u023f:"s",\u0261:"g",\u1d11:"o",\u1d13:"o",\u1d1d:"u",\u0165:"t",\u0163:"t",\u1e71:"t",\u021b:"t",\u0236:"t",\u1e97:"t",\u2c66:"t",\u1e6b:"t",\u1e6d:"t",\u01ad:"t",\u1e6f:"t",\u1d75:"t",\u01ab:"t",\u0288:"t",\u0167:"t",\u1d7a:"th",\u0250:"a",\u1d02:"ae",\u01dd:"e",\u1d77:"g",\u0265:"h",\u02ae:"h",\u02af:"h",\u1d09:"i",\u029e:"k",\ua781:"l",\u026f:"m",\u0270:"m",\u1d14:"oe",\u0279:"r",\u027b:"r",\u027a:"r",\u2c79:"r",\u0287:"t",\u028c:"v",\u028d:"w",\u028e:"y",\ua729:"tz",\u00fa:"u",\u016d:"u",\u01d4:"u",\u00fb:"u",\u1e77:"u",\u00fc:"u",\u01d8:"u",\u01da:"u",\u01dc:"u",\u01d6:"u",\u1e73:"u",\u1ee5:"u",\u0171:"u",\u0215:"u",\u00f9:"u",\u1ee7:"u",\u01b0:"u",\u1ee9:"u",\u1ef1:"u",\u1eeb:"u",\u1eed:"u",\u1eef:"u",\u0217:"u",\u016b:"u",\u1e7b:"u",\u0173:"u",\u1d99:"u",\u016f:"u",\u0169:"u",\u1e79:"u",\u1e75:"u",\u1d6b:"ue",\ua778:"um",\u2c74:"v",\ua75f:"v",\u1e7f:"v",\u028b:"v",\u1d8c:"v",\u2c71:"v",\u1e7d:"v",\ua761:"vy",\u1e83:"w",\u0175:"w",\u1e85:"w",\u1e87:"w",\u1e89:"w",\u1e81:"w",\u2c73:"w",\u1e98:"w",\u1e8d:"x",\u1e8b:"x",\u1d8d:"x",\u00fd:"y",\u0177:"y",\u00ff:"y",\u1e8f:"y",\u1ef5:"y",\u1ef3:"y",\u01b4:"y",\u1ef7:"y",\u1eff:"y",\u0233:"y",\u1e99:"y",\u024f:"y",\u1ef9:"y",\u017a:"z",\u017e:"z",\u1e91:"z",\u0291:"z",\u2c6c:"z",\u017c:"z",\u1e93:"z",\u0225:"z",\u1e95:"z",\u1d76:"z",\u1d8e:"z",\u0290:"z",\u01b6:"z",\u0240:"z",\ufb00:"ff",\ufb03:"ffi",\ufb04:"ffl",\ufb01:"fi",\ufb02:"fl",\u0133:"ij",\u0153:"oe",\ufb06:"st",\u2090:"a",\u2091:"e",\u1d62:"i",\u2c7c:"j",\u2092:"o",\u1d63:"r",\u1d64:"u",\u1d65:"v",\u2093:"x"};class Se{constructor(Y,Z=Y,Ce=!1){this.item=Y,this.value=Z,this.header=Ce}isHeader(){return this.header}toString(){return this.value}}function be(z){return z?z.replace(/[^A-Za-z0-9[\] ]/g,function(Y){return xe[Y]||Y}):""}function Fe(z,Y=" ",Z="",Ce){let we=[];if(Ce){const Be=z.split(new RegExp(`([${Ce}]+)`,"g")),ot=Be[Be.length-1];ot>""&&(Y&&Z?we=Te(ot,Y,Z):we.push(ot))}else we=Te(z,Y,Z);return we}function Te(z,Y,Z){const Ce=[],at=z.split(new RegExp(`(?:[${Z}])([^${Z}]+)(?:[${Z}])|([^${Y}]+)`,"g")),Be=at.length;let ot;const Pt=new RegExp(`[${Z}]+`,"g");for(let mt=0;mt<Be;mt+=1)ot=at[mt],ot&&ot.length&&ot!==Y&&Ce.push(ot.replace(Pt,""));return Ce}function st(z,Y){if(!Y||"object"!=typeof z)return z.toString();if(Y.endsWith("()"))return z[Y.slice(0,Y.length-2)]().toString();const Ce=Y.replace(/\[(\w+)\]/g,".$1").replace(/^\./,"").split(".");for(const we of Ce)we in z&&(z=z[we]);return z?z.toString():""}const Oe="220ms cubic-bezier(0, 0, 0.2, 1)",pt=(0,u.hZ)("typeaheadAnimation",[(0,u.wk)("animated-down",(0,u.iF)({height:"*",overflow:"hidden"})),(0,u.kY)("* => animated-down",[(0,u.iF)({height:0,overflow:"hidden"}),(0,u.i0)(Oe)]),(0,u.wk)("animated-up",(0,u.iF)({height:"*",overflow:"hidden"})),(0,u.kY)("* => animated-up",[(0,u.iF)({height:"*",overflow:"hidden"}),(0,u.i0)(Oe)]),(0,u.kY)("* => unanimated",(0,u.i0)("0s"))]);let Ye=0,qt=(()=>{class z{get typeaheadTemplateMethods(){return{selectMatch:this.selectMatch.bind(this),selectActive:this.selectActive.bind(this),isActive:this.isActive.bind(this)}}constructor(Z,Ce,we,at){this.positionService=Z,this.renderer=Ce,this.element=we,this.changeDetectorRef=at,this.activeChangeEvent=new n.bkB,this.isFocused=!1,this.positionServiceSubscription=new p.yU,this.height=0,this.popupId="ngb-typeahead-"+Ye++,this._matches=[],this.renderer.setAttribute(this.element.nativeElement,"id",this.popupId),this.positionServiceSubscription.add(this.positionService.event$?.subscribe(()=>{if(this.isAnimated)return this.animationState=this.isTopPosition?"animated-up":"animated-down",void this.changeDetectorRef.detectChanges();this.animationState="unanimated",this.changeDetectorRef.detectChanges()}))}get active(){return this._active}set active(Z){this._active=Z,this.activeChanged()}get matches(){return this._matches}set matches(Z){if(this.positionService.setOptions({modifiers:{flip:{enabled:this.adaptivePosition}},allowedPositions:["top","bottom"]}),this._matches=Z,this.needScrollbar=this.typeaheadScrollable&&this.typeaheadOptionsInScrollableView<this.matches.length,this.typeaheadScrollable&&setTimeout(()=>{this.setScrollableMode()}),this.typeaheadIsFirstItemActive&&this._matches.length>0&&(this.setActive(this._matches[0]),this._active?.isHeader()&&this.nextActiveMatch()),this._active&&!this.typeaheadIsFirstItemActive){const Ce=this._matches.find(we=>we.value===this._active?.value);if(Ce)return void this.selectActive(Ce);this.active=void 0}}get isTopPosition(){return this.element.nativeElement.classList.contains("top")}get optionsListTemplate(){return this.parent?this.parent.optionsListTemplate:void 0}get isAnimated(){return!!this.parent&&this.parent.isAnimated}get adaptivePosition(){return!!this.parent&&this.parent.adaptivePosition}get typeaheadScrollable(){return!!this.parent&&this.parent.typeaheadScrollable}get typeaheadOptionsInScrollableView(){return this.parent?this.parent.typeaheadOptionsInScrollableView:5}get typeaheadIsFirstItemActive(){return!this.parent||this.parent.typeaheadIsFirstItemActive}get itemTemplate(){return this.parent?this.parent.typeaheadItemTemplate:void 0}get canSelectItemsOnBlur(){return!!this.parent?.selectItemOnBlur}selectActiveMatch(Z){this._active&&this.parent?.typeaheadSelectFirstItem&&this.selectMatch(this._active),!this.parent?.typeaheadSelectFirstItem&&Z&&this.selectMatch(this._active)}activeChanged(){if(!this._active)return;const Z=this.matches.indexOf(this._active);this.activeChangeEvent.emit(`${this.popupId}-${Z}`)}prevActiveMatch(){if(!this._active)return;const Z=this.matches.indexOf(this._active);this.setActive(this.matches[Z-1<0?this.matches.length-1:Z-1]),this._active.isHeader()&&this.prevActiveMatch(),this.typeaheadScrollable&&this.scrollPrevious(Z)}nextActiveMatch(){const Z=this._active?this.matches.indexOf(this._active):-1;this.setActive(this.matches[Z+1>this.matches.length-1?0:Z+1]),this._active?.isHeader()&&this.nextActiveMatch(),this.typeaheadScrollable&&this.scrollNext(Z)}selectActive(Z){this.isFocused=!0,this.setActive(Z)}highlight(Z,Ce){let Be,ot,we=Z.value,at=(this.parent&&this.parent.typeaheadLatinize?be(we):we).toLowerCase();if("object"==typeof Ce){const Pt=Ce.length;for(let mt=0;mt<Pt;mt+=1)Be=at.indexOf(Ce[mt]),ot=Ce[mt].length,Be>=0&&ot>0&&(we=`${we.substring(0,Be)}<strong>${we.substring(Be,Be+ot)}</strong>${we.substring(Be+ot)}`,at=`${at.substring(0,Be)}        ${" ".repeat(ot)}         ${at.substring(Be+ot)}`)}else Ce&&(Be=at.indexOf(Ce),ot=Ce.length,Be>=0&&ot>0&&(we=`${we.substring(0,Be)}<strong>${we.substring(Be,Be+ot)}</strong>${we.substring(Be+ot)}`));return we}focusLost(){this.isFocused=!1,this.canSelectItemsOnBlur||this.setActive(void 0)}isActive(Z){return this.active===Z}selectMatch(Z,Ce){return Ce&&(Ce.stopPropagation(),Ce.preventDefault()),this.parent?.changeModel(Z),setTimeout(()=>this.parent?.typeaheadOnSelect.emit(Z),0),!1}setScrollableMode(){if(this.ulElement||(this.ulElement=this.element),this.liElements?.first){const Z=e.Aq.getStyles(this.ulElement.nativeElement),Ce=e.Aq.getStyles(this.liElements.first.nativeElement),we=parseFloat((Z["padding-bottom"]?Z["padding-bottom"]:"").replace("px","")),at=parseFloat((Z["padding-top"]?Z["padding-top"]:"0").replace("px","")),Be=parseFloat((Ce.height?Ce.height:"0").replace("px",""));this.guiHeight=`${this.typeaheadOptionsInScrollableView*Be+at+we}px`}this.renderer.setStyle(this.element.nativeElement,"visibility","visible")}scrollPrevious(Z){if(0!==Z){if(this.liElements&&this.ulElement){const Ce=this.liElements.toArray()[Z-1];Ce&&!this.isScrolledIntoView(Ce.nativeElement)&&(this.ulElement.nativeElement.scrollTop=Ce.nativeElement.offsetTop)}}else this.scrollToBottom()}scrollNext(Z){if(Z+1>this.matches.length-1)this.scrollToTop();else if(this.liElements&&this.ulElement){const Ce=this.liElements.toArray()[Z+1];Ce&&!this.isScrolledIntoView(Ce.nativeElement)&&(this.ulElement.nativeElement.scrollTop=Ce.nativeElement.offsetTop-Number(this.ulElement.nativeElement.offsetHeight)+Number(Ce.nativeElement.offsetHeight))}}ngOnDestroy(){this.positionServiceSubscription.unsubscribe()}setActive(Z){let Ce;this._active=Z,null==this._active||this._active.isHeader()||(Ce=Z),this.parent?.typeaheadOnPreview.emit(Ce)}isScrolledIntoView(Z){if(!this.ulElement)return!1;const Ce=this.ulElement.nativeElement.scrollTop,we=Ce+Number(this.ulElement.nativeElement.offsetHeight),at=Z.offsetTop;return at+Z.offsetHeight<=we&&at>=Ce}scrollToBottom(){this.ulElement?.nativeElement&&(this.ulElement.nativeElement.scrollTop=this.ulElement.nativeElement.scrollHeight)}scrollToTop(){this.ulElement?.nativeElement&&(this.ulElement.nativeElement.scrollTop=0)}static{this.\u0275fac=function(Ce){return new(Ce||z)(n.rXU(y.DF),n.rXU(n.sFG),n.rXU(n.aKT),n.rXU(n.gRc))}}static{this.\u0275cmp=n.VBU({type:z,selectors:[["typeahead-container"]],viewQuery:function(Ce,we){if(1&Ce&&(n.GBs(ie,5),n.GBs(se,5)),2&Ce){let at;n.mGM(at=n.lsd())&&(we.ulElement=at.first),n.mGM(at=n.lsd())&&(we.liElements=at)}},hostAttrs:[1,"dropdown","open","bottom","dropdown-menu",2,"position","absolute","display","block"],hostVars:7,hostBindings:function(Ce,we){1&Ce&&n.bIt("mouseleave",function(){return we.focusLost()})("blur",function(){return we.focusLost()}),2&Ce&&(n.BMQ("role","listbox"),n.xc7("height",we.needScrollbar?we.guiHeight:"auto")("visibility","inherit"),n.AVh("dropup",we.dropup))},outputs:{activeChangeEvent:"activeChange"},decls:5,vars:7,consts:[["bsItemTemplate",""],["bs4Template",""],["liElements",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHtml"],["ngFor","",3,"ngForOf"],["class","dropdown-header",4,"ngIf"],[3,"ngIf"],[1,"dropdown-header"],["role","option",1,"dropdown-item",3,"click","mouseenter","id"]],template:function(Ce,we){if(1&Ce&&n.DNE(0,q,0,0,"ng-template",3)(1,S,1,1,"ng-template",null,0,n.C5r)(3,De,1,1,"ng-template",null,1,n.C5r),2&Ce){const at=n.sdS(2),Be=n.sdS(4);n.Y8G("ngTemplateOutlet",we.optionsListTemplate||Be)("ngTemplateOutletContext",n.ziG(2,L,we.matches,we.itemTemplate||at,we.query,we.typeaheadTemplateMethods))}},dependencies:[f.Sq,f.bT,f.T3],styles:[".dropdown[_nghost-%COMP%]{z-index:1000}.dropdown-menu[_nghost-%COMP%], .dropdown-menu[_ngcontent-%COMP%]{overflow-y:auto;height:100px}"],data:{animation:[pt]}})}}return z})(),jt=(()=>{class z{constructor(){this.adaptivePosition=!1,this.isAnimated=!1,this.hideResultsOnBlur=!0,this.cancelRequestOnFocusLost=!1,this.selectFirstItem=!0,this.isFirstItemActive=!0,this.minLength=1,this.selectItemOnBlur=!1}static{this.\u0275fac=function(Ce){return new(Ce||z)}}static{this.\u0275prov=n.jDH({token:z,factory:z.\u0275fac,providedIn:"root"})}}return z})(),Dt=(()=>{class z{constructor(Z,Ce,we,at,Be,ot,Pt){this.changeDetection=we,this.element=at,this.ngControl=Be,this.renderer=ot,this.typeaheadMinLength=1,this.adaptivePosition=!1,this.isAnimated=!1,this.typeaheadWaitMs=0,this.typeaheadLatinize=!0,this.typeaheadSingleWords=!0,this.typeaheadWordDelimiters=" ",this.typeaheadMultipleSearchDelimiters=",",this.typeaheadPhraseDelimiters="'\"",this.typeaheadScrollable=!1,this.typeaheadOptionsInScrollableView=5,this.typeaheadSelectFirstItem=!0,this.typeaheadIsFirstItemActive=!0,this.typeaheadLoading=new n.bkB,this.typeaheadNoResults=new n.bkB,this.typeaheadOnSelect=new n.bkB,this.typeaheadOnPreview=new n.bkB,this.typeaheadOnBlur=new n.bkB,this.dropup=!1,this.isOpen=!1,this.list="list",this.isActiveItemChanged=!1,this.isFocused=!1,this.cancelRequestOnFocusLost=!1,this.selectItemOnBlur=!1,this.keyUpEventEmitter=new n.bkB,this.placement="bottom left",this._matches=[],this._subscriptions=[],this._outsideClickListener=()=>{},this._typeahead=Z.createLoader(at,Pt,ot).provide({provide:jt,useValue:Ce}),Object.assign(this,{typeaheadHideResultsOnBlur:Ce.hideResultsOnBlur,cancelRequestOnFocusLost:Ce.cancelRequestOnFocusLost,typeaheadSelectFirstItem:Ce.selectFirstItem,typeaheadIsFirstItemActive:Ce.isFirstItemActive,typeaheadMinLength:Ce.minLength,adaptivePosition:Ce.adaptivePosition,isAnimated:Ce.isAnimated,selectItemOnBlur:Ce.selectItemOnBlur})}get matches(){return this._matches}ngOnInit(){this.typeaheadOptionsLimit=this.typeaheadOptionsLimit||20,this.typeaheadMinLength=void 0===this.typeaheadMinLength?1:this.typeaheadMinLength,void 0===this.typeaheadAsync&&!(0,w.A)(this.typeahead)&&(this.typeaheadAsync=!1),(0,w.A)(this.typeahead)&&(this.typeaheadAsync=!0),this.typeaheadAsync?this.asyncActions():this.syncActions(),this.checkDelimitersConflict()}onInput(Z){const Ce=void 0!==Z.target.value?Z.target.value:void 0!==Z.target.textContent?Z.target.textContent:Z.target.innerText;null!=Ce&&Ce.trim().length>=this.typeaheadMinLength?(this.typeaheadLoading.emit(!0),this.keyUpEventEmitter.emit(Z.target.value)):(this.typeaheadLoading.emit(!1),this.typeaheadNoResults.emit(!1),this.hide())}onChange(Z){if(this._container){if(27===Z.keyCode||"Escape"===Z.key)return void this.hide();if(38===Z.keyCode||"ArrowUp"===Z.key)return this.isActiveItemChanged=!0,void this._container.prevActiveMatch();if(40===Z.keyCode||"ArrowDown"===Z.key)return this.isActiveItemChanged=!0,void this._container.nextActiveMatch();if(13===Z.keyCode||"Enter"===Z.key)return void this._container.selectActiveMatch()}}onFocus(){this.isFocused=!0,setTimeout(()=>{0===this.typeaheadMinLength&&(this.typeaheadLoading.emit(!0),this.keyUpEventEmitter.emit(this.element.nativeElement.value||""))},0)}onBlur(){this.isFocused=!1,this._container&&!this._container.isFocused&&this.typeaheadOnBlur.emit(this._container.active),!this.container&&0===this._matches?.length&&this.typeaheadOnBlur.emit(new Se(this.element.nativeElement.value,this.element.nativeElement.value,!1))}onKeydown(Z){if(this._container&&((9===Z.keyCode||"Tab"===Z.key)&&this.onBlur(),9===Z.keyCode||"Tab"===Z.key||13===Z.keyCode||"Enter"===Z.key)){if(Z.preventDefault(),this.typeaheadSelectFirstItem)return void this._container.selectActiveMatch();this.typeaheadSelectFirstItem||(this._container.selectActiveMatch(this.isActiveItemChanged),this.isActiveItemChanged=!1,this.hide())}}changeModel(Z){if(!Z)return;let Ce;if(this.typeaheadMultipleSearch&&this._allEnteredValue){const we=this._allEnteredValue.split(new RegExp(`([${this.typeaheadMultipleSearchDelimiters}]+)`));this._allEnteredValue=we.slice(0,we.length-1).concat(Z.value).join(""),Ce=this._allEnteredValue}else Ce=Z.value;this.ngControl.viewToModelUpdate(Ce),this.ngControl.control?.setValue(Ce),this.changeDetection.markForCheck(),this.hide()}show(){if(this._typeahead.attach(qt).to(this.container).position({attachment:(this.dropup?"top":"bottom")+" left"}).show({typeaheadRef:this,placement:this.placement,animation:!1,dropup:this.dropup}),this._outsideClickListener=this.renderer.listen("document","click",Ce=>{0===this.typeaheadMinLength&&this.element.nativeElement.contains(Ce.target)||!this.typeaheadHideResultsOnBlur||this.element.nativeElement.contains(Ce.target)||this.onOutsideClick()}),!this._typeahead.instance||!this.ngControl.control)return;this._container=this._typeahead.instance,this._container.parent=this;const Z=(this.typeaheadLatinize?be(this.ngControl.control.value):this.ngControl.control.value).toString().toLowerCase();this._container.query=this.tokenizeQuery(Z),this._container.matches=this._matches,this.element.nativeElement.focus(),this._container.activeChangeEvent.subscribe(Ce=>{this.activeDescendant=Ce,this.changeDetection.markForCheck()}),this.isOpen=!0}hide(){this._typeahead.isShown&&(this._typeahead.hide(),this._outsideClickListener(),this._container=void 0,this.isOpen=!1,this.changeDetection.markForCheck()),this.typeaheadOnPreview.emit()}onOutsideClick(){this._container&&!this._container.isFocused&&this.hide()}ngOnDestroy(){for(const Z of this._subscriptions)Z.unsubscribe();this._typeahead.dispose()}asyncActions(){this._subscriptions.push(this.keyUpEventEmitter.pipe((0,F.B)(this.typeaheadWaitMs),(0,b.M)(Z=>this._allEnteredValue=Z),(0,M.n)(()=>this.typeahead?this.typeahead:C.w)).subscribe(Z=>{this.finalizeAsyncCall(Z)}))}syncActions(){this._subscriptions.push(this.keyUpEventEmitter.pipe((0,F.B)(this.typeaheadWaitMs),(0,k.Z)(Z=>{this._allEnteredValue=Z;const Ce=this.normalizeQuery(Z);return this.typeahead?((0,w.A)(this.typeahead)?this.typeahead:(0,m.H)(this.typeahead)).pipe((0,N.p)(at=>!!at&&this.testMatch(this.normalizeOption(at),Ce)),function $(){return(0,R.N)((z,Y)=>{(function j(z,Y){return(0,R.N)((0,G.S)(z,Y,arguments.length>=2,!1,!0))})(U,[])(z).subscribe(Y)})}()):C.w})).subscribe(Z=>{this.finalizeAsyncCall(Z)}))}normalizeOption(Z){const Ce=st(Z,this.typeaheadOptionField);return(this.typeaheadLatinize?be(Ce):Ce).toLowerCase()}tokenizeQuery(Z){let Ce=Z;return this.typeaheadMultipleSearch&&this.typeaheadSingleWords?this.haveCommonCharacters(`${this.typeaheadPhraseDelimiters}${this.typeaheadWordDelimiters}`,this.typeaheadMultipleSearchDelimiters)||(Ce=Fe(Ce,this.typeaheadWordDelimiters,this.typeaheadPhraseDelimiters,this.typeaheadMultipleSearchDelimiters)):Ce=this.typeaheadSingleWords?Fe(Ce,this.typeaheadWordDelimiters,this.typeaheadPhraseDelimiters):Fe(Ce,void 0,void 0,this.typeaheadMultipleSearchDelimiters),Ce}normalizeQuery(Z){let Ce=(this.typeaheadLatinize?be(Z):Z).toString().toLowerCase();return Ce=this.tokenizeQuery(Ce),Ce}testMatch(Z,Ce){let we;if("object"==typeof Ce){we=Ce.length;for(let at=0;at<we;at+=1)if(Ce[at].length>0&&Z.indexOf(Ce[at])<0)return!1;return!0}return Z.indexOf(Ce)>=0}finalizeAsyncCall(Z){if(this.prepareMatches(Z||[]),this.typeaheadLoading.emit(!1),this.typeaheadNoResults.emit(!this.hasMatches()),this.hasMatches()){if(this.isFocused||!this.cancelRequestOnFocusLost)if(this._container&&this.ngControl.control){const we=((this.typeaheadLatinize?be(this.ngControl.control.value):this.ngControl.control.value)||"").toString().toLowerCase();this._container.query=this.tokenizeQuery(we),this._container.matches=this._matches}else this.show()}else this.hide()}prepareMatches(Z){const Ce=Z.slice(0,this.typeaheadOptionsLimit),we=this.typeaheadOrderBy?this.orderMatches(Ce):Ce;if(this.typeaheadGroupField){let at=[];we.map(ot=>st(ot,this.typeaheadGroupField)).filter((ot,Pt,mt)=>mt.indexOf(ot)===Pt).forEach(ot=>{at.push(new Se(ot,ot,!0)),at=at.concat(we.filter(Pt=>st(Pt,this.typeaheadGroupField)===ot).map(Pt=>new Se(Pt,st(Pt,this.typeaheadOptionField))))}),this._matches=at}else this._matches=we.map(at=>new Se(at,st(at,this.typeaheadOptionField)))}orderMatches(Z){if(!Z.length)return Z;if(null!=this.typeaheadOrderBy&&"object"==typeof this.typeaheadOrderBy&&0===Object.keys(this.typeaheadOrderBy).length)return console.error("Field and direction properties for typeaheadOrderBy have to be set according to documentation!"),Z;const{field:Ce,direction:we}=this.typeaheadOrderBy||{};return!we||"asc"!==we&&"desc"!==we?(console.error('typeaheadOrderBy direction has to equal "asc" or "desc". Please follow the documentation.'),Z):"string"==typeof Z[0]?"asc"===we?Z.sort():Z.sort().reverse():Ce&&"string"==typeof Ce?Z.sort((at,Be)=>{const ot=st(at,Ce),Pt=st(Be,Ce);return ot<Pt?"asc"===we?-1:1:ot>Pt?"asc"===we?1:-1:0}):(console.error("typeaheadOrderBy field has to set according to the documentation."),Z)}hasMatches(){return this._matches.length>0}checkDelimitersConflict(){if(this.typeaheadMultipleSearch&&this.typeaheadSingleWords&&this.haveCommonCharacters(`${this.typeaheadPhraseDelimiters}${this.typeaheadWordDelimiters}`,this.typeaheadMultipleSearchDelimiters))throw new Error(`Delimiters used in typeaheadMultipleSearchDelimiters must be different\n          from delimiters used in typeaheadWordDelimiters (current value: ${this.typeaheadWordDelimiters}) and\n          typeaheadPhraseDelimiters (current value: ${this.typeaheadPhraseDelimiters}).\n          Please refer to the documentation`)}haveCommonCharacters(Z,Ce){for(let we=0;we<Z.length;we++)if(Z.charAt(we).indexOf(Ce)>-1)return!0;return!1}static{this.\u0275fac=function(Ce){return new(Ce||z)(n.rXU(O.Li),n.rXU(jt),n.rXU(n.gRc),n.rXU(n.aKT),n.rXU(T.vO),n.rXU(n.sFG),n.rXU(n.c1b))}}static{this.\u0275dir=n.FsC({type:z,selectors:[["","typeahead",""]],hostVars:4,hostBindings:function(Ce,we){1&Ce&&n.bIt("input",function(Be){return we.onInput(Be)})("keyup",function(Be){return we.onChange(Be)})("click",function(){return we.onFocus()})("focus",function(){return we.onFocus()})("blur",function(){return we.onBlur()})("keydown",function(Be){return we.onKeydown(Be)}),2&Ce&&n.BMQ("aria-activedescendant",we.activeDescendant)("aria-owns",we.isOpen?we._container.popupId:null)("aria-expanded",we.isOpen)("aria-autocomplete",we.list)},inputs:{typeahead:"typeahead",typeaheadMinLength:"typeaheadMinLength",adaptivePosition:"adaptivePosition",isAnimated:"isAnimated",typeaheadWaitMs:"typeaheadWaitMs",typeaheadOptionsLimit:"typeaheadOptionsLimit",typeaheadOptionField:"typeaheadOptionField",typeaheadGroupField:"typeaheadGroupField",typeaheadOrderBy:"typeaheadOrderBy",typeaheadAsync:"typeaheadAsync",typeaheadLatinize:"typeaheadLatinize",typeaheadSingleWords:"typeaheadSingleWords",typeaheadWordDelimiters:"typeaheadWordDelimiters",typeaheadMultipleSearch:"typeaheadMultipleSearch",typeaheadMultipleSearchDelimiters:"typeaheadMultipleSearchDelimiters",typeaheadPhraseDelimiters:"typeaheadPhraseDelimiters",typeaheadItemTemplate:"typeaheadItemTemplate",optionsListTemplate:"optionsListTemplate",typeaheadScrollable:"typeaheadScrollable",typeaheadOptionsInScrollableView:"typeaheadOptionsInScrollableView",typeaheadHideResultsOnBlur:"typeaheadHideResultsOnBlur",typeaheadSelectFirstItem:"typeaheadSelectFirstItem",typeaheadIsFirstItemActive:"typeaheadIsFirstItemActive",container:"container",dropup:"dropup"},outputs:{typeaheadLoading:"typeaheadLoading",typeaheadNoResults:"typeaheadNoResults",typeaheadOnSelect:"typeaheadOnSelect",typeaheadOnPreview:"typeaheadOnPreview",typeaheadOnBlur:"typeaheadOnBlur"},exportAs:["bs-typeahead"]})}}return z})(),wt=(()=>{class z{static forRoot(){return{ngModule:z,providers:[O.Li,y.DF]}}static{this.\u0275fac=function(Ce){return new(Ce||z)}}static{this.\u0275mod=n.$C({type:z})}static{this.\u0275inj=n.G2t({imports:[f.MD]})}}return z})()},2806:(nt,fe,h)=>{"use strict";h.d(fe,{Al:()=>T,Aq:()=>Ne,Bu:()=>S,Fv:()=>u,GL:()=>C,Xt:()=>m,Yr:()=>me,Zu:()=>p,mc:()=>Qe,x:()=>f});var n=h(4438);class e{constructor(be,le){this.open=be,this.close=le||be}isManual(){return"manual"===this.open||"manual"===this.close}}const y={hover:["mouseover","mouseout"],focus:["focusin","focusout"]};function p(Se,be=y){const le=(Se||"").trim();if(0===le.length)return[];const Fe=le.split(/\s+/).map(st=>st.split(":")).map(st=>{const Oe=be[st[0]]||st;return new e(Oe[0],Oe[1])}),Te=Fe.filter(st=>st.isManual());if(Te.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===Te.length&&Fe.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return Fe}function C(Se,be){const le=p(be.triggers),Fe=be.target;if(1===le.length&&le[0].isManual())return Function.prototype;const Te=[],st=[],Oe=()=>{st.forEach(pt=>Te.push(pt())),st.length=0};return le.forEach(pt=>{const Ye=pt.open===pt.close,qt=Ye?be.toggle:be.show;if(!Ye&&pt.close&&be.hide){const jt=pt.close,Dt=be.hide;st.push(()=>Se.listen(Fe,jt,Dt))}qt&&Te.push(Se.listen(Fe,pt.open,()=>qt(Oe)))}),()=>{Te.forEach(pt=>pt())}}function m(Se,be){return be.outsideClick?Se.listen("document","click",le=>{be.target&&be.target.contains(le.target)||be.targets&&be.targets.some(Fe=>Fe.contains(le.target))||be.hide&&be.hide()}):Function.prototype}function u(Se,be){return be.outsideEsc?Se.listen("document","keyup.esc",le=>{be.target&&be.target.contains(le.target)||be.targets&&be.targets.some(Fe=>Fe.contains(le.target))||be.hide&&be.hide()}):Function.prototype}const f=typeof window<"u"&&window||{},T=f.document;var $=function(Se){return Se.isBs4="bs4",Se.isBs5="bs5",Se}($||{});let ie;function se(){const Se=f.document.createElement("span");Se.innerText="testing bs version",Se.classList.add("d-none"),Se.classList.add("pl-1"),f.document.head.appendChild(Se);const be=f.getComputedStyle(Se).paddingLeft;return be&&parseFloat(be)?(f.document.head.removeChild(Se),"bs4"):(f.document.head.removeChild(Se),"bs5")}function S(){return{isBs4:(ie||(ie=se()),"bs4"===ie),isBs5:(ie||(ie=se()),"bs5"===ie)}}function me(){return function(le,Fe){const Te=` __${Fe}Value`;Object.defineProperty(le,Fe,{get(){return this[Te]},set(st){const Oe=this[Te];this[Te]=st,Oe!==st&&this[Fe+"Change"]&&this[Fe+"Change"].emit(st)}})}}class Ne{static reflow(be){}static getStyles(be){let le=be.ownerDocument.defaultView;return(!le||!le.opener)&&(le=f),le.getComputedStyle(be)}static stackOverflowConfig(){const be=function re(){const Se=S(),be=Object.keys(Se).find(le=>Se[le]);return $[be]}();return{crossorigin:"anonymous",integrity:"bs5"===be?"sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65":"sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2",cdnLink:"bs5"===be?"https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css":"https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"}}}const De={},xe=typeof console>"u"||!("warn"in console);function Qe(Se){!(0,n.naY)()||xe||Se in De||(De[Se]=!0,console.warn(Se))}},5794:(nt,fe,h)=>{"use strict";h.d(fe,{_B:()=>Qe,tw:()=>me});var n=h(4438),e=h(9969),y=h(177),p=h(1413),w=h(345);const C=["toast-component",""];function m(Te,st){if(1&Te){const Oe=n.RV6();n.j41(0,"button",5),n.bIt("click",function(){n.eBV(Oe);const Ye=n.XpG();return n.Njj(Ye.remove())}),n.j41(1,"span",6),n.EFF(2,"\xd7"),n.k0s()()}}function u(Te,st){if(1&Te&&(n.qex(0),n.EFF(1),n.bVm()),2&Te){const Oe=n.XpG(2);n.R7$(),n.SpI("[",Oe.duplicatesCount+1,"]")}}function f(Te,st){if(1&Te&&(n.j41(0,"div"),n.EFF(1),n.DNE(2,u,2,1,"ng-container",4),n.k0s()),2&Te){const Oe=n.XpG();n.HbH(Oe.options.titleClass),n.BMQ("aria-label",Oe.title),n.R7$(),n.SpI(" ",Oe.title," "),n.R7$(),n.Y8G("ngIf",Oe.duplicatesCount)}}function T(Te,st){if(1&Te&&n.nrm(0,"div",7),2&Te){const Oe=n.XpG();n.HbH(Oe.options.messageClass),n.Y8G("innerHTML",Oe.message,n.npT)}}function O(Te,st){if(1&Te&&(n.j41(0,"div",8),n.EFF(1),n.k0s()),2&Te){const Oe=n.XpG();n.HbH(Oe.options.messageClass),n.BMQ("aria-label",Oe.message),n.R7$(),n.SpI(" ",Oe.message," ")}}function F(Te,st){if(1&Te&&(n.j41(0,"div"),n.nrm(1,"div",9),n.k0s()),2&Te){const Oe=n.XpG();n.R7$(),n.xc7("width",Oe.width+"%")}}class U{_attachedHost;component;viewContainerRef;injector;constructor(st,Oe){this.component=st,this.injector=Oe}attach(st,Oe){return this._attachedHost=st,st.attach(this,Oe)}detach(){const st=this._attachedHost;if(st)return this._attachedHost=void 0,st.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(st){this._attachedHost=st}}class ${_attachedPortal;_disposeFn;attach(st,Oe){return this._attachedPortal=st,this.attachComponentPortal(st,Oe)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(st){this._disposeFn=st}}class ie{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new p.B;_activate=new p.B;_manualClose=new p.B;_resetTimeout=new p.B;_countDuplicate=new p.B;constructor(st){this._overlayRef=st}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(st,Oe){st&&this._resetTimeout.next(),Oe&&this._countDuplicate.next(++this.duplicatesCount)}}class se{toastId;config;message;title;toastType;toastRef;_onTap=new p.B;_onAction=new p.B;constructor(st,Oe,pt,Ye,qt,jt){this.toastId=st,this.config=Oe,this.message=pt,this.title=Ye,this.toastType=qt,this.toastRef=jt,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(st){this._onAction.next(st)}onAction(){return this._onAction.asObservable()}}const J=new n.nKC("ToastConfig");class q extends ${_hostDomElement;_componentFactoryResolver;_appRef;constructor(st,Oe,pt){super(),this._hostDomElement=st,this._componentFactoryResolver=Oe,this._appRef=pt}attachComponentPortal(st,Oe){const pt=this._componentFactoryResolver.resolveComponentFactory(st.component);let Ye;return Ye=pt.create(st.injector),this._appRef.attachView(Ye.hostView),this.setDisposeFn(()=>{this._appRef.detachView(Ye.hostView),Ye.destroy()}),Oe?this._hostDomElement.insertBefore(this._getComponentRootNode(Ye),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(Ye)),Ye}_getComponentRootNode(st){return st.hostView.rootNodes[0]}}let S=(()=>{class Te{_document=(0,n.WQX)(y.qQ);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const Oe=this._document.createElement("div");Oe.classList.add("overlay-container"),Oe.setAttribute("aria-live","polite"),this._document.body.appendChild(Oe),this._containerElement=Oe}static \u0275fac=function(pt){return new(pt||Te)};static \u0275prov=n.jDH({token:Te,factory:Te.\u0275fac,providedIn:"root"})}return Te})();class re{_portalHost;constructor(st){this._portalHost=st}attach(st,Oe=!0){return this._portalHost.attach(st,Oe)}detach(){return this._portalHost.detach()}}let K=(()=>{class Te{_overlayContainer=(0,n.WQX)(S);_componentFactoryResolver=(0,n.WQX)(n.OM3);_appRef=(0,n.WQX)(n.o8S);_document=(0,n.WQX)(y.qQ);_paneElements=new Map;create(Oe,pt){return this._createOverlayRef(this.getPaneElement(Oe,pt))}getPaneElement(Oe="",pt){return this._paneElements.get(pt)||this._paneElements.set(pt,{}),this._paneElements.get(pt)[Oe]||(this._paneElements.get(pt)[Oe]=this._createPaneElement(Oe,pt)),this._paneElements.get(pt)[Oe]}_createPaneElement(Oe,pt){const Ye=this._document.createElement("div");return Ye.id="toast-container",Ye.classList.add(Oe),Ye.classList.add("toast-container"),pt?pt.getContainerElement().appendChild(Ye):this._overlayContainer.getContainerElement().appendChild(Ye),Ye}_createPortalHost(Oe){return new q(Oe,this._componentFactoryResolver,this._appRef)}_createOverlayRef(Oe){return new re(this._createPortalHost(Oe))}static \u0275fac=function(pt){return new(pt||Te)};static \u0275prov=n.jDH({token:Te,factory:Te.\u0275fac,providedIn:"root"})}return Te})(),me=(()=>{class Te{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(Oe,pt,Ye,qt,jt){this.overlay=pt,this._injector=Ye,this.sanitizer=qt,this.ngZone=jt,this.toastrConfig={...Oe.default,...Oe.config},Oe.config.iconClasses&&(this.toastrConfig.iconClasses={...Oe.default.iconClasses,...Oe.config.iconClasses})}show(Oe,pt,Ye={},qt=""){return this._preBuildNotification(qt,Oe,pt,this.applyConfig(Ye))}success(Oe,pt,Ye={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",Oe,pt,this.applyConfig(Ye))}error(Oe,pt,Ye={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",Oe,pt,this.applyConfig(Ye))}info(Oe,pt,Ye={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",Oe,pt,this.applyConfig(Ye))}warning(Oe,pt,Ye={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",Oe,pt,this.applyConfig(Ye))}clear(Oe){for(const pt of this.toasts)if(void 0!==Oe){if(pt.toastId===Oe)return void pt.toastRef.manualClose()}else pt.toastRef.manualClose()}remove(Oe){const pt=this._findToast(Oe);if(!pt||(pt.activeToast.toastRef.close(),this.toasts.splice(pt.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const Ye=this.toasts[this.currentlyActive].toastRef;Ye.isInactive()||(this.currentlyActive=this.currentlyActive+1,Ye.activate())}return!0}findDuplicate(Oe="",pt="",Ye,qt){const{includeTitleDuplicates:jt}=this.toastrConfig;for(const Dt of this.toasts)if((!jt||jt&&Dt.title===Oe)&&Dt.message===pt)return Dt.toastRef.onDuplicate(Ye,qt),Dt;return null}applyConfig(Oe={}){return{...this.toastrConfig,...Oe}}_findToast(Oe){for(let pt=0;pt<this.toasts.length;pt++)if(this.toasts[pt].toastId===Oe)return{index:pt,activeToast:this.toasts[pt]};return null}_preBuildNotification(Oe,pt,Ye,qt){return qt.onActivateTick?this.ngZone.run(()=>this._buildNotification(Oe,pt,Ye,qt)):this._buildNotification(Oe,pt,Ye,qt)}_buildNotification(Oe,pt,Ye,qt){if(!qt.toastComponent)throw new Error("toastComponent required");const jt=this.findDuplicate(Ye,pt,this.toastrConfig.resetTimeoutOnDuplicate&&qt.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&Ye||pt)&&this.toastrConfig.preventDuplicates&&null!==jt)return jt;this.previousToastMessage=pt;let Dt=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(Dt=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const wt=this.overlay.create(qt.positionClass,this.overlayContainer);this.index=this.index+1;let z=pt;pt&&qt.enableHtml&&(z=this.sanitizer.sanitize(n.WPN.HTML,pt));const Y=new ie(wt),Z=new se(this.index,qt,z,Ye,Oe,Y),we=n.zZn.create({providers:[{provide:se,useValue:Z}],parent:this._injector}),at=new U(qt.toastComponent,we),Be=wt.attach(at,qt.newestOnTop);Y.componentInstance=Be.instance;const ot={toastId:this.index,title:Ye||"",message:pt||"",toastRef:Y,onShown:Y.afterActivate(),onHidden:Y.afterClosed(),onTap:Z.onTap(),onAction:Z.onAction(),portal:Be};return Dt||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{ot.toastRef.activate()})),this.toasts.push(ot),ot}static \u0275fac=function(pt){return new(pt||Te)(n.KVO(J),n.KVO(K),n.KVO(n.zZn),n.KVO(w.up),n.KVO(n.SKi))};static \u0275prov=n.jDH({token:Te,factory:Te.\u0275fac,providedIn:"root"})}return Te})();const De={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:(()=>{class Te{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=-1;toastClasses="";state;get displayStyle(){if("inactive"===this.state.value)return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(Oe,pt,Ye){this.toastrService=Oe,this.toastPackage=pt,this.ngZone=Ye,this.message=pt.message,this.title=pt.title,this.options=pt.config,this.originalTimeout=pt.config.timeOut,this.toastClasses=`${pt.toastType} ${pt.config.toastClass}`,this.sub=pt.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=pt.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=pt.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=pt.toastRef.countDuplicate().subscribe(qt=>{this.duplicatesCount=qt}),this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}}}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const Oe=(new Date).getTime();this.width=(this.hideTime-Oe)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(Oe,pt){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(Oe),pt)):this.timeout=setTimeout(()=>Oe(),pt)}outsideInterval(Oe,pt){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(Oe),pt)):this.intervalId=setInterval(()=>Oe(),pt)}runInsideAngular(Oe){this.ngZone?this.ngZone.run(()=>Oe()):Oe()}static \u0275fac=function(pt){return new(pt||Te)(n.rXU(me),n.rXU(se),n.rXU(n.SKi))};static \u0275cmp=n.VBU({type:Te,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(pt,Ye){1&pt&&n.bIt("click",function(){return Ye.tapToast()})("mouseenter",function(){return Ye.stickAround()})("mouseleave",function(){return Ye.delayedHideToast()}),2&pt&&(n.zvX("@flyInOut",Ye.state),n.HbH(Ye.toastClasses),n.xc7("display",Ye.displayStyle))},standalone:!0,features:[n.aNF],attrs:C,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(pt,Ye){1&pt&&n.DNE(0,m,3,0,"button",0)(1,f,3,5,"div",1)(2,T,1,3,"div",2)(3,O,2,4,"div",3)(4,F,2,2,"div",4),2&pt&&(n.Y8G("ngIf",Ye.options.closeButton),n.R7$(),n.Y8G("ngIf",Ye.title),n.R7$(),n.Y8G("ngIf",Ye.message&&Ye.options.enableHtml),n.R7$(),n.Y8G("ngIf",Ye.message&&!Ye.options.enableHtml),n.R7$(),n.Y8G("ngIf",Ye.options.progressBar))},dependencies:[y.bT],encapsulation:2,data:{animation:[(0,e.hZ)("flyInOut",[(0,e.wk)("inactive",(0,e.iF)({opacity:0})),(0,e.wk)("active",(0,e.iF)({opacity:1})),(0,e.wk)("removed",(0,e.iF)({opacity:0})),(0,e.kY)("inactive => active",(0,e.i0)("{{ easeTime }}ms {{ easing }}")),(0,e.kY)("active => removed",(0,e.i0)("{{ easeTime }}ms {{ easing }}"))])]}})}return Te})()},xe=(Te={})=>(0,n.EmA)([{provide:J,useValue:{default:De,config:Te}}]);let Qe=(()=>{class Te{static forRoot(Oe={}){return{ngModule:Te,providers:[xe(Oe)]}}static \u0275fac=function(pt){return new(pt||Te)};static \u0275mod=n.$C({type:Te});static \u0275inj=n.G2t({})}return Te})()},1068:(nt,fe,h)=>{"use strict";h.d(fe,{gR:()=>Cr,R9:()=>Br,I6:()=>$r,SL:()=>$n,zN:()=>Ds,sb:()=>Yr,Am:()=>Yr,FF:()=>Gr});var n={};h.r(n),h.d(n,{VERSION:()=>e,after:()=>br,all:()=>wo,allKeys:()=>cn,any:()=>Ds,assign:()=>ht,before:()=>Mi,bind:()=>ar,bindAll:()=>Qs,chain:()=>Ui,chunk:()=>Lt,clone:()=>gn,collect:()=>Wn,compact:()=>gr,compose:()=>_r,constant:()=>Ce,contains:()=>Cr,countBy:()=>Pr,create:()=>vn,debounce:()=>_s,default:()=>ds,defaults:()=>xt,defer:()=>yi,delay:()=>Bs,detect:()=>$r,difference:()=>Br,drop:()=>zr,each:()=>tr,escape:()=>ut,every:()=>wo,extend:()=>Mt,extendOwn:()=>ht,filter:()=>as,find:()=>$r,findIndex:()=>$n,findKey:()=>li,findLastIndex:()=>qr,findWhere:()=>er,first:()=>oi,flatten:()=>Ws,foldl:()=>lr,foldr:()=>Or,forEach:()=>tr,functions:()=>di,get:()=>pi,groupBy:()=>Ao,has:()=>ei,head:()=>oi,identity:()=>Oi,include:()=>Cr,includes:()=>Cr,indexBy:()=>As,indexOf:()=>Dr,initial:()=>Rs,inject:()=>lr,intersection:()=>bs,invert:()=>fn,invoke:()=>ls,isArguments:()=>z,isArray:()=>jt,isArrayBuffer:()=>Se,isBoolean:()=>q,isDataView:()=>qt,isDate:()=>Ne,isElement:()=>S,isEmpty:()=>je,isEqual:()=>Bt,isError:()=>xe,isFinite:()=>Y,isFunction:()=>Fe,isMap:()=>Ct,isMatch:()=>ce,isNaN:()=>Z,isNull:()=>L,isNumber:()=>me,isObject:()=>se,isRegExp:()=>De,isSet:()=>Ot,isString:()=>K,isSymbol:()=>Qe,isTypedArray:()=>it,isUndefined:()=>J,isWeakMap:()=>yt,isWeakSet:()=>en,iteratee:()=>ji,keys:()=>Jt,last:()=>Hs,lastIndexOf:()=>Nr,map:()=>Wn,mapObject:()=>qe,matcher:()=>Xn,matches:()=>Xn,max:()=>es,memoize:()=>ys,methods:()=>di,min:()=>mo,mixin:()=>Si,negate:()=>Ls,noop:()=>At,now:()=>Yt,object:()=>he,omit:()=>Ra,once:()=>Zs,pairs:()=>Un,partial:()=>si,partition:()=>rr,pick:()=>ao,pluck:()=>cs,property:()=>wi,propertyOf:()=>We,random:()=>ct,range:()=>Ze,reduce:()=>lr,reduceRight:()=>Or,reject:()=>ro,rest:()=>zr,restArguments:()=>ie,result:()=>ri,sample:()=>Vo,select:()=>as,shuffle:()=>ra,size:()=>Fr,some:()=>Ds,sortBy:()=>so,sortedIndex:()=>mr,tail:()=>zr,take:()=>oi,tap:()=>Yn,template:()=>Vn,templateSettings:()=>ye,throttle:()=>Gs,times:()=>zt,toArray:()=>ts,toPath:()=>In,transpose:()=>ke,unescape:()=>Ie,union:()=>Cn,uniq:()=>Yr,unique:()=>Yr,uniqueId:()=>ti,unzip:()=>ke,values:()=>Sn,where:()=>Aa,without:()=>Gr,wrap:()=>Tr,zip:()=>Ue});var e="1.13.6",y="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},p=Array.prototype,w=Object.prototype,C=typeof Symbol<"u"?Symbol.prototype:null,m=p.push,u=p.slice,f=w.toString,T=w.hasOwnProperty,O=typeof ArrayBuffer<"u",F=typeof DataView<"u",b=Array.isArray,M=Object.keys,k=Object.create,N=O&&ArrayBuffer.isView,G=isNaN,R=isFinite,j=!{toString:null}.propertyIsEnumerable("toString"),U=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],$=Math.pow(2,53)-1;function ie(Re,Je){return Je=null==Je?Re.length-1:+Je,function(){for(var Et=Math.max(arguments.length-Je,0),kt=Array(Et),Vt=0;Vt<Et;Vt++)kt[Vt]=arguments[Vt+Je];switch(Je){case 0:return Re.call(this,kt);case 1:return Re.call(this,arguments[0],kt);case 2:return Re.call(this,arguments[0],arguments[1],kt)}var St=Array(Je+1);for(Vt=0;Vt<Je;Vt++)St[Vt]=arguments[Vt];return St[Je]=kt,Re.apply(this,St)}}function se(Re){var Je=typeof Re;return"function"===Je||"object"===Je&&!!Re}function L(Re){return null===Re}function J(Re){return void 0===Re}function q(Re){return!0===Re||!1===Re||"[object Boolean]"===f.call(Re)}function S(Re){return!(!Re||1!==Re.nodeType)}function re(Re){var Je="[object "+Re+"]";return function(Et){return f.call(Et)===Je}}const K=re("String"),me=re("Number"),Ne=re("Date"),De=re("RegExp"),xe=re("Error"),Qe=re("Symbol"),Se=re("ArrayBuffer");var be=re("Function");"object"!=typeof Int8Array&&"function"!=typeof(y.document&&y.document.childNodes)&&(be=function(Re){return"function"==typeof Re||!1});const Fe=be,Te=re("Object");var st=F&&Te(new DataView(new ArrayBuffer(8))),Oe=typeof Map<"u"&&Te(new Map),pt=re("DataView");const qt=st?function Ye(Re){return null!=Re&&Fe(Re.getInt8)&&Se(Re.buffer)}:pt,jt=b||re("Array");function Dt(Re,Je){return null!=Re&&T.call(Re,Je)}var wt=re("Arguments");!function(){wt(arguments)||(wt=function(Re){return Dt(Re,"callee")})}();const z=wt;function Y(Re){return!Qe(Re)&&R(Re)&&!isNaN(parseFloat(Re))}function Z(Re){return me(Re)&&G(Re)}function Ce(Re){return function(){return Re}}function we(Re){return function(Je){var Et=Re(Je);return"number"==typeof Et&&Et>=0&&Et<=$}}function at(Re){return function(Je){return Je?.[Re]}}const Be=at("byteLength"),ot=we(Be);var Pt=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;const it=O?function mt(Re){return N?N(Re)&&!qt(Re):ot(Re)&&Pt.test(f.call(Re))}:Ce(!1),Kt=at("length");function Ft(Re,Je){Je=function sn(Re){for(var Je={},Et=Re.length,kt=0;kt<Et;++kt)Je[Re[kt]]=!0;return{contains:function(Vt){return!0===Je[Vt]},push:function(Vt){return Je[Vt]=!0,Re.push(Vt)}}}(Je);var Et=U.length,kt=Re.constructor,Vt=Fe(kt)&&kt.prototype||w,St="constructor";for(Dt(Re,St)&&!Je.contains(St)&&Je.push(St);Et--;)(St=U[Et])in Re&&Re[St]!==Vt[St]&&!Je.contains(St)&&Je.push(St)}function Jt(Re){if(!se(Re))return[];if(M)return M(Re);var Je=[];for(var Et in Re)Dt(Re,Et)&&Je.push(Et);return j&&Ft(Re,Je),Je}function je(Re){if(null==Re)return!0;var Je=Kt(Re);return"number"==typeof Je&&(jt(Re)||K(Re)||z(Re))?0===Je:0===Kt(Jt(Re))}function ce(Re,Je){var Et=Jt(Je),kt=Et.length;if(null==Re)return!kt;for(var Vt=Object(Re),St=0;St<kt;St++){var on=Et[St];if(Je[on]!==Vt[on]||!(on in Vt))return!1}return!0}function X(Re){return Re instanceof X?Re:this instanceof X?void(this._wrapped=Re):new X(Re)}function oe(Re){return new Uint8Array(Re.buffer||Re,Re.byteOffset||0,Be(Re))}X.VERSION=e,X.prototype.valueOf=X.prototype.toJSON=X.prototype.value=function(){return this._wrapped},X.prototype.toString=function(){return String(this._wrapped)};var Ve="[object DataView]";function tt(Re,Je,Et,kt){if(Re===Je)return 0!==Re||1/Re==1/Je;if(null==Re||null==Je)return!1;if(Re!=Re)return Je!=Je;var Vt=typeof Re;return("function"===Vt||"object"===Vt||"object"==typeof Je)&&gt(Re,Je,Et,kt)}function gt(Re,Je,Et,kt){Re instanceof X&&(Re=Re._wrapped),Je instanceof X&&(Je=Je._wrapped);var Vt=f.call(Re);if(Vt!==f.call(Je))return!1;if(st&&"[object Object]"==Vt&&qt(Re)){if(!qt(Je))return!1;Vt=Ve}switch(Vt){case"[object RegExp]":case"[object String]":return""+Re==""+Je;case"[object Number]":return+Re!=+Re?+Je!=+Je:0==+Re?1/+Re==1/Je:+Re==+Je;case"[object Date]":case"[object Boolean]":return+Re==+Je;case"[object Symbol]":return C.valueOf.call(Re)===C.valueOf.call(Je);case"[object ArrayBuffer]":case Ve:return gt(oe(Re),oe(Je),Et,kt)}var St="[object Array]"===Vt;if(!St&&it(Re)){if(Be(Re)!==Be(Je))return!1;if(Re.buffer===Je.buffer&&Re.byteOffset===Je.byteOffset)return!0;St=!0}if(!St){if("object"!=typeof Re||"object"!=typeof Je)return!1;var Nn=Re.constructor,_i=Je.constructor;if(Nn!==_i&&!(Fe(Nn)&&Nn instanceof Nn&&Fe(_i)&&_i instanceof _i)&&"constructor"in Re&&"constructor"in Je)return!1}kt=kt||[];for(var Pn=(Et=Et||[]).length;Pn--;)if(Et[Pn]===Re)return kt[Pn]===Je;if(Et.push(Re),kt.push(Je),St){if((Pn=Re.length)!==Je.length)return!1;for(;Pn--;)if(!tt(Re[Pn],Je[Pn],Et,kt))return!1}else{var Hr,cr=Jt(Re);if(Pn=cr.length,Jt(Je).length!==Pn)return!1;for(;Pn--;)if(!Dt(Je,Hr=cr[Pn])||!tt(Re[Hr],Je[Hr],Et,kt))return!1}return Et.pop(),kt.pop(),!0}function Bt(Re,Je){return tt(Re,Je)}function cn(Re){if(!se(Re))return[];var Je=[];for(var Et in Re)Je.push(Et);return j&&Ft(Re,Je),Je}function hn(Re){var Je=Kt(Re);return function(Et){if(null==Et)return!1;var kt=cn(Et);if(Kt(kt))return!1;for(var Vt=0;Vt<Je;Vt++)if(!Fe(Et[Re[Vt]]))return!1;return Re!==Gt||!Fe(Et[An])}}var An="forEach",Bn=["clear","delete"],It=["get","has","set"],Dn=Bn.concat(An,It),Gt=Bn.concat(It),lt=["add"].concat(Bn,An,"has");const Ct=Oe?hn(Dn):re("Map"),yt=Oe?hn(Gt):re("WeakMap"),Ot=Oe?hn(lt):re("Set"),en=re("WeakSet");function Sn(Re){for(var Je=Jt(Re),Et=Je.length,kt=Array(Et),Vt=0;Vt<Et;Vt++)kt[Vt]=Re[Je[Vt]];return kt}function Un(Re){for(var Je=Jt(Re),Et=Je.length,kt=Array(Et),Vt=0;Vt<Et;Vt++)kt[Vt]=[Je[Vt],Re[Je[Vt]]];return kt}function fn(Re){for(var Je={},Et=Jt(Re),kt=0,Vt=Et.length;kt<Vt;kt++)Je[Re[Et[kt]]]=Et[kt];return Je}function di(Re){var Je=[];for(var Et in Re)Fe(Re[Et])&&Je.push(Et);return Je.sort()}function Gn(Re,Je){return function(Et){var kt=arguments.length;if(Je&&(Et=Object(Et)),kt<2||null==Et)return Et;for(var Vt=1;Vt<kt;Vt++)for(var St=arguments[Vt],on=Re(St),Nn=on.length,_i=0;_i<Nn;_i++){var Pn=on[_i];(!Je||void 0===Et[Pn])&&(Et[Pn]=St[Pn])}return Et}}const Mt=Gn(cn),ht=Gn(Jt),xt=Gn(cn,!0);function nn(Re){if(!se(Re))return{};if(k)return k(Re);var Je=function(){};Je.prototype=Re;var Et=new Je;return Je.prototype=null,Et}function vn(Re,Je){var Et=nn(Re);return Je&&ht(Et,Je),Et}function gn(Re){return se(Re)?jt(Re)?Re.slice():Mt({},Re):Re}function Yn(Re,Je){return Je(Re),Re}function In(Re){return jt(Re)?Re:[Re]}function mn(Re){return X.toPath(Re)}function ci(Re,Je){for(var Et=Je.length,kt=0;kt<Et;kt++){if(null==Re)return;Re=Re[Je[kt]]}return Et?Re:void 0}function pi(Re,Je,Et){var kt=ci(Re,mn(Je));return J(kt)?Et:kt}function ei(Re,Je){for(var Et=(Je=mn(Je)).length,kt=0;kt<Et;kt++){var Vt=Je[kt];if(!Dt(Re,Vt))return!1;Re=Re[Vt]}return!!Et}function Oi(Re){return Re}function Xn(Re){return Re=ht({},Re),function(Je){return ce(Je,Re)}}function wi(Re){return Re=mn(Re),function(Je){return ci(Je,Re)}}function mi(Re,Je,Et){if(void 0===Je)return Re;switch(Et??3){case 1:return function(kt){return Re.call(Je,kt)};case 3:return function(kt,Vt,St){return Re.call(Je,kt,Vt,St)};case 4:return function(kt,Vt,St,on){return Re.call(Je,kt,Vt,St,on)}}return function(){return Re.apply(Je,arguments)}}function Hi(Re,Je,Et){return null==Re?Oi:Fe(Re)?mi(Re,Je,Et):se(Re)&&!jt(Re)?Xn(Re):wi(Re)}function ji(Re,Je){return Hi(Re,Je,1/0)}function Ei(Re,Je,Et){return X.iteratee!==ji?X.iteratee(Re,Je):Hi(Re,Je,Et)}function qe(Re,Je,Et){Je=Ei(Je,Et);for(var kt=Jt(Re),Vt=kt.length,St={},on=0;on<Vt;on++){var Nn=kt[on];St[Nn]=Je(Re[Nn],Nn,Re)}return St}function At(){}function We(Re){return null==Re?At:function(Je){return pi(Re,Je)}}function zt(Re,Je,Et){var kt=Array(Math.max(0,Re));Je=mi(Je,Et,1);for(var Vt=0;Vt<Re;Vt++)kt[Vt]=Je(Vt);return kt}function ct(Re,Je){return null==Je&&(Je=Re,Re=0),Re+Math.floor(Math.random()*(Je-Re+1))}X.toPath=In,X.iteratee=ji;const Yt=Date.now||function(){return(new Date).getTime()};function Xe(Re){var Je=function(St){return Re[St]},Et="(?:"+Jt(Re).join("|")+")",kt=RegExp(Et),Vt=RegExp(Et,"g");return function(St){return kt.test(St=null==St?"":""+St)?St.replace(Vt,Je):St}}const Zt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},ut=Xe(Zt),Ie=Xe(fn(Zt)),ye=X.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var ft=/(.)^/,ze={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Tt=/\\|'|\r|\n|\u2028|\u2029/g;function vt(Re){return"\\"+ze[Re]}var Xt=/^\s*(\w|\$)+\s*$/;function Vn(Re,Je,Et){!Je&&Et&&(Je=Et),Je=xt({},Je,X.templateSettings);var kt=RegExp([(Je.escape||ft).source,(Je.interpolate||ft).source,(Je.evaluate||ft).source].join("|")+"|$","g"),Vt=0,St="__p+='";Re.replace(kt,function(Pn,cr,Hr,ui,hs){return St+=Re.slice(Vt,hs).replace(Tt,vt),Vt=hs+Pn.length,cr?St+="'+\n((__t=("+cr+"))==null?'':_.escape(__t))+\n'":Hr?St+="'+\n((__t=("+Hr+"))==null?'':__t)+\n'":ui&&(St+="';\n"+ui+"\n__p+='"),Pn}),St+="';\n";var Nn,on=Je.variable;if(on){if(!Xt.test(on))throw new Error("variable is not a bare identifier: "+on)}else St="with(obj||{}){\n"+St+"}\n",on="obj";St="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+St+"return __p;\n";try{Nn=new Function(on,"_",St)}catch(Pn){throw Pn.source=St,Pn}var _i=function(Pn){return Nn.call(this,Pn,X)};return _i.source="function("+on+"){\n"+St+"}",_i}function ri(Re,Je,Et){var kt=(Je=mn(Je)).length;if(!kt)return Fe(Et)?Et.call(Re):Et;for(var Vt=0;Vt<kt;Vt++){var St=Re?.[Je[Vt]];void 0===St&&(St=Et,Vt=kt),Re=Fe(St)?St.call(Re):St}return Re}var vi=0;function ti(Re){var Je=++vi+"";return Re?Re+Je:Je}function Ui(Re){var Je=X(Re);return Je._chain=!0,Je}function hr(Re,Je,Et,kt,Vt){if(!(kt instanceof Je))return Re.apply(Et,Vt);var St=nn(Re.prototype),on=Re.apply(St,Vt);return se(on)?on:St}var Hn=ie(function(Re,Je){var Et=Hn.placeholder,kt=function(){for(var Vt=0,St=Je.length,on=Array(St),Nn=0;Nn<St;Nn++)on[Nn]=Je[Nn]===Et?arguments[Vt++]:Je[Nn];for(;Vt<arguments.length;)on.push(arguments[Vt++]);return hr(Re,kt,this,this,on)};return kt});Hn.placeholder=X;const si=Hn,ar=ie(function(Re,Je,Et){if(!Fe(Re))throw new TypeError("Bind must be called on a function");var kt=ie(function(Vt){return hr(Re,kt,Je,this,Et.concat(Vt))});return kt}),Ai=we(Kt);function kr(Re,Je,Et,kt){if(kt=kt||[],Je||0===Je){if(Je<=0)return kt.concat(Re)}else Je=1/0;for(var Vt=kt.length,St=0,on=Kt(Re);St<on;St++){var Nn=Re[St];if(Ai(Nn)&&(jt(Nn)||z(Nn)))if(Je>1)kr(Nn,Je-1,Et,kt),Vt=kt.length;else for(var _i=0,Pn=Nn.length;_i<Pn;)kt[Vt++]=Nn[_i++];else Et||(kt[Vt++]=Nn)}return kt}const Qs=ie(function(Re,Je){var Et=(Je=kr(Je,!1,!1)).length;if(Et<1)throw new Error("bindAll must be passed function names");for(;Et--;){var kt=Je[Et];Re[kt]=ar(Re[kt],Re)}return Re});function ys(Re,Je){var Et=function(kt){var Vt=Et.cache,St=""+(Je?Je.apply(this,arguments):kt);return Dt(Vt,St)||(Vt[St]=Re.apply(this,arguments)),Vt[St]};return Et.cache={},Et}const Bs=ie(function(Re,Je,Et){return setTimeout(function(){return Re.apply(null,Et)},Je)}),yi=si(Bs,X,1);function Gs(Re,Je,Et){var kt,Vt,St,on,Nn=0;Et||(Et={});var _i=function(){Nn=!1===Et.leading?0:Yt(),kt=null,on=Re.apply(Vt,St),kt||(Vt=St=null)},Pn=function(){var cr=Yt();!Nn&&!1===Et.leading&&(Nn=cr);var Hr=Je-(cr-Nn);return Vt=this,St=arguments,Hr<=0||Hr>Je?(kt&&(clearTimeout(kt),kt=null),Nn=cr,on=Re.apply(Vt,St),kt||(Vt=St=null)):!kt&&!1!==Et.trailing&&(kt=setTimeout(_i,Hr)),on};return Pn.cancel=function(){clearTimeout(kt),Nn=0,kt=Vt=St=null},Pn}function _s(Re,Je,Et){var kt,Vt,St,on,Nn,_i=function(){var cr=Yt()-Vt;Je>cr?kt=setTimeout(_i,Je-cr):(kt=null,Et||(on=Re.apply(Nn,St)),kt||(St=Nn=null))},Pn=ie(function(cr){return Nn=this,St=cr,Vt=Yt(),kt||(kt=setTimeout(_i,Je),Et&&(on=Re.apply(Nn,St))),on});return Pn.cancel=function(){clearTimeout(kt),kt=St=Nn=null},Pn}function Tr(Re,Je){return si(Je,Re)}function Ls(Re){return function(){return!Re.apply(this,arguments)}}function _r(){var Re=arguments,Je=Re.length-1;return function(){for(var Et=Je,kt=Re[Je].apply(this,arguments);Et--;)kt=Re[Et].call(this,kt);return kt}}function br(Re,Je){return function(){if(--Re<1)return Je.apply(this,arguments)}}function Mi(Re,Je){var Et;return function(){return--Re>0&&(Et=Je.apply(this,arguments)),Re<=1&&(Je=null),Et}}const Zs=si(Mi,2);function li(Re,Je,Et){Je=Ei(Je,Et);for(var Vt,kt=Jt(Re),St=0,on=kt.length;St<on;St++)if(Je(Re[Vt=kt[St]],Vt,Re))return Vt}function ia(Re){return function(Je,Et,kt){Et=Ei(Et,kt);for(var Vt=Kt(Je),St=Re>0?0:Vt-1;St>=0&&St<Vt;St+=Re)if(Et(Je[St],St,Je))return St;return-1}}const $n=ia(1),qr=ia(-1);function mr(Re,Je,Et,kt){for(var Vt=(Et=Ei(Et,kt,1))(Je),St=0,on=Kt(Re);St<on;){var Nn=Math.floor((St+on)/2);Et(Re[Nn])<Vt?St=Nn+1:on=Nn}return St}function Ir(Re,Je,Et){return function(kt,Vt,St){var on=0,Nn=Kt(kt);if("number"==typeof St)Re>0?on=St>=0?St:Math.max(St+Nn,on):Nn=St>=0?Math.min(St+1,Nn):St+Nn+1;else if(Et&&St&&Nn)return kt[St=Et(kt,Vt)]===Vt?St:-1;if(Vt!=Vt)return(St=Je(u.call(kt,on,Nn),Z))>=0?St+on:-1;for(St=Re>0?on:Nn-1;St>=0&&St<Nn;St+=Re)if(kt[St]===Vt)return St;return-1}}const Dr=Ir(1,$n,mr),Nr=Ir(-1,qr);function $r(Re,Je,Et){var Vt=(Ai(Re)?$n:li)(Re,Je,Et);if(void 0!==Vt&&-1!==Vt)return Re[Vt]}function er(Re,Je){return $r(Re,Xn(Je))}function tr(Re,Je,Et){var kt,Vt;if(Je=mi(Je,Et),Ai(Re))for(kt=0,Vt=Re.length;kt<Vt;kt++)Je(Re[kt],kt,Re);else{var St=Jt(Re);for(kt=0,Vt=St.length;kt<Vt;kt++)Je(Re[St[kt]],St[kt],Re)}return Re}function Wn(Re,Je,Et){Je=Ei(Je,Et);for(var kt=!Ai(Re)&&Jt(Re),Vt=(kt||Re).length,St=Array(Vt),on=0;on<Vt;on++){var Nn=kt?kt[on]:on;St[on]=Je(Re[Nn],Nn,Re)}return St}function Kr(Re){return function(Et,kt,Vt,St){var on=arguments.length>=3;return function(Et,kt,Vt,St){var on=!Ai(Et)&&Jt(Et),Nn=(on||Et).length,_i=Re>0?0:Nn-1;for(St||(Vt=Et[on?on[_i]:_i],_i+=Re);_i>=0&&_i<Nn;_i+=Re){var Pn=on?on[_i]:_i;Vt=kt(Vt,Et[Pn],Pn,Et)}return Vt}(Et,mi(kt,St,4),Vt,on)}}const lr=Kr(1),Or=Kr(-1);function as(Re,Je,Et){var kt=[];return Je=Ei(Je,Et),tr(Re,function(Vt,St,on){Je(Vt,St,on)&&kt.push(Vt)}),kt}function ro(Re,Je,Et){return as(Re,Ls(Ei(Je)),Et)}function wo(Re,Je,Et){Je=Ei(Je,Et);for(var kt=!Ai(Re)&&Jt(Re),Vt=(kt||Re).length,St=0;St<Vt;St++){var on=kt?kt[St]:St;if(!Je(Re[on],on,Re))return!1}return!0}function Ds(Re,Je,Et){Je=Ei(Je,Et);for(var kt=!Ai(Re)&&Jt(Re),Vt=(kt||Re).length,St=0;St<Vt;St++){var on=kt?kt[St]:St;if(Je(Re[on],on,Re))return!0}return!1}function Cr(Re,Je,Et,kt){return Ai(Re)||(Re=Sn(Re)),("number"!=typeof Et||kt)&&(Et=0),Dr(Re,Je,Et)>=0}const ls=ie(function(Re,Je,Et){var kt,Vt;return Fe(Je)?Vt=Je:(Je=mn(Je),kt=Je.slice(0,-1),Je=Je[Je.length-1]),Wn(Re,function(St){var on=Vt;if(!on){if(kt&&kt.length&&(St=ci(St,kt)),null==St)return;on=St[Je]}return null==on?on:on.apply(St,Et)})});function cs(Re,Je){return Wn(Re,wi(Je))}function Aa(Re,Je){return as(Re,Xn(Je))}function es(Re,Je,Et){var St,on,kt=-1/0,Vt=-1/0;if(null==Je||"number"==typeof Je&&"object"!=typeof Re[0]&&null!=Re)for(var Nn=0,_i=(Re=Ai(Re)?Re:Sn(Re)).length;Nn<_i;Nn++)null!=(St=Re[Nn])&&St>kt&&(kt=St);else Je=Ei(Je,Et),tr(Re,function(Pn,cr,Hr){((on=Je(Pn,cr,Hr))>Vt||on===-1/0&&kt===-1/0)&&(kt=Pn,Vt=on)});return kt}function mo(Re,Je,Et){var St,on,kt=1/0,Vt=1/0;if(null==Je||"number"==typeof Je&&"object"!=typeof Re[0]&&null!=Re)for(var Nn=0,_i=(Re=Ai(Re)?Re:Sn(Re)).length;Nn<_i;Nn++)null!=(St=Re[Nn])&&St<kt&&(kt=St);else Je=Ei(Je,Et),tr(Re,function(Pn,cr,Hr){((on=Je(Pn,cr,Hr))<Vt||on===1/0&&kt===1/0)&&(kt=Pn,Vt=on)});return kt}var nr=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function ts(Re){return Re?jt(Re)?u.call(Re):K(Re)?Re.match(nr):Ai(Re)?Wn(Re,Oi):Sn(Re):[]}function Vo(Re,Je,Et){if(null==Je||Et)return Ai(Re)||(Re=Sn(Re)),Re[ct(Re.length-1)];var kt=ts(Re),Vt=Kt(kt);Je=Math.max(Math.min(Je,Vt),0);for(var St=Vt-1,on=0;on<Je;on++){var Nn=ct(on,St),_i=kt[on];kt[on]=kt[Nn],kt[Nn]=_i}return kt.slice(0,Je)}function ra(Re){return Vo(Re,1/0)}function so(Re,Je,Et){var kt=0;return Je=Ei(Je,Et),cs(Wn(Re,function(Vt,St,on){return{value:Vt,index:kt++,criteria:Je(Vt,St,on)}}).sort(function(Vt,St){var on=Vt.criteria,Nn=St.criteria;if(on!==Nn){if(on>Nn||void 0===on)return 1;if(on<Nn||void 0===Nn)return-1}return Vt.index-St.index}),"value")}function oo(Re,Je){return function(Et,kt,Vt){var St=Je?[[],[]]:{};return kt=Ei(kt,Vt),tr(Et,function(on,Nn){var _i=kt(on,Nn,Et);Re(St,on,_i)}),St}}const Ao=oo(function(Re,Je,Et){Dt(Re,Et)?Re[Et].push(Je):Re[Et]=[Je]}),As=oo(function(Re,Je,Et){Re[Et]=Je}),Pr=oo(function(Re,Je,Et){Dt(Re,Et)?Re[Et]++:Re[Et]=1}),rr=oo(function(Re,Je,Et){Re[Et?0:1].push(Je)},!0);function Fr(Re){return null==Re?0:Ai(Re)?Re.length:Jt(Re).length}function us(Re,Je,Et){return Je in Et}const ao=ie(function(Re,Je){var Et={},kt=Je[0];if(null==Re)return Et;Fe(kt)?(Je.length>1&&(kt=mi(kt,Je[1])),Je=cn(Re)):(kt=us,Je=kr(Je,!1,!1),Re=Object(Re));for(var Vt=0,St=Je.length;Vt<St;Vt++){var on=Je[Vt],Nn=Re[on];kt(Nn,on,Re)&&(Et[on]=Nn)}return Et}),Ra=ie(function(Re,Je){var kt,Et=Je[0];return Fe(Et)?(Et=Ls(Et),Je.length>1&&(kt=Je[1])):(Je=Wn(kr(Je,!1,!1),String),Et=function(Vt,St){return!Cr(Je,St)}),ao(Re,Et,kt)});function Rs(Re,Je,Et){return u.call(Re,0,Math.max(0,Re.length-(null==Je||Et?1:Je)))}function oi(Re,Je,Et){return null==Re||Re.length<1?null==Je||Et?void 0:[]:null==Je||Et?Re[0]:Rs(Re,Re.length-Je)}function zr(Re,Je,Et){return u.call(Re,null==Je||Et?1:Je)}function Hs(Re,Je,Et){return null==Re||Re.length<1?null==Je||Et?void 0:[]:null==Je||Et?Re[Re.length-1]:zr(Re,Math.max(0,Re.length-Je))}function gr(Re){return as(Re,Boolean)}function Ws(Re,Je){return kr(Re,Je,!1)}const Br=ie(function(Re,Je){return Je=kr(Je,!0,!0),as(Re,function(Et){return!Cr(Je,Et)})}),Gr=ie(function(Re,Je){return Br(Re,Je)});function Yr(Re,Je,Et,kt){q(Je)||(kt=Et,Et=Je,Je=!1),null!=Et&&(Et=Ei(Et,kt));for(var Vt=[],St=[],on=0,Nn=Kt(Re);on<Nn;on++){var _i=Re[on],Pn=Et?Et(_i,on,Re):_i;Je&&!Et?((!on||St!==Pn)&&Vt.push(_i),St=Pn):Et?Cr(St,Pn)||(St.push(Pn),Vt.push(_i)):Cr(Vt,_i)||Vt.push(_i)}return Vt}const Cn=ie(function(Re){return Yr(kr(Re,!0,!0))});function bs(Re){for(var Je=[],Et=arguments.length,kt=0,Vt=Kt(Re);kt<Vt;kt++){var St=Re[kt];if(!Cr(Je,St)){var on;for(on=1;on<Et&&Cr(arguments[on],St);on++);on===Et&&Je.push(St)}}return Je}function ke(Re){for(var Je=Re&&es(Re,Kt).length||0,Et=Array(Je),kt=0;kt<Je;kt++)Et[kt]=cs(Re,kt);return Et}const Ue=ie(ke);function he(Re,Je){for(var Et={},kt=0,Vt=Kt(Re);kt<Vt;kt++)Je?Et[Re[kt]]=Je[kt]:Et[Re[kt][0]]=Re[kt][1];return Et}function Ze(Re,Je,Et){null==Je&&(Je=Re||0,Re=0),Et||(Et=Je<Re?-1:1);for(var kt=Math.max(Math.ceil((Je-Re)/Et),0),Vt=Array(kt),St=0;St<kt;St++,Re+=Et)Vt[St]=Re;return Vt}function Lt(Re,Je){if(null==Je||Je<1)return[];for(var Et=[],kt=0,Vt=Re.length;kt<Vt;)Et.push(u.call(Re,kt,kt+=Je));return Et}function Kn(Re,Je){return Re._chain?X(Je).chain():Je}function Si(Re){return tr(di(Re),function(Je){var Et=X[Je]=Re[Je];X.prototype[Je]=function(){var kt=[this._wrapped];return m.apply(kt,arguments),Kn(this,Et.apply(X,kt))}}),X}tr(["pop","push","reverse","shift","sort","splice","unshift"],function(Re){var Je=p[Re];X.prototype[Re]=function(){var Et=this._wrapped;return null!=Et&&(Je.apply(Et,arguments),("shift"===Re||"splice"===Re)&&0===Et.length&&delete Et[0]),Kn(this,Et)}}),tr(["concat","join","slice"],function(Re){var Je=p[Re];X.prototype[Re]=function(){var Et=this._wrapped;return null!=Et&&(Et=Je.apply(Et,arguments)),Kn(this,Et)}});const ds=X;var Cs=Si(n);Cs._=Cs},467:(nt,fe,h)=>{"use strict";function n(y,p,w,C,m,u,f){try{var T=y[u](f),O=T.value}catch(F){return void w(F)}T.done?p(O):Promise.resolve(O).then(C,m)}function e(y){return function(){var p=this,w=arguments;return new Promise(function(C,m){var u=y.apply(p,w);function f(O){n(u,C,m,f,T,"next",O)}function T(O){n(u,C,m,f,T,"throw",O)}f(void 0)})}}h.d(fe,{A:()=>e})},1635:(nt,fe,h)=>{"use strict";function w(be,le,Fe,Te){var pt,st=arguments.length,Oe=st<3?le:null===Te?Te=Object.getOwnPropertyDescriptor(le,Fe):Te;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Oe=Reflect.decorate(be,le,Fe,Te);else for(var Ye=be.length-1;Ye>=0;Ye--)(pt=be[Ye])&&(Oe=(st<3?pt(Oe):st>3?pt(le,Fe,Oe):pt(le,Fe))||Oe);return st>3&&Oe&&Object.defineProperty(le,Fe,Oe),Oe}function O(be,le){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(be,le)}function F(be,le,Fe,Te){return new(Fe||(Fe=Promise))(function(Oe,pt){function Ye(Dt){try{jt(Te.next(Dt))}catch(wt){pt(wt)}}function qt(Dt){try{jt(Te.throw(Dt))}catch(wt){pt(wt)}}function jt(Dt){Dt.done?Oe(Dt.value):function st(Oe){return Oe instanceof Fe?Oe:new Fe(function(pt){pt(Oe)})}(Dt.value).then(Ye,qt)}jt((Te=Te.apply(be,le||[])).next())})}function $(be){return this instanceof $?(this.v=be,this):new $(be)}function ie(be,le,Fe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var st,Te=Fe.apply(be,le||[]),Oe=[];return st={},pt("next"),pt("throw"),pt("return"),st[Symbol.asyncIterator]=function(){return this},st;function pt(z){Te[z]&&(st[z]=function(Y){return new Promise(function(Z,Ce){Oe.push([z,Y,Z,Ce])>1||Ye(z,Y)})})}function Ye(z,Y){try{!function qt(z){z.value instanceof $?Promise.resolve(z.value.v).then(jt,Dt):wt(Oe[0][2],z)}(Te[z](Y))}catch(Z){wt(Oe[0][3],Z)}}function jt(z){Ye("next",z)}function Dt(z){Ye("throw",z)}function wt(z,Y){z(Y),Oe.shift(),Oe.length&&Ye(Oe[0][0],Oe[0][1])}}function L(be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Fe,le=be[Symbol.asyncIterator];return le?le.call(be):(be=function N(be){var le="function"==typeof Symbol&&Symbol.iterator,Fe=le&&be[le],Te=0;if(Fe)return Fe.call(be);if(be&&"number"==typeof be.length)return{next:function(){return be&&Te>=be.length&&(be=void 0),{value:be&&be[Te++],done:!be}}};throw new TypeError(le?"Object is not iterable.":"Symbol.iterator is not defined.")}(be),Fe={},Te("next"),Te("throw"),Te("return"),Fe[Symbol.asyncIterator]=function(){return this},Fe);function Te(Oe){Fe[Oe]=be[Oe]&&function(pt){return new Promise(function(Ye,qt){!function st(Oe,pt,Ye,qt){Promise.resolve(qt).then(function(jt){Oe({value:jt,done:Ye})},pt)}(Ye,qt,(pt=be[Oe](pt)).done,pt.value)})}}}h.d(fe,{AQ:()=>ie,Cg:()=>w,N3:()=>$,Sn:()=>O,sH:()=>F,xN:()=>L}),"function"==typeof SuppressedError&&SuppressedError}},nt=>{nt(nt.s=6280)}]);