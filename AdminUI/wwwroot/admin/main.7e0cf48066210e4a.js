(self.webpackChunkidentity_express_manager_ui=self.webpackChunkidentity_express_manager_ui||[]).push([[792],{9838:(lt,we,p)=>{"use strict";p.d(we,{$9:()=>y,S9:()=>v,Vk:()=>e});var i=p(4438);let e=(()=>{class w{constructor(){this.Server="http://localhost:5000/"}static{this.\u0275fac=function(h){return new(h||w)}}static{this.\u0275prov=i.jDH({token:w,factory:w.\u0275fac})}}return w})();class v{constructor(){this.SharedSecret="Shared Secret",this.X509CertificateThumbprint="X509 Thumbprint",this.X509CertificateName="X509 Name",this.X509CertificateBase64="X509 Certificate Base64"}}let y=(()=>{class w{static get SITE_TITLE(){return"AdminUI"}static{this.checkHealthIdentityServerDocs="documentation/Troubleshooting/Unable_to_contact_IdentityServer.html"}static{this.loginRedirectLoopDocs="documentation/Troubleshooting/Login_redirect_loop.html"}static{this.sameSiteDocs="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie/SameSite"}static{this.defaultEmbeddedUserName="info@rocksolidknowledge.com"}}return w})()},3730:(lt,we,p)=>{"use strict";p.r(we),p.d(we,{ClaimTypesModule:()=>Ht});var i=p(177),e=p(1583),v=p(9417),y=p(1780),w=p(779),I=p(534),D=p(8400),h=p(7005),f=p(9838),E=p(9957),F=p(7263),L=p(6303),_=p(4438),M=p(5794),N=p(526),P=p(345),G=p(7499),x=p(5424),V=p(7883),Q=p(6728),Y=p(3680),le=p(6406),fe=p(8698),K=p(9550),ee=p(8762),ie=p(7778),T=p(2292);function ae(Ye,Xt){if(1&Ye){const ct=_.RV6();_.j41(0,"div",4)(1,"div",5)(2,"input",6),_.mxI("ngModelChange",function(Te){_.eBV(ct);const ve=_.XpG();return _.DH7(ve.newEnumValue,Te)||(ve.newEnumValue=Te),_.Njj(Te)}),_.k0s(),_.j41(3,"button",7),_.bIt("click",function(){_.eBV(ct);const Te=_.XpG();return _.Njj(Te.onAdd())}),_.nrm(4,"span",8),_.j41(5,"span",9),_.EFF(6),_.nI1(7,"translate"),_.k0s()()()()}if(2&Ye){const ct=_.XpG();_.R7$(2),_.FS9("id",ct.id+"-newValue-input"),_.R50("ngModel",ct.newEnumValue),_.R7$(),_.FS9("id",ct.id+"-newValue-button"),_.Y8G("disabled",ct.addDisabled),_.R7$(3),_.JRh(_.bMT(7,5,"Common.Add"))}}function re(Ye,Xt){if(1&Ye){const ct=_.RV6();_.j41(0,"app-pill-list",10),_.bIt("onDelete",function(Te){_.eBV(ct);const ve=_.XpG();return _.Njj(ve.onDelete(Te))}),_.k0s()}if(2&Ye){const ct=_.XpG();_.Y8G("readonly",ct.reserved)("id",ct.id)("values",ct.value)}}function Me(Ye,Xt){if(1&Ye&&(_.j41(0,"span",11),_.EFF(1),_.nI1(2,"translate"),_.nI1(3,"number"),_.k0s()),2&Ye){const ct=_.XpG();_.R7$(),_.Lme("",_.bMT(2,2,"ClaimTypes.TooManyAllowedValues")," (",_.bMT(3,4,ct.value.length),")")}}let Qe=(()=>{class Ye{constructor(){this.id=(0,F.Nl)(),this.value=[],this.required=!1,this.disabled=!1,this.reserved=!1,this.newEnumValue="",this.onChange=ct=>{},this.onTouched=()=>{}}writeValue(ct){this.value=ct}registerOnChange(ct){this.onChange=ct}registerOnTouched(ct){this.onTouched=ct}setDisabledState(ct){this.disabled=ct}validate(ct){return!this.required||this.value?.length?null:{required:{valid:!1}}}get addDisabled(){return this.isNullOrEmpty(this.newEnumValue)||this.value.includes(this.newEnumValue)}onAdd(){this.newEnumValue&&(this.value.push(this.newEnumValue),this.onChange(this.value),this.newEnumValue="")}onDelete(ct){this.value.splice(ct,1),this.onChange(this.value)}isNullOrEmpty(ct){return!ct||null!==ct.match(/^ *$/)}static{this.\u0275fac=function(ye){return new(ye||Ye)}}static{this.\u0275cmp=_.VBU({type:Ye,selectors:[["app-edit-enum-claim-type"]],inputs:{id:"id",value:"value",required:"required",disabled:"disabled",reserved:"reserved"},features:[_.Jv_([{provide:v.kq,useExisting:(0,_.Rfq)(()=>Ye),multi:!0},{provide:v.cz,useExisting:(0,_.Rfq)(()=>Ye),multi:!0}])],decls:4,vars:3,consts:[["class","tw-form-row",4,"ngIf"],[1,"tw-pill-list"],[3,"readonly","id","values","onDelete",4,"ngIf"],["id","too-many-values",4,"ngIf"],[1,"tw-form-row"],[1,"tw-flex","tw-w-full","lg:tw-max-w-2xl"],["type","text",1,"tw-form-control","tw-rounded-r-none","tw-border-r-0",3,"ngModelChange","id","ngModel"],[1,"tw-btn","tw-rounded-l-none",3,"click","id","disabled"],["aria-hidden","true",1,"far","fa-plus"],[1,"sr-only"],[3,"onDelete","readonly","id","values"],["id","too-many-values"]],template:function(ye,Te){1&ye&&(_.DNE(0,ae,8,7,"div",0),_.j41(1,"div",1),_.DNE(2,re,1,3,"app-pill-list",2)(3,Me,4,6,"span",3),_.k0s()),2&ye&&(_.Y8G("ngIf",!Te.reserved),_.R7$(2),_.Y8G("ngIf",Te.value.length<=50||!Te.reserved),_.R7$(),_.Y8G("ngIf",Te.value.length>50&&Te.reserved))},dependencies:[i.bT,v.me,v.BC,v.vS,T.L,i.QX,y.D9],encapsulation:2})}}return Ye})();var Le=p(4692);const Ne=(Ye,Xt)=>({title:Ye,link:Xt}),Je=Ye=>[Ye];function Ee(Ye,Xt){if(1&Ye){const ct=_.RV6();_.j41(0,"select",23),_.bIt("change",function(){_.eBV(ct);const Te=_.XpG(2);return _.Njj(Te.onValueTypeChanged())}),_.j41(1,"option",24),_.EFF(2),_.nI1(3,"translate"),_.k0s(),_.j41(4,"option",25),_.EFF(5),_.nI1(6,"translate"),_.k0s(),_.j41(7,"option",26),_.EFF(8),_.nI1(9,"translate"),_.k0s(),_.j41(10,"option",27),_.EFF(11),_.nI1(12,"translate"),_.k0s(),_.j41(13,"option",28),_.EFF(14),_.nI1(15,"translate"),_.k0s()()}if(2&Ye){const ct=_.XpG(2);_.R7$(),_.Y8G("selected","String"==ct.claimType.valueType),_.R7$(),_.JRh(_.bMT(3,9,"Common.Types.String")),_.R7$(2),_.Y8G("selected","Int"==ct.claimType.valueType),_.R7$(),_.JRh(_.bMT(6,11,"Common.Types.Int")),_.R7$(2),_.Y8G("selected","DateTime"==ct.claimType.valueType),_.R7$(),_.JRh(_.bMT(9,13,"Common.Types.DateTime")),_.R7$(2),_.Y8G("selected","Boolean"==ct.claimType.valueType),_.R7$(),_.JRh(_.bMT(12,15,"Common.Types.Boolean")),_.R7$(3),_.JRh(_.bMT(15,17,"Common.Types.Enum"))}}function be(Ye,Xt){if(1&Ye&&(_.nrm(0,"app-readonly",10),_.nI1(1,"readOnlyValue")),2&Ye){const ct=_.XpG(2);_.Y8G("fieldType",ct.ReadOnlyFieldType.Single)("values",_.eq3(4,Je,_.bMT(1,2,ct.claimType.valueType)))}}function se(Ye,Xt){if(1&Ye&&(_.j41(0,"app-form-row",29),_.nrm(1,"app-edit-enum-claim-type",30),_.k0s()),2&Ye){const ct=_.XpG(2);_.Y8G("label","Claims.AllowedValues"),_.R7$(),_.Y8G("reserved",ct.claimType.reserved)("required","Enum"===ct.claimTypeForm.get("valueType").value)}}function Oe(Ye,Xt){1&Ye&&_.nrm(0,"textarea",31)}function Ie(Ye,Xt){if(1&Ye&&(_.nrm(0,"app-readonly",10),_.nI1(1,"readOnlyValue")),2&Ye){const ct=_.XpG(2);_.Y8G("fieldType",ct.ReadOnlyFieldType.Single)("values",_.eq3(4,Je,_.bMT(1,2,ct.claimType.description)))}}function it(Ye,Xt){1&Ye&&(_.j41(0,"app-form-row",12),_.nrm(1,"input",32),_.k0s()),2&Ye&&_.Y8G("id","rule")("label","Claims.RegexRule")}function xe(Ye,Xt){1&Ye&&(_.j41(0,"app-form-row",12),_.nrm(1,"input",33),_.k0s()),2&Ye&&_.Y8G("id","ruleValidation")("label","Claims.RuleValidationFailureDescription")}function pt(Ye,Xt){if(1&Ye&&(_.j41(0,"div",7)(1,"form",8)(2,"app-form-row",9),_.nrm(3,"app-readonly",10),_.nI1(4,"readOnlyValue"),_.k0s(),_.j41(5,"app-form-row",9),_.nrm(6,"input",11),_.k0s(),_.j41(7,"app-form-row",12)(8,"div",13),_.DNE(9,Ee,16,19,"select",14)(10,be,2,6,"app-readonly",15),_.k0s()(),_.DNE(11,se,2,3,"app-form-row",16),_.j41(12,"app-form-row",12),_.DNE(13,Oe,1,0,"textarea",17)(14,Ie,2,6,"app-readonly",15),_.k0s(),_.DNE(15,it,2,2,"app-form-row",18)(16,xe,2,2,"app-form-row",18),_.j41(17,"app-form-row",9)(18,"app-form-toggle",19),_.nrm(19,"input",20),_.k0s()(),_.j41(20,"app-form-row",21)(21,"app-form-toggle",19),_.nrm(22,"input",22),_.k0s()()()()),2&Ye){const ct=_.XpG();_.R7$(),_.Y8G("formGroup",ct.claimTypeForm),_.R7$(),_.Y8G("id","name")("label","Common.Name")("help","ClaimTypes.NameHelp"),_.R7$(),_.Y8G("fieldType",ct.ReadOnlyFieldType.Single)("values",_.eq3(31,Je,_.bMT(4,29,ct.claimType.name))),_.R7$(2),_.Y8G("id","displayName")("label","Common.DisplayName")("help","ClaimTypes.DisplayNameHelp"),_.R7$(2),_.Y8G("id","type")("label","Common.Type"),_.R7$(2),_.Y8G("ngIf",!ct.claimType.reserved),_.R7$(),_.Y8G("ngIf",ct.claimType.reserved),_.R7$(),_.Y8G("ngIf","Enum"===ct.claimTypeForm.get("valueType").value),_.R7$(),_.Y8G("id","description")("label","Common.Description"),_.R7$(),_.Y8G("ngIf",!ct.claimType.reserved),_.R7$(),_.Y8G("ngIf",ct.claimType.reserved),_.R7$(),_.Y8G("ngIf","String"===ct.claimTypeForm.get("valueType").value),_.R7$(),_.Y8G("ngIf","String"===ct.claimTypeForm.get("valueType").value),_.R7$(),_.Y8G("id","required")("label","Claims.Required")("help","Claims.FutureUsers"),_.R7$(),_.Y8G("id","required"),_.R7$(2),_.Y8G("id","userEditable")("label","Common.UserEditable")("help","Claims.UserEditable")("isLast",!0),_.R7$(),_.Y8G("id","userEditable")}}let vt=(()=>{class Ye{get ReadOnlyFieldType(){return L.t}constructor(ct,ye,Te,ve,ht,Ke,wt,gt,zt,Bn,ni){this.router=ct,this.translate=ye,this.toastr=Te,this.fb=ve,this.claimTypeService=ht,this.titleService=Ke,this.dialogService=wt,this.localize=gt,this.errorService=zt,this.securityService=Bn,this.cdr=ni,this.claimType=null}ngOnInit(){this.claimTypeSubscription=this.claimTypeService.getCachedClaimType().subscribe({next:ct=>{this.claimType=ct,this.titleService.setTitle(this.translate.instant("Claims.Title")+" "+this.claimType.name+` - ${f.$9.SITE_TITLE}`),this.buildForm(),this.initialData=JSON.stringify(ct)},error:ct=>{this.errorService.handleError(ct)}})}ngOnDestroy(){this.claimTypeSubscription.unsubscribe()}canDeactivate(){return!this.claimTypeForm.dirty||(this.dialogService.confirm(),this.dialogService.eventStream)}buildForm(){this.claimTypeForm=this.fb.group({id:[this.claimType.id],name:[this.claimType.name,v.k0.required],displayName:[this.claimType.displayName],description:[{value:this.claimType.description,disabled:this.claimType.reserved},[v.k0.maxLength(1e3)]],required:[{value:this.claimType.required,disabled:"sub"===this.claimType.name||"role"===this.claimType.name},v.k0.required],valueType:[{value:this.claimType.valueType,disabled:this.claimType.reserved},v.k0.required],rule:[{value:this.claimType.rule,disabled:this.claimType.reserved}],ruleValidationFailureDescription:[{value:this.claimType.ruleValidationFailureDescription,disabled:this.claimType.reserved}],userEditable:[this.claimType.userEditable,v.k0.required],allowedValues:[this.claimType.allowedValues||[]]})}submit(){const ct=this.claimTypeForm.getRawValue();"String"!==this.claimTypeForm.get("valueType").value&&(ct.rule=void 0,ct.ruleValidationFailureDescription=void 0),this.claimTypeService.updateClaimType(ct).subscribe({next:ye=>{this.toastr.success(this.translate.instant("Notifications.Saving Success Message"),this.translate.instant("Common.Saved")),this.initialData=JSON.stringify(ct),this.claimTypeForm.markAsPristine(),this.claimTypeForm.markAsUntouched()},error:ye=>{(this.errorService.handleError(ye)&E.I.Toast)!==E.I.Toast&&this.toastr.error(this.translate.instant("Notifications.SomethingWrong"),this.translate.instant("Notifications.Error"))}})}delete(){this.claimTypeService.deleteClaimType(this.claimType).subscribe({next:ct=>{this.toastr.success(this.claimType.name+" "+this.translate.instant("Common.Delete.Deleted"),this.translate.instant("Common.Removed"));const ye=this.localize.translateRoute("/claim-types");this.router.navigate([ye])},error:ct=>{(this.errorService.handleError(ct)&E.I.Toast)!==E.I.Toast&&this.toastr.error(this.translate.instant("Notifications.SomethingWrong"),this.translate.instant("Notifications.Error"))}})}onValueTypeChanged(){const ct=this.claimTypeForm.get("allowedValues");"Enum"!==this.claimTypeForm.get("valueType").value?(ct?.disable(),this.cdr.detectChanges()):(ct?.setValue(this.claimType.allowedValues||[]),ct?.enable(),this.cdr.detectChanges())}get isIdentityServerManager(){return(0,F.jk)(this.securityService.userPermissions)}static{this.\u0275fac=function(ye){return new(ye||Ye)(_.rXU(e.Ix),_.rXU(y.c$),_.rXU(M.tw),_.rXU(v.ze),_.rXU(N.X),_.rXU(P.hE),_.rXU(G.o),_.rXU(h.QG),_.rXU(x.I),_.rXU(V.i),_.rXU(_.gRc))}}static{this.\u0275cmp=_.VBU({type:Ye,selectors:[["ng-component"]],decls:15,vars:22,consts:[["deleteClaimTypeModal",""],[3,"title","crumbs"],["id","editClaimType","class","tw-container tw-mx-auto",4,"ngIf"],["id","submitBtn",1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"click","disabled"],["right",""],["id","deleteBtn","type","button","data-toggle","modal",1,"tw-btn-danger","tw-mb-3",3,"click","disabled"],[3,"delete","modalId","resourceName"],["id","editClaimType",1,"tw-container","tw-mx-auto"],[3,"formGroup"],[3,"id","label","help"],[3,"fieldType","values"],["type","text","formControlName","displayName","name","displayName","id","displayName",1,"tw-form-control"],[3,"id","label"],[1,"tw-form-select"],["formControlName","valueType","class","tw-form-control","id","type",3,"change",4,"ngIf"],[3,"fieldType","values",4,"ngIf"],[3,"label",4,"ngIf"],["class","tw-form-control","formControlName","description","name","description","id","description",4,"ngIf"],[3,"id","label",4,"ngIf"],[3,"id"],["id","required","type","checkbox","name","required","formControlName","required","value","true",1,"tw-form-switch__input"],[3,"id","label","help","isLast"],["id","userEditable","type","checkbox","name","userEditable","formControlName","userEditable","value","true",1,"tw-form-switch__input"],["formControlName","valueType","id","type",1,"tw-form-control",3,"change"],["value","String",3,"selected"],["value","Int",3,"selected"],["value","DateTime",3,"selected"],["value","Boolean",3,"selected"],["value","Enum"],[3,"label"],["id","allowedValues","formControlName","allowedValues",3,"reserved","required"],["formControlName","description","name","description","id","description",1,"tw-form-control"],["type","text","formControlName","rule","name","rule","id","rule",1,"tw-form-control"],["type","text","formControlName","ruleValidationFailureDescription","name","rule","id","ruleValidation",1,"tw-form-control"]],template:function(ye,Te){if(1&ye){const ve=_.RV6();_.nrm(0,"app-title-bar",1),_.nI1(1,"translate"),_.nI1(2,"localize"),_.DNE(3,pt,23,33,"div",2),_.j41(4,"app-button-bar")(5,"button",3),_.bIt("click",function(){return _.eBV(ve),_.Njj(Te.submit())}),_.EFF(6),_.nI1(7,"translate"),_.k0s(),_.qex(8,4),_.j41(9,"button",5),_.bIt("click",function(){_.eBV(ve);const Ke=_.sdS(13);return _.Njj(Ke.show())}),_.EFF(10),_.nI1(11,"translate"),_.k0s(),_.bVm(),_.k0s(),_.j41(12,"app-delete-confirmation-modal",6,0),_.bIt("delete",function(){return _.eBV(ve),_.Njj(Te.delete())}),_.k0s(),_.nrm(14,"app-can-deactivate")}2&ye&&(_.Y8G("title",Te.claimType.name)("crumbs",_.eq3(20,Je,_.l_i(17,Ne,_.bMT(1,9,"Nav.ClaimTypes"),_.bMT(2,11,"/claim-types")))),_.R7$(3),_.Y8G("ngIf",Te.claimType),_.R7$(2),_.Y8G("disabled",!(Te.claimTypeForm.dirty&&Te.claimTypeForm.valid)),_.R7$(),_.SpI(" ",_.bMT(7,13,"Common.Save")," "),_.R7$(3),_.Y8G("disabled",Te.claimType.reserved||!Te.isIdentityServerManager),_.R7$(),_.SpI(" ",_.bMT(11,15,"Common.Delete.Title")," "),_.R7$(2),_.Y8G("modalId","deleteClaimTypeModal")("resourceName",Te.claimType.name))},dependencies:[i.bT,v.qT,v.xH,v.y7,v.me,v.Zm,v.wz,v.BC,v.cb,v.YS,v.j4,v.JD,Q.E,Y.z,le.z,fe.Y,K.m,ee.O,ie.w,Qe,y.D9,h.tl,Le.u],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return Ye})();var hn=p(1413),ln=p(152),Mt=p(3294),xt=p(6354),z=p(1716),W=p(9172),J=p(1397),_e=p(7156),Ce=p(7294),st=p(2510),Fe=p(7384);class rt{}const mt=["addClaimTypeModal"],tt=()=>({animated:!1,backdrop:"static"});function $t(Ye,Xt){if(1&Ye&&(_.j41(0,"app-form-row",37),_.nrm(1,"app-edit-enum-claim-type",38),_.k0s()),2&Ye){const ct=_.XpG();_.Y8G("label","Claims.AllowedValues"),_.R7$(),_.Y8G("required","Enum"===ct.addClaimTypeForm.get("valueType").value)}}function en(Ye,Xt){1&Ye&&(_.j41(0,"app-form-row",14),_.nrm(1,"input",39),_.k0s()),2&Ye&&_.Y8G("id","rules")("label","Claims.RegexRule")}function Ot(Ye,Xt){1&Ye&&(_.j41(0,"app-form-row",14),_.nrm(1,"input",40),_.k0s()),2&Ye&&_.Y8G("id","ruleValidationFailureDescription")("label","Claims.RuleValidationFailureDescription")}let Yt=(()=>{class Ye{constructor(ct,ye,Te,ve,ht,Ke){this.cdr=ct,this.claimTypeService=ye,this.errorService=Te,this.translate=ve,this.fb=ht,this.toastr=Ke,this.onSubmitted=new _.bkB,this.descFocus=!1}keydown(ct){"Enter"===ct.key&&this.addClaimTypeForm.valid&&!this.descFocus&&this.addClaimType()}ngOnInit(){this.buildForm()}buildForm(){this.addClaimTypeForm=this.fb.group({valueType:["String",v.k0.required],name:["",v.k0.required],displayName:[""],description:["",v.k0.maxLength(1e3)],rule:[""],ruleValidationFailureDescription:[""],required:[!1,v.k0.required],userEditable:[!1,v.k0.required],allowedValues:[[]]})}addAnotherClaimType(){this.addAnother=!0,this.addClaimType()}addClaimType(){let ct=new rt;ct=this.addClaimTypeForm.value,"String"!==this.addClaimTypeForm.get("valueType").value&&(ct.rule=void 0,ct.ruleValidationFailureDescription=void 0),this.claimTypeService.addClaimType(ct).subscribe({next:ye=>{this.buildForm(),this.toastr.success(this.translate.instant("Claims.Title")+" "+ct.name+" "+this.translate.instant("Common.Created"),this.translate.instant("Common.Added")),this.onSubmitted.emit(!0),this.addAnother||this.hide(),this.addAnother=!1},error:ye=>{(this.errorService.handleError(ye)&E.I.Toast)!==E.I.Toast&&this.toastr.error(this.translate.instant("Notifications.SomethingWrong"),this.translate.instant("Notifications.Error"))}})}hide(){this.addClaimTypeModal.hide()}show(){this.addClaimTypeModal.show()}ngOnDestroy(){this.hide()}onValueTypeChanged(){const ct=this.addClaimTypeForm.get("allowedValues");"Enum"!==this.addClaimTypeForm.get("valueType").value?(ct?.disable(),this.cdr.detectChanges()):(ct?.setValue([]),ct?.enable(),this.cdr.detectChanges())}static{this.\u0275fac=function(ye){return new(ye||Ye)(_.rXU(_.gRc),_.rXU(N.X),_.rXU(x.I),_.rXU(y.c$),_.rXU(v.ze),_.rXU(M.tw))}}static{this.\u0275cmp=_.VBU({type:Ye,selectors:[["app-add-claimtype"]],viewQuery:function(ye,Te){if(1&ye&&_.GBs(mt,7),2&ye){let ve;_.mGM(ve=_.lsd())&&(Te.addClaimTypeModal=ve.first)}},hostBindings:function(ye,Te){1&ye&&_.bIt("keydown",function(ht){return Te.keydown(ht)},!1,_.EBC)},outputs:{onSubmitted:"onSubmitted"},decls:62,vars:57,consts:[["addClaimTypeModal","bs-modal"],["bsModal","","id","addClaimTypeModal","tabindex","-1","role","dialog","aria-hidden","true",1,"modal",3,"config"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","scrollbars"],[3,"formGroup"],[3,"id","label","help"],["id","name","type","text","formControlName","name","name","name",1,"tw-form-control"],["id","displayName","type","text","formControlName","displayName","name","displayName",1,"tw-form-control"],[3,"id","label"],[1,"tw-form-select"],["formControlName","valueType","id","type",1,"tw-form-control",3,"change"],["value","String"],["value","Int"],["value","DateTime"],["value","Boolean"],["value","Enum"],[3,"label",4,"ngIf"],["id","description","formControlName","description","name","description",1,"tw-form-control",3,"focus","blur"],[3,"id","label",4,"ngIf"],[3,"id"],["id","required","type","checkbox","name","required","formControlName","required","value","true",1,"tw-form-switch__input"],[3,"id","label","help","isLast"],["id","userEditable","type","checkbox","name","userEditable","formControlName","userEditable","value","true",1,"tw-form-switch__input"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","addButton",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],[1,"tw-hidden","xs:tw-inline"],["id","addAnotherButton",1,"tw-btn",3,"click","disabled"],[1,"tw-btn-link","tw--mr-4",3,"click"],[3,"label"],["id","allowedValues","formControlName","allowedValues",3,"required"],["id","rules","formControlName","rule","type","text","name","rule",1,"tw-form-control"],["id","ruleValidationFailureDescription","formControlName","ruleValidationFailureDescription","type","text","name","ruleValidationFailureDescription",1,"tw-form-control"]],template:function(ye,Te){if(1&ye){const ve=_.RV6();_.j41(0,"div",1,0)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),_.EFF(6),_.nI1(7,"translate"),_.k0s(),_.j41(8,"button",6),_.bIt("click",function(){return _.eBV(ve),_.Njj(Te.hide())}),_.nrm(9,"span",7),_.j41(10,"span",8),_.EFF(11),_.nI1(12,"translate"),_.k0s()()(),_.j41(13,"div",9)(14,"form",10)(15,"app-form-row",11),_.nrm(16,"input",12),_.k0s(),_.j41(17,"app-form-row",11),_.nrm(18,"input",13),_.k0s(),_.j41(19,"app-form-row",14)(20,"div",15)(21,"select",16),_.bIt("change",function(){return _.eBV(ve),_.Njj(Te.onValueTypeChanged())}),_.j41(22,"option",17),_.EFF(23),_.nI1(24,"translate"),_.k0s(),_.j41(25,"option",18),_.EFF(26),_.nI1(27,"translate"),_.k0s(),_.j41(28,"option",19),_.EFF(29),_.nI1(30,"translate"),_.k0s(),_.j41(31,"option",20),_.EFF(32),_.nI1(33,"translate"),_.k0s(),_.j41(34,"option",21),_.EFF(35),_.nI1(36,"translate"),_.k0s()()()(),_.DNE(37,$t,2,2,"app-form-row",22),_.j41(38,"app-form-row",14)(39,"textarea",23),_.bIt("focus",function(){return _.eBV(ve),_.Njj(Te.descFocus=!Te.descFocus)})("blur",function(){return _.eBV(ve),_.Njj(Te.descFocus=!Te.descFocus)}),_.k0s()(),_.DNE(40,en,2,2,"app-form-row",24)(41,Ot,2,2,"app-form-row",24),_.j41(42,"app-form-row",11)(43,"app-form-toggle",25),_.nrm(44,"input",26),_.k0s()(),_.j41(45,"app-form-row",27)(46,"app-form-toggle",25),_.nrm(47,"input",28),_.k0s()()()(),_.nrm(48,"div",29),_.j41(49,"div",30)(50,"div",31)(51,"div",32)(52,"button",33),_.bIt("click",function(){return _.eBV(ve),_.Njj(Te.addClaimType())}),_.EFF(53),_.nI1(54,"translate"),_.k0s(),_.j41(55,"span",34)(56,"button",35),_.bIt("click",function(){return _.eBV(ve),_.Njj(Te.addAnotherClaimType())}),_.EFF(57),_.nI1(58,"translate"),_.k0s()()(),_.j41(59,"button",36),_.bIt("click",function(){return _.eBV(ve),_.Njj(Te.hide())}),_.EFF(60),_.nI1(61,"translate"),_.k0s()()()()()()}2&ye&&(_.Y8G("config",_.lJ4(56,tt)),_.R7$(6),_.JRh(_.bMT(7,36,"Claims.New")),_.R7$(5),_.JRh(_.bMT(12,38,"Common.Close")),_.R7$(3),_.Y8G("formGroup",Te.addClaimTypeForm),_.R7$(),_.Y8G("id","name")("label","Common.Name")("help","ClaimTypes.NameHelp"),_.R7$(2),_.Y8G("id","displayName")("label","Common.DisplayName")("help","ClaimTypes.DisplayNameHelp"),_.R7$(2),_.Y8G("id","type")("label","Common.Type"),_.R7$(4),_.JRh(_.bMT(24,40,"Common.Types.String")),_.R7$(3),_.JRh(_.bMT(27,42,"Common.Types.Int")),_.R7$(3),_.JRh(_.bMT(30,44,"Common.Types.DateTime")),_.R7$(3),_.JRh(_.bMT(33,46,"Common.Types.Boolean")),_.R7$(3),_.JRh(_.bMT(36,48,"Common.Types.Enum")),_.R7$(2),_.Y8G("ngIf","Enum"===Te.addClaimTypeForm.get("valueType").value),_.R7$(),_.Y8G("id","description")("label","Common.Description"),_.R7$(2),_.Y8G("ngIf","String"===Te.addClaimTypeForm.get("valueType").value),_.R7$(),_.Y8G("ngIf","String"===Te.addClaimTypeForm.get("valueType").value),_.R7$(),_.Y8G("id","required")("label","Claims.Required")("help","Claims.FutureUsers"),_.R7$(),_.Y8G("id","required"),_.R7$(2),_.Y8G("id","userEditable")("label","Common.UserEditable")("help","Claims.UserEditable")("isLast",!0),_.R7$(),_.Y8G("id","userEditable"),_.R7$(6),_.Y8G("disabled",!Te.addClaimTypeForm.valid),_.R7$(),_.JRh(_.bMT(54,50,"Common.Save")),_.R7$(3),_.Y8G("disabled",!Te.addClaimTypeForm.valid),_.R7$(),_.JRh(_.bMT(58,52,"Common.SaveAndAdd")),_.R7$(3),_.JRh(_.bMT(61,54,"Common.Cancel")))},dependencies:[i.bT,v.qT,v.xH,v.y7,v.me,v.Zm,v.wz,v.BC,v.cb,v.YS,v.j4,v.JD,w.hZ,fe.Y,K.m,Qe,y.D9],encapsulation:2})}}return Ye})();const je=(Ye,Xt)=>Xt.id,oe=(Ye,Xt)=>({"fad fa-pencil":Ye,"fas fa-eye":Xt});function H(Ye,Xt){1&Ye&&(_.j41(0,"div",4)(1,"div")(2,"p",5),_.EFF(3),_.nI1(4,"translate"),_.k0s(),_.nrm(5,"p",6),_.nI1(6,"translate"),_.k0s()()),2&Ye&&(_.R7$(3),_.JRh(_.bMT(4,2,"Common.ReadOnlyModeWarningTitle")),_.R7$(2),_.Y8G("innerHTML",_.bMT(6,4,"ClaimTypes.ReadOnlyModeWarn"),_.npT))}function te(Ye,Xt){if(1&Ye){const ct=_.RV6();_.j41(0,"app-action-bar"),_.qex(1,8),_.j41(2,"button",9),_.bIt("click",function(){_.eBV(ct),_.XpG(2);const Te=_.sdS(3);return _.Njj(Te.show())}),_.EFF(3),_.nI1(4,"translate"),_.k0s(),_.bVm(),_.k0s()}2&Ye&&(_.R7$(3),_.SpI(" ",_.bMT(4,1,"Claims.Add")," "))}function Ue(Ye,Xt){if(1&Ye){const ct=_.RV6();_.j41(0,"app-search",7),_.nI1(1,"translate"),_.bIt("onSearch",function(Te){_.eBV(ct);const ve=_.XpG();return _.Njj(ve.search(Te))}),_.k0s(),_.DNE(2,te,5,3,"app-action-bar")}if(2&Ye){const ct=_.XpG();_.Y8G("placeholder",_.bMT(1,2,"ClaimTypes.SearchPlaceholder")),_.R7$(2),_.vxM(2,!ct.isLoading&&ct.isIdentityServerManager?2:-1)}}function et(Ye,Xt){1&Ye&&_.nrm(0,"app-simple-loader")}function ft(Ye,Xt){1&Ye&&(_.j41(0,"div",10)(1,"div"),_.EFF(2),_.nI1(3,"translate"),_.k0s()()),2&Ye&&(_.R7$(2),_.JRh(_.bMT(3,1,"Claims.NoClaimsFound")))}function Ft(Ye,Xt){1&Ye&&_.nrm(0,"span",25)}function sn(Ye,Xt){1&Ye&&_.nrm(0,"span",26)}function cn(Ye,Xt){1&Ye&&_.nrm(0,"span",27)}function In(Ye,Xt){1&Ye&&_.nrm(0,"span",25)}function An(Ye,Xt){1&Ye&&_.nrm(0,"span",26)}function Fn(Ye,Xt){1&Ye&&_.nrm(0,"span",27)}function Pn(Ye,Xt){1&Ye&&_.nrm(0,"span",25)}function ki(Ye,Xt){1&Ye&&_.nrm(0,"span",26)}function wi(Ye,Xt){1&Ye&&_.nrm(0,"span",27)}function Rt(Ye,Xt){1&Ye&&_.nrm(0,"span",25)}function Wt(Ye,Xt){1&Ye&&_.nrm(0,"span",26)}function _t(Ye,Xt){1&Ye&&_.nrm(0,"span",27)}function Nt(Ye,Xt){1&Ye&&(_.j41(0,"span",33)(1,"span",22),_.EFF(2),_.nI1(3,"translate"),_.k0s()()),2&Ye&&(_.R7$(2),_.JRh(_.bMT(3,1,"Common.Yes")))}function tn(Ye,Xt){1&Ye&&(_.j41(0,"span",38)(1,"span",22),_.EFF(2),_.nI1(3,"translate"),_.k0s()()),2&Ye&&(_.R7$(2),_.JRh(_.bMT(3,1,"Common.No")))}function En(Ye,Xt){1&Ye&&(_.j41(0,"span",33)(1,"span",22),_.EFF(2),_.nI1(3,"translate"),_.k0s()()),2&Ye&&(_.R7$(2),_.JRh(_.bMT(3,1,"Common.Yes")))}function Ln(Ye,Xt){1&Ye&&(_.j41(0,"span",38)(1,"span",22),_.EFF(2),_.nI1(3,"translate"),_.k0s()()),2&Ye&&(_.R7$(2),_.JRh(_.bMT(3,1,"Common.No")))}function un(Ye,Xt){1&Ye&&(_.j41(0,"span",39),_.EFF(1),_.nI1(2,"translate"),_.k0s()),2&Ye&&(_.R7$(),_.SpI(" ",_.bMT(2,1,"Common.Reserved")," "))}function ui(Ye,Xt){if(1&Ye){const ct=_.RV6();_.j41(0,"tr",23)(1,"td",28),_.bIt("click",function(){const Te=_.eBV(ct).$implicit,ve=_.XpG(3);return _.Njj(ve.viewOrEditClaimType(Te))}),_.j41(2,"b",29),_.EFF(3),_.k0s()(),_.j41(4,"td",30),_.bIt("click",function(){const Te=_.eBV(ct).$implicit,ve=_.XpG(3);return _.Njj(ve.viewOrEditClaimType(Te))}),_.j41(5,"b",29),_.EFF(6),_.k0s()(),_.j41(7,"td",30),_.bIt("click",function(){const Te=_.eBV(ct).$implicit,ve=_.XpG(3);return _.Njj(ve.viewOrEditClaimType(Te))}),_.j41(8,"code"),_.EFF(9),_.k0s()(),_.j41(10,"td",31),_.bIt("click",function(){const Te=_.eBV(ct).$implicit,ve=_.XpG(3);return _.Njj(ve.viewOrEditClaimType(Te))}),_.EFF(11),_.k0s(),_.j41(12,"td",32),_.bIt("click",function(){const Te=_.eBV(ct).$implicit,ve=_.XpG(3);return _.Njj(ve.viewOrEditClaimType(Te))}),_.DNE(13,Nt,4,3,"span",33)(14,tn,4,3),_.k0s(),_.j41(15,"td",32),_.bIt("click",function(){const Te=_.eBV(ct).$implicit,ve=_.XpG(3);return _.Njj(ve.viewOrEditClaimType(Te))}),_.DNE(16,En,4,3,"span",33)(17,Ln,4,3),_.k0s(),_.j41(18,"td",34),_.bIt("click",function(){const Te=_.eBV(ct).$implicit,ve=_.XpG(3);return _.Njj(ve.viewOrEditClaimType(Te))}),_.DNE(19,un,3,3,"span",35),_.k0s(),_.j41(20,"td",34),_.bIt("click",function(){const Te=_.eBV(ct).$implicit,ve=_.XpG(3);return _.Njj(ve.viewOrEditClaimType(Te))}),_.j41(21,"button",36),_.bIt("click",function(){const Te=_.eBV(ct).$implicit,ve=_.XpG(3);return _.Njj(ve.viewOrEditClaimType(Te))}),_.nrm(22,"span",37),_.j41(23,"span",22),_.EFF(24),_.nI1(25,"translate"),_.k0s()()()()}if(2&Ye){const ct=Xt.$implicit,ye=_.XpG(3);_.R7$(3),_.SpI(" ",ct.name," "),_.R7$(3),_.SpI(" ",ct.displayName," "),_.R7$(3),_.JRh(ct.valueType),_.R7$(2),_.SpI(" ",ct.description," "),_.R7$(2),_.vxM(13,ct.required?13:14),_.R7$(3),_.vxM(16,ct.userEditable?16:17),_.R7$(3),_.Y8G("ngIf",ct.reserved),_.R7$(3),_.Y8G("ngClass",_.l_i(11,oe,ye.isAllPermission&&!ye.isAllPermissionReadOnly&&ye.hasPersistance,!ye.isAllPermission||!ye.hasPersistance)),_.R7$(2),_.JRh(_.bMT(25,9,"Common.Edit"))}}function jn(Ye,Xt){if(1&Ye){const ct=_.RV6();_.j41(0,"table",11)(1,"thead")(2,"tr")(3,"th",12),_.bIt("click",function(){_.eBV(ct);const Te=_.XpG(2);return _.Njj(Te.sort("name"))}),_.j41(4,"span",13),_.EFF(5),_.nI1(6,"translate"),_.k0s(),_.DNE(7,Ft,1,0,"span",14)(8,sn,1,0,"span",15)(9,cn,1,0,"span",16),_.k0s(),_.j41(10,"th",17),_.EFF(11),_.nI1(12,"translate"),_.k0s(),_.j41(13,"th",18),_.bIt("click",function(){_.eBV(ct);const Te=_.XpG(2);return _.Njj(Te.sort("valueType"))}),_.j41(14,"span",13),_.EFF(15),_.nI1(16,"translate"),_.k0s(),_.DNE(17,In,1,0,"span",14)(18,An,1,0,"span",15)(19,Fn,1,0,"span",16),_.k0s(),_.j41(20,"th",19),_.EFF(21),_.nI1(22,"translate"),_.k0s(),_.j41(23,"th",20),_.bIt("click",function(){_.eBV(ct);const Te=_.XpG(2);return _.Njj(Te.sort("required"))}),_.j41(24,"span",13),_.EFF(25),_.nI1(26,"translate"),_.k0s(),_.DNE(27,Pn,1,0,"span",14)(28,ki,1,0,"span",15)(29,wi,1,0,"span",16),_.k0s(),_.j41(30,"th",20),_.bIt("click",function(){_.eBV(ct);const Te=_.XpG(2);return _.Njj(Te.sort("userEditable"))}),_.j41(31,"span",13),_.EFF(32),_.nI1(33,"translate"),_.k0s(),_.DNE(34,Rt,1,0,"span",14)(35,Wt,1,0,"span",15)(36,_t,1,0,"span",16),_.k0s(),_.j41(37,"th",21)(38,"span",22),_.EFF(39),_.nI1(40,"translate"),_.k0s()(),_.j41(41,"th",21)(42,"span",22),_.EFF(43),_.nI1(44,"translate"),_.k0s()()()(),_.j41(45,"tbody"),_.Z7z(46,ui,26,14,"tr",23,je),_.k0s()(),_.nrm(48,"app-pager",24)}if(2&Ye){const ct=_.XpG(2);_.R7$(5),_.JRh(_.bMT(6,21,"Common.Name")),_.R7$(2),_.Y8G("ngIf",!ct.sortContains("name")),_.R7$(),_.Y8G("ngIf","name"===ct.sortCriteria),_.R7$(),_.Y8G("ngIf","-name"===ct.sortCriteria),_.R7$(2),_.SpI(" ",_.bMT(12,23,"Common.DisplayName")," "),_.R7$(4),_.JRh(_.bMT(16,25,"Common.Type")),_.R7$(2),_.Y8G("ngIf",!ct.sortContains("valueType")),_.R7$(),_.Y8G("ngIf","valueType"===ct.sortCriteria),_.R7$(),_.Y8G("ngIf","-valueType"===ct.sortCriteria),_.R7$(2),_.SpI(" ",_.bMT(22,27,"Common.Description")," "),_.R7$(4),_.JRh(_.bMT(26,29,"Common.Required")),_.R7$(2),_.Y8G("ngIf",!ct.sortContains("required")),_.R7$(),_.Y8G("ngIf","required"===ct.sortCriteria),_.R7$(),_.Y8G("ngIf","-required"===ct.sortCriteria),_.R7$(3),_.JRh(_.bMT(33,31,"Common.UserEditable")),_.R7$(2),_.Y8G("ngIf",!ct.sortContains("userEditable")),_.R7$(),_.Y8G("ngIf","userEditable"===ct.sortCriteria),_.R7$(),_.Y8G("ngIf","-userEditable"===ct.sortCriteria),_.R7$(3),_.JRh(_.bMT(40,33,"Common.Reserved")),_.R7$(4),_.JRh(_.bMT(44,35,"Common.Actions")),_.R7$(3),_.Dyx(ct.claimTypes),_.R7$(2),_.Y8G("totalResults",null==ct.claimTypes?null:ct.claimTypes.length)}}function It(Ye,Xt){if(1&Ye&&_.DNE(0,ft,4,3,"div",10)(1,jn,49,37),2&Ye){const ct=_.XpG();_.vxM(0,(null==ct.claimTypes?null:ct.claimTypes.length)<1?0:1)}}let dt=(()=>{class Ye{constructor(ct,ye,Te,ve,ht,Ke,wt,gt){this.router=ct,this.claimTypeService=ye,this.errorService=Te,this.translate=ve,this.titleService=ht,this.localize=Ke,this.securityService=wt,this.activatedRoute=gt,this.sortCriteria="name",this.term="",this.isLoading=!0,this.sortStream=new hn.B,this.searchStream=new hn.B}ngOnInit(){this.hasPersistance=this.activatedRoute.snapshot?.data?.hasPersistance??!0,this.titleService.setTitle(this.translate.instant("Nav.ClaimTypes")+" - "+f.$9.SITE_TITLE);const ct=this.searchStream.pipe((0,ln.B)(300),(0,Mt.F)(),(0,xt.T)(ve=>(this.term=ve,{search:ve,sort:this.sortCriteria})));this.sortStream.pipe((0,xt.T)(ve=>(this.sortCriteria=ve,{search:this.term,sort:ve}))).pipe((0,z.h)(ct),(0,W.Z)({search:this.term,sort:this.sortCriteria}),(0,J.Z)(ve=>this.claimTypeService.getClaimTypes(ve.search,ve.sort,!0))).subscribe(ve=>{this.claimTypes=ve,this.isLoading=!1},ve=>{this.errorService.handleError(ve),this.isLoading=!1})}search(ct){this.searchStream.next(ct)}sort(ct){this.sortCriteria=this.sortCriteria.startsWith("-")?ct:"-"+ct,this.sortStream.next(this.sortCriteria)}sortContains(ct){return!!this.sortCriteria.includes(ct)}onSubmitted(ct){ct&&this.sortStream.next(this.sortCriteria)}viewOrEditClaimType(ct){this.isAllPermission?this.editClaimType(ct):this.viewClaimType(ct)}viewClaimType(ct){const ye=this.localize.translateRoute("/claim-types/view");this.router.navigate([ye,ct.id])}editClaimType(ct){const ye=this.localize.translateRoute("/claim-types");this.router.navigate([ye,ct.id])}get isAllPermission(){return(0,F.X4)(this.securityService.userPermissions)}get isAllPermissionReadOnly(){return(0,F.lK)(this.securityService.userPermissions)}get isIdentityServerManager(){return(0,F.jk)(this.securityService.userPermissions)}static{this.\u0275fac=function(ye){return new(ye||Ye)(_.rXU(e.Ix),_.rXU(N.X),_.rXU(x.I),_.rXU(y.c$),_.rXU(P.hE),_.rXU(h.QG),_.rXU(V.i),_.rXU(e.nX))}}static{this.\u0275cmp=_.VBU({type:Ye,selectors:[["ng-component"]],decls:9,vars:5,consts:[["addClaimTypeModal",""],[3,"title"],[3,"onSubmitted"],["id","claimTypeList",1,"tw-container","tw-mx-auto"],["id","readOnlyModeWarn",1,"tw-alert","tw-mb-4"],[1,"tw-font-bold"],[1,"tw-text-sm",3,"innerHTML"],[3,"onSearch","placeholder"],["right",""],[1,"tw-btn-success",3,"click"],["role","alert",1,"tw-alert"],["id","claimTypesTable",1,"datatable","selectable","hover"],["id","sortName",1,"tw-max-w-0","tw-cursor-pointer","md:tw-w-1/3","lg:tw-w-1/4",3,"click"],[1,"tw-mr-2"],["class","fad fa-sort",4,"ngIf"],["class","fas fa-caret-down",4,"ngIf"],["class","fas fa-caret-up",4,"ngIf"],[1,"tw-hidden","tw-cursor-pointer","md:tw-table-cell"],[1,"tw-hidden","tw-cursor-pointer","md:tw-table-cell",3,"click"],[1,"tw-hidden","tw-w-1/4","lg:tw-table-cell"],[1,"tw-hidden","tw-cursor-pointer","tw-text-center","xl:tw-table-cell",3,"click"],[1,"tw-w-1"],[1,"sr-only"],[1,"group"],["hidePager","true",3,"totalResults"],[1,"fad","fa-sort"],[1,"fas","fa-caret-down"],[1,"fas","fa-caret-up"],[1,"tw-max-w-0","tw-truncate",3,"click"],[1,"tw-text-blue-500"],[1,"tw-hidden","tw-truncate","md:tw-table-cell",3,"click"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell",3,"click"],[1,"tw-hidden","tw-text-center","xl:tw-table-cell",3,"click"],[1,"fas","fa-check","tw-text-green-500"],[3,"click"],["class","tw-pill",4,"ngIf"],["type","button",1,"tw-btn-link","tw-btn-small","editClaimType","group-hover:tw-text-blue-500",3,"click"],["id","viewOrEditIcon","aria-hidden","true",3,"ngClass"],[1,"fas","fa-times","tw-opacity-25"],[1,"tw-pill"]],template:function(ye,Te){if(1&ye){const ve=_.RV6();_.nrm(0,"app-title-bar",1),_.nI1(1,"translate"),_.j41(2,"app-add-claimtype",2,0),_.bIt("onSubmitted",function(Ke){return _.eBV(ve),_.Njj(Te.onSubmitted(Ke))}),_.k0s(),_.j41(4,"div",3),_.DNE(5,H,7,6,"div",4)(6,Ue,3,4)(7,et,1,0,"app-simple-loader")(8,It,2,1),_.k0s()}2&ye&&(_.Y8G("title",_.bMT(1,3,"Nav.ClaimTypes")),_.R7$(5),_.vxM(5,Te.hasPersistance?6:5),_.R7$(2),_.vxM(7,Te.isLoading?7:8))},dependencies:[i.YU,i.bT,Y.z,_e.B,Ce.n,st.S,Fe.d,Yt,y.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return Ye})();var Dt=p(3178),Vt=p(4446),Zt=p(8939),gn=p(2892),mn=p(8416);let zn=(()=>{class Ye{static{this.pathToConfigParamMap={"claim-types":"claimTypePeristance"}}}return Ye})();var Tn=p(9196);let pn=(()=>{class Ye{constructor(ct,ye,Te){this.router=ct,this.localizeRouter=ye,this.configService=Te}canActivate(ct,ye){var Te=ct.url.map(ht=>ht.path),ve=Te[Te.length-2];return this.configService.getConfig().pipe((0,xt.T)(ht=>{if(!1!==ht[zn.pathToConfigParamMap[ve]])return!0;Te.splice(Te.length-1,0,"view");var Ke=this.localizeRouter.translateRoute(`/${Te.join("/")}`);return this.router.navigate([Ke]),!1}))}static{this.\u0275fac=function(ye){return new(ye||Ye)(_.KVO(e.Ix),_.KVO(h.QG),_.KVO(Tn.w))}}static{this.\u0275prov=_.jDH({token:Ye,factory:Ye.\u0275fac})}}return Ye})(),ai=(()=>{class Ye{constructor(ct){this.configService=ct}resolve(ct){var ye=ct.url.map(ve=>ve.path),Te=ye[ye.length-1];return this.configService.getConfig().pipe((0,xt.T)(ve=>{var ht=ve[zn.pathToConfigParamMap[Te]];return!!(0,F.hX)(ht)||ht}))}static{this.\u0275fac=function(ye){return new(ye||Ye)(_.KVO(Tn.w))}}static{this.\u0275prov=_.jDH({token:Ye,factory:Ye.\u0275fac})}}return Ye})();const fi=[{path:"claim-types",component:dt,resolve:{hasPersistance:ai},canActivate:[gn.h,Vt._],data:{permissions:[Dt.a[Dt.a.UserManager],Dt.a[Dt.a.UserManagerReadOnly],Dt.a[Dt.a.AllReadOnly],Dt.a[Dt.a.All]]}},{path:"claim-types/:Id",component:vt,resolve:{resource:Zt.R},canDeactivate:[mn.M],canActivate:[gn.h,pn,Vt._],data:{permissions:[Dt.a[Dt.a.UserManager],Dt.a[Dt.a.All]]}},{path:"claim-types/view/:Id",loadChildren:()=>p.e(200).then(p.bind(p,2200)).then(Ye=>Ye.ClaimTypesModule),resolve:{resource:Zt.R},canActivate:[gn.h,Vt._],data:{permissions:[Dt.a[Dt.a.UserManager],Dt.a[Dt.a.UserManagerReadOnly],Dt.a[Dt.a.AllReadOnly],Dt.a[Dt.a.All]]}}];let qn=(()=>{class Ye{static{this.\u0275fac=function(ye){return new(ye||Ye)}}static{this.\u0275mod=_.$C({type:Ye})}static{this.\u0275inj=_.G2t({imports:[e.iI.forChild(fi),h.XE.forChild(fi),e.iI]})}}return Ye})();var Pi=p(8455),Kn=p(367),Si=p(5731),pi=p(4193),Wi=p(3665),Hi=p(7175),Ei=p(1993),qe=p(8389),St=p(3843),We=p(7677),Gt=p(1683),ot=p(4367);let Ht=(()=>{class Ye{static{this.\u0275fac=function(ye){return new(ye||Ye)}}static{this.\u0275mod=_.$C({type:Ye})}static{this.\u0275inj=_.G2t({providers:[Zt.R,ai,pn],imports:[qn,i.MD,v.YN,v.X1,D.qP,I.Ss,w.Q_,e.iI,y.h,Pi.p,h.XE,Kn.m,Si.i,pi.c,Wi.t,Hi.c,Ei.E,qe.w,St.G,We.N,Gt.Y,ot.N]})}}return Ye})()},7275:(lt,we,p)=>{"use strict";p.d(we,{Q:()=>f});var i=p(177),e=p(1780),v=p(779),y=p(4193),w=p(8251),I=p(8389),D=p(7677),h=p(4438);let f=(()=>{class E{static{this.\u0275fac=function(_){return new(_||E)}}static{this.\u0275mod=h.$C({type:E})}static{this.\u0275inj=h.G2t({imports:[v.Q_,e.h,i.MD,w.h,y.c,I.w,D.N]})}}return E})()},4652:(lt,we,p)=>{"use strict";p.d(we,{T:()=>ae});var i=p(4438),e=p(4252),v=p(7921),y=p(6303),w=p(4549),I=p(1589),D=p(1780),h=p(9812),f=p(779),E=p(177),F=p(8577),L=p(7294),_=p(8698),M=p(8762);const N=["deleteCertModal"],P=[[["","addButton",""]]],G=["[addButton]"],x=re=>[re],V=()=>({animated:!1,backdrop:"static"});function Q(re,Me){if(1&re){const Qe=i.RV6();i.j41(0,"button",13),i.bIt("click",function(){i.eBV(Qe);const Ne=i.XpG(3);return i.Njj(Ne.openDeleteModal(Ne.certificates[0]))}),i.EFF(1),i.nI1(2,"translate"),i.k0s()}if(2&re){const Qe=i.XpG(3);i.Y8G("disabled",Qe.deleteCertDisabled),i.R7$(),i.SpI(" ",i.bMT(2,2,"Clients.Saml.DeleteCert")," ")}}function Y(re,Me){if(1&re&&(i.j41(0,"app-action-bar",10),i.qex(1,11),i.SdG(2),i.DNE(3,Q,3,4,"button",12),i.bVm(),i.k0s()),2&re){const Qe=i.XpG(2);i.R7$(3),i.Y8G("ngIf",(null==Qe.certificates?null:Qe.certificates.length)>0)}}function le(re,Me){1&re&&(i.j41(0,"div",14),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&re&&(i.R7$(),i.SpI(" ",i.bMT(2,1,"Clients.Saml.CannotDeleteResponseCert")," "))}function fe(re,Me){1&re&&(i.j41(0,"div",15),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&re&&(i.R7$(),i.SpI(" ",i.bMT(2,1,"Clients.NoCertificates")," "))}function K(re,Me){if(1&re&&(i.qex(0),i.j41(1,"app-form-row",16),i.nrm(2,"app-readonly",17),i.k0s(),i.j41(3,"app-form-row",16),i.nrm(4,"app-readonly",17),i.k0s(),i.j41(5,"app-form-row",18),i.nrm(6,"app-readonly",17)(7,"p",19),i.k0s(),i.bVm()),2&re){const Qe=i.XpG(2);i.R7$(),i.Y8G("label","Common.Subject"),i.R7$(),i.Y8G("values",i.eq3(11,x,Qe.readOnlyCertificate.subject))("fieldType",Qe.ReadOnlyFieldType.Single),i.R7$(),i.Y8G("label","Common.Thumbprint"),i.R7$(),i.Y8G("values",i.eq3(13,x,Qe.readOnlyCertificate.thumbprint))("fieldType",Qe.ReadOnlyFieldType.Single),i.R7$(),i.Y8G("label","Common.ExpiresOn")("isLast",!0),i.R7$(),i.Y8G("values",i.eq3(15,x,Qe.readOnlyCertificate.expiration))("fieldType",Qe.ReadOnlyFieldType.Single),i.R7$(),i.Y8G("innerHTML",Qe.displayExpiry(null==Qe.readOnlyCertificate?null:Qe.readOnlyCertificate.expiration.MainText),i.npT)}}function ee(re,Me){if(1&re&&(i.j41(0,"div",5),i.DNE(1,Y,4,1,"app-action-bar",6)(2,le,3,3,"div",7)(3,fe,3,3,"div",8)(4,K,8,17,"ng-container",9),i.k0s()),2&re){const Qe=i.XpG();i.R7$(),i.Y8G("ngIf",!Qe.isReadOnly),i.R7$(),i.Y8G("ngIf",Qe.deleteCertDisabled&&!Qe.isReadOnly),i.R7$(),i.Y8G("ngIf",(null==Qe.certificates?null:Qe.certificates.length)<1),i.R7$(),i.Y8G("ngIf",1==(null==Qe.certificates?null:Qe.certificates.length)&&Qe.readOnlyCertificate)}}function ie(re,Me){if(1&re){const Qe=i.RV6();i.j41(0,"app-data-table",20),i.bIt("onDelete",function(Ne){i.eBV(Qe);const Je=i.XpG();return i.Njj(Je.openDeleteModal(Ne))}),i.nrm(1,"app-data-table-column",21)(2,"app-data-table-column",22)(3,"app-data-table-column",23),i.k0s()}if(2&re){const Qe=i.XpG();i.Y8G("isReadOnly",Qe.isReadOnly)("rows",Qe.certificates)("norowslabel","Clients.NoCertificates")("actions",Qe.dataTableActions),i.R7$(),i.Y8G("prop","subject")("title","Common.Subject")("cellClasses","tw-max-w-0 tw-truncate"),i.R7$(),i.Y8G("prop","thumbprint")("title","Common.Thumbprint")("headClasses","tw-hidden md:tw-table-cell")("cellClasses","tw-hidden tw-max-w-0 tw-truncate md:tw-table-cell"),i.R7$(),i.Y8G("prop","expiration")("formatter",Qe.displayExpiry.bind(Qe))("title","Common.ExpiresOn")("headClasses","tw-hidden tw-w-40 xs:tw-table-cell lg:tw-w-64")("cellClasses","tw-hidden xs:tw-table-cell")}}function T(re,Me){if(1&re){const Qe=i.RV6();i.j41(0,"div",24,0)(2,"div",25)(3,"div",26)(4,"div",27)(5,"h5",28),i.EFF(6),i.nI1(7,"translate"),i.k0s(),i.j41(8,"button",29),i.bIt("click",function(){i.eBV(Qe);const Ne=i.XpG();return i.Njj(Ne.closeDeleteModal())}),i.nrm(9,"span",30),i.j41(10,"span",31),i.EFF(11),i.nI1(12,"translate"),i.k0s()()(),i.j41(13,"div",32),i.nrm(14,"p",33),i.nI1(15,"translate"),i.k0s(),i.nrm(16,"div",34),i.j41(17,"div",35)(18,"div",36)(19,"div",37)(20,"button",38),i.bIt("click",function(){i.eBV(Qe);const Ne=i.XpG();return i.Njj(Ne.removeCert())}),i.EFF(21),i.nI1(22,"translate"),i.k0s()(),i.j41(23,"button",39),i.bIt("click",function(){i.eBV(Qe);const Ne=i.XpG();return i.Njj(Ne.closeDeleteModal())}),i.EFF(24),i.nI1(25,"translate"),i.k0s()()()()()()}2&re&&(i.Y8G("config",i.lJ4(16,V)),i.R7$(6),i.JRh(i.bMT(7,6,"Common.Delete.Confirm")),i.R7$(5),i.JRh(i.bMT(12,8,"Common.Close")),i.R7$(3),i.Y8G("innerHTML",i.bMT(15,10,"Common.Delete.Warning"),i.npT),i.R7$(7),i.JRh(i.bMT(22,12,"Common.Delete.Title")),i.R7$(3),i.JRh(i.bMT(25,14,"Common.Delete.No")))}let ae=(()=>{class re{set isReadOnly(Qe){this._isReadOnly=Qe||!1}get isReadOnly(){return this._isReadOnly}constructor(Qe,Le){this.translateService=Qe,this.dataTableService=Le,this.showSingle=!1,this.delete=new i.bkB,this.prettyDateTimePipe=new I.sp}ngOnDestroy(){this.dtsSubscription.unsubscribe()}ngOnInit(){this.dtsSubscription=this.dataTableService.deleteRowEvent.subscribe(Qe=>{this.openDeleteModal(Qe)})}ngOnChanges(){this.dataTableActions=this.isReadOnly?[]:[e.AA.Delete],this.readOnlyCertificate=this.showSingle&&this.certificates.length>0?new v.b(this.certificates[0]):null}openDeleteModal(Qe){this.certToDelete=this.showSingle?this.certificates[0]:this.certificates[Qe],this.deleteCertModal.show()}closeDeleteModal(){this.certToDelete=null,this.deleteCertModal.hide()}removeCert(){if(null==this.certToDelete)throw new Error("Delete called without target");this.delete.emit(this.certToDelete),this.deleteCertModal.hide()}displayExpiry(Qe){let Le=w.c9.fromISO(Qe);const Ne=this.daysUntilExpiry(Le);if(this.warnOfExpiry(Le)){let Je='<b class="tw-text-red-500"><span class="fas fa-exclamation-triangle tw-mr-1" aria-hidden="true"></span>{0} {1} {2}</b>';return Je=Je.replace("{0}",this.translateService.instant("Common.ExpiresIn")),Je=Je.replace("{1}",Ne.toString()),Je=Je.replace("{2}",this.translateService.instant("Common.UntilExpiry")),Je}return this.prettyDateTimePipe.transform(Qe)}warnOfExpiry(Qe){return this.daysUntilExpiry(Qe)<=30&&this.daysUntilExpiry(Qe)>=1}daysUntilExpiry(Qe){const Le=Qe.toMillis()-w.c9.now().toMillis();return Math.round(Le/864e5)}get ReadOnlyFieldType(){return y.t}static{this.\u0275fac=function(Le){return new(Le||re)(i.rXU(D.c$),i.rXU(h.I))}}static{this.\u0275cmp=i.VBU({type:re,selectors:[["app-saml-cert-list"]],viewQuery:function(Le,Ne){if(1&Le&&i.GBs(N,5),2&Le){let Je;i.mGM(Je=i.lsd())&&(Ne.deleteCertModal=Je.first)}},inputs:{certificates:"certificates",deleteCertDisabled:"deleteCertDisabled",showSingle:"showSingle",isReadOnly:"isReadOnly"},outputs:{delete:"delete"},features:[i.OA$],ngContentSelectors:G,decls:4,vars:3,consts:[["deleteCertModal","bs-modal"],["id","CertificateList"],["class","tw-mb-4",4,"ngIf"],[3,"isReadOnly","rows","norowslabel","actions","onDelete",4,"ngIf"],["bsModal","","id","deleteCertModal","class","modal","role","dialog","aria-hidden","true","tabindex","-1",3,"config",4,"ngIf"],[1,"tw-mb-4"],["id","deleteBtn",4,"ngIf"],["class","tw-alert-warning tw-mb-6","role","alert",4,"ngIf"],["class","tw-alert","role","alert",4,"ngIf"],[4,"ngIf"],["id","deleteBtn"],["right",""],["id","deleteCertBtn","class","tw-btn-danger","type","button",3,"disabled","click",4,"ngIf"],["id","deleteCertBtn","type","button",1,"tw-btn-danger",3,"click","disabled"],["role","alert",1,"tw-alert-warning","tw-mb-6"],["role","alert",1,"tw-alert"],[3,"label"],[3,"values","fieldType"],[3,"label","isLast"],[1,"tw-form-text",3,"innerHTML"],[3,"onDelete","isReadOnly","rows","norowslabel","actions"],[3,"prop","title","cellClasses"],[3,"prop","title","headClasses","cellClasses"],[3,"prop","formatter","title","headClasses","cellClasses"],["bsModal","","id","deleteCertModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog","modal-dialog--danger"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","tw-text-center","scrollbars"],[3,"innerHTML"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],[1,"tw-btn-danger",3,"click"],[1,"tw-btn-link","tw--mr-4",3,"click"]],template:function(Le,Ne){1&Le&&(i.NAR(P),i.j41(0,"div",1),i.DNE(1,ee,5,4,"div",2)(2,ie,4,16,"app-data-table",3),i.k0s(),i.DNE(3,T,26,17,"div",4)),2&Le&&(i.R7$(),i.Y8G("ngIf",Ne.showSingle),i.R7$(),i.Y8G("ngIf",!Ne.showSingle),i.R7$(),i.Y8G("ngIf",!Ne.isReadOnly))},dependencies:[f.hZ,E.bT,e.up,F.w,L.n,_.Y,M.O,D.D9],encapsulation:2,changeDetection:0})}}return re})()},6366:(lt,we,p)=>{"use strict";p.d(we,{z:()=>v});var i=p(4412),e=p(4438);let v=(()=>{class y{constructor(){this.unsavedCache=new i.t(null),this.unsavedCache$=this.unsavedCache.asObservable(),this.savedCache=new i.t(null),this.savedCache$=this.savedCache.asObservable(),this.componentDirtyValidMap=new Map}onSave(){this.componentDirtyValidMap.clear()}static{this.\u0275fac=function(D){return new(D||y)}}static{this.\u0275prov=e.jDH({token:y,factory:y.\u0275fac})}}return y})()},5691:(lt,we,p)=>{"use strict";p.d(we,{d:()=>v});var i=p(4412),e=p(4438);let v=(()=>{class y{constructor(){this.unsavedCache=new i.t(null),this.unsavedCache$=this.unsavedCache.asObservable(),this.savedCache=new i.t(null),this.savedCache$=this.savedCache.asObservable(),this.componentDirtyValidMap=new Map}onClientSave(){this.savedCache.next(this.unsavedCache.value),this.componentDirtyValidMap.clear()}static{this.\u0275fac=function(D){return new(D||y)}}static{this.\u0275prov=e.jDH({token:y,factory:y.\u0275fac})}}return y})()},2509:(lt,we,p)=>{"use strict";p.r(we),p.d(we,{SettingsModule:()=>Te});var i=p(177),e=p(9417),v=p(7005),y=p(779),w=p(1583),I=p(1780),D=p(4252),h=p(7185),f=p(4438),E=p(1626),F=p(9564);let L=(()=>{class ve{constructor(Ke,wt){this.http=Ke,this.headersService=wt,this.actionUrl="signingkey",this.headers=wt.setHeaders()}getKeys(){const Ke=new E.Nl;return this.http.get(this.actionUrl,{headers:this.headers,params:Ke})}deleteKey(Ke){return this.http.delete(`${this.actionUrl}/${Ke}`,{headers:this.headers})}static{this.\u0275fac=function(wt){return new(wt||ve)(f.KVO(E.Qq),f.KVO(F.m))}}static{this.\u0275prov=f.jDH({token:ve,factory:ve.\u0275fac,providedIn:"root"})}}return ve})();var _=p(5794),M=p(4754),N=p(9812),P=p(8577),G=p(3899);let x=(()=>{class ve{constructor(Ke,wt,gt,zt,Bn){this.keyService=Ke,this.toastr=wt,this.translate=gt,this.modalService=zt,this.dataTableService=Bn,this.keysDataTableActions=[D.AA.Delete],this.deleteModalType=h.q.Warning,this.deleteModalId="deleteKeyModal"}ngOnDestroy(){this.dtsSubscription.unsubscribe()}ngOnInit(){this.getSerializedKeys(),this.dtsSubscription=this.dataTableService.deleteRowEvent.subscribe(Ke=>{this.startDeleteKey(Ke)})}getSerializedKeys(){this.keyService.getKeys().subscribe(Ke=>{this.keys=Ke})}startDeleteKey(Ke){this.keyToDelete=this.keys[Ke],this.modalService.showById(this.deleteModalId,null)}deleteKey(){return this.keyService.deleteKey(this.keyToDelete.id).toPromise().then(Ke=>{this.toastr.success(this.translate.instant("Settings.Keys.RemovedKey"),this.translate.instant("Notifications.Success")),this.getSerializedKeys(),this.resetAndCloseDeleteModal()},Ke=>{this.toastr.error("Removed Key","Failed!")})}resetAndCloseDeleteModal(){this.keyToDelete=null,this.modalService.hideById(this.deleteModalId)}static{this.\u0275fac=function(wt){return new(wt||ve)(f.rXU(L),f.rXU(_.tw),f.rXU(I.c$),f.rXU(M.B),f.rXU(N.I))}}static{this.\u0275cmp=f.VBU({type:ve,selectors:[["app-list-keys"]],decls:14,vars:35,consts:[["id","keysList",1,"tw-container","tw-mx-auto"],["id","keysTable",3,"rows","actions","norowslabel"],[3,"title","headClasses","cellClasses","prop"],[3,"title","headClasses","cellClasses","prop","date"],[3,"title","headClasses","cellClasses","prop","isBoolean"],[3,"onCancel","onDelete","title","modalId","actions","modalType"],[1,"tw-text-center"],[1,"tw-mb-4"],[1,"tw-pill-danger",3,"innerHTML"]],template:function(wt,gt){1&wt&&(f.j41(0,"div",0)(1,"app-data-table",1),f.nrm(2,"app-data-table-column",2)(3,"app-data-table-column",2)(4,"app-data-table-column",2)(5,"app-data-table-column",3)(6,"app-data-table-column",4),f.k0s()(),f.j41(7,"app-custom-modal",5),f.bIt("onCancel",function(){return gt.resetAndCloseDeleteModal()})("onDelete",function(){return gt.deleteKey()}),f.j41(8,"div",6)(9,"p",7),f.EFF(10),f.nI1(11,"translate"),f.k0s(),f.nrm(12,"p",8),f.nI1(13,"translate"),f.k0s()()),2&wt&&(f.R7$(),f.Y8G("rows",gt.keys)("actions",gt.keysDataTableActions)("norowslabel","Settings.Keys.NoKeys"),f.R7$(),f.Y8G("title","Common.ID")("headClasses","tw-w-1/2")("cellClasses","tw-max-w-0 tw-truncate")("prop","id"),f.R7$(),f.Y8G("title","Settings.Keys.Version")("headClasses","tw-text-center")("cellClasses","tw-text-center")("prop","version"),f.R7$(),f.Y8G("title","Settings.Keys.Algorithm")("headClasses","tw-text-center")("cellClasses","tw-text-center")("prop","algorithm"),f.R7$(),f.Y8G("title","Settings.Keys.Created")("headClasses","tw-text-center")("cellClasses","tw-text-center")("prop","created")("date",!0),f.R7$(),f.Y8G("title","Settings.Keys.IsX509Certificate")("headClasses","tw-text-center")("cellClasses","tw-text-center")("prop","isX509Certificate")("isBoolean",!0),f.R7$(),f.Y8G("title","Settings.Keys.DeleteKey")("modalId",gt.deleteModalId)("actions",gt.keysDataTableActions)("modalType",gt.deleteModalType),f.R7$(3),f.JRh(f.bMT(11,31,"Common.Delete.AreYouSureSimple")),f.R7$(2),f.Y8G("innerHTML",f.bMT(13,33,"Common.Delete.Warning"),f.npT))},dependencies:[D.up,P.w,G.G,I.D9],encapsulation:2})}}return ve})();var V=p(1594),Q=p(6354),le=p(1258),fe=p(7756),K=p(5424),ee=p(3431),ie=p(7499),T=p(9196),ae=p(6728),re=p(6406),Me=p(8698),Qe=p(9550);function Le(ve,ht){if(1&ve&&(f.j41(0,"option",11),f.EFF(1),f.k0s()),2&ve){const Ke=ht.$implicit;f.Y8G("ngValue",Ke),f.R7$(),f.JRh(Ke)}}let Ne=(()=>{class ve{constructor(){}ngOnInit(){}toggle(){this.parentForm.controls[this.webhookName].get("enabled").value?(this.parentForm.controls[this.webhookName].get("url").disable(),this.parentForm.controls[this.webhookName].get("scopeName").disable()):(this.parentForm.controls[this.webhookName].get("url").enable(),this.parentForm.controls[this.webhookName].get("scopeName").enable())}static{this.\u0275fac=function(wt){return new(wt||ve)}}static{this.\u0275cmp=f.VBU({type:ve,selectors:[["app-edit-webhook"]],inputs:{webhookName:"webhookName",scopeNames:"scopeNames",parentForm:"parentForm"},decls:11,vars:14,consts:[[1,"tw-ml-8","tw-mr-8",3,"formGroup"],[3,"formGroupName"],[3,"id","label"],[3,"id","isTraffic","isAlt"],["formControlName","enabled","type","checkbox",1,"tw-form-switch__input",3,"click","id"],[3,"id","label","help"],["id","WebhookUrl","type","text","formControlName","url",1,"tw-form-control"],[3,"label","isLast"],[1,"tw-form-select"],["id","scopes","formControlName","scopeName",1,"tw-form-control"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"]],template:function(wt,gt){1&wt&&(f.j41(0,"div",0)(1,"form",1)(2,"app-form-row",2)(3,"app-form-toggle",3)(4,"input",4),f.bIt("click",function(){return gt.toggle()}),f.k0s()()(),f.j41(5,"app-form-row",5),f.nrm(6,"input",6),f.k0s(),f.j41(7,"app-form-row",7)(8,"div",8)(9,"select",9),f.DNE(10,Le,2,2,"option",10),f.k0s()()()()()),2&wt&&(f.Y8G("formGroup",gt.parentForm),f.R7$(),f.FS9("formGroupName",gt.webhookName),f.R7$(),f.Y8G("id","WebhookEnabled")("label","Webhooks.EnableWebhook"),f.R7$(),f.Y8G("id","WebhookEnabled"+gt.webhookName)("isTraffic",!0)("isAlt",!1),f.R7$(),f.Y8G("id","WebhookEnabled"+gt.webhookName),f.R7$(),f.Y8G("id","WebhookUrl")("label","Common.URL")("help","Webhooks.EnsureHttps"),f.R7$(2),f.Y8G("label","Webhooks.ProtectingScope")("isLast",!0),f.R7$(3),f.Y8G("ngForOf",gt.scopeNames))},dependencies:[i.Sq,e.qT,e.xH,e.y7,e.me,e.Zm,e.wz,e.BC,e.cb,e.cV,e.j4,e.JD,e.$R,Me.Y,Qe.m],encapsulation:2})}}return ve})();var Je=p(6303),Ee=p(7921),be=p(8762);const se=ve=>[ve];function Oe(ve,ht){if(1&ve&&(f.j41(0,"app-form-row",3),f.nrm(1,"app-readonly",2),f.k0s(),f.j41(2,"app-form-row",1),f.nrm(3,"app-readonly",2),f.k0s()),2&ve){const Ke=f.XpG();f.Y8G("id","WebhookUrl"+Ke.webhookName)("label","Common.URL")("help","Webhooks.EnsureHttps"),f.R7$(),f.Y8G("id","WebhookUrl"+Ke.webhookName)("fieldType",Ke.ReadOnlyFieldType.Single)("values",f.eq3(12,se,Ke.webhookValues.url)),f.R7$(),f.Y8G("id","WebhookScope"+Ke.webhookName)("label","Webhooks.ProtectingScope")("isLast",!0),f.R7$(),f.Y8G("id","WebhookScope"+Ke.webhookName)("fieldType",Ke.ReadOnlyFieldType.Single)("values",f.eq3(14,se,Ke.webhookValues.scopeName))}}let Ie=(()=>{class ve{get ReadOnlyFieldType(){return Je.t}constructor(){}ngOnChanges(){this.webhookValues=new Ee.b(this.webhook)}static{this.\u0275fac=function(wt){return new(wt||ve)}}static{this.\u0275cmp=f.VBU({type:ve,selectors:[["app-readonly-webhook"]],inputs:{webhookName:"webhookName",webhook:"webhook"},features:[f.OA$],decls:4,vars:9,consts:[[1,"tw-ml-8","tw-mr-8"],[3,"id","label","isLast"],[3,"id","fieldType","values"],[3,"id","label","help"]],template:function(wt,gt){1&wt&&(f.j41(0,"div",0)(1,"app-form-row",1),f.nrm(2,"app-readonly",2),f.k0s(),f.DNE(3,Oe,4,16),f.k0s()),2&wt&&(f.R7$(),f.Y8G("id","WebhookEnabled"+gt.webhookName)("label","Webhooks.EnableWebhook")("isLast",!gt.webhook.enabled),f.R7$(),f.Y8G("id","WebhookEnabled"+gt.webhookName)("fieldType",gt.ReadOnlyFieldType.Single)("values",f.eq3(7,se,gt.webhookValues.enabled)),f.R7$(),f.vxM(3,gt.webhook.enabled?3:-1))},dependencies:[Me.Y,be.O],encapsulation:2})}}return ve})();const it=["save"];function xe(ve,ht){if(1&ve&&(f.j41(0,"div",0)(1,"h2",5),f.EFF(2),f.nI1(3,"translate"),f.k0s(),f.nrm(4,"app-readonly-webhook",6),f.j41(5,"h2",5),f.EFF(6),f.nI1(7,"translate"),f.k0s(),f.nrm(8,"app-readonly-webhook",6),f.j41(9,"h2",5),f.EFF(10),f.nI1(11,"translate"),f.k0s(),f.nrm(12,"app-readonly-webhook",6),f.j41(13,"h2",5),f.EFF(14),f.nI1(15,"translate"),f.k0s(),f.nrm(16,"app-readonly-webhook",6),f.k0s()),2&ve){const Ke=f.XpG(2);f.R7$(2),f.JRh(f.bMT(3,12,"Webhooks.MultiFactorHeading")),f.R7$(2),f.Y8G("webhookName",Ke.webhookNames.MFAReset)("webhook",Ke.webhooksForm.get(Ke.webhookNames.MFAReset).value),f.R7$(2),f.JRh(f.bMT(7,14,"Webhooks.PasswordResetHeading")),f.R7$(2),f.Y8G("webhookName",Ke.webhookNames.PasswordReset)("webhook",Ke.webhooksForm.get(Ke.webhookNames.PasswordReset).value),f.R7$(2),f.JRh(f.bMT(11,16,"Webhooks.UserRegistrationHeading")),f.R7$(2),f.Y8G("webhookName",Ke.webhookNames.UserRegistration)("webhook",Ke.webhooksForm.get(Ke.webhookNames.UserRegistration).value),f.R7$(2),f.JRh(f.bMT(15,18,"Webhooks.ServerSideSessionDeleteHeading")),f.R7$(2),f.Y8G("webhookName",Ke.webhookNames.ServerSideSessionDelete)("webhook",Ke.webhooksForm.get(Ke.webhookNames.ServerSideSessionDelete).value)}}function pt(ve,ht){if(1&ve&&(f.j41(0,"div",1)(1,"div")(2,"p",2),f.EFF(3),f.nI1(4,"translate"),f.k0s(),f.nrm(5,"p",3),f.nI1(6,"translate"),f.k0s()(),f.DNE(7,xe,17,20,"div",4)),2&ve){const Ke=f.XpG();f.R7$(3),f.JRh(f.bMT(4,3,"Common.ReadOnlyModeWarningTitle")),f.R7$(2),f.Y8G("innerHTML",f.bMT(6,5,"Settings.Webhooks.ReadOnlyModeWarn"),f.npT),f.R7$(2),f.Y8G("ngIf",Ke.webhookConfiguration)}}function vt(ve,ht){if(1&ve&&(f.j41(0,"div",0)(1,"form",11)(2,"h2",5),f.EFF(3),f.nI1(4,"translate"),f.k0s(),f.nrm(5,"app-edit-webhook",12),f.j41(6,"h2",5),f.EFF(7),f.nI1(8,"translate"),f.k0s(),f.nrm(9,"app-edit-webhook",12),f.j41(10,"h2",5),f.EFF(11),f.nI1(12,"translate"),f.k0s(),f.nrm(13,"app-edit-webhook",12),f.j41(14,"h2",5),f.EFF(15),f.nI1(16,"translate"),f.k0s(),f.nrm(17,"app-edit-webhook",12),f.k0s()()),2&ve){const Ke=f.XpG(2);f.R7$(),f.Y8G("formGroup",Ke.webhooksForm),f.R7$(2),f.JRh(f.bMT(4,17,"Webhooks.MultiFactorHeading")),f.R7$(2),f.Y8G("webhookName",Ke.webhookNames.MFAReset)("scopeNames",Ke.scopeNames)("parentForm",Ke.webhooksForm),f.R7$(2),f.JRh(f.bMT(8,19,"Webhooks.PasswordResetHeading")),f.R7$(2),f.Y8G("webhookName",Ke.webhookNames.PasswordReset)("scopeNames",Ke.scopeNames)("parentForm",Ke.webhooksForm),f.R7$(2),f.JRh(f.bMT(12,21,"Webhooks.UserRegistrationHeading")),f.R7$(2),f.Y8G("webhookName",Ke.webhookNames.UserRegistration)("scopeNames",Ke.scopeNames)("parentForm",Ke.webhooksForm),f.R7$(2),f.JRh(f.bMT(16,23,"Webhooks.ServerSideSessionDeleteHeading")),f.R7$(2),f.Y8G("webhookName",Ke.webhookNames.ServerSideSessionDelete)("scopeNames",Ke.scopeNames)("parentForm",Ke.webhooksForm)}}function hn(ve,ht){if(1&ve){const Ke=f.RV6();f.DNE(0,vt,18,25,"div",4),f.j41(1,"app-custom-modal",7),f.bIt("onCancel",function(){f.eBV(Ke);const gt=f.XpG();return f.Njj(gt.cancelWebhookUpdate())})("onSave",function(){f.eBV(Ke);const gt=f.XpG();return f.Njj(gt.acceptClientCreation())}),f.j41(2,"h2",8),f.EFF(3),f.nI1(4,"translate"),f.k0s(),f.j41(5,"p",9),f.EFF(6),f.nI1(7,"translate"),f.k0s()(),f.j41(8,"app-custom-modal",7),f.bIt("onCancel",function(){f.eBV(Ke);const gt=f.XpG();return f.Njj(gt.cancelWebhookUpdate())})("onSave",function(){f.eBV(Ke);const gt=f.XpG();return f.Njj(gt.acceptClientCreation())}),f.j41(9,"h2",8),f.EFF(10),f.nI1(11,"translate"),f.k0s(),f.j41(12,"p",9),f.EFF(13),f.nI1(14,"translate"),f.k0s()(),f.j41(15,"app-button-bar")(16,"button",10),f.bIt("click",function(){f.eBV(Ke);const gt=f.XpG();return f.Njj(gt.processWebhookConfigurationUpdate())}),f.EFF(17),f.nI1(18,"translate"),f.k0s()()}if(2&ve){const Ke=f.XpG();f.Y8G("ngIf",Ke.webhookConfiguration),f.R7$(),f.Y8G("saveText","Common.Continue")("actions",Ke.confirmationModalActions)("title","Webhooks.ClientCreationWarningTitle")("modalId",Ke.clientCreationConfirmationModalId),f.R7$(2),f.JRh(f.bMT(4,15,"Common.Warning")),f.R7$(3),f.SpI(" ",f.bMT(7,17,"Webhooks.ClientCreationWarningDescription")," "),f.R7$(2),f.Y8G("saveText","Common.Continue")("actions",Ke.confirmationModalActions)("title","Webhooks.ClientDeletionWarningTitle")("modalId",Ke.clientDeletionConfirmationModalId),f.R7$(2),f.JRh(f.bMT(11,19,"Common.Warning")),f.R7$(3),f.SpI(" ",f.bMT(14,21,"Webhooks.ClientDeletionWarningDescription")," "),f.R7$(3),f.Y8G("disabled",Ke.saveLock),f.R7$(),f.SpI(" ",f.bMT(18,23,"Common.Save")," ")}}let ln=(()=>{class ve{constructor(Ke,wt,gt,zt,Bn,ni,gi,ei,ji){this.activatedRoute=Ke,this.errorService=wt,this.fb=gt,this.webhookService=zt,this.translate=Bn,this.toastr=ni,this.modalService=gi,this.dialogService=ei,this.uiConfig=ji,this.webhookNames=fe.EK,this.saveLock=!1,this.clientCreationConfirmationModalId="clientCreationConfirmationModalId",this.clientDeletionConfirmationModalId="clientDeletionConfirmationModalId",this.confirmationModalActions=[le.N.Save],this.isReadOnly=!1}ngOnInit(){this.uiConfig.getConfig().pipe((0,V.$)()).subscribe({next:Ke=>{this.isReadOnly=!Ke.webhookPersistence}}),this.activatedRoute.data.pipe(function Y(...ve){const ht=ve.length;if(0===ht)throw new Error("list of properties cannot be empty.");return(0,Q.T)(Ke=>{let wt=Ke;for(let gt=0;gt<ht;gt++){const zt=wt?.[ve[gt]];if(!(typeof zt<"u"))return;wt=zt}return wt})}("webhookResolverObject")).subscribe(Ke=>{this.webhookConfiguration=Ke.webhookConfiguration,this.webhooksEnabled=this.checkWebhooksEnabled(),this.scopeNames=Ke.scopeNames,this.webhooksForm=this.fb.group({[fe.EK.MFAReset]:this.createFormGroup(this.webhookConfiguration.webhooks.MfaReset),[fe.EK.PasswordReset]:this.createFormGroup(this.webhookConfiguration.webhooks.PasswordReset),[fe.EK.UserRegistration]:this.createFormGroup(this.webhookConfiguration.webhooks.UserRegistration),[fe.EK.ServerSideSessionDelete]:this.createFormGroup(this.webhookConfiguration.webhooks.ServerSideSessionDelete)}),this.saveLock=!0,this.webhooksForm.valueChanges.subscribe(wt=>{this.saveLock=!(this.webhooksForm.controls[fe.EK.MFAReset].valid&&this.webhooksForm.controls[fe.EK.PasswordReset].valid&&this.webhooksForm.controls[fe.EK.UserRegistration].valid&&this.webhooksForm.controls[fe.EK.ServerSideSessionDelete].valid)})},Ke=>{this.errorService.handleError(Ke)})}createFormGroup(Ke){return this.fb.group({url:[{value:Ke.url,disabled:!Ke.enabled},e.k0.required],scopeName:[{value:Ke.scopeName,disabled:!Ke.enabled}],enabled:[Ke.enabled]})}processWebhookConfigurationUpdate(){const Ke=this.getWebhookFormValues();return!this.webhooksEnabled&&this.checkAnyWebhooksEnabled(Ke)?this.modalService.showById(this.clientCreationConfirmationModalId,this.saveButtonRef):this.webhooksEnabled&&this.checkAllWebhooksDisabled(Ke)?this.modalService.showById(this.clientDeletionConfirmationModalId,this.saveButtonRef):void this.saveWebhookConfiguration()}saveWebhookConfiguration(){const Ke=this.getWebhookFormValues();this.webhookService.saveWebhookConfiguration(Ke).subscribe(()=>{this.toastr.success(this.translate.instant("Webhooks.WebhookConfigurationUpdated"),this.translate.instant("Notifications.Success")),this.webhookService.getWebhooks().subscribe(wt=>{this.webhookConfiguration=wt,this.webhooksEnabled=this.checkWebhooksEnabled()},wt=>{this.errorService.handleError(wt)}),this.webhooksForm.markAsPristine()},wt=>{this.errorService.handleError(wt)})}cancelWebhookUpdate(){this.modalService.hideById(this.clientCreationConfirmationModalId)}acceptClientCreation(){this.saveWebhookConfiguration()}getWebhookFormValues(){const Ke=this.webhooksForm.getRawValue();return new fe.m8(Ke.MfaReset,Ke.PasswordReset,Ke.UserRegistration,Ke.ServerSideSessionDelete)}checkWebhooksEnabled(){return this.webhookConfiguration.webhooks.PasswordReset.enabled||this.webhookConfiguration.webhooks.UserRegistration.enabled||this.webhookConfiguration.webhooks.MfaReset.enabled||this.webhookConfiguration.webhooks.ServerSideSessionDelete.enabled}checkAnyWebhooksEnabled(Ke){return Ke.webhooks.PasswordReset.enabled||Ke.webhooks.UserRegistration.enabled||Ke.webhooks.MfaReset.enabled||Ke.webhooks.ServerSideSessionDelete.enabled}checkAllWebhooksDisabled(Ke){return!(Ke.webhooks.PasswordReset.enabled||Ke.webhooks.UserRegistration.enabled||Ke.webhooks.MfaReset.enabled||Ke.webhooks.ServerSideSessionDelete.enabled)}canDeactivate(){return!this.webhooksForm.dirty||(this.dialogService.confirm(),this.dialogService.eventStream)}static{this.\u0275fac=function(wt){return new(wt||ve)(f.rXU(w.nX),f.rXU(K.I),f.rXU(e.ze),f.rXU(ee.x),f.rXU(I.c$),f.rXU(_.tw),f.rXU(M.B),f.rXU(ie.o),f.rXU(T.w))}}static{this.\u0275cmp=f.VBU({type:ve,selectors:[["app-manage-webhooks"]],viewQuery:function(wt,gt){if(1&wt&&f.GBs(it,5),2&wt){let zt;f.mGM(zt=f.lsd())&&(gt.saveButtonRef=zt.first)}},decls:4,vars:1,consts:[[1,"tw-container","tw-mx-auto"],["id","readOnlyModeWarn",1,"tw-alert","tw-mb-4"],[1,"tw-font-bold"],[1,"tw-text-sm",3,"innerHTML"],["class","tw-container tw-mx-auto",4,"ngIf"],[1,"tw-mb-6","tw-mt-8","tw-font-semibold","tw-text-lg"],[3,"webhookName","webhook"],[3,"onCancel","onSave","saveText","actions","title","modalId"],[1,"tw-text-xl","tw-font-semibold","md:tw-text-2xl"],["role","alert",1,"tw-alert-warning","tw-mb-4","tw-mt-4"],["id","save",1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"click","disabled"],[3,"formGroup"],[3,"webhookName","scopeNames","parentForm"]],template:function(wt,gt){1&wt&&(f.j41(0,"div",0),f.DNE(1,pt,8,7)(2,hn,19,25),f.k0s(),f.nrm(3,"app-can-deactivate")),2&wt&&(f.R7$(),f.vxM(1,gt.isReadOnly?1:2))},dependencies:[i.bT,e.qT,e.cb,e.j4,ae.E,re.z,G.G,Ne,Ie,I.D9],encapsulation:2})}}return ve})();class Mt{}var xt=p(4549);let z=(()=>{class ve{constructor(Ke,wt){this.http=Ke,this.headersService=wt,this.actionUrl="policy",this.headers=wt.setHeaders()}getAccessPolicy(){return this.http.get(this.actionUrl,{headers:this.headers})}updateAccessPolicy(Ke){return this.http.put(this.actionUrl,Ke,{headers:this.headers})}static{this.\u0275fac=function(wt){return new(wt||ve)(f.KVO(E.Qq),f.KVO(F.m))}}static{this.\u0275prov=f.jDH({token:ve,factory:ve.\u0275fac})}}return ve})();var W=p(6801),J=p(7156),_e=p(7384),Ce=p(7294),st=p(7778);class Fe{constructor(ht,Ke,wt){this.isDateTime=!1,this.type=ht,this.value=Ke,this.permission=wt}}var rt=p(7811),kt=p(6536);const mt=["addPolicyModal"],tt=()=>({animated:!1,backdrop:"static"});function $t(ve,ht){if(1&ve&&(f.j41(0,"option"),f.EFF(1),f.k0s()),2&ve){const Ke=ht.$implicit;f.R7$(),f.SpI(" ",null==Ke?null:Ke.name," ")}}function en(ve,ht){if(1&ve){const Ke=f.RV6();f.j41(0,"input",31),f.mxI("ngModelChange",function(gt){f.eBV(Ke);const zt=f.XpG();return f.DH7(zt.value,gt)||(zt.value=gt),f.Njj(gt)}),f.k0s()}if(2&ve){const Ke=f.XpG();f.R50("ngModel",Ke.value)}}function Ot(ve,ht){if(1&ve&&(f.j41(0,"option"),f.EFF(1),f.k0s()),2&ve){const Ke=ht.$implicit;f.R7$(),f.SpI(" ",null==Ke?null:Ke.name," ")}}function Yt(ve,ht){if(1&ve){const Ke=f.RV6();f.j41(0,"div",11)(1,"select",32),f.mxI("ngModelChange",function(gt){f.eBV(Ke);const zt=f.XpG();return f.DH7(zt.value,gt)||(zt.value=gt),f.Njj(gt)}),f.DNE(2,Ot,2,1,"option",13),f.k0s()()}if(2&ve){const Ke=f.XpG();f.R7$(),f.R50("ngModel",Ke.value),f.R7$(),f.Y8G("ngForOf",Ke.avaliableRoles)}}function je(ve,ht){if(1&ve){const Ke=f.RV6();f.j41(0,"input",31),f.mxI("ngModelChange",function(gt){f.eBV(Ke);const zt=f.XpG();return f.DH7(zt.value,gt)||(zt.value=gt),f.Njj(gt)}),f.k0s()}if(2&ve){const Ke=f.XpG();f.R50("ngModel",Ke.value)}}function oe(ve,ht){if(1&ve){const Ke=f.RV6();f.j41(0,"input",33),f.mxI("ngModelChange",function(gt){f.eBV(Ke);const zt=f.XpG();return f.DH7(zt.value,gt)||(zt.value=gt),f.Njj(gt)}),f.k0s()}if(2&ve){const Ke=f.XpG();f.R50("ngModel",Ke.value)}}function H(ve,ht){if(1&ve){const Ke=f.RV6();f.j41(0,"div",11)(1,"select",32),f.mxI("ngModelChange",function(gt){f.eBV(Ke);const zt=f.XpG();return f.DH7(zt.value,gt)||(zt.value=gt),f.Njj(gt)}),f.j41(2,"option",34),f.EFF(3),f.nI1(4,"translate"),f.k0s(),f.j41(5,"option",35),f.EFF(6),f.nI1(7,"translate"),f.k0s()()()}if(2&ve){const Ke=f.XpG();f.R7$(),f.R50("ngModel",Ke.value),f.R7$(2),f.JRh(f.bMT(4,3,"Common.True")),f.R7$(3),f.JRh(f.bMT(7,5,"Common.False"))}}function te(ve,ht){if(1&ve){const Ke=f.RV6();f.j41(0,"div",36)(1,"app-enum-claim-type-input",37),f.bIt("valueChanged",function(gt){f.eBV(Ke);const zt=f.XpG();return f.Njj(zt.value=gt)}),f.k0s()()}if(2&ve){const Ke=f.XpG();f.Y8G("id","value-for-"+Ke.selectedClaimType.id),f.R7$(),f.Y8G("id","claimsFormInput")("typeId",Ke.selectedClaimType.id)("hostingModal","addPolicyModal")("value",Ke.value)}}function Ue(ve,ht){if(1&ve){const Ke=f.RV6();f.qex(0),f.j41(1,"app-date-time",40),f.mxI("ngModelChange",function(gt){f.eBV(Ke);const zt=f.XpG(2);return f.DH7(zt.value,gt)||(zt.value=gt),f.Njj(gt)}),f.k0s(),f.bVm()}if(2&ve){const Ke=f.XpG(2);f.R7$(),f.R50("ngModel",Ke.value)}}function et(ve,ht){if(1&ve){const Ke=f.RV6();f.qex(0),f.j41(1,"app-date-time",41),f.mxI("ngModelChange",function(gt){f.eBV(Ke);const zt=f.XpG(2);return f.DH7(zt.value,gt)||(zt.value=gt),f.Njj(gt)}),f.k0s(),f.bVm()}if(2&ve){const Ke=f.XpG(2);f.R7$(),f.R50("ngModel",Ke.value),f.Y8G("displayType","date")}}function ft(ve,ht){if(1&ve&&(f.j41(0,"div",38),f.DNE(1,Ue,2,1,"ng-container",39)(2,et,2,2,"ng-container",39),f.k0s()),2&ve){const Ke=f.XpG();f.R7$(),f.Y8G("ngIf","birthdate"!=Ke.claimType),f.R7$(),f.Y8G("ngIf","birthdate"==Ke.claimType)}}function Ft(ve,ht){if(1&ve&&(f.j41(0,"option",42),f.EFF(1),f.nI1(2,"translate"),f.k0s()),2&ve){const Ke=ht.$implicit;f.FS9("value",Ke),f.R7$(),f.SpI(" ",f.bMT(2,2,"Permission."+Ke)," ")}}let sn=(()=>{class ve{constructor(Ke){this.toastr=Ke,this.added=new f.bkB,this.addAnother=!1}keydown(Ke){"Enter"===Ke.key&&this.isValid()&&this.addPolicy()}getClaimType(){this.selectedClaimType=this.avaliableClaimTypes.find(Ke=>Ke.name===this.claimType)}isValid(){return null!=this.claimType&&null!=this.value&&null!=this.permission}addAnotherPolicy(){this.addAnother=!0,this.addPolicy()}addPolicy(){const Ke=new Fe(this.claimType,this.value,this.permission);this.added.next(Ke),this.addAnother?(this.reset(),this.addAnother=!1):this.hide()}reset(){this.selectedClaimType=void 0,this.claimType=void 0,this.value=void 0,this.permission=void 0}hide(){this.addPolicyModal.hide()}show(){this.reset(),this.addPolicyModal.show()}ngOnDestroy(){this.hide()}static{this.\u0275fac=function(wt){return new(wt||ve)(f.rXU(_.tw))}}static{this.\u0275cmp=f.VBU({type:ve,selectors:[["app-add-accesspolicy"]],viewQuery:function(wt,gt){if(1&wt&&f.GBs(mt,7),2&wt){let zt;f.mGM(zt=f.lsd())&&(gt.addPolicyModal=zt.first)}},hostBindings:function(wt,gt){1&wt&&f.bIt("keydown",function(Bn){return gt.keydown(Bn)},!1,f.EBC)},inputs:{avaliableClaimTypes:"avaliableClaimTypes",avaliableRoles:"avaliableRoles",avaliablePermissions:"avaliablePermissions",accessPolicy:"accessPolicy"},outputs:{added:"added"},decls:46,vars:38,consts:[["addPolicyModal","bs-modal"],["bsModal","","id","addPolicyModal","tabindex","-1","role","dialog","aria-hidden","true",1,"modal",3,"config"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","scrollbars"],[3,"id","label"],[1,"tw-form-select"],["id","addClaimType","required","",1,"tw-form-control",3,"ngModelChange","ngModel"],[4,"ngFor","ngForOf"],[3,"id","label","help"],["id","formClaimValue","class","tw-form-control","type","text","required","",3,"ngModel","ngModelChange",4,"ngIf"],["class","tw-form-select",4,"ngIf"],["id","formClaimValue","class","tw-form-control","type","number","required","",3,"ngModel","ngModelChange",4,"ngIf"],["class","",3,"id",4,"ngIf"],["class","tw-w-full sm:tw-max-w-2xl",4,"ngIf"],[3,"id","label","isLast"],["id","addClaimPermission","required","",1,"tw-form-control",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["type","submit","id","addPolicySubmit",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],[1,"tw-hidden","xs:tw-inline"],["type","button","id","addPolicyReSubmit",1,"tw-btn",3,"click","disabled"],[1,"tw-btn-link","tw--mr-4",3,"click"],["id","formClaimValue","type","text","required","",1,"tw-form-control",3,"ngModelChange","ngModel"],["id","formClaimValue","required","",1,"tw-form-control",3,"ngModelChange","ngModel"],["id","formClaimValue","type","number","required","",1,"tw-form-control",3,"ngModelChange","ngModel"],["value","true"],["value","false"],[1,"",3,"id"],[3,"valueChanged","id","typeId","hostingModal","value"],[1,"tw-w-full","sm:tw-max-w-2xl"],[4,"ngIf"],["id","formClaimValue","required","true",3,"ngModelChange","ngModel"],["id","formClaimValue","required","true",3,"ngModelChange","ngModel","displayType"],[3,"value"]],template:function(wt,gt){if(1&wt){const zt=f.RV6();f.j41(0,"div",1,0)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),f.EFF(6),f.nI1(7,"translate"),f.k0s(),f.j41(8,"button",6),f.bIt("click",function(){return f.eBV(zt),f.Njj(gt.hide())}),f.nrm(9,"span",7),f.j41(10,"span",8),f.EFF(11),f.nI1(12,"translate"),f.k0s()()(),f.j41(13,"div",9)(14,"app-form-row",10)(15,"div",11)(16,"select",12),f.mxI("ngModelChange",function(ni){return f.eBV(zt),f.DH7(gt.claimType,ni)||(gt.claimType=ni),f.Njj(ni)}),f.bIt("ngModelChange",function(){return f.eBV(zt),f.Njj(gt.getClaimType())}),f.nrm(17,"option"),f.DNE(18,$t,2,1,"option",13),f.k0s()()(),f.j41(19,"app-form-row",14),f.DNE(20,en,1,1,"input",15)(21,Yt,3,2,"div",16)(22,je,1,1,"input",15)(23,oe,1,1,"input",17)(24,H,8,7,"div",16)(25,te,2,5,"div",18)(26,ft,3,2,"div",19),f.k0s(),f.j41(27,"app-form-row",20)(28,"div",11)(29,"select",21),f.mxI("ngModelChange",function(ni){return f.eBV(zt),f.DH7(gt.permission,ni)||(gt.permission=ni),f.Njj(ni)}),f.nrm(30,"option"),f.DNE(31,Ft,3,4,"option",22),f.k0s()()()(),f.nrm(32,"div",23),f.j41(33,"div",24)(34,"div",25)(35,"div",26)(36,"button",27),f.bIt("click",function(){return f.eBV(zt),gt.addPolicy(),f.Njj(gt.hide())}),f.EFF(37),f.nI1(38,"translate"),f.k0s(),f.j41(39,"span",28)(40,"button",29),f.bIt("click",function(){return f.eBV(zt),f.Njj(gt.addAnotherPolicy())}),f.EFF(41),f.nI1(42,"translate"),f.k0s()()(),f.j41(43,"button",30),f.bIt("click",function(){return f.eBV(zt),f.Njj(gt.hide())}),f.EFF(44),f.nI1(45,"translate"),f.k0s()()()()()()}2&wt&&(f.Y8G("config",f.lJ4(37,tt)),f.R7$(6),f.JRh(f.bMT(7,27,"Settings.AccessPolicy.NewPolicy")),f.R7$(5),f.JRh(f.bMT(12,29,"Common.Close")),f.R7$(3),f.Y8G("id","addClaimType")("label","Settings.AccessPolicy.ClaimType"),f.R7$(2),f.R50("ngModel",gt.claimType),f.R7$(2),f.Y8G("ngForOf",gt.avaliableClaimTypes),f.R7$(),f.Y8G("id","formClaimValue")("label","Settings.AccessPolicy.ClaimValue")("help","DateTime"==(null==gt.selectedClaimType?null:gt.selectedClaimType.valueType)?"Common.Dates.UTCWarning":""),f.R7$(),f.Y8G("ngIf",null==gt.claimType||""==gt.claimType),f.R7$(),f.Y8G("ngIf","role"==gt.claimType),f.R7$(),f.Y8G("ngIf","String"==(null==gt.selectedClaimType?null:gt.selectedClaimType.valueType)&&"role"!=gt.claimType),f.R7$(),f.Y8G("ngIf","Int"==(null==gt.selectedClaimType?null:gt.selectedClaimType.valueType)&&"role"!=gt.claimType),f.R7$(),f.Y8G("ngIf","Boolean"==(null==gt.selectedClaimType?null:gt.selectedClaimType.valueType)&&"role"!=gt.claimType),f.R7$(),f.Y8G("ngIf","Enum"==(null==gt.selectedClaimType?null:gt.selectedClaimType.valueType)),f.R7$(),f.Y8G("ngIf","DateTime"==(null==gt.selectedClaimType?null:gt.selectedClaimType.valueType)&&"role"!=gt.claimType),f.R7$(),f.Y8G("id","addClaimPermission")("label","Settings.AccessPolicy.Permission")("isLast",!0),f.R7$(2),f.R50("ngModel",gt.permission),f.R7$(2),f.Y8G("ngForOf",gt.avaliablePermissions),f.R7$(5),f.Y8G("disabled",!gt.isValid()),f.R7$(),f.JRh(f.bMT(38,31,"Common.Add")),f.R7$(3),f.Y8G("disabled",!gt.isValid()),f.R7$(),f.JRh(f.bMT(42,33,"Common.AddAndAdd")),f.R7$(3),f.JRh(f.bMT(45,35,"Common.Cancel")))},dependencies:[i.Sq,i.bT,e.xH,e.y7,e.me,e.Q0,e.wz,e.BC,e.YS,e.vS,y.hZ,Me.Y,rt.j,kt.Z,I.D9],encapsulation:2})}}return ve})();var cn=p(1589);const In=["deleteAccessPolicyModal"],An=(ve,ht)=>ht.type+ht.value+ht.permission,Fn=ve=>({"inactive disabled":ve});function Pn(ve,ht){if(1&ve){const Ke=f.RV6();f.j41(0,"app-action-bar"),f.qex(1,10),f.j41(2,"button",11),f.bIt("click",function(){f.eBV(Ke),f.XpG();const gt=f.sdS(1);return f.Njj(gt.show())}),f.EFF(3),f.nI1(4,"translate"),f.k0s(),f.bVm(),f.k0s()}2&ve&&(f.R7$(3),f.SpI(" ",f.bMT(4,1,"Settings.AccessPolicy.Add")," "))}function ki(ve,ht){1&ve&&(f.j41(0,"div",5)(1,"div")(2,"p",12),f.EFF(3),f.nI1(4,"translate"),f.k0s(),f.nrm(5,"p",13),f.nI1(6,"translate"),f.k0s()()),2&ve&&(f.R7$(3),f.JRh(f.bMT(4,2,"Common.ReadOnlyModeWarningTitle")),f.R7$(2),f.Y8G("innerHTML",f.bMT(6,4,"Settings.AccessPolicy.ReadOnlyModeWarn"),f.npT))}function wi(ve,ht){1&ve&&f.nrm(0,"app-simple-loader")}function Rt(ve,ht){1&ve&&(f.j41(0,"th",18)(1,"span",19),f.EFF(2),f.nI1(3,"translate"),f.k0s()()),2&ve&&(f.R7$(2),f.JRh(f.bMT(3,1,"Common.Actions")))}function Wt(ve,ht){if(1&ve&&(f.j41(0,"td",25),f.EFF(1),f.k0s()),2&ve){const Ke=f.XpG().$implicit;f.R7$(),f.SpI(" ",Ke.value," ")}}function _t(ve,ht){if(1&ve&&(f.j41(0,"td",25),f.EFF(1),f.nI1(2,"standardDate"),f.k0s()),2&ve){const Ke=f.XpG().$implicit;f.R7$(),f.SpI(" ",f.bMT(2,1,Ke.value)," ")}}function Nt(ve,ht){1&ve&&(f.j41(0,"span",24),f.EFF(1),f.nI1(2,"translate"),f.k0s()),2&ve&&(f.R7$(),f.SpI(" ",f.bMT(2,1,"Common.Reserved")," "))}function tn(ve,ht){if(1&ve){const Ke=f.RV6();f.j41(0,"button",27),f.bIt("click",function(){f.eBV(Ke);const gt=f.XpG(2).$implicit,zt=f.XpG(3);return f.Njj(zt.openDeletePolicyConfirmation(gt.type,gt.value,gt.permission))}),f.nrm(1,"span",28),f.j41(2,"span",19),f.EFF(3),f.nI1(4,"translate"),f.k0s()()}2&ve&&(f.R7$(3),f.SpI(" ",f.bMT(4,1,"Common.Remove.Title")," "))}function En(ve,ht){if(1&ve&&(f.j41(0,"td"),f.DNE(1,tn,5,3,"button",26),f.k0s()),2&ve){const Ke=f.XpG().$implicit,wt=f.XpG(3);f.R7$(),f.vxM(1,wt.isAdminUiAdmin(Ke)?-1:1)}}function Ln(ve,ht){if(1&ve&&(f.j41(0,"tr",20)(1,"td",21)(2,"b"),f.EFF(3),f.k0s()(),f.DNE(4,Wt,2,1,"td",22)(5,_t,3,3,"ng-template",null,2,f.C5r),f.j41(7,"td",23),f.EFF(8),f.nI1(9,"translate"),f.k0s(),f.j41(10,"td"),f.DNE(11,Nt,3,3,"span",24),f.k0s(),f.DNE(12,En,2,1,"td"),f.k0s()),2&ve){const Ke=ht.$implicit,wt=f.sdS(6),gt=f.XpG(3);f.Y8G("ngClass",f.eq3(9,Fn,!gt.persistenceSetup||gt.isAdminUiAdmin(Ke))),f.R7$(3),f.JRh(Ke.type),f.R7$(),f.Y8G("ngIf",!Ke.isDateTime)("ngIfElse",wt),f.R7$(4),f.SpI(" ",f.bMT(9,7,"Permission."+Ke.permission)," "),f.R7$(3),f.vxM(11,gt.isAdminUiAdmin(Ke)?11:-1),f.R7$(),f.vxM(12,gt.persistenceSetup?12:-1)}}function un(ve,ht){if(1&ve&&(f.j41(0,"table",6)(1,"thead")(2,"tr")(3,"th",15),f.EFF(4),f.nI1(5,"translate"),f.k0s(),f.j41(6,"th",16),f.EFF(7),f.nI1(8,"translate"),f.k0s(),f.j41(9,"th",17),f.EFF(10),f.nI1(11,"translate"),f.k0s(),f.j41(12,"th",18)(13,"span",19),f.EFF(14),f.nI1(15,"translate"),f.k0s()(),f.DNE(16,Rt,4,3,"th",18),f.k0s()(),f.j41(17,"tbody"),f.Z7z(18,Ln,13,11,"tr",20,An),f.k0s(),f.nrm(20,"tbody"),f.k0s()),2&ve){const Ke=f.XpG(2);f.R7$(4),f.JRh(f.bMT(5,5,"Settings.AccessPolicy.ClaimType")),f.R7$(3),f.JRh(f.bMT(8,7,"Settings.AccessPolicy.ClaimValue")),f.R7$(3),f.JRh(f.bMT(11,9,"Settings.AccessPolicy.Permission")),f.R7$(4),f.JRh(f.bMT(15,11,"Common.Reserved")),f.R7$(2),f.vxM(16,Ke.persistenceSetup?16:-1),f.R7$(2),f.Dyx(null==Ke.accessPolicy?null:Ke.accessPolicy.policyClaims)}}function ui(ve,ht){if(1&ve&&f.DNE(0,un,21,13,"table",14),2&ve){const Ke=f.XpG();f.Y8G("ngIf",(null==Ke.accessPolicy||null==Ke.accessPolicy.policyClaims?null:Ke.accessPolicy.policyClaims.length)>0&&!Ke.isLoading)}}function jn(ve,ht){if(1&ve&&f.nrm(0,"app-pager",7),2&ve){const Ke=f.XpG();f.Y8G("totalResults",null==Ke.accessPolicy||null==Ke.accessPolicy.policyClaims?null:Ke.accessPolicy.policyClaims.length)}}let It=(()=>{class ve{constructor(Ke,wt,gt,zt,Bn,ni,gi,ei){this.accessPolicyService=Ke,this.translate=wt,this.toastr=gt,this.errorService=zt,this.healthCheckService=Bn,this.dialogService=ni,this.activatedRoute=gi,this.configService=ei,this.isLoading=!0,this.hasChanged=!1,this.saveDisabled=!1}ngOnInit(){this.activatedRoute.data.subscribe(Ke=>{this.accessPolicyResolverData=Ke.accessPolicyObject,this.avaliablePermissions=this.accessPolicyResolverData.permissions;const wt=this.accessPolicyResolverData.accessPolicy.policyClaims.find(gt=>"role"===gt.type&&"AdminUI Administrator"===gt.value&&"All"===gt.permission);this.accessPolicy=new Mt,this.accessPolicy.version=this.accessPolicyResolverData.accessPolicy.version,this.accessPolicy.policyClaims=this.accessPolicyResolverData.accessPolicy.policyClaims.sort((gt,zt)=>gt===wt?-1:zt===wt?1:0),this.accessPolicy.policyClaims.forEach(gt=>{xt.c9.fromISO(gt.value).isValid&&(gt.isDateTime=!0)}),this.avaliableClaimTypes=this.accessPolicyResolverData.claimTypes.sort((gt,zt)=>gt.name.toUpperCase()<zt.name.toUpperCase()?-1:gt.name.toUpperCase()>zt.name.toUpperCase()?1:0),this.avaliableRoles=this.accessPolicyResolverData.roles,this.isLoading=!1}),this.configService.getConfig().subscribe({next:Ke=>{this.persistenceSetup=Ke.policyPersistence}})}isAdminUiAdmin(Ke){return"role"===Ke.type&&"AdminUI Administrator"===Ke.value&&"All"===Ke.permission}canDeactivate(){return!this.hasChanged||(this.dialogService.confirm(),this.dialogService.eventStream)}getClaimType(){this.selectedClaimType=this.avaliableClaimTypes.find(Ke=>Ke.name===this.claimType)}warnToSave(){this.toastr.info(this.translate.instant("Notifications.DontForgetToSave"),this.translate.instant("Notifications.Notice"))}addPolicy(Ke){this.hasChanged=!0,this.accessPolicy.policyClaims.push(Ke),this.warnToSave()}openDeletePolicyConfirmation(Ke,wt,gt){this.indexToDelete=this.accessPolicy.policyClaims.findIndex(zt=>zt.type===Ke&&zt.value===wt&&zt.permission===gt),this.deleteAccessPolicyModal.show()}closeDeleteModal(){this.indexToDelete=null,this.deleteAccessPolicyModal.hide()}removePolicy(Ke){this.accessPolicy.policyClaims.splice(Ke,1),this.hasChanged=!0,this.warnToSave()}updatePolicy(){this.saveDisabled=!0,this.accessPolicyService.updateAccessPolicy(this.accessPolicy).subscribe(Ke=>{this.accessPolicy=Ke;const wt=this.accessPolicy.policyClaims.find(gt=>"role"===gt.type&&"AdminUI Administrator"===gt.value&&"All"===gt.permission);this.accessPolicy.policyClaims.sort((gt,zt)=>gt===wt?-1:zt===wt?1:0),this.toastr.success(this.translate.instant("Settings.AccessPolicy.AccessPolicyUpdated"),this.translate.instant("Notifications.Success"))},Ke=>{"409"===Ke.code?this.toastr.error(this.translate.instant("Settings.AccessPolicy.AccessPolicyConflict"),this.translate.instant("Notifications.Error")):this.errorService.handleError(Ke)},()=>{this.saveDisabled=!1}),this.hasChanged=!1}static{this.\u0275fac=function(wt){return new(wt||ve)(f.rXU(z),f.rXU(I.c$),f.rXU(_.tw),f.rXU(K.I),f.rXU(W.M),f.rXU(ie.o),f.rXU(w.nX),f.rXU(T.w))}}static{this.\u0275cmp=f.VBU({type:ve,selectors:[["app-update-accesspolicy"]],viewQuery:function(wt,gt){if(1&wt&&f.GBs(In,7),2&wt){let zt;f.mGM(zt=f.lsd())&&(gt.deleteAccessPolicyModal=zt.first)}},inputs:{claimType:"claimType",permission:"permission",value:"value"},decls:15,vars:15,consts:[["addPolicyModal",""],["deleteAccessPolicyModal",""],["dateTimePolicy",""],[3,"added","avaliableClaimTypes","avaliableRoles","avaliablePermissions","accessPolicy"],[1,"tw-container","tw-mx-auto"],["id","readOnlyModeWarn",1,"tw-alert","tw-mb-4"],[1,"datatable","hover"],["hidePager","true",3,"totalResults"],["id","save",1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"click","disabled"],[3,"delete","modalId","destructive"],["right",""],["id","addPolicyBtn",1,"tw-btn-success",3,"click"],[1,"tw-font-bold"],[1,"tw-text-sm",3,"innerHTML"],["class","datatable hover",4,"ngIf"],[1,"md:tw-w-1/4"],[1,"tw-hidden","md:tw-table-cell"],[1,"tw-hidden","lg:tw-table-cell"],[1,"tw-w-1"],[1,"sr-only"],[3,"ngClass"],[1,"tw-w-0","tw-truncate"],["class","tw-hidden tw-max-w-0 tw-truncate md:tw-table-cell",4,"ngIf","ngIfElse"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell"],[1,"tw-pill"],[1,"tw-hidden","tw-max-w-0","tw-truncate","md:tw-table-cell"],[1,"removePolicyBtn","tw-btn-link","tw-btn-small","tw-text-red-500"],[1,"removePolicyBtn","tw-btn-link","tw-btn-small","tw-text-red-500",3,"click"],["aria-hidden","true",1,"fas","fa-times"]],template:function(wt,gt){if(1&wt){const zt=f.RV6();f.j41(0,"app-add-accesspolicy",3,0),f.bIt("added",function(ni){return f.eBV(zt),f.Njj(gt.addPolicy(ni))}),f.k0s(),f.j41(2,"div",4),f.DNE(3,Pn,5,3,"app-action-bar")(4,ki,7,6,"div",5)(5,wi,1,0,"app-simple-loader")(6,ui,1,1,"table",6)(7,jn,1,1,"app-pager",7),f.k0s(),f.j41(8,"app-button-bar")(9,"button",8),f.bIt("click",function(){return f.eBV(zt),f.Njj(gt.updatePolicy())}),f.EFF(10),f.nI1(11,"translate"),f.k0s()(),f.j41(12,"app-delete-confirmation-modal",9,1),f.bIt("delete",function(){return f.eBV(zt),f.Njj(gt.removePolicy(gt.indexToDelete))}),f.k0s(),f.nrm(14,"app-can-deactivate")}if(2&wt){const zt=f.sdS(13);f.Y8G("avaliableClaimTypes",gt.avaliableClaimTypes)("avaliableRoles",gt.avaliableRoles)("avaliablePermissions",gt.avaliablePermissions)("accessPolicy",gt.accessPolicy),f.R7$(3),f.vxM(3,gt.persistenceSetup&&!gt.isLoading?3:-1),f.R7$(),f.vxM(4,gt.persistenceSetup?-1:4),f.R7$(),f.vxM(5,gt.isLoading?5:-1),f.R7$(),f.vxM(6,(null==gt.accessPolicy||null==gt.accessPolicy.policyClaims?null:gt.accessPolicy.policyClaims.length)>0&&!gt.isLoading?6:-1),f.R7$(),f.vxM(7,(null==gt.accessPolicy||null==gt.accessPolicy.policyClaims?null:gt.accessPolicy.policyClaims.length)>0&&!gt.isLoading?7:-1),f.R7$(2),f.Y8G("disabled",gt.saveDisabled),f.R7$(),f.SpI(" ",f.bMT(11,13,"Common.Save")," "),f.R7$(2),f.Y8G("modalId",zt)("destructive",!1)}},dependencies:[i.YU,i.bT,ae.E,J.B,_e.d,Ce.n,re.z,st.w,sn,I.D9,cn.El],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return ve})();var dt=p(7468);class Dt{}var Vt=p(526),Zt=p(7773),gn=p(3519);let mn=(()=>{class ve{constructor(Ke,wt,gt,zt,Bn){this.claimTypeService=Ke,this.permissionService=wt,this.accessPolicyService=gt,this.rolesService=zt,this.errorService=Bn}resolve(){const Ke=this.permissionService.getAvaliablePermissions(),wt=this.accessPolicyService.getAccessPolicy(),gt=this.claimTypeService.getClaimTypes(),zt=this.rolesService.getRoles();return(0,dt.p)([Ke,wt,gt,zt]).pipe((0,Q.T)(([ni,gi,ei,ji])=>{const pr=new Dt;return pr.permissions=ni,pr.claimTypes=ei,pr.accessPolicy=gi,pr.roles=ji,pr},ni=>{this.errorService.handleError(ni)}))}static{this.\u0275fac=function(wt){return new(wt||ve)(f.KVO(Vt.X),f.KVO(Zt.n),f.KVO(z),f.KVO(gn.P),f.KVO(K.I))}}static{this.\u0275prov=f.jDH({token:ve,factory:ve.\u0275fac})}}return ve})();var zn=p(9437),Tn=p(5893);let pn=(()=>{class ve{constructor(Ke,wt,gt){this.webhookService=Ke,this.protectedResourceService=wt,this.errorService=gt}resolve(){return(0,dt.p)({webhooks:this.webhookService.getWebhooks(),protectedResources:this.protectedResourceService.getProtectedResources()}).pipe((0,Q.T)(Ke=>{const wt=new ai;wt.webhookConfiguration=Ke.webhooks;const gt=[];return Ke.protectedResources.forEach(zt=>{gt.push(...zt.scopes)}),wt.scopeNames=gt.map(zt=>zt.name).sort(),wt}),(0,zn.W)(Ke=>(this.errorService.handleError(Ke),Ke)))}static{this.\u0275fac=function(wt){return new(wt||ve)(f.KVO(ee.x),f.KVO(Tn.x),f.KVO(K.I))}}static{this.\u0275prov=f.jDH({token:ve,factory:ve.\u0275fac})}}return ve})();class ai{}var fi=p(8416);const qn=[{path:"",redirectTo:"accesspolicy",pathMatch:"full"},{path:"accesspolicy",component:It,canDeactivate:[fi.M],resolve:{accessPolicyObject:mn}},{path:"webhooks",component:ln,canDeactivate:[fi.M],resolve:{webhookResolverObject:pn}},{path:"keys",component:x,canDeactivate:[fi.M]}];let Pi=(()=>{class ve{static{this.\u0275fac=function(wt){return new(wt||ve)}}static{this.\u0275mod=f.$C({type:ve})}static{this.\u0275inj=f.G2t({imports:[I.h.forChild({extend:!0}),w.iI.forChild(qn),I.h,w.iI]})}}return ve})();var Kn=p(3730),Si=p(1683),pi=p(2571),Wi=p(8455),Hi=p(7883),Ei=p(367),qe=p(5731),St=p(7175),We=p(4193),Gt=p(1993),ot=p(8389),Ht=p(6599),Ye=p(8251),Xt=p(4367),ct=p(275),ye=p(7677);let Te=(()=>{class ve{static{this.\u0275fac=function(wt){return new(wt||ve)}}static{this.\u0275mod=f.$C({type:ve})}static{this.\u0275inj=f.G2t({providers:[mn,z,Hi.i,Vt.X,gn.P,L,pn,N.I],imports:[Pi,i.MD,e.YN,e.X1,y.Q_,I.h,Si.Y,w.iI,pi.A,Wi.p,v.XE,Ei.m,Ye.h,qe.i,St.c,We.c,Gt.E,ot.w,Xt.N,Ht.Y,ct.W,Kn.ClaimTypesModule,ye.N]})}}return ve})()},7101:(lt,we,p)=>{"use strict";p.r(we),p.d(we,{UsersModule:()=>St});var i=p(177),e=p(9417),v=p(1583),y=p(7005),w=p(779),I=p(534),D=p(1594),h=p(4438),f=p(5424),E=p(9196),F=p(3853),L=p(3680),_=p(1780);const M=(We,Gt)=>({title:We,link:Gt}),N=We=>[We],P=()=>["active"];function G(We,Gt){1&We&&(h.j41(0,"span",25)(1,"span",26),h.EFF(2),h.nI1(3,"translate"),h.k0s(),h.nrm(4,"span",27),h.k0s()),2&We&&(h.R7$(2),h.JRh(h.bMT(3,1,"StarterMode.RequiresUpgrade")))}function x(We,Gt){1&We&&(h.j41(0,"li",14)(1,"button",28),h.EFF(2),h.nI1(3,"translate"),h.k0s()()),2&We&&(h.R7$(),h.Y8G("routerLinkActive",h.lJ4(4,P)),h.R7$(),h.JRh(h.bMT(3,2,"Nav.SessionManagement")))}function V(We,Gt){1&We&&(h.j41(0,"div",29)(1,"p"),h.EFF(2),h.nI1(3,"translate"),h.nI1(4,"translate"),h.k0s()()),2&We&&(h.R7$(2),h.Lme("",h.bMT(3,2,"Users.Delete.DeletedUser")," ",h.bMT(4,4,"Users.Delete.AuditingPurposes"),""))}let Q=(()=>{class We{constructor(ot,Ht,Ye,Xt,ct){this.r=ot,this.route=Ht,this.errorService=Ye,this.configService=Xt,this.licenseService=ct}ngOnInit(){this.userDataSubscription=this.route.data.subscribe({next:ot=>{this.user=ot.user},error:ot=>{this.errorService.handleError(ot)}}),this.configSubscription=this.configService.getConfig().subscribe({next:ot=>{this.showSessionManagement=ot.featureFlagOptions.sessionManagementEnabled},error:ot=>{this.errorService.handleError(ot)}}),this.licenseService.getLicenseInfo().pipe((0,D.$)()).subscribe({next:ot=>{this.licenseInfo=ot}})}mobRoute(ot){this.r.navigate([ot],{relativeTo:this.route})}ngOnDestroy(){this.userDataSubscription.unsubscribe()}static{this.\u0275fac=function(Ht){return new(Ht||We)(h.rXU(v.Ix),h.rXU(v.nX),h.rXU(f.I),h.rXU(E.w),h.rXU(F.X))}}static{this.\u0275cmp=h.VBU({type:We,selectors:[["ng-component"]],decls:65,vars:76,consts:[[3,"title","totpEnabled","crumbs","hasTabs"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","details"],["value","roles"],["value","additionaldetails"],["value","applications"],["value","userlogins"],["value","useraudits"],["value","sessions"],["role","tablist",1,"tabs","tw-hidden","md:tw-flex"],[1,"tabs__item"],["type","button","routerLink","details","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","roles","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","additionaldetails","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","applications","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","userlogins","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","tabAudit","type","button","routerLink","useraudits","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","upgradeSymbol",4,"ngIf"],["class","tabs__item",4,"ngIf"],["id","editUser"],["id","userDeleted","class","tw-alert-danger tw-container tw-mx-auto tw-mb-6",4,"ngIf"],["id","upgradeSymbol"],[1,"sr-only"],["aria-hidden","true",1,"tw-text-secondary-500","far","fa-arrow-alt-circle-up","tw-pl-1"],["type","button","routerLink","sessions","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","userDeleted",1,"tw-alert-danger","tw-container","tw-mx-auto","tw-mb-6"]],template:function(Ht,Ye){1&Ht&&(h.j41(0,"app-title-bar",0),h.nI1(1,"translate"),h.nI1(2,"localize"),h.qex(3,1),h.j41(4,"div",2)(5,"label",3),h.EFF(6),h.nI1(7,"translate"),h.k0s(),h.j41(8,"div",4)(9,"select",5),h.bIt("change",function(ct){return Ye.mobRoute(ct.target.value)}),h.j41(10,"option",6),h.EFF(11),h.nI1(12,"translate"),h.k0s(),h.j41(13,"option",6),h.EFF(14),h.nI1(15,"translate"),h.k0s(),h.j41(16,"option",7),h.EFF(17),h.nI1(18,"translate"),h.k0s(),h.j41(19,"option",8),h.EFF(20),h.nI1(21,"translate"),h.k0s(),h.j41(22,"option",9),h.EFF(23),h.nI1(24,"translate"),h.k0s(),h.j41(25,"option",10),h.EFF(26),h.nI1(27,"translate"),h.k0s(),h.j41(28,"option",11),h.EFF(29),h.nI1(30,"translate"),h.k0s(),h.j41(31,"option",12),h.EFF(32),h.nI1(33,"translate"),h.k0s()()()(),h.j41(34,"ul",13),h.nI1(35,"translate"),h.j41(36,"li",14)(37,"button",15),h.EFF(38),h.nI1(39,"translate"),h.k0s()(),h.j41(40,"li",14)(41,"button",16),h.EFF(42),h.nI1(43,"translate"),h.k0s()(),h.j41(44,"li",14)(45,"button",17),h.EFF(46),h.nI1(47,"translate"),h.k0s()(),h.j41(48,"li",14)(49,"button",18),h.EFF(50),h.nI1(51,"translate"),h.k0s()(),h.j41(52,"li",14)(53,"button",19),h.EFF(54),h.nI1(55,"translate"),h.k0s()(),h.j41(56,"li",14)(57,"button",20),h.EFF(58),h.nI1(59,"translate"),h.DNE(60,G,5,3,"span",21),h.k0s()(),h.DNE(61,x,4,5,"li",22),h.k0s(),h.bVm(),h.k0s(),h.j41(62,"div",23),h.DNE(63,V,5,6,"div",24),h.nrm(64,"router-outlet"),h.k0s()),2&Ht&&(h.Y8G("title",Ye.user.firstName+" "+Ye.user.lastName)("totpEnabled",Ye.user.totpEnabled)("crumbs",h.eq3(68,N,h.l_i(65,M,h.bMT(1,29,"Nav.Users"),h.bMT(2,31,"/users"))))("hasTabs",!0),h.R7$(6),h.JRh(h.bMT(7,33,"Nav.SubMenu")),h.R7$(5),h.SpI("",h.bMT(12,35,"Nav.SubMenu"),"..."),h.R7$(3),h.JRh(h.bMT(15,37,"Nav.Details")),h.R7$(3),h.JRh(h.bMT(18,39,"Nav.Roles")),h.R7$(3),h.JRh(h.bMT(21,41,"Nav.Additional Details")),h.R7$(3),h.JRh(h.bMT(24,43,"Nav.Applications")),h.R7$(3),h.JRh(h.bMT(27,45,"Nav.External Logins")),h.R7$(3),h.JRh(h.bMT(30,47,"Nav.Audits")),h.R7$(3),h.JRh(h.bMT(33,49,"Nav.SessionManagement")),h.R7$(2),h.BMQ("aria-label",h.bMT(35,51,"Nav.SubMenu")),h.R7$(3),h.Y8G("routerLinkActive",h.lJ4(70,P)),h.R7$(),h.JRh(h.bMT(39,53,"Nav.Details")),h.R7$(3),h.Y8G("routerLinkActive",h.lJ4(71,P)),h.R7$(),h.JRh(h.bMT(43,55,"Nav.Roles")),h.R7$(3),h.Y8G("routerLinkActive",h.lJ4(72,P)),h.R7$(),h.JRh(h.bMT(47,57,"Nav.Additional Details")),h.R7$(3),h.Y8G("routerLinkActive",h.lJ4(73,P)),h.R7$(),h.JRh(h.bMT(51,59,"Nav.Applications")),h.R7$(3),h.Y8G("routerLinkActive",h.lJ4(74,P)),h.R7$(),h.JRh(h.bMT(55,61,"Nav.External Logins")),h.R7$(3),h.Y8G("routerLinkActive",h.lJ4(75,P)),h.R7$(),h.SpI(" ",h.bMT(59,63,"Nav.Audits")," "),h.R7$(2),h.Y8G("ngIf",null==Ye.licenseInfo?null:Ye.licenseInfo.isStarterLicense()),h.R7$(),h.Y8G("ngIf",Ye.showSessionManagement),h.R7$(2),h.Y8G("ngIf",Ye.user.isDeleted))},dependencies:[v.n3,v.Wk,v.wQ,i.bT,e.xH,e.y7,L.z,_.D9,y.tl],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return We})();var Y=p(1413),le=p(6354),fe=p(8412),K=p(9172),ee=p(1397),ie=p(1986),T=p(9838),ae=p(4313),re=p(7263),Me=p(5602),Qe=p(345),Le=p(5794),Ne=p(7883),Je=p(7156),Ee=p(7294),be=p(7384),se=p(8698),Oe=p(9550),Ie=p(316),it=p(6697),xe=function(We){return We[We.None=0]="None",We[We.Add=1]="Add",We[We.AddAnother=2]="AddAnother",We[We.AddAndConfigure=3]="AddAndConfigure",We}(xe||{}),pt=p(4589),vt=p(526),hn=p(6801),ln=p(4701);const Mt=["claimsComponent"],xt=["addUserModal"],z=()=>({animated:!1,backdrop:"static"});function W(We,Gt){1&We&&(h.j41(0,"h2",37),h.nrm(1,"span",38),h.j41(2,"span",24),h.EFF(3),h.nI1(4,"translate"),h.k0s(),h.j41(5,"span")(6,"a",39),h.EFF(7),h.nI1(8,"translate"),h.k0s()()()),2&We&&(h.R7$(3),h.JRh(h.bMT(4,2,"Users.Password.DemoTitle")),h.R7$(4),h.SpI(" ",h.bMT(8,4,"Users.Password.DemoLink")," "))}function J(We,Gt){if(1&We&&(h.j41(0,"div")(1,"div",33),h.DNE(2,W,9,6,"h2",34),h.j41(3,"app-form-row",16),h.nrm(4,"input",35),h.j41(5,"ul",36)(6,"li"),h.EFF(7),h.nI1(8,"translate"),h.k0s(),h.j41(9,"li"),h.EFF(10),h.nI1(11,"translate"),h.k0s(),h.j41(12,"li"),h.EFF(13),h.nI1(14,"translate"),h.k0s(),h.j41(15,"li"),h.EFF(16),h.nI1(17,"translate"),h.k0s(),h.j41(18,"li"),h.EFF(19),h.nI1(20,"translate"),h.k0s()()()()()),2&We){const ot=h.XpG();h.R7$(2),h.Y8G("ngIf",ot.isDemo),h.R7$(),h.Y8G("id","Password")("label","Users.Password.Title")("isLast",!0),h.R7$(4),h.JRh(h.bMT(8,9,"Users.Password.Requirements.1")),h.R7$(3),h.JRh(h.bMT(11,11,"Users.Password.Requirements.2")),h.R7$(3),h.JRh(h.bMT(14,13,"Users.Password.Requirements.3")),h.R7$(3),h.JRh(h.bMT(17,15,"Users.Password.Requirements.4")),h.R7$(3),h.JRh(h.bMT(20,17,"Users.Password.Requirements.5"))}}function _e(We,Gt){1&We&&h.nrm(0,"span",40)}function Ce(We,Gt){1&We&&h.nrm(0,"span",40)}function st(We,Gt){1&We&&h.nrm(0,"span",40)}let Fe=(()=>{class We{constructor(ot,Ht,Ye,Xt,ct,ye,Te,ve,ht,Ke,wt){this.userService=ot,this.claimTypesService=Ht,this.errorService=Ye,this.translate=Xt,this.router=ct,this.fb=ye,this.toastr=Te,this.localize=ve,this.securityService=ht,this.healthCheckService=Ke,this.configService=wt,this.addAnother=!1,this.canCreatePassword=!1,this.isDemo=!1,this.onSubmitted=new h.bkB,this.inFlight=!1,this.addButtonClick=xe,this.addClicked=xe.None}keydown(ot){"Enter"===ot.key&&"addUserSubmit"!==ot.srcElement.id&&this.claimsComponent.isFormValid()&&this.addUserForm.valid&&this.addUser()}ngOnInit(){this.createForms(),this.configService.getConfig().pipe((0,it.s)(1)).subscribe(ot=>{null!=ot.featureFlagOptions.addUserPassword&&(this.canCreatePassword=!0===ot.featureFlagOptions.addUserPassword),this.isDemo=this.securityService.licenseType===pt.G.Demo||this.securityService.licenseType===pt.G.Starter,this.isDemo&&(this.canCreatePassword=!0)}),this.claimTypesService.getClaimTypes(null,null,!0).subscribe(ot=>{this.claimTypes=ot},ot=>{this.errorService.handleError(ot)})}addAnotherUser(){this.addAnother=!0,this.addClicked=xe.AddAnother,this.addUser()}addUser(ot){let Ht;this.addClicked===xe.None&&(this.addClicked=ot?xe.AddAndConfigure:xe.Add),Ht=JSON.parse(JSON.stringify(this.addUserForm.value)),Object.assign(Ht,{claims:[]});for(const Ye of this.claimsComponent.requiredClaims){if(null===Ye.value)continue;let Xt=Ye.value;"DateTime"===Ye.format&&(Xt=Ye.value),"Int"===Ye.format&&(Xt=Xt.toString()),Ht.claims.push({claimTypeId:Ye.typeId,value:Xt,type:Ye.type})}!1===this.canCreatePassword&&(Ht.password=null),this.inFlight=!0,this.userService.addUser(Ht).subscribe(Ye=>{this.inFlight=!1,this.addClicked=xe.None,this.claimsComponent.resetForm(),this.addUserForm.reset();const Xt=this.translate.instant("Notifications.AccountCreated"),ct=this.translate.instant("Users.Singular")+" "+Ht.username+" "+this.translate.instant("Common.Created").toLowerCase();this.toastr.success(Xt,ct),ot&&Ye.headers.get("location")?this.addUserAndConfigure(Ye.headers.get("location")):(this.addAnother||this.hide(),this.addAnother=!1,this.onSubmitted.emit(!0))},Ye=>{this.inFlight=!1,this.addClicked=xe.None,this.addAnother=!1,this.errorService.handleError(Ye)})}addUserAndConfigure(ot){const Ht=ot.lastIndexOf("/"),Ye=ot.substring(Ht+1),Xt=[this.localize.translateRoute("/users"),Ye];this.router.navigate(Xt)}createForms(){this.addUserForm=this.fb.group({username:["",[e.k0.required,(0,re.Zt)()]],email:["",Ie.D],firstName:["",e.k0.required],lastName:["",e.k0.required],password:["",e.k0.pattern("^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$")]})}hide(){this.addUserModal.hide(),this.addUserForm.reset()}show(){this.addUserModal.show()}ngOnDestroy(){this.hide()}static{this.\u0275fac=function(Ht){return new(Ht||We)(h.rXU(Me.D),h.rXU(vt.X),h.rXU(f.I),h.rXU(_.c$),h.rXU(v.Ix),h.rXU(e.ze),h.rXU(Le.tw),h.rXU(y.QG),h.rXU(Ne.i),h.rXU(hn.M),h.rXU(E.w))}}static{this.\u0275cmp=h.VBU({type:We,selectors:[["app-add-user"]],viewQuery:function(Ht,Ye){if(1&Ht&&(h.GBs(Mt,7),h.GBs(xt,7)),2&Ht){let Xt;h.mGM(Xt=h.lsd())&&(Ye.claimsComponent=Xt.first),h.mGM(Xt=h.lsd())&&(Ye.addUserModal=Xt.first)}},hostBindings:function(Ht,Ye){1&Ht&&h.bIt("keydown",function(ct){return Ye.keydown(ct)},!1,h.EBC)},outputs:{onSubmitted:"onSubmitted"},decls:49,vars:39,consts:[["addUserModal","bs-modal"],["claimsComponent",""],["bsModal","","id","addUserModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","scrollbars"],["autocomplete","off",1,"form",3,"formGroup"],[3,"id","label"],["id","FirstName","type","text","name","FirstName","formControlName","firstName","required","",1,"tw-form-control"],["id","LastName","type","text","name","LastName","formControlName","lastName","required","",1,"tw-form-control"],["id","Username","type","text","name","username","formControlName","username","required","",1,"tw-form-control"],[3,"id","label","isLast"],["id","Email","type","email","name","email","formControlName","email","required","",1,"tw-form-control"],["id","requiredClaimsComponent",3,"claimTypes"],[3,"formGroup"],[4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items"],[1,"tw-mr-auto"],[1,"xs:tw-mr-3"],["type","submit","id","addUserSubmit",1,"tw-btn-success",3,"click","disabled"],["class","fad fa-spinner-third fa-spin tw-text-secondary-500 tw-mr-2 tw-ml-2",4,"ngIf"],[1,"tw-hidden","xs:tw-inline","md:tw-mr-3"],["id","submitAndConfigure",1,"tw-btn-success",3,"click","disabled"],[1,"tw-hidden","md:tw-inline"],["type","submit","id","addUserReSubmit",1,"tw-btn",3,"click","disabled"],[1,"tw-btn-link","tw--mr-4",3,"click"],[1,"tw-bg-red-100","tw-border","tw-border-red-500","tw-text-red-500","tw-mb-4","tw-p-4","tw-overflow-hidden","tw-rounded"],["class","tw-flex items-center tw-bg-red-500 tw-text-white tw-text-sm tw--mx-4 tw--mt-4 tw-mb-3 tw-py-3 tw-px-4",4,"ngIf"],["id","Password","type","password","name","Password","formControlName","password","aria-labelledby","PasswordHelp","required","",1,"tw-form-control","tw-border-red-300"],["id","PasswordHelp",1,"tw-form-text-danger"],[1,"tw-flex","items-center","tw-bg-red-500","tw-text-white","tw-text-sm","tw--mx-4","tw--mt-4","tw-mb-3","tw-py-3","tw-px-4"],["aria-hidden","true",1,"fas","fa-exclamation-triangle","tw-mr-2"],["href","documentation/Users/Set_User_Password.html","target","_blank",1,"tw-text-white","tw-underline","hover:tw-no-underline"],[1,"fad","fa-spinner-third","fa-spin","tw-text-secondary-500","tw-mr-2","tw-ml-2"]],template:function(Ht,Ye){if(1&Ht){const Xt=h.RV6();h.j41(0,"div",2,0)(2,"div",3)(3,"div",4)(4,"div",5)(5,"h5",6),h.EFF(6),h.nI1(7,"translate"),h.k0s(),h.j41(8,"button",7),h.bIt("click",function(){return h.eBV(Xt),h.Njj(Ye.hide())}),h.nrm(9,"span",8),h.j41(10,"span",9),h.EFF(11),h.nI1(12,"translate"),h.k0s()()(),h.j41(13,"div",10)(14,"form",11)(15,"app-form-row",12),h.nrm(16,"input",13),h.k0s(),h.j41(17,"app-form-row",12),h.nrm(18,"input",14),h.k0s(),h.j41(19,"app-form-row",12),h.nrm(20,"input",15),h.k0s(),h.j41(21,"app-form-row",16),h.nrm(22,"input",17),h.k0s()(),h.nrm(23,"app-required-claims-form",18,1),h.j41(25,"form",19),h.DNE(26,J,21,19,"div",20),h.k0s()(),h.nrm(27,"div",21),h.j41(28,"div",22)(29,"div",23)(30,"div",24)(31,"span",25)(32,"button",26),h.bIt("click",function(){return h.eBV(Xt),h.Njj(Ye.addUser())}),h.EFF(33),h.nI1(34,"translate"),h.DNE(35,_e,1,0,"span",27),h.k0s()(),h.j41(36,"span",28)(37,"button",29),h.bIt("click",function(){return h.eBV(Xt),h.Njj(Ye.addUser(!0))}),h.EFF(38),h.nI1(39,"translate"),h.DNE(40,Ce,1,0,"span",27),h.k0s()(),h.j41(41,"span",30)(42,"button",31),h.bIt("click",function(){return h.eBV(Xt),h.Njj(Ye.addAnotherUser())}),h.EFF(43),h.nI1(44,"translate"),h.DNE(45,st,1,0,"span",27),h.k0s()()(),h.j41(46,"button",32),h.bIt("click",function(){return h.eBV(Xt),h.Njj(Ye.hide())}),h.EFF(47),h.nI1(48,"translate"),h.k0s()()()()()()}if(2&Ht){const Xt=h.sdS(24);h.Y8G("config",h.lJ4(38,z)),h.R7$(6),h.JRh(h.bMT(7,26,"Users.NewUser")),h.R7$(5),h.JRh(h.bMT(12,28,"Common.Close")),h.R7$(3),h.Y8G("formGroup",Ye.addUserForm),h.R7$(),h.Y8G("id","FirstName")("label","Users.FirstName"),h.R7$(2),h.Y8G("id","LastName")("label","Users.LastName"),h.R7$(2),h.Y8G("id","Username")("label","Users.Username"),h.R7$(2),h.Y8G("id","Email")("label","Users.Email")("isLast",!Ye.canCreatePassword),h.R7$(2),h.Y8G("claimTypes",Ye.claimTypes),h.R7$(2),h.Y8G("formGroup",Ye.addUserForm),h.R7$(),h.Y8G("ngIf",Ye.canCreatePassword),h.R7$(6),h.Y8G("disabled",!Ye.addUserForm.valid||!Xt.isFormValid()||Ye.inFlight),h.R7$(),h.SpI(" ",h.bMT(34,30,"Common.Save")," "),h.R7$(2),h.Y8G("ngIf",Ye.inFlight&&Ye.addClicked===Ye.addButtonClick.Add),h.R7$(2),h.Y8G("disabled",Ye.addAnother||!Ye.addUserForm.valid||!Xt.isFormValid()||Ye.inFlight),h.R7$(),h.SpI(" ",h.bMT(39,32,"Common.SaveAndConfigure")," "),h.R7$(2),h.Y8G("ngIf",Ye.inFlight&&Ye.addClicked===Ye.addButtonClick.AddAndConfigure),h.R7$(2),h.Y8G("disabled",!Ye.addUserForm.valid||!Xt.isFormValid()||Ye.inFlight),h.R7$(),h.SpI(" ",h.bMT(44,34,"Common.SaveAndAdd")," "),h.R7$(2),h.Y8G("ngIf",Ye.inFlight&&Ye.addClicked===Ye.addButtonClick.AddAnother),h.R7$(2),h.JRh(h.bMT(48,36,"Common.Cancel"))}},dependencies:[i.bT,e.qT,e.me,e.BC,e.cb,e.YS,e.j4,e.JD,w.hZ,se.Y,ln.u,_.D9],encapsulation:2})}}return We})();const rt=["addUserModal"],kt=(We,Gt)=>({"tw-alert":We,"tw-alert-warning":Gt}),mt=We=>({limit:We,type:"users",href:"https://www.identityserver.com/products/adminui/order-now?index=2&name=Enterprise"}),tt=(We,Gt)=>({"fad fa-pencil":We,"fas fa-eye":Gt});function $t(We,Gt){if(1&We){const ot=h.RV6();h.j41(0,"app-add-user",30,1),h.bIt("onSubmitted",function(Ye){h.eBV(ot);const Xt=h.XpG();return h.Njj(Xt.onSubmitted(Ye))}),h.k0s()}}function en(We,Gt){if(1&We&&(h.j41(0,"div",31),h.nrm(1,"span",32),h.nI1(2,"translate"),h.k0s()),2&We){const ot=h.XpG();h.Y8G("ngClass",h.l_i(5,kt,ot.limitReached,ot.overLimit)),h.R7$(),h.Y8G("innerHTML",h.i5U(2,2,"Common.QuotaLimit",h.eq3(8,mt,ot.licenseInfo.maxUsers)),h.npT)}}function Ot(We,Gt){1&We&&(h.j41(0,"span"),h.nrm(1,"span",33),h.EFF(2),h.nI1(3,"translate"),h.k0s()),2&We&&(h.R7$(2),h.SpI(" ",h.bMT(3,1,"Auditing.ShowFilters")," "))}function Yt(We,Gt){1&We&&(h.j41(0,"span"),h.nrm(1,"span",34),h.EFF(2),h.nI1(3,"translate"),h.k0s()),2&We&&(h.R7$(2),h.SpI(" ",h.bMT(3,1,"Auditing.HideFilters")," "))}function je(We,Gt){if(1&We){const ot=h.RV6();h.j41(0,"div",38)(1,"label",39),h.EFF(2),h.nI1(3,"translate"),h.k0s(),h.j41(4,"select",40),h.mxI("ngModelChange",function(Ye){h.eBV(ot);const Xt=h.XpG(2);return h.DH7(Xt.pageSize,Ye)||(Xt.pageSize=Ye),h.Njj(Ye)}),h.bIt("change",function(){h.eBV(ot);const Ye=h.XpG(2);return h.Njj(Ye.setPageLength(+Ye.pageSize))}),h.j41(5,"option",41),h.EFF(6),h.nI1(7,"translate"),h.k0s(),h.j41(8,"option",42),h.EFF(9),h.nI1(10,"translate"),h.k0s(),h.j41(11,"option",43),h.EFF(12),h.nI1(13,"translate"),h.k0s()()()}if(2&We){const ot=h.XpG(2);h.R7$(2),h.Lme("",ot.pageSize," ",h.bMT(3,6,"Nav.PerPage"),""),h.R7$(2),h.R50("ngModel",ot.pageSize),h.R7$(2),h.SpI("25 ",h.bMT(7,8,"Nav.PerPage"),""),h.R7$(3),h.SpI("50 ",h.bMT(10,10,"Nav.PerPage"),""),h.R7$(3),h.SpI("100 ",h.bMT(13,12,"Nav.PerPage"),"")}}function oe(We,Gt){if(1&We){const ot=h.RV6();h.qex(0,44),h.j41(1,"button",45),h.bIt("click",function(){h.eBV(ot);const Ye=h.XpG(2);return h.Njj(Ye.addModal.show())}),h.EFF(2),h.nI1(3,"translate"),h.k0s(),h.bVm()}if(2&We){const ot=h.XpG(2);h.R7$(),h.Y8G("disabled",ot.limitReached),h.R7$(),h.SpI(" ",h.bMT(3,2,"Users.AddUser")," ")}}function H(We,Gt){if(1&We&&(h.j41(0,"app-action-bar"),h.qex(1,35),h.DNE(2,je,14,14,"div",36),h.bVm(),h.DNE(3,oe,4,4,"ng-container",37),h.k0s()),2&We){const ot=h.XpG();h.R7$(2),h.Y8G("ngIf",(null==ot.pagedResult?null:ot.pagedResult.results.length)>0),h.R7$(),h.Y8G("ngIf",!ot.isUserManagerReadOnly)}}function te(We,Gt){1&We&&h.nrm(0,"app-simple-loader")}function Ue(We,Gt){1&We&&(h.j41(0,"div",46)(1,"div"),h.EFF(2),h.nI1(3,"translate"),h.k0s()()),2&We&&(h.R7$(2),h.JRh(h.bMT(3,1,"Users.NoUsersFound")))}function et(We,Gt){1&We&&(h.j41(0,"span",67)(1,"span",9),h.EFF(2),h.nI1(3,"translate"),h.k0s()()),2&We&&(h.R7$(2),h.JRh(h.bMT(3,1,"Users.Filter.Deleted")))}function ft(We,Gt){1&We&&(h.j41(0,"span",68)(1,"span",9),h.EFF(2),h.nI1(3,"translate"),h.k0s()()),2&We&&(h.R7$(2),h.JRh(h.bMT(3,1,"Users.Filter.Blocked")))}function Ft(We,Gt){1&We&&(h.j41(0,"span",69),h.EFF(1),h.nI1(2,"translate"),h.k0s()),2&We&&(h.R7$(),h.SpI(" ",h.bMT(2,1,"Users.Filter.Deleted")," "))}function sn(We,Gt){1&We&&(h.j41(0,"span",70),h.EFF(1),h.nI1(2,"translate"),h.k0s()),2&We&&(h.R7$(),h.SpI(" ",h.bMT(2,1,"Users.Filter.Blocked")," "))}function cn(We,Gt){1&We&&(h.j41(0,"span",9),h.EFF(1),h.nI1(2,"translate"),h.k0s()),2&We&&(h.R7$(),h.JRh(h.bMT(2,1,"Common.Edit")))}function In(We,Gt){1&We&&(h.j41(0,"span",9),h.EFF(1),h.nI1(2,"translate"),h.k0s()),2&We&&(h.R7$(),h.JRh(h.bMT(2,1,"Common.View")))}function An(We,Gt){if(1&We){const ot=h.RV6();h.j41(0,"tr",54)(1,"td",55),h.bIt("click",function(){const Ye=h.eBV(ot).$implicit,Xt=h.XpG(2);return h.Njj(Xt.viewOrEditUser(Ye))}),h.DNE(2,et,4,3,"span",56)(3,ft,4,3,"span",57),h.j41(4,"b",58),h.EFF(5),h.k0s()(),h.j41(6,"td",59),h.bIt("click",function(){const Ye=h.eBV(ot).$implicit,Xt=h.XpG(2);return h.Njj(Xt.viewOrEditUser(Ye))}),h.EFF(7),h.k0s(),h.j41(8,"td",60),h.bIt("click",function(){const Ye=h.eBV(ot).$implicit,Xt=h.XpG(2);return h.Njj(Xt.viewOrEditUser(Ye))}),h.EFF(9),h.k0s(),h.j41(10,"td",61),h.bIt("click",function(){const Ye=h.eBV(ot).$implicit,Xt=h.XpG(2);return h.Njj(Xt.viewOrEditUser(Ye))}),h.DNE(11,Ft,3,3,"span",62)(12,sn,3,3,"span",63),h.k0s(),h.j41(13,"td",61),h.bIt("click",function(){const Ye=h.eBV(ot).$implicit,Xt=h.XpG(2);return h.Njj(Xt.viewOrEditUser(Ye))}),h.j41(14,"button",64),h.bIt("click",function(){const Ye=h.eBV(ot).$implicit,Xt=h.XpG(2);return h.Njj(Xt.viewOrEditUser(Ye))}),h.nrm(15,"span",65),h.j41(16,"span",9),h.EFF(17),h.nI1(18,"translate"),h.k0s(),h.DNE(19,cn,3,3,"span",66)(20,In,3,3,"span",66),h.k0s()()()}if(2&We){const ot=Gt.$implicit,Ht=h.XpG(2);h.AVh("inactive",ot.isBlocked||ot.isDeleted||Ht.overLimit),h.R7$(2),h.Y8G("ngIf",ot.isDeleted),h.R7$(),h.Y8G("ngIf",ot.isBlocked&&!ot.isDeleted),h.R7$(2),h.SpI(" ",ot.username," "),h.R7$(2),h.Lme(" ",ot.firstName," ",ot.lastName," "),h.R7$(2),h.SpI(" ",ot.email," "),h.R7$(2),h.Y8G("ngIf",ot.isDeleted),h.R7$(),h.Y8G("ngIf",ot.isBlocked&&!ot.isDeleted),h.R7$(3),h.Y8G("ngClass",h.l_i(16,tt,!Ht.isUserManagerReadOnly&&!Ht.overLimit,Ht.isUserManagerReadOnly||Ht.overLimit)),h.R7$(2),h.JRh(h.bMT(18,14,"Common.Edit")),h.R7$(2),h.Y8G("ngIf",!Ht.isUserManagerReadOnly&&!Ht.overLimit),h.R7$(),h.Y8G("ngIf",Ht.isUserManagerReadOnly||Ht.overLimit)}}function Fn(We,Gt){if(1&We&&(h.j41(0,"table",47)(1,"thead")(2,"tr")(3,"th",48),h.EFF(4),h.nI1(5,"translate"),h.k0s(),h.j41(6,"th",49),h.EFF(7),h.nI1(8,"translate"),h.k0s(),h.j41(9,"th",50),h.EFF(10),h.nI1(11,"translate"),h.k0s(),h.j41(12,"th",51)(13,"span",9),h.EFF(14),h.nI1(15,"translate"),h.k0s()(),h.j41(16,"th",51)(17,"span",9),h.EFF(18),h.nI1(19,"translate"),h.k0s()()()(),h.j41(20,"tbody",52),h.DNE(21,An,21,19,"tr",53),h.k0s()()),2&We){const ot=h.XpG();h.R7$(4),h.SpI(" ",h.bMT(5,6,"Users.Username")," "),h.R7$(3),h.SpI(" ",h.bMT(8,8,"Users.FullName")," "),h.R7$(3),h.SpI(" ",h.bMT(11,10,"Users.Email")," "),h.R7$(4),h.JRh(h.bMT(15,12,"Common.Status")),h.R7$(4),h.JRh(h.bMT(19,14,"Common.Actions")),h.R7$(3),h.Y8G("ngForOf",ot.pagedResult.results)}}function Pn(We,Gt){if(1&We){const ot=h.RV6();h.j41(0,"app-pager",71),h.bIt("onGoToPage",function(Ye){h.eBV(ot);const Xt=h.XpG();return h.Njj(Xt.goToPage(Ye))}),h.k0s()}if(2&We){const ot=h.XpG();h.Y8G("totalResults",null==ot.pagedResult?null:ot.pagedResult.totalCount)("currentPage",ot.page)("lastPage",null==ot.pagedResult?null:ot.pagedResult.pageCount)}}let ki=(()=>{class We extends ae.if{get limitReached(){return this.licenseInfo?.userLimitReached??!1}get overLimit(){return this.licenseInfo?.overUserLimit??!1}constructor(ot,Ht,Ye,Xt,ct,ye,Te,ve,ht){super(Te,ct,!0),this.router=ot,this.userService=Ht,this.errorService=Ye,this.titleService=Xt,this.localize=ye,this.securityService=ve,this.licenseService=ht,this.activeFilters=["active"],this.activeAdvancedFilters=[],this.pageSize=25,this.page=1,this.term="",this.showAdvancedFilters=!1,this.showingActive=!0,this.showingBlocked=!1,this.showingDeleted=!1,this.filterStream=new Y.B,this.advancedFilterStream=new Y.B,this.pageStream=new Y.B,this.pageSizeStream=new Y.B,this.mapSearchTerm=this.mapSearchTerm.bind(this)}ngOnInit(){this.titleService.setTitle(this.translate.instant("Nav.Users")+` - ${T.$9.SITE_TITLE}`),this.isLoading=!0;const ot=this.pageStream.pipe((0,le.T)(ye=>(this.page=ye,{searchTerm:this.term,page:ye,pageSize:this.pageSize,filters:this.activeFilters}))),Ht=this.pageSizeStream.pipe((0,le.T)(ye=>(this.pageSize=ye,{searchTerm:this.term,page:this.page,pageSize:ye,filters:this.activeFilters}))),Ye=this.filterStream.pipe((0,le.T)(ye=>({searchTerm:this.term,page:this.page,pageSize:this.pageSize,filters:ye}))),Xt=this.advancedFilterStream.pipe((0,le.T)(ye=>({searchTerm:this.term,page:this.page,pageSize:this.pageSize,filters:this.activeFilters,advancedFilters:ye})));ot.pipe((0,fe.X)(Ht),(0,fe.X)(this.searchSource),(0,fe.X)(Ye),(0,fe.X)(Xt),(0,fe.X)(this.enterKeySource),(0,K.Z)({searchTerm:this.term,page:this.page,pageSize:this.pageSize,filters:this.activeFilters,advancedFilters:this.activeAdvancedFilters}),(0,ee.Z)(ye=>(this.isLoading=!0,this.userService.getUsersLightweight(ye.searchTerm,ye.page,ye.pageSize,ye.filters,ye.advancedFilters).pipe((0,ie.c)(200))))).subscribe({next:ye=>{this.pagedResult=ye,this.isLoading=!1},error:ye=>{500===ye.status?this.handleInternalServerError():this.errorService.handleError(ye),this.isLoading=!1}}),this.licenseService.getLicenseInfo().pipe((0,D.$)()).subscribe({next:ye=>{this.licenseInfo=ye}})}mapSearchTerm(ot){return this.term=ot,{searchTerm:ot,page:1,pageSize:this.pageSize,filters:this.activeFilters,advancedFilters:this.activeAdvancedFilters}}editUser(ot){const Ht=this.localize.translateRoute("/users");this.router.navigate([Ht,ot.subject])}viewUser(ot){const Ht=this.localize.translateRoute("/users/view");this.router.navigate([Ht,ot.subject])}viewOrEditUser(ot){this.isUserManagerReadOnly||this.overLimit?this.viewUser(ot):this.editUser(ot)}goToPage(ot){this.pageStream.next(ot)}setPageLength(ot){this.page=1,this.pageSizeStream.next(ot)}filter(ot){if(this.activeFilters.includes(ot)){const Ht=this.activeFilters.indexOf(ot);this.activeFilters.splice(Ht,1)}else this.activeFilters.push(ot);this.page=1,this.filterStream.next(this.activeFilters)}advancedFilter(ot){if(this.activeAdvancedFilters.includes(ot)){const Ht=this.activeAdvancedFilters.indexOf(ot);this.activeAdvancedFilters.splice(Ht,1)}else this.activeAdvancedFilters.push(ot);this.page=1,this.advancedFilterStream.next(this.activeAdvancedFilters)}isShowing(ot){return this.activeFilters.includes(ot)}onSubmitted(ot){ot&&(this.filterStream.next(this.activeFilters),this.advancedFilterStream.next(this.activeAdvancedFilters))}get isUserManagerReadOnly(){return(0,re.zG)(this.securityService.userPermissions)}handleInternalServerError(){this.toastr.error(this.translate.instant("Users.Filter.StoredProcedureErrorMessage"),this.translate.instant("Notifications.Error"))}static{this.\u0275fac=function(Ht){return new(Ht||We)(h.rXU(v.Ix),h.rXU(Me.D),h.rXU(f.I),h.rXU(Qe.hE),h.rXU(_.c$),h.rXU(y.QG),h.rXU(Le.tw),h.rXU(Ne.i),h.rXU(F.X))}}static{this.\u0275cmp=h.VBU({type:We,selectors:[["ng-component"]],viewQuery:function(Ht,Ye){if(1&Ht&&h.GBs(rt,5),2&Ht){let Xt;h.mGM(Xt=h.lsd())&&(Ye.addModal=Xt.first)}},features:[h.Vt3],decls:46,vars:37,consts:[["searchUserName",""],["addUserModal",""],["id","addUserComponent",3,"onSubmitted",4,"ngIf"],["id","userList",1,"tw-container","tw-mx-auto"],["id","quotaLimitAlert","role","alert","class","tw-mb-4",3,"ngClass",4,"ngIf"],["id","searchContainer",1,"tw-mb-2"],[1,"tw-flex","tw-bg-white","tw-border","tw-border-grey-300","tw-opacity-75","tw-cursor-text","tw-rounded","focus-within:tw-opacity-100","focus-within:tw-border-blue-400","tw-transition-all","tw-ease-in-out"],["for","searchUserName",1,"tw-flex","tw-items-center","tw-text-grey-500","tw-m-0","tw-ml-3"],["aria-hidden","true",1,"far","fa-search","tw-text-sm"],[1,"sr-only"],["id","searchUserName","type","search",1,"tw-bg-transparent","tw-border-0","tw-text-base","tw-leading-tight","tw-px-2","tw-py-2","tw-w-full","focus:tw-outline-none","tw-transition-all","tw-ease-in-out",3,"ngModelChange","keyup","ngModel","placeholder"],["id","showFilterButton","type","button","aria-expanded","showAdvancedFilters",1,"tw-btn-link","tw-btn-small","tw-px-0","mt-2",3,"click"],[4,"ngIf"],["id","toggleFilters","aria-labelledby","showFilterButton",1,"tw-mt-3","tw-mb-6",3,"hidden"],[1,"tw-flex-grid","md:tw-flex-nowrap","mb-3"],[1,"tw-flex-grid-col","md:tw-w-2/3","lg:tw-w-3/5","mt-2","ml-2"],[1,"tw-form-group","tw-mb-0"],[3,"id","label","help","isLast"],[3,"id"],["id","includeClaims","name","includeClaims","type","checkbox",1,"tw-form-switch__input",3,"click"],[1,"tw-flex-grid-col","md:tw-ml-auto","md:tw-w-auto","mb-3","mr-2"],[1,"tw-form-label"],[1,"tw-flex","tw-items-center"],[1,"mr-2"],["id","activeFilter",3,"click","ngClass"],["id","blockedFilter",3,"click","ngClass"],["id","deletedFilter",3,"click","ngClass"],["class","tw-alert","role","alert",4,"ngIf"],["class","datatable selectable hover",4,"ngIf"],[3,"totalResults","currentPage","lastPage","onGoToPage",4,"ngIf"],["id","addUserComponent",3,"onSubmitted"],["id","quotaLimitAlert","role","alert",1,"tw-mb-4",3,"ngClass"],[3,"innerHTML"],["aria-hidden","true",1,"fas","fa-angle-down","tw-mr-1"],["aria-hidden","true",1,"fas","fa-angle-up","tw-mr-1"],["left",""],["class","tw-hidden tw-form-select tw-w-auto sm:tw-block",4,"ngIf"],["right","",4,"ngIf"],[1,"tw-hidden","tw-form-select","tw-w-auto","sm:tw-block"],["for","pageSizeToggle",1,"sr-only"],["id","pageSizeToggle",1,"tw-form-control","tw-form-control-small",3,"ngModelChange","change","ngModel"],["value","25"],["value","50"],["value","100"],["right",""],["id","addUserBtn",1,"tw-btn-success",3,"click","disabled"],["role","alert",1,"tw-alert"],[1,"datatable","selectable","hover"],["id","sortUsername",1,"md:tw-w-1/3","lg:tw-w-1/3"],[1,"tw-hidden","md:tw-table-cell"],[1,"tw-hidden","lg:tw-table-cell"],[1,"tw-w-1"],["id","usersTable"],["class","group userRow",3,"inactive",4,"ngFor","ngForOf"],[1,"group","userRow"],[1,"tw-truncate","tw-max-w-0",3,"click"],["class","fas fa-trash tw-text-red-500 tw-mr-1",4,"ngIf"],["class","fas fa-exclamation-triangle tw-text-orange-500 tw-mr-1",4,"ngIf"],[1,"tw-text-blue-500"],[1,"tw-hidden","tw-truncate","tw-max-w-0","md:tw-table-cell",3,"click"],[1,"tw-hidden","tw-truncate","tw-max-w-0","lg:tw-table-cell",3,"click"],[3,"click"],["class","tw-pill-danger",4,"ngIf"],["class","tw-pill-warning",4,"ngIf"],["id","userTableButton","type","button",1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click"],["id","viewOrEditIcon","aria-hidden","true",3,"ngClass"],["class","sr-only",4,"ngIf"],[1,"fas","fa-trash","tw-text-red-500","tw-mr-1"],[1,"fas","fa-exclamation-triangle","tw-text-orange-500","tw-mr-1"],[1,"tw-pill-danger"],[1,"tw-pill-warning"],[3,"onGoToPage","totalResults","currentPage","lastPage"]],template:function(Ht,Ye){if(1&Ht){const Xt=h.RV6();h.DNE(0,$t,2,0,"app-add-user",2),h.j41(1,"div",3),h.DNE(2,en,3,10,"div",4),h.j41(3,"div",5)(4,"div",6)(5,"label",7),h.nrm(6,"span",8),h.j41(7,"span",9),h.EFF(8),h.nI1(9,"translate"),h.k0s()(),h.j41(10,"input",10,0),h.nI1(12,"translate"),h.mxI("ngModelChange",function(ye){return h.eBV(Xt),h.DH7(Ye.searchTerm,ye)||(Ye.searchTerm=ye),h.Njj(ye)}),h.bIt("keyup",function(ye){return h.eBV(Xt),h.Njj(Ye.search(ye))}),h.k0s()(),h.j41(13,"button",11),h.bIt("click",function(){return h.eBV(Xt),h.Njj(Ye.showAdvancedFilters=!Ye.showAdvancedFilters)}),h.DNE(14,Ot,4,3,"span",12)(15,Yt,4,3,"span",12),h.k0s(),h.j41(16,"div",13)(17,"div",14)(18,"div",15)(19,"div",16)(20,"app-form-row",17)(21,"app-form-toggle",18)(22,"input",19),h.bIt("click",function(){return h.eBV(Xt),h.Njj(Ye.advancedFilter("claims"))}),h.k0s()()()()(),h.j41(23,"div",20)(24,"p",21),h.EFF(25),h.nI1(26,"translate"),h.k0s(),h.j41(27,"ul",22)(28,"li",23)(29,"button",24),h.bIt("click",function(){return h.eBV(Xt),h.Njj(Ye.filter("active"))}),h.EFF(30),h.nI1(31,"translate"),h.k0s()(),h.j41(32,"li",23)(33,"button",25),h.bIt("click",function(){return h.eBV(Xt),h.Njj(Ye.filter("blocked"))}),h.EFF(34),h.nI1(35,"translate"),h.k0s()(),h.j41(36,"li")(37,"button",26),h.bIt("click",function(){return h.eBV(Xt),h.Njj(Ye.filter("deleted"))}),h.EFF(38),h.nI1(39,"translate"),h.k0s()()()()(),h.nrm(40,"hr"),h.k0s()(),h.DNE(41,H,4,2,"app-action-bar",12)(42,te,1,0,"app-simple-loader",12)(43,Ue,4,3,"div",27)(44,Fn,22,16,"table",28)(45,Pn,1,3,"app-pager",29),h.k0s()}2&Ht&&(h.Y8G("ngIf",!Ye.isUserManagerReadOnly),h.R7$(2),h.Y8G("ngIf",Ye.limitReached),h.R7$(6),h.JRh(h.bMT(9,25,"Common.Search")),h.R7$(2),h.FS9("placeholder",h.bMT(12,27,"Users.SearchPlaceholder")),h.R50("ngModel",Ye.searchTerm),h.R7$(4),h.Y8G("ngIf",!Ye.showAdvancedFilters),h.R7$(),h.Y8G("ngIf",Ye.showAdvancedFilters),h.R7$(),h.Y8G("hidden",!Ye.showAdvancedFilters),h.R7$(4),h.Y8G("id","includeClaims")("label","Users.Filter.IncludeClaims")("help","Users.Filter.IncludeClaimsHelp")("isLast",!0),h.R7$(),h.Y8G("id","includeClaims"),h.R7$(4),h.JRh(h.bMT(26,29,"Auditing.Showing")),h.R7$(4),h.Y8G("ngClass",Ye.isShowing("active")?"tw-btn":"tw-btn-link"),h.R7$(),h.SpI(" ",h.bMT(31,31,"Users.Filter.Active")," "),h.R7$(3),h.Y8G("ngClass",Ye.isShowing("blocked")?"tw-btn":"tw-btn-link"),h.R7$(),h.SpI(" ",h.bMT(35,33,"Users.Filter.Blocked")," "),h.R7$(3),h.Y8G("ngClass",Ye.isShowing("deleted")?"tw-btn":"tw-btn-link"),h.R7$(),h.SpI(" ",h.bMT(39,35,"Users.Filter.Deleted")," "),h.R7$(3),h.Y8G("ngIf",!Ye.isLoading),h.R7$(),h.Y8G("ngIf",Ye.isLoading),h.R7$(),h.Y8G("ngIf",(null==Ye.pagedResult?null:Ye.pagedResult.results.length)<1&&!Ye.isLoading),h.R7$(),h.Y8G("ngIf",(null==Ye.pagedResult?null:Ye.pagedResult.results.length)>0&&!Ye.isLoading),h.R7$(),h.Y8G("ngIf",(null==Ye.pagedResult?null:Ye.pagedResult.results.length)>0&&!Ye.isLoading))},dependencies:[i.YU,i.Sq,i.bT,e.xH,e.y7,e.me,e.wz,e.BC,e.vS,Je.B,Ee.n,be.d,se.Y,Oe.m,Fe,_.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return We})();const wi=()=>["active"];function Rt(We,Gt){1&We&&(h.j41(0,"ul",10),h.nI1(1,"translate"),h.j41(2,"li",11)(3,"button",12),h.EFF(4),h.nI1(5,"translate"),h.k0s()(),h.j41(6,"li",11)(7,"button",13),h.EFF(8),h.nI1(9,"translate"),h.k0s()()()),2&We&&(h.BMQ("aria-label",h.bMT(1,5,"Nav.SubMenu")),h.R7$(3),h.Y8G("routerLinkActive",h.lJ4(11,wi)),h.R7$(),h.JRh(h.bMT(5,7,"Nav.Users")),h.R7$(3),h.Y8G("routerLinkActive",h.lJ4(12,wi)),h.R7$(),h.JRh(h.bMT(9,9,"Nav.SessionManagement")))}let Wt=(()=>{class We{constructor(ot,Ht,Ye){this.r=ot,this.route=Ht,this.configService=Ye}ngOnInit(){this.configService.getConfig().subscribe(ot=>{this.showSessionManagement=ot.featureFlagOptions.sessionManagementEnabled})}mobRoute(ot){this.r.navigate([ot],{relativeTo:this.route})}static{this.\u0275fac=function(Ht){return new(Ht||We)(h.rXU(v.Ix),h.rXU(v.nX),h.rXU(E.w))}}static{this.\u0275cmp=h.VBU({type:We,selectors:[["app-users-nav"]],decls:21,vars:17,consts:[[3,"hasTabs","title"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","list"],["value","sessions"],["class","tabs tw-hidden md:tw-flex","role","tablist",4,"ngIf"],["id","userRoutes"],["role","tablist",1,"tabs","tw-hidden","md:tw-flex"],[1,"tabs__item"],["type","button","routerLink","list","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","sessions","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"]],template:function(Ht,Ye){1&Ht&&(h.j41(0,"app-title-bar",0),h.nI1(1,"translate"),h.qex(2,1),h.j41(3,"div",2)(4,"label",3),h.EFF(5),h.nI1(6,"translate"),h.k0s(),h.j41(7,"div",4)(8,"select",5),h.bIt("change",function(ct){return Ye.mobRoute(ct.target.value)}),h.j41(9,"option",6),h.EFF(10),h.nI1(11,"translate"),h.k0s(),h.j41(12,"option",6),h.EFF(13),h.nI1(14,"translate"),h.k0s(),h.j41(15,"option",7),h.EFF(16),h.nI1(17,"translate"),h.k0s()()()(),h.DNE(18,Rt,10,13,"ul",8),h.bVm(),h.k0s(),h.j41(19,"div",9),h.nrm(20,"router-outlet"),h.k0s()),2&Ht&&(h.Y8G("hasTabs",!0)("title",h.bMT(1,7,"Nav.Users")),h.R7$(5),h.JRh(h.bMT(6,9,"Nav.SubMenu")),h.R7$(5),h.SpI("",h.bMT(11,11,"Nav.SubMenu"),"..."),h.R7$(3),h.JRh(h.bMT(14,13,"Nav.Users")),h.R7$(3),h.JRh(h.bMT(17,15,"Nav.SessionManagement")),h.R7$(2),h.Y8G("ngIf",Ye.showSessionManagement))},dependencies:[v.n3,v.Wk,v.wQ,i.bT,e.xH,e.y7,L.z,_.D9],encapsulation:2})}}return We})();const _t=(We,Gt)=>({title:We,link:Gt}),Nt=We=>[We],tn=()=>["active"];function En(We,Gt){1&We&&(h.j41(0,"span",25),h.EFF(1),h.nI1(2,"translate"),h.k0s()),2&We&&(h.R7$(),h.SpI(" ",h.bMT(2,1,"Users.Filter.Blocked")," "))}function Ln(We,Gt){1&We&&(h.j41(0,"span",26)(1,"span",27),h.EFF(2),h.nI1(3,"translate"),h.k0s(),h.nrm(4,"span",28),h.k0s()),2&We&&(h.R7$(2),h.JRh(h.bMT(3,1,"StarterMode.RequiresUpgrade")))}function un(We,Gt){1&We&&(h.j41(0,"div",29)(1,"p"),h.EFF(2),h.nI1(3,"translate"),h.nI1(4,"translate"),h.k0s()()),2&We&&(h.R7$(2),h.Lme("",h.bMT(3,2,"Users.Delete.DeletedUser")," ",h.bMT(4,4,"Users.Delete.AuditingPurposes"),""))}let ui=(()=>{class We{constructor(ot,Ht,Ye,Xt){this.route=ot,this.router=Ht,this.errorService=Ye,this.licenseService=Xt}ngOnInit(){this.userDataSubscription=this.route.data.subscribe(ot=>{this.user=ot.user},ot=>{this.errorService.handleError(ot)}),this.licenseService.getLicenseInfo().pipe((0,D.$)()).subscribe({next:ot=>{this.licenseInfo=ot}})}mobRoute(ot){this.router.navigate([ot],{relativeTo:this.route})}ngOnDestroy(){this.userDataSubscription.unsubscribe()}static{this.\u0275fac=function(Ht){return new(Ht||We)(h.rXU(v.nX),h.rXU(v.Ix),h.rXU(f.I),h.rXU(F.X))}}static{this.\u0275cmp=h.VBU({type:We,selectors:[["ng-component"]],decls:63,vars:73,consts:[[3,"title","crumbs","hasTabs","isReadOnly"],["badge",""],["class","tw-pill-warning tw-mr-2",4,"ngIf"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","details"],["value","roles"],["value","additionaldetails"],["value","applications"],["value","userlogins"],["value","useraudits"],["role","tablist",1,"tabs","tw-hidden","md:tw-flex"],[1,"tabs__item"],["type","button","routerLink","details","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","roles","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","additionaldetails","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","applications","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","userlogins","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","tabAudit","type","button","routerLink","useraudits","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","upgradeSymbol",4,"ngIf"],["id","viewUser"],["id","userDeleted","class","tw-alert-danger tw-container tw-mx-auto tw-mb-6",4,"ngIf"],[1,"tw-pill-warning","tw-mr-2"],["id","upgradeSymbol"],[1,"sr-only"],["aria-hidden","true",1,"tw-text-secondary-500","far","fa-arrow-alt-circle-up","tw-pl-1"],["id","userDeleted",1,"tw-alert-danger","tw-container","tw-mx-auto","tw-mb-6"]],template:function(Ht,Ye){1&Ht&&(h.j41(0,"app-title-bar",0),h.nI1(1,"translate"),h.nI1(2,"localize"),h.qex(3,1),h.DNE(4,En,3,3,"span",2),h.bVm(),h.qex(5,3),h.j41(6,"div",4)(7,"label",5),h.EFF(8),h.nI1(9,"translate"),h.k0s(),h.j41(10,"div",6)(11,"select",7),h.bIt("change",function(ct){return Ye.mobRoute(ct.target.value)}),h.j41(12,"option",8),h.EFF(13),h.nI1(14,"translate"),h.k0s(),h.j41(15,"option",8),h.EFF(16),h.nI1(17,"translate"),h.k0s(),h.j41(18,"option",9),h.EFF(19),h.nI1(20,"translate"),h.k0s(),h.j41(21,"option",10),h.EFF(22),h.nI1(23,"translate"),h.k0s(),h.j41(24,"option",11),h.EFF(25),h.nI1(26,"translate"),h.k0s(),h.j41(27,"option",12),h.EFF(28),h.nI1(29,"translate"),h.k0s(),h.j41(30,"option",13),h.EFF(31),h.nI1(32,"translate"),h.k0s()()()(),h.j41(33,"ul",14),h.nI1(34,"translate"),h.j41(35,"li",15)(36,"button",16),h.EFF(37),h.nI1(38,"translate"),h.k0s()(),h.j41(39,"li",15)(40,"button",17),h.EFF(41),h.nI1(42,"translate"),h.k0s()(),h.j41(43,"li",15)(44,"button",18),h.EFF(45),h.nI1(46,"translate"),h.k0s()(),h.j41(47,"li",15)(48,"button",19),h.EFF(49),h.nI1(50,"translate"),h.k0s()(),h.j41(51,"li",15)(52,"button",20),h.EFF(53),h.nI1(54,"translate"),h.k0s()(),h.j41(55,"li",15)(56,"button",21),h.EFF(57),h.nI1(58,"translate"),h.DNE(59,Ln,5,3,"span",22),h.k0s()()(),h.bVm(),h.k0s(),h.j41(60,"div",23),h.DNE(61,un,5,6,"div",24),h.nrm(62,"router-outlet"),h.k0s()),2&Ht&&(h.Y8G("title",Ye.user.firstName+" "+Ye.user.lastName)("crumbs",h.eq3(65,Nt,h.l_i(62,_t,h.bMT(1,28,"Nav.Users"),h.bMT(2,30,"/users"))))("hasTabs",!0)("isReadOnly",!0),h.R7$(4),h.Y8G("ngIf",Ye.user.isBlocked),h.R7$(4),h.JRh(h.bMT(9,32,"Nav.SubMenu")),h.R7$(5),h.SpI("",h.bMT(14,34,"Nav.SubMenu"),"..."),h.R7$(3),h.JRh(h.bMT(17,36,"Nav.Details")),h.R7$(3),h.JRh(h.bMT(20,38,"Nav.Roles")),h.R7$(3),h.JRh(h.bMT(23,40,"Nav.Additional Details")),h.R7$(3),h.JRh(h.bMT(26,42,"Nav.Applications")),h.R7$(3),h.JRh(h.bMT(29,44,"Nav.External Logins")),h.R7$(3),h.JRh(h.bMT(32,46,"Nav.Audits")),h.R7$(2),h.BMQ("aria-label",h.bMT(34,48,"Nav.SubMenu")),h.R7$(3),h.Y8G("routerLinkActive",h.lJ4(67,tn)),h.R7$(),h.JRh(h.bMT(38,50,"Nav.Details")),h.R7$(3),h.Y8G("routerLinkActive",h.lJ4(68,tn)),h.R7$(),h.JRh(h.bMT(42,52,"Nav.Roles")),h.R7$(3),h.Y8G("routerLinkActive",h.lJ4(69,tn)),h.R7$(),h.JRh(h.bMT(46,54,"Nav.Additional Details")),h.R7$(3),h.Y8G("routerLinkActive",h.lJ4(70,tn)),h.R7$(),h.JRh(h.bMT(50,56,"Nav.Applications")),h.R7$(3),h.Y8G("routerLinkActive",h.lJ4(71,tn)),h.R7$(),h.JRh(h.bMT(54,58,"Nav.External Logins")),h.R7$(3),h.Y8G("routerLinkActive",h.lJ4(72,tn)),h.R7$(),h.SpI(" ",h.bMT(58,60,"Nav.Audits")," "),h.R7$(2),h.Y8G("ngIf",Ye.licenseInfo.isStarterLicense()),h.R7$(2),h.Y8G("ngIf",Ye.user.isDeleted))},dependencies:[v.n3,v.Wk,v.wQ,i.bT,L.z,_.D9,y.tl],encapsulation:2})}}return We})();var jn=p(3178),It=p(5358),dt=p(3218),Dt=p(2892),Vt=p(4811),Zt=p(4446),gn=p(2633);const mn=[{path:"users",component:Wt,children:[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:ki},{path:"sessions",component:It.Z,canActivate:[dt.O]}],canActivate:[Dt.h,Zt._],data:{permissions:[jn.a[jn.a.UserManager],jn.a[jn.a.UserManagerReadOnly],jn.a[jn.a.AllReadOnly],jn.a[jn.a.All]]}},{path:"users/:Id",component:Q,loadChildren:()=>Promise.all([p.e(861),p.e(76),p.e(866)]).then(p.bind(p,866)).then(We=>We.EditUsersModule),resolve:{user:Vt.M},canActivate:[Dt.h,Zt._,gn.g],data:{permissions:[jn.a[jn.a.UserManager],jn.a[jn.a.All]]}},{path:"users/view/:Id",loadChildren:()=>Promise.all([p.e(861),p.e(76),p.e(855)]).then(p.bind(p,4855)).then(We=>We.ViewUserModule),component:ui,canActivate:[Dt.h,Zt._],resolve:{user:Vt.M},data:{permissions:[jn.a[jn.a.UserManager],jn.a[jn.a.UserManagerReadOnly],jn.a[jn.a.AllReadOnly],jn.a[jn.a.All]]}}];let zn=(()=>{class We{static{this.\u0275fac=function(Ht){return new(Ht||We)}}static{this.\u0275mod=h.$C({type:We})}static{this.\u0275inj=h.G2t({imports:[v.iI.forChild(mn),y.XE.forChild(mn),v.iI]})}}return We})();var Tn=p(1683),pn=p(2571),ai=p(5663),fi=p(9475),qn=p(367),Pi=p(5731),Kn=p(4193),Si=p(3665),pi=p(7175),Wi=p(8389),Hi=p(6599),Ei=p(3730),qe=p(7677);let St=(()=>{class We{static{this.\u0275fac=function(Ht){return new(Ht||We)}}static{this.\u0275mod=h.$C({type:We})}static{this.\u0275inj=h.G2t({providers:[Vt.M,ai.Q],imports:[zn,i.MD,e.YN,e.X1,w.Q_,Tn.Y,_.h,pn.A,I.Ss,y.XE,fi.F,qn.m,Pi.i,Kn.c,Si.t,pi.c,Wi.w,Hi.Y,v.iI,It.Z,Ei.ClaimTypesModule,qe.N]})}}return We})()},4861:(lt,we,p)=>{"use strict";p.d(we,{M:()=>i});let i=(()=>{class e{static{this.DefaultAdministratorUsername="info@rocksolidknowledge.com"}}return e})()},5358:(lt,we,p)=>{"use strict";p.d(we,{Z:()=>_e});var i=p(9417),e=p(1583),v=p(4549),y=p(1626),w=p(7263),I=p(4438),D=p(9564);let h=(()=>{class Ce{constructor(Fe,rt){this.http=Fe,this.headersService=rt,this.actionUrl="ServerSideSession",this.headers=this.headersService.setHeaders()}buildParams(Fe,rt,kt,mt,tt,$t,en){let Ot=new y.Nl;return null!=Fe&&(Ot=Ot.append("query",Fe)),(0,w.gP)(mt)||(Ot=Ot.append("sort",mt)),rt&&(Ot=Ot.append("created",rt)),kt&&(Ot=Ot.append("expires",kt)),tt&&(Ot=Ot.append("page",String(tt))),$t&&(Ot=Ot.append("pageSize",String($t))),en&&(Ot=Ot.append("filterExpired",String(en))),Ot}getSessions(Fe,rt,kt,mt,tt,$t,en){const Ot=this.buildParams(Fe,rt,kt,mt,tt,$t,en);return this.http.get(this.actionUrl,{headers:this.headers,params:Ot})}deleteSession(Fe){return this.http.delete(`${this.actionUrl}/${Fe}`,{headers:this.headers})}static{this.\u0275fac=function(rt){return new(rt||Ce)(I.KVO(y.Qq),I.KVO(D.m))}}static{this.\u0275prov=I.jDH({token:Ce,factory:Ce.\u0275fac})}}return Ce})();var f=p(177),E=p(1780),F=p(5731),L=p(1683),_=p(1413),M=p(8359),N=p(7175),P=p(1594),G=p(9172),x=p(1397),V=p(6599),Q=p(8251),Y=p(8577),le=p(4252),fe=p(4367),K=p(1258),ee=p(7185),ie=p(2390);class T{constructor(st,Fe,rt,kt,mt,tt){this.query=st,this.page=Fe,this.pageSize=rt,this.sortCriteria=kt,this.fromDate=mt,this.toDate=tt}}class ae{constructor(st){this.query=st.query,this.page=st.page,this.pageSize=st.pageSize,this.sortCriteria=st.sortCriteria,this.fromDate=st.fromDate?.toString(),this.toDate=st.toDate?.toString()}}var re=function(Ce){return Ce.ByUser="user",Ce.ByUserDescending="-user",Ce.ByScheme="scheme",Ce.BySchemeDescending="-scheme",Ce.ByCreated="created",Ce.ByCreatedDescending="-created",Ce.ByExpires="expires",Ce.ByExpiresDescending="-expires",Ce.ByRenewed="renewed",Ce.ByRenewedDescending="-renewed",Ce}(re||{}),Me=p(923),Qe=p(7005),Le=p(9812),Ne=p(4754),Je=p(7883),Ee=p(5424),be=p(3488),se=p(7156),Oe=p(7384),Ie=p(6536),it=p(3899);const xe=Ce=>[Ce];function pt(Ce,st){1&Ce&&(I.j41(0,"span",34),I.EFF(1),I.nI1(2,"translate"),I.k0s()),2&Ce&&(I.R7$(),I.SpI(" ",I.bMT(2,1,"Auditing.FromDateWarning")," "))}function vt(Ce,st){1&Ce&&(I.j41(0,"span",35),I.EFF(1),I.nI1(2,"translate"),I.k0s()),2&Ce&&(I.R7$(),I.SpI(" ",I.bMT(2,1,"Auditing.ToDateBehindWarning")," "))}function hn(Ce,st){1&Ce&&(I.j41(0,"div",32)(1,"div",36)(2,"div",37)(3,"div",38),I.nrm(4,"input",39,2),I.nI1(6,"translate"),I.nI1(7,"translate"),I.k0s()()()()),2&Ce&&(I.R7$(4),I.BMQ("placeholder",I.bMT(6,2,"Auditing.FilterTermPlaceholder"))("aria-label",I.bMT(7,4,"Auditing.AddFilterTerm")))}function ln(Ce,st){1&Ce&&(I.j41(0,"p",40),I.nrm(1,"span",41),I.EFF(2),I.nI1(3,"translate"),I.k0s()),2&Ce&&(I.R7$(2),I.SpI(" ",I.bMT(3,1,"Auditing.UpdateWarning")," "))}function Mt(Ce,st){1&Ce&&I.nrm(0,"app-simple-loader")}function xt(Ce,st){1&Ce&&(I.j41(0,"div",42)(1,"div"),I.EFF(2),I.nI1(3,"translate"),I.k0s()()),2&Ce&&(I.R7$(2),I.JRh(I.bMT(3,1,"SessionManagement.NoSessionsFound")))}function z(Ce,st){if(1&Ce&&I.nrm(0,"app-data-table-column",48),2&Ce){const Fe=I.XpG(2);I.Y8G("prop","user")("title","Auditing.Subject")("link","resourceLink")("headClasses","tw-hidden xs:tw-table-cell lg:tw-w-1/4")("sort",Fe.sortingEnum.None)}}function W(Ce,st){if(1&Ce&&(I.j41(0,"app-data-table",43),I.DNE(1,z,1,5,"app-data-table-column",44),I.nrm(2,"app-data-table-column",45)(3,"app-data-table-column",46)(4,"app-data-table-column",47)(5,"app-data-table-column",46),I.k0s()),2&Ce){const Fe=I.XpG();I.Y8G("rows",Fe.pagedResult.results)("actions",Fe.dataTableActions),I.R7$(),I.Y8G("ngIf",!Fe.resourceOnly()),I.R7$(),I.Y8G("prop","scheme")("title","SessionManagement.Scheme")("headClasses","tw-hidden tw-w-32 md:tw-table-cell xl:tw-w-40"),I.R7$(),I.Y8G("prop","created")("title","SessionManagement.Created")("headClasses","tw-hidden tw-w-32 md:tw-table-cell xl:tw-w-40")("date",Fe.dateColumn(Fe.DatePipeNames.prettyDateTime)),I.R7$(),I.Y8G("prop","expires")("title","SessionManagement.Expires")("headClasses","tw-hidden tw-w-32 md:tw-table-cell xl:tw-w-40")("date",Fe.dateColumn(Fe.DatePipeNames.prettyDateTime,"SessionManagement.NoExpiration"))("sort",Fe.sortingEnum.Descending),I.R7$(),I.Y8G("prop","renewed")("title","SessionManagement.Renewed")("headClasses","tw-hidden tw-w-32 md:tw-table-cell xl:tw-w-40")("date",Fe.dateColumn(Fe.DatePipeNames.prettyDateTime,"SessionManagement.NotRenewed"))}}function J(Ce,st){if(1&Ce){const Fe=I.RV6();I.j41(0,"app-pager",49),I.bIt("onGoToPage",function(kt){I.eBV(Fe);const mt=I.XpG();return I.Njj(mt.goToPage(kt))}),I.k0s()}if(2&Ce){const Fe=I.XpG();I.Y8G("totalResults",null==Fe.pagedResult?null:Fe.pagedResult.totalCount)("currentPage",Fe.filterForm.get("page").value)("lastPage",null==Fe.pagedResult?null:Fe.pagedResult.pageCount)}}let _e=(()=>{class Ce{resourceOnly(){return!(0,w.gP)(this.resourceName)}constructor(Fe,rt,kt,mt,tt,$t,en,Ot,Yt,je){this.sessionManagementService=Fe,this.localizeRouter=rt,this.router=kt,this.fb=mt,this.activatedRoute=tt,this.dataTableService=$t,this.modalService=en,this.securityService=Ot,this.errorService=Yt,this.systemClock=je,this.isLoading=!1,this.sortingEnum=ie.uy,this.filterHasChanged=!1,this.sessionStream=new _.B,this.dateColumn=(oe,H)=>new Y.$(oe,H),this.DatePipeNames=Me.N,this.dataTableActions=[le.AA.Delete],this.deleteModalId="SessionManagement",this.modelActions=K.N,this.deleteModalType=ee.q.Warning,this.resourceName="",this.dataTableServiceSubscriptions=new M.yU}ngOnDestroy(){this.dataTableServiceSubscriptions.unsubscribe()}userManagerReadOnly(){return(0,w.zG)(this.securityService.userPermissions)}ngOnInit(){this.translatedRoute=this.buildTranslatedRoute(),this.dataTableActions=this.userManagerReadOnly()?[]:[le.AA.Delete],this.activatedRoute.parent.url.pipe((0,P.$)()).subscribe({next:Fe=>{this.resourceName=Fe[1]?.path??"",this.initDataSource()},error:Fe=>this.errorService.handleError(Fe)}),this.dataTableServiceSubscriptions.add(this.dataTableService.sortColumnEvent.subscribe(Fe=>{this.sortResults(Fe)})),this.dataTableServiceSubscriptions.add(this.dataTableService.deleteRowEvent.subscribe(Fe=>{this.openDeleteModal(this.pagedResult.results[Fe])}))}initDataSource(){this.setupFilterForm(this.activatedRoute.snapshot.queryParams),this.sessionStream.pipe((0,G.Z)({query:this.filterForm.value.query,fromDate:this.filterForm.value.fromDate??this.systemClock.now().minus({month:1}).toString(),toDate:this.filterForm.value.toDate??this.systemClock.now().plus({month:1}).toString(),sortCriteria:this.filterForm.value.sortCriteria,page:this.filterForm.value.page,pageSize:this.filterForm.value.pageSize}),(0,x.Z)(rt=>(this.isLoading=!0,this.sessionManagementService.getSessions(rt.query||"",rt.fromDate?.toString(),rt.toDate?.toString(),rt.sortCriteria||"-when",rt.page,rt.pageSize,this.resourceOnly())))).subscribe(rt=>{this.isLoading=!1,this.pagedResult={totalCount:rt.totalCount,pageSize:rt.pageSize,currentPage:rt.currentPage,pageCount:rt.pageCount,results:rt.results.map(kt=>new ie.j2(kt,this.translatedRoute))}})}applyForm(Fe){Fe&&this.filterForm.patchValue({page:1}),this.resourceOnly()&&this.filterForm.patchValue({query:this.resourceName});const rt=this.filterForm.value;this.filterForm.patchValue({fromDate:rt.fromDate,toDate:rt.toDate}),this.sessionStream.next(rt),this.router.navigate([this.router.url.split("?")[0]],{queryParams:new ae(this.filterForm.value)}),this.filterHasChanged=!1}goToPage(Fe){this.filterForm.patchValue({page:Fe}),this.applyForm(!1)}buildTranslatedRoute(){return this.userManagerReadOnly()?`${this.localizeRouter.translateRoute("/users/view")}`:`${this.localizeRouter.translateRoute("/users")}`}resetForm(){this.filterForm.setValue({fromDate:this.systemClock.now().minus({month:1}).toString(),toDate:this.systemClock.now().plus({month:1}).toString(),query:this.resourceName??"",page:1,pageSize:25,sortCriteria:re.ByExpiresDescending}),this.filterHasChanged=!1,this.applyForm(!0)}openDeleteModal(Fe){this.sessionToDelete=Fe,this.modalService.showById(this.deleteModalId,null)}closeDeleteModal(){this.sessionToDelete=null,this.modalService.hideById(this.deleteModalId)}removeSession(){if(null==this.sessionToDelete)throw new Error("Delete called without target");this.delete()}delete(){this.sessionManagementService.deleteSession(this.sessionToDelete.sessionId).subscribe({next:()=>{this.sessionToDelete=null,this.applyForm(!1),this.closeDeleteModal()},error:Fe=>{this.errorService.handleError(Fe)}})}sortResults(Fe){const rt=this.activatedRoute.snapshot.queryParams,kt=(0,w.gP)(rt?.fromDate)?this.systemClock.now().minus({month:1}):v.c9.fromISO(rt.fromDate),mt=(0,w.gP)(rt?.toDate)?this.systemClock.now().plus({month:1}):v.c9.fromISO(rt.toDate),tt=new T(rt.query,rt.page,rt.pageSize,this.getSortFromColumnName(Fe.prop,rt.sortCriteria),kt,mt),$t=this.filterHasChanged;this.filterForm.patchValue({sortCriteria:tt.sortCriteria}),this.sessionStream.next(tt),this.filterHasChanged=$t,this.router.navigate([this.router.url.split("?")[0]],{queryParams:new ae(tt)}),this.dataTableService.sortCompletedEvent.next(Fe.prop)}getSortFromColumnName(Fe,rt){switch(Fe){case"user":return rt===re.ByUserDescending?re.ByUser:re.ByUserDescending;case"expires":return rt===re.ByExpiresDescending?re.ByExpires:re.ByExpiresDescending;default:return re.ByExpiresDescending}}setupFilterForm(Fe){const rt=(0,w.gP)(Fe?.fromDate)?this.systemClock.now().minus({month:1}):v.c9.fromISO(Fe.fromDate),kt=(0,w.gP)(Fe?.toDate)?this.systemClock.now().plus({month:1}):v.c9.fromISO(Fe.toDate);this.filterForm=this.fb.nonNullable.group({fromDate:[rt,[w.TO]],toDate:[kt],query:[this.resourceName||""],page:[Fe?.page||1],pageSize:[Fe?.pageSize>1e3?1e3:Fe?.pageSize||25],sortCriteria:[Fe?.sortCriteria||re.ByExpiresDescending]},{validators:w.$N}),this.filterForm.valueChanges.subscribe(()=>{this.filterHasChanged=!0})}static{this.\u0275fac=function(rt){return new(rt||Ce)(I.rXU(h),I.rXU(Qe.QG),I.rXU(e.Ix),I.rXU(i.ok),I.rXU(e.nX),I.rXU(Le.I),I.rXU(Ne.B),I.rXU(Je.i),I.rXU(Ee.I),I.rXU(be.F))}}static{this.\u0275cmp=I.VBU({type:Ce,selectors:[["app-sessionmanagement"]],standalone:!0,features:[I.Jv_([h]),I.aNF],decls:56,vars:42,consts:[["pageLength",""],["sortCriteria",""],["filterValue",""],["id","sessionList",1,"tw-container","tw-mx-auto"],[1,"",3,"formGroup"],[1,"tw-border-b","tw-border-grey-200","tw-mb-4","tw-pb-5"],[1,"tw-flex-grid","tw-mb-3","lg:tw-flex-nowrap"],[1,"tw-flex-grid-col","xs:tw-w-1/2","lg:tw-w-1/3"],[1,"tw-form-group","tw-mb-0"],["for","fromDate",1,"tw-form-label"],["id","fromDate","name","fromDate","formControlName","fromDate","aria-describedby","toErrorLabel",3,"displayType"],["id","fromErrorLabel","class","tw-form-text-danger",4,"ngIf"],["for","toDate",1,"tw-form-label"],["id","toDate","name","toDate","formControlName","toDate","aria-describedby","toErrorLabel",3,"displayType"],["id","toErrorLabel","class","tw-form-text-danger",4,"ngIf"],[1,"tw-flex-grid-col","tw-w-40","tw-ml-auto"],["for","pageSize",1,"tw-form-label"],[1,"tw-form-select"],["id","pageSize","formControlName","pageSize",1,"tw-form-control"],[3,"value"],["class","tw-mb-4",4,"ngIf"],[1,"tw-flex","tw-flex-wrap","tw-items-center"],["type","hidden"],["id","applyBtn",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],[1,"tw-btn-link","tw-mr-3",3,"click"],["class","tw-pill-warning tw-my-2",4,"ngIf"],[4,"ngIf"],["class","tw-alert","role","alert",4,"ngIf"],[3,"rows","actions",4,"ngIf"],[3,"totalResults","currentPage","lastPage","onGoToPage",4,"ngIf"],[3,"onCancel","onDelete","title","modalId","actions","modalType"],[1,"tw-text-center"],[1,"tw-mb-4"],[1,"tw-pill-danger",3,"innerHTML"],["id","fromErrorLabel",1,"tw-form-text-danger"],["id","toErrorLabel",1,"tw-form-text-danger"],["aria-labelledby","showFilterButton",1,"tw-mt-3","tw-mb-6"],[1,"tw-flex-grid","md:tw-flex-nowrap"],[1,"tw-flex-grid-col","tw-flex","xs:tw-w-3/5","sm:tw-w-1/2"],["formControlName","query","id","filterTerm","type","text","autocomplete","off",1,"tw-form-control","tw-border-r-1"],[1,"tw-pill-warning","tw-my-2"],["aria-hidden","true",1,"fas","fa-info-circle","tw-mr-1"],["role","alert",1,"tw-alert"],[3,"rows","actions"],[3,"prop","title","link","headClasses","sort",4,"ngIf"],[3,"prop","title","headClasses"],[3,"prop","title","headClasses","date"],[3,"prop","title","headClasses","date","sort"],[3,"prop","title","link","headClasses","sort"],[3,"onGoToPage","totalResults","currentPage","lastPage"]],template:function(rt,kt){if(1&rt){const mt=I.RV6();I.j41(0,"div",3)(1,"form",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"div",8)(6,"label",9),I.EFF(7),I.nI1(8,"translate"),I.k0s(),I.j41(9,"div"),I.nrm(10,"app-date-time",10),I.DNE(11,pt,3,3,"span",11),I.k0s()()(),I.j41(12,"div",7)(13,"div",8)(14,"label",12),I.EFF(15),I.nI1(16,"translate"),I.k0s(),I.j41(17,"div"),I.nrm(18,"app-date-time",13),I.DNE(19,vt,3,3,"span",14),I.k0s()()(),I.j41(20,"div",15)(21,"div",8)(22,"label",16),I.EFF(23),I.nI1(24,"translate"),I.k0s(),I.j41(25,"div",17)(26,"select",18,0)(28,"option",19),I.EFF(29,"25 "),I.k0s(),I.j41(30,"option",19),I.EFF(31,"50"),I.k0s(),I.j41(32,"option",19),I.EFF(33,"100"),I.k0s()()()()()(),I.DNE(34,hn,8,6,"div",20),I.j41(35,"div",21),I.nrm(36,"input",22,1),I.j41(38,"button",23),I.bIt("click",function(){return I.eBV(mt),I.Njj(kt.applyForm(!0))}),I.EFF(39),I.nI1(40,"translate"),I.k0s(),I.j41(41,"button",24),I.bIt("click",function(){return I.eBV(mt),I.Njj(kt.resetForm())}),I.EFF(42),I.nI1(43,"translate"),I.k0s(),I.DNE(44,ln,4,3,"p",25),I.k0s()()(),I.DNE(45,Mt,1,0,"app-simple-loader",26)(46,xt,4,3,"div",27)(47,W,6,19,"app-data-table",28)(48,J,1,3,"app-pager",29),I.k0s(),I.j41(49,"app-custom-modal",30),I.bIt("onCancel",function(){return I.eBV(mt),I.Njj(kt.closeDeleteModal())})("onDelete",function(){return I.eBV(mt),I.Njj(kt.removeSession())}),I.j41(50,"div",31)(51,"p",32),I.EFF(52),I.nI1(53,"translate"),I.k0s(),I.nrm(54,"p",33),I.nI1(55,"translate"),I.k0s()()}if(2&rt){let mt;I.R7$(),I.Y8G("formGroup",kt.filterForm),I.R7$(6),I.JRh(I.bMT(8,26,"SessionManagement.Created")),I.R7$(3),I.Y8G("displayType","datetime"),I.R7$(),I.Y8G("ngIf",kt.filterForm.get("fromDate").hasError("dateInFuture")),I.R7$(4),I.JRh(I.bMT(16,28,"SessionManagement.Expires")),I.R7$(3),I.Y8G("displayType","datetime"),I.R7$(),I.Y8G("ngIf",kt.filterForm.hasError("fromDateIsAfterToDate")),I.R7$(4),I.JRh(I.bMT(24,30,"Auditing.ResultsPerPage")),I.R7$(5),I.Y8G("value",25),I.R7$(2),I.Y8G("value",50),I.R7$(2),I.Y8G("value",100),I.R7$(2),I.Y8G("ngIf",!kt.resourceOnly()),I.R7$(4),I.Y8G("disabled",(null==kt.filterForm?null:kt.filterForm.errors)||(null==(mt=kt.filterForm.get("fromDate"))?null:mt.hasError("dateInFuture"))),I.R7$(),I.SpI(" ",I.bMT(40,32,"Auditing.ExecuteAndDisplay")," "),I.R7$(3),I.SpI(" ",I.bMT(43,34,"Auditing.Reset")," "),I.R7$(2),I.Y8G("ngIf",kt.filterHasChanged),I.R7$(),I.Y8G("ngIf",kt.isLoading),I.R7$(),I.Y8G("ngIf",(null==kt.pagedResult?null:kt.pagedResult.results.length)<1&&!kt.isLoading),I.R7$(),I.Y8G("ngIf",(null==kt.pagedResult?null:kt.pagedResult.results.length)>0),I.R7$(),I.Y8G("ngIf",(null==kt.pagedResult?null:kt.pagedResult.results.length)>0&&!kt.isLoading),I.R7$(),I.Y8G("title","Settings.Keys.DeleteKey")("modalId",kt.deleteModalId)("actions",I.eq3(40,xe,kt.modelActions.Delete))("modalType",kt.deleteModalType),I.R7$(3),I.JRh(I.bMT(53,36,"Common.Delete.AreYouSureSimple")),I.R7$(2),I.Y8G("innerHTML",I.bMT(55,38,"Common.Delete.Warning"),I.npT)}},dependencies:[f.MD,f.bT,E.h,E.D9,e.iI,F.i,se.B,L.Y,N.c,Oe.d,i.X1,i.qT,i.xH,i.y7,i.me,i.wz,i.BC,i.cb,i.j4,i.JD,V.Y,Ie.Z,Q.h,le.up,Y.w,fe.N,it.G],encapsulation:2})}}return Ce})()},2390:(lt,we,p)=>{"use strict";p.d(we,{j2:()=>e,uy:()=>i});var i=function(y){return y[y.None=0]="None",y[y.Ascending=1]="Ascending",y[y.Descending=2]="Descending",y}(i||{});class e{get routeLink(){return`${this.link.routeForLink}/${this.link.identifier}`}constructor(w,I){this.sort=i.None,this.sessionId=w.sessionId,this.scheme=w.scheme,this.created=w.created,this.expires=w.expires,this.renewed=w.renewed,this.user=w.user.name??w.user.identifier,this.link={identifier:w.user.identifier,routeForLink:I}}}},5517:(lt,we,p)=>{"use strict";p.d(we,{H:()=>D});var i=p(1594),e=p(6354),v=p(4438),y=p(3853),w=p(1583),I=p(7005);let D=(()=>{class h{constructor(E,F,L){this.licenseService=E,this.router=F,this.localizeRouter=L}canActivate(E,F){return this.licenseService.getLicenseInfo().pipe((0,i.$)(),(0,e.T)(L=>{if(L.isStarterLicense())return!0;{const _=this.localizeRouter.translateRoute("/home");this.router.navigate([_])}}))}static{this.\u0275fac=function(F){return new(F||h)(v.KVO(y.X),v.KVO(w.Ix),v.KVO(I.QG))}}static{this.\u0275prov=v.jDH({token:h,factory:h.\u0275fac})}}return h})()},4446:(lt,we,p)=>{"use strict";p.d(we,{_:()=>D});var i=p(1594),e=p(6354),v=p(4438),y=p(3853),w=p(1583),I=p(7005);let D=(()=>{class h{constructor(E,F,L){this.licenseService=E,this.router=F,this.localizeRouter=L}canActivate(E,F){return this.licenseService.getLicenseInfo().pipe((0,i.$)(),(0,e.T)(L=>{if(!L.isExpectingStarterConsent())return!0;{const _=this.localizeRouter.translateRoute("/starter-mode/consent");this.router.navigate([_])}}))}static{this.\u0275fac=function(F){return new(F||h)(v.KVO(y.X),v.KVO(w.Ix),v.KVO(I.QG))}}static{this.\u0275prov=v.jDH({token:h,factory:h.\u0275fac})}}return h})()},6923:(lt,we,p)=>{"use strict";p.d(we,{q:()=>h});var i=p(1594),e=p(6354),v=p(6976),y=p(4438),w=p(3853),I=p(1583),D=p(7005);let h=(()=>{class f{constructor(F,L,_){this.licenseService=F,this.router=L,this.localizeRouter=_,this.featureMap=new Map([["dynamic-auth",v.p.DynamicAuthentication],["auditing",v.p.Auditing],["clientaudits",v.p.Auditing],["useraudits",v.p.Auditing]])}canActivate(F,L){return this.licenseService.getLicenseInfo().pipe((0,i.$)(),(0,e.T)(_=>{if(!_.isStarterLicense())return!0;{const M=this.localizeRouter.translateRoute("/starter-mode/teaser");let N=v.p.None,P=L.url;for(let G of this.featureMap.entries())if(P.includes(G[0])){N=G[1];break}this.router.navigate([M],{queryParams:{feature:N}})}}))}static{this.\u0275fac=function(L){return new(L||f)(y.KVO(w.X),y.KVO(I.Ix),y.KVO(D.QG))}}static{this.\u0275prov=y.jDH({token:f,factory:f.\u0275fac})}}return f})()},8853:(lt,we,p)=>{"use strict";p.d(we,{a:()=>D});var i=p(1594),e=p(6354),v=p(4438),y=p(3853),w=p(1583),I=p(7005);let D=(()=>{class h{constructor(E,F,L){this.licenseService=E,this.router=F,this.localizeRouter=L}canActivate(E,F){return this.licenseService.getLicenseInfo().pipe((0,i.$)(),(0,e.T)(L=>{if(!L.overClientLimit)return!0;{let M=F.url.split("/clients/")[1];const N=[this.localizeRouter.translateRoute("/clients/view/"+M)];this.router.navigate(N)}}))}static{this.\u0275fac=function(F){return new(F||h)(v.KVO(y.X),v.KVO(w.Ix),v.KVO(I.QG))}}static{this.\u0275prov=v.jDH({token:h,factory:h.\u0275fac})}}return h})()},2633:(lt,we,p)=>{"use strict";p.d(we,{g:()=>D});var i=p(1594),e=p(6354),v=p(4438),y=p(3853),w=p(1583),I=p(7005);let D=(()=>{class h{constructor(E,F,L){this.licenseService=E,this.router=F,this.localizeRouter=L}canActivate(E,F){return this.licenseService.getLicenseInfo().pipe((0,i.$)(),(0,e.T)(L=>{if(!L.overUserLimit)return!0;{let M=F.url.split("/users/")[1];const N=[this.localizeRouter.translateRoute("/users/view/"+M)];this.router.navigate(N)}}))}static{this.\u0275fac=function(F){return new(F||h)(v.KVO(y.X),v.KVO(w.Ix),v.KVO(I.QG))}}static{this.\u0275prov=v.jDH({token:h,factory:h.\u0275fac})}}return h})()},9624:(lt,we,p)=>{"use strict";p.r(we),p.d(we,{StarterModeModule:()=>be});var i=p(1583),e=p(7005),v=p(6976),y=p(4438),w=p(1780),I=p(3680),D=p(6406);let h=(()=>{class se{constructor(Ie,it,xe){this.route=Ie,this.translate=it,this.router=xe,this.featureMap=new Map([[v.p.DynamicAuthentication,this.translate.instant("DynamicAuth.Title.Generic")],[v.p.Auditing,this.translate.instant("Auditing.Title")],[v.p.ImportExportClients,this.translate.instant("Clients.Import.ImportExportClients")],[v.p.ExtraClientFlows,this.translate.instant("StarterMode.Clients.ExtraClientFlows")]])}ngOnInit(){this.generateDescription(),this.router.events.subscribe(Ie=>{this.generateDescription()})}generateDescription(){const Ie=+this.route.snapshot.queryParamMap.get("feature");if(Ie in v.p&&Ie!=v.p.None){const xe=this.translate.instant("StarterMode.Teaser.RedirectedDescription").split("{0}");this.featureDescription=this.featureMap.get(Ie),this.preFeatureDescription=xe[0],this.postFeatureDescription=xe[1]}else this.preFeatureDescription=this.translate.instant("StarterMode.Teaser.Description")}static{this.\u0275fac=function(it){return new(it||se)(y.rXU(i.nX),y.rXU(w.c$),y.rXU(i.Ix))}}static{this.\u0275cmp=y.VBU({type:se,selectors:[["ng-component"]],decls:40,vars:33,consts:[[3,"title"],["id","StarterModeAgreement",1,"tw-container","mx-auto"],[1,"cms"],["id","description"],[1,"tw-list-disc","tw-list-inside","tw-indent-8"],["id","UpgradeAdminUI","href","https://www.identityserver.com/products/adminui/order-now?index=2&name=Enterprise","target","_blank",1,"tw-btn-success","tw-mr-3","tw-mb-3"],["id","ExtendDemo","href","mailto:support@identityserver.com?subject=Extend my AdminUI demo license",1,"tw-btn","tw-mr-3","tw-mb-3"]],template:function(it,xe){1&it&&(y.nrm(0,"app-title-bar",0),y.nI1(1,"translate"),y.j41(2,"div",1)(3,"div",2)(4,"p",3),y.EFF(5),y.j41(6,"strong"),y.EFF(7),y.k0s(),y.EFF(8),y.k0s(),y.j41(9,"ul",4)(10,"li"),y.EFF(11),y.nI1(12,"translate"),y.k0s(),y.j41(13,"li"),y.EFF(14),y.nI1(15,"translate"),y.k0s(),y.j41(16,"li"),y.EFF(17),y.nI1(18,"translate"),y.k0s(),y.j41(19,"li"),y.EFF(20),y.nI1(21,"translate"),y.k0s(),y.j41(22,"li"),y.EFF(23),y.nI1(24,"translate"),y.k0s(),y.j41(25,"li"),y.EFF(26),y.nI1(27,"translate"),y.k0s(),y.j41(28,"li"),y.EFF(29),y.nI1(30,"translate"),y.k0s()()()(),y.j41(31,"app-button-bar")(32,"a",5)(33,"span"),y.EFF(34),y.nI1(35,"translate"),y.k0s()(),y.j41(36,"a",6)(37,"span"),y.EFF(38),y.nI1(39,"translate"),y.k0s()()()),2&it&&(y.Y8G("title",y.bMT(1,13,"StarterMode.Teaser.Title")),y.R7$(5),y.SpI("",xe.preFeatureDescription," "),y.R7$(2),y.JRh(xe.featureDescription),y.R7$(),y.SpI(" ",xe.postFeatureDescription,""),y.R7$(3),y.JRh(y.bMT(12,15,"StarterMode.Teaser.Features.Authentication")),y.R7$(3),y.JRh(y.bMT(15,17,"StarterMode.Teaser.Features.UsersAndClients")),y.R7$(3),y.JRh(y.bMT(18,19,"StarterMode.Teaser.Features.ExtraClientFlows")),y.R7$(3),y.JRh(y.bMT(21,21,"StarterMode.Teaser.Features.Audits")),y.R7$(3),y.JRh(y.bMT(24,23,"StarterMode.Teaser.Features.Access")),y.R7$(3),y.JRh(y.bMT(27,25,"StarterMode.Teaser.Features.Import")),y.R7$(3),y.JRh(y.bMT(30,27,"StarterMode.Teaser.Features.DynamicAuth")),y.R7$(5),y.JRh(y.bMT(35,29,"StarterMode.UpgradeAdminUI")),y.R7$(4),y.JRh(y.bMT(39,31,"StarterMode.ExtendDemo")))},dependencies:[I.z,D.z,w.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return se})();var f=p(1594),E=p(3178),F=p(7773),L=p(1626),_=p(9564);let M=(()=>{class se{constructor(Ie,it){this.http=Ie,this.headersService=it,this.headers=new L.Lr,this.actionUrl="StarterMode",this.headers=it.setHeaders()}storeConsent(){return this.http.put(this.actionUrl,null,{headers:this.headers}).pipe()}static{this.\u0275fac=function(it){return new(it||se)(y.KVO(L.Qq),y.KVO(_.m))}}static{this.\u0275prov=y.jDH({token:se,factory:se.\u0275fac})}}return se})();var N=p(5794),P=p(1339),G=p(9196),x=p(177),V=p(8114);function Q(se,Oe){1&se&&(y.j41(0,"div",15)(1,"p",16)(2,"span"),y.EFF(3),y.nI1(4,"translate"),y.k0s()()()),2&se&&(y.R7$(3),y.JRh(y.bMT(4,1,"StarterMode.Consent.NonAdminUser")))}let Y=(()=>{class se{constructor(Ie,it,xe,pt,vt,hn){this.translate=Ie,this.permissionService=it,this.starterModeConsentService=xe,this.toastr=pt,this.authService=vt,this.configService=hn}ngOnInit(){this.permissionService.getUserPermissions().pipe((0,f.$)()).subscribe({next:Ie=>this.isAdmin=Ie.permissions.includes(E.a.All)}),this.configService.getConfig().pipe((0,f.$)()).subscribe({next:Ie=>this.starterModePersistance=Ie.starterModePersistence})}giveConsentToStarterMode(){this.isAdmin&&this.starterModeConsentService.storeConsent().pipe((0,f.$)()).subscribe({next:()=>{this.authService.logoff()},error:Ie=>{this.toastr.error(this.translate.instant("Notifications.StarterModeFailed"),this.translate.instant("Notifications.SomethingWrong"))}})}openStartModeNoPersistranceDocs(){window.open("https://docs.openiddictcomponents.com/adminui/Configuration_and_Integration/Miogrationless_Config#StarterMode","_blank")}static{this.\u0275fac=function(it){return new(it||se)(y.rXU(w.c$),y.rXU(F.n),y.rXU(M),y.rXU(N.tw),y.rXU(P.u),y.rXU(G.w))}}static{this.\u0275cmp=y.VBU({type:se,selectors:[["ng-component"]],decls:57,vars:56,consts:[["confirmStarterModeModal",""],["confirmStarterModeDocsModal",""],[3,"title"],["id","StarterModeAgreement",1,"tw-container","mx-auto"],["id","nonAdminUserWarning",4,"ngIf"],[1,"cms"],[1,"tw-list-disc","tw-list-inside","tw-indent-8"],["id","UpgradeAdminUI","href","https://www.identityserver.com/products/adminui/order-now?index=2&name=Enterprise","target","_blank",1,"tw-btn-success","tw-mr-3","tw-mb-3"],["id","confirmStarterModeBtn","data-toggle","modal",1,"tw-btn","tw-mr-3","tw-mb-3",3,"click","disabled"],["id","ExtendDemo","href","mailto:support@identityserver.com?subject=Extend my AdminUI demo license",1,"tw-btn-link","tw-mr-3","tw-mb-3"],[3,"confirm","modalId","type","buttonType","title","okText"],["body",""],[1,"tw-mb-4"],[1,"tw-pill-danger",3,"innerHTML"],[3,"confirm","modalId","buttonType","title","okText"],["id","nonAdminUserWarning"],["role","alert",1,"tw-alert-warning","tw-mb-4"]],template:function(it,xe){if(1&it){const pt=y.RV6();y.nrm(0,"app-title-bar",2),y.nI1(1,"translate"),y.j41(2,"div",3),y.DNE(3,Q,5,3,"div",4),y.j41(4,"div",5)(5,"p"),y.EFF(6),y.nI1(7,"translate"),y.k0s(),y.j41(8,"ul",6)(9,"li"),y.EFF(10),y.nI1(11,"translate"),y.k0s(),y.j41(12,"li"),y.EFF(13),y.nI1(14,"translate"),y.k0s(),y.j41(15,"li"),y.EFF(16),y.nI1(17,"translate"),y.k0s(),y.j41(18,"li"),y.EFF(19),y.nI1(20,"translate"),y.k0s(),y.j41(21,"li"),y.EFF(22),y.nI1(23,"translate"),y.k0s(),y.j41(24,"li"),y.EFF(25),y.nI1(26,"translate"),y.k0s(),y.j41(27,"li"),y.EFF(28),y.nI1(29,"translate"),y.k0s()()()(),y.j41(30,"app-button-bar")(31,"a",7)(32,"span"),y.EFF(33),y.nI1(34,"translate"),y.k0s()(),y.j41(35,"button",8),y.bIt("click",function(){y.eBV(pt);const hn=y.sdS(44),ln=y.sdS(52);return y.Njj(xe.starterModePersistance?hn.show():ln.show())}),y.j41(36,"span"),y.EFF(37),y.nI1(38,"translate"),y.k0s()(),y.j41(39,"a",9)(40,"span"),y.EFF(41),y.nI1(42,"translate"),y.k0s()()(),y.j41(43,"app-confirmation-modal",10,0),y.bIt("confirm",function(){return y.eBV(pt),y.Njj(xe.giveConsentToStarterMode())}),y.qex(45,11),y.j41(46,"p",12),y.EFF(47),y.nI1(48,"translate"),y.k0s(),y.nrm(49,"p",13),y.nI1(50,"translate"),y.bVm(),y.k0s(),y.j41(51,"app-confirmation-modal",14,1),y.bIt("confirm",function(){return y.eBV(pt),y.Njj(xe.openStartModeNoPersistranceDocs())}),y.qex(53,11),y.j41(54,"p",12),y.EFF(55),y.nI1(56,"translate"),y.k0s(),y.bVm(),y.k0s()}2&it&&(y.Y8G("title",y.bMT(1,26,"StarterMode.Consent.Title")),y.R7$(3),y.Y8G("ngIf",!xe.isAdmin),y.R7$(3),y.JRh(y.bMT(7,28,"StarterMode.Consent.Description")),y.R7$(4),y.JRh(y.bMT(11,30,"StarterMode.Consent.Features.Authentication")),y.R7$(3),y.JRh(y.bMT(14,32,"StarterMode.Consent.Features.Users")),y.R7$(3),y.JRh(y.bMT(17,34,"StarterMode.Consent.Features.Clients")),y.R7$(3),y.JRh(y.bMT(20,36,"StarterMode.Consent.Features.ClientFlows")),y.R7$(3),y.JRh(y.bMT(23,38,"StarterMode.Consent.Features.Import")),y.R7$(3),y.JRh(y.bMT(26,40,"StarterMode.Consent.Features.Audits")),y.R7$(3),y.JRh(y.bMT(29,42,"StarterMode.Consent.Features.DynamicAuth")),y.R7$(5),y.JRh(y.bMT(34,44,"StarterMode.UpgradeAdminUI")),y.R7$(2),y.Y8G("disabled",!xe.isAdmin),y.R7$(2),y.JRh(y.bMT(38,46,"StarterMode.ConfirmStarterMode")),y.R7$(4),y.JRh(y.bMT(42,48,"StarterMode.ExtendDemo")),y.R7$(2),y.Y8G("modalId","confirmStarterModeModal")("type","danger")("buttonType","danger")("title","StarterMode.ConfirmationModal.Title")("okText","Common.Confirm"),y.R7$(4),y.JRh(y.bMT(48,50,"StarterMode.ConfirmationModal.Description")),y.R7$(2),y.Y8G("innerHTML",y.bMT(50,52,"StarterMode.ConfirmationModal.Warning"),y.npT),y.R7$(2),y.Y8G("modalId","confirmStarterModeDocsModal")("buttonType",null)("title","StarterMode.ConfirmationModal.Title")("okText","Common.Documentation"),y.R7$(4),y.JRh(y.bMT(56,54,"StarterMode.ConfirmationModal.DescriptionDocs")))},dependencies:[x.bT,I.z,D.z,V.B,w.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return se})();var le=p(5517),fe=p(2892),K=p(6354),ee=p(3853);let ie=(()=>{class se{constructor(Ie,it,xe){this.licenseService=Ie,this.router=it,this.localizeRouter=xe}canActivate(Ie,it){return this.licenseService.getLicenseInfo().pipe((0,f.$)(),(0,K.T)(xe=>{if(xe.isExpectingStarterConsent())return!0;{const pt=this.localizeRouter.translateRoute("/home");this.router.navigate([pt])}}))}static{this.\u0275fac=function(it){return new(it||se)(y.KVO(ee.X),y.KVO(i.Ix),y.KVO(e.QG))}}static{this.\u0275prov=y.jDH({token:se,factory:se.\u0275fac})}}return se})();var T=p(4446);const ae=[{path:"starter-mode/teaser",component:h,canActivate:[fe.h,T._,le.H]},{path:"starter-mode/consent",component:Y,canActivate:[fe.h,ie]}];let re=(()=>{class se{static{this.\u0275fac=function(it){return new(it||se)}}static{this.\u0275mod=y.$C({type:se})}static{this.\u0275inj=y.G2t({providers:[le.H],imports:[i.iI.forChild(ae),e.XE.forChild(ae),i.iI]})}}return se})();var Me=p(367),Qe=p(779),Le=p(1993),Ne=p(8853),Je=p(2633),Ee=p(4367);let be=(()=>{class se{static{this.\u0275fac=function(it){return new(it||se)}}static{this.\u0275mod=y.$C({type:se})}static{this.\u0275inj=y.G2t({providers:[M,ie,le.H,Ne.a,Je.g],imports:[i.iI,re,w.h,Me.m,Qe.Q_,Le.E,Ee.N]})}}return se})()},7921:(lt,we,p)=>{"use strict";p.d(we,{b:()=>e});var i=p(1746);class e{constructor(y){Object.keys(y).forEach(I=>{let D=y[I];"boolean"==typeof y[I]&&(D=D?"Yes":"No"),y[I]instanceof Date&&(D=D?"Yes":"No"),y[I]instanceof Array&&(D=y[I].join(", ").trimEnd()),this[I]=new i.w(D)})}}},4866:(lt,we,p)=>{"use strict";p.d(we,{A:()=>e});var e,i=p(3806);!function(v){const y=new Map([[i.u.Minute,60],[i.u.Minutes,60],[i.u.Hour,3600],[i.u.Hours,3600],[i.u.Day,86400],[i.u.Days,86400],[i.u.Week,604800],[i.u.Weeks,604800],[i.u.Month,2629743],[i.u.Months,2629743],[i.u.Year,31556926],[i.u.Years,31556926],[i.u.Unlimited,null]]);v.getUnitMap=function w(){return y}}(e||(e={}))},6303:(lt,we,p)=>{"use strict";p.d(we,{t:()=>i});var i=function(e){return e[e.Single=0]="Single",e[e.Multi=1]="Multi",e[e.CommaSeparated=2]="CommaSeparated",e[e.LifetimePicker=3]="LifetimePicker",e}(i||{})},1746:(lt,we,p)=>{"use strict";p.d(we,{w:()=>i});class i{constructor(v,y){this.MainText=v,this.HelpText=y??null}}},1927:(lt,we,p)=>{"use strict";p.d(we,{K:()=>i});var i=function(e){return e.Jwt="Jwt",e.Reference="Reference",e}(i||{})},6701:(lt,we,p)=>{"use strict";p.d(we,{s:()=>i});var i=function(e){return e.Unknown="Unknown",e.ServerSide="ServerSide",e.Machine="Machine",e.CIBAMachine="CIBAMachine",e.Native="Native",e.Device="Device",e.Saml="Saml",e.WsFed="WsFed",e.BrowserBased="BrowserBased",e.LegacyClientSide="LegacyClientSide",e.ServerSidePKCE="ServerSidePKCE",e.NativePKCE="NativePKCE",e}(i||{})},3806:(lt,we,p)=>{"use strict";p.d(we,{u:()=>i});var i=function(e){return e.Minute="Minute",e.Minutes="Minutes",e.Hour="Hour",e.Hours="Hours",e.Day="Day",e.Days="Days",e.Week="Week",e.Weeks="Weeks",e.Month="Month",e.Months="Months",e.Year="Year",e.Years="Years",e.Unlimited="Unlimited",e.Global="Global",e}(i||{})},6976:(lt,we,p)=>{"use strict";p.d(we,{p:()=>i});var i=function(e){return e[e.None=0]="None",e[e.DynamicAuthentication=1]="DynamicAuthentication",e[e.Auditing=2]="Auditing",e[e.ImportExportClients=3]="ImportExportClients",e[e.ExtraClientFlows=4]="ExtraClientFlows",e}(i||{})},6772:(lt,we,p)=>{"use strict";p.d(we,{H:()=>i});var i=function(e){return e.Sliding="Sliding",e.Absolute="Absolute",e}(i||{})},78:(lt,we,p)=>{"use strict";p.d(we,{B:()=>i});var i=function(e){return e.ReUse="ReUse",e.OneTimeOnly="OneTimeOnly",e}(i||{})},9957:(lt,we,p)=>{"use strict";p.d(we,{I:()=>i});var i=function(e){return e[e.NotHandled=0]="NotHandled",e[e.Toast=1]="Toast",e[e.Navigate=2]="Navigate",e}(i||{})},4589:(lt,we,p)=>{"use strict";p.d(we,{G:()=>i});var i=function(e){return e[e.None=0]="None",e.Production="Production",e.NonProduction="Non-Production",e.Demo="Demo",e.Starter="Starter",e}(i||{})},8284:(lt,we,p)=>{"use strict";p.d(we,{v:()=>i});var i=function(e){return e[e.user=0]="user",e[e.role=1]="role",e[e.claimType=2]="claimType",e[e.client=3]="client",e[e.identityResource=4]="identityResource",e[e.protectedResource=5]="protectedResource",e[e.serviceProvider=6]="serviceProvider",e[e.relyingParty=7]="relyingParty",e[e.dynamicAuth=8]="dynamicAuth",e}(i||{})},4491:(lt,we,p)=>{"use strict";p.d(we,{$:()=>i});let i=(()=>{class e{static{this.Implicit="implicit"}static{this.Hybrid="hybrid"}static{this.AuthorizationCode="authorization_code"}static{this.ClientCredentials="client_credentials"}static{this.ResourceOwnerPassword="password"}static{this.Device="urn:ietf:params:oauth:grant-type:device_code"}static{this.CIBA="urn:openid:params:grant-type:ciba"}}return e})()},1258:(lt,we,p)=>{"use strict";p.d(we,{N:()=>i});var i=function(e){return e.Save="Save",e.SaveAndReAdd="SaveAndReAdd",e.Delete="Delete",e}(i||{})},7185:(lt,we,p)=>{"use strict";p.d(we,{q:()=>i});var i=function(e){return e.Default="Default",e.Warning="Warning",e}(i||{})},3178:(lt,we,p)=>{"use strict";p.d(we,{a:()=>i});var i=function(e){return e.None="None",e.UserManager="UserManager",e.UserManagerReadOnly="UserManagerReadOnly",e.IdentityServerManager="IdentityServerManager",e.IdentityServerManagerReadOnly="IdentityServerManagerReadOnly",e.Auditer="Auditer",e.AllReadOnly="AllReadOnly",e.All="All",e}(i||{})},1088:(lt,we,p)=>{"use strict";p.d(we,{Q:()=>v});var i=p(3806),e=p(4866);class v{constructor(w){this.unitMap=e.A.getUnitMap(),this.formatSeconds(w)}formatSeconds(w){return this.years=Math.floor(w/this.unitMap.get(i.u.Years)),w-=this.years*this.unitMap.get(i.u.Years),this.months=Math.floor(w/this.unitMap.get(i.u.Month)),w-=this.months*this.unitMap.get(i.u.Month),this.weeks=Math.floor(w/this.unitMap.get(i.u.Weeks)),w-=this.weeks*this.unitMap.get(i.u.Weeks),this.days=Math.floor(w/this.unitMap.get(i.u.Days)),w-=this.days*this.unitMap.get(i.u.Days),this.hours=Math.floor(w/this.unitMap.get(i.u.Hours)),w-=this.hours*this.unitMap.get(i.u.Hours),this.minutes=Math.floor(w/this.unitMap.get(i.u.Minute)),w-=this.minutes*this.unitMap.get(i.u.Minute),this.seconds=w,this}}},978:(lt,we,p)=>{"use strict";p.d(we,{D:()=>e,U:()=>i});var i=function(v){return v[v.Disabled=0]="Disabled",v[v.Duende=1]="Duende",v[v.Rsk=2]="Rsk",v}(i||{});class e{constructor(){this.defaultUserValidation=!0,this.addUserPassword=!1,this.enforcerAuthorizationEnabled=!1,this.enableSharedScopes=!1,this.sessionManagementEnabled=!1,this.dynamicAuthenticationFlag=void 0}}},7756:(lt,we,p)=>{"use strict";p.d(we,{EK:()=>v,m8:()=>e});class e{constructor(w,I,D,h){this.webhooks={MfaReset:w,PasswordReset:I,UserRegistration:D,ServerSideSessionDelete:h}}}var v=function(y){return y.MFAReset="MfaReset",y.PasswordReset="PasswordReset",y.UserRegistration="UserRegistration",y.ServerSideSessionDelete="ServerSideSessionDelete",y}(v||{})},923:(lt,we,p)=>{"use strict";p.d(we,{N:()=>i});var i=function(e){return e.standardDate="standardDate",e.standardDateTime="standardDateTime",e.prettyDateTime="prettyDateTime",e}(i||{})},1589:(lt,we,p)=>{"use strict";p.d(we,{El:()=>w,r7:()=>y,sp:()=>v});var i=p(7263),e=p(4438);let v=(()=>{class I{transform(h){return(0,i.KU)(h,"ccc LLL dd yyyy, T")}static{this.\u0275fac=function(f){return new(f||I)}}static{this.\u0275pipe=e.EJ8({name:"prettyDateTime",type:I,pure:!0})}}return I})(),y=(()=>{class I{transform(h){return(0,i.KU)(h,"LLL dd yyyy T")}static{this.\u0275fac=function(f){return new(f||I)}}static{this.\u0275pipe=e.EJ8({name:"standardDateTime",type:I,pure:!0})}}return I})(),w=(()=>{class I{transform(h){return(0,i.KU)(h,"LLL dd yyyy")}static{this.\u0275fac=function(f){return new(f||I)}}static{this.\u0275pipe=e.EJ8({name:"standardDate",type:I,pure:!0})}}return I})()},1683:(lt,we,p)=>{"use strict";p.d(we,{Y:()=>y});var i=p(177),e=p(1780),v=p(4438);let y=(()=>{class w{static{this.\u0275fac=function(h){return new(h||w)}}static{this.\u0275mod=v.$C({type:w})}static{this.\u0275inj=v.G2t({imports:[i.MD,e.h]})}}return w})()},4692:(lt,we,p)=>{"use strict";p.d(we,{u:()=>v});var i=p(1746),e=p(4438);let v=(()=>{class y{transform(I,D){return new i.w(I)}static{this.\u0275fac=function(D){return new(D||y)}}static{this.\u0275pipe=e.EJ8({name:"readOnlyValue",type:y,pure:!0})}}return y})()},6807:(lt,we,p)=>{"use strict";p.d(we,{B:()=>v});var i=p(4438),e=p(7883);let v=(()=>{class y{constructor(I){this.securityService=I}notAllowedToEditClaim(I){return!this.securityService.allView&&this.isPolicyClaim(I)}isPolicyClaim(I){if(void 0!==I){const D=this.securityService.policyClaims;for(let h=0;h<D.length;h++)if(D[h].type===I.type&&D[h].value===I.value)return!0;return!1}}static{this.\u0275fac=function(D){return new(D||y)(i.KVO(e.i))}}static{this.\u0275prov=i.jDH({token:y,factory:y.\u0275fac})}}return y})()},2972:(lt,we,p)=>{"use strict";p.d(we,{X:()=>y});var i=p(4412);class e{constructor(){this.showNav=!1,this.showBanner=!1,this.showFooter=!1}}var v=p(4438);let y=(()=>{class w{constructor(){this.viewConfig=new e,this.viewConfig$=new i.t(this.viewConfig)}startInitialAdminCreation(){this.viewConfig.showNav=!1,this.viewConfig.showFooter=!1,this.viewConfig.showBanner=!1,this.viewConfig$.next(this.viewConfig)}finishInitialAdminCreation(){this.showAll()}failAuth(){this.showAll()}successAuth(){this.showAll()}failedEnforcerCompilation(){this.viewConfig.showFooter=!0,this.viewConfig.showNav=!1,this.viewConfig.showBanner=!0,this.viewConfig$.next(this.viewConfig)}showAll(){this.viewConfig.showFooter=!0,this.viewConfig.showNav=!0,this.viewConfig.showBanner=!0,this.viewConfig$.next(this.viewConfig)}static{this.\u0275fac=function(h){return new(h||w)}}static{this.\u0275prov=v.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}}return w})()},1339:(lt,we,p)=>{"use strict";p.d(we,{u:()=>w});var i=p(7263),e=p(4438),v=p(1626),y=p(2972);let w=(()=>{class I{constructor(h,f){this.http=h,this.appComponentViewService=f,this.isAuthenticated=!1,this.isCreatingInitialAdministrator=!1;const E=(0,i.$_)();this.actionUrl="auth",this.authUrl=`${E}auth`}login(){window.location.href=`${this.authUrl}/conditionallogin`}logoff(){this.isAuthenticated=!1,this.appComponentViewService.failAuth(),window.location.href=`${this.authUrl}/logout`}isAuthenticatedCheck(){return this.http.get(`${this.actionUrl}/isauthenticated`)}static{this.\u0275fac=function(f){return new(f||I)(e.KVO(v.Qq),e.KVO(y.X))}}static{this.\u0275prov=e.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}}return I})()},6888:(lt,we,p)=>{"use strict";p.d(we,{W:()=>e});var i=p(4438);let e=(()=>{class v{constructor(){this.storage=sessionStorage,this.countKey="retryCount",this.maxRetryAttempts=1}startLogin(){this.retryCount=0}endLogin(){this.storage.removeItem(this.countKey)}get canRetryLogin(){return this.retryCount+1<=this.maxRetryAttempts}retryLogin(){this.canRetryLogin&&(this.retryCount+=1)}get retryCount(){const w=this.storage.getItem(this.countKey);let I=w?Number(w):0;return I=isNaN(I)?0:I,I}set retryCount(w){(w=isNaN(w)?0:w)<=this.maxRetryAttempts&&this.storage.setItem(this.countKey,w.toString())}static{this.\u0275fac=function(I){return new(I||v)}}static{this.\u0275prov=i.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})()},2261:(lt,we,p)=>{"use strict";p.d(we,{V:()=>rc});var i=p(467);class e{}var v=p(5955);function w(Pe,u,g){var A;return Pe instanceof Object&&null!==(A=Pe[u])&&void 0!==A?A:g}function I(Pe,u=0,g=Pe.byteLength-u,A=!1){let j="";for(const ne of new Uint8Array(Pe,u,g)){const ge=ne.toString(16).toUpperCase();1===ge.length&&(j+="0"),j+=ge,A&&(j+=" ")}return j.trim()}function D(Pe,u,g,A){return u instanceof ArrayBuffer?u.byteLength?g<0?(Pe.error="Wrong parameter: inputOffset less than zero",!1):A<0?(Pe.error="Wrong parameter: inputLength less than zero",!1):!(u.byteLength-g-A<0&&(Pe.error="End of input reached before message was fully decoded (inconsistent offset and length values)",1)):(Pe.error="Wrong parameter: inputBuffer has zero length",!1):(Pe.error='Wrong parameter: inputBuffer must be "ArrayBuffer"',!1)}function h(Pe,u){let g=0;if(1===Pe.length)return Pe[0];for(let A=Pe.length-1;A>=0;A--)g+=Pe[Pe.length-1-A]*Math.pow(2,u*A);return g}function f(Pe,u,g=-1){const A=g;let j=Pe,ne=0,ge=Math.pow(2,u);for(let $e=1;$e<8;$e++){if(Pe<ge){let S;if(A<0)S=new ArrayBuffer($e),ne=$e;else{if(A<$e)return new ArrayBuffer(0);S=new ArrayBuffer(A),ne=A}const B=new Uint8Array(S);for(let O=$e-1;O>=0;O--){const X=Math.pow(2,O*u);B[ne-O-1]=Math.floor(j/X),j-=B[ne-O-1]*X}return S}ge*=Math.pow(2,u)}return new ArrayBuffer(0)}function E(...Pe){let u=0,g=0;for(const ne of Pe)u+=ne.byteLength;const A=new ArrayBuffer(u),j=new Uint8Array(A);for(const ne of Pe)j.set(new Uint8Array(ne),g),g+=ne.byteLength;return A}function F(...Pe){let u=0,g=0;for(const ne of Pe)u+=ne.length;const A=new ArrayBuffer(u),j=new Uint8Array(A);for(const ne of Pe)j.set(ne,g),g+=ne.length;return j}function L(){const Pe=new Uint8Array(this.valueHex);this.valueHex.byteLength>=2&&(255===Pe[0]&&128&Pe[1]||0===Pe[0]&&!(128&Pe[1]))&&this.warnings.push("Needlessly long format");const u=new ArrayBuffer(this.valueHex.byteLength),g=new Uint8Array(u);for(let $e=0;$e<this.valueHex.byteLength;$e++)g[$e]=0;g[0]=128&Pe[0];const A=h(g,8),j=new ArrayBuffer(this.valueHex.byteLength),ne=new Uint8Array(j);for(let $e=0;$e<this.valueHex.byteLength;$e++)ne[$e]=Pe[$e];return ne[0]&=127,h(ne,8)-A}function _(Pe){const u=Pe<0?-1*Pe:Pe;let g=128;for(let A=1;A<8;A++){if(u<=g){if(Pe<0){const $e=f(g-u,8,A);return new Uint8Array($e)[0]|=128,$e}let j=f(u,8,A),ne=new Uint8Array(j);if(128&ne[0]){const ge=j.slice(0),$e=new Uint8Array(ge);j=new ArrayBuffer(j.byteLength+1),ne=new Uint8Array(j);for(let S=0;S<ge.byteLength;S++)ne[S+1]=$e[S];ne[0]=0}return j}g*=Math.pow(2,8)}return new ArrayBuffer(0)}function M(Pe,u){if(Pe.byteLength!==u.byteLength)return!1;const g=new Uint8Array(Pe),A=new Uint8Array(u);for(let j=0;j<g.length;j++)if(g[j]!==A[j])return!1;return!0}function N(Pe,u){const g=Pe.toString(10);if(u<g.length)return"";const A=u-g.length,j=new Array(A);for(let ge=0;ge<A;ge++)j[ge]="0";return j.join("").concat(g)}const P="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",G="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=";function x(Pe,u=!1,g=!1,A=!1){let j=0,ne=0,ge=0,$e="";const S=u?G:P;if(A){let B=0;for(let O=0;O<Pe.length;O++)if(0!==Pe.charCodeAt(O)){B=O;break}Pe=Pe.slice(B)}for(;j<Pe.length;){const B=Pe.charCodeAt(j++);j>=Pe.length&&(ne=1);const O=Pe.charCodeAt(j++);j>=Pe.length&&(ge=1);const X=Pe.charCodeAt(j++),pe=B>>2,Ve=(3&B)<<4|O>>4;let yt=(15&O)<<2|X>>6,rn=63&X;1===ne?yt=rn=64:1===ge&&(rn=64),$e+=g?64===yt?`${S.charAt(pe)}${S.charAt(Ve)}`:64===rn?`${S.charAt(pe)}${S.charAt(Ve)}${S.charAt(yt)}`:`${S.charAt(pe)}${S.charAt(Ve)}${S.charAt(yt)}${S.charAt(rn)}`:`${S.charAt(pe)}${S.charAt(Ve)}${S.charAt(yt)}${S.charAt(rn)}`}return $e}function V(Pe,u=!1,g=!1){const A=u?G:P;function j(S){for(let B=0;B<64;B++)if(A.charAt(B)===S)return B;return 64}function ne(S){return 64===S?0:S}let ge=0,$e="";for(;ge<Pe.length;){const S=j(Pe.charAt(ge++)),B=ge>=Pe.length?0:j(Pe.charAt(ge++)),O=ge>=Pe.length?0:j(Pe.charAt(ge++)),X=ge>=Pe.length?0:j(Pe.charAt(ge++)),pe=ne(S)<<2|ne(B)>>4,Ve=(15&ne(B))<<4|ne(O)>>2,yt=(3&ne(O))<<6|ne(X);$e+=String.fromCharCode(pe),64!==O&&($e+=String.fromCharCode(Ve)),64!==X&&($e+=String.fromCharCode(yt))}if(g){let B=-1;for(let O=$e.length-1;O>=0;O--)if(0!==$e.charCodeAt(O)){B=O;break}$e=-1!==B?$e.slice(0,B+1):""}return $e}function Q(Pe){let u="";const g=new Uint8Array(Pe);for(const A of g)u+=String.fromCharCode(A);return u}function Y(Pe){const u=Pe.length,g=new ArrayBuffer(u),A=new Uint8Array(g);for(let j=0;j<u;j++)A[j]=Pe.charCodeAt(j);return g}const le=Math.log(2);function fe(Pe){const u=Math.log(Pe)/le,g=Math.floor(u),A=Math.round(u);return g===A?g:A}function K(Pe,u){for(const g of u)delete Pe[g]}function ee(){if(typeof BigInt>"u")throw new Error("BigInt is not defined. Your environment doesn't implement BigInt.")}function ie(Pe){let u=0,g=0;for(let j=0;j<Pe.length;j++)u+=Pe[j].byteLength;const A=new Uint8Array(u);for(let j=0;j<Pe.length;j++){const ne=Pe[j];A.set(new Uint8Array(ne),g),g+=ne.byteLength}return A.buffer}function T(Pe,u,g,A){return u instanceof Uint8Array?u.byteLength?g<0?(Pe.error="Wrong parameter: inputOffset less than zero",!1):A<0?(Pe.error="Wrong parameter: inputLength less than zero",!1):!(u.byteLength-g-A<0&&(Pe.error="End of input reached before message was fully decoded (inconsistent offset and length values)",1)):(Pe.error="Wrong parameter: inputBuffer has zero length",!1):(Pe.error="Wrong parameter: inputBuffer must be 'Uint8Array'",!1)}class ae{constructor(){this.items=[]}write(u){this.items.push(u)}final(){return ie(this.items)}}const re=[new Uint8Array([1])],Me="0123456789",Qe="name",Le="valueHexView",pt=new ArrayBuffer(0),vt=new Uint8Array(0),hn="EndOfContent",ln="OCTET STRING",Mt="BIT STRING";function xt(Pe){var u;return(u=class extends Pe{constructor(...A){var j;super(...A);const ne=A[0]||{};this.isHexOnly=null!==(j=ne.isHexOnly)&&void 0!==j&&j,this.valueHexView=ne.valueHex?v._H.toUint8Array(ne.valueHex):vt}get valueHex(){return this.valueHexView.slice().buffer}set valueHex(A){this.valueHexView=new Uint8Array(A)}fromBER(A,j,ne){const ge=A instanceof ArrayBuffer?new Uint8Array(A):A;if(!T(this,ge,j,ne))return-1;const $e=j+ne;return this.valueHexView=ge.subarray(j,$e),this.valueHexView.length?(this.blockLength=ne,$e):(this.warnings.push("Zero buffer length"),j)}toBER(A=!1){return this.isHexOnly?A?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.byteLength===this.valueHexView.buffer.byteLength?this.valueHexView.buffer:this.valueHexView.slice().buffer:(this.error="Flag 'isHexOnly' is not set, abort",pt)}toJSON(){return{...super.toJSON(),isHexOnly:this.isHexOnly,valueHex:v.U$.ToHex(this.valueHexView)}}}).NAME="hexBlock",u}let z=(()=>{class Pe{constructor({blockLength:g=0,error:A="",warnings:j=[],valueBeforeDecode:ne=vt}={}){this.blockLength=g,this.error=A,this.warnings=j,this.valueBeforeDecodeView=v._H.toUint8Array(ne)}static blockName(){return this.NAME}get valueBeforeDecode(){return this.valueBeforeDecodeView.slice().buffer}set valueBeforeDecode(g){this.valueBeforeDecodeView=new Uint8Array(g)}toJSON(){return{blockName:this.constructor.NAME,blockLength:this.blockLength,error:this.error,warnings:this.warnings,valueBeforeDecode:v.U$.ToHex(this.valueBeforeDecodeView)}}}return Pe.NAME="baseBlock",Pe})(),W=(()=>{class Pe extends z{fromBER(g,A,j){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}toBER(g,A){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}}return Pe.NAME="valueBlock",Pe})(),J=(()=>{class Pe extends(xt(z)){constructor({idBlock:g={}}={}){var A,j,ne,ge;super(),g?(this.isHexOnly=null!==(A=g.isHexOnly)&&void 0!==A&&A,this.valueHexView=g.valueHex?v._H.toUint8Array(g.valueHex):vt,this.tagClass=null!==(j=g.tagClass)&&void 0!==j?j:-1,this.tagNumber=null!==(ne=g.tagNumber)&&void 0!==ne?ne:-1,this.isConstructed=null!==(ge=g.isConstructed)&&void 0!==ge&&ge):(this.tagClass=-1,this.tagNumber=-1,this.isConstructed=!1)}toBER(g=!1){let A=0;switch(this.tagClass){case 1:A|=0;break;case 2:A|=64;break;case 3:A|=128;break;case 4:A|=192;break;default:return this.error="Unknown tag class",pt}if(this.isConstructed&&(A|=32),this.tagNumber<31&&!this.isHexOnly){const ne=new Uint8Array(1);if(!g){let ge=this.tagNumber;ge&=31,A|=ge,ne[0]=A}return ne.buffer}if(!this.isHexOnly){const ne=f(this.tagNumber,7),ge=new Uint8Array(ne),$e=ne.byteLength,S=new Uint8Array($e+1);if(S[0]=31|A,!g){for(let B=0;B<$e-1;B++)S[B+1]=128|ge[B];S[$e]=ge[$e-1]}return S.buffer}const j=new Uint8Array(this.valueHexView.byteLength+1);if(j[0]=31|A,!g){const ne=this.valueHexView;for(let ge=0;ge<ne.length-1;ge++)j[ge+1]=128|ne[ge];j[this.valueHexView.byteLength]=ne[ne.length-1]}return j.buffer}fromBER(g,A,j){const ne=v._H.toUint8Array(g);if(!T(this,ne,A,j))return-1;const ge=ne.subarray(A,A+j);if(0===ge.length)return this.error="Zero buffer length",-1;switch(192&ge[0]){case 0:this.tagClass=1;break;case 64:this.tagClass=2;break;case 128:this.tagClass=3;break;case 192:this.tagClass=4;break;default:return this.error="Unknown tag class",-1}this.isConstructed=!(32&~ge[0]),this.isHexOnly=!1;const S=31&ge[0];if(31!==S)this.tagNumber=S,this.blockLength=1;else{let B=1,O=this.valueHexView=new Uint8Array(255),X=255;for(;128&ge[B];){if(O[B-1]=127&ge[B],B++,B>=ge.length)return this.error="End of input reached before message was fully decoded",-1;if(B===X){X+=255;const Ve=new Uint8Array(X);for(let yt=0;yt<O.length;yt++)Ve[yt]=O[yt];O=this.valueHexView=new Uint8Array(X)}}this.blockLength=B+1,O[B-1]=127&ge[B];const pe=new Uint8Array(B);for(let Ve=0;Ve<B;Ve++)pe[Ve]=O[Ve];O=this.valueHexView=new Uint8Array(B),O.set(pe),this.blockLength<=9?this.tagNumber=h(O,7):(this.isHexOnly=!0,this.warnings.push("Tag too long, represented as hex-coded"))}if(1===this.tagClass&&this.isConstructed)switch(this.tagNumber){case 1:case 2:case 5:case 6:case 9:case 13:case 14:case 23:case 24:case 31:case 32:case 33:case 34:return this.error="Constructed encoding used for primitive type",-1}return A+this.blockLength}toJSON(){return{...super.toJSON(),tagClass:this.tagClass,tagNumber:this.tagNumber,isConstructed:this.isConstructed}}}return Pe.NAME="identificationBlock",Pe})(),_e=(()=>{class Pe extends z{constructor({lenBlock:g={}}={}){var A,j,ne;super(),this.isIndefiniteForm=null!==(A=g.isIndefiniteForm)&&void 0!==A&&A,this.longFormUsed=null!==(j=g.longFormUsed)&&void 0!==j&&j,this.length=null!==(ne=g.length)&&void 0!==ne?ne:0}fromBER(g,A,j){const ne=v._H.toUint8Array(g);if(!T(this,ne,A,j))return-1;const ge=ne.subarray(A,A+j);if(0===ge.length)return this.error="Zero buffer length",-1;if(255===ge[0])return this.error="Length block 0xFF is reserved by standard",-1;if(this.isIndefiniteForm=128===ge[0],this.isIndefiniteForm)return this.blockLength=1,A+this.blockLength;if(this.longFormUsed=!!(128&ge[0]),!1===this.longFormUsed)return this.length=ge[0],this.blockLength=1,A+this.blockLength;const $e=127&ge[0];if($e>8)return this.error="Too big integer",-1;if($e+1>ge.length)return this.error="End of input reached before message was fully decoded",-1;const S=A+1,B=ne.subarray(S,S+$e);return 0===B[$e-1]&&this.warnings.push("Needlessly long encoded length"),this.length=h(B,8),this.longFormUsed&&this.length<=127&&this.warnings.push("Unnecessary usage of long length form"),this.blockLength=$e+1,A+this.blockLength}toBER(g=!1){let A,j;if(this.length>127&&(this.longFormUsed=!0),this.isIndefiniteForm)return A=new ArrayBuffer(1),!1===g&&(j=new Uint8Array(A),j[0]=128),A;if(this.longFormUsed){const ne=f(this.length,8);if(ne.byteLength>127)return this.error="Too big length",pt;if(A=new ArrayBuffer(ne.byteLength+1),g)return A;const ge=new Uint8Array(ne);j=new Uint8Array(A),j[0]=128|ne.byteLength;for(let $e=0;$e<ne.byteLength;$e++)j[$e+1]=ge[$e];return A}return A=new ArrayBuffer(1),!1===g&&(j=new Uint8Array(A),j[0]=this.length),A}toJSON(){return{...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,longFormUsed:this.longFormUsed,length:this.length}}}return Pe.NAME="lengthBlock",Pe})();const Ce={};let st=(()=>{class Pe extends z{constructor({name:g="",optional:A=!1,primitiveSchema:j,...ne}={},ge){super(ne),this.name=g,this.optional=A,j&&(this.primitiveSchema=j),this.idBlock=new J(ne),this.lenBlock=new _e(ne),this.valueBlock=ge?new ge(ne):new W(ne)}fromBER(g,A,j){const ne=this.valueBlock.fromBER(g,A,this.lenBlock.isIndefiniteForm?j:this.lenBlock.length);return-1===ne?(this.error=this.valueBlock.error,ne):(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),ne)}toBER(g,A){const j=A||new ae;A||Fe(this);const ne=this.idBlock.toBER(g);if(j.write(ne),this.lenBlock.isIndefiniteForm)j.write(new Uint8Array([128]).buffer),this.valueBlock.toBER(g,j),j.write(new ArrayBuffer(2));else{const ge=this.valueBlock.toBER(g);this.lenBlock.length=ge.byteLength;const $e=this.lenBlock.toBER(g);j.write($e),j.write(ge)}return A?pt:j.final()}toJSON(){const g={...super.toJSON(),idBlock:this.idBlock.toJSON(),lenBlock:this.lenBlock.toJSON(),valueBlock:this.valueBlock.toJSON(),name:this.name,optional:this.optional};return this.primitiveSchema&&(g.primitiveSchema=this.primitiveSchema.toJSON()),g}toString(g="ascii"){return"ascii"===g?this.onAsciiEncoding():v.U$.ToHex(this.toBER())}onAsciiEncoding(){return`${this.constructor.NAME} : ${v.U$.ToHex(this.valueBlock.valueBeforeDecodeView)}`}isEqual(g){return this===g||g instanceof this.constructor&&M(this.toBER(),g.toBER())}}return Pe.NAME="BaseBlock",Pe})();function Fe(Pe){if(Pe instanceof Ce.Constructed)for(const u of Pe.valueBlock.value)Fe(u)&&(Pe.lenBlock.isIndefiniteForm=!0);return!!Pe.lenBlock.isIndefiniteForm}let rt=(()=>{class Pe extends st{constructor({value:g="",...A}={},j){super(A,j),g&&this.fromString(g)}getValue(){return this.valueBlock.value}setValue(g){this.valueBlock.value=g}fromBER(g,A,j){const ne=this.valueBlock.fromBER(g,A,this.lenBlock.isIndefiniteForm?j:this.lenBlock.length);return-1===ne?(this.error=this.valueBlock.error,ne):(this.fromBuffer(this.valueBlock.valueHexView),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),ne)}onAsciiEncoding(){return`${this.constructor.NAME} : '${this.valueBlock.value}'`}}return Pe.NAME="BaseStringBlock",Pe})(),kt=(()=>{class Pe extends(xt(W)){constructor({isHexOnly:g=!0,...A}={}){super(A),this.isHexOnly=g}}return Pe.NAME="PrimitiveValueBlock",Pe})();class tt extends st{constructor(u={}){super(u,kt),this.idBlock.isConstructed=!1}}function en(Pe,u=0,g=Pe.length){const A=u;let j=new st({},W);const ne=new z;if(!T(ne,Pe,u,g))return j.error=ne.error,{offset:-1,result:j};if(!Pe.subarray(u,u+g).length)return j.error="Zero buffer length",{offset:-1,result:j};let $e=j.idBlock.fromBER(Pe,u,g);if(j.idBlock.warnings.length&&j.warnings.concat(j.idBlock.warnings),-1===$e)return j.error=j.idBlock.error,{offset:-1,result:j};if($e=j.lenBlock.fromBER(Pe,u=$e,g-=j.idBlock.blockLength),j.lenBlock.warnings.length&&j.warnings.concat(j.lenBlock.warnings),-1===$e)return j.error=j.lenBlock.error,{offset:-1,result:j};if(u=$e,g-=j.lenBlock.blockLength,!j.idBlock.isConstructed&&j.lenBlock.isIndefiniteForm)return j.error="Indefinite length form used for primitive encoding form",{offset:-1,result:j};let S=st;if(1===j.idBlock.tagClass){if(j.idBlock.tagNumber>=37&&!1===j.idBlock.isHexOnly)return j.error="UNIVERSAL 37 and upper tags are reserved by ASN.1 standard",{offset:-1,result:j};switch(j.idBlock.tagNumber){case 0:if(j.idBlock.isConstructed&&j.lenBlock.length>0)return j.error="Type [UNIVERSAL 0] is reserved",{offset:-1,result:j};S=Ce.EndOfContent;break;case 1:S=Ce.Boolean;break;case 2:S=Ce.Integer;break;case 3:S=Ce.BitString;break;case 4:S=Ce.OctetString;break;case 5:S=Ce.Null;break;case 6:S=Ce.ObjectIdentifier;break;case 10:S=Ce.Enumerated;break;case 12:S=Ce.Utf8String;break;case 13:S=Ce.RelativeObjectIdentifier;break;case 14:S=Ce.TIME;break;case 15:return j.error="[UNIVERSAL 15] is reserved by ASN.1 standard",{offset:-1,result:j};case 16:S=Ce.Sequence;break;case 17:S=Ce.Set;break;case 18:S=Ce.NumericString;break;case 19:S=Ce.PrintableString;break;case 20:S=Ce.TeletexString;break;case 21:S=Ce.VideotexString;break;case 22:S=Ce.IA5String;break;case 23:S=Ce.UTCTime;break;case 24:S=Ce.GeneralizedTime;break;case 25:S=Ce.GraphicString;break;case 26:S=Ce.VisibleString;break;case 27:S=Ce.GeneralString;break;case 28:S=Ce.UniversalString;break;case 29:S=Ce.CharacterString;break;case 30:S=Ce.BmpString;break;case 31:S=Ce.DATE;break;case 32:S=Ce.TimeOfDay;break;case 33:S=Ce.DateTime;break;case 34:S=Ce.Duration;break;default:{const B=j.idBlock.isConstructed?new Ce.Constructed:new Ce.Primitive;B.idBlock=j.idBlock,B.lenBlock=j.lenBlock,B.warnings=j.warnings,j=B}}}else S=j.idBlock.isConstructed?Ce.Constructed:Ce.Primitive;return j=function $t(Pe,u){if(Pe instanceof u)return Pe;const g=new u;return g.idBlock=Pe.idBlock,g.lenBlock=Pe.lenBlock,g.warnings=Pe.warnings,g.valueBeforeDecodeView=Pe.valueBeforeDecodeView,g}(j,S),$e=j.fromBER(Pe,u,j.lenBlock.isIndefiniteForm?g:j.lenBlock.length),j.valueBeforeDecodeView=Pe.subarray(A,A+j.blockLength),{offset:$e,result:j}}function Ot(Pe){if(!Pe.byteLength){const u=new st({},W);return u.error="Input buffer has zero length",{offset:-1,result:u}}return en(v._H.toUint8Array(Pe).slice(),0,Pe.byteLength)}function Yt(Pe,u){return Pe?1:u}Ce.Primitive=tt,tt.NAME="PRIMITIVE";let je=(()=>{class Pe extends W{constructor({value:g=[],isIndefiniteForm:A=!1,...j}={}){super(j),this.value=g,this.isIndefiniteForm=A}fromBER(g,A,j){const ne=v._H.toUint8Array(g);if(!T(this,ne,A,j))return-1;if(this.valueBeforeDecodeView=ne.subarray(A,A+j),0===this.valueBeforeDecodeView.length)return this.warnings.push("Zero buffer length"),A;let ge=A;for(;Yt(this.isIndefiniteForm,j)>0;){const $e=en(ne,ge,j);if(-1===$e.offset)return this.error=$e.result.error,this.warnings.concat($e.result.warnings),-1;if(ge=$e.offset,this.blockLength+=$e.result.blockLength,j-=$e.result.blockLength,this.value.push($e.result),this.isIndefiniteForm&&$e.result.constructor.NAME===hn)break}return this.isIndefiniteForm&&(this.value[this.value.length-1].constructor.NAME===hn?this.value.pop():this.warnings.push("No EndOfContent block encoded")),ge}toBER(g,A){const j=A||new ae;for(let ne=0;ne<this.value.length;ne++)this.value[ne].toBER(g,j);return A?pt:j.final()}toJSON(){const g={...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,value:[]};for(const A of this.value)g.value.push(A.toJSON());return g}}return Pe.NAME="ConstructedValueBlock",Pe})();class H extends st{constructor(u={}){super(u,je),this.idBlock.isConstructed=!0}fromBER(u,g,A){this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;const j=this.valueBlock.fromBER(u,g,this.lenBlock.isIndefiniteForm?A:this.lenBlock.length);return-1===j?(this.error=this.valueBlock.error,j):(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),j)}onAsciiEncoding(){const u=[];for(const A of this.valueBlock.value)u.push(A.toString("ascii").split("\n").map(j=>`  ${j}`).join("\n"));const g=3===this.idBlock.tagClass?`[${this.idBlock.tagNumber}]`:this.constructor.NAME;return u.length?`${g} :\n${u.join("\n")}`:`${g} :`}}Ce.Constructed=H,H.NAME="CONSTRUCTED";let te=(()=>{class Pe extends W{fromBER(g,A,j){return A}toBER(g){return pt}}return Pe.override="EndOfContentValueBlock",Pe})();class et extends st{constructor(u={}){super(u,te),this.idBlock.tagClass=1,this.idBlock.tagNumber=0}}Ce.EndOfContent=et,et.NAME=hn;class Ft extends st{constructor(u={}){super(u,W),this.idBlock.tagClass=1,this.idBlock.tagNumber=5}fromBER(u,g,A){return this.lenBlock.length>0&&this.warnings.push("Non-zero length of value block for Null type"),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.blockLength+=A,g+A>u.byteLength?(this.error="End of input reached before message was fully decoded (inconsistent offset and length values)",-1):g+A}toBER(u,g){const A=new ArrayBuffer(2);if(!u){const j=new Uint8Array(A);j[0]=5,j[1]=0}return g&&g.write(A),A}onAsciiEncoding(){return`${this.constructor.NAME}`}}Ce.Null=Ft,Ft.NAME="NULL";let sn=(()=>{class Pe extends(xt(W)){constructor({value:g,...A}={}){super(A),this.valueHexView=A.valueHex?v._H.toUint8Array(A.valueHex):new Uint8Array(1),g&&(this.value=g)}get value(){for(const g of this.valueHexView)if(g>0)return!0;return!1}set value(g){this.valueHexView[0]=g?255:0}fromBER(g,A,j){const ne=v._H.toUint8Array(g);return T(this,ne,A,j)?(this.valueHexView=ne.subarray(A,A+j),j>1&&this.warnings.push("Boolean value encoded in more then 1 octet"),this.isHexOnly=!0,L.call(this),this.blockLength=j,A+j):-1}toBER(){return this.valueHexView.slice()}toJSON(){return{...super.toJSON(),value:this.value}}}return Pe.NAME="BooleanValueBlock",Pe})();class In extends st{constructor(u={}){super(u,sn),this.idBlock.tagClass=1,this.idBlock.tagNumber=1}getValue(){return this.valueBlock.value}setValue(u){this.valueBlock.value=u}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.getValue}`}}Ce.Boolean=In,In.NAME="BOOLEAN";let An=(()=>{class Pe extends(xt(je)){constructor({isConstructed:g=!1,...A}={}){super(A),this.isConstructed=g}fromBER(g,A,j){let ne=0;if(this.isConstructed){if(this.isHexOnly=!1,ne=je.prototype.fromBER.call(this,g,A,j),-1===ne)return ne;for(let ge=0;ge<this.value.length;ge++){const $e=this.value[ge].constructor.NAME;if($e===hn){if(this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, OCTET STRING may consists of OCTET STRINGs only",-1}if($e!==ln)return this.error="OCTET STRING may consists of OCTET STRINGs only",-1}}else this.isHexOnly=!0,ne=super.fromBER(g,A,j),this.blockLength=j;return ne}toBER(g,A){return this.isConstructed?je.prototype.toBER.call(this,g,A):g?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),isConstructed:this.isConstructed}}}return Pe.NAME="OctetStringValueBlock",Pe})();class Pn extends st{constructor({idBlock:u={},lenBlock:g={},...A}={}){var j,ne;null!==(j=A.isConstructed)&&void 0!==j||(A.isConstructed=!(null===(ne=A.value)||void 0===ne||!ne.length)),super({idBlock:{isConstructed:A.isConstructed,...u},lenBlock:{...g,isIndefiniteForm:!!A.isIndefiniteForm},...A},An),this.idBlock.tagClass=1,this.idBlock.tagNumber=4}fromBER(u,g,A){if(this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,0===A)return 0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),g;if(!this.valueBlock.isConstructed){const ne=(u instanceof ArrayBuffer?new Uint8Array(u):u).subarray(g,g+A);try{if(ne.byteLength){const ge=en(ne,0,ne.byteLength);-1!==ge.offset&&ge.offset===A&&(this.valueBlock.value=[ge.result])}}catch{}}return super.fromBER(u,g,A)}onAsciiEncoding(){return this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length?H.prototype.onAsciiEncoding.call(this):`${this.constructor.NAME} : ${v.U$.ToHex(this.valueBlock.valueHexView)}`}getValue(){if(!this.idBlock.isConstructed)return this.valueBlock.valueHexView.slice().buffer;const u=[];for(const g of this.valueBlock.value)g instanceof Pn&&u.push(g.valueBlock.valueHexView);return v._H.concat(u)}}Ce.OctetString=Pn,Pn.NAME=ln;let ki=(()=>{class Pe extends(xt(je)){constructor({unusedBits:g=0,isConstructed:A=!1,...j}={}){super(j),this.unusedBits=g,this.isConstructed=A,this.blockLength=this.valueHexView.byteLength}fromBER(g,A,j){if(!j)return A;let ne=-1;if(this.isConstructed){if(ne=je.prototype.fromBER.call(this,g,A,j),-1===ne)return ne;for(const S of this.value){const B=S.constructor.NAME;if(B===hn){if(this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, BIT STRING may consists of BIT STRINGs only",-1}if(B!==Mt)return this.error="BIT STRING may consists of BIT STRINGs only",-1;const O=S.valueBlock;if(this.unusedBits>0&&O.unusedBits>0)return this.error='Using of "unused bits" inside constructive BIT STRING allowed for least one only',-1;this.unusedBits=O.unusedBits}return ne}const ge=v._H.toUint8Array(g);if(!T(this,ge,A,j))return-1;const $e=ge.subarray(A,A+j);if(this.unusedBits=$e[0],this.unusedBits>7)return this.error="Unused bits for BitString must be in range 0-7",-1;if(!this.unusedBits){const S=$e.subarray(1);try{if(S.byteLength){const B=en(S,0,S.byteLength);-1!==B.offset&&B.offset===j-1&&(this.value=[B.result])}}catch{}}return this.valueHexView=$e.subarray(1),this.blockLength=$e.length,A+j}toBER(g,A){if(this.isConstructed)return je.prototype.toBER.call(this,g,A);if(g)return new ArrayBuffer(this.valueHexView.byteLength+1);if(!this.valueHexView.byteLength)return pt;const j=new Uint8Array(this.valueHexView.length+1);return j[0]=this.unusedBits,j.set(this.valueHexView,1),j.buffer}toJSON(){return{...super.toJSON(),unusedBits:this.unusedBits,isConstructed:this.isConstructed}}}return Pe.NAME="BitStringValueBlock",Pe})();var Wt;class Rt extends st{constructor({idBlock:u={},lenBlock:g={},...A}={}){var j,ne;null!==(j=A.isConstructed)&&void 0!==j||(A.isConstructed=!(null===(ne=A.value)||void 0===ne||!ne.length)),super({idBlock:{isConstructed:A.isConstructed,...u},lenBlock:{...g,isIndefiniteForm:!!A.isIndefiniteForm},...A},ki),this.idBlock.tagClass=1,this.idBlock.tagNumber=3}fromBER(u,g,A){return this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,super.fromBER(u,g,A)}onAsciiEncoding(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length)return H.prototype.onAsciiEncoding.call(this);{const u=[],g=this.valueBlock.valueHexView;for(const j of g)u.push(j.toString(2).padStart(8,"0"));const A=u.join("");return`${this.constructor.NAME} : ${A.substring(0,A.length-this.valueBlock.unusedBits)}`}}}function _t(Pe,u){const g=new Uint8Array([0]),A=new Uint8Array(Pe),j=new Uint8Array(u);let ne=A.slice(0);const ge=ne.length-1,$e=j.slice(0),S=$e.length-1;let B=0,X=0;for(let pe=S<ge?ge:S;pe>=0;pe--,X++)B=1==X<$e.length?ne[ge-X]+$e[S-X]+g[0]:ne[ge-X]+g[0],g[0]=B/10,1==X>=ne.length?ne=F(new Uint8Array([B%10]),ne):ne[ge-X]=B%10;return g[0]>0&&(ne=F(g,ne)),ne}function Nt(Pe){if(Pe>=re.length)for(let u=re.length;u<=Pe;u++){const g=new Uint8Array([0]);let A=re[u-1].slice(0);for(let j=A.length-1;j>=0;j--){const ne=new Uint8Array([(A[j]<<1)+g[0]]);g[0]=ne[0]/10,A[j]=ne[0]%10}g[0]>0&&(A=F(g,A)),re.push(A)}return re[Pe]}function tn(Pe,u){let g=0;const A=new Uint8Array(Pe),j=new Uint8Array(u),ne=A.slice(0),ge=ne.length-1,$e=j.slice(0),S=$e.length-1;let B,O=0;for(let X=S;X>=0;X--,O++)B=ne[ge-O]-$e[S-O]-g,1==B<0?(g=1,ne[ge-O]=B+10):(g=0,ne[ge-O]=B);if(g>0)for(let X=ge-S+1;X>=0;X--,O++){if(B=ne[ge-O]-g,!(B<0)){g=0,ne[ge-O]=B;break}g=1,ne[ge-O]=B+10}return ne.slice()}Ce.BitString=Rt,Rt.NAME=Mt;class En extends(xt(W)){constructor({value:u,...g}={}){super(g),this._valueDec=0,g.valueHex&&this.setValueHex(),void 0!==u&&(this.valueDec=u)}setValueHex(){this.valueHexView.length>=4?(this.warnings.push("Too big Integer for decoding, hex only"),this.isHexOnly=!0,this._valueDec=0):(this.isHexOnly=!1,this.valueHexView.length>0&&(this._valueDec=L.call(this)))}set valueDec(u){this._valueDec=u,this.isHexOnly=!1,this.valueHexView=new Uint8Array(_(u))}get valueDec(){return this._valueDec}fromDER(u,g,A,j=0){const ne=this.fromBER(u,g,A);if(-1===ne)return ne;const ge=this.valueHexView;return 0===ge[0]&&128&ge[1]?this.valueHexView=ge.subarray(1):0!==j&&ge.length<j&&(j-ge.length>1&&(j=ge.length+1),this.valueHexView=ge.subarray(j-ge.length)),ne}toDER(u=!1){const g=this.valueHexView;switch(!0){case!!(128&g[0]):{const A=new Uint8Array(this.valueHexView.length+1);A[0]=0,A.set(g,1),this.valueHexView=A}break;case 0===g[0]&&!(128&g[1]):this.valueHexView=this.valueHexView.subarray(1)}return this.toBER(u)}fromBER(u,g,A){const j=super.fromBER(u,g,A);return-1===j||this.setValueHex(),j}toBER(u){return u?new ArrayBuffer(this.valueHexView.length):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}toString(){const u=8*this.valueHexView.length-1;let j,g=new Uint8Array(8*this.valueHexView.length/3),A=0;const ne=this.valueHexView;let ge="",$e=!1;for(let S=ne.byteLength-1;S>=0;S--){j=ne[S];for(let B=0;B<8;B++)1&~j||(A===u?(g=tn(Nt(A),g),ge="-"):g=_t(g,Nt(A))),A++,j>>=1}for(let S=0;S<g.length;S++)g[S]&&($e=!0),$e&&(ge+=Me.charAt(g[S]));return!1===$e&&(ge+=Me.charAt(0)),ge}}Wt=En,En.NAME="IntegerValueBlock",Object.defineProperty(Wt.prototype,"valueHex",{set:function(Pe){this.valueHexView=new Uint8Array(Pe),this.setValueHex()},get:function(){return this.valueHexView.slice().buffer}});class un extends st{constructor(u={}){super(u,En),this.idBlock.tagClass=1,this.idBlock.tagNumber=2}toBigInt(){return ee(),BigInt(this.valueBlock.toString())}static fromBigInt(u){ee();const g=BigInt(u),A=new ae,j=g.toString(16).replace(/^-/,""),ne=new Uint8Array(v.U$.FromHex(j));if(g<0){const $e=new Uint8Array(ne.length+(128&ne[0]?1:0));$e[0]|=128;const B=BigInt(`0x${v.U$.ToHex($e)}`)+g,O=v._H.toUint8Array(v.U$.FromHex(B.toString(16)));O[0]|=128,A.write(O)}else 128&ne[0]&&A.write(new Uint8Array([0])),A.write(ne);return new un({valueHex:A.final()})}convertToDER(){const u=new un({valueHex:this.valueBlock.valueHexView});return u.valueBlock.toDER(),u}convertFromDER(){return new un({valueHex:0===this.valueBlock.valueHexView[0]?this.valueBlock.valueHexView.subarray(1):this.valueBlock.valueHexView})}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()}`}}Ce.Integer=un,un.NAME="INTEGER";class jn extends un{constructor(u={}){super(u),this.idBlock.tagClass=1,this.idBlock.tagNumber=10}}Ce.Enumerated=jn,jn.NAME="ENUMERATED";let It=(()=>{class Pe extends(xt(W)){constructor({valueDec:g=-1,isFirstSid:A=!1,...j}={}){super(j),this.valueDec=g,this.isFirstSid=A}fromBER(g,A,j){if(!j)return A;const ne=v._H.toUint8Array(g);if(!T(this,ne,A,j))return-1;const ge=ne.subarray(A,A+j);this.valueHexView=new Uint8Array(j);for(let S=0;S<j&&(this.valueHexView[S]=127&ge[S],this.blockLength++,128&ge[S]);S++);const $e=new Uint8Array(this.blockLength);for(let S=0;S<this.blockLength;S++)$e[S]=this.valueHexView[S];return this.valueHexView=$e,128&ge[this.blockLength-1]?(this.error="End of input reached before message was fully decoded",-1):(0===this.valueHexView[0]&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=h(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),A+this.blockLength)}set valueBigInt(g){ee();let A=BigInt(g).toString(2);for(;A.length%7;)A="0"+A;const j=new Uint8Array(A.length/7);for(let ne=0;ne<j.length;ne++)j[ne]=parseInt(A.slice(7*ne,7*ne+7),2)+(ne+1<j.length?128:0);this.fromBER(j.buffer,0,j.length)}toBER(g){if(this.isHexOnly){if(g)return new ArrayBuffer(this.valueHexView.byteLength);const ne=this.valueHexView,ge=new Uint8Array(this.blockLength);for(let $e=0;$e<this.blockLength-1;$e++)ge[$e]=128|ne[$e];return ge[this.blockLength-1]=ne[this.blockLength-1],ge.buffer}const A=f(this.valueDec,7);if(0===A.byteLength)return this.error="Error during encoding SID value",pt;const j=new Uint8Array(A.byteLength);if(!g){const ne=new Uint8Array(A),ge=A.byteLength-1;for(let $e=0;$e<ge;$e++)j[$e]=128|ne[$e];j[ge]=ne[ge]}return j}toString(){let g="";if(this.isHexOnly)g=v.U$.ToHex(this.valueHexView);else if(this.isFirstSid){let A=this.valueDec;this.valueDec<=39?g="0.":this.valueDec<=79?(g="1.",A-=40):(g="2.",A-=80),g+=A.toString()}else g=this.valueDec.toString();return g}toJSON(){return{...super.toJSON(),valueDec:this.valueDec,isFirstSid:this.isFirstSid}}}return Pe.NAME="sidBlock",Pe})(),dt=(()=>{class Pe extends W{constructor({value:g="",...A}={}){super(A),this.value=[],g&&this.fromString(g)}fromBER(g,A,j){let ne=A;for(;j>0;){const ge=new It;if(ne=ge.fromBER(g,ne,j),-1===ne)return this.blockLength=0,this.error=ge.error,ne;0===this.value.length&&(ge.isFirstSid=!0),this.blockLength+=ge.blockLength,j-=ge.blockLength,this.value.push(ge)}return ne}toBER(g){const A=[];for(let j=0;j<this.value.length;j++){const ne=this.value[j].toBER(g);if(0===ne.byteLength)return this.error=this.value[j].error,pt;A.push(ne)}return ie(A)}fromString(g){this.value=[];let A=0,j=0,ne="",ge=!1;do{if(j=g.indexOf(".",A),ne=-1===j?g.substring(A):g.substring(A,j),A=j+1,ge){const $e=this.value[0];let S=0;switch($e.valueDec){case 0:break;case 1:S=40;break;case 2:S=80;break;default:return void(this.value=[])}const B=parseInt(ne,10);if(isNaN(B))return;$e.valueDec=B+S,ge=!1}else{const $e=new It;if(ne>Number.MAX_SAFE_INTEGER){ee();const S=BigInt(ne);$e.valueBigInt=S}else if($e.valueDec=parseInt(ne,10),isNaN($e.valueDec))return;this.value.length||($e.isFirstSid=!0,ge=!0),this.value.push($e)}}while(-1!==j)}toString(){let g="",A=!1;for(let j=0;j<this.value.length;j++){A=this.value[j].isHexOnly;let ne=this.value[j].toString();0!==j&&(g=`${g}.`),A?(ne=`{${ne}}`,this.value[j].isFirstSid?g=`2.{${ne} - 80}`:g+=ne):g+=ne}return g}toJSON(){const g={...super.toJSON(),value:this.toString(),sidArray:[]};for(let A=0;A<this.value.length;A++)g.sidArray.push(this.value[A].toJSON());return g}}return Pe.NAME="ObjectIdentifierValueBlock",Pe})();class Vt extends st{constructor(u={}){super(u,dt),this.idBlock.tagClass=1,this.idBlock.tagNumber=6}getValue(){return this.valueBlock.toString()}setValue(u){this.valueBlock.fromString(u)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}}Ce.ObjectIdentifier=Vt,Vt.NAME="OBJECT IDENTIFIER";let Zt=(()=>{class Pe extends(xt(z)){constructor({valueDec:g=0,...A}={}){super(A),this.valueDec=g}fromBER(g,A,j){if(0===j)return A;const ne=v._H.toUint8Array(g);if(!T(this,ne,A,j))return-1;const ge=ne.subarray(A,A+j);this.valueHexView=new Uint8Array(j);for(let S=0;S<j&&(this.valueHexView[S]=127&ge[S],this.blockLength++,128&ge[S]);S++);const $e=new Uint8Array(this.blockLength);for(let S=0;S<this.blockLength;S++)$e[S]=this.valueHexView[S];return this.valueHexView=$e,128&ge[this.blockLength-1]?(this.error="End of input reached before message was fully decoded",-1):(0===this.valueHexView[0]&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=h(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),A+this.blockLength)}toBER(g){if(this.isHexOnly){if(g)return new ArrayBuffer(this.valueHexView.byteLength);const ne=this.valueHexView,ge=new Uint8Array(this.blockLength);for(let $e=0;$e<this.blockLength-1;$e++)ge[$e]=128|ne[$e];return ge[this.blockLength-1]=ne[this.blockLength-1],ge.buffer}const A=f(this.valueDec,7);if(0===A.byteLength)return this.error="Error during encoding SID value",pt;const j=new Uint8Array(A.byteLength);if(!g){const ne=new Uint8Array(A),ge=A.byteLength-1;for(let $e=0;$e<ge;$e++)j[$e]=128|ne[$e];j[ge]=ne[ge]}return j.buffer}toString(){let g="";return g=this.isHexOnly?v.U$.ToHex(this.valueHexView):this.valueDec.toString(),g}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}}return Pe.NAME="relativeSidBlock",Pe})(),gn=(()=>{class Pe extends W{constructor({value:g="",...A}={}){super(A),this.value=[],g&&this.fromString(g)}fromBER(g,A,j){let ne=A;for(;j>0;){const ge=new Zt;if(ne=ge.fromBER(g,ne,j),-1===ne)return this.blockLength=0,this.error=ge.error,ne;this.blockLength+=ge.blockLength,j-=ge.blockLength,this.value.push(ge)}return ne}toBER(g,A){const j=[];for(let ne=0;ne<this.value.length;ne++){const ge=this.value[ne].toBER(g);if(0===ge.byteLength)return this.error=this.value[ne].error,pt;j.push(ge)}return ie(j)}fromString(g){this.value=[];let A=0,j=0,ne="";do{j=g.indexOf(".",A),ne=-1===j?g.substring(A):g.substring(A,j),A=j+1;const ge=new Zt;if(ge.valueDec=parseInt(ne,10),isNaN(ge.valueDec))return!0;this.value.push(ge)}while(-1!==j);return!0}toString(){let g="",A=!1;for(let j=0;j<this.value.length;j++){A=this.value[j].isHexOnly;let ne=this.value[j].toString();0!==j&&(g=`${g}.`),A&&(ne=`{${ne}}`),g+=ne}return g}toJSON(){const g={...super.toJSON(),value:this.toString(),sidArray:[]};for(let A=0;A<this.value.length;A++)g.sidArray.push(this.value[A].toJSON());return g}}return Pe.NAME="RelativeObjectIdentifierValueBlock",Pe})();class zn extends st{constructor(u={}){super(u,gn),this.idBlock.tagClass=1,this.idBlock.tagNumber=13}getValue(){return this.valueBlock.toString()}setValue(u){this.valueBlock.fromString(u)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}}Ce.RelativeObjectIdentifier=zn,zn.NAME="RelativeObjectIdentifier";class pn extends H{constructor(u={}){super(u),this.idBlock.tagClass=1,this.idBlock.tagNumber=16}}Ce.Sequence=pn,pn.NAME="SEQUENCE";class fi extends H{constructor(u={}){super(u),this.idBlock.tagClass=1,this.idBlock.tagNumber=17}}Ce.Set=fi,fi.NAME="SET";let qn=(()=>{class Pe extends(xt(W)){constructor({...g}={}){super(g),this.isHexOnly=!0,this.value=""}toJSON(){return{...super.toJSON(),value:this.value}}}return Pe.NAME="StringValueBlock",Pe})(),Pi=(()=>{class Pe extends qn{}return Pe.NAME="SimpleStringValueBlock",Pe})(),Kn=(()=>{class Pe extends rt{constructor({...g}={}){super(g,Pi)}fromBuffer(g){this.valueBlock.value=String.fromCharCode.apply(null,v._H.toUint8Array(g))}fromString(g){const A=g.length,j=this.valueBlock.valueHexView=new Uint8Array(A);for(let ne=0;ne<A;ne++)j[ne]=g.charCodeAt(ne);this.valueBlock.value=g}}return Pe.NAME="SIMPLE STRING",Pe})(),Si=(()=>{class Pe extends Kn{fromBuffer(g){this.valueBlock.valueHexView=v._H.toUint8Array(g);try{this.valueBlock.value=v.U$.ToUtf8String(g)}catch(A){this.warnings.push(`Error during "decodeURIComponent": ${A}, using raw string`),this.valueBlock.value=v.U$.ToBinary(g)}}fromString(g){this.valueBlock.valueHexView=new Uint8Array(v.U$.FromUtf8String(g)),this.valueBlock.value=g}}return Pe.NAME="Utf8StringValueBlock",Pe})();class Wi extends Si{constructor(u={}){super(u),this.idBlock.tagClass=1,this.idBlock.tagNumber=12}}Ce.Utf8String=Wi,Wi.NAME="UTF8String";let Hi=(()=>{class Pe extends Kn{fromBuffer(g){this.valueBlock.value=v.U$.ToUtf16String(g),this.valueBlock.valueHexView=v._H.toUint8Array(g)}fromString(g){this.valueBlock.value=g,this.valueBlock.valueHexView=new Uint8Array(v.U$.FromUtf16String(g))}}return Pe.NAME="BmpStringValueBlock",Pe})();class qe extends Hi{constructor({...u}={}){super(u),this.idBlock.tagClass=1,this.idBlock.tagNumber=30}}Ce.BmpString=qe,qe.NAME="BMPString";let St=(()=>{class Pe extends Kn{fromBuffer(g){const A=ArrayBuffer.isView(g)?g.slice().buffer:g.slice(0),j=new Uint8Array(A);for(let ne=0;ne<j.length;ne+=4)j[ne]=j[ne+3],j[ne+1]=j[ne+2],j[ne+2]=0,j[ne+3]=0;this.valueBlock.value=String.fromCharCode.apply(null,new Uint32Array(A))}fromString(g){const A=g.length,j=this.valueBlock.valueHexView=new Uint8Array(4*A);for(let ne=0;ne<A;ne++){const ge=f(g.charCodeAt(ne),8),$e=new Uint8Array(ge);if($e.length>4)continue;const S=4-$e.length;for(let B=$e.length-1;B>=0;B--)j[4*ne+B+S]=$e[B]}this.valueBlock.value=g}}return Pe.NAME="UniversalStringValueBlock",Pe})();class Gt extends St{constructor({...u}={}){super(u),this.idBlock.tagClass=1,this.idBlock.tagNumber=28}}Ce.UniversalString=Gt,Gt.NAME="UniversalString";class Ht extends Kn{constructor(u={}){super(u),this.idBlock.tagClass=1,this.idBlock.tagNumber=18}}Ce.NumericString=Ht,Ht.NAME="NumericString";class Xt extends Kn{constructor(u={}){super(u),this.idBlock.tagClass=1,this.idBlock.tagNumber=19}}Ce.PrintableString=Xt,Xt.NAME="PrintableString";class ye extends Kn{constructor(u={}){super(u),this.idBlock.tagClass=1,this.idBlock.tagNumber=20}}Ce.TeletexString=ye,ye.NAME="TeletexString";class ve extends Kn{constructor(u={}){super(u),this.idBlock.tagClass=1,this.idBlock.tagNumber=21}}Ce.VideotexString=ve,ve.NAME="VideotexString";class Ke extends Kn{constructor(u={}){super(u),this.idBlock.tagClass=1,this.idBlock.tagNumber=22}}Ce.IA5String=Ke,Ke.NAME="IA5String";class gt extends Kn{constructor(u={}){super(u),this.idBlock.tagClass=1,this.idBlock.tagNumber=25}}Ce.GraphicString=gt,gt.NAME="GraphicString";class Bn extends Kn{constructor(u={}){super(u),this.idBlock.tagClass=1,this.idBlock.tagNumber=26}}Ce.VisibleString=Bn,Bn.NAME="VisibleString";class gi extends Kn{constructor(u={}){super(u),this.idBlock.tagClass=1,this.idBlock.tagNumber=27}}Ce.GeneralString=gi,gi.NAME="GeneralString";class ji extends Kn{constructor(u={}){super(u),this.idBlock.tagClass=1,this.idBlock.tagNumber=29}}Ce.CharacterString=ji,ji.NAME="CharacterString";class $n extends Bn{constructor({value:u,valueDate:g,...A}={}){if(super(A),this.year=0,this.month=0,this.day=0,this.hour=0,this.minute=0,this.second=0,u){this.fromString(u),this.valueBlock.valueHexView=new Uint8Array(u.length);for(let j=0;j<u.length;j++)this.valueBlock.valueHexView[j]=u.charCodeAt(j)}g&&(this.fromDate(g),this.valueBlock.valueHexView=new Uint8Array(this.toBuffer())),this.idBlock.tagClass=1,this.idBlock.tagNumber=23}fromBuffer(u){this.fromString(String.fromCharCode.apply(null,v._H.toUint8Array(u)))}toBuffer(){const u=this.toString(),g=new ArrayBuffer(u.length),A=new Uint8Array(g);for(let j=0;j<u.length;j++)A[j]=u.charCodeAt(j);return g}fromDate(u){this.year=u.getUTCFullYear(),this.month=u.getUTCMonth()+1,this.day=u.getUTCDate(),this.hour=u.getUTCHours(),this.minute=u.getUTCMinutes(),this.second=u.getUTCSeconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second))}fromString(u){const A=/(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})Z/gi.exec(u);if(null===A)return void(this.error="Wrong input string for conversion");const j=parseInt(A[1],10);this.year=j>=50?1900+j:2e3+j,this.month=parseInt(A[2],10),this.day=parseInt(A[3],10),this.hour=parseInt(A[4],10),this.minute=parseInt(A[5],10),this.second=parseInt(A[6],10)}toString(u="iso"){if("iso"===u){const g=new Array(7);return g[0]=N(this.year<2e3?this.year-1900:this.year-2e3,2),g[1]=N(this.month,2),g[2]=N(this.day,2),g[3]=N(this.hour,2),g[4]=N(this.minute,2),g[5]=N(this.second,2),g[6]="Z",g.join("")}return super.toString(u)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.toDate().toISOString()}`}toJSON(){return{...super.toJSON(),year:this.year,month:this.month,day:this.day,hour:this.hour,minute:this.minute,second:this.second}}}Ce.UTCTime=$n,$n.NAME="UTCTime";class cr extends $n{constructor(u={}){var g;super(u),null!==(g=this.millisecond)&&void 0!==g||(this.millisecond=0),this.idBlock.tagClass=1,this.idBlock.tagNumber=24}fromDate(u){super.fromDate(u),this.millisecond=u.getUTCMilliseconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond))}fromString(u){let ge,g=!1,A="",j="",ne=0,$e=0,S=0;if("Z"===u[u.length-1])A=u.substring(0,u.length-1),g=!0;else{const X=new Number(u[u.length-1]);if(isNaN(X.valueOf()))throw new Error("Wrong input string for conversion");A=u}if(g){if(-1!==A.indexOf("+"))throw new Error("Wrong input string for conversion");if(-1!==A.indexOf("-"))throw new Error("Wrong input string for conversion")}else{let X=1,pe=A.indexOf("+"),Ve="";if(-1===pe&&(pe=A.indexOf("-"),X=-1),-1!==pe){if(Ve=A.substring(pe+1),A=A.substring(0,pe),2!==Ve.length&&4!==Ve.length)throw new Error("Wrong input string for conversion");let yt=parseInt(Ve.substring(0,2),10);if(isNaN(yt.valueOf()))throw new Error("Wrong input string for conversion");if($e=X*yt,4===Ve.length){if(yt=parseInt(Ve.substring(2,4),10),isNaN(yt.valueOf()))throw new Error("Wrong input string for conversion");S=X*yt}}}let B=A.indexOf(".");if(-1===B&&(B=A.indexOf(",")),-1!==B){const X=new Number(`0${A.substring(B)}`);if(isNaN(X.valueOf()))throw new Error("Wrong input string for conversion");ne=X.valueOf(),j=A.substring(0,B)}else j=A;switch(!0){case 8===j.length:if(ge=/(\d{4})(\d{2})(\d{2})/gi,-1!==B)throw new Error("Wrong input string for conversion");break;case 10===j.length:if(ge=/(\d{4})(\d{2})(\d{2})(\d{2})/gi,-1!==B){let X=60*ne;this.minute=Math.floor(X),X=60*(X-this.minute),this.second=Math.floor(X),X=1e3*(X-this.second),this.millisecond=Math.floor(X)}break;case 12===j.length:if(ge=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})/gi,-1!==B){let X=60*ne;this.second=Math.floor(X),X=1e3*(X-this.second),this.millisecond=Math.floor(X)}break;case 14===j.length:ge=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/gi,-1!==B&&(this.millisecond=Math.floor(1e3*ne));break;default:throw new Error("Wrong input string for conversion")}const O=ge.exec(j);if(null===O)throw new Error("Wrong input string for conversion");for(let X=1;X<O.length;X++)switch(X){case 1:this.year=parseInt(O[X],10);break;case 2:this.month=parseInt(O[X],10);break;case 3:this.day=parseInt(O[X],10);break;case 4:this.hour=parseInt(O[X],10)+$e;break;case 5:this.minute=parseInt(O[X],10)+S;break;case 6:this.second=parseInt(O[X],10);break;default:throw new Error("Wrong input string for conversion")}if(!1===g){const X=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond);this.year=X.getUTCFullYear(),this.month=X.getUTCMonth(),this.day=X.getUTCDay(),this.hour=X.getUTCHours(),this.minute=X.getUTCMinutes(),this.second=X.getUTCSeconds(),this.millisecond=X.getUTCMilliseconds()}}toString(u="iso"){if("iso"===u){const g=[];return g.push(N(this.year,4)),g.push(N(this.month,2)),g.push(N(this.day,2)),g.push(N(this.hour,2)),g.push(N(this.minute,2)),g.push(N(this.second,2)),0!==this.millisecond&&(g.push("."),g.push(N(this.millisecond,3))),g.push("Z"),g.join("")}return super.toString(u)}toJSON(){return{...super.toJSON(),millisecond:this.millisecond}}}Ce.GeneralizedTime=cr,cr.NAME="GeneralizedTime";class Nr extends Wi{constructor(u={}){super(u),this.idBlock.tagClass=1,this.idBlock.tagNumber=31}}Ce.DATE=Nr,Nr.NAME="DATE";class _s extends Wi{constructor(u={}){super(u),this.idBlock.tagClass=1,this.idBlock.tagNumber=32}}Ce.TimeOfDay=_s,_s.NAME="TimeOfDay";class vi extends Wi{constructor(u={}){super(u),this.idBlock.tagClass=1,this.idBlock.tagNumber=33}}Ce.DateTime=vi,vi.NAME="DateTime";class bs extends Wi{constructor(u={}){super(u),this.idBlock.tagClass=1,this.idBlock.tagNumber=34}}Ce.Duration=bs,bs.NAME="Duration";class Vs extends Wi{constructor(u={}){super(u),this.idBlock.tagClass=1,this.idBlock.tagNumber=14}}Ce.TIME=Vs,Vs.NAME="TIME";class br{constructor({name:u="",optional:g=!1}={}){this.name=u,this.optional=g}}class Cr extends br{constructor({value:u=[],...g}={}){super(g),this.value=u}}class Ni extends br{constructor({value:u=new br,local:g=!1,...A}={}){super(A),this.value=u,this.local=g}}class qs{constructor({data:u=vt}={}){this.dataView=v._H.toUint8Array(u)}get data(){return this.dataView.slice().buffer}set data(u){this.dataView=v._H.toUint8Array(u)}fromBER(u,g,A){const j=g+A;return this.dataView=v._H.toUint8Array(u).subarray(g,j),j}toBER(u){return this.dataView.slice().buffer}}function si(Pe,u,g){if(g instanceof Cr){for(let ne=0;ne<g.value.length;ne++)if(si(Pe,u,g.value[ne]).verified)return{verified:!0,result:Pe};{const ne={verified:!1,result:{error:"Wrong values for Choice type"}};return g.hasOwnProperty(Qe)&&(ne.name=g.name),ne}}if(g instanceof br)return g.hasOwnProperty(Qe)&&(Pe[g.name]=u),{verified:!0,result:Pe};if(!(Pe instanceof Object))return{verified:!1,result:{error:"Wrong root object"}};if(!(u instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 data"}};if(!(g instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!("idBlock"in g))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!("fromBER"in g.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!("toBER"in g.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};const A=g.idBlock.toBER(!1);if(0===A.byteLength)return{verified:!1,result:{error:"Error encoding idBlock for ASN.1 schema"}};if(-1===g.idBlock.fromBER(A,0,A.byteLength))return{verified:!1,result:{error:"Error decoding idBlock for ASN.1 schema"}};if(!1===g.idBlock.hasOwnProperty("tagClass"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(g.idBlock.tagClass!==u.idBlock.tagClass)return{verified:!1,result:Pe};if(!1===g.idBlock.hasOwnProperty("tagNumber"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(g.idBlock.tagNumber!==u.idBlock.tagNumber)return{verified:!1,result:Pe};if(!1===g.idBlock.hasOwnProperty("isConstructed"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(g.idBlock.isConstructed!==u.idBlock.isConstructed)return{verified:!1,result:Pe};if(!("isHexOnly"in g.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(g.idBlock.isHexOnly!==u.idBlock.isHexOnly)return{verified:!1,result:Pe};if(g.idBlock.isHexOnly){if(!(Le in g.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};const ne=g.idBlock.valueHexView,ge=u.idBlock.valueHexView;if(ne.length!==ge.length)return{verified:!1,result:Pe};for(let $e=0;$e<ne.length;$e++)if(ne[$e]!==ge[1])return{verified:!1,result:Pe}}if(g.name&&(g.name=g.name.replace(/^\s+|\s+$/g,""),g.name&&(Pe[g.name]=u)),g instanceof Ce.Constructed){let ne=0,ge={verified:!1,result:{error:"Unknown error"}},$e=g.valueBlock.value.length;if($e>0&&g.valueBlock.value[0]instanceof Ni&&($e=u.valueBlock.value.length),0===$e)return{verified:!0,result:Pe};if(0===u.valueBlock.value.length&&0!==g.valueBlock.value.length){let S=!0;for(let B=0;B<g.valueBlock.value.length;B++)S=S&&(g.valueBlock.value[B].optional||!1);return S?{verified:!0,result:Pe}:(g.name&&(g.name=g.name.replace(/^\s+|\s+$/g,""),g.name&&delete Pe[g.name]),Pe.error="Inconsistent object length",{verified:!1,result:Pe})}for(let S=0;S<$e;S++)if(S-ne>=u.valueBlock.value.length){if(!1===g.valueBlock.value[S].optional){const B={verified:!1,result:Pe};return Pe.error="Inconsistent length between ASN.1 data and schema",g.name&&(g.name=g.name.replace(/^\s+|\s+$/g,""),g.name&&(delete Pe[g.name],B.name=g.name)),B}}else if(g.valueBlock.value[0]instanceof Ni){if(ge=si(Pe,u.valueBlock.value[S],g.valueBlock.value[0].value),!1===ge.verified){if(!g.valueBlock.value[0].optional)return g.name&&(g.name=g.name.replace(/^\s+|\s+$/g,""),g.name&&delete Pe[g.name]),ge;ne++}if(Qe in g.valueBlock.value[0]&&g.valueBlock.value[0].name.length>0){let B={};B="local"in g.valueBlock.value[0]&&g.valueBlock.value[0].local?u:Pe,typeof B[g.valueBlock.value[0].name]>"u"&&(B[g.valueBlock.value[0].name]=[]),B[g.valueBlock.value[0].name].push(u.valueBlock.value[S])}}else if(ge=si(Pe,u.valueBlock.value[S-ne],g.valueBlock.value[S]),!1===ge.verified){if(!g.valueBlock.value[S].optional)return g.name&&(g.name=g.name.replace(/^\s+|\s+$/g,""),g.name&&delete Pe[g.name]),ge;ne++}if(!1===ge.verified){const S={verified:!1,result:Pe};return g.name&&(g.name=g.name.replace(/^\s+|\s+$/g,""),g.name&&(delete Pe[g.name],S.name=g.name)),S}return{verified:!0,result:Pe}}if(g.primitiveSchema&&Le in u.valueBlock){const ne=en(u.valueBlock.valueHexView);if(-1===ne.offset){const ge={verified:!1,result:ne.result};return g.name&&(g.name=g.name.replace(/^\s+|\s+$/g,""),g.name&&(delete Pe[g.name],ge.name=g.name)),ge}return si(Pe,ne.result,g.primitiveSchema)}return{verified:!0,result:Pe}}class Vn{constructor(u={}){this.algorithmId=w(u,"algorithmId",Vn.defaultValues("algorithmId")),"algorithmParams"in u&&(this.algorithmParams=w(u,"algorithmParams",Vn.defaultValues("algorithmParams"))),"schema"in u&&this.fromSchema(u.schema)}static defaultValues(u){switch(u){case"algorithmId":return"";case"algorithmParams":return new br;default:throw new Error(`Invalid member name for AlgorithmIdentifier class: ${u}`)}}static compareWithDefault(u,g){switch(u){case"algorithmId":return""===g;case"algorithmParams":return g instanceof br;default:throw new Error(`Invalid member name for AlgorithmIdentifier class: ${u}`)}}static schema(u={}){const g=w(u,"names",{});return new pn({name:g.blockName||"",optional:g.optional||!1,value:[new Vt({name:g.algorithmIdentifier||""}),new br({name:g.algorithmParams||"",optional:!0})]})}fromSchema(u){K(u,["algorithm","params"]);const g=si(u,u,Vn.schema({names:{algorithmIdentifier:"algorithm",algorithmParams:"params"}}));if(!1===g.verified)throw new Error("Object's schema was not verified against input data for AlgorithmIdentifier");this.algorithmId=g.result.algorithm.valueBlock.toString(),"params"in g.result&&(this.algorithmParams=g.result.params)}toSchema(){const u=[];return u.push(new Vt({value:this.algorithmId})),"algorithmParams"in this&&!(this.algorithmParams instanceof br)&&u.push(this.algorithmParams),new pn({value:u})}toJSON(){const u={algorithmId:this.algorithmId};return"algorithmParams"in this&&!(this.algorithmParams instanceof br)&&(u.algorithmParams=this.algorithmParams.toJSON()),u}isEqual(u){return u instanceof Vn&&this.algorithmId===u.algorithmId&&("algorithmParams"in this?"algorithmParams"in u&&JSON.stringify(this.algorithmParams)===JSON.stringify(u.algorithmParams):!("algorithmParams"in u))}}let ns=(()=>{class Pe{static register(g,A,j){this.namedCurves[g.toLowerCase()]=this.namedCurves[A]={name:g,id:A,size:j}}static find(g){return this.namedCurves[g.toLowerCase()]||null}}return Pe.namedCurves={},Pe})();ns.register("P-256","1.2.840.10045.3.1.7",32),ns.register("P-384","1.3.132.0.34",48),ns.register("P-521","1.3.132.0.35",66),ns.register("brainpoolP256r1","1.3.36.3.3.2.8.1.1.7",32),ns.register("brainpoolP384r1","1.3.36.3.3.2.8.1.1.11",48),ns.register("brainpoolP512r1","1.3.36.3.3.2.8.1.1.13",64);class vr{constructor(u={}){this.x=w(u,"x",vr.defaultValues("x")),this.y=w(u,"y",vr.defaultValues("y")),this.namedCurve=w(u,"namedCurve",vr.defaultValues("namedCurve")),"schema"in u&&this.fromSchema(u.schema),"json"in u&&this.fromJSON(u.json)}static defaultValues(u){switch(u){case"x":case"y":return new ArrayBuffer(0);case"namedCurve":return"";default:throw new Error(`Invalid member name for ECCPublicKey class: ${u}`)}}static compareWithDefault(u,g){switch(u){case"x":case"y":return M(g,vr.defaultValues(u));case"namedCurve":return""===g;default:throw new Error(`Invalid member name for ECCPublicKey class: ${u}`)}}static schema(u={}){return new qs}fromSchema(u){if(!(u instanceof ArrayBuffer))throw new Error("Object's schema was not verified against input data for ECPublicKey");if(4!==new Uint8Array(u)[0])throw new Error("Object's schema was not verified against input data for ECPublicKey");const A=ns.find(this.namedCurve);if(!A)throw new Error(`Incorrect curve OID: ${this.namedCurve}`);const j=A.size;if(u.byteLength!==2*j+1)throw new Error("Object's schema was not verified against input data for ECPublicKey");this.x=u.slice(1,j+1),this.y=u.slice(1+j,2*j+1)}toSchema(){return new qs({data:E(new Uint8Array([4]).buffer,this.x,this.y)})}toJSON(){const u=ns.find(this.namedCurve);return{crv:u?u.name:this.namedCurve,x:x(Q(this.x),!0,!0,!1),y:x(Q(this.y),!0,!0,!1)}}fromJSON(u){let g=0;if(!("crv"in u))throw new Error('Absent mandatory parameter "crv"');{const A=ns.find(u.crv);A&&(this.namedCurve=A.id,g=A.size)}if(!("x"in u))throw new Error('Absent mandatory parameter "x"');{const A=Y(V(u.x,!0));if(A.byteLength<g){this.x=new ArrayBuffer(g);const j=new Uint8Array(this.x),ne=new Uint8Array(A);j.set(ne,1)}else this.x=A.slice(0,g)}if(!("y"in u))throw new Error('Absent mandatory parameter "y"');{const A=Y(V(u.y,!0));if(A.byteLength<g){this.y=new ArrayBuffer(g);const j=new Uint8Array(this.y),ne=new Uint8Array(A);j.set(ne,1)}else this.y=A.slice(0,g)}}}class Ir{constructor(u={}){this.modulus=w(u,"modulus",Ir.defaultValues("modulus")),this.publicExponent=w(u,"publicExponent",Ir.defaultValues("publicExponent")),"schema"in u&&this.fromSchema(u.schema),"json"in u&&this.fromJSON(u.json)}static defaultValues(u){switch(u){case"modulus":case"publicExponent":return new un;default:throw new Error(`Invalid member name for RSAPublicKey class: ${u}`)}}static schema(u={}){const g=w(u,"names",{});return new pn({name:g.blockName||"",value:[new un({name:g.modulus||""}),new un({name:g.publicExponent||""})]})}fromSchema(u){K(u,["modulus","publicExponent"]);const g=si(u,u,Ir.schema({names:{modulus:"modulus",publicExponent:"publicExponent"}}));if(!1===g.verified)throw new Error("Object's schema was not verified against input data for RSAPublicKey");this.modulus=g.result.modulus.convertFromDER(256),this.publicExponent=g.result.publicExponent}toSchema(){return new pn({value:[this.modulus.convertToDER(),this.publicExponent]})}toJSON(){return{n:x(Q(this.modulus.valueBlock.valueHex),!0,!0,!0),e:x(Q(this.publicExponent.valueBlock.valueHex),!0,!0,!0)}}fromJSON(u){if(!("n"in u))throw new Error('Absent mandatory parameter "n"');{const g=Y(V(u.n,!0));this.modulus=new un({valueHex:g.slice(0,Math.pow(2,fe(g.byteLength)))})}if(!("e"in u))throw new Error('Absent mandatory parameter "e"');this.publicExponent=new un({valueHex:Y(V(u.e,!0)).slice(0,3)})}}class Dr{constructor(u={}){this.algorithm=w(u,"algorithm",Dr.defaultValues("algorithm")),this.subjectPublicKey=w(u,"subjectPublicKey",Dr.defaultValues("subjectPublicKey")),"parsedKey"in u&&(this.parsedKey=w(u,"parsedKey",Dr.defaultValues("parsedKey"))),"schema"in u&&this.fromSchema(u.schema),"json"in u&&this.fromJSON(u.json)}static defaultValues(u){switch(u){case"algorithm":return new Vn;case"subjectPublicKey":return new Rt;default:throw new Error(`Invalid member name for PublicKeyInfo class: ${u}`)}}static schema(u={}){const g=w(u,"names",{});return new pn({name:g.blockName||"",value:[Vn.schema(g.algorithm||{}),new Rt({name:g.subjectPublicKey||""})]})}fromSchema(u){K(u,["algorithm","subjectPublicKey"]);const g=si(u,u,Dr.schema({names:{algorithm:{names:{blockName:"algorithm"}},subjectPublicKey:"subjectPublicKey"}}));if(!1===g.verified)throw new Error("Object's schema was not verified against input data for PublicKeyInfo");switch(this.algorithm=new Vn({schema:g.result.algorithm}),this.subjectPublicKey=g.result.subjectPublicKey,this.algorithm.algorithmId){case"1.2.840.10045.2.1":if("algorithmParams"in this.algorithm&&this.algorithm.algorithmParams.constructor.blockName()===Vt.blockName())try{this.parsedKey=new vr({namedCurve:this.algorithm.algorithmParams.valueBlock.toString(),schema:this.subjectPublicKey.valueBlock.valueHex})}catch{}break;case"1.2.840.113549.1.1.1":{const A=Ot(this.subjectPublicKey.valueBlock.valueHex);if(-1!==A.offset)try{this.parsedKey=new Ir({schema:A.result})}catch{}}}}toSchema(){return new pn({value:[this.algorithm.toSchema(),this.subjectPublicKey]})}toJSON(){if(!("parsedKey"in this))return{algorithm:this.algorithm.toJSON(),subjectPublicKey:this.subjectPublicKey.toJSON()};const u={};switch(this.algorithm.algorithmId){case"1.2.840.10045.2.1":u.kty="EC";break;case"1.2.840.113549.1.1.1":u.kty="RSA"}const g=this.parsedKey.toJSON();for(const A of Object.keys(g))u[A]=g[A];return u}fromJSON(u){if("kty"in u){switch(u.kty.toUpperCase()){case"EC":this.parsedKey=new vr({json:u}),this.algorithm=new Vn({algorithmId:"1.2.840.10045.2.1",algorithmParams:new Vt({value:this.parsedKey.namedCurve})});break;case"RSA":this.parsedKey=new Ir({json:u}),this.algorithm=new Vn({algorithmId:"1.2.840.113549.1.1.1",algorithmParams:new Ft});break;default:throw new Error(`Invalid value for "kty" parameter: ${u.kty}`)}this.subjectPublicKey=new Rt({valueHex:this.parsedKey.toSchema().toBER(!1)})}}importKey(u){let g=Promise.resolve();const A=this;if(typeof u>"u")return Promise.reject("Need to provide publicKey input parameter");const j=cs();return typeof j>"u"?Promise.reject("Unable to create WebCrypto object"):(g=g.then(()=>j.exportKey("spki",u)),g=g.then(ne=>{const ge=Ot(ne);try{A.fromSchema(ge.result)}catch{return Promise.reject("Error during initializing object from schema")}},ne=>Promise.reject(`Error during exporting public key: ${ne}`)),g)}}class Or{constructor(u={}){this.type=w(u,"type",Or.defaultValues("type")),this.values=w(u,"values",Or.defaultValues("values")),"schema"in u&&this.fromSchema(u.schema)}static defaultValues(u){switch(u){case"type":return"";case"values":return[];default:throw new Error(`Invalid member name for Attribute class: ${u}`)}}static compareWithDefault(u,g){switch(u){case"type":return""===g;case"values":return 0===g.length;default:throw new Error(`Invalid member name for Attribute class: ${u}`)}}static schema(u={}){const g=w(u,"names",{});return new pn({name:g.blockName||"",value:[new Vt({name:g.type||""}),new fi({name:g.setName||"",value:[new Ni({name:g.values||"",value:new br})]})]})}fromSchema(u){K(u,["type","values"]);const g=si(u,u,Or.schema({names:{type:"type",values:"values"}}));if(!1===g.verified)throw new Error("Object's schema was not verified against input data for Attribute");this.type=g.result.type.valueBlock.toString(),this.values=g.result.values}toSchema(){return new pn({value:[new Vt({value:this.type}),new fi({value:this.values})]})}toJSON(){return{type:this.type,values:Array.from(this.values,u=>u.toJSON())}}}class Hr{constructor(u={}){this.version=w(u,"version",Hr.defaultValues("version")),this.privateKey=w(u,"privateKey",Hr.defaultValues("privateKey")),"namedCurve"in u&&(this.namedCurve=w(u,"namedCurve",Hr.defaultValues("namedCurve"))),"publicKey"in u&&(this.publicKey=w(u,"publicKey",Hr.defaultValues("publicKey"))),"schema"in u&&this.fromSchema(u.schema),"json"in u&&this.fromJSON(u.json)}static defaultValues(u){switch(u){case"version":return 1;case"privateKey":return new Pn;case"namedCurve":return"";case"publicKey":return new vr;default:throw new Error(`Invalid member name for ECCPrivateKey class: ${u}`)}}static compareWithDefault(u,g){switch(u){case"version":return g===Hr.defaultValues(u);case"privateKey":return g.isEqual(Hr.defaultValues(u));case"namedCurve":return""===g;case"publicKey":return vr.compareWithDefault("namedCurve",g.namedCurve)&&vr.compareWithDefault("x",g.x)&&vr.compareWithDefault("y",g.y);default:throw new Error(`Invalid member name for ECCPrivateKey class: ${u}`)}}static schema(u={}){const g=w(u,"names",{});return new pn({name:g.blockName||"",value:[new un({name:g.version||""}),new Pn({name:g.privateKey||""}),new H({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new Vt({name:g.namedCurve||""})]}),new H({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new Rt({name:g.publicKey||""})]})]})}fromSchema(u){K(u,["version","privateKey","namedCurve","publicKey"]);const g=si(u,u,Hr.schema({names:{version:"version",privateKey:"privateKey",namedCurve:"namedCurve",publicKey:"publicKey"}}));if(!1===g.verified)throw new Error("Object's schema was not verified against input data for ECPrivateKey");if(this.version=g.result.version.valueBlock.valueDec,this.privateKey=g.result.privateKey,"namedCurve"in g.result&&(this.namedCurve=g.result.namedCurve.valueBlock.toString()),"publicKey"in g.result){const A={schema:g.result.publicKey.valueBlock.valueHex};"namedCurve"in this&&(A.namedCurve=this.namedCurve),this.publicKey=new vr(A)}}toSchema(){const u=[new un({value:this.version}),this.privateKey];return"namedCurve"in this&&u.push(new H({idBlock:{tagClass:3,tagNumber:0},value:[new Vt({value:this.namedCurve})]})),"publicKey"in this&&u.push(new H({idBlock:{tagClass:3,tagNumber:1},value:[new Rt({valueHex:this.publicKey.toSchema().toBER(!1)})]})),new pn({value:u})}toJSON(){if(!("namedCurve"in this)||Hr.compareWithDefault("namedCurve",this.namedCurve))throw new Error('Not enough information for making JSON: absent "namedCurve" value');let u="";switch(this.namedCurve){case"1.2.840.10045.3.1.7":u="P-256";break;case"1.3.132.0.34":u="P-384";break;case"1.3.132.0.35":u="P-521"}const g={crv:u,d:x(Q(this.privateKey.valueBlock.valueHex),!0,!0,!1)};if("publicKey"in this){const A=this.publicKey.toJSON();g.x=A.x,g.y=A.y}return g}fromJSON(u){let g=0;if(!("crv"in u))throw new Error('Absent mandatory parameter "crv"');switch(u.crv.toUpperCase()){case"P-256":this.namedCurve="1.2.840.10045.3.1.7",g=32;break;case"P-384":this.namedCurve="1.3.132.0.34",g=48;break;case"P-521":this.namedCurve="1.3.132.0.35",g=66}if(!("d"in u))throw new Error('Absent mandatory parameter "d"');{const A=Y(V(u.d,!0));if(A.byteLength<g){const j=new ArrayBuffer(g),ne=new Uint8Array(j),ge=new Uint8Array(A);ne.set(ge,1),this.privateKey=new Pn({valueHex:j})}else this.privateKey=new Pn({valueHex:A.slice(0,g)})}"x"in u&&"y"in u&&(this.publicKey=new vr({json:u}))}}class er{constructor(u={}){this.prime=w(u,"prime",er.defaultValues("prime")),this.exponent=w(u,"exponent",er.defaultValues("exponent")),this.coefficient=w(u,"coefficient",er.defaultValues("coefficient")),"schema"in u&&this.fromSchema(u.schema),"json"in u&&this.fromJSON(u.json)}static defaultValues(u){switch(u){case"prime":case"exponent":case"coefficient":return new un;default:throw new Error(`Invalid member name for OtherPrimeInfo class: ${u}`)}}static schema(u={}){const g=w(u,"names",{});return new pn({name:g.blockName||"",value:[new un({name:g.prime||""}),new un({name:g.exponent||""}),new un({name:g.coefficient||""})]})}fromSchema(u){K(u,["prime","exponent","coefficient"]);const g=si(u,u,er.schema({names:{prime:"prime",exponent:"exponent",coefficient:"coefficient"}}));if(!1===g.verified)throw new Error("Object's schema was not verified against input data for OtherPrimeInfo");this.prime=g.result.prime.convertFromDER(),this.exponent=g.result.exponent.convertFromDER(),this.coefficient=g.result.coefficient.convertFromDER()}toSchema(){return new pn({value:[this.prime.convertToDER(),this.exponent.convertToDER(),this.coefficient.convertToDER()]})}toJSON(){return{r:x(Q(this.prime.valueBlock.valueHex),!0,!0),d:x(Q(this.exponent.valueBlock.valueHex),!0,!0),t:x(Q(this.coefficient.valueBlock.valueHex),!0,!0)}}fromJSON(u){if(!("r"in u))throw new Error('Absent mandatory parameter "r"');if(this.prime=new un({valueHex:Y(V(u.r,!0))}),!("d"in u))throw new Error('Absent mandatory parameter "d"');if(this.exponent=new un({valueHex:Y(V(u.d,!0))}),!("t"in u))throw new Error('Absent mandatory parameter "t"');this.coefficient=new un({valueHex:Y(V(u.t,!0))})}}class tr{constructor(u={}){this.version=w(u,"version",tr.defaultValues("version")),this.modulus=w(u,"modulus",tr.defaultValues("modulus")),this.publicExponent=w(u,"publicExponent",tr.defaultValues("publicExponent")),this.privateExponent=w(u,"privateExponent",tr.defaultValues("privateExponent")),this.prime1=w(u,"prime1",tr.defaultValues("prime1")),this.prime2=w(u,"prime2",tr.defaultValues("prime2")),this.exponent1=w(u,"exponent1",tr.defaultValues("exponent1")),this.exponent2=w(u,"exponent2",tr.defaultValues("exponent2")),this.coefficient=w(u,"coefficient",tr.defaultValues("coefficient")),"otherPrimeInfos"in u&&(this.otherPrimeInfos=w(u,"otherPrimeInfos",tr.defaultValues("otherPrimeInfos"))),"schema"in u&&this.fromSchema(u.schema),"json"in u&&this.fromJSON(u.json)}static defaultValues(u){switch(u){case"version":return 0;case"modulus":case"publicExponent":case"privateExponent":case"prime1":case"prime2":case"exponent1":case"exponent2":case"coefficient":return new un;case"otherPrimeInfos":return[];default:throw new Error(`Invalid member name for RSAPrivateKey class: ${u}`)}}static schema(u={}){const g=w(u,"names",{});return new pn({name:g.blockName||"",value:[new un({name:g.version||""}),new un({name:g.modulus||""}),new un({name:g.publicExponent||""}),new un({name:g.privateExponent||""}),new un({name:g.prime1||""}),new un({name:g.prime2||""}),new un({name:g.exponent1||""}),new un({name:g.exponent2||""}),new un({name:g.coefficient||""}),new pn({optional:!0,value:[new Ni({name:g.otherPrimeInfosName||"",value:er.schema(g.otherPrimeInfo||{})})]})]})}fromSchema(u){K(u,["version","modulus","publicExponent","privateExponent","prime1","prime2","exponent1","exponent2","coefficient","otherPrimeInfos"]);const g=si(u,u,tr.schema({names:{version:"version",modulus:"modulus",publicExponent:"publicExponent",privateExponent:"privateExponent",prime1:"prime1",prime2:"prime2",exponent1:"exponent1",exponent2:"exponent2",coefficient:"coefficient",otherPrimeInfo:{names:{blockName:"otherPrimeInfos"}}}}));if(!1===g.verified)throw new Error("Object's schema was not verified against input data for RSAPrivateKey");this.version=g.result.version.valueBlock.valueDec,this.modulus=g.result.modulus.convertFromDER(256),this.publicExponent=g.result.publicExponent,this.privateExponent=g.result.privateExponent.convertFromDER(256),this.prime1=g.result.prime1.convertFromDER(128),this.prime2=g.result.prime2.convertFromDER(128),this.exponent1=g.result.exponent1.convertFromDER(128),this.exponent2=g.result.exponent2.convertFromDER(128),this.coefficient=g.result.coefficient.convertFromDER(128),"otherPrimeInfos"in g.result&&(this.otherPrimeInfos=Array.from(g.result.otherPrimeInfos,A=>new er({schema:A})))}toSchema(){const u=[];return u.push(new un({value:this.version})),u.push(this.modulus.convertToDER()),u.push(this.publicExponent),u.push(this.privateExponent.convertToDER()),u.push(this.prime1.convertToDER()),u.push(this.prime2.convertToDER()),u.push(this.exponent1.convertToDER()),u.push(this.exponent2.convertToDER()),u.push(this.coefficient.convertToDER()),"otherPrimeInfos"in this&&u.push(new pn({value:Array.from(this.otherPrimeInfos,g=>g.toSchema())})),new pn({value:u})}toJSON(){const u={n:x(Q(this.modulus.valueBlock.valueHex),!0,!0,!0),e:x(Q(this.publicExponent.valueBlock.valueHex),!0,!0,!0),d:x(Q(this.privateExponent.valueBlock.valueHex),!0,!0,!0),p:x(Q(this.prime1.valueBlock.valueHex),!0,!0,!0),q:x(Q(this.prime2.valueBlock.valueHex),!0,!0,!0),dp:x(Q(this.exponent1.valueBlock.valueHex),!0,!0,!0),dq:x(Q(this.exponent2.valueBlock.valueHex),!0,!0,!0),qi:x(Q(this.coefficient.valueBlock.valueHex),!0,!0,!0)};return"otherPrimeInfos"in this&&(u.oth=Array.from(this.otherPrimeInfos,g=>g.toJSON())),u}fromJSON(u){if(!("n"in u))throw new Error('Absent mandatory parameter "n"');if(this.modulus=new un({valueHex:Y(V(u.n,!0,!0))}),!("e"in u))throw new Error('Absent mandatory parameter "e"');if(this.publicExponent=new un({valueHex:Y(V(u.e,!0,!0))}),!("d"in u))throw new Error('Absent mandatory parameter "d"');if(this.privateExponent=new un({valueHex:Y(V(u.d,!0,!0))}),!("p"in u))throw new Error('Absent mandatory parameter "p"');if(this.prime1=new un({valueHex:Y(V(u.p,!0,!0))}),!("q"in u))throw new Error('Absent mandatory parameter "q"');if(this.prime2=new un({valueHex:Y(V(u.q,!0,!0))}),!("dp"in u))throw new Error('Absent mandatory parameter "dp"');if(this.exponent1=new un({valueHex:Y(V(u.dp,!0,!0))}),!("dq"in u))throw new Error('Absent mandatory parameter "dq"');if(this.exponent2=new un({valueHex:Y(V(u.dq,!0,!0))}),!("qi"in u))throw new Error('Absent mandatory parameter "qi"');this.coefficient=new un({valueHex:Y(V(u.qi,!0,!0))}),"oth"in u&&(this.otherPrimeInfos=Array.from(u.oth,g=>new er({json:g})))}}class Gn{constructor(u={}){this.version=w(u,"version",Gn.defaultValues("version")),this.privateKeyAlgorithm=w(u,"privateKeyAlgorithm",Gn.defaultValues("privateKeyAlgorithm")),this.privateKey=w(u,"privateKey",Gn.defaultValues("privateKey")),"attributes"in u&&(this.attributes=w(u,"attributes",Gn.defaultValues("attributes"))),"parsedKey"in u&&(this.parsedKey=w(u,"parsedKey",Gn.defaultValues("parsedKey"))),"schema"in u&&this.fromSchema(u.schema),"json"in u&&this.fromJSON(u.json)}static defaultValues(u){switch(u){case"version":return 0;case"privateKeyAlgorithm":return new Vn;case"privateKey":return new Pn;case"attributes":return[];case"parsedKey":return{};default:throw new Error(`Invalid member name for PrivateKeyInfo class: ${u}`)}}static schema(u={}){const g=w(u,"names",{});return new pn({name:g.blockName||"",value:[new un({name:g.version||""}),Vn.schema(g.privateKeyAlgorithm||{}),new Pn({name:g.privateKey||""}),new H({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new Ni({name:g.attributes||"",value:Or.schema()})]})]})}fromSchema(u){K(u,["version","privateKeyAlgorithm","privateKey","attributes"]);const g=si(u,u,Gn.schema({names:{version:"version",privateKeyAlgorithm:{names:{blockName:"privateKeyAlgorithm"}},privateKey:"privateKey",attributes:"attributes"}}));if(!1===g.verified)throw new Error("Object's schema was not verified against input data for PrivateKeyInfo");switch(this.version=g.result.version.valueBlock.valueDec,this.privateKeyAlgorithm=new Vn({schema:g.result.privateKeyAlgorithm}),this.privateKey=g.result.privateKey,"attributes"in g.result&&(this.attributes=Array.from(g.result.attributes,A=>new Or({schema:A}))),this.privateKeyAlgorithm.algorithmId){case"1.2.840.113549.1.1.1":{const A=Ot(this.privateKey.valueBlock.valueHex);-1!==A.offset&&(this.parsedKey=new tr({schema:A.result}))}break;case"1.2.840.10045.2.1":if("algorithmParams"in this.privateKeyAlgorithm&&this.privateKeyAlgorithm.algorithmParams instanceof Vt){const A=Ot(this.privateKey.valueBlock.valueHex);-1!==A.offset&&(this.parsedKey=new Hr({namedCurve:this.privateKeyAlgorithm.algorithmParams.valueBlock.toString(),schema:A.result}))}}}toSchema(){const u=[new un({value:this.version}),this.privateKeyAlgorithm.toSchema(),this.privateKey];return"attributes"in this&&u.push(new H({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.attributes,g=>g.toSchema())})),new pn({value:u})}toJSON(){if(!("parsedKey"in this)){const A={version:this.version,privateKeyAlgorithm:this.privateKeyAlgorithm.toJSON(),privateKey:this.privateKey.toJSON()};return"attributes"in this&&(A.attributes=Array.from(this.attributes,j=>j.toJSON())),A}const u={};switch(this.privateKeyAlgorithm.algorithmId){case"1.2.840.10045.2.1":u.kty="EC";break;case"1.2.840.113549.1.1.1":u.kty="RSA"}const g=this.parsedKey.toJSON();for(const A of Object.keys(g))u[A]=g[A];return u}fromJSON(u){if("kty"in u){switch(u.kty.toUpperCase()){case"EC":this.parsedKey=new Hr({json:u}),this.privateKeyAlgorithm=new Vn({algorithmId:"1.2.840.10045.2.1",algorithmParams:new Vt({value:this.parsedKey.namedCurve})});break;case"RSA":this.parsedKey=new tr({json:u}),this.privateKeyAlgorithm=new Vn({algorithmId:"1.2.840.113549.1.1.1",algorithmParams:new Ft});break;default:throw new Error(`Invalid value for "kty" parameter: ${u.kty}`)}this.privateKey=new Pn({valueHex:this.parsedKey.toSchema().toBER(!1)})}}}class Jr{constructor(u={}){if(this.contentType=w(u,"contentType",Jr.defaultValues("contentType")),this.contentEncryptionAlgorithm=w(u,"contentEncryptionAlgorithm",Jr.defaultValues("contentEncryptionAlgorithm")),"encryptedContent"in u&&(this.encryptedContent=u.encryptedContent,1===this.encryptedContent.idBlock.tagClass&&4===this.encryptedContent.idBlock.tagNumber&&!1===this.encryptedContent.idBlock.isConstructed)){const g=new Pn({idBlock:{isConstructed:!0},isConstructed:!0});let A=0,j=this.encryptedContent.valueBlock.valueHex.byteLength;for(;j>0;){const ne=new Uint8Array(this.encryptedContent.valueBlock.valueHex,A,A+1024>this.encryptedContent.valueBlock.valueHex.byteLength?this.encryptedContent.valueBlock.valueHex.byteLength-A:1024),ge=new ArrayBuffer(ne.length),$e=new Uint8Array(ge);for(let S=0;S<$e.length;S++)$e[S]=ne[S];g.valueBlock.value.push(new Pn({valueHex:ge})),j-=ne.length,A+=ne.length}this.encryptedContent=g}"schema"in u&&this.fromSchema(u.schema)}static defaultValues(u){switch(u){case"contentType":return"";case"contentEncryptionAlgorithm":return new Vn;case"encryptedContent":return new Pn;default:throw new Error(`Invalid member name for EncryptedContentInfo class: ${u}`)}}static compareWithDefault(u,g){switch(u){case"contentType":return""===g;case"contentEncryptionAlgorithm":return""===g.algorithmId&&!("algorithmParams"in g);case"encryptedContent":return g.isEqual(Jr.defaultValues(u));default:throw new Error(`Invalid member name for EncryptedContentInfo class: ${u}`)}}static schema(u={}){const g=w(u,"names",{});return new pn({name:g.blockName||"",value:[new Vt({name:g.contentType||""}),Vn.schema(g.contentEncryptionAlgorithm||{}),new Cr({value:[new H({name:g.encryptedContent||"",idBlock:{tagClass:3,tagNumber:0},value:[new Ni({value:new Pn})]}),new tt({name:g.encryptedContent||"",idBlock:{tagClass:3,tagNumber:0}})]})]})}fromSchema(u){K(u,["contentType","contentEncryptionAlgorithm","encryptedContent"]);const g=si(u,u,Jr.schema({names:{contentType:"contentType",contentEncryptionAlgorithm:{names:{blockName:"contentEncryptionAlgorithm"}},encryptedContent:"encryptedContent"}}));if(!1===g.verified)throw new Error("Object's schema was not verified against input data for EncryptedContentInfo");this.contentType=g.result.contentType.valueBlock.toString(),this.contentEncryptionAlgorithm=new Vn({schema:g.result.contentEncryptionAlgorithm}),"encryptedContent"in g.result&&(this.encryptedContent=g.result.encryptedContent,this.encryptedContent.idBlock.tagClass=1,this.encryptedContent.idBlock.tagNumber=4)}toSchema(){const u={isIndefiniteForm:!1},g=[];if(g.push(new Vt({value:this.contentType})),g.push(this.contentEncryptionAlgorithm.toSchema()),"encryptedContent"in this){u.isIndefiniteForm=this.encryptedContent.idBlock.isConstructed;const A=this.encryptedContent;A.idBlock.tagClass=3,A.idBlock.tagNumber=0,A.lenBlock.isIndefiniteForm=this.encryptedContent.idBlock.isConstructed,g.push(A)}return new pn({lenBlock:u,value:g})}toJSON(){const u={contentType:this.contentType,contentEncryptionAlgorithm:this.contentEncryptionAlgorithm.toJSON()};return"encryptedContent"in this&&(u.encryptedContent=this.encryptedContent.toJSON()),u}}class ur{constructor(u={}){this.hashAlgorithm=w(u,"hashAlgorithm",ur.defaultValues("hashAlgorithm")),this.maskGenAlgorithm=w(u,"maskGenAlgorithm",ur.defaultValues("maskGenAlgorithm")),this.saltLength=w(u,"saltLength",ur.defaultValues("saltLength")),this.trailerField=w(u,"trailerField",ur.defaultValues("trailerField")),"schema"in u&&this.fromSchema(u.schema)}static defaultValues(u){switch(u){case"hashAlgorithm":return new Vn({algorithmId:"1.3.14.3.2.26",algorithmParams:new Ft});case"maskGenAlgorithm":return new Vn({algorithmId:"1.2.840.113549.1.1.8",algorithmParams:new Vn({algorithmId:"1.3.14.3.2.26",algorithmParams:new Ft}).toSchema()});case"saltLength":return 20;case"trailerField":return 1;default:throw new Error(`Invalid member name for RSASSAPSSParams class: ${u}`)}}static schema(u={}){const g=w(u,"names",{});return new pn({name:g.blockName||"",value:[new H({idBlock:{tagClass:3,tagNumber:0},optional:!0,value:[Vn.schema(g.hashAlgorithm||{})]}),new H({idBlock:{tagClass:3,tagNumber:1},optional:!0,value:[Vn.schema(g.maskGenAlgorithm||{})]}),new H({idBlock:{tagClass:3,tagNumber:2},optional:!0,value:[new un({name:g.saltLength||""})]}),new H({idBlock:{tagClass:3,tagNumber:3},optional:!0,value:[new un({name:g.trailerField||""})]})]})}fromSchema(u){K(u,["hashAlgorithm","maskGenAlgorithm","saltLength","trailerField"]);const g=si(u,u,ur.schema({names:{hashAlgorithm:{names:{blockName:"hashAlgorithm"}},maskGenAlgorithm:{names:{blockName:"maskGenAlgorithm"}},saltLength:"saltLength",trailerField:"trailerField"}}));if(!1===g.verified)throw new Error("Object's schema was not verified against input data for RSASSAPSSParams");"hashAlgorithm"in g.result&&(this.hashAlgorithm=new Vn({schema:g.result.hashAlgorithm})),"maskGenAlgorithm"in g.result&&(this.maskGenAlgorithm=new Vn({schema:g.result.maskGenAlgorithm})),"saltLength"in g.result&&(this.saltLength=g.result.saltLength.valueBlock.valueDec),"trailerField"in g.result&&(this.trailerField=g.result.trailerField.valueBlock.valueDec)}toSchema(){const u=[];return this.hashAlgorithm.isEqual(ur.defaultValues("hashAlgorithm"))||u.push(new H({idBlock:{tagClass:3,tagNumber:0},value:[this.hashAlgorithm.toSchema()]})),this.maskGenAlgorithm.isEqual(ur.defaultValues("maskGenAlgorithm"))||u.push(new H({idBlock:{tagClass:3,tagNumber:1},value:[this.maskGenAlgorithm.toSchema()]})),this.saltLength!==ur.defaultValues("saltLength")&&u.push(new H({idBlock:{tagClass:3,tagNumber:2},value:[new un({value:this.saltLength})]})),this.trailerField!==ur.defaultValues("trailerField")&&u.push(new H({idBlock:{tagClass:3,tagNumber:3},value:[new un({value:this.trailerField})]})),new pn({value:u})}toJSON(){const u={};return this.hashAlgorithm.isEqual(ur.defaultValues("hashAlgorithm"))||(u.hashAlgorithm=this.hashAlgorithm.toJSON()),this.maskGenAlgorithm.isEqual(ur.defaultValues("maskGenAlgorithm"))||(u.maskGenAlgorithm=this.maskGenAlgorithm.toJSON()),this.saltLength!==ur.defaultValues("saltLength")&&(u.saltLength=this.saltLength),this.trailerField!==ur.defaultValues("trailerField")&&(u.trailerField=this.trailerField),u}}class Fr{constructor(u={}){this.salt=w(u,"salt",Fr.defaultValues("salt")),this.iterationCount=w(u,"iterationCount",Fr.defaultValues("iterationCount")),"keyLength"in u&&(this.keyLength=w(u,"keyLength",Fr.defaultValues("keyLength"))),"prf"in u&&(this.prf=w(u,"prf",Fr.defaultValues("prf"))),"schema"in u&&this.fromSchema(u.schema)}static defaultValues(u){switch(u){case"salt":return{};case"iterationCount":return-1;case"keyLength":return 0;case"prf":return new Vn({algorithmId:"1.3.14.3.2.26",algorithmParams:new Ft});default:throw new Error(`Invalid member name for PBKDF2Params class: ${u}`)}}static schema(u={}){const g=w(u,"names",{});return new pn({name:g.blockName||"",value:[new Cr({value:[new Pn({name:g.saltPrimitive||""}),Vn.schema(g.saltConstructed||{})]}),new un({name:g.iterationCount||""}),new un({name:g.keyLength||"",optional:!0}),Vn.schema(g.prf||{names:{optional:!0}})]})}fromSchema(u){K(u,["salt","iterationCount","keyLength","prf"]);const g=si(u,u,Fr.schema({names:{saltPrimitive:"salt",saltConstructed:{names:{blockName:"salt"}},iterationCount:"iterationCount",keyLength:"keyLength",prf:{names:{blockName:"prf",optional:!0}}}}));if(!1===g.verified)throw new Error("Object's schema was not verified against input data for PBKDF2Params");this.salt=g.result.salt,this.iterationCount=g.result.iterationCount.valueBlock.valueDec,"keyLength"in g.result&&(this.keyLength=g.result.keyLength.valueBlock.valueDec),"prf"in g.result&&(this.prf=new Vn({schema:g.result.prf}))}toSchema(){const u=[];return u.push(this.salt),u.push(new un({value:this.iterationCount})),"keyLength"in this&&Fr.defaultValues("keyLength")!==this.keyLength&&u.push(new un({value:this.keyLength})),"prf"in this&&!1===Fr.defaultValues("prf").isEqual(this.prf)&&u.push(this.prf.toSchema()),new pn({value:u})}toJSON(){const u={salt:this.salt.toJSON(),iterationCount:this.iterationCount};return"keyLength"in this&&Fr.defaultValues("keyLength")!==this.keyLength&&(u.keyLength=this.keyLength),"prf"in this&&!1===Fr.defaultValues("prf").isEqual(this.prf)&&(u.prf=this.prf.toJSON()),u}}class as{constructor(u={}){this.keyDerivationFunc=w(u,"keyDerivationFunc",as.defaultValues("keyDerivationFunc")),this.encryptionScheme=w(u,"encryptionScheme",as.defaultValues("encryptionScheme")),"schema"in u&&this.fromSchema(u.schema)}static defaultValues(u){switch(u){case"keyDerivationFunc":case"encryptionScheme":return new Vn;default:throw new Error(`Invalid member name for PBES2Params class: ${u}`)}}static schema(u={}){const g=w(u,"names",{});return new pn({name:g.blockName||"",value:[Vn.schema(g.keyDerivationFunc||{}),Vn.schema(g.encryptionScheme||{})]})}fromSchema(u){K(u,["keyDerivationFunc","encryptionScheme"]);const g=si(u,u,as.schema({names:{keyDerivationFunc:{names:{blockName:"keyDerivationFunc"}},encryptionScheme:{names:{blockName:"encryptionScheme"}}}}));if(!1===g.verified)throw new Error("Object's schema was not verified against input data for PBES2Params");this.keyDerivationFunc=new Vn({schema:g.result.keyDerivationFunc}),this.encryptionScheme=new Vn({schema:g.result.encryptionScheme})}toSchema(){return new pn({value:[this.keyDerivationFunc.toSchema(),this.encryptionScheme.toSchema()]})}toJSON(){return{keyDerivationFunc:this.keyDerivationFunc.toJSON(),encryptionScheme:this.encryptionScheme.toJSON()}}}function ro(Pe,u,g,A,j,ne){let ge,$e;const S=[];switch(u.toUpperCase()){case"SHA-1":ge=20,$e=64;break;case"SHA-256":ge=32,$e=64;break;case"SHA-384":ge=48,$e=128;break;case"SHA-512":ge=64,$e=128;break;default:throw new Error("Unsupported hashing algorithm")}const B=new Uint8Array(A),O=new ArrayBuffer(2*A.byteLength+2),X=new Uint8Array(O);for(let es=0;es<B.length;es++)X[2*es]=0,X[2*es+1]=B[es];X[X.length-2]=0,X[X.length-1]=0,A=O.slice(0);const pe=new ArrayBuffer($e),Ve=new Uint8Array(pe);for(let es=0;es<pe.byteLength;es++)Ve[es]=3;const yt=j.byteLength,rn=$e*Math.ceil(yt/$e),Qt=new ArrayBuffer(rn),On=new Uint8Array(Qt),Oi=new Uint8Array(j);for(let es=0;es<rn;es++)On[es]=Oi[es%yt];const Fi=A.byteLength,fr=$e*Math.ceil(Fi/$e),Ys=new ArrayBuffer(fr),Ps=new Uint8Array(Ys),Fa=new Uint8Array(A);for(let es=0;es<fr;es++)Ps[es]=Fa[es%Fi];let to=new ArrayBuffer(Qt.byteLength+Ys.byteLength),oc=new Uint8Array(to);oc.set(On),oc.set(Ps,On.length);const op=Math.ceil((g>>3)/ge);let nl=Promise.resolve(to);for(let es=0;es<=op;es++){nl=nl.then(Pa=>{const _l=new ArrayBuffer(pe.byteLength+Pa.byteLength),bl=new Uint8Array(_l);return bl.set(Ve),bl.set(oc,Ve.length),_l});for(let Pa=0;Pa<ne;Pa++)nl=nl.then(_l=>Pe.digest({name:u},new Uint8Array(_l)));nl=nl.then(Pa=>{const _l=new ArrayBuffer($e),bl=new Uint8Array(_l);for(let wl=0;wl<_l.byteLength;wl++)bl[wl]=Pa[wl%Pa.length];const Cl=Math.ceil(yt/$e)+Math.ceil(Fi/$e),aa=[];let ac=0,nd=$e;for(let wl=0;wl<Cl;wl++){const id=Array.from(new Uint8Array(to.slice(ac,ac+nd)));ac+=$e,ac+$e>to.byteLength&&(nd=to.byteLength-ac);let Sh=511;for(let Er=_l.byteLength-1;Er>=0;Er--)Sh>>=8,Sh+=bl[Er]+id[Er],id[Er]=255&Sh;aa.push(...id)}return to=new ArrayBuffer(aa.length),oc=new Uint8Array(to),oc.set(aa),S.push(...new Uint8Array(Pa)),to})}return nl=nl.then(()=>{const es=new ArrayBuffer(g>>3);return new Uint8Array(es).set(new Uint8Array(S).slice(0,g>>3)),es}),nl}class wo{constructor(u={}){this.crypto=w(u,"crypto",{}),this.subtle=w(u,"subtle",{}),this.name=w(u,"name","")}importKey(u,g,A,j,ne){let ge={};switch(g instanceof Uint8Array&&(g=g.buffer),u.toLowerCase()){case"raw":return this.subtle.importKey("raw",g,A,j,ne);case"spki":{const $e=Ot(g);if(-1===$e.offset)return Promise.reject("Incorrect keyData");const S=new Dr;try{S.fromSchema($e.result)}catch{return Promise.reject("Incorrect keyData")}switch(A.name.toUpperCase()){case"RSA-PSS":switch(A.hash.name.toUpperCase()){case"SHA-1":ge.alg="PS1";break;case"SHA-256":ge.alg="PS256";break;case"SHA-384":ge.alg="PS384";break;case"SHA-512":ge.alg="PS512";break;default:return Promise.reject(`Incorrect hash algorithm: ${A.hash.name.toUpperCase()}`)}case"RSASSA-PKCS1-V1_5":{if(ne=["verify"],ge.kty="RSA",ge.ext=j,ge.key_ops=ne,"1.2.840.113549.1.1.1"!==S.algorithm.algorithmId)return Promise.reject(`Incorrect public key algorithm: ${S.algorithm.algorithmId}`);if(!("alg"in ge))switch(A.hash.name.toUpperCase()){case"SHA-1":ge.alg="RS1";break;case"SHA-256":ge.alg="RS256";break;case"SHA-384":ge.alg="RS384";break;case"SHA-512":ge.alg="RS512";break;default:return Promise.reject(`Incorrect hash algorithm: ${A.hash.name.toUpperCase()}`)}const B=S.toJSON();for(const O of Object.keys(B))ge[O]=B[O]}break;case"ECDSA":ne=["verify"];case"ECDH":{if(ge={kty:"EC",ext:j,key_ops:ne},"1.2.840.10045.2.1"!==S.algorithm.algorithmId)return Promise.reject(`Incorrect public key algorithm: ${S.algorithm.algorithmId}`);const B=S.toJSON();for(const O of Object.keys(B))ge[O]=B[O]}break;case"RSA-OAEP":{if(ge.kty="RSA",ge.ext=j,ge.key_ops=ne,"safari"===this.name.toLowerCase())ge.alg="RSA-OAEP";else switch(A.hash.name.toUpperCase()){case"SHA-1":ge.alg="RSA-OAEP";break;case"SHA-256":ge.alg="RSA-OAEP-256";break;case"SHA-384":ge.alg="RSA-OAEP-384";break;case"SHA-512":ge.alg="RSA-OAEP-512";break;default:return Promise.reject(`Incorrect hash algorithm: ${A.hash.name.toUpperCase()}`)}const B=S.toJSON();for(const O of Object.keys(B))ge[O]=B[O]}break;case"RSAES-PKCS1-V1_5":{ge.kty="RSA",ge.ext=j,ge.key_ops=ne,ge.alg="PS1";const B=S.toJSON();for(const O of Object.keys(B))ge[O]=B[O]}break;default:return Promise.reject(`Incorrect algorithm name: ${A.name.toUpperCase()}`)}}break;case"pkcs8":{const $e=new Gn,S=Ot(g);if(-1===S.offset)return Promise.reject("Incorrect keyData");try{$e.fromSchema(S.result)}catch{return Promise.reject("Incorrect keyData")}if(!("parsedKey"in $e))return Promise.reject("Incorrect keyData");switch(A.name.toUpperCase()){case"RSA-PSS":switch(A.hash.name.toUpperCase()){case"SHA-1":ge.alg="PS1";break;case"SHA-256":ge.alg="PS256";break;case"SHA-384":ge.alg="PS384";break;case"SHA-512":ge.alg="PS512";break;default:return Promise.reject(`Incorrect hash algorithm: ${A.hash.name.toUpperCase()}`)}case"RSASSA-PKCS1-V1_5":{if(ne=["sign"],ge.kty="RSA",ge.ext=j,ge.key_ops=ne,"1.2.840.113549.1.1.1"!==$e.privateKeyAlgorithm.algorithmId)return Promise.reject(`Incorrect private key algorithm: ${$e.privateKeyAlgorithm.algorithmId}`);if(!("alg"in ge))switch(A.hash.name.toUpperCase()){case"SHA-1":ge.alg="RS1";break;case"SHA-256":ge.alg="RS256";break;case"SHA-384":ge.alg="RS384";break;case"SHA-512":ge.alg="RS512";break;default:return Promise.reject(`Incorrect hash algorithm: ${A.hash.name.toUpperCase()}`)}const B=$e.toJSON();for(const O of Object.keys(B))ge[O]=B[O]}break;case"ECDSA":ne=["sign"];case"ECDH":{if(ge={kty:"EC",ext:j,key_ops:ne},"1.2.840.10045.2.1"!==$e.privateKeyAlgorithm.algorithmId)return Promise.reject(`Incorrect algorithm: ${$e.privateKeyAlgorithm.algorithmId}`);const B=$e.toJSON();for(const O of Object.keys(B))ge[O]=B[O]}break;case"RSA-OAEP":{if(ge.kty="RSA",ge.ext=j,ge.key_ops=ne,"safari"===this.name.toLowerCase())ge.alg="RSA-OAEP";else switch(A.hash.name.toUpperCase()){case"SHA-1":ge.alg="RSA-OAEP";break;case"SHA-256":ge.alg="RSA-OAEP-256";break;case"SHA-384":ge.alg="RSA-OAEP-384";break;case"SHA-512":ge.alg="RSA-OAEP-512";break;default:return Promise.reject(`Incorrect hash algorithm: ${A.hash.name.toUpperCase()}`)}const B=$e.toJSON();for(const O of Object.keys(B))ge[O]=B[O]}break;case"RSAES-PKCS1-V1_5":{ne=["decrypt"],ge.kty="RSA",ge.ext=j,ge.key_ops=ne,ge.alg="PS1";const B=$e.toJSON();for(const O of Object.keys(B))ge[O]=B[O]}break;default:return Promise.reject(`Incorrect algorithm name: ${A.name.toUpperCase()}`)}}break;case"jwk":ge=g;break;default:return Promise.reject(`Incorrect format: ${u}`)}return"safari"===this.name.toLowerCase()?Promise.resolve().then(()=>this.subtle.importKey("jwk",Y(JSON.stringify(ge)),A,j,ne)).then($e=>$e,()=>this.subtle.importKey("jwk",ge,A,j,ne)):this.subtle.importKey("jwk",ge,A,j,ne)}exportKey(u,g){let A=this.subtle.exportKey("jwk",g);switch("safari"===this.name.toLowerCase()&&(A=A.then(j=>j instanceof ArrayBuffer?JSON.parse(Q(j)):j)),u.toLowerCase()){case"raw":return this.subtle.exportKey("raw",g);case"spki":A=A.then(j=>{const ne=new Dr;try{ne.fromJSON(j)}catch{return Promise.reject("Incorrect key data")}return ne.toSchema().toBER(!1)});break;case"pkcs8":A=A.then(j=>{const ne=new Gn;try{ne.fromJSON(j)}catch{return Promise.reject("Incorrect key data")}return ne.toSchema().toBER(!1)});break;case"jwk":break;default:return Promise.reject(`Incorrect format: ${u}`)}return A}convert(u,g,A,j,ne,ge){switch(u.toLowerCase()){case"raw":switch(g.toLowerCase()){case"raw":return Promise.resolve(A);case"spki":return Promise.resolve().then(()=>this.importKey("raw",A,j,ne,ge)).then($e=>this.exportKey("spki",$e));case"pkcs8":return Promise.resolve().then(()=>this.importKey("raw",A,j,ne,ge)).then($e=>this.exportKey("pkcs8",$e));case"jwk":return Promise.resolve().then(()=>this.importKey("raw",A,j,ne,ge)).then($e=>this.exportKey("jwk",$e));default:return Promise.reject(`Incorrect outputFormat: ${g}`)}case"spki":switch(g.toLowerCase()){case"raw":return Promise.resolve().then(()=>this.importKey("spki",A,j,ne,ge)).then($e=>this.exportKey("raw",$e));case"spki":return Promise.resolve(A);case"pkcs8":return Promise.reject("Impossible to convert between SPKI/PKCS8");case"jwk":return Promise.resolve().then(()=>this.importKey("spki",A,j,ne,ge)).then($e=>this.exportKey("jwk",$e));default:return Promise.reject(`Incorrect outputFormat: ${g}`)}case"pkcs8":switch(g.toLowerCase()){case"raw":return Promise.resolve().then(()=>this.importKey("pkcs8",A,j,ne,ge)).then($e=>this.exportKey("raw",$e));case"spki":return Promise.reject("Impossible to convert between SPKI/PKCS8");case"pkcs8":return Promise.resolve(A);case"jwk":return Promise.resolve().then(()=>this.importKey("pkcs8",A,j,ne,ge)).then($e=>this.exportKey("jwk",$e));default:return Promise.reject(`Incorrect outputFormat: ${g}`)}case"jwk":switch(g.toLowerCase()){case"raw":return Promise.resolve().then(()=>this.importKey("jwk",A,j,ne,ge)).then($e=>this.exportKey("raw",$e));case"spki":return Promise.resolve().then(()=>this.importKey("jwk",A,j,ne,ge)).then($e=>this.exportKey("spki",$e));case"pkcs8":return Promise.resolve().then(()=>this.importKey("jwk",A,j,ne,ge)).then($e=>this.exportKey("pkcs8",$e));case"jwk":return Promise.resolve(A);default:return Promise.reject(`Incorrect outputFormat: ${g}`)}default:return Promise.reject(`Incorrect inputFormat: ${u}`)}}encrypt(...u){return this.subtle.encrypt(...u)}decrypt(...u){return this.subtle.decrypt(...u)}sign(...u){return this.subtle.sign(...u)}verify(...u){return this.subtle.verify(...u)}digest(...u){return this.subtle.digest(...u)}generateKey(...u){return this.subtle.generateKey(...u)}deriveKey(...u){return this.subtle.deriveKey(...u)}deriveBits(...u){return this.subtle.deriveBits(...u)}wrapKey(...u){return this.subtle.wrapKey(...u)}unwrapKey(...u){return this.subtle.unwrapKey(...u)}getRandomValues(u){if(!("getRandomValues"in this.crypto))throw new Error("No support for getRandomValues");return this.crypto.getRandomValues(u)}getAlgorithmByOID(u){switch(u){case"1.2.840.113549.1.1.1":return{name:"RSAES-PKCS1-v1_5"};case"1.2.840.113549.1.1.5":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-1"}};case"1.2.840.113549.1.1.11":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"1.2.840.113549.1.1.12":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-384"}};case"1.2.840.113549.1.1.13":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-512"}};case"1.2.840.113549.1.1.10":return{name:"RSA-PSS"};case"1.2.840.113549.1.1.7":return{name:"RSA-OAEP"};case"1.2.840.10045.2.1":case"1.2.840.10045.4.1":return{name:"ECDSA",hash:{name:"SHA-1"}};case"1.2.840.10045.4.3.2":return{name:"ECDSA",hash:{name:"SHA-256"}};case"1.2.840.10045.4.3.3":return{name:"ECDSA",hash:{name:"SHA-384"}};case"1.2.840.10045.4.3.4":return{name:"ECDSA",hash:{name:"SHA-512"}};case"1.3.133.16.840.63.0.2":return{name:"ECDH",kdf:"SHA-1"};case"1.3.132.1.11.1":return{name:"ECDH",kdf:"SHA-256"};case"1.3.132.1.11.2":return{name:"ECDH",kdf:"SHA-384"};case"1.3.132.1.11.3":return{name:"ECDH",kdf:"SHA-512"};case"2.16.840.1.101.3.4.1.2":return{name:"AES-CBC",length:128};case"2.16.840.1.101.3.4.1.22":return{name:"AES-CBC",length:192};case"2.16.840.1.101.3.4.1.42":return{name:"AES-CBC",length:256};case"2.16.840.1.101.3.4.1.6":return{name:"AES-GCM",length:128};case"2.16.840.1.101.3.4.1.26":return{name:"AES-GCM",length:192};case"2.16.840.1.101.3.4.1.46":return{name:"AES-GCM",length:256};case"2.16.840.1.101.3.4.1.4":return{name:"AES-CFB",length:128};case"2.16.840.1.101.3.4.1.24":return{name:"AES-CFB",length:192};case"2.16.840.1.101.3.4.1.44":return{name:"AES-CFB",length:256};case"2.16.840.1.101.3.4.1.5":return{name:"AES-KW",length:128};case"2.16.840.1.101.3.4.1.25":return{name:"AES-KW",length:192};case"2.16.840.1.101.3.4.1.45":return{name:"AES-KW",length:256};case"1.2.840.113549.2.7":return{name:"HMAC",hash:{name:"SHA-1"}};case"1.2.840.113549.2.9":return{name:"HMAC",hash:{name:"SHA-256"}};case"1.2.840.113549.2.10":return{name:"HMAC",hash:{name:"SHA-384"}};case"1.2.840.113549.2.11":return{name:"HMAC",hash:{name:"SHA-512"}};case"1.2.840.113549.1.9.16.3.5":return{name:"DH"};case"1.3.14.3.2.26":return{name:"SHA-1"};case"2.16.840.1.101.3.4.2.1":return{name:"SHA-256"};case"2.16.840.1.101.3.4.2.2":return{name:"SHA-384"};case"2.16.840.1.101.3.4.2.3":return{name:"SHA-512"};case"1.2.840.113549.1.5.12":return{name:"PBKDF2"};case"1.2.840.10045.3.1.7":return{name:"P-256"};case"1.3.132.0.34":return{name:"P-384"};case"1.3.132.0.35":return{name:"P-521"}}return{}}getOIDByAlgorithm(u){let g="";switch(u.name.toUpperCase()){case"RSAES-PKCS1-V1_5":g="1.2.840.113549.1.1.1";break;case"RSASSA-PKCS1-V1_5":switch(u.hash.name.toUpperCase()){case"SHA-1":g="1.2.840.113549.1.1.5";break;case"SHA-256":g="1.2.840.113549.1.1.11";break;case"SHA-384":g="1.2.840.113549.1.1.12";break;case"SHA-512":g="1.2.840.113549.1.1.13"}break;case"RSA-PSS":g="1.2.840.113549.1.1.10";break;case"RSA-OAEP":g="1.2.840.113549.1.1.7";break;case"ECDSA":switch(u.hash.name.toUpperCase()){case"SHA-1":g="1.2.840.10045.4.1";break;case"SHA-256":g="1.2.840.10045.4.3.2";break;case"SHA-384":g="1.2.840.10045.4.3.3";break;case"SHA-512":g="1.2.840.10045.4.3.4"}break;case"ECDH":switch(u.kdf.toUpperCase()){case"SHA-1":g="1.3.133.16.840.63.0.2";break;case"SHA-256":g="1.3.132.1.11.1";break;case"SHA-384":g="1.3.132.1.11.2";break;case"SHA-512":g="1.3.132.1.11.3"}break;case"AES-CTR":case"AES-CMAC":case"CONCAT":case"HKDF":break;case"AES-CBC":switch(u.length){case 128:g="2.16.840.1.101.3.4.1.2";break;case 192:g="2.16.840.1.101.3.4.1.22";break;case 256:g="2.16.840.1.101.3.4.1.42"}break;case"AES-GCM":switch(u.length){case 128:g="2.16.840.1.101.3.4.1.6";break;case 192:g="2.16.840.1.101.3.4.1.26";break;case 256:g="2.16.840.1.101.3.4.1.46"}break;case"AES-CFB":switch(u.length){case 128:g="2.16.840.1.101.3.4.1.4";break;case 192:g="2.16.840.1.101.3.4.1.24";break;case 256:g="2.16.840.1.101.3.4.1.44"}break;case"AES-KW":switch(u.length){case 128:g="2.16.840.1.101.3.4.1.5";break;case 192:g="2.16.840.1.101.3.4.1.25";break;case 256:g="2.16.840.1.101.3.4.1.45"}break;case"HMAC":switch(u.hash.name.toUpperCase()){case"SHA-1":g="1.2.840.113549.2.7";break;case"SHA-256":g="1.2.840.113549.2.9";break;case"SHA-384":g="1.2.840.113549.2.10";break;case"SHA-512":g="1.2.840.113549.2.11"}break;case"DH":g="1.2.840.113549.1.9.16.3.5";break;case"SHA-1":g="1.3.14.3.2.26";break;case"SHA-256":g="2.16.840.1.101.3.4.2.1";break;case"SHA-384":g="2.16.840.1.101.3.4.2.2";break;case"SHA-512":g="2.16.840.1.101.3.4.2.3";break;case"PBKDF2":g="1.2.840.113549.1.5.12";break;case"P-256":g="1.2.840.10045.3.1.7";break;case"P-384":g="1.3.132.0.34";break;case"P-521":g="1.3.132.0.35"}return g}getAlgorithmParameters(u,g){let A={algorithm:{},usages:[]};switch(u.toUpperCase()){case"RSAES-PKCS1-V1_5":case"RSASSA-PKCS1-V1_5":switch(g.toLowerCase()){case"generatekey":A={algorithm:{name:"RSASSA-PKCS1-v1_5",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},usages:["sign","verify"]};break;case"verify":case"sign":case"importkey":A={algorithm:{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},usages:["verify"]};break;default:return{algorithm:{name:"RSASSA-PKCS1-v1_5"},usages:[]}}break;case"RSA-PSS":switch(g.toLowerCase()){case"sign":case"verify":A={algorithm:{name:"RSA-PSS",hash:{name:"SHA-1"},saltLength:20},usages:["sign","verify"]};break;case"generatekey":A={algorithm:{name:"RSA-PSS",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-1"}},usages:["sign","verify"]};break;case"importkey":A={algorithm:{name:"RSA-PSS",hash:{name:"SHA-1"}},usages:["verify"]};break;default:return{algorithm:{name:"RSA-PSS"},usages:[]}}break;case"RSA-OAEP":switch(g.toLowerCase()){case"encrypt":case"decrypt":A={algorithm:{name:"RSA-OAEP"},usages:["encrypt","decrypt"]};break;case"generatekey":A={algorithm:{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"importkey":A={algorithm:{name:"RSA-OAEP",hash:{name:"SHA-256"}},usages:["encrypt"]};break;default:return{algorithm:{name:"RSA-OAEP"},usages:[]}}break;case"ECDSA":switch(g.toLowerCase()){case"generatekey":A={algorithm:{name:"ECDSA",namedCurve:"P-256"},usages:["sign","verify"]};break;case"importkey":A={algorithm:{name:"ECDSA",namedCurve:"P-256"},usages:["verify"]};break;case"verify":case"sign":A={algorithm:{name:"ECDSA",hash:{name:"SHA-256"}},usages:["sign"]};break;default:return{algorithm:{name:"ECDSA"},usages:[]}}break;case"ECDH":switch(g.toLowerCase()){case"exportkey":case"importkey":case"generatekey":A={algorithm:{name:"ECDH",namedCurve:"P-256"},usages:["deriveKey","deriveBits"]};break;case"derivekey":case"derivebits":A={algorithm:{name:"ECDH",namedCurve:"P-256",public:[]},usages:["encrypt","decrypt"]};break;default:return{algorithm:{name:"ECDH"},usages:[]}}break;case"AES-CTR":switch(g.toLowerCase()){case"importkey":case"exportkey":case"generatekey":A={algorithm:{name:"AES-CTR",length:256},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"decrypt":case"encrypt":A={algorithm:{name:"AES-CTR",counter:new Uint8Array(16),length:10},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-CTR"},usages:[]}}break;case"AES-CBC":switch(g.toLowerCase()){case"importkey":case"exportkey":case"generatekey":A={algorithm:{name:"AES-CBC",length:256},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"decrypt":case"encrypt":A={algorithm:{name:"AES-CBC",iv:this.getRandomValues(new Uint8Array(16))},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-CBC"},usages:[]}}break;case"AES-GCM":switch(g.toLowerCase()){case"importkey":case"exportkey":case"generatekey":A={algorithm:{name:"AES-GCM",length:256},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"decrypt":case"encrypt":A={algorithm:{name:"AES-GCM",iv:this.getRandomValues(new Uint8Array(16))},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-GCM"},usages:[]}}break;case"AES-KW":switch(g.toLowerCase()){case"importkey":case"exportkey":case"generatekey":case"wrapkey":case"unwrapkey":A={algorithm:{name:"AES-KW",length:256},usages:["wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-KW"},usages:[]}}break;case"HMAC":switch(g.toLowerCase()){case"sign":case"verify":A={algorithm:{name:"HMAC"},usages:["sign","verify"]};break;case"importkey":case"exportkey":case"generatekey":A={algorithm:{name:"HMAC",length:32,hash:{name:"SHA-256"}},usages:["sign","verify"]};break;default:return{algorithm:{name:"HMAC"},usages:[]}}break;case"HKDF":if("derivekey"!==g.toLowerCase())return{algorithm:{name:"HKDF"},usages:[]};A={algorithm:{name:"HKDF",hash:"SHA-256",salt:new Uint8Array([]),info:new Uint8Array([])},usages:["encrypt","decrypt"]};break;case"PBKDF2":if("derivekey"!==g.toLowerCase())return{algorithm:{name:"PBKDF2"},usages:[]};A={algorithm:{name:"PBKDF2",hash:{name:"SHA-256"},salt:new Uint8Array([]),iterations:1e4},usages:["encrypt","decrypt"]}}return A}getHashAlgorithm(u){let g="";switch(u.algorithmId){case"1.2.840.10045.4.1":case"1.2.840.113549.1.1.5":g="SHA-1";break;case"1.2.840.10045.4.3.2":case"1.2.840.113549.1.1.11":g="SHA-256";break;case"1.2.840.10045.4.3.3":case"1.2.840.113549.1.1.12":g="SHA-384";break;case"1.2.840.10045.4.3.4":case"1.2.840.113549.1.1.13":g="SHA-512";break;case"1.2.840.113549.1.1.10":try{const A=new ur({schema:u.algorithmParams});if("hashAlgorithm"in A){const j=this.getAlgorithmByOID(A.hashAlgorithm.algorithmId);if(!("name"in j))return"";g=j.name}else g="SHA-1"}catch{}}return g}encryptEncryptedContentInfo(u){if(!(u instanceof Object))return Promise.reject('Parameters must have type "Object"');if(!("password"in u))return Promise.reject('Absent mandatory parameter "password"');if(!("contentEncryptionAlgorithm"in u))return Promise.reject('Absent mandatory parameter "contentEncryptionAlgorithm"');if(!("hmacHashAlgorithm"in u))return Promise.reject('Absent mandatory parameter "hmacHashAlgorithm"');if(!("iterationCount"in u))return Promise.reject('Absent mandatory parameter "iterationCount"');if(!("contentToEncrypt"in u))return Promise.reject('Absent mandatory parameter "contentToEncrypt"');if(!("contentType"in u))return Promise.reject('Absent mandatory parameter "contentType"');const g=this.getOIDByAlgorithm(u.contentEncryptionAlgorithm);if(""===g)return Promise.reject('Wrong "contentEncryptionAlgorithm" value');const A=this.getOIDByAlgorithm({name:"PBKDF2"});if(""===A)return Promise.reject("Can not find OID for PBKDF2");const j=this.getOIDByAlgorithm({name:"HMAC",hash:{name:u.hmacHashAlgorithm}});if(""===j)return Promise.reject(`Incorrect value for "hmacHashAlgorithm": ${u.hmacHashAlgorithm}`);let ne=Promise.resolve();const ge=new ArrayBuffer(16),$e=new Uint8Array(ge);this.getRandomValues($e);const S=new ArrayBuffer(64),B=new Uint8Array(S);this.getRandomValues(B);const O=new Uint8Array(u.contentToEncrypt),X=new Fr({salt:new Pn({valueHex:S}),iterationCount:u.iterationCount,prf:new Vn({algorithmId:j,algorithmParams:new Ft})});return ne=ne.then(()=>{const pe=new Uint8Array(u.password);return this.importKey("raw",pe,"PBKDF2",!1,["deriveKey"])},pe=>Promise.reject(pe)),ne=ne.then(pe=>this.deriveKey({name:"PBKDF2",hash:{name:u.hmacHashAlgorithm},salt:B,iterations:u.iterationCount},pe,u.contentEncryptionAlgorithm,!1,["encrypt"]),pe=>Promise.reject(pe)),ne=ne.then(pe=>this.encrypt({name:u.contentEncryptionAlgorithm.name,iv:$e},pe,O),pe=>Promise.reject(pe)),ne=ne.then(pe=>{const Ve=new as({keyDerivationFunc:new Vn({algorithmId:A,algorithmParams:X.toSchema()}),encryptionScheme:new Vn({algorithmId:g,algorithmParams:new Pn({valueHex:ge})})});return new Jr({contentType:u.contentType,contentEncryptionAlgorithm:new Vn({algorithmId:"1.2.840.113549.1.5.13",algorithmParams:Ve.toSchema()}),encryptedContent:new Pn({valueHex:pe})})},pe=>Promise.reject(pe)),ne}decryptEncryptedContentInfo(u){if(!(u instanceof Object))return Promise.reject('Parameters must have type "Object"');if(!("password"in u))return Promise.reject('Absent mandatory parameter "password"');if(!("encryptedContentInfo"in u))return Promise.reject('Absent mandatory parameter "encryptedContentInfo"');if("1.2.840.113549.1.5.13"!==u.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId)return Promise.reject(`Unknown "contentEncryptionAlgorithm": ${u.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId}`);let A,j,g=Promise.resolve();try{A=new as({schema:u.encryptedContentInfo.contentEncryptionAlgorithm.algorithmParams})}catch{return Promise.reject('Incorrectly encoded "pbes2Parameters"')}try{j=new Fr({schema:A.keyDerivationFunc.algorithmParams})}catch{return Promise.reject('Incorrectly encoded "pbkdf2Params"')}const ne=this.getAlgorithmByOID(A.encryptionScheme.algorithmId);if(!("name"in ne))return Promise.reject(`Incorrect OID for "contentEncryptionAlgorithm": ${A.encryptionScheme.algorithmId}`);const $e=new Uint8Array(A.encryptionScheme.algorithmParams.valueBlock.valueHex),B=new Uint8Array(j.salt.valueBlock.valueHex),O=j.iterationCount;let X="SHA-1";if("prf"in j){const pe=this.getAlgorithmByOID(j.prf.algorithmId);if(!("name"in pe))return Promise.reject("Incorrect OID for HMAC hash algorithm");X=pe.hash.name}return g=g.then(()=>this.importKey("raw",u.password,"PBKDF2",!1,["deriveKey"]),pe=>Promise.reject(pe)),g=g.then(pe=>this.deriveKey({name:"PBKDF2",hash:{name:X},salt:B,iterations:O},pe,ne,!1,["decrypt"]),pe=>Promise.reject(pe)),g=g.then(pe=>{let Ve=new ArrayBuffer(0);if(!1===u.encryptedContentInfo.encryptedContent.idBlock.isConstructed)Ve=u.encryptedContentInfo.encryptedContent.valueBlock.valueHex;else for(const yt of u.encryptedContentInfo.encryptedContent.valueBlock.value)Ve=E(Ve,yt.valueBlock.valueHex);return this.decrypt({name:ne.name,iv:$e},pe,Ve)},pe=>Promise.reject(pe)),g}stampDataWithPassword(u){if(!(u instanceof Object))return Promise.reject('Parameters must have type "Object"');if(!("password"in u))return Promise.reject('Absent mandatory parameter "password"');if(!("hashAlgorithm"in u))return Promise.reject('Absent mandatory parameter "hashAlgorithm"');if(!("salt"in u))return Promise.reject('Absent mandatory parameter "iterationCount"');if(!("iterationCount"in u))return Promise.reject('Absent mandatory parameter "salt"');if(!("contentToStamp"in u))return Promise.reject('Absent mandatory parameter "contentToStamp"');let g;switch(u.hashAlgorithm.toLowerCase()){case"sha-1":g=160;break;case"sha-256":g=256;break;case"sha-384":g=384;break;case"sha-512":g=512;break;default:return Promise.reject(`Incorrect "parameters.hashAlgorithm" parameter: ${u.hashAlgorithm}`)}let A=Promise.resolve();const j={name:"HMAC",length:g,hash:{name:u.hashAlgorithm}};return A=A.then(()=>ro(this,u.hashAlgorithm,g,u.password,u.salt,u.iterationCount)),A=A.then(ne=>this.importKey("raw",new Uint8Array(ne),j,!1,["sign"])),A=A.then(ne=>this.sign(j,ne,new Uint8Array(u.contentToStamp)),ne=>Promise.reject(ne)),A}verifyDataStampedWithPassword(u){if(!(u instanceof Object))return Promise.reject('Parameters must have type "Object"');if(!("password"in u))return Promise.reject('Absent mandatory parameter "password"');if(!("hashAlgorithm"in u))return Promise.reject('Absent mandatory parameter "hashAlgorithm"');if(!("salt"in u))return Promise.reject('Absent mandatory parameter "iterationCount"');if(!("iterationCount"in u))return Promise.reject('Absent mandatory parameter "salt"');if(!("contentToVerify"in u))return Promise.reject('Absent mandatory parameter "contentToVerify"');if(!("signatureToVerify"in u))return Promise.reject('Absent mandatory parameter "signatureToVerify"');let g;switch(u.hashAlgorithm.toLowerCase()){case"sha-1":g=160;break;case"sha-256":g=256;break;case"sha-384":g=384;break;case"sha-512":g=512;break;default:return Promise.reject(`Incorrect "parameters.hashAlgorithm" parameter: ${u.hashAlgorithm}`)}let A=Promise.resolve();const j={name:"HMAC",length:g,hash:{name:u.hashAlgorithm}};return A=A.then(()=>ro(this,u.hashAlgorithm,g,u.password,u.salt,u.iterationCount)),A=A.then(ne=>this.importKey("raw",new Uint8Array(ne),j,!1,["verify"])),A=A.then(ne=>this.verify(j,ne,new Uint8Array(u.signatureToVerify),new Uint8Array(u.contentToVerify)),ne=>Promise.reject(ne)),A}getSignatureParameters(u,g="SHA-1"){if(""===this.getOIDByAlgorithm({name:g}))return Promise.reject(`Unsupported hash algorithm: ${g}`);const j=new Vn,ne=this.getAlgorithmParameters(u.algorithm.name,"sign");switch(ne.algorithm.hash.name=g,u.algorithm.name.toUpperCase()){case"RSASSA-PKCS1-V1_5":case"ECDSA":j.algorithmId=this.getOIDByAlgorithm(ne.algorithm);break;case"RSA-PSS":{switch(g.toUpperCase()){case"SHA-256":ne.algorithm.saltLength=32;break;case"SHA-384":ne.algorithm.saltLength=48;break;case"SHA-512":ne.algorithm.saltLength=64}const ge={};if("SHA-1"!==g.toUpperCase()){const S=this.getOIDByAlgorithm({name:g});if(""===S)return Promise.reject(`Unsupported hash algorithm: ${g}`);ge.hashAlgorithm=new Vn({algorithmId:S,algorithmParams:new Ft}),ge.maskGenAlgorithm=new Vn({algorithmId:"1.2.840.113549.1.1.8",algorithmParams:ge.hashAlgorithm.toSchema()})}20!==ne.algorithm.saltLength&&(ge.saltLength=ne.algorithm.saltLength);const $e=new ur(ge);j.algorithmId="1.2.840.113549.1.1.10",j.algorithmParams=$e.toSchema()}break;default:return Promise.reject(`Unsupported signature algorithm: ${u.algorithm.name}`)}return Promise.resolve().then(()=>({signatureAlgorithm:j,parameters:ne}))}signWithPrivateKey(u,g,A){return this.sign(A.algorithm,g,new Uint8Array(u)).then(j=>("ECDSA"===A.algorithm.name&&(j=function nr(Pe){if(Pe.byteLength%2!=0)return new ArrayBuffer(0);const u=Pe.byteLength/2,g=new ArrayBuffer(u);new Uint8Array(g).set(new Uint8Array(Pe,0,u));const j=new un({valueHex:g}),ne=new ArrayBuffer(u);new Uint8Array(ne).set(new Uint8Array(Pe,u,u));const $e=new un({valueHex:ne});return new pn({value:[j.convertToDER(),$e.convertToDER()]}).toBER(!1)}(j)),j),j=>Promise.reject(`Signing error: ${j}`))}fillPublicKeyParameters(u,g){const A={},j=this.getHashAlgorithm(g);if(""===j)return Promise.reject(`Unsupported signature algorithm: ${g.algorithmId}`);let ne;ne="1.2.840.113549.1.1.10"===g.algorithmId?g.algorithmId:u.algorithm.algorithmId;const ge=this.getAlgorithmByOID(ne);if("name"in ge==="")return Promise.reject(`Unsupported public key algorithm: ${g.algorithmId}`);if(A.algorithm=this.getAlgorithmParameters(ge.name,"importkey"),"hash"in A.algorithm.algorithm&&(A.algorithm.algorithm.hash.name=j),"ECDSA"===ge.name){let $e=!1;if("algorithmParams"in u.algorithm&&"idBlock"in u.algorithm.algorithmParams&&1===u.algorithm.algorithmParams.idBlock.tagClass&&6===u.algorithm.algorithmParams.idBlock.tagNumber&&($e=!0),!1===$e)return Promise.reject("Incorrect type for ECDSA public key parameters");const S=this.getAlgorithmByOID(u.algorithm.algorithmParams.valueBlock.toString());if(!("name"in S))return Promise.reject(`Unsupported named curve algorithm: ${u.algorithm.algorithmParams.valueBlock.toString()}`);A.algorithm.algorithm.namedCurve=S.name}return A}getPublicKey(u,g,A=null){null===A&&(A=this.fillPublicKeyParameters(u,g));const ne=u.toSchema().toBER(!1),ge=new Uint8Array(ne);return this.importKey("spki",ge,A.algorithm.algorithm,!0,A.algorithm.usages)}verifyWithPublicKey(u,g,A,j,ne=null){let ge=Promise.resolve();if(null===ne){if(""===(ne=this.getHashAlgorithm(j)))return Promise.reject(`Unsupported signature algorithm: ${j.algorithmId}`);ge=ge.then(()=>this.getPublicKey(A,j))}else{const $e={};let S;S="1.2.840.113549.1.1.10"===j.algorithmId?j.algorithmId:A.algorithm.algorithmId;const B=this.getAlgorithmByOID(S);if("name"in B==="")return Promise.reject(`Unsupported public key algorithm: ${j.algorithmId}`);if($e.algorithm=this.getAlgorithmParameters(B.name,"importkey"),"hash"in $e.algorithm.algorithm&&($e.algorithm.algorithm.hash.name=ne),"ECDSA"===B.name){let O=!1;if("algorithmParams"in A.algorithm&&"idBlock"in A.algorithm.algorithmParams&&1===A.algorithm.algorithmParams.idBlock.tagClass&&6===A.algorithm.algorithmParams.idBlock.tagNumber&&(O=!0),!1===O)return Promise.reject("Incorrect type for ECDSA public key parameters");const X=this.getAlgorithmByOID(A.algorithm.algorithmParams.valueBlock.toString());if(!("name"in X))return Promise.reject(`Unsupported named curve algorithm: ${A.algorithm.algorithmParams.valueBlock.toString()}`);$e.algorithm.algorithm.namedCurve=X.name}ge=ge.then(()=>this.getPublicKey(A,null,$e))}return ge=ge.then($e=>{const S=this.getAlgorithmParameters($e.algorithm.name,"verify");"hash"in S.algorithm&&(S.algorithm.hash.name=ne);let B=g.valueBlock.valueHex;if("ECDSA"===$e.algorithm.name&&(B=function Go(Pe){if(!(Pe instanceof pn))return new ArrayBuffer(0);if(2!==Pe.valueBlock.value.length)return new ArrayBuffer(0);if(!(Pe.valueBlock.value[0]instanceof un))return new ArrayBuffer(0);if(!(Pe.valueBlock.value[1]instanceof un))return new ArrayBuffer(0);const u=Pe.valueBlock.value[0].convertFromDER(),g=Pe.valueBlock.value[1].convertFromDER();switch(!0){case u.valueBlock.valueHex.byteLength<g.valueBlock.valueHex.byteLength:{if(g.valueBlock.valueHex.byteLength-u.valueBlock.valueHex.byteLength!=1)throw new Error("Incorrect DER integer decoding");const A=g.valueBlock.valueHex.byteLength,j=new Uint8Array(u.valueBlock.valueHex),ne=new ArrayBuffer(A),ge=new Uint8Array(ne);return ge.set(j,1),ge[0]=0,E(ne,g.valueBlock.valueHex)}case u.valueBlock.valueHex.byteLength>g.valueBlock.valueHex.byteLength:{if(u.valueBlock.valueHex.byteLength-g.valueBlock.valueHex.byteLength!=1)throw new Error("Incorrect DER integer decoding");const A=u.valueBlock.valueHex.byteLength,j=new Uint8Array(g.valueBlock.valueHex),ne=new ArrayBuffer(A),ge=new Uint8Array(ne);return ge.set(j,1),ge[0]=0,E(u.valueBlock.valueHex,ne)}default:if(u.valueBlock.valueHex.byteLength%2){const A=u.valueBlock.valueHex.byteLength+1,j=new Uint8Array(u.valueBlock.valueHex),ne=new ArrayBuffer(A),ge=new Uint8Array(ne);ge.set(j,1),ge[0]=0;const $e=new Uint8Array(g.valueBlock.valueHex),S=new ArrayBuffer(A),B=new Uint8Array(S);return B.set($e,1),B[0]=0,E(ne,S)}}return E(u.valueBlock.valueHex,g.valueBlock.valueHex)}(Ot(B).result)),"RSA-PSS"===$e.algorithm.name){let O;try{O=new ur({schema:j.algorithmParams})}catch(pe){return Promise.reject(pe)}S.algorithm.saltLength="saltLength"in O?O.saltLength:20;let X="SHA-1";if("hashAlgorithm"in O){const pe=this.getAlgorithmByOID(O.hashAlgorithm.algorithmId);if(!("name"in pe))return Promise.reject(`Unrecognized hash algorithm: ${O.hashAlgorithm.algorithmId}`);X=pe.name}S.algorithm.hash.name=X}return this.verify(S.algorithm,$e,new Uint8Array(B),new Uint8Array(u))}),ge}}let Ms={name:"none",crypto:null,subtle:null};function ls(){if(typeof process<"u"&&"pid"in process&&typeof global<"u"&&typeof window>"u"){let Pe;try{Pe=global[process.pid].pkijs.engine}catch{throw new Error('Please call "setEngine" before call to "getEngine"')}return Pe}return Ms}function cs(){const Pe=ls();if(null!==Pe.subtle)return Pe.subtle}function rs(Pe){let u=!1,g="";const A=Pe.trim();for(let j=0;j<A.length;j++)32===A.charCodeAt(j)?!1===u&&(u=!0):(u&&(g+=" ",u=!1),g+=A[j]);return g.toLowerCase()}!function(){if(typeof self<"u"&&"crypto"in self){let u="webcrypto";const g=self.crypto;let A;if("webkitSubtle"in self.crypto){try{A=self.crypto.webkitSubtle}catch{A=self.crypto.subtle}u="safari"}"subtle"in self.crypto&&(A=self.crypto.subtle),Ms=typeof A>"u"?{name:u,crypto:g,subtle:null}:{name:u,crypto:g,subtle:new wo({name:u,crypto:self.crypto,subtle:A})}}!function wr(Pe,u,g){if(typeof process<"u"&&"pid"in process&&typeof global<"u"&&typeof window>"u"){if(typeof global[process.pid]>"u")global[process.pid]={};else if("object"!=typeof global[process.pid])throw new Error(`Name global.${process.pid} already exists and it is not an object`);if(typeof global[process.pid].pkijs>"u")global[process.pid].pkijs={};else if("object"!=typeof global[process.pid].pkijs)throw new Error(`Name global.${process.pid}.pkijs already exists and it is not an object`);global[process.pid].pkijs.engine={name:Pe,crypto:u,subtle:g}}else Ms.name!==Pe&&(Ms={name:Pe,crypto:u,subtle:g})}(Ms.name,Ms.crypto,Ms.subtle)}();class xs{constructor(u={}){this.type=w(u,"type",xs.defaultValues("type")),this.value=w(u,"value",xs.defaultValues("value")),"schema"in u&&this.fromSchema(u.schema)}static defaultValues(u){switch(u){case"type":return"";case"value":return{};default:throw new Error(`Invalid member name for AttributeTypeAndValue class: ${u}`)}}static schema(u={}){const g=w(u,"names",{});return new pn({name:g.blockName||"",value:[new Vt({name:g.type||""}),new br({name:g.value||""})]})}static blockName(){return"AttributeTypeAndValue"}fromSchema(u){K(u,["type","typeValue"]);const g=si(u,u,xs.schema({names:{type:"type",value:"typeValue"}}));if(!1===g.verified)throw new Error("Object's schema was not verified against input data for AttributeTypeAndValue");this.type=g.result.type.valueBlock.toString(),this.value=g.result.typeValue}toSchema(){return new pn({value:[new Vt({value:this.type}),this.value]})}toJSON(){const u={type:this.type};return u.value=0!==Object.keys(this.value).length?this.value.toJSON():this.value,u}isEqual(u){const g=[Wi.blockName(),qe.blockName(),Gt.blockName(),Ht.blockName(),Xt.blockName(),ye.blockName(),ve.blockName(),Ke.blockName(),gt.blockName(),Bn.blockName(),gi.blockName(),ji.blockName()];if(u.constructor.blockName()===xs.blockName()){if(this.type!==u.type)return!1;let A=[!1,!1];const j=this.value.constructor.blockName();for(const ne of g)j===ne&&(A[0]=!0),u.value.constructor.blockName()===ne&&(A[1]=!0);if(A[0]^A[1])return!1;if(A=A[0]&&A[1],A){const ne=rs(this.value.valueBlock.value),ge=rs(u.value.valueBlock.value);if(0!==ne.localeCompare(ge))return!1}else if(!1===M(this.value.valueBeforeDecode,u.value.valueBeforeDecode))return!1;return!0}return u instanceof ArrayBuffer&&M(this.value.valueBeforeDecode,u)}}class Pr{constructor(u={}){this.typesAndValues=w(u,"typesAndValues",Pr.defaultValues("typesAndValues")),this.valueBeforeDecode=w(u,"valueBeforeDecode",Pr.defaultValues("valueBeforeDecode")),"schema"in u&&this.fromSchema(u.schema)}static defaultValues(u){switch(u){case"typesAndValues":return[];case"valueBeforeDecode":return new ArrayBuffer(0);default:throw new Error(`Invalid member name for RelativeDistinguishedNames class: ${u}`)}}static compareWithDefault(u,g){switch(u){case"typesAndValues":return 0===g.length;case"valueBeforeDecode":return 0===g.byteLength;default:throw new Error(`Invalid member name for RelativeDistinguishedNames class: ${u}`)}}static schema(u={}){const g=w(u,"names",{});return new pn({name:g.blockName||"",value:[new Ni({name:g.repeatedSequence||"",value:new fi({value:[new Ni({name:g.repeatedSet||"",value:xs.schema(g.typeAndValue||{})})]})})]})}fromSchema(u){K(u,["RDN","typesAndValues"]);const g=si(u,u,Pr.schema({names:{blockName:"RDN",repeatedSet:"typesAndValues"}}));if(!1===g.verified)throw new Error("Object's schema was not verified against input data for RelativeDistinguishedNames");"typesAndValues"in g.result&&(this.typesAndValues=Array.from(g.result.typesAndValues,A=>new xs({schema:A}))),this.valueBeforeDecode=g.result.RDN.valueBeforeDecode}toSchema(){return 0===this.valueBeforeDecode.byteLength?new pn({value:[new fi({value:Array.from(this.typesAndValues,g=>g.toSchema())})]}):Ot(this.valueBeforeDecode).result}toJSON(){return{typesAndValues:Array.from(this.typesAndValues,u=>u.toJSON())}}isEqual(u){if(u instanceof Pr){if(this.typesAndValues.length!==u.typesAndValues.length)return!1;for(const[g,A]of this.typesAndValues.entries())if(!1===A.isEqual(u.typesAndValues[g]))return!1;return!0}return u instanceof ArrayBuffer&&M(this.valueBeforeDecode,u)}}class sr{constructor(u={}){this.type=w(u,"type",sr.defaultValues("type")),this.value=w(u,"value",sr.defaultValues("value")),"schema"in u&&this.fromSchema(u.schema)}static defaultValues(u){switch(u){case"type":return 0;case"value":return new Date(0,0,0);default:throw new Error(`Invalid member name for Time class: ${u}`)}}static schema(u={},g=!1){const A=w(u,"names",{});return new Cr({optional:g,value:[new $n({name:A.utcTimeName||""}),new cr({name:A.generalTimeName||""})]})}fromSchema(u){K(u,["utcTimeName","generalTimeName"]);const g=si(u,u,sr.schema({names:{utcTimeName:"utcTimeName",generalTimeName:"generalTimeName"}}));if(!1===g.verified)throw new Error("Object's schema was not verified against input data for Time");"utcTimeName"in g.result&&(this.type=0,this.value=g.result.utcTimeName.toDate()),"generalTimeName"in g.result&&(this.type=1,this.value=g.result.generalTimeName.toDate())}toSchema(){let u={};return 0===this.type&&(u=new $n({valueDate:this.value})),1===this.type&&(u=new cr({valueDate:this.value})),u}toJSON(){return{type:this.type,value:this.value}}}class Br{constructor(u={}){this.attributes=w(u,"attributes",Br.defaultValues("attributes")),"schema"in u&&this.fromSchema(u.schema)}static defaultValues(u){if("attributes"===u)return[];throw new Error(`Invalid member name for SubjectDirectoryAttributes class: ${u}`)}static schema(u={}){const g=w(u,"names",{});return new pn({name:g.blockName||"",value:[new Ni({name:g.attributes||"",value:Or.schema()})]})}fromSchema(u){K(u,["attributes"]);const g=si(u,u,Br.schema({names:{attributes:"attributes"}}));if(!1===g.verified)throw new Error("Object's schema was not verified against input data for SubjectDirectoryAttributes");this.attributes=Array.from(g.result.attributes,A=>new Or({schema:A}))}toSchema(){return new pn({value:Array.from(this.attributes,u=>u.toSchema())})}toJSON(){return{attributes:Array.from(this.attributes,u=>u.toJSON())}}}class us{constructor(u={}){"notBefore"in u&&(this.notBefore=w(u,"notBefore",us.defaultValues("notBefore"))),"notAfter"in u&&(this.notAfter=w(u,"notAfter",us.defaultValues("notAfter"))),"schema"in u&&this.fromSchema(u.schema)}static defaultValues(u){switch(u){case"notBefore":case"notAfter":return new Date;default:throw new Error(`Invalid member name for PrivateKeyUsagePeriod class: ${u}`)}}static schema(u={}){const g=w(u,"names",{});return new pn({name:g.blockName||"",value:[new tt({name:g.notBefore||"",optional:!0,idBlock:{tagClass:3,tagNumber:0}}),new tt({name:g.notAfter||"",optional:!0,idBlock:{tagClass:3,tagNumber:1}})]})}fromSchema(u){K(u,["notBefore","notAfter"]);const g=si(u,u,us.schema({names:{notBefore:"notBefore",notAfter:"notAfter"}}));if(!1===g.verified)throw new Error("Object's schema was not verified against input data for PrivateKeyUsagePeriod");if("notBefore"in g.result){const A=new cr;A.fromBuffer(g.result.notBefore.valueBlock.valueHex),this.notBefore=A.toDate()}if("notAfter"in g.result){const A=new cr({valueHex:g.result.notAfter.valueBlock.valueHex});A.fromBuffer(g.result.notAfter.valueBlock.valueHex),this.notAfter=A.toDate()}}toSchema(){const u=[];return"notBefore"in this&&u.push(new tt({idBlock:{tagClass:3,tagNumber:0},valueHex:new cr({valueDate:this.notBefore}).valueBlock.valueHex})),"notAfter"in this&&u.push(new tt({idBlock:{tagClass:3,tagNumber:1},valueHex:new cr({valueDate:this.notAfter}).valueBlock.valueHex})),new pn({value:u})}toJSON(){const u={};return"notBefore"in this&&(u.notBefore=this.notBefore),"notAfter"in this&&(u.notAfter=this.notAfter),u}}function ao(Pe={},u=!1){const g=w(Pe,"names",{});return new pn({optional:u,value:[new H({optional:!0,idBlock:{tagClass:2,tagNumber:1},name:g.country_name||"",value:[new Cr({value:[new Ht,new Xt]})]}),new H({optional:!0,idBlock:{tagClass:2,tagNumber:2},name:g.administration_domain_name||"",value:[new Cr({value:[new Ht,new Xt]})]}),new tt({optional:!0,idBlock:{tagClass:3,tagNumber:0},name:g.network_address||"",isHexOnly:!0}),new tt({optional:!0,idBlock:{tagClass:3,tagNumber:1},name:g.terminal_identifier||"",isHexOnly:!0}),new H({optional:!0,idBlock:{tagClass:3,tagNumber:2},name:g.private_domain_name||"",value:[new Cr({value:[new Ht,new Xt]})]}),new tt({optional:!0,idBlock:{tagClass:3,tagNumber:3},name:g.organization_name||"",isHexOnly:!0}),new tt({optional:!0,name:g.numeric_user_identifier||"",idBlock:{tagClass:3,tagNumber:4},isHexOnly:!0}),new H({optional:!0,name:g.personal_name||"",idBlock:{tagClass:3,tagNumber:5},value:[new tt({idBlock:{tagClass:3,tagNumber:0},isHexOnly:!0}),new tt({optional:!0,idBlock:{tagClass:3,tagNumber:1},isHexOnly:!0}),new tt({optional:!0,idBlock:{tagClass:3,tagNumber:2},isHexOnly:!0}),new tt({optional:!0,idBlock:{tagClass:3,tagNumber:3},isHexOnly:!0})]}),new H({optional:!0,name:g.organizational_unit_names||"",idBlock:{tagClass:3,tagNumber:6},value:[new Ni({value:new Xt})]})]})}function xa(Pe=!1){return new pn({optional:Pe,value:[new Xt,new Xt]})}function ks(Pe=!1){return new fi({optional:Pe,value:[new tt({optional:!0,idBlock:{tagClass:3,tagNumber:0},isHexOnly:!0}),new H({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new br]})]})}class ri{constructor(u={}){this.type=w(u,"type",ri.defaultValues("type")),this.value=w(u,"value",ri.defaultValues("value")),"schema"in u&&this.fromSchema(u.schema)}static defaultValues(u){switch(u){case"type":return 9;case"value":return{};default:throw new Error(`Invalid member name for GeneralName class: ${u}`)}}static compareWithDefault(u,g){switch(u){case"type":return g===ri.defaultValues(u);case"value":return 0===Object.keys(g).length;default:throw new Error(`Invalid member name for GeneralName class: ${u}`)}}static schema(u={}){const g=w(u,"names",{});return new Cr({value:[new H({idBlock:{tagClass:3,tagNumber:0},name:g.blockName||"",value:[new Vt,new H({idBlock:{tagClass:3,tagNumber:0},value:[new br]})]}),new tt({name:g.blockName||"",idBlock:{tagClass:3,tagNumber:1}}),new tt({name:g.blockName||"",idBlock:{tagClass:3,tagNumber:2}}),new H({idBlock:{tagClass:3,tagNumber:3},name:g.blockName||"",value:[ao(g.builtInStandardAttributes||{},!1),xa(!0),ks(!0)]}),new H({idBlock:{tagClass:3,tagNumber:4},name:g.blockName||"",value:[Pr.schema(g.directoryName||{})]}),new H({idBlock:{tagClass:3,tagNumber:5},name:g.blockName||"",value:[new H({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new Cr({value:[new ye,new Xt,new Gt,new Wi,new qe]})]}),new H({idBlock:{tagClass:3,tagNumber:1},value:[new Cr({value:[new ye,new Xt,new Gt,new Wi,new qe]})]})]}),new tt({name:g.blockName||"",idBlock:{tagClass:3,tagNumber:6}}),new tt({name:g.blockName||"",idBlock:{tagClass:3,tagNumber:7}}),new tt({name:g.blockName||"",idBlock:{tagClass:3,tagNumber:8}})]})}fromSchema(u){K(u,["blockName","otherName","rfc822Name","dNSName","x400Address","directoryName","ediPartyName","uniformResourceIdentifier","iPAddress","registeredID"]);const g=si(u,u,ri.schema({names:{blockName:"blockName",otherName:"otherName",rfc822Name:"rfc822Name",dNSName:"dNSName",x400Address:"x400Address",directoryName:{names:{blockName:"directoryName"}},ediPartyName:"ediPartyName",uniformResourceIdentifier:"uniformResourceIdentifier",iPAddress:"iPAddress",registeredID:"registeredID"}}));if(!1===g.verified)throw new Error("Object's schema was not verified against input data for GeneralName");switch(this.type=g.result.blockName.idBlock.tagNumber,this.type){case 0:case 3:this.value=g.result.blockName;break;case 1:case 2:case 6:{const A=g.result.blockName;A.idBlock.tagClass=1,A.idBlock.tagNumber=22;const j=A.toBER(!1);this.value=Ot(j).result.valueBlock.value}break;case 4:this.value=new Pr({schema:g.result.directoryName});break;case 5:this.value=g.result.ediPartyName;break;case 7:this.value=new Pn({valueHex:g.result.blockName.valueBlock.valueHex});break;case 8:{const A=g.result.blockName;A.idBlock.tagClass=1,A.idBlock.tagNumber=6;const j=A.toBER(!1);this.value=Ot(j).result.valueBlock.toString()}}}toSchema(){switch(this.type){case 0:case 3:case 5:return new H({idBlock:{tagClass:3,tagNumber:this.type},value:[this.value]});case 1:case 2:case 6:{const u=new Ke({value:this.value});return u.idBlock.tagClass=3,u.idBlock.tagNumber=this.type,u}case 4:return new H({idBlock:{tagClass:3,tagNumber:4},value:[this.value.toSchema()]});case 7:{const u=this.value;return u.idBlock.tagClass=3,u.idBlock.tagNumber=this.type,u}case 8:{const u=new Vt({value:this.value});return u.idBlock.tagClass=3,u.idBlock.tagNumber=this.type,u}default:return ri.schema()}}toJSON(){const u={type:this.type,value:""};if("string"==typeof this.value)u.value=this.value;else try{u.value=this.value.toJSON()}catch{}return u}}class Qr{constructor(u={}){this.altNames=w(u,"altNames",Qr.defaultValues("altNames")),"schema"in u&&this.fromSchema(u.schema)}static defaultValues(u){if("altNames"===u)return[];throw new Error(`Invalid member name for AltName class: ${u}`)}static schema(u={}){const g=w(u,"names",{});return new pn({name:g.blockName||"",value:[new Ni({name:g.altNames||"",value:ri.schema()})]})}fromSchema(u){K(u,["altNames"]);const g=si(u,u,Qr.schema({names:{altNames:"altNames"}}));if(!1===g.verified)throw new Error("Object's schema was not verified against input data for AltName");"altNames"in g.result&&(this.altNames=Array.from(g.result.altNames,A=>new ri({schema:A})))}toSchema(){return new pn({value:Array.from(this.altNames,u=>u.toSchema())})}toJSON(){return{altNames:Array.from(this.altNames,u=>u.toJSON())}}}class zs{constructor(u={}){this.cA=w(u,"cA",!1),"pathLenConstraint"in u&&(this.pathLenConstraint=w(u,"pathLenConstraint",0)),"schema"in u&&this.fromSchema(u.schema)}static defaultValues(u){if("cA"===u)return!1;throw new Error(`Invalid member name for BasicConstraints class: ${u}`)}static schema(u={}){const g=w(u,"names",{});return new pn({name:g.blockName||"",value:[new In({optional:!0,name:g.cA||""}),new un({optional:!0,name:g.pathLenConstraint||""})]})}fromSchema(u){K(u,["cA","pathLenConstraint"]);const g=si(u,u,zs.schema({names:{cA:"cA",pathLenConstraint:"pathLenConstraint"}}));if(!1===g.verified)throw new Error("Object's schema was not verified against input data for BasicConstraints");"cA"in g.result&&(this.cA=g.result.cA.valueBlock.value),"pathLenConstraint"in g.result&&(this.pathLenConstraint=g.result.pathLenConstraint.valueBlock.isHexOnly?g.result.pathLenConstraint:g.result.pathLenConstraint.valueBlock.valueDec)}toSchema(){const u=[];return this.cA!==zs.defaultValues("cA")&&u.push(new In({value:this.cA})),"pathLenConstraint"in this&&u.push(this.pathLenConstraint instanceof un?this.pathLenConstraint:new un({value:this.pathLenConstraint})),new pn({value:u})}toJSON(){const u={};return this.cA!==zs.defaultValues("cA")&&(u.cA=this.cA),"pathLenConstraint"in this&&(u.pathLenConstraint=this.pathLenConstraint instanceof un?this.pathLenConstraint.toJSON():this.pathLenConstraint),u}}class yr{constructor(u={}){"distributionPoint"in u&&(this.distributionPoint=w(u,"distributionPoint",yr.defaultValues("distributionPoint"))),this.onlyContainsUserCerts=w(u,"onlyContainsUserCerts",yr.defaultValues("onlyContainsUserCerts")),this.onlyContainsCACerts=w(u,"onlyContainsCACerts",yr.defaultValues("onlyContainsCACerts")),"onlySomeReasons"in u&&(this.onlySomeReasons=w(u,"onlySomeReasons",yr.defaultValues("onlySomeReasons"))),this.indirectCRL=w(u,"indirectCRL",yr.defaultValues("indirectCRL")),this.onlyContainsAttributeCerts=w(u,"onlyContainsAttributeCerts",yr.defaultValues("onlyContainsAttributeCerts")),"schema"in u&&this.fromSchema(u.schema)}static defaultValues(u){switch(u){case"distributionPoint":return[];case"onlyContainsUserCerts":case"onlyContainsCACerts":case"indirectCRL":case"onlyContainsAttributeCerts":return!1;case"onlySomeReasons":return 0;default:throw new Error(`Invalid member name for IssuingDistributionPoint class: ${u}`)}}static schema(u={}){const g=w(u,"names",{});return new pn({name:g.blockName||"",value:[new H({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new Cr({value:[new H({name:g.distributionPoint||"",idBlock:{tagClass:3,tagNumber:0},value:[new Ni({name:g.distributionPointNames||"",value:ri.schema()})]}),new H({name:g.distributionPoint||"",idBlock:{tagClass:3,tagNumber:1},value:Pr.schema().valueBlock.value})]})]}),new tt({name:g.onlyContainsUserCerts||"",optional:!0,idBlock:{tagClass:3,tagNumber:1}}),new tt({name:g.onlyContainsCACerts||"",optional:!0,idBlock:{tagClass:3,tagNumber:2}}),new tt({name:g.onlySomeReasons||"",optional:!0,idBlock:{tagClass:3,tagNumber:3}}),new tt({name:g.indirectCRL||"",optional:!0,idBlock:{tagClass:3,tagNumber:4}}),new tt({name:g.onlyContainsAttributeCerts||"",optional:!0,idBlock:{tagClass:3,tagNumber:5}})]})}fromSchema(u){K(u,["distributionPoint","distributionPointNames","onlyContainsUserCerts","onlyContainsCACerts","onlySomeReasons","indirectCRL","onlyContainsAttributeCerts"]);const g=si(u,u,yr.schema({names:{distributionPoint:"distributionPoint",distributionPointNames:"distributionPointNames",onlyContainsUserCerts:"onlyContainsUserCerts",onlyContainsCACerts:"onlyContainsCACerts",onlySomeReasons:"onlySomeReasons",indirectCRL:"indirectCRL",onlyContainsAttributeCerts:"onlyContainsAttributeCerts"}}));if(!1===g.verified)throw new Error("Object's schema was not verified against input data for IssuingDistributionPoint");if("distributionPoint"in g.result)switch(!0){case 0===g.result.distributionPoint.idBlock.tagNumber:this.distributionPoint=Array.from(g.result.distributionPointNames,A=>new ri({schema:A}));break;case 1===g.result.distributionPoint.idBlock.tagNumber:this.distributionPoint=new Pr({schema:new pn({value:g.result.distributionPoint.valueBlock.value})});break;default:throw new Error("Unknown tagNumber for distributionPoint: {$asn1.result.distributionPoint.idBlock.tagNumber}")}if("onlyContainsUserCerts"in g.result){const A=new Uint8Array(g.result.onlyContainsUserCerts.valueBlock.valueHex);this.onlyContainsUserCerts=0!==A[0]}if("onlyContainsCACerts"in g.result){const A=new Uint8Array(g.result.onlyContainsCACerts.valueBlock.valueHex);this.onlyContainsCACerts=0!==A[0]}if("onlySomeReasons"in g.result){const A=new Uint8Array(g.result.onlySomeReasons.valueBlock.valueHex);this.onlySomeReasons=A[0]}if("indirectCRL"in g.result){const A=new Uint8Array(g.result.indirectCRL.valueBlock.valueHex);this.indirectCRL=0!==A[0]}if("onlyContainsAttributeCerts"in g.result){const A=new Uint8Array(g.result.onlyContainsAttributeCerts.valueBlock.valueHex);this.onlyContainsAttributeCerts=0!==A[0]}}toSchema(){const u=[];if("distributionPoint"in this){let g;this.distributionPoint instanceof Array?g=new H({idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.distributionPoint,A=>A.toSchema())}):(g=this.distributionPoint.toSchema(),g.idBlock.tagClass=3,g.idBlock.tagNumber=1),u.push(new H({idBlock:{tagClass:3,tagNumber:0},value:[g]}))}if(this.onlyContainsUserCerts!==yr.defaultValues("onlyContainsUserCerts")&&u.push(new tt({idBlock:{tagClass:3,tagNumber:1},valueHex:new Uint8Array([255]).buffer})),this.onlyContainsCACerts!==yr.defaultValues("onlyContainsCACerts")&&u.push(new tt({idBlock:{tagClass:3,tagNumber:2},valueHex:new Uint8Array([255]).buffer})),"onlySomeReasons"in this){const g=new ArrayBuffer(1);new Uint8Array(g)[0]=this.onlySomeReasons,u.push(new tt({idBlock:{tagClass:3,tagNumber:3},valueHex:g}))}return this.indirectCRL!==yr.defaultValues("indirectCRL")&&u.push(new tt({idBlock:{tagClass:3,tagNumber:4},valueHex:new Uint8Array([255]).buffer})),this.onlyContainsAttributeCerts!==yr.defaultValues("onlyContainsAttributeCerts")&&u.push(new tt({idBlock:{tagClass:3,tagNumber:5},valueHex:new Uint8Array([255]).buffer})),new pn({value:u})}toJSON(){const u={};return"distributionPoint"in this&&(u.distributionPoint=this.distributionPoint instanceof Array?Array.from(this.distributionPoint,g=>g.toJSON()):this.distributionPoint.toJSON()),this.onlyContainsUserCerts!==yr.defaultValues("onlyContainsUserCerts")&&(u.onlyContainsUserCerts=this.onlyContainsUserCerts),this.onlyContainsCACerts!==yr.defaultValues("onlyContainsCACerts")&&(u.onlyContainsCACerts=this.onlyContainsCACerts),"onlySomeReasons"in this&&(u.onlySomeReasons=this.onlySomeReasons),this.indirectCRL!==yr.defaultValues("indirectCRL")&&(u.indirectCRL=this.indirectCRL),this.onlyContainsAttributeCerts!==yr.defaultValues("onlyContainsAttributeCerts")&&(u.onlyContainsAttributeCerts=this.onlyContainsAttributeCerts),u}}class Ks{constructor(u={}){this.names=w(u,"names",Ks.defaultValues("names")),"schema"in u&&this.fromSchema(u.schema)}static defaultValues(u){if("names"===u)return[];throw new Error(`Invalid member name for GeneralNames class: ${u}`)}static schema(u={},g=!1){const A=w(u,"names",{});return new pn({optional:g,name:A.blockName||"",value:[new Ni({name:A.generalNames||"",value:ri.schema()})]})}fromSchema(u){K(u,["names","generalNames"]);const g=si(u,u,Ks.schema({names:{blockName:"names",generalNames:"generalNames"}}));if(!1===g.verified)throw new Error("Object's schema was not verified against input data for GeneralNames");this.names=Array.from(g.result.generalNames,A=>new ri({schema:A}))}toSchema(){return new pn({value:Array.from(this.names,u=>u.toSchema())})}toJSON(){return{names:Array.from(this.names,u=>u.toJSON())}}}class jr{constructor(u={}){this.base=w(u,"base",jr.defaultValues("base")),this.minimum=w(u,"minimum",jr.defaultValues("minimum")),"maximum"in u&&(this.maximum=w(u,"maximum",jr.defaultValues("maximum"))),"schema"in u&&this.fromSchema(u.schema)}static defaultValues(u){switch(u){case"base":return new ri;case"minimum":case"maximum":return 0;default:throw new Error(`Invalid member name for GeneralSubtree class: ${u}`)}}static schema(u={}){const g=w(u,"names",{});return new pn({name:g.blockName||"",value:[ri.schema(g.base||{}),new H({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new un({name:g.minimum||""})]}),new H({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new un({name:g.maximum||""})]})]})}fromSchema(u){K(u,["base","minimum","maximum"]);const g=si(u,u,jr.schema({names:{base:{names:{blockName:"base"}},minimum:"minimum",maximum:"maximum"}}));if(!1===g.verified)throw new Error("Object's schema was not verified against input data for GeneralSubtree");this.base=new ri({schema:g.result.base}),"minimum"in g.result&&(this.minimum=g.result.minimum.valueBlock.isHexOnly?g.result.minimum:g.result.minimum.valueBlock.valueDec),"maximum"in g.result&&(this.maximum=g.result.maximum.valueBlock.isHexOnly?g.result.maximum:g.result.maximum.valueBlock.valueDec)}toSchema(){const u=[];if(u.push(this.base.toSchema()),0!==this.minimum){let g=0;g=this.minimum instanceof un?this.minimum:new un({value:this.minimum}),u.push(new H({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[g]}))}if("maximum"in this){let g=0;g=this.maximum instanceof un?this.maximum:new un({value:this.maximum}),u.push(new H({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[g]}))}return new pn({value:u})}toJSON(){const u={base:this.base.toJSON()};return 0!==this.minimum&&(u.minimum="number"==typeof this.minimum?this.minimum:this.minimum.toJSON()),"maximum"in this&&(u.maximum="number"==typeof this.maximum?this.maximum:this.maximum.toJSON()),u}}class Wr{constructor(u={}){"permittedSubtrees"in u&&(this.permittedSubtrees=w(u,"permittedSubtrees",Wr.defaultValues("permittedSubtrees"))),"excludedSubtrees"in u&&(this.excludedSubtrees=w(u,"excludedSubtrees",Wr.defaultValues("excludedSubtrees"))),"schema"in u&&this.fromSchema(u.schema)}static defaultValues(u){switch(u){case"permittedSubtrees":case"excludedSubtrees":return[];default:throw new Error(`Invalid member name for NameConstraints class: ${u}`)}}static schema(u={}){const g=w(u,"names",{});return new pn({name:g.blockName||"",value:[new H({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new Ni({name:g.permittedSubtrees||"",value:jr.schema()})]}),new H({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new Ni({name:g.excludedSubtrees||"",value:jr.schema()})]})]})}fromSchema(u){K(u,["permittedSubtrees","excludedSubtrees"]);const g=si(u,u,Wr.schema({names:{permittedSubtrees:"permittedSubtrees",excludedSubtrees:"excludedSubtrees"}}));if(!1===g.verified)throw new Error("Object's schema was not verified against input data for NameConstraints");"permittedSubtrees"in g.result&&(this.permittedSubtrees=Array.from(g.result.permittedSubtrees,A=>new jr({schema:A}))),"excludedSubtrees"in g.result&&(this.excludedSubtrees=Array.from(g.result.excludedSubtrees,A=>new jr({schema:A})))}toSchema(){const u=[];return"permittedSubtrees"in this&&u.push(new H({idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.permittedSubtrees,g=>g.toSchema())})),"excludedSubtrees"in this&&u.push(new H({idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.excludedSubtrees,g=>g.toSchema())})),new pn({value:u})}toJSON(){const u={};return"permittedSubtrees"in this&&(u.permittedSubtrees=Array.from(this.permittedSubtrees,g=>g.toJSON())),"excludedSubtrees"in this&&(u.excludedSubtrees=Array.from(this.excludedSubtrees,g=>g.toJSON())),u}}class Zr{constructor(u={}){"distributionPoint"in u&&(this.distributionPoint=w(u,"distributionPoint",Zr.defaultValues("distributionPoint"))),"reasons"in u&&(this.reasons=w(u,"reasons",Zr.defaultValues("reasons"))),"cRLIssuer"in u&&(this.cRLIssuer=w(u,"cRLIssuer",Zr.defaultValues("cRLIssuer"))),"schema"in u&&this.fromSchema(u.schema)}static defaultValues(u){switch(u){case"distributionPoint":case"cRLIssuer":return[];case"reasons":return new Rt;default:throw new Error(`Invalid member name for DistributionPoint class: ${u}`)}}static schema(u={}){const g=w(u,"names",{});return new pn({name:g.blockName||"",value:[new H({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new Cr({value:[new H({name:g.distributionPoint||"",optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new Ni({name:g.distributionPointNames||"",value:ri.schema()})]}),new H({name:g.distributionPoint||"",optional:!0,idBlock:{tagClass:3,tagNumber:1},value:Pr.schema().valueBlock.value})]})]}),new tt({name:g.reasons||"",optional:!0,idBlock:{tagClass:3,tagNumber:1}}),new H({name:g.cRLIssuer||"",optional:!0,idBlock:{tagClass:3,tagNumber:2},value:[new Ni({name:g.cRLIssuerNames||"",value:ri.schema()})]})]})}fromSchema(u){K(u,["distributionPoint","distributionPointNames","reasons","cRLIssuer","cRLIssuerNames"]);const g=si(u,u,Zr.schema({names:{distributionPoint:"distributionPoint",distributionPointNames:"distributionPointNames",reasons:"reasons",cRLIssuer:"cRLIssuer",cRLIssuerNames:"cRLIssuerNames"}}));if(!1===g.verified)throw new Error("Object's schema was not verified against input data for DistributionPoint");"distributionPoint"in g.result&&(0===g.result.distributionPoint.idBlock.tagNumber&&(this.distributionPoint=Array.from(g.result.distributionPointNames,A=>new ri({schema:A}))),1===g.result.distributionPoint.idBlock.tagNumber&&(this.distributionPoint=new Pr({schema:new pn({value:g.result.distributionPoint.valueBlock.value})}))),"reasons"in g.result&&(this.reasons=new Rt({valueHex:g.result.reasons.valueBlock.valueHex})),"cRLIssuer"in g.result&&(this.cRLIssuer=Array.from(g.result.cRLIssuerNames,A=>new ri({schema:A})))}toSchema(){const u=[];if("distributionPoint"in this){let g;g=new H(this.distributionPoint instanceof Array?{idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.distributionPoint,A=>A.toSchema())}:{idBlock:{tagClass:3,tagNumber:1},value:[this.distributionPoint.toSchema()]}),u.push(new H({idBlock:{tagClass:3,tagNumber:0},value:[g]}))}return"reasons"in this&&u.push(new tt({idBlock:{tagClass:3,tagNumber:1},valueHex:this.reasons.valueBlock.valueHex})),"cRLIssuer"in this&&u.push(new H({idBlock:{tagClass:3,tagNumber:2},value:Array.from(this.cRLIssuer,g=>g.toSchema())})),new pn({value:u})}toJSON(){const u={};return"distributionPoint"in this&&(u.distributionPoint=this.distributionPoint instanceof Array?Array.from(this.distributionPoint,g=>g.toJSON()):this.distributionPoint.toJSON()),"reasons"in this&&(u.reasons=this.reasons.toJSON()),"cRLIssuer"in this&&(u.cRLIssuer=Array.from(this.cRLIssuer,g=>g.toJSON())),u}}class fn{constructor(u={}){this.distributionPoints=w(u,"distributionPoints",fn.defaultValues("distributionPoints")),"schema"in u&&this.fromSchema(u.schema)}static defaultValues(u){if("distributionPoints"===u)return[];throw new Error(`Invalid member name for CRLDistributionPoints class: ${u}`)}static schema(u={}){const g=w(u,"names",{});return new pn({name:g.blockName||"",value:[new Ni({name:g.distributionPoints||"",value:Zr.schema()})]})}fromSchema(u){K(u,["distributionPoints"]);const g=si(u,u,fn.schema({names:{distributionPoints:"distributionPoints"}}));if(!1===g.verified)throw new Error("Object's schema was not verified against input data for CRLDistributionPoints");this.distributionPoints=Array.from(g.result.distributionPoints,A=>new Zr({schema:A}))}toSchema(){return new pn({value:Array.from(this.distributionPoints,u=>u.toSchema())})}toJSON(){return{distributionPoints:Array.from(this.distributionPoints,u=>u.toJSON())}}}class Cs{constructor(u={}){this.policyQualifierId=w(u,"policyQualifierId",Cs.defaultValues("policyQualifierId")),this.qualifier=w(u,"qualifier",Cs.defaultValues("qualifier")),"schema"in u&&this.fromSchema(u.schema)}static defaultValues(u){switch(u){case"policyQualifierId":return"";case"qualifier":return new br;default:throw new Error(`Invalid member name for PolicyQualifierInfo class: ${u}`)}}static schema(u={}){const g=w(u,"names",{});return new pn({name:g.blockName||"",value:[new Vt({name:g.policyQualifierId||""}),new br({name:g.qualifier||""})]})}fromSchema(u){K(u,["policyQualifierId","qualifier"]);const g=si(u,u,Cs.schema({names:{policyQualifierId:"policyQualifierId",qualifier:"qualifier"}}));if(!1===g.verified)throw new Error("Object's schema was not verified against input data for PolicyQualifierInfo");this.policyQualifierId=g.result.policyQualifierId.valueBlock.toString(),this.qualifier=g.result.qualifier}toSchema(){return new pn({value:[new Vt({value:this.policyQualifierId}),this.qualifier]})}toJSON(){return{policyQualifierId:this.policyQualifierId,qualifier:this.qualifier.toJSON()}}}class Re{constructor(u={}){this.policyIdentifier=w(u,"policyIdentifier",Re.defaultValues("policyIdentifier")),"policyQualifiers"in u&&(this.policyQualifiers=w(u,"policyQualifiers",Re.defaultValues("policyQualifiers"))),"schema"in u&&this.fromSchema(u.schema)}static defaultValues(u){switch(u){case"policyIdentifier":return"";case"policyQualifiers":return[];default:throw new Error(`Invalid member name for PolicyInformation class: ${u}`)}}static schema(u={}){const g=w(u,"names",{});return new pn({name:g.blockName||"",value:[new Vt({name:g.policyIdentifier||""}),new pn({optional:!0,value:[new Ni({name:g.policyQualifiers||"",value:Cs.schema()})]})]})}fromSchema(u){K(u,["policyIdentifier","policyQualifiers"]);const g=si(u,u,Re.schema({names:{policyIdentifier:"policyIdentifier",policyQualifiers:"policyQualifiers"}}));if(!1===g.verified)throw new Error("Object's schema was not verified against input data for PolicyInformation");this.policyIdentifier=g.result.policyIdentifier.valueBlock.toString(),"policyQualifiers"in g.result&&(this.policyQualifiers=Array.from(g.result.policyQualifiers,A=>new Cs({schema:A})))}toSchema(){const u=[];return u.push(new Vt({value:this.policyIdentifier})),"policyQualifiers"in this&&u.push(new pn({value:Array.from(this.policyQualifiers,g=>g.toSchema())})),new pn({value:u})}toJSON(){const u={policyIdentifier:this.policyIdentifier};return"policyQualifiers"in this&&(u.policyQualifiers=Array.from(this.policyQualifiers,g=>g.toJSON())),u}}class Be{constructor(u={}){this.certificatePolicies=w(u,"certificatePolicies",Be.defaultValues("certificatePolicies")),"schema"in u&&this.fromSchema(u.schema)}static defaultValues(u){if("certificatePolicies"===u)return[];throw new Error(`Invalid member name for CertificatePolicies class: ${u}`)}static schema(u={}){const g=w(u,"names",{});return new pn({name:g.blockName||"",value:[new Ni({name:g.certificatePolicies||"",value:Re.schema()})]})}fromSchema(u){K(u,["certificatePolicies"]);const g=si(u,u,Be.schema({names:{certificatePolicies:"certificatePolicies"}}));if(!1===g.verified)throw new Error("Object's schema was not verified against input data for CertificatePolicies");this.certificatePolicies=Array.from(g.result.certificatePolicies,A=>new Re({schema:A}))}toSchema(){return new pn({value:Array.from(this.certificatePolicies,u=>u.toSchema())})}toJSON(){return{certificatePolicies:Array.from(this.certificatePolicies,u=>u.toJSON())}}}class de{constructor(u={}){this.issuerDomainPolicy=w(u,"issuerDomainPolicy",de.defaultValues("issuerDomainPolicy")),this.subjectDomainPolicy=w(u,"subjectDomainPolicy",de.defaultValues("subjectDomainPolicy")),"schema"in u&&this.fromSchema(u.schema)}static defaultValues(u){switch(u){case"issuerDomainPolicy":case"subjectDomainPolicy":return"";default:throw new Error(`Invalid member name for PolicyMapping class: ${u}`)}}static schema(u={}){const g=w(u,"names",{});return new pn({name:g.blockName||"",value:[new Vt({name:g.issuerDomainPolicy||""}),new Vt({name:g.subjectDomainPolicy||""})]})}fromSchema(u){K(u,["issuerDomainPolicy","subjectDomainPolicy"]);const g=si(u,u,de.schema({names:{issuerDomainPolicy:"issuerDomainPolicy",subjectDomainPolicy:"subjectDomainPolicy"}}));if(!1===g.verified)throw new Error("Object's schema was not verified against input data for PolicyMapping");this.issuerDomainPolicy=g.result.issuerDomainPolicy.valueBlock.toString(),this.subjectDomainPolicy=g.result.subjectDomainPolicy.valueBlock.toString()}toSchema(){return new pn({value:[new Vt({value:this.issuerDomainPolicy}),new Vt({value:this.subjectDomainPolicy})]})}toJSON(){return{issuerDomainPolicy:this.issuerDomainPolicy,subjectDomainPolicy:this.subjectDomainPolicy}}}class Ze{constructor(u={}){this.mappings=w(u,"mappings",Ze.defaultValues("mappings")),"schema"in u&&this.fromSchema(u.schema)}static defaultValues(u){if("mappings"===u)return[];throw new Error(`Invalid member name for PolicyMappings class: ${u}`)}static schema(u={}){const g=w(u,"names",{});return new pn({name:g.blockName||"",value:[new Ni({name:g.mappings||"",value:de.schema()})]})}fromSchema(u){K(u,["mappings"]);const g=si(u,u,Ze.schema({names:{mappings:"mappings"}}));if(!1===g.verified)throw new Error("Object's schema was not verified against input data for PolicyMappings");this.mappings=Array.from(g.result.mappings,A=>new de({schema:A}))}toSchema(){return new pn({value:Array.from(this.mappings,u=>u.toSchema())})}toJSON(){return{mappings:Array.from(this.mappings,u=>u.toJSON())}}}class Pt{constructor(u={}){"keyIdentifier"in u&&(this.keyIdentifier=w(u,"keyIdentifier",Pt.defaultValues("keyIdentifier"))),"authorityCertIssuer"in u&&(this.authorityCertIssuer=w(u,"authorityCertIssuer",Pt.defaultValues("authorityCertIssuer"))),"authorityCertSerialNumber"in u&&(this.authorityCertSerialNumber=w(u,"authorityCertSerialNumber",Pt.defaultValues("authorityCertSerialNumber"))),"schema"in u&&this.fromSchema(u.schema)}static defaultValues(u){switch(u){case"keyIdentifier":return new Pn;case"authorityCertIssuer":return[];case"authorityCertSerialNumber":return new un;default:throw new Error(`Invalid member name for AuthorityKeyIdentifier class: ${u}`)}}static schema(u={}){const g=w(u,"names",{});return new pn({name:g.blockName||"",value:[new tt({name:g.keyIdentifier||"",optional:!0,idBlock:{tagClass:3,tagNumber:0}}),new H({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new Ni({name:g.authorityCertIssuer||"",value:ri.schema()})]}),new tt({name:g.authorityCertSerialNumber||"",optional:!0,idBlock:{tagClass:3,tagNumber:2}})]})}fromSchema(u){K(u,["keyIdentifier","authorityCertIssuer","authorityCertSerialNumber"]);const g=si(u,u,Pt.schema({names:{keyIdentifier:"keyIdentifier",authorityCertIssuer:"authorityCertIssuer",authorityCertSerialNumber:"authorityCertSerialNumber"}}));if(!1===g.verified)throw new Error("Object's schema was not verified against input data for AuthorityKeyIdentifier");"keyIdentifier"in g.result&&(this.keyIdentifier=new Pn({valueHex:g.result.keyIdentifier.valueBlock.valueHex})),"authorityCertIssuer"in g.result&&(this.authorityCertIssuer=Array.from(g.result.authorityCertIssuer,A=>new ri({schema:A}))),"authorityCertSerialNumber"in g.result&&(this.authorityCertSerialNumber=new un({valueHex:g.result.authorityCertSerialNumber.valueBlock.valueHex}))}toSchema(){const u=[];return"keyIdentifier"in this&&u.push(new tt({idBlock:{tagClass:3,tagNumber:0},valueHex:this.keyIdentifier.valueBlock.valueHex})),"authorityCertIssuer"in this&&u.push(new H({idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.authorityCertIssuer,g=>g.toSchema())})),"authorityCertSerialNumber"in this&&u.push(new tt({idBlock:{tagClass:3,tagNumber:2},valueHex:this.authorityCertSerialNumber.valueBlock.valueHex})),new pn({value:u})}toJSON(){const u={};return"keyIdentifier"in this&&(u.keyIdentifier=this.keyIdentifier.toJSON()),"authorityCertIssuer"in this&&(u.authorityCertIssuer=Array.from(this.authorityCertIssuer,g=>g.toJSON())),"authorityCertSerialNumber"in this&&(u.authorityCertSerialNumber=this.authorityCertSerialNumber.toJSON()),u}}class Hn{constructor(u={}){"requireExplicitPolicy"in u&&(this.requireExplicitPolicy=w(u,"requireExplicitPolicy",Hn.defaultValues("requireExplicitPolicy"))),"inhibitPolicyMapping"in u&&(this.inhibitPolicyMapping=w(u,"inhibitPolicyMapping",Hn.defaultValues("inhibitPolicyMapping"))),"schema"in u&&this.fromSchema(u.schema)}static defaultValues(u){switch(u){case"requireExplicitPolicy":case"inhibitPolicyMapping":return 0;default:throw new Error(`Invalid member name for PolicyConstraints class: ${u}`)}}static schema(u={}){const g=w(u,"names",{});return new pn({name:g.blockName||"",value:[new tt({name:g.requireExplicitPolicy||"",optional:!0,idBlock:{tagClass:3,tagNumber:0}}),new tt({name:g.inhibitPolicyMapping||"",optional:!0,idBlock:{tagClass:3,tagNumber:1}})]})}fromSchema(u){K(u,["requireExplicitPolicy","inhibitPolicyMapping"]);const g=si(u,u,Hn.schema({names:{requireExplicitPolicy:"requireExplicitPolicy",inhibitPolicyMapping:"inhibitPolicyMapping"}}));if(!1===g.verified)throw new Error("Object's schema was not verified against input data for PolicyConstraints");if("requireExplicitPolicy"in g.result){const A=g.result.requireExplicitPolicy;A.idBlock.tagClass=1,A.idBlock.tagNumber=2;const ne=Ot(A.toBER(!1));this.requireExplicitPolicy=ne.result.valueBlock.valueDec}if("inhibitPolicyMapping"in g.result){const A=g.result.inhibitPolicyMapping;A.idBlock.tagClass=1,A.idBlock.tagNumber=2;const ne=Ot(A.toBER(!1));this.inhibitPolicyMapping=ne.result.valueBlock.valueDec}}toSchema(){const u=[];if("requireExplicitPolicy"in this){const g=new un({value:this.requireExplicitPolicy});g.idBlock.tagClass=3,g.idBlock.tagNumber=0,u.push(g)}if("inhibitPolicyMapping"in this){const g=new un({value:this.inhibitPolicyMapping});g.idBlock.tagClass=3,g.idBlock.tagNumber=1,u.push(g)}return new pn({value:u})}toJSON(){const u={};return"requireExplicitPolicy"in this&&(u.requireExplicitPolicy=this.requireExplicitPolicy),"inhibitPolicyMapping"in this&&(u.inhibitPolicyMapping=this.inhibitPolicyMapping),u}}class Ti{constructor(u={}){this.keyPurposes=w(u,"keyPurposes",Ti.defaultValues("keyPurposes")),"schema"in u&&this.fromSchema(u.schema)}static defaultValues(u){if("keyPurposes"===u)return[];throw new Error(`Invalid member name for ExtKeyUsage class: ${u}`)}static schema(u={}){const g=w(u,"names",{});return new pn({name:g.blockName||"",value:[new Ni({name:g.keyPurposes||"",value:new Vt})]})}fromSchema(u){K(u,["keyPurposes"]);const g=si(u,u,Ti.schema({names:{keyPurposes:"keyPurposes"}}));if(!1===g.verified)throw new Error("Object's schema was not verified against input data for ExtKeyUsage");this.keyPurposes=Array.from(g.result.keyPurposes,A=>A.valueBlock.toString())}toSchema(){return new pn({value:Array.from(this.keyPurposes,u=>new Vt({value:u}))})}toJSON(){return{keyPurposes:Array.from(this.keyPurposes)}}}class ds{constructor(u={}){this.accessMethod=w(u,"accessMethod",ds.defaultValues("accessMethod")),this.accessLocation=w(u,"accessLocation",ds.defaultValues("accessLocation")),"schema"in u&&this.fromSchema(u.schema)}static defaultValues(u){switch(u){case"accessMethod":return"";case"accessLocation":return new ri;default:throw new Error(`Invalid member name for AccessDescription class: ${u}`)}}static schema(u={}){const g=w(u,"names",{});return new pn({name:g.blockName||"",value:[new Vt({name:g.accessMethod||""}),ri.schema(g.accessLocation||{})]})}fromSchema(u){K(u,["accessMethod","accessLocation"]);const g=si(u,u,ds.schema({names:{accessMethod:"accessMethod",accessLocation:{names:{blockName:"accessLocation"}}}}));if(!1===g.verified)throw new Error("Object's schema was not verified against input data for AccessDescription");this.accessMethod=g.result.accessMethod.valueBlock.toString(),this.accessLocation=new ri({schema:g.result.accessLocation})}toSchema(){return new pn({value:[new Vt({value:this.accessMethod}),this.accessLocation.toSchema()]})}toJSON(){return{accessMethod:this.accessMethod,accessLocation:this.accessLocation.toJSON()}}}class ws{constructor(u={}){this.accessDescriptions=w(u,"accessDescriptions",ws.defaultValues("accessDescriptions")),"schema"in u&&this.fromSchema(u.schema)}static defaultValues(u){if("accessDescriptions"===u)return[];throw new Error(`Invalid member name for InfoAccess class: ${u}`)}static schema(u={}){const g=w(u,"names",{});return new pn({name:g.blockName||"",value:[new Ni({name:g.accessDescriptions||"",value:ds.schema()})]})}fromSchema(u){K(u,["accessDescriptions"]);const g=si(u,u,ws.schema({names:{accessDescriptions:"accessDescriptions"}}));if(!1===g.verified)throw new Error("Object's schema was not verified against input data for InfoAccess");this.accessDescriptions=Array.from(g.result.accessDescriptions,A=>new ds({schema:A}))}toSchema(){return new pn({value:Array.from(this.accessDescriptions,u=>u.toSchema())})}toJSON(){return{accessDescriptions:Array.from(this.accessDescriptions,u=>u.toJSON())}}}class Zn{constructor(u={}){if("view"in u)this.fromUint8Array(u.view);else if("buffer"in u)this.fromArrayBuffer(u.buffer);else if("string"in u)this.fromString(u.string);else if("hexstring"in u)this.fromHexString(u.hexstring);else if("length"in u&&u.length>0){if(this.length=u.length,u.stub)for(let g=0;g<this._view.length;g++)this._view[g]=u.stub}else this.length=0}set buffer(u){this._buffer=u,this._view=new Uint8Array(this._buffer)}get buffer(){return this._buffer}set view(u){this._buffer=new ArrayBuffer(u.length),this._view=new Uint8Array(this._buffer),this._view.set(u)}get view(){return this._view}get length(){return this.view.byteLength}set length(u){this._buffer=new ArrayBuffer(u),this._view=new Uint8Array(this._buffer)}clear(){this._buffer=new ArrayBuffer(0),this._view=new Uint8Array(this._buffer)}fromArrayBuffer(u){this._buffer=u,this._view=new Uint8Array(this._buffer)}fromUint8Array(u){this.fromArrayBuffer(new Uint8Array(u).buffer)}fromString(u){const g=u.length;this.length=g;for(let A=0;A<g;A++)this.view[A]=u.charCodeAt(A)}toString(u=0,g=this.view.length-u){let A="";(u>=this.view.length||u<0)&&(u=0),(g>=this.view.length||g<0)&&(g=this.view.length-u);for(let j=u;j<u+g;j++)A+=String.fromCharCode(this.view[j]);return A}fromHexString(u){const g=u.length;this.buffer=new ArrayBuffer(g>>1),this.view=new Uint8Array(this.buffer);const A=new Map;A.set("0",0),A.set("1",1),A.set("2",2),A.set("3",3),A.set("4",4),A.set("5",5),A.set("6",6),A.set("7",7),A.set("8",8),A.set("9",9),A.set("A",10),A.set("a",10),A.set("B",11),A.set("b",11),A.set("C",12),A.set("c",12),A.set("D",13),A.set("d",13),A.set("E",14),A.set("e",14),A.set("F",15),A.set("f",15);let j=0,ne=0;for(let ge=0;ge<g;ge++)ge%2?(ne|=A.get(u.charAt(ge)),this.view[j]=ne,j++):ne=A.get(u.charAt(ge))<<4}toHexString(u=0,g=this.view.length-u){let A="";(u>=this.view.length||u<0)&&(u=0),(g>=this.view.length||g<0)&&(g=this.view.length-u);for(let j=u;j<u+g;j++){const ne=this.view[j].toString(16).toUpperCase();A=A+(1==ne.length?"0":"")+ne}return A}copy(u=0,g=this.length-u){if(!u&&!this.length)return new Zn;if(u<0||u>this.length-1)throw new Error(`Wrong start position: ${u}`);return new Zn({buffer:this._buffer.slice(u,u+g)})}slice(u=0,g=this.length){if(!u&&!this.length)return new Zn;if(u<0||u>this.length-1)throw new Error(`Wrong start position: ${u}`);return new Zn({buffer:this._buffer.slice(u,g)})}realloc(u){const g=new ArrayBuffer(u);new Uint8Array(g).set(u>this._view.length?this._view:new Uint8Array(this._buffer,0,u)),this._buffer=g,this._view=new Uint8Array(this._buffer)}append(u){const g=this.length,A=u.length,j=u._view.subarray();this.realloc(g+A),this._view.set(j,g)}insert(u,g=0,A=this.length-g){return!(g>this.length-1||(A>this.length-g&&(A=this.length-g),A>u.length&&(A=u.length),this._view.set(A==u.length?u._view:u._view.subarray(0,A),g),0))}isEqual(u){if(this.length!=u.length)return!1;for(let g=0;g<u.length;g++)if(this.view[g]!=u.view[g])return!1;return!0}isEqualView(u){if(u.length!=this.view.length)return!1;for(let g=0;g<u.length;g++)if(this.view[g]!=u[g])return!1;return!0}findPattern(u,g,A,j){const{start:ne,length:ge,backward:$e}=this.prepareFindParameters(g,A,j),S=u.length;if(S>ge)return-1;const B=[];for(let O=0;O<S;O++)B.push(u.view[O]);for(let O=0;O<=ge-S;O++){let X=!0;const pe=$e?ne-S-O:ne+O;for(let Ve=0;Ve<S;Ve++)if(this.view[Ve+pe]!=B[Ve]){X=!1;break}if(X)return $e?ne-S-O:ne+S+O}return-1}findFirstIn(u,g,A,j){const{start:ne,length:ge,backward:$e}=this.prepareFindParameters(g,A,j),S={id:-1,position:$e?0:ne+ge,length:0};for(let B=0;B<u.length;B++){const O=this.findPattern(u[B],ne,ge,$e);if(-1!=O){let X=!1;const pe=u[B].length;$e?O-pe>=S.position-S.length&&(X=!0):O-pe<=S.position-S.length&&(X=!0),X&&(S.position=O,S.id=B,S.length=pe)}}return S}findAllIn(u,g,A){let{start:j,length:ne}=this.prepareFindParameters(g,A);const ge=[];let $e={id:-1,position:j};for(;;){const S=$e.position;if($e=this.findFirstIn(u,$e.position,ne),-1==$e.id)break;ne-=$e.position-S,ge.push({id:$e.id,position:$e.position})}return ge}findAllPatternIn(u,g,A){const{start:j,length:ne}=this.prepareFindParameters(g,A),ge=[],$e=u.length;if($e>ne)return-1;const S=Array.from(u.view);for(let B=0;B<=ne-$e;B++){let O=!0;const X=j+B;for(let pe=0;pe<$e;pe++)if(this.view[pe+X]!=S[pe]){O=!1;break}O&&(ge.push(j+$e+B),B+=$e-1)}return ge}findFirstNotIn(u,g,A,j){let{start:ne,length:ge,backward:$e}=this.prepareFindParameters(g,A,j);const S={left:{id:-1,position:ne},right:{id:-1,position:0},value:new Zn};let B=ge;for(;B>0;){if(S.right=this.findFirstIn(u,$e?ne-ge+B:ne+ge-B,B,$e),-1==S.right.id){ge=B,$e?ne-=ge:ne=S.left.position,S.value=new Zn({buffer:this._buffer.slice(ne,ne+ge)});break}if(S.right.position!=($e?S.left.position-u[S.right.id].length:S.left.position+u[S.right.id].length)){$e?(ne=S.right.position+u[S.right.id].length,ge=S.left.position-S.right.position-u[S.right.id].length):(ne=S.left.position,ge=S.right.position-S.left.position-u[S.right.id].length),S.value=new Zn({buffer:this._buffer.slice(ne,ne+ge)});break}S.left=S.right,B-=u[S.right.id].length}if($e){const O=S.right;S.right=S.left,S.left=O}return S}findAllNotIn(u,g,A){let{start:j,length:ne}=this.prepareFindParameters(g,A);const ge=[];let $e={left:{id:-1,position:j},right:{id:-1,position:j},value:new Zn};do{const S=$e.right.position;$e=this.findFirstNotIn(u,$e.right.position,ne),ne-=$e.right.position-S,ge.push({left:{id:$e.left.id,position:$e.left.position},right:{id:$e.right.id,position:$e.right.position},value:$e.value})}while(-1!=$e.right.id);return ge}findFirstSequence(u,g,A,j){let{start:ne,length:ge,backward:$e}=this.prepareFindParameters(g,A,j);const S=this.skipNotPatterns(u,ne,ge,$e);if(-1==S)return{position:-1,value:new Zn};const B=this.skipPatterns(u,S,ge-($e?ne-S:S-ne),$e);return $e?(ne=B,ge=S-B):(ne=S,ge=B-S),{position:B,value:new Zn({buffer:this._buffer.slice(ne,ne+ge)})}}findAllSequences(u,g,A){let{start:j,length:ne}=this.prepareFindParameters(g,A);const ge=[];let $e={position:j,value:new Zn};do{const S=$e.position;$e=this.findFirstSequence(u,$e.position,ne),-1!=$e.position&&(ne-=$e.position-S,ge.push({position:$e.position,value:$e.value}))}while(-1!=$e.position);return ge}findPairedPatterns(u,g,A,j){const ne=[];if(u.isEqual(g))return ne;const{start:ge,length:$e}=this.prepareFindParameters(A,j);let S=0;const B=this.findAllPatternIn(u,ge,$e);if(!Array.isArray(B)||0==B.length)return ne;const O=this.findAllPatternIn(g,ge,$e);if(!Array.isArray(O)||0==O.length)return ne;for(;S<B.length&&0!=O.length;)if(B[0]!=O[0]){if(B[S]>O[0])break;for(;B[S]<O[0]&&(S++,!(S>=B.length)););ne.push({left:B[S-1],right:O[0]}),B.splice(S-1,1),O.splice(0,1),S=0}else ne.push({left:B[0],right:O[0]}),B.splice(0,1),O.splice(0,1);return ne.sort((X,pe)=>X.left-pe.left),ne}findPairedArrays(u,g,A,j){const{start:ne,length:ge}=this.prepareFindParameters(A,j),$e=[];let S=0;const B=this.findAllIn(u,ne,ge);if(0==B.length)return $e;const O=this.findAllIn(g,ne,ge);if(0==O.length)return $e;for(;S<B.length&&0!=O.length;)if(B[0].position!=O[0].position){if(B[S].position>O[0].position)break;for(;B[S].position<O[0].position&&(S++,!(S>=B.length)););$e.push({left:B[S-1],right:O[0]}),B.splice(S-1,1),O.splice(0,1),S=0}else $e.push({left:B[0],right:O[0]}),B.splice(0,1),O.splice(0,1);return $e.sort((X,pe)=>X.left.position-pe.left.position),$e}replacePattern(u,g,A,j,ne=null){let $e,ge=[];const S={status:-1,searchPatternPositions:[],replacePatternPositions:[]},{start:B,length:O}=this.prepareFindParameters(A,j);if(null==ne){if(ge=this.findAllIn([u],B,O),0==ge.length)return S}else ge=ne;S.searchPatternPositions.push(...Array.from(ge,yt=>yt.position));const X=u.length-g.length,pe=new ArrayBuffer(this.view.length-ge.length*X),Ve=new Uint8Array(pe);for(Ve.set(new Uint8Array(this.buffer,0,B)),$e=0;$e<ge.length;$e++){const yt=0==$e?B:ge[$e-1].position;Ve.set(new Uint8Array(this.buffer,yt,ge[$e].position-u.length-yt),yt-$e*X),Ve.set(g.view,ge[$e].position-u.length-$e*X),S.replacePatternPositions.push(ge[$e].position-u.length-$e*X)}return $e--,Ve.set(new Uint8Array(this.buffer,ge[$e].position,this.length-ge[$e].position),ge[$e].position-u.length+g.length-$e*X),this.buffer=pe,this.view=new Uint8Array(this.buffer),S.status=1,S}skipPatterns(u,g,A,j){const{start:ne,length:ge,backward:$e}=this.prepareFindParameters(g,A,j);let S=ne;for(let B=0;B<u.length;B++){const O=u[B].length,X=$e?S-O:S;let pe=!0;for(let Ve=0;Ve<O;Ve++)if(this.view[Ve+X]!=u[B].view[Ve]){pe=!1;break}if(pe)if(B=-1,$e){if(S-=O,S<=0)return S}else if(S+=O,S>=ne+ge)return S}return S}skipNotPatterns(u,g,A,j){const{start:ne,length:ge,backward:$e}=this.prepareFindParameters(g,A,j);let S=-1;for(let B=0;B<ge;B++){for(let O=0;O<u.length;O++){const X=u[O].length,pe=$e?ne-B-X:ne+B;let Ve=!0;for(let yt=0;yt<X;yt++)if(this.view[yt+pe]!=u[O].view[yt]){Ve=!1;break}if(Ve){S=$e?ne-B:ne+B;break}}if(-1!=S)break}return S}prepareFindParameters(u=null,g=null,A=!1){return null===u&&(u=A?this.length:0),u>this.length&&(u=this.length),A?(null===g&&(g=u),g>u&&(g=u)):(null===g&&(g=this.length-u),g>this.length-u&&(g=this.length-u)),{start:u,length:g,backward:A}}}let De=(()=>{class Pe{constructor(g={}){this._stream=new Zn,this._length=0,this._start=0,this.backward=!1,this.appendBlock=0,this.prevLength=0,this.prevStart=0,this.stream="view"in g?new Zn({view:g.view}):"buffer"in g?new Zn({buffer:g.buffer}):"string"in g?new Zn({string:g.string}):"hexstring"in g?new Zn({hexstring:g.hexstring}):"stream"in g?g.stream.slice():new Zn,"backward"in g&&g.backward&&(this.backward=g.backward,this._start=this.stream.length),"length"in g&&g.length>0&&(this._length=g.length),"start"in g&&g.start&&g.start>0&&(this._start=g.start),"appendBlock"in g&&g.appendBlock&&g.appendBlock>0&&(this.appendBlock=g.appendBlock)}set stream(g){this._stream=g,this.prevLength=this._length,this._length=g.length,this.prevStart=this._start,this._start=0}get stream(){return this._stream}set length(g){this.prevLength=this._length,this._length=g}get length(){return this.appendBlock?this.start:this._length}set start(g){g>this.stream.length||(this.prevStart=this._start,this.prevLength=this._length,this._length-=this.backward?this._start-g:g-this._start,this._start=g)}get start(){return this._start}get buffer(){return this._stream.buffer.slice(0,this._length)}resetPosition(){this._start=this.prevStart,this._length=this.prevLength}findPattern(g,A=null){(null==A||A>this.length)&&(A=this.length);const j=this.stream.findPattern(g,this.start,this.length,this.backward);if(-1==j)return j;if(this.backward){if(j<this.start-g.length-A)return-1}else if(j>this.start+g.length+A)return-1;return this.start=j,j}findFirstIn(g,A=null){(null==A||A>this.length)&&(A=this.length);const j=this.stream.findFirstIn(g,this.start,this.length,this.backward);if(-1==j.id)return j;if(this.backward){if(j.position<this.start-g[j.id].length-A)return{id:-1,position:this.backward?0:this.start+this.length}}else if(j.position>this.start+g[j.id].length+A)return{id:-1,position:this.backward?0:this.start+this.length};return this.start=j.position,j}findAllIn(g){return this.stream.findAllIn(g,this.backward?this.start-this.length:this.start,this.length)}findFirstNotIn(g,A=null){(null==A||A>this._length)&&(A=this._length);const j=this._stream.findFirstNotIn(g,this._start,this._length,this.backward);if(-1==j.left.id&&-1==j.right.id)return j;if(this.backward){if(-1!=j.right.id&&j.right.position<this._start-g[j.right.id].length-A)return{left:{id:-1,position:this._start},right:{id:-1,position:0},value:new Zn}}else if(-1!=j.left.id&&j.left.position>this._start+g[j.left.id].length+A)return{left:{id:-1,position:this._start},right:{id:-1,position:0},value:new Zn};return this.start=this.backward?-1==j.left.id?0:j.left.position:-1==j.right.id?this._start+this._length:j.right.position,j}findAllNotIn(g){return this._stream.findAllNotIn(g,this.backward?this._start-this._length:this._start,this._length)}findFirstSequence(g,A=null,j=null){(null==A||A>this._length)&&(A=this._length),(null==j||j>A)&&(j=A);const ne=this._stream.findFirstSequence(g,this._start,A,this.backward);if(0==ne.value.length)return ne;if(this.backward){if(ne.position<this._start-ne.value.length-j)return{position:-1,value:new Zn}}else if(ne.position>this._start+ne.value.length+j)return{position:-1,value:new Zn};return this.start=ne.position,ne}findAllSequences(g){return this.stream.findAllSequences(g,this.backward?this.start-this.length:this.start,this.length)}findPairedPatterns(g,A,j=null){(null==j||j>this.length)&&(j=this.length);const ge=this.stream.findPairedPatterns(g,A,this.backward?this.start-this.length:this.start,this.length);if(ge.length)if(this.backward){if(ge[0].right<this.start-A.length-j)return[]}else if(ge[0].left>this.start+g.length+j)return[];return ge}findPairedArrays(g,A,j=null){(null==j||j>this.length)&&(j=this.length);const ge=this.stream.findPairedArrays(g,A,this.backward?this.start-this.length:this.start,this.length);if(ge.length)if(this.backward){if(ge[0].right.position<this.start-A[ge[0].right.id].length-j)return[]}else if(ge[0].left.position>this.start+g[ge[0].left.id].length+j)return[];return ge}replacePattern(g,A){return this.stream.replacePattern(g,A,this.backward?this.start-this.length:this.start,this.length)}skipPatterns(g){const A=this.stream.skipPatterns(g,this.start,this.length,this.backward);return this.start=A,A}skipNotPatterns(g){const A=this.stream.skipNotPatterns(g,this.start,this.length,this.backward);return-1==A?-1:(this.start=A,A)}append(g){this.beforeAppend(g.length),this._stream.view.set(g.view,this._start),this._length+=2*g.length,this.start=this._start+g.length,this.prevLength-=2*g.length}appendView(g){this.beforeAppend(g.length),this._stream.view.set(g,this._start),this._length+=2*g.length,this.start=this._start+g.length,this.prevLength-=2*g.length}appendChar(g){this.beforeAppend(1),this._stream.view[this._start]=g,this._length+=2,this.start=this._start+1,this.prevLength-=2}appendUint16(g){this.beforeAppend(2);const A=new Uint16Array([g]),j=new Uint8Array(A.buffer);this.stream.view[this._start]=j[1],this._stream.view[this._start+1]=j[0],this._length+=4,this.start=this._start+2,this.prevLength-=4}appendUint24(g){this.beforeAppend(3);const A=new Uint32Array([g]),j=new Uint8Array(A.buffer);this._stream.view[this._start]=j[2],this._stream.view[this._start+1]=j[1],this._stream.view[this._start+2]=j[0],this._length+=6,this.start=this._start+3,this.prevLength-=6}appendUint32(g){this.beforeAppend(4);const A=new Uint32Array([g]),j=new Uint8Array(A.buffer);this._stream.view[this._start]=j[3],this._stream.view[this._start+1]=j[2],this._stream.view[this._start+2]=j[1],this._stream.view[this._start+3]=j[0],this._length+=8,this.start=this._start+4,this.prevLength-=8}appendInt16(g){this.beforeAppend(2);const A=new Int16Array([g]),j=new Uint8Array(A.buffer);this._stream.view[this._start]=j[1],this._stream.view[this._start+1]=j[0],this._length+=4,this.start=this._start+2,this.prevLength-=4}appendInt32(g){this.beforeAppend(4);const A=new Int32Array([g]),j=new Uint8Array(A.buffer);this._stream.view[this._start]=j[3],this._stream.view[this._start+1]=j[2],this._stream.view[this._start+2]=j[1],this._stream.view[this._start+3]=j[0],this._length+=8,this.start=this._start+4,this.prevLength-=8}getBlock(g,A=!0){if(this._length<=0)return new Uint8Array(0);let j;if(this._length<g&&(g=this._length),this.backward){const ne=this._stream.view.subarray(this._length-g,this._length);j=new Uint8Array(g);for(let ge=0;ge<g;ge++)j[g-1-ge]=ne[ge]}else j=this._stream.view.subarray(this._start,this._start+g);return A&&(this.start+=this.backward?-1*g:g),j}getUint16(g=!0){const A=this.getBlock(2,g);if(A.length<2)return 0;const j=new Uint16Array(1),ne=new Uint8Array(j.buffer);return ne[0]=A[1],ne[1]=A[0],j[0]}getInt16(g=!0){const A=this.getBlock(2,g);if(A.length<2)return 0;const j=new Int16Array(1),ne=new Uint8Array(j.buffer);return ne[0]=A[1],ne[1]=A[0],j[0]}getUint24(g=!0){const A=this.getBlock(3,g);if(A.length<3)return 0;const j=new Uint32Array(1),ne=new Uint8Array(j.buffer);for(let ge=3;ge>=1;ge--)ne[3-ge]=A[ge-1];return j[0]}getUint32(g=!0){const A=this.getBlock(4,g);if(A.length<4)return 0;const j=new Uint32Array(1),ne=new Uint8Array(j.buffer);for(let ge=3;ge>=0;ge--)ne[3-ge]=A[ge];return j[0]}getInt32(g=!0){const A=this.getBlock(4,g);if(A.length<4)return 0;const j=new Int32Array(1),ne=new Uint8Array(j.buffer);for(let ge=3;ge>=0;ge--)ne[3-ge]=A[ge];return j[0]}beforeAppend(g){this._start+g>this._stream.length&&(g>this.appendBlock&&(this.appendBlock=g+Pe.APPEND_BLOCK),this._stream.realloc(this._stream.length+this.appendBlock))}}return Pe.APPEND_BLOCK=1e3,Pe})();class Xe{constructor(u={}){this.version=w(u,"version",Xe.defaultValues("version")),this.logID=w(u,"logID",Xe.defaultValues("logID")),this.timestamp=w(u,"timestamp",Xe.defaultValues("timestamp")),this.extensions=w(u,"extensions",Xe.defaultValues("extensions")),this.hashAlgorithm=w(u,"hashAlgorithm",Xe.defaultValues("hashAlgorithm")),this.signatureAlgorithm=w(u,"signatureAlgorithm",Xe.defaultValues("signatureAlgorithm")),this.signature=w(u,"signature",Xe.defaultValues("signature")),"schema"in u&&this.fromSchema(u.schema),"stream"in u&&this.fromStream(u.stream)}static defaultValues(u){switch(u){case"version":return 0;case"logID":case"extensions":return new ArrayBuffer(0);case"timestamp":return new Date(0);case"hashAlgorithm":case"signatureAlgorithm":return"";case"signature":return new br;default:throw new Error(`Invalid member name for SignedCertificateTimestamp class: ${u}`)}}fromSchema(u){if(!(u instanceof qs))throw new Error("Object's schema was not verified against input data for SignedCertificateTimestamp");const g=new De({stream:new Zn({buffer:u.data})});this.fromStream(g)}fromStream(u){const g=u.getUint16();if(this.version=u.getBlock(1)[0],0===this.version){this.logID=new Uint8Array(u.getBlock(32)).buffer.slice(0),this.timestamp=new Date(h(new Uint8Array(u.getBlock(8)),8));const A=u.getUint16();switch(this.extensions=new Uint8Array(u.getBlock(A)).buffer.slice(0),u.getBlock(1)[0]){case 0:this.hashAlgorithm="none";break;case 1:this.hashAlgorithm="md5";break;case 2:this.hashAlgorithm="sha1";break;case 3:this.hashAlgorithm="sha224";break;case 4:this.hashAlgorithm="sha256";break;case 5:this.hashAlgorithm="sha384";break;case 6:this.hashAlgorithm="sha512";break;default:throw new Error("Object's stream was not correct for SignedCertificateTimestamp")}switch(u.getBlock(1)[0]){case 0:this.signatureAlgorithm="anonymous";break;case 1:this.signatureAlgorithm="rsa";break;case 2:this.signatureAlgorithm="dsa";break;case 3:this.signatureAlgorithm="ecdsa";break;default:throw new Error("Object's stream was not correct for SignedCertificateTimestamp")}const j=u.getUint16(),ge=Ot(new Uint8Array(u.getBlock(j)).buffer.slice(0));if(-1===ge.offset)throw new Error("Object's stream was not correct for SignedCertificateTimestamp");if(this.signature=ge.result,g!==47+A+j)throw new Error("Object's stream was not correct for SignedCertificateTimestamp")}}toSchema(){const u=this.toStream();return new qs({data:u.stream.buffer})}toStream(){const u=new De;u.appendUint16(47+this.extensions.byteLength+this.signature.valueBeforeDecode.byteLength),u.appendChar(this.version),u.appendView(new Uint8Array(this.logID));const g=new ArrayBuffer(8),A=new Uint8Array(g),j=f(this.timestamp.valueOf(),8);let ne,ge;switch(A.set(new Uint8Array(j),8-j.byteLength),u.appendView(A),u.appendUint16(this.extensions.byteLength),this.extensions.byteLength&&u.appendView(new Uint8Array(this.extensions)),this.hashAlgorithm.toLowerCase()){case"none":ne=0;break;case"md5":ne=1;break;case"sha1":ne=2;break;case"sha224":ne=3;break;case"sha256":ne=4;break;case"sha384":ne=5;break;case"sha512":ne=6;break;default:throw new Error(`Incorrect data for hashAlgorithm: ${this.hashAlgorithm}`)}switch(u.appendChar(ne),this.signatureAlgorithm.toLowerCase()){case"anonymous":ge=0;break;case"rsa":ge=1;break;case"dsa":ge=2;break;case"ecdsa":ge=3;break;default:throw new Error(`Incorrect data for signatureAlgorithm: ${this.signatureAlgorithm}`)}u.appendChar(ge);const $e=this.signature.toBER(!1);return u.appendUint16($e.byteLength),u.appendView(new Uint8Array($e)),u}toJSON(){return{version:this.version,logID:I(this.logID),timestamp:this.timestamp,extensions:I(this.extensions),hashAlgorithm:this.hashAlgorithm,signatureAlgorithm:this.signatureAlgorithm,signature:this.signature.toJSON()}}verify(u,g,A=0){var j=this;return(0,i.A)(function*(){let $e,ne=x(Q(j.logID)),ge=null,S=new De;for(const Ve of u)if(Ve.log_id===ne){ge=Ve.key;break}if(null===ge)throw new Error(`Public key not found for CT with logId: ${ne}`);const B=Ot(Y(V(ge)));if(-1===B.offset)throw new Error(`Incorrect key value for CT Log with logId: ${ne}`);$e=new Dr({schema:B.result}),S.appendChar(0),S.appendChar(0);const O=new ArrayBuffer(8),X=new Uint8Array(O),pe=f(j.timestamp.valueOf(),8);return X.set(new Uint8Array(pe),8-pe.byteLength),S.appendView(X),S.appendUint16(A),0===A&&S.appendUint24(g.byteLength),S.appendView(new Uint8Array(g)),S.appendUint16(j.extensions.byteLength),0!==j.extensions.byteLength&&S.appendView(new Uint8Array(j.extensions)),ls().subtle.verifyWithPublicKey(S._stream._buffer.slice(0,S._length),{valueBlock:{valueHex:j.signature.toBER(!1)}},$e,{algorithmId:""},"SHA-256")})()}}class bt{constructor(u={}){this.timestamps=w(u,"timestamps",bt.defaultValues("timestamps")),"schema"in u&&this.fromSchema(u.schema)}static defaultValues(u){if("timestamps"===u)return[];throw new Error(`Invalid member name for SignedCertificateTimestampList class: ${u}`)}static compareWithDefault(u,g){if("timestamps"===u)return 0===g.length;throw new Error(`Invalid member name for SignedCertificateTimestampList class: ${u}`)}static schema(u={}){const g=w(u,"names",{});return"optional"in g||(g.optional=!1),new Pn({name:g.blockName||"SignedCertificateTimestampList",optional:g.optional})}fromSchema(u){if(!(u instanceof Pn))throw new Error("Object's schema was not verified against input data for SignedCertificateTimestampList");const g=new De({stream:new Zn({buffer:u.valueBlock.valueHex})});if(g.getUint16()!==g.length)throw new Error("Object's schema was not verified against input data for SignedCertificateTimestampList");for(;g.length;)this.timestamps.push(new Xe({stream:g}))}toSchema(){const u=new De;let g=0;const A=[];for(const j of this.timestamps){const ne=j.toStream();A.push(ne),g+=ne.stream.buffer.byteLength}u.appendUint16(g);for(const j of A)u.appendView(j.stream.view);return new Pn({valueHex:u.stream.buffer.slice(0)})}toJSON(){return{timestamps:Array.from(this.timestamps,u=>u.toJSON())}}}class Ct{constructor(u={}){this.templateID=w(u,"templateID",Ct.defaultValues("templateID")),"templateMajorVersion"in u&&(this.templateMajorVersion=w(u,"templateMajorVersion",Ct.defaultValues("templateMajorVersion"))),"templateMinorVersion"in u&&(this.templateMinorVersion=w(u,"templateMinorVersion",Ct.defaultValues("templateMinorVersion"))),"schema"in u&&this.fromSchema(u.schema)}static defaultValues(u){switch(u){case"templateID":return"";case"templateMajorVersion":case"templateMinorVersion":return 0;default:throw new Error(`Invalid member name for CertificateTemplate class: ${u}`)}}static schema(u={}){const g=w(u,"names",{});return new pn({name:g.blockName||"",value:[new Vt({name:g.templateID||""}),new un({name:g.templateMajorVersion||"",optional:!0}),new un({name:g.templateMinorVersion||"",optional:!0})]})}fromSchema(u){K(u,["templateID","templateMajorVersion","templateMinorVersion"]);let g=si(u,u,Ct.schema({names:{templateID:"templateID",templateMajorVersion:"templateMajorVersion",templateMinorVersion:"templateMinorVersion"}}));if(!1===g.verified)throw new Error("Object's schema was not verified against input data for CertificateTemplate");this.templateID=g.result.templateID.valueBlock.toString(),"templateMajorVersion"in g.result&&(this.templateMajorVersion=g.result.templateMajorVersion.valueBlock.valueDec),"templateMinorVersion"in g.result&&(this.templateMinorVersion=g.result.templateMinorVersion.valueBlock.valueDec)}toSchema(){const u=[];return u.push(new Vt({value:this.templateID})),"templateMajorVersion"in this&&u.push(new un({value:this.templateMajorVersion})),"templateMinorVersion"in this&&u.push(new un({value:this.templateMinorVersion})),new pn({value:u})}toJSON(){const u={extnID:this.templateID};return"templateMajorVersion"in this&&(u.templateMajorVersion=this.templateMajorVersion),"templateMinorVersion"in this&&(u.templateMinorVersion=this.templateMinorVersion),u}}class Jt{constructor(u={}){this.certificateIndex=w(u,"certificateIndex",Jt.defaultValues("certificateIndex")),this.keyIndex=w(u,"keyIndex",Jt.defaultValues("keyIndex")),"schema"in u&&this.fromSchema(u.schema)}static defaultValues(u){switch(u){case"certificateIndex":case"keyIndex":return 0;default:throw new Error(`Invalid member name for CAVersion class: ${u}`)}}static schema(u={}){return new un}fromSchema(u){if(u.constructor.blockName()!==un.blockName())throw new Error("Object's schema was not verified against input data for CAVersion");let g=u.valueBlock.valueHex.slice(0);const A=new Uint8Array(g);switch(!0){case g.byteLength<4:{const X=new ArrayBuffer(4);new Uint8Array(X).set(A,4-g.byteLength),g=X.slice(0)}break;case g.byteLength>4:{const X=new ArrayBuffer(4);new Uint8Array(X).set(A.slice(0,4)),g=X.slice(0)}}const j=g.slice(0,2),ne=new Uint8Array(j);let ge=ne[0];ne[0]=ne[1],ne[1]=ge;const $e=new Uint16Array(j);this.keyIndex=$e[0];const S=g.slice(2),B=new Uint8Array(S);ge=B[0],B[0]=B[1],B[1]=ge;const O=new Uint16Array(S);this.certificateIndex=O[0]}toSchema(){const u=new ArrayBuffer(2);new Uint16Array(u)[0]=this.certificateIndex;const A=new Uint8Array(u);let j=A[0];A[0]=A[1],A[1]=j;const ne=new ArrayBuffer(2);new Uint16Array(ne)[0]=this.keyIndex;const $e=new Uint8Array(ne);return j=$e[0],$e[0]=$e[1],$e[1]=j,new un({valueHex:E(ne,u)})}toJSON(){return{certificateIndex:this.certificateIndex,keyIndex:this.keyIndex}}}class Rn{constructor(u={}){this.id=w(u,"id",Rn.defaultValues("id")),"type"in u&&(this.type=w(u,"type",Rn.defaultValues("type"))),"schema"in u&&this.fromSchema(u.schema)}static defaultValues(u){switch(u){case"id":return"";case"type":return new Ft;default:throw new Error(`Invalid member name for QCStatement class: ${u}`)}}static compareWithDefault(u,g){switch(u){case"id":return""===g;case"type":return g instanceof Ft;default:throw new Error(`Invalid member name for QCStatement class: ${u}`)}}static schema(u={}){const g=w(u,"names",{});return new pn({name:g.blockName||"",value:[new Vt({name:g.id||""}),new br({name:g.type||"",optional:!0})]})}fromSchema(u){K(u,["id","type"]);const g=si(u,u,Rn.schema({names:{id:"id",type:"type"}}));if(!1===g.verified)throw new Error("Object's schema was not verified against input data for QCStatement");this.id=g.result.id.valueBlock.toString(),"type"in g.result&&(this.type=g.result.type)}toSchema(){const u=[new Vt({value:this.id})];return"type"in this&&u.push(this.type),new pn({value:u})}toJSON(){const u={id:this.id};return"type"in this&&(u.type=this.type.toJSON()),u}}class yi{constructor(u={}){this.values=w(u,"values",yi.defaultValues("values")),"schema"in u&&this.fromSchema(u.schema)}static defaultValues(u){if("values"===u)return[];throw new Error(`Invalid member name for QCStatements class: ${u}`)}static compareWithDefault(u,g){if("values"===u)return 0===g.length;throw new Error(`Invalid member name for QCStatements class: ${u}`)}static schema(u={}){const g=w(u,"names",{});return new pn({name:g.blockName||"",value:[new Ni({name:g.values||"",value:Rn.schema(g.value||{})})]})}fromSchema(u){K(u,["values"]);const g=si(u,u,yi.schema({names:{values:"values"}}));if(!1===g.verified)throw new Error("Object's schema was not verified against input data for QCStatements");this.values=Array.from(g.result.values,A=>new Rn({schema:A}))}toSchema(){return new pn({value:Array.from(this.values,u=>u.toSchema())})}toJSON(){return{extensions:Array.from(this.values,u=>u.toJSON())}}}class xn{constructor(u={}){this.extnID=w(u,"extnID",xn.defaultValues("extnID")),this.critical=w(u,"critical",xn.defaultValues("critical")),this.extnValue="extnValue"in u?new Pn({valueHex:u.extnValue}):xn.defaultValues("extnValue"),"parsedValue"in u&&(this.parsedValue=w(u,"parsedValue",xn.defaultValues("parsedValue"))),"schema"in u&&this.fromSchema(u.schema)}static defaultValues(u){switch(u){case"extnID":return"";case"critical":return!1;case"extnValue":return new Pn;case"parsedValue":return{};default:throw new Error(`Invalid member name for Extension class: ${u}`)}}static schema(u={}){const g=w(u,"names",{});return new pn({name:g.blockName||"",value:[new Vt({name:g.extnID||""}),new In({name:g.critical||"",optional:!0}),new Pn({name:g.extnValue||""})]})}fromSchema(u){K(u,["extnID","critical","extnValue"]);let g=si(u,u,xn.schema({names:{extnID:"extnID",critical:"critical",extnValue:"extnValue"}}));if(!1===g.verified)throw new Error("Object's schema was not verified against input data for Extension");if(this.extnID=g.result.extnID.valueBlock.toString(),"critical"in g.result&&(this.critical=g.result.critical.valueBlock.value),this.extnValue=g.result.extnValue,g=Ot(this.extnValue.valueBlock.valueHex),-1!==g.offset)switch(this.extnID){case"2.5.29.9":try{this.parsedValue=new Br({schema:g.result})}catch{this.parsedValue=new Br,this.parsedValue.parsingError="Incorrectly formated SubjectDirectoryAttributes"}break;case"2.5.29.14":case"2.5.29.15":case"2.5.29.20":case"2.5.29.27":case"2.5.29.21":case"2.5.29.24":case"2.5.29.54":case"1.3.6.1.4.1.311.20.2":case"1.3.6.1.4.1.311.21.2":this.parsedValue=g.result;break;case"2.5.29.16":try{this.parsedValue=new us({schema:g.result})}catch{this.parsedValue=new us,this.parsedValue.parsingError="Incorrectly formated PrivateKeyUsagePeriod"}break;case"2.5.29.17":case"2.5.29.18":try{this.parsedValue=new Qr({schema:g.result})}catch{this.parsedValue=new Qr,this.parsedValue.parsingError="Incorrectly formated AltName"}break;case"2.5.29.19":try{this.parsedValue=new zs({schema:g.result})}catch{this.parsedValue=new zs,this.parsedValue.parsingError="Incorrectly formated BasicConstraints"}break;case"2.5.29.28":try{this.parsedValue=new yr({schema:g.result})}catch{this.parsedValue=new yr,this.parsedValue.parsingError="Incorrectly formated IssuingDistributionPoint"}break;case"2.5.29.29":try{this.parsedValue=new Ks({schema:g.result})}catch{this.parsedValue=new Ks,this.parsedValue.parsingError="Incorrectly formated GeneralNames"}break;case"2.5.29.30":try{this.parsedValue=new Wr({schema:g.result})}catch{this.parsedValue=new Wr,this.parsedValue.parsingError="Incorrectly formated NameConstraints"}break;case"2.5.29.31":case"2.5.29.46":try{this.parsedValue=new fn({schema:g.result})}catch{this.parsedValue=new fn,this.parsedValue.parsingError="Incorrectly formated CRLDistributionPoints"}break;case"2.5.29.32":case"1.3.6.1.4.1.311.21.10":try{this.parsedValue=new Be({schema:g.result})}catch{this.parsedValue=new Be,this.parsedValue.parsingError="Incorrectly formated CertificatePolicies"}break;case"2.5.29.33":try{this.parsedValue=new Ze({schema:g.result})}catch{this.parsedValue=new Ze,this.parsedValue.parsingError="Incorrectly formated CertificatePolicies"}break;case"2.5.29.35":try{this.parsedValue=new Pt({schema:g.result})}catch{this.parsedValue=new Pt,this.parsedValue.parsingError="Incorrectly formated AuthorityKeyIdentifier"}break;case"2.5.29.36":try{this.parsedValue=new Hn({schema:g.result})}catch{this.parsedValue=new Hn,this.parsedValue.parsingError="Incorrectly formated PolicyConstraints"}break;case"2.5.29.37":try{this.parsedValue=new Ti({schema:g.result})}catch{this.parsedValue=new Ti,this.parsedValue.parsingError="Incorrectly formated ExtKeyUsage"}break;case"1.3.6.1.5.5.7.1.1":case"1.3.6.1.5.5.7.1.11":try{this.parsedValue=new ws({schema:g.result})}catch{this.parsedValue=new ws,this.parsedValue.parsingError="Incorrectly formated InfoAccess"}break;case"1.3.6.1.4.1.11129.2.4.2":try{this.parsedValue=new bt({schema:g.result})}catch{this.parsedValue=new bt,this.parsedValue.parsingError="Incorrectly formated SignedCertificateTimestampList"}break;case"1.3.6.1.4.1.311.21.7":try{this.parsedValue=new Ct({schema:g.result})}catch{this.parsedValue=new Ct,this.parsedValue.parsingError="Incorrectly formated CertificateTemplate"}break;case"1.3.6.1.4.1.311.21.1":try{this.parsedValue=new Jt({schema:g.result})}catch{this.parsedValue=new Jt,this.parsedValue.parsingError="Incorrectly formated CAVersion"}break;case"1.3.6.1.5.5.7.1.3":try{this.parsedValue=new yi({schema:g.result})}catch{this.parsedValue=new yi,this.parsedValue.parsingError="Incorrectly formated QCStatements"}}}toSchema(){const u=[];return u.push(new Vt({value:this.extnID})),this.critical!==xn.defaultValues("critical")&&u.push(new In({value:this.critical})),u.push(this.extnValue),new pn({value:u})}toJSON(){const u={extnID:this.extnID,extnValue:this.extnValue.toJSON()};return this.critical!==xn.defaultValues("critical")&&(u.critical=this.critical),"parsedValue"in this&&"toJSON"in this.parsedValue&&(u.parsedValue=this.parsedValue.toJSON()),u}}class dr{constructor(u={}){this.extensions=w(u,"extensions",dr.defaultValues("extensions")),"schema"in u&&this.fromSchema(u.schema)}static defaultValues(u){if("extensions"===u)return[];throw new Error(`Invalid member name for Extensions class: ${u}`)}static schema(u={},g=!1){const A=w(u,"names",{});return new pn({optional:g,name:A.blockName||"",value:[new Ni({name:A.extensions||"",value:xn.schema(A.extension||{})})]})}fromSchema(u){K(u,["extensions"]);const g=si(u,u,dr.schema({names:{extensions:"extensions"}}));if(!1===g.verified)throw new Error("Object's schema was not verified against input data for Extensions");this.extensions=Array.from(g.result.extensions,A=>new xn({schema:A}))}toSchema(){return new pn({value:Array.from(this.extensions,u=>u.toSchema())})}toJSON(){return{extensions:Array.from(this.extensions,u=>u.toJSON())}}}function zr(Pe={}){const u=w(Pe,"names",{});return new pn({name:u.blockName||"tbsCertificate",value:[new H({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new un({name:u.tbsCertificateVersion||"tbsCertificate.version"})]}),new un({name:u.tbsCertificateSerialNumber||"tbsCertificate.serialNumber"}),Vn.schema(u.signature||{names:{blockName:"tbsCertificate.signature"}}),Pr.schema(u.issuer||{names:{blockName:"tbsCertificate.issuer"}}),new pn({name:u.tbsCertificateValidity||"tbsCertificate.validity",value:[sr.schema(u.notBefore||{names:{utcTimeName:"tbsCertificate.notBefore",generalTimeName:"tbsCertificate.notBefore"}}),sr.schema(u.notAfter||{names:{utcTimeName:"tbsCertificate.notAfter",generalTimeName:"tbsCertificate.notAfter"}})]}),Pr.schema(u.subject||{names:{blockName:"tbsCertificate.subject"}}),Dr.schema(u.subjectPublicKeyInfo||{names:{blockName:"tbsCertificate.subjectPublicKeyInfo"}}),new tt({name:u.tbsCertificateIssuerUniqueID||"tbsCertificate.issuerUniqueID",optional:!0,idBlock:{tagClass:3,tagNumber:1}}),new tt({name:u.tbsCertificateSubjectUniqueID||"tbsCertificate.subjectUniqueID",optional:!0,idBlock:{tagClass:3,tagNumber:2}}),new H({optional:!0,idBlock:{tagClass:3,tagNumber:3},value:[dr.schema(u.extensions||{names:{blockName:"tbsCertificate.extensions"}})]})]})}class li{constructor(u={}){this.tbs=w(u,"tbs",li.defaultValues("tbs")),this.version=w(u,"version",li.defaultValues("version")),this.serialNumber=w(u,"serialNumber",li.defaultValues("serialNumber")),this.signature=w(u,"signature",li.defaultValues("signature")),this.issuer=w(u,"issuer",li.defaultValues("issuer")),this.notBefore=w(u,"notBefore",li.defaultValues("notBefore")),this.notAfter=w(u,"notAfter",li.defaultValues("notAfter")),this.subject=w(u,"subject",li.defaultValues("subject")),this.subjectPublicKeyInfo=w(u,"subjectPublicKeyInfo",li.defaultValues("subjectPublicKeyInfo")),"issuerUniqueID"in u&&(this.issuerUniqueID=w(u,"issuerUniqueID",li.defaultValues("issuerUniqueID"))),"subjectUniqueID"in u&&(this.subjectUniqueID=w(u,"subjectUniqueID",li.defaultValues("subjectUniqueID"))),"extensions"in u&&(this.extensions=w(u,"extensions",li.defaultValues("extensions"))),this.signatureAlgorithm=w(u,"signatureAlgorithm",li.defaultValues("signatureAlgorithm")),this.signatureValue=w(u,"signatureValue",li.defaultValues("signatureValue")),"schema"in u&&this.fromSchema(u.schema)}static defaultValues(u){switch(u){case"tbs":case"issuerUniqueID":case"subjectUniqueID":return new ArrayBuffer(0);case"version":return 0;case"serialNumber":return new un;case"signature":case"signatureAlgorithm":return new Vn;case"issuer":case"subject":return new Pr;case"notBefore":case"notAfter":return new sr;case"subjectPublicKeyInfo":return new Dr;case"extensions":return[];case"signatureValue":return new Rt;default:throw new Error(`Invalid member name for Certificate class: ${u}`)}}static schema(u={}){const g=w(u,"names",{});return new pn({name:g.blockName||"",value:[zr(g.tbsCertificate),Vn.schema(g.signatureAlgorithm||{names:{blockName:"signatureAlgorithm"}}),new Rt({name:g.signatureValue||"signatureValue"})]})}fromSchema(u){K(u,["tbsCertificate","tbsCertificate.extensions","tbsCertificate.version","tbsCertificate.serialNumber","tbsCertificate.signature","tbsCertificate.issuer","tbsCertificate.notBefore","tbsCertificate.notAfter","tbsCertificate.subject","tbsCertificate.subjectPublicKeyInfo","tbsCertificate.issuerUniqueID","tbsCertificate.subjectUniqueID","signatureAlgorithm","signatureValue"]);const g=si(u,u,li.schema({names:{tbsCertificate:{names:{extensions:{names:{extensions:"tbsCertificate.extensions"}}}}}}));if(!1===g.verified)throw new Error("Object's schema was not verified against input data for Certificate");this.tbs=g.result.tbsCertificate.valueBeforeDecode,"tbsCertificate.version"in g.result&&(this.version=g.result["tbsCertificate.version"].valueBlock.valueDec),this.serialNumber=g.result["tbsCertificate.serialNumber"],this.signature=new Vn({schema:g.result["tbsCertificate.signature"]}),this.issuer=new Pr({schema:g.result["tbsCertificate.issuer"]}),this.notBefore=new sr({schema:g.result["tbsCertificate.notBefore"]}),this.notAfter=new sr({schema:g.result["tbsCertificate.notAfter"]}),this.subject=new Pr({schema:g.result["tbsCertificate.subject"]}),this.subjectPublicKeyInfo=new Dr({schema:g.result["tbsCertificate.subjectPublicKeyInfo"]}),"tbsCertificate.issuerUniqueID"in g.result&&(this.issuerUniqueID=g.result["tbsCertificate.issuerUniqueID"].valueBlock.valueHex),"tbsCertificate.subjectUniqueID"in g.result&&(this.subjectUniqueID=g.result["tbsCertificate.subjectUniqueID"].valueBlock.valueHex),"tbsCertificate.extensions"in g.result&&(this.extensions=Array.from(g.result["tbsCertificate.extensions"],A=>new xn({schema:A}))),this.signatureAlgorithm=new Vn({schema:g.result.signatureAlgorithm}),this.signatureValue=g.result.signatureValue}encodeTBS(){const u=[];return"version"in this&&this.version!==li.defaultValues("version")&&u.push(new H({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new un({value:this.version})]})),u.push(this.serialNumber),u.push(this.signature.toSchema()),u.push(this.issuer.toSchema()),u.push(new pn({value:[this.notBefore.toSchema(),this.notAfter.toSchema()]})),u.push(this.subject.toSchema()),u.push(this.subjectPublicKeyInfo.toSchema()),"issuerUniqueID"in this&&u.push(new tt({optional:!0,idBlock:{tagClass:3,tagNumber:1},valueHex:this.issuerUniqueID})),"subjectUniqueID"in this&&u.push(new tt({optional:!0,idBlock:{tagClass:3,tagNumber:2},valueHex:this.subjectUniqueID})),"extensions"in this&&u.push(new H({optional:!0,idBlock:{tagClass:3,tagNumber:3},value:[new pn({value:Array.from(this.extensions,g=>g.toSchema())})]})),new pn({value:u})}toSchema(u=!1){let g={};if(!1===u){if(0===this.tbs.length)return li.schema().value[0];g=Ot(this.tbs).result}else g=this.encodeTBS();return new pn({value:[g,this.signatureAlgorithm.toSchema(),this.signatureValue]})}toJSON(){const u={tbs:I(this.tbs,0,this.tbs.byteLength),serialNumber:this.serialNumber.toJSON(),signature:this.signature.toJSON(),issuer:this.issuer.toJSON(),notBefore:this.notBefore.toJSON(),notAfter:this.notAfter.toJSON(),subject:this.subject.toJSON(),subjectPublicKeyInfo:this.subjectPublicKeyInfo.toJSON(),signatureAlgorithm:this.signatureAlgorithm.toJSON(),signatureValue:this.signatureValue.toJSON()};return"version"in this&&this.version!==li.defaultValues("version")&&(u.version=this.version),"issuerUniqueID"in this&&(u.issuerUniqueID=I(this.issuerUniqueID,0,this.issuerUniqueID.byteLength)),"subjectUniqueID"in this&&(u.subjectUniqueID=I(this.subjectUniqueID,0,this.subjectUniqueID.byteLength)),"extensions"in this&&(u.extensions=Array.from(this.extensions,g=>g.toJSON())),u}getPublicKey(u=null){return ls().subtle.getPublicKey(this.subjectPublicKeyInfo,this.signatureAlgorithm,u)}getKeyHash(u="SHA-1"){const g=cs();return typeof g>"u"?Promise.reject("Unable to create WebCrypto object"):g.digest({name:u},new Uint8Array(this.subjectPublicKeyInfo.subjectPublicKey.valueBlock.valueHex))}sign(u,g="SHA-1"){if(typeof u>"u")return Promise.reject("Need to provide a private key for signing");let j,A=Promise.resolve();const ne=ls();return A=A.then(()=>ne.subtle.getSignatureParameters(u,g)),A=A.then(ge=>{j=ge.parameters,this.signature=ge.signatureAlgorithm,this.signatureAlgorithm=ge.signatureAlgorithm}),A=A.then(()=>{this.tbs=this.encodeTBS().toBER(!1)}),A=A.then(()=>ne.subtle.signWithPrivateKey(this.tbs,u,j)),A=A.then(ge=>{this.signatureValue=new Rt({valueHex:ge})}),A}verify(u=null){let g={};return null!==u?g=u.subjectPublicKeyInfo:this.issuer.isEqual(this.subject)&&(g=this.subjectPublicKeyInfo),g instanceof Dr?ls().subtle.verifyWithPublicKey(this.tbs,this.signatureValue,g,this.signatureAlgorithm):Promise.reject("Please provide issuer certificate as a parameter")}}function hs(){if(typeof BigInt>"u")throw new Error("BigInt is not defined. Your environment doesn't implement BigInt.")}function $i(Pe){if(Pe.idBlock.isConstructed)for(let u=0;u<Pe.valueBlock.value.length;u++)$i(Pe.valueBlock.value[u])&&(Pe.lenBlock.isIndefiniteForm=!0);return!!Pe.lenBlock.isIndefiniteForm}function Xa(Pe){let u=0,g=0;for(let ne=0;ne<Pe.length;ne++)u+=Pe[ne].byteLength;const A=new ArrayBuffer(u),j=new Uint8Array(A);for(let ne=0;ne<Pe.length;ne++){const ge=Pe[ne];j.set(new Uint8Array(ge),g),g+=ge.byteLength}return A}const Oo=[new Uint8Array([1])],Bi="0123456789",Ri="valueHex",Fo="isHexOnly",Ho="isConstructed",pa="isIndefiniteForm",Lr="optional",Wo="primitiveSchema",ms="value",Ja="valueDate",ka="valueDec",Rr=new ArrayBuffer(0);class vo{constructor(){this.items=[]}write(u){this.items.push(u)}final(){return Xa(this.items)}}class Ns{constructor(u={}){this.blockLength=w(u,"blockLength",0),this.error=w(u,"error",""),this.warnings=w(u,"warnings",[]),this.valueBeforeDecode="valueBeforeDecode"in u?u.valueBeforeDecode.slice(0):Rr}static blockName(){return"baseBlock"}toJSON(){return{blockName:this.constructor.blockName(),blockLength:this.blockLength,error:this.error,warnings:this.warnings,valueBeforeDecode:I(this.valueBeforeDecode,0,this.valueBeforeDecode.byteLength)}}}const eo=Pe=>class extends Pe{constructor(g={}){super(g),this.isHexOnly=w(g,Fo,!1),this.valueHex=Ri in g?g.valueHex.slice(0):Rr}static blockName(){return"hexBlock"}fromBER(g,A,j){return!1===D(this,g,A,j)?-1:0===new Uint8Array(g,A,j).length?(this.warnings.push("Zero buffer length"),A):(this.valueHex=g.slice(A,A+j),this.blockLength=j,A+j)}toBER(g=!1){return!0!==this.isHexOnly?(this.error='Flag "isHexOnly" is not set, abort',Rr):!0===g?new ArrayBuffer(this.valueHex.byteLength):this.valueHex.slice(0)}toJSON(){let g={};try{g=super.toJSON()}catch{}return g.blockName=this.constructor.blockName(),g.isHexOnly=this.isHexOnly,g.valueHex=I(this.valueHex,0,this.valueHex.byteLength),g}};class Ko extends(eo(Ns)){constructor(u={}){super(),"idBlock"in u?(this.isHexOnly=w(u.idBlock,Fo,!1),this.valueHex=w(u.idBlock,Ri,Rr),this.tagClass=w(u.idBlock,"tagClass",-1),this.tagNumber=w(u.idBlock,"tagNumber",-1),this.isConstructed=w(u.idBlock,Ho,!1)):(this.tagClass=-1,this.tagNumber=-1,this.isConstructed=!1)}static blockName(){return"identificationBlock"}toBER(u=!1){let A,j,g=0;switch(this.tagClass){case 1:g|=0;break;case 2:g|=64;break;case 3:g|=128;break;case 4:g|=192;break;default:return this.error="Unknown tag class",Rr}if(this.isConstructed&&(g|=32),this.tagNumber<31&&!this.isHexOnly){if(A=new ArrayBuffer(1),j=new Uint8Array(A),!u){let ne=this.tagNumber;ne&=31,g|=ne,j[0]=g}return A}if(!1===this.isHexOnly){const ne=f(this.tagNumber,7),ge=new Uint8Array(ne),$e=ne.byteLength;if(A=new ArrayBuffer($e+1),j=new Uint8Array(A),j[0]=31|g,!u){for(let S=0;S<$e-1;S++)j[S+1]=128|ge[S];j[$e]=ge[$e-1]}return A}if(A=new ArrayBuffer(this.valueHex.byteLength+1),j=new Uint8Array(A),j[0]=31|g,!1===u){const ne=new Uint8Array(this.valueHex);for(let ge=0;ge<ne.length-1;ge++)j[ge+1]=128|ne[ge];j[this.valueHex.byteLength]=ne[ne.length-1]}return A}fromBER(u,g,A){if(!1===D(this,u,g,A))return-1;const j=new Uint8Array(u,g,A);if(0===j.length)return this.error="Zero buffer length",-1;switch(192&j[0]){case 0:this.tagClass=1;break;case 64:this.tagClass=2;break;case 128:this.tagClass=3;break;case 192:this.tagClass=4;break;default:return this.error="Unknown tag class",-1}this.isConstructed=!(32&~j[0]),this.isHexOnly=!1;const ge=31&j[0];if(31!==ge)this.tagNumber=ge,this.blockLength=1;else{let $e=1;this.valueHex=new ArrayBuffer(255);let S=255,B=new Uint8Array(this.valueHex);for(;128&j[$e];){if(B[$e-1]=127&j[$e],$e++,$e>=j.length)return this.error="End of input reached before message was fully decoded",-1;if($e===S){S+=255;const pe=new ArrayBuffer(S),Ve=new Uint8Array(pe);for(let yt=0;yt<B.length;yt++)Ve[yt]=B[yt];this.valueHex=new ArrayBuffer(S),B=new Uint8Array(this.valueHex)}}this.blockLength=$e+1,B[$e-1]=127&j[$e];const O=new ArrayBuffer($e),X=new Uint8Array(O);for(let pe=0;pe<$e;pe++)X[pe]=B[pe];this.valueHex=new ArrayBuffer($e),B=new Uint8Array(this.valueHex),B.set(X),this.blockLength<=9?this.tagNumber=h(B,7):(this.isHexOnly=!0,this.warnings.push("Tag too long, represented as hex-coded"))}if(1===this.tagClass&&this.isConstructed)switch(this.tagNumber){case 1:case 2:case 5:case 6:case 9:case 13:case 14:case 23:case 24:case 31:case 32:case 33:case 34:return this.error="Constructed encoding used for primitive type",-1}return g+this.blockLength}toJSON(){let u={};try{u=super.toJSON()}catch{}return u.blockName=this.constructor.blockName(),u.tagClass=this.tagClass,u.tagNumber=this.tagNumber,u.isConstructed=this.isConstructed,u}}class So extends Ns{constructor(u={}){super(),"lenBlock"in u?(this.isIndefiniteForm=w(u.lenBlock,pa,!1),this.longFormUsed=w(u.lenBlock,"longFormUsed",!1),this.length=w(u.lenBlock,"length",0)):(this.isIndefiniteForm=!1,this.longFormUsed=!1,this.length=0)}static blockName(){return"lengthBlock"}fromBER(u,g,A){if(!1===D(this,u,g,A))return-1;const j=new Uint8Array(u,g,A);if(0===j.length)return this.error="Zero buffer length",-1;if(255===j[0])return this.error="Length block 0xFF is reserved by standard",-1;if(this.isIndefiniteForm=128===j[0],!0===this.isIndefiniteForm)return this.blockLength=1,g+this.blockLength;if(this.longFormUsed=!!(128&j[0]),!1===this.longFormUsed)return this.length=j[0],this.blockLength=1,g+this.blockLength;const ne=127&j[0];if(ne>8)return this.error="Too big integer",-1;if(ne+1>j.length)return this.error="End of input reached before message was fully decoded",-1;const ge=new Uint8Array(ne);for(let $e=0;$e<ne;$e++)ge[$e]=j[$e+1];return 0===ge[ne-1]&&this.warnings.push("Needlessly long encoded length"),this.length=h(ge,8),this.longFormUsed&&this.length<=127&&this.warnings.push("Unnecessary usage of long length form"),this.blockLength=ne+1,g+this.blockLength}toBER(u=!1){let g,A;if(this.length>127&&(this.longFormUsed=!0),this.isIndefiniteForm)return g=new ArrayBuffer(1),!1===u&&(A=new Uint8Array(g),A[0]=128),g;if(!0===this.longFormUsed){const j=f(this.length,8);if(j.byteLength>127)return this.error="Too big length",Rr;if(g=new ArrayBuffer(j.byteLength+1),!0===u)return g;const ne=new Uint8Array(j);A=new Uint8Array(g),A[0]=128|j.byteLength;for(let ge=0;ge<j.byteLength;ge++)A[ge+1]=ne[ge];return g}return g=new ArrayBuffer(1),!1===u&&(A=new Uint8Array(g),A[0]=this.length),g}toJSON(){let u={};try{u=super.toJSON()}catch{}return u.blockName=this.constructor.blockName(),u.isIndefiniteForm=this.isIndefiniteForm,u.longFormUsed=this.longFormUsed,u.length=this.length,u}}class qr extends Ns{constructor(u={}){super(u)}static blockName(){return"valueBlock"}fromBER(u,g,A){throw TypeError('User need to make a specific function in a class which extends "ValueBlock"')}toBER(u=!1){throw TypeError('User need to make a specific function in a class which extends "ValueBlock"')}}class gs extends Ns{constructor(u={},g=qr){super(u),"name"in u&&(this.name=u.name),Lr in u&&(this.optional=u.optional),Wo in u&&(this.primitiveSchema=u.primitiveSchema),this.idBlock=new Ko(u),this.lenBlock=new So(u),this.valueBlock=new g(u)}static blockName(){return"BaseBlock"}fromBER(u,g,A){const j=this.valueBlock.fromBER(u,g,!0===this.lenBlock.isIndefiniteForm?A:this.lenBlock.length);return-1===j?(this.error=this.valueBlock.error,j):(0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),j)}toBER(u=!1,g){const A=g||new vo;g||$i(this);const j=this.idBlock.toBER(u);if(A.write(j),this.lenBlock.isIndefiniteForm)A.write(new Uint8Array([128]).buffer),this.valueBlock.toBER(u,A),A.write(new ArrayBuffer(2));else{const ne=this.valueBlock.toBER(!0);this.lenBlock.length=ne.byteLength;const ge=this.lenBlock.toBER(u);A.write(ge);const $e=u?new ArrayBuffer(this.lenBlock.length):this.valueBlock.toBER(u);A.write($e,A)}if(!g)return A.final()}toJSON(){let u={};try{u=super.toJSON()}catch{}return u.idBlock=this.idBlock.toJSON(),u.lenBlock=this.lenBlock.toJSON(),u.valueBlock=this.valueBlock.toJSON(),"name"in this&&(u.name=this.name),Lr in this&&(u.optional=this.optional),Wo in this&&(u.primitiveSchema=this.primitiveSchema.toJSON()),u}toString(){return`${this.constructor.blockName()} : ${I(this.valueBlock.valueHex)}`}}class el extends qr{constructor(u={}){super(u),this.valueHex=Ri in u?u.valueHex.slice(0):Rr,this.isHexOnly=w(u,Fo,!0)}fromBER(u,g,A){if(!1===D(this,u,g,A))return-1;const j=new Uint8Array(u,g,A);if(0===j.length)return this.warnings.push("Zero buffer length"),g;this.valueHex=new ArrayBuffer(j.length);const ne=new Uint8Array(this.valueHex);for(let ge=0;ge<j.length;ge++)ne[ge]=j[ge];return this.blockLength=A,g+A}toBER(u=!1){return this.valueHex.slice(0)}static blockName(){return"PrimitiveValueBlock"}toJSON(){let u={};try{u=super.toJSON()}catch{}return u.valueHex=I(this.valueHex,0,this.valueHex.byteLength),u.isHexOnly=this.isHexOnly,u}}class ma extends gs{constructor(u={}){super(u,el),this.idBlock.isConstructed=!1}static blockName(){return"PRIMITIVE"}}class lo extends qr{constructor(u={}){super(u),this.value=w(u,ms,[]),this.isIndefiniteForm=w(u,pa,!1)}fromBER(u,g,A){const j=g,ne=A;if(!1===D(this,u,g,A))return-1;if(0===new Uint8Array(u,g,A).length)return this.warnings.push("Zero buffer length"),g;let S=g;for(;(!0===this.isIndefiniteForm?1:A)>0;){const B=xr(u,S,A);if(-1===B.offset)return this.error=B.result.error,this.warnings.concat(B.result.warnings),-1;if(S=B.offset,this.blockLength+=B.result.blockLength,A-=B.result.blockLength,this.value.push(B.result),!0===this.isIndefiniteForm&&B.result.constructor.blockName()===Es.blockName())break}return!0===this.isIndefiniteForm&&(this.value[this.value.length-1].constructor.blockName()===Es.blockName()?this.value.pop():this.warnings.push("No EndOfContent block encoded")),this.valueBeforeDecode=u.slice(j,j+ne),S}toBER(u=!1,g){const A=g||new vo;for(let j=0;j<this.value.length;j++)this.value[j].toBER(u,A);if(!g)return A.final()}static blockName(){return"ConstructedValueBlock"}toJSON(){let u={};try{u=super.toJSON()}catch{}u.isIndefiniteForm=this.isIndefiniteForm,u.value=[];for(let g=0;g<this.value.length;g++)u.value.push(this.value[g].toJSON());return u}}class Os extends gs{constructor(u={}){super(u,lo),this.idBlock.isConstructed=!0}static blockName(){return"CONSTRUCTED"}fromBER(u,g,A){this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;const j=this.valueBlock.fromBER(u,g,!0===this.lenBlock.isIndefiniteForm?A:this.lenBlock.length);return-1===j?(this.error=this.valueBlock.error,j):(0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),j)}toString(){const u=[];for(const A of this.valueBlock.value)u.push(A.toString().split("\n").map(j=>`  ${j}`).join("\n"));const g=3===this.idBlock.tagClass?`[${this.idBlock.tagNumber}]`:this.constructor.blockName();return u.length?`${g} :\n${u.join("\n")}`:`${g} :`}}class Mi extends qr{constructor(u={}){super(u)}fromBER(u,g,A){return g}toBER(u=!1){return Rr}static blockName(){return"EndOfContentValueBlock"}}class Es extends gs{constructor(u={}){super(u,Mi),this.idBlock.tagClass=1,this.idBlock.tagNumber=0}static blockName(){return"EndOfContent"}}class Z extends qr{constructor(u={}){super(u),this.value=w(u,ms,!1),this.isHexOnly=w(u,Fo,!1),Ri in u?this.valueHex=u.valueHex.slice(0):(this.valueHex=new ArrayBuffer(1),!0===this.value&&(new Uint8Array(this.valueHex)[0]=255))}fromBER(u,g,A){if(!1===D(this,u,g,A))return-1;const j=new Uint8Array(u,g,A);A>1&&this.warnings.push("Boolean value encoded in more then 1 octet"),this.isHexOnly=!0,this.valueHex=new ArrayBuffer(j.length);const ne=new Uint8Array(this.valueHex);for(let ge=0;ge<j.length;ge++)ne[ge]=j[ge];return this.value=0!==L.call(this),this.blockLength=A,g+A}toBER(u=!1){return this.valueHex}static blockName(){return"BooleanValueBlock"}toJSON(){let u={};try{u=super.toJSON()}catch{}return u.value=this.value,u.isHexOnly=this.isHexOnly,u.valueHex=I(this.valueHex,0,this.valueHex.byteLength),u}}class ze extends gs{constructor(u={}){super(u,Z),this.idBlock.tagClass=1,this.idBlock.tagNumber=1}static blockName(){return"BOOLEAN"}toString(){return`${this.constructor.blockName()} : ${this.valueBlock.value}`}}class ce extends Os{constructor(u={}){super(u),this.idBlock.tagClass=1,this.idBlock.tagNumber=16}static blockName(){return"SEQUENCE"}}class ke extends Os{constructor(u={}){super(u),this.idBlock.tagClass=1,this.idBlock.tagNumber=17}static blockName(){return"SET"}}class Et extends gs{constructor(u={}){super(u,Ns),this.idBlock.tagClass=1,this.idBlock.tagNumber=5}static blockName(){return"NULL"}fromBER(u,g,A){return this.lenBlock.length>0&&this.warnings.push("Non-zero length of value block for Null type"),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),this.blockLength+=A,g+A>u.byteLength?(this.error="End of input reached before message was fully decoded (inconsistent offset and length values)",-1):g+A}toBER(u=!1,g){const A=new ArrayBuffer(2);if(!u){const j=new Uint8Array(A);j[0]=5,j[1]=0}return g&&g.write(A),A}toString(){return`${this.constructor.blockName()}`}}class dn extends(eo(lo)){constructor(u={}){super(u),this.isConstructed=w(u,Ho,!1)}fromBER(u,g,A){let j=0;if(!0===this.isConstructed){if(this.isHexOnly=!1,j=lo.prototype.fromBER.call(this,u,g,A),-1===j)return j;for(let ne=0;ne<this.value.length;ne++){const ge=this.value[ne].constructor.blockName();if(ge===Es.blockName()){if(!0===this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, OCTET STRING may consists of OCTET STRINGs only",-1}if(ge!==Cn.blockName())return this.error="OCTET STRING may consists of OCTET STRINGs only",-1}}else this.isHexOnly=!0,j=super.fromBER(u,g,A),this.blockLength=A;return j}toBER(u=!1,g){if(!0===this.isConstructed)return lo.prototype.toBER.call(this,u,g);let A=new ArrayBuffer(this.valueHex.byteLength);return!0===u||0===this.valueHex.byteLength||(A=this.valueHex.slice(0)),A}static blockName(){return"OctetStringValueBlock"}toJSON(){let u={};try{u=super.toJSON()}catch{}return u.isConstructed=this.isConstructed,u.isHexOnly=this.isHexOnly,u.valueHex=I(this.valueHex,0,this.valueHex.byteLength),u}}class Cn extends gs{constructor(u={}){super(u,dn),this.idBlock.tagClass=1,this.idBlock.tagNumber=4}fromBER(u,g,A){if(this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,0===A)return 0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),g;if(!this.valueBlock.isConstructed){const j=u.slice(g,g+A);try{const ne=Di(j);-1!==ne.offset&&ne.offset===A&&(this.valueBlock.value=[ne.result])}catch{}}return super.fromBER(u,g,A)}static blockName(){return"OCTET STRING"}isEqual(u){return!(!(u instanceof Cn)||JSON.stringify(this)!==JSON.stringify(u))}toString(){return this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length?Os.prototype.toString.call(this):`${this.constructor.blockName()} : ${I(this.valueBlock.valueHex)}`}}class Xn extends(eo(lo)){constructor(u={}){super(u),this.unusedBits=w(u,"unusedBits",0),this.isConstructed=w(u,Ho,!1),this.blockLength=this.valueHex.byteLength}fromBER(u,g,A){if(0===A)return g;let j=-1;if(!0===this.isConstructed){if(j=lo.prototype.fromBER.call(this,u,g,A),-1===j)return j;for(let $e=0;$e<this.value.length;$e++){const S=this.value[$e].constructor.blockName();if(S===Es.blockName()){if(!0===this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, BIT STRING may consists of BIT STRINGs only",-1}if(S!==mr.blockName())return this.error="BIT STRING may consists of BIT STRINGs only",-1;if(this.unusedBits>0&&this.value[$e].valueBlock.unusedBits>0)return this.error='Using of "unused bits" inside constructive BIT STRING allowed for least one only',-1;if(this.unusedBits=this.value[$e].valueBlock.unusedBits,this.unusedBits>7)return this.error="Unused bits for BitString must be in range 0-7",-1}return j}if(!1===D(this,u,g,A))return-1;const ne=new Uint8Array(u,g,A);if(this.unusedBits=ne[0],this.unusedBits>7)return this.error="Unused bits for BitString must be in range 0-7",-1;if(!this.unusedBits){const $e=u.slice(g+1,g+A);try{const S=Di($e);-1!==S.offset&&S.offset===A-1&&(this.value=[S.result])}catch{}}this.valueHex=new ArrayBuffer(ne.length-1);const ge=new Uint8Array(this.valueHex);for(let $e=0;$e<A-1;$e++)ge[$e]=ne[$e+1];return this.blockLength=ne.length,g+A}toBER(u=!1,g){if(!0===this.isConstructed)return lo.prototype.toBER.call(this,u,g);if(!0===u)return new ArrayBuffer(this.valueHex.byteLength+1);if(0===this.valueHex.byteLength)return Rr;const A=new Uint8Array(this.valueHex),j=new ArrayBuffer(this.valueHex.byteLength+1),ne=new Uint8Array(j);ne[0]=this.unusedBits;for(let ge=0;ge<this.valueHex.byteLength;ge++)ne[ge+1]=A[ge];return j}static blockName(){return"BitStringValueBlock"}toJSON(){let u={};try{u=super.toJSON()}catch{}return u.unusedBits=this.unusedBits,u.isConstructed=this.isConstructed,u.isHexOnly=this.isHexOnly,u.valueHex=I(this.valueHex,0,this.valueHex.byteLength),u}}class mr extends gs{constructor(u={}){super(u,Xn),this.idBlock.tagClass=1,this.idBlock.tagNumber=3}static blockName(){return"BIT STRING"}fromBER(u,g,A){return 0===A?g:(this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,super.fromBER(u,g,A))}isEqual(u){return!(!(u instanceof mr)||JSON.stringify(this)!==JSON.stringify(u))}toString(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length)return Os.prototype.toString.call(this);{const u=[],g=new Uint8Array(this.valueBlock.valueHex);for(const A of g)u.push(A.toString(2).padStart(8,"0"));return`${this.constructor.blockName()} : ${u.join("")}`}}}class or extends(eo(qr)){constructor(u={}){super(u),ms in u&&(this.valueDec=u.value)}set valueHex(u){this._valueHex=u.slice(0),u.byteLength>=4?(this.warnings.push("Too big Integer for decoding, hex only"),this.isHexOnly=!0,this._valueDec=0):(this.isHexOnly=!1,u.byteLength>0&&(this._valueDec=L.call(this)))}get valueHex(){return this._valueHex}set valueDec(u){this._valueDec=u,this.isHexOnly=!1,this._valueHex=_(u)}get valueDec(){return this._valueDec}fromDER(u,g,A,j=0){const ne=this.fromBER(u,g,A);if(-1===ne)return ne;const ge=new Uint8Array(this._valueHex);if(0===ge[0]&&128&ge[1]){const $e=new ArrayBuffer(this._valueHex.byteLength-1);new Uint8Array($e).set(new Uint8Array(this._valueHex,1,this._valueHex.byteLength-1)),this._valueHex=$e.slice(0)}else if(0!==j&&this._valueHex.byteLength<j){j-this._valueHex.byteLength>1&&(j=this._valueHex.byteLength+1);const $e=new ArrayBuffer(j);new Uint8Array($e).set(ge,j-this._valueHex.byteLength),this._valueHex=$e.slice(0)}return ne}toDER(u=!1){const g=new Uint8Array(this._valueHex);switch(!0){case!!(128&g[0]):{const A=new ArrayBuffer(this._valueHex.byteLength+1),j=new Uint8Array(A);j[0]=0,j.set(g,1),this._valueHex=A.slice(0)}break;case 0===g[0]&&!(128&g[1]):{const A=new ArrayBuffer(this._valueHex.byteLength-1);new Uint8Array(A).set(new Uint8Array(this._valueHex,1,this._valueHex.byteLength-1)),this._valueHex=A.slice(0)}}return this.toBER(u)}fromBER(u,g,A){const j=super.fromBER(u,g,A);return-1===j?j:(this.blockLength=A,g+A)}toBER(u=!1){return this.valueHex.slice(0)}static blockName(){return"IntegerValueBlock"}toJSON(){let u={};try{u=super.toJSON()}catch{}return u.valueDec=this.valueDec,u}toString(){function u(X,pe){const Ve=new Uint8Array([0]);let yt=new Uint8Array(X),rn=new Uint8Array(pe),Qt=yt.slice(0);const On=Qt.length-1;let Oi=rn.slice(0);const Fi=Oi.length-1;let fr=0,Ps=0;for(let Fa=Fi<On?On:Fi;Fa>=0;Fa--,Ps++)fr=1==Ps<Oi.length?Qt[On-Ps]+Oi[Fi-Ps]+Ve[0]:Qt[On-Ps]+Ve[0],Ve[0]=fr/10,1==Ps>=Qt.length?Qt=F(new Uint8Array([fr%10]),Qt):Qt[On-Ps]=fr%10;return Ve[0]>0&&(Qt=F(Ve,Qt)),Qt.slice(0)}function g(X){if(X>=Oo.length)for(let pe=Oo.length;pe<=X;pe++){const Ve=new Uint8Array([0]);let yt=Oo[pe-1].slice(0);for(let rn=yt.length-1;rn>=0;rn--){const Qt=new Uint8Array([(yt[rn]<<1)+Ve[0]]);Ve[0]=Qt[0]/10,yt[rn]=Qt[0]%10}Ve[0]>0&&(yt=F(Ve,yt)),Oo.push(yt)}return Oo[X]}function A(X,pe){let Ve=0,yt=new Uint8Array(X),rn=new Uint8Array(pe),Qt=yt.slice(0);const On=Qt.length-1;let Oi=rn.slice(0);const Fi=Oi.length-1;let fr,Ys=0;for(let Ps=Fi;Ps>=0;Ps--,Ys++)fr=Qt[On-Ys]-Oi[Fi-Ys]-Ve,1==fr<0?(Ve=1,Qt[On-Ys]=fr+10):(Ve=0,Qt[On-Ys]=fr);if(Ve>0)for(let Ps=On-Fi+1;Ps>=0;Ps--,Ys++){if(fr=Qt[On-Ys]-Ve,!(fr<0)){Ve=0,Qt[On-Ys]=fr;break}Ve=1,Qt[On-Ys]=fr+10}return Qt.slice()}const j=8*this._valueHex.byteLength-1;let $e,ne=new Uint8Array(8*this._valueHex.byteLength/3),ge=0;const S=new Uint8Array(this._valueHex);let B="",O=!1;for(let X=this._valueHex.byteLength-1;X>=0;X--){$e=S[X];for(let pe=0;pe<8;pe++)1&~$e||(ge===j?(ne=A(g(ge),ne),B="-"):ne=u(ne,g(ge))),ge++,$e>>=1}for(let X=0;X<ne.length;X++)ne[X]&&(O=!0),O&&(B+=Bi.charAt(ne[X]));return!1===O&&(B+=Bi.charAt(0)),B}}class Xi extends gs{constructor(u={}){super(u,or),this.idBlock.tagClass=1,this.idBlock.tagNumber=2}static blockName(){return"INTEGER"}isEqual(u){return u instanceof Xi?this.valueBlock.isHexOnly&&u.valueBlock.isHexOnly?M(this.valueBlock.valueHex,u.valueBlock.valueHex):this.valueBlock.isHexOnly===u.valueBlock.isHexOnly&&this.valueBlock.valueDec===u.valueBlock.valueDec:u instanceof ArrayBuffer&&M(this.valueBlock.valueHex,u)}convertToDER(){const u=new Xi({valueHex:this.valueBlock.valueHex});return u.valueBlock.toDER(),u}convertFromDER(){const u=this.valueBlock.valueHex.byteLength%2?this.valueBlock.valueHex.byteLength+1:this.valueBlock.valueHex.byteLength,g=new Xi({valueHex:this.valueBlock.valueHex});return g.valueBlock.fromDER(g.valueBlock.valueHex,0,g.valueBlock.valueHex.byteLength,u),g}toString(){hs();const u=I(this.valueBlock.valueHex),g=BigInt(`0x${u}`);return`${this.constructor.blockName()} : ${g.toString()}`}}class Gi extends Xi{constructor(u={}){super(u),this.idBlock.tagClass=1,this.idBlock.tagNumber=10}static blockName(){return"ENUMERATED"}}class ti extends(eo(Ns)){constructor(u={}){super(u),this.valueDec=w(u,ka,-1),this.isFirstSid=w(u,"isFirstSid",!1)}static blockName(){return"sidBlock"}fromBER(u,g,A){if(0===A)return g;if(!1===D(this,u,g,A))return-1;const j=new Uint8Array(u,g,A);this.valueHex=new ArrayBuffer(A);let ne=new Uint8Array(this.valueHex);for(let S=0;S<A&&(ne[S]=127&j[S],this.blockLength++,128&j[S]);S++);const ge=new ArrayBuffer(this.blockLength),$e=new Uint8Array(ge);for(let S=0;S<this.blockLength;S++)$e[S]=ne[S];return this.valueHex=ge.slice(0),ne=new Uint8Array(this.valueHex),128&j[this.blockLength-1]?(this.error="End of input reached before message was fully decoded",-1):(0===ne[0]&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=h(ne,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),g+this.blockLength)}set valueBigInt(u){hs();let g=BigInt(u).toString(2);for(;g.length%7;)g="0"+g;const A=new Uint8Array(g.length/7);for(let j=0;j<A.length;j++)A[j]=parseInt(g.slice(7*j,7*j+7),2)+(j+1<A.length?128:0);this.fromBER(A.buffer,0,A.length)}toBER(u=!1){let g,A;if(this.isHexOnly){if(!0===u)return new ArrayBuffer(this.valueHex.byteLength);const ne=new Uint8Array(this.valueHex);g=new ArrayBuffer(this.blockLength),A=new Uint8Array(g);for(let ge=0;ge<this.blockLength-1;ge++)A[ge]=128|ne[ge];return A[this.blockLength-1]=ne[this.blockLength-1],g}const j=f(this.valueDec,7);if(0===j.byteLength)return this.error="Error during encoding SID value",Rr;if(g=new ArrayBuffer(j.byteLength),!1===u){const ne=new Uint8Array(j);A=new Uint8Array(g);for(let ge=0;ge<j.byteLength-1;ge++)A[ge]=128|ne[ge];A[j.byteLength-1]=ne[j.byteLength-1]}return g}toString(){let u="";if(!0===this.isHexOnly)u=I(this.valueHex,0,this.valueHex.byteLength);else if(this.isFirstSid){let g=this.valueDec;this.valueDec<=39?u="0.":this.valueDec<=79?(u="1.",g-=40):(u="2.",g-=80),u+=g.toString()}else u=this.valueDec.toString();return u}toJSON(){let u={};try{u=super.toJSON()}catch{}return u.valueDec=this.valueDec,u.isFirstSid=this.isFirstSid,u}}class Ji extends qr{constructor(u={}){super(u),this.fromString(w(u,ms,""))}fromBER(u,g,A){let j=g;for(;A>0;){const ne=new ti;if(j=ne.fromBER(u,j,A),-1===j)return this.blockLength=0,this.error=ne.error,j;0===this.value.length&&(ne.isFirstSid=!0),this.blockLength+=ne.blockLength,A-=ne.blockLength,this.value.push(ne)}return j}toBER(u=!1){const g=[];for(let A=0;A<this.value.length;A++){const j=this.value[A].toBER(u);if(0===j.byteLength)return this.error=this.value[A].error,Rr;g.push(j)}return Xa(g)}fromString(u){this.value=[];let g=0,A=0,j="",ne=!1;do{if(A=u.indexOf(".",g),j=-1===A?u.substr(g):u.substr(g,A-g),g=A+1,ne){const ge=this.value[0];let $e=0;switch(ge.valueDec){case 0:break;case 1:$e=40;break;case 2:$e=80;break;default:return this.value=[],!1}const S=parseInt(j,10);if(isNaN(S))return!0;ge.valueDec=S+$e,ne=!1}else{const ge=new ti;if(j>Number.MAX_SAFE_INTEGER){hs();const $e=BigInt(j);ge.valueBigInt=$e}else if(ge.valueDec=parseInt(j,10),isNaN(ge.valueDec))return!0;0===this.value.length&&(ge.isFirstSid=!0,ne=!0),this.value.push(ge)}}while(-1!==A);return!0}toString(){let u="",g=!1;for(let A=0;A<this.value.length;A++){g=this.value[A].isHexOnly;let j=this.value[A].toString();0!==A&&(u=`${u}.`),g?(j=`{${j}}`,this.value[A].isFirstSid?u=`2.{${j} - 80}`:u+=j):u+=j}return u}static blockName(){return"ObjectIdentifierValueBlock"}toJSON(){let u={};try{u=super.toJSON()}catch{}u.value=this.toString(),u.sidArray=[];for(let g=0;g<this.value.length;g++)u.sidArray.push(this.value[g].toJSON());return u}}class hr extends gs{constructor(u={}){super(u,Ji),this.idBlock.tagClass=1,this.idBlock.tagNumber=6}static blockName(){return"OBJECT IDENTIFIER"}toString(){return`${this.constructor.blockName()} : ${this.valueBlock.toString()}`}}class he extends(eo(Ns)){constructor(u={}){super(u),this.isHexOnly=!0,this.value=""}static blockName(){return"Utf8StringValueBlock"}toJSON(){let u={};try{u=super.toJSON()}catch{}return u.value=this.value,u}}class k extends gs{constructor(u={}){super(u,he),ms in u&&this.fromString(u.value),this.idBlock.tagClass=1,this.idBlock.tagNumber=12}static blockName(){return"UTF8String"}fromBER(u,g,A){const j=this.valueBlock.fromBER(u,g,!0===this.lenBlock.isIndefiniteForm?A:this.lenBlock.length);return-1===j?(this.error=this.valueBlock.error,j):(this.fromBuffer(this.valueBlock.valueHex),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),j)}fromBuffer(u){this.valueBlock.value=String.fromCharCode.apply(null,new Uint8Array(u));try{this.valueBlock.value=decodeURIComponent(escape(this.valueBlock.value))}catch(g){this.warnings.push(`Error during "decodeURIComponent": ${g}, using raw string`)}}fromString(u){const g=unescape(encodeURIComponent(u)),A=g.length;this.valueBlock.valueHex=new ArrayBuffer(A);const j=new Uint8Array(this.valueBlock.valueHex);for(let ne=0;ne<A;ne++)j[ne]=g.charCodeAt(ne);this.valueBlock.value=u}toString(){return`${this.constructor.blockName()} : ${this.valueBlock.value}`}}class ue extends(eo(Ns)){constructor(u={}){super(u),this.valueDec=w(u,ka,-1)}static blockName(){return"relativeSidBlock"}fromBER(u,g,A){if(0===A)return g;if(!1===D(this,u,g,A))return-1;const j=new Uint8Array(u,g,A);this.valueHex=new ArrayBuffer(A);let ne=new Uint8Array(this.valueHex);for(let S=0;S<A&&(ne[S]=127&j[S],this.blockLength++,128&j[S]);S++);const ge=new ArrayBuffer(this.blockLength),$e=new Uint8Array(ge);for(let S=0;S<this.blockLength;S++)$e[S]=ne[S];return this.valueHex=ge.slice(0),ne=new Uint8Array(this.valueHex),128&j[this.blockLength-1]?(this.error="End of input reached before message was fully decoded",-1):(0===ne[0]&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=h(ne,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),g+this.blockLength)}toBER(u=!1){let g,A;if(this.isHexOnly){if(!0===u)return new ArrayBuffer(this.valueHex.byteLength);const ne=new Uint8Array(this.valueHex);g=new ArrayBuffer(this.blockLength),A=new Uint8Array(g);for(let ge=0;ge<this.blockLength-1;ge++)A[ge]=128|ne[ge];return A[this.blockLength-1]=ne[this.blockLength-1],g}const j=f(this.valueDec,7);if(0===j.byteLength)return this.error="Error during encoding SID value",Rr;if(g=new ArrayBuffer(j.byteLength),!1===u){const ne=new Uint8Array(j);A=new Uint8Array(g);for(let ge=0;ge<j.byteLength-1;ge++)A[ge]=128|ne[ge];A[j.byteLength-1]=ne[j.byteLength-1]}return g}toString(){let u="";return u=!0===this.isHexOnly?I(this.valueHex,0,this.valueHex.byteLength):this.valueDec.toString(),u}toJSON(){let u={};try{u=super.toJSON()}catch{}return u.valueDec=this.valueDec,u}}class Ae extends qr{constructor(u={}){super(u),this.fromString(w(u,ms,""))}fromBER(u,g,A){let j=g;for(;A>0;){const ne=new ue;if(j=ne.fromBER(u,j,A),-1===j)return this.blockLength=0,this.error=ne.error,j;this.blockLength+=ne.blockLength,A-=ne.blockLength,this.value.push(ne)}return j}toBER(u=!1){let g=[];for(let A=0;A<this.value.length;A++){const j=this.value[A].toBER(u);if(0===j.byteLength)return this.error=this.value[A].error,Rr;g.push(j)}return Xa(g)}fromString(u){this.value=[];let g=0,A=0,j="";do{A=u.indexOf(".",g),j=-1===A?u.substr(g):u.substr(g,A-g),g=A+1;const ne=new ue;if(ne.valueDec=parseInt(j,10),isNaN(ne.valueDec))return!0;this.value.push(ne)}while(-1!==A);return!0}toString(){let u="",g=!1;for(let A=0;A<this.value.length;A++){g=this.value[A].isHexOnly;let j=this.value[A].toString();0!==A&&(u=`${u}.`),g&&(j=`{${j}}`),u+=j}return u}static blockName(){return"RelativeObjectIdentifierValueBlock"}toJSON(){let u={};try{u=super.toJSON()}catch{}u.value=this.toString(),u.sidArray=[];for(let g=0;g<this.value.length;g++)u.sidArray.push(this.value[g].toJSON());return u}}class nt extends gs{constructor(u={}){super(u,Ae),this.idBlock.tagClass=1,this.idBlock.tagNumber=13}static blockName(){return"RelativeObjectIdentifier"}}class At extends(eo(Ns)){constructor(u={}){super(u),this.isHexOnly=!0,this.value=""}static blockName(){return"BmpStringValueBlock"}toJSON(){let u={};try{u=super.toJSON()}catch{}return u.value=this.value,u}}class Lt extends gs{constructor(u={}){super(u,At),ms in u&&this.fromString(u.value),this.idBlock.tagClass=1,this.idBlock.tagNumber=30}static blockName(){return"BMPString"}fromBER(u,g,A){const j=this.valueBlock.fromBER(u,g,!0===this.lenBlock.isIndefiniteForm?A:this.lenBlock.length);return-1===j?(this.error=this.valueBlock.error,j):(this.fromBuffer(this.valueBlock.valueHex),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),j)}fromBuffer(u){const g=u.slice(0),A=new Uint8Array(g);for(let j=0;j<A.length;j+=2){const ne=A[j];A[j]=A[j+1],A[j+1]=ne}this.valueBlock.value=String.fromCharCode.apply(null,new Uint16Array(g))}fromString(u){const g=u.length;this.valueBlock.valueHex=new ArrayBuffer(2*g);const A=new Uint8Array(this.valueBlock.valueHex);for(let j=0;j<g;j++){const ne=f(u.charCodeAt(j),8),ge=new Uint8Array(ne);if(ge.length>2)continue;const $e=2-ge.length;for(let S=ge.length-1;S>=0;S--)A[2*j+S+$e]=ge[S]}this.valueBlock.value=u}toString(){return`${this.constructor.blockName()} : ${this.valueBlock.value}`}}class qt extends(eo(Ns)){constructor(u={}){super(u),this.isHexOnly=!0,this.value=""}static blockName(){return"UniversalStringValueBlock"}toJSON(){let u={};try{u=super.toJSON()}catch{}return u.value=this.value,u}}class nn extends gs{constructor(u={}){super(u,qt),ms in u&&this.fromString(u.value),this.idBlock.tagClass=1,this.idBlock.tagNumber=28}static blockName(){return"UniversalString"}fromBER(u,g,A){const j=this.valueBlock.fromBER(u,g,!0===this.lenBlock.isIndefiniteForm?A:this.lenBlock.length);return-1===j?(this.error=this.valueBlock.error,j):(this.fromBuffer(this.valueBlock.valueHex),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),j)}fromBuffer(u){const g=u.slice(0),A=new Uint8Array(g);for(let j=0;j<A.length;j+=4)A[j]=A[j+3],A[j+1]=A[j+2],A[j+2]=0,A[j+3]=0;this.valueBlock.value=String.fromCharCode.apply(null,new Uint32Array(g))}fromString(u){const g=u.length;this.valueBlock.valueHex=new ArrayBuffer(4*g);const A=new Uint8Array(this.valueBlock.valueHex);for(let j=0;j<g;j++){const ne=f(u.charCodeAt(j),8),ge=new Uint8Array(ne);if(ge.length>4)continue;const $e=4-ge.length;for(let S=ge.length-1;S>=0;S--)A[4*j+S+$e]=ge[S]}this.valueBlock.value=u}toString(){return`${this.constructor.blockName()} : ${this.valueBlock.value}`}}class _n extends(eo(Ns)){constructor(u={}){super(u),this.value="",this.isHexOnly=!0}static blockName(){return"SimpleStringValueBlock"}toJSON(){let u={};try{u=super.toJSON()}catch{}return u.value=this.value,u}}class Jn extends gs{constructor(u={}){super(u,_n),ms in u&&this.fromString(u.value)}static blockName(){return"SIMPLESTRING"}fromBER(u,g,A){const j=this.valueBlock.fromBER(u,g,!0===this.lenBlock.isIndefiniteForm?A:this.lenBlock.length);return-1===j?(this.error=this.valueBlock.error,j):(this.fromBuffer(this.valueBlock.valueHex),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),j)}fromBuffer(u){this.valueBlock.value=String.fromCharCode.apply(null,new Uint8Array(u))}fromString(u){const g=u.length;this.valueBlock.valueHex=new ArrayBuffer(g);const A=new Uint8Array(this.valueBlock.valueHex);for(let j=0;j<g;j++)A[j]=u.charCodeAt(j);this.valueBlock.value=u}toString(){return`${this.constructor.blockName()} : ${this.valueBlock.value}`}}class Un extends Jn{constructor(u={}){super(u),this.idBlock.tagClass=1,this.idBlock.tagNumber=18}static blockName(){return"NumericString"}}class Sr extends Jn{constructor(u={}){super(u),this.idBlock.tagClass=1,this.idBlock.tagNumber=19}static blockName(){return"PrintableString"}}class mi extends Jn{constructor(u={}){super(u),this.idBlock.tagClass=1,this.idBlock.tagNumber=20}static blockName(){return"TeletexString"}}class Kr extends Jn{constructor(u={}){super(u),this.idBlock.tagClass=1,this.idBlock.tagNumber=21}static blockName(){return"VideotexString"}}class Mr extends Jn{constructor(u={}){super(u),this.idBlock.tagClass=1,this.idBlock.tagNumber=22}static blockName(){return"IA5String"}}class Ts extends Jn{constructor(u={}){super(u),this.idBlock.tagClass=1,this.idBlock.tagNumber=25}static blockName(){return"GraphicString"}}class ar extends Jn{constructor(u={}){super(u),this.idBlock.tagClass=1,this.idBlock.tagNumber=26}static blockName(){return"VisibleString"}}class fs extends Jn{constructor(u={}){super(u),this.idBlock.tagClass=1,this.idBlock.tagNumber=27}static blockName(){return"GeneralString"}}class Yo extends Jn{constructor(u={}){super(u),this.idBlock.tagClass=1,this.idBlock.tagNumber=29}static blockName(){return"CharacterString"}}class Na extends ar{constructor(u={}){if(super(u),this.year=0,this.month=0,this.day=0,this.hour=0,this.minute=0,this.second=0,ms in u){this.fromString(u.value),this.valueBlock.valueHex=new ArrayBuffer(u.value.length);const g=new Uint8Array(this.valueBlock.valueHex);for(let A=0;A<u.value.length;A++)g[A]=u.value.charCodeAt(A)}Ja in u&&(this.fromDate(u.valueDate),this.valueBlock.valueHex=this.toBuffer()),this.idBlock.tagClass=1,this.idBlock.tagNumber=23}fromBER(u,g,A){const j=this.valueBlock.fromBER(u,g,!0===this.lenBlock.isIndefiniteForm?A:this.lenBlock.length);return-1===j?(this.error=this.valueBlock.error,j):(this.fromBuffer(this.valueBlock.valueHex),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),j)}fromBuffer(u){this.fromString(String.fromCharCode.apply(null,new Uint8Array(u)))}toBuffer(){const u=this.toString(),g=new ArrayBuffer(u.length),A=new Uint8Array(g);for(let j=0;j<u.length;j++)A[j]=u.charCodeAt(j);return g}fromDate(u){this.year=u.getUTCFullYear(),this.month=u.getUTCMonth()+1,this.day=u.getUTCDate(),this.hour=u.getUTCHours(),this.minute=u.getUTCMinutes(),this.second=u.getUTCSeconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second))}fromString(u){const A=/(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})Z/gi.exec(u);if(null===A)return void(this.error="Wrong input string for conversion");const j=parseInt(A[1],10);this.year=j>=50?1900+j:2e3+j,this.month=parseInt(A[2],10),this.day=parseInt(A[3],10),this.hour=parseInt(A[4],10),this.minute=parseInt(A[5],10),this.second=parseInt(A[6],10)}toString(){const u=new Array(7);return u[0]=N(this.year<2e3?this.year-1900:this.year-2e3,2),u[1]=N(this.month,2),u[2]=N(this.day,2),u[3]=N(this.hour,2),u[4]=N(this.minute,2),u[5]=N(this.second,2),u[6]="Z",u.join("")}static blockName(){return"UTCTime"}toJSON(){let u={};try{u=super.toJSON()}catch{}return u.year=this.year,u.month=this.month,u.day=this.day,u.hour=this.hour,u.minute=this.minute,u.second=this.second,u}}class Eo extends ar{constructor(u={}){if(super(u),this.year=0,this.month=0,this.day=0,this.hour=0,this.minute=0,this.second=0,this.millisecond=0,ms in u){this.fromString(u.value),this.valueBlock.valueHex=new ArrayBuffer(u.value.length);const g=new Uint8Array(this.valueBlock.valueHex);for(let A=0;A<u.value.length;A++)g[A]=u.value.charCodeAt(A)}Ja in u&&(this.fromDate(u.valueDate),this.valueBlock.valueHex=this.toBuffer()),this.idBlock.tagClass=1,this.idBlock.tagNumber=24}fromBER(u,g,A){const j=this.valueBlock.fromBER(u,g,!0===this.lenBlock.isIndefiniteForm?A:this.lenBlock.length);return-1===j?(this.error=this.valueBlock.error,j):(this.fromBuffer(this.valueBlock.valueHex),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),j)}fromBuffer(u){this.fromString(String.fromCharCode.apply(null,new Uint8Array(u)))}toBuffer(){const u=this.toString(),g=new ArrayBuffer(u.length),A=new Uint8Array(g);for(let j=0;j<u.length;j++)A[j]=u.charCodeAt(j);return g}fromDate(u){this.year=u.getUTCFullYear(),this.month=u.getUTCMonth()+1,this.day=u.getUTCDate(),this.hour=u.getUTCHours(),this.minute=u.getUTCMinutes(),this.second=u.getUTCSeconds(),this.millisecond=u.getUTCMilliseconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond))}fromString(u){let ge,g=!1,A="",j="",ne=0,$e=0,S=0;if("Z"===u[u.length-1])A=u.substr(0,u.length-1),g=!0;else{const X=new Number(u[u.length-1]);if(isNaN(X.valueOf()))throw new Error("Wrong input string for conversion");A=u}if(g){if(-1!==A.indexOf("+"))throw new Error("Wrong input string for conversion");if(-1!==A.indexOf("-"))throw new Error("Wrong input string for conversion")}else{let X=1,pe=A.indexOf("+"),Ve="";if(-1===pe&&(pe=A.indexOf("-"),X=-1),-1!==pe){if(Ve=A.substr(pe+1),A=A.substr(0,pe),2!==Ve.length&&4!==Ve.length)throw new Error("Wrong input string for conversion");let yt=new Number(Ve.substr(0,2));if(isNaN(yt.valueOf()))throw new Error("Wrong input string for conversion");if($e=X*yt,4===Ve.length){if(yt=new Number(Ve.substr(2,2)),isNaN(yt.valueOf()))throw new Error("Wrong input string for conversion");S=X*yt}}}let B=A.indexOf(".");if(-1===B&&(B=A.indexOf(",")),-1!==B){const X=new Number(`0${A.substr(B)}`);if(isNaN(X.valueOf()))throw new Error("Wrong input string for conversion");ne=X.valueOf(),j=A.substr(0,B)}else j=A;switch(!0){case 8===j.length:if(ge=/(\d{4})(\d{2})(\d{2})/gi,-1!==B)throw new Error("Wrong input string for conversion");break;case 10===j.length:if(ge=/(\d{4})(\d{2})(\d{2})(\d{2})/gi,-1!==B){let X=60*ne;this.minute=Math.floor(X),X=60*(X-this.minute),this.second=Math.floor(X),X=1e3*(X-this.second),this.millisecond=Math.floor(X)}break;case 12===j.length:if(ge=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})/gi,-1!==B){let X=60*ne;this.second=Math.floor(X),X=1e3*(X-this.second),this.millisecond=Math.floor(X)}break;case 14===j.length:ge=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/gi,-1!==B&&(this.millisecond=Math.floor(1e3*ne));break;default:throw new Error("Wrong input string for conversion")}const O=ge.exec(j);if(null===O)throw new Error("Wrong input string for conversion");for(let X=1;X<O.length;X++)switch(X){case 1:this.year=parseInt(O[X],10);break;case 2:this.month=parseInt(O[X],10);break;case 3:this.day=parseInt(O[X],10);break;case 4:this.hour=parseInt(O[X],10)+$e;break;case 5:this.minute=parseInt(O[X],10)+S;break;case 6:this.second=parseInt(O[X],10);break;default:throw new Error("Wrong input string for conversion")}if(!1===g){const X=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond);this.year=X.getUTCFullYear(),this.month=X.getUTCMonth(),this.day=X.getUTCDay(),this.hour=X.getUTCHours(),this.minute=X.getUTCMinutes(),this.second=X.getUTCSeconds(),this.millisecond=X.getUTCMilliseconds()}}toString(){const u=[];return u.push(N(this.year,4)),u.push(N(this.month,2)),u.push(N(this.day,2)),u.push(N(this.hour,2)),u.push(N(this.minute,2)),u.push(N(this.second,2)),0!==this.millisecond&&(u.push("."),u.push(N(this.millisecond,3))),u.push("Z"),u.join("")}static blockName(){return"GeneralizedTime"}toJSON(){let u={};try{u=super.toJSON()}catch{}return u.year=this.year,u.month=this.month,u.day=this.day,u.hour=this.hour,u.minute=this.minute,u.second=this.second,u.millisecond=this.millisecond,u}}class Fs extends k{constructor(u={}){super(u),this.idBlock.tagClass=1,this.idBlock.tagNumber=31}static blockName(){return"DATE"}}class sa extends k{constructor(u={}){super(u),this.idBlock.tagClass=1,this.idBlock.tagNumber=32}static blockName(){return"TimeOfDay"}}class xi extends k{constructor(u={}){super(u),this.idBlock.tagClass=1,this.idBlock.tagNumber=33}static blockName(){return"DateTime"}}class Oa extends k{constructor(u={}){super(u),this.idBlock.tagClass=1,this.idBlock.tagNumber=34}static blockName(){return"Duration"}}class oa extends k{constructor(u={}){super(u),this.idBlock.tagClass=1,this.idBlock.tagNumber=14}static blockName(){return"TIME"}}function xr(Pe,u,g){const A=u;let ne=new gs({},Object);const ge=new Ns;if(!1===D(ge,Pe,u,g))return ne.error=ge.error,{offset:-1,result:ne};if(0===new Uint8Array(Pe,u,g).length)return ne.error="Zero buffer length",{offset:-1,result:ne};let S=ne.idBlock.fromBER(Pe,u,g);if(ne.warnings.concat(ne.idBlock.warnings),-1===S)return ne.error=ne.idBlock.error,{offset:-1,result:ne};if(S=ne.lenBlock.fromBER(Pe,u=S,g-=ne.idBlock.blockLength),ne.warnings.concat(ne.lenBlock.warnings),-1===S)return ne.error=ne.lenBlock.error,{offset:-1,result:ne};if(u=S,g-=ne.lenBlock.blockLength,!1===ne.idBlock.isConstructed&&!0===ne.lenBlock.isIndefiniteForm)return ne.error="Indefinite length form used for primitive encoding form",{offset:-1,result:ne};let B=gs;if(1===ne.idBlock.tagClass){if(ne.idBlock.tagNumber>=37&&!1===ne.idBlock.isHexOnly)return ne.error="UNIVERSAL 37 and upper tags are reserved by ASN.1 standard",{offset:-1,result:ne};switch(ne.idBlock.tagNumber){case 0:if(!0===ne.idBlock.isConstructed&&ne.lenBlock.length>0)return ne.error="Type [UNIVERSAL 0] is reserved",{offset:-1,result:ne};B=Es;break;case 1:B=ze;break;case 2:B=Xi;break;case 3:B=mr;break;case 4:B=Cn;break;case 5:B=Et;break;case 6:B=hr;break;case 10:B=Gi;break;case 12:B=k;break;case 13:B=nt;break;case 14:B=oa;break;case 15:return ne.error="[UNIVERSAL 15] is reserved by ASN.1 standard",{offset:-1,result:ne};case 16:B=ce;break;case 17:B=ke;break;case 18:B=Un;break;case 19:B=Sr;break;case 20:B=mi;break;case 21:B=Kr;break;case 22:B=Mr;break;case 23:B=Na;break;case 24:B=Eo;break;case 25:B=Ts;break;case 26:B=ar;break;case 27:B=fs;break;case 28:B=nn;break;case 29:B=Yo;break;case 30:B=Lt;break;case 31:B=Fs;break;case 32:B=sa;break;case 33:B=xi;break;case 34:B=Oa;break;default:{let O;O=!0===ne.idBlock.isConstructed?new Os:new ma,O.idBlock=ne.idBlock,O.lenBlock=ne.lenBlock,O.warnings=ne.warnings,ne=O}}}else B=!0===ne.idBlock.isConstructed?Os:ma;return ne=function j(O,X){if(O instanceof X)return O;const pe=new X;return pe.idBlock=O.idBlock,pe.lenBlock=O.lenBlock,pe.warnings=O.warnings,pe.valueBeforeDecode=O.valueBeforeDecode.slice(0),pe}(ne,B),S=ne.fromBER(Pe,u,!0===ne.lenBlock.isIndefiniteForm?g:ne.lenBlock.length),ne.valueBeforeDecode=Pe.slice(A,A+ne.blockLength),{offset:S,result:ne}}function Di(Pe){if(0===Pe.byteLength){const u=new gs({},Object);return u.error="Input buffer has zero length",{offset:-1,result:u}}return xr(Pe,0,Pe.byteLength)}var va=p(3838),yo=p(4531),yl=p(4438);let rc=(()=>{class Pe{convertStringToArrayBuffer(g){const A=new va.hp(g,"base64").toString("binary"),j=new ArrayBuffer(2*A.length),ne=new Uint8Array(j);for(let ge=0,$e=A.length;ge<$e;ge++)ne[ge]=A.charCodeAt(ge);return j}buildCertModelFromArrayBuffer(g,A){var j=this;return(0,i.A)(function*(){const ne=Di(g),ge=new li({schema:ne.result}),$e=new e,S=j.getSubject(ge),B=yield j.calculateCertificateThumbprint(A);return $e.base64Cert=A,$e.subject=S,$e.thumbprint=B,$e})()}verifyCertFilePassword(g,A,j){let ne=new FileReader;ne.onload=ge=>{try{const $e=va.hp.from(ne.result),S=this.arrayBufferToBase64($e);(0,yo.hc)($e,A),j.next(S)}catch($e){console.log("Invalid cert!"),j.error($e)}},ne.onerror=ge=>{j.error(ge)},ne.readAsArrayBuffer(g)}getSubject(g){const A={"2.5.4.6":"C","2.5.4.10":"O","2.5.4.11":"OU","2.5.4.3":"CN","2.5.4.7":"L","2.5.4.8":"S","2.5.4.12":"T","2.5.4.42":"GN","2.5.4.43":"I","2.5.4.4":"SN","1.2.840.113549.1.9.1":"E-mail"},j=new Array;for(const ge of g.subject.typesAndValues){let $e=A[ge.type];typeof $e>"u"&&($e=ge.type),j.push(`${$e}=${ge.value.valueBlock.value}`)}return j.reverse().join(", ")}calculateCertificateThumbprint(g){var A=this;return(0,i.A)(function*(){const j=new va.hp(g,"base64"),ne=yield crypto.subtle.digest("SHA-1",j);return A.computeHex(ne)})()}computeHex(g){return[].map.call(new Uint8Array(g),A=>("00"+A.toString(16)).slice(-2)).join("")}arrayBufferToBase64(g){for(var A="",j=new Uint8Array(g),ne=j.byteLength,ge=0;ge<ne;ge++)A+=String.fromCharCode(j[ge]);return window.btoa(A)}static{this.\u0275fac=function(A){return new(A||Pe)}}static{this.\u0275prov=yl.jDH({token:Pe,factory:Pe.\u0275fac})}}return Pe})()},526:(lt,we,p)=>{"use strict";p.d(we,{X:()=>I});var i=p(1626),e=p(2771),v=p(7263),y=p(4438),w=p(9564);let I=(()=>{class D{constructor(f,E){this.http=f,this.claimTypeSubject=new e.m(1),this.actionUrl="ClaimTypes",this.headers=E.setHeaders()}getCachedClaimType(){return this.claimTypeSubject}getClaimType(f){return this.http.get(`${this.actionUrl}/${f}`,{headers:this.headers})}getClaimTypes(f,E,F=!1){let L=new i.Nl;return(0,v.gP)(f)||(L=L.append("name",f)),L=L.append("sort",(0,v.gP)(E)?"name":E),this.http.get(F?`${this.actionUrl}/ClaimTypesLightWeight`:this.actionUrl,{headers:this.headers,params:L})}addClaimType(f){const E=`${this.actionUrl}`,F=JSON.stringify(f);return this.http.post(E,F,{headers:this.headers})}updateClaimType(f){const E=`${this.actionUrl}/${f.id}`,F=JSON.stringify(f);return this.http.put(E,F,{headers:this.headers})}deleteClaimType(f){return this.http.delete(`${this.actionUrl}/${f.id}`,{headers:this.headers})}getAllowedValues(f,E,F){let L=new i.Nl;return(0,v.gP)(E)||(L=L.append("query",E)),F&&(L=L.append("resultThreshold",F)),this.http.get(`${this.actionUrl}/AllowedValues/${f}`,{headers:this.headers,params:L})}static{this.\u0275fac=function(E){return new(E||D)(y.KVO(i.Qq),y.KVO(w.m))}}static{this.\u0275prov=y.jDH({token:D,factory:D.\u0275fac})}}return D})()},8939:(lt,we,p)=>{"use strict";p.d(we,{R:()=>h});var i=p(983),e=p(6354),v=p(9437),y=p(8284),w=p(4438),I=p(526),D=p(5424);let h=(()=>{class f{constructor(F,L){this.claimTypeService=F,this.errorService=L}resolve(F,L){return this.claimTypeService.getClaimType(F.params.Id).pipe((0,e.T)(M=>(M&&this.claimTypeService.getCachedClaimType().next(M),M)),(0,v.W)((M,N)=>(404===M.status?this.errorService.resourceNotFound(y.v.claimType):this.errorService.handleError(M),(0,i.I)())))}static{this.\u0275fac=function(L){return new(L||f)(w.KVO(I.X),w.KVO(D.I))}}static{this.\u0275prov=w.jDH({token:f,factory:f.\u0275fac})}}return f})()},3577:(lt,we,p)=>{"use strict";p.d(we,{e:()=>v});var i=p(4412),e=p(4438);let v=(()=>{class y{constructor(){this.unsavedCache=new i.t(null),this.unsavedCache$=this.unsavedCache.asObservable(),this.savedCache=new i.t(null),this.savedCache$=this.savedCache.asObservable(),this.componentDirtyValidMap=new Map}onClientSave(){this.componentDirtyValidMap.clear()}static{this.\u0275fac=function(D){return new(D||y)}}static{this.\u0275prov=e.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})()},8173:(lt,we,p)=>{"use strict";p.d(we,{q:()=>w});var i=p(6701),e=p(4491),v=p(4438),y=p(3577);let w=(()=>{class ie{constructor(ae){this.cache=ae,this.defaultClientGrantTypeMap=new Map([[i.s.BrowserBased,e.$.AuthorizationCode],[i.s.ServerSidePKCE,e.$.AuthorizationCode],[i.s.ServerSide,e.$.Hybrid],[i.s.Native,e.$.Hybrid],[i.s.Machine,e.$.ClientCredentials],[i.s.CIBAMachine,e.$.CIBA],[i.s.Device,e.$.Device],[i.s.LegacyClientSide,e.$.Implicit]]),this.clientCacheSubscription=this.cache.unsavedCache$.subscribe(re=>{this.initClientViews(re)})}ngOnDestroy(){this.clientCacheSubscription.unsubscribe()}initClientViews(ae){this.resetTabs(),this.isStandardClientFormat(ae)||ae.clientType===i.s.Saml||ae.clientType===i.s.WsFed?this.initUsingClientType(ae.clientType):0!==ae.allowedGrantTypes.length?this.initUsingGrantTypes(ae.allowedGrantTypes):this.initDefaults()}resetTabs(){this.authRequest=new I,this.details=new D,this.applicationUrls=new h,this.secrets=new f,this.resources=new E,this.tokens=new K,this.claims=new L,this.refreshTokens=new Q,this.identityProviders=new M,this.properties=new N,this.other=new P,this.deviceFlow=new x,this.singleSignOut=new V,this.consent=new Y,this.saml=new le,this.wsFed=new fe,this.ciba=new F,this.dpop=new ee}isStandardClientFormat(ae){if(ae.clientType===i.s.Unknown||ae.allowedGrantTypes.length>1)return!1;const re=this.defaultClientGrantTypeMap.get(ae.clientType);return ae.allowedGrantTypes[0]===re}initUsingClientType(ae){switch(ae){case i.s.BrowserBased:this.consent.display=!0,this.singleSignOut.display=!0,this.authRequest.display=!0,this.authRequest.pkce=!0,this.authRequest.par=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.applicationUrls.allowedCorsOrigins=!0,this.resources.allowedScopesIdentity=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.authorizationCodeLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0,this.dpop.display=!0;break;case i.s.ServerSide:case i.s.ServerSidePKCE:this.refreshTokens.display=!0,this.consent.display=!0,this.singleSignOut.display=!0,this.singleSignOut.backChannelLogoutSessionRequired=!0,this.singleSignOut.backChannelLogoutUri=!0,this.authRequest.display=!0,this.authRequest.pkce=!0,this.authRequest.par=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.resources.allowedScopesIdentity=!0,this.claims.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.authorizationCodeLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0;break;case i.s.Native:case i.s.NativePKCE:this.consent.display=!0,this.refreshTokens.display=!0,this.singleSignOut.display=!0,this.singleSignOut.backChannelLogoutSessionRequired=!0,this.singleSignOut.backChannelLogoutUri=!0,this.authRequest.display=!0,this.authRequest.pkce=!0,this.authRequest.par=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.resources.allowedScopesIdentity=!0,this.claims.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.authorizationCodeLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0,this.dpop.display=!0;break;case i.s.Machine:this.other.display=!0,this.authRequest.display=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.properties.display=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.dpop.display=!0;break;case i.s.CIBAMachine:this.other.display=!0,this.authRequest.display=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.resources.allowedScopesIdentity=!0,this.claims.display=!0,this.properties.display=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.ciba.display=!0,this.dpop.display=!0;break;case i.s.Device:this.consent.display=!0,this.authRequest.display=!0,this.refreshTokens.display=!0,this.deviceFlow.display=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.deviceFlow.display=!0,this.applicationUrls.display=!0,this.applicationUrls.allowedCorsOrigins=!0,this.secrets.display=!0,this.resources.allowedScopesIdentity=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0;break;case i.s.Saml:this.other.display=!0,this.other.userSSOLifetime=!0,this.tokens.display=!1,this.resources.allowedScopesIdentity=!0,this.identityProviders.display=!0,this.properties.display=!0,this.saml.display=!0;break;case i.s.WsFed:this.other.display=!0,this.other.userSSOLifetime=!0,this.tokens.display=!1,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.resources.allowedScopesIdentity=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.wsFed.display=!0;break;case i.s.LegacyClientSide:this.consent.display=!0,this.authRequest.display=!0,this.singleSignOut.display=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.applicationUrls.allowedCorsOrigins=!0,this.resources.allowedScopesIdentity=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.allowAccessTokensViaBrowser=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0}}initUsingGrantTypes(ae){this.saml.display=!1,this.wsFed.display=!1,ae.forEach(re=>{switch(re){case e.$.Implicit:this.consent.display=!0,this.singleSignOut.display=!0,this.authRequest.display=!0,this.authRequest.par=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.applicationUrls.allowedCorsOrigins=!0,this.resources.allowedScopesIdentity=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.allowAccessTokensViaBrowser=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0;break;case e.$.Hybrid:this.consent.display=!0,this.refreshTokens.display=!0,this.singleSignOut.display=!0,this.singleSignOut.backChannelLogoutSessionRequired=!0,this.singleSignOut.backChannelLogoutUri=!0,this.authRequest.display=!0,this.authRequest.pkce=!0,this.authRequest.par=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.resources.allowedScopesIdentity=!0,this.claims.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.allowAccessTokensViaBrowser=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.authorizationCodeLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0;break;case e.$.AuthorizationCode:this.consent.display=!0,this.refreshTokens.display=!0,this.singleSignOut.display=!0,this.singleSignOut.backChannelLogoutSessionRequired=!0,this.singleSignOut.backChannelLogoutUri=!0,this.authRequest.display=!0,this.authRequest.pkce=!0,this.authRequest.par=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.resources.allowedScopesIdentity=!0,this.claims.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.authorizationCodeLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0,this.dpop.display=!0;break;case e.$.ClientCredentials:this.other.display=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.authRequest.display=!0,this.properties.display=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.dpop.display=!0;break;case e.$.CIBA:this.other.display=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.authRequest.display=!0,this.properties.display=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.ciba.display=!0;break;case e.$.ResourceOwnerPassword:this.refreshTokens.display=!0,this.other.display=!0,this.secrets.display=!0,this.resources.allowedScopesIdentity=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.authRequest.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0;break;case e.$.Device:this.consent.display=!0,this.refreshTokens.display=!0,this.deviceFlow.display=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.allowedCorsOrigins=!0,this.secrets.display=!0,this.resources.allowedScopesIdentity=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.authRequest.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0;break;default:this.initDefaults()}})}initDefaults(){this.consent.display=!0,this.refreshTokens.display=!0,this.singleSignOut.display=!0,this.singleSignOut.backChannelLogoutUri=!0,this.singleSignOut.backChannelLogoutSessionRequired=!0,this.deviceFlow.display=!0,this.authRequest.display=!0,this.authRequest.pkce=!0,this.authRequest.par=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.applicationUrls.allowedCorsOrigins=!0,this.secrets.display=!0,this.resources.allowedScopesIdentity=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.allowAccessTokensViaBrowser=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.authorizationCodeLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0}static{this.\u0275fac=function(re){return new(re||ie)(v.KVO(y.e))}}static{this.\u0275prov=v.jDH({token:ie,factory:ie.\u0275fac})}}return ie})();class I{constructor(){this.display=!1,this.pkce=!1,this.par=!1}}class D{}class h{constructor(){this.display=!1,this.redirectUris=!1,this.postLogoutRedirectUris=!1,this.allowedCorsOrigins=!1}}class f{constructor(){this.display=!1}}class E{constructor(){this.allowedScopesIdentity=!1,this.allowedScopesAPI=!1}}class F{constructor(){this.display=!1}}class L{constructor(){this.display=!1}}class M{constructor(){this.display=!1}}class N{constructor(){this.display=!1}}class P{constructor(){this.display=!1,this.userSSOLifetime=!1}}class x{constructor(){this.display=!1}}class V{constructor(){this.display=!1,this.backChannelLogoutUri=!1,this.backChannelLogoutSessionRequired=!1}}class Q{constructor(){this.display=!1}}class Y{constructor(){this.display=!1}}class le{constructor(){this.display=!1}}class fe{constructor(){this.display=!1}}class K{constructor(){this.display=!0,this.allowAccessTokensViaBrowser=!1,this.identityTokenLifetime=!1,this.accessTokenLifetime=!1,this.authorizationCodeLifetime=!1,this.accessTokenType=!1,this.includeJwtId=!1,this.alwaysIncludeUserClaimsInIdToken=!1}}class ee{constructor(){this.display=!1}}},9398:(lt,we,p)=>{"use strict";p.d(we,{_:()=>D});var i=p(1626),e=p(2771),v=p(7263),y=p(6701),w=p(4438),I=p(9564);let D=(()=>{class h{constructor(E,F){this.http=E,this.headersService=F,this.clientSubject=new e.m(1),this.actionUrl="clients",this.headers=F.setHeaders()}getClients(E,F,L){let _=new i.Nl;return(0,v.gP)(E)||(_=_.append("name",E)),F&&(_=_.append("page",F)),L&&(_=_.append("pageSize",L)),this.http.get(this.actionUrl,{headers:this.headers,params:_})}getClient(E){return this.http.get(`${this.actionUrl}/${E}`,{headers:this.headers})}getCachedClient(){return this.clientSubject}addClient(E){let F;switch(E.clientType){case y.s.Saml:F=this.headersService.setHeaders("application/vnd.adminui.new-saml-client-v1+json");break;case y.s.WsFed:F=this.headersService.setHeaders("application/vnd.adminui.new-wsfed-client-v1+json");break;default:F=this.headersService.setHeaders()}const L=`${this.actionUrl}/`,_=JSON.stringify(E);return this.http.post(L,_,{headers:F})}updateClient(E){return this.http.put(`${this.actionUrl}/${E.id}`,E,{headers:this.headers})}addClientSecret(E,F){return this.http.post(`${this.actionUrl}/${E}/secrets`,F,{headers:this.headers})}removeClientSecret(E,F){return this.http.delete(`${this.actionUrl}/${E}/secrets/${F.id}`,{headers:this.headers})}deleteClient(E){return this.http.delete(`${this.actionUrl}/${E}`,{headers:this.headers})}cloneClient(E,F){const L=`${this.actionUrl}/${E}/clone`,_=this.headersService.setHeaders("application/vnd.adminui.clone-client-v1+json");return this.http.post(L,F,{headers:_,observe:"response"})}static{this.\u0275fac=function(F){return new(F||h)(w.KVO(i.Qq),w.KVO(I.m))}}static{this.\u0275prov=w.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})()},9196:(lt,we,p)=>{"use strict";p.d(we,{w:()=>F});var i=p(1626),e=p(7673),v=p(1413),y=p(978);function I(L){return{...L,dynamicAuthenticationFlag:y.U[L.dynamicAuthenticationFlag]}}class f{}var E=p(4438);let F=(()=>{class L{constructor(M){this.http=M,this.headers=new i.Lr,this.actionUrl="UIConfiguration"}getConfig(M=!1){const N=new f;if(N.resetPasswordConfigured=!1,N.targetIdentityServer4=!1,N.resetMfaConfigured=!1,N.policyPersistence=!1,N.webhookPersistence=!1,N.featureFlagOptions=new y.D,this.uiOptions&&!M)return(0,e.of)(this.uiOptions);const P=new v.B;return this.headers=this.headers.set("Content-Type","application/json").set("Accept","application/json").set("Access-Control-Allow-Origin","true"),this.http.get(this.actionUrl,{headers:this.headers}).subscribe({next:G=>{this.uiOptions=function h(L){return{...L,featureFlagOptions:I(L.featureFlagOptions)}}(G),P.next(this.uiOptions)},error:G=>P.next(N)}),P.asObservable()}static{this.\u0275fac=function(N){return new(N||L)(E.KVO(i.Qq))}}static{this.\u0275prov=E.jDH({token:L,factory:L.\u0275fac})}}return L})()},3384:(lt,we,p)=>{"use strict";p.d(we,{R:()=>f});var i=p(983),e=p(6354),v=p(9437),y=p(8284),w=p(4438),I=p(2036),D=p(6366),h=p(5424);let f=(()=>{class E{constructor(L,_,M){this.wsfedClientService=L,this.relyingPartyCache=_,this.errorService=M}resolve(L,_){const M=L.parent.paramMap.get("Id");if(!(this.relyingPartyCache.componentDirtyValidMap.size>0))return this.wsfedClientService.getRelyingParty(M).pipe((0,e.T)(N=>{const P=JSON.parse(JSON.stringify(N.claimMappings)),G=new Map;for(const x in P)P.hasOwnProperty(x)&&G.set(x,P[x]);return N.claimMappings=G,this.relyingPartyCache.unsavedCache.next(N),N}),(0,v.W)(N=>(404===N.status?this.errorService.resourceNotFound(y.v.relyingParty):this.errorService.handleError(N),(0,i.I)())));this.relyingPartyCache.unsavedCache$.subscribe(N=>N)}static{this.\u0275fac=function(_){return new(_||E)(w.KVO(I.c),w.KVO(D.z),w.KVO(h.I))}}static{this.\u0275prov=w.jDH({token:E,factory:E.\u0275fac})}}return E})()},1466:(lt,we,p)=>{"use strict";p.d(we,{z:()=>E});var i=p(983),e=p(6354),v=p(9437),y=p(8284),w=p(4438),I=p(9156),D=p(5691),h=p(1583),f=p(5424);let E=(()=>{class F{constructor(_,M,N,P){this.serviceProviderService=_,this.serviceproviderCache=M,this.router=N,this.errorSerivce=P}resolve(_,M){const N=_.parent.paramMap.get("Id");if(!(this.serviceproviderCache.componentDirtyValidMap.size>0))return this.serviceProviderService.getServiceProvider(N).pipe((0,e.T)(P=>{const G=JSON.parse(JSON.stringify(P.claimMappings)),x=new Map;for(const V in G)G.hasOwnProperty(V)&&x.set(V,G[V]);return P.claimMappings=x,this.serviceproviderCache.unsavedCache.next(P),this.serviceproviderCache.savedCache.next(P),P}),(0,v.W)((P,G)=>(404===P.status?this.errorSerivce.resourceNotFound(y.v.serviceProvider):this.errorSerivce.handleError(P),(0,i.I)())));this.serviceproviderCache.unsavedCache$.subscribe(P=>P)}static{this.\u0275fac=function(M){return new(M||F)(w.KVO(I.s),w.KVO(D.d),w.KVO(h.Ix),w.KVO(f.I))}}static{this.\u0275prov=w.jDH({token:F,factory:F.\u0275fac})}}return F})()},4442:(lt,we,p)=>{"use strict";p.d(we,{_:()=>I});var i=p(1594),e=p(4438),v=p(9156),y=p(5691),w=p(5424);let I=(()=>{class D{constructor(f,E,F){this.serviceProviderService=f,this.cache=E,this.errorService=F}uploadFile(f,E){return this.serviceProviderService.setEncryptionCertificateViaFile(f,E)}uploadViaMetaData(f,E){return this.serviceProviderService.setEncryptionCertificateViaMetadata(f,E)}updateCertCache(f){this.serviceProviderService.getServiceProvider(f).subscribe(E=>{this.cache.unsavedCache$.pipe((0,i.$)()).subscribe(F=>{F.encryptionCertificate=E.encryptionCertificate,this.cache.unsavedCache.next(F)})},E=>{this.errorService.handleError(E)})}static{this.\u0275fac=function(E){return new(E||D)(e.KVO(v.s),e.KVO(y.d),e.KVO(w.I))}}static{this.\u0275prov=e.jDH({token:D,factory:D.\u0275fac})}}return D})()},5424:(lt,we,p)=>{"use strict";p.d(we,{I:()=>f});var i=p(7263),e=p(8284),v=p(9957),y=p(4438),w=p(1583),I=p(7005),D=p(5794),h=p(1780);let f=(()=>{class E{constructor(L,_,M,N){this.router=L,this.localize=_,this.toast=M,this.translate=N}resourceNotFound(L){this.router.navigate([this.localize.translateRoute("/resourcenotfound/"+e.v[L])])}handleError(L,_,M){let N=v.I.NotHandled;const P=this.getDefaultNavigationPath(L);if(P)this.router.navigate([this.localize.translateRoute(P)]),N|=v.I.Navigate;else{const G=this.getOptionsToastBody(L,_)||this.getDefaultToastBody(L),x=this.getOptionsToastTitle(L,_)||this.getDefaultToastTitle(L);G&&x&&(M?this.toast.error(G,x,M):this.toast.error(G,x),N|=v.I.Toast)}return N}getOptionsToastBody(L,_){if(!_)return;const M="number"==typeof L.status&&_.statusToastOptions?_.statusToastOptions[L.status]:_;return M&&M.toastBody}getOptionsToastTitle(L,_){if(!_)return;const M="number"==typeof L.status&&_.statusToastOptions?_.statusToastOptions[L.status]:_;return M&&M.toastTitle}getDefaultNavigationPath(L){switch(L.status){case 401:return"/unauthorized";case 403:return"/forbidden";case 404:return"/404";default:return}}getDefaultToastTitle(L){switch(L.status){case 400:case 420:return"Bad Request";case 405:return"Method Not Allowed";default:return this.translate.instant("Notifications.Error")}}getDefaultToastBody(L){return 500===L.status?`${this.translate.instant("Notifications.SomethingWrong")}. ${this.translate.instant("Notifications.CheckLogs")}`:L.error&&L.error.errors&&L.error.errors.length>0?L.error.errors[0]:(0,i.gP)(L._body)&&(0,i.gP)(L.error)?`${this.translate.instant("Notifications.SomethingWrong")}. ${this.translate.instant("Notifications.CheckLogs")}`:(0,i.gP)(L.error)?L._body:L.error}static{this.\u0275fac=function(_){return new(_||E)(y.KVO(w.Ix),y.KVO(I.QG),y.KVO(D.tw),y.KVO(h.c$))}}static{this.\u0275prov=y.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}}return E})()},9686:(lt,we,p)=>{"use strict";p.d(we,{D:()=>y});class i{constructor(I){this.form=I}submitForm(){document.body.appendChild(this.form),this.form.submit(),document.body.removeChild(this.form)}}var e=p(4438),v=p(7883);let y=(()=>{class w{constructor(D){this.securityService=D}buildForm(D){const h=this.buildStandardForm(D);return new i(h)}buildStandardForm(D){const h=document.createElement("form");return h.setAttribute("method","post"),h.setAttribute("action",D),h}appendInput(D,h,f){const E=document.createElement("input");E.setAttribute("type","text"),E.setAttribute("name",D),E.setAttribute("value",h),f.appendChild(E)}buildFormWithCustomInputs(D,h){const f=this.buildStandardForm(D);return h.forEach((E,F)=>{this.appendInput(F,E,f)}),new i(f)}static{this.\u0275fac=function(h){return new(h||w)(e.KVO(v.i))}}static{this.\u0275prov=e.jDH({token:w,factory:w.\u0275fac})}}return w})()},3218:(lt,we,p)=>{"use strict";p.d(we,{O:()=>I});var i=p(1594),e=p(6354),v=p(4438),y=p(1583),w=p(9196);let I=(()=>{class D{constructor(f,E){this.router=f,this.config=E}canActivate(f,E){return this.config.getConfig().pipe((0,i.$)(),(0,e.T)(F=>(F?.featureFlagOptions?.sessionManagementEnabled??!1)||this.router.parseUrl("/resourcenotfound/user")))}static{this.\u0275fac=function(E){return new(E||D)(v.KVO(y.Ix),v.KVO(w.w))}}static{this.\u0275prov=v.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})()},9564:(lt,we,p)=>{"use strict";p.d(we,{m:()=>v});var i=p(1626),e=p(4438);let v=(()=>{class y{setHeaders(I,D){return(new i.Lr).set("Content-Type",I||"application/json").set("Accept",D||"application/json").set("Access-Control-Allow-Origin","true").set("Cache-Control","no-cache").set("Pragma","no-cache").set("Expires","Sat, 01 Jan 2000 00:00:00 GMT")}static{this.\u0275fac=function(D){return new(D||y)}}static{this.\u0275prov=e.jDH({token:y,factory:y.\u0275fac})}}return y})()},6801:(lt,we,p)=>{"use strict";p.d(we,{M:()=>y});var i=p(2771),e=p(4438),v=p(1626);let y=(()=>{class w{constructor(D){this.http=D,this.idsReady=!1,this.idsHealthCheckComplete=new i.m(1),this.uiReady=!1,this.uiHealthCheckComplete=new i.m(1),this.actionUrl="healthcheck"}checkHealthIdentityServer(){return this.http.get(`${this.actionUrl}/checkidentityserver`)}checkHealthUi(){return this.http.get(`${this.actionUrl}/checkui`)}static{this.\u0275fac=function(h){return new(h||w)(e.KVO(v.Qq))}}static{this.\u0275prov=e.jDH({token:w,factory:w.\u0275fac})}}return w})()},8261:(lt,we,p)=>{"use strict";p.d(we,{A:()=>I});var i=p(1626),e=p(2771),v=p(7263),y=p(4438),w=p(9564);let I=(()=>{class D{constructor(f,E){this.http=f,this.headersService=E,this.identityResourceSubject=new e.m(1),this.actionUrl="IdentityResources",this.headers=E.setHeaders()}getCachedIdentityResource(){return this.identityResourceSubject}getIdentityResources(f){let E=new i.Nl;return(0,v.gP)(f)||(E=E.append("name",f)),this.http.get(this.actionUrl,{headers:this.headers,params:E})}addResource(f){const E=`${this.actionUrl}/`,F=JSON.stringify(f);return this.http.post(E,F,{headers:this.headers})}getResource(f){return this.http.get(`${this.actionUrl}/${f}`,{headers:this.headers})}updateResource(f){return this.http.put(`${this.actionUrl}/${f.id}`,f,{headers:this.headers})}deleteIdentityResource(f){return this.http.delete(`${this.actionUrl}/${f}`,{headers:this.headers})}static{this.\u0275fac=function(E){return new(E||D)(y.KVO(i.Qq),y.KVO(w.m))}}static{this.\u0275prov=y.jDH({token:D,factory:D.\u0275fac})}}return D})()},3853:(lt,we,p)=>{"use strict";p.d(we,{X:()=>h});var i=p(1626),e=p(4589);class y{constructor(){}isExpectingStarterConsent(){return this.isExpired&&this.licenseType==e.G.Demo}isStarterLicense(){return this.licenseType==e.G.Starter}get userLimitReached(){return this.userQuotaRemaining<=0&&this.isStarterLicense()}get overUserLimit(){return this.userQuotaRemaining<0&&this.isStarterLicense()}get clientLimitReached(){return this.clientQuotaRemaining<=0&&this.isStarterLicense()}get overClientLimit(){return this.clientQuotaRemaining<0&&this.isStarterLicense()}}var w=p(1594),I=p(6354),D=p(4438);let h=(()=>{class f{constructor(F){this.http=F,this.headers=new i.Lr,this.actionUrl="license"}getLicenseInfo(){return this.headers=this.headers.set("Content-Type","application/json").set("Accept","application/json").set("Access-Control-Allow-Origin","true"),this.http.get(this.actionUrl,{headers:this.headers}).pipe((0,w.$)(),(0,I.T)(F=>{var L=new y;return L.organisation=F.organisation,L.licenseType=F.licenseType,L.isExpired=F.isExpired,L.isInGracePeriod=F.isInGracePeriod,L.gracePeriodExpiry=F.gracePeriodExpiry,L.maxUsers=F.maxUsers,L.maxClients=F.maxClients,L.userQuotaRemaining=F.userQuotaRemaining,L.clientQuotaRemaining=F.clientQuotaRemaining,L}))}static{this.\u0275fac=function(L){return new(L||f)(D.KVO(i.Qq))}}static{this.\u0275prov=D.jDH({token:f,factory:f.\u0275fac})}}return f})()},7773:(lt,we,p)=>{"use strict";p.d(we,{n:()=>v});var i=p(1626),e=p(4438);let v=(()=>{class y{constructor(I){this.http=I,this.headers=new i.Lr,this.actionUrl="permission",this.headers=this.headers.set("Content-Type","application/json").set("Accept","application/json").set("Access-Control-Allow-Origin","true")}getUserPermissions(){return this.http.get(this.actionUrl,{headers:this.headers})}getAvaliablePermissions(){return this.http.get(this.actionUrl+"/avaliable",{headers:this.headers})}static{this.\u0275fac=function(D){return new(D||y)(e.KVO(i.Qq))}}static{this.\u0275prov=e.jDH({token:y,factory:y.\u0275fac})}}return y})()},5893:(lt,we,p)=>{"use strict";p.d(we,{P:()=>h,x:()=>D});var i=p(1626),e=p(2771),v=p(7673),y=p(7263),w=p(4438),I=p(9564);let D=(()=>{class f{constructor(F,L){this.http=F,this.headersService=L,this.protectedResourceSubject=new e.m(1),this.actionUrl="ProtectedResources",this.headers=L.setHeaders()}getCachedProtectedResource(){return this.protectedResourceSubject}getProtectedResources(F){let L=new i.Nl;return(0,y.gP)(F)||(L=L.set("name",F)),this.http.get(this.actionUrl,{headers:this.headers,params:L})}getResourcesPaginated(F,L,_){const M=`${this.actionUrl}/getPaginated`;let N=new i.Nl;return(0,y.gP)(F)||(N=N.set("name",F)),L&&(N=N.append("page",L)),_&&(N=N.append("pageSize",_)),this.http.get(M,{headers:this.headers,params:N})}addResource(F){const L=`${this.actionUrl}/`,_=JSON.stringify(F);return this.http.post(L,_,{headers:this.headers})}getResource(F){return this.http.get(`${this.actionUrl}/${F}`,{headers:this.headers})}updateResource(F){return this.http.put(`${this.actionUrl}/${F.id}`,F,{headers:this.headers})}updateResourceSecret(F,L){return this.http.put(`${this.actionUrl}/${F}/secrets/${L.id}`,L,{headers:this.headers})}removeResourceSecret(F,L){return this.http.delete(`${this.actionUrl}/${F}/secrets/${L}`,{headers:this.headers})}addResourceSecret(F,L){return this.http.post(`${this.actionUrl}/${F}/secrets`,L,{headers:this.headers})}updateResourceScope(F,L,_){const M=encodeURIComponent(_);return this.http.put(`${this.actionUrl}/${F}/scopes/${M}`,L,{headers:this.headers})}addResourceScope(F,L){return this.http.post(`${this.actionUrl}/${F}/scopes`,L,{headers:this.headers})}deleteProtectedResource(F){return this.http.delete(`${this.actionUrl}/${F}`,{headers:this.headers})}deleteScope(F,L){const _=encodeURIComponent(L);return this.http.delete(`${this.actionUrl}/${F}/scopes/${_}`,{headers:this.headers})}getAllScopes(){return this.http.get(`${this.actionUrl}/scopes`,{headers:this.headers})}static{this.\u0275fac=function(L){return new(L||f)(w.KVO(i.Qq),w.KVO(I.m))}}static{this.\u0275prov=w.jDH({token:f,factory:f.\u0275fac})}}return f})(),h=(()=>{class f extends D{getProtectedResources(F){return(0,v.of)([])}static{this.\u0275fac=(()=>{let F;return function(_){return(F||(F=w.xGo(f)))(_||f)}})()}static{this.\u0275prov=w.jDH({token:f,factory:f.\u0275fac})}}return f})()},6199:(lt,we,p)=>{"use strict";p.d(we,{v:()=>f});var i=p(983),e=p(6354),v=p(9437),y=p(8284),w=p(4438),I=p(3519),D=p(1583),h=p(5424);let f=(()=>{class E{constructor(L,_,M){this.roleService=L,this.router=_,this.errorService=M}resolve(L,_){const M=L.paramMap.get("Id");return this.roleService.getRole(M).pipe((0,e.T)(N=>(N&&this.roleService.getCachedRole().next(N),N)),(0,v.W)((N,P)=>(404===N.status?this.errorService.resourceNotFound(y.v.role):this.errorService.handleError(N),(0,i.I)())))}static{this.\u0275fac=function(_){return new(_||E)(w.KVO(I.P),w.KVO(D.Ix),w.KVO(h.I))}}static{this.\u0275prov=w.jDH({token:E,factory:E.\u0275fac})}}return E})()},3519:(lt,we,p)=>{"use strict";p.d(we,{P:()=>I});var i=p(1626),e=p(2771),v=p(7263),y=p(4438),w=p(9564);let I=(()=>{class D{constructor(f,E){this.http=f,this.RoleSubject=new e.m(1),this.actionUrl="roles",this.headers=E.setHeaders()}getCachedRole(){return this.RoleSubject}setCachedRole(f){this.RoleSubject.next(f)}getRoles(f,E){let F=new i.Nl;return(0,v.gP)(f)||(F=F.append("name",f)),F=F.append("sort",(0,v.gP)(E)?"name":E),this.http.get(this.actionUrl,{headers:this.headers,params:F})}getRole(f){return this.http.get(`${this.actionUrl}/${f}`,{headers:this.headers})}deleteRole(f){return this.http.delete(`${this.actionUrl}/${f.id}`,{headers:this.headers})}addRole(f){const E=`${this.actionUrl}/`,F=JSON.stringify(f);return this.http.post(E,F,{headers:this.headers})}updateRole(f){const E=JSON.stringify(f);return this.http.put(`${this.actionUrl}/${f.id}`,E,{headers:this.headers})}getUsersInRole(f,E,F,L){let _=new i.Nl;return(0,v.gP)(L)||(_=_.append("q",L)),E&&(_=_.append("page",String(E))),F&&(_=_.append("pageSize",String(F))),this.http.get(`${this.actionUrl}/${f}/users`,{headers:this.headers,params:_})}addAndRemoveUsers(f,E){const F=JSON.stringify(E);return this.http.put(`${this.actionUrl}/${f}/users`,F,{headers:this.headers})}static{this.\u0275fac=function(E){return new(E||D)(y.KVO(i.Qq),y.KVO(w.m))}}static{this.\u0275prov=y.jDH({token:D,factory:D.\u0275fac})}}return D})()},2892:(lt,we,p)=>{"use strict";p.d(we,{h:()=>P});var i=p(7673),e=p(5060),v=p(1413),y=p(5558),w=p(4861),I=p(4438),D=p(7883),h=p(6801),f=p(1339),E=p(7005),F=p(5424),L=p(6888),_=p(1583),M=p(9196),N=p(2972);let P=(()=>{class G{constructor(V,Q,Y,le,fe,K,ee,ie,T){this.securityService=V,this.healthCheckService=Q,this.authService=Y,this.localizeRouter=le,this.errorService=fe,this.loginTrackingService=K,this.router=ee,this.configService=ie,this.appComponentViewService=T}canActivate(V,Q){return this.healthCheckService.uiReady?this.authDecision(V,Q):this.healthCheckService.uiHealthCheckComplete.pipe((0,y.n)(Y=>this.authDecision(V,Q)))}authDecision(V,Q){return document.dispatchEvent(new Event("appready")),this.authService.isAuthenticated?(this.authService.user==w.M.DefaultAdministratorUsername&&!this.authService.isCreatingInitialAdministrator&&this.configService.getConfig().subscribe(Y=>{if(Y.featureFlagOptions.defaultUserValidation){this.authService.isCreatingInitialAdministrator=!0;const le=this.localizeRouter.translateRoute("/initial-admin-creation");this.router.navigate([le])}}),void 0!==this.securityService.userPermissions?(0,i.of)(this.permissionAuthDecision(V)):this.permissionAuthDecisionAsObservable(V)):(this.securityService.startLogin(Q.url),e.t)}permissionAuthDecision(V){const Q=V.data.permissions;if(void 0===Q)return!0;for(let Y=0;Y<Q.length;Y++)if(this.securityService.userPermissions.includes(Q[Y]))return!0;return this.errorService.handleError({status:403}),!1}permissionAuthDecisionAsObservable(V){const Q=new v.B;return this.securityService.init().subscribe(()=>{Q.next(this.permissionAuthDecision(V))}),Q.asObservable()}static{this.\u0275fac=function(Q){return new(Q||G)(I.KVO(D.i),I.KVO(h.M),I.KVO(f.u),I.KVO(E.QG),I.KVO(F.I),I.KVO(L.W),I.KVO(_.Ix),I.KVO(M.w),I.KVO(N.X))}}static{this.\u0275prov=I.jDH({token:G,factory:G.\u0275fac})}}return G})()},7883:(lt,we,p)=>{"use strict";p.d(we,{i:()=>Q});var i=p(1413);class e extends i.B{constructor(){super(...arguments),this._value=null,this._hasValue=!1,this._isComplete=!1}_checkFinalizedStatuses(le){const{hasError:fe,_hasValue:K,_value:ee,thrownError:ie,isStopped:T,_isComplete:ae}=this;fe?le.error(ie):(T||ae)&&(K&&le.next(ee),le.complete())}next(le){this.isStopped||(this._value=le,this._hasValue=!0)}complete(){const{_hasValue:le,_value:fe,_isComplete:K}=this;K||(this._isComplete=!0,le&&super.next(fe),super.complete())}}var v=p(7468),y=p(3178),w=p(6354),I=p(6697),D=p(7263),h=p(9838),f=p(4589),E=p(4438),F=p(1583),L=p(7005),_=p(9196),M=p(1339),N=p(7773),P=p(3853),G=p(5424),x=p(6888),V=p(1780);let Q=(()=>{class Y{constructor(fe,K,ee,ie,T,ae,re,Me,Qe){this.router=fe,this.localize=K,this.configService=ee,this.authService=ie,this.permissionService=T,this.licenseService=ae,this.errorService=re,this.loginTrackingService=Me,this.translate=Qe,this.userPermissions$=new e,this.userManagerView=!1,this.userManagerReadOnlyView=!1,this.identityServerManagerView=!1,this.identityServerManagerReadOnlyView=!1,this.allReadOnlyView=!1,this.allView=!1,this.auditerView=!1,this.noPermissions=!1,this.licenseType="",this.organisation="",this.nonProduction=!1,this.storage=sessionStorage}startLogin(fe){let ee=fe??this.router.url;ee=ee.replace(`/${this.localize.parser.currentLang}`,""),this.storage.setItem("redirectUrl",ee),this.loginTrackingService.startLogin(),this.authService.login()}onAuthorizationResultComplete(fe){if(fe.isAuthenticated){let K=this.storage.getItem("redirectUrl");null==K&&(K="/home");const ee=this.localize.translateRoute(K);this.handleSuccessfulAuthorization(ee)}else this.handleUnsuccessfulAuthorization(fe.username)}handleSuccessfulAuthorization(fe){this.init().subscribe(()=>{this.loginTrackingService.endLogin(),this.storage.removeItem("redirectUrl"),this.router.navigateByUrl(fe)},K=>{this.loginTrackingService.canRetryLogin?(this.loginTrackingService.retryLogin(),this.authService.login()):this.errorService.handleError(K,{toastBody:this.translate.instant("Errors.LoginLoopError",{link:h.$9.loginRedirectLoopDocs}),toastTitle:this.translate.instant("Notifications.Error")},{timeOut:0,extendedTimeOut:0,enableHtml:!0})})}handleUnsuccessfulAuthorization(fe){if((0,D.gP)(fe))return void(this.loginTrackingService.canRetryLogin?(this.loginTrackingService.retryLogin(),this.authService.login()):this.errorService.handleError({},{toastBody:this.translate.instant("Errors.LoginLoopError",{link:h.$9.loginRedirectLoopDocs}),toastTitle:this.translate.instant("Notifications.Error")},{timeOut:0,extendedTimeOut:0,enableHtml:!0}));const K=this.localize.translateRoute("/unauthorized");this.router.navigateByUrl(K)}isNonProd(){return this.licenseType===f.G.Demo||this.licenseType===f.G.NonProduction}init(){const fe=[this.initUsersPermissions(),this.initLicenseInfo(),this.initUiConfiguration()];return(0,v.p)(fe)}initUsersPermissions(){return this.permissionService.getUserPermissions().pipe((0,w.T)(fe=>{this.userPermissions=fe.permissions,this.policyClaims=fe.policyClaims,void 0!==this.userPermissions&&(this.userPermissions.includes(y.a[y.a.All])?(this.userManagerView=!0,this.userManagerReadOnlyView=!1,this.identityServerManagerView=!0,this.identityServerManagerReadOnlyView=!1,this.allReadOnlyView=!1,this.auditerView=!0,this.allView=!0):this.userPermissions.includes(y.a[y.a.AllReadOnly])?(this.userManagerView=!1,this.userManagerReadOnlyView=!0,this.identityServerManagerView=!1,this.identityServerManagerReadOnlyView=!0,this.allReadOnlyView=!0,this.auditerView=!0,this.allView=!1):(this.userManagerView=this.userPermissions.includes(y.a[y.a.UserManager]),this.userManagerReadOnlyView=this.userPermissions.includes(y.a[y.a.UserManagerReadOnly]),this.identityServerManagerView=this.userPermissions.includes(y.a[y.a.IdentityServerManager]),this.identityServerManagerReadOnlyView=this.userPermissions.includes(y.a[y.a.IdentityServerManagerReadOnly]),this.auditerView=this.userPermissions.includes(y.a[y.a.Auditer]),this.userManagerView||this.userManagerReadOnlyView||this.identityServerManagerView||this.identityServerManagerReadOnlyView||this.auditerView||this.allView||this.allReadOnlyView||(this.noPermissions=!0))),this.userPermissions$.next(fe.permissions),this.userPermissions$.complete()},fe=>{this.errorService.handleError(fe)}))}initLicenseInfo(){return this.licenseService.getLicenseInfo().pipe((0,w.T)(fe=>{this.licenseType=fe.licenseType,"NonProduction"===this.licenseType&&(this.licenseType=f.G.NonProduction),fe.isStarterLicense()&&(this.licenseType=f.G.Starter),this.nonProduction=fe.licenseType!==f.G.Production,this.organisation=fe.organisation}))}initUiConfiguration(){return this.configService.getConfig().pipe((0,I.s)(1))}static{this.\u0275fac=function(K){return new(K||Y)(E.KVO(F.Ix),E.KVO(L.QG),E.KVO(_.w),E.KVO(M.u),E.KVO(N.n),E.KVO(P.X),E.KVO(G.I),E.KVO(x.W),E.KVO(V.c$))}}static{this.\u0275prov=E.jDH({token:Y,factory:Y.\u0275fac})}}return Y})()},9156:(lt,we,p)=>{"use strict";p.d(we,{s:()=>w});var i=p(2771),e=p(4438),v=p(1626),y=p(9564);let w=(()=>{class I{constructor(h,f){this.http=h,this.headersService=f,this.ServiceProviderSubject=new i.m(1),this.actionUrl="clients",this.headers=f.setHeaders()}getCachedServiceProvider(){return this.ServiceProviderSubject}getServiceProvider(h){return this.http.get(`${this.actionUrl}/${h}/saml`,{headers:this.headers})}updateServiceProvider(h,f){const E=`${this.actionUrl}/${h}/saml`,F={allowIdpInitiatedSso:f.allowIdpInitiatedSso,assertionConsumerServices:f.assertionConsumerServices,artifactResolutionServices:f.artifactResolutionServices,claimMappings:f.claimMappings,encryptAssertions:f.encryptAssertions,requireSamlMessageDestination:f.requireSamlMessageDestination,signAssertions:f.signAssertions,singleLogoutServices:f.singleLogoutServices,requireAuthenticationRequestsSigned:f.requireAuthenticationRequestsSigned,artifactDeliveryBindingType:f.artifactDeliveryBindingType,requireSignedArtifactResolveRequests:f.requireSignedArtifactResolveRequests,requireSignedArtifactResponses:f.requireSignedArtifactResponses,nameIdentifierFormat:f.nameIdentifierFormat},L=this.headersService.setHeaders("application/vnd.adminui.sam-client-update-v2+json","application/vnd.adminui.saml-client-v2+json");return this.http.put(E,F,{headers:L})}setEncryptionCertificateViaFile(h,f){const E=`${this.actionUrl}/${h}/saml/certificates/encryption`,F=f,L=this.headersService.setHeaders("application/x-x509-ca-cert");return this.http.put(E,F,{headers:L})}setEncryptionCertificateViaMetadata(h,f){const E=`${this.actionUrl}/${h}/saml/certificates/encryption`,F=f,L=this.headersService.setHeaders("application/x-x509-ca-cert-base64");return this.http.put(E,F,{headers:L})}deleteEncryptionCertificate(h){return this.http.delete(`${this.actionUrl}/${h}/saml/certificates/encryption`,{headers:this.headers})}addSigningCertificateViaFile(h,f){const E=`${this.actionUrl}/${h}/saml/certificates/signing`,F=f,L=this.headersService.setHeaders("application/x-x509-ca-cert");return this.http.post(E,F,{headers:L})}addSigningCertificateViaMetadata(h,f){const E=`${this.actionUrl}/${h}/saml/certificates/signing`,F=f,L=this.headersService.setHeaders("application/x-x509-ca-cert-base64");return this.http.post(E,F,{headers:L})}deleteSigningCertificate(h,f){return this.http.delete(`${this.actionUrl}/${h}/saml/certificates/signing/${f}`,{headers:this.headers})}static{this.\u0275fac=function(f){return new(f||I)(e.KVO(v.Qq),e.KVO(y.m))}}static{this.\u0275prov=e.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}}return I})()},8556:(lt,we,p)=>{"use strict";p.d(we,{S:()=>I});var i=p(1594),e=p(4438),v=p(9156),y=p(5691),w=p(5424);let I=(()=>{class D{constructor(f,E,F){this.serviceProviderService=f,this.cache=E,this.errorService=F}uploadFile(f,E){return this.serviceProviderService.addSigningCertificateViaFile(f,E)}uploadViaMetaData(f,E){return this.serviceProviderService.addSigningCertificateViaMetadata(f,E)}updateCertCache(f){this.serviceProviderService.getServiceProvider(f).subscribe(E=>{this.cache.unsavedCache$.pipe((0,i.$)()).subscribe(F=>{F.signingCertificates=E.signingCertificates,this.cache.unsavedCache.next(F)})},E=>{this.errorService.handleError(E)})}static{this.\u0275fac=function(E){return new(E||D)(e.KVO(v.s),e.KVO(y.d),e.KVO(w.I))}}static{this.\u0275prov=e.jDH({token:D,factory:D.\u0275fac})}}return D})()},3488:(lt,we,p)=>{"use strict";p.d(we,{F:()=>v});var i=p(4549),e=p(4438);let v=(()=>{class y{now(){return i.c9.now()}static{this.\u0275fac=function(D){return new(D||y)}}static{this.\u0275prov=e.jDH({token:y,factory:y.\u0275fac})}}return y})()},1575:(lt,we,p)=>{"use strict";p.d(we,{v:()=>v});var i=p(4549),e=p(4438);let v=(()=>{class y{now(){return i.c9.now()}static{this.\u0275fac=function(D){return new(D||y)}}static{this.\u0275prov=e.jDH({token:y,factory:y.\u0275fac})}}return y})()},4811:(lt,we,p)=>{"use strict";p.d(we,{M:()=>h});var i=p(983),e=p(6354),v=p(9437),y=p(8284),w=p(4438),I=p(5602),D=p(5424);let h=(()=>{class f{constructor(F,L){this.userService=F,this.errorService=L}resolve(F,L){return this.userService.getUser(F.params.Id).pipe((0,e.T)(M=>(M&&this.userService.getCachedUser().next(M),M)),(0,v.W)((M,N)=>(404===M.status?this.errorService.resourceNotFound(y.v.user):this.errorService.handleError(M),(0,i.I)())))}static{this.\u0275fac=function(L){return new(L||f)(w.KVO(I.D),w.KVO(D.I))}}static{this.\u0275prov=w.jDH({token:f,factory:f.\u0275fac})}}return f})()},5602:(lt,we,p)=>{"use strict";p.d(we,{D:()=>f});var i=p(1626),e=p(2771),v=p(7673),y=p(6354),w=p(9437),I=p(7263),D=p(4438),h=p(9564);let f=(()=>{class E{constructor(L,_){this.http=L,this.headersService=_,this.userSubject=new e.m(1),this.actionUrl="users",this.headers=this.headersService.setHeaders()}defaultUserExists(){return this.http.get(`${this.actionUrl}/default-user-exists`,{headers:this.headers}).pipe((0,y.T)(()=>!0),(0,w.W)(_=>(0,v.of)(!1)))}getUser(L){return this.http.get(`${this.actionUrl}/${L}`,{headers:this.headers}).pipe((0,y.T)(M=>(this.userSubject.next(M),M),M=>(this.userSubject.error(M),M)))}getCachedUser(){return this.userSubject}getUsers(L,_,M,N,P){let G=new i.Nl;return(0,I.gP)(L)||(G=G.append("q",L)),_&&(G=G.append("page",String(_))),M&&(G=G.append("pageSize",String(M))),N&&(G=G.append("state",N.toString())),P&&(G=G.append("sort",P.toString())),this.http.get(this.actionUrl,{headers:this.headers,params:G})}getUsersLightweight(L,_,M,N,P){let G=new i.Nl;return(0,I.gP)(L)||(G=G.append("q",L)),_&&(G=G.append("page",String(_))),M&&(G=G.append("pageSize",String(M))),N&&(G=G.append("state",N.toString())),P&&(G=G.append("advancedFilters",P.toString())),this.http.get(`${this.actionUrl}/lightweight`,{headers:this.headers,params:G})}addUser(L){const _=`${this.actionUrl}/`,M=JSON.stringify(L);return this.http.post(_,M,{headers:this.headers,observe:"response"})}addInitialAdministrator(L){const _=`${this.actionUrl}/initialadmin`,M=JSON.stringify(L);return this.http.post(_,M,{headers:this.headers,observe:"response"})}getUserApps(L){return this.http.get(`${this.actionUrl}/${L}/apps`,{headers:this.headers})}revokeAllUserApps(L){return this.http.delete(`${this.actionUrl}/${L}/apps`,{headers:this.headers})}revokeSingleUserApp(L,_){return this.http.delete(`${this.actionUrl}/${L}/apps/${_}`,{headers:this.headers})}updateUser(L){const _=`${this.actionUrl}/${L.subject}`,M=JSON.stringify(L);return this.http.put(_,M,{headers:this.headers})}deleteUser(L){return this.http.delete(`${this.actionUrl}/${L.subject}`,{headers:this.headers})}deleteDefaultUser(){return this.http.delete(`${this.actionUrl}/removedefaultuser`,{headers:this.headers})}addUserRoles(L,_){return this.http.post(`${this.actionUrl}/${L}/roles`,_,{headers:this.headers})}deleteUserRoles(L,_){return this.http.request("delete",`${this.actionUrl}/${L}/roles`,{headers:this.headers,body:_})}addUserClaim(L,_){return this.http.post(`${this.actionUrl}/${L}/claims`,_,{headers:this.headers})}updateUserClaim(L,_){return this.http.put(`${this.actionUrl}/${L}/claims`,_,{headers:this.headers})}deleteUserClaim(L,_){return this.http.request("delete",`${this.actionUrl}/${L}/claims`,{headers:this.headers,body:_})}resetPassword(L){return this.http.get(`${this.actionUrl}/${L}/password/reset`,{headers:this.headers})}resetMfa(L){return this.http.get(`${this.actionUrl}/${L}/mfa/reset`,{headers:this.headers})}getUserLogins(L){return this.http.get(`${this.actionUrl}/${L}/logins`,{headers:this.headers})}revokeUserLogin(L,_){return this.http.request("delete",`${this.actionUrl}/${L}/logins`,{headers:this.headers,body:_})}getLightweightUsersAndIfInRole(L,_,M,N,P){let G=new i.Nl;_&&(G=G.append("state",_.toString()));const x=`${this.actionUrl}/lightweight/isinrole/${L}`;return(0,I.gP)(M)||(G=G.append("searchTerm",M)),N&&(G=G.append("page",String(N))),P&&(G=G.append("pageSize",String(P))),this.http.get(x,{headers:this.headers,params:G})}static{this.\u0275fac=function(_){return new(_||E)(D.KVO(i.Qq),D.KVO(h.m))}}static{this.\u0275prov=D.jDH({token:E,factory:E.\u0275fac})}}return E})()},3431:(lt,we,p)=>{"use strict";p.d(we,{x:()=>w}),p(7756);var e=p(4438),v=p(1626),y=p(9564);let w=(()=>{class D{constructor(f,E){this.http=f,this.headersService=E,this.actionUrl="webhookconfiguration",this.headers=this.headersService.setHeaders()}getWebhooks(){return this.http.get(this.actionUrl,{headers:this.headers})}saveWebhookConfiguration(f){const E=JSON.stringify(f);return this.http.put(this.actionUrl,E,{headers:this.headers})}static{this.\u0275fac=function(E){return new(E||D)(e.KVO(v.Qq),e.KVO(y.m))}}static{this.\u0275prov=e.jDH({token:D,factory:D.\u0275fac})}}return D})()},2036:(lt,we,p)=>{"use strict";p.d(we,{c:()=>y});var i=p(4438),e=p(1626),v=p(9564);let y=(()=>{class w{constructor(D,h){this.http=D,this.headersService=h,this.actionUrl="clients"}getRelyingParty(D){const h=`${this.actionUrl}/${D}/wsfed`,f=this.headersService.setHeaders();return this.http.get(h,{headers:f})}updateRelyingParty(D,h){const f=`${this.actionUrl}/${D}/wsfed`,E=this.headersService.setHeaders("application/vnd.adminui.wsfed-relying-party-v1+json");return this.http.put(f,h,{headers:E})}static{this.\u0275fac=function(h){return new(h||w)(i.KVO(e.Qq),i.KVO(v.m))}}static{this.\u0275prov=i.jDH({token:w,factory:w.\u0275fac})}}return w})()},7294:(lt,we,p)=>{"use strict";p.d(we,{n:()=>y});var i=p(4438);const e=[[["","left",""]],[["","right",""]]],v=["[left]","[right]"];let y=(()=>{class w{static{this.\u0275fac=function(h){return new(h||w)}}static{this.\u0275cmp=i.VBU({type:w,selectors:[["app-action-bar"]],ngContentSelectors:v,decls:4,vars:0,consts:[[1,"tw-flex","tw-items-center","tw-bg-grey-100","tw-py-4","tw-sticky","tw-top-0","tw-z-20"],[1,"tw-shrink-0","tw-ml-auto"]],template:function(h,f){1&h&&(i.NAR(e),i.j41(0,"div",0),i.SdG(1),i.j41(2,"div",1),i.SdG(3,1),i.k0s()())},encapsulation:2})}}return w})()},4193:(lt,we,p)=>{"use strict";p.d(we,{c:()=>I});var i=p(177),e=p(1583),v=p(1683),y=p(1780),w=p(4438);let I=(()=>{class D{static{this.\u0275fac=function(E){return new(E||D)}}static{this.\u0275mod=w.$C({type:D})}static{this.\u0275inj=w.G2t({imports:[i.MD,e.iI,v.Y,y.h]})}}return D})()},9767:(lt,we,p)=>{"use strict";p.d(we,{Ws:()=>e,l1:()=>v});var i=p(9969);function e(){return(0,i.hZ)("fadeInOut",[(0,i.kY)(":enter",[(0,i.iF)({opacity:0}),(0,i.i0)("250ms",(0,i.iF)({opacity:1}))]),(0,i.kY)(":leave",[(0,i.iF)({opacity:1}),(0,i.i0)("250ms",(0,i.iF)({opacity:0}))])])}function v(){return(0,i.hZ)("initLoad",[(0,i.kY)(":enter",[(0,i.iF)({opacity:0}),(0,i.i0)("250ms",(0,i.iF)({opacity:1}))]),(0,i.kY)(":leave",[(0,i.iF)({opacity:1}),(0,i.i0)("250ms",(0,i.iF)({opacity:0}))])])}},7415:(lt,we,p)=>{"use strict";p.d(we,{P:()=>E});var i=p(9417),e=p(2571),v=p(534),y=p(3816),w=p(1780),I=p(8389),D=p(6843),h=p(177),f=p(4438);let E=(()=>{class F{static{this.\u0275fac=function(M){return new(M||F)}}static{this.\u0275mod=f.$C({type:F})}static{this.\u0275inj=f.G2t({imports:[h.MD,e.A,i.X1,y.jr,w.h,v.Ss,I.w,D.l]})}}return F})()},9475:(lt,we,p)=>{"use strict";p.d(we,{F:()=>M});var i=p(177),e=p(7005),v=p(9417),y=p(534),w=p(4304),I=p(1780),D=p(5731),h=p(4193),f=p(7175),E=p(6599),F=p(1683),L=p(1575),_=p(4438);let M=(()=>{class N{static{this.\u0275fac=function(x){return new(x||N)}}static{this.\u0275mod=_.$C({type:N})}static{this.\u0275inj=_.G2t({providers:[L.v],imports:[i.MD,v.YN,v.X1,e.XE,I.h,w.h6,y.Ss,D.i,h.c,f.c,E.Y,F.Y]})}}return N})()},6406:(lt,we,p)=>{"use strict";p.d(we,{z:()=>y});var i=p(4438);const e=["*",[["","right",""]]],v=["*","[right]"];let y=(()=>{class w{static{this.\u0275fac=function(h){return new(h||w)}}static{this.\u0275cmp=i.VBU({type:w,selectors:[["app-button-bar"]],ngContentSelectors:v,decls:6,vars:0,consts:[[1,"tw-bg-grey-200","tw-border","tw-border-grey-300","tw-mt-8","tw-px-4","tw-pt-4","tw-pb-1","xs:tw-border-0","xs:tw-border-t","xs:tw-mb-12","xs:tw-inset-x-0","xs:tw-bottom-0","xs:tw-fixed","xs:tw-z-20"],[1,"tw-container","tw-mx-auto"],[1,"tw-flex","tw-flex-wrap"],[1,"tw-mr-auto"]],template:function(h,f){1&h&&(i.NAR(e),i.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),i.SdG(4),i.k0s(),i.SdG(5,1),i.k0s()()())},encapsulation:2})}}return w})()},1993:(lt,we,p)=>{"use strict";p.d(we,{E:()=>v});var i=p(177),e=p(4438);let v=(()=>{class y{static{this.\u0275fac=function(D){return new(D||y)}}static{this.\u0275mod=e.$C({type:y})}static{this.\u0275inj=e.G2t({imports:[i.MD]})}}return y})()},7499:(lt,we,p)=>{"use strict";p.d(we,{o:()=>v});var i=p(1413),e=p(4438);let v=(()=>{class y{constructor(){this.emitter=new i.B,this.eventStream=new i.B}getChangeEmitter(){return this.emitter}confirm(){this.emitter.next()}static{this.\u0275fac=function(D){return new(D||y)}}static{this.\u0275prov=e.jDH({token:y,factory:y.\u0275fac})}}return y})()},6728:(lt,we,p)=>{"use strict";p.d(we,{E:()=>D});var i=p(4438),e=p(7499),v=p(1780),y=p(779);const w=["canDeactivate"],I=()=>({animated:!1,backdrop:"static"});let D=(()=>{class h{constructor(E,F){this.service=E,this.translate=F,this.param={value:"world"}}ngOnInit(){}ngAfterViewInit(){this.listener=this.service.getChangeEmitter().subscribe(E=>{this.modal.show()})}leave(){this.modal.hide(),this.service.eventStream.next(!0)}stay(){this.modal.hide(),this.service.eventStream.next(!1)}ngOnDestroy(){this.listener?.unsubscribe()}static{this.\u0275fac=function(F){return new(F||h)(i.rXU(e.o),i.rXU(v.c$))}}static{this.\u0275cmp=i.VBU({type:h,selectors:[["app-can-deactivate"]],viewQuery:function(F,L){if(1&F&&i.GBs(w,7),2&F){let _;i.mGM(_=i.lsd())&&(L.modal=_.first)}},decls:28,vars:20,consts:[["canDeactivate","bs-modal"],["bsModal","","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog","modal-dialog--danger"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","tw-text-center","scrollbars"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","stayBtn",1,"tw-btn-danger",3,"click"],["id","leaveBtn",1,"tw-btn-link","tw--mr-4",3,"click"]],template:function(F,L){if(1&F){const _=i.RV6();i.j41(0,"div",1,0)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),i.EFF(6),i.nI1(7,"translate"),i.k0s(),i.j41(8,"button",6),i.bIt("click",function(){return i.eBV(_),i.Njj(L.stay())}),i.nrm(9,"span",7),i.j41(10,"span",8),i.EFF(11),i.nI1(12,"translate"),i.k0s()()(),i.j41(13,"div",9)(14,"p"),i.EFF(15),i.nI1(16,"translate"),i.nI1(17,"translate"),i.k0s()(),i.nrm(18,"div",10),i.j41(19,"div",11)(20,"div",12)(21,"div",13)(22,"button",14),i.bIt("click",function(){return i.eBV(_),i.Njj(L.stay())}),i.EFF(23),i.nI1(24,"translate"),i.k0s()(),i.j41(25,"button",15),i.bIt("click",function(){return i.eBV(_),i.Njj(L.leave())}),i.EFF(26),i.nI1(27,"translate"),i.k0s()()()()()()}2&F&&(i.Y8G("config",i.lJ4(19,I)),i.R7$(6),i.JRh(i.bMT(7,7,"Notifications.UnsavedChangesTitle")),i.R7$(5),i.JRh(i.bMT(12,9,"Common.Close")),i.R7$(4),i.Lme("",i.bMT(16,11,"Notifications.UnsavedChanges")," ",i.bMT(17,13,"Notifications.ContinueWithoutSaving"),""),i.R7$(8),i.JRh(i.bMT(24,15,"Notifications.StayHere")),i.R7$(3),i.JRh(i.bMT(27,17,"Notifications.DiscardChanges")))},dependencies:[y.hZ,v.D9],encapsulation:2})}}return h})()},8455:(lt,we,p)=>{"use strict";p.d(we,{p:()=>D});var i=p(779),e=p(8416),v=p(7499),y=p(1780),w=p(177),I=p(4438);let D=(()=>{class h{static{this.\u0275fac=function(F){return new(F||h)}}static{this.\u0275mod=I.$C({type:h})}static{this.\u0275inj=I.G2t({providers:[e.M,v.o],imports:[w.MD,i.Q_,y.h]})}}return h})()},8416:(lt,we,p)=>{"use strict";p.d(we,{M:()=>e});var i=p(4438);let e=(()=>{class v{canDeactivate(w){return!w.canDeactivate||w.canDeactivate()}static{this.\u0275fac=function(I){return new(I||v)}}static{this.\u0275prov=i.jDH({token:v,factory:v.\u0275fac})}}return v})()},5404:(lt,we,p)=>{"use strict";p.d(we,{V:()=>f});var i=p(467),e=p(4438),v=p(2261),y=p(5794),w=p(1780),I=p(9417),D=p(8698);const h=["fileInput"];let f=(()=>{class E{constructor(L,_,M){this.certPickerService=L,this.toastr=_,this.translate=M,this.metadata="",this.dataExists=new e.bkB}ngOnInit(){}handleFileInput(L){this.fileToUpload=L.item(0),this.dataExists.emit(this.hasData())}metaDataKeyDown(){this.dataExists.emit(this.hasData())}hasData(){return!(this.metadata.length<=1&&!this.fileToUpload)}getCertificateModel(){var L=this;return(0,i.A)(function*(){let _="";if(L.fileToUpload){const N=L.fileToUpload.slice(0),P=new FileReader,x=new Promise(function(V,Q){P.onloadend=function(){const le=P.result.split("base64,");V(le[1])}});P.readAsDataURL(N),_=yield x}else""!==L.metadata&&(_=L.metadata);const M=yield L.tryBuildCertModel(_);return L.resetForm(L),M})()}resetForm(L){L.fileToUpload=null,L.fileInput.nativeElement.value="",L.metadata="",L.dataExists.emit(L.hasData())}tryBuildCertModel(L){var _=this;return(0,i.A)(function*(){let M;try{const N=_.certPickerService.convertStringToArrayBuffer(L);M=yield _.certPickerService.buildCertModelFromArrayBuffer(N,L)}catch(N){throw _.toastr.error(_.translate.instant("Clients.Import.Wizard.Certificates.TryAgainDifferentFile"),_.translate.instant("Clients.Import.Wizard.Certificates.FailedToParseCertificate")),N}return M})()}static{this.\u0275fac=function(_){return new(_||E)(e.rXU(v.V),e.rXU(y.tw),e.rXU(w.c$))}}static{this.\u0275cmp=e.VBU({type:E,selectors:[["app-cert-reader"]],viewQuery:function(_,M){if(1&_&&e.GBs(h,7),2&_){let N;e.mGM(N=e.lsd())&&(M.fileInput=N.first)}},inputs:{uploadCert:"uploadCert",uploadCertHelp:"uploadCertHelp",certMetaData:"certMetaData",certMetaDataHelp:"certMetaDataHelp"},outputs:{dataExists:"dataExists"},decls:11,vars:14,consts:[["fileInput",""],[3,"id","label","help","isLast"],[1,"tw-form-control"],["id","fileInput","type","file","name","cert","accept",".cer",1,"tw-form-file","tw-max-w-full",3,"change","disabled"],[1,"tw-flex","tw-items-center","tw-justify-center","tw-border-b","tw-border-grey-300","tw-my-8","tw-relative","tw-z-10"],[1,"tw-inline-block","tw-bg-grey-100","tw-text-xs","tw-leading-none","tw-uppercase","tw-text-grey-500","tw--my-2","tw-px-2"],["id","metaData",1,"tw-form-control",3,"ngModelChange","keyup","disabled","ngModel"]],template:function(_,M){if(1&_){const N=e.RV6();e.j41(0,"app-form-row",1)(1,"div",2)(2,"input",3,0),e.bIt("change",function(G){return e.eBV(N),e.Njj(M.handleFileInput(G.target.files))}),e.k0s()()(),e.j41(4,"div",4)(5,"span",5),e.EFF(6),e.nI1(7,"translate"),e.k0s()(),e.j41(8,"app-form-row",1)(9,"textarea",6),e.mxI("ngModelChange",function(G){return e.eBV(N),e.DH7(M.metadata,G)||(M.metadata=G),e.Njj(G)}),e.bIt("keyup",function(){return e.eBV(N),e.Njj(M.metaDataKeyDown())}),e.EFF(10,"  "),e.k0s()()}2&_&&(e.Y8G("id","fileInput")("label",M.uploadCert)("help",M.uploadCertHelp)("isLast",!0),e.R7$(2),e.Y8G("disabled",""!=M.metadata),e.R7$(4),e.JRh(e.bMT(7,12,"Common.Or")),e.R7$(2),e.Y8G("id","metaData")("label",M.certMetaData)("help",M.certMetaDataHelp)("isLast",!0),e.R7$(),e.Y8G("disabled",null!=M.fileToUpload),e.R50("ngModel",M.metadata))},dependencies:[I.me,I.BC,I.vS,D.Y,w.D9],encapsulation:2})}}return E})()},75:(lt,we,p)=>{"use strict";p.d(we,{U:()=>D});var i=p(1683),e=p(177),v=p(1780),y=p(9417),w=p(8389),I=p(4438);let D=(()=>{class h{static{this.\u0275fac=function(F){return new(F||h)}}static{this.\u0275mod=I.$C({type:h})}static{this.\u0275inj=I.G2t({imports:[i.Y,e.MD,v.h,y.YN,w.w]})}}return h})()},4354:(lt,we,p)=>{"use strict";p.d(we,{f:()=>P});var i=p(1413),e=p(4438),v=p(177),y=p(9417);let w=(()=>{class G{transform(V,Q){let Y=V;return Q&&(Y=V.filter(le=>le.name.toUpperCase().includes(Q))),Y}static{this.\u0275fac=function(Q){return new(Q||G)}}static{this.\u0275pipe=e.EJ8({name:"search",type:G,pure:!0})}}return G})();var I=p(1780);const D=G=>({"tw-text-grey-600":G});function h(G,x){if(1&G){const V=e.RV6();e.j41(0,"div",19)(1,"label",20),e.nrm(2,"span",21),e.j41(3,"span",13),e.EFF(4),e.nI1(5,"translate"),e.k0s()(),e.j41(6,"input",22),e.mxI("ngModelChange",function(Y){e.eBV(V);const le=e.XpG();return e.DH7(le.availableSearchValue,Y)||(le.availableSearchValue=Y),e.Njj(Y)}),e.k0s()()}if(2&G){const V=e.XpG();e.R7$(4),e.JRh(e.bMT(5,2,"Common.Search")),e.R7$(2),e.R50("ngModel",V.availableSearchValue)}}function f(G,x){1&G&&e.nrm(0,"span",30)}function E(G,x){if(1&G&&(e.j41(0,"span",31),e.EFF(1),e.k0s()),2&G){const V=e.XpG().$implicit;e.R7$(),e.SpI(" ",V.description," ")}}function F(G,x){if(1&G){const V=e.RV6();e.j41(0,"li",23)(1,"label",24)(2,"input",25),e.bIt("change",function(){const Y=e.eBV(V).$implicit,le=e.XpG();return e.Njj(le.selectAvailable(Y))}),e.k0s(),e.j41(3,"span",26)(4,"span",27),e.DNE(5,f,1,0,"span",28),e.EFF(6),e.k0s(),e.DNE(7,E,2,1,"span",29),e.k0s()()()}if(2&G){let V;const Q=x.$implicit,Y=e.XpG();e.R7$(),e.Y8G("htmlFor",Y.prefix+Q.name),e.R7$(),e.FS9("id",Y.prefix+Q.name),e.FS9("name",Q.name),e.Y8G("checked",Q.selected)("disabled",Y.isRestricted(Q)||Y.isReadOnly),e.R7$(2),e.Y8G("ngClass",e.eq3(10,D,Y.isReadOnly)),e.R7$(),e.Y8G("ngIf",Y.isRestricted(Q)),e.R7$(),e.Lme(" ",null!==(V=Q.displayName)&&void 0!==V?V:Q.name," ",Q.shared?"*":""," "),e.R7$(),e.Y8G("ngIf",(null==Q.description?null:Q.description.length)>0)}}function L(G,x){if(1&G){const V=e.RV6();e.j41(0,"div",32)(1,"label",33),e.nrm(2,"span",21),e.j41(3,"span",13),e.EFF(4),e.nI1(5,"translate"),e.k0s()(),e.j41(6,"input",34),e.mxI("ngModelChange",function(Y){e.eBV(V);const le=e.XpG();return e.DH7(le.assignedSearchValue,Y)||(le.assignedSearchValue=Y),e.Njj(Y)}),e.k0s()()}if(2&G){const V=e.XpG();e.R7$(4),e.JRh(e.bMT(5,2,"Common.Search")),e.R7$(2),e.R50("ngModel",V.assignedSearchValue)}}function _(G,x){1&G&&e.nrm(0,"span",30)}function M(G,x){if(1&G&&(e.j41(0,"span",31),e.EFF(1),e.k0s()),2&G){const V=e.XpG().$implicit;e.R7$(),e.SpI(" ",V.description," ")}}function N(G,x){if(1&G){const V=e.RV6();e.j41(0,"li",35)(1,"label",24)(2,"input",25),e.bIt("change",function(){const Y=e.eBV(V).$implicit,le=e.XpG();return e.Njj(le.selectAssigned(Y))}),e.k0s(),e.j41(3,"span",26)(4,"span",27),e.DNE(5,_,1,0,"span",28),e.EFF(6),e.k0s(),e.DNE(7,M,2,1,"span",29),e.k0s()()()}if(2&G){let V;const Q=x.$implicit,Y=e.XpG();e.R7$(),e.Y8G("htmlFor",Y.prefix+Q.name),e.R7$(),e.FS9("id",Y.prefix+Q.name),e.FS9("name",Q.name),e.Y8G("checked",Q.selected)("disabled",Y.isRestricted(Q)||Y.isReadOnly),e.R7$(2),e.Y8G("ngClass",e.eq3(10,D,Y.isReadOnly)),e.R7$(),e.Y8G("ngIf",Y.isRestricted(Q)),e.R7$(),e.Lme(" ",null!==(V=Q.displayName)&&void 0!==V?V:Q.name," ",Q.shared?"*":""," "),e.R7$(),e.Y8G("ngIf",(null==Q.description?null:Q.description.length)>0)}}let P=(()=>{class G{set availableInput(V){this.available=this.sortArray(V)}set assignedInput(V){this.assigned=this.sortArray(V)}set isReadOnly(V){this._isReadOnly=V||!1}get isReadOnly(){return this._isReadOnly}constructor(){this.availableCount=0,this.assignedCount=0,this.unAssignedStream=new i.B,this.assignedStream=new i.B}ngOnInit(){this.prefix=Math.random().toString(36).replace(/[^a-z]+/g,"").substring(0,5)}sortArray(V){if(V&&V.length>0)for(const Q of V)Q.selected=!1;return V.sort((Q,Y)=>Q.name<Y.name?-1:1)}selectAvailable(V){V.selected?this.availableCount-=1:this.availableCount+=1,V.selected=!V.selected}selectAssigned(V){V.selected?this.assignedCount-=1:this.assignedCount+=1,V.selected=!V.selected}assignItems(){let V=this.available.filter(Q=>Q.selected);this.assignedStream.next(V),this.available.forEach(Q=>{Q.selected=!1}),this.assigned.forEach(Q=>{Q.selected=!1}),V=[]}unAssignItems(){let V=this.assigned.filter(Q=>Q.selected);this.unAssignedStream.next(V),this.available.forEach(Q=>{Q.selected=!1}),this.assigned.forEach(Q=>{Q.selected=!1}),V=[]}isRestricted(V){if(this.restrictedInput)for(let Q=0;Q<this.restrictedInput.length;Q++)if(this.restrictedInput[Q].value===V.name)return!0}static{this.\u0275fac=function(Q){return new(Q||G)}}static{this.\u0275cmp=e.VBU({type:G,selectors:[["app-common-picker"]],inputs:{availableInput:"availableInput",assignedInput:"assignedInput",restrictedInput:"restrictedInput",assignedSearch:"assignedSearch",availableSearch:"availableSearch",isReadOnly:"isReadOnly"},decls:37,vars:28,consts:[["id","commonPicker",1,"tw-mx-auto","md:tw-flex","md:tw-justify-between"],[1,"tw-bg-white","tw-border","tw-border-grey-300","md:tw-w-2/5"],[1,"tw-flex","tw-flex-col","tw-items-center","tw-justify-start","tw-bg-primary-100","tw-border-b","tw-border-grey-300","tw-py-3","tw-px-4","md:tw-h-24","md:tw-py-1","md:tw-justify-center"],[1,"tw-font-semibold","tw-text-base","tw-truncate"],["class","tw-mt-3 tw-w-full tw-relative","id","availableSearch",4,"ngIf"],[1,"tw-py-2","tw-h-64","tw-overflow-hidden","tw-overflow-y-scroll","scrollbars","md:tw-h-72"],["id","unassignedItems","class","tw-py-3 tw-px-4",4,"ngFor","ngForOf"],[1,"md:tw-self-center","md:tw-shrink-0","md:tw-w-1/5"],["id","assignButtons",1,"tw-flex","tw-items-center","tw-justify-center","tw-p-2","md:tw-flex-wrap","lg:tw-px-3","xl:tw-px-4"],[1,"tw-p-2","tw-w-24","tw-text-center","md:tw-w-full"],["id","assignBtn",1,"tw-btn","tw-w-full","tw-max-w-32",3,"click","disabled"],["aria-hidden","true",1,"far","fa-chevron-down","md:tw-hidden"],["aria-hidden","true",1,"far","fa-chevron-right","tw-hidden","md:tw-inline"],[1,"sr-only"],["id","unAssignBtn",1,"tw-btn","tw-w-full","tw-max-w-32",3,"click","disabled"],["aria-hidden","true",1,"far","fa-chevron-up","md:tw-hidden"],["aria-hidden","true",1,"far","fa-chevron-left","tw-hidden","md:tw-inline"],["class","tw-mt-3 tw-w-full tw-relative","id","assignedSearch",4,"ngIf"],["id","assignedItems","class","tw-py-3 tw-px-4",4,"ngFor","ngForOf"],["id","availableSearch",1,"tw-mt-3","tw-w-full","tw-relative"],["for","searchAvailable",1,"tw-flex","tw-items-center","tw-justify-center","tw-text-grey-700","tw-mb-0","tw-w-10","tw-absolute","tw-inset-y-0"],["aria-hidden","true",1,"far","fa-search","tw-text-sm","tw-cursor-pointer"],["id","searchAvailable","name","availableSearchValue","type","search",1,"tw-form-control","tw-w-full","tw-pl-10",3,"ngModelChange","ngModel"],["id","unassignedItems",1,"tw-py-3","tw-px-4"],[1,"tw-flex","tw-items-start","tw-m-0","tw-text-sm","tw-leading-none","tw-normal-case","tw-cursor-pointer","tw-truncate",3,"htmlFor"],["type","checkbox",1,"tw-block","tw-mr-2",3,"change","id","name","checked","disabled"],[1,"tw-block","tw-w-full","tw-truncate"],[3,"ngClass"],["class","fas fa-lock tw-text-red-500 tw-text-xs tw-mr-1",4,"ngIf"],["class","tw-block tw-mt-2 tw-font-normal tw-text-xs tw-leading-none tw-text-grey-600 tw-truncate",4,"ngIf"],[1,"fas","fa-lock","tw-text-red-500","tw-text-xs","tw-mr-1"],[1,"tw-block","tw-mt-2","tw-font-normal","tw-text-xs","tw-leading-none","tw-text-grey-600","tw-truncate"],["id","assignedSearch",1,"tw-mt-3","tw-w-full","tw-relative"],["for","searchAssigned",1,"tw-flex","tw-items-center","tw-justify-center","tw-text-grey-700","tw-mb-0","tw-w-10","tw-absolute","tw-inset-y-0"],["id","searchAssigned","name","assignedSearchValue","type","search",1,"tw-form-control","tw-w-full","tw-pl-10",3,"ngModelChange","ngModel"],["id","assignedItems",1,"tw-py-3","tw-px-4"]],template:function(Q,Y){1&Q&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.DNE(6,h,7,4,"div",4),e.k0s(),e.j41(7,"ul",5),e.DNE(8,F,8,12,"li",6),e.nI1(9,"uppercase"),e.nI1(10,"search"),e.k0s()(),e.j41(11,"div",7)(12,"ul",8)(13,"li",9)(14,"button",10),e.bIt("click",function(){return Y.assignItems()}),e.nrm(15,"span",11)(16,"span",12),e.j41(17,"span",13),e.EFF(18),e.nI1(19,"translate"),e.k0s()()(),e.j41(20,"li",9)(21,"button",14),e.bIt("click",function(){return Y.unAssignItems()}),e.nrm(22,"span",15)(23,"span",16),e.j41(24,"span",13),e.EFF(25),e.nI1(26,"translate"),e.k0s()()()()(),e.j41(27,"div",1)(28,"div",2)(29,"h2",3),e.EFF(30),e.nI1(31,"translate"),e.k0s(),e.DNE(32,L,7,4,"div",17),e.k0s(),e.j41(33,"ul",5),e.DNE(34,N,8,12,"li",18),e.nI1(35,"uppercase"),e.nI1(36,"search"),e.k0s()()()),2&Q&&(e.R7$(4),e.JRh(e.bMT(5,10,"UserDetails.Available")),e.R7$(2),e.Y8G("ngIf",Y.availableSearch||!Y.isReadOnly),e.R7$(2),e.Y8G("ngForOf",e.i5U(10,14,Y.available,e.bMT(9,12,Y.availableSearchValue))),e.R7$(6),e.Y8G("disabled",Y.availableCount<1||Y.isReadOnly),e.R7$(4),e.JRh(e.bMT(19,17,"Common.Unassign")),e.R7$(3),e.Y8G("disabled",Y.assignedCount<1||Y.isReadOnly),e.R7$(4),e.JRh(e.bMT(26,19,"Common.Assign")),e.R7$(5),e.JRh(e.bMT(31,21,"UserDetails.Assigned")),e.R7$(2),e.Y8G("ngIf",Y.assignedSearch||!Y.isReadOnly),e.R7$(2),e.Y8G("ngForOf",e.i5U(36,25,Y.assigned,e.bMT(35,23,Y.assignedSearchValue))))},dependencies:[v.YU,v.Sq,v.bT,y.me,y.BC,y.vS,v.Pc,w,I.D9],encapsulation:2})}}return G})()},2571:(lt,we,p)=>{"use strict";p.d(we,{A:()=>I});var i=p(9417),e=p(1683),v=p(177),y=p(1780),w=p(4438);let I=(()=>{class D{static{this.\u0275fac=function(E){return new(E||D)}}static{this.\u0275mod=w.$C({type:D})}static{this.\u0275inj=w.G2t({imports:[v.MD,i.YN,e.Y,y.h]})}}return D})()},275:(lt,we,p)=>{"use strict";p.d(we,{W:()=>w});var i=p(177),e=p(1780),v=p(1583),y=p(4438);let w=(()=>{class I{static{this.\u0275fac=function(f){return new(f||I)}}static{this.\u0275mod=y.$C({type:I})}static{this.\u0275inj=y.G2t({imports:[i.MD,e.h,v.iI]})}}return I})()},6719:(lt,we,p)=>{"use strict";p.d(we,{G:()=>y});var i=p(4438),e=p(1583);const v=["*"];let y=(()=>{class w{constructor(D){this.activatedRoute=D,this.restrictedStarter=!1,this.active=!1}ngOnInit(){const D=this.activatedRoute.snapshot;null!==D.firstChild&&null!==D.firstChild.routeConfig&&D.firstChild.routeConfig.path===this.value&&(this.active=!0)}static{this.\u0275fac=function(h){return new(h||w)(i.rXU(e.nX))}}static{this.\u0275cmp=i.VBU({type:w,selectors:[["app-custom-tab"]],inputs:{title:[i.Mj6.None,"tabTitle","title"],value:[i.Mj6.None,"tabValue","value"],restrictedStarter:"restrictedStarter"},ngContentSelectors:v,decls:1,vars:0,template:function(h,f){1&h&&(i.NAR(),i.SdG(0))},encapsulation:2})}}return w})()},251:(lt,we,p)=>{"use strict";p.d(we,{v:()=>F});var i=p(6719),e=p(4438),v=p(1583),y=p(177),w=p(1780);const I=(L,_)=>({tabs:L,"pill-tabs":_}),D=(L,_)=>({tabs__item:L,"pill-tabs__item":_}),h=(L,_)=>({tabs__link:L,"pill-tabs__link":_});function f(L,_){1&L&&(e.j41(0,"span",5)(1,"span",6),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.nrm(4,"span",7),e.k0s()),2&L&&(e.R7$(2),e.JRh(e.bMT(3,1,"StarterMode.RequiresUpgrade")))}function E(L,_){if(1&L){const M=e.RV6();e.j41(0,"li",2)(1,"button",3),e.bIt("click",function(){const P=e.eBV(M).$implicit,G=e.XpG();return e.Njj(G.changeTab(P))}),e.EFF(2),e.nI1(3,"translate"),e.DNE(4,f,5,3,"span",4),e.k0s()()}if(2&L){const M=_.$implicit,N=_.index,P=e.XpG();e.Y8G("ngClass",e.l_i(11,D,!P.pillMode,P.pillMode)),e.R7$(),e.AVh("active",M.active),e.Y8G("id","customTab"+N)("ngClass",e.l_i(14,h,!P.pillMode,P.pillMode)),e.BMQ("data-value",M.value)("aria-selected",M.active),e.R7$(),e.SpI(" ",e.bMT(3,9,M.title)," "),e.R7$(2),e.Y8G("ngIf",M.restrictedStarter)}}let F=(()=>{class L{constructor(M,N){this.router=M,this.activatedRoute=N,this.pillMode=!1}ngOnInit(){"string"==typeof this.pillMode&&(this.pillMode="true"===this.pillMode)}ngAfterContentInit(){const M=this.tabs.filter(N=>N.active);M&&!M.length&&this.changeTab(this.tabs.first)}changeTab(M){!this.tabs||!this.tabs.length||M.active||(this.setActiveTab(M),this.router.navigate([M.value],{relativeTo:this.activatedRoute}))}setActiveTab(M){this.tabs.toArray().forEach(N=>N.active=!1),M.active=!0}static{this.\u0275fac=function(N){return new(N||L)(e.rXU(v.Ix),e.rXU(v.nX))}}static{this.\u0275cmp=e.VBU({type:L,selectors:[["app-custom-tabs"]],contentQueries:function(N,P,G){if(1&N&&e.wni(G,i.G,4),2&N){let x;e.mGM(x=e.lsd())&&(P.tabs=x)}},inputs:{pillMode:"pillMode"},decls:3,vars:8,consts:[["role","tablist",3,"ngClass"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],["role","tab",3,"click","id","ngClass"],["id","upgradeSymbol",4,"ngIf"],["id","upgradeSymbol"],[1,"sr-only"],["aria-hidden","true",1,"tw-text-secondary-500","far","fa-arrow-alt-circle-up","tw-pl-1"]],template:function(N,P){1&N&&(e.j41(0,"ul",0),e.nI1(1,"translate"),e.DNE(2,E,5,17,"li",1),e.k0s()),2&N&&(e.Y8G("ngClass",e.l_i(5,I,!P.pillMode,P.pillMode)),e.BMQ("aria-label",e.bMT(1,3,"Nav.SubMenu")),e.R7$(2),e.Y8G("ngForOf",P.tabs))},dependencies:[y.YU,y.Sq,y.bT,w.D9],encapsulation:2})}}return L})()},8577:(lt,we,p)=>{"use strict";p.d(we,{$:()=>I,w:()=>D});var i=p(4438),e=p(1589),v=p(2390),y=p(923),w=p(9812);class I{get datePipe(){return this._datePipe}constructor(f=y.N.standardDate,E="Common.NoDateSet"){this._datePipe=new e.El,this.noDateLabel=E??"Common.NoDateSet",this._datePipe=(()=>{switch(f){case y.N.standardDate:return new e.El;case y.N.standardDateTime:return new e.r7;case y.N.prettyDateTime:return new e.sp;default:return new e.El}})()}}let D=(()=>{class h{constructor(E){this.dataTableService=E,this.headClasses="",this.cellClasses="",this.isPlaceholder=!1,this.isBoolean=!1,this.placeholder="",this.navigate=new i.bkB}ngOnDestroy(){this.dataTableSub?.unsubscribe()}ngOnInit(){this.dataTableSub=this.dataTableService.sortCompletedEvent.subscribe(E=>{null!=this.sort&&this.setSort(E)})}get dateColumn(){return"boolean"==typeof this.date?new I:this.date}format(E){return void 0!==this.formatter?this.formatter(E):E}get sortClass(){if(null==this.sort)return"";switch(this.sort){case v.uy.None:return"fad fa-sort";case v.uy.Ascending:return"fas fa-caret-up";case v.uy.Descending:return"fas fa-caret-down"}}setSort(E){this.sort=E==this.prop?this.sort==v.uy.Descending?v.uy.Ascending:v.uy.Descending:v.uy.None}static{this.\u0275fac=function(F){return new(F||h)(i.rXU(w.I))}}static{this.\u0275cmp=i.VBU({type:h,selectors:[["app-data-table-column"]],inputs:{title:"title",prop:"prop",headClasses:"headClasses",cellClasses:"cellClasses",date:"date",link:"link",isPlaceholder:"isPlaceholder",isBoolean:"isBoolean",placeholder:"placeholder",formatter:"formatter",sort:"sort"},outputs:{navigate:"navigate"},decls:0,vars:0,template:function(F,L){},encapsulation:2})}}return h})()},4252:(lt,we,p)=>{"use strict";p.d(we,{AA:()=>Ee,up:()=>Je});var i=p(4438),e=p(8577),v=p(1583),y=p(9812),w=p(177),I=p(1780);const D=["selectButton"],h=["deleteButton"],f=se=>({hover:se}),E=se=>({"tw-mr-2":se});function F(se,Oe){if(1&se&&(i.j41(0,"div",7),i.nrm(1,"div",8),i.nI1(2,"translate"),i.k0s()),2&se){const Ie=i.XpG();i.R7$(),i.Y8G("innerHTML",i.bMT(2,1,Ie.noRowsLabel),i.npT)}}function L(se,Oe){if(1&se&&i.nrm(0,"span",14),2&se){const Ie=i.XpG().$implicit;i.Y8G("ngClass",Ie.sortClass)}}function _(se,Oe){if(1&se){const Ie=i.RV6();i.j41(0,"th",13),i.bIt("click",function(){const xe=i.eBV(Ie).$implicit,pt=i.XpG(2);return i.Njj(pt.sortColumn(xe))}),i.j41(1,"span",14),i.EFF(2),i.nI1(3,"translate"),i.k0s(),i.DNE(4,L,1,1,"span",15),i.k0s()}if(2&se){const Ie=Oe.$implicit;i.Y8G("className",Ie.headClasses),i.R7$(),i.Y8G("ngClass",i.eq3(6,E,null!=Ie.sort)),i.R7$(),i.JRh(i.bMT(3,4,Ie.title)),i.R7$(2),i.Y8G("ngIf",null!=Ie.sort)}}function M(se,Oe){1&se&&(i.j41(0,"th",16)(1,"span",17),i.EFF(2),i.nI1(3,"translate"),i.k0s()()),2&se&&(i.R7$(2),i.JRh(i.bMT(3,1,"Common.Actions")))}function N(se,Oe){if(1&se&&(i.qex(0),i.EFF(1),i.bVm()),2&se){const Ie=i.XpG(3).$implicit;i.R7$(),i.SpI(" ",Ie," ")}}function P(se,Oe){if(1&se&&(i.qex(0),i.EFF(1),i.bVm()),2&se){const Ie=i.XpG(4).$implicit,it=i.XpG().$implicit;i.R7$(),i.SpI(" ",Ie.dateColumn.datePipe.transform(it[Ie.prop])," ")}}function G(se,Oe){if(1&se&&(i.EFF(0),i.nI1(1,"translate")),2&se){const Ie=i.XpG(4).$implicit;i.SpI(" ",i.bMT(1,1,Ie.dateColumn.noDateLabel)," ")}}function x(se,Oe){if(1&se&&(i.qex(0),i.DNE(1,P,2,1,"ng-container",21)(2,G,2,3,"ng-template",null,1,i.C5r),i.bVm()),2&se){const Ie=i.sdS(3),it=i.XpG(3).$implicit,xe=i.XpG().$implicit;i.R7$(),i.Y8G("ngIf",xe[it.prop])("ngIfElse",Ie)}}function V(se,Oe){if(1&se){const Ie=i.RV6();i.qex(0),i.j41(1,"a",22),i.bIt("click",function(){i.eBV(Ie);const xe=i.XpG(5).$implicit,pt=i.XpG(2);return i.Njj(!!pt.clickLinkCell(xe.link))}),i.EFF(2),i.k0s(),i.bVm()}if(2&se){const Ie=i.XpG(4).$implicit,it=i.XpG().$implicit;i.R7$(),i.FS9("href",it.routeLink,i.B4B),i.R7$(),i.SpI(" ",it[Ie.prop]," ")}}function Q(se,Oe){if(1&se&&i.nrm(0,"span",23),2&se){const Ie=i.XpG(4).$implicit,it=i.XpG().$implicit;i.Y8G("innerHTML",Ie.format(it[Ie.prop]),i.npT)}}function Y(se,Oe){if(1&se&&i.DNE(0,V,3,2,"ng-container",21)(1,Q,1,1,"ng-template",null,2,i.C5r),2&se){const Ie=i.sdS(2),it=i.XpG(3).$implicit;i.Y8G("ngIf",it.link)("ngIfElse",Ie)}}function le(se,Oe){if(1&se&&(i.qex(0),i.DNE(1,x,4,2,"ng-container",21)(2,Y,3,2,"ng-template",null,0,i.C5r),i.bVm()),2&se){const Ie=i.sdS(3),it=i.XpG(2).$implicit;i.R7$(),i.Y8G("ngIf",it.date)("ngIfElse",Ie)}}function fe(se,Oe){if(1&se&&(i.qex(0),i.DNE(1,N,2,1,"ng-container",20)(2,le,4,2,"ng-container",20),i.bVm()),2&se){const Ie=i.XpG().$implicit;i.R7$(),i.Y8G("ngIf",null==Ie.prop),i.R7$(),i.Y8G("ngIf",null!=Ie.prop)}}function K(se,Oe){if(1&se&&(i.qex(0),i.j41(1,"span",24),i.EFF(2),i.nI1(3,"translate"),i.k0s(),i.bVm()),2&se){const Ie=i.XpG().$implicit;i.R7$(2),i.JRh(i.bMT(3,1,Ie.placeholder))}}function ee(se,Oe){1&se&&(i.j41(0,"span",27)(1,"span",17),i.EFF(2),i.nI1(3,"translate"),i.k0s()()),2&se&&(i.R7$(2),i.JRh(i.bMT(3,1,"Common.Yes")))}function ie(se,Oe){1&se&&(i.j41(0,"span",28)(1,"span",17),i.EFF(2),i.nI1(3,"translate"),i.k0s()()),2&se&&(i.R7$(2),i.JRh(i.bMT(3,1,"Common.No")))}function T(se,Oe){if(1&se&&(i.qex(0),i.DNE(1,ee,4,3,"span",25)(2,ie,4,3,"span",26),i.bVm()),2&se){const Ie=i.XpG().$implicit,it=i.XpG().$implicit;i.R7$(),i.Y8G("ngIf",it[Ie.prop]),i.R7$(),i.Y8G("ngIf",!it[Ie.prop])}}function ae(se,Oe){if(1&se&&(i.j41(0,"td",19),i.DNE(1,fe,3,2,"ng-container",20)(2,K,4,3,"ng-container",20)(3,T,3,2,"ng-container",20),i.k0s()),2&se){const Ie=Oe.$implicit;i.Y8G("className",Ie.cellClasses),i.BMQ("data-label",Ie.title),i.R7$(),i.Y8G("ngIf",!Ie.isPlaceholder&&!Ie.isBoolean),i.R7$(),i.Y8G("ngIf",Ie.isPlaceholder),i.R7$(),i.Y8G("ngIf",Ie.isBoolean)}}function re(se,Oe){if(1&se){const Ie=i.RV6();i.j41(0,"button",32,3),i.bIt("click",function(){i.eBV(Ie);const xe=i.XpG(2).$implicit,pt=i.XpG(2);return i.Njj(pt.selectRow(xe))}),i.nrm(2,"span",33),i.j41(3,"span",17),i.EFF(4),i.nI1(5,"translate"),i.k0s()()}2&se&&(i.R7$(4),i.JRh(i.bMT(5,1,"Common.Edit")))}function Me(se,Oe){if(1&se){const Ie=i.RV6();i.j41(0,"button",34,4),i.bIt("click",function(){i.eBV(Ie);const xe=i.XpG(2).index,pt=i.XpG(2);return i.Njj(pt.deleteRow(xe))}),i.nrm(2,"span",35),i.j41(3,"span",17),i.EFF(4),i.nI1(5,"translate"),i.k0s()()}2&se&&(i.R7$(4),i.JRh(i.bMT(5,1,"Common.Remove.Title")))}function Qe(se,Oe){if(1&se&&(i.j41(0,"td",16)(1,"div",29),i.DNE(2,re,6,3,"button",30)(3,Me,6,3,"button",31),i.k0s()()),2&se){const Ie=i.XpG(3);i.R7$(2),i.Y8G("ngIf",Ie.canSelect),i.R7$(),i.Y8G("ngIf",Ie.canDelete)}}function Le(se,Oe){if(1&se&&(i.j41(0,"tr"),i.DNE(1,ae,4,5,"td",18)(2,Qe,4,2,"td",11),i.k0s()),2&se){const Ie=i.XpG(2);i.R7$(),i.Y8G("ngForOf",Ie.columns),i.R7$(),i.Y8G("ngIf",Ie.actions)}}function Ne(se,Oe){if(1&se&&(i.j41(0,"table",9)(1,"thead")(2,"tr"),i.DNE(3,_,5,8,"th",10)(4,M,4,3,"th",11),i.k0s()(),i.j41(5,"tbody"),i.DNE(6,Le,3,2,"tr",12),i.k0s()()),2&se){const Ie=i.XpG();i.Y8G("ngClass",i.eq3(4,f,!Ie.isReadOnly)),i.R7$(3),i.Y8G("ngForOf",Ie.columns),i.R7$(),i.Y8G("ngIf",Ie.actions),i.R7$(2),i.Y8G("ngForOf",Ie.rows)}}let Je=(()=>{class se{set isReadOnly(Ie){this._isReadOnly=Ie||!1}get isReadOnly(){return this._isReadOnly}constructor(Ie,it){this.router=Ie,this.dataTableService=it,this.onSelect=new i.bkB}ngOnInit(){this.isReadOnly?(this.canDelete=!1,this.canSelect=!1):this.actions&&(this.canDelete=this.actions.includes(Ee.Delete),this.canSelect=this.actions.includes(Ee.Select))}ngAfterViewInit(){this.dataTableService.columns=this.columns}deleteRow(Ie){this.canDelete&&this.dataTableService.deleteRowEvent.next(Ie)}selectRow(Ie){if(this.canSelect){const it=new be(Ie,this.selectButtonRef);this.onSelect.emit(it)}}clickLinkCell(Ie){this.router.navigate([`${Ie.routeForLink}`,Ie.identifier])}sortColumn(Ie){(null!=Ie.sort||null!=Ie.sort)&&this.dataTableService.sortColumnEvent.next(Ie)}static{this.\u0275fac=function(it){return new(it||se)(i.rXU(v.Ix),i.rXU(y.I))}}static{this.\u0275cmp=i.VBU({type:se,selectors:[["app-data-table"]],contentQueries:function(it,xe,pt){if(1&it&&i.wni(pt,e.w,4),2&it){let vt;i.mGM(vt=i.lsd())&&(xe.columns=vt)}},viewQuery:function(it,xe){if(1&it&&(i.GBs(D,5),i.GBs(h,5)),2&it){let pt;i.mGM(pt=i.lsd())&&(xe.selectButtonRef=pt.first),i.mGM(pt=i.lsd())&&(xe.deleteButtonRef=pt.first)}},inputs:{noRowsLabel:[i.Mj6.None,"norowslabel","noRowsLabel"],rows:"rows",actions:"actions",isReadOnly:"isReadOnly"},outputs:{onSelect:"onSelect"},decls:2,vars:2,consts:[["nonDateRow",""],["dateRowWithNoValue",""],["normalRowWithoutLink",""],["selectButton",""],["deleteButton",""],["class","tw-alert tw-mb-4","role","alert",4,"ngIf"],["class","datatable",3,"ngClass",4,"ngIf"],["role","alert",1,"tw-alert","tw-mb-4"],["id","noRowsLabel",3,"innerHTML"],[1,"datatable",3,"ngClass"],[3,"className","click",4,"ngFor","ngForOf"],["class","tw-w-1",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"click","className"],[3,"ngClass"],[3,"ngClass",4,"ngIf"],[1,"tw-w-1"],[1,"sr-only"],[3,"className",4,"ngFor","ngForOf"],[3,"className"],[4,"ngIf"],[4,"ngIf","ngIfElse"],[3,"click","href"],[3,"innerHTML"],[1,"tw-italic","tw-text-grey-800"],["class","fas fa-check tw-text-green-500",4,"ngIf"],["class","fas fa-times tw-opacity-25",4,"ngIf"],[1,"fas","fa-check","tw-text-green-500"],[1,"fas","fa-times","tw-opacity-25"],[1,"tw-flex","tw-items-center"],["id","selectButton","class","tw-btn-link tw-btn-small tw-mr-1","value","Edit",3,"click",4,"ngIf"],["id","deleteButton","class","tw-btn-link tw-btn-small tw-text-red-500","value","Delete",3,"click",4,"ngIf"],["id","selectButton","value","Edit",1,"tw-btn-link","tw-btn-small","tw-mr-1",3,"click"],["aria-hidden","true",1,"fad","fa-pencil"],["id","deleteButton","value","Delete",1,"tw-btn-link","tw-btn-small","tw-text-red-500",3,"click"],["aria-hidden","true",1,"fas","fa-times"]],template:function(it,xe){1&it&&i.DNE(0,F,3,3,"div",5)(1,Ne,7,6,"table",6),2&it&&(i.Y8G("ngIf",(null==xe.rows?null:xe.rows.length)<1),i.R7$(),i.Y8G("ngIf",(null==xe.rows?null:xe.rows.length)>0))},dependencies:[w.YU,w.Sq,w.bT,I.D9],encapsulation:2})}}return se})();var Ee=function(se){return se.Delete="Delete",se.Select="Select",se}(Ee||{});class be{constructor(Oe,Ie=null){this.data=Oe,this.element=Ie}}},8251:(lt,we,p)=>{"use strict";p.d(we,{h:()=>D});var i=p(1780),e=p(177),v=p(534),y=p(1683),w=p(9812),I=p(4438);let D=(()=>{class h{static{this.\u0275fac=function(F){return new(F||h)}}static{this.\u0275mod=I.$C({type:h})}static{this.\u0275inj=I.G2t({providers:[w.I],imports:[e.MD,i.h,v.Ss,y.Y]})}}return h})()},9812:(lt,we,p)=>{"use strict";p.d(we,{I:()=>v});var i=p(1413),e=p(4438);let v=(()=>{class y{constructor(){this.sortColumnEvent=new i.B,this.sortCompletedEvent=new i.B,this.deleteRowEvent=new i.B}static{this.\u0275fac=function(D){return new(D||y)}}static{this.\u0275prov=e.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})()},6536:(lt,we,p)=>{"use strict";p.d(we,{Z:()=>x,e:()=>G});var i=p(4438),e=p(9417),v=p(4549),y=p(7263),w=p(177);function I(V,Q){1&V&&i.eu8(0)}function D(V,Q){if(1&V&&(i.j41(0,"div",4),i.DNE(1,I,1,0,"ng-container",5),i.k0s()),2&V){i.XpG();const Y=i.sdS(5);i.R7$(),i.Y8G("ngTemplateOutlet",Y)}}function h(V,Q){1&V&&i.eu8(0)}function f(V,Q){1&V&&i.eu8(0)}function E(V,Q){if(1&V&&(i.j41(0,"div",6)(1,"div",7),i.DNE(2,h,1,0,"ng-container",5),i.k0s(),i.j41(3,"div",8),i.DNE(4,f,1,0,"ng-container",5),i.k0s()()),2&V){i.XpG();const Y=i.sdS(5),le=i.sdS(7);i.R7$(2),i.Y8G("ngTemplateOutlet",le),i.R7$(2),i.Y8G("ngTemplateOutlet",Y)}}function F(V,Q){1&V&&i.eu8(0)}function L(V,Q){if(1&V&&(i.j41(0,"div",6),i.DNE(1,F,1,0,"ng-container",5),i.k0s()),2&V){i.XpG();const Y=i.sdS(7);i.R7$(),i.Y8G("ngTemplateOutlet",Y)}}function _(V,Q){if(1&V&&(i.j41(0,"option",15),i.EFF(1),i.nI1(2,"number"),i.k0s()),2&V){const Y=Q.index;i.Y8G("value",Y),i.R7$(),i.JRh(i.i5U(2,2,Y,"2.0"))}}function M(V,Q){if(1&V&&(i.j41(0,"option",15),i.EFF(1),i.nI1(2,"number"),i.k0s()),2&V){const Y=Q.index;i.Y8G("value",Y),i.R7$(),i.JRh(i.i5U(2,2,Y,"2.0"))}}function N(V,Q){if(1&V){const Y=i.RV6();i.j41(0,"label",9),i.EFF(1,"Hours"),i.k0s(),i.j41(2,"div",10)(3,"select",11),i.bIt("ngModelChange",function(fe){i.eBV(Y);const K=i.XpG();return i.Njj(K.onHoursChange(fe))}),i.j41(4,"option",12),i.EFF(5,"HH"),i.k0s(),i.DNE(6,_,3,5,"option",13),i.k0s()(),i.j41(7,"span",14),i.EFF(8,":"),i.k0s(),i.j41(9,"label",9),i.EFF(10,"Minutes"),i.k0s(),i.j41(11,"div",10)(12,"select",11),i.bIt("ngModelChange",function(fe){i.eBV(Y);const K=i.XpG();return i.Njj(K.onMinutesChange(fe))}),i.j41(13,"option",12),i.EFF(14,"MM"),i.k0s(),i.DNE(15,M,3,5,"option",13),i.k0s()()}if(2&V){const Y=i.XpG();i.Y8G("for",Y.id+"-time-hours"),i.R7$(3),i.Y8G("id",Y.id+"-time-hours")("ngModel",Y.hours),i.R7$(),i.Y8G("value",void 0),i.R7$(2),i.Y8G("ngForOf",Y.counter(23)),i.R7$(3),i.Y8G("for",Y.id+"-time-minutes"),i.R7$(3),i.Y8G("id",Y.id+"-time-minutes")("ngModel",Y.minutes),i.R7$(),i.Y8G("value",void 0),i.R7$(2),i.Y8G("ngForOf",Y.counter(59))}}function P(V,Q){if(1&V){const Y=i.RV6();i.j41(0,"input",16),i.bIt("ngModelChange",function(fe){i.eBV(Y);const K=i.XpG();return i.Njj(K.onDateChange(fe))})("keyup",function(fe){i.eBV(Y);const K=i.XpG();return i.Njj(K.onKeyUp(fe))}),i.k0s()}if(2&V){const Y=i.XpG();i.Y8G("id",Y.id+"-date")("ngModel",Y.stringDate),i.BMQ("required",Y.required?"":null)("min",Y.minDate)("max",Y.maxDate)}}var G=function(V){return V.Date="date",V.Time="time",V.DateTime="datetime",V}(G||{});let x=(()=>{class V{constructor(){this.id=(0,y.Nl)(),this.displayType=G.DateTime,this.required=!1,this.disabled=!1,this.keyup=new i.bkB,this.onChange=Y=>{},this.onTouched=()=>{}}set value(Y){this.setDate(Y)}set min(Y){this.minDate=this.toMinMaxDateString(Y)}set max(Y){this.maxDate=this.toMinMaxDateString(Y)}get hours(){return(this.date?this.date:void 0)?.hour}get minutes(){return(this.date?this.date:void 0)?.minute}ngOnInit(){}writeValue(Y){this.setDate(Y)}registerOnChange(Y){this.onChange=Y}registerOnTouched(Y){this.onTouched=Y}setDisabledState(Y){this.disabled=Y}get opacity(){return this.disabled?.25:1}validate(Y){return!this.required||this.date?null:{required:{valid:!1}}}onKeyUp(Y){this.keyup.emit(Y)}onHoursChange(Y){this.date=this.date?this.date.set({hour:Y}):v.c9.now().set({hour:Y}),this.onChange(this.date.toString())}onMinutesChange(Y){this.date=this.date?this.date.set({minute:Y}):v.c9.now().set({minute:Y}),this.onChange(this.date.toString())}onDateChange(Y){this.stringDate=Y;let le=v.c9.fromFormat(Y,"yyyy-MM-dd");le.isValid&&(this.date=this.date?this.date.set({year:le.year,month:le.month,day:le.day}):le,this.onChange(this.date.toString()))}counter(Y){return new Array(Y+1)}setDate(Y){if(Y){if(Y instanceof v.c9&&(this.date=Y),"string"==typeof Y){const le=v.c9.fromISO(Y);this.date=le.isValid?le:void 0}this.stringDate=this.date.toFormat("yyyy-MM-dd")}}toMinMaxDateString(Y){let le;return le=Y instanceof v.c9?Y:v.c9.fromISO(Y.toString()),le.toFormat("yyyy-MM-dd")}static{this.\u0275fac=function(le){return new(le||V)}}static{this.\u0275cmp=i.VBU({type:V,selectors:[["app-date-time"]],hostVars:2,hostBindings:function(le,fe){2&le&&i.xc7("opacity",fe.opacity)},inputs:{id:"id",value:"value",displayType:"displayType",required:"required",disabled:"disabled",min:"min",max:"max"},outputs:{keyup:"keyup"},features:[i.Jv_([{provide:e.kq,useExisting:(0,i.Rfq)(()=>V),multi:!0},{provide:e.cz,useExisting:(0,i.Rfq)(()=>V),multi:!0}])],decls:8,vars:3,consts:[["timeTemplate",""],["dateTemplate",""],["class","tw-flex tw-items-center",4,"ngIf"],["class","tw-flex tw-flex-wrap",4,"ngIf"],[1,"tw-flex","tw-items-center"],[4,"ngTemplateOutlet"],[1,"tw-flex","tw-flex-wrap"],[1,"tw-w-18"],[1,"tw-flex-none","tw-flex","tw-items-center","tw-pl-3"],[1,"sr-only",3,"for"],[1,"tw-form-select","tw-flex-no-shrink","tw-w-18"],[1,"tw-form-control",3,"ngModelChange","id","ngModel"],["disabled","","selected","",3,"value"],[3,"value",4,"ngFor","ngForOf"],["aria-hidden","true",1,"tw-font-semibold","tw-flex-no-shrink","px-1"],[3,"value"],["type","date","placeholder","dd/mm/yyyy",1,"tw-form-control",3,"ngModelChange","keyup","id","ngModel"]],template:function(le,fe){1&le&&(i.j41(0,"div"),i.DNE(1,D,2,1,"div",2)(2,E,5,2,"div",3)(3,L,2,1,"div",3)(4,N,16,10,"ng-template",null,0,i.C5r)(6,P,1,5,"ng-template",null,1,i.C5r),i.k0s()),2&le&&(i.R7$(),i.Y8G("ngIf","time"==fe.displayType),i.R7$(),i.Y8G("ngIf","datetime"==fe.displayType),i.R7$(),i.Y8G("ngIf","date"==fe.displayType))},dependencies:[w.Sq,w.bT,w.T3,e.xH,e.y7,e.me,e.wz,e.BC,e.vS,w.QX],encapsulation:2})}}return V})()},6599:(lt,we,p)=>{"use strict";p.d(we,{Y:()=>I});var i=p(177),e=p(1683),v=p(1780),y=p(9417),w=p(4438);let I=(()=>{class D{static{this.\u0275fac=function(E){return new(E||D)}}static{this.\u0275mod=w.$C({type:D})}static{this.\u0275inj=w.G2t({imports:[i.MD,y.YN,e.Y,v.h]})}}return D})()},3860:(lt,we,p)=>{"use strict";p.d(we,{$:()=>y});var i=p(9417),e=p(7263),v=p(4438);let y=(()=>{class w{validate(D){return this.regex?(0,e.AB)(new RegExp(this.regex,"i"))(D):null}static{this.\u0275fac=function(h){return new(h||w)}}static{this.\u0275dir=v.FsC({type:w,selectors:[["","appClaimRegex",""]],inputs:{regex:[v.Mj6.None,"appClaimRegex","regex"]},features:[v.Jv_([{provide:i.cz,useExisting:w,multi:!0}])]})}}return w})()},5663:(lt,we,p)=>{"use strict";p.d(we,{Q:()=>I});var i=p(5794),e=p(1583),v=p(1780),y=p(4438),w=p(7005);let I=(()=>{class D{constructor(f){this.injector=f}handleError(f){if((0,y.naY)())console.log(f);else{const E=this.injector.get(e.Ix),F=this.injector.get(i.tw),L=this.injector.get(v.c$),_=this.injector.get(w.QG);F.info(L.instant("Notifications.Support")),F.info(L.instant("Notifications.Apology"),L.instant("Notifications.Sorry"));const M=_.translateRoute("/home");E.navigateByUrl(M)}}static{this.\u0275fac=function(E){return new(E||D)(y.KVO(y.zZn))}}static{this.\u0275prov=y.jDH({token:D,factory:D.\u0275fac})}}return D})()},7811:(lt,we,p)=>{"use strict";p.d(we,{j:()=>Q});var i=p(4438),e=p(1413),v=p(1985),y=p(5558),w=p(6354),I=p(7673),D=p(1584),h=p(526),f=p(9417),E=p(8400),F=p(177),L=p(1780);function _(Y,le){if(1&Y&&(i.j41(0,"option",11),i.EFF(1),i.k0s()),2&Y){const fe=le.$implicit;i.Y8G("value",fe),i.R7$(),i.JRh(fe)}}function M(Y,le){if(1&Y){const fe=i.RV6();i.j41(0,"select",9,1),i.bIt("ngModelChange",function(ee){i.eBV(fe);const ie=i.XpG();return i.Njj(ie.valueChanged.emit(ee))})("keyup",function(){i.eBV(fe);const ee=i.XpG();return i.Njj(ee.keyupEvent.emit())}),i.DNE(2,_,2,2,"option",10),i.k0s()}if(2&Y){const fe=i.sdS(1),K=i.XpG();i.Y8G("id",K.forId)("ngModel",K.value)("disabled",K.disabled&&!fe.dirty),i.R7$(2),i.Y8G("ngForOf",K.allowedValues)}}function N(Y,le){if(1&Y){const fe=i.RV6();i.j41(0,"input",12,1),i.nI1(2,"translate"),i.bIt("ngModelChange",function(ee){i.eBV(fe);const ie=i.XpG();return i.Njj(ie.valueChanged.emit(ee))})("focus",function(ee){i.eBV(fe);const ie=i.XpG();return i.Njj(ie.onFocus(ee))}),i.k0s()}if(2&Y){const fe=i.sdS(1),K=i.XpG(),ee=i.sdS(5);i.FS9("placeholder",i.bMT(2,9,"ClaimTypes.TypeaheadHelp")),i.Y8G("id",K.forId)("container",K.hostingModal)("ngModel",K.value)("typeahead",K.dataSource)("typeaheadWaitMs",200)("typeaheadAsync",!0)("typeaheadItemTemplate",ee)("disabled",K.disabled&&!fe.dirty)}}function P(Y,le){if(1&Y&&(i.j41(0,"span"),i.EFF(1),i.nI1(2,"slice"),i.k0s()),2&Y){const fe=le.item;i.R7$(),i.JRh(fe.length>20?i.brH(2,1,fe,0,20)+"...":fe)}}function G(Y,le){1&Y&&(i.j41(0,"div",13),i.nrm(1,"span",14),i.j41(2,"span"),i.EFF(3),i.nI1(4,"translate"),i.k0s()()),2&Y&&(i.R7$(3),i.JRh(i.bMT(4,1,"Common.LoadingPleaseWait")))}function x(Y,le){1&Y&&(i.j41(0,"div",15),i.nrm(1,"span",16),i.j41(2,"span"),i.EFF(3),i.nI1(4,"translate"),i.k0s()()),2&Y&&(i.R7$(3),i.JRh(i.bMT(4,1,"ClaimTypes.AllowedValuesFiltering.NothingFound")))}function V(Y,le){if(1&Y&&(i.j41(0,"div",17),i.nrm(1,"span",16),i.j41(2,"span"),i.EFF(3),i.nI1(4,"translate"),i.k0s()()),2&Y){const fe=i.XpG();i.R7$(3),i.Lme("",i.bMT(4,2,"ClaimTypes.AllowedValuesFiltering.TooManyFound")," (",fe.totalValues,")")}}let Q=(()=>{class Y{set hostingModal(fe){this._hostingModal=fe}get hostingModal(){return null!=this._hostingModal?`#${this._hostingModal}`:null}set typeId(fe){this._typeId=fe,this.typeIdSub.next(fe)}get typeId(){return this._typeId}constructor(fe){this.claimTypesService=fe,this.valueChanged=new i.bkB,this.disabled=!1,this.keyupEvent=new i.bkB,this.typeIdSub=new e.B,this.threshold=50,this.typeahead=!1,this.loading=!1,this.nothingFound=!1,this.tooManyResults=!1,this.typeIdSub.subscribe(K=>{this.claimTypesService.getAllowedValues(this._typeId,null,this.threshold).subscribe(ee=>{this.totalValues=ee.totalAllowedValues,this.allowedValues=ee.allowedValues,this.typeahead=!this.allowedValues,this.allowedValues||(this.dataSource=this.initDataSrc())})})}initDataSrc(){return new v.c(fe=>{this.loading=!0,this.nothingFound=!1,this.tooManyResults=!1,fe.next(this.value)}).pipe((0,y.n)(fe=>fe?this.claimTypesService.getAllowedValues(this.typeId,fe,this.threshold).pipe((0,w.T)(K=>(this.totalValues=K.totalAllowedValues,this.allowedValues=K.allowedValues,this.loading=!1,this.nothingFound=K.totalAllowedValues<=0,this.tooManyResults=K.totalAllowedValues>=this.threshold,K.allowedValues||[]))):(this.loading=!1,this.nothingFound=!1,this.tooManyResults=!1,(0,I.of)([]))))}onFocus(fe){fe.stopPropagation(),(0,D.O)(1).subscribe(()=>{const K=new Event("input");fe.target?.dispatchEvent(K)})}static{this.\u0275fac=function(K){return new(K||Y)(i.rXU(h.X))}}static{this.\u0275cmp=i.VBU({type:Y,selectors:[["app-enum-claim-type-input"]],inputs:{hostingModal:"hostingModal",forId:[i.Mj6.None,"id","forId"],typeId:"typeId",inModal:"inModal",value:"value",disabled:"disabled"},outputs:{valueChanged:"valueChanged",keyupEvent:"keyupEvent"},decls:9,vars:5,consts:[["customItemTemplate",""],["claimvalue","ngModel"],[1,"tw-form-select"],["class","tw-form-control","name","enum","required","",3,"id","ngModel","disabled","ngModelChange","keyup",4,"ngIf"],[1,"tw-form-typeahead"],["class","tw-form-control","type","text","name","enum","autocomplete","off","required","",3,"id","container","ngModel","typeahead","typeaheadWaitMs","typeaheadAsync","typeaheadItemTemplate","placeholder","disabled","ngModelChange","focus",4,"ngIf"],["id","typeahead-loading-msg","class","tw-form-label tw-text-sm tw-mt-2",4,"ngIf"],["id","typeahead-nothing-found-msg","class","tw-form-label tw-text-sm tw-mt-2",4,"ngIf"],["id","typeahead-too-many-msg","class","tw-form-label tw-text-sm tw-mt-2",4,"ngIf"],["name","enum","required","",1,"tw-form-control",3,"ngModelChange","keyup","id","ngModel","disabled"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["type","text","name","enum","autocomplete","off","required","",1,"tw-form-control",3,"ngModelChange","focus","id","container","ngModel","typeahead","typeaheadWaitMs","typeaheadAsync","typeaheadItemTemplate","placeholder","disabled"],["id","typeahead-loading-msg",1,"tw-form-label","tw-text-sm","tw-mt-2"],[1,"fad","fa-spinner-third","fa-spin","tw-text-secondary-500","tw-mr-2"],["id","typeahead-nothing-found-msg",1,"tw-form-label","tw-text-sm","tw-mt-2"],[1,"fa","fa-exclamation-triangle","tw-text-secondary-500","tw-mr-2"],["id","typeahead-too-many-msg",1,"tw-form-label","tw-text-sm","tw-mt-2"]],template:function(K,ee){1&K&&(i.j41(0,"div",2),i.DNE(1,M,3,4,"select",3),i.k0s(),i.j41(2,"div",4),i.DNE(3,N,3,11,"input",5),i.k0s(),i.DNE(4,P,3,5,"ng-template",null,0,i.C5r)(6,G,5,3,"div",6)(7,x,5,3,"div",7)(8,V,5,4,"div",8)),2&K&&(i.R7$(),i.Y8G("ngIf",!ee.typeahead),i.R7$(2),i.Y8G("ngIf",ee.typeahead),i.R7$(3),i.Y8G("ngIf",ee.typeahead&&ee.loading),i.R7$(),i.Y8G("ngIf",ee.typeahead&&ee.nothingFound),i.R7$(),i.Y8G("ngIf",ee.typeahead&&ee.tooManyResults))},dependencies:[f.xH,f.y7,f.me,f.wz,f.BC,f.YS,f.vS,E.Xi,F.Sq,F.bT,F.P9,L.D9],encapsulation:2})}}return Y})()},8389:(lt,we,p)=>{"use strict";p.d(we,{w:()=>D});var i=p(177),e=p(1780),v=p(9417),y=p(6599),w=p(8400),I=p(4438);let D=(()=>{class h{static{this.\u0275fac=function(F){return new(F||h)}}static{this.\u0275mod=I.$C({type:h})}static{this.\u0275inj=I.G2t({imports:[v.YN,v.X1,w.qP,i.MD,e.h,y.Y]})}}return h})()},4701:(lt,we,p)=>{"use strict";p.d(we,{u:()=>Q});var i=p(6536),e=p(7263),v=p(4438),y=p(9417),w=p(177),I=p(8698),D=p(9550),h=p(3860),f=p(7811);const E=["claimsForm"];function F(Y,le){if(1&Y){const fe=v.RV6();v.j41(0,"input",11,1),v.bIt("keyup",function(){v.eBV(fe);const ee=v.XpG().$implicit,ie=v.XpG();return v.Njj(ie.checkForPolicyClaimForm(ee.type,ee))}),v.mxI("ngModelChange",function(ee){v.eBV(fe);const ie=v.XpG().$implicit;return v.DH7(ie.value,ee)||(ie.value=ee),v.Njj(ee)}),v.k0s()}if(2&Y){const fe=v.sdS(1),K=v.XpG(),ee=K.$implicit,ie=K.index,T=v.XpG();v.Mz_("id","claim-",ie,""),v.Y8G("name",ee.type),v.R50("ngModel",ee.value),v.Y8G("appClaimRegex",ee.regex)("disabled",T.notAllowedToEditClaim(ee)&&!fe.dirty)}}function L(Y,le){if(1&Y){const fe=v.RV6();v.j41(0,"input",12,1),v.bIt("keyup",function(){v.eBV(fe);const ee=v.XpG().$implicit,ie=v.XpG();return v.Njj(ie.checkForPolicyClaimForm(ee.type,ee))}),v.mxI("ngModelChange",function(ee){v.eBV(fe);const ie=v.XpG().$implicit;return v.DH7(ie.value,ee)||(ie.value=ee),v.Njj(ee)}),v.k0s()}if(2&Y){const fe=v.sdS(1),K=v.XpG(),ee=K.$implicit,ie=K.index,T=v.XpG();v.Mz_("id","claim-",ie,""),v.Y8G("name",ee.type),v.R50("ngModel",ee.value),v.Y8G("disabled",T.notAllowedToEditClaim(ee)&&!fe.dirty)}}function _(Y,le){if(1&Y){const fe=v.RV6();v.j41(0,"app-form-toggle",13)(1,"input",14),v.bIt("keyup",function(){v.eBV(fe);const ee=v.XpG().$implicit,ie=v.XpG();return v.Njj(ie.checkForPolicyClaimForm(ee.type,ee))})("ngModelChange",function(ee){v.eBV(fe);const ie=v.XpG().$implicit;return v.Njj(ie.value=ee?"true":"false")}),v.k0s()()}if(2&Y){const fe=v.XpG(),K=fe.$implicit,ee=fe.index,ie=v.XpG();v.Y8G("id","claim-"+ee)("isTraffic",!0)("isAlt",!1),v.R7$(),v.Y8G("id","claim-"+ee)("name",K.type)("disabled",ie.notAllowedToEditClaim(K)&&!ie.claimvalue.dirty)("ngModel","true"==K.value)}}function M(Y,le){if(1&Y){const fe=v.RV6();v.qex(0),v.j41(1,"app-date-time",17,1),v.mxI("ngModelChange",function(ee){v.eBV(fe);const ie=v.XpG(2).$implicit;return v.DH7(ie.value,ee)||(ie.value=ee),v.Njj(ee)}),v.bIt("keyup",function(){v.eBV(fe);const ee=v.XpG(2).$implicit,ie=v.XpG();return v.Njj(ie.checkForPolicyClaimForm(ee.type,ee))})("change",function(){v.eBV(fe);const ee=v.XpG(3);return v.Njj(ee.makeFormDirty())}),v.k0s(),v.bVm()}if(2&Y){const fe=v.sdS(2),K=v.XpG(2),ee=K.$implicit,ie=K.index,T=v.XpG();v.R7$(),v.Mz_("id","claim-",ie,""),v.Y8G("name",ee.type),v.R50("ngModel",ee.value),v.Y8G("disabled",T.notAllowedToEditClaim(ee)&&!fe.dirty)}}function N(Y,le){if(1&Y){const fe=v.RV6();v.qex(0),v.j41(1,"app-date-time",18,1),v.mxI("ngModelChange",function(ee){v.eBV(fe);const ie=v.XpG(2).$implicit;return v.DH7(ie.value,ee)||(ie.value=ee),v.Njj(ee)}),v.bIt("keyup",function(){v.eBV(fe);const ee=v.XpG(2).$implicit,ie=v.XpG();return v.Njj(ie.checkForPolicyClaimForm(ee.type,ee))})("change",function(){v.eBV(fe);const ee=v.XpG(3);return v.Njj(ee.makeFormDirty())}),v.k0s(),v.bVm()}if(2&Y){const fe=v.sdS(2),K=v.XpG(2),ee=K.$implicit,ie=K.index,T=v.XpG();v.R7$(),v.Mz_("id","claim-",ie,""),v.Y8G("name",ee.type)("displayType",T.dateTimeDisplayType.Date),v.R50("ngModel",ee.value),v.Y8G("disabled",T.notAllowedToEditClaim(ee)&&!fe.dirty)}}function P(Y,le){if(1&Y&&(v.j41(0,"div",15),v.DNE(1,M,3,5,"ng-container",16)(2,N,3,6,"ng-container",16),v.k0s()),2&Y){const fe=v.XpG().$implicit;v.R7$(),v.Y8G("ngIf","birthdate"!=fe.type),v.R7$(),v.Y8G("ngIf","birthdate"==fe.type)}}function G(Y,le){if(1&Y){const fe=v.RV6();v.j41(0,"div",19)(1,"app-enum-claim-type-input",20),v.bIt("valueChanged",function(ee){v.eBV(fe);const ie=v.XpG().$implicit,T=v.XpG();return ie.value=ee,v.Njj(T.makeFormDirty())})("keyupEvent",function(){v.eBV(fe);const ee=v.XpG().$implicit,ie=v.XpG();return v.Njj(ie.checkForPolicyClaimForm(ee.type,ee))}),v.k0s()()}if(2&Y){const fe=v.XpG(),K=fe.$implicit,ee=fe.index,ie=v.XpG();v.R7$(),v.Y8G("id","claim-"+ee)("typeId",ie.getClaimType(K).id)("value",K.value)("disabled",ie.notAllowedToEditClaim(K))}}function x(Y,le){if(1&Y&&(v.j41(0,"span",21),v.EFF(1),v.k0s()),2&Y){const fe=v.XpG().$implicit;v.R7$(),v.JRh(fe.failureMessage)}}function V(Y,le){if(1&Y&&(v.j41(0,"app-form-row",4),v.DNE(1,F,2,6,"input",5)(2,L,2,5,"input",6)(3,_,2,7,"app-form-toggle",7)(4,P,3,2,"div",8)(5,G,2,4,"div",9)(6,x,2,1,"span",10),v.k0s()),2&Y){const fe=le.$implicit,K=le.index,ee=v.XpG();v.Y8G("id","claim-"+K)("label",ee.getLabel(fe))("help",ee.getHelpTextString(fe)),v.R7$(),v.Y8G("ngIf","String"==fe.format),v.R7$(),v.Y8G("ngIf","Int"==fe.format),v.R7$(),v.Y8G("ngIf","Boolean"==fe.format),v.R7$(),v.Y8G("ngIf","DateTime"==fe.format),v.R7$(),v.Y8G("ngIf","Enum"==fe.format),v.R7$(),v.Y8G("ngIf",ee.claimDirtyAndInvalid(fe.type))}}let Q=(()=>{class Y{constructor(){this.claims=null,this.notAllowedToEditClaim=()=>!1,this.isPolicyClaim=()=>!1,this.requiredClaims=[],this.dateTimeDisplayType=i.e}ngOnChanges(){for(const fe of this.claimTypes??[])if(fe.required){let K="Boolean"===fe.valueType?"false":null,ee=this.claims?.filter(T=>T.type===fe.name)??[];ee.length>0&&!(0,e.hX)(ee[0].value)&&(K=ee[0].value);const ie={typeId:fe.id,format:fe.valueType,value:K,type:fe.name,displayName:fe.displayName,editing:!1,required:fe.required};fe.rule&&(ie.regex=fe.rule,ie.failureMessage=fe.ruleValidationFailureDescription),this.requiredClaims.push(ie)}}getHelpTextString(fe){return this.isPolicyClaim(fe)?"DateTime"==fe.format?"Common.PolicyWithUTCNotice":"Common.Policy":"DateTime"==fe.format?"Common.Dates.UTCWarning":""}checkForPolicyClaimForm(fe,K){this.notAllowedToEditClaim(K)&&this.claimsForm.form.controls[fe].setErrors({incorrect:!0})}isClaimInValid(fe){return this.claimsForm.form.get(fe)?.invalid??!1}makeFormDirty(){this.claimsForm.form.markAsDirty()}isFormValid(){return this.claimsForm.form.valid}claimDirtyAndInvalid(fe){let K=this.claimsForm.form.get(fe)??{invalid:!1,dirty:!1};return K.invalid&&K.dirty}resetForm(){this.claimsForm.reset()}getClaimType(fe){return this.claimTypes.find(K=>K.name===fe.type)}getLabel(fe){return(0,e.gP)(fe.displayName)?fe.type:fe.displayName}static{this.\u0275fac=function(K){return new(K||Y)}}static{this.\u0275cmp=v.VBU({type:Y,selectors:[["app-required-claims-form"]],viewQuery:function(K,ee){if(1&K&&v.GBs(E,7),2&K){let ie;v.mGM(ie=v.lsd())&&(ee.claimsForm=ie.first)}},inputs:{claimTypes:"claimTypes",claims:"claims",notAllowedToEditClaim:"notAllowedToEditClaim",isPolicyClaim:"isPolicyClaim"},features:[v.OA$],decls:3,vars:1,consts:[["claimsForm","ngForm"],["claimvalue","ngModel"],["id","requiredClaims"],[3,"id","label","help",4,"ngFor","ngForOf"],[3,"id","label","help"],["class","tw-form-control","type","text","required","",3,"name","ngModel","appClaimRegex","id","disabled","keyup","ngModelChange",4,"ngIf"],["class","tw-form-control","type","number","required","",3,"name","ngModel","id","disabled","keyup","ngModelChange",4,"ngIf"],[3,"id","isTraffic","isAlt",4,"ngIf"],["class","tw-w-full sm:tw-max-w-2xl",4,"ngIf"],["class","",4,"ngIf"],["id","fail-msg","class","tw-form-text-danger",4,"ngIf"],["type","text","required","",1,"tw-form-control",3,"keyup","ngModelChange","name","ngModel","appClaimRegex","id","disabled"],["type","number","required","",1,"tw-form-control",3,"keyup","ngModelChange","name","ngModel","id","disabled"],[3,"id","isTraffic","isAlt"],["type","checkbox",1,"tw-form-switch__input",3,"keyup","ngModelChange","id","name","disabled","ngModel"],[1,"tw-w-full","sm:tw-max-w-2xl"],[4,"ngIf"],[3,"ngModelChange","keyup","change","id","name","ngModel","disabled"],[3,"ngModelChange","keyup","change","id","name","displayType","ngModel","disabled"],[1,""],[3,"valueChanged","keyupEvent","id","typeId","value","disabled"],["id","fail-msg",1,"tw-form-text-danger"]],template:function(K,ee){1&K&&(v.j41(0,"form",2,0),v.DNE(2,V,7,9,"app-form-row",3),v.k0s()),2&K&&(v.R7$(2),v.Y8G("ngForOf",ee.requiredClaims))},dependencies:[y.qT,y.me,y.Q0,y.Zm,y.BC,y.cb,y.YS,y.vS,y.cV,w.Sq,w.bT,i.Z,I.Y,D.m,h.$,f.j],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return Y})()},803:(lt,we,p)=>{"use strict";p.d(we,{f:()=>y});var i=p(4438);const e=[[["","left",""]],[["","right",""]]],v=["[left]","[right]"];let y=(()=>{class w{static{this.\u0275fac=function(h){return new(h||w)}}static{this.\u0275cmp=i.VBU({type:w,selectors:[["app-row-bar"]],ngContentSelectors:v,decls:4,vars:0,consts:[[1,"tw-flex","tw-items-center","tw-bg-grey-100","tw-py-4","tw-sticky","tw-top-0","tw-z-20"],[1,"tw-shrink-0","tw-m-auto","tw-flex","tw-ml-4"]],template:function(h,f){1&h&&(i.NAR(e),i.j41(0,"div",0),i.SdG(1),i.j41(2,"div",1),i.SdG(3,1),i.k0s()())},encapsulation:2})}}return w})()},8698:(lt,we,p)=>{"use strict";p.d(we,{Y:()=>E});var i=p(4438),e=p(177),v=p(1780);const y=["*"],w=F=>({"last:tw-border-0 last:tw-mb-0 last:tw-pb-0":F});function I(F,L){if(1&F&&(i.nrm(0,"span",7),i.nI1(1,"translate")),2&F){const _=i.XpG(2);i.Y8G("innerHtml",i.bMT(1,1,_.helpText),i.npT)}}function D(F,L){if(1&F&&(i.j41(0,"label",4)(1,"span",5),i.EFF(2),i.nI1(3,"translate"),i.k0s(),i.DNE(4,I,2,3,"span",6),i.k0s()),2&F){const _=i.XpG();i.Y8G("for",_.idFor),i.R7$(2),i.JRh(i.bMT(3,3,_.labelText)),i.R7$(2),i.Y8G("ngIf",_.showHelpText)}}function h(F,L){if(1&F&&(i.nrm(0,"span",7),i.nI1(1,"translate")),2&F){const _=i.XpG(2);i.Y8G("innerHtml",i.bMT(1,1,_.helpText),i.npT)}}function f(F,L){if(1&F&&(i.j41(0,"p",8)(1,"span",5),i.EFF(2),i.nI1(3,"translate"),i.k0s(),i.DNE(4,h,2,3,"span",6),i.k0s()),2&F){const _=i.XpG();i.R7$(2),i.JRh(i.bMT(3,2,_.labelText)),i.R7$(2),i.Y8G("ngIf",_.showHelpText)}}let E=(()=>{class F{constructor(){this.helpText="",this.hasLabel=!0,this.isLast=!1,this.showHelpText=!1}ngOnInit(){""!==this.helpText&&(this.showHelpText=!0)}static{this.\u0275fac=function(M){return new(M||F)}}static{this.\u0275cmp=i.VBU({type:F,selectors:[["app-form-row"]],inputs:{idFor:[i.Mj6.None,"id","idFor"],labelText:[i.Mj6.None,"label","labelText"],helpText:[i.Mj6.None,"help","helpText"],hasLabel:"hasLabel",isLast:"isLast"},ngContentSelectors:y,decls:5,vars:5,consts:[[1,"tw-form-row-border","tw-flex","tw-items-center",3,"ngClass"],["class","tw-form-label-inline",3,"for",4,"ngIf"],["class","tw-form-label-inline",4,"ngIf"],[1,"tw-w-full"],[1,"tw-form-label-inline",3,"for"],[1,"tw-block"],["class","tw-form-label-help",3,"innerHtml",4,"ngIf"],[1,"tw-form-label-help",3,"innerHtml"],[1,"tw-form-label-inline"]],template:function(M,N){1&M&&(i.NAR(),i.j41(0,"div",0),i.DNE(1,D,5,5,"label",1)(2,f,5,4,"p",2),i.j41(3,"div",3),i.SdG(4),i.k0s()()),2&M&&(i.Y8G("ngClass",i.eq3(3,w,N.isLast)),i.R7$(),i.Y8G("ngIf",N.idFor&&N.hasLabel),i.R7$(),i.Y8G("ngIf",!N.idFor&&N.hasLabel))},dependencies:[e.YU,e.bT,v.D9],encapsulation:2})}}return F})()},9550:(lt,we,p)=>{"use strict";p.d(we,{m:()=>I});var i=p(4438),e=p(177);const v=["*"],y=(D,h)=>({"tw-form-switch__slider--traffic":D,"tw-form-switch__slider--alt":h}),w=(D,h)=>({"tw-form-switch__state--traffic":D,"tw-form-switch__state--alt":h});let I=(()=>{class D{constructor(){this.isAlt=!1,this.isTraffic=!1}static{this.\u0275fac=function(E){return new(E||D)}}static{this.\u0275cmp=i.VBU({type:D,selectors:[["app-form-toggle"]],inputs:{idFor:[i.Mj6.None,"id","idFor"],isAlt:"isAlt",isTraffic:"isTraffic"},ngContentSelectors:v,decls:4,vars:9,consts:[[1,"tw-form-switch",3,"for"],[1,"tw-form-switch__slider",3,"ngClass"],[1,"tw-form-switch__state",3,"ngClass"]],template:function(E,F){1&E&&(i.NAR(),i.j41(0,"label",0),i.SdG(1),i.j41(2,"span",1),i.nrm(3,"span",2),i.k0s()()),2&E&&(i.Y8G("for",F.idFor),i.R7$(2),i.Y8G("ngClass",i.l_i(3,y,F.isTraffic,F.isAlt)),i.R7$(),i.Y8G("ngClass",i.l_i(6,w,F.isTraffic,F.isAlt)))},dependencies:[e.YU],encapsulation:2})}}return D})()},7263:(lt,we,p)=>{"use strict";p.d(we,{$N:()=>V,$_:()=>le,AB:()=>P,KU:()=>w,Li:()=>Y,Nj:()=>v,Nl:()=>N,TO:()=>x,X4:()=>T,Yt:()=>_,Zt:()=>G,_U:()=>L,ci:()=>fe,gP:()=>h,hX:()=>I,hr:()=>y,jk:()=>K,kI:()=>f,lK:()=>ae,uf:()=>F,zG:()=>ee});var i=p(3178),e=p(4549);function v(re,Me=" "){return I(re)?"":re.join(Me)}function y(re,Me=" "){return h(re)?[]:re.split(Me)}function w(re,Me){return`${e.c9.fromISO(re).toFormat(Me)} UTC`}function I(re){return null==re}function h(re){return null==re||"string"!=typeof re||""===re||null!==re.match(/^ *$/)}function f(re){const Me=document.createElement("a");return Me.href=re,Me.protocol+"//"+decodeURIComponent(Me.host)}function F(re){const Qe=new RegExp("(^https?://|urn:|tcp://)").exec(re);if(Qe){if("urn:"===Qe[0])return!1}else re="http://"+re;const Le=re.split("/");return re.endsWith("/")?Le.length>4:Le.length>3}function L(re){const Qe=new RegExp("https?://|urn:|tcp://").exec(re);return Qe?Qe[0]:null}function _(re,Me){const Qe=JSON.parse(JSON.stringify(re));return Me.forEach(Le=>{let Ne=Qe.length;for(;Ne--;)Qe[Ne].name===Le.name&&Qe.splice(Ne,1)}),Qe}function N(){let re=(new Date).getTime();return typeof performance<"u"&&"function"==typeof performance.now&&(re+=performance.now()),"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(Me){const Qe=(re+16*Math.random())%16|0;return re=Math.floor(re/16),("x"===Me?Qe:3&Qe|8).toString(16)})}function P(re){return Me=>re.test(Me.value)?null:{regex:{value:Me.value}}}function G(){return re=>0===(re.value||"").trim().length?{whitespace:{value:re.value}}:null}function x(re){const Me=e.c9.now();return e.c9.fromISO(re.value).diff(Me).milliseconds>1?{dateInFuture:!0}:null}function V(re){const Me=e.c9.fromISO(re.get("fromDate").value);return e.c9.fromISO(re.get("toDate").value).diff(Me,"minutes").minutes<1?{fromDateIsAfterToDate:!0}:null}function Y(re){if(re&&re.size>0){const Me={};return re.forEach((Qe,Le)=>{Me[Le]=Qe}),Me}return{}}function le(){const re=document.getElementsByTagName("base")[0].attributes.href.value;return h(re)?"/":re.endsWith("/")?re:`${re}/`}function fe(re){return!(!re||0===re.length)&&(re.includes(i.a.IdentityServerManagerReadOnly)||re.includes(i.a.AllReadOnly))&&!(re.includes(i.a.IdentityServerManager)||re.includes(i.a.All))}function K(re){return!(!re||0===re.length)&&(re.includes(i.a.IdentityServerManager)||re.includes(i.a.All))}function ee(re){return!(!re||0===re.length)&&(re.includes(i.a.UserManagerReadOnly)||re.includes(i.a.AllReadOnly))&&!(re.includes(i.a.UserManager)||re.includes(i.a.All))}function T(re){return!(!re||0===re.length)&&re.includes(i.a.All)}function ae(re){return!(!re||0===re.length)&&re.includes(i.a.AllReadOnly)&&!re.includes(i.a.All)}},1560:(lt,we,p)=>{"use strict";p.d(we,{T:()=>fe});var i=p(4438),e=p(9417),v=p(4866),y=p(3806),w=p(1088),I=p(7263),D=p(177),h=p(1780);const f=(K,ee)=>({"tw-btn active":K,"tw-btn-link":ee});function E(K,ee){if(1&K&&(i.j41(0,"div"),i.nrm(1,"input",7),i.k0s()),2&K){const ie=i.XpG();i.R7$(),i.FS9("id",ie.id+"-input"),i.Y8G("ngModel",ie.value)}}function F(K,ee){if(1&K){const ie=i.RV6();i.j41(0,"div")(1,"input",8),i.bIt("keydown",function(ae){i.eBV(ie);const re=i.XpG();return i.Njj(re.onKeyDown(ae))})("paste",function(ae){i.eBV(ie);const re=i.XpG();return i.Njj(re.onPaste(ae))})("ngModelChange",function(ae){i.eBV(ie);const re=i.XpG();return i.Njj(re.onValueChange(ae))}),i.k0s()()}if(2&K){const ie=i.XpG();i.R7$(),i.FS9("id",ie.id+"-input"),i.Y8G("ngModel",ie.value)("disabled",ie.disabled)}}function L(K,ee){if(1&K&&(i.j41(0,"span",13),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&K){const ie=i.XpG(2);i.R7$(),i.Lme(" ",ie.timeSpan.years," ",i.bMT(2,2,ie.displayTimeSpanUnit(ie.timeSpan.years,"Year"))," ")}}function _(K,ee){if(1&K&&(i.j41(0,"span",13),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&K){const ie=i.XpG(2);i.R7$(),i.Lme(" ",ie.timeSpan.months," ",i.bMT(2,2,ie.displayTimeSpanUnit(ie.timeSpan.months,"Month"))," ")}}function M(K,ee){if(1&K&&(i.j41(0,"span",13),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&K){const ie=i.XpG(2);i.R7$(),i.Lme(" ",ie.timeSpan.weeks," ",i.bMT(2,2,ie.displayTimeSpanUnit(ie.timeSpan.weeks,"Week"))," ")}}function N(K,ee){if(1&K&&(i.j41(0,"span",13),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&K){const ie=i.XpG(2);i.R7$(),i.Lme(" ",ie.timeSpan.days," ",i.bMT(2,2,ie.displayTimeSpanUnit(ie.timeSpan.days,"Day"))," ")}}function P(K,ee){if(1&K&&(i.j41(0,"span",13),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&K){const ie=i.XpG(2);i.R7$(),i.Lme(" ",ie.timeSpan.hours," ",i.bMT(2,2,ie.displayTimeSpanUnit(ie.timeSpan.hours,"Hour"))," ")}}function G(K,ee){if(1&K&&(i.j41(0,"span",13),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&K){const ie=i.XpG(2);i.R7$(),i.Lme(" ",ie.timeSpan.minutes," ",i.bMT(2,2,ie.displayTimeSpanUnit(ie.timeSpan.minutes,"Minute"))," ")}}function x(K,ee){if(1&K&&(i.j41(0,"span",13),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&K){const ie=i.XpG(2);i.R7$(),i.Lme(" ",ie.timeSpan.seconds," ",i.bMT(2,2,ie.displayTimeSpanUnit(ie.timeSpan.seconds,"Second"))," ")}}function V(K,ee){if(1&K&&(i.j41(0,"span",13),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&K){const ie=i.XpG(2);i.R7$(),i.SpI(" ",i.bMT(2,1,"Clients.Tokens.Durations."+ie.tryGetNullMeaning())," ")}}function Q(K,ee){if(1&K&&(i.j41(0,"p",9),i.nrm(1,"span",10),i.nI1(2,"translate"),i.j41(3,"span",11),i.DNE(4,L,3,4,"span",12)(5,_,3,4,"span",12)(6,M,3,4,"span",12)(7,N,3,4,"span",12)(8,P,3,4,"span",12)(9,G,3,4,"span",12)(10,x,3,4,"span",12)(11,V,3,3,"span",12),i.k0s()()),2&K){const ie=i.XpG();i.FS9("id",ie.id+"-longTimeLabel"),i.R7$(),i.BMQ("aria-label",i.bMT(2,10,"Clients.Tokens.DurationTitle")),i.R7$(3),i.Y8G("ngIf",(null==ie.timeSpan?null:ie.timeSpan.years)>0),i.R7$(),i.Y8G("ngIf",(null==ie.timeSpan?null:ie.timeSpan.months)>0),i.R7$(),i.Y8G("ngIf",(null==ie.timeSpan?null:ie.timeSpan.weeks)>0),i.R7$(),i.Y8G("ngIf",(null==ie.timeSpan?null:ie.timeSpan.days)>0),i.R7$(),i.Y8G("ngIf",(null==ie.timeSpan?null:ie.timeSpan.hours)>0),i.R7$(),i.Y8G("ngIf",(null==ie.timeSpan?null:ie.timeSpan.minutes)>0),i.R7$(),i.Y8G("ngIf",(null==ie.timeSpan?null:ie.timeSpan.seconds)>0),i.R7$(),i.Y8G("ngIf",ie.showNullTimeSpan())}}function Y(K,ee){if(1&K&&(i.j41(0,"span",16),i.EFF(1),i.k0s()),2&K){const ie=i.XpG().$implicit;i.R7$(),i.JRh(ie.duration)}}function le(K,ee){if(1&K){const ie=i.RV6();i.j41(0,"li")(1,"button",14),i.bIt("click",function(){const ae=i.eBV(ie).$implicit,re=i.XpG();return i.Njj(re.setInput(ae))}),i.DNE(2,Y,2,1,"span",15),i.j41(3,"span"),i.EFF(4),i.nI1(5,"translate"),i.k0s()()()}if(2&K){const ie=ee.$implicit,T=i.XpG();i.R7$(),i.Y8G("ngClass",i.l_i(6,f,T.checkSelected(ie),!T.checkSelected(ie)))("disabled",T.disabled),i.R7$(),i.Y8G("ngIf",ie.duration),i.R7$(2),i.JRh(i.bMT(5,4,"Clients.Tokens.Durations."+ie.unit+"Short"))}}let fe=(()=>{class K{constructor(){this.id=(0,I.Nl)(),this.allowNull=!1,this.disabled=!1,this.required=!1,this.unitMap=v.A.getUnitMap(),this.LifetimeUnit=y.u,this.onChange=ie=>{},this.onTouched=()=>{}}set value(ie){this.setValue(ie,!1)}get value(){return this._value}setValue(ie,T=!0){null!=ie&&!Number.isInteger(ie)||(this._value=ie,null==ie?this.timeSpan=null:this.timeSpan?this.timeSpan.formatSeconds(ie):this.timeSpan=new w.Q(ie),T&&this.onChange(ie))}onValueChange(ie){this.setValue(ie)}onKeyDown(ie){return 69!==ie.keyCode&&189!==ie.keyCode&&190!==ie.keyCode}onPaste(ie){const ae=ie.clipboardData?.getData("text"),re=Number(ae);Number.isInteger(re)&&(re>0||null==re&&this.allowNull)||ie.preventDefault()}writeValue(ie){this.setValue(ie,!1)}registerOnChange(ie){this.onChange=ie}registerOnTouched(ie){this.onTouched=ie}setDisabledState(ie){this.disabled=ie}validate(ie){if(this.required){if(!this.value)return{required:{valid:!1}}}else if(!this.value)return null;return!isNaN(this.value)&&this.value>0?null:{number:{valid:!1}}}nullAwareMultiply(ie,T){return null==ie||null==T?null:ie*T}setInput(ie){const T=this.nullAwareMultiply(ie.duration,this.unitMap.get(ie.unit));this.setValue(T)}checkSelected(ie){return this.value===this.nullAwareMultiply(ie.duration,this.unitMap.get(ie.unit))}displayTimeSpanUnit(ie,T){return"Clients.Tokens.Durations."+T+(ie>1?"s":"")}showNullTimeSpan(){return!(!this.allowNull||null!=this.timeSpan&&(0!==this.timeSpan.years||0!==this.timeSpan.months||0!==this.timeSpan.weeks||0!==this.timeSpan.days||0!==this.timeSpan.hours||0!==this.timeSpan.minutes||0!==this.timeSpan.seconds))}tryGetNullMeaning(){return this.buttons.find(T=>null===T.duration)?.unit??"NotSet"}static{this.\u0275fac=function(T){return new(T||K)}}static{this.\u0275cmp=i.VBU({type:K,selectors:[["app-lifetime-picker"]],inputs:{id:"id",value:"value",buttons:"buttons",allowNull:"allowNull",disabled:"disabled",required:"required"},features:[i.Jv_([{provide:e.kq,useExisting:(0,i.Rfq)(()=>K),multi:!0},{provide:e.cz,useExisting:(0,i.Rfq)(()=>K),multi:!0}])],decls:8,vars:5,consts:[[1,"tw-flex-grid","sm:tw-flex-nowrap","lg:tw-max-w-2xl"],[1,"tw-flex-grid-col"],[4,"ngIf"],["class","tw-form-text tw-flex tw-items-center",3,"id",4,"ngIf"],[1,"tw-flex-grid-col","sm:tw-w-auto"],[1,"tw-flex","tw-items-center",3,"id"],[4,"ngFor","ngForOf"],["type","number","min","0","disabled","",1,"tw-form-control",3,"id","ngModel"],["type","number","min","0",1,"tw-form-control",3,"keydown","paste","ngModelChange","id","ngModel","disabled"],[1,"tw-form-text","tw-flex","tw-items-center",3,"id"],[1,"far","fa-clock","tw-mr-2","tw--mt-px"],[1,"tw-flex","tw-flex-wrap"],["class","tw-mr-2",4,"ngIf"],[1,"tw-mr-2"],[3,"click","ngClass","disabled"],["class","tw-mr-1",4,"ngIf"],[1,"tw-mr-1"]],template:function(T,ae){1&T&&(i.j41(0,"div",0)(1,"div",1),i.DNE(2,E,2,2,"div",2)(3,F,2,3,"div",2)(4,Q,12,12,"p",3),i.k0s(),i.j41(5,"div",4)(6,"ul",5),i.DNE(7,le,6,9,"li",6),i.k0s()()()),2&T&&(i.R7$(2),i.Y8G("ngIf",ae.disabled),i.R7$(),i.Y8G("ngIf",!ae.disabled),i.R7$(),i.Y8G("ngIf",ae.value>0||null==ae.value&&ae.allowNull),i.R7$(2),i.FS9("id",ae.id+"-buttonList"),i.R7$(),i.Y8G("ngForOf",ae.buttons))},dependencies:[D.YU,D.Sq,D.bT,e.me,e.Q0,e.BC,e.VZ,e.vS,h.D9],encapsulation:2})}}return K})()},967:(lt,we,p)=>{"use strict";p.d(we,{M:()=>I});var i=p(177),e=p(7005),v=p(9417),y=p(1780),w=p(4438);let I=(()=>{class D{static{this.\u0275fac=function(E){return new(E||D)}}static{this.\u0275mod=w.$C({type:D})}static{this.\u0275inj=w.G2t({imports:[i.MD,v.YN,v.X1,e.XE,y.h]})}}return D})()},8114:(lt,we,p)=>{"use strict";p.d(we,{B:()=>f});var i=p(4438),e=p(177),v=p(9216),y=p(1780);const w=["confirmModal"],I=[[["","body",""]]],D=["[body]"];function h(E,F){1&E&&i.nrm(0,"span",9)}let f=(()=>{class E{constructor(){this.type="narrow",this.buttonType="success",this.okText="Common.Ok",this.cancelText="Common.Cancel",this.inFlight=!1,this.confirm=new i.bkB,this.close=new i.bkB}get isShown(){return this.confirmModal.isShown}show(){this.confirmModal.show()}hide(){this.confirmModal.hide()}ok(){this.confirmModal.hideModal(),this.confirm.emit()}closeModal(){this.confirmModal.hideModal(),this.close.emit()}static{this.\u0275fac=function(_){return new(_||E)}}static{this.\u0275cmp=i.VBU({type:E,selectors:[["app-confirmation-modal"]],viewQuery:function(_,M){if(1&_&&i.GBs(w,7),2&_){let N;i.mGM(N=i.lsd())&&(M.confirmModal=N.first)}},inputs:{modalId:"modalId",type:"type",buttonType:"buttonType",title:"title",okText:"okText",cancelText:"cancelText",inFlight:"inFlight"},outputs:{confirm:"confirm",close:"close"},ngContentSelectors:D,decls:14,vars:16,consts:[["confirmModal",""],[3,"close","modalId","title","type"],["body",""],["footer",""],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["data-dismiss","modal",3,"click","id","disabled"],["class","fad fa-spinner-third fa-spin tw-text-secondary-500 tw-mr-2 tw-ml-2",4,"ngIf"],["data-dismiss","modal",1,"tw-btn-link","tw--mr-4",3,"click","id"],[1,"fad","fa-spinner-third","fa-spin","tw-text-secondary-500","tw-mr-2","tw-ml-2"]],template:function(_,M){if(1&_){const N=i.RV6();i.NAR(I),i.j41(0,"app-simple-modal",1,0),i.bIt("close",function(){return i.eBV(N),i.Njj(M.close.emit())}),i.qex(2,2),i.SdG(3),i.bVm(),i.qex(4,3),i.j41(5,"div",4)(6,"div",5)(7,"button",6),i.bIt("click",function(){return i.eBV(N),i.Njj(M.ok())}),i.EFF(8),i.nI1(9,"translate"),i.DNE(10,h,1,0,"span",7),i.k0s()(),i.j41(11,"button",8),i.bIt("click",function(){return i.eBV(N),i.Njj(M.closeModal())}),i.EFF(12),i.nI1(13,"translate"),i.k0s()(),i.bVm(),i.k0s()}2&_&&(i.Y8G("modalId",M.modalId)("title",M.title)("type",M.type),i.R7$(7),i.ZvI("tw-btn",M.buttonType?"-"+M.buttonType:"",""),i.Y8G("id",M.modalId+"-confirmBtn")("disabled",M.inFlight),i.R7$(),i.SpI(" ",i.bMT(9,12,M.okText)," "),i.R7$(2),i.Y8G("ngIf",M.inFlight),i.R7$(),i.Y8G("id",M.modalId+"-cancelBtn"),i.R7$(),i.JRh(i.bMT(13,14,M.cancelText)))},dependencies:[e.bT,v.R,y.D9],encapsulation:2})}}return E})()},7778:(lt,we,p)=>{"use strict";p.d(we,{w:()=>F});var i=p(4438),e=p(177),v=p(8114),y=p(1780);const w=["deleteClientModal"];function I(L,_){1&L&&(i.j41(0,"p",6),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&L&&(i.R7$(),i.JRh(i.bMT(2,1,"Common.Delete.AreYouSureSimple3")))}function D(L,_){if(1&L&&(i.j41(0,"p",6),i.EFF(1),i.nI1(2,"translate"),i.j41(3,"strong"),i.EFF(4),i.k0s(),i.EFF(5,"?"),i.k0s()),2&L){const M=i.XpG();i.R7$(),i.SpI("",i.bMT(2,2,"Common.Delete.AreYouSureSimple")," "),i.R7$(3),i.JRh(M.resourceName)}}function h(L,_){1&L&&(i.nrm(0,"p",7),i.nI1(1,"translate")),2&L&&i.Y8G("innerHTML",i.bMT(1,1,"Common.Delete.Warning"),i.npT)}function f(L,_){if(1&L&&(i.nrm(0,"p",7),i.nI1(1,"translate")),2&L){const M=i.XpG();i.Y8G("innerHTML",i.bMT(1,1,M.danger),i.npT)}}function E(L,_){if(1&L&&(i.nrm(0,"p",8),i.nI1(1,"translate")),2&L){const M=i.XpG();i.Y8G("innerHTML",i.bMT(1,1,M.warning),i.npT)}}let F=(()=>{class L{constructor(){this.resourceName=null,this.warning=null,this.danger=null,this.destructive=!0,this.delete=new i.bkB,this.close=new i.bkB}get isShown(){return this.deleteModal.isShown}show(){this.deleteModal.show()}hide(){this.deleteModal.hide()}closeModal(){this.deleteModal.hide(),this.close.emit(null)}static{this.\u0275fac=function(N){return new(N||L)}}static{this.\u0275cmp=i.VBU({type:L,selectors:[["app-delete-confirmation-modal"]],viewQuery:function(N,P){if(1&N&&i.GBs(w,7),2&N){let G;i.mGM(G=i.lsd())&&(P.deleteModal=G.first)}},inputs:{modalId:"modalId",resourceName:"resourceName",warning:"warning",danger:"danger",destructive:"destructive"},outputs:{delete:"delete",close:"close"},decls:8,vars:11,consts:[["deleteClientModal",""],[3,"confirm","modalId","type","buttonType","title","okText","cancelText"],["body",""],["class","tw-mb-4",4,"ngIf"],["class","tw-pill-danger",3,"innerHTML",4,"ngIf"],["class","tw-pill-warning",3,"innerHTML",4,"ngIf"],[1,"tw-mb-4"],[1,"tw-pill-danger",3,"innerHTML"],[1,"tw-pill-warning",3,"innerHTML"]],template:function(N,P){if(1&N){const G=i.RV6();i.j41(0,"app-confirmation-modal",1,0),i.bIt("confirm",function(){return i.eBV(G),i.Njj(P.delete.emit())}),i.qex(2,2),i.DNE(3,I,3,3,"p",3)(4,D,6,4,"p",3)(5,h,2,3,"p",4)(6,f,2,3,"p",4)(7,E,2,3,"p",5),i.bVm(),i.k0s()}2&N&&(i.Y8G("modalId",P.modalId)("type","danger")("buttonType","danger")("title","Common.Delete.Confirm")("okText","Common.Delete.Title")("cancelText","Common.Delete.No"),i.R7$(3),i.Y8G("ngIf",!P.resourceName),i.R7$(),i.Y8G("ngIf",P.resourceName),i.R7$(),i.Y8G("ngIf",P.destructive&&null===P.warning&&null===P.danger),i.R7$(),i.Y8G("ngIf",P.destructive&&P.danger),i.R7$(),i.Y8G("ngIf",P.destructive&&P.warning))},dependencies:[e.bT,v.B,y.D9],encapsulation:2})}}return L})()},4367:(lt,we,p)=>{"use strict";p.d(we,{N:()=>D});var i=p(177),e=p(1780),v=p(779),y=p(1993),w=p(4193),I=p(4438);let D=(()=>{class h{static{this.\u0275fac=function(F){return new(F||h)}}static{this.\u0275mod=I.$C({type:h})}static{this.\u0275inj=I.G2t({imports:[i.MD,e.h,y.E,w.c,e.h,v.Q_]})}}return h})()},3899:(lt,we,p)=>{"use strict";p.d(we,{G:()=>K});var i=p(4438),e=p(177),v=p(1413),y=p(3726),w=p(6977),I=p(6354),D=p(9172),h=p(5964),f=p(3993);const E=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");var _=p(1258),M=p(7185),N=p(4754),P=p(1780);const G=["*"];function x(ee,ie){if(1&ee){const T=i.RV6();i.j41(0,"button",16),i.bIt("click",function(){i.eBV(T);const re=i.XpG();return i.Njj(re.cancel())}),i.nrm(1,"span",17),i.j41(2,"span",18),i.EFF(3),i.nI1(4,"translate"),i.k0s()()}2&ee&&(i.R7$(3),i.JRh(i.bMT(4,1,"Common.Close")))}function V(ee,ie){if(1&ee){const T=i.RV6();i.j41(0,"button",19),i.bIt("click",function(){i.eBV(T);const re=i.XpG();return i.Njj(re.save())}),i.EFF(1),i.nI1(2,"translate"),i.k0s()}if(2&ee){const T=i.XpG();i.Y8G("disabled",T.addDisabled),i.R7$(),i.SpI(" ",i.bMT(2,2,T.saveText)," ")}}function Q(ee,ie){if(1&ee){const T=i.RV6();i.j41(0,"button",20),i.bIt("click",function(){i.eBV(T);const re=i.XpG();return i.Njj(re.delete())}),i.EFF(1),i.nI1(2,"translate"),i.k0s()}if(2&ee){const T=i.XpG();i.Y8G("disabled",T.deleteDisabled),i.R7$(),i.SpI(" ",i.bMT(2,2,T.deleteText)," ")}}function Y(ee,ie){if(1&ee){const T=i.RV6();i.j41(0,"div",21)(1,"button",22),i.bIt("click",function(){i.eBV(T);const re=i.XpG();return i.Njj(re.saveAndReAdd())}),i.EFF(2),i.nI1(3,"translate"),i.k0s()()}if(2&ee){const T=i.XpG();i.R7$(),i.Y8G("disabled",T.addDisabled),i.R7$(),i.SpI(" ",i.bMT(3,2,T.saveAndReAddText)," ")}}function le(ee,ie){if(1&ee){const T=i.RV6();i.j41(0,"button",23),i.bIt("click",function(){i.eBV(T);const re=i.XpG();return i.Njj(re.cancel())}),i.EFF(1),i.nI1(2,"translate"),i.k0s()}2&ee&&(i.R7$(),i.SpI(" ",i.bMT(2,1,"Common.Cancel")," "))}function fe(ee,ie){1&ee&&i.nrm(0,"div",24)}let K=(()=>{class ee{constructor(T,ae,re){this.document=T,this.elRef=ae,this.modalService=re,this.hideCancel=!1,this.modalType=M.q.Default,this.saveText="Common.Save",this.saveAndReAddText="Common.SaveAndAdd",this.deleteText="Common.Delete.Title",this.addDisabled=!1,this.deleteDisabled=!1,this.onSave=new i.bkB,this.onSaveAndReAdd=new i.bkB,this.onDelete=new i.bkB,this.onCancel=new i.bkB,this.isVisible=!1,this.isVisible$=new v.B,this.showBackdrop=!1}ngOnInit(){this.modalService.add(this),this.element=this.elRef.nativeElement.firstChild,this.actions&&(this.canDelete=this.actions.includes(_.N.Delete),this.canSave=this.actions.includes(_.N.Save),this.canSaveAndReAdd=this.actions.includes(_.N.SaveAndReAdd))}delete(){this.onDelete.emit()}save(){this.onSave.emit(),this.modalService.hideById(this.modalId)}saveAndReAdd(){this.onSaveAndReAdd.emit()}show(){this.isVisible=!0,function F(ee,ie){const T=function L(ee){const ie=Array.from(ee.querySelectorAll(E)).filter(T=>-1!==T.tabIndex);return[ie[0],ie[ie.length-1]]}(ee),[ae,re]=T,Me=(0,y.R)(ee,"focusin").pipe((0,w.Q)(ie),(0,I.T)(Qe=>Qe.target),(0,D.Z)(ae));ae.focus(),(0,y.R)(ee,"keydown").pipe((0,w.Q)(ie),(0,h.p)(Qe=>"Tab"===Qe.key),(0,f.E)(Me)).subscribe(([Qe,Le])=>{(Le===ae||Le===ee)&&Qe.shiftKey&&(re.focus(),Qe.preventDefault()),Le===re&&!Qe.shiftKey&&(ae.focus(),Qe.preventDefault())}),(0,y.R)(document,"click").pipe((0,w.Q)(ie),(0,f.E)(Me),(0,I.T)(Qe=>Qe[1])).subscribe(Qe=>{Qe.focus()})}(this.element,this.isVisible$),1===this.modalService.visibleModals()&&(this.showBackdrop=!0,this.document.body.classList.add("tw-overflow-hidden")),(0,y.R)(this.document,"keydown").pipe((0,w.Q)(this.isVisible$),(0,h.p)(T=>"Esc"===T.key)).subscribe(()=>{this.isVisible&&this.cancel()})}cancel(){!1===this.hideCancel&&this.onCancel.emit()}hide(){this.isVisible=!1,this.isVisible$.next(),this.modalService.visibleModals()<1&&(this.showBackdrop=!1,this.document.body.classList.remove("tw-overflow-hidden"))}ngOnDestroy(){this.modalService.hideById(this.modalId),this.modalService.remove(this)}static{this.\u0275fac=function(ae){return new(ae||ee)(i.rXU(e.qQ),i.rXU(i.aKT),i.rXU(N.B))}}static{this.\u0275cmp=i.VBU({type:ee,selectors:[["app-custom-modal"]],inputs:{modalId:"modalId",title:"title",actions:"actions",hideCancel:"hideCancel",modalType:"modalType",saveText:"saveText",saveAndReAddText:"saveAndReAddText",deleteText:"deleteText",addDisabled:"addDisabled",deleteDisabled:"deleteDisabled"},outputs:{onSave:"onSave",onSaveAndReAdd:"onSaveAndReAdd",onDelete:"onDelete",onCancel:"onCancel"},ngContentSelectors:G,decls:19,vars:15,consts:[["role","dialog","aria-modal","true","tabindex","-1",1,"modal"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title",3,"id"],["type","button","class","modal-close",3,"click",4,"ngIf"],[1,"modal-body","scrollbars"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","save","class","tw-btn-success tw-mr-3","type","submit",3,"disabled","click",4,"ngIf"],["id","delete","class","tw-btn-danger tw-mr-3","type","submit",3,"disabled","click",4,"ngIf"],["class","tw-hidden tw-mr-3 md:tw-block",4,"ngIf"],["class","tw-btn-link tw--mr-4",3,"click",4,"ngIf"],["id","backdrop","class","modal-backdrop show",4,"ngIf"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],["id","save","type","submit",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],["id","delete","type","submit",1,"tw-btn-danger","tw-mr-3",3,"click","disabled"],[1,"tw-hidden","tw-mr-3","md:tw-block"],["id","saveAndReSubmit","type","submit",1,"tw-btn",3,"click","disabled"],[1,"tw-btn-link","tw--mr-4",3,"click"],["id","backdrop",1,"modal-backdrop","show"]],template:function(ae,re){1&ae&&(i.NAR(),i.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),i.EFF(5),i.nI1(6,"translate"),i.k0s(),i.DNE(7,x,5,3,"button",5),i.k0s(),i.j41(8,"div",6),i.SdG(9),i.k0s(),i.nrm(10,"div",7),i.j41(11,"div",8)(12,"div",9)(13,"div",10),i.DNE(14,V,3,4,"button",11)(15,Q,3,4,"button",12)(16,Y,4,4,"div",13),i.k0s(),i.DNE(17,le,3,3,"button",14),i.k0s()()()()(),i.DNE(18,fe,1,0,"div",15)),2&ae&&(i.AVh("show",re.isVisible),i.BMQ("aria-hidden",!re.isVisible)("aria-labelledby","modal-title-"+re.modalId),i.R7$(4),i.Mz_("id","modal-title-",re.modalId,""),i.R7$(),i.JRh(i.bMT(6,13,re.title)),i.R7$(2),i.Y8G("ngIf",!re.hideCancel),i.R7$(7),i.Y8G("ngIf",re.canSave),i.R7$(),i.Y8G("ngIf",re.canDelete),i.R7$(),i.Y8G("ngIf",re.canSaveAndReAdd),i.R7$(),i.Y8G("ngIf",!re.hideCancel),i.R7$(),i.Y8G("ngIf",re.showBackdrop))},dependencies:[e.bT,P.D9],encapsulation:2})}}return ee})()},4754:(lt,we,p)=>{"use strict";p.d(we,{B:()=>v});var i=p(177),e=p(4438);let v=(()=>{class y{constructor(I){this.document=I,this.modalList=[]}add(I){this.modalList.push(I)}remove(I){const D=this.modalList.indexOf(I);this.modalList.splice(D)}visibleModals(){return this.modalList.filter(I=>I.isVisible).length}showById(I,D){null!=D&&null!=D.nativeElement&&(this.lastClickedEl=D.nativeElement),this.modalList.find(f=>f.modalId===I).show()}hideById(I){const D=this.modalList.find(h=>h.modalId===I);D&&(D.hide(),this.focusLastEl())}focusLastEl(){this.lastClickedEl&&this.lastClickedEl.focus()}static{this.\u0275fac=function(D){return new(D||y)(e.KVO(i.qQ))}}static{this.\u0275prov=e.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})()},9216:(lt,we,p)=>{"use strict";p.d(we,{R:()=>h});var i=p(4438),e=p(779),v=p(1780);const y=["simpleModal"],w=[[["","body",""]],[["","footer",""]]],I=["[body]","[footer]"],D=()=>({backdrop:"static",animated:!1});let h=(()=>{class f{constructor(){this.type=null,this.inFlight=!1,this.close=new i.bkB}get isShown(){return this.simpleModal.isShown}get modalType(){return this.type?` modal-dialog--${this.type}`:""}show(){this.simpleModal.show()}hide(){this.simpleModal.hide()}hideModal(){this.simpleModal.hide()}closeModal(){this.simpleModal.hide(),this.close.emit()}static{this.\u0275fac=function(L){return new(L||f)}}static{this.\u0275cmp=i.VBU({type:f,selectors:[["app-simple-modal"]],viewQuery:function(L,_){if(1&L&&i.GBs(y,7),2&L){let M;i.mGM(M=i.lsd())&&(_.simpleModal=M.first)}},inputs:{modalId:"modalId",type:"type",title:"title",inFlight:"inFlight"},outputs:{close:"close"},ngContentSelectors:I,decls:17,vars:13,consts:[["simpleModal","bs-modal"],["bsModal","","bsModal","","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"id","config"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"modal-close",3,"click","id"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","tw-text-center","scrollbars"],[1,"modal-footer"]],template:function(L,_){if(1&L){const M=i.RV6();i.NAR(w),i.j41(0,"div",1,0)(2,"div")(3,"div",2)(4,"div",3)(5,"h5",4),i.EFF(6),i.nI1(7,"translate"),i.k0s(),i.j41(8,"button",5),i.bIt("click",function(){return i.eBV(M),i.Njj(_.closeModal())}),i.nrm(9,"span",6),i.j41(10,"span",7),i.EFF(11),i.nI1(12,"translate"),i.k0s()()(),i.j41(13,"div",8),i.SdG(14),i.k0s(),i.j41(15,"div",9),i.SdG(16,1),i.k0s()()()()}if(2&L){let M;i.Y8G("id",null!==(M=_.modalId)&&void 0!==M?M:"simpleModel")("config",i.lJ4(12,D)),i.R7$(2),i.ZvI("modal-dialog",_.modalType,""),i.R7$(4),i.JRh(i.bMT(7,8,_.title)),i.R7$(2),i.Y8G("id",_.modalId+"-closeBtn"),i.R7$(3),i.JRh(i.bMT(12,10,"Common.Close"))}},dependencies:[e.hZ,v.D9],encapsulation:2})}}return f})()},7156:(lt,we,p)=>{"use strict";p.d(we,{B:()=>D});var i=p(4438),e=p(177),v=p(1780);function y(h,f){if(1&h&&(i.j41(0,"span",6),i.EFF(1),i.k0s()),2&h){const E=i.XpG();i.R7$(),i.JRh(E.pageXofX)}}function w(h,f){1&h&&(i.j41(0,"span",7),i.EFF(1,"\u2022"),i.k0s())}function I(h,f){if(1&h){const E=i.RV6();i.j41(0,"nav",8),i.nI1(1,"translate"),i.j41(2,"ul",9)(3,"li")(4,"button",10),i.bIt("click",function(){i.eBV(E);const L=i.XpG();return i.Njj(L.goToPage(1))}),i.j41(5,"span"),i.nrm(6,"span",11),i.k0s(),i.j41(7,"span",12),i.EFF(8),i.nI1(9,"translate"),i.k0s()()(),i.j41(10,"li",13)(11,"button",14),i.bIt("click",function(){i.eBV(E);const L=i.XpG();return i.Njj(L.goToPage(L.currentPage-1))}),i.j41(12,"span"),i.nrm(13,"span",15),i.k0s(),i.j41(14,"span",12),i.EFF(15),i.nI1(16,"translate"),i.k0s()()(),i.j41(17,"li",13)(18,"button",16),i.bIt("click",function(){i.eBV(E);const L=i.XpG();return i.Njj(L.goToPage(L.currentPage+1))}),i.j41(19,"span"),i.nrm(20,"span",17),i.k0s(),i.j41(21,"span",12),i.EFF(22),i.nI1(23,"translate"),i.k0s()()(),i.j41(24,"li",13)(25,"button",18),i.bIt("click",function(){i.eBV(E);const L=i.XpG();return i.Njj(L.goToPage(L.lastPage))}),i.j41(26,"span"),i.nrm(27,"span",19),i.k0s(),i.j41(28,"span",12),i.EFF(29),i.nI1(30,"translate"),i.k0s()()()()()}if(2&h){const E=i.XpG();i.BMQ("aria-label",i.bMT(1,9,"Nav.Page")),i.R7$(4),i.Y8G("disabled",1==E.currentPage),i.R7$(4),i.JRh(i.bMT(9,11,"Nav.First")),i.R7$(3),i.Y8G("disabled",1==E.currentPage),i.R7$(4),i.JRh(i.bMT(16,13,"Nav.Previous")),i.R7$(3),i.Y8G("disabled",E.currentPage==E.lastPage),i.R7$(4),i.JRh(i.bMT(23,15,"Nav.Next")),i.R7$(3),i.Y8G("disabled",E.currentPage==E.lastPage),i.R7$(4),i.JRh(i.bMT(30,17,"Nav.Last"))}}let D=(()=>{class h{constructor(E,F){this.translate=E,this.decimalPipe=F,this.onGoToPage=new i.bkB}ngOnInit(){this.setupDefaults(),this.setupPages()}setupDefaults(){this.totalResults=void 0===this.totalResults?0:this.totalResults,this.currentPage=void 0===this.currentPage?1:this.currentPage,this.lastPage=void 0===this.lastPage?1:this.lastPage,this.hidePager=void 0!==this.hidePager}setupPages(){let E=this.translate.instant("Nav.PageXofX");E=E.replace("{0}",this.decimalPipe.transform(this.currentPage)),E=E.replace("{1}",this.decimalPipe.transform(this.lastPage)),this.pageXofX=E}goToPage(E){void 0!==this.onGoToPage&&(E<1?E=1:E>this.lastPage&&(E=this.lastPage),this.onGoToPage.emit(E))}static{this.\u0275fac=function(F){return new(F||h)(i.rXU(v.c$),i.rXU(e.QX))}}static{this.\u0275cmp=i.VBU({type:h,selectors:[["app-pager"]],inputs:{totalResults:"totalResults",currentPage:"currentPage",lastPage:"lastPage",hidePager:"hidePager"},outputs:{onGoToPage:"onGoToPage"},features:[i.Jv_([e.QX])],decls:9,vars:9,consts:[[1,"tw-flex","tw-flex-wrap","tw-items-center","tw-justify-between","tw-mt-2"],[1,"tw-flex","tw-items-center","tw-justify-center","tw-w-full","tw-text-xs","tw-text-grey-700","tw-px-3","tw-py-2","sm:tw-w-auto"],["class","tw-hidden md:tw-inline",4,"ngIf"],["class","tw-hidden tw-text-base tw-mx-2 tw-opacity-50 md:tw-inline","aria-hidden","true",4,"ngIf"],["id","pager-total-results"],["class","tw-mt-2 tw-mx-auto sm:mt-0 sm:tw-mr-0",4,"ngIf"],[1,"tw-hidden","md:tw-inline"],["aria-hidden","true",1,"tw-hidden","tw-text-base","tw-mx-2","tw-opacity-50","md:tw-inline"],[1,"tw-mt-2","tw-mx-auto","sm:mt-0","sm:tw-mr-0"],[1,"tw-flex","tw-items-center","tw-justify-center","tw-bg-white","tw-rounded"],["id","pagerFirstPage",1,"tw-btn-link",3,"click","disabled"],["aria-hidden","true",1,"fas","fa-angle-double-left"],[1,"sr-only"],[1,"tw-border-l-2","tw-border-grey-100"],["id","pagerPrevPage",1,"tw-btn-link",3,"click","disabled"],["aria-hidden","true",1,"fas","fa-angle-left"],["id","pagerNextPage",1,"tw-btn-link",3,"click","disabled"],["aria-hidden","true",1,"fas","fa-angle-right"],["id","pagerLastPage",1,"tw-btn-link",3,"click","disabled"],["aria-hidden","true",1,"fas","fa-angle-double-right"]],template:function(F,L){1&F&&(i.j41(0,"div",0)(1,"div",1),i.DNE(2,y,2,1,"span",2)(3,w,2,0,"span",3),i.j41(4,"span",4),i.EFF(5),i.nI1(6,"number"),i.nI1(7,"translate"),i.k0s()(),i.DNE(8,I,31,19,"nav",5),i.k0s()),2&F&&(i.R7$(2),i.Y8G("ngIf",!L.hidePager),i.R7$(),i.Y8G("ngIf",!L.hidePager),i.R7$(2),i.Lme("",i.bMT(6,5,L.totalResults)," ",i.bMT(7,7,"Nav.ResultsFound"),""),i.R7$(3),i.Y8G("ngIf",!L.hidePager))},dependencies:[e.bT,e.QX,v.D9],encapsulation:2})}}return h})()},5731:(lt,we,p)=>{"use strict";p.d(we,{i:()=>I});var i=p(177),e=p(1583),v=p(1683),y=p(1780),w=p(4438);let I=(()=>{class D{static{this.\u0275fac=function(E){return new(E||D)}}static{this.\u0275mod=w.$C({type:D})}static{this.\u0275inj=w.G2t({imports:[i.MD,e.iI,v.Y,y.h]})}}return D})()},2292:(lt,we,p)=>{"use strict";p.d(we,{L:()=>D});var i=p(4438),e=p(7263),v=p(177);function y(h,f){if(1&h&&(i.j41(0,"div",5)(1,"span",6),i.EFF(2),i.k0s()()),2&h){const E=i.XpG().$implicit,F=i.XpG();i.BMQ("aria-label",F.enumValues),i.R7$(2),i.JRh(E)}}function w(h,f){if(1&h){const E=i.RV6();i.j41(0,"button",7),i.bIt("click",function(){i.eBV(E);const L=i.XpG().index,_=i.XpG();return i.Njj(_.deleteValue(L))}),i.nrm(1,"span",8),i.j41(2,"span",6),i.EFF(3),i.k0s()()}if(2&h){const E=i.XpG().$implicit,F=i.XpG();i.BMQ("aria-label",F.enumValues),i.R7$(3),i.JRh(E)}}function I(h,f){if(1&h&&(i.j41(0,"li",2),i.DNE(1,y,3,2,"div",3)(2,w,4,2,"button",4),i.k0s()),2&h){const E=i.XpG();i.R7$(),i.Y8G("ngIf",E.readonly),i.R7$(),i.Y8G("ngIf",!E.readonly)}}let D=(()=>{class h{get id(){return this._id}set id(E){this._id=E||(0,e.Nl)()}constructor(){this.readonly=!1,this.onDelete=new i.bkB}ngOnInit(){}deleteValue(E){this.readonly||this.onDelete.emit(E)}static{this.\u0275fac=function(F){return new(F||h)}}static{this.\u0275cmp=i.VBU({type:h,selectors:[["app-pill-list"]],inputs:{id:"id",values:"values",readonly:"readonly"},outputs:{onDelete:"onDelete"},decls:2,vars:2,consts:[[3,"id"],["class","tw-pill",4,"ngFor","ngForOf"],[1,"tw-pill"],["class","tw-btn-small tw-rounded tw-pl-1",4,"ngIf"],["class","tw-btn-small tw-rounded tw-pl-1",3,"click",4,"ngIf"],[1,"tw-btn-small","tw-rounded","tw-pl-1"],[1,"tw-pl-1"],[1,"tw-btn-small","tw-rounded","tw-pl-1",3,"click"],["aria-hidden","true",1,"fas","fa-times","tw-mr-1"]],template:function(F,L){1&F&&(i.j41(0,"ul",0),i.DNE(1,I,3,2,"li",1),i.k0s()),2&F&&(i.FS9("id",L.id+"-enumValues-select"),i.R7$(),i.Y8G("ngForOf",L.values))},dependencies:[v.Sq,v.bT]})}}return h})()},3843:(lt,we,p)=>{"use strict";p.d(we,{G:()=>v});var i=p(177),e=p(4438);let v=(()=>{class y{static{this.\u0275fac=function(D){return new(D||y)}}static{this.\u0275mod=e.$C({type:y})}static{this.\u0275inj=e.G2t({imports:[i.MD]})}}return y})()},6843:(lt,we,p)=>{"use strict";p.d(we,{l:()=>E});var i=p(177),e=p(1683),v=p(1780),y=p(8251),w=p(4193),I=p(4367),D=p(9417),h=p(8389),f=p(4438);let E=(()=>{class F{static{this.\u0275fac=function(M){return new(M||F)}}static{this.\u0275mod=f.$C({type:F})}static{this.\u0275inj=f.G2t({imports:[i.MD,D.YN,e.Y,v.h,y.h,w.c,I.N,h.w]})}}return F})()},8762:(lt,we,p)=>{"use strict";p.d(we,{O:()=>ie});var i=p(6303),e=p(1088),v=p(4438),y=p(177),w=p(1780);function I(T,ae){if(1&T&&(v.j41(0,"div")(1,"p",4),v.EFF(2),v.k0s()()),2&T){const re=v.XpG(3);v.R7$(2),v.JRh(re.displayValue)}}function D(T,ae){if(1&T&&(v.j41(0,"div"),v.DNE(1,I,3,1,"div",2),v.k0s()),2&T){const re=v.XpG(2),Me=v.sdS(2);v.R7$(),v.Y8G("ngIf",re.displayValue)("ngIfElse",Me)}}function h(T,ae){if(1&T&&(v.j41(0,"div",10),v.EFF(1),v.j41(2,"small",11),v.EFF(3),v.k0s()()),2&T){const re=v.XpG(),Me=re.$implicit;v.Y8G("id","multiMainText"+re.i),v.R7$(),v.SpI(" ",Me.MainText," "),v.R7$(2),v.JRh(Me.HelpText)}}function f(T,ae){if(1&T&&(v.j41(0,"li",8),v.DNE(1,h,4,3,"div",9),v.k0s()),2&T){const re=ae.$implicit;v.XpG(3);const Me=v.sdS(2);v.R7$(),v.Y8G("ngIf",re.MainText)("ngIfElse",Me)}}function E(T,ae){if(1&T&&(v.j41(0,"div")(1,"div",5)(2,"ul",6),v.DNE(3,f,2,2,"li",7),v.k0s()()()),2&T){const re=v.XpG(2);v.R7$(3),v.Y8G("ngForOf",re.filteredValues)}}function F(T,ae){1&T&&v.nrm(0,"div")}function L(T,ae){if(1&T&&(v.j41(0,"p",22),v.EFF(1),v.nI1(2,"translate"),v.k0s()),2&T){const re=v.XpG(5);v.R7$(),v.Lme(" ",re.timeSpan.years," ",v.bMT(2,2,re.displayTimeSpanUnit(re.timeSpan.years,"Year"))," ")}}function _(T,ae){if(1&T&&(v.j41(0,"p",23),v.EFF(1),v.nI1(2,"translate"),v.k0s()),2&T){const re=v.XpG(5);v.R7$(),v.Lme(" ",re.timeSpan.months," ",v.bMT(2,2,re.displayTimeSpanUnit(re.timeSpan.months,"Month"))," ")}}function M(T,ae){if(1&T&&(v.j41(0,"p",24),v.EFF(1),v.nI1(2,"translate"),v.k0s()),2&T){const re=v.XpG(5);v.R7$(),v.Lme(" ",re.timeSpan.weeks," ",v.bMT(2,2,re.displayTimeSpanUnit(re.timeSpan.weeks,"Week"))," ")}}function N(T,ae){if(1&T&&(v.j41(0,"p",25),v.EFF(1),v.nI1(2,"translate"),v.k0s()),2&T){const re=v.XpG(5);v.R7$(),v.Lme(" ",re.timeSpan.days," ",v.bMT(2,2,re.displayTimeSpanUnit(re.timeSpan.days,"Day"))," ")}}function P(T,ae){if(1&T&&(v.j41(0,"p",26),v.EFF(1),v.nI1(2,"translate"),v.k0s()),2&T){const re=v.XpG(5);v.R7$(),v.Lme(" ",re.timeSpan.hours," ",v.bMT(2,2,re.displayTimeSpanUnit(re.timeSpan.hours,"Hour"))," ")}}function G(T,ae){if(1&T&&(v.j41(0,"p",27),v.EFF(1),v.nI1(2,"translate"),v.k0s()),2&T){const re=v.XpG(5);v.R7$(),v.Lme(" ",re.timeSpan.minutes," ",v.bMT(2,2,re.displayTimeSpanUnit(re.timeSpan.minutes,"Minute"))," ")}}function x(T,ae){if(1&T&&(v.j41(0,"span",28),v.EFF(1),v.nI1(2,"translate"),v.k0s()),2&T){const re=v.XpG(5);v.R7$(),v.Lme(" ",re.timeSpan.seconds," ",v.bMT(2,2,re.displayTimeSpanUnit(re.timeSpan.seconds,"Second"))," ")}}function V(T,ae){if(1&T&&(v.j41(0,"div")(1,"div",13),v.DNE(2,L,3,4,"p",14)(3,_,3,4,"p",15)(4,M,3,4,"p",16)(5,N,3,4,"p",17)(6,P,3,4,"p",18)(7,G,3,4,"p",19)(8,x,3,4,"span",20),v.k0s(),v.j41(9,"small",21),v.EFF(10),v.k0s()()),2&T){const re=v.XpG(4);v.R7$(2),v.Y8G("ngIf",re.timeSpan.years>0),v.R7$(),v.Y8G("ngIf",re.timeSpan.months>0),v.R7$(),v.Y8G("ngIf",re.timeSpan.weeks>0),v.R7$(),v.Y8G("ngIf",re.timeSpan.days>0),v.R7$(),v.Y8G("ngIf",re.timeSpan.hours>0),v.R7$(),v.Y8G("ngIf",re.timeSpan.minutes>0),v.R7$(),v.Y8G("ngIf",re.timeSpan.seconds>0),v.R7$(2),v.JRh(re.values[0].MainText)}}function Q(T,ae){1&T&&(v.j41(0,"div")(1,"p",29),v.EFF(2),v.nI1(3,"translate"),v.k0s()()),2&T&&(v.R7$(2),v.Lme("",0," ",v.bMT(3,2,"Clients.Tokens.Durations.Seconds"),""))}function Y(T,ae){1&T&&(v.j41(0,"div")(1,"p",30),v.EFF(2),v.nI1(3,"translate"),v.k0s()()),2&T&&(v.R7$(2),v.JRh(v.bMT(3,1,"Clients.Tokens.Durations.Unlimited")))}function le(T,ae){if(1&T&&v.DNE(0,V,11,8,"div",3)(1,Q,4,4,"div",3)(2,Y,4,3,"div",3),2&T){const re=v.XpG(3);v.Y8G("ngIf","Unlimited"!=re.values[0].MainText&&0!==re.values[0].MainText&&"0"!==re.values[0].MainText),v.R7$(),v.Y8G("ngIf",0===re.values[0].MainText||"0"===re.values[0].MainText),v.R7$(),v.Y8G("ngIf","Unlimited"==re.values[0].MainText)}}function fe(T,ae){if(1&T&&(v.j41(0,"div"),v.DNE(1,F,1,0,"div",12)(2,le,3,3,"ng-template",null,1,v.C5r),v.k0s()),2&T){const re=v.sdS(3),Me=v.XpG(2),Qe=v.sdS(2);v.R7$(),v.Y8G("ngIf",null==Me.values[0].MainText)("ngIfThen",Qe)("ngIfElse",re)}}function K(T,ae){if(1&T&&(v.j41(0,"div"),v.DNE(1,D,2,2,"div",3)(2,E,4,1,"div",3)(3,fe,4,3,"div",3),v.k0s()),2&T){const re=v.XpG();v.R7$(),v.Y8G("ngIf",re.fieldType==re.ReadOnlyFieldType.Single||re.fieldType==re.ReadOnlyFieldType.CommaSeparated),v.R7$(),v.Y8G("ngIf",re.fieldType==re.ReadOnlyFieldType.Multi),v.R7$(),v.Y8G("ngIf",re.fieldType==re.ReadOnlyFieldType.LifetimePicker)}}function ee(T,ae){if(1&T&&(v.j41(0,"div")(1,"p",31),v.EFF(2),v.nI1(3,"translate"),v.k0s()()),2&T){const re=v.XpG();v.R7$(2),v.SpI(" ",v.bMT(3,1,re.noValueString)," ")}}let ie=(()=>{class T{constructor(){this.customNoValue=null,this.filteredValues=[]}ngOnChanges(re){this.initData()}ngOnInit(){this.noValueString=this.customNoValue?this.customNoValue:this.fieldType==i.t.Single||this.fieldType==i.t.LifetimePicker?"Common.NoValue":"Common.NoValues",this.initData()}initData(){!this.values||void 0===this.values||(this.filteredValues=this.values.filter(re=>null!=re),this.filteredValues.length<1)||(this.fieldType===i.t.Single?this.displayValue=this.filteredValues[0].MainText||null:this.fieldType===i.t.CommaSeparated?this.displayValue=this.filteredValues.map(re=>re.MainText).join(", ").trimEnd():this.fieldType===i.t.LifetimePicker&&null!==this.values[0].MainText&&"Unlimited"!==this.values[0].MainText&&(this.timeSpan=new e.Q(+this.values[0].MainText)))}displayTimeSpanUnit(re,Me){return"Clients.Tokens.Durations."+Me+(re>1?"s":"")}get ReadOnlyFieldType(){return i.t}static{this.\u0275fac=function(Me){return new(Me||T)}}static{this.\u0275cmp=v.VBU({type:T,selectors:[["app-readonly"]],inputs:{fieldType:"fieldType",values:"values",customNoValue:"customNoValue"},features:[v.OA$],decls:3,vars:2,consts:[["valuesEmptyBlock",""],["lifetimeHasValueBlock",""],[4,"ngIf","ngIfElse"],[4,"ngIf"],["id","singleCommaMainText"],[1,"tw-overflow-hidden","tw-overflow-y-auto","scrollbars","tw-max-h-readonly-field"],[1,"tw--mt-2"],["class","tw-pt-2",4,"ngFor","ngForOf"],[1,"tw-pt-2"],[3,"id",4,"ngIf","ngIfElse"],[3,"id"],["id","multiHelpText",1,"tw-block","tw-text-grey-700"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"tw-flex","tw-flex-wrap"],["class","tw-mr-2","id","lifetimeYears",4,"ngIf"],["class","tw-mr-2","id","lifetimeMonths",4,"ngIf"],["class","tw-mr-2","id","lifetimeWeeks",4,"ngIf"],["class","tw-mr-2","id","lifetimeDays",4,"ngIf"],["class","tw-mr-2","id","lifetimeHours",4,"ngIf"],["class","tw-mr-2","id","lifetimeMinutes",4,"ngIf"],["class","tw-mr-2","id","lifetimeSeconds",4,"ngIf"],["id","lifetimeSeconds",1,"tw-block","tw-text-grey-700"],["id","lifetimeYears",1,"tw-mr-2"],["id","lifetimeMonths",1,"tw-mr-2"],["id","lifetimeWeeks",1,"tw-mr-2"],["id","lifetimeDays",1,"tw-mr-2"],["id","lifetimeHours",1,"tw-mr-2"],["id","lifetimeMinutes",1,"tw-mr-2"],["id","lifetimeSeconds",1,"tw-mr-2"],["id","zero"],["id","unlimited"],["id","valuesUndefined",1,"tw-italic","tw-text-grey-400"]],template:function(Me,Qe){if(1&Me&&v.DNE(0,K,4,3,"div",2)(1,ee,4,3,"ng-template",null,0,v.C5r),2&Me){const Le=v.sdS(2);v.Y8G("ngIf",(null==Qe.filteredValues?null:Qe.filteredValues.length)>0)("ngIfElse",Le)}},dependencies:[y.Sq,y.bT,w.D9]})}}return T})()},7677:(lt,we,p)=>{"use strict";p.d(we,{N:()=>y});var i=p(177),e=p(1780),v=p(4438);let y=(()=>{class w{static{this.\u0275fac=function(h){return new(h||w)}}static{this.\u0275mod=v.$C({type:w})}static{this.\u0275inj=v.G2t({imports:[e.h,i.MD]})}}return w})()},2510:(lt,we,p)=>{"use strict";p.d(we,{S:()=>v});var i=p(4438),e=p(1780);let v=(()=>{class y{constructor(){this.placeholder=null,this.onSearch=new i.bkB}search(I){this.onSearch.emit(I.target.value)}static{this.\u0275fac=function(D){return new(D||y)}}static{this.\u0275cmp=i.VBU({type:y,selectors:[["app-search"]],inputs:{placeholder:"placeholder"},outputs:{onSearch:"onSearch"},decls:8,vars:4,consts:[["id","searchContainer",1,"tw-mb-2"],[1,"tw-flex","tw-bg-white","tw-border","tw-border-grey-300","tw-opacity-75","tw-cursor-text","tw-rounded","focus-within:tw-opacity-100","focus-within:tw-border-blue-400","tw-transition-all","tw-ease-in-out"],["for","searchTerm",1,"tw-flex","tw-items-center","tw-text-grey-500","tw-m-0","tw-ml-3"],["aria-hidden","true",1,"far","fa-search","tw-text-sm"],[1,"sr-only"],["id","searchTerm","type","text",1,"tw-bg-transparent","tw-border-0","tw-text-base","tw-leading-tight","tw-px-2","tw-py-2","tw-w-full","focus:tw-outline-none","tw-transition-all","tw-ease-in-out",3,"keyup","placeholder"]],template:function(D,h){1&D&&(i.j41(0,"div",0)(1,"div",1)(2,"label",2),i.nrm(3,"span",3),i.j41(4,"span",4),i.EFF(5),i.nI1(6,"translate"),i.k0s()(),i.j41(7,"input",5),i.bIt("keyup",function(E){return h.search(E)}),i.k0s()()()),2&D&&(i.R7$(5),i.JRh(i.bMT(6,2,"Common.Search")),i.R7$(2),i.Y8G("placeholder",h.placeholder))},dependencies:[e.D9],encapsulation:2})}}return y})()},3665:(lt,we,p)=>{"use strict";p.d(we,{t:()=>I});var i=p(9417),e=p(177),v=p(1583),y=p(1780),w=p(4438);let I=(()=>{class D{static{this.\u0275fac=function(E){return new(E||D)}}static{this.\u0275mod=w.$C({type:D})}static{this.\u0275inj=w.G2t({imports:[e.MD,v.iI,y.h,i.YN]})}}return D})()},9764:(lt,we,p)=>{"use strict";p.d(we,{s:()=>Je});var i=p(467),e=p(4438),v=p(9417),y=p(9838),w=p(1413),I=p(7263),D=p(9767),h=p(4252),f=p(1258),E=p(4549),F=p(4754),L=p(9812),_=p(177),M=p(5404),N=p(8698),P=p(9550),G=p(8577),x=p(3899),V=p(6536),Q=p(1780);const Y=["certificateReader"],le=["addCertificateBtn"],fe=["showModalButton"],K=["secretPicker"],ee=["certificateReaderNonModal"],ie=["addCertificateBtnNonModal"];function T(Ee,be){if(1&Ee&&(e.j41(0,"option",43),e.EFF(1),e.k0s()),2&Ee){const se=be.$implicit;e.Y8G("value",se.value),e.R7$(),e.JRh(se.value)}}function ae(Ee,be){1&Ee&&(e.j41(0,"p",44),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&Ee&&(e.R7$(),e.JRh(e.bMT(2,1,"Secret Picker.LastWarning")))}function re(Ee,be){if(1&Ee&&e.nrm(0,"app-date-time",45),2&Ee){const se=e.XpG(2);e.Y8G("min",se.minDate)}}function Me(Ee,be){if(1&Ee){const se=e.RV6();e.j41(0,"form",15)(1,"div",16)(2,"div",17)(3,"app-form-row",18)(4,"div",19)(5,"select",20),e.DNE(6,T,2,2,"option",21),e.nI1(7,"keyvalue"),e.k0s()()(),e.j41(8,"app-form-row",18)(9,"div",22)(10,"div",23),e.nrm(11,"input",24),e.j41(12,"button",25),e.bIt("click",function(){e.eBV(se);const Ie=e.XpG();return e.Njj(Ie.generateRandom())}),e.nrm(13,"span",26),e.j41(14,"span",27),e.EFF(15),e.nI1(16,"translate"),e.k0s()()(),e.nrm(17,"input",28),e.j41(18,"div",29)(19,"button",30,1),e.bIt("click",function(){e.eBV(se);const Ie=e.XpG();return e.Njj(Ie.openCertificateReaderModel())}),e.j41(21,"span"),e.EFF(22),e.nI1(23,"translate"),e.k0s()()(),e.DNE(24,ae,3,3,"p",31),e.k0s()(),e.j41(25,"app-form-row",32)(26,"div",22)(27,"div",33)(28,"div",34)(29,"app-form-toggle",35)(30,"input",36),e.bIt("change",function(){e.eBV(se);const Ie=e.XpG();return e.Njj(Ie.toggleExpirationDateInput())}),e.k0s()()()(),e.DNE(31,re,1,1,"app-date-time",37),e.k0s()(),e.j41(32,"app-form-row",38),e.nrm(33,"textarea",39),e.k0s()()(),e.j41(34,"div",40)(35,"button",41),e.bIt("click",function(){e.eBV(se);const Ie=e.XpG();return e.Njj(Ie.addSecret())}),e.EFF(36),e.nI1(37,"translate"),e.k0s(),e.j41(38,"button",42),e.bIt("click",function(){e.eBV(se);const Ie=e.XpG();return e.Njj(Ie.resetForm())}),e.EFF(39),e.nI1(40,"translate"),e.k0s()()()}if(2&Ee){const se=e.XpG();e.Y8G("formGroup",se.secretForm),e.R7$(3),e.Y8G("id","SecretType")("label","Common.Type"),e.R7$(3),e.Y8G("ngForOf",e.bMT(7,23,se.secretTypes)),e.R7$(2),e.Y8G("id","SecretValue")("label","Common.Value"),e.R7$(2),e.Y8G("hidden","Shared Secret"!==se.secretForm.controls.type.value),e.R7$(5),e.JRh(e.bMT(16,25,"Common.GenerateRandom")),e.R7$(2),e.Y8G("hidden","Shared Secret"===se.secretForm.controls.type.value),e.R7$(2),e.Y8G("hidden","Shared Secret"===se.secretForm.controls.type.value),e.R7$(3),e.JRh(e.bMT(23,27,"Common.ReadCertificate")),e.R7$(2),e.Y8G("ngIf",se.displayWarnings),e.R7$(),e.Y8G("id","SecretExpiry")("label","Common.ExpirationDate")("help","Common.Dates.UTCWarning"),e.R7$(4),e.Y8G("id","expirationDateEnabled"),e.R7$(2),e.Y8G("ngIf",se.expirationDateEnabled),e.R7$(),e.Y8G("id","SecretDescription")("label","Common.Description")("isLast",!0),e.R7$(3),e.Y8G("disabled",!se.secretForm.valid),e.R7$(),e.JRh(e.bMT(37,29,"Common.Add")),e.R7$(3),e.JRh(e.bMT(40,31,"Common.Clear"))}}function Qe(Ee,be){1&Ee&&e.nrm(0,"app-data-table-column",46),2&Ee&&e.Y8G("prop","created")("date",!0)("title","Common.Created")("headClasses","tw-hidden tw-w-40 md:tw-table-cell")("cellClasses","tw-hidden md:tw-table-cell")}function Le(Ee,be){if(1&Ee){const se=e.RV6();e.j41(0,"div",47,2)(2,"div",48)(3,"app-cert-reader",49,3),e.nI1(5,"translate"),e.nI1(6,"translate"),e.nI1(7,"translate"),e.nI1(8,"translate"),e.bIt("dataExists",function(Ie){e.eBV(se);const it=e.XpG();return e.Njj(it.certificateDataLoaded(Ie))}),e.k0s()(),e.j41(9,"div",40)(10,"button",50,4),e.bIt("click",function(){e.eBV(se);const Ie=e.XpG();return e.Njj(Ie.hideCertReaderNonModal(!0))}),e.EFF(12),e.nI1(13,"translate"),e.k0s(),e.j41(14,"button",42),e.bIt("click",function(){e.eBV(se);const Ie=e.XpG();return e.Njj(Ie.hideCertReaderNonModal(!1))}),e.EFF(15),e.nI1(16,"translate"),e.k0s()()()}2&Ee&&(e.R7$(3),e.Y8G("uploadCert",e.bMT(5,6,"Secret Picker.UploadCert"))("uploadCertHelp",e.bMT(6,8,"Secret Picker.UploadCertHelp"))("certMetaData",e.bMT(7,10,"Secret Picker.MetaData"))("certMetaDataHelp",e.bMT(8,12,"Secret Picker.MetaDataHelp")),e.R7$(9),e.JRh(e.bMT(13,14,"Common.Use")),e.R7$(3),e.JRh(e.bMT(16,16,"Common.Cancel")))}function Ne(Ee,be){if(1&Ee){const se=e.RV6();e.j41(0,"app-custom-modal",51),e.bIt("onSave",function(){e.eBV(se);const Ie=e.XpG();return e.Njj(Ie.closeCertificateReaderModelAndReadCertificate())})("onCancel",function(){e.eBV(se);const Ie=e.XpG();return e.Njj(Ie.closeCertificateReaderModel())}),e.j41(1,"app-cert-reader",52,3),e.nI1(3,"translate"),e.nI1(4,"translate"),e.nI1(5,"translate"),e.nI1(6,"translate"),e.bIt("dataExists",function(Ie){e.eBV(se);const it=e.XpG();return e.Njj(it.certificateDataLoaded(Ie))}),e.k0s()()}if(2&Ee){const se=e.XpG();e.Y8G("modalId",se.certModalId)("title","Secret Picker.ReadCertificate")("actions",se.modalActions),e.R7$(),e.Y8G("uploadCert",e.bMT(3,7,"Secret Picker.UploadCert"))("uploadCertHelp",e.bMT(4,9,"Secret Picker.UploadCertHelp"))("certMetaData",e.bMT(5,11,"Secret Picker.MetaData"))("certMetaDataHelp",e.bMT(6,13,"Secret Picker.MetaDataHelp"))}}let Je=(()=>{class Ee{set clientSecrets(se){this._clientSecrets=se||[]}get clientSecrets(){return this._clientSecrets}set isReadOnly(se){this._isReadOnly=se||!1}get isReadOnly(){return this._isReadOnly}constructor(se,Oe,Ie){this.fb=se,this.modalService=Oe,this.dataTableService=Ie,this._clientSecrets=[],this.nonModelCertPicker=!1,this.showCreatedColumn=!0,this.secretTypes=new y.S9,this.minDate=E.c9.now(),this.secretsAddStream=new w.B,this.secretsRemoveStream=new w.B,this.descFocus=!1,this.displayWarnings=!0,this.dataTableActions=[h.AA.Delete],this.modalActions=[f.N.Delete,f.N.Save],this.certModalId="CertificatePickerModal",this.expirationDateEnabled=!1,this.filepickerDisplayed=new e.bkB}ngOnDestroy(){this.dtsSubscription.unsubscribe()}keydown(se){"Enter"===se.key&&this.secretForm.valid&&!this.descFocus&&this.addSecret()}ngOnInit(){const se=E.c9.now().toISO();this.secretForm=this.fb.group({description:["",v.k0.maxLength(1e3)],value:["",v.k0.required],expiration:[{value:se,disabled:!0}],type:["Shared Secret"],enabled:[]}),this.dtsSubscription=this.dataTableService.deleteRowEvent.subscribe(Oe=>{this.deleteSecret(Oe)})}selectedDate(se){this.secretForm.controls.expiration.setValue(se)}toggleExpirationDateInput(){this.expirationDateEnabled=!this.expirationDateEnabled,this.updateExpiration()}generateRandom(){this.secretForm.controls.value.setValue((0,I.Nl)())}dateSelected(se){this.secretForm.controls.expiration.setValue(se)}addSecret(){const se=this.secretForm.value;se.expiration=this.expirationDateEnabled?E.c9.fromISO(se.expiration).toString():null,this.secretsAddStream.next(se),this.secretForm.reset(),this.resetForm()}updateExpiration(){const se=this.secretForm.controls.expiration;this.expirationDateEnabled?(se.addValidators(v.k0.required),se.enable()):(se.removeValidators(v.k0.required),se.disable()),se.reset()}deleteSecret(se){this.secretsRemoveStream.next(this.clientSecrets[se])}resetForm(){this.secretForm.setValue({description:"",value:"",expiration:"",type:"Shared Secret",enabled:""}),this.expirationDateEnabled=!1,this.updateExpiration()}openCertificateReaderModel(){this.nonModelCertPicker?(this.certificateReaderNonModal.nativeElement.hidden=!1,this.secretPicker.nativeElement.hidden=!0):this.modalService.showById(this.certModalId,this.showModalButton),this.filepickerDisplayed.emit(!0)}resetState(){this.nonModelCertPicker?(this.certificateReaderNonModal.nativeElement.hidden=!0,this.secretPicker.nativeElement.hidden=!1):this.modalService.hideById(this.certModalId),this.filepickerDisplayed.emit(!1)}closeCertificateReaderModel(){this.modalService.hideById(this.certModalId),this.filepickerDisplayed.emit(!1)}closeCertificateReaderModelAndReadCertificate(){var se=this;return(0,i.A)(function*(){se.modalService.hideById(se.certModalId),se.filepickerDisplayed.emit(!1),yield se.ReadCertificateModel()})()}ReadCertificateModel(){var se=this;return(0,i.A)(function*(){const Oe=yield se.certReaderComponent.getCertificateModel();let Ie="";switch(se.secretForm.controls.type.value){case"X509 Certificate Base64":Ie=Oe.base64Cert;break;case"X509 Name":Ie=Oe.subject;break;case"X509 Thumbprint":Ie=Oe.thumbprint}se.secretForm.controls.value.setValue(Ie)})()}certificateDataLoaded(se){this.addCertificateButton&&(this.addCertificateButton.nativeElement.disabled=!se),this.addCertificateBtnNonModal&&(this.addCertificateBtnNonModal.nativeElement.disabled=!se)}hideCertReaderNonModal(se){var Oe=this;return(0,i.A)(function*(){Oe.certificateReaderNonModal.nativeElement.hidden=!0,Oe.secretPicker.nativeElement.hidden=!1,se&&(yield Oe.ReadCertificateModel()),Oe.filepickerDisplayed.emit(!1)})()}static{this.\u0275fac=function(Oe){return new(Oe||Ee)(e.rXU(v.ze),e.rXU(F.B),e.rXU(L.I))}}static{this.\u0275cmp=e.VBU({type:Ee,selectors:[["app-secret-picker"]],viewQuery:function(Oe,Ie){if(1&Oe&&(e.GBs(Y,5),e.GBs(le,5),e.GBs(fe,5),e.GBs(K,5),e.GBs(ee,5),e.GBs(ie,5)),2&Oe){let it;e.mGM(it=e.lsd())&&(Ie.certReaderComponent=it.first),e.mGM(it=e.lsd())&&(Ie.addCertificateButton=it.first),e.mGM(it=e.lsd())&&(Ie.showModalButton=it.first),e.mGM(it=e.lsd())&&(Ie.secretPicker=it.first),e.mGM(it=e.lsd())&&(Ie.certificateReaderNonModal=it.first),e.mGM(it=e.lsd())&&(Ie.addCertificateBtnNonModal=it.first)}},hostBindings:function(Oe,Ie){1&Oe&&e.bIt("keydown",function(xe){return Ie.keydown(xe)},!1,e.EBC)},inputs:{clientSecrets:"clientSecrets",isReadOnly:"isReadOnly",nonModelCertPicker:"nonModelCertPicker",showCreatedColumn:"showCreatedColumn"},outputs:{filepickerDisplayed:"filepickerDisplayed"},decls:11,vars:25,consts:[["secretPicker",""],["showCertModalButton",""],["certificateReaderNonModal",""],["certificateReader",""],["addCertificateBtnNonModal",""],["id","secretPicker"],["id","secretForm",3,"formGroup",4,"ngIf"],[3,"isReadOnly","rows","norowslabel","actions"],[3,"prop","title","headClasses"],[3,"title","isPlaceholder","placeholder","headClasses","cellClasses"],[3,"prop","title","headClasses","cellClasses"],["id","createdColumn",3,"prop","date","title","headClasses","cellClasses",4,"ngIf"],[3,"prop","date","title","headClasses","cellClasses"],["hidden","",4,"ngIf"],[3,"modalId","title","actions","onSave","onCancel",4,"ngIf"],["id","secretForm",3,"formGroup"],[1,"tw-flex-grid","tw-mb-6","md:tw-flex-nowrap"],[1,"tw-flex-grid-col"],[3,"id","label"],[1,"tw-form-select"],["id","SecretType","name","type","formControlName","type",1,"tw-form-control"],[3,"value",4,"ngFor","ngForOf"],[1,"tw-w-full","lg:tw-max-w-2xl"],[1,"tw-flex",3,"hidden"],["type","text","id","SecretValue","formControlName","value","name","SecretValue","autocomplete","off",1,"tw-form-control","tw-rounded-r-none","tw-border-r-0"],["id","generateSecret",1,"tw-btn","tw-rounded-l-none",3,"click"],["aria-hidden","true",1,"far","fa-random"],[1,"sr-only"],["type","text","id","SecretValue","formControlName","value","name","SecretValue","autocomplete","off",1,"tw-form-control",3,"hidden"],[1,"tw-form-text"],["id","readCertificate",1,"tw-underline","hover:tw-no-underline",3,"click","hidden"],["class","tw-form-text-danger",4,"ngIf"],[3,"id","label","help"],[1,"tw-form-row","tw-flex","tw-items-center"],[1,"tw-shrink-0","tw-block"],[3,"id"],["formControlName","enabled","type","checkbox","id","expirationDateEnabled","name","expirationDateEnabled",1,"tw-form-switch__input",3,"change"],["id","expiration","formControlName","expiration",3,"min",4,"ngIf"],[3,"id","label","isLast"],["id","SecretDescription","name","SecretDescription","formControlName","description",1,"tw-form-control","md:tw-h-56"],[1,"tw-flex","tw-mb-6"],["id","addSecretBtn",1,"tw-btn-success","tw-mr-4",3,"click","disabled"],[1,"tw-btn",3,"click"],[3,"value"],[1,"tw-form-text-danger"],["id","expiration","formControlName","expiration",3,"min"],["id","createdColumn",3,"prop","date","title","headClasses","cellClasses"],["hidden",""],[1,"tw-mb-6","md:tw-flex-nowrap"],["id","certificateReader",3,"dataExists","uploadCert","uploadCertHelp","certMetaData","certMetaDataHelp"],["id","addCertificateBtn","disabled","",1,"tw-btn-success","tw-mr-4",3,"click"],[3,"onSave","onCancel","modalId","title","actions"],["id","",3,"dataExists","uploadCert","uploadCertHelp","certMetaData","certMetaDataHelp"]],template:function(Oe,Ie){1&Oe&&(e.j41(0,"div",5,0),e.DNE(2,Me,41,33,"form",6),e.j41(3,"app-data-table",7),e.nrm(4,"app-data-table-column",8)(5,"app-data-table-column",9)(6,"app-data-table-column",10),e.DNE(7,Qe,1,5,"app-data-table-column",11),e.nrm(8,"app-data-table-column",12),e.k0s()(),e.DNE(9,Le,17,18,"div",13)(10,Ne,7,15,"app-custom-modal",14)),2&Oe&&(e.R7$(2),e.Y8G("ngIf",!Ie.isReadOnly),e.R7$(),e.Y8G("isReadOnly",Ie.isReadOnly)("rows",Ie.clientSecrets)("norowslabel","Clients.NoSecrets")("actions",Ie.dataTableActions),e.R7$(),e.Y8G("prop","type")("title","Common.Type")("headClasses","sm:tw-w-1/3 md:tw-w-1/4"),e.R7$(),e.Y8G("title","Common.Value")("isPlaceholder",!0)("placeholder","Secret Picker.HiddenValue")("headClasses","tw-hidden tw-w-40 xl:tw-table-cell")("cellClasses","tw-hidden xl:tw-table-cell"),e.R7$(),e.Y8G("prop","description")("title","Common.Description")("headClasses","tw-hidden sm:tw-table-cell")("cellClasses","tw-hidden tw-max-w-0 tw-truncate sm:tw-table-cell"),e.R7$(),e.Y8G("ngIf",Ie.showCreatedColumn),e.R7$(),e.Y8G("prop","expiration")("date",!0)("title","Common.Expiration")("headClasses","tw-hidden tw-w-40 md:tw-table-cell")("cellClasses","tw-hidden md:tw-table-cell"),e.R7$(),e.Y8G("ngIf",Ie.nonModelCertPicker),e.R7$(),e.Y8G("ngIf",!1===Ie.nonModelCertPicker))},dependencies:[_.Sq,_.bT,v.qT,v.xH,v.y7,v.me,v.Zm,v.wz,v.BC,v.cb,v.j4,v.JD,M.V,N.Y,P.m,h.up,G.w,x.G,V.Z,_.lG,Q.D9],encapsulation:2,data:{animation:[(0,D.Ws)()]}})}}return Ee})()},4179:(lt,we,p)=>{"use strict";p.d(we,{z:()=>_});var i=p(9417),e=p(177),v=p(1683),y=p(1780),w=p(779),I=p(75),D=p(8389),h=p(8251),f=p(4367),E=p(6599),F=p(9812),L=p(4438);let _=(()=>{class M{static{this.\u0275fac=function(G){return new(G||M)}}static{this.\u0275mod=L.$C({type:M})}static{this.\u0275inj=L.G2t({providers:[F.I],imports:[e.MD,i.X1,v.Y,y.h,i.YN,w.Q_,I.U,D.w,h.h,f.N,E.Y]})}}return M})()},4313:(lt,we,p)=>{"use strict";p.d(we,{if:()=>f});var i=p(1413),e=p(152),v=p(3294),y=p(5964),w=p(6354);class f{constructor(F,L,_){this.toastr=F,this.translate=L,this.canSearchEmptyString=_,this.searchTerm="",this.searchTermStream=new i.B,this.enterKeyStream=new i.B,this.searchSource=this.searchTermStream.pipe((0,e.B)(600),(0,v.F)(),(0,y.p)(M=>this.filterSearchTerm(M)),(0,w.T)(M=>this.mapSearchTerm(M))),this.enterKeySource=this.enterKeyStream.pipe((0,e.B)(600),(0,y.p)(()=>this.filterSearchTerm(this.searchTerm)),(0,w.T)(()=>this.mapSearchTerm(this.searchTerm)))}filterSearchTerm(F){return this.canSearchEmptyString?F.length<50&&1!==F.length:!(F.length<2||F.length>50)&&""!==F.trim()}search(F){"Enter"===F.key?1===this.searchTerm.length?this.toastr.warning(this.translate.instant("Users.MinimumSearchLength"),this.translate.instant("Notifications.Sorry")):this.enterKeyStream.next():1!==this.searchTerm.length&&this.searchTermStream.next(this.searchTerm)}}},9945:(lt,we,p)=>{"use strict";p.d(we,{f:()=>D});var i=p(177),e=p(9417),v=p(1683),y=p(8389),w=p(1780),I=p(4438);let D=(()=>{class h{static{this.\u0275fac=function(F){return new(F||h)}}static{this.\u0275mod=I.$C({type:h})}static{this.\u0275inj=I.G2t({imports:[i.MD,e.YN,e.X1,y.w,v.Y,w.h]})}}return h})()},7384:(lt,we,p)=>{"use strict";p.d(we,{d:()=>I});var i=p(4438),e=p(177),v=p(1780);function y(D,h){1&D&&(i.j41(0,"span"),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&D&&(i.R7$(),i.JRh(i.bMT(2,1,"Common.LoadingPleaseWait")))}function w(D,h){if(1&D&&(i.j41(0,"span"),i.EFF(1),i.k0s()),2&D){const f=i.XpG();i.R7$(),i.JRh(f.text)}}let I=(()=>{class D{constructor(){this.text=""}static{this.\u0275fac=function(E){return new(E||D)}}static{this.\u0275cmp=i.VBU({type:D,selectors:[["app-simple-loader"]],inputs:{text:"text"},decls:4,vars:2,consts:[[1,"tw-flex","tw-items-center","tw-justify-center","tw-text-sm","tw-min-h-48"],[1,"fad","fa-spinner-third","fa-spin","tw-text-secondary-500","tw-mr-2"],[4,"ngIf"]],template:function(E,F){1&E&&(i.j41(0,"div",0),i.nrm(1,"span",1),i.DNE(2,y,3,3,"span",2)(3,w,2,1,"span",2),i.k0s()),2&E&&(i.R7$(2),i.Y8G("ngIf",""==F.text),i.R7$(),i.Y8G("ngIf",""!=F.text))},dependencies:[e.bT,v.D9],encapsulation:2})}}return D})()},7175:(lt,we,p)=>{"use strict";p.d(we,{c:()=>I});var i=p(9417),e=p(177),v=p(1583),y=p(1780),w=p(4438);let I=(()=>{class D{static{this.\u0275fac=function(E){return new(E||D)}}static{this.\u0275mod=w.$C({type:D})}static{this.\u0275inj=w.G2t({imports:[e.MD,v.iI,y.h,i.YN]})}}return D})()},7970:(lt,we,p)=>{"use strict";p.d(we,{j:()=>w});var i=p(4438),e=p(7263),v=p(177);function y(I,D){if(1&I){const h=i.RV6();i.j41(0,"li",2)(1,"input",3),i.bIt("click",function(){const E=i.eBV(h).index,F=i.XpG();return i.Njj(F.selectValue(E))}),i.k0s(),i.j41(2,"label",4),i.bIt("click",function(){const E=i.eBV(h).index,F=i.XpG();return i.Njj(F.selectValue(E))}),i.j41(3,"span",5),i.EFF(4),i.k0s()()()}if(2&I){const h=D.$implicit,f=D.index,E=i.XpG();i.R7$(),i.Mz_("id","enum-val-",f,""),i.Mz_("name","",E.id,"-state"),i.Y8G("checked",h===E.value),i.R7$(),i.STu("tw-state-toggle-btn ",E.borderStyle(f)," ",E.isSelected(h),""),i.Mz_("for","enum-val-",f,""),i.BMQ("aria-label",E.enumValues),i.R7$(2),i.JRh(h)}}let w=(()=>{class I{get id(){return this._id}set id(h){this._id=h||(0,e.Nl)()}constructor(){this.readonly=!1,this.newValue=new i.bkB}selectValue(h){this.readonly||this.newValue.emit(this.options[h])}borderStyle(h){return 0===h?"tw-rounded-l-lg":h>=this.options.length-1?"tw-rounded-r-lg":"tw-rounded-none"}isSelected(h){return h===this.value?"tw-btn-selected":"tw-btn"}static{this.\u0275fac=function(f){return new(f||I)}}static{this.\u0275cmp=i.VBU({type:I,selectors:[["app-state-toggle"]],inputs:{id:"id",options:"options",value:"value",readonly:"readonly"},outputs:{newValue:"newValue"},decls:2,vars:2,consts:[[3,"id"],["class","tw-state-toggle",4,"ngFor","ngForOf"],[1,"tw-state-toggle"],["type","radio",1,"sr-only",3,"click","id","name","checked"],["type","button",3,"click","for"],[1,"tw-pl-1"]],template:function(f,E){1&f&&(i.j41(0,"ul",0),i.DNE(1,y,5,13,"li",1),i.k0s()),2&f&&(i.FS9("id",E.id+"-enumValues-select"),i.R7$(),i.Y8G("ngForOf",E.options))},dependencies:[v.Sq],encapsulation:2})}}return I})()},1957:(lt,we,p)=>{"use strict";p.d(we,{U:()=>y});var i=p(177),e=p(9417),v=p(4438);let y=(()=>{class w{static{this.\u0275fac=function(h){return new(h||w)}}static{this.\u0275mod=v.$C({type:w})}static{this.\u0275inj=v.G2t({imports:[i.MD,e.YN]})}}return w})()},3680:(lt,we,p)=>{"use strict";p.d(we,{z:()=>P});var i=p(4438),e=p(177),v=p(1583),y=p(1780),w=p(7005);const I=[[["","badge",""]],[["","ctx",""]],[["","button",""]],[["","tabs",""]]],D=["[badge]","[ctx]","[button]","[tabs]"],h=G=>[G];function f(G,x){if(1&G&&(i.qex(0),i.j41(1,"li",7)(2,"span",17),i.EFF(3,"/"),i.k0s(),i.j41(4,"a",8),i.EFF(5),i.k0s()(),i.bVm()),2&G){const V=x.$implicit;i.R7$(4),i.Y8G("routerLink",V.link),i.R7$(),i.SpI(" ",V.title," ")}}function E(G,x){1&G&&(i.j41(0,"span",18),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&G&&(i.R7$(),i.SpI(" ",i.bMT(2,1,"Common.ReadOnly")," "))}function F(G,x){1&G&&(i.j41(0,"span",19),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&G&&(i.R7$(),i.SpI(" ",i.bMT(2,1,"Common.Reserved")," "))}function L(G,x){1&G&&(i.j41(0,"span",20),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&G&&(i.R7$(),i.SpI(" ",i.bMT(2,1,"Common.UserTOTPEnabled")," "))}function _(G,x){1&G&&(i.j41(0,"div",21),i.SdG(1,2),i.k0s())}function M(G,x){1&G&&(i.qex(0),i.j41(1,"div",22),i.SdG(2,3),i.k0s(),i.bVm())}let P=(()=>{class G{constructor(){this.hasButton=!1,this.hasTabs=!1,this.isReadOnly=!1,this.isReserved=!1,this.totpEnabled=!1}static{this.\u0275fac=function(Q){return new(Q||G)}}static{this.\u0275cmp=i.VBU({type:G,selectors:[["app-title-bar"]],inputs:{title:"title",crumbs:"crumbs",hasButton:"hasButton",hasTabs:"hasTabs",isReadOnly:"isReadOnly",isReserved:"isReserved",totpEnabled:"totpEnabled"},ngContentSelectors:D,decls:24,vars:18,consts:[[1,"tw-bg-grey-200","tw-border-b","tw-border-grey-300","tw--mt-5","tw--mx-4","tw-mb-6"],[1,"tw-px-4","tw-py-5"],[1,"tw-container","tw-mx-auto","tw-text-left"],[1,"tw-flex","tw-items-end","tw-justify-between"],[1,"tw-content","tw-min-w-0"],[1,"tw-mb-2"],["id","pageCrumbs",1,"tw-flex","tw-items-center","tw-text-xs","tw-leading-none","tw-text-grey-700"],[1,"tw-flex","tw-items-center"],[1,"tw-inline-block","tw-text-grey-700","tw-font-normal","hover:tw-text-body",3,"routerLink"],[4,"ngFor","ngForOf"],[1,"md:tw-flex","md:tw-items-center"],["id","pageTitle",1,"tw-text-xl","tw-font-semibold","tw-mb-2","tw-truncate","md:tw-mb-0","md:tw-mr-3","md:tw-text-2xl","last:tw-mb-0"],["id","readOnlyBadge","class","tw-pill tw-mr-2",4,"ngIf"],["id","reservedBadge","class","tw-pill tw-mr-2",4,"ngIf"],["class","tw-pill tw-mr-2",4,"ngIf"],["class","tw-shrink-0 tw-ml-4",4,"ngIf"],[4,"ngIf"],["aria-hidden","true",1,"tw-mx-2","tw-opacity-75"],["id","readOnlyBadge",1,"tw-pill","tw-mr-2"],["id","reservedBadge",1,"tw-pill","tw-mr-2"],[1,"tw-pill","tw-mr-2"],[1,"tw-shrink-0","tw-ml-4"],[1,"tw-container","tw-mx-auto","tw--mt-2"]],template:function(Q,Y){1&Q&&(i.NAR(I),i.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"nav",5),i.nI1(6,"translate"),i.j41(7,"ol",6)(8,"li",7)(9,"a",8),i.nI1(10,"localize"),i.EFF(11),i.nI1(12,"translate"),i.k0s()(),i.DNE(13,f,6,2,"ng-container",9),i.k0s()(),i.j41(14,"div",10)(15,"h1",11),i.EFF(16),i.k0s(),i.SdG(17),i.DNE(18,E,3,3,"span",12)(19,F,3,3,"span",13)(20,L,3,3,"span",14),i.SdG(21,1),i.k0s()(),i.DNE(22,_,2,0,"div",15),i.k0s()()(),i.DNE(23,M,3,0,"ng-container",16),i.k0s()),2&Q&&(i.R7$(5),i.BMQ("aria-label",i.bMT(6,10,"Nav.Breadcrumbs")),i.R7$(4),i.Y8G("routerLink",i.eq3(16,h,i.bMT(10,12,"/home"))),i.R7$(2),i.SpI(" ",i.bMT(12,14,"Nav.Home")," "),i.R7$(2),i.Y8G("ngForOf",Y.crumbs),i.R7$(3),i.JRh(Y.title),i.R7$(2),i.Y8G("ngIf",Y.isReadOnly&&!Y.isReserved),i.R7$(),i.Y8G("ngIf",Y.isReserved),i.R7$(),i.Y8G("ngIf",Y.totpEnabled),i.R7$(2),i.Y8G("ngIf",Y.hasButton),i.R7$(),i.Y8G("ngIf",Y.hasTabs))},dependencies:[e.Sq,e.bT,v.Wk,y.D9,w.tl],encapsulation:2})}}return G})()},367:(lt,we,p)=>{"use strict";p.d(we,{m:()=>D});var i=p(177),e=p(1583),v=p(1683),y=p(7005),w=p(1780),I=p(4438);let D=(()=>{class h{static{this.\u0275fac=function(F){return new(F||h)}}static{this.\u0275mod=I.$C({type:h})}static{this.\u0275inj=I.G2t({imports:[i.MD,e.iI,v.Y,w.h,y.XE]})}}return h})()},316:(lt,we,p)=>{"use strict";function i(e){const v=e.value;if(null==v)return{validEmail:!1};if(v.indexOf(" ")>-1)return{validEmail:!1};let y=!1;for(let w=0;w<v.length;w++)if("@"===e.value[w]){if(y||0===w||w===v.length-1)return{validEmail:!1};y=!0}return y?null:{validEmail:!1}}p.d(we,{D:()=>i})},5070:(lt,we,p)=>{"use strict";var i=p(345),e=p(4438),y=p(9417),w=p(1626),I=p(9969);function h(r){return new e.wOt(3e3,!1)}function ln(r){switch(r.length){case 0:return new I.sf;case 1:return r[0];default:return new I.ui(r)}}function Mt(r,d,t=new Map,o=new Map){const l=[],C=[];let $=-1,me=null;if(d.forEach(He=>{const at=He.get("offset"),Ut=at==$,on=Ut&&me||new Map;He.forEach((vn,wn)=>{let kn=wn,Mn=vn;if("offset"!==wn)switch(kn=r.normalizePropertyName(kn,l),Mn){case I.FX:Mn=t.get(wn);break;case I.kp:Mn=o.get(wn);break;default:Mn=r.normalizeStyleValue(wn,kn,Mn,l)}on.set(kn,Mn)}),Ut||C.push(on),me=on,$=at}),l.length)throw function Le(r){return new e.wOt(3502,!1)}();return C}function xt(r,d,t,o){switch(d){case"start":r.onStart(()=>o(t&&z(t,"start",r)));break;case"done":r.onDone(()=>o(t&&z(t,"done",r)));break;case"destroy":r.onDestroy(()=>o(t&&z(t,"destroy",r)))}}function z(r,d,t){const C=W(r.element,r.triggerName,r.fromState,r.toState,d||r.phaseName,t.totalTime??r.totalTime,!!t.disabled),$=r._data;return null!=$&&(C._data=$),C}function W(r,d,t,o,l="",C=0,$){return{element:r,triggerName:d,fromState:t,toState:o,phaseName:l,totalTime:C,disabled:!!$}}function J(r,d,t){let o=r.get(d);return o||r.set(d,o=t),o}function _e(r){const d=r.indexOf(":");return[r.substring(1,d),r.slice(d+1)]}const Ce=typeof document>"u"?null:document.documentElement;function st(r){const d=r.parentNode||r.host||null;return d===Ce?null:d}let rt=null,kt=!1;function en(r,d){for(;d;){if(d===r)return!0;d=st(d)}return!1}function Ot(r,d,t){if(t)return Array.from(r.querySelectorAll(d));const o=r.querySelector(d);return o?[o]:[]}let je=(()=>{class r{validateStyleProperty(t){return function mt(r){rt||(rt=function $t(){return typeof document<"u"?document.body:null}()||{},kt=!!rt.style&&"WebkitAppearance"in rt.style);let d=!0;return rt.style&&!function Fe(r){return"ebkit"==r.substring(1,6)}(r)&&(d=r in rt.style,!d&&kt&&(d="Webkit"+r.charAt(0).toUpperCase()+r.slice(1)in rt.style)),d}(t)}matchesElement(t,o){return!1}containsElement(t,o){return en(t,o)}getParentElement(t){return st(t)}query(t,o,l){return Ot(t,o,l)}computeStyle(t,o,l){return l||""}animate(t,o,l,C,$,me=[],He){return new I.sf(l,C)}static{this.\u0275fac=function(o){return new(o||r)}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac})}}return r})();class oe{static{this.NOOP=new je}}class H{}const Ue=1e3,Ft="ng-enter",sn="ng-leave",cn="ng-trigger",In=".ng-trigger",An="ng-animating",Fn=".ng-animating";function Pn(r){if("number"==typeof r)return r;const d=r.match(/^(-?[\.\d]+)(m?s)/);return!d||d.length<2?0:ki(parseFloat(d[1]),d[2])}function ki(r,d){return"s"===d?r*Ue:r}function wi(r,d,t){return r.hasOwnProperty("duration")?r:function Rt(r,d,t){let l,C=0,$="";if("string"==typeof r){const me=r.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===me)return d.push(h()),{duration:0,delay:0,easing:""};l=ki(parseFloat(me[1]),me[2]);const He=me[3];null!=He&&(C=ki(parseFloat(He),me[4]));const at=me[5];at&&($=at)}else l=r;if(!t){let me=!1,He=d.length;l<0&&(d.push(function f(){return new e.wOt(3100,!1)}()),me=!0),C<0&&(d.push(function E(){return new e.wOt(3101,!1)}()),me=!0),me&&d.splice(He,0,h())}return{duration:l,delay:C,easing:$}}(r,d,t)}function Nt(r,d,t){d.forEach((o,l)=>{const C=dt(l);t&&!t.has(l)&&t.set(l,r.style[C]),r.style[C]=o})}function tn(r,d){d.forEach((t,o)=>{const l=dt(o);r.style[l]=""})}function En(r){return Array.isArray(r)?1==r.length?r[0]:(0,I.K2)(r):r}const un=new RegExp("{{\\s*(.+?)\\s*}}","g");function ui(r){let d=[];if("string"==typeof r){let t;for(;t=un.exec(r);)d.push(t[1]);un.lastIndex=0}return d}function jn(r,d,t){const o=`${r}`,l=o.replace(un,(C,$)=>{let me=d[$];return null==me&&(t.push(function L(r){return new e.wOt(3003,!1)}()),me=""),me.toString()});return l==o?r:l}const It=/-+([a-z0-9])/g;function dt(r){return r.replace(It,(...d)=>d[1].toUpperCase())}function gn(r,d,t){switch(d.type){case I.If.Trigger:return r.visitTrigger(d,t);case I.If.State:return r.visitState(d,t);case I.If.Transition:return r.visitTransition(d,t);case I.If.Sequence:return r.visitSequence(d,t);case I.If.Group:return r.visitGroup(d,t);case I.If.Animate:return r.visitAnimate(d,t);case I.If.Keyframes:return r.visitKeyframes(d,t);case I.If.Style:return r.visitStyle(d,t);case I.If.Reference:return r.visitReference(d,t);case I.If.AnimateChild:return r.visitAnimateChild(d,t);case I.If.AnimateRef:return r.visitAnimateRef(d,t);case I.If.Query:return r.visitQuery(d,t);case I.If.Stagger:return r.visitStagger(d,t);default:throw function _(r){return new e.wOt(3004,!1)}()}}function mn(r,d){return window.getComputedStyle(r)[d]}const zn=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Tn extends H{normalizePropertyName(d,t){return dt(d)}normalizeStyleValue(d,t,o,l){let C="";const $=o.toString().trim();if(zn.has(t)&&0!==o&&"0"!==o)if("number"==typeof o)C="px";else{const me=o.match(/^[+-]?[\d\.]+([a-z]*)$/);me&&0==me[1].length&&l.push(function M(r,d){return new e.wOt(3005,!1)}())}return $+C}}const Si="*";const Ei=new Set(["true","1"]),qe=new Set(["false","0"]);function St(r,d){const t=Ei.has(r)||qe.has(r),o=Ei.has(d)||qe.has(d);return(l,C)=>{let $=r==Si||r==l,me=d==Si||d==C;return!$&&t&&"boolean"==typeof l&&($=l?Ei.has(r):qe.has(r)),!me&&o&&"boolean"==typeof C&&(me=C?Ei.has(d):qe.has(d)),$&&me}}const Gt=new RegExp("s*:selfs*,?","g");function ot(r,d,t,o){return new Ye(r).build(d,t,o)}class Ye{constructor(d){this._driver=d}build(d,t,o){const l=new ye(t);return this._resetContextStyleTimingState(l),gn(this,En(d),l)}_resetContextStyleTimingState(d){d.currentQuerySelector="",d.collectedStyles=new Map,d.collectedStyles.set("",new Map),d.currentTime=0}visitTrigger(d,t){let o=t.queryCount=0,l=t.depCount=0;const C=[],$=[];return"@"==d.name.charAt(0)&&t.errors.push(function N(){return new e.wOt(3006,!1)}()),d.definitions.forEach(me=>{if(this._resetContextStyleTimingState(t),me.type==I.If.State){const He=me,at=He.name;at.toString().split(/\s*,\s*/).forEach(Ut=>{He.name=Ut,C.push(this.visitState(He,t))}),He.name=at}else if(me.type==I.If.Transition){const He=this.visitTransition(me,t);o+=He.queryCount,l+=He.depCount,$.push(He)}else t.errors.push(function P(){return new e.wOt(3007,!1)}())}),{type:I.If.Trigger,name:d.name,states:C,transitions:$,queryCount:o,depCount:l,options:null}}visitState(d,t){const o=this.visitStyle(d.styles,t),l=d.options&&d.options.params||null;if(o.containsDynamicStyles){const C=new Set,$=l||{};o.styles.forEach(me=>{me instanceof Map&&me.forEach(He=>{ui(He).forEach(at=>{$.hasOwnProperty(at)||C.add(at)})})}),C.size&&t.errors.push(function G(r,d){return new e.wOt(3008,!1)}(0,C.values()))}return{type:I.If.State,name:d.name,style:o,options:l?{params:l}:null}}visitTransition(d,t){t.queryCount=0,t.depCount=0;const o=gn(this,En(d.animation),t),l=function pi(r,d){const t=[];return"string"==typeof r?r.split(/\s*,\s*/).forEach(o=>function Wi(r,d,t){if(":"==r[0]){const He=function Hi(r,d){switch(r){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,o)=>parseFloat(o)>parseFloat(t);case":decrement":return(t,o)=>parseFloat(o)<parseFloat(t);default:return d.push(function ae(r){return new e.wOt(3016,!1)}()),"* => *"}}(r,t);if("function"==typeof He)return void d.push(He);r=He}const o=r.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==o||o.length<4)return t.push(function T(r){return new e.wOt(3015,!1)}()),d;const l=o[1],C=o[2],$=o[3];d.push(St(l,$)),"<"==C[0]&&(l!=Si||$!=Si)&&d.push(St($,l))}(o,t,d)):t.push(r),t}(d.expr,t.errors);return{type:I.If.Transition,matchers:l,animation:o,queryCount:t.queryCount,depCount:t.depCount,options:ht(d.options)}}visitSequence(d,t){return{type:I.If.Sequence,steps:d.steps.map(o=>gn(this,o,t)),options:ht(d.options)}}visitGroup(d,t){const o=t.currentTime;let l=0;const C=d.steps.map($=>{t.currentTime=o;const me=gn(this,$,t);return l=Math.max(l,t.currentTime),me});return t.currentTime=l,{type:I.If.Group,steps:C,options:ht(d.options)}}visitAnimate(d,t){const o=function ve(r,d){if(r.hasOwnProperty("duration"))return r;if("number"==typeof r)return Ke(wi(r,d).duration,0,"");const t=r;if(t.split(/\s+/).some(C=>"{"==C.charAt(0)&&"{"==C.charAt(1))){const C=Ke(0,0,"");return C.dynamic=!0,C.strValue=t,C}const l=wi(t,d);return Ke(l.duration,l.delay,l.easing)}(d.timings,t.errors);t.currentAnimateTimings=o;let l,C=d.styles?d.styles:(0,I.iF)({});if(C.type==I.If.Keyframes)l=this.visitKeyframes(C,t);else{let $=d.styles,me=!1;if(!$){me=!0;const at={};o.easing&&(at.easing=o.easing),$=(0,I.iF)(at)}t.currentTime+=o.duration+o.delay;const He=this.visitStyle($,t);He.isEmptyStep=me,l=He}return t.currentAnimateTimings=null,{type:I.If.Animate,timings:o,style:l,options:null}}visitStyle(d,t){const o=this._makeStyleAst(d,t);return this._validateStyleAst(o,t),o}_makeStyleAst(d,t){const o=[],l=Array.isArray(d.styles)?d.styles:[d.styles];for(let me of l)"string"==typeof me?me===I.kp?o.push(me):t.errors.push(new e.wOt(3002,!1)):o.push(new Map(Object.entries(me)));let C=!1,$=null;return o.forEach(me=>{if(me instanceof Map&&(me.has("easing")&&($=me.get("easing"),me.delete("easing")),!C))for(let He of me.values())if(He.toString().indexOf("{{")>=0){C=!0;break}}),{type:I.If.Style,styles:o,easing:$,offset:d.offset,containsDynamicStyles:C,options:null}}_validateStyleAst(d,t){const o=t.currentAnimateTimings;let l=t.currentTime,C=t.currentTime;o&&C>0&&(C-=o.duration+o.delay),d.styles.forEach($=>{"string"!=typeof $&&$.forEach((me,He)=>{const at=t.collectedStyles.get(t.currentQuerySelector),Ut=at.get(He);let on=!0;Ut&&(C!=l&&C>=Ut.startTime&&l<=Ut.endTime&&(t.errors.push(function Q(r,d,t,o,l){return new e.wOt(3010,!1)}()),on=!1),C=Ut.startTime),on&&at.set(He,{startTime:C,endTime:l}),t.options&&function Ln(r,d,t){const o=d.params||{},l=ui(r);l.length&&l.forEach(C=>{o.hasOwnProperty(C)||t.push(function F(r){return new e.wOt(3001,!1)}())})}(me,t.options,t.errors)})})}visitKeyframes(d,t){const o={type:I.If.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Y(){return new e.wOt(3011,!1)}()),o;let C=0;const $=[];let me=!1,He=!1,at=0;const Ut=d.steps.map(_i=>{const Ci=this._makeStyleAst(_i,t);let Vi=null!=Ci.offset?Ci.offset:function Te(r){if("string"==typeof r)return null;let d=null;if(Array.isArray(r))r.forEach(t=>{if(t instanceof Map&&t.has("offset")){const o=t;d=parseFloat(o.get("offset")),o.delete("offset")}});else if(r instanceof Map&&r.has("offset")){const t=r;d=parseFloat(t.get("offset")),t.delete("offset")}return d}(Ci.styles),bi=0;return null!=Vi&&(C++,bi=Ci.offset=Vi),He=He||bi<0||bi>1,me=me||bi<at,at=bi,$.push(bi),Ci});He&&t.errors.push(function le(){return new e.wOt(3012,!1)}()),me&&t.errors.push(function fe(){return new e.wOt(3200,!1)}());const on=d.steps.length;let vn=0;C>0&&C<on?t.errors.push(function K(){return new e.wOt(3202,!1)}()):0==C&&(vn=1/(on-1));const wn=on-1,kn=t.currentTime,Mn=t.currentAnimateTimings,oi=Mn.duration;return Ut.forEach((_i,Ci)=>{const Vi=vn>0?Ci==wn?1:vn*Ci:$[Ci],bi=Vi*oi;t.currentTime=kn+Mn.delay+bi,Mn.duration=bi,this._validateStyleAst(_i,t),_i.offset=Vi,o.styles.push(_i)}),o}visitReference(d,t){return{type:I.If.Reference,animation:gn(this,En(d.animation),t),options:ht(d.options)}}visitAnimateChild(d,t){return t.depCount++,{type:I.If.AnimateChild,options:ht(d.options)}}visitAnimateRef(d,t){return{type:I.If.AnimateRef,animation:this.visitReference(d.animation,t),options:ht(d.options)}}visitQuery(d,t){const o=t.currentQuerySelector,l=d.options||{};t.queryCount++,t.currentQuery=d;const[C,$]=function Xt(r){const d=!!r.split(/\s*,\s*/).find(t=>":self"==t);return d&&(r=r.replace(Gt,"")),r=r.replace(/@\*/g,In).replace(/@\w+/g,t=>In+"-"+t.slice(1)).replace(/:animating/g,Fn),[r,d]}(d.selector);t.currentQuerySelector=o.length?o+" "+C:C,J(t.collectedStyles,t.currentQuerySelector,new Map);const me=gn(this,En(d.animation),t);return t.currentQuery=null,t.currentQuerySelector=o,{type:I.If.Query,selector:C,limit:l.limit||0,optional:!!l.optional,includeSelf:$,animation:me,originalSelector:d.selector,options:ht(d.options)}}visitStagger(d,t){t.currentQuery||t.errors.push(function ee(){return new e.wOt(3013,!1)}());const o="full"===d.timings?{duration:0,delay:0,easing:"full"}:wi(d.timings,t.errors,!0);return{type:I.If.Stagger,animation:gn(this,En(d.animation),t),timings:o,options:null}}}class ye{constructor(d){this.errors=d,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function ht(r){return r?(r={...r}).params&&(r.params=function ct(r){return r?{...r}:null}(r.params)):r={},r}function Ke(r,d,t){return{duration:r,delay:d,easing:t}}function wt(r,d,t,o,l,C,$=null,me=!1){return{type:1,element:r,keyframes:d,preStyleProps:t,postStyleProps:o,duration:l,delay:C,totalTime:l+C,easing:$,subTimeline:me}}class gt{constructor(){this._map=new Map}get(d){return this._map.get(d)||[]}append(d,t){let o=this._map.get(d);o||this._map.set(d,o=[]),o.push(...t)}has(d){return this._map.has(d)}clear(){this._map.clear()}}const ni=new RegExp(":enter","g"),ei=new RegExp(":leave","g");function ji(r,d,t,o,l,C=new Map,$=new Map,me,He,at=[]){return(new pr).buildKeyframes(r,d,t,o,l,C,$,me,He,at)}class pr{buildKeyframes(d,t,o,l,C,$,me,He,at,Ut=[]){at=at||new gt;const on=new ii(d,t,at,l,C,Ut,[]);on.options=He;const vn=He.delay?Pn(He.delay):0;on.currentTimeline.delayNextStep(vn),on.currentTimeline.setStyles([$],null,on.errors,He),gn(this,o,on);const wn=on.timelines.filter(kn=>kn.containsAnimation());if(wn.length&&me.size){let kn;for(let Mn=wn.length-1;Mn>=0;Mn--){const oi=wn[Mn];if(oi.element===t){kn=oi;break}}kn&&!kn.allowOnlyTimelineStyles()&&kn.setStyles([me],null,on.errors,He)}return wn.length?wn.map(kn=>kn.buildKeyframes()):[wt(t,[],[],[],0,vn,"",!1)]}visitTrigger(d,t){}visitState(d,t){}visitTransition(d,t){}visitAnimateChild(d,t){const o=t.subInstructions.get(t.element);if(o){const l=t.createSubContext(d.options),C=t.currentTimeline.currentTime,$=this._visitSubInstructions(o,l,l.options);C!=$&&t.transformIntoNewTimeline($)}t.previousNode=d}visitAnimateRef(d,t){const o=t.createSubContext(d.options);o.transformIntoNewTimeline(),this._applyAnimationRefDelays([d.options,d.animation.options],t,o),this.visitReference(d.animation,o),t.transformIntoNewTimeline(o.currentTimeline.currentTime),t.previousNode=d}_applyAnimationRefDelays(d,t,o){for(const l of d){const C=l?.delay;if(C){const $="number"==typeof C?C:Pn(jn(C,l?.params??{},t.errors));o.delayNextStep($)}}}_visitSubInstructions(d,t,o){let C=t.currentTimeline.currentTime;const $=null!=o.duration?Pn(o.duration):null,me=null!=o.delay?Pn(o.delay):null;return 0!==$&&d.forEach(He=>{const at=t.appendInstructionToTimeline(He,$,me);C=Math.max(C,at.duration+at.delay)}),C}visitReference(d,t){t.updateOptions(d.options,!0),gn(this,d.animation,t),t.previousNode=d}visitSequence(d,t){const o=t.subContextCount;let l=t;const C=d.options;if(C&&(C.params||C.delay)&&(l=t.createSubContext(C),l.transformIntoNewTimeline(),null!=C.delay)){l.previousNode.type==I.If.Style&&(l.currentTimeline.snapshotCurrentStyles(),l.previousNode=$n);const $=Pn(C.delay);l.delayNextStep($)}d.steps.length&&(d.steps.forEach($=>gn(this,$,l)),l.currentTimeline.applyStylesToKeyframe(),l.subContextCount>o&&l.transformIntoNewTimeline()),t.previousNode=d}visitGroup(d,t){const o=[];let l=t.currentTimeline.currentTime;const C=d.options&&d.options.delay?Pn(d.options.delay):0;d.steps.forEach($=>{const me=t.createSubContext(d.options);C&&me.delayNextStep(C),gn(this,$,me),l=Math.max(l,me.currentTimeline.currentTime),o.push(me.currentTimeline)}),o.forEach($=>t.currentTimeline.mergeTimelineCollectedStyles($)),t.transformIntoNewTimeline(l),t.previousNode=d}_visitTiming(d,t){if(d.dynamic){const o=d.strValue;return wi(t.params?jn(o,t.params,t.errors):o,t.errors)}return{duration:d.duration,delay:d.delay,easing:d.easing}}visitAnimate(d,t){const o=t.currentAnimateTimings=this._visitTiming(d.timings,t),l=t.currentTimeline;o.delay&&(t.incrementTime(o.delay),l.snapshotCurrentStyles());const C=d.style;C.type==I.If.Keyframes?this.visitKeyframes(C,t):(t.incrementTime(o.duration),this.visitStyle(C,t),l.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=d}visitStyle(d,t){const o=t.currentTimeline,l=t.currentAnimateTimings;!l&&o.hasCurrentStyleProperties()&&o.forwardFrame();const C=l&&l.easing||d.easing;d.isEmptyStep?o.applyEmptyStep(C):o.setStyles(d.styles,C,t.errors,t.options),t.previousNode=d}visitKeyframes(d,t){const o=t.currentAnimateTimings,l=t.currentTimeline.duration,C=o.duration,me=t.createSubContext().currentTimeline;me.easing=o.easing,d.styles.forEach(He=>{me.forwardTime((He.offset||0)*C),me.setStyles(He.styles,He.easing,t.errors,t.options),me.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(me),t.transformIntoNewTimeline(l+C),t.previousNode=d}visitQuery(d,t){const o=t.currentTimeline.currentTime,l=d.options||{},C=l.delay?Pn(l.delay):0;C&&(t.previousNode.type===I.If.Style||0==o&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=$n);let $=o;const me=t.invokeQuery(d.selector,d.originalSelector,d.limit,d.includeSelf,!!l.optional,t.errors);t.currentQueryTotal=me.length;let He=null;me.forEach((at,Ut)=>{t.currentQueryIndex=Ut;const on=t.createSubContext(d.options,at);C&&on.delayNextStep(C),at===t.element&&(He=on.currentTimeline),gn(this,d.animation,on),on.currentTimeline.applyStylesToKeyframe(),$=Math.max($,on.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline($),He&&(t.currentTimeline.mergeTimelineCollectedStyles(He),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=d}visitStagger(d,t){const o=t.parentContext,l=t.currentTimeline,C=d.timings,$=Math.abs(C.duration),me=$*(t.currentQueryTotal-1);let He=$*t.currentQueryIndex;switch(C.duration<0?"reverse":C.easing){case"reverse":He=me-He;break;case"full":He=o.currentStaggerTime}const Ut=t.currentTimeline;He&&Ut.delayNextStep(He);const on=Ut.currentTime;gn(this,d.animation,t),t.previousNode=d,o.currentStaggerTime=l.currentTime-on+(l.startTime-o.currentTimeline.startTime)}}const $n={};class ii{constructor(d,t,o,l,C,$,me,He){this._driver=d,this.element=t,this.subInstructions=o,this._enterClassName=l,this._leaveClassName=C,this.errors=$,this.timelines=me,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=$n,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=He||new cr(this._driver,t,0),me.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(d,t){if(!d)return;const o=d;let l=this.options;null!=o.duration&&(l.duration=Pn(o.duration)),null!=o.delay&&(l.delay=Pn(o.delay));const C=o.params;if(C){let $=l.params;$||($=this.options.params={}),Object.keys(C).forEach(me=>{(!t||!$.hasOwnProperty(me))&&($[me]=jn(C[me],$,this.errors))})}}_copyOptions(){const d={};if(this.options){const t=this.options.params;if(t){const o=d.params={};Object.keys(t).forEach(l=>{o[l]=t[l]})}}return d}createSubContext(d=null,t,o){const l=t||this.element,C=new ii(this._driver,l,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(l,o||0));return C.previousNode=this.previousNode,C.currentAnimateTimings=this.currentAnimateTimings,C.options=this._copyOptions(),C.updateOptions(d),C.currentQueryIndex=this.currentQueryIndex,C.currentQueryTotal=this.currentQueryTotal,C.parentContext=this,this.subContextCount++,C}transformIntoNewTimeline(d){return this.previousNode=$n,this.currentTimeline=this.currentTimeline.fork(this.element,d),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(d,t,o){const l={duration:t??d.duration,delay:this.currentTimeline.currentTime+(o??0)+d.delay,easing:""},C=new Ai(this._driver,d.element,d.keyframes,d.preStyleProps,d.postStyleProps,l,d.stretchStartingKeyframe);return this.timelines.push(C),l}incrementTime(d){this.currentTimeline.forwardTime(this.currentTimeline.duration+d)}delayNextStep(d){d>0&&this.currentTimeline.delayNextStep(d)}invokeQuery(d,t,o,l,C,$){let me=[];if(l&&me.push(this.element),d.length>0){d=(d=d.replace(ni,"."+this._enterClassName)).replace(ei,"."+this._leaveClassName);let at=this._driver.query(this.element,d,1!=o);0!==o&&(at=o<0?at.slice(at.length+o,at.length):at.slice(0,o)),me.push(...at)}return!C&&0==me.length&&$.push(function ie(r){return new e.wOt(3014,!1)}()),me}}class cr{constructor(d,t,o,l){this._driver=d,this.element=t,this.startTime=o,this._elementTimelineStylesLookup=l,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(d){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+d),t&&this.snapshotCurrentStyles()):this.startTime+=d}fork(d,t){return this.applyStylesToKeyframe(),new cr(this._driver,d,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(d){this.applyStylesToKeyframe(),this.duration=d,this._loadKeyframe()}_updateStyle(d,t){this._localTimelineStyles.set(d,t),this._globalTimelineStyles.set(d,t),this._styleSummary.set(d,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(d){d&&this._previousKeyframe.set("easing",d);for(let[t,o]of this._globalTimelineStyles)this._backFill.set(t,o||I.kp),this._currentKeyframe.set(t,I.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(d,t,o,l){t&&this._previousKeyframe.set("easing",t);const C=l&&l.params||{},$=function Zs(r,d){const t=new Map;let o;return r.forEach(l=>{if("*"===l){o??=d.keys();for(let C of o)t.set(C,I.kp)}else for(let[C,$]of l)t.set(C,$)}),t}(d,this._globalTimelineStyles);for(let[me,He]of $){const at=jn(He,C,o);this._pendingStyles.set(me,at),this._localTimelineStyles.has(me)||this._backFill.set(me,this._globalTimelineStyles.get(me)??I.kp),this._updateStyle(me,at)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((d,t)=>{this._currentKeyframe.set(t,d)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((d,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,d)}))}snapshotCurrentStyles(){for(let[d,t]of this._localTimelineStyles)this._pendingStyles.set(d,t),this._updateStyle(d,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const d=[];for(let t in this._currentKeyframe)d.push(t);return d}mergeTimelineCollectedStyles(d){d._styleSummary.forEach((t,o)=>{const l=this._styleSummary.get(o);(!l||t.time>l.time)&&this._updateStyle(o,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const d=new Set,t=new Set,o=1===this._keyframes.size&&0===this.duration;let l=[];this._keyframes.forEach((me,He)=>{const at=new Map([...this._backFill,...me]);at.forEach((Ut,on)=>{Ut===I.FX?d.add(on):Ut===I.kp&&t.add(on)}),o||at.set("offset",He/this.duration),l.push(at)});const C=[...d.values()],$=[...t.values()];if(o){const me=l[0],He=new Map(me);me.set("offset",0),He.set("offset",1),l=[me,He]}return wt(this.element,l,C,$,this.duration,this.startTime,this.easing,!1)}}class Ai extends cr{constructor(d,t,o,l,C,$,me=!1){super(d,t,$.delay),this.keyframes=o,this.preStyleProps=l,this.postStyleProps=C,this._stretchStartingKeyframe=me,this.timings={duration:$.duration,delay:$.delay,easing:$.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let d=this.keyframes,{delay:t,duration:o,easing:l}=this.timings;if(this._stretchStartingKeyframe&&t){const C=[],$=o+t,me=t/$,He=new Map(d[0]);He.set("offset",0),C.push(He);const at=new Map(d[0]);at.set("offset",Nr(me)),C.push(at);const Ut=d.length-1;for(let on=1;on<=Ut;on++){let vn=new Map(d[on]);const wn=vn.get("offset");vn.set("offset",Nr((t+wn*o)/$)),C.push(vn)}o=$,t=0,l="",d=C}return wt(this.element,d,this.preStyleProps,this.postStyleProps,o,t,l,!0)}}function Nr(r,d=3){const t=Math.pow(10,d-1);return Math.round(r*t)/t}function _s(r,d,t,o,l,C,$,me,He,at,Ut,on,vn){return{type:0,element:r,triggerName:d,isRemovalTransition:l,fromState:t,fromStyles:C,toState:o,toStyles:$,timelines:me,queriedElements:He,preStyleProps:at,postStyleProps:Ut,totalTime:on,errors:vn}}const Us={};class vi{constructor(d,t,o){this._triggerName=d,this.ast=t,this._stateStyles=o}match(d,t,o,l){return function bs(r,d,t,o,l){return r.some(C=>C(d,t,o,l))}(this.ast.matchers,d,t,o,l)}buildStyles(d,t,o){let l=this._stateStyles.get("*");return void 0!==d&&(l=this._stateStyles.get(d?.toString())||l),l?l.buildStyles(t,o):new Map}build(d,t,o,l,C,$,me,He,at,Ut){const on=[],vn=this.ast.options&&this.ast.options.params||Us,kn=this.buildStyles(o,me&&me.params||Us,on),Mn=He&&He.params||Us,oi=this.buildStyles(l,Mn,on),_i=new Set,Ci=new Map,Vi=new Map,bi="void"===l,lr={params:Tr(Mn,vn),delay:this.ast.options?.delay},Yi=Ut?[]:ji(d,t,this.ast.animation,C,$,kn,oi,lr,at,on);let qi=0;return Yi.forEach(ir=>{qi=Math.max(ir.duration+ir.delay,qi)}),on.length?_s(t,this._triggerName,o,l,bi,kn,oi,[],[],Ci,Vi,qi,on):(Yi.forEach(ir=>{const ts=ir.element,ys=J(Ci,ts,new Set);ir.preStyleProps.forEach(io=>ys.add(io));const po=J(Vi,ts,new Set);ir.postStyleProps.forEach(io=>po.add(io)),ts!==t&&_i.add(ts)}),_s(t,this._triggerName,o,l,bi,kn,oi,Yi,[..._i.values()],Ci,Vi,qi))}}function Tr(r,d){const t={...d};return Object.entries(r).forEach(([o,l])=>{null!=l&&(t[o]=l)}),t}class Vs{constructor(d,t,o){this.styles=d,this.defaultParams=t,this.normalizer=o}buildStyles(d,t){const o=new Map,l=Tr(d,this.defaultParams);return this.styles.styles.forEach(C=>{"string"!=typeof C&&C.forEach(($,me)=>{$&&($=jn($,l,t));const He=this.normalizer.normalizePropertyName(me,t);$=this.normalizer.normalizeStyleValue(me,He,$,t),o.set(me,$)})}),o}}class Cr{constructor(d,t,o){this.name=d,this.ast=t,this._normalizer=o,this.transitionFactories=[],this.states=new Map,t.states.forEach(l=>{this.states.set(l.name,new Vs(l.style,l.options&&l.options.params||{},o))}),qs(this.states,"true","1"),qs(this.states,"false","0"),t.transitions.forEach(l=>{this.transitionFactories.push(new vi(d,l,this.states))}),this.fallbackTransition=function Ni(r,d,t){return new vi(r,{type:I.If.Transition,animation:{type:I.If.Sequence,steps:[],options:null},matchers:[($,me)=>!0],options:null,queryCount:0,depCount:0},d)}(d,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(d,t,o,l){return this.transitionFactories.find($=>$.match(d,t,o,l))||null}matchStyles(d,t,o){return this.fallbackTransition.buildStyles(d,t,o)}}function qs(r,d,t){r.has(d)?r.has(t)||r.set(t,r.get(d)):r.has(t)&&r.set(d,r.get(t))}const si=new gt;class ia{constructor(d,t,o){this.bodyNode=d,this._driver=t,this._normalizer=o,this._animations=new Map,this._playersById=new Map,this.players=[]}register(d,t){const o=[],C=ot(this._driver,t,o,[]);if(o.length)throw function Ne(r){return new e.wOt(3503,!1)}();this._animations.set(d,C)}_buildPlayer(d,t,o){const l=d.element,C=Mt(this._normalizer,d.keyframes,t,o);return this._driver.animate(l,C,d.duration,d.delay,d.easing,[],!0)}create(d,t,o={}){const l=[],C=this._animations.get(d);let $;const me=new Map;if(C?($=ji(this._driver,t,C,Ft,sn,new Map,new Map,o,si,l),$.forEach(Ut=>{const on=J(me,Ut.element,new Map);Ut.postStyleProps.forEach(vn=>on.set(vn,null))})):(l.push(function Je(){return new e.wOt(3300,!1)}()),$=[]),l.length)throw function Ee(r){return new e.wOt(3504,!1)}();me.forEach((Ut,on)=>{Ut.forEach((vn,wn)=>{Ut.set(wn,this._driver.computeStyle(on,wn,I.kp))})});const at=ln($.map(Ut=>{const on=me.get(Ut.element);return this._buildPlayer(Ut,new Map,on)}));return this._playersById.set(d,at),at.onDestroy(()=>this.destroy(d)),this.players.push(at),at}destroy(d){const t=this._getPlayer(d);t.destroy(),this._playersById.delete(d);const o=this.players.indexOf(t);o>=0&&this.players.splice(o,1)}_getPlayer(d){const t=this._playersById.get(d);if(!t)throw function be(r){return new e.wOt(3301,!1)}();return t}listen(d,t,o,l){const C=W(t,"","","");return xt(this._getPlayer(d),o,C,l),()=>{}}command(d,t,o,l){if("register"==o)return void this.register(d,l[0]);if("create"==o)return void this.create(d,t,l[0]||{});const C=this._getPlayer(d);switch(o){case"play":C.play();break;case"pause":C.pause();break;case"reset":C.reset();break;case"restart":C.restart();break;case"finish":C.finish();break;case"init":C.init();break;case"setPosition":C.setPosition(parseFloat(l[0]));break;case"destroy":this.destroy(d)}}}const Vn="ng-animate-queued",vr="ng-animate-disabled",Hr=[],er={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},tr={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Gn="__ng_removed";class Jr{get params(){return this.options.params}constructor(d,t=""){this.namespaceId=t;const o=d&&d.hasOwnProperty("value");if(this.value=function wr(r){return r??null}(o?d.value:d),o){const{value:C,...$}=d;this.options=$}else this.options={};this.options.params||(this.options.params={})}absorbOptions(d){const t=d.params;if(t){const o=this.options.params;Object.keys(t).forEach(l=>{null==o[l]&&(o[l]=t[l])})}}}const ur="void",Fr=new Jr(ur);class as{constructor(d,t,o){this.id=d,this.hostElement=t,this._engine=o,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+d,nr(t,this._hostClassName)}listen(d,t,o,l){if(!this._triggers.has(t))throw function se(r,d){return new e.wOt(3302,!1)}();if(null==o||0==o.length)throw function Oe(r){return new e.wOt(3303,!1)}();if(!function cs(r){return"start"==r||"done"==r}(o))throw function Ie(r,d){return new e.wOt(3400,!1)}();const C=J(this._elementListeners,d,[]),$={name:t,phase:o,callback:l};C.push($);const me=J(this._engine.statesByElement,d,new Map);return me.has(t)||(nr(d,cn),nr(d,cn+"-"+t),me.set(t,Fr)),()=>{this._engine.afterFlush(()=>{const He=C.indexOf($);He>=0&&C.splice(He,1),this._triggers.has(t)||me.delete(t)})}}register(d,t){return!this._triggers.has(d)&&(this._triggers.set(d,t),!0)}_getTrigger(d){const t=this._triggers.get(d);if(!t)throw function it(r){return new e.wOt(3401,!1)}();return t}trigger(d,t,o,l=!0){const C=this._getTrigger(t),$=new wo(this.id,t,d);let me=this._engine.statesByElement.get(d);me||(nr(d,cn),nr(d,cn+"-"+t),this._engine.statesByElement.set(d,me=new Map));let He=me.get(t);const at=new Jr(o,this.id);if(!(o&&o.hasOwnProperty("value"))&&He&&at.absorbOptions(He.options),me.set(t,at),He||(He=Fr),at.value!==ur&&He.value===at.value){if(!function oo(r,d){const t=Object.keys(r),o=Object.keys(d);if(t.length!=o.length)return!1;for(let l=0;l<t.length;l++){const C=t[l];if(!d.hasOwnProperty(C)||r[C]!==d[C])return!1}return!0}(He.params,at.params)){const Mn=[],oi=C.matchStyles(He.value,He.params,Mn),_i=C.matchStyles(at.value,at.params,Mn);Mn.length?this._engine.reportError(Mn):this._engine.afterFlush(()=>{tn(d,oi),Nt(d,_i)})}return}const vn=J(this._engine.playersByElement,d,[]);vn.forEach(Mn=>{Mn.namespaceId==this.id&&Mn.triggerName==t&&Mn.queued&&Mn.destroy()});let wn=C.matchTransition(He.value,at.value,d,at.params),kn=!1;if(!wn){if(!l)return;wn=C.fallbackTransition,kn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:d,triggerName:t,transition:wn,fromState:He,toState:at,player:$,isFallbackTransition:kn}),kn||(nr(d,Vn),$.onStart(()=>{rs(d,Vn)})),$.onDone(()=>{let Mn=this.players.indexOf($);Mn>=0&&this.players.splice(Mn,1);const oi=this._engine.playersByElement.get(d);if(oi){let _i=oi.indexOf($);_i>=0&&oi.splice(_i,1)}}),this.players.push($),vn.push($),$}deregister(d){this._triggers.delete(d),this._engine.statesByElement.forEach(t=>t.delete(d)),this._elementListeners.forEach((t,o)=>{this._elementListeners.set(o,t.filter(l=>l.name!=d))})}clearElementCache(d){this._engine.statesByElement.delete(d),this._elementListeners.delete(d);const t=this._engine.playersByElement.get(d);t&&(t.forEach(o=>o.destroy()),this._engine.playersByElement.delete(d))}_signalRemovalForInnerTriggers(d,t){const o=this._engine.driver.query(d,In,!0);o.forEach(l=>{if(l[Gn])return;const C=this._engine.fetchNamespacesByElement(l);C.size?C.forEach($=>$.triggerLeaveAnimation(l,t,!1,!0)):this.clearElementCache(l)}),this._engine.afterFlushAnimationsDone(()=>o.forEach(l=>this.clearElementCache(l)))}triggerLeaveAnimation(d,t,o,l){const C=this._engine.statesByElement.get(d),$=new Map;if(C){const me=[];if(C.forEach((He,at)=>{if($.set(at,He.value),this._triggers.has(at)){const Ut=this.trigger(d,at,ur,l);Ut&&me.push(Ut)}}),me.length)return this._engine.markElementAsRemoved(this.id,d,!0,t,$),o&&ln(me).onDone(()=>this._engine.processLeaveNode(d)),!0}return!1}prepareLeaveAnimationListeners(d){const t=this._elementListeners.get(d),o=this._engine.statesByElement.get(d);if(t&&o){const l=new Set;t.forEach(C=>{const $=C.name;if(l.has($))return;l.add($);const He=this._triggers.get($).fallbackTransition,at=o.get($)||Fr,Ut=new Jr(ur),on=new wo(this.id,$,d);this._engine.totalQueuedPlayers++,this._queue.push({element:d,triggerName:$,transition:He,fromState:at,toState:Ut,player:on,isFallbackTransition:!0})})}}removeNode(d,t){const o=this._engine;if(d.childElementCount&&this._signalRemovalForInnerTriggers(d,t),this.triggerLeaveAnimation(d,t,!0))return;let l=!1;if(o.totalAnimations){const C=o.players.length?o.playersByQueriedElement.get(d):[];if(C&&C.length)l=!0;else{let $=d;for(;$=$.parentNode;)if(o.statesByElement.get($)){l=!0;break}}}if(this.prepareLeaveAnimationListeners(d),l)o.markElementAsRemoved(this.id,d,!1,t);else{const C=d[Gn];(!C||C===er)&&(o.afterFlush(()=>this.clearElementCache(d)),o.destroyInnerAnimations(d),o._onRemovalComplete(d,t))}}insertNode(d,t){nr(d,this._hostClassName)}drainQueuedTransitions(d){const t=[];return this._queue.forEach(o=>{const l=o.player;if(l.destroyed)return;const C=o.element,$=this._elementListeners.get(C);$&&$.forEach(me=>{if(me.name==o.triggerName){const He=W(C,o.triggerName,o.fromState.value,o.toState.value);He._data=d,xt(o.player,me.phase,He,me.callback)}}),l.markedForDestroy?this._engine.afterFlush(()=>{l.destroy()}):t.push(o)}),this._queue=[],t.sort((o,l)=>{const C=o.transition.ast.depCount,$=l.transition.ast.depCount;return 0==C||0==$?C-$:this._engine.driver.containsElement(o.element,l.element)?1:-1})}destroy(d){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,d)}}class ro{_onRemovalComplete(d,t){this.onRemovalComplete(d,t)}constructor(d,t,o,l){this.bodyNode=d,this.driver=t,this._normalizer=o,this.scheduler=l,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(C,$)=>{}}get queuedPlayers(){const d=[];return this._namespaceList.forEach(t=>{t.players.forEach(o=>{o.queued&&d.push(o)})}),d}createNamespace(d,t){const o=new as(d,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(o,t):(this.newHostElements.set(t,o),this.collectEnterElement(t)),this._namespaceLookup[d]=o}_balanceNamespaceList(d,t){const o=this._namespaceList,l=this.namespacesByHostElement;if(o.length-1>=0){let $=!1,me=this.driver.getParentElement(t);for(;me;){const He=l.get(me);if(He){const at=o.indexOf(He);o.splice(at+1,0,d),$=!0;break}me=this.driver.getParentElement(me)}$||o.unshift(d)}else o.push(d);return l.set(t,d),d}register(d,t){let o=this._namespaceLookup[d];return o||(o=this.createNamespace(d,t)),o}registerTrigger(d,t,o){let l=this._namespaceLookup[d];l&&l.register(t,o)&&this.totalAnimations++}destroy(d,t){d&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const o=this._fetchNamespace(d);this.namespacesByHostElement.delete(o.hostElement);const l=this._namespaceList.indexOf(o);l>=0&&this._namespaceList.splice(l,1),o.destroy(t),delete this._namespaceLookup[d]}))}_fetchNamespace(d){return this._namespaceLookup[d]}fetchNamespacesByElement(d){const t=new Set,o=this.statesByElement.get(d);if(o)for(let l of o.values())if(l.namespaceId){const C=this._fetchNamespace(l.namespaceId);C&&t.add(C)}return t}trigger(d,t,o,l){if(ls(t)){const C=this._fetchNamespace(d);if(C)return C.trigger(t,o,l),!0}return!1}insertNode(d,t,o,l){if(!ls(t))return;const C=t[Gn];if(C&&C.setForRemoval){C.setForRemoval=!1,C.setForMove=!0;const $=this.collectedLeaveElements.indexOf(t);$>=0&&this.collectedLeaveElements.splice($,1)}if(d){const $=this._fetchNamespace(d);$&&$.insertNode(t,o)}l&&this.collectEnterElement(t)}collectEnterElement(d){this.collectedEnterElements.push(d)}markElementAsDisabled(d,t){t?this.disabledNodes.has(d)||(this.disabledNodes.add(d),nr(d,vr)):this.disabledNodes.has(d)&&(this.disabledNodes.delete(d),rs(d,vr))}removeNode(d,t,o){if(ls(t)){this.scheduler?.notify();const l=d?this._fetchNamespace(d):null;l?l.removeNode(t,o):this.markElementAsRemoved(d,t,!1,o);const C=this.namespacesByHostElement.get(t);C&&C.id!==d&&C.removeNode(t,o)}else this._onRemovalComplete(t,o)}markElementAsRemoved(d,t,o,l,C){this.collectedLeaveElements.push(t),t[Gn]={namespaceId:d,setForRemoval:l,hasAnimation:o,removedBeforeQueried:!1,previousTriggersValues:C}}listen(d,t,o,l,C){return ls(t)?this._fetchNamespace(d).listen(t,o,l,C):()=>{}}_buildInstruction(d,t,o,l,C){return d.transition.build(this.driver,d.element,d.fromState.value,d.toState.value,o,l,d.fromState.options,d.toState.options,t,C)}destroyInnerAnimations(d){let t=this.driver.query(d,In,!0);t.forEach(o=>this.destroyActiveAnimationsForElement(o)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(d,Fn,!0),t.forEach(o=>this.finishActiveQueriedAnimationOnElement(o)))}destroyActiveAnimationsForElement(d){const t=this.playersByElement.get(d);t&&t.forEach(o=>{o.queued?o.markedForDestroy=!0:o.destroy()})}finishActiveQueriedAnimationOnElement(d){const t=this.playersByQueriedElement.get(d);t&&t.forEach(o=>o.finish())}whenRenderingDone(){return new Promise(d=>{if(this.players.length)return ln(this.players).onDone(()=>d());d()})}processLeaveNode(d){const t=d[Gn];if(t&&t.setForRemoval){if(d[Gn]=er,t.namespaceId){this.destroyInnerAnimations(d);const o=this._fetchNamespace(t.namespaceId);o&&o.clearElementCache(d)}this._onRemovalComplete(d,t.setForRemoval)}d.classList?.contains(vr)&&this.markElementAsDisabled(d,!1),this.driver.query(d,".ng-animate-disabled",!0).forEach(o=>{this.markElementAsDisabled(o,!1)})}flush(d=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((o,l)=>this._balanceNamespaceList(o,l)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let o=0;o<this.collectedEnterElements.length;o++)nr(this.collectedEnterElements[o],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const o=[];try{t=this._flushAnimations(o,d)}finally{for(let l=0;l<o.length;l++)o[l]()}}else for(let o=0;o<this.collectedLeaveElements.length;o++)this.processLeaveNode(this.collectedLeaveElements[o]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(o=>o()),this._flushFns=[],this._whenQuietFns.length){const o=this._whenQuietFns;this._whenQuietFns=[],t.length?ln(t).onDone(()=>{o.forEach(l=>l())}):o.forEach(l=>l())}}reportError(d){throw function xe(r){return new e.wOt(3402,!1)}()}_flushAnimations(d,t){const o=new gt,l=[],C=new Map,$=[],me=new Map,He=new Map,at=new Map,Ut=new Set;this.disabledNodes.forEach(Qn=>{Ut.add(Qn);const di=this.driver.query(Qn,".ng-animate-queued",!0);for(let Ii=0;Ii<di.length;Ii++)Ut.add(di[Ii])});const on=this.bodyNode,vn=Array.from(this.statesByElement.keys()),wn=go(vn,this.collectedEnterElements),kn=new Map;let Mn=0;wn.forEach((Qn,di)=>{const Ii=Ft+Mn++;kn.set(di,Ii),Qn.forEach(rr=>nr(rr,Ii))});const oi=[],_i=new Set,Ci=new Set;for(let Qn=0;Qn<this.collectedLeaveElements.length;Qn++){const di=this.collectedLeaveElements[Qn],Ii=di[Gn];Ii&&Ii.setForRemoval&&(oi.push(di),_i.add(di),Ii.hasAnimation?this.driver.query(di,".ng-star-inserted",!0).forEach(rr=>_i.add(rr)):Ci.add(di))}const Vi=new Map,bi=go(vn,Array.from(_i));bi.forEach((Qn,di)=>{const Ii=sn+Mn++;Vi.set(di,Ii),Qn.forEach(rr=>nr(rr,Ii))}),d.push(()=>{wn.forEach((Qn,di)=>{const Ii=kn.get(di);Qn.forEach(rr=>rs(rr,Ii))}),bi.forEach((Qn,di)=>{const Ii=Vi.get(di);Qn.forEach(rr=>rs(rr,Ii))}),oi.forEach(Qn=>{this.processLeaveNode(Qn)})});const lr=[],Yi=[];for(let Qn=this._namespaceList.length-1;Qn>=0;Qn--)this._namespaceList[Qn].drainQueuedTransitions(t).forEach(Ii=>{const rr=Ii.player,Ls=Ii.element;if(lr.push(rr),this.collectedEnterElements.length){const Rs=Ls[Gn];if(Rs&&Rs.setForMove){if(Rs.previousTriggersValues&&Rs.previousTriggersValues.has(Ii.triggerName)){const na=Rs.previousTriggersValues.get(Ii.triggerName),$o=this.statesByElement.get(Ii.element);if($o&&$o.has(Ii.triggerName)){const su=$o.get(Ii.triggerName);su.value=na,$o.set(Ii.triggerName,su)}}return void rr.destroy()}}const Aa=!on||!this.driver.containsElement(on,Ls),Co=Vi.get(Ls),Ka=kn.get(Ls),Xr=this._buildInstruction(Ii,o,Ka,Co,Aa);if(Xr.errors&&Xr.errors.length)return void Yi.push(Xr);if(Aa)return rr.onStart(()=>tn(Ls,Xr.fromStyles)),rr.onDestroy(()=>Nt(Ls,Xr.toStyles)),void l.push(rr);if(Ii.isFallbackTransition)return rr.onStart(()=>tn(Ls,Xr.fromStyles)),rr.onDestroy(()=>Nt(Ls,Xr.toStyles)),void l.push(rr);const Bl=[];Xr.timelines.forEach(Rs=>{Rs.stretchStartingKeyframe=!0,this.disabledNodes.has(Rs.element)||Bl.push(Rs)}),Xr.timelines=Bl,o.append(Ls,Xr.timelines),$.push({instruction:Xr,player:rr,element:Ls}),Xr.queriedElements.forEach(Rs=>J(me,Rs,[]).push(rr)),Xr.preStyleProps.forEach((Rs,na)=>{if(Rs.size){let $o=He.get(na);$o||He.set(na,$o=new Set),Rs.forEach((su,Ra)=>$o.add(Ra))}}),Xr.postStyleProps.forEach((Rs,na)=>{let $o=at.get(na);$o||at.set(na,$o=new Set),Rs.forEach((su,Ra)=>$o.add(Ra))})});if(Yi.length){const Qn=[];Yi.forEach(di=>{Qn.push(function vt(r,d){return new e.wOt(3505,!1)}())}),lr.forEach(di=>di.destroy()),this.reportError(Qn)}const qi=new Map,ir=new Map;$.forEach(Qn=>{const di=Qn.element;o.has(di)&&(ir.set(di,di),this._beforeAnimationBuild(Qn.player.namespaceId,Qn.instruction,qi))}),l.forEach(Qn=>{const di=Qn.element;this._getPreviousPlayers(di,!1,Qn.namespaceId,Qn.triggerName,null).forEach(rr=>{J(qi,di,[]).push(rr),rr.destroy()})});const ts=oi.filter(Qn=>No(Qn,He,at)),ys=new Map;is(ys,this.driver,Ci,at,I.kp).forEach(Qn=>{No(Qn,He,at)&&ts.push(Qn)});const io=new Map;wn.forEach((Qn,di)=>{is(io,this.driver,new Set(Qn),He,I.FX)}),ts.forEach(Qn=>{const di=ys.get(Qn),Ii=io.get(Qn);ys.set(Qn,new Map([...di?.entries()??[],...Ii?.entries()??[]]))});const mo=[],Pl=[],tc={};$.forEach(Qn=>{const{element:di,player:Ii,instruction:rr}=Qn;if(o.has(di)){if(Ut.has(di))return Ii.onDestroy(()=>Nt(di,rr.toStyles)),Ii.disabled=!0,Ii.overrideTotalTime(rr.totalTime),void l.push(Ii);let Ls=tc;if(ir.size>1){let Co=di;const Ka=[];for(;Co=Co.parentNode;){const Xr=ir.get(Co);if(Xr){Ls=Xr;break}Ka.push(Co)}Ka.forEach(Xr=>ir.set(Xr,Ls))}const Aa=this._buildAnimation(Ii.namespaceId,rr,qi,C,io,ys);if(Ii.setRealPlayer(Aa),Ls===tc)mo.push(Ii);else{const Co=this.playersByElement.get(Ls);Co&&Co.length&&(Ii.parentPlayer=ln(Co)),l.push(Ii)}}else tn(di,rr.fromStyles),Ii.onDestroy(()=>Nt(di,rr.toStyles)),Pl.push(Ii),Ut.has(di)&&l.push(Ii)}),Pl.forEach(Qn=>{const di=C.get(Qn.element);if(di&&di.length){const Ii=ln(di);Qn.setRealPlayer(Ii)}}),l.forEach(Qn=>{Qn.parentPlayer?Qn.syncPlayerEvents(Qn.parentPlayer):Qn.destroy()});for(let Qn=0;Qn<oi.length;Qn++){const di=oi[Qn],Ii=di[Gn];if(rs(di,sn),Ii&&Ii.hasAnimation)continue;let rr=[];if(me.size){let Aa=me.get(di);Aa&&Aa.length&&rr.push(...Aa);let Co=this.driver.query(di,Fn,!0);for(let Ka=0;Ka<Co.length;Ka++){let Xr=me.get(Co[Ka]);Xr&&Xr.length&&rr.push(...Xr)}}const Ls=rr.filter(Aa=>!Aa.destroyed);Ls.length?Go(this,di,Ls):this.processLeaveNode(di)}return oi.length=0,mo.forEach(Qn=>{this.players.push(Qn),Qn.onDone(()=>{Qn.destroy();const di=this.players.indexOf(Qn);this.players.splice(di,1)}),Qn.play()}),mo}afterFlush(d){this._flushFns.push(d)}afterFlushAnimationsDone(d){this._whenQuietFns.push(d)}_getPreviousPlayers(d,t,o,l,C){let $=[];if(t){const me=this.playersByQueriedElement.get(d);me&&($=me)}else{const me=this.playersByElement.get(d);if(me){const He=!C||C==ur;me.forEach(at=>{at.queued||!He&&at.triggerName!=l||$.push(at)})}}return(o||l)&&($=$.filter(me=>!(o&&o!=me.namespaceId||l&&l!=me.triggerName))),$}_beforeAnimationBuild(d,t,o){const C=t.element,$=t.isRemovalTransition?void 0:d,me=t.isRemovalTransition?void 0:t.triggerName;for(const He of t.timelines){const at=He.element,Ut=at!==C,on=J(o,at,[]);this._getPreviousPlayers(at,Ut,$,me,t.toState).forEach(wn=>{const kn=wn.getRealPlayer();kn.beforeDestroy&&kn.beforeDestroy(),wn.destroy(),on.push(wn)})}tn(C,t.fromStyles)}_buildAnimation(d,t,o,l,C,$){const me=t.triggerName,He=t.element,at=[],Ut=new Set,on=new Set,vn=t.timelines.map(kn=>{const Mn=kn.element;Ut.add(Mn);const oi=Mn[Gn];if(oi&&oi.removedBeforeQueried)return new I.sf(kn.duration,kn.delay);const _i=Mn!==He,Ci=function ra(r){const d=[];return so(r,d),d}((o.get(Mn)||Hr).map(qi=>qi.getRealPlayer())).filter(qi=>!!qi.element&&qi.element===Mn),Vi=C.get(Mn),bi=$.get(Mn),lr=Mt(this._normalizer,kn.keyframes,Vi,bi),Yi=this._buildPlayer(kn,lr,Ci);if(kn.subTimeline&&l&&on.add(Mn),_i){const qi=new wo(d,me,Mn);qi.setRealPlayer(Yi),at.push(qi)}return Yi});at.forEach(kn=>{J(this.playersByQueriedElement,kn.element,[]).push(kn),kn.onDone(()=>function Ms(r,d,t){let o=r.get(d);if(o){if(o.length){const l=o.indexOf(t);o.splice(l,1)}0==o.length&&r.delete(d)}return o}(this.playersByQueriedElement,kn.element,kn))}),Ut.forEach(kn=>nr(kn,An));const wn=ln(vn);return wn.onDestroy(()=>{Ut.forEach(kn=>rs(kn,An)),Nt(He,t.toStyles)}),on.forEach(kn=>{J(l,kn,[]).push(wn)}),wn}_buildPlayer(d,t,o){return t.length>0?this.driver.animate(d.element,t,d.duration,d.delay,d.easing,o):new I.sf(d.duration,d.delay)}}class wo{constructor(d,t,o){this.namespaceId=d,this.triggerName=t,this.element=o,this._player=new I.sf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(d){this._containsRealPlayer||(this._player=d,this._queuedCallbacks.forEach((t,o)=>{t.forEach(l=>xt(d,o,void 0,l))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(d.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(d){this.totalTime=d}syncPlayerEvents(d){const t=this._player;t.triggerCallback&&d.onStart(()=>t.triggerCallback("start")),d.onDone(()=>this.finish()),d.onDestroy(()=>this.destroy())}_queueEvent(d,t){J(this._queuedCallbacks,d,[]).push(t)}onDone(d){this.queued&&this._queueEvent("done",d),this._player.onDone(d)}onStart(d){this.queued&&this._queueEvent("start",d),this._player.onStart(d)}onDestroy(d){this.queued&&this._queueEvent("destroy",d),this._player.onDestroy(d)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(d){this.queued||this._player.setPosition(d)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(d){const t=this._player;t.triggerCallback&&t.triggerCallback(d)}}function ls(r){return r&&1===r.nodeType}function Ma(r,d){const t=r.style.display;return r.style.display=d??"none",t}function is(r,d,t,o,l){const C=[];t.forEach(He=>C.push(Ma(He)));const $=[];o.forEach((He,at)=>{const Ut=new Map;He.forEach(on=>{const vn=d.computeStyle(at,on,l);Ut.set(on,vn),(!vn||0==vn.length)&&(at[Gn]=tr,$.push(at))}),r.set(at,Ut)});let me=0;return t.forEach(He=>Ma(He,C[me++])),$}function go(r,d){const t=new Map;if(r.forEach(me=>t.set(me,[])),0==d.length)return t;const l=new Set(d),C=new Map;function $(me){if(!me)return 1;let He=C.get(me);if(He)return He;const at=me.parentNode;return He=t.has(at)?at:l.has(at)?1:$(at),C.set(me,He),He}return d.forEach(me=>{const He=$(me);1!==He&&t.get(He).push(me)}),t}function nr(r,d){r.classList?.add(d)}function rs(r,d){r.classList?.remove(d)}function Go(r,d,t){ln(t).onDone(()=>r.processLeaveNode(d))}function so(r,d){for(let t=0;t<r.length;t++){const o=r[t];o instanceof I.ui?so(o.players,d):d.push(o)}}function No(r,d,t){const o=t.get(r);if(!o)return!1;let l=d.get(r);return l?o.forEach(C=>l.add(C)):d.set(r,o),t.delete(r),!0}class xs{constructor(d,t,o,l){this._driver=t,this._normalizer=o,this._triggerCache={},this.onRemovalComplete=(C,$)=>{},this._transitionEngine=new ro(d.body,t,o,l),this._timelineEngine=new ia(d.body,t,o),this._transitionEngine.onRemovalComplete=(C,$)=>this.onRemovalComplete(C,$)}registerTrigger(d,t,o,l,C){const $=d+"-"+l;let me=this._triggerCache[$];if(!me){const He=[],Ut=ot(this._driver,C,He,[]);if(He.length)throw function Qe(r,d){return new e.wOt(3404,!1)}();me=function br(r,d,t){return new Cr(r,d,t)}(l,Ut,this._normalizer),this._triggerCache[$]=me}this._transitionEngine.registerTrigger(t,l,me)}register(d,t){this._transitionEngine.register(d,t)}destroy(d,t){this._transitionEngine.destroy(d,t)}onInsert(d,t,o,l){this._transitionEngine.insertNode(d,t,o,l)}onRemove(d,t,o){this._transitionEngine.removeNode(d,t,o)}disableAnimations(d,t){this._transitionEngine.markElementAsDisabled(d,t)}process(d,t,o,l){if("@"==o.charAt(0)){const[C,$]=_e(o);this._timelineEngine.command(C,t,$,l)}else this._transitionEngine.trigger(d,t,o,l)}listen(d,t,o,l,C){if("@"==o.charAt(0)){const[$,me]=_e(o);return this._timelineEngine.listen($,t,me,C)}return this._transitionEngine.listen(d,t,o,l,C)}flush(d=-1){this._transitionEngine.flush(d)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(d){this._transitionEngine.afterFlushAnimationsDone(d)}}class sr{static{this.initialStylesByElement=new WeakMap}constructor(d,t,o){this._element=d,this._startStyles=t,this._endStyles=o,this._state=0;let l=sr.initialStylesByElement.get(d);l||sr.initialStylesByElement.set(d,l=new Map),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&Nt(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Nt(this._element,this._initialStyles),this._endStyles&&(Nt(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(sr.initialStylesByElement.delete(this._element),this._startStyles&&(tn(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(tn(this._element,this._endStyles),this._endStyles=null),Nt(this._element,this._initialStyles),this._state=3)}}function Br(r){let d=null;return r.forEach((t,o)=>{(function us(r){return"display"===r||"position"===r})(o)&&(d=d||new Map,d.set(o,t))}),d}class ao{constructor(d,t,o,l){this.element=d,this.keyframes=t,this.options=o,this._specialStyles=l,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=o.duration,this._delay=o.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(d=>d()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const d=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,d,this.options),this._finalKeyframe=d.length?d[d.length-1]:new Map;const t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(d){const t=[];return d.forEach(o=>{t.push(Object.fromEntries(o))}),t}_triggerWebAnimation(d,t,o){return d.animate(this._convertKeyframesToObject(t),o)}onStart(d){this._originalOnStartFns.push(d),this._onStartFns.push(d)}onDone(d){this._originalOnDoneFns.push(d),this._onDoneFns.push(d)}onDestroy(d){this._onDestroyFns.push(d)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(d=>d()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(d=>d()),this._onDestroyFns=[])}setPosition(d){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=d*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const d=new Map;this.hasStarted()&&this._finalKeyframe.forEach((o,l)=>{"offset"!==l&&d.set(l,this._finished?o:mn(this.element,l))}),this.currentSnapshot=d}triggerCallback(d){const t="start"===d?this._onStartFns:this._onDoneFns;t.forEach(o=>o()),t.length=0}}class xa{validateStyleProperty(d){return!0}validateAnimatableStyleProperty(d){return!0}matchesElement(d,t){return!1}containsElement(d,t){return en(d,t)}getParentElement(d){return st(d)}query(d,t,o){return Ot(d,t,o)}computeStyle(d,t,o){return mn(d,t)}animate(d,t,o,l,C,$=[]){const He={duration:o,delay:l,fill:0==l?"both":"forwards"};C&&(He.easing=C);const at=new Map,Ut=$.filter(wn=>wn instanceof ao);(function Vt(r,d){return 0===r||0===d})(o,l)&&Ut.forEach(wn=>{wn.currentSnapshot.forEach((kn,Mn)=>at.set(Mn,kn))});let on=function Wt(r){return r.length?r[0]instanceof Map?r:r.map(d=>new Map(Object.entries(d))):[]}(t).map(wn=>new Map(wn));on=function Zt(r,d,t){if(t.size&&d.length){let o=d[0],l=[];if(t.forEach((C,$)=>{o.has($)||l.push($),o.set($,C)}),l.length)for(let C=1;C<d.length;C++){let $=d[C];l.forEach(me=>$.set(me,mn(r,me)))}}return d}(d,on,at);const vn=function Pr(r,d){let t=null,o=null;return Array.isArray(d)&&d.length?(t=Br(d[0]),d.length>1&&(o=Br(d[d.length-1]))):d instanceof Map&&(t=Br(d)),t||o?new sr(r,t,o):null}(d,on);return new ao(d,on,He,vn)}}const zs="@.disabled";class yr{constructor(d,t,o,l){this.namespaceId=d,this.delegate=t,this.engine=o,this._onDestroy=l,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(d){this.delegate.destroyNode?.(d)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(d,t){return this.delegate.createElement(d,t)}createComment(d){return this.delegate.createComment(d)}createText(d){return this.delegate.createText(d)}appendChild(d,t){this.delegate.appendChild(d,t),this.engine.onInsert(this.namespaceId,t,d,!1)}insertBefore(d,t,o,l=!0){this.delegate.insertBefore(d,t,o),this.engine.onInsert(this.namespaceId,t,d,l)}removeChild(d,t,o){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(d,t){return this.delegate.selectRootElement(d,t)}parentNode(d){return this.delegate.parentNode(d)}nextSibling(d){return this.delegate.nextSibling(d)}setAttribute(d,t,o,l){this.delegate.setAttribute(d,t,o,l)}removeAttribute(d,t,o){this.delegate.removeAttribute(d,t,o)}addClass(d,t){this.delegate.addClass(d,t)}removeClass(d,t){this.delegate.removeClass(d,t)}setStyle(d,t,o,l){this.delegate.setStyle(d,t,o,l)}removeStyle(d,t,o){this.delegate.removeStyle(d,t,o)}setProperty(d,t,o){"@"==t.charAt(0)&&t==zs?this.disableAnimations(d,!!o):this.delegate.setProperty(d,t,o)}setValue(d,t){this.delegate.setValue(d,t)}listen(d,t,o){return this.delegate.listen(d,t,o)}disableAnimations(d,t){this.engine.disableAnimations(d,t)}}class Ks extends yr{constructor(d,t,o,l,C){super(t,o,l,C),this.factory=d,this.namespaceId=t}setProperty(d,t,o){"@"==t.charAt(0)?"."==t.charAt(1)&&t==zs?this.disableAnimations(d,o=void 0===o||!!o):this.engine.process(this.namespaceId,d,t.slice(1),o):this.delegate.setProperty(d,t,o)}listen(d,t,o){if("@"==t.charAt(0)){const l=function jr(r){switch(r){case"body":return document.body;case"document":return document;case"window":return window;default:return r}}(d);let C=t.slice(1),$="";return"@"!=C.charAt(0)&&([C,$]=function Wr(r){const d=r.indexOf(".");return[r.substring(0,d),r.slice(d+1)]}(C)),this.engine.listen(this.namespaceId,l,C,$,me=>{this.factory.scheduleListenerCallback(me._data||-1,o,me)})}return this.delegate.listen(d,t,o)}}class Zr{constructor(d,t,o){this.delegate=d,this.engine=t,this._zone=o,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(l,C)=>{const $=C?.parentNode(l);$&&C.removeChild($,l)}}createRenderer(d,t){const l=this.delegate.createRenderer(d,t);if(!d||!t?.data?.animation){const at=this._rendererCache;let Ut=at.get(l);return Ut||(Ut=new yr("",l,this.engine,()=>at.delete(l)),at.set(l,Ut)),Ut}const C=t.id,$=t.id+"-"+this._currentId;this._currentId++,this.engine.register($,d);const me=at=>{Array.isArray(at)?at.forEach(me):this.engine.registerTrigger(C,$,d,at.name,at)};return t.data.animation.forEach(me),new Ks(this,$,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(d,t,o){if(d>=0&&d<this._microtaskId)return void this._zone.run(()=>t(o));const l=this._animationCallbacksBuffer;0==l.length&&queueMicrotask(()=>{this._zone.run(()=>{l.forEach(C=>{const[$,me]=C;$(me)}),this._animationCallbacksBuffer=[]})}),l.push([t,o])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}var fn=p(177);let Cs=(()=>{class r extends xs{constructor(t,o,l){super(t,o,l,(0,e.WQX)(e.An2,{optional:!0}))}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(o){return new(o||r)(e.KVO(fn.qQ),e.KVO(oe),e.KVO(H))}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac})}}return r})();const de=[{provide:H,useFactory:function Re(){return new Tn}},{provide:xs,useClass:Cs},{provide:e._9s,useFactory:function Be(r,d,t){return new Zr(r,d,t)},deps:[i.B7,xs,e.SKi]}],Ze=[{provide:oe,useFactory:()=>new xa},{provide:e.bc$,useValue:"BrowserAnimations"},...de],Pt=[{provide:oe,useClass:je},{provide:e.bc$,useValue:"NoopAnimations"},...de];let Hn=(()=>{class r{static withConfig(t){return{ngModule:r,providers:t.disableAnimations?Pt:Ze}}static{this.\u0275fac=function(o){return new(o||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({providers:Ze,imports:[i.Bb]})}}return r})();var Zn=p(5794),De=p(534),Xe=p(4304),bt=p(3816),Tt=p(779),Bt=p(9838),Ct=p(1583),Jt=p(1594);const Rn="9.0.0";var yi=p(7468),xn=p(6648);let dr=(()=>{class r{static{this.DocsLink="documentation/index.html"}static{this.EnablingDynamicAuth="documentation/DynamicAuthentication/Enabling_Dynamic_Authentication.html"}static{this.AdvOthDynamicAuth="documentation/DynamicAuthentication/Editing_a_Oidc_Dynamic_Provider.html#advanced-tab-other"}static{this.ApiDocsLink="swagger"}static{this.SupportLink="mailto:support@identityserver.com?subject=AdminUI"}}return r})();var zr=p(1339),li=p(7883),hs=p(6801),$i=p(7005),Xa=p(6888);class Oo{constructor(){this.rss=new Bi,this.rss.channel=new Ki,this.rss.channel.item=new Array}}class Bi{}class Ki{}class ss{}var js=p(1108),_r=p(4549),bn=p(1780),Ri=p(7384);const Fo=(r,d)=>({"tw-bg-white":r,"tw-bg-grey-100":d});function ml(r,d){1&r&&(e.j41(0,"div",6),e.nrm(1,"app-simple-loader"),e.k0s())}function gl(r,d){if(1&r&&(e.j41(0,"li",8)(1,"a",9)(2,"h3",10),e.EFF(3),e.k0s(),e.j41(4,"span",11),e.EFF(5),e.k0s(),e.j41(6,"p",12),e.EFF(7),e.k0s()()()),2&r){const t=d.$implicit,o=e.XpG(2);e.R7$(),e.Y8G("href",o.domSanitizer.bypassSecurityTrustUrl(t.link),e.B4B),e.R7$(2),e.JRh(t.title),e.R7$(2),e.JRh(t.pubDate),e.R7$(2),e.JRh(t.description)}}function Po(r,d){if(1&r&&(e.j41(0,"ul"),e.DNE(1,gl,8,4,"li",7),e.k0s()),2&r){const t=e.XpG();e.R7$(),e.Y8G("ngForOf",null==t.dto?null:t.dto.rss.channel.item)}}let Ho=(()=>{class r{constructor(t,o,l){this.http=t,this.domSanitizer=o,this.translate=l,this.rssURL="https://www.identityserver.com/rss",this.versionNumber="",this.altTheme=!1,this.errorEntry=new ss}ngOnInit(){this.isLoading=!0,this.http.get(this.rssURL,{headers:new w.Lr({Accept:"application/xml"}),responseType:"text"}).subscribe(t=>{this.dto=(new js).xml2js(t),Object.setPrototypeOf(this.dto,Oo.prototype),this.dto.rss.channel.item.forEach(o=>{o.pubDate=this.formatDate(o.pubDate)}),this.isLoading=!1},t=>{this.errorEntry.title=this.translate.instant("Errors.RssUnavailable"),this.dto=new Oo,this.dto.rss.channel.item.push(this.errorEntry),this.isLoading=!1})}formatDate(t){return t?_r.c9.fromHTTP(t).toFormat("DD"):""}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(w.Qq),e.rXU(i.up),e.rXU(bn.c$))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-rss-feed"]],inputs:{altTheme:"altTheme"},decls:9,vars:9,consts:[["id","rssFeed"],[1,"tw-flex","tw-items-center","tw-text-lg","tw-font-semibold","tw-mb-4"],["aria-hidden","true",1,"fas","fa-rss","tw-text-sm","tw-text-orange-500","tw-mr-2"],[1,"tw-border","tw-border-grey-200","tw-shadow-inner","tw-h-72","tw-p-4","tw-overflow-y-auto","tw-relative","scrollbars",3,"ngClass"],["class","tw-flex tw-items-center tw-justify-center tw-absolute tw-inset-0",4,"ngIf"],[4,"ngIf"],[1,"tw-flex","tw-items-center","tw-justify-center","tw-absolute","tw-inset-0"],["class","tw-border-b tw-border-grey-200 tw-mb-5 tw-pb-5 last:tw-mb-0 last:tw-pb-0 last:tw-border-0",4,"ngFor","ngForOf"],[1,"tw-border-b","tw-border-grey-200","tw-mb-5","tw-pb-5","last:tw-mb-0","last:tw-pb-0","last:tw-border-0"],["target","_blank",1,"tw-block",3,"href"],[1,"tw-text-base"],[1,"tw-block","tw-text-xs","tw-text-grey-600","tw-font-normal","tw-mt-1"],[1,"tw-text-sm","tw-text-grey-800","tw-font-normal","tw-mt-2"]],template:function(o,l){1&o&&(e.j41(0,"div",0)(1,"h2",1),e.nrm(2,"span",2),e.j41(3,"span"),e.EFF(4),e.nI1(5,"translate"),e.k0s()(),e.j41(6,"div",3),e.DNE(7,ml,2,0,"div",4)(8,Po,2,1,"ul",5),e.k0s()()),2&o&&(e.R7$(4),e.JRh(e.bMT(5,4,"LandingPage.LatestNews")),e.R7$(2),e.Y8G("ngClass",e.l_i(6,Fo,!l.altTheme,l.altTheme)),e.R7$(),e.Y8G("ngIf",l.isLoading),e.R7$(),e.Y8G("ngIf",!l.isLoading))},dependencies:[fn.YU,fn.Sq,fn.bT,Ri.d,bn.D9],encapsulation:2})}}return r})();function $s(r,d){1&r&&e.nrm(0,"span",27)}let pa=(()=>{class r{get LinkConstants(){return dr}constructor(t,o,l,C,$,me,He){this.authService=t,this.securityService=o,this.titleService=l,this.healthCheckService=C,this.localizeRouter=$,this.router=me,this.loginTrackingService=He,this.loginAllowed=!1,this.startLogin=!1,this.versionNumber="",this.titleService.setTitle(`${Bt.$9.SITE_TITLE}`),this.versionNumber=Rn;const at=new Date;this.appCopyright=2017!==at.getFullYear()?"2017 - "+at.getFullYear():"2017"}ngOnInit(){this.startLogin=!1;const t=this.healthCheckService.idsHealthCheckComplete.pipe((0,Jt.$)()),o=this.healthCheckService.uiHealthCheckComplete.pipe((0,Jt.$)());(0,yi.p)([t,o]).subscribe(()=>{this.healthCheckService.idsReady&&this.healthCheckService.uiReady&&(this.loginAllowed=!0)})}canLogin(){this.healthCheckService.idsReady&&this.healthCheckService.uiReady&&(this.loginAllowed=!0)}ngAfterViewInit(){document.dispatchEvent(new Event("appready"))}start(){const t=this.localizeRouter.translateRoute("/home");return this.startLogin=!0,(0,xn.H)(this.router.navigate([t]))}login(){this.loginTrackingService.startLogin(),this.authService.login()}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(zr.u),e.rXU(li.i),e.rXU(i.hE),e.rXU(hs.M),e.rXU($i.QG),e.rXU(Ct.Ix),e.rXU(Xa.W))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-landing-page"]],decls:49,vars:28,consts:[[1,"tw-fixed","tw-inset-0","tw-z-10"],[1,"tw-bg-primary-500","tw-absolute","tw-inset-0",2,"background-image","url(assets/img/pattern.png)"],[1,"tw--mt-5","tw-mx-auto","tw--mb-10","tw-relative","tw-z-20"],[1,"tw-flex","tw-items-center","tw-h-16","tw-mb-4"],["src","assets/img/logo-persimmon.png","alt","AdminUI",1,"tw-h-8"],[1,"tw-text-sm","tw-font-semibold","tw-text-white-75","tw-ml-auto"],[1,"tw-px-6"],[1,"tw-bg-white","tw-p-6","tw--mx-6","tw-shadow","tw-rounded","md:tw-mx-auto","md:tw-max-w-2xl"],[1,"tw-text-xl","tw-font-semibold","md:tw-text-2xl"],[1,"tw-font-semibold","tw-mt-3"],[1,"tw-text-sm","tw-mt-2"],["href","mailto:sales@identityserver.com?subject=AdminUI",1,"tw-text-blue-500","tw-font-semibold","hover:tw-text-body","tw-transition-all","tw-ease-in-out"],[1,"tw-mt-4"],["id","loginBtn",1,"tw-btn","tw-btn-success",3,"click","disabled"],["class","fad fa-spinner-third fa-spin tw-text-green-400 tw-text-xs tw-ml-3","aria-hidden","true",4,"ngIf"],[1,"tw-flex","tw-flex-wrap","tw-items-center","tw-border-t","tw-border-grey-200","tw-text-sm","tw--mx-6","tw--mb-2","tw-mt-6","tw-pt-4","tw-px-6"],[1,"tw-flex","tw-items-center","tw-mr-3"],["target","_blank","rel","noopener",1,"tw-inline-block","tw-text-blue-500","hover:tw-text-body","tw-transition-all","tw-ease-in-out",3,"href"],["aria-hidden","true",1,"tw-ml-3","tw-opacity-50"],[1,"tw-flex","tw-items-center"],[1,"tw-inline-block","tw-text-blue-500","hover:tw-text-body","tw-transition-all","tw-ease-in-out",3,"href"],[1,"tw-bg-white","tw-mt-6","tw-p-6","tw--mx-6","tw-shadow","tw-rounded","md:tw-mx-auto","md:tw-max-w-2xl","md:tw-mt-8","lg:tw-mt-10"],["altTheme","true"],["id","copyright",1,"tw-text-center","tw-mt-6","md:tw-mt-8","lg:tw-mt-10"],["id","RSKBackLink","href","https://www.rocksolidknowledge.com","target","_blank","rel","noopener",1,"tw-inline-block","tw-text-white-50","hover:tw-text-white"],["src","assets/img/rsk-logo.png","alt","Rock Solid Knowledge","aria-hidden","true",1,"tw-block","tw-w-40","tw-mx-auto"],[1,"tw-block","tw-text-xs","tw-mt-2"],["aria-hidden","true",1,"fad","fa-spinner-third","fa-spin","tw-text-green-400","tw-text-xs","tw-ml-3"]],template:function(o,l){1&o&&(e.j41(0,"div",0),e.nrm(1,"div",1),e.k0s(),e.j41(2,"div",2)(3,"header",3),e.nrm(4,"img",4),e.j41(5,"span",5),e.EFF(6),e.k0s()(),e.j41(7,"div",6)(8,"div",7)(9,"h2",8),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"p",9),e.EFF(13),e.nI1(14,"translate"),e.k0s(),e.j41(15,"p",10),e.EFF(16),e.nI1(17,"translate"),e.j41(18,"a",11),e.EFF(19," sales@identityserver.com "),e.k0s()(),e.j41(20,"div",12)(21,"button",13),e.bIt("click",function(){return l.login()}),e.EFF(22),e.nI1(23,"translate"),e.k0s(),e.DNE(24,$s,1,0,"span",14),e.k0s(),e.j41(25,"ul",15)(26,"li",16)(27,"a",17),e.EFF(28),e.nI1(29,"translate"),e.k0s(),e.j41(30,"span",18),e.EFF(31,"\u2022"),e.k0s()(),e.j41(32,"li",16)(33,"a",17),e.EFF(34),e.nI1(35,"translate"),e.k0s(),e.j41(36,"span",18),e.EFF(37,"\u2022"),e.k0s()(),e.j41(38,"li",19)(39,"a",20),e.EFF(40),e.nI1(41,"translate"),e.k0s()()()(),e.j41(42,"div",21),e.nrm(43,"app-rss-feed",22),e.k0s(),e.j41(44,"footer",23)(45,"a",24),e.nrm(46,"img",25),e.j41(47,"span",26),e.EFF(48),e.k0s()()()()()),2&o&&(e.R7$(6),e.SpI("v",l.versionNumber,""),e.R7$(4),e.SpI("",e.bMT(11,14,"LandingPage.Welcome")," AdminUI"),e.R7$(3),e.JRh(e.bMT(14,16,"LandingPage.IntroParagraph1")),e.R7$(3),e.SpI(" ",e.bMT(17,18,"LandingPage.IntroParagraph2")," "),e.R7$(5),e.Y8G("disabled",!l.loginAllowed||l.startLogin),e.R7$(),e.SpI(" ",e.bMT(23,20,"Nav.Login")," "),e.R7$(2),e.Y8G("ngIf",l.startLogin),e.R7$(3),e.FS9("href",l.LinkConstants.ApiDocsLink,e.B4B),e.R7$(),e.SpI(" ",e.bMT(29,22,"LandingPage.APIDocs")," "),e.R7$(5),e.FS9("href",l.LinkConstants.DocsLink,e.B4B),e.R7$(),e.SpI(" ",e.bMT(35,24,"Common.Documentation")," "),e.R7$(5),e.FS9("href",l.LinkConstants.SupportLink,e.B4B),e.R7$(),e.SpI(" ",e.bMT(41,26,"Nav.Support")," "),e.R7$(8),e.SpI("\xa9 ",l.appCopyright,""))},dependencies:[fn.bT,Ho,bn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return r})();var Ar=p(2892),Yn=p(3178),Lr=p(4446),Wo=p(8416),ms=p(2972);let Ja=(()=>{class r{constructor(t,o,l){this.authService=t,this.securityService=o,this.appComponentViewService=l}ngOnInit(){this.authService.isAuthenticatedCheck().subscribe(t=>{this.authService.user=t.username,this.authService.isAuthenticated=t.isAuthenticated,t.isAuthenticated?this.appComponentViewService.successAuth():this.appComponentViewService.failAuth(),this.securityService.onAuthorizationResultComplete(t)})}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(zr.u),e.rXU(li.i),e.rXU(ms.X))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-auth"]],decls:0,vars:0,template:function(o,l){},encapsulation:2})}}return r})(),nc=(()=>{class r{constructor(t){this.translate=t}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(bn.c$))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["ng-component"]],decls:10,vars:6,consts:[[1,"tw-p-4"],[1,"tw-container","tw-mx-auto"],["role","alert",1,"tw-alert-danger"],[1,"tw-text-sm","tw-font-semibold"]],template:function(o,l){1&o&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1",3),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"p"),e.EFF(8),e.nI1(9,"translate"),e.k0s()()()()()),2&o&&(e.R7$(5),e.JRh(e.bMT(6,2,"Errors.ForbiddenTitle")),e.R7$(3),e.JRh(e.bMT(9,4,"Errors.ForbiddenDescription")))},dependencies:[bn.D9],encapsulation:2})}}return r})(),zo=(()=>{class r{constructor(t){this.translate=t}ngAfterViewInit(){document.dispatchEvent(new Event("appready"))}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(bn.c$))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["ng-component"]],decls:10,vars:6,consts:[[1,"tw-p-4"],[1,"tw-container","tw-mx-auto"],["role","alert",1,"tw-alert-danger"],[1,"tw-text-sm","tw-font-semibold"]],template:function(o,l){1&o&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1",3),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"p"),e.EFF(8),e.nI1(9,"translate"),e.k0s()()()()()),2&o&&(e.R7$(5),e.JRh(e.bMT(6,2,"Errors.NotFoundTitle")),e.R7$(3),e.JRh(e.bMT(9,4,"Errors.NotFoundDescription")))},dependencies:[bn.D9],encapsulation:2})}}return r})();var Bo=p(8284);let Qa=(()=>{class r{constructor(t,o){this.route=t,this.translate=o}ngOnInit(){const t=this.route.snapshot.paramMap.get("resource");this.resourceTypeString=t in Bo.v?t:"Resource"}ngAfterViewInit(){document.dispatchEvent(new Event("appready"))}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(Ct.nX),e.rXU(bn.c$))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["ng-component"]],decls:10,vars:6,consts:[[1,"tw-p-4"],[1,"tw-container","tw-mx-auto"],["role","alert",1,"tw-alert-danger"],[1,"tw-text-sm","tw-font-semibold"]],template:function(o,l){1&o&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1",3),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"p"),e.EFF(8),e.nI1(9,"translate"),e.k0s()()()()()),2&o&&(e.R7$(5),e.JRh(e.bMT(6,2,"Errors.ResourceNotFoundDescription")),e.R7$(3),e.JRh(e.bMT(9,4,"Errors.ResourceNotFoundDescription")))},dependencies:[bn.D9],encapsulation:2})}}return r})();function ka(r,d){1&r&&(e.j41(0,"p",6),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.JRh(e.bMT(2,1,"Errors.UnableToCompilePolicy")))}function Za(r,d){1&r&&(e.j41(0,"p",7),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.JRh(e.bMT(2,1,"Errors.UnauthenticatedDescription")))}let qa=(()=>{class r{constructor(t){this.isEnforcerCompilationError=!1,this.getNavigationState(t)}getNavigationState(t){const o=t.getCurrentNavigation();if(null!=o&&null!=o.extras.state){const l=o.extras.state;l.enforcer&&(this.isEnforcerCompilationError=l.enforcer)}}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(Ct.Ix))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["ng-component"]],decls:10,vars:5,consts:[["normalError",""],[1,"tw-p-4"],[1,"tw-container","tw-mx-auto"],["role","alert",1,"tw-alert-danger"],[1,"tw-text-sm","tw-font-semibold"],["id","ContactAdmin",4,"ngIf","ngIfElse"],["id","ContactAdmin"],["id","UnauthDescription"]],template:function(o,l){if(1&o&&(e.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"div")(4,"h1",4),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.DNE(7,ka,3,3,"p",5)(8,Za,3,3,"ng-template",null,0,e.C5r),e.k0s()()()()),2&o){const C=e.sdS(9);e.R7$(5),e.JRh(e.bMT(6,3,"Errors.UnauthenticatedTitle")),e.R7$(2),e.Y8G("ngIf",l.isEnforcerCompilationError)("ngIfElse",C)}},dependencies:[fn.bT,bn.D9],encapsulation:2})}}return r})();var Ss=p(4589);const Rr=(r,d)=>({title:r,link:d,icon:"fad fa-file fa-swap-opacity"}),vo=(r,d)=>({title:r,link:d,icon:"fad fa-file-code fa-swap-opacity"}),Ns=(r,d)=>({title:r,link:d,icon:"fad fa-envelope fa-swap-opacity"}),eo=(r,d)=>({"tw-pill":r,"tw-pill-info":d});function Ko(r,d){if(1&r&&(e.j41(0,"li",16)(1,"span",17),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"span",19),e.EFF(5),e.k0s()()),2&r){const t=e.XpG(2);e.R7$(2),e.JRh(e.bMT(3,2,"Index.LicensedTo")),e.R7$(3),e.SpI(" ",t.securityService.organisation," ")}}function So(r,d){if(1&r&&(e.j41(0,"div",10)(1,"div",11)(2,"div",12)(3,"div",13)(4,"ul",14),e.DNE(5,Ko,6,4,"li",15),e.j41(6,"li",16)(7,"span",17),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"span",18),e.EFF(11),e.k0s()()()()()()()),2&r){const t=e.XpG();e.R7$(5),e.Y8G("ngIf",t.securityService.organisation),e.R7$(3),e.JRh(e.bMT(9,4,"Index.LicenseType")),e.R7$(2),e.Y8G("ngClass",e.l_i(6,eo,t.isNonProd(),!t.isNonProd())),e.R7$(),e.SpI(" ",t.securityService.licenseType," ")}}function qr(r,d){1&r&&e.eu8(0)}function gs(r,d){1&r&&e.eu8(0)}function el(r,d){1&r&&e.eu8(0)}function ma(r,d){if(1&r&&(e.j41(0,"li",20)(1,"a",21),e.nrm(2,"span",22),e.j41(3,"span",23),e.EFF(4),e.k0s()()()),2&r){const t=d.title,o=d.link,l=d.icon;e.R7$(),e.Y8G("href",o,e.B4B),e.R7$(),e.ZvI("",l," fa-fw tw-shrink-0 tw-opacity-75 tw-mr-3 sm:tw-block sm:tw-mr-0 sm:tw-text-2xl md:tw-text-3xl"),e.R7$(2),e.JRh(t)}}let lo=(()=>{class r{get LinkConstants(){return dr}constructor(t,o){this.titleService=t,this.securityService=o,this.titleService.setTitle(`Home - ${Bt.$9.SITE_TITLE}`)}ngOnInit(){}ngAfterViewInit(){document.dispatchEvent(new Event("appready"))}isDemo(){return this.securityService.licenseType===Ss.G.Demo}isNonProd(){return this.securityService.licenseType!==Ss.G.Production}isLegacy(){return"Legacy"===this.securityService.organisation}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(i.hE),e.rXU(li.i))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-index"]],decls:18,vars:25,consts:[["commonDocsButton",""],[1,"sr-only"],["class","tw-bg-grey-200 tw-border-b tw-border-grey-300 tw--mt-5 tw--mx-4 tw-mb-6 tw-px-4",4,"ngIf"],[1,"tw-container","tw-text-left","tw-mx-auto","tw-mb-4"],[1,"tw-max-w-2xl","tw-mx-auto"],[1,"tw--ml-2","tw--mt-2","md:tw--ml-4","md:tw--mt-4"],[1,"tw-flex","tw-flex-wrap"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"tw-bg-white","tw-mt-6","tw-p-6","tw-max-w-2xl","tw-mx-auto","tw-shadow","tw-rounded"],["altTheme","true"],[1,"tw-bg-grey-200","tw-border-b","tw-border-grey-300","tw--mt-5","tw--mx-4","tw-mb-6","tw-px-4"],[1,"tw-py-4"],[1,"tw-container","tw-text-left","tw-mx-auto"],[1,"tw--mt-4","tw--ml-4"],[1,"tw-flex","tw-flex-wrap","tw-items-center","tw-justify-between","tw-text-xs","tw-text-grey-700","lg:tw-justify-end"],["class","tw-pt-4 tw-pl-4",4,"ngIf"],[1,"tw-pt-4","tw-pl-4"],[1,"tw-mr-2"],[3,"ngClass"],[1,"tw-pill"],[1,"tw-w-full","tw-pt-2","tw-pl-2","sm:tw-w-1/3","md:tw-pt-4","md:tw-pl-4"],["target","_blank",1,"tw-btn","tw-justify-start","tw-py-4","tw-w-full","sm:tw-flex-col",3,"href"],["aria-hidden","true"],[1,"tw-truncate","sm:tw-block","sm:tw-mt-3","sm:tw-text-sm","md:tw-text-base"]],template:function(o,l){if(1&o&&(e.j41(0,"h1",1),e.EFF(1),e.nI1(2,"translate"),e.k0s(),e.DNE(3,So,12,9,"div",2),e.j41(4,"div",3)(5,"div",4)(6,"div",5)(7,"ul",6),e.DNE(8,qr,1,0,"ng-container",7),e.nI1(9,"translate"),e.DNE(10,gs,1,0,"ng-container",7),e.nI1(11,"translate"),e.DNE(12,el,1,0,"ng-container",7),e.nI1(13,"translate"),e.k0s()()(),e.j41(14,"div",8),e.nrm(15,"app-rss-feed",9),e.k0s()(),e.DNE(16,ma,5,5,"ng-template",null,0,e.C5r)),2&o){const C=e.sdS(17);e.R7$(),e.JRh(e.bMT(2,8,"Common.AppName")),e.R7$(2),e.Y8G("ngIf",!l.isLegacy()),e.R7$(5),e.Y8G("ngTemplateOutlet",C)("ngTemplateOutletContext",e.l_i(16,Rr,e.bMT(9,10,"Common.Documentation"),l.LinkConstants.DocsLink)),e.R7$(2),e.Y8G("ngTemplateOutlet",C)("ngTemplateOutletContext",e.l_i(19,vo,e.bMT(11,12,"LandingPage.APIDocs"),l.LinkConstants.ApiDocsLink)),e.R7$(2),e.Y8G("ngTemplateOutlet",C)("ngTemplateOutletContext",e.l_i(22,Ns,e.bMT(13,14,"Nav.Support"),l.LinkConstants.SupportLink))}},dependencies:[fn.YU,fn.bT,fn.T3,Ho,bn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return r})();var Os=p(316),Mi=p(7263),Es=p(5602),Z=p(5424),ze=p(526),ce=p(8698),ke=p(6536);const Et=["requiredClaimsForm"];function dn(r,d){if(1&r){const t=e.RV6();e.j41(0,"div",7)(1,"div",10)(2,"h2",11),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"p",12),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"p",13),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"div",14)(12,"span",15)(13,"button",16),e.bIt("click",function(){e.eBV(t);const l=e.XpG();return e.Njj(l.signOutAndRedirectToLogin())}),e.EFF(14),e.nI1(15,"translate"),e.k0s()()()()()}2&r&&(e.R7$(3),e.JRh(e.bMT(4,4,"Notifications.Success")),e.R7$(3),e.SpI(" ",e.bMT(7,6,"InitialAdminCreation.SuccessMessage")," "),e.R7$(3),e.SpI(" ",e.bMT(10,8,"InitialAdminCreation.LoginMessage")," "),e.R7$(5),e.SpI(" ",e.bMT(15,10,"Nav.Login")," "))}function Cn(r,d){1&r&&(e.j41(0,"span",40),e.EFF(1,"Passwords must match"),e.k0s())}function Xn(r,d){1&r&&(e.j41(0,"ul",41)(1,"li"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"li"),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"li"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"li"),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"li"),e.EFF(14),e.nI1(15,"translate"),e.k0s()()),2&r&&(e.R7$(2),e.JRh(e.bMT(3,5,"Users.Password.Requirements.1")),e.R7$(3),e.JRh(e.bMT(6,7,"Users.Password.Requirements.2")),e.R7$(3),e.JRh(e.bMT(9,9,"Users.Password.Requirements.3")),e.R7$(3),e.JRh(e.bMT(12,11,"Users.Password.Requirements.4")),e.R7$(3),e.JRh(e.bMT(15,13,"Users.Password.Requirements.5")))}function mr(r,d){if(1&r){const t=e.RV6();e.j41(0,"input",50),e.mxI("ngModelChange",function(l){e.eBV(t);const C=e.XpG().$implicit;return e.DH7(C.value,l)||(C.value=l),e.Njj(l)}),e.k0s()}if(2&r){const t=e.XpG(),o=t.$implicit;e.Mz_("id","claim-",t.index,""),e.R50("ngModel",o.value)}}function or(r,d){if(1&r){const t=e.RV6();e.j41(0,"input",51),e.mxI("ngModelChange",function(l){e.eBV(t);const C=e.XpG().$implicit;return e.DH7(C.value,l)||(C.value=l),e.Njj(l)}),e.k0s()}if(2&r){const t=e.XpG(),o=t.$implicit;e.Mz_("id","claim-",t.index,""),e.R50("ngModel",o.value)}}function Xi(r,d){if(1&r){const t=e.RV6();e.j41(0,"div",52)(1,"select",53),e.mxI("ngModelChange",function(l){e.eBV(t);const C=e.XpG().$implicit;return e.DH7(C.value,l)||(C.value=l),e.Njj(l)}),e.j41(2,"option",54),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"option",55),e.EFF(6),e.nI1(7,"translate"),e.k0s()()()}if(2&r){const t=e.XpG(),o=t.$implicit,l=t.index;e.R7$(),e.Mz_("id","claim-",l,""),e.R50("ngModel",o.value),e.R7$(2),e.JRh(e.bMT(4,5,"Common.True")),e.R7$(3),e.JRh(e.bMT(7,7,"Common.False"))}}function Gi(r,d){if(1&r){const t=e.RV6();e.qex(0),e.j41(1,"app-date-time",58),e.mxI("ngModelChange",function(l){e.eBV(t);const C=e.XpG(2).$implicit;return e.DH7(C.value,l)||(C.value=l),e.Njj(l)}),e.k0s(),e.bVm()}if(2&r){const t=e.XpG(2),o=t.$implicit,l=t.index;e.R7$(),e.Mz_("id","claim-",l,""),e.R50("ngModel",o.value)}}function ti(r,d){if(1&r){const t=e.RV6();e.qex(0),e.j41(1,"app-date-time",59),e.mxI("ngModelChange",function(l){e.eBV(t);const C=e.XpG(2).$implicit;return e.DH7(C.value,l)||(C.value=l),e.Njj(l)}),e.k0s(),e.bVm()}if(2&r){const t=e.XpG(2),o=t.$implicit,l=t.index;e.R7$(),e.Mz_("id","claim-",l,""),e.R50("ngModel",o.value),e.Y8G("displayType","date")}}function Ji(r,d){if(1&r&&(e.j41(0,"div",56),e.DNE(1,Gi,2,3,"ng-container",57)(2,ti,2,4,"ng-container",57),e.k0s()),2&r){const t=e.XpG().$implicit;e.R7$(),e.Y8G("ngIf","birthdate"!=t.name),e.R7$(),e.Y8G("ngIf","birthdate"==t.name)}}function hr(r,d){if(1&r&&(e.j41(0,"option",62),e.EFF(1),e.k0s()),2&r){const t=d.$implicit;e.Y8G("value",t),e.R7$(),e.JRh(t)}}function he(r,d){if(1&r){const t=e.RV6();e.j41(0,"div",52)(1,"select",60),e.mxI("ngModelChange",function(l){e.eBV(t);const C=e.XpG().$implicit;return e.DH7(C.value,l)||(C.value=l),e.Njj(l)}),e.DNE(2,hr,2,2,"option",61),e.k0s()()}if(2&r){const t=e.XpG(),o=t.$implicit,l=t.index;e.R7$(),e.Mz_("id","claim-",l,""),e.R50("ngModel",o.value),e.R7$(),e.Y8G("ngForOf",o.allowedValues)}}function k(r,d){if(1&r&&(e.j41(0,"span",63),e.EFF(1),e.k0s()),2&r){const t=e.XpG().$implicit;e.R7$(),e.SpI(" ",t.failureMessage," ")}}function ue(r,d){if(1&r&&(e.j41(0,"app-form-row",44),e.DNE(1,mr,1,3,"input",45)(2,or,1,3,"input",46)(3,Xi,8,9,"div",47)(4,Ji,3,2,"div",48)(5,he,3,4,"div",47)(6,k,2,1,"span",49),e.k0s()),2&r){const t=d.$implicit,o=d.index,l=e.XpG(3);e.Y8G("id","claim-"+o)("label",t.name)("help","DateTime"==t.format?"Common.Dates.UTCWarning":"")("isLast",o===l.displayClaims.length-1),e.R7$(),e.Y8G("ngIf","String"==t.format),e.R7$(),e.Y8G("ngIf","Int"==t.format),e.R7$(),e.Y8G("ngIf","Boolean"==t.format),e.R7$(),e.Y8G("ngIf","DateTime"==t.format),e.R7$(),e.Y8G("ngIf","Enum"==t.format),e.R7$(),e.Y8G("ngIf",null!=t.failureMessage)}}function Ae(r,d){if(1&r&&(e.j41(0,"div",42),e.DNE(1,ue,7,10,"app-form-row",43),e.k0s()),2&r){const t=e.XpG(2);e.R7$(),e.Y8G("ngForOf",t.displayClaims)}}function nt(r,d){1&r&&e.nrm(0,"span",64)}function At(r,d){if(1&r){const t=e.RV6();e.j41(0,"div",10)(1,"h2",11),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"div"),e.nrm(5,"hr",17)(6,"p",18)(7,"p",19),e.nI1(8,"translate"),e.j41(9,"p",18),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.nrm(12,"hr",17),e.j41(13,"form",20)(14,"app-form-row",21),e.nrm(15,"input",22),e.k0s(),e.j41(16,"app-form-row",21),e.nrm(17,"input",23),e.k0s(),e.j41(18,"app-form-row",21),e.nrm(19,"input",24),e.k0s(),e.j41(20,"app-form-row",21),e.nrm(21,"input",25),e.k0s(),e.j41(22,"app-form-row",21),e.nrm(23,"input",26),e.k0s(),e.j41(24,"app-form-row",21),e.nrm(25,"input",27),e.DNE(26,Cn,2,0,"span",28)(27,Xn,16,15,"ul",29),e.k0s()(),e.j41(28,"form",null,0),e.DNE(30,Ae,2,1,"div",30),e.k0s(),e.j41(31,"div",14)(32,"span",15)(33,"button",31),e.bIt("click",function(){e.eBV(t);const l=e.XpG();return e.Njj(l.addUser())}),e.EFF(34),e.nI1(35,"translate"),e.DNE(36,nt,1,0,"span",32),e.k0s()()()(),e.j41(37,"ul",33)(38,"li",34)(39,"a",35),e.EFF(40),e.nI1(41,"translate"),e.k0s(),e.j41(42,"span",36),e.EFF(43,"\u2022"),e.k0s()(),e.j41(44,"li",34)(45,"a",37),e.EFF(46),e.nI1(47,"translate"),e.k0s(),e.j41(48,"span",36),e.EFF(49,"\u2022"),e.k0s()(),e.j41(50,"li",38)(51,"a",39),e.EFF(52),e.nI1(53,"translate"),e.k0s()()()()}if(2&r){const t=e.sdS(29),o=e.XpG();e.R7$(2),e.JRh(e.bMT(3,26,"LandingPage.AdminCreation")),e.R7$(5),e.Y8G("innerHTML",e.bMT(8,28,"InitialAdminCreation.PermissionsInfoMessage"),e.npT),e.R7$(3),e.SpI(" ",e.bMT(11,30,"InitialAdminCreation.PasswordHashMessage")," "),e.R7$(3),e.Y8G("formGroup",o.addUserForm),e.R7$(),e.Y8G("id","FirstName")("label","Users.FirstName"),e.R7$(2),e.Y8G("id","LastName")("label","Users.LastName"),e.R7$(2),e.Y8G("id","Username")("label","Users.Username"),e.R7$(2),e.Y8G("id","Email")("label","Users.Email"),e.R7$(2),e.Y8G("id","Password")("label","Users.Password.Title"),e.R7$(2),e.Y8G("id","Password")("label","UserDetails.Confirm Password"),e.R7$(2),e.Y8G("ngIf",o.addUserForm.hasError("notSame")),e.R7$(),e.Y8G("ngIf",o.addUserForm.get("password").hasError("pattern")),e.R7$(3),e.Y8G("ngIf",o.displayClaims.length>0),e.R7$(3),e.Y8G("disabled",!o.addUserForm.valid||!t.form.valid||o.inFlight),e.R7$(),e.SpI(" ",e.bMT(35,32,"Common.Save")," "),e.R7$(2),e.Y8G("ngIf",o.inFlight),e.R7$(3),e.FS9("href",o.apiDocsLink,e.B4B),e.R7$(),e.SpI(" ",e.bMT(41,34,"LandingPage.APIDocs")," "),e.R7$(6),e.SpI(" ",e.bMT(47,36,"Common.Documentation")," "),e.R7$(6),e.SpI(" ",e.bMT(53,38,"Nav.Support")," ")}}let Lt=(()=>{class r{constructor(t,o,l,C,$,me,He,at){this.authService=t,this.titleService=o,this.toastr=l,this.fb=C,this.userService=$,this.errorService=me,this.claimTypesService=He,this.appComponentViewService=at,this.versionNumber="",this.createdAdmin=!1,this.displayClaims=[],this.checkPasswords=on=>on.get("password").value===on.get("confirmPassword").value?null:{notSame:!0},this.titleService.setTitle(`${Bt.$9.SITE_TITLE}`),this.versionNumber=Rn;const Ut=new Date;this.appCopyright=2017!==Ut.getFullYear()?"2017 - "+Ut.getFullYear():"2017"}ngOnInit(){this.appComponentViewService.startInitialAdminCreation(),this.createForms(),this.claimTypesService.getClaimTypes(null,null).subscribe(t=>{this.claimTypes=t;for(const l of this.claimTypes)l.required&&this.displayClaims.push({claimTypeId:l.id,format:l.valueType,name:l.name,value:null,failureMessage:l.ruleValidationFailureDescription,allowedValues:l.allowedValues})},t=>{this.errorService.handleError(t)})}addUser(){let t;t=JSON.parse(JSON.stringify(this.addUserForm.value)),Object.assign(t,{claims:[]});for(const o of this.displayClaims){if(null===o.value)continue;let l=o.value;"DateTime"===o.format&&(l=o.value),"Int"===o.format&&(l=l.toString()),t.claims.push({claimTypeId:o.claimTypeId,value:l,type:o.name})}this.inFlight=!0,this.userService.addInitialAdministrator(t).subscribe(()=>{this.inFlight=!1,this.createdAdmin=!0},o=>{this.inFlight=!1,this.errorService.handleError(o)})}signOutAndRedirectToLogin(){this.authService.logoff()}createForms(){this.addUserForm=this.fb.group({username:["",[y.k0.required,(0,Mi.Zt)()]],email:["",Os.D],firstName:["",y.k0.required],lastName:["",y.k0.required],password:["",y.k0.pattern("^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$")],confirmPassword:[""]},{validators:this.checkPasswords})}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(zr.u),e.rXU(i.hE),e.rXU(Zn.tw),e.rXU(y.ze),e.rXU(Es.D),e.rXU(Z.I),e.rXU(ze.X),e.rXU(ms.X))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-initial-admin-creation"]],viewQuery:function(o,l){if(1&o&&e.GBs(Et,5),2&o){let C;e.mGM(C=e.lsd())&&(l.requiredClaimsForm=C.first)}},decls:10,vars:3,consts:[["requiredClaimsForm","ngForm"],[1,"tw-fixed","tw-inset-0","tw-z-10"],[1,"tw-bg-primary-500","tw-absolute","tw-inset-0",2,"background-image","url(assets/img/pattern.png)"],[1,"tw--mt-5","tw-mx-auto","tw--mb-10","tw-relative","tw-z-20"],[1,"tw-flex","tw-items-center","tw-h-16","tw-mb-4"],["src","assets/img/logo-persimmon.png","alt","AdminUI",1,"tw-h-8"],[1,"tw-text-sm","tw-font-semibold","tw-text-white-75","tw-ml-auto"],[1,"tw-px-6"],["class","tw-px-6",4,"ngIf"],["class","tw-bg-white tw-p-6 tw--mx-6 tw-shadow tw-rounded md:tw-mx-auto md:tw-max-w-2xl",4,"ngIf"],[1,"tw-bg-white","tw-p-6","tw--mx-6","tw-shadow","tw-rounded","md:tw-mx-auto","md:tw-max-w-2xl"],[1,"tw-text-xl","tw-font-semibold","md:tw-text-2xl"],["role","alert",1,"tw-alert-success","tw-mb-4","tw-mt-4"],[1,"tw-text-sm","tw-mt-2"],[1,"tw-mt-4"],[1,"xs:tw-mr-3"],["id","loginBtn",1,"tw-btn","tw-btn-success",3,"click"],[1,"tw-mt-5","tw-mt-5"],[1,"tw-font-semibold","tw-mt-5"],[1,"tw-mt-5",3,"innerHTML"],["autocomplete","off",1,"form","tw-mt-5",3,"formGroup"],[3,"id","label"],["id","FirstName","type","text","name","FirstName","formControlName","firstName","required","",1,"tw-form-control"],["id","LastName","type","text","name","LastName","formControlName","lastName","required","",1,"tw-form-control"],["id","Username","type","text","name","username","formControlName","username","required","",1,"tw-form-control"],["id","Email","type","email","name","email","formControlName","email","required","",1,"tw-form-control"],["id","Password","type","password","name","Password","formControlName","password","aria-labelledby","PasswordHelp","required","",1,"tw-form-control"],["id","ConfirmPassword","type","password","name","ConfirmPassword","formControlName","confirmPassword","required","",1,"tw-form-control"],["class","tw-form-text-danger",4,"ngIf"],["id","PasswordHelp","class","tw-form-text-danger",4,"ngIf"],["id","claimsForm",4,"ngIf"],["type","submit","id","addUserSubmit",1,"tw-btn-success",3,"click","disabled"],["class","fad fa-spinner-third fa-spin tw-text-secondary-500 tw-mr-2 tw-ml-2",4,"ngIf"],[1,"tw-flex","tw-flex-wrap","tw-items-center","tw-border-t","tw-border-grey-200","tw-text-sm","tw--mx-6","tw--mb-2","tw-mt-6","tw-pt-4","tw-px-6"],[1,"tw-flex","tw-items-center","tw-mr-3"],["target","_blank",1,"tw-inline-block","tw-text-blue-500","hover:tw-text-body","tw-transition-all","tw-ease-in-out",3,"href"],["aria-hidden","true",1,"tw-ml-3","tw-opacity-50"],["href","documentation/index.html","target","_blank",1,"tw-inline-block","tw-text-blue-500","hover:tw-text-body","tw-transition-all","tw-ease-in-out"],[1,"tw-flex","tw-items-center"],["href","mailto:support@identityserver.com?subject=AdminUI",1,"tw-inline-block","tw-text-blue-500","hover:tw-text-body","tw-transition-all","tw-ease-in-out"],[1,"tw-form-text-danger"],["id","PasswordHelp",1,"tw-form-text-danger"],["id","claimsForm"],[3,"id","label","help","isLast",4,"ngFor","ngForOf"],[3,"id","label","help","isLast"],["class","tw-form-control","type","text","name","string","required","",3,"id","ngModel","ngModelChange",4,"ngIf"],["class","tw-form-control","type","number","name","number","required","",3,"id","ngModel","ngModelChange",4,"ngIf"],["class","tw-form-select",4,"ngIf"],["class","tw-w-full sm:tw-max-w-2xl",4,"ngIf"],["class","tw-form-text",4,"ngIf"],["type","text","name","string","required","",1,"tw-form-control",3,"ngModelChange","id","ngModel"],["type","number","name","number","required","",1,"tw-form-control",3,"ngModelChange","id","ngModel"],[1,"tw-form-select"],["name","boolean","required","",1,"tw-form-control",3,"ngModelChange","id","ngModel"],["value","true"],["value","false"],[1,"tw-w-full","sm:tw-max-w-2xl"],[4,"ngIf"],["name","claimValue","required","",3,"ngModelChange","id","ngModel"],["name","claimValue","required","",3,"ngModelChange","id","ngModel","displayType"],["name","enum","required","",1,"tw-form-control",3,"ngModelChange","id","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"tw-form-text"],[1,"fad","fa-spinner-third","fa-spin","tw-text-secondary-500","tw-mr-2","tw-ml-2"]],template:function(o,l){1&o&&(e.j41(0,"div",1),e.nrm(1,"div",2),e.k0s(),e.j41(2,"div",3)(3,"header",4),e.nrm(4,"img",5),e.j41(5,"span",6),e.EFF(6),e.k0s()(),e.j41(7,"div",7),e.DNE(8,dn,16,12,"div",8)(9,At,54,40,"div",9),e.k0s()()),2&o&&(e.R7$(6),e.SpI("v",l.versionNumber,""),e.R7$(2),e.Y8G("ngIf",l.createdAdmin),e.R7$(),e.Y8G("ngIf",!l.createdAdmin))},dependencies:[fn.Sq,fn.bT,y.qT,y.xH,y.y7,y.me,y.Q0,y.wz,y.BC,y.cb,y.YS,y.vS,y.cV,y.j4,y.JD,ce.Y,ke.Z,bn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return r})();var qt=p(3680),nn=p(6719),_n=p(251);const Jn=(r,d)=>({title:r,link:d}),Un=r=>[r];function Sr(r,d){1&r&&(e.j41(0,"span",8),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Policy")," "))}function mi(r,d){1&r&&(e.j41(0,"span",9),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Reserved")," "))}function Kr(r,d){if(1&r&&(e.qex(0,5),e.DNE(1,Sr,3,3,"span",6)(2,mi,3,3,"span",7),e.bVm()),2&r){const t=e.XpG();e.R7$(),e.Y8G("ngIf",t.isPolicyRole()),e.R7$(),e.Y8G("ngIf",t.role.reserved)}}let Mr=(()=>{class r{constructor(t,o,l,C){this.activatedRoute=t,this.errorService=o,this.router=l,this.securityService=C}ngOnInit(){this.roleDataSubscription=this.activatedRoute.data.subscribe(t=>{this.role=t.role},t=>{this.errorService.handleError(t)})}ngOnDestroy(){this.roleDataSubscription.unsubscribe()}isPolicyRole(){const t=this.securityService.policyClaims;for(let o=0;o<t.length;o++)if("role"===t[o].type&&t[o].value===this.role.name)return!0;return!1}mobRoute(t){this.router.navigate([t],{relativeTo:this.activatedRoute})}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(Ct.nX),e.rXU(Z.I),e.rXU(Ct.Ix),e.rXU(li.i))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["ng-component"]],decls:10,vars:17,consts:[[3,"title","crumbs","hasTabs"],["badge","",4,"ngIf"],["tabs",""],[3,"tabTitle","tabValue"],["id","editRole"],["badge",""],["class","tw-pill-warning tw-mr-2",4,"ngIf"],["class","tw-pill tw-mr-2",4,"ngIf"],[1,"tw-pill-warning","tw-mr-2"],[1,"tw-pill","tw-mr-2"]],template:function(o,l){1&o&&(e.j41(0,"app-title-bar",0),e.nI1(1,"translate"),e.nI1(2,"localize"),e.DNE(3,Kr,3,2,"ng-container",1),e.qex(4,2),e.j41(5,"app-custom-tabs"),e.nrm(6,"app-custom-tab",3)(7,"app-custom-tab",3),e.k0s(),e.bVm(),e.k0s(),e.j41(8,"div",4),e.nrm(9,"router-outlet"),e.k0s()),2&o&&(e.Y8G("title",l.role.name)("crumbs",e.eq3(15,Un,e.l_i(12,Jn,e.bMT(1,8,"Nav.Roles"),e.bMT(2,10,"/roles"))))("hasTabs",!0),e.R7$(3),e.Y8G("ngIf",l.isPolicyRole()||l.role.reserved),e.R7$(3),e.Y8G("tabTitle","Nav.Details")("tabValue","details"),e.R7$(),e.Y8G("tabTitle","Nav.Users")("tabValue","users"))},dependencies:[fn.bT,Ct.n3,qt.z,nn.G,_n.v,bn.D9,$i.tl],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return r})();var Ts=p(9957),ar=p(6303),fs=p(3519),Yo=p(7499),Na=p(6728),Eo=p(6406),Fs=p(8762),sa=p(7778),xi=p(4692);const Oa=r=>[r];function oa(r,d){1&r&&e.nrm(0,"input",12)}function Xo(r,d){if(1&r&&(e.nrm(0,"app-readonly",13),e.nI1(1,"readOnlyValue")),2&r){const t=e.XpG();e.Y8G("fieldType",t.ReadOnlyFieldType.Single)("values",e.eq3(4,Oa,e.bMT(1,2,t.role.name)))}}function ic(r,d){1&r&&e.nrm(0,"textarea",14)}function tl(r,d){if(1&r&&(e.nrm(0,"app-readonly",13),e.nI1(1,"readOnlyValue")),2&r){const t=e.XpG();e.Y8G("fieldType",t.ReadOnlyFieldType.Single)("values",e.eq3(4,Oa,e.bMT(1,2,t.role.description)))}}let Is=(()=>{class r{get ReadOnlyFieldType(){return ar.t}constructor(t,o,l,C,$,me,He,at,Ut,on,vn){this.rolesService=t,this.route=o,this.securityService=l,this.router=C,this.fb=$,this.titleService=me,this.toastr=He,this.dialogService=at,this.translate=Ut,this.localize=on,this.errorService=vn}ngOnInit(){this.getCachedRoleSubscription=this.rolesService.getCachedRole().subscribe(t=>{this.role=t,this.buildForms(),this.initialData=JSON.stringify(t);const o=this.translate.instant("Roles.Role")+" "+this.role.name+" - "+Bt.$9.SITE_TITLE;this.titleService.setTitle(o)})}ngOnDestroy(){this.getCachedRoleSubscription.unsubscribe()}updateRole(){this.role=Object.assign({id:this.role.id},this.editRoleForm.value),this.role.name=this.role.name.trim(),this.rolesService.updateRole(this.role).subscribe(()=>{this.rolesService.setCachedRole(this.role);const t=this.translate.instant("Notifications.Saving Success Title"),o=this.translate.instant("Notifications.Saving Success Message");this.toastr.success(o,t)},t=>{if(401===t.status)this.toastr.warning(this.translate.instant("Roles.UpdateUnauthorized"),this.translate.instant("Notifications.Unauthorized"));else{const o={toastBody:this.translate.instant("Notifications.Saving Error Title"),toastTitle:this.translate.instant("Notifications.Saving Error Message")};(this.errorService.handleError(t,o)&Ts.I.Toast)!==Ts.I.Toast&&this.toastr.error(o.toastBody,o.toastTitle)}})}deleteRole(){this.rolesService.deleteRole(this.role).subscribe(t=>{const o=this.localize.translateRoute("/roles");this.router.navigate([o]),this.toastr.success(this.translate.instant("Roles.RoleRemoved"),this.translate.instant("Common.Delete.Deleted"))},t=>{if(401===t.status)this.toastr.warning(this.translate.instant("Roles.DeleteUnauthorized"),this.translate.instant("Notifications.Unauthorized"));else{const o={toastBody:this.translate.instant("Notifications.Saving Error Title"),toastTitle:this.translate.instant("Notifications.Saving Error Message")};(this.errorService.handleError(t,o)&Ts.I.Toast)!==Ts.I.Toast&&this.toastr.error(o.toastBody,o.toastTitle)}})}buildForms(){this.editRoleForm=this.fb.group({name:[{value:this.role.name,disabled:this.isControlDisabled()}],description:[{value:this.role.description,disabled:this.isControlDisabled()}]})}isControlDisabled(){return this.allowedToEditRole()||this.role.reserved}canDeactivate(){return!!this.editRoleForm.pristine||(this.dialogService.confirm(),this.dialogService.eventStream)}allowedToEditRole(){return!this.securityService.allView&&this.isPolicyRole()}isPolicyRole(){const t=this.securityService.policyClaims;for(let o=0;o<t.length;o++)if("role"===t[o].type&&t[o].value===this.role.name)return!0;return!1}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(fs.P),e.rXU(Ct.nX),e.rXU(li.i),e.rXU(Ct.Ix),e.rXU(y.ze),e.rXU(i.hE),e.rXU(Zn.tw),e.rXU(Yo.o),e.rXU(bn.c$),e.rXU($i.QG),e.rXU(Z.I))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-role-details"]],decls:19,vars:21,consts:[["deleteRoleModal",""],["id","editRoleDetails",1,"tw-container","tw-mx-auto"],[3,"formGroup"],[3,"id","label","help"],["type","text","class","tw-form-control","id","addRoleName","formControlName","name",4,"ngIf"],["class","tw-h-full",3,"fieldType","values",4,"ngIf"],[3,"id","label","isLast"],["class","tw-form-control","rows","2","id","addRoleDescription","formControlName","description",4,"ngIf"],["id","updateRoleBtn",1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"click","disabled"],["right",""],["id","showModal","data-toggle","modal","type","button",1,"tw-btn-danger","tw-mb-3",3,"click","disabled"],[3,"delete","modalId","resourceName"],["type","text","id","addRoleName","formControlName","name",1,"tw-form-control"],[1,"tw-h-full",3,"fieldType","values"],["rows","2","id","addRoleDescription","formControlName","description",1,"tw-form-control"]],template:function(o,l){if(1&o){const C=e.RV6();e.j41(0,"div",1)(1,"form",2)(2,"app-form-row",3),e.DNE(3,oa,1,0,"input",4)(4,Xo,2,6,"app-readonly",5),e.k0s(),e.j41(5,"app-form-row",6),e.DNE(6,ic,1,0,"textarea",7)(7,tl,2,6,"app-readonly",5),e.k0s()()(),e.j41(8,"app-button-bar")(9,"button",8),e.bIt("click",function(){return e.eBV(C),e.Njj(l.updateRole())}),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.qex(12,9),e.j41(13,"button",10),e.bIt("click",function(){e.eBV(C);const me=e.sdS(17);return e.Njj(me.show())}),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.bVm(),e.k0s(),e.j41(16,"app-delete-confirmation-modal",11,0),e.bIt("delete",function(){return e.eBV(C),e.Njj(l.deleteRole())}),e.k0s(),e.nrm(18,"app-can-deactivate")}2&o&&(e.R7$(),e.Y8G("formGroup",l.editRoleForm),e.R7$(),e.Y8G("id","addRoleName")("label","Common.Name")("help","Roles.TrimWhitespaceHelp"),e.R7$(),e.Y8G("ngIf",!l.isControlDisabled()),e.R7$(),e.Y8G("ngIf",l.isControlDisabled()),e.R7$(),e.Y8G("id","addRoleDescription")("label","Common.Description")("isLast",!0),e.R7$(),e.Y8G("ngIf",!l.isControlDisabled()),e.R7$(),e.Y8G("ngIf",l.isControlDisabled()),e.R7$(2),e.Y8G("disabled",!l.editRoleForm.dirty&&l.editRoleForm.valid||l.allowedToEditRole()||l.role.reserved),e.R7$(),e.SpI(" ",e.bMT(11,17,"Common.Save")," "),e.R7$(3),e.Y8G("disabled",l.isControlDisabled()),e.R7$(),e.SpI(" ",e.bMT(15,19,"Common.Delete.Title")," "),e.R7$(2),e.Y8G("modalId","deleteRoleModal")("resourceName",l.role.name))},dependencies:[fn.bT,y.qT,y.me,y.BC,y.cb,y.j4,y.JD,Na.E,Eo.z,ce.Y,Fs.O,sa.w,xi.u,bn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return r})();var xr=p(1413),Di=p(6354),os=p(1716),vl=p(9172),ga=p(1397),va=p(1986),yo=p(4313),yl=p(7156),rc=p(7294),Pe=p(8114),u=function(r){return r.Remove="Remove",r.Add="Add",r}(u||{}),g=p(1068);const A=["roleManagerUsers"],j=()=>({animated:!1,backdrop:"static"}),ne=(r,d,t,o)=>({id:"usersAddingSummary",title:r,data:d,label:t,empty:o}),ge=(r,d,t,o)=>({id:"usersRemovingSummary",title:r,data:d,label:t,empty:o});function $e(r,d){1&r&&(e.nrm(0,"app-simple-loader",19),e.nI1(1,"translate")),2&r&&e.Y8G("text",e.bMT(1,1,"Roles.SavingPleaseWait"))}function S(r,d){if(1&r){const t=e.RV6();e.j41(0,"li",38)(1,"label",39)(2,"input",40),e.bIt("change",function(){const l=e.eBV(t).$implicit,C=e.XpG(3);return e.Njj(C.toggleIfInRole(l))}),e.k0s(),e.j41(3,"div",41)(4,"span",42),e.EFF(5),e.k0s(),e.j41(6,"span",43),e.EFF(7),e.k0s()()()()}if(2&r){const t=d.$implicit,o=e.XpG(3);e.R7$(2),e.Y8G("checked",o.checkChecked(t)),e.R7$(3),e.JRh(t.userName),e.R7$(2),e.JRh(t.email)}}function B(r,d){if(1&r&&(e.j41(0,"div",35)(1,"ul",36),e.DNE(2,S,8,3,"li",37),e.k0s()()),2&r){const t=e.XpG(2);e.R7$(2),e.Y8G("ngForOf",t.users)}}function O(r,d){1&r&&(e.j41(0,"p",44),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Roles.NotSelected")," "))}function X(r,d){1&r&&(e.j41(0,"p",44),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Roles.NoResults")," "))}function pe(r,d){1&r&&e.nrm(0,"app-simple-loader")}function Ve(r,d){1&r&&e.eu8(0)}function yt(r,d){1&r&&e.eu8(0)}function rn(r,d){if(1&r){const t=e.RV6();e.j41(0,"div")(1,"div",20),e.nrm(2,"p",21),e.k0s(),e.j41(3,"div",22)(4,"h2",23),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"div",24)(8,"label",25)(9,"span",9),e.EFF(10),e.nI1(11,"translate"),e.k0s()(),e.j41(12,"input",26),e.mxI("ngModelChange",function(l){e.eBV(t);const C=e.XpG();return e.DH7(C.searchTerm,l)||(C.searchTerm=l),e.Njj(l)}),e.bIt("keyup",function(l){e.eBV(t);const C=e.XpG();return e.Njj(C.search(l))}),e.k0s()()(),e.j41(13,"div",27)(14,"div",28),e.DNE(15,B,3,1,"div",29)(16,O,3,3,"p",30)(17,X,3,3,"p",30)(18,pe,1,0,"app-simple-loader",12),e.k0s(),e.j41(19,"div",31)(20,"div",32),e.DNE(21,Ve,1,0,"ng-container",33),e.nI1(22,"translate"),e.nI1(23,"translate"),e.nI1(24,"translate"),e.k0s(),e.j41(25,"div",34),e.DNE(26,yt,1,0,"ng-container",33),e.nI1(27,"translate"),e.nI1(28,"translate"),e.nI1(29,"translate"),e.k0s()()()()}if(2&r){const t=e.XpG(),o=e.sdS(17);e.R7$(2),e.Y8G("innerHtml",t.summaryText,e.npT),e.R7$(3),e.JRh(e.bMT(6,12,"Roles.SearchAllUsers")),e.R7$(5),e.JRh(e.bMT(11,14,"Roles.SearchUsers")),e.R7$(2),e.R50("ngModel",t.searchTerm),e.R7$(3),e.Y8G("ngIf",!t.isLoading&&t.hasSearched&&t.users.length>0),e.R7$(),e.Y8G("ngIf",!t.isLoading&&!t.hasSearched&&t.users.length<1),e.R7$(),e.Y8G("ngIf",!t.isLoading&&t.hasSearched&&t.users.length<1),e.R7$(),e.Y8G("ngIf",t.isLoading),e.R7$(3),e.Y8G("ngTemplateOutlet",o)("ngTemplateOutletContext",e.ziG(28,ne,e.bMT(22,16,"Roles.Adding"),t.usersAdding,e.bMT(23,18,"Roles.CancelAdding"),e.bMT(24,20,"Roles.NoUsersAdding"))),e.R7$(5),e.Y8G("ngTemplateOutlet",o)("ngTemplateOutletContext",e.ziG(33,ge,e.bMT(27,22,"Roles.Removing"),t.usersRemoving,e.bMT(28,24,"Roles.CancelRemoving"),e.bMT(29,26,"Roles.NoUsersRemoving")))}}function Qt(r,d){if(1&r&&(e.j41(0,"p",44),e.EFF(1),e.k0s()),2&r){const t=e.XpG().empty;e.R7$(),e.JRh(t)}}function On(r,d){if(1&r){const t=e.RV6();e.j41(0,"li",52)(1,"button",53),e.bIt("click",function(){const l=e.eBV(t).$implicit,C=e.XpG(3);return e.Njj(C.toggleIfInRole(l))}),e.j41(2,"div",54),e.nrm(3,"span",55),e.j41(4,"span",56),e.EFF(5),e.k0s()()()()}if(2&r){const t=d.$implicit,o=e.XpG(2).label;e.R7$(),e.BMQ("aria-label",o+" "+t.userName),e.R7$(4),e.JRh(t.userName)}}function Oi(r,d){if(1&r&&(e.j41(0,"div",49)(1,"ul",50),e.DNE(2,On,6,2,"li",51),e.k0s()()),2&r){const t=e.XpG(),o=t.id,l=t.data;e.R7$(),e.FS9("id",o),e.R7$(),e.Y8G("ngForOf",l)}}function Fi(r,d){if(1&r&&(e.j41(0,"h2",45),e.EFF(1),e.j41(2,"span",46),e.EFF(3),e.k0s()(),e.j41(4,"div",47),e.DNE(5,Qt,2,1,"p",30)(6,Oi,3,2,"div",48),e.k0s()),2&r){const t=d.title,o=d.data;e.R7$(),e.SpI(" ",t," "),e.R7$(2),e.SpI("(",o.length,")"),e.R7$(2),e.Y8G("ngIf",o.length<1),e.R7$(),e.Y8G("ngIf",o.length>0)}}let fr=(()=>{class r extends yo.if{constructor(t,o,l,C,$){super(C,$,!1),this.userService=t,this.rolesService=o,this.translateService=l,this.onSubmitted=new e.bkB,this.isLoading=!1,this.isSaving=!1,this.hasSearched=!1,this.users=new Array,this.usersAdding=[],this.usersRemoving=[],this.usersInRole=[]}ngOnInit(){this.summaryText=this.translateService.instant("Roles.AddRemoveUsersFromRole").replace("{0}",this.role.name),this.roleManagerUsers.onShow.subscribe(()=>{this.reset()}),this.searchSource.pipe((0,os.h)(this.enterKeySource)).subscribe(()=>{this.isLoading=!0,this.userService.getLightweightUsersAndIfInRole(this.role.id,"active",this.searchTerm,1,50).subscribe($=>{this.users=$.results;const me=[...this.users.filter(He=>He.isInRole),...this.usersInRole];this.usersInRole=g.Am(me,!1,He=>He.subject),this.isLoading=!1,this.hasSearched=!0},$=>{this.isLoading=!1})})}mapSearchTerm(t){return{searchTerm:t}}reset(){this.isLoading=!1,this.isSaving=!1,this.hasSearched=!1,this.users=[],this.usersAdding=[],this.usersRemoving=[],this.searchTerm="",this.searchTermStream.next("")}hide(){this.roleManagerUsers.hide()}show(){this.roleManagerUsers.show()}toggleIfInRole(t){if(t.isInRole){const o=g.SL(this.usersRemoving,l=>l.subject===t.subject);o>-1?(this.usersRemoving.splice(o,1),this.usersInRole.push(t)):(this.usersRemoving.push(t),this.usersInRole.splice(this.usersInRole.indexOf(t),1))}else{const o=g.SL(this.usersAdding,l=>l.subject===t.subject);o>-1?(this.usersAdding.splice(o,1),this.usersInRole.splice(this.usersInRole.indexOf(t),1)):(this.usersAdding.push(t),this.usersInRole.push(t))}}checkChecked(t){let o;return t.isInRole?(o=g.I6(this.usersRemoving,l=>l.subject===t.subject),void 0===o):(o=g.I6(this.usersAdding,l=>l.subject===t.subject),void 0!==o)}addOrRemoveUsers(){const t=[];this.isSaving=!0,t.push(...this.usersAdding.map(o=>({username:o.userName,subject:o.subject,addOrRemove:u.Add}))),t.push(...this.usersRemoving.map(o=>({username:o.userName,subject:o.subject,addOrRemove:u.Remove}))),this.rolesService.addAndRemoveUsers(this.role.id,t).subscribe(()=>{this.hide(),this.onSubmitted.emit(),this.toastr.success(this.translate.instant("Roles.Success"),this.translate.instant("Notifications.Success"))},o=>{this.isSaving=!1,401===o.status?this.toastr.warning(this.translate.instant("Roles.UpdateUnauthorized"),this.translate.instant("Notifications.Unauthorized")):this.toastr.warning(this.translate.instant("Roles.UpdateBadRequest"),this.translate.instant("Notifications.Failed"))})}ngOnDestroy(){this.hide()}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(Es.D),e.rXU(fs.P),e.rXU(bn.c$),e.rXU(Zn.tw),e.rXU(bn.c$))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-role-manageusers"]],viewQuery:function(o,l){if(1&o&&e.GBs(A,7),2&o){let C;e.mGM(C=e.lsd())&&(l.roleManagerUsers=C.first)}},inputs:{role:"role"},outputs:{onSubmitted:"onSubmitted"},features:[e.Vt3],decls:28,vars:19,consts:[["roleManagerUsers","bs-modal"],["commonSummaryGroup",""],["bsModal","","id","roleManagerUsers","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click","disabled"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","scrollbars"],[3,"text",4,"ngIf"],[4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","manageUserSubmit","type","submit",1,"tw-btn-success",3,"click","disabled"],[1,"tw-btn-link","tw--mr-4",3,"click","disabled"],[3,"text"],[1,"cms"],[3,"innerHtml"],[1,"tw-mb-4","md:tw-w-1/2","tw-pr-3"],[1,"tw-text-sm","tw-font-semibold","tw-mb-3"],[1,"tw-relative"],["for","roleUserSearch",1,"far","fa-search","tw-flex","tw-items-center","tw-justify-center","tw-text-grey-700","tw-m-0","tw-text-xs","tw-absolute","tw-inset-y-0","tw-w-10"],["id","roleUserSearch","type","search","minlength","2","maxlength","25","required","","autocomplete","off",1,"tw-form-control","tw-pl-8",3,"ngModelChange","keyup","ngModel"],[1,"md:tw-flex","md:tw-min-h-64","md:tw-max-h-popups-short"],[1,"tw-mb-6","md:tw-mb-0","md:tw-pr-3","md:tw-w-1/2"],["class","tw-max-h-48 tw-overflow-x-none tw-overflow-y-auto scrollbars md:tw-max-h-full md:tw-h-full",4,"ngIf"],["class","tw-italic tw-text-xs tw-text-grey-700",4,"ngIf"],[1,"md:tw-pl-3","md:tw-w-1/2"],[1,"tw-pb-3","md:tw-flex","md:tw-flex-col","md:tw-max-h-1/2"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"tw-pt-3","md:tw-flex","md:tw-flex-col","md:tw-max-h-1/2"],[1,"tw-max-h-48","tw-overflow-x-none","tw-overflow-y-auto","scrollbars","md:tw-max-h-full","md:tw-h-full"],["id","usersInRoleTable"],["class","tw-border-t-2 tw-border-grey-100 first:tw-border-t-0",4,"ngFor","ngForOf"],[1,"tw-border-t-2","tw-border-grey-100","first:tw-border-t-0"],[1,"tw-flex","tw-items-start","tw-bg-white","tw-normal-case","tw-text-sm","tw-m-0","tw-px-4","tw-py-3","tw-cursor-pointer"],["type","checkbox",1,"tw-shrink-0","tw-block","tw-mt-1","tw-mr-2",3,"change","checked"],[1,"tw-w-full","tw-truncate"],[1,"tw-block","tw-truncate"],[1,"tw-block","tw-text-xs","tw-text-grey-600","tw-mt-1","tw-truncate"],[1,"tw-italic","tw-text-xs","tw-text-grey-700"],[1,"tw-text-sm","tw-font-semibold","tw-mb-2"],[1,"tw-text-xs","tw-text-grey-700"],[1,"tw-overflow-x-none","tw-overflow-y-auto","scrollbars"],["class","tw--mt-2 tw--ml-2",4,"ngIf"],[1,"tw--mt-2","tw--ml-2"],[1,"tw-flex","tw-flex-wrap","tw-items-center",3,"id"],["class","tw-pl-2 tw-pt-2",4,"ngFor","ngForOf"],[1,"tw-pl-2","tw-pt-2"],[1,"tw-pill","hover:tw-bg-red-500","group","hover:tw-text-white",3,"click"],[1,"tw-flex","tw-items-center","tw-text-left","tw-truncate"],["aria-hidden","true",1,"fas","fa-times","tw-text-red-500","tw-mr-2","tw-shrink-0","group-hover:tw-text-white"],["aria-hidden","true",1,"tw-block","tw-truncate"]],template:function(o,l){if(1&o){const C=e.RV6();e.j41(0,"div",2,0)(2,"div",3)(3,"div",4)(4,"div",5)(5,"h5",6),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"button",7),e.bIt("click",function(){return e.eBV(C),e.Njj(l.hide())}),e.nrm(9,"span",8),e.j41(10,"span",9),e.EFF(11),e.nI1(12,"translate"),e.k0s()()(),e.j41(13,"div",10),e.DNE(14,$e,2,3,"app-simple-loader",11)(15,rn,30,38,"div",12)(16,Fi,7,4,"ng-template",null,1,e.C5r),e.k0s(),e.nrm(18,"div",13),e.j41(19,"div",14)(20,"div",15)(21,"div",16)(22,"button",17),e.bIt("click",function(){return e.eBV(C),e.Njj(l.addOrRemoveUsers())}),e.EFF(23),e.nI1(24,"translate"),e.k0s()(),e.j41(25,"button",18),e.bIt("click",function(){return e.eBV(C),e.Njj(l.hide())}),e.EFF(26),e.nI1(27,"translate"),e.k0s()()()()()()}2&o&&(e.Y8G("config",e.lJ4(18,j)),e.R7$(6),e.JRh(e.bMT(7,10,"Roles.RoleUserManagement")),e.R7$(2),e.Y8G("disabled",l.isSaving),e.R7$(3),e.JRh(e.bMT(12,12,"Common.Close")),e.R7$(3),e.Y8G("ngIf",l.isSaving),e.R7$(),e.Y8G("ngIf",!l.isSaving),e.R7$(7),e.Y8G("disabled",l.isSaving||l.usersAdding.length<1&&l.usersRemoving.length<1),e.R7$(),e.SpI(" ",e.bMT(24,14,"Common.Save")," "),e.R7$(2),e.Y8G("disabled",l.isSaving),e.R7$(),e.JRh(e.bMT(27,16,"Common.Close")))},dependencies:[fn.Sq,fn.bT,fn.T3,y.me,y.BC,y.YS,y.xh,y.tU,y.vS,Tt.hZ,Ri.d,bn.D9],encapsulation:2})}}return r})();function Ys(r,d){if(1&r){const t=e.RV6();e.qex(0,20),e.j41(1,"div",21)(2,"label",22),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"select",23),e.mxI("ngModelChange",function(l){e.eBV(t);const C=e.XpG(2);return e.DH7(C.pageSize,l)||(C.pageSize=l),e.Njj(l)}),e.bIt("change",function(){e.eBV(t);const l=e.XpG(2);return e.Njj(l.setPageLength(+l.pageSize))}),e.j41(6,"option",24),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"option",25),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"option",26),e.EFF(13),e.nI1(14,"translate"),e.k0s()()(),e.bVm()}if(2&r){const t=e.XpG(2);e.R7$(3),e.Lme("",t.pageSize," ",e.bMT(4,6,"Nav.PerPage"),""),e.R7$(2),e.R50("ngModel",t.pageSize),e.R7$(2),e.SpI("25 ",e.bMT(8,8,"Nav.PerPage"),""),e.R7$(3),e.SpI("50 ",e.bMT(11,10,"Nav.PerPage"),""),e.R7$(3),e.SpI("100 ",e.bMT(14,12,"Nav.PerPage"),"")}}function Ps(r,d){1&r&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Roles.ManageUsers")," "))}function Fa(r,d){1&r&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Roles.AddUsers")," "))}function sc(r,d){if(1&r){const t=e.RV6();e.j41(0,"app-action-bar"),e.DNE(1,Ys,15,14,"ng-container",17),e.qex(2,18),e.j41(3,"button",19),e.bIt("click",function(){e.eBV(t),e.XpG();const l=e.sdS(11);return e.Njj(l.show())}),e.DNE(4,Ps,3,3,"span",9)(5,Fa,3,3,"span",9),e.k0s(),e.bVm(),e.k0s()}if(2&r){const t=e.XpG();e.R7$(),e.Y8G("ngIf",(null==t.pagedResult?null:t.pagedResult.results.length)>0),e.R7$(3),e.Y8G("ngIf",t.users&&t.users.length>0),e.R7$(),e.Y8G("ngIf",t.users&&t.users.length<1)}}function to(r,d){1&r&&e.nrm(0,"app-simple-loader")}function oc(r,d){1&r&&(e.j41(0,"div",27)(1,"div"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&r&&(e.R7$(2),e.JRh(e.bMT(3,1,"Users.NoUsersFound")))}function op(r,d){if(1&r){const t=e.RV6();e.j41(0,"tr")(1,"td",34),e.bIt("click",function(){const l=e.eBV(t).$implicit,C=e.XpG(2);return e.Njj(C.goToUser(l))}),e.j41(2,"b",35),e.EFF(3),e.k0s()(),e.j41(4,"td",36),e.bIt("click",function(){const l=e.eBV(t).$implicit,C=e.XpG(2);return e.Njj(C.goToUser(l))}),e.EFF(5),e.k0s(),e.j41(6,"td",36),e.bIt("click",function(){const l=e.eBV(t).$implicit,C=e.XpG(2);return e.Njj(C.goToUser(l))}),e.EFF(7),e.k0s(),e.j41(8,"td",37),e.bIt("click",function(){const l=e.eBV(t).$implicit,C=e.XpG(2);return e.Njj(C.removeUser(l))}),e.j41(9,"button",38),e.bIt("click",function(){const l=e.eBV(t).$implicit,C=e.XpG(2),$=e.sdS(17);return C.removeUser(l),e.Njj($.show())}),e.nrm(10,"span",39),e.j41(11,"span",7),e.EFF(12),e.nI1(13,"translate"),e.k0s()()()()}if(2&r){const t=d.$implicit;e.R7$(3),e.JRh(t.username),e.R7$(2),e.SpI(" ",t.firstName," "),e.R7$(2),e.SpI(" ",t.lastName," "),e.R7$(5),e.JRh(e.bMT(13,4,"Common.Remove.Title"))}}function nl(r,d){if(1&r&&(e.j41(0,"table",28)(1,"thead")(2,"tr")(3,"th",29),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"th",30),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"th",30),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"th",31)(13,"span",7),e.EFF(14),e.nI1(15,"translate"),e.k0s()()()(),e.j41(16,"tbody",32),e.DNE(17,op,14,6,"tr",33),e.k0s()()),2&r){const t=e.XpG();e.R7$(4),e.JRh(e.bMT(5,5,"Users.Username")),e.R7$(3),e.JRh(e.bMT(8,7,"Users.FirstName")),e.R7$(3),e.JRh(e.bMT(11,9,"Users.LastName")),e.R7$(4),e.JRh(e.bMT(15,11,"Common.Actions")),e.R7$(3),e.Y8G("ngForOf",t.users)}}function es(r,d){if(1&r){const t=e.RV6();e.j41(0,"app-pager",40),e.bIt("onGoToPage",function(l){e.eBV(t);const C=e.XpG();return e.Njj(C.goToPage(l))}),e.k0s()}if(2&r){const t=e.XpG();e.Y8G("totalResults",null==t.pagedResult?null:t.pagedResult.totalCount)("currentPage",t.page)("lastPage",null==t.pagedResult?null:t.pagedResult.pageCount)}}let Pa=(()=>{class r extends yo.if{constructor(t,o,l,C,$,me,He){super($,o,!0),this.rolesService=t,this.localize=l,this.router=C,this.errorService=me,this.userService=He,this.pageStream=new xr.B,this.pageSizeStream=new xr.B,this.userToRemove=null,this.removeSummaryTranslation="",this.removeSummary="",this.page=1,this.pageSize=25,this.removeSummaryTranslation=o.instant("Roles.AreYouSureRemove")}ngOnInit(){this.isLoading=!0,this.rolesService.getCachedRole().pipe((0,Jt.$)()).subscribe(t=>{this.role=t,this.removeSummaryTranslation=this.removeSummaryTranslation.replace("{1}",this.role.name);const o=this.pageStream.pipe((0,Di.T)($=>(this.page=$,{searchTerm:this.searchTerm,page:$,pageSize:this.pageSize}))),l=this.pageSizeStream.pipe((0,Di.T)($=>(this.pageSize=$,{searchTerm:this.searchTerm,page:this.page,pageSize:$})));o.pipe((0,os.h)(l),(0,os.h)(this.searchSource),(0,os.h)(this.enterKeySource),(0,vl.Z)({searchTerm:this.searchTerm,page:this.page,pageSize:this.pageSize}),(0,ga.Z)($=>(this.isLoading=!0,this.rolesService.getUsersInRole(t.id,$.page,$.pageSize,$.searchTerm).pipe((0,va.c)(200))))).subscribe($=>{this.pagedResult=$,this.users=$.results,this.isLoading=!1},$=>{this.errorService.handleError($),this.isLoading=!1})})}mapSearchTerm(t){return this.searchTerm=t,{searchTerm:this.searchTerm,page:1,pageSize:this.pageSize}}onSubmit(t){this.pageStream.next(1)}goToPage(t){this.pageStream.next(t)}setPageLength(t){this.page=1,this.pageSizeStream.next(t)}goToUser(t){const o=[this.localize.translateRoute("/users"),t.subject,"roles"];this.router.navigate(o)}removeUser(t){this.removeSummary=this.removeSummaryTranslation.replace("{0}",t.username),this.userToRemove=t}delete(){this.isLoading=!0,this.userService.deleteUserRoles(this.userToRemove.subject,[this.role.name]).subscribe(t=>{let o=this.users&&1===this.users.length&&this.page>1?this.page-1:this.page;o<1&&(o=1),this.goToPage(o),this.toastr.success(this.translate.instant("Roles.Success"),this.translate.instant("Notifications.Success")),this.userToRemove=null},t=>{this.isLoading=!1,401===t.status&&this.toastr.warning(this.translate.instant("Roles.UnassignUnauthorized"),this.translate.instant("Notifications.Unauthorized")),this.userToRemove=null})}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(fs.P),e.rXU(bn.c$),e.rXU($i.QG),e.rXU(Ct.Ix),e.rXU(Zn.tw),e.rXU(Z.I),e.rXU(Es.D))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-role-users"]],features:[e.Vt3],decls:20,vars:17,consts:[["manageUsersModal",""],["removeUserModal",""],[1,"tw-container","tw-mx-auto"],["id","searchContainer",1,"tw-mb-2"],[1,"tw-flex","tw-bg-white","tw-border","tw-border-grey-300","tw-opacity-75","tw-cursor-text","tw-rounded","focus-within:tw-opacity-100","focus-within:tw-border-blue-400","tw-transition-all","tw-ease-in-out"],["for","searchTerm",1,"tw-flex","tw-items-center","tw-text-grey-500","tw-m-0","tw-ml-3"],["aria-hidden","true",1,"far","fa-search","tw-text-sm"],[1,"sr-only"],["id","searchRole","type","search","minlength","2","maxlength","25","required","","autocomplete","off",1,"tw-bg-transparent","tw-border-0","tw-text-base","tw-leading-tight","tw-px-2","tw-py-2","tw-w-full","focus:tw-outline-none","tw-transition-all","tw-ease-in-out",3,"ngModelChange","keyup","ngModel"],[4,"ngIf"],["id","manageUsersModal",3,"onSubmitted","role"],["class","tw-alert","role","alert",4,"ngIf"],["id","roleUsersTable","class","datatable selectable hover",4,"ngIf"],[3,"totalResults","currentPage","lastPage","onGoToPage",4,"ngIf"],[3,"confirm","modalId","type","buttonType","title","okText","cancelText"],["body",""],[3,"innerHtml"],["left","",4,"ngIf"],["right",""],["id","manageUsersButton",1,"tw-btn-success",3,"click"],["left",""],[1,"tw-form-select","tw-w-auto"],["for","pageSizeToggle",1,"sr-only"],["id","pageSizeToggle",1,"tw-form-control","tw-form-control-small",3,"ngModelChange","change","ngModel"],["value","25"],["value","50"],["value","100"],["role","alert",1,"tw-alert"],["id","roleUsersTable",1,"datatable","selectable","hover"],[1,"sm:tw-w-1/3","md:tw-w-1/2"],[1,"tw-hidden","sm:tw-table-cell"],[1,"tw-w-1"],["id","usersInRoleTable"],[4,"ngFor","ngForOf"],[1,"tw-max-w-0","tw-truncate",3,"click"],[1,"tw-text-blue-500"],[1,"tw-hidden","tw-max-w-0","tw-truncate","sm:tw-table-cell",3,"click"],[3,"click"],[1,"tw-btn-link","tw-btn-small","tw-text-red-500",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[3,"onGoToPage","totalResults","currentPage","lastPage"]],template:function(o,l){if(1&o){const C=e.RV6();e.j41(0,"div",2)(1,"div",3)(2,"div",4)(3,"label",5),e.nrm(4,"span",6),e.j41(5,"span",7),e.EFF(6),e.nI1(7,"translate"),e.k0s()(),e.j41(8,"input",8),e.mxI("ngModelChange",function(me){return e.eBV(C),e.DH7(l.searchTerm,me)||(l.searchTerm=me),e.Njj(me)}),e.bIt("keyup",function(me){return e.eBV(C),e.Njj(l.search(me))}),e.k0s()()(),e.DNE(9,sc,6,3,"app-action-bar",9),e.j41(10,"app-role-manageusers",10,0),e.bIt("onSubmitted",function(me){return e.eBV(C),e.Njj(l.onSubmit(me))}),e.k0s(),e.DNE(12,to,1,0,"app-simple-loader",9)(13,oc,4,3,"div",11)(14,nl,18,13,"table",12)(15,es,1,3,"app-pager",13),e.k0s(),e.j41(16,"app-confirmation-modal",14,1),e.bIt("confirm",function(){return e.eBV(C),e.Njj(l.delete())}),e.qex(18,15),e.nrm(19,"p",16),e.bVm(),e.k0s()}2&o&&(e.R7$(6),e.JRh(e.bMT(7,15,"Common.Search")),e.R7$(2),e.R50("ngModel",l.searchTerm),e.R7$(),e.Y8G("ngIf",!l.isLoading),e.R7$(),e.Y8G("role",l.role),e.R7$(2),e.Y8G("ngIf",l.isLoading),e.R7$(),e.Y8G("ngIf",l.users&&0==l.users.length&&!l.isLoading),e.R7$(),e.Y8G("ngIf",l.users&&l.users.length>0&&!l.isLoading),e.R7$(),e.Y8G("ngIf",(null==l.pagedResult?null:l.pagedResult.results.length)>0&&!l.isLoading),e.R7$(),e.Y8G("modalId","removeUserModal")("type","danger")("buttonType","danger")("title","Common.Remove.Confirm")("okText","Common.Remove.Title")("cancelText","Common.Remove.No"),e.R7$(3),e.Y8G("innerHtml",l.removeSummary,e.npT))},dependencies:[fn.Sq,fn.bT,y.xH,y.y7,y.me,y.wz,y.BC,y.YS,y.xh,y.tU,y.vS,yl.B,rc.n,Ri.d,Pe.B,fr,bn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return r})();var _l=p(152),bl=p(3294),Cl=p(8412),aa=p(2510);class ac{constructor(){this.selected=!1}}const nd=["addRoleModal"],wl=()=>({animated:!1,backdrop:"static"});let id=(()=>{class r{constructor(t,o,l,C,$,me){this.rolesService=t,this.errorService=o,this.translate=l,this.router=C,this.fb=$,this.toastr=me,this.added=new e.bkB}keydown(t){"Enter"===t.key&&this.addRoleForm.valid&&this.addRole()}ngOnInit(){this.addRoleForm=this.fb.group({name:["",y.k0.required],description:["",y.k0.maxLength(1e3)]})}addAnotherRole(){this.addAnother=!0,this.addRole()}addRole(){let t=new ac;t=this.addRoleForm.value,t.name=t.name.trim(),this.rolesService.addRole(t).subscribe(o=>{this.addAnother||this.hide(),this.addAnother=!1,this.addRoleForm.reset(),this.toastr.success(this.translate.instant("Roles.Role")+" "+t.name+" "+this.translate.instant("Common.Created"),this.translate.instant("Roles.RoleCreated")),this.added.emit(!0)},o=>{this.errorService.handleError(o)})}hide(){this.addRoleModal.hide()}show(){this.addRoleModal.show(),this.addRoleForm.reset()}ngOnDestroy(){this.hide()}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(fs.P),e.rXU(Z.I),e.rXU(bn.c$),e.rXU(Ct.Ix),e.rXU(y.ze),e.rXU(Zn.tw))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-add-role"]],viewQuery:function(o,l){if(1&o&&e.GBs(nd,7),2&o){let C;e.mGM(C=e.lsd())&&(l.addRoleModal=C.first)}},hostBindings:function(o,l){1&o&&e.bIt("keydown",function($){return l.keydown($)},!1,e.EBC)},outputs:{added:"added"},decls:33,vars:26,consts:[["addRoleModal","bs-modal"],["bsModal","","id","addRoleModal","tabindex","-1","role","dialog","aria-hidden","true",1,"modal",3,"config"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","scrollbars"],[3,"formGroup"],[3,"id","label","help"],["type","text","id","addRoleName","formControlName","name",1,"tw-form-control"],[3,"id","label","isLast"],["rows","2","id","addRoleDescription","formControlName","description",1,"tw-form-control"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["type","submit","id","addRoleSubmit",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],[1,"tw-hidden","xs:tw-inline"],["type","button","id","addRoleReSubmit",1,"tw-btn",3,"click","disabled"],[1,"tw-btn-link","tw--mr-4",3,"click"]],template:function(o,l){if(1&o){const C=e.RV6();e.j41(0,"div",1,0)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"button",6),e.bIt("click",function(){return e.eBV(C),e.Njj(l.hide())}),e.nrm(9,"span",7),e.j41(10,"span",8),e.EFF(11),e.nI1(12,"translate"),e.k0s()()(),e.j41(13,"div",9)(14,"form",10)(15,"app-form-row",11),e.nrm(16,"input",12),e.k0s(),e.j41(17,"app-form-row",13),e.nrm(18,"textarea",14),e.k0s()()(),e.nrm(19,"div",15),e.j41(20,"div",16)(21,"div",17)(22,"div",18)(23,"button",19),e.bIt("click",function(){return e.eBV(C),l.addRole(),e.Njj(l.hide())}),e.EFF(24),e.nI1(25,"translate"),e.k0s(),e.j41(26,"span",20)(27,"button",21),e.bIt("click",function(){return e.eBV(C),e.Njj(l.addAnotherRole())}),e.EFF(28),e.nI1(29,"translate"),e.k0s()()(),e.j41(30,"button",22),e.bIt("click",function(){return e.eBV(C),e.Njj(l.hide())}),e.EFF(31),e.nI1(32,"translate"),e.k0s()()()()()()}2&o&&(e.Y8G("config",e.lJ4(25,wl)),e.R7$(6),e.JRh(e.bMT(7,15,"Roles.NewRole")),e.R7$(5),e.JRh(e.bMT(12,17,"Common.Close")),e.R7$(3),e.Y8G("formGroup",l.addRoleForm),e.R7$(),e.Y8G("id","addRoleName")("label","Common.Name")("help","Roles.TrimWhitespaceHelp"),e.R7$(2),e.Y8G("id","addRoleDescription")("label","Common.Description")("isLast",!0),e.R7$(6),e.Y8G("disabled",!l.addRoleForm.valid),e.R7$(),e.JRh(e.bMT(25,19,"Common.Save")),e.R7$(3),e.Y8G("disabled",!l.addRoleForm.valid),e.R7$(),e.JRh(e.bMT(29,21,"Common.SaveAndAdd")),e.R7$(3),e.JRh(e.bMT(32,23,"Common.Cancel")))},dependencies:[y.qT,y.me,y.BC,y.cb,y.j4,y.JD,Tt.hZ,ce.Y,bn.D9],encapsulation:2})}}return r})();const Sh=(r,d)=>({"fad fa-pencil":r,"fas fa-eye":d});function Er(r,d){if(1&r){const t=e.RV6();e.j41(0,"app-action-bar"),e.qex(1,9),e.j41(2,"button",10),e.bIt("click",function(){e.eBV(t),e.XpG();const l=e.sdS(3);return e.Njj(l.show())}),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.bVm(),e.k0s()}2&r&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"Roles.AddRole")," "))}function ap(r,d){1&r&&e.nrm(0,"app-simple-loader")}function rd(r,d){1&r&&(e.j41(0,"div",11)(1,"div"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&r&&(e.R7$(2),e.JRh(e.bMT(3,1,"Roles.NoRolesFound")))}function Jo(r,d){1&r&&e.nrm(0,"span",23)}function yC(r,d){1&r&&e.nrm(0,"span",24)}function sd(r,d){1&r&&(e.j41(0,"span",36),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Policy")," "))}function ou(r,d){1&r&&(e.j41(0,"span",37),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Reserved")," "))}function ya(r,d){if(1&r){const t=e.RV6();e.j41(0,"tr",25)(1,"td",26),e.bIt("click",function(){const l=e.eBV(t).$implicit,C=e.XpG(2);return e.Njj(C.viewOrEditRole(l))}),e.j41(2,"b",27),e.EFF(3),e.k0s()(),e.j41(4,"td",28),e.bIt("click",function(){const l=e.eBV(t).$implicit,C=e.XpG(2);return e.Njj(C.viewOrEditRole(l))}),e.EFF(5),e.k0s(),e.j41(6,"td",29),e.bIt("click",function(){const l=e.eBV(t).$implicit,C=e.XpG(2);return e.Njj(C.viewOrEditRole(l))}),e.DNE(7,sd,3,3,"span",30),e.k0s(),e.j41(8,"td",31),e.bIt("click",function(){const l=e.eBV(t).$implicit,C=e.XpG(2);return e.Njj(C.viewOrEditRole(l))}),e.DNE(9,ou,3,3,"span",32),e.k0s(),e.j41(10,"td",33),e.bIt("click",function(){const l=e.eBV(t).$implicit,C=e.XpG(2);return e.Njj(C.viewOrEditRole(l))}),e.j41(11,"button",34),e.bIt("click",function(){const l=e.eBV(t).$implicit,C=e.XpG(2);return e.Njj(C.viewOrEditRole(l))}),e.nrm(12,"span",35),e.j41(13,"span",19),e.EFF(14),e.nI1(15,"translate"),e.k0s()()()()}if(2&r){const t=d.$implicit,o=e.XpG(2);e.R7$(3),e.JRh(t.name),e.R7$(2),e.SpI(" ",t.description," "),e.R7$(2),e.Y8G("ngIf",o.isPolicyRole(t)),e.R7$(2),e.Y8G("ngIf",t.reserved),e.R7$(3),e.Y8G("ngClass",e.l_i(8,Sh,!o.isUserManagerReadOnly,o.isUserManagerReadOnly)),e.R7$(2),e.JRh(e.bMT(15,6,"Common.Edit"))}}function _C(r,d){if(1&r){const t=e.RV6();e.j41(0,"table",12)(1,"thead")(2,"tr")(3,"th",13),e.bIt("click",function(){e.eBV(t);const l=e.XpG();return e.Njj(l.sort())}),e.j41(4,"span",14),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.DNE(7,Jo,1,0,"span",15)(8,yC,1,0,"span",16),e.k0s(),e.j41(9,"th",17),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"th",18)(13,"span",19),e.EFF(14),e.nI1(15,"translate"),e.k0s()(),e.j41(16,"th",20)(17,"span",19),e.EFF(18),e.nI1(19,"translate"),e.k0s()(),e.j41(20,"th",21)(21,"span",19),e.EFF(22),e.nI1(23,"translate"),e.k0s()()()(),e.j41(24,"tbody"),e.DNE(25,ya,16,11,"tr",22),e.k0s()()}if(2&r){const t=e.XpG();e.R7$(5),e.JRh(e.bMT(6,8,"Common.Name")),e.R7$(2),e.Y8G("ngIf",t.sortIcon),e.R7$(),e.Y8G("ngIf",!t.sortIcon),e.R7$(2),e.SpI(" ",e.bMT(11,10,"Common.Description")," "),e.R7$(4),e.JRh(e.bMT(15,12,"Common.Policy")),e.R7$(4),e.JRh(e.bMT(19,14,"Common.Reserved")),e.R7$(4),e.JRh(e.bMT(23,16,"Common.Actions")),e.R7$(3),e.Y8G("ngForOf",t.roles)}}function lp(r,d){if(1&r&&e.nrm(0,"app-pager",38),2&r){const t=e.XpG();e.Y8G("totalResults",null==t.roles?null:t.roles.length)}}let bC=(()=>{class r{constructor(t,o,l,C,$,me,He){this.rolesService=t,this.securityService=o,this.translate=l,this.router=C,this.titleService=$,this.localize=me,this.errorService=He,this.roleListLength=0,this.sortCriteria="-name",this.term="",this.searchTermStream=new xr.B,this.sortStream=new xr.B}ngOnInit(){const t=this.translate.instant("Nav.Roles")+" - "+Bt.$9.SITE_TITLE;this.titleService.setTitle(t),this.isLoading=!0;const o=this.sortStream.pipe((0,Di.T)($=>({search:this.term,sort:$})));this.searchTermStream.pipe((0,_l.B)(300),(0,bl.F)(),(0,Di.T)($=>(this.term=$,{search:$,sort:this.sortCriteria}))).pipe((0,Cl.X)(o),(0,vl.Z)({search:this.term,sort:this.sortCriteria}),(0,ga.Z)($=>this.rolesService.getRoles($.search,$.sort))).subscribe({next:$=>{this.roles=$,this.isLoading=!1},error:$=>{this.errorService.handleError($),this.isLoading=!1}})}search(t){this.searchTermStream.next(t)}update(){this.sortStream.next(this.sortCriteria)}sort(){this.sortCriteria=this.sortCriteria.startsWith("-")?"name":"-name",this.sortStream.next(this.sortCriteria),this.sortIcon=!this.sortIcon}viewOrEditRole(t){this.isUserManagerReadOnly?this.viewRole(t):this.editRole(t)}editRole(t){const o=[this.localize.translateRoute("/roles"),t.id];this.router.navigate(o)}viewRole(t){const o=[this.localize.translateRoute("/roles/view"),t.id];this.router.navigate(o)}allowedToEditRole(t){return!this.securityService.allView&&this.isPolicyRole(t)}isPolicyRole(t){const o=this.securityService.policyClaims;for(let l=0;l<o.length;l++)if("role"===o[l].type&&o[l].value===t.name)return!0;return!1}get isUserManagerReadOnly(){return(0,Mi.zG)(this.securityService.userPermissions)}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(fs.P),e.rXU(li.i),e.rXU(bn.c$),e.rXU(Ct.Ix),e.rXU(i.hE),e.rXU($i.QG),e.rXU(Z.I))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["ng-component"]],decls:12,vars:11,consts:[["addRoleModal",""],[3,"title"],[3,"added"],["id","rolesList",1,"tw-container","mx-auto"],[3,"onSearch","placeholder"],[4,"ngIf"],["class","tw-alert","role","alert",4,"ngIf"],["id","rolesTable","class","datatable selectable hover",4,"ngIf"],["hidePager","true",3,"totalResults",4,"ngIf"],["right",""],[1,"tw-btn-success",3,"click"],["role","alert",1,"tw-alert"],["id","rolesTable",1,"datatable","selectable","hover"],["id","sortName",1,"tw-max-w-0","tw-cursor-pointer","lg:tw-w-1/3",3,"click"],[1,"tw-mr-2"],["class","fas fa-caret-down","aria-hidden","true",4,"ngIf"],["class","fas fa-caret-up","aria-hidden","true",4,"ngIf"],[1,"tw-hidden","lg:tw-table-cell"],[1,"tw-w-1","tw-hidden","sm:tw-table-cell"],[1,"sr-only"],[1,"tw-w-1","tw-hidden","md:tw-table-cell"],[1,"tw-w-1"],["class","group",4,"ngFor","ngForOf"],["aria-hidden","true",1,"fas","fa-caret-down"],["aria-hidden","true",1,"fas","fa-caret-up"],[1,"group"],[1,"tw-max-w-0","tw-truncate",3,"click"],[1,"tw-text-blue-500"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell",3,"click"],[1,"tw-hidden","sm:tw-table-cell",3,"click"],["class","tw-pill-warning",4,"ngIf"],[1,"tw-hidden","md:tw-table-cell",3,"click"],["class","tw-pill",4,"ngIf"],[3,"click"],[1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click"],["id","viewOrEditIcon","aria-hidden","true",3,"ngClass"],[1,"tw-pill-warning"],[1,"tw-pill"],["hidePager","true",3,"totalResults"]],template:function(o,l){if(1&o){const C=e.RV6();e.nrm(0,"app-title-bar",1),e.nI1(1,"translate"),e.j41(2,"app-add-role",2,0),e.bIt("added",function(){return e.eBV(C),e.Njj(l.update())}),e.k0s(),e.j41(4,"div",3)(5,"app-search",4),e.nI1(6,"translate"),e.bIt("onSearch",function(me){return e.eBV(C),e.Njj(l.search(me))}),e.k0s(),e.DNE(7,Er,5,3,"app-action-bar",5)(8,ap,1,0,"app-simple-loader",5)(9,rd,4,3,"div",6)(10,_C,26,18,"table",7)(11,lp,1,1,"app-pager",8),e.k0s()}2&o&&(e.Y8G("title",e.bMT(1,7,"Nav.Roles")),e.R7$(5),e.Y8G("placeholder",e.bMT(6,9,"Roles.SearchPlaceholder")),e.R7$(2),e.Y8G("ngIf",!l.isLoading&&!l.isUserManagerReadOnly),e.R7$(),e.Y8G("ngIf",l.isLoading),e.R7$(),e.Y8G("ngIf",(!l.roles||l.roles.length<=0)&&!l.isLoading),e.R7$(),e.Y8G("ngIf",l.roles&&l.roles.length>0&&!l.isLoading),e.R7$(),e.Y8G("ngIf",l.roles&&l.roles.length>0&&!l.isLoading))},dependencies:[fn.YU,fn.Sq,fn.bT,qt.z,yl.B,rc.n,aa.S,Ri.d,id,bn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return r})();const Sl=(r,d)=>({title:r,link:d}),R0=r=>[r];function CC(r,d){1&r&&(e.j41(0,"span",8),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Policy")," "))}function M0(r,d){1&r&&(e.j41(0,"span",9),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Reserved")," "))}function cp(r,d){if(1&r&&(e.qex(0,5),e.DNE(1,CC,3,3,"span",6)(2,M0,3,3,"span",7),e.bVm()),2&r){const t=e.XpG();e.R7$(),e.Y8G("ngIf",t.isPolicyRole()),e.R7$(),e.Y8G("ngIf",t.role.reserved)}}let up=(()=>{class r{constructor(t,o,l,C){this.activatedRoute=t,this.errorService=o,this.router=l,this.securityService=C}ngOnInit(){this.roleDataSubscription=this.activatedRoute.data.subscribe(t=>{this.role=t.role},t=>{this.errorService.handleError(t)})}ngOnDestroy(){this.roleDataSubscription.unsubscribe()}isPolicyRole(){const t=this.securityService.policyClaims;for(let o=0;o<t.length;o++)if("role"===t[o].type&&t[o].value===this.role.name)return!0;return!1}mobRoute(t){this.router.navigate([t],{relativeTo:this.activatedRoute})}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(Ct.nX),e.rXU(Z.I),e.rXU(Ct.Ix),e.rXU(li.i))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["ng-component"]],decls:10,vars:18,consts:[[3,"title","crumbs","hasTabs","isReadOnly"],["badge","",4,"ngIf"],["tabs",""],[3,"tabTitle","tabValue"],["id","viewRole"],["badge",""],["class","tw-pill-warning tw-mr-2",4,"ngIf"],["class","tw-pill tw-mr-2",4,"ngIf"],[1,"tw-pill-warning","tw-mr-2"],[1,"tw-pill","tw-mr-2"]],template:function(o,l){1&o&&(e.j41(0,"app-title-bar",0),e.nI1(1,"translate"),e.nI1(2,"localize"),e.DNE(3,cp,3,2,"ng-container",1),e.qex(4,2),e.j41(5,"app-custom-tabs"),e.nrm(6,"app-custom-tab",3)(7,"app-custom-tab",3),e.k0s(),e.bVm(),e.k0s(),e.j41(8,"div",4),e.nrm(9,"router-outlet"),e.k0s()),2&o&&(e.Y8G("title",l.role.name)("crumbs",e.eq3(16,R0,e.l_i(13,Sl,e.bMT(1,9,"Nav.Roles"),e.bMT(2,11,"/roles"))))("hasTabs",!0)("isReadOnly",!0),e.R7$(3),e.Y8G("ngIf",l.isPolicyRole()||l.role.reserved),e.R7$(3),e.Y8G("tabTitle","Nav.Details")("tabValue","details"),e.R7$(),e.Y8G("tabTitle","Nav.Users")("tabValue","users"))},dependencies:[fn.bT,Ct.n3,qt.z,nn.G,_n.v,bn.D9,$i.tl],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return r})();var Gs=p(9196);const au=()=>["active"];function dp(r,d){1&r&&(e.j41(0,"option",15),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.JRh(e.bMT(2,1,"Nav.AccessPolicy")))}function Ac(r,d){1&r&&(e.j41(0,"option",16),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.JRh(e.bMT(2,1,"Nav.Keys")))}function Ui(r,d){1&r&&(e.j41(0,"li",17)(1,"button",18),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&r&&(e.R7$(),e.Y8G("routerLinkActive",e.lJ4(4,au)),e.R7$(),e.JRh(e.bMT(3,2,"Nav.AccessPolicy")))}function x0(r,d){1&r&&(e.j41(0,"li",19)(1,"button",20),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&r&&(e.R7$(),e.Y8G("routerLinkActive",e.lJ4(4,au)),e.R7$(),e.JRh(e.bMT(3,2,"Nav.Keys")))}let xD=(()=>{class r{constructor(t,o,l){this.titleService=t,this.translate=o,this.configService=l,this.targetIdentityServer4=!1,this.hideAccessPolicy=!1}ngOnInit(){this.configService.getConfig().pipe((0,Jt.$)()).subscribe(t=>{this.targetIdentityServer4=t.targetIdentityServer4,this.hideAccessPolicy=t.featureFlagOptions.enforcerAuthorizationEnabled}),this.titleService.setTitle(this.translate.instant("Settings.Title")+` - ${Bt.$9.SITE_TITLE}`)}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(i.hE),e.rXU(bn.c$),e.rXU(Gs.w))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-settings"]],decls:26,vars:25,consts:[[3,"title","hasTabs"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu","disabled","",1,"tw-form-control"],["value","details"],["value","Access Policy",4,"ngIf"],["value","Keys",4,"ngIf"],["value","Webhooks"],["role","tablist",1,"tabs","tw-hidden","md:tw-flex"],["class","tabs__item","id","acessPolicyTab",4,"ngIf"],[1,"tabs__item"],["routerLink","webhooks","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["class","tabs__item","id","keysTab",4,"ngIf"],["value","Access Policy"],["value","Keys"],["id","acessPolicyTab",1,"tabs__item"],["routerLink","accesspolicy","role","tab","aria-selected","false",1,"tabs__link","active",3,"routerLinkActive"],["id","keysTab",1,"tabs__item"],["routerLink","keys","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"]],template:function(o,l){1&o&&(e.j41(0,"app-title-bar",0),e.nI1(1,"translate"),e.qex(2,1),e.j41(3,"div",2)(4,"label",3),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"div",4)(8,"select",5)(9,"option",6),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.DNE(12,dp,3,3,"option",7)(13,Ac,3,3,"option",8),e.j41(14,"option",9),e.EFF(15),e.nI1(16,"translate"),e.k0s()()()(),e.j41(17,"ul",10),e.nI1(18,"translate"),e.DNE(19,Ui,4,5,"li",11),e.j41(20,"li",12)(21,"button",13),e.EFF(22),e.nI1(23,"translate"),e.k0s()(),e.DNE(24,x0,4,5,"li",14),e.k0s(),e.bVm(),e.k0s(),e.nrm(25,"router-outlet")),2&o&&(e.Y8G("title",e.bMT(1,12,"Nav.Settings"))("hasTabs",!0),e.R7$(5),e.JRh(e.bMT(6,14,"Nav.SubMenu")),e.R7$(5),e.SpI("",e.bMT(11,16,"Nav.SubMenu"),"..."),e.R7$(2),e.Y8G("ngIf",!l.hideAccessPolicy),e.R7$(),e.Y8G("ngIf",!l.targetIdentityServer4),e.R7$(2),e.JRh(e.bMT(16,18,"Nav.Webhooks")),e.R7$(2),e.BMQ("aria-label",e.bMT(18,20,"Nav.SubMenu")),e.R7$(2),e.Y8G("ngIf",!l.hideAccessPolicy),e.R7$(2),e.Y8G("routerLinkActive",e.lJ4(24,au)),e.R7$(),e.JRh(e.bMT(23,22,"Nav.Webhooks")),e.R7$(2),e.Y8G("ngIf",!l.targetIdentityServer4))},dependencies:[Ct.n3,Ct.Wk,Ct.wQ,fn.bT,y.xH,y.y7,qt.z,bn.D9],encapsulation:2})}}return r})();var wC=p(5517);let SC=(()=>{class r{constructor(t,o,l){this.router=t,this.config=o,this.localizeRouter=l}canActivate(t,o){return this.config.getConfig().pipe((0,Jt.$)(),(0,Di.T)(l=>{if("accesspolicy"!=t.firstChild.routeConfig.path||!l.featureFlagOptions.enforcerAuthorizationEnabled)return!0;{const C=this.localizeRouter.translateRoute("/settings/webhooks");this.router.navigate([C])}}))}static{this.\u0275fac=function(o){return new(o||r)(e.KVO(Ct.Ix),e.KVO(Gs.w),e.KVO($i.QG))}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var od=p(6199);const Rc=[{path:"",component:pa},{path:"initial-admin-creation",component:Lt,canActivate:[Ar.h],data:{permissions:[Yn.a[Yn.a.All]]}},{path:"home",component:lo,canActivate:[Ar.h,Lr._]},{path:"settings",component:xD,loadChildren:()=>Promise.resolve().then(p.bind(p,2509)).then(r=>r.SettingsModule),canActivate:[Ar.h,Lr._,SC],canDeactivate:[Wo.M],data:{permissions:[Yn.a[Yn.a.All]]}},{path:"users",loadChildren:()=>Promise.resolve().then(p.bind(p,7101)).then(r=>r.UsersModule),canActivate:[Ar.h,Lr._]},{path:"roles",component:bC,canActivate:[Ar.h,Lr._],data:{permissions:[Yn.a[Yn.a.UserManager],Yn.a[Yn.a.UserManagerReadOnly],Yn.a[Yn.a.AllReadOnly],Yn.a[Yn.a.All]]}},{path:"roles/:Id",component:Mr,children:[{path:"",redirectTo:"details",pathMatch:"full"},{path:"details",component:Is,canDeactivate:[Wo.M]},{path:"users",component:Pa,canDeactivate:[Wo.M]}],resolve:{role:od.v},canDeactivate:[Wo.M],canActivate:[Ar.h,Lr._],data:{permissions:[Yn.a[Yn.a.UserManager],Yn.a[Yn.a.All]]}},{path:"roles/view/:Id",component:up,loadChildren:()=>p.e(907).then(p.bind(p,5907)).then(r=>r.ViewRolesModule),resolve:{role:od.v},canActivate:[Ar.h,Lr._],data:{permissions:[Yn.a[Yn.a.UserManager],Yn.a[Yn.a.UserManagerReadOnly],Yn.a[Yn.a.AllReadOnly],Yn.a[Yn.a.All]]}},{path:"claim-types",loadChildren:()=>Promise.resolve().then(p.bind(p,3730)).then(r=>r.ClaimTypesModule),canActivate:[Ar.h,Lr._]},{path:"starter-mode",loadChildren:()=>Promise.resolve().then(p.bind(p,9624)).then(r=>r.StarterModeModule),canActivate:[Ar.h,wC.H]},{path:"unauthorized",component:qa},{path:"forbidden",component:nc},{path:"auth",component:Ja,data:{skipRouteLocalization:!0}},{path:"resourcenotfound",component:Qa,canActivate:[Ar.h,Lr._]},{path:"**",component:zo,canActivate:[Ar.h,Lr._]},{path:"openiddict",component:pa,canActivate:[Ar.h,Lr._],data:{permissions:[Yn.a[Yn.a.UserManager],Yn.a[Yn.a.UserManagerReadOnly],Yn.a[Yn.a.AllReadOnly],Yn.a[Yn.a.All]]}}];let TC=(()=>{class r{static{this.\u0275fac=function(o){return new(o||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({imports:[Ct.iI.forRoot(Rc,{scrollPositionRestoration:"enabled"}),Ct.iI]})}}return r})();var lc=p(1683),ad=p(9564),yn=p(2771);let gr=(()=>{class r{constructor(){this.cachedClaimTypes=new yn.m(1),this.cachedClaimTypes$=this.cachedClaimTypes.asObservable()}setClaimTypes(t){this.cachedClaimTypes.next(t)}static{this.\u0275fac=function(o){return new(o||r)}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac})}}return r})();var lu=p(8455),Eh=p(2571),Ur=p(4179),Mc=p(983),la=p(9437),il=p(8261);let hp=(()=>{class r{constructor(t,o){this.identityResourceService=t,this.errorService=o}resolve(t,o){const l=t.paramMap.get("Id");return this.identityResourceService.getResource(l).pipe((0,Di.T)(C=>(C&&this.identityResourceService.getCachedIdentityResource().next(C),C)),(0,la.W)((C,$)=>(404===C.status?this.errorService.resourceNotFound(Bo.v.identityResource):this.errorService.handleError(C),(0,Mc.I)())))}static{this.\u0275fac=function(o){return new(o||r)(e.KVO(il.A),e.KVO(Z.I))}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac})}}return r})();var cu=p(5893);let IC=(()=>{class r{constructor(t,o){this.protectedResourceService=t,this.errorService=o}resolve(t,o){const l=t.paramMap.get("Id");return this.protectedResourceService.getResource(l).pipe((0,Di.T)(C=>(C&&this.protectedResourceService.getCachedProtectedResource().next(C),C)),(0,la.W)((C,$)=>(404===C.status?this.errorService.resourceNotFound(Bo.v.protectedResource):this.errorService.handleError(C),(0,Mc.I)())))}static{this.\u0275fac=function(o){return new(o||r)(e.KVO(cu.x),e.KVO(Z.I))}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac})}}return r})();var k0=p(7415),ld=p(367),_o=p(5731),Ba=p(4193),Th=p(3665),To=p(7175),La=p(1993),cc=p(8389),fp=p(9945),N0=p(6843),Ih=p(7677),uc=p(4367);let pp=(()=>{class r{static{this.\u0275fac=function(o){return new(o||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({providers:[hp,IC,gr],imports:[fn.MD,Ct.iI,bn.h,y.YN,lc.Y,y.X1,bt.jr,De.Ss,Ur.z,Eh.A,lu.p,Xe.h6,Tt.Q_,k0.P,$i.XE,ld.m,_o.i,Ba.c,Th.t,To.c,La.E,cc.w,fp.f,N0.l,Ih.N,uc.N]})}}return r})();var xc=p(2261),Ll=p(9398),mp=p(3577);let Dh=(()=>{class r{constructor(t,o,l){this.clientService=t,this.clientCachingService=o,this.errorService=l}resolve(t,o){const l=t.paramMap.get("Id");return this.clientService.getClient(l).pipe((0,Di.T)(C=>(this.clientCachingService.unsavedCache.next(C),C)),(0,la.W)(C=>(404===C.status?this.errorService.resourceNotFound(Bo.v.client):this.errorService.handleError(C),(0,Mc.I)())))}static{this.\u0275fac=function(o){return new(o||r)(e.KVO(Ll._),e.KVO(mp.e),e.KVO(Z.I))}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac})}}return r})();var Ah=p(3384),gp=p(4442),Rh=p(9686);let Mh=(()=>{class r{constructor(t){this.fileDownloader=t,this.actionUrl="clients/export"}exportAllClients(){this.fileDownloader.buildForm(this.actionUrl).submitForm()}exportSelectedClients(t){const o=this.actionUrl+"/specified",l=new Map;l.set("clientIds",t.join(",")),this.fileDownloader.buildFormWithCustomInputs(o,l).submitForm()}static{this.\u0275fac=function(o){return new(o||r)(e.KVO(Rh.D))}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac})}}return r})();var vp=p(8556),cd=p(2036),O0=p(9475),co=p(8251),El=p(6599),Yr=p(8400);class DC{}var Qi=function(r){return r.Client="Client",r.ClaimType="ClaimType",r.IdentityResource="IdentityResource",r.ProtectedResource="ProtectedResource",r}(Qi||{}),Lo=function(r){return r.New="New",r.Duplicate="Duplicate",r.Conflicted="Conflicted",r}(Lo||{}),ud=function(r){return r.Importing="Importing",r.Existing="Existing",r}(ud||{});let ca=(()=>{class r{constructor(){this.importResourceTypeMap=new Map([[Qi.Client,"Client"],[Qi.ClaimType,"Claim Type"],[Qi.ProtectedResource,"Protected Resource"],[Qi.IdentityResource,"Identity Resource"]]),this.cache=new yn.m(1),this.resetImport=new yn.m(1)}updateSelectedClients(t){this.cache.pipe((0,Jt.$)()).subscribe(o=>{t=t.filter(l=>l.resourceType===Qi.Client),o.forEach(l=>{const C=t.find($=>$.identifier===l.identifier);void 0!==C&&(l.selected=C.selected)}),this.cache.next(o)})}selectResource(t){this.setResourcesSelected(t,!0)}deselectResource(t){this.setResourcesSelected(t,!1)}setResourcesSelected(t,o){this.cache.pipe((0,Jt.$)()).subscribe(l=>{let C;C=t.resourceType===Qi.Client?[t.identifier]:t.dependantClients.filter(me=>me.state===ud.Importing).map(me=>me.identifier),C.forEach($=>{l.find(me=>me.identifier===$&&me.resourceType===Qi.Client).selected=o}),this.cache.next(l)})}downloadClientSecretsFromCache(){const t=new yn.m;return this.cache.pipe((0,Jt.$)()).subscribe(o=>{const l=o.filter(He=>He.secrets&&He.secrets.length>0);let C="Type,Id,Name,Secret\r\n";l.forEach(He=>{He.secrets.forEach(at=>{const Ut=this.importResourceTypeMap.get(He.resourceType);C+=Ut+","+He.identifier+","+He.displayName+","+at.value+"\r\n"})});const $=new Blob([C],{type:"application/csv"}),me=document.createElement("a");me.download="import-secrets.csv",me.href=window.URL.createObjectURL($),me.click(),me.remove(),t.next()}),t}static{this.\u0275fac=function(o){return new(o||r)}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac})}}return r})(),Vr=(()=>{class r{static{this.importUploadCertificate="CertificateUpload"}static{this.clientSummary="ClientSummary"}static{this.resourcesSummary="ResourcesSummary"}static{this.summaryConflicts="SummaryConflicts"}static{this.claimTypeSummary="ClaimTypeSummary"}static{this.importComplete="ImportComplete"}static{this.importCloseWarning="ImportCloseWarning"}static{this.summaryConflictsConfirmation="SummaryConflictsConfirmation"}static{this.finalSummary="FinalSummary"}static{this.importDownloadWarning="ImportDownloadWarning"}}return r})(),Ul=(()=>{class r{static{this.client="Client"}static{this.resource="Resource"}static{this.protectedResource="ProtectedResource"}static{this.claimType="ClaimType"}static getSummaryDisplayType(t){switch(t){case Qi.Client:return this.client;case Qi.IdentityResource:case Qi.ProtectedResource:return this.resource;case Qi.ClaimType:return this.claimType}}}return r})();class _a{constructor(){this.isWarningModal=!1,this.hideProgressBar=!1}get data(){return this._data}set data(d){this._data=d}next(){this.importWizardController.goToNextStep()}back(){this.importWizardController.goToPreviousStep()}cancel(){this.importWizardController.cancel()}openModal(d,t){this.importWizardController.insertAndOpenStep(d,t)}quit(){this.importWizardController.quit()}reset(){this.importWizardController.reset()}}const xh=r=>({"inactive disabled tw-opacity-50 tw-pointer-events-none":r});function kh(r,d){if(1&r){const t=e.RV6();e.j41(0,"th",21)(1,"label",22)(2,"input",23),e.mxI("ngModelChange",function(l){e.eBV(t);const C=e.XpG();return e.DH7(C.allSelected,l)||(C.allSelected=l),e.Njj(l)}),e.bIt("change",function(){e.eBV(t);const l=e.XpG();return e.Njj(l.toggleAllSelected())}),e.k0s()()()}if(2&r){const t=e.XpG();e.R7$(2),e.R50("ngModel",t.allSelected)}}function yp(r,d){if(1&r&&(e.j41(0,"th",24),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r){const t=e.XpG();e.R7$(),e.JRh(e.bMT(2,1,"Clients.Import.Wizard.Summary.Identifier."+t.summaryDisplayType))}}function F0(r,d){1&r&&(e.j41(0,"th",25),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI("",e.bMT(2,1,"Nav.Clients")," *"))}function P0(r,d){if(1&r){const t=e.RV6();e.j41(0,"label",22)(1,"input",23),e.nI1(2,"translate"),e.mxI("ngModelChange",function(l){e.eBV(t);const C=e.XpG(2).$implicit;return e.DH7(C.selected,l)||(C.selected=l),e.Njj(l)}),e.bIt("change",function(){e.eBV(t);const l=e.XpG(3);return e.Njj(l.selectionChanged())}),e.k0s()()}if(2&r){const t=e.XpG(2).$implicit;e.R7$(),e.R50("ngModel",t.selected),e.BMQ("aria-label",e.bMT(2,2,"Common.Add"))}}function RC(r,d){if(1&r&&(e.j41(0,"td",21),e.DNE(1,P0,3,4,"label",32),e.k0s()),2&r){const t=e.XpG().$implicit;e.R7$(),e.Y8G("ngIf",t.isSelectable)}}function uu(r,d){if(1&r){const t=e.RV6();e.j41(0,"td",33),e.bIt("click",function(){e.eBV(t);const l=e.XpG().$implicit,C=e.XpG();return e.Njj(C.toggle(l))}),e.EFF(1),e.k0s()}if(2&r){const t=e.XpG().$implicit;e.Y8G("title",t.identifier),e.R7$(),e.SpI(" ",t.identifier," ")}}function dd(r,d){if(1&r&&(e.j41(0,"td",34),e.EFF(1),e.k0s()),2&r){const t=e.XpG().$implicit,o=e.XpG();e.R7$(),e.SpI(" ",o.displayLinkedClients(t)," ")}}function MC(r,d){1&r&&e.nrm(0,"span",40)}function _p(r,d){if(1&r){const t=e.RV6();e.qex(0),e.j41(1,"td",35),e.bIt("click",function(l){e.eBV(t);const C=e.XpG().$implicit,$=e.XpG();return e.Njj($.viewConflicts(l,C))}),e.DNE(2,MC,1,0,"span",36),e.k0s(),e.j41(3,"td",37),e.bIt("click",function(l){e.eBV(t);const C=e.XpG().$implicit,$=e.XpG();return e.Njj($.viewConflicts(l,C))}),e.j41(4,"button",38),e.bIt("click",function(l){e.eBV(t);const C=e.XpG().$implicit,$=e.XpG();return e.Njj($.viewConflicts(l,C))}),e.j41(5,"span",39),e.EFF(6),e.k0s()()(),e.bVm()}if(2&r){const t=e.XpG().$implicit,o=e.XpG();e.R7$(2),e.Y8G("ngIf",t.resourceState==o.resourceStates.Conflicted),e.R7$(4),e.JRh(o.getConflicts(t))}}function xC(r,d){1&r&&e.nrm(0,"span",45)}function kC(r,d){1&r&&e.nrm(0,"span",46)}function NC(r,d){1&r&&e.nrm(0,"span",40)}function FD(r,d){if(1&r){const t=e.RV6();e.qex(0),e.j41(1,"td",41),e.bIt("click",function(){e.eBV(t);const l=e.XpG().$implicit,C=e.XpG();return e.Njj(C.toggle(l))}),e.DNE(2,xC,1,0,"span",42)(3,kC,1,0,"span",43)(4,NC,1,0,"span",36),e.k0s(),e.j41(5,"td",44),e.bIt("click",function(){e.eBV(t);const l=e.XpG().$implicit,C=e.XpG();return e.Njj(C.toggle(l))}),e.j41(6,"span",39),e.EFF(7),e.k0s()(),e.bVm()}if(2&r){const t=e.XpG().$implicit,o=e.XpG();e.R7$(2),e.Y8G("ngIf",t.resourceState==o.resourceStates.New),e.R7$(),e.Y8G("ngIf",t.resourceState==o.resourceStates.Duplicate),e.R7$(),e.Y8G("ngIf",t.conflictedByDependencies),e.R7$(2),e.AVh("tw-italic",!t.isSelectable),e.R7$(),e.SpI(" ",o.getResourceState(t)," ")}}function PD(r,d){if(1&r){const t=e.RV6();e.j41(0,"tr",26),e.DNE(1,RC,2,1,"td",3),e.j41(2,"td",27),e.bIt("click",function(){const l=e.eBV(t).$implicit,C=e.XpG();return e.Njj(C.toggle(l))}),e.j41(3,"b"),e.EFF(4),e.k0s()(),e.DNE(5,uu,2,2,"td",28),e.j41(6,"td",29),e.bIt("click",function(){const l=e.eBV(t).$implicit,C=e.XpG();return e.Njj(C.toggle(l))}),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.DNE(9,dd,2,1,"td",30)(10,_p,7,2,"ng-container",31)(11,FD,8,6,"ng-container",31),e.k0s()}if(2&r){const t=d.$implicit,o=e.XpG();e.Y8G("ngClass",e.eq3(11,xh,t.resourceState===o.resourceStates.Duplicate)),e.R7$(),e.Y8G("ngIf",o.showSelectAll()),e.R7$(),e.Y8G("title",t.displayName),e.R7$(2),e.JRh(t.displayName),e.R7$(),e.Y8G("ngIf","ClaimType"!==o.summaryDisplayType),e.R7$(2),e.SpI(" ",e.bMT(8,9,"Clients.Import.Wizard.Summary.ResourceTypes."+t.displayType)," "),e.R7$(2),e.Y8G("ngIf","Client"!==o.summaryDisplayType),e.R7$(),e.Y8G("ngIf",t.resourceState===o.resourceStates.Conflicted&&!t.conflictedByDependencies),e.R7$(),e.Y8G("ngIf",t.resourceState!==o.resourceStates.Conflicted||t.conflictedByDependencies)}}function bp(r,d){1&r&&(e.j41(0,"p",47),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" * ",e.bMT(2,1,"Clients.Import.Wizard.Summary.ClientsHelp")," "))}let Vl=(()=>{class r extends _a{get data(){return this._importResourceType}set data(t){this._importResourceType=t}constructor(t,o){super(),this.importWizardService=t,this.translate=o,this.resourceStates=Lo,this.nextImport=!1}ngOnInit(){this.summaryDisplayType=Ul.getSummaryDisplayType(this.data[0]),this.importWizardService.cache.subscribe(t=>{t.every(l=>l.resourceType===Qi.Client)&&(this.nextImport=!0);let o=t.filter(l=>this.data.includes(l.resourceType));if(!this.data.includes(Qi.Client)){const l=t.filter(C=>C.resourceType===Qi.Client&&!0===C.selected).map(C=>C.identifier);o=o.filter(C=>C.dependantClients.map($=>$.identifier).some($=>l.includes($)))}if(1===this.data.length&&this.data.includes(Qi.Client)){const l=o.filter($=>$.resourceState===Lo.Duplicate),C=t.filter($=>$.resourceType!==Qi.Client&&$.dependantClients.length>0&&$.resourceState===Lo.Conflicted);l.forEach($=>{C.filter(He=>He.dependantClients.some(at=>at.identifier===$.identifier)).length>0&&($.resourceState=Lo.Conflicted,$.selected=!0,$.conflictedByDependencies=!0)})}this.displayData=this.importWizardController.sortImportResources(o),this.checkAllSelected()})}getNextText(){return this.translate.instant(this.nextImport?"Clients.Import.Import":"Common.Next")}canNext(){return this.displayData.some(t=>t.selected)||this.displayData.every(t=>!1===t.isSelectable)&&this.summaryDisplayType!==Ul.client}goNext(){this.importWizardController.stepModified?(this.summaryDisplayType===Ul.client&&this.importWizardService.updateSelectedClients(this.displayData.filter(t=>t.selected)),this.next()):this.importWizardController.goToFinalSummary()}goBack(){this.importWizardController.stepModified=!0,this.back()}selectionChanged(){this.importWizardController.stepModified=!0,this.checkAllSelected()}checkAllSelected(){this.allSelected=this.displayData.filter(t=>t.resourceState!==this.resourceStates.Duplicate).every(t=>!0===t.selected)}toggle(t){t.isSelectable&&(t.selected=!t.selected,this.selectionChanged())}toggleAllSelected(){this.displayData.forEach(t=>t.selected=this.allSelected),this.selectionChanged()}getConflicts(t){let l,o=0;return t.conflicts.forEach(C=>{o+=C.conflicts.length}),l=this.translate.instant(1===o?"Clients.Import.Wizard.Summary.Change":"Clients.Import.Wizard.Summary.Changes"),o+" "+l}viewConflicts(t,o){t.stopPropagation(),this.openModal(Vr.summaryConflicts,o)}showSelectAll(){return this.displayData.some(t=>t.isSelectable)&&!this.displayData.every(t=>t.resourceState===Lo.Duplicate)}displayLinkedClients(t){return null===t.dependantClients||0===t.dependantClients.length?"-":t.dependantClients.length.toString()}getResourceState(t){return t.conflictedByDependencies?this.translate.instant("Clients.Import.Wizard.Summary.DependencyConflicts"):this.resourceStates[t.resourceState]}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(ca),e.rXU(bn.c$))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-import-summary"]],features:[e.Vt3],decls:37,vars:27,consts:[[1,"modal-body"],[1,"cms"],[1,"datatable","hover"],["class","toggle tw-w-1",4,"ngIf"],[1,"md:tw-w-1/3","lg:tw-w-1/4"],["class","tw-hidden sm:tw-table-cell md:tw-w-1/3",4,"ngIf"],[1,"tw-hidden","lg:tw-table-cell"],["class","tw-hidden tw-text-center lg:tw-table-cell",4,"ngIf"],["aria-hidden","true",1,"tw-hidden","tw-w-1","xs:tw-table-cell"],[1,"tw-w-1"],[1,"sr-only"],["id","resourceTable"],[3,"ngClass",4,"ngFor","ngForOf"],["class","tw-text-xs tw-text-grey-700 tw-px-3 tw-py-2",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],["id","backBtn",1,"tw-btn",3,"click"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],[1,"toggle","tw-w-1"],[1,"toggle-label"],["type","checkbox",1,"tw-block","tw-cursor-pointer",3,"ngModelChange","change","ngModel"],[1,"tw-hidden","sm:tw-table-cell","md:tw-w-1/3"],[1,"tw-hidden","tw-text-center","lg:tw-table-cell"],[3,"ngClass"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell",3,"click","title"],["class","tw-hidden tw-max-w-1 tw-truncate sm:tw-table-cell",3,"title","click",4,"ngIf"],[1,"tw-hidden","lg:tw-table-cell","tw-truncate",3,"click"],["class","tw-text-center",4,"ngIf"],[4,"ngIf"],["class","toggle-label",4,"ngIf"],[1,"tw-hidden","tw-max-w-1","tw-truncate","sm:tw-table-cell",3,"click","title"],[1,"tw-text-center"],["aria-hidden","true","data-toggle","modal","data-target","#displayConflictsModal",1,"tw-hidden","tw-cursor-pointer","tw-text-right","xs:tw-table-cell",3,"click"],["class","fas fa-exclamation-triangle tw-text-orange-500 tw--mr-3",4,"ngIf"],["data-toggle","modal","data-target","#displayConflictsModal",1,"tw-cursor-pointer",3,"click"],["data-toggle","modal","data-target","#displayConflictsModal",1,"tw-font-semibold","tw-text-blue-500",3,"click"],[1,"tw-whitespace-nowrap"],[1,"fas","fa-exclamation-triangle","tw-text-orange-500","tw--mr-3"],["aria-hidden","true",1,"tw-hidden","tw-cursor-pointer","tw-text-right","xs:tw-table-cell",3,"click"],["class","fas fa-check tw-text-green-500 tw--mr-3",4,"ngIf"],["class","far fa-copy tw--mr-3",4,"ngIf"],[3,"click"],[1,"fas","fa-check","tw-text-green-500","tw--mr-3"],[1,"far","fa-copy","tw--mr-3"],[1,"tw-text-xs","tw-text-grey-700","tw-px-3","tw-py-2"]],template:function(o,l){1&o&&(e.j41(0,"div",0)(1,"div",1)(2,"p"),e.EFF(3),e.nI1(4,"translate"),e.k0s()(),e.j41(5,"table",2)(6,"thead")(7,"tr"),e.DNE(8,kh,3,1,"th",3),e.j41(9,"th",4),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.DNE(12,yp,3,3,"th",5),e.j41(13,"th",6),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.DNE(16,F0,3,3,"th",7),e.nrm(17,"td",8),e.j41(18,"th",9)(19,"span",10),e.EFF(20),e.nI1(21,"translate"),e.k0s()()()(),e.j41(22,"tbody",11),e.DNE(23,PD,12,13,"tr",12),e.k0s()(),e.DNE(24,bp,3,3,"p",13),e.k0s(),e.nrm(25,"div",14),e.j41(26,"div",15)(27,"div",16)(28,"div",17)(29,"button",18),e.bIt("click",function(){return l.goNext()}),e.EFF(30),e.k0s(),e.j41(31,"button",19),e.bIt("click",function(){return l.goBack()}),e.EFF(32),e.nI1(33,"translate"),e.k0s()(),e.j41(34,"button",20),e.bIt("click",function(){return l.cancel()}),e.EFF(35),e.nI1(36,"translate"),e.k0s()()()),2&o&&(e.R7$(3),e.JRh(e.bMT(4,15,"Clients.Import.Wizard.Summary.Intro."+l.summaryDisplayType)),e.R7$(2),e.AVh("selectable",l.showSelectAll()),e.R7$(3),e.Y8G("ngIf",l.showSelectAll()),e.R7$(2),e.JRh(e.bMT(11,17,"Clients.Import.Wizard.Summary.Name."+l.summaryDisplayType)),e.R7$(2),e.Y8G("ngIf","ClaimType"!==l.summaryDisplayType),e.R7$(2),e.JRh(e.bMT(15,19,"Clients.Import.Wizard.Summary.Type."+l.summaryDisplayType)),e.R7$(2),e.Y8G("ngIf","Client"!==l.summaryDisplayType),e.R7$(4),e.JRh(e.bMT(21,21,"Common.Status")),e.R7$(3),e.Y8G("ngForOf",l.displayData),e.R7$(),e.Y8G("ngIf","Client"!==l.summaryDisplayType),e.R7$(5),e.Y8G("disabled",!l.canNext()),e.R7$(),e.JRh(l.getNextText()),e.R7$(2),e.JRh(e.bMT(33,23,"Common.Back")),e.R7$(3),e.JRh(e.bMT(36,25,"Common.Cancel")))},dependencies:[fn.YU,fn.Sq,fn.bT,y.Zm,y.BC,y.vS,bn.D9],encapsulation:2})}}return r})(),B0=(()=>{class r{constructor(t,o){this.http=t,this.headersService=o,this.actionUrl="clients/import"}validateImportFile(t){const C=this.headersService.setHeaders("application/vnd.adminui.import-clients-validation-v1+json","application/vnd.adminui.import-clients-validation-result-v1+json");return this.http.post(`${this.actionUrl}/validate`,t,{headers:C})}completeImport(t,o){const l=this.appendImportConfiguration(t,o),$=this.headersService.setHeaders("application/vnd.adminui.import-clients-v1+json");return this.http.post(`${this.actionUrl}`,l,{headers:$})}appendImportConfiguration(t,o){const l=JSON.parse(t);return l.importConfiguration={clients:o.clients,protectedResources:o.protectedResources},JSON.stringify(l)}static{this.\u0275fac=function(o){return new(o||r)(e.KVO(w.Qq),e.KVO(ad.m))}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();class hd{}class Nh{constructor(){this.certificates=new Oh}}class Oh{}const BD=(r,d)=>({"tw-btn-link":r,"tw-btn-success":d});function L0(r,d){1&r&&(e.nrm(0,"app-simple-loader",7),e.nI1(1,"translate")),2&r&&e.Y8G("text",e.bMT(1,1,"Clients.Import.Wizard.CompleteImport.ImportInProgress"))}function U0(r,d){if(1&r&&(e.j41(0,"div",8)(1,"div")(2,"h2",9),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"span",10),e.EFF(6),e.k0s()()()),2&r){const t=e.XpG();e.R7$(3),e.JRh(e.bMT(4,2,"Clients.Import.Wizard.CompleteImport.ImportComplete")),e.R7$(3),e.JRh(t.getSuccessMessage())}}function OC(r,d){if(1&r){const t=e.RV6();e.j41(0,"div",11)(1,"button",12),e.bIt("click",function(){e.eBV(t);const l=e.XpG();return e.Njj(l.downloadSecrets())}),e.EFF(2),e.nI1(3,"translate"),e.k0s()()}if(2&r){const t=e.XpG();e.R7$(),e.Y8G("disabled",t.disableButtons),e.R7$(),e.SpI(" ",e.bMT(3,2,"Clients.Import.Wizard.CompleteImport.DownloadSecrets")," ")}}let rl=(()=>{class r extends _a{constructor(t,o,l){super(),this.clientImportService=t,this.importWizardService=o,this.translate=l,this.secretsDownloaded=!1,this.canDownloadSecrets=!1,this.disableButtons=!1,this.storage=sessionStorage}ngOnInit(){this.importWizardController.disableCloseButton=!0,this.disableButtons=!0,this.isLoading=!0,this.importWizardService.cache.pipe((0,Jt.$)()).subscribe(t=>{const o=new hd;o.clients=[],o.protectedResources=[],t.forEach(l=>{if(l.selected){if(l.resourceType===Qi.Client){const C=new Nh;C.useExistingSecrets=l.useExistingSecrets,C.useExistingCertificates=l.useExistingCertificates,C.resourceId=l.identifier,C.secrets=l.secrets,l.certificates&&(l.certificates.EncryptionCertificate&&(C.certificates.encryptionCertificate=l.certificates.EncryptionCertificate.base64Cert),l.certificates.SigningCertificates&&(C.certificates.signingCertificates=l.certificates.SigningCertificates.map($=>$.base64Cert))),o.clients.push(C)}l.secrets&&l.secrets.length>0&&(this.canDownloadSecrets=!0)}l.resourceType===Qi.ProtectedResource&&(this.buildAndAddProtectedResourceConfiguration(t,l,o.protectedResources),l.secrets&&l.secrets.length>0&&(this.canDownloadSecrets=!0))}),this.importConfiguration=o,this.completeImport()})}downloadSecrets(){this.importWizardService.downloadClientSecretsFromCache(),this.secretsDownloaded=!0}buildAndAddProtectedResourceConfiguration(t,o,l){o.dependantClients.forEach(C=>{const $=t.find(me=>me.identifier===C.identifier);if($&&$.selected){const me=new Nh;me.useExistingSecrets=o.useExistingSecrets,me.resourceId=o.identifier,me.secrets=o.secrets,l.push(me)}})}completeImport(){const t=this.getFileInStorage();this.clientImportService.completeImport(t,this.importConfiguration).subscribe(()=>{this.isLoading=!1,this.importWizardController.disableCloseButton=!1,this.disableButtons=!1},o=>{this.importWizardService.resetImport.next("CompleteImportFailed")})}getSuccessMessage(){const t=this.importConfiguration.clients.length;let o=this.translate.instant("Clients.Import.Wizard.CompleteImport.ImportSuccess");return 1!==t&&(o=this.translate.instant("Clients.Import.Wizard.CompleteImport.ImportSuccessMultiple"),o=o.replace("{0}",t)),o}getFileInStorage(){return this.storage.getItem("importFile")}canNext(){return!this.isLoading}goNext(){!this.canDownloadSecrets||this.secretsDownloaded?this.quit():this.importWizardController.insertAndOpenStep(Vr.importDownloadWarning)}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(B0),e.rXU(ca),e.rXU(bn.c$))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-complete-import"]],features:[e.Vt3],decls:9,vars:11,consts:[[3,"text",4,"ngIf"],[1,"modal-body"],["class","tw-alert-success",4,"ngIf"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],["class","tw-mr-auto",4,"ngIf"],["id","nextBtn",1,"tw--mr-4",3,"click","ngClass","disabled"],[3,"text"],[1,"tw-alert-success"],[1,"tw-block","tw-font-semibold"],[1,"tw-block","tw-mt-1"],[1,"tw-mr-auto"],["id","downloadBtn",1,"tw-btn-success",3,"click","disabled"]],template:function(o,l){1&o&&(e.DNE(0,L0,2,3,"app-simple-loader",0),e.j41(1,"div",1),e.DNE(2,U0,7,4,"div",2),e.k0s(),e.j41(3,"div",3)(4,"div",4),e.DNE(5,OC,4,4,"div",5),e.j41(6,"button",6),e.bIt("click",function(){return l.goNext()}),e.EFF(7),e.nI1(8,"translate"),e.k0s()()()),2&o&&(e.Y8G("ngIf",l.isLoading),e.R7$(2),e.Y8G("ngIf",!l.isLoading),e.R7$(3),e.Y8G("ngIf",l.canDownloadSecrets),e.R7$(),e.Y8G("ngClass",e.l_i(8,BD,l.canDownloadSecrets,!l.canDownloadSecrets))("disabled",l.disableButtons),e.R7$(),e.SpI(" ",e.bMT(8,6,"Clients.Import.Wizard.CompleteImport.FinishImport")," "))},dependencies:[fn.YU,fn.bT,Ri.d,bn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return r})(),Io=(()=>{class r{static{this.RelyingPartyProperty="RelyingParty"}static{this.RelyingPartyIdentifier="Relying Party"}static{this.ServiceProviderProperty="ServiceProvider"}static{this.ServiceProviderIdentifier="Service Provider"}static{this.ClaimsProperty="Claims"}static{this.PropertiesProperty="Properties"}static{this.ScopesProperty="Scopes"}static{this.UserClaimsProperty="UserClaims"}static{this.sloProperty="SingleLogoutServices"}static{this.acsProperty="AssertionConsumerServices"}static{this.sloIdentifier="Single Logout Services"}static{this.acsIdentifier="Assertion Consumer Services"}static{this.ClaimMappingsIdentifier="Claim Mappings"}static{this.ClaimMappingsKey="ClaimMappings"}static{this.SamlDisplayType="Saml"}static{this.WsFedDisplayType="WsFed"}static{this.Client="Client"}static{this.Endpoint="Endpoint"}static{this.ProtectedResources="ProtectedResources"}static{this.IdentityResources="IdentityResources"}static{this.ClaimTypes="ClaimTypes"}static{this.Secrets="Secrets"}static{this.Certificates="Certificates"}}return r})(),Fh=(()=>{class r{transform(t){if(t){const o=[...t];let l="",C="";for(let $=0;$<o.length;$++){const me=o[$];if(0===l.length)l=me.toUpperCase();else if($+1===o.length)C===C.toUpperCase()||me===me.toLowerCase()?l+=me:l+=`${me}`;else if(me===me.toUpperCase()){const He=C===C.toUpperCase(),at=o[$+1];He?at===at.toLowerCase()?l+=` ${me}`:l+=me:l+=` ${me}`}else l+=me;C=me}t=l}return t}static{this.\u0275fac=function(o){return new(o||r)}}static{this.\u0275pipe=e.EJ8({name:"beautifyPropertyName",type:r,pure:!0})}}return r})();const Cp=["importSummaryConflictsModal"];function V0(r,d){1&r&&e.nrm(0,"span",25)}function Ph(r,d){1&r&&e.nrm(0,"span",26)}function wp(r,d){1&r&&(e.j41(0,"span",36),e.EFF(1,", "),e.k0s())}function FC(r,d){if(1&r&&(e.j41(0,"li",34)(1,"span"),e.EFF(2),e.k0s(),e.DNE(3,wp,2,0,"span",35),e.k0s()),2&r){const t=d.$implicit,o=d.last;e.R7$(2),e.JRh(t.displayName),e.R7$(),e.Y8G("ngIf",!o)}}function j0(r,d){if(1&r&&(e.j41(0,"dl",30)(1,"dt",31),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"dd")(5,"ul",32),e.DNE(6,FC,4,2,"li",33),e.k0s()()()),2&r){const t=e.XpG(3);e.R7$(2),e.SpI(" ",e.bMT(3,2,"Clients.Import.Wizard.Summary.EffectsImportClients"),": "),e.R7$(4),e.Y8G("ngForOf",t.linkedNewClients)}}function $0(r,d){1&r&&(e.j41(0,"span",36),e.EFF(1,", "),e.k0s())}function G0(r,d){if(1&r&&(e.j41(0,"li",34)(1,"a",38),e.EFF(2),e.k0s(),e.DNE(3,$0,2,0,"span",35),e.k0s()),2&r){const t=d.$implicit,o=d.last,l=e.XpG(4);e.R7$(),e.Y8G("href",l.buildHref(t.existingIdentifier),e.B4B),e.R7$(),e.SpI(" ",t.displayName," "),e.R7$(),e.Y8G("ngIf",!o)}}function H0(r,d){if(1&r&&(e.j41(0,"dl",37)(1,"dt",31),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"dd",34)(5,"ul",32),e.DNE(6,G0,4,3,"li",33),e.k0s()()()),2&r){const t=e.XpG(3);e.R7$(2),e.SpI(" ",e.bMT(3,2,"Clients.Import.Wizard.Summary.EffectsExistingClients"),": "),e.R7$(4),e.Y8G("ngForOf",t.linkedExistingClients)}}function PC(r,d){if(1&r&&(e.j41(0,"div",27),e.DNE(1,j0,7,4,"dl",28)(2,H0,7,4,"dl",29),e.k0s()),2&r){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",t.linkedNewClients.length>0),e.R7$(),e.Y8G("ngIf",t.linkedExistingClients.length>0)}}function Bh(r,d){if(1&r){const t=e.RV6();e.j41(0,"div",18)(1,"div",19)(2,"button",20),e.bIt("click",function(){e.eBV(t);const l=e.XpG();return e.Njj(l.toggleDisplayLinkedClientsDropdown())}),e.j41(3,"span"),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"span",21),e.DNE(7,V0,1,0,"span",22)(8,Ph,1,0,"span",23),e.k0s()(),e.DNE(9,PC,3,2,"div",24),e.k0s()()}if(2&r){const t=e.XpG();e.AVh("tw-alert-warning",t.linkedExistingClients.length>0),e.R7$(4),e.JRh(e.bMT(5,6,"Clients.Import.Wizard.Summary.LinkedClients")),e.R7$(3),e.Y8G("ngIf",t.displayLinkedClientsDropdown),e.R7$(),e.Y8G("ngIf",!t.displayLinkedClientsDropdown),e.R7$(),e.Y8G("ngIf",t.displayLinkedClientsDropdown)}}function kc(r,d){if(1&r&&(e.j41(0,"span",47),e.EFF(1),e.k0s()),2&r){const t=e.XpG().$implicit;e.R7$(),e.SpI(" ",t.previous," ")}}function BC(r,d){1&r&&(e.j41(0,"i",48),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.NoValue")," "))}function W0(r,d){if(1&r&&(e.j41(0,"span",49),e.EFF(1),e.k0s()),2&r){const t=e.XpG().$implicit;e.R7$(),e.SpI(" ",t.new," ")}}function z0(r,d){1&r&&(e.j41(0,"i",48),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.Deleted")," "))}function du(r,d){if(1&r){const t=e.RV6();e.j41(0,"tr",43),e.bIt("change",function(){e.eBV(t);const l=e.XpG(2);return e.Njj(l.setupTableHeadings())}),e.j41(1,"td"),e.EFF(2),e.nI1(3,"beautifyPropertyName"),e.k0s(),e.j41(4,"td"),e.DNE(5,kc,2,1,"span",44)(6,BC,3,3,"i",45),e.k0s(),e.j41(7,"td"),e.DNE(8,W0,2,1,"span",46)(9,z0,3,3,"i",45),e.k0s()()}if(2&r){const t=d.$implicit,o=e.XpG(2);e.R7$(2),e.JRh(e.bMT(3,5,t.propertyName)),e.R7$(3),e.Y8G("ngIf",o.hasValue(t.previous)),e.R7$(),e.Y8G("ngIf",!o.hasValue(t.previous)),e.R7$(2),e.Y8G("ngIf",o.hasValue(t.new)),e.R7$(),e.Y8G("ngIf",!o.hasValue(t.new))}}function hu(r,d){if(1&r&&(e.j41(0,"div",39)(1,"table",40)(2,"thead")(3,"tr")(4,"th"),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"th",41),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"th",41),e.EFF(11),e.nI1(12,"translate"),e.k0s()()(),e.j41(13,"tbody"),e.DNE(14,du,10,7,"tr",42),e.k0s()()()),2&r){const t=e.XpG();e.R7$(5),e.JRh(e.bMT(6,4,"Clients.Import.Wizard.Summary.Conflicts.Property")),e.R7$(3),e.JRh(e.bMT(9,6,"Clients.Import.Wizard.Summary.Conflicts.OldValue")),e.R7$(3),e.JRh(e.bMT(12,8,"Clients.Import.Wizard.Summary.Conflicts.NewValue")),e.R7$(3),e.Y8G("ngForOf",null==t.fieldConflicts?null:t.fieldConflicts.conflicts)}}function uo(r,d){if(1&r&&(e.j41(0,"span",47),e.EFF(1),e.k0s()),2&r){const t=e.XpG().$implicit;e.R7$(),e.SpI(" ",t.previous," ")}}function LC(r,d){1&r&&(e.j41(0,"i",48),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.NoValue")," "))}function K0(r,d){if(1&r&&(e.j41(0,"span",49),e.EFF(1),e.k0s()),2&r){const t=e.XpG().$implicit;e.R7$(),e.SpI(" ",t.new," ")}}function Sp(r,d){1&r&&(e.j41(0,"i",48),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.Deleted")," "))}function UC(r,d){if(1&r){const t=e.RV6();e.j41(0,"tr",43),e.bIt("change",function(){e.eBV(t);const l=e.XpG(3);return e.Njj(l.setupTableHeadings())}),e.j41(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.DNE(4,uo,2,1,"span",44)(5,LC,3,3,"i",45),e.k0s(),e.j41(6,"td"),e.DNE(7,K0,2,1,"span",46)(8,Sp,3,3,"i",45),e.k0s()()}if(2&r){const t=d.$implicit,o=e.XpG(3);e.R7$(2),e.JRh(t.propertyName),e.R7$(2),e.Y8G("ngIf",o.hasValue(t.previous)),e.R7$(),e.Y8G("ngIf",!o.hasValue(t.previous)),e.R7$(2),e.Y8G("ngIf",o.hasValue(t.new)),e.R7$(),e.Y8G("ngIf",!o.hasValue(t.new))}}function Y0(r,d){if(1&r&&(e.j41(0,"div",52)(1,"h4",53),e.EFF(2),e.nI1(3,"beautifyPropertyName"),e.k0s(),e.j41(4,"table",40)(5,"thead")(6,"tr")(7,"th"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"th",41),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"th",41),e.EFF(14),e.nI1(15,"translate"),e.k0s()()(),e.j41(16,"tbody"),e.DNE(17,UC,9,5,"tr",42),e.k0s()()()),2&r){const t=d.$implicit;e.R7$(2),e.SpI(" ",e.bMT(3,5,t.identifier)," "),e.R7$(6),e.JRh(e.bMT(9,7,"Clients.Import.Wizard.Summary.Conflicts.Key")),e.R7$(3),e.JRh(e.bMT(12,9,"Clients.Import.Wizard.Summary.Conflicts.OldValue")),e.R7$(3),e.JRh(e.bMT(15,11,"Clients.Import.Wizard.Summary.Conflicts.NewValue")),e.R7$(3),e.Y8G("ngForOf",null==t?null:t.conflicts)}}function Lh(r,d){if(1&r&&(e.j41(0,"div",50),e.DNE(1,Y0,18,13,"div",51),e.k0s()),2&r){const t=e.XpG();e.R7$(),e.Y8G("ngForOf",t.clientKeyValueConflicts)}}function VC(r,d){if(1&r&&(e.j41(0,"span",47),e.EFF(1),e.k0s()),2&r){const t=e.XpG().$implicit;e.R7$(),e.SpI(" ",t.previous," ")}}function X0(r,d){1&r&&(e.j41(0,"i",48),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.NoValue")," "))}function Ep(r,d){if(1&r&&(e.j41(0,"span",49),e.EFF(1),e.k0s()),2&r){const t=e.XpG().$implicit;e.R7$(),e.SpI(" ",t.new," ")}}function Uh(r,d){1&r&&(e.j41(0,"i",48),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.Deleted")," "))}function J0(r,d){if(1&r){const t=e.RV6();e.j41(0,"tr",43),e.bIt("change",function(){e.eBV(t);const l=e.XpG(3);return e.Njj(l.setupTableHeadings())}),e.j41(1,"td"),e.EFF(2),e.nI1(3,"beautifyPropertyName"),e.k0s(),e.j41(4,"td"),e.DNE(5,VC,2,1,"span",44)(6,X0,3,3,"i",45),e.k0s(),e.j41(7,"td"),e.DNE(8,Ep,2,1,"span",46)(9,Uh,3,3,"i",45),e.k0s()()}if(2&r){const t=d.$implicit,o=e.XpG(3);e.R7$(2),e.JRh(e.bMT(3,5,t.propertyName)),e.R7$(3),e.Y8G("ngIf",o.hasValue(t.previous)),e.R7$(),e.Y8G("ngIf",!o.hasValue(t.previous)),e.R7$(2),e.Y8G("ngIf",o.hasValue(t.new)),e.R7$(),e.Y8G("ngIf",!o.hasValue(t.new))}}function jC(r,d){if(1&r&&(e.j41(0,"div",52)(1,"h4",53),e.EFF(2),e.nI1(3,"beautifyPropertyName"),e.k0s(),e.j41(4,"table",40)(5,"thead")(6,"tr")(7,"th"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"th",41),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"th",41),e.EFF(14),e.nI1(15,"translate"),e.k0s()()(),e.j41(16,"tbody"),e.DNE(17,J0,10,7,"tr",42),e.k0s()()()),2&r){const t=d.$implicit;e.R7$(2),e.SpI(" ",e.bMT(3,5,t.identifier)," "),e.R7$(6),e.JRh(e.bMT(9,7,"Clients.Import.Wizard.Summary.Conflicts.Property")),e.R7$(3),e.JRh(e.bMT(12,9,"Clients.Import.Wizard.Summary.Conflicts.OldValue")),e.R7$(3),e.JRh(e.bMT(15,11,"Clients.Import.Wizard.Summary.Conflicts.NewValue")),e.R7$(3),e.Y8G("ngForOf",null==t?null:t.conflicts)}}function $C(r,d){if(1&r&&(e.j41(0,"div",54)(1,"h3",55),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.DNE(4,jC,18,13,"div",51),e.k0s()),2&r){const t=e.XpG();e.R7$(2),e.SpI(" ",e.bMT(3,2,"Clients.Import.Wizard.Summary.Conflicts.ConflictedScopes")," "),e.R7$(2),e.Y8G("ngForOf",t.scopeConflicts)}}function GC(r,d){if(1&r&&(e.j41(0,"td"),e.EFF(1),e.nI1(2,"beautifyPropertyName"),e.k0s()),2&r){const t=e.XpG().$implicit;e.R7$(),e.JRh(e.bMT(2,1,t.propertyName))}}function Q0(r,d){if(1&r&&(e.j41(0,"td"),e.EFF(1),e.k0s()),2&r){const t=e.XpG().$implicit;e.R7$(),e.JRh(t.propertyName)}}function HC(r,d){if(1&r&&(e.j41(0,"dl",60)(1,"dt",61),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"dd",62),e.EFF(5),e.k0s(),e.j41(6,"dt",61),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"dd",62),e.EFF(10),e.k0s(),e.j41(11,"dt",61),e.EFF(12),e.nI1(13,"translate"),e.k0s(),e.j41(14,"dd",47),e.EFF(15),e.k0s()()),2&r){const t=e.XpG(2).$implicit;e.R7$(2),e.SpI("",e.bMT(3,6,"Common.URL"),":"),e.R7$(3),e.JRh(t.previous.location),e.R7$(2),e.SpI("",e.bMT(8,8,"Clients.Saml.BindingType"),":"),e.R7$(3),e.JRh(t.previous.binding),e.R7$(2),e.SpI("",e.bMT(13,10,"Clients.Saml.Index"),":"),e.R7$(3),e.JRh(t.previous.index)}}function Z0(r,d){1&r&&(e.j41(0,"dl")(1,"i",48),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&r&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"Clients.Import.Wizard.Summary.Conflicts.NoValue")," "))}function WC(r,d){if(1&r&&(e.j41(0,"dl",60)(1,"dt",61),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"dd",63),e.EFF(5),e.k0s(),e.j41(6,"dt",61),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"dd",63),e.EFF(10),e.k0s(),e.j41(11,"dt",61),e.EFF(12),e.nI1(13,"translate"),e.k0s(),e.j41(14,"dd",49),e.EFF(15),e.k0s()()),2&r){const t=e.XpG(2).$implicit;e.R7$(2),e.SpI("",e.bMT(3,6,"Common.URL"),":"),e.R7$(3),e.JRh(t.new.location),e.R7$(2),e.SpI("",e.bMT(8,8,"Clients.Saml.BindingType"),":"),e.R7$(3),e.JRh(t.new.binding),e.R7$(2),e.SpI("",e.bMT(13,10,"Clients.Saml.Index"),":"),e.R7$(3),e.JRh(t.new.index)}}function zC(r,d){1&r&&(e.j41(0,"dl")(1,"i",48),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&r&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"Clients.Import.Wizard.Summary.Conflicts.Deleted")," "))}function LD(r,d){if(1&r&&(e.qex(0),e.j41(1,"td"),e.DNE(2,HC,16,12,"dl",59)(3,Z0,4,3,"dl",57),e.k0s(),e.j41(4,"td"),e.DNE(5,WC,16,12,"dl",59)(6,zC,4,3,"dl",57),e.k0s(),e.bVm()),2&r){const t=e.XpG().$implicit,o=e.XpG(3);e.R7$(2),e.Y8G("ngIf",o.hasValue(t.previous)),e.R7$(),e.Y8G("ngIf",!o.hasValue(t.previous)),e.R7$(2),e.Y8G("ngIf",o.hasValue(t.new)),e.R7$(),e.Y8G("ngIf",!o.hasValue(t.new))}}function q0(r,d){if(1&r&&(e.j41(0,"span",47),e.EFF(1),e.k0s()),2&r){const t=e.XpG(2).$implicit;e.R7$(),e.SpI(" ",t.previous," ")}}function e1(r,d){1&r&&(e.j41(0,"i",48),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.NoValue")," "))}function ba(r,d){if(1&r&&(e.j41(0,"span",49),e.EFF(1),e.k0s()),2&r){const t=e.XpG(2).$implicit;e.R7$(),e.SpI(" ",t.new," ")}}function UD(r,d){1&r&&(e.j41(0,"i",48),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.Deleted")," "))}function t1(r,d){if(1&r&&(e.j41(0,"td",64),e.DNE(1,q0,2,1,"span",44)(2,e1,3,3,"i",45),e.k0s(),e.j41(3,"td",64),e.DNE(4,ba,2,1,"span",46)(5,UD,3,3,"i",45),e.k0s()),2&r){const t=e.XpG().$implicit,o=e.XpG(3);e.R7$(),e.Y8G("ngIf",o.hasValue(t.previous)),e.R7$(),e.Y8G("ngIf",!o.hasValue(t.previous)),e.R7$(2),e.Y8G("ngIf",o.hasValue(t.new)),e.R7$(),e.Y8G("ngIf",!o.hasValue(t.new))}}function VD(r,d){if(1&r){const t=e.RV6();e.j41(0,"tr",43),e.bIt("change",function(){e.eBV(t);const l=e.XpG(3);return e.Njj(l.setupTableHeadings())}),e.DNE(1,GC,3,3,"td",57)(2,Q0,2,1,"td",57)(3,LD,7,4,"ng-container",58)(4,t1,6,4,"ng-template",null,0,e.C5r),e.k0s()}if(2&r){const t=e.sdS(5),o=e.XpG().$implicit,l=e.XpG(2);e.R7$(),e.Y8G("ngIf",o.identifier!=l.summaryConflictsConstants.ClaimMappingsKey),e.R7$(),e.Y8G("ngIf",o.identifier==l.summaryConflictsConstants.ClaimMappingsKey),e.R7$(),e.Y8G("ngIf",o.identifier==l.summaryConflictsConstants.sloProperty||o.identifier==l.summaryConflictsConstants.acsProperty)("ngIfElse",t)}}function Tp(r,d){if(1&r&&(e.j41(0,"div",52)(1,"h4",53),e.EFF(2),e.nI1(3,"beautifyPropertyName"),e.k0s(),e.j41(4,"table",40)(5,"thead")(6,"tr")(7,"th"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"th",41),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"th",41),e.EFF(14),e.nI1(15,"translate"),e.k0s()()(),e.j41(16,"tbody"),e.DNE(17,VD,6,4,"tr",42),e.k0s()()()),2&r){const t=d.$implicit;e.R7$(2),e.SpI(" ",e.bMT(3,5,t.identifier)," "),e.R7$(6),e.JRh(e.bMT(9,7,"Clients.Import.Wizard.Summary.Conflicts.Property")),e.R7$(3),e.JRh(e.bMT(12,9,"Clients.Import.Wizard.Summary.Conflicts.OldValue")),e.R7$(3),e.JRh(e.bMT(15,11,"Clients.Import.Wizard.Summary.Conflicts.NewValue")),e.R7$(3),e.Y8G("ngForOf",null==t?null:t.conflicts)}}function jl(r,d){if(1&r&&(e.j41(0,"div",56)(1,"h3",55),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.DNE(4,Tp,18,13,"div",51),e.k0s()),2&r){const t=e.XpG();e.R7$(2),e.SpI(" ",e.bMT(3,2,"Clients.Import.Wizard.Summary.Conflicts.ConflictedServiceProvider")," "),e.R7$(2),e.Y8G("ngForOf",t.serviceProviderConflicts)}}function n1(r,d){if(1&r&&(e.j41(0,"td"),e.EFF(1),e.nI1(2,"beautifyPropertyName"),e.k0s()),2&r){const t=e.XpG().$implicit;e.R7$(),e.JRh(e.bMT(2,1,t.propertyName))}}function Nc(r,d){if(1&r&&(e.j41(0,"td"),e.EFF(1),e.k0s()),2&r){const t=e.XpG().$implicit;e.R7$(),e.JRh(t.propertyName)}}function KC(r,d){if(1&r&&(e.j41(0,"span",47),e.EFF(1),e.k0s()),2&r){const t=e.XpG().$implicit;e.R7$(),e.SpI(" ",t.previous," ")}}function YC(r,d){1&r&&(e.j41(0,"i",48),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.NoValue")," "))}function r1(r,d){if(1&r&&(e.j41(0,"span",49),e.EFF(1),e.k0s()),2&r){const t=e.XpG().$implicit;e.R7$(),e.SpI(" ",t.new," ")}}function jD(r,d){1&r&&(e.j41(0,"i",48),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.Deleted")," "))}function $D(r,d){if(1&r){const t=e.RV6();e.j41(0,"tr",43),e.bIt("change",function(){e.eBV(t);const l=e.XpG(3);return e.Njj(l.setupTableHeadings())}),e.DNE(1,n1,3,3,"td",57)(2,Nc,2,1,"td",57),e.j41(3,"td",64),e.DNE(4,KC,2,1,"span",44)(5,YC,3,3,"i",45),e.k0s(),e.j41(6,"td",64),e.DNE(7,r1,2,1,"span",46)(8,jD,3,3,"i",45),e.k0s()()}if(2&r){const t=d.$implicit,o=e.XpG().$implicit,l=e.XpG(2);e.R7$(),e.Y8G("ngIf",o.identifier!=l.summaryConflictsConstants.ClaimMappingsIdentifier),e.R7$(),e.Y8G("ngIf",o.identifier==l.summaryConflictsConstants.ClaimMappingsIdentifier),e.R7$(2),e.Y8G("ngIf",l.hasValue(t.previous)),e.R7$(),e.Y8G("ngIf",!l.hasValue(t.previous)),e.R7$(2),e.Y8G("ngIf",l.hasValue(t.new)),e.R7$(),e.Y8G("ngIf",!l.hasValue(t.new))}}function GD(r,d){if(1&r&&(e.j41(0,"div",52)(1,"h4",53),e.EFF(2),e.nI1(3,"beautifyPropertyName"),e.k0s(),e.j41(4,"table",40)(5,"thead")(6,"tr")(7,"th"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"th",41),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"th",41),e.EFF(14),e.nI1(15,"translate"),e.k0s()()(),e.j41(16,"tbody"),e.DNE(17,$D,9,6,"tr",42),e.k0s()()()),2&r){const t=d.$implicit;e.R7$(2),e.SpI(" ",e.bMT(3,5,t.identifier)," "),e.R7$(6),e.JRh(e.bMT(9,7,"Clients.Import.Wizard.Summary.Conflicts.Property")),e.R7$(3),e.JRh(e.bMT(12,9,"Clients.Import.Wizard.Summary.Conflicts.OldValue")),e.R7$(3),e.JRh(e.bMT(15,11,"Clients.Import.Wizard.Summary.Conflicts.NewValue")),e.R7$(3),e.Y8G("ngForOf",null==t?null:t.conflicts)}}function HD(r,d){if(1&r&&(e.j41(0,"div",65)(1,"h3",55),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.DNE(4,GD,18,13,"div",51),e.k0s()),2&r){const t=e.XpG();e.R7$(2),e.SpI(" ",e.bMT(3,2,"Clients.Import.Wizard.Summary.Conflicts.ConflictedRelyingParty")," "),e.R7$(2),e.Y8G("ngForOf",t.relyingPartyConflicts)}}let XC=(()=>{class r extends _a{set data(t){const o=JSON.parse(JSON.stringify(t));this.resource=o,this.summaryDisplayType=Ul.getSummaryDisplayType(o.resourceType),this.setupLinkedClients(o),this.resource.resourceType===Qi.ClaimType&&(this.fieldConflicts=this.resource.conflicts.find(l=>l.identifier===Io.ClaimTypes)),this.resource.resourceType===Qi.IdentityResource&&(this.fieldConflicts=this.resource.conflicts.find(l=>l.identifier===Io.IdentityResources)),this.resource.resourceType===Qi.Client&&(this.initClient(),this.resource.displayType===Io.SamlDisplayType?this.initServiceProvider():this.resource.displayType===Io.WsFedDisplayType&&this.initRelyingParty()),this.resource.resourceType===Qi.ProtectedResource&&(this.fieldConflicts=this.resource.conflicts.find(l=>l.identifier===Io.ProtectedResources),this.initScopeConflicts())}constructor(t,o,l){super(),this.importWizardService=t,this.translate=o,this.localizeRouterService=l,this.clientKeyValueConflicts=[],this.scopeConflicts=[],this.serviceProviderConflicts=[],this.relyingPartyConflicts=[],this.summaryConflictsConstants=Io}accept(){this.importWizardController.stepModified=!0,this.summaryDisplayType===Ul.client&&this.importWizardService.selectResource(this.resource),this.back()}decline(){this.importWizardController.stepModified=!0,this.openModal(Vr.summaryConflictsConfirmation,this.resource)}setupLinkedClients(t){null!==t.dependantClients&&0!==t.dependantClients.length?(this.displayLinkedClients=!0,this.linkedNewClients=this.sortDependentClients(t.dependantClients.filter(o=>o.state===ud.Importing)),this.linkedExistingClients=this.sortDependentClients(t.dependantClients.filter(o=>o.state===ud.Existing)),this.displayLinkedClientsDropdown=this.linkedExistingClients.length>0&&this.linkedExistingClients.length<8&&this.linkedNewClients.length<8):this.displayLinkedClients=!1}sortDependentClients(t){return t.sort((o,l)=>o.displayName.localeCompare(l.displayName))}buildHref(t){return this.localizeRouterService.translateRoute(`/clients/${t}`)}toggleDisplayLinkedClientsDropdown(){this.displayLinkedClientsDropdown=!this.displayLinkedClientsDropdown}hasValue(t){return!(null==t||(0,Mi.gP)(t.toString()))}initClient(){const t=this.resource.conflicts.find(C=>C.identifier===Io.Client),o=this.resource.conflicts.find(C=>C.identifier===Io.ClaimsProperty),l=this.resource.conflicts.find(C=>C.identifier===Io.PropertiesProperty);t&&(this.fieldConflicts=t),o&&this.clientKeyValueConflicts.push(o),l&&this.clientKeyValueConflicts.push(l)}initRelyingParty(){const t=this.resource.conflicts.find(l=>l.identifier===Io.RelyingPartyProperty),o=this.resource.conflicts.find(l=>l.identifier===Io.ClaimMappingsKey);t&&this.relyingPartyConflicts.push(t),o&&this.relyingPartyConflicts.push(o)}initServiceProvider(){const t=this.resource.conflicts.find($=>$.identifier===Io.ServiceProviderProperty),o=this.resource.conflicts.find($=>$.identifier===Io.ClaimMappingsKey),l=this.resource.conflicts.find($=>$.identifier===Io.acsProperty),C=this.resource.conflicts.find($=>$.identifier===Io.sloProperty);t&&this.serviceProviderConflicts.push(t),o&&this.serviceProviderConflicts.push(o),l&&this.serviceProviderConflicts.push(l),C&&this.serviceProviderConflicts.push(C)}initScopeConflicts(){const t=this.resource.conflicts.filter(o=>o.identifier!==Io.ProtectedResources);void 0!==t&&(t.forEach(o=>{const l=o.conflicts.find(C=>C.propertyName===Io.UserClaimsProperty);l&&(l.new=l.new.join(", "),l.previous=l.previous.join(", "))}),this.scopeConflicts=t)}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(ca),e.rXU(bn.c$),e.rXU($i.QG))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-import-summary-conflicts"]],viewQuery:function(o,l){if(1&o&&e.GBs(Cp,7),2&o){let C;e.mGM(C=e.lsd())&&(l.importSummaryConflictsModal=C.first)}},features:[e.Vt3],decls:30,vars:22,consts:[["normalConflicts",""],[1,"modal-body"],[1,"tw-mb-4"],[1,"tw-font-semibold","tw-mr-2"],[1,"cms"],["class","tw-alert tw-mb-6",3,"tw-alert-warning",4,"ngIf"],["class","tw-mb-6 last:tw-mb-0",4,"ngIf"],["id","clientKeyValueConflictsSection",4,"ngIf"],["id","scopeConflictsSection",4,"ngIf"],["id","serviceProviderConflictsSection",4,"ngIf"],["id","relyingPartyConflictsSection",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],[1,"tw-btn-success","tw-mr-3",3,"click"],[1,"tw-btn-danger",3,"click"],[1,"tw-btn-link","tw--mr-4",3,"click"],[1,"tw-alert","tw-mb-6"],[1,"tw-w-full"],[1,"tw-flex","tw-items-center","tw-font-semibold","tw-text-left","tw-w-full",3,"click"],["aria-hidden","true",1,"tw-ml-auto"],["class","fas fa-caret-up fa-fw",4,"ngIf"],["class","fas fa-caret-down fa-fw",4,"ngIf"],["class","tw-pt-2 tw-pb-1",4,"ngIf"],[1,"fas","fa-caret-up","fa-fw"],[1,"fas","fa-caret-down","fa-fw"],[1,"tw-pt-2","tw-pb-1"],["class","tw-flex tw-mb-1 last:tw-mb-0",4,"ngIf"],["id","existingClients","class","tw-flex tw-text-red-500",4,"ngIf"],[1,"tw-flex","tw-mb-1","last:tw-mb-0"],[1,"tw-shrink-0","tw-mr-2","tw-font-semibold","tw-w-20"],[1,"tw-flex","tw-flex-wrap"],["class","tw-inline-flex tw-mr-2",4,"ngFor","ngForOf"],[1,"tw-inline-flex","tw-mr-2"],["aria-hidden","true",4,"ngIf"],["aria-hidden","true"],["id","existingClients",1,"tw-flex","tw-text-red-500"],["target","_blank",1,"tw-text-red-500","tw-font-normal","tw-underline","hover:tw-text-red-500","hover:tw-no-underline",3,"href"],[1,"tw-mb-6","last:tw-mb-0"],[1,"datatable"],[1,"md:tw-w-1/3","lg:tw-w-2/5"],[3,"change",4,"ngFor","ngForOf"],[3,"change"],["class","tw-text-red-500",4,"ngIf"],["class","tw-text-grey-600",4,"ngIf"],["class","tw-text-green-500",4,"ngIf"],[1,"tw-text-red-500"],[1,"tw-text-grey-600"],[1,"tw-text-green-500"],["id","clientKeyValueConflictsSection"],["class","tw-mb-5 last:tw-mb-0",4,"ngFor","ngForOf"],[1,"tw-mb-5","last:tw-mb-0"],[1,"tw-font-semibold","tw-text-sm","tw-mb-4","tw-px-3"],["id","scopeConflictsSection"],[1,"tw-border-b","tw-border-grey-200","tw-mb-4","tw-pb-2","tw-font-semibold","md:tw-flex","md:tw-items-center","ng-star-inserted"],["id","serviceProviderConflictsSection"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["class","tw-text-grey-700",4,"ngIf"],[1,"tw-text-grey-700"],[1,"tw-font-normal"],[1,"tw-text-red-500","tw-mb-1"],[1,"tw-text-green-500","tw-mb-1"],[1,"tw-max-w-0","wrap-words"],["id","relyingPartyConflictsSection"]],template:function(o,l){1&o&&(e.j41(0,"div",1)(1,"h2",2)(2,"span",3),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"span"),e.EFF(6),e.k0s()(),e.j41(7,"div",4)(8,"p"),e.EFF(9),e.nI1(10,"translate"),e.k0s()(),e.DNE(11,Bh,10,8,"div",5)(12,hu,15,10,"div",6)(13,Lh,2,1,"div",7)(14,$C,5,4,"div",8)(15,jl,5,4,"div",9)(16,HD,5,4,"div",10),e.k0s(),e.nrm(17,"div",11),e.j41(18,"div",12)(19,"div",13)(20,"div",14)(21,"button",15),e.bIt("click",function(){return l.accept()}),e.EFF(22),e.nI1(23,"translate"),e.k0s(),e.j41(24,"button",16),e.bIt("click",function(){return l.decline()}),e.EFF(25),e.nI1(26,"translate"),e.k0s()(),e.j41(27,"button",17),e.bIt("click",function(){return l.back()}),e.EFF(28),e.nI1(29,"translate"),e.k0s()()()),2&o&&(e.R7$(3),e.SpI("",e.bMT(4,12,"Clients.Import.Wizard.Summary.Identifier."+l.summaryDisplayType),":"),e.R7$(3),e.JRh(null==l.resource?null:l.resource.displayName),e.R7$(3),e.JRh(e.bMT(10,14,"Clients.Import.Wizard.Summary.Conflicts.ConfirmationText."+l.summaryDisplayType)),e.R7$(2),e.Y8G("ngIf",l.displayLinkedClients),e.R7$(),e.Y8G("ngIf",l.fieldConflicts&&l.fieldConflicts.conflicts.length>0),e.R7$(),e.Y8G("ngIf",l.clientKeyValueConflicts.length>0),e.R7$(),e.Y8G("ngIf",l.scopeConflicts.length>0),e.R7$(),e.Y8G("ngIf",l.serviceProviderConflicts.length>0),e.R7$(),e.Y8G("ngIf",l.relyingPartyConflicts.length>0),e.R7$(6),e.JRh(e.bMT(23,16,"Clients.Import.Wizard.Summary.Conflicts.Accept")),e.R7$(3),e.JRh(e.bMT(26,18,"Clients.Import.Wizard.Summary.Conflicts.Decline")),e.R7$(3),e.JRh(e.bMT(29,20,"Clients.Import.Wizard.Summary.Conflicts.Cancel")))},dependencies:[fn.Sq,fn.bT,bn.D9,Fh],encapsulation:2})}}return r})(),QC=(()=>{class r extends _a{set data(t){null!==t&&(this.resetOnClose=t)}constructor(t){super(),this.importWizardService=t,this.isWarningModal=!0,this.resetOnClose=!1}yes(){this.resetOnClose?this.importWizardService.resetImport.next("Resetting Import"):this.quit()}no(){this.back()}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(ca))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-import-close-warning"]],features:[e.Vt3],decls:14,vars:12,consts:[[1,"modal-body","tw-text-center","scrollbars"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","stayBtn",1,"tw-btn-danger",3,"click"],["id","leaveBtn",1,"tw-btn-link","tw--mr-4",3,"click"]],template:function(o,l){1&o&&(e.j41(0,"div",0)(1,"p"),e.EFF(2),e.nI1(3,"translate"),e.nI1(4,"translate"),e.k0s()(),e.j41(5,"div",1)(6,"div",2)(7,"div",3)(8,"button",4),e.bIt("click",function(){return l.no()}),e.EFF(9),e.nI1(10,"translate"),e.k0s()(),e.j41(11,"button",5),e.bIt("click",function(){return l.yes()}),e.EFF(12),e.nI1(13,"translate"),e.k0s()()()),2&o&&(e.R7$(2),e.Lme("",e.bMT(3,4,"Clients.Import.Wizard.Warning.Text1")," ",e.bMT(4,6,"Clients.Import.Wizard.Warning.Text2"),""),e.R7$(7),e.JRh(e.bMT(10,8,"Notifications.StayHere")),e.R7$(3),e.JRh(e.bMT(13,10,"Notifications.DiscardChanges")))},dependencies:[bn.D9],encapsulation:2})}}return r})();function Ip(r,d){1&r&&(e.j41(0,"p"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.Confirmation.Resource")))}let pd=(()=>{class r extends _a{set data(t){this.resource=t,this.summaryDisplayType=Ul.getSummaryDisplayType(t.resourceType)}constructor(t){super(),this.importWizardService=t,this.isWarningModal=!0}yes(){this.importWizardService.deselectResource(this.resource),this.reset()}no(){this.back()}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(ca))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-conflicts-confirmation"]],features:[e.Vt3],decls:14,vars:11,consts:[[1,"modal-body","tw-text-center"],[4,"ngIf"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","leaveBtn",1,"tw-btn-danger","tw--mr-4",3,"click"],["id","stayBtn",1,"tw-btn-link",3,"click"]],template:function(o,l){1&o&&(e.j41(0,"div",0)(1,"p"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.DNE(4,Ip,3,3,"p",1),e.k0s(),e.j41(5,"div",2)(6,"div",3)(7,"div",4)(8,"button",5),e.bIt("click",function(){return l.no()}),e.EFF(9),e.nI1(10,"translate"),e.k0s()(),e.j41(11,"button",6),e.bIt("click",function(){return l.yes()}),e.EFF(12),e.nI1(13,"translate"),e.k0s()()()),2&o&&(e.R7$(2),e.Lme("",e.bMT(3,5,"Clients.Import.Wizard.Summary.Conflicts.Confirmation.AreYouSure")," ",null==l.resource?null:l.resource.displayName,""),e.R7$(2),e.Y8G("ngIf","Client"!==l.summaryDisplayType),e.R7$(5),e.JRh(e.bMT(10,7,"Clients.Import.Wizard.Warning.No")),e.R7$(3),e.JRh(e.bMT(13,9,"Clients.Import.Wizard.Warning.Yes")))},dependencies:[fn.bT,bn.D9],encapsulation:2})}}return r})();const ZC=(r,d,t,o,l)=>({title:r,editable:!0,header1:d,header2:t,header3:o,data:l}),Dp=(r,d,t,o,l,C)=>({title:r,editable:d,header1:t,header2:o,header3:l,data:C}),o1=r=>({"inactive disabled tw-opacity-50 tw-pointer-events-none":r});function jh(r,d){1&r&&e.eu8(0)}function $h(r,d){if(1&r&&(e.j41(0,"div"),e.DNE(1,jh,1,0,"ng-container",12),e.nI1(2,"translate"),e.nI1(3,"translate"),e.nI1(4,"translate"),e.nI1(5,"translate"),e.k0s()),2&r){const t=e.XpG(),o=e.sdS(9);e.R7$(),e.Y8G("ngTemplateOutlet",o)("ngTemplateOutletContext",e.s1E(10,ZC,e.bMT(2,2,"Nav.Clients"),e.bMT(3,4,"Clients.Import.Wizard.Summary.Name.Client"),e.bMT(4,6,"Clients.Import.Wizard.Summary.Identifier.Client"),e.bMT(5,8,"Clients.Import.Wizard.Summary.Type.Client"),t.clients))}}function Ap(r,d){1&r&&e.eu8(0)}function qC(r,d){if(1&r&&(e.j41(0,"div",13),e.DNE(1,Ap,1,0,"ng-container",12),e.nI1(2,"translate"),e.nI1(3,"translate"),e.nI1(4,"translate"),e.nI1(5,"translate"),e.k0s()),2&r){const t=e.XpG(),o=e.sdS(9);e.R7$(),e.Y8G("ngTemplateOutlet",o)("ngTemplateOutletContext",e.l4e(10,Dp,e.bMT(2,2,"Nav.Resources"),t.canEdit(t.resources),e.bMT(3,4,"Clients.Import.Wizard.Summary.Name.Resource"),e.bMT(4,6,"Clients.Import.Wizard.Summary.Identifier.Resource"),e.bMT(5,8,"Clients.Import.Wizard.Summary.Type.Resource"),t.resources))}}function ew(r,d){1&r&&e.eu8(0)}function tw(r,d){if(1&r&&(e.j41(0,"div",13),e.DNE(1,ew,1,0,"ng-container",12),e.nI1(2,"translate"),e.nI1(3,"translate"),e.nI1(4,"translate"),e.nI1(5,"translate"),e.k0s()),2&r){const t=e.XpG(),o=e.sdS(9);e.R7$(),e.Y8G("ngTemplateOutlet",o)("ngTemplateOutletContext",e.l4e(10,Dp,e.bMT(2,2,"Nav.ClaimTypes"),t.canEdit(t.claims),e.bMT(3,4,"Clients.Import.Wizard.Summary.Name.Resource"),e.bMT(4,6,"Clients.Import.Wizard.Summary.Identifier.ClaimType"),e.bMT(5,8,"Clients.Import.Wizard.Summary.Type.ClaimType"),t.claims))}}function a1(r,d){if(1&r&&(e.qex(0),e.j41(1,"td",31),e.nrm(2,"span",32),e.k0s(),e.j41(3,"td")(4,"span",33),e.EFF(5),e.k0s()(),e.bVm()),2&r){const t=e.XpG().$implicit,o=e.XpG(2);e.R7$(5),e.JRh(o.getConflicts(t))}}function nw(r,d){1&r&&e.nrm(0,"span",37)}function iw(r,d){1&r&&e.nrm(0,"span",38)}function ua(r,d){1&r&&e.nrm(0,"span",32)}function Rp(r,d){if(1&r&&(e.qex(0),e.j41(1,"td",31),e.DNE(2,nw,1,0,"span",34)(3,iw,1,0,"span",35)(4,ua,1,0,"span",36),e.k0s(),e.j41(5,"td")(6,"span",33),e.EFF(7),e.k0s()(),e.bVm()),2&r){const t=e.XpG().$implicit,o=e.XpG(2);e.R7$(2),e.Y8G("ngIf",t.resourceState==o.resourceStates.New),e.R7$(),e.Y8G("ngIf",t.resourceState==o.resourceStates.Duplicate),e.R7$(),e.Y8G("ngIf",t.conflictedByDependencies),e.R7$(2),e.AVh("tw-italic",t.resourceState===o.resourceStates.Duplicate),e.R7$(),e.SpI(" ",o.getResourceState(t)," ")}}function l1(r,d){if(1&r&&(e.j41(0,"tr",27)(1,"td",28)(2,"b"),e.EFF(3),e.k0s()(),e.j41(4,"td",29),e.EFF(5),e.k0s(),e.j41(6,"td",30),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.DNE(9,a1,6,1,"ng-container",3)(10,Rp,8,6,"ng-container",3),e.k0s()),2&r){const t=d.$implicit,o=e.XpG(2);e.Y8G("ngClass",e.eq3(9,o1,t.resourceState===o.resourceStates.Duplicate)),e.R7$(),e.Y8G("title",t.displayName),e.R7$(2),e.JRh(t.displayName),e.R7$(2),e.SpI(" ",t.identifier," "),e.R7$(2),e.SpI(" ",e.bMT(8,7,"Clients.Import.Wizard.Summary.ResourceTypes."+t.displayType)," "),e.R7$(2),e.Y8G("ngIf",t.resourceState===o.resourceStates.Conflicted&&!t.conflictedByDependencies),e.R7$(),e.Y8G("ngIf",t.resourceState!==o.resourceStates.Conflicted||t.conflictedByDependencies)}}function Mp(r,d){if(1&r){const t=e.RV6();e.j41(0,"h2",14)(1,"span",15),e.EFF(2),e.k0s(),e.j41(3,"button",16),e.bIt("click",function(){const l=e.eBV(t).data,C=e.XpG();return e.Njj(C.editResourceSummary(l))}),e.nrm(4,"span",17),e.j41(5,"span",18),e.EFF(6),e.nI1(7,"translate"),e.k0s()()(),e.j41(8,"table",19)(9,"thead")(10,"tr")(11,"th",20),e.EFF(12),e.k0s(),e.j41(13,"th",21),e.EFF(14),e.k0s(),e.j41(15,"th",22),e.EFF(16),e.k0s(),e.nrm(17,"td",23),e.j41(18,"th",24)(19,"span",25),e.EFF(20),e.nI1(21,"translate"),e.k0s()()()(),e.j41(22,"tbody"),e.DNE(23,l1,11,11,"tr",26),e.k0s()()}if(2&r){const t=d.title,o=d.editable,l=d.header1,C=d.header2,$=d.header3,me=d.data;e.R7$(2),e.JRh(t),e.R7$(),e.Y8G("disabled",!o),e.R7$(3),e.JRh(e.bMT(7,8,"Common.Edit")),e.R7$(6),e.JRh(l),e.R7$(2),e.JRh(C),e.R7$(2),e.JRh($),e.R7$(4),e.JRh(e.bMT(21,10,"Common.Status")),e.R7$(3),e.Y8G("ngForOf",me)}}let Do=(()=>{class r extends _a{constructor(t,o){super(),this.importWizardService=t,this.translate=o,this.resourceStates=Lo,this.resourceTypes=Qi}ngOnInit(){this.importWizardService.cache.subscribe(t=>{const o=[this.resourceStates.Conflicted,this.resourceStates.New,this.resourceStates.Duplicate],l=t.filter(me=>me.resourceType===Qi.Client&&(me.selected||me.resourceState===Lo.Duplicate)),C=[],$=[];t.forEach(me=>{me.resourceType!==Qi.Client&&l.some(He=>me.dependantClients.some(at=>at.identifier===He.identifier))&&(me.resourceType===Qi.ClaimType?C.push(me):$.push(me))}),this.clients=l.sort((me,He)=>o.indexOf(me.resourceState)-o.indexOf(He.resourceState)),this.claims=C.sort((me,He)=>o.indexOf(me.resourceState)-o.indexOf(He.resourceState)),this.resources=$.sort((me,He)=>o.indexOf(me.resourceState)-o.indexOf(He.resourceState))})}canNext(){return!0}goNext(){this.next()}viewConflicts(t,o){t.stopPropagation(),this.openModal(Vr.summaryConflicts,o)}getResourceState(t){return t.conflictedByDependencies?this.translate.instant("Clients.Import.Wizard.Summary.DependencyConflicts"):this.resourceStates[t.resourceState]}canEdit(t){return t.length>0&&t.some(o=>o.resourceState!==Lo.Duplicate)}editResourceSummary(t){this.importWizardController.goToSummaryStep(t[0].resourceType)}getConflicts(t){let l,o=0;return t.conflicts.forEach(C=>{o+=C.conflicts.length}),l=this.translate.instant(1===o?"Clients.Import.Wizard.Summary.Change":"Clients.Import.Wizard.Summary.Changes"),o+" "+l}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(ca),e.rXU(bn.c$))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-import-summary-all"]],features:[e.Vt3],decls:23,vars:16,consts:[["commonDatatable",""],[1,"modal-body"],[1,"cms"],[4,"ngIf"],["class","tw-mt-8",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],["id","backBtn",1,"tw-btn",3,"click"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"tw-mt-8"],[1,"tw-border-b","tw-border-grey-200","tw-mb-3","tw-pb-1","tw-font-semibold","md:tw-flex","md:tw-items-center"],[1,"tw-block","tw-mb-2","md:tw-mb-0"],[1,"tw-btn","tw-btn-small","tw-btn-link","md:tw-ml-auto",3,"click","disabled"],["aria-hidden","true",1,"fad","fa-pencil"],[1,"tw-ml-2"],[1,"datatable"],[1,"md:tw-w-1/3","lg:tw-w-1/4"],[1,"tw-hidden","sm:tw-table-cell","md:tw-w-1/3"],[1,"tw-hidden","lg:tw-table-cell"],["aria-hidden","true",1,"tw-hidden","tw-w-1","xs:tw-table-cell"],[1,"tw-w-1"],[1,"sr-only"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"tw-truncate","tw-max-w-0",3,"title"],[1,"tw-hidden","tw-truncate","sm:tw-table-cell"],[1,"tw-hidden","tw-truncate","lg:tw-table-cell"],["aria-hidden","true",1,"tw-hidden","tw-text-right","xs:tw-table-cell"],[1,"fas","fa-exclamation-triangle","tw-text-orange-500","tw--mr-3"],[1,"tw-whitespace-nowrap"],["class","fas fa-check tw-text-green-500 tw--mr-3",4,"ngIf"],["class","far fa-copy tw--mr-3",4,"ngIf"],["class","fas fa-exclamation-triangle tw-text-orange-500 tw--mr-3",4,"ngIf"],[1,"fas","fa-check","tw-text-green-500","tw--mr-3"],[1,"far","fa-copy","tw--mr-3"]],template:function(o,l){if(1&o){const C=e.RV6();e.j41(0,"div",1)(1,"div",2)(2,"p"),e.EFF(3),e.nI1(4,"translate"),e.k0s()(),e.DNE(5,$h,6,16,"div",3)(6,qC,6,17,"div",4)(7,tw,6,17,"div",4)(8,Mp,24,12,"ng-template",null,0,e.C5r),e.k0s(),e.nrm(10,"div",5),e.j41(11,"div",6)(12,"div",7)(13,"div",8)(14,"button",9),e.bIt("click",function(){return e.eBV(C),e.Njj(l.goNext())}),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.j41(17,"button",10),e.bIt("click",function(){return e.eBV(C),e.Njj(l.back())}),e.EFF(18),e.nI1(19,"translate"),e.k0s()(),e.j41(20,"button",11),e.bIt("click",function(){return e.eBV(C),e.Njj(l.cancel())}),e.EFF(21),e.nI1(22,"translate"),e.k0s()()()}2&o&&(e.R7$(3),e.JRh(e.bMT(4,8,"Clients.Import.Wizard.Summary.FinalSummary")),e.R7$(2),e.Y8G("ngIf",(null==l.clients?null:l.clients.length)>0),e.R7$(),e.Y8G("ngIf",(null==l.resources?null:l.resources.length)>0),e.R7$(),e.Y8G("ngIf",(null==l.claims?null:l.claims.length)>0),e.R7$(7),e.Y8G("disabled",!l.canNext()),e.R7$(),e.JRh(e.bMT(16,10,"Clients.Import.Import")),e.R7$(3),e.JRh(e.bMT(19,12,"Common.Back")),e.R7$(3),e.JRh(e.bMT(22,14,"Common.Cancel")))},dependencies:[fn.YU,fn.Sq,fn.bT,fn.T3,bn.D9],encapsulation:2})}}return r})();class fu{constructor(){this.description="",this.value="",this.expiration=null,this.created=null,this.type=(new Bt.S9).SharedSecret}}var xp=p(9764);const c1=["secretPicker"];function rw(r,d){if(1&r&&(e.j41(0,"li",11)(1,"label",28),e.nrm(2,"input",29),e.j41(3,"span"),e.EFF(4),e.nI1(5,"translate"),e.k0s()()()),2&r){const t=e.XpG();e.R7$(2),e.Y8G("value",t.SecretsActions.DoNotSet),e.R7$(2),e.JRh(e.bMT(5,2,"Clients.Import.Wizard.Secrets.DoNotSet"))}}function u1(r,d){if(1&r&&(e.j41(0,"li",11)(1,"label",30),e.nrm(2,"input",31),e.j41(3,"span"),e.EFF(4),e.nI1(5,"translate"),e.k0s()()()),2&r){const t=e.XpG();e.R7$(2),e.Y8G("value",t.SecretsActions.UseExistingSecret),e.R7$(2),e.JRh(e.bMT(5,2,"Clients.Import.Wizard.Secrets.UseExistingSecrets"))}}function sw(r,d){if(1&r&&e.nrm(0,"app-secret-picker",32,1),2&r){const t=e.XpG();e.Y8G("clientSecrets",t.possibleSecrets)("nonModelCertPicker",!1)}}function d1(r,d){if(1&r){const t=e.RV6();e.j41(0,"div",33)(1,"ul",34)(2,"li",11)(3,"label",35)(4,"input",36),e.mxI("ngModelChange",function(l){e.eBV(t);const C=e.XpG();return e.DH7(C.data.rememberSecretAction,l)||(C.data.rememberSecretAction=l),e.Njj(l)}),e.k0s(),e.j41(5,"span",37),e.EFF(6),e.nI1(7,"translate"),e.k0s()()()()()}if(2&r){const t=e.XpG();e.R7$(4),e.R50("ngModel",t.data.rememberSecretAction),e.R7$(2),e.SpI(" ",e.bMT(7,2,"Clients.Import.Wizard.Secrets.RememberMyDecision")," ")}}var Qo=function(r){return r[r.DoNotSet=0]="DoNotSet",r[r.Generate=1]="Generate",r[r.ManuallyCreate=2]="ManuallyCreate",r[r.UseExistingSecret=3]="UseExistingSecret",r}(Qo||{});let pu=(()=>{class r extends _a{get data(){return this._selectableImportResource}set data(t){this._selectableImportResource=t}constructor(t,o,l){super(),this.translate=t,this.fb=o,this.changeDetector=l,this.SecretsActions=Qo,this.possibleSecrets=[]}ngOnInit(){if(this.form=this.fb.group({secretAction:["",y.k0.required]}),this.data){const t=this.data.existingHasSecrets?Qo.UseExistingSecret:Qo.DoNotSet;this.form.get("secretAction").setValue(t),this.displayResourceType=this.data.resourceType===Qi.Client?Ul.client:Ul.protectedResource}this.data.secrets&&this.data.secrets.length>0&&(this.data.secretsAction===Qo.ManuallyCreate?(this.possibleSecrets=this.data.secrets,this.form.setValue({secretAction:Qo.ManuallyCreate}),this.showSecretPicker=!0,this.changeDetector.detectChanges(),this.secretPicker.displayWarnings=!1,this.manageSecretStreams()):this.form.setValue({secretAction:Qo.Generate})),this.form.valueChanges.subscribe(()=>{const t=this.form.value.secretAction;this.data.secretsAction=t,t===Qo.ManuallyCreate?(this.showSecretPicker=!0,this.changeDetector.detectChanges(),this.secretPicker.displayWarnings=!1,this.manageSecretStreams()):this.showSecretPicker=!1})}getResourceType(){return this.data?Qi[this.data.resourceType]:""}goNext(){const t=this.form.get("secretAction");if(t.value===Qo.DoNotSet)this.data.secrets=[];else if(t.value===Qo.UseExistingSecret)this.data.useExistingSecrets=!0;else if(t.value===Qo.Generate){const o=new fu;o.value=(0,Mi.Nl)(),o.type="Shared Secret",o.description="",this.data.secrets=[o]}else this.data.secrets=this.possibleSecrets;this.data.secretsAction=this.form.get("secretAction").value,this.next()}manageSecretStreams(){this.secretAddSubscription=this.secretPicker.secretsAddStream.subscribe(t=>{this.possibleSecrets.push(t)}),this.secretDeleteSubscription=this.secretPicker.secretsRemoveStream.subscribe(t=>{this.secretPicker.clientSecrets.splice(this.secretPicker.clientSecrets.indexOf(t),1)})}ngOnDestroy(){this.secretAddSubscription&&(this.secretAddSubscription.unsubscribe(),this.secretDeleteSubscription.unsubscribe())}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(bn.c$),e.rXU(y.ze),e.rXU(e.gRc))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-import-secrets"]],viewQuery:function(o,l){if(1&o&&e.GBs(c1,5),2&o){let C;e.mGM(C=e.lsd())&&(l.secretPicker=C.first)}},features:[e.Vt3],decls:51,vars:38,consts:[["existingHasSecrets",""],["secretPicker",""],[1,"modal-body"],[1,"tw-mb-4"],[1,"tw-font-semibold","tw-mr-2"],["id","displayName"],[1,"cms"],["id","secretActionsLabel"],[3,"formGroup"],["role","group","aria-labelledby","secretActionsLabel",1,"tw-form-checks"],["class","tw-form-checks__item",4,"ngIf","ngIfElse"],[1,"tw-form-checks__item"],["for","generate",1,"tw-form-checks__label"],["id","generate","formControlName","secretAction","type","radio",1,"tw-form-checks__input",3,"value"],["for","manually-create",1,"tw-form-checks__label"],["id","manually-create","formControlName","secretAction","type","radio",1,"tw-form-checks__input",3,"value"],[1,"tw-text-center","tw-mb-8"],[1,"tw-pill","tw-mx-auto"],[1,"tw-font-bold"],[3,"clientSecrets","nonModelCertPicker",4,"ngIf"],["class","tw-border-t tw-border-grey-200 tw-px-4 tw-pt-4 tw--mx-5 tw-mt-4",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"click"],["id","backBtn",1,"tw-btn",3,"click"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],["for","do-not-set",1,"tw-form-checks__label"],["id","do-not-set","formControlName","secretAction","type","radio",1,"tw-form-checks__input",3,"value"],["for","existing-secrets",1,"tw-form-checks__label"],["id","existing-secrets","formControlName","secretAction","type","radio",1,"tw-form-checks__input",3,"value"],[3,"clientSecrets","nonModelCertPicker"],[1,"tw-border-t","tw-border-grey-200","tw-px-4","tw-pt-4","tw--mx-5","tw-mt-4"],[1,"tw-form-checks"],["for","remember-my-decision",1,"tw-form-checks__label"],["id","remember-my-decision","type","checkbox",1,"tw-form-checks__input",3,"ngModelChange","ngModel"],[1,"tw-font-normal"]],template:function(o,l){if(1&o){const C=e.RV6();e.j41(0,"div",2)(1,"h2",3)(2,"span",4),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"span",5),e.EFF(6),e.nI1(7,"translate"),e.k0s()(),e.j41(8,"div",6)(9,"p",7),e.EFF(10),e.nI1(11,"translate"),e.k0s()(),e.j41(12,"form",8)(13,"ul",9),e.DNE(14,rw,6,4,"li",10)(15,u1,6,4,"ng-template",null,0,e.C5r),e.j41(17,"li",11)(18,"label",12),e.nrm(19,"input",13),e.j41(20,"span"),e.EFF(21),e.nI1(22,"translate"),e.k0s()()(),e.j41(23,"li",11)(24,"label",14),e.nrm(25,"input",15),e.j41(26,"span"),e.EFF(27),e.nI1(28,"translate"),e.k0s()()()()(),e.j41(29,"div",16)(30,"p",17)(31,"b",18),e.EFF(32),e.nI1(33,"translate"),e.k0s(),e.EFF(34),e.nI1(35,"translate"),e.k0s()(),e.DNE(36,sw,2,2,"app-secret-picker",19)(37,d1,8,4,"div",20),e.k0s(),e.nrm(38,"div",21),e.j41(39,"div",22)(40,"div",23)(41,"div",24)(42,"button",25),e.bIt("click",function(){return e.eBV(C),e.Njj(l.goNext())}),e.EFF(43),e.nI1(44,"translate"),e.k0s(),e.j41(45,"button",26),e.bIt("click",function(){return e.eBV(C),e.Njj(l.back())}),e.EFF(46),e.nI1(47,"translate"),e.k0s()(),e.j41(48,"button",27),e.bIt("click",function(){return e.eBV(C),e.Njj(l.cancel())}),e.EFF(49),e.nI1(50,"translate"),e.k0s()()()}if(2&o){const C=e.sdS(16);e.R7$(3),e.SpI("",e.bMT(4,18,"Clients.Import.Wizard.Secrets.Title"),":"),e.R7$(3),e.Lme("",null==l.data?null:l.data.displayName," (",e.bMT(7,20,"Clients.Import.Wizard.Secrets."+l.displayResourceType),")"),e.R7$(4),e.JRh(e.bMT(11,22,"Clients.Import.Wizard.Secrets.ChooseWhatToDo")),e.R7$(2),e.Y8G("formGroup",l.form),e.R7$(2),e.Y8G("ngIf",!(null!=l.data&&l.data.existingHasSecrets))("ngIfElse",C),e.R7$(5),e.Y8G("value",l.SecretsActions.Generate),e.R7$(2),e.JRh(e.bMT(22,24,"Clients.Import.Wizard.Secrets.Generate")),e.R7$(4),e.Y8G("value",l.SecretsActions.ManuallyCreate),e.R7$(2),e.JRh(e.bMT(28,26,"Clients.Import.Wizard.Secrets.ManuallyCreate")),e.R7$(5),e.SpI("",e.bMT(33,28,"Clients.Import.Wizard.Secrets.Note.Title"),":"),e.R7$(2),e.SpI(" ",e.bMT(35,30,"Clients.Import.Wizard.Secrets.Note.Note")," "),e.R7$(2),e.Y8G("ngIf",l.showSecretPicker),e.R7$(),e.Y8G("ngIf",!l.showSecretPicker),e.R7$(6),e.JRh(e.bMT(44,32,"Common.Next")),e.R7$(3),e.JRh(e.bMT(47,34,"Common.Back")),e.R7$(3),e.JRh(e.bMT(50,36,"Common.Cancel"))}},dependencies:[fn.bT,y.qT,y.me,y.Zm,y.Fm,y.BC,y.cb,y.vS,y.j4,y.JD,xp.s,bn.D9],encapsulation:2})}}return r})(),h1=(()=>{class r extends _a{constructor(t){super(),this.importWizardService=t,this.hideProgressBar=!0}downloadAndQuit(){this.importWizardService.downloadClientSecretsFromCache().subscribe(()=>{this.quit()})}yes(){this.quit()}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(ca))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-import-download-warning"]],features:[e.Vt3],decls:17,vars:15,consts:[[1,"modal-body","tw-text-center"],[1,"tw-mb-4"],[1,"tw-pill-danger"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","leaveBtn",1,"tw-btn-success",3,"click"],["id","stayBtn",1,"tw-btn-link","tw--mr-4",3,"click"]],template:function(o,l){1&o&&(e.j41(0,"div",0)(1,"p",1),e.EFF(2),e.nI1(3,"translate"),e.nI1(4,"translate"),e.k0s(),e.j41(5,"p",2),e.EFF(6),e.nI1(7,"translate"),e.k0s()(),e.j41(8,"div",3)(9,"div",4)(10,"div",5)(11,"button",6),e.bIt("click",function(){return l.downloadAndQuit()}),e.EFF(12),e.nI1(13,"translate"),e.k0s()(),e.j41(14,"button",7),e.bIt("click",function(){return l.yes()}),e.EFF(15),e.nI1(16,"translate"),e.k0s()()()),2&o&&(e.R7$(2),e.Lme(" ",e.bMT(3,5,"Clients.Import.Wizard.Warning.DownloadSecrets")," ",e.bMT(4,7,"Clients.Import.Wizard.Warning.Text2")," "),e.R7$(4),e.JRh(e.bMT(7,9,"Secret Picker.LastWarning")),e.R7$(6),e.JRh(e.bMT(13,11,"Clients.Import.Wizard.CompleteImport.DownloadSecrets")),e.R7$(3),e.JRh(e.bMT(16,13,"Clients.Import.Wizard.CompleteImport.FinishImport")))},dependencies:[bn.D9],encapsulation:2})}}return r})();function ow(r,d){if(1&r&&(e.j41(0,"li",10)(1,"label",22),e.nrm(2,"input",23),e.j41(3,"span"),e.EFF(4),e.nI1(5,"translate"),e.k0s()()()),2&r){const t=e.XpG();e.R7$(2),e.Y8G("value",t.CertificateAction.DoNotSet),e.R7$(2),e.JRh(e.bMT(5,2,"Clients.Import.Wizard.Certificates.DoNotSet"))}}function aw(r,d){if(1&r&&(e.j41(0,"li",10)(1,"label",24),e.nrm(2,"input",25),e.j41(3,"span"),e.EFF(4),e.nI1(5,"translate"),e.k0s()()()),2&r){const t=e.XpG();e.R7$(2),e.Y8G("value",t.CertificateAction.UseExisting),e.R7$(2),e.JRh(e.bMT(5,2,"Clients.Import.Wizard.Certificates.UseExistingCertificates"))}}function lw(r,d){if(1&r){const t=e.RV6();e.j41(0,"tr")(1,"td",39),e.EFF(2),e.k0s(),e.j41(3,"td")(4,"button",40),e.bIt("click",function(){const l=e.eBV(t).$implicit,C=e.XpG(5);return e.Njj(C.deleteCert(l))}),e.EFF(5),e.nrm(6,"span",41),e.j41(7,"span",37),e.EFF(8),e.nI1(9,"translate"),e.k0s()()()()}if(2&r){const t=d.$implicit,o=e.XpG(5);e.R7$(2),e.SpI(" ",null==t?null:t.subject," "),e.R7$(3),e.SpI(" ",o.deleteDisabled," "),e.R7$(3),e.JRh(e.bMT(9,3,"Clients.Saml.DeleteCert"))}}function f1(r,d){if(1&r&&(e.qex(0),e.DNE(1,lw,10,5,"tr",38),e.bVm()),2&r){const t=e.XpG(4);e.R7$(),e.Y8G("ngForOf",t.data.certificates.SigningCertificates)}}function p1(r,d){if(1&r){const t=e.RV6();e.qex(0),e.j41(1,"tr")(2,"td",39),e.EFF(3),e.k0s(),e.j41(4,"td")(5,"button",40),e.bIt("click",function(){e.eBV(t);const l=e.XpG(4);return e.Njj(l.deleteCert(null))}),e.EFF(6),e.nrm(7,"span",41),e.j41(8,"span",37),e.EFF(9),e.nI1(10,"translate"),e.k0s()()()(),e.bVm()}if(2&r){const t=e.XpG(4);e.R7$(3),e.SpI(" ",t.data.certificates.EncryptionCertificate.subject," "),e.R7$(3),e.SpI(" ",t.deleteDisabled," "),e.R7$(3),e.JRh(e.bMT(10,3,"Clients.Saml.DeleteCert"))}}function m1(r,d){if(1&r&&(e.j41(0,"table",34)(1,"thead")(2,"tr")(3,"th",35),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"th",36)(7,"span",37),e.EFF(8),e.nI1(9,"translate"),e.k0s()()()(),e.j41(10,"tbody"),e.DNE(11,f1,2,1,"ng-container",13)(12,p1,11,5,"ng-container",13),e.k0s()()),2&r){const t=e.XpG(3);e.R7$(4),e.JRh(e.bMT(5,4,"Common.Subject")),e.R7$(4),e.JRh(e.bMT(9,6,"Common.Actions")),e.R7$(3),e.Y8G("ngIf",t.activeTab===t.ActiveTab.Request),e.R7$(),e.Y8G("ngIf",t.activeTab===t.ActiveTab.Response)}}function Gh(r,d){if(1&r&&(e.j41(0,"div"),e.DNE(1,m1,13,8,"table",33),e.k0s()),2&r){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",t.activeTab==t.ActiveTab.Request?t.data.certificates.SigningCertificates.length>0:t.data.certificates.EncryptionCertificate)}}function g1(r,d){1&r&&(e.j41(0,"div",42)(1,"div"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&r&&(e.R7$(2),e.JRh(e.bMT(3,1,"Clients.NoCertificates")))}function v1(r,d){if(1&r){const t=e.RV6();e.j41(0,"button",43),e.bIt("click",function(){e.eBV(t);const l=e.XpG(3);return e.Njj(l.addCert())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&r&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.Saml.AddCert")))}function y1(r,d){if(1&r){const t=e.RV6();e.j41(0,"button",43),e.bIt("click",function(){e.eBV(t);const l=e.XpG(3);return e.Njj(l.addCert())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&r&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.Saml.ReplaceCertificate")))}function _1(r,d){if(1&r&&(e.qex(0),e.DNE(1,v1,3,3,"button",32)(2,y1,3,3,"button",32),e.bVm()),2&r){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",!t.data.certificates.EncryptionCertificate||""===t.data.certificates.EncryptionCertificate),e.R7$(),e.Y8G("ngIf",t.data.certificates.EncryptionCertificate&&""!==t.data.certificates.EncryptionCertificate)}}function cw(r,d){if(1&r){const t=e.RV6();e.j41(0,"button",43),e.bIt("click",function(){e.eBV(t);const l=e.XpG(2);return e.Njj(l.addCert())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&r&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.Saml.AddCert")))}function uw(r,d){if(1&r){const t=e.RV6();e.j41(0,"div")(1,"ul",26)(2,"li",27)(3,"button",28),e.bIt("click",function(){e.eBV(t);const l=e.XpG();return e.Njj(l.activeTab=l.ActiveTab.Request)}),e.EFF(4),e.nI1(5,"translate"),e.k0s()(),e.j41(6,"li",27)(7,"button",29),e.bIt("click",function(){e.eBV(t);const l=e.XpG();return e.Njj(l.activeTab=l.ActiveTab.Response)}),e.EFF(8),e.nI1(9,"translate"),e.k0s()()(),e.DNE(10,Gh,2,1,"div",13)(11,g1,4,3,"div",30),e.j41(12,"div",31),e.DNE(13,_1,3,2,"ng-container",13)(14,cw,3,3,"button",32),e.k0s()()}if(2&r){const t=e.XpG();e.R7$(3),e.AVh("active",t.activeTab===t.ActiveTab.Request),e.R7$(),e.JRh(e.bMT(5,10,"Clients.Saml.Request")),e.R7$(3),e.AVh("active",t.activeTab===t.ActiveTab.Response),e.R7$(),e.JRh(e.bMT(9,12,"Clients.Saml.Response")),e.R7$(2),e.Y8G("ngIf",t.data.certificates),e.R7$(),e.Y8G("ngIf",t.activeTab==t.ActiveTab.Request&&0===t.data.certificates.SigningCertificates.length||t.activeTab==t.ActiveTab.Response&&!t.data.certificates.EncryptionCertificate),e.R7$(2),e.Y8G("ngIf",t.activeTab===t.ActiveTab.Response),e.R7$(),e.Y8G("ngIf",t.activeTab===t.ActiveTab.Request)}}function dw(r,d){if(1&r){const t=e.RV6();e.j41(0,"div",44)(1,"ul",45)(2,"li",10)(3,"label",46)(4,"input",47),e.mxI("ngModelChange",function(l){e.eBV(t);const C=e.XpG();return e.DH7(C.data.rememberCertificateAction,l)||(C.data.rememberCertificateAction=l),e.Njj(l)}),e.k0s(),e.j41(5,"span",48),e.EFF(6),e.nI1(7,"translate"),e.k0s()()()()()}if(2&r){const t=e.XpG();e.R7$(4),e.R50("ngModel",t.data.rememberCertificateAction),e.R7$(2),e.SpI(" ",e.bMT(7,2,"Clients.Import.Wizard.Certificates.RememberMyDecision")," ")}}var Ao=function(r){return r[r.DoNotSet=0]="DoNotSet",r[r.UseExisting=1]="UseExisting",r[r.ManuallyCreate=2]="ManuallyCreate",r}(Ao||{}),Gl=function(r){return r[r.Request=0]="Request",r[r.Response=1]="Response",r}(Gl||{});let md=(()=>{class r extends _a{get data(){return this._selectableImportResource}set data(t){this._selectableImportResource=t}constructor(t,o,l,C){super(),this.fb=t,this.changeDetector=o,this.toastr=l,this.translate=C,this.CertificateAction=Ao,this.ActiveTab=Gl}ngOnInit(){if(this.form=this.fb.group({certificateAction:[Ao.UseExisting,y.k0.required]}),this.data){let o;o=this.data.existingHasCertificates?this.data.certificateAction===Ao.ManuallyCreate?Ao.ManuallyCreate:Ao.UseExisting:Ao.DoNotSet,this.data.certificateAction=o,this.form.get("certificateAction").setValue(o),this.displayResourceType=Ul.getSummaryDisplayType(this.data.resourceType)}this.data.certificateAction===Ao.ManuallyCreate&&(this.showCertificatePicker=!0,this.changeDetector.detectChanges(),this.data.certificates&&(this.activeTab=Gl.Request,this.data.certificates.SigningCertificates&&this.data.certificates.SigningCertificates.length>0?this.activeTab=Gl.Request:this.data.certificates.EncryptionCertificate&&(this.activeTab=Gl.Response))),this.form.valueChanges.subscribe(()=>{const t=this.form.value.certificateAction;this.data.certificateAction=t,t===Ao.ManuallyCreate?(this.showCertificatePicker=!0,this.activeTab=Gl.Request,this.changeDetector.detectChanges()):this.showCertificatePicker=!1}),this.updatedCertificatesObservable&&this.updatedCertificatesObservable.unsubscribe()}addCert(){this.updatedCertificatesObservable&&(this.updatedCertificatesObservable.unsubscribe(),this.updatedCertificatesObservable=null),this.updatedCertificateSubject=new xr.B,this.updatedCertificatesObservable=this.updatedCertificateSubject.subscribe(t=>{this.activeTab===Gl.Request?(this.stripContentTypeFromData(t),this.data.certificates.SigningCertificates.some(o=>o.base64Cert===t.base64Cert)?this.toastr.error(this.translate.instant("Clients.Import.Wizard.Certificates.DuplicateCertificate"),this.translate.instant("Clients.Import.Wizard.Certificates.InvalidCertificate")):this.data.certificates.SigningCertificates.push(t)):(this.stripContentTypeFromData(t),this.data.certificates.EncryptionCertificate=t)}),this.openModal(Vr.importUploadCertificate,this.updatedCertificatesObservable)}stripContentTypeFromData(t){const o=t.base64Cert.split("base64,");o.length>1&&(t.base64Cert=o[1])}deleteCert(t){if(this.activeTab===Gl.Request){const o=this.data.certificates.SigningCertificates.indexOf(t);this.data.certificates.SigningCertificates.splice(o,1)}else this.data.certificates.EncryptionCertificate=null}goNext(){this.data.certificateAction===Ao.ManuallyCreate&&(!this.data.certificates||!(this.data.certificates.SigningCertificates.length>0||this.data.certificates.EncryptionCertificate&&this.data.certificates.EncryptionCertificate.base64Cert))||(this.data.certificateAction===Ao.DoNotSet?(this.data.certificates.SigningCertificates=[],this.data.certificates.EncryptionCertificate=null):this.data.certificateAction===Ao.UseExisting&&(this.data.useExistingCertificates=!0),this.next())}disableNext(){return!(this.data.certificateAction===Ao.DoNotSet||this.data.certificateAction===Ao.UseExisting||null!==this.data.certificates&&(null!==this.data.certificates.SigningCertificates&&0!==this.data.certificates.SigningCertificates.length||this.data.certificates.EncryptionCertificate&&""!==this.data.certificates.EncryptionCertificate.base64Cert))}ngOnDestroy(){this.updatedCertificatesObservable&&this.updatedCertificatesObservable.unsubscribe()}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(y.ze),e.rXU(e.gRc),e.rXU(Zn.tw),e.rXU(bn.c$))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-import-certificates"]],features:[e.Vt3],decls:38,vars:29,consts:[["existingHasCertificates",""],[1,"modal-body"],[1,"tw-mb-4"],[1,"tw-font-semibold","tw-mr-2"],["id","displayName"],[1,"cms"],["id","certActionsLabel"],[3,"formGroup"],["role","group","aria-labelledby","certActionsLabel",1,"tw-form-checks"],["class","tw-form-checks__item",4,"ngIf","ngIfElse"],[1,"tw-form-checks__item"],["for","manually-create",1,"tw-form-checks__label"],["id","manually-create","formControlName","certificateAction","type","radio",1,"tw-form-checks__input",3,"value"],[4,"ngIf"],["class","tw-border-t tw-border-grey-200 tw-px-4 tw-pt-4 tw--mx-5 tw-mt-4",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],["id","backBtn",1,"tw-btn",3,"click"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],["for","do-not-set",1,"tw-form-checks__label"],["id","do-not-set","formControlName","certificateAction","type","radio",1,"tw-form-checks__input",3,"value"],["for","existing-certificate",1,"tw-form-checks__label"],["id","existing-certificate","formControlName","certificateAction","type","radio",1,"tw-form-checks__input",3,"value"],[1,"pill-tabs"],[1,"pill-tabs__item"],["id","requestSpan",1,"pill-tabs__link",3,"click"],["id","responseSpan",1,"pill-tabs__link",3,"click"],["id","noCertsAlert","class","tw-alert tw-mb-4","role","alert",4,"ngIf"],[1,"tw-flex","tw-justify-end"],["id","addButton","class","tw-btn-success",3,"click",4,"ngIf"],["id","certificateTable","class","datatable hover tw-mb-4",4,"ngIf"],["id","certificateTable",1,"datatable","hover","tw-mb-4"],[1,""],[1,"tw-w-1"],[1,"sr-only"],[4,"ngFor","ngForOf"],[1,"tw-max-w-0","tw-truncate"],["type","button",1,"tw-btn-link","tw-btn-small","tw-text-red-500",3,"click"],["aria-hidden","true",1,"fas","fa-times"],["id","noCertsAlert","role","alert",1,"tw-alert","tw-mb-4"],["id","addButton",1,"tw-btn-success",3,"click"],[1,"tw-border-t","tw-border-grey-200","tw-px-4","tw-pt-4","tw--mx-5","tw-mt-4"],[1,"tw-form-checks"],["for","remember-my-decision",1,"tw-form-checks__label"],["id","remember-my-decision","type","checkbox",1,"tw-form-checks__input",3,"ngModelChange","ngModel"],[1,"tw-font-normal"]],template:function(o,l){if(1&o){const C=e.RV6();e.j41(0,"div",1)(1,"h2",2)(2,"span",3),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"span",4),e.EFF(6),e.nI1(7,"translate"),e.k0s()(),e.j41(8,"div",5)(9,"p",6),e.EFF(10),e.nI1(11,"translate"),e.k0s()(),e.j41(12,"form",7)(13,"ul",8),e.DNE(14,ow,6,4,"li",9)(15,aw,6,4,"ng-template",null,0,e.C5r),e.j41(17,"li",10)(18,"label",11),e.nrm(19,"input",12),e.j41(20,"span"),e.EFF(21),e.nI1(22,"translate"),e.k0s()()()()(),e.DNE(23,uw,15,14,"div",13)(24,dw,8,4,"div",14),e.k0s(),e.nrm(25,"div",15),e.j41(26,"div",16)(27,"div",17)(28,"div",18)(29,"button",19),e.bIt("click",function(){return e.eBV(C),e.Njj(l.goNext())}),e.EFF(30),e.nI1(31,"translate"),e.k0s(),e.j41(32,"button",20),e.bIt("click",function(){return e.eBV(C),e.Njj(l.back())}),e.EFF(33),e.nI1(34,"translate"),e.k0s()(),e.j41(35,"button",21),e.bIt("click",function(){return e.eBV(C),e.Njj(l.cancel())}),e.EFF(36),e.nI1(37,"translate"),e.k0s()()()}if(2&o){const C=e.sdS(16);e.R7$(3),e.SpI("",e.bMT(4,15,"Clients.Import.Wizard.Certificates.Title"),":"),e.R7$(3),e.Lme("",null==l.data?null:l.data.displayName," (",e.bMT(7,17,"Clients.Import.Wizard.Secrets."+l.displayResourceType),")"),e.R7$(4),e.JRh(e.bMT(11,19,"Clients.Import.Wizard.Certificates.ChooseWhatToDo")),e.R7$(2),e.Y8G("formGroup",l.form),e.R7$(2),e.Y8G("ngIf",!(null!=l.data&&l.data.existingHasCertificates))("ngIfElse",C),e.R7$(5),e.Y8G("value",l.CertificateAction.ManuallyCreate),e.R7$(2),e.JRh(e.bMT(22,21,"Clients.Import.Wizard.Certificates.UploadNewCertificates")),e.R7$(2),e.Y8G("ngIf",l.showCertificatePicker),e.R7$(),e.Y8G("ngIf",!l.showCertificatePicker),e.R7$(5),e.Y8G("disabled",l.disableNext()),e.R7$(),e.JRh(e.bMT(31,23,"Common.Next")),e.R7$(3),e.JRh(e.bMT(34,25,"Common.Back")),e.R7$(3),e.JRh(e.bMT(37,27,"Common.Cancel"))}},dependencies:[fn.Sq,fn.bT,y.qT,y.me,y.Zm,y.Fm,y.BC,y.cb,y.vS,y.j4,y.JD,bn.D9],encapsulation:2})}}return r})();var b1=p(467),hw=p(5404);const fw=["certReader"],KD=["nextButton"];let pw=(()=>{class r extends _a{get data(){return this._subject}set data(t){this._subject=t}constructor(t){super(),this.translate=t}certificateDataLoaded(t){this.nextButton.nativeElement.disabled=!t}goNext(){var t=this;return(0,b1.A)(function*(){const o=yield t.certReaderComponent.getCertificateModel();t.data.next(o),t.importWizardController.goToPreviousStep()})()}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(bn.c$))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-import-certificate-picker"]],viewQuery:function(o,l){if(1&o&&(e.GBs(fw,5),e.GBs(KD,5)),2&o){let C;e.mGM(C=e.lsd())&&(l.certReaderComponent=C.first),e.mGM(C=e.lsd())&&(l.nextButton=C.first)}},features:[e.Vt3],decls:21,vars:21,consts:[["certReader",""],["nextButton",""],[1,"modal-body"],[3,"dataExists","uploadCert","uploadCertHelp","certMetaData","certMetaDataHelp"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","nextBtn","disabled","",1,"tw-btn-success","tw-mr-3",3,"click"],["id","backBtn",1,"tw-btn",3,"click"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"]],template:function(o,l){if(1&o){const C=e.RV6();e.j41(0,"div",2)(1,"app-cert-reader",3,0),e.nI1(3,"translate"),e.nI1(4,"translate"),e.nI1(5,"translate"),e.nI1(6,"translate"),e.bIt("dataExists",function(me){return e.eBV(C),e.Njj(l.certificateDataLoaded(me))}),e.k0s()(),e.nrm(7,"div",4),e.j41(8,"div",5)(9,"div",6)(10,"div",7)(11,"button",8,1),e.bIt("click",function(){return e.eBV(C),e.Njj(l.goNext())}),e.EFF(13),e.nI1(14,"translate"),e.k0s(),e.j41(15,"button",9),e.bIt("click",function(){return e.eBV(C),e.Njj(l.back())}),e.EFF(16),e.nI1(17,"translate"),e.k0s()(),e.j41(18,"button",10),e.bIt("click",function(){return e.eBV(C),e.Njj(l.cancel())}),e.EFF(19),e.nI1(20,"translate"),e.k0s()()()}2&o&&(e.R7$(),e.Y8G("uploadCert",e.bMT(3,7,"Clients.Saml.UploadCert"))("uploadCertHelp",e.bMT(4,9,"Clients.Saml.UploadCertHelp"))("certMetaData",e.bMT(5,11,"Clients.Saml.ServiceProviderSigningCert"))("certMetaDataHelp",e.bMT(6,13,"Clients.Saml.ServiceProviderSigningCertHelp")),e.R7$(12),e.SpI(" ",e.bMT(14,15,"Common.Add")," "),e.R7$(3),e.SpI(" ",e.bMT(17,17,"Common.Back")," "),e.R7$(3),e.SpI(" ",e.bMT(20,19,"Common.Cancel")," "))},dependencies:[hw.V,bn.D9],encapsulation:2})}}return r})(),kp=(()=>{class r{constructor(){this.stepMap=new Map,this.stepMap.set(Vr.clientSummary,new da(Vl,"Clients.Import.Wizard.Summary.Title.Client",[Qi.Client])),this.stepMap.set(Vr.resourcesSummary,new da(Vl,"Clients.Import.Wizard.Summary.Title.Resource",[Qi.IdentityResource,Qi.ProtectedResource])),this.stepMap.set(Vr.claimTypeSummary,new da(Vl,"Clients.Import.Wizard.Summary.Title.ClaimType",[Qi.ClaimType])),this.stepMap.set(Vr.summaryConflicts,new da(XC,"Clients.Import.Wizard.Summary.Conflicts.ReviewChanges",null,!0)),this.stepMap.set(Vr.importComplete,new da(rl,"Clients.Import.Wizard.CompleteImport.ImportComplete")),this.stepMap.set(Vr.importCloseWarning,new da(QC,"Clients.Import.Wizard.Warning.Title",null,!0)),this.stepMap.set(Vr.summaryConflictsConfirmation,new da(pd,"Clients.Import.Wizard.Warning.Title",null,!0)),this.stepMap.set(Vr.finalSummary,new da(Do,"Clients.Import.Wizard.Summary.Title.Final")),this.stepMap.set(Vr.importDownloadWarning,new da(h1,"Clients.Import.Wizard.CompleteImport.DownloadSecrets")),this.stepMap.set(Vr.importUploadCertificate,new da(pw,"Clients.Import.Wizard.Certificates.AddCertificate",null,!0))}getStep(t){return this.stepMap.get(t)}getSecretStep(t){return new da(pu,"Clients.Import.Wizard.Secrets.Title",t)}getCertificateStep(t){return new da(md,"Clients.Import.Wizard.Certificates.Title",t)}static{this.\u0275fac=function(o){return new(o||r)}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac})}}return r})();class da{constructor(d,t,o,l=!1){this.component=d,this.stepTitle=t,this.data=o,this.isDeadEnd=l}}class Np{constructor(){this.SigningCertificates=[]}}let Hl=(()=>{class r{constructor(t,o){this.importWizardProvider=t,this.importWizardService=o,this.stepModified=!0,this.disableCloseButton=!1,this.stepsAhead=new Array,this.stepsCompleted=new Array,this.move=new xr.B}setupInitialStep(){const t=this.importWizardProvider.getStep(Vr.clientSummary);this.stepsAhead.push(t)}goToNextStep(){const t=this.stepsAhead.pop();this.stepsCompleted.push(t),t.component===Vl&&t.data.includes(Qi.Client)?this.createWizard().subscribe(()=>{this.move.next(!1)}):(t.component===pu&&t.data.rememberSecretAction?this.stepsAhead=this.applyRememberDecision(t):t.component===md&&t.data.rememberCertificateAction&&(this.stepsAhead=this.applyCertificateRememberDecision(t)),this.move.next(!1))}applyCertificateRememberDecision(t){const o=[];return this.stepsAhead.forEach(l=>{l.component!==md||l.data.existingHasCertificates!==t.data.existingHasCertificates||(t.data.certificateAction===Ao.DoNotSet?l.data.certificates=new Np:t.data.certificateAction===Ao.UseExisting&&(l.data.certificates=new Np,l.data.useExistingCertificates=!0),o.push(l),this.stepsCompleted.push(l))}),this.stepsAhead.filter(l=>!o.includes(l))}applyRememberDecision(t){const o=[];return this.stepsAhead.forEach(l=>{if(l.component===pu&&l.data.resourceType===t.data.resourceType&&l.data.existingHasSecrets===t.data.existingHasSecrets){if(t.data.secretsAction===Qo.DoNotSet)l.data.secrets=[];else if(t.data.secretsAction===Qo.UseExistingSecret)l.data.useExistingSecrets=!0;else if(t.data.secretsAction===Qo.Generate){const C=new fu;C.value=(0,Mi.Nl)(),C.type="Shared Secret",C.description="",l.data.secrets=[C]}o.push(l),this.stepsCompleted.push(l)}}),this.stepsAhead.filter(l=>!o.includes(l))}areStepsRemaning(){return this.stepsAhead.length>0}getCurrentStep(){return this.stepsAhead[this.stepsAhead.length-1]}goToPreviousStep(){if(0===this.stepsCompleted.length)return void this.insertAndOpenStep(Vr.importCloseWarning,!0);this.getCurrentStep().isDeadEnd&&this.stepsAhead.pop();const o=this.stepsCompleted[this.stepsCompleted.length-1];if(o.component===pu)this.goToLastRememberedDecision(o.component,l=>l.data.rememberSecretAction);else if(o.component===md)this.goToLastRememberedDecision(o.component,l=>l.data.rememberCertificateAction&&l.data.existingHasCertificates===o.data.existingHasCertificates);else{const l=this.stepsCompleted.pop();this.stepsAhead.push(l)}this.move.next(!1)}goToLastRememberedDecision(t,o){const l=this.stepsCompleted.filter(C=>C.component===t);if(l.length>1){const C=l.filter(o);if(C){const me=this.stepsCompleted.indexOf(C[C.length-1]),He=this.stepsCompleted.splice(me,this.stepsCompleted.length-1);this.stepsAhead=[...this.stepsAhead,...He.reverse()]}else{const $=this.stepsCompleted.pop();this.stepsAhead.push($)}}else{const C=this.stepsCompleted.pop();this.stepsAhead.push(C)}}goToFinalSummary(){const t=this.stepsAhead.findIndex(l=>l.component===Do),o=this.stepsAhead.splice(t+1);for(;o.length>0;){const l=o.pop();this.stepsCompleted.push(l)}this.move.next(!1)}goToSummaryStep(t){const o=this.stepsCompleted.findIndex(C=>C.component===Vl&&C.data.includes(t)),l=this.stepsCompleted.splice(o);for(;l.length>0;){const C=l.pop();this.stepsAhead.push(C)}this.stepModified=!1,this.move.next(!1)}quit(){this.move.next(!0)}cancel(){const t=this.getCurrentStep();t.component===h1?this.quit():t.isDeadEnd?this.goToPreviousStep():this.insertAndOpenStep(Vr.importCloseWarning)}clear(){this.stepsAhead=[],this.stepsCompleted=[],this.stepModified=!0}insertAndOpenStep(t,o){const l=this.stepsAhead.pop();this.stepsCompleted.push(l);const C=this.importWizardProvider.getStep(t);C.data=o,this.stepsAhead.push(C),this.move.next(!1)}reset(){this.clear(),this.setupInitialStep(),this.move.next(!1)}createWizard(){this.stepsAhead=[];const t=new yn.m;return this.importWizardService.cache.pipe((0,Jt.$)()).subscribe(o=>{this.stepsAhead.push(this.importWizardProvider.getStep(Vr.importComplete)),this.showFinalSummary(o)&&this.stepsAhead.push(this.importWizardProvider.getStep(Vr.finalSummary));const l=this.sortImportResources(o),C=[],$=[];for(let me=l.length;me>0;me--){const He=l[me-1];let at=!1;He.resourceType===Qi.ProtectedResource&&He.dependantClients.forEach(Ut=>{at=o.some(on=>on.identifier===Ut.identifier&&on.resourceState!==Lo.Duplicate)}),(He.selected||at)&&(He.existingHasSecrets&&C.push(this.importWizardProvider.getSecretStep(He)),He.hadSecrets&&!He.existingHasSecrets&&C.push(this.importWizardProvider.getSecretStep(He)),He.existingHasCertificates&&$.push(this.importWizardProvider.getCertificateStep(He)),He.hadCertificates&&!He.existingHasCertificates&&$.push(this.importWizardProvider.getCertificateStep(He)))}this.stepsAhead.push(...C),this.stepsAhead.push(...$),this.showClaimTypeSummary(o)&&this.stepsAhead.push(this.importWizardProvider.getStep(Vr.claimTypeSummary)),this.showResourceSummary(o)&&this.stepsAhead.push(this.importWizardProvider.getStep(Vr.resourcesSummary)),t.next()}),t}sortImportResources(t){t=(t=t.sort((l,C)=>l.displayName.toUpperCase().localeCompare(C.displayName.toUpperCase()))).sort((l,C)=>+l.conflictedByDependencies-+C.conflictedByDependencies);const o=[Lo.Conflicted,Lo.New,Lo.Duplicate];return t.sort((l,C)=>o.indexOf(l.resourceState)-o.indexOf(C.resourceState))}showResourceSummary(t){const o=t.filter(C=>C.resourceType===Qi.Client&&!0===C.selected).map(C=>C.identifier),l=t.filter(C=>(C.resourceType===Qi.IdentityResource||C.resourceType===Qi.ProtectedResource)&&C.dependantClients.map($=>$.identifier).some($=>o.includes($)));return l.length>0&&l.some(C=>C.resourceState===Lo.Conflicted)}showClaimTypeSummary(t){const o=t.filter(C=>C.resourceType===Qi.Client&&!0===C.selected).map(C=>C.identifier),l=t.filter(C=>C.resourceType===Qi.ClaimType&&C.dependantClients.map($=>$.identifier).some($=>o.includes($)));return l.length>0&&l.some(C=>C.resourceState===Lo.Conflicted)}showFinalSummary(t){return t.some(o=>o.resourceType!==Qi.Client)}static{this.\u0275fac=function(o){return new(o||r)(e.KVO(kp),e.KVO(ca))}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac})}}return r})();var C1=p(75);let Op=(()=>{class r{constructor(){this.assignedIdentityResources=[],this.assignedProtectedResources=[]}static{this.\u0275fac=function(o){return new(o||r)}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),Fp=(()=>{class r{static{this.\u0275fac=function(o){return new(o||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({providers:[Op,ca,kp,Hl],imports:[fn.MD,y.YN,y.X1,Yr.qP,bn.h,De.Ss,lc.Y,Tt.Q_,Ur.z,Eh.A,To.c,C1.U,cc.w,Ih.N]})}}return r})();var gd=p(6366),w1=p(5691),dc=p(7673),Hh=p(8173),Zi=p(6701),Oc=function(r){return r.Client="Client",r.WsFed="WsFed",r.Saml="Saml",r}(Oc||{}),YD=p(9156),Fc=p(3853);let Wl=(()=>{class r{static{this.Default="clientId"}static{this.Saml="entityId"}static{this.WsFed="realm"}}return r})();var Ua=p(9550);let vd=(()=>{class r{constructor(){this.map=new Map,this.map.set("description","Common.Description"),this.map.set("clientId","Clients.ID"),this.map.set("entityId","Clients.EntityId"),this.map.set("realm","Clients.Realm"),this.map.set("clientName","Common.DisplayName"),this.map.set("description","Common.Description"),this.map.set("clientUri","Common.DisplayURL"),this.map.set("logoUri","Common.LogoURL"),this.map.set("requireConsent","Clients.RequireConsent.Summary"),this.map.set("callbackUrl","Common.CallbackURL"),this.map.set("logoutUrl","Common.LogoutURL"),this.map.set("corsurl","Common.CORSUrl"),this.map.set("redirectUris","Common.RedirectUris"),this.map.set("secrets","Common.Secrets"),this.map.set("identityResources","Nav.IdentityResources"),this.map.set("protectedResources","Nav.ProtectedResources"),this.map.set("ACSEndpoint","Clients.AcsEndpoints"),this.map.set("SLOEndpoint","Clients.SloEndpoints"),this.map.set("ARSEndpoint","Clients.ArsEndpoints"),this.map.set("cibaLifetime","Common.CIBALifetime"),this.map.set("pollingInterval","Common.PollingInterval"),this.map.set("scheme","DynamicAuth.Scheme.Label"),this.map.set("displayName","DynamicAuth.DisplayName.Label"),this.map.set("authority","DynamicAuth.Authority.Label"),this.map.set("idpClientId","DynamicAuth.ClientId.Label"),this.map.set("callbackPath","DynamicAuth.CallbackPath.Label"),this.map.set("flow","DynamicAuth.Flow.Label"),this.map.set("scopes","DynamicAuth.Scopes.Label"),this.map.set("clientSecret","DynamicAuth.ClientSecret.Label"),this.map.set("signInScheme","DynamicAuth.SignInScheme.Label"),this.map.set("signOutScheme","DynamicAuth.SignOutScheme.Label"),this.map.set("callbackPathAcs","DynamicAuth.CallbackPathAcsEndpoint.Label"),this.map.set("certFile","DynamicAuth.CertFile.Label"),this.map.set("certPassword","DynamicAuth.CertPassword.Label"),this.map.set("metadataAddress","DynamicAuth.SAML.IdpMetadataAddress.Label")}transform(t,o){return this.map.get(t)}static{this.\u0275fac=function(o){return new(o||r)}}static{this.\u0275pipe=e.EJ8({name:"keyToString",type:r,pure:!0})}}return r})();const Pp=["cloneClientModal"],mu=["addClaimTypeModal"],Bp=()=>({backdrop:"static",keyboard:"false"});function Lp(r,d){if(1&r&&(e.j41(0,"div",25)(1,"div"),e.EFF(2),e.k0s()()),2&r){const t=e.XpG();e.R7$(2),e.JRh(t.errorCode)}}function yd(r,d){if(1&r&&(e.j41(0,"app-form-row",16)(1,"app-form-toggle",26),e.nrm(2,"input",27),e.k0s()()),2&r){const t=e.XpG();e.Y8G("id","cloneSecrets")("label","Clients.Clone.CloneSecrets")("help","Clients.Clone.CloneSecretsDescription")("isLast",t.clientType!==t.clientTypes.Saml),e.R7$(),e.Y8G("id","cloneSecrets")}}function Wh(r,d){1&r&&(e.j41(0,"app-form-row",16)(1,"app-form-toggle",26),e.nrm(2,"input",28),e.k0s()()),2&r&&(e.Y8G("id","cloneCerts")("label","Clients.Clone.CloneCerts")("help","Clients.Clone.CloneCertsDescription")("isLast",!0),e.R7$(),e.Y8G("id","cloneSecrets"))}let gu=(()=>{class r{constructor(t,o,l,C,$){this.clientsService=t,this.fb=o,this.localize=l,this.router=C,this.translate=$,this.clientTypeKey=Wl.Default,this.clientTypes=Zi.s,this.errorCode=""}ngOnInit(){this.newClientForm=this.fb.group({clientId:["",y.k0.required],clientName:["",y.k0.required],cloneSecrets:[!1],cloneCerts:[!1]}),this.clientType===this.clientTypes.Saml?this.clientTypeKey=Wl.Saml:this.clientType===this.clientTypes.WsFed&&(this.clientTypeKey=Wl.WsFed)}cloneClient(){const t=this.newClientForm.getRawValue();this.clientsService.cloneClient(this.client.id,t).subscribe(o=>{const l=o.headers.get("location");if(l){this.clearForm();const C=l.lastIndexOf("/"),$=l.substring(C+1),me=[this.localize.translateRoute("/clients"),$];this.router.navigate(me)}},o=>{this.errorCode=this.translate.instant(400===o.status?`Errors.CloneClientError.${o.error.errorCode}`:"Errors.CloneClientError.Default")})}show(){this.cloneClientModal.show(),this.setupForm()}setupForm(){const t=this.translate.instant("Clients.Clone.CopyOf").replace("{0}",this.client.clientName);this.newClientForm.patchValue({clientId:(0,Mi.Nl)(),clientName:t,cloneSecrets:!1,cloneCerts:!1})}clearForm(){this.cloneClientModal.hide(),this.errorCode="",this.newClientForm.reset()}setRandomID(){this.newClientForm.patchValue({clientId:(0,Mi.Nl)()})}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(Ll._),e.rXU(y.ze),e.rXU($i.QG),e.rXU(Ct.Ix),e.rXU(bn.c$))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-clone-client"]],viewQuery:function(o,l){if(1&o&&(e.GBs(Pp,7),e.GBs(mu,7)),2&o){let C;e.mGM(C=e.lsd())&&(l.cloneClientModal=C.first),e.mGM(C=e.lsd())&&(l.addClaimTypeModal=C.first)}},inputs:{client:"client",clientType:"clientType"},decls:38,vars:31,consts:[["cloneClientModal","bs-modal"],["bsModal","","id","cloneClientModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","scrollbars",3,"formGroup"],["class","tw-alert-danger tw-mb-6",4,"ngIf"],[3,"id","label","help"],[1,"tw-flex","tw-w-full","lg:tw-max-w-2xl"],["type","text","name","ClientId","id","cloneClientId","formControlName","clientId",1,"tw-form-control","tw-rounded-r-none","tw-border-r-0"],[1,"tw-btn","tw-rounded-l-none",3,"click"],["aria-hidden","true",1,"far","fa-random"],[3,"id","label","help","isLast"],["id","cloneClientName","type","text","name","DisplayName","formControlName","clientName",1,"tw-form-control"],[3,"id","label","help","isLast",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","confirmCloneBtn",1,"tw-btn-success",3,"click","disabled"],["id","closeCloneModal",1,"tw-btn-link","tw--mr-4",3,"click"],[1,"tw-alert-danger","tw-mb-6"],[3,"id"],["id","cloneSecrets","type","checkbox","name","cloneSecrets","formControlName","cloneSecrets",1,"tw-form-switch__input"],["id","cloneCerts","type","checkbox","name","cloneCerts","formControlName","cloneCerts",1,"tw-form-switch__input"]],template:function(o,l){if(1&o){const C=e.RV6();e.j41(0,"div",1,0)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"button",6),e.bIt("click",function(){return e.eBV(C),e.Njj(l.clearForm())}),e.nrm(9,"span",7),e.j41(10,"span",8),e.EFF(11),e.nI1(12,"translate"),e.k0s()()(),e.j41(13,"div",9),e.DNE(14,Lp,3,1,"div",10),e.j41(15,"app-form-row",11),e.nI1(16,"keyToString"),e.j41(17,"div",12),e.nrm(18,"input",13),e.j41(19,"button",14),e.bIt("click",function(){return e.eBV(C),e.Njj(l.setRandomID())}),e.nrm(20,"span",15),e.j41(21,"span",8),e.EFF(22),e.nI1(23,"translate"),e.k0s()()()(),e.j41(24,"app-form-row",16),e.nrm(25,"input",17),e.k0s(),e.DNE(26,yd,3,5,"app-form-row",18)(27,Wh,3,5,"app-form-row",18),e.k0s(),e.nrm(28,"div",19),e.j41(29,"div",20)(30,"div",21)(31,"div",22)(32,"button",23),e.bIt("click",function(){return e.eBV(C),e.Njj(l.cloneClient())}),e.EFF(33),e.nI1(34,"translate"),e.k0s()(),e.j41(35,"button",24),e.bIt("click",function(){return e.eBV(C),e.Njj(l.clearForm())}),e.EFF(36),e.nI1(37,"translate"),e.k0s()()()()()()}2&o&&(e.Y8G("config",e.lJ4(30,Bp)),e.R7$(6),e.JRh(e.bMT(7,18,"Clients.Clone.Title")),e.R7$(5),e.JRh(e.bMT(12,20,"Common.Close")),e.R7$(2),e.Y8G("formGroup",l.newClientForm),e.R7$(),e.Y8G("ngIf",""!=l.errorCode),e.R7$(),e.Y8G("id","cloneClientId")("label",e.bMT(16,22,l.clientTypeKey))("help","Clients.IDHelp"),e.R7$(7),e.JRh(e.bMT(23,24,"Common.GenerateRandom")),e.R7$(2),e.Y8G("id","cloneClientName")("label","Common.DisplayName")("help","Clients.DisplayNameHelp")("isLast",0===l.client.clientSecrets.length&&l.clientType!==l.clientTypes.Saml),e.R7$(2),e.Y8G("ngIf",0!==l.client.clientSecrets.length),e.R7$(),e.Y8G("ngIf",l.clientType===l.clientTypes.Saml),e.R7$(5),e.Y8G("disabled",!l.newClientForm.valid),e.R7$(),e.SpI(" ",e.bMT(34,26,"Common.Save")," "),e.R7$(3),e.JRh(e.bMT(37,28,"Common.Cancel")))},dependencies:[fn.bT,y.me,y.Zm,y.BC,y.cb,y.j4,y.JD,ce.Y,Ua.m,Tt.hZ,bn.D9,vd],encapsulation:2})}}return r})();const Up=(r,d)=>({title:r,link:d}),Vp=r=>[r];function zh(r,d){1&r&&(e.j41(0,"option",29),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.JRh(e.bMT(2,1,"Nav.Saml")))}function XD(r,d){1&r&&(e.j41(0,"option",30),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.RelyingParty.Heading")))}function jp(r,d){1&r&&(e.j41(0,"option",31),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.URLS.Title")))}function _d(r,d){1&r&&(e.j41(0,"option",32),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.JRh(e.bMT(2,1,"Common.Secrets")))}function mw(r,d){1&r&&(e.j41(0,"option",33),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.JRh(e.bMT(2,1,"Common.CIBA")))}function S1(r,d){1&r&&(e.j41(0,"span",34),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" - ",e.bMT(2,1,"StarterMode.RequiresUpgrade")," "))}function gw(r,d){1&r&&e.nrm(0,"app-custom-tab",19),2&r&&e.Y8G("tabTitle","Nav.Saml")("tabValue","saml")}function vw(r,d){1&r&&e.nrm(0,"app-custom-tab",19),2&r&&e.Y8G("tabTitle","Clients.RelyingParty.Heading")("tabValue","wsfed")}function $p(r,d){1&r&&e.nrm(0,"app-custom-tab",19),2&r&&e.Y8G("tabTitle","Clients.URLS.Title")("tabValue","applicationurls")}function E1(r,d){1&r&&e.nrm(0,"app-custom-tab",19),2&r&&e.Y8G("tabTitle","Common.Secrets")("tabValue","secrets")}function yw(r,d){1&r&&e.nrm(0,"app-custom-tab",19),2&r&&e.Y8G("tabTitle","Common.CIBA")("tabValue","ciba")}let _w=(()=>{class r{constructor(t,o,l,C,$,me,He,at,Ut,on,vn,wn,kn,Mn,oi,_i){this.clientsService=t,this.clientCachingService=o,this.relyingPartyCachingService=l,this.serviceProviderCachingService=C,this.samlClientService=$,this.wsFedClientService=me,this.clientViewService=He,this.titleService=at,this.translate=Ut,this.errorService=on,this.router=vn,this.route=wn,this.toastr=kn,this.localize=Mn,this.dialogService=oi,this.licenseService=_i}ngOnInit(){this.clientSubscription=this.clientCachingService.unsavedCache$.subscribe(t=>{this.client=t;const o=this.translate.instant("Clients.Title")+" "+this.client.clientName+" - "+Bt.$9.SITE_TITLE;this.titleService.setTitle(o),this.checkSubmitEnabled()}),this.relyingPartyCachingService.unsavedCache$.subscribe(t=>{this.checkSubmitEnabled()}),this.serviceProviderCachingService.unsavedCache$.subscribe(t=>{this.checkSubmitEnabled()}),this.licenseService.getLicenseInfo().pipe((0,Jt.$)()).subscribe({next:t=>{this.licenseInfo=t}})}checkSubmitEnabled(){const t=[...Array.from(this.clientCachingService.componentDirtyValidMap.values()),...Array.from(this.relyingPartyCachingService.componentDirtyValidMap.values()),...Array.from(this.serviceProviderCachingService.componentDirtyValidMap.values())];this.submitDisabled=0===t.length||t.some(o=>!o.isValid)}ngOnDestroy(){this.clientSubscription.unsubscribe()}deleteClient(t){this.clientsService.deleteClient(t).subscribe(o=>{const l=this.localize.translateRoute("/clients");this.router.navigate([l]),this.toastr.success(this.client.clientName+" "+this.translate.instant("Common.Delete.Deleted"),this.translate.instant("Clients.Deleted"))},o=>{const l={toastBody:this.translate.instant("Notifications.Delete Error Title"),toastTitle:this.translate.instant("Notifications.Delete User Message")};(this.errorService.handleError(o,l)&Ts.I.Toast)!==Ts.I.Toast&&this.toastr.error(l.toastBody,l.toastTitle)})}saveClient(){const t=this.buildStreamArray();(0,yi.p)(t).subscribe(o=>{o.some(C=>C instanceof w.yz)?this.handleError(o):this.handleSave(o),this.checkSubmitEnabled()},o=>{this.errorService.handleError(o)})}buildStreamArray(){const t=[];return this.clientCachingService.componentDirtyValidMap.size>0&&t.push(this.clientsService.updateClient(this.client).pipe((0,Di.T)(()=>Oc.Client),(0,la.W)(o=>(0,dc.of)(o)))),this.client.clientType===Zi.s.WsFed&&this.relyingPartyCachingService.componentDirtyValidMap.size>0?this.relyingPartyCachingService.unsavedCache$.pipe((0,Jt.$)()).subscribe(o=>{const l=JSON.parse(JSON.stringify(o));l.claimMappings=(0,Mi.Li)(o.claimMappings),t.push(this.wsFedClientService.updateRelyingParty(this.client.id,l).pipe((0,Di.T)(()=>Oc.WsFed),(0,la.W)(C=>(0,dc.of)(C))))}):this.client.clientType===Zi.s.Saml&&this.serviceProviderCachingService.componentDirtyValidMap.size>0&&this.serviceProviderCachingService.unsavedCache$.pipe((0,Jt.$)()).subscribe(o=>{const l=JSON.parse(JSON.stringify(o));l.claimMappings=(0,Mi.Li)(o.claimMappings),t.push(this.samlClientService.updateServiceProvider(this.client.id,l).pipe((0,Di.T)(()=>Oc.Saml),(0,la.W)(C=>(0,dc.of)(C))))}),t}handleSave(t){t.forEach(o=>{switch(o){case Oc.WsFed:this.relyingPartyCachingService.onSave();break;case Oc.Saml:this.serviceProviderCachingService.onClientSave();break;case Oc.Client:this.clientCachingService.onClientSave()}}),this.toastr.success(this.translate.instant("Clients.UpdatedClient"),this.translate.instant("Notifications.Saving Success Title"))}handleError(t){const o=t.filter(l=>l instanceof w.yz);o.length===t.length?this.errorService.handleError(o[0]):400===o[0].status?(this.toastr.warning(this.translate.instant("Only some parts updated"),this.translate.instant("Partial Update Warning")),this.handleSave(g.R9(t,o))):this.errorService.handleError(o[0])}canDeactivate(){return!(this.clientCachingService.componentDirtyValidMap.size>0||this.relyingPartyCachingService.componentDirtyValidMap.size>0||this.serviceProviderCachingService.componentDirtyValidMap.size>0)||(this.dialogService.confirm(),this.dialogService.eventStream.subscribe(t=>{t&&(this.clientCachingService.componentDirtyValidMap.size>0&&this.clientCachingService.componentDirtyValidMap.clear(),this.relyingPartyCachingService.componentDirtyValidMap.size>0&&this.relyingPartyCachingService.componentDirtyValidMap.clear(),this.serviceProviderCachingService.componentDirtyValidMap.size>0&&this.serviceProviderCachingService.componentDirtyValidMap.clear())}),this.dialogService.eventStream)}isCloneDisabled(){return this.clientCachingService.componentDirtyValidMap.size>0||this.relyingPartyCachingService.componentDirtyValidMap.size>0||this.serviceProviderCachingService.componentDirtyValidMap.size>0}mobRoute(t){this.router.navigate([t],{relativeTo:this.route})}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(Ll._),e.rXU(mp.e),e.rXU(gd.z),e.rXU(w1.d),e.rXU(YD.s),e.rXU(cd.c),e.rXU(Hh.q),e.rXU(i.hE),e.rXU(bn.c$),e.rXU(Z.I),e.rXU(Ct.Ix),e.rXU(Ct.nX),e.rXU(Zn.tw),e.rXU($i.QG),e.rXU(Yo.o),e.rXU(Fc.X))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-edit-client"]],features:[e.Jv_([Hh.q])],decls:61,vars:65,consts:[["cloneClientModal",""],["deleteClientModal",""],[3,"title","crumbs","hasButton","hasTabs"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","details"],["value","saml",4,"ngIf"],["value","wsfed",4,"ngIf"],["value","applicationurls",4,"ngIf"],["value","secrets",4,"ngIf"],["value","resources"],["value","ciba",4,"ngIf"],["value","advanced"],["value","clientaudits"],["id","upgradeSymbol",4,"ngIf"],[1,"tw-hidden","md:tw-flex"],[3,"tabTitle","tabValue"],[3,"tabTitle","tabValue",4,"ngIf"],[3,"tabTitle","tabValue","restrictedStarter"],["id","editClient",1,"tw-container","tw-mx-auto"],["id","submitBtn",1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"click","disabled"],["id","cloneBtn","type","button","data-toggle","modal",1,"tw-hidden","tw-btn","tw-mr-3","tw-mb-3","xs:tw-inline-flex",3,"click","disabled"],["right",""],["type","button","data-toggle","modal",1,"tw-btn-danger","tw-mb-3",3,"click"],[3,"client","clientType"],[3,"delete","resourceName"],["value","saml"],["value","wsfed"],["value","applicationurls"],["value","secrets"],["value","ciba"],["id","upgradeSymbol"]],template:function(o,l){if(1&o){const C=e.RV6();e.j41(0,"app-title-bar",2),e.nI1(1,"translate"),e.nI1(2,"localize"),e.qex(3,3),e.j41(4,"div",4)(5,"label",5),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"div",6)(9,"select",7),e.bIt("change",function(me){return e.eBV(C),e.Njj(l.mobRoute(me.target.value))}),e.j41(10,"option",8),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"option",8),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.DNE(16,zh,3,3,"option",9)(17,XD,3,3,"option",10)(18,jp,3,3,"option",11)(19,_d,3,3,"option",12),e.j41(20,"option",13),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.DNE(23,mw,3,3,"option",14),e.j41(24,"option",15),e.EFF(25),e.nI1(26,"translate"),e.k0s(),e.j41(27,"option",16),e.EFF(28),e.nI1(29,"translate"),e.DNE(30,S1,3,3,"span",17),e.k0s()()()(),e.j41(31,"app-custom-tabs",18),e.nrm(32,"app-custom-tab",19),e.DNE(33,gw,1,2,"app-custom-tab",20)(34,vw,1,2,"app-custom-tab",20)(35,$p,1,2,"app-custom-tab",20)(36,E1,1,2,"app-custom-tab",20),e.nrm(37,"app-custom-tab",19),e.DNE(38,yw,1,2,"app-custom-tab",20),e.nrm(39,"app-custom-tab",19)(40,"app-custom-tab",21),e.k0s(),e.bVm(),e.k0s(),e.j41(41,"div",22),e.nrm(42,"router-outlet"),e.k0s(),e.j41(43,"app-button-bar")(44,"button",23),e.bIt("click",function(){return e.eBV(C),e.Njj(l.saveClient())}),e.j41(45,"span"),e.EFF(46),e.nI1(47,"translate"),e.k0s()(),e.j41(48,"button",24),e.bIt("click",function(){e.eBV(C);const me=e.sdS(57);return e.Njj(me.show())}),e.j41(49,"span"),e.EFF(50),e.nI1(51,"translate"),e.k0s()(),e.qex(52,25),e.j41(53,"button",26),e.bIt("click",function(){e.eBV(C);const me=e.sdS(59);return e.Njj(me.show())}),e.EFF(54),e.nI1(55,"translate"),e.k0s(),e.bVm(),e.k0s(),e.nrm(56,"app-clone-client",27,0),e.j41(58,"app-delete-confirmation-modal",28,1),e.bIt("delete",function(){return e.eBV(C),e.Njj(l.deleteClient(l.client.id))}),e.k0s(),e.nrm(60,"app-can-deactivate")}if(2&o){let C,$;e.Y8G("title",l.client.clientName)("crumbs",e.eq3(63,Vp,e.l_i(60,Up,e.bMT(1,38,"Nav.Clients"),e.bMT(2,40,"/clients"))))("hasButton",!0)("hasTabs",!0),e.R7$(6),e.JRh(e.bMT(7,42,"Nav.SubMenu")),e.R7$(5),e.SpI("",e.bMT(12,44,"Nav.SubMenu"),"..."),e.R7$(3),e.JRh(e.bMT(15,46,"Nav.Details")),e.R7$(2),e.Y8G("ngIf",l.clientViewService.saml.display),e.R7$(),e.Y8G("ngIf",l.clientViewService.wsFed.display),e.R7$(),e.Y8G("ngIf",l.clientViewService.applicationUrls.display),e.R7$(),e.Y8G("ngIf",l.clientViewService.secrets.display),e.R7$(2),e.JRh(e.bMT(22,48,"Nav.Resources")),e.R7$(2),e.Y8G("ngIf",l.clientViewService.ciba.display),e.R7$(2),e.JRh(e.bMT(26,50,"Common.Advanced")),e.R7$(3),e.SpI(" ",e.bMT(29,52,"Nav.Audits")," "),e.R7$(2),e.Y8G("ngIf",null!==(C=null==l.licenseInfo?null:l.licenseInfo.isStarterLicense())&&void 0!==C&&C),e.R7$(2),e.Y8G("tabTitle","Nav.Details")("tabValue","details"),e.R7$(),e.Y8G("ngIf",l.clientViewService.saml.display),e.R7$(),e.Y8G("ngIf",l.clientViewService.wsFed.display),e.R7$(),e.Y8G("ngIf",l.clientViewService.applicationUrls.display),e.R7$(),e.Y8G("ngIf",l.clientViewService.secrets.display),e.R7$(),e.Y8G("tabTitle","Nav.Resources")("tabValue","resources"),e.R7$(),e.Y8G("ngIf",l.clientViewService.ciba.display),e.R7$(),e.Y8G("tabTitle","Common.Advanced")("tabValue","advanced"),e.R7$(),e.Y8G("tabTitle","Nav.Audits")("tabValue","clientaudits")("restrictedStarter",null!==($=null==l.licenseInfo?null:l.licenseInfo.isStarterLicense())&&void 0!==$&&$),e.R7$(4),e.Y8G("disabled",l.submitDisabled),e.R7$(2),e.JRh(e.bMT(47,54,"Common.SaveAll")),e.R7$(2),e.Y8G("disabled",l.isCloneDisabled()),e.R7$(2),e.JRh(e.bMT(51,56,"Clients.Clone.Label")),e.R7$(4),e.JRh(e.bMT(55,58,"Common.Delete.Title")),e.R7$(2),e.Y8G("client",l.client)("clientType",l.client.clientType),e.R7$(2),e.Y8G("resourceName",l.client.clientName)}},dependencies:[Ct.n3,fn.bT,y.xH,y.y7,nn.G,_n.v,qt.z,Na.E,Eo.z,sa.w,gu,bn.D9,$i.tl],encapsulation:2})}}return r})();p(78),p(6772),p(1927);class QD{constructor(d){this.id=d.id,this.clientId=d.clientId,this.clientName=d.clientName,this.description=d.description,this.enabled=d.enabled,this.selected=!1,this.nonEditable=d.nonEditable,this.clientType=d.clientType}}let Ro=(()=>{class r{static{this.Id="wizard-modal"}static{this.TileId="wizard-title"}static{this.DescriptionId="wizard-description"}}return r})();var Cw=p(6976);class Yh{static{this.RestrictedClientTypes=[Zi.s.ServerSide,Zi.s.ServerSidePKCE,Zi.s.Native,Zi.s.NativePKCE,Zi.s.Device,Zi.s.Saml,Zi.s.WsFed,Zi.s.LegacyClientSide]}}class hi{constructor(d,t){this.component=d,this.data=t,t||(t={})}}class Gp{constructor(){this.nameComponentMap=new Map,this.nameTitleMap=new Map}getWizard(d){return this.nameComponentMap.get(d)}getWizardTitle(d){return this.nameTitleMap.get(d)}}class Uo{constructor(d,t){this.setupTitle=d,this.summaryTitle=t}}var ci=function(r){return r.Home="Home",r.SinglePageApplication="SinglePageApplication",r.WebApplication="WebApplication",r.NativeApplication="NativeApplication",r.RobotApplication="RobotApplication",r.CIBARobotApplication="CIBARobotApplication",r.DeviceApplication="DeviceApplication",r.SamlApplication="SamlApplication",r.WsFedApplication="WsFedApplication",r.LegacySinglePageApplication="LegacySinglePageApplication",r.PKCEWebApplication="PKCEWebApplication",r.PKCENativeApplication="PKCENativeApplication",r.ImportWizard="ImportWizard",r.AddDynamicAuth="AddDynamicAuth",r.AddOidcDynamicAuth="AddOidcDynamicAuth",r.AddSamlDynamicAuth="AddSamlDynamicAuth",r}(ci||{});class Pc{constructor(d){this.clientType=d}}class Tl{constructor(d){this.clientType=d}}let hc=(()=>{class r{constructor(t){this.fb=t}hosted(){}ngOnInit(){this.callbackUrlForm=this.fb.group({callbackUrl:["",y.k0.required]})}getStepSummary(){const t=new Map;return t.set("callbackUrl",[this.callbackUrlForm.get("callbackUrl").value]),(this.data.clientType===Zi.s.BrowserBased||this.data.clientType===Zi.s.LegacyClientSide)&&(this.corsUrl=""===this.callbackUrlForm.get("callbackUrl").value?"":(0,Mi.kI)(this.callbackUrlForm.get("callbackUrl").value),t.set("corsurl",[this.corsUrl])),t}getStepDTO(){const t=this.getStepSummary(),o={};return t.forEach((l,C)=>{"corsurl"===C&&(C="allowedCorsOrigins"),"callbackUrl"===C&&(C="redirectUris"),o[C]=l}),o}canNext(){return this.callbackUrlForm.valid}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(y.ze))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-callback-url"]],inputs:{data:"data"},decls:6,vars:8,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help","isLast"],["type","url","name","CallbackUrl","id","CallbackUrl","formControlName","callbackUrl",1,"tw-form-control"]],template:function(o,l){1&o&&(e.j41(0,"div",0),e.nrm(1,"p",1),e.nI1(2,"translate"),e.k0s(),e.j41(3,"form",2)(4,"app-form-row",3),e.nrm(5,"input",4),e.k0s()()),2&o&&(e.R7$(),e.Y8G("innerHTML",e.bMT(2,6,"Clients.CallbackURL"),e.npT),e.R7$(2),e.Y8G("formGroup",l.callbackUrlForm),e.R7$(),e.Y8G("id","CallbackUrl")("label","Common.CallbackURL")("help","Clients.RedirectURLDescription")("isLast",!0))},dependencies:[y.qT,y.me,y.BC,y.cb,y.j4,y.JD,ce.Y,bn.D9],encapsulation:2})}}return r})();class Va{constructor(d,t=Wl.Default){this.clientType=d,this.clientIdKey=t}}function I1(r,d){1&r&&(e.j41(0,"div")(1,"app-form-row",2),e.nrm(2,"input",13),e.k0s(),e.j41(3,"app-form-row",2),e.nrm(4,"input",14),e.k0s()()),2&r&&(e.R7$(),e.Y8G("id","Domain")("label","Common.DisplayURL")("help","Clients.DisplayURLHelp"),e.R7$(2),e.Y8G("id","LogoUrl")("label","Common.LogoURL")("help","Clients.LogoURLHelp"))}function Xh(r,d){1&r&&(e.j41(0,"app-form-row",10)(1,"app-form-toggle",15),e.nrm(2,"input",16),e.k0s()()),2&r&&(e.Y8G("id","requireConsent")("label","Clients.RequireConsent.Title")("help","Clients.RequireConsent.Help")("isLast",!0),e.R7$(),e.Y8G("id","requireConsent"))}let Ca=(()=>{class r{constructor(t){this.fb=t,this.desFocus=!1,this.hasExtraFields=!1}hosted(){}ngOnInit(){this.descriptionForm=this.fb.group({clientType:[this.data.clientType],clientId:["",[y.k0.required,y.k0.maxLength(100),y.k0.pattern(/^\S*$/)]],clientName:["",[y.k0.required,y.k0.maxLength(50)]],description:["",y.k0.maxLength(1e3)]}),this.hasExtraFields=this.data.clientType===Zi.s.Native||this.data.clientType===Zi.s.NativePKCE||this.data.clientType===Zi.s.BrowserBased||this.data.clientType===Zi.s.LegacyClientSide||this.data.clientType===Zi.s.ServerSide||this.data.clientType===Zi.s.ServerSidePKCE,this.clientIdKey=this.data.clientIdKey,this.hasExtraFields&&(this.descriptionForm.addControl("clientUri",new y.hs("",y.k0.pattern("^https?://.*$"))),this.descriptionForm.addControl("logoUri",new y.hs("",y.k0.pattern("^https?://.*$"))),this.descriptionForm.addControl("requireConsent",new y.hs(!0)))}setRandomID(){this.descriptionForm.patchValue({clientId:(0,Mi.Nl)()})}canNext(){return this.descriptionForm.valid}getStepSummary(){const t=new Map;for(const o in this.descriptionForm.value)this.descriptionForm.value.hasOwnProperty(o)&&t.set("clientId"===o?this.clientIdKey:o,[this.descriptionForm.value[o]]);return t.delete("clientType"),t}getStepDTO(){const t=this.descriptionForm.value;return this.hasExtraFields&&(""===this.descriptionForm.controls.clientUri.value&&(t.clientUri=null),""===this.descriptionForm.controls.logoUri.value&&(t.logoUri=null)),t}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(y.ze))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["ng-component"]],inputs:{data:"data"},decls:20,vars:21,consts:[[1,"cms","tw-mb-6"],[3,"formGroup"],[3,"id","label","help"],[1,"tw-flex","tw-w-full","lg:tw-max-w-2xl"],["type","text","name","ClientId","id","ClientId","formControlName","clientId",1,"tw-form-control","tw-rounded-r-none","tw-border-r-0"],["id","genRandomIdBtn",1,"tw-btn","tw-rounded-l-none",3,"click"],["aria-hidden","true",1,"far","fa-random"],[1,"sr-only"],["id","DisplayName","type","text","name","DisplayName","formControlName","clientName",1,"tw-form-control"],[4,"ngIf"],[3,"id","label","help","isLast"],["id","Description","name","Description","formControlName","description",1,"tw-form-control",3,"blur","focus"],[3,"id","label","help","isLast",4,"ngIf"],["id","Domain","type","text","name","Domain","formControlName","clientUri",1,"tw-form-control"],["type","text","name","LogoUrl","id","LogoUrl","formControlName","logoUri",1,"tw-form-control"],[3,"id"],["id","requireConsent","type","checkbox","formControlName","requireConsent","name","requireConsent",1,"tw-form-switch__input"]],template:function(o,l){1&o&&(e.j41(0,"div",0)(1,"p"),e.EFF(2),e.nI1(3,"translate"),e.k0s()(),e.j41(4,"div",1)(5,"app-form-row",2),e.nI1(6,"keyToString"),e.j41(7,"div",3),e.nrm(8,"input",4),e.j41(9,"button",5),e.bIt("click",function(){return l.setRandomID()}),e.nrm(10,"span",6),e.j41(11,"span",7),e.EFF(12),e.nI1(13,"translate"),e.k0s()()()(),e.j41(14,"app-form-row",2),e.nrm(15,"input",8),e.k0s(),e.DNE(16,I1,5,6,"div",9),e.j41(17,"app-form-row",10)(18,"textarea",11),e.bIt("blur",function(){return l.desFocus=!l.desFocus})("focus",function(){return l.desFocus=!l.desFocus}),e.k0s()(),e.DNE(19,Xh,3,5,"app-form-row",12),e.k0s()),2&o&&(e.R7$(2),e.JRh(e.bMT(3,15,"Clients.EnterBasicDetails")),e.R7$(2),e.Y8G("formGroup",l.descriptionForm),e.R7$(),e.Y8G("id","ClientId")("label",e.bMT(6,17,l.clientIdKey))("help","Clients.IDHelp"),e.R7$(7),e.JRh(e.bMT(13,19,"Common.GenerateRandom")),e.R7$(2),e.Y8G("id","DisplayName")("label","Common.DisplayName")("help","Clients.DisplayNameHelp"),e.R7$(2),e.Y8G("ngIf",l.hasExtraFields),e.R7$(),e.Y8G("id","Description")("label","Common.Description")("help","Clients.DescriptionHelp")("isLast",!l.hasExtraFields),e.R7$(2),e.Y8G("ngIf",l.hasExtraFields))},dependencies:[fn.bT,y.me,y.Zm,y.BC,y.cb,y.j4,y.JD,ce.Y,Ua.m,bn.D9,vd],encapsulation:2})}}return r})();var Il=p(9767);const ww=["secretPicker"];let vu=(()=>{class r{constructor(){this.secrets=[],this.filePickerClosed=!0}getStepSummary(){const t=new Map;return t.set("secrets",this.secrets.map(o=>o.type)),t}getStepDTO(){return{clientSecrets:this.secretPicker.clientSecrets}}canNext(){return this.filePickerClosed}hosted(){this.secretPicker.resetState()}ngOnInit(){this.secretPicker.secretsAddStream.subscribe(t=>{this.secretPicker.clientSecrets.push(t)}),this.secretPicker.secretsRemoveStream.subscribe(t=>{this.secretPicker.clientSecrets.splice(this.secretPicker.clientSecrets.indexOf(t),1)})}filePickerStateChanged(t){this.filePickerClosed=!t}static{this.\u0275fac=function(o){return new(o||r)}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-client-secret-picker"]],viewQuery:function(o,l){if(1&o&&e.GBs(ww,7),2&o){let C;e.mGM(C=e.lsd())&&(l.secretPicker=C.first)}},decls:5,vars:6,consts:[["secretPicker",""],[1,"tw-mb-4"],[3,"filepickerDisplayed","clientSecrets","nonModelCertPicker","showCreatedColumn"]],template:function(o,l){if(1&o){const C=e.RV6();e.j41(0,"p",1),e.EFF(1),e.nI1(2,"translate"),e.k0s(),e.j41(3,"app-secret-picker",2,0),e.bIt("filepickerDisplayed",function(me){return e.eBV(C),e.Njj(l.filePickerStateChanged(me))}),e.k0s()}2&o&&(e.R7$(),e.JRh(e.bMT(2,4,"Clients.NativeApp.Secrets")),e.R7$(2),e.Y8G("clientSecrets",l.secrets)("nonModelCertPicker",!0)("showCreatedColumn",!1))},dependencies:[xp.s,bn.D9],encapsulation:2,data:{animation:[(0,Il.Ws)()]}})}}return r})();function ZD(r,d){1&r&&(e.j41(0,"p"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.SloEndpoints")))}function Jh(r,d){1&r&&(e.j41(0,"p"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.AcsEndpoints")))}function Hp(r,d){1&r&&(e.j41(0,"p"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.ArsEndpoints")))}function D1(r,d){1&r&&(e.j41(0,"option",13),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.Post")))}function A1(r,d){1&r&&(e.j41(0,"option",14),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.Redirect")))}function R1(r,d){1&r&&(e.j41(0,"option",15),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.Artifact")))}function Bc(r,d){1&r&&(e.j41(0,"option",16),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.Soap")))}let Wp=(()=>{class r{constructor(t){this.fb=t}hosted(){}ngOnInit(){const t=[y.k0.pattern("^https?://.*$")],o=[];"ACSEndpoint"===this.data.endpointType&&(t.push(y.k0.required),o.push(y.k0.required)),this.endpointForm=this.fb.group({location:["",t],index:[0,[y.k0.min(0),y.k0.max(99)]],binding:["ARSEndpoint"===this.data.endpointType?"urn:oasis:names:tc:SAML:2.0:bindings:SOAP":"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST",o]}),this.registerBindingValidation()}ngOnDestroy(){void 0!==this.valueChangesSub&&this.valueChangesSub.unsubscribe()}registerBindingValidation(){const t=this.endpointForm.get("location"),o=this.endpointForm.get("binding");this.valueChangesSub=t.valueChanges.subscribe(l=>{o.setValidators(l.length>0?y.k0.required:null),o.updateValueAndValidity()})}getStepSummary(){if(""!==this.endpointForm.get("location").value)return new Map([[this.data.endpointType,[`${this.endpointForm.get("location").value} - ${this.endpointForm.get("index").value} - ${this.endpointForm.get("binding").value}`]]])}getStepDTO(){if(""!==this.endpointForm.get("location").value){let t,o;switch(this.data.endpointType){case"SLOEndpoint":t="SLOBindingType",o="SLOEndpointIndex";break;case"ACSEndpoint":t="ACSBindingType",o="ACSEndpointIndex";break;default:t="ARSBindingType",o="ARSEndpointIndex"}const l=null==this.endpointForm.get("index").value?0:this.endpointForm.get("index").value;return{[this.data.endpointType]:this.endpointForm.get("location").value,[t]:this.endpointForm.get("binding").value,[o]:l}}}canNext(){return this.endpointForm.valid}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(y.ze))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-endpoints"]],decls:16,vars:18,consts:[[1,"cms","tw-mb-6"],[4,"ngIf"],[3,"formGroup"],[3,"id","label","help"],["id","EndpointUrl","type","url","name","EndpointUrl","formControlName","location",1,"tw-form-control"],[1,"tw-form-select"],["id","EndpointBinding","formControlName","binding",1,"tw-form-control"],["value","urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST",4,"ngIf"],["value","urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect",4,"ngIf"],["value","urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Artifact",4,"ngIf"],["value","urn:oasis:names:tc:SAML:2.0:bindings:SOAP",4,"ngIf"],[3,"id","label","help","isLast"],["id","EndpointIndex","type","number","name","EndpointIndex","min","0","formControlName","index",1,"tw-form-control","tw-max-w-48"],["value","urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST"],["value","urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect"],["value","urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Artifact"],["value","urn:oasis:names:tc:SAML:2.0:bindings:SOAP"]],template:function(o,l){1&o&&(e.j41(0,"div",0),e.DNE(1,ZD,3,3,"p",1)(2,Jh,3,3,"p",1)(3,Hp,3,3,"p",1),e.k0s(),e.j41(4,"form",2)(5,"app-form-row",3),e.nrm(6,"input",4),e.k0s(),e.j41(7,"app-form-row",3)(8,"div",5)(9,"select",6),e.DNE(10,D1,3,3,"option",7)(11,A1,3,3,"option",8)(12,R1,3,3,"option",9)(13,Bc,3,3,"option",10),e.k0s()()(),e.j41(14,"app-form-row",11),e.nrm(15,"input",12),e.k0s()()),2&o&&(e.R7$(),e.Y8G("ngIf","SLOEndpoint"==l.data.endpointType),e.R7$(),e.Y8G("ngIf","ACSEndpoint"==l.data.endpointType),e.R7$(),e.Y8G("ngIf","ARSEndpoint"==l.data.endpointType),e.R7$(),e.Y8G("formGroup",l.endpointForm),e.R7$(),e.Y8G("id","EndpointUrl")("label","Clients.Endpoint")("help","SLOEndpoint"==l.data.endpointType?"Clients.SloEndpointHelp":"ACSEndpoint"==l.data.endpointType?"Clients.AcsEndpointHelp":"Clients.ArsEndpointHelp"),e.R7$(2),e.Y8G("id","EndpointBinding")("label","Clients.BindingType")("help","Clients.BindingTypeHelp"),e.R7$(3),e.Y8G("ngIf","ARSEndpoint"!=l.data.endpointType),e.R7$(),e.Y8G("ngIf","ARSEndpoint"!=l.data.endpointType),e.R7$(),e.Y8G("ngIf","ARSEndpoint"!=l.data.endpointType),e.R7$(),e.Y8G("ngIf","ARSEndpoint"==l.data.endpointType),e.R7$(),e.Y8G("id","EndpointIndex")("label","Clients.Saml.Index")("help","Clients.IndexHelp")("isLast",!0))},dependencies:[fn.bT,y.qT,y.xH,y.y7,y.me,y.Q0,y.wz,y.BC,y.cb,y.VZ,y.j4,y.JD,ce.Y,bn.D9],encapsulation:2})}}return r})(),Qh=(()=>{class r{constructor(t){this.fb=t}hosted(){}ngOnInit(){this.logoutUrlForm=this.fb.group({logoutUrl:["",y.k0.pattern("^https?://.*$")]})}getStepSummary(){const t="logoutUrl",o=new Map,l=this.logoutUrlForm.value[t];return(0,Mi.gP)(l)||o.set(t,[l]),o}getStepDTO(){const t=this.logoutUrlForm.value.logoutUrl;return(0,Mi.gP)(t)?{postLogoutRedirectUris:[]}:{postLogoutRedirectUris:[t]}}canNext(){return this.logoutUrlForm.valid}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(y.ze))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-logout-url"]],inputs:{data:"data"},decls:6,vars:8,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help","isLast"],["type","url","name","LogoutUrl","id","LogoutUrl","formControlName","logoutUrl",1,"tw-form-control"]],template:function(o,l){1&o&&(e.j41(0,"div",0),e.nrm(1,"p",1),e.nI1(2,"translate"),e.k0s(),e.j41(3,"form",2)(4,"app-form-row",3),e.nrm(5,"input",4),e.k0s()()),2&o&&(e.R7$(),e.Y8G("innerHTML",e.bMT(2,6,"Clients.PostLogoutURL"),e.npT),e.R7$(2),e.Y8G("formGroup",l.logoutUrlForm),e.R7$(),e.Y8G("id","LogoutUrl")("label","Common.LogoutURL")("help","Clients.LogoutURLDescription")("isLast",!0))},dependencies:[y.qT,y.me,y.BC,y.cb,y.j4,y.JD,ce.Y,bn.D9],encapsulation:2})}}return r})(),Sw=(()=>{class r{constructor(t){this.fb=t}hosted(){}ngOnInit(){this.cibaConfigForm=this.fb.group({cibaLifetime:["",y.k0.required],pollingInterval:["",y.k0.required]})}getStepSummary(){const t=new Map;return t.set("cibaLifetime",[this.cibaConfigForm.get("cibaLifetime").value]),t.set("pollingInterval",[this.cibaConfigForm.get("pollingInterval").value]),this.data.clientType===Zi.s.CIBAMachine&&(this.cibaLifetime=""===this.cibaConfigForm.get("cibaLifetime").value?"":this.cibaConfigForm.get("cibaLifetime").value,this.pollingInterval=""===this.cibaConfigForm.get("pollingInterval").value?"":this.cibaConfigForm.get("pollingInterval").value,t.set("cibaLifetime",[this.cibaLifetime.toString()]),t.set("pollingInterval",[this.pollingInterval.toString()])),t}getStepDTO(){const t=this.getStepSummary(),o={};return t.forEach((l,C)=>{"cibaLifetime"===C&&(C="cibaLifetime"),"pollingInterval"===C&&(C="pollingInterval"),o[C]=l[0]}),o}canNext(){return this.cibaConfigForm.valid}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(y.ze))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-ciba-configuration"]],inputs:{data:"data"},decls:8,vars:11,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help"],["type","number","name","CIBALifetime","id","CIBALifetime","formControlName","cibaLifetime",1,"tw-form-control"],[3,"id","label","help","isLast"],["type","number","name","PollingInterval","id","PollingInterval","formControlName","pollingInterval",1,"tw-form-control"]],template:function(o,l){1&o&&(e.j41(0,"div",0),e.nrm(1,"p",1),e.nI1(2,"translate"),e.k0s(),e.j41(3,"form",2)(4,"app-form-row",3),e.nrm(5,"input",4),e.k0s(),e.j41(6,"app-form-row",5),e.nrm(7,"input",6),e.k0s()()),2&o&&(e.R7$(),e.Y8G("innerHTML",e.bMT(2,9,"Clients.CIBAConfiguration"),e.npT),e.R7$(2),e.Y8G("formGroup",l.cibaConfigForm),e.R7$(),e.Y8G("id","CIBALifetime")("label","Common.CIBALifetime")("help","Clients.CIBALifetimeDescription"),e.R7$(2),e.Y8G("id","PollingInterval")("label","Common.PollingInterval")("help","Clients.CIBAPollingIntervalDescription")("isLast",!0))},dependencies:[y.qT,y.me,y.Q0,y.BC,y.cb,y.j4,y.JD,ce.Y,bn.D9],encapsulation:2})}}return r})();const Ew=["commonPicker"];let Dl=(()=>{class r{constructor(t,o){this.wizardResourceService=o,this.resourceType=t}hosted(){}ngOnInit(){}getStepSummary(){const o=("protectedResources"===this.resourceType?this.wizardResourceService.assignedProtectedResources:this.wizardResourceService.assignedIdentityResources).map(l=>l.name);return new Map([[this.resourceType,o]])}getStepDTO(){return{allowedScopes:[...this.wizardResourceService.assignedIdentityResources.concat(this.wizardResourceService.assignedProtectedResources).map(l=>l.name)]}}canNext(){return this.wizardResourceService.assignedIdentityResources.length>0||this.wizardResourceService.assignedProtectedResources.length>0}static{this.\u0275fac=function(o){e.QTQ()}}static{this.\u0275dir=e.FsC({type:r,viewQuery:function(o,l){if(1&o&&e.GBs(Ew,7),2&o){let C;e.mGM(C=e.lsd())&&(l.commonPicker=C.first)}}})}}return r})();var Lc=p(4354);function Tw(r,d){1&r&&(e.j41(0,"p"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.ProtectedResourcesAccess")))}function Iw(r,d){1&r&&(e.j41(0,"p"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.IdentityResourcesAccess")))}let Al=(()=>{class r extends Dl{constructor(t,o){super("identityResources",o),this.identityResourceService=t,this.wizardResourceService=o,this.resources=[],this.assignedResources=[]}ngOnInit(){this.identityResourceService.getIdentityResources().subscribe(t=>{const o=t.find(l=>"openid"===l.name);o&&(t.splice(t.indexOf(o),1),this.assignedResources=[o],this.wizardResourceService.assignedIdentityResources=this.assignedResources),this.resources=t})}ngAfterViewInit(){this.commonPicker.assignedStream.subscribe(t=>{this.resources=(0,Mi.Yt)(this.resources.slice(),t);const o=this.assignedResources.slice();this.assignedResources=o.concat(t),this.wizardResourceService.assignedIdentityResources=this.assignedResources,this.commonPicker.availableCount=0}),this.commonPicker.unAssignedStream.subscribe(t=>{const o=this.resources;this.assignedResources=(0,Mi.Yt)(this.assignedResources.slice(),t),this.resources=o.concat(t),this.wizardResourceService.assignedIdentityResources=this.assignedResources,this.commonPicker.assignedCount=0})}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(il.A),e.rXU(Op))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["wizard-identity-resource-picker"]],features:[e.Vt3],decls:5,vars:4,consts:[["commonPicker",""],[1,"cms","tw-mb-6"],[4,"ngIf"],[3,"assignedInput","availableInput"]],template:function(o,l){1&o&&(e.j41(0,"div",1),e.DNE(1,Tw,3,3,"p",2)(2,Iw,3,3,"p",2),e.k0s(),e.nrm(3,"app-common-picker",3,0)),2&o&&(e.R7$(),e.Y8G("ngIf","protectedResources"==l.resourceType),e.R7$(),e.Y8G("ngIf","identityResources"==l.resourceType),e.R7$(),e.Y8G("assignedInput",l.assignedResources)("availableInput",l.resources))},dependencies:[fn.bT,Lc.f,bn.D9],encapsulation:2})}}return r})();function Dw(r,d){1&r&&(e.j41(0,"p"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.ProtectedResourcesAccess")))}function Aw(r,d){1&r&&(e.j41(0,"p"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.IdentityResourcesAccess")))}let zl=(()=>{class r extends Dl{constructor(t,o){super("protectedResources",o),this.protectedResourceService=t,this.wizardResourceService=o,this.resources=[],this.assignedResources=[]}ngOnInit(){this.protectedResourceService.getProtectedResources().subscribe(t=>{const o=[];t.forEach(l=>{l.scopes.forEach(C=>{o.find($=>$.name==C.name)||o.push(C)})}),this.resources=o})}ngAfterViewInit(){this.commonPicker.assignedStream.subscribe(t=>{this.resources=(0,Mi.Yt)(this.resources.slice(),t);const o=this.assignedResources.slice();this.assignedResources=o.concat(t),this.wizardResourceService.assignedProtectedResources=this.assignedResources,this.commonPicker.availableCount=0}),this.commonPicker.unAssignedStream.subscribe(t=>{const o=this.resources;this.assignedResources=(0,Mi.Yt)(this.assignedResources.slice(),t),this.resources=o.concat(t),this.wizardResourceService.assignedProtectedResources=this.assignedResources,this.commonPicker.assignedCount=0})}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(cu.x),e.rXU(Op))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["wizard-protected-resource-picker"]],features:[e.Vt3],decls:5,vars:4,consts:[["commonPicker",""],[1,"cms","tw-mb-6"],[4,"ngIf"],[3,"assignedInput","availableInput"]],template:function(o,l){1&o&&(e.j41(0,"div",1),e.DNE(1,Dw,3,3,"p",2)(2,Aw,3,3,"p",2),e.k0s(),e.nrm(3,"app-common-picker",3,0)),2&o&&(e.R7$(),e.Y8G("ngIf","protectedResources"==l.resourceType),e.R7$(),e.Y8G("ngIf","identityResources"==l.resourceType),e.R7$(),e.Y8G("assignedInput",l.assignedResources)("availableInput",l.resources))},dependencies:[fn.bT,Lc.f,bn.D9],encapsulation:2})}}return r})();class zp extends Gp{constructor(){super(),this.nameComponentMap.set(ci.SinglePageApplication,[new hi(Ca,new Va(Zi.s.BrowserBased)),new hi(hc,new Tl(Zi.s.BrowserBased)),new hi(Qh,new Pc(Zi.s.BrowserBased)),new hi(Al,{}),new hi(zl,{})]),this.nameComponentMap.set(ci.LegacySinglePageApplication,[new hi(Ca,new Va(Zi.s.LegacyClientSide)),new hi(hc,new Tl(Zi.s.LegacyClientSide)),new hi(Qh,new Pc(Zi.s.LegacyClientSide)),new hi(Al,{}),new hi(zl,{})]),this.nameComponentMap.set(ci.SamlApplication,[new hi(Ca,new Va(Zi.s.Saml,Wl.Saml)),new hi(Wp,{endpointType:"ACSEndpoint"}),new hi(Wp,{endpointType:"SLOEndpoint"}),new hi(Wp,{endpointType:"ARSEndpoint"}),new hi(Al)]),this.nameComponentMap.set(ci.WsFedApplication,[new hi(Ca,new Va(Zi.s.WsFed,Wl.WsFed)),new hi(hc,new Tl(Zi.s.WsFed)),new hi(Al)]),this.nameComponentMap.set(ci.DeviceApplication,[new hi(Ca,new Va(Zi.s.Device)),new hi(zl,{}),new hi(Al,{})]),this.nameComponentMap.set(ci.RobotApplication,[new hi(Ca,new Va(Zi.s.Machine)),new hi(zl,{}),new hi(vu,{})]),this.nameComponentMap.set(ci.CIBARobotApplication,[new hi(Ca,new Va(Zi.s.CIBAMachine)),new hi(Al,{}),new hi(zl,{}),new hi(vu,{}),new hi(Sw,{})]),this.nameComponentMap.set(ci.NativeApplication,[new hi(Ca,new Va(Zi.s.Native)),new hi(hc,new Tl(Zi.s.Native)),new hi(vu,{}),new hi(Al,{}),new hi(zl,{})]),this.nameComponentMap.set(ci.PKCENativeApplication,[new hi(Ca,new Va(Zi.s.NativePKCE)),new hi(hc,new Tl(Zi.s.NativePKCE)),new hi(vu,{}),new hi(Al,{}),new hi(zl,{})]),this.nameComponentMap.set(ci.WebApplication,[new hi(Ca,new Va(Zi.s.ServerSide)),new hi(hc,new Tl(Zi.s.ServerSide)),new hi(Qh,new Pc(Zi.s.ServerSide)),new hi(vu,{}),new hi(Al,{}),new hi(zl,{})]),this.nameComponentMap.set(ci.PKCEWebApplication,[new hi(Ca,new Va(Zi.s.ServerSidePKCE)),new hi(hc,new Tl(Zi.s.ServerSidePKCE)),new hi(Qh,new Pc(Zi.s.ServerSidePKCE)),new hi(vu,{}),new hi(Al,{}),new hi(zl,{})]),this.nameTitleMap.set(ci.SinglePageApplication,new Uo("Clients.SPA.Setup","Clients.SPA.Title")),this.nameTitleMap.set(ci.LegacySinglePageApplication,new Uo("Clients.LegacySPA.Setup","Clients.LegacySPA.Title")),this.nameTitleMap.set(ci.DeviceApplication,new Uo("Clients.DeviceFlow.Setup","Clients.DeviceFlow.Title")),this.nameTitleMap.set(ci.RobotApplication,new Uo("Clients.MachineToMachine.Setup","Clients.MachineToMachine.Title")),this.nameTitleMap.set(ci.CIBARobotApplication,new Uo("Clients.CIBAMachineToMachine.Setup","Clients.CIBAMachineToMachine.Title")),this.nameTitleMap.set(ci.NativeApplication,new Uo("Clients.NativeApp.Setup","Clients.NativeApp.Title")),this.nameTitleMap.set(ci.PKCENativeApplication,new Uo("Clients.NativeApp.Setup","Clients.NativeApp.Title")),this.nameTitleMap.set(ci.WebApplication,new Uo("Clients.WebApp.Setup","Clients.WebApp.Title")),this.nameTitleMap.set(ci.PKCEWebApplication,new Uo("Clients.WebApp.Setup","Clients.PKCEWebApp.Title")),this.nameTitleMap.set(ci.SamlApplication,new Uo("Clients.Saml.Setup","Clients.Saml.Title")),this.nameTitleMap.set(ci.WsFedApplication,new Uo("Clients.WsFed.Setup","Clients.WsFed.Title"))}getWizard(d){return this.nameComponentMap.get(d)}getWizardTitle(d){return this.nameTitleMap.get(d)}}let Kp=(()=>{class r{constructor(t){this.viewContainerRef=t}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(e.c1b))}}static{this.\u0275dir=e.FsC({type:r,selectors:[["","appStepHost",""]]})}}return r})(),M1=(()=>{class r{constructor(){this.wizardCancel=new e.bkB,this.finish=new e.bkB,this.hide=new e.bkB,this.titleId=Ro.TileId,this.index=0,this.progressPercent=0}ngOnInit(){this.setupWizard(),this.createComponentAtCurrentIndex(),this.displayComponentAtCurrentIndex()}setupWizard(){this.wizardSteps=this.wizardProvider.getWizard(this.wizardName),this.wizardTitles=this.wizardProvider.getWizardTitle(this.wizardName)}keydown(t){"Enter"===t.key&&this.canNext()&&this.nextTab()}hideWizard(){this.hide.emit()}cancelWizard(){this.wizardCancel.emit()}finishWizard(){this.finish.emit()}displayComponentAtCurrentIndex(){this.wizardHost.viewContainerRef.detach();const t=this.components.get(this.index);this.wizardHost.viewContainerRef.insert(t.hostView),this.components.get(this.index).instance.hosted(),this.updateProgress()}createComponentAtCurrentIndex(){const o=this.wizardHost.viewContainerRef.createComponent(this.wizardSteps[this.index].component);this.components.set(this.index,o),o.instance.data=this.wizardSteps[this.index].data,this.wizardHost.viewContainerRef.detach()}canNext(){return this.components.get(this.index).instance.canNext()}updateProgress(){this.progressPercent=(this.index+1)/(this.wizardSteps.length+1)*100}ngOnDestroy(){this.clearComponents()}clearComponents(){this.components.forEach(t=>{t?.destroy()}),this.components.clear()}static{this.\u0275fac=function(o){return new(o||r)}}static{this.\u0275dir=e.FsC({type:r,viewQuery:function(o,l){if(1&o&&e.GBs(Kp,7),2&o){let C;e.mGM(C=e.lsd())&&(l.wizardHost=C.first)}},hostBindings:function(o,l){1&o&&e.bIt("keydown",function($){return l.keydown($)},!1,e.EBC)},inputs:{wizardName:"wizardName"},outputs:{wizardCancel:"wizardCancel",finish:"finish",hide:"hide"}})}}return r})();function Rw(r,d){if(1&r&&(e.j41(0,"span",17),e.EFF(1),e.k0s()),2&r){const t=d.$implicit;e.R7$(),e.JRh(t)}}function Mw(r,d){if(1&r){const t=e.RV6();e.j41(0,"tr",11)(1,"td",12),e.bIt("click",function(){e.eBV(t);const l=e.XpG().$implicit,C=e.XpG();return e.Njj(C.jumpToTab(l.stepName))}),e.j41(2,"b"),e.EFF(3),e.nI1(4,"keyToString"),e.nI1(5,"translate"),e.k0s()(),e.j41(6,"td",13),e.bIt("click",function(){e.eBV(t);const l=e.XpG().$implicit,C=e.XpG();return e.Njj(C.jumpToTab(l.stepName))}),e.DNE(7,Rw,2,1,"span",14),e.k0s(),e.j41(8,"td",12),e.bIt("click",function(){e.eBV(t);const l=e.XpG().$implicit,C=e.XpG();return e.Njj(C.jumpToTab(l.stepName))}),e.j41(9,"button",15),e.bIt("click",function(){e.eBV(t);const l=e.XpG().$implicit,C=e.XpG();return e.Njj(C.jumpToTab(l.stepName))}),e.nrm(10,"span",16),e.j41(11,"span",2),e.EFF(12),e.nI1(13,"translate"),e.k0s()()()()}if(2&r){const t=d.$implicit;e.R7$(3),e.JRh(e.bMT(5,5,e.bMT(4,3,t.key))),e.R7$(4),e.Y8G("ngForOf",t.value),e.R7$(5),e.JRh(e.bMT(13,7,"Common.Edit"))}}function Zh(r,d){if(1&r&&(e.qex(0),e.DNE(1,Mw,14,9,"tr",10),e.nI1(2,"keyvalue"),e.bVm()),2&r){const t=d.$implicit;e.R7$(),e.Y8G("ngForOf",e.bMT(2,1,t.stepData))}}function Kl(r,d){if(1&r&&(e.j41(0,"form",18)(1,"div",19),e.nrm(2,"input",20),e.j41(3,"label",21),e.EFF(4),e.nI1(5,"translate"),e.k0s()()()),2&r){const t=e.XpG();e.Y8G("formGroup",t.summaryForm),e.R7$(),e.Y8G("ngClass","last:tw-border-0 last:tw-mb-0 last:tw-pb-0"),e.R7$(3),e.JRh(e.bMT(5,3,"Common.Enabled"))}}let yu=(()=>{class r{constructor(t){this.fb=t,this.askIfEnabled=!1,this.emitNavigate=new e.bkB}ngOnInit(){this.summaryForm=this.fb.group({enabled:[!0]})}jumpToTab(t){this.emitNavigate.emit(t)}isEnabled(){return this.summaryForm.get("enabled").value}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(y.ze))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-wizard-summary"]],inputs:{askIfEnabled:"askIfEnabled"},decls:30,vars:20,consts:[[1,"cms","tw-mb-6"],["id","reviewTable",1,"datatable","selectable","hover"],[1,"sr-only"],[1,"disabled","inactive"],[1,"sm:tw-w-40"],[1,"tw-hidden","tw-max-w-0","tw-truncate","sm:tw-table-cell"],[1,"tw-italic"],[1,"tw-w-1"],[4,"ngFor","ngForOf"],[3,"formGroup",4,"ngIf"],["id","summaryItemRow","class","group",4,"ngFor","ngForOf"],["id","summaryItemRow",1,"group"],[3,"click"],[1,"tw-hidden","sm:tw-table-cell","tw-max-w-0","tw-wrap",3,"click"],["class","tw-block",4,"ngFor","ngForOf"],[1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click"],["aria-hidden","true",1,"fad","fa-pencil"],[1,"tw-block"],[3,"formGroup"],[1,"tw-form-row-border","tw-mt-6",3,"ngClass"],["id","enabledCheck","type","checkbox","value","false","formControlName","enabled",1,"tw-h-full","tw-ml-2","tw-mr-6"],["for","enabledCheck",1,"tw-form-label-inline","align-middle"]],template:function(o,l){1&o&&(e.j41(0,"div",0)(1,"p"),e.EFF(2),e.nI1(3,"translate"),e.k0s()(),e.j41(4,"table",1)(5,"thead",2)(6,"tr")(7,"th"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"th"),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"th")(14,"span",2),e.EFF(15),e.nI1(16,"translate"),e.k0s()()()(),e.j41(17,"tbody")(18,"tr",3)(19,"td",4)(20,"b"),e.EFF(21),e.nI1(22,"translate"),e.k0s()(),e.j41(23,"td",5)(24,"span",6),e.EFF(25),e.nI1(26,"translate"),e.k0s()(),e.nrm(27,"td",7),e.k0s(),e.DNE(28,Zh,3,3,"ng-container",8),e.k0s()(),e.DNE(29,Kl,6,5,"form",9)),2&o&&(e.R7$(2),e.JRh(e.bMT(3,8,"Common.Wizards.Review")),e.R7$(6),e.JRh(e.bMT(9,10,"Common.Key")),e.R7$(3),e.JRh(e.bMT(12,12,"Common.Value")),e.R7$(4),e.JRh(e.bMT(16,14,"Common.Actions")),e.R7$(6),e.JRh(e.bMT(22,16,"Common.Type")),e.R7$(4),e.JRh(e.bMT(26,18,l.summaryTitle)),e.R7$(3),e.Y8G("ngForOf",l.summary),e.R7$(),e.Y8G("ngIf",l.askIfEnabled))},dependencies:[fn.YU,fn.Sq,fn.bT,y.qT,y.Zm,y.BC,y.cb,y.j4,y.JD,fn.lG,bn.D9,vd],encapsulation:2})}}return r})();function x1(r,d){}function k1(r,d){if(1&r){const t=e.RV6();e.j41(0,"button",17),e.bIt("click",function(){e.eBV(t);const l=e.XpG();return e.Njj(l.nextTab())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}if(2&r){const t=e.XpG();e.Y8G("disabled",!t.canNext()),e.R7$(),e.JRh(e.bMT(2,2,"Common.Next"))}}function N1(r,d){if(1&r){const t=e.RV6();e.j41(0,"button",18),e.bIt("click",function(){e.eBV(t);const l=e.XpG();return e.Njj(l.submit())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&r&&(e.R7$(),e.JRh(e.bMT(2,1,"Common.Save")))}function e2(r,d){if(1&r){const t=e.RV6();e.j41(0,"button",19),e.bIt("click",function(){e.eBV(t);const l=e.XpG();return e.Njj(l.previousTab())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&r&&(e.R7$(),e.JRh(e.bMT(2,1,"Common.Back")))}function t2(r,d){if(1&r){const t=e.RV6();e.j41(0,"button",19),e.bIt("click",function(){e.eBV(t);const l=e.XpG();return e.Njj(l.cancelWizard())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&r&&(e.R7$(),e.JRh(e.bMT(2,1,"Common.Back")))}let n2=(()=>{class r extends M1{constructor(t,o,l,C){super(),this.clientsService=t,this.errorService=o,this.toastr=l,this.translate=C,this.wizardProvider=new zp,this.components=new Map}nextTab(){++this.index,this.index===this.wizardSteps.length?this.buildSummary():(void 0===this.components.get(this.index)&&this.createComponentAtCurrentIndex(),this.displayComponentAtCurrentIndex())}previousTab(){this.index>0&&(--this.index,this.displayComponentAtCurrentIndex())}buildSummary(){const t=[];this.wizardSteps.forEach((o,l)=>{const $=this.components.get(l).instance.getStepSummary();null!=$&&t.push({stepName:`ClientStep${l}`,stepData:$})}),this.displaySummaryComponent(t)}displaySummaryComponent(t){this.wizardHost.viewContainerRef.detach(),void 0===this.summaryComponentRef?(this.wizardHost.viewContainerRef.detach(),this.summaryComponentRef=this.wizardHost.viewContainerRef.createComponent(yu)):this.wizardHost.viewContainerRef.insert(this.summaryComponentRef.hostView),this.summaryComponentRef.instance.summary=t,this.summaryComponentRef.instance.summaryTitle=this.wizardTitles.summaryTitle,this.summaryComponentRef.instance.emitNavigate.pipe((0,Jt.$)()).subscribe(o=>{this.index=t.findIndex(l=>l.stepName===o),this.displayComponentAtCurrentIndex()}),this.updateProgress()}getWizardDto(){let t={};return this.wizardSteps.forEach((o,l)=>{const $=this.components.get(l).instance.getStepDTO();t=Object.assign({},t,$)}),t}submit(){const t=this.getWizardDto();this.clientsService.addClient(t).subscribe({complete:()=>{this.finishWizard(),this.clearComponents(),this.toastr.success(this.translate.instant("Common.Created")+": "+t.clientName,this.translate.instant("Notifications.SuccessfullyCreated"))},error:o=>{this.errorService.handleError(o)}})}ngOnDestroy(){this.summaryComponentRef&&this.summaryComponentRef.destroy()}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(Ll._),e.rXU(Z.I),e.rXU(Zn.tw),e.rXU(bn.c$))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-client-wizard-host"]],features:[e.Jv_([Ll._]),e.Vt3],decls:24,vars:17,consts:[[1,"modal-header"],[1,"modal-title",3,"id"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-progress"],["role","progressbar",1,"modal-progress-bar"],[1,"modal-body","scrollbars"],["appStepHost",""],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["class","tw-btn-success tw-mr-3","id","nextBtn",3,"disabled","click",4,"ngIf"],["class","tw-btn-success tw-mr-3","id","submitBtn",3,"click",4,"ngIf"],["class","tw-btn","id","backBtn",3,"click",4,"ngIf"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],["id","submitBtn",1,"tw-btn-success","tw-mr-3",3,"click"],["id","backBtn",1,"tw-btn",3,"click"]],template:function(o,l){1&o&&(e.j41(0,"div",0)(1,"h5",1),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"button",2),e.bIt("click",function(){return l.hideWizard()}),e.nrm(5,"span",3),e.j41(6,"span",4),e.EFF(7),e.nI1(8,"translate"),e.k0s()()(),e.j41(9,"div",5),e.nrm(10,"div",6),e.k0s(),e.j41(11,"div",7),e.DNE(12,x1,0,0,"ng-template",8),e.k0s(),e.nrm(13,"div",9),e.j41(14,"div",10)(15,"div",11)(16,"div",12),e.DNE(17,k1,3,4,"button",13)(18,N1,3,3,"button",14)(19,e2,3,3,"button",15)(20,t2,3,3,"button",15),e.k0s(),e.j41(21,"button",16),e.bIt("click",function(){return l.cancelWizard()}),e.EFF(22),e.nI1(23,"translate"),e.k0s()()()),2&o&&(e.R7$(),e.Y8G("id",l.titleId),e.R7$(),e.JRh(e.bMT(3,11,l.wizardTitles.setupTitle)),e.R7$(5),e.JRh(e.bMT(8,13,"Common.Close")),e.R7$(3),e.xc7("width",l.progressPercent+"%"),e.BMQ("aria-valuenow",l.progressPercent),e.R7$(7),e.Y8G("ngIf",l.index<(null==l.wizardSteps?null:l.wizardSteps.length)),e.R7$(),e.Y8G("ngIf",l.index==(null==l.wizardSteps?null:l.wizardSteps.length)),e.R7$(),e.Y8G("ngIf",l.index>0),e.R7$(),e.Y8G("ngIf",l.index<=0),e.R7$(2),e.JRh(e.bMT(23,15,"Common.Cancel")))},dependencies:[fn.bT,Kp,bn.D9],encapsulation:2})}}return r})();const qh=(r,d,t,o)=>({id:"spaBtn",btnId:"spaTestBtn",title:r,summary:d,icon:"fab fa-chrome",selected:t,type:o}),Yp=(r,d,t,o)=>({id:"webAppBtn",btnId:"webAppTestBtn",title:r,summary:d,icon:"fas fa-globe",selected:t,type:o}),r2=(r,d,t,o)=>({id:"nativeBtn",btnId:"nativeTestBtn",title:r,summary:d,icon:"fas fa-mobile-alt",selected:t,type:o}),xw=(r,d,t,o)=>({id:"robotBtn",btnId:"robotTestBtn",title:r,summary:d,icon:"fas fa-microchip",selected:t,type:o}),O1=(r,d,t,o)=>({id:"deviceBtn",btnId:"deviceTestBtn",title:r,summary:d,icon:"fas fa-wifi",selected:t,type:o}),kw=(r,d,t,o)=>({id:"samlBtn",btnId:"samlTestBtn",title:r,summary:d,icon:"fas fa-code",selected:t,type:o}),Nw=(r,d,t,o)=>({id:"wsfedBtn",btnId:"wsfedTestBtn",title:r,summary:d,icon:"far fa-id-card",selected:t,type:o}),Ow=(r,d,t,o)=>({id:"legacySpaBtn",btnId:"legacySpaTestBtn",title:r,summary:d,icon:"fab fa-chrome",selected:t,type:o}),Fw=(r,d,t,o)=>({id:"webAppBtn",btnId:"webAppTestBtn",title:r,summary:d,icon:"fas fa-globe",selected:t,starterModeProtected:!0,type:o}),Pw=(r,d,t,o)=>({id:"nativeBtn",btnId:"nativeTestBtn",title:r,summary:d,icon:"fas fa-mobile-alt",selected:t,starterModeProtected:!0,type:o}),F1=(r,d,t,o)=>({id:"deviceBtn",btnId:"deviceTestBtn",title:r,summary:d,icon:"fas fa-wifi",selected:t,starterModeProtected:!0,type:o}),P1=(r,d,t,o)=>({id:"samlBtn",btnId:"samlTestBtn",title:r,summary:d,icon:"fas fa-code",selected:t,starterModeProtected:!0,type:o}),Bw=(r,d,t,o)=>({id:"wsfedBtn",btnId:"wsfedTestBtn",title:r,summary:d,icon:"far fa-id-card",selected:t,starterModeProtected:!0,type:o}),Lw=(r,d,t,o)=>({id:"legacySpaBtn",btnId:"legacySpaTestBtn",title:r,summary:d,icon:"fab fa-chrome",selected:t,starterModeProtected:!0,type:o}),B1=(r,d)=>({"tw-bg-green-200":r,"tw-bg-primary-200":d}),ef=(r,d,t)=>({"tw-bg-green-500":r,"tw-bg-primary-500":d,"tw-bg-grey-200":t}),L1=(r,d,t)=>({"tw-text-white":r,"tw-text-secondary-500":d,"tw-text-grey-400 group-hover:tw-text-grey-700":t}),Xp=(r,d)=>({"fas fa-check tw-text-xl trans":r,"far fa-arrow-alt-circle-up tw-text-2xl":d}),Uw=(r,d,t)=>({"tw-text-green-800":r,"tw-text-primary-800":d,"tw-text-navy-500":t}),Uc=(r,d,t)=>({"tw-text-green-600":r,"tw-text-primary-600":d,"tw-text-grey-600":t}),U1=(r,d,t)=>({"tw-text-green-500":r,"tw-text-primary-500":d,"tw-text-grey-300":t});function Vw(r,d){1&r&&e.eu8(0)}function Jp(r,d){1&r&&e.eu8(0)}function V1(r,d){1&r&&e.eu8(0)}function jw(r,d){1&r&&e.eu8(0)}function $w(r,d){1&r&&e.eu8(0)}function Gw(r,d){1&r&&e.eu8(0)}function Hw(r,d){1&r&&e.eu8(0)}function j1(r,d){1&r&&e.eu8(0)}function s2(r,d){if(1&r&&(e.j41(0,"div",30)(1,"ul",31),e.DNE(2,Vw,1,0,"ng-container",32),e.nI1(3,"translate"),e.nI1(4,"translate"),e.DNE(5,Jp,1,0,"ng-container",32),e.nI1(6,"translate"),e.nI1(7,"translate"),e.DNE(8,V1,1,0,"ng-container",32),e.nI1(9,"translate"),e.nI1(10,"translate"),e.DNE(11,jw,1,0,"ng-container",32),e.nI1(12,"translate"),e.nI1(13,"translate"),e.DNE(14,$w,1,0,"ng-container",32),e.nI1(15,"translate"),e.nI1(16,"translate"),e.DNE(17,Gw,1,0,"ng-container",32),e.nI1(18,"translate"),e.nI1(19,"translate"),e.DNE(20,Hw,1,0,"ng-container",32),e.nI1(21,"translate"),e.nI1(22,"translate"),e.DNE(23,j1,1,0,"ng-container",32),e.nI1(24,"translate"),e.nI1(25,"translate"),e.k0s()()),2&r){e.XpG();const t=e.sdS(21),o=e.XpG();e.R7$(2),e.Y8G("ngTemplateOutlet",t)("ngTemplateOutletContext",e.ziG(48,qh,e.bMT(3,16,"Clients.SPA.Title"),e.bMT(4,18,"Clients.SPA.Summary"),o.activeType===o.wizardTypes.SinglePageApplication,o.wizardTypes.SinglePageApplication)),e.R7$(3),e.Y8G("ngTemplateOutlet",t)("ngTemplateOutletContext",e.ziG(53,Yp,e.bMT(6,20,"Clients.WebApp.Title"),e.bMT(7,22,"Clients.WebApp.Summary"),o.activeType===o.wizardTypes.WebApplication||o.activeType===o.wizardTypes.PKCEWebApplication,o.wizardTypes.PKCEWebApplication)),e.R7$(3),e.Y8G("ngTemplateOutlet",t)("ngTemplateOutletContext",e.ziG(58,r2,e.bMT(9,24,"Clients.NativeApp.Title"),e.bMT(10,26,"Clients.PKCENativeApp.Summary"),o.activeType===o.wizardTypes.PKCENativeApplication||o.activeType==o.wizardTypes.NativeApplication,o.wizardTypes.PKCENativeApplication)),e.R7$(3),e.Y8G("ngTemplateOutlet",t)("ngTemplateOutletContext",e.ziG(63,xw,e.bMT(12,28,"Clients.MachineToMachine.Title"),e.bMT(13,30,"Clients.MachineToMachine.Summary"),o.activeType===o.wizardTypes.RobotApplication,o.wizardTypes.RobotApplication)),e.R7$(3),e.Y8G("ngTemplateOutlet",t)("ngTemplateOutletContext",e.ziG(68,O1,e.bMT(15,32,"Clients.DeviceFlow.Title"),e.bMT(16,34,"Clients.DeviceFlow.Summary"),o.activeType===o.wizardTypes.DeviceApplication,o.wizardTypes.DeviceApplication)),e.R7$(3),e.Y8G("ngTemplateOutlet",t)("ngTemplateOutletContext",e.ziG(73,kw,e.bMT(18,36,"Clients.Saml.Title"),e.bMT(19,38,"Clients.Saml.Summary"),o.activeType===o.wizardTypes.SamlApplication,o.wizardTypes.SamlApplication)),e.R7$(3),e.Y8G("ngTemplateOutlet",t)("ngTemplateOutletContext",e.ziG(78,Nw,e.bMT(21,40,"Clients.WsFed.Title"),e.bMT(22,42,"Clients.WsFed.Summary"),o.activeType===o.wizardTypes.WsFedApplication,o.wizardTypes.WsFedApplication)),e.R7$(3),e.Y8G("ngTemplateOutlet",t)("ngTemplateOutletContext",e.ziG(83,Ow,e.bMT(24,44,"Clients.LegacySPA.Title"),e.bMT(25,46,"Clients.LegacySPA.Summary"),o.activeType===o.wizardTypes.LegacySinglePageApplication,o.wizardTypes.LegacySinglePageApplication))}}function o2(r,d){1&r&&e.eu8(0)}function bd(r,d){1&r&&e.eu8(0)}function Ww(r,d){1&r&&e.eu8(0)}function zw(r,d){1&r&&e.eu8(0)}function Kw(r,d){1&r&&e.eu8(0)}function $1(r,d){1&r&&e.eu8(0)}function Yw(r,d){1&r&&e.eu8(0)}function Xw(r,d){1&r&&e.eu8(0)}function Jw(r,d){if(1&r&&(e.j41(0,"div",33)(1,"h6",34),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"ul",31),e.DNE(5,o2,1,0,"ng-container",32),e.nI1(6,"translate"),e.nI1(7,"translate"),e.DNE(8,bd,1,0,"ng-container",32),e.nI1(9,"translate"),e.nI1(10,"translate"),e.k0s(),e.j41(11,"h6",34),e.EFF(12),e.nI1(13,"translate"),e.k0s(),e.j41(14,"ul",31),e.DNE(15,Ww,1,0,"ng-container",32),e.nI1(16,"translate"),e.nI1(17,"translate"),e.DNE(18,zw,1,0,"ng-container",32),e.nI1(19,"translate"),e.nI1(20,"translate"),e.DNE(21,Kw,1,0,"ng-container",32),e.nI1(22,"translate"),e.nI1(23,"translate"),e.DNE(24,$1,1,0,"ng-container",32),e.nI1(25,"translate"),e.nI1(26,"translate"),e.DNE(27,Yw,1,0,"ng-container",32),e.nI1(28,"translate"),e.nI1(29,"translate"),e.DNE(30,Xw,1,0,"ng-container",32),e.nI1(31,"translate"),e.nI1(32,"translate"),e.k0s()()),2&r){e.XpG();const t=e.sdS(21),o=e.XpG();e.R7$(2),e.JRh(e.bMT(3,18,"StarterMode.Clients.Basic")),e.R7$(3),e.Y8G("ngTemplateOutlet",t)("ngTemplateOutletContext",e.ziG(54,qh,e.bMT(6,20,"Clients.SPA.Title"),e.bMT(7,22,"Clients.SPA.Summary"),o.activeType===o.wizardTypes.SinglePageApplication,o.wizardTypes.SinglePageApplication)),e.R7$(3),e.Y8G("ngTemplateOutlet",t)("ngTemplateOutletContext",e.ziG(59,xw,e.bMT(9,24,"Clients.MachineToMachine.Title"),e.bMT(10,26,"Clients.MachineToMachine.Summary"),o.activeType===o.wizardTypes.RobotApplication,o.wizardTypes.RobotApplication)),e.R7$(4),e.JRh(e.bMT(13,28,"StarterMode.Clients.Enterprise")),e.R7$(3),e.Y8G("ngTemplateOutlet",t)("ngTemplateOutletContext",e.ziG(64,Fw,e.bMT(16,30,"Clients.WebApp.Title"),e.bMT(17,32,"Clients.WebApp.Summary"),o.activeType===o.wizardTypes.WebApplication||o.activeType===o.wizardTypes.PKCEWebApplication,o.wizardTypes.PKCEWebApplication)),e.R7$(3),e.Y8G("ngTemplateOutlet",t)("ngTemplateOutletContext",e.ziG(69,Pw,e.bMT(19,34,"Clients.NativeApp.Title"),e.bMT(20,36,"Clients.PKCENativeApp.Summary"),o.activeType===o.wizardTypes.PKCENativeApplication||o.activeType==o.wizardTypes.NativeApplication,o.wizardTypes.PKCENativeApplication)),e.R7$(3),e.Y8G("ngTemplateOutlet",t)("ngTemplateOutletContext",e.ziG(74,F1,e.bMT(22,38,"Clients.DeviceFlow.Title"),e.bMT(23,40,"Clients.DeviceFlow.Summary"),o.activeType===o.wizardTypes.DeviceApplication,o.wizardTypes.DeviceApplication)),e.R7$(3),e.Y8G("ngTemplateOutlet",t)("ngTemplateOutletContext",e.ziG(79,P1,e.bMT(25,42,"Clients.Saml.Title"),e.bMT(26,44,"Clients.Saml.Summary"),o.activeType===o.wizardTypes.SamlApplication,o.wizardTypes.SamlApplication)),e.R7$(3),e.Y8G("ngTemplateOutlet",t)("ngTemplateOutletContext",e.ziG(84,Bw,e.bMT(28,46,"Clients.WsFed.Title"),e.bMT(29,48,"Clients.WsFed.Summary"),o.activeType===o.wizardTypes.WsFedApplication,o.wizardTypes.WsFedApplication)),e.R7$(3),e.Y8G("ngTemplateOutlet",t)("ngTemplateOutletContext",e.ziG(89,Lw,e.bMT(31,50,"Clients.LegacySPA.Title"),e.bMT(32,52,"Clients.LegacySPA.Summary"),o.activeType===o.wizardTypes.LegacySinglePageApplication,o.wizardTypes.LegacySinglePageApplication))}}function Qw(r,d){if(1&r&&(e.j41(0,"option",40),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r){const t=d.$implicit;e.Y8G("value",t),e.R7$(),e.JRh(e.bMT(2,2,"Clients.WizardTypes."+t))}}function Zw(r,d){if(1&r){const t=e.RV6();e.j41(0,"form",35)(1,"app-form-row",36)(2,"div",37)(3,"select",38,2),e.bIt("change",function(){e.eBV(t);const l=e.sdS(4),C=e.XpG(2);return e.Njj(C.setActive(l.value))}),e.DNE(5,Qw,3,4,"option",39),e.k0s()()()()}if(2&r){const t=e.XpG(2);e.Y8G("formGroup",t.webAppSelectForm),e.R7$(),e.Y8G("id","webAppFlow")("label","Clients.WizardTypes.WebAppSelection")("isLast",!0),e.R7$(4),e.Y8G("ngForOf",t.webAppTypes)}}function qw(r,d){if(1&r&&(e.j41(0,"option",40),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r){const t=d.$implicit;e.Y8G("value",t),e.R7$(),e.JRh(e.bMT(2,2,"Clients.WizardTypes."+t))}}function Qp(r,d){if(1&r){const t=e.RV6();e.j41(0,"form",41)(1,"app-form-row",36)(2,"div",37)(3,"select",42,3),e.bIt("change",function(){e.eBV(t);const l=e.sdS(4),C=e.XpG(2);return e.Njj(C.setActive(l.value))}),e.DNE(5,qw,3,4,"option",39),e.k0s()()()()}if(2&r){const t=e.XpG(2);e.Y8G("formGroup",t.robotAppSelectForm),e.R7$(),e.Y8G("id","robotAppFlow")("label","Clients.WizardTypes.WebAppSelection")("isLast",!0),e.R7$(4),e.Y8G("ngForOf",t.robotAppTypes)}}function a2(r,d){if(1&r&&(e.j41(0,"option",40),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r){const t=d.$implicit;e.Y8G("value",t),e.R7$(),e.JRh(e.bMT(2,2,"Clients.WizardTypes."+t))}}function l2(r,d){if(1&r){const t=e.RV6();e.j41(0,"form",43)(1,"app-form-row",36)(2,"div",37)(3,"select",44,4),e.bIt("change",function(){e.eBV(t);const l=e.sdS(4),C=e.XpG(2);return e.Njj(C.setActive(l.value))}),e.DNE(5,a2,3,4,"option",39),e.k0s()()()()}if(2&r){const t=e.XpG(2);e.Y8G("formGroup",t.nativeAppSelectForm),e.R7$(),e.Y8G("id","nativeAppFlow")("label","Clients.WizardTypes.WebAppSelection")("isLast",!0),e.R7$(4),e.Y8G("ngForOf",t.nativeAppTypes)}}function Zp(r,d){1&r&&(e.j41(0,"span",13),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.Selected")))}function c2(r,d){if(1&r){const t=e.RV6();e.j41(0,"li",45)(1,"input",46),e.bIt("click",function(){const l=e.eBV(t).type,C=e.XpG(2);return e.Njj(C.setActive(l))}),e.k0s(),e.j41(2,"label",47),e.bIt("click",function(){const l=e.eBV(t).type,C=e.XpG(2);return e.Njj(C.setActive(l))}),e.j41(3,"div",48)(4,"span",49),e.nrm(5,"span",49),e.k0s(),e.DNE(6,Zp,3,3,"span",50),e.k0s(),e.j41(7,"div",51)(8,"span",52),e.EFF(9),e.k0s(),e.j41(10,"span",53),e.EFF(11),e.k0s()(),e.j41(12,"div",54),e.nrm(13,"span",49),e.k0s()()()}if(2&r){const t=d.id,o=d.btnId,l=d.title,C=d.summary,$=d.icon,me=d.selected,He=d.type,at=d.starterModeProtected,Ut=e.XpG(2);e.FS9("id",t),e.R7$(),e.FS9("id",o),e.FS9("value",He),e.Y8G("ngModel",Ut.activeType),e.R7$(),e.FS9("for",o),e.Y8G("ngClass",e.l_i(18,B1,me&&!at,me&&at)),e.R7$(),e.Y8G("ngClass",e.sMw(21,ef,me&&!at,me&&at,!me)),e.R7$(),e.Y8G("ngClass",e.sMw(25,L1,me&&!at,me&&at,!me)),e.R7$(),e.Y8G("ngClass",e.l_i(29,Xp,!at,at)),e.R7$(),e.Y8G("ngIf",me),e.R7$(2),e.Y8G("ngClass",e.sMw(32,Uw,me&&!at,me&&at,!me)),e.R7$(),e.SpI(" ",l," "),e.R7$(),e.Y8G("ngClass",e.sMw(36,Uc,me&&!at,me&&at,!me)),e.R7$(),e.SpI(" ",C," "),e.R7$(2),e.ZvI("",$," tw-text-3xl tw-transition-all tw-ease-in-out"),e.Y8G("ngClass",e.sMw(40,U1,me&&!at,me&&at,!me))}}function u2(r,d){1&r&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.Home.Title")))}function d2(r,d){1&r&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.SPA.Title")))}function h2(r,d){1&r&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.WebApp.Title")))}function f2(r,d){1&r&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.NativeApp.Title")))}function eS(r,d){1&r&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.MachineToMachine.Title")))}function tf(r,d){1&r&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.CIBAMachineToMachine.Title")))}function nf(r,d){1&r&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.DeviceFlow.Title")))}function qp(r,d){1&r&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.Saml.Title")))}function G1(r,d){1&r&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.WsFed.Title")))}function H1(r,d){1&r&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.LegacySPA.Title")))}function W1(r,d){1&r&&(e.nrm(0,"p",55),e.nI1(1,"translate")),2&r&&e.Y8G("innerHTML",e.bMT(1,1,"Clients.Home.Description"),e.npT)}function z1(r,d){1&r&&(e.nrm(0,"p",55),e.nI1(1,"translate")),2&r&&e.Y8G("innerHTML",e.bMT(1,1,"Clients.SPA.Description"),e.npT)}function K1(r,d){1&r&&(e.nrm(0,"p",55),e.nI1(1,"translate")),2&r&&e.Y8G("innerHTML",e.bMT(1,1,"Clients.WebApp.Description"),e.npT)}function _u(r,d){1&r&&(e.nrm(0,"p",55),e.nI1(1,"translate")),2&r&&e.Y8G("innerHTML",e.bMT(1,1,"Clients.NativeApp.Description"),e.npT)}function wa(r,d){1&r&&(e.nrm(0,"p",55),e.nI1(1,"translate")),2&r&&e.Y8G("innerHTML",e.bMT(1,1,"Clients.MachineToMachine.Description"),e.npT)}function fc(r,d){1&r&&(e.nrm(0,"p",55),e.nI1(1,"translate")),2&r&&e.Y8G("innerHTML",e.bMT(1,1,"Clients.CIBAMachineToMachine.Description"),e.npT)}function Y1(r,d){1&r&&(e.nrm(0,"p",55),e.nI1(1,"translate")),2&r&&e.Y8G("innerHTML",e.bMT(1,1,"Clients.DeviceFlow.Description"),e.npT)}function p2(r,d){1&r&&(e.nrm(0,"p",55),e.nI1(1,"translate")),2&r&&e.Y8G("innerHTML",e.bMT(1,1,"Clients.Saml.Description"),e.npT)}function tS(r,d){1&r&&(e.nrm(0,"p",55),e.nI1(1,"translate")),2&r&&e.Y8G("innerHTML",e.bMT(1,1,"Clients.WsFed.Description"),e.npT)}function m2(r,d){1&r&&(e.nrm(0,"p",55),e.nI1(1,"translate")),2&r&&e.Y8G("innerHTML",e.bMT(1,1,"Clients.LegacySPA.Description"),e.npT)}function g2(r,d){if(1&r){const t=e.RV6();e.j41(0,"button",56),e.bIt("click",function(){e.eBV(t);const l=e.XpG(2);return e.Njj(l.redirectToUpgrade())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}if(2&r){const t=e.XpG(2);e.Y8G("disabled",!t.protectedWizardTypeSelected),e.R7$(),e.JRh(e.bMT(2,2,"StarterMode.UpgradeAdminUI"))}}function X1(r,d){if(1&r){const t=e.RV6();e.j41(0,"div")(1,"div",6)(2,"h5",7),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"button",8),e.nI1(6,"translate"),e.bIt("click",function(){e.eBV(t);const l=e.XpG();return e.Njj(l.hide())}),e.nrm(7,"span",9),e.k0s()(),e.j41(8,"div",10),e.nrm(9,"div",11,0),e.k0s(),e.j41(11,"div",12)(12,"p",13),e.EFF(13),e.nI1(14,"translate"),e.k0s(),e.DNE(15,s2,26,88,"div",14)(16,Jw,33,94,"div",15)(17,Zw,6,5,"form",16)(18,Qp,6,5,"form",17)(19,l2,6,5,"form",18)(20,c2,14,44,"ng-template",null,1,e.C5r),e.j41(22,"div",19)(23,"h2",20),e.nrm(24,"span",21),e.DNE(25,u2,3,3,"span",5)(26,d2,3,3,"span",5)(27,h2,3,3,"span",5)(28,f2,3,3,"span",5)(29,eS,3,3,"span",5)(30,tf,3,3,"span",5)(31,nf,3,3,"span",5)(32,qp,3,3,"span",5)(33,G1,3,3,"span",5)(34,H1,3,3,"span",5),e.k0s(),e.DNE(35,W1,2,3,"p",22)(36,z1,2,3,"p",22)(37,K1,2,3,"p",22)(38,_u,2,3,"p",22)(39,wa,2,3,"p",22)(40,fc,2,3,"p",22)(41,Y1,2,3,"p",22)(42,p2,2,3,"p",22)(43,tS,2,3,"p",22)(44,m2,2,3,"p",22),e.k0s()(),e.nrm(45,"div",23),e.j41(46,"div",24)(47,"div",25)(48,"div",26)(49,"button",27),e.bIt("click",function(){e.eBV(t);const l=e.XpG();return e.Njj(l.choosePage())}),e.EFF(50),e.nI1(51,"translate"),e.k0s(),e.DNE(52,g2,3,4,"button",28),e.k0s(),e.j41(53,"button",29),e.bIt("click",function(){e.eBV(t);const l=e.XpG();return e.Njj(l.hide())}),e.EFF(54),e.nI1(55,"translate"),e.k0s()()()()}if(2&r){const t=e.XpG();e.R7$(2),e.Y8G("id",t.titleId),e.R7$(),e.JRh(e.bMT(4,33,"Clients.Setup")),e.R7$(2),e.BMQ("aria-label",e.bMT(6,35,"Common.Close")),e.R7$(8),e.JRh(e.bMT(14,37,"Clients.SelectType")),e.R7$(2),e.Y8G("ngIf",!t.isStarterMode),e.R7$(),e.Y8G("ngIf",t.isStarterMode),e.R7$(),e.Y8G("ngIf",!t.isStarterMode&&(t.activeType===t.wizardTypes.WebApplication||t.activeType===t.wizardTypes.PKCEWebApplication)),e.R7$(),e.Y8G("ngIf",t.activeType===t.wizardTypes.RobotApplication||t.activeType===t.wizardTypes.CIBARobotApplication),e.R7$(),e.Y8G("ngIf",!t.isStarterMode&&(t.activeType===t.wizardTypes.NativeApplication||t.activeType===t.wizardTypes.PKCENativeApplication)),e.R7$(6),e.Y8G("ngIf",t.activeType===t.wizardTypes.Home),e.R7$(),e.Y8G("ngIf",t.activeType===t.wizardTypes.SinglePageApplication),e.R7$(),e.Y8G("ngIf",t.activeType===t.wizardTypes.WebApplication||t.activeType===t.wizardTypes.PKCEWebApplication),e.R7$(),e.Y8G("ngIf",t.activeType===t.wizardTypes.NativeApplication||t.activeType===t.wizardTypes.PKCENativeApplication),e.R7$(),e.Y8G("ngIf",t.activeType===t.wizardTypes.RobotApplication),e.R7$(),e.Y8G("ngIf",t.activeType===t.wizardTypes.CIBARobotApplication),e.R7$(),e.Y8G("ngIf",t.activeType===t.wizardTypes.DeviceApplication),e.R7$(),e.Y8G("ngIf",t.activeType===t.wizardTypes.SamlApplication),e.R7$(),e.Y8G("ngIf",t.activeType===t.wizardTypes.WsFedApplication),e.R7$(),e.Y8G("ngIf",t.activeType===t.wizardTypes.LegacySinglePageApplication),e.R7$(),e.Y8G("ngIf",t.activeType===t.wizardTypes.Home),e.R7$(),e.Y8G("ngIf",t.activeType===t.wizardTypes.SinglePageApplication),e.R7$(),e.Y8G("ngIf",t.activeType===t.wizardTypes.WebApplication||t.activeType===t.wizardTypes.PKCEWebApplication),e.R7$(),e.Y8G("ngIf",t.activeType===t.wizardTypes.NativeApplication||t.activeType===t.wizardTypes.PKCENativeApplication),e.R7$(),e.Y8G("ngIf",t.activeType===t.wizardTypes.RobotApplication),e.R7$(),e.Y8G("ngIf",t.activeType===t.wizardTypes.CIBARobotApplication),e.R7$(),e.Y8G("ngIf",t.activeType===t.wizardTypes.DeviceApplication),e.R7$(),e.Y8G("ngIf",t.activeType===t.wizardTypes.SamlApplication),e.R7$(),e.Y8G("ngIf",t.activeType===t.wizardTypes.WsFedApplication),e.R7$(),e.Y8G("ngIf",t.activeType===t.wizardTypes.LegacySinglePageApplication),e.R7$(5),e.Y8G("disabled",t.activeType===t.wizardTypes.Home||t.isStarterMode&&t.protectedWizardTypeSelected),e.R7$(),e.JRh(e.bMT(51,39,"Common.Start")),e.R7$(2),e.Y8G("ngIf",t.isStarterMode),e.R7$(2),e.JRh(e.bMT(55,41,"Common.Cancel"))}}function J1(r,d){if(1&r){const t=e.RV6();e.j41(0,"div")(1,"app-client-wizard-host",57),e.bIt("wizardCancel",function(){e.eBV(t);const l=e.XpG();return e.Njj(l.onCancel())})("finish",function(){e.eBV(t);const l=e.XpG();return e.Njj(l.onFinish())})("hide",function(){e.eBV(t);const l=e.XpG();return e.Njj(l.hide())}),e.k0s()()}if(2&r){const t=e.XpG();e.R7$(),e.Y8G("wizardName",t.pageType)}}let v2=(()=>{class r{constructor(t,o,l,C,$){this.fb=t,this.modalService=o,this.licenseService=l,this.router=C,this.localizeRouter=$,this.finish=new e.bkB,this.titleId=Ro.TileId,this.pageType=ci.Home,this.activeType=ci.SinglePageApplication,this.showWizard=!1,this.wizardProvider=new zp,this.wizardTypes=ci,this.webAppTypes=[ci.PKCEWebApplication,ci.WebApplication],this.robotAppTypes=[ci.RobotApplication,ci.CIBARobotApplication],this.nativeAppTypes=[ci.PKCENativeApplication,ci.NativeApplication],this.starterModeProtectedSetups=[ci.WebApplication,ci.PKCEWebApplication,ci.PKCENativeApplication,ci.NativeApplication,ci.DeviceApplication,ci.SamlApplication,ci.WsFedApplication,ci.LegacySinglePageApplication]}ngOnInit(){this.licenseService.getLicenseInfo().pipe((0,Jt.$)()).subscribe(t=>{this.isStarterMode=t.isStarterLicense()}),this.setWebAppSelection(this.webAppTypes[0]),this.setRobotAppSelection(this.robotAppTypes[0]),this.setNativeAppSelection(this.nativeAppTypes[0])}setWebAppSelection(t){(t===ci.WebApplication||t===ci.PKCEWebApplication)&&(this.webAppSelectForm=this.fb.group({webAppSelection:t}))}setRobotAppSelection(t){(t===ci.RobotApplication||t===ci.CIBARobotApplication)&&(this.robotAppSelectForm=this.fb.group({robotAppSelection:t}))}setNativeAppSelection(t){(t===ci.NativeApplication||t===ci.PKCENativeApplication)&&(this.nativeAppSelectForm=this.fb.group({nativeAppSelection:t}))}redirectToUpgrade(){this.hide();const t=this.localizeRouter.translateRoute("/starter-mode/teaser");this.router.navigate([t],{queryParams:{feature:4}})}setActive(t){this.isStarterMode&&(this.protectedWizardTypeSelected=this.starterModeProtectedSetups.includes(t)),this.activeType=t,this.setWebAppSelection(t),this.setRobotAppSelection(t),this.setNativeAppSelection(t)}choosePage(){this.isStarterMode&&this.protectedWizardTypeSelected||(this.pageType=this.activeType,this.showWizard=!0)}onCancel(){this.pageType=ci.Home,this.activeType=ci.SinglePageApplication,this.showWizard=!1}onFinish(){this.finish.emit(),this.hide()}hide(){this.modalService.hide(Ro.Id),this.modalService.onHidden.pipe((0,Jt.$)()).subscribe(()=>{this.onCancel()})}ngOnDestroy(){this.hide()}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(y.ze),e.rXU(Tt.I8),e.rXU(Fc.X),e.rXU(Ct.Ix),e.rXU($i.QG))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-client-wizard"]],outputs:{finish:"finish"},decls:2,vars:2,consts:[["progressBar",""],["commonTypeButton",""],["webAppSelection",""],["robotAppSelection",""],["nativeAppSelection",""],[4,"ngIf"],[1,"modal-header"],[1,"modal-title",3,"id"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"modal-progress"],["role","progressbar","aria-valuenow","2",1,"modal-progress-bar",2,"width","2%"],[1,"modal-body","scrollbars"],[1,"sr-only"],["id","defaultSetupList","class","tw--mt-2 tw--ml-2 md:tw--mt-4 md:tw--ml-4",4,"ngIf"],["id","starterModeSetupList","class","tw--mt-2 tw--ml-2 md:tw--mt-4 md:tw--ml-4",4,"ngIf"],["id","webAppSelectionForm","class","tw-mt-5",3,"formGroup",4,"ngIf"],["id","robotSelectionForm","class","tw-mt-5",3,"formGroup",4,"ngIf"],["id","nativeSelectionFrom","class","tw-mt-5",3,"formGroup",4,"ngIf"],[1,"tw-border-t","tw-border-grey-300","tw-text-grey-700","tw-text-sm","tw-mt-6","tw-pt-5"],[1,"tw-text-sm","tw-font-semibold","tw-text-primary-500","tw-mb-2"],["aria-hidden","true",1,"fas","fa-info-circle","tw-w-5"],[3,"innerHTML",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","nextModal",1,"tw-btn-success",3,"click","disabled"],["id","upgradeAdminUI","class","tw-btn tw-ml-4",3,"disabled","click",4,"ngIf"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],["id","defaultSetupList",1,"tw--mt-2","tw--ml-2","md:tw--mt-4","md:tw--ml-4"],[1,"tw-flex","tw-flex-wrap"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["id","starterModeSetupList",1,"tw--mt-2","tw--ml-2","md:tw--mt-4","md:tw--ml-4"],[1,"tw-pt-2","tw-pl-2","tw-w-full","sm:tw-w-1/2","md:tw-pt-4","md:tw-pl-4"],["id","webAppSelectionForm",1,"tw-mt-5",3,"formGroup"],[3,"id","label","isLast"],[1,"tw-form-select"],["id","webAppFlow","formControlName","webAppSelection",1,"tw-form-control",3,"change"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["id","robotSelectionForm",1,"tw-mt-5",3,"formGroup"],["id","robotAppFlow","formControlName","robotAppSelection",1,"tw-form-control",3,"change"],["id","nativeSelectionFrom",1,"tw-mt-5",3,"formGroup"],["id","nativeAppFlow","formControlName","nativeAppSelection",1,"tw-form-control",3,"change"],[1,"tw-pt-2","tw-pl-2","tw-w-full","sm:tw-w-1/2","md:tw-pt-4","md:tw-pl-4",3,"id"],["type","radio",1,"sr-only",3,"click","id","value","ngModel"],["type","button",1,"tw-block","tw-bg-white","tw-pl-16","tw-py-3","tw-w-full","tw-overflow-hidden","tw-rounded","tw-relative","group","tw-transition-all","tw-ease-in-out","hover:tw-shadow-md","md:tw-pr-16",3,"click","for","ngClass"],[1,"tw-flex","tw-items-center","tw-justify-center","tw-w-16","tw-h-full","tw-absolute","tw-top-0","tw-left-0","tw-transition-all","tw-ease-in-out",3,"ngClass"],[3,"ngClass"],["class","sr-only",4,"ngIf"],[1,"tw-px-4","tw-text-left"],[1,"tw-block","tw-font-semibold","tw-transition-all","tw-ease-in-out",3,"ngClass"],[1,"tw-block","tw-text-xs","tw-transition-all","tw-ease-in-out",3,"ngClass"],[1,"tw-hidden","tw-items-center","tw-justify-center","tw-w-16","tw-h-full","tw-absolute","tw-top-0","tw-right-0","tw-transition-all","tw-ease-in-out","md:tw-flex"],[3,"innerHTML"],["id","upgradeAdminUI",1,"tw-btn","tw-ml-4",3,"click","disabled"],[3,"wizardCancel","finish","hide","wizardName"]],template:function(o,l){1&o&&e.DNE(0,X1,56,43,"div",5)(1,J1,2,1,"div",5),2&o&&(e.Y8G("ngIf",l.pageType===l.wizardTypes.Home),e.R7$(),e.Y8G("ngIf",l.showWizard))},dependencies:[fn.YU,fn.Sq,fn.bT,fn.T3,y.qT,y.xH,y.y7,y.me,y.wz,y.Fm,y.BC,y.cb,y.vS,y.j4,y.JD,ce.Y,n2,bn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return r})();class rf extends DC{set selected(d){this.isSelectable&&(this._selected=d)}get selected(){return this._selected}get isSelectable(){return this.resourceState!==Lo.Duplicate&&this.resourceType===Qi.Client}constructor(d,t=!0){super(),this._selected=!1,this.conflictedByDependencies=!1,this.secretsAction=Qo.DoNotSet,this.certificateAction=Ao.DoNotSet,this.identifier=d.identifier,this.resourceType=d.resourceType,this.resourceState=d.resourceState,this.displayType=d.displayType,this.displayName=d.displayName,this.conflicts=d.conflicts,this.dependantClients=d.dependantClients,this.hadSecrets=d.hadSecrets,this.hadCertificates=d.hadCertificates,this.existingHasSecrets=d.existingHasSecrets,this.existingHasCertificates=d.existingHasCertificates,this.selected=t,this.certificates=new Np}}function em(r,d){if(1&r&&(e.j41(0,"div",7),e.nrm(1,"div",8),e.k0s()),2&r){const t=e.XpG();e.R7$(),e.xc7("width",t.progressComplete+"%"),e.BMQ("aria-valuenow",t.progressComplete)}}function tm(r,d){}let Q1=(()=>{class r{constructor(t){this.viewContainerRef=t}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(e.c1b))}}static{this.\u0275dir=e.FsC({type:r,selectors:[["","appImportStepHost",""]]})}}return r})(),bu=(()=>{class r{constructor(t){this.importWizardController=t,this.finish=new e.bkB,this.warning=new e.bkB,this.components=new Map,this.progressComplete=5,this.progressStepString="",this.disableButtons=!1,this.hideProgressBar=!1}ngOnInit(){this.moveSubscription=this.importWizardController.move.subscribe(t=>{t?this.finish.emit():this.importWizardController.areStepsRemaning()&&(this.displayNext(),this.progressStepString=this.getStepsProgressForCurrentStep())}),this.importWizardController.setupInitialStep(),this.displayNext()}displayNext(){this.wizardHost.viewContainerRef.detach();const t=this.importWizardController.getCurrentStep();let o;if(t.component===md){const l=this.components.get(t);this.wizardHost.viewContainerRef.detach(),o=l??this.wizardHost.viewContainerRef.createComponent(t.component)}else o=this.wizardHost.viewContainerRef.createComponent(t.component);this.wizardHost.viewContainerRef.detach(),this.wizardHost.viewContainerRef.insert(o.hostView),o.instance.data=t.data,o.instance.importWizardController=this.importWizardController,this.title=t.stepTitle,this.components.set(t,o),this.updateProgressBar(),this.hideProgressBar=o.instance.isWarningModal||o.instance.hideProgressBar,this.warning.emit(o.instance.isWarningModal)}closeButton(){const t=this.importWizardController.getCurrentStep();t.component!==rl?this.importWizardController.cancel():this.components.get(t).instance.goNext()}getStepsProgressForCurrentStep(){const t=this.importWizardController.getCurrentStep();if(t.component===pu||t.component===md){const o=this.importWizardController.stepsCompleted.filter(C=>C.component===t.component).length,l=o+this.importWizardController.stepsAhead.filter(C=>C.component===t.component).length;return 1===l?"":"("+(o+1)+"/"+l+")"}return""}disableCloseButton(){return this.importWizardController.disableCloseButton}updateProgressBar(){this.importWizardController.stepsCompleted.length>0?1===this.importWizardController.stepsAhead.length?this.progressComplete=100:this.importWizardController.getCurrentStep().component!==XC&&(this.progressComplete=(this.importWizardController.stepsCompleted.length+1)/(this.importWizardController.stepsAhead.length+this.importWizardController.stepsCompleted.length)*100):this.progressComplete=5}ngOnDestroy(){this.importWizardController.clear(),this.components.forEach(t=>{t.destroy()}),this.components.clear(),this.moveSubscription?.unsubscribe()}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(Hl))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-import-wizard-host"]],viewQuery:function(o,l){if(1&o&&e.GBs(Q1,7),2&o){let C;e.mGM(C=e.lsd())&&(l.wizardHost=C.first)}},outputs:{finish:"finish",warning:"warning"},decls:12,vars:9,consts:[[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click","disabled"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],["class","modal-progress",4,"ngIf"],["appImportStepHost",""],[1,"modal-progress"],["role","progressbar",1,"modal-progress-bar"]],template:function(o,l){1&o&&(e.j41(0,"div",0)(1,"h5",1),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"button",2),e.bIt("click",function(){return l.closeButton()}),e.nrm(5,"span",3),e.j41(6,"span",4),e.EFF(7),e.nI1(8,"translate"),e.k0s()()(),e.DNE(9,em,2,3,"div",5),e.j41(10,"div"),e.DNE(11,tm,0,0,"ng-template",6),e.k0s()),2&o&&(e.R7$(2),e.Lme("",e.bMT(3,5,l.title)," ",l.progressStepString,""),e.R7$(2),e.Y8G("disabled",l.disableCloseButton()),e.R7$(3),e.JRh(e.bMT(8,7,"Common.Close")),e.R7$(2),e.Y8G("ngIf",!l.hideProgressBar))},dependencies:[fn.bT,Q1,bn.D9],encapsulation:2})}}return r})();function nm(r,d){1&r&&(e.nrm(0,"app-simple-loader",17),e.nI1(1,"translate")),2&r&&e.Y8G("text",e.bMT(1,1,"Clients.Import.Wizard.Setup.CheckImportPleaseWait"))}function Z1(r,d){if(1&r&&(e.j41(0,"div",23)(1,"div"),e.EFF(2),e.k0s()()),2&r){const t=e.XpG(3);e.R7$(2),e.JRh(t.errorCode)}}function im(r,d){if(1&r){const t=e.RV6();e.j41(0,"div")(1,"div",18)(2,"p"),e.EFF(3),e.nI1(4,"translate"),e.k0s()(),e.DNE(5,Z1,3,1,"div",19),e.j41(6,"app-form-row",20)(7,"div",21)(8,"input",22,1),e.bIt("change",function(l){e.eBV(t);const C=e.XpG(2);return e.Njj(C.handleFileInput(l.target.files))}),e.k0s()()()()}if(2&r){const t=e.XpG(2);e.R7$(3),e.JRh(e.bMT(4,6,"Clients.Import.Wizard.Setup.Summary")),e.R7$(2),e.Y8G("ngIf",""!=t.errorCode),e.R7$(),e.Y8G("id","fileInput")("label","Clients.Import.Wizard.Setup.ChooseFile")("help","Clients.Import.Wizard.Setup.ChooseFileHelp")("isLast",!0)}}function sf(r,d){if(1&r){const t=e.RV6();e.j41(0,"div")(1,"div",3)(2,"h5",4),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"button",5),e.nI1(6,"translate"),e.bIt("click",function(){e.eBV(t);const l=e.XpG();return e.Njj(l.hide())}),e.nrm(7,"span",6),e.k0s()(),e.j41(8,"div",7),e.nrm(9,"div",8,0),e.k0s(),e.j41(11,"div",9),e.DNE(12,nm,2,3,"app-simple-loader",10)(13,im,11,8,"div",2),e.k0s(),e.nrm(14,"div",11),e.j41(15,"div",12)(16,"div",13)(17,"div",14)(18,"button",15),e.bIt("click",function(){e.eBV(t);const l=e.XpG();return e.Njj(l.startImport())}),e.EFF(19),e.nI1(20,"translate"),e.k0s()(),e.j41(21,"button",16),e.bIt("click",function(){e.eBV(t);const l=e.XpG();return e.Njj(l.hide())}),e.EFF(22),e.nI1(23,"translate"),e.k0s()()()()}if(2&r){const t=e.XpG();e.R7$(2),e.Y8G("id",t.titleId),e.R7$(),e.JRh(e.bMT(4,10,"Clients.Import.Wizard.Setup.Title")),e.R7$(2),e.Y8G("disabled",t.disableButtons),e.BMQ("aria-label",e.bMT(6,12,"Common.Close")),e.R7$(7),e.Y8G("ngIf",t.isLoading),e.R7$(),e.Y8G("ngIf",!t.isLoading),e.R7$(5),e.Y8G("disabled",t.disableButtons||null==t.fileToUpload),e.R7$(),e.SpI(" ",e.bMT(20,14,"Common.Start")," "),e.R7$(2),e.Y8G("disabled",t.disableButtons),e.R7$(),e.SpI(" ",e.bMT(23,16,"Common.Cancel")," ")}}function nS(r,d){if(1&r){const t=e.RV6();e.j41(0,"div")(1,"app-import-wizard-host",24),e.bIt("warning",function(l){e.eBV(t);const C=e.XpG();return e.Njj(C.onWarning(l))})("finish",function(){e.eBV(t);const l=e.XpG();return e.Njj(l.onFinish())}),e.k0s()()}}let iS=(()=>{class r{constructor(t,o,l,C){this.translate=t,this.clientImportService=o,this.importWizardService=l,this.modalService=C,this.finish=new e.bkB,this.titleId=Ro.TileId,this.wizardTypes=ci,this.isLoading=!1,this.fileToUpload=null,this.isWarningModal=!1,this.storage=sessionStorage,this.importWizardService.resetImport.subscribe($=>{this.reset(),null!=$&&(this.errorCode=$)})}ngOnInit(){this.reset()}onCancel(){this.hide()}onFinish(){this.finish.emit(),this.hide()}onWarning(t){this.isWarningModal=t}hide(){this.reset(),this.modalService.hide(Ro.Id)}handleFileInput(t){this.fileToUpload=t.item(0)}reset(){this.isLoading=!1,this.disableButtons=!1,this.showWizard=!1,this.fileToUpload=null,this.errorCode="",this.isWarningModal=!1}startImport(){null!=this.fileToUpload&&this.validateImport()}validateImport(){if(this.isLoading=!0,this.disableButtons=!0,"application/json"!==this.fileToUpload.type)return this.reset(),void(this.errorCode=this.translate.instant("Clients.Import.Wizard.Setup.Errors.InvalidFile"));this.fileToUpload.text().then(t=>{this.clientImportService.validateImportFile(t).subscribe(o=>{try{JSON.parse(t)}catch{return this.reset(),void(this.errorCode=this.translate.instant("Clients.Import.Wizard.Setup.Errors.InvalidData"))}this.storeFileInStorage(t);const l=o.importResources.map(C=>new rf(C));this.importWizardService.cache.next(l),this.isLoading=!1,this.showWizard=!0},o=>{if(400===o.status){this.reset();const l=o.error;this.errorCode=this.translate.instant(`Errors.${l.errorCode}`),"ValidateImportError.WrongVersion"===l.errorCode&&(this.errorCode=this.errorCode.replace("{0}",l.replacementArgs[0]),this.errorCode=this.errorCode.replace("{1}",l.replacementArgs[1]))}else this.reset(),this.errorCode=this.translate.instant("Clients.Import.Wizard.Setup.Errors.Default")})})}storeFileInStorage(t){this.storage.setItem("importFile",t)}ngOnDestroy(){this.reset(),this.hide()}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(bn.c$),e.rXU(B0),e.rXU(ca),e.rXU(Tt.I8))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-import-wizard"]],outputs:{finish:"finish"},decls:2,vars:2,consts:[["progressBar",""],["fileInput","","selectedFile",""],[4,"ngIf"],[1,"modal-header"],[1,"modal-title",3,"id"],["type","button",1,"modal-close",3,"click","disabled"],["aria-hidden","true",1,"fas","fa-times"],[1,"modal-progress"],["role","progressbar",1,"modal-progress-bar",2,"width","2%"],[1,"modal-body"],[3,"text",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","importNext",1,"tw-btn-success",3,"click","disabled"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click","disabled"],[3,"text"],[1,"cms","tw-mb-6"],["class","tw-alert-danger tw-mb-6",4,"ngIf"],[3,"id","label","help","isLast"],[1,"tw-form-control"],["id","fileInput","type","file","name","file","accept",".json",1,"tw-form-file","tw-max-w-full",3,"change"],[1,"tw-alert-danger","tw-mb-6"],[3,"warning","finish"]],template:function(o,l){1&o&&e.DNE(0,sf,24,18,"div",2)(1,nS,2,0,"div",2),2&o&&(e.Y8G("ngIf",!l.showWizard),e.R7$(),e.Y8G("ngIf",l.showWizard))},dependencies:[fn.bT,Ri.d,ce.Y,bu,bn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return r})();const q1=(r,d)=>({"tw-alert":r,"tw-alert-warning":d}),rS=r=>({limit:r,type:"client applications",href:"https://www.identityserver.com/products/adminui/order-now?index=2&name=Enterprise"}),sS=(r,d)=>({"fad fa-pencil":r,"fas fa-eye":d});function oS(r,d){if(1&r){const t=e.RV6();e.j41(0,"app-client-wizard",12,0),e.bIt("finish",function(){e.eBV(t);const l=e.XpG();return e.Njj(l.reload())}),e.k0s()}}function ev(r,d){if(1&r){const t=e.RV6();e.j41(0,"app-import-wizard",13,1),e.bIt("finish",function(){e.eBV(t);const l=e.XpG();return e.Njj(l.reload())}),e.k0s()}}function Cd(r,d){if(1&r&&(e.j41(0,"div",14),e.nrm(1,"span",15),e.nI1(2,"translate"),e.k0s()),2&r){const t=e.XpG();e.Y8G("ngClass",e.l_i(5,q1,t.limitReached,t.overLimit)),e.R7$(),e.Y8G("innerHTML",e.i5U(2,2,"Common.QuotaLimit",e.eq3(8,rS,t.licenseInfo.maxClients)),e.npT)}}function af(r,d){if(1&r){const t=e.RV6();e.j41(0,"div",22)(1,"label",23),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"select",24),e.mxI("ngModelChange",function(l){e.eBV(t);const C=e.XpG(2);return e.DH7(C.pageSize,l)||(C.pageSize=l),e.Njj(l)}),e.bIt("change",function(){e.eBV(t);const l=e.XpG(2);return e.Njj(l.setPageLength(+l.pageSize))}),e.j41(5,"option",25),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"option",26),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"option",27),e.EFF(12),e.nI1(13,"translate"),e.k0s()()()}if(2&r){const t=e.XpG(2);e.R7$(2),e.Lme("",t.pageSize," ",e.bMT(3,6,"Nav.PerPage"),""),e.R7$(2),e.R50("ngModel",t.pageSize),e.R7$(2),e.SpI("25 ",e.bMT(7,8,"Nav.PerPage"),""),e.R7$(3),e.SpI("50 ",e.bMT(10,10,"Nav.PerPage"),""),e.R7$(3),e.SpI("100 ",e.bMT(13,12,"Nav.PerPage"),"")}}function rm(r,d){1&r&&(e.j41(0,"span",31)(1,"span",9),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.nrm(4,"span",32),e.k0s()),2&r&&(e.R7$(2),e.JRh(e.bMT(3,1,"StarterMode.RequiresUpgrade")))}function aS(r,d){if(1&r){const t=e.RV6();e.j41(0,"button",28),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const l=e.XpG(2),C=e.sdS(5);return e.Njj(l.showWizard(C,!0))}),e.j41(2,"span")(3,"span",9),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.nrm(6,"span",29),e.k0s(),e.DNE(7,rm,5,3,"span",30),e.k0s()}if(2&r){const t=e.XpG(2);e.Y8G("tooltip",e.bMT(1,3,"Clients.Import.Import")),e.R7$(4),e.JRh(e.bMT(5,5,"Clients.Import.ImportClients")),e.R7$(3),e.Y8G("ngIf",t.licenseInfo.isStarterLicense())}}function lS(r,d){if(1&r&&(e.j41(0,"span",37),e.EFF(1),e.k0s()),2&r){const t=e.XpG(3);e.R7$(),e.JRh(t.clientSelectedCount)}}function sm(r,d){1&r&&(e.j41(0,"span",38)(1,"span",9),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.nrm(4,"span",32),e.k0s()),2&r&&(e.R7$(2),e.JRh(e.bMT(3,1,"StarterMode.RequiresUpgrade")))}function tv(r,d){if(1&r){const t=e.RV6();e.j41(0,"button",33),e.bIt("click",function(){e.eBV(t);const l=e.XpG(2);return e.Njj(l.exportClients())}),e.j41(1,"span")(2,"span",9),e.EFF(3),e.k0s(),e.nrm(4,"span",34),e.DNE(5,lS,2,1,"span",35),e.k0s(),e.DNE(6,sm,5,3,"span",36),e.k0s()}if(2&r){const t=e.XpG(2);e.Y8G("tooltip",t.currentExportTooltip),e.R7$(3),e.JRh(t.currentExportText),e.R7$(2),e.Y8G("ngIf",t.shouldDisplayCount),e.R7$(),e.Y8G("ngIf",t.licenseInfo.isStarterLicense())}}function Vc(r,d){if(1&r){const t=e.RV6();e.j41(0,"app-action-bar"),e.qex(1,16),e.DNE(2,af,14,14,"div",17),e.bVm(),e.qex(3,18),e.j41(4,"button",19),e.bIt("click",function(){e.eBV(t);const l=e.XpG(),C=e.sdS(3);return e.Njj(l.showWizard(C,l.limitReached))}),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.DNE(7,aS,8,7,"button",20)(8,tv,7,4,"button",21),e.bVm(),e.k0s()}if(2&r){const t=e.XpG();e.R7$(2),e.Y8G("ngIf",(null==t.pagedResult?null:t.pagedResult.results.length)>0),e.R7$(2),e.Y8G("disabled",t.limitReached),e.R7$(),e.SpI(" ",e.bMT(6,5,"Clients.Add")," "),e.R7$(2),e.Y8G("ngIf",t.canImportExport),e.R7$(),e.Y8G("ngIf",t.canImportExport)}}function nv(r,d){1&r&&e.nrm(0,"app-simple-loader")}function iv(r,d){1&r&&(e.j41(0,"div",42)(1,"div"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&r&&(e.R7$(2),e.JRh(e.bMT(3,1,"Clients.None")))}function cS(r,d){if(1&r){const t=e.RV6();e.j41(0,"th",49)(1,"label",50)(2,"input",51),e.bIt("change",function(){e.eBV(t);const l=e.XpG(3);return e.Njj(l.toggleAllClients())}),e.mxI("ngModelChange",function(l){e.eBV(t);const C=e.XpG(3);return e.DH7(C.allClientsSelected,l)||(C.allClientsSelected=l),e.Njj(l)}),e.k0s()()()}if(2&r){const t=e.XpG(3);e.R7$(2),e.R50("ngModel",t.allClientsSelected)}}function y2(r,d){if(1&r){const t=e.RV6();e.j41(0,"label",65)(1,"input",66),e.bIt("change",function(){e.eBV(t);const l=e.XpG(5);return e.Njj(l.areAllClientsSelected())}),e.mxI("ngModelChange",function(l){e.eBV(t);const C=e.XpG(2).$implicit;return e.DH7(C.selected,l)||(C.selected=l),e.Njj(l)}),e.k0s()()}if(2&r){const t=e.XpG(2).$implicit;e.FS9("for",t.id),e.R7$(),e.FS9("id",t.id),e.R50("ngModel",t.selected)}}function lf(r,d){if(1&r&&(e.j41(0,"td",63),e.DNE(1,y2,2,3,"label",64),e.k0s()),2&r){const t=e.XpG().$implicit,o=e.XpG(3);e.R7$(),e.Y8G("ngIf",!o.isClientReadOnly(t))}}function uS(r,d){1&r&&(e.j41(0,"span",67)(1,"span",9),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&r&&(e.R7$(2),e.JRh(e.bMT(3,1,"Common.Disabled")))}function rv(r,d){1&r&&(e.j41(0,"span",68),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Disabled")," "))}function sv(r,d){1&r&&(e.j41(0,"span",69),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Reserved")," "))}function ov(r,d){1&r&&(e.j41(0,"span",9),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.JRh(e.bMT(2,1,"Common.Edit")))}function om(r,d){1&r&&(e.j41(0,"span",9),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.JRh(e.bMT(2,1,"Common.View")))}function av(r,d){if(1&r){const t=e.RV6();e.j41(0,"tr",52),e.DNE(1,lf,2,1,"td",53),e.j41(2,"td",54),e.bIt("click",function(){const l=e.eBV(t).$implicit,C=e.XpG(3);return e.Njj(C.viewOrEditClient(l))}),e.DNE(3,uS,4,3,"span",55),e.j41(4,"b"),e.EFF(5),e.k0s()(),e.j41(6,"td",56),e.bIt("click",function(){const l=e.eBV(t).$implicit,C=e.XpG(3);return e.Njj(C.viewOrEditClient(l))}),e.EFF(7),e.k0s(),e.j41(8,"td",57),e.bIt("click",function(){const l=e.eBV(t).$implicit,C=e.XpG(3);return e.Njj(C.viewOrEditClient(l))}),e.DNE(9,rv,3,3,"span",58)(10,sv,3,3,"span",59),e.k0s(),e.j41(11,"td",57),e.bIt("click",function(){const l=e.eBV(t).$implicit,C=e.XpG(3);return e.Njj(C.viewOrEditClient(l))}),e.j41(12,"button",60),e.bIt("click",function(){const l=e.eBV(t).$implicit,C=e.XpG(3);return e.Njj(C.viewOrEditClient(l))}),e.nrm(13,"span",61),e.DNE(14,ov,3,3,"span",62)(15,om,3,3,"span",62),e.k0s()()()}if(2&r){const t=d.$implicit,o=e.XpG(3);e.AVh("inactive",!t.enabled||o.isClientReadOnly(t)),e.FS9("id",t.clientName),e.R7$(),e.Y8G("ngIf",!o.isIdentityServerManagerReadOnly),e.R7$(2),e.Y8G("ngIf",!t.enabled),e.R7$(),e.AVh("tw-text-blue-500",!(null!=t&&t.nonEditable)),e.R7$(),e.SpI(" ",null==t?null:t.clientName," "),e.R7$(2),e.SpI(" ",null==t?null:t.description," "),e.R7$(2),e.Y8G("ngIf",!t.enabled),e.R7$(),e.Y8G("ngIf",null==t?null:t.nonEditable),e.R7$(3),e.Y8G("ngClass",e.l_i(14,sS,!o.isIdentityServerManagerReadOnly&&!o.isClientReadOnly(t),o.isIdentityServerManagerReadOnly||o.isClientReadOnly(t))),e.R7$(),e.Y8G("ngIf",!o.isIdentityServerManagerReadOnly&&!o.isClientReadOnly(t)),e.R7$(),e.Y8G("ngIf",o.isIdentityServerManagerReadOnly||o.isClientReadOnly(t))}}function cf(r,d){if(1&r&&(e.j41(0,"table",43)(1,"thead")(2,"tr"),e.DNE(3,cS,3,1,"th",44),e.j41(4,"th",45),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"th",46),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"th",47)(11,"span",9),e.EFF(12),e.nI1(13,"translate"),e.k0s()(),e.j41(14,"th",47)(15,"span",9),e.EFF(16),e.nI1(17,"translate"),e.k0s()()()(),e.j41(18,"tbody"),e.DNE(19,av,16,17,"tr",48),e.k0s()()),2&r){const t=e.XpG(2);e.R7$(3),e.Y8G("ngIf",!t.isIdentityServerManagerReadOnly),e.R7$(2),e.JRh(e.bMT(6,6,"Common.Name")),e.R7$(3),e.JRh(e.bMT(9,8,"Common.Description")),e.R7$(4),e.JRh(e.bMT(13,10,"Common.Reserved")),e.R7$(4),e.JRh(e.bMT(17,12,"Common.Actions")),e.R7$(3),e.Y8G("ngForOf",t.allClients)}}function wd(r,d){if(1&r){const t=e.RV6();e.j41(0,"app-pager",70),e.bIt("onGoToPage",function(l){e.eBV(t);const C=e.XpG(2);return e.Njj(C.goToPage(l))}),e.k0s()}if(2&r){const t=e.XpG(2);e.Y8G("totalResults",null==t.pagedResult?null:t.pagedResult.totalCount)("currentPage",t.page)("lastPage",null==t.pagedResult?null:t.pagedResult.pageCount)}}function lv(r,d){if(1&r&&(e.qex(0),e.DNE(1,iv,4,3,"div",39)(2,cf,20,14,"table",40)(3,wd,1,3,"app-pager",41),e.bVm()),2&r){const t=e.XpG();e.R7$(),e.Y8G("ngIf",(null==t.allClients?null:t.allClients.length)<1),e.R7$(),e.Y8G("ngIf",(null==t.allClients?null:t.allClients.length)>0),e.R7$(),e.Y8G("ngIf",(null==t.pagedResult?null:t.pagedResult.results.length)>0&&!t.isLoading)}}let am=(()=>{class r extends yo.if{get limitReached(){return this.licenseInfo?.clientLimitReached??!1}get overLimit(){return this.licenseInfo?.overClientLimit??!1}constructor(t,o,l,C,$,me,He,at,Ut,on,vn,wn){super(at,$,!0),this.router=t,this.errorService=o,this.titleService=l,this.clientsService=C,this.translate=$,this.localize=me,this.exportService=He,this.securityService=Ut,this.modalService=on,this.localizeRouter=vn,this.licenseService=wn,this.pageSize=25,this.page=1,this.term="",this.isLoading=!0,this.allClients=[],this.allClientsSelected=!1,this.clientSelectedCount=0,this.currentExportText=this.translate.instant("Clients.Export.ExportAllClients"),this.currentExportTooltip=this.translate.instant("Clients.Export.ExportAll"),this.shouldDisplayCount=!1,this.canImportExport=!1,this.pageStream=new xr.B,this.pageSizeStream=new xr.B,this.mapSearchTerm=this.mapSearchTerm.bind(this)}reload(){this.pageStream.next(this.page),this.pageSizeStream.next(this.pageSize)}mapSearchTerm(t){return this.term=t,{searchTerm:t,page:1,pageSize:this.pageSize}}ngOnInit(){const t=this.translate.instant("Nav.Clients")+" - "+Bt.$9.SITE_TITLE;this.isLoading=!0,this.titleService.setTitle(t),this.canImportExport=this.securityService.allView;const o=this.pageStream.pipe((0,Di.T)($=>(this.page=$,{searchTerm:this.term,page:$,pageSize:this.pageSize}))),l=this.pageSizeStream.pipe((0,Di.T)($=>(this.pageSize=$,{searchTerm:this.term,page:this.page,pageSize:$})));o.pipe((0,Cl.X)(l),(0,Cl.X)(this.searchSource),(0,Cl.X)(this.enterKeySource),(0,vl.Z)({searchTerm:this.term,page:this.page,pageSize:this.pageSize}),(0,ga.Z)($=>(this.isLoading=!0,this.clientsService.getClients($.searchTerm,$.page,$.pageSize).pipe((0,va.c)(200))))).subscribe({next:$=>{this.pagedResult=$,this.allClients=this.pagedResult.results.map(me=>new QD(me)).sort((me,He)=>Number(He.nonEditable)-Number(me.nonEditable)),this.isLoading=!1},error:$=>{this.errorService.handleError($),this.isLoading=!1}}),this.licenseService.getLicenseInfo().pipe((0,Jt.$)()).subscribe($=>{this.licenseInfo=$})}checkStarterMode(){if(this.licenseInfo.isStarterLicense()){const t=this.localizeRouter.translateRoute("/starter-mode/teaser");this.router.navigate([t],{queryParams:{feature:Cw.p.ImportExportClients}})}return this.licenseInfo.isStarterLicense()}showWizard(t,o=!1){o&&this.checkStarterMode()||this.modalService.show(t,{id:Ro.Id,ariaLabelledBy:Ro.TileId,ariaDescribedby:Ro.DescriptionId,backdrop:"static"})}goToPage(t){this.pageStream.next(t)}setPageLength(t){this.page=1,this.pageSizeStream.next(t)}viewOrEditClient(t){this.isIdentityServerManagerReadOnly||this.isClientReadOnly(t)?this.viewClient(t):this.editClient(t)}viewClient(t){const o=this.localize.translateRoute("/clients/view");this.router.navigate([o,t.id])}editClient(t){const o=this.localize.translateRoute("/clients");this.router.navigate([o,t.id])}exportClients(){if(!this.checkStarterMode())if(0===this.clientSelectedCount)this.exportService.exportAllClients();else{const t=this.allClients.filter(o=>o.selected).map(o=>o.clientId);this.exportService.exportSelectedClients(t)}}areAllClientsSelected(){this.allClientsSelected=this.allClients.every(t=>t.selected||t.nonEditable),this.clientSelectedCount=this.allClients.filter(t=>t.selected&&!t.nonEditable).length,0===this.clientSelectedCount?(this.currentExportText=this.translate.instant("Clients.Export.ExportAllClients"),this.currentExportTooltip=this.translate.instant("Clients.Export.ExportAll"),this.shouldDisplayCount=!1):(this.shouldDisplayCount=this.allClients.filter(t=>!t.nonEditable).length!==this.clientSelectedCount,this.currentExportText=`${this.translate.instant("Clients.Export.ExportSelectedClients")} (${this.clientSelectedCount})`,this.currentExportTooltip=this.translate.instant("Clients.Export.ExportSelected"))}toggleAllClients(){let t=!0;this.allClients.forEach(o=>{!o.nonEditable&&!o.selected&&(t=!1)}),this.allClients.forEach(o=>{o.nonEditable||(o.selected=!t)}),this.shouldDisplayCount=!1,this.clientSelectedCount=t?0:this.allClients.filter(o=>!o.nonEditable).length,this.currentExportText=this.translate.instant("Clients.Export.ExportAllClients"),this.currentExportTooltip=this.translate.instant("Clients.Export.ExportAll"),this.allClientsSelected=!t}get isIdentityServerManagerReadOnly(){return(0,Mi.ci)(this.securityService.userPermissions)}handleInternalServerError(){this.toastr.error(this.translate.instant("Clients.Filter.StoredProcedureErrorMessage"),this.translate.instant("Notifications.Error"))}isClientReadOnly(t){const o=Yh.RestrictedClientTypes.includes(t.clientType);return t.nonEditable||this.overLimit||o&&this.licenseInfo.isStarterLicense()}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(Ct.Ix),e.rXU(Z.I),e.rXU(i.hE),e.rXU(Ll._),e.rXU(bn.c$),e.rXU($i.QG),e.rXU(Mh),e.rXU(Zn.tw),e.rXU(li.i),e.rXU(Tt.I8),e.rXU($i.QG),e.rXU(Fc.X))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["ng-component"]],features:[e.Vt3],decls:20,vars:14,consts:[["addClientModal",""],["importWizardModal",""],[3,"title"],["id","clientsList",1,"tw-container","tw-mx-auto"],["id","quotaLimitAlert","role","alert","class","tw-mb-4",3,"ngClass",4,"ngIf"],["id","searchContainer",1,"tw-mb-2"],[1,"tw-flex","tw-bg-white","tw-border","tw-border-grey-300","tw-opacity-75","tw-cursor-text","tw-rounded","focus-within:tw-opacity-100","focus-within:tw-border-blue-400","tw-transition-all","tw-ease-in-out"],["for","searchUserName",1,"tw-flex","tw-items-center","tw-text-grey-500","tw-m-0","tw-ml-3"],["aria-hidden","true",1,"far","fa-search","tw-text-sm"],[1,"sr-only"],["id","searchTerm","type","search",1,"tw-bg-transparent","tw-border-0","tw-text-base","tw-leading-tight","tw-px-2","tw-py-2","tw-w-full","focus:tw-outline-none","tw-transition-all","tw-ease-in-out",3,"ngModelChange","keyup","ngModel","placeholder"],[4,"ngIf"],["id","addClientComponent",3,"finish"],["id","importWizardModal",3,"finish"],["id","quotaLimitAlert","role","alert",1,"tw-mb-4",3,"ngClass"],[3,"innerHTML"],["left",""],["class","tw-hidden tw-form-select tw-w-auto sm:tw-block",4,"ngIf"],["right",""],["id","addClientBtn",1,"tw-btn-success",3,"click","disabled"],["id","importButton","class","tw-btn-white tw-ml-3","container","body",3,"tooltip","click",4,"ngIf"],["id","exportButton","class","tw-btn-white tw-ml-3 tw-relative","container","body",3,"tooltip","click",4,"ngIf"],[1,"tw-hidden","tw-form-select","tw-w-auto","sm:tw-block"],["for","pageSizeToggle",1,"sr-only"],["id","pageSizeToggle",1,"tw-form-control","tw-form-control-small",3,"ngModelChange","change","ngModel"],["value","25"],["value","50"],["value","100"],["id","importButton","container","body",1,"tw-btn-white","tw-ml-3",3,"click","tooltip"],["aria-hidden","true",1,"fad","fa-arrow-from-bottom"],["id","importUpgradeSymbol",4,"ngIf"],["id","importUpgradeSymbol"],["aria-hidden","true",1,"tw-text-secondary-500","far","fa-arrow-alt-circle-up","tw-absolute"],["id","exportButton","container","body",1,"tw-btn-white","tw-ml-3","tw-relative",3,"click","tooltip"],["aria-hidden","true",1,"fad","fa-arrow-to-bottom"],["class","ml-2",4,"ngIf"],["id","exportUpgradeSymbol",4,"ngIf"],[1,"ml-2"],["id","exportUpgradeSymbol"],["id","clientsNone","class","tw-alert","role","alert",4,"ngIf"],["id","clientsTable","class","datatable selectable hover",4,"ngIf"],[3,"totalResults","currentPage","lastPage","onGoToPage",4,"ngIf"],["id","clientsNone","role","alert",1,"tw-alert"],["id","clientsTable",1,"datatable","selectable","hover"],["class","toggle tw-w-1",4,"ngIf"],[1,"lg:tw-w-1/3"],[1,"tw-hidden","lg:tw-table-cell"],[1,"tw-w-1"],["class","group clientRow",3,"id","inactive",4,"ngFor","ngForOf"],[1,"toggle","tw-w-1"],["for","toggleAllClients",1,"toggle-label"],["id","toggleAllClients","type","checkbox",1,"tw-block","tw-cursor-pointer",3,"change","ngModelChange","ngModel"],[1,"group","clientRow",3,"id"],["class","toggle",4,"ngIf"],[1,"tw-max-w-0","tw-truncate",3,"click"],["class","fas fa-exclamation-triangle tw-text-orange-500 tw-mr-1","container","body",4,"ngIf"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell",3,"click"],[3,"click"],["class","tw-pill-warning",4,"ngIf"],["class","tw-pill",4,"ngIf"],["type","button",1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click"],["id","viewOrEditIcon","aria-hidden","true",3,"ngClass"],["class","sr-only",4,"ngIf"],[1,"toggle"],["class","toggle-label",3,"for",4,"ngIf"],[1,"toggle-label",3,"for"],["type","checkbox",1,"tw-block","tw-cursor-pointer","checkbox",3,"change","ngModelChange","id","ngModel"],["container","body",1,"fas","fa-exclamation-triangle","tw-text-orange-500","tw-mr-1"],[1,"tw-pill-warning"],[1,"tw-pill"],[3,"onGoToPage","totalResults","currentPage","lastPage"]],template:function(o,l){if(1&o){const C=e.RV6();e.nrm(0,"app-title-bar",2),e.nI1(1,"translate"),e.DNE(2,oS,2,0,"ng-template",null,0,e.C5r)(4,ev,2,0,"ng-template",null,1,e.C5r),e.j41(6,"div",3),e.DNE(7,Cd,3,10,"div",4),e.j41(8,"div",5)(9,"div",6)(10,"label",7),e.nrm(11,"span",8),e.j41(12,"span",9),e.EFF(13),e.nI1(14,"translate"),e.k0s()(),e.j41(15,"input",10),e.nI1(16,"translate"),e.mxI("ngModelChange",function(me){return e.eBV(C),e.DH7(l.searchTerm,me)||(l.searchTerm=me),e.Njj(me)}),e.bIt("keyup",function(me){return e.eBV(C),e.Njj(l.search(me))}),e.k0s()()(),e.DNE(17,Vc,9,7,"app-action-bar",11)(18,nv,1,0,"app-simple-loader",11)(19,lv,4,3,"ng-container",11),e.k0s()}2&o&&(e.Y8G("title",e.bMT(1,8,"Nav.Clients")),e.R7$(7),e.Y8G("ngIf",l.limitReached),e.R7$(6),e.JRh(e.bMT(14,10,"Common.Search")),e.R7$(2),e.FS9("placeholder",e.bMT(16,12,"Clients.SearchPlaceholder")),e.R50("ngModel",l.searchTerm),e.R7$(2),e.Y8G("ngIf",!l.isLoading&&!l.isIdentityServerManagerReadOnly),e.R7$(),e.Y8G("ngIf",l.isLoading),e.R7$(),e.Y8G("ngIf",!l.isLoading))},dependencies:[fn.YU,fn.Sq,fn.bT,y.xH,y.y7,y.me,y.Zm,y.wz,y.BC,y.vS,De.dg,qt.z,yl.B,rc.n,Ri.d,v2,iS,bn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return r})();const Sd=(r,d)=>({title:r,link:d}),cv=r=>[r];function lm(r,d){1&r&&(e.j41(0,"option",23),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.JRh(e.bMT(2,1,"Nav.Saml")))}function uf(r,d){1&r&&(e.j41(0,"option",24),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.RelyingParty.Heading")))}function dS(r,d){1&r&&(e.j41(0,"option",25),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.URLS.Title")))}function uv(r,d){1&r&&(e.j41(0,"option",26),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.JRh(e.bMT(2,1,"Common.Secrets")))}function hS(r,d){1&r&&(e.j41(0,"option",27),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.JRh(e.bMT(2,1,"Common.CIBA")))}function fS(r,d){1&r&&(e.j41(0,"span",28),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" - ",e.bMT(2,1,"StarterMode.RequiresUpgrade")," "))}function pS(r,d){1&r&&e.nrm(0,"app-custom-tab",17),2&r&&e.Y8G("tabTitle","Nav.Saml")("tabValue","saml")}function dv(r,d){1&r&&e.nrm(0,"app-custom-tab",17),2&r&&e.Y8G("tabTitle","Clients.RelyingParty.Heading")("tabValue","wsfed")}function hv(r,d){1&r&&e.nrm(0,"app-custom-tab",17),2&r&&e.Y8G("tabTitle","Clients.URLS.Title")("tabValue","applicationurls")}function zi(r,d){1&r&&e.nrm(0,"app-custom-tab",17),2&r&&e.Y8G("tabTitle","Common.Secrets")("tabValue","secrets")}function fv(r,d){1&r&&e.nrm(0,"app-custom-tab",17),2&r&&e.Y8G("tabTitle","Common.CIBA")("tabValue","ciba")}function pv(r,d){1&r&&(e.j41(0,"span",29),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Disabled")," "))}let Cu=(()=>{class r{constructor(t,o,l,C,$,me,He,at){this.clientCachingService=t,this.clientViewService=o,this.titleService=l,this.translate=C,this.errorService=$,this.licenseService=me,this.router=He,this.route=at}ngOnInit(){this.clientSubscription=this.clientCachingService.unsavedCache$.subscribe(t=>{this.client=t;const o=this.translate.instant("Clients.Title")+" "+this.client.clientName+" - "+Bt.$9.SITE_TITLE;this.titleService.setTitle(o)}),this.licenseService.getLicenseInfo().pipe().subscribe({next:t=>this.licenseInfo=t})}ngOnDestroy(){this.clientSubscription.unsubscribe()}mobRoute(t){this.router.navigate([t],{relativeTo:this.route})}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(mp.e),e.rXU(Hh.q),e.rXU(i.hE),e.rXU(bn.c$),e.rXU(Z.I),e.rXU(Fc.X),e.rXU(Ct.Ix),e.rXU(Ct.nX))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-view-client"]],features:[e.Jv_([Hh.q])],decls:45,vars:54,consts:[[3,"title","crumbs","hasButton","hasTabs","isReadOnly","isReserved"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","details"],["value","saml",4,"ngIf"],["value","wsfed",4,"ngIf"],["value","applicationurls",4,"ngIf"],["value","secrets",4,"ngIf"],["value","resources"],["value","ciba",4,"ngIf"],["value","advanced"],["value","clientaudits"],["id","upgradeSymbol",4,"ngIf"],[1,"tw-hidden","md:tw-flex"],[3,"tabTitle","tabValue"],[3,"tabTitle","tabValue",4,"ngIf"],[3,"tabTitle","tabValue","restrictedStarter"],["badge",""],["class","tw-pill-warning tw-mr-2",4,"ngIf"],["id","viewClient",1,"tw-container","tw-mx-auto"],["value","saml"],["value","wsfed"],["value","applicationurls"],["value","secrets"],["value","ciba"],["id","upgradeSymbol"],[1,"tw-pill-warning","tw-mr-2"]],template:function(o,l){if(1&o&&(e.j41(0,"app-title-bar",0),e.nI1(1,"translate"),e.nI1(2,"localize"),e.qex(3,1),e.j41(4,"div",2)(5,"label",3),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"div",4)(9,"select",5),e.bIt("change",function($){return l.mobRoute($.target.value)}),e.j41(10,"option",6),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"option",6),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.DNE(16,lm,3,3,"option",7)(17,uf,3,3,"option",8)(18,dS,3,3,"option",9)(19,uv,3,3,"option",10),e.j41(20,"option",11),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.DNE(23,hS,3,3,"option",12),e.j41(24,"option",13),e.EFF(25),e.nI1(26,"translate"),e.k0s(),e.j41(27,"option",14),e.EFF(28),e.nI1(29,"translate"),e.DNE(30,fS,3,3,"span",15),e.k0s()()()(),e.j41(31,"app-custom-tabs",16),e.nrm(32,"app-custom-tab",17),e.DNE(33,pS,1,2,"app-custom-tab",18)(34,dv,1,2,"app-custom-tab",18)(35,hv,1,2,"app-custom-tab",18)(36,zi,1,2,"app-custom-tab",18),e.nrm(37,"app-custom-tab",17),e.DNE(38,fv,1,2,"app-custom-tab",18),e.nrm(39,"app-custom-tab",17)(40,"app-custom-tab",19),e.k0s(),e.bVm(),e.qex(41,20),e.DNE(42,pv,3,3,"span",21),e.bVm(),e.k0s(),e.j41(43,"div",22),e.nrm(44,"router-outlet"),e.k0s()),2&o){let C,$;e.Y8G("title",l.client.clientName)("crumbs",e.eq3(52,cv,e.l_i(49,Sd,e.bMT(1,33,"Nav.Clients"),e.bMT(2,35,"/clients"))))("hasButton",!0)("hasTabs",!0)("isReadOnly",!0)("isReserved",l.client.nonEditable),e.R7$(6),e.JRh(e.bMT(7,37,"Nav.SubMenu")),e.R7$(5),e.SpI("",e.bMT(12,39,"Nav.SubMenu"),"..."),e.R7$(3),e.JRh(e.bMT(15,41,"Nav.Details")),e.R7$(2),e.Y8G("ngIf",l.clientViewService.saml.display),e.R7$(),e.Y8G("ngIf",l.clientViewService.wsFed.display),e.R7$(),e.Y8G("ngIf",l.clientViewService.applicationUrls.display),e.R7$(),e.Y8G("ngIf",l.clientViewService.secrets.display),e.R7$(2),e.JRh(e.bMT(22,43,"Nav.Resources")),e.R7$(2),e.Y8G("ngIf",l.clientViewService.ciba.display),e.R7$(2),e.JRh(e.bMT(26,45,"Common.Advanced")),e.R7$(3),e.SpI(" ",e.bMT(29,47,"Nav.Audits")," "),e.R7$(2),e.Y8G("ngIf",null!==(C=null==l.licenseInfo?null:l.licenseInfo.isStarterLicense())&&void 0!==C&&C),e.R7$(2),e.Y8G("tabTitle","Nav.Details")("tabValue","details"),e.R7$(),e.Y8G("ngIf",l.clientViewService.saml.display),e.R7$(),e.Y8G("ngIf",l.clientViewService.wsFed.display),e.R7$(),e.Y8G("ngIf",l.clientViewService.applicationUrls.display),e.R7$(),e.Y8G("ngIf",l.clientViewService.secrets.display),e.R7$(),e.Y8G("tabTitle","Nav.Resources")("tabValue","resources"),e.R7$(),e.Y8G("ngIf",l.clientViewService.ciba.display),e.R7$(),e.Y8G("tabTitle","Common.Advanced")("tabValue","advanced"),e.R7$(),e.Y8G("tabTitle","Nav.Audits")("tabValue","clientaudits")("restrictedStarter",null!==($=null==l.licenseInfo?null:l.licenseInfo.isStarterLicense())&&void 0!==$&&$),e.R7$(2),e.Y8G("ngIf",!l.client.enabled)}},dependencies:[Ct.n3,fn.bT,qt.z,nn.G,_n.v,bn.D9,$i.tl],encapsulation:2})}}return r})();var df=p(8853);const mv=[{path:"clients",component:am,canActivate:[Ar.h,Lr._],data:{permissions:[Yn.a[Yn.a.IdentityServerManager],Yn.a[Yn.a.IdentityServerManagerReadOnly],Yn.a[Yn.a.AllReadOnly],Yn.a[Yn.a.All]]}},{path:"clients/:Id",component:_w,loadChildren:()=>Promise.all([p.e(861),p.e(419),p.e(76),p.e(600)]).then(p.bind(p,6600)).then(r=>r.EditClientModule),canDeactivate:[Wo.M],resolve:{client:Dh},canActivate:[Ar.h,Lr._,df.a],data:{permissions:[Yn.a[Yn.a.IdentityServerManager],Yn.a[Yn.a.All]]}},{path:"clients/view/:Id",component:Cu,loadChildren:()=>Promise.all([p.e(861),p.e(419),p.e(908)]).then(p.bind(p,4908)).then(r=>r.ViewClientModule),resolve:{client:Dh},canActivate:[Ar.h,Lr._],data:{permissions:[Yn.a[Yn.a.IdentityServerManager],Yn.a[Yn.a.IdentityServerManagerReadOnly],Yn.a[Yn.a.AllReadOnly],Yn.a[Yn.a.All]]}}];let hf=(()=>{class r{static{this.\u0275fac=function(o){return new(o||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({imports:[Ct.iI.forChild(mv),$i.XE.forChild(mv),Ct.iI]})}}return r})();var wu=p(1466);let cm=(()=>{class r{static{this.\u0275fac=function(o){return new(o||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({providers:[Dh,Ah.R,wu.z,cd.c,gd.z,w1.d,vp.S,gp._,Mh,xc.V],imports:[hf,fn.MD,Ct.iI,y.YN,lc.Y,y.X1,De.Ss,Tt.Q_,bn.h,$i.XE,O0.F,Fp,ld.m,_o.i,Ba.c,Th.t,To.c,La.E,co.h,cc.w,uc.N,El.Y]})}}return r})();var Su=p(4811),um=p(8939);class dm extends $i.xq{constructor(d,t,o,l,C="assets/locales.json"){super(d,t,o),this.http=l,this.path=C}load(d){return new Promise(t=>{this.http.get(`${this.path}`).subscribe(o=>{this.locales=o.locales,this.prefix=o.prefix||"",this.escapePrefix=o.escapePrefix||"",this.init(d).then(t)})})}}var ff=p(7773),pf=p(6807),mf=p(967),pc=p(1985),Vo=p(6977),Zo=p(3726),gv=p(1584),gf=p(8750),vv=p(2326),yv=p(4360);p(7786);var b2=p(9326);function Ed(...r){const d=(0,b2.ms)(r),t=(0,vv.K)(r);return t.length?new pc.c(o=>{let l=t.map(()=>[]),C=t.map(()=>!1);o.add(()=>{l=C=null});for(let $=0;!o.closed&&$<t.length;$++)(0,gf.Tg)(t[$]).subscribe((0,yv._)(o,me=>{if(l[$].push(me),l.every(He=>He.length)){const He=l.map(at=>at.shift());o.next(d?d(...He):He),l.some((at,Ut)=>!at.length&&C[Ut])&&o.complete()}},()=>{C[$]=!0,!l[$].length&&o.complete()}));return()=>{l=C=null}}):Mc.w}var _v=p(8793),sl=p(5964),Rl=p(6697),hm=p(8141),fm=p(3993),pm=p(5558);Math,Math,Math;const Lv=["*"],rE=["dialog"],TE={animation:!0,transitionTimerDelayMs:5};let xf=(()=>{class r{constructor(){this.animation=TE.animation}static{this.\u0275fac=function(o){return new(o||r)}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function Wc(r){return"string"==typeof r}function ku(r){return null!=r}function Gd(r){return(r||document.body).getBoundingClientRect()}const py=()=>{},{transitionTimerDelayMs:L2}=TE,kf=new Map,ll=(r,d,t,o)=>{let l=o.context||{};const C=kf.get(d);if(C)switch(o.runningTransition){case"continue":return Mc.w;case"stop":r.run(()=>C.transition$.complete()),l=Object.assign(C.context,l),kf.delete(d)}const $=t(d,o.animation,l)||py;if(!o.animation||"none"===window.getComputedStyle(d).transitionProperty)return r.run(()=>$()),(0,dc.of)(void 0).pipe(function B2(r){return d=>new pc.c(t=>d.subscribe({next:$=>r.run(()=>t.next($)),error:$=>r.run(()=>t.error($)),complete:()=>r.run(()=>t.complete())}))}(r));const me=new xr.B,He=new xr.B,at=me.pipe(function wS(...r){return d=>(0,_v.x)(d,(0,dc.of)(...r))}(!0));kf.set(d,{transition$:me,complete:()=>{He.next(),He.complete()},context:l});const Ut=function hy(r){const{transitionDelay:d,transitionDuration:t}=window.getComputedStyle(r);return 1e3*(parseFloat(d)+parseFloat(t))}(d);return r.runOutsideAngular(()=>{const on=(0,Zo.R)(d,"transitionend").pipe((0,Vo.Q)(at),(0,sl.p)(({target:wn})=>wn===d));(function qo(...r){return 1===(r=(0,vv.K)(r)).length?(0,gf.Tg)(r[0]):new pc.c(function bS(r){return d=>{let t=[];for(let o=0;t&&!d.closed&&o<r.length;o++)t.push((0,gf.Tg)(r[o]).subscribe((0,yv._)(d,l=>{if(t){for(let C=0;C<t.length;C++)C!==o&&t[C].unsubscribe();t=null}d.next(l)})))}}(r))})((0,gv.O)(Ut+L2).pipe((0,Vo.Q)(at)),on,He).pipe((0,Vo.Q)(at)).subscribe(()=>{kf.delete(d),r.run(()=>{$(),me.next(),me.complete()})})}),me.asObservable()};let my=(()=>{class r{static{this.\u0275fac=function(o){return new(o||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({})}}return r})(),$m=(()=>{class r{static{this.\u0275fac=function(o){return new(o||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({})}}return r})(),vy=(()=>{class r{static{this.\u0275fac=function(o){return new(o||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({})}}return r})(),yy=(()=>{class r{static{this.\u0275fac=function(o){return new(o||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({})}}return r})();var $r=function(r){return r[r.Tab=9]="Tab",r[r.Enter=13]="Enter",r[r.Escape=27]="Escape",r[r.Space=32]="Space",r[r.PageUp=33]="PageUp",r[r.PageDown=34]="PageDown",r[r.End=35]="End",r[r.Home=36]="Home",r[r.ArrowLeft=37]="ArrowLeft",r[r.ArrowUp=38]="ArrowUp",r[r.ArrowRight=39]="ArrowRight",r[r.ArrowDown=40]="ArrowDown",r}($r||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const Yc=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Zm(r){const d=Array.from(r.querySelectorAll(Yc)).filter(t=>-1!==t.tabIndex);return[d[0],d[d.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let pg=(()=>{class r{static{this.\u0275fac=function(o){return new(o||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({})}}return r})(),Gu=(()=>{class r{constructor(){this._disabled=!1,this.nativeElement=(0,e.WQX)(e.aKT).nativeElement,this.tabindex=0}set disabled(t){this._disabled=""===t||!0===t}get disabled(){return this._disabled}static{this.\u0275fac=function(o){return new(o||r)}}static{this.\u0275dir=e.FsC({type:r,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:3,hostBindings:function(o,l){2&o&&(e.Mr5("tabIndex",l.disabled?-1:l.tabindex),e.AVh("disabled",l.disabled))},inputs:{tabindex:"tabindex",disabled:"disabled"},standalone:!0})}}return r})(),Vf=(()=>{class r{constructor(){this.item=(0,e.WQX)(Gu)}static{this.\u0275fac=function(o){return new(o||r)}}static{this.\u0275dir=e.FsC({type:r,selectors:[["button","ngbDropdownItem",""]],hostVars:1,hostBindings:function(o,l){2&o&&e.Mr5("disabled",l.item.disabled)},standalone:!0})}}return r})(),Hu=(()=>{class r{static{this.\u0275fac=function(o){return new(o||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({})}}return r})(),tu=(()=>{class r{constructor(){this._ngbConfig=(0,e.WQX)(xf),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(t){this._animation=t}static{this.\u0275fac=function(o){return new(o||r)}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();class ec{constructor(d,t,o){this.nodes=d,this.viewRef=t,this.componentRef=o}}let vg=(()=>{class r{constructor(){this._document=(0,e.WQX)(fn.qQ)}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),o=this._document.body,l=o.style,{overflow:C,paddingRight:$}=l;if(t>0){const me=parseFloat(window.getComputedStyle(o).paddingRight);l.paddingRight=`${me+t}px`}return l.overflow="hidden",()=>{t>0&&(l.paddingRight=$),l.overflow=C}}static{this.\u0275fac=function(o){return new(o||r)}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),pA=(()=>{class r{constructor(){this._nativeElement=(0,e.WQX)(e.aKT).nativeElement,this._zone=(0,e.WQX)(e.SKi)}ngOnInit(){this._zone.onStable.asObservable().pipe((0,Rl.s)(1)).subscribe(()=>{ll(this._zone,this._nativeElement,(t,o)=>{o&&Gd(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return ll(this._zone,this._nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}static{this.\u0275fac=function(o){return new(o||r)}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(o,l){2&o&&(e.HbH("modal-backdrop"+(l.backdropClass?" "+l.backdropClass:"")),e.AVh("show",!l.animation)("fade",l.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[e.aNF],decls:0,vars:0,template:function(o,l){},encapsulation:2})}}return r})();class cT{update(d){}close(d){}dismiss(d){}}const uT=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],dT=["animation","backdropClass"];class Ly{_applyWindowOptions(d,t){uT.forEach(o=>{ku(t[o])&&(d[o]=t[o])})}_applyBackdropOptions(d,t){dT.forEach(o=>{ku(t[o])&&(d[o]=t[o])})}update(d){this._applyWindowOptions(this._windowCmptRef.instance,d),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,d)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,Vo.Q)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,Vo.Q)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(d,t,o,l){this._windowCmptRef=d,this._contentRef=t,this._backdropCmptRef=o,this._beforeDismiss=l,this._closed=new xr.B,this._dismissed=new xr.B,this._hidden=new xr.B,d.instance.dismissEvent.subscribe(C=>{this.dismiss(C)}),this.result=new Promise((C,$)=>{this._resolve=C,this._reject=$}),this.result.then(null,()=>{})}close(d){this._windowCmptRef&&(this._closed.next(d),this._resolve(d),this._removeModalElements())}_dismiss(d){this._dismissed.next(d),this._reject(d),this._removeModalElements()}dismiss(d){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function DE(r){return r&&r.then}(t)?!1!==t&&this._dismiss(d):t.then(o=>{!1!==o&&this._dismiss(d)},()=>{})}else this._dismiss(d)}_removeModalElements(){const d=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,dc.of)(void 0);d.subscribe(()=>{const{nativeElement:o}=this._windowCmptRef.location;o.parentNode.removeChild(o),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:o}=this._backdropCmptRef.location;o.parentNode.removeChild(o),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Ed(d,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var yg=function(r){return r[r.BACKDROP_CLICK=0]="BACKDROP_CLICK",r[r.ESC=1]="ESC",r}(yg||{});let ho=(()=>{class r{constructor(){this._document=(0,e.WQX)(fn.qQ),this._elRef=(0,e.WQX)(e.aKT),this._zone=(0,e.WQX)(e.SKi),this._closed$=new xr.B,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new e.bkB,this.shown=new xr.B,this.hidden=new xr.B}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Wc(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,Rl.s)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,o={animation:this.animation,runningTransition:"stop"},$=Ed(ll(this._zone,t,()=>t.classList.remove("show"),o),ll(this._zone,this._dialogEl.nativeElement,()=>{},o));return $.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),$}_show(){const t={animation:this.animation,runningTransition:"continue"};Ed(ll(this._zone,this._elRef.nativeElement,(C,$)=>{$&&Gd(C),C.classList.add("show")},t),ll(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{(0,Zo.R)(t,"keydown").pipe((0,Vo.Q)(this._closed$),(0,sl.p)(l=>l.which===$r.Escape)).subscribe(l=>{this.keyboard?requestAnimationFrame(()=>{l.defaultPrevented||this._zone.run(()=>this.dismiss(yg.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let o=!1;(0,Zo.R)(this._dialogEl.nativeElement,"mousedown").pipe((0,Vo.Q)(this._closed$),(0,hm.M)(()=>o=!1),(0,pm.n)(()=>(0,Zo.R)(t,"mouseup").pipe((0,Vo.Q)(this._closed$),(0,Rl.s)(1))),(0,sl.p)(({target:l})=>t===l)).subscribe(()=>{o=!0}),(0,Zo.R)(t,"click").pipe((0,Vo.Q)(this._closed$)).subscribe(({target:l})=>{t===l&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!o&&this._zone.run(()=>this.dismiss(yg.BACKDROP_CLICK))),o=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const o=t.querySelector("[ngbAutofocus]"),l=Zm(t)[0];(o||l||t).focus()}}_restoreFocus(){const t=this._document.body,o=this._elWithFocus;let l;l=o&&o.focus&&t.contains(o)?o:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>l.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&ll(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static{this.\u0275fac=function(o){return new(o||r)}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["ngb-modal-window"]],viewQuery:function(o,l){if(1&o&&e.GBs(rE,7),2&o){let C;e.mGM(C=e.lsd())&&(l._dialogEl=C.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(o,l){2&o&&(e.BMQ("aria-modal",!0)("aria-labelledby",l.ariaLabelledBy)("aria-describedby",l.ariaDescribedBy),e.HbH("modal d-block"+(l.windowClass?" "+l.windowClass:"")),e.AVh("fade",l.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[e.aNF],ngContentSelectors:Lv,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(o,l){1&o&&(e.NAR(),e.j41(0,"div",1,0)(2,"div",2),e.SdG(3),e.k0s()()),2&o&&e.HbH("modal-dialog"+(l.size?" modal-"+l.size:"")+(l.centered?" modal-dialog-centered":"")+l.fullscreenClass+(l.scrollable?" modal-dialog-scrollable":"")+(l.modalDialogClass?" "+l.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}}return r})(),Uy=(()=>{class r{constructor(){this._applicationRef=(0,e.WQX)(e.o8S),this._injector=(0,e.WQX)(e.zZn),this._environmentInjector=(0,e.WQX)(e.uvJ),this._document=(0,e.WQX)(fn.qQ),this._scrollBar=(0,e.WQX)(vg),this._activeWindowCmptHasChanged=new xr.B,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new e.bkB;const t=(0,e.WQX)(e.SKi);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const o=this._windowCmpts[this._windowCmpts.length-1];((r,d,t,o=!1)=>{r.runOutsideAngular(()=>{const l=(0,Zo.R)(d,"focusin").pipe((0,Vo.Q)(t),(0,Di.T)(C=>C.target));(0,Zo.R)(d,"keydown").pipe((0,Vo.Q)(t),(0,sl.p)(C=>C.which===$r.Tab),(0,fm.E)(l)).subscribe(([C,$])=>{const[me,He]=Zm(d);($===me||$===d)&&C.shiftKey&&(He.focus(),C.preventDefault()),$===He&&!C.shiftKey&&(me.focus(),C.preventDefault())}),o&&(0,Zo.R)(d,"click").pipe((0,Vo.Q)(t),(0,fm.E)(l),(0,Di.T)(C=>C[1])).subscribe(C=>C.focus())})})(t,o.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(o.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,o,l){const C=l.container instanceof HTMLElement?l.container:ku(l.container)?this._document.querySelector(l.container):this._document.body;if(!C)throw new Error(`The specified modal container "${l.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const $=new cT,me=(t=l.injector||t).get(e.uvJ,null)||this._environmentInjector,He=this._getContentRef(t,me,o,$,l);let at=!1!==l.backdrop?this._attachBackdrop(C):void 0,Ut=this._attachWindowComponent(C,He.nodes),on=new Ly(Ut,He,at,l.beforeDismiss);return this._registerModalRef(on),this._registerWindowCmpt(Ut),on.hidden.pipe((0,Rl.s)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),$.close=vn=>{on.close(vn)},$.dismiss=vn=>{on.dismiss(vn)},$.update=vn=>{on.update(vn)},on.update(l),1===this._modalRefs.length&&this._document.body.classList.add("modal-open"),at&&at.instance&&at.changeDetectorRef.detectChanges(),Ut.changeDetectorRef.detectChanges(),on}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(o=>o.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let o=(0,e.a0P)(pA,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(o.hostView),t.appendChild(o.location.nativeElement),o}_attachWindowComponent(t,o){let l=(0,e.a0P)(ho,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:o});return this._applicationRef.attachView(l.hostView),t.appendChild(l.location.nativeElement),l}_getContentRef(t,o,l,C,$){return l?l instanceof e.C4Q?this._createFromTemplateRef(l,C):Wc(l)?this._createFromString(l):this._createFromComponent(t,o,l,C,$):new ec([])}_createFromTemplateRef(t,o){const C=t.createEmbeddedView({$implicit:o,close($){o.close($)},dismiss($){o.dismiss($)}});return this._applicationRef.attachView(C),new ec([C.rootNodes],C)}_createFromString(t){const o=this._document.createTextNode(`${t}`);return new ec([[o]])}_createFromComponent(t,o,l,C,$){const me=e.zZn.create({providers:[{provide:cT,useValue:C}],parent:t}),He=(0,e.a0P)(l,{environmentInjector:o,elementInjector:me}),at=He.location.nativeElement;return $.scrollable&&at.classList.add("component-host-scrollable"),this._applicationRef.attachView(He.hostView),new ec([[at]],He.hostView,He)}_setAriaHidden(t){const o=t.parentElement;o&&t!==this._document.body&&(Array.from(o.children).forEach(l=>{l!==t&&"SCRIPT"!==l.nodeName&&(this._ariaHiddenValues.set(l,l.getAttribute("aria-hidden")),l.setAttribute("aria-hidden","true"))}),this._setAriaHidden(o))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,o)=>{t?o.setAttribute("aria-hidden",t):o.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const o=()=>{const l=this._modalRefs.indexOf(t);l>-1&&(this._modalRefs.splice(l,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(o,o)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const o=this._windowCmpts.indexOf(t);o>-1&&(this._windowCmpts.splice(o,1),this._activeWindowCmptHasChanged.next())})}static{this.\u0275fac=function(o){return new(o||r)}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),hT=(()=>{class r{constructor(){this._injector=(0,e.WQX)(e.zZn),this._modalStack=(0,e.WQX)(Uy),this._config=(0,e.WQX)(tu)}open(t,o={}){const l={...this._config,animation:this._config.animation,...o};return this._modalStack.open(this._injector,t,l)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}static{this.\u0275fac=function(o){return new(o||r)}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),Vy=(()=>{class r{static{this.\u0275fac=function(o){return new(o||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({providers:[hT]})}}return r})(),dl=(()=>{class r{static{this.\u0275fac=function(o){return new(o||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({})}}return r})(),Yy=(()=>{class r{static{this.\u0275fac=function(o){return new(o||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({})}}return r})(),Ig=(()=>{class r{static{this.\u0275fac=function(o){return new(o||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({})}}return r})(),Ag=(()=>{class r{static{this.\u0275fac=function(o){return new(o||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({})}}return r})(),Xy=(()=>{class r{static{this.\u0275fac=function(o){return new(o||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({})}}return r})(),Rg=(()=>{class r{static{this.\u0275fac=function(o){return new(o||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({})}}return r})(),Mg=(()=>{class r{static{this.\u0275fac=function(o){return new(o||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({})}}return r})(),fh=(()=>{class r{static{this.\u0275fac=function(o){return new(o||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({})}}return r})(),t_=(()=>{class r{static{this.\u0275fac=function(o){return new(o||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({})}}return r})();new e.nKC("live announcer delay",{providedIn:"root",factory:()=>100});let $f=(()=>{class r{static{this.\u0275fac=function(o){return new(o||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({})}}return r})(),Og=(()=>{class r{static{this.\u0275fac=function(o){return new(o||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({})}}return r})();const s_=[my,$m,vy,yy,pg,Hu,Vy,dl,Og,Yy,Ig,Ag,Xy,Rg,Mg,fh,t_,$f];let xT=(()=>{class r{static{this.\u0275fac=function(o){return new(o||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({imports:[s_,my,$m,vy,yy,pg,Hu,Vy,dl,Og,Yy,Ig,Ag,Xy,Rg,Mg,fh,t_,$f]})}}return r})(),Ku=(()=>{class r{intercept(t,o){if(t.url.startsWith("https://"))return o.handle(t);const l=(0,Mi.$_)(),C=t.clone({url:`${l}${t.url}`});return o.handle(C)}static{this.\u0275fac=function(o){return new(o||r)}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac})}}return r})();class kT{constructor(d,t="/assets/i18n/",o=".json"){this.http=d,this.prefix=t,this.suffix=o}getTranslation(d){return this.http.get(`${this.prefix}${d}${this.suffix}`)}}var o_=p(3431),NT=p(9625);let Sc=(()=>{class r{constructor(){let t=new NT.UAParser,o=t.getBrowser(),l=t.getOS();this.browserName=o.name,this.browserVersion=o.major,this.browserVersionToInt=parseInt(o.major),this.operatingSystem=l.name,this.operatingSystemVersion=l.version}validBrowser(){switch(this.browserName){case fl.InternetExplorer:return this.verifyInternetExplorer();case fl.Edge:return this.verifyEdge();case fl.Firefox:return this.verifyFirefox();case fl.Chrome:return this.verifyChrome();case fl.Safari:case fl.MobileSafari:return this.verifySafari();case fl.Opera:case fl.OperaMobile:return this.verifyOpera();case fl.SamsungInternet:return this.verifySamsungInternet()}return!1}verifyInternetExplorer(){return this.browserVersion.startsWith("11")&&this.operatingSystem==Ec.Windows&&this.operatingSystemVersion.startsWith("10")}verifyEdge(){return this.browserVersionToInt>=16}verifyFirefox(){return this.operatingSystem==Ec.Android||this.operatingSystem==Ec.ApplePhone?this.browserVersionToInt>=92:this.browserVersionToInt>=60}verifyChrome(){return this.operatingSystem==Ec.Android||this.operatingSystem==Ec.ApplePhone?this.browserVersionToInt>=93:this.browserVersionToInt>=51}verifySafari(){const t=parseFloat(this.operatingSystemVersion);return this.browserName==fl.MobileSafari?this.browserVersionToInt>=12:this.browserVersionToInt>14||this.browserVersionToInt>=12&&t>=10.14}verifyOpera(){return this.browserName==fl.OperaMobile?this.browserVersionToInt>12:this.browserVersionToInt>=39}verifySamsungInternet(){return this.browserVersionToInt>=5}static{this.\u0275fac=function(o){return new(o||r)}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac})}}return r})(),fl=(()=>{class r{static{this.InternetExplorer="IE"}static{this.Edge="Edge"}static{this.Firefox="Firefox"}static{this.Chrome="Chrome"}static{this.Safari="Safari"}static{this.MobileSafari="Mobile Safari"}static{this.Opera="Opera"}static{this.OperaMobile="Opera Mobi"}static{this.SamsungInternet="Samsung Internet"}}return r})(),Ec=(()=>{class r{static{this.Windows="Windows"}static{this.Android="Android"}static{this.ApplePhone="iOS"}}return r})();var mh=p(5060),fa=p(8810);let Fg=(()=>{class r{static{this.EnforcerCompilationError=599}static{this.ExpiredTokenRedirect=413}}return r})(),a_=(()=>{class r{constructor(t,o,l,C){this.router=t,this.localizeRouterService=o,this.appComponentViewService=l,this.securityService=C}intercept(t,o){return o.handle(t).pipe((0,la.W)(l=>{if(l.status===Fg.ExpiredTokenRedirect)return this.securityService.startLogin(),mh.t;if(l.status===Fg.EnforcerCompilationError){this.appComponentViewService.failedEnforcerCompilation();const C=this.localizeRouterService.translateRoute("/unauthorized");return document.dispatchEvent(new Event("appready")),this.router.navigate([C],{state:{enforcer:!0}}),mh.t}return(0,fa.$)(()=>l)}))}static{this.\u0275fac=function(o){return new(o||r)(e.KVO(Ct.Ix),e.KVO($i.QG),e.KVO(ms.X),e.KVO(li.i))}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac})}}return r})();var l_=p(3488),c_=p(7275),Pg=p(275),u_=p(1957),Bg=p(4412);let Gr=(()=>{class r{constructor(){this.unsavedCache=new Bg.t(null),this.unsavedCache$=this.unsavedCache.asObservable(),this.savedCache=new Bg.t(null),this.savedCache$=this.savedCache.asObservable(),this.componentDirtyValidMap=new Map}onSave(){this.componentDirtyValidMap.clear()}static{this.\u0275fac=function(o){return new(o||r)}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),nu=(()=>{class r{constructor(t,o){this.http=t,this.actionUrl="DynamicAuthentication",this.headers=o.setHeaders()}get(t,o,l,C){let $=new w.Nl;return(0,Mi.gP)(t)||($=$.append("scheme",t)),o&&($=$.append("page",o)),l&&($=$.append("pageSize",l)),(0,Mi.gP)(C)||($=$.append("filters",C)),this.http.get(this.actionUrl,{headers:this.headers,params:$})}createDynamicAuth(t){return this.http.post(this.actionUrl,t,{headers:this.headers})}getDynamicAuth(t){return this.http.get(`${this.actionUrl}/${t}`,{headers:this.headers})}updateDynamicAuth(t){return this.http.put(`${this.actionUrl}/${t.scheme}`,t,{headers:this.headers})}deleteDynamicAuth(t){return this.http.delete(`${this.actionUrl}/${t}`,{headers:this.headers})}replaceSigningCert(t,o,l){return this.http.put(`${this.actionUrl}/${t}/saml/sp/signing-certificate`,{certBase64:o,certPassword:l},{headers:this.headers})}removeSigningCert(t){return this.http.delete(`${this.actionUrl}/${t}/saml/sp/signing-certificate`,{headers:this.headers})}replaceEncryptionCert(t,o,l){return this.http.put(`${this.actionUrl}/${t}/saml/sp/encryption-certificate`,{certBase64:o,certPassword:l},{headers:this.headers})}removeEncryptionCert(t){return this.http.delete(`${this.actionUrl}/${t}/saml/sp/encryption-certificate`,{headers:this.headers})}schemaHealthy(){return this.http.get(`${this.actionUrl}/validate`,{headers:this.headers}).pipe((0,Di.T)(o=>o.isValid??!1))}static{this.\u0275fac=function(o){return new(o||r)(e.KVO(w.Qq),e.KVO(ad.m))}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac})}}return r})();var r,As=function(r){return r[r.OIDC=0]="OIDC",r[r.SAML=1]="SAML",r}(As||{});function Yu(r){return{...r,type:As[r.type]}}function Lg(r){return{...r,type:As[r.type]}}function fo(r){return JSON.parse(r)}function Ia(r){return JSON.parse(r)}(r=As||(As={})).fromWizardType=function d(t){switch(t){case ci.AddOidcDynamicAuth:return r.OIDC;case ci.AddSamlDynamicAuth:return r.SAML}};let Tc=(()=>{class r{constructor(t,o,l){this.dynamicAuthService=t,this.changeCachingService=o,this.errorService=l}resolve(t,o){return this.dynamicAuthService.getDynamicAuth(t.params.Scheme).pipe((0,Di.T)(C=>{let $;return C&&($=Yu(C),this.changeCachingService.unsavedCache.next($)),$}),(0,la.W)((C,$)=>(404===C.status?this.errorService.resourceNotFound(Bo.v.dynamicAuth):this.errorService.handleError(C),(0,Mc.I)())))}static{this.\u0275fac=function(o){return new(o||r)(e.KVO(nu),e.KVO(Gr),e.KVO(Z.I))}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac})}}return r})();var Xu=p(9568),iu=function(r){return r[r.Query=0]="Query",r[r.FormPost=1]="FormPost",r[r.Fragment=2]="Fragment",r}(iu||{}),d_=function(r){return r.OIDC="oidc",r.SAML="saml2p",r.Enabled="enabled",r.Disabled="disabled",r}(d_||{}),pl=function(r){return r.AuthCode="AuthCode",r.AuthCodePlusPkce="AuthCodePlusPkce",r}(pl||{});class vs{static{this.DiscoveryDocumentPath="/.well-known/openid-configuration"}static{this.DiscoveryDocCachingDuration=6e4}static{this.FlowTypes=[pl.AuthCode,pl.AuthCodePlusPkce]}static{this.RequiredScopes=["openid"]}static{this.ScopeOptions=[...vs.RequiredScopes,"profile","email"]}static{this.MaxScopeLength=100}static{this.SignInSchemeOptions=[{name:"DynamicAuth.SignInScheme.IdSExternalLogin.Name",value:"Idsrv.External",help:"DynamicAuth.SignInScheme.IdSExternalLogin.Help"},{name:"DynamicAuth.SignInScheme.AspNetExternalLogin.Name",value:"Identity.External",help:"DynamicAuth.SignInScheme.AspNetExternalLogin.Help"}]}static{this.SignInSchemeCodeFrag='services.AddAuthentication("local-cookie")\n    .AddCookie("local-cookie")\n\t.AddCookie("other-cookie");'}static{this.SamlSignInSchemeCodeFrag='services.AddIdentityServer(...)\n            .AddSamlDynamicProvider(options => {\n                options.SignInScheme = "MyIdentityScheme"; \n            });'}static{this.SamlSignOutSchemeCodeFrag='services.AddIdentityServer(...)\n            .AddSamlDynamicProvider(options => {\n                options.SignOutScheme = "MyIdentityScheme";\n            });'}static{this.AdminUIOidcDiscoveryDocumentEndpoint="DynamicAuthentication/DiscDoc"}static{this.AdminUISamlMetadataEndpoint="DynamicAuthentication/SAML/ValidateMetadataAddr"}static AllowRemoveScope(d){return!this.RequiredScopes.includes(d)}static{this.ResponseModeMap=new Map([["query",iu.Query],["form_post",iu.FormPost],["fragment",iu.Fragment]])}static{this.ResponseModeKey=d=>[...vs.ResponseModeMap.entries()].filter(({1:o})=>o===d).map(([o])=>o)[0]}}let ru=(()=>{class r{get cacheTimeout(){return vs.DiscoveryDocCachingDuration}constructor(t,o){this.http=t,this.cacheTime=0,this.discoveryDoc=new yn.m(1),this.headers=o.setHeaders()}getDiscoveryDocument(t,o=!1){this.actionUrl=vs.AdminUIOidcDiscoveryDocumentEndpoint;const l=Date.now()-this.cacheTime>=this.cacheTimeout;if(!o&&(!t||this.previousAuthority===t&&!l&&this.discoveryDoc))return this.discoveryDoc.asObservable();let C=new w.Nl;return C=C.append("authority",t),this.http.get(this.actionUrl,{headers:this.headers,params:C}).pipe((0,Xu.t)(1),(0,Di.T)($=>(this.previousAuthority=t,this.cacheTime=Date.now(),this.discoveryDoc.next($),$)),(0,la.W)($=>(this.previousAuthority=t,this.cacheTime=Date.now(),this.discoveryDoc.next(null),(0,dc.of)(null))))}isValid(t){return this.getDiscoveryDocument(t,!0).pipe((0,Di.T)(o=>!(!o||!o.issuer)))}supportedScopes(t){return this.getDiscoveryDocument(t).pipe((0,Di.T)(o=>o?.scopes_supported??vs.ScopeOptions))}validateMetadataUrl(t){this.actionUrl=vs.AdminUISamlMetadataEndpoint;let o=new w.Nl;return o=o.append("metadataUrl",t),this.http.get(this.actionUrl,{headers:this.headers,params:o}).pipe((0,Xu.t)(1),(0,Di.T)(l=>!0),(0,la.W)(l=>(0,dc.of)(!1)))}static{this.\u0275fac=function(o){return new(o||r)(e.KVO(w.Qq),e.KVO(ad.m))}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac})}}return r})(),Ol=(()=>{class r{constructor(){this.dtoObject={},this.summaryModels=[]}reset(){this.dtoObject={},this.summaryModels=[]}addToDto(t){this.dtoObject={...this.dtoObject,...t}}getDto(){return this.dtoObject}addSummary(t,o){const l=this.summaryModels.findIndex($=>$.stepName===t);-1===l?this.summaryModels.push({stepName:t,stepData:o}):this.summaryModels[l].stepData=o}getSummary(){return this.summaryModels}static{this.\u0275fac=function(o){return new(o||r)}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac})}}return r})();var Wa=p(978);let h_=(()=>{class r{constructor(t,o){this.wizardDataService=t,this.fb=o}ngOnInit(){this.clientSecretForm=this.fb.group({clientSecret:[""]})}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return!this.clientSecretForm.invalid}onNext(){this.wizardDataService.addSummary(this.data.stepName,this.toSummaryMap()),this.wizardDataService.addToDto(this.toStepDto())}hosted(){}toStepDto(){const t={};return t.clientSecret=this.clientSecretForm.get("clientSecret").value,t}toSummaryMap(){const t=new Map;return t.set("clientSecret",[this.clientSecretForm.get("clientSecret").value]),t}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(Ol),e.rXU(y.ze))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-client-secret-step"]],inputs:{data:"data"},decls:6,vars:8,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help","isLast"],["type","text","name","ClientSecret","id","ClientSecret","formControlName","clientSecret",1,"tw-form-control"]],template:function(o,l){1&o&&(e.j41(0,"div",0),e.nrm(1,"p",1),e.nI1(2,"translate"),e.k0s(),e.j41(3,"form",2)(4,"app-form-row",3),e.nrm(5,"input",4),e.k0s()()),2&o&&(e.R7$(),e.Y8G("innerHTML",e.bMT(2,6,"DynamicAuth.Wizard.OIDC.ClientSecretStep.Title"),e.npT),e.R7$(2),e.Y8G("formGroup",l.clientSecretForm),e.R7$(),e.Y8G("id","ClientSecret")("label","DynamicAuth.ClientSecret.Label")("help","DynamicAuth.ClientSecret.Help")("isLast",!0))},dependencies:[y.qT,y.me,y.BC,y.cb,y.j4,y.JD,ce.Y,bn.D9],encapsulation:2})}}return r})();var f_=p(5568);function Fl(){return y.k0.pattern(/^([/]{1}[\w-]{0,}){1,}$/)}function FT(r){if((0,Mi.hX)(r.value))return{invalidUri:"Errors.ValidateAbsoluteUri.NullOrUndefined"};let d=(0,f_.parse)(r.value);return(0,Mi.gP)(d.query)&&(0,Mi.gP)(d.fragment)?"absolute"!==d.reference?{invalidUri:"Errors.ValidateAbsoluteUri.MustBeAbsolute"}:(0,Mi.gP)(d.error)?null:{invalidUri:d.error}:{invalidUri:"Errors.ValidateAbsoluteUri.MustNotContainQueryFragmeant"}}function p_(r,d){1&r&&(e.j41(0,"app-form-row",3),e.nrm(1,"input",11),e.k0s()),2&r&&e.Y8G("id","CallbackPath")("label","DynamicAuth.CallbackPath.Label")("help","DynamicAuth.CallbackPath.Help")}function PT(r,d){if(1&r&&(e.j41(0,"option",12),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r){const t=d.$implicit;e.Y8G("value",t),e.R7$(),e.JRh(e.bMT(2,2,"DynamicAuth.Flows."+t))}}let BT=(()=>{class r{constructor(t,o,l,C,$,me){this.wizardDataService=t,this.fb=o,this.configService=l,this.translate=C,this.providerValidator=$,this.toastr=me,this.failedToContactAuthority=!1,this.allowedFlows=vs.FlowTypes}ngOnInit(){this.configServiceSub=this.configService.getConfig().subscribe({next:t=>{this.isRskDynamicAuth=t.featureFlagOptions.dynamicAuthenticationFlag==Wa.U.Rsk}}),this.buildForm()}ngOnDestroy(){this.configServiceSub.unsubscribe()}tryReachAuthority(){var t=this.connectionForm.get("authority").value;this.providerValidator.isValid(t).subscribe(o=>{o||this.toastr.warning(this.translate.instant("DynamicAuth.Authority.ReachableWarningMsg"),this.translate.instant("DynamicAuth.Authority.ReachableWarningTitle"))})}buildForm(){let t={authority:["https://",[y.k0.required,y.k0.pattern("^https://.{1,}$")]],clientId:["",y.k0.required]};this.isRskDynamicAuth&&(t.callbackPath=["/oidc-scheme",[y.k0.required,Fl()]]),t.flow=[pl.AuthCodePlusPkce,[y.k0.required]],this.connectionForm=this.fb.group(t)}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return!this.connectionForm.invalid}onNext(){this.wizardDataService.addSummary(this.data.stepName,this.toSummaryMap()),this.wizardDataService.addToDto(this.toStepDto())}hosted(){}toStepDto(){const t={};return t.authority=this.connectionForm.get("authority").value,t.clientId=this.connectionForm.get("clientId").value,this.isRskDynamicAuth&&(t.callbackPath=this.connectionForm.get("callbackPath").value),t.flow=this.connectionForm.get("flow").value,t}toSummaryMap(){const t=new Map;return t.set("authority",[this.connectionForm.get("authority").value]),t.set("idpClientId",[this.connectionForm.get("clientId").value]),this.isRskDynamicAuth&&t.set("callbackPath",[this.connectionForm.get("callbackPath").value]),t.set("flow",[this.translate.instant("DynamicAuth.Flows."+this.connectionForm.get("flow").value)]),t}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(Ol),e.rXU(y.ze),e.rXU(Gs.w),e.rXU(bn.c$),e.rXU(ru),e.rXU(Zn.tw))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-connection-step"]],inputs:{data:"data"},decls:13,vars:16,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help"],["type","text","name","Authority","id","Authority","formControlName","authority","required","",1,"tw-form-control",3,"focusout"],["type","text","name","ClientId","id","ClientId","formControlName","clientId","required","",1,"tw-form-control"],[3,"id","label","help",4,"ngIf"],[3,"id","label","help","isLast"],[1,"tw-form-select"],["id","Flow","formControlName","flow",1,"tw-form-control"],[3,"value",4,"ngFor","ngForOf"],["type","text","name","CallbackPath","id","CallbackPath","formControlName","callbackPath","required","",1,"tw-form-control"],[3,"value"]],template:function(o,l){1&o&&(e.j41(0,"div",0),e.nrm(1,"p",1),e.nI1(2,"translate"),e.k0s(),e.j41(3,"form",2)(4,"app-form-row",3)(5,"input",4),e.bIt("focusout",function(){return l.tryReachAuthority()}),e.k0s()(),e.j41(6,"app-form-row",3),e.nrm(7,"input",5),e.k0s(),e.DNE(8,p_,2,3,"app-form-row",6),e.j41(9,"app-form-row",7)(10,"div",8)(11,"select",9),e.DNE(12,PT,3,4,"option",10),e.k0s()()()()),2&o&&(e.R7$(),e.Y8G("innerHTML",e.bMT(2,14,"DynamicAuth.Wizard.OIDC.ConnectionStep.Title"),e.npT),e.R7$(2),e.Y8G("formGroup",l.connectionForm),e.R7$(),e.Y8G("id","Authority")("label","DynamicAuth.Authority.Label")("help","DynamicAuth.Authority.Help"),e.R7$(2),e.Y8G("id","ClientId")("label","DynamicAuth.ClientId.Label")("help","DynamicAuth.ClientId.Help"),e.R7$(2),e.Y8G("ngIf",l.isRskDynamicAuth),e.R7$(),e.Y8G("id","Flow")("label","DynamicAuth.Flow.Label")("help","DynamicAuth.Flow.Help")("isLast",!0),e.R7$(3),e.Y8G("ngForOf",l.allowedFlows))},dependencies:[fn.Sq,fn.bT,y.qT,y.xH,y.y7,y.me,y.wz,y.BC,y.cb,y.YS,y.j4,y.JD,ce.Y,bn.D9],encapsulation:2})}}return r})();var Ug=p(803);function GA(r,d){if(1&r&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"slice"),e.k0s()),2&r){const t=d.item;e.R7$(),e.JRh(t.length>20?e.brH(2,1,t,0,20)+"...":t)}}function HA(r,d){1&r&&(e.j41(0,"div",16)(1,"div"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&r&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"DynamicAuth.NoScopesMessage")," "))}function WA(r,d){1&r&&(e.j41(0,"span",20),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Reserved")," "))}function m_(r,d){if(1&r){const t=e.RV6();e.j41(0,"button",21),e.bIt("click",function(){e.eBV(t);const l=e.XpG().$implicit,C=e.XpG(2);return e.Njj(C.removeScope(l))}),e.nrm(1,"span",22),e.j41(2,"span",13),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}if(2&r){const t=e.XpG().$implicit;e.Y8G("id","btnRemove"+t),e.R7$(3),e.JRh(e.bMT(4,2,"Common.Remove.Title"))}}function Hf(r,d){if(1&r&&(e.j41(0,"tr")(1,"td",17)(2,"span"),e.EFF(3),e.k0s()(),e.j41(4,"td"),e.DNE(5,WA,3,3,"span",18),e.k0s(),e.j41(6,"td"),e.DNE(7,m_,5,4,"button",19),e.k0s()()),2&r){const t=d.$implicit,o=e.XpG(2);e.R7$(3),e.JRh(t),e.R7$(2),e.Y8G("ngIf",!o.allowRemoveScope(t)),e.R7$(2),e.Y8G("ngIf",o.allowRemoveScope(t))}}function LT(r,d){if(1&r&&(e.j41(0,"div",9),e.DNE(1,HA,4,3,"div",10),e.j41(2,"table",11)(3,"thead")(4,"th",12)(5,"span",13),e.EFF(6),e.nI1(7,"translate"),e.k0s()(),e.j41(8,"th",14)(9,"span",13),e.EFF(10),e.nI1(11,"translate"),e.k0s()(),e.j41(12,"th",14)(13,"span",13),e.EFF(14),e.nI1(15,"translate"),e.k0s()()(),e.j41(16,"tbody"),e.DNE(17,Hf,8,3,"tr",15),e.k0s()()()),2&r){const t=e.XpG();e.Y8G("id","Scopes"),e.R7$(),e.Y8G("ngIf",t.scopes.length<=0),e.R7$(5),e.JRh(e.bMT(7,6,"Common.Scope")),e.R7$(4),e.JRh(e.bMT(11,8,"Common.Reserved")),e.R7$(4),e.JRh(e.bMT(15,10,"Common.Actions")),e.R7$(3),e.Y8G("ngForOf",t.scopes)}}let UT=(()=>{class r{constructor(t,o,l,C,$){this.wizardDataService=t,this.toastrService=o,this.translateService=l,this.fb=C,this.providerValidator=$,this.scopes=[...vs.RequiredScopes],this.maxScopeLength=vs.MaxScopeLength}ngOnInit(){this.scopesForm=this.fb.group({newScope:[""]}),this.options=new pc.c(t=>{let o=this.scopesForm.get("newScope").value;t.next(o)}).pipe((0,pm.n)(t=>this.providerValidator.supportedScopes().pipe((0,Di.T)(o=>this.filterScopes(t,o)))))}filterScopes(t,o){const l=!t;return o.filter(C=>!this.scopes.includes(C)&&(l||C.includes(t)))}addScope(){var t=this.scopesForm.get("newScope").value;if(""!==t)if(this.scopes.includes(t)){const o=this.translateService.instant("DynamicAuth.Scopes.AlreadyAdded");this.toastrService.error(o)}else if(t.indexOf(" ")>=0){const o=this.translateService.instant("DynamicAuth.Scopes.CannotHaveSpaces");this.toastrService.error(o)}else this.scopes.push(t);else this.toastrService.error(this.translateService.instant("DynamicAuth.Scopes.MustSpecifyScope"))}removeScope(t){const o=this.scopes.indexOf(t);if(-1!==o)this.scopes.splice(o,1);else{const l=this.translateService.instant("DynamicAuth.Scopes.MustSpecifyScope");this.toastrService.error(l)}}allowRemoveScope(t){return vs.AllowRemoveScope(t)}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return!0}onNext(){this.wizardDataService.addSummary(this.data.stepName,this.toSummaryMap()),this.wizardDataService.addToDto(this.toStepDto())}hosted(){}toStepDto(){const t={};return t.scopes=this.scopes,t}toSummaryMap(){const t=new Map;return t.set("scopes",this.scopes),t}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(Ol),e.rXU(Zn.tw),e.rXU(bn.c$),e.rXU(y.ze),e.rXU(ru))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-scopes-step"]],inputs:{data:"data"},decls:14,vars:20,consts:[["customItemTemplate",""],[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","hasLabel","isLast"],[1,"tw-form-typeahead"],["id","new-scope-input","formControlName","newScope","type","text","name","New Scope","container","#addIdpModal","autocomplete","off","left","",1,"tw-form-control",3,"typeahead","typeaheadWaitMs","typeaheadAsync","typeaheadItemTemplate","typeaheadMinLength","placeholder","maxlength"],["id","addScopeButton","right","",1,"tw-btn-success",3,"click"],["class","tw-mt-6",3,"id",4,"ngIf"],[1,"tw-mt-6",3,"id"],["class","tw-alert","role","alert",4,"ngIf"],[1,"datatable"],[1,"tw-w-full"],[1,"sr-only"],[1,"tw-w-1"],[4,"ngFor","ngForOf"],["role","alert",1,"tw-alert"],[1,"tw-table-cell","tw-max-w-0","tw-truncate"],["class","tw-pill",4,"ngIf"],["class","tw-btn-link tw-btn-small tw-text-red-500",3,"id","click",4,"ngIf"],[1,"tw-pill"],[1,"tw-btn-link","tw-btn-small","tw-text-red-500",3,"click","id"],["aria-hidden","true",1,"fas","fa-times"]],template:function(o,l){if(1&o){const C=e.RV6();e.j41(0,"div",1),e.nrm(1,"p",2),e.nI1(2,"translate"),e.k0s(),e.DNE(3,GA,3,5,"ng-template",null,0,e.C5r),e.j41(5,"form",3)(6,"app-form-row",4)(7,"app-row-bar",5),e.nrm(8,"input",6),e.nI1(9,"translate"),e.j41(10,"button",7),e.bIt("click",function(){return e.eBV(C),e.Njj(l.addScope())}),e.EFF(11),e.nI1(12,"translate"),e.k0s()()(),e.DNE(13,LT,18,12,"div",8),e.k0s()}if(2&o){const C=e.sdS(4);e.R7$(),e.Y8G("innerHTML",e.bMT(2,14,"DynamicAuth.Wizard.OIDC.ScopesStep.Title"),e.npT),e.R7$(4),e.Y8G("formGroup",l.scopesForm),e.R7$(),e.Y8G("id","NewScope")("hasLabel",!1)("isLast",!0),e.R7$(2),e.FS9("placeholder",e.bMT(9,16,"DynamicAuth.Scopes.Placeholder")),e.Y8G("typeahead",l.options)("typeaheadWaitMs",200)("typeaheadAsync",!0)("typeaheadItemTemplate",C)("typeaheadMinLength",0)("maxlength",l.maxScopeLength),e.R7$(3),e.SpI(" ",e.bMT(12,18,"Common.Add")," "),e.R7$(2),e.Y8G("ngIf",l.scopes.length>0)}},dependencies:[fn.Sq,fn.bT,y.qT,y.me,y.BC,y.cb,y.tU,y.j4,y.JD,Yr.Xi,ce.Y,Ug.f,fn.P9,bn.D9],encapsulation:2})}}return r})(),Ju=(()=>{class r{constructor(t,o){this.wizardDataService=t,this.fb=o}ngOnInit(){this.nameRoleForm=this.fb.group({scheme:["",[y.k0.required,y.k0.pattern(/^[\d\w-]*$/)]],displayName:["",[y.k0.required]]})}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return!this.nameRoleForm.invalid}onNext(){this.wizardDataService.addSummary(this.data.stepName,this.toSummaryMap()),this.wizardDataService.addToDto(this.toStepDto())}hosted(){}toStepDto(){const t={};return t.scheme=this.nameRoleForm.get("scheme").value,t.displayName=this.nameRoleForm.get("displayName").value,t}toSummaryMap(){const t=new Map;return t.set("scheme",[this.nameRoleForm.get("scheme").value]),t.set("displayName",[this.nameRoleForm.get("displayName").value]),t}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(Ol),e.rXU(y.ze))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-name-role-step"]],inputs:{data:"data"},decls:8,vars:11,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help"],["type","text","name","Scheme","id","Scheme","formControlName","scheme","required","",1,"tw-form-control"],[3,"id","label","help","isLast"],["type","text","name","DisplayName","id","DisplayName","formControlName","displayName","required","",1,"tw-form-control"]],template:function(o,l){1&o&&(e.j41(0,"div",0),e.nrm(1,"p",1),e.nI1(2,"translate"),e.k0s(),e.j41(3,"form",2)(4,"app-form-row",3),e.nrm(5,"input",4),e.k0s(),e.j41(6,"app-form-row",5),e.nrm(7,"input",6),e.k0s()()),2&o&&(e.R7$(),e.Y8G("innerHTML",e.bMT(2,9,"DynamicAuth.Wizard.NameRoleStep.Title"),e.npT),e.R7$(2),e.Y8G("formGroup",l.nameRoleForm),e.R7$(),e.Y8G("id","Scheme")("label","DynamicAuth.Scheme.Label")("help","DynamicAuth.Scheme.Help"),e.R7$(2),e.Y8G("id","DisplayName")("label","DynamicAuth.DisplayName.Label")("help","DynamicAuth.DisplayName.Help")("isLast",!0))},dependencies:[y.qT,y.me,y.BC,y.cb,y.YS,y.j4,y.JD,ce.Y,bn.D9],encapsulation:2})}}return r})();function VT(r,d){if(1&r&&(e.j41(0,"span",10),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r){const t=e.XpG().$implicit;e.R7$(),e.SpI(" ",e.bMT(2,1,t.help)," ")}}function jT(r,d){if(1&r&&(e.j41(0,"li",5)(1,"label",6),e.nrm(2,"input",7),e.j41(3,"span",8),e.EFF(4),e.nI1(5,"translate"),e.k0s()(),e.DNE(6,VT,3,3,"span",9),e.k0s()),2&r){const t=d.$implicit,o=d.index,l=e.XpG();e.R7$(),e.FCK("for","",l.id,"-item-",o,""),e.R7$(),e.FCK("id","",l.id,"-item-",o,""),e.Y8G("value",t.value),e.R7$(2),e.JRh(e.bMT(5,9,t.name)),e.R7$(2),e.Y8G("ngIf",t.help)}}function $T(r,d){if(1&r&&(e.j41(0,"li",5)(1,"label",6),e.nrm(2,"input",7),e.j41(3,"span",8),e.EFF(4),e.nI1(5,"translate"),e.nI1(6,"translate"),e.k0s()()()),2&r){const t=e.XpG();e.R7$(),e.Mz_("for","",t.id,"-item-custom"),e.R7$(),e.Mz_("id","",t.id,"-item-custom"),e.Y8G("value",t.customRadioValue),e.R7$(2),e.Lme("",e.bMT(5,7,"Common.Custom")," ",e.bMT(6,9,t.label),"")}}function GT(r,d){if(1&r){const t=e.RV6();e.j41(0,"app-form-row",11)(1,"input",12),e.nI1(2,"translate"),e.bIt("ngModelChange",function(l){e.eBV(t);const C=e.XpG();return e.Njj(C.valueChanged.emit(l))}),e.k0s()()}if(2&r){const t=e.XpG();e.Mz_("id","",t.id,"-custom"),e.Y8G("label","Common.Custom")("isLast",t.isLast),e.R7$(),e.Mz_("id","",t.id,"-item-value"),e.FS9("placeholder",e.bMT(2,8,t.placeholder)),e.Y8G("ngModel",t.value)}}let zA=(()=>{class r{constructor(t){this.fb=t,this.listItems=[],this.allowCustom=!1,this.valueChanged=new e.bkB,this.customRadioValue="CUSTOM_VALUE"}ngOnInit(){const t=this.listItems.some(o=>o.value===this.value)?this.value:this.customRadioValue;this.radioForm=this.fb.group({radioVal:[t]}),this.radioForm.get("radioVal").valueChanges.subscribe(o=>{this.valueChanged.emit(o===this.customRadioValue?"":o)})}showCustom(){return this.radioForm.get("radioVal").value===this.customRadioValue}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(y.ze))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-radio-list-input"]],inputs:{id:"id",label:"label",help:"help",listItems:"listItems",placeholder:"placeholder",allowCustom:"allowCustom",isLast:"isLast",value:"value"},outputs:{valueChanged:"valueChanged"},decls:6,vars:14,consts:[[3,"id","label","help","isLast","formGroup"],["role","group",1,"tw-form-checks",3,"id"],["class","tw-form-checks__item",4,"ngFor","ngForOf"],["class","tw-form-checks__item",4,"ngIf"],[3,"id","label","isLast",4,"ngIf"],[1,"tw-form-checks__item"],[1,"tw-form-checks__label",3,"for"],["type","radio","formControlName","radioVal",1,"tw-form-checks__input",3,"id","value"],[1,"tw-form-label"],["class","tw-form-label-help",4,"ngIf"],[1,"tw-form-label-help"],[3,"id","label","isLast"],["type","text","name","value",1,"tw-form-control",3,"ngModelChange","id","ngModel","placeholder"]],template:function(o,l){1&o&&(e.j41(0,"app-form-row",0)(1,"ul",1),e.nI1(2,"translate"),e.DNE(3,jT,7,11,"li",2)(4,$T,7,11,"li",3),e.k0s()(),e.DNE(5,GT,3,10,"app-form-row",4)),2&o&&(e.Mz_("id","",l.id,"-options"),e.Y8G("label",l.label)("help",l.help)("isLast",!l.showCustom()&&l.isLast)("formGroup",l.radioForm),e.R7$(),e.Mz_("id","",l.id,"-options-list"),e.BMQ("aria-label",e.bMT(2,12,l.label)),e.R7$(2),e.Y8G("ngForOf",l.listItems),e.R7$(),e.Y8G("ngIf",l.allowCustom),e.R7$(),e.Y8G("ngIf",l.showCustom()))},dependencies:[y.me,y.Fm,y.BC,y.cb,y.vS,y.j4,y.JD,fn.Sq,fn.bT,ce.Y,bn.D9],encapsulation:2})}}return r})();function HT(r,d){if(1&r&&(e.j41(0,"app-form-row",7)(1,"app-form-toggle",8),e.nrm(2,"input",9),e.k0s()()),2&r){const t=e.XpG(2);e.Y8G("id","DifferentScheme")("label","DynamicAuth.DifferentSignOut.Label")("help","DynamicAuth.DifferentSignOut.Help")("isLast",!t.diffSignOut),e.R7$(),e.Y8G("id","DifferentScheme")("isTraffic",!0)("isAlt",!1)}}function v_(r,d){if(1&r){const t=e.RV6();e.j41(0,"app-radio-list-input",10),e.bIt("valueChanged",function(l){e.eBV(t);const C=e.XpG(2);return e.Njj(C.signInSchemeForm.get("outScheme").setValue(l))}),e.k0s()}if(2&r){const t=e.XpG(2);e.Y8G("label","DynamicAuth.SignOutScheme.Label")("help","DynamicAuth.SignOutScheme.Help")("listItems",t.options)("allowCustom",!0)("value",t.signInSchemeForm.get("outScheme").value)("isLast",!0)}}function WT(r,d){if(1&r){const t=e.RV6();e.j41(0,"form",3)(1,"app-radio-list-input",4),e.bIt("valueChanged",function(l){e.eBV(t);const C=e.XpG();return e.Njj(C.signInSchemeForm.get("scheme").setValue(l))}),e.k0s(),e.DNE(2,HT,3,7,"app-form-row",5)(3,v_,1,6,"app-radio-list-input",6),e.k0s()}if(2&r){const t=e.XpG();e.Y8G("formGroup",t.signInSchemeForm),e.R7$(),e.Y8G("label","DynamicAuth.SignInScheme.Label")("help","DynamicAuth.SignInScheme.Help")("listItems",t.options)("allowCustom",!0)("value",t.signInSchemeForm.get("scheme").value)("isLast",!1),e.R7$(),e.Y8G("ngIf",t.isRskDynamicAuth),e.R7$(),e.Y8G("ngIf",t.diffSignOut)}}let y_=(()=>{class r{constructor(t,o,l){this.wizardDataService=t,this.fb=o,this.configService=l,this.isRskDynamicAuth=!1,this.options=vs.SignInSchemeOptions,this.snippet=vs.SamlSignInSchemeCodeFrag}ngOnInit(){this.configService.getConfig().pipe((0,Jt.$)()).subscribe({next:t=>{this.isRskDynamicAuth=t.featureFlagOptions.dynamicAuthenticationFlag==Wa.U.Rsk,this.isRskDynamicAuth?(this.signInSchemeForm=this.fb.group({scheme:[this.options[0].value,y.k0.required],diffSignOut:[!1],outScheme:[this.options[0].value]}),this.signInSchemeForm.get("diffSignOut").valueChanges.subscribe(o=>{this.signInSchemeForm.get("outScheme").setValidators(o?[y.k0.required]:[])})):this.signInSchemeForm=this.fb.group({scheme:[this.options[0].value,y.k0.required]})}})}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return!this.signInSchemeForm.invalid}onNext(){this.wizardDataService.addSummary(this.data.stepName,this.toSummaryMap()),this.wizardDataService.addToDto(this.toStepDto())}hosted(){}get diffSignOut(){return this.isRskDynamicAuth&&this.signInSchemeForm.get("diffSignOut").value}toStepDto(){const t={};return t.signInScheme=this.signInSchemeForm.get("scheme").value,this.diffSignOut&&(t.signOutScheme=this.signInSchemeForm.get("outScheme").value),t}toSummaryMap(){const t=new Map;return t.set("signInScheme",[this.signInSchemeForm.get("scheme").value]),this.diffSignOut&&t.set("signOutScheme",[this.signInSchemeForm.get("outScheme").value]),t}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(Ol),e.rXU(y.ze),e.rXU(Gs.w))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-sign-in-scheme-step"]],inputs:{data:"data"},decls:4,vars:4,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],["id","Scheme","placeholder","DynamicAuth.SignInScheme.Placeholder",3,"valueChanged","label","help","listItems","allowCustom","value","isLast"],[3,"id","label","help","isLast",4,"ngIf"],["id","OutScheme","placeholder","DynamicAuth.SignOutScheme.Placeholder",3,"label","help","listItems","allowCustom","value","isLast","valueChanged",4,"ngIf"],[3,"id","label","help","isLast"],[3,"id","isTraffic","isAlt"],["id","DifferentScheme","formControlName","diffSignOut","type","checkbox",1,"tw-form-switch__input"],["id","OutScheme","placeholder","DynamicAuth.SignOutScheme.Placeholder",3,"valueChanged","label","help","listItems","allowCustom","value","isLast"]],template:function(o,l){1&o&&(e.j41(0,"div",0),e.nrm(1,"p",1),e.nI1(2,"translate"),e.k0s(),e.DNE(3,WT,4,9,"form",2)),2&o&&(e.R7$(),e.Y8G("innerHTML",e.bMT(2,2,"DynamicAuth.Wizard.SignInSchemeStep.Title"),e.npT),e.R7$(2),e.Y8G("ngIf",l.signInSchemeForm))},dependencies:[fn.bT,y.qT,y.Zm,y.BC,y.cb,y.j4,y.JD,ce.Y,Ua.m,zA,bn.D9],encapsulation:2})}}return r})();function gh(r,d){1&r&&(e.nrm(0,"span",8),e.nI1(1,"translate")),2&r&&e.Y8G("innerHTML",e.bMT(1,1,"Errors.PathValidation"),e.npT)}let zT=(()=>{class r{constructor(t,o,l){this.wizardDataService=t,this.fb=o,this.configService=l}ngOnInit(){this.configService.getConfig().pipe((0,Jt.$)()).subscribe({next:t=>{this.isRskDynamicAuth=t.featureFlagOptions.dynamicAuthenticationFlag==Wa.U.Rsk,this.buildForm()}})}ngOnDestroy(){}buildForm(){let t=this.wizardDataService.getDto().scheme;(0,Mi.gP)(t)&&(t="{scheme}");let l={entityId:["",[y.k0.required]],callbackPath:[this.isRskDynamicAuth?`/signin/dynamic/${t}`:`/federation/${t}/signin-saml`,[y.k0.required,Fl()]]};this.serviceProviderForm=this.fb.group(l)}validCallbackPath(){return this.serviceProviderForm.get("callbackPath").valid}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return!this.serviceProviderForm.invalid}onNext(){this.wizardDataService.addSummary(this.data.stepName,this.toSummaryMap()),this.wizardDataService.addToDto(this.toStepDto())}hosted(){}toStepDto(){const t={};return t.entityId=this.serviceProviderForm.get("entityId").value,t.callbackPath=this.serviceProviderForm.get("callbackPath").value,t}toSummaryMap(){const t=new Map;return t.set("entityId",[this.serviceProviderForm.get("entityId").value]),t.set("callbackPathAcs",[this.serviceProviderForm.get("callbackPath").value]),t}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(Ol),e.rXU(y.ze),e.rXU(Gs.w))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-service-provider-step"]],inputs:{data:"data"},decls:9,vars:12,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help"],["type","text","name","EntityId","id","EntityId","formControlName","entityId","required","",1,"tw-form-control"],[3,"id","label","help","isLast"],["type","text","name","CallbackPath","id","CallbackPath","formControlName","callbackPath","required","",1,"tw-form-control"],["id","CallbackWarn","class","tw-form-text-warning",3,"innerHTML",4,"ngIf"],["id","CallbackWarn",1,"tw-form-text-warning",3,"innerHTML"]],template:function(o,l){1&o&&(e.j41(0,"div",0),e.nrm(1,"p",1),e.nI1(2,"translate"),e.k0s(),e.j41(3,"form",2)(4,"app-form-row",3),e.nrm(5,"input",4),e.k0s(),e.j41(6,"app-form-row",5),e.nrm(7,"input",6),e.DNE(8,gh,2,3,"span",7),e.k0s()()),2&o&&(e.R7$(),e.Y8G("innerHTML",e.bMT(2,10,"DynamicAuth.Wizard.SAML.ServiceProviderStep.Title"),e.npT),e.R7$(2),e.Y8G("formGroup",l.serviceProviderForm),e.R7$(),e.Y8G("id","EntityId")("label","DynamicAuth.EntityId.Label")("help","DynamicAuth.EntityId.Help"),e.R7$(2),e.Y8G("id","CallbackPath")("label","DynamicAuth.CallbackPathAcsEndpoint.Label")("help","DynamicAuth.CallbackPathAcsEndpoint.Help")("isLast",!0),e.R7$(2),e.Y8G("ngIf",!l.validCallbackPath()))},dependencies:[fn.bT,y.qT,y.me,y.BC,y.cb,y.YS,y.j4,y.JD,ce.Y,bn.D9],encapsulation:2})}}return r})();var Da=p(1746);const KT=["fileInput"];let __=(()=>{class r{get ReadOnlyFieldType(){return ar.t}constructor(t,o,l,C,$){this.wizardDataService=t,this.fb=o,this.certService=l,this.toastr=C,this.translate=$,this.validCertificateForm=!1,this.selectedFile=void 0,this.fileName=new Da.w(""),this.fileContent=void 0,this.passwordDisabled=!0}ngOnInit(){this.buildForm()}buildForm(){this.certForm=this.fb.group({certPassword:["",[]]})}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return this.disableClearBtn()||this.validCertificateForm}onNext(){this.wizardDataService.addSummary(this.data.stepName,this.toSummaryMap()),this.wizardDataService.addToDto(this.toStepDto())}hosted(){}handleFileInput(t){this.selectedFile=t.item(0),this.passwordDisabled=!1,this.requestCertValidation()}requestCertValidation(){this.validCertificateForm=!1}disableTestBtn(){return null==this.selectedFile}disableClearBtn(){const t=this.certForm.get("certPassword").value;return null==this.selectedFile&&""==t}validateForm(){if(null==this.selectedFile)return void this.toastr.error(this.translate.instant("Notifications.CertInValidMsg"),this.translate.instant("Notifications.CertInValidTitle"));this.fileName=new Da.w(""),this.fileContent=void 0;const t=this.certForm.get("certPassword").value;this.certService.verifyCertFilePassword(this.selectedFile,t,{next:o=>{this.fileName=new Da.w(this.selectedFile?.name),this.fileContent=o,this.validCertificateForm=!0,this.toastr.success(this.translate.instant("Notifications.CertValidTitle"))},error:o=>{this.validCertificateForm=!1,this.toastr.error(this.translate.instant("Notifications.CertInValidMsg"),this.translate.instant("Notifications.CertInValidTitle"))}})}clearCertificateForm(){this.fileInputNative.nativeElement.value=null,this.selectedFile=null,this.fileName=new Da.w(""),this.fileContent=void 0,this.certForm.get("certPassword").setValue(""),this.passwordDisabled=!0,this.validCertificateForm=!1}toStepDto(){const t={};return t.certFile=this.fileContent,t.certPassword=this.certForm.get("certPassword").value,t}toSummaryMap(){const t=new Map;return t.set("certFile",[this.selectedFile?.name]),t.set("certPassword",[this.certForm.get("certPassword").value]),t}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(Ol),e.rXU(y.ze),e.rXU(xc.V),e.rXU(Zn.tw),e.rXU(bn.c$))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-signing-step"]],viewQuery:function(o,l){if(1&o&&e.GBs(KT,5),2&o){let C;e.mGM(C=e.lsd())&&(l.fileInputNative=C.first)}},inputs:{data:"data"},decls:18,vars:19,consts:[["fileInput","","selectedFile",""],[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help"],[1,"tw-form-control"],["id","fileInput","type","file","name","file","accept",".pfx,.p12",1,"tw-form-file","tw-max-w-full",3,"change"],[3,"input","id","label"],["type","text","name","CertPassword","id","CertPassword","formControlName","certPassword",1,"tw-form-control",3,"readonly"],[3,"isLast"],["id","testBtn",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],["id","clearBtn",1,"tw-btn","tw-mr-3",3,"click","disabled"]],template:function(o,l){if(1&o){const C=e.RV6();e.j41(0,"div",1),e.nrm(1,"p",2),e.nI1(2,"translate"),e.k0s(),e.j41(3,"form",3)(4,"app-form-row",4)(5,"div",5)(6,"input",6,0),e.bIt("change",function(me){return e.eBV(C),e.Njj(l.handleFileInput(me.target.files))}),e.k0s()()(),e.j41(9,"app-form-row",7),e.bIt("input",function(){return e.eBV(C),e.Njj(l.requestCertValidation())}),e.nrm(10,"input",8),e.k0s(),e.j41(11,"app-form-row",9)(12,"button",10),e.bIt("click",function(){return e.eBV(C),e.Njj(l.validateForm())}),e.EFF(13),e.nI1(14,"translate"),e.k0s(),e.j41(15,"button",11),e.bIt("click",function(){return e.eBV(C),e.Njj(l.clearCertificateForm())}),e.EFF(16),e.nI1(17,"translate"),e.k0s()()()}2&o&&(e.R7$(),e.Y8G("innerHTML",e.bMT(2,13,"DynamicAuth.Wizard.SAML.SigningStep.Title"),e.npT),e.R7$(2),e.Y8G("formGroup",l.certForm),e.R7$(),e.Y8G("id","fileInputRow")("label","DynamicAuth.CertFile.Label")("help","DynamicAuth.CertFile.Help"),e.R7$(5),e.Y8G("id","CertPasswordRow")("label","DynamicAuth.CertPassword.Label"),e.R7$(),e.Y8G("readonly",l.passwordDisabled),e.R7$(),e.Y8G("isLast",!0),e.R7$(),e.Y8G("disabled",l.disableTestBtn()),e.R7$(),e.JRh(e.bMT(14,15,"Common.ValidateCert")),e.R7$(2),e.Y8G("disabled",l.disableClearBtn()),e.R7$(),e.JRh(e.bMT(17,17,"Common.Clear")))},dependencies:[y.qT,y.me,y.BC,y.cb,y.j4,y.JD,ce.Y,bn.D9],encapsulation:2})}}return r})(),Wf=(()=>{class r{constructor(t){this.inner=t}success_noduplicate(t,o){return this.showToast(t,o,(l,C)=>this.inner.success(l,C))}error_noduplicate(t,o){return this.showToast(t,o,(l,C)=>this.inner.error(l,C))}showToast(t,o,l){var C=this.inner.findDuplicate(o,t,!1,!1);return C&&this.inner.remove(C.toastId),l(t,o)}static{this.\u0275fac=function(o){return new(o||r)(e.KVO(Zn.tw))}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),b_=(()=>{class r{constructor(t,o,l,C,$){this.wizardDataService=t,this.fb=o,this.providerValidator=l,this.translate=C,this.toastr=$,this.metadataAddrStream=new xr.B}ngOnInit(){this.buildForm(),this.metadataAddrStream.subscribe(t=>{this.providerValidator.validateMetadataUrl(t).subscribe(o=>{o?this.toastr.success_noduplicate(this.translate.instant("DynamicAuth.Wizard.SAML.ExternalProviderStep.MetadataValidMsg"),this.translate.instant("DynamicAuth.Wizard.SAML.ExternalProviderStep.MetadataValidTitle")):this.toastr.error_noduplicate(this.translate.instant("DynamicAuth.Wizard.SAML.ExternalProviderStep.MetadataInValidMsg"),this.translate.instant("DynamicAuth.Wizard.SAML.ExternalProviderStep.MetadataInValidTitle"))})})}ngOnDestroy(){this.metadataAddrStream.unsubscribe()}tryMetadataAddr(){const t=this.externalProviderForm.get("metadataAddress");t.invalid||this.metadataAddrStream.next(t.value)}showReachableError(){const t=this.externalProviderForm.get("metadataAddress");return!(0,Mi.gP)(t.value)&&t.errors?.unreachableUrl}buildForm(){let t={metadataAddress:["https://",[y.k0.required,y.k0.pattern("^https://.{1,}$")]]};this.externalProviderForm=this.fb.group(t)}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return!this.externalProviderForm.invalid}onNext(){this.wizardDataService.addSummary(this.data.stepName,this.toSummaryMap()),this.wizardDataService.addToDto(this.toStepDto())}hosted(){}toStepDto(){const t={};return t.metadataAddress=this.externalProviderForm.get("metadataAddress").value,t}toSummaryMap(){const t=new Map;return t.set("metadataAddress",[this.externalProviderForm.get("metadataAddress").value]),t}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(Ol),e.rXU(y.ze),e.rXU(ru),e.rXU(bn.c$),e.rXU(Wf))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-external-provider-step"]],inputs:{data:"data"},decls:11,vars:12,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help","isLast"],[1,"tw-flex","tw-w-full","lg:tw-max-w-2xl"],["type","text","name","MetadataAddress","id","MetadataAddress","formControlName","metadataAddress","placeholder","https://","required","",1,"tw-form-control","tw-rounded-r-none","tw-border-r-0"],["id","testMetadataAddr",1,"tw-btn","tw-rounded-l-none",3,"click","disabled"]],template:function(o,l){1&o&&(e.j41(0,"div",0),e.nrm(1,"p",1),e.nI1(2,"translate"),e.k0s(),e.j41(3,"form",2)(4,"app-form-row",3)(5,"div",4),e.nrm(6,"input",5),e.j41(7,"button",6),e.bIt("click",function(){return l.tryMetadataAddr()}),e.j41(8,"span"),e.EFF(9),e.nI1(10,"translate"),e.k0s()()()()()),2&o&&(e.R7$(),e.Y8G("innerHTML",e.bMT(2,8,"DynamicAuth.Wizard.SAML.ExternalProviderStep.Title"),e.npT),e.R7$(2),e.Y8G("formGroup",l.externalProviderForm),e.R7$(),e.Y8G("id","MetadataAddress")("label","DynamicAuth.SAML.IdpMetadataAddress.Label")("help","DynamicAuth.SAML.IdpMetadataAddress.Help")("isLast",!0),e.R7$(3),e.Y8G("disabled",!l.canNext()),e.R7$(2),e.JRh(e.bMT(10,10,"Common.ValidateMetadata")))},dependencies:[y.qT,y.me,y.BC,y.cb,y.YS,y.j4,y.JD,ce.Y,bn.D9],encapsulation:2})}}return r})();class YT extends Gp{constructor(d){super();var t=[new hi(Ju,{stepName:"NameRoleStepComponent"}),new hi(BT,{stepName:"ConnectionStepComponent"}),new hi(UT,{stepName:"ScopesStepComponent"}),new hi(h_,{stepName:"ClientSecretStepComponent"})];d&&t.push(new hi(y_,{stepName:"SignInSchemeStepComponent"}));var o=[new hi(Ju,{stepName:"NameRoleStepComponent"}),new hi(zT,{stepName:"ServiceProviderStepComponent"}),new hi(__,{stepName:"SigningStepComponent"}),new hi(b_,{stepName:"ExternalProviderStepComponent"}),new hi(y_,{stepName:"SignInSchemeStepComponent"})];this.nameComponentMap.set(ci.AddOidcDynamicAuth,t),this.nameComponentMap.set(ci.AddSamlDynamicAuth,o),this.nameTitleMap.set(ci.AddDynamicAuth,new Uo("DynamicAuth.Wizard.Setup","DynamicAuth.Wizard.Title")),this.nameTitleMap.set(ci.AddOidcDynamicAuth,new Uo("DynamicAuth.Wizard.OIDC.Setup","DynamicAuth.Wizard.OIDC.Title")),this.nameTitleMap.set(ci.AddSamlDynamicAuth,new Uo("DynamicAuth.Wizard.SAML.Setup","DynamicAuth.Wizard.SAML.Title"))}}let Vg=(()=>{class r{canNext(){return!1}hosted(){}static{this.\u0275fac=function(o){return new(o||r)}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-empty-step"]],decls:4,vars:3,consts:[["id","emptyStepError","role","alert",1,"tw-alert-danger"]],template:function(o,l){1&o&&(e.j41(0,"div",0)(1,"div"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&o&&(e.R7$(2),e.JRh(e.bMT(3,1,"Common.Wizards.Empty")))},dependencies:[bn.D9],encapsulation:2})}}return r})();class XT extends Gp{getWizard(d){return[new hi(Vg)]}getWizardTitle(d){return new Uo("Empty Provider",`No step for wizard name: ${d}`)}}function C_(r,d){}function w_(r,d){if(1&r){const t=e.RV6();e.j41(0,"button",17),e.bIt("click",function(){e.eBV(t);const l=e.XpG();return e.Njj(l.nextTab())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}if(2&r){const t=e.XpG();e.Y8G("disabled",!t.canNext()),e.R7$(),e.JRh(e.bMT(2,2,"Common.Next"))}}function JT(r,d){if(1&r){const t=e.RV6();e.j41(0,"button",18),e.bIt("click",function(){e.eBV(t);const l=e.XpG();return e.Njj(l.submit())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&r&&(e.R7$(),e.JRh(e.bMT(2,1,"Common.Save")))}function QT(r,d){if(1&r){const t=e.RV6();e.j41(0,"button",19),e.bIt("click",function(){e.eBV(t);const l=e.XpG();return e.Njj(l.previousTab())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&r&&(e.R7$(),e.JRh(e.bMT(2,1,"Common.Back")))}function ZT(r,d){if(1&r){const t=e.RV6();e.j41(0,"button",19),e.bIt("click",function(){e.eBV(t);const l=e.XpG();return e.Njj(l.cancelWizard())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&r&&(e.R7$(),e.JRh(e.bMT(2,1,"Common.Back")))}let jg=(()=>{class r extends M1{constructor(t,o,l,C,$,me){super(),this.errorService=t,this.toastr=o,this.translate=l,this.dynamicAuthenticationService=C,this.wizardDataService=me,this.wizardProvider=new XT,this.components=new Map,$.getConfig().subscribe({next:He=>{this.wizardProvider=new YT(He.featureFlagOptions.dynamicAuthenticationFlag==Wa.U.Rsk)},error:He=>{this.errorService.handleError(He)}}),this.wizardDataService.reset()}nextTab(){this.components.get(this.index).instance.onNext(),++this.index,this.index===this.wizardSteps.length?this.buildSummary():(void 0===this.components.get(this.index)&&this.createComponentAtCurrentIndex(),this.displayComponentAtCurrentIndex())}previousTab(){this.index>0&&(--this.index,this.displayComponentAtCurrentIndex())}buildSummary(){const t=this.wizardDataService.getSummary();this.displaySummaryComponent(t)}displaySummaryComponent(t){this.wizardHost.viewContainerRef.detach(),void 0===this.summaryComponentRef?(this.wizardHost.viewContainerRef.detach(),this.summaryComponentRef=this.wizardHost.viewContainerRef.createComponent(yu)):this.wizardHost.viewContainerRef.insert(this.summaryComponentRef.hostView),this.summaryComponentRef.setInput("askIfEnabled",!0),this.summaryComponentRef.instance.summary=t,this.summaryComponentRef.instance.summaryTitle=this.wizardTitles.summaryTitle,this.summaryComponentRef.instance.emitNavigate.pipe((0,Jt.$)()).subscribe(o=>{this.index=t.findIndex(l=>l.stepName===o),this.displayComponentAtCurrentIndex()}),this.updateProgress()}submit(){const t=Lg(this.getModel());this.dynamicAuthenticationService.createDynamicAuth(t).subscribe({complete:()=>{this.finishWizard(),this.clearComponents(),this.toastr.success(`${this.translate.instant("Common.Created")}: ${t.displayName}`,this.translate.instant("Notifications.SuccessfullyCreated")),this.wizardDataService.reset()},error:o=>{this.errorService.handleError(o)}})}getModel(){const t=this.wizardName,o=this.wizardDataService.getDto(),l=this.summaryComponentRef.instance.isEnabled();var C="";if(this.wizardName===ci.AddOidcDynamicAuth&&(C=JSON.stringify({authority:o.authority,clientId:o.clientId,callbackPath:o.callbackPath,usePkce:o.flow==pl.AuthCodePlusPkce,scope:o.scopes,clientSecret:o.clientSecret,signInScheme:o.signInScheme})),this.wizardName===ci.AddSamlDynamicAuth){var $={spEntityId:o.entityId,callbackPath:o.callbackPath,signAuthenticationRequests:!(0,Mi.hX)(o.certFile)&&!(0,Mi.hX)(o.certPassword),signingCertBase64:o.certFile,signingCertPassword:o.certPassword,signInScheme:o.signInScheme,idpMetadataAddress:o.metadataAddress};C=JSON.stringify($)}return{type:As.fromWizardType(t),scheme:o.scheme,displayName:o.displayName,enabled:l,nonEditable:!1,options:C}}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(Z.I),e.rXU(Zn.tw),e.rXU(bn.c$),e.rXU(nu),e.rXU(Gs.w),e.rXU(Ol))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-dynamic-auth-wizard-host"]],features:[e.Jv_([]),e.Vt3],decls:24,vars:17,consts:[[1,"modal-header"],[1,"modal-title",3,"id"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-progress"],["role","progressbar",1,"modal-progress-bar"],[1,"modal-body","scrollbars"],["appStepHost",""],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["class","tw-btn-success tw-mr-3","id","nextBtn",3,"disabled","click",4,"ngIf"],["class","tw-btn-success tw-mr-3","id","submitBtn",3,"click",4,"ngIf"],["class","tw-btn","id","backBtn",3,"click",4,"ngIf"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],["id","submitBtn",1,"tw-btn-success","tw-mr-3",3,"click"],["id","backBtn",1,"tw-btn",3,"click"]],template:function(o,l){1&o&&(e.j41(0,"div",0)(1,"h5",1),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"button",2),e.bIt("click",function(){return l.hideWizard()}),e.nrm(5,"span",3),e.j41(6,"span",4),e.EFF(7),e.nI1(8,"translate"),e.k0s()()(),e.j41(9,"div",5),e.nrm(10,"div",6),e.k0s(),e.j41(11,"div",7),e.DNE(12,C_,0,0,"ng-template",8),e.k0s(),e.nrm(13,"div",9),e.j41(14,"div",10)(15,"div",11)(16,"div",12),e.DNE(17,w_,3,4,"button",13)(18,JT,3,3,"button",14)(19,QT,3,3,"button",15)(20,ZT,3,3,"button",15),e.k0s(),e.j41(21,"button",16),e.bIt("click",function(){return l.cancelWizard()}),e.EFF(22),e.nI1(23,"translate"),e.k0s()()()),2&o&&(e.R7$(),e.Y8G("id",l.titleId),e.R7$(),e.JRh(e.bMT(3,11,l.wizardTitles.setupTitle)),e.R7$(5),e.JRh(e.bMT(8,13,"Common.Close")),e.R7$(3),e.xc7("width",l.progressPercent+"%"),e.BMQ("aria-valuenow",l.progressPercent),e.R7$(7),e.Y8G("ngIf",l.index<(null==l.wizardSteps?null:l.wizardSteps.length)),e.R7$(),e.Y8G("ngIf",l.index==(null==l.wizardSteps?null:l.wizardSteps.length)),e.R7$(),e.Y8G("ngIf",l.index>0),e.R7$(),e.Y8G("ngIf",l.index<=0),e.R7$(2),e.JRh(e.bMT(23,15,"Common.Cancel")))},dependencies:[fn.bT,Kp,bn.D9],encapsulation:2})}}return r})();const qT=(r,d,t,o,l)=>({id:"oidcBtn",btnId:"oidcTestBtn",title:r,summary:d,icon:"fab fa-openid",value:t,selected:o,type:l}),S_=(r,d,t,o,l)=>({id:"samlBtn",btnId:"samlTestBtn",title:r,summary:d,icon:"fad fa-code",value:t,selected:o,type:l}),eI=(r,d)=>({"tw-bg-green-200":r,"hover:tw-shadow-md md:tw-pr-16":d}),tI=(r,d)=>({"tw-bg-green-500":r,"tw-bg-grey-200":d}),nI=(r,d)=>({"tw-text-white":r,"tw-text-grey-400 group-hover:tw-text-grey-700":d}),iI=(r,d,t)=>({"tw-text-green-800":r,"tw-text-navy-500":d,"tw-text-grey-300":t}),rI=(r,d,t)=>({"tw-text-green-600":r,"tw-text-grey-600":d,"tw-text-grey-600":t}),sI=(r,d)=>({"tw-text-green-500":r,"tw-text-grey-300":d});function oI(r,d){1&r&&e.eu8(0)}function aI(r,d){1&r&&e.eu8(0)}function E_(r,d){1&r&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.JRh(e.bMT(2,1,"DynamicAuth.Wizard.TypeSelectStep.OIDC.Title")))}function T_(r,d){1&r&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.JRh(e.bMT(2,1,"DynamicAuth.Wizard.TypeSelectStep.SAML.Title")))}function I_(r,d){1&r&&(e.nrm(0,"p",25),e.nI1(1,"translate")),2&r&&e.Y8G("innerHTML",e.bMT(1,1,"DynamicAuth.Wizard.TypeSelectStep.OIDC.Description"),e.npT)}function lI(r,d){1&r&&(e.nrm(0,"p",25),e.nI1(1,"translate")),2&r&&e.Y8G("innerHTML",e.bMT(1,1,"DynamicAuth.Wizard.TypeSelectStep.SAML.Description"),e.npT)}function D_(r,d){1&r&&(e.j41(0,"span",37),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.Selected")))}function cI(r,d){if(1&r){const t=e.RV6();e.j41(0,"li",26)(1,"input",27),e.bIt("click",function(){const l=e.eBV(t),C=l.type,$=l.disabled,me=e.XpG(2);return e.Njj(!$&&me.setActive(C))}),e.k0s(),e.j41(2,"label",28),e.bIt("click",function(){const l=e.eBV(t),C=l.type,$=l.disabled,me=e.XpG(2);return e.Njj(!$&&me.setActive(C))}),e.j41(3,"div",29),e.nrm(4,"span",30),e.DNE(5,D_,3,3,"span",31),e.k0s(),e.j41(6,"div",32)(7,"span",33),e.EFF(8),e.k0s(),e.j41(9,"span",34),e.EFF(10),e.k0s()(),e.j41(11,"div",35),e.nrm(12,"span",36),e.k0s()()()}if(2&r){const t=d.id,o=d.btnId,l=d.title,C=d.summary,$=d.icon,me=d.value,He=d.selected,at=d.disabled,Ut=e.XpG(2);e.FS9("id",t),e.R7$(),e.FS9("id",o),e.FS9("value",me),e.Y8G("ngModel",Ut.activeType),e.R7$(),e.FS9("for",o),e.Y8G("ngClass",e.l_i(17,eI,He,!at)),e.R7$(),e.Y8G("ngClass",e.l_i(20,tI,He,!He)),e.R7$(),e.Y8G("ngClass",e.l_i(23,nI,He,!He)),e.R7$(),e.Y8G("ngIf",He),e.R7$(2),e.Y8G("ngClass",e.sMw(26,iI,He,!He,at)),e.R7$(),e.SpI(" ",l," "),e.R7$(),e.Y8G("ngClass",e.sMw(30,rI,He,!He,at)),e.R7$(),e.SpI(" ",C," "),e.R7$(2),e.ZvI("",$," tw-text-3xl tw-transition-all tw-ease-in-out"),e.Y8G("ngClass",e.l_i(34,sI,He,!He))}}function uI(r,d){if(1&r){const t=e.RV6();e.j41(0,"div",3)(1,"div",4)(2,"h5",5),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"button",6),e.nI1(6,"translate"),e.bIt("click",function(){e.eBV(t);const l=e.XpG();return e.Njj(l.hide())}),e.nrm(7,"span",7),e.k0s()(),e.j41(8,"div",8),e.nrm(9,"div",9,0),e.k0s(),e.j41(11,"div",10)(12,"div",11)(13,"ul",12),e.DNE(14,oI,1,0,"ng-container",13),e.nI1(15,"translate"),e.nI1(16,"translate"),e.DNE(17,aI,1,0,"ng-container",13),e.nI1(18,"translate"),e.nI1(19,"translate"),e.k0s()(),e.j41(20,"div",14)(21,"h2",15),e.nrm(22,"span",16),e.DNE(23,E_,3,3,"span",17)(24,T_,3,3,"span",17),e.k0s(),e.DNE(25,I_,2,3,"p",18)(26,lI,2,3,"p",18),e.k0s(),e.DNE(27,cI,13,37,"ng-template",null,1,e.C5r),e.k0s(),e.nrm(29,"div",19),e.j41(30,"div",20)(31,"div",21)(32,"div",22)(33,"button",23),e.bIt("click",function(){e.eBV(t);const l=e.XpG();return e.Njj(l.choosePage())}),e.EFF(34),e.nI1(35,"translate"),e.k0s()(),e.j41(36,"button",24),e.bIt("click",function(){e.eBV(t);const l=e.XpG();return e.Njj(l.hide())}),e.EFF(37),e.nI1(38,"translate"),e.k0s()()()()}if(2&r){const t=e.sdS(28),o=e.XpG();e.R7$(2),e.Y8G("id",o.titleId),e.R7$(),e.JRh(e.bMT(4,14,"DynamicAuth.Wizard.Title")),e.R7$(2),e.BMQ("aria-label",e.bMT(6,16,"Common.Close")),e.R7$(9),e.Y8G("ngTemplateOutlet",t)("ngTemplateOutletContext",e.s1E(30,qT,e.bMT(15,18,"DynamicAuth.Wizard.TypeSelectStep.OIDC.Name"),e.bMT(16,20,"DynamicAuth.Wizard.TypeSelectStep.OIDC.Title"),o.wizardTypes.AddOidcDynamicAuth,o.activeType===o.wizardTypes.AddOidcDynamicAuth,o.wizardTypes.AddOidcDynamicAuth)),e.R7$(3),e.Y8G("ngTemplateOutlet",t)("ngTemplateOutletContext",e.s1E(36,S_,e.bMT(18,22,"DynamicAuth.Wizard.TypeSelectStep.SAML.Name"),e.bMT(19,24,"DynamicAuth.Wizard.TypeSelectStep.SAML.Title"),o.wizardTypes.AddSamlDynamicAuth,o.activeType===o.wizardTypes.AddSamlDynamicAuth,o.wizardTypes.AddSamlDynamicAuth)),e.R7$(6),e.Y8G("ngIf",o.activeType===o.wizardTypes.AddOidcDynamicAuth),e.R7$(),e.Y8G("ngIf",o.activeType===o.wizardTypes.AddSamlDynamicAuth),e.R7$(),e.Y8G("ngIf",o.activeType===o.wizardTypes.AddOidcDynamicAuth),e.R7$(),e.Y8G("ngIf",o.activeType===o.wizardTypes.AddSamlDynamicAuth),e.R7$(7),e.Y8G("disabled",o.activeType===o.wizardTypes.Home),e.R7$(),e.JRh(e.bMT(35,26,"Common.Start")),e.R7$(3),e.JRh(e.bMT(38,28,"Common.Cancel"))}}function $g(r,d){if(1&r){const t=e.RV6();e.j41(0,"div",3)(1,"app-dynamic-auth-wizard-host",38),e.bIt("wizardCancel",function(){e.eBV(t);const l=e.XpG();return e.Njj(l.onCancel())})("finish",function(){e.eBV(t);const l=e.XpG();return e.Njj(l.onFinish())})("hide",function(){e.eBV(t);const l=e.XpG();return e.Njj(l.hide())}),e.k0s()()}if(2&r){const t=e.XpG();e.R7$(),e.Y8G("wizardName",t.pageType)}}let A_=(()=>{class r{constructor(t){this.modalService=t,this.finish=new e.bkB,this.titleId=Ro.TileId,this.pageType=ci.AddDynamicAuth,this.activeType=ci.AddOidcDynamicAuth,this.showWizard=!1,this.wizardTypes=ci}ngOnInit(){}ngOnDestroy(){this.hide()}getDescription(){return this.activeType==ci.AddOidcDynamicAuth?"DynamicAuth.Wizard.TypeSelectStep.OidcHelp":this.activeType==ci.AddSamlDynamicAuth?"DynamicAuth.Wizard.TypeSelectStep.SamlHelp":""}choosePage(){this.pageType=this.activeType,this.showWizard=!0}setActive(t){this.activeType=t}onCancel(){this.pageType=ci.AddDynamicAuth,this.activeType=ci.AddOidcDynamicAuth,this.showWizard=!1}onFinish(){this.finish.emit(),this.hide()}hide(){this.modalService.hide(Ro.Id),this.modalService.onHidden.pipe((0,Jt.$)()).subscribe(()=>{this.onCancel()})}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(Tt.I8))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-dynamic-auth-wizard"]],outputs:{finish:"finish"},decls:2,vars:2,consts:[["progressBar",""],["commonTypeButton",""],["class","",4,"ngIf"],[1,""],[1,"modal-header"],[1,"modal-title",3,"id"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"modal-progress"],["role","progressbar","aria-valuenow","2",1,"modal-progress-bar",2,"width","2%"],[1,"modal-body","scrollbars"],[1,"tw--mt-2","tw--ml-2","md:tw--mt-4","md:tw--ml-4"],[1,"tw-flex","tw-flex-wrap"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"tw-border-t","tw-border-grey-300","tw-text-grey-700","tw-text-sm","tw-mt-6","tw-pt-5"],[1,"tw-text-sm","tw-font-semibold","tw-text-primary-500","tw-mb-2"],["aria-hidden","true",1,"fas","fa-info-circle","tw-w-5"],[4,"ngIf"],[3,"innerHTML",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","nextModal",1,"tw-btn-success",3,"click","disabled"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],[3,"innerHTML"],[1,"tw-pt-2","tw-pl-2","tw-w-full","sm:tw-w-1/2","md:tw-pt-4","md:tw-pl-4",3,"id"],["type","radio",1,"sr-only",3,"click","id","value","ngModel"],[1,"tw-block","tw-bg-white","tw-pl-16","tw-py-3","tw-w-full","tw-overflow-hidden","tw-rounded","tw-relative","group","tw-transition-all","tw-ease-in-out",3,"click","for","ngClass"],[1,"tw-flex","tw-items-center","tw-justify-center","tw-w-16","tw-h-full","tw-absolute","tw-top-0","tw-left-0","tw-transition-all","tw-ease-in-out",3,"ngClass"],[1,"fas","fa-check","tw-text-xl","tw-transition-all","tw-ease-in-out",3,"ngClass"],["class","sr-only",4,"ngIf"],[1,"tw-px-4","tw-text-left"],[1,"tw-block","tw-font-semibold","tw-transition-all","tw-ease-in-out",3,"ngClass"],[1,"tw-block","tw-text-xs","tw-transition-all","tw-ease-in-out",3,"ngClass"],[1,"tw-hidden","tw-items-center","tw-justify-center","tw-w-16","tw-h-full","tw-absolute","tw-top-0","tw-right-0","tw-transition-all","tw-ease-in-out","md:tw-flex"],[3,"ngClass"],[1,"sr-only"],[3,"wizardCancel","finish","hide","wizardName"]],template:function(o,l){1&o&&e.DNE(0,uI,39,42,"div",2)(1,$g,2,1,"div",2),2&o&&(e.Y8G("ngIf",l.pageType===l.wizardTypes.AddDynamicAuth),e.R7$(),e.Y8G("ngIf",l.showWizard))},dependencies:[fn.YU,fn.bT,fn.T3,y.me,y.Fm,y.BC,y.vS,jg,bn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return r})();const dI=()=>({href:"https://www.identityserver.com/documentation/dynamic-authentication-providers/quickstarts/entityframework/"}),Gg=(r,d)=>({"fad fa-pencil":r,"fas fa-eye":d});function R_(r,d){1&r&&(e.j41(0,"div",3),e.nrm(1,"app-title-bar",4),e.nI1(2,"translate"),e.j41(3,"div",5)(4,"div",6)(5,"p",7),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"ul",8)(9,"li")(10,"a",9),e.EFF(11),e.nI1(12,"translate"),e.k0s()(),e.j41(13,"li")(14,"a",10),e.EFF(15),e.nI1(16,"translate"),e.k0s()()()()()()),2&r&&(e.R7$(),e.Y8G("title",e.bMT(2,4,"DynamicAuth.Title.Generic")),e.R7$(5),e.JRh(e.bMT(7,6,"DynamicAuth.Unconfigured.FirstLine")),e.R7$(5),e.JRh(e.bMT(12,8,"DynamicAuth.Unconfigured.WhatIs")),e.R7$(4),e.JRh(e.bMT(16,10,"DynamicAuth.Unconfigured.Enable")))}function M_(r,d){if(1&r){const t=e.RV6();e.j41(0,"app-dynamic-auth-wizard",17),e.bIt("finish",function(){e.eBV(t);const l=e.XpG(2);return e.Njj(l.reload())}),e.k0s()}}function KA(r,d){1&r&&(e.j41(0,"div",18)(1,"div",19),e.nrm(2,"span",20),e.nI1(3,"translate"),e.k0s()()),2&r&&(e.R7$(2),e.Y8G("innerHTML",e.i5U(3,1,"Errors.DynamicAuthentication.SchemaHealth",e.lJ4(4,dI)),e.npT))}function x_(r,d){1&r&&(e.j41(0,"span"),e.nrm(1,"span",38),e.EFF(2),e.nI1(3,"translate"),e.k0s()),2&r&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"Auditing.ShowFilters")," "))}function hI(r,d){1&r&&(e.j41(0,"span"),e.nrm(1,"span",39),e.EFF(2),e.nI1(3,"translate"),e.k0s()),2&r&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"Auditing.HideFilters")," "))}function k_(r,d){if(1&r){const t=e.RV6();e.j41(0,"li",34)(1,"button",40),e.bIt("click",function(){e.eBV(t);const l=e.XpG(3);return e.Njj(l.filter(l.DynamicAuthFilters.Enabled))}),e.EFF(2),e.nI1(3,"translate"),e.k0s()()}if(2&r){const t=e.XpG(3);e.R7$(),e.Y8G("ngClass",t.isShowing(t.DynamicAuthFilters.Enabled)?"tw-btn":"tw-btn-link"),e.R7$(),e.SpI(" ",e.bMT(3,2,"DynamicAuth.Filters.Enabled")," ")}}function N_(r,d){if(1&r){const t=e.RV6();e.j41(0,"li")(1,"button",41),e.bIt("click",function(){e.eBV(t);const l=e.XpG(3);return e.Njj(l.filter(l.DynamicAuthFilters.Disabled))}),e.EFF(2),e.nI1(3,"translate"),e.k0s()()}if(2&r){const t=e.XpG(3);e.R7$(),e.Y8G("ngClass",t.isShowing(t.DynamicAuthFilters.Disabled)?"tw-btn":"tw-btn-link"),e.R7$(),e.SpI(" ",e.bMT(3,2,"DynamicAuth.Filters.Disabled")," ")}}function Hg(r,d){if(1&r){const t=e.RV6();e.j41(0,"div",46)(1,"label",47),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"select",48),e.mxI("ngModelChange",function(l){e.eBV(t);const C=e.XpG(4);return e.DH7(C.pageSize,l)||(C.pageSize=l),e.Njj(l)}),e.bIt("change",function(){e.eBV(t);const l=e.XpG(4);return e.Njj(l.setPageLength(+l.pageSize))}),e.j41(5,"option",49),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"option",50),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"option",51),e.EFF(12),e.nI1(13,"translate"),e.k0s()()()}if(2&r){const t=e.XpG(4);e.R7$(2),e.Lme("",t.pageSize," ",e.bMT(3,6,"Nav.PerPage"),""),e.R7$(2),e.R50("ngModel",t.pageSize),e.R7$(2),e.SpI("25 ",e.bMT(7,8,"Nav.PerPage"),""),e.R7$(3),e.SpI("50 ",e.bMT(10,10,"Nav.PerPage"),""),e.R7$(3),e.SpI("100 ",e.bMT(13,12,"Nav.PerPage"),"")}}function zf(r,d){if(1&r){const t=e.RV6();e.j41(0,"app-action-bar"),e.qex(1,42),e.DNE(2,Hg,14,14,"div",43),e.bVm(),e.qex(3,44),e.j41(4,"button",45),e.bIt("click",function(){e.eBV(t),e.XpG(2);const l=e.sdS(9),C=e.XpG();return e.Njj(C.showWizard(l))}),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.bVm(),e.k0s()}if(2&r){const t=e.XpG(3);e.R7$(2),e.Y8G("ngIf",(null==t.pagedResult?null:t.pagedResult.results.length)>0),e.R7$(3),e.SpI(" ",e.bMT(6,2,"Common.Add")," ")}}function Wg(r,d){1&r&&e.nrm(0,"app-simple-loader")}function O_(r,d){1&r&&(e.j41(0,"div",55)(1,"div"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&r&&(e.R7$(2),e.JRh(e.bMT(3,1,"DynamicAuth.List.None")))}function F_(r,d){1&r&&(e.j41(0,"span",70)(1,"span",14),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&r&&(e.R7$(2),e.JRh(e.bMT(3,1,"Common.Disabled")))}function P_(r,d){1&r&&(e.j41(0,"span",71),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Disabled")," "))}function B_(r,d){1&r&&(e.j41(0,"span",72),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Reserved")," "))}function L_(r,d){if(1&r){const t=e.RV6();e.j41(0,"tr",61)(1,"td",62),e.bIt("click",function(){const l=e.eBV(t).$implicit,C=e.XpG(5);return e.Njj(C.viewOrEditDynamicAuth(l))}),e.DNE(2,F_,4,3,"span",63),e.j41(3,"b"),e.EFF(4),e.k0s()(),e.j41(5,"td",64),e.bIt("click",function(){const l=e.eBV(t).$implicit,C=e.XpG(5);return e.Njj(C.viewOrEditDynamicAuth(l))}),e.EFF(6),e.k0s(),e.j41(7,"td",64),e.bIt("click",function(){const l=e.eBV(t).$implicit,C=e.XpG(5);return e.Njj(C.viewOrEditDynamicAuth(l))}),e.j41(8,"code"),e.EFF(9),e.k0s()(),e.j41(10,"td",65),e.bIt("click",function(){const l=e.eBV(t).$implicit,C=e.XpG(5);return e.Njj(C.viewOrEditDynamicAuth(l))}),e.DNE(11,P_,3,3,"span",66)(12,B_,3,3,"span",67),e.k0s(),e.j41(13,"td",65),e.bIt("click",function(){const l=e.eBV(t).$implicit,C=e.XpG(5);return e.Njj(C.viewOrEditDynamicAuth(l))}),e.j41(14,"button",68),e.bIt("click",function(){const l=e.eBV(t).$implicit,C=e.XpG(5);return e.Njj(C.viewOrEditDynamicAuth(l))}),e.nrm(15,"span",69),e.j41(16,"span",14),e.EFF(17),e.nI1(18,"translate"),e.k0s()()()()}if(2&r){const t=d.$implicit,o=e.XpG(5);e.AVh("inactive",!t.enabled||(null==t?null:t.nonEditable)),e.FS9("id",t.scheme),e.R7$(2),e.Y8G("ngIf",!t.enabled),e.R7$(),e.AVh("tw-text-blue-500",!(null!=t&&t.nonEditable)),e.R7$(),e.SpI(" ",null==t?null:t.scheme," "),e.R7$(2),e.SpI(" ",null==t?null:t.displayName," "),e.R7$(3),e.JRh(o.typeStr(null==t?null:t.type)),e.R7$(2),e.Y8G("ngIf",!t.enabled),e.R7$(),e.Y8G("ngIf",null==t?null:t.nonEditable),e.R7$(3),e.Y8G("ngClass",e.l_i(15,Gg,!o.isReadOnly&&!t.nonEditable,o.isReadOnly||t.nonEditable)),e.R7$(2),e.JRh(e.bMT(18,13,"Common.Edit"))}}function U_(r,d){if(1&r&&(e.j41(0,"table",56)(1,"thead")(2,"tr")(3,"th",57),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"th",58),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"th",58),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"th",59)(13,"span",14),e.EFF(14),e.nI1(15,"translate"),e.k0s()(),e.j41(16,"th",59)(17,"span",14),e.EFF(18),e.nI1(19,"translate"),e.k0s()()()(),e.j41(20,"tbody"),e.DNE(21,L_,19,18,"tr",60),e.k0s()()),2&r){const t=e.XpG(4);e.R7$(4),e.SpI(" ",e.bMT(5,6,"Common.Scheme")," "),e.R7$(3),e.SpI(" ",e.bMT(8,8,"Common.Name")," "),e.R7$(3),e.SpI(" ",e.bMT(11,10,"Common.Type")," "),e.R7$(4),e.JRh(e.bMT(15,12,"Common.Status")),e.R7$(4),e.JRh(e.bMT(19,14,"Common.Actions")),e.R7$(3),e.Y8G("ngForOf",t.dynamicAuths)}}function V_(r,d){if(1&r){const t=e.RV6();e.j41(0,"app-pager",73),e.bIt("onGoToPage",function(l){e.eBV(t);const C=e.XpG(4);return e.Njj(C.goToPage(l))}),e.k0s()}if(2&r){const t=e.XpG(4);e.Y8G("totalResults",null==t.pagedResult?null:t.pagedResult.totalCount)("currentPage",t.page)("lastPage",null==t.pagedResult?null:t.pagedResult.pageCount)}}function j_(r,d){if(1&r&&(e.qex(0),e.DNE(1,O_,4,3,"div",52)(2,U_,22,16,"table",53)(3,V_,1,3,"app-pager",54),e.bVm()),2&r){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",(null==t.dynamicAuths?null:t.dynamicAuths.length)<1),e.R7$(),e.Y8G("ngIf",(null==t.dynamicAuths?null:t.dynamicAuths.length)>0),e.R7$(),e.Y8G("ngIf",(null==t.pagedResult?null:t.pagedResult.results.length)>0&&!t.isLoading)}}function $_(r,d){if(1&r){const t=e.RV6();e.j41(0,"div",21)(1,"div",22)(2,"div",23)(3,"label",24),e.nrm(4,"span",25),e.j41(5,"span",14),e.EFF(6),e.nI1(7,"translate"),e.k0s()(),e.j41(8,"input",26),e.nI1(9,"translate"),e.mxI("ngModelChange",function(l){e.eBV(t);const C=e.XpG(2);return e.DH7(C.searchTerm,l)||(C.searchTerm=l),e.Njj(l)}),e.bIt("keyup",function(l){e.eBV(t);const C=e.XpG(2);return e.Njj(C.search(l))}),e.k0s()(),e.j41(10,"button",27),e.bIt("click",function(){e.eBV(t);const l=e.XpG(2);return e.Njj(l.showAdvancedFilters=!l.showAdvancedFilters)}),e.DNE(11,x_,4,3,"span",28)(12,hI,4,3,"span",28),e.k0s(),e.j41(13,"div",29)(14,"div",30)(15,"div",31)(16,"p",32),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"ul",33)(20,"li",34)(21,"button",35),e.bIt("click",function(){e.eBV(t);const l=e.XpG(2);return e.Njj(l.filter(l.DynamicAuthFilters.OIDC))}),e.EFF(22),e.nI1(23,"translate"),e.k0s()(),e.j41(24,"li",34)(25,"button",36),e.bIt("click",function(){e.eBV(t);const l=e.XpG(2);return e.Njj(l.filter(l.DynamicAuthFilters.SAML))}),e.EFF(26),e.nI1(27,"translate"),e.k0s()(),e.DNE(28,k_,4,4,"li",37)(29,N_,4,4,"li",28),e.k0s()()(),e.nrm(30,"hr"),e.k0s()(),e.DNE(31,zf,7,4,"app-action-bar",28)(32,Wg,1,0,"app-simple-loader",28)(33,j_,4,3,"ng-container",28),e.k0s()}if(2&r){const t=e.XpG(2);e.R7$(6),e.JRh(e.bMT(7,16,"Common.Search")),e.R7$(2),e.FS9("placeholder",e.bMT(9,18,"DynamicAuth.SearchPlaceholder")),e.R50("ngModel",t.searchTerm),e.R7$(3),e.Y8G("ngIf",!t.showAdvancedFilters),e.R7$(),e.Y8G("ngIf",t.showAdvancedFilters),e.R7$(),e.Y8G("hidden",!t.showAdvancedFilters),e.R7$(4),e.JRh(e.bMT(18,20,"Auditing.Showing")),e.R7$(4),e.Y8G("ngClass",t.isShowing(t.DynamicAuthFilters.OIDC)?"tw-btn":"tw-btn-link"),e.R7$(),e.SpI(" ",e.bMT(23,22,"DynamicAuth.Filters.OIDC")," "),e.R7$(3),e.Y8G("ngClass",t.isShowing(t.DynamicAuthFilters.SAML)?"tw-btn":"tw-btn-link"),e.R7$(),e.SpI(" ",e.bMT(27,24,"DynamicAuth.Filters.SAML")," "),e.R7$(2),e.Y8G("ngIf",!t.isRskDynamicAuth),e.R7$(),e.Y8G("ngIf",!t.isRskDynamicAuth),e.R7$(2),e.Y8G("ngIf",!t.isLoading&&!t.isReadOnly),e.R7$(),e.Y8G("ngIf",t.isLoading),e.R7$(),e.Y8G("ngIf",!t.isLoading)}}function G_(r,d){if(1&r&&(e.j41(0,"div",11)(1,"app-title-bar",4),e.nI1(2,"translate"),e.j41(3,"a",12),e.nrm(4,"span",13),e.j41(5,"span",14),e.EFF(6),e.nI1(7,"translate"),e.k0s()()(),e.DNE(8,M_,1,0,"ng-template",null,0,e.C5r)(10,KA,4,5,"div",15)(11,$_,34,26,"div",16),e.k0s()),2&r){const t=e.XpG();e.R7$(),e.Y8G("title",e.bMT(2,5,t.isRskDynamicAuth?"DynamicAuth.Title.RSK":"DynamicAuth.Title.Duende")),e.R7$(2),e.Y8G("href",t.LinkConstants.EnablingDynamicAuth,e.B4B),e.R7$(3),e.JRh(e.bMT(7,7,"Common.Help")),e.R7$(4),e.Y8G("ngIf",!t.schemaHealthy),e.R7$(),e.Y8G("ngIf",t.schemaHealthy)}}let H_=(()=>{class r extends yo.if{get DynamicAuthFilters(){return d_}get isReadOnly(){return(0,Mi.ci)(this.securityService.userPermissions)}get LinkConstants(){return dr}typeStr(t){return As[t]}constructor(t,o,l,C,$,me,He,at,Ut,on){super(me,He,!0),this.configService=t,this.errorService=o,this.titleService=l,this.dynamicAuthenticationService=C,this.securityService=$,this.router=at,this.localize=Ut,this.modalService=on,this.activeFilters=[],this.pageSize=25,this.page=1,this.term="",this.isLoading=!0,this.showAdvancedFilters=!1,this.schemaHealthy=!0,this.isRskDynamicAuth=!1,this.dynamicAuthIsNotConfigured=!1,this.dynamicAuths=[],this.filterStream=new xr.B,this.pageStream=new xr.B,this.pageSizeStream=new xr.B,this.mapSearchTerm=this.mapSearchTerm.bind(this)}showWizard(t){this.modalService.show(t,{id:Ro.Id,ariaLabelledBy:Ro.TileId,ariaDescribedby:Ro.DescriptionId,backdrop:"static"})}reload(){this.pageStream.next(this.page),this.pageSizeStream.next(this.pageSize)}mapSearchTerm(t){return this.term=t,{searchTerm:t,page:1,pageSize:this.pageSize}}ngOnInit(){const t=this.translate.instant("Nav.DynamicAuth")+" - "+Bt.$9.SITE_TITLE;this.isLoading=!0,this.titleService.setTitle(t),this.configService.getConfig().subscribe({next:o=>{this.dynamicAuthIsNotConfigured=(0,Mi.hX)(o.featureFlagOptions.dynamicAuthenticationFlag),this.isRskDynamicAuth=o.featureFlagOptions.dynamicAuthenticationFlag==Wa.U.Rsk},error:o=>{this.errorService.handleError(o)}}),this.dynamicAuthIsNotConfigured||this.dynamicAuthenticationService.schemaHealthy().pipe((0,Jt.$)()).subscribe({next:o=>{this.schemaHealthy=o,this.schemaHealthy&&this.triggerPageLoad()},error:o=>{this.toastr.error(this.translate.instant("Errors.DynamicAuthentication.SchemeHealthHttp",{status:o.status}))}})}triggerPageLoad(){const t=this.filterStream.pipe((0,Di.T)(C=>(this.activeFilters=C,{filters:C,searchTerm:this.term,page:this.page,pageSize:this.pageSize}))),o=this.pageStream.pipe((0,Di.T)(C=>(this.page=C,{filters:this.activeFilters,searchTerm:this.term,page:C,pageSize:this.pageSize}))),l=this.pageSizeStream.pipe((0,Di.T)(C=>(this.pageSize=C,{filters:this.activeFilters,searchTerm:this.term,page:this.page,pageSize:C})));o.pipe((0,Cl.X)(l),(0,Cl.X)(this.searchSource),(0,Cl.X)(t),(0,Cl.X)(this.enterKeySource),(0,vl.Z)({filters:this.activeFilters,searchTerm:this.term,page:this.page,pageSize:this.pageSize}),(0,ga.Z)(C=>{this.isLoading=!0;const $=C.filters.join(" ");return this.dynamicAuthenticationService.get(C.searchTerm,C.page,C.pageSize,$).pipe((0,va.c)(200))})).subscribe({next:C=>{this.pagedResult=C,this.dynamicAuths=this.pagedResult.results.map($=>Yu($)).sort(($,me)=>Number(me.nonEditable)-Number($.nonEditable)),this.isLoading=!1},error:C=>{500===C.status?this.handleInternalServerError():this.errorService.handleError(C),this.isLoading=!1}})}filter(t){if(this.activeFilters.includes(t)){const o=this.activeFilters.indexOf(t);this.activeFilters.splice(o,1)}else this.activeFilters.push(t);this.filterStream.next(this.activeFilters)}isShowing(t){return this.activeFilters.includes(t)}goToPage(t){this.pageStream.next(t)}setPageLength(t){this.page=1,this.pageSizeStream.next(t)}viewOrEditDynamicAuth(t){const l=this.localize.translateRoute(`${this.isReadOnly||t.nonEditable?"/dynamic-auth/view":"/dynamic-auth"}/${t.scheme}`);this.router.navigateByUrl(l)}handleInternalServerError(){this.toastr.error(this.translate.instant("IdentityProviders.Filter.StoredProcedureErrorMessage"),this.translate.instant("Notifications.Error"))}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(Gs.w),e.rXU(Z.I),e.rXU(i.hE),e.rXU(nu),e.rXU(li.i),e.rXU(Zn.tw),e.rXU(bn.c$),e.rXU(Ct.Ix),e.rXU($i.QG),e.rXU(Tt.I8))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["ng-component"]],features:[e.Vt3],decls:2,vars:2,consts:[["idpWizardModal",""],["id","missingConfiguration",4,"ngIf"],["id","listView",4,"ngIf"],["id","missingConfiguration"],[3,"title"],["id","ActivationInformation",1,"tw-container","mx-auto"],[1,"cms"],["id","firstLine"],[1,"tw-list-disc","tw-list-inside","tw-indent-8"],["href","documentation/DynamicAuthentication/What_is_Dynamic_Authentication.html","target","_blank",1,"tw-text-blue-500","hover:tw-text-body","tw-transition-all","tw-ease-in-out"],["href","documentation/DynamicAuthentication/Enabling_or_disabling_Dynamic_Authentication.html","target","_blank",1,"tw-text-blue-500","hover:tw-text-body","tw-transition-all","tw-ease-in-out"],["id","listView"],["type","button","target","_blank","ctx","",1,"tw-btn-link","tw-btn","group-hover:tw-text-blue-500","tw-pl-0",3,"href"],[1,"far","fa-question-circle"],[1,"sr-only"],["id","schemaUnhealthy","class","tw-container tw-mx-auto",4,"ngIf"],["id","dynamicAuthList","class","tw-container tw-mx-auto",4,"ngIf"],["id","dynamicAuthWizardModal",3,"finish"],["id","schemaUnhealthy",1,"tw-container","tw-mx-auto"],[1,"tw-alert-warning","tw-mb-4"],[3,"innerHTML"],["id","dynamicAuthList",1,"tw-container","tw-mx-auto"],["id","searchContainer",1,"tw-mb-2"],[1,"tw-flex","tw-bg-white","tw-border","tw-border-grey-300","tw-opacity-75","tw-cursor-text","tw-rounded","focus-within:tw-opacity-100","focus-within:tw-border-blue-400","tw-transition-all","tw-ease-in-out"],["for","idpTerm",1,"tw-flex","tw-items-center","tw-text-grey-500","tw-m-0","tw-ml-3"],["aria-hidden","true",1,"far","fa-search","tw-text-sm"],["id","idpTerm","type","search",1,"tw-bg-transparent","tw-border-0","tw-text-base","tw-leading-tight","tw-px-2","tw-py-2","tw-w-full","focus:tw-outline-none","tw-transition-all","tw-ease-in-out",3,"ngModelChange","keyup","ngModel","placeholder"],["id","showFilterButton","type","button","aria-expanded","showAdvancedFilters",1,"tw-btn-link","tw-btn-small","tw-px-0","mt-2",3,"click"],[4,"ngIf"],["id","toggleFilters","aria-labelledby","showFilterButton",1,"tw-mt-3","tw-mb-6",3,"hidden"],[1,"tw-flex-grid","md:tw-flex-nowrap","mb-3"],[1,"tw-flex-grid-col","md:tw-ml-auto","md:tw-w-auto","mb-3","mr-2"],[1,"tw-form-label"],[1,"tw-flex","tw-items-center"],[1,"mr-2"],["id","oidcFilter",3,"click","ngClass"],["id","samlFilter",3,"click","ngClass"],["class","mr-2",4,"ngIf"],["aria-hidden","true",1,"fas","fa-angle-down","tw-mr-1"],["aria-hidden","true",1,"fas","fa-angle-up","tw-mr-1"],["id","enabledFilter",3,"click","ngClass"],["id","disabledFilter",3,"click","ngClass"],["left",""],["class","tw-hidden tw-form-select tw-w-auto sm:tw-block",4,"ngIf"],["right",""],["id","addIdpBtn",1,"tw-btn-success",3,"click"],[1,"tw-hidden","tw-form-select","tw-w-auto","sm:tw-block"],["for","pageSizeToggle",1,"sr-only"],["id","pageSizeToggle",1,"tw-form-control","tw-form-control-small",3,"ngModelChange","change","ngModel"],["value","25"],["value","50"],["value","100"],["id","idpNone","class","tw-alert","role","alert",4,"ngIf"],["id","idpTable","class","datatable selectable hover",4,"ngIf"],[3,"totalResults","currentPage","lastPage","onGoToPage",4,"ngIf"],["id","idpNone","role","alert",1,"tw-alert"],["id","idpTable",1,"datatable","selectable","hover"],["id","sortUsername",1,"md:tw-w-1/3","lg:tw-w-1/3"],[1,"tw-hidden","lg:tw-table-cell"],[1,"tw-w-1"],["class","group",3,"id","inactive",4,"ngFor","ngForOf"],[1,"group",3,"id"],[1,"tw-max-w-0","tw-truncate",3,"click"],["class","fas fa-exclamation-triangle tw-text-orange-500 tw-mr-1","container","body",4,"ngIf"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell",3,"click"],[3,"click"],["class","tw-pill-warning",4,"ngIf"],["class","tw-pill",4,"ngIf"],["type","button",1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click"],["id","viewOrEditIcon","aria-hidden","true",3,"ngClass"],["container","body",1,"fas","fa-exclamation-triangle","tw-text-orange-500","tw-mr-1"],[1,"tw-pill-warning"],[1,"tw-pill"],[3,"onGoToPage","totalResults","currentPage","lastPage"]],template:function(o,l){1&o&&e.DNE(0,R_,17,12,"div",1)(1,G_,12,9,"div",2),2&o&&(e.Y8G("ngIf",l.dynamicAuthIsNotConfigured),e.R7$(),e.Y8G("ngIf",!l.dynamicAuthIsNotConfigured))},dependencies:[fn.YU,fn.Sq,fn.bT,y.xH,y.y7,y.me,y.wz,y.BC,y.vS,qt.z,rc.n,Ri.d,yl.B,A_,bn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return r})();var Qu=p(3806),W_=p(1560);const z_=r=>[r],fI=()=>({animated:!1,backdrop:"static"});function K_(r,d){1&r&&(e.j41(0,"app-form-row",14)(1,"app-form-toggle",15),e.nrm(2,"input",16),e.k0s()()),2&r&&(e.Y8G("id","Enabled")("label","Common.Enabled"),e.R7$(),e.Y8G("id","Enabled")("isTraffic",!0)("isAlt",!1))}function pI(r,d){if(1&r&&(e.j41(0,"div",9),e.DNE(1,K_,3,5,"app-form-row",10),e.j41(2,"app-form-row",11),e.nrm(3,"app-readonly",12),e.nI1(4,"readOnlyValue"),e.k0s(),e.j41(5,"app-form-row",11),e.nrm(6,"input",13),e.k0s()()),2&r){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",!t.isRskDynamicAuth),e.R7$(),e.Y8G("id","Scheme")("label","DynamicAuth.Scheme.Label")("help","DynamicAuth.Scheme.Help"),e.R7$(),e.Y8G("fieldType",t.ReadOnlyFieldType.Single)("values",e.eq3(11,z_,e.bMT(4,9,t.dynamicAuth.scheme))),e.R7$(2),e.Y8G("id","DisplayName")("label","DynamicAuth.DisplayName.Label")("help","DynamicAuth.DisplayName.Help")}}function mI(r,d){1&r&&(e.j41(0,"app-form-row",11),e.nrm(1,"input",24),e.k0s()),2&r&&e.Y8G("id","CallbackPath")("label","DynamicAuth.CallbackPath.Label")("help","DynamicAuth.CallbackPath.Help")}function gI(r,d){if(1&r&&(e.j41(0,"option",25),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r){const t=d.$implicit;e.Y8G("value",t),e.R7$(),e.JRh(e.bMT(2,2,"DynamicAuth.Flows."+t))}}function vI(r,d){if(1&r){const t=e.RV6();e.j41(0,"div",17)(1,"app-form-row",11)(2,"input",18),e.bIt("focusout",function(){e.eBV(t);const l=e.XpG(2);return e.Njj(l.tryReachAuthority())}),e.k0s()(),e.j41(3,"app-form-row",11),e.nrm(4,"input",19),e.k0s(),e.DNE(5,mI,2,3,"app-form-row",20),e.j41(6,"app-form-row",11)(7,"div",21)(8,"select",22),e.DNE(9,gI,3,4,"option",23),e.k0s()()()()}if(2&r){const t=e.XpG(2);e.R7$(),e.Y8G("id","Authority")("label","DynamicAuth.Authority.Label")("help","DynamicAuth.Authority.Help"),e.R7$(2),e.Y8G("id","ClientId")("label","DynamicAuth.ClientId.Label")("help","DynamicAuth.ClientId.Help"),e.R7$(2),e.Y8G("ngIf",t.isRskDynamicAuth),e.R7$(),e.Y8G("id","Flow")("label","DynamicAuth.Flow.Label")("help","DynamicAuth.Flow.Help"),e.R7$(3),e.Y8G("ngForOf",t.allowedFlows)}}function yI(r,d){1&r&&(e.j41(0,"app-form-row",30)(1,"app-form-toggle",15),e.nrm(2,"input",31),e.k0s()()),2&r&&(e.Y8G("id","DifferentSignOut")("label","DynamicAuth.DifferentSignOut.Label")("help","DynamicAuth.DifferentSignOut.Help"),e.R7$(),e.Y8G("id","DifferentSignOut")("isTraffic",!0)("isAlt",!1))}function _I(r,d){1&r&&(e.j41(0,"app-form-row",11)(1,"app-row-bar",27),e.nrm(2,"input",32),e.nI1(3,"translate"),e.k0s()()),2&r&&(e.Y8G("id","SignOutScheme")("label","DynamicAuth.SignOutScheme.Label")("help","DynamicAuth.SignOutScheme.Help"),e.R7$(2),e.FS9("placeholder",e.bMT(3,4,"DynamicAuth.SignOutScheme.Placeholder")))}function bI(r,d){if(1&r&&(e.j41(0,"div",26)(1,"app-form-row",11)(2,"app-row-bar",27),e.nrm(3,"input",28),e.nI1(4,"translate"),e.k0s()(),e.DNE(5,yI,3,6,"app-form-row",29)(6,_I,4,6,"app-form-row",20),e.k0s()),2&r){const t=e.XpG(2);e.R7$(),e.Y8G("id","SignInScheme")("label","DynamicAuth.SignInScheme.Label")("help","DynamicAuth.SignInScheme.Help"),e.R7$(2),e.FS9("placeholder",e.bMT(4,6,"DynamicAuth.SignInScheme.Placeholder")),e.R7$(2),e.Y8G("ngIf",t.isRskDynamicAuth||t.dynamicAuth.type==t.dynamicAuthTypes.SAML),e.R7$(),e.Y8G("ngIf",(t.isRskDynamicAuth||t.dynamicAuth.type==t.dynamicAuthTypes.SAML)&&t.formGroup.get("signInSchemeForm.differentSignOut").value)}}function CI(r,d){if(1&r&&(e.j41(0,"div")(1,"app-form-row",33),e.nrm(2,"app-lifetime-picker",34),e.k0s()()),2&r){const t=e.XpG(2);e.R7$(),e.Y8G("id","TimeComparisonTolerance")("label","DynamicAuth.SAML.TimeComparisonTolerance.Label")("help","DynamicAuth.SAML.TimeComparisonTolerance.Help")("isLast",!0),e.R7$(),e.Y8G("buttons",t.defaultToleranceTimes)}}function wI(r,d){if(1&r&&(e.j41(0,"div",35)(1,"app-form-row",33)(2,"div",36),e.nrm(3,"app-readonly",12),e.j41(4,"button",37),e.nI1(5,"translate"),e.nrm(6,"span",38),e.j41(7,"span",39),e.EFF(8),e.nI1(9,"translate"),e.k0s()()()()()),2&r){const t=e.XpG(2);e.R7$(),e.Y8G("id","ClientSecret")("label","DynamicAuth.ClientSecret.Label")("help","DynamicAuth.ClientSecret.Help")("isLast",!0),e.R7$(2),e.Y8G("fieldType",t.ReadOnlyFieldType.Single)("values",e.eq3(12,z_,t.displaySecret)),e.R7$(),e.Y8G("tooltip",e.bMT(5,8,"DynamicAuth.UpdateClientSecret.Title")),e.R7$(4),e.JRh(e.bMT(9,10,"Common.Edit"))}}function Y_(r,d){if(1&r&&(e.j41(0,"form",3),e.DNE(1,pI,7,13,"div",4)(2,vI,10,11,"div",5)(3,bI,7,8,"div",6)(4,CI,3,5,"div",7)(5,wI,10,14,"div",8),e.k0s()),2&r){const t=e.XpG();e.Y8G("formGroup",t.formGroup),e.R7$(),e.Y8G("ngIf",t.formGroup.get("detailsForm")),e.R7$(),e.Y8G("ngIf",t.formGroup.get("connectionForm")&&t.dynamicAuth.type==t.dynamicAuthTypes.OIDC),e.R7$(),e.Y8G("ngIf",t.formGroup.get("signInSchemeForm")&&(t.isRskDynamicAuth||t.dynamicAuth.type==t.dynamicAuthTypes.SAML)),e.R7$(),e.Y8G("ngIf",t.formGroup.get("timeComparisonTolerance")&&(t.isRskDynamicAuth||t.dynamicAuth.type==t.dynamicAuthTypes.SAML)),e.R7$(),e.Y8G("ngIf",t.formGroup.get("secretForm")&&t.dynamicAuth.type==t.dynamicAuthTypes.OIDC)}}function X_(r,d){if(1&r){const t=e.RV6();e.j41(0,"div",40)(1,"form",3)(2,"div",41)(3,"div",42)(4,"div",43)(5,"h5",44),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"button",45),e.nrm(9,"span",46),e.j41(10,"span",39),e.EFF(11),e.nI1(12,"translate"),e.k0s()()(),e.j41(13,"div",47)(14,"p",48),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.nrm(17,"input",49),e.k0s(),e.nrm(18,"div",50),e.j41(19,"div",51)(20,"div",52)(21,"div",53)(22,"button",54),e.bIt("click",function(){e.eBV(t);const l=e.XpG();return e.Njj(l.addNewClientSecretToFormGroup())}),e.EFF(23),e.nI1(24,"translate"),e.k0s()(),e.j41(25,"button",55),e.EFF(26),e.nI1(27,"translate"),e.k0s()()()()()()()}if(2&r){const t=e.XpG();e.Y8G("config",e.lJ4(17,fI)),e.R7$(),e.Y8G("formGroup",t.formClientSecret),e.R7$(5),e.JRh(e.bMT(7,7,"DynamicAuth.UpdateClientSecret.Title")),e.R7$(5),e.JRh(e.bMT(12,9,"Common.Close")),e.R7$(4),e.SpI("",e.bMT(16,11,"DynamicAuth.UpdateClientSecret.Description"),":"),e.R7$(8),e.SpI(" ",e.bMT(24,13,"DynamicAuth.UpdateClientSecret.Confirm")," "),e.R7$(3),e.JRh(e.bMT(27,15,"DynamicAuth.UpdateClientSecret.No"))}}let J_=(()=>{class r{get ReadOnlyFieldType(){return ar.t}constructor(t,o,l,C,$,me,He){this.fb=t,this.errorService=o,this.dynamicAuthCacheService=l,this.configService=C,this.providerValidator=$,this.translate=me,this.toastr=He,this.dynamicAuthTypes=As,this.isDeleting=!1,this.allowedFlows=vs.FlowTypes,this.samlSignInSchemeCodeFrag=vs.SamlSignInSchemeCodeFrag,this.samlSignOutSchemeCodeFrag=vs.SamlSignOutSchemeCodeFrag,this.failedToContactAuthority=!1}ngOnInit(){this.defaultToleranceTimes=[{duration:2,unit:Qu.u.Minutes},{duration:5,unit:Qu.u.Minutes},{duration:10,unit:Qu.u.Minutes}],this.configService.getConfig().subscribe({next:t=>{this.isRskDynamicAuth=t.featureFlagOptions.dynamicAuthenticationFlag==Wa.U.Rsk},error:t=>{this.errorService.handleError(t)}}),this.dynamicAuthCacheService.unsavedCache$.pipe((0,Jt.$)()).subscribe({next:t=>{switch(this.dynamicAuth=t,this.dynamicAuth.type){case As.OIDC:this.buildOidcForms(),this.formClientSecret=this.fb.group({newClientSecret:[""]}),this.tryReachAuthority();break;case As.SAML:this.buildSamlForms()}this.subscribeToValueChanges()},error:t=>{this.errorService.handleError(t)}})}ngOnDestroy(){this.formSubscription.unsubscribe(),this.authorityChanged?.unsubscribe()}buildDetailsForm(){return this.fb.group({enabled:[this.dynamicAuth.enabled,[]],displayName:[this.dynamicAuth.displayName,[y.k0.required]]})}buildOidcForms(){this.oidcOptions=fo(this.dynamicAuth.options),this.displaySecret=new Da.w(this.oidcOptions.clientSecret);let t={authority:[this.oidcOptions.authority,[y.k0.required,y.k0.pattern("^https://.{1,}$")]],clientId:[this.oidcOptions.clientId,[y.k0.required]],flow:[this.oidcOptions.usePkce?pl.AuthCodePlusPkce:pl.AuthCode,[y.k0.required]]};this.isRskDynamicAuth&&(t.callbackPath=[this.oidcOptions.callbackPath,[y.k0.required,Fl()]]);let o={detailsForm:this.buildDetailsForm(),connectionForm:this.fb.group(t),secretForm:this.fb.group({clientSecret:[this.oidcOptions.clientSecret,[]]})};this.isRskDynamicAuth&&(o.signInSchemeForm=this.fb.group({signInScheme:[this.oidcOptions.signInScheme,[y.k0.required]],differentSignOut:[!(0,Mi.gP)(this.oidcOptions.signOutScheme),[]],signOutScheme:[this.oidcOptions.signOutScheme,[]]}),o.signInSchemeForm.get("differentSignOut").valueChanges.subscribe(l=>{l&&o.signInSchemeForm.get("signOutScheme").setValidators([y.k0.required])})),this.formGroup=this.fb.group(o)}buildSamlForms(){this.samlOptions=Ia(this.dynamicAuth.options),this.formGroup=this.fb.group({detailsForm:this.buildDetailsForm(),signInSchemeForm:this.fb.group({signInScheme:[this.samlOptions.signInScheme,[y.k0.required]],differentSignOut:[!(0,Mi.gP)(this.samlOptions.signOutScheme),[]],signOutScheme:[this.samlOptions.signOutScheme,[]]}),timeComparisonTolerance:[this.samlOptions.timeComparisonTolerance,[]]})}tryReachAuthority(){let t=this.formGroup.get("connectionForm.authority").value;this.providerValidator.isValid(t).subscribe(o=>{o||this.toastr.warning(this.translate.instant("DynamicAuth.Authority.ReachableWarningMsg"),this.translate.instant("DynamicAuth.Authority.ReachableWarningTitle"))})}subscribeToValueChanges(){this.formSubscription=this.formGroup.valueChanges.subscribe({next:t=>{let l,o={...this.dynamicAuth};o=this.updateDetails(o),this.dynamicAuth.type===As.OIDC?(l={...this.oidcOptions},l=this.updateConnection(l),l=this.updateSignInScheme(l),l=this.updateSecret(l)):this.dynamicAuth.type===As.SAML&&(l={...this.samlOptions},l=this.updateSignInScheme(l),l=this.updateTimeComparisonTolerance(l)),o.options=JSON.stringify(l),this.dynamicAuthCacheService.unsavedCache.next(o)}}),this.dynamicAuth.type===As.OIDC&&(this.authorityChanged=this.formGroup.get("connectionForm.authority").valueChanges.subscribe(t=>{this.failedToContactAuthority=!1}))}canSave(){return!1}updateDetails(t){return this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditDetailsComponent.detailsForm",this.formGroup.get("detailsForm").valid),{...t,enabled:this.formGroup.get("detailsForm.enabled").value,displayName:this.formGroup.get("detailsForm.displayName").value}}updateConnection(t){this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditDetailsComponent.connectionForm",this.formGroup.get("connectionForm").valid);let o={...t,authority:this.formGroup.get("connectionForm.authority").value,clientId:this.formGroup.get("connectionForm.clientId").value,usePkce:this.formGroup.get("connectionForm.flow").value==pl.AuthCodePlusPkce};return this.isRskDynamicAuth&&(o.callbackPath=this.formGroup.get("connectionForm.callbackPath").value),o}updateSignInScheme(t){if(!this.isRskDynamicAuth&&this.dynamicAuth.type==As.OIDC)return t;this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditDetailsComponent.signInSchemeForm",this.formGroup.get("signInSchemeForm").valid);let o={signInScheme:this.formGroup.get("signInSchemeForm.signInScheme").value,signOutScheme:void 0};if(this.dynamicAuth.type===As.SAML||this.isRskDynamicAuth){let l=this.formGroup.get("signInSchemeForm.differentSignOut").value,C=this.formGroup.get("signInSchemeForm.signOutScheme").value;o.signOutScheme=l?C:null}return{...t,...o}}updateSecret(t){this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditDetailsComponent.secretForm",this.formGroup.get("secretForm").valid);let o=this.formGroup.get("secretForm.clientSecret").value;return this.displaySecret=new Da.w(o),{...t,clientSecret:o}}updateTimeComparisonTolerance(t){let o=this.formGroup.get("timeComparisonTolerance");return this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditDetailsComponent.timeComparisonTolerance",o.valid),{...t,timeComparisonTolerance:o.value}}setTimeComparisonTolerance(t){this.formGroup.controls.timeComparisonTolerance.setValue(t)}checkTimeComparisonToleranceSelected(t){return t==this.formGroup.get("timeComparisonTolerance").value}addNewClientSecretToFormGroup(){let t=this.formClientSecret.get("newClientSecret").value;this.formGroup.controls.secretForm.setValue({clientSecret:t}),this.formClientSecret.controls.newClientSecret.setValue(null)}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(y.ze),e.rXU(Z.I),e.rXU(Gr),e.rXU(Gs.w),e.rXU(ru),e.rXU(bn.c$),e.rXU(Zn.tw))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-dynamic-auth-edit-details"]],decls:3,vars:2,consts:[["id","editIdPDetails",1,"tw-container","tw-mx-auto"],[3,"formGroup",4,"ngIf"],["bsModal","","id","updateClientSecretModal","class","modal","role","dialog","aria-hidden","true","tabindex","-1",3,"config",4,"ngIf"],[3,"formGroup"],["formGroupName","detailsForm",4,"ngIf"],["formGroupName","connectionForm",4,"ngIf"],["formGroupName","signInSchemeForm",4,"ngIf"],[4,"ngIf"],["formGroupName","secretForm",4,"ngIf"],["formGroupName","detailsForm"],[3,"id","label",4,"ngIf"],[3,"id","label","help"],[3,"fieldType","values"],["type","text","name","DisplayName","id","DisplayName","formControlName","displayName","required","",1,"tw-form-control"],[3,"id","label"],[3,"id","isTraffic","isAlt"],["id","Enabled","formControlName","enabled","type","checkbox",1,"tw-form-switch__input"],["formGroupName","connectionForm"],["type","text","name","Authority","id","Authority","formControlName","authority","required","",1,"tw-form-control",3,"focusout"],["type","text","name","ClientId","id","ClientId","formControlName","clientId","required","",1,"tw-form-control"],[3,"id","label","help",4,"ngIf"],[1,"tw-form-select"],["id","flow","formControlName","flow",1,"tw-form-control"],[3,"value",4,"ngFor","ngForOf"],["type","text","name","CallbackPath","id","CallbackPath","formControlName","callbackPath","required","",1,"tw-form-control"],[3,"value"],["formGroupName","signInSchemeForm"],[1,"tw-form-input"],["id","signInScheme","formControlName","signInScheme","type","text","name","Sign-In Scheme","left","",1,"tw-form-control",3,"placeholder"],["class","tw-form-typeahead",3,"id","label","help",4,"ngIf"],[1,"tw-form-typeahead",3,"id","label","help"],["id","DifferentSignOut","formControlName","differentSignOut","type","checkbox",1,"tw-form-switch__input"],["id","signOutScheme","formControlName","signOutScheme","type","text","name","Sign-Out Scheme","left","",1,"tw-form-control",3,"placeholder"],[3,"id","label","help","isLast"],["id","timeComparisonTolerance","formControlName","timeComparisonTolerance",3,"buttons"],["formGroupName","secretForm"],[1,"tw-flex","tw-w-full","lg:tw-max-w-2xl"],["id","changeClientSecret","type","button","data-toggle","modal","data-target","#updateClientSecretModal","placement","right",1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500","editClientSecret",3,"tooltip"],["id","editIcon","aria-hidden","true",1,"fad","fa-pencil"],[1,"sr-only"],["bsModal","","id","updateClientSecretModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"modal-close"],["aria-hidden","true",1,"fas","fa-times"],[1,"modal-body","tw-text-left","scrollbars"],[1,"tw-mb-4"],["type","text","name","newClientSecret","id","newClientSecret","formControlName","newClientSecret",1,"tw-form-control"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","updateSecretBtn","data-dismiss","modal",1,"tw-btn-success",3,"click"],["data-dismiss","modal",1,"tw-btn-link","tw--mr-4"]],template:function(o,l){1&o&&(e.j41(0,"div",0),e.DNE(1,Y_,6,6,"form",1),e.k0s(),e.DNE(2,X_,28,18,"div",2)),2&o&&(e.R7$(),e.Y8G("ngIf",l.dynamicAuth&&(l.oidcOptions||l.samlOptions)),e.R7$(),e.Y8G("ngIf",l.dynamicAuth&&l.oidcOptions))},dependencies:[fn.Sq,fn.bT,y.qT,y.xH,y.y7,y.me,y.Zm,y.wz,y.BC,y.cb,y.YS,y.j4,y.JD,y.$R,De.dg,Tt.hZ,W_.T,ce.Y,Ua.m,Ug.f,Fs.O,xi.u,bn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return r})();function Q_(r,d){1&r&&(e.j41(0,"div")(1,"app-form-row",3),e.nrm(2,"input",7),e.k0s()()),2&r&&(e.R7$(),e.Y8G("id","IdPInitiatedSsoCompletionPath")("label","DynamicAuth.SAML.IdPInitiatedSsoCompletionPath.Label")("help","DynamicAuth.SAML.IdPInitiatedSsoCompletionPath.Help")("isLast",!0))}function Z_(r,d){if(1&r&&(e.j41(0,"form",2)(1,"app-form-row",3)(2,"app-form-toggle",4),e.nrm(3,"input",5),e.k0s()(),e.DNE(4,Q_,3,4,"div",6),e.k0s()),2&r){const t=e.XpG();e.Y8G("formGroup",t.idpAdvancedForm),e.R7$(),e.Y8G("id","AllowIdpInitiatedSso")("label","DynamicAuth.SAML.AllowIdpInitiatedSso.Label")("help","DynamicAuth.SAML.AllowIdpInitiatedSso.Help")("isLast",!t.idpAdvancedForm.get("allowIdpInitiatedSso").value),e.R7$(),e.Y8G("id","AllowIdpInitiatedSso")("isTraffic",!0)("isAlt",!1),e.R7$(2),e.Y8G("ngIf",t.idpAdvancedForm.get("allowIdpInitiatedSso").value)}}let q_=(()=>{class r{constructor(t,o,l){this.fb=t,this.errorService=o,this.dynamicAuthCacheService=l}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,Jt.$)()).subscribe({next:t=>{this.dynamicAuth=t,this.samlOptions=Ia(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges()},error:t=>{this.errorService.handleError(t)}})}subscribeToValueChanges(){this.idpAdvancedFormSubscription=this.idpAdvancedForm.valueChanges.subscribe({next:t=>{this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditSpDetailsComponent",this.idpAdvancedForm.valid);var o={...this.samlOptions,allowIdpInitiatedSso:this.idpAdvancedForm.controls.allowIdpInitiatedSso.value,idPInitiatedSsoCompletionPath:this.idpAdvancedForm.controls.idPInitiatedSsoCompletionPath.value};const l={...this.dynamicAuth,options:JSON.stringify(o)};this.dynamicAuthCacheService.unsavedCache.next(l)}})}ngOnDestroy(){this.idpAdvancedFormSubscription.unsubscribe()}buildForm(){this.idpAdvancedForm=this.fb.group({allowIdpInitiatedSso:[this.samlOptions.allowIdpInitiatedSso,[]],idPInitiatedSsoCompletionPath:[this.samlOptions.idPInitiatedSsoCompletionPath,[y.k0.required]]})}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(y.ze),e.rXU(Z.I),e.rXU(Gr))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-dynamic-auth-edit-idp-advanced"]],decls:2,vars:1,consts:[["id","editIdpAdvanced",1,"tw-container","tw-mx-auto"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label","help","isLast"],[3,"id","isTraffic","isAlt"],["id","AllowIdpInitiatedSso","formControlName","allowIdpInitiatedSso","type","checkbox",1,"tw-form-switch__input"],[4,"ngIf"],["type","text","name","IdPInitiatedSsoCompletionPath","id","IdPInitiatedSsoCompletionPath","formControlName","idPInitiatedSsoCompletionPath","required","",1,"tw-form-control"]],template:function(o,l){1&o&&(e.j41(0,"div",0),e.DNE(1,Z_,5,9,"form",1),e.k0s()),2&o&&(e.R7$(),e.Y8G("ngIf",l.dynamicAuth&&l.idpAdvancedForm))},dependencies:[fn.bT,y.qT,y.me,y.Zm,y.BC,y.cb,y.YS,y.j4,y.JD,ce.Y,Ua.m],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return r})();function eb(r,d){if(1&r){const t=e.RV6();e.j41(0,"form",2)(1,"app-form-row",3)(2,"app-form-toggle",4),e.nrm(3,"input",5),e.k0s()(),e.j41(4,"app-form-row",6)(5,"div",7),e.nrm(6,"input",8),e.j41(7,"button",9),e.bIt("click",function(){e.eBV(t);const l=e.XpG();return e.Njj(l.tryMetadataAddr())}),e.j41(8,"span"),e.EFF(9),e.nI1(10,"translate"),e.k0s()()()()()}if(2&r){const t=e.XpG();e.Y8G("formGroup",t.idpDetailsForm),e.R7$(),e.Y8G("id","RequireValidMetadataSignature")("label","DynamicAuth.SAML.RequireValidMetadataSignature.Label")("help","DynamicAuth.SAML.RequireValidMetadataSignature.Help"),e.R7$(),e.Y8G("id","RequireValidMetadataSignature")("isTraffic",!0)("isAlt",!1),e.R7$(2),e.Y8G("id","MetadataAddress")("label","DynamicAuth.SAML.IdpMetadataAddress.Label")("help","DynamicAuth.SAML.IdpMetadataAddress.Help")("isLast",!0),e.R7$(5),e.JRh(e.bMT(10,12,"Common.ValidateMetadata"))}}let tb=(()=>{class r{constructor(t,o,l,C,$,me){this.fb=t,this.errorService=o,this.dynamicAuthCacheService=l,this.providerValidator=C,this.translate=$,this.toastr=me,this.metadataAddrStream=new yn.m(1)}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,Jt.$)()).subscribe({next:t=>{this.dynamicAuth=t,this.samlOptions=Ia(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges(),(0,Mi.gP)(this.samlOptions.idpMetadataAddress)||this.metadataAddrStream.next(this.samlOptions.idpMetadataAddress)},error:t=>{this.errorService.handleError(t)}}),this.metadataAddrStream.subscribe(t=>{this.providerValidator.validateMetadataUrl(t).subscribe(o=>{o?this.toastr.success_noduplicate(this.translate.instant("DynamicAuth.Wizard.SAML.ExternalProviderStep.MetadataValidMsg"),this.translate.instant("DynamicAuth.Wizard.SAML.ExternalProviderStep.MetadataValidTitle")):this.toastr.error_noduplicate(this.translate.instant("DynamicAuth.Wizard.SAML.ExternalProviderStep.MetadataInValidMsg"),this.translate.instant("DynamicAuth.Wizard.SAML.ExternalProviderStep.MetadataInValidTitle"))})})}subscribeToValueChanges(){this.idpDetailsFormSubscription=this.idpDetailsForm.valueChanges.subscribe({next:t=>this.updateCache()})}ngOnDestroy(){this.idpDetailsFormSubscription.unsubscribe(),this.metadataAddrStream.unsubscribe()}buildForm(){var t={idpMetadataAddress:[this.samlOptions.idpMetadataAddress,[y.k0.required,y.k0.pattern("^https://.{1,}$")]],requireValidMetadataSignature:[this.samlOptions.requireValidMetadataSignature]};this.idpDetailsForm=this.fb.group(t)}updateCache(){this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditIdpDetailsComponent",this.idpDetailsForm.valid);var t={...this.samlOptions,idpMetadataAddress:this.idpDetailsForm.controls.idpMetadataAddress.value,requireValidMetadataSignature:this.idpDetailsForm.controls.requireValidMetadataSignature.value};const o={...this.dynamicAuth,options:JSON.stringify(t)};this.dynamicAuthCacheService.unsavedCache.next(o)}tryMetadataAddr(){const t=this.idpDetailsForm.get("idpMetadataAddress");t.invalid||this.metadataAddrStream.next(t.value)}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(y.ze),e.rXU(Z.I),e.rXU(Gr),e.rXU(ru),e.rXU(bn.c$),e.rXU(Wf))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-dynamic-auth-edit-idp-details"]],decls:2,vars:1,consts:[["id","editIdpDetails",1,"tw-container","tw-mx-auto"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label","help"],[3,"id","isTraffic","isAlt"],["id","RequireValidMetadataSignature","formControlName","requireValidMetadataSignature","type","checkbox",1,"tw-form-switch__input"],[3,"id","label","help","isLast"],[1,"tw-flex","tw-w-full","lg:tw-max-w-2xl"],["type","text","name","IdpMetadataAddress","id","IdpMetadataAddress","formControlName","idpMetadataAddress","placeholder","https://","required","",1,"tw-form-control","tw-rounded-r-none","tw-border-r-0"],["id","testMetadataAddr",1,"tw-btn","tw-rounded-l-none",3,"click"]],template:function(o,l){1&o&&(e.j41(0,"div",0),e.DNE(1,eb,11,14,"form",1),e.k0s()),2&o&&(e.R7$(),e.Y8G("ngIf",l.dynamicAuth&&l.idpDetailsForm))},dependencies:[fn.bT,y.qT,y.me,y.Zm,y.BC,y.cb,y.YS,y.j4,y.JD,ce.Y,Ua.m,bn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return r})();const nb=["AdvancedTabs"];let ib=(()=>{class r{constructor(){}ngOnInit(){}static{this.\u0275fac=function(o){return new(o||r)}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-dynamic-auth-edit-idp"]],viewQuery:function(o,l){if(1&o&&e.GBs(nb,7),2&o){let C;e.mGM(C=e.lsd())&&(l.advancedTabs=C.first)}},decls:6,vars:5,consts:[[1,"tw-container","tw-mx-auto"],[3,"pillMode"],[3,"tabTitle","tabValue"],["id","editDynamicAuthIdpDetails"]],template:function(o,l){1&o&&(e.j41(0,"div",0)(1,"app-custom-tabs",1),e.nrm(2,"app-custom-tab",2)(3,"app-custom-tab",2),e.k0s()(),e.j41(4,"div",3),e.nrm(5,"router-outlet"),e.k0s()),2&o&&(e.R7$(),e.Y8G("pillMode",!0),e.R7$(),e.Y8G("tabTitle","Nav.Details")("tabValue","details"),e.R7$(),e.Y8G("tabTitle","Nav.Advanced")("tabValue","advanced"))},dependencies:[Ct.n3,nn.G,_n.v],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return r})();function rb(r,d){if(1&r&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"slice"),e.k0s()),2&r){const t=d.item;e.R7$(),e.JRh(t.length>20?e.brH(2,1,t,0,20)+"...":t)}}function SI(r,d){1&r&&(e.j41(0,"div",11)(1,"div"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&r&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"DynamicAuth.NoScopesMessage")," "))}function EI(r,d){1&r&&(e.j41(0,"span",21),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Reserved")," "))}function zg(r,d){if(1&r){const t=e.RV6();e.j41(0,"button",22),e.bIt("click",function(){e.eBV(t);const l=e.XpG().$implicit,C=e.XpG(3);return e.Njj(C.removeScope(l))}),e.nrm(1,"span",23),e.j41(2,"span",15),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&r&&(e.R7$(3),e.JRh(e.bMT(4,1,"Common.Delete.Title")))}function Kf(r,d){if(1&r&&(e.j41(0,"tr")(1,"td",18)(2,"span"),e.EFF(3),e.k0s()(),e.j41(4,"td"),e.DNE(5,EI,3,3,"span",19),e.k0s(),e.j41(6,"td"),e.DNE(7,zg,5,3,"button",20),e.k0s()()),2&r){const t=d.$implicit,o=e.XpG(3);e.R7$(3),e.JRh(t),e.R7$(2),e.Y8G("ngIf",!o.allowRemoveScope(t)),e.R7$(2),e.Y8G("ngIf",o.allowRemoveScope(t))}}function Kg(r,d){if(1&r&&(e.j41(0,"table",12)(1,"thead",13)(2,"th",14)(3,"span",15),e.EFF(4),e.nI1(5,"translate"),e.k0s()(),e.j41(6,"th",16)(7,"span",15),e.EFF(8),e.nI1(9,"translate"),e.k0s()(),e.j41(10,"th",16)(11,"span",15),e.EFF(12),e.nI1(13,"translate"),e.k0s()()(),e.j41(14,"tbody"),e.DNE(15,Kf,8,3,"tr",17),e.k0s()()),2&r){const t=e.XpG(2);e.R7$(4),e.JRh(e.bMT(5,4,"Common.Scope")),e.R7$(4),e.JRh(e.bMT(9,6,"Common.Reserved")),e.R7$(4),e.JRh(e.bMT(13,8,"Common.Actions")),e.R7$(3),e.Y8G("ngForOf",t.currentScopes())}}function sb(r,d){if(1&r){const t=e.RV6();e.j41(0,"form",3)(1,"app-form-row",4)(2,"app-row-bar",5),e.nrm(3,"input",6),e.nI1(4,"translate"),e.j41(5,"button",7),e.bIt("click",function(){e.eBV(t);const l=e.XpG();return e.Njj(l.addScope())}),e.EFF(6),e.nI1(7,"translate"),e.k0s()()(),e.j41(8,"div",8),e.DNE(9,SI,4,3,"div",9)(10,Kg,16,10,"table",10),e.k0s()()}if(2&r){const t=e.XpG(),o=e.sdS(1);e.Y8G("formGroup",t.scopesForm),e.R7$(),e.Y8G("id","NewScope")("hasLabel",!1)("isLast",!0),e.R7$(2),e.FS9("placeholder",e.bMT(4,15,"DynamicAuth.Scopes.Placeholder")),e.Y8G("typeahead",t.options)("typeaheadWaitMs",200)("typeaheadAsync",!0)("typeaheadItemTemplate",o)("typeaheadMinLength",0)("maxlength",t.maxScopeLength),e.R7$(3),e.SpI(" ",e.bMT(7,17,"Common.Add")," "),e.R7$(2),e.Y8G("id","Scopes"),e.R7$(),e.Y8G("ngIf",t.currentScopes().length<=0),e.R7$(),e.Y8G("ngIf",t.currentScopes().length>0)}}let ob=(()=>{class r{constructor(t,o,l,C,$,me){this.fb=t,this.errorService=o,this.toastr=l,this.translateService=C,this.dynamicAuthChachService=$,this.providerValidator=me,this.newScope="",this.dynamicAuthTypes=As,this.isDeleting=!1,this.maxScopeLength=vs.MaxScopeLength}ngOnInit(){this.dynamicAuthChachService.unsavedCache$.pipe((0,Jt.$)()).subscribe({next:t=>{this.dynamicAuth=t,this.oidcOptions=fo(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges()},error:t=>{this.errorService.handleError(t)}}),this.options=new pc.c(t=>{let o=this.scopesForm.get("newScope").value;t.next(o)}).pipe((0,pm.n)(t=>this.providerValidator.supportedScopes(this.oidcOptions.authority).pipe((0,Di.T)(o=>this.filterScopes(t,o)))))}filterScopes(t,o){const l=!t;return o.filter(C=>!this.currentScopes().includes(C)&&(l||C.includes(t)))}subscribeToValueChanges(){this.scopesFormSubscription=this.scopesForm.controls.scopes.valueChanges.subscribe({next:t=>{this.dynamicAuthChachService.componentDirtyValidMap.set("DynamicAuthEditScopesComponent",this.scopesForm.valid);const o={...this.oidcOptions,scope:this.scopesForm.controls.scopes.value},l={...this.dynamicAuth,options:JSON.stringify(o)};this.dynamicAuthChachService.unsavedCache.next(l)}})}ngOnDestroy(){this.scopesFormSubscription.unsubscribe()}buildForm(){this.scopesForm=this.fb.group({newScope:[this.newScope],scopes:[this.oidcOptions.scope]})}addScope(){const t=this.scopesForm.controls.newScope.value,o=this.scopesForm.controls.scopes.value;""!==t?t.indexOf(" ")>=0?this.toastr.error(this.translateService.instant("DynamicAuth.Scopes.CannotHaveSpaces")):o.includes(t)?this.toastr.error(this.translateService.instant("DynamicAuth.Scopes.AlreadyAdded")):this.scopesForm.setValue({newScope:"",scopes:[...o,t]}):this.toastr.error(this.translateService.instant("DynamicAuth.Scopes.MustSpecifyScope"))}removeScope(t){this.scopesForm.controls.scopes.setValue(this.scopesForm.controls.scopes.value.filter(l=>l!==t))}currentScopes(){const t=this.scopesForm.controls.scopes;return t?t.value:[]}allowRemoveScope(t){return vs.AllowRemoveScope(t)}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(y.ze),e.rXU(Z.I),e.rXU(Zn.tw),e.rXU(bn.c$),e.rXU(Gr),e.rXU(ru))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-dynamic-auth-edit-scopes"]],decls:4,vars:1,consts:[["customItemTemplate",""],["id","editIdPDetails",1,"tw-container","tw-mx-auto"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","hasLabel","isLast"],[1,"tw-form-typeahead"],["id","new-scope-input","formControlName","newScope","type","text","name","New Scope","container","#addIdpModal","autocomplete","off","left","",1,"tw-form-control",3,"typeahead","typeaheadWaitMs","typeaheadAsync","typeaheadItemTemplate","typeaheadMinLength","placeholder","maxlength"],["id","addScopeButton","right","",1,"tw-btn-success",3,"click"],[1,"tw-mt-6",3,"id"],["class","tw-alert","role","alert",4,"ngIf"],["class","datatable",4,"ngIf"],["role","alert",1,"tw-alert"],[1,"datatable"],[1,""],[1,"tw-w-full"],[1,"sr-only"],[1,"tw-w-1"],[4,"ngFor","ngForOf"],[1,"tw-table-cell","tw-max-w-0","tw-truncate"],["class","tw-pill",4,"ngIf"],["class","tw-btn-link tw-btn-small tw-text-red-500","value","Delete",3,"click",4,"ngIf"],[1,"tw-pill"],["value","Delete",1,"tw-btn-link","tw-btn-small","tw-text-red-500",3,"click"],["aria-hidden","true",1,"fas","fa-times"]],template:function(o,l){1&o&&(e.DNE(0,rb,3,5,"ng-template",null,0,e.C5r),e.j41(2,"div",1),e.DNE(3,sb,11,19,"form",2),e.k0s()),2&o&&(e.R7$(3),e.Y8G("ngIf",l.dynamicAuth))},dependencies:[fn.Sq,fn.bT,y.qT,y.me,y.BC,y.cb,y.tU,y.j4,y.JD,ce.Y,Ug.f,Yr.Xi,fn.P9,bn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return r})();var Yg=p(4572);function ab(r,d){1&r&&(e.nrm(0,"span",12),e.nI1(1,"translate")),2&r&&e.Y8G("innerHTML",e.bMT(1,1,"DynamicAuth.PathValidation"),e.npT)}function lb(r,d){1&r&&(e.nrm(0,"span",13),e.nI1(1,"translate")),2&r&&e.Y8G("innerHTML",e.bMT(1,1,"DynamicAuth.PathValidation"),e.npT)}function cb(r,d){1&r&&(e.nrm(0,"span",14),e.nI1(1,"translate")),2&r&&e.Y8G("innerHTML",e.bMT(1,1,"DynamicAuth.PathValidation"),e.npT)}function ub(r,d){if(1&r&&(e.j41(0,"form",2)(1,"app-form-row",3),e.nrm(2,"input",4),e.k0s(),e.j41(3,"app-form-row",3),e.nrm(4,"input",5),e.DNE(5,ab,2,3,"span",6),e.k0s(),e.j41(6,"app-form-row",3),e.nrm(7,"input",7),e.DNE(8,lb,2,3,"span",8),e.k0s(),e.j41(9,"app-form-row",9),e.nrm(10,"input",10),e.DNE(11,cb,2,3,"span",11),e.k0s()()),2&r){const t=e.XpG();e.Y8G("formGroup",t.spDetailsForm),e.R7$(),e.Y8G("id","SPEntityID")("label","DynamicAuth.SPEntityID.Label")("help","DynamicAuth.SPEntityID.Help"),e.R7$(2),e.Y8G("id","SpMetadataAddress")("label","DynamicAuth.SpMetadataAddress.Label")("help","DynamicAuth.SpMetadataAddress.Help"),e.R7$(2),e.Y8G("ngIf",!t.validMetadataPath()),e.R7$(),e.Y8G("id","CallbackPath")("label","DynamicAuth.CallbackPath.Label")("help","DynamicAuth.CallbackPath.Help"),e.R7$(2),e.Y8G("ngIf",!t.validCallbackPath()),e.R7$(),e.Y8G("id","SignedOutCallbackPath")("label","DynamicAuth.SignedOutCallbackPath.Label")("help","DynamicAuth.SignedOutCallbackPath.Help")("isLast",!0),e.R7$(2),e.Y8G("ngIf",!t.validSignedOutPath())}}let Xg=(()=>{class r{constructor(t,o,l,C){this.fb=t,this.errorService=o,this.dynamicAuthCacheService=l,this.configService=C}ngOnInit(){(0,Yg.z)([this.dynamicAuthCacheService.unsavedCache$.pipe((0,Jt.$)()),this.configService.getConfig().pipe((0,Jt.$)())]).subscribe({next:([t,o])=>{this.dynamicAuth=t,this.samlOptions=Ia(this.dynamicAuth.options),this.isRskDynamicAuth=o.featureFlagOptions.dynamicAuthenticationFlag==Wa.U.Rsk,this.buildForm(),this.subscribeToValueChanges()}})}subscribeToValueChanges(){this.spDetailsFormSubscription=this.spDetailsForm.valueChanges.subscribe({next:t=>{this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditSpDetailsComponent",this.spDetailsForm.valid);var o={...this.samlOptions,spEntityId:this.spDetailsForm.controls.spEntityId.value,spMetadataAddress:this.spDetailsForm.controls.spMetadataAddress.value,callbackPath:this.spDetailsForm.controls.callbackPath.value,signedOutCallbackPath:this.spDetailsForm.controls.signedOutCallbackPath.value};const l={...this.dynamicAuth,options:JSON.stringify(o)};this.dynamicAuthCacheService.unsavedCache.next(l)}})}ngOnDestroy(){this.spDetailsFormSubscription.unsubscribe()}buildForm(){let t={spEntityId:[this.samlOptions.spEntityId,[y.k0.required]],spMetadataAddress:[this.samlOptions.spMetadataAddress,[y.k0.required,Fl()]],callbackPath:[this.samlOptions.callbackPath,[y.k0.required,Fl()]],signedOutCallbackPath:[this.samlOptions.signedOutCallbackPath,[Fl()]]};this.spDetailsForm=this.fb.group(t)}validMetadataPath(){return this.spDetailsForm.get("spMetadataAddress").valid}validCallbackPath(){return this.spDetailsForm.get("callbackPath").valid}validSignedOutPath(){return!!this.isRskDynamicAuth||this.spDetailsForm.get("signedOutCallbackPath").valid}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(y.ze),e.rXU(Z.I),e.rXU(Gr),e.rXU(Gs.w))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-dynamic-auth-edit-sp-details"]],decls:2,vars:1,consts:[["id","editSPDetails",1,"tw-container","tw-mx-auto"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label","help"],["type","text","name","DisplayName","id","DisplayName","formControlName","spEntityId","required","",1,"tw-form-control"],["type","text","name","SpMetadataAddress","id","SpMetadataAddress","formControlName","spMetadataAddress","required","",1,"tw-form-control"],["id","MetaWarn","class","tw-form-text-warning",3,"innerHTML",4,"ngIf"],["type","text","name","CallbackPath","id","CallbackPath","formControlName","callbackPath","required","",1,"tw-form-control"],["id","CallbackWarn","class","tw-form-text-warning",3,"innerHTML",4,"ngIf"],[3,"id","label","help","isLast"],["type","text","name","CallbackPath","id","SignedOutCallbackPath","formControlName","signedOutCallbackPath",1,"tw-form-control"],["id","SignOutWarn","class","tw-form-text-warning",3,"innerHTML",4,"ngIf"],["id","MetaWarn",1,"tw-form-text-warning",3,"innerHTML"],["id","CallbackWarn",1,"tw-form-text-warning",3,"innerHTML"],["id","SignOutWarn",1,"tw-form-text-warning",3,"innerHTML"]],template:function(o,l){1&o&&(e.j41(0,"div",0),e.DNE(1,ub,12,17,"form",1),e.k0s()),2&o&&(e.R7$(),e.Y8G("ngIf",l.dynamicAuth&&l.spDetailsForm))},dependencies:[fn.bT,y.qT,y.me,y.BC,y.cb,y.YS,y.j4,y.JD,ce.Y,bn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return r})();var vh=p(4652);function Jg(r,d){if(1&r&&(e.j41(0,"form",10)(1,"app-form-row",11)(2,"app-form-toggle",16),e.nrm(3,"input",17),e.k0s()()()),2&r){const t=e.XpG();e.Y8G("formGroup",t.spRequestForm),e.R7$(),e.Y8G("id","SignAuthenticationRequests")("label","DynamicAuth.SAML.SignAuthenticationRequests.Label")("help","DynamicAuth.SAML.SignAuthenticationRequests.Help"),e.R7$(),e.Y8G("id","SignAuthenticationRequests")("isTraffic",!0)("isAlt",!1)}}function TI(r,d){if(1&r){const t=e.RV6();e.j41(0,"button",18),e.bIt("click",function(){e.eBV(t),e.XpG();const l=e.sdS(7);return e.Njj(l.show())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Clients.Saml.AddCert")," "))}function Qg(r,d){if(1&r){const t=e.RV6();e.j41(0,"button",19),e.bIt("click",function(){e.eBV(t),e.XpG();const l=e.sdS(7);return e.Njj(l.show())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Clients.Saml.ReplaceCertificate")," "))}let Zg=(()=>{class r{get ReadOnlyFieldType(){return ar.t}constructor(t,o,l,C,$,me,He){this.fb=t,this.errorService=o,this.dynamicAuthCacheService=l,this.toastr=C,this.translate=$,this.certService=me,this.dynamicAuthService=He,this.canDeleteCert=!1,this.selectedFile=void 0,this.fileName=new Da.w("")}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,Jt.$)()).subscribe({next:t=>{this.dynamicAuth=t,this.samlOptions=Ia(this.dynamicAuth.options),this.certificateDescription=this.samlOptions.signingCertificateDto?[this.samlOptions.signingCertificateDto]:[],this.canDeleteCert=this.samlOptions.signAuthenticationRequests,this.buildForm(),this.subscribeToValueChanges()},error:t=>{this.errorService.handleError(t)}})}subscribeToValueChanges(){this.spRequestFormSubscription=this.spRequestForm.valueChanges.subscribe({next:t=>{this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditSpRequestComponent",this.spRequestForm.valid);var o={...this.samlOptions,signAuthenticationRequests:this.spRequestForm.controls.signAuthenticationRequests.value};const l={...this.dynamicAuth,options:JSON.stringify(o)};this.canDeleteCert=this.spRequestForm.controls.signAuthenticationRequests.value,this.dynamicAuthCacheService.unsavedCache.next(l)}})}buildForm(){this.spRequestForm=this.fb.group({signAuthenticationRequests:[this.samlOptions.signAuthenticationRequests,[]]}),this.certForm=this.fb.group({selectedFile:void 0,certPassword:["",[]]})}handleFileInput(t){this.selectedFile=t.item(0)}updateSigningCert(){this.fileName=new Da.w("");const t=this.certForm.get("certPassword").value;this.certService.verifyCertFilePassword(this.selectedFile,t,{next:o=>{this.fileName=new Da.w(this.selectedFile?.name),this.dynamicAuthService.replaceSigningCert(this.dynamicAuth.scheme,o,t).subscribe(l=>{this.certificateDescription=[l],this.selectedFile=null,this.certForm.get("certPassword").setValue(""),this.updateSigninCertInCache(l)})},error:o=>{this.toastr.error(this.translate.instant("Notifications.CertInValidMsg"),this.translate.instant("Notifications.CertInValidTitle")),this.selectedFile=null,this.certForm.get("certPassword").setValue("")}})}removeSigningCert(){this.dynamicAuthService.removeSigningCert(this.dynamicAuth.scheme).subscribe(()=>{this.samlOptions.signingCertificateDto=null,this.certificateDescription=[],this.updateSigninCertInCache(null)},t=>{this.errorService.handleError(t)})}updateSigninCertInCache(t){var o={...this.samlOptions,signingCertificateDto:t};const l={...this.dynamicAuth,options:JSON.stringify(o)};this.dynamicAuthCacheService.unsavedCache.next(l)}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(y.ze),e.rXU(Z.I),e.rXU(Gr),e.rXU(Zn.tw),e.rXU(bn.c$),e.rXU(xc.V),e.rXU(nu))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-dynamic-auth-edit-sp-request"]],decls:17,vars:19,consts:[["addCertificateModal",""],["fileInput","","selectedFile",""],["id","editSpRequest",1,"tw-container","tw-mx-auto"],[3,"formGroup",4,"ngIf"],[3,"delete","certificates","showSingle","deleteCertDisabled"],["addButton",""],["id","addCertButton","class","tw-btn-success","type","button",3,"click",4,"ngIf"],["id","replaceCertButton","class","tw-btn-success tw-mr-4","type","button",3,"click",4,"ngIf"],[3,"confirm","modalId","type","buttonType","title","okText"],["body",""],[3,"formGroup"],[3,"id","label","help"],[1,"tw-form-control"],["id","fileInput","type","file","name","file","accept",".pfx,.p12",1,"tw-form-file","tw-max-w-full",3,"change"],[3,"id","label","help","isLast"],["type","text","name","CertPassword","id","CertPassword","formControlName","certPassword",1,"tw-form-control"],[3,"id","isTraffic","isAlt"],["id","SignAuthenticationRequests","formControlName","signAuthenticationRequests","type","checkbox",1,"tw-form-switch__input"],["id","addCertButton","type","button",1,"tw-btn-success",3,"click"],["id","replaceCertButton","type","button",1,"tw-btn-success","tw-mr-4",3,"click"]],template:function(o,l){if(1&o){const C=e.RV6();e.j41(0,"div",2),e.DNE(1,Jg,4,7,"form",3),e.j41(2,"app-saml-cert-list",4),e.bIt("delete",function(){return e.eBV(C),e.Njj(l.removeSigningCert())}),e.qex(3,5),e.DNE(4,TI,3,3,"button",6)(5,Qg,3,3,"button",7),e.bVm(),e.k0s(),e.j41(6,"app-confirmation-modal",8,0),e.bIt("confirm",function(){return e.eBV(C),e.Njj(l.updateSigningCert())}),e.qex(8,9),e.j41(9,"form",10)(10,"app-form-row",11)(11,"div",12)(12,"input",13,1),e.bIt("change",function(me){return e.eBV(C),e.Njj(l.handleFileInput(me.target.files))}),e.k0s()()(),e.j41(15,"app-form-row",14),e.nrm(16,"input",15),e.k0s()(),e.bVm(),e.k0s()()}2&o&&(e.R7$(),e.Y8G("ngIf",l.dynamicAuth&&l.spRequestForm),e.R7$(),e.Y8G("certificates",l.certificateDescription)("showSingle",!0)("deleteCertDisabled",l.canDeleteCert),e.R7$(2),e.Y8G("ngIf",l.certificateDescription.length<1),e.R7$(),e.Y8G("ngIf",l.certificateDescription.length>0),e.R7$(),e.Y8G("modalId","addCertificateModal")("type",null)("buttonType","success")("title","DynamicAuth.UpdateSigningCertificate.Title")("okText","Common.Update"),e.R7$(3),e.Y8G("formGroup",l.certForm),e.R7$(),e.Y8G("id","fileInput")("label","DynamicAuth.CertFile.Label")("help","DynamicAuth.CertFile.Help"),e.R7$(5),e.Y8G("id","CertPassword")("label","DynamicAuth.CertPassword.Label")("help","DynamicAuth.CertPassword.Help")("isLast",!0))},dependencies:[fn.bT,y.qT,y.me,y.Zm,y.BC,y.cb,y.j4,y.JD,ce.Y,Ua.m,Pe.B,vh.T,bn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return r})();function db(r,d){if(1&r&&(e.j41(0,"form",10)(1,"app-form-row",11)(2,"app-form-toggle",16),e.nrm(3,"input",17),e.k0s()(),e.j41(4,"app-form-row",11)(5,"app-form-toggle",16),e.nrm(6,"input",18),e.k0s()()()),2&r){const t=e.XpG();e.Y8G("formGroup",t.spResponseForm),e.R7$(),e.Y8G("id","RequireSignedAssertions")("label","DynamicAuth.SAML.RequireSignedAssertions.Label")("help","DynamicAuth.SAML.RequireSignedAssertions.Help"),e.R7$(),e.Y8G("id","RequireSignedAssertions")("isTraffic",!0)("isAlt",!1),e.R7$(2),e.Y8G("id","RequireEncryptedAssertions")("label","DynamicAuth.SAML.RequireEncryptedAssertions.Label")("help","DynamicAuth.SAML.RequireEncryptedAssertions.Help"),e.R7$(),e.Y8G("id","RequireEncryptedAssertions")("isTraffic",!0)("isAlt",!1)}}function qg(r,d){if(1&r){const t=e.RV6();e.j41(0,"button",19),e.bIt("click",function(){e.eBV(t),e.XpG();const l=e.sdS(7);return e.Njj(l.show())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Clients.Saml.AddCert")," "))}function II(r,d){if(1&r){const t=e.RV6();e.j41(0,"button",20),e.bIt("click",function(){e.eBV(t),e.XpG();const l=e.sdS(7);return e.Njj(l.show())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Clients.Saml.ReplaceCertificate")," "))}let DI=(()=>{class r{get ReadOnlyFieldType(){return ar.t}constructor(t,o,l,C,$,me,He){this.fb=t,this.errorService=o,this.dynamicAuthCacheService=l,this.toastr=C,this.translate=$,this.certService=me,this.dynamicAuthService=He,this.canDeleteCert=!1,this.selectedFile=void 0,this.fileName=new Da.w("")}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,Jt.$)()).subscribe({next:t=>{this.dynamicAuth=t,this.samlOptions=Ia(this.dynamicAuth.options),this.certificateDescription=this.samlOptions.encryptionCertificateDto?[this.samlOptions.encryptionCertificateDto]:[],this.canDeleteCert=this.samlOptions.requireEncryptedAssertions,this.buildForm(),this.subscribeToValueChanges()},error:t=>{this.errorService.handleError(t)}})}subscribeToValueChanges(){this.spResponseFormSubscription=this.spResponseForm.valueChanges.subscribe({next:t=>{this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditSpResponseComponent",this.spResponseForm.valid);var o={...this.samlOptions,requireEncryptedAssertions:this.spResponseForm.controls.requireEncryptedAssertions.value,requireSignedAssertions:this.spResponseForm.controls.requireSignedAssertions.value};const l={...this.dynamicAuth,options:JSON.stringify(o)};this.canDeleteCert=this.spResponseForm.controls.requireEncryptedAssertions.value,this.dynamicAuthCacheService.unsavedCache.next(l)}})}buildForm(){this.spResponseForm=this.fb.group({requireEncryptedAssertions:[this.samlOptions.requireEncryptedAssertions,[]],requireSignedAssertions:[this.samlOptions.requireSignedAssertions,[]]}),this.certForm=this.fb.group({selectedFile:void 0,certPassword:["",[]]})}handleFileInput(t){this.selectedFile=t.item(0)}updateEncryptionCert(){this.fileName=new Da.w("");const t=this.certForm.get("certPassword").value;this.certService.verifyCertFilePassword(this.selectedFile,t,{next:o=>{this.fileName=new Da.w(this.selectedFile?.name),this.dynamicAuthService.replaceEncryptionCert(this.dynamicAuth.scheme,o,t).subscribe(l=>{this.certificateDescription=[l],this.selectedFile=null,this.certForm.get("certPassword").setValue(""),this.updateEncryptionCertInCache(l)})},error:o=>{this.toastr.error(this.translate.instant("Notifications.CertInValidMsg"),this.translate.instant("Notifications.CertInValidTitle")),this.selectedFile=null,this.certForm.get("certPassword").setValue("")}})}removeEncryptionCert(){this.dynamicAuthService.removeEncryptionCert(this.dynamicAuth.scheme).subscribe(()=>{this.samlOptions.encryptionCertificateDto=null,this.certificateDescription=[],this.updateEncryptionCertInCache(null)},t=>{this.errorService.handleError(t)})}updateEncryptionCertInCache(t){var o={...this.samlOptions,encryptionCertificateDto:t};const l={...this.dynamicAuth,options:JSON.stringify(o)};this.dynamicAuthCacheService.unsavedCache.next(l)}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(y.ze),e.rXU(Z.I),e.rXU(Gr),e.rXU(Zn.tw),e.rXU(bn.c$),e.rXU(xc.V),e.rXU(nu))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-dynamic-auth-edit-sp-response"]],decls:17,vars:19,consts:[["addCertificateModal",""],["fileInput","","selectedFile",""],["id","editSpResponse|",1,"tw-container","tw-mx-auto"],[3,"formGroup",4,"ngIf"],[3,"delete","certificates","showSingle","deleteCertDisabled"],["addButton",""],["id","addCertButton","class","tw-btn-success","type","button",3,"click",4,"ngIf"],["id","replaceCertButton","class","tw-btn-success tw-mr-4","type","button",3,"click",4,"ngIf"],[3,"confirm","modalId","type","buttonType","title","okText"],["body",""],[3,"formGroup"],[3,"id","label","help"],[1,"tw-form-control"],["id","fileInput","type","file","name","file","accept",".pfx,.p12",1,"tw-form-file","tw-max-w-full",3,"change"],[3,"id","label","help","isLast"],["type","text","name","CertPassword","id","CertPassword","formControlName","certPassword",1,"tw-form-control"],[3,"id","isTraffic","isAlt"],["id","RequireSignedAssertions","formControlName","requireSignedAssertions","type","checkbox",1,"tw-form-switch__input"],["id","RequireEncryptedAssertions","formControlName","requireEncryptedAssertions","type","checkbox",1,"tw-form-switch__input"],["id","addCertButton","type","button",1,"tw-btn-success",3,"click"],["id","replaceCertButton","type","button",1,"tw-btn-success","tw-mr-4",3,"click"]],template:function(o,l){if(1&o){const C=e.RV6();e.j41(0,"div",2),e.DNE(1,db,7,13,"form",3),e.j41(2,"app-saml-cert-list",4),e.bIt("delete",function(){return e.eBV(C),e.Njj(l.removeEncryptionCert())}),e.qex(3,5),e.DNE(4,qg,3,3,"button",6)(5,II,3,3,"button",7),e.bVm(),e.k0s(),e.j41(6,"app-confirmation-modal",8,0),e.bIt("confirm",function(){return e.eBV(C),e.Njj(l.updateEncryptionCert())}),e.qex(8,9),e.j41(9,"form",10)(10,"app-form-row",11)(11,"div",12)(12,"input",13,1),e.bIt("change",function(me){return e.eBV(C),e.Njj(l.handleFileInput(me.target.files))}),e.k0s()()(),e.j41(15,"app-form-row",14),e.nrm(16,"input",15),e.k0s()(),e.bVm(),e.k0s()()}2&o&&(e.R7$(),e.Y8G("ngIf",l.dynamicAuth&&l.spResponseForm),e.R7$(),e.Y8G("certificates",l.certificateDescription)("showSingle",!0)("deleteCertDisabled",l.canDeleteCert),e.R7$(2),e.Y8G("ngIf",l.certificateDescription.length<1),e.R7$(),e.Y8G("ngIf",l.certificateDescription.length>0),e.R7$(),e.Y8G("modalId","addCertificateModal")("type",null)("buttonType","success")("title","DynamicAuth.UpdateEncryptionCertificate.Title")("okText","Common.Update"),e.R7$(3),e.Y8G("formGroup",l.certForm),e.R7$(),e.Y8G("id","fileInput")("label","DynamicAuth.CertFile.Label")("help","DynamicAuth.CertFile.Help"),e.R7$(5),e.Y8G("id","CertPassword")("label","DynamicAuth.CertPassword.Label")("help","DynamicAuth.CertPassword.Help")("isLast",!0))},dependencies:[fn.bT,y.qT,y.me,y.Zm,y.BC,y.cb,y.j4,y.JD,ce.Y,Ua.m,Pe.B,vh.T,bn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return r})();const e0=["AdvancedTabs"];let AI=(()=>{class r{constructor(){}ngOnInit(){}static{this.\u0275fac=function(o){return new(o||r)}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-dynamic-auth-edit-sp"]],viewQuery:function(o,l){if(1&o&&e.GBs(e0,7),2&o){let C;e.mGM(C=e.lsd())&&(l.advancedTabs=C.first)}},decls:7,vars:7,consts:[[1,"tw-container","tw-mx-auto"],[3,"pillMode"],[3,"tabTitle","tabValue"],["id","editDynamicAuthSpDetails"]],template:function(o,l){1&o&&(e.j41(0,"div",0)(1,"app-custom-tabs",1),e.nrm(2,"app-custom-tab",2)(3,"app-custom-tab",2)(4,"app-custom-tab",2),e.k0s()(),e.j41(5,"div",3),e.nrm(6,"router-outlet"),e.k0s()),2&o&&(e.R7$(),e.Y8G("pillMode",!0),e.R7$(),e.Y8G("tabTitle","Nav.Details")("tabValue","details"),e.R7$(),e.Y8G("tabTitle","Nav.Request")("tabValue","request"),e.R7$(),e.Y8G("tabTitle","Nav.Response")("tabValue","response"))},dependencies:[Ct.n3,nn.G,_n.v],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return r})();const hb=(r,d)=>({title:r,link:d}),RI=r=>[r];function fb(r,d){1&r&&e.nrm(0,"app-custom-tab",3),2&r&&e.Y8G("tabTitle","Nav.Scopes")("tabValue","scopes")}function MI(r,d){1&r&&e.nrm(0,"app-custom-tab",3),2&r&&e.Y8G("tabTitle","Nav.Advanced")("tabValue","advanced")}function xI(r,d){1&r&&e.nrm(0,"app-custom-tab",3),2&r&&e.Y8G("tabTitle","Nav.SP")("tabValue","sp")}function Yf(r,d){1&r&&e.nrm(0,"app-custom-tab",3),2&r&&e.Y8G("tabTitle","Nav.IdP")("tabValue","idp")}let pb=(()=>{class r{constructor(t,o,l,C,$,me,He,at,Ut,on){this.r=t,this.route=o,this.localize=l,this.titleService=C,this.translate=$,this.toastr=me,this.errorService=He,this.dynamicAuthService=at,this.dynamicAuthCachService=Ut,this.dialogService=on,this.dynamicAuthTypes=As,this.isFirstCall=!0}ngOnInit(){this.dynamicAuthSub=this.dynamicAuthCachService.unsavedCache$.subscribe({next:t=>{this.dynamicAuth=t;const o=this.translate.instant("DynamicAuth.Title.Generic")+" "+this.dynamicAuth.displayName+" - "+Bt.$9.SITE_TITLE;if(this.titleService.setTitle(o),this.checkSubmitEnabled(),this.dynamicAuth.type==As.OIDC&&this.isFirstCall){var l=fo(this.dynamicAuth.options);this.oldSecret=l.clientSecret,this.isFirstCall=!1}},error:t=>{this.errorService.handleError(t)}})}ngOnDestroy(){this.dynamicAuthSub.unsubscribe()}canDeactivate(){return!(this.dynamicAuthCachService.componentDirtyValidMap.size>0)||(this.dialogService.confirm(),this.dialogService.eventStream.subscribe(t=>{t&&this.dynamicAuthCachService.componentDirtyValidMap.size>0&&this.dynamicAuthCachService.componentDirtyValidMap.clear()}),this.dialogService.eventStream)}checkSubmitEnabled(){const t=[...Array.from(this.dynamicAuthCachService.componentDirtyValidMap.values())];this.saveDisabled=0===t.length||t.some(o=>!o)}mobRoute(t){this.r.navigate([t],{relativeTo:this.route})}saveDynamicAuth(){this.saveDisabled||(this.dynamicAuth.type==As.OIDC&&this.setOidcClientSecret(),this.dynamicAuthService.updateDynamicAuth(Lg(this.dynamicAuth)).subscribe({next:t=>{this.isFirstCall=!0,this.dynamicAuthCachService.unsavedCache.next(Yu(t)),this.dynamicAuthCachService.onSave(),this.toastr.success(this.translate.instant("DynamicAuth.Success.Updated"),this.translate.instant("Notifications.SuccessfullySaved")),this.checkSubmitEnabled()},error:t=>{this.errorService.handleError(t)}}))}deleteDynamicAuth(t){this.dynamicAuthService.deleteDynamicAuth(t).subscribe({next:o=>{const l=this.localize.translateRoute("/dynamic-auth");this.r.navigate([l]),this.toastr.success(`${t} ${this.translate.instant("Common.Delete.Deleted")}`,this.translate.instant("Notifications.SuccessfullyDeleted"))},error:o=>{this.errorService.handleError(o)}})}setOidcClientSecret(){var t=fo(this.dynamicAuth.options);this.oldSecret==t.clientSecret&&(t.clientSecret=void 0),this.dynamicAuth.options=JSON.stringify(t)}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(Ct.Ix),e.rXU(Ct.nX),e.rXU($i.QG),e.rXU(i.hE),e.rXU(bn.c$),e.rXU(Zn.tw),e.rXU(Z.I),e.rXU(nu),e.rXU(Gr),e.rXU(Yo.o))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["ng-component"]],decls:24,vars:26,consts:[["deleteDynamicAuthModal",""],[3,"title","crumbs","hasTabs"],["tabs",""],[3,"tabTitle","tabValue"],[3,"tabTitle","tabValue",4,"ngIf"],["id","editDynamicAuth",1,"tw-container","tw-mx-auto"],["id","submitBtn",1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"click","disabled"],["right",""],["id","deleteBtn","type","button","data-toggle","modal",1,"tw-btn-danger","tw-mb-3",3,"click"],[3,"delete","resourceName"]],template:function(o,l){if(1&o){const C=e.RV6();e.j41(0,"app-title-bar",1),e.nI1(1,"translate"),e.nI1(2,"localize"),e.qex(3,2),e.j41(4,"app-custom-tabs"),e.nrm(5,"app-custom-tab",3),e.DNE(6,fb,1,2,"app-custom-tab",4)(7,MI,1,2,"app-custom-tab",4)(8,xI,1,2,"app-custom-tab",4)(9,Yf,1,2,"app-custom-tab",4),e.k0s(),e.bVm(),e.k0s(),e.j41(10,"div",5),e.nrm(11,"router-outlet"),e.k0s(),e.j41(12,"app-button-bar")(13,"button",6),e.bIt("click",function(){return e.eBV(C),e.Njj(l.saveDynamicAuth())}),e.j41(14,"span"),e.EFF(15),e.nI1(16,"translate"),e.k0s()(),e.qex(17,7),e.j41(18,"button",8),e.bIt("click",function(){e.eBV(C);const me=e.sdS(22);return e.Njj(me.show())}),e.EFF(19),e.nI1(20,"translate"),e.k0s(),e.bVm(),e.k0s(),e.j41(21,"app-delete-confirmation-modal",9,0),e.bIt("delete",function(){return e.eBV(C),e.Njj(l.deleteDynamicAuth(l.dynamicAuth.scheme))}),e.nrm(23,"app-can-deactivate"),e.k0s()}2&o&&(e.Y8G("title",l.dynamicAuth.displayName)("crumbs",e.eq3(24,RI,e.l_i(21,hb,e.bMT(1,13,"Nav.DynamicAuth"),e.bMT(2,15,"/dynamic-auth"))))("hasTabs",!0),e.R7$(5),e.Y8G("tabTitle","Nav.Details")("tabValue","details"),e.R7$(),e.Y8G("ngIf",l.dynamicAuth.type==l.dynamicAuthTypes.OIDC),e.R7$(),e.Y8G("ngIf",l.dynamicAuth.type==l.dynamicAuthTypes.OIDC),e.R7$(),e.Y8G("ngIf",l.dynamicAuth.type==l.dynamicAuthTypes.SAML),e.R7$(),e.Y8G("ngIf",l.dynamicAuth.type==l.dynamicAuthTypes.SAML),e.R7$(4),e.Y8G("disabled",l.saveDisabled),e.R7$(2),e.JRh(e.bMT(16,17,"Common.SaveAll")),e.R7$(4),e.JRh(e.bMT(20,19,"Common.Delete.Title")),e.R7$(2),e.Y8G("resourceName",l.dynamicAuth.displayName))},dependencies:[Ct.n3,fn.bT,nn.G,_n.v,Na.E,qt.z,Eo.z,sa.w,bn.D9,$i.tl],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return r})();var ea=p(7921);const za=r=>[r];function mb(r,d){if(1&r&&(e.j41(0,"app-form-row",4),e.nrm(1,"app-readonly",3),e.k0s()),2&r){const t=e.XpG(2);e.Y8G("id","CallbackPath")("label","DynamicAuth.CallbackPath.Label")("help","DynamicAuth.CallbackPath.Help"),e.R7$(),e.Y8G("fieldType",t.ReadOnlyFieldType.Single)("values",e.eq3(5,za,t.optionsDictionary.callbackPath))}}function gb(r,d){if(1&r&&(e.j41(0,"div",8)(1,"app-form-row",4),e.nrm(2,"app-readonly",3),e.k0s(),e.j41(3,"app-form-row",4),e.nrm(4,"app-readonly",3),e.k0s(),e.DNE(5,mb,2,7,"app-form-row",9),e.j41(6,"app-form-row",4),e.nrm(7,"app-readonly",3),e.k0s()()),2&r){const t=e.XpG();e.R7$(),e.Y8G("id","Authority")("label","DynamicAuth.Authority.Label")("help","DynamicAuth.Authority.Help"),e.R7$(),e.Y8G("fieldType",t.ReadOnlyFieldType.Single)("values",e.eq3(16,za,t.optionsDictionary.authority)),e.R7$(),e.Y8G("id","ClientId")("label","DynamicAuth.ClientId.Label")("help","DynamicAuth.ClientId.Help"),e.R7$(),e.Y8G("fieldType",t.ReadOnlyFieldType.Single)("values",e.eq3(18,za,t.optionsDictionary.clientId)),e.R7$(),e.Y8G("ngIf",t.isRskDynamicAuth),e.R7$(),e.Y8G("id","Flow")("label","DynamicAuth.Flow.Label")("help","DynamicAuth.Flow.Help"),e.R7$(),e.Y8G("fieldType",t.ReadOnlyFieldType.Single)("values",e.eq3(20,za,t.optionsDictionary.flow))}}function vb(r,d){if(1&r&&(e.j41(0,"div",10)(1,"app-form-row",11),e.nrm(2,"app-readonly",3),e.k0s(),e.j41(3,"app-form-row",4),e.nrm(4,"app-readonly",3),e.k0s(),e.j41(5,"app-form-row",12),e.nrm(6,"app-readonly",3),e.k0s()()),2&r){const t=e.XpG();e.R7$(),e.Y8G("id","SignInScheme")("label","DynamicAuth.SignInScheme.Label")("help","DynamicAuth.SignInScheme.Help"),e.R7$(),e.Y8G("fieldType",t.ReadOnlyFieldType.Single)("values",e.eq3(16,za,t.optionsDictionary.signInScheme)),e.R7$(),e.Y8G("id","SignOutScheme")("label","DynamicAuth.SignOutScheme.Label")("help","DynamicAuth.SignOutScheme.Help"),e.R7$(),e.Y8G("fieldType",t.ReadOnlyFieldType.Single)("values",e.eq3(18,za,t.optionsDictionary.signOutScheme)),e.R7$(),e.Y8G("id","TimeComparisonTolerance")("label","DynamicAuth.SAML.TimeComparisonTolerance.Label")("help","DynamicAuth.SAML.TimeComparisonTolerance.Help")("isLast",!0),e.R7$(),e.Y8G("fieldType",t.ReadOnlyFieldType.LifetimePicker)("values",e.eq3(20,za,t.optionsDictionary.timeComparisonTolerance))}}function yb(r,d){if(1&r&&(e.j41(0,"div",13)(1,"app-form-row",12),e.nrm(2,"app-readonly",3),e.k0s()()),2&r){const t=e.XpG();e.R7$(),e.Y8G("id","ClientSecret")("label","DynamicAuth.ClientSecret.Label")("help","DynamicAuth.ClientSecret.Help")("isLast",!0),e.R7$(),e.Y8G("fieldType",t.ReadOnlyFieldType.Single)("values",e.eq3(6,za,t.optionsDictionary.clientSecret))}}let _b=(()=>{class r{get ReadOnlyFieldType(){return ar.t}constructor(t,o,l,C){this.errorService=t,this.dynamicAuthChachService=o,this.configService=l,this.translate=C,this.dynamicAuthTypes=As,this.snippet=vs.SamlSignInSchemeCodeFrag}ngOnInit(){this.configService.getConfig().subscribe({next:t=>{this.isRskDynamicAuth=t.featureFlagOptions.dynamicAuthenticationFlag==Wa.U.Rsk},error:t=>{this.errorService.handleError(t)}}),this.dynamicAuthChachService.unsavedCache$.pipe((0,Jt.$)()).subscribe({next:t=>{switch(this.dynamicAuthType=t.type,this.dynamicAuthDictionary=new ea.b(t),this.dynamicAuthType){case As.OIDC:this.setOidcOptions(t.options);break;case As.SAML:this.setSamlOptions(t.options)}},error:t=>{this.errorService.handleError(t)}})}setOidcOptions(t){let o={...fo(t)};o.flow=this.translate.instant("DynamicAuth.Flows."+(o.usePkce?pl.AuthCodePlusPkce:pl.AuthCode)),this.optionsDictionary=new ea.b(o)}setSamlOptions(t){const o=Ia(t);this.optionsDictionary=new ea.b(o)}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(Z.I),e.rXU(Gr),e.rXU(Gs.w),e.rXU(bn.c$))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-dynamic-auth-view-details"]],decls:11,vars:23,consts:[["id","viewDynamicAuthDetails"],["id","dynamicAuthDetails"],[3,"id","label"],[3,"fieldType","values"],[3,"id","label","help"],["id","connectionDetails",4,"ngIf"],["id","signInSchemeDetails",4,"ngIf"],["id","secretDetails",4,"ngIf"],["id","connectionDetails"],[3,"id","label","help",4,"ngIf"],["id","signInSchemeDetails"],[1,"tw-form-typeahead",3,"id","label","help"],[3,"id","label","help","isLast"],["id","secretDetails"]],template:function(o,l){1&o&&(e.j41(0,"div",0)(1,"div",1)(2,"app-form-row",2),e.nrm(3,"app-readonly",3),e.k0s(),e.j41(4,"app-form-row",4),e.nrm(5,"app-readonly",3),e.k0s(),e.j41(6,"app-form-row",4),e.nrm(7,"app-readonly",3),e.k0s()(),e.DNE(8,gb,8,22,"div",5)(9,vb,7,22,"div",6)(10,yb,3,8,"div",7),e.k0s()),2&o&&(e.R7$(2),e.Y8G("id","Enabled")("label","Common.Enabled"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(17,za,l.dynamicAuthDictionary.enabled)),e.R7$(),e.Y8G("id","Scheme")("label","DynamicAuth.Scheme.Label")("help","DynamicAuth.Scheme.Help"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(19,za,l.dynamicAuthDictionary.scheme)),e.R7$(),e.Y8G("id","DisplayName")("label","DynamicAuth.DisplayName.Label")("help","DynamicAuth.DisplayName.Help"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(21,za,l.dynamicAuthDictionary.displayName)),e.R7$(),e.Y8G("ngIf",l.dynamicAuthType==l.dynamicAuthTypes.OIDC),e.R7$(),e.Y8G("ngIf",l.isRskDynamicAuth||l.dynamicAuthType==l.dynamicAuthTypes.SAML),e.R7$(),e.Y8G("ngIf",l.dynamicAuthType==l.dynamicAuthTypes.OIDC))},dependencies:[fn.bT,ce.Y,Fs.O],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return r})();const bb=r=>[r];let kI=(()=>{class r{get ReadOnlyFieldType(){return ar.t}constructor(t){this.dynamicAuthCacheService=t}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,Jt.$)()).subscribe({next:t=>{var o=Ia(t.options);this.idpAdvancedDictionary=new ea.b({allowIdpInitiatedSso:o.allowIdpInitiatedSso,idPInitiatedSsoCompletionPath:o.idPInitiatedSsoCompletionPath})}})}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(Gr))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-dynamic-auth-view-idp-advanced"]],decls:5,vars:15,consts:[["id","viewIdpAdvanced"],[3,"id","label","help"],[3,"fieldType","values"],[3,"id","label","help","isLast"]],template:function(o,l){1&o&&(e.j41(0,"div",0)(1,"app-form-row",1),e.nrm(2,"app-readonly",2),e.k0s(),e.j41(3,"app-form-row",3),e.nrm(4,"app-readonly",2),e.k0s()()),2&o&&(e.R7$(),e.Y8G("id","AllowIdpInitiatedSso")("label","DynamicAuth.SAML.AllowIdpInitiatedSso.Label")("help","DynamicAuth.SAML.AllowIdpInitiatedSso.Help"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(11,bb,l.idpAdvancedDictionary.allowIdpInitiatedSso)),e.R7$(),e.Y8G("id","IdPInitiatedSsoCompletionPath")("label","DynamicAuth.SAML.IdPInitiatedSsoCompletionPath.Label")("help","DynamicAuth.SAML.IdPInitiatedSsoCompletionPath.Help")("isLast",!0),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(13,bb,l.idpAdvancedDictionary.idPInitiatedSsoCompletionPath)))},dependencies:[ce.Y,Fs.O],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return r})();const Cb=r=>[r];let yh=(()=>{class r{get ReadOnlyFieldType(){return ar.t}constructor(t){this.dynamicAuthCacheService=t}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,Jt.$)()).subscribe({next:t=>{var o=Ia(t.options);this.idpDetailsDictionary=new ea.b({requireValidMetadataSignature:o.requireValidMetadataSignature,idpMetadataAddr:o.idpMetadataAddress})}})}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(Gr))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-dynamic-auth-view-idp-details"]],decls:5,vars:15,consts:[["id","viewIdpDetails"],[3,"id","label","help"],[3,"fieldType","values"],[3,"id","label","help","isLast"]],template:function(o,l){1&o&&(e.j41(0,"div",0)(1,"app-form-row",1),e.nrm(2,"app-readonly",2),e.k0s(),e.j41(3,"app-form-row",3),e.nrm(4,"app-readonly",2),e.k0s()()),2&o&&(e.R7$(),e.Y8G("id","RequireValidMetadataSignature")("label","DynamicAuth.SAML.RequireValidMetadataSignature.Label")("help","DynamicAuth.SAML.RequireValidMetadataSignature.Help"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(11,Cb,l.idpDetailsDictionary.requireValidMetadataSignature)),e.R7$(),e.Y8G("id","IdpMetadataAddress")("label","DynamicAuth.SAML.IdpMetadataAddress.Label")("help","DynamicAuth.SAML.IdpMetadataAddress.Help")("isLast",!0),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(13,Cb,l.idpDetailsDictionary.idpMetadataAddr)))},dependencies:[ce.Y,Fs.O],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return r})();const wb=["AdvancedTabs"];let Sb=(()=>{class r{constructor(){}ngOnInit(){}static{this.\u0275fac=function(o){return new(o||r)}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-dynamic-auth-view-idp"]],viewQuery:function(o,l){if(1&o&&e.GBs(wb,7),2&o){let C;e.mGM(C=e.lsd())&&(l.advancedTabs=C.first)}},decls:6,vars:5,consts:[[1,"tw-container","tw-mx-auto"],[3,"pillMode"],[3,"tabTitle","tabValue"],["id","viewDynamicAuthIdpDetails"]],template:function(o,l){1&o&&(e.j41(0,"div",0)(1,"app-custom-tabs",1),e.nrm(2,"app-custom-tab",2)(3,"app-custom-tab",2),e.k0s()(),e.j41(4,"div",3),e.nrm(5,"router-outlet"),e.k0s()),2&o&&(e.R7$(),e.Y8G("pillMode",!0),e.R7$(),e.Y8G("tabTitle","Nav.Details")("tabValue","details"),e.R7$(),e.Y8G("tabTitle","Nav.Advanced")("tabValue","advanced"))},dependencies:[Ct.n3,nn.G,_n.v],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return r})();function Eb(r,d){if(1&r&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"slice"),e.k0s()),2&r){const t=d.item;e.R7$(),e.JRh(t.length>20?e.brH(2,1,t,0,20)+"...":t)}}function Tb(r,d){1&r&&(e.j41(0,"div",5)(1,"div"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&r&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"UserDetails.NoClaimsMessage")," "))}function Ib(r,d){if(1&r&&(e.j41(0,"tr")(1,"td",11)(2,"span",12),e.EFF(3),e.k0s()()()),2&r){const t=d.$implicit;e.R7$(3),e.JRh(t)}}function Db(r,d){if(1&r&&(e.j41(0,"table",6)(1,"thead",7)(2,"th",8)(3,"span",9),e.EFF(4),e.nI1(5,"translate"),e.k0s()()(),e.j41(6,"tbody"),e.DNE(7,Ib,4,1,"tr",10),e.k0s()()),2&r){const t=e.XpG();e.R7$(4),e.JRh(e.bMT(5,2,"Common.Scope")),e.R7$(3),e.Y8G("ngForOf",t.oidcOptions.scope)}}let NI=(()=>{class r{constructor(t,o){this.errorService=t,this.dynamicAuthChachService=o,this.newScope="",this.dynamicAuthTypes=As,this.isDeleting=!1}ngOnInit(){this.dynamicAuthChachService.unsavedCache$.pipe((0,Jt.$)()).subscribe({next:t=>{this.dynamicAuth=t,this.oidcOptions=fo(this.dynamicAuth.options)},error:t=>{this.errorService.handleError(t)}})}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(Z.I),e.rXU(Gr))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-dynamic-auth-view-scopes"]],decls:6,vars:3,consts:[["customItemTemplate",""],["id","viewScopes"],[1,"tw-mt-6",3,"id"],["class","tw-alert","role","alert",4,"ngIf"],["class","datatable",4,"ngIf"],["role","alert",1,"tw-alert"],[1,"datatable"],[1,""],[1,"tw-w-full"],[1,"sr-only"],[4,"ngFor","ngForOf"],[1,"tw-table-cell","tw-w-full"],[1,"tw-block","tw-truncate"]],template:function(o,l){1&o&&(e.DNE(0,Eb,3,5,"ng-template",null,0,e.C5r),e.j41(2,"div",1)(3,"div",2),e.DNE(4,Tb,4,3,"div",3)(5,Db,8,4,"table",4),e.k0s()()),2&o&&(e.R7$(3),e.Y8G("id","Scopes"),e.R7$(),e.Y8G("ngIf",l.oidcOptions.scope.length<=0),e.R7$(),e.Y8G("ngIf",l.oidcOptions.scope.length>0))},dependencies:[fn.Sq,fn.bT,fn.P9,bn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return r})();const t0=r=>[r];let YA=(()=>{class r{get ReadOnlyFieldType(){return ar.t}constructor(t){this.dynamicAuthCacheService=t}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,Jt.$)()).subscribe({next:t=>{var o=Ia(t.options);this.spDetailsDictionary=new ea.b({entityId:o.spEntityId,metaDataAddr:o.spMetadataAddress,callbackPath:o.callbackPath,signOutCallbackPath:o.signedOutCallbackPath})}})}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(Gr))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-dynamic-auth-view-sp-details"]],decls:9,vars:29,consts:[["id","viewSpDetails"],[3,"id","label","help"],[3,"fieldType","values"],[3,"id","label","help","isLast"]],template:function(o,l){1&o&&(e.j41(0,"div",0)(1,"app-form-row",1),e.nrm(2,"app-readonly",2),e.k0s(),e.j41(3,"app-form-row",1),e.nrm(4,"app-readonly",2),e.k0s(),e.j41(5,"app-form-row",1),e.nrm(6,"app-readonly",2),e.k0s(),e.j41(7,"app-form-row",3),e.nrm(8,"app-readonly",2),e.k0s()()),2&o&&(e.R7$(),e.Y8G("id","SPEntityID")("label","DynamicAuth.SPEntityID.Label")("help","DynamicAuth.SPEntityID.Help"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(21,t0,l.spDetailsDictionary.entityId)),e.R7$(),e.Y8G("id","SpMetadataAddress")("label","DynamicAuth.SpMetadataAddress.Label")("help","DynamicAuth.SpMetadataAddress.Help"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(23,t0,l.spDetailsDictionary.metaDataAddr)),e.R7$(),e.Y8G("id","CallbackPath")("label","DynamicAuth.CallbackPath.Label")("help","DynamicAuth.CallbackPath.Help"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(25,t0,l.spDetailsDictionary.callbackPath)),e.R7$(),e.Y8G("id","SignedOutCallbackPath")("label","DynamicAuth.SignedOutCallbackPath.Label")("help","DynamicAuth.SignedOutCallbackPath.Help")("isLast",!0),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(27,t0,l.spDetailsDictionary.signOutCallbackPath)))},dependencies:[ce.Y,Fs.O],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return r})();const Ab=r=>[r];let Rb=(()=>{class r{get ReadOnlyFieldType(){return ar.t}constructor(t){this.dynamicAuthCacheService=t}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,Jt.$)()).subscribe({next:t=>{var o=Ia(t.options);this.spRequestDictionary=new ea.b({signAuthenticationRequests:o.signAuthenticationRequests}),this.certificateDescription=o.signingCertificateDto?[o.signingCertificateDto]:[]}})}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(Gr))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-dynamic-auth-view-sp-request"]],decls:4,vars:10,consts:[["id","viewSpRequest"],[3,"id","label","help"],[3,"fieldType","values"],[3,"certificates","showSingle","isReadOnly"]],template:function(o,l){1&o&&(e.j41(0,"div",0)(1,"app-form-row",1),e.nrm(2,"app-readonly",2),e.k0s(),e.nrm(3,"app-saml-cert-list",3),e.k0s()),2&o&&(e.R7$(),e.Y8G("id","SignAuthenticationRequests")("label","DynamicAuth.SAML.SignAuthenticationRequests.Label")("help","DynamicAuth.SAML.SignAuthenticationRequests.Help"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(8,Ab,l.spRequestDictionary.signAuthenticationRequests)),e.R7$(),e.Y8G("certificates",l.certificateDescription)("showSingle",!0)("isReadOnly",!0))},dependencies:[ce.Y,vh.T,Fs.O],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return r})();const n0=r=>[r];let OI=(()=>{class r{get ReadOnlyFieldType(){return ar.t}constructor(t){this.dynamicAuthCacheService=t}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,Jt.$)()).subscribe({next:t=>{var o=Ia(t.options);this.spResponseDictionary=new ea.b({requireSignedAssertions:o.requireSignedAssertions,requireEncryptedAssertions:o.requireEncryptedAssertions}),this.certificateDescription=o.encryptionCertificateDto?[o.encryptionCertificateDto]:[]}})}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(Gr))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-dynamic-auth-view-sp-response"]],decls:6,vars:17,consts:[["id","viewSpResponse"],[3,"id","label","help"],[3,"fieldType","values"],[3,"certificates","showSingle","isReadOnly"]],template:function(o,l){1&o&&(e.j41(0,"div",0)(1,"app-form-row",1),e.nrm(2,"app-readonly",2),e.k0s(),e.j41(3,"app-form-row",1),e.nrm(4,"app-readonly",2),e.k0s(),e.nrm(5,"app-saml-cert-list",3),e.k0s()),2&o&&(e.R7$(),e.Y8G("id","RequireSignedAssertions")("label","DynamicAuth.SAML.RequireSignedAssertions.Label")("help","DynamicAuth.SAML.RequireSignedAssertions.Help"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(13,n0,l.spResponseDictionary.requireSignedAssertions)),e.R7$(),e.Y8G("id","RequireEncryptedAssertions")("label","DynamicAuth.SAML.RequireEncryptedAssertions.Label")("help","DynamicAuth.SAML.RequireEncryptedAssertions.Help"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(15,n0,l.spResponseDictionary.requireEncryptedAssertions)),e.R7$(),e.Y8G("certificates",l.certificateDescription)("showSingle",!0)("isReadOnly",!0))},dependencies:[ce.Y,vh.T,Fs.O],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return r})();const FI=["AdvancedTabs"];let _h=(()=>{class r{constructor(){}ngOnInit(){}static{this.\u0275fac=function(o){return new(o||r)}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-dynamic-auth-view-sp"]],viewQuery:function(o,l){if(1&o&&e.GBs(FI,7),2&o){let C;e.mGM(C=e.lsd())&&(l.advancedTabs=C.first)}},decls:7,vars:7,consts:[[1,"tw-container","tw-mx-auto"],[3,"pillMode"],[3,"tabTitle","tabValue"],["id","viewDynamicAuthSpDetails"]],template:function(o,l){1&o&&(e.j41(0,"div",0)(1,"app-custom-tabs",1),e.nrm(2,"app-custom-tab",2)(3,"app-custom-tab",2)(4,"app-custom-tab",2),e.k0s()(),e.j41(5,"div",3),e.nrm(6,"router-outlet"),e.k0s()),2&o&&(e.R7$(),e.Y8G("pillMode",!0),e.R7$(),e.Y8G("tabTitle","Nav.Details")("tabValue","details"),e.R7$(),e.Y8G("tabTitle","Nav.Request")("tabValue","request"),e.R7$(),e.Y8G("tabTitle","Nav.Response")("tabValue","response"))},dependencies:[Ct.n3,nn.G,_n.v],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return r})();const Mb=(r,d)=>({title:r,link:d}),PI=r=>[r],bh=()=>["active"];function ta(r,d){1&r&&(e.j41(0,"option",19),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.JRh(e.bMT(2,1,"Nav.Scopes")))}function Zu(r,d){1&r&&(e.j41(0,"option",20),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.JRh(e.bMT(2,1,"Nav.Advanced")))}function BI(r,d){1&r&&(e.j41(0,"option",21),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.JRh(e.bMT(2,1,"Nav.SP")))}function LI(r,d){1&r&&(e.j41(0,"option",22),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.JRh(e.bMT(2,1,"Nav.IdP")))}function XA(r,d){1&r&&(e.j41(0,"button",23),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.Y8G("routerLinkActive",e.lJ4(4,bh)),e.R7$(),e.JRh(e.bMT(2,2,"Nav.Scopes")))}function JA(r,d){1&r&&(e.j41(0,"button",24),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.Y8G("routerLinkActive",e.lJ4(4,bh)),e.R7$(),e.JRh(e.bMT(2,2,"Nav.Advanced")))}function Ch(r,d){1&r&&(e.j41(0,"button",25),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.Y8G("routerLinkActive",e.lJ4(4,bh)),e.R7$(),e.JRh(e.bMT(2,2,"Nav.SP")))}function UI(r,d){1&r&&(e.j41(0,"button",26),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.Y8G("routerLinkActive",e.lJ4(4,bh)),e.R7$(),e.JRh(e.bMT(2,2,"Nav.IdP")))}let r0=(()=>{class r{constructor(t,o,l,C,$,me){this.r=t,this.route=o,this.titleService=l,this.translate=C,this.errorService=$,this.dynamicAuthCachService=me,this.dynamicAuthTypes=As}ngOnInit(){this.dynamicAuthSub=this.dynamicAuthCachService.unsavedCache$.pipe((0,Jt.$)()).subscribe({next:t=>{this.dynamicAuth=t;const o=this.translate.instant("DynamicAuth.Title")+" "+this.dynamicAuth.displayName+" - "+Bt.$9.SITE_TITLE;this.titleService.setTitle(o)},error:t=>{this.errorService.handleError(t)}})}mobRoute(t){this.r.navigate([t],{relativeTo:this.route})}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(Ct.Ix),e.rXU(Ct.nX),e.rXU(i.hE),e.rXU(bn.c$),e.rXU(Z.I),e.rXU(Gr))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["ng-component"]],decls:33,vars:36,consts:[[3,"title","crumbs","hasTabs","isReadOnly","isReserved"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","details"],["value","scopes",4,"ngIf"],["value","advanced",4,"ngIf"],["value","sp",4,"ngIf"],["value","idp",4,"ngIf"],["role","tablist",1,"tabs","tw-hidden","md:tw-flex"],[1,"tabs__item"],["type","button","routerLink","details","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["class","tabs__link","type","button","routerLink","scopes","role","tab","aria-selected","false",3,"routerLinkActive",4,"ngIf"],["class","tabs__link","type","button","routerLink","advanced","role","tab","aria-selected","false",3,"routerLinkActive",4,"ngIf"],["class","tabs__link","type","button","routerLink","sp","role","tab","aria-selected","false",3,"routerLinkActive",4,"ngIf"],["class","tabs__link","type","button","routerLink","idp","role","tab","aria-selected","false",3,"routerLinkActive",4,"ngIf"],["id","viewDynamicAuth",1,"tw-container","tw-mx-auto"],["value","scopes"],["value","advanced"],["value","sp"],["value","idp"],["type","button","routerLink","scopes","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","advanced","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","sp","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","idp","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"]],template:function(o,l){1&o&&(e.j41(0,"app-title-bar",0),e.nI1(1,"translate"),e.nI1(2,"localize"),e.qex(3,1),e.j41(4,"div",2)(5,"label",3),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"div",4)(9,"select",5),e.bIt("change",function($){return l.mobRoute($.target.value)}),e.j41(10,"option",6),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.DNE(13,ta,3,3,"option",7)(14,Zu,3,3,"option",8)(15,BI,3,3,"option",9)(16,LI,3,3,"option",10),e.k0s()()(),e.j41(17,"ul",11),e.nI1(18,"translate"),e.j41(19,"li",12)(20,"button",13),e.EFF(21),e.nI1(22,"translate"),e.k0s()(),e.j41(23,"li",12),e.DNE(24,XA,3,5,"button",14),e.k0s(),e.j41(25,"li",12),e.DNE(26,JA,3,5,"button",15),e.k0s(),e.j41(27,"li",12),e.DNE(28,Ch,3,5,"button",16),e.k0s(),e.j41(29,"li",12),e.DNE(30,UI,3,5,"button",17),e.k0s()(),e.bVm(),e.k0s(),e.j41(31,"div",18),e.nrm(32,"router-outlet"),e.k0s()),2&o&&(e.Y8G("title",l.dynamicAuth.displayName)("crumbs",e.eq3(33,PI,e.l_i(30,Mb,e.bMT(1,18,"Nav.DynamicAuth"),e.bMT(2,20,"/dynamic-auth"))))("hasTabs",!0)("isReadOnly",!0)("isReserved",l.dynamicAuth.nonEditable),e.R7$(6),e.JRh(e.bMT(7,22,"Nav.SubMenu")),e.R7$(5),e.JRh(e.bMT(12,24,"Nav.Details")),e.R7$(2),e.Y8G("ngIf",l.dynamicAuth.type==l.dynamicAuthTypes.OIDC),e.R7$(),e.Y8G("ngIf",l.dynamicAuth.type==l.dynamicAuthTypes.OIDC),e.R7$(),e.Y8G("ngIf",l.dynamicAuth.type==l.dynamicAuthTypes.SAML),e.R7$(),e.Y8G("ngIf",l.dynamicAuth.type==l.dynamicAuthTypes.SAML),e.R7$(),e.BMQ("aria-label",e.bMT(18,26,"Nav.SubMenu")),e.R7$(3),e.Y8G("routerLinkActive",e.lJ4(35,bh)),e.R7$(),e.JRh(e.bMT(22,28,"Nav.Details")),e.R7$(3),e.Y8G("ngIf",l.dynamicAuth.type==l.dynamicAuthTypes.OIDC),e.R7$(2),e.Y8G("ngIf",l.dynamicAuth.type==l.dynamicAuthTypes.OIDC),e.R7$(2),e.Y8G("ngIf",l.dynamicAuth.type==l.dynamicAuthTypes.SAML),e.R7$(2),e.Y8G("ngIf",l.dynamicAuth.type==l.dynamicAuthTypes.SAML))},dependencies:[Ct.n3,Ct.Wk,Ct.wQ,fn.bT,y.xH,y.y7,qt.z,bn.D9,$i.tl],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return r})(),s0=(()=>{class r{constructor(t,o){this.router=t,this.config=o}canActivate(t,o){return this.config.getConfig().pipe((0,Jt.$)(),(0,Di.T)(l=>l?.featureFlagOptions?.dynamicAuthenticationFlag!=Wa.U.Disabled||this.router.parseUrl("/resourcenotfound/dynamic-auth")))}static{this.\u0275fac=function(o){return new(o||r)(e.KVO(Ct.Ix),e.KVO(Gs.w))}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var qu=p(6923);function VI(r,d){1&r&&(e.j41(0,"app-form-row",3)(1,"app-form-toggle",4),e.nrm(2,"input",7),e.k0s()()),2&r&&(e.Y8G("id","MapInboundClaims")("label","DynamicAuth.MapInboundClaims.Label")("help","DynamicAuth.MapInboundClaims.Help")("isLast",!0),e.R7$(),e.Y8G("id","MapInboundClaims")("isTraffic",!0)("isAlt",!1))}function jI(r,d){if(1&r&&(e.j41(0,"form",2)(1,"app-form-row",3)(2,"app-form-toggle",4),e.nrm(3,"input",5),e.k0s()(),e.DNE(4,VI,3,7,"app-form-row",6),e.k0s()),2&r){const t=e.XpG();e.Y8G("formGroup",t.form),e.R7$(),e.Y8G("id","GetClaimsFromUserInfoEndpoint")("label","DynamicAuth.GetClaimsFromUserInfoEndpoint.Label")("help","DynamicAuth.GetClaimsFromUserInfoEndpoint.Help")("isLast",!t.isRskDynamicAuth),e.R7$(),e.Y8G("id","GetClaimsFromUserInfoEndpoint")("isTraffic",!0)("isAlt",!1),e.R7$(2),e.Y8G("ngIf",t.isRskDynamicAuth)}}let $I=(()=>{class r{get ReadOnlyFieldType(){return ar.t}constructor(t,o,l,C){this.fb=t,this.configService=o,this.dynamicAuthCache=l,this.errorService=C}ngOnInit(){this.configService.getConfig().pipe((0,Jt.$)()).subscribe({next:t=>{this.isRskDynamicAuth=t.featureFlagOptions.dynamicAuthenticationFlag==Wa.U.Rsk}}),this.dynamicAuthCache.unsavedCache$.pipe((0,Jt.$)()).subscribe({next:t=>{this.dynamicAuth=t,this.oidcOptions=fo(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges()},error:t=>{this.errorService.handleError(t)}})}buildForm(){let t={getClaimsFromUserInfoEndpoint:[this.oidcOptions.getClaimsFromUserInfoEndpoint,[]]};this.isRskDynamicAuth&&(t.mapInboundClaims=[this.oidcOptions.mapInboundClaims,[]]),this.form=this.fb.group(t)}subscribeToValueChanges(){this.form.valueChanges.subscribe({next:t=>{let o={...this.oidcOptions,getClaimsFromUserInfoEndpoint:this.form.get("getClaimsFromUserInfoEndpoint").value};this.isRskDynamicAuth&&(o.mapInboundClaims=this.form.get("mapInboundClaims").value),this.dynamicAuthCache.componentDirtyValidMap.set("DynamicAuthEditAdvancedComponent",this.form.valid),this.dynamicAuthCache.unsavedCache.next({...this.dynamicAuth,options:JSON.stringify(o)})}})}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(y.ze),e.rXU(Gs.w),e.rXU(Gr),e.rXU(Z.I))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-dynamic-auth-claims-edit-details"]],decls:2,vars:1,consts:[["id","editDynamicAuthClaims"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label","help","isLast"],[3,"id","isTraffic","isAlt"],["id","GetClaimsFromUserInfoEndpoint","formControlName","getClaimsFromUserInfoEndpoint","type","checkbox",1,"tw-form-switch__input"],[3,"id","label","help","isLast",4,"ngIf"],["id","MapInboundClaims","formControlName","mapInboundClaims","type","checkbox",1,"tw-form-switch__input"]],template:function(o,l){1&o&&(e.j41(0,"div",0),e.DNE(1,jI,5,9,"form",1),e.k0s()),2&o&&(e.R7$(),e.Y8G("ngIf",l.form))},dependencies:[fn.bT,y.qT,y.Zm,y.BC,y.cb,y.j4,y.JD,ce.Y,Ua.m],encapsulation:2})}}return r})();function o0(r,d){if(1&r&&(e.j41(0,"form",2)(1,"app-form-row",3)(2,"app-form-toggle",4),e.nrm(3,"input",5),e.k0s()(),e.j41(4,"app-form-row",6)(5,"app-form-toggle",4),e.nrm(6,"input",7),e.k0s()()()),2&r){const t=e.XpG();e.Y8G("formGroup",t.form),e.R7$(),e.Y8G("id","SaveTokens")("label","DynamicAuth.SaveTokens.Label")("help","DynamicAuth.SaveTokens.Help"),e.R7$(),e.Y8G("id","SaveTokens")("isTraffic",!0)("isAlt",!1),e.R7$(2),e.Y8G("id","UseTokenLifetime")("label","DynamicAuth.UseTokenLifetime.Label")("help","DynamicAuth.UseTokenLifetime.Help")("isLast",!0),e.R7$(),e.Y8G("id","UseTokenLifetime")("isTraffic",!0)("isAlt",!1)}}let xb=(()=>{class r{get ReadOnlyFieldType(){return ar.t}constructor(t,o,l){this.fb=t,this.dynamicAuthCache=o,this.errorService=l}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,Jt.$)()).subscribe({next:t=>{this.dynamicAuth=t,this.oidcOptions=fo(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges()},error:t=>{this.errorService.handleError(t)}})}buildForm(){this.form=this.fb.group({saveTokens:[this.oidcOptions.saveTokens,[]],useTokenLifetime:[this.oidcOptions.useTokenLifetime,[]]})}subscribeToValueChanges(){this.form.valueChanges.subscribe({next:t=>{let o={...this.oidcOptions,saveTokens:this.form.get("saveTokens").value,useTokenLifetime:this.form.get("useTokenLifetime").value};this.dynamicAuthCache.componentDirtyValidMap.set("DynamicAuthEditAdvancedComponent",this.form.valid),this.dynamicAuthCache.unsavedCache.next({...this.dynamicAuth,options:JSON.stringify(o)})}})}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(y.ze),e.rXU(Gr),e.rXU(Z.I))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-dynamic-auth-tokens-edit-details"]],decls:2,vars:1,consts:[["id","editDynamicAuthTokens"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label","help"],[3,"id","isTraffic","isAlt"],["id","SaveTokens","formControlName","saveTokens","type","checkbox",1,"tw-form-switch__input"],[3,"id","label","help","isLast"],["id","UseTokenLifetime","formControlName","useTokenLifetime","type","checkbox",1,"tw-form-switch__input"]],template:function(o,l){1&o&&(e.j41(0,"div",0),e.DNE(1,o0,7,14,"form",1),e.k0s()),2&o&&(e.R7$(),e.Y8G("ngIf",l.form))},dependencies:[fn.bT,y.qT,y.Zm,y.BC,y.cb,y.j4,y.JD,ce.Y,Ua.m],encapsulation:2})}}return r})();function GI(r,d){if(1&r&&(e.j41(0,"form",2)(1,"app-form-row",3)(2,"app-form-toggle",4),e.nrm(3,"input",5),e.k0s()(),e.j41(4,"app-form-row",6),e.nrm(5,"app-lifetime-picker",7),e.k0s()()),2&r){const t=e.XpG();e.Y8G("formGroup",t.form),e.R7$(),e.Y8G("id","RefreshOnIssuerKeyNotFound")("label","DynamicAuth.RefreshOnIssuerKeyNotFound.Label")("help","DynamicAuth.RefreshOnIssuerKeyNotFound.Help"),e.R7$(),e.Y8G("id","RefreshOnIssuerKeyNotFound")("isTraffic",!0)("isAlt",!1),e.R7$(2),e.Y8G("id","MetadataRefreshInterval")("label","DynamicAuth.MetadataRefreshInterval.Label")("help","DynamicAuth.MetadataRefreshInterval.Help")("isLast",!0),e.R7$(),e.Y8G("buttons",t.metadataRefreshIntervalButtons)}}let Xf=(()=>{class r{get ReadOnlyFieldType(){return ar.t}constructor(t,o,l){this.fb=t,this.dynamicAuthCache=o,this.errorService=l,this.setButtonModels()}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,Jt.$)()).subscribe({next:t=>{this.dynamicAuth=t,this.oidcOptions=fo(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges()},error:t=>{this.errorService.handleError(t)}})}buildForm(){this.form=this.fb.group({refreshOnIssuerKeyNotFound:[this.oidcOptions.refreshMetadataOnIssuerKeyNotFound],metadataRefreshInterval:[this.oidcOptions.metadataRefreshInterval,[y.k0.min(300)]]})}subscribeToValueChanges(){this.form.valueChanges.subscribe({next:t=>{let o={...this.oidcOptions,refreshMetadataOnIssuerKeyNotFound:this.form.get("refreshOnIssuerKeyNotFound").value,metadataRefreshInterval:this.form.get("metadataRefreshInterval").value};this.dynamicAuthCache.componentDirtyValidMap.set("DynamicAuthEditAdvancedComponent",this.form.valid),this.dynamicAuthCache.unsavedCache.next({...this.dynamicAuth,options:JSON.stringify(o)})}})}setButtonModels(){this.metadataRefreshIntervalButtons=[{duration:1,unit:Qu.u.Hour},{duration:12,unit:Qu.u.Hours},{duration:1,unit:Qu.u.Day}]}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(y.ze),e.rXU(Gr),e.rXU(Z.I))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-dynamic-auth-metadata-edit-details"]],decls:2,vars:1,consts:[["id","editDynamicAuthMetadata"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label","help"],[3,"id","isTraffic","isAlt"],["id","RefreshOnIssuerKeyNotFound","formControlName","refreshOnIssuerKeyNotFound","type","checkbox",1,"tw-form-switch__input"],[3,"id","label","help","isLast"],["id","MetadataRefreshInterval","formControlName","metadataRefreshInterval",3,"buttons"]],template:function(o,l){1&o&&(e.j41(0,"div",0),e.DNE(1,GI,6,12,"form",1),e.k0s()),2&o&&(e.R7$(),e.Y8G("ngIf",l.form))},dependencies:[fn.bT,y.qT,y.Zm,y.BC,y.cb,y.j4,y.JD,W_.T,ce.Y,Ua.m],encapsulation:2})}}return r})();function a0(r,d){if(1&r&&(e.j41(0,"form",2)(1,"app-form-row",3)(2,"app-form-toggle",4),e.nrm(3,"input",5),e.k0s()(),e.j41(4,"app-form-row",6)(5,"app-form-toggle",4),e.nrm(6,"input",7),e.k0s()()()),2&r){const t=e.XpG();e.Y8G("formGroup",t.form),e.R7$(),e.Y8G("id","SkipUnrecognizedRequests")("label","DynamicAuth.SkipUnrecognizedRequests.Label")("help","DynamicAuth.SkipUnrecognizedRequests.Help"),e.R7$(),e.Y8G("id","SkipUnrecognizedRequests")("isTraffic",!0)("isAlt",!1),e.R7$(2),e.Y8G("id","DisableTelemetry")("label","DynamicAuth.DisableTelemetry.Label")("help","DynamicAuth.DisableTelemetry.Help")("isLast",!0),e.R7$(),e.Y8G("id","DisableTelemetry")("isTraffic",!0)("isAlt",!1)}}let QA=(()=>{class r{get ReadOnlyFieldType(){return ar.t}constructor(t,o,l){this.fb=t,this.dynamicAuthCache=o,this.errorService=l}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,Jt.$)()).subscribe({next:t=>{this.dynamicAuth=t,this.oidcOptions=fo(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges()},error:t=>{this.errorService.handleError(t)}})}buildForm(){this.form=this.fb.group({skipUnrecognizedRequests:[this.oidcOptions.skipUnrecognizedRequests,[]],disableTelemetry:[this.oidcOptions.disableTelemetry,[]]})}subscribeToValueChanges(){this.form.valueChanges.subscribe({next:t=>{let o={...this.oidcOptions,skipUnrecognizedRequests:this.form.get("skipUnrecognizedRequests").value,disableTelemetry:this.form.get("disableTelemetry").value};this.dynamicAuthCache.componentDirtyValidMap.set("DynamicAuthEditAdvancedComponent",this.form.valid),this.dynamicAuthCache.unsavedCache.next({...this.dynamicAuth,options:JSON.stringify(o)})}})}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(y.ze),e.rXU(Gr),e.rXU(Z.I))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-dynamic-auth-other-edit-details"]],decls:2,vars:1,consts:[["id","editDynamicAuthOther"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label","help"],[3,"id","isTraffic","isAlt"],["id","SkipUnrecognizedRequests","formControlName","skipUnrecognizedRequests","type","checkbox",1,"tw-form-switch__input"],[3,"id","label","help","isLast"],["id","DisableTelemetry","formControlName","disableTelemetry","type","checkbox",1,"tw-form-switch__input"]],template:function(o,l){1&o&&(e.j41(0,"div",0),e.DNE(1,a0,7,14,"form",1),e.k0s()),2&o&&(e.R7$(),e.Y8G("ngIf",l.form))},dependencies:[fn.bT,y.qT,y.Zm,y.BC,y.cb,y.j4,y.JD,ce.Y,Ua.m],encapsulation:2})}}return r})();function kb(r,d){1&r&&e.nrm(0,"app-custom-tab",2),2&r&&e.Y8G("tabTitle","Common.Request")("tabValue","request")}function HI(r,d){1&r&&e.nrm(0,"app-custom-tab",2),2&r&&e.Y8G("tabTitle","Common.SignOut")("tabValue","signOut")}function Nb(r,d){1&r&&e.nrm(0,"app-custom-tab",2),2&r&&e.Y8G("tabTitle","Common.Metadata")("tabValue","metadata")}function ed(r,d){1&r&&e.nrm(0,"app-custom-tab",2),2&r&&e.Y8G("tabTitle","Common.Tokens")("tabValue","tokens")}function WI(r,d){1&r&&e.nrm(0,"app-custom-tab",2),2&r&&e.Y8G("tabTitle","Common.Other")("tabValue","other")}let l0=(()=>{class r{constructor(t){this.configService=t}ngOnInit(){this.configService.getConfig().subscribe({next:t=>{this.isRskDynamicAuth=t.featureFlagOptions.dynamicAuthenticationFlag==Wa.U.Rsk}})}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(Gs.w))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-dynamic-auth-advanced"]],decls:9,vars:9,consts:[[3,"pillMode","hidden"],[3,"tabTitle","tabValue",4,"ngIf"],[3,"tabTitle","tabValue"],["id","dynamicAuthAdvanced"]],template:function(o,l){1&o&&(e.j41(0,"app-custom-tabs",0),e.DNE(1,kb,1,2,"app-custom-tab",1),e.nrm(2,"app-custom-tab",2),e.DNE(3,HI,1,2,"app-custom-tab",1)(4,Nb,1,2,"app-custom-tab",1)(5,ed,1,2,"app-custom-tab",1)(6,WI,1,2,"app-custom-tab",1),e.k0s(),e.j41(7,"div",3),e.nrm(8,"router-outlet"),e.k0s()),2&o&&(e.Y8G("pillMode",!0)("hidden",!l.isRskDynamicAuth),e.R7$(),e.Y8G("ngIf",l.isRskDynamicAuth),e.R7$(),e.Y8G("tabTitle","Common.Claims")("tabValue","claims"),e.R7$(),e.Y8G("ngIf",l.isRskDynamicAuth),e.R7$(),e.Y8G("ngIf",l.isRskDynamicAuth),e.R7$(),e.Y8G("ngIf",l.isRskDynamicAuth),e.R7$(),e.Y8G("ngIf",l.isRskDynamicAuth))},dependencies:[Ct.n3,fn.bT,nn.G,_n.v],encapsulation:2})}}return r})();function c0(r,d){if(1&r&&(e.j41(0,"form",2)(1,"app-form-row",3),e.nrm(2,"input",4),e.k0s(),e.j41(3,"app-form-row",3),e.nrm(4,"input",5),e.k0s(),e.j41(5,"app-form-row",6),e.nrm(6,"input",7),e.k0s()()),2&r){const t=e.XpG();e.Y8G("formGroup",t.form),e.R7$(),e.Y8G("id","RemoteSignOutPath")("label","DynamicAuth.RemoteSignOutPath.Label"),e.R7$(2),e.Y8G("id","SignedOutRedirectUri")("label","DynamicAuth.SignedOutRedirectUri.Label"),e.R7$(2),e.Y8G("id","SignedOutCallbackPath")("label","DynamicAuth.SignedOutCallbackPath.Label")("isLast",!0)}}let ZA=(()=>{class r{get ReadOnlyFieldType(){return ar.t}constructor(t,o,l){this.fb=t,this.dynamicAuthCache=o,this.errorService=l}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,Jt.$)()).subscribe({next:t=>{this.dynamicAuth=t,this.oidcOptions=fo(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges()},error:t=>{this.errorService.handleError(t)}})}buildForm(){this.form=this.fb.group({remoteSignOutPath:[this.oidcOptions.remoteSignOutPath,[y.k0.required,Fl()]],signedOutRedirectUri:[this.oidcOptions.signedOutRedirectUri,[y.k0.required,Fl()]],signedOutCallbackPath:[this.oidcOptions.signedOutCallbackPath,[y.k0.required,Fl()]]})}subscribeToValueChanges(){this.form.valueChanges.subscribe({next:t=>{let o={...this.oidcOptions,remoteSignOutPath:this.form.get("remoteSignOutPath").value,signedOutRedirectUri:this.form.get("signedOutRedirectUri").value,signedOutCallbackPath:this.form.get("signedOutCallbackPath").value};this.dynamicAuthCache.componentDirtyValidMap.set("DynamicAuthEditAdvancedComponent",this.form.valid),this.dynamicAuthCache.unsavedCache.next({...this.dynamicAuth,options:JSON.stringify(o)})}})}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(y.ze),e.rXU(Gr),e.rXU(Z.I))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-dynamic-auth-signout-edit-details"]],decls:2,vars:1,consts:[["id","editDynamicAuthSignOut"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label"],["type","text","name","RemoteSignOutPath","id","RemoteSignOutPath","formControlName","remoteSignOutPath","required","",1,"tw-form-control"],["type","text","name","SignedOutRedirectUri","id","SignedOutRedirectUri","formControlName","signedOutRedirectUri","required","",1,"tw-form-control"],[3,"id","label","isLast"],["type","text","name","SignedOutCallbackPath","id","SignedOutCallbackPath","formControlName","signedOutCallbackPath","required","",1,"tw-form-control"]],template:function(o,l){1&o&&(e.j41(0,"div",0),e.DNE(1,c0,7,8,"form",1),e.k0s()),2&o&&(e.R7$(),e.Y8G("ngIf",l.form))},dependencies:[fn.bT,y.qT,y.me,y.BC,y.cb,y.YS,y.j4,y.JD,ce.Y],encapsulation:2})}}return r})();const Ob=r=>[r];function zI(r,d){if(1&r&&(e.j41(0,"app-form-row",1),e.nrm(1,"app-readonly",2),e.k0s()),2&r){const t=e.XpG();e.Y8G("id","MapInboundClaims")("label","DynamicAuth.MapInboundClaims.Label")("help","DynamicAuth.MapInboundClaims.Help")("isLast",!0),e.R7$(),e.Y8G("fieldType",t.ReadOnlyFieldType.Single)("values",e.eq3(6,Ob,t.optionsDictionary.mapInboundClaims))}}let KI=(()=>{class r{get ReadOnlyFieldType(){return ar.t}constructor(t,o){this.configService=t,this.dynamicAuthCache=o}ngOnInit(){(0,Yg.z)([this.dynamicAuthCache.unsavedCache$.pipe((0,Jt.$)()),this.configService.getConfig().pipe((0,Jt.$)())]).subscribe({next:([t,o])=>{this.optionsDictionary=new ea.b(fo(t.options)),this.isRskDynamicAuth=o.featureFlagOptions.dynamicAuthenticationFlag==Wa.U.Rsk}})}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(Gs.w),e.rXU(Gr))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-dynamic-auth-claims-view-details"]],decls:4,vars:9,consts:[["id","viewDynamicAuthClaims"],[3,"id","label","help","isLast"],[3,"fieldType","values"],[3,"id","label","help","isLast",4,"ngIf"]],template:function(o,l){1&o&&(e.j41(0,"div",0)(1,"app-form-row",1),e.nrm(2,"app-readonly",2),e.k0s(),e.DNE(3,zI,2,8,"app-form-row",3),e.k0s()),2&o&&(e.R7$(),e.Y8G("id","GetClaimsFromUserInfoEndpoint")("label","DynamicAuth.GetClaimsFromUserInfoEndpoint.Label")("help","DynamicAuth.GetClaimsFromUserInfoEndpoint.Help")("isLast",!l.isRskDynamicAuth),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(7,Ob,l.optionsDictionary.getClaimsFromUserInfoEndpoint)),e.R7$(),e.Y8G("ngIf",l.isRskDynamicAuth))},dependencies:[fn.bT,ce.Y,Fs.O],encapsulation:2})}}return r})();const Jf=r=>[r];let Fb=(()=>{class r{get ReadOnlyFieldType(){return ar.t}constructor(t){this.dynamicAuthCache=t}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,Jt.$)()).subscribe({next:t=>{this.optionsDictionary=new ea.b(fo(t.options))}})}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(Gr))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-dynamic-auth-signout-view-details"]],decls:7,vars:19,consts:[["id","viewDynamicAuthSignOut"],[3,"id","label"],[3,"fieldType","values"],[3,"id","label","isLast"]],template:function(o,l){1&o&&(e.j41(0,"div",0)(1,"app-form-row",1),e.nrm(2,"app-readonly",2),e.k0s(),e.j41(3,"app-form-row",1),e.nrm(4,"app-readonly",2),e.k0s(),e.j41(5,"app-form-row",3),e.nrm(6,"app-readonly",2),e.k0s()()),2&o&&(e.R7$(),e.Y8G("id","RemoteSignOutPath")("label","DynamicAuth.RemoteSignOutPath.Label"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(13,Jf,l.optionsDictionary.remoteSignOutPath)),e.R7$(),e.Y8G("id","SignedOutRedirectUri")("label","DynamicAuth.SignedOutRedirectUri.Label"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(15,Jf,l.optionsDictionary.signedOutRedirectUri)),e.R7$(),e.Y8G("id","SignedOutCallbackPath")("label","DynamicAuth.SignedOutCallbackPath.Label")("isLast",!0),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(17,Jf,l.optionsDictionary.signedOutCallbackPath)))},dependencies:[ce.Y,Fs.O],encapsulation:2})}}return r})();const Pb=r=>[r];let Bb=(()=>{class r{get ReadOnlyFieldType(){return ar.t}constructor(t){this.dynamicAuthCache=t}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,Jt.$)()).subscribe({next:t=>{this.optionsDictionary=new ea.b(fo(t.options))}})}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(Gr))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-dynamic-auth-metadata-view-details"]],decls:5,vars:15,consts:[["id","viewDynamicAuthMetadata"],[3,"id","label","help"],[3,"fieldType","values"],[3,"id","label","help","isLast"]],template:function(o,l){1&o&&(e.j41(0,"div",0)(1,"app-form-row",1),e.nrm(2,"app-readonly",2),e.k0s(),e.j41(3,"app-form-row",3),e.nrm(4,"app-readonly",2),e.k0s()()),2&o&&(e.R7$(),e.Y8G("id","RefreshOnIssuerKeyNotFound")("label","DynamicAuth.RefreshOnIssuerKeyNotFound.Label")("help","DynamicAuth.RefreshOnIssuerKeyNotFound.Help"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(11,Pb,l.optionsDictionary.refreshOnIssuerKeyNotFound)),e.R7$(),e.Y8G("id","MetadataRefreshInterval")("label","DynamicAuth.MetadataRefreshInterval.Label")("help","DynamicAuth.MetadataRefreshInterval.Help")("isLast",!0),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(13,Pb,l.optionsDictionary.metadataRefreshInterval)))},dependencies:[ce.Y,Fs.O],encapsulation:2})}}return r})();const u0=r=>[r];let YI=(()=>{class r{get ReadOnlyFieldType(){return ar.t}constructor(t){this.dynamicAuthCache=t}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,Jt.$)()).subscribe({next:t=>{this.optionsDictionary=new ea.b(fo(t.options))}})}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(Gr))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-dynamic-auth-tokens-view-details"]],decls:5,vars:15,consts:[["id","viewDynamicAuthTokens"],[3,"id","label","help"],[3,"fieldType","values"],[3,"id","label","help","isLast"]],template:function(o,l){1&o&&(e.j41(0,"div",0)(1,"app-form-row",1),e.nrm(2,"app-readonly",2),e.k0s(),e.j41(3,"app-form-row",3),e.nrm(4,"app-readonly",2),e.k0s()()),2&o&&(e.R7$(),e.Y8G("id","SaveTokens")("label","DynamicAuth.SaveTokens.Label")("help","DynamicAuth.SaveTokens.Help"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(11,u0,l.optionsDictionary.saveTokens)),e.R7$(),e.Y8G("id","UseTokenLifetime")("label","DynamicAuth.UseTokenLifetime.Label")("help","DynamicAuth.UseTokenLifetime.Help")("isLast",!0),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(13,u0,l.optionsDictionary.useTokenLifetime)))},dependencies:[ce.Y,Fs.O],encapsulation:2})}}return r})();const Lb=r=>[r];let Ub=(()=>{class r{get ReadOnlyFieldType(){return ar.t}constructor(t){this.dynamicAuthCache=t}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,Jt.$)()).subscribe({next:t=>{this.optionsDictionary=new ea.b(fo(t.options))}})}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(Gr))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-dynamic-auth-other-view-details"]],decls:5,vars:15,consts:[["id","viewDynamicAuthOther"],[3,"id","label","help"],[3,"fieldType","values"],[3,"id","label","help","isLast"]],template:function(o,l){1&o&&(e.j41(0,"div",0)(1,"app-form-row",1),e.nrm(2,"app-readonly",2),e.k0s(),e.j41(3,"app-form-row",3),e.nrm(4,"app-readonly",2),e.k0s()()),2&o&&(e.R7$(),e.Y8G("id","SkipUnrecognizedRequests")("label","DynamicAuth.SkipUnrecognizedRequests.Label")("help","DynamicAuth.SkipUnrecognizedRequests.Help"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(11,Lb,l.optionsDictionary.skipUnrecognizedRequests)),e.R7$(),e.Y8G("id","DisableTelemetry")("label","DynamicAuth.DisableTelemetry.Label")("help","DynamicAuth.DisableTelemetry.Help")("isLast",!0),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(13,Lb,l.optionsDictionary.disableTelemetry)))},dependencies:[ce.Y,Fs.O],encapsulation:2})}}return r})();var XI=p(7970),Vb=p(2292);function jb(r,d){if(1&r){const t=e.RV6();e.j41(0,"div",6)(1,"div",7),e.nrm(2,"input",8),e.j41(3,"button",9),e.bIt("click",function(){e.eBV(t);const l=e.XpG();return e.Njj(l.onAdd())}),e.nrm(4,"span",10),e.j41(5,"span",11),e.EFF(6),e.nI1(7,"translate"),e.k0s()()()()}if(2&r){const t=e.XpG();e.R7$(2),e.FS9("id",t.id+"-newValue-input"),e.R7$(),e.FS9("id",t.id+"-newValue-button"),e.Y8G("disabled",t.addDisabled),e.R7$(3),e.JRh(e.bMT(7,4,"Common.Add"))}}function $b(r,d){if(1&r){const t=e.RV6();e.j41(0,"app-pill-list",12),e.bIt("onDelete",function(l){e.eBV(t);const C=e.XpG();return e.Njj(C.onDelete(l))}),e.k0s()}if(2&r){const t=e.XpG();e.Y8G("readonly",t.reserved)("id",t.id)("values",t.value)}}function Gb(r,d){if(1&r&&(e.j41(0,"span",13),e.EFF(1),e.k0s()),2&r){const t=e.XpG();e.R7$(),e.JRh(t.valueLimitMsg)}}function JI(r,d){if(1&r&&(e.j41(0,"span",14),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r){const t=d.$implicit;e.R7$(),e.Lme("",t.key,": ",e.bMT(2,2,t.value),"")}}let QI=(()=>{class r{get newValue(){return this.form.get("newValue")?.value}set newValue(t){this.form.get("newValue").setValue(t)}get errors(){let t=this.form.get("newValue");return t.dirty?t?.errors??[]:[]}get valueLimitMsg(){return this.tranlate.instant("Errors.PillListLimitReached",[this.value.length,this.valueLimit])}constructor(t,o){this.fb=t,this.tranlate=o,this.id=(0,Mi.Nl)(),this.value=[],this.required=!1,this.disabled=!1,this.reserved=!1,this.valueLimit=50,this.validators=[],this.onChange=l=>{},this.onTouched=()=>{}}ngOnInit(){this.form=this.fb.group({newValue:["",this.validators]})}writeValue(t){this.value=t}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t}validate(t){return!this.required||this.value?.length?null:{required:{valid:!1}}}get addDisabled(){return this.isNullOrEmpty(this.newValue)||this.value.includes(this.newValue)||this.form.get("newValue").invalid}onAdd(){this.newValue&&(this.value.push(this.newValue),this.onChange(this.value),this.newValue="",this.form.markAsPristine())}onDelete(t){this.value.splice(t,1),this.onChange(this.value)}isNullOrEmpty(t){return!t||null!==t.match(/^ *$/)}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(y.ze),e.rXU(bn.c$))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-freetext-list-input"]],inputs:{id:"id",value:"value",required:"required",disabled:"disabled",reserved:"reserved",valueLimit:"valueLimit",validators:"validators"},features:[e.Jv_([{provide:y.kq,useExisting:(0,e.Rfq)(()=>r),multi:!0},{provide:y.cz,useExisting:(0,e.Rfq)(()=>r),multi:!0}])],decls:8,vars:7,consts:[[3,"formGroup"],["class","tw-form-row",4,"ngIf"],[1,"tw-pill-list","tw-mb-5"],[3,"readonly","id","values","onDelete",4,"ngIf"],["id","too-many-values",4,"ngIf"],["class","tw-alert-danger tw-mb-4","role","alert",4,"ngFor","ngForOf"],[1,"tw-form-row"],[1,"tw-flex","tw-w-full","lg:tw-max-w-2xl"],["type","text","formControlName","newValue",1,"tw-form-control","tw-rounded-r-none","tw-border-r-0",3,"id"],[1,"tw-btn","tw-rounded-l-none",3,"click","id","disabled"],["aria-hidden","true",1,"far","fa-plus"],[1,"sr-only"],[3,"onDelete","readonly","id","values"],["id","too-many-values"],["role","alert",1,"tw-alert-danger","tw-mb-4"]],template:function(o,l){1&o&&(e.j41(0,"form",0),e.DNE(1,jb,8,6,"div",1),e.j41(2,"div",2),e.DNE(3,$b,1,3,"app-pill-list",3)(4,Gb,2,1,"span",4),e.k0s(),e.j41(5,"div"),e.DNE(6,JI,3,4,"span",5),e.nI1(7,"keyvalue"),e.k0s()()),2&o&&(e.Y8G("formGroup",l.form),e.R7$(),e.Y8G("ngIf",!l.reserved),e.R7$(2),e.Y8G("ngIf",l.value.length<=l.valueLimit||!l.reserved),e.R7$(),e.Y8G("ngIf",l.value.length>l.valueLimit&&l.reserved),e.R7$(2),e.Y8G("ngForOf",e.bMT(7,5,l.errors)))},dependencies:[fn.Sq,fn.bT,y.qT,y.me,y.BC,y.cb,y.j4,y.JD,Vb.L,fn.lG,bn.D9],encapsulation:2})}}return r})();function qA(r,d){if(1&r&&(e.j41(0,"li",21)(1,"label",22),e.nrm(2,"input",23),e.j41(3,"span"),e.EFF(4),e.nI1(5,"translate"),e.k0s()()()),2&r){const t=d.$implicit,o=e.XpG(2);e.Y8G("id",t.value+"-prompt"),e.R7$(),e.Y8G("for",t.value+"-checkbox"),e.R7$(),e.Y8G("id",t.value+"-checkbox")("formControlName",t.value),e.BMQ("disabled",o.promptDisabled(t.value)),e.R7$(2),e.JRh(e.bMT(5,6,t.displayName))}}function Hb(r,d){1&r&&e.nrm(0,"app-freetext-list-input",24)}function eR(r,d){if(1&r){const t=e.RV6();e.j41(0,"form",2)(1,"app-form-row",3)(2,"app-row-bar",4)(3,"app-state-toggle",5),e.bIt("newValue",function(l){e.eBV(t);const C=e.XpG();return e.Njj(C.updateResponseMode(l))}),e.k0s(),e.j41(4,"a",6),e.nrm(5,"span",7),e.j41(6,"span",8),e.EFF(7),e.nI1(8,"translate"),e.k0s()()()(),e.j41(9,"app-form-row",3)(10,"ul",9),e.DNE(11,qA,6,8,"li",10),e.j41(12,"li",11)(13,"label",12),e.nrm(14,"input",13),e.j41(15,"span"),e.EFF(16),e.nI1(17,"translate"),e.k0s()()()(),e.nrm(18,"br"),e.DNE(19,Hb,1,0,"app-freetext-list-input",14),e.j41(20,"p",15)(21,"span",16),e.EFF(22,"Preview:"),e.k0s(),e.j41(23,"span",17)(24,"span",18),e.EFF(25),e.k0s()()()(),e.j41(26,"app-form-row",19),e.nrm(27,"app-freetext-list-input",20),e.k0s()()}if(2&r){const t=e.XpG();e.Y8G("formGroup",t.form),e.R7$(),e.Y8G("id","ResponseMode")("label","DynamicAuth.ResponseMode.Label")("help","DynamicAuth.ResponseMode.Help"),e.R7$(2),e.Y8G("id","ResponseMode")("options",t.responseModeOptions)("value",t.form.get("responseMode").value),e.R7$(),e.Y8G("href",t.LinkConstants.AdvOthDynamicAuth,e.B4B),e.R7$(3),e.JRh(e.bMT(8,22,"Common.Help")),e.R7$(2),e.Y8G("id","Prompt")("label","DynamicAuth.Prompt.Label")("help","DynamicAuth.Prompt.Help"),e.R7$(2),e.Y8G("ngForOf",t.promptOptions),e.R7$(3),e.BMQ("disabled",t.promptDisabled("")),e.R7$(2),e.JRh(e.bMT(17,24,"DynamicAuth.Prompt.Values.Other")),e.R7$(3),e.Y8G("ngIf",t.form.get("useOther").value&&!t.promptDisabled("other")),e.R7$(6),e.SpI(" '",t.generatePromptString(),"' "),e.R7$(),e.Y8G("id","Resource")("label","DynamicAuth.Resource.Label")("help","DynamicAuth.Resource.Help")("isLast",!0),e.R7$(),e.Y8G("validators",t.ResourceValidators)}}class d0{constructor(d,t){this.displayName=d,this.value=t}}let tR=(()=>{class r{get ReadOnlyFieldType(){return ar.t}get LinkConstants(){return dr}get ResourceValidators(){return[FT]}constructor(t,o,l){this.fb=t,this.dynamicAuthCache=o,this.errorService=l,this.responseModeOptions=Object.keys(iu).filter(C=>isNaN(Number(C))),this.promptOptions=[new d0("DynamicAuth.Prompt.Values.None","none"),new d0("DynamicAuth.Prompt.Values.Login","login"),new d0("DynamicAuth.Prompt.Values.Consent","consent"),new d0("DynamicAuth.Prompt.Values.SelectAccount","select_account")]}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,Jt.$)()).subscribe({next:t=>{this.dynamicAuth=t,this.oidcOptions=fo(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges()},error:t=>{this.errorService.handleError(t)}})}buildForm(){let t=vs.ResponseModeMap.get(this.oidcOptions.responseMode);const o=this.promptOptions.map(me=>me.value),l=(0,Mi.hr)(this.oidcOptions.prompt),C=l.filter(me=>!o.includes(me));let $={responseMode:[iu[t],[]],resource:[(0,Mi.hr)(this.oidcOptions.resource),[]],useOther:[C.length>0,[]],otherPrompts:[C,[]]};for(let me of this.promptOptions)$[me.value]=[l?.includes(me.value)??!1,[]];this.form=this.fb.group($)}subscribeToValueChanges(){this.formChange=this.form.valueChanges.subscribe({next:t=>{let o=iu[this.form.get("responseMode").value],l=vs.ResponseModeKey(o),C={...this.oidcOptions,responseMode:l,prompt:this.generatePromptString(),resource:(0,Mi.Nj)(this.form.get("resource").value)};this.dynamicAuthCache.componentDirtyValidMap.set("DynamicAuthEditAdvancedComponent",this.form.valid),this.dynamicAuthCache.unsavedCache.next({...this.dynamicAuth,options:JSON.stringify(C)})}})}generatePromptString(){let t=[];if(this.form.get("none").value)return"none";for(let o of this.promptOptions)this.form.get(o.value).value&&t.push(o.value);return this.form.get("useOther").value&&this.form.get("otherPrompts").value.forEach(o=>t.push(o)),(0,Mi.Nj)(t)}promptDisabled(t){const o=this.form.get("none").value;return!("none"===t||!o)||null}updateResponseMode(t){this.form.get("responseMode").setValue(t)}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(y.ze),e.rXU(Gr),e.rXU(Z.I))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-dynamic-auth-request-edit-details"]],decls:2,vars:1,consts:[["id","editDynamicAuthRequest"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label","help"],[1,"tw-form-input"],["left","",3,"newValue","id","options","value"],["type","button","target","_blank","right","",1,"tw-btn-link","tw-btn","tw-pt-0","group-hover:tw-text-blue-500",3,"href"],[1,"far","fa-question-circle","tw-w-15","tw-h-15"],[1,"sr-only"],[1,"tw-form-checks"],["class","tw-form-checks__item",3,"id",4,"ngFor","ngForOf"],["id","other-prompt",1,"tw-form-checks__item"],["for","other-checkbox",1,"tw-form-checks__label"],["id","other-checkbox","name","otherPrompt","type","checkbox","formControlName","useOther",1,"tw-form-checks__input"],["id","Prompt","formControlName","otherPrompts",4,"ngIf"],["id","promp-preview",1,"tw-form-text","tw-flex","tw-items-center"],[1,"tw-mr-2","tw--mt-px"],[1,"tw-flex","tw-flex-wrap"],[1,"tw-mr-2"],[3,"id","label","help","isLast"],["id","Resource","formControlName","resource",3,"validators"],[1,"tw-form-checks__item",3,"id"],[1,"tw-form-checks__label",3,"for"],["name","noneCheckBox","type","checkbox",1,"tw-form-checks__input",3,"id","formControlName"],["id","Prompt","formControlName","otherPrompts"]],template:function(o,l){1&o&&(e.j41(0,"div",0),e.DNE(1,eR,28,26,"form",1),e.k0s()),2&o&&(e.R7$(),e.Y8G("ngIf",l.form))},dependencies:[fn.Sq,fn.bT,y.qT,y.Zm,y.BC,y.cb,y.j4,y.JD,ce.Y,Ug.f,XI.j,QI,bn.D9],encapsulation:2})}}return r})();const Wb=r=>[r];let nR=(()=>{class r{get ReadOnlyFieldType(){return ar.t}constructor(t){this.dynamicAuthCache=t}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,Jt.$)()).subscribe({next:t=>{this.optionsDictionary=new ea.b(fo(t.options))}})}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(Gr))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-dynamic-auth-request-view-details"]],decls:7,vars:22,consts:[["id","viewDynamicAuthOther"],[3,"id","label","help"],[3,"fieldType","values"],[3,"id","label","help","isLast"]],template:function(o,l){1&o&&(e.j41(0,"div",0)(1,"app-form-row",1),e.nrm(2,"app-readonly",2),e.k0s(),e.j41(3,"app-form-row",1),e.nrm(4,"app-readonly",2),e.k0s(),e.j41(5,"app-form-row",3),e.nrm(6,"app-readonly",2),e.k0s()()),2&o&&(e.R7$(),e.Y8G("id","ResponseMode")("label","DynamicAuth.ResponseMode.Label")("help","DynamicAuth.ResponseMode.Help"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(16,Wb,l.optionsDictionary.responseMode)),e.R7$(),e.Y8G("id","Prompt")("label","DynamicAuth.Prompt.Label")("help","DynamicAuth.Prompt.Help"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(18,Wb,l.optionsDictionary.prompt)),e.R7$(),e.Y8G("id","Resource")("label","DynamicAuth.Resource.Label")("help","DynamicAuth.Resource.Help")("isLast",!0),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(20,Wb,l.optionsDictionary.resource)))},dependencies:[ce.Y,Fs.O],encapsulation:2})}}return r})();const ZI=[{path:"dynamic-auth",component:H_,canActivate:[Ar.h,Lr._,s0,qu.q],data:{permissions:[Yn.a[Yn.a.IdentityServerManager],Yn.a[Yn.a.IdentityServerManagerReadOnly],Yn.a[Yn.a.AllReadOnly],Yn.a[Yn.a.All]]}},{path:"dynamic-auth/:Scheme",component:pb,children:[{path:"",redirectTo:"details",pathMatch:"full"},{path:"details",component:J_},{path:"scopes",component:ob},{path:"advanced",component:l0,children:[{path:"request",component:tR},{path:"claims",component:$I},{path:"signOut",component:ZA},{path:"metadata",component:Xf},{path:"tokens",component:xb},{path:"other",component:QA}]},{path:"sp",component:AI,children:[{path:"details",component:Xg},{path:"request",component:Zg},{path:"response",component:DI}]},{path:"idp",component:ib,children:[{path:"details",component:tb},{path:"advanced",component:q_}]}],resolve:{dynamicAuth:Tc},canDeactivate:[Wo.M],canActivate:[Ar.h,Lr._,s0,qu.q],data:{permissions:[Yn.a[Yn.a.IdentityServerManager],Yn.a[Yn.a.All]]}},{path:"dynamic-auth/view/:Scheme",component:r0,children:[{path:"",redirectTo:"details",pathMatch:"full"},{path:"details",component:_b},{path:"scopes",component:NI},{path:"advanced",component:l0,children:[{path:"request",component:nR},{path:"claims",component:KI},{path:"signOut",component:Fb},{path:"metadata",component:Bb},{path:"tokens",component:YI},{path:"other",component:Ub}]},{path:"sp",component:_h,children:[{path:"details",component:YA},{path:"request",component:Rb},{path:"response",component:OI}]},{path:"idp",component:Sb,children:[{path:"details",component:yh},{path:"advanced",component:kI}]}],resolve:{dynamicAuth:Tc},canActivate:[Ar.h,Lr._,s0,qu.q],data:{permissions:[Yn.a[Yn.a.IdentityServerManager],Yn.a[Yn.a.IdentityServerManagerReadOnly],Yn.a[Yn.a.AllReadOnly],Yn.a[Yn.a.All]]}}];let iR=(()=>{class r{static{this.\u0275fac=function(o){return new(o||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({imports:[Ct.iI.forChild(ZI),$i.XE.forChild(ZI),Ct.iI]})}}return r})();var rR=p(3843);let zb=(()=>{class r{static{this.\u0275fac=function(o){return new(o||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({imports:[fn.MD,y.YN,y.X1,cc.w,bn.h,rR.G]})}}return r})(),sR=(()=>{class r{static{this.\u0275fac=function(o){return new(o||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({providers:[Tc,Ah.R,cd.c,gd.z,w1.d,vp.S,gp._,Mh,xc.V,nu,Gr,Gs.w,ru,Ol],imports:[iR,fn.MD,Ct.iI,y.YN,lc.Y,y.X1,bt.jr,Pg.W,De.Ss,Tt.Q_,Ur.z,Eh.A,bn.h,lu.p,$i.XE,O0.F,mf.M,Fp,ld.m,Ba.c,To.c,La.E,co.h,cc.w,uc.N,fp.f,El.Y,N0.l,c_.Q,_o.i,Yr.qP,u_.U,Ih.N,zb]})}}return r})();var h0=p(9624),Kb=p(2633),wh=p(3730);let Qf=(()=>{class r{static{this.\u0275fac=function(o){return new(o||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({providers:[od.v],imports:[fn.MD,y.YN,y.X1,Tt.Q_,lc.Y,Ct.iI,bn.h,lu.p,$i.XE,ld.m,_o.i,Ba.c,Th.t,To.c,Pg.W,La.E,cc.w,Ih.N,uc.N]})}}return r})();var qI=p(2509),eD=p(7101);let Yb=(()=>{class r{static{this.\u0275fac=function(o){return new(o||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({imports:[fn.MD,Ct.iI,lc.Y,bn.h,$i.XE,Hu]})}}return r})(),tD=(()=>{class r{static{this.\u0275fac=function(o){return new(o||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({providers:[l_.F,ff.n,Es.D,li.i,Ar.h,Lr._,qu.q,df.a,Kb.g,fs.P,ad.m,ze.X,Bt.Vk,Su.M,od.v,um.R,$i.QG,hs.M,Sc,bn.c$,Fc.X,Gs.w,pf.B,Z.I,Rh.D,o_.x,Wf],imports:[fn.MD,y.YN,y.X1,Hn,w.q1,lc.Y,eD.UsersModule,Qf,h0.StarterModeModule,lu.p,k0.P,Tt.Q_.forRoot(),bt.jr.forRoot(),De.Ss.forRoot(),Xe.h6.forRoot(),wh.ClaimTypesModule,Zn._B.forRoot(),qI.SettingsModule,mf.M,xT,To.c,co.h,uc.N,cc.w,El.Y,bn.h,Ct.iI,$i.XE,Yb,Hu]})}}return r})();var nD=p(4861),iD=p(1258),rD=p(4754),Xb=p(3899);const Jb=r=>[r],Qb=r=>({showUpgrade:r});function sD(r,d){1&r&&e.eu8(0)}function oD(r,d){if(1&r&&(e.j41(0,"button",4),e.nI1(1,"localize"),e.EFF(2),e.DNE(3,sD,1,0,"ng-container",5),e.k0s()),2&r){const t=e.XpG(2),o=e.sdS(2);e.HbH(t.btnClasses),e.Y8G("routerLinkActive",t.activeClass)("routerLink",e.eq3(9,Jb,e.bMT(1,7,t.route))),e.R7$(2),e.SpI(" ",t.title," "),e.R7$(),e.Y8G("ngTemplateOutlet",o)("ngTemplateOutletContext",e.eq3(11,Qb,t.showUpgrade))}}function aD(r,d){1&r&&e.eu8(0)}function lD(r,d){if(1&r&&(e.j41(0,"button",6),e.nI1(1,"localize"),e.EFF(2),e.DNE(3,aD,1,0,"ng-container",5),e.k0s()),2&r){const t=e.XpG(2),o=e.sdS(2);e.HbH(t.btnClasses),e.Y8G("routerLinkActive",t.activeClass)("routerLink",e.eq3(9,Jb,e.bMT(1,7,t.route))),e.R7$(2),e.SpI(" ",t.title," "),e.R7$(),e.Y8G("ngTemplateOutlet",o)("ngTemplateOutletContext",e.eq3(11,Qb,t.showUpgrade))}}function cD(r,d){if(1&r&&(e.j41(0,"li",2),e.DNE(1,oD,4,13,"button",3)(2,lD,4,13),e.k0s()),2&r){const t=e.XpG();e.HbH(t.classes),e.Y8G("id",t.id),e.R7$(),e.vxM(1,t.sub?1:2)}}function uD(r,d){1&r&&(e.j41(0,"div",7)(1,"span",8),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.nrm(4,"span",9),e.k0s()),2&r&&(e.R7$(2),e.JRh(e.bMT(3,1,"StarterMode.RequiresUpgrade")))}function dD(r,d){1&r&&e.DNE(0,uD,5,3,"div",7),2&r&&e.vxM(0,d.showUpgrade?0:-1)}let Zb=(()=>{class r{constructor(){this.showUpgrade=!1}get btnClasses(){const t="tw-nav tw-flex tw-items-center tw-text-primary-200 tw-relative tw-truncate hover:tw-text-white focus:tw-text-white";return this.sub?`${t} tw-text-sm tw-font-normal tw-px-8 tw-py-3 lg:tw-px-6 xl:tw-px-8`:`${t} tw-font-semibold tw-h-header tw-px-4 lg:tw-px-6 xl:tw-px-8`}static{this.\u0275fac=function(o){return new(o||r)}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-nav-item"]],inputs:{id:"id",title:"title",classes:"classes",activeClass:"activeClass",sub:"sub",route:"route",display:"display",showUpgrade:"showUpgrade"},decls:3,vars:1,consts:[["upgradeSymbol",""],[3,"class","id"],[3,"id"],["ngbDropdownItem","",3,"class","routerLinkActive","routerLink"],["ngbDropdownItem","",3,"routerLinkActive","routerLink"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"routerLinkActive","routerLink"],[1,"upgradeSymbol","tw-text-secondary-500","tw-text-sm","tw-pl-1","tw-font-normal","tw-py-3","lg:tw-px-1"],[1,"sr-only"],["aria-hidden","true",1,"far","fa-arrow-alt-circle-up"]],template:function(o,l){1&o&&e.DNE(0,cD,3,4,"li",1)(1,dD,1,1,"ng-template",null,0,e.C5r),2&o&&e.vxM(0,l.display?0:-1)},dependencies:[fn.T3,Ct.Wk,Ct.wQ,Gu,Vf,bn.D9,$i.tl],encapsulation:2})}}return r})();const hD=["sameSiteBrowserNotification"],fD=["defaultUserResolveButton"],pD=[[["","navigation",""]]],qb=["[navigation]"],f0=r=>({text:"IdentityServer",check:r}),mD=(r,d)=>({"tw-opacity-75":r,"tw-pill-info":d}),p0=r=>[r],m0=(r,d)=>({"tw-text-sm tw-font-normal tw-px-8 tw-py-3 lg:tw-px-6 xl:tw-px-8":r,"tw-font-semibold tw-h-header tw-px-4 lg:tw-px-6 xl:tw-px-8":d});function gD(r,d){if(1&r){const t=e.RV6();e.j41(0,"div",20,3)(2,"div",21)(3,"div",22)(4,"div",23)(5,"div",24)(6,"b",25),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"button",26),e.bIt("click",function(){e.eBV(t);const l=e.XpG(2);return e.Njj(l.closeSameSiteBrowserNotification())}),e.j41(10,"b"),e.EFF(11),e.nI1(12,"translate"),e.k0s()()()()()()()}2&r&&(e.R7$(7),e.SpI(" ",e.bMT(8,2,"Common.SameSiteCookiesBannerError")," "),e.R7$(4),e.JRh(e.bMT(12,4,"Common.Close")))}function eC(r,d){if(1&r){const t=e.RV6();e.j41(0,"div",27)(1,"div",21)(2,"div",22)(3,"div",23)(4,"div",24)(5,"b",25),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"button",28,4),e.bIt("click",function(){e.eBV(t);const l=e.XpG(2);return e.Njj(l.defaultUserDeleteConfirmation())}),e.j41(10,"b"),e.EFF(11),e.nI1(12,"translate"),e.k0s()()()()()()()}2&r&&(e.R7$(6),e.SpI(" ",e.bMT(7,2,"InitialAdminCreation.ReminderMessage")," "),e.R7$(5),e.JRh(e.bMT(12,4,"InitialAdminCreation.Resolve")))}function oR(r,d){if(1&r&&(e.j41(0,"div",29)(1,"div",21)(2,"div",22)(3,"div",23)(4,"div",30)(5,"b",25),e.EFF(6),e.k0s()()()()()()),2&r){const t=e.XpG(2);e.R7$(6),e.SpI(" ",t.licenseIsInStarterModeMessage," ")}}function vD(r,d){if(1&r&&(e.j41(0,"div",31)(1,"div",21)(2,"div",22)(3,"div",23)(4,"div",24)(5,"b",25),e.EFF(6),e.k0s()()()()()()),2&r){const t=e.XpG(2);e.R7$(6),e.SpI(" ",t.licenseIsInGracePeriodMessage," ")}}function tC(r,d){if(1&r&&(e.j41(0,"div",15),e.DNE(1,gD,13,6,"div",16)(2,eC,13,6,"div",17)(3,oR,7,1,"div",18)(4,vD,7,1,"div",19),e.k0s()),2&r){const t=e.XpG();e.R7$(),e.Y8G("ngIf",t.noSameSiteSupport),e.R7$(),e.Y8G("ngIf",t.defaultUserExists),e.R7$(),e.Y8G("ngIf",t.licenseIsInStarterMode),e.R7$(),e.Y8G("ngIf",t.licenseIsInGracePeriod)}}function nC(r,d){if(1&r&&(e.j41(0,"div",40),e.EFF(1),e.k0s()),2&r){const t=e.XpG(2);e.Y8G("ngClass",e.l_i(2,mD,t.securityService.isNonProd(),!t.securityService.isNonProd())),e.R7$(),e.SpI(" ",t.securityService.licenseType," ")}}function yD(r,d){if(1&r){const t=e.RV6();e.j41(0,"nav",32),e.nI1(1,"translate"),e.j41(2,"div",21)(3,"div",33),e.DNE(4,nC,2,5,"div",34),e.j41(5,"div",35),e.nrm(6,"span",36),e.j41(7,"span",37),e.EFF(8),e.k0s(),e.j41(9,"span",38),e.EFF(10,"\u2022"),e.k0s()(),e.j41(11,"button",39),e.bIt("click",function(){e.eBV(t);const l=e.XpG();return e.Njj(l.logoff())}),e.EFF(12),e.nI1(13,"translate"),e.k0s()()()()}if(2&r){const t=e.XpG();e.BMQ("aria-label",e.bMT(1,4,"Nav.Account")),e.R7$(4),e.Y8G("ngIf","Legacy"!=t.securityService.organisation),e.R7$(4),e.JRh(t.authService.user),e.R7$(4),e.SpI(" ",e.bMT(13,6,"Nav.Logout")," ")}}function iC(r,d){1&r&&e.nrm(0,"span",53)}function _D(r,d){1&r&&e.nrm(0,"span",54)}function g0(r,d){1&r&&e.nrm(0,"div",60)}function v0(r,d){if(1&r){const t=e.RV6();e.j41(0,"nav",55),e.DNE(1,g0,1,0,"div",56),e.j41(2,"ul",43),e.nrm(3,"app-nav-item",57),e.nI1(4,"translate"),e.nrm(5,"app-nav-item",57),e.nI1(6,"translate"),e.nrm(7,"app-nav-item",57),e.nI1(8,"translate"),e.nrm(9,"app-nav-item",57),e.nI1(10,"translate"),e.SdG(11),e.nrm(12,"app-nav-item",57),e.nI1(13,"translate"),e.j41(14,"li",58)(15,"button",59),e.bIt("click",function(){e.eBV(t);const l=e.XpG(2);return e.Njj(l.logoff())}),e.EFF(16),e.nI1(17,"translate"),e.k0s()()()()}if(2&r){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",!t.healthCheckService.uiReady),e.R7$(2),e.Y8G("id","app-nav-item-home")("title",e.bMT(4,28,"Nav.Home"))("classes","lg:tw-hidden")("activeClass","tw-nav-active")("route","/home")("display",!0),e.R7$(2),e.Y8G("id","app-nav-item-users")("title",e.bMT(6,30,"Nav.Users"))("activeClass","tw-nav-active")("route","/users")("display",t.securityService.userManagerView||t.securityService.userManagerReadOnlyView),e.R7$(2),e.Y8G("id","app-nav-item-roles")("title",e.bMT(8,32,"Nav.Roles"))("activeClass","tw-nav-active")("route","/roles")("display",t.securityService.userManagerView||t.securityService.userManagerReadOnlyView),e.R7$(2),e.Y8G("id","app-nav-item-claimtypes")("title",e.bMT(10,34,"Nav.ClaimTypes"))("activeClass","tw-nav-active")("route","/claim-types")("display",t.securityService.userManagerView||t.securityService.userManagerReadOnlyView),e.R7$(3),e.Y8G("id","app-nav-item-settings")("title",e.bMT(13,36,"Nav.Settings"))("activeClass","tw-nav-active")("route","/settings/accesspolicy")("display",t.securityService.allView),e.R7$(4),e.SpI(" ",e.bMT(17,38,"Logout")," ")}}function rC(r,d){if(1&r){const t=e.RV6();e.j41(0,"header",41),e.bIt("resize",function(){e.eBV(t);const l=e.XpG();return e.Njj(l.detectSize())},!1,e.tSv),e.j41(1,"div",42)(2,"div",43)(3,"h2",44),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"div",45)(7,"a",46),e.nI1(8,"localize"),e.nrm(9,"img",47),e.j41(10,"span",48),e.EFF(11),e.nI1(12,"translate"),e.k0s()(),e.j41(13,"button",49),e.bIt("click",function(){e.eBV(t);const l=e.XpG();return e.Njj(l.menuToggle())}),e.j41(14,"span",48),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.DNE(17,iC,1,0,"span",50)(18,_D,1,0,"span",51),e.k0s()(),e.DNE(19,v0,18,40,"nav",52),e.k0s()()()}if(2&r){const t=e.XpG();e.R7$(4),e.JRh(e.bMT(5,10,"Nav.Menu")),e.R7$(3),e.Y8G("routerLink",e.eq3(18,p0,e.bMT(8,12,"/home"))),e.R7$(4),e.JRh(e.bMT(12,14,"Nav.Home")),e.R7$(2),e.AVh("tw-bg-primary-700",t.openMenu),e.BMQ("aria-expanded",1==t.openMenu),e.R7$(2),e.JRh(e.bMT(16,16,"Nav.ToggleNavigation")),e.R7$(2),e.Y8G("ngIf",!t.openMenu),e.R7$(),e.Y8G("ngIf",t.openMenu),e.R7$(),e.Y8G("ngIf",t.openMenu&&t.appComponentViewConfig.showNav&&!t.expectingStarterModeConsent)}}function sC(r,d){1&r&&(e.j41(0,"div",65)(1,"span",48),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.nrm(4,"span",66),e.k0s()),2&r&&(e.R7$(2),e.JRh(e.bMT(3,1,"StarterMode.RequiresUpgrade")))}function y0(r,d){if(1&r&&(e.j41(0,"li",62)(1,"button",63),e.nI1(2,"localize"),e.EFF(3),e.DNE(4,sC,5,3,"div",64),e.k0s()()),2&r){const t=e.XpG(),o=t.title,l=t.classes,C=t.activeClass,$=t.sub,me=t.route,He=t.starterUpgrade,at=t.id,Ut=e.XpG();e.HbH(l),e.Y8G("id",at),e.R7$(),e.Y8G("ngClass",e.l_i(10,m0,$,!$))("routerLinkActive",C)("routerLink",e.eq3(13,p0,e.bMT(2,8,me))),e.R7$(2),e.SpI(" ",o," "),e.R7$(),e.Y8G("ngIf",He&&Ut.licenseIsInStarterMode)}}function _0(r,d){1&r&&e.DNE(0,y0,5,15,"li",61),2&r&&e.Y8G("ngIf",d.display)}function aR(r,d){1&r&&(e.j41(0,"div",65)(1,"span",48),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.nrm(4,"span",66),e.k0s()),2&r&&(e.R7$(2),e.JRh(e.bMT(3,1,"StarterMode.RequiresUpgrade")))}function oC(r,d){if(1&r&&(e.j41(0,"li",62)(1,"button",67),e.nI1(2,"localize"),e.EFF(3),e.DNE(4,aR,5,3,"div",64),e.k0s()()),2&r){const t=e.XpG(),o=t.title,l=t.classes,C=t.activeClass,$=t.sub,me=t.route,He=t.starterUpgrade,at=t.id,Ut=e.XpG();e.HbH(l),e.Y8G("id",at),e.R7$(),e.Y8G("ngClass",e.l_i(10,m0,$,!$))("routerLinkActive",C)("routerLink",e.eq3(13,p0,e.bMT(2,8,me))),e.R7$(2),e.SpI(" ",o," "),e.R7$(),e.Y8G("ngIf",He&&Ut.licenseIsInStarterMode)}}function bD(r,d){1&r&&e.DNE(0,oC,5,15,"li",61),2&r&&e.Y8G("ngIf",d.display)}function lR(r,d){1&r&&(e.j41(0,"div",68)(1,"div",69)(2,"div")(3,"h1",70),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"p"),e.EFF(7),e.nI1(8,"translate"),e.k0s()()()()),2&r&&(e.R7$(4),e.JRh(e.bMT(5,2,"Errors.Unauthorized")),e.R7$(3),e.JRh(e.bMT(8,4,"Errors.ContactAdmin")))}function aC(r,d){1&r&&e.nrm(0,"router-outlet")}function lC(r,d){1&r&&e.eu8(0)}function Ic(r,d){if(1&r&&(e.j41(0,"div",72)(1,"div",73),e.nrm(2,"span",74),e.j41(3,"span",75)(4,"b"),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.EFF(7),e.k0s()()()),2&r){const t=e.XpG(),o=t.text;e.Y8G("@fadeInOut",t.check),e.R7$(5),e.SpI("",e.bMT(6,3,"Common.Loading"),":"),e.R7$(2),e.SpI(" ",o," ")}}function Zf(r,d){1&r&&e.DNE(0,Ic,8,5,"div",71),2&r&&e.Y8G("ngIf",d.check)}function qf(r,d){if(1&r){const t=e.RV6();e.j41(0,"footer",76)(1,"button",77),e.bIt("click",function(){e.eBV(t);const l=e.XpG();return e.Njj(l.jumpToTop())}),e.nrm(2,"span",78),e.j41(3,"span",48),e.EFF(4),e.nI1(5,"translate"),e.k0s()(),e.j41(6,"div",79)(7,"div",80)(8,"p",81)(9,"span",82),e.EFF(10),e.k0s(),e.EFF(11),e.j41(12,"a",83),e.EFF(13),e.nI1(14,"translate"),e.k0s()(),e.j41(15,"ul",84)(16,"li",85)(17,"a",86),e.EFF(18),e.nI1(19,"translate"),e.k0s(),e.j41(20,"span",87),e.EFF(21,"\u2022"),e.k0s()(),e.j41(22,"li",22)(23,"a",88),e.EFF(24),e.nI1(25,"translate"),e.k0s()()()()()()}if(2&r){const t=e.XpG();e.R7$(4),e.JRh(e.bMT(5,6,"Nav.ToTop")),e.R7$(6),e.SpI("AdminUI ",t.versionNumber,""),e.R7$(),e.SpI(" \xa9 ",t.appCopyright," "),e.R7$(2),e.SpI(" ",e.bMT(14,8,"Common.CompanyName")," "),e.R7$(5),e.SpI(" ",e.bMT(19,10,"Common.Documentation")," "),e.R7$(6),e.SpI(" ",e.bMT(25,12,"Nav.Support")," ")}}let CD=(()=>{class r{constructor(t,o,l,C,$,me,He,at,Ut,on,vn,wn,kn){this.securityService=t,this.translate=o,this.localizeRouter=l,this.toastr=C,this.router=$,this.healthCheckService=me,this.authService=He,this.userService=at,this.modalService=Ut,this.browserSameSiteService=on,this.appComponentViewService=vn,this.licenseService=wn,this.configService=kn,this.user={name:"test"},this.openMenu=!1,this.desktop=!1,this.versionNumber="",this.skipLinkPath="",this.licenseType="",this.organisation="",this.noSameSiteSupport=!1,this.nonProduction=!1,this.defaultUserExists=!1,this.licenseIsInGracePeriod=!1,this.licenseIsInStarterMode=!1,this.expectingStarterModeConsent=!1,this.defaultUserRemovalModalId="defaultUserRemovalModal",this.resolveModalActions=[iD.N.Save],this.subscriptions=[],_r.wB.defaultLocale="utc",_r.wB.defaultZone="utc";const Mn=this.localizeRouter.parser.currentLang;document.getElementsByTagName("html")[0].setAttribute("lang",Mn),this.appCopyright="2017 - "+(new Date).getFullYear()}ngOnInit(){if(this.detectSize(),this.setupLongLivedSubscriptions(),this.setupHealthCheck(),!this.browserSameSiteService.validBrowser()&&!localStorage.getItem("closedSameSiteBanner")){const o={link:Bt.$9.sameSiteDocs};this.noSameSiteSupport=!0,this.toastr.error(this.translate.instant("Common.SameSiteCookiesError",o),this.translate.instant("Notifications.Error"),{timeOut:0,extendedTimeOut:0,enableHtml:!0})}}ngOnDestroy(){this.userDataSubscription&&this.userDataSubscription.unsubscribe(),this.licenseInfoSubscription&&this.licenseInfoSubscription.unsubscribe(),this.subscriptions.forEach(t=>t.unsubscribe())}setupLongLivedSubscriptions(){this.subscriptions.push(this.router.events.pipe((0,sl.p)(t=>t instanceof Ct.wF)).subscribe(()=>{this.router.url.endsWith("#main-content")||(this.skipLinkPath=`${this.router.url}#main-content`)}),this.healthCheckService.uiHealthCheckComplete.subscribe(()=>{this.versionNumber=Rn}),this.router.events.subscribe({next:t=>{this.desktop||(this.openMenu=!1)}}),this.appComponentViewService.viewConfig$.subscribe({next:t=>{this.appComponentViewConfig=t}}))}setupHealthCheck(){this.healthCheckService.checkHealthUi().pipe((0,Rl.s)(1)).subscribe({next:t=>this.uiHealthCheckSuccess(t),error:t=>this.uiHealthCheckFailed(t)}),this.healthCheckService.checkHealthIdentityServer().pipe((0,Rl.s)(1)).subscribe({next:t=>this.idsHealthCheckSuccess(),error:t=>this.idsHealthCheckFailed(t)})}uiHealthCheckSuccess(t){this.healthCheckService.uiReady=!0,this.healthCheckService.uiHealthCheckComplete.next(!0),"string"==typeof t&&!(0,Mi.gP)(t)&&this.toastr.warning(t,this.translate.instant("Common.Warning"),{timeOut:3e3,extendedTimeOut:0,enableHtml:!0}),this.userDataSubscription?.unsubscribe(),this.userDataSubscription=(0,yi.p)({authentication:this.authService.isAuthenticatedCheck(),permissions:this.securityService.userPermissions$}).subscribe(o=>{o.authentication.isAuthenticated&&o.authentication.username!=nD.M.DefaultAdministratorUsername&&o.permissions.includes(Yn.a[Yn.a.All])&&this.userService.defaultUserExists().subscribe(l=>{this.defaultUserExists=l})}),this.licenseInfoSubscription?.unsubscribe(),this.licenseInfoSubscription=this.licenseService.getLicenseInfo().subscribe(o=>{if(this.licenseIsInStarterMode=o.isStarterLicense(),this.expectingStarterModeConsent=o.isExpectingStarterConsent(),this.licenseIsInStarterMode&&(this.licenseIsInStarterModeMessage=this.translate.instant("StarterMode.Warning")),this.licenseIsInGracePeriod=o.isInGracePeriod,this.licenseIsInGracePeriod){const l=(0,Mi.KU)(o.gracePeriodExpiry,"ccc LLL dd yyyy, T");let C=this.translate.instant("Common.LicenseIsInGracePeriod");C=C.replace("{0}",l),this.licenseIsInGracePeriodMessage=C}})}uiHealthCheckFailed(t){this.healthCheckService.uiHealthCheckComplete.next(!0);const o=this.getHealthCheckError(t);this.toastr.error(this.translate.instant("LandingPage.UIError",{error:o?` (${o})`:""}),this.translate.instant("Notifications.Error"),{timeOut:0,extendedTimeOut:0,enableHtml:!0})}idsHealthCheckSuccess(){this.healthCheckService.idsReady=!0,this.healthCheckService.idsHealthCheckComplete.next(!0)}idsHealthCheckFailed(t){this.healthCheckService.idsHealthCheckComplete.next(!0);const o=this.getHealthCheckError(t);this.toastr.error(this.translate.instant("LandingPage.IdentityServerError",{link:Bt.$9.checkHealthIdentityServerDocs,error:o?` (${o})`:""}),this.translate.instant("Notifications.Error"),{timeOut:0,extendedTimeOut:0,enableHtml:!0})}closeSameSiteBrowserNotification(){this.noSameSiteSupport=!1,localStorage.setItem("closedSameSiteBanner","1")}defaultUserDeleteConfirmation(){this.modalService.showById(this.defaultUserRemovalModalId,this.defaultUserResolveButton)}cancelDefaultUserDelete(){this.modalService.hideById(this.defaultUserRemovalModalId)}removeDefaultUser(){this.userService.deleteDefaultUser().subscribe({next:t=>{this.defaultUserExists=!1,this.toastr.success(this.translate.instant("LandingPage.DefaultUserRemoved"),this.translate.instant("Notifications.Success"),{timeOut:0,extendedTimeOut:0,enableHtml:!0}),this.modalService.hideById(this.defaultUserRemovalModalId)},error:t=>{this.toastr.error(this.translate.instant("Notifications.CheckLogs"),this.translate.instant("Notifications.SomethingWrong"),{timeOut:0,extendedTimeOut:0,enableHtml:!0})}})}isActive(t,o=!1){return this.router.isActive(t,o)}isActiveResourceRoute(){return this.router.url.includes("/identityresources")||this.router.url.includes("/protectedresources")}detectSize(){const t=window.matchMedia("(min-width: 1024px)");t.matches&&!this.desktop?(this.desktop=!0,this.openMenu=!0):!t.matches&&this.desktop&&(this.desktop=!1,this.openMenu=!1)}logoff(){this.authService.logoff()}menuToggle(){this.openMenu=!this.openMenu}jumpToTop(){window.scrollTo(0,0)}getHealthCheckError(t){if(!t)return"";const o=t.error;if(o){if("string"==typeof o)return o;if(o.errors&&o.errors.length>0)return o.errors[0]}return t.message?t.message:t.statusText?t.statusText:`${this.translate.instant("Notifications.SomethingWrong")}. ${this.translate.instant("Notifications.CheckLogs")}`}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(li.i),e.rXU(bn.c$),e.rXU($i.QG),e.rXU(Zn.tw),e.rXU(Ct.Ix),e.rXU(hs.M),e.rXU(zr.u),e.rXU(Es.D),e.rXU(rD.B),e.rXU(Sc),e.rXU(ms.X),e.rXU(Fc.X),e.rXU(Gs.w))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-shared-base"]],viewQuery:function(o,l){if(1&o&&(e.GBs(hD,5),e.GBs(fD,5)),2&o){let C;e.mGM(C=e.lsd())&&(l.sameSiteBrowserNotification=C.first),e.mGM(C=e.lsd())&&(l.defaultUserResolveButton=C.first)}},ngContentSelectors:qb,decls:20,vars:18,consts:[["commonNavItem",""],["commonSubNavItem",""],["commonLoader",""],["sameSiteBrowserNotification",""],["defaultUserResolveButton",""],["id","skipLink",1,"sr-only","sr-only-focusable","tw-block","tw-bg-grey-200","tw-px-4","tw-py-3","tw-font-semibold","tw-left-0","tw-top-0","tw-z-50","focus:tw-m-1","focus:tw-text-blue-500","focus:tw-fixed",3,"href"],["id","loggedInTopBarAlerts",4,"ngIf"],["id","metaMenu","class","tw-bg-primary-500 tw-border-b tw-border-primary-400 tw-text-white tw-text-xs tw-px-4",4,"ngIf"],["id","mainNavBar","class","tw-bg-primary-500 tw-text-primary-100 tw-relative tw-z-30","role","banner",3,"resize",4,"ngIf"],["id","main-content","role","main","tabindex","-1",1,"tw-bg-grey-100","tw-px-4","tw-pt-5","tw-pb-5","focus:tw-shadow-none","xs:tw-pb-20"],[3,"onSave","onCancel","actions","title","modalId","saveText"],["class","tw-container tw-pb-10 tw-mx-auto",4,"ngIf"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["id","footer","class","tw-bg-grey-200 tw-border-t tw-border-grey-300 tw-text-grey-600 tw-text-xs tw-h-12 tw-fixed tw-bottom-0 tw-inset-x-0 tw-z-30",4,"ngIf"],["id","loggedInTopBarAlerts"],["class","tw-bg-red-500 tw-text-white tw-text-xs tw-px-4","role","alert",4,"ngIf"],["class","tw-bg-red-500 tw-text-white tw-text-xs tw-px-4 tw-py-2","role","alert",4,"ngIf"],["id","licenseStarterModeNotification","class","tw-bg-orange-500 tw-text-primary-900 tw-text-xs tw-px-4 tw-py-2","role","alert",4,"ngIf"],["id","licenseExpiredNotification","class","tw-bg-red-500 tw-text-white tw-text-xs tw-px-4 tw-py-2","role","alert",4,"ngIf"],["role","alert",1,"tw-bg-red-500","tw-text-white","tw-text-xs","tw-px-4"],[1,"tw-container","tw-mx-auto","tw-text-left"],[1,"tw-flex","tw-items-center"],[1,"tw-w-full","tw-left-0"],[1,"tw-flex","tw-items-center","tw-text-body","tw-text-md","tw-py-2","tw-text-white"],[1,"tw-block","tw-w-full"],[1,"tw-block","tw-underline","hover:tw-no-underline","tw-ml-2","tw-shrink-0",3,"click"],["role","alert",1,"tw-bg-red-500","tw-text-white","tw-text-xs","tw-px-4","tw-py-2"],[1,"tw-text-black","tw-bg-white","tw-btn","tw-block","tw-ml-2","tw-shrink-0",3,"click"],["id","licenseStarterModeNotification","role","alert",1,"tw-bg-orange-500","tw-text-primary-900","tw-text-xs","tw-px-4","tw-py-2"],[1,"tw-flex","tw-items-center","tw-text-body","tw-text-md","tw-py-2","tw-text-primary-900"],["id","licenseExpiredNotification","role","alert",1,"tw-bg-red-500","tw-text-white","tw-text-xs","tw-px-4","tw-py-2"],["id","metaMenu",1,"tw-bg-primary-500","tw-border-b","tw-border-primary-400","tw-text-white","tw-text-xs","tw-px-4"],[1,"tw-flex","tw-items-center","tw-h-8"],[3,"ngClass",4,"ngIf"],[1,"tw-hidden","tw-items-center","tw-ml-auto","sm:tw-flex"],["aria-hidden","true",1,"fad","fa-user-lock","tw-mr-2",2,"--fa-secondary-color","#4DAC4D","--fa-secondary-opacity","1.0"],[1,"tw-font-semibold"],["aria-hidden","true",1,"tw-mx-3","tw-opacity-50","tw-text-base"],["tabindex","0",1,"tw-self-stretch","tw-flex","tw-items-center","tw-ml-auto","tw-text-white","tw-font-normal","tw-cursor-pointer","hover:tw-underline","sm:tw-ml-0","trans",3,"click"],[3,"ngClass"],["id","mainNavBar","role","banner",1,"tw-bg-primary-500","tw-text-primary-100","tw-relative","tw-z-30",3,"resize"],[1,"tw-container","tw-text-left","tw-mx-auto"],[1,"lg:tw-flex"],["id","navMenuTitle",1,"sr-only"],[1,"tw-flex","tw-justify-between","tw-h-header","tw-ml-4","xl:tw-mr-4","max:tw-ml-0"],[1,"tw-flex","tw-items-center","tw-justify-center","tw-shrink-0",3,"routerLink"],["src","/assets/img/logo-persimmon.png","alt","","aria-hidden","true",1,"tw-w-8"],[1,"sr-only"],["id","mainMenu","aria-controls","mainMenu",1,"tw-shrink-0","tw-text-xl","tw-w-header","lg:tw-hidden",3,"click"],["class","fas fa-bars fa-fw","aria-hidden","true",4,"ngIf"],["class","fas fa-times fa-fw","aria-hidden","true",4,"ngIf"],["id","mainNavLinks","class","tw-bg-primary-700 tw-relative lg:tw-flex lg:tw-bg-transparent","role","navigation","aria-labelledby","navMenuTitle",4,"ngIf"],["aria-hidden","true",1,"fas","fa-bars","fa-fw"],["aria-hidden","true",1,"fas","fa-times","fa-fw"],["id","mainNavLinks","role","navigation","aria-labelledby","navMenuTitle",1,"tw-bg-primary-700","tw-relative","lg:tw-flex","lg:tw-bg-transparent"],["class","tw-block tw-bg-primary-700 tw-opacity-75 lg:tw-bg-primary-500 tw-absolute tw-inset-0 tw-z-20",4,"ngIf"],[3,"id","title","classes","activeClass","route","display"],[1,"lg:tw-hidden"],[1,"tw-flex","tw-items-center","tw-text-primary-200","tw-font-semibold","tw-h-header","tw-px-4","tw-w-full","tw-truncate","hover:tw-bg-primary-600","hover:tw-text-white","focus:tw-bg-primary-600","focus:tw-text-white","lg:tw-px-6","xl:tw-px-8",3,"click"],[1,"tw-block","tw-bg-primary-700","tw-opacity-75","lg:tw-bg-primary-500","tw-absolute","tw-inset-0","tw-z-20"],[3,"class","id",4,"ngIf"],[3,"id"],[1,"tw-nav","tw-flex","tw-items-center","tw-text-primary-200","tw-relative","tw-truncate","hover:tw-text-white","focus:tw-text-white",3,"ngClass","routerLinkActive","routerLink"],["class","upgradeSymbol tw-text-secondary-500 tw-text-sm tw-pl-1 tw-font-normal tw-py-3 lg:tw-px-1",4,"ngIf"],[1,"upgradeSymbol","tw-text-secondary-500","tw-text-sm","tw-pl-1","tw-font-normal","tw-py-3","lg:tw-px-1"],["aria-hidden","true",1,"far","fa-arrow-alt-circle-up"],["ngbDropdownItem","",1,"tw-nav","tw-flex","tw-items-center","tw-text-primary-200","tw-relative","tw-truncate","hover:tw-text-white","focus:tw-text-white",3,"ngClass","routerLinkActive","routerLink"],[1,"tw-container","tw-pb-10","tw-mx-auto"],["role","alert",1,"tw-alert-danger"],[1,"tw-text-sm","tw-font-semibold"],["class","tw-fixed tw-w-full tw-bottom-0 tw-left-0 tw-z-40",4,"ngIf"],[1,"tw-fixed","tw-w-full","tw-bottom-0","tw-left-0","tw-z-40"],[1,"tw-flex","tw-items-center","tw-bg-orange-500","tw-shadow-toast","tw-text-body","tw-text-sm","tw-px-4","tw-py-3"],[1,"fad","fa-spinner-third","fa-spin","tw-mr-2"],[1,"tw-block"],["id","footer",1,"tw-bg-grey-200","tw-border-t","tw-border-grey-300","tw-text-grey-600","tw-text-xs","tw-h-12","tw-fixed","tw-bottom-0","tw-inset-x-0","tw-z-30"],["id","jumpToTop",1,"tw-hidden","tw-items-center","tw-justify-center","tw-bg-grey-400","tw-m-2","tw-w-8","tw-h-8","tw-text-grey-800","tw-rounded","tw-cursor-pointer","tw-fixed","tw-right-0","tw-bottom-0","trans-bg","hover:tw-bg-grey-500","max:tw-flex",3,"click"],["aria-hidden","true",1,"fas","fa-chevron-up"],[1,"tw-flex","tw-items-center","tw-h-12","tw-px-4"],[1,"tw-flex","tw-items-center","tw-justify-center","tw-container","tw-w-full","tw-mx-auto","md:tw-justify-between"],[1,"tw-text-center","md:tw-text-left"],[1,"tw-mr-2","md:tw-mr-3"],["id","RSKBackLink","href","https://www.rocksolidknowledge.com/","target","_blank",1,"tw-text-grey-600","tw-font-normal","hover:tw-text-grey-700","tw-transition-all","tw-ease-in-out"],[1,"tw-hidden","tw-items-center","md:tw-flex"],[1,"tw-flex","tw-items-center","tw-mr-2"],["href","documentation/index.html","target","_blank",1,"tw-text-grey-600","tw-font-normal","hover:tw-text-grey-700","tw-transition-all","tw-ease-in-out"],["aria-hidden","true",1,"tw-ml-2","tw-opacity-50","tw-text-sm"],["href","mailto:support@rocksolidknowledge.zendesk.com","target","_blank",1,"tw-text-grey-600","tw-font-normal","hover:tw-text-grey-700","tw-transition-all","tw-ease-in-out"]],template:function(o,l){if(1&o){const C=e.RV6();e.NAR(pD),e.j41(0,"a",5),e.EFF(1),e.nI1(2,"translate"),e.k0s(),e.DNE(3,tC,5,4,"div",6)(4,yD,14,8,"nav",7)(5,rC,20,20,"header",8)(6,_0,1,1,"ng-template",null,0,e.C5r)(8,bD,1,1,"ng-template",null,1,e.C5r),e.j41(10,"main",9)(11,"app-custom-modal",10),e.bIt("onSave",function(){return e.eBV(C),e.Njj(l.removeDefaultUser())})("onCancel",function(){return e.eBV(C),e.Njj(l.cancelDefaultUserDelete())}),e.j41(12,"p"),e.EFF(13," To secure your AdminUI, the 'info@rocksolidknowledge' Administrator needs to be removed from your database "),e.k0s()(),e.DNE(14,lR,9,6,"div",11)(15,aC,1,0,"router-outlet",12),e.k0s(),e.DNE(16,lC,1,0,"ng-container",13)(17,Zf,1,1,"ng-template",null,2,e.C5r)(19,qf,26,14,"footer",14)}if(2&o){const C=e.sdS(18);e.Y8G("href",l.skipLinkPath,e.B4B),e.R7$(),e.SpI(" ",e.bMT(2,14,"Nav.SkipToContent"),"\n"),e.R7$(2),e.Y8G("ngIf",l.appComponentViewConfig.showNav),e.R7$(),e.Y8G("ngIf",l.appComponentViewConfig.showBanner),e.R7$(),e.Y8G("ngIf",l.appComponentViewConfig.showNav),e.R7$(6),e.Y8G("actions",l.resolveModalActions)("title","Remove Default Administrator")("modalId",l.defaultUserRemovalModalId)("saveText","Remove User"),e.R7$(3),e.Y8G("ngIf",l.securityService.noPermissions),e.R7$(),e.Y8G("ngIf",!l.securityService.noPermissions),e.R7$(),e.Y8G("ngTemplateOutlet",C)("ngTemplateOutletContext",e.eq3(16,f0,!l.healthCheckService.idsReady)),e.R7$(3),e.Y8G("ngIf",l.appComponentViewConfig.showFooter)}},dependencies:[fn.YU,fn.bT,fn.T3,Gu,Vf,Xb.G,Ct.n3,Ct.Wk,Ct.wQ,Zb,bn.D9,$i.tl],encapsulation:2,data:{animation:[(0,Il.l1)(),(0,Il.Ws)()]}})}}return r})();const wD=["resourcesMenu"];let b0=(()=>{class r{constructor(t,o){this.securityService=t,this.licenseService=o,this.subscriptions=[],this.licenseIsInStarterMode=!1}ngOnInit(){this.setupLongLivedSubscriptions()}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}setupLongLivedSubscriptions(){this.subscriptions.push(this.licenseService.getLicenseInfo().subscribe(t=>{this.licenseIsInStarterMode=t.isStarterLicense()}))}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(li.i),e.rXU(Fc.X))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-root"]],viewQuery:function(o,l){if(1&o&&e.GBs(wD,5),2&o){let C;e.mGM(C=e.lsd())&&(l.resourcesMenu=C.first)}},decls:4,vars:8,consts:[["navigation",""],[3,"id","title","classes","activeClass","route","display"]],template:function(o,l){1&o&&(e.j41(0,"app-shared-base"),e.qex(1,0),e.nrm(2,"app-nav-item",1),e.nI1(3,"translate"),e.bVm(),e.k0s()),2&o&&(e.R7$(2),e.Y8G("id","app-nav-item-clients")("title",e.bMT(3,6,"OpenIddict"))("classes","")("activeClass","tw-nav-active")("route","/openiddict")("display",!0))},dependencies:[CD,Zb,bn.D9],encapsulation:2,data:{animation:[(0,Il.l1)(),(0,Il.Ws)()]}})}}return r})();function SD(r,d,t,o){return new dm(r,d,t,o,"resources/locales.json?cb="+Rn)}function ED(r){return new kT(r,"./resources/",".json?cb="+Rn)}let TD=(()=>{class r{static{this.\u0275fac=function(o){return new(o||r)}}static{this.\u0275mod=e.$C({type:r,bootstrap:[b0]})}static{this.\u0275inj=e.G2t({providers:[l_.F,ff.n,Es.D,li.i,Ar.h,Lr._,qu.q,df.a,Kb.g,fs.P,ad.m,ze.X,Bt.Vk,Su.M,od.v,um.R,Tc,$i.QG,hs.M,Sc,bn.c$,Fc.X,Gs.w,pf.B,Z.I,Rh.D,o_.x,Wf,{provide:cu.x,useClass:cu.P},{provide:w.a7,useClass:Ku,multi:!0},{provide:w.a7,useClass:a_,multi:!0}],imports:[TC,tD,fn.MD,y.YN,y.X1,Hn,w.q1,lc.Y,cm,sR,h0.StarterModeModule,pp,lu.p,k0.P,bn.h.forRoot({loader:{provide:bn.Wr,useFactory:ED,deps:[w.Qq]}}),$i.XE.forRoot(Rc,{parser:{provide:$i.xq,useFactory:SD,deps:[bn.c$,fn.aZ,$i.wY,w.Qq]}}),Tt.Q_.forRoot(),bt.jr.forRoot(),De.Ss.forRoot(),Xe.h6.forRoot(),Zn._B.forRoot(),mf.M,xT,To.c,co.h,uc.N,cc.w,El.Y,Yb,$i.XE]})}}return r})();(0,e.SmG)(),i.sG().bootstrapModule(TD)},3981:(lt,we)=>{"use strict";we.byteLength=function D(_){var M=I(_),P=M[1];return 3*(M[0]+P)/4-P},we.toByteArray=function f(_){var M,Y,N=I(_),P=N[0],G=N[1],x=new e(function h(_,M,N){return 3*(M+N)/4-N}(0,P,G)),V=0,Q=G>0?P-4:P;for(Y=0;Y<Q;Y+=4)M=i[_.charCodeAt(Y)]<<18|i[_.charCodeAt(Y+1)]<<12|i[_.charCodeAt(Y+2)]<<6|i[_.charCodeAt(Y+3)],x[V++]=M>>16&255,x[V++]=M>>8&255,x[V++]=255&M;return 2===G&&(M=i[_.charCodeAt(Y)]<<2|i[_.charCodeAt(Y+1)]>>4,x[V++]=255&M),1===G&&(M=i[_.charCodeAt(Y)]<<10|i[_.charCodeAt(Y+1)]<<4|i[_.charCodeAt(Y+2)]>>2,x[V++]=M>>8&255,x[V++]=255&M),x},we.fromByteArray=function L(_){for(var M,N=_.length,P=N%3,G=[],x=16383,V=0,Q=N-P;V<Q;V+=x)G.push(F(_,V,V+x>Q?Q:V+x));return 1===P?G.push(p[(M=_[N-1])>>2]+p[M<<4&63]+"=="):2===P&&G.push(p[(M=(_[N-2]<<8)+_[N-1])>>10]+p[M>>4&63]+p[M<<2&63]+"="),G.join("")};for(var p=[],i=[],e=typeof Uint8Array<"u"?Uint8Array:Array,v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",y=0;y<64;++y)p[y]=v[y],i[v.charCodeAt(y)]=y;function I(_){var M=_.length;if(M%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var N=_.indexOf("=");return-1===N&&(N=M),[N,N===M?0:4-N%4]}function E(_){return p[_>>18&63]+p[_>>12&63]+p[_>>6&63]+p[63&_]}function F(_,M,N){for(var G=[],x=M;x<N;x+=3)G.push(E((_[x]<<16&16711680)+(_[x+1]<<8&65280)+(255&_[x+2])));return G.join("")}i[45]=62,i[95]=63},3838:(lt,we,p)=>{"use strict";const e=p(3981),v=p(2020),y="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;we.hp=h,we.IS=50;const w=2147483647;function D(oe){if(oe>w)throw new RangeError('The value "'+oe+'" is invalid for option "size"');const H=new Uint8Array(oe);return Object.setPrototypeOf(H,h.prototype),H}function h(oe,H,te){if("number"==typeof oe){if("string"==typeof H)throw new TypeError('The "string" argument must be of type string. Received type number');return L(oe)}return f(oe,H,te)}function f(oe,H,te){if("string"==typeof oe)return function _(oe,H){if(("string"!=typeof H||""===H)&&(H="utf8"),!h.isEncoding(H))throw new TypeError("Unknown encoding: "+H);const te=0|Q(oe,H);let Ue=D(te);const et=Ue.write(oe,H);return et!==te&&(Ue=Ue.slice(0,et)),Ue}(oe,H);if(ArrayBuffer.isView(oe))return function N(oe){if($t(oe,Uint8Array)){const H=new Uint8Array(oe);return P(H.buffer,H.byteOffset,H.byteLength)}return M(oe)}(oe);if(null==oe)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof oe);if($t(oe,ArrayBuffer)||oe&&$t(oe.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&($t(oe,SharedArrayBuffer)||oe&&$t(oe.buffer,SharedArrayBuffer)))return P(oe,H,te);if("number"==typeof oe)throw new TypeError('The "value" argument must not be of type number. Received type number');const Ue=oe.valueOf&&oe.valueOf();if(null!=Ue&&Ue!==oe)return h.from(Ue,H,te);const et=function G(oe){if(h.isBuffer(oe)){const H=0|x(oe.length),te=D(H);return 0===te.length||oe.copy(te,0,0,H),te}return void 0!==oe.length?"number"!=typeof oe.length||en(oe.length)?D(0):M(oe):"Buffer"===oe.type&&Array.isArray(oe.data)?M(oe.data):void 0}(oe);if(et)return et;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof oe[Symbol.toPrimitive])return h.from(oe[Symbol.toPrimitive]("string"),H,te);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof oe)}function E(oe){if("number"!=typeof oe)throw new TypeError('"size" argument must be of type number');if(oe<0)throw new RangeError('The value "'+oe+'" is invalid for option "size"')}function L(oe){return E(oe),D(oe<0?0:0|x(oe))}function M(oe){const H=oe.length<0?0:0|x(oe.length),te=D(H);for(let Ue=0;Ue<H;Ue+=1)te[Ue]=255&oe[Ue];return te}function P(oe,H,te){if(H<0||oe.byteLength<H)throw new RangeError('"offset" is outside of buffer bounds');if(oe.byteLength<H+(te||0))throw new RangeError('"length" is outside of buffer bounds');let Ue;return Ue=void 0===H&&void 0===te?new Uint8Array(oe):void 0===te?new Uint8Array(oe,H):new Uint8Array(oe,H,te),Object.setPrototypeOf(Ue,h.prototype),Ue}function x(oe){if(oe>=w)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+w.toString(16)+" bytes");return 0|oe}function Q(oe,H){if(h.isBuffer(oe))return oe.length;if(ArrayBuffer.isView(oe)||$t(oe,ArrayBuffer))return oe.byteLength;if("string"!=typeof oe)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof oe);const te=oe.length,Ue=arguments.length>2&&!0===arguments[2];if(!Ue&&0===te)return 0;let et=!1;for(;;)switch(H){case"ascii":case"latin1":case"binary":return te;case"utf8":case"utf-8":return Fe(oe).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*te;case"hex":return te>>>1;case"base64":return mt(oe).length;default:if(et)return Ue?-1:Fe(oe).length;H=(""+H).toLowerCase(),et=!0}}function Y(oe,H,te){let Ue=!1;if((void 0===H||H<0)&&(H=0),H>this.length||((void 0===te||te>this.length)&&(te=this.length),te<=0)||(te>>>=0)<=(H>>>=0))return"";for(oe||(oe="utf8");;)switch(oe){case"hex":return be(this,H,te);case"utf8":case"utf-8":return Qe(this,H,te);case"ascii":return Je(this,H,te);case"latin1":case"binary":return Ee(this,H,te);case"base64":return Me(this,H,te);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return se(this,H,te);default:if(Ue)throw new TypeError("Unknown encoding: "+oe);oe=(oe+"").toLowerCase(),Ue=!0}}function le(oe,H,te){const Ue=oe[H];oe[H]=oe[te],oe[te]=Ue}function fe(oe,H,te,Ue,et){if(0===oe.length)return-1;if("string"==typeof te?(Ue=te,te=0):te>2147483647?te=2147483647:te<-2147483648&&(te=-2147483648),en(te=+te)&&(te=et?0:oe.length-1),te<0&&(te=oe.length+te),te>=oe.length){if(et)return-1;te=oe.length-1}else if(te<0){if(!et)return-1;te=0}if("string"==typeof H&&(H=h.from(H,Ue)),h.isBuffer(H))return 0===H.length?-1:K(oe,H,te,Ue,et);if("number"==typeof H)return H&=255,"function"==typeof Uint8Array.prototype.indexOf?et?Uint8Array.prototype.indexOf.call(oe,H,te):Uint8Array.prototype.lastIndexOf.call(oe,H,te):K(oe,[H],te,Ue,et);throw new TypeError("val must be string, number or Buffer")}function K(oe,H,te,Ue,et){let In,ft=1,Ft=oe.length,sn=H.length;if(void 0!==Ue&&("ucs2"===(Ue=String(Ue).toLowerCase())||"ucs-2"===Ue||"utf16le"===Ue||"utf-16le"===Ue)){if(oe.length<2||H.length<2)return-1;ft=2,Ft/=2,sn/=2,te/=2}function cn(An,Fn){return 1===ft?An[Fn]:An.readUInt16BE(Fn*ft)}if(et){let An=-1;for(In=te;In<Ft;In++)if(cn(oe,In)===cn(H,-1===An?0:In-An)){if(-1===An&&(An=In),In-An+1===sn)return An*ft}else-1!==An&&(In-=In-An),An=-1}else for(te+sn>Ft&&(te=Ft-sn),In=te;In>=0;In--){let An=!0;for(let Fn=0;Fn<sn;Fn++)if(cn(oe,In+Fn)!==cn(H,Fn)){An=!1;break}if(An)return In}return-1}function ee(oe,H,te,Ue){te=Number(te)||0;const et=oe.length-te;Ue?(Ue=Number(Ue))>et&&(Ue=et):Ue=et;const ft=H.length;let Ft;for(Ue>ft/2&&(Ue=ft/2),Ft=0;Ft<Ue;++Ft){const sn=parseInt(H.substr(2*Ft,2),16);if(en(sn))return Ft;oe[te+Ft]=sn}return Ft}function ie(oe,H,te,Ue){return tt(Fe(H,oe.length-te),oe,te,Ue)}function T(oe,H,te,Ue){return tt(function rt(oe){const H=[];for(let te=0;te<oe.length;++te)H.push(255&oe.charCodeAt(te));return H}(H),oe,te,Ue)}function ae(oe,H,te,Ue){return tt(mt(H),oe,te,Ue)}function re(oe,H,te,Ue){return tt(function kt(oe,H){let te,Ue,et;const ft=[];for(let Ft=0;Ft<oe.length&&!((H-=2)<0);++Ft)te=oe.charCodeAt(Ft),Ue=te>>8,et=te%256,ft.push(et),ft.push(Ue);return ft}(H,oe.length-te),oe,te,Ue)}function Me(oe,H,te){return e.fromByteArray(0===H&&te===oe.length?oe:oe.slice(H,te))}function Qe(oe,H,te){te=Math.min(oe.length,te);const Ue=[];let et=H;for(;et<te;){const ft=oe[et];let Ft=null,sn=ft>239?4:ft>223?3:ft>191?2:1;if(et+sn<=te){let cn,In,An,Fn;switch(sn){case 1:ft<128&&(Ft=ft);break;case 2:cn=oe[et+1],128==(192&cn)&&(Fn=(31&ft)<<6|63&cn,Fn>127&&(Ft=Fn));break;case 3:cn=oe[et+1],In=oe[et+2],128==(192&cn)&&128==(192&In)&&(Fn=(15&ft)<<12|(63&cn)<<6|63&In,Fn>2047&&(Fn<55296||Fn>57343)&&(Ft=Fn));break;case 4:cn=oe[et+1],In=oe[et+2],An=oe[et+3],128==(192&cn)&&128==(192&In)&&128==(192&An)&&(Fn=(15&ft)<<18|(63&cn)<<12|(63&In)<<6|63&An,Fn>65535&&Fn<1114112&&(Ft=Fn))}}null===Ft?(Ft=65533,sn=1):Ft>65535&&(Ft-=65536,Ue.push(Ft>>>10&1023|55296),Ft=56320|1023&Ft),Ue.push(Ft),et+=sn}return function Ne(oe){const H=oe.length;if(H<=Le)return String.fromCharCode.apply(String,oe);let te="",Ue=0;for(;Ue<H;)te+=String.fromCharCode.apply(String,oe.slice(Ue,Ue+=Le));return te}(Ue)}!(h.TYPED_ARRAY_SUPPORT=function I(){try{const oe=new Uint8Array(1),H={foo:function(){return 42}};return Object.setPrototypeOf(H,Uint8Array.prototype),Object.setPrototypeOf(oe,H),42===oe.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.buffer}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.byteOffset}}),h.poolSize=8192,h.from=function(oe,H,te){return f(oe,H,te)},Object.setPrototypeOf(h.prototype,Uint8Array.prototype),Object.setPrototypeOf(h,Uint8Array),h.alloc=function(oe,H,te){return function F(oe,H,te){return E(oe),oe<=0?D(oe):void 0!==H?"string"==typeof te?D(oe).fill(H,te):D(oe).fill(H):D(oe)}(oe,H,te)},h.allocUnsafe=function(oe){return L(oe)},h.allocUnsafeSlow=function(oe){return L(oe)},h.isBuffer=function(H){return null!=H&&!0===H._isBuffer&&H!==h.prototype},h.compare=function(H,te){if($t(H,Uint8Array)&&(H=h.from(H,H.offset,H.byteLength)),$t(te,Uint8Array)&&(te=h.from(te,te.offset,te.byteLength)),!h.isBuffer(H)||!h.isBuffer(te))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(H===te)return 0;let Ue=H.length,et=te.length;for(let ft=0,Ft=Math.min(Ue,et);ft<Ft;++ft)if(H[ft]!==te[ft]){Ue=H[ft],et=te[ft];break}return Ue<et?-1:et<Ue?1:0},h.isEncoding=function(H){switch(String(H).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(H,te){if(!Array.isArray(H))throw new TypeError('"list" argument must be an Array of Buffers');if(0===H.length)return h.alloc(0);let Ue;if(void 0===te)for(te=0,Ue=0;Ue<H.length;++Ue)te+=H[Ue].length;const et=h.allocUnsafe(te);let ft=0;for(Ue=0;Ue<H.length;++Ue){let Ft=H[Ue];if($t(Ft,Uint8Array))ft+Ft.length>et.length?(h.isBuffer(Ft)||(Ft=h.from(Ft)),Ft.copy(et,ft)):Uint8Array.prototype.set.call(et,Ft,ft);else{if(!h.isBuffer(Ft))throw new TypeError('"list" argument must be an Array of Buffers');Ft.copy(et,ft)}ft+=Ft.length}return et},h.byteLength=Q,h.prototype._isBuffer=!0,h.prototype.swap16=function(){const H=this.length;if(H%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let te=0;te<H;te+=2)le(this,te,te+1);return this},h.prototype.swap32=function(){const H=this.length;if(H%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let te=0;te<H;te+=4)le(this,te,te+3),le(this,te+1,te+2);return this},h.prototype.swap64=function(){const H=this.length;if(H%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let te=0;te<H;te+=8)le(this,te,te+7),le(this,te+1,te+6),le(this,te+2,te+5),le(this,te+3,te+4);return this},h.prototype.toLocaleString=h.prototype.toString=function(){const H=this.length;return 0===H?"":0===arguments.length?Qe(this,0,H):Y.apply(this,arguments)},h.prototype.equals=function(H){if(!h.isBuffer(H))throw new TypeError("Argument must be a Buffer");return this===H||0===h.compare(this,H)},h.prototype.inspect=function(){let H="";const te=we.IS;return H=this.toString("hex",0,te).replace(/(.{2})/g,"$1 ").trim(),this.length>te&&(H+=" ... "),"<Buffer "+H+">"},y&&(h.prototype[y]=h.prototype.inspect),h.prototype.compare=function(H,te,Ue,et,ft){if($t(H,Uint8Array)&&(H=h.from(H,H.offset,H.byteLength)),!h.isBuffer(H))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof H);if(void 0===te&&(te=0),void 0===Ue&&(Ue=H?H.length:0),void 0===et&&(et=0),void 0===ft&&(ft=this.length),te<0||Ue>H.length||et<0||ft>this.length)throw new RangeError("out of range index");if(et>=ft&&te>=Ue)return 0;if(et>=ft)return-1;if(te>=Ue)return 1;if(this===H)return 0;let Ft=(ft>>>=0)-(et>>>=0),sn=(Ue>>>=0)-(te>>>=0);const cn=Math.min(Ft,sn),In=this.slice(et,ft),An=H.slice(te,Ue);for(let Fn=0;Fn<cn;++Fn)if(In[Fn]!==An[Fn]){Ft=In[Fn],sn=An[Fn];break}return Ft<sn?-1:sn<Ft?1:0},h.prototype.includes=function(H,te,Ue){return-1!==this.indexOf(H,te,Ue)},h.prototype.indexOf=function(H,te,Ue){return fe(this,H,te,Ue,!0)},h.prototype.lastIndexOf=function(H,te,Ue){return fe(this,H,te,Ue,!1)},h.prototype.write=function(H,te,Ue,et){if(void 0===te)et="utf8",Ue=this.length,te=0;else if(void 0===Ue&&"string"==typeof te)et=te,Ue=this.length,te=0;else{if(!isFinite(te))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");te>>>=0,isFinite(Ue)?(Ue>>>=0,void 0===et&&(et="utf8")):(et=Ue,Ue=void 0)}const ft=this.length-te;if((void 0===Ue||Ue>ft)&&(Ue=ft),H.length>0&&(Ue<0||te<0)||te>this.length)throw new RangeError("Attempt to write outside buffer bounds");et||(et="utf8");let Ft=!1;for(;;)switch(et){case"hex":return ee(this,H,te,Ue);case"utf8":case"utf-8":return ie(this,H,te,Ue);case"ascii":case"latin1":case"binary":return T(this,H,te,Ue);case"base64":return ae(this,H,te,Ue);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return re(this,H,te,Ue);default:if(Ft)throw new TypeError("Unknown encoding: "+et);et=(""+et).toLowerCase(),Ft=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const Le=4096;function Je(oe,H,te){let Ue="";te=Math.min(oe.length,te);for(let et=H;et<te;++et)Ue+=String.fromCharCode(127&oe[et]);return Ue}function Ee(oe,H,te){let Ue="";te=Math.min(oe.length,te);for(let et=H;et<te;++et)Ue+=String.fromCharCode(oe[et]);return Ue}function be(oe,H,te){const Ue=oe.length;(!H||H<0)&&(H=0),(!te||te<0||te>Ue)&&(te=Ue);let et="";for(let ft=H;ft<te;++ft)et+=Ot[oe[ft]];return et}function se(oe,H,te){const Ue=oe.slice(H,te);let et="";for(let ft=0;ft<Ue.length-1;ft+=2)et+=String.fromCharCode(Ue[ft]+256*Ue[ft+1]);return et}function Oe(oe,H,te){if(oe%1!=0||oe<0)throw new RangeError("offset is not uint");if(oe+H>te)throw new RangeError("Trying to access beyond buffer length")}function Ie(oe,H,te,Ue,et,ft){if(!h.isBuffer(oe))throw new TypeError('"buffer" argument must be a Buffer instance');if(H>et||H<ft)throw new RangeError('"value" argument is out of bounds');if(te+Ue>oe.length)throw new RangeError("Index out of range")}function it(oe,H,te,Ue,et){W(H,Ue,et,oe,te,7);let ft=Number(H&BigInt(4294967295));oe[te++]=ft,ft>>=8,oe[te++]=ft,ft>>=8,oe[te++]=ft,ft>>=8,oe[te++]=ft;let Ft=Number(H>>BigInt(32)&BigInt(4294967295));return oe[te++]=Ft,Ft>>=8,oe[te++]=Ft,Ft>>=8,oe[te++]=Ft,Ft>>=8,oe[te++]=Ft,te}function xe(oe,H,te,Ue,et){W(H,Ue,et,oe,te,7);let ft=Number(H&BigInt(4294967295));oe[te+7]=ft,ft>>=8,oe[te+6]=ft,ft>>=8,oe[te+5]=ft,ft>>=8,oe[te+4]=ft;let Ft=Number(H>>BigInt(32)&BigInt(4294967295));return oe[te+3]=Ft,Ft>>=8,oe[te+2]=Ft,Ft>>=8,oe[te+1]=Ft,Ft>>=8,oe[te]=Ft,te+8}function pt(oe,H,te,Ue,et,ft){if(te+Ue>oe.length)throw new RangeError("Index out of range");if(te<0)throw new RangeError("Index out of range")}function vt(oe,H,te,Ue,et){return H=+H,te>>>=0,et||pt(oe,0,te,4),v.write(oe,H,te,Ue,23,4),te+4}function hn(oe,H,te,Ue,et){return H=+H,te>>>=0,et||pt(oe,0,te,8),v.write(oe,H,te,Ue,52,8),te+8}h.prototype.slice=function(H,te){const Ue=this.length;(H=~~H)<0?(H+=Ue)<0&&(H=0):H>Ue&&(H=Ue),(te=void 0===te?Ue:~~te)<0?(te+=Ue)<0&&(te=0):te>Ue&&(te=Ue),te<H&&(te=H);const et=this.subarray(H,te);return Object.setPrototypeOf(et,h.prototype),et},h.prototype.readUintLE=h.prototype.readUIntLE=function(H,te,Ue){H>>>=0,te>>>=0,Ue||Oe(H,te,this.length);let et=this[H],ft=1,Ft=0;for(;++Ft<te&&(ft*=256);)et+=this[H+Ft]*ft;return et},h.prototype.readUintBE=h.prototype.readUIntBE=function(H,te,Ue){H>>>=0,te>>>=0,Ue||Oe(H,te,this.length);let et=this[H+--te],ft=1;for(;te>0&&(ft*=256);)et+=this[H+--te]*ft;return et},h.prototype.readUint8=h.prototype.readUInt8=function(H,te){return H>>>=0,te||Oe(H,1,this.length),this[H]},h.prototype.readUint16LE=h.prototype.readUInt16LE=function(H,te){return H>>>=0,te||Oe(H,2,this.length),this[H]|this[H+1]<<8},h.prototype.readUint16BE=h.prototype.readUInt16BE=function(H,te){return H>>>=0,te||Oe(H,2,this.length),this[H]<<8|this[H+1]},h.prototype.readUint32LE=h.prototype.readUInt32LE=function(H,te){return H>>>=0,te||Oe(H,4,this.length),(this[H]|this[H+1]<<8|this[H+2]<<16)+16777216*this[H+3]},h.prototype.readUint32BE=h.prototype.readUInt32BE=function(H,te){return H>>>=0,te||Oe(H,4,this.length),16777216*this[H]+(this[H+1]<<16|this[H+2]<<8|this[H+3])},h.prototype.readBigUInt64LE=Yt(function(H){J(H>>>=0,"offset");const te=this[H],Ue=this[H+7];(void 0===te||void 0===Ue)&&_e(H,this.length-8);const et=te+256*this[++H]+65536*this[++H]+this[++H]*2**24,ft=this[++H]+256*this[++H]+65536*this[++H]+Ue*2**24;return BigInt(et)+(BigInt(ft)<<BigInt(32))}),h.prototype.readBigUInt64BE=Yt(function(H){J(H>>>=0,"offset");const te=this[H],Ue=this[H+7];(void 0===te||void 0===Ue)&&_e(H,this.length-8);const et=te*2**24+65536*this[++H]+256*this[++H]+this[++H],ft=this[++H]*2**24+65536*this[++H]+256*this[++H]+Ue;return(BigInt(et)<<BigInt(32))+BigInt(ft)}),h.prototype.readIntLE=function(H,te,Ue){H>>>=0,te>>>=0,Ue||Oe(H,te,this.length);let et=this[H],ft=1,Ft=0;for(;++Ft<te&&(ft*=256);)et+=this[H+Ft]*ft;return ft*=128,et>=ft&&(et-=Math.pow(2,8*te)),et},h.prototype.readIntBE=function(H,te,Ue){H>>>=0,te>>>=0,Ue||Oe(H,te,this.length);let et=te,ft=1,Ft=this[H+--et];for(;et>0&&(ft*=256);)Ft+=this[H+--et]*ft;return ft*=128,Ft>=ft&&(Ft-=Math.pow(2,8*te)),Ft},h.prototype.readInt8=function(H,te){return H>>>=0,te||Oe(H,1,this.length),128&this[H]?-1*(255-this[H]+1):this[H]},h.prototype.readInt16LE=function(H,te){H>>>=0,te||Oe(H,2,this.length);const Ue=this[H]|this[H+1]<<8;return 32768&Ue?4294901760|Ue:Ue},h.prototype.readInt16BE=function(H,te){H>>>=0,te||Oe(H,2,this.length);const Ue=this[H+1]|this[H]<<8;return 32768&Ue?4294901760|Ue:Ue},h.prototype.readInt32LE=function(H,te){return H>>>=0,te||Oe(H,4,this.length),this[H]|this[H+1]<<8|this[H+2]<<16|this[H+3]<<24},h.prototype.readInt32BE=function(H,te){return H>>>=0,te||Oe(H,4,this.length),this[H]<<24|this[H+1]<<16|this[H+2]<<8|this[H+3]},h.prototype.readBigInt64LE=Yt(function(H){J(H>>>=0,"offset");const te=this[H],Ue=this[H+7];return(void 0===te||void 0===Ue)&&_e(H,this.length-8),(BigInt(this[H+4]+256*this[H+5]+65536*this[H+6]+(Ue<<24))<<BigInt(32))+BigInt(te+256*this[++H]+65536*this[++H]+this[++H]*2**24)}),h.prototype.readBigInt64BE=Yt(function(H){J(H>>>=0,"offset");const te=this[H],Ue=this[H+7];(void 0===te||void 0===Ue)&&_e(H,this.length-8);const et=(te<<24)+65536*this[++H]+256*this[++H]+this[++H];return(BigInt(et)<<BigInt(32))+BigInt(this[++H]*2**24+65536*this[++H]+256*this[++H]+Ue)}),h.prototype.readFloatLE=function(H,te){return H>>>=0,te||Oe(H,4,this.length),v.read(this,H,!0,23,4)},h.prototype.readFloatBE=function(H,te){return H>>>=0,te||Oe(H,4,this.length),v.read(this,H,!1,23,4)},h.prototype.readDoubleLE=function(H,te){return H>>>=0,te||Oe(H,8,this.length),v.read(this,H,!0,52,8)},h.prototype.readDoubleBE=function(H,te){return H>>>=0,te||Oe(H,8,this.length),v.read(this,H,!1,52,8)},h.prototype.writeUintLE=h.prototype.writeUIntLE=function(H,te,Ue,et){H=+H,te>>>=0,Ue>>>=0,et||Ie(this,H,te,Ue,Math.pow(2,8*Ue)-1,0);let ft=1,Ft=0;for(this[te]=255&H;++Ft<Ue&&(ft*=256);)this[te+Ft]=H/ft&255;return te+Ue},h.prototype.writeUintBE=h.prototype.writeUIntBE=function(H,te,Ue,et){H=+H,te>>>=0,Ue>>>=0,et||Ie(this,H,te,Ue,Math.pow(2,8*Ue)-1,0);let ft=Ue-1,Ft=1;for(this[te+ft]=255&H;--ft>=0&&(Ft*=256);)this[te+ft]=H/Ft&255;return te+Ue},h.prototype.writeUint8=h.prototype.writeUInt8=function(H,te,Ue){return H=+H,te>>>=0,Ue||Ie(this,H,te,1,255,0),this[te]=255&H,te+1},h.prototype.writeUint16LE=h.prototype.writeUInt16LE=function(H,te,Ue){return H=+H,te>>>=0,Ue||Ie(this,H,te,2,65535,0),this[te]=255&H,this[te+1]=H>>>8,te+2},h.prototype.writeUint16BE=h.prototype.writeUInt16BE=function(H,te,Ue){return H=+H,te>>>=0,Ue||Ie(this,H,te,2,65535,0),this[te]=H>>>8,this[te+1]=255&H,te+2},h.prototype.writeUint32LE=h.prototype.writeUInt32LE=function(H,te,Ue){return H=+H,te>>>=0,Ue||Ie(this,H,te,4,4294967295,0),this[te+3]=H>>>24,this[te+2]=H>>>16,this[te+1]=H>>>8,this[te]=255&H,te+4},h.prototype.writeUint32BE=h.prototype.writeUInt32BE=function(H,te,Ue){return H=+H,te>>>=0,Ue||Ie(this,H,te,4,4294967295,0),this[te]=H>>>24,this[te+1]=H>>>16,this[te+2]=H>>>8,this[te+3]=255&H,te+4},h.prototype.writeBigUInt64LE=Yt(function(H,te=0){return it(this,H,te,BigInt(0),BigInt("0xffffffffffffffff"))}),h.prototype.writeBigUInt64BE=Yt(function(H,te=0){return xe(this,H,te,BigInt(0),BigInt("0xffffffffffffffff"))}),h.prototype.writeIntLE=function(H,te,Ue,et){if(H=+H,te>>>=0,!et){const cn=Math.pow(2,8*Ue-1);Ie(this,H,te,Ue,cn-1,-cn)}let ft=0,Ft=1,sn=0;for(this[te]=255&H;++ft<Ue&&(Ft*=256);)H<0&&0===sn&&0!==this[te+ft-1]&&(sn=1),this[te+ft]=(H/Ft|0)-sn&255;return te+Ue},h.prototype.writeIntBE=function(H,te,Ue,et){if(H=+H,te>>>=0,!et){const cn=Math.pow(2,8*Ue-1);Ie(this,H,te,Ue,cn-1,-cn)}let ft=Ue-1,Ft=1,sn=0;for(this[te+ft]=255&H;--ft>=0&&(Ft*=256);)H<0&&0===sn&&0!==this[te+ft+1]&&(sn=1),this[te+ft]=(H/Ft|0)-sn&255;return te+Ue},h.prototype.writeInt8=function(H,te,Ue){return H=+H,te>>>=0,Ue||Ie(this,H,te,1,127,-128),H<0&&(H=255+H+1),this[te]=255&H,te+1},h.prototype.writeInt16LE=function(H,te,Ue){return H=+H,te>>>=0,Ue||Ie(this,H,te,2,32767,-32768),this[te]=255&H,this[te+1]=H>>>8,te+2},h.prototype.writeInt16BE=function(H,te,Ue){return H=+H,te>>>=0,Ue||Ie(this,H,te,2,32767,-32768),this[te]=H>>>8,this[te+1]=255&H,te+2},h.prototype.writeInt32LE=function(H,te,Ue){return H=+H,te>>>=0,Ue||Ie(this,H,te,4,2147483647,-2147483648),this[te]=255&H,this[te+1]=H>>>8,this[te+2]=H>>>16,this[te+3]=H>>>24,te+4},h.prototype.writeInt32BE=function(H,te,Ue){return H=+H,te>>>=0,Ue||Ie(this,H,te,4,2147483647,-2147483648),H<0&&(H=4294967295+H+1),this[te]=H>>>24,this[te+1]=H>>>16,this[te+2]=H>>>8,this[te+3]=255&H,te+4},h.prototype.writeBigInt64LE=Yt(function(H,te=0){return it(this,H,te,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),h.prototype.writeBigInt64BE=Yt(function(H,te=0){return xe(this,H,te,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),h.prototype.writeFloatLE=function(H,te,Ue){return vt(this,H,te,!0,Ue)},h.prototype.writeFloatBE=function(H,te,Ue){return vt(this,H,te,!1,Ue)},h.prototype.writeDoubleLE=function(H,te,Ue){return hn(this,H,te,!0,Ue)},h.prototype.writeDoubleBE=function(H,te,Ue){return hn(this,H,te,!1,Ue)},h.prototype.copy=function(H,te,Ue,et){if(!h.isBuffer(H))throw new TypeError("argument should be a Buffer");if(Ue||(Ue=0),!et&&0!==et&&(et=this.length),te>=H.length&&(te=H.length),te||(te=0),et>0&&et<Ue&&(et=Ue),et===Ue||0===H.length||0===this.length)return 0;if(te<0)throw new RangeError("targetStart out of bounds");if(Ue<0||Ue>=this.length)throw new RangeError("Index out of range");if(et<0)throw new RangeError("sourceEnd out of bounds");et>this.length&&(et=this.length),H.length-te<et-Ue&&(et=H.length-te+Ue);const ft=et-Ue;return this===H&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(te,Ue,et):Uint8Array.prototype.set.call(H,this.subarray(Ue,et),te),ft},h.prototype.fill=function(H,te,Ue,et){if("string"==typeof H){if("string"==typeof te?(et=te,te=0,Ue=this.length):"string"==typeof Ue&&(et=Ue,Ue=this.length),void 0!==et&&"string"!=typeof et)throw new TypeError("encoding must be a string");if("string"==typeof et&&!h.isEncoding(et))throw new TypeError("Unknown encoding: "+et);if(1===H.length){const Ft=H.charCodeAt(0);("utf8"===et&&Ft<128||"latin1"===et)&&(H=Ft)}}else"number"==typeof H?H&=255:"boolean"==typeof H&&(H=Number(H));if(te<0||this.length<te||this.length<Ue)throw new RangeError("Out of range index");if(Ue<=te)return this;let ft;if(te>>>=0,Ue=void 0===Ue?this.length:Ue>>>0,H||(H=0),"number"==typeof H)for(ft=te;ft<Ue;++ft)this[ft]=H;else{const Ft=h.isBuffer(H)?H:h.from(H,et),sn=Ft.length;if(0===sn)throw new TypeError('The value "'+H+'" is invalid for argument "value"');for(ft=0;ft<Ue-te;++ft)this[ft+te]=Ft[ft%sn]}return this};const ln={};function Mt(oe,H,te){ln[oe]=class extends te{constructor(){super(),Object.defineProperty(this,"message",{value:H.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${oe}]`,delete this.name}get code(){return oe}set code(et){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:et,writable:!0})}toString(){return`${this.name} [${oe}]: ${this.message}`}}}function xt(oe){let H="",te=oe.length;const Ue="-"===oe[0]?1:0;for(;te>=Ue+4;te-=3)H=`_${oe.slice(te-3,te)}${H}`;return`${oe.slice(0,te)}${H}`}function W(oe,H,te,Ue,et,ft){if(oe>te||oe<H){const Ft="bigint"==typeof H?"n":"";let sn;throw sn=ft>3?0===H||H===BigInt(0)?`>= 0${Ft} and < 2${Ft} ** ${8*(ft+1)}${Ft}`:`>= -(2${Ft} ** ${8*(ft+1)-1}${Ft}) and < 2 ** ${8*(ft+1)-1}${Ft}`:`>= ${H}${Ft} and <= ${te}${Ft}`,new ln.ERR_OUT_OF_RANGE("value",sn,oe)}!function z(oe,H,te){J(H,"offset"),(void 0===oe[H]||void 0===oe[H+te])&&_e(H,oe.length-(te+1))}(Ue,et,ft)}function J(oe,H){if("number"!=typeof oe)throw new ln.ERR_INVALID_ARG_TYPE(H,"number",oe)}function _e(oe,H,te){throw Math.floor(oe)!==oe?(J(oe,te),new ln.ERR_OUT_OF_RANGE(te||"offset","an integer",oe)):H<0?new ln.ERR_BUFFER_OUT_OF_BOUNDS:new ln.ERR_OUT_OF_RANGE(te||"offset",`>= ${te?1:0} and <= ${H}`,oe)}Mt("ERR_BUFFER_OUT_OF_BOUNDS",function(oe){return oe?`${oe} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Mt("ERR_INVALID_ARG_TYPE",function(oe,H){return`The "${oe}" argument must be of type number. Received type ${typeof H}`},TypeError),Mt("ERR_OUT_OF_RANGE",function(oe,H,te){let Ue=`The value of "${oe}" is out of range.`,et=te;return Number.isInteger(te)&&Math.abs(te)>2**32?et=xt(String(te)):"bigint"==typeof te&&(et=String(te),(te>BigInt(2)**BigInt(32)||te<-(BigInt(2)**BigInt(32)))&&(et=xt(et)),et+="n"),Ue+=` It must be ${H}. Received ${et}`,Ue},RangeError);const Ce=/[^+/0-9A-Za-z-_]/g;function Fe(oe,H){let te;H=H||1/0;const Ue=oe.length;let et=null;const ft=[];for(let Ft=0;Ft<Ue;++Ft){if(te=oe.charCodeAt(Ft),te>55295&&te<57344){if(!et){if(te>56319){(H-=3)>-1&&ft.push(239,191,189);continue}if(Ft+1===Ue){(H-=3)>-1&&ft.push(239,191,189);continue}et=te;continue}if(te<56320){(H-=3)>-1&&ft.push(239,191,189),et=te;continue}te=65536+(et-55296<<10|te-56320)}else et&&(H-=3)>-1&&ft.push(239,191,189);if(et=null,te<128){if((H-=1)<0)break;ft.push(te)}else if(te<2048){if((H-=2)<0)break;ft.push(te>>6|192,63&te|128)}else if(te<65536){if((H-=3)<0)break;ft.push(te>>12|224,te>>6&63|128,63&te|128)}else{if(!(te<1114112))throw new Error("Invalid code point");if((H-=4)<0)break;ft.push(te>>18|240,te>>12&63|128,te>>6&63|128,63&te|128)}}return ft}function mt(oe){return e.toByteArray(function st(oe){if((oe=(oe=oe.split("=")[0]).trim().replace(Ce,"")).length<2)return"";for(;oe.length%4!=0;)oe+="=";return oe}(oe))}function tt(oe,H,te,Ue){let et;for(et=0;et<Ue&&!(et+te>=H.length||et>=oe.length);++et)H[et+te]=oe[et];return et}function $t(oe,H){return oe instanceof H||null!=oe&&null!=oe.constructor&&null!=oe.constructor.name&&oe.constructor.name===H.name}function en(oe){return oe!=oe}const Ot=function(){const oe="0123456789abcdef",H=new Array(256);for(let te=0;te<16;++te){const Ue=16*te;for(let et=0;et<16;++et)H[Ue+et]=oe[te]+oe[et]}return H}();function Yt(oe){return typeof BigInt>"u"?je:oe}function je(){throw new Error("BigInt not supported")}},2020:(lt,we)=>{we.read=function(p,i,e,v,y){var w,I,D=8*y-v-1,h=(1<<D)-1,f=h>>1,E=-7,F=e?y-1:0,L=e?-1:1,_=p[i+F];for(F+=L,w=_&(1<<-E)-1,_>>=-E,E+=D;E>0;w=256*w+p[i+F],F+=L,E-=8);for(I=w&(1<<-E)-1,w>>=-E,E+=v;E>0;I=256*I+p[i+F],F+=L,E-=8);if(0===w)w=1-f;else{if(w===h)return I?NaN:1/0*(_?-1:1);I+=Math.pow(2,v),w-=f}return(_?-1:1)*I*Math.pow(2,w-v)},we.write=function(p,i,e,v,y,w){var I,D,h,f=8*w-y-1,E=(1<<f)-1,F=E>>1,L=23===y?Math.pow(2,-24)-Math.pow(2,-77):0,_=v?0:w-1,M=v?1:-1,N=i<0||0===i&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(D=isNaN(i)?1:0,I=E):(I=Math.floor(Math.log(i)/Math.LN2),i*(h=Math.pow(2,-I))<1&&(I--,h*=2),(i+=I+F>=1?L/h:L*Math.pow(2,1-F))*h>=2&&(I++,h/=2),I+F>=E?(D=0,I=E):I+F>=1?(D=(i*h-1)*Math.pow(2,y),I+=F):(D=i*Math.pow(2,F-1)*Math.pow(2,y),I=0));y>=8;p[e+_]=255&D,_+=M,D/=256,y-=8);for(I=I<<y|D,f+=y;f>0;p[e+_]=255&I,_+=M,I/=256,f-=8);p[e+_-M]|=128*N}},57:(lt,we,p)=>{var i=p(6589);function e(M,N){i.cipher.registerAlgorithm(M,function(){return new i.aes.Algorithm(M,N)})}p(5855),p(8580),p(812),lt.exports=i.aes=i.aes||{},i.aes.startEncrypting=function(M,N,P,G){var x=_({key:M,output:P,decrypt:!1,mode:G});return x.start(N),x},i.aes.createEncryptionCipher=function(M,N){return _({key:M,output:null,decrypt:!1,mode:N})},i.aes.startDecrypting=function(M,N,P,G){var x=_({key:M,output:P,decrypt:!0,mode:G});return x.start(N),x},i.aes.createDecryptionCipher=function(M,N){return _({key:M,output:null,decrypt:!0,mode:N})},i.aes.Algorithm=function(M,N){v||E();var P=this;P.name=M,P.mode=new N({blockSize:16,cipher:{encrypt:function(G,x){return L(P._w,G,x,!1)},decrypt:function(G,x){return L(P._w,G,x,!0)}}}),P._init=!1},i.aes.Algorithm.prototype.initialize=function(M){if(!this._init){var P,N=M.key;if("string"!=typeof N||16!==N.length&&24!==N.length&&32!==N.length){if(i.util.isArray(N)&&(16===N.length||24===N.length||32===N.length)){P=N,N=i.util.createBuffer();for(var G=0;G<P.length;++G)N.putByte(P[G])}}else N=i.util.createBuffer(N);if(!i.util.isArray(N)){P=N,N=[];var x=P.length();if(16===x||24===x||32===x)for(x>>>=2,G=0;G<x;++G)N.push(P.getInt32())}if(!i.util.isArray(N)||4!==N.length&&6!==N.length&&8!==N.length)throw new Error("Invalid key parameter.");var Q=-1!==["CFB","OFB","CTR","GCM"].indexOf(this.mode.name);this._w=F(N,M.decrypt&&!Q),this._init=!0}},i.aes._expandKey=function(M,N){return v||E(),F(M,N)},i.aes._updateBlock=L,e("AES-ECB",i.cipher.modes.ecb),e("AES-CBC",i.cipher.modes.cbc),e("AES-CFB",i.cipher.modes.cfb),e("AES-OFB",i.cipher.modes.ofb),e("AES-CTR",i.cipher.modes.ctr),e("AES-GCM",i.cipher.modes.gcm);var w,I,D,h,f,v=!1,y=4;function E(){v=!0,D=[0,1,2,4,8,16,32,64,128,27,54];for(var M=new Array(256),N=0;N<128;++N)M[N]=N<<1,M[N+128]=N+128<<1^283;for(w=new Array(256),I=new Array(256),h=new Array(4),f=new Array(4),N=0;N<4;++N)h[N]=new Array(256),f[N]=new Array(256);var x,V,Q,Y,le,fe,K,P=0,G=0;for(N=0;N<256;++N){w[P]=Y=(Y=G^G<<1^G<<2^G<<3^G<<4)>>8^255&Y^99,I[Y]=P,fe=(le=M[Y])<<24^Y<<16^Y<<8^Y^le,K=((x=M[P])^(V=M[x])^(Q=M[V]))<<24^(P^Q)<<16^(P^V^Q)<<8^P^x^Q;for(var ee=0;ee<4;++ee)h[ee][P]=fe,f[ee][Y]=K,fe=fe<<24|fe>>>8,K=K<<24|K>>>8;0===P?P=G=1:(P=x^M[M[M[x^Q]]],G^=M[M[G]])}}function F(M,N){for(var G,P=M.slice(0),x=1,V=P.length,Y=y*(V+6+1),le=V;le<Y;++le)G=P[le-1],le%V==0?(G=w[G>>>16&255]<<24^w[G>>>8&255]<<16^w[255&G]<<8^w[G>>>24]^D[x]<<24,x++):V>6&&le%V==4&&(G=w[G>>>24]<<24^w[G>>>16&255]<<16^w[G>>>8&255]<<8^w[255&G]),P[le]=P[le-V]^G;if(N){for(var fe,K=f[0],ee=f[1],ie=f[2],T=f[3],ae=P.slice(0),re=(le=0,(Y=P.length)-y);le<Y;le+=y,re-=y)if(0===le||le===Y-y)ae[le]=P[re],ae[le+1]=P[re+3],ae[le+2]=P[re+2],ae[le+3]=P[re+1];else for(var Me=0;Me<y;++Me)ae[le+(3&-Me)]=K[w[(fe=P[re+Me])>>>24]]^ee[w[fe>>>16&255]]^ie[w[fe>>>8&255]]^T[w[255&fe]];P=ae}return P}function L(M,N,P,G){var V,Q,Y,le,fe,K,ee,ie,T,ae,re,Me,x=M.length/4-1;G?(V=f[0],Q=f[1],Y=f[2],le=f[3],fe=I):(V=h[0],Q=h[1],Y=h[2],le=h[3],fe=w),K=N[0]^M[0],ee=N[G?3:1]^M[1],ie=N[2]^M[2],T=N[G?1:3]^M[3];for(var Qe=3,Le=1;Le<x;++Le)ae=V[K>>>24]^Q[ee>>>16&255]^Y[ie>>>8&255]^le[255&T]^M[++Qe],re=V[ee>>>24]^Q[ie>>>16&255]^Y[T>>>8&255]^le[255&K]^M[++Qe],Me=V[ie>>>24]^Q[T>>>16&255]^Y[K>>>8&255]^le[255&ee]^M[++Qe],T=V[T>>>24]^Q[K>>>16&255]^Y[ee>>>8&255]^le[255&ie]^M[++Qe],K=ae,ee=re,ie=Me;P[0]=fe[K>>>24]<<24^fe[ee>>>16&255]<<16^fe[ie>>>8&255]<<8^fe[255&T]^M[++Qe],P[G?3:1]=fe[ee>>>24]<<24^fe[ie>>>16&255]<<16^fe[T>>>8&255]<<8^fe[255&K]^M[++Qe],P[2]=fe[ie>>>24]<<24^fe[T>>>16&255]<<16^fe[K>>>8&255]<<8^fe[255&ee]^M[++Qe],P[G?1:3]=fe[T>>>24]<<24^fe[K>>>16&255]<<16^fe[ee>>>8&255]<<8^fe[255&ie]^M[++Qe]}function _(M){var G,P="AES-"+((M=M||{}).mode||"CBC").toUpperCase(),x=(G=M.decrypt?i.cipher.createDecipher(P,M.key):i.cipher.createCipher(P,M.key)).start;return G.start=function(V,Q){var Y=null;Q instanceof i.util.ByteBuffer&&(Y=Q,Q={}),(Q=Q||{}).output=Y,Q.iv=V,x.call(G,Q)},G}},3707:(lt,we,p)=>{var i=p(6589);p(57),p(9807);var e=lt.exports=i.tls;function v(f,E,F){var L=E.entity===i.tls.ConnectionEnd.client;f.read.cipherState={init:!1,cipher:i.cipher.createDecipher("AES-CBC",L?F.keys.server_write_key:F.keys.client_write_key),iv:L?F.keys.server_write_IV:F.keys.client_write_IV},f.write.cipherState={init:!1,cipher:i.cipher.createCipher("AES-CBC",L?F.keys.client_write_key:F.keys.server_write_key),iv:L?F.keys.client_write_IV:F.keys.server_write_IV},f.read.cipherFunction=D,f.write.cipherFunction=y,f.read.macLength=f.write.macLength=F.mac_length,f.read.macFunction=f.write.macFunction=e.hmac_sha1}function y(f,E){var _,F=!1,L=E.macFunction(E.macKey,E.sequenceNumber,f);f.fragment.putBytes(L),E.updateSequenceNumber(),_=f.version.minor===e.Versions.TLS_1_0.minor?E.cipherState.init?null:E.cipherState.iv:i.random.getBytesSync(16),E.cipherState.init=!0;var M=E.cipherState.cipher;return M.start({iv:_}),f.version.minor>=e.Versions.TLS_1_1.minor&&M.output.putBytes(_),M.update(f.fragment),M.finish(w)&&(f.fragment=M.output,f.length=f.fragment.length(),F=!0),F}function w(f,E,F){if(!F){var L=f-E.length()%f;E.fillWithByte(L-1,L)}return!0}function I(f,E,F){var L=!0;if(F){for(var _=E.length(),M=E.last(),N=_-1-M;N<_-1;++N)L=L&&E.at(N)==M;L&&E.truncate(M+1)}return L}function D(f,E){var L,F=!1;L=f.version.minor===e.Versions.TLS_1_0.minor?E.cipherState.init?null:E.cipherState.iv:f.fragment.getBytes(16),E.cipherState.init=!0;var _=E.cipherState.cipher;_.start({iv:L}),_.update(f.fragment),F=_.finish(I);var M=E.macLength,N=i.random.getBytesSync(M),P=_.output.length();P>=M?(f.fragment=_.output.getBytes(P-M),N=_.output.getBytes(M)):f.fragment=_.output.getBytes(),f.fragment=i.util.createBuffer(f.fragment),f.length=f.fragment.length();var G=E.macFunction(E.macKey,E.sequenceNumber,f);return E.updateSequenceNumber(),F=function h(f,E,F){var L=i.hmac.create();return L.start("SHA1",f),L.update(E),E=L.digest().getBytes(),L.start(null,null),L.update(F),E===(F=L.digest().getBytes())}(E.macKey,N,G)&&F,F}e.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:function(f){f.bulk_cipher_algorithm=e.BulkCipherAlgorithm.aes,f.cipher_type=e.CipherType.block,f.enc_key_length=16,f.block_length=16,f.fixed_iv_length=16,f.record_iv_length=16,f.mac_algorithm=e.MACAlgorithm.hmac_sha1,f.mac_length=20,f.mac_key_length=20},initConnectionState:v},e.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:function(f){f.bulk_cipher_algorithm=e.BulkCipherAlgorithm.aes,f.cipher_type=e.CipherType.block,f.enc_key_length=32,f.block_length=16,f.fixed_iv_length=16,f.record_iv_length=16,f.mac_algorithm=e.MACAlgorithm.hmac_sha1,f.mac_length=20,f.mac_key_length=20},initConnectionState:v}},2758:(lt,we,p)=>{var i=p(6589);p(7097);var e=i.asn1;we.privateKeyValidator={name:"PrivateKeyInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},we.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:e.Class.UNIVERSAL,type:e.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]}},7097:(lt,we,p)=>{var i=p(6589);p(812),p(1817);var e=lt.exports=i.asn1=i.asn1||{};function v(D,h,f){if(f>h){var E=new Error("Too few bytes to parse DER.");throw E.available=D.length(),E.remaining=h,E.requested=f,E}}function w(D,h,f,E){var F;v(D,h,2);var L=D.getByte();h--;var _=192&L,M=31&L;F=D.length();var N=function(D,h){var f=D.getByte();if(h--,128!==f){var E;if(128&f){var L=127&f;v(D,h,L),E=D.getInt(L<<3)}else E=f;if(E<0)throw new Error("Negative length: "+E);return E}}(D,h);if(h-=F-D.length(),void 0!==N&&N>h){if(E.strict){var P=new Error("Too few bytes to read ASN.1 value.");throw P.available=D.length(),P.remaining=h,P.requested=N,P}N=h}var G,x,V=!(32&~L);if(V)if(G=[],void 0===N)for(;;){if(v(D,h,2),"\0\0"===D.bytes(2)){D.getBytes(2),h-=2;break}F=D.length(),G.push(w(D,h,f+1,E)),h-=F-D.length()}else for(;N>0;)F=D.length(),G.push(w(D,N,f+1,E)),h-=F-D.length(),N-=F-D.length();if(void 0===G&&_===e.Class.UNIVERSAL&&M===e.Type.BITSTRING&&(x=D.bytes(N)),void 0===G&&E.decodeBitStrings&&_===e.Class.UNIVERSAL&&M===e.Type.BITSTRING&&N>1){var Q=D.read,Y=h,le=0;if(M===e.Type.BITSTRING&&(v(D,h,1),le=D.getByte(),h--),0===le)try{F=D.length();var K=w(D,h,f+1,{strict:!0,decodeBitStrings:!0}),ee=F-D.length();h-=ee,M==e.Type.BITSTRING&&ee++;var ie=K.tagClass;ee===N&&(ie===e.Class.UNIVERSAL||ie===e.Class.CONTEXT_SPECIFIC)&&(G=[K])}catch{}void 0===G&&(D.read=Q,h=Y)}if(void 0===G){if(void 0===N){if(E.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");N=h}if(M===e.Type.BMPSTRING)for(G="";N>0;N-=2)v(D,h,2),G+=String.fromCharCode(D.getInt16()),h-=2;else G=D.getBytes(N),h-=N}return e.create(_,M,V,G,void 0===x?null:{bitStringContents:x})}e.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192},e.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30},e.create=function(D,h,f,E,F){if(i.util.isArray(E)){for(var L=[],_=0;_<E.length;++_)void 0!==E[_]&&L.push(E[_]);E=L}var M={tagClass:D,type:h,constructed:f,composed:f||i.util.isArray(E),value:E};return F&&"bitStringContents"in F&&(M.bitStringContents=F.bitStringContents,M.original=e.copy(M)),M},e.copy=function(D,h){var f;if(i.util.isArray(D)){f=[];for(var E=0;E<D.length;++E)f.push(e.copy(D[E],h));return f}return"string"==typeof D?D:(f={tagClass:D.tagClass,type:D.type,constructed:D.constructed,composed:D.composed,value:e.copy(D.value,h)},h&&!h.excludeBitStringContents&&(f.bitStringContents=D.bitStringContents),f)},e.equals=function(D,h,f){if(i.util.isArray(D)){if(!i.util.isArray(h)||D.length!==h.length)return!1;for(var E=0;E<D.length;++E)if(!e.equals(D[E],h[E]))return!1;return!0}if(typeof D!=typeof h)return!1;if("string"==typeof D)return D===h;var F=D.tagClass===h.tagClass&&D.type===h.type&&D.constructed===h.constructed&&D.composed===h.composed&&e.equals(D.value,h.value);return f&&f.includeBitStringContents&&(F=F&&D.bitStringContents===h.bitStringContents),F},e.getBerValueLength=function(D){var h=D.getByte();if(128!==h)return 128&h?D.getInt((127&h)<<3):h},e.fromDer=function(D,h){void 0===h&&(h={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),"boolean"==typeof h&&(h={strict:h,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in h||(h.strict=!0),"parseAllBytes"in h||(h.parseAllBytes=!0),"decodeBitStrings"in h||(h.decodeBitStrings=!0),"string"==typeof D&&(D=i.util.createBuffer(D));var f=D.length(),E=w(D,D.length(),0,h);if(h.parseAllBytes&&0!==D.length()){var F=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw F.byteCount=f,F.remaining=D.length(),F}return E},e.toDer=function(D){var h=i.util.createBuffer(),f=D.tagClass|D.type,E=i.util.createBuffer(),F=!1;if("bitStringContents"in D&&(F=!0,D.original&&(F=e.equals(D,D.original))),F)E.putBytes(D.bitStringContents);else if(D.composed){D.constructed?f|=32:E.putByte(0);for(var L=0;L<D.value.length;++L)void 0!==D.value[L]&&E.putBuffer(e.toDer(D.value[L]))}else if(D.type===e.Type.BMPSTRING)for(L=0;L<D.value.length;++L)E.putInt16(D.value.charCodeAt(L));else!(D.type===e.Type.INTEGER&&D.value.length>1)||(0!==D.value.charCodeAt(0)||128&D.value.charCodeAt(1))&&(255!==D.value.charCodeAt(0)||128&~D.value.charCodeAt(1))?E.putBytes(D.value):E.putBytes(D.value.substr(1));if(h.putByte(f),E.length()<=127)h.putByte(127&E.length());else{var _=E.length(),M="";do{M+=String.fromCharCode(255&_),_>>>=8}while(_>0);for(h.putByte(128|M.length),L=M.length-1;L>=0;--L)h.putByte(M.charCodeAt(L))}return h.putBuffer(E),h},e.oidToDer=function(D){var h=D.split("."),f=i.util.createBuffer();f.putByte(40*parseInt(h[0],10)+parseInt(h[1],10));for(var E,F,L,_,M=2;M<h.length;++M){E=!0,F=[],L=parseInt(h[M],10);do{_=127&L,L>>>=7,E||(_|=128),F.push(_),E=!1}while(L>0);for(var N=F.length-1;N>=0;--N)f.putByte(F[N])}return f},e.derToOid=function(D){var h;"string"==typeof D&&(D=i.util.createBuffer(D));var f=D.getByte();h=Math.floor(f/40)+"."+f%40;for(var E=0;D.length()>0;)E<<=7,128&(f=D.getByte())?E+=127&f:(h+="."+(E+f),E=0);return h},e.utcTimeToDate=function(D){var h=new Date,f=parseInt(D.substr(0,2),10);f=f>=50?1900+f:2e3+f;var E=parseInt(D.substr(2,2),10)-1,F=parseInt(D.substr(4,2),10),L=parseInt(D.substr(6,2),10),_=parseInt(D.substr(8,2),10),M=0;if(D.length>11){var N=D.charAt(10),P=10;"+"!==N&&"-"!==N&&(M=parseInt(D.substr(10,2),10),P+=2)}if(h.setUTCFullYear(f,E,F),h.setUTCHours(L,_,M,0),P&&("+"===(N=D.charAt(P))||"-"===N)){var V=60*parseInt(D.substr(P+1,2),10)+parseInt(D.substr(P+4,2),10);V*=6e4,h.setTime("+"===N?+h-V:+h+V)}return h},e.generalizedTimeToDate=function(D){var h=new Date,f=parseInt(D.substr(0,4),10),E=parseInt(D.substr(4,2),10)-1,F=parseInt(D.substr(6,2),10),L=parseInt(D.substr(8,2),10),_=parseInt(D.substr(10,2),10),M=parseInt(D.substr(12,2),10),N=0,P=0,G=!1;"Z"===D.charAt(D.length-1)&&(G=!0);var x=D.length-5,V=D.charAt(x);return"+"!==V&&"-"!==V||(P=60*parseInt(D.substr(x+1,2),10)+parseInt(D.substr(x+4,2),10),P*=6e4,"+"===V&&(P*=-1),G=!0),"."===D.charAt(14)&&(N=1e3*parseFloat(D.substr(14),10)),G?(h.setUTCFullYear(f,E,F),h.setUTCHours(L,_,M,N),h.setTime(+h+P)):(h.setFullYear(f,E,F),h.setHours(L,_,M,N)),h},e.dateToUtcTime=function(D){if("string"==typeof D)return D;var h="",f=[];f.push((""+D.getUTCFullYear()).substr(2)),f.push(""+(D.getUTCMonth()+1)),f.push(""+D.getUTCDate()),f.push(""+D.getUTCHours()),f.push(""+D.getUTCMinutes()),f.push(""+D.getUTCSeconds());for(var E=0;E<f.length;++E)f[E].length<2&&(h+="0"),h+=f[E];return h+"Z"},e.dateToGeneralizedTime=function(D){if("string"==typeof D)return D;var h="",f=[];f.push(""+D.getUTCFullYear()),f.push(""+(D.getUTCMonth()+1)),f.push(""+D.getUTCDate()),f.push(""+D.getUTCHours()),f.push(""+D.getUTCMinutes()),f.push(""+D.getUTCSeconds());for(var E=0;E<f.length;++E)f[E].length<2&&(h+="0"),h+=f[E];return h+"Z"},e.integerToDer=function(D){var h=i.util.createBuffer();if(D>=-128&&D<128)return h.putSignedInt(D,8);if(D>=-32768&&D<32768)return h.putSignedInt(D,16);if(D>=-8388608&&D<8388608)return h.putSignedInt(D,24);if(D>=-2147483648&&D<2147483648)return h.putSignedInt(D,32);var f=new Error("Integer too large; max is 32-bits.");throw f.integer=D,f},e.derToInteger=function(D){"string"==typeof D&&(D=i.util.createBuffer(D));var h=8*D.length();if(h>32)throw new Error("Integer too large; max is 32-bits.");return D.getSignedInt(h)},e.validate=function(D,h,f,E){var F=!1;if((D.tagClass===h.tagClass||typeof h.tagClass>"u")&&(D.type===h.type||typeof h.type>"u"))if(D.constructed===h.constructed||typeof h.constructed>"u"){if(F=!0,h.value&&i.util.isArray(h.value))for(var L=0,_=0;F&&_<h.value.length;++_)F=h.value[_].optional||!1,D.value[L]&&((F=e.validate(D.value[L],h.value[_],f,E))?++L:h.value[_].optional&&(F=!0)),!F&&E&&E.push("["+h.name+'] Tag class "'+h.tagClass+'", type "'+h.type+'" expected value length "'+h.value.length+'", got "'+D.value.length+'"');if(F&&f&&(h.capture&&(f[h.capture]=D.value),h.captureAsn1&&(f[h.captureAsn1]=D),h.captureBitStringContents&&"bitStringContents"in D&&(f[h.captureBitStringContents]=D.bitStringContents),h.captureBitStringValue&&"bitStringContents"in D))if(D.bitStringContents.length<2)f[h.captureBitStringValue]="";else{if(0!==D.bitStringContents.charCodeAt(0))throw new Error("captureBitStringValue only supported for zero unused bits");f[h.captureBitStringValue]=D.bitStringContents.slice(1)}}else E&&E.push("["+h.name+'] Expected constructed "'+h.constructed+'", got "'+D.constructed+'"');else E&&(D.tagClass!==h.tagClass&&E.push("["+h.name+'] Expected tag class "'+h.tagClass+'", got "'+D.tagClass+'"'),D.type!==h.type&&E.push("["+h.name+'] Expected type "'+h.type+'", got "'+D.type+'"'));return F};var I=/[^\\u0000-\\u00ff]/;e.prettyPrint=function(D,h,f){var E="";f=f||2,(h=h||0)>0&&(E+="\n");for(var F="",L=0;L<h*f;++L)F+=" ";switch(E+=F+"Tag: ",D.tagClass){case e.Class.UNIVERSAL:E+="Universal:";break;case e.Class.APPLICATION:E+="Application:";break;case e.Class.CONTEXT_SPECIFIC:E+="Context-Specific:";break;case e.Class.PRIVATE:E+="Private:"}if(D.tagClass===e.Class.UNIVERSAL)switch(E+=D.type,D.type){case e.Type.NONE:E+=" (None)";break;case e.Type.BOOLEAN:E+=" (Boolean)";break;case e.Type.INTEGER:E+=" (Integer)";break;case e.Type.BITSTRING:E+=" (Bit string)";break;case e.Type.OCTETSTRING:E+=" (Octet string)";break;case e.Type.NULL:E+=" (Null)";break;case e.Type.OID:E+=" (Object Identifier)";break;case e.Type.ODESC:E+=" (Object Descriptor)";break;case e.Type.EXTERNAL:E+=" (External or Instance of)";break;case e.Type.REAL:E+=" (Real)";break;case e.Type.ENUMERATED:E+=" (Enumerated)";break;case e.Type.EMBEDDED:E+=" (Embedded PDV)";break;case e.Type.UTF8:E+=" (UTF8)";break;case e.Type.ROID:E+=" (Relative Object Identifier)";break;case e.Type.SEQUENCE:E+=" (Sequence)";break;case e.Type.SET:E+=" (Set)";break;case e.Type.PRINTABLESTRING:E+=" (Printable String)";break;case e.Type.IA5String:E+=" (IA5String (ASCII))";break;case e.Type.UTCTIME:E+=" (UTC time)";break;case e.Type.GENERALIZEDTIME:E+=" (Generalized time)";break;case e.Type.BMPSTRING:E+=" (BMP String)"}else E+=D.type;if(E+="\n",E+=F+"Constructed: "+D.constructed+"\n",D.composed){var _=0,M="";for(L=0;L<D.value.length;++L)void 0!==D.value[L]&&(_+=1,M+=e.prettyPrint(D.value[L],h+1,f),L+1<D.value.length&&(M+=","));E+=F+"Sub values: "+_+M}else{if(E+=F+"Value: ",D.type===e.Type.OID){var N=e.derToOid(D.value);E+=N,i.pki&&i.pki.oids&&N in i.pki.oids&&(E+=" ("+i.pki.oids[N]+") ")}if(D.type===e.Type.INTEGER)try{E+=e.derToInteger(D.value)}catch{E+="0x"+i.util.bytesToHex(D.value)}else if(D.type===e.Type.BITSTRING){if(E+=D.value.length>1?"0x"+i.util.bytesToHex(D.value.slice(1)):"(none)",D.value.length>0){var P=D.value.charCodeAt(0);1==P?E+=" (1 unused bit shown)":P>1&&(E+=" ("+P+" unused bits shown)")}}else if(D.type===e.Type.OCTETSTRING)I.test(D.value)||(E+="("+D.value+") "),E+="0x"+i.util.bytesToHex(D.value);else if(D.type===e.Type.UTF8)try{E+=i.util.decodeUtf8(D.value)}catch(G){if("URI malformed"!==G.message)throw G;E+="0x"+i.util.bytesToHex(D.value)+" (malformed UTF8)"}else D.type===e.Type.PRINTABLESTRING||D.type===e.Type.IA5String?E+=D.value:I.test(D.value)?E+="0x"+i.util.bytesToHex(D.value):E+=0===D.value.length?"[null]":D.value}return E}},3175:lt=>{var we={};lt.exports=we;var p={};we.encode=function(e,v,y){if("string"!=typeof v)throw new TypeError('"alphabet" must be a string.');if(void 0!==y&&"number"!=typeof y)throw new TypeError('"maxline" must be a number.');var w="";if(e instanceof Uint8Array){var I=0,D=v.length,h=v.charAt(0),f=[0];for(I=0;I<e.length;++I){for(var E=0,F=e[I];E<f.length;++E)f[E]=(F+=f[E]<<8)%D,F=F/D|0;for(;F>0;)f.push(F%D),F=F/D|0}for(I=0;0===e[I]&&I<e.length-1;++I)w+=h;for(I=f.length-1;I>=0;--I)w+=v[f[I]]}else w=function i(e,v){var y=0,w=v.length,I=v.charAt(0),D=[0];for(y=0;y<e.length();++y){for(var h=0,f=e.at(y);h<D.length;++h)D[h]=(f+=D[h]<<8)%w,f=f/w|0;for(;f>0;)D.push(f%w),f=f/w|0}var E="";for(y=0;0===e.at(y)&&y<e.length()-1;++y)E+=I;for(y=D.length-1;y>=0;--y)E+=v[D[y]];return E}(e,v);if(y){var L=new RegExp(".{1,"+y+"}","g");w=w.match(L).join("\r\n")}return w},we.decode=function(e,v){if("string"!=typeof e)throw new TypeError('"input" must be a string.');if("string"!=typeof v)throw new TypeError('"alphabet" must be a string.');var y=p[v];if(!y){y=p[v]=[];for(var w=0;w<v.length;++w)y[v.charCodeAt(w)]=w}e=e.replace(/\s/g,"");var I=v.length,D=v.charAt(0),h=[0];for(w=0;w<e.length;w++){var f=y[e.charCodeAt(w)];if(void 0===f)return;for(var E=0,F=f;E<h.length;++E)h[E]=255&(F+=h[E]*I),F>>=8;for(;F>0;)h.push(255&F),F>>=8}for(var L=0;e[L]===D&&L<e.length-1;++L)h.push(0);return typeof Buffer<"u"?Buffer.from(h.reverse()):new Uint8Array(h.reverse())}},5855:(lt,we,p)=>{var i=p(6589);p(812),lt.exports=i.cipher=i.cipher||{},i.cipher.algorithms=i.cipher.algorithms||{},i.cipher.createCipher=function(v,y){var w=v;if("string"==typeof w&&(w=i.cipher.getAlgorithm(w))&&(w=w()),!w)throw new Error("Unsupported algorithm: "+v);return new i.cipher.BlockCipher({algorithm:w,key:y,decrypt:!1})},i.cipher.createDecipher=function(v,y){var w=v;if("string"==typeof w&&(w=i.cipher.getAlgorithm(w))&&(w=w()),!w)throw new Error("Unsupported algorithm: "+v);return new i.cipher.BlockCipher({algorithm:w,key:y,decrypt:!0})},i.cipher.registerAlgorithm=function(v,y){v=v.toUpperCase(),i.cipher.algorithms[v]=y},i.cipher.getAlgorithm=function(v){return(v=v.toUpperCase())in i.cipher.algorithms?i.cipher.algorithms[v]:null};var e=i.cipher.BlockCipher=function(v){this.algorithm=v.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=v.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=v.decrypt,this.algorithm.initialize(v)};e.prototype.start=function(v){v=v||{};var y={};for(var w in v)y[w]=v[w];y.decrypt=this._decrypt,this._finish=!1,this._input=i.util.createBuffer(),this.output=v.output||i.util.createBuffer(),this.mode.start(y)},e.prototype.update=function(v){for(v&&this._input.putBuffer(v);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()},e.prototype.finish=function(v){v&&("ECB"===this.mode.name||"CBC"===this.mode.name)&&(this.mode.pad=function(w){return v(this.blockSize,w,!1)},this.mode.unpad=function(w){return v(this.blockSize,w,!0)});var y={};return y.decrypt=this._decrypt,y.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,y)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,y))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,y))}},8580:(lt,we,p)=>{var i=p(6589);p(812),i.cipher=i.cipher||{};var e=lt.exports=i.cipher.modes=i.cipher.modes||{};function v(I,D){if("string"==typeof I&&(I=i.util.createBuffer(I)),i.util.isArray(I)&&I.length>4){var h=I;I=i.util.createBuffer();for(var f=0;f<h.length;++f)I.putByte(h[f])}if(I.length()<D)throw new Error("Invalid IV length; got "+I.length()+" bytes and expected "+D+" bytes.");if(!i.util.isArray(I)){var E=[],F=D/4;for(f=0;f<F;++f)E.push(I.getInt32());I=E}return I}function y(I){I[I.length-1]=I[I.length-1]+1&4294967295}function w(I){return[I/4294967296|0,4294967295&I]}e.ecb=function(I){I=I||{},this.name="ECB",this.cipher=I.cipher,this.blockSize=I.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},e.ecb.prototype.start=function(I){},e.ecb.prototype.encrypt=function(I,D,h){if(I.length()<this.blockSize&&!(h&&I.length()>0))return!0;for(var f=0;f<this._ints;++f)this._inBlock[f]=I.getInt32();for(this.cipher.encrypt(this._inBlock,this._outBlock),f=0;f<this._ints;++f)D.putInt32(this._outBlock[f])},e.ecb.prototype.decrypt=function(I,D,h){if(I.length()<this.blockSize&&!(h&&I.length()>0))return!0;for(var f=0;f<this._ints;++f)this._inBlock[f]=I.getInt32();for(this.cipher.decrypt(this._inBlock,this._outBlock),f=0;f<this._ints;++f)D.putInt32(this._outBlock[f])},e.ecb.prototype.pad=function(I,D){var h=I.length()===this.blockSize?this.blockSize:this.blockSize-I.length();return I.fillWithByte(h,h),!0},e.ecb.prototype.unpad=function(I,D){if(D.overflow>0)return!1;var h=I.length(),f=I.at(h-1);return!(f>this.blockSize<<2||(I.truncate(f),0))},e.cbc=function(I){I=I||{},this.name="CBC",this.cipher=I.cipher,this.blockSize=I.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},e.cbc.prototype.start=function(I){if(null===I.iv){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else{if(!("iv"in I))throw new Error("Invalid IV parameter.");this._iv=v(I.iv,this.blockSize),this._prev=this._iv.slice(0)}},e.cbc.prototype.encrypt=function(I,D,h){if(I.length()<this.blockSize&&!(h&&I.length()>0))return!0;for(var f=0;f<this._ints;++f)this._inBlock[f]=this._prev[f]^I.getInt32();for(this.cipher.encrypt(this._inBlock,this._outBlock),f=0;f<this._ints;++f)D.putInt32(this._outBlock[f]);this._prev=this._outBlock},e.cbc.prototype.decrypt=function(I,D,h){if(I.length()<this.blockSize&&!(h&&I.length()>0))return!0;for(var f=0;f<this._ints;++f)this._inBlock[f]=I.getInt32();for(this.cipher.decrypt(this._inBlock,this._outBlock),f=0;f<this._ints;++f)D.putInt32(this._prev[f]^this._outBlock[f]);this._prev=this._inBlock.slice(0)},e.cbc.prototype.pad=function(I,D){var h=I.length()===this.blockSize?this.blockSize:this.blockSize-I.length();return I.fillWithByte(h,h),!0},e.cbc.prototype.unpad=function(I,D){if(D.overflow>0)return!1;var h=I.length(),f=I.at(h-1);return!(f>this.blockSize<<2||(I.truncate(f),0))},e.cfb=function(I){I=I||{},this.name="CFB",this.cipher=I.cipher,this.blockSize=I.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=i.util.createBuffer(),this._partialBytes=0},e.cfb.prototype.start=function(I){if(!("iv"in I))throw new Error("Invalid IV parameter.");this._iv=v(I.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},e.cfb.prototype.encrypt=function(I,D,h){var f=I.length();if(0===f)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&f>=this.blockSize)for(var E=0;E<this._ints;++E)this._inBlock[E]=I.getInt32()^this._outBlock[E],D.putInt32(this._inBlock[E]);else{var F=(this.blockSize-f)%this.blockSize;for(F>0&&(F=this.blockSize-F),this._partialOutput.clear(),E=0;E<this._ints;++E)this._partialBlock[E]=I.getInt32()^this._outBlock[E],this._partialOutput.putInt32(this._partialBlock[E]);if(F>0)I.read-=this.blockSize;else for(E=0;E<this._ints;++E)this._inBlock[E]=this._partialBlock[E];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),F>0&&!h)return D.putBytes(this._partialOutput.getBytes(F-this._partialBytes)),this._partialBytes=F,!0;D.putBytes(this._partialOutput.getBytes(f-this._partialBytes)),this._partialBytes=0}},e.cfb.prototype.decrypt=function(I,D,h){var f=I.length();if(0===f)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&f>=this.blockSize)for(var E=0;E<this._ints;++E)this._inBlock[E]=I.getInt32(),D.putInt32(this._inBlock[E]^this._outBlock[E]);else{var F=(this.blockSize-f)%this.blockSize;for(F>0&&(F=this.blockSize-F),this._partialOutput.clear(),E=0;E<this._ints;++E)this._partialBlock[E]=I.getInt32(),this._partialOutput.putInt32(this._partialBlock[E]^this._outBlock[E]);if(F>0)I.read-=this.blockSize;else for(E=0;E<this._ints;++E)this._inBlock[E]=this._partialBlock[E];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),F>0&&!h)return D.putBytes(this._partialOutput.getBytes(F-this._partialBytes)),this._partialBytes=F,!0;D.putBytes(this._partialOutput.getBytes(f-this._partialBytes)),this._partialBytes=0}},e.ofb=function(I){I=I||{},this.name="OFB",this.cipher=I.cipher,this.blockSize=I.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=i.util.createBuffer(),this._partialBytes=0},e.ofb.prototype.start=function(I){if(!("iv"in I))throw new Error("Invalid IV parameter.");this._iv=v(I.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},e.ofb.prototype.encrypt=function(I,D,h){var f=I.length();if(0===I.length())return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&f>=this.blockSize)for(var E=0;E<this._ints;++E)D.putInt32(I.getInt32()^this._outBlock[E]),this._inBlock[E]=this._outBlock[E];else{var F=(this.blockSize-f)%this.blockSize;for(F>0&&(F=this.blockSize-F),this._partialOutput.clear(),E=0;E<this._ints;++E)this._partialOutput.putInt32(I.getInt32()^this._outBlock[E]);if(F>0)I.read-=this.blockSize;else for(E=0;E<this._ints;++E)this._inBlock[E]=this._outBlock[E];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),F>0&&!h)return D.putBytes(this._partialOutput.getBytes(F-this._partialBytes)),this._partialBytes=F,!0;D.putBytes(this._partialOutput.getBytes(f-this._partialBytes)),this._partialBytes=0}},e.ofb.prototype.decrypt=e.ofb.prototype.encrypt,e.ctr=function(I){I=I||{},this.name="CTR",this.cipher=I.cipher,this.blockSize=I.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=i.util.createBuffer(),this._partialBytes=0},e.ctr.prototype.start=function(I){if(!("iv"in I))throw new Error("Invalid IV parameter.");this._iv=v(I.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},e.ctr.prototype.encrypt=function(I,D,h){var f=I.length();if(0===f)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&f>=this.blockSize)for(var E=0;E<this._ints;++E)D.putInt32(I.getInt32()^this._outBlock[E]);else{var F=(this.blockSize-f)%this.blockSize;for(F>0&&(F=this.blockSize-F),this._partialOutput.clear(),E=0;E<this._ints;++E)this._partialOutput.putInt32(I.getInt32()^this._outBlock[E]);if(F>0&&(I.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),F>0&&!h)return D.putBytes(this._partialOutput.getBytes(F-this._partialBytes)),this._partialBytes=F,!0;D.putBytes(this._partialOutput.getBytes(f-this._partialBytes)),this._partialBytes=0}y(this._inBlock)},e.ctr.prototype.decrypt=e.ctr.prototype.encrypt,e.gcm=function(I){I=I||{},this.name="GCM",this.cipher=I.cipher,this.blockSize=I.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=i.util.createBuffer(),this._partialBytes=0,this._R=3774873600},e.gcm.prototype.start=function(I){if(!("iv"in I))throw new Error("Invalid IV parameter.");var h,D=i.util.createBuffer(I.iv);if(this._cipherLength=0,h="additionalData"in I?i.util.createBuffer(I.additionalData):i.util.createBuffer(),this._tagLength="tagLength"in I?I.tagLength:128,this._tag=null,I.decrypt&&(this._tag=i.util.createBuffer(I.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var f=D.length();if(12===f)this._j0=[D.getInt32(),D.getInt32(),D.getInt32(),1];else{for(this._j0=[0,0,0,0];D.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[D.getInt32(),D.getInt32(),D.getInt32(),D.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(w(8*f)))}this._inBlock=this._j0.slice(0),y(this._inBlock),this._partialBytes=0,h=i.util.createBuffer(h),this._aDataLength=w(8*h.length());var E=h.length()%this.blockSize;for(E&&h.fillWithByte(0,this.blockSize-E),this._s=[0,0,0,0];h.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[h.getInt32(),h.getInt32(),h.getInt32(),h.getInt32()])},e.gcm.prototype.encrypt=function(I,D,h){var f=I.length();if(0===f)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&f>=this.blockSize){for(var E=0;E<this._ints;++E)D.putInt32(this._outBlock[E]^=I.getInt32());this._cipherLength+=this.blockSize}else{var F=(this.blockSize-f)%this.blockSize;for(F>0&&(F=this.blockSize-F),this._partialOutput.clear(),E=0;E<this._ints;++E)this._partialOutput.putInt32(I.getInt32()^this._outBlock[E]);if(F<=0||h){if(h){var L=f%this.blockSize;this._cipherLength+=L,this._partialOutput.truncate(this.blockSize-L)}else this._cipherLength+=this.blockSize;for(E=0;E<this._ints;++E)this._outBlock[E]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),F>0&&!h)return I.read-=this.blockSize,D.putBytes(this._partialOutput.getBytes(F-this._partialBytes)),this._partialBytes=F,!0;D.putBytes(this._partialOutput.getBytes(f-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),y(this._inBlock)},e.gcm.prototype.decrypt=function(I,D,h){var f=I.length();if(f<this.blockSize&&!(h&&f>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),y(this._inBlock),this._hashBlock[0]=I.getInt32(),this._hashBlock[1]=I.getInt32(),this._hashBlock[2]=I.getInt32(),this._hashBlock[3]=I.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var E=0;E<this._ints;++E)D.putInt32(this._outBlock[E]^this._hashBlock[E]);this._cipherLength+=f<this.blockSize?f%this.blockSize:this.blockSize},e.gcm.prototype.afterFinish=function(I,D){var h=!0;D.decrypt&&D.overflow&&I.truncate(this.blockSize-D.overflow),this.tag=i.util.createBuffer();var f=this._aDataLength.concat(w(8*this._cipherLength));this._s=this.ghash(this._hashSubkey,this._s,f);var E=[];this.cipher.encrypt(this._j0,E);for(var F=0;F<this._ints;++F)this.tag.putInt32(this._s[F]^E[F]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),D.decrypt&&this.tag.bytes()!==this._tag&&(h=!1),h},e.gcm.prototype.multiply=function(I,D){for(var h=[0,0,0,0],f=D.slice(0),E=0;E<128;++E)I[E/32|0]&1<<31-E%32&&(h[0]^=f[0],h[1]^=f[1],h[2]^=f[2],h[3]^=f[3]),this.pow(f,f);return h},e.gcm.prototype.pow=function(I,D){for(var h=1&I[3],f=3;f>0;--f)D[f]=I[f]>>>1|(1&I[f-1])<<31;D[0]=I[0]>>>1,h&&(D[0]^=this._R)},e.gcm.prototype.tableMultiply=function(I){for(var D=[0,0,0,0],h=0;h<32;++h){var F=this._m[h][I[h/8|0]>>>4*(7-h%8)&15];D[0]^=F[0],D[1]^=F[1],D[2]^=F[2],D[3]^=F[3]}return D},e.gcm.prototype.ghash=function(I,D,h){return D[0]^=h[0],D[1]^=h[1],D[2]^=h[2],D[3]^=h[3],this.tableMultiply(D)},e.gcm.prototype.generateHashTable=function(I,D){for(var h=8/D,f=4*h,E=16*h,F=new Array(E),L=0;L<E;++L){var _=[0,0,0,0];_[L/f|0]=1<<D-1<<(f-1-L%f)*D,F[L]=this.generateSubHashTable(this.multiply(_,I),D)}return F},e.gcm.prototype.generateSubHashTable=function(I,D){var h=1<<D,f=h>>>1,E=new Array(h);E[f]=I.slice(0);for(var F=f>>>1;F>0;)this.pow(E[2*F],E[F]=[]),F>>=1;for(F=2;F<f;){for(var L=1;L<F;++L){var _=E[F],M=E[L];E[F+L]=[_[0]^M[0],_[1]^M[1],_[2]^M[2],_[3]^M[3]]}F*=2}for(E[0]=[0,0,0,0],F=f+1;F<h;++F){var N=E[F^f];E[F]=[I[0]^N[0],I[1]^N[1],I[2]^N[2],I[3]^N[3]]}return E}},3674:(lt,we,p)=>{var i=p(6589);function e(M,N){i.cipher.registerAlgorithm(M,function(){return new i.des.Algorithm(M,N)})}p(5855),p(8580),p(812),lt.exports=i.des=i.des||{},i.des.startEncrypting=function(M,N,P,G){var x=_({key:M,output:P,decrypt:!1,mode:G||(null===N?"ECB":"CBC")});return x.start(N),x},i.des.createEncryptionCipher=function(M,N){return _({key:M,output:null,decrypt:!1,mode:N})},i.des.startDecrypting=function(M,N,P,G){var x=_({key:M,output:P,decrypt:!0,mode:G||(null===N?"ECB":"CBC")});return x.start(N),x},i.des.createDecryptionCipher=function(M,N){return _({key:M,output:null,decrypt:!0,mode:N})},i.des.Algorithm=function(M,N){var P=this;P.name=M,P.mode=new N({blockSize:8,cipher:{encrypt:function(G,x){return L(P._keys,G,x,!1)},decrypt:function(G,x){return L(P._keys,G,x,!0)}}}),P._init=!1},i.des.Algorithm.prototype.initialize=function(M){if(!this._init){var N=i.util.createBuffer(M.key);if(0===this.name.indexOf("3DES")&&24!==N.length())throw new Error("Invalid Triple-DES key size: "+8*N.length());this._keys=function F(M){for(var Ne,N=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],P=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],G=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],x=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],V=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],Q=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],Y=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],le=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],fe=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],K=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],ee=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],ie=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],T=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],ae=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],re=M.length()>8?3:1,Me=[],Qe=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],Le=0,Je=0;Je<re;Je++){var Ee=M.getInt32(),be=M.getInt32();Ee^=(Ne=252645135&(Ee>>>4^be))<<4,Ee^=Ne=65535&((be^=Ne)>>>-16^Ee),Ee^=(Ne=858993459&(Ee>>>2^(be^=Ne<<-16)))<<2,Ee^=Ne=65535&((be^=Ne)>>>-16^Ee),Ee^=(Ne=1431655765&(Ee>>>1^(be^=Ne<<-16)))<<1,Ee^=Ne=16711935&((be^=Ne)>>>8^Ee),Ne=(Ee^=(Ne=1431655765&(Ee>>>1^(be^=Ne<<8)))<<1)<<8|(be^=Ne)>>>20&240,Ee=be<<24|be<<8&16711680|be>>>8&65280|be>>>24&240,be=Ne;for(var se=0;se<Qe.length;++se){Qe[se]?(Ee=Ee<<2|Ee>>>26,be=be<<2|be>>>26):(Ee=Ee<<1|Ee>>>27,be=be<<1|be>>>27);var Oe=N[(Ee&=-15)>>>28]|P[Ee>>>24&15]|G[Ee>>>20&15]|x[Ee>>>16&15]|V[Ee>>>12&15]|Q[Ee>>>8&15]|Y[Ee>>>4&15],Ie=le[(be&=-15)>>>28]|fe[be>>>24&15]|K[be>>>20&15]|ee[be>>>16&15]|ie[be>>>12&15]|T[be>>>8&15]|ae[be>>>4&15];Me[Le++]=Oe^(Ne=65535&(Ie>>>16^Oe)),Me[Le++]=Ie^Ne<<16}}return Me}(N),this._init=!0}},e("DES-ECB",i.cipher.modes.ecb),e("DES-CBC",i.cipher.modes.cbc),e("DES-CFB",i.cipher.modes.cfb),e("DES-OFB",i.cipher.modes.ofb),e("DES-CTR",i.cipher.modes.ctr),e("3DES-ECB",i.cipher.modes.ecb),e("3DES-CBC",i.cipher.modes.cbc),e("3DES-CFB",i.cipher.modes.cfb),e("3DES-OFB",i.cipher.modes.ofb),e("3DES-CTR",i.cipher.modes.ctr);var v=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],y=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],w=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],I=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],D=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],h=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],f=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],E=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function L(M,N,P,G){var V,x=32===M.length?3:9;V=3===x?G?[30,-2,-2]:[0,32,2]:G?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var Q,Y=N[0],le=N[1];Y^=(Q=252645135&(Y>>>4^le))<<4,Y^=(Q=65535&(Y>>>16^(le^=Q)))<<16,Y^=Q=858993459&((le^=Q)>>>2^Y),Y^=Q=16711935&((le^=Q<<2)>>>8^Y),Y=(Y^=(Q=1431655765&(Y>>>1^(le^=Q<<8)))<<1)<<1|Y>>>31,le=(le^=Q)<<1|le>>>31;for(var fe=0;fe<x;fe+=3){for(var K=V[fe+1],ee=V[fe+2],ie=V[fe];ie!=K;ie+=ee){var T=le^M[ie],ae=(le>>>4|le<<28)^M[ie+1];Q=Y,Y=le,le=Q^(y[T>>>24&63]|I[T>>>16&63]|h[T>>>8&63]|E[63&T]|v[ae>>>24&63]|w[ae>>>16&63]|D[ae>>>8&63]|f[63&ae])}Q=Y,Y=le,le=Q}le=le>>>1|le<<31,le^=Q=1431655765&((Y=Y>>>1|Y<<31)>>>1^le),le^=(Q=16711935&(le>>>8^(Y^=Q<<1)))<<8,le^=(Q=858993459&(le>>>2^(Y^=Q)))<<2,le^=Q=65535&((Y^=Q)>>>16^le),le^=Q=252645135&((Y^=Q<<16)>>>4^le),P[0]=Y^=Q<<4,P[1]=le}function _(M){var G,P="DES-"+((M=M||{}).mode||"CBC").toUpperCase(),x=(G=M.decrypt?i.cipher.createDecipher(P,M.key):i.cipher.createCipher(P,M.key)).start;return G.start=function(V,Q){var Y=null;Q instanceof i.util.ByteBuffer&&(Y=Q,Q={}),(Q=Q||{}).output=Y,Q.iv=V,x.call(G,Q)},G}},651:(lt,we,p)=>{var i=p(6589);p(3364),p(1675),p(1290),p(812);var e=p(2758),v=e.publicKeyValidator,y=e.privateKeyValidator;if(typeof w>"u")var w=i.jsbn.BigInteger;var I=i.util.ByteBuffer,D=typeof Buffer>"u"?Uint8Array:Buffer;i.pki=i.pki||{},lt.exports=i.pki.ed25519=i.ed25519=i.ed25519||{};var h=i.ed25519;function f(Mt){var xt=Mt.message;if(xt instanceof Uint8Array||xt instanceof D)return xt;var z=Mt.encoding;if(void 0===xt){if(!Mt.md)throw new TypeError('"options.message" or "options.md" not specified.');xt=Mt.md.digest().getBytes(),z="binary"}if("string"==typeof xt&&!z)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if("string"==typeof xt){if(typeof Buffer<"u")return Buffer.from(xt,z);xt=new I(xt,z)}else if(!(xt instanceof I))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var W=new D(xt.length()),J=0;J<W.length;++J)W[J]=xt.at(J);return W}h.constants={},h.constants.PUBLIC_KEY_BYTE_LENGTH=32,h.constants.PRIVATE_KEY_BYTE_LENGTH=64,h.constants.SEED_BYTE_LENGTH=32,h.constants.SIGN_BYTE_LENGTH=64,h.constants.HASH_BYTE_LENGTH=64,h.generateKeyPair=function(Mt){var xt=(Mt=Mt||{}).seed;if(void 0===xt)xt=i.random.getBytesSync(h.constants.SEED_BYTE_LENGTH);else if("string"==typeof xt){if(xt.length!==h.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+h.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(xt instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');xt=f({message:xt,encoding:"binary"});for(var z=new D(h.constants.PUBLIC_KEY_BYTE_LENGTH),W=new D(h.constants.PRIVATE_KEY_BYTE_LENGTH),J=0;J<32;++J)W[J]=xt[J];return function V(Mt,xt){var W,z=[xe(),xe(),xe(),xe()],J=x(xt,32);for(J[0]&=248,J[31]&=127,J[31]|=64,be(z,J),ie(Mt,z),W=0;W<32;++W)xt[W+32]=Mt[W]}(z,W),{publicKey:z,privateKey:W}},h.privateKeyFromAsn1=function(Mt){var xt={},z=[];if(!i.asn1.validate(Mt,y,xt,z)){var J=new Error("Invalid Key.");throw J.errors=z,J}var _e=i.asn1.derToOid(xt.privateKeyOid),Ce=i.oids.EdDSA25519;if(_e!==Ce)throw new Error('Invalid OID "'+_e+'"; OID must be "'+Ce+'".');return{privateKeyBytes:f({message:i.asn1.fromDer(xt.privateKey).value,encoding:"binary"})}},h.publicKeyFromAsn1=function(Mt){var xt={},z=[];if(!i.asn1.validate(Mt,v,xt,z)){var J=new Error("Invalid Key.");throw J.errors=z,J}var _e=i.asn1.derToOid(xt.publicKeyOid),Ce=i.oids.EdDSA25519;if(_e!==Ce)throw new Error('Invalid OID "'+_e+'"; OID must be "'+Ce+'".');var st=xt.ed25519PublicKey;if(st.length!==h.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return f({message:st,encoding:"binary"})},h.publicKeyFromPrivateKey=function(Mt){var xt=f({message:(Mt=Mt||{}).privateKey,encoding:"binary"});if(xt.length!==h.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+h.constants.PRIVATE_KEY_BYTE_LENGTH);for(var z=new D(h.constants.PUBLIC_KEY_BYTE_LENGTH),W=0;W<z.length;++W)z[W]=xt[32+W];return z},h.sign=function(Mt){var xt=f(Mt=Mt||{}),z=f({message:Mt.privateKey,encoding:"binary"});if(z.length===h.constants.SEED_BYTE_LENGTH)z=h.generateKeyPair({seed:z}).privateKey;else if(z.length!==h.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+h.constants.SEED_BYTE_LENGTH+" or "+h.constants.PRIVATE_KEY_BYTE_LENGTH);var J=new D(h.constants.SIGN_BYTE_LENGTH+xt.length);!function Q(Mt,xt,z,W){var J,_e,Ce=new Float64Array(64),st=[xe(),xe(),xe(),xe()],Fe=x(W,32);Fe[0]&=248,Fe[31]&=127,Fe[31]|=64;var rt=z+64;for(J=0;J<z;++J)Mt[64+J]=xt[J];for(J=0;J<32;++J)Mt[32+J]=Fe[32+J];var kt=x(Mt.subarray(32),z+32);for(fe(kt),be(st,kt),ie(Mt,st),J=32;J<64;++J)Mt[J]=W[J];var mt=x(Mt,z+64);for(fe(mt),J=32;J<64;++J)Ce[J]=0;for(J=0;J<32;++J)Ce[J]=kt[J];for(J=0;J<32;++J)for(_e=0;_e<32;_e++)Ce[J+_e]+=mt[J]*Fe[_e];le(Mt.subarray(32),Ce)}(J,xt,xt.length,z);for(var _e=new D(h.constants.SIGN_BYTE_LENGTH),Ce=0;Ce<_e.length;++Ce)_e[Ce]=J[Ce];return _e},h.verify=function(Mt){var xt=f(Mt=Mt||{});if(void 0===Mt.signature)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var z=f({message:Mt.signature,encoding:"binary"});if(z.length!==h.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+h.constants.SIGN_BYTE_LENGTH);var W=f({message:Mt.publicKey,encoding:"binary"});if(W.length!==h.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+h.constants.PUBLIC_KEY_BYTE_LENGTH);var Ce,J=new D(h.constants.SIGN_BYTE_LENGTH+xt.length),_e=new D(h.constants.SIGN_BYTE_LENGTH+xt.length);for(Ce=0;Ce<h.constants.SIGN_BYTE_LENGTH;++Ce)J[Ce]=z[Ce];for(Ce=0;Ce<xt.length;++Ce)J[Ce+h.constants.SIGN_BYTE_LENGTH]=xt[Ce];return function Y(Mt,xt,z,W){var J,Ce=new D(32),st=[xe(),xe(),xe(),xe()],Fe=[xe(),xe(),xe(),xe()];if(-1,z<64||function ae(Mt,xt){var z=xe(),W=xe(),J=xe(),_e=xe(),Ce=xe(),st=xe(),Fe=xe();return se(Mt[2],F),function re(Mt,xt){var z;for(z=0;z<16;++z)Mt[z]=xt[2*z]+(xt[2*z+1]<<8);Mt[15]&=32767}(Mt[1],xt),hn(J,Mt[1]),ln(_e,J,L),vt(J,J,Mt[2]),pt(_e,Mt[2],_e),hn(Ce,_e),hn(st,Ce),ln(Fe,st,Ce),ln(z,Fe,J),ln(z,z,_e),function Me(Mt,xt){var W,z=xe();for(W=0;W<16;++W)z[W]=xt[W];for(W=250;W>=0;--W)hn(z,z),1!==W&&ln(z,z,xt);for(W=0;W<16;++W)Mt[W]=z[W]}(z,z),ln(z,z,J),ln(z,z,_e),ln(z,z,_e),ln(Mt[0],z,_e),hn(W,Mt[0]),ln(W,W,_e),Qe(W,J)&&ln(Mt[0],Mt[0],G),hn(W,Mt[0]),ln(W,W,_e),Qe(W,J)?-1:(Je(Mt[0])===xt[31]>>7&&vt(Mt[0],E,Mt[0]),ln(Mt[3],Mt[0],Mt[1]),0)}(Fe,W))return-1;for(J=0;J<z;++J)Mt[J]=xt[J];for(J=0;J<32;++J)Mt[J+32]=W[J];var rt=x(Mt,z);if(fe(rt),Ee(st,Fe,rt),be(Fe,xt.subarray(32)),K(st,Fe),ie(Ce,st),z-=64,Le(xt,0,Ce,0)){for(J=0;J<z;++J)Mt[J]=0;return-1}for(J=0;J<z;++J)Mt[J]=xt[J+64];return z}(_e,J,J.length,W)>=0};var E=xe(),F=xe([1]),L=xe([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),_=xe([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),M=xe([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),N=xe([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),P=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),G=xe([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function x(Mt,xt){var z=i.md.sha512.create(),W=new I(Mt);z.update(W.getBytes(xt),"binary");var J=z.digest().getBytes();if(typeof Buffer<"u")return Buffer.from(J,"binary");for(var _e=new D(h.constants.HASH_BYTE_LENGTH),Ce=0;Ce<64;++Ce)_e[Ce]=J.charCodeAt(Ce);return _e}function le(Mt,xt){var z,W,J,_e;for(W=63;W>=32;--W){for(z=0,J=W-32,_e=W-12;J<_e;++J)xt[J]+=z-16*xt[W]*P[J-(W-32)],xt[J]-=256*(z=xt[J]+128>>8);xt[J]+=z,xt[W]=0}for(z=0,J=0;J<32;++J)xt[J]+=z-(xt[31]>>4)*P[J],z=xt[J]>>8,xt[J]&=255;for(J=0;J<32;++J)xt[J]-=z*P[J];for(W=0;W<32;++W)xt[W+1]+=xt[W]>>8,Mt[W]=255&xt[W]}function fe(Mt){for(var xt=new Float64Array(64),z=0;z<64;++z)xt[z]=Mt[z],Mt[z]=0;le(Mt,xt)}function K(Mt,xt){var z=xe(),W=xe(),J=xe(),_e=xe(),Ce=xe(),st=xe(),Fe=xe(),rt=xe(),kt=xe();vt(z,Mt[1],Mt[0]),vt(kt,xt[1],xt[0]),ln(z,z,kt),pt(W,Mt[0],Mt[1]),pt(kt,xt[0],xt[1]),ln(W,W,kt),ln(J,Mt[3],xt[3]),ln(J,J,_),ln(_e,Mt[2],xt[2]),pt(_e,_e,_e),vt(Ce,W,z),vt(st,_e,J),pt(Fe,_e,J),pt(rt,W,z),ln(Mt[0],Ce,st),ln(Mt[1],rt,Fe),ln(Mt[2],Fe,st),ln(Mt[3],Ce,rt)}function ee(Mt,xt,z){for(var W=0;W<4;++W)it(Mt[W],xt[W],z)}function ie(Mt,xt){var z=xe(),W=xe(),J=xe();(function Oe(Mt,xt){var W,z=xe();for(W=0;W<16;++W)z[W]=xt[W];for(W=253;W>=0;--W)hn(z,z),2!==W&&4!==W&&ln(z,z,xt);for(W=0;W<16;++W)Mt[W]=z[W]})(J,xt[2]),ln(z,xt[0],J),ln(W,xt[1],J),T(Mt,W),Mt[31]^=Je(z)<<7}function T(Mt,xt){var z,W,J,_e=xe(),Ce=xe();for(z=0;z<16;++z)Ce[z]=xt[z];for(Ie(Ce),Ie(Ce),Ie(Ce),W=0;W<2;++W){for(_e[0]=Ce[0]-65517,z=1;z<15;++z)_e[z]=Ce[z]-65535-(_e[z-1]>>16&1),_e[z-1]&=65535;_e[15]=Ce[15]-32767-(_e[14]>>16&1),J=_e[15]>>16&1,_e[14]&=65535,it(Ce,_e,1-J)}for(z=0;z<16;z++)Mt[2*z]=255&Ce[z],Mt[2*z+1]=Ce[z]>>8}function Qe(Mt,xt){var z=new D(32),W=new D(32);return T(z,Mt),T(W,xt),Le(z,0,W,0)}function Le(Mt,xt,z,W){return function Ne(Mt,xt,z,W,J){var _e,Ce=0;for(_e=0;_e<J;++_e)Ce|=Mt[xt+_e]^z[W+_e];return(1&Ce-1>>>8)-1}(Mt,xt,z,W,32)}function Je(Mt){var xt=new D(32);return T(xt,Mt),1&xt[0]}function Ee(Mt,xt,z){var W,J;for(se(Mt[0],E),se(Mt[1],F),se(Mt[2],F),se(Mt[3],E),J=255;J>=0;--J)ee(Mt,xt,W=z[J/8|0]>>(7&J)&1),K(xt,Mt),K(Mt,Mt),ee(Mt,xt,W)}function be(Mt,xt){var z=[xe(),xe(),xe(),xe()];se(z[0],M),se(z[1],N),se(z[2],F),ln(z[3],M,N),Ee(Mt,z,xt)}function se(Mt,xt){var z;for(z=0;z<16;z++)Mt[z]=0|xt[z]}function Ie(Mt){var xt,z,W=1;for(xt=0;xt<16;++xt)z=Mt[xt]+W+65535,W=Math.floor(z/65536),Mt[xt]=z-65536*W;Mt[0]+=W-1+37*(W-1)}function it(Mt,xt,z){for(var W,J=~(z-1),_e=0;_e<16;++_e)Mt[_e]^=W=J&(Mt[_e]^xt[_e]),xt[_e]^=W}function xe(Mt){var xt,z=new Float64Array(16);if(Mt)for(xt=0;xt<Mt.length;++xt)z[xt]=Mt[xt];return z}function pt(Mt,xt,z){for(var W=0;W<16;++W)Mt[W]=xt[W]+z[W]}function vt(Mt,xt,z){for(var W=0;W<16;++W)Mt[W]=xt[W]-z[W]}function hn(Mt,xt){ln(Mt,xt,xt)}function ln(Mt,xt,z){var W,J,_e=0,Ce=0,st=0,Fe=0,rt=0,kt=0,mt=0,tt=0,$t=0,en=0,Ot=0,Yt=0,je=0,oe=0,H=0,te=0,Ue=0,et=0,ft=0,Ft=0,sn=0,cn=0,In=0,An=0,Fn=0,Pn=0,ki=0,wi=0,Rt=0,Wt=0,_t=0,Nt=z[0],tn=z[1],En=z[2],Ln=z[3],un=z[4],ui=z[5],jn=z[6],It=z[7],dt=z[8],Dt=z[9],Vt=z[10],Zt=z[11],gn=z[12],mn=z[13],zn=z[14],Tn=z[15];_e+=(W=xt[0])*Nt,Ce+=W*tn,st+=W*En,Fe+=W*Ln,rt+=W*un,kt+=W*ui,mt+=W*jn,tt+=W*It,$t+=W*dt,en+=W*Dt,Ot+=W*Vt,Yt+=W*Zt,je+=W*gn,oe+=W*mn,H+=W*zn,te+=W*Tn,Ce+=(W=xt[1])*Nt,st+=W*tn,Fe+=W*En,rt+=W*Ln,kt+=W*un,mt+=W*ui,tt+=W*jn,$t+=W*It,en+=W*dt,Ot+=W*Dt,Yt+=W*Vt,je+=W*Zt,oe+=W*gn,H+=W*mn,te+=W*zn,Ue+=W*Tn,st+=(W=xt[2])*Nt,Fe+=W*tn,rt+=W*En,kt+=W*Ln,mt+=W*un,tt+=W*ui,$t+=W*jn,en+=W*It,Ot+=W*dt,Yt+=W*Dt,je+=W*Vt,oe+=W*Zt,H+=W*gn,te+=W*mn,Ue+=W*zn,et+=W*Tn,Fe+=(W=xt[3])*Nt,rt+=W*tn,kt+=W*En,mt+=W*Ln,tt+=W*un,$t+=W*ui,en+=W*jn,Ot+=W*It,Yt+=W*dt,je+=W*Dt,oe+=W*Vt,H+=W*Zt,te+=W*gn,Ue+=W*mn,et+=W*zn,ft+=W*Tn,rt+=(W=xt[4])*Nt,kt+=W*tn,mt+=W*En,tt+=W*Ln,$t+=W*un,en+=W*ui,Ot+=W*jn,Yt+=W*It,je+=W*dt,oe+=W*Dt,H+=W*Vt,te+=W*Zt,Ue+=W*gn,et+=W*mn,ft+=W*zn,Ft+=W*Tn,kt+=(W=xt[5])*Nt,mt+=W*tn,tt+=W*En,$t+=W*Ln,en+=W*un,Ot+=W*ui,Yt+=W*jn,je+=W*It,oe+=W*dt,H+=W*Dt,te+=W*Vt,Ue+=W*Zt,et+=W*gn,ft+=W*mn,Ft+=W*zn,sn+=W*Tn,mt+=(W=xt[6])*Nt,tt+=W*tn,$t+=W*En,en+=W*Ln,Ot+=W*un,Yt+=W*ui,je+=W*jn,oe+=W*It,H+=W*dt,te+=W*Dt,Ue+=W*Vt,et+=W*Zt,ft+=W*gn,Ft+=W*mn,sn+=W*zn,cn+=W*Tn,tt+=(W=xt[7])*Nt,$t+=W*tn,en+=W*En,Ot+=W*Ln,Yt+=W*un,je+=W*ui,oe+=W*jn,H+=W*It,te+=W*dt,Ue+=W*Dt,et+=W*Vt,ft+=W*Zt,Ft+=W*gn,sn+=W*mn,cn+=W*zn,In+=W*Tn,$t+=(W=xt[8])*Nt,en+=W*tn,Ot+=W*En,Yt+=W*Ln,je+=W*un,oe+=W*ui,H+=W*jn,te+=W*It,Ue+=W*dt,et+=W*Dt,ft+=W*Vt,Ft+=W*Zt,sn+=W*gn,cn+=W*mn,In+=W*zn,An+=W*Tn,en+=(W=xt[9])*Nt,Ot+=W*tn,Yt+=W*En,je+=W*Ln,oe+=W*un,H+=W*ui,te+=W*jn,Ue+=W*It,et+=W*dt,ft+=W*Dt,Ft+=W*Vt,sn+=W*Zt,cn+=W*gn,In+=W*mn,An+=W*zn,Fn+=W*Tn,Ot+=(W=xt[10])*Nt,Yt+=W*tn,je+=W*En,oe+=W*Ln,H+=W*un,te+=W*ui,Ue+=W*jn,et+=W*It,ft+=W*dt,Ft+=W*Dt,sn+=W*Vt,cn+=W*Zt,In+=W*gn,An+=W*mn,Fn+=W*zn,Pn+=W*Tn,Yt+=(W=xt[11])*Nt,je+=W*tn,oe+=W*En,H+=W*Ln,te+=W*un,Ue+=W*ui,et+=W*jn,ft+=W*It,Ft+=W*dt,sn+=W*Dt,cn+=W*Vt,In+=W*Zt,An+=W*gn,Fn+=W*mn,Pn+=W*zn,ki+=W*Tn,je+=(W=xt[12])*Nt,oe+=W*tn,H+=W*En,te+=W*Ln,Ue+=W*un,et+=W*ui,ft+=W*jn,Ft+=W*It,sn+=W*dt,cn+=W*Dt,In+=W*Vt,An+=W*Zt,Fn+=W*gn,Pn+=W*mn,ki+=W*zn,wi+=W*Tn,oe+=(W=xt[13])*Nt,H+=W*tn,te+=W*En,Ue+=W*Ln,et+=W*un,ft+=W*ui,Ft+=W*jn,sn+=W*It,cn+=W*dt,In+=W*Dt,An+=W*Vt,Fn+=W*Zt,Pn+=W*gn,ki+=W*mn,wi+=W*zn,Rt+=W*Tn,H+=(W=xt[14])*Nt,te+=W*tn,Ue+=W*En,et+=W*Ln,ft+=W*un,Ft+=W*ui,sn+=W*jn,cn+=W*It,In+=W*dt,An+=W*Dt,Fn+=W*Vt,Pn+=W*Zt,ki+=W*gn,wi+=W*mn,Rt+=W*zn,Wt+=W*Tn,te+=(W=xt[15])*Nt,Ce+=38*(et+=W*En),st+=38*(ft+=W*Ln),Fe+=38*(Ft+=W*un),rt+=38*(sn+=W*ui),kt+=38*(cn+=W*jn),mt+=38*(In+=W*It),tt+=38*(An+=W*dt),$t+=38*(Fn+=W*Dt),en+=38*(Pn+=W*Vt),Ot+=38*(ki+=W*Zt),Yt+=38*(wi+=W*gn),je+=38*(Rt+=W*mn),oe+=38*(Wt+=W*zn),H+=38*(_t+=W*Tn),_e=(W=(_e+=38*(Ue+=W*tn))+(J=1)+65535)-65536*(J=Math.floor(W/65536)),Ce=(W=Ce+J+65535)-65536*(J=Math.floor(W/65536)),st=(W=st+J+65535)-65536*(J=Math.floor(W/65536)),Fe=(W=Fe+J+65535)-65536*(J=Math.floor(W/65536)),rt=(W=rt+J+65535)-65536*(J=Math.floor(W/65536)),kt=(W=kt+J+65535)-65536*(J=Math.floor(W/65536)),mt=(W=mt+J+65535)-65536*(J=Math.floor(W/65536)),tt=(W=tt+J+65535)-65536*(J=Math.floor(W/65536)),$t=(W=$t+J+65535)-65536*(J=Math.floor(W/65536)),en=(W=en+J+65535)-65536*(J=Math.floor(W/65536)),Ot=(W=Ot+J+65535)-65536*(J=Math.floor(W/65536)),Yt=(W=Yt+J+65535)-65536*(J=Math.floor(W/65536)),je=(W=je+J+65535)-65536*(J=Math.floor(W/65536)),oe=(W=oe+J+65535)-65536*(J=Math.floor(W/65536)),H=(W=H+J+65535)-65536*(J=Math.floor(W/65536)),te=(W=te+J+65535)-65536*(J=Math.floor(W/65536)),_e=(W=(_e+=J-1+37*(J-1))+(J=1)+65535)-65536*(J=Math.floor(W/65536)),Ce=(W=Ce+J+65535)-65536*(J=Math.floor(W/65536)),st=(W=st+J+65535)-65536*(J=Math.floor(W/65536)),Fe=(W=Fe+J+65535)-65536*(J=Math.floor(W/65536)),rt=(W=rt+J+65535)-65536*(J=Math.floor(W/65536)),kt=(W=kt+J+65535)-65536*(J=Math.floor(W/65536)),mt=(W=mt+J+65535)-65536*(J=Math.floor(W/65536)),tt=(W=tt+J+65535)-65536*(J=Math.floor(W/65536)),$t=(W=$t+J+65535)-65536*(J=Math.floor(W/65536)),en=(W=en+J+65535)-65536*(J=Math.floor(W/65536)),Ot=(W=Ot+J+65535)-65536*(J=Math.floor(W/65536)),Yt=(W=Yt+J+65535)-65536*(J=Math.floor(W/65536)),je=(W=je+J+65535)-65536*(J=Math.floor(W/65536)),oe=(W=oe+J+65535)-65536*(J=Math.floor(W/65536)),H=(W=H+J+65535)-65536*(J=Math.floor(W/65536)),te=(W=te+J+65535)-65536*(J=Math.floor(W/65536)),Mt[0]=_e+=J-1+37*(J-1),Mt[1]=Ce,Mt[2]=st,Mt[3]=Fe,Mt[4]=rt,Mt[5]=kt,Mt[6]=mt,Mt[7]=tt,Mt[8]=$t,Mt[9]=en,Mt[10]=Ot,Mt[11]=Yt,Mt[12]=je,Mt[13]=oe,Mt[14]=H,Mt[15]=te}},6589:lt=>{lt.exports={options:{usePureJavaScript:!1}}},4579:(lt,we,p)=>{var i=p(6589);p(5437),p(812),(lt.exports=i.hmac=i.hmac||{}).create=function(){var v=null,y=null,w=null,I=null,D={start:function(h,f){if(null!==h)if("string"==typeof h){if(!((h=h.toLowerCase())in i.md.algorithms))throw new Error('Unknown hash algorithm "'+h+'"');y=i.md.algorithms[h].create()}else y=h;if(null===f)f=v;else{if("string"==typeof f)f=i.util.createBuffer(f);else if(i.util.isArray(f)){var E=f;f=i.util.createBuffer();for(var F=0;F<E.length;++F)f.putByte(E[F])}var L=f.length();for(L>y.blockLength&&(y.start(),y.update(f.bytes()),f=y.digest()),w=i.util.createBuffer(),I=i.util.createBuffer(),L=f.length(),F=0;F<L;++F)E=f.at(F),w.putByte(54^E),I.putByte(92^E);if(L<y.blockLength)for(E=y.blockLength-L,F=0;F<E;++F)w.putByte(54),I.putByte(92);v=f,w=w.bytes(),I=I.bytes()}y.start(),y.update(w)},update:function(h){y.update(h)},getMac:function(){var h=y.digest().bytes();return y.start(),y.update(I),y.update(h),y.digest()}};return D.digest=D.getMac,D}},2114:(lt,we,p)=>{lt.exports=p(6589),p(57),p(3707),p(7097),p(5855),p(3674),p(651),p(4579),p(8321),p(872),p(9228),p(5833),p(1097),p(9368),p(8788),p(4724),p(8645),p(9622),p(3697),p(409),p(8588),p(1675),p(1881),p(3120),p(9807),p(812)},3364:(lt,we,p)=>{var e,i=p(6589);function w(ye,Te,ve){this.data=[],null!=ye&&("number"==typeof ye?this.fromNumber(ye,Te,ve):this.fromString(ye,null==Te&&"string"!=typeof ye?256:Te))}function I(){return new w(null)}function f(ye,Te,ve,ht,Ke,wt){for(var gt=16383&Te,zt=Te>>14;--wt>=0;){var Bn=16383&this.data[ye],ni=this.data[ye++]>>14,gi=zt*Bn+ni*gt;Ke=((Bn=gt*Bn+((16383&gi)<<14)+ve.data[ht]+Ke)>>28)+(gi>>14)+zt*ni,ve.data[ht++]=268435455&Bn}return Ke}lt.exports=i.jsbn=i.jsbn||{},i.jsbn.BigInteger=w,typeof navigator>"u"?(w.prototype.am=f,e=28):"Microsoft Internet Explorer"==navigator.appName?(w.prototype.am=function h(ye,Te,ve,ht,Ke,wt){for(var gt=32767&Te,zt=Te>>15;--wt>=0;){var Bn=32767&this.data[ye],ni=this.data[ye++]>>15,gi=zt*Bn+ni*gt;Ke=((Bn=gt*Bn+((32767&gi)<<15)+ve.data[ht]+(1073741823&Ke))>>>30)+(gi>>>15)+zt*ni+(Ke>>>30),ve.data[ht++]=1073741823&Bn}return Ke},e=30):"Netscape"!=navigator.appName?(w.prototype.am=function D(ye,Te,ve,ht,Ke,wt){for(;--wt>=0;){var gt=Te*this.data[ye++]+ve.data[ht]+Ke;Ke=Math.floor(gt/67108864),ve.data[ht++]=67108863&gt}return Ke},e=26):(w.prototype.am=f,e=28),w.prototype.DB=e,w.prototype.DM=(1<<e)-1,w.prototype.DV=1<<e,w.prototype.FV=Math.pow(2,52),w.prototype.F1=52-e,w.prototype.F2=2*e-52;var _,M,L=new Array;for(_=48,M=0;M<=9;++M)L[_++]=M;for(_=97,M=10;M<36;++M)L[_++]=M;for(_=65,M=10;M<36;++M)L[_++]=M;function N(ye){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(ye)}function P(ye,Te){return L[ye.charCodeAt(Te)]??-1}function V(ye){var Te=I();return Te.fromInt(ye),Te}function ie(ye){var ve,Te=1;return 0!=(ve=ye>>>16)&&(ye=ve,Te+=16),0!=(ve=ye>>8)&&(ye=ve,Te+=8),0!=(ve=ye>>4)&&(ye=ve,Te+=4),0!=(ve=ye>>2)&&(ye=ve,Te+=2),0!=(ve=ye>>1)&&(ye=ve,Te+=1),Te}function se(ye){this.m=ye}function hn(ye){this.m=ye,this.mp=ye.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<ye.DB-15)-1,this.mt2=2*ye.t}function Ue(ye,Te){return ye&Te}function ft(ye,Te){return ye|Te}function sn(ye,Te){return ye^Te}function In(ye,Te){return ye&~Te}function wi(ye){if(0==ye)return-1;var Te=0;return 65535&ye||(ye>>=16,Te+=16),255&ye||(ye>>=8,Te+=8),15&ye||(ye>>=4,Te+=4),3&ye||(ye>>=2,Te+=2),1&ye||++Te,Te}function Wt(ye){for(var Te=0;0!=ye;)ye&=ye-1,++Te;return Te}function zn(){}function Tn(ye){return ye}function Kn(ye){this.r2=I(),this.q3=I(),w.ONE.dlShiftTo(2*ye.t,this.r2),this.mu=this.r2.divide(ye),this.m=ye}se.prototype.convert=function Oe(ye){return ye.s<0||ye.compareTo(this.m)>=0?ye.mod(this.m):ye},se.prototype.revert=function Ie(ye){return ye},se.prototype.reduce=function it(ye){ye.divRemTo(this.m,null,ye)},se.prototype.mulTo=function xe(ye,Te,ve){ye.multiplyTo(Te,ve),this.reduce(ve)},se.prototype.sqrTo=function pt(ye,Te){ye.squareTo(Te),this.reduce(Te)},hn.prototype.convert=function ln(ye){var Te=I();return ye.abs().dlShiftTo(this.m.t,Te),Te.divRemTo(this.m,null,Te),ye.s<0&&Te.compareTo(w.ZERO)>0&&this.m.subTo(Te,Te),Te},hn.prototype.revert=function Mt(ye){var Te=I();return ye.copyTo(Te),this.reduce(Te),Te},hn.prototype.reduce=function xt(ye){for(;ye.t<=this.mt2;)ye.data[ye.t++]=0;for(var Te=0;Te<this.m.t;++Te){var ve=32767&ye.data[Te],ht=ve*this.mpl+((ve*this.mph+(ye.data[Te]>>15)*this.mpl&this.um)<<15)&ye.DM;for(ye.data[ve=Te+this.m.t]+=this.m.am(0,ht,ye,Te,0,this.m.t);ye.data[ve]>=ye.DV;)ye.data[ve]-=ye.DV,ye.data[++ve]++}ye.clamp(),ye.drShiftTo(this.m.t,ye),ye.compareTo(this.m)>=0&&ye.subTo(this.m,ye)},hn.prototype.mulTo=function W(ye,Te,ve){ye.multiplyTo(Te,ve),this.reduce(ve)},hn.prototype.sqrTo=function z(ye,Te){ye.squareTo(Te),this.reduce(Te)},w.prototype.copyTo=function G(ye){for(var Te=this.t-1;Te>=0;--Te)ye.data[Te]=this.data[Te];ye.t=this.t,ye.s=this.s},w.prototype.fromInt=function x(ye){this.t=1,this.s=ye<0?-1:0,ye>0?this.data[0]=ye:ye<-1?this.data[0]=ye+this.DV:this.t=0},w.prototype.fromString=function Q(ye,Te){var ve;if(16==Te)ve=4;else if(8==Te)ve=3;else if(256==Te)ve=8;else if(2==Te)ve=1;else if(32==Te)ve=5;else{if(4!=Te)return void this.fromRadix(ye,Te);ve=2}this.t=0,this.s=0;for(var ht=ye.length,Ke=!1,wt=0;--ht>=0;){var gt=8==ve?255&ye[ht]:P(ye,ht);gt<0?"-"==ye.charAt(ht)&&(Ke=!0):(Ke=!1,0==wt?this.data[this.t++]=gt:wt+ve>this.DB?(this.data[this.t-1]|=(gt&(1<<this.DB-wt)-1)<<wt,this.data[this.t++]=gt>>this.DB-wt):this.data[this.t-1]|=gt<<wt,(wt+=ve)>=this.DB&&(wt-=this.DB))}8==ve&&128&ye[0]&&(this.s=-1,wt>0&&(this.data[this.t-1]|=(1<<this.DB-wt)-1<<wt)),this.clamp(),Ke&&w.ZERO.subTo(this,this)},w.prototype.clamp=function Y(){for(var ye=this.s&this.DM;this.t>0&&this.data[this.t-1]==ye;)--this.t},w.prototype.dlShiftTo=function ae(ye,Te){var ve;for(ve=this.t-1;ve>=0;--ve)Te.data[ve+ye]=this.data[ve];for(ve=ye-1;ve>=0;--ve)Te.data[ve]=0;Te.t=this.t+ye,Te.s=this.s},w.prototype.drShiftTo=function re(ye,Te){for(var ve=ye;ve<this.t;++ve)Te.data[ve-ye]=this.data[ve];Te.t=Math.max(this.t-ye,0),Te.s=this.s},w.prototype.lShiftTo=function Me(ye,Te){var zt,ve=ye%this.DB,ht=this.DB-ve,Ke=(1<<ht)-1,wt=Math.floor(ye/this.DB),gt=this.s<<ve&this.DM;for(zt=this.t-1;zt>=0;--zt)Te.data[zt+wt+1]=this.data[zt]>>ht|gt,gt=(this.data[zt]&Ke)<<ve;for(zt=wt-1;zt>=0;--zt)Te.data[zt]=0;Te.data[wt]=gt,Te.t=this.t+wt+1,Te.s=this.s,Te.clamp()},w.prototype.rShiftTo=function Qe(ye,Te){Te.s=this.s;var ve=Math.floor(ye/this.DB);if(ve>=this.t)Te.t=0;else{var ht=ye%this.DB,Ke=this.DB-ht,wt=(1<<ht)-1;Te.data[0]=this.data[ve]>>ht;for(var gt=ve+1;gt<this.t;++gt)Te.data[gt-ve-1]|=(this.data[gt]&wt)<<Ke,Te.data[gt-ve]=this.data[gt]>>ht;ht>0&&(Te.data[this.t-ve-1]|=(this.s&wt)<<Ke),Te.t=this.t-ve,Te.clamp()}},w.prototype.subTo=function Le(ye,Te){for(var ve=0,ht=0,Ke=Math.min(ye.t,this.t);ve<Ke;)ht+=this.data[ve]-ye.data[ve],Te.data[ve++]=ht&this.DM,ht>>=this.DB;if(ye.t<this.t){for(ht-=ye.s;ve<this.t;)ht+=this.data[ve],Te.data[ve++]=ht&this.DM,ht>>=this.DB;ht+=this.s}else{for(ht+=this.s;ve<ye.t;)ht-=ye.data[ve],Te.data[ve++]=ht&this.DM,ht>>=this.DB;ht-=ye.s}Te.s=ht<0?-1:0,ht<-1?Te.data[ve++]=this.DV+ht:ht>0&&(Te.data[ve++]=ht),Te.t=ve,Te.clamp()},w.prototype.multiplyTo=function Ne(ye,Te){var ve=this.abs(),ht=ye.abs(),Ke=ve.t;for(Te.t=Ke+ht.t;--Ke>=0;)Te.data[Ke]=0;for(Ke=0;Ke<ht.t;++Ke)Te.data[Ke+ve.t]=ve.am(0,ht.data[Ke],Te,Ke,0,ve.t);Te.s=0,Te.clamp(),this.s!=ye.s&&w.ZERO.subTo(Te,Te)},w.prototype.squareTo=function Je(ye){for(var Te=this.abs(),ve=ye.t=2*Te.t;--ve>=0;)ye.data[ve]=0;for(ve=0;ve<Te.t-1;++ve){var ht=Te.am(ve,Te.data[ve],ye,2*ve,0,1);(ye.data[ve+Te.t]+=Te.am(ve+1,2*Te.data[ve],ye,2*ve+1,ht,Te.t-ve-1))>=Te.DV&&(ye.data[ve+Te.t]-=Te.DV,ye.data[ve+Te.t+1]=1)}ye.t>0&&(ye.data[ye.t-1]+=Te.am(ve,Te.data[ve],ye,2*ve,0,1)),ye.s=0,ye.clamp()},w.prototype.divRemTo=function Ee(ye,Te,ve){var ht=ye.abs();if(!(ht.t<=0)){var Ke=this.abs();if(Ke.t<ht.t)return Te?.fromInt(0),void(null!=ve&&this.copyTo(ve));null==ve&&(ve=I());var wt=I(),gt=this.s,zt=ye.s,Bn=this.DB-ie(ht.data[ht.t-1]);Bn>0?(ht.lShiftTo(Bn,wt),Ke.lShiftTo(Bn,ve)):(ht.copyTo(wt),Ke.copyTo(ve));var ni=wt.t,gi=wt.data[ni-1];if(0!=gi){var ei=gi*(1<<this.F1)+(ni>1?wt.data[ni-2]>>this.F2:0),ji=this.FV/ei,pr=(1<<this.F1)/ei,$n=1<<this.F2,ii=ve.t,cr=ii-ni,Ai=Te??I();for(wt.dlShiftTo(cr,Ai),ve.compareTo(Ai)>=0&&(ve.data[ve.t++]=1,ve.subTo(Ai,ve)),w.ONE.dlShiftTo(ni,Ai),Ai.subTo(wt,wt);wt.t<ni;)wt.data[wt.t++]=0;for(;--cr>=0;){var Nr=ve.data[--ii]==gi?this.DM:Math.floor(ve.data[ii]*ji+(ve.data[ii-1]+$n)*pr);if((ve.data[ii]+=wt.am(0,Nr,ve,cr,0,ni))<Nr)for(wt.dlShiftTo(cr,Ai),ve.subTo(Ai,ve);ve.data[ii]<--Nr;)ve.subTo(Ai,ve)}null!=Te&&(ve.drShiftTo(ni,Te),gt!=zt&&w.ZERO.subTo(Te,Te)),ve.t=ni,ve.clamp(),Bn>0&&ve.rShiftTo(Bn,ve),gt<0&&w.ZERO.subTo(ve,ve)}}},w.prototype.invDigit=function vt(){if(this.t<1)return 0;var ye=this.data[0];if(!(1&ye))return 0;var Te=3&ye;return(Te=(Te=(Te=(Te=Te*(2-(15&ye)*Te)&15)*(2-(255&ye)*Te)&255)*(2-((65535&ye)*Te&65535))&65535)*(2-ye*Te%this.DV)%this.DV)>0?this.DV-Te:-Te},w.prototype.isEven=function J(){return 0==(this.t>0?1&this.data[0]:this.s)},w.prototype.exp=function _e(ye,Te){if(ye>4294967295||ye<1)return w.ONE;var ve=I(),ht=I(),Ke=Te.convert(this),wt=ie(ye)-1;for(Ke.copyTo(ve);--wt>=0;)if(Te.sqrTo(ve,ht),(ye&1<<wt)>0)Te.mulTo(ht,Ke,ve);else{var gt=ve;ve=ht,ht=gt}return Te.revert(ve)},w.prototype.toString=function le(ye){if(this.s<0)return"-"+this.negate().toString(ye);var Te;if(16==ye)Te=4;else if(8==ye)Te=3;else if(2==ye)Te=1;else if(32==ye)Te=5;else{if(4!=ye)return this.toRadix(ye);Te=2}var ht,ve=(1<<Te)-1,Ke=!1,wt="",gt=this.t,zt=this.DB-gt*this.DB%Te;if(gt-- >0)for(zt<this.DB&&(ht=this.data[gt]>>zt)>0&&(Ke=!0,wt=N(ht));gt>=0;)zt<Te?(ht=(this.data[gt]&(1<<zt)-1)<<Te-zt,ht|=this.data[--gt]>>(zt+=this.DB-Te)):(ht=this.data[gt]>>(zt-=Te)&ve,zt<=0&&(zt+=this.DB,--gt)),ht>0&&(Ke=!0),Ke&&(wt+=N(ht));return Ke?wt:"0"},w.prototype.negate=function fe(){var ye=I();return w.ZERO.subTo(this,ye),ye},w.prototype.abs=function K(){return this.s<0?this.negate():this},w.prototype.compareTo=function ee(ye){var Te=this.s-ye.s;if(0!=Te)return Te;var ve=this.t;if(0!=(Te=ve-ye.t))return this.s<0?-Te:Te;for(;--ve>=0;)if(0!=(Te=this.data[ve]-ye.data[ve]))return Te;return 0},w.prototype.bitLength=function T(){return this.t<=0?0:this.DB*(this.t-1)+ie(this.data[this.t-1]^this.s&this.DM)},w.prototype.mod=function be(ye){var Te=I();return this.abs().divRemTo(ye,null,Te),this.s<0&&Te.compareTo(w.ZERO)>0&&ye.subTo(Te,Te),Te},w.prototype.modPowInt=function Ce(ye,Te){var ve;return ve=ye<256||Te.isEven()?new se(Te):new hn(Te),this.exp(ye,ve)},w.ZERO=V(0),w.ONE=V(1),zn.prototype.convert=Tn,zn.prototype.revert=Tn,zn.prototype.mulTo=function pn(ye,Te,ve){ye.multiplyTo(Te,ve)},zn.prototype.sqrTo=function ai(ye,Te){ye.squareTo(Te)},Kn.prototype.convert=function Si(ye){if(ye.s<0||ye.t>2*this.m.t)return ye.mod(this.m);if(ye.compareTo(this.m)<0)return ye;var Te=I();return ye.copyTo(Te),this.reduce(Te),Te},Kn.prototype.revert=function pi(ye){return ye},Kn.prototype.reduce=function Wi(ye){for(ye.drShiftTo(this.m.t-1,this.r2),ye.t>this.m.t+1&&(ye.t=this.m.t+1,ye.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);ye.compareTo(this.r2)<0;)ye.dAddOffset(1,this.m.t+1);for(ye.subTo(this.r2,ye);ye.compareTo(this.m)>=0;)ye.subTo(this.m,ye)},Kn.prototype.mulTo=function Ei(ye,Te,ve){ye.multiplyTo(Te,ve),this.reduce(ve)},Kn.prototype.sqrTo=function Hi(ye,Te){ye.squareTo(Te),this.reduce(Te)};var ot=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],Ht=(1<<26)/ot[ot.length-1];w.prototype.chunkSize=function mt(ye){return Math.floor(Math.LN2*this.DB/Math.log(ye))},w.prototype.toRadix=function $t(ye){if(null==ye&&(ye=10),0==this.signum()||ye<2||ye>36)return"0";var Te=this.chunkSize(ye),ve=Math.pow(ye,Te),ht=V(ve),Ke=I(),wt=I(),gt="";for(this.divRemTo(ht,Ke,wt);Ke.signum()>0;)gt=(ve+wt.intValue()).toString(ye).substr(1)+gt,Ke.divRemTo(ht,Ke,wt);return wt.intValue().toString(ye)+gt},w.prototype.fromRadix=function en(ye,Te){this.fromInt(0),null==Te&&(Te=10);for(var ve=this.chunkSize(Te),ht=Math.pow(Te,ve),Ke=!1,wt=0,gt=0,zt=0;zt<ye.length;++zt){var Bn=P(ye,zt);Bn<0?"-"==ye.charAt(zt)&&0==this.signum()&&(Ke=!0):(gt=Te*gt+Bn,++wt>=ve&&(this.dMultiply(ht),this.dAddOffset(gt,0),wt=0,gt=0))}wt>0&&(this.dMultiply(Math.pow(Te,wt)),this.dAddOffset(gt,0)),Ke&&w.ZERO.subTo(this,this)},w.prototype.fromNumber=function Ot(ye,Te,ve){if("number"==typeof Te)if(ye<2)this.fromInt(1);else for(this.fromNumber(ye,ve),this.testBit(ye-1)||this.bitwiseTo(w.ONE.shiftLeft(ye-1),ft,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(Te);)this.dAddOffset(2,0),this.bitLength()>ye&&this.subTo(w.ONE.shiftLeft(ye-1),this);else{var ht=new Array,Ke=7&ye;ht.length=1+(ye>>3),Te.nextBytes(ht),Ke>0?ht[0]&=(1<<Ke)-1:ht[0]=0,this.fromString(ht,256)}},w.prototype.bitwiseTo=function te(ye,Te,ve){var ht,Ke,wt=Math.min(ye.t,this.t);for(ht=0;ht<wt;++ht)ve.data[ht]=Te(this.data[ht],ye.data[ht]);if(ye.t<this.t){for(Ke=ye.s&this.DM,ht=wt;ht<this.t;++ht)ve.data[ht]=Te(this.data[ht],Ke);ve.t=this.t}else{for(Ke=this.s&this.DM,ht=wt;ht<ye.t;++ht)ve.data[ht]=Te(Ke,ye.data[ht]);ve.t=ye.t}ve.s=Te(this.s,ye.s),ve.clamp()},w.prototype.changeBit=function tn(ye,Te){var ve=w.ONE.shiftLeft(ye);return this.bitwiseTo(ve,Te,ve),ve},w.prototype.addTo=function ui(ye,Te){for(var ve=0,ht=0,Ke=Math.min(ye.t,this.t);ve<Ke;)ht+=this.data[ve]+ye.data[ve],Te.data[ve++]=ht&this.DM,ht>>=this.DB;if(ye.t<this.t){for(ht+=ye.s;ve<this.t;)ht+=this.data[ve],Te.data[ve++]=ht&this.DM,ht>>=this.DB;ht+=this.s}else{for(ht+=this.s;ve<ye.t;)ht+=ye.data[ve],Te.data[ve++]=ht&this.DM,ht>>=this.DB;ht+=ye.s}Te.s=ht<0?-1:0,ht>0?Te.data[ve++]=ht:ht<-1&&(Te.data[ve++]=this.DV+ht),Te.t=ve,Te.clamp()},w.prototype.dMultiply=function gn(ye){this.data[this.t]=this.am(0,ye-1,this,0,0,this.t),++this.t,this.clamp()},w.prototype.dAddOffset=function mn(ye,Te){if(0!=ye){for(;this.t<=Te;)this.data[this.t++]=0;for(this.data[Te]+=ye;this.data[Te]>=this.DV;)this.data[Te]-=this.DV,++Te>=this.t&&(this.data[this.t++]=0),++this.data[Te]}},w.prototype.multiplyLowerTo=function qn(ye,Te,ve){var Ke,ht=Math.min(this.t+ye.t,Te);for(ve.s=0,ve.t=ht;ht>0;)ve.data[--ht]=0;for(Ke=ve.t-this.t;ht<Ke;++ht)ve.data[ht+this.t]=this.am(0,ye.data[ht],ve,ht,0,this.t);for(Ke=Math.min(ye.t,Te);ht<Ke;++ht)this.am(0,ye.data[ht],ve,ht,0,Te-ht);ve.clamp()},w.prototype.multiplyUpperTo=function Pi(ye,Te,ve){--Te;var ht=ve.t=this.t+ye.t-Te;for(ve.s=0;--ht>=0;)ve.data[ht]=0;for(ht=Math.max(Te-this.t,0);ht<ye.t;++ht)ve.data[this.t+ht-Te]=this.am(Te-ht,ye.data[ht],ve,0,0,this.t+ht-Te);ve.clamp(),ve.drShiftTo(1,ve)},w.prototype.modInt=function We(ye){if(ye<=0)return 0;var Te=this.DV%ye,ve=this.s<0?ye-1:0;if(this.t>0)if(0==Te)ve=this.data[0]%ye;else for(var ht=this.t-1;ht>=0;--ht)ve=(Te*ve+this.data[ht])%ye;return ve},w.prototype.millerRabin=function Xt(ye){var Te=this.subtract(w.ONE),ve=Te.getLowestSetBit();if(ve<=0)return!1;for(var wt,ht=Te.shiftRight(ve),Ke=function ct(){return{nextBytes:function(ye){for(var Te=0;Te<ye.length;++Te)ye[Te]=Math.floor(256*Math.random())}}}(),gt=0;gt<ye;++gt){do{wt=new w(this.bitLength(),Ke)}while(wt.compareTo(w.ONE)<=0||wt.compareTo(Te)>=0);var zt=wt.modPow(ht,this);if(0!=zt.compareTo(w.ONE)&&0!=zt.compareTo(Te)){for(var Bn=1;Bn++<ve&&0!=zt.compareTo(Te);)if(0==(zt=zt.modPowInt(2,this)).compareTo(w.ONE))return!1;if(0!=zt.compareTo(Te))return!1}}return!0},w.prototype.clone=function st(){var ye=I();return this.copyTo(ye),ye},w.prototype.intValue=function Fe(){if(this.s<0){if(1==this.t)return this.data[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this.data[0];if(0==this.t)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]},w.prototype.byteValue=function rt(){return 0==this.t?this.s:this.data[0]<<24>>24},w.prototype.shortValue=function kt(){return 0==this.t?this.s:this.data[0]<<16>>16},w.prototype.signum=function tt(){return this.s<0?-1:this.t<=0||1==this.t&&this.data[0]<=0?0:1},w.prototype.toByteArray=function Yt(){var ye=this.t,Te=new Array;Te[0]=this.s;var ht,ve=this.DB-ye*this.DB%8,Ke=0;if(ye-- >0)for(ve<this.DB&&(ht=this.data[ye]>>ve)!=(this.s&this.DM)>>ve&&(Te[Ke++]=ht|this.s<<this.DB-ve);ye>=0;)ve<8?(ht=(this.data[ye]&(1<<ve)-1)<<8-ve,ht|=this.data[--ye]>>(ve+=this.DB-8)):(ht=this.data[ye]>>(ve-=8)&255,ve<=0&&(ve+=this.DB,--ye)),128&ht&&(ht|=-256),0==Ke&&(128&this.s)!=(128&ht)&&++Ke,(Ke>0||ht!=this.s)&&(Te[Ke++]=ht);return Te},w.prototype.equals=function je(ye){return 0==this.compareTo(ye)},w.prototype.min=function oe(ye){return this.compareTo(ye)<0?this:ye},w.prototype.max=function H(ye){return this.compareTo(ye)>0?this:ye},w.prototype.and=function et(ye){var Te=I();return this.bitwiseTo(ye,Ue,Te),Te},w.prototype.or=function Ft(ye){var Te=I();return this.bitwiseTo(ye,ft,Te),Te},w.prototype.xor=function cn(ye){var Te=I();return this.bitwiseTo(ye,sn,Te),Te},w.prototype.andNot=function An(ye){var Te=I();return this.bitwiseTo(ye,In,Te),Te},w.prototype.not=function Fn(){for(var ye=I(),Te=0;Te<this.t;++Te)ye.data[Te]=this.DM&~this.data[Te];return ye.t=this.t,ye.s=~this.s,ye},w.prototype.shiftLeft=function Pn(ye){var Te=I();return ye<0?this.rShiftTo(-ye,Te):this.lShiftTo(ye,Te),Te},w.prototype.shiftRight=function ki(ye){var Te=I();return ye<0?this.lShiftTo(-ye,Te):this.rShiftTo(ye,Te),Te},w.prototype.getLowestSetBit=function Rt(){for(var ye=0;ye<this.t;++ye)if(0!=this.data[ye])return ye*this.DB+wi(this.data[ye]);return this.s<0?this.t*this.DB:-1},w.prototype.bitCount=function _t(){for(var ye=0,Te=this.s&this.DM,ve=0;ve<this.t;++ve)ye+=Wt(this.data[ve]^Te);return ye},w.prototype.testBit=function Nt(ye){var Te=Math.floor(ye/this.DB);return Te>=this.t?0!=this.s:!!(this.data[Te]&1<<ye%this.DB)},w.prototype.setBit=function En(ye){return this.changeBit(ye,ft)},w.prototype.clearBit=function Ln(ye){return this.changeBit(ye,In)},w.prototype.flipBit=function un(ye){return this.changeBit(ye,sn)},w.prototype.add=function jn(ye){var Te=I();return this.addTo(ye,Te),Te},w.prototype.subtract=function It(ye){var Te=I();return this.subTo(ye,Te),Te},w.prototype.multiply=function dt(ye){var Te=I();return this.multiplyTo(ye,Te),Te},w.prototype.divide=function Dt(ye){var Te=I();return this.divRemTo(ye,Te,null),Te},w.prototype.remainder=function Vt(ye){var Te=I();return this.divRemTo(ye,null,Te),Te},w.prototype.divideAndRemainder=function Zt(ye){var Te=I(),ve=I();return this.divRemTo(ye,Te,ve),new Array(Te,ve)},w.prototype.modPow=function qe(ye,Te){var ht,wt,ve=ye.bitLength(),Ke=V(1);if(ve<=0)return Ke;ht=ve<18?1:ve<48?3:ve<144?4:ve<768?5:6,wt=ve<8?new se(Te):Te.isEven()?new Kn(Te):new hn(Te);var gt=new Array,zt=3,Bn=ht-1,ni=(1<<ht)-1;if(gt[1]=wt.convert(this),ht>1){var gi=I();for(wt.sqrTo(gt[1],gi);zt<=ni;)gt[zt]=I(),wt.mulTo(gi,gt[zt-2],gt[zt]),zt+=2}var ji,ii,ei=ye.t-1,pr=!0,$n=I();for(ve=ie(ye.data[ei])-1;ei>=0;){for(ve>=Bn?ji=ye.data[ei]>>ve-Bn&ni:(ji=(ye.data[ei]&(1<<ve+1)-1)<<Bn-ve,ei>0&&(ji|=ye.data[ei-1]>>this.DB+ve-Bn)),zt=ht;!(1&ji);)ji>>=1,--zt;if((ve-=zt)<0&&(ve+=this.DB,--ei),pr)gt[ji].copyTo(Ke),pr=!1;else{for(;zt>1;)wt.sqrTo(Ke,$n),wt.sqrTo($n,Ke),zt-=2;zt>0?wt.sqrTo(Ke,$n):(ii=Ke,Ke=$n,$n=ii),wt.mulTo($n,gt[ji],Ke)}for(;ei>=0&&!(ye.data[ei]&1<<ve);)wt.sqrTo(Ke,$n),ii=Ke,Ke=$n,$n=ii,--ve<0&&(ve=this.DB-1,--ei)}return wt.revert(Ke)},w.prototype.modInverse=function Gt(ye){var Te=ye.isEven();if(this.isEven()&&Te||0==ye.signum())return w.ZERO;for(var ve=ye.clone(),ht=this.clone(),Ke=V(1),wt=V(0),gt=V(0),zt=V(1);0!=ve.signum();){for(;ve.isEven();)ve.rShiftTo(1,ve),Te?((!Ke.isEven()||!wt.isEven())&&(Ke.addTo(this,Ke),wt.subTo(ye,wt)),Ke.rShiftTo(1,Ke)):wt.isEven()||wt.subTo(ye,wt),wt.rShiftTo(1,wt);for(;ht.isEven();)ht.rShiftTo(1,ht),Te?((!gt.isEven()||!zt.isEven())&&(gt.addTo(this,gt),zt.subTo(ye,zt)),gt.rShiftTo(1,gt)):zt.isEven()||zt.subTo(ye,zt),zt.rShiftTo(1,zt);ve.compareTo(ht)>=0?(ve.subTo(ht,ve),Te&&Ke.subTo(gt,Ke),wt.subTo(zt,wt)):(ht.subTo(ve,ht),Te&&gt.subTo(Ke,gt),zt.subTo(wt,zt))}return 0!=ht.compareTo(w.ONE)?w.ZERO:zt.compareTo(ye)>=0?zt.subtract(ye):zt.signum()<0?(zt.addTo(ye,zt),zt.signum()<0?zt.add(ye):zt):zt},w.prototype.pow=function fi(ye){return this.exp(ye,new zn)},w.prototype.gcd=function St(ye){var Te=this.s<0?this.negate():this.clone(),ve=ye.s<0?ye.negate():ye.clone();if(Te.compareTo(ve)<0){var ht=Te;Te=ve,ve=ht}var Ke=Te.getLowestSetBit(),wt=ve.getLowestSetBit();if(wt<0)return Te;for(Ke<wt&&(wt=Ke),wt>0&&(Te.rShiftTo(wt,Te),ve.rShiftTo(wt,ve));Te.signum()>0;)(Ke=Te.getLowestSetBit())>0&&Te.rShiftTo(Ke,Te),(Ke=ve.getLowestSetBit())>0&&ve.rShiftTo(Ke,ve),Te.compareTo(ve)>=0?(Te.subTo(ve,Te),Te.rShiftTo(1,Te)):(ve.subTo(Te,ve),ve.rShiftTo(1,ve));return wt>0&&ve.lShiftTo(wt,ve),ve},w.prototype.isProbablePrime=function Ye(ye){var Te,ve=this.abs();if(1==ve.t&&ve.data[0]<=ot[ot.length-1]){for(Te=0;Te<ot.length;++Te)if(ve.data[0]==ot[Te])return!0;return!1}if(ve.isEven())return!1;for(Te=1;Te<ot.length;){for(var ht=ot[Te],Ke=Te+1;Ke<ot.length&&ht<Ht;)ht*=ot[Ke++];for(ht=ve.modInt(ht);Te<Ke;)if(ht%ot[Te++]==0)return!1}return ve.millerRabin(ye)}},8321:(lt,we,p)=>{var i=p(6589);p(812),p(1675),p(3364),lt.exports=i.kem=i.kem||{};var e=i.jsbn.BigInteger;function v(y,w,I,D){y.generate=function(h,f){for(var E=new i.util.ByteBuffer,F=Math.ceil(f/D)+I,L=new i.util.ByteBuffer,_=I;_<F;++_){L.putInt32(_),w.start(),w.update(h+L.getBytes());var M=w.digest();E.putBytes(M.getBytes(D))}return E.truncate(E.length()-f),E.getBytes()}}i.kem.rsa={},i.kem.rsa.create=function(y,w){var I=(w=w||{}).prng||i.random;return{encrypt:function(h,f){var F,E=Math.ceil(h.n.bitLength()/8);do{F=new e(i.util.bytesToHex(I.getBytesSync(E)),16).mod(h.n)}while(F.compareTo(e.ONE)<=0);var L=E-(F=i.util.hexToBytes(F.toString(16))).length;return L>0&&(F=i.util.fillString("\0",L)+F),{encapsulation:h.encrypt(F,"NONE"),key:y.generate(F,f)}},decrypt:function(h,f,E){var F=h.decrypt(f,"NONE");return y.generate(F,E)}}},i.kem.kdf1=function(y,w){v(this,y,0,w||y.digestLength)},i.kem.kdf2=function(y,w){v(this,y,1,w||y.digestLength)}},872:(lt,we,p)=>{var i=p(6589);p(812),lt.exports=i.log=i.log||{},i.log.levels=["none","error","warning","info","debug","verbose","max"];var e={},v=[],y=null;i.log.LEVEL_LOCKED=2,i.log.NO_LEVEL_CHECK=4,i.log.INTERPOLATE=8;for(var w=0;w<i.log.levels.length;++w){var I=i.log.levels[w];e[I]={index:w,name:I.toUpperCase()}}i.log.logMessage=function(_){for(var M=e[_.level].index,N=0;N<v.length;++N){var P=v[N];P.flags&i.log.NO_LEVEL_CHECK?P.f(_):M<=e[P.level].index&&P.f(P,_)}},i.log.prepareStandard=function(_){"standard"in _||(_.standard=e[_.level].name+" ["+_.category+"] "+_.message)},i.log.prepareFull=function(_){if(!("full"in _)){var M=[_.message];M=M.concat([]),_.full=i.util.format.apply(this,M)}},i.log.prepareStandardFull=function(_){"standardFull"in _||(i.log.prepareStandard(_),_.standardFull=_.standard)};var D=["error","warning","info","debug","verbose"];for(w=0;w<D.length;++w)!function(M){i.log[M]=function(N,P){var G=Array.prototype.slice.call(arguments).slice(2);i.log.logMessage({timestamp:new Date,level:M,category:N,message:P,arguments:G})}}(D[w]);if(i.log.makeLogger=function(_){var M={flags:0,f:_};return i.log.setLevel(M,"none"),M},i.log.setLevel=function(_,M){var N=!1;if(_&&!(_.flags&i.log.LEVEL_LOCKED))for(var P=0;P<i.log.levels.length;++P)if(M==i.log.levels[P]){_.level=M,N=!0;break}return N},i.log.lock=function(_,M){typeof M>"u"||M?_.flags|=i.log.LEVEL_LOCKED:_.flags&=~i.log.LEVEL_LOCKED},i.log.addLogger=function(_){v.push(_)},typeof console<"u"&&"log"in console){var h;if(console.error&&console.warn&&console.info&&console.debug){var f={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},E=function(_,M){i.log.prepareStandard(M);var N=f[M.level],P=[M.standard];P=P.concat(M.arguments.slice()),N.apply(console,P)};h=i.log.makeLogger(E)}else E=function(M,N){i.log.prepareStandardFull(N),console.log(N.standardFull)},h=i.log.makeLogger(E);i.log.setLevel(h,"debug"),i.log.addLogger(h),y=h}else console={log:function(){}};if(null!==y&&typeof window<"u"&&window.location){var F=new URL(window.location.href).searchParams;F.has("console.level")&&i.log.setLevel(y,F.get("console.level").slice(-1)[0]),F.has("console.lock")&&"true"==F.get("console.lock").slice(-1)[0]&&i.log.lock(y)}i.log.consoleLogger=y},9228:(lt,we,p)=>{lt.exports=p(5437),p(4846),p(8825),p(2507),p(1290)},5437:(lt,we,p)=>{var i=p(6589);lt.exports=i.md=i.md||{},i.md.algorithms=i.md.algorithms||{}},4846:(lt,we,p)=>{var i=p(6589);p(5437),p(812);var e=lt.exports=i.md5=i.md5||{};i.md.md5=i.md.algorithms.md5=e,e.create=function(){D||function h(){v="\x80",v+=i.util.fillString("\0",64),y=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],w=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],I=new Array(64);for(var E=0;E<64;++E)I[E]=Math.floor(4294967296*Math.abs(Math.sin(E+1)));D=!0}();var E=null,F=i.util.createBuffer(),L=new Array(16),_={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){_.messageLength=0,_.fullMessageLength=_.messageLength64=[];for(var M=_.messageLengthSize/4,N=0;N<M;++N)_.fullMessageLength.push(0);return F=i.util.createBuffer(),E={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},_}};return _.start(),_.update=function(M,N){"utf8"===N&&(M=i.util.encodeUtf8(M));var P=M.length;_.messageLength+=P,P=[P/4294967296>>>0,P>>>0];for(var G=_.fullMessageLength.length-1;G>=0;--G)_.fullMessageLength[G]+=P[1],P[1]=P[0]+(_.fullMessageLength[G]/4294967296>>>0),_.fullMessageLength[G]=_.fullMessageLength[G]>>>0,P[0]=P[1]/4294967296>>>0;return F.putBytes(M),f(E,L,F),(F.read>2048||0===F.length())&&F.compact(),_},_.digest=function(){var M=i.util.createBuffer();M.putBytes(F.bytes()),M.putBytes(v.substr(0,_.blockLength-(_.fullMessageLength[_.fullMessageLength.length-1]+_.messageLengthSize&_.blockLength-1)));for(var G,x=0,V=_.fullMessageLength.length-1;V>=0;--V)x=(G=8*_.fullMessageLength[V]+x)/4294967296>>>0,M.putInt32Le(G>>>0);var Q={h0:E.h0,h1:E.h1,h2:E.h2,h3:E.h3};f(Q,L,M);var Y=i.util.createBuffer();return Y.putInt32Le(Q.h0),Y.putInt32Le(Q.h1),Y.putInt32Le(Q.h2),Y.putInt32Le(Q.h3),Y},_};var v=null,y=null,w=null,I=null,D=!1;function f(E,F,L){for(var _,M,N,P,G,V,Q,Y=L.length();Y>=64;){for(M=E.h0,N=E.h1,P=E.h2,G=E.h3,Q=0;Q<16;++Q)F[Q]=L.getInt32Le(),_=M+(G^N&(P^G))+I[Q]+F[Q],M=G,G=P,P=N,N+=_<<(V=w[Q])|_>>>32-V;for(;Q<32;++Q)_=M+(P^G&(N^P))+I[Q]+F[y[Q]],M=G,G=P,P=N,N+=_<<(V=w[Q])|_>>>32-V;for(;Q<48;++Q)_=M+(N^P^G)+I[Q]+F[y[Q]],M=G,G=P,P=N,N+=_<<(V=w[Q])|_>>>32-V;for(;Q<64;++Q)_=M+(P^(N|~G))+I[Q]+F[y[Q]],M=G,G=P,P=N,N+=_<<(V=w[Q])|_>>>32-V;E.h0=E.h0+M|0,E.h1=E.h1+N|0,E.h2=E.h2+P|0,E.h3=E.h3+G|0,Y-=64}}},8040:(lt,we,p)=>{var i=p(6589);p(5833),lt.exports=i.mgf=i.mgf||{},i.mgf.mgf1=i.mgf1},5833:(lt,we,p)=>{var i=p(6589);p(812),i.mgf=i.mgf||{},(lt.exports=i.mgf.mgf1=i.mgf1=i.mgf1||{}).create=function(v){return{generate:function(w,I){for(var D=new i.util.ByteBuffer,h=Math.ceil(I/v.digestLength),f=0;f<h;f++){var E=new i.util.ByteBuffer;E.putInt32(f),v.start(),v.update(w+E.getBytes()),D.putBuffer(v.digest())}return D.truncate(D.length()-I),D.getBytes()}}}},1817:(lt,we,p)=>{var i=p(6589);i.pki=i.pki||{};var e=lt.exports=i.pki.oids=i.oids=i.oids||{};function v(w,I){e[w]=I,e[I]=w}function y(w,I){e[w]=I}v("1.2.840.113549.1.1.1","rsaEncryption"),v("1.2.840.113549.1.1.4","md5WithRSAEncryption"),v("1.2.840.113549.1.1.5","sha1WithRSAEncryption"),v("1.2.840.113549.1.1.7","RSAES-OAEP"),v("1.2.840.113549.1.1.8","mgf1"),v("1.2.840.113549.1.1.9","pSpecified"),v("1.2.840.113549.1.1.10","RSASSA-PSS"),v("1.2.840.113549.1.1.11","sha256WithRSAEncryption"),v("1.2.840.113549.1.1.12","sha384WithRSAEncryption"),v("1.2.840.113549.1.1.13","sha512WithRSAEncryption"),v("1.3.101.112","EdDSA25519"),v("1.2.840.10040.4.3","dsa-with-sha1"),v("1.3.14.3.2.7","desCBC"),v("1.3.14.3.2.26","sha1"),v("1.3.14.3.2.29","sha1WithRSASignature"),v("2.16.840.1.101.3.4.2.1","sha256"),v("2.16.840.1.101.3.4.2.2","sha384"),v("2.16.840.1.101.3.4.2.3","sha512"),v("2.16.840.1.101.3.4.2.4","sha224"),v("2.16.840.1.101.3.4.2.5","sha512-224"),v("2.16.840.1.101.3.4.2.6","sha512-256"),v("1.2.840.113549.2.2","md2"),v("1.2.840.113549.2.5","md5"),v("1.2.840.113549.1.7.1","data"),v("1.2.840.113549.1.7.2","signedData"),v("1.2.840.113549.1.7.3","envelopedData"),v("1.2.840.113549.1.7.4","signedAndEnvelopedData"),v("1.2.840.113549.1.7.5","digestedData"),v("1.2.840.113549.1.7.6","encryptedData"),v("1.2.840.113549.1.9.1","emailAddress"),v("1.2.840.113549.1.9.2","unstructuredName"),v("1.2.840.113549.1.9.3","contentType"),v("1.2.840.113549.1.9.4","messageDigest"),v("1.2.840.113549.1.9.5","signingTime"),v("1.2.840.113549.1.9.6","counterSignature"),v("1.2.840.113549.1.9.7","challengePassword"),v("1.2.840.113549.1.9.8","unstructuredAddress"),v("1.2.840.113549.1.9.14","extensionRequest"),v("1.2.840.113549.1.9.20","friendlyName"),v("1.2.840.113549.1.9.21","localKeyId"),v("1.2.840.113549.1.9.22.1","x509Certificate"),v("1.2.840.113549.1.12.10.1.1","keyBag"),v("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag"),v("1.2.840.113549.1.12.10.1.3","certBag"),v("1.2.840.113549.1.12.10.1.4","crlBag"),v("1.2.840.113549.1.12.10.1.5","secretBag"),v("1.2.840.113549.1.12.10.1.6","safeContentsBag"),v("1.2.840.113549.1.5.13","pkcs5PBES2"),v("1.2.840.113549.1.5.12","pkcs5PBKDF2"),v("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4"),v("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4"),v("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC"),v("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC"),v("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC"),v("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC"),v("1.2.840.113549.2.7","hmacWithSHA1"),v("1.2.840.113549.2.8","hmacWithSHA224"),v("1.2.840.113549.2.9","hmacWithSHA256"),v("1.2.840.113549.2.10","hmacWithSHA384"),v("1.2.840.113549.2.11","hmacWithSHA512"),v("1.2.840.113549.3.7","des-EDE3-CBC"),v("2.16.840.1.101.3.4.1.2","aes128-CBC"),v("2.16.840.1.101.3.4.1.22","aes192-CBC"),v("2.16.840.1.101.3.4.1.42","aes256-CBC"),v("2.5.4.3","commonName"),v("2.5.4.4","surname"),v("2.5.4.5","serialNumber"),v("2.5.4.6","countryName"),v("2.5.4.7","localityName"),v("2.5.4.8","stateOrProvinceName"),v("2.5.4.9","streetAddress"),v("2.5.4.10","organizationName"),v("2.5.4.11","organizationalUnitName"),v("2.5.4.12","title"),v("2.5.4.13","description"),v("2.5.4.15","businessCategory"),v("2.5.4.17","postalCode"),v("2.5.4.42","givenName"),v("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName"),v("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName"),v("2.16.840.1.113730.1.1","nsCertType"),v("2.16.840.1.113730.1.13","nsComment"),y("2.5.29.1","authorityKeyIdentifier"),y("2.5.29.2","keyAttributes"),y("2.5.29.3","certificatePolicies"),y("2.5.29.4","keyUsageRestriction"),y("2.5.29.5","policyMapping"),y("2.5.29.6","subtreesConstraint"),y("2.5.29.7","subjectAltName"),y("2.5.29.8","issuerAltName"),y("2.5.29.9","subjectDirectoryAttributes"),y("2.5.29.10","basicConstraints"),y("2.5.29.11","nameConstraints"),y("2.5.29.12","policyConstraints"),y("2.5.29.13","basicConstraints"),v("2.5.29.14","subjectKeyIdentifier"),v("2.5.29.15","keyUsage"),y("2.5.29.16","privateKeyUsagePeriod"),v("2.5.29.17","subjectAltName"),v("2.5.29.18","issuerAltName"),v("2.5.29.19","basicConstraints"),y("2.5.29.20","cRLNumber"),y("2.5.29.21","cRLReason"),y("2.5.29.22","expirationDate"),y("2.5.29.23","instructionCode"),y("2.5.29.24","invalidityDate"),y("2.5.29.25","cRLDistributionPoints"),y("2.5.29.26","issuingDistributionPoint"),y("2.5.29.27","deltaCRLIndicator"),y("2.5.29.28","issuingDistributionPoint"),y("2.5.29.29","certificateIssuer"),y("2.5.29.30","nameConstraints"),v("2.5.29.31","cRLDistributionPoints"),v("2.5.29.32","certificatePolicies"),y("2.5.29.33","policyMappings"),y("2.5.29.34","policyConstraints"),v("2.5.29.35","authorityKeyIdentifier"),y("2.5.29.36","policyConstraints"),v("2.5.29.37","extKeyUsage"),y("2.5.29.46","freshestCRL"),y("2.5.29.54","inhibitAnyPolicy"),v("1.3.6.1.4.1.11129.2.4.2","timestampList"),v("1.3.6.1.5.5.7.1.1","authorityInfoAccess"),v("1.3.6.1.5.5.7.3.1","serverAuth"),v("1.3.6.1.5.5.7.3.2","clientAuth"),v("1.3.6.1.5.5.7.3.3","codeSigning"),v("1.3.6.1.5.5.7.3.4","emailProtection"),v("1.3.6.1.5.5.7.3.8","timeStamping")},1347:(lt,we,p)=>{var i=p(6589);if(p(57),p(7097),p(3674),p(5437),p(1817),p(1097),p(9368),p(1675),p(1881),p(2880),p(812),typeof e>"u")var e=i.jsbn.BigInteger;var v=i.asn1,y=i.pki=i.pki||{};lt.exports=y.pbe=i.pbe=i.pbe||{};var w=y.oids,I={name:"EncryptedPrivateKeyInfo",tagClass:v.Class.UNIVERSAL,type:v.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:v.Class.UNIVERSAL,type:v.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:v.Class.UNIVERSAL,type:v.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:v.Class.UNIVERSAL,type:v.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:v.Class.UNIVERSAL,type:v.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},D={name:"PBES2Algorithms",tagClass:v.Class.UNIVERSAL,type:v.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:v.Class.UNIVERSAL,type:v.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:v.Class.UNIVERSAL,type:v.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:v.Class.UNIVERSAL,type:v.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:v.Class.UNIVERSAL,type:v.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:v.Class.UNIVERSAL,type:v.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:v.Class.UNIVERSAL,type:v.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:v.Class.UNIVERSAL,type:v.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:v.Class.UNIVERSAL,type:v.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:v.Class.UNIVERSAL,type:v.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:v.Class.UNIVERSAL,type:v.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:v.Class.UNIVERSAL,type:v.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},h={name:"pkcs-12PbeParams",tagClass:v.Class.UNIVERSAL,type:v.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:v.Class.UNIVERSAL,type:v.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:v.Class.UNIVERSAL,type:v.Type.INTEGER,constructed:!1,capture:"iterations"}]};function f(_,M){return _.start().update(M).digest().getBytes()}function E(_){var M;if(_){if(!(M=y.oids[v.derToOid(_)])){var N=new Error("Unsupported PRF OID.");throw N.oid=_,N.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],N}}else M="hmacWithSHA1";return F(M)}function F(_){var M=i.md;switch(_){case"hmacWithSHA224":M=i.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":_=_.substr(8).toLowerCase();break;default:var N=new Error("Unsupported PRF algorithm.");throw N.algorithm=_,N.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],N}if(!M||!(_ in M))throw new Error("Unknown hash algorithm: "+_);return M[_].create()}y.encryptPrivateKeyInfo=function(_,M,N){(N=N||{}).saltSize=N.saltSize||8,N.count=N.count||2048,N.algorithm=N.algorithm||"aes128",N.prfAlgorithm=N.prfAlgorithm||"sha1";var V,Q,Y,P=i.random.getBytesSync(N.saltSize),G=N.count,x=v.integerToDer(G);if(0===N.algorithm.indexOf("aes")||"des"===N.algorithm){var le,fe,K;switch(N.algorithm){case"aes128":V=16,le=16,fe=w["aes128-CBC"],K=i.aes.createEncryptionCipher;break;case"aes192":V=24,le=16,fe=w["aes192-CBC"],K=i.aes.createEncryptionCipher;break;case"aes256":V=32,le=16,fe=w["aes256-CBC"],K=i.aes.createEncryptionCipher;break;case"des":V=8,le=8,fe=w.desCBC,K=i.des.createEncryptionCipher;break;default:throw(ee=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=N.algorithm,ee}var ie="hmacWith"+N.prfAlgorithm.toUpperCase(),T=F(ie),ae=i.pkcs5.pbkdf2(M,P,G,V,T),re=i.random.getBytesSync(le);(Me=K(ae)).start(re),Me.update(v.toDer(_)),Me.finish(),Y=Me.output.getBytes();var Qe=function L(_,M,N,P){var G=v.create(v.Class.UNIVERSAL,v.Type.SEQUENCE,!0,[v.create(v.Class.UNIVERSAL,v.Type.OCTETSTRING,!1,_),v.create(v.Class.UNIVERSAL,v.Type.INTEGER,!1,M.getBytes())]);return"hmacWithSHA1"!==P&&G.value.push(v.create(v.Class.UNIVERSAL,v.Type.INTEGER,!1,i.util.hexToBytes(N.toString(16))),v.create(v.Class.UNIVERSAL,v.Type.SEQUENCE,!0,[v.create(v.Class.UNIVERSAL,v.Type.OID,!1,v.oidToDer(y.oids[P]).getBytes()),v.create(v.Class.UNIVERSAL,v.Type.NULL,!1,"")])),G}(P,x,V,ie);Q=v.create(v.Class.UNIVERSAL,v.Type.SEQUENCE,!0,[v.create(v.Class.UNIVERSAL,v.Type.OID,!1,v.oidToDer(w.pkcs5PBES2).getBytes()),v.create(v.Class.UNIVERSAL,v.Type.SEQUENCE,!0,[v.create(v.Class.UNIVERSAL,v.Type.SEQUENCE,!0,[v.create(v.Class.UNIVERSAL,v.Type.OID,!1,v.oidToDer(w.pkcs5PBKDF2).getBytes()),Qe]),v.create(v.Class.UNIVERSAL,v.Type.SEQUENCE,!0,[v.create(v.Class.UNIVERSAL,v.Type.OID,!1,v.oidToDer(fe).getBytes()),v.create(v.Class.UNIVERSAL,v.Type.OCTETSTRING,!1,re)])])])}else{var ee;if("3des"!==N.algorithm)throw(ee=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=N.algorithm,ee;V=24;var Me,Le=new i.util.ByteBuffer(P);ae=y.pbe.generatePkcs12Key(M,Le,1,G,V),re=y.pbe.generatePkcs12Key(M,Le,2,G,V),(Me=i.des.createEncryptionCipher(ae)).start(re),Me.update(v.toDer(_)),Me.finish(),Y=Me.output.getBytes(),Q=v.create(v.Class.UNIVERSAL,v.Type.SEQUENCE,!0,[v.create(v.Class.UNIVERSAL,v.Type.OID,!1,v.oidToDer(w["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),v.create(v.Class.UNIVERSAL,v.Type.SEQUENCE,!0,[v.create(v.Class.UNIVERSAL,v.Type.OCTETSTRING,!1,P),v.create(v.Class.UNIVERSAL,v.Type.INTEGER,!1,x.getBytes())])])}return v.create(v.Class.UNIVERSAL,v.Type.SEQUENCE,!0,[Q,v.create(v.Class.UNIVERSAL,v.Type.OCTETSTRING,!1,Y)])},y.decryptPrivateKeyInfo=function(_,M){var N=null,P={},G=[];if(!v.validate(_,I,P,G)){var x=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw x.errors=G,x}var V=v.derToOid(P.encryptionOid),Q=y.pbe.getCipher(V,P.encryptionParams,M),Y=i.util.createBuffer(P.encryptedData);return Q.update(Y),Q.finish()&&(N=v.fromDer(Q.output)),N},y.encryptedPrivateKeyToPem=function(_,M){var N={type:"ENCRYPTED PRIVATE KEY",body:v.toDer(_).getBytes()};return i.pem.encode(N,{maxline:M})},y.encryptedPrivateKeyFromPem=function(_){var M=i.pem.decode(_)[0];if("ENCRYPTED PRIVATE KEY"!==M.type){var N=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw N.headerType=M.type,N}if(M.procType&&"ENCRYPTED"===M.procType.type)throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return v.fromDer(M.body)},y.encryptRsaPrivateKey=function(_,M,N){if(!(N=N||{}).legacy){var P=y.wrapRsaPrivateKey(y.privateKeyToAsn1(_));return P=y.encryptPrivateKeyInfo(P,M,N),y.encryptedPrivateKeyToPem(P)}var G,x,V,Q;switch(N.algorithm){case"aes128":G="AES-128-CBC",V=16,x=i.random.getBytesSync(16),Q=i.aes.createEncryptionCipher;break;case"aes192":G="AES-192-CBC",V=24,x=i.random.getBytesSync(16),Q=i.aes.createEncryptionCipher;break;case"aes256":G="AES-256-CBC",V=32,x=i.random.getBytesSync(16),Q=i.aes.createEncryptionCipher;break;case"3des":G="DES-EDE3-CBC",V=24,x=i.random.getBytesSync(8),Q=i.des.createEncryptionCipher;break;case"des":G="DES-CBC",V=8,x=i.random.getBytesSync(8),Q=i.des.createEncryptionCipher;break;default:var Y=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+N.algorithm+'".');throw Y.algorithm=N.algorithm,Y}var fe=Q(i.pbe.opensslDeriveBytes(M,x.substr(0,8),V));fe.start(x),fe.update(v.toDer(y.privateKeyToAsn1(_))),fe.finish();var K={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:G,parameters:i.util.bytesToHex(x).toUpperCase()},body:fe.output.getBytes()};return i.pem.encode(K)},y.decryptRsaPrivateKey=function(_,M){var N=null,P=i.pem.decode(_)[0];if("ENCRYPTED PRIVATE KEY"!==P.type&&"PRIVATE KEY"!==P.type&&"RSA PRIVATE KEY"!==P.type)throw(G=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".')).headerType=G,G;if(P.procType&&"ENCRYPTED"===P.procType.type){var x,V;switch(P.dekInfo.algorithm){case"DES-CBC":x=8,V=i.des.createDecryptionCipher;break;case"DES-EDE3-CBC":x=24,V=i.des.createDecryptionCipher;break;case"AES-128-CBC":x=16,V=i.aes.createDecryptionCipher;break;case"AES-192-CBC":x=24,V=i.aes.createDecryptionCipher;break;case"AES-256-CBC":x=32,V=i.aes.createDecryptionCipher;break;case"RC2-40-CBC":x=5,V=function(K){return i.rc2.createDecryptionCipher(K,40)};break;case"RC2-64-CBC":x=8,V=function(K){return i.rc2.createDecryptionCipher(K,64)};break;case"RC2-128-CBC":x=16,V=function(K){return i.rc2.createDecryptionCipher(K,128)};break;default:var G;throw(G=new Error('Could not decrypt private key; unsupported encryption algorithm "'+P.dekInfo.algorithm+'".')).algorithm=P.dekInfo.algorithm,G}var Q=i.util.hexToBytes(P.dekInfo.parameters),le=V(i.pbe.opensslDeriveBytes(M,Q.substr(0,8),x));if(le.start(Q),le.update(i.util.createBuffer(P.body)),!le.finish())return N;N=le.output.getBytes()}else N=P.body;return null!==(N="ENCRYPTED PRIVATE KEY"===P.type?y.decryptPrivateKeyInfo(v.fromDer(N),M):v.fromDer(N))&&(N=y.privateKeyFromAsn1(N)),N},y.pbe.generatePkcs12Key=function(_,M,N,P,G,x){var V,Q;if(typeof x>"u"||null===x){if(!("sha1"in i.md))throw new Error('"sha1" hash algorithm unavailable.');x=i.md.sha1.create()}var Y=x.digestLength,le=x.blockLength,fe=new i.util.ByteBuffer,K=new i.util.ByteBuffer;if(null!=_){for(Q=0;Q<_.length;Q++)K.putInt16(_.charCodeAt(Q));K.putInt16(0)}var ee=K.length(),ie=M.length(),T=new i.util.ByteBuffer;T.fillWithByte(N,le);var ae=le*Math.ceil(ie/le),re=new i.util.ByteBuffer;for(Q=0;Q<ae;Q++)re.putByte(M.at(Q%ie));var Me=le*Math.ceil(ee/le),Qe=new i.util.ByteBuffer;for(Q=0;Q<Me;Q++)Qe.putByte(K.at(Q%ee));var Le=re;Le.putBuffer(Qe);for(var Ne=Math.ceil(G/Y),Je=1;Je<=Ne;Je++){var Ee=new i.util.ByteBuffer;Ee.putBytes(T.bytes()),Ee.putBytes(Le.bytes());for(var be=0;be<P;be++)x.start(),x.update(Ee.getBytes()),Ee=x.digest();var se=new i.util.ByteBuffer;for(Q=0;Q<le;Q++)se.putByte(Ee.at(Q%Y));var Oe=Math.ceil(ie/le)+Math.ceil(ee/le),Ie=new i.util.ByteBuffer;for(V=0;V<Oe;V++){var it=new i.util.ByteBuffer(Le.getBytes(le)),xe=511;for(Q=se.length()-1;Q>=0;Q--)xe>>=8,xe+=se.at(Q)+it.at(Q),it.setAt(Q,255&xe);Ie.putBuffer(it)}Le=Ie,fe.putBuffer(Ee)}return fe.truncate(fe.length()-G),fe},y.pbe.getCipher=function(_,M,N){switch(_){case y.oids.pkcs5PBES2:return y.pbe.getCipherForPBES2(_,M,N);case y.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case y.oids["pbewithSHAAnd40BitRC2-CBC"]:return y.pbe.getCipherForPKCS12PBE(_,M,N);default:var P=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw P.oid=_,P.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],P}},y.pbe.getCipherForPBES2=function(_,M,N){var x,P={},G=[];if(!v.validate(M,D,P,G))throw(x=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=G,x;if((_=v.derToOid(P.kdfOid))!==y.oids.pkcs5PBKDF2)throw(x=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.")).oid=_,x.supportedOids=["pkcs5PBKDF2"],x;if((_=v.derToOid(P.encOid))!==y.oids["aes128-CBC"]&&_!==y.oids["aes192-CBC"]&&_!==y.oids["aes256-CBC"]&&_!==y.oids["des-EDE3-CBC"]&&_!==y.oids.desCBC)throw(x=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.")).oid=_,x.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],x;var Y,le,V=P.kdfSalt,Q=i.util.createBuffer(P.kdfIterationCount);switch(Q=Q.getInt(Q.length()<<3),y.oids[_]){case"aes128-CBC":Y=16,le=i.aes.createDecryptionCipher;break;case"aes192-CBC":Y=24,le=i.aes.createDecryptionCipher;break;case"aes256-CBC":Y=32,le=i.aes.createDecryptionCipher;break;case"des-EDE3-CBC":Y=24,le=i.des.createDecryptionCipher;break;case"desCBC":Y=8,le=i.des.createDecryptionCipher}var fe=E(P.prfOid),K=i.pkcs5.pbkdf2(N,V,Q,Y,fe),ee=P.encIv,ie=le(K);return ie.start(ee),ie},y.pbe.getCipherForPKCS12PBE=function(_,M,N){var P={},G=[];if(!v.validate(M,h,P,G))throw(x=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=G,x;var Y,le,fe,V=i.util.createBuffer(P.salt),Q=i.util.createBuffer(P.iterations);switch(Q=Q.getInt(Q.length()<<3),_){case y.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:Y=24,le=8,fe=i.des.startDecrypting;break;case y.oids["pbewithSHAAnd40BitRC2-CBC"]:Y=5,le=8,fe=function(ae,re){var Me=i.rc2.createDecryptionCipher(ae,40);return Me.start(re,null),Me};break;default:var x;throw(x=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.")).oid=_,x}var K=E(P.prfOid),ee=y.pbe.generatePkcs12Key(N,V,1,Q,Y,K);return K.start(),fe(ee,y.pbe.generatePkcs12Key(N,V,2,Q,le,K))},y.pbe.opensslDeriveBytes=function(_,M,N,P){if(typeof P>"u"||null===P){if(!("md5"in i.md))throw new Error('"md5" hash algorithm unavailable.');P=i.md.md5.create()}null===M&&(M="");for(var G=[f(P,_+M)],x=16,V=1;x<N;++V,x+=16)G.push(f(P,G[V-1]+_+M));return G.join("").substr(0,N)}},1097:(lt,we,p)=>{var i=p(6589);p(4579),p(5437),p(812);var v,e=i.pkcs5=i.pkcs5||{};i.util.isNodejs&&!i.options.usePureJavaScript&&(v=p(310)),lt.exports=i.pbkdf2=e.pbkdf2=function(y,w,I,D,h,f){if("function"==typeof h&&(f=h,h=null),i.util.isNodejs&&!i.options.usePureJavaScript&&v.pbkdf2&&(null===h||"object"!=typeof h)&&(v.pbkdf2Sync.length>4||!h||"sha1"===h))return"string"!=typeof h&&(h="sha1"),y=Buffer.from(y,"binary"),w=Buffer.from(w,"binary"),f?4===v.pbkdf2Sync.length?v.pbkdf2(y,w,I,D,function(fe,K){if(fe)return f(fe);f(null,K.toString("binary"))}):v.pbkdf2(y,w,I,D,h,function(fe,K){if(fe)return f(fe);f(null,K.toString("binary"))}):4===v.pbkdf2Sync.length?v.pbkdf2Sync(y,w,I,D).toString("binary"):v.pbkdf2Sync(y,w,I,D,h).toString("binary");if((typeof h>"u"||null===h)&&(h="sha1"),"string"==typeof h){if(!(h in i.md.algorithms))throw new Error("Unknown hash algorithm: "+h);h=i.md[h].create()}var E=h.digestLength;if(D>4294967295*E){var F=new Error("Derived key is too long.");if(f)return f(F);throw F}var L=Math.ceil(D/E),_=D-(L-1)*E,M=i.hmac.create();M.start(h,y);var P,G,x,N="";if(!f){for(var V=1;V<=L;++V){M.start(null,null),M.update(w),M.update(i.util.int32ToBytes(V)),P=x=M.digest().getBytes();for(var Q=2;Q<=I;++Q)M.start(null,null),M.update(x),G=M.digest().getBytes(),P=i.util.xorBytes(P,G,E),x=G;N+=V<L?P:P.substr(0,_)}return N}function Y(){if(V>L)return f(null,N);M.start(null,null),M.update(w),M.update(i.util.int32ToBytes(V)),P=x=M.digest().getBytes(),Q=2,le()}function le(){if(Q<=I)return M.start(null,null),M.update(x),G=M.digest().getBytes(),P=i.util.xorBytes(P,G,E),x=G,++Q,i.util.setImmediate(le);N+=V<L?P:P.substr(0,_),++V,Y()}V=1,Y()}},9368:(lt,we,p)=>{var i=p(6589);p(812);var e=lt.exports=i.pem=i.pem||{};function v(w){for(var I=w.name+": ",D=[],h=function(_,M){return" "+M},f=0;f<w.values.length;++f)D.push(w.values[f].replace(/^(\S+\r\n)/,h));I+=D.join(",")+"\r\n";var E=0,F=-1;for(f=0;f<I.length;++f,++E)if(E>65&&-1!==F){var L=I[F];","===L?(++F,I=I.substr(0,F)+"\r\n "+I.substr(F)):I=I.substr(0,F)+"\r\n"+L+I.substr(F+1),E=f-F-1,F=-1,++f}else(" "===I[f]||"\t"===I[f]||","===I[f])&&(F=f);return I}function y(w){return w.replace(/^\s+/,"")}e.encode=function(w,I){I=I||{};var h,D="-----BEGIN "+w.type+"-----\r\n";if(w.procType&&(D+=v(h={name:"Proc-Type",values:[String(w.procType.version),w.procType.type]})),w.contentDomain&&(D+=v(h={name:"Content-Domain",values:[w.contentDomain]})),w.dekInfo&&(h={name:"DEK-Info",values:[w.dekInfo.algorithm]},w.dekInfo.parameters&&h.values.push(w.dekInfo.parameters),D+=v(h)),w.headers)for(var f=0;f<w.headers.length;++f)D+=v(w.headers[f]);return w.procType&&(D+="\r\n"),(D+=i.util.encode64(w.body,I.maxline||64)+"\r\n")+"-----END "+w.type+"-----\r\n"},e.decode=function(w){for(var E,I=[],D=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,h=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,f=/\r?\n/;E=D.exec(w);){var F=E[1];"NEW CERTIFICATE REQUEST"===F&&(F="CERTIFICATE REQUEST");var L={type:F,procType:null,contentDomain:null,dekInfo:null,headers:[],body:i.util.decode64(E[3])};if(I.push(L),E[2]){for(var _=E[2].split(f),M=0;E&&M<_.length;){for(var N=_[M].replace(/\s+$/,""),P=M+1;P<_.length;++P){var G=_[P];if(!/\s/.test(G[0]))break;N+=G,M=P}if(E=N.match(h)){for(var x={name:E[1],values:[]},V=E[2].split(","),Q=0;Q<V.length;++Q)x.values.push(y(V[Q]));if(L.procType)if(L.contentDomain||"Content-Domain"!==x.name)if(L.dekInfo||"DEK-Info"!==x.name)L.headers.push(x);else{if(0===x.values.length)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');L.dekInfo={algorithm:V[0],parameters:V[1]||null}}else L.contentDomain=V[0]||"";else{if("Proc-Type"!==x.name)throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(2!==x.values.length)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');L.procType={version:V[0],type:V[1]}}}++M}if("ENCRYPTED"===L.procType&&!L.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(0===I.length)throw new Error("Invalid PEM formatted message.");return I}},8788:(lt,we,p)=>{var i=p(6589);p(812),p(1675),p(8825);var e=lt.exports=i.pkcs1=i.pkcs1||{};function v(y,w,I){I||(I=i.md.sha1.create());for(var D="",h=Math.ceil(w/I.digestLength),f=0;f<h;++f){var E=String.fromCharCode(f>>24&255,f>>16&255,f>>8&255,255&f);I.start(),I.update(y+E),D+=I.digest().getBytes()}return D.substring(0,w)}e.encode_rsa_oaep=function(y,w,I){var D,h,f,E;"string"==typeof I?(D=I,h=arguments[3]||void 0,f=arguments[4]||void 0):I&&(D=I.label||void 0,h=I.seed||void 0,f=I.md||void 0,I.mgf1&&I.mgf1.md&&(E=I.mgf1.md)),f?f.start():f=i.md.sha1.create(),E||(E=f);var F=Math.ceil(y.n.bitLength()/8),L=F-2*f.digestLength-2;if(w.length>L)throw(_=new Error("RSAES-OAEP input message length is too long.")).length=w.length,_.maxLength=L,_;D||(D=""),f.update(D,"raw");for(var M=f.digest(),N="",P=L-w.length,G=0;G<P;G++)N+="\0";var x=M.getBytes()+N+"\x01"+w;if(h){if(h.length!==f.digestLength){var _;throw(_=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.")).seedLength=h.length,_.digestLength=f.digestLength,_}}else h=i.random.getBytes(f.digestLength);var V=v(h,F-f.digestLength-1,E),Q=i.util.xorBytes(x,V,x.length),Y=v(Q,f.digestLength,E);return"\0"+i.util.xorBytes(h,Y,h.length)+Q},e.decode_rsa_oaep=function(y,w,I){var D,h,f;"string"==typeof I?(D=I,h=arguments[3]||void 0):I&&(D=I.label||void 0,h=I.md||void 0,I.mgf1&&I.mgf1.md&&(f=I.mgf1.md));var E=Math.ceil(y.n.bitLength()/8);if(w.length!==E)throw(Q=new Error("RSAES-OAEP encoded message length is invalid.")).length=w.length,Q.expectedLength=E,Q;if(void 0===h?h=i.md.sha1.create():h.start(),f||(f=h),E<2*h.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");D||(D=""),h.update(D,"raw");for(var F=h.digest().getBytes(),L=w.charAt(0),_=w.substring(1,h.digestLength+1),M=w.substring(1+h.digestLength),N=v(M,h.digestLength,f),G=v(i.util.xorBytes(_,N,_.length),E-h.digestLength-1,f),x=i.util.xorBytes(M,G,M.length),V=x.substring(0,h.digestLength),Q="\0"!==L,Y=0;Y<h.digestLength;++Y)Q|=F.charAt(Y)!==V.charAt(Y);for(var le=1,fe=h.digestLength,K=h.digestLength;K<x.length;K++){var ee=x.charCodeAt(K);Q|=ee&(le?65534:0),fe+=le&=1&ee^1}if(Q||1!==x.charCodeAt(fe))throw new Error("Invalid RSAES-OAEP padding.");return x.substring(fe+1)}},4724:(lt,we,p)=>{var i=p(6589);p(7097),p(4579),p(1817),p(8291),p(1347),p(1675),p(2880),p(8825),p(812),p(9436);var e=i.asn1,v=i.pki,y=lt.exports=i.pkcs12=i.pkcs12||{},w={name:"ContentInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:e.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},I={name:"PFX",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"version"},w,{name:"PFX.macData",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:e.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:e.Class.UNIVERSAL,type:e.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:e.Class.UNIVERSAL,type:e.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},D={name:"SafeBag",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:e.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:e.Class.UNIVERSAL,type:e.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},h={name:"Attribute",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:e.Class.UNIVERSAL,type:e.Type.SET,constructed:!0,capture:"values"}]},f={name:"CertBag",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:e.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:e.Class.UNIVERSAL,type:e.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function E(P,G,x,V){for(var Q=[],Y=0;Y<P.length;Y++)for(var le=0;le<P[Y].safeBags.length;le++){var fe=P[Y].safeBags[le];if(void 0===V||fe.type===V){if(null===G){Q.push(fe);continue}void 0!==fe.attributes[G]&&fe.attributes[G].indexOf(x)>=0&&Q.push(fe)}}return Q}function F(P){if(P.composed||P.constructed){for(var G=i.util.createBuffer(),x=0;x<P.value.length;++x)G.putBytes(P.value[x].value);P.composed=P.constructed=!1,P.value=G.getBytes()}return P}function _(P,G){var x={},V=[];if(!e.validate(P,i.pkcs7.asn1.encryptedDataValidator,x,V))throw(Q=new Error("Cannot read EncryptedContentInfo.")).errors=V,Q;var Q,Y=e.derToOid(x.contentType);if(Y!==v.oids.data)throw(Q=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.")).oid=Y,Q;Y=e.derToOid(x.encAlgorithm);var le=v.pbe.getCipher(Y,x.encParameter,G),fe=F(x.encryptedContentAsn1),K=i.util.createBuffer(fe.value);if(le.update(K),!le.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return le.output.getBytes()}function M(P,G,x){if(!G&&0===P.length)return[];if((P=e.fromDer(P,G)).tagClass!==e.Class.UNIVERSAL||P.type!==e.Type.SEQUENCE||!0!==P.constructed)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var V=[],Q=0;Q<P.value.length;Q++){var le={},fe=[];if(!e.validate(P.value[Q],D,le,fe))throw(K=new Error("Cannot read SafeBag.")).errors=fe,K;var ee={type:e.derToOid(le.bagId),attributes:N(le.bagAttributes)};V.push(ee);var ie,T,ae=le.bagValue.value[0];switch(ee.type){case v.oids.pkcs8ShroudedKeyBag:if(null===(ae=v.decryptPrivateKeyInfo(ae,x)))throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case v.oids.keyBag:try{ee.key=v.privateKeyFromAsn1(ae)}catch{ee.key=null,ee.asn1=ae}continue;case v.oids.certBag:ie=f,T=function(){if(e.derToOid(le.certId)!==v.oids.x509Certificate){var Me=new Error("Unsupported certificate type, only X.509 supported.");throw Me.oid=e.derToOid(le.certId),Me}var Qe=e.fromDer(le.cert,G);try{ee.cert=v.certificateFromAsn1(Qe,!0)}catch{ee.cert=null,ee.asn1=Qe}};break;default:var K;throw(K=new Error("Unsupported PKCS#12 SafeBag type.")).oid=ee.type,K}if(void 0!==ie&&!e.validate(ae,ie,le,fe))throw(K=new Error("Cannot read PKCS#12 "+ie.name)).errors=fe,K;T()}return V}function N(P){var G={};if(void 0!==P)for(var x=0;x<P.length;++x){var V={},Q=[];if(!e.validate(P[x],h,V,Q)){var Y=new Error("Cannot read PKCS#12 BagAttribute.");throw Y.errors=Q,Y}var le=e.derToOid(V.oid);if(void 0!==v.oids[le]){G[v.oids[le]]=[];for(var fe=0;fe<V.values.length;++fe)G[v.oids[le]].push(V.values[fe].value)}}return G}y.pkcs12FromAsn1=function(P,G,x){"string"==typeof G?(x=G,G=!0):void 0===G&&(G=!0);var V={};if(!e.validate(P,I,V,[]))throw(Y=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.")).errors=Y,Y;var Y,le={version:V.version.charCodeAt(0),safeContents:[],getBags:function(Le){var Je,Ne={};return"localKeyId"in Le?Je=Le.localKeyId:"localKeyIdHex"in Le&&(Je=i.util.hexToBytes(Le.localKeyIdHex)),void 0===Je&&!("friendlyName"in Le)&&"bagType"in Le&&(Ne[Le.bagType]=E(le.safeContents,null,null,Le.bagType)),void 0!==Je&&(Ne.localKeyId=E(le.safeContents,"localKeyId",Je,Le.bagType)),"friendlyName"in Le&&(Ne.friendlyName=E(le.safeContents,"friendlyName",Le.friendlyName,Le.bagType)),Ne},getBagsByFriendlyName:function(Le,Ne){return E(le.safeContents,"friendlyName",Le,Ne)},getBagsByLocalKeyId:function(Le,Ne){return E(le.safeContents,"localKeyId",Le,Ne)}};if(3!==V.version.charCodeAt(0))throw(Y=new Error("PKCS#12 PFX of version other than 3 not supported.")).version=V.version.charCodeAt(0),Y;if(e.derToOid(V.contentType)!==v.oids.data)throw(Y=new Error("Only PKCS#12 PFX in password integrity mode supported.")).oid=e.derToOid(V.contentType),Y;var fe=V.content.value[0];if(fe.tagClass!==e.Class.UNIVERSAL||fe.type!==e.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(fe=F(fe),V.mac){var K=null,ee=0,ie=e.derToOid(V.macAlgorithm);switch(ie){case v.oids.sha1:K=i.md.sha1.create(),ee=20;break;case v.oids.sha256:K=i.md.sha256.create(),ee=32;break;case v.oids.sha384:K=i.md.sha384.create(),ee=48;break;case v.oids.sha512:K=i.md.sha512.create(),ee=64;break;case v.oids.md5:K=i.md.md5.create(),ee=16}if(null===K)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+ie);var T=new i.util.ByteBuffer(V.macSalt),ae="macIterations"in V?parseInt(i.util.bytesToHex(V.macIterations),16):1,re=y.generateKey(x,T,3,ae,ee,K),Me=i.hmac.create();if(Me.start(K,re),Me.update(fe.value),Me.getMac().getBytes()!==V.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return function L(P,G,x,V){if((G=e.fromDer(G,x)).tagClass!==e.Class.UNIVERSAL||G.type!==e.Type.SEQUENCE||!0!==G.constructed)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var Q=0;Q<G.value.length;Q++){var le={},fe=[];if(!e.validate(G.value[Q],w,le,fe))throw(K=new Error("Cannot read ContentInfo.")).errors=fe,K;var ee={encrypted:!1},ie=null,T=le.content.value[0];switch(e.derToOid(le.contentType)){case v.oids.data:if(T.tagClass!==e.Class.UNIVERSAL||T.type!==e.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");ie=F(T).value;break;case v.oids.encryptedData:ie=_(T,V),ee.encrypted=!0;break;default:var K;throw(K=new Error("Unsupported PKCS#12 contentType.")).contentType=e.derToOid(le.contentType),K}ee.safeBags=M(ie,x,V),P.safeContents.push(ee)}}(le,fe.value,G,x),le},y.toPkcs12Asn1=function(P,G,x,V){(V=V||{}).saltSize=V.saltSize||8,V.count=V.count||2048,V.algorithm=V.algorithm||V.encAlgorithm||"aes128","useMac"in V||(V.useMac=!0),"localKeyId"in V||(V.localKeyId=null),"generateLocalKeyId"in V||(V.generateLocalKeyId=!0);var Y,Q=V.localKeyId;if(null!==Q)Q=i.util.hexToBytes(Q);else if(V.generateLocalKeyId)if(G){var le=i.util.isArray(G)?G[0]:G;"string"==typeof le&&(le=v.certificateFromPem(le)),(fe=i.md.sha1.create()).update(e.toDer(v.certificateToAsn1(le)).getBytes()),Q=fe.digest().getBytes()}else Q=i.random.getBytes(20);var K=[];null!==Q&&K.push(e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(v.oids.localKeyId).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SET,!0,[e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,Q)])])),"friendlyName"in V&&K.push(e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(v.oids.friendlyName).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SET,!0,[e.create(e.Class.UNIVERSAL,e.Type.BMPSTRING,!1,V.friendlyName)])])),K.length>0&&(Y=e.create(e.Class.UNIVERSAL,e.Type.SET,!0,K));var ee=[],ie=[];null!==G&&(ie=i.util.isArray(G)?G:[G]);for(var T=[],ae=0;ae<ie.length;++ae){"string"==typeof(G=ie[ae])&&(G=v.certificateFromPem(G));var re=0===ae?Y:void 0,Me=v.certificateToAsn1(G),Qe=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(v.oids.certBag).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(v.oids.x509Certificate).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,e.toDer(Me).getBytes())])])]),re]);T.push(Qe)}if(T.length>0){var Le=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,T),Ne=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(v.oids.data).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,e.toDer(Le).getBytes())])]);ee.push(Ne)}var Je=null;if(null!==P){var Ee=v.wrapRsaPrivateKey(v.privateKeyToAsn1(P));Je=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,null===x?[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(v.oids.keyBag).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[Ee]),Y]:[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(v.oids.pkcs8ShroudedKeyBag).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[v.encryptPrivateKeyInfo(Ee,x,V)]),Y]);var be=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[Je]),se=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(v.oids.data).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,e.toDer(be).getBytes())])]);ee.push(se)}var Ie,Oe=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,ee);if(V.useMac){var fe=i.md.sha1.create(),it=new i.util.ByteBuffer(i.random.getBytes(V.saltSize)),xe=V.count,pt=(P=y.generateKey(x,it,3,xe,20),i.hmac.create());pt.start(fe,P),pt.update(e.toDer(Oe).getBytes());var vt=pt.getMac();Ie=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(v.oids.sha1).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")]),e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,vt.getBytes())]),e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,it.getBytes()),e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(xe).getBytes())])}return e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(3).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(v.oids.data).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,e.toDer(Oe).getBytes())])]),Ie])},y.generateKey=i.pbe.generatePkcs12Key},8645:(lt,we,p)=>{var i=p(6589);p(57),p(7097),p(3674),p(1817),p(9368),p(8291),p(1675),p(812),p(9436);var e=i.asn1,v=lt.exports=i.pkcs7=i.pkcs7||{};function y(P){var G={},x=[];if(!e.validate(P,v.asn1.recipientInfoValidator,G,x)){var V=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw V.errors=x,V}return{version:G.version.charCodeAt(0),issuer:i.pki.RDNAttributesAsArray(G.issuer),serialNumber:i.util.createBuffer(G.serial).toHex(),encryptedContent:{algorithm:e.derToOid(G.encAlgorithm),parameter:G.encParameter?G.encParameter.value:void 0,content:G.encKey}}}function w(P){return e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(P.version).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[i.pki.distinguishedNameToAsn1({attributes:P.issuer}),e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,i.util.hexToBytes(P.serialNumber))]),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(P.encryptedContent.algorithm).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")]),e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,P.encryptedContent.content)])}function D(P){for(var G=[],x=0;x<P.length;++x)G.push(w(P[x]));return G}function f(P){var G=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(P.version).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[i.pki.distinguishedNameToAsn1({attributes:P.issuer}),e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,i.util.hexToBytes(P.serialNumber))]),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(P.digestAlgorithm).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")])]);if(P.authenticatedAttributesAsn1&&G.value.push(P.authenticatedAttributesAsn1),G.value.push(e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(P.signatureAlgorithm).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")])),G.value.push(e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,P.signature)),P.unauthenticatedAttributes.length>0){for(var x=e.create(e.Class.CONTEXT_SPECIFIC,1,!0,[]),V=0;V<P.unauthenticatedAttributes.length;++V)x.values.push(L(P.unauthenticatedAttributes[V]));G.value.push(x)}return G}function L(P){var G;if(P.type===i.pki.oids.contentType)G=e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(P.value).getBytes());else if(P.type===i.pki.oids.messageDigest)G=e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,P.value.bytes());else if(P.type===i.pki.oids.signingTime){var x=new Date("1950-01-01T00:00:00Z"),V=new Date("2050-01-01T00:00:00Z"),Q=P.value;if("string"==typeof Q){var Y=Date.parse(Q);Q=isNaN(Y)?13===Q.length?e.utcTimeToDate(Q):e.generalizedTimeToDate(Q):new Date(Y)}G=Q>=x&&Q<V?e.create(e.Class.UNIVERSAL,e.Type.UTCTIME,!1,e.dateToUtcTime(Q)):e.create(e.Class.UNIVERSAL,e.Type.GENERALIZEDTIME,!1,e.dateToGeneralizedTime(Q))}return e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(P.type).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SET,!0,[G])])}function _(P){return[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(i.pki.oids.data).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(P.algorithm).getBytes()),P.parameter?e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,P.parameter.getBytes()):void 0]),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,P.content.getBytes())])]}function M(P,G,x){var V={};if(!e.validate(G,x,V,[])){var Y=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw Y.errors=Y,Y}if(e.derToOid(V.contentType)!==i.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(V.encryptedContent){var fe="";if(i.util.isArray(V.encryptedContent))for(var K=0;K<V.encryptedContent.length;++K){if(V.encryptedContent[K].type!==e.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");fe+=V.encryptedContent[K].value}else fe=V.encryptedContent;P.encryptedContent={algorithm:e.derToOid(V.encAlgorithm),parameter:i.util.createBuffer(V.encParameter.value),content:i.util.createBuffer(fe)}}if(V.content){if(fe="",i.util.isArray(V.content))for(K=0;K<V.content.length;++K){if(V.content[K].type!==e.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");fe+=V.content[K].value}else fe=V.content;P.content=i.util.createBuffer(fe)}return P.version=V.version.charCodeAt(0),P.rawCapture=V,V}function N(P){if(void 0===P.encryptedContent.key)throw new Error("Symmetric key not available.");if(void 0===P.content){var G;switch(P.encryptedContent.algorithm){case i.pki.oids["aes128-CBC"]:case i.pki.oids["aes192-CBC"]:case i.pki.oids["aes256-CBC"]:G=i.aes.createDecryptionCipher(P.encryptedContent.key);break;case i.pki.oids.desCBC:case i.pki.oids["des-EDE3-CBC"]:G=i.des.createDecryptionCipher(P.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+P.encryptedContent.algorithm)}if(G.start(P.encryptedContent.parameter),G.update(P.encryptedContent.content),!G.finish())throw new Error("Symmetric decryption failed.");P.content=G.output}}v.messageFromPem=function(P){var G=i.pem.decode(P)[0];if("PKCS7"!==G.type){var x=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw x.headerType=G.type,x}if(G.procType&&"ENCRYPTED"===G.procType.type)throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var V=e.fromDer(G.body);return v.messageFromAsn1(V)},v.messageToPem=function(P,G){var x={type:"PKCS7",body:e.toDer(P.toAsn1()).getBytes()};return i.pem.encode(x,{maxline:G})},v.messageFromAsn1=function(P){var G={},x=[];if(!e.validate(P,v.asn1.contentInfoValidator,G,x)){var V=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw V.errors=x,V}var Y,Q=e.derToOid(G.contentType);switch(Q){case i.pki.oids.envelopedData:Y=v.createEnvelopedData();break;case i.pki.oids.encryptedData:Y=v.createEncryptedData();break;case i.pki.oids.signedData:Y=v.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+Q+" is not (yet) supported.")}return Y.fromAsn1(G.content.value[0]),Y},v.createSignedData=function(){var P=null;return P={type:i.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(V){if(M(P,V,v.asn1.signedDataValidator),P.certificates=[],P.crls=[],P.digestAlgorithmIdentifiers=[],P.contentInfo=null,P.signerInfos=[],P.rawCapture.certificates)for(var Q=P.rawCapture.certificates.value,Y=0;Y<Q.length;++Y)P.certificates.push(i.pki.certificateFromAsn1(Q[Y]))},toAsn1:function(){P.contentInfo||P.sign();for(var V=[],Q=0;Q<P.certificates.length;++Q)V.push(i.pki.certificateToAsn1(P.certificates[Q]));var Y=[],le=e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(P.version).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SET,!0,P.digestAlgorithmIdentifiers),P.contentInfo])]);return V.length>0&&le.value[0].value.push(e.create(e.Class.CONTEXT_SPECIFIC,0,!0,V)),Y.length>0&&le.value[0].value.push(e.create(e.Class.CONTEXT_SPECIFIC,1,!0,Y)),le.value[0].value.push(e.create(e.Class.UNIVERSAL,e.Type.SET,!0,P.signerInfos)),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(P.type).getBytes()),le])},addSigner:function(V){var Q=V.issuer,Y=V.serialNumber;if(V.certificate){var le=V.certificate;"string"==typeof le&&(le=i.pki.certificateFromPem(le)),Q=le.issuer.attributes,Y=le.serialNumber}var fe=V.key;if(!fe)throw new Error("Could not add PKCS#7 signer; no private key specified.");"string"==typeof fe&&(fe=i.pki.privateKeyFromPem(fe));var K=V.digestAlgorithm||i.pki.oids.sha1;switch(K){case i.pki.oids.sha1:case i.pki.oids.sha256:case i.pki.oids.sha384:case i.pki.oids.sha512:case i.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+K)}var ee=V.authenticatedAttributes||[];if(ee.length>0){for(var ie=!1,T=!1,ae=0;ae<ee.length;++ae){var re=ee[ae];if(ie||re.type!==i.pki.oids.contentType){if(T||re.type!==i.pki.oids.messageDigest);else if(T=!0,ie)break}else if(ie=!0,T)break}if(!ie||!T)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}P.signers.push({key:fe,version:1,issuer:Q,serialNumber:Y,digestAlgorithm:K,signatureAlgorithm:i.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:ee,unauthenticatedAttributes:[]})},sign:function(V){var Q;if(V=V||{},"object"==typeof P.content&&null!==P.contentInfo||(P.contentInfo=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(i.pki.oids.data).getBytes())]),!("content"in P))||(P.content instanceof i.util.ByteBuffer?Q=P.content.bytes():"string"==typeof P.content&&(Q=i.util.encodeUtf8(P.content)),V.detached?P.detachedContent=e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,Q):P.contentInfo.value.push(e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,Q)]))),0!==P.signers.length){var Y=function G(){for(var V={},Q=0;Q<P.signers.length;++Q){var Y=P.signers[Q];(le=Y.digestAlgorithm)in V||(V[le]=i.md[i.pki.oids[le]].create()),Y.md=0===Y.authenticatedAttributes.length?V[le]:i.md[i.pki.oids[le]].create()}for(var le in P.digestAlgorithmIdentifiers=[],V)P.digestAlgorithmIdentifiers.push(e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(le).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")]));return V}();!function x(V){var Q;if(P.detachedContent?Q=P.detachedContent:Q=(Q=P.contentInfo.value[1]).value[0],!Q)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var Y=e.derToOid(P.contentInfo.value[0].value),le=e.toDer(Q);for(var fe in le.getByte(),e.getBerValueLength(le),le=le.getBytes(),V)V[fe].start().update(le);for(var K=new Date,ee=0;ee<P.signers.length;++ee){var ie=P.signers[ee];if(0===ie.authenticatedAttributes.length){if(Y!==i.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{ie.authenticatedAttributesAsn1=e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var T=e.create(e.Class.UNIVERSAL,e.Type.SET,!0,[]),ae=0;ae<ie.authenticatedAttributes.length;++ae){var re=ie.authenticatedAttributes[ae];re.type===i.pki.oids.messageDigest?re.value=V[ie.digestAlgorithm].digest():re.type===i.pki.oids.signingTime&&(re.value||(re.value=K)),T.value.push(L(re)),ie.authenticatedAttributesAsn1.value.push(L(re))}le=e.toDer(T).getBytes(),ie.md.start().update(le)}ie.signature=ie.key.sign(ie.md,"RSASSA-PKCS1-V1_5")}P.signerInfos=function F(P){for(var G=[],x=0;x<P.length;++x)G.push(f(P[x]));return G}(P.signers)}(Y)}},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(V){"string"==typeof V&&(V=i.pki.certificateFromPem(V)),P.certificates.push(V)},addCertificateRevokationList:function(V){throw new Error("PKCS#7 CRL support not yet implemented.")}}},v.createEncryptedData=function(){var P=null;return P={type:i.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:i.pki.oids["aes256-CBC"]},fromAsn1:function(G){M(P,G,v.asn1.encryptedDataValidator)},decrypt:function(G){void 0!==G&&(P.encryptedContent.key=G),N(P)}}},v.createEnvelopedData=function(){var P=null;return P={type:i.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:i.pki.oids["aes256-CBC"]},fromAsn1:function(G){var x=M(P,G,v.asn1.envelopedDataValidator);P.recipients=function I(P){for(var G=[],x=0;x<P.length;++x)G.push(y(P[x]));return G}(x.recipientInfos.value)},toAsn1:function(){return e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(P.type).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(P.version).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SET,!0,D(P.recipients)),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,_(P.encryptedContent))])])])},findRecipient:function(G){for(var x=G.issuer.attributes,V=0;V<P.recipients.length;++V){var Q=P.recipients[V],Y=Q.issuer;if(Q.serialNumber===G.serialNumber&&Y.length===x.length){for(var le=!0,fe=0;fe<x.length;++fe)if(Y[fe].type!==x[fe].type||Y[fe].value!==x[fe].value){le=!1;break}if(le)return Q}}return null},decrypt:function(G,x){if(void 0===P.encryptedContent.key&&void 0!==G&&void 0!==x)switch(G.encryptedContent.algorithm){case i.pki.oids.rsaEncryption:case i.pki.oids.desCBC:var V=x.decrypt(G.encryptedContent.content);P.encryptedContent.key=i.util.createBuffer(V);break;default:throw new Error("Unsupported asymmetric cipher, OID "+G.encryptedContent.algorithm)}N(P)},addRecipient:function(G){P.recipients.push({version:0,issuer:G.issuer.attributes,serialNumber:G.serialNumber,encryptedContent:{algorithm:i.pki.oids.rsaEncryption,key:G.publicKey}})},encrypt:function(G,x){if(void 0===P.encryptedContent.content){var V,Q,Y;switch(G=G||P.encryptedContent.key,x=x||P.encryptedContent.algorithm){case i.pki.oids["aes128-CBC"]:V=16,Q=16,Y=i.aes.createEncryptionCipher;break;case i.pki.oids["aes192-CBC"]:V=24,Q=16,Y=i.aes.createEncryptionCipher;break;case i.pki.oids["aes256-CBC"]:V=32,Q=16,Y=i.aes.createEncryptionCipher;break;case i.pki.oids["des-EDE3-CBC"]:V=24,Q=8,Y=i.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+x)}if(void 0===G)G=i.util.createBuffer(i.random.getBytes(V));else if(G.length()!=V)throw new Error("Symmetric key has wrong length; got "+G.length()+" bytes, expected "+V+".");P.encryptedContent.algorithm=x,P.encryptedContent.key=G,P.encryptedContent.parameter=i.util.createBuffer(i.random.getBytes(Q));var le=Y(G);if(le.start(P.encryptedContent.parameter.copy()),le.update(P.content),!le.finish())throw new Error("Symmetric encryption failed.");P.encryptedContent.content=le.output}for(var fe=0;fe<P.recipients.length;++fe){var K=P.recipients[fe];if(void 0===K.encryptedContent.content){if(K.encryptedContent.algorithm!==i.pki.oids.rsaEncryption)throw new Error("Unsupported asymmetric cipher, OID "+K.encryptedContent.algorithm);K.encryptedContent.content=K.encryptedContent.key.encrypt(P.encryptedContent.key.data)}}}}}},8291:(lt,we,p)=>{var i=p(6589);p(7097),p(812);var e=i.asn1,v=lt.exports=i.pkcs7asn1=i.pkcs7asn1||{};i.pkcs7=i.pkcs7||{},i.pkcs7.asn1=v;var y={name:"ContentInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:e.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};v.contentInfoValidator=y;var w={name:"EncryptedContentInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:e.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:e.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};v.envelopedDataValidator={name:"EnvelopedData",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:e.Class.UNIVERSAL,type:e.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(w)},v.encryptedDataValidator={name:"EncryptedData",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"version"}].concat(w)},v.signedDataValidator={name:"SignedData",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:e.Class.UNIVERSAL,type:e.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},y,{name:"SignedData.Certificates",tagClass:e.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:e.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:e.Class.UNIVERSAL,type:e.Type.SET,capture:"signerInfos",optional:!0,value:[{name:"SignerInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:e.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:e.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:e.Class.UNIVERSAL,type:e.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:e.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]}]}]},v.recipientInfoValidator={name:"RecipientInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:e.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter",optional:!0}]},{name:"RecipientInfo.encryptedKey",tagClass:e.Class.UNIVERSAL,type:e.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}},9622:(lt,we,p)=>{var i=p(6589);p(7097),p(1817),p(1347),p(9368),p(1097),p(4724),p(8588),p(2880),p(812),p(9436);var e=i.asn1,v=lt.exports=i.pki=i.pki||{};v.pemToDer=function(y){var w=i.pem.decode(y)[0];if(w.procType&&"ENCRYPTED"===w.procType.type)throw new Error("Could not convert PEM to DER; PEM is encrypted.");return i.util.createBuffer(w.body)},v.privateKeyFromPem=function(y){var w=i.pem.decode(y)[0];if("PRIVATE KEY"!==w.type&&"RSA PRIVATE KEY"!==w.type){var I=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw I.headerType=w.type,I}if(w.procType&&"ENCRYPTED"===w.procType.type)throw new Error("Could not convert private key from PEM; PEM is encrypted.");var D=e.fromDer(w.body);return v.privateKeyFromAsn1(D)},v.privateKeyToPem=function(y,w){var I={type:"RSA PRIVATE KEY",body:e.toDer(v.privateKeyToAsn1(y)).getBytes()};return i.pem.encode(I,{maxline:w})},v.privateKeyInfoToPem=function(y,w){var I={type:"PRIVATE KEY",body:e.toDer(y).getBytes()};return i.pem.encode(I,{maxline:w})}},3697:(lt,we,p)=>{var i=p(6589);p(812),p(3364),p(1675),function(){if(i.prime)lt.exports=i.prime;else{var e=lt.exports=i.prime=i.prime||{},v=i.jsbn.BigInteger,y=[6,4,2,4,2,4,6,2],w=new v(null);w.fromInt(30);var I=function(_,M){return _|M};e.generateProbablePrime=function(_,M,N){"function"==typeof M&&(N=M,M={});var P=(M=M||{}).algorithm||"PRIMEINC";"string"==typeof P&&(P={name:P}),P.options=P.options||{};var G=M.prng||i.random;if("PRIMEINC"===P.name)return function D(_,M,N,P){return"workers"in N?function E(_,M,N,P){if(typeof Worker>"u")return h(_,M,N,P);var G=F(_,M),x=N.workers,V=N.workLoad||100,Q=30*V/8,Y=N.workerScript||"forge/prime.worker.js";if(-1===x)return i.util.estimateCores(function(fe,K){fe&&(K=2),x=K-1,le()});function le(){x=Math.max(1,x);for(var fe=[],K=0;K<x;++K)fe[K]=new Worker(Y);for(K=0;K<x;++K)fe[K].addEventListener("message",T);var ie=!1;function T(ae){if(!ie){var re=ae.data;if(re.found){for(var Me=0;Me<fe.length;++Me)fe[Me].terminate();return ie=!0,P(null,new v(re.prime,16))}G.bitLength()>_&&(G=F(_,M));var Qe=G.toString(16);ae.target.postMessage({hex:Qe,workLoad:V}),G.dAddOffset(Q,0)}}}le()}(_,M,N,P):h(_,M,N,P)}(_,{nextBytes:function(V){for(var Q=G.getBytesSync(V.length),Y=0;Y<V.length;++Y)V[Y]=Q.charCodeAt(Y)}},P.options,N);throw new Error("Invalid prime generation algorithm: "+P.name)}}function h(_,M,N,P){var G=F(_,M),V=function L(_){return _<=100?27:_<=150?18:_<=200?15:_<=250?12:_<=300?9:_<=350?8:_<=400?7:_<=500?6:_<=600?5:_<=800?4:_<=1250?3:2}(G.bitLength());"millerRabinTests"in N&&(V=N.millerRabinTests);var Q=10;"maxBlockTime"in N&&(Q=N.maxBlockTime),f(G,_,M,0,V,Q,P)}function f(_,M,N,P,G,x,V){var Q=+new Date;do{if(_.bitLength()>M&&(_=F(M,N)),_.isProbablePrime(G))return V(null,_);_.dAddOffset(y[P++%8],0)}while(x<0||+new Date-Q<x);i.util.setImmediate(function(){f(_,M,N,P,G,x,V)})}function F(_,M){var N=new v(_,M),P=_-1;return N.testBit(P)||N.bitwiseTo(v.ONE.shiftLeft(P),I,N),N.dAddOffset(31-N.mod(w).byteValue(),0),N}}()},409:(lt,we,p)=>{var i=p(6589);p(812);var e=null;i.util.isNodejs&&!i.options.usePureJavaScript&&!process.versions["node-webkit"]&&(e=p(310)),(lt.exports=i.prng=i.prng||{}).create=function(y){for(var w={plugin:y,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},I=y.md,D=new Array(32),h=0;h<32;++h)D[h]=I.create();function E(){if(w.pools[0].messageLength>=32)return F();w.collect(w.seedFileSync(32-w.pools[0].messageLength<<5)),F()}function F(){w.reseeds=4294967295===w.reseeds?0:w.reseeds+1;var _=w.plugin.md.create();_.update(w.keyBytes);for(var M=1,N=0;N<32;++N)w.reseeds%M==0&&(_.update(w.pools[N].digest().getBytes()),w.pools[N].start()),M<<=1;w.keyBytes=_.digest().getBytes(),_.start(),_.update(w.keyBytes);var P=_.digest().getBytes();w.key=w.plugin.formatKey(w.keyBytes),w.seed=w.plugin.formatSeed(P),w.generated=0}function L(_){var M=null,N=i.util.globalScope,P=N.crypto||N.msCrypto;P&&P.getRandomValues&&(M=function(ee){return P.getRandomValues(ee)});var G=i.util.createBuffer();if(M)for(;G.length()<_;){var x=Math.max(1,Math.min(_-G.length(),65536)/4),V=new Uint32Array(Math.floor(x));try{M(V);for(var Q=0;Q<V.length;++Q)G.putInt32(V[Q])}catch(ee){if(!(typeof QuotaExceededError<"u"&&ee instanceof QuotaExceededError))throw ee}}if(G.length()<_)for(var Y,le,fe,K=Math.floor(65536*Math.random());G.length()<_;)for(le=16807*(65535&K),le+=(32767&(Y=16807*(K>>16)))<<16,K=4294967295&(le=(2147483647&(le+=Y>>15))+(le>>31)),Q=0;Q<3;++Q)fe=K>>>(Q<<3),fe^=Math.floor(256*Math.random()),G.putByte(255&fe);return G.getBytes(_)}return w.pools=D,w.pool=0,w.generate=function(_,M){if(!M)return w.generateSync(_);var N=w.plugin.cipher,P=w.plugin.increment,G=w.plugin.formatKey,x=w.plugin.formatSeed,V=i.util.createBuffer();w.key=null,function Q(Y){if(Y)return M(Y);if(V.length()>=_)return M(null,V.getBytes(_));if(w.generated>1048575&&(w.key=null),null===w.key)return i.util.nextTick(function(){!function f(_){if(w.pools[0].messageLength>=32)return F(),_();w.seedFile(32-w.pools[0].messageLength<<5,function(N,P){if(N)return _(N);w.collect(P),F(),_()})}(Q)});var le=N(w.key,w.seed);w.generated+=le.length,V.putBytes(le),w.key=G(N(w.key,P(w.seed))),w.seed=x(N(w.key,w.seed)),i.util.setImmediate(Q)}()},w.generateSync=function(_){var M=w.plugin.cipher,N=w.plugin.increment,P=w.plugin.formatKey,G=w.plugin.formatSeed;w.key=null;for(var x=i.util.createBuffer();x.length()<_;){w.generated>1048575&&(w.key=null),null===w.key&&E();var V=M(w.key,w.seed);w.generated+=V.length,x.putBytes(V),w.key=P(M(w.key,N(w.seed))),w.seed=G(M(w.key,w.seed))}return x.getBytes(_)},e?(w.seedFile=function(_,M){e.randomBytes(_,function(N,P){if(N)return M(N);M(null,P.toString())})},w.seedFileSync=function(_){return e.randomBytes(_).toString()}):(w.seedFile=function(_,M){try{M(null,L(_))}catch(N){M(N)}},w.seedFileSync=L),w.collect=function(_){for(var M=_.length,N=0;N<M;++N)w.pools[w.pool].update(_.substr(N,1)),w.pool=31===w.pool?0:w.pool+1},w.collectInt=function(_,M){for(var N="",P=0;P<M;P+=8)N+=String.fromCharCode(_>>P&255);w.collect(N)},w.registerWorker=function(_){_===self?w.seedFile=function(N,P){self.addEventListener("message",function G(x){var V=x.data;V.forge&&V.forge.prng&&(self.removeEventListener("message",G),P(V.forge.prng.err,V.forge.prng.bytes))}),self.postMessage({forge:{prng:{needed:N}}})}:_.addEventListener("message",function(N){var P=N.data;P.forge&&P.forge.prng&&w.seedFile(P.forge.prng.needed,function(G,x){_.postMessage({forge:{prng:{err:G,bytes:x}}})})})},w}},8588:(lt,we,p)=>{var i=p(6589);p(1675),p(812),(lt.exports=i.pss=i.pss||{}).create=function(v){3===arguments.length&&(v={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var h,y=v.md,w=v.mgf,I=y.digestLength,D=v.salt||null;if("string"==typeof D&&(D=i.util.createBuffer(D)),"saltLength"in v)h=v.saltLength;else{if(null===D)throw new Error("Salt length not specified or specific salt not given.");h=D.length()}if(null!==D&&D.length()!==h)throw new Error("Given salt length does not match length of given salt.");var f=v.prng||i.random;return{encode:function(F,L){var _,G,M=L-1,N=Math.ceil(M/8),P=F.digest().getBytes();if(N<I+h+2)throw new Error("Message is too long to encrypt.");G=null===D?f.getBytesSync(h):D.bytes();var x=new i.util.ByteBuffer;x.fillWithByte(0,8),x.putBytes(P),x.putBytes(G),y.start(),y.update(x.getBytes());var V=y.digest().getBytes(),Q=new i.util.ByteBuffer;Q.fillWithByte(0,N-h-I-2),Q.putByte(1),Q.putBytes(G);var Y=Q.getBytes(),le=N-I-1,fe=w.generate(V,le),K="";for(_=0;_<le;_++)K+=String.fromCharCode(Y.charCodeAt(_)^fe.charCodeAt(_));var ee=65280>>8*N-M&255;return(K=String.fromCharCode(K.charCodeAt(0)&~ee)+K.substr(1))+V+"\xbc"},verify:function(F,L,_){var M,N=_-1,P=Math.ceil(N/8);if(L=L.substr(-P),P<I+h+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(188!==L.charCodeAt(P-1))throw new Error("Encoded message does not end in 0xBC.");var G=P-I-1,x=L.substr(0,G),V=L.substr(G,I),Q=65280>>8*P-N&255;if(x.charCodeAt(0)&Q)throw new Error("Bits beyond keysize not zero as expected.");var Y=w.generate(V,G),le="";for(M=0;M<G;M++)le+=String.fromCharCode(x.charCodeAt(M)^Y.charCodeAt(M));le=String.fromCharCode(le.charCodeAt(0)&~Q)+le.substr(1);var fe=P-I-h-2;for(M=0;M<fe;M++)if(0!==le.charCodeAt(M))throw new Error("Leftmost octets not zero as expected");if(1!==le.charCodeAt(fe))throw new Error("Inconsistent PSS signature, 0x01 marker not found");var K=le.substr(-h),ee=new i.util.ByteBuffer;return ee.fillWithByte(0,8),ee.putBytes(F),ee.putBytes(K),y.start(),y.update(ee.getBytes()),V===y.digest().getBytes()}}}},1675:(lt,we,p)=>{var i=p(6589);p(57),p(2507),p(409),p(812),i.random&&i.random.getBytes?lt.exports=i.random:function(e){var v={},y=new Array(4),w=i.util.createBuffer();function I(){var _=i.prng.create(v);return _.getBytes=function(M,N){return _.generate(M,N)},_.getBytesSync=function(M){return _.generate(M)},_}v.formatKey=function(_){var M=i.util.createBuffer(_);return(_=new Array(4))[0]=M.getInt32(),_[1]=M.getInt32(),_[2]=M.getInt32(),_[3]=M.getInt32(),i.aes._expandKey(_,!1)},v.formatSeed=function(_){var M=i.util.createBuffer(_);return(_=new Array(4))[0]=M.getInt32(),_[1]=M.getInt32(),_[2]=M.getInt32(),_[3]=M.getInt32(),_},v.cipher=function(_,M){return i.aes._updateBlock(_,M,y,!1),w.putInt32(y[0]),w.putInt32(y[1]),w.putInt32(y[2]),w.putInt32(y[3]),w.getBytes()},v.increment=function(_){return++_[3],_},v.md=i.md.sha256;var D=I(),h=null,f=i.util.globalScope,E=f.crypto||f.msCrypto;if(E&&E.getRandomValues&&(h=function(_){return E.getRandomValues(_)}),i.options.usePureJavaScript||!i.util.isNodejs&&!h){if(typeof window>"u"||window,D.collectInt(+new Date,32),typeof navigator<"u"){var F="";for(var L in navigator)try{"string"==typeof navigator[L]&&(F+=navigator[L])}catch{}D.collect(F),F=null}e&&(e().mousemove(function(_){D.collectInt(_.clientX,16),D.collectInt(_.clientY,16)}),e().keypress(function(_){D.collectInt(_.charCode,8)}))}if(i.random)for(var L in D)i.random[L]=D[L];else i.random=D;i.random.createInstance=I,lt.exports=i.random}(typeof jQuery<"u"?jQuery:null)},1881:(lt,we,p)=>{var i=p(6589);p(812);var e=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],v=[1,2,3,5],y=function(D,h){return D<<h&65535|(65535&D)>>16-h},w=function(D,h){return(65535&D)>>h|D<<16-h&65535};lt.exports=i.rc2=i.rc2||{},i.rc2.expandKey=function(D,h){"string"==typeof D&&(D=i.util.createBuffer(D)),h=h||128;var M,f=D,E=D.length(),F=h,L=Math.ceil(F/8),_=255>>(7&F);for(M=E;M<128;M++)f.putByte(e[f.at(M-1)+f.at(M-E)&255]);for(f.setAt(128-L,e[f.at(128-L)&_]),M=127-L;M>=0;M--)f.setAt(M,e[f.at(M+1)^f.at(M+L)]);return f};var I=function(D,h,f){var M,N,P,G,E=!1,F=null,L=null,_=null,x=[];for(D=i.rc2.expandKey(D,h),P=0;P<64;P++)x.push(D.getInt16Le());f?(M=function(Y){for(P=0;P<4;P++)Y[P]+=x[G]+(Y[(P+3)%4]&Y[(P+2)%4])+(~Y[(P+3)%4]&Y[(P+1)%4]),Y[P]=y(Y[P],v[P]),G++},N=function(Y){for(P=0;P<4;P++)Y[P]+=x[63&Y[(P+3)%4]]}):(M=function(Y){for(P=3;P>=0;P--)Y[P]=w(Y[P],v[P]),Y[P]-=x[G]+(Y[(P+3)%4]&Y[(P+2)%4])+(~Y[(P+3)%4]&Y[(P+1)%4]),G--},N=function(Y){for(P=3;P>=0;P--)Y[P]-=x[63&Y[(P+3)%4]]});var V=function(Y){var le=[];for(P=0;P<4;P++){var fe=F.getInt16Le();null!==_&&(f?fe^=_.getInt16Le():_.putInt16Le(fe)),le.push(65535&fe)}G=f?0:63;for(var K=0;K<Y.length;K++)for(var ee=0;ee<Y[K][0];ee++)Y[K][1](le);for(P=0;P<4;P++)null!==_&&(f?_.putInt16Le(le[P]):le[P]^=_.getInt16Le()),L.putInt16Le(le[P])},Q=null;return Q={start:function(Y,le){Y&&"string"==typeof Y&&(Y=i.util.createBuffer(Y)),E=!1,F=i.util.createBuffer(),L=le||new i.util.createBuffer,_=Y,Q.output=L},update:function(Y){for(E||F.putBuffer(Y);F.length()>=8;)V([[5,M],[1,N],[6,M],[1,N],[5,M]])},finish:function(Y){var le=!0;if(f)if(Y)le=Y(8,F,!f);else{var fe=8===F.length()?8:8-F.length();F.fillWithByte(fe,fe)}if(le&&(E=!0,Q.update()),!f&&(le=0===F.length()))if(Y)le=Y(8,L,!f);else{var K=L.length(),ee=L.at(K-1);ee>K?le=!1:L.truncate(ee)}return le}}};i.rc2.startEncrypting=function(D,h,f){var E=i.rc2.createEncryptionCipher(D,128);return E.start(h,f),E},i.rc2.createEncryptionCipher=function(D,h){return I(D,h,!0)},i.rc2.startDecrypting=function(D,h,f){var E=i.rc2.createDecryptionCipher(D,128);return E.start(h,f),E},i.rc2.createDecryptionCipher=function(D,h){return I(D,h,!1)}},2880:(lt,we,p)=>{var i=p(6589);if(p(7097),p(3364),p(1817),p(8788),p(3697),p(1675),p(812),typeof e>"u")var e=i.jsbn.BigInteger;var v=i.util.isNodejs?p(310):null,y=i.asn1,w=i.util;i.pki=i.pki||{},lt.exports=i.pki.rsa=i.rsa=i.rsa||{};var I=i.pki,D=[6,4,2,4,2,4,6,2],h={name:"PrivateKeyInfo",tagClass:y.Class.UNIVERSAL,type:y.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:y.Class.UNIVERSAL,type:y.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:y.Class.UNIVERSAL,type:y.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:y.Class.UNIVERSAL,type:y.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:y.Class.UNIVERSAL,type:y.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},f={name:"RSAPrivateKey",tagClass:y.Class.UNIVERSAL,type:y.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:y.Class.UNIVERSAL,type:y.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:y.Class.UNIVERSAL,type:y.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:y.Class.UNIVERSAL,type:y.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:y.Class.UNIVERSAL,type:y.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:y.Class.UNIVERSAL,type:y.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:y.Class.UNIVERSAL,type:y.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:y.Class.UNIVERSAL,type:y.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:y.Class.UNIVERSAL,type:y.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:y.Class.UNIVERSAL,type:y.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},E={name:"RSAPublicKey",tagClass:y.Class.UNIVERSAL,type:y.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:y.Class.UNIVERSAL,type:y.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:y.Class.UNIVERSAL,type:y.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},F=i.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:y.Class.UNIVERSAL,type:y.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:y.Class.UNIVERSAL,type:y.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:y.Class.UNIVERSAL,type:y.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:y.Class.UNIVERSAL,type:y.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:y.Class.UNIVERSAL,type:y.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},L={name:"DigestInfo",tagClass:y.Class.UNIVERSAL,type:y.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:y.Class.UNIVERSAL,type:y.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:y.Class.UNIVERSAL,type:y.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:y.Class.UNIVERSAL,type:y.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:y.Class.UNIVERSAL,type:y.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},_=function(T){if(!(T.algorithm in I.oids)){var re=new Error("Unknown message digest algorithm.");throw re.algorithm=T.algorithm,re}var Me=y.oidToDer(I.oids[T.algorithm]).getBytes(),Qe=y.create(y.Class.UNIVERSAL,y.Type.SEQUENCE,!0,[]),Le=y.create(y.Class.UNIVERSAL,y.Type.SEQUENCE,!0,[]);Le.value.push(y.create(y.Class.UNIVERSAL,y.Type.OID,!1,Me)),Le.value.push(y.create(y.Class.UNIVERSAL,y.Type.NULL,!1,""));var Ne=y.create(y.Class.UNIVERSAL,y.Type.OCTETSTRING,!1,T.digest().getBytes());return Qe.value.push(Le),Qe.value.push(Ne),y.toDer(Qe).getBytes()},M=function(T,ae,re){if(re)return T.modPow(ae.e,ae.n);if(!ae.p||!ae.q)return T.modPow(ae.d,ae.n);var Me;ae.dP||(ae.dP=ae.d.mod(ae.p.subtract(e.ONE))),ae.dQ||(ae.dQ=ae.d.mod(ae.q.subtract(e.ONE))),ae.qInv||(ae.qInv=ae.q.modInverse(ae.p));do{Me=new e(i.util.bytesToHex(i.random.getBytes(ae.n.bitLength()/8)),16)}while(Me.compareTo(ae.n)>=0||!Me.gcd(ae.n).equals(e.ONE));for(var Qe=(T=T.multiply(Me.modPow(ae.e,ae.n)).mod(ae.n)).mod(ae.p).modPow(ae.dP,ae.p),Le=T.mod(ae.q).modPow(ae.dQ,ae.q);Qe.compareTo(Le)<0;)Qe=Qe.add(ae.p);var Ne=Qe.subtract(Le).multiply(ae.qInv).mod(ae.p).multiply(ae.q).add(Le);return Ne.multiply(Me.modInverse(ae.n)).mod(ae.n)};function N(T,ae,re){var Me=i.util.createBuffer(),Qe=Math.ceil(ae.n.bitLength()/8);if(T.length>Qe-11){var Le=new Error("Message is too long for PKCS#1 v1.5 padding.");throw Le.length=T.length,Le.max=Qe-11,Le}Me.putByte(0),Me.putByte(re);var Je,Ne=Qe-3-T.length;if(0===re||1===re){Je=0===re?0:255;for(var Ee=0;Ee<Ne;++Ee)Me.putByte(Je)}else for(;Ne>0;){var be=0,se=i.random.getBytes(Ne);for(Ee=0;Ee<Ne;++Ee)0===(Je=se.charCodeAt(Ee))?++be:Me.putByte(Je);Ne=be}return Me.putByte(0),Me.putBytes(T),Me}function P(T,ae,re,Me){var Qe=Math.ceil(ae.n.bitLength()/8),Le=i.util.createBuffer(T),Ne=Le.getByte(),Je=Le.getByte();if(0!==Ne||re&&0!==Je&&1!==Je||!re&&2!=Je||re&&0===Je&&typeof Me>"u")throw new Error("Encryption block is invalid.");var Ee=0;if(0===Je){Ee=Qe-3-Me;for(var be=0;be<Ee;++be)if(0!==Le.getByte())throw new Error("Encryption block is invalid.")}else if(1===Je)for(Ee=0;Le.length()>1;){if(255!==Le.getByte()){--Le.read;break}++Ee}else if(2===Je)for(Ee=0;Le.length()>1;){if(0===Le.getByte()){--Le.read;break}++Ee}if(0!==Le.getByte()||Ee!==Qe-3-Le.length())throw new Error("Encryption block is invalid.");return Le.getBytes()}function x(T){var ae=T.toString(16);ae[0]>="8"&&(ae="00"+ae);var re=i.util.hexToBytes(ae);return!(re.length>1)||(0!==re.charCodeAt(0)||128&re.charCodeAt(1))&&(255!==re.charCodeAt(0)||128&~re.charCodeAt(1))?re:re.substr(1)}function V(T){return T<=100?27:T<=150?18:T<=200?15:T<=250?12:T<=300?9:T<=350?8:T<=400?7:T<=500?6:T<=600?5:T<=800?4:T<=1250?3:2}function Q(T){return i.util.isNodejs&&"function"==typeof v[T]}function Y(T){return typeof w.globalScope<"u"&&"object"==typeof w.globalScope.crypto&&"object"==typeof w.globalScope.crypto.subtle&&"function"==typeof w.globalScope.crypto.subtle[T]}function le(T){return typeof w.globalScope<"u"&&"object"==typeof w.globalScope.msCrypto&&"object"==typeof w.globalScope.msCrypto.subtle&&"function"==typeof w.globalScope.msCrypto.subtle[T]}function fe(T){for(var ae=i.util.hexToBytes(T.toString(16)),re=new Uint8Array(ae.length),Me=0;Me<ae.length;++Me)re[Me]=ae.charCodeAt(Me);return re}I.rsa.encrypt=function(T,ae,re){var Qe,Me=re,Le=Math.ceil(ae.n.bitLength()/8);!1!==re&&!0!==re?(Me=2===re,Qe=N(T,ae,re)):(Qe=i.util.createBuffer()).putBytes(T);for(var Ne=new e(Qe.toHex(),16),Ee=M(Ne,ae,Me).toString(16),be=i.util.createBuffer(),se=Le-Math.ceil(Ee.length/2);se>0;)be.putByte(0),--se;return be.putBytes(i.util.hexToBytes(Ee)),be.getBytes()},I.rsa.decrypt=function(T,ae,re,Me){var Qe=Math.ceil(ae.n.bitLength()/8);if(T.length!==Qe){var Le=new Error("Encrypted message length is invalid.");throw Le.length=T.length,Le.expected=Qe,Le}var Ne=new e(i.util.createBuffer(T).toHex(),16);if(Ne.compareTo(ae.n)>=0)throw new Error("Encrypted message is invalid.");for(var Ee=M(Ne,ae,re).toString(16),be=i.util.createBuffer(),se=Qe-Math.ceil(Ee.length/2);se>0;)be.putByte(0),--se;return be.putBytes(i.util.hexToBytes(Ee)),!1!==Me?P(be.getBytes(),ae,re):be.getBytes()},I.rsa.createKeyPairGenerationState=function(T,ae,re){"string"==typeof T&&(T=parseInt(T,10)),T=T||2048;var Ne,Me=(re=re||{}).prng||i.random,Qe={nextBytes:function(Je){for(var Ee=Me.getBytesSync(Je.length),be=0;be<Je.length;++be)Je[be]=Ee.charCodeAt(be)}},Le=re.algorithm||"PRIMEINC";if("PRIMEINC"!==Le)throw new Error("Invalid key generation algorithm: "+Le);return(Ne={algorithm:Le,state:0,bits:T,rng:Qe,eInt:ae||65537,e:new e(null),p:null,q:null,qBits:T>>1,pBits:T-(T>>1),pqState:0,num:null,keys:null}).e.fromInt(Ne.eInt),Ne},I.rsa.stepKeyPairGenerationState=function(T,ae){"algorithm"in T||(T.algorithm="PRIMEINC");var re=new e(null);re.fromInt(30);for(var Ne,Me=0,Qe=function(Oe,Ie){return Oe|Ie},Le=+new Date,Je=0;null===T.keys&&(ae<=0||Je<ae);){if(0===T.state){var Ee=null===T.p?T.pBits:T.qBits,be=Ee-1;0===T.pqState?(T.num=new e(Ee,T.rng),T.num.testBit(be)||T.num.bitwiseTo(e.ONE.shiftLeft(be),Qe,T.num),T.num.dAddOffset(31-T.num.mod(re).byteValue(),0),Me=0,++T.pqState):1===T.pqState?T.num.bitLength()>Ee?T.pqState=0:T.num.isProbablePrime(V(T.num.bitLength()))?++T.pqState:T.num.dAddOffset(D[Me++%8],0):2===T.pqState?T.pqState=0===T.num.subtract(e.ONE).gcd(T.e).compareTo(e.ONE)?3:0:3===T.pqState&&(T.pqState=0,null===T.p?T.p=T.num:T.q=T.num,null!==T.p&&null!==T.q&&++T.state,T.num=null)}else if(1===T.state)T.p.compareTo(T.q)<0&&(T.num=T.p,T.p=T.q,T.q=T.num),++T.state;else if(2===T.state)T.p1=T.p.subtract(e.ONE),T.q1=T.q.subtract(e.ONE),T.phi=T.p1.multiply(T.q1),++T.state;else if(3===T.state)0===T.phi.gcd(T.e).compareTo(e.ONE)?++T.state:(T.p=null,T.q=null,T.state=0);else if(4===T.state)T.n=T.p.multiply(T.q),T.n.bitLength()===T.bits?++T.state:(T.q=null,T.state=0);else if(5===T.state){var se=T.e.modInverse(T.phi);T.keys={privateKey:I.rsa.setPrivateKey(T.n,T.e,se,T.p,T.q,se.mod(T.p1),se.mod(T.q1),T.q.modInverse(T.p)),publicKey:I.rsa.setPublicKey(T.n,T.e)}}Je+=(Ne=+new Date)-Le,Le=Ne}return null!==T.keys},I.rsa.generateKeyPair=function(T,ae,re,Me){if(1===arguments.length?"object"==typeof T?(re=T,T=void 0):"function"==typeof T&&(Me=T,T=void 0):2===arguments.length?"number"==typeof T?"function"==typeof ae?(Me=ae,ae=void 0):"number"!=typeof ae&&(re=ae,ae=void 0):(re=T,Me=ae,T=void 0,ae=void 0):3===arguments.length&&("number"==typeof ae?"function"==typeof re&&(Me=re,re=void 0):(Me=re,re=ae,ae=void 0)),re=re||{},void 0===T&&(T=re.bits||2048),void 0===ae&&(ae=re.e||65537),!i.options.usePureJavaScript&&!re.prng&&T>=256&&T<=16384&&(65537===ae||3===ae))if(Me){if(Q("generateKeyPair"))return v.generateKeyPair("rsa",{modulusLength:T,publicExponent:ae,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(Je,Ee,be){if(Je)return Me(Je);Me(null,{privateKey:I.privateKeyFromPem(be),publicKey:I.publicKeyFromPem(Ee)})});if(Y("generateKey")&&Y("exportKey"))return w.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:T,publicExponent:fe(ae),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(Je){return w.globalScope.crypto.subtle.exportKey("pkcs8",Je.privateKey)}).then(void 0,function(Je){Me(Je)}).then(function(Je){if(Je){var Ee=I.privateKeyFromAsn1(y.fromDer(i.util.createBuffer(Je)));Me(null,{privateKey:Ee,publicKey:I.setRsaPublicKey(Ee.n,Ee.e)})}});if(le("generateKey")&&le("exportKey")){var Qe=w.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:T,publicExponent:fe(ae),hash:{name:"SHA-256"}},!0,["sign","verify"]);return Qe.oncomplete=function(Je){var be=w.globalScope.msCrypto.subtle.exportKey("pkcs8",Je.target.result.privateKey);be.oncomplete=function(se){var Ie=I.privateKeyFromAsn1(y.fromDer(i.util.createBuffer(se.target.result)));Me(null,{privateKey:Ie,publicKey:I.setRsaPublicKey(Ie.n,Ie.e)})},be.onerror=function(se){Me(se)}},void(Qe.onerror=function(Je){Me(Je)})}}else if(Q("generateKeyPairSync")){var Le=v.generateKeyPairSync("rsa",{modulusLength:T,publicExponent:ae,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:I.privateKeyFromPem(Le.privateKey),publicKey:I.publicKeyFromPem(Le.publicKey)}}var Ne=I.rsa.createKeyPairGenerationState(T,ae,re);if(!Me)return I.rsa.stepKeyPairGenerationState(Ne,0),Ne.keys;!function G(T,ae,re){"function"==typeof ae&&(re=ae,ae={});var Me={algorithm:{name:(ae=ae||{}).algorithm||"PRIMEINC",options:{workers:ae.workers||2,workLoad:ae.workLoad||100,workerScript:ae.workerScript}}};function Qe(){Le(T.pBits,function(Je,Ee){return Je?re(Je):(T.p=Ee,null!==T.q?Ne(Je,T.q):void Le(T.qBits,Ne))})}function Le(Je,Ee){i.prime.generateProbablePrime(Je,Me,Ee)}function Ne(Je,Ee){if(Je)return re(Je);if(T.q=Ee,T.p.compareTo(T.q)<0){var be=T.p;T.p=T.q,T.q=be}if(0!==T.p.subtract(e.ONE).gcd(T.e).compareTo(e.ONE))return T.p=null,void Qe();if(0!==T.q.subtract(e.ONE).gcd(T.e).compareTo(e.ONE))return T.q=null,void Le(T.qBits,Ne);if(T.p1=T.p.subtract(e.ONE),T.q1=T.q.subtract(e.ONE),T.phi=T.p1.multiply(T.q1),0!==T.phi.gcd(T.e).compareTo(e.ONE))return T.p=T.q=null,void Qe();if(T.n=T.p.multiply(T.q),T.n.bitLength()!==T.bits)return T.q=null,void Le(T.qBits,Ne);var se=T.e.modInverse(T.phi);T.keys={privateKey:I.rsa.setPrivateKey(T.n,T.e,se,T.p,T.q,se.mod(T.p1),se.mod(T.q1),T.q.modInverse(T.p)),publicKey:I.rsa.setPublicKey(T.n,T.e)},re(null,T.keys)}"prng"in ae&&(Me.prng=ae.prng),Qe()}(Ne,re,Me)},I.setRsaPublicKey=I.rsa.setPublicKey=function(T,ae){var re={n:T,e:ae,encrypt:function(Me,Qe,Le){if("string"==typeof Qe?Qe=Qe.toUpperCase():void 0===Qe&&(Qe="RSAES-PKCS1-V1_5"),"RSAES-PKCS1-V1_5"===Qe)Qe={encode:function(Je,Ee,be){return N(Je,Ee,2).getBytes()}};else if("RSA-OAEP"===Qe||"RSAES-OAEP"===Qe)Qe={encode:function(Je,Ee){return i.pkcs1.encode_rsa_oaep(Ee,Je,Le)}};else if(-1!==["RAW","NONE","NULL",null].indexOf(Qe))Qe={encode:function(Je){return Je}};else if("string"==typeof Qe)throw new Error('Unsupported encryption scheme: "'+Qe+'".');var Ne=Qe.encode(Me,re,!0);return I.rsa.encrypt(Ne,re,!0)},verify:function(Me,Qe,Le,Ne){"string"==typeof Le?Le=Le.toUpperCase():void 0===Le&&(Le="RSASSA-PKCS1-V1_5"),void 0===Ne&&(Ne={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in Ne||(Ne._parseAllDigestBytes=!0),"RSASSA-PKCS1-V1_5"===Le?Le={verify:function(Ee,be){be=P(be,re,!0);var se=y.fromDer(be,{parseAllBytes:Ne._parseAllDigestBytes}),Oe={},Ie=[];if(!y.validate(se,L,Oe,Ie))throw(it=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.")).errors=Ie,it;var it,xe=y.derToOid(Oe.algorithmIdentifier);if(xe!==i.oids.md2&&xe!==i.oids.md5&&xe!==i.oids.sha1&&xe!==i.oids.sha224&&xe!==i.oids.sha256&&xe!==i.oids.sha384&&xe!==i.oids.sha512&&xe!==i.oids["sha512-224"]&&xe!==i.oids["sha512-256"])throw(it=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.")).oid=xe,it;if((xe===i.oids.md2||xe===i.oids.md5)&&!("parameters"in Oe))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return Ee===Oe.digest}}:("NONE"===Le||"NULL"===Le||null===Le)&&(Le={verify:function(Ee,be){return Ee===P(be,re,!0)}});var Je=I.rsa.decrypt(Qe,re,!0,!1);return Le.verify(Me,Je,re.n.bitLength())}};return re},I.setRsaPrivateKey=I.rsa.setPrivateKey=function(T,ae,re,Me,Qe,Le,Ne,Je){var Ee={n:T,e:ae,d:re,p:Me,q:Qe,dP:Le,dQ:Ne,qInv:Je,decrypt:function(be,se,Oe){"string"==typeof se?se=se.toUpperCase():void 0===se&&(se="RSAES-PKCS1-V1_5");var Ie=I.rsa.decrypt(be,Ee,!1,!1);if("RSAES-PKCS1-V1_5"===se)se={decode:P};else if("RSA-OAEP"===se||"RSAES-OAEP"===se)se={decode:function(it,xe){return i.pkcs1.decode_rsa_oaep(xe,it,Oe)}};else{if(-1===["RAW","NONE","NULL",null].indexOf(se))throw new Error('Unsupported encryption scheme: "'+se+'".');se={decode:function(it){return it}}}return se.decode(Ie,Ee,!1)},sign:function(be,se){var Oe=!1;"string"==typeof se&&(se=se.toUpperCase()),void 0===se||"RSASSA-PKCS1-V1_5"===se?(se={encode:_},Oe=1):("NONE"===se||"NULL"===se||null===se)&&(se={encode:function(){return be}},Oe=1);var Ie=se.encode(be,Ee.n.bitLength());return I.rsa.encrypt(Ie,Ee,Oe)}};return Ee},I.wrapRsaPrivateKey=function(T){return y.create(y.Class.UNIVERSAL,y.Type.SEQUENCE,!0,[y.create(y.Class.UNIVERSAL,y.Type.INTEGER,!1,y.integerToDer(0).getBytes()),y.create(y.Class.UNIVERSAL,y.Type.SEQUENCE,!0,[y.create(y.Class.UNIVERSAL,y.Type.OID,!1,y.oidToDer(I.oids.rsaEncryption).getBytes()),y.create(y.Class.UNIVERSAL,y.Type.NULL,!1,"")]),y.create(y.Class.UNIVERSAL,y.Type.OCTETSTRING,!1,y.toDer(T).getBytes())])},I.privateKeyFromAsn1=function(T){var Qe,Le,Ne,Je,Ee,be,se,Oe,ae={},re=[];if(y.validate(T,h,ae,re)&&(T=y.fromDer(i.util.createBuffer(ae.privateKey))),!y.validate(T,f,ae={},re=[])){var Me=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw Me.errors=re,Me}return Qe=i.util.createBuffer(ae.privateKeyModulus).toHex(),Le=i.util.createBuffer(ae.privateKeyPublicExponent).toHex(),Ne=i.util.createBuffer(ae.privateKeyPrivateExponent).toHex(),Je=i.util.createBuffer(ae.privateKeyPrime1).toHex(),Ee=i.util.createBuffer(ae.privateKeyPrime2).toHex(),be=i.util.createBuffer(ae.privateKeyExponent1).toHex(),se=i.util.createBuffer(ae.privateKeyExponent2).toHex(),Oe=i.util.createBuffer(ae.privateKeyCoefficient).toHex(),I.setRsaPrivateKey(new e(Qe,16),new e(Le,16),new e(Ne,16),new e(Je,16),new e(Ee,16),new e(be,16),new e(se,16),new e(Oe,16))},I.privateKeyToAsn1=I.privateKeyToRSAPrivateKey=function(T){return y.create(y.Class.UNIVERSAL,y.Type.SEQUENCE,!0,[y.create(y.Class.UNIVERSAL,y.Type.INTEGER,!1,y.integerToDer(0).getBytes()),y.create(y.Class.UNIVERSAL,y.Type.INTEGER,!1,x(T.n)),y.create(y.Class.UNIVERSAL,y.Type.INTEGER,!1,x(T.e)),y.create(y.Class.UNIVERSAL,y.Type.INTEGER,!1,x(T.d)),y.create(y.Class.UNIVERSAL,y.Type.INTEGER,!1,x(T.p)),y.create(y.Class.UNIVERSAL,y.Type.INTEGER,!1,x(T.q)),y.create(y.Class.UNIVERSAL,y.Type.INTEGER,!1,x(T.dP)),y.create(y.Class.UNIVERSAL,y.Type.INTEGER,!1,x(T.dQ)),y.create(y.Class.UNIVERSAL,y.Type.INTEGER,!1,x(T.qInv))])},I.publicKeyFromAsn1=function(T){var ae={},re=[];if(y.validate(T,F,ae,re)){var Qe,Me=y.derToOid(ae.publicKeyOid);if(Me!==I.oids.rsaEncryption)throw(Qe=new Error("Cannot read public key. Unknown OID.")).oid=Me,Qe;T=ae.rsaPublicKey}if(!y.validate(T,E,ae,re=[]))throw(Qe=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.")).errors=re,Qe;var Le=i.util.createBuffer(ae.publicKeyModulus).toHex(),Ne=i.util.createBuffer(ae.publicKeyExponent).toHex();return I.setRsaPublicKey(new e(Le,16),new e(Ne,16))},I.publicKeyToAsn1=I.publicKeyToSubjectPublicKeyInfo=function(T){return y.create(y.Class.UNIVERSAL,y.Type.SEQUENCE,!0,[y.create(y.Class.UNIVERSAL,y.Type.SEQUENCE,!0,[y.create(y.Class.UNIVERSAL,y.Type.OID,!1,y.oidToDer(I.oids.rsaEncryption).getBytes()),y.create(y.Class.UNIVERSAL,y.Type.NULL,!1,"")]),y.create(y.Class.UNIVERSAL,y.Type.BITSTRING,!1,[I.publicKeyToRSAPublicKey(T)])])},I.publicKeyToRSAPublicKey=function(T){return y.create(y.Class.UNIVERSAL,y.Type.SEQUENCE,!0,[y.create(y.Class.UNIVERSAL,y.Type.INTEGER,!1,x(T.n)),y.create(y.Class.UNIVERSAL,y.Type.INTEGER,!1,x(T.e))])}},8825:(lt,we,p)=>{var i=p(6589);p(5437),p(812);var e=lt.exports=i.sha1=i.sha1||{};i.md.sha1=i.md.algorithms.sha1=e,e.create=function(){y||function w(){v="\x80",v+=i.util.fillString("\0",64),y=!0}();var D=null,h=i.util.createBuffer(),f=new Array(80),E={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){E.messageLength=0,E.fullMessageLength=E.messageLength64=[];for(var F=E.messageLengthSize/4,L=0;L<F;++L)E.fullMessageLength.push(0);return h=i.util.createBuffer(),D={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},E}};return E.start(),E.update=function(F,L){"utf8"===L&&(F=i.util.encodeUtf8(F));var _=F.length;E.messageLength+=_,_=[_/4294967296>>>0,_>>>0];for(var M=E.fullMessageLength.length-1;M>=0;--M)E.fullMessageLength[M]+=_[1],_[1]=_[0]+(E.fullMessageLength[M]/4294967296>>>0),E.fullMessageLength[M]=E.fullMessageLength[M]>>>0,_[0]=_[1]/4294967296>>>0;return h.putBytes(F),I(D,f,h),(h.read>2048||0===h.length())&&h.compact(),E},E.digest=function(){var F=i.util.createBuffer();F.putBytes(h.bytes()),F.putBytes(v.substr(0,E.blockLength-(E.fullMessageLength[E.fullMessageLength.length-1]+E.messageLengthSize&E.blockLength-1)));for(var M,P=8*E.fullMessageLength[0],G=0;G<E.fullMessageLength.length-1;++G)F.putInt32((P+=(M=8*E.fullMessageLength[G+1])/4294967296>>>0)>>>0),P=M>>>0;F.putInt32(P);var x={h0:D.h0,h1:D.h1,h2:D.h2,h3:D.h3,h4:D.h4};I(x,f,F);var V=i.util.createBuffer();return V.putInt32(x.h0),V.putInt32(x.h1),V.putInt32(x.h2),V.putInt32(x.h3),V.putInt32(x.h4),V},E};var v=null,y=!1;function I(D,h,f){for(var E,F,L,_,M,N,G,x=f.length();x>=64;){for(F=D.h0,L=D.h1,_=D.h2,M=D.h3,N=D.h4,G=0;G<16;++G)E=f.getInt32(),h[G]=E,E=(F<<5|F>>>27)+(M^L&(_^M))+N+1518500249+E,N=M,M=_,_=(L<<30|L>>>2)>>>0,L=F,F=E;for(;G<20;++G)h[G]=E=(E=h[G-3]^h[G-8]^h[G-14]^h[G-16])<<1|E>>>31,E=(F<<5|F>>>27)+(M^L&(_^M))+N+1518500249+E,N=M,M=_,_=(L<<30|L>>>2)>>>0,L=F,F=E;for(;G<32;++G)h[G]=E=(E=h[G-3]^h[G-8]^h[G-14]^h[G-16])<<1|E>>>31,E=(F<<5|F>>>27)+(L^_^M)+N+1859775393+E,N=M,M=_,_=(L<<30|L>>>2)>>>0,L=F,F=E;for(;G<40;++G)h[G]=E=(E=h[G-6]^h[G-16]^h[G-28]^h[G-32])<<2|E>>>30,E=(F<<5|F>>>27)+(L^_^M)+N+1859775393+E,N=M,M=_,_=(L<<30|L>>>2)>>>0,L=F,F=E;for(;G<60;++G)h[G]=E=(E=h[G-6]^h[G-16]^h[G-28]^h[G-32])<<2|E>>>30,E=(F<<5|F>>>27)+(L&_|M&(L^_))+N+2400959708+E,N=M,M=_,_=(L<<30|L>>>2)>>>0,L=F,F=E;for(;G<80;++G)h[G]=E=(E=h[G-6]^h[G-16]^h[G-28]^h[G-32])<<2|E>>>30,E=(F<<5|F>>>27)+(L^_^M)+N+3395469782+E,N=M,M=_,_=(L<<30|L>>>2)>>>0,L=F,F=E;D.h0=D.h0+F|0,D.h1=D.h1+L|0,D.h2=D.h2+_|0,D.h3=D.h3+M|0,D.h4=D.h4+N|0,x-=64}}},2507:(lt,we,p)=>{var i=p(6589);p(5437),p(812);var e=lt.exports=i.sha256=i.sha256||{};i.md.sha256=i.md.algorithms.sha256=e,e.create=function(){y||function I(){v="\x80",v+=i.util.fillString("\0",64),w=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],y=!0}();var h=null,f=i.util.createBuffer(),E=new Array(64),F={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){F.messageLength=0,F.fullMessageLength=F.messageLength64=[];for(var L=F.messageLengthSize/4,_=0;_<L;++_)F.fullMessageLength.push(0);return f=i.util.createBuffer(),h={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},F}};return F.start(),F.update=function(L,_){"utf8"===_&&(L=i.util.encodeUtf8(L));var M=L.length;F.messageLength+=M,M=[M/4294967296>>>0,M>>>0];for(var N=F.fullMessageLength.length-1;N>=0;--N)F.fullMessageLength[N]+=M[1],M[1]=M[0]+(F.fullMessageLength[N]/4294967296>>>0),F.fullMessageLength[N]=F.fullMessageLength[N]>>>0,M[0]=M[1]/4294967296>>>0;return f.putBytes(L),D(h,E,f),(f.read>2048||0===f.length())&&f.compact(),F},F.digest=function(){var L=i.util.createBuffer();L.putBytes(f.bytes()),L.putBytes(v.substr(0,F.blockLength-(F.fullMessageLength[F.fullMessageLength.length-1]+F.messageLengthSize&F.blockLength-1)));for(var N,G=8*F.fullMessageLength[0],x=0;x<F.fullMessageLength.length-1;++x)L.putInt32((G+=(N=8*F.fullMessageLength[x+1])/4294967296>>>0)>>>0),G=N>>>0;L.putInt32(G);var V={h0:h.h0,h1:h.h1,h2:h.h2,h3:h.h3,h4:h.h4,h5:h.h5,h6:h.h6,h7:h.h7};D(V,E,L);var Q=i.util.createBuffer();return Q.putInt32(V.h0),Q.putInt32(V.h1),Q.putInt32(V.h2),Q.putInt32(V.h3),Q.putInt32(V.h4),Q.putInt32(V.h5),Q.putInt32(V.h6),Q.putInt32(V.h7),Q},F};var v=null,y=!1,w=null;function D(h,f,E){for(var F,L,P,G,x,V,Q,Y,le,fe,K,ee,ie=E.length();ie>=64;){for(G=0;G<16;++G)f[G]=E.getInt32();for(;G<64;++G)f[G]=(F=((F=f[G-2])>>>17|F<<15)^(F>>>19|F<<13)^F>>>10)+f[G-7]+(L=((L=f[G-15])>>>7|L<<25)^(L>>>18|L<<14)^L>>>3)+f[G-16]|0;for(x=h.h0,V=h.h1,Q=h.h2,Y=h.h3,le=h.h4,fe=h.h5,K=h.h6,ee=h.h7,G=0;G<64;++G)P=x&V|Q&(x^V),F=ee+((le>>>6|le<<26)^(le>>>11|le<<21)^(le>>>25|le<<7))+(K^le&(fe^K))+w[G]+f[G],ee=K,K=fe,fe=le,le=Y+F>>>0,Y=Q,Q=V,V=x,x=F+(L=((x>>>2|x<<30)^(x>>>13|x<<19)^(x>>>22|x<<10))+P)>>>0;h.h0=h.h0+x|0,h.h1=h.h1+V|0,h.h2=h.h2+Q|0,h.h3=h.h3+Y|0,h.h4=h.h4+le|0,h.h5=h.h5+fe|0,h.h6=h.h6+K|0,h.h7=h.h7+ee|0,ie-=64}}},1290:(lt,we,p)=>{var i=p(6589);p(5437),p(812);var e=lt.exports=i.sha512=i.sha512||{};i.md.sha512=i.md.algorithms.sha512=e;var v=i.sha384=i.sha512.sha384=i.sha512.sha384||{};v.create=function(){return e.create("SHA-384")},i.md.sha384=i.md.algorithms.sha384=v,i.sha512.sha256=i.sha512.sha256||{create:function(){return e.create("SHA-512/256")}},i.md["sha512/256"]=i.md.algorithms["sha512/256"]=i.sha512.sha256,i.sha512.sha224=i.sha512.sha224||{create:function(){return e.create("SHA-512/224")}},i.md["sha512/224"]=i.md.algorithms["sha512/224"]=i.sha512.sha224,e.create=function(E){if(w||function h(){y="\x80",y+=i.util.fillString("\0",128),I=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],(D={})["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],D["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],D["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],D["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],w=!0}(),typeof E>"u"&&(E="SHA-512"),!(E in D))throw new Error("Invalid SHA-512 algorithm: "+E);for(var F=D[E],L=null,_=i.util.createBuffer(),M=new Array(80),N=0;N<80;++N)M[N]=new Array(2);var P=64;switch(E){case"SHA-384":P=48;break;case"SHA-512/256":P=32;break;case"SHA-512/224":P=28}var G={algorithm:E.replace("-","").toLowerCase(),blockLength:128,digestLength:P,messageLength:0,fullMessageLength:null,messageLengthSize:16,start:function(){G.messageLength=0,G.fullMessageLength=G.messageLength128=[];for(var x=G.messageLengthSize/4,V=0;V<x;++V)G.fullMessageLength.push(0);for(_=i.util.createBuffer(),L=new Array(F.length),V=0;V<F.length;++V)L[V]=F[V].slice(0);return G}};return G.start(),G.update=function(x,V){"utf8"===V&&(x=i.util.encodeUtf8(x));var Q=x.length;G.messageLength+=Q,Q=[Q/4294967296>>>0,Q>>>0];for(var Y=G.fullMessageLength.length-1;Y>=0;--Y)G.fullMessageLength[Y]+=Q[1],Q[1]=Q[0]+(G.fullMessageLength[Y]/4294967296>>>0),G.fullMessageLength[Y]=G.fullMessageLength[Y]>>>0,Q[0]=Q[1]/4294967296>>>0;return _.putBytes(x),f(L,M,_),(_.read>2048||0===_.length())&&_.compact(),G},G.digest=function(){var x=i.util.createBuffer();x.putBytes(_.bytes()),x.putBytes(y.substr(0,G.blockLength-(G.fullMessageLength[G.fullMessageLength.length-1]+G.messageLengthSize&G.blockLength-1)));for(var Y,fe=8*G.fullMessageLength[0],K=0;K<G.fullMessageLength.length-1;++K)x.putInt32((fe+=(Y=8*G.fullMessageLength[K+1])/4294967296>>>0)>>>0),fe=Y>>>0;x.putInt32(fe);var ee=new Array(L.length);for(K=0;K<L.length;++K)ee[K]=L[K].slice(0);f(ee,M,x);var T,ie=i.util.createBuffer();for(T="SHA-512"===E?ee.length:"SHA-384"===E?ee.length-2:ee.length-4,K=0;K<T;++K)ie.putInt32(ee[K][0]),(K!==T-1||"SHA-512/224"!==E)&&ie.putInt32(ee[K][1]);return ie},G};var y=null,w=!1,I=null,D=null;function f(E,F,L){for(var _,M,N,P,ee,ie,T,ae,re,Me,Qe,Le,Ne,Je,Ee,be,se,Oe,Ie,it,xe,pt,vt,hn,ln,Mt,xt,z=L.length();z>=128;){for(xe=0;xe<16;++xe)F[xe][0]=L.getInt32()>>>0,F[xe][1]=L.getInt32()>>>0;for(;xe<80;++xe)M=(((pt=(hn=F[xe-2])[0])<<13|(vt=hn[1])>>>19)^(vt<<3|pt>>>29)^(pt<<26|vt>>>6))>>>0,F[xe][0]=(_=((pt>>>19|vt<<13)^(vt>>>29|pt<<3)^pt>>>6)>>>0)+(ln=F[xe-7])[0]+(N=(((pt=(Mt=F[xe-15])[0])>>>1|(vt=Mt[1])<<31)^(pt>>>8|vt<<24)^pt>>>7)>>>0)+(xt=F[xe-16])[0]+((vt=M+ln[1]+(P=((pt<<31|vt>>>1)^(pt<<24|vt>>>8)^(pt<<25|vt>>>7))>>>0)+xt[1])/4294967296>>>0)>>>0,F[xe][1]=vt>>>0;for(ee=E[0][0],ie=E[0][1],T=E[1][0],ae=E[1][1],re=E[2][0],Me=E[2][1],Qe=E[3][0],Le=E[3][1],Ne=E[4][0],Je=E[4][1],Ee=E[5][0],be=E[5][1],se=E[6][0],Oe=E[6][1],Ie=E[7][0],it=E[7][1],xe=0;xe<80;++xe)_=Ie+(((Ne>>>14|Je<<18)^(Ne>>>18|Je<<14)^(Je>>>9|Ne<<23))>>>0)+((se^Ne&(Ee^se))>>>0)+I[xe][0]+F[xe][0]+((vt=it+(((Ne<<18|Je>>>14)^(Ne<<14|Je>>>18)^(Je<<23|Ne>>>9))>>>0)+((Oe^Je&(be^Oe))>>>0)+I[xe][1]+F[xe][1])/4294967296>>>0)>>>0,M=vt>>>0,N=(((ee>>>28|ie<<4)^(ie>>>2|ee<<30)^(ie>>>7|ee<<25))>>>0)+((ee&T|re&(ee^T))>>>0)+((vt=(((ee<<4|ie>>>28)^(ie<<30|ee>>>2)^(ie<<25|ee>>>7))>>>0)+((ie&ae|Me&(ie^ae))>>>0))/4294967296>>>0)>>>0,P=vt>>>0,Ie=se,it=Oe,se=Ee,Oe=be,Ee=Ne,be=Je,Ne=Qe+_+((vt=Le+M)/4294967296>>>0)>>>0,Je=vt>>>0,Qe=re,Le=Me,re=T,Me=ae,T=ee,ae=ie,ee=_+N+((vt=M+P)/4294967296>>>0)>>>0,ie=vt>>>0;E[0][0]=E[0][0]+ee+((vt=E[0][1]+ie)/4294967296>>>0)>>>0,E[0][1]=vt>>>0,E[1][0]=E[1][0]+T+((vt=E[1][1]+ae)/4294967296>>>0)>>>0,E[1][1]=vt>>>0,E[2][0]=E[2][0]+re+((vt=E[2][1]+Me)/4294967296>>>0)>>>0,E[2][1]=vt>>>0,E[3][0]=E[3][0]+Qe+((vt=E[3][1]+Le)/4294967296>>>0)>>>0,E[3][1]=vt>>>0,E[4][0]=E[4][0]+Ne+((vt=E[4][1]+Je)/4294967296>>>0)>>>0,E[4][1]=vt>>>0,E[5][0]=E[5][0]+Ee+((vt=E[5][1]+be)/4294967296>>>0)>>>0,E[5][1]=vt>>>0,E[6][0]=E[6][0]+se+((vt=E[6][1]+Oe)/4294967296>>>0)>>>0,E[6][1]=vt>>>0,E[7][0]=E[7][0]+Ie+((vt=E[7][1]+it)/4294967296>>>0)>>>0,E[7][1]=vt>>>0,z-=128}}},3120:(lt,we,p)=>{var i=p(6589);p(57),p(4579),p(4846),p(8825),p(812);var e=lt.exports=i.ssh=i.ssh||{};function v(I,D){var h=D.toString(16);h[0]>="8"&&(h="00"+h);var f=i.util.hexToBytes(h);I.putInt32(f.length),I.putBytes(f)}function y(I,D){I.putInt32(D.length),I.putString(D)}function w(){for(var I=i.md.sha1.create(),D=arguments.length,h=0;h<D;++h)I.update(arguments[h]);return I.digest()}e.privateKeyToPutty=function(I,D,h){var f="ssh-rsa",E=""===(D=D||"")?"none":"aes256-cbc",F="PuTTY-User-Key-File-2: "+f+"\r\n";F+="Encryption: "+E+"\r\n",F+="Comment: "+(h=h||"")+"\r\n";var L=i.util.createBuffer();y(L,f),v(L,I.e),v(L,I.n);var _=i.util.encode64(L.bytes(),64),M=Math.floor(_.length/66)+1;F+="Public-Lines: "+M+"\r\n",F+=_;var P,N=i.util.createBuffer();if(v(N,I.d),v(N,I.p),v(N,I.q),v(N,I.qInv),D){var G=N.length()+16-1;G-=G%16;var x=w(N.bytes());x.truncate(x.length()-G+N.length()),N.putBuffer(x);var V=i.util.createBuffer();V.putBuffer(w("\0\0\0\0",D)),V.putBuffer(w("\0\0\0\x01",D));var Q=i.aes.createEncryptionCipher(V.truncate(8),"CBC");Q.start(i.util.createBuffer().fillWithByte(0,16)),Q.update(N.copy()),Q.finish();var Y=Q.output;Y.truncate(16),P=i.util.encode64(Y.bytes(),64)}else P=i.util.encode64(N.bytes(),64);F+="\r\nPrivate-Lines: "+(M=Math.floor(P.length/66)+1)+"\r\n",F+=P;var le=w("putty-private-key-file-mac-key",D),fe=i.util.createBuffer();y(fe,f),y(fe,E),y(fe,h),fe.putInt32(L.length()),fe.putBuffer(L),fe.putInt32(N.length()),fe.putBuffer(N);var K=i.hmac.create();return K.start("sha1",le),K.update(fe.bytes()),F+"\r\nPrivate-MAC: "+K.digest().toHex()+"\r\n"},e.publicKeyToOpenSSH=function(I,D){var h="ssh-rsa";D=D||"";var f=i.util.createBuffer();return y(f,h),v(f,I.e),v(f,I.n),h+" "+i.util.encode64(f.bytes())+" "+D},e.privateKeyToOpenSSH=function(I,D){return D?i.pki.encryptRsaPrivateKey(I,D,{legacy:!0,algorithm:"aes128"}):i.pki.privateKeyToPem(I)},e.getPublicKeyFingerprint=function(I,D){var h=(D=D||{}).md||i.md.md5.create(),E=i.util.createBuffer();y(E,"ssh-rsa"),v(E,I.e),v(E,I.n),h.start(),h.update(E.getBytes());var F=h.digest();if("hex"===D.encoding){var L=F.toHex();return D.delimiter?L.match(/.{2}/g).join(D.delimiter):L}if("binary"===D.encoding)return F.getBytes();if(D.encoding)throw new Error('Unknown encoding "'+D.encoding+'".');return F}},9807:(lt,we,p)=>{var i=p(6589);p(7097),p(4579),p(4846),p(9368),p(9622),p(1675),p(8825),p(812);var e=function(z,W,J,_e){var Ce=i.util.createBuffer(),st=z.length>>1,Fe=st+(1&z.length),rt=z.substr(0,Fe),kt=z.substr(st,Fe),mt=i.util.createBuffer(),tt=i.hmac.create();J=W+J;var $t=Math.ceil(_e/16),en=Math.ceil(_e/20);tt.start("MD5",rt);var Ot=i.util.createBuffer();mt.putBytes(J);for(var Yt=0;Yt<$t;++Yt)tt.start(null,null),tt.update(mt.getBytes()),mt.putBuffer(tt.digest()),tt.start(null,null),tt.update(mt.bytes()+J),Ot.putBuffer(tt.digest());tt.start("SHA1",kt);var je=i.util.createBuffer();for(mt.clear(),mt.putBytes(J),Yt=0;Yt<en;++Yt)tt.start(null,null),tt.update(mt.getBytes()),mt.putBuffer(tt.digest()),tt.start(null,null),tt.update(mt.bytes()+J),je.putBuffer(tt.digest());return Ce.putBytes(i.util.xorBytes(Ot.getBytes(),je.getBytes(),_e)),Ce},w=function(z,W,J){var _e=!1;try{var Ce=z.deflate(W.fragment.getBytes());W.fragment=i.util.createBuffer(Ce),W.length=Ce.length,_e=!0}catch{}return _e},I=function(z,W,J){var _e=!1;try{var Ce=z.inflate(W.fragment.getBytes());W.fragment=i.util.createBuffer(Ce),W.length=Ce.length,_e=!0}catch{}return _e},D=function(z,W){var J=0;switch(W){case 1:J=z.getByte();break;case 2:J=z.getInt16();break;case 3:J=z.getInt24();break;case 4:J=z.getInt32()}return i.util.createBuffer(z.getBytes(J))},h=function(z,W,J){z.putInt(J.length(),W<<3),z.putBuffer(J)},f={Versions:{TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}}};f.SupportedVersions=[f.Versions.TLS_1_1,f.Versions.TLS_1_0],f.Version=f.SupportedVersions[0],f.MaxFragment=15360,f.ConnectionEnd={server:0,client:1},f.PRFAlgorithm={tls_prf_sha256:0},f.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2},f.CipherType={stream:0,block:1,aead:2},f.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4},f.CompressionMethod={none:0,deflate:1},f.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24},f.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20},f.Alert={},f.Alert.Level={warning:1,fatal:2},f.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100},f.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2},f.CipherSuites={},f.getCipherSuite=function(z){var W=null;for(var J in f.CipherSuites){var _e=f.CipherSuites[J];if(_e.id[0]===z.charCodeAt(0)&&_e.id[1]===z.charCodeAt(1)){W=_e;break}}return W},f.handleUnexpected=function(z,W){!z.open&&z.entity===f.ConnectionEnd.client||z.error(z,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.unexpected_message}})},f.handleHelloRequest=function(z,W,J){!z.handshaking&&z.handshakes>0&&(f.queue(z,f.createAlert(z,{level:f.Alert.Level.warning,description:f.Alert.Description.no_renegotiation})),f.flush(z)),z.process()},f.parseHelloMessage=function(z,W,J){var _e=null,Ce=z.entity===f.ConnectionEnd.client;if(J<38)z.error(z,{message:Ce?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.illegal_parameter}});else{var st=W.fragment,Fe=st.length();if(_e={version:{major:st.getByte(),minor:st.getByte()},random:i.util.createBuffer(st.getBytes(32)),session_id:D(st,1),extensions:[]},Ce?(_e.cipher_suite=st.getBytes(2),_e.compression_method=st.getByte()):(_e.cipher_suites=D(st,2),_e.compression_methods=D(st,1)),(Fe=J-(Fe-st.length()))>0){for(var rt=D(st,2);rt.length()>0;)_e.extensions.push({type:[rt.getByte(),rt.getByte()],data:D(rt,2)});if(!Ce)for(var kt=0;kt<_e.extensions.length;++kt){var mt=_e.extensions[kt];if(0===mt.type[0]&&0===mt.type[1])for(var tt=D(mt.data,2);tt.length()>0&&0===tt.getByte();)z.session.extensions.server_name.serverNameList.push(D(tt,2).getBytes())}}if(z.session.version&&(_e.version.major!==z.session.version.major||_e.version.minor!==z.session.version.minor))return z.error(z,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.protocol_version}});if(Ce)z.session.cipherSuite=f.getCipherSuite(_e.cipher_suite);else for(var en=i.util.createBuffer(_e.cipher_suites.bytes());en.length()>0&&(z.session.cipherSuite=f.getCipherSuite(en.getBytes(2)),null===z.session.cipherSuite););if(null===z.session.cipherSuite)return z.error(z,{message:"No cipher suites in common.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.handshake_failure},cipherSuite:i.util.bytesToHex(_e.cipher_suite)});z.session.compressionMethod=Ce?_e.compression_method:f.CompressionMethod.none}return _e},f.createSecurityParameters=function(z,W){var J=z.entity===f.ConnectionEnd.client,_e=W.random.bytes(),Ce=J?z.session.sp.client_random:_e,st=J?_e:f.createRandom().getBytes();z.session.sp={entity:z.entity,prf_algorithm:f.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:z.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:Ce,server_random:st}},f.handleServerHello=function(z,W,J){var _e=f.parseHelloMessage(z,W,J);if(!z.fail){if(!(_e.version.minor<=z.version.minor))return z.error(z,{message:"Incompatible TLS version.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.protocol_version}});z.version.minor=_e.version.minor,z.session.version=z.version;var Ce=_e.session_id.bytes();Ce.length>0&&Ce===z.session.id?(z.expect=N,z.session.resuming=!0,z.session.sp.server_random=_e.random.bytes()):(z.expect=F,z.session.resuming=!1,f.createSecurityParameters(z,_e)),z.session.id=Ce,z.process()}},f.handleClientHello=function(z,W,J){var _e=f.parseHelloMessage(z,W,J);if(!z.fail){var Ce=_e.session_id.bytes(),st=null;if(z.sessionCache&&(null===(st=z.sessionCache.getSession(Ce))?Ce="":(st.version.major!==_e.version.major||st.version.minor>_e.version.minor)&&(st=null,Ce="")),0===Ce.length&&(Ce=i.random.getBytes(32)),z.session.id=Ce,z.session.clientHelloVersion=_e.version,z.session.sp={},st)z.version=z.session.version=st.version,z.session.sp=st.sp;else{for(var Fe,rt=1;rt<f.SupportedVersions.length&&!((Fe=f.SupportedVersions[rt]).minor<=_e.version.minor);++rt);z.version={major:Fe.major,minor:Fe.minor},z.session.version=z.version}null!==st?(z.expect=fe,z.session.resuming=!0,z.session.sp.client_random=_e.random.bytes()):(z.expect=!1!==z.verifyClient?Q:Y,z.session.resuming=!1,f.createSecurityParameters(z,_e)),z.open=!0,f.queue(z,f.createRecord(z,{type:f.ContentType.handshake,data:f.createServerHello(z)})),z.session.resuming?(f.queue(z,f.createRecord(z,{type:f.ContentType.change_cipher_spec,data:f.createChangeCipherSpec()})),z.state.pending=f.createConnectionState(z),z.state.current.write=z.state.pending.write,f.queue(z,f.createRecord(z,{type:f.ContentType.handshake,data:f.createFinished(z)}))):(f.queue(z,f.createRecord(z,{type:f.ContentType.handshake,data:f.createCertificate(z)})),z.fail||(f.queue(z,f.createRecord(z,{type:f.ContentType.handshake,data:f.createServerKeyExchange(z)})),!1!==z.verifyClient&&f.queue(z,f.createRecord(z,{type:f.ContentType.handshake,data:f.createCertificateRequest(z)})),f.queue(z,f.createRecord(z,{type:f.ContentType.handshake,data:f.createServerHelloDone(z)})))),f.flush(z),z.process()}},f.handleCertificate=function(z,W,J){if(J<3)return z.error(z,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.illegal_parameter}});var st,Fe,Ce={certificate_list:D(W.fragment,3)},rt=[];try{for(;Ce.certificate_list.length()>0;)st=D(Ce.certificate_list,3),Fe=i.asn1.fromDer(st),st=i.pki.certificateFromAsn1(Fe,!0),rt.push(st)}catch(mt){return z.error(z,{message:"Could not parse certificate list.",cause:mt,send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.bad_certificate}})}var kt=z.entity===f.ConnectionEnd.client;!kt&&!0!==z.verifyClient||0!==rt.length?0===rt.length?z.expect=kt?L:Y:(kt?z.session.serverCertificate=rt[0]:z.session.clientCertificate=rt[0],f.verifyCertificateChain(z,rt)&&(z.expect=kt?L:Y)):z.error(z,{message:kt?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.illegal_parameter}}),z.process()},f.handleServerKeyExchange=function(z,W,J){if(J>0)return z.error(z,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.unsupported_certificate}});z.expect=_,z.process()},f.handleClientKeyExchange=function(z,W,J){if(J<48)return z.error(z,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.unsupported_certificate}});var Ce={enc_pre_master_secret:D(W.fragment,2).getBytes()},st=null;if(z.getPrivateKey)try{st=z.getPrivateKey(z,z.session.serverCertificate),st=i.pki.privateKeyFromPem(st)}catch(kt){z.error(z,{message:"Could not get private key.",cause:kt,send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.internal_error}})}if(null===st)return z.error(z,{message:"No private key set.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.internal_error}});try{var Fe=z.session.sp;Fe.pre_master_secret=st.decrypt(Ce.enc_pre_master_secret);var rt=z.session.clientHelloVersion;if(rt.major!==Fe.pre_master_secret.charCodeAt(0)||rt.minor!==Fe.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch{Fe.pre_master_secret=i.random.getBytes(48)}z.expect=fe,null!==z.session.clientCertificate&&(z.expect=le),z.process()},f.handleCertificateRequest=function(z,W,J){if(J<3)return z.error(z,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.illegal_parameter}});var _e=W.fragment,Ce={certificate_types:D(_e,1),certificate_authorities:D(_e,2)};z.session.certificateRequest=Ce,z.expect=M,z.process()},f.handleCertificateVerify=function(z,W,J){if(J<2)return z.error(z,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.illegal_parameter}});var _e=W.fragment;_e.read-=4;var Ce=_e.bytes();_e.read+=4;var st={signature:D(_e,2).getBytes()},Fe=i.util.createBuffer();Fe.putBuffer(z.session.md5.digest()),Fe.putBuffer(z.session.sha1.digest()),Fe=Fe.getBytes();try{if(!z.session.clientCertificate.publicKey.verify(Fe,st.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");z.session.md5.update(Ce),z.session.sha1.update(Ce)}catch{return z.error(z,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.handshake_failure}})}z.expect=fe,z.process()},f.handleServerHelloDone=function(z,W,J){if(J>0)return z.error(z,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.record_overflow}});if(null===z.serverCertificate){var _e={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.insufficient_security}},st=z.verify(z,_e.alert.description,0,[]);if(!0!==st)return(st||0===st)&&("object"!=typeof st||i.util.isArray(st)?"number"==typeof st&&(_e.alert.description=st):(st.message&&(_e.message=st.message),st.alert&&(_e.alert.description=st.alert))),z.error(z,_e)}null!==z.session.certificateRequest&&(W=f.createRecord(z,{type:f.ContentType.handshake,data:f.createCertificate(z)}),f.queue(z,W)),W=f.createRecord(z,{type:f.ContentType.handshake,data:f.createClientKeyExchange(z)}),f.queue(z,W),z.expect=x;var Fe=function(rt,kt){null!==rt.session.certificateRequest&&null!==rt.session.clientCertificate&&f.queue(rt,f.createRecord(rt,{type:f.ContentType.handshake,data:f.createCertificateVerify(rt,kt)})),f.queue(rt,f.createRecord(rt,{type:f.ContentType.change_cipher_spec,data:f.createChangeCipherSpec()})),rt.state.pending=f.createConnectionState(rt),rt.state.current.write=rt.state.pending.write,f.queue(rt,f.createRecord(rt,{type:f.ContentType.handshake,data:f.createFinished(rt)})),rt.expect=N,f.flush(rt),rt.process()};if(null===z.session.certificateRequest||null===z.session.clientCertificate)return Fe(z,null);f.getClientSignature(z,Fe)},f.handleChangeCipherSpec=function(z,W){if(1!==W.fragment.getByte())return z.error(z,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.illegal_parameter}});var J=z.entity===f.ConnectionEnd.client;(z.session.resuming&&J||!z.session.resuming&&!J)&&(z.state.pending=f.createConnectionState(z)),z.state.current.read=z.state.pending.read,(!z.session.resuming&&J||z.session.resuming&&!J)&&(z.state.pending=null),z.expect=J?P:K,z.process()},f.handleFinished=function(z,W,J){var _e=W.fragment;_e.read-=4;var Ce=_e.bytes();_e.read+=4;var st=W.fragment.getBytes();(_e=i.util.createBuffer()).putBuffer(z.session.md5.digest()),_e.putBuffer(z.session.sha1.digest());var Fe=z.entity===f.ConnectionEnd.client;if((_e=e(z.session.sp.master_secret,Fe?"server finished":"client finished",_e.getBytes(),12)).getBytes()!==st)return z.error(z,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.decrypt_error}});z.session.md5.update(Ce),z.session.sha1.update(Ce),(z.session.resuming&&Fe||!z.session.resuming&&!Fe)&&(f.queue(z,f.createRecord(z,{type:f.ContentType.change_cipher_spec,data:f.createChangeCipherSpec()})),z.state.current.write=z.state.pending.write,z.state.pending=null,f.queue(z,f.createRecord(z,{type:f.ContentType.handshake,data:f.createFinished(z)}))),z.expect=Fe?G:ee,z.handshaking=!1,++z.handshakes,z.peerCertificate=Fe?z.session.serverCertificate:z.session.clientCertificate,f.flush(z),z.isConnected=!0,z.connected(z),z.process()},f.handleAlert=function(z,W){var Ce,J=W.fragment,_e={level:J.getByte(),description:J.getByte()};switch(_e.description){case f.Alert.Description.close_notify:Ce="Connection closed.";break;case f.Alert.Description.unexpected_message:Ce="Unexpected message.";break;case f.Alert.Description.bad_record_mac:Ce="Bad record MAC.";break;case f.Alert.Description.decryption_failed:Ce="Decryption failed.";break;case f.Alert.Description.record_overflow:Ce="Record overflow.";break;case f.Alert.Description.decompression_failure:Ce="Decompression failed.";break;case f.Alert.Description.handshake_failure:Ce="Handshake failure.";break;case f.Alert.Description.bad_certificate:Ce="Bad certificate.";break;case f.Alert.Description.unsupported_certificate:Ce="Unsupported certificate.";break;case f.Alert.Description.certificate_revoked:Ce="Certificate revoked.";break;case f.Alert.Description.certificate_expired:Ce="Certificate expired.";break;case f.Alert.Description.certificate_unknown:Ce="Certificate unknown.";break;case f.Alert.Description.illegal_parameter:Ce="Illegal parameter.";break;case f.Alert.Description.unknown_ca:Ce="Unknown certificate authority.";break;case f.Alert.Description.access_denied:Ce="Access denied.";break;case f.Alert.Description.decode_error:Ce="Decode error.";break;case f.Alert.Description.decrypt_error:Ce="Decrypt error.";break;case f.Alert.Description.export_restriction:Ce="Export restriction.";break;case f.Alert.Description.protocol_version:Ce="Unsupported protocol version.";break;case f.Alert.Description.insufficient_security:Ce="Insufficient security.";break;case f.Alert.Description.internal_error:Ce="Internal error.";break;case f.Alert.Description.user_canceled:Ce="User canceled.";break;case f.Alert.Description.no_renegotiation:Ce="Renegotiation not supported.";break;default:Ce="Unknown error."}if(_e.description===f.Alert.Description.close_notify)return z.close();z.error(z,{message:Ce,send:!1,origin:z.entity===f.ConnectionEnd.client?"server":"client",alert:_e}),z.process()},f.handleHandshake=function(z,W){var J=W.fragment,_e=J.getByte(),Ce=J.getInt24();if(Ce>J.length())return z.fragmented=W,W.fragment=i.util.createBuffer(),J.read-=4,z.process();z.fragmented=null,J.read-=4;var st=J.bytes(Ce+4);J.read+=4,_e in xe[z.entity][z.expect]?(z.entity===f.ConnectionEnd.server&&!z.open&&!z.fail&&(z.handshaking=!0,z.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:i.md.md5.create(),sha1:i.md.sha1.create()}),_e!==f.HandshakeType.hello_request&&_e!==f.HandshakeType.certificate_verify&&_e!==f.HandshakeType.finished&&(z.session.md5.update(st),z.session.sha1.update(st)),xe[z.entity][z.expect][_e](z,W,Ce)):f.handleUnexpected(z,W)},f.handleApplicationData=function(z,W){z.data.putBuffer(W.fragment),z.dataReady(z),z.process()},f.handleHeartbeat=function(z,W){var J=W.fragment,_e=J.getByte(),Ce=J.getInt16(),st=J.getBytes(Ce);if(_e===f.HeartbeatMessageType.heartbeat_request){if(z.handshaking||Ce>st.length)return z.process();f.queue(z,f.createRecord(z,{type:f.ContentType.heartbeat,data:f.createHeartbeat(f.HeartbeatMessageType.heartbeat_response,st)})),f.flush(z)}else if(_e===f.HeartbeatMessageType.heartbeat_response){if(st!==z.expectedHeartbeatPayload)return z.process();z.heartbeatReceived&&z.heartbeatReceived(z,i.util.createBuffer(st))}z.process()};var F=1,L=2,_=3,M=4,N=5,P=6,G=7,x=8,Q=1,Y=2,le=3,fe=4,K=5,ee=6,T=f.handleUnexpected,ae=f.handleChangeCipherSpec,re=f.handleAlert,Me=f.handleHandshake,Qe=f.handleApplicationData,Le=f.handleHeartbeat,Ne=[];Ne[f.ConnectionEnd.client]=[[T,re,Me,T,Le],[T,re,Me,T,Le],[T,re,Me,T,Le],[T,re,Me,T,Le],[T,re,Me,T,Le],[ae,re,T,T,Le],[T,re,Me,T,Le],[T,re,Me,Qe,Le],[T,re,Me,T,Le]],Ne[f.ConnectionEnd.server]=[[T,re,Me,T,Le],[T,re,Me,T,Le],[T,re,Me,T,Le],[T,re,Me,T,Le],[ae,re,T,T,Le],[T,re,Me,T,Le],[T,re,Me,Qe,Le],[T,re,Me,T,Le]];var Je=f.handleHelloRequest,be=f.handleCertificate,se=f.handleServerKeyExchange,Oe=f.handleCertificateRequest,Ie=f.handleServerHelloDone,it=f.handleFinished,xe=[];xe[f.ConnectionEnd.client]=[[T,T,f.handleServerHello,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T],[Je,T,T,T,T,T,T,T,T,T,T,be,se,Oe,Ie,T,T,T,T,T,T],[Je,T,T,T,T,T,T,T,T,T,T,T,se,Oe,Ie,T,T,T,T,T,T],[Je,T,T,T,T,T,T,T,T,T,T,T,T,Oe,Ie,T,T,T,T,T,T],[Je,T,T,T,T,T,T,T,T,T,T,T,T,T,Ie,T,T,T,T,T,T],[Je,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T],[Je,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,it],[Je,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T],[Je,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T]],xe[f.ConnectionEnd.server]=[[T,f.handleClientHello,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T],[T,T,T,T,T,T,T,T,T,T,T,be,T,T,T,T,T,T,T,T,T],[T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,f.handleClientKeyExchange,T,T,T,T],[T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,f.handleCertificateVerify,T,T,T,T,T],[T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T],[T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,it],[T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T],[T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T]],f.generateKeys=function(z,W){var J=e,_e=W.client_random+W.server_random;z.session.resuming||(W.master_secret=J(W.pre_master_secret,"master secret",_e,48).bytes(),W.pre_master_secret=null);var Ce=2*W.mac_key_length+2*W.enc_key_length,st=z.version.major===f.Versions.TLS_1_0.major&&z.version.minor===f.Versions.TLS_1_0.minor;st&&(Ce+=2*W.fixed_iv_length);var Fe=J(W.master_secret,"key expansion",_e=W.server_random+W.client_random,Ce),rt={client_write_MAC_key:Fe.getBytes(W.mac_key_length),server_write_MAC_key:Fe.getBytes(W.mac_key_length),client_write_key:Fe.getBytes(W.enc_key_length),server_write_key:Fe.getBytes(W.enc_key_length)};return st&&(rt.client_write_IV=Fe.getBytes(W.fixed_iv_length),rt.server_write_IV=Fe.getBytes(W.fixed_iv_length)),rt},f.createConnectionState=function(z){var W=z.entity===f.ConnectionEnd.client,J=function(){var st={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:function(Fe){return!0},compressionState:null,compressFunction:function(Fe){return!0},updateSequenceNumber:function(){4294967295===st.sequenceNumber[1]?(st.sequenceNumber[1]=0,++st.sequenceNumber[0]):++st.sequenceNumber[1]}};return st},_e={read:J(),write:J()};if(_e.read.update=function(st,Fe){return _e.read.cipherFunction(Fe,_e.read)?_e.read.compressFunction(st,Fe,_e.read)||st.error(st,{message:"Could not decompress record.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.decompression_failure}}):st.error(st,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.bad_record_mac}}),!st.fail},_e.write.update=function(st,Fe){return _e.write.compressFunction(st,Fe,_e.write)?_e.write.cipherFunction(Fe,_e.write)||st.error(st,{message:"Could not encrypt record.",send:!1,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.internal_error}}):st.error(st,{message:"Could not compress record.",send:!1,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.internal_error}}),!st.fail},z.session){var Ce=z.session.sp;switch(z.session.cipherSuite.initSecurityParameters(Ce),Ce.keys=f.generateKeys(z,Ce),_e.read.macKey=W?Ce.keys.server_write_MAC_key:Ce.keys.client_write_MAC_key,_e.write.macKey=W?Ce.keys.client_write_MAC_key:Ce.keys.server_write_MAC_key,z.session.cipherSuite.initConnectionState(_e,z,Ce),Ce.compression_algorithm){case f.CompressionMethod.none:break;case f.CompressionMethod.deflate:_e.read.compressFunction=I,_e.write.compressFunction=w;break;default:throw new Error("Unsupported compression algorithm.")}}return _e},f.createRandom=function(){var z=new Date,W=+z+6e4*z.getTimezoneOffset(),J=i.util.createBuffer();return J.putInt32(W),J.putBytes(i.random.getBytes(28)),J},f.createRecord=function(z,W){return W.data?{type:W.type,version:{major:z.version.major,minor:z.version.minor},length:W.data.length(),fragment:W.data}:null},f.createAlert=function(z,W){var J=i.util.createBuffer();return J.putByte(W.level),J.putByte(W.description),f.createRecord(z,{type:f.ContentType.alert,data:J})},f.createClientHello=function(z){z.session.clientHelloVersion={major:z.version.major,minor:z.version.minor};for(var W=i.util.createBuffer(),J=0;J<z.cipherSuites.length;++J){var _e=z.cipherSuites[J];W.putByte(_e.id[0]),W.putByte(_e.id[1])}var Ce=W.length(),st=i.util.createBuffer();st.putByte(f.CompressionMethod.none);var Fe=st.length(),rt=i.util.createBuffer();if(z.virtualHost){var kt=i.util.createBuffer();kt.putByte(0),kt.putByte(0);var mt=i.util.createBuffer();mt.putByte(0),h(mt,2,i.util.createBuffer(z.virtualHost));var tt=i.util.createBuffer();h(tt,2,mt),h(kt,2,tt),rt.putBuffer(kt)}var $t=rt.length();$t>0&&($t+=2);var en=z.session.id,Ot=en.length+1+2+4+28+2+Ce+1+Fe+$t,Yt=i.util.createBuffer();return Yt.putByte(f.HandshakeType.client_hello),Yt.putInt24(Ot),Yt.putByte(z.version.major),Yt.putByte(z.version.minor),Yt.putBytes(z.session.sp.client_random),h(Yt,1,i.util.createBuffer(en)),h(Yt,2,W),h(Yt,1,st),$t>0&&h(Yt,2,rt),Yt},f.createServerHello=function(z){var W=z.session.id,J=W.length+1+2+4+28+2+1,_e=i.util.createBuffer();return _e.putByte(f.HandshakeType.server_hello),_e.putInt24(J),_e.putByte(z.version.major),_e.putByte(z.version.minor),_e.putBytes(z.session.sp.server_random),h(_e,1,i.util.createBuffer(W)),_e.putByte(z.session.cipherSuite.id[0]),_e.putByte(z.session.cipherSuite.id[1]),_e.putByte(z.session.compressionMethod),_e},f.createCertificate=function(z){var W=z.entity===f.ConnectionEnd.client,J=null;z.getCertificate&&(J=z.getCertificate(z,W?z.session.certificateRequest:z.session.extensions.server_name.serverNameList));var Ce=i.util.createBuffer();if(null!==J)try{i.util.isArray(J)||(J=[J]);for(var st=null,Fe=0;Fe<J.length;++Fe){var rt=i.pem.decode(J[Fe])[0];if("CERTIFICATE"!==rt.type&&"X509 CERTIFICATE"!==rt.type&&"TRUSTED CERTIFICATE"!==rt.type){var kt=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw kt.headerType=rt.type,kt}if(rt.procType&&"ENCRYPTED"===rt.procType.type)throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var mt=i.util.createBuffer(rt.body);null===st&&(st=i.asn1.fromDer(mt.bytes(),!1));var tt=i.util.createBuffer();h(tt,3,mt),Ce.putBuffer(tt)}J=i.pki.certificateFromAsn1(st),W?z.session.clientCertificate=J:z.session.serverCertificate=J}catch(Ot){return z.error(z,{message:"Could not send certificate list.",cause:Ot,send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.bad_certificate}})}var $t=3+Ce.length(),en=i.util.createBuffer();return en.putByte(f.HandshakeType.certificate),en.putInt24($t),h(en,3,Ce),en},f.createClientKeyExchange=function(z){var W=i.util.createBuffer();W.putByte(z.session.clientHelloVersion.major),W.putByte(z.session.clientHelloVersion.minor),W.putBytes(i.random.getBytes(46));var J=z.session.sp;J.pre_master_secret=W.getBytes();var Ce=(W=z.session.serverCertificate.publicKey.encrypt(J.pre_master_secret)).length+2,st=i.util.createBuffer();return st.putByte(f.HandshakeType.client_key_exchange),st.putInt24(Ce),st.putInt16(W.length),st.putBytes(W),st},f.createServerKeyExchange=function(z){return i.util.createBuffer()},f.getClientSignature=function(z,W){var J=i.util.createBuffer();J.putBuffer(z.session.md5.digest()),J.putBuffer(z.session.sha1.digest()),J=J.getBytes(),z.getSignature=z.getSignature||function(_e,Ce,st){var Fe=null;if(_e.getPrivateKey)try{Fe=_e.getPrivateKey(_e,_e.session.clientCertificate),Fe=i.pki.privateKeyFromPem(Fe)}catch(rt){_e.error(_e,{message:"Could not get private key.",cause:rt,send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.internal_error}})}null===Fe?_e.error(_e,{message:"No private key set.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.internal_error}}):Ce=Fe.sign(Ce,null),st(_e,Ce)},z.getSignature(z,J,W)},f.createCertificateVerify=function(z,W){var J=W.length+2,_e=i.util.createBuffer();return _e.putByte(f.HandshakeType.certificate_verify),_e.putInt24(J),_e.putInt16(W.length),_e.putBytes(W),_e},f.createCertificateRequest=function(z){var W=i.util.createBuffer();W.putByte(1);var J=i.util.createBuffer();for(var _e in z.caStore.certs){var st=i.pki.distinguishedNameToAsn1(z.caStore.certs[_e].subject),Fe=i.asn1.toDer(st);J.putInt16(Fe.length()),J.putBuffer(Fe)}var rt=1+W.length()+2+J.length(),kt=i.util.createBuffer();return kt.putByte(f.HandshakeType.certificate_request),kt.putInt24(rt),h(kt,1,W),h(kt,2,J),kt},f.createServerHelloDone=function(z){var W=i.util.createBuffer();return W.putByte(f.HandshakeType.server_hello_done),W.putInt24(0),W},f.createChangeCipherSpec=function(){var z=i.util.createBuffer();return z.putByte(1),z},f.createFinished=function(z){var W=i.util.createBuffer();W.putBuffer(z.session.md5.digest()),W.putBuffer(z.session.sha1.digest()),W=e(z.session.sp.master_secret,z.entity===f.ConnectionEnd.client?"client finished":"server finished",W.getBytes(),12);var rt=i.util.createBuffer();return rt.putByte(f.HandshakeType.finished),rt.putInt24(W.length()),rt.putBuffer(W),rt},f.createHeartbeat=function(z,W,J){typeof J>"u"&&(J=W.length);var _e=i.util.createBuffer();_e.putByte(z),_e.putInt16(J),_e.putBytes(W);var Ce=_e.length(),st=Math.max(16,Ce-J-3);return _e.putBytes(i.random.getBytes(st)),_e},f.queue=function(z,W){if(W&&(0!==W.fragment.length()||W.type!==f.ContentType.handshake&&W.type!==f.ContentType.alert&&W.type!==f.ContentType.change_cipher_spec)){if(W.type===f.ContentType.handshake){var J=W.fragment.bytes();z.session.md5.update(J),z.session.sha1.update(J),J=null}var _e;if(W.fragment.length()<=f.MaxFragment)_e=[W];else{_e=[];for(var Ce=W.fragment.bytes();Ce.length>f.MaxFragment;)_e.push(f.createRecord(z,{type:W.type,data:i.util.createBuffer(Ce.slice(0,f.MaxFragment))})),Ce=Ce.slice(f.MaxFragment);Ce.length>0&&_e.push(f.createRecord(z,{type:W.type,data:i.util.createBuffer(Ce)}))}for(var st=0;st<_e.length&&!z.fail;++st){var Fe=_e[st];z.state.current.write.update(z,Fe)&&z.records.push(Fe)}}},f.flush=function(z){for(var W=0;W<z.records.length;++W){var J=z.records[W];z.tlsData.putByte(J.type),z.tlsData.putByte(J.version.major),z.tlsData.putByte(J.version.minor),z.tlsData.putInt16(J.fragment.length()),z.tlsData.putBuffer(z.records[W].fragment)}return z.records=[],z.tlsDataReady(z)};var ln=function(z){switch(z){case!0:return!0;case i.pki.certificateError.bad_certificate:return f.Alert.Description.bad_certificate;case i.pki.certificateError.unsupported_certificate:return f.Alert.Description.unsupported_certificate;case i.pki.certificateError.certificate_revoked:return f.Alert.Description.certificate_revoked;case i.pki.certificateError.certificate_expired:return f.Alert.Description.certificate_expired;case i.pki.certificateError.certificate_unknown:return f.Alert.Description.certificate_unknown;case i.pki.certificateError.unknown_ca:return f.Alert.Description.unknown_ca;default:return f.Alert.Description.bad_certificate}};for(var xt in f.verifyCertificateChain=function(z,W){try{var J={};for(var _e in z.verifyOptions)J[_e]=z.verifyOptions[_e];J.verify=function(st,Fe,rt){ln(st);var mt=z.verify(z,st,Fe,rt);if(!0!==mt){if("object"==typeof mt&&!i.util.isArray(mt)){var tt=new Error("The application rejected the certificate.");throw tt.send=!0,tt.alert={level:f.Alert.Level.fatal,description:f.Alert.Description.bad_certificate},mt.message&&(tt.message=mt.message),mt.alert&&(tt.alert.description=mt.alert),tt}mt!==st&&(mt=function(z){switch(z){case!0:return!0;case f.Alert.Description.bad_certificate:return i.pki.certificateError.bad_certificate;case f.Alert.Description.unsupported_certificate:return i.pki.certificateError.unsupported_certificate;case f.Alert.Description.certificate_revoked:return i.pki.certificateError.certificate_revoked;case f.Alert.Description.certificate_expired:return i.pki.certificateError.certificate_expired;case f.Alert.Description.certificate_unknown:return i.pki.certificateError.certificate_unknown;case f.Alert.Description.unknown_ca:return i.pki.certificateError.unknown_ca;default:return i.pki.certificateError.bad_certificate}}(mt))}return mt},i.pki.verifyCertificateChain(z.caStore,W,J)}catch(st){var Ce=st;("object"!=typeof Ce||i.util.isArray(Ce))&&(Ce={send:!0,alert:{level:f.Alert.Level.fatal,description:ln(st)}}),"send"in Ce||(Ce.send=!0),"alert"in Ce||(Ce.alert={level:f.Alert.Level.fatal,description:ln(Ce.error)}),z.error(z,Ce)}return!z.fail},f.createSessionCache=function(z,W){var J=null;if(z&&z.getSession&&z.setSession&&z.order)J=z;else{for(var _e in(J={}).cache=z||{},J.capacity=Math.max(W||100,1),J.order=[],z)J.order.length<=W?J.order.push(_e):delete z[_e];J.getSession=function(Ce){var st=null,Fe=null;if(Ce?Fe=i.util.bytesToHex(Ce):J.order.length>0&&(Fe=J.order[0]),null!==Fe&&Fe in J.cache)for(var rt in st=J.cache[Fe],delete J.cache[Fe],J.order)if(J.order[rt]===Fe){J.order.splice(rt,1);break}return st},J.setSession=function(Ce,st){if(J.order.length===J.capacity){var Fe=J.order.shift();delete J.cache[Fe]}Fe=i.util.bytesToHex(Ce),J.order.push(Fe),J.cache[Fe]=st}}return J},f.createConnection=function(z){var W;W=z.caStore?i.util.isArray(z.caStore)?i.pki.createCaStore(z.caStore):z.caStore:i.pki.createCaStore();var J=z.cipherSuites||null;if(null===J)for(var _e in J=[],f.CipherSuites)J.push(f.CipherSuites[_e]);var Ce=z.server?f.ConnectionEnd.server:f.ConnectionEnd.client,st=z.sessionCache?f.createSessionCache(z.sessionCache):null,Fe={version:{major:f.Version.major,minor:f.Version.minor},entity:Ce,sessionId:z.sessionId,caStore:W,sessionCache:st,cipherSuites:J,connected:z.connected,virtualHost:z.virtualHost||null,verifyClient:z.verifyClient||!1,verify:z.verify||function(tt,$t,en,Ot){return $t},verifyOptions:z.verifyOptions||{},getCertificate:z.getCertificate||null,getPrivateKey:z.getPrivateKey||null,getSignature:z.getSignature||null,input:i.util.createBuffer(),tlsData:i.util.createBuffer(),data:i.util.createBuffer(),tlsDataReady:z.tlsDataReady,dataReady:z.dataReady,heartbeatReceived:z.heartbeatReceived,closed:z.closed,error:function(tt,$t){$t.origin=$t.origin||(tt.entity===f.ConnectionEnd.client?"client":"server"),$t.send&&(f.queue(tt,f.createAlert(tt,$t.alert)),f.flush(tt));var en=!1!==$t.fatal;en&&(tt.fail=!0),z.error(tt,$t),en&&tt.close(!1)},deflate:z.deflate||null,inflate:z.inflate||null,reset:function(tt){Fe.version={major:f.Version.major,minor:f.Version.minor},Fe.record=null,Fe.session=null,Fe.peerCertificate=null,Fe.state={pending:null,current:null},Fe.expect=0,Fe.fragmented=null,Fe.records=[],Fe.open=!1,Fe.handshakes=0,Fe.handshaking=!1,Fe.isConnected=!1,Fe.fail=!(tt||typeof tt>"u"),Fe.input.clear(),Fe.tlsData.clear(),Fe.data.clear(),Fe.state.current=f.createConnectionState(Fe)}};return Fe.reset(),Fe.handshake=function(tt){if(Fe.entity!==f.ConnectionEnd.client)Fe.error(Fe,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(Fe.handshaking)Fe.error(Fe,{message:"Handshake already in progress.",fatal:!1});else{Fe.fail&&!Fe.open&&0===Fe.handshakes&&(Fe.fail=!1),Fe.handshaking=!0;var $t=null;(tt=tt||"").length>0&&(Fe.sessionCache&&($t=Fe.sessionCache.getSession(tt)),null===$t&&(tt="")),0===tt.length&&Fe.sessionCache&&null!==($t=Fe.sessionCache.getSession())&&(tt=$t.id),Fe.session={id:tt,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:i.md.md5.create(),sha1:i.md.sha1.create()},$t&&(Fe.version=$t.version,Fe.session.sp=$t.sp),Fe.session.sp.client_random=f.createRandom().getBytes(),Fe.open=!0,f.queue(Fe,f.createRecord(Fe,{type:f.ContentType.handshake,data:f.createClientHello(Fe)})),f.flush(Fe)}},Fe.process=function(tt){var $t=0;return tt&&Fe.input.putBytes(tt),Fe.fail||(null!==Fe.record&&Fe.record.ready&&Fe.record.fragment.isEmpty()&&(Fe.record=null),null===Fe.record&&($t=function(tt){var $t=0,en=tt.input,Ot=en.length();if(Ot<5)$t=5-Ot;else{tt.record={type:en.getByte(),version:{major:en.getByte(),minor:en.getByte()},length:en.getInt16(),fragment:i.util.createBuffer(),ready:!1};var Yt=tt.record.version.major===tt.version.major;Yt&&tt.session&&tt.session.version&&(Yt=tt.record.version.minor===tt.version.minor),Yt||tt.error(tt,{message:"Incompatible TLS version.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.protocol_version}})}return $t}(Fe)),!Fe.fail&&null!==Fe.record&&!Fe.record.ready&&($t=function(tt){var $t=0,en=tt.input,Ot=en.length();return Ot<tt.record.length?$t=tt.record.length-Ot:(tt.record.fragment.putBytes(en.getBytes(tt.record.length)),en.compact(),tt.state.current.read.update(tt,tt.record)&&(null!==tt.fragmented&&(tt.fragmented.type===tt.record.type?(tt.fragmented.fragment.putBuffer(tt.record.fragment),tt.record=tt.fragmented):tt.error(tt,{message:"Invalid fragmented record.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.unexpected_message}})),tt.record.ready=!0)),$t}(Fe)),!Fe.fail&&null!==Fe.record&&Fe.record.ready&&function(tt,$t){var en=$t.type-f.ContentType.change_cipher_spec,Ot=Ne[tt.entity][tt.expect];en in Ot?Ot[en](tt,$t):f.handleUnexpected(tt,$t)}(Fe,Fe.record)),$t},Fe.prepare=function(tt){return f.queue(Fe,f.createRecord(Fe,{type:f.ContentType.application_data,data:i.util.createBuffer(tt)})),f.flush(Fe)},Fe.prepareHeartbeatRequest=function(tt,$t){return tt instanceof i.util.ByteBuffer&&(tt=tt.bytes()),typeof $t>"u"&&($t=tt.length),Fe.expectedHeartbeatPayload=tt,f.queue(Fe,f.createRecord(Fe,{type:f.ContentType.heartbeat,data:f.createHeartbeat(f.HeartbeatMessageType.heartbeat_request,tt,$t)})),f.flush(Fe)},Fe.close=function(tt){if(!Fe.fail&&Fe.sessionCache&&Fe.session){var $t={id:Fe.session.id,version:Fe.session.version,sp:Fe.session.sp};$t.sp.keys=null,Fe.sessionCache.setSession($t.id,$t)}Fe.open&&(Fe.open=!1,Fe.input.clear(),(Fe.isConnected||Fe.handshaking)&&(Fe.isConnected=Fe.handshaking=!1,f.queue(Fe,f.createAlert(Fe,{level:f.Alert.Level.warning,description:f.Alert.Description.close_notify})),f.flush(Fe)),Fe.closed(Fe)),Fe.reset(tt)},Fe},lt.exports=i.tls=i.tls||{},f)"function"!=typeof f[xt]&&(i.tls[xt]=f[xt]);i.tls.prf_tls1=e,i.tls.hmac_sha1=function(z,W,J){var _e=i.hmac.create();_e.start("SHA1",z);var Ce=i.util.createBuffer();return Ce.putInt32(W[0]),Ce.putInt32(W[1]),Ce.putByte(J.type),Ce.putByte(J.version.major),Ce.putByte(J.version.minor),Ce.putInt16(J.length),Ce.putBytes(J.fragment.bytes()),_e.update(Ce.getBytes()),_e.digest().getBytes()},i.tls.createSessionCache=f.createSessionCache,i.tls.createConnection=f.createConnection},812:(lt,we,p)=>{var i=p(6589),e=p(3175),v=lt.exports=i.util=i.util||{};function y(x){if(8!==x&&16!==x&&24!==x&&32!==x)throw new Error("Only 8, 16, 24, or 32 bits supported: "+x)}function w(x){if(this.data="",this.read=0,"string"==typeof x)this.data=x;else if(v.isArrayBuffer(x)||v.isArrayBufferView(x))if(typeof Buffer<"u"&&x instanceof Buffer)this.data=x.toString("binary");else{var V=new Uint8Array(x);try{this.data=String.fromCharCode.apply(null,V)}catch{for(var Q=0;Q<V.length;++Q)this.putByte(V[Q])}}else(x instanceof w||"object"==typeof x&&"string"==typeof x.data&&"number"==typeof x.read)&&(this.data=x.data,this.read=x.read);this._constructedStringLength=0}(function(){if(typeof process<"u"&&process.nextTick&&!process.browser)return v.nextTick=process.nextTick,void(v.setImmediate="function"==typeof setImmediate?setImmediate:v.nextTick);if("function"==typeof setImmediate)return v.setImmediate=function(){return setImmediate.apply(void 0,arguments)},void(v.nextTick=function(ee){return setImmediate(ee)});if(v.setImmediate=function(ee){setTimeout(ee,0)},typeof window<"u"&&"function"==typeof window.postMessage){let ee=function(ie){if(ie.source===window&&ie.data===x){ie.stopPropagation();var T=V.slice();V.length=0,T.forEach(function(ae){ae()})}};var x="forge.setImmediate",V=[];v.setImmediate=function(ie){V.push(ie),1===V.length&&window.postMessage(x,"*")},window.addEventListener("message",ee,!0)}if(typeof MutationObserver<"u"){var Q=Date.now(),Y=!0,le=document.createElement("div");V=[],new MutationObserver(function(){var ie=V.slice();V.length=0,ie.forEach(function(T){T()})}).observe(le,{attributes:!0});var fe=v.setImmediate;v.setImmediate=function(ie){Date.now()-Q>15?(Q=Date.now(),fe(ie)):(V.push(ie),1===V.length&&le.setAttribute("a",Y=!Y))}}v.nextTick=v.setImmediate})(),v.isNodejs=typeof process<"u"&&process.versions&&process.versions.node,v.globalScope=v.isNodejs?global:typeof self>"u"?window:self,v.isArray=Array.isArray||function(x){return"[object Array]"===Object.prototype.toString.call(x)},v.isArrayBuffer=function(x){return typeof ArrayBuffer<"u"&&x instanceof ArrayBuffer},v.isArrayBufferView=function(x){return x&&v.isArrayBuffer(x.buffer)&&void 0!==x.byteLength},v.ByteBuffer=w,v.ByteStringBuffer=w,v.ByteStringBuffer.prototype._optimizeConstructedString=function(x){this._constructedStringLength+=x,this._constructedStringLength>4096&&(this.data.substr(0,1),this._constructedStringLength=0)},v.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},v.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0},v.ByteStringBuffer.prototype.putByte=function(x){return this.putBytes(String.fromCharCode(x))},v.ByteStringBuffer.prototype.fillWithByte=function(x,V){x=String.fromCharCode(x);for(var Q=this.data;V>0;)1&V&&(Q+=x),(V>>>=1)>0&&(x+=x);return this.data=Q,this._optimizeConstructedString(V),this},v.ByteStringBuffer.prototype.putBytes=function(x){return this.data+=x,this._optimizeConstructedString(x.length),this},v.ByteStringBuffer.prototype.putString=function(x){return this.putBytes(v.encodeUtf8(x))},v.ByteStringBuffer.prototype.putInt16=function(x){return this.putBytes(String.fromCharCode(x>>8&255)+String.fromCharCode(255&x))},v.ByteStringBuffer.prototype.putInt24=function(x){return this.putBytes(String.fromCharCode(x>>16&255)+String.fromCharCode(x>>8&255)+String.fromCharCode(255&x))},v.ByteStringBuffer.prototype.putInt32=function(x){return this.putBytes(String.fromCharCode(x>>24&255)+String.fromCharCode(x>>16&255)+String.fromCharCode(x>>8&255)+String.fromCharCode(255&x))},v.ByteStringBuffer.prototype.putInt16Le=function(x){return this.putBytes(String.fromCharCode(255&x)+String.fromCharCode(x>>8&255))},v.ByteStringBuffer.prototype.putInt24Le=function(x){return this.putBytes(String.fromCharCode(255&x)+String.fromCharCode(x>>8&255)+String.fromCharCode(x>>16&255))},v.ByteStringBuffer.prototype.putInt32Le=function(x){return this.putBytes(String.fromCharCode(255&x)+String.fromCharCode(x>>8&255)+String.fromCharCode(x>>16&255)+String.fromCharCode(x>>24&255))},v.ByteStringBuffer.prototype.putInt=function(x,V){y(V);var Q="";do{V-=8,Q+=String.fromCharCode(x>>V&255)}while(V>0);return this.putBytes(Q)},v.ByteStringBuffer.prototype.putSignedInt=function(x,V){return x<0&&(x+=2<<V-1),this.putInt(x,V)},v.ByteStringBuffer.prototype.putBuffer=function(x){return this.putBytes(x.getBytes())},v.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},v.ByteStringBuffer.prototype.getInt16=function(){var x=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,x},v.ByteStringBuffer.prototype.getInt24=function(){var x=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,x},v.ByteStringBuffer.prototype.getInt32=function(){var x=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,x},v.ByteStringBuffer.prototype.getInt16Le=function(){var x=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,x},v.ByteStringBuffer.prototype.getInt24Le=function(){var x=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,x},v.ByteStringBuffer.prototype.getInt32Le=function(){var x=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,x},v.ByteStringBuffer.prototype.getInt=function(x){y(x);var V=0;do{V=(V<<8)+this.data.charCodeAt(this.read++),x-=8}while(x>0);return V},v.ByteStringBuffer.prototype.getSignedInt=function(x){var V=this.getInt(x),Q=2<<x-2;return V>=Q&&(V-=Q<<1),V},v.ByteStringBuffer.prototype.getBytes=function(x){var V;return x?(x=Math.min(this.length(),x),V=this.data.slice(this.read,this.read+x),this.read+=x):0===x?V="":(V=0===this.read?this.data:this.data.slice(this.read),this.clear()),V},v.ByteStringBuffer.prototype.bytes=function(x){return typeof x>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+x)},v.ByteStringBuffer.prototype.at=function(x){return this.data.charCodeAt(this.read+x)},v.ByteStringBuffer.prototype.setAt=function(x,V){return this.data=this.data.substr(0,this.read+x)+String.fromCharCode(V)+this.data.substr(this.read+x+1),this},v.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},v.ByteStringBuffer.prototype.copy=function(){var x=v.createBuffer(this.data);return x.read=this.read,x},v.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},v.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this},v.ByteStringBuffer.prototype.truncate=function(x){var V=Math.max(0,this.length()-x);return this.data=this.data.substr(this.read,V),this.read=0,this},v.ByteStringBuffer.prototype.toHex=function(){for(var x="",V=this.read;V<this.data.length;++V){var Q=this.data.charCodeAt(V);Q<16&&(x+="0"),x+=Q.toString(16)}return x},v.ByteStringBuffer.prototype.toString=function(){return v.decodeUtf8(this.bytes())},v.DataBuffer=function D(x,V){this.read=(V=V||{}).readOffset||0,this.growSize=V.growSize||1024;var Q=v.isArrayBuffer(x),Y=v.isArrayBufferView(x);if(Q||Y)return this.data=Q?new DataView(x):new DataView(x.buffer,x.byteOffset,x.byteLength),void(this.write="writeOffset"in V?V.writeOffset:this.data.byteLength);this.data=new DataView(new ArrayBuffer(0)),this.write=0,null!=x&&this.putBytes(x),"writeOffset"in V&&(this.write=V.writeOffset)},v.DataBuffer.prototype.length=function(){return this.write-this.read},v.DataBuffer.prototype.isEmpty=function(){return this.length()<=0},v.DataBuffer.prototype.accommodate=function(x,V){if(this.length()>=x)return this;V=Math.max(V||this.growSize,x);var Q=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),Y=new Uint8Array(this.length()+V);return Y.set(Q),this.data=new DataView(Y.buffer),this},v.DataBuffer.prototype.putByte=function(x){return this.accommodate(1),this.data.setUint8(this.write++,x),this},v.DataBuffer.prototype.fillWithByte=function(x,V){this.accommodate(V);for(var Q=0;Q<V;++Q)this.data.setUint8(x);return this},v.DataBuffer.prototype.putBytes=function(x,V){if(v.isArrayBufferView(x)){var Y=(Q=new Uint8Array(x.buffer,x.byteOffset,x.byteLength)).byteLength-Q.byteOffset;return this.accommodate(Y),new Uint8Array(this.data.buffer,this.write).set(Q),this.write+=Y,this}if(v.isArrayBuffer(x)){var Q=new Uint8Array(x);return this.accommodate(Q.byteLength),new Uint8Array(this.data.buffer).set(Q,this.write),this.write+=Q.byteLength,this}if(x instanceof v.DataBuffer||"object"==typeof x&&"number"==typeof x.read&&"number"==typeof x.write&&v.isArrayBufferView(x.data))return Q=new Uint8Array(x.data.byteLength,x.read,x.length()),this.accommodate(Q.byteLength),new Uint8Array(x.data.byteLength,this.write).set(Q),this.write+=Q.byteLength,this;if(x instanceof v.ByteStringBuffer&&(x=x.data,V="binary"),V=V||"binary","string"==typeof x){var fe;if("hex"===V)return this.accommodate(Math.ceil(x.length/2)),fe=new Uint8Array(this.data.buffer,this.write),this.write+=v.binary.hex.decode(x,fe,this.write),this;if("base64"===V)return this.accommodate(3*Math.ceil(x.length/4)),fe=new Uint8Array(this.data.buffer,this.write),this.write+=v.binary.base64.decode(x,fe,this.write),this;if("utf8"===V&&(x=v.encodeUtf8(x),V="binary"),"binary"===V||"raw"===V)return this.accommodate(x.length),fe=new Uint8Array(this.data.buffer,this.write),this.write+=v.binary.raw.decode(fe),this;if("utf16"===V)return this.accommodate(2*x.length),fe=new Uint16Array(this.data.buffer,this.write),this.write+=v.text.utf16.encode(fe),this;throw new Error("Invalid encoding: "+V)}throw Error("Invalid parameter: "+x)},v.DataBuffer.prototype.putBuffer=function(x){return this.putBytes(x),x.clear(),this},v.DataBuffer.prototype.putString=function(x){return this.putBytes(x,"utf16")},v.DataBuffer.prototype.putInt16=function(x){return this.accommodate(2),this.data.setInt16(this.write,x),this.write+=2,this},v.DataBuffer.prototype.putInt24=function(x){return this.accommodate(3),this.data.setInt16(this.write,x>>8&65535),this.data.setInt8(this.write,x>>16&255),this.write+=3,this},v.DataBuffer.prototype.putInt32=function(x){return this.accommodate(4),this.data.setInt32(this.write,x),this.write+=4,this},v.DataBuffer.prototype.putInt16Le=function(x){return this.accommodate(2),this.data.setInt16(this.write,x,!0),this.write+=2,this},v.DataBuffer.prototype.putInt24Le=function(x){return this.accommodate(3),this.data.setInt8(this.write,x>>16&255),this.data.setInt16(this.write,x>>8&65535,!0),this.write+=3,this},v.DataBuffer.prototype.putInt32Le=function(x){return this.accommodate(4),this.data.setInt32(this.write,x,!0),this.write+=4,this},v.DataBuffer.prototype.putInt=function(x,V){y(V),this.accommodate(V/8);do{V-=8,this.data.setInt8(this.write++,x>>V&255)}while(V>0);return this},v.DataBuffer.prototype.putSignedInt=function(x,V){return y(V),this.accommodate(V/8),x<0&&(x+=2<<V-1),this.putInt(x,V)},v.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)},v.DataBuffer.prototype.getInt16=function(){var x=this.data.getInt16(this.read);return this.read+=2,x},v.DataBuffer.prototype.getInt24=function(){var x=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,x},v.DataBuffer.prototype.getInt32=function(){var x=this.data.getInt32(this.read);return this.read+=4,x},v.DataBuffer.prototype.getInt16Le=function(){var x=this.data.getInt16(this.read,!0);return this.read+=2,x},v.DataBuffer.prototype.getInt24Le=function(){var x=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,x},v.DataBuffer.prototype.getInt32Le=function(){var x=this.data.getInt32(this.read,!0);return this.read+=4,x},v.DataBuffer.prototype.getInt=function(x){y(x);var V=0;do{V=(V<<8)+this.data.getInt8(this.read++),x-=8}while(x>0);return V},v.DataBuffer.prototype.getSignedInt=function(x){var V=this.getInt(x),Q=2<<x-2;return V>=Q&&(V-=Q<<1),V},v.DataBuffer.prototype.getBytes=function(x){var V;return x?(x=Math.min(this.length(),x),V=this.data.slice(this.read,this.read+x),this.read+=x):0===x?V="":(V=0===this.read?this.data:this.data.slice(this.read),this.clear()),V},v.DataBuffer.prototype.bytes=function(x){return typeof x>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+x)},v.DataBuffer.prototype.at=function(x){return this.data.getUint8(this.read+x)},v.DataBuffer.prototype.setAt=function(x,V){return this.data.setUint8(x,V),this},v.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)},v.DataBuffer.prototype.copy=function(){return new v.DataBuffer(this)},v.DataBuffer.prototype.compact=function(){if(this.read>0){var x=new Uint8Array(this.data.buffer,this.read),V=new Uint8Array(x.byteLength);V.set(x),this.data=new DataView(V),this.write-=this.read,this.read=0}return this},v.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this},v.DataBuffer.prototype.truncate=function(x){return this.write=Math.max(0,this.length()-x),this.read=Math.min(this.read,this.write),this},v.DataBuffer.prototype.toHex=function(){for(var x="",V=this.read;V<this.data.byteLength;++V){var Q=this.data.getUint8(V);Q<16&&(x+="0"),x+=Q.toString(16)}return x},v.DataBuffer.prototype.toString=function(x){var V=new Uint8Array(this.data,this.read,this.length());if("binary"===(x=x||"utf8")||"raw"===x)return v.binary.raw.encode(V);if("hex"===x)return v.binary.hex.encode(V);if("base64"===x)return v.binary.base64.encode(V);if("utf8"===x)return v.text.utf8.decode(V);if("utf16"===x)return v.text.utf16.decode(V);throw new Error("Invalid encoding: "+x)},v.createBuffer=function(x,V){return V=V||"raw",void 0!==x&&"utf8"===V&&(x=v.encodeUtf8(x)),new v.ByteBuffer(x)},v.fillString=function(x,V){for(var Q="";V>0;)1&V&&(Q+=x),(V>>>=1)>0&&(x+=x);return Q},v.xorBytes=function(x,V,Q){for(var Y="",le="",fe="",K=0,ee=0;Q>0;--Q,++K)le=x.charCodeAt(K)^V.charCodeAt(K),ee>=10&&(Y+=fe,fe="",ee=0),fe+=String.fromCharCode(le),++ee;return Y+fe},v.hexToBytes=function(x){var V="",Q=0;for(!0&x.length&&(Q=1,V+=String.fromCharCode(parseInt(x[0],16)));Q<x.length;Q+=2)V+=String.fromCharCode(parseInt(x.substr(Q,2),16));return V},v.bytesToHex=function(x){return v.createBuffer(x).toHex()},v.int32ToBytes=function(x){return String.fromCharCode(x>>24&255)+String.fromCharCode(x>>16&255)+String.fromCharCode(x>>8&255)+String.fromCharCode(255&x)};var h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",f=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],E="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";v.encode64=function(x,V){for(var le,fe,K,Q="",Y="",ee=0;ee<x.length;)le=x.charCodeAt(ee++),fe=x.charCodeAt(ee++),K=x.charCodeAt(ee++),Q+=h.charAt(le>>2),Q+=h.charAt((3&le)<<4|fe>>4),isNaN(fe)?Q+="==":(Q+=h.charAt((15&fe)<<2|K>>6),Q+=isNaN(K)?"=":h.charAt(63&K)),V&&Q.length>V&&(Y+=Q.substr(0,V)+"\r\n",Q=Q.substr(V));return Y+Q},v.decode64=function(x){x=x.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var Q,Y,le,fe,V="",K=0;K<x.length;)Q=f[x.charCodeAt(K++)-43],Y=f[x.charCodeAt(K++)-43],le=f[x.charCodeAt(K++)-43],fe=f[x.charCodeAt(K++)-43],V+=String.fromCharCode(Q<<2|Y>>4),64!==le&&(V+=String.fromCharCode((15&Y)<<4|le>>2),64!==fe&&(V+=String.fromCharCode((3&le)<<6|fe)));return V},v.encodeUtf8=function(x){return unescape(encodeURIComponent(x))},v.decodeUtf8=function(x){return decodeURIComponent(escape(x))},v.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:e.encode,decode:e.decode}},v.binary.raw.encode=function(x){return String.fromCharCode.apply(null,x)},v.binary.raw.decode=function(x,V,Q){var Y=V;Y||(Y=new Uint8Array(x.length));for(var le=Q=Q||0,fe=0;fe<x.length;++fe)Y[le++]=x.charCodeAt(fe);return V?le-Q:Y},v.binary.hex.encode=v.bytesToHex,v.binary.hex.decode=function(x,V,Q){var Y=V;Y||(Y=new Uint8Array(Math.ceil(x.length/2)));var le=0,fe=Q=Q||0;for(1&x.length&&(le=1,Y[fe++]=parseInt(x[0],16));le<x.length;le+=2)Y[fe++]=parseInt(x.substr(le,2),16);return V?fe-Q:Y},v.binary.base64.encode=function(x,V){for(var le,fe,K,Q="",Y="",ee=0;ee<x.byteLength;)le=x[ee++],fe=x[ee++],K=x[ee++],Q+=h.charAt(le>>2),Q+=h.charAt((3&le)<<4|fe>>4),isNaN(fe)?Q+="==":(Q+=h.charAt((15&fe)<<2|K>>6),Q+=isNaN(K)?"=":h.charAt(63&K)),V&&Q.length>V&&(Y+=Q.substr(0,V)+"\r\n",Q=Q.substr(V));return Y+Q},v.binary.base64.decode=function(x,V,Q){var Y=V;Y||(Y=new Uint8Array(3*Math.ceil(x.length/4))),x=x.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var le,fe,K,ee,ie=0,T=Q=Q||0;ie<x.length;)le=f[x.charCodeAt(ie++)-43],fe=f[x.charCodeAt(ie++)-43],K=f[x.charCodeAt(ie++)-43],ee=f[x.charCodeAt(ie++)-43],Y[T++]=le<<2|fe>>4,64!==K&&(Y[T++]=(15&fe)<<4|K>>2,64!==ee&&(Y[T++]=(3&K)<<6|ee));return V?T-Q:Y.subarray(0,T)},v.binary.base58.encode=function(x,V){return v.binary.baseN.encode(x,E,V)},v.binary.base58.decode=function(x,V){return v.binary.baseN.decode(x,E,V)},v.text={utf8:{},utf16:{}},v.text.utf8.encode=function(x,V,Q){x=v.encodeUtf8(x);var Y=V;Y||(Y=new Uint8Array(x.length));for(var le=Q=Q||0,fe=0;fe<x.length;++fe)Y[le++]=x.charCodeAt(fe);return V?le-Q:Y},v.text.utf8.decode=function(x){return v.decodeUtf8(String.fromCharCode.apply(null,x))},v.text.utf16.encode=function(x,V,Q){var Y=V;Y||(Y=new Uint8Array(2*x.length));for(var le=new Uint16Array(Y.buffer),fe=Q=Q||0,K=Q,ee=0;ee<x.length;++ee)le[K++]=x.charCodeAt(ee),fe+=2;return V?fe-Q:Y},v.text.utf16.decode=function(x){return String.fromCharCode.apply(null,new Uint16Array(x.buffer))},v.deflate=function(x,V,Q){if(V=v.decode64(x.deflate(v.encode64(V)).rval),Q){var Y=2;32&V.charCodeAt(1)&&(Y=6),V=V.substring(Y,V.length-4)}return V},v.inflate=function(x,V,Q){var Y=x.inflate(v.encode64(V)).rval;return null===Y?null:v.decode64(Y)};var F=function(x,V,Q){if(!x)throw new Error("WebStorage not available.");var Y;if(null===Q?Y=x.removeItem(V):(Q=v.encode64(JSON.stringify(Q)),Y=x.setItem(V,Q)),typeof Y<"u"&&!0!==Y.rval){var le=new Error(Y.error.message);throw le.id=Y.error.id,le.name=Y.error.name,le}},L=function(x,V){if(!x)throw new Error("WebStorage not available.");var Q=x.getItem(V);if(x.init)if(null===Q.rval){if(Q.error){var Y=new Error(Q.error.message);throw Y.id=Q.error.id,Y.name=Q.error.name,Y}Q=null}else Q=Q.rval;return null!==Q&&(Q=JSON.parse(v.decode64(Q))),Q},_=function(x,V,Q,Y){var le=L(x,V);null===le&&(le={}),le[Q]=Y,F(x,V,le)},M=function(x,V,Q){var Y=L(x,V);return null!==Y&&(Y=Q in Y?Y[Q]:null),Y},N=function(x,V,Q){var Y=L(x,V);if(null!==Y&&Q in Y){delete Y[Q];var le=!0;for(var fe in Y){le=!1;break}le&&(Y=null),F(x,V,Y)}},P=function(x,V){F(x,V,null)},G=function(x,V,Q){var Y=null;typeof Q>"u"&&(Q=["web","flash"]);var le,fe=!1,K=null;for(var ee in Q){le=Q[ee];try{if("flash"===le||"both"===le){if(null===V[0])throw new Error("Flash local storage not available.");Y=x.apply(this,V),fe="flash"===le}("web"===le||"both"===le)&&(V[0]=localStorage,Y=x.apply(this,V),fe=!0)}catch(ie){K=ie}if(fe)break}if(!fe)throw K;return Y};v.setItem=function(x,V,Q,Y,le){G(_,arguments,le)},v.getItem=function(x,V,Q,Y){return G(M,arguments,Y)},v.removeItem=function(x,V,Q,Y){G(N,arguments,Y)},v.clearItems=function(x,V,Q){G(P,arguments,Q)},v.isEmpty=function(x){for(var V in x)if(x.hasOwnProperty(V))return!1;return!0},v.format=function(x){for(var Q,Y,V=/%./g,le=0,fe=[],K=0;Q=V.exec(x);){(Y=x.substring(K,V.lastIndex-2)).length>0&&fe.push(Y),K=V.lastIndex;var ee=Q[0][1];switch(ee){case"s":case"o":fe.push(le<arguments.length?arguments[1+le++]:"<?>");break;case"%":fe.push("%");break;default:fe.push("<%"+ee+"?>")}}return fe.push(x.substring(K)),fe.join("")},v.formatNumber=function(x,V,Q,Y){var le=x,fe=isNaN(V=Math.abs(V))?2:V,K=void 0===Q?",":Q,ee=void 0===Y?".":Y,ie=le<0?"-":"",T=parseInt(le=Math.abs(+le||0).toFixed(fe),10)+"",ae=T.length>3?T.length%3:0;return ie+(ae?T.substr(0,ae)+ee:"")+T.substr(ae).replace(/(\d{3})(?=\d)/g,"$1"+ee)+(fe?K+Math.abs(le-T).toFixed(fe).slice(2):"")},v.formatSize=function(x){return x>=1073741824?v.formatNumber(x/1073741824,2,".","")+" GiB":x>=1048576?v.formatNumber(x/1048576,2,".","")+" MiB":x>=1024?v.formatNumber(x/1024,0)+" KiB":v.formatNumber(x,0)+" bytes"},v.bytesFromIP=function(x){return-1!==x.indexOf(".")?v.bytesFromIPv4(x):-1!==x.indexOf(":")?v.bytesFromIPv6(x):null},v.bytesFromIPv4=function(x){if(4!==(x=x.split(".")).length)return null;for(var V=v.createBuffer(),Q=0;Q<x.length;++Q){var Y=parseInt(x[Q],10);if(isNaN(Y))return null;V.putByte(Y)}return V.getBytes()},v.bytesFromIPv6=function(x){for(var V=0,Q=2*(8-(x=x.split(":").filter(function(K){return 0===K.length&&++V,!0})).length+V),Y=v.createBuffer(),le=0;le<8;++le)if(x[le]&&0!==x[le].length){var fe=v.hexToBytes(x[le]);fe.length<2&&Y.putByte(0),Y.putBytes(fe)}else Y.fillWithByte(0,Q),Q=0;return Y.getBytes()},v.bytesToIP=function(x){return 4===x.length?v.bytesToIPv4(x):16===x.length?v.bytesToIPv6(x):null},v.bytesToIPv4=function(x){if(4!==x.length)return null;for(var V=[],Q=0;Q<x.length;++Q)V.push(x.charCodeAt(Q));return V.join(".")},v.bytesToIPv6=function(x){if(16!==x.length)return null;for(var V=[],Q=[],Y=0,le=0;le<x.length;le+=2){for(var fe=v.bytesToHex(x[le]+x[le+1]);"0"===fe[0]&&"0"!==fe;)fe=fe.substr(1);if("0"===fe){var K=Q[Q.length-1],ee=V.length;K&&ee===K.end+1?(K.end=ee,K.end-K.start>Q[Y].end-Q[Y].start&&(Y=Q.length-1)):Q.push({start:ee,end:ee})}V.push(fe)}if(Q.length>0){var ie=Q[Y];ie.end-ie.start>0&&(V.splice(ie.start,ie.end-ie.start+1,""),0===ie.start&&V.unshift(""),7===ie.end&&V.push(""))}return V.join(":")},v.estimateCores=function(x,V){if("function"==typeof x&&(V=x,x={}),x=x||{},"cores"in v&&!x.update)return V(null,v.cores);if(typeof navigator<"u"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return v.cores=navigator.hardwareConcurrency,V(null,v.cores);if(typeof Worker>"u")return v.cores=1,V(null,v.cores);if(typeof Blob>"u")return v.cores=2,V(null,v.cores);var Q=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(K){for(var ee=Date.now(),ie=ee+4;Date.now()<ie;);self.postMessage({st:ee,et:ie})})}.toString(),")()"],{type:"application/javascript"}));!function Y(K,ee,ie){if(0===ee){var T=Math.floor(K.reduce(function(ae,re){return ae+re},0)/K.length);return v.cores=Math.max(1,T),URL.revokeObjectURL(Q),V(null,v.cores)}!function le(K,ee){for(var ie=[],T=[],ae=0;ae<K;++ae){var re=new Worker(Q);re.addEventListener("message",function(Me){if(T.push(Me.data),T.length===K){for(var Qe=0;Qe<K;++Qe)ie[Qe].terminate();ee(null,T)}}),ie.push(re)}for(ae=0;ae<K;++ae)ie[ae].postMessage(ae)}(ie,function(ae,re){K.push(function fe(K,ee){for(var ie=[],T=0;T<K;++T)for(var ae=ee[T],re=ie[T]=[],Me=0;Me<K;++Me)if(T!==Me){var Qe=ee[Me];(ae.st>Qe.st&&ae.st<Qe.et||Qe.st>ae.st&&Qe.st<ae.et)&&re.push(Me)}return ie.reduce(function(Le,Ne){return Math.max(Le,Ne.length)},0)}(ie,re)),Y(K,ee-1,ie)})}([],5,16)}},9436:(lt,we,p)=>{var i=p(6589);p(57),p(7097),p(3674),p(5437),p(8040),p(1817),p(9368),p(8588),p(2880),p(812);var e=i.asn1,v=lt.exports=i.pki=i.pki||{},y=v.oids,w={};w.CN=y.commonName,w.commonName="CN",w.C=y.countryName,w.countryName="C",w.L=y.localityName,w.localityName="L",w.ST=y.stateOrProvinceName,w.stateOrProvinceName="ST",w.O=y.organizationName,w.organizationName="O",w.OU=y.organizationalUnitName,w.organizationalUnitName="OU",w.E=y.emailAddress,w.emailAddress="E";var I=i.pki.rsa.publicKeyValidator,D={name:"Certificate",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:e.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:e.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:e.Class.UNIVERSAL,type:e.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:e.Class.UNIVERSAL,type:e.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:e.Class.UNIVERSAL,type:e.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:e.Class.UNIVERSAL,type:e.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},I,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:e.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:e.Class.UNIVERSAL,type:e.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:e.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:e.Class.UNIVERSAL,type:e.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:e.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:e.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:e.Class.UNIVERSAL,type:e.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},h={name:"rsapss",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:e.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:e.Class.UNIVERSAL,type:e.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:e.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:e.Class.UNIVERSAL,type:e.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:e.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:e.Class.UNIVERSAL,type:e.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:e.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:e.Class.UNIVERSAL,type:e.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},E={name:"CertificationRequest",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[{name:"CertificationRequestInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},I,{name:"CertificationRequestInfo.attributes",tagClass:e.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:e.Class.UNIVERSAL,type:e.Type.SET,constructed:!0}]}]}]},{name:"CertificationRequest.signatureAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:e.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:e.Class.UNIVERSAL,type:e.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};function F(K,ee){"string"==typeof ee&&(ee={shortName:ee});for(var T,ie=null,ae=0;null===ie&&ae<K.attributes.length;++ae)T=K.attributes[ae],(ee.type&&ee.type===T.type||ee.name&&ee.name===T.name||ee.shortName&&ee.shortName===T.shortName)&&(ie=T);return ie}v.RDNAttributesAsArray=function(K,ee){for(var T,ae,re,ie=[],Me=0;Me<K.value.length;++Me){T=K.value[Me];for(var Qe=0;Qe<T.value.length;++Qe)(re={}).type=e.derToOid((ae=T.value[Qe]).value[0].value),re.value=ae.value[1].value,re.valueTagClass=ae.value[1].type,re.type in y&&(re.name=y[re.type],re.name in w&&(re.shortName=w[re.name])),ee&&(ee.update(re.type),ee.update(re.value)),ie.push(re)}return ie},v.CRIAttributesAsArray=function(K){for(var ee=[],ie=0;ie<K.length;++ie)for(var T=K[ie],ae=e.derToOid(T.value[0].value),re=T.value[1].value,Me=0;Me<re.length;++Me){var Qe={};if(Qe.type=ae,Qe.value=re[Me].value,Qe.valueTagClass=re[Me].type,Qe.type in y&&(Qe.name=y[Qe.type],Qe.name in w&&(Qe.shortName=w[Qe.name])),Qe.type===y.extensionRequest){Qe.extensions=[];for(var Le=0;Le<Qe.value.length;++Le)Qe.extensions.push(v.certificateExtensionFromAsn1(Qe.value[Le]))}ee.push(Qe)}return ee};var L=function(K,ee,ie){var T={};if(K!==y["RSASSA-PSS"])return T;ie&&(T={hash:{algorithmOid:y.sha1},mgf:{algorithmOid:y.mgf1,hash:{algorithmOid:y.sha1}},saltLength:20});var ae={},re=[];if(!e.validate(ee,h,ae,re)){var Me=new Error("Cannot read RSASSA-PSS parameter block.");throw Me.errors=re,Me}return void 0!==ae.hashOid&&(T.hash=T.hash||{},T.hash.algorithmOid=e.derToOid(ae.hashOid)),void 0!==ae.maskGenOid&&(T.mgf=T.mgf||{},T.mgf.algorithmOid=e.derToOid(ae.maskGenOid),T.mgf.hash=T.mgf.hash||{},T.mgf.hash.algorithmOid=e.derToOid(ae.maskGenHashOid)),void 0!==ae.saltLength&&(T.saltLength=ae.saltLength.charCodeAt(0)),T},_=function(K){switch(y[K.signatureOid]){case"sha1WithRSAEncryption":case"sha1WithRSASignature":return i.md.sha1.create();case"md5WithRSAEncryption":return i.md.md5.create();case"sha256WithRSAEncryption":case"RSASSA-PSS":return i.md.sha256.create();case"sha384WithRSAEncryption":return i.md.sha384.create();case"sha512WithRSAEncryption":return i.md.sha512.create();default:var ee=new Error("Could not compute "+K.type+" digest. Unknown signature OID.");throw ee.signatureOid=K.signatureOid,ee}},M=function(K){var ie,ee=K.certificate;switch(ee.signatureOid){case y.sha1WithRSAEncryption:case y.sha1WithRSASignature:break;case y["RSASSA-PSS"]:var T,ae,re;if(void 0===(T=y[ee.signatureParameters.mgf.hash.algorithmOid])||void 0===i.md[T])throw(re=new Error("Unsupported MGF hash function.")).oid=ee.signatureParameters.mgf.hash.algorithmOid,re.name=T,re;if(void 0===(ae=y[ee.signatureParameters.mgf.algorithmOid])||void 0===i.mgf[ae])throw(re=new Error("Unsupported MGF function.")).oid=ee.signatureParameters.mgf.algorithmOid,re.name=ae,re;if(ae=i.mgf[ae].create(i.md[T].create()),void 0===(T=y[ee.signatureParameters.hash.algorithmOid])||void 0===i.md[T])throw(re=new Error("Unsupported RSASSA-PSS hash function.")).oid=ee.signatureParameters.hash.algorithmOid,re.name=T,re;ie=i.pss.create(i.md[T].create(),ae,ee.signatureParameters.saltLength)}return ee.publicKey.verify(K.md.digest().getBytes(),K.signature,ie)};function N(K){for(var ie,T,ee=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]),ae=K.attributes,re=0;re<ae.length;++re){var Me=(ie=ae[re]).value,Qe=e.Type.PRINTABLESTRING;"valueTagClass"in ie&&(Qe=ie.valueTagClass)===e.Type.UTF8&&(Me=i.util.encodeUtf8(Me)),T=e.create(e.Class.UNIVERSAL,e.Type.SET,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(ie.type).getBytes()),e.create(e.Class.UNIVERSAL,Qe,!1,Me)])]),ee.value.push(T)}return ee}function G(K){for(var ee,ie=0;ie<K.length;++ie){if(typeof(ee=K[ie]).name>"u"&&(ee.type&&ee.type in v.oids?ee.name=v.oids[ee.type]:ee.shortName&&ee.shortName in w&&(ee.name=v.oids[w[ee.shortName]])),typeof ee.type>"u"){if(!ee.name||!(ee.name in v.oids))throw(T=new Error("Attribute type not specified.")).attribute=ee,T;ee.type=v.oids[ee.name]}if(typeof ee.shortName>"u"&&ee.name&&ee.name in w&&(ee.shortName=w[ee.name]),ee.type===y.extensionRequest&&(ee.valueConstructed=!0,ee.valueTagClass=e.Type.SEQUENCE,!ee.value&&ee.extensions)){ee.value=[];for(var ae=0;ae<ee.extensions.length;++ae)ee.value.push(v.certificateExtensionToAsn1(x(ee.extensions[ae])))}var T;if(typeof ee.value>"u")throw(T=new Error("Attribute value not specified.")).attribute=ee,T}}function x(K,ee){if(ee=ee||{},typeof K.name>"u"&&K.id&&K.id in v.oids&&(K.name=v.oids[K.id]),typeof K.id>"u"){if(!K.name||!(K.name in v.oids))throw(ie=new Error("Extension ID not specified.")).extension=K,ie;K.id=v.oids[K.name]}if(typeof K.value<"u")return K;if("keyUsage"===K.name){var T=0,ae=0,re=0;K.digitalSignature&&(ae|=128,T=7),K.nonRepudiation&&(ae|=64,T=6),K.keyEncipherment&&(ae|=32,T=5),K.dataEncipherment&&(ae|=16,T=4),K.keyAgreement&&(ae|=8,T=3),K.keyCertSign&&(ae|=4,T=2),K.cRLSign&&(ae|=2,T=1),K.encipherOnly&&(ae|=1,T=0),K.decipherOnly&&(re|=128,T=7);var Me=String.fromCharCode(T);0!==re?Me+=String.fromCharCode(ae)+String.fromCharCode(re):0!==ae&&(Me+=String.fromCharCode(ae)),K.value=e.create(e.Class.UNIVERSAL,e.Type.BITSTRING,!1,Me)}else if("basicConstraints"===K.name)K.value=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]),K.cA&&K.value.value.push(e.create(e.Class.UNIVERSAL,e.Type.BOOLEAN,!1,"\xff")),"pathLenConstraint"in K&&K.value.value.push(e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(K.pathLenConstraint).getBytes()));else if("extKeyUsage"===K.name){K.value=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]);var Qe=K.value.value;for(var Le in K)!0===K[Le]&&(Le in y?Qe.push(e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(y[Le]).getBytes())):-1!==Le.indexOf(".")&&Qe.push(e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(Le).getBytes())))}else if("nsCertType"===K.name)T=0,ae=0,K.client&&(ae|=128,T=7),K.server&&(ae|=64,T=6),K.email&&(ae|=32,T=5),K.objsign&&(ae|=16,T=4),K.reserved&&(ae|=8,T=3),K.sslCA&&(ae|=4,T=2),K.emailCA&&(ae|=2,T=1),K.objCA&&(ae|=1,T=0),Me=String.fromCharCode(T),0!==ae&&(Me+=String.fromCharCode(ae)),K.value=e.create(e.Class.UNIVERSAL,e.Type.BITSTRING,!1,Me);else if("subjectAltName"===K.name||"issuerAltName"===K.name){K.value=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]);for(var Je=0;Je<K.altNames.length;++Je){if(Me=(Ne=K.altNames[Je]).value,7===Ne.type&&Ne.ip){if(null===(Me=i.util.bytesFromIP(Ne.ip)))throw(ie=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=K,ie}else 8===Ne.type&&(Me=e.oidToDer(Ne.oid?e.oidToDer(Ne.oid):Me));K.value.value.push(e.create(e.Class.CONTEXT_SPECIFIC,Ne.type,!1,Me))}}else if("nsComment"===K.name&&ee.cert){if(!/^[\x00-\x7F]*$/.test(K.comment)||K.comment.length<1||K.comment.length>128)throw new Error('Invalid "nsComment" content.');K.value=e.create(e.Class.UNIVERSAL,e.Type.IA5STRING,!1,K.comment)}else if("subjectKeyIdentifier"===K.name&&ee.cert){var Ee=ee.cert.generateSubjectKeyIdentifier();K.subjectKeyIdentifier=Ee.toHex(),K.value=e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,Ee.getBytes())}else if("authorityKeyIdentifier"===K.name&&ee.cert){if(K.value=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]),Qe=K.value.value,K.keyIdentifier){var be=!0===K.keyIdentifier?ee.cert.generateSubjectKeyIdentifier().getBytes():K.keyIdentifier;Qe.push(e.create(e.Class.CONTEXT_SPECIFIC,0,!1,be))}if(K.authorityCertIssuer){var se=[e.create(e.Class.CONTEXT_SPECIFIC,4,!0,[N(!0===K.authorityCertIssuer?ee.cert.issuer:K.authorityCertIssuer)])];Qe.push(e.create(e.Class.CONTEXT_SPECIFIC,1,!0,se))}if(K.serialNumber){var Oe=i.util.hexToBytes(!0===K.serialNumber?ee.cert.serialNumber:K.serialNumber);Qe.push(e.create(e.Class.CONTEXT_SPECIFIC,2,!1,Oe))}}else if("cRLDistributionPoints"===K.name){K.value=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]),Qe=K.value.value;var Ne,Ie=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]),it=e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[]);for(Je=0;Je<K.altNames.length;++Je){if(Me=(Ne=K.altNames[Je]).value,7===Ne.type&&Ne.ip){if(null===(Me=i.util.bytesFromIP(Ne.ip)))throw(ie=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=K,ie}else 8===Ne.type&&(Me=e.oidToDer(Ne.oid?e.oidToDer(Ne.oid):Me));it.value.push(e.create(e.Class.CONTEXT_SPECIFIC,Ne.type,!1,Me))}Ie.value.push(e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[it])),Qe.push(Ie)}var ie;if(typeof K.value>"u")throw(ie=new Error("Extension value not specified.")).extension=K,ie;return K}function V(K,ee){if(K===y["RSASSA-PSS"]){var ie=[];return void 0!==ee.hash.algorithmOid&&ie.push(e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(ee.hash.algorithmOid).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")])])),void 0!==ee.mgf.algorithmOid&&ie.push(e.create(e.Class.CONTEXT_SPECIFIC,1,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(ee.mgf.algorithmOid).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(ee.mgf.hash.algorithmOid).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")])])])),void 0!==ee.saltLength&&ie.push(e.create(e.Class.CONTEXT_SPECIFIC,2,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(ee.saltLength).getBytes())])),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,ie)}return e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")}function Q(K){var ee=e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[]);if(0===K.attributes.length)return ee;for(var ie=K.attributes,T=0;T<ie.length;++T){var ae=ie[T],re=ae.value,Me=e.Type.UTF8;"valueTagClass"in ae&&(Me=ae.valueTagClass),Me===e.Type.UTF8&&(re=i.util.encodeUtf8(re));var Qe=!1;"valueConstructed"in ae&&(Qe=ae.valueConstructed);var Le=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(ae.type).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SET,!0,[e.create(e.Class.UNIVERSAL,Me,Qe,re)])]);ee.value.push(Le)}return ee}v.certificateFromPem=function(K,ee,ie){var T=i.pem.decode(K)[0];if("CERTIFICATE"!==T.type&&"X509 CERTIFICATE"!==T.type&&"TRUSTED CERTIFICATE"!==T.type){var ae=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw ae.headerType=T.type,ae}if(T.procType&&"ENCRYPTED"===T.procType.type)throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var re=e.fromDer(T.body,ie);return v.certificateFromAsn1(re,ee)},v.certificateToPem=function(K,ee){var ie={type:"CERTIFICATE",body:e.toDer(v.certificateToAsn1(K)).getBytes()};return i.pem.encode(ie,{maxline:ee})},v.publicKeyFromPem=function(K){var ee=i.pem.decode(K)[0];if("PUBLIC KEY"!==ee.type&&"RSA PUBLIC KEY"!==ee.type){var ie=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw ie.headerType=ee.type,ie}if(ee.procType&&"ENCRYPTED"===ee.procType.type)throw new Error("Could not convert public key from PEM; PEM is encrypted.");var T=e.fromDer(ee.body);return v.publicKeyFromAsn1(T)},v.publicKeyToPem=function(K,ee){var ie={type:"PUBLIC KEY",body:e.toDer(v.publicKeyToAsn1(K)).getBytes()};return i.pem.encode(ie,{maxline:ee})},v.publicKeyToRSAPublicKeyPem=function(K,ee){var ie={type:"RSA PUBLIC KEY",body:e.toDer(v.publicKeyToRSAPublicKey(K)).getBytes()};return i.pem.encode(ie,{maxline:ee})},v.getPublicKeyFingerprint=function(K,ee){var ae,ie=(ee=ee||{}).md||i.md.sha1.create();switch(ee.type||"RSAPublicKey"){case"RSAPublicKey":ae=e.toDer(v.publicKeyToRSAPublicKey(K)).getBytes();break;case"SubjectPublicKeyInfo":ae=e.toDer(v.publicKeyToAsn1(K)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+ee.type+'".')}ie.start(),ie.update(ae);var re=ie.digest();if("hex"===ee.encoding){var Me=re.toHex();return ee.delimiter?Me.match(/.{2}/g).join(ee.delimiter):Me}if("binary"===ee.encoding)return re.getBytes();if(ee.encoding)throw new Error('Unknown encoding "'+ee.encoding+'".');return re},v.certificationRequestFromPem=function(K,ee,ie){var T=i.pem.decode(K)[0];if("CERTIFICATE REQUEST"!==T.type){var ae=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw ae.headerType=T.type,ae}if(T.procType&&"ENCRYPTED"===T.procType.type)throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var re=e.fromDer(T.body,ie);return v.certificationRequestFromAsn1(re,ee)},v.certificationRequestToPem=function(K,ee){var ie={type:"CERTIFICATE REQUEST",body:e.toDer(v.certificationRequestToAsn1(K)).getBytes()};return i.pem.encode(ie,{maxline:ee})},v.createCertificate=function(){var K={version:2,serialNumber:"00",signatureOid:null,signature:null,siginfo:{}};return K.siginfo.algorithmOid=null,K.validity={},K.validity.notBefore=new Date,K.validity.notAfter=new Date,K.issuer={},K.issuer.getField=function(ee){return F(K.issuer,ee)},K.issuer.addField=function(ee){G([ee]),K.issuer.attributes.push(ee)},K.issuer.attributes=[],K.issuer.hash=null,K.subject={},K.subject.getField=function(ee){return F(K.subject,ee)},K.subject.addField=function(ee){G([ee]),K.subject.attributes.push(ee)},K.subject.attributes=[],K.subject.hash=null,K.extensions=[],K.publicKey=null,K.md=null,K.setSubject=function(ee,ie){G(ee),K.subject.attributes=ee,delete K.subject.uniqueId,ie&&(K.subject.uniqueId=ie),K.subject.hash=null},K.setIssuer=function(ee,ie){G(ee),K.issuer.attributes=ee,delete K.issuer.uniqueId,ie&&(K.issuer.uniqueId=ie),K.issuer.hash=null},K.setExtensions=function(ee){for(var ie=0;ie<ee.length;++ie)x(ee[ie],{cert:K});K.extensions=ee},K.getExtension=function(ee){"string"==typeof ee&&(ee={name:ee});for(var T,ie=null,ae=0;null===ie&&ae<K.extensions.length;++ae)T=K.extensions[ae],(ee.id&&T.id===ee.id||ee.name&&T.name===ee.name)&&(ie=T);return ie},K.sign=function(ee,ie){K.md=ie||i.md.sha1.create();var T=y[K.md.algorithm+"WithRSAEncryption"];if(!T){var ae=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw ae.algorithm=K.md.algorithm,ae}K.signatureOid=K.siginfo.algorithmOid=T,K.tbsCertificate=v.getTBSCertificate(K);var re=e.toDer(K.tbsCertificate);K.md.update(re.getBytes()),K.signature=ee.sign(K.md)},K.verify=function(ee){var ie=!1;if(!K.issued(ee)){var T=ee.issuer,ae=K.subject,re=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");throw re.expectedIssuer=ae.attributes,re.actualIssuer=T.attributes,re}var Me=ee.md;if(null===Me){Me=_({signatureOid:ee.signatureOid,type:"certificate"});var Qe=ee.tbsCertificate||v.getTBSCertificate(ee),Le=e.toDer(Qe);Me.update(Le.getBytes())}return null!==Me&&(ie=M({certificate:K,md:Me,signature:ee.signature})),ie},K.isIssuer=function(ee){var ie=!1,T=K.issuer,ae=ee.subject;if(T.hash&&ae.hash)ie=T.hash===ae.hash;else if(T.attributes.length===ae.attributes.length){ie=!0;for(var re,Me,Qe=0;ie&&Qe<T.attributes.length;++Qe)((re=T.attributes[Qe]).type!==(Me=ae.attributes[Qe]).type||re.value!==Me.value)&&(ie=!1)}return ie},K.issued=function(ee){return ee.isIssuer(K)},K.generateSubjectKeyIdentifier=function(){return v.getPublicKeyFingerprint(K.publicKey,{type:"RSAPublicKey"})},K.verifySubjectKeyIdentifier=function(){for(var ee=y.subjectKeyIdentifier,ie=0;ie<K.extensions.length;++ie){var T=K.extensions[ie];if(T.id===ee){var ae=K.generateSubjectKeyIdentifier().getBytes();return i.util.hexToBytes(T.subjectKeyIdentifier)===ae}}return!1},K},v.certificateFromAsn1=function(K,ee){var ie={},T=[];if(!e.validate(K,D,ie,T)){var ae=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");throw ae.errors=T,ae}if(e.derToOid(ie.publicKeyOid)!==v.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var Me=v.createCertificate();Me.version=ie.certVersion?ie.certVersion.charCodeAt(0):0;var Qe=i.util.createBuffer(ie.certSerialNumber);Me.serialNumber=Qe.toHex(),Me.signatureOid=i.asn1.derToOid(ie.certSignatureOid),Me.signatureParameters=L(Me.signatureOid,ie.certSignatureParams,!0),Me.siginfo.algorithmOid=i.asn1.derToOid(ie.certinfoSignatureOid),Me.siginfo.parameters=L(Me.siginfo.algorithmOid,ie.certinfoSignatureParams,!1),Me.signature=ie.certSignature;var Le=[];if(void 0!==ie.certValidity1UTCTime&&Le.push(e.utcTimeToDate(ie.certValidity1UTCTime)),void 0!==ie.certValidity2GeneralizedTime&&Le.push(e.generalizedTimeToDate(ie.certValidity2GeneralizedTime)),void 0!==ie.certValidity3UTCTime&&Le.push(e.utcTimeToDate(ie.certValidity3UTCTime)),void 0!==ie.certValidity4GeneralizedTime&&Le.push(e.generalizedTimeToDate(ie.certValidity4GeneralizedTime)),Le.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(Le.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(Me.validity.notBefore=Le[0],Me.validity.notAfter=Le[1],Me.tbsCertificate=ie.tbsCertificate,ee){Me.md=_({signatureOid:Me.signatureOid,type:"certificate"});var Ne=e.toDer(Me.tbsCertificate);Me.md.update(Ne.getBytes())}var Je=i.md.sha1.create(),Ee=e.toDer(ie.certIssuer);Je.update(Ee.getBytes()),Me.issuer.getField=function(Oe){return F(Me.issuer,Oe)},Me.issuer.addField=function(Oe){G([Oe]),Me.issuer.attributes.push(Oe)},Me.issuer.attributes=v.RDNAttributesAsArray(ie.certIssuer),ie.certIssuerUniqueId&&(Me.issuer.uniqueId=ie.certIssuerUniqueId),Me.issuer.hash=Je.digest().toHex();var be=i.md.sha1.create(),se=e.toDer(ie.certSubject);return be.update(se.getBytes()),Me.subject.getField=function(Oe){return F(Me.subject,Oe)},Me.subject.addField=function(Oe){G([Oe]),Me.subject.attributes.push(Oe)},Me.subject.attributes=v.RDNAttributesAsArray(ie.certSubject),ie.certSubjectUniqueId&&(Me.subject.uniqueId=ie.certSubjectUniqueId),Me.subject.hash=be.digest().toHex(),Me.extensions=ie.certExtensions?v.certificateExtensionsFromAsn1(ie.certExtensions):[],Me.publicKey=v.publicKeyFromAsn1(ie.subjectPublicKeyInfo),Me},v.certificateExtensionsFromAsn1=function(K){for(var ee=[],ie=0;ie<K.value.length;++ie)for(var T=K.value[ie],ae=0;ae<T.value.length;++ae)ee.push(v.certificateExtensionFromAsn1(T.value[ae]));return ee},v.certificateExtensionFromAsn1=function(K){var ee={};if(ee.id=e.derToOid(K.value[0].value),ee.critical=!1,K.value[1].type===e.Type.BOOLEAN?(ee.critical=0!==K.value[1].value.charCodeAt(0),ee.value=K.value[2].value):ee.value=K.value[1].value,ee.id in y)if(ee.name=y[ee.id],"keyUsage"===ee.name){var T=0,ae=0;(ie=e.fromDer(ee.value)).value.length>1&&(T=ie.value.charCodeAt(1),ae=ie.value.length>2?ie.value.charCodeAt(2):0),ee.digitalSignature=!(128&~T),ee.nonRepudiation=!(64&~T),ee.keyEncipherment=!(32&~T),ee.dataEncipherment=!(16&~T),ee.keyAgreement=!(8&~T),ee.keyCertSign=!(4&~T),ee.cRLSign=!(2&~T),ee.encipherOnly=!(1&~T),ee.decipherOnly=!(128&~ae)}else if("basicConstraints"===ee.name){var ie=e.fromDer(ee.value);ee.cA=ie.value.length>0&&ie.value[0].type===e.Type.BOOLEAN&&0!==ie.value[0].value.charCodeAt(0);var re=null;ie.value.length>0&&ie.value[0].type===e.Type.INTEGER?re=ie.value[0].value:ie.value.length>1&&(re=ie.value[1].value),null!==re&&(ee.pathLenConstraint=e.derToInteger(re))}else if("extKeyUsage"===ee.name){ie=e.fromDer(ee.value);for(var Me=0;Me<ie.value.length;++Me){var Qe=e.derToOid(ie.value[Me].value);Qe in y?ee[y[Qe]]=!0:ee[Qe]=!0}}else if("nsCertType"===ee.name)T=0,(ie=e.fromDer(ee.value)).value.length>1&&(T=ie.value.charCodeAt(1)),ee.client=!(128&~T),ee.server=!(64&~T),ee.email=!(32&~T),ee.objsign=!(16&~T),ee.reserved=!(8&~T),ee.sslCA=!(4&~T),ee.emailCA=!(2&~T),ee.objCA=!(1&~T);else if("subjectAltName"===ee.name||"issuerAltName"===ee.name){ee.altNames=[],ie=e.fromDer(ee.value);for(var Le,Ne=0;Ne<ie.value.length;++Ne){var Je={type:(Le=ie.value[Ne]).type,value:Le.value};switch(ee.altNames.push(Je),Le.type){case 1:case 2:case 6:break;case 7:Je.ip=i.util.bytesToIP(Le.value);break;case 8:Je.oid=e.derToOid(Le.value)}}}else"subjectKeyIdentifier"===ee.name&&(ie=e.fromDer(ee.value),ee.subjectKeyIdentifier=i.util.bytesToHex(ie.value));return ee},v.certificationRequestFromAsn1=function(K,ee){var ie={},T=[];if(!e.validate(K,E,ie,T)){var ae=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");throw ae.errors=T,ae}if(e.derToOid(ie.publicKeyOid)!==v.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var Me=v.createCertificationRequest();if(Me.version=ie.csrVersion?ie.csrVersion.charCodeAt(0):0,Me.signatureOid=i.asn1.derToOid(ie.csrSignatureOid),Me.signatureParameters=L(Me.signatureOid,ie.csrSignatureParams,!0),Me.siginfo.algorithmOid=i.asn1.derToOid(ie.csrSignatureOid),Me.siginfo.parameters=L(Me.siginfo.algorithmOid,ie.csrSignatureParams,!1),Me.signature=ie.csrSignature,Me.certificationRequestInfo=ie.certificationRequestInfo,ee){Me.md=_({signatureOid:Me.signatureOid,type:"certification request"});var Qe=e.toDer(Me.certificationRequestInfo);Me.md.update(Qe.getBytes())}var Le=i.md.sha1.create();return Me.subject.getField=function(Ne){return F(Me.subject,Ne)},Me.subject.addField=function(Ne){G([Ne]),Me.subject.attributes.push(Ne)},Me.subject.attributes=v.RDNAttributesAsArray(ie.certificationRequestInfoSubject,Le),Me.subject.hash=Le.digest().toHex(),Me.publicKey=v.publicKeyFromAsn1(ie.subjectPublicKeyInfo),Me.getAttribute=function(Ne){return F(Me,Ne)},Me.addAttribute=function(Ne){G([Ne]),Me.attributes.push(Ne)},Me.attributes=v.CRIAttributesAsArray(ie.certificationRequestInfoAttributes||[]),Me},v.createCertificationRequest=function(){var K={version:0,signatureOid:null,signature:null,siginfo:{}};return K.siginfo.algorithmOid=null,K.subject={},K.subject.getField=function(ee){return F(K.subject,ee)},K.subject.addField=function(ee){G([ee]),K.subject.attributes.push(ee)},K.subject.attributes=[],K.subject.hash=null,K.publicKey=null,K.attributes=[],K.getAttribute=function(ee){return F(K,ee)},K.addAttribute=function(ee){G([ee]),K.attributes.push(ee)},K.md=null,K.setSubject=function(ee){G(ee),K.subject.attributes=ee,K.subject.hash=null},K.setAttributes=function(ee){G(ee),K.attributes=ee},K.sign=function(ee,ie){K.md=ie||i.md.sha1.create();var T=y[K.md.algorithm+"WithRSAEncryption"];if(!T){var ae=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw ae.algorithm=K.md.algorithm,ae}K.signatureOid=K.siginfo.algorithmOid=T,K.certificationRequestInfo=v.getCertificationRequestInfo(K);var re=e.toDer(K.certificationRequestInfo);K.md.update(re.getBytes()),K.signature=ee.sign(K.md)},K.verify=function(){var ee=!1,ie=K.md;if(null===ie){ie=_({signatureOid:K.signatureOid,type:"certification request"});var T=K.certificationRequestInfo||v.getCertificationRequestInfo(K),ae=e.toDer(T);ie.update(ae.getBytes())}return null!==ie&&(ee=M({certificate:K,md:ie,signature:K.signature})),ee},K};var Y=new Date("1950-01-01T00:00:00Z"),le=new Date("2050-01-01T00:00:00Z");function fe(K){return K>=Y&&K<le?e.create(e.Class.UNIVERSAL,e.Type.UTCTIME,!1,e.dateToUtcTime(K)):e.create(e.Class.UNIVERSAL,e.Type.GENERALIZEDTIME,!1,e.dateToGeneralizedTime(K))}v.getTBSCertificate=function(K){var ee=fe(K.validity.notBefore),ie=fe(K.validity.notAfter),T=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(K.version).getBytes())]),e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,i.util.hexToBytes(K.serialNumber)),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(K.siginfo.algorithmOid).getBytes()),V(K.siginfo.algorithmOid,K.siginfo.parameters)]),N(K.issuer),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[ee,ie]),N(K.subject),v.publicKeyToAsn1(K.publicKey)]);return K.issuer.uniqueId&&T.value.push(e.create(e.Class.CONTEXT_SPECIFIC,1,!0,[e.create(e.Class.UNIVERSAL,e.Type.BITSTRING,!1,"\0"+K.issuer.uniqueId)])),K.subject.uniqueId&&T.value.push(e.create(e.Class.CONTEXT_SPECIFIC,2,!0,[e.create(e.Class.UNIVERSAL,e.Type.BITSTRING,!1,"\0"+K.subject.uniqueId)])),K.extensions.length>0&&T.value.push(v.certificateExtensionsToAsn1(K.extensions)),T},v.getCertificationRequestInfo=function(K){return e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(K.version).getBytes()),N(K.subject),v.publicKeyToAsn1(K.publicKey),Q(K)])},v.distinguishedNameToAsn1=function(K){return N(K)},v.certificateToAsn1=function(K){var ee=K.tbsCertificate||v.getTBSCertificate(K);return e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[ee,e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(K.signatureOid).getBytes()),V(K.signatureOid,K.signatureParameters)]),e.create(e.Class.UNIVERSAL,e.Type.BITSTRING,!1,"\0"+K.signature)])},v.certificateExtensionsToAsn1=function(K){var ee=e.create(e.Class.CONTEXT_SPECIFIC,3,!0,[]),ie=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]);ee.value.push(ie);for(var T=0;T<K.length;++T)ie.value.push(v.certificateExtensionToAsn1(K[T]));return ee},v.certificateExtensionToAsn1=function(K){var ee=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]);ee.value.push(e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(K.id).getBytes())),K.critical&&ee.value.push(e.create(e.Class.UNIVERSAL,e.Type.BOOLEAN,!1,"\xff"));var ie=K.value;return"string"!=typeof K.value&&(ie=e.toDer(ie).getBytes()),ee.value.push(e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,ie)),ee},v.certificationRequestToAsn1=function(K){var ee=K.certificationRequestInfo||v.getCertificationRequestInfo(K);return e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[ee,e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(K.signatureOid).getBytes()),V(K.signatureOid,K.signatureParameters)]),e.create(e.Class.UNIVERSAL,e.Type.BITSTRING,!1,"\0"+K.signature)])},v.createCaStore=function(K){var ee={certs:{}};function ie(Me){return T(Me),ee.certs[Me.hash]||null}function T(Me){if(!Me.hash){var Qe=i.md.sha1.create();Me.attributes=v.RDNAttributesAsArray(N(Me),Qe),Me.hash=Qe.digest().toHex()}}if(ee.getIssuer=function(Me){return ie(Me.issuer)},ee.addCertificate=function(Me){if("string"==typeof Me&&(Me=i.pki.certificateFromPem(Me)),T(Me.subject),!ee.hasCertificate(Me))if(Me.subject.hash in ee.certs){var Qe=ee.certs[Me.subject.hash];i.util.isArray(Qe)||(Qe=[Qe]),Qe.push(Me),ee.certs[Me.subject.hash]=Qe}else ee.certs[Me.subject.hash]=Me},ee.hasCertificate=function(Me){"string"==typeof Me&&(Me=i.pki.certificateFromPem(Me));var Qe=ie(Me.subject);if(!Qe)return!1;i.util.isArray(Qe)||(Qe=[Qe]);for(var Le=e.toDer(v.certificateToAsn1(Me)).getBytes(),Ne=0;Ne<Qe.length;++Ne)if(Le===e.toDer(v.certificateToAsn1(Qe[Ne])).getBytes())return!0;return!1},ee.listAllCertificates=function(){var Me=[];for(var Qe in ee.certs)if(ee.certs.hasOwnProperty(Qe)){var Le=ee.certs[Qe];if(i.util.isArray(Le))for(var Ne=0;Ne<Le.length;++Ne)Me.push(Le[Ne]);else Me.push(Le)}return Me},ee.removeCertificate=function(Me){var Qe;if("string"==typeof Me&&(Me=i.pki.certificateFromPem(Me)),T(Me.subject),!ee.hasCertificate(Me))return null;var Le=ie(Me.subject);if(!i.util.isArray(Le))return Qe=ee.certs[Me.subject.hash],delete ee.certs[Me.subject.hash],Qe;for(var Ne=e.toDer(v.certificateToAsn1(Me)).getBytes(),Je=0;Je<Le.length;++Je)Ne===e.toDer(v.certificateToAsn1(Le[Je])).getBytes()&&(Qe=Le[Je],Le.splice(Je,1));return 0===Le.length&&delete ee.certs[Me.subject.hash],Qe},K)for(var ae=0;ae<K.length;++ae)ee.addCertificate(K[ae]);return ee},v.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"},v.verifyCertificateChain=function(K,ee,ie){"function"==typeof ie&&(ie={verify:ie}),ie=ie||{};var T=(ee=ee.slice(0)).slice(0),ae=ie.validityCheckDate;typeof ae>"u"&&(ae=new Date);var re=!0,Me=null,Qe=0;do{var Le=ee.shift(),Ne=null,Je=!1;if(ae&&(ae<Le.validity.notBefore||ae>Le.validity.notAfter)&&(Me={message:"Certificate is not valid yet or has expired.",error:v.certificateError.certificate_expired,notBefore:Le.validity.notBefore,notAfter:Le.validity.notAfter,now:ae}),null===Me){if(null===(Ne=ee[0]||K.getIssuer(Le))&&Le.isIssuer(Le)&&(Je=!0,Ne=Le),Ne){var Ee=Ne;i.util.isArray(Ee)||(Ee=[Ee]);for(var be=!1;!be&&Ee.length>0;){Ne=Ee.shift();try{be=Ne.verify(Le)}catch{}}be||(Me={message:"Certificate signature is invalid.",error:v.certificateError.bad_certificate})}null===Me&&(!Ne||Je)&&!K.hasCertificate(Le)&&(Me={message:"Certificate is not trusted.",error:v.certificateError.unknown_ca})}if(null===Me&&Ne&&!Le.isIssuer(Ne)&&(Me={message:"Certificate issuer is invalid.",error:v.certificateError.bad_certificate}),null===Me)for(var se={keyUsage:!0,basicConstraints:!0},Oe=0;null===Me&&Oe<Le.extensions.length;++Oe){var Ie=Le.extensions[Oe];Ie.critical&&!(Ie.name in se)&&(Me={message:"Certificate has an unsupported critical extension.",error:v.certificateError.unsupported_certificate})}if(null===Me&&(!re||0===ee.length&&(!Ne||Je))){var it=Le.getExtension("basicConstraints"),xe=Le.getExtension("keyUsage");null!==xe&&(!xe.keyCertSign||null===it)&&(Me={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:v.certificateError.bad_certificate}),null===Me&&null!==it&&!it.cA&&(Me={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:v.certificateError.bad_certificate}),null===Me&&null!==xe&&"pathLenConstraint"in it&&Qe-1>it.pathLenConstraint&&(Me={message:"Certificate basicConstraints pathLenConstraint violated.",error:v.certificateError.bad_certificate})}var vt=null===Me||Me.error,hn=ie.verify?ie.verify(vt,Qe,T):vt;if(!0!==hn)throw!0===vt&&(Me={message:"The application rejected the certificate.",error:v.certificateError.bad_certificate}),(hn||0===hn)&&("object"!=typeof hn||i.util.isArray(hn)?"string"==typeof hn&&(Me.error=hn):(hn.message&&(Me.message=hn.message),hn.error&&(Me.error=hn.error))),Me;Me=null,re=!1,++Qe}while(ee.length>0);return!0}},4531:(lt,we,p)=>{"use strict";we.hc=void 0;const e=p(2114);we.hc=(w,I)=>{const D=e.asn1.fromDer(w.toString("binary")),f=e.pkcs12.pkcs12FromAsn1(D,!1,I).getBags({bagType:e.pki.oids.certBag});if(!f||!f?.[e.pki.oids.certBag]?.[0])throw new Error("Unable to parse certificate. Incorrect Password?");return f[e.pki.oids.certBag][0]}},5955:(lt,we)=>{"use strict";class e{static isArrayBuffer(M){return"[object ArrayBuffer]"===Object.prototype.toString.call(M)}static toArrayBuffer(M){return this.isArrayBuffer(M)?M:M.byteLength===M.buffer.byteLength||0===M.byteOffset&&M.byteLength===M.buffer.byteLength?M.buffer:this.toUint8Array(M.buffer).slice(M.byteOffset,M.byteOffset+M.byteLength).buffer}static toUint8Array(M){return this.toView(M,Uint8Array)}static toView(M,N){if(M.constructor===N)return M;if(this.isArrayBuffer(M))return new N(M);if(this.isArrayBufferView(M))return new N(M.buffer,M.byteOffset,M.byteLength);throw new TypeError("The provided value is not of type '(ArrayBuffer or ArrayBufferView)'")}static isBufferSource(M){return this.isArrayBufferView(M)||this.isArrayBuffer(M)}static isArrayBufferView(M){return ArrayBuffer.isView(M)||M&&this.isArrayBuffer(M.buffer)}static isEqual(M,N){const P=e.toUint8Array(M),G=e.toUint8Array(N);if(P.length!==G.byteLength)return!1;for(let x=0;x<P.length;x++)if(P[x]!==G[x])return!1;return!0}static concat(...M){let N;N=Array.isArray(M[0])&&!(M[1]instanceof Function)||Array.isArray(M[0])&&M[1]instanceof Function?M[0]:M[M.length-1]instanceof Function?M.slice(0,M.length-1):M;let P=0;for(const V of N)P+=V.byteLength;const G=new Uint8Array(P);let x=0;for(const V of N){const Q=this.toUint8Array(V);G.set(Q,x),x+=Q.length}return M[M.length-1]instanceof Function?this.toView(G,M[M.length-1]):G.buffer}}const v="string",y=/^[0-9a-f]+$/i,w=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/,I=/^[a-zA-Z0-9-_]+$/;class D{static fromString(M){const N=unescape(encodeURIComponent(M)),P=new Uint8Array(N.length);for(let G=0;G<N.length;G++)P[G]=N.charCodeAt(G);return P.buffer}static toString(M){const N=e.toUint8Array(M);let P="";for(let x=0;x<N.length;x++)P+=String.fromCharCode(N[x]);return decodeURIComponent(escape(P))}}class h{static toString(M,N=!1){const P=e.toArrayBuffer(M),G=new DataView(P);let x="";for(let V=0;V<P.byteLength;V+=2){const Q=G.getUint16(V,N);x+=String.fromCharCode(Q)}return x}static fromString(M,N=!1){const P=new ArrayBuffer(2*M.length),G=new DataView(P);for(let x=0;x<M.length;x++)G.setUint16(2*x,M.charCodeAt(x),N);return P}}let f=(()=>{class _{static isHex(N){return typeof N===v&&y.test(N)}static isBase64(N){return typeof N===v&&w.test(N)}static isBase64Url(N){return typeof N===v&&I.test(N)}static ToString(N,P="utf8"){const G=e.toUint8Array(N);switch(P.toLowerCase()){case"utf8":return this.ToUtf8String(G);case"binary":return this.ToBinary(G);case"hex":return this.ToHex(G);case"base64":return this.ToBase64(G);case"base64url":return this.ToBase64Url(G);case"utf16le":return h.toString(G,!0);case"utf16":case"utf16be":return h.toString(G);default:throw new Error(`Unknown type of encoding '${P}'`)}}static FromString(N,P="utf8"){if(!N)return new ArrayBuffer(0);switch(P.toLowerCase()){case"utf8":return this.FromUtf8String(N);case"binary":return this.FromBinary(N);case"hex":return this.FromHex(N);case"base64":return this.FromBase64(N);case"base64url":return this.FromBase64Url(N);case"utf16le":return h.fromString(N,!0);case"utf16":case"utf16be":return h.fromString(N);default:throw new Error(`Unknown type of encoding '${P}'`)}}static ToBase64(N){const P=e.toUint8Array(N);if(typeof btoa<"u"){const G=this.ToString(P,"binary");return btoa(G)}return Buffer.from(P).toString("base64")}static FromBase64(N){const P=this.formatString(N);if(!P)return new ArrayBuffer(0);if(!_.isBase64(P))throw new TypeError("Argument 'base64Text' is not Base64 encoded");return typeof atob<"u"?this.FromBinary(atob(P)):new Uint8Array(Buffer.from(P,"base64")).buffer}static FromBase64Url(N){const P=this.formatString(N);if(!P)return new ArrayBuffer(0);if(!_.isBase64Url(P))throw new TypeError("Argument 'base64url' is not Base64Url encoded");return this.FromBase64(this.Base64Padding(P.replace(/\-/g,"+").replace(/\_/g,"/")))}static ToBase64Url(N){return this.ToBase64(N).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}static FromUtf8String(N,P=_.DEFAULT_UTF8_ENCODING){switch(P){case"ascii":return this.FromBinary(N);case"utf8":return D.fromString(N);case"utf16":case"utf16be":return h.fromString(N);case"utf16le":case"usc2":return h.fromString(N,!0);default:throw new Error(`Unknown type of encoding '${P}'`)}}static ToUtf8String(N,P=_.DEFAULT_UTF8_ENCODING){switch(P){case"ascii":return this.ToBinary(N);case"utf8":return D.toString(N);case"utf16":case"utf16be":return h.toString(N);case"utf16le":case"usc2":return h.toString(N,!0);default:throw new Error(`Unknown type of encoding '${P}'`)}}static FromBinary(N){const P=N.length,G=new Uint8Array(P);for(let x=0;x<P;x++)G[x]=N.charCodeAt(x);return G.buffer}static ToBinary(N){const P=e.toUint8Array(N);let G="";for(let x=0;x<P.length;x++)G+=String.fromCharCode(P[x]);return G}static ToHex(N){const P=e.toUint8Array(N);let G="";const x=P.length;for(let V=0;V<x;V++){const Q=P[V];Q<16&&(G+="0"),G+=Q.toString(16)}return G}static FromHex(N){let P=this.formatString(N);if(!P)return new ArrayBuffer(0);if(!_.isHex(P))throw new TypeError("Argument 'hexString' is not HEX encoded");P.length%2&&(P=`0${P}`);const G=new Uint8Array(P.length/2);for(let x=0;x<P.length;x+=2){const V=P.slice(x,x+2);G[x/2]=parseInt(V,16)}return G.buffer}static ToUtf16String(N,P=!1){return h.toString(N,P)}static FromUtf16String(N,P=!1){return h.fromString(N,P)}static Base64Padding(N){const P=4-N.length%4;if(P<4)for(let G=0;G<P;G++)N+="=";return N}static formatString(N){return N?.replace(/[\n\r\t ]/g,"")||""}}return _.DEFAULT_UTF8_ENCODING="utf8",_})();we._H=e,we.U$=f},4412:(lt,we,p)=>{"use strict";p.d(we,{t:()=>e});var i=p(1413);class e extends i.B{constructor(y){super(),this._value=y}get value(){return this.getValue()}_subscribe(y){const w=super._subscribe(y);return!w.closed&&y.next(this._value),w}getValue(){const{hasError:y,thrownError:w,_value:I}=this;if(y)throw w;return this._throwIfClosed(),I}next(y){super.next(this._value=y)}}},1985:(lt,we,p)=>{"use strict";p.d(we,{c:()=>h});var i=p(7707),e=p(8359),v=p(3494),y=p(1203),w=p(1026),I=p(8071),D=p(9786);let h=(()=>{class L{constructor(M){M&&(this._subscribe=M)}lift(M){const N=new L;return N.source=this,N.operator=M,N}subscribe(M,N,P){const G=function F(L){return L&&L instanceof i.vU||function E(L){return L&&(0,I.T)(L.next)&&(0,I.T)(L.error)&&(0,I.T)(L.complete)}(L)&&(0,e.Uv)(L)}(M)?M:new i.Ms(M,N,P);return(0,D.Y)(()=>{const{operator:x,source:V}=this;G.add(x?x.call(G,V):V?this._subscribe(G):this._trySubscribe(G))}),G}_trySubscribe(M){try{return this._subscribe(M)}catch(N){M.error(N)}}forEach(M,N){return new(N=f(N))((P,G)=>{const x=new i.Ms({next:V=>{try{M(V)}catch(Q){G(Q),x.unsubscribe()}},error:G,complete:P});this.subscribe(x)})}_subscribe(M){var N;return null===(N=this.source)||void 0===N?void 0:N.subscribe(M)}[v.s](){return this}pipe(...M){return(0,y.m)(M)(this)}toPromise(M){return new(M=f(M))((N,P)=>{let G;this.subscribe(x=>G=x,x=>P(x),()=>N(G))})}}return L.create=_=>new L(_),L})();function f(L){var _;return null!==(_=L??w.$.Promise)&&void 0!==_?_:Promise}},2771:(lt,we,p)=>{"use strict";p.d(we,{m:()=>v});var i=p(1413),e=p(6129);class v extends i.B{constructor(w=1/0,I=1/0,D=e.U){super(),this._bufferSize=w,this._windowTime=I,this._timestampProvider=D,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=I===1/0,this._bufferSize=Math.max(1,w),this._windowTime=Math.max(1,I)}next(w){const{isStopped:I,_buffer:D,_infiniteTimeWindow:h,_timestampProvider:f,_windowTime:E}=this;I||(D.push(w),!h&&D.push(f.now()+E)),this._trimBuffer(),super.next(w)}_subscribe(w){this._throwIfClosed(),this._trimBuffer();const I=this._innerSubscribe(w),{_infiniteTimeWindow:D,_buffer:h}=this,f=h.slice();for(let E=0;E<f.length&&!w.closed;E+=D?1:2)w.next(f[E]);return this._checkFinalizedStatuses(w),I}_trimBuffer(){const{_bufferSize:w,_timestampProvider:I,_buffer:D,_infiniteTimeWindow:h}=this,f=(h?1:2)*w;if(w<1/0&&f<D.length&&D.splice(0,D.length-f),!h){const E=I.now();let F=0;for(let L=1;L<D.length&&D[L]<=E;L+=2)F=L;F&&D.splice(0,F+1)}}}},1413:(lt,we,p)=>{"use strict";p.d(we,{B:()=>D});var i=p(1985),e=p(8359);const y=(0,p(1853).L)(f=>function(){f(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var w=p(7908),I=p(9786);let D=(()=>{class f extends i.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(F){const L=new h(this,this);return L.operator=F,L}_throwIfClosed(){if(this.closed)throw new y}next(F){(0,I.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const L of this.currentObservers)L.next(F)}})}error(F){(0,I.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=F;const{observers:L}=this;for(;L.length;)L.shift().error(F)}})}complete(){(0,I.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:F}=this;for(;F.length;)F.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var F;return(null===(F=this.observers)||void 0===F?void 0:F.length)>0}_trySubscribe(F){return this._throwIfClosed(),super._trySubscribe(F)}_subscribe(F){return this._throwIfClosed(),this._checkFinalizedStatuses(F),this._innerSubscribe(F)}_innerSubscribe(F){const{hasError:L,isStopped:_,observers:M}=this;return L||_?e.Kn:(this.currentObservers=null,M.push(F),new e.yU(()=>{this.currentObservers=null,(0,w.o)(M,F)}))}_checkFinalizedStatuses(F){const{hasError:L,thrownError:_,isStopped:M}=this;L?F.error(_):M&&F.complete()}asObservable(){const F=new i.c;return F.source=this,F}}return f.create=(E,F)=>new h(E,F),f})();class h extends D{constructor(E,F){super(),this.destination=E,this.source=F}next(E){var F,L;null===(L=null===(F=this.destination)||void 0===F?void 0:F.next)||void 0===L||L.call(F,E)}error(E){var F,L;null===(L=null===(F=this.destination)||void 0===F?void 0:F.error)||void 0===L||L.call(F,E)}complete(){var E,F;null===(F=null===(E=this.destination)||void 0===E?void 0:E.complete)||void 0===F||F.call(E)}_subscribe(E){var F,L;return null!==(L=null===(F=this.source)||void 0===F?void 0:F.subscribe(E))&&void 0!==L?L:e.Kn}}},7707:(lt,we,p)=>{"use strict";p.d(we,{Ms:()=>P,vU:()=>L});var i=p(8071),e=p(8359),v=p(1026),y=p(5334),w=p(5343);const I=f("C",void 0,void 0);function f(Y,le,fe){return{kind:Y,value:le,error:fe}}var E=p(9270),F=p(9786);class L extends e.yU{constructor(le){super(),this.isStopped=!1,le?(this.destination=le,(0,e.Uv)(le)&&le.add(this)):this.destination=Q}static create(le,fe,K){return new P(le,fe,K)}next(le){this.isStopped?V(function h(Y){return f("N",Y,void 0)}(le),this):this._next(le)}error(le){this.isStopped?V(function D(Y){return f("E",void 0,Y)}(le),this):(this.isStopped=!0,this._error(le))}complete(){this.isStopped?V(I,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(le){this.destination.next(le)}_error(le){try{this.destination.error(le)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const _=Function.prototype.bind;function M(Y,le){return _.call(Y,le)}class N{constructor(le){this.partialObserver=le}next(le){const{partialObserver:fe}=this;if(fe.next)try{fe.next(le)}catch(K){G(K)}}error(le){const{partialObserver:fe}=this;if(fe.error)try{fe.error(le)}catch(K){G(K)}else G(le)}complete(){const{partialObserver:le}=this;if(le.complete)try{le.complete()}catch(fe){G(fe)}}}class P extends L{constructor(le,fe,K){let ee;if(super(),(0,i.T)(le)||!le)ee={next:le??void 0,error:fe??void 0,complete:K??void 0};else{let ie;this&&v.$.useDeprecatedNextContext?(ie=Object.create(le),ie.unsubscribe=()=>this.unsubscribe(),ee={next:le.next&&M(le.next,ie),error:le.error&&M(le.error,ie),complete:le.complete&&M(le.complete,ie)}):ee=le}this.destination=new N(ee)}}function G(Y){v.$.useDeprecatedSynchronousErrorHandling?(0,F.l)(Y):(0,y.m)(Y)}function V(Y,le){const{onStoppedNotification:fe}=v.$;fe&&E.f.setTimeout(()=>fe(Y,le))}const Q={closed:!0,next:w.l,error:function x(Y){throw Y},complete:w.l}},8359:(lt,we,p)=>{"use strict";p.d(we,{Kn:()=>I,yU:()=>w,Uv:()=>D});var i=p(8071);const v=(0,p(1853).L)(f=>function(F){f(this),this.message=F?`${F.length} errors occurred during unsubscription:\n${F.map((L,_)=>`${_+1}) ${L.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=F});var y=p(7908);class w{constructor(E){this.initialTeardown=E,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let E;if(!this.closed){this.closed=!0;const{_parentage:F}=this;if(F)if(this._parentage=null,Array.isArray(F))for(const M of F)M.remove(this);else F.remove(this);const{initialTeardown:L}=this;if((0,i.T)(L))try{L()}catch(M){E=M instanceof v?M.errors:[M]}const{_finalizers:_}=this;if(_){this._finalizers=null;for(const M of _)try{h(M)}catch(N){E=E??[],N instanceof v?E=[...E,...N.errors]:E.push(N)}}if(E)throw new v(E)}}add(E){var F;if(E&&E!==this)if(this.closed)h(E);else{if(E instanceof w){if(E.closed||E._hasParent(this))return;E._addParent(this)}(this._finalizers=null!==(F=this._finalizers)&&void 0!==F?F:[]).push(E)}}_hasParent(E){const{_parentage:F}=this;return F===E||Array.isArray(F)&&F.includes(E)}_addParent(E){const{_parentage:F}=this;this._parentage=Array.isArray(F)?(F.push(E),F):F?[F,E]:E}_removeParent(E){const{_parentage:F}=this;F===E?this._parentage=null:Array.isArray(F)&&(0,y.o)(F,E)}remove(E){const{_finalizers:F}=this;F&&(0,y.o)(F,E),E instanceof w&&E._removeParent(this)}}w.EMPTY=(()=>{const f=new w;return f.closed=!0,f})();const I=w.EMPTY;function D(f){return f instanceof w||f&&"closed"in f&&(0,i.T)(f.remove)&&(0,i.T)(f.add)&&(0,i.T)(f.unsubscribe)}function h(f){(0,i.T)(f)?f():f.unsubscribe()}},1026:(lt,we,p)=>{"use strict";p.d(we,{$:()=>i});const i={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4572:(lt,we,p)=>{"use strict";p.d(we,{P:()=>F,z:()=>E});var i=p(1985),e=p(3073),v=p(6648),y=p(3669),w=p(6450),I=p(9326),D=p(8496),h=p(4360),f=p(5225);function E(..._){const M=(0,I.lI)(_),N=(0,I.ms)(_),{args:P,keys:G}=(0,e.D)(_);if(0===P.length)return(0,v.H)([],M);const x=new i.c(F(P,M,G?V=>(0,D.e)(G,V):y.D));return N?x.pipe((0,w.I)(N)):x}function F(_,M,N=y.D){return P=>{L(M,()=>{const{length:G}=_,x=new Array(G);let V=G,Q=G;for(let Y=0;Y<G;Y++)L(M,()=>{const le=(0,v.H)(_[Y],M);let fe=!1;le.subscribe((0,h._)(P,K=>{x[Y]=K,fe||(fe=!0,Q--),Q||P.next(N(x.slice()))},()=>{--V||P.complete()}))},P)},P)}}function L(_,M,N){_?(0,f.N)(N,_,M):M()}},8793:(lt,we,p)=>{"use strict";p.d(we,{x:()=>w});var i=p(6365),v=p(9326),y=p(6648);function w(...I){return function e(){return(0,i.U)(1)}()((0,y.H)(I,(0,v.lI)(I)))}},9030:(lt,we,p)=>{"use strict";p.d(we,{v:()=>v});var i=p(1985),e=p(8750);function v(y){return new i.c(w=>{(0,e.Tg)(y()).subscribe(w)})}},983:(lt,we,p)=>{"use strict";p.d(we,{I:()=>v,w:()=>e});var i=p(1985);const e=new i.c(w=>w.complete());function v(w){return w?function y(w){return new i.c(I=>w.schedule(()=>I.complete()))}(w):e}},7468:(lt,we,p)=>{"use strict";p.d(we,{p:()=>h});var i=p(1985),e=p(3073),v=p(8750),y=p(9326),w=p(4360),I=p(6450),D=p(8496);function h(...f){const E=(0,y.ms)(f),{args:F,keys:L}=(0,e.D)(f),_=new i.c(M=>{const{length:N}=F;if(!N)return void M.complete();const P=new Array(N);let G=N,x=N;for(let V=0;V<N;V++){let Q=!1;(0,v.Tg)(F[V]).subscribe((0,w._)(M,Y=>{Q||(Q=!0,x--),P[V]=Y},()=>G--,void 0,()=>{(!G||!Q)&&(x||M.next(L?(0,D.e)(L,P):P),M.complete())}))}});return E?_.pipe((0,I.I)(E)):_}},6648:(lt,we,p)=>{"use strict";p.d(we,{H:()=>K});var i=p(8750),e=p(5225),v=p(9974),y=p(4360);function w(ee,ie=0){return(0,v.N)((T,ae)=>{T.subscribe((0,y._)(ae,re=>(0,e.N)(ae,ee,()=>ae.next(re),ie),()=>(0,e.N)(ae,ee,()=>ae.complete(),ie),re=>(0,e.N)(ae,ee,()=>ae.error(re),ie)))})}function I(ee,ie=0){return(0,v.N)((T,ae)=>{ae.add(ee.schedule(()=>T.subscribe(ae),ie))})}var f=p(1985),F=p(4761),L=p(8071);function M(ee,ie){if(!ee)throw new Error("Iterable cannot be null");return new f.c(T=>{(0,e.N)(T,ie,()=>{const ae=ee[Symbol.asyncIterator]();(0,e.N)(T,ie,()=>{ae.next().then(re=>{re.done?T.complete():T.next(re.value)})},0,!0)})})}var N=p(5055),P=p(9858),G=p(7441),x=p(5397),V=p(7953),Q=p(591),Y=p(5196);function K(ee,ie){return ie?function fe(ee,ie){if(null!=ee){if((0,N.l)(ee))return function D(ee,ie){return(0,i.Tg)(ee).pipe(I(ie),w(ie))}(ee,ie);if((0,G.X)(ee))return function E(ee,ie){return new f.c(T=>{let ae=0;return ie.schedule(function(){ae===ee.length?T.complete():(T.next(ee[ae++]),T.closed||this.schedule())})})}(ee,ie);if((0,P.y)(ee))return function h(ee,ie){return(0,i.Tg)(ee).pipe(I(ie),w(ie))}(ee,ie);if((0,V.T)(ee))return M(ee,ie);if((0,x.x)(ee))return function _(ee,ie){return new f.c(T=>{let ae;return(0,e.N)(T,ie,()=>{ae=ee[F.l](),(0,e.N)(T,ie,()=>{let re,Me;try{({value:re,done:Me}=ae.next())}catch(Qe){return void T.error(Qe)}Me?T.complete():T.next(re)},0,!0)}),()=>(0,L.T)(ae?.return)&&ae.return()})}(ee,ie);if((0,Y.U)(ee))return function le(ee,ie){return M((0,Y.C)(ee),ie)}(ee,ie)}throw(0,Q.L)(ee)}(ee,ie):(0,i.Tg)(ee)}},3726:(lt,we,p)=>{"use strict";p.d(we,{R:()=>E});var i=p(8750),e=p(1985),v=p(1397),y=p(7441),w=p(8071),I=p(6450);const D=["addListener","removeListener"],h=["addEventListener","removeEventListener"],f=["on","off"];function E(N,P,G,x){if((0,w.T)(G)&&(x=G,G=void 0),x)return E(N,P,G).pipe((0,I.I)(x));const[V,Q]=function M(N){return(0,w.T)(N.addEventListener)&&(0,w.T)(N.removeEventListener)}(N)?h.map(Y=>le=>N[Y](P,le,G)):function L(N){return(0,w.T)(N.addListener)&&(0,w.T)(N.removeListener)}(N)?D.map(F(N,P)):function _(N){return(0,w.T)(N.on)&&(0,w.T)(N.off)}(N)?f.map(F(N,P)):[];if(!V&&(0,y.X)(N))return(0,v.Z)(Y=>E(Y,P,G))((0,i.Tg)(N));if(!V)throw new TypeError("Invalid event target");return new e.c(Y=>{const le=(...fe)=>Y.next(1<fe.length?fe:fe[0]);return V(le),()=>Q(le)})}function F(N,P){return G=>x=>N[G](P,x)}},8750:(lt,we,p)=>{"use strict";p.d(we,{Tg:()=>_});var i=p(1635),e=p(7441),v=p(9858),y=p(1985),w=p(5055),I=p(7953),D=p(591),h=p(5397),f=p(5196),E=p(8071),F=p(5334),L=p(3494);function _(Y){if(Y instanceof y.c)return Y;if(null!=Y){if((0,w.l)(Y))return function M(Y){return new y.c(le=>{const fe=Y[L.s]();if((0,E.T)(fe.subscribe))return fe.subscribe(le);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Y);if((0,e.X)(Y))return function N(Y){return new y.c(le=>{for(let fe=0;fe<Y.length&&!le.closed;fe++)le.next(Y[fe]);le.complete()})}(Y);if((0,v.y)(Y))return function P(Y){return new y.c(le=>{Y.then(fe=>{le.closed||(le.next(fe),le.complete())},fe=>le.error(fe)).then(null,F.m)})}(Y);if((0,I.T)(Y))return x(Y);if((0,h.x)(Y))return function G(Y){return new y.c(le=>{for(const fe of Y)if(le.next(fe),le.closed)return;le.complete()})}(Y);if((0,f.U)(Y))return function V(Y){return x((0,f.C)(Y))}(Y)}throw(0,D.L)(Y)}function x(Y){return new y.c(le=>{(function Q(Y,le){var fe,K,ee,ie;return(0,i.sH)(this,void 0,void 0,function*(){try{for(fe=(0,i.xN)(Y);!(K=yield fe.next()).done;)if(le.next(K.value),le.closed)return}catch(T){ee={error:T}}finally{try{K&&!K.done&&(ie=fe.return)&&(yield ie.call(fe))}finally{if(ee)throw ee.error}}le.complete()})})(Y,le).catch(fe=>le.error(fe))})}},7786:(lt,we,p)=>{"use strict";p.d(we,{h:()=>I});var i=p(6365),e=p(8750),v=p(983),y=p(9326),w=p(6648);function I(...D){const h=(0,y.lI)(D),f=(0,y.R0)(D,1/0),E=D;return E.length?1===E.length?(0,e.Tg)(E[0]):(0,i.U)(f)((0,w.H)(E,h)):v.w}},5060:(lt,we,p)=>{"use strict";p.d(we,{t:()=>v});var i=p(1985),e=p(5343);const v=new i.c(e.l)},7673:(lt,we,p)=>{"use strict";p.d(we,{of:()=>v});var i=p(9326),e=p(6648);function v(...y){const w=(0,i.lI)(y);return(0,e.H)(y,w)}},8810:(lt,we,p)=>{"use strict";p.d(we,{$:()=>v});var i=p(1985),e=p(8071);function v(y,w){const I=(0,e.T)(y)?y:()=>y,D=h=>h.error(I());return new i.c(w?h=>w.schedule(D,0,h):D)}},1584:(lt,we,p)=>{"use strict";p.d(we,{O:()=>w});var i=p(1985),e=p(3236),v=p(9470);function w(I=0,D,h=e.b){let f=-1;return null!=D&&((0,v.m)(D)?h=D:f=D),new i.c(E=>{let F=function y(I){return I instanceof Date&&!isNaN(I)}(I)?+I-h.now():I;F<0&&(F=0);let L=0;return h.schedule(function(){E.closed||(E.next(L++),0<=f?this.schedule(void 0,f):E.complete())},F)})}},4360:(lt,we,p)=>{"use strict";p.d(we,{_:()=>e});var i=p(7707);function e(y,w,I,D,h){return new v(y,w,I,D,h)}class v extends i.vU{constructor(w,I,D,h,f,E){super(w),this.onFinalize=f,this.shouldUnsubscribe=E,this._next=I?function(F){try{I(F)}catch(L){w.error(L)}}:super._next,this._error=h?function(F){try{h(F)}catch(L){w.error(L)}finally{this.unsubscribe()}}:super._error,this._complete=D?function(){try{D()}catch(F){w.error(F)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var w;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:I}=this;super.unsubscribe(),!I&&(null===(w=this.onFinalize)||void 0===w||w.call(this))}}}},9437:(lt,we,p)=>{"use strict";p.d(we,{W:()=>y});var i=p(8750),e=p(4360),v=p(9974);function y(w){return(0,v.N)((I,D)=>{let E,h=null,f=!1;h=I.subscribe((0,e._)(D,void 0,void 0,F=>{E=(0,i.Tg)(w(F,y(w)(I))),h?(h.unsubscribe(),h=null,E.subscribe(D)):f=!0})),f&&(h.unsubscribe(),h=null,E.subscribe(D))})}},274:(lt,we,p)=>{"use strict";p.d(we,{H:()=>v});var i=p(1397),e=p(8071);function v(y,w){return(0,e.T)(w)?(0,i.Z)(y,w,1):(0,i.Z)(y,1)}},152:(lt,we,p)=>{"use strict";p.d(we,{B:()=>y});var i=p(3236),e=p(9974),v=p(4360);function y(w,I=i.E){return(0,e.N)((D,h)=>{let f=null,E=null,F=null;const L=()=>{if(f){f.unsubscribe(),f=null;const M=E;E=null,h.next(M)}};function _(){const M=F+w,N=I.now();if(N<M)return f=this.schedule(void 0,M-N),void h.add(f);L()}D.subscribe((0,v._)(h,M=>{E=M,F=I.now(),f||(f=I.schedule(_,w),h.add(f))},()=>{L(),h.complete()},void 0,()=>{E=f=null}))})}},9901:(lt,we,p)=>{"use strict";p.d(we,{U:()=>v});var i=p(9974),e=p(4360);function v(y){return(0,i.N)((w,I)=>{let D=!1;w.subscribe((0,e._)(I,h=>{D=!0,I.next(h)},()=>{D||I.next(y),I.complete()}))})}},1986:(lt,we,p)=>{"use strict";p.d(we,{c:()=>_});var i=p(3236),e=p(8793),v=p(6697),y=p(9974),w=p(4360),I=p(5343),h=p(3703),f=p(1397),E=p(8750);function F(M,N){return N?P=>(0,e.x)(N.pipe((0,v.s)(1),function D(){return(0,y.N)((M,N)=>{M.subscribe((0,w._)(N,I.l))})}()),P.pipe(F(M))):(0,f.Z)((P,G)=>(0,E.Tg)(M(P,G)).pipe((0,v.s)(1),(0,h.u)(P)))}var L=p(1584);function _(M,N=i.E){const P=(0,L.O)(M,N);return F(()=>P)}},3294:(lt,we,p)=>{"use strict";p.d(we,{F:()=>y});var i=p(3669),e=p(9974),v=p(4360);function y(I,D=i.D){return I=I??w,(0,e.N)((h,f)=>{let E,F=!0;h.subscribe((0,v._)(f,L=>{const _=D(L);(F||!I(E,_))&&(F=!1,E=_,f.next(L))}))})}function w(I,D){return I===D}},5964:(lt,we,p)=>{"use strict";p.d(we,{p:()=>v});var i=p(9974),e=p(4360);function v(y,w){return(0,i.N)((I,D)=>{let h=0;I.subscribe((0,e._)(D,f=>y.call(w,f,h++)&&D.next(f)))})}},980:(lt,we,p)=>{"use strict";p.d(we,{j:()=>e});var i=p(9974);function e(v){return(0,i.N)((y,w)=>{try{y.subscribe(w)}finally{w.add(v)}})}},1594:(lt,we,p)=>{"use strict";p.d(we,{$:()=>D});var i=p(9350),e=p(5964),v=p(6697),y=p(9901),w=p(3774),I=p(3669);function D(h,f){const E=arguments.length>=2;return F=>F.pipe(h?(0,e.p)((L,_)=>h(L,_,F)):I.D,(0,v.s)(1),E?(0,y.U)(f):(0,w.v)(()=>new i.G))}},6354:(lt,we,p)=>{"use strict";p.d(we,{T:()=>v});var i=p(9974),e=p(4360);function v(y,w){return(0,i.N)((I,D)=>{let h=0;I.subscribe((0,e._)(D,f=>{D.next(y.call(w,f,h++))}))})}},3703:(lt,we,p)=>{"use strict";p.d(we,{u:()=>e});var i=p(6354);function e(v){return(0,i.T)(()=>v)}},1716:(lt,we,p)=>{"use strict";p.d(we,{h:()=>I});var i=p(9974),e=p(2326),v=p(6365),y=p(9326),w=p(6648);function I(...D){const h=(0,y.lI)(D),f=(0,y.R0)(D,1/0);return D=(0,e.K)(D),(0,i.N)((E,F)=>{(0,v.U)(f)((0,w.H)([E,...D],h)).subscribe(F)})}},6365:(lt,we,p)=>{"use strict";p.d(we,{U:()=>v});var i=p(1397),e=p(3669);function v(y=1/0){return(0,i.Z)(e.D,y)}},1397:(lt,we,p)=>{"use strict";p.d(we,{Z:()=>h});var i=p(6354),e=p(8750),v=p(9974),y=p(5225),w=p(4360),D=p(8071);function h(f,E,F=1/0){return(0,D.T)(E)?h((L,_)=>(0,i.T)((M,N)=>E(L,M,_,N))((0,e.Tg)(f(L,_))),F):("number"==typeof E&&(F=E),(0,v.N)((L,_)=>function I(f,E,F,L,_,M,N,P){const G=[];let x=0,V=0,Q=!1;const Y=()=>{Q&&!G.length&&!x&&E.complete()},le=K=>x<L?fe(K):G.push(K),fe=K=>{M&&E.next(K),x++;let ee=!1;(0,e.Tg)(F(K,V++)).subscribe((0,w._)(E,ie=>{_?.(ie),M?le(ie):E.next(ie)},()=>{ee=!0},void 0,()=>{if(ee)try{for(x--;G.length&&x<L;){const ie=G.shift();N?(0,y.N)(E,N,()=>fe(ie)):fe(ie)}Y()}catch(ie){E.error(ie)}}))};return f.subscribe((0,w._)(E,le,()=>{Q=!0,Y()})),()=>{P?.()}}(L,_,f,F)))}},8412:(lt,we,p)=>{"use strict";p.d(we,{X:()=>e});var i=p(1716);function e(...v){return(0,i.h)(...v)}},6649:(lt,we,p)=>{"use strict";p.d(we,{S:()=>e});var i=p(4360);function e(v,y,w,I,D){return(h,f)=>{let E=w,F=y,L=0;h.subscribe((0,i._)(f,_=>{const M=L++;F=E?v(F,_,M):(E=!0,_),I&&f.next(F)},D&&(()=>{E&&f.next(F),f.complete()})))}}},9568:(lt,we,p)=>{"use strict";p.d(we,{t:()=>h});var i=p(2771),e=p(8750),v=p(1413),y=p(7707),w=p(9974);function D(f,E,...F){if(!0===E)return void f();if(!1===E)return;const L=new y.Ms({next:()=>{L.unsubscribe(),f()}});return(0,e.Tg)(E(...F)).subscribe(L)}function h(f,E,F){let L,_=!1;return f&&"object"==typeof f?({bufferSize:L=1/0,windowTime:E=1/0,refCount:_=!1,scheduler:F}=f):L=f??1/0,function I(f={}){const{connector:E=(()=>new v.B),resetOnError:F=!0,resetOnComplete:L=!0,resetOnRefCountZero:_=!0}=f;return M=>{let N,P,G,x=0,V=!1,Q=!1;const Y=()=>{P?.unsubscribe(),P=void 0},le=()=>{Y(),N=G=void 0,V=Q=!1},fe=()=>{const K=N;le(),K?.unsubscribe()};return(0,w.N)((K,ee)=>{x++,!Q&&!V&&Y();const ie=G=G??E();ee.add(()=>{x--,0===x&&!Q&&!V&&(P=D(fe,_))}),ie.subscribe(ee),!N&&x>0&&(N=new y.Ms({next:T=>ie.next(T),error:T=>{Q=!0,Y(),P=D(le,F,T),ie.error(T)},complete:()=>{V=!0,Y(),P=D(le,L),ie.complete()}}),(0,e.Tg)(K).subscribe(N))})(M)}}({connector:()=>new i.m(L,E,F),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:_})}},9172:(lt,we,p)=>{"use strict";p.d(we,{Z:()=>y});var i=p(8793),e=p(9326),v=p(9974);function y(...w){const I=(0,e.lI)(w);return(0,v.N)((D,h)=>{(I?(0,i.x)(w,D,I):(0,i.x)(w,D)).subscribe(h)})}},5558:(lt,we,p)=>{"use strict";p.d(we,{n:()=>y});var i=p(8750),e=p(9974),v=p(4360);function y(w,I){return(0,e.N)((D,h)=>{let f=null,E=0,F=!1;const L=()=>F&&!f&&h.complete();D.subscribe((0,v._)(h,_=>{f?.unsubscribe();let M=0;const N=E++;(0,i.Tg)(w(_,N)).subscribe(f=(0,v._)(h,P=>h.next(I?I(_,P,N,M++):P),()=>{f=null,L()}))},()=>{F=!0,L()}))})}},6697:(lt,we,p)=>{"use strict";p.d(we,{s:()=>y});var i=p(983),e=p(9974),v=p(4360);function y(w){return w<=0?()=>i.w:(0,e.N)((I,D)=>{let h=0;I.subscribe((0,v._)(D,f=>{++h<=w&&(D.next(f),w<=h&&D.complete())}))})}},6977:(lt,we,p)=>{"use strict";p.d(we,{Q:()=>w});var i=p(9974),e=p(4360),v=p(8750),y=p(5343);function w(I){return(0,i.N)((D,h)=>{(0,v.Tg)(I).subscribe((0,e._)(h,()=>h.complete(),y.l)),!h.closed&&D.subscribe(h)})}},8141:(lt,we,p)=>{"use strict";p.d(we,{M:()=>w});var i=p(8071),e=p(9974),v=p(4360),y=p(3669);function w(I,D,h){const f=(0,i.T)(I)||D||h?{next:I,error:D,complete:h}:I;return f?(0,e.N)((E,F)=>{var L;null===(L=f.subscribe)||void 0===L||L.call(f);let _=!0;E.subscribe((0,v._)(F,M=>{var N;null===(N=f.next)||void 0===N||N.call(f,M),F.next(M)},()=>{var M;_=!1,null===(M=f.complete)||void 0===M||M.call(f),F.complete()},M=>{var N;_=!1,null===(N=f.error)||void 0===N||N.call(f,M),F.error(M)},()=>{var M,N;_&&(null===(M=f.unsubscribe)||void 0===M||M.call(f)),null===(N=f.finalize)||void 0===N||N.call(f)}))}):y.D}},3774:(lt,we,p)=>{"use strict";p.d(we,{v:()=>y});var i=p(9350),e=p(9974),v=p(4360);function y(I=w){return(0,e.N)((D,h)=>{let f=!1;D.subscribe((0,v._)(h,E=>{f=!0,h.next(E)},()=>f?h.complete():h.error(I())))})}function w(){return new i.G}},3993:(lt,we,p)=>{"use strict";p.d(we,{E:()=>D});var i=p(9974),e=p(4360),v=p(8750),y=p(3669),w=p(5343),I=p(9326);function D(...h){const f=(0,I.ms)(h);return(0,i.N)((E,F)=>{const L=h.length,_=new Array(L);let M=h.map(()=>!1),N=!1;for(let P=0;P<L;P++)(0,v.Tg)(h[P]).subscribe((0,e._)(F,G=>{_[P]=G,!N&&!M[P]&&(M[P]=!0,(N=M.every(y.D))&&(M=null))},w.l));E.subscribe((0,e._)(F,P=>{if(N){const G=[P,..._];F.next(f?f(...G):G)}}))})}},6780:(lt,we,p)=>{"use strict";p.d(we,{R:()=>w});var i=p(8359);class e extends i.yU{constructor(D,h){super()}schedule(D,h=0){return this}}const v={setInterval(I,D,...h){const{delegate:f}=v;return f?.setInterval?f.setInterval(I,D,...h):setInterval(I,D,...h)},clearInterval(I){const{delegate:D}=v;return(D?.clearInterval||clearInterval)(I)},delegate:void 0};var y=p(7908);class w extends e{constructor(D,h){super(D,h),this.scheduler=D,this.work=h,this.pending=!1}schedule(D,h=0){var f;if(this.closed)return this;this.state=D;const E=this.id,F=this.scheduler;return null!=E&&(this.id=this.recycleAsyncId(F,E,h)),this.pending=!0,this.delay=h,this.id=null!==(f=this.id)&&void 0!==f?f:this.requestAsyncId(F,this.id,h),this}requestAsyncId(D,h,f=0){return v.setInterval(D.flush.bind(D,this),f)}recycleAsyncId(D,h,f=0){if(null!=f&&this.delay===f&&!1===this.pending)return h;null!=h&&v.clearInterval(h)}execute(D,h){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const f=this._execute(D,h);if(f)return f;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(D,h){let E,f=!1;try{this.work(D)}catch(F){f=!0,E=F||new Error("Scheduled action threw falsy error")}if(f)return this.unsubscribe(),E}unsubscribe(){if(!this.closed){const{id:D,scheduler:h}=this,{actions:f}=h;this.work=this.state=this.scheduler=null,this.pending=!1,(0,y.o)(f,this),null!=D&&(this.id=this.recycleAsyncId(h,D,null)),this.delay=null,super.unsubscribe()}}}},9687:(lt,we,p)=>{"use strict";p.d(we,{q:()=>v});var i=p(6129);class e{constructor(w,I=e.now){this.schedulerActionCtor=w,this.now=I}schedule(w,I=0,D){return new this.schedulerActionCtor(this,w).schedule(D,I)}}e.now=i.U.now;class v extends e{constructor(w,I=e.now){super(w,I),this.actions=[],this._active=!1}flush(w){const{actions:I}=this;if(this._active)return void I.push(w);let D;this._active=!0;do{if(D=w.execute(w.state,w.delay))break}while(w=I.shift());if(this._active=!1,D){for(;w=I.shift();)w.unsubscribe();throw D}}}},3236:(lt,we,p)=>{"use strict";p.d(we,{E:()=>v,b:()=>y});var i=p(6780);const v=new(p(9687).q)(i.R),y=v},6129:(lt,we,p)=>{"use strict";p.d(we,{U:()=>i});const i={now:()=>(i.delegate||Date).now(),delegate:void 0}},9270:(lt,we,p)=>{"use strict";p.d(we,{f:()=>i});const i={setTimeout(e,v,...y){const{delegate:w}=i;return w?.setTimeout?w.setTimeout(e,v,...y):setTimeout(e,v,...y)},clearTimeout(e){const{delegate:v}=i;return(v?.clearTimeout||clearTimeout)(e)},delegate:void 0}},4761:(lt,we,p)=>{"use strict";p.d(we,{l:()=>e});const e=function i(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(lt,we,p)=>{"use strict";p.d(we,{s:()=>i});const i="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(lt,we,p)=>{"use strict";p.d(we,{G:()=>e});const e=(0,p(1853).L)(v=>function(){v(this),this.name="EmptyError",this.message="no elements in sequence"})},9326:(lt,we,p)=>{"use strict";p.d(we,{R0:()=>I,lI:()=>w,ms:()=>y});var i=p(8071),e=p(9470);function v(D){return D[D.length-1]}function y(D){return(0,i.T)(v(D))?D.pop():void 0}function w(D){return(0,e.m)(v(D))?D.pop():void 0}function I(D,h){return"number"==typeof v(D)?D.pop():h}},3073:(lt,we,p)=>{"use strict";p.d(we,{D:()=>w});const{isArray:i}=Array,{getPrototypeOf:e,prototype:v,keys:y}=Object;function w(D){if(1===D.length){const h=D[0];if(i(h))return{args:h,keys:null};if(function I(D){return D&&"object"==typeof D&&e(D)===v}(h)){const f=y(h);return{args:f.map(E=>h[E]),keys:f}}}return{args:D,keys:null}}},2326:(lt,we,p)=>{"use strict";p.d(we,{K:()=>e});const{isArray:i}=Array;function e(v){return 1===v.length&&i(v[0])?v[0]:v}},7908:(lt,we,p)=>{"use strict";function i(e,v){if(e){const y=e.indexOf(v);0<=y&&e.splice(y,1)}}p.d(we,{o:()=>i})},1853:(lt,we,p)=>{"use strict";function i(e){const y=e(w=>{Error.call(w),w.stack=(new Error).stack});return y.prototype=Object.create(Error.prototype),y.prototype.constructor=y,y}p.d(we,{L:()=>i})},8496:(lt,we,p)=>{"use strict";function i(e,v){return e.reduce((y,w,I)=>(y[w]=v[I],y),{})}p.d(we,{e:()=>i})},9786:(lt,we,p)=>{"use strict";p.d(we,{Y:()=>v,l:()=>y});var i=p(1026);let e=null;function v(w){if(i.$.useDeprecatedSynchronousErrorHandling){const I=!e;if(I&&(e={errorThrown:!1,error:null}),w(),I){const{errorThrown:D,error:h}=e;if(e=null,D)throw h}}else w()}function y(w){i.$.useDeprecatedSynchronousErrorHandling&&e&&(e.errorThrown=!0,e.error=w)}},5225:(lt,we,p)=>{"use strict";function i(e,v,y,w=0,I=!1){const D=v.schedule(function(){y(),I?e.add(this.schedule(null,w)):this.unsubscribe()},w);if(e.add(D),!I)return D}p.d(we,{N:()=>i})},3669:(lt,we,p)=>{"use strict";function i(e){return e}p.d(we,{D:()=>i})},7441:(lt,we,p)=>{"use strict";p.d(we,{X:()=>i});const i=e=>e&&"number"==typeof e.length&&"function"!=typeof e},7953:(lt,we,p)=>{"use strict";p.d(we,{T:()=>e});var i=p(8071);function e(v){return Symbol.asyncIterator&&(0,i.T)(v?.[Symbol.asyncIterator])}},8071:(lt,we,p)=>{"use strict";function i(e){return"function"==typeof e}p.d(we,{T:()=>i})},5055:(lt,we,p)=>{"use strict";p.d(we,{l:()=>v});var i=p(3494),e=p(8071);function v(y){return(0,e.T)(y[i.s])}},5397:(lt,we,p)=>{"use strict";p.d(we,{x:()=>v});var i=p(4761),e=p(8071);function v(y){return(0,e.T)(y?.[i.l])}},4402:(lt,we,p)=>{"use strict";p.d(we,{A:()=>v});var i=p(1985),e=p(8071);function v(y){return!!y&&(y instanceof i.c||(0,e.T)(y.lift)&&(0,e.T)(y.subscribe))}},9858:(lt,we,p)=>{"use strict";p.d(we,{y:()=>e});var i=p(8071);function e(v){return(0,i.T)(v?.then)}},5196:(lt,we,p)=>{"use strict";p.d(we,{C:()=>v,U:()=>y});var i=p(1635),e=p(8071);function v(w){return(0,i.AQ)(this,arguments,function*(){const D=w.getReader();try{for(;;){const{value:h,done:f}=yield(0,i.N3)(D.read());if(f)return yield(0,i.N3)(void 0);yield yield(0,i.N3)(h)}}finally{D.releaseLock()}})}function y(w){return(0,e.T)(w?.getReader)}},9470:(lt,we,p)=>{"use strict";p.d(we,{m:()=>e});var i=p(8071);function e(v){return v&&(0,i.T)(v.schedule)}},9974:(lt,we,p)=>{"use strict";p.d(we,{N:()=>v,S:()=>e});var i=p(8071);function e(y){return(0,i.T)(y?.lift)}function v(y){return w=>{if(e(w))return w.lift(function(I){try{return y(I,this)}catch(D){this.error(D)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(lt,we,p)=>{"use strict";p.d(we,{I:()=>y});var i=p(6354);const{isArray:e}=Array;function y(w){return(0,i.T)(I=>function v(w,I){return e(I)?w(...I):w(I)}(w,I))}},5343:(lt,we,p)=>{"use strict";function i(){}p.d(we,{l:()=>i})},1203:(lt,we,p)=>{"use strict";p.d(we,{F:()=>e,m:()=>v});var i=p(3669);function e(...y){return v(y)}function v(y){return 0===y.length?i.D:1===y.length?y[0]:function(I){return y.reduce((D,h)=>h(D),I)}}},5334:(lt,we,p)=>{"use strict";p.d(we,{m:()=>v});var i=p(1026),e=p(9270);function v(y){e.f.setTimeout(()=>{const{onUnhandledError:w}=i.$;if(!w)throw y;w(y)})}},591:(lt,we,p)=>{"use strict";function i(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}p.d(we,{L:()=>i})},9625:function(lt,we,p){var i;!function(e,v){"use strict";var D="function",h="undefined",f="object",E="string",F="major",L="model",_="name",M="type",N="vendor",P="version",G="architecture",x="console",V="mobile",Q="tablet",Y="smarttv",le="wearable",fe="embedded",ee="Amazon",ie="Apple",T="ASUS",ae="BlackBerry",re="Browser",Me="Chrome",Le="Firefox",Ne="Google",be="Microsoft",se="Motorola",Oe="Opera",Ie="Samsung",xe="Sony",pt="Xiaomi",vt="Zebra",hn="Facebook",ln="Chromium OS",z=function(Ot){for(var Yt={},je=0;je<Ot.length;je++)Yt[Ot[je].toUpperCase()]=Ot[je];return Yt},W=function(Ot,Yt){return typeof Ot===E&&-1!==J(Yt).indexOf(J(Ot))},J=function(Ot){return Ot.toLowerCase()},Ce=function(Ot,Yt){if(typeof Ot===E)return Ot=Ot.replace(/^\s\s*/,""),typeof Yt===h?Ot:Ot.substring(0,500)},st=function(Ot,Yt){for(var oe,H,te,Ue,et,ft,je=0;je<Yt.length&&!et;){var Ft=Yt[je],sn=Yt[je+1];for(oe=H=0;oe<Ft.length&&!et&&Ft[oe];)if(et=Ft[oe++].exec(Ot))for(te=0;te<sn.length;te++)ft=et[++H],typeof(Ue=sn[te])===f&&Ue.length>0?2===Ue.length?this[Ue[0]]=typeof Ue[1]==D?Ue[1].call(this,ft):Ue[1]:3===Ue.length?this[Ue[0]]=typeof Ue[1]!==D||Ue[1].exec&&Ue[1].test?ft?ft.replace(Ue[1],Ue[2]):v:ft?Ue[1].call(this,ft,Ue[2]):v:4===Ue.length&&(this[Ue[0]]=ft?Ue[3].call(this,ft.replace(Ue[1],Ue[2])):v):this[Ue]=ft||v;je+=2}},Fe=function(Ot,Yt){for(var je in Yt)if(typeof Yt[je]===f&&Yt[je].length>0){for(var oe=0;oe<Yt[je].length;oe++)if(W(Yt[je][oe],Ot))return"?"===je?v:je}else if(W(Yt[je],Ot))return"?"===je?v:je;return Ot},kt={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},mt={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[P,[_,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[P,[_,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[_,P],[/opios[\/ ]+([\w\.]+)/i],[P,[_,Oe+" Mini"]],[/\bopr\/([\w\.]+)/i],[P,[_,Oe]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[P,[_,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[_,P],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[P,[_,"UC"+re]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[P,[_,"WeChat"]],[/konqueror\/([\w\.]+)/i],[P,[_,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[P,[_,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[P,[_,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[P,[_,"Smart Lenovo "+re]],[/(avast|avg)\/([\w\.]+)/i],[[_,/(.+)/,"$1 Secure "+re],P],[/\bfocus\/([\w\.]+)/i],[P,[_,Le+" Focus"]],[/\bopt\/([\w\.]+)/i],[P,[_,Oe+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[P,[_,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[P,[_,"Dolphin"]],[/coast\/([\w\.]+)/i],[P,[_,Oe+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[P,[_,"MIUI "+re]],[/fxios\/([-\w\.]+)/i],[P,[_,Le]],[/\bqihu|(qi?ho?o?|360)browser/i],[[_,"360 "+re]],[/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i],[[_,/(.+)/,"$1 "+re],P],[/samsungbrowser\/([\w\.]+)/i],[P,[_,Ie+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[_,/_/g," "],P],[/metasr[\/ ]?([\d\.]+)/i],[P,[_,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[_,"Sogou Mobile"],P],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[_,P],[/(lbbrowser)/i,/\[(linkedin)app\]/i],[_],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[_,hn],P],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[_,P],[/\bgsa\/([\w\.]+) .*safari\//i],[P,[_,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[P,[_,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[P,[_,Me+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[_,Me+" WebView"],P],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[P,[_,"Android "+re]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[_,P],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[P,[_,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[P,_],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[_,[P,Fe,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[_,P],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[_,"Netscape"],P],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[P,[_,Le+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[_,P],[/(cobalt)\/([\w\.]+)/i],[_,[P,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[G,"amd64"]],[/(ia32(?=;))/i],[[G,J]],[/((?:i[346]|x)86)[;\)]/i],[[G,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[G,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[G,"armhf"]],[/windows (ce|mobile); ppc;/i],[[G,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[G,/ower/,"",J]],[/(sun4\w)[;\)]/i],[[G,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[G,J]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[L,[N,Ie],[M,Q]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[L,[N,Ie],[M,V]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[L,[N,ie],[M,V]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[L,[N,ie],[M,Q]],[/(macintosh);/i],[L,[N,ie]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[L,[N,"Sharp"],[M,V]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[L,[N,"Huawei"],[M,Q]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[L,[N,"Huawei"],[M,V]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[L,/_/g," "],[N,pt],[M,V]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[L,/_/g," "],[N,pt],[M,Q]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[L,[N,"OPPO"],[M,V]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[L,[N,"Vivo"],[M,V]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[L,[N,"Realme"],[M,V]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[L,[N,se],[M,V]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[L,[N,se],[M,Q]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[L,[N,"LG"],[M,Q]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[L,[N,"LG"],[M,V]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[L,[N,"Lenovo"],[M,Q]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[L,/_/g," "],[N,"Nokia"],[M,V]],[/(pixel c)\b/i],[L,[N,Ne],[M,Q]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[L,[N,Ne],[M,V]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[L,[N,xe],[M,V]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[L,"Xperia Tablet"],[N,xe],[M,Q]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[L,[N,"OnePlus"],[M,V]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[L,[N,ee],[M,Q]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[L,/(.+)/g,"Fire Phone $1"],[N,ee],[M,V]],[/(playbook);[-\w\),; ]+(rim)/i],[L,N,[M,Q]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[L,[N,ae],[M,V]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[L,[N,T],[M,Q]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[L,[N,T],[M,V]],[/(nexus 9)/i],[L,[N,"HTC"],[M,Q]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[N,[L,/_/g," "],[M,V]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[L,[N,"Acer"],[M,Q]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[L,[N,"Meizu"],[M,V]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[L,[N,"Ulefone"],[M,V]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[N,L,[M,V]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[N,L,[M,Q]],[/(surface duo)/i],[L,[N,be],[M,Q]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[L,[N,"Fairphone"],[M,V]],[/(u304aa)/i],[L,[N,"AT&T"],[M,V]],[/\bsie-(\w*)/i],[L,[N,"Siemens"],[M,V]],[/\b(rct\w+) b/i],[L,[N,"RCA"],[M,Q]],[/\b(venue[\d ]{2,7}) b/i],[L,[N,"Dell"],[M,Q]],[/\b(q(?:mv|ta)\w+) b/i],[L,[N,"Verizon"],[M,Q]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[L,[N,"Barnes & Noble"],[M,Q]],[/\b(tm\d{3}\w+) b/i],[L,[N,"NuVision"],[M,Q]],[/\b(k88) b/i],[L,[N,"ZTE"],[M,Q]],[/\b(nx\d{3}j) b/i],[L,[N,"ZTE"],[M,V]],[/\b(gen\d{3}) b.+49h/i],[L,[N,"Swiss"],[M,V]],[/\b(zur\d{3}) b/i],[L,[N,"Swiss"],[M,Q]],[/\b((zeki)?tb.*\b) b/i],[L,[N,"Zeki"],[M,Q]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[N,"Dragon Touch"],L,[M,Q]],[/\b(ns-?\w{0,9}) b/i],[L,[N,"Insignia"],[M,Q]],[/\b((nxa|next)-?\w{0,9}) b/i],[L,[N,"NextBook"],[M,Q]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[N,"Voice"],L,[M,V]],[/\b(lvtel\-)?(v1[12]) b/i],[[N,"LvTel"],L,[M,V]],[/\b(ph-1) /i],[L,[N,"Essential"],[M,V]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[L,[N,"Envizen"],[M,Q]],[/\b(trio[-\w\. ]+) b/i],[L,[N,"MachSpeed"],[M,Q]],[/\btu_(1491) b/i],[L,[N,"Rotor"],[M,Q]],[/(shield[\w ]+) b/i],[L,[N,"Nvidia"],[M,Q]],[/(sprint) (\w+)/i],[N,L,[M,V]],[/(kin\.[onetw]{3})/i],[[L,/\./g," "],[N,be],[M,V]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[L,[N,vt],[M,Q]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[L,[N,vt],[M,V]],[/smart-tv.+(samsung)/i],[N,[M,Y]],[/hbbtv.+maple;(\d+)/i],[[L,/^/,"SmartTV"],[N,Ie],[M,Y]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[N,"LG"],[M,Y]],[/(apple) ?tv/i],[N,[L,ie+" TV"],[M,Y]],[/crkey/i],[[L,Me+"cast"],[N,Ne],[M,Y]],[/droid.+aft(\w+)( bui|\))/i],[L,[N,ee],[M,Y]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[L,[N,"Sharp"],[M,Y]],[/(bravia[\w ]+)( bui|\))/i],[L,[N,xe],[M,Y]],[/(mitv-\w{5}) bui/i],[L,[N,pt],[M,Y]],[/Hbbtv.*(technisat) (.*);/i],[N,L,[M,Y]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[N,Ce],[L,Ce],[M,Y]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[M,Y]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[N,L,[M,x]],[/droid.+; (shield) bui/i],[L,[N,"Nvidia"],[M,x]],[/(playstation [345portablevi]+)/i],[L,[N,xe],[M,x]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[L,[N,be],[M,x]],[/((pebble))app/i],[N,L,[M,le]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[L,[N,ie],[M,le]],[/droid.+; (glass) \d/i],[L,[N,Ne],[M,le]],[/droid.+; (wt63?0{2,3})\)/i],[L,[N,vt],[M,le]],[/(quest( 2| pro)?)/i],[L,[N,hn],[M,le]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[N,[M,fe]],[/(aeobc)\b/i],[L,[N,ee],[M,fe]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[L,[M,V]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[L,[M,Q]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[M,Q]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[M,V]],[/(android[-\w\. ]{0,9});.+buil/i],[L,[N,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[P,[_,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[P,[_,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[_,P],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[P,_]],os:[[/microsoft (windows) (vista|xp)/i],[_,P],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[_,[P,Fe,kt]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[P,Fe,kt],[_,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[P,/_/g,"."],[_,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[_,"Mac OS"],[P,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[P,_],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[_,P],[/\(bb(10);/i],[P,[_,ae]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[P,[_,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[P,[_,Le+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[P,[_,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[P,[_,"watchOS"]],[/crkey\/([\d\.]+)/i],[P,[_,Me+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[_,ln],P],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[_,P],[/(sunos) ?([\w\.\d]*)/i],[[_,"Solaris"],P],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[_,P]]},tt=function(Ot,Yt){if(typeof Ot===f&&(Yt=Ot,Ot=v),!(this instanceof tt))return new tt(Ot,Yt).getResult();var je=typeof e!==h&&e.navigator?e.navigator:v,oe=Ot||(je&&je.userAgent?je.userAgent:""),H=je&&je.userAgentData?je.userAgentData:v,te=Yt?function(Ot,Yt){var je={};for(var oe in Ot)je[oe]=Yt[oe]&&Yt[oe].length%2==0?Yt[oe].concat(Ot[oe]):Ot[oe];return je}(mt,Yt):mt,Ue=je&&je.userAgent==oe;return this.getBrowser=function(){var et={};return et[_]=v,et[P]=v,st.call(et,oe,te.browser),et[F]=function(Ot){return typeof Ot===E?Ot.replace(/[^\d\.]/g,"").split(".")[0]:v}(et[P]),Ue&&je&&je.brave&&typeof je.brave.isBrave==D&&(et[_]="Brave"),et},this.getCPU=function(){var et={};return et[G]=v,st.call(et,oe,te.cpu),et},this.getDevice=function(){var et={};return et[N]=v,et[L]=v,et[M]=v,st.call(et,oe,te.device),Ue&&!et[M]&&H&&H.mobile&&(et[M]=V),Ue&&"Macintosh"==et[L]&&je&&typeof je.standalone!==h&&je.maxTouchPoints&&je.maxTouchPoints>2&&(et[L]="iPad",et[M]=Q),et},this.getEngine=function(){var et={};return et[_]=v,et[P]=v,st.call(et,oe,te.engine),et},this.getOS=function(){var et={};return et[_]=v,et[P]=v,st.call(et,oe,te.os),Ue&&!et[_]&&H&&"Unknown"!=H.platform&&(et[_]=H.platform.replace(/chrome os/i,ln).replace(/macos/i,"Mac OS")),et},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return oe},this.setUA=function(et){return oe=typeof et===E&&et.length>500?Ce(et,500):et,this},this.setUA(oe),this};tt.VERSION="1.0.37",tt.BROWSER=z([_,P,F]),tt.CPU=z([G]),tt.DEVICE=z([L,N,M,x,V,Y,Q,le,fe]),tt.ENGINE=tt.OS=z([_,P]),typeof we!==h?(lt.exports&&(we=lt.exports=tt),we.UAParser=tt):p.amdO?(i=function(){return tt}.call(we,p,we,lt))!==v&&(lt.exports=i):typeof e!==h&&(e.UAParser=tt);var $t=typeof e!==h&&(e.jQuery||e.Zepto);if($t&&!$t.ua){var en=new tt;$t.ua=en.getResult(),$t.ua.get=function(){return en.getUA()},$t.ua.set=function(Ot){en.setUA(Ot);var Yt=en.getResult();for(var je in Yt)$t.ua[je]=Yt[je]}}}("object"==typeof window?window:this)},5568:function(lt,we){!function(p){"use strict";function i(){for(var It=arguments.length,dt=Array(It),Dt=0;Dt<It;Dt++)dt[Dt]=arguments[Dt];if(dt.length>1){dt[0]=dt[0].slice(0,-1);for(var Vt=dt.length-1,Zt=1;Zt<Vt;++Zt)dt[Zt]=dt[Zt].slice(1,-1);return dt[Vt]=dt[Vt].slice(1),dt.join("")}return dt[0]}function e(It){return"(?:"+It+")"}function v(It){return void 0===It?"undefined":null===It?"null":Object.prototype.toString.call(It).split(" ").pop().split("]").shift().toLowerCase()}function y(It){return It.toUpperCase()}function D(It){var dt="[A-Za-z]",Vt="[0-9]",gn=i(Vt,"[A-Fa-f]"),Tn=e(e("%[EFef]"+gn+"%"+gn+gn+"%"+gn+gn)+"|"+e("%[89A-Fa-f]"+gn+"%"+gn+gn)+"|"+e("%"+gn+gn)),ai="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",fi=i("[\\:\\/\\?\\#\\[\\]\\@]",ai),Pi=It?"[\\uE000-\\uF8FF]":"[]",Kn=i(dt,Vt,"[\\-\\.\\_\\~]",It?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),Si=e(dt+i(dt,Vt,"[\\+\\-\\.]")+"*"),pi=e(e(Tn+"|"+i(Kn,ai,"[\\:]"))+"*"),Hi=(e(e("25[0-5]")+"|"+e("2[0-4]"+Vt)+"|"+e("1"+Vt+Vt)+"|"+e("[1-9]"+Vt)+"|"+Vt),e(e("25[0-5]")+"|"+e("2[0-4]"+Vt)+"|"+e("1"+Vt+Vt)+"|"+e("0?[1-9]"+Vt)+"|0?0?"+Vt)),Ei=e(Hi+"\\."+Hi+"\\."+Hi+"\\."+Hi),qe=e(gn+"{1,4}"),St=e(e(qe+"\\:"+qe)+"|"+Ei),We=e(e(qe+"\\:")+"{6}"+St),Gt=e("\\:\\:"+e(qe+"\\:")+"{5}"+St),ot=e(e(qe)+"?\\:\\:"+e(qe+"\\:")+"{4}"+St),Ht=e(e(e(qe+"\\:")+"{0,1}"+qe)+"?\\:\\:"+e(qe+"\\:")+"{3}"+St),Ye=e(e(e(qe+"\\:")+"{0,2}"+qe)+"?\\:\\:"+e(qe+"\\:")+"{2}"+St),Xt=e(e(e(qe+"\\:")+"{0,3}"+qe)+"?\\:\\:"+qe+"\\:"+St),ct=e(e(e(qe+"\\:")+"{0,4}"+qe)+"?\\:\\:"+St),ye=e(e(e(qe+"\\:")+"{0,5}"+qe)+"?\\:\\:"+qe),Te=e(e(e(qe+"\\:")+"{0,6}"+qe)+"?\\:\\:"),ve=e([We,Gt,ot,Ht,Ye,Xt,ct,ye,Te].join("|")),ht=e(e(Kn+"|"+Tn)+"+"),wt=(e(ve+"\\%25"+ht),e(ve+e("\\%25|\\%(?!"+gn+"{2})")+ht)),gt=e("[vV]"+gn+"+\\."+i(Kn,ai,"[\\:]")+"+"),zt=e("\\["+e(wt+"|"+ve+"|"+gt)+"\\]"),Bn=e(e(Tn+"|"+i(Kn,ai))+"*"),ni=e(zt+"|"+Ei+"(?!"+Bn+")|"+Bn),gi=e(Vt+"*"),ei=e(e(pi+"@")+"?"+ni+e("\\:"+gi)+"?"),ji=e(Tn+"|"+i(Kn,ai,"[\\:\\@]")),pr=e(ji+"*"),$n=e(ji+"+"),ii=e(e(Tn+"|"+i(Kn,ai,"[\\@]"))+"+"),cr=e(e("\\/"+pr)+"*"),Ai=e("\\/"+e($n+cr)+"?"),Nr=e(ii+cr),Zs=e($n+cr),_s="(?!"+ji+")",vi=(e(cr+"|"+Ai+"|"+Nr+"|"+Zs+"|"+_s),e(e(ji+"|"+i("[\\/\\?]",Pi))+"*")),Ws=e(e(ji+"|[\\/\\?]")+"*"),bs=e(e("\\/\\/"+ei+cr)+"|"+Ai+"|"+Zs+"|"+_s),Tr=e(Si+"\\:"+bs+e("\\?"+vi)+"?"+e("\\#"+Ws)+"?"),Vs=e(e("\\/\\/"+ei+cr)+"|"+Ai+"|"+Nr+"|"+_s),br=e(Vs+e("\\?"+vi)+"?"+e("\\#"+Ws)+"?");return e(Tr+"|"+br),e(Si+"\\:"+bs+e("\\?"+vi)+"?"),e(e("\\/\\/("+e("("+pi+")@")+"?("+ni+")"+e("\\:("+gi+")")+"?)")+"?("+cr+"|"+Ai+"|"+Zs+"|"+_s+")"),e("\\?("+vi+")"),e("\\#("+Ws+")"),e(e("\\/\\/("+e("("+pi+")@")+"?("+ni+")"+e("\\:("+gi+")")+"?)")+"?("+cr+"|"+Ai+"|"+Nr+"|"+_s+")"),e("\\?("+vi+")"),e("\\#("+Ws+")"),e(e("\\/\\/("+e("("+pi+")@")+"?("+ni+")"+e("\\:("+gi+")")+"?)")+"?("+cr+"|"+Ai+"|"+Zs+"|"+_s+")"),e("\\?("+vi+")"),e("\\#("+Ws+")"),e("("+pi+")@"),e("\\:("+gi+")"),{NOT_SCHEME:new RegExp(i("[^]",dt,Vt,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(i("[^\\%\\:]",Kn,ai),"g"),NOT_HOST:new RegExp(i("[^\\%\\[\\]\\:]",Kn,ai),"g"),NOT_PATH:new RegExp(i("[^\\%\\/\\:\\@]",Kn,ai),"g"),NOT_PATH_NOSCHEME:new RegExp(i("[^\\%\\/\\@]",Kn,ai),"g"),NOT_QUERY:new RegExp(i("[^\\%]",Kn,ai,"[\\:\\@\\/\\?]",Pi),"g"),NOT_FRAGMENT:new RegExp(i("[^\\%]",Kn,ai,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(i("[^]",Kn,ai),"g"),UNRESERVED:new RegExp(Kn,"g"),OTHER_CHARS:new RegExp(i("[^\\%]",Kn,fi),"g"),PCT_ENCODED:new RegExp(Tn,"g"),IPV4ADDRESS:new RegExp("^("+Ei+")$"),IPV6ADDRESS:new RegExp("^\\[?("+ve+")"+e(e("\\%25|\\%(?!"+gn+"{2})")+"("+ht+")")+"?\\]?$")}}var h=D(!1),f=D(!0),E=function(){return function(dt,Dt){if(Array.isArray(dt))return dt;if(Symbol.iterator in Object(dt))return function It(dt,Dt){var Vt=[],Zt=!0,gn=!1,mn=void 0;try{for(var Tn,zn=dt[Symbol.iterator]();!(Zt=(Tn=zn.next()).done)&&(Vt.push(Tn.value),!Dt||Vt.length!==Dt);Zt=!0);}catch(pn){gn=!0,mn=pn}finally{try{!Zt&&zn.return&&zn.return()}finally{if(gn)throw mn}}return Vt}(dt,Dt);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),L=2147483647,_=36,Y=/^xn--/,le=/[^\0-\x7E]/,fe=/[\x2E\u3002\uFF0E\uFF61]/g,K={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ie=Math.floor,T=String.fromCharCode;function ae(It){throw new RangeError(K[It])}function Me(It,dt){var Dt=It.split("@"),Vt="";return Dt.length>1&&(Vt=Dt[0]+"@",It=Dt[1]),Vt+function re(It,dt){for(var Dt=[],Vt=It.length;Vt--;)Dt[Vt]=dt(It[Vt]);return Dt}((It=It.replace(fe,".")).split("."),dt).join(".")}function Qe(It){for(var dt=[],Dt=0,Vt=It.length;Dt<Vt;){var Zt=It.charCodeAt(Dt++);if(Zt>=55296&&Zt<=56319&&Dt<Vt){var gn=It.charCodeAt(Dt++);56320==(64512&gn)?dt.push(((1023&Zt)<<10)+(1023&gn)+65536):(dt.push(Zt),Dt--)}else dt.push(Zt)}return dt}var Ne=function(dt){return dt-48<10?dt-22:dt-65<26?dt-65:dt-97<26?dt-97:_},Je=function(dt,Dt){return dt+22+75*(dt<26)-((0!=Dt)<<5)},Ee=function(dt,Dt,Vt){var Zt=0;for(dt=Vt?ie(dt/700):dt>>1,dt+=ie(dt/Dt);dt>455;Zt+=_)dt=ie(dt/35);return ie(Zt+36*dt/(dt+38))},be=function(dt){var Dt=[],Vt=dt.length,Zt=0,gn=128,mn=72,zn=dt.lastIndexOf("-");zn<0&&(zn=0);for(var Tn=0;Tn<zn;++Tn)dt.charCodeAt(Tn)>=128&&ae("not-basic"),Dt.push(dt.charCodeAt(Tn));for(var pn=zn>0?zn+1:0;pn<Vt;){for(var ai=Zt,fi=1,qn=_;;qn+=_){pn>=Vt&&ae("invalid-input");var Pi=Ne(dt.charCodeAt(pn++));(Pi>=_||Pi>ie((L-Zt)/fi))&&ae("overflow"),Zt+=Pi*fi;var Kn=qn<=mn?1:qn>=mn+26?26:qn-mn;if(Pi<Kn)break;var Si=_-Kn;fi>ie(L/Si)&&ae("overflow"),fi*=Si}var pi=Dt.length+1;mn=Ee(Zt-ai,pi,0==ai),ie(Zt/pi)>L-gn&&ae("overflow"),gn+=ie(Zt/pi),Zt%=pi,Dt.splice(Zt++,0,gn)}return String.fromCodePoint.apply(String,Dt)},se=function(dt){var Dt=[],Vt=(dt=Qe(dt)).length,Zt=128,gn=0,mn=72,zn=!0,Tn=!1,pn=void 0;try{for(var fi,ai=dt[Symbol.iterator]();!(zn=(fi=ai.next()).done);zn=!0){var qn=fi.value;qn<128&&Dt.push(T(qn))}}catch(wt){Tn=!0,pn=wt}finally{try{!zn&&ai.return&&ai.return()}finally{if(Tn)throw pn}}var Pi=Dt.length,Kn=Pi;for(Pi&&Dt.push("-");Kn<Vt;){var Si=L,pi=!0,Wi=!1,Hi=void 0;try{for(var qe,Ei=dt[Symbol.iterator]();!(pi=(qe=Ei.next()).done);pi=!0){var St=qe.value;St>=Zt&&St<Si&&(Si=St)}}catch(wt){Wi=!0,Hi=wt}finally{try{!pi&&Ei.return&&Ei.return()}finally{if(Wi)throw Hi}}var We=Kn+1;Si-Zt>ie((L-gn)/We)&&ae("overflow"),gn+=(Si-Zt)*We,Zt=Si;var Gt=!0,ot=!1,Ht=void 0;try{for(var Xt,Ye=dt[Symbol.iterator]();!(Gt=(Xt=Ye.next()).done);Gt=!0){var ct=Xt.value;if(ct<Zt&&++gn>L&&ae("overflow"),ct==Zt){for(var ye=gn,Te=_;;Te+=_){var ve=Te<=mn?1:Te>=mn+26?26:Te-mn;if(ye<ve)break;var ht=ye-ve,Ke=_-ve;Dt.push(T(Je(ve+ht%Ke,0))),ye=ie(ht/Ke)}Dt.push(T(Je(ye,0))),mn=Ee(gn,We,Kn==Pi),gn=0,++Kn}}}catch(wt){ot=!0,Ht=wt}finally{try{!Gt&&Ye.return&&Ye.return()}finally{if(ot)throw Ht}}++gn,++Zt}return Dt.join("")},it={version:"2.1.0",ucs2:{decode:Qe,encode:function(dt){return String.fromCodePoint.apply(String,function(It){if(Array.isArray(It)){for(var dt=0,Dt=Array(It.length);dt<It.length;dt++)Dt[dt]=It[dt];return Dt}return Array.from(It)}(dt))}},decode:be,encode:se,toASCII:function(dt){return Me(dt,function(Dt){return le.test(Dt)?"xn--"+se(Dt):Dt})},toUnicode:function(dt){return Me(dt,function(Dt){return Y.test(Dt)?be(Dt.slice(4).toLowerCase()):Dt})}},xe={};function pt(It){var dt=It.charCodeAt(0);return dt<16?"%0"+dt.toString(16).toUpperCase():dt<128?"%"+dt.toString(16).toUpperCase():dt<2048?"%"+(dt>>6|192).toString(16).toUpperCase()+"%"+(63&dt|128).toString(16).toUpperCase():"%"+(dt>>12|224).toString(16).toUpperCase()+"%"+(dt>>6&63|128).toString(16).toUpperCase()+"%"+(63&dt|128).toString(16).toUpperCase()}function vt(It){for(var dt="",Dt=0,Vt=It.length;Dt<Vt;){var Zt=parseInt(It.substr(Dt+1,2),16);if(Zt<128)dt+=String.fromCharCode(Zt),Dt+=3;else if(Zt>=194&&Zt<224){if(Vt-Dt>=6){var gn=parseInt(It.substr(Dt+4,2),16);dt+=String.fromCharCode((31&Zt)<<6|63&gn)}else dt+=It.substr(Dt,6);Dt+=6}else if(Zt>=224){if(Vt-Dt>=9){var mn=parseInt(It.substr(Dt+4,2),16),zn=parseInt(It.substr(Dt+7,2),16);dt+=String.fromCharCode((15&Zt)<<12|(63&mn)<<6|63&zn)}else dt+=It.substr(Dt,9);Dt+=9}else dt+=It.substr(Dt,3),Dt+=3}return dt}function hn(It,dt){function Dt(Vt){var Zt=vt(Vt);return Zt.match(dt.UNRESERVED)?Zt:Vt}return It.scheme&&(It.scheme=String(It.scheme).replace(dt.PCT_ENCODED,Dt).toLowerCase().replace(dt.NOT_SCHEME,"")),void 0!==It.userinfo&&(It.userinfo=String(It.userinfo).replace(dt.PCT_ENCODED,Dt).replace(dt.NOT_USERINFO,pt).replace(dt.PCT_ENCODED,y)),void 0!==It.host&&(It.host=String(It.host).replace(dt.PCT_ENCODED,Dt).toLowerCase().replace(dt.NOT_HOST,pt).replace(dt.PCT_ENCODED,y)),void 0!==It.path&&(It.path=String(It.path).replace(dt.PCT_ENCODED,Dt).replace(It.scheme?dt.NOT_PATH:dt.NOT_PATH_NOSCHEME,pt).replace(dt.PCT_ENCODED,y)),void 0!==It.query&&(It.query=String(It.query).replace(dt.PCT_ENCODED,Dt).replace(dt.NOT_QUERY,pt).replace(dt.PCT_ENCODED,y)),void 0!==It.fragment&&(It.fragment=String(It.fragment).replace(dt.PCT_ENCODED,Dt).replace(dt.NOT_FRAGMENT,pt).replace(dt.PCT_ENCODED,y)),It}function ln(It){return It.replace(/^0*(.*)/,"$1")||"0"}function Mt(It,dt){var Dt=It.match(dt.IPV4ADDRESS)||[],Zt=E(Dt,2)[1];return Zt?Zt.split(".").map(ln).join("."):It}function xt(It,dt){var Dt=It.match(dt.IPV6ADDRESS)||[],Vt=E(Dt,3),Zt=Vt[1],gn=Vt[2];if(Zt){for(var mn=Zt.toLowerCase().split("::").reverse(),zn=E(mn,2),Tn=zn[0],pn=zn[1],ai=pn?pn.split(":").map(ln):[],fi=Tn.split(":").map(ln),qn=dt.IPV4ADDRESS.test(fi[fi.length-1]),Pi=qn?7:8,Kn=fi.length-Pi,Si=Array(Pi),pi=0;pi<Pi;++pi)Si[pi]=ai[pi]||fi[Kn+pi]||"";qn&&(Si[Pi-1]=Mt(Si[Pi-1],dt));var Hi=Si.reduce(function(We,Gt,ot){if(!Gt||"0"===Gt){var Ht=We[We.length-1];Ht&&Ht.index+Ht.length===ot?Ht.length++:We.push({index:ot,length:1})}return We},[]).sort(function(We,Gt){return Gt.length-We.length})[0],Ei=void 0;if(Hi&&Hi.length>1){var qe=Si.slice(0,Hi.index),St=Si.slice(Hi.index+Hi.length);Ei=qe.join(":")+"::"+St.join(":")}else Ei=Si.join(":");return gn&&(Ei+="%"+gn),Ei}return It}var z=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,W=void 0==="".match(/(){0}/)[1];function J(It){var dt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Dt={},Vt=!1!==dt.iri?f:h;"suffix"===dt.reference&&(It=(dt.scheme?dt.scheme+":":"")+"//"+It);var Zt=It.match(z);if(Zt){W?(Dt.scheme=Zt[1],Dt.userinfo=Zt[3],Dt.host=Zt[4],Dt.port=parseInt(Zt[5],10),Dt.path=Zt[6]||"",Dt.query=Zt[7],Dt.fragment=Zt[8],isNaN(Dt.port)&&(Dt.port=Zt[5])):(Dt.scheme=Zt[1]||void 0,Dt.userinfo=-1!==It.indexOf("@")?Zt[3]:void 0,Dt.host=-1!==It.indexOf("//")?Zt[4]:void 0,Dt.port=parseInt(Zt[5],10),Dt.path=Zt[6]||"",Dt.query=-1!==It.indexOf("?")?Zt[7]:void 0,Dt.fragment=-1!==It.indexOf("#")?Zt[8]:void 0,isNaN(Dt.port)&&(Dt.port=It.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?Zt[4]:void 0)),Dt.host&&(Dt.host=xt(Mt(Dt.host,Vt),Vt)),Dt.reference=void 0!==Dt.scheme||void 0!==Dt.userinfo||void 0!==Dt.host||void 0!==Dt.port||Dt.path||void 0!==Dt.query?void 0===Dt.scheme?"relative":void 0===Dt.fragment?"absolute":"uri":"same-document",dt.reference&&"suffix"!==dt.reference&&dt.reference!==Dt.reference&&(Dt.error=Dt.error||"URI is not a "+dt.reference+" reference.");var gn=xe[(dt.scheme||Dt.scheme||"").toLowerCase()];if(dt.unicodeSupport||gn&&gn.unicodeSupport)hn(Dt,Vt);else{if(Dt.host&&(dt.domainHost||gn&&gn.domainHost))try{Dt.host=it.toASCII(Dt.host.replace(Vt.PCT_ENCODED,vt).toLowerCase())}catch(mn){Dt.error=Dt.error||"Host's domain name can not be converted to ASCII via punycode: "+mn}hn(Dt,h)}gn&&gn.parse&&gn.parse(Dt,dt)}else Dt.error=Dt.error||"URI can not be parsed.";return Dt}var Ce=/^\.\.?\//,st=/^\/\.(\/|$)/,Fe=/^\/\.\.(\/|$)/,rt=/^\/?(?:.|\n)*?(?=\/|$)/;function kt(It){for(var dt=[];It.length;)if(It.match(Ce))It=It.replace(Ce,"");else if(It.match(st))It=It.replace(st,"/");else if(It.match(Fe))It=It.replace(Fe,"/"),dt.pop();else if("."===It||".."===It)It="";else{var Dt=It.match(rt);if(!Dt)throw new Error("Unexpected dot segment condition");var Vt=Dt[0];It=It.slice(Vt.length),dt.push(Vt)}return dt.join("")}function mt(It){var dt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Dt=dt.iri?f:h,Vt=[],Zt=xe[(dt.scheme||It.scheme||"").toLowerCase()];if(Zt&&Zt.serialize&&Zt.serialize(It,dt),It.host&&!Dt.IPV6ADDRESS.test(It.host)&&(dt.domainHost||Zt&&Zt.domainHost))try{It.host=dt.iri?it.toUnicode(It.host):it.toASCII(It.host.replace(Dt.PCT_ENCODED,vt).toLowerCase())}catch(zn){It.error=It.error||"Host's domain name can not be converted to "+(dt.iri?"Unicode":"ASCII")+" via punycode: "+zn}hn(It,Dt),"suffix"!==dt.reference&&It.scheme&&(Vt.push(It.scheme),Vt.push(":"));var gn=function _e(It,dt){var Dt=!1!==dt.iri?f:h,Vt=[];return void 0!==It.userinfo&&(Vt.push(It.userinfo),Vt.push("@")),void 0!==It.host&&Vt.push(xt(Mt(String(It.host),Dt),Dt).replace(Dt.IPV6ADDRESS,function(Zt,gn,mn){return"["+gn+(mn?"%25"+mn:"")+"]"})),("number"==typeof It.port||"string"==typeof It.port)&&(Vt.push(":"),Vt.push(String(It.port))),Vt.length?Vt.join(""):void 0}(It,dt);if(void 0!==gn&&("suffix"!==dt.reference&&Vt.push("//"),Vt.push(gn),It.path&&"/"!==It.path.charAt(0)&&Vt.push("/")),void 0!==It.path){var mn=It.path;!dt.absolutePath&&(!Zt||!Zt.absolutePath)&&(mn=kt(mn)),void 0===gn&&(mn=mn.replace(/^\/\//,"/%2F")),Vt.push(mn)}return void 0!==It.query&&(Vt.push("?"),Vt.push(It.query)),void 0!==It.fragment&&(Vt.push("#"),Vt.push(It.fragment)),Vt.join("")}function tt(It,dt){var Dt=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},Zt={};return arguments[3]||(It=J(mt(It,Dt),Dt),dt=J(mt(dt,Dt),Dt)),!(Dt=Dt||{}).tolerant&&dt.scheme?(Zt.scheme=dt.scheme,Zt.userinfo=dt.userinfo,Zt.host=dt.host,Zt.port=dt.port,Zt.path=kt(dt.path||""),Zt.query=dt.query):(void 0!==dt.userinfo||void 0!==dt.host||void 0!==dt.port?(Zt.userinfo=dt.userinfo,Zt.host=dt.host,Zt.port=dt.port,Zt.path=kt(dt.path||""),Zt.query=dt.query):(dt.path?("/"===dt.path.charAt(0)?Zt.path=kt(dt.path):(Zt.path=void 0===It.userinfo&&void 0===It.host&&void 0===It.port||It.path?It.path?It.path.slice(0,It.path.lastIndexOf("/")+1)+dt.path:dt.path:"/"+dt.path,Zt.path=kt(Zt.path)),Zt.query=dt.query):(Zt.path=It.path,Zt.query=void 0!==dt.query?dt.query:It.query),Zt.userinfo=It.userinfo,Zt.host=It.host,Zt.port=It.port),Zt.scheme=It.scheme),Zt.fragment=dt.fragment,Zt}function je(It,dt){return It&&It.toString().replace(dt&&dt.iri?f.PCT_ENCODED:h.PCT_ENCODED,vt)}var oe={scheme:"http",domainHost:!0,parse:function(dt,Dt){return dt.host||(dt.error=dt.error||"HTTP URIs must have a host."),dt},serialize:function(dt,Dt){var Vt="https"===String(dt.scheme).toLowerCase();return(dt.port===(Vt?443:80)||""===dt.port)&&(dt.port=void 0),dt.path||(dt.path="/"),dt}},H={scheme:"https",domainHost:oe.domainHost,parse:oe.parse,serialize:oe.serialize};function te(It){return"boolean"==typeof It.secure?It.secure:"wss"===String(It.scheme).toLowerCase()}var Ue={scheme:"ws",domainHost:!0,parse:function(dt,Dt){var Vt=dt;return Vt.secure=te(Vt),Vt.resourceName=(Vt.path||"/")+(Vt.query?"?"+Vt.query:""),Vt.path=void 0,Vt.query=void 0,Vt},serialize:function(dt,Dt){if((dt.port===(te(dt)?443:80)||""===dt.port)&&(dt.port=void 0),"boolean"==typeof dt.secure&&(dt.scheme=dt.secure?"wss":"ws",dt.secure=void 0),dt.resourceName){var Vt=dt.resourceName.split("?"),Zt=E(Vt,2),gn=Zt[0],mn=Zt[1];dt.path=gn&&"/"!==gn?gn:void 0,dt.query=mn,dt.resourceName=void 0}return dt.fragment=void 0,dt}},et={scheme:"wss",domainHost:Ue.domainHost,parse:Ue.parse,serialize:Ue.serialize},ft={},sn="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",cn="[0-9A-Fa-f]",In=e(e("%[EFef]"+cn+"%"+cn+cn+"%"+cn+cn)+"|"+e("%[89A-Fa-f]"+cn+"%"+cn+cn)+"|"+e("%"+cn+cn)),Pn=i("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),wi=new RegExp(sn,"g"),Rt=new RegExp(In,"g"),Wt=new RegExp(i("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',Pn),"g"),_t=new RegExp(i("[^]",sn,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),Nt=_t;function tn(It){var dt=vt(It);return dt.match(wi)?dt:It}var En={scheme:"mailto",parse:function(dt,Dt){var Vt=dt,Zt=Vt.to=Vt.path?Vt.path.split(","):[];if(Vt.path=void 0,Vt.query){for(var gn=!1,mn={},zn=Vt.query.split("&"),Tn=0,pn=zn.length;Tn<pn;++Tn){var ai=zn[Tn].split("=");switch(ai[0]){case"to":for(var fi=ai[1].split(","),qn=0,Pi=fi.length;qn<Pi;++qn)Zt.push(fi[qn]);break;case"subject":Vt.subject=je(ai[1],Dt);break;case"body":Vt.body=je(ai[1],Dt);break;default:gn=!0,mn[je(ai[0],Dt)]=je(ai[1],Dt)}}gn&&(Vt.headers=mn)}Vt.query=void 0;for(var Kn=0,Si=Zt.length;Kn<Si;++Kn){var pi=Zt[Kn].split("@");if(pi[0]=je(pi[0]),Dt.unicodeSupport)pi[1]=je(pi[1],Dt).toLowerCase();else try{pi[1]=it.toASCII(je(pi[1],Dt).toLowerCase())}catch(Wi){Vt.error=Vt.error||"Email address's domain name can not be converted to ASCII via punycode: "+Wi}Zt[Kn]=pi.join("@")}return Vt},serialize:function(dt,Dt){var Vt=dt,Zt=function w(It){return null!=It?It instanceof Array?It:"number"!=typeof It.length||It.split||It.setInterval||It.call?[It]:Array.prototype.slice.call(It):[]}(dt.to);if(Zt){for(var gn=0,mn=Zt.length;gn<mn;++gn){var zn=String(Zt[gn]),Tn=zn.lastIndexOf("@"),pn=zn.slice(0,Tn).replace(Rt,tn).replace(Rt,y).replace(Wt,pt),ai=zn.slice(Tn+1);try{ai=Dt.iri?it.toUnicode(ai):it.toASCII(je(ai,Dt).toLowerCase())}catch(Kn){Vt.error=Vt.error||"Email address's domain name can not be converted to "+(Dt.iri?"Unicode":"ASCII")+" via punycode: "+Kn}Zt[gn]=pn+"@"+ai}Vt.path=Zt.join(",")}var fi=dt.headers=dt.headers||{};dt.subject&&(fi.subject=dt.subject),dt.body&&(fi.body=dt.body);var qn=[];for(var Pi in fi)fi[Pi]!==ft[Pi]&&qn.push(Pi.replace(Rt,tn).replace(Rt,y).replace(_t,pt)+"="+fi[Pi].replace(Rt,tn).replace(Rt,y).replace(Nt,pt));return qn.length&&(Vt.query=qn.join("&")),Vt}},Ln=/^([^\:]+)\:(.*)/,un={scheme:"urn",parse:function(dt,Dt){var Vt=dt.path&&dt.path.match(Ln),Zt=dt;if(Vt){var gn=Dt.scheme||Zt.scheme||"urn",mn=Vt[1].toLowerCase(),zn=Vt[2],pn=xe[gn+":"+(Dt.nid||mn)];Zt.nid=mn,Zt.nss=zn,Zt.path=void 0,pn&&(Zt=pn.parse(Zt,Dt))}else Zt.error=Zt.error||"URN can not be parsed.";return Zt},serialize:function(dt,Dt){var Zt=dt.nid,mn=xe[(Dt.scheme||dt.scheme||"urn")+":"+(Dt.nid||Zt)];mn&&(dt=mn.serialize(dt,Dt));var zn=dt;return zn.path=(Zt||Dt.nid)+":"+dt.nss,zn}},ui=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,jn={scheme:"urn:uuid",parse:function(dt,Dt){var Vt=dt;return Vt.uuid=Vt.nss,Vt.nss=void 0,!Dt.tolerant&&(!Vt.uuid||!Vt.uuid.match(ui))&&(Vt.error=Vt.error||"UUID is not valid."),Vt},serialize:function(dt,Dt){var Vt=dt;return Vt.nss=(dt.uuid||"").toLowerCase(),Vt}};xe[oe.scheme]=oe,xe[H.scheme]=H,xe[Ue.scheme]=Ue,xe[et.scheme]=et,xe[En.scheme]=En,xe[un.scheme]=un,xe[jn.scheme]=jn,p.SCHEMES=xe,p.pctEncChar=pt,p.pctDecChars=vt,p.parse=J,p.removeDotSegments=kt,p.serialize=mt,p.resolveComponents=tt,p.resolve=function $t(It,dt,Dt){var Vt=function I(It,dt){var Dt=It;if(dt)for(var Vt in dt)Dt[Vt]=dt[Vt];return Dt}({scheme:"null"},Dt);return mt(tt(J(It,Vt),J(dt,Vt),Vt,!0),Vt)},p.normalize=function en(It,dt){return"string"==typeof It?It=mt(J(It,dt),dt):"object"===v(It)&&(It=J(mt(It,dt),dt)),It},p.equal=function Ot(It,dt,Dt){return"string"==typeof It?It=mt(J(It,Dt),Dt):"object"===v(It)&&(It=mt(It,Dt)),"string"==typeof dt?dt=mt(J(dt,Dt),Dt):"object"===v(dt)&&(dt=mt(dt,Dt)),It===dt},p.escapeComponent=function Yt(It,dt){return It&&It.toString().replace(dt&&dt.iri?f.ESCAPE:h.ESCAPE,pt)},p.unescapeComponent=je,Object.defineProperty(p,"__esModule",{value:!0})}(we)},1108:function(lt,we){var p,e;!function(v,y){"use strict";p=function(v){return function(w){w=w||{},function D(){w.arrayAccessForm=w.arrayAccessForm||"none",w.emptyNodeForm=w.emptyNodeForm||"text",w.jsAttributeFilter=w.jsAttributeFilter,w.jsAttributeConverter=w.jsAttributeConverter,w.attributeConverters=w.attributeConverters||[],w.datetimeAccessFormPaths=w.datetimeAccessFormPaths||[],w.arrayAccessFormPaths=w.arrayAccessFormPaths||[],w.xmldomOptions=w.xmldomOptions||{},void 0===w.enableToStringFunc&&(w.enableToStringFunc=!0),void 0===w.skipEmptyTextNodesForObj&&(w.skipEmptyTextNodesForObj=!0),void 0===w.stripWhitespaces&&(w.stripWhitespaces=!0),void 0===w.useDoubleQuotes&&(w.useDoubleQuotes=!0),void 0===w.ignoreRoot&&(w.ignoreRoot=!1),void 0===w.escapeMode&&(w.escapeMode=!0),void 0===w.attributePrefix&&(w.attributePrefix="_"),void 0===w.selfClosingElements&&(w.selfClosingElements=!0),void 0===w.keepCData&&(w.keepCData=!1),void 0===w.keepText&&(w.keepText=!1),void 0===w.jsDateUTC&&(w.jsDateUTC=!1)}(),function h(){function Le(Ne){var Je=String(Ne);return 1===Je.length&&(Je="0"+Je),Je}"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|^\n+|(\s|\n)+$/g,"")}),"function"!=typeof Date.prototype.toISOString&&(Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+Le(this.getUTCMonth()+1)+"-"+Le(this.getUTCDate())+"T"+Le(this.getUTCHours())+":"+Le(this.getUTCMinutes())+":"+Le(this.getUTCSeconds())+"."+String((this.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"})}();var f={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};function E(Le){var Ne=Le.localName;return null==Ne&&(Ne=Le.baseName),(null==Ne||""===Ne)&&(Ne=Le.nodeName),Ne}function L(Le){return"string"==typeof Le?Le.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"):Le}function M(Le,Ne,Je){if("property"===w.arrayAccessForm&&(Le[Ne+"_asArray"]=Le[Ne]instanceof Array?Le[Ne]:[Le[Ne]]),!(Le[Ne]instanceof Array)&&w.arrayAccessFormPaths.length>0){for(var Ee=!1,be=0;be<w.arrayAccessFormPaths.length;be++){var se=w.arrayAccessFormPaths[be];if("string"==typeof se){if(se===Je){Ee=!0;break}}else if(se instanceof RegExp){if(se.test(Je)){Ee=!0;break}}else if("function"==typeof se&&se(Ne,Je)){Ee=!0;break}}Ee&&(Le[Ne]=[Le[Ne]])}}function N(Le){var Je=Le.split(/[-T:+Z]/g),Ee=new Date(Je[0],Je[1]-1,Je[2]),be=Je[5].split(".");if(Ee.setHours(Je[3],Je[4],be[0]),be.length>1&&Ee.setMilliseconds(be[1]),Je[6]&&Je[7]){var se=60*Je[6]+Number(Je[7]);se=0+("-"==(/\d\d-\d\d:\d\d$/.test(Le)?"-":"+")?-1*se:se),Ee.setMinutes(Ee.getMinutes()-se-Ee.getTimezoneOffset())}else-1!==Le.indexOf("Z",Le.length-1)&&(Ee=new Date(Date.UTC(Ee.getFullYear(),Ee.getMonth(),Ee.getDate(),Ee.getHours(),Ee.getMinutes(),Ee.getSeconds(),Ee.getMilliseconds())));return Ee}function x(Le,Ne){for(var Je={__cnt:0},Ee=Le.childNodes,be=0;be<Ee.length;be++){var se=Ee.item(be),Oe=E(se);se.nodeType!==f.COMMENT_NODE&&(Je.__cnt++,null==Je[Oe]?(Je[Oe]=V(se,Ne+"."+Oe),M(Je,Oe,Ne+"."+Oe)):(Je[Oe]instanceof Array||(Je[Oe]=[Je[Oe]],M(Je,Oe,Ne+"."+Oe)),Je[Oe][Je[Oe].length]=V(se,Ne+"."+Oe)))}for(var Ie=0;Ie<Le.attributes.length;Ie++){var it=Le.attributes.item(Ie);Je.__cnt++;for(var xe=it.value,pt=0;pt<w.attributeConverters.length;pt++){var vt=w.attributeConverters[pt];vt.test.call(null,it.name,it.value)&&(xe=vt.convert.call(null,it.name,it.value))}Je[w.attributePrefix+it.name]=xe}var hn=function F(Le){return Le.prefix}(Le);return hn&&(Je.__cnt++,Je.__prefix=hn),Je["#text"]&&(Je.__text=Je["#text"],Je.__text instanceof Array&&(Je.__text=Je.__text.join("\n")),w.escapeMode&&(Je.__text=function _(Le){return Le.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&amp;/g,"&")}(Je.__text)),w.stripWhitespaces&&(Je.__text=Je.__text.trim()),delete Je["#text"],"property"===w.arrayAccessForm&&delete Je["#text_asArray"],Je.__text=function P(Le,Ne,Je){if(w.datetimeAccessFormPaths.length>0)for(var Ee=Je.split(".#")[0],be=0;be<w.datetimeAccessFormPaths.length;be++){var se=w.datetimeAccessFormPaths[be];if("string"==typeof se){if(se===Ee)return N(Le)}else if(se instanceof RegExp){if(se.test(Ee))return N(Le)}else if("function"==typeof se&&se(Ee))return N(Le)}return Le}(Je.__text,0,Ne+".#text")),Je.hasOwnProperty("#cdata-section")&&(Je.__cdata=Je["#cdata-section"],delete Je["#cdata-section"],"property"===w.arrayAccessForm&&delete Je["#cdata-section_asArray"]),1===Je.__cnt&&Je.__text&&!w.keepText?Je=Je.__text:0===Je.__cnt&&"text"===w.emptyNodeForm?Je="":Je.__cnt>1&&void 0!==Je.__text&&w.skipEmptyTextNodesForObj&&(w.stripWhitespaces&&""===Je.__text||""===Je.__text.trim())&&delete Je.__text,delete Je.__cnt,w.keepCData||Je.hasOwnProperty("__text")||!Je.hasOwnProperty("__cdata")||1!==Object.keys(Je).length?(w.enableToStringFunc&&(Je.__text||Je.__cdata)&&(Je.toString=function(){return(this.__text?this.__text:"")+(this.__cdata?this.__cdata:"")}),Je):Je.__cdata?Je.__cdata:""}function V(Le,Ne){return Le.nodeType===f.DOCUMENT_NODE?function G(Le){for(var Ne={},Je=Le.childNodes,Ee=0;Ee<Je.length;Ee++){var be=Je.item(Ee);if(be.nodeType===f.ELEMENT_NODE){var se=E(be);w.ignoreRoot?Ne=V(be,se):Ne[se]=V(be,se)}}return Ne}(Le):Le.nodeType===f.ELEMENT_NODE?x(Le,Ne):Le.nodeType===f.TEXT_NODE||Le.nodeType===f.CDATA_SECTION_NODE?Le.nodeValue:null}function Q(Le,Ne,Je,Ee){var be="<"+(Le&&Le.__prefix?Le.__prefix+":":"")+Ne;if(Je)for(var se=0;se<Je.length;se++){var Oe=Je[se],Ie=Le[Oe];w.escapeMode&&(Ie=L(Ie)),be+=" "+Oe.substr(w.attributePrefix.length)+"=",be+=w.useDoubleQuotes?'"'+Ie+'"':"'"+Ie+"'"}return be+(Ee?" />":">")}function Y(Le,Ne){return"</"+(Le&&Le.__prefix?Le.__prefix+":":"")+Ne+">"}function fe(Le,Ne){return!!("property"===w.arrayAccessForm&&function le(Le,Ne){return-1!==Le.indexOf(Ne,Le.length-Ne.length)}(Ne.toString(),"_asArray")||0===Ne.toString().indexOf(w.attributePrefix)||0===Ne.toString().indexOf("__")||Le[Ne]instanceof Function)}function K(Le){var Ne=0;if(Le instanceof Object)for(var Je in Le)fe(Le,Je)||Ne++;return Ne}function ee(Le){var Ne=[];if(Le instanceof Object)for(var Je in Le)-1===Je.toString().indexOf("__")&&0===Je.toString().indexOf(w.attributePrefix)&&Ne.push(Je);return Ne}function T(Le){var Ne="";return Le instanceof Object?Ne+=function ie(Le){var Ne="";return Le.__cdata&&(Ne+="<![CDATA["+Le.__cdata+"]]>"),(Le.__text||"number"==typeof Le.__text||"boolean"==typeof Le.__text)&&(Ne+=w.escapeMode?L(Le.__text):Le.__text),Ne}(Le):null!==Le&&(Ne+=w.escapeMode?L(Le):Le),Ne}function re(Le,Ne,Je){var Ee="";return w.jsAttributeFilter&&w.jsAttributeFilter.call(null,Ne,Le)||(w.jsAttributeConverter&&(Le=w.jsAttributeConverter.call(null,Ne,Le)),null!=Le&&""!==Le||!w.selfClosingElements?"object"==typeof Le?"[object Array]"===Object.prototype.toString.call(Le)?Ee+=function ae(Le,Ne,Je){var Ee="";if(0===Le.length)Ee+=Q(Le,Ne,Je,!0);else for(var be=0;be<Le.length;be++)Ee+=re(Le[be],Ne,ee(Le[be]));return Ee}(Le,Ne,Je):Le instanceof Date?(Ee+=Q(Le,Ne,Je,!1),Ee+=w.jsDateUTC?Le.toUTCString():Le.toISOString(),Ee+=Y(Le,Ne)):K(Le)>0||"number"==typeof Le.__text||"boolean"==typeof Le.__text||Le.__text||Le.__cdata?(Ee+=Q(Le,Ne,Je,!1),Ee+=Me(Le),Ee+=Y(Le,Ne)):w.selfClosingElements?Ee+=Q(Le,Ne,Je,!0):(Ee+=Q(Le,Ne,Je,!1),Ee+=Y(Le,Ne)):(Ee+=Q(Le,Ne,Je,!1),Ee+=T(Le),Ee+=Y(Le,Ne)):Ee+=Q(Le,Ne,Je,!0)),Ee}function Me(Le){var Ne="";if(K(Le)>0)for(var Ee in Le)if(!fe(Le,Ee)){var be=Le[Ee];Ne+=re(be,Ee,ee(be))}return Ne+T(Le)}function Qe(Le){if(void 0===Le||"string"!=typeof Le)return null;var Ne=null,Je=null;if(v)Je=(Ne=new v(w.xmldomOptions)).parseFromString(Le,"text/xml");else if(window&&window.DOMParser){Ne=new window.DOMParser;var Ee=null;if(!window.ActiveXObject&&!("ActiveXObject"in window)&&document.all&&!document.addEventListener)try{Ee=Ne.parseFromString("INVALID","text/xml").childNodes[0].namespaceURI}catch{Ee=null}try{Je=Ne.parseFromString(Le,"text/xml"),null!==Ee&&Je.getElementsByTagNameNS(Ee,"parsererror").length>0&&(Je=null)}catch{Je=null}}else 0===Le.indexOf("<?")&&(Le=Le.substr(Le.indexOf("?>")+2)),(Je=new ActiveXObject("Microsoft.XMLDOM")).async="false",Je.loadXML(Le);return Je}this.asArray=function(Ne){return null==Ne?[]:Ne instanceof Array?Ne:[Ne]},this.toXmlDateTime=function(Ne){return Ne instanceof Date?Ne.toISOString():"number"==typeof Ne?new Date(Ne).toISOString():null},this.asDateTime=function(Ne){return"string"==typeof Ne?N(Ne):Ne},this.xml2dom=function(Ne){return Qe(Ne)},this.dom2js=function(Ne){return V(Ne,null)},this.js2dom=function(Ne){return Qe(this.js2xml(Ne))},this.xml2js=function(Ne){var Je=Qe(Ne);return null!=Je?this.dom2js(Je):null},this.js2xml=function(Ne){return Me(Ne)},this.getVersion=function(){return"3.4.4"}}},void 0!==(e=p.apply(we,[]))&&(lt.exports=e)}()},310:()=>{},9969:(lt,we,p)=>{"use strict";p.d(we,{FX:()=>ie,If:()=>i,K2:()=>I,hZ:()=>v,i0:()=>y,iF:()=>D,kY:()=>E,kp:()=>e,sf:()=>K,ui:()=>ee,wk:()=>h});var i=function(T){return T[T.State=0]="State",T[T.Transition=1]="Transition",T[T.Sequence=2]="Sequence",T[T.Group=3]="Group",T[T.Animate=4]="Animate",T[T.Keyframes=5]="Keyframes",T[T.Style=6]="Style",T[T.Trigger=7]="Trigger",T[T.Reference=8]="Reference",T[T.AnimateChild=9]="AnimateChild",T[T.AnimateRef=10]="AnimateRef",T[T.Query=11]="Query",T[T.Stagger=12]="Stagger",T}(i||{});const e="*";function v(T,ae){return{type:i.Trigger,name:T,definitions:ae,options:{}}}function y(T,ae=null){return{type:i.Animate,styles:ae,timings:T}}function I(T,ae=null){return{type:i.Sequence,steps:T,options:ae}}function D(T){return{type:i.Style,styles:T,offset:null}}function h(T,ae,re){return{type:i.State,name:T,styles:ae,options:re}}function E(T,ae,re=null){return{type:i.Transition,expr:T,animation:ae,options:re}}class K{constructor(ae=0,re=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=ae+re}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ae=>ae()),this._onDoneFns=[])}onStart(ae){this._originalOnStartFns.push(ae),this._onStartFns.push(ae)}onDone(ae){this._originalOnDoneFns.push(ae),this._onDoneFns.push(ae)}onDestroy(ae){this._onDestroyFns.push(ae)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(ae=>ae()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(ae=>ae()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(ae){this._position=this.totalTime?ae*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(ae){const re="start"==ae?this._onStartFns:this._onDoneFns;re.forEach(Me=>Me()),re.length=0}}class ee{constructor(ae){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=ae;let re=0,Me=0,Qe=0;const Le=this.players.length;0==Le?queueMicrotask(()=>this._onFinish()):this.players.forEach(Ne=>{Ne.onDone(()=>{++re==Le&&this._onFinish()}),Ne.onDestroy(()=>{++Me==Le&&this._onDestroy()}),Ne.onStart(()=>{++Qe==Le&&this._onStart()})}),this.totalTime=this.players.reduce((Ne,Je)=>Math.max(Ne,Je.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ae=>ae()),this._onDoneFns=[])}init(){this.players.forEach(ae=>ae.init())}onStart(ae){this._onStartFns.push(ae)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(ae=>ae()),this._onStartFns=[])}onDone(ae){this._onDoneFns.push(ae)}onDestroy(ae){this._onDestroyFns.push(ae)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(ae=>ae.play())}pause(){this.players.forEach(ae=>ae.pause())}restart(){this.players.forEach(ae=>ae.restart())}finish(){this._onFinish(),this.players.forEach(ae=>ae.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(ae=>ae.destroy()),this._onDestroyFns.forEach(ae=>ae()),this._onDestroyFns=[])}reset(){this.players.forEach(ae=>ae.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(ae){const re=ae*this.totalTime;this.players.forEach(Me=>{const Qe=Me.totalTime?Math.min(1,re/Me.totalTime):1;Me.setPosition(Qe)})}getPosition(){const ae=this.players.reduce((re,Me)=>null===re||Me.totalTime>re.totalTime?Me:re,null);return null!=ae?ae.getPosition():0}beforeDestroy(){this.players.forEach(ae=>{ae.beforeDestroy&&ae.beforeDestroy()})}triggerCallback(ae){const re="start"==ae?this._onStartFns:this._onDoneFns;re.forEach(Me=>Me()),re.length=0}}const ie="!"},177:(lt,we,p)=>{"use strict";p.d(we,{AJ:()=>as,MD:()=>Fr,N0:()=>ra,P9:()=>Jr,Pc:()=>Vs,QT:()=>v,QX:()=>Or,Sm:()=>P,Sq:()=>ct,T3:()=>ii,UE:()=>wr,VF:()=>w,Vy:()=>ls,XO:()=>Ne,Xr:()=>go,YU:()=>ot,Yq:()=>je,ZD:()=>y,_b:()=>St,aZ:()=>x,bT:()=>ve,cH:()=>T,fw:()=>G,hb:()=>M,hj:()=>f,lG:()=>Ir,oV:()=>ie,qQ:()=>D,tL:()=>Je});var i=p(4438);let e=null;function v(){return e}function y(Z){e??=Z}class w{}const D=new i.nKC("");let h=(()=>{class Z{historyGo(ce){throw new Error("")}static{this.\u0275fac=function(ke){return new(ke||Z)}}static{this.\u0275prov=i.jDH({token:Z,factory:()=>(0,i.WQX)(E),providedIn:"platform"})}}return Z})();const f=new i.nKC("");let E=(()=>{class Z extends h{constructor(){super(),this._doc=(0,i.WQX)(D),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return v().getBaseHref(this._doc)}onPopState(ce){const ke=v().getGlobalEventTarget(this._doc,"window");return ke.addEventListener("popstate",ce,!1),()=>ke.removeEventListener("popstate",ce)}onHashChange(ce){const ke=v().getGlobalEventTarget(this._doc,"window");return ke.addEventListener("hashchange",ce,!1),()=>ke.removeEventListener("hashchange",ce)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(ce){this._location.pathname=ce}pushState(ce,ke,Et){this._history.pushState(ce,ke,Et)}replaceState(ce,ke,Et){this._history.replaceState(ce,ke,Et)}forward(){this._history.forward()}back(){this._history.back()}historyGo(ce=0){this._history.go(ce)}getState(){return this._history.state}static{this.\u0275fac=function(ke){return new(ke||Z)}}static{this.\u0275prov=i.jDH({token:Z,factory:()=>new Z,providedIn:"platform"})}}return Z})();function F(Z,ze){if(0==Z.length)return ze;if(0==ze.length)return Z;let ce=0;return Z.endsWith("/")&&ce++,ze.startsWith("/")&&ce++,2==ce?Z+ze.substring(1):1==ce?Z+ze:Z+"/"+ze}function L(Z){const ze=Z.match(/#|\?|$/),ce=ze&&ze.index||Z.length;return Z.slice(0,ce-("/"===Z[ce-1]?1:0))+Z.slice(ce)}function _(Z){return Z&&"?"!==Z[0]?"?"+Z:Z}let M=(()=>{class Z{historyGo(ce){throw new Error("")}static{this.\u0275fac=function(ke){return new(ke||Z)}}static{this.\u0275prov=i.jDH({token:Z,factory:()=>(0,i.WQX)(P),providedIn:"root"})}}return Z})();const N=new i.nKC("");let P=(()=>{class Z extends M{constructor(ce,ke){super(),this._platformLocation=ce,this._removeListenerFns=[],this._baseHref=ke??this._platformLocation.getBaseHrefFromDOM()??(0,i.WQX)(D).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(ce){this._removeListenerFns.push(this._platformLocation.onPopState(ce),this._platformLocation.onHashChange(ce))}getBaseHref(){return this._baseHref}prepareExternalUrl(ce){return F(this._baseHref,ce)}path(ce=!1){const ke=this._platformLocation.pathname+_(this._platformLocation.search),Et=this._platformLocation.hash;return Et&&ce?`${ke}${Et}`:ke}pushState(ce,ke,Et,dn){const Cn=this.prepareExternalUrl(Et+_(dn));this._platformLocation.pushState(ce,ke,Cn)}replaceState(ce,ke,Et,dn){const Cn=this.prepareExternalUrl(Et+_(dn));this._platformLocation.replaceState(ce,ke,Cn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(ce=0){this._platformLocation.historyGo?.(ce)}static{this.\u0275fac=function(ke){return new(ke||Z)(i.KVO(h),i.KVO(N,8))}}static{this.\u0275prov=i.jDH({token:Z,factory:Z.\u0275fac,providedIn:"root"})}}return Z})(),G=(()=>{class Z extends M{constructor(ce,ke){super(),this._platformLocation=ce,this._baseHref="",this._removeListenerFns=[],null!=ke&&(this._baseHref=ke)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(ce){this._removeListenerFns.push(this._platformLocation.onPopState(ce),this._platformLocation.onHashChange(ce))}getBaseHref(){return this._baseHref}path(ce=!1){const ke=this._platformLocation.hash??"#";return ke.length>0?ke.substring(1):ke}prepareExternalUrl(ce){const ke=F(this._baseHref,ce);return ke.length>0?"#"+ke:ke}pushState(ce,ke,Et,dn){let Cn=this.prepareExternalUrl(Et+_(dn));0==Cn.length&&(Cn=this._platformLocation.pathname),this._platformLocation.pushState(ce,ke,Cn)}replaceState(ce,ke,Et,dn){let Cn=this.prepareExternalUrl(Et+_(dn));0==Cn.length&&(Cn=this._platformLocation.pathname),this._platformLocation.replaceState(ce,ke,Cn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(ce=0){this._platformLocation.historyGo?.(ce)}static{this.\u0275fac=function(ke){return new(ke||Z)(i.KVO(h),i.KVO(N,8))}}static{this.\u0275prov=i.jDH({token:Z,factory:Z.\u0275fac})}}return Z})(),x=(()=>{class Z{constructor(ce){this._subject=new i.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=ce;const ke=this._locationStrategy.getBaseHref();this._basePath=function le(Z){if(new RegExp("^(https?:)?//").test(Z)){const[,ce]=Z.split(/\/\/[^\/]+/);return ce}return Z}(L(Y(ke))),this._locationStrategy.onPopState(Et=>{this._subject.emit({url:this.path(!0),pop:!0,state:Et.state,type:Et.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(ce=!1){return this.normalize(this._locationStrategy.path(ce))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(ce,ke=""){return this.path()==this.normalize(ce+_(ke))}normalize(ce){return Z.stripTrailingSlash(function Q(Z,ze){if(!Z||!ze.startsWith(Z))return ze;const ce=ze.substring(Z.length);return""===ce||["/",";","?","#"].includes(ce[0])?ce:ze}(this._basePath,Y(ce)))}prepareExternalUrl(ce){return ce&&"/"!==ce[0]&&(ce="/"+ce),this._locationStrategy.prepareExternalUrl(ce)}go(ce,ke="",Et=null){this._locationStrategy.pushState(Et,"",ce,ke),this._notifyUrlChangeListeners(this.prepareExternalUrl(ce+_(ke)),Et)}replaceState(ce,ke="",Et=null){this._locationStrategy.replaceState(Et,"",ce,ke),this._notifyUrlChangeListeners(this.prepareExternalUrl(ce+_(ke)),Et)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(ce=0){this._locationStrategy.historyGo?.(ce)}onUrlChange(ce){return this._urlChangeListeners.push(ce),this._urlChangeSubscription??=this.subscribe(ke=>{this._notifyUrlChangeListeners(ke.url,ke.state)}),()=>{const ke=this._urlChangeListeners.indexOf(ce);this._urlChangeListeners.splice(ke,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(ce="",ke){this._urlChangeListeners.forEach(Et=>Et(ce,ke))}subscribe(ce,ke,Et){return this._subject.subscribe({next:ce,error:ke,complete:Et})}static{this.normalizeQueryParams=_}static{this.joinWithSlash=F}static{this.stripTrailingSlash=L}static{this.\u0275fac=function(ke){return new(ke||Z)(i.KVO(M))}}static{this.\u0275prov=i.jDH({token:Z,factory:()=>function V(){return new x((0,i.KVO)(M))}(),providedIn:"root"})}}return Z})();function Y(Z){return Z.replace(/\/index.html$/,"")}var K=function(Z){return Z[Z.Decimal=0]="Decimal",Z[Z.Percent=1]="Percent",Z[Z.Currency=2]="Currency",Z[Z.Scientific=3]="Scientific",Z}(K||{}),ie=function(Z){return Z[Z.Format=0]="Format",Z[Z.Standalone=1]="Standalone",Z}(ie||{}),T=function(Z){return Z[Z.Narrow=0]="Narrow",Z[Z.Abbreviated=1]="Abbreviated",Z[Z.Wide=2]="Wide",Z[Z.Short=3]="Short",Z}(T||{}),ae=function(Z){return Z[Z.Short=0]="Short",Z[Z.Medium=1]="Medium",Z[Z.Long=2]="Long",Z[Z.Full=3]="Full",Z}(ae||{});const re={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Ne(Z,ze,ce){const ke=(0,i.H5H)(Z),dn=Ce([ke[i.KH2.DaysFormat],ke[i.KH2.DaysStandalone]],ze);return Ce(dn,ce)}function Je(Z,ze,ce){const ke=(0,i.H5H)(Z),dn=Ce([ke[i.KH2.MonthsFormat],ke[i.KH2.MonthsStandalone]],ze);return Ce(dn,ce)}function Oe(Z,ze){return Ce((0,i.H5H)(Z)[i.KH2.DateFormat],ze)}function Ie(Z,ze){return Ce((0,i.H5H)(Z)[i.KH2.TimeFormat],ze)}function it(Z,ze){return Ce((0,i.H5H)(Z)[i.KH2.DateTimeFormat],ze)}function xe(Z,ze){const ce=(0,i.H5H)(Z),ke=ce[i.KH2.NumberSymbols][ze];if(typeof ke>"u"){if(ze===re.CurrencyDecimal)return ce[i.KH2.NumberSymbols][re.Decimal];if(ze===re.CurrencyGroup)return ce[i.KH2.NumberSymbols][re.Group]}return ke}function z(Z){if(!Z[i.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${Z[i.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Ce(Z,ze){for(let ce=ze;ce>-1;ce--)if(typeof Z[ce]<"u")return Z[ce];throw new Error("Locale data API: locale data undefined")}function st(Z){const[ze,ce]=Z.split(":");return{hours:+ze,minutes:+ce}}const mt=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,tt={},$t=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var en=function(Z){return Z[Z.Short=0]="Short",Z[Z.ShortGMT=1]="ShortGMT",Z[Z.Long=2]="Long",Z[Z.Extended=3]="Extended",Z}(en||{}),Ot=function(Z){return Z[Z.FullYear=0]="FullYear",Z[Z.Month=1]="Month",Z[Z.Date=2]="Date",Z[Z.Hours=3]="Hours",Z[Z.Minutes=4]="Minutes",Z[Z.Seconds=5]="Seconds",Z[Z.FractionalSeconds=6]="FractionalSeconds",Z[Z.Day=7]="Day",Z}(Ot||{}),Yt=function(Z){return Z[Z.DayPeriods=0]="DayPeriods",Z[Z.Days=1]="Days",Z[Z.Months=2]="Months",Z[Z.Eras=3]="Eras",Z}(Yt||{});function je(Z,ze,ce,ke){let Et=function Ln(Z){if(ui(Z))return Z;if("number"==typeof Z&&!isNaN(Z))return new Date(Z);if("string"==typeof Z){if(Z=Z.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(Z)){const[Et,dn=1,Cn=1]=Z.split("-").map(Xn=>+Xn);return oe(Et,dn-1,Cn)}const ce=parseFloat(Z);if(!isNaN(Z-ce))return new Date(ce);let ke;if(ke=Z.match(mt))return function un(Z){const ze=new Date(0);let ce=0,ke=0;const Et=Z[8]?ze.setUTCFullYear:ze.setFullYear,dn=Z[8]?ze.setUTCHours:ze.setHours;Z[9]&&(ce=Number(Z[9]+Z[10]),ke=Number(Z[9]+Z[11])),Et.call(ze,Number(Z[1]),Number(Z[2])-1,Number(Z[3]));const Cn=Number(Z[4]||0)-ce,Xn=Number(Z[5]||0)-ke,mr=Number(Z[6]||0),or=Math.floor(1e3*parseFloat("0."+(Z[7]||0)));return dn.call(ze,Cn,Xn,mr,or),ze}(ke)}const ze=new Date(Z);if(!ui(ze))throw new Error(`Unable to convert "${Z}" into a date`);return ze}(Z);ze=H(ce,ze)||ze;let Xn,Cn=[];for(;ze;){if(Xn=$t.exec(ze),!Xn){Cn.push(ze);break}{Cn=Cn.concat(Xn.slice(1));const Xi=Cn.pop();if(!Xi)break;ze=Xi}}let mr=Et.getTimezoneOffset();ke&&(mr=Nt(ke,mr),Et=function En(Z,ze,ce){const ke=ce?-1:1,Et=Z.getTimezoneOffset();return function tn(Z,ze){return(Z=new Date(Z.getTime())).setMinutes(Z.getMinutes()+ze),Z}(Z,ke*(Nt(ze,Et)-Et))}(Et,ke,!0));let or="";return Cn.forEach(Xi=>{const Gi=function _t(Z){if(Wt[Z])return Wt[Z];let ze;switch(Z){case"G":case"GG":case"GGG":ze=sn(Yt.Eras,T.Abbreviated);break;case"GGGG":ze=sn(Yt.Eras,T.Wide);break;case"GGGGG":ze=sn(Yt.Eras,T.Narrow);break;case"y":ze=ft(Ot.FullYear,1,0,!1,!0);break;case"yy":ze=ft(Ot.FullYear,2,0,!0,!0);break;case"yyy":ze=ft(Ot.FullYear,3,0,!1,!0);break;case"yyyy":ze=ft(Ot.FullYear,4,0,!1,!0);break;case"Y":ze=Rt(1);break;case"YY":ze=Rt(2,!0);break;case"YYY":ze=Rt(3);break;case"YYYY":ze=Rt(4);break;case"M":case"L":ze=ft(Ot.Month,1,1);break;case"MM":case"LL":ze=ft(Ot.Month,2,1);break;case"MMM":ze=sn(Yt.Months,T.Abbreviated);break;case"MMMM":ze=sn(Yt.Months,T.Wide);break;case"MMMMM":ze=sn(Yt.Months,T.Narrow);break;case"LLL":ze=sn(Yt.Months,T.Abbreviated,ie.Standalone);break;case"LLLL":ze=sn(Yt.Months,T.Wide,ie.Standalone);break;case"LLLLL":ze=sn(Yt.Months,T.Narrow,ie.Standalone);break;case"w":ze=wi(1);break;case"ww":ze=wi(2);break;case"W":ze=wi(1,!0);break;case"d":ze=ft(Ot.Date,1);break;case"dd":ze=ft(Ot.Date,2);break;case"c":case"cc":ze=ft(Ot.Day,1);break;case"ccc":ze=sn(Yt.Days,T.Abbreviated,ie.Standalone);break;case"cccc":ze=sn(Yt.Days,T.Wide,ie.Standalone);break;case"ccccc":ze=sn(Yt.Days,T.Narrow,ie.Standalone);break;case"cccccc":ze=sn(Yt.Days,T.Short,ie.Standalone);break;case"E":case"EE":case"EEE":ze=sn(Yt.Days,T.Abbreviated);break;case"EEEE":ze=sn(Yt.Days,T.Wide);break;case"EEEEE":ze=sn(Yt.Days,T.Narrow);break;case"EEEEEE":ze=sn(Yt.Days,T.Short);break;case"a":case"aa":case"aaa":ze=sn(Yt.DayPeriods,T.Abbreviated);break;case"aaaa":ze=sn(Yt.DayPeriods,T.Wide);break;case"aaaaa":ze=sn(Yt.DayPeriods,T.Narrow);break;case"b":case"bb":case"bbb":ze=sn(Yt.DayPeriods,T.Abbreviated,ie.Standalone,!0);break;case"bbbb":ze=sn(Yt.DayPeriods,T.Wide,ie.Standalone,!0);break;case"bbbbb":ze=sn(Yt.DayPeriods,T.Narrow,ie.Standalone,!0);break;case"B":case"BB":case"BBB":ze=sn(Yt.DayPeriods,T.Abbreviated,ie.Format,!0);break;case"BBBB":ze=sn(Yt.DayPeriods,T.Wide,ie.Format,!0);break;case"BBBBB":ze=sn(Yt.DayPeriods,T.Narrow,ie.Format,!0);break;case"h":ze=ft(Ot.Hours,1,-12);break;case"hh":ze=ft(Ot.Hours,2,-12);break;case"H":ze=ft(Ot.Hours,1);break;case"HH":ze=ft(Ot.Hours,2);break;case"m":ze=ft(Ot.Minutes,1);break;case"mm":ze=ft(Ot.Minutes,2);break;case"s":ze=ft(Ot.Seconds,1);break;case"ss":ze=ft(Ot.Seconds,2);break;case"S":ze=ft(Ot.FractionalSeconds,1);break;case"SS":ze=ft(Ot.FractionalSeconds,2);break;case"SSS":ze=ft(Ot.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":ze=In(en.Short);break;case"ZZZZZ":ze=In(en.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":ze=In(en.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":ze=In(en.Long);break;default:return null}return Wt[Z]=ze,ze}(Xi);or+=Gi?Gi(Et,ce,mr):"''"===Xi?"'":Xi.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),or}function oe(Z,ze,ce){const ke=new Date(0);return ke.setFullYear(Z,ze,ce),ke.setHours(0,0,0),ke}function H(Z,ze){const ce=function Qe(Z){return(0,i.H5H)(Z)[i.KH2.LocaleId]}(Z);if(tt[ce]??={},tt[ce][ze])return tt[ce][ze];let ke="";switch(ze){case"shortDate":ke=Oe(Z,ae.Short);break;case"mediumDate":ke=Oe(Z,ae.Medium);break;case"longDate":ke=Oe(Z,ae.Long);break;case"fullDate":ke=Oe(Z,ae.Full);break;case"shortTime":ke=Ie(Z,ae.Short);break;case"mediumTime":ke=Ie(Z,ae.Medium);break;case"longTime":ke=Ie(Z,ae.Long);break;case"fullTime":ke=Ie(Z,ae.Full);break;case"short":const Et=H(Z,"shortTime"),dn=H(Z,"shortDate");ke=te(it(Z,ae.Short),[Et,dn]);break;case"medium":const Cn=H(Z,"mediumTime"),Xn=H(Z,"mediumDate");ke=te(it(Z,ae.Medium),[Cn,Xn]);break;case"long":const mr=H(Z,"longTime"),or=H(Z,"longDate");ke=te(it(Z,ae.Long),[mr,or]);break;case"full":const Xi=H(Z,"fullTime"),Gi=H(Z,"fullDate");ke=te(it(Z,ae.Full),[Xi,Gi])}return ke&&(tt[ce][ze]=ke),ke}function te(Z,ze){return ze&&(Z=Z.replace(/\{([^}]+)}/g,function(ce,ke){return null!=ze&&ke in ze?ze[ke]:ce})),Z}function Ue(Z,ze,ce="-",ke,Et){let dn="";(Z<0||Et&&Z<=0)&&(Et?Z=1-Z:(Z=-Z,dn=ce));let Cn=String(Z);for(;Cn.length<ze;)Cn="0"+Cn;return ke&&(Cn=Cn.slice(Cn.length-ze)),dn+Cn}function ft(Z,ze,ce=0,ke=!1,Et=!1){return function(dn,Cn){let Xn=function Ft(Z,ze){switch(Z){case Ot.FullYear:return ze.getFullYear();case Ot.Month:return ze.getMonth();case Ot.Date:return ze.getDate();case Ot.Hours:return ze.getHours();case Ot.Minutes:return ze.getMinutes();case Ot.Seconds:return ze.getSeconds();case Ot.FractionalSeconds:return ze.getMilliseconds();case Ot.Day:return ze.getDay();default:throw new Error(`Unknown DateType value "${Z}".`)}}(Z,dn);if((ce>0||Xn>-ce)&&(Xn+=ce),Z===Ot.Hours)0===Xn&&-12===ce&&(Xn=12);else if(Z===Ot.FractionalSeconds)return function et(Z,ze){return Ue(Z,3).substring(0,ze)}(Xn,ze);const mr=xe(Cn,re.MinusSign);return Ue(Xn,ze,mr,ke,Et)}}function sn(Z,ze,ce=ie.Format,ke=!1){return function(Et,dn){return function cn(Z,ze,ce,ke,Et,dn){switch(ce){case Yt.Months:return Je(ze,Et,ke)[Z.getMonth()];case Yt.Days:return Ne(ze,Et,ke)[Z.getDay()];case Yt.DayPeriods:const Cn=Z.getHours(),Xn=Z.getMinutes();if(dn){const or=function W(Z){const ze=(0,i.H5H)(Z);return z(ze),(ze[i.KH2.ExtraData][2]||[]).map(ke=>"string"==typeof ke?st(ke):[st(ke[0]),st(ke[1])])}(ze),Xi=function J(Z,ze,ce){const ke=(0,i.H5H)(Z);z(ke);const dn=Ce([ke[i.KH2.ExtraData][0],ke[i.KH2.ExtraData][1]],ze)||[];return Ce(dn,ce)||[]}(ze,Et,ke),Gi=or.findIndex(ti=>{if(Array.isArray(ti)){const[Ji,hr]=ti,he=Cn>=Ji.hours&&Xn>=Ji.minutes,k=Cn<hr.hours||Cn===hr.hours&&Xn<hr.minutes;if(Ji.hours<hr.hours){if(he&&k)return!0}else if(he||k)return!0}else if(ti.hours===Cn&&ti.minutes===Xn)return!0;return!1});if(-1!==Gi)return Xi[Gi]}return function Le(Z,ze,ce){const ke=(0,i.H5H)(Z),dn=Ce([ke[i.KH2.DayPeriodsFormat],ke[i.KH2.DayPeriodsStandalone]],ze);return Ce(dn,ce)}(ze,Et,ke)[Cn<12?0:1];case Yt.Eras:return function Ee(Z,ze){return Ce((0,i.H5H)(Z)[i.KH2.Eras],ze)}(ze,ke)[Z.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${ce}`)}}(Et,dn,Z,ze,ce,ke)}}function In(Z){return function(ze,ce,ke){const Et=-1*ke,dn=xe(ce,re.MinusSign),Cn=Et>0?Math.floor(Et/60):Math.ceil(Et/60);switch(Z){case en.Short:return(Et>=0?"+":"")+Ue(Cn,2,dn)+Ue(Math.abs(Et%60),2,dn);case en.ShortGMT:return"GMT"+(Et>=0?"+":"")+Ue(Cn,1,dn);case en.Long:return"GMT"+(Et>=0?"+":"")+Ue(Cn,2,dn)+":"+Ue(Math.abs(Et%60),2,dn);case en.Extended:return 0===ke?"Z":(Et>=0?"+":"")+Ue(Cn,2,dn)+":"+Ue(Math.abs(Et%60),2,dn);default:throw new Error(`Unknown zone width "${Z}"`)}}}const An=0,Fn=4;function ki(Z){const ze=Z.getDay(),ce=0===ze?-3:Fn-ze;return oe(Z.getFullYear(),Z.getMonth(),Z.getDate()+ce)}function wi(Z,ze=!1){return function(ce,ke){let Et;if(ze){const dn=new Date(ce.getFullYear(),ce.getMonth(),1).getDay()-1,Cn=ce.getDate();Et=1+Math.floor((Cn+dn)/7)}else{const dn=ki(ce),Cn=function Pn(Z){const ze=oe(Z,An,1).getDay();return oe(Z,0,1+(ze<=Fn?Fn:Fn+7)-ze)}(dn.getFullYear()),Xn=dn.getTime()-Cn.getTime();Et=1+Math.round(Xn/6048e5)}return Ue(Et,Z,xe(ke,re.MinusSign))}}function Rt(Z,ze=!1){return function(ce,ke){return Ue(ki(ce).getFullYear(),Z,xe(ke,re.MinusSign),ze)}}const Wt={};function Nt(Z,ze){Z=Z.replace(/:/g,"");const ce=Date.parse("Jan 01, 1970 00:00:00 "+Z)/6e4;return isNaN(ce)?ze:ce}function ui(Z){return Z instanceof Date&&!isNaN(Z.valueOf())}const jn=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function pi(Z){const ze=parseInt(Z);if(isNaN(ze))throw new Error("Invalid integer literal when parsing "+Z);return ze}function St(Z,ze){ze=encodeURIComponent(ze);for(const ce of Z.split(";")){const ke=ce.indexOf("="),[Et,dn]=-1==ke?[ce,""]:[ce.slice(0,ke),ce.slice(ke+1)];if(Et.trim()===ze)return decodeURIComponent(dn)}return null}const We=/\s+/,Gt=[];let ot=(()=>{class Z{constructor(ce,ke){this._ngEl=ce,this._renderer=ke,this.initialClasses=Gt,this.stateMap=new Map}set klass(ce){this.initialClasses=null!=ce?ce.trim().split(We):Gt}set ngClass(ce){this.rawClass="string"==typeof ce?ce.trim().split(We):ce}ngDoCheck(){for(const ke of this.initialClasses)this._updateState(ke,!0);const ce=this.rawClass;if(Array.isArray(ce)||ce instanceof Set)for(const ke of ce)this._updateState(ke,!0);else if(null!=ce)for(const ke of Object.keys(ce))this._updateState(ke,!!ce[ke]);this._applyStateDiff()}_updateState(ce,ke){const Et=this.stateMap.get(ce);void 0!==Et?(Et.enabled!==ke&&(Et.changed=!0,Et.enabled=ke),Et.touched=!0):this.stateMap.set(ce,{enabled:ke,changed:!0,touched:!0})}_applyStateDiff(){for(const ce of this.stateMap){const ke=ce[0],Et=ce[1];Et.changed?(this._toggleClass(ke,Et.enabled),Et.changed=!1):Et.touched||(Et.enabled&&this._toggleClass(ke,!1),this.stateMap.delete(ke)),Et.touched=!1}}_toggleClass(ce,ke){(ce=ce.trim()).length>0&&ce.split(We).forEach(Et=>{ke?this._renderer.addClass(this._ngEl.nativeElement,Et):this._renderer.removeClass(this._ngEl.nativeElement,Et)})}static{this.\u0275fac=function(ke){return new(ke||Z)(i.rXU(i.aKT),i.rXU(i.sFG))}}static{this.\u0275dir=i.FsC({type:Z,selectors:[["","ngClass",""]],inputs:{klass:[i.Mj6.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return Z})();class Xt{constructor(ze,ce,ke,Et){this.$implicit=ze,this.ngForOf=ce,this.index=ke,this.count=Et}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ct=(()=>{class Z{set ngForOf(ce){this._ngForOf=ce,this._ngForOfDirty=!0}set ngForTrackBy(ce){this._trackByFn=ce}get ngForTrackBy(){return this._trackByFn}constructor(ce,ke,Et){this._viewContainer=ce,this._template=ke,this._differs=Et,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(ce){ce&&(this._template=ce)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const ce=this._ngForOf;!this._differ&&ce&&(this._differ=this._differs.find(ce).create(this.ngForTrackBy))}if(this._differ){const ce=this._differ.diff(this._ngForOf);ce&&this._applyChanges(ce)}}_applyChanges(ce){const ke=this._viewContainer;ce.forEachOperation((Et,dn,Cn)=>{if(null==Et.previousIndex)ke.createEmbeddedView(this._template,new Xt(Et.item,this._ngForOf,-1,-1),null===Cn?void 0:Cn);else if(null==Cn)ke.remove(null===dn?void 0:dn);else if(null!==dn){const Xn=ke.get(dn);ke.move(Xn,Cn),ye(Xn,Et)}});for(let Et=0,dn=ke.length;Et<dn;Et++){const Xn=ke.get(Et).context;Xn.index=Et,Xn.count=dn,Xn.ngForOf=this._ngForOf}ce.forEachIdentityChange(Et=>{ye(ke.get(Et.currentIndex),Et)})}static ngTemplateContextGuard(ce,ke){return!0}static{this.\u0275fac=function(ke){return new(ke||Z)(i.rXU(i.c1b),i.rXU(i.C4Q),i.rXU(i._q3))}}static{this.\u0275dir=i.FsC({type:Z,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return Z})();function ye(Z,ze){Z.context.$implicit=ze.item}let ve=(()=>{class Z{constructor(ce,ke){this._viewContainer=ce,this._context=new ht,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ke}set ngIf(ce){this._context.$implicit=this._context.ngIf=ce,this._updateView()}set ngIfThen(ce){Ke("ngIfThen",ce),this._thenTemplateRef=ce,this._thenViewRef=null,this._updateView()}set ngIfElse(ce){Ke("ngIfElse",ce),this._elseTemplateRef=ce,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(ce,ke){return!0}static{this.\u0275fac=function(ke){return new(ke||Z)(i.rXU(i.c1b),i.rXU(i.C4Q))}}static{this.\u0275dir=i.FsC({type:Z,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return Z})();class ht{constructor(){this.$implicit=null,this.ngIf=null}}function Ke(Z,ze){if(ze&&!ze.createEmbeddedView)throw new Error(`${Z} must be a TemplateRef, but received '${(0,i.Tbb)(ze)}'.`)}let ii=(()=>{class Z{constructor(ce){this._viewContainerRef=ce,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(ce){if(this._shouldRecreateView(ce)){const ke=this._viewContainerRef;if(this._viewRef&&ke.remove(ke.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const Et=this._createContextForwardProxy();this._viewRef=ke.createEmbeddedView(this.ngTemplateOutlet,Et,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(ce){return!!ce.ngTemplateOutlet||!!ce.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(ce,ke,Et)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,ke,Et),get:(ce,ke,Et)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,ke,Et)}})}static{this.\u0275fac=function(ke){return new(ke||Z)(i.rXU(i.c1b))}}static{this.\u0275dir=i.FsC({type:Z,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[i.OA$]})}}return Z})();function Ai(Z,ze){return new i.wOt(2100,!1)}let Vs=(()=>{class Z{transform(ce){if(null==ce)return null;if("string"!=typeof ce)throw Ai();return ce.toUpperCase()}static{this.\u0275fac=function(ke){return new(ke||Z)}}static{this.\u0275pipe=i.EJ8({name:"uppercase",type:Z,pure:!0,standalone:!0})}}return Z})(),Ir=(()=>{class Z{constructor(ce){this.differs=ce,this.keyValues=[],this.compareFn=Dr}transform(ce,ke=Dr){if(!ce||!(ce instanceof Map)&&"object"!=typeof ce)return null;this.differ??=this.differs.find(ce).create();const Et=this.differ.diff(ce),dn=ke!==this.compareFn;return Et&&(this.keyValues=[],Et.forEachItem(Cn=>{this.keyValues.push(function vr(Z,ze){return{key:Z,value:ze}}(Cn.key,Cn.currentValue))})),(Et||dn)&&(this.keyValues.sort(ke),this.compareFn=ke),this.keyValues}static{this.\u0275fac=function(ke){return new(ke||Z)(i.rXU(i.MKu,16))}}static{this.\u0275pipe=i.EJ8({name:"keyvalue",type:Z,pure:!1,standalone:!0})}}return Z})();function Dr(Z,ze){const ce=Z.key,ke=ze.key;if(ce===ke)return 0;if(void 0===ce)return 1;if(void 0===ke)return-1;if(null===ce)return 1;if(null===ke)return-1;if("string"==typeof ce&&"string"==typeof ke)return ce<ke?-1:1;if("number"==typeof ce&&"number"==typeof ke)return ce-ke;if("boolean"==typeof ce&&"boolean"==typeof ke)return ce<ke?-1:1;const Et=String(ce),dn=String(ke);return Et==dn?0:Et<dn?-1:1}let Or=(()=>{class Z{constructor(ce){this._locale=ce}transform(ce,ke,Et){if(!function tr(Z){return!(null==Z||""===Z||Z!=Z)}(ce))return null;Et||=this._locale;try{return function fi(Z,ze,ce){return function Tn(Z,ze,ce,ke,Et,dn,Cn=!1){let Xn="",mr=!1;if(isFinite(Z)){let or=function Kn(Z){let ke,Et,dn,Cn,Xn,ze=Math.abs(Z)+"",ce=0;for((Et=ze.indexOf("."))>-1&&(ze=ze.replace(".","")),(dn=ze.search(/e/i))>0?(Et<0&&(Et=dn),Et+=+ze.slice(dn+1),ze=ze.substring(0,dn)):Et<0&&(Et=ze.length),dn=0;"0"===ze.charAt(dn);dn++);if(dn===(Xn=ze.length))ke=[0],Et=1;else{for(Xn--;"0"===ze.charAt(Xn);)Xn--;for(Et-=dn,ke=[],Cn=0;dn<=Xn;dn++,Cn++)ke[Cn]=Number(ze.charAt(dn))}return Et>22&&(ke=ke.splice(0,21),ce=Et-1,Et=1),{digits:ke,exponent:ce,integerLen:Et}}(Z);Cn&&(or=function Pi(Z){if(0===Z.digits[0])return Z;const ze=Z.digits.length-Z.integerLen;return Z.exponent?Z.exponent+=2:(0===ze?Z.digits.push(0,0):1===ze&&Z.digits.push(0),Z.integerLen+=2),Z}(or));let Xi=ze.minInt,Gi=ze.minFrac,ti=ze.maxFrac;if(dn){const Ae=dn.match(jn);if(null===Ae)throw new Error(`${dn} is not a valid digit info`);const nt=Ae[1],At=Ae[3],Lt=Ae[5];null!=nt&&(Xi=pi(nt)),null!=At&&(Gi=pi(At)),null!=Lt?ti=pi(Lt):null!=At&&Gi>ti&&(ti=Gi)}!function Si(Z,ze,ce){if(ze>ce)throw new Error(`The minimum number of digits after fraction (${ze}) is higher than the maximum (${ce}).`);let ke=Z.digits,Et=ke.length-Z.integerLen;const dn=Math.min(Math.max(ze,Et),ce);let Cn=dn+Z.integerLen,Xn=ke[Cn];if(Cn>0){ke.splice(Math.max(Z.integerLen,Cn));for(let Gi=Cn;Gi<ke.length;Gi++)ke[Gi]=0}else{Et=Math.max(0,Et),Z.integerLen=1,ke.length=Math.max(1,Cn=dn+1),ke[0]=0;for(let Gi=1;Gi<Cn;Gi++)ke[Gi]=0}if(Xn>=5)if(Cn-1<0){for(let Gi=0;Gi>Cn;Gi--)ke.unshift(0),Z.integerLen++;ke.unshift(1),Z.integerLen++}else ke[Cn-1]++;for(;Et<Math.max(0,dn);Et++)ke.push(0);let mr=0!==dn;const or=ze+Z.integerLen,Xi=ke.reduceRight(function(Gi,ti,Ji,hr){return hr[Ji]=(ti+=Gi)<10?ti:ti-10,mr&&(0===hr[Ji]&&Ji>=or?hr.pop():mr=!1),ti>=10?1:0},0);Xi&&(ke.unshift(Xi),Z.integerLen++)}(or,Gi,ti);let Ji=or.digits,hr=or.integerLen;const he=or.exponent;let k=[];for(mr=Ji.every(Ae=>!Ae);hr<Xi;hr++)Ji.unshift(0);for(;hr<0;hr++)Ji.unshift(0);hr>0?k=Ji.splice(hr,Ji.length):(k=Ji,Ji=[0]);const ue=[];for(Ji.length>=ze.lgSize&&ue.unshift(Ji.splice(-ze.lgSize,Ji.length).join(""));Ji.length>ze.gSize;)ue.unshift(Ji.splice(-ze.gSize,Ji.length).join(""));Ji.length&&ue.unshift(Ji.join("")),Xn=ue.join(xe(ce,ke)),k.length&&(Xn+=xe(ce,Et)+k.join("")),he&&(Xn+=xe(ce,re.Exponential)+"+"+he)}else Xn=xe(ce,re.Infinity);return Xn=Z<0&&!mr?ze.negPre+Xn+ze.negSuf:ze.posPre+Xn+ze.posSuf,Xn}(Z,function qn(Z,ze="-"){const ce={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},ke=Z.split(";"),Et=ke[0],dn=ke[1],Cn=-1!==Et.indexOf(".")?Et.split("."):[Et.substring(0,Et.lastIndexOf("0")+1),Et.substring(Et.lastIndexOf("0")+1)],Xn=Cn[0],mr=Cn[1]||"";ce.posPre=Xn.substring(0,Xn.indexOf("#"));for(let Xi=0;Xi<mr.length;Xi++){const Gi=mr.charAt(Xi);"0"===Gi?ce.minFrac=ce.maxFrac=Xi+1:"#"===Gi?ce.maxFrac=Xi+1:ce.posSuf+=Gi}const or=Xn.split(",");if(ce.gSize=or[1]?or[1].length:0,ce.lgSize=or[2]||or[1]?(or[2]||or[1]).length:0,dn){const Xi=Et.length-ce.posPre.length-ce.posSuf.length,Gi=dn.indexOf("#");ce.negPre=dn.substring(0,Gi).replace(/'/g,""),ce.negSuf=dn.slice(Gi+Xi).replace(/'/g,"")}else ce.negPre=ze+ce.posPre,ce.negSuf=ce.posSuf;return ce}(function pt(Z,ze){return(0,i.H5H)(Z)[i.KH2.NumberFormats][ze]}(ze,K.Decimal),xe(ze,re.MinusSign)),ze,re.Group,re.Decimal,ce)}(function Gn(Z){if("string"==typeof Z&&!isNaN(Number(Z)-parseFloat(Z)))return Number(Z);if("number"!=typeof Z)throw new Error(`${Z} is not a number`);return Z}(ce),Et,ke)}catch(dn){throw Ai()}}static{this.\u0275fac=function(ke){return new(ke||Z)(i.rXU(i.xe9,16))}}static{this.\u0275pipe=i.EJ8({name:"number",type:Z,pure:!0,standalone:!0})}}return Z})();let Jr=(()=>{class Z{transform(ce,ke,Et){if(null==ce)return null;if(!this.supports(ce))throw Ai();return ce.slice(ke,Et)}supports(ce){return"string"==typeof ce||Array.isArray(ce)}static{this.\u0275fac=function(ke){return new(ke||Z)}}static{this.\u0275pipe=i.EJ8({name:"slice",type:Z,pure:!1,standalone:!0})}}return Z})(),Fr=(()=>{class Z{static{this.\u0275fac=function(ke){return new(ke||Z)}}static{this.\u0275mod=i.$C({type:Z})}static{this.\u0275inj=i.G2t({})}}return Z})();const as="browser",ro="server";function wr(Z){return Z===as}function ls(Z){return Z===ro}let go=(()=>{class Z{static{this.\u0275prov=(0,i.jDH)({token:Z,providedIn:"root",factory:()=>wr((0,i.WQX)(i.Agw))?new nr((0,i.WQX)(D),window):new Go})}}return Z})();class nr{constructor(ze,ce){this.document=ze,this.window=ce,this.offset=()=>[0,0]}setOffset(ze){this.offset=Array.isArray(ze)?()=>ze:ze}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(ze){this.window.scrollTo(ze[0],ze[1])}scrollToAnchor(ze){const ce=function rs(Z,ze){const ce=Z.getElementById(ze)||Z.getElementsByName(ze)[0];if(ce)return ce;if("function"==typeof Z.createTreeWalker&&Z.body&&"function"==typeof Z.body.attachShadow){const ke=Z.createTreeWalker(Z.body,NodeFilter.SHOW_ELEMENT);let Et=ke.currentNode;for(;Et;){const dn=Et.shadowRoot;if(dn){const Cn=dn.getElementById(ze)||dn.querySelector(`[name="${ze}"]`);if(Cn)return Cn}Et=ke.nextNode()}}return null}(this.document,ze);ce&&(this.scrollToElement(ce),ce.focus())}setHistoryScrollRestoration(ze){this.window.history.scrollRestoration=ze}scrollToElement(ze){const ce=ze.getBoundingClientRect(),ke=ce.left+this.window.pageXOffset,Et=ce.top+this.window.pageYOffset,dn=this.offset();this.window.scrollTo(ke-dn[0],Et-dn[1])}}class Go{setOffset(ze){}getScrollPosition(){return[0,0]}scrollToPosition(ze){}scrollToAnchor(ze){}setHistoryScrollRestoration(ze){}}class ra{}},1626:(lt,we,p)=>{"use strict";p.d(we,{Lr:()=>M,Nl:()=>le,Qq:()=>Oe,a7:()=>W,q1:()=>Vt,yz:()=>Ee}),p(467);var e=p(4438),v=p(7673),y=p(1985),w=p(6648),I=p(274),D=p(5964),h=p(6354),f=p(980),E=p(5558),F=p(177);class L{}class _{}class M{constructor(St){this.normalizedNames=new Map,this.lazyUpdate=null,St?"string"==typeof St?this.lazyInit=()=>{this.headers=new Map,St.split("\n").forEach(We=>{const Gt=We.indexOf(":");if(Gt>0){const ot=We.slice(0,Gt),Ht=ot.toLowerCase(),Ye=We.slice(Gt+1).trim();this.maybeSetNormalizedName(ot,Ht),this.headers.has(Ht)?this.headers.get(Ht).push(Ye):this.headers.set(Ht,[Ye])}})}:typeof Headers<"u"&&St instanceof Headers?(this.headers=new Map,St.forEach((We,Gt)=>{this.setHeaderEntries(Gt,We)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(St).forEach(([We,Gt])=>{this.setHeaderEntries(We,Gt)})}:this.headers=new Map}has(St){return this.init(),this.headers.has(St.toLowerCase())}get(St){this.init();const We=this.headers.get(St.toLowerCase());return We&&We.length>0?We[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(St){return this.init(),this.headers.get(St.toLowerCase())||null}append(St,We){return this.clone({name:St,value:We,op:"a"})}set(St,We){return this.clone({name:St,value:We,op:"s"})}delete(St,We){return this.clone({name:St,value:We,op:"d"})}maybeSetNormalizedName(St,We){this.normalizedNames.has(We)||this.normalizedNames.set(We,St)}init(){this.lazyInit&&(this.lazyInit instanceof M?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(St=>this.applyUpdate(St)),this.lazyUpdate=null))}copyFrom(St){St.init(),Array.from(St.headers.keys()).forEach(We=>{this.headers.set(We,St.headers.get(We)),this.normalizedNames.set(We,St.normalizedNames.get(We))})}clone(St){const We=new M;return We.lazyInit=this.lazyInit&&this.lazyInit instanceof M?this.lazyInit:this,We.lazyUpdate=(this.lazyUpdate||[]).concat([St]),We}applyUpdate(St){const We=St.name.toLowerCase();switch(St.op){case"a":case"s":let Gt=St.value;if("string"==typeof Gt&&(Gt=[Gt]),0===Gt.length)return;this.maybeSetNormalizedName(St.name,We);const ot=("a"===St.op?this.headers.get(We):void 0)||[];ot.push(...Gt),this.headers.set(We,ot);break;case"d":const Ht=St.value;if(Ht){let Ye=this.headers.get(We);if(!Ye)return;Ye=Ye.filter(Xt=>-1===Ht.indexOf(Xt)),0===Ye.length?(this.headers.delete(We),this.normalizedNames.delete(We)):this.headers.set(We,Ye)}else this.headers.delete(We),this.normalizedNames.delete(We)}}setHeaderEntries(St,We){const Gt=(Array.isArray(We)?We:[We]).map(Ht=>Ht.toString()),ot=St.toLowerCase();this.headers.set(ot,Gt),this.maybeSetNormalizedName(St,ot)}forEach(St){this.init(),Array.from(this.normalizedNames.keys()).forEach(We=>St(this.normalizedNames.get(We),this.headers.get(We)))}}class P{encodeKey(St){return Q(St)}encodeValue(St){return Q(St)}decodeKey(St){return decodeURIComponent(St)}decodeValue(St){return decodeURIComponent(St)}}const x=/%(\d[a-f0-9])/gi,V={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Q(qe){return encodeURIComponent(qe).replace(x,(St,We)=>V[We]??St)}function Y(qe){return`${qe}`}class le{constructor(St={}){if(this.updates=null,this.cloneFrom=null,this.encoder=St.encoder||new P,St.fromString){if(St.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function G(qe,St){const We=new Map;return qe.length>0&&qe.replace(/^\?/,"").split("&").forEach(ot=>{const Ht=ot.indexOf("="),[Ye,Xt]=-1==Ht?[St.decodeKey(ot),""]:[St.decodeKey(ot.slice(0,Ht)),St.decodeValue(ot.slice(Ht+1))],ct=We.get(Ye)||[];ct.push(Xt),We.set(Ye,ct)}),We}(St.fromString,this.encoder)}else St.fromObject?(this.map=new Map,Object.keys(St.fromObject).forEach(We=>{const Gt=St.fromObject[We],ot=Array.isArray(Gt)?Gt.map(Y):[Y(Gt)];this.map.set(We,ot)})):this.map=null}has(St){return this.init(),this.map.has(St)}get(St){this.init();const We=this.map.get(St);return We?We[0]:null}getAll(St){return this.init(),this.map.get(St)||null}keys(){return this.init(),Array.from(this.map.keys())}append(St,We){return this.clone({param:St,value:We,op:"a"})}appendAll(St){const We=[];return Object.keys(St).forEach(Gt=>{const ot=St[Gt];Array.isArray(ot)?ot.forEach(Ht=>{We.push({param:Gt,value:Ht,op:"a"})}):We.push({param:Gt,value:ot,op:"a"})}),this.clone(We)}set(St,We){return this.clone({param:St,value:We,op:"s"})}delete(St,We){return this.clone({param:St,value:We,op:"d"})}toString(){return this.init(),this.keys().map(St=>{const We=this.encoder.encodeKey(St);return this.map.get(St).map(Gt=>We+"="+this.encoder.encodeValue(Gt)).join("&")}).filter(St=>""!==St).join("&")}clone(St){const We=new le({encoder:this.encoder});return We.cloneFrom=this.cloneFrom||this,We.updates=(this.updates||[]).concat(St),We}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(St=>this.map.set(St,this.cloneFrom.map.get(St))),this.updates.forEach(St=>{switch(St.op){case"a":case"s":const We=("a"===St.op?this.map.get(St.param):void 0)||[];We.push(Y(St.value)),this.map.set(St.param,We);break;case"d":if(void 0===St.value){this.map.delete(St.param);break}{let Gt=this.map.get(St.param)||[];const ot=Gt.indexOf(Y(St.value));-1!==ot&&Gt.splice(ot,1),Gt.length>0?this.map.set(St.param,Gt):this.map.delete(St.param)}}}),this.cloneFrom=this.updates=null)}}class K{constructor(){this.map=new Map}set(St,We){return this.map.set(St,We),this}get(St){return this.map.has(St)||this.map.set(St,St.defaultValue()),this.map.get(St)}delete(St){return this.map.delete(St),this}has(St){return this.map.has(St)}keys(){return this.map.keys()}}function ie(qe){return typeof ArrayBuffer<"u"&&qe instanceof ArrayBuffer}function T(qe){return typeof Blob<"u"&&qe instanceof Blob}function ae(qe){return typeof FormData<"u"&&qe instanceof FormData}class Me{constructor(St,We,Gt,ot){let Ht;if(this.url=We,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=St.toUpperCase(),function ee(qe){switch(qe){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||ot?(this.body=void 0!==Gt?Gt:null,Ht=ot):Ht=Gt,Ht&&(this.reportProgress=!!Ht.reportProgress,this.withCredentials=!!Ht.withCredentials,Ht.responseType&&(this.responseType=Ht.responseType),Ht.headers&&(this.headers=Ht.headers),Ht.context&&(this.context=Ht.context),Ht.params&&(this.params=Ht.params),this.transferCache=Ht.transferCache),this.headers??=new M,this.context??=new K,this.params){const Ye=this.params.toString();if(0===Ye.length)this.urlWithParams=We;else{const Xt=We.indexOf("?");this.urlWithParams=We+(-1===Xt?"?":Xt<We.length-1?"&":"")+Ye}}else this.params=new le,this.urlWithParams=We}serializeBody(){return null===this.body?null:"string"==typeof this.body||ie(this.body)||T(this.body)||ae(this.body)||function re(qe){return typeof URLSearchParams<"u"&&qe instanceof URLSearchParams}(this.body)?this.body:this.body instanceof le?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ae(this.body)?null:T(this.body)?this.body.type||null:ie(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof le?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(St={}){const We=St.method||this.method,Gt=St.url||this.url,ot=St.responseType||this.responseType,Ht=St.transferCache??this.transferCache,Ye=void 0!==St.body?St.body:this.body,Xt=St.withCredentials??this.withCredentials,ct=St.reportProgress??this.reportProgress;let ye=St.headers||this.headers,Te=St.params||this.params;const ve=St.context??this.context;return void 0!==St.setHeaders&&(ye=Object.keys(St.setHeaders).reduce((ht,Ke)=>ht.set(Ke,St.setHeaders[Ke]),ye)),St.setParams&&(Te=Object.keys(St.setParams).reduce((ht,Ke)=>ht.set(Ke,St.setParams[Ke]),Te)),new Me(We,Gt,Ye,{params:Te,headers:ye,context:ve,reportProgress:ct,responseType:ot,withCredentials:Xt,transferCache:Ht})}}var Qe=function(qe){return qe[qe.Sent=0]="Sent",qe[qe.UploadProgress=1]="UploadProgress",qe[qe.ResponseHeader=2]="ResponseHeader",qe[qe.DownloadProgress=3]="DownloadProgress",qe[qe.Response=4]="Response",qe[qe.User=5]="User",qe}(Qe||{});class Le{constructor(St,We=be.Ok,Gt="OK"){this.headers=St.headers||new M,this.status=void 0!==St.status?St.status:We,this.statusText=St.statusText||Gt,this.url=St.url||null,this.ok=this.status>=200&&this.status<300}}class Ne extends Le{constructor(St={}){super(St),this.type=Qe.ResponseHeader}clone(St={}){return new Ne({headers:St.headers||this.headers,status:void 0!==St.status?St.status:this.status,statusText:St.statusText||this.statusText,url:St.url||this.url||void 0})}}class Je extends Le{constructor(St={}){super(St),this.type=Qe.Response,this.body=void 0!==St.body?St.body:null}clone(St={}){return new Je({body:void 0!==St.body?St.body:this.body,headers:St.headers||this.headers,status:void 0!==St.status?St.status:this.status,statusText:St.statusText||this.statusText,url:St.url||this.url||void 0})}}class Ee extends Le{constructor(St){super(St,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${St.url||"(unknown url)"}`:`Http failure response for ${St.url||"(unknown url)"}: ${St.status} ${St.statusText}`,this.error=St.error||null}}var be=function(qe){return qe[qe.Continue=100]="Continue",qe[qe.SwitchingProtocols=101]="SwitchingProtocols",qe[qe.Processing=102]="Processing",qe[qe.EarlyHints=103]="EarlyHints",qe[qe.Ok=200]="Ok",qe[qe.Created=201]="Created",qe[qe.Accepted=202]="Accepted",qe[qe.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",qe[qe.NoContent=204]="NoContent",qe[qe.ResetContent=205]="ResetContent",qe[qe.PartialContent=206]="PartialContent",qe[qe.MultiStatus=207]="MultiStatus",qe[qe.AlreadyReported=208]="AlreadyReported",qe[qe.ImUsed=226]="ImUsed",qe[qe.MultipleChoices=300]="MultipleChoices",qe[qe.MovedPermanently=301]="MovedPermanently",qe[qe.Found=302]="Found",qe[qe.SeeOther=303]="SeeOther",qe[qe.NotModified=304]="NotModified",qe[qe.UseProxy=305]="UseProxy",qe[qe.Unused=306]="Unused",qe[qe.TemporaryRedirect=307]="TemporaryRedirect",qe[qe.PermanentRedirect=308]="PermanentRedirect",qe[qe.BadRequest=400]="BadRequest",qe[qe.Unauthorized=401]="Unauthorized",qe[qe.PaymentRequired=402]="PaymentRequired",qe[qe.Forbidden=403]="Forbidden",qe[qe.NotFound=404]="NotFound",qe[qe.MethodNotAllowed=405]="MethodNotAllowed",qe[qe.NotAcceptable=406]="NotAcceptable",qe[qe.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",qe[qe.RequestTimeout=408]="RequestTimeout",qe[qe.Conflict=409]="Conflict",qe[qe.Gone=410]="Gone",qe[qe.LengthRequired=411]="LengthRequired",qe[qe.PreconditionFailed=412]="PreconditionFailed",qe[qe.PayloadTooLarge=413]="PayloadTooLarge",qe[qe.UriTooLong=414]="UriTooLong",qe[qe.UnsupportedMediaType=415]="UnsupportedMediaType",qe[qe.RangeNotSatisfiable=416]="RangeNotSatisfiable",qe[qe.ExpectationFailed=417]="ExpectationFailed",qe[qe.ImATeapot=418]="ImATeapot",qe[qe.MisdirectedRequest=421]="MisdirectedRequest",qe[qe.UnprocessableEntity=422]="UnprocessableEntity",qe[qe.Locked=423]="Locked",qe[qe.FailedDependency=424]="FailedDependency",qe[qe.TooEarly=425]="TooEarly",qe[qe.UpgradeRequired=426]="UpgradeRequired",qe[qe.PreconditionRequired=428]="PreconditionRequired",qe[qe.TooManyRequests=429]="TooManyRequests",qe[qe.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",qe[qe.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",qe[qe.InternalServerError=500]="InternalServerError",qe[qe.NotImplemented=501]="NotImplemented",qe[qe.BadGateway=502]="BadGateway",qe[qe.ServiceUnavailable=503]="ServiceUnavailable",qe[qe.GatewayTimeout=504]="GatewayTimeout",qe[qe.HttpVersionNotSupported=505]="HttpVersionNotSupported",qe[qe.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",qe[qe.InsufficientStorage=507]="InsufficientStorage",qe[qe.LoopDetected=508]="LoopDetected",qe[qe.NotExtended=510]="NotExtended",qe[qe.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",qe}(be||{});function se(qe,St){return{body:St,headers:qe.headers,context:qe.context,observe:qe.observe,params:qe.params,reportProgress:qe.reportProgress,responseType:qe.responseType,withCredentials:qe.withCredentials,transferCache:qe.transferCache}}let Oe=(()=>{class qe{constructor(We){this.handler=We}request(We,Gt,ot={}){let Ht;if(We instanceof Me)Ht=We;else{let ct,ye;ct=ot.headers instanceof M?ot.headers:new M(ot.headers),ot.params&&(ye=ot.params instanceof le?ot.params:new le({fromObject:ot.params})),Ht=new Me(We,Gt,void 0!==ot.body?ot.body:null,{headers:ct,context:ot.context,params:ye,reportProgress:ot.reportProgress,responseType:ot.responseType||"json",withCredentials:ot.withCredentials,transferCache:ot.transferCache})}const Ye=(0,v.of)(Ht).pipe((0,I.H)(ct=>this.handler.handle(ct)));if(We instanceof Me||"events"===ot.observe)return Ye;const Xt=Ye.pipe((0,D.p)(ct=>ct instanceof Je));switch(ot.observe||"body"){case"body":switch(Ht.responseType){case"arraybuffer":return Xt.pipe((0,h.T)(ct=>{if(null!==ct.body&&!(ct.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return ct.body}));case"blob":return Xt.pipe((0,h.T)(ct=>{if(null!==ct.body&&!(ct.body instanceof Blob))throw new Error("Response is not a Blob.");return ct.body}));case"text":return Xt.pipe((0,h.T)(ct=>{if(null!==ct.body&&"string"!=typeof ct.body)throw new Error("Response is not a string.");return ct.body}));default:return Xt.pipe((0,h.T)(ct=>ct.body))}case"response":return Xt;default:throw new Error(`Unreachable: unhandled observe type ${ot.observe}}`)}}delete(We,Gt={}){return this.request("DELETE",We,Gt)}get(We,Gt={}){return this.request("GET",We,Gt)}head(We,Gt={}){return this.request("HEAD",We,Gt)}jsonp(We,Gt){return this.request("JSONP",We,{params:(new le).append(Gt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(We,Gt={}){return this.request("OPTIONS",We,Gt)}patch(We,Gt,ot={}){return this.request("PATCH",We,se(ot,Gt))}post(We,Gt,ot={}){return this.request("POST",We,se(ot,Gt))}put(We,Gt,ot={}){return this.request("PUT",We,se(ot,Gt))}static{this.\u0275fac=function(Gt){return new(Gt||qe)(e.KVO(L))}}static{this.\u0275prov=e.jDH({token:qe,factory:qe.\u0275fac})}}return qe})();function Mt(qe,St){return St(qe)}function xt(qe,St){return(We,Gt)=>St.intercept(We,{handle:ot=>qe(ot,Gt)})}const W=new e.nKC(""),J=new e.nKC(""),_e=new e.nKC(""),Ce=new e.nKC("");function st(){let qe=null;return(St,We)=>{null===qe&&(qe=((0,e.WQX)(W,{optional:!0})??[]).reduceRight(xt,Mt));const Gt=(0,e.WQX)(e.TgB),ot=Gt.add();return qe(St,We).pipe((0,f.j)(()=>Gt.remove(ot)))}}let kt=(()=>{class qe extends L{constructor(We,Gt){super(),this.backend=We,this.injector=Gt,this.chain=null,this.pendingTasks=(0,e.WQX)(e.TgB);const ot=(0,e.WQX)(Ce,{optional:!0});this.backend=ot??We}handle(We){if(null===this.chain){const ot=Array.from(new Set([...this.injector.get(J),...this.injector.get(_e,[])]));this.chain=ot.reduceRight((Ht,Ye)=>function z(qe,St,We){return(Gt,ot)=>(0,e.N4e)(We,()=>St(Gt,Ht=>qe(Ht,ot)))}(Ht,Ye,this.injector),Mt)}const Gt=this.pendingTasks.add();return this.chain(We,ot=>this.backend.handle(ot)).pipe((0,f.j)(()=>this.pendingTasks.remove(Gt)))}static{this.\u0275fac=function(Gt){return new(Gt||qe)(e.KVO(_),e.KVO(e.uvJ))}}static{this.\u0275prov=e.jDH({token:qe,factory:qe.\u0275fac})}}return qe})();const et=/^\)\]\}',?\n/;let Ft=(()=>{class qe{constructor(We){this.xhrFactory=We}handle(We){if("JSONP"===We.method)throw new e.wOt(-2800,!1);const Gt=this.xhrFactory;return(Gt.\u0275loadImpl?(0,w.H)(Gt.\u0275loadImpl()):(0,v.of)(null)).pipe((0,E.n)(()=>new y.c(Ht=>{const Ye=Gt.build();if(Ye.open(We.method,We.urlWithParams),We.withCredentials&&(Ye.withCredentials=!0),We.headers.forEach((gt,zt)=>Ye.setRequestHeader(gt,zt.join(","))),We.headers.has("Accept")||Ye.setRequestHeader("Accept","application/json, text/plain, */*"),!We.headers.has("Content-Type")){const gt=We.detectContentTypeHeader();null!==gt&&Ye.setRequestHeader("Content-Type",gt)}if(We.responseType){const gt=We.responseType.toLowerCase();Ye.responseType="json"!==gt?gt:"text"}const Xt=We.serializeBody();let ct=null;const ye=()=>{if(null!==ct)return ct;const gt=Ye.statusText||"OK",zt=new M(Ye.getAllResponseHeaders()),Bn=function ft(qe){return"responseURL"in qe&&qe.responseURL?qe.responseURL:/^X-Request-URL:/m.test(qe.getAllResponseHeaders())?qe.getResponseHeader("X-Request-URL"):null}(Ye)||We.url;return ct=new Ne({headers:zt,status:Ye.status,statusText:gt,url:Bn}),ct},Te=()=>{let{headers:gt,status:zt,statusText:Bn,url:ni}=ye(),gi=null;zt!==be.NoContent&&(gi=typeof Ye.response>"u"?Ye.responseText:Ye.response),0===zt&&(zt=gi?be.Ok:0);let ei=zt>=200&&zt<300;if("json"===We.responseType&&"string"==typeof gi){const ji=gi;gi=gi.replace(et,"");try{gi=""!==gi?JSON.parse(gi):null}catch(pr){gi=ji,ei&&(ei=!1,gi={error:pr,text:gi})}}ei?(Ht.next(new Je({body:gi,headers:gt,status:zt,statusText:Bn,url:ni||void 0})),Ht.complete()):Ht.error(new Ee({error:gi,headers:gt,status:zt,statusText:Bn,url:ni||void 0}))},ve=gt=>{const{url:zt}=ye(),Bn=new Ee({error:gt,status:Ye.status||0,statusText:Ye.statusText||"Unknown Error",url:zt||void 0});Ht.error(Bn)};let ht=!1;const Ke=gt=>{ht||(Ht.next(ye()),ht=!0);let zt={type:Qe.DownloadProgress,loaded:gt.loaded};gt.lengthComputable&&(zt.total=gt.total),"text"===We.responseType&&Ye.responseText&&(zt.partialText=Ye.responseText),Ht.next(zt)},wt=gt=>{let zt={type:Qe.UploadProgress,loaded:gt.loaded};gt.lengthComputable&&(zt.total=gt.total),Ht.next(zt)};return Ye.addEventListener("load",Te),Ye.addEventListener("error",ve),Ye.addEventListener("timeout",ve),Ye.addEventListener("abort",ve),We.reportProgress&&(Ye.addEventListener("progress",Ke),null!==Xt&&Ye.upload&&Ye.upload.addEventListener("progress",wt)),Ye.send(Xt),Ht.next({type:Qe.Sent}),()=>{Ye.removeEventListener("error",ve),Ye.removeEventListener("abort",ve),Ye.removeEventListener("load",Te),Ye.removeEventListener("timeout",ve),We.reportProgress&&(Ye.removeEventListener("progress",Ke),null!==Xt&&Ye.upload&&Ye.upload.removeEventListener("progress",wt)),Ye.readyState!==Ye.DONE&&Ye.abort()}})))}static{this.\u0275fac=function(Gt){return new(Gt||qe)(e.KVO(F.N0))}}static{this.\u0275prov=e.jDH({token:qe,factory:qe.\u0275fac})}}return qe})();const sn=new e.nKC(""),In=new e.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Fn=new e.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Pn{}let ki=(()=>{class qe{constructor(We,Gt,ot){this.doc=We,this.platform=Gt,this.cookieName=ot,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const We=this.doc.cookie||"";return We!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,F._b)(We,this.cookieName),this.lastCookieString=We),this.lastToken}static{this.\u0275fac=function(Gt){return new(Gt||qe)(e.KVO(F.qQ),e.KVO(e.Agw),e.KVO(In))}}static{this.\u0275prov=e.jDH({token:qe,factory:qe.\u0275fac})}}return qe})();function wi(qe,St){const We=qe.url.toLowerCase();if(!(0,e.WQX)(sn)||"GET"===qe.method||"HEAD"===qe.method||We.startsWith("http://")||We.startsWith("https://"))return St(qe);const Gt=(0,e.WQX)(Pn).getToken(),ot=(0,e.WQX)(Fn);return null!=Gt&&!qe.headers.has(ot)&&(qe=qe.clone({headers:qe.headers.set(ot,Gt)})),St(qe)}var Wt=function(qe){return qe[qe.Interceptors=0]="Interceptors",qe[qe.LegacyInterceptors=1]="LegacyInterceptors",qe[qe.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",qe[qe.NoXsrfProtection=3]="NoXsrfProtection",qe[qe.JsonpSupport=4]="JsonpSupport",qe[qe.RequestsMadeViaParent=5]="RequestsMadeViaParent",qe[qe.Fetch=6]="Fetch",qe}(Wt||{});function _t(qe,St){return{\u0275kind:qe,\u0275providers:St}}function Nt(...qe){const St=[Oe,Ft,kt,{provide:L,useExisting:kt},{provide:_,useExisting:Ft},{provide:J,useValue:wi,multi:!0},{provide:sn,useValue:!0},{provide:Pn,useClass:ki}];for(const We of qe)St.push(...We.\u0275providers);return(0,e.EmA)(St)}const En=new e.nKC("");let Vt=(()=>{class qe{static{this.\u0275fac=function(Gt){return new(Gt||qe)}}static{this.\u0275mod=e.$C({type:qe})}static{this.\u0275inj=e.G2t({providers:[Nt(_t(Wt.LegacyInterceptors,[{provide:En,useFactory:st},{provide:J,useExisting:En,multi:!0}]))]})}}return qe})()},4438:(lt,we,p)=>{"use strict";p.d(we,{bc$:()=>dc,iLQ:()=>_0,sZ2:()=>C1,hnV:()=>sC,Hbi:()=>JR,o8S:()=>Ic,BIS:()=>Hh,gRc:()=>Ii,Ql9:()=>TD,OM3:()=>Ld,Ocv:()=>wn,abz:()=>Nc,Z63:()=>Qr,aKT:()=>Vh,uvJ:()=>Rr,zcH:()=>jl,bkB:()=>$l,$GK:()=>vi,nKC:()=>ot,zZn:()=>ba,_q3:()=>DD,MKu:()=>AD,xe9:()=>vn,Co$:()=>Of,Vns:()=>kl,SKi:()=>Xs,Xx1:()=>wr,Agw:()=>gd,PLl:()=>Fp,sFG:()=>I2,_9s:()=>Lv,czy:()=>rf,WPN:()=>Uc,kdw:()=>cs,C4Q:()=>Rd,NYb:()=>yD,giA:()=>iC,RxE:()=>zb,c1b:()=>Mf,gXe:()=>Wr,mal:()=>zv,Af3:()=>Es,L39:()=>TM,a0P:()=>NM,Ol2:()=>Ym,w6W:()=>PE,oH4:()=>Yi,SmG:()=>Pl,Rfq:()=>wi,WQX:()=>Gn,naY:()=>mo,QuC:()=>js,EmA:()=>Po,fpN:()=>XR,HJs:()=>OM,N4e:()=>Os,O8t:()=>DM,An2:()=>Tf,H3F:()=>h0,H8p:()=>Qa,KH2:()=>Ku,TgB:()=>bc,wOt:()=>Fe,WHO:()=>tC,e01:()=>nC,lNU:()=>st,h9k:()=>L1,$MX:()=>Zh,ZF7:()=>Lc,Kcf:()=>Iw,e5t:()=>zl,UyX:()=>Dw,cWb:()=>Al,osQ:()=>Aw,H5H:()=>r_,Zy3:()=>rt,mq5:()=>Og,JZv:()=>ft,LfX:()=>pi,plB:()=>vc,jNT:()=>v0,zjR:()=>rC,TL$:()=>Np,Tbb:()=>An,rcV:()=>Dl,nM4:()=>by,Vt3:()=>gy,Mj6:()=>Zr,GFd:()=>Sy,OA$:()=>to,Jv_:()=>hb,aNF:()=>fb,R7$:()=>fv,BMQ:()=>rh,HbH:()=>wg,ZvI:()=>Ag,STu:()=>yT,AVh:()=>zy,vxM:()=>ST,wni:()=>j_,VBU:()=>dr,FsC:()=>Xa,jDH:()=>qn,G2t:()=>Kn,$C:()=>hs,EJ8:()=>Oo,rXU:()=>Cu,nrm:()=>e_,eu8:()=>n_,bVm:()=>Ng,qex:()=>kg,k0s:()=>xg,j41:()=>fh,RV6:()=>RT,xGo:()=>K0,Mr5:()=>$f,pXf:()=>I_,KVO:()=>er,kS0:()=>Lh,QTQ:()=>mS,bIt:()=>$g,lsd:()=>H_,XpG:()=>x_,nI1:()=>Db,bMT:()=>Ab,i5U:()=>Rb,brH:()=>n0,SdG:()=>N_,NAR:()=>k_,Y8G:()=>Cg,FS9:()=>Hg,Mz_:()=>zf,FCK:()=>Wg,lJ4:()=>ea,eq3:()=>za,l_i:()=>mb,sMw:()=>gb,ziG:()=>vb,s1E:()=>yb,l4e:()=>_b,mGM:()=>G_,sdS:()=>K_,Dyx:()=>Mg,Z7z:()=>IT,fX1:()=>TT,Njj:()=>Eh,EBC:()=>z1,tSv:()=>W1,eBV:()=>lu,npT:()=>U1,B4B:()=>Jp,n$t:()=>j1,xc7:()=>Wy,zvX:()=>i_,DNE:()=>Yc,C5r:()=>Mb,EFF:()=>ib,JRh:()=>zg,SpI:()=>Kf,Lme:()=>Kg,DH7:()=>vh,mxI:()=>Jg,R50:()=>Xg,GBs:()=>$_}),p(467);let v=null,w=1;const I=Symbol("SIGNAL");function D(n){const s=v;return v=n,s}function M(n){if((!K(n)||n.dirty)&&(n.dirty||n.lastCleanEpoch!==w)){if(!n.producerMustRecompute(n)&&!Q(n))return n.dirty=!1,void(n.lastCleanEpoch=w);n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=w}}function Q(n){ee(n);for(let s=0;s<n.producerNode.length;s++){const a=n.producerNode[s],c=n.producerLastReadVersion[s];if(c!==a.version||(M(a),c!==a.version))return!0}return!1}function fe(n,s){if(function ie(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),ee(n),1===n.liveConsumerNode.length)for(let c=0;c<n.producerNode.length;c++)fe(n.producerNode[c],n.producerIndexOfThis[c]);const a=n.liveConsumerNode.length-1;if(n.liveConsumerNode[s]=n.liveConsumerNode[a],n.liveConsumerIndexOfThis[s]=n.liveConsumerIndexOfThis[a],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,s<n.liveConsumerNode.length){const c=n.liveConsumerIndexOfThis[s],m=n.liveConsumerNode[s];ee(m),m.producerIndexOfThis[c]=s}}function K(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function ee(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let Ne=null;var z=p(1413),W=p(8359),J=p(4412),_e=p(6354);const st="https://g.co/ng/security#xss";class Fe extends Error{constructor(s,a){super(rt(s,a)),this.code=s}}function rt(n,s){return`NG0${Math.abs(n)}${s?": "+s:""}`}function Ot(n){return{toString:n}.toString()}const je="__parameters__";function Ue(n,s,a){return Ot(()=>{const c=function te(n){return function(...a){if(n){const c=n(...a);for(const m in c)this[m]=c[m]}}}(s);function m(...b){if(this instanceof m)return c.apply(this,b),this;const R=new m(...b);return U.annotation=R,U;function U(q,Se,Ge){const ut=q.hasOwnProperty(je)?q[je]:Object.defineProperty(q,je,{value:[]})[je];for(;ut.length<=Ge;)ut.push(null);return(ut[Ge]=ut[Ge]||[]).push(R),q}}return a&&(m.prototype=Object.create(a.prototype)),m.prototype.ngMetadataName=n,m.annotationCls=m,m})}const ft=globalThis;function cn(n){for(let s in n)if(n[s]===cn)return s;throw Error("Could not find renamed property on target object.")}function In(n,s){for(const a in s)s.hasOwnProperty(a)&&!n.hasOwnProperty(a)&&(n[a]=s[a])}function An(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(An).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const s=n.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function Fn(n,s){return null==n||""===n?null===s?"":s:null==s||""===s?n:n+" "+s}const ki=cn({__forward_ref__:cn});function wi(n){return n.__forward_ref__=wi,n.toString=function(){return An(this())},n}function Rt(n){return Wt(n)?n():n}function Wt(n){return"function"==typeof n&&n.hasOwnProperty(ki)&&n.__forward_ref__===wi}function Ln(n,s,a){n!=s&&function mn(n,s,a,c){throw new Error(`ASSERTION ERROR: ${n}`+(null==c?"":` [Expected=> ${a} ${c} ${s} <=Actual]`))}(a,n,s,"==")}function qn(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Kn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Si(n){return Wi(n,qe)||Wi(n,We)}function pi(n){return null!==Si(n)}function Wi(n,s){return n.hasOwnProperty(s)?n[s]:null}function Ei(n){return n&&(n.hasOwnProperty(St)||n.hasOwnProperty(Gt))?n[St]:null}const qe=cn({\u0275prov:cn}),St=cn({\u0275inj:cn}),We=cn({ngInjectableDef:cn}),Gt=cn({ngInjectorDef:cn});class ot{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=qn({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function gt(n){return n&&!!n.\u0275providers}const zt=cn({\u0275cmp:cn}),Bn=cn({\u0275dir:cn}),ni=cn({\u0275pipe:cn}),gi=cn({\u0275mod:cn}),ei=cn({\u0275fac:cn}),ji=cn({__NG_ELEMENT_ID__:cn}),pr=cn({__NG_ENV_ID__:cn});function $n(n){return"string"==typeof n?n:null==n?"":String(n)}function Us(n,s){throw new Fe(-201,!1)}var vi=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(vi||{});let Ws;function bs(){return Ws}function Tr(n){const s=Ws;return Ws=n,s}function Vs(n,s,a){const c=Si(n);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&vi.Optional?null:void 0!==s?s:void Us()}const Ni={},qs="__NG_DI_FLAG__",si="ngTempTokenPath",Vn=/\n/gm,vr="__source";let Ir;function Or(n){const s=Ir;return Ir=n,s}function Hr(n,s=vi.Default){if(void 0===Ir)throw new Fe(-203,!1);return null===Ir?Vs(n,void 0,s):Ir.get(n,s&vi.Optional?null:void 0,s)}function er(n,s=vi.Default){return(bs()||Hr)(Rt(n),s)}function Gn(n,s=vi.Default){return er(n,Jr(s))}function Jr(n){return typeof n>"u"||"number"==typeof n?n:(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function ur(n){const s=[];for(let a=0;a<n.length;a++){const c=Rt(n[a]);if(Array.isArray(c)){if(0===c.length)throw new Fe(900,!1);let m,b=vi.Default;for(let R=0;R<c.length;R++){const U=c[R],q=as(U);"number"==typeof q?-1===q?m=U.token:b|=q:m=U}s.push(er(m,b))}else s.push(er(c))}return s}function Fr(n,s){return n[qs]=s,n.prototype[qs]=s,n}function as(n){return n[qs]}const wr=Fr(Ue("Optional"),8),cs=Fr(Ue("SkipSelf"),4);function is(n,s){return n.hasOwnProperty(ei)?n[ei]:null}function rs(n,s){n.forEach(a=>Array.isArray(a)?rs(a,s):s(a))}function Go(n,s,a){s>=n.length?n.push(a):n.splice(s,0,a)}function ra(n,s){return s>=n.length-1?n.pop():n.splice(s,1)[0]}function sr(n,s,a){let c=us(n,s);return c>=0?n[1|c]=a:(c=~c,function xs(n,s,a,c){let m=n.length;if(m==s)n.push(a,c);else if(1===m)n.push(c,n[0]),n[0]=a;else{for(m--,n.push(n[m-1],n[m]);m>s;)n[m]=n[m-2],m--;n[s]=a,n[s+1]=c}}(n,c,s,a)),c}function Br(n,s){const a=us(n,s);if(a>=0)return n[1|a]}function us(n,s){return function xa(n,s,a){let c=0,m=n.length>>a;for(;m!==c;){const b=c+(m-c>>1),R=n[b<<a];if(s===R)return b<<a;R>s?m=b:c=b+1}return~(m<<a)}(n,s,1)}const ks={},ri=[],Qr=new ot(""),zs=new ot("",-1),yr=new ot("");class Ks{get(s,a=Ni){if(a===Ni){const c=new Error(`NullInjectorError: No provider for ${An(s)}!`);throw c.name="NullInjectorError",c}return a}}var jr=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(jr||{}),Wr=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Wr||{}),Zr=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Zr||{});function fn(n,s,a){let c=n.length;for(;;){const m=n.indexOf(s,a);if(-1===m)return m;if(0===m||n.charCodeAt(m-1)<=32){const b=s.length;if(m+b===c||n.charCodeAt(m+b)<=32)return m}a=m+1}}function Cs(n,s,a){let c=0;for(;c<a.length;){const m=a[c];if("number"==typeof m){if(0!==m)break;c++;const b=a[c++],R=a[c++],U=a[c++];n.setAttribute(s,R,U,b)}else{const b=m,R=a[++c];Be(b)?n.setProperty(s,b,R):n.setAttribute(s,b,R),c++}}return c}function Re(n){return 3===n||4===n||6===n}function Be(n){return 64===n.charCodeAt(0)}function de(n,s){if(null!==s&&0!==s.length)if(null===n||0===n.length)n=s.slice();else{let a=-1;for(let c=0;c<s.length;c++){const m=s[c];"number"==typeof m?a=m:0===a||Ze(n,a,m,null,-1===a||2===a?s[++c]:null)}}return n}function Ze(n,s,a,c,m){let b=0,R=n.length;if(-1===s)R=-1;else for(;b<n.length;){const U=n[b++];if("number"==typeof U){if(U===s){R=-1;break}if(U>s){R=b-1;break}}}for(;b<n.length;){const U=n[b];if("number"==typeof U)break;if(U===a){if(null===c)return void(null!==m&&(n[b+1]=m));if(c===n[b+1])return void(n[b+2]=m)}b++,null!==c&&b++,null!==m&&b++}-1!==R&&(n.splice(R,0,s),b=R+1),n.splice(b++,0,a),null!==c&&n.splice(b++,0,c),null!==m&&n.splice(b++,0,m)}const Pt="ng-template";function Hn(n,s,a,c){let m=0;if(c){for(;m<s.length&&"string"==typeof s[m];m+=2)if("class"===s[m]&&-1!==fn(s[m+1].toLowerCase(),a,0))return!0}else if(Ti(n))return!1;if(m=s.indexOf(1,m),m>-1){let b;for(;++m<s.length&&"string"==typeof(b=s[m]);)if(b.toLowerCase()===a)return!0}return!1}function Ti(n){return 4===n.type&&n.value!==Pt}function ds(n,s,a){return s===(4!==n.type||a?n.value:Pt)}function ws(n,s,a){let c=4;const m=n.attrs,b=null!==m?function Tt(n){for(let s=0;s<n.length;s++)if(Re(n[s]))return s;return n.length}(m):0;let R=!1;for(let U=0;U<s.length;U++){const q=s[U];if("number"!=typeof q){if(!R)if(4&c){if(c=2|1&c,""!==q&&!ds(n,q,a)||""===q&&1===s.length){if(Zn(c))return!1;R=!0}}else if(8&c){if(null===m||!Hn(n,m,q,a)){if(Zn(c))return!1;R=!0}}else{const Se=s[++U],Ge=De(q,m,Ti(n),a);if(-1===Ge){if(Zn(c))return!1;R=!0;continue}if(""!==Se){let ut;if(ut=Ge>b?"":m[Ge+1].toLowerCase(),2&c&&Se!==ut){if(Zn(c))return!1;R=!0}}}}else{if(!R&&!Zn(c)&&!Zn(q))return!1;if(R&&Zn(q))continue;R=!1,c=q|1&c}}return Zn(c)||R}function Zn(n){return!(1&n)}function De(n,s,a,c){if(null===s)return-1;let m=0;if(c||!a){let b=!1;for(;m<s.length;){const R=s[m];if(R===n)return m;if(3===R||6===R)b=!0;else{if(1===R||2===R){let U=s[++m];for(;"string"==typeof U;)U=s[++m];continue}if(4===R)break;if(0===R){m+=4;continue}}m+=b?1:2}return-1}return function Bt(n,s){let a=n.indexOf(4);if(a>-1)for(a++;a<n.length;){const c=n[a];if("number"==typeof c)return-1;if(c===s)return a;a++}return-1}(s,n)}function Xe(n,s,a=!1){for(let c=0;c<s.length;c++)if(ws(n,s[c],a))return!0;return!1}function Ct(n,s){e:for(let a=0;a<s.length;a++){const c=s[a];if(n.length===c.length){for(let m=0;m<n.length;m++)if(n[m]!==c[m])continue e;return!0}}return!1}function Jt(n,s){return n?":not("+s.trim()+")":s}function Rn(n){let s=n[0],a=1,c=2,m="",b=!1;for(;a<n.length;){let R=n[a];if("string"==typeof R)if(2&c){const U=n[++a];m+="["+R+(U.length>0?'="'+U+'"':"")+"]"}else 8&c?m+="."+R:4&c&&(m+=" "+R);else""!==m&&!Zn(R)&&(s+=Jt(b,m),m=""),c=R,b=b||!Zn(c);a++}return""!==m&&(s+=Jt(b,m)),s}function dr(n){return Ot(()=>{const s=bn(n),a={...s,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===jr.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Wr.Emulated,styles:n.styles||ri,_:null,schemas:n.schemas||null,tView:null,id:""};Ri(a);const c=n.dependencies;return a.directiveDefs=Fo(c,!1),a.pipeDefs=Fo(c,!0),a.id=function gl(n){let s=0;const a=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const m of a)s=Math.imul(31,s)+m.charCodeAt(0)|0;return s+=2147483648,"c"+s}(a),a})}function zr(n){return Bi(n)||Ki(n)}function li(n){return null!==n}function hs(n){return Ot(()=>({type:n.type,bootstrap:n.bootstrap||ri,declarations:n.declarations||ri,imports:n.imports||ri,exports:n.exports||ri,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function $i(n,s){if(null==n)return ks;const a={};for(const c in n)if(n.hasOwnProperty(c)){const m=n[c];let b,R,U=Zr.None;Array.isArray(m)?(U=m[0],b=m[1],R=m[2]??b):(b=m,R=m),s?(a[b]=U!==Zr.None?[c,U]:c,s[b]=R):a[b]=c}return a}function Xa(n){return Ot(()=>{const s=bn(n);return Ri(s),s})}function Oo(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Bi(n){return n[zt]||null}function Ki(n){return n[Bn]||null}function ss(n){return n[ni]||null}function js(n){const s=Bi(n)||Ki(n)||ss(n);return null!==s&&s.standalone}function _r(n,s){const a=n[gi]||null;if(!a&&!0===s)throw new Error(`Type ${An(n)} does not have '\u0275mod' property.`);return a}function bn(n){const s={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:s,inputTransforms:null,inputConfig:n.inputs||ks,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||ri,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:$i(n.inputs,s),outputs:$i(n.outputs),debugInfo:null}}function Ri(n){n.features?.forEach(s=>s(n))}function Fo(n,s){if(!n)return null;const a=s?ss:zr;return()=>("function"==typeof n?n():n).map(c=>a(c)).filter(li)}function Po(n){return{\u0275providers:n}}function Ho(...n){return{\u0275providers:$s(0,n),\u0275fromNgModule:!0}}function $s(n,...s){const a=[],c=new Set;let m;const b=R=>{a.push(R)};return rs(s,R=>{const U=R;Ar(U,b,[],c)&&(m||=[],m.push(U))}),void 0!==m&&pa(m,b),a}function pa(n,s){for(let a=0;a<n.length;a++){const{ngModule:c,providers:m}=n[a];Lr(m,b=>{s(b,c)})}}function Ar(n,s,a,c){if(!(n=Rt(n)))return!1;let m=null,b=Ei(n);const R=!b&&Bi(n);if(b||R){if(R&&!R.standalone)return!1;m=n}else{const q=n.ngModule;if(b=Ei(q),!b)return!1;m=q}const U=c.has(m);if(R){if(U)return!1;if(c.add(m),R.dependencies){const q="function"==typeof R.dependencies?R.dependencies():R.dependencies;for(const Se of q)Ar(Se,s,a,c)}}else{if(!b)return!1;{if(null!=b.imports&&!U){let Se;c.add(m);try{rs(b.imports,Ge=>{Ar(Ge,s,a,c)&&(Se||=[],Se.push(Ge))})}finally{}void 0!==Se&&pa(Se,s)}if(!U){const Se=is(m)||(()=>new m);s({provide:m,useFactory:Se,deps:ri},m),s({provide:yr,useValue:m,multi:!0},m),s({provide:Qr,useValue:()=>er(m),multi:!0},m)}const q=b.providers;if(null!=q&&!U){const Se=n;Lr(q,Ge=>{s(Ge,Se)})}}}return m!==n&&void 0!==n.providers}function Lr(n,s){for(let a of n)gt(a)&&(a=a.\u0275providers),Array.isArray(a)?Lr(a,s):s(a)}const Wo=cn({provide:String,useValue:cn});function ms(n){return null!==n&&"object"==typeof n&&Wo in n}function zo(n){return"function"==typeof n}const Qa=new ot(""),ka={},Za={};let qa;function Ss(){return void 0===qa&&(qa=new Ks),qa}class Rr{}class vo extends Rr{get destroyed(){return this._destroyed}constructor(s,a,c,m){super(),this.parent=a,this.source=c,this.scopes=m,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,lo(s,R=>this.processProvider(R)),this.records.set(zs,qr(void 0,this)),m.has("environment")&&this.records.set(Rr,qr(void 0,this));const b=this.records.get(Qa);null!=b&&"string"==typeof b.value&&this.scopes.add(b.value),this.injectorDefTypes=new Set(this.get(yr,ri,vi.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const s=D(null);try{for(const c of this._ngOnDestroyHooks)c.ngOnDestroy();const a=this._onDestroyHooks;this._onDestroyHooks=[];for(const c of a)c()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),D(s)}}onDestroy(s){return this.assertNotDestroyed(),this._onDestroyHooks.push(s),()=>this.removeOnDestroy(s)}runInContext(s){this.assertNotDestroyed();const a=Or(this),c=Tr(void 0);try{return s()}finally{Or(a),Tr(c)}}get(s,a=Ni,c=vi.Default){if(this.assertNotDestroyed(),s.hasOwnProperty(pr))return s[pr](this);c=Jr(c);const b=Or(this),R=Tr(void 0);try{if(!(c&vi.SkipSelf)){let q=this.records.get(s);if(void 0===q){const Se=function ma(n){return"function"==typeof n||"object"==typeof n&&n instanceof ot}(s)&&Si(s);q=Se&&this.injectableDefInScope(Se)?qr(Ns(s),ka):null,this.records.set(s,q)}if(null!=q)return this.hydrate(s,q)}return(c&vi.Self?Ss():this.parent).get(s,a=c&vi.Optional&&a===Ni?null:a)}catch(U){if("NullInjectorError"===U.name){if((U[si]=U[si]||[]).unshift(An(s)),b)throw U;return function ro(n,s,a,c){const m=n[si];throw s[vr]&&m.unshift(s[vr]),n.message=function wo(n,s,a,c=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let m=An(s);if(Array.isArray(s))m=s.map(An).join(" -> ");else if("object"==typeof s){let b=[];for(let R in s)if(s.hasOwnProperty(R)){let U=s[R];b.push(R+":"+("string"==typeof U?JSON.stringify(U):An(U)))}m=`{${b.join(", ")}}`}return`${a}${c?"("+c+")":""}[${m}]: ${n.replace(Vn,"\n  ")}`}("\n"+n.message,m,a,c),n.ngTokenPath=m,n[si]=null,n}(U,s,"R3InjectorError",this.source)}throw U}finally{Tr(R),Or(b)}}resolveInjectorInitializers(){const s=D(null),a=Or(this),c=Tr(void 0);try{const b=this.get(Qr,ri,vi.Self);for(const R of b)R()}finally{Or(a),Tr(c),D(s)}}toString(){const s=[],a=this.records;for(const c of a.keys())s.push(An(c));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Fe(205,!1)}processProvider(s){let a=zo(s=Rt(s))?s:Rt(s&&s.provide);const c=function Ko(n){return ms(n)?qr(void 0,n.useValue):qr(So(n),ka)}(s);if(!zo(s)&&!0===s.multi){let m=this.records.get(a);m||(m=qr(void 0,ka,!0),m.factory=()=>ur(m.multi),this.records.set(a,m)),a=s,m.multi.push(s)}this.records.set(a,c)}hydrate(s,a){const c=D(null);try{return a.value===ka&&(a.value=Za,a.value=a.factory()),"object"==typeof a.value&&a.value&&function el(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}finally{D(c)}}injectableDefInScope(s){if(!s.providedIn)return!1;const a=Rt(s.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}removeOnDestroy(s){const a=this._onDestroyHooks.indexOf(s);-1!==a&&this._onDestroyHooks.splice(a,1)}}function Ns(n){const s=Si(n),a=null!==s?s.factory:is(n);if(null!==a)return a;if(n instanceof ot)throw new Fe(204,!1);if(n instanceof Function)return function eo(n){if(n.length>0)throw new Fe(204,!1);const a=function Hi(n){return n&&(n[qe]||n[We])||null}(n);return null!==a?()=>a.factory(n):()=>new n}(n);throw new Fe(204,!1)}function So(n,s,a){let c;if(zo(n)){const m=Rt(n);return is(m)||Ns(m)}if(ms(n))c=()=>Rt(n.useValue);else if(function nc(n){return!(!n||!n.useFactory)}(n))c=()=>n.useFactory(...ur(n.deps||[]));else if(function Ja(n){return!(!n||!n.useExisting)}(n))c=()=>er(Rt(n.useExisting));else{const m=Rt(n&&(n.useClass||n.provide));if(!function gs(n){return!!n.deps}(n))return is(m)||Ns(m);c=()=>new m(...ur(n.deps))}return c}function qr(n,s,a=!1){return{factory:n,value:s,multi:a?[]:void 0}}function lo(n,s){for(const a of n)Array.isArray(a)?lo(a,s):a&&gt(a)?lo(a.\u0275providers,s):s(a)}function Os(n,s){n instanceof vo&&n.assertNotDestroyed();const c=Or(n),m=Tr(void 0);try{return s()}finally{Or(c),Tr(m)}}function Mi(){return void 0!==bs()||null!=function Dr(){return Ir}()}function Es(n){if(!Mi())throw new Fe(-203,!1)}const he=0,k=1,ue=2,Ae=3,nt=4,At=5,Lt=6,qt=7,nn=8,_n=9,Jn=10,Un=11,Sr=12,mi=13,Kr=14,Mr=15,Ts=16,ar=17,fs=18,Yo=19,Na=20,Eo=21,Fs=22,sa=23,xi=25,Oa=1,Xo=7,tl=9,Is=10;var xr=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(xr||{});function Di(n){return Array.isArray(n)&&"object"==typeof n[Oa]}function os(n){return Array.isArray(n)&&!0===n[Oa]}function vl(n){return!!(4&n.flags)}function ga(n){return n.componentOffset>-1}function va(n){return!(1&~n.flags)}function yo(n){return!!n.template}function yl(n){return!!(512&n[ue])}class Fa{constructor(s,a,c){this.previousValue=s,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function sc(n,s,a,c){null!==s?s.applyValueToInputSignal(s,c):n[a]=c}function to(){return oc}function oc(n){return n.type.prototype.ngOnChanges&&(n.setInput=nl),op}function op(){const n=Pa(this),s=n?.current;if(s){const a=n.previous;if(a===ks)n.previous=s;else for(let c in s)a[c]=s[c];n.current=null,this.ngOnChanges(s)}}function nl(n,s,a,c,m){const b=this.declaredInputs[c],R=Pa(n)||function _l(n,s){return n[es]=s}(n,{previous:ks,current:null}),U=R.current||(R.current={}),q=R.previous,Se=q[b];U[b]=new Fa(Se&&Se.currentValue,a,q===ks),sc(n,s,m,a)}to.ngInherit=!0;const es="__ngSimpleChanges__";function Pa(n){return n[es]||null}const aa=function(n,s,a){};let wl=!1;function Er(n){for(;Array.isArray(n);)n=n[he];return n}function rd(n,s){return Er(s[n])}function Jo(n,s){return Er(s[n.index])}function sd(n,s){return n.data[s]}function ou(n,s){return n[s]}function ya(n,s){const a=s[n];return Di(a)?a:a[he]}function lp(n){return!(128&~n[ue])}function Sl(n,s){return null==s?null:n[s]}function R0(n){n[ar]=0}function CC(n){1024&n[ue]||(n[ue]|=1024,lp(n)&&Gs(n))}function cp(n){return!!(9216&n[ue]||n[sa]?.dirty)}function up(n){n[Jn].changeDetectionScheduler?.notify(1),cp(n)?Gs(n):64&n[ue]&&(function id(){return wl}()?(n[ue]|=1024,Gs(n)):n[Jn].changeDetectionScheduler?.notify())}function Gs(n){n[Jn].changeDetectionScheduler?.notify();let s=Ac(n);for(;null!==s&&!(8192&s[ue])&&(s[ue]|=8192,lp(s));)s=Ac(s)}function au(n,s){if(!(256&~n[ue]))throw new Fe(911,!1);null===n[Eo]&&(n[Eo]=[]),n[Eo].push(s)}function Ac(n){const s=n[Ae];return os(s)?s[Ae]:s}const Ui={lFrame:Rh(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function EC(){return Ui.bindingsEnabled}function Rc(){return null!==Ui.skipHydrationRootTNode}function yn(){return Ui.lFrame.lView}function gr(){return Ui.lFrame.tView}function lu(n){return Ui.lFrame.contextLView=n,n[nn]}function Eh(n){return Ui.lFrame.contextLView=null,n}function Ur(){let n=Mc();for(;null!==n&&64===n.type;)n=n.parent;return n}function Mc(){return Ui.lFrame.currentTNode}function la(){const n=Ui.lFrame,s=n.currentTNode;return n.isParent?s:s.parent}function il(n,s){const a=Ui.lFrame;a.currentTNode=n,a.isParent=s}function hp(){return Ui.lFrame.isParent}function cu(){Ui.lFrame.isParent=!1}function _o(){const n=Ui.lFrame;let s=n.bindingRootIndex;return-1===s&&(s=n.bindingRootIndex=n.tView.bindingStartIndex),s}function To(){return Ui.lFrame.bindingIndex++}function La(n){const s=Ui.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+n,a}function fp(n){Ui.lFrame.inI18n=n}function N0(n,s){const a=Ui.lFrame;a.bindingIndex=a.bindingRootIndex=n,uc(s)}function uc(n){Ui.lFrame.currentDirectiveIndex=n}function pp(n){const s=Ui.lFrame.currentDirectiveIndex;return-1===s?null:n[s]}function xc(){return Ui.lFrame.currentQueryIndex}function Ll(n){Ui.lFrame.currentQueryIndex=n}function mp(n){const s=n[k];return 2===s.type?s.declTNode:1===s.type?n[At]:null}function Dh(n,s,a){if(a&vi.SkipSelf){let m=s,b=n;for(;!(m=m.parent,null!==m||a&vi.Host||(m=mp(b),null===m||(b=b[Kr],10&m.type))););if(null===m)return!1;s=m,n=b}const c=Ui.lFrame=gp();return c.currentTNode=s,c.lView=n,!0}function Ah(n){const s=gp(),a=n[k];Ui.lFrame=s,s.currentTNode=a.firstChild,s.lView=n,s.tView=a,s.contextLView=n,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function gp(){const n=Ui.lFrame,s=null===n?null:n.child;return null===s?Rh(n):s}function Rh(n){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=s),s}function Mh(){const n=Ui.lFrame;return Ui.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const vp=Mh;function cd(){const n=Mh();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function co(){return Ui.lFrame.selectedIndex}function El(n){Ui.lFrame.selectedIndex=n}function Yr(){const n=Ui.lFrame;return sd(n.tView,n.selectedIndex)}let ud=!0;function ca(){return ud}function Vr(n){ud=n}function _a(n,s){for(let a=s.directiveStart,c=s.directiveEnd;a<c;a++){const b=n.data[a].type.prototype,{ngAfterContentInit:R,ngAfterContentChecked:U,ngAfterViewInit:q,ngAfterViewChecked:Se,ngOnDestroy:Ge}=b;R&&(n.contentHooks??=[]).push(-a,R),U&&((n.contentHooks??=[]).push(a,U),(n.contentCheckHooks??=[]).push(a,U)),q&&(n.viewHooks??=[]).push(-a,q),Se&&((n.viewHooks??=[]).push(a,Se),(n.viewCheckHooks??=[]).push(a,Se)),null!=Ge&&(n.destroyHooks??=[]).push(a,Ge)}}function xh(n,s,a){F0(n,s,3,a)}function kh(n,s,a,c){(3&n[ue])===a&&F0(n,s,a,c)}function yp(n,s){let a=n[ue];(3&a)===s&&(a&=16383,a+=1,n[ue]=a)}function F0(n,s,a,c){const b=c??-1,R=s.length-1;let U=0;for(let q=void 0!==c?65535&n[ar]:0;q<R;q++)if("number"==typeof s[q+1]){if(U=s[q],null!=c&&U>=c)break}else s[q]<0&&(n[ar]+=65536),(U<b||-1==b)&&(RC(n,a,s,q),n[ar]=(4294901760&n[ar])+q+2),q++}function P0(n,s){aa(4,n,s);const a=D(null);try{s.call(n)}finally{D(a),aa(5,n,s)}}function RC(n,s,a,c){const m=a[c]<0,b=a[c+1],U=n[m?-a[c]:a[c]];m?n[ue]>>14<n[ar]>>16&&(3&n[ue])===s&&(n[ue]+=16384,P0(U,b)):P0(U,b)}const uu=-1;class dd{constructor(s,a,c){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function bp(n){return n!==uu}function Vl(n){return 32767&n}function hd(n,s){let a=function B0(n){return n>>16}(n),c=s;for(;a>0;)c=c[Kr],a--;return c}let Nh=!0;function Oh(n){const s=Nh;return Nh=n,s}const L0=255,U0=5;let OC=0;const rl={};function Fh(n,s){const a=V0(n,s);if(-1!==a)return a;const c=s[k];c.firstCreatePass&&(n.injectorIndex=s.length,Cp(c.data,n),Cp(s,null),Cp(c.blueprint,null));const m=Ph(n,s),b=n.injectorIndex;if(bp(m)){const R=Vl(m),U=hd(m,s),q=U[k].data;for(let Se=0;Se<8;Se++)s[b+Se]=U[R+Se]|q[R+Se]}return s[b+8]=m,b}function Cp(n,s){n.push(0,0,0,0,0,0,0,0,s)}function V0(n,s){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===s[n.injectorIndex+8]?-1:n.injectorIndex}function Ph(n,s){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let a=0,c=null,m=s;for(;null!==m;){if(c=Y0(m),null===c)return uu;if(a++,m=m[Kr],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return uu}function wp(n,s,a){!function Io(n,s,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(ji)&&(c=a[ji]),null==c&&(c=a[ji]=OC++);const m=c&L0;s.data[n+(m>>U0)]|=1<<m}(n,s,a)}function j0(n,s,a){if(a&vi.Optional||void 0!==n)return n;Us()}function $0(n,s,a,c){if(a&vi.Optional&&void 0===c&&(c=null),!(a&(vi.Self|vi.Host))){const m=n[_n],b=Tr(void 0);try{return m?m.get(s,c,a&vi.Optional):Vs(s,c,a&vi.Optional)}finally{Tr(b)}}return j0(c,0,a)}function G0(n,s,a,c=vi.Default,m){if(null!==n){if(2048&s[ue]&&!(c&vi.Self)){const R=function UC(n,s,a,c,m){let b=n,R=s;for(;null!==b&&null!==R&&2048&R[ue]&&!(512&R[ue]);){const U=H0(b,R,a,c|vi.Self,rl);if(U!==rl)return U;let q=b.parent;if(!q){const Se=R[Na];if(Se){const Ge=Se.get(a,rl,c);if(Ge!==rl)return Ge}q=Y0(R),R=R[Kr]}b=q}return m}(n,s,a,c,rl);if(R!==rl)return R}const b=H0(n,s,a,c,rl);if(b!==rl)return b}return $0(s,a,c,m)}function H0(n,s,a,c,m){const b=function BC(n){if("string"==typeof n)return n.charCodeAt(0)||0;const s=n.hasOwnProperty(ji)?n[ji]:void 0;return"number"==typeof s?s>=0?s&L0:LC:s}(a);if("function"==typeof b){if(!Dh(s,n,c))return c&vi.Host?j0(m,0,c):$0(s,a,c,m);try{let R;if(R=b(c),null!=R||c&vi.Optional)return R;Us()}finally{vp()}}else if("number"==typeof b){let R=null,U=V0(n,s),q=uu,Se=c&vi.Host?s[Mr][At]:null;for((-1===U||c&vi.SkipSelf)&&(q=-1===U?Ph(n,s):s[U+8],q!==uu&&z0(c,!1)?(R=s[k],U=Vl(q),s=hd(q,s)):U=-1);-1!==U;){const Ge=s[k];if(W0(b,U,Ge.data)){const ut=PC(U,s,a,R,c,Se);if(ut!==rl)return ut}q=s[U+8],q!==uu&&z0(c,s[k].data[U+8]===Se)&&W0(b,U,s)?(R=Ge,U=Vl(q),s=hd(q,s)):U=-1}}return m}function PC(n,s,a,c,m,b){const R=s[k],U=R.data[n+8],Ge=Bh(U,R,a,null==c?ga(U)&&Nh:c!=R&&!!(3&U.type),m&vi.Host&&b===U);return null!==Ge?kc(s,R,Ge,U):rl}function Bh(n,s,a,c,m){const b=n.providerIndexes,R=s.data,U=1048575&b,q=n.directiveStart,Ge=b>>20,jt=m?U+Ge:n.directiveEnd;for(let Kt=c?U:U+Ge;Kt<jt;Kt++){const an=R[Kt];if(Kt<q&&a===an||Kt>=q&&an.type===a)return Kt}if(m){const Kt=R[q];if(Kt&&yo(Kt)&&Kt.type===a)return q}return null}function kc(n,s,a,c){let m=n[a];const b=s.data;if(function MC(n){return n instanceof dd}(m)){const R=m;R.resolving&&function Nr(n,s){throw s&&s.join(" > "),new Fe(-200,n)}(function ii(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():$n(n)}(b[a]));const U=Oh(R.canSeeViewProviders);R.resolving=!0;const Se=R.injectImpl?Tr(R.injectImpl):null;Dh(n,c,vi.Default);try{m=n[a]=R.factory(void 0,b,n,c),s.firstCreatePass&&a>=c.directiveStart&&function Ul(n,s,a){const{ngOnChanges:c,ngOnInit:m,ngDoCheck:b}=s.type.prototype;if(c){const R=oc(s);(a.preOrderHooks??=[]).push(n,R),(a.preOrderCheckHooks??=[]).push(n,R)}m&&(a.preOrderHooks??=[]).push(0-n,m),b&&((a.preOrderHooks??=[]).push(n,b),(a.preOrderCheckHooks??=[]).push(n,b))}(a,b[a],s)}finally{null!==Se&&Tr(Se),Oh(U),R.resolving=!1,vp()}}return m}function W0(n,s,a){return!!(a[s+(n>>U0)]&1<<n)}function z0(n,s){return!(n&vi.Self||n&vi.Host&&s)}class uo{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,c){return G0(this._tNode,this._lView,s,Jr(c),a)}}function LC(){return new uo(Ur(),yn())}function K0(n){return Ot(()=>{const s=n.prototype.constructor,a=s[ei]||Sp(s),c=Object.prototype;let m=Object.getPrototypeOf(n.prototype).constructor;for(;m&&m!==c;){const b=m[ei]||Sp(m);if(b&&b!==a)return b;m=Object.getPrototypeOf(m)}return b=>new b})}function Sp(n){return Wt(n)?()=>{const s=Sp(Rt(n));return s&&s()}:is(n)}function Y0(n){const s=n[k],a=s.type;return 2===a?s.declTNode:1===a?n[At]:null}function Lh(n){return function FC(n,s){if("class"===s)return n.classes;if("style"===s)return n.styles;const a=n.attrs;if(a){const c=a.length;let m=0;for(;m<c;){const b=a[m];if(Re(b))break;if(0===b)m+=2;else if("number"==typeof b)for(m++;m<c&&"string"==typeof a[m];)m++;else{if(b===s)return a[m+1];m+=2}}}return null}(Ur(),n)}function q0(n,s=null,a=null,c){const m=e1(n,s,a,c);return m.resolveInjectorInitializers(),m}function e1(n,s=null,a=null,c,m=new Set){const b=[a||ri,Ho(n)];return c=c||("object"==typeof n?void 0:An(n)),new vo(b,s||Ss(),c||null,m)}let ba=(()=>{class n{static{this.THROW_IF_NOT_FOUND=Ni}static{this.NULL=new Ks}static create(a,c){if(Array.isArray(a))return q0({name:""},c,a,"");{const m=a.name??"";return q0({name:m},a.parent,a.providers,m)}}static{this.\u0275prov=qn({token:n,providedIn:"any",factory:()=>er(zs)})}static{this.__NG_ELEMENT_ID__=-1}}return n})();function Tp(n){return n.ngOriginalError}class jl{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s);this._console.error("ERROR",s),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&Tp(s);for(;a&&Tp(a);)a=Tp(a);return a||null}}const n1=new ot("",{providedIn:"root",factory:()=>Gn(jl).handleError.bind(void 0)});let Nc=(()=>{class n{static{this.__NG_ELEMENT_ID__=YC}static{this.__NG_ENV_ID__=a=>a}}return n})();class KC extends Nc{constructor(s){super(),this._lView=s}onDestroy(s){return au(this._lView,s),()=>function dp(n,s){if(null===n[Eo])return;const a=n[Eo].indexOf(s);-1!==a&&n[Eo].splice(a,1)}(this._lView,s)}}function YC(){return new KC(yn())}function WD(){return fd(Ur(),yn())}function fd(n,s){return new Vh(Jo(n,s))}let Vh=(()=>{class n{constructor(a){this.nativeElement=a}static{this.__NG_ELEMENT_ID__=WD}}return n})();function JC(n){return n instanceof Vh?n.nativeElement:n}function s1(n){return s=>{setTimeout(n,void 0,s)}}const $l=class zD extends z.B{constructor(s=!1){super(),this.destroyRef=void 0,this.__isAsync=s,Mi()&&(this.destroyRef=Gn(Nc,{optional:!0})??void 0)}emit(s){const a=D(null);try{super.next(s)}finally{D(a)}}subscribe(s,a,c){let m=s,b=a||(()=>null),R=c;if(s&&"object"==typeof s){const q=s;m=q.next?.bind(q),b=q.error?.bind(q),R=q.complete?.bind(q)}this.__isAsync&&(b=s1(b),m&&(m=s1(m)),R&&(R=s1(R)));const U=super.subscribe({next:m,error:b,complete:R});return s instanceof W.yU&&s.add(U),U}};function QC(){return this._results[Symbol.iterator]()}class Ip{get changes(){return this._changes??=new $l}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const a=Ip.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=QC)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){this.dirty=!1;const c=function nr(n){return n.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function go(n,s,a){if(n.length!==s.length)return!1;for(let c=0;c<n.length;c++){let m=n[c],b=s[c];if(a&&(m=a(m),b=a(b)),b!==m)return!1}return!0}(this._results,c,a))&&(this._results=c,this.length=c.length,this.last=c[this.length-1],this.first=c[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(s){this._onDirty=s}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function jh(n){return!(128&~n.flags)}const Ap=new Map;let qC=0;const Mp="__ngContext__";function Do(n,s){Di(s)?(n[Mp]=s[Yo],function tw(n){Ap.set(n[Yo],n)}(s)):n[Mp]=s}function f1(n){return m1(n[Sr])}function p1(n){return m1(n[nt])}function m1(n){for(;null!==n&&!os(n);)n=n[nt];return n}let da;function Np(n){da=n}function Hl(){if(void 0!==da)return da;if(typeof document<"u")return document;throw new Fe(210,!1)}const C1=new ot("",{providedIn:"root",factory:()=>Op}),Op="ng",Fp=new ot(""),gd=new ot("",{providedIn:"platform",factory:()=>"unknown"}),dc=new ot(""),Hh=new ot("",{providedIn:"root",factory:()=>Hl().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let S1=()=>null;function $p(n,s,a=!1){return S1(n,s,a)}const Va=new ot("",{providedIn:"root",factory:()=>!1});let Xh,Jh;function Il(n){return function Ca(){if(void 0===Xh&&(Xh=null,ft.trustedTypes))try{Xh=ft.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Xh}()?.createHTML(n)||n}function Hp(){if(void 0===Jh&&(Jh=null,ft.trustedTypes))try{Jh=ft.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Jh}function D1(n){return Hp()?.createHTML(n)||n}function R1(n){return Hp()?.createScriptURL(n)||n}class Bc{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${st})`}}class Wp extends Bc{getTypeName(){return"HTML"}}class qD extends Bc{getTypeName(){return"Style"}}class Qh extends Bc{getTypeName(){return"Script"}}class Sw extends Bc{getTypeName(){return"URL"}}class Ew extends Bc{getTypeName(){return"ResourceURL"}}function Dl(n){return n instanceof Bc?n.changingThisBreaksApplicationSecurity:n}function Lc(n,s){const a=function Tw(n){return n instanceof Bc&&n.getTypeName()||null}(n);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see ${st})`)}return a===s}function Iw(n){return new Wp(n)}function Al(n){return new qD(n)}function Dw(n){return new Qh(n)}function Aw(n){return new Sw(n)}function zl(n){return new Ew(n)}function zp(n){const s=new M1(n);return function Rw(){try{return!!(new window.DOMParser).parseFromString(Il(""),"text/html")}catch{return!1}}()?new Kp(s):s}class Kp{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const a=(new window.DOMParser).parseFromString(Il(s),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(s):(a.removeChild(a.firstChild),a)}catch{return null}}}class M1{constructor(s){this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(s){const a=this.inertDocument.createElement("template");return a.innerHTML=Il(s),a}}const Mw=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Zh(n){return(n=String(n)).match(Mw)?n:"unsafe:"+n}function Kl(n){const s={};for(const a of n.split(","))s[a]=!0;return s}function yu(...n){const s={};for(const a of n)for(const c in a)a.hasOwnProperty(c)&&(s[c]=!0);return s}const x1=Kl("area,br,col,hr,img,wbr"),k1=Kl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),N1=Kl("rp,rt"),qh=yu(x1,yu(k1,Kl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),yu(N1,Kl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),yu(N1,k1)),Yp=Kl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),O1=yu(Yp,Kl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Kl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),kw=Kl("script,style,template");class Nw{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let a=s.firstChild,c=!0,m=[];for(;a;)if(a.nodeType===Node.ELEMENT_NODE?c=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,c&&a.firstChild)m.push(a),a=Pw(a);else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let b=Fw(a);if(b){a=b;break}a=m.pop()}return this.buf.join("")}startElement(s){const a=F1(s).toLowerCase();if(!qh.hasOwnProperty(a))return this.sanitizedSomething=!0,!kw.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const c=s.attributes;for(let m=0;m<c.length;m++){const b=c.item(m),R=b.name,U=R.toLowerCase();if(!O1.hasOwnProperty(U)){this.sanitizedSomething=!0;continue}let q=b.value;Yp[U]&&(q=Zh(q)),this.buf.push(" ",R,'="',B1(q),'"')}return this.buf.push(">"),!0}endElement(s){const a=F1(s).toLowerCase();qh.hasOwnProperty(a)&&!x1.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(s){this.buf.push(B1(s))}}function Fw(n){const s=n.nextSibling;if(s&&n!==s.previousSibling)throw P1(s);return s}function Pw(n){const s=n.firstChild;if(s&&function Ow(n,s){return(n.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(n,s))throw P1(s);return s}function F1(n){const s=n.nodeName;return"string"==typeof s?s:"FORM"}function P1(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}const Bw=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Lw=/([^\#-~ |!])/g;function B1(n){return n.replace(/&/g,"&amp;").replace(Bw,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(Lw,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ef;function L1(n,s){let a=null;try{ef=ef||zp(n);let c=s?String(s):"";a=ef.getInertBodyElement(c);let m=5,b=c;do{if(0===m)throw new Error("Failed to sanitize html because the input is unstable");m--,c=b,b=a.innerHTML,a=ef.getInertBodyElement(c)}while(c!==b);return Il((new Nw).sanitizeChildren(Xp(a)||a))}finally{if(a){const c=Xp(a)||a;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function Xp(n){return"content"in n&&function Uw(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Uc=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Uc||{});function U1(n){const s=bd();return s?D1(s.sanitize(Uc.HTML,n)||""):Lc(n,"HTML")?D1(Dl(n)):L1(Hl(),$n(n))}function Jp(n){const s=bd();return s?s.sanitize(Uc.URL,n)||"":Lc(n,"URL")?Dl(n):Zh($n(n))}function V1(n){const s=bd();if(s)return R1(s.sanitize(Uc.RESOURCE_URL,n)||"");if(Lc(n,"ResourceURL"))return R1(Dl(n));throw new Fe(904,!1)}function j1(n,s,a){return function Hw(n,s){return"src"===s&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===s&&("base"===n||"link"===n)?V1:Jp}(s,a)(n)}function bd(){const n=yn();return n&&n[Jn].sanitizer}const Ww=/^>|^->|<!--|-->|--!>|<!-$/g,zw=/(<|>)/g,Kw="\u200b$1\u200b";function W1(n){return n.ownerDocument.defaultView}function z1(n){return n.ownerDocument}function wa(n){return n instanceof Function?n():n}var rf=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(rf||{});let em;function tm(n,s){return em(n,s)}function bu(n,s,a,c,m){if(null!=c){let b,R=!1;os(c)?b=c:Di(c)&&(R=!0,c=c[he]);const U=Er(c);0===n&&null!==a?null==m?nv(s,a,U):Vc(s,a,U,m||null,!0):1===n&&null!==a?Vc(s,a,U,m||null,!0):2===n?function Sd(n,s,a){const c=lf(n,s);c&&function cS(n,s,a,c){n.removeChild(s,a,c)}(n,c,s,a)}(s,U,R):3===n&&s.destroyNode(U),null!=b&&function hS(n,s,a,c,m){const b=a[Xo];b!==Er(a)&&bu(s,n,c,b,m);for(let U=Is;U<a.length;U++){const q=a[U];uf(q[k],q,n,s,c,b)}}(s,n,b,a,m)}}function nm(n,s){return n.createText(s)}function im(n,s){return n.createComment(function $1(n){return n.replace(Ww,s=>s.replace(zw,Kw))}(s))}function sf(n,s,a){return n.createElement(s,a)}function q1(n,s){s[Jn].changeDetectionScheduler?.notify(1),uf(n,s,s[Un],2,null,null)}function ev(n,s){const a=n[tl],c=a.indexOf(s);a.splice(c,1)}function Cd(n,s){if(n.length<=Is)return;const a=Is+s,c=n[a];if(c){const m=c[Ts];null!==m&&m!==n&&ev(m,c),s>0&&(n[a-1][nt]=c[nt]);const b=ra(n,Is+s);!function nS(n,s){q1(n,s),s[he]=null,s[At]=null}(c[k],c);const R=b[fs];null!==R&&R.detachView(b[k]),c[Ae]=null,c[nt]=null,c[ue]&=-129}return c}function af(n,s){if(!(256&s[ue])){const a=s[Un];a.destroyNode&&uf(n,s,a,3,null,null),function rS(n){let s=n[Sr];if(!s)return rm(n[k],n);for(;s;){let a=null;if(Di(s))a=s[Sr];else{const c=s[Is];c&&(a=c)}if(!a){for(;s&&!s[nt]&&s!==n;)Di(s)&&rm(s[k],s),s=s[Ae];null===s&&(s=n),Di(s)&&rm(s[k],s),a=s&&s[nt]}s=a}}(s)}}function rm(n,s){if(256&s[ue])return;const a=D(null);try{s[ue]&=-129,s[ue]|=256,s[sa]&&function Y(n){if(ee(n),K(n))for(let s=0;s<n.producerNode.length;s++)fe(n.producerNode[s],n.producerIndexOfThis[s]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}(s[sa]),function lS(n,s){let a;if(null!=n&&null!=(a=n.destroyHooks))for(let c=0;c<a.length;c+=2){const m=s[a[c]];if(!(m instanceof dd)){const b=a[c+1];if(Array.isArray(b))for(let R=0;R<b.length;R+=2){const U=m[b[R]],q=b[R+1];aa(4,U,q);try{q.call(U)}finally{aa(5,U,q)}}else{aa(4,m,b);try{b.call(m)}finally{aa(5,m,b)}}}}}(n,s),function aS(n,s){const a=n.cleanup,c=s[qt];if(null!==a)for(let b=0;b<a.length-1;b+=2)if("string"==typeof a[b]){const R=a[b+3];R>=0?c[R]():c[-R].unsubscribe(),b+=2}else a[b].call(c[a[b+1]]);null!==c&&(s[qt]=null);const m=s[Eo];if(null!==m){s[Eo]=null;for(let b=0;b<m.length;b++)(0,m[b])()}}(n,s),1===s[k].type&&s[Un].destroy();const c=s[Ts];if(null!==c&&os(s[Ae])){c!==s[Ae]&&ev(c,s);const m=s[fs];null!==m&&m.detachView(n)}!function nw(n){Ap.delete(n[Yo])}(s)}finally{D(a)}}function sm(n,s,a){return tv(n,s.parent,a)}function tv(n,s,a){let c=s;for(;null!==c&&40&c.type;)c=(s=c).parent;if(null===c)return a[he];{const{componentOffset:m}=c;if(m>-1){const{encapsulation:b}=n.data[c.directiveStart+m];if(b===Wr.None||b===Wr.Emulated)return null}return Jo(c,a)}}function Vc(n,s,a,c,m){n.insertBefore(s,a,c,m)}function nv(n,s,a){n.appendChild(s,a)}function iv(n,s,a,c,m){null!==c?Vc(n,s,a,c,m):nv(n,s,a)}function lf(n,s){return n.parentNode(s)}function rv(n,s,a){return ov(n,s,a)}function sv(n,s,a){return 40&n.type?Jo(n,a):null}let om,ov=sv;function av(n,s){ov=n,om=s}function cf(n,s,a,c){const m=sm(n,c,s),b=s[Un],U=rv(c.parent||s[At],c,s);if(null!=m)if(Array.isArray(a))for(let q=0;q<a.length;q++)iv(b,m,a[q],U,!1);else iv(b,m,a,U,!1);void 0!==om&&om(b,c,s,a,m)}function wd(n,s){if(null!==s){const a=s.type;if(3&a)return Jo(s,n);if(4&a)return am(-1,n[s.index]);if(8&a){const c=s.child;if(null!==c)return wd(n,c);{const m=n[s.index];return os(m)?am(-1,m):Er(m)}}if(32&a)return tm(s,n)()||Er(n[s.index]);{const c=lv(n,s);return null!==c?Array.isArray(c)?c[0]:wd(Ac(n[Mr]),c):wd(n,s.next)}}return null}function lv(n,s){return null!==s?n[Mr][At].projection[s.projection]:null}function am(n,s){const a=Is+n+1;if(a<s.length){const c=s[a],m=c[k].firstChild;if(null!==m)return wd(c,m)}return s[Xo]}function lm(n,s,a,c,m,b,R){for(;null!=a;){const U=c[a.index],q=a.type;if(R&&0===s&&(U&&Do(Er(U),c),a.flags|=2),32&~a.flags)if(8&q)lm(n,s,a.child,c,m,b,!1),bu(s,n,m,U,b);else if(32&q){const Se=tm(a,c);let Ge;for(;Ge=Se();)bu(s,n,m,Ge,b);bu(s,n,m,U,b)}else 16&q?uv(n,s,c,a,m,b):bu(s,n,m,U,b);a=R?a.projectionNext:a.next}}function uf(n,s,a,c,m,b){lm(a,c,n.firstChild,s,m,b,!1)}function uv(n,s,a,c,m,b){const R=a[Mr],q=R[At].projection[c.projection];if(Array.isArray(q))for(let Se=0;Se<q.length;Se++)bu(s,n,m,q[Se],b);else{let Se=q;const Ge=R[Ae];jh(c)&&(Se.flags|=128),lm(n,s,Se,Ge,m,b,!0)}}function dv(n,s,a){""===a?n.removeAttribute(s,"class"):n.setAttribute(s,"class",a)}function hv(n,s,a){const{mergedAttrs:c,classes:m,styles:b}=a;null!==c&&Cs(n,s,c),null!==m&&dv(n,s,m),null!==b&&function pS(n,s,a){n.setAttribute(s,"style",a)}(n,s,b)}const zi={};function fv(n=1){pv(gr(),yn(),co()+n,!1)}function pv(n,s,a,c){if(!c)if(3&~s[ue]){const b=n.preOrderHooks;null!==b&&kh(s,b,0,a)}else{const b=n.preOrderCheckHooks;null!==b&&xh(s,b,a)}El(a)}function Cu(n,s=vi.Default){const a=yn();return null===a?er(n,s):G0(Ur(),a,Rt(n),s)}function mS(){throw new Error("invalid")}function df(n,s,a,c,m,b){const R=D(null);try{let U=null;m&Zr.SignalBased&&(U=s[c][I]),null!==U&&void 0!==U.transformFn&&(b=U.transformFn(b)),m&Zr.HasDecoratorInputTransform&&(b=n.inputTransforms[c].call(s,b)),null!==n.setInput?n.setInput(s,U,b,a,c):sc(s,U,c,b)}finally{D(R)}}function hf(n,s,a,c,m,b,R,U,q,Se,Ge){const ut=s.blueprint.slice();return ut[he]=m,ut[ue]=204|c,(null!==Se||n&&2048&n[ue])&&(ut[ue]|=2048),R0(ut),ut[Ae]=ut[Kr]=n,ut[nn]=a,ut[Jn]=R||n&&n[Jn],ut[Un]=U||n&&n[Un],ut[_n]=q||n&&n[_n]||null,ut[At]=b,ut[Yo]=function ew(){return qC++}(),ut[Lt]=Ge,ut[Na]=Se,ut[Mr]=2==s.type?n[Mr]:ut,ut}function wu(n,s,a,c,m){let b=n.data[s];if(null===b)b=cm(n,s,a,c,m),function cc(){return Ui.lFrame.inI18n}()&&(b.flags|=32);else if(64&b.type){b.type=a,b.value=c,b.attrs=m;const R=la();b.injectorIndex=null===R?-1:R.injectorIndex}return il(b,!0),b}function cm(n,s,a,c,m){const b=Mc(),R=hp(),q=n.data[s]=function Zo(n,s,a,c,m,b){let R=s?s.injectorIndex:-1,U=0;return Rc()&&(U|=128),{type:a,index:c,insertBeforeIndex:null,injectorIndex:R,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:U,providerIndexes:0,value:m,attrs:b,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,R?b:b&&b.parent,a,s,c,m);return null===n.firstChild&&(n.firstChild=q),null!==b&&(R?null==b.child&&null!==q.parent&&(b.child=q):null===b.next&&(b.next=q,q.prev=b)),q}function Su(n,s,a,c){if(0===a)return-1;const m=s.length;for(let b=0;b<a;b++)s.push(c),n.blueprint.push(c),n.data.push(null);return m}function um(n,s,a,c,m){const b=co(),R=2&c;try{El(-1),R&&s.length>xi&&pv(n,s,xi,!1),aa(R?2:0,m),a(c,m)}finally{El(b),aa(R?3:1,m)}}function dm(n,s,a){if(vl(s)){const c=D(null);try{const b=s.directiveEnd;for(let R=s.directiveStart;R<b;R++){const U=n.data[R];U.contentQueries&&U.contentQueries(1,a[R],R)}}finally{D(c)}}}function ff(n,s,a){EC()&&(function Rl(n,s,a,c){const m=a.directiveStart,b=a.directiveEnd;ga(a)&&function bv(n,s,a){const c=Jo(s,n),m=mf(a);let R=16;a.signals?R=4096:a.onPush&&(R=64);const U=Xl(n,hf(n,m,null,R,c,s,null,n[Jn].rendererFactory.createRenderer(c,a),null,null,null));n[s.index]=U}(s,a,n.data[m+a.componentOffset]),n.firstCreatePass||Fh(a,s),Do(c,s);const R=a.initialInputs;for(let U=m;U<b;U++){const q=n.data[U],Se=kc(s,n,U,a);Do(Se,s),null!==R&&ol(0,U-m,Se,q,0,R),yo(q)&&(ya(a.index,s)[nn]=kc(s,n,U,a))}}(n,s,a,Jo(a,s)),!(64&~a.flags)&&hm(n,s,a))}function pf(n,s,a=Jo){const c=s.localNames;if(null!==c){let m=s.index+1;for(let b=0;b<c.length;b+=2){const R=c[b+1],U=-1===R?a(s,n):n[R];n[m++]=U}}}function mf(n){const s=n.tView;return null===s||s.incompleteFirstPass?n.tView=pc(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):s}function pc(n,s,a,c,m,b,R,U,q,Se,Ge){const ut=xi+c,jt=ut+m,Kt=function Vo(n,s){const a=[];for(let c=0;c<s;c++)a.push(c<n?null:zi);return a}(ut,jt),an="function"==typeof Se?Se():Se;return Kt[k]={type:n,blueprint:Kt,template:a,queries:null,viewQuery:U,declTNode:s,data:Kt.slice().fill(null,ut),bindingStartIndex:ut,expandoStartIndex:jt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof b?b():b,pipeRegistry:"function"==typeof R?R():R,firstChild:null,schemas:q,consts:an,incompleteFirstPass:!1,ssrId:Ge}}let vS=()=>null;function gv(n,s,a,c,m){for(let b in s){if(!s.hasOwnProperty(b))continue;const R=s[b];if(void 0===R)continue;c??={};let U,q=Zr.None;Array.isArray(R)?(U=R[0],q=R[1]):U=R;let Se=b;if(null!==m){if(!m.hasOwnProperty(b))continue;Se=m[b]}0===n?gf(c,a,Se,U,q):gf(c,a,Se,U)}return c}function gf(n,s,a,c,m){let b;n.hasOwnProperty(a)?(b=n[a]).push(s,c):b=n[a]=[s,c],void 0!==m&&b.push(m)}function qo(n,s,a,c,m,b,R,U){const q=Jo(s,a);let Ge,Se=s.inputs;!U&&null!=Se&&(Ge=Se[c])?(_f(n,a,Ge,c,m),ga(s)&&function bS(n,s){const a=ya(s,n);16&a[ue]||(a[ue]|=64)}(a,s.index)):3&s.type&&(c=function yv(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(c),m=null!=R?R(m,s.value||"",c):m,b.setProperty(q,c,m))}function Ed(n,s,a,c){if(EC()){const m=null===c?null:{"":-1},b=function pm(n,s){const a=n.directiveRegistry;let c=null,m=null;if(a)for(let b=0;b<a.length;b++){const R=a[b];if(Xe(s,R.selectors,!1))if(c||(c=[]),yo(R))if(null!==R.findHostDirectiveDefs){const U=[];m=m||new Map,R.findHostDirectiveDefs(R,U,m),c.unshift(...U,R),mm(n,s,U.length)}else c.unshift(R),mm(n,s,0);else m=m||new Map,R.findHostDirectiveDefs?.(R,c,m),c.push(R)}return null===c?null:[c,m]}(n,a);let R,U;null===b?R=U=null:[R,U]=b,null!==R&&_v(n,s,a,R,m,U),m&&function SS(n,s,a){if(s){const c=n.localNames=[];for(let m=0;m<s.length;m+=2){const b=a[s[m+1]];if(null==b)throw new Fe(-301,!1);c.push(s[m],b)}}}(a,c,m)}a.mergedAttrs=de(a.mergedAttrs,a.attrs)}function _v(n,s,a,c,m,b){for(let Se=0;Se<c.length;Se++)wp(Fh(a,s),n,c[Se].type);!function Ml(n,s,a){n.flags|=1,n.directiveStart=s,n.directiveEnd=s+a,n.providerIndexes=s}(a,n.data.length,c.length);for(let Se=0;Se<c.length;Se++){const Ge=c[Se];Ge.providersResolver&&Ge.providersResolver(Ge)}let R=!1,U=!1,q=Su(n,s,c.length,null);for(let Se=0;Se<c.length;Se++){const Ge=c[Se];a.mergedAttrs=de(a.mergedAttrs,Ge.hostAttrs),ES(n,a,s,q,Ge),vf(q,Ge,m),null!==Ge.contentQueries&&(a.flags|=4),(null!==Ge.hostBindings||null!==Ge.hostAttrs||0!==Ge.hostVars)&&(a.flags|=64);const ut=Ge.type.prototype;!R&&(ut.ngOnChanges||ut.ngOnInit||ut.ngDoCheck)&&((n.preOrderHooks??=[]).push(a.index),R=!0),!U&&(ut.ngOnChanges||ut.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(a.index),U=!0),q++}!function vv(n,s,a){const m=s.directiveEnd,b=n.data,R=s.attrs,U=[];let q=null,Se=null;for(let Ge=s.directiveStart;Ge<m;Ge++){const ut=b[Ge],jt=a?a.get(ut):null,an=jt?jt.outputs:null;q=gv(0,ut.inputs,Ge,q,jt?jt.inputs:null),Se=gv(1,ut.outputs,Ge,Se,an);const Sn=null===q||null===R||Ti(s)?null:Ea(q,Ge,R);U.push(Sn)}null!==q&&(q.hasOwnProperty("class")&&(s.flags|=8),q.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=U,s.inputs=q,s.outputs=Se}(n,a,b)}function hm(n,s,a){const c=a.directiveStart,m=a.directiveEnd,b=a.index,R=function Ih(){return Ui.lFrame.currentDirectiveIndex}();try{El(b);for(let U=c;U<m;U++){const q=n.data[U],Se=s[U];uc(U),(null!==q.hostBindings||0!==q.hostVars||null!==q.hostAttrs)&&fm(q,Se)}}finally{El(-1),uc(R)}}function fm(n,s){null!==n.hostBindings&&n.hostBindings(1,s)}function mm(n,s,a){s.componentOffset=a,(n.components??=[]).push(s.index)}function vf(n,s,a){if(a){if(s.exportAs)for(let c=0;c<s.exportAs.length;c++)a[s.exportAs[c]]=n;yo(s)&&(a[""]=n)}}function ES(n,s,a,c,m){n.data[c]=m;const b=m.factory||(m.factory=is(m.type)),R=new dd(b,yo(m),Cu);n.blueprint[c]=R,a[c]=R,function wS(n,s,a,c,m){const b=m.hostBindings;if(b){let R=n.hostBindingOpCodes;null===R&&(R=n.hostBindingOpCodes=[]);const U=~s.index;(function sl(n){let s=n.length;for(;s>0;){const a=n[--s];if("number"==typeof a&&a<0)return a}return 0})(R)!=U&&R.push(U),R.push(a,c,b)}}(n,s,c,Su(n,a,m.hostVars,zi),m)}function Hs(n,s,a,c,m,b){const R=Jo(n,s);!function Sa(n,s,a,c,m,b,R){if(null==b)n.removeAttribute(s,m,a);else{const U=null==R?$n(b):R(b,c||"",m);n.setAttribute(s,m,U,a)}}(s[Un],R,b,n.value,a,c,m)}function ol(n,s,a,c,m,b){const R=b[s];if(null!==R)for(let U=0;U<R.length;)df(c,a,R[U++],R[U++],R[U++],R[U++])}function Ea(n,s,a){let c=null,m=0;for(;m<a.length;){const b=a[m];if(0!==b)if(5!==b){if("number"==typeof b)break;if(n.hasOwnProperty(b)){null===c&&(c=[]);const R=n[b];for(let U=0;U<R.length;U+=3)if(R[U]===s){c.push(b,R[U+1],R[U+2],a[m+1]);break}}m+=2}else m+=2;else m+=4}return c}function yf(n,s,a,c){return[n,!0,0,s,null,c,null,a,null,null]}function Eu(n,s){const a=n.contentQueries;if(null!==a){const c=D(null);try{for(let m=0;m<a.length;m+=2){const R=a[m+1];if(-1!==R){const U=n.data[R];Ll(a[m]),U.contentQueries(2,s[R],R)}}}finally{D(c)}}}function Xl(n,s){return n[Sr]?n[mi][nt]=s:n[Sr]=s,n[mi]=s,s}function jc(n,s,a){Ll(0);const c=D(null);try{s(n,a)}finally{D(c)}}function gm(n){return n[qt]||(n[qt]=[])}function Tu(n){return n.cleanup||(n.cleanup=[])}function Cv(n,s,a){return(null===n||yo(n))&&(a=function ap(n){for(;Array.isArray(n);){if("object"==typeof n[Oa])return n;n=n[he]}return null}(a[s.index])),a[Un]}function Td(n,s){const a=n[_n],c=a?a.get(jl,null):null;c&&c.handleError(s)}function _f(n,s,a,c,m){for(let b=0;b<a.length;){const R=a[b++],U=a[b++],q=a[b++];df(n.data[R],s[R],c,U,q,m)}}function Jl(n,s,a){const c=rd(s,n);!function Z1(n,s,a){n.setValue(s,a)}(n[Un],c,a)}function TS(n,s){const a=ya(s,n),c=a[k];!function IS(n,s){for(let a=s.length;a<n.blueprint.length;a++)s.push(n.blueprint[a])}(c,a);const m=a[he];null!==m&&null===a[Lt]&&(a[Lt]=$p(m,a[_n])),vm(c,a,a[nn])}function vm(n,s,a){Ah(s);try{const c=n.viewQuery;null!==c&&jc(1,c,a);const m=n.template;null!==m&&um(n,s,m,1,a),n.firstCreatePass&&(n.firstCreatePass=!1),s[fs]?.finishViewCreation(n),n.staticContentQueries&&Eu(n,s),n.staticViewQueries&&jc(2,n.viewQuery,a);const b=n.components;null!==b&&function DS(n,s){for(let a=0;a<s.length;a++)TS(n,s[a])}(s,b)}catch(c){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),c}finally{s[ue]&=-5,cd()}}function Id(n,s,a,c){const m=D(null);try{const b=s.tView,q=hf(n,b,a,4096&n[ue]?4096:16,null,s,null,null,c?.injector??null,c?.embeddedViewInjector??null,c?.dehydratedView??null);q[Ts]=n[s.index];const Ge=n[fs];return null!==Ge&&(q[fs]=Ge.createEmbeddedView(b)),vm(b,q,a),q}finally{D(m)}}function wv(n,s){const a=Is+s;if(a<n.length)return n[a]}function Iu(n,s){return!s||null===s.firstChild||jh(n)}function Dd(n,s,a,c=!0){const m=s[k];if(function sS(n,s,a,c){const m=Is+c,b=a.length;c>0&&(a[m-1][nt]=s),c<b-Is?(s[nt]=a[m],Go(a,Is+c,s)):(a.push(s),s[nt]=null),s[Ae]=a;const R=s[Ts];null!==R&&a!==R&&function oS(n,s){const a=n[tl];s[Mr]!==s[Ae][Ae][Mr]&&(n[ue]|=xr.HasTransplantedViews),null===a?n[tl]=[s]:a.push(s)}(R,s);const U=s[fs];null!==U&&U.insertView(n),up(s),s[ue]|=128}(m,s,n,a),c){const R=am(a,n),U=s[Un],q=lf(U,n[Xo]);null!==q&&function iS(n,s,a,c,m,b){c[he]=m,c[At]=s,uf(n,c,a,1,m,b)}(m,n[At],U,s,q,R)}const b=s[Lt];null!==b&&null!==b.firstChild&&(b.firstChild=null)}function ym(n,s){const a=Cd(n,s);return void 0!==a&&af(a[k],a),a}function Mo(n,s,a,c,m=!1){for(;null!==a;){const b=s[a.index];null!==b&&c.push(Er(b)),os(b)&&mc(b,c);const R=a.type;if(8&R)Mo(n,s,a.child,c);else if(32&R){const U=tm(a,s);let q;for(;q=U();)c.push(q)}else if(16&R){const U=lv(s,a);if(Array.isArray(U))c.push(...U);else{const q=Ac(s[Mr]);Mo(q[k],q,U,c,!0)}}a=m?a.projectionNext:a.next}return c}function mc(n,s){for(let a=Is;a<n.length;a++){const c=n[a],m=c[k].firstChild;null!==m&&Mo(c[k],c,m,s)}n[Xo]!==n[he]&&s.push(n[Xo])}let Ta=[];const bf={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Gs(n.lView)},consumerOnSignalRead(){this.lView[sa]=this}},Gc=100;function Du(n,s=!0,a=0){const c=n[Jn],m=c.rendererFactory;m.begin?.();try{!function Sv(n,s){Au(n,s);let a=0;for(;cp(n);){if(a===Gc)throw new Fe(103,!1);a++,Au(n,1)}}(n,a)}catch(R){throw s&&Td(n,R),R}finally{m.end?.(),c.inlineEffectRunner?.flush()}}function bm(n,s,a,c){const m=s[ue];if(!(256&~m))return;s[Jn].inlineEffectRunner?.flush(),Ah(s);let R=null,U=null;(function Cm(n){return 2!==n.type})(n)&&(U=function _m(n){return n[sa]??function gc(n){const s=Ta.pop()??Object.create(bf);return s.lView=n,s}(n)}(s),R=function x(n){return n&&(n.nextProducerIndex=0),D(n)}(U));try{R0(s),function Th(n){return Ui.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==a&&um(n,s,a,2,c);const q=!(3&~m);if(q){const ut=n.preOrderCheckHooks;null!==ut&&xh(s,ut,null)}else{const ut=n.preOrderHooks;null!==ut&&kh(s,ut,0,null),yp(s,0)}if(function Ql(n){for(let s=f1(n);null!==s;s=p1(s)){if(!(s[ue]&xr.HasTransplantedViews))continue;const a=s[tl];for(let c=0;c<a.length;c++){CC(a[c])}}}(s),Ev(s,0),null!==n.contentQueries&&Eu(n,s),q){const ut=n.contentCheckHooks;null!==ut&&xh(s,ut)}else{const ut=n.contentHooks;null!==ut&&kh(s,ut,1),yp(s,1)}!function mv(n,s){const a=n.hostBindingOpCodes;if(null!==a)try{for(let c=0;c<a.length;c++){const m=a[c];if(m<0)El(~m);else{const b=m,R=a[++c],U=a[++c];N0(R,b),U(2,s[b])}}}finally{El(-1)}}(n,s);const Se=n.components;null!==Se&&Cf(s,Se,0);const Ge=n.viewQuery;if(null!==Ge&&jc(2,Ge,c),q){const ut=n.viewCheckHooks;null!==ut&&xh(s,ut)}else{const ut=n.viewHooks;null!==ut&&kh(s,ut,2),yp(s,2)}if(!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),s[Fs]){for(const ut of s[Fs])ut();s[Fs]=null}s[ue]&=-73}catch(q){throw Gs(s),q}finally{null!==U&&(function V(n,s){if(D(s),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(K(n))for(let a=n.nextProducerIndex;a<n.producerNode.length;a++)fe(n.producerNode[a],n.producerIndexOfThis[a]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}(U,R),function $c(n){n.lView[sa]!==n&&(n.lView=null,Ta.push(n))}(U)),cd()}}function Ev(n,s){for(let a=f1(n);null!==a;a=p1(a))for(let c=Is;c<a.length;c++)al(a[c],s)}function AS(n,s,a){al(ya(s,n),a)}function al(n,s){lp(n)&&Au(n,s)}function Au(n,s){const c=n[k],m=n[ue],b=n[sa];let R=!!(0===s&&16&m);if(R||=!!(64&m&&0===s),R||=!!(1024&m),R||=!(!b?.dirty||!Q(b)),b&&(b.dirty=!1),n[ue]&=-9217,R)bm(c,n,c.template,n[nn]);else if(8192&m){Ev(n,1);const U=c.components;null!==U&&Cf(n,U,1)}}function Cf(n,s,a){for(let c=0;c<s.length;c++)AS(n,s[c],a)}function Ru(n){for(n[Jn].changeDetectionScheduler?.notify();n;){n[ue]|=64;const s=Ac(n);if(yl(n)&&!s)return n;n=s}return null}class Zl{get rootNodes(){const s=this._lView,a=s[k];return Mo(a,s,a.firstChild,[])}constructor(s,a,c=!0){this._lView=s,this._cdRefInjectingView=a,this.notifyErrorHandler=c,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[nn]}set context(s){this._lView[nn]=s}get destroyed(){return!(256&~this._lView[ue])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[Ae];if(os(s)){const a=s[8],c=a?a.indexOf(this):-1;c>-1&&(Cd(s,c),ra(a,c))}this._attachedToViewContainer=!1}af(this._lView[k],this._lView)}onDestroy(s){au(this._lView,s)}markForCheck(){Ru(this._cdRefInjectingView||this._lView)}detach(){this._lView[ue]&=-129}reattach(){up(this._lView),this._lView[ue]|=128}detectChanges(){this._lView[ue]|=1024,Du(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Fe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,q1(this._lView[k],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Fe(902,!1);this._appRef=s,up(this._lView)}}let Rd=(()=>{class n{static{this.__NG_ELEMENT_ID__=Md}}return n})();const Tv=Rd,RS=class extends Tv{constructor(s,a,c){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=c}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(s,a){return this.createEmbeddedViewImpl(s,a)}createEmbeddedViewImpl(s,a,c){const m=Id(this._declarationLView,this._declarationTContainer,s,{embeddedViewInjector:a,dehydratedView:c});return new Zl(m)}};function Md(){return xd(Ur(),yn())}function xd(n,s){return 4&n.type?new RS(s,n,fd(n,s)):null}let Fv=()=>null;function xu(n,s){return Fv(n,s)}class Tf{}class zS{}class KS{}class XS{resolveComponentFactory(s){throw function YS(n){const s=Error(`No component factory found for ${An(n)}.`);return s.ngComponent=n,s}(s)}}let Ld=(()=>{class n{static{this.NULL=new XS}}return n})();class Lv{}let I2=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function D2(){const n=yn(),a=ya(Ur().index,n);return(Di(a)?a:n)[Un]}()}}return n})(),JS=(()=>{class n{static{this.\u0275prov=qn({token:n,providedIn:"root",factory:()=>null})}}return n})();const Uv={},Vv=new Set;function xl(n){Vv.has(n)||(Vv.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function jv(...n){}class Xs{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new $l(!1),this.onMicrotaskEmpty=new $l(!1),this.onStable=new $l(!1),this.onError=new $l(!1),typeof Zone>"u")throw new Fe(908,!1);Zone.assertZonePatched();const m=this;m._nesting=0,m._outer=m._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(m._inner=m._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(m._inner=m._inner.fork(Zone.longStackTraceZoneSpec)),m.shouldCoalesceEventChangeDetection=!c&&a,m.shouldCoalesceRunChangeDetection=c,m.lastRequestAnimationFrameId=-1,m.nativeRequestAnimationFrame=function QS(){const n="function"==typeof ft.requestAnimationFrame;let s=ft[n?"requestAnimationFrame":"setTimeout"],a=ft[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&s&&a){const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c);const m=a[Zone.__symbol__("OriginalDelegate")];m&&(a=m)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function eE(n){const s=()=>{!function qS(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(ft,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Rm(n),n.isCheckStableRunning=!0,Am(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Rm(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,m,b,R,U)=>{if(function tE(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(U))return a.invokeTask(m,b,R,U);try{return $v(n),a.invokeTask(m,b,R,U)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===b.type||n.shouldCoalesceRunChangeDetection)&&s(),Gv(n)}},onInvoke:(a,c,m,b,R,U,q)=>{try{return $v(n),a.invoke(m,b,R,U,q)}finally{n.shouldCoalesceRunChangeDetection&&s(),Gv(n)}},onHasTask:(a,c,m,b)=>{a.hasTask(m,b),c===m&&("microTask"==b.change?(n._hasPendingMicrotasks=b.microTask,Rm(n),Am(n)):"macroTask"==b.change&&(n.hasPendingMacrotasks=b.macroTask))},onHandleError:(a,c,m,b)=>(a.handleError(m,b),n.runOutsideAngular(()=>n.onError.emit(b)),!1)})}(m)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Xs.isInAngularZone())throw new Fe(909,!1)}static assertNotInAngularZone(){if(Xs.isInAngularZone())throw new Fe(909,!1)}run(s,a,c){return this._inner.run(s,a,c)}runTask(s,a,c,m){const b=this._inner,R=b.scheduleEventTask("NgZoneEvent: "+m,s,ZS,jv,jv);try{return b.runTask(R,a,c)}finally{b.cancelTask(R)}}runGuarded(s,a,c){return this._inner.runGuarded(s,a,c)}runOutsideAngular(s){return this._outer.run(s)}}const ZS={};function Am(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Rm(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function $v(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Gv(n){n._nesting--,Am(n)}class Hv{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new $l,this.onMicrotaskEmpty=new $l,this.onStable=new $l,this.onError=new $l}run(s,a,c){return s.apply(a,c)}runGuarded(s,a,c){return s.apply(a,c)}runOutsideAngular(s){return s()}runTask(s,a,c,m){return s.apply(a,c)}}var Hc=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Hc||{});const Wv={destroy(){}};function zv(n,s){!s&&Es();const a=s?.injector??Gn(ba);if(!function fc(n){return"browser"===(n??Gn(ba)).get(gd)}(a))return Wv;xl("NgAfterNextRender");const c=a.get(Ud),m=c.handler??=new Kv,b=s?.phase??Hc.MixedReadWrite,R=()=>{m.unregister(q),U()},U=a.get(Nc).onDestroy(R),q=Os(a,()=>new xm(b,()=>{R(),n()}));return m.register(q),{destroy:R}}class xm{constructor(s,a){this.phase=s,this.callbackFn=a,this.zone=Gn(Xs),this.errorHandler=Gn(jl,{optional:!0}),Gn(Tf,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(s){this.errorHandler?.handleError(s)}}}class Kv{constructor(){this.executingCallbacks=!1,this.buckets={[Hc.EarlyRead]:new Set,[Hc.Write]:new Set,[Hc.MixedReadWrite]:new Set,[Hc.Read]:new Set},this.deferredCallbacks=new Set}register(s){(this.executingCallbacks?this.deferredCallbacks:this.buckets[s.phase]).add(s)}unregister(s){this.buckets[s.phase].delete(s),this.deferredCallbacks.delete(s)}execute(){this.executingCallbacks=!0;for(const s of Object.values(this.buckets))for(const a of s)a.invoke();this.executingCallbacks=!1;for(const s of this.deferredCallbacks)this.buckets[s.phase].add(s);this.deferredCallbacks.clear()}destroy(){for(const s of Object.values(this.buckets))s.clear();this.deferredCallbacks.clear()}}let Ud=(()=>{class n{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const a=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const c of a)c()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=qn({token:n,providedIn:"root",factory:()=>new n})}}return n})();function vc(n){return!!_r(n)}function Df(n,s,a){let c=a?n.styles:null,m=a?n.classes:null,b=0;if(null!==s)for(let R=0;R<s.length;R++){const U=s[R];"number"==typeof U?b=U:1==b?m=Fn(m,U):2==b&&(c=Fn(c,U+": "+s[++R]+";"))}a?n.styles=c:n.stylesWithoutHost=c,a?n.classes=m:n.classesWithoutHost=m}class Af extends Ld{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=Bi(s);return new $d(a,this.ngModule)}}function Jv(n){const s=[];for(const a in n){if(!n.hasOwnProperty(a))continue;const c=n[a];void 0!==c&&s.push({propName:Array.isArray(c)?c[0]:c,templateName:a})}return s}class Rf{constructor(s,a){this.injector=s,this.parentInjector=a}get(s,a,c){c=Jr(c);const m=this.injector.get(s,Uv,c);return m!==Uv||a===Uv?m:this.parentInjector.get(s,a,c)}}class $d extends KS{get inputs(){const s=this.componentDef,a=s.inputTransforms,c=Jv(s.inputs);if(null!==a)for(const m of c)a.hasOwnProperty(m.propName)&&(m.transform=a[m.propName]);return c}get outputs(){return Jv(this.componentDef.outputs)}constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function yi(n){return n.map(Rn).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}create(s,a,c,m){const b=D(null);try{let R=(m=m||this.ngModule)instanceof Rr?m:m?.injector;R&&null!==this.componentDef.getStandaloneInjector&&(R=this.componentDef.getStandaloneInjector(R)||R);const U=R?new Rf(s,R):s,q=U.get(Lv,null);if(null===q)throw new Fe(407,!1);const Se=U.get(JS,null),jt={rendererFactory:q,sanitizer:Se,inlineEffectRunner:null,afterRenderEventManager:U.get(Ud,null),changeDetectionScheduler:U.get(Tf,null)},Kt=q.createRenderer(null,this.componentDef),an=this.componentDef.selectors[0][0]||"div",Sn=c?function Yl(n,s,a,c){const b=c.get(Va,!1)||a===Wr.ShadowDom,R=n.selectRootElement(s,b);return function gS(n){vS(n)}(R),R}(Kt,c,this.componentDef.encapsulation,U):sf(Kt,an,function oE(n){const s=n.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(an));let Nn=512;this.componentDef.signals?Nn|=4096:this.componentDef.onPush||(Nn|=16);let Wn=null;null!==Sn&&(Wn=$p(Sn,U,!0));const Dn=pc(0,null,null,1,0,null,null,null,null,null,null),Li=hf(null,Dn,null,Nn,null,null,jt,Kt,U,null,Wn);let kr,ps;Ah(Li);try{const ko=this.componentDef;let Ya,sp=null;ko.findHostDirectiveDefs?(Ya=[],sp=new Map,ko.findHostDirectiveDefs(ko,Ya,sp),Ya.push(ko)):Ya=[ko];const OR=function lE(n,s){const a=n[k],c=xi;return n[c]=s,wu(a,c,2,"#host",null)}(Li,Sn),FM=function cE(n,s,a,c,m,b,R){const U=m[k];!function uE(n,s,a,c){for(const m of n)s.mergedAttrs=de(s.mergedAttrs,m.hostAttrs);null!==s.mergedAttrs&&(Df(s,s.mergedAttrs,!0),null!==a&&hv(c,a,s))}(c,n,s,R);let q=null;null!==s&&(q=$p(s,m[_n]));const Se=b.rendererFactory.createRenderer(s,a);let Ge=16;a.signals?Ge=4096:a.onPush&&(Ge=64);const ut=hf(m,mf(a),null,Ge,m[n.index],n,b,Se,null,null,q);return U.firstCreatePass&&mm(U,n,c.length-1),Xl(m,ut),m[n.index]=ut}(OR,Sn,ko,Ya,Li,jt,Kt);ps=sd(Dn,xi),Sn&&function hE(n,s,a,c){if(c)Cs(n,a,["ng-version","17.3.3"]);else{const{attrs:m,classes:b}=function xn(n){const s=[],a=[];let c=1,m=2;for(;c<n.length;){let b=n[c];if("string"==typeof b)2===m?""!==b&&s.push(b,n[++c]):8===m&&a.push(b);else{if(!Zn(m))break;m=b}c++}return{attrs:s,classes:a}}(s.selectors[0]);m&&Cs(n,a,m),b&&b.length>0&&dv(n,a,b.join(" "))}}(Kt,ko,Sn,c),void 0!==a&&function fE(n,s,a){const c=n.projection=[];for(let m=0;m<s.length;m++){const b=a[m];c.push(null!=b?Array.from(b):null)}}(ps,this.ngContentSelectors,a),kr=function dE(n,s,a,c,m,b){const R=Ur(),U=m[k],q=Jo(R,m);_v(U,m,R,a,null,c);for(let Ge=0;Ge<a.length;Ge++)Do(kc(m,U,R.directiveStart+Ge,R),m);hm(U,m,R),q&&Do(q,m);const Se=kc(m,U,R.directiveStart+R.componentOffset,R);if(n[nn]=m[nn]=Se,null!==b)for(const Ge of b)Ge(Se,s);return dm(U,R,m),Se}(FM,ko,Ya,sp,Li,[pE]),vm(Dn,Li,null)}finally{cd()}return new aE(this.componentType,kr,fd(ps,Li),Li,ps)}finally{D(b)}}}class aE extends zS{constructor(s,a,c,m,b){super(),this.location=c,this._rootLView=m,this._tNode=b,this.previousInputValues=null,this.instance=a,this.hostView=this.changeDetectorRef=new Zl(m,void 0,!1),this.componentType=s}setInput(s,a){const c=this._tNode.inputs;let m;if(null!==c&&(m=c[s])){if(this.previousInputValues??=new Map,this.previousInputValues.has(s)&&Object.is(this.previousInputValues.get(s),a))return;const b=this._rootLView;_f(b[k],b,m,s,a),this.previousInputValues.set(s,a),Ru(ya(this._tNode.index,b))}}get injector(){return new uo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function pE(){const n=Ur();_a(yn()[k],n)}let Mf=(()=>{class n{static{this.__NG_ELEMENT_ID__=mE}}return n})();function mE(){return qv(Ur(),yn())}const gE=Mf,Qv=class extends gE{constructor(s,a,c){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=c}get element(){return fd(this._hostTNode,this._hostLView)}get injector(){return new uo(this._hostTNode,this._hostLView)}get parentInjector(){const s=Ph(this._hostTNode,this._hostLView);if(bp(s)){const a=hd(s,this._hostLView),c=Vl(s);return new uo(a[k].data[c+8],a)}return new uo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=Zv(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-Is}createEmbeddedView(s,a,c){let m,b;"number"==typeof c?m=c:null!=c&&(m=c.index,b=c.injector);const R=xu(this._lContainer,s.ssrId),U=s.createEmbeddedViewImpl(a||{},b,R);return this.insertImpl(U,m,Iu(this._hostTNode,R)),U}createComponent(s,a,c,m,b){const R=s&&!function Cn(n){return"function"==typeof n}(s);let U;if(R)U=a;else{const an=a||{};U=an.index,c=an.injector,m=an.projectableNodes,b=an.environmentInjector||an.ngModuleRef}const q=R?s:new $d(Bi(s)),Se=c||this.parentInjector;if(!b&&null==q.ngModule){const Sn=(R?Se:this.parentInjector).get(Rr,null);Sn&&(b=Sn)}const Ge=Bi(q.componentType??{}),ut=xu(this._lContainer,Ge?.id??null),Kt=q.create(Se,m,ut?.firstChild??null,b);return this.insertImpl(Kt.hostView,U,Iu(this._hostTNode,ut)),Kt}insert(s,a){return this.insertImpl(s,a,!0)}insertImpl(s,a,c){const m=s._lView;if(function bC(n){return os(n[Ae])}(m)){const U=this.indexOf(s);if(-1!==U)this.detach(U);else{const q=m[Ae],Se=new Qv(q,q[At],q[Ae]);Se.detach(Se.indexOf(s))}}const b=this._adjustIndex(a),R=this._lContainer;return Dd(R,m,b,c),s.attachToViewContainerRef(),Go(Om(R),b,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=Zv(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),c=Cd(this._lContainer,a);c&&(ra(Om(this._lContainer),a),af(c[k],c))}detach(s){const a=this._adjustIndex(s,-1),c=Cd(this._lContainer,a);return c&&null!=ra(Om(this._lContainer),a)?new Zl(c):null}_adjustIndex(s,a=0){return s??this.length+a}};function Zv(n){return n[8]}function Om(n){return n[8]||(n[8]=[])}function qv(n,s){let a;const c=s[n.index];return os(c)?a=c:(a=yf(c,s,null,n),s[n.index]=a,Xl(s,a)),ey(a,s,n,c),new Qv(a,n,s)}let ey=function ny(n,s,a,c){if(n[Xo])return;let m;m=8&a.type?Er(c):function vE(n,s){const a=n[Un],c=a.createComment(""),m=Jo(s,n);return Vc(a,lf(a,m),c,function uS(n,s){return n.nextSibling(s)}(a,m),!1),c}(s,a),n[Xo]=m},Fm=()=>!1;class Pm{constructor(s){this.queryList=s,this.matches=null}clone(){return new Pm(this.queryList)}setDirty(){this.queryList.setDirty()}}class iy{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const c=null!==s.contentQueries?s.contentQueries[0]:a.length,m=[];for(let b=0;b<c;b++){const R=a.getByIndex(b);m.push(this.queries[R.indexInDeclarationView].clone())}return new iy(m)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}finishViewCreation(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==Lm(s,a).matches&&this.queries[a].setDirty()}}class yE{constructor(s,a,c=null){this.flags=a,this.read=c,this.predicate="string"==typeof s?function SE(n){return n.split(",").map(s=>s.trim())}(s):s}}class ry{constructor(s=[]){this.queries=s}elementStart(s,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let c=0;c<this.length;c++){const m=null!==a?a.length:0,b=this.getByIndex(c).embeddedTView(s,m);b&&(b.indexInDeclarationView=c,null!==a?a.push(b):a=[b])}return null!==a?new ry(a):null}template(s,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class sy{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new sy(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1&~this.metadata.flags){const a=this._declarationNodeIndex;let c=s.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let m=0;m<c.length;m++){const b=c[m];this.matchTNodeWithReadOption(s,a,N2(a,b)),this.matchTNodeWithReadOption(s,a,Bh(a,s,b,!1,!1))}else c===Rd?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,Bh(a,s,c,!1,!1))}matchTNodeWithReadOption(s,a,c){if(null!==c){const m=this.metadata.read;if(null!==m)if(m===Vh||m===Mf||m===Rd&&4&a.type)this.addMatch(a.index,-2);else{const b=Bh(a,s,m,!1,!1);null!==b&&this.addMatch(a.index,b)}else this.addMatch(a.index,c)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function N2(n,s){const a=n.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===s)return a[c+1];return null}function bE(n,s,a,c){return-1===a?function _E(n,s){return 11&n.type?fd(n,s):4&n.type?xd(n,s):null}(s,n):-2===a?function O2(n,s,a){return a===Vh?fd(s,n):a===Rd?xd(s,n):a===Mf?qv(s,n):void 0}(n,s,c):kc(n,n[k],a,s)}function oy(n,s,a,c){const m=s[fs].queries[c];if(null===m.matches){const b=n.data,R=a.matches,U=[];for(let q=0;null!==R&&q<R.length;q+=2){const Se=R[q];U.push(Se<0?null:bE(s,b[Se],R[q+1],a.metadata.read))}m.matches=U}return m.matches}function Bm(n,s,a,c){const m=n.queries.getByIndex(a),b=m.matches;if(null!==b){const R=oy(n,s,m,a);for(let U=0;U<b.length;U+=2){const q=b[U];if(q>0)c.push(R[U/2]);else{const Se=b[U+1],Ge=s[-q];for(let ut=Is;ut<Ge.length;ut++){const jt=Ge[ut];jt[Ts]===jt[Ae]&&Bm(jt[k],jt,Se,c)}if(null!==Ge[tl]){const ut=Ge[tl];for(let jt=0;jt<ut.length;jt++){const Kt=ut[jt];Bm(Kt[k],Kt,Se,c)}}}}}return c}function CE(n,s,a){const c=new Ip(!(4&~a));return function _S(n,s,a,c){const m=gm(s);m.push(a),n.firstCreatePass&&Tu(n).push(c,m.length-1)}(n,s,c,c.destroy),(s[fs]??=new iy).queries.push(new Pm(c))-1}function cy(n,s,a){null===n.queries&&(n.queries=new ry),n.queries.track(new sy(s,a))}function Lm(n,s){return n.queries.getByIndex(s)}function EE(n,s){const a=n[k],c=Lm(a,s);return c.crossesNgTemplate?Bm(a,n,s,[]):oy(a,n,c,s)}function hy(n){return function uy(n){return"function"==typeof n&&void 0!==n[I]}(n)&&"function"==typeof n.set}function gy(n){let s=function NE(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),a=!0;const c=[n];for(;s;){let m;if(yo(n))m=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Fe(903,!1);m=s.\u0275dir}if(m){if(a){c.push(m);const R=n;R.inputs=Wm(n.inputs),R.inputTransforms=Wm(n.inputTransforms),R.declaredInputs=Wm(n.declaredInputs),R.outputs=Wm(n.outputs);const U=m.hostBindings;U&&yy(n,U);const q=m.viewQuery,Se=m.contentQueries;if(q&&OE(n,q),Se&&vy(n,Se),Y2(n,m),In(n.outputs,m.outputs),yo(m)&&m.data.animation){const Ge=n.data;Ge.animation=(Ge.animation||[]).concat(m.data.animation)}}const b=m.features;if(b)for(let R=0;R<b.length;R++){const U=b[R];U&&U.ngInherit&&U(n),U===gy&&(a=!1)}}s=Object.getPrototypeOf(s)}!function X2(n){let s=0,a=null;for(let c=n.length-1;c>=0;c--){const m=n[c];m.hostVars=s+=m.hostVars,m.hostAttrs=de(m.hostAttrs,a=de(a,m.hostAttrs))}}(c)}function Y2(n,s){for(const a in s.inputs){if(!s.inputs.hasOwnProperty(a)||n.inputs.hasOwnProperty(a))continue;const c=s.inputs[a];if(void 0!==c&&(n.inputs[a]=c,n.declaredInputs[a]=s.declaredInputs[a],null!==s.inputTransforms)){const m=Array.isArray(c)?c[0]:c;if(!s.inputTransforms.hasOwnProperty(m))continue;n.inputTransforms??={},n.inputTransforms[m]=s.inputTransforms[m]}}}function Wm(n){return n===ks?{}:n===ri?[]:n}function OE(n,s){const a=n.viewQuery;n.viewQuery=a?(c,m)=>{s(c,m),a(c,m)}:s}function vy(n,s){const a=n.contentQueries;n.contentQueries=a?(c,m,b)=>{s(c,m,b),a(c,m,b)}:s}function yy(n,s){const a=n.hostBindings;n.hostBindings=a?(c,m)=>{s(c,m),a(c,m)}:s}function by(n){const s=a=>{const c=(Array.isArray(n)?n:n()).map(m=>"function"==typeof m?{directive:Rt(m),inputs:ks,outputs:ks}:{directive:Rt(m.directive),inputs:Cy(m.inputs),outputs:Cy(m.outputs)});null===a.hostDirectives?(a.findHostDirectiveDefs=Hd,a.hostDirectives=c):a.hostDirectives.unshift(...c)};return s.ngInherit=!0,s}function Hd(n,s,a){if(null!==n.hostDirectives)for(const c of n.hostDirectives){const m=Ki(c.directive);Fu(m.declaredInputs,c.inputs),Hd(m,s,a),a.set(m,c),s.push(m)}}function Cy(n){if(void 0===n||0===n.length)return ks;const s={};for(let a=0;a<n.length;a+=2)s[n[a]]=n[a+1];return s}function Fu(n,s){for(const a in s)s.hasOwnProperty(a)&&(n[s[a]]=n[a])}function Sy(n){const s=n.inputConfig,a={};for(const c in s)if(s.hasOwnProperty(c)){const m=s[c];Array.isArray(m)&&m[3]&&(a[c]=m[3])}n.inputTransforms=a}class kl{}class Of{}function PE(n,s){return new zm(n,s??null,[])}class zm extends kl{constructor(s,a,c){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Af(this);const m=_r(s);this._bootstrapComponents=wa(m.bootstrap),this._r3Injector=e1(s,a,[{provide:kl,useValue:this},{provide:Ld,useValue:this.componentFactoryResolver},...c],An(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Km extends Of{constructor(s){super(),this.moduleType=s}create(s){return new zm(this.moduleType,s,[])}}class Ey extends kl{constructor(s){super(),this.componentFactoryResolver=new Af(this),this.instance=null;const a=new vo([...s.providers,{provide:kl,useValue:this},{provide:Ld,useValue:this.componentFactoryResolver}],s.parent||Ss(),s.debugName,new Set(["environment"]));this.injector=a,s.runEnvironmentInitializers&&a.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function Ym(n,s,a=null){return new Ey({providers:n,parent:s,debugName:a,runEnvironmentInitializers:!0}).injector}let bc=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new J.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const a=this.taskId++;return this.pendingTasks.add(a),a}remove(a){this.pendingTasks.delete(a),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(c){return new(c||n)}}static{this.\u0275prov=qn({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function $r(n){return!!Qm(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function Qm(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function cl(n,s,a){return n[s]=a}function Pu(n,s){return n[s]}function Bs(n,s,a){return!Object.is(n[s],a)&&(n[s]=a,!0)}function Nl(n,s,a,c){const m=Bs(n,s,a);return Bs(n,s+1,c)||m}function ja(n,s,a,c,m,b){const R=Nl(n,s,a,c);return Nl(n,s+2,m,b)||R}function Yc(n,s,a,c,m,b,R,U){const q=yn(),Se=gr(),Ge=n+xi,ut=Se.firstCreatePass?function Iy(n,s,a,c,m,b,R,U,q){const Se=s.consts,Ge=wu(s,n,4,R||null,Sl(Se,U));Ed(s,a,Ge,Sl(Se,q)),_a(s,Ge);const ut=Ge.tView=pc(2,Ge,c,m,b,s.directiveRegistry,s.pipeRegistry,null,s.schemas,Se,null);return null!==s.queries&&(s.queries.template(s,Ge),ut.queries=s.queries.embeddedTView(Ge)),Ge}(Ge,Se,q,s,a,c,m,b,R):Se.data[Ge];il(ut,!1);const jt=Zm(Se,q,ut,n);ca()&&cf(Se,q,jt,ut),Do(jt,q);const Kt=yf(jt,q,jt,ut);return q[Ge]=Kt,Xl(q,Kt),function ty(n,s,a){return Fm(n,s,a)}(Kt,ut,q),va(ut)&&ff(Se,q,ut),null!=R&&pf(q,ut,U),Yc}let Zm=function qm(n,s,a,c){return Vr(!0),s[Un].createComment("")};function rh(n,s,a,c){const m=yn();return Bs(m,To(),s)&&(gr(),Hs(Yr(),m,n,s,a,c)),rh}function oh(n,s,a,c){return Bs(n,To(),a)?s+$n(a)+c:zi}function qc(n,s,a,c,m,b){const U=Nl(n,function Ba(){return Ui.lFrame.bindingIndex}(),a,m);return La(2),U?s+$n(a)+c+$n(m)+b:zi}function eu(n,s){return n<<17|s<<2}function wc(n){return n>>17&32767}function Hu(n){return 2|n}function tu(n){return(131068&n)>>2}function ec(n,s){return-131069&n|s<<2}function vg(n){return 1|n}function Ly(n,s,a,c){const m=n[a+1],b=null===s;let R=c?wc(m):tu(m),U=!1;for(;0!==R&&(!1===U||b);){const Se=n[R+1];yg(n[R],s)&&(U=!0,n[R+1]=c?vg(Se):Hu(Se)),R=c?wc(Se):tu(Se)}U&&(n[a+1]=c?Hu(m):vg(m))}function yg(n,s){return null===n||null==s||(Array.isArray(n)?n[1]:n)===s||!(!Array.isArray(n)||"string"!=typeof s)&&us(n,s)>=0}const ho={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Uy(n){return n.substring(ho.key,ho.keyEnd)}function jy(n,s){const a=ho.textEnd;return a===s?-1:(s=ho.keyEnd=function bg(n,s,a){for(;s<a&&n.charCodeAt(s)>32;)s++;return s}(n,ho.key=s,a),Wu(n,s,a))}function Wu(n,s,a){for(;s<a&&n.charCodeAt(s)<=32;)s++;return s}function Cg(n,s,a){const c=yn();return Bs(c,To(),s)&&qo(gr(),Yr(),c,n,s,c[Un],a,!1),Cg}function dh(n,s,a,c,m){const R=m?"class":"style";_f(n,a,s.inputs[R],R,c)}function Wy(n,s,a){return Ga(n,s,a,!1),Wy}function zy(n,s){return Ga(n,s,null,!0),zy}function wg(n){Ha(_A,hl,n,!0)}function hl(n,s){for(let a=function Vy(n){return function _g(n){ho.key=0,ho.keyEnd=0,ho.value=0,ho.valueEnd=0,ho.textEnd=n.length}(n),jy(n,Wu(n,0,ho.textEnd))}(s);a>=0;a=jy(s,a))sr(n,Uy(s),!0)}function Ga(n,s,a,c){const m=yn(),b=gr(),R=La(2);b.firstUpdatePass&&Eg(b,n,R,c),s!==zi&&Bs(m,R,s)&&gT(b,b.data[co()],m,m[Un],n,m[R+1]=function CA(n,s){return null==n||""===n||("string"==typeof s?n+=s:"object"==typeof n&&(n=An(Dl(n)))),n}(s,a),c,R)}function Ha(n,s,a,c){const m=gr(),b=La(2);m.firstUpdatePass&&Eg(m,null,b,c);const R=yn();if(a!==zi&&Bs(R,b,a)){const U=m.data[co()];if(vT(U,c)&&!Sg(m,b)){let q=c?U.classesWithoutHost:U.stylesWithoutHost;null!==q&&(a=Fn(q,a||"")),dh(m,U,R,a,c)}else!function bA(n,s,a,c,m,b,R,U){m===zi&&(m=ri);let q=0,Se=0,Ge=0<m.length?m[0]:null,ut=0<b.length?b[0]:null;for(;null!==Ge||null!==ut;){const jt=q<m.length?m[q+1]:void 0,Kt=Se<b.length?b[Se+1]:void 0;let Sn,an=null;Ge===ut?(q+=2,Se+=2,jt!==Kt&&(an=ut,Sn=Kt)):null===ut||null!==Ge&&Ge<ut?(q+=2,an=Ge):(Se+=2,an=ut,Sn=Kt),null!==an&&gT(n,s,a,c,an,Sn,R,U),Ge=q<m.length?m[q]:null,ut=Se<b.length?b[Se]:null}}(m,U,R,R[Un],R[b+1],R[b+1]=function yA(n,s,a){if(null==a||""===a)return ri;const c=[],m=Dl(a);if(Array.isArray(m))for(let b=0;b<m.length;b++)n(c,m[b],!0);else if("object"==typeof m)for(const b in m)m.hasOwnProperty(b)&&n(c,b,m[b]);else"string"==typeof m&&s(c,m);return c}(n,s,a),c,b)}}function Sg(n,s){return s>=n.expandoStartIndex}function Eg(n,s,a,c){const m=n.data;if(null===m[a+1]){const b=m[co()],R=Sg(n,a);vT(b,c)&&null===s&&!R&&(s=!1),s=function Ky(n,s,a,c){const m=pp(n);let b=c?s.residualClasses:s.residualStyles;if(null===m)0===(c?s.classBindings:s.styleBindings)&&(a=hh(a=Tg(null,n,s,a,c),s.attrs,c),b=null);else{const R=s.directiveStylingLast;if(-1===R||n[R]!==m)if(a=Tg(m,n,s,a,c),null===b){let q=function gA(n,s,a){const c=a?s.classBindings:s.styleBindings;if(0!==tu(c))return n[wc(c)]}(n,s,c);void 0!==q&&Array.isArray(q)&&(q=Tg(null,n,s,q[1],c),q=hh(q,s.attrs,c),function vA(n,s,a,c){n[wc(a?s.classBindings:s.styleBindings)]=c}(n,s,c,q))}else b=function Yy(n,s,a){let c;const m=s.directiveEnd;for(let b=1+s.directiveStylingLast;b<m;b++)c=hh(c,n[b].hostAttrs,a);return hh(c,s.attrs,a)}(n,s,c)}return void 0!==b&&(c?s.residualClasses=b:s.residualStyles=b),a}(m,b,s,c),function uT(n,s,a,c,m,b){let R=b?s.classBindings:s.styleBindings,U=wc(R),q=tu(R);n[c]=a;let Ge,Se=!1;if(Array.isArray(a)?(Ge=a[1],(null===Ge||us(a,Ge)>0)&&(Se=!0)):Ge=a,m)if(0!==q){const jt=wc(n[U+1]);n[c+1]=eu(jt,U),0!==jt&&(n[jt+1]=ec(n[jt+1],c)),n[U+1]=function hA(n,s){return 131071&n|s<<17}(n[U+1],c)}else n[c+1]=eu(U,0),0!==U&&(n[U+1]=ec(n[U+1],c)),U=c;else n[c+1]=eu(q,0),0===U?U=c:n[q+1]=ec(n[q+1],c),q=c;Se&&(n[c+1]=Hu(n[c+1])),Ly(n,Ge,c,!0),Ly(n,Ge,c,!1),function dT(n,s,a,c,m){const b=m?n.residualClasses:n.residualStyles;null!=b&&"string"==typeof s&&us(b,s)>=0&&(a[c+1]=vg(a[c+1]))}(s,Ge,n,c,b),R=eu(U,q),b?s.classBindings=R:s.styleBindings=R}(m,b,s,a,R,c)}}function Tg(n,s,a,c,m){let b=null;const R=a.directiveEnd;let U=a.directiveStylingLast;for(-1===U?U=a.directiveStart:U++;U<R&&(b=s[U],c=hh(c,b.hostAttrs,m),b!==n);)U++;return null!==n&&(a.directiveStylingLast=U),c}function hh(n,s,a){const c=a?1:2;let m=-1;if(null!==s)for(let b=0;b<s.length;b++){const R=s[b];"number"==typeof R?m=R:m===c&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),sr(n,R,!!a||s[++b]))}return void 0===n?null:n}function _A(n,s,a){const c=String(s);""!==c&&!c.includes(" ")&&sr(n,c,a)}function gT(n,s,a,c,m,b,R,U){if(!(3&s.type))return;const q=n.data,Se=q[U+1],Ge=function fA(n){return!(1&~n)}(Se)?Ig(q,s,a,m,tu(Se),R):void 0;Dg(Ge)||(Dg(b)||function gg(n){return!(2&~n)}(Se)&&(b=Ig(q,null,a,m,U,R)),function fS(n,s,a,c,m){if(s)m?n.addClass(a,c):n.removeClass(a,c);else{let b=-1===c.indexOf("-")?void 0:rf.DashCase;null==m?n.removeStyle(a,c,b):("string"==typeof m&&m.endsWith("!important")&&(m=m.slice(0,-10),b|=rf.Important),n.setStyle(a,c,m,b))}}(c,R,rd(co(),a),m,b))}function Ig(n,s,a,c,m,b){const R=null===s;let U;for(;m>0;){const q=n[m],Se=Array.isArray(q),Ge=Se?q[1]:q,ut=null===Ge;let jt=a[m+1];jt===zi&&(jt=ut?ri:void 0);let Kt=ut?Br(jt,c):Ge===c?jt:void 0;if(Se&&!Dg(Kt)&&(Kt=Br(q,c)),Dg(Kt)&&(U=Kt,R))return U;const an=n[m+1];m=R?wc(an):tu(an)}if(null!==s){let q=b?s.residualClasses:s.residualStyles;null!=q&&(U=Br(q,c))}return U}function Dg(n){return void 0!==n}function vT(n,s){return!!(n.flags&(s?8:16))}function Ag(n,s,a){Ha(sr,hl,oh(yn(),n,s,a),!0)}function yT(n,s,a,c,m){Ha(sr,hl,qc(yn(),n,s,a,c,m),!0)}class DA{destroy(s){}updateValue(s,a){}swap(s,a){const c=Math.min(s,a),m=Math.max(s,a),b=this.detach(m);if(m-c>1){const R=this.detach(c);this.attach(c,b),this.attach(m,R)}else this.attach(c,b)}move(s,a){this.attach(a,this.detach(s))}}function Jy(n,s,a,c,m){return n===a&&Object.is(s,c)?1:Object.is(m(n,s),m(a,c))?-1:0}function Qy(n,s,a,c){return!(void 0===s||!s.has(c)||(n.attach(a,s.get(c)),s.delete(c),0))}function Rg(n,s,a,c,m){if(Qy(n,s,c,a(c,m)))n.updateValue(c,m);else{const b=n.create(c,m);n.attach(c,b)}}function CT(n,s,a,c){const m=new Set;for(let b=s;b<=a;b++)m.add(c(b,n.at(b)));return m}class wT{constructor(){this.kvMap=new Map,this._vMap=void 0}has(s){return this.kvMap.has(s)}delete(s){if(!this.has(s))return!1;const a=this.kvMap.get(s);return void 0!==this._vMap&&this._vMap.has(a)?(this.kvMap.set(s,this._vMap.get(a)),this._vMap.delete(a)):this.kvMap.delete(s),!0}get(s){return this.kvMap.get(s)}set(s,a){if(this.kvMap.has(s)){let c=this.kvMap.get(s);void 0===this._vMap&&(this._vMap=new Map);const m=this._vMap;for(;m.has(c);)c=m.get(c);m.set(c,a)}else this.kvMap.set(s,a)}forEach(s){for(let[a,c]of this.kvMap)if(s(c,a),void 0!==this._vMap){const m=this._vMap;for(;m.has(c);)c=m.get(c),s(c,a)}}}function ST(n,s,a){xl("NgControlFlow");const c=yn(),m=To(),b=Zy(c,xi+n);if(Bs(c,m,s)){const U=D(null);try{if(ym(b,0),-1!==s){const q=qy(c[k],xi+s),Se=xu(b,q.tView.ssrId);Dd(b,Id(c,q,a,{dehydratedView:Se}),0,Iu(q,Se))}}finally{D(U)}}else{const U=wv(b,0);void 0!==U&&(U[nn]=a)}}class RA{constructor(s,a,c){this.lContainer=s,this.$implicit=a,this.$index=c}get $count(){return this.lContainer.length-Is}}function TT(n,s){return s}class MA{constructor(s,a,c){this.hasEmptyBlock=s,this.trackByFn=a,this.liveCollection=c}}function IT(n,s,a,c,m,b,R,U,q,Se,Ge,ut,jt){xl("NgControlFlow");const Kt=void 0!==q,an=yn(),Sn=U?R.bind(an[Mr][nn]):R,Nn=new MA(Kt,Sn);an[xi+n]=Nn,Yc(n+1,s,a,c,m,b),Kt&&Yc(n+2,q,Se,Ge,ut,jt)}class xA extends DA{constructor(s,a,c){super(),this.lContainer=s,this.hostLView=a,this.templateTNode=c,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Is}at(s){return this.getLView(s)[nn].$implicit}attach(s,a){const c=a[Lt];this.needsIndexUpdate||=s!==this.length,Dd(this.lContainer,a,s,Iu(this.templateTNode,c))}detach(s){return this.needsIndexUpdate||=s!==this.length-1,function kA(n,s){return Cd(n,s)}(this.lContainer,s)}create(s,a){const c=xu(this.lContainer,this.templateTNode.tView.ssrId);return Id(this.hostLView,this.templateTNode,new RA(this.lContainer,a,s),{dehydratedView:c})}destroy(s){af(s[k],s)}updateValue(s,a){this.getLView(s)[nn].$implicit=a}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let s=0;s<this.length;s++)this.getLView(s)[nn].$index=s}getLView(s){return function NA(n,s){return wv(n,s)}(this.lContainer,s)}}function Mg(n){const s=D(null),a=co();try{const c=yn(),m=c[k],b=c[a];if(void 0===b.liveCollection){const U=a+1,q=Zy(c,U),Se=qy(m,U);b.liveCollection=new xA(q,c,Se)}else b.liveCollection.reset();const R=b.liveCollection;if(function AA(n,s,a){let c,m,b=0,R=n.length-1;if(Array.isArray(s)){let U=s.length-1;for(;b<=R&&b<=U;){const q=n.at(b),Se=s[b],Ge=Jy(b,q,b,Se,a);if(0!==Ge){Ge<0&&n.updateValue(b,Se),b++;continue}const ut=n.at(R),jt=s[U],Kt=Jy(R,ut,U,jt,a);if(0!==Kt){Kt<0&&n.updateValue(R,jt),R--,U--;continue}const an=a(b,q),Sn=a(R,ut),Nn=a(b,Se);if(Object.is(Nn,Sn)){const Wn=a(U,jt);Object.is(Wn,an)?(n.swap(b,R),n.updateValue(R,jt),U--,R--):n.move(R,b),n.updateValue(b,Se),b++}else if(c??=new wT,m??=CT(n,b,R,a),Qy(n,c,b,Nn))n.updateValue(b,Se),b++,R++;else if(m.has(Nn))c.set(an,n.detach(b)),R--;else{const Wn=n.create(b,s[b]);n.attach(b,Wn),b++,R++}}for(;b<=U;)Rg(n,c,a,b,s[b]),b++}else if(null!=s){const U=s[Symbol.iterator]();let q=U.next();for(;!q.done&&b<=R;){const Se=n.at(b),Ge=q.value,ut=Jy(b,Se,b,Ge,a);if(0!==ut)ut<0&&n.updateValue(b,Ge),b++,q=U.next();else{c??=new wT,m??=CT(n,b,R,a);const jt=a(b,Ge);if(Qy(n,c,b,jt))n.updateValue(b,Ge),b++,R++,q=U.next();else if(m.has(jt)){const Kt=a(b,Se);c.set(Kt,n.detach(b)),R--}else n.attach(b,n.create(b,Ge)),b++,R++,q=U.next()}}for(;!q.done;)Rg(n,c,a,n.length,q.value),q=U.next()}for(;b<=R;)n.destroy(n.detach(R--));c?.forEach(U=>{n.destroy(U)})}(R,n,b.trackByFn),R.updateIndexes(),b.hasEmptyBlock){const U=To(),q=0===R.length;if(Bs(c,U,q)){const Se=a+2,Ge=Zy(c,Se);if(q){const ut=qy(m,Se),jt=xu(Ge,ut.tView.ssrId);Dd(Ge,Id(c,ut,void 0,{dehydratedView:jt}),0,Iu(ut,jt))}else ym(Ge,0)}}}finally{D(s)}}function Zy(n,s){return n[s]}function qy(n,s){return sd(n,s)}function fh(n,s,a,c){const m=yn(),b=gr(),R=xi+n,U=m[Un],q=b.firstCreatePass?function OA(n,s,a,c,m,b){const R=s.consts,q=wu(s,n,2,c,Sl(R,m));return Ed(s,a,q,Sl(R,b)),null!==q.attrs&&Df(q,q.attrs,!1),null!==q.mergedAttrs&&Df(q,q.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,q),q}(R,b,m,s,a,c):b.data[R],Se=DT(b,m,q,U,s,n);m[R]=Se;const Ge=va(q);return il(q,!0),hv(U,Se,q),!function zd(n){return!(32&~n.flags)}(q)&&ca()&&cf(b,m,Se,q),0===function wC(){return Ui.lFrame.elementDepthCount}()&&Do(Se,m),function SC(){Ui.lFrame.elementDepthCount++}(),Ge&&(ff(b,m,q),dm(b,q,m)),null!==c&&pf(m,q),fh}function xg(){let n=Ur();hp()?cu():(n=n.parent,il(n,!1));const s=n;(function kD(n){return Ui.skipHydrationRootTNode===n})(s)&&function ad(){Ui.skipHydrationRootTNode=null}(),function od(){Ui.lFrame.elementDepthCount--}();const a=gr();return a.firstCreatePass&&(_a(a,n),vl(n)&&a.queries.elementEnd(n)),null!=s.classesWithoutHost&&function kC(n){return!!(8&n.flags)}(s)&&dh(a,s,yn(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function NC(n){return!!(16&n.flags)}(s)&&dh(a,s,yn(),s.stylesWithoutHost,!1),xg}function e_(n,s,a,c){return fh(n,s,a,c),xg(),e_}let DT=(n,s,a,c,m,b)=>(Vr(!0),sf(c,m,function AC(){return Ui.lFrame.currentNamespace}()));function kg(n,s,a){const c=yn(),m=gr(),b=n+xi,R=m.firstCreatePass?function PA(n,s,a,c,m){const b=s.consts,R=Sl(b,c),U=wu(s,n,8,"ng-container",R);return null!==R&&Df(U,R,!0),Ed(s,a,U,Sl(b,m)),null!==s.queries&&s.queries.elementStart(s,U),U}(b,m,c,s,a):m.data[b];il(R,!0);const U=AT(m,c,R,n);return c[b]=U,ca()&&cf(m,c,U,R),Do(U,c),va(R)&&(ff(m,c,R),dm(m,R,c)),null!=a&&pf(c,R),kg}function Ng(){let n=Ur();const s=gr();return hp()?cu():(n=n.parent,il(n,!1)),s.firstCreatePass&&(_a(s,n),vl(n)&&s.queries.elementEnd(n)),Ng}function n_(n,s,a){return kg(n,s,a),Ng(),n_}let AT=(n,s,a,c)=>(Vr(!0),im(s[Un],""));function RT(){return yn()}function $f(n,s,a){const c=yn();return Bs(c,To(),s)&&qo(gr(),Yr(),c,n,s,c[Un],a,!0),$f}function i_(n,s,a){const c=yn();if(Bs(c,To(),s)){const b=gr(),R=Yr();qo(b,R,c,n,s,Cv(pp(b.data),R,c),a,!0)}return i_}const zu=void 0;var MT=["en",[["a","p"],["AM","PM"],zu],[["AM","PM"],zu,zu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],zu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],zu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",zu,"{1} 'at' {0}",zu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function UA(n){const a=Math.floor(Math.abs(n)),c=n.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let ph={};function r_(n){const s=function kT(n){return n.toLowerCase().replace(/_/g,"-")}(n);let a=s_(s);if(a)return a;const c=s.split("-")[0];if(a=s_(c),a)return a;if("en"===c)return MT;throw new Fe(701,!1)}function Og(n){return r_(n)[Ku.PluralCase]}function s_(n){return n in ph||(ph[n]=ft.ng&&ft.ng.common&&ft.ng.common.locales&&ft.ng.common.locales[n]),ph[n]}var Ku=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(Ku||{});const Sc="en-US",Ec={marker:"element"},mh={marker:"ICU"};var fa=function(n){return n[n.SHIFT=2]="SHIFT",n[n.APPEND_EAGERLY=1]="APPEND_EAGERLY",n[n.COMMENT=2]="COMMENT",n}(fa||{});let Fg=Sc;function c_(n,s,a){const c=s.insertBeforeIndex,m=Array.isArray(c)?c[0]:c;return null===m?sv(n,0,a):Er(a[m])}function Pg(n,s,a,c,m){const b=s.insertBeforeIndex;if(Array.isArray(b)){let R=c,U=null;if(3&s.type||(U=R,R=m),null!==R&&-1===s.componentOffset)for(let q=1;q<b.length;q++)Vc(n,R,a[b[q]],U,!1)}}function u_(n,s){if(n.push(s),n.length>1)for(let a=n.length-2;a>=0;a--){const c=n[a];Bg(c)||Gr(c,s)&&null===nu(c)&&As(c,s.index)}}function Bg(n){return!(64&n.type)}function Gr(n,s){return Bg(s)||n.index>s.index}function nu(n){const s=n.insertBeforeIndex;return Array.isArray(s)?s[0]:s}function As(n,s){const a=n.insertBeforeIndex;Array.isArray(a)?a[0]=s:(av(c_,Pg),n.insertBeforeIndex=s)}function jA(n,s,a){const c=cm(n,a,64,null,null);return u_(s,c),c}let vs=(n,s,a,c)=>(Vr(!0),function pl(n,s,a){const c=n[Un];switch(a){case Node.COMMENT_NODE:return im(c,s);case Node.TEXT_NODE:return nm(c,s);case Node.ELEMENT_NODE:return sf(c,s,null)}}(n,a,c));function BT(){const n=[];let a,c,s=-1;function b(U,q){s=0;const Se=function Yu(n,s){const a=s[n.currentCaseLViewIndex];return null===a?a:a<0?~a:a}(U,q);c=null!==Se?U.remove[Se]:ri}function R(){if(s<c.length){const U=c[s++];return U>0?a[U]:(n.push(s,c),b(a[k].data[~U],a),R())}return 0===n.length?null:(c=n.pop(),s=n.pop(),R())}return function m(U,q){for(a=q;n.length;)n.pop();return b(U.value,q),R}}const Hf=/\ufffd(\d+):?\d*\ufffd/gi,UT=/\ufffd(\d+)\ufffd/,g_=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Ju="\ufffd",VT=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,jT=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,$T=/\uE500/g;function v_(n,s,a,c,m,b,R){const U=Su(n,c,1,null);let q=U<<fa.SHIFT,Se=la();s===Se&&(Se=null),null===Se&&(q|=fa.APPEND_EAGERLY),R&&(q|=fa.COMMENT,function Q1(n){void 0===em&&(em=n())}(BT)),m.push(q,null===b?"":b);const Ge=cm(n,U,R?32:1,null===b?"":b,null);u_(a,Ge);const ut=Ge.index;return il(Ge,!1),null!==Se&&s!==Se&&function VA(n,s){let a=n.insertBeforeIndex;null===a?(av(c_,Pg),a=n.insertBeforeIndex=[null,s]):(Ln(Array.isArray(a),!0,"Expecting array here"),a.push(s))}(Se,ut),Ge}function WT(n,s,a,c,m,b,R,U){const q=U.match(Hf),Ge=v_(s,a,c,R,m,q?null:U,!1).index;q&&gh(b,U,Ge,null,0,null),n.push({kind:0,index:Ge})}function gh(n,s,a,c,m,b){const R=n.length,U=R+1;n.push(null,null);const q=R+2,Se=s.split(Hf);let Ge=0;for(let ut=0;ut<Se.length;ut++){const jt=Se[ut];if(1&ut){const Kt=m+parseInt(jt,10);n.push(-1-Kt),Ge|=Da(Kt)}else""!==jt&&n.push(jt)}return n.push(a<<2|(c?1:0)),c&&n.push(c,b),n[R]=Ge,n[U]=n.length-q,Ge}function Da(n){return 1<<Math.min(n,31)}function __(n){let s,b,a="",c=0,m=!1;for(;null!==(s=VT.exec(n));)m?s[0]===`${Ju}/*${b}${Ju}`&&(c=s.index,m=!1):(a+=n.substring(c,s.index+s[0].length),b=s[1],m=!0);return a+=n.slice(c),a}function b_(n,s,a,c,m,b,R){let U=0;const q={type:b.type,currentCaseLViewIndex:Su(s,a,1,null),anchorIdx:R,cases:[],create:[],remove:[],update:[]};(function QT(n,s,a){n.push(Da(s.mainBinding),2,-1-s.mainBinding,a<<2|2)})(c,b,R),function OT(n,s,a){const c=n.data[s];null===c?n.data[s]=a:c.value=a}(s,R,q);const Se=b.values,Ge=[];for(let ut=0;ut<Se.length;ut++){const jt=Se[ut],Kt=[];for(let Sn=0;Sn<jt.length;Sn++){const Nn=jt[Sn];if("string"!=typeof Nn){const Wn=Kt.push(Nn)-1;jt[Sn]=`\x3c!--\ufffd${Wn}\ufffd--\x3e`}}const an=[];Ge.push(an),U=XT(an,s,q,a,c,m,b.cases[ut],jt.join(""),Kt)|U}U&&function ZT(n,s,a){n.push(s,1,a<<2|3)}(c,U,R),n.push({kind:3,index:R,cases:Ge,currentCaseLViewIndex:q.currentCaseLViewIndex})}function YT(n){const s=[],a=[];let c=1,m=0;const b=Vg(n=n.replace(g_,function(R,U,q){return c="select"===q?0:1,m=parseInt(U.slice(1),10),""}));for(let R=0;R<b.length;){let U=b[R++].trim();1===c&&(U=U.replace(/\s*(?:=)?(\w+)\s*/,"$1")),U.length&&s.push(U);const q=Vg(b[R++]);s.length>a.length&&a.push(q)}return{type:c,mainBinding:m,cases:s,values:a}}function Vg(n){if(!n)return[];let s=0;const a=[],c=[],m=/[{}]/g;let b;for(m.lastIndex=0;b=m.exec(n);){const U=b.index;if("}"==b[0]){if(a.pop(),0==a.length){const q=n.substring(s,U);g_.test(q)?c.push(YT(q)):c.push(q),s=U+1}}else{if(0==a.length){const q=n.substring(s,U);c.push(q),s=U+1}a.push("{")}}const R=n.substring(s);return c.push(R),c}function XT(n,s,a,c,m,b,R,U,q){const Se=[],Ge=[],ut=[];a.cases.push(R),a.create.push(Se),a.remove.push(Ge),a.update.push(ut);const Kt=zp(Hl()).getInertBodyElement(U),an=Xp(Kt)||Kt;return an?C_(n,s,a,c,m,Se,Ge,ut,an,b,q,0):0}function C_(n,s,a,c,m,b,R,U,q,Se,Ge,ut){let jt=0,Kt=q.firstChild;for(;Kt;){const an=Su(s,c,1,null);switch(Kt.nodeType){case Node.ELEMENT_NODE:const Sn=Kt,Nn=Sn.tagName.toLowerCase();if(qh.hasOwnProperty(Nn)){jg(b,Ec,Nn,Se,an),s.data[an]=Nn;const kr=Sn.attributes;for(let ko=0;ko<kr.length;ko++){const Ya=kr.item(ko),sp=Ya.name.toLowerCase();Ya.value.match(Hf)?O1.hasOwnProperty(sp)&&gh(U,Ya.value,an,Ya.name,0,Yp[sp]?Zh:null):qT(b,an,Ya)}const ps={kind:1,index:an,children:[]};n.push(ps),jt=C_(ps.children,s,a,c,m,b,R,U,Kt,an,Ge,ut+1)|jt,w_(R,an,ut)}break;case Node.TEXT_NODE:const Wn=Kt.textContent||"",Dn=Wn.match(Hf);jg(b,null,Dn?"":Wn,Se,an),w_(R,an,ut),Dn&&(jt=gh(U,Wn,an,null,0,null)|jt),n.push({kind:0,index:an});break;case Node.COMMENT_NODE:const Li=UT.exec(Kt.textContent||"");if(Li){const ps=Ge[parseInt(Li[1],10)];jg(b,mh,"",Se,an),b_(n,s,c,m,Se,ps,an),JT(R,an,ut)}}Kt=Kt.nextSibling}return jt}function w_(n,s,a){0===a&&n.push(s)}function JT(n,s,a){0===a&&(n.push(~s),n.push(s))}function jg(n,s,a,c,m){null!==s&&n.push(s),n.push(a,m,function $A(n,s,a){return n|s<<17|a<<1}(0,c,m))}function qT(n,s,a){n.push(s<<1|1,a.name,a.value)}function E_(n,s,a=-1){const c=gr(),m=yn(),b=xi+n,R=Sl(c.consts,s),U=la();c.firstCreatePass&&function HT(n,s,a,c,m,b){const R=la(),U=[],q=[],Se=[[]],Ge=[[]];m=function Wf(n,s){if(function KT(n){return-1===n}(s))return __(n);{const a=n.indexOf(`:${s}${Ju}`)+2+s.toString().length,c=n.search(new RegExp(`${Ju}\\/\\*\\d+:${s}${Ju}`));return __(n.substring(a,c))}}(m,b);const ut=function GT(n){return n.replace($T," ")}(m).split(jT);for(let jt=0;jt<ut.length;jt++){let Kt=ut[jt];if(1&jt){const an=47===Kt.charCodeAt(0),Sn=Kt.charCodeAt(an?1:0),Nn=xi+Number.parseInt(Kt.substring(an?2:1));if(an)Se.shift(),Ge.shift(),il(la(),!1);else{const Wn=jA(n,Se[0],Nn);Se.unshift([]),il(Wn,!0);const Dn={kind:2,index:Nn,children:[],type:35===Sn?0:1};Ge[0].push(Dn),Ge.unshift(Dn.children)}}else{const an=Vg(Kt);for(let Sn=0;Sn<an.length;Sn++){let Nn=an[Sn];if(1&Sn){const Wn=Nn;if("object"!=typeof Wn)throw new Error(`Unable to parse ICU expression in "${m}" message.`);const Li=v_(n,R,Se[0],a,U,"",!0).index;b_(Ge[0],n,a,q,s,Wn,Li)}else""!==Nn&&WT(Ge[0],n,R,Se[0],U,q,a,Nn)}}}n.data[c]={create:U,update:q,ast:Ge[0]}}(c,null===U?0:U.index,m,b,R,a),2===c.type?m[Mr][ue]|=32:m[ue]|=32;const q=c.data[b],Ge=tv(c,U===m[At]?null:U,m);(function Wa(n,s,a,c){const m=n[Un];for(let b=0;b<s.length;b++){const R=s[b++],Se=(R&fa.APPEND_EAGERLY)===fa.APPEND_EAGERLY,Ge=R>>>fa.SHIFT;let ut=n[Ge],jt=!1;null===ut&&(ut=n[Ge]=vs(n,Ge,s[b],(R&fa.COMMENT)===fa.COMMENT?Node.COMMENT_NODE:Node.TEXT_NODE),jt=ca()),Se&&null!==a&&jt&&Vc(m,a,ut,c,!1)}})(m,q.create,Ge,U&&8&U.type?m[U.index]:null),fp(!0)}function I_(n,s,a){E_(n,s,a),function T_(){fp(!1)}()}function $g(n,s,a,c){const m=yn(),b=gr(),R=Ur();return Gg(b,m,m[Un],R,n,s,c),$g}function Gg(n,s,a,c,m,b,R){const U=va(c),Se=n.firstCreatePass&&Tu(n),Ge=s[nn],ut=gm(s);let jt=!0;if(3&c.type||R){const Sn=Jo(c,s),Nn=R?R(Sn):Sn,Wn=ut.length,Dn=R?kr=>R(Er(kr[c.index])):c.index;let Li=null;if(!R&&U&&(Li=function dI(n,s,a,c){const m=n.cleanup;if(null!=m)for(let b=0;b<m.length-1;b+=2){const R=m[b];if(R===a&&m[b+1]===c){const U=s[qt],q=m[b+2];return U.length>q?U[q]:null}"string"==typeof R&&(b+=2)}return null}(n,s,m,c.index)),null!==Li)(Li.__ngLastListenerFn__||Li).__ngNextListenerFn__=b,Li.__ngLastListenerFn__=b,jt=!1;else{b=M_(c,s,Ge,b,!1);const kr=a.listen(Nn,m,b);ut.push(b,kr),Se&&Se.push(m,Dn,Wn,Wn+1)}}else b=M_(c,s,Ge,b,!1);const Kt=c.outputs;let an;if(jt&&null!==Kt&&(an=Kt[m])){const Sn=an.length;if(Sn)for(let Nn=0;Nn<Sn;Nn+=2){const ps=s[an[Nn]][an[Nn+1]].subscribe(b),ko=ut.length;ut.push(b,ps),Se&&Se.push(m,c.index,ko,-(ko+1))}}}function R_(n,s,a,c){const m=D(null);try{return aa(6,s,a),!1!==a(c)}catch(b){return Td(n,b),!1}finally{aa(7,s,a),D(m)}}function M_(n,s,a,c,m){return function b(R){if(R===Function)return c;Ru(n.componentOffset>-1?ya(n.index,s):s);let q=R_(s,a,c,R),Se=b.__ngNextListenerFn__;for(;Se;)q=R_(s,a,Se,R)&&q,Se=Se.__ngNextListenerFn__;return m&&!1===q&&R.preventDefault(),q}}function x_(n=1){return function O0(n){return(Ui.lFrame.contextLView=function M0(n,s){for(;n>0;)s=s[Kr],n--;return s}(n,Ui.lFrame.contextLView))[nn]}(n)}function hI(n,s){let a=null;const c=function bt(n){const s=n.attrs;if(null!=s){const a=s.indexOf(5);if(!(1&a))return s[a+1]}return null}(n);for(let m=0;m<s.length;m++){const b=s[m];if("*"!==b){if(null===c?Xe(n,b,!0):Ct(c,b))return m}else a=m}return a}function k_(n){const s=yn()[Mr][At];if(!s.projection){const c=s.projection=function so(n,s){const a=[];for(let c=0;c<n;c++)a.push(s);return a}(n?n.length:1,null),m=c.slice();let b=s.child;for(;null!==b;){const R=n?hI(b,n):0;null!==R&&(m[R]?m[R].projectionNext=b:c[R]=b,m[R]=b),b=b.next}}}function N_(n,s=0,a){const c=yn(),m=gr(),b=wu(m,xi+n,16,null,a||null);null===b.projection&&(b.projection=s),cu(),(!c[Lt]||Rc())&&32&~b.flags&&function dS(n,s,a){uv(s[Un],0,s,a,sm(n,a,s),rv(a.parent||s[At],a,s))}(m,c,b)}function Hg(n,s,a){return zf(n,"",s,"",a),Hg}function zf(n,s,a,c,m){const b=yn(),R=oh(b,s,a,c);return R!==zi&&qo(gr(),Yr(),b,n,R,b[Un],m,!1),zf}function Wg(n,s,a,c,m,b,R){const U=yn(),q=qc(U,s,a,c,m,b);return q!==zi&&qo(gr(),Yr(),U,n,q,U[Un],R,!1),Wg}function j_(n,s,a,c){!function wE(n,s,a,c){const m=gr();if(m.firstCreatePass){const b=Ur();cy(m,new yE(s,a,c),b.index),function F2(n,s){const a=n.contentQueries||(n.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(n.queries.length-1,s)}(m,n),!(2&~a)&&(m.staticContentQueries=!0)}return CE(m,yn(),a)}(n,s,a,c)}function $_(n,s,a){!function ly(n,s,a){const c=gr();return c.firstCreatePass&&(cy(c,new yE(n,s,a),-1),!(2&~s)&&(c.staticViewQueries=!0)),CE(c,yn(),s)}(n,s,a)}function G_(n){const s=yn(),a=gr(),c=xc();Ll(c+1);const m=Lm(a,c);if(n.dirty&&function _C(n){return!(4&~n[ue])}(s)===!(2&~m.metadata.flags)){if(null===m.matches)n.reset([]);else{const b=EE(s,c);n.reset(b,JC),n.notifyOnChanges()}return!0}return!1}function H_(){return function ay(n,s){return n[fs].queries[s].queryList}(yn(),xc())}function K_(n){return ou(function IC(){return Ui.lFrame.contextLView}(),xi+n)}function ib(n,s=""){const a=yn(),c=gr(),m=n+xi,b=c.firstCreatePass?wu(c,m,1,s,null):c.data[m],R=rb(c,a,b,s,n);a[m]=R,ca()&&cf(c,a,R,b),il(b,!1)}let rb=(n,s,a,c,m)=>(Vr(!0),nm(s[Un],c));function zg(n){return Kf("",n,""),zg}function Kf(n,s,a){const c=yn(),m=oh(c,n,s,a);return m!==zi&&Jl(c,co(),m),Kf}function Kg(n,s,a,c,m){const b=yn(),R=qc(b,n,s,a,c,m);return R!==zi&&Jl(b,co(),R),Kg}function Xg(n,s,a){hy(s)&&(s=s());const c=yn();return Bs(c,To(),s)&&qo(gr(),Yr(),c,n,s,c[Un],a,!1),Xg}function vh(n,s){const a=hy(n);return a&&n.set(s),a}function Jg(n,s){const a=yn(),c=gr(),m=Ur();return Gg(c,a,a[Un],m,n,s),Jg}function Qg(n,s,a,c,m){if(n=Rt(n),Array.isArray(n))for(let b=0;b<n.length;b++)Qg(n[b],s,a,c,m);else{const b=gr(),R=yn(),U=Ur();let q=zo(n)?n:Rt(n.provide);const Se=So(n),Ge=1048575&U.providerIndexes,ut=U.directiveStart,jt=U.providerIndexes>>20;if(zo(n)||!n.multi){const Kt=new dd(Se,m,Cu),an=qg(q,s,m?Ge:Ge+jt,ut);-1===an?(wp(Fh(U,R),b,q),Zg(b,n,s.length),s.push(q),U.directiveStart++,U.directiveEnd++,m&&(U.providerIndexes+=1048576),a.push(Kt),R.push(Kt)):(a[an]=Kt,R[an]=Kt)}else{const Kt=qg(q,s,Ge+jt,ut),an=qg(q,s,Ge,Ge+jt),Nn=an>=0&&a[an];if(m&&!Nn||!m&&!(Kt>=0&&a[Kt])){wp(Fh(U,R),b,q);const Wn=function AI(n,s,a,c,m){const b=new dd(n,a,Cu);return b.multi=[],b.index=s,b.componentProviders=0,db(b,m,c&&!a),b}(m?DI:II,a.length,m,c,Se);!m&&Nn&&(a[an].providerFactory=Wn),Zg(b,n,s.length,0),s.push(q),U.directiveStart++,U.directiveEnd++,m&&(U.providerIndexes+=1048576),a.push(Wn),R.push(Wn)}else Zg(b,n,Kt>-1?Kt:an,db(a[m?an:Kt],Se,!m&&c));!m&&c&&Nn&&a[an].componentProviders++}}}function Zg(n,s,a,c){const m=zo(s),b=function Bo(n){return!!n.useClass}(s);if(m||b){const q=(b?Rt(s.useClass):s).prototype.ngOnDestroy;if(q){const Se=n.destroyHooks||(n.destroyHooks=[]);if(!m&&s.multi){const Ge=Se.indexOf(a);-1===Ge?Se.push(a,[c,q]):Se[Ge+1].push(c,q)}else Se.push(a,q)}}}function db(n,s,a){return a&&n.componentProviders++,n.multi.push(s)-1}function qg(n,s,a,c){for(let m=a;m<c;m++)if(s[m]===n)return m;return-1}function II(n,s,a,c){return e0(this.multi,[])}function DI(n,s,a,c){const m=this.multi;let b;if(this.providerFactory){const R=this.providerFactory.componentProviders,U=kc(a,a[k],this.providerFactory.index,c);b=U.slice(0,R),e0(m,b);for(let q=R;q<U.length;q++)b.push(U[q])}else b=[],e0(m,b);return b}function e0(n,s){for(let a=0;a<n.length;a++)s.push((0,n[a])());return s}function hb(n,s=[]){return a=>{a.providersResolver=(c,m)=>function TI(n,s,a){const c=gr();if(c.firstCreatePass){const m=yo(n);Qg(a,c.data,c.blueprint,m,!0),Qg(s,c.data,c.blueprint,m,!1)}}(c,m?m(n):n,s)}}let RI=(()=>{class n{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a)){const c=$s(0,a.type),m=c.length>0?Ym([c],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a,m)}return this.cachedInjectors.get(a)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=qn({token:n,providedIn:"environment",factory:()=>new n(er(Rr))})}}return n})();function fb(n){xl("NgStandalone"),n.getStandaloneInjector=s=>s.get(RI).getOrCreateStandaloneInjector(n)}function ea(n,s,a){const c=_o()+n,m=yn();return m[c]===zi?cl(m,c,a?s.call(a):s()):Pu(m,c)}function za(n,s,a,c){return wb(yn(),_o(),n,s,a,c)}function mb(n,s,a,c,m){return Sb(yn(),_o(),n,s,a,c,m)}function gb(n,s,a,c,m,b){return Eb(yn(),_o(),n,s,a,c,m,b)}function vb(n,s,a,c,m,b,R){return function Tb(n,s,a,c,m,b,R,U,q){const Se=s+a;return ja(n,Se,m,b,R,U)?cl(n,Se+4,q?c.call(q,m,b,R,U):c(m,b,R,U)):yh(n,Se+4)}(yn(),_o(),n,s,a,c,m,b,R)}function yb(n,s,a,c,m,b,R,U){const q=_o()+n,Se=yn(),Ge=ja(Se,q,a,c,m,b);return Bs(Se,q+4,R)||Ge?cl(Se,q+5,U?s.call(U,a,c,m,b,R):s(a,c,m,b,R)):Pu(Se,q+5)}function _b(n,s,a,c,m,b,R,U,q){const Se=_o()+n,Ge=yn(),ut=ja(Ge,Se,a,c,m,b);return Nl(Ge,Se+4,R,U)||ut?cl(Ge,Se+6,q?s.call(q,a,c,m,b,R,U):s(a,c,m,b,R,U)):Pu(Ge,Se+6)}function yh(n,s){const a=n[s];return a===zi?void 0:a}function wb(n,s,a,c,m,b){const R=s+a;return Bs(n,R,m)?cl(n,R+1,b?c.call(b,m):c(m)):yh(n,R+1)}function Sb(n,s,a,c,m,b,R){const U=s+a;return Nl(n,U,m,b)?cl(n,U+2,R?c.call(R,m,b):c(m,b)):yh(n,U+2)}function Eb(n,s,a,c,m,b,R,U){const q=s+a;return function Wd(n,s,a,c,m){const b=Nl(n,s,a,c);return Bs(n,s+2,m)||b}(n,q,m,b,R)?cl(n,q+3,U?c.call(U,m,b,R):c(m,b,R)):yh(n,q+3)}function Db(n,s){const a=gr();let c;const m=n+xi;a.firstCreatePass?(c=function NI(n,s){if(s)for(let a=s.length-1;a>=0;a--){const c=s[a];if(n===c.name)return c}}(s,a.pipeRegistry),a.data[m]=c,c.onDestroy&&(a.destroyHooks??=[]).push(m,c.onDestroy)):c=a.data[m];const b=c.factory||(c.factory=is(c.type)),U=Tr(Cu);try{const q=Oh(!1),Se=b();return Oh(q),function fI(n,s,a,c){a>=n.data.length&&(n.data[a]=null,n.blueprint[a]=null),s[a]=c}(a,yn(),m,Se),Se}finally{Tr(U)}}function Ab(n,s,a){const c=n+xi,m=yn(),b=ou(m,c);return _h(m,c)?wb(m,_o(),s,b.transform,a,b):b.transform(a)}function Rb(n,s,a,c){const m=n+xi,b=yn(),R=ou(b,m);return _h(b,m)?Sb(b,_o(),s,R.transform,a,c,R):R.transform(a,c)}function n0(n,s,a,c,m){const b=n+xi,R=yn(),U=ou(R,b);return _h(R,b)?Eb(R,_o(),s,U.transform,a,c,m,U):U.transform(a,c,m)}function _h(n,s){return n[k].data[s].pure}function Mb(n,s){return xd(n,s)}class zb{constructor(s){this.full=s;const a=s.split(".");this.major=a[0],this.minor=a[1],this.patch=a.slice(2).join(".")}}let h0=(()=>{class n{log(a){console.log(a)}warn(a){console.warn(a)}static{this.\u0275fac=function(c){return new(c||n)}}static{this.\u0275prov=qn({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();const tC=new ot(""),nC=new ot("");let g0,yD=(()=>{class n{constructor(a,c,m){this._ngZone=a,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,g0||(function _D(n){g0=n}(m),m.addToWindow(c)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Xs.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb()}});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,m){let b=-1;c&&c>0&&(b=setTimeout(()=>{this._callbacks=this._callbacks.filter(R=>R.timeoutId!==b),a()},c)),this._callbacks.push({doneCb:a,timeoutId:b,updateCb:m})}whenStable(a,c,m){if(m&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,m),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,c,m){return[]}static{this.\u0275fac=function(c){return new(c||n)(er(Xs),er(iC),er(nC))}}static{this.\u0275prov=qn({token:n,factory:n.\u0275fac})}}return n})(),iC=(()=>{class n{constructor(){this._applications=new Map}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return g0?.findTestabilityInTree(this,a,c)??null}static{this.\u0275fac=function(c){return new(c||n)}}static{this.\u0275prov=qn({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();function v0(n){return!!n&&"function"==typeof n.then}function rC(n){return!!n&&"function"==typeof n.subscribe}const sC=new ot("");let y0=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,c)=>{this.resolve=a,this.reject=c}),this.appInits=Gn(sC,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const a=[];for(const m of this.appInits){const b=m();if(v0(b))a.push(b);else if(rC(b)){const R=new Promise((U,q)=>{b.subscribe({complete:U,error:q})});a.push(R)}}const c=()=>{this.done=!0,this.resolve()};Promise.all(a).then(()=>{c()}).catch(m=>{this.reject(m)}),0===a.length&&c(),this.initialized=!0}static{this.\u0275fac=function(c){return new(c||n)}}static{this.\u0275prov=qn({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const _0=new ot("");function lC(n,s){return Array.isArray(s)?s.reduce(lC,n):{...n,...s}}let Ic=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Gn(n1),this.afterRenderEffectManager=Gn(Ud),this.externalTestViews=new Set,this.beforeRender=new z.B,this.afterTick=new z.B,this.componentTypes=[],this.components=[],this.isStable=Gn(bc).hasPendingTasks.pipe((0,_e.T)(a=>!a)),this._injector=Gn(Rr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,c){const m=a instanceof KS;if(!this._injector.get(y0).done)throw!m&&js(a),new Fe(405,!1);let R;R=m?a:this._injector.get(Ld).resolveComponentFactory(a),this.componentTypes.push(R.componentType);const U=function bD(n){return n.isBoundToModule}(R)?void 0:this._injector.get(kl),Se=R.create(ba.NULL,[],c||R.selector,U),Ge=Se.location.nativeElement,ut=Se.injector.get(tC,null);return ut?.registerApplication(Ge),Se.onDestroy(()=>{this.detachView(Se.hostView),Zf(this.components,Se),ut?.unregisterApplication(Ge)}),this._loadComponent(Se),Se}tick(){this._tick(!0)}_tick(a){if(this._runningTick)throw new Fe(101,!1);const c=D(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(a)}catch(m){this.internalErrorHandler(m)}finally{this.afterTick.next(),this._runningTick=!1,D(c)}}detectChangesInAttachedViews(a){let c=0;const m=this.afterRenderEffectManager;for(;;){if(c===Gc)throw new Fe(103,!1);if(a){const b=0===c;this.beforeRender.next(b);for(let{_lView:R,notifyErrorHandler:U}of this._views)wD(R,b,U)}if(c++,m.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:b})=>b0(b))&&(m.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:b})=>b0(b))))break}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;Zf(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const c=this._injector.get(_0,[]);[...this._bootstrapListeners,...c].forEach(m=>m(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>Zf(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new Fe(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(c){return new(c||n)}}static{this.\u0275prov=qn({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Zf(n,s){const a=n.indexOf(s);a>-1&&n.splice(a,1)}function wD(n,s,a){!s&&!b0(n)||function SD(n,s,a){let c;a?(c=0,n[ue]|=1024):c=64&n[ue]?0:1,Du(n,s,c)}(n,a,s)}function b0(n){return cp(n)}class ED{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let TD=(()=>{class n{compileModuleSync(a){return new Km(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),b=wa(_r(a).declarations).reduce((R,U)=>{const q=Bi(U);return q&&R.push(new $d(q)),R},[]);return new ED(c,b)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}static{this.\u0275fac=function(c){return new(c||n)}}static{this.\u0275prov=qn({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),l=(()=>{class n{constructor(){this.zone=Gn(Xs),this.applicationRef=Gn(Ic)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(c){return new(c||n)}}static{this.\u0275prov=qn({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function me(){const n=Gn(Xs),s=Gn(jl);return a=>n.runOutsideAngular(()=>s.handleError(a))}let Ut=(()=>{class n{constructor(){this.subscription=new W.yU,this.initialized=!1,this.zone=Gn(Xs),this.pendingTasks=Gn(bc)}initialize(){if(this.initialized)return;this.initialized=!0;let a=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(a=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Xs.assertNotInAngularZone(),queueMicrotask(()=>{null!==a&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(a),a=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Xs.assertInAngularZone(),a??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(c){return new(c||n)}}static{this.\u0275prov=qn({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const vn=new ot("",{providedIn:"root",factory:()=>Gn(vn,vi.Optional|vi.SkipSelf)||function on(){return typeof $localize<"u"&&$localize.locale||Sc}()}),wn=new ot("",{providedIn:"root",factory:()=>"USD"}),_i=new ot("");let Ci=(()=>{class n{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const m=function nE(n="zone.js",s){return"noop"===n?new Hv:"zone.js"===n?new Xs(s):n}(c?.ngZone,function at(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:c?.ngZoneEventCoalescing,runCoalescing:c?.ngZoneRunCoalescing}));return m.run(()=>{const b=function BE(n,s,a){return new zm(n,s,a)}(a.moduleType,this.injector,function $(n){return[{provide:Xs,useFactory:n},{provide:Qr,multi:!0,useFactory:()=>{const s=Gn(l,{optional:!0});return()=>s.initialize()}},{provide:Qr,multi:!0,useFactory:()=>{const s=Gn(Ut);return()=>{s.initialize()}}},{provide:n1,useFactory:me}]}(()=>m)),R=b.injector.get(jl,null);return m.runOutsideAngular(()=>{const U=m.onError.subscribe({next:q=>{R.handleError(q)}});b.onDestroy(()=>{Zf(this._modules,b),U.unsubscribe()})}),function aC(n,s,a){try{const c=a();return v0(c)?c.catch(m=>{throw s.runOutsideAngular(()=>n.handleError(m)),m}):c}catch(c){throw s.runOutsideAngular(()=>n.handleError(c)),c}}(R,m,()=>{const U=b.injector.get(y0);return U.runInitializers(),U.donePromise.then(()=>(function a_(n){"string"==typeof n&&(Fg=n.toLowerCase().replace(/_/g,"-"))}(b.injector.get(vn,Sc)||Sc),this._moduleDoBootstrap(b),b))})})}bootstrapModule(a,c=[]){const m=lC({},c);return function t(n,s,a){const c=new Km(a);return Promise.resolve(c)}(0,0,a).then(b=>this.bootstrapModuleFactory(b,m))}_moduleDoBootstrap(a){const c=a.injector.get(Ic);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(m=>c.bootstrap(m));else{if(!a.instance.ngDoBootstrap)throw new Fe(-403,!1);a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Fe(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const a=this._injector.get(_i,null);a&&(a.forEach(c=>c()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(c){return new(c||n)(er(ba))}}static{this.\u0275prov=qn({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})(),Vi=null;const bi=new ot("");function Yi(n,s,a=[]){const c=`Platform: ${s}`,m=new ot(c);return(b=[])=>{let R=ts();if(!R||R.injector.get(bi,!1)){const U=[...a,...b,{provide:m,useValue:!0}];n?n(U):function lr(n){if(Vi&&!Vi.get(bi,!1))throw new Fe(400,!1);(function oC(){!function Ee(n){Ne=n}(()=>{throw new Fe(600,!1)})})(),Vi=n;const s=n.get(Ci);(function io(n){n.get(Fp,null)?.forEach(a=>a())})(n)}(function qi(n=[],s){return ba.create({name:s,providers:[{provide:Qa,useValue:"platform"},{provide:_i,useValue:new Set([()=>Vi=null])},...n]})}(U,c))}return function ir(n){const s=ts();if(!s)throw new Fe(401,!1);return s}()}}function ts(){return Vi?.get(Ci)??null}function mo(){return!1}function Pl(){}let Ii=(()=>{class n{static{this.__NG_ELEMENT_ID__=rr}}return n})();function rr(n){return function Ls(n,s,a){if(ga(n)&&!a){const c=ya(n.index,s);return new Zl(c,c)}return 47&n.type?new Zl(s[Mr],s):null}(Ur(),yn(),!(16&~n))}class S0{constructor(){}supports(s){return $r(s)}create(s){return new E0(s)}}const uC=(n,s)=>s;class E0{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||uC}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,c=this._removalsHead,m=0,b=null;for(;a||c;){const R=!c||a&&a.currentIndex<I0(c,m,b)?a:c,U=I0(R,m,b),q=R.currentIndex;if(R===c)m--,c=c._nextRemoved;else if(a=a._next,null==R.previousIndex)m++;else{b||(b=[]);const Se=U-m,Ge=q-m;if(Se!=Ge){for(let jt=0;jt<Se;jt++){const Kt=jt<b.length?b[jt]:b[jt]=0,an=Kt+jt;Ge<=an&&an<Se&&(b[jt]=Kt+1)}b[R.previousIndex]=Ge-Se}}U!==q&&s(R,U,q)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!$r(s))throw new Fe(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let m,b,R,a=this._itHead,c=!1;if(Array.isArray(s)){this.length=s.length;for(let U=0;U<this.length;U++)b=s[U],R=this._trackByFn(U,b),null!==a&&Object.is(a.trackById,R)?(c&&(a=this._verifyReinsertion(a,b,R,U)),Object.is(a.item,b)||this._addIdentityChange(a,b)):(a=this._mismatch(a,b,R,U),c=!0),a=a._next}else m=0,function UE(n,s){if(Array.isArray(n))for(let a=0;a<n.length;a++)s(n[a]);else{const a=n[Symbol.iterator]();let c;for(;!(c=a.next()).done;)s(c.value)}}(s,U=>{R=this._trackByFn(m,U),null!==a&&Object.is(a.trackById,R)?(c&&(a=this._verifyReinsertion(a,U,R,m)),Object.is(a.item,U)||this._addIdentityChange(a,U)):(a=this._mismatch(a,U,R,m),c=!0),a=a._next,m++}),this.length=m;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,c,m){let b;return null===s?b=this._itTail:(b=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,b,m)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(c,m))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,b,m)):s=this._addAfter(new dC(a,c),b,m),s}_verifyReinsertion(s,a,c,m){let b=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==b?s=this._reinsertAfter(b,s._prev,m):s.currentIndex!=m&&(s.currentIndex=m,this._addToMoves(s,m)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const m=s._prevRemoved,b=s._nextRemoved;return null===m?this._removalsHead=b:m._nextRemoved=b,null===b?this._removalsTail=m:b._prevRemoved=m,this._insertAfter(s,a,c),this._addToMoves(s,c),s}_moveAfter(s,a,c){return this._unlink(s),this._insertAfter(s,a,c),this._addToMoves(s,c),s}_addAfter(s,a,c){return this._insertAfter(s,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,c){const m=null===a?this._itHead:a._next;return s._next=m,s._prev=a,null===m?this._itTail=s:m._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new T0),this._linkedRecords.put(s),s.currentIndex=c,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,c=s._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new T0),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class dC{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class hC{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,s))return c;return null}remove(s){const a=s._prevDup,c=s._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class T0{constructor(){this.map=new Map}put(s){const a=s.trackById;let c=this.map.get(a);c||(c=new hC,this.map.set(a,c)),c.add(s)}get(s,a){const m=this.map.get(s);return m?m.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function I0(n,s,a){const c=n.previousIndex;if(null===c)return c;let m=0;return a&&c<a.length&&(m=a[c]),c+s+m}class uR{constructor(){}supports(s){return s instanceof Map||Qm(s)}create(){return new WR}}class WR{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||Qm(s)))throw new Fe(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(c,m)=>{if(a&&a.key===m)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const b=this._getOrCreateRecordForKey(m,c);a=this._insertBeforeOrAppend(a,b)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const c=s._prev;return a._next=s,a._prev=c,s._prev=a,c&&(c._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const m=this._records.get(s);this._maybeAddToChanges(m,a);const b=m._prev,R=m._next;return b&&(b._next=R),R&&(R._prev=b),m._next=null,m._prev=null,m}const c=new zR(s);return this._records.set(s,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(c=>a(s[c],c))}}class zR{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function dR(){return new DD([new S0])}let DD=(()=>{class n{static{this.\u0275prov=qn({token:n,providedIn:"root",factory:dR})}constructor(a){this.factories=a}static create(a,c){if(null!=c){const m=c.factories.slice();a=a.concat(m)}return new n(a)}static extend(a){return{provide:n,useFactory:c=>n.create(a,c||dR()),deps:[[n,new cs,new wr]]}}find(a){const c=this.factories.find(m=>m.supports(a));if(null!=c)return c;throw new Fe(901,!1)}}return n})();function hR(){return new AD([new uR])}let AD=(()=>{class n{static{this.\u0275prov=qn({token:n,providedIn:"root",factory:hR})}constructor(a){this.factories=a}static create(a,c){if(c){const m=c.factories.slice();a=a.concat(m)}return new n(a)}static extend(a){return{provide:n,useFactory:c=>n.create(a,c||hR()),deps:[[n,new cs,new wr]]}}find(a){const c=this.factories.find(m=>m.supports(a));if(c)return c;throw new Fe(901,!1)}}return n})();const XR=Yi(null,"core",[]);let JR=(()=>{class n{constructor(a){}static{this.\u0275fac=function(c){return new(c||n)(er(Ic))}}static{this.\u0275mod=hs({type:n})}static{this.\u0275inj=Kn({})}}return n})();function TM(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function DM(n){const s=D(null);try{return n()}finally{D(s)}}function NM(n,s){const a=Bi(n),c=s.elementInjector||Ss();return new $d(a).create(c,s.projectableNodes,s.hostElement,s.environmentInjector)}function OM(n){const s=Bi(n);if(!s)return null;const a=new $d(s);return{get selector(){return a.selector},get type(){return a.componentType},get inputs(){return a.inputs},get outputs(){return a.outputs},get ngContentSelectors(){return a.ngContentSelectors},get isStandalone(){return s.standalone},get isSignal(){return s.signals}}}},9417:(lt,we,p)=>{"use strict";p.d(we,{$R:()=>si,BC:()=>st,Fm:()=>vi,JD:()=>Ir,Q0:()=>Nr,VZ:()=>is,X1:()=>Cs,YN:()=>fn,YS:()=>rs,Zm:()=>E,cV:()=>ye,cb:()=>Fe,cz:()=>G,hs:()=>Ke,j4:()=>Ni,k0:()=>Q,kq:()=>h,l_:()=>br,me:()=>M,ok:()=>Ks,qT:()=>cr,tU:()=>Pr,vO:()=>W,vS:()=>ii,wz:()=>er,xH:()=>tr,xh:()=>No,y7:()=>ro,ze:()=>Wr});var i=p(4438),e=p(177),v=p(6648),y=p(7468),w=p(6354);let I=(()=>{class Re{constructor(de,Ze){this._renderer=de,this._elementRef=Ze,this.onChange=Pt=>{},this.onTouched=()=>{}}setProperty(de,Ze){this._renderer.setProperty(this._elementRef.nativeElement,de,Ze)}registerOnTouched(de){this.onTouched=de}registerOnChange(de){this.onChange=de}setDisabledState(de){this.setProperty("disabled",de)}static{this.\u0275fac=function(Ze){return new(Ze||Re)(i.rXU(i.sFG),i.rXU(i.aKT))}}static{this.\u0275dir=i.FsC({type:Re})}}return Re})(),D=(()=>{class Re extends I{static{this.\u0275fac=(()=>{let de;return function(Pt){return(de||(de=i.xGo(Re)))(Pt||Re)}})()}static{this.\u0275dir=i.FsC({type:Re,features:[i.Vt3]})}}return Re})();const h=new i.nKC(""),f={provide:h,useExisting:(0,i.Rfq)(()=>E),multi:!0};let E=(()=>{class Re extends D{writeValue(de){this.setProperty("checked",de)}static{this.\u0275fac=(()=>{let de;return function(Pt){return(de||(de=i.xGo(Re)))(Pt||Re)}})()}static{this.\u0275dir=i.FsC({type:Re,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(Ze,Pt){1&Ze&&i.bIt("change",function(Ti){return Pt.onChange(Ti.target.checked)})("blur",function(){return Pt.onTouched()})},features:[i.Jv_([f]),i.Vt3]})}}return Re})();const F={provide:h,useExisting:(0,i.Rfq)(()=>M),multi:!0},_=new i.nKC("");let M=(()=>{class Re extends I{constructor(de,Ze,Pt){super(de,Ze),this._compositionMode=Pt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function L(){const Re=(0,e.QT)()?(0,e.QT)().getUserAgent():"";return/android (\d+)/.test(Re.toLowerCase())}())}writeValue(de){this.setProperty("value",de??"")}_handleInput(de){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(de)}_compositionStart(){this._composing=!0}_compositionEnd(de){this._composing=!1,this._compositionMode&&this.onChange(de)}static{this.\u0275fac=function(Ze){return new(Ze||Re)(i.rXU(i.sFG),i.rXU(i.aKT),i.rXU(_,8))}}static{this.\u0275dir=i.FsC({type:Re,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(Ze,Pt){1&Ze&&i.bIt("input",function(Ti){return Pt._handleInput(Ti.target.value)})("blur",function(){return Pt.onTouched()})("compositionstart",function(){return Pt._compositionStart()})("compositionend",function(Ti){return Pt._compositionEnd(Ti.target.value)})},features:[i.Jv_([F]),i.Vt3]})}}return Re})();function N(Re){return null==Re||("string"==typeof Re||Array.isArray(Re))&&0===Re.length}function P(Re){return null!=Re&&"number"==typeof Re.length}const G=new i.nKC(""),x=new i.nKC(""),V=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Q{static min(Be){return Y(Be)}static max(Be){return function le(Re){return Be=>{if(N(Be.value)||N(Re))return null;const de=parseFloat(Be.value);return!isNaN(de)&&de>Re?{max:{max:Re,actual:Be.value}}:null}}(Be)}static required(Be){return fe(Be)}static requiredTrue(Be){return function K(Re){return!0===Re.value?null:{required:!0}}(Be)}static email(Be){return function ee(Re){return N(Re.value)||V.test(Re.value)?null:{email:!0}}(Be)}static minLength(Be){return ie(Be)}static maxLength(Be){return T(Be)}static pattern(Be){return function ae(Re){if(!Re)return re;let Be,de;return"string"==typeof Re?(de="","^"!==Re.charAt(0)&&(de+="^"),de+=Re,"$"!==Re.charAt(Re.length-1)&&(de+="$"),Be=new RegExp(de)):(de=Re.toString(),Be=Re),Ze=>{if(N(Ze.value))return null;const Pt=Ze.value;return Be.test(Pt)?null:{pattern:{requiredPattern:de,actualValue:Pt}}}}(Be)}static nullValidator(Be){return null}static compose(Be){return be(Be)}static composeAsync(Be){return Oe(Be)}}function Y(Re){return Be=>{if(N(Be.value)||N(Re))return null;const de=parseFloat(Be.value);return!isNaN(de)&&de<Re?{min:{min:Re,actual:Be.value}}:null}}function fe(Re){return N(Re.value)?{required:!0}:null}function ie(Re){return Be=>N(Be.value)||!P(Be.value)?null:Be.value.length<Re?{minlength:{requiredLength:Re,actualLength:Be.value.length}}:null}function T(Re){return Be=>P(Be.value)&&Be.value.length>Re?{maxlength:{requiredLength:Re,actualLength:Be.value.length}}:null}function re(Re){return null}function Me(Re){return null!=Re}function Qe(Re){return(0,i.jNT)(Re)?(0,v.H)(Re):Re}function Le(Re){let Be={};return Re.forEach(de=>{Be=null!=de?{...Be,...de}:Be}),0===Object.keys(Be).length?null:Be}function Ne(Re,Be){return Be.map(de=>de(Re))}function Ee(Re){return Re.map(Be=>function Je(Re){return!Re.validate}(Be)?Be:de=>Be.validate(de))}function be(Re){if(!Re)return null;const Be=Re.filter(Me);return 0==Be.length?null:function(de){return Le(Ne(de,Be))}}function se(Re){return null!=Re?be(Ee(Re)):null}function Oe(Re){if(!Re)return null;const Be=Re.filter(Me);return 0==Be.length?null:function(de){const Ze=Ne(de,Be).map(Qe);return(0,y.p)(Ze).pipe((0,w.T)(Le))}}function Ie(Re){return null!=Re?Oe(Ee(Re)):null}function it(Re,Be){return null===Re?[Be]:Array.isArray(Re)?[...Re,Be]:[Re,Be]}function xe(Re){return Re._rawValidators}function pt(Re){return Re._rawAsyncValidators}function vt(Re){return Re?Array.isArray(Re)?Re:[Re]:[]}function hn(Re,Be){return Array.isArray(Re)?Re.includes(Be):Re===Be}function ln(Re,Be){const de=vt(Be);return vt(Re).forEach(Pt=>{hn(de,Pt)||de.push(Pt)}),de}function Mt(Re,Be){return vt(Be).filter(de=>!hn(Re,de))}class xt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(Be){this._rawValidators=Be||[],this._composedValidatorFn=se(this._rawValidators)}_setAsyncValidators(Be){this._rawAsyncValidators=Be||[],this._composedAsyncValidatorFn=Ie(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(Be){this._onDestroyCallbacks.push(Be)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(Be=>Be()),this._onDestroyCallbacks=[]}reset(Be=void 0){this.control&&this.control.reset(Be)}hasError(Be,de){return!!this.control&&this.control.hasError(Be,de)}getError(Be,de){return this.control?this.control.getError(Be,de):null}}class z extends xt{get formDirective(){return null}get path(){return null}}class W extends xt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class J{constructor(Be){this._cd=Be}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let st=(()=>{class Re extends J{constructor(de){super(de)}static{this.\u0275fac=function(Ze){return new(Ze||Re)(i.rXU(W,2))}}static{this.\u0275dir=i.FsC({type:Re,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(Ze,Pt){2&Ze&&i.AVh("ng-untouched",Pt.isUntouched)("ng-touched",Pt.isTouched)("ng-pristine",Pt.isPristine)("ng-dirty",Pt.isDirty)("ng-valid",Pt.isValid)("ng-invalid",Pt.isInvalid)("ng-pending",Pt.isPending)},features:[i.Vt3]})}}return Re})(),Fe=(()=>{class Re extends J{constructor(de){super(de)}static{this.\u0275fac=function(Ze){return new(Ze||Re)(i.rXU(z,10))}}static{this.\u0275dir=i.FsC({type:Re,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(Ze,Pt){2&Ze&&i.AVh("ng-untouched",Pt.isUntouched)("ng-touched",Pt.isTouched)("ng-pristine",Pt.isPristine)("ng-dirty",Pt.isDirty)("ng-valid",Pt.isValid)("ng-invalid",Pt.isInvalid)("ng-pending",Pt.isPending)("ng-submitted",Pt.isSubmitted)},features:[i.Vt3]})}}return Re})();const cn="VALID",In="INVALID",An="PENDING",Fn="DISABLED";function Pn(Re){return(Wt(Re)?Re.validators:Re)||null}function wi(Re,Be){return(Wt(Be)?Be.asyncValidators:Re)||null}function Wt(Re){return null!=Re&&!Array.isArray(Re)&&"object"==typeof Re}function _t(Re,Be,de){const Ze=Re.controls;if(!(Be?Object.keys(Ze):Ze).length)throw new i.wOt(1e3,"");if(!Ze[de])throw new i.wOt(1001,"")}function Nt(Re,Be,de){Re._forEachChild((Ze,Pt)=>{if(void 0===de[Pt])throw new i.wOt(1002,"")})}class tn{constructor(Be,de){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(Be),this._assignAsyncValidators(de)}get validator(){return this._composedValidatorFn}set validator(Be){this._rawValidators=this._composedValidatorFn=Be}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(Be){this._rawAsyncValidators=this._composedAsyncValidatorFn=Be}get parent(){return this._parent}get valid(){return this.status===cn}get invalid(){return this.status===In}get pending(){return this.status==An}get disabled(){return this.status===Fn}get enabled(){return this.status!==Fn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(Be){this._assignValidators(Be)}setAsyncValidators(Be){this._assignAsyncValidators(Be)}addValidators(Be){this.setValidators(ln(Be,this._rawValidators))}addAsyncValidators(Be){this.setAsyncValidators(ln(Be,this._rawAsyncValidators))}removeValidators(Be){this.setValidators(Mt(Be,this._rawValidators))}removeAsyncValidators(Be){this.setAsyncValidators(Mt(Be,this._rawAsyncValidators))}hasValidator(Be){return hn(this._rawValidators,Be)}hasAsyncValidator(Be){return hn(this._rawAsyncValidators,Be)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(Be={}){this.touched=!0,this._parent&&!Be.onlySelf&&this._parent.markAsTouched(Be)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(Be=>Be.markAllAsTouched())}markAsUntouched(Be={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(de=>{de.markAsUntouched({onlySelf:!0})}),this._parent&&!Be.onlySelf&&this._parent._updateTouched(Be)}markAsDirty(Be={}){this.pristine=!1,this._parent&&!Be.onlySelf&&this._parent.markAsDirty(Be)}markAsPristine(Be={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(de=>{de.markAsPristine({onlySelf:!0})}),this._parent&&!Be.onlySelf&&this._parent._updatePristine(Be)}markAsPending(Be={}){this.status=An,!1!==Be.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!Be.onlySelf&&this._parent.markAsPending(Be)}disable(Be={}){const de=this._parentMarkedDirty(Be.onlySelf);this.status=Fn,this.errors=null,this._forEachChild(Ze=>{Ze.disable({...Be,onlySelf:!0})}),this._updateValue(),!1!==Be.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...Be,skipPristineCheck:de}),this._onDisabledChange.forEach(Ze=>Ze(!0))}enable(Be={}){const de=this._parentMarkedDirty(Be.onlySelf);this.status=cn,this._forEachChild(Ze=>{Ze.enable({...Be,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:Be.emitEvent}),this._updateAncestors({...Be,skipPristineCheck:de}),this._onDisabledChange.forEach(Ze=>Ze(!1))}_updateAncestors(Be){this._parent&&!Be.onlySelf&&(this._parent.updateValueAndValidity(Be),Be.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(Be){this._parent=Be}getRawValue(){return this.value}updateValueAndValidity(Be={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===cn||this.status===An)&&this._runAsyncValidator(Be.emitEvent)),!1!==Be.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!Be.onlySelf&&this._parent.updateValueAndValidity(Be)}_updateTreeValidity(Be={emitEvent:!0}){this._forEachChild(de=>de._updateTreeValidity(Be)),this.updateValueAndValidity({onlySelf:!0,emitEvent:Be.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Fn:cn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(Be){if(this.asyncValidator){this.status=An,this._hasOwnPendingAsyncValidator=!0;const de=Qe(this.asyncValidator(this));this._asyncValidationSubscription=de.subscribe(Ze=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(Ze,{emitEvent:Be})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(Be,de={}){this.errors=Be,this._updateControlsErrors(!1!==de.emitEvent)}get(Be){let de=Be;return null==de||(Array.isArray(de)||(de=de.split(".")),0===de.length)?null:de.reduce((Ze,Pt)=>Ze&&Ze._find(Pt),this)}getError(Be,de){const Ze=de?this.get(de):this;return Ze&&Ze.errors?Ze.errors[Be]:null}hasError(Be,de){return!!this.getError(Be,de)}get root(){let Be=this;for(;Be._parent;)Be=Be._parent;return Be}_updateControlsErrors(Be){this.status=this._calculateStatus(),Be&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(Be)}_initObservables(){this.valueChanges=new i.bkB,this.statusChanges=new i.bkB}_calculateStatus(){return this._allControlsDisabled()?Fn:this.errors?In:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(An)?An:this._anyControlsHaveStatus(In)?In:cn}_anyControlsHaveStatus(Be){return this._anyControls(de=>de.status===Be)}_anyControlsDirty(){return this._anyControls(Be=>Be.dirty)}_anyControlsTouched(){return this._anyControls(Be=>Be.touched)}_updatePristine(Be={}){this.pristine=!this._anyControlsDirty(),this._parent&&!Be.onlySelf&&this._parent._updatePristine(Be)}_updateTouched(Be={}){this.touched=this._anyControlsTouched(),this._parent&&!Be.onlySelf&&this._parent._updateTouched(Be)}_registerOnCollectionChange(Be){this._onCollectionChange=Be}_setUpdateStrategy(Be){Wt(Be)&&null!=Be.updateOn&&(this._updateOn=Be.updateOn)}_parentMarkedDirty(Be){return!Be&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(Be){return null}_assignValidators(Be){this._rawValidators=Array.isArray(Be)?Be.slice():Be,this._composedValidatorFn=function ki(Re){return Array.isArray(Re)?se(Re):Re||null}(this._rawValidators)}_assignAsyncValidators(Be){this._rawAsyncValidators=Array.isArray(Be)?Be.slice():Be,this._composedAsyncValidatorFn=function Rt(Re){return Array.isArray(Re)?Ie(Re):Re||null}(this._rawAsyncValidators)}}class En extends tn{constructor(Be,de,Ze){super(Pn(de),wi(Ze,de)),this.controls=Be,this._initObservables(),this._setUpdateStrategy(de),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(Be,de){return this.controls[Be]?this.controls[Be]:(this.controls[Be]=de,de.setParent(this),de._registerOnCollectionChange(this._onCollectionChange),de)}addControl(Be,de,Ze={}){this.registerControl(Be,de),this.updateValueAndValidity({emitEvent:Ze.emitEvent}),this._onCollectionChange()}removeControl(Be,de={}){this.controls[Be]&&this.controls[Be]._registerOnCollectionChange(()=>{}),delete this.controls[Be],this.updateValueAndValidity({emitEvent:de.emitEvent}),this._onCollectionChange()}setControl(Be,de,Ze={}){this.controls[Be]&&this.controls[Be]._registerOnCollectionChange(()=>{}),delete this.controls[Be],de&&this.registerControl(Be,de),this.updateValueAndValidity({emitEvent:Ze.emitEvent}),this._onCollectionChange()}contains(Be){return this.controls.hasOwnProperty(Be)&&this.controls[Be].enabled}setValue(Be,de={}){Nt(this,0,Be),Object.keys(Be).forEach(Ze=>{_t(this,!0,Ze),this.controls[Ze].setValue(Be[Ze],{onlySelf:!0,emitEvent:de.emitEvent})}),this.updateValueAndValidity(de)}patchValue(Be,de={}){null!=Be&&(Object.keys(Be).forEach(Ze=>{const Pt=this.controls[Ze];Pt&&Pt.patchValue(Be[Ze],{onlySelf:!0,emitEvent:de.emitEvent})}),this.updateValueAndValidity(de))}reset(Be={},de={}){this._forEachChild((Ze,Pt)=>{Ze.reset(Be?Be[Pt]:null,{onlySelf:!0,emitEvent:de.emitEvent})}),this._updatePristine(de),this._updateTouched(de),this.updateValueAndValidity(de)}getRawValue(){return this._reduceChildren({},(Be,de,Ze)=>(Be[Ze]=de.getRawValue(),Be))}_syncPendingControls(){let Be=this._reduceChildren(!1,(de,Ze)=>!!Ze._syncPendingControls()||de);return Be&&this.updateValueAndValidity({onlySelf:!0}),Be}_forEachChild(Be){Object.keys(this.controls).forEach(de=>{const Ze=this.controls[de];Ze&&Be(Ze,de)})}_setUpControls(){this._forEachChild(Be=>{Be.setParent(this),Be._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(Be){for(const[de,Ze]of Object.entries(this.controls))if(this.contains(de)&&Be(Ze))return!0;return!1}_reduceValue(){return this._reduceChildren({},(de,Ze,Pt)=>((Ze.enabled||this.disabled)&&(de[Pt]=Ze.value),de))}_reduceChildren(Be,de){let Ze=Be;return this._forEachChild((Pt,Hn)=>{Ze=de(Ze,Pt,Hn)}),Ze}_allControlsDisabled(){for(const Be of Object.keys(this.controls))if(this.controls[Be].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(Be){return this.controls.hasOwnProperty(Be)?this.controls[Be]:null}}class jn extends En{}const dt=new i.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>Dt}),Dt="always";function Vt(Re,Be){return[...Be.path,Re]}function Zt(Re,Be,de=Dt){Tn(Re,Be),Be.valueAccessor.writeValue(Re.value),(Re.disabled||"always"===de)&&Be.valueAccessor.setDisabledState?.(Re.disabled),function ai(Re,Be){Be.valueAccessor.registerOnChange(de=>{Re._pendingValue=de,Re._pendingChange=!0,Re._pendingDirty=!0,"change"===Re.updateOn&&qn(Re,Be)})}(Re,Be),function Pi(Re,Be){const de=(Ze,Pt)=>{Be.valueAccessor.writeValue(Ze),Pt&&Be.viewToModelUpdate(Ze)};Re.registerOnChange(de),Be._registerOnDestroy(()=>{Re._unregisterOnChange(de)})}(Re,Be),function fi(Re,Be){Be.valueAccessor.registerOnTouched(()=>{Re._pendingTouched=!0,"blur"===Re.updateOn&&Re._pendingChange&&qn(Re,Be),"submit"!==Re.updateOn&&Re.markAsTouched()})}(Re,Be),function zn(Re,Be){if(Be.valueAccessor.setDisabledState){const de=Ze=>{Be.valueAccessor.setDisabledState(Ze)};Re.registerOnDisabledChange(de),Be._registerOnDestroy(()=>{Re._unregisterOnDisabledChange(de)})}}(Re,Be)}function gn(Re,Be,de=!0){const Ze=()=>{};Be.valueAccessor&&(Be.valueAccessor.registerOnChange(Ze),Be.valueAccessor.registerOnTouched(Ze)),pn(Re,Be),Re&&(Be._invokeOnDestroyCallbacks(),Re._registerOnCollectionChange(()=>{}))}function mn(Re,Be){Re.forEach(de=>{de.registerOnValidatorChange&&de.registerOnValidatorChange(Be)})}function Tn(Re,Be){const de=xe(Re);null!==Be.validator?Re.setValidators(it(de,Be.validator)):"function"==typeof de&&Re.setValidators([de]);const Ze=pt(Re);null!==Be.asyncValidator?Re.setAsyncValidators(it(Ze,Be.asyncValidator)):"function"==typeof Ze&&Re.setAsyncValidators([Ze]);const Pt=()=>Re.updateValueAndValidity();mn(Be._rawValidators,Pt),mn(Be._rawAsyncValidators,Pt)}function pn(Re,Be){let de=!1;if(null!==Re){if(null!==Be.validator){const Pt=xe(Re);if(Array.isArray(Pt)&&Pt.length>0){const Hn=Pt.filter(Ti=>Ti!==Be.validator);Hn.length!==Pt.length&&(de=!0,Re.setValidators(Hn))}}if(null!==Be.asyncValidator){const Pt=pt(Re);if(Array.isArray(Pt)&&Pt.length>0){const Hn=Pt.filter(Ti=>Ti!==Be.asyncValidator);Hn.length!==Pt.length&&(de=!0,Re.setAsyncValidators(Hn))}}}const Ze=()=>{};return mn(Be._rawValidators,Ze),mn(Be._rawAsyncValidators,Ze),de}function qn(Re,Be){Re._pendingDirty&&Re.markAsDirty(),Re.setValue(Re._pendingValue,{emitModelToViewChange:!1}),Be.viewToModelUpdate(Re._pendingValue),Re._pendingChange=!1}function Kn(Re,Be){Tn(Re,Be)}function St(Re,Be){if(!Re.hasOwnProperty("model"))return!1;const de=Re.model;return!!de.isFirstChange()||!Object.is(Be,de.currentValue)}function Gt(Re,Be){Re._syncPendingControls(),Be.forEach(de=>{const Ze=de.control;"submit"===Ze.updateOn&&Ze._pendingChange&&(de.viewToModelUpdate(Ze._pendingValue),Ze._pendingChange=!1)})}function ot(Re,Be){if(!Be)return null;let de,Ze,Pt;return Array.isArray(Be),Be.forEach(Hn=>{Hn.constructor===M?de=Hn:function We(Re){return Object.getPrototypeOf(Re.constructor)===D}(Hn)?Ze=Hn:Pt=Hn}),Pt||Ze||de||null}const Xt={provide:z,useExisting:(0,i.Rfq)(()=>ye)},ct=Promise.resolve();let ye=(()=>{class Re extends z{constructor(de,Ze,Pt){super(),this.callSetDisabledState=Pt,this.submitted=!1,this._directives=new Set,this.ngSubmit=new i.bkB,this.form=new En({},se(de),Ie(Ze))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(de){ct.then(()=>{const Ze=this._findContainer(de.path);de.control=Ze.registerControl(de.name,de.control),Zt(de.control,de,this.callSetDisabledState),de.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(de)})}getControl(de){return this.form.get(de.path)}removeControl(de){ct.then(()=>{const Ze=this._findContainer(de.path);Ze&&Ze.removeControl(de.name),this._directives.delete(de)})}addFormGroup(de){ct.then(()=>{const Ze=this._findContainer(de.path),Pt=new En({});Kn(Pt,de),Ze.registerControl(de.name,Pt),Pt.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(de){ct.then(()=>{const Ze=this._findContainer(de.path);Ze&&Ze.removeControl(de.name)})}getFormGroup(de){return this.form.get(de.path)}updateModel(de,Ze){ct.then(()=>{this.form.get(de.path).setValue(Ze)})}setValue(de){this.control.setValue(de)}onSubmit(de){return this.submitted=!0,Gt(this.form,this._directives),this.ngSubmit.emit(de),"dialog"===de?.target?.method}onReset(){this.resetForm()}resetForm(de=void 0){this.form.reset(de),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(de){return de.pop(),de.length?this.form.get(de):this.form}static{this.\u0275fac=function(Ze){return new(Ze||Re)(i.rXU(G,10),i.rXU(x,10),i.rXU(dt,8))}}static{this.\u0275dir=i.FsC({type:Re,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(Ze,Pt){1&Ze&&i.bIt("submit",function(Ti){return Pt.onSubmit(Ti)})("reset",function(){return Pt.onReset()})},inputs:{options:[i.Mj6.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i.Jv_([Xt]),i.Vt3]})}}return Re})();function Te(Re,Be){const de=Re.indexOf(Be);de>-1&&Re.splice(de,1)}function ve(Re){return"object"==typeof Re&&null!==Re&&2===Object.keys(Re).length&&"value"in Re&&"disabled"in Re}const ht=class extends tn{constructor(Be=null,de,Ze){super(Pn(de),wi(Ze,de)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(Be),this._setUpdateStrategy(de),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Wt(de)&&(de.nonNullable||de.initialValueIsDefault)&&(this.defaultValue=ve(Be)?Be.value:Be)}setValue(Be,de={}){this.value=this._pendingValue=Be,this._onChange.length&&!1!==de.emitModelToViewChange&&this._onChange.forEach(Ze=>Ze(this.value,!1!==de.emitViewToModelChange)),this.updateValueAndValidity(de)}patchValue(Be,de={}){this.setValue(Be,de)}reset(Be=this.defaultValue,de={}){this._applyFormState(Be),this.markAsPristine(de),this.markAsUntouched(de),this.setValue(this.value,de),this._pendingChange=!1}_updateValue(){}_anyControls(Be){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(Be){this._onChange.push(Be)}_unregisterOnChange(Be){Te(this._onChange,Be)}registerOnDisabledChange(Be){this._onDisabledChange.push(Be)}_unregisterOnDisabledChange(Be){Te(this._onDisabledChange,Be)}_forEachChild(Be){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(Be){ve(Be)?(this.value=this._pendingValue=Be.value,Be.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=Be}},Ke=ht;let gt=(()=>{class Re extends z{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Vt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static{this.\u0275fac=(()=>{let de;return function(Pt){return(de||(de=i.xGo(Re)))(Pt||Re)}})()}static{this.\u0275dir=i.FsC({type:Re,features:[i.Vt3]})}}return Re})();const pr={provide:W,useExisting:(0,i.Rfq)(()=>ii)},$n=Promise.resolve();let ii=(()=>{class Re extends W{constructor(de,Ze,Pt,Hn,Ti,ds){super(),this._changeDetectorRef=Ti,this.callSetDisabledState=ds,this.control=new ht,this._registered=!1,this.name="",this.update=new i.bkB,this._parent=de,this._setValidators(Ze),this._setAsyncValidators(Pt),this.valueAccessor=ot(0,Hn)}ngOnChanges(de){if(this._checkForErrors(),!this._registered||"name"in de){if(this._registered&&(this._checkName(),this.formDirective)){const Ze=de.name.previousValue;this.formDirective.removeControl({name:Ze,path:this._getPath(Ze)})}this._setUpControl()}"isDisabled"in de&&this._updateDisabled(de),St(de,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(de){this.viewModel=de,this.update.emit(de)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Zt(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(de){$n.then(()=>{this.control.setValue(de,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(de){const Ze=de.isDisabled.currentValue,Pt=0!==Ze&&(0,i.L39)(Ze);$n.then(()=>{Pt&&!this.control.disabled?this.control.disable():!Pt&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(de){return this._parent?Vt(de,this._parent):[de]}static{this.\u0275fac=function(Ze){return new(Ze||Re)(i.rXU(z,9),i.rXU(G,10),i.rXU(x,10),i.rXU(h,10),i.rXU(i.gRc,8),i.rXU(dt,8))}}static{this.\u0275dir=i.FsC({type:Re,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[i.Mj6.None,"disabled","isDisabled"],model:[i.Mj6.None,"ngModel","model"],options:[i.Mj6.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[i.Jv_([pr]),i.Vt3,i.OA$]})}}return Re})(),cr=(()=>{class Re{static{this.\u0275fac=function(Ze){return new(Ze||Re)}}static{this.\u0275dir=i.FsC({type:Re,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return Re})();const Ai={provide:h,useExisting:(0,i.Rfq)(()=>Nr),multi:!0};let Nr=(()=>{class Re extends D{writeValue(de){this.setProperty("value",de??"")}registerOnChange(de){this.onChange=Ze=>{de(""==Ze?null:parseFloat(Ze))}}static{this.\u0275fac=(()=>{let de;return function(Pt){return(de||(de=i.xGo(Re)))(Pt||Re)}})()}static{this.\u0275dir=i.FsC({type:Re,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(Ze,Pt){1&Ze&&i.bIt("input",function(Ti){return Pt.onChange(Ti.target.value)})("blur",function(){return Pt.onTouched()})},features:[i.Jv_([Ai]),i.Vt3]})}}return Re})();const Zs={provide:h,useExisting:(0,i.Rfq)(()=>vi),multi:!0};let Us=(()=>{class Re{constructor(){this._accessors=[]}add(de,Ze){this._accessors.push([de,Ze])}remove(de){for(let Ze=this._accessors.length-1;Ze>=0;--Ze)if(this._accessors[Ze][1]===de)return void this._accessors.splice(Ze,1)}select(de){this._accessors.forEach(Ze=>{this._isSameGroup(Ze,de)&&Ze[1]!==de&&Ze[1].fireUncheck(de.value)})}_isSameGroup(de,Ze){return!!de[0].control&&de[0]._parent===Ze._control._parent&&de[1].name===Ze.name}static{this.\u0275fac=function(Ze){return new(Ze||Re)}}static{this.\u0275prov=i.jDH({token:Re,factory:Re.\u0275fac,providedIn:"root"})}}return Re})(),vi=(()=>{class Re extends D{constructor(de,Ze,Pt,Hn){super(de,Ze),this._registry=Pt,this._injector=Hn,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,i.WQX)(dt,{optional:!0})??Dt}ngOnInit(){this._control=this._injector.get(W),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(de){this._state=de===this.value,this.setProperty("checked",this._state)}registerOnChange(de){this._fn=de,this.onChange=()=>{de(this.value),this._registry.select(this)}}setDisabledState(de){(this.setDisabledStateFired||de||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",de),this.setDisabledStateFired=!0}fireUncheck(de){this.writeValue(de)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(Ze){return new(Ze||Re)(i.rXU(i.sFG),i.rXU(i.aKT),i.rXU(Us),i.rXU(i.zZn))}}static{this.\u0275dir=i.FsC({type:Re,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(Ze,Pt){1&Ze&&i.bIt("change",function(){return Pt.onChange()})("blur",function(){return Pt.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[i.Jv_([Zs]),i.Vt3]})}}return Re})();const Tr=new i.nKC(""),Vs={provide:W,useExisting:(0,i.Rfq)(()=>br)};let br=(()=>{class Re extends W{set isDisabled(de){}static{this._ngModelWarningSentOnce=!1}constructor(de,Ze,Pt,Hn,Ti){super(),this._ngModelWarningConfig=Hn,this.callSetDisabledState=Ti,this.update=new i.bkB,this._ngModelWarningSent=!1,this._setValidators(de),this._setAsyncValidators(Ze),this.valueAccessor=ot(0,Pt)}ngOnChanges(de){if(this._isControlChanged(de)){const Ze=de.form.previousValue;Ze&&gn(Ze,this,!1),Zt(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}St(de,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&gn(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(de){this.viewModel=de,this.update.emit(de)}_isControlChanged(de){return de.hasOwnProperty("form")}static{this.\u0275fac=function(Ze){return new(Ze||Re)(i.rXU(G,10),i.rXU(x,10),i.rXU(h,10),i.rXU(Tr,8),i.rXU(dt,8))}}static{this.\u0275dir=i.FsC({type:Re,selectors:[["","formControl",""]],inputs:{form:[i.Mj6.None,"formControl","form"],isDisabled:[i.Mj6.None,"disabled","isDisabled"],model:[i.Mj6.None,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[i.Jv_([Vs]),i.Vt3,i.OA$]})}}return Re})();const Cr={provide:z,useExisting:(0,i.Rfq)(()=>Ni)};let Ni=(()=>{class Re extends z{constructor(de,Ze,Pt){super(),this.callSetDisabledState=Pt,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new i.bkB,this._setValidators(de),this._setAsyncValidators(Ze)}ngOnChanges(de){this._checkFormPresent(),de.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(pn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(de){const Ze=this.form.get(de.path);return Zt(Ze,de,this.callSetDisabledState),Ze.updateValueAndValidity({emitEvent:!1}),this.directives.push(de),Ze}getControl(de){return this.form.get(de.path)}removeControl(de){gn(de.control||null,de,!1),function Ht(Re,Be){const de=Re.indexOf(Be);de>-1&&Re.splice(de,1)}(this.directives,de)}addFormGroup(de){this._setUpFormContainer(de)}removeFormGroup(de){this._cleanUpFormContainer(de)}getFormGroup(de){return this.form.get(de.path)}addFormArray(de){this._setUpFormContainer(de)}removeFormArray(de){this._cleanUpFormContainer(de)}getFormArray(de){return this.form.get(de.path)}updateModel(de,Ze){this.form.get(de.path).setValue(Ze)}onSubmit(de){return this.submitted=!0,Gt(this.form,this.directives),this.ngSubmit.emit(de),"dialog"===de?.target?.method}onReset(){this.resetForm()}resetForm(de=void 0){this.form.reset(de),this.submitted=!1}_updateDomValue(){this.directives.forEach(de=>{const Ze=de.control,Pt=this.form.get(de.path);Ze!==Pt&&(gn(Ze||null,de),(Re=>Re instanceof ht)(Pt)&&(Zt(Pt,de,this.callSetDisabledState),de.control=Pt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(de){const Ze=this.form.get(de.path);Kn(Ze,de),Ze.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(de){if(this.form){const Ze=this.form.get(de.path);Ze&&function Si(Re,Be){return pn(Re,Be)}(Ze,de)&&Ze.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Tn(this.form,this),this._oldForm&&pn(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(Ze){return new(Ze||Re)(i.rXU(G,10),i.rXU(x,10),i.rXU(dt,8))}}static{this.\u0275dir=i.FsC({type:Re,selectors:[["","formGroup",""]],hostBindings:function(Ze,Pt){1&Ze&&i.bIt("submit",function(Ti){return Pt.onSubmit(Ti)})("reset",function(){return Pt.onReset()})},inputs:{form:[i.Mj6.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i.Jv_([Cr]),i.Vt3,i.OA$]})}}return Re})();const qs={provide:z,useExisting:(0,i.Rfq)(()=>si)};let si=(()=>{class Re extends gt{constructor(de,Ze,Pt){super(),this.name=null,this._parent=de,this._setValidators(Ze),this._setAsyncValidators(Pt)}_checkParentType(){ns(this._parent)}static{this.\u0275fac=function(Ze){return new(Ze||Re)(i.rXU(z,13),i.rXU(G,10),i.rXU(x,10))}}static{this.\u0275dir=i.FsC({type:Re,selectors:[["","formGroupName",""]],inputs:{name:[i.Mj6.None,"formGroupName","name"]},features:[i.Jv_([qs]),i.Vt3]})}}return Re})();const ia={provide:z,useExisting:(0,i.Rfq)(()=>Vn)};let Vn=(()=>{class Re extends z{constructor(de,Ze,Pt){super(),this.name=null,this._parent=de,this._setValidators(Ze),this._setAsyncValidators(Pt)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Vt(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){ns(this._parent)}static{this.\u0275fac=function(Ze){return new(Ze||Re)(i.rXU(z,13),i.rXU(G,10),i.rXU(x,10))}}static{this.\u0275dir=i.FsC({type:Re,selectors:[["","formArrayName",""]],inputs:{name:[i.Mj6.None,"formArrayName","name"]},features:[i.Jv_([ia]),i.Vt3]})}}return Re})();function ns(Re){return!(Re instanceof si||Re instanceof Ni||Re instanceof Vn)}const vr={provide:W,useExisting:(0,i.Rfq)(()=>Ir)};let Ir=(()=>{class Re extends W{set isDisabled(de){}static{this._ngModelWarningSentOnce=!1}constructor(de,Ze,Pt,Hn,Ti){super(),this._ngModelWarningConfig=Ti,this._added=!1,this.name=null,this.update=new i.bkB,this._ngModelWarningSent=!1,this._parent=de,this._setValidators(Ze),this._setAsyncValidators(Pt),this.valueAccessor=ot(0,Hn)}ngOnChanges(de){this._added||this._setUpControl(),St(de,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(de){this.viewModel=de,this.update.emit(de)}get path(){return Vt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(Ze){return new(Ze||Re)(i.rXU(z,13),i.rXU(G,10),i.rXU(x,10),i.rXU(h,10),i.rXU(Tr,8))}}static{this.\u0275dir=i.FsC({type:Re,selectors:[["","formControlName",""]],inputs:{name:[i.Mj6.None,"formControlName","name"],isDisabled:[i.Mj6.None,"disabled","isDisabled"],model:[i.Mj6.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[i.Jv_([vr]),i.Vt3,i.OA$]})}}return Re})();const Dr={provide:h,useExisting:(0,i.Rfq)(()=>er),multi:!0};function Or(Re,Be){return null==Re?`${Be}`:(Be&&"object"==typeof Be&&(Be="Object"),`${Re}: ${Be}`.slice(0,50))}let er=(()=>{class Re extends D{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(de){this._compareWith=de}writeValue(de){this.value=de;const Pt=Or(this._getOptionId(de),de);this.setProperty("value",Pt)}registerOnChange(de){this.onChange=Ze=>{this.value=this._getOptionValue(Ze),de(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(de){for(const Ze of this._optionMap.keys())if(this._compareWith(this._optionMap.get(Ze),de))return Ze;return null}_getOptionValue(de){const Ze=function Hr(Re){return Re.split(":")[0]}(de);return this._optionMap.has(Ze)?this._optionMap.get(Ze):de}static{this.\u0275fac=(()=>{let de;return function(Pt){return(de||(de=i.xGo(Re)))(Pt||Re)}})()}static{this.\u0275dir=i.FsC({type:Re,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(Ze,Pt){1&Ze&&i.bIt("change",function(Ti){return Pt.onChange(Ti.target.value)})("blur",function(){return Pt.onTouched()})},inputs:{compareWith:"compareWith"},features:[i.Jv_([Dr]),i.Vt3]})}}return Re})(),tr=(()=>{class Re{constructor(de,Ze,Pt){this._element=de,this._renderer=Ze,this._select=Pt,this._select&&(this.id=this._select._registerOption())}set ngValue(de){null!=this._select&&(this._select._optionMap.set(this.id,de),this._setElementValue(Or(this.id,de)),this._select.writeValue(this._select.value))}set value(de){this._setElementValue(de),this._select&&this._select.writeValue(this._select.value)}_setElementValue(de){this._renderer.setProperty(this._element.nativeElement,"value",de)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(Ze){return new(Ze||Re)(i.rXU(i.aKT),i.rXU(i.sFG),i.rXU(er,9))}}static{this.\u0275dir=i.FsC({type:Re,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return Re})();const Gn={provide:h,useExisting:(0,i.Rfq)(()=>as),multi:!0};function Jr(Re,Be){return null==Re?`${Be}`:("string"==typeof Be&&(Be=`'${Be}'`),Be&&"object"==typeof Be&&(Be="Object"),`${Re}: ${Be}`.slice(0,50))}let as=(()=>{class Re extends D{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(de){this._compareWith=de}writeValue(de){let Ze;if(this.value=de,Array.isArray(de)){const Pt=de.map(Hn=>this._getOptionId(Hn));Ze=(Hn,Ti)=>{Hn._setSelected(Pt.indexOf(Ti.toString())>-1)}}else Ze=(Pt,Hn)=>{Pt._setSelected(!1)};this._optionMap.forEach(Ze)}registerOnChange(de){this.onChange=Ze=>{const Pt=[],Hn=Ze.selectedOptions;if(void 0!==Hn){const Ti=Hn;for(let ds=0;ds<Ti.length;ds++){const Zn=this._getOptionValue(Ti[ds].value);Pt.push(Zn)}}else{const Ti=Ze.options;for(let ds=0;ds<Ti.length;ds++){const ws=Ti[ds];if(ws.selected){const Zn=this._getOptionValue(ws.value);Pt.push(Zn)}}}this.value=Pt,de(Pt)}}_registerOption(de){const Ze=(this._idCounter++).toString();return this._optionMap.set(Ze,de),Ze}_getOptionId(de){for(const Ze of this._optionMap.keys())if(this._compareWith(this._optionMap.get(Ze)._value,de))return Ze;return null}_getOptionValue(de){const Ze=function ur(Re){return Re.split(":")[0]}(de);return this._optionMap.has(Ze)?this._optionMap.get(Ze)._value:de}static{this.\u0275fac=(()=>{let de;return function(Pt){return(de||(de=i.xGo(Re)))(Pt||Re)}})()}static{this.\u0275dir=i.FsC({type:Re,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(Ze,Pt){1&Ze&&i.bIt("change",function(Ti){return Pt.onChange(Ti.target)})("blur",function(){return Pt.onTouched()})},inputs:{compareWith:"compareWith"},features:[i.Jv_([Gn]),i.Vt3]})}}return Re})(),ro=(()=>{class Re{constructor(de,Ze,Pt){this._element=de,this._renderer=Ze,this._select=Pt,this._select&&(this.id=this._select._registerOption(this))}set ngValue(de){null!=this._select&&(this._value=de,this._setElementValue(Jr(this.id,de)),this._select.writeValue(this._select.value))}set value(de){this._select?(this._value=de,this._setElementValue(Jr(this.id,de)),this._select.writeValue(this._select.value)):this._setElementValue(de)}_setElementValue(de){this._renderer.setProperty(this._element.nativeElement,"value",de)}_setSelected(de){this._renderer.setProperty(this._element.nativeElement,"selected",de)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(Ze){return new(Ze||Re)(i.rXU(i.aKT),i.rXU(i.sFG),i.rXU(as,9))}}static{this.\u0275dir=i.FsC({type:Re,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return Re})();function wo(Re){return"number"==typeof Re?Re:parseInt(Re,10)}let wr=(()=>{class Re{constructor(){this._validator=re}ngOnChanges(de){if(this.inputName in de){const Ze=this.normalizeInput(de[this.inputName].currentValue);this._enabled=this.enabled(Ze),this._validator=this._enabled?this.createValidator(Ze):re,this._onChange&&this._onChange()}}validate(de){return this._validator(de)}registerOnValidatorChange(de){this._onChange=de}enabled(de){return null!=de}static{this.\u0275fac=function(Ze){return new(Ze||Re)}}static{this.\u0275dir=i.FsC({type:Re,features:[i.OA$]})}}return Re})();const Ma={provide:G,useExisting:(0,i.Rfq)(()=>is),multi:!0};let is=(()=>{class Re extends wr{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=de=>function Ms(Re){return"number"==typeof Re?Re:parseFloat(Re)}(de),this.createValidator=de=>Y(de)}static{this.\u0275fac=(()=>{let de;return function(Pt){return(de||(de=i.xGo(Re)))(Pt||Re)}})()}static{this.\u0275dir=i.FsC({type:Re,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(Ze,Pt){2&Ze&&i.BMQ("min",Pt._enabled?Pt.min:null)},inputs:{min:"min"},features:[i.Jv_([Ma]),i.Vt3]})}}return Re})();const go={provide:G,useExisting:(0,i.Rfq)(()=>rs),multi:!0};let rs=(()=>{class Re extends wr{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=i.L39,this.createValidator=de=>fe}enabled(de){return de}static{this.\u0275fac=(()=>{let de;return function(Pt){return(de||(de=i.xGo(Re)))(Pt||Re)}})()}static{this.\u0275dir=i.FsC({type:Re,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(Ze,Pt){2&Ze&&i.BMQ("required",Pt._enabled?"":null)},inputs:{required:"required"},features:[i.Jv_([go]),i.Vt3]})}}return Re})();const oo={provide:G,useExisting:(0,i.Rfq)(()=>No),multi:!0};let No=(()=>{class Re extends wr{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=de=>wo(de),this.createValidator=de=>ie(de)}static{this.\u0275fac=(()=>{let de;return function(Pt){return(de||(de=i.xGo(Re)))(Pt||Re)}})()}static{this.\u0275dir=i.FsC({type:Re,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(Ze,Pt){2&Ze&&i.BMQ("minlength",Pt._enabled?Pt.minlength:null)},inputs:{minlength:"minlength"},features:[i.Jv_([oo]),i.Vt3]})}}return Re})();const xs={provide:G,useExisting:(0,i.Rfq)(()=>Pr),multi:!0};let Pr=(()=>{class Re extends wr{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=de=>wo(de),this.createValidator=de=>T(de)}static{this.\u0275fac=(()=>{let de;return function(Pt){return(de||(de=i.xGo(Re)))(Pt||Re)}})()}static{this.\u0275dir=i.FsC({type:Re,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(Ze,Pt){2&Ze&&i.BMQ("maxlength",Pt._enabled?Pt.maxlength:null)},inputs:{maxlength:"maxlength"},features:[i.Jv_([xs]),i.Vt3]})}}return Re})(),ks=(()=>{class Re{static{this.\u0275fac=function(Ze){return new(Ze||Re)}}static{this.\u0275mod=i.$C({type:Re})}static{this.\u0275inj=i.G2t({})}}return Re})();class ri extends tn{constructor(Be,de,Ze){super(Pn(de),wi(Ze,de)),this.controls=Be,this._initObservables(),this._setUpdateStrategy(de),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(Be){return this.controls[this._adjustIndex(Be)]}push(Be,de={}){this.controls.push(Be),this._registerControl(Be),this.updateValueAndValidity({emitEvent:de.emitEvent}),this._onCollectionChange()}insert(Be,de,Ze={}){this.controls.splice(Be,0,de),this._registerControl(de),this.updateValueAndValidity({emitEvent:Ze.emitEvent})}removeAt(Be,de={}){let Ze=this._adjustIndex(Be);Ze<0&&(Ze=0),this.controls[Ze]&&this.controls[Ze]._registerOnCollectionChange(()=>{}),this.controls.splice(Ze,1),this.updateValueAndValidity({emitEvent:de.emitEvent})}setControl(Be,de,Ze={}){let Pt=this._adjustIndex(Be);Pt<0&&(Pt=0),this.controls[Pt]&&this.controls[Pt]._registerOnCollectionChange(()=>{}),this.controls.splice(Pt,1),de&&(this.controls.splice(Pt,0,de),this._registerControl(de)),this.updateValueAndValidity({emitEvent:Ze.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(Be,de={}){Nt(this,0,Be),Be.forEach((Ze,Pt)=>{_t(this,!1,Pt),this.at(Pt).setValue(Ze,{onlySelf:!0,emitEvent:de.emitEvent})}),this.updateValueAndValidity(de)}patchValue(Be,de={}){null!=Be&&(Be.forEach((Ze,Pt)=>{this.at(Pt)&&this.at(Pt).patchValue(Ze,{onlySelf:!0,emitEvent:de.emitEvent})}),this.updateValueAndValidity(de))}reset(Be=[],de={}){this._forEachChild((Ze,Pt)=>{Ze.reset(Be[Pt],{onlySelf:!0,emitEvent:de.emitEvent})}),this._updatePristine(de),this._updateTouched(de),this.updateValueAndValidity(de)}getRawValue(){return this.controls.map(Be=>Be.getRawValue())}clear(Be={}){this.controls.length<1||(this._forEachChild(de=>de._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:Be.emitEvent}))}_adjustIndex(Be){return Be<0?Be+this.length:Be}_syncPendingControls(){let Be=this.controls.reduce((de,Ze)=>!!Ze._syncPendingControls()||de,!1);return Be&&this.updateValueAndValidity({onlySelf:!0}),Be}_forEachChild(Be){this.controls.forEach((de,Ze)=>{Be(de,Ze)})}_updateValue(){this.value=this.controls.filter(Be=>Be.enabled||this.disabled).map(Be=>Be.value)}_anyControls(Be){return this.controls.some(de=>de.enabled&&Be(de))}_setUpControls(){this._forEachChild(Be=>this._registerControl(Be))}_allControlsDisabled(){for(const Be of this.controls)if(Be.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(Be){Be.setParent(this),Be._registerOnCollectionChange(this._onCollectionChange)}_find(Be){return this.at(Be)??null}}function yr(Re){return!!Re&&(void 0!==Re.asyncValidators||void 0!==Re.validators||void 0!==Re.updateOn)}let Ks=(()=>{class Re{constructor(){this.useNonNullable=!1}get nonNullable(){const de=new Re;return de.useNonNullable=!0,de}group(de,Ze=null){const Pt=this._reduceControls(de);let Hn={};return yr(Ze)?Hn=Ze:null!==Ze&&(Hn.validators=Ze.validator,Hn.asyncValidators=Ze.asyncValidator),new En(Pt,Hn)}record(de,Ze=null){const Pt=this._reduceControls(de);return new jn(Pt,Ze)}control(de,Ze,Pt){let Hn={};return this.useNonNullable?(yr(Ze)?Hn=Ze:(Hn.validators=Ze,Hn.asyncValidators=Pt),new ht(de,{...Hn,nonNullable:!0})):new ht(de,Ze,Pt)}array(de,Ze,Pt){const Hn=de.map(Ti=>this._createControl(Ti));return new ri(Hn,Ze,Pt)}_reduceControls(de){const Ze={};return Object.keys(de).forEach(Pt=>{Ze[Pt]=this._createControl(de[Pt])}),Ze}_createControl(de){return de instanceof ht||de instanceof tn?de:Array.isArray(de)?this.control(de[0],de.length>1?de[1]:null,de.length>2?de[2]:null):this.control(de)}static{this.\u0275fac=function(Ze){return new(Ze||Re)}}static{this.\u0275prov=i.jDH({token:Re,factory:Re.\u0275fac,providedIn:"root"})}}return Re})(),Wr=(()=>{class Re extends Ks{group(de,Ze=null){return super.group(de,Ze)}control(de,Ze,Pt){return super.control(de,Ze,Pt)}array(de,Ze,Pt){return super.array(de,Ze,Pt)}static{this.\u0275fac=(()=>{let de;return function(Pt){return(de||(de=i.xGo(Re)))(Pt||Re)}})()}static{this.\u0275prov=i.jDH({token:Re,factory:Re.\u0275fac,providedIn:"root"})}}return Re})(),fn=(()=>{class Re{static withConfig(de){return{ngModule:Re,providers:[{provide:dt,useValue:de.callSetDisabledState??Dt}]}}static{this.\u0275fac=function(Ze){return new(Ze||Re)}}static{this.\u0275mod=i.$C({type:Re})}static{this.\u0275inj=i.G2t({imports:[ks]})}}return Re})(),Cs=(()=>{class Re{static withConfig(de){return{ngModule:Re,providers:[{provide:Tr,useValue:de.warnOnNgModelWithFormControl??"always"},{provide:dt,useValue:de.callSetDisabledState??Dt}]}}static{this.\u0275fac=function(Ze){return new(Ze||Re)}}static{this.\u0275mod=i.$C({type:Re})}static{this.\u0275inj=i.G2t({imports:[ks]})}}return Re})()},345:(lt,we,p)=>{"use strict";p.d(we,{B7:()=>ee,Bb:()=>J,hE:()=>st,sG:()=>Mt,up:()=>et});var i=p(4438),e=p(177);class v extends e.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class y extends v{static makeCurrent(){(0,e.ZD)(new y)}onAndCancel(Wt,_t,Nt){return Wt.addEventListener(_t,Nt),()=>{Wt.removeEventListener(_t,Nt)}}dispatchEvent(Wt,_t){Wt.dispatchEvent(_t)}remove(Wt){Wt.parentNode&&Wt.parentNode.removeChild(Wt)}createElement(Wt,_t){return(_t=_t||this.getDefaultDocument()).createElement(Wt)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Wt){return Wt.nodeType===Node.ELEMENT_NODE}isShadowRoot(Wt){return Wt instanceof DocumentFragment}getGlobalEventTarget(Wt,_t){return"window"===_t?window:"document"===_t?Wt:"body"===_t?Wt.body:null}getBaseHref(Wt){const _t=function I(){return w=w||document.querySelector("base"),w?w.getAttribute("href"):null}();return null==_t?null:function D(Rt){return new URL(Rt,document.baseURI).pathname}(_t)}resetBaseElement(){w=null}getUserAgent(){return window.navigator.userAgent}getCookie(Wt){return(0,e._b)(document.cookie,Wt)}}let w=null,f=(()=>{class Rt{build(){return new XMLHttpRequest}static{this.\u0275fac=function(Nt){return new(Nt||Rt)}}static{this.\u0275prov=i.jDH({token:Rt,factory:Rt.\u0275fac})}}return Rt})();const E=new i.nKC("");let F=(()=>{class Rt{constructor(_t,Nt){this._zone=Nt,this._eventNameToPlugin=new Map,_t.forEach(tn=>{tn.manager=this}),this._plugins=_t.slice().reverse()}addEventListener(_t,Nt,tn){return this._findPluginFor(Nt).addEventListener(_t,Nt,tn)}getZone(){return this._zone}_findPluginFor(_t){let Nt=this._eventNameToPlugin.get(_t);if(Nt)return Nt;if(Nt=this._plugins.find(En=>En.supports(_t)),!Nt)throw new i.wOt(5101,!1);return this._eventNameToPlugin.set(_t,Nt),Nt}static{this.\u0275fac=function(Nt){return new(Nt||Rt)(i.KVO(E),i.KVO(i.SKi))}}static{this.\u0275prov=i.jDH({token:Rt,factory:Rt.\u0275fac})}}return Rt})();class L{constructor(Wt){this._doc=Wt}}const _="ng-app-id";let M=(()=>{class Rt{constructor(_t,Nt,tn,En={}){this.doc=_t,this.appId=Nt,this.nonce=tn,this.platformId=En,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,e.Vy)(En),this.resetHostNodes()}addStyles(_t){for(const Nt of _t)1===this.changeUsageCount(Nt,1)&&this.onStyleAdded(Nt)}removeStyles(_t){for(const Nt of _t)this.changeUsageCount(Nt,-1)<=0&&this.onStyleRemoved(Nt)}ngOnDestroy(){const _t=this.styleNodesInDOM;_t&&(_t.forEach(Nt=>Nt.remove()),_t.clear());for(const Nt of this.getAllStyles())this.onStyleRemoved(Nt);this.resetHostNodes()}addHost(_t){this.hostNodes.add(_t);for(const Nt of this.getAllStyles())this.addStyleToHost(_t,Nt)}removeHost(_t){this.hostNodes.delete(_t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(_t){for(const Nt of this.hostNodes)this.addStyleToHost(Nt,_t)}onStyleRemoved(_t){const Nt=this.styleRef;Nt.get(_t)?.elements?.forEach(tn=>tn.remove()),Nt.delete(_t)}collectServerRenderedStyles(){const _t=this.doc.head?.querySelectorAll(`style[${_}="${this.appId}"]`);if(_t?.length){const Nt=new Map;return _t.forEach(tn=>{null!=tn.textContent&&Nt.set(tn.textContent,tn)}),Nt}return null}changeUsageCount(_t,Nt){const tn=this.styleRef;if(tn.has(_t)){const En=tn.get(_t);return En.usage+=Nt,En.usage}return tn.set(_t,{usage:Nt,elements:[]}),Nt}getStyleElement(_t,Nt){const tn=this.styleNodesInDOM,En=tn?.get(Nt);if(En?.parentNode===_t)return tn.delete(Nt),En.removeAttribute(_),En;{const Ln=this.doc.createElement("style");return this.nonce&&Ln.setAttribute("nonce",this.nonce),Ln.textContent=Nt,this.platformIsServer&&Ln.setAttribute(_,this.appId),_t.appendChild(Ln),Ln}}addStyleToHost(_t,Nt){const tn=this.getStyleElement(_t,Nt),En=this.styleRef,Ln=En.get(Nt)?.elements;Ln?Ln.push(tn):En.set(Nt,{elements:[tn],usage:1})}resetHostNodes(){const _t=this.hostNodes;_t.clear(),_t.add(this.doc.head)}static{this.\u0275fac=function(Nt){return new(Nt||Rt)(i.KVO(e.qQ),i.KVO(i.sZ2),i.KVO(i.BIS,8),i.KVO(i.Agw))}}static{this.\u0275prov=i.jDH({token:Rt,factory:Rt.\u0275fac})}}return Rt})();const N={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},P=/%COMP%/g,G="%COMP%",x=`_nghost-${G}`,V=`_ngcontent-${G}`,Y=new i.nKC("",{providedIn:"root",factory:()=>!0});function K(Rt,Wt){return Wt.map(_t=>_t.replace(P,Rt))}let ee=(()=>{class Rt{constructor(_t,Nt,tn,En,Ln,un,ui,jn=null){this.eventManager=_t,this.sharedStylesHost=Nt,this.appId=tn,this.removeStylesOnCompDestroy=En,this.doc=Ln,this.platformId=un,this.ngZone=ui,this.nonce=jn,this.rendererByCompId=new Map,this.platformIsServer=(0,e.Vy)(un),this.defaultRenderer=new ie(_t,Ln,ui,this.platformIsServer)}createRenderer(_t,Nt){if(!_t||!Nt)return this.defaultRenderer;this.platformIsServer&&Nt.encapsulation===i.gXe.ShadowDom&&(Nt={...Nt,encapsulation:i.gXe.Emulated});const tn=this.getOrCreateRenderer(_t,Nt);return tn instanceof Le?tn.applyToHost(_t):tn instanceof Qe&&tn.applyStyles(),tn}getOrCreateRenderer(_t,Nt){const tn=this.rendererByCompId;let En=tn.get(Nt.id);if(!En){const Ln=this.doc,un=this.ngZone,ui=this.eventManager,jn=this.sharedStylesHost,It=this.removeStylesOnCompDestroy,dt=this.platformIsServer;switch(Nt.encapsulation){case i.gXe.Emulated:En=new Le(ui,jn,Nt,this.appId,It,Ln,un,dt);break;case i.gXe.ShadowDom:return new Me(ui,jn,_t,Nt,Ln,un,this.nonce,dt);default:En=new Qe(ui,jn,Nt,It,Ln,un,dt)}tn.set(Nt.id,En)}return En}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(Nt){return new(Nt||Rt)(i.KVO(F),i.KVO(M),i.KVO(i.sZ2),i.KVO(Y),i.KVO(e.qQ),i.KVO(i.Agw),i.KVO(i.SKi),i.KVO(i.BIS))}}static{this.\u0275prov=i.jDH({token:Rt,factory:Rt.\u0275fac})}}return Rt})();class ie{constructor(Wt,_t,Nt,tn){this.eventManager=Wt,this.doc=_t,this.ngZone=Nt,this.platformIsServer=tn,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(Wt,_t){return _t?this.doc.createElementNS(N[_t]||_t,Wt):this.doc.createElement(Wt)}createComment(Wt){return this.doc.createComment(Wt)}createText(Wt){return this.doc.createTextNode(Wt)}appendChild(Wt,_t){(re(Wt)?Wt.content:Wt).appendChild(_t)}insertBefore(Wt,_t,Nt){Wt&&(re(Wt)?Wt.content:Wt).insertBefore(_t,Nt)}removeChild(Wt,_t){Wt&&Wt.removeChild(_t)}selectRootElement(Wt,_t){let Nt="string"==typeof Wt?this.doc.querySelector(Wt):Wt;if(!Nt)throw new i.wOt(-5104,!1);return _t||(Nt.textContent=""),Nt}parentNode(Wt){return Wt.parentNode}nextSibling(Wt){return Wt.nextSibling}setAttribute(Wt,_t,Nt,tn){if(tn){_t=tn+":"+_t;const En=N[tn];En?Wt.setAttributeNS(En,_t,Nt):Wt.setAttribute(_t,Nt)}else Wt.setAttribute(_t,Nt)}removeAttribute(Wt,_t,Nt){if(Nt){const tn=N[Nt];tn?Wt.removeAttributeNS(tn,_t):Wt.removeAttribute(`${Nt}:${_t}`)}else Wt.removeAttribute(_t)}addClass(Wt,_t){Wt.classList.add(_t)}removeClass(Wt,_t){Wt.classList.remove(_t)}setStyle(Wt,_t,Nt,tn){tn&(i.czy.DashCase|i.czy.Important)?Wt.style.setProperty(_t,Nt,tn&i.czy.Important?"important":""):Wt.style[_t]=Nt}removeStyle(Wt,_t,Nt){Nt&i.czy.DashCase?Wt.style.removeProperty(_t):Wt.style[_t]=""}setProperty(Wt,_t,Nt){null!=Wt&&(Wt[_t]=Nt)}setValue(Wt,_t){Wt.nodeValue=_t}listen(Wt,_t,Nt){if("string"==typeof Wt&&!(Wt=(0,e.QT)().getGlobalEventTarget(this.doc,Wt)))throw new Error(`Unsupported event target ${Wt} for event ${_t}`);return this.eventManager.addEventListener(Wt,_t,this.decoratePreventDefault(Nt))}decoratePreventDefault(Wt){return _t=>{if("__ngUnwrap__"===_t)return Wt;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>Wt(_t)):Wt(_t))&&_t.preventDefault()}}}function re(Rt){return"TEMPLATE"===Rt.tagName&&void 0!==Rt.content}class Me extends ie{constructor(Wt,_t,Nt,tn,En,Ln,un,ui){super(Wt,En,Ln,ui),this.sharedStylesHost=_t,this.hostEl=Nt,this.shadowRoot=Nt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const jn=K(tn.id,tn.styles);for(const It of jn){const dt=document.createElement("style");un&&dt.setAttribute("nonce",un),dt.textContent=It,this.shadowRoot.appendChild(dt)}}nodeOrShadowRoot(Wt){return Wt===this.hostEl?this.shadowRoot:Wt}appendChild(Wt,_t){return super.appendChild(this.nodeOrShadowRoot(Wt),_t)}insertBefore(Wt,_t,Nt){return super.insertBefore(this.nodeOrShadowRoot(Wt),_t,Nt)}removeChild(Wt,_t){return super.removeChild(this.nodeOrShadowRoot(Wt),_t)}parentNode(Wt){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Wt)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Qe extends ie{constructor(Wt,_t,Nt,tn,En,Ln,un,ui){super(Wt,En,Ln,un),this.sharedStylesHost=_t,this.removeStylesOnCompDestroy=tn,this.styles=ui?K(ui,Nt.styles):Nt.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Le extends Qe{constructor(Wt,_t,Nt,tn,En,Ln,un,ui){const jn=tn+"-"+Nt.id;super(Wt,_t,Nt,En,Ln,un,ui,jn),this.contentAttr=function le(Rt){return V.replace(P,Rt)}(jn),this.hostAttr=function fe(Rt){return x.replace(P,Rt)}(jn)}applyToHost(Wt){this.applyStyles(),this.setAttribute(Wt,this.hostAttr,"")}createElement(Wt,_t){const Nt=super.createElement(Wt,_t);return super.setAttribute(Nt,this.contentAttr,""),Nt}}let Ne=(()=>{class Rt extends L{constructor(_t){super(_t)}supports(_t){return!0}addEventListener(_t,Nt,tn){return _t.addEventListener(Nt,tn,!1),()=>this.removeEventListener(_t,Nt,tn)}removeEventListener(_t,Nt,tn){return _t.removeEventListener(Nt,tn)}static{this.\u0275fac=function(Nt){return new(Nt||Rt)(i.KVO(e.qQ))}}static{this.\u0275prov=i.jDH({token:Rt,factory:Rt.\u0275fac})}}return Rt})();const Je=["alt","control","meta","shift"],Ee={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},be={alt:Rt=>Rt.altKey,control:Rt=>Rt.ctrlKey,meta:Rt=>Rt.metaKey,shift:Rt=>Rt.shiftKey};let se=(()=>{class Rt extends L{constructor(_t){super(_t)}supports(_t){return null!=Rt.parseEventName(_t)}addEventListener(_t,Nt,tn){const En=Rt.parseEventName(Nt),Ln=Rt.eventCallback(En.fullKey,tn,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,e.QT)().onAndCancel(_t,En.domEventName,Ln))}static parseEventName(_t){const Nt=_t.toLowerCase().split("."),tn=Nt.shift();if(0===Nt.length||"keydown"!==tn&&"keyup"!==tn)return null;const En=Rt._normalizeKey(Nt.pop());let Ln="",un=Nt.indexOf("code");if(un>-1&&(Nt.splice(un,1),Ln="code."),Je.forEach(jn=>{const It=Nt.indexOf(jn);It>-1&&(Nt.splice(It,1),Ln+=jn+".")}),Ln+=En,0!=Nt.length||0===En.length)return null;const ui={};return ui.domEventName=tn,ui.fullKey=Ln,ui}static matchEventFullKeyCode(_t,Nt){let tn=Ee[_t.key]||_t.key,En="";return Nt.indexOf("code.")>-1&&(tn=_t.code,En="code."),!(null==tn||!tn)&&(tn=tn.toLowerCase()," "===tn?tn="space":"."===tn&&(tn="dot"),Je.forEach(Ln=>{Ln!==tn&&(0,be[Ln])(_t)&&(En+=Ln+".")}),En+=tn,En===Nt)}static eventCallback(_t,Nt,tn){return En=>{Rt.matchEventFullKeyCode(En,_t)&&tn.runGuarded(()=>Nt(En))}}static _normalizeKey(_t){return"esc"===_t?"escape":_t}static{this.\u0275fac=function(Nt){return new(Nt||Rt)(i.KVO(e.qQ))}}static{this.\u0275prov=i.jDH({token:Rt,factory:Rt.\u0275fac})}}return Rt})();const Mt=(0,i.oH4)(i.fpN,"browser",[{provide:i.Agw,useValue:e.AJ},{provide:i.PLl,useValue:function pt(){y.makeCurrent()},multi:!0},{provide:e.qQ,useFactory:function hn(){return(0,i.TL$)(document),document},deps:[]}]),xt=new i.nKC(""),z=[{provide:i.e01,useClass:class h{addToWindow(Wt){i.JZv.getAngularTestability=(Nt,tn=!0)=>{const En=Wt.findTestabilityInTree(Nt,tn);if(null==En)throw new i.wOt(5103,!1);return En},i.JZv.getAllAngularTestabilities=()=>Wt.getAllTestabilities(),i.JZv.getAllAngularRootElements=()=>Wt.getAllRootElements(),i.JZv.frameworkStabilizers||(i.JZv.frameworkStabilizers=[]),i.JZv.frameworkStabilizers.push(Nt=>{const tn=i.JZv.getAllAngularTestabilities();let En=tn.length;const Ln=function(){En--,0==En&&Nt()};tn.forEach(un=>{un.whenStable(Ln)})})}findTestabilityInTree(Wt,_t,Nt){return null==_t?null:Wt.getTestability(_t)??(Nt?(0,e.QT)().isShadowRoot(_t)?this.findTestabilityInTree(Wt,_t.host,!0):this.findTestabilityInTree(Wt,_t.parentElement,!0):null)}},deps:[]},{provide:i.WHO,useClass:i.NYb,deps:[i.SKi,i.giA,i.e01]},{provide:i.NYb,useClass:i.NYb,deps:[i.SKi,i.giA,i.e01]}],W=[{provide:i.H8p,useValue:"root"},{provide:i.zcH,useFactory:function vt(){return new i.zcH},deps:[]},{provide:E,useClass:Ne,multi:!0,deps:[e.qQ,i.SKi,i.Agw]},{provide:E,useClass:se,multi:!0,deps:[e.qQ]},ee,M,F,{provide:i._9s,useExisting:ee},{provide:e.N0,useClass:f,deps:[]},[]];let J=(()=>{class Rt{constructor(_t){}static withServerTransition(_t){return{ngModule:Rt,providers:[{provide:i.sZ2,useValue:_t.appId}]}}static{this.\u0275fac=function(Nt){return new(Nt||Rt)(i.KVO(xt,12))}}static{this.\u0275mod=i.$C({type:Rt})}static{this.\u0275inj=i.G2t({providers:[...W,...z],imports:[e.MD,i.Hbi]})}}return Rt})(),st=(()=>{class Rt{constructor(_t){this._doc=_t}getTitle(){return this._doc.title}setTitle(_t){this._doc.title=_t||""}static{this.\u0275fac=function(Nt){return new(Nt||Rt)(i.KVO(e.qQ))}}static{this.\u0275prov=i.jDH({token:Rt,factory:Rt.\u0275fac,providedIn:"root"})}}return Rt})(),et=(()=>{class Rt{static{this.\u0275fac=function(Nt){return new(Nt||Rt)}}static{this.\u0275prov=i.jDH({token:Rt,factory:function(Nt){let tn=null;return tn=Nt?new(Nt||Rt):i.KVO(ft),tn},providedIn:"root"})}}return Rt})(),ft=(()=>{class Rt extends et{constructor(_t){super(),this._doc=_t}sanitize(_t,Nt){if(null==Nt)return null;switch(_t){case i.WPN.NONE:return Nt;case i.WPN.HTML:return(0,i.ZF7)(Nt,"HTML")?(0,i.rcV)(Nt):(0,i.h9k)(this._doc,String(Nt)).toString();case i.WPN.STYLE:return(0,i.ZF7)(Nt,"Style")?(0,i.rcV)(Nt):Nt;case i.WPN.SCRIPT:if((0,i.ZF7)(Nt,"Script"))return(0,i.rcV)(Nt);throw new i.wOt(5200,!1);case i.WPN.URL:return(0,i.ZF7)(Nt,"URL")?(0,i.rcV)(Nt):(0,i.$MX)(String(Nt));case i.WPN.RESOURCE_URL:if((0,i.ZF7)(Nt,"ResourceURL"))return(0,i.rcV)(Nt);throw new i.wOt(5201,!1);default:throw new i.wOt(5202,!1)}}bypassSecurityTrustHtml(_t){return(0,i.Kcf)(_t)}bypassSecurityTrustStyle(_t){return(0,i.cWb)(_t)}bypassSecurityTrustScript(_t){return(0,i.UyX)(_t)}bypassSecurityTrustUrl(_t){return(0,i.osQ)(_t)}bypassSecurityTrustResourceUrl(_t){return(0,i.e5t)(_t)}static{this.\u0275fac=function(Nt){return new(Nt||Rt)(i.KVO(e.qQ))}}static{this.\u0275prov=i.jDH({token:Rt,factory:Rt.\u0275fac,providedIn:"root"})}}return Rt})()},1583:(lt,we,p)=>{"use strict";p.d(we,{nX:()=>Vn,j5:()=>wt,wF:()=>ve,Z:()=>Te,bw:()=>So,b:()=>Et,Ix:()=>hr,Wk:()=>ue,wQ:()=>Ae,iI:()=>vl,n3:()=>Gn});var i=p(4438),e=p(4402),v=p(6648),y=p(7673),w=p(4412),I=p(4572),D=p(9350),h=p(8793),f=p(9030),E=p(1203),F=p(8810),L=p(983),_=p(1985),M=p(8359),N=p(9974),P=p(4360);function G(){return(0,N.N)((S,B)=>{let O=null;S._refCount++;const X=(0,P._)(B,void 0,void 0,void 0,()=>{if(!S||S._refCount<=0||0<--S._refCount)return void(O=null);const pe=S._connection,Ve=O;O=null,pe&&(!Ve||pe===Ve)&&pe.unsubscribe(),B.unsubscribe()});S.subscribe(X),X.closed||(O=S.connect())})}class x extends _.c{constructor(B,O){super(),this.source=B,this.subjectFactory=O,this._subject=null,this._refCount=0,this._connection=null,(0,N.S)(B)&&(this.lift=B.lift)}_subscribe(B){return this.getSubject().subscribe(B)}getSubject(){const B=this._subject;return(!B||B.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:B}=this;this._subject=this._connection=null,B?.unsubscribe()}connect(){let B=this._connection;if(!B){B=this._connection=new M.yU;const O=this.getSubject();B.add(this.source.subscribe((0,P._)(O,void 0,()=>{this._teardown(),O.complete()},X=>{this._teardown(),O.error(X)},()=>this._teardown()))),B.closed&&(this._connection=null,B=M.yU.EMPTY)}return B}refCount(){return G()(this)}}var V=p(1413),Q=p(177),Y=p(6354),le=p(5558),fe=p(6697),K=p(9172),ee=p(5964),ie=p(1397),T=p(1594),ae=p(274),re=p(8141),Me=p(9437),Qe=p(6649),Ne=p(9901);function Je(S){return S<=0?()=>L.w:(0,N.N)((B,O)=>{let X=[];B.subscribe((0,P._)(O,pe=>{X.push(pe),S<X.length&&X.shift()},()=>{for(const pe of X)O.next(pe);O.complete()},void 0,()=>{X=null}))})}var Ee=p(3774),be=p(3669),Oe=p(3703),Ie=p(980),it=p(6977),xe=p(6365),pt=p(345);const vt="primary",hn=Symbol("RouteTitle");class ln{constructor(B){this.params=B||{}}has(B){return Object.prototype.hasOwnProperty.call(this.params,B)}get(B){if(this.has(B)){const O=this.params[B];return Array.isArray(O)?O[0]:O}return null}getAll(B){if(this.has(B)){const O=this.params[B];return Array.isArray(O)?O:[O]}return[]}get keys(){return Object.keys(this.params)}}function Mt(S){return new ln(S)}function xt(S,B,O){const X=O.path.split("/");if(X.length>S.length||"full"===O.pathMatch&&(B.hasChildren()||X.length<S.length))return null;const pe={};for(let Ve=0;Ve<X.length;Ve++){const yt=X[Ve],rn=S[Ve];if(yt.startsWith(":"))pe[yt.substring(1)]=rn;else if(yt!==rn.path)return null}return{consumed:S.slice(0,X.length),posParams:pe}}function W(S,B){const O=S?J(S):void 0,X=B?J(B):void 0;if(!O||!X||O.length!=X.length)return!1;let pe;for(let Ve=0;Ve<O.length;Ve++)if(pe=O[Ve],!_e(S[pe],B[pe]))return!1;return!0}function J(S){return[...Object.keys(S),...Object.getOwnPropertySymbols(S)]}function _e(S,B){if(Array.isArray(S)&&Array.isArray(B)){if(S.length!==B.length)return!1;const O=[...S].sort(),X=[...B].sort();return O.every((pe,Ve)=>X[Ve]===pe)}return S===B}function Ce(S){return S.length>0?S[S.length-1]:null}function st(S){return(0,e.A)(S)?S:(0,i.jNT)(S)?(0,v.H)(Promise.resolve(S)):(0,y.of)(S)}const Fe={exact:function tt(S,B,O){if(!Ue(S.segments,B.segments)||!Yt(S.segments,B.segments,O)||S.numberOfChildren!==B.numberOfChildren)return!1;for(const X in B.children)if(!S.children[X]||!tt(S.children[X],B.children[X],O))return!1;return!0},subset:en},rt={exact:function mt(S,B){return W(S,B)},subset:function $t(S,B){return Object.keys(B).length<=Object.keys(S).length&&Object.keys(B).every(O=>_e(S[O],B[O]))},ignored:()=>!0};function kt(S,B,O){return Fe[O.paths](S.root,B.root,O.matrixParams)&&rt[O.queryParams](S.queryParams,B.queryParams)&&!("exact"===O.fragment&&S.fragment!==B.fragment)}function en(S,B,O){return Ot(S,B,B.segments,O)}function Ot(S,B,O,X){if(S.segments.length>O.length){const pe=S.segments.slice(0,O.length);return!(!Ue(pe,O)||B.hasChildren()||!Yt(pe,O,X))}if(S.segments.length===O.length){if(!Ue(S.segments,O)||!Yt(S.segments,O,X))return!1;for(const pe in B.children)if(!S.children[pe]||!en(S.children[pe],B.children[pe],X))return!1;return!0}{const pe=O.slice(0,S.segments.length),Ve=O.slice(S.segments.length);return!!(Ue(S.segments,pe)&&Yt(S.segments,pe,X)&&S.children[vt])&&Ot(S.children[vt],B,Ve,X)}}function Yt(S,B,O){return B.every((X,pe)=>rt[O](S[pe].parameters,X.parameters))}class je{constructor(B=new oe([],{}),O={},X=null){this.root=B,this.queryParams=O,this.fragment=X}get queryParamMap(){return this._queryParamMap??=Mt(this.queryParams),this._queryParamMap}toString(){return sn.serialize(this)}}class oe{constructor(B,O){this.segments=B,this.children=O,this.parent=null,Object.values(O).forEach(X=>X.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return cn(this)}}class H{constructor(B,O){this.path=B,this.parameters=O}get parameterMap(){return this._parameterMap??=Mt(this.parameters),this._parameterMap}toString(){return Wt(this)}}function Ue(S,B){return S.length===B.length&&S.every((O,X)=>O.path===B[X].path)}let ft=(()=>{class S{static{this.\u0275fac=function(X){return new(X||S)}}static{this.\u0275prov=i.jDH({token:S,factory:()=>new Ft,providedIn:"root"})}}return S})();class Ft{parse(B){const O=new Dt(B);return new je(O.parseRootSegment(),O.parseQueryParams(),O.parseFragment())}serialize(B){const O=`/${In(B.root,!0)}`,X=function Nt(S){const B=Object.entries(S).map(([O,X])=>Array.isArray(X)?X.map(pe=>`${Fn(O)}=${Fn(pe)}`).join("&"):`${Fn(O)}=${Fn(X)}`).filter(O=>O);return B.length?`?${B.join("&")}`:""}(B.queryParams);return`${O}${X}${"string"==typeof B.fragment?`#${function Pn(S){return encodeURI(S)}(B.fragment)}`:""}`}}const sn=new Ft;function cn(S){return S.segments.map(B=>Wt(B)).join("/")}function In(S,B){if(!S.hasChildren())return cn(S);if(B){const O=S.children[vt]?In(S.children[vt],!1):"",X=[];return Object.entries(S.children).forEach(([pe,Ve])=>{pe!==vt&&X.push(`${pe}:${In(Ve,!1)}`)}),X.length>0?`${O}(${X.join("//")})`:O}{const O=function et(S,B){let O=[];return Object.entries(S.children).forEach(([X,pe])=>{X===vt&&(O=O.concat(B(pe,X)))}),Object.entries(S.children).forEach(([X,pe])=>{X!==vt&&(O=O.concat(B(pe,X)))}),O}(S,(X,pe)=>pe===vt?[In(S.children[vt],!1)]:[`${pe}:${In(X,!1)}`]);return 1===Object.keys(S.children).length&&null!=S.children[vt]?`${cn(S)}/${O[0]}`:`${cn(S)}/(${O.join("//")})`}}function An(S){return encodeURIComponent(S).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Fn(S){return An(S).replace(/%3B/gi,";")}function ki(S){return An(S).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function wi(S){return decodeURIComponent(S)}function Rt(S){return wi(S.replace(/\+/g,"%20"))}function Wt(S){return`${ki(S.path)}${function _t(S){return Object.entries(S).map(([B,O])=>`;${ki(B)}=${ki(O)}`).join("")}(S.parameters)}`}const tn=/^[^\/()?;#]+/;function En(S){const B=S.match(tn);return B?B[0]:""}const Ln=/^[^\/()?;=#]+/,ui=/^[^=?&#]+/,It=/^[^&#]+/;class Dt{constructor(B){this.url=B,this.remaining=B}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new oe([],{}):new oe([],this.parseChildren())}parseQueryParams(){const B={};if(this.consumeOptional("?"))do{this.parseQueryParam(B)}while(this.consumeOptional("&"));return B}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const B=[];for(this.peekStartsWith("(")||B.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),B.push(this.parseSegment());let O={};this.peekStartsWith("/(")&&(this.capture("/"),O=this.parseParens(!0));let X={};return this.peekStartsWith("(")&&(X=this.parseParens(!1)),(B.length>0||Object.keys(O).length>0)&&(X[vt]=new oe(B,O)),X}parseSegment(){const B=En(this.remaining);if(""===B&&this.peekStartsWith(";"))throw new i.wOt(4009,!1);return this.capture(B),new H(wi(B),this.parseMatrixParams())}parseMatrixParams(){const B={};for(;this.consumeOptional(";");)this.parseParam(B);return B}parseParam(B){const O=function un(S){const B=S.match(Ln);return B?B[0]:""}(this.remaining);if(!O)return;this.capture(O);let X="";if(this.consumeOptional("=")){const pe=En(this.remaining);pe&&(X=pe,this.capture(X))}B[wi(O)]=wi(X)}parseQueryParam(B){const O=function jn(S){const B=S.match(ui);return B?B[0]:""}(this.remaining);if(!O)return;this.capture(O);let X="";if(this.consumeOptional("=")){const yt=function dt(S){const B=S.match(It);return B?B[0]:""}(this.remaining);yt&&(X=yt,this.capture(X))}const pe=Rt(O),Ve=Rt(X);if(B.hasOwnProperty(pe)){let yt=B[pe];Array.isArray(yt)||(yt=[yt],B[pe]=yt),yt.push(Ve)}else B[pe]=Ve}parseParens(B){const O={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const X=En(this.remaining),pe=this.remaining[X.length];if("/"!==pe&&")"!==pe&&";"!==pe)throw new i.wOt(4010,!1);let Ve;X.indexOf(":")>-1?(Ve=X.slice(0,X.indexOf(":")),this.capture(Ve),this.capture(":")):B&&(Ve=vt);const yt=this.parseChildren();O[Ve]=1===Object.keys(yt).length?yt[vt]:new oe([],yt),this.consumeOptional("//")}return O}peekStartsWith(B){return this.remaining.startsWith(B)}consumeOptional(B){return!!this.peekStartsWith(B)&&(this.remaining=this.remaining.substring(B.length),!0)}capture(B){if(!this.consumeOptional(B))throw new i.wOt(4011,!1)}}function Vt(S){return S.segments.length>0?new oe([],{[vt]:S}):S}function Zt(S){const B={};for(const[X,pe]of Object.entries(S.children)){const Ve=Zt(pe);if(X===vt&&0===Ve.segments.length&&Ve.hasChildren())for(const[yt,rn]of Object.entries(Ve.children))B[yt]=rn;else(Ve.segments.length>0||Ve.hasChildren())&&(B[X]=Ve)}return function gn(S){if(1===S.numberOfChildren&&S.children[vt]){const B=S.children[vt];return new oe(S.segments.concat(B.segments),B.children)}return S}(new oe(S.segments,B))}function mn(S){return S instanceof je}function Tn(S){let B;const pe=Vt(function O(Ve){const yt={};for(const Qt of Ve.children){const On=O(Qt);yt[Qt.outlet]=On}const rn=new oe(Ve.url,yt);return Ve===S&&(B=rn),rn}(S.root));return B??pe}function pn(S,B,O,X){let pe=S;for(;pe.parent;)pe=pe.parent;if(0===B.length)return qn(pe,pe,pe,O,X);const Ve=function Si(S){if("string"==typeof S[0]&&1===S.length&&"/"===S[0])return new Kn(!0,0,S);let B=0,O=!1;const X=S.reduce((pe,Ve,yt)=>{if("object"==typeof Ve&&null!=Ve){if(Ve.outlets){const rn={};return Object.entries(Ve.outlets).forEach(([Qt,On])=>{rn[Qt]="string"==typeof On?On.split("/"):On}),[...pe,{outlets:rn}]}if(Ve.segmentPath)return[...pe,Ve.segmentPath]}return"string"!=typeof Ve?[...pe,Ve]:0===yt?(Ve.split("/").forEach((rn,Qt)=>{0==Qt&&"."===rn||(0==Qt&&""===rn?O=!0:".."===rn?B++:""!=rn&&pe.push(rn))}),pe):[...pe,Ve]},[]);return new Kn(O,B,X)}(B);if(Ve.toRoot())return qn(pe,pe,new oe([],{}),O,X);const yt=function Wi(S,B,O){if(S.isAbsolute)return new pi(B,!0,0);if(!O)return new pi(B,!1,NaN);if(null===O.parent)return new pi(O,!0,0);const X=ai(S.commands[0])?0:1;return function Hi(S,B,O){let X=S,pe=B,Ve=O;for(;Ve>pe;){if(Ve-=pe,X=X.parent,!X)throw new i.wOt(4005,!1);pe=X.segments.length}return new pi(X,!1,pe-Ve)}(O,O.segments.length-1+X,S.numberOfDoubleDots)}(Ve,pe,S),rn=yt.processChildren?St(yt.segmentGroup,yt.index,Ve.commands):qe(yt.segmentGroup,yt.index,Ve.commands);return qn(pe,yt.segmentGroup,rn,O,X)}function ai(S){return"object"==typeof S&&null!=S&&!S.outlets&&!S.segmentPath}function fi(S){return"object"==typeof S&&null!=S&&S.outlets}function qn(S,B,O,X,pe){let yt,Ve={};X&&Object.entries(X).forEach(([Qt,On])=>{Ve[Qt]=Array.isArray(On)?On.map(Oi=>`${Oi}`):`${On}`}),yt=S===B?O:Pi(S,B,O);const rn=Vt(Zt(yt));return new je(rn,Ve,pe)}function Pi(S,B,O){const X={};return Object.entries(S.children).forEach(([pe,Ve])=>{X[pe]=Ve===B?O:Pi(Ve,B,O)}),new oe(S.segments,X)}class Kn{constructor(B,O,X){if(this.isAbsolute=B,this.numberOfDoubleDots=O,this.commands=X,B&&X.length>0&&ai(X[0]))throw new i.wOt(4003,!1);const pe=X.find(fi);if(pe&&pe!==Ce(X))throw new i.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class pi{constructor(B,O,X){this.segmentGroup=B,this.processChildren=O,this.index=X}}function qe(S,B,O){if(S??=new oe([],{}),0===S.segments.length&&S.hasChildren())return St(S,B,O);const X=function We(S,B,O){let X=0,pe=B;const Ve={match:!1,pathIndex:0,commandIndex:0};for(;pe<S.segments.length;){if(X>=O.length)return Ve;const yt=S.segments[pe],rn=O[X];if(fi(rn))break;const Qt=`${rn}`,On=X<O.length-1?O[X+1]:null;if(pe>0&&void 0===Qt)break;if(Qt&&On&&"object"==typeof On&&void 0===On.outlets){if(!Ye(Qt,On,yt))return Ve;X+=2}else{if(!Ye(Qt,{},yt))return Ve;X++}pe++}return{match:!0,pathIndex:pe,commandIndex:X}}(S,B,O),pe=O.slice(X.commandIndex);if(X.match&&X.pathIndex<S.segments.length){const Ve=new oe(S.segments.slice(0,X.pathIndex),{});return Ve.children[vt]=new oe(S.segments.slice(X.pathIndex),S.children),St(Ve,0,pe)}return X.match&&0===pe.length?new oe(S.segments,{}):X.match&&!S.hasChildren()?Gt(S,B,O):X.match?St(S,0,pe):Gt(S,B,O)}function St(S,B,O){if(0===O.length)return new oe(S.segments,{});{const X=function Ei(S){return fi(S[0])?S[0].outlets:{[vt]:S}}(O),pe={};if(Object.keys(X).some(Ve=>Ve!==vt)&&S.children[vt]&&1===S.numberOfChildren&&0===S.children[vt].segments.length){const Ve=St(S.children[vt],B,O);return new oe(S.segments,Ve.children)}return Object.entries(X).forEach(([Ve,yt])=>{"string"==typeof yt&&(yt=[yt]),null!==yt&&(pe[Ve]=qe(S.children[Ve],B,yt))}),Object.entries(S.children).forEach(([Ve,yt])=>{void 0===X[Ve]&&(pe[Ve]=yt)}),new oe(S.segments,pe)}}function Gt(S,B,O){const X=S.segments.slice(0,B);let pe=0;for(;pe<O.length;){const Ve=O[pe];if(fi(Ve)){const Qt=ot(Ve.outlets);return new oe(X,Qt)}if(0===pe&&ai(O[0])){X.push(new H(S.segments[B].path,Ht(O[0]))),pe++;continue}const yt=fi(Ve)?Ve.outlets[vt]:`${Ve}`,rn=pe<O.length-1?O[pe+1]:null;yt&&rn&&ai(rn)?(X.push(new H(yt,Ht(rn))),pe+=2):(X.push(new H(yt,{})),pe++)}return new oe(X,{})}function ot(S){const B={};return Object.entries(S).forEach(([O,X])=>{"string"==typeof X&&(X=[X]),null!==X&&(B[O]=Gt(new oe([],{}),0,X))}),B}function Ht(S){const B={};return Object.entries(S).forEach(([O,X])=>B[O]=`${X}`),B}function Ye(S,B,O){return S==O.path&&W(B,O.parameters)}const Xt="imperative";var ct=function(S){return S[S.NavigationStart=0]="NavigationStart",S[S.NavigationEnd=1]="NavigationEnd",S[S.NavigationCancel=2]="NavigationCancel",S[S.NavigationError=3]="NavigationError",S[S.RoutesRecognized=4]="RoutesRecognized",S[S.ResolveStart=5]="ResolveStart",S[S.ResolveEnd=6]="ResolveEnd",S[S.GuardsCheckStart=7]="GuardsCheckStart",S[S.GuardsCheckEnd=8]="GuardsCheckEnd",S[S.RouteConfigLoadStart=9]="RouteConfigLoadStart",S[S.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",S[S.ChildActivationStart=11]="ChildActivationStart",S[S.ChildActivationEnd=12]="ChildActivationEnd",S[S.ActivationStart=13]="ActivationStart",S[S.ActivationEnd=14]="ActivationEnd",S[S.Scroll=15]="Scroll",S[S.NavigationSkipped=16]="NavigationSkipped",S}(ct||{});class ye{constructor(B,O){this.id=B,this.url=O}}class Te extends ye{constructor(B,O,X="imperative",pe=null){super(B,O),this.type=ct.NavigationStart,this.navigationTrigger=X,this.restoredState=pe}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ve extends ye{constructor(B,O,X){super(B,O),this.urlAfterRedirects=X,this.type=ct.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var ht=function(S){return S[S.Redirect=0]="Redirect",S[S.SupersededByNewNavigation=1]="SupersededByNewNavigation",S[S.NoDataFromResolver=2]="NoDataFromResolver",S[S.GuardRejected=3]="GuardRejected",S}(ht||{}),Ke=function(S){return S[S.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",S[S.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",S}(Ke||{});class wt extends ye{constructor(B,O,X,pe){super(B,O),this.reason=X,this.code=pe,this.type=ct.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class gt extends ye{constructor(B,O,X,pe){super(B,O),this.reason=X,this.code=pe,this.type=ct.NavigationSkipped}}class zt extends ye{constructor(B,O,X,pe){super(B,O),this.error=X,this.target=pe,this.type=ct.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Bn extends ye{constructor(B,O,X,pe){super(B,O),this.urlAfterRedirects=X,this.state=pe,this.type=ct.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ni extends ye{constructor(B,O,X,pe){super(B,O),this.urlAfterRedirects=X,this.state=pe,this.type=ct.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gi extends ye{constructor(B,O,X,pe,Ve){super(B,O),this.urlAfterRedirects=X,this.state=pe,this.shouldActivate=Ve,this.type=ct.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ei extends ye{constructor(B,O,X,pe){super(B,O),this.urlAfterRedirects=X,this.state=pe,this.type=ct.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ji extends ye{constructor(B,O,X,pe){super(B,O),this.urlAfterRedirects=X,this.state=pe,this.type=ct.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pr{constructor(B){this.route=B,this.type=ct.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class $n{constructor(B){this.route=B,this.type=ct.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ii{constructor(B){this.snapshot=B,this.type=ct.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cr{constructor(B){this.snapshot=B,this.type=ct.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ai{constructor(B){this.snapshot=B,this.type=ct.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Nr{constructor(B){this.snapshot=B,this.type=ct.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zs{constructor(B,O,X){this.routerEvent=B,this.position=O,this.anchor=X,this.type=ct.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class _s{}class Us{constructor(B){this.url=B}}class Ws{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new bs,this.attachRef=null}}let bs=(()=>{class S{constructor(){this.contexts=new Map}onChildOutletCreated(O,X){const pe=this.getOrCreateContext(O);pe.outlet=X,this.contexts.set(O,pe)}onChildOutletDestroyed(O){const X=this.getContext(O);X&&(X.outlet=null,X.attachRef=null)}onOutletDeactivated(){const O=this.contexts;return this.contexts=new Map,O}onOutletReAttached(O){this.contexts=O}getOrCreateContext(O){let X=this.getContext(O);return X||(X=new Ws,this.contexts.set(O,X)),X}getContext(O){return this.contexts.get(O)||null}static{this.\u0275fac=function(X){return new(X||S)}}static{this.\u0275prov=i.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})();class Tr{constructor(B){this._root=B}get root(){return this._root.value}parent(B){const O=this.pathFromRoot(B);return O.length>1?O[O.length-2]:null}children(B){const O=Vs(B,this._root);return O?O.children.map(X=>X.value):[]}firstChild(B){const O=Vs(B,this._root);return O&&O.children.length>0?O.children[0].value:null}siblings(B){const O=br(B,this._root);return O.length<2?[]:O[O.length-2].children.map(pe=>pe.value).filter(pe=>pe!==B)}pathFromRoot(B){return br(B,this._root).map(O=>O.value)}}function Vs(S,B){if(S===B.value)return B;for(const O of B.children){const X=Vs(S,O);if(X)return X}return null}function br(S,B){if(S===B.value)return[B];for(const O of B.children){const X=br(S,O);if(X.length)return X.unshift(B),X}return[]}class Cr{constructor(B,O){this.value=B,this.children=O}toString(){return`TreeNode(${this.value})`}}function Ni(S){const B={};return S&&S.children.forEach(O=>B[O.value.outlet]=O),B}class qs extends Tr{constructor(B,O){super(B),this.snapshot=O,Dr(this,B)}toString(){return this.snapshot.toString()}}function si(S){const B=function ia(S){const Ve=new vr([],{},{},"",{},vt,S,null,{});return new Ir("",new Cr(Ve,[]))}(S),O=new w.t([new H("",{})]),X=new w.t({}),pe=new w.t({}),Ve=new w.t({}),yt=new w.t(""),rn=new Vn(O,X,Ve,yt,pe,vt,S,B.root);return rn.snapshot=B.root,new qs(new Cr(rn,[]),B)}class Vn{constructor(B,O,X,pe,Ve,yt,rn,Qt){this.urlSubject=B,this.paramsSubject=O,this.queryParamsSubject=X,this.fragmentSubject=pe,this.dataSubject=Ve,this.outlet=yt,this.component=rn,this._futureSnapshot=Qt,this.title=this.dataSubject?.pipe((0,Y.T)(On=>On[hn]))??(0,y.of)(void 0),this.url=B,this.params=O,this.queryParams=X,this.fragment=pe,this.data=Ve}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,Y.T)(B=>Mt(B))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,Y.T)(B=>Mt(B))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ns(S,B,O="emptyOnly"){let X;const{routeConfig:pe}=S;return X=null===B||"always"!==O&&""!==pe?.path&&(B.component||B.routeConfig?.loadComponent)?{params:{...S.params},data:{...S.data},resolve:{...S.data,...S._resolvedData??{}}}:{params:{...B.params,...S.params},data:{...B.data,...S.data},resolve:{...S.data,...B.data,...pe?.data,...S._resolvedData}},pe&&tr(pe)&&(X.resolve[hn]=pe.title),X}class vr{get title(){return this.data?.[hn]}constructor(B,O,X,pe,Ve,yt,rn,Qt,On){this.url=B,this.params=O,this.queryParams=X,this.fragment=pe,this.data=Ve,this.outlet=yt,this.component=rn,this.routeConfig=Qt,this._resolve=On}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Mt(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Mt(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(X=>X.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ir extends Tr{constructor(B,O){super(O),this.url=B,Dr(this,O)}toString(){return Or(this._root)}}function Dr(S,B){B.value._routerState=S,B.children.forEach(O=>Dr(S,O))}function Or(S){const B=S.children.length>0?` { ${S.children.map(Or).join(", ")} } `:"";return`${S.value}${B}`}function Hr(S){if(S.snapshot){const B=S.snapshot,O=S._futureSnapshot;S.snapshot=O,W(B.queryParams,O.queryParams)||S.queryParamsSubject.next(O.queryParams),B.fragment!==O.fragment&&S.fragmentSubject.next(O.fragment),W(B.params,O.params)||S.paramsSubject.next(O.params),function z(S,B){if(S.length!==B.length)return!1;for(let O=0;O<S.length;++O)if(!W(S[O],B[O]))return!1;return!0}(B.url,O.url)||S.urlSubject.next(O.url),W(B.data,O.data)||S.dataSubject.next(O.data)}else S.snapshot=S._futureSnapshot,S.dataSubject.next(S._futureSnapshot.data)}function er(S,B){const O=W(S.params,B.params)&&function te(S,B){return Ue(S,B)&&S.every((O,X)=>W(O.parameters,B[X].parameters))}(S.url,B.url);return O&&!(!S.parent!=!B.parent)&&(!S.parent||er(S.parent,B.parent))}function tr(S){return"string"==typeof S.title||null===S.title}let Gn=(()=>{class S{constructor(){this.activated=null,this._activatedRoute=null,this.name=vt,this.activateEvents=new i.bkB,this.deactivateEvents=new i.bkB,this.attachEvents=new i.bkB,this.detachEvents=new i.bkB,this.parentContexts=(0,i.WQX)(bs),this.location=(0,i.WQX)(i.c1b),this.changeDetector=(0,i.WQX)(i.gRc),this.environmentInjector=(0,i.WQX)(i.uvJ),this.inputBinder=(0,i.WQX)(ur,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(O){if(O.name){const{firstChange:X,previousValue:pe}=O.name;if(X)return;this.isTrackedInParentContexts(pe)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(pe)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(O){return this.parentContexts.getContext(O)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const O=this.parentContexts.getContext(this.name);O?.route&&(O.attachRef?this.attach(O.attachRef,O.route):this.activateWith(O.route,O.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new i.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new i.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new i.wOt(4012,!1);this.location.detach();const O=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(O.instance),O}attach(O,X){this.activated=O,this._activatedRoute=X,this.location.insert(O.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(O.instance)}deactivate(){if(this.activated){const O=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(O)}}activateWith(O,X){if(this.isActivated)throw new i.wOt(4013,!1);this._activatedRoute=O;const pe=this.location,yt=O.snapshot.component,rn=this.parentContexts.getOrCreateContext(this.name).children,Qt=new Jr(O,rn,pe.injector);this.activated=pe.createComponent(yt,{index:pe.length,injector:Qt,environmentInjector:X??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(X){return new(X||S)}}static{this.\u0275dir=i.FsC({type:S,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[i.OA$]})}}return S})();class Jr{constructor(B,O,X){this.route=B,this.childContexts=O,this.parent=X,this.__ngOutletInjector=!0}get(B,O){return B===Vn?this.route:B===bs?this.childContexts:this.parent.get(B,O)}}const ur=new i.nKC("");let Fr=(()=>{class S{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(O){this.unsubscribeFromRouteData(O),this.subscribeToRouteData(O)}unsubscribeFromRouteData(O){this.outletDataSubscriptions.get(O)?.unsubscribe(),this.outletDataSubscriptions.delete(O)}subscribeToRouteData(O){const{activatedRoute:X}=O,pe=(0,I.z)([X.queryParams,X.params,X.data]).pipe((0,le.n)(([Ve,yt,rn],Qt)=>(rn={...Ve,...yt,...rn},0===Qt?(0,y.of)(rn):Promise.resolve(rn)))).subscribe(Ve=>{if(!O.isActivated||!O.activatedComponentRef||O.activatedRoute!==X||null===X.component)return void this.unsubscribeFromRouteData(O);const yt=(0,i.HJs)(X.component);if(yt)for(const{templateName:rn}of yt.inputs)O.activatedComponentRef.setInput(rn,Ve[rn]);else this.unsubscribeFromRouteData(O)});this.outletDataSubscriptions.set(O,pe)}static{this.\u0275fac=function(X){return new(X||S)}}static{this.\u0275prov=i.jDH({token:S,factory:S.\u0275fac})}}return S})();function ro(S,B,O){if(O&&S.shouldReuseRoute(B.value,O.value.snapshot)){const X=O.value;X._futureSnapshot=B.value;const pe=function wo(S,B,O){return B.children.map(X=>{for(const pe of O.children)if(S.shouldReuseRoute(X.value,pe.value.snapshot))return ro(S,X,pe);return ro(S,X)})}(S,B,O);return new Cr(X,pe)}{if(S.shouldAttach(B.value)){const Ve=S.retrieve(B.value);if(null!==Ve){const yt=Ve.route;return yt.value._futureSnapshot=B.value,yt.children=B.children.map(rn=>ro(S,rn)),yt}}const X=function Ms(S){return new Vn(new w.t(S.url),new w.t(S.params),new w.t(S.queryParams),new w.t(S.fragment),new w.t(S.data),S.outlet,S.component,S)}(B.value),pe=B.children.map(Ve=>ro(S,Ve));return new Cr(X,pe)}}const wr="ngNavigationCancelingError";function ls(S,B){const{redirectTo:O,navigationBehaviorOptions:X}=mn(B)?{redirectTo:B,navigationBehaviorOptions:void 0}:B,pe=cs(!1,ht.Redirect);return pe.url=O,pe.navigationBehaviorOptions=X,pe}function cs(S,B){const O=new Error(`NavigationCancelingError: ${S||""}`);return O[wr]=!0,O.cancellationCode=B,O}function is(S){return!!S&&S[wr]}let go=(()=>{class S{static{this.\u0275fac=function(X){return new(X||S)}}static{this.\u0275cmp=i.VBU({type:S,selectors:[["ng-component"]],standalone:!0,features:[i.aNF],decls:1,vars:0,template:function(X,pe){1&X&&i.nrm(0,"router-outlet")},dependencies:[Gn],encapsulation:2})}}return S})();function sr(S){const B=S.children&&S.children.map(sr),O=B?{...S,children:B}:{...S};return!O.component&&!O.loadComponent&&(B||O.loadChildren)&&O.outlet&&O.outlet!==vt&&(O.component=go),O}function Br(S){return S.outlet||vt}function ao(S){if(!S)return null;if(S.routeConfig?._injector)return S.routeConfig._injector;for(let B=S.parent;B;B=B.parent){const O=B.routeConfig;if(O?._loadedInjector)return O._loadedInjector;if(O?._injector)return O._injector}return null}class ri{constructor(B,O,X,pe,Ve){this.routeReuseStrategy=B,this.futureState=O,this.currState=X,this.forwardEvent=pe,this.inputBindingEnabled=Ve}activate(B){const O=this.futureState._root,X=this.currState?this.currState._root:null;this.deactivateChildRoutes(O,X,B),Hr(this.futureState.root),this.activateChildRoutes(O,X,B)}deactivateChildRoutes(B,O,X){const pe=Ni(O);B.children.forEach(Ve=>{const yt=Ve.value.outlet;this.deactivateRoutes(Ve,pe[yt],X),delete pe[yt]}),Object.values(pe).forEach(Ve=>{this.deactivateRouteAndItsChildren(Ve,X)})}deactivateRoutes(B,O,X){const pe=B.value,Ve=O?O.value:null;if(pe===Ve)if(pe.component){const yt=X.getContext(pe.outlet);yt&&this.deactivateChildRoutes(B,O,yt.children)}else this.deactivateChildRoutes(B,O,X);else Ve&&this.deactivateRouteAndItsChildren(O,X)}deactivateRouteAndItsChildren(B,O){B.value.component&&this.routeReuseStrategy.shouldDetach(B.value.snapshot)?this.detachAndStoreRouteSubtree(B,O):this.deactivateRouteAndOutlet(B,O)}detachAndStoreRouteSubtree(B,O){const X=O.getContext(B.value.outlet),pe=X&&B.value.component?X.children:O,Ve=Ni(B);for(const yt of Object.values(Ve))this.deactivateRouteAndItsChildren(yt,pe);if(X&&X.outlet){const yt=X.outlet.detach(),rn=X.children.onOutletDeactivated();this.routeReuseStrategy.store(B.value.snapshot,{componentRef:yt,route:B,contexts:rn})}}deactivateRouteAndOutlet(B,O){const X=O.getContext(B.value.outlet),pe=X&&B.value.component?X.children:O,Ve=Ni(B);for(const yt of Object.values(Ve))this.deactivateRouteAndItsChildren(yt,pe);X&&(X.outlet&&(X.outlet.deactivate(),X.children.onOutletDeactivated()),X.attachRef=null,X.route=null)}activateChildRoutes(B,O,X){const pe=Ni(O);B.children.forEach(Ve=>{this.activateRoutes(Ve,pe[Ve.value.outlet],X),this.forwardEvent(new Nr(Ve.value.snapshot))}),B.children.length&&this.forwardEvent(new cr(B.value.snapshot))}activateRoutes(B,O,X){const pe=B.value,Ve=O?O.value:null;if(Hr(pe),pe===Ve)if(pe.component){const yt=X.getOrCreateContext(pe.outlet);this.activateChildRoutes(B,O,yt.children)}else this.activateChildRoutes(B,O,X);else if(pe.component){const yt=X.getOrCreateContext(pe.outlet);if(this.routeReuseStrategy.shouldAttach(pe.snapshot)){const rn=this.routeReuseStrategy.retrieve(pe.snapshot);this.routeReuseStrategy.store(pe.snapshot,null),yt.children.onOutletReAttached(rn.contexts),yt.attachRef=rn.componentRef,yt.route=rn.route.value,yt.outlet&&yt.outlet.attach(rn.componentRef,rn.route.value),Hr(rn.route.value),this.activateChildRoutes(B,null,yt.children)}else{const rn=ao(pe.snapshot);yt.attachRef=null,yt.route=pe,yt.injector=rn,yt.outlet&&yt.outlet.activateWith(pe,yt.injector),this.activateChildRoutes(B,null,yt.children)}}else this.activateChildRoutes(B,null,X)}}class Qr{constructor(B){this.path=B,this.route=this.path[this.path.length-1]}}class zs{constructor(B,O){this.component=B,this.route=O}}function yr(S,B,O){const X=S._root;return Wr(X,B?B._root:null,O,[X.value])}function jr(S,B){const O=Symbol(),X=B.get(S,O);return X===O?"function"!=typeof S||(0,i.LfX)(S)?B.get(S):S:X}function Wr(S,B,O,X,pe={canDeactivateChecks:[],canActivateChecks:[]}){const Ve=Ni(B);return S.children.forEach(yt=>{(function Zr(S,B,O,X,pe={canDeactivateChecks:[],canActivateChecks:[]}){const Ve=S.value,yt=B?B.value:null,rn=O?O.getContext(S.value.outlet):null;if(yt&&Ve.routeConfig===yt.routeConfig){const Qt=function fn(S,B,O){if("function"==typeof O)return O(S,B);switch(O){case"pathParamsChange":return!Ue(S.url,B.url);case"pathParamsOrQueryParamsChange":return!Ue(S.url,B.url)||!W(S.queryParams,B.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!er(S,B)||!W(S.queryParams,B.queryParams);default:return!er(S,B)}}(yt,Ve,Ve.routeConfig.runGuardsAndResolvers);Qt?pe.canActivateChecks.push(new Qr(X)):(Ve.data=yt.data,Ve._resolvedData=yt._resolvedData),Wr(S,B,Ve.component?rn?rn.children:null:O,X,pe),Qt&&rn&&rn.outlet&&rn.outlet.isActivated&&pe.canDeactivateChecks.push(new zs(rn.outlet.component,yt))}else yt&&Cs(B,rn,pe),pe.canActivateChecks.push(new Qr(X)),Wr(S,null,Ve.component?rn?rn.children:null:O,X,pe)})(yt,Ve[yt.value.outlet],O,X.concat([yt.value]),pe),delete Ve[yt.value.outlet]}),Object.entries(Ve).forEach(([yt,rn])=>Cs(rn,O.getContext(yt),pe)),pe}function Cs(S,B,O){const X=Ni(S),pe=S.value;Object.entries(X).forEach(([Ve,yt])=>{Cs(yt,pe.component?B?B.children.getContext(Ve):null:B,O)}),O.canDeactivateChecks.push(new zs(pe.component&&B&&B.outlet&&B.outlet.isActivated?B.outlet.component:null,pe))}function Re(S){return"function"==typeof S}function ds(S){return S instanceof D.G||"EmptyError"===S?.name}const ws=Symbol("INITIAL_VALUE");function Zn(){return(0,le.n)(S=>(0,I.z)(S.map(B=>B.pipe((0,fe.s)(1),(0,K.Z)(ws)))).pipe((0,Y.T)(B=>{for(const O of B)if(!0!==O){if(O===ws)return ws;if(!1===O||O instanceof je)return O}return!0}),(0,ee.p)(B=>B!==ws),(0,fe.s)(1)))}function xn(S){return(0,E.F)((0,re.M)(B=>{if(mn(B))throw ls(0,B)}),(0,Y.T)(B=>!0===B))}class zr{constructor(B){this.segmentGroup=B||null}}class li extends Error{constructor(B){super(),this.urlTree=B}}function hs(S){return(0,F.$)(new zr(S))}class Bi{constructor(B,O){this.urlSerializer=B,this.urlTree=O}lineralizeSegments(B,O){let X=[],pe=O.root;for(;;){if(X=X.concat(pe.segments),0===pe.numberOfChildren)return(0,y.of)(X);if(pe.numberOfChildren>1||!pe.children[vt])return(0,F.$)(new i.wOt(4e3,!1));pe=pe.children[vt]}}applyRedirectCommands(B,O,X){const pe=this.applyRedirectCreateUrlTree(O,this.urlSerializer.parse(O),B,X);if(O.startsWith("/"))throw new li(pe);return pe}applyRedirectCreateUrlTree(B,O,X,pe){const Ve=this.createSegmentGroup(B,O.root,X,pe);return new je(Ve,this.createQueryParams(O.queryParams,this.urlTree.queryParams),O.fragment)}createQueryParams(B,O){const X={};return Object.entries(B).forEach(([pe,Ve])=>{if("string"==typeof Ve&&Ve.startsWith(":")){const rn=Ve.substring(1);X[pe]=O[rn]}else X[pe]=Ve}),X}createSegmentGroup(B,O,X,pe){const Ve=this.createSegments(B,O.segments,X,pe);let yt={};return Object.entries(O.children).forEach(([rn,Qt])=>{yt[rn]=this.createSegmentGroup(B,Qt,X,pe)}),new oe(Ve,yt)}createSegments(B,O,X,pe){return O.map(Ve=>Ve.path.startsWith(":")?this.findPosParam(B,Ve,pe):this.findOrReturn(Ve,X))}findPosParam(B,O,X){const pe=X[O.path.substring(1)];if(!pe)throw new i.wOt(4001,!1);return pe}findOrReturn(B,O){let X=0;for(const pe of O){if(pe.path===B.path)return O.splice(X),pe;X++}return B}}const Ki={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ss(S,B,O,X,pe){const Ve=js(S,B,O);return Ve.matched?(X=function nr(S,B){return S.providers&&!S._injector&&(S._injector=(0,i.Ol2)(S.providers,B,`Route: ${S.path}`)),S._injector??B}(B,X),function dr(S,B,O,X){const pe=B.canMatch;if(!pe||0===pe.length)return(0,y.of)(!0);const Ve=pe.map(yt=>{const rn=jr(yt,S);return st(function Ti(S){return S&&Re(S.canMatch)}(rn)?rn.canMatch(B,O):(0,i.N4e)(S,()=>rn(B,O)))});return(0,y.of)(Ve).pipe(Zn(),xn())}(X,B,O).pipe((0,Y.T)(yt=>!0===yt?Ve:{...Ki}))):(0,y.of)(Ve)}function js(S,B,O){if("**"===B.path)return function _r(S){return{matched:!0,parameters:S.length>0?Ce(S).parameters:{},consumedSegments:S,remainingSegments:[],positionalParamSegments:{}}}(O);if(""===B.path)return"full"===B.pathMatch&&(S.hasChildren()||O.length>0)?{...Ki}:{matched:!0,consumedSegments:[],remainingSegments:O,parameters:{},positionalParamSegments:{}};const pe=(B.matcher||xt)(O,S,B);if(!pe)return{...Ki};const Ve={};Object.entries(pe.posParams??{}).forEach(([rn,Qt])=>{Ve[rn]=Qt.path});const yt=pe.consumed.length>0?{...Ve,...pe.consumed[pe.consumed.length-1].parameters}:Ve;return{matched:!0,consumedSegments:pe.consumed,remainingSegments:O.slice(pe.consumed.length),parameters:yt,positionalParamSegments:pe.posParams??{}}}function bn(S,B,O,X){return O.length>0&&function ml(S,B,O){return O.some(X=>Po(S,B,X)&&Br(X)!==vt)}(S,O,X)?{segmentGroup:new oe(B,Fo(X,new oe(O,S.children))),slicedSegments:[]}:0===O.length&&function gl(S,B,O){return O.some(X=>Po(S,B,X))}(S,O,X)?{segmentGroup:new oe(S.segments,Ri(S,O,X,S.children)),slicedSegments:O}:{segmentGroup:new oe(S.segments,S.children),slicedSegments:O}}function Ri(S,B,O,X){const pe={};for(const Ve of O)if(Po(S,B,Ve)&&!X[Br(Ve)]){const yt=new oe([],{});pe[Br(Ve)]=yt}return{...X,...pe}}function Fo(S,B){const O={};O[vt]=B;for(const X of S)if(""===X.path&&Br(X)!==vt){const pe=new oe([],{});O[Br(X)]=pe}return O}function Po(S,B,O){return(!(S.hasChildren()||B.length>0)||"full"!==O.pathMatch)&&""===O.path}class pa{}class Lr{constructor(B,O,X,pe,Ve,yt,rn){this.injector=B,this.configLoader=O,this.rootComponentType=X,this.config=pe,this.urlTree=Ve,this.paramsInheritanceStrategy=yt,this.urlSerializer=rn,this.applyRedirects=new Bi(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(B){return new i.wOt(4002,`'${B.segmentGroup}'`)}recognize(){const B=bn(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(B).pipe((0,Y.T)(O=>{const X=new vr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},vt,this.rootComponentType,null,{}),pe=new Cr(X,O),Ve=new Ir("",pe),yt=function zn(S,B,O=null,X=null){return pn(Tn(S),B,O,X)}(X,[],this.urlTree.queryParams,this.urlTree.fragment);return yt.queryParams=this.urlTree.queryParams,Ve.url=this.urlSerializer.serialize(yt),this.inheritParamsAndData(Ve._root,null),{state:Ve,tree:yt}}))}match(B){return this.processSegmentGroup(this.injector,this.config,B,vt).pipe((0,Me.W)(X=>{if(X instanceof li)return this.urlTree=X.urlTree,this.match(X.urlTree.root);throw X instanceof zr?this.noMatchError(X):X}))}inheritParamsAndData(B,O){const X=B.value,pe=ns(X,O,this.paramsInheritanceStrategy);X.params=Object.freeze(pe.params),X.data=Object.freeze(pe.data),B.children.forEach(Ve=>this.inheritParamsAndData(Ve,X))}processSegmentGroup(B,O,X,pe){return 0===X.segments.length&&X.hasChildren()?this.processChildren(B,O,X):this.processSegment(B,O,X,X.segments,pe,!0).pipe((0,Y.T)(Ve=>Ve instanceof Cr?[Ve]:[]))}processChildren(B,O,X){const pe=[];for(const Ve of Object.keys(X.children))"primary"===Ve?pe.unshift(Ve):pe.push(Ve);return(0,v.H)(pe).pipe((0,ae.H)(Ve=>{const yt=X.children[Ve],rn=function us(S,B){const O=S.filter(X=>Br(X)===B);return O.push(...S.filter(X=>Br(X)!==B)),O}(O,Ve);return this.processSegmentGroup(B,rn,yt,Ve)}),function Le(S,B){return(0,N.N)((0,Qe.S)(S,B,arguments.length>=2,!0))}((Ve,yt)=>(Ve.push(...yt),Ve)),(0,Ne.U)(null),function se(S,B){const O=arguments.length>=2;return X=>X.pipe(S?(0,ee.p)((pe,Ve)=>S(pe,Ve,X)):be.D,Je(1),O?(0,Ne.U)(B):(0,Ee.v)(()=>new D.G))}(),(0,ie.Z)(Ve=>{if(null===Ve)return hs(X);const yt=Ja(Ve);return function Wo(S){S.sort((B,O)=>B.value.outlet===vt?-1:O.value.outlet===vt?1:B.value.outlet.localeCompare(O.value.outlet))}(yt),(0,y.of)(yt)}))}processSegment(B,O,X,pe,Ve,yt){return(0,v.H)(O).pipe((0,ae.H)(rn=>this.processSegmentAgainstRoute(rn._injector??B,O,rn,X,pe,Ve,yt).pipe((0,Me.W)(Qt=>{if(Qt instanceof zr)return(0,y.of)(null);throw Qt}))),(0,T.$)(rn=>!!rn),(0,Me.W)(rn=>{if(ds(rn))return function $s(S,B,O){return 0===B.length&&!S.children[O]}(X,pe,Ve)?(0,y.of)(new pa):hs(X);throw rn}))}processSegmentAgainstRoute(B,O,X,pe,Ve,yt,rn){return function Ho(S,B,O,X){return!!(Br(S)===X||X!==vt&&Po(B,O,S))&&js(B,S,O).matched}(X,pe,Ve,yt)?void 0===X.redirectTo?this.matchSegmentAgainstRoute(B,pe,X,Ve,yt):this.allowRedirects&&rn?this.expandSegmentAgainstRouteUsingRedirect(B,pe,O,X,Ve,yt):hs(pe):hs(pe)}expandSegmentAgainstRouteUsingRedirect(B,O,X,pe,Ve,yt){const{matched:rn,consumedSegments:Qt,positionalParamSegments:On,remainingSegments:Oi}=js(O,pe,Ve);if(!rn)return hs(O);pe.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const Fi=this.applyRedirects.applyRedirectCommands(Qt,pe.redirectTo,On);return this.applyRedirects.lineralizeSegments(pe,Fi).pipe((0,ie.Z)(fr=>this.processSegment(B,X,O,fr.concat(Oi),yt,!1)))}matchSegmentAgainstRoute(B,O,X,pe,Ve){const yt=ss(O,X,pe,B);return"**"===X.path&&(O.children={}),yt.pipe((0,le.n)(rn=>rn.matched?this.getChildConfig(B=X._injector??B,X,pe).pipe((0,le.n)(({routes:Qt})=>{const On=X._loadedInjector??B,{consumedSegments:Oi,remainingSegments:Fi,parameters:fr}=rn,Ys=new vr(Oi,fr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function zo(S){return S.data||{}}(X),Br(X),X.component??X._loadedComponent??null,X,function Bo(S){return S.resolve||{}}(X)),{segmentGroup:Ps,slicedSegments:Fa}=bn(O,Oi,Fi,Qt);if(0===Fa.length&&Ps.hasChildren())return this.processChildren(On,Qt,Ps).pipe((0,Y.T)(to=>null===to?null:new Cr(Ys,to)));if(0===Qt.length&&0===Fa.length)return(0,y.of)(new Cr(Ys,[]));const sc=Br(X)===Ve;return this.processSegment(On,Qt,Ps,Fa,sc?vt:Ve,!0).pipe((0,Y.T)(to=>new Cr(Ys,to instanceof Cr?[to]:[])))})):hs(O)))}getChildConfig(B,O,X){return O.children?(0,y.of)({routes:O.children,injector:B}):O.loadChildren?void 0!==O._loadedRoutes?(0,y.of)({routes:O._loadedRoutes,injector:O._loadedInjector}):function yi(S,B,O,X){const pe=B.canLoad;if(void 0===pe||0===pe.length)return(0,y.of)(!0);const Ve=pe.map(yt=>{const rn=jr(yt,S);return st(function de(S){return S&&Re(S.canLoad)}(rn)?rn.canLoad(B,O):(0,i.N4e)(S,()=>rn(B,O)))});return(0,y.of)(Ve).pipe(Zn(),xn())}(B,O,X).pipe((0,ie.Z)(pe=>pe?this.configLoader.loadChildren(B,O).pipe((0,re.M)(Ve=>{O._loadedRoutes=Ve.routes,O._loadedInjector=Ve.injector})):function Oo(S){return(0,F.$)(cs(!1,ht.GuardRejected))}())):(0,y.of)({routes:[],injector:B})}}function ms(S){const B=S.value.routeConfig;return B&&""===B.path}function Ja(S){const B=[],O=new Set;for(const X of S){if(!ms(X)){B.push(X);continue}const pe=B.find(Ve=>X.value.routeConfig===Ve.value.routeConfig);void 0!==pe?(pe.children.push(...X.children),O.add(pe)):B.push(X)}for(const X of O){const pe=Ja(X.children);B.push(new Cr(X.value,pe))}return B.filter(X=>!O.has(X))}function Za(S){const B=S.children.map(O=>Za(O)).flat();return[S,...B]}function vo(S){return(0,le.n)(B=>{const O=S(B);return O?(0,v.H)(O).pipe((0,Y.T)(()=>B)):(0,y.of)(B)})}let Ns=(()=>{class S{buildTitle(O){let X,pe=O.root;for(;void 0!==pe;)X=this.getResolvedTitleForRoute(pe)??X,pe=pe.children.find(Ve=>Ve.outlet===vt);return X}getResolvedTitleForRoute(O){return O.data[hn]}static{this.\u0275fac=function(X){return new(X||S)}}static{this.\u0275prov=i.jDH({token:S,factory:()=>(0,i.WQX)(eo),providedIn:"root"})}}return S})(),eo=(()=>{class S extends Ns{constructor(O){super(),this.title=O}updateTitle(O){const X=this.buildTitle(O);void 0!==X&&this.title.setTitle(X)}static{this.\u0275fac=function(X){return new(X||S)(i.KVO(pt.hE))}}static{this.\u0275prov=i.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})();const Ko=new i.nKC("",{providedIn:"root",factory:()=>({})}),So=new i.nKC("");let qr=(()=>{class S{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,i.WQX)(i.Ql9)}loadComponent(O){if(this.componentLoaders.get(O))return this.componentLoaders.get(O);if(O._loadedComponent)return(0,y.of)(O._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(O);const X=st(O.loadComponent()).pipe((0,Y.T)(ma),(0,re.M)(Ve=>{this.onLoadEndListener&&this.onLoadEndListener(O),O._loadedComponent=Ve}),(0,Ie.j)(()=>{this.componentLoaders.delete(O)})),pe=new x(X,()=>new V.B).pipe(G());return this.componentLoaders.set(O,pe),pe}loadChildren(O,X){if(this.childrenLoaders.get(X))return this.childrenLoaders.get(X);if(X._loadedRoutes)return(0,y.of)({routes:X._loadedRoutes,injector:X._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(X);const Ve=function gs(S,B,O,X){return st(S.loadChildren()).pipe((0,Y.T)(ma),(0,ie.Z)(pe=>pe instanceof i.Co$||Array.isArray(pe)?(0,y.of)(pe):(0,v.H)(B.compileModuleAsync(pe))),(0,Y.T)(pe=>{X&&X(S);let Ve,yt,rn=!1;return Array.isArray(pe)?(yt=pe,!0):(Ve=pe.create(O).injector,yt=Ve.get(So,[],{optional:!0,self:!0}).flat()),{routes:yt.map(sr),injector:Ve}}))}(X,this.compiler,O,this.onLoadEndListener).pipe((0,Ie.j)(()=>{this.childrenLoaders.delete(X)})),yt=new x(Ve,()=>new V.B).pipe(G());return this.childrenLoaders.set(X,yt),yt}static{this.\u0275fac=function(X){return new(X||S)}}static{this.\u0275prov=i.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})();function ma(S){return function el(S){return S&&"object"==typeof S&&"default"in S}(S)?S.default:S}let lo=(()=>{class S{static{this.\u0275fac=function(X){return new(X||S)}}static{this.\u0275prov=i.jDH({token:S,factory:()=>(0,i.WQX)(Os),providedIn:"root"})}}return S})(),Os=(()=>{class S{shouldProcessUrl(O){return!0}extract(O){return O}merge(O,X){return O}static{this.\u0275fac=function(X){return new(X||S)}}static{this.\u0275prov=i.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})();const Mi=new i.nKC(""),Es=new i.nKC("");function Z(S,B,O){const X=S.get(Es),pe=S.get(Q.qQ);return S.get(i.SKi).runOutsideAngular(()=>{if(!pe.startViewTransition||X.skipNextTransition)return X.skipNextTransition=!1,Promise.resolve();let Ve;const yt=new Promise(On=>{Ve=On}),rn=pe.startViewTransition(()=>(Ve(),function ze(S){return new Promise(B=>{(0,i.mal)(B,{injector:S})})}(S))),{onViewTransitionCreated:Qt}=X;return Qt&&(0,i.N4e)(S,()=>Qt({transition:rn,from:B,to:O})),yt})}let ce=(()=>{class S{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new V.B,this.transitionAbortSubject=new V.B,this.configLoader=(0,i.WQX)(qr),this.environmentInjector=(0,i.WQX)(i.uvJ),this.urlSerializer=(0,i.WQX)(ft),this.rootContexts=(0,i.WQX)(bs),this.location=(0,i.WQX)(Q.aZ),this.inputBindingEnabled=null!==(0,i.WQX)(ur,{optional:!0}),this.titleStrategy=(0,i.WQX)(Ns),this.options=(0,i.WQX)(Ko,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,i.WQX)(lo),this.createViewTransition=(0,i.WQX)(Mi,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,y.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=pe=>this.events.next(new $n(pe)),this.configLoader.onLoadStartListener=pe=>this.events.next(new pr(pe))}complete(){this.transitions?.complete()}handleNavigationRequest(O){const X=++this.navigationId;this.transitions?.next({...this.transitions.value,...O,id:X})}setupNavigations(O,X,pe){return this.transitions=new w.t({id:0,currentUrlTree:X,currentRawUrl:X,extractedUrl:this.urlHandlingStrategy.extract(X),urlAfterRedirects:this.urlHandlingStrategy.extract(X),rawUrl:X,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Xt,restoredState:null,currentSnapshot:pe.snapshot,targetSnapshot:null,currentRouterState:pe,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,ee.p)(Ve=>0!==Ve.id),(0,Y.T)(Ve=>({...Ve,extractedUrl:this.urlHandlingStrategy.extract(Ve.rawUrl)})),(0,le.n)(Ve=>{let yt=!1,rn=!1;return(0,y.of)(Ve).pipe((0,le.n)(Qt=>{if(this.navigationId>Ve.id)return this.cancelNavigationTransition(Ve,"",ht.SupersededByNewNavigation),L.w;this.currentTransition=Ve,this.currentNavigation={id:Qt.id,initialUrl:Qt.rawUrl,extractedUrl:Qt.extractedUrl,trigger:Qt.source,extras:Qt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const On=!O.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!On&&"reload"!==(Qt.extras.onSameUrlNavigation??O.onSameUrlNavigation)){const Fi="";return this.events.next(new gt(Qt.id,this.urlSerializer.serialize(Qt.rawUrl),Fi,Ke.IgnoredSameUrlNavigation)),Qt.resolve(null),L.w}if(this.urlHandlingStrategy.shouldProcessUrl(Qt.rawUrl))return(0,y.of)(Qt).pipe((0,le.n)(Fi=>{const fr=this.transitions?.getValue();return this.events.next(new Te(Fi.id,this.urlSerializer.serialize(Fi.extractedUrl),Fi.source,Fi.restoredState)),fr!==this.transitions?.getValue()?L.w:Promise.resolve(Fi)}),function Qa(S,B,O,X,pe,Ve){return(0,ie.Z)(yt=>function Ar(S,B,O,X,pe,Ve,yt="emptyOnly"){return new Lr(S,B,O,X,pe,yt,Ve).recognize()}(S,B,O,X,yt.extractedUrl,pe,Ve).pipe((0,Y.T)(({state:rn,tree:Qt})=>({...yt,targetSnapshot:rn,urlAfterRedirects:Qt}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,O.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,re.M)(Fi=>{Ve.targetSnapshot=Fi.targetSnapshot,Ve.urlAfterRedirects=Fi.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Fi.urlAfterRedirects};const fr=new Bn(Fi.id,this.urlSerializer.serialize(Fi.extractedUrl),this.urlSerializer.serialize(Fi.urlAfterRedirects),Fi.targetSnapshot);this.events.next(fr)}));if(On&&this.urlHandlingStrategy.shouldProcessUrl(Qt.currentRawUrl)){const{id:Fi,extractedUrl:fr,source:Ys,restoredState:Ps,extras:Fa}=Qt,sc=new Te(Fi,this.urlSerializer.serialize(fr),Ys,Ps);this.events.next(sc);const to=si(this.rootComponentType).snapshot;return this.currentTransition=Ve={...Qt,targetSnapshot:to,urlAfterRedirects:fr,extras:{...Fa,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=fr,(0,y.of)(Ve)}{const Fi="";return this.events.next(new gt(Qt.id,this.urlSerializer.serialize(Qt.extractedUrl),Fi,Ke.IgnoredByUrlHandlingStrategy)),Qt.resolve(null),L.w}}),(0,re.M)(Qt=>{const On=new ni(Qt.id,this.urlSerializer.serialize(Qt.extractedUrl),this.urlSerializer.serialize(Qt.urlAfterRedirects),Qt.targetSnapshot);this.events.next(On)}),(0,Y.T)(Qt=>(this.currentTransition=Ve={...Qt,guards:yr(Qt.targetSnapshot,Qt.currentSnapshot,this.rootContexts)},Ve)),function De(S,B){return(0,ie.Z)(O=>{const{targetSnapshot:X,currentSnapshot:pe,guards:{canActivateChecks:Ve,canDeactivateChecks:yt}}=O;return 0===yt.length&&0===Ve.length?(0,y.of)({...O,guardsResult:!0}):function Xe(S,B,O,X){return(0,v.H)(S).pipe((0,ie.Z)(pe=>function Rn(S,B,O,X,pe){const Ve=B&&B.routeConfig?B.routeConfig.canDeactivate:null;if(!Ve||0===Ve.length)return(0,y.of)(!0);const yt=Ve.map(rn=>{const Qt=ao(B)??pe,On=jr(rn,Qt);return st(function Hn(S){return S&&Re(S.canDeactivate)}(On)?On.canDeactivate(S,B,O,X):(0,i.N4e)(Qt,()=>On(S,B,O,X))).pipe((0,T.$)())});return(0,y.of)(yt).pipe(Zn())}(pe.component,pe.route,O,B,X)),(0,T.$)(pe=>!0!==pe,!0))}(yt,X,pe,S).pipe((0,ie.Z)(rn=>rn&&function Be(S){return"boolean"==typeof S}(rn)?function bt(S,B,O,X){return(0,v.H)(B).pipe((0,ae.H)(pe=>(0,h.x)(function Bt(S,B){return null!==S&&B&&B(new ii(S)),(0,y.of)(!0)}(pe.route.parent,X),function Tt(S,B){return null!==S&&B&&B(new Ai(S)),(0,y.of)(!0)}(pe.route,X),function Jt(S,B,O){const X=B[B.length-1],Ve=B.slice(0,B.length-1).reverse().map(yt=>function Ks(S){const B=S.routeConfig?S.routeConfig.canActivateChild:null;return B&&0!==B.length?{node:S,guards:B}:null}(yt)).filter(yt=>null!==yt).map(yt=>(0,f.v)(()=>{const rn=yt.guards.map(Qt=>{const On=ao(yt.node)??O,Oi=jr(Qt,On);return st(function Pt(S){return S&&Re(S.canActivateChild)}(Oi)?Oi.canActivateChild(X,S):(0,i.N4e)(On,()=>Oi(X,S))).pipe((0,T.$)())});return(0,y.of)(rn).pipe(Zn())}));return(0,y.of)(Ve).pipe(Zn())}(S,pe.path,O),function Ct(S,B,O){const X=B.routeConfig?B.routeConfig.canActivate:null;if(!X||0===X.length)return(0,y.of)(!0);const pe=X.map(Ve=>(0,f.v)(()=>{const yt=ao(B)??O,rn=jr(Ve,yt);return st(function Ze(S){return S&&Re(S.canActivate)}(rn)?rn.canActivate(B,S):(0,i.N4e)(yt,()=>rn(B,S))).pipe((0,T.$)())}));return(0,y.of)(pe).pipe(Zn())}(S,pe.route,O))),(0,T.$)(pe=>!0!==pe,!0))}(X,Ve,S,B):(0,y.of)(rn)),(0,Y.T)(rn=>({...O,guardsResult:rn})))})}(this.environmentInjector,Qt=>this.events.next(Qt)),(0,re.M)(Qt=>{if(Ve.guardsResult=Qt.guardsResult,mn(Qt.guardsResult))throw ls(0,Qt.guardsResult);const On=new gi(Qt.id,this.urlSerializer.serialize(Qt.extractedUrl),this.urlSerializer.serialize(Qt.urlAfterRedirects),Qt.targetSnapshot,!!Qt.guardsResult);this.events.next(On)}),(0,ee.p)(Qt=>!!Qt.guardsResult||(this.cancelNavigationTransition(Qt,"",ht.GuardRejected),!1)),vo(Qt=>{if(Qt.guards.canActivateChecks.length)return(0,y.of)(Qt).pipe((0,re.M)(On=>{const Oi=new ei(On.id,this.urlSerializer.serialize(On.extractedUrl),this.urlSerializer.serialize(On.urlAfterRedirects),On.targetSnapshot);this.events.next(Oi)}),(0,le.n)(On=>{let Oi=!1;return(0,y.of)(On).pipe(function ka(S,B){return(0,ie.Z)(O=>{const{targetSnapshot:X,guards:{canActivateChecks:pe}}=O;if(!pe.length)return(0,y.of)(O);const Ve=new Set(pe.map(Qt=>Qt.route)),yt=new Set;for(const Qt of Ve)if(!yt.has(Qt))for(const On of Za(Qt))yt.add(On);let rn=0;return(0,v.H)(yt).pipe((0,ae.H)(Qt=>Ve.has(Qt)?function qa(S,B,O,X){const pe=S.routeConfig,Ve=S._resolve;return void 0!==pe?.title&&!tr(pe)&&(Ve[hn]=pe.title),function Ss(S,B,O,X){const pe=J(S);if(0===pe.length)return(0,y.of)({});const Ve={};return(0,v.H)(pe).pipe((0,ie.Z)(yt=>function Rr(S,B,O,X){const pe=ao(B)??X,Ve=jr(S,pe);return st(Ve.resolve?Ve.resolve(B,O):(0,i.N4e)(pe,()=>Ve(B,O)))}(S[yt],B,O,X).pipe((0,T.$)(),(0,re.M)(rn=>{Ve[yt]=rn}))),Je(1),(0,Oe.u)(Ve),(0,Me.W)(yt=>ds(yt)?L.w:(0,F.$)(yt)))}(Ve,S,B,X).pipe((0,Y.T)(yt=>(S._resolvedData=yt,S.data=ns(S,S.parent,O).resolve,null)))}(Qt,X,S,B):(Qt.data=ns(Qt,Qt.parent,S).resolve,(0,y.of)(void 0))),(0,re.M)(()=>rn++),Je(1),(0,ie.Z)(Qt=>rn===yt.size?(0,y.of)(O):L.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,re.M)({next:()=>Oi=!0,complete:()=>{Oi||this.cancelNavigationTransition(On,"",ht.NoDataFromResolver)}}))}),(0,re.M)(On=>{const Oi=new ji(On.id,this.urlSerializer.serialize(On.extractedUrl),this.urlSerializer.serialize(On.urlAfterRedirects),On.targetSnapshot);this.events.next(Oi)}))}),vo(Qt=>{const On=Oi=>{const Fi=[];Oi.routeConfig?.loadComponent&&!Oi.routeConfig._loadedComponent&&Fi.push(this.configLoader.loadComponent(Oi.routeConfig).pipe((0,re.M)(fr=>{Oi.component=fr}),(0,Y.T)(()=>{})));for(const fr of Oi.children)Fi.push(...On(fr));return Fi};return(0,I.z)(On(Qt.targetSnapshot.root)).pipe((0,Ne.U)(null),(0,fe.s)(1))}),vo(()=>this.afterPreactivation()),(0,le.n)(()=>{const{currentSnapshot:Qt,targetSnapshot:On}=Ve,Oi=this.createViewTransition?.(this.environmentInjector,Qt.root,On.root);return Oi?(0,v.H)(Oi).pipe((0,Y.T)(()=>Ve)):(0,y.of)(Ve)}),(0,Y.T)(Qt=>{const On=function as(S,B,O){const X=ro(S,B._root,O?O._root:void 0);return new qs(X,B)}(O.routeReuseStrategy,Qt.targetSnapshot,Qt.currentRouterState);return this.currentTransition=Ve={...Qt,targetRouterState:On},this.currentNavigation.targetRouterState=On,Ve}),(0,re.M)(()=>{this.events.next(new _s)}),((S,B,O,X)=>(0,Y.T)(pe=>(new ri(B,pe.targetRouterState,pe.currentRouterState,O,X).activate(S),pe)))(this.rootContexts,O.routeReuseStrategy,Qt=>this.events.next(Qt),this.inputBindingEnabled),(0,fe.s)(1),(0,re.M)({next:Qt=>{yt=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ve(Qt.id,this.urlSerializer.serialize(Qt.extractedUrl),this.urlSerializer.serialize(Qt.urlAfterRedirects))),this.titleStrategy?.updateTitle(Qt.targetRouterState.snapshot),Qt.resolve(!0)},complete:()=>{yt=!0}}),(0,it.Q)(this.transitionAbortSubject.pipe((0,re.M)(Qt=>{throw Qt}))),(0,Ie.j)(()=>{!yt&&!rn&&this.cancelNavigationTransition(Ve,"",ht.SupersededByNewNavigation),this.currentTransition?.id===Ve.id&&(this.currentNavigation=null,this.currentTransition=null)}),(0,Me.W)(Qt=>{if(rn=!0,is(Qt))this.events.next(new wt(Ve.id,this.urlSerializer.serialize(Ve.extractedUrl),Qt.message,Qt.cancellationCode)),function Ma(S){return is(S)&&mn(S.url)}(Qt)?this.events.next(new Us(Qt.url)):Ve.resolve(!1);else{this.events.next(new zt(Ve.id,this.urlSerializer.serialize(Ve.extractedUrl),Qt,Ve.targetSnapshot??void 0));try{Ve.resolve(O.errorHandler(Qt))}catch(On){this.options.resolveNavigationPromiseOnError?Ve.resolve(!1):Ve.reject(On)}}return L.w}))}))}cancelNavigationTransition(O,X,pe){const Ve=new wt(O.id,this.urlSerializer.serialize(O.extractedUrl),X,pe);this.events.next(Ve),O.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(X){return new(X||S)}}static{this.\u0275prov=i.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})();function ke(S){return S!==Xt}let Et=(()=>{class S{static{this.\u0275fac=function(X){return new(X||S)}}static{this.\u0275prov=i.jDH({token:S,factory:()=>(0,i.WQX)(Cn),providedIn:"root"})}}return S})();class dn{shouldDetach(B){return!1}store(B,O){}shouldAttach(B){return!1}retrieve(B){return null}shouldReuseRoute(B,O){return B.routeConfig===O.routeConfig}}let Cn=(()=>{class S extends dn{static{this.\u0275fac=(()=>{let O;return function(pe){return(O||(O=i.xGo(S)))(pe||S)}})()}static{this.\u0275prov=i.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})(),Xn=(()=>{class S{static{this.\u0275fac=function(X){return new(X||S)}}static{this.\u0275prov=i.jDH({token:S,factory:()=>(0,i.WQX)(mr),providedIn:"root"})}}return S})(),mr=(()=>{class S extends Xn{constructor(){super(...arguments),this.location=(0,i.WQX)(Q.aZ),this.urlSerializer=(0,i.WQX)(ft),this.options=(0,i.WQX)(Ko,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,i.WQX)(lo),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new je,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=si(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(O){return this.location.subscribe(X=>{"popstate"===X.type&&O(X.url,X.state)})}handleRouterEvent(O,X){if(O instanceof Te)this.stateMemento=this.createStateMemento();else if(O instanceof gt)this.rawUrlTree=X.initialUrl;else if(O instanceof Bn){if("eager"===this.urlUpdateStrategy&&!X.extras.skipLocationChange){const pe=this.urlHandlingStrategy.merge(X.finalUrl,X.initialUrl);this.setBrowserUrl(pe,X)}}else O instanceof _s?(this.currentUrlTree=X.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(X.finalUrl,X.initialUrl),this.routerState=X.targetRouterState,"deferred"===this.urlUpdateStrategy&&(X.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,X))):O instanceof wt&&(O.code===ht.GuardRejected||O.code===ht.NoDataFromResolver)?this.restoreHistory(X):O instanceof zt?this.restoreHistory(X,!0):O instanceof ve&&(this.lastSuccessfulId=O.id,this.currentPageId=this.browserPageId)}setBrowserUrl(O,X){const pe=this.urlSerializer.serialize(O);if(this.location.isCurrentPathEqualTo(pe)||X.extras.replaceUrl){const yt={...X.extras.state,...this.generateNgRouterState(X.id,this.browserPageId)};this.location.replaceState(pe,"",yt)}else{const Ve={...X.extras.state,...this.generateNgRouterState(X.id,this.browserPageId+1)};this.location.go(pe,"",Ve)}}restoreHistory(O,X=!1){if("computed"===this.canceledNavigationResolution){const Ve=this.currentPageId-this.browserPageId;0!==Ve?this.location.historyGo(Ve):this.currentUrlTree===O.finalUrl&&0===Ve&&(this.resetState(O),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(X&&this.resetState(O),this.resetUrlToCurrentUrlTree())}resetState(O){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,O.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(O,X){return"computed"===this.canceledNavigationResolution?{navigationId:O,\u0275routerPageId:X}:{navigationId:O}}static{this.\u0275fac=(()=>{let O;return function(pe){return(O||(O=i.xGo(S)))(pe||S)}})()}static{this.\u0275prov=i.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})();var or=function(S){return S[S.COMPLETE=0]="COMPLETE",S[S.FAILED=1]="FAILED",S[S.REDIRECTING=2]="REDIRECTING",S}(or||{});function Xi(S,B){S.events.pipe((0,ee.p)(O=>O instanceof ve||O instanceof wt||O instanceof zt||O instanceof gt),(0,Y.T)(O=>O instanceof ve||O instanceof gt?or.COMPLETE:O instanceof wt&&(O.code===ht.Redirect||O.code===ht.SupersededByNewNavigation)?or.REDIRECTING:or.FAILED),(0,ee.p)(O=>O!==or.REDIRECTING),(0,fe.s)(1)).subscribe(()=>{B()})}function Gi(S){throw S}const ti={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ji={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let hr=(()=>{class S{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=(0,i.WQX)(i.H3F),this.stateManager=(0,i.WQX)(Xn),this.options=(0,i.WQX)(Ko,{optional:!0})||{},this.pendingTasks=(0,i.WQX)(i.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,i.WQX)(ce),this.urlSerializer=(0,i.WQX)(ft),this.location=(0,i.WQX)(Q.aZ),this.urlHandlingStrategy=(0,i.WQX)(lo),this._events=new V.B,this.errorHandler=this.options.errorHandler||Gi,this.navigated=!1,this.routeReuseStrategy=(0,i.WQX)(Et),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,i.WQX)(So,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,i.WQX)(ur,{optional:!0}),this.eventsSubscription=new M.yU,this.isNgZoneEnabled=(0,i.WQX)(i.SKi)instanceof i.SKi&&i.SKi.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:O=>{this.console.warn(O)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const O=this.navigationTransitions.events.subscribe(X=>{try{const pe=this.navigationTransitions.currentTransition,Ve=this.navigationTransitions.currentNavigation;if(null!==pe&&null!==Ve)if(this.stateManager.handleRouterEvent(X,Ve),X instanceof wt&&X.code!==ht.Redirect&&X.code!==ht.SupersededByNewNavigation)this.navigated=!0;else if(X instanceof ve)this.navigated=!0;else if(X instanceof Us){const yt=this.urlHandlingStrategy.merge(X.url,pe.currentRawUrl),rn={info:pe.extras.info,skipLocationChange:pe.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ke(pe.source)};this.scheduleNavigation(yt,Xt,null,rn,{resolve:pe.resolve,reject:pe.reject,promise:pe.promise})}(function k(S){return!(S instanceof _s||S instanceof Us)})(X)&&this._events.next(X)}catch(pe){this.navigationTransitions.transitionAbortSubject.next(pe)}});this.eventsSubscription.add(O)}resetRootComponentType(O){this.routerState.root.component=O,this.navigationTransitions.rootComponentType=O}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Xt,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((O,X)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(O,"popstate",X)},0)})}navigateToSyncWithBrowser(O,X,pe){const Ve={replaceUrl:!0},yt=pe?.navigationId?pe:null;if(pe){const Qt={...pe};delete Qt.navigationId,delete Qt.\u0275routerPageId,0!==Object.keys(Qt).length&&(Ve.state=Qt)}const rn=this.parseUrl(O);this.scheduleNavigation(rn,X,yt,Ve)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(O){this.config=O.map(sr),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(O,X={}){const{relativeTo:pe,queryParams:Ve,fragment:yt,queryParamsHandling:rn,preserveFragment:Qt}=X,On=Qt?this.currentUrlTree.fragment:yt;let Fi,Oi=null;switch(rn){case"merge":Oi={...this.currentUrlTree.queryParams,...Ve};break;case"preserve":Oi=this.currentUrlTree.queryParams;break;default:Oi=Ve||null}null!==Oi&&(Oi=this.removeEmptyProps(Oi));try{Fi=Tn(pe?pe.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof O[0]||!O[0].startsWith("/"))&&(O=[]),Fi=this.currentUrlTree.root}return pn(Fi,O,Oi,On??null)}navigateByUrl(O,X={skipLocationChange:!1}){const pe=mn(O)?O:this.parseUrl(O),Ve=this.urlHandlingStrategy.merge(pe,this.rawUrlTree);return this.scheduleNavigation(Ve,Xt,null,X)}navigate(O,X={skipLocationChange:!1}){return function he(S){for(let B=0;B<S.length;B++)if(null==S[B])throw new i.wOt(4008,!1)}(O),this.navigateByUrl(this.createUrlTree(O,X),X)}serializeUrl(O){return this.urlSerializer.serialize(O)}parseUrl(O){try{return this.urlSerializer.parse(O)}catch{return this.urlSerializer.parse("/")}}isActive(O,X){let pe;if(pe=!0===X?{...ti}:!1===X?{...Ji}:X,mn(O))return kt(this.currentUrlTree,O,pe);const Ve=this.parseUrl(O);return kt(this.currentUrlTree,Ve,pe)}removeEmptyProps(O){return Object.entries(O).reduce((X,[pe,Ve])=>(null!=Ve&&(X[pe]=Ve),X),{})}scheduleNavigation(O,X,pe,Ve,yt){if(this.disposed)return Promise.resolve(!1);let rn,Qt,On;yt?(rn=yt.resolve,Qt=yt.reject,On=yt.promise):On=new Promise((Fi,fr)=>{rn=Fi,Qt=fr});const Oi=this.pendingTasks.add();return Xi(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Oi))}),this.navigationTransitions.handleNavigationRequest({source:X,restoredState:pe,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:O,extras:Ve,resolve:rn,reject:Qt,promise:On,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),On.catch(Fi=>Promise.reject(Fi))}static{this.\u0275fac=function(X){return new(X||S)}}static{this.\u0275prov=i.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})(),ue=(()=>{class S{constructor(O,X,pe,Ve,yt,rn){this.router=O,this.route=X,this.tabIndexAttribute=pe,this.renderer=Ve,this.el=yt,this.locationStrategy=rn,this.href=null,this.commands=null,this.onChanges=new V.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const Qt=yt.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Qt||"area"===Qt,this.isAnchorElement?this.subscription=O.events.subscribe(On=>{On instanceof ve&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(O){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",O)}ngOnChanges(O){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(O){null!=O?(this.commands=Array.isArray(O)?O:[O],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(O,X,pe,Ve,yt){const rn=this.urlTree;return!!(null===rn||this.isAnchorElement&&(0!==O||X||pe||Ve||yt||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(rn,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const O=this.urlTree;this.href=null!==O&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(O)):null;const X=null===this.href?null:(0,i.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",X)}applyAttributeValue(O,X){const pe=this.renderer,Ve=this.el.nativeElement;null!==X?pe.setAttribute(Ve,O,X):pe.removeAttribute(Ve,O)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(X){return new(X||S)(i.rXU(hr),i.rXU(Vn),i.kS0("tabindex"),i.rXU(i.sFG),i.rXU(i.aKT),i.rXU(Q.hb))}}static{this.\u0275dir=i.FsC({type:S,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(X,pe){1&X&&i.bIt("click",function(yt){return pe.onClick(yt.button,yt.ctrlKey,yt.shiftKey,yt.altKey,yt.metaKey)}),2&X&&i.BMQ("target",pe.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[i.Mj6.HasDecoratorInputTransform,"preserveFragment","preserveFragment",i.L39],skipLocationChange:[i.Mj6.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",i.L39],replaceUrl:[i.Mj6.HasDecoratorInputTransform,"replaceUrl","replaceUrl",i.L39],routerLink:"routerLink"},standalone:!0,features:[i.GFd,i.OA$]})}}return S})(),Ae=(()=>{class S{get isActive(){return this._isActive}constructor(O,X,pe,Ve,yt){this.router=O,this.element=X,this.renderer=pe,this.cdr=Ve,this.link=yt,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new i.bkB,this.routerEventsSubscription=O.events.subscribe(rn=>{rn instanceof ve&&this.update()})}ngAfterContentInit(){(0,y.of)(this.links.changes,(0,y.of)(null)).pipe((0,xe.U)()).subscribe(O=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const O=[...this.links.toArray(),this.link].filter(X=>!!X).map(X=>X.onChanges);this.linkInputChangesSubscription=(0,v.H)(O).pipe((0,xe.U)()).subscribe(X=>{this._isActive!==this.isLinkActive(this.router)(X)&&this.update()})}set routerLinkActive(O){const X=Array.isArray(O)?O:O.split(" ");this.classes=X.filter(pe=>!!pe)}ngOnChanges(O){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const O=this.hasActiveLinks();this.classes.forEach(X=>{O?this.renderer.addClass(this.element.nativeElement,X):this.renderer.removeClass(this.element.nativeElement,X)}),O&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==O&&(this._isActive=O,this.cdr.markForCheck(),this.isActiveChange.emit(O))})}isLinkActive(O){const X=function nt(S){return!!S.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return pe=>{const Ve=pe.urlTree;return!!Ve&&O.isActive(Ve,X)}}hasActiveLinks(){const O=this.isLinkActive(this.router);return this.link&&O(this.link)||this.links.some(O)}static{this.\u0275fac=function(X){return new(X||S)(i.rXU(hr),i.rXU(i.aKT),i.rXU(i.sFG),i.rXU(i.gRc),i.rXU(ue,8))}}static{this.\u0275dir=i.FsC({type:S,selectors:[["","routerLinkActive",""]],contentQueries:function(X,pe,Ve){if(1&X&&i.wni(Ve,ue,5),2&X){let yt;i.mGM(yt=i.lsd())&&(pe.links=yt)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[i.OA$]})}}return S})();class At{}let nn=(()=>{class S{constructor(O,X,pe,Ve,yt){this.router=O,this.injector=pe,this.preloadingStrategy=Ve,this.loader=yt}setUpPreloading(){this.subscription=this.router.events.pipe((0,ee.p)(O=>O instanceof ve),(0,ae.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(O,X){const pe=[];for(const Ve of X){Ve.providers&&!Ve._injector&&(Ve._injector=(0,i.Ol2)(Ve.providers,O,`Route: ${Ve.path}`));const yt=Ve._injector??O,rn=Ve._loadedInjector??yt;(Ve.loadChildren&&!Ve._loadedRoutes&&void 0===Ve.canLoad||Ve.loadComponent&&!Ve._loadedComponent)&&pe.push(this.preloadConfig(yt,Ve)),(Ve.children||Ve._loadedRoutes)&&pe.push(this.processRoutes(rn,Ve.children??Ve._loadedRoutes))}return(0,v.H)(pe).pipe((0,xe.U)())}preloadConfig(O,X){return this.preloadingStrategy.preload(X,()=>{let pe;pe=X.loadChildren&&void 0===X.canLoad?this.loader.loadChildren(O,X):(0,y.of)(null);const Ve=pe.pipe((0,ie.Z)(yt=>null===yt?(0,y.of)(void 0):(X._loadedRoutes=yt.routes,X._loadedInjector=yt.injector,this.processRoutes(yt.injector??O,yt.routes))));if(X.loadComponent&&!X._loadedComponent){const yt=this.loader.loadComponent(X);return(0,v.H)([Ve,yt]).pipe((0,xe.U)())}return Ve})}static{this.\u0275fac=function(X){return new(X||S)(i.KVO(hr),i.KVO(i.Ql9),i.KVO(i.uvJ),i.KVO(At),i.KVO(qr))}}static{this.\u0275prov=i.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})();const _n=new i.nKC("");let Jn=(()=>{class S{constructor(O,X,pe,Ve,yt={}){this.urlSerializer=O,this.transitions=X,this.viewportScroller=pe,this.zone=Ve,this.options=yt,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},yt.scrollPositionRestoration||="disabled",yt.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(O=>{O instanceof Te?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=O.navigationTrigger,this.restoredId=O.restoredState?O.restoredState.navigationId:0):O instanceof ve?(this.lastId=O.id,this.scheduleScrollEvent(O,this.urlSerializer.parse(O.urlAfterRedirects).fragment)):O instanceof gt&&O.code===Ke.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(O,this.urlSerializer.parse(O.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(O=>{O instanceof Zs&&(O.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(O.position):O.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(O.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(O,X){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Zs(O,"popstate"===this.lastSource?this.store[this.restoredId]:null,X))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(X){i.QTQ()}}static{this.\u0275prov=i.jDH({token:S,factory:S.\u0275fac})}}return S})();function mi(S,B){return{\u0275kind:S,\u0275providers:B}}function fs(){const S=(0,i.WQX)(i.zZn);return B=>{const O=S.get(i.o8S);if(B!==O.components[0])return;const X=S.get(hr),pe=S.get(Yo);1===S.get(Na)&&X.initialNavigation(),S.get(xi,null,i.$GK.Optional)?.setUpPreloading(),S.get(_n,null,i.$GK.Optional)?.init(),X.resetRootComponentType(O.componentTypes[0]),pe.closed||(pe.next(),pe.complete(),pe.unsubscribe())}}const Yo=new i.nKC("",{factory:()=>new V.B}),Na=new i.nKC("",{providedIn:"root",factory:()=>1}),xi=new i.nKC("");function Oa(S){return mi(0,[{provide:xi,useExisting:nn},{provide:At,useExisting:S}])}function Is(S){return mi(9,[{provide:Mi,useValue:Z},{provide:Es,useValue:{skipNextTransition:!!S?.skipInitialTransition,...S}}])}const Di=new i.nKC("ROUTER_FORROOT_GUARD"),os=[Q.aZ,{provide:ft,useClass:Ft},hr,bs,{provide:Vn,useFactory:function Sr(S){return S.routerState.root},deps:[hr]},qr,[]];let vl=(()=>{class S{constructor(O){}static forRoot(O,X){return{ngModule:S,providers:[os,[],{provide:So,multi:!0,useValue:O},{provide:Di,useFactory:yl,deps:[[hr,new i.Xx1,new i.kdw]]},{provide:Ko,useValue:X||{}},X?.useHash?{provide:Q.hb,useClass:Q.fw}:{provide:Q.hb,useClass:Q.Sm},{provide:_n,useFactory:()=>{const S=(0,i.WQX)(Q.Xr),B=(0,i.WQX)(i.SKi),O=(0,i.WQX)(Ko),X=(0,i.WQX)(ce),pe=(0,i.WQX)(ft);return O.scrollOffset&&S.setOffset(O.scrollOffset),new Jn(pe,X,S,B,O)}},X?.preloadingStrategy?Oa(X.preloadingStrategy).\u0275providers:[],X?.initialNavigation?rc(X):[],X?.bindToComponentInputs?mi(8,[Fr,{provide:ur,useExisting:Fr}]).\u0275providers:[],X?.enableViewTransitions?Is().\u0275providers:[],[{provide:Pe,useFactory:fs},{provide:i.iLQ,multi:!0,useExisting:Pe}]]}}static forChild(O){return{ngModule:S,providers:[{provide:So,multi:!0,useValue:O}]}}static{this.\u0275fac=function(X){return new(X||S)(i.KVO(Di,8))}}static{this.\u0275mod=i.$C({type:S})}static{this.\u0275inj=i.G2t({})}}return S})();function yl(S){return"guarded"}function rc(S){return["disabled"===S.initialNavigation?mi(3,[{provide:i.hnV,multi:!0,useFactory:()=>{const B=(0,i.WQX)(hr);return()=>{B.setUpLocationChangeListener()}}},{provide:Na,useValue:2}]).\u0275providers:[],"enabledBlocking"===S.initialNavigation?mi(2,[{provide:Na,useValue:0},{provide:i.hnV,multi:!0,deps:[i.zZn],useFactory:B=>{const O=B.get(Q.hj,Promise.resolve());return()=>O.then(()=>new Promise(X=>{const pe=B.get(hr),Ve=B.get(Yo);Xi(pe,()=>{X(!0)}),B.get(ce).afterPreactivation=()=>(X(!0),Ve.closed?(0,y.of)(void 0):Ve),pe.initialNavigation()}))}}]).\u0275providers:[]]}const Pe=new i.nKC("")},7005:(lt,we,p)=>{"use strict";p.d(we,{xq:()=>be,XE:()=>_e,tl:()=>ln,QG:()=>vt,wY:()=>Je});var i=p(4438),e=p(1583),v=p(9350),y=p(7707),I=p(1985),D=p(1413),h=p(2771),f=p(7673),E=p(6648),F=p(4402),L=p(5964),_=p(9974),M=p(4360),P=p(1397),G=p(6354),x=p(1780),V=p(177),Q=p(1626);const Y=new i.nKC("LOCALIZE_ROUTER_FORROOT_GUARD"),le=new i.nKC("RAW_ROUTES");var fe=function(rt){return rt.LocalStorage="LocalStorage",rt.SessionStorage="SessionStorage",rt.Cookie="Cookie",rt}(fe||{});const K=new i.nKC("USE_CACHED_LANG"),ee=new i.nKC("CACHE_MECHANISM"),ie=new i.nKC("CACHE_NAME"),T=new i.nKC("COOKIE_FORMAT"),ae=new i.nKC("INITIAL_NAVIGATION"),re=new i.nKC("DEFAULT_LANG_FUNCTION"),Me=new i.nKC("ALWAYS_SET_PREFIX");let Je=(()=>{class rt{constructor(mt=!0,tt=!0,$t=fe.LocalStorage,en="LOCALIZE_DEFAULT_LANGUAGE",Ot=void 0,Yt="{{value}};{{expires}}",je=!1){this.useCachedLang=mt,this.alwaysSetPrefix=tt,this.cacheName=en,this.cookieFormat=Yt,this.initialNavigation=je,this.cacheMechanism=$t,this.defaultLangFunction=Ot}}return rt.\u0275fac=function(mt){return new(mt||rt)(i.KVO(K),i.KVO(Me),i.KVO(ee),i.KVO(ie),i.KVO(re),i.KVO(T),i.KVO(ae))},rt.\u0275prov=i.jDH({token:rt,factory:rt.\u0275fac}),rt})(),be=(()=>{class rt{constructor(mt,tt,$t){this.translate=mt,this.location=tt,this.settings=$t}init(mt){let tt;if(this.routes=mt,!this.locales||!this.locales.length)return Promise.resolve();const $t=this.getLocationLang(),en=this._getBrowserLang();this.defaultLang=this.settings.defaultLangFunction?this.settings.defaultLangFunction(this.locales,this._cachedLang,en):this._cachedLang||en||this.locales[0],tt=$t||this.defaultLang,this.translate.setDefaultLang(this.defaultLang);let Ot=[];if(this.settings.alwaysSetPrefix){const Yt={path:"",redirectTo:this.defaultLang,pathMatch:"full"},je=mt.findIndex(oe=>"**"===oe.path);-1!==je&&(this._wildcardRoute=mt.splice(je,1)[0]),Ot=this.routes.splice(0,this.routes.length,Yt)}else Ot=[...this.routes];for(let Yt=Ot.length-1;Yt>=0;Yt--)Ot[Yt].data&&Ot[Yt].data.skipRouteLocalization&&(this.settings.alwaysSetPrefix&&this.routes.push(Ot[Yt]),(void 0===Ot[Yt].redirectTo||!Ot[Yt].data.skipRouteLocalization.localizeRedirectTo)&&Ot.splice(Yt,1));return Ot&&Ot.length&&(this.locales.length>1||this.settings.alwaysSetPrefix)&&(this._languageRoute={children:Ot},this.routes.unshift(this._languageRoute)),this._wildcardRoute&&this.settings.alwaysSetPrefix&&this.routes.push(this._wildcardRoute),function w(rt,kt){const mt="object"==typeof kt;return new Promise((tt,$t)=>{const en=new y.Ms({next:Ot=>{tt(Ot),en.unsubscribe()},error:$t,complete:()=>{mt?tt(kt.defaultValue):$t(new v.G)}});rt.subscribe(en)})}(this.translateRoutes(tt))}initChildRoutes(mt){return this._translateRouteTree(mt),mt}translateRoutes(mt){return new I.c(tt=>{this._cachedLang=mt,this._languageRoute&&(this._languageRoute.path=mt),this.translate.use(mt).subscribe($t=>{this._translationObject=$t,this.currentLang=mt,this._languageRoute?(this._translateRouteTree(this._languageRoute.children,!0),this._wildcardRoute&&this._wildcardRoute.redirectTo&&this._translateProperty(this._wildcardRoute,"redirectTo",!0)):this._translateRouteTree(this.routes,!0),tt.next(void 0),tt.complete()})})}_translateRouteTree(mt,tt){mt.forEach($t=>{const en=$t.data&&$t.data.skipRouteLocalization;if($t.redirectTo&&(!en||en.localizeRedirectTo)){const Yt=0===$t.redirectTo.indexOf("/")||tt;this._translateProperty($t,"redirectTo",Yt)}en||(null!=$t.path&&this._translateProperty($t,"path"),$t.children&&this._translateRouteTree($t.children),$t.loadChildren&&$t._loadedRoutes?.length&&this._translateRouteTree($t._loadedRoutes))})}_translateProperty(mt,tt,$t){const en=mt.data=mt.data||{};en.localizeRouter||(en.localizeRouter={}),en.localizeRouter[tt]||(en.localizeRouter={...en.localizeRouter,[tt]:mt[tt]});const Ot=this.translateRoute(en.localizeRouter[tt]);mt[tt]=$t?this.addPrefixToUrl(Ot):Ot}get urlPrefix(){return this.settings.alwaysSetPrefix||this.currentLang!==this.defaultLang?this.currentLang?this.currentLang:this.defaultLang:""}addPrefixToUrl(mt){const tt=mt.split("?"),$t=1===tt[0].length&&"/"===tt[0];tt[0]=tt[0].replace(/\/$/,"");const en=tt.join("?");return""===this.urlPrefix?en:en.startsWith("/")||$t?`/${this.urlPrefix}${en}`:`${this.urlPrefix}/${en}`}translateRoute(mt){const tt=mt.split("?");if(tt.length>2)throw Error("There should be only one query parameter block in the URL");return tt[0].split("/").map(en=>en.length?this.translateText(en):en).join("/")+(tt.length>1?`?${tt[1]}`:"")}getLocationLang(mt){const tt=(mt||this.location.path()).split(/[\?;]/);let $t=[];return tt.length>0&&($t=tt[0].split("/")),$t.length>1&&-1!==this.locales.indexOf($t[1])?$t[1]:$t.length&&-1!==this.locales.indexOf($t[0])?$t[0]:null}_getBrowserLang(){return this._returnIfInLocales(this.translate.getBrowserLang())}get _cachedLang(){if(this.settings.useCachedLang){if(this.settings.cacheMechanism===fe.LocalStorage)return this._cacheWithLocalStorage();if(this.settings.cacheMechanism===fe.SessionStorage)return this._cacheWithSessionStorage();if(this.settings.cacheMechanism===fe.Cookie)return this._cacheWithCookies()}}set _cachedLang(mt){this.settings.useCachedLang&&(this.settings.cacheMechanism===fe.LocalStorage&&this._cacheWithLocalStorage(mt),this.settings.cacheMechanism===fe.SessionStorage&&this._cacheWithSessionStorage(mt),this.settings.cacheMechanism===fe.Cookie&&this._cacheWithCookies(mt))}_cacheWithLocalStorage(mt){try{if(typeof window>"u"||typeof window.localStorage>"u")return;return mt?void window.localStorage.setItem(this.settings.cacheName,mt):this._returnIfInLocales(window.localStorage.getItem(this.settings.cacheName))}catch{return}}_cacheWithSessionStorage(mt){try{if(typeof window>"u"||typeof window.sessionStorage>"u")return;return mt?void window.sessionStorage.setItem(this.settings.cacheName,mt):this._returnIfInLocales(window.sessionStorage.getItem(this.settings.cacheName))}catch{return}}_cacheWithCookies(mt){try{if(typeof document>"u"||typeof document.cookie>"u")return;const tt=encodeURIComponent(this.settings.cacheName);if(mt){let Ot=`${this.settings.cookieFormat}`;return Ot=Ot.replace("{{value}}",`${tt}=${encodeURIComponent(mt)}`).replace(/{{expires:?(\d+)?}}/g,(Yt,je)=>{const oe=void 0===je?30:parseInt(je,10),H=new Date;return H.setTime(H.getTime()+864e5*oe),`expires=${H.toUTCString()}`}),void(document.cookie=Ot)}const en=new RegExp("(?:^"+tt+"|;\\s*"+tt+")=(.*?)(?:;|$)","g").exec(document.cookie);return decodeURIComponent(en[1])}catch{return}}_returnIfInLocales(mt){return mt&&-1!==this.locales.indexOf(mt)?mt:null}translateText(mt){if(this.escapePrefix&&mt.startsWith(this.escapePrefix))return mt.replace(this.escapePrefix,"");{if(!this._translationObject)return mt;const tt=this.prefix+mt,$t=this.translate.getParsedResult(this._translationObject,tt);return $t!==tt?$t:mt}}chooseQueryParams(mt,tt){let $t;return mt&&mt.queryParams?$t=mt.queryParams:tt&&($t=tt),$t}formatQueryParams(mt){return new Q.Nl({fromObject:mt}).toString()}getPrefix(){return this.prefix}getEscapePrefix(){return this.escapePrefix}}return rt.\u0275fac=function(mt){return new(mt||rt)(i.KVO(x.c$),i.KVO(V.aZ),i.KVO(Je))},rt.\u0275prov=i.jDH({token:rt,factory:rt.\u0275fac}),rt})(),Oe=(()=>{class rt extends be{load(mt){return new Promise(tt=>{this.init(mt).then(tt)})}}return rt.\u0275fac=(()=>{let kt;return function(tt){return(kt||(kt=i.xGo(rt)))(tt||rt)}})(),rt.\u0275prov=i.jDH({token:rt,factory:rt.\u0275fac}),rt})();function Ie(rt,kt){if(rt===kt)return!0;if(null===rt||null===kt)return!1;if(rt!=rt&&kt!=kt)return!0;const mt=typeof rt;let $t,en,Ot;if(mt===typeof kt&&"object"===mt){if(!Array.isArray(rt)){if(Array.isArray(kt))return!1;for(en in Ot=Object.create(null),rt)if(rt.hasOwnProperty(en)){if(!Ie(rt[en],kt[en]))return!1;Ot[en]=!0}for(en in kt)if(kt.hasOwnProperty(en)&&!(en in Ot)&&typeof kt[en]<"u")return!1;return!0}if(!Array.isArray(kt))return!1;if(($t=rt.length)===kt.length){for(en=0;en<$t;en++)if(!Ie(rt[en],kt[en]))return!1;return!0}}return!1}function xe(rt){const kt=Array.isArray(rt)?[]:{};for(const mt in rt)if(mt){const tt=rt[mt];kt[mt]="object"==typeof tt?xe(tt):tt}return kt}let vt=(()=>{class rt{constructor(mt,tt,$t,en){this.parser=mt,this.settings=tt,this.router=$t,this.route=en,this.routerEvents=new D.B;const Ot=new h.m(1);this.hooks={_initializedSubject:Ot,initialized:Ot.asObservable()}}init(){this.applyConfigToRouter(this.parser.routes),this.router.events.pipe((0,L.p)(mt=>mt instanceof e.Z),function N(){return(0,_.N)((rt,kt)=>{let mt,tt=!1;rt.subscribe((0,M._)(kt,$t=>{const en=mt;mt=$t,tt&&kt.next([en,$t]),tt=!0}))})}()).subscribe(this._routeChanged()),this.settings.initialNavigation&&this.router.initialNavigation()}changeLanguage(mt,tt,$t){if(mt!==this.parser.currentLang){const en=this.router.routerState.snapshot.root;this.parser.translateRoutes(mt).subscribe(()=>{let Ot=this.traverseRouteSnapshot(en);if(Ot=this.translateRoute(Ot),!this.settings.alwaysSetPrefix){let oe=Ot.split("/");const H=oe.indexOf(this.parser.currentLang);if(this.parser.currentLang===this.parser.defaultLang)(0===H||1===H&&""===oe[0])&&(oe=oe.slice(0,H).concat(oe.slice(H+1)));else if(-1===H){const te=""===oe[0]?1:0;oe=oe.slice(0,te).concat(this.parser.currentLang,oe.slice(te))}Ot=oe.join("/")}Ot=Ot.replace(/\/+/g,"/");const Yt=Ot.lastIndexOf("/");Yt>0&&Yt===Ot.length-1&&(Ot=Ot.slice(0,-1));const je=this.parser.chooseQueryParams(tt,this.route.snapshot.queryParams);if(this.applyConfigToRouter(this.parser.routes),this.lastExtras=tt,$t){const oe=tt?{...tt}:{};je&&(oe.queryParams=je),this.router.navigate([Ot],oe)}else{let oe=this.parser.formatQueryParams(je);oe=oe?`?${oe}`:"",this.router.navigateByUrl(`${Ot}${oe}`,tt)}})}}traverseRouteSnapshot(mt){return mt.firstChild&&mt.routeConfig?`${this.parseSegmentValue(mt)}/${this.traverseRouteSnapshot(mt.firstChild)}`:mt.firstChild?this.traverseRouteSnapshot(mt.firstChild):this.parseSegmentValue(mt)}buildUrlFromSegments(mt,tt){return tt.map(($t,en)=>0===$t.indexOf(":")?mt.url[en].path:$t).join("/")}parseSegmentValue(mt){if(mt.routeConfig&&mt.routeConfig.matcher){const tt=this.parseSegmentValueMatcher(mt);return this.buildUrlFromSegments(mt,tt)}if(mt.data.localizeRouter){const $t=mt.data.localizeRouter.path.split("/");return this.buildUrlFromSegments(mt,$t)}if(mt.parent&&mt.parent.parent){const $t=mt.routeConfig.path.split("/");return this.buildUrlFromSegments(mt,$t)}return""}parseSegmentValueMatcher(mt){const tt=mt.data&&mt.data.localizeMatcher&&mt.data.localizeMatcher.params||{};return mt.url.map(en=>{const Ot=en.path,Yt=en.localizedParamName;return(Yt&&tt[Yt]?tt[Yt](Ot):null)||`${this.parser.getEscapePrefix()}${Ot}`})}translateRoute(mt){if("string"==typeof mt){const $t=this.parser.translateRoute(mt);return mt.indexOf("/")?$t:this.parser.addPrefixToUrl($t)}const tt=[];return mt.forEach(($t,en)=>{if("string"==typeof $t){const Ot=this.parser.translateRoute($t);en||$t.indexOf("/")?tt.push(Ot):tt.push(this.parser.addPrefixToUrl(Ot))}else tt.push($t)}),tt}_routeChanged(){return([mt,tt])=>{const $t=this.parser.getLocationLang(mt.url)||this.parser.defaultLang,en=this.parser.getLocationLang(tt.url)||this.parser.defaultLang,Ot=this.lastExtras;en!==$t&&this.latestUrl!==tt.url&&(this.latestUrl=tt.url,this.cancelCurrentNavigation(),this.parser.translateRoutes(en).subscribe(()=>{this.applyConfigToRouter(this.parser.routes),this.lastExtras=void 0,this.router.navigateByUrl(tt.url,Ot),this.routerEvents.next(en)})),this.latestUrl=tt.url}}cancelCurrentNavigation(){const mt=this.router.getCurrentNavigation(),tt=this.router.serializeUrl(mt.extractedUrl);this.router.events.next(new e.j5(mt.id,tt,"")),this.router.navigationTransitions.transitions.next({...this.router.navigationTransitions.transitions.getValue(),id:0})}applyConfigToRouter(mt){this.router.resetConfig(xe(mt))}}return rt.\u0275fac=function(mt){return new(mt||rt)(i.KVO(be),i.KVO(Je),i.KVO(e.Ix),i.KVO(e.nX))},rt.\u0275prov=i.jDH({token:rt,factory:rt.\u0275fac}),rt})(),ln=(()=>{class rt{constructor(mt,tt){this.localize=mt,this._ref=tt,this.value="",this.subscription=this.localize.routerEvents.subscribe(()=>{this.transform(this.lastKey)})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}transform(mt){if(!mt||0===mt.length||!this.localize.parser.currentLang)return mt;if(Ie(mt,this.lastKey)&&Ie(this.lastLanguage,this.localize.parser.currentLang))return this.value;this.lastKey=mt,this.lastLanguage=this.localize.parser.currentLang,this.value=this.localize.translateRoute(mt),this.lastKey=mt;const tt=this._ref._view;return tt&&128&tt.state||setTimeout(()=>{this._ref.detectChanges()},0),this.value}}return rt.\u0275fac=function(mt){return new(mt||rt)(i.rXU(vt,16),i.rXU(i.gRc,16))},rt.\u0275pipe=i.EJ8({name:"localize",type:rt,pure:!1}),rt})();class Mt{constructor(){}shouldDetach(kt){return!1}store(kt,mt){}shouldAttach(kt){return!1}retrieve(kt){return null}shouldReuseRoute(kt,mt){return!(!kt||!mt)&&this.getKey(kt)===this.getKey(mt)}getKey(kt){if(kt.firstChild&&kt.firstChild.routeConfig&&kt.firstChild.routeConfig.path&&-1!==kt.firstChild.routeConfig.path.indexOf("**"))return"WILDCARD";if(!(kt.data.localizeRouter||kt.parent&&kt.parent.parent||kt.data.skipRouteLocalization))return"LANG";if(kt.routeConfig.matcher){let mt=`${this.getKey(kt.parent)}/${kt.routeConfig.matcher.name}`;return kt.data.discriminantPathKey&&(mt=`${mt}-${kt.data.discriminantPathKey}`),mt}if(kt.data.localizeRouter){let mt=`${this.getKey(kt.parent)}/${kt.data.localizeRouter.path}`;return kt.data.discriminantPathKey&&(mt=`${mt}-${kt.data.discriminantPathKey}`),mt}{let mt=kt.routeConfig.path;return kt.parent&&(mt=`${this.getKey(kt.parent)}/${kt.routeConfig.path}`),kt.data.discriminantPathKey&&(mt=`${mt}-${kt.data.discriminantPathKey}`),mt}}}let xt=(()=>{class rt extends e.Ix{constructor(){super(),this.platformId=(0,i.WQX)(i.Agw),this.compiler=(0,i.WQX)(i.Ql9),this.localize=(0,i.WQX)(be),((0,V.UE)(this.platformId)?this.navigationTransitions.configLoader.__proto__:this.navigationTransitions.configLoader).loadModuleFactoryOrRoutes=$t=>function z(rt){return(0,F.A)(rt)?rt:function it(rt){return!!rt&&"function"==typeof rt.then}(rt)?(0,E.H)(Promise.resolve(rt)):(0,f.of)(rt)}($t()).pipe((0,P.Z)(en=>{let Ot;return Ot=en instanceof i.Co$||Array.isArray(en)?(0,f.of)(en):(0,E.H)(this.compiler.compileModuleAsync(en)),Ot.pipe((0,G.T)(Yt=>Array.isArray(Yt)?Yt:{moduleType:Yt.moduleType,create:je=>{const oe=Yt.create(je),H=oe.injector.get.bind(oe.injector);return oe.injector.get=(te,Ue,et)=>{const ft=H(te,Ue,et);return te===e.bw?this.localize.initChildRoutes([].concat(...ft)):ft},oe}}))}))}}return rt.\u0275fac=function(mt){return new(mt||rt)},rt.\u0275prov=i.jDH({token:rt,factory:rt.\u0275fac,providedIn:"root"}),rt})(),W=(()=>{class rt{constructor(mt){this.injector=mt}appInitializer(){return this.parser.load(this.routes).then(()=>{const tt=this.injector.get(vt),$t=this.injector.get(e.Ix),en=this.injector.get(Je);if(tt.init(),en.initialNavigation)return new Promise(Ot=>{const Yt=$t.navigationTransitions.afterPreactivation;let je=!0;$t.navigationTransitions.afterPreactivation=()=>(je&&(Ot(),je=!1,tt.hooks._initializedSubject.next(!0),tt.hooks._initializedSubject.complete()),Yt())});tt.hooks._initializedSubject.next(!0),tt.hooks._initializedSubject.complete()})}generateInitializer(mt,tt){return this.parser=mt,this.routes=tt.reduce(($t,en)=>$t.concat(en)),this.appInitializer}}return rt.\u0275fac=function(mt){return new(mt||rt)(i.KVO(i.zZn))},rt.\u0275prov=i.jDH({token:rt,factory:rt.\u0275fac}),rt})();function J(rt,kt,mt){const tt=xe(mt);return rt.generateInitializer(kt,tt).bind(rt)}let _e=(()=>{class rt{static forRoot(mt,tt={}){return{ngModule:rt,providers:[{provide:e.Ix,useClass:xt},{provide:Y,useFactory:Ce,deps:[[rt,new i.Xx1,new i.kdw]]},{provide:K,useValue:tt.useCachedLang},{provide:Me,useValue:tt.alwaysSetPrefix},{provide:ie,useValue:tt.cacheName},{provide:ee,useValue:tt.cacheMechanism},{provide:re,useValue:tt.defaultLangFunction},{provide:T,useValue:tt.cookieFormat},{provide:ae,useValue:tt.initialNavigation},Je,tt.parser||{provide:be,useClass:Oe},{provide:le,multi:!0,useValue:mt},vt,W,{provide:i.hnV,multi:!0,useFactory:J,deps:[W,be,le]},{provide:e.b,useClass:Mt}]}}static forChild(mt){return{ngModule:rt,providers:[{provide:le,multi:!0,useValue:mt}]}}}return rt.\u0275fac=function(mt){return new(mt||rt)},rt.\u0275mod=i.$C({type:rt}),rt.\u0275inj=i.G2t({imports:[V.MD,e.iI,x.h]}),rt})();function Ce(rt){if(rt)throw new Error("LocalizeRouterModule.forRoot() called twice. Lazy loaded modules should use LocalizeRouterModule.forChild() instead.");return"guarded"}},1780:(lt,we,p)=>{"use strict";p.d(we,{D9:()=>Qe,Wr:()=>L,c$:()=>re,h:()=>Le});var i=p(4438),e=p(7673),v=p(4402),y=p(7468),w=p(8793),I=p(9030),D=p(6697),h=p(9568),f=p(6354),E=p(274),F=p(5558);class L{}let _=(()=>{class Ne extends L{getTranslation(Ee){return(0,e.of)({})}}return Ne.\u0275fac=(()=>{let Je;return function(be){return(Je||(Je=i.xGo(Ne)))(be||Ne)}})(),Ne.\u0275prov=i.jDH({token:Ne,factory:Ne.\u0275fac}),Ne})();class M{}let N=(()=>{class Ne{handle(Ee){return Ee.key}}return Ne.\u0275fac=function(Ee){return new(Ee||Ne)},Ne.\u0275prov=i.jDH({token:Ne,factory:Ne.\u0275fac}),Ne})();function P(Ne,Je){if(Ne===Je)return!0;if(null===Ne||null===Je)return!1;if(Ne!=Ne&&Je!=Je)return!0;let se,Oe,Ie,Ee=typeof Ne;if(Ee==typeof Je&&"object"==Ee){if(!Array.isArray(Ne)){if(Array.isArray(Je))return!1;for(Oe in Ie=Object.create(null),Ne){if(!P(Ne[Oe],Je[Oe]))return!1;Ie[Oe]=!0}for(Oe in Je)if(!(Oe in Ie)&&typeof Je[Oe]<"u")return!1;return!0}if(!Array.isArray(Je))return!1;if((se=Ne.length)==Je.length){for(Oe=0;Oe<se;Oe++)if(!P(Ne[Oe],Je[Oe]))return!1;return!0}}return!1}function G(Ne){return typeof Ne<"u"&&null!==Ne}function x(Ne){return Ne&&"object"==typeof Ne&&!Array.isArray(Ne)}function V(Ne,Je){let Ee=Object.assign({},Ne);return x(Ne)&&x(Je)&&Object.keys(Je).forEach(be=>{x(Je[be])?be in Ne?Ee[be]=V(Ne[be],Je[be]):Object.assign(Ee,{[be]:Je[be]}):Object.assign(Ee,{[be]:Je[be]})}),Ee}class Q{}let Y=(()=>{class Ne extends Q{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(Ee,be){let se;return se="string"==typeof Ee?this.interpolateString(Ee,be):"function"==typeof Ee?this.interpolateFunction(Ee,be):Ee,se}getValue(Ee,be){let se="string"==typeof be?be.split("."):[be];be="";do{be+=se.shift(),!G(Ee)||!G(Ee[be])||"object"!=typeof Ee[be]&&se.length?se.length?be+=".":Ee=void 0:(Ee=Ee[be],be="")}while(se.length);return Ee}interpolateFunction(Ee,be){return Ee(be)}interpolateString(Ee,be){return be?Ee.replace(this.templateMatcher,(se,Oe)=>{let Ie=this.getValue(be,Oe);return G(Ie)?Ie:se}):Ee}}return Ne.\u0275fac=(()=>{let Je;return function(be){return(Je||(Je=i.xGo(Ne)))(be||Ne)}})(),Ne.\u0275prov=i.jDH({token:Ne,factory:Ne.\u0275fac}),Ne})();class le{}let fe=(()=>{class Ne extends le{compile(Ee,be){return Ee}compileTranslations(Ee,be){return Ee}}return Ne.\u0275fac=(()=>{let Je;return function(be){return(Je||(Je=i.xGo(Ne)))(be||Ne)}})(),Ne.\u0275prov=i.jDH({token:Ne,factory:Ne.\u0275fac}),Ne})();class K{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new i.bkB,this.onLangChange=new i.bkB,this.onDefaultLangChange=new i.bkB}}const ee=new i.nKC("USE_STORE"),ie=new i.nKC("USE_DEFAULT_LANG"),T=new i.nKC("DEFAULT_LANGUAGE"),ae=new i.nKC("USE_EXTEND");let re=(()=>{class Ne{constructor(Ee,be,se,Oe,Ie,it=!0,xe=!1,pt=!1,vt){this.store=Ee,this.currentLoader=be,this.compiler=se,this.parser=Oe,this.missingTranslationHandler=Ie,this.useDefaultLang=it,this.isolate=xe,this.extend=pt,this.pending=!1,this._onTranslationChange=new i.bkB,this._onLangChange=new i.bkB,this._onDefaultLangChange=new i.bkB,this._langs=[],this._translations={},this._translationRequests={},vt&&this.setDefaultLang(vt)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(Ee){this.isolate?this._defaultLang=Ee:this.store.defaultLang=Ee}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(Ee){this.isolate?this._currentLang=Ee:this.store.currentLang=Ee}get langs(){return this.isolate?this._langs:this.store.langs}set langs(Ee){this.isolate?this._langs=Ee:this.store.langs=Ee}get translations(){return this.isolate?this._translations:this.store.translations}set translations(Ee){this.isolate?this._translations=Ee:this.store.translations=Ee}setDefaultLang(Ee){if(Ee===this.defaultLang)return;let be=this.retrieveTranslations(Ee);typeof be<"u"?(null==this.defaultLang&&(this.defaultLang=Ee),be.pipe((0,D.s)(1)).subscribe(se=>{this.changeDefaultLang(Ee)})):this.changeDefaultLang(Ee)}getDefaultLang(){return this.defaultLang}use(Ee){if(Ee===this.currentLang)return(0,e.of)(this.translations[Ee]);let be=this.retrieveTranslations(Ee);return typeof be<"u"?(this.currentLang||(this.currentLang=Ee),be.pipe((0,D.s)(1)).subscribe(se=>{this.changeLang(Ee)}),be):(this.changeLang(Ee),(0,e.of)(this.translations[Ee]))}retrieveTranslations(Ee){let be;return(typeof this.translations[Ee]>"u"||this.extend)&&(this._translationRequests[Ee]=this._translationRequests[Ee]||this.getTranslation(Ee),be=this._translationRequests[Ee]),be}getTranslation(Ee){this.pending=!0;const be=this.currentLoader.getTranslation(Ee).pipe((0,h.t)(1),(0,D.s)(1));return this.loadingTranslations=be.pipe((0,f.T)(se=>this.compiler.compileTranslations(se,Ee)),(0,h.t)(1),(0,D.s)(1)),this.loadingTranslations.subscribe({next:se=>{this.translations[Ee]=this.extend&&this.translations[Ee]?{...se,...this.translations[Ee]}:se,this.updateLangs(),this.pending=!1},error:se=>{this.pending=!1}}),be}setTranslation(Ee,be,se=!1){be=this.compiler.compileTranslations(be,Ee),this.translations[Ee]=(se||this.extend)&&this.translations[Ee]?V(this.translations[Ee],be):be,this.updateLangs(),this.onTranslationChange.emit({lang:Ee,translations:this.translations[Ee]})}getLangs(){return this.langs}addLangs(Ee){Ee.forEach(be=>{-1===this.langs.indexOf(be)&&this.langs.push(be)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(Ee,be,se){let Oe;if(be instanceof Array){let Ie={},it=!1;for(let xe of be)Ie[xe]=this.getParsedResult(Ee,xe,se),(0,v.A)(Ie[xe])&&(it=!0);if(it){const xe=be.map(pt=>(0,v.A)(Ie[pt])?Ie[pt]:(0,e.of)(Ie[pt]));return(0,y.p)(xe).pipe((0,f.T)(pt=>{let vt={};return pt.forEach((hn,ln)=>{vt[be[ln]]=hn}),vt}))}return Ie}if(Ee&&(Oe=this.parser.interpolate(this.parser.getValue(Ee,be),se)),typeof Oe>"u"&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(Oe=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],be),se)),typeof Oe>"u"){let Ie={key:be,translateService:this};typeof se<"u"&&(Ie.interpolateParams=se),Oe=this.missingTranslationHandler.handle(Ie)}return typeof Oe<"u"?Oe:be}get(Ee,be){if(!G(Ee)||!Ee.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe((0,E.H)(se=>(se=this.getParsedResult(se,Ee,be),(0,v.A)(se)?se:(0,e.of)(se))));{let se=this.getParsedResult(this.translations[this.currentLang],Ee,be);return(0,v.A)(se)?se:(0,e.of)(se)}}getStreamOnTranslationChange(Ee,be){if(!G(Ee)||!Ee.length)throw new Error('Parameter "key" required');return(0,w.x)((0,I.v)(()=>this.get(Ee,be)),this.onTranslationChange.pipe((0,F.n)(se=>{const Oe=this.getParsedResult(se.translations,Ee,be);return"function"==typeof Oe.subscribe?Oe:(0,e.of)(Oe)})))}stream(Ee,be){if(!G(Ee)||!Ee.length)throw new Error('Parameter "key" required');return(0,w.x)((0,I.v)(()=>this.get(Ee,be)),this.onLangChange.pipe((0,F.n)(se=>{const Oe=this.getParsedResult(se.translations,Ee,be);return(0,v.A)(Oe)?Oe:(0,e.of)(Oe)})))}instant(Ee,be){if(!G(Ee)||!Ee.length)throw new Error('Parameter "key" required');let se=this.getParsedResult(this.translations[this.currentLang],Ee,be);if((0,v.A)(se)){if(Ee instanceof Array){let Oe={};return Ee.forEach((Ie,it)=>{Oe[Ee[it]]=Ee[it]}),Oe}return Ee}return se}set(Ee,be,se=this.currentLang){this.translations[se][Ee]=this.compiler.compile(be,se),this.updateLangs(),this.onTranslationChange.emit({lang:se,translations:this.translations[se]})}changeLang(Ee){this.currentLang=Ee,this.onLangChange.emit({lang:Ee,translations:this.translations[Ee]}),null==this.defaultLang&&this.changeDefaultLang(Ee)}changeDefaultLang(Ee){this.defaultLang=Ee,this.onDefaultLangChange.emit({lang:Ee,translations:this.translations[Ee]})}reloadLang(Ee){return this.resetLang(Ee),this.getTranslation(Ee)}resetLang(Ee){this._translationRequests[Ee]=void 0,this.translations[Ee]=void 0}getBrowserLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let Ee=window.navigator.languages?window.navigator.languages[0]:null;return Ee=Ee||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,typeof Ee>"u"?void 0:(-1!==Ee.indexOf("-")&&(Ee=Ee.split("-")[0]),-1!==Ee.indexOf("_")&&(Ee=Ee.split("_")[0]),Ee)}getBrowserCultureLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let Ee=window.navigator.languages?window.navigator.languages[0]:null;return Ee=Ee||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,Ee}}return Ne.\u0275fac=function(Ee){return new(Ee||Ne)(i.KVO(K),i.KVO(L),i.KVO(le),i.KVO(Q),i.KVO(M),i.KVO(ie),i.KVO(ee),i.KVO(ae),i.KVO(T))},Ne.\u0275prov=i.jDH({token:Ne,factory:Ne.\u0275fac}),Ne})(),Qe=(()=>{class Ne{constructor(Ee,be){this.translate=Ee,this._ref=be,this.value="",this.lastKey=null,this.lastParams=[]}updateValue(Ee,be,se){let Oe=Ie=>{this.value=void 0!==Ie?Ie:Ee,this.lastKey=Ee,this._ref.markForCheck()};if(se){let Ie=this.translate.getParsedResult(se,Ee,be);(0,v.A)(Ie.subscribe)?Ie.subscribe(Oe):Oe(Ie)}this.translate.get(Ee,be).subscribe(Oe)}transform(Ee,...be){if(!Ee||!Ee.length)return Ee;if(P(Ee,this.lastKey)&&P(be,this.lastParams))return this.value;let se;if(G(be[0])&&be.length)if("string"==typeof be[0]&&be[0].length){let Oe=be[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{se=JSON.parse(Oe)}catch{throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${be[0]}`)}}else"object"==typeof be[0]&&!Array.isArray(be[0])&&(se=be[0]);return this.lastKey=Ee,this.lastParams=be,this.updateValue(Ee,se),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(Oe=>{this.lastKey&&Oe.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(Ee,se,Oe.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(Oe=>{this.lastKey&&(this.lastKey=null,this.updateValue(Ee,se,Oe.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(Ee,se))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return Ne.\u0275fac=function(Ee){return new(Ee||Ne)(i.rXU(re,16),i.rXU(i.gRc,16))},Ne.\u0275pipe=i.EJ8({name:"translate",type:Ne,pure:!1}),Ne.\u0275prov=i.jDH({token:Ne,factory:Ne.\u0275fac}),Ne})(),Le=(()=>{class Ne{static forRoot(Ee={}){return{ngModule:Ne,providers:[Ee.loader||{provide:L,useClass:_},Ee.compiler||{provide:le,useClass:fe},Ee.parser||{provide:Q,useClass:Y},Ee.missingTranslationHandler||{provide:M,useClass:N},K,{provide:ee,useValue:Ee.isolate},{provide:ie,useValue:Ee.useDefaultLang},{provide:ae,useValue:Ee.extend},{provide:T,useValue:Ee.defaultLanguage},re]}}static forChild(Ee={}){return{ngModule:Ne,providers:[Ee.loader||{provide:L,useClass:_},Ee.compiler||{provide:le,useClass:fe},Ee.parser||{provide:Q,useClass:Y},Ee.missingTranslationHandler||{provide:M,useClass:N},{provide:ee,useValue:Ee.isolate},{provide:ie,useValue:Ee.useDefaultLang},{provide:ae,useValue:Ee.extend},{provide:T,useValue:Ee.defaultLanguage},re]}}}return Ne.\u0275fac=function(Ee){return new(Ee||Ne)},Ne.\u0275mod=i.$C({type:Ne}),Ne.\u0275inj=i.G2t({}),Ne})()},4549:(lt,we,p)=>{"use strict";p.d(we,{c9:()=>ti,wB:()=>Rt});class i extends Error{}class e extends i{constructor(k){super(`Invalid DateTime: ${k.toMessage()}`)}}class v extends i{constructor(k){super(`Invalid Interval: ${k.toMessage()}`)}}class y extends i{constructor(k){super(`Invalid Duration: ${k.toMessage()}`)}}class w extends i{}class I extends i{constructor(k){super(`Invalid unit ${k}`)}}class D extends i{}class h extends i{constructor(){super("Zone is an abstract class")}}const f="numeric",E="short",F="long",L={year:f,month:f,day:f},_={year:f,month:E,day:f},M={year:f,month:E,day:f,weekday:E},N={year:f,month:F,day:f},P={year:f,month:F,day:f,weekday:F},G={hour:f,minute:f},x={hour:f,minute:f,second:f},V={hour:f,minute:f,second:f,timeZoneName:E},Q={hour:f,minute:f,second:f,timeZoneName:F},Y={hour:f,minute:f,hourCycle:"h23"},le={hour:f,minute:f,second:f,hourCycle:"h23"},fe={hour:f,minute:f,second:f,hourCycle:"h23",timeZoneName:E},K={hour:f,minute:f,second:f,hourCycle:"h23",timeZoneName:F},ee={year:f,month:f,day:f,hour:f,minute:f},ie={year:f,month:f,day:f,hour:f,minute:f,second:f},T={year:f,month:E,day:f,hour:f,minute:f},ae={year:f,month:E,day:f,hour:f,minute:f,second:f},re={year:f,month:E,day:f,weekday:E,hour:f,minute:f},Me={year:f,month:F,day:f,hour:f,minute:f,timeZoneName:E},Qe={year:f,month:F,day:f,hour:f,minute:f,second:f,timeZoneName:E},Le={year:f,month:F,day:f,weekday:F,hour:f,minute:f,timeZoneName:F},Ne={year:f,month:F,day:f,weekday:F,hour:f,minute:f,second:f,timeZoneName:F};class Je{get type(){throw new h}get name(){throw new h}get ianaName(){return this.name}get isUniversal(){throw new h}offsetName(k,ue){throw new h}formatOffset(k,ue){throw new h}offset(k){throw new h}equals(k){throw new h}get isValid(){throw new h}}let Ee=null;class be extends Je{static get instance(){return null===Ee&&(Ee=new be),Ee}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(k,{format:ue,locale:Ae}){return wt(k,ue,Ae)}formatOffset(k,ue){return ni(this.offset(k),ue)}offset(k){return-new Date(k).getTimezoneOffset()}equals(k){return"system"===k.type}get isValid(){return!0}}let se={};const Ie={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};let pt={};class vt extends Je{static create(k){return pt[k]||(pt[k]=new vt(k)),pt[k]}static resetCache(){pt={},se={}}static isValidSpecifier(k){return this.isValidZone(k)}static isValidZone(k){if(!k)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:k}).format(),!0}catch{return!1}}constructor(k){super(),this.zoneName=k,this.valid=vt.isValidZone(k)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(k,{format:ue,locale:Ae}){return wt(k,ue,Ae,this.name)}formatOffset(k,ue){return ni(this.offset(k),ue)}offset(k){const ue=new Date(k);if(isNaN(ue))return NaN;const Ae=function Oe(he){return se[he]||(se[he]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:he,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),se[he]}(this.name);let[nt,At,Lt,qt,nn,_n,Jn]=Ae.formatToParts?function xe(he,k){const ue=he.formatToParts(k),Ae=[];for(let nt=0;nt<ue.length;nt++){const{type:At,value:Lt}=ue[nt],qt=Ie[At];"era"===At?Ae[qt]=Lt:Tn(qt)||(Ae[qt]=parseInt(Lt,10))}return Ae}(Ae,ue):function it(he,k){const ue=he.format(k).replace(/\u200E/g,""),Ae=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(ue),[,nt,At,Lt,qt,nn,_n,Jn]=Ae;return[Lt,nt,At,qt,nn,_n,Jn]}(Ae,ue);"BC"===qt&&(nt=1-Math.abs(nt));let mi=+ue;const Kr=mi%1e3;return mi-=Kr>=0?Kr:1e3+Kr,(Te({year:nt,month:At,day:Lt,hour:24===nn?0:nn,minute:_n,second:Jn,millisecond:0})-mi)/6e4}equals(k){return"iana"===k.type&&k.name===this.name}get isValid(){return this.valid}}let hn={},Mt={};function xt(he,k={}){const ue=JSON.stringify([he,k]);let Ae=Mt[ue];return Ae||(Ae=new Intl.DateTimeFormat(he,k),Mt[ue]=Ae),Ae}let z={},J={},Ce=null,Fe={};function en(he,k,ue,Ae){const nt=he.listingMode();return"error"===nt?null:"en"===nt?ue(k):Ae(k)}class Yt{constructor(k,ue,Ae){this.padTo=Ae.padTo||0,this.floor=Ae.floor||!1;const{padTo:nt,floor:At,...Lt}=Ae;if(!ue||Object.keys(Lt).length>0){const qt={useGrouping:!1,...Ae};Ae.padTo>0&&(qt.minimumIntegerDigits=Ae.padTo),this.inf=function W(he,k={}){const ue=JSON.stringify([he,k]);let Ae=z[ue];return Ae||(Ae=new Intl.NumberFormat(he,k),z[ue]=Ae),Ae}(k,qt)}}format(k){if(this.inf){const ue=this.floor?Math.floor(k):k;return this.inf.format(ue)}return We(this.floor?Math.floor(k):Ye(k,3),this.padTo)}}class je{constructor(k,ue,Ae){let nt;if(this.opts=Ae,this.originalZone=void 0,this.opts.timeZone)this.dt=k;else if("fixed"===k.zone.type){const Lt=k.offset/60*-1,qt=Lt>=0?`Etc/GMT+${Lt}`:`Etc/GMT${Lt}`;0!==k.offset&&vt.create(qt).valid?(nt=qt,this.dt=k):(nt="UTC",this.dt=0===k.offset?k:k.setZone("UTC").plus({minutes:k.offset}),this.originalZone=k.zone)}else"system"===k.zone.type?this.dt=k:"iana"===k.zone.type?(this.dt=k,nt=k.zone.name):(nt="UTC",this.dt=k.setZone("UTC").plus({minutes:k.offset}),this.originalZone=k.zone);const At={...this.opts};At.timeZone=At.timeZone||nt,this.dtf=xt(ue,At)}format(){return this.originalZone?this.formatToParts().map(({value:k})=>k).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const k=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?k.map(ue=>{if("timeZoneName"===ue.type){const Ae=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...ue,value:Ae}}return ue}):k}resolvedOptions(){return this.dtf.resolvedOptions()}}class oe{constructor(k,ue,Ae){this.opts={style:"long",...Ae},!ue&&Pi()&&(this.rtf=function _e(he,k={}){const{base:ue,...Ae}=k,nt=JSON.stringify([he,Ae]);let At=J[nt];return At||(At=new Intl.RelativeTimeFormat(he,k),J[nt]=At),At}(k,Ae))}format(k,ue){return this.rtf?this.rtf.format(k,ue):function Ni(he,k,ue="always",Ae=!1){const nt={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},At=-1===["hours","minutes","seconds"].indexOf(he);if("auto"===ue&&At){const Un="days"===he;switch(k){case 1:return Un?"tomorrow":`next ${nt[he][0]}`;case-1:return Un?"yesterday":`last ${nt[he][0]}`;case 0:return Un?"today":`this ${nt[he][0]}`}}const Lt=Object.is(k,-0)||k<0,qt=Math.abs(k),nn=1===qt,_n=nt[he],Jn=Ae?nn?_n[1]:_n[2]||_n[1]:nn?nt[he][0]:he;return Lt?`${qt} ${Jn} ago`:`in ${qt} ${Jn}`}(ue,k,this.opts.numeric,"long"!==this.opts.style)}formatToParts(k,ue){return this.rtf?this.rtf.formatToParts(k,ue):[]}}const H={firstDay:1,minimalDays:4,weekend:[6,7]};class te{static fromOpts(k){return te.create(k.locale,k.numberingSystem,k.outputCalendar,k.weekSettings,k.defaultToEN)}static create(k,ue,Ae,nt,At=!1){const Lt=k||Rt.defaultLocale,qt=Lt||(At?"en-US":function st(){return Ce||(Ce=(new Intl.DateTimeFormat).resolvedOptions().locale,Ce)}()),nn=ue||Rt.defaultNumberingSystem,_n=Ae||Rt.defaultOutputCalendar,Jn=Ei(nt)||Rt.defaultWeekSettings;return new te(qt,nn,_n,Jn,Lt)}static resetCache(){Ce=null,Mt={},z={},J={}}static fromObject({locale:k,numberingSystem:ue,outputCalendar:Ae,weekSettings:nt}={}){return te.create(k,ue,Ae,nt)}constructor(k,ue,Ae,nt,At){const[Lt,qt,nn]=function kt(he){const k=he.indexOf("-x-");-1!==k&&(he=he.substring(0,k));const ue=he.indexOf("-u-");if(-1===ue)return[he];{let Ae,nt;try{Ae=xt(he).resolvedOptions(),nt=he}catch{const nn=he.substring(0,ue);Ae=xt(nn).resolvedOptions(),nt=nn}const{numberingSystem:At,calendar:Lt}=Ae;return[nt,At,Lt]}}(k);this.locale=Lt,this.numberingSystem=ue||qt||null,this.outputCalendar=Ae||nn||null,this.weekSettings=nt,this.intl=function mt(he,k,ue){return(ue||k)&&(he.includes("-u-")||(he+="-u"),ue&&(he+=`-ca-${ue}`),k&&(he+=`-nu-${k}`)),he}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=At,this.fastNumbersCached=null}get fastNumbers(){return null==this.fastNumbersCached&&(this.fastNumbersCached=function Ot(he){return(!he.numberingSystem||"latn"===he.numberingSystem)&&("latn"===he.numberingSystem||!he.locale||he.locale.startsWith("en")||"latn"===new Intl.DateTimeFormat(he.intl).resolvedOptions().numberingSystem)}(this)),this.fastNumbersCached}listingMode(){return this.isEnglish()&&!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar)?"en":"intl"}clone(k){return k&&0!==Object.getOwnPropertyNames(k).length?te.create(k.locale||this.specifiedLocale,k.numberingSystem||this.numberingSystem,k.outputCalendar||this.outputCalendar,Ei(k.weekSettings)||this.weekSettings,k.defaultToEN||!1):this}redefaultToEN(k={}){return this.clone({...k,defaultToEN:!0})}redefaultToSystem(k={}){return this.clone({...k,defaultToEN:!1})}months(k,ue=!1){return en(this,k,ii,()=>{const Ae=ue?{month:k,day:"numeric"}:{month:k},nt=ue?"format":"standalone";return this.monthsCache[nt][k]||(this.monthsCache[nt][k]=function tt(he){const k=[];for(let ue=1;ue<=12;ue++){const Ae=ti.utc(2009,ue,1);k.push(he(Ae))}return k}(At=>this.extract(At,Ae,"month"))),this.monthsCache[nt][k]})}weekdays(k,ue=!1){return en(this,k,Zs,()=>{const Ae=ue?{weekday:k,year:"numeric",month:"long",day:"numeric"}:{weekday:k},nt=ue?"format":"standalone";return this.weekdaysCache[nt][k]||(this.weekdaysCache[nt][k]=function $t(he){const k=[];for(let ue=1;ue<=7;ue++){const Ae=ti.utc(2016,11,13+ue);k.push(he(Ae))}return k}(At=>this.extract(At,Ae,"weekday"))),this.weekdaysCache[nt][k]})}meridiems(){return en(this,void 0,()=>_s,()=>{if(!this.meridiemCache){const k={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[ti.utc(2016,11,13,9),ti.utc(2016,11,13,19)].map(ue=>this.extract(ue,k,"dayperiod"))}return this.meridiemCache})}eras(k){return en(this,k,bs,()=>{const ue={era:k};return this.eraCache[k]||(this.eraCache[k]=[ti.utc(-40,1,1),ti.utc(2017,1,1)].map(Ae=>this.extract(Ae,ue,"era"))),this.eraCache[k]})}extract(k,ue,Ae){const Lt=this.dtFormatter(k,ue).formatToParts().find(qt=>qt.type.toLowerCase()===Ae);return Lt?Lt.value:null}numberFormatter(k={}){return new Yt(this.intl,k.forceSimple||this.fastNumbers,k)}dtFormatter(k,ue={}){return new je(k,this.intl,ue)}relFormatter(k={}){return new oe(this.intl,this.isEnglish(),k)}listFormatter(k={}){return function ln(he,k={}){const ue=JSON.stringify([he,k]);let Ae=hn[ue];return Ae||(Ae=new Intl.ListFormat(he,k),hn[ue]=Ae),Ae}(this.intl,k)}isEnglish(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:Kn()?function rt(he){let k=Fe[he];if(!k){const ue=new Intl.Locale(he);k="getWeekInfo"in ue?ue.getWeekInfo():ue.weekInfo,Fe[he]=k}return k}(this.locale):H}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(k){return this.locale===k.locale&&this.numberingSystem===k.numberingSystem&&this.outputCalendar===k.outputCalendar}}let Ue=null;class et extends Je{static get utcInstance(){return null===Ue&&(Ue=new et(0)),Ue}static instance(k){return 0===k?et.utcInstance:new et(k)}static parseSpecifier(k){if(k){const ue=k.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(ue)return new et(gt(ue[1],ue[2]))}return null}constructor(k){super(),this.fixed=k}get type(){return"fixed"}get name(){return 0===this.fixed?"UTC":`UTC${ni(this.fixed,"narrow")}`}get ianaName(){return 0===this.fixed?"Etc/UTC":`Etc/GMT${ni(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(k,ue){return ni(this.fixed,ue)}get isUniversal(){return!0}offset(){return this.fixed}equals(k){return"fixed"===k.type&&k.fixed===this.fixed}get isValid(){return!0}}class ft extends Je{constructor(k){super(),this.zoneName=k}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Ft(he,k){if(Tn(he)||null===he)return k;if(he instanceof Je)return he;if(function fi(he){return"string"==typeof he}(he)){const Ae=he.toLowerCase();return"default"===Ae?k:"local"===Ae||"system"===Ae?be.instance:"utc"===Ae||"gmt"===Ae?et.utcInstance:et.parseSpecifier(Ae)||vt.create(he)}return pn(he)?et.instance(he):"object"==typeof he&&"offset"in he&&"function"==typeof he.offset?he:new ft(he)}let ki,sn=()=>Date.now(),cn="system",In=null,An=null,Fn=null,Pn=60,wi=null;class Rt{static get now(){return sn}static set now(k){sn=k}static set defaultZone(k){cn=k}static get defaultZone(){return Ft(cn,be.instance)}static get defaultLocale(){return In}static set defaultLocale(k){In=k}static get defaultNumberingSystem(){return An}static set defaultNumberingSystem(k){An=k}static get defaultOutputCalendar(){return Fn}static set defaultOutputCalendar(k){Fn=k}static get defaultWeekSettings(){return wi}static set defaultWeekSettings(k){wi=Ei(k)}static get twoDigitCutoffYear(){return Pn}static set twoDigitCutoffYear(k){Pn=k%100}static get throwOnInvalid(){return ki}static set throwOnInvalid(k){ki=k}static resetCaches(){te.resetCache(),vt.resetCache()}}class Wt{constructor(k,ue){this.reason=k,this.explanation=ue}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const _t=[0,31,59,90,120,151,181,212,243,273,304,334],Nt=[0,31,60,91,121,152,182,213,244,274,305,335];function tn(he,k){return new Wt("unit out of range",`you specified ${k} (of type ${typeof k}) as a ${he}, which is invalid`)}function En(he,k,ue){const Ae=new Date(Date.UTC(he,k-1,ue));he<100&&he>=0&&Ae.setUTCFullYear(Ae.getUTCFullYear()-1900);const nt=Ae.getUTCDay();return 0===nt?7:nt}function Ln(he,k,ue){return ue+(Xt(he)?Nt:_t)[k-1]}function un(he,k){const ue=Xt(he)?Nt:_t,Ae=ue.findIndex(At=>At<k);return{month:Ae+1,day:k-ue[Ae]}}function ui(he,k){return(he-k+7)%7+1}function jn(he,k=4,ue=1){const{year:Ae,month:nt,day:At}=he,Lt=Ln(Ae,nt,At),qt=ui(En(Ae,nt,At),ue);let _n,nn=Math.floor((Lt-qt+14-k)/7);return nn<1?(_n=Ae-1,nn=ht(_n,k,ue)):nn>ht(Ae,k,ue)?(_n=Ae+1,nn=1):_n=Ae,{weekYear:_n,weekNumber:nn,weekday:qt,...gi(he)}}function It(he,k=4,ue=1){const{weekYear:Ae,weekNumber:nt,weekday:At}=he,Lt=ui(En(Ae,1,k),ue),qt=ct(Ae);let _n,nn=7*nt+At-Lt-7+k;nn<1?(_n=Ae-1,nn+=ct(_n)):nn>qt?(_n=Ae+1,nn-=ct(Ae)):_n=Ae;const{month:Jn,day:Un}=un(_n,nn);return{year:_n,month:Jn,day:Un,...gi(he)}}function dt(he){const{year:k,month:ue,day:Ae}=he;return{year:k,ordinal:Ln(k,ue,Ae),...gi(he)}}function Dt(he){const{year:k,ordinal:ue}=he,{month:Ae,day:nt}=un(k,ue);return{year:k,month:Ae,day:nt,...gi(he)}}function Vt(he,k){if(Tn(he.localWeekday)&&Tn(he.localWeekNumber)&&Tn(he.localWeekYear))return{minDaysInFirstWeek:4,startOfWeek:1};if(!Tn(he.weekday)||!Tn(he.weekNumber)||!Tn(he.weekYear))throw new w("Cannot mix locale-based week fields with ISO-based week fields");return Tn(he.localWeekday)||(he.weekday=he.localWeekday),Tn(he.localWeekNumber)||(he.weekNumber=he.localWeekNumber),Tn(he.localWeekYear)||(he.weekYear=he.localWeekYear),delete he.localWeekday,delete he.localWeekNumber,delete he.localWeekYear,{minDaysInFirstWeek:k.getMinDaysInFirstWeek(),startOfWeek:k.getStartOfWeek()}}function mn(he){const k=ai(he.year),ue=qe(he.month,1,12),Ae=qe(he.day,1,ye(he.year,he.month));return k?ue?!Ae&&tn("day",he.day):tn("month",he.month):tn("year",he.year)}function zn(he){const{hour:k,minute:ue,second:Ae,millisecond:nt}=he,At=qe(k,0,23)||24===k&&0===ue&&0===Ae&&0===nt,Lt=qe(ue,0,59),qt=qe(Ae,0,59),nn=qe(nt,0,999);return At?Lt?qt?!nn&&tn("millisecond",nt):tn("second",Ae):tn("minute",ue):tn("hour",k)}function Tn(he){return typeof he>"u"}function pn(he){return"number"==typeof he}function ai(he){return"number"==typeof he&&he%1==0}function Pi(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function Kn(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function pi(he,k,ue){if(0!==he.length)return he.reduce((Ae,nt)=>{const At=[k(nt),nt];return Ae&&ue(Ae[0],At[0])===Ae[0]?Ae:At},null)[1]}function Hi(he,k){return Object.prototype.hasOwnProperty.call(he,k)}function Ei(he){if(null==he)return null;if("object"!=typeof he)throw new D("Week settings must be an object");if(!qe(he.firstDay,1,7)||!qe(he.minimalDays,1,7)||!Array.isArray(he.weekend)||he.weekend.some(k=>!qe(k,1,7)))throw new D("Invalid week settings");return{firstDay:he.firstDay,minimalDays:he.minimalDays,weekend:Array.from(he.weekend)}}function qe(he,k,ue){return ai(he)&&he>=k&&he<=ue}function We(he,k=2){let Ae;return Ae=he<0?"-"+(""+-he).padStart(k,"0"):(""+he).padStart(k,"0"),Ae}function Gt(he){if(!Tn(he)&&null!==he&&""!==he)return parseInt(he,10)}function ot(he){if(!Tn(he)&&null!==he&&""!==he)return parseFloat(he)}function Ht(he){if(!Tn(he)&&null!==he&&""!==he){const k=1e3*parseFloat("0."+he);return Math.floor(k)}}function Ye(he,k,ue=!1){const Ae=10**k;return(ue?Math.trunc:Math.round)(he*Ae)/Ae}function Xt(he){return he%4==0&&(he%100!=0||he%400==0)}function ct(he){return Xt(he)?366:365}function ye(he,k){const ue=function St(he,k){return he-k*Math.floor(he/k)}(k-1,12)+1;return 2===ue?Xt(he+(k-ue)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][ue-1]}function Te(he){let k=Date.UTC(he.year,he.month-1,he.day,he.hour,he.minute,he.second,he.millisecond);return he.year<100&&he.year>=0&&(k=new Date(k),k.setUTCFullYear(he.year,he.month-1,he.day)),+k}function ve(he,k,ue){return-ui(En(he,1,k),ue)+k-1}function ht(he,k=4,ue=1){const Ae=ve(he,k,ue),nt=ve(he+1,k,ue);return(ct(he)-Ae+nt)/7}function Ke(he){return he>99?he:he>Rt.twoDigitCutoffYear?1900+he:2e3+he}function wt(he,k,ue,Ae=null){const nt=new Date(he),At={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};Ae&&(At.timeZone=Ae);const Lt={timeZoneName:k,...At},qt=new Intl.DateTimeFormat(ue,Lt).formatToParts(nt).find(nn=>"timezonename"===nn.type.toLowerCase());return qt?qt.value:null}function gt(he,k){let ue=parseInt(he,10);Number.isNaN(ue)&&(ue=0);const Ae=parseInt(k,10)||0;return 60*ue+(ue<0||Object.is(ue,-0)?-Ae:Ae)}function zt(he){const k=Number(he);if("boolean"==typeof he||""===he||Number.isNaN(k))throw new D(`Invalid unit value ${he}`);return k}function Bn(he,k){const ue={};for(const Ae in he)if(Hi(he,Ae)){const nt=he[Ae];if(null==nt)continue;ue[k(Ae)]=zt(nt)}return ue}function ni(he,k){const ue=Math.trunc(Math.abs(he/60)),Ae=Math.trunc(Math.abs(he%60)),nt=he>=0?"+":"-";switch(k){case"short":return`${nt}${We(ue,2)}:${We(Ae,2)}`;case"narrow":return`${nt}${ue}${Ae>0?`:${Ae}`:""}`;case"techie":return`${nt}${We(ue,2)}${We(Ae,2)}`;default:throw new RangeError(`Value format ${k} is out of range for property format`)}}function gi(he){return function Wi(he,k){return k.reduce((ue,Ae)=>(ue[Ae]=he[Ae],ue),{})}(he,["hour","minute","second","millisecond"])}const ji=["January","February","March","April","May","June","July","August","September","October","November","December"],pr=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],$n=["J","F","M","A","M","J","J","A","S","O","N","D"];function ii(he){switch(he){case"narrow":return[...$n];case"short":return[...pr];case"long":return[...ji];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const cr=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Ai=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Nr=["M","T","W","T","F","S","S"];function Zs(he){switch(he){case"narrow":return[...Nr];case"short":return[...Ai];case"long":return[...cr];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const _s=["AM","PM"],Us=["Before Christ","Anno Domini"],vi=["BC","AD"],Ws=["B","A"];function bs(he){switch(he){case"narrow":return[...Ws];case"short":return[...vi];case"long":return[...Us];default:return null}}function si(he,k){let ue="";for(const Ae of he)ue+=Ae.literal?Ae.val:k(Ae.val);return ue}const ia={D:L,DD:_,DDD:N,DDDD:P,t:G,tt:x,ttt:V,tttt:Q,T:Y,TT:le,TTT:fe,TTTT:K,f:ee,ff:T,fff:Me,ffff:Le,F:ie,FF:ae,FFF:Qe,FFFF:Ne};class Vn{static create(k,ue={}){return new Vn(k,ue)}static parseFormat(k){let ue=null,Ae="",nt=!1;const At=[];for(let Lt=0;Lt<k.length;Lt++){const qt=k.charAt(Lt);"'"===qt?(Ae.length>0&&At.push({literal:nt||/^\s+$/.test(Ae),val:Ae}),ue=null,Ae="",nt=!nt):nt||qt===ue?Ae+=qt:(Ae.length>0&&At.push({literal:/^\s+$/.test(Ae),val:Ae}),Ae=qt,ue=qt)}return Ae.length>0&&At.push({literal:nt||/^\s+$/.test(Ae),val:Ae}),At}static macroTokenToFormatOpts(k){return ia[k]}constructor(k,ue){this.opts=ue,this.loc=k,this.systemLoc=null}formatWithSystemDefault(k,ue){return null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(k,{...this.opts,...ue}).format()}dtFormatter(k,ue={}){return this.loc.dtFormatter(k,{...this.opts,...ue})}formatDateTime(k,ue){return this.dtFormatter(k,ue).format()}formatDateTimeParts(k,ue){return this.dtFormatter(k,ue).formatToParts()}formatInterval(k,ue){return this.dtFormatter(k.start,ue).dtf.formatRange(k.start.toJSDate(),k.end.toJSDate())}resolvedOptions(k,ue){return this.dtFormatter(k,ue).resolvedOptions()}num(k,ue=0){if(this.opts.forceSimple)return We(k,ue);const Ae={...this.opts};return ue>0&&(Ae.padTo=ue),this.loc.numberFormatter(Ae).format(k)}formatDateTimeFromString(k,ue){const Ae="en"===this.loc.listingMode(),nt=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,At=(mi,Kr)=>this.loc.extract(k,mi,Kr),Lt=mi=>k.isOffsetFixed&&0===k.offset&&mi.allowZ?"Z":k.isValid?k.zone.formatOffset(k.ts,mi.format):"",nn=(mi,Kr)=>Ae?function br(he,k){return ii(k)[he.month-1]}(k,mi):At(Kr?{month:mi}:{month:mi,day:"numeric"},"month"),_n=(mi,Kr)=>Ae?function Vs(he,k){return Zs(k)[he.weekday-1]}(k,mi):At(Kr?{weekday:mi}:{weekday:mi,month:"long",day:"numeric"},"weekday"),Jn=mi=>{const Kr=Vn.macroTokenToFormatOpts(mi);return Kr?this.formatWithSystemDefault(k,Kr):mi},Un=mi=>Ae?function Cr(he,k){return bs(k)[he.year<0?0:1]}(k,mi):At({era:mi},"era");return si(Vn.parseFormat(ue),mi=>{switch(mi){case"S":return this.num(k.millisecond);case"u":case"SSS":return this.num(k.millisecond,3);case"s":return this.num(k.second);case"ss":return this.num(k.second,2);case"uu":return this.num(Math.floor(k.millisecond/10),2);case"uuu":return this.num(Math.floor(k.millisecond/100));case"m":return this.num(k.minute);case"mm":return this.num(k.minute,2);case"h":return this.num(k.hour%12==0?12:k.hour%12);case"hh":return this.num(k.hour%12==0?12:k.hour%12,2);case"H":return this.num(k.hour);case"HH":return this.num(k.hour,2);case"Z":return Lt({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return Lt({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return Lt({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return k.zone.offsetName(k.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return k.zone.offsetName(k.ts,{format:"long",locale:this.loc.locale});case"z":return k.zoneName;case"a":return Ae?function Tr(he){return _s[he.hour<12?0:1]}(k):At({hour:"numeric",hourCycle:"h12"},"dayperiod");case"d":return nt?At({day:"numeric"},"day"):this.num(k.day);case"dd":return nt?At({day:"2-digit"},"day"):this.num(k.day,2);case"c":case"E":return this.num(k.weekday);case"ccc":return _n("short",!0);case"cccc":return _n("long",!0);case"ccccc":return _n("narrow",!0);case"EEE":return _n("short",!1);case"EEEE":return _n("long",!1);case"EEEEE":return _n("narrow",!1);case"L":return nt?At({month:"numeric",day:"numeric"},"month"):this.num(k.month);case"LL":return nt?At({month:"2-digit",day:"numeric"},"month"):this.num(k.month,2);case"LLL":return nn("short",!0);case"LLLL":return nn("long",!0);case"LLLLL":return nn("narrow",!0);case"M":return nt?At({month:"numeric"},"month"):this.num(k.month);case"MM":return nt?At({month:"2-digit"},"month"):this.num(k.month,2);case"MMM":return nn("short",!1);case"MMMM":return nn("long",!1);case"MMMMM":return nn("narrow",!1);case"y":return nt?At({year:"numeric"},"year"):this.num(k.year);case"yy":return nt?At({year:"2-digit"},"year"):this.num(k.year.toString().slice(-2),2);case"yyyy":return nt?At({year:"numeric"},"year"):this.num(k.year,4);case"yyyyyy":return nt?At({year:"numeric"},"year"):this.num(k.year,6);case"G":return Un("short");case"GG":return Un("long");case"GGGGG":return Un("narrow");case"kk":return this.num(k.weekYear.toString().slice(-2),2);case"kkkk":return this.num(k.weekYear,4);case"W":return this.num(k.weekNumber);case"WW":return this.num(k.weekNumber,2);case"n":return this.num(k.localWeekNumber);case"nn":return this.num(k.localWeekNumber,2);case"ii":return this.num(k.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(k.localWeekYear,4);case"o":return this.num(k.ordinal);case"ooo":return this.num(k.ordinal,3);case"q":return this.num(k.quarter);case"qq":return this.num(k.quarter,2);case"X":return this.num(Math.floor(k.ts/1e3));case"x":return this.num(k.ts);default:return Jn(mi)}})}formatDurationFromString(k,ue){const Ae=nn=>{switch(nn[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},At=Vn.parseFormat(ue),Lt=At.reduce((nn,{literal:_n,val:Jn})=>_n?nn:nn.concat(Jn),[]);return si(At,(nn=>_n=>{const Jn=Ae(_n);return Jn?this.num(nn.get(Jn),_n.length):_n})(k.shiftTo(...Lt.map(Ae).filter(nn=>nn))))}}const ns=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function vr(...he){const k=he.reduce((ue,Ae)=>ue+Ae.source,"");return RegExp(`^${k}$`)}function Ir(...he){return k=>he.reduce(([ue,Ae,nt],At)=>{const[Lt,qt,nn]=At(k,nt);return[{...ue,...Lt},qt||Ae,nn]},[{},null,1]).slice(0,2)}function Dr(he,...k){if(null==he)return[null,null];for(const[ue,Ae]of k){const nt=ue.exec(he);if(nt)return Ae(nt)}return[null,null]}function Or(...he){return(k,ue)=>{const Ae={};let nt;for(nt=0;nt<he.length;nt++)Ae[he[nt]]=Gt(k[ue+nt]);return[Ae,null,ue+nt]}}const Hr=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,tr=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Gn=RegExp(`${tr.source}(?:${Hr.source}?(?:\\[(${ns.source})\\])?)?`),Jr=RegExp(`(?:T${Gn.source})?`),ro=Or("weekYear","weekNumber","weekDay"),wo=Or("year","ordinal"),wr=RegExp(`${tr.source} ?(?:${Hr.source}|(${ns.source}))?`),ls=RegExp(`(?: ${wr.source})?`);function cs(he,k,ue){const Ae=he[k];return Tn(Ae)?ue:Gt(Ae)}function is(he,k){return[{hours:cs(he,k,0),minutes:cs(he,k+1,0),seconds:cs(he,k+2,0),milliseconds:Ht(he[k+3])},null,k+4]}function go(he,k){const ue=!he[k]&&!he[k+1],Ae=gt(he[k+1],he[k+2]);return[{},ue?null:et.instance(Ae),k+3]}function nr(he,k){return[{},he[k]?vt.create(he[k]):null,k+1]}const rs=RegExp(`^T?${tr.source}$`),Go=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function ra(he){const[k,ue,Ae,nt,At,Lt,qt,nn,_n]=he,Jn="-"===k[0],Un=nn&&"-"===nn[0],Sr=(mi,Kr=!1)=>void 0!==mi&&(Kr||mi&&Jn)?-mi:mi;return[{years:Sr(ot(ue)),months:Sr(ot(Ae)),weeks:Sr(ot(nt)),days:Sr(ot(At)),hours:Sr(ot(Lt)),minutes:Sr(ot(qt)),seconds:Sr(ot(nn),"-0"===nn),milliseconds:Sr(Ht(_n),Un)}]}const so={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function oo(he,k,ue,Ae,nt,At,Lt){const qt={year:2===k.length?Ke(Gt(k)):Gt(k),month:pr.indexOf(ue)+1,day:Gt(Ae),hour:Gt(nt),minute:Gt(At)};return Lt&&(qt.second=Gt(Lt)),he&&(qt.weekday=he.length>3?cr.indexOf(he)+1:Ai.indexOf(he)+1),qt}const No=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function xs(he){const[,k,ue,Ae,nt,At,Lt,qt,nn,_n,Jn,Un]=he,Sr=oo(k,nt,Ae,ue,At,Lt,qt);let mi;return mi=nn?so[nn]:_n?0:gt(Jn,Un),[Sr,new et(mi)]}const sr=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Br=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,us=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function ao(he){const[,k,ue,Ae,nt,At,Lt,qt]=he;return[oo(k,nt,Ae,ue,At,Lt,qt),et.utcInstance]}function xa(he){const[,k,ue,Ae,nt,At,Lt,qt]=he;return[oo(k,qt,ue,Ae,nt,At,Lt),et.utcInstance]}const ks=vr(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Jr),ri=vr(/(\d{4})-?W(\d\d)(?:-?(\d))?/,Jr),Qr=vr(/(\d{4})-?(\d{3})/,Jr),zs=vr(Gn),yr=Ir(function Ma(he,k){return[{year:cs(he,k),month:cs(he,k+1,1),day:cs(he,k+2,1)},null,k+3]},is,go,nr),Ks=Ir(ro,is,go,nr),jr=Ir(wo,is,go,nr),Wr=Ir(is,go,nr),Be=Ir(is),Ze=vr(/(\d{4})-(\d\d)-(\d\d)/,ls),Pt=vr(wr),Hn=Ir(is,go,nr),ds="Invalid Duration",ws={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},Zn={years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6},...ws},De=365.2425,Xe=30.436875,bt={years:{quarters:4,months:12,weeks:De/7,days:De,hours:24*De,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:De/28,days:De/4,hours:24*De/4,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:Xe/7,days:Xe,hours:24*Xe,minutes:43829.1,seconds:2629746,milliseconds:2629746e3},...ws},Tt=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],Bt=Tt.slice(0).reverse();function Ct(he,k,ue=!1){const Ae={values:ue?k.values:{...he.values,...k.values||{}},loc:he.loc.clone(k.loc),conversionAccuracy:k.conversionAccuracy||he.conversionAccuracy,matrix:k.matrix||he.matrix};return new xn(Ae)}function Jt(he,k){let ue=k.milliseconds??0;for(const Ae of Bt.slice(1))k[Ae]&&(ue+=k[Ae]*he[Ae].milliseconds);return ue}function Rn(he,k){const ue=Jt(he,k)<0?-1:1;Tt.reduceRight((Ae,nt)=>{if(Tn(k[nt]))return Ae;if(Ae){const Lt=he[nt][Ae],qt=Math.floor(k[Ae]*ue/Lt);k[nt]+=qt*ue,k[Ae]-=qt*Lt*ue}return nt},null),Tt.reduce((Ae,nt)=>{if(Tn(k[nt]))return Ae;if(Ae){const At=k[Ae]%1;k[Ae]-=At,k[nt]+=At*he[Ae][nt]}return nt},null)}class xn{constructor(k){const ue="longterm"===k.conversionAccuracy||!1;let Ae=ue?bt:Zn;k.matrix&&(Ae=k.matrix),this.values=k.values,this.loc=k.loc||te.create(),this.conversionAccuracy=ue?"longterm":"casual",this.invalid=k.invalid||null,this.matrix=Ae,this.isLuxonDuration=!0}static fromMillis(k,ue){return xn.fromObject({milliseconds:k},ue)}static fromObject(k,ue={}){if(null==k||"object"!=typeof k)throw new D("Duration.fromObject: argument expected to be an object, got "+(null===k?"null":typeof k));return new xn({values:Bn(k,xn.normalizeUnit),loc:te.fromObject(ue),conversionAccuracy:ue.conversionAccuracy,matrix:ue.matrix})}static fromDurationLike(k){if(pn(k))return xn.fromMillis(k);if(xn.isDuration(k))return k;if("object"==typeof k)return xn.fromObject(k);throw new D(`Unknown duration argument ${k} of type ${typeof k}`)}static fromISO(k,ue){const[Ae]=function Re(he){return Dr(he,[Go,ra])}(k);return Ae?xn.fromObject(Ae,ue):xn.invalid("unparsable",`the input "${k}" can't be parsed as ISO 8601`)}static fromISOTime(k,ue){const[Ae]=function de(he){return Dr(he,[rs,Be])}(k);return Ae?xn.fromObject(Ae,ue):xn.invalid("unparsable",`the input "${k}" can't be parsed as ISO 8601`)}static invalid(k,ue=null){if(!k)throw new D("need to specify a reason the Duration is invalid");const Ae=k instanceof Wt?k:new Wt(k,ue);if(Rt.throwOnInvalid)throw new y(Ae);return new xn({invalid:Ae})}static normalizeUnit(k){const ue={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[k&&k.toLowerCase()];if(!ue)throw new I(k);return ue}static isDuration(k){return k&&k.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(k,ue={}){const Ae={...ue,floor:!1!==ue.round&&!1!==ue.floor};return this.isValid?Vn.create(this.loc,Ae).formatDurationFromString(this,k):ds}toHuman(k={}){if(!this.isValid)return ds;const ue=Tt.map(Ae=>{const nt=this.values[Ae];return Tn(nt)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...k,unit:Ae.slice(0,-1)}).format(nt)}).filter(Ae=>Ae);return this.loc.listFormatter({type:"conjunction",style:k.listStyle||"narrow",...k}).format(ue)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let k="P";return 0!==this.years&&(k+=this.years+"Y"),(0!==this.months||0!==this.quarters)&&(k+=this.months+3*this.quarters+"M"),0!==this.weeks&&(k+=this.weeks+"W"),0!==this.days&&(k+=this.days+"D"),(0!==this.hours||0!==this.minutes||0!==this.seconds||0!==this.milliseconds)&&(k+="T"),0!==this.hours&&(k+=this.hours+"H"),0!==this.minutes&&(k+=this.minutes+"M"),(0!==this.seconds||0!==this.milliseconds)&&(k+=Ye(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===k&&(k+="T0S"),k}toISOTime(k={}){if(!this.isValid)return null;const ue=this.toMillis();return ue<0||ue>=864e5?null:(k={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...k,includeOffset:!1},ti.fromMillis(ue,{zone:"UTC"}).toISOTime(k))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?Jt(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(k){if(!this.isValid)return this;const ue=xn.fromDurationLike(k),Ae={};for(const nt of Tt)(Hi(ue.values,nt)||Hi(this.values,nt))&&(Ae[nt]=ue.get(nt)+this.get(nt));return Ct(this,{values:Ae},!0)}minus(k){if(!this.isValid)return this;const ue=xn.fromDurationLike(k);return this.plus(ue.negate())}mapUnits(k){if(!this.isValid)return this;const ue={};for(const Ae of Object.keys(this.values))ue[Ae]=zt(k(this.values[Ae],Ae));return Ct(this,{values:ue},!0)}get(k){return this[xn.normalizeUnit(k)]}set(k){return this.isValid?Ct(this,{values:{...this.values,...Bn(k,xn.normalizeUnit)}}):this}reconfigure({locale:k,numberingSystem:ue,conversionAccuracy:Ae,matrix:nt}={}){return Ct(this,{loc:this.loc.clone({locale:k,numberingSystem:ue}),matrix:nt,conversionAccuracy:Ae})}as(k){return this.isValid?this.shiftTo(k).get(k):NaN}normalize(){if(!this.isValid)return this;const k=this.toObject();return Rn(this.matrix,k),Ct(this,{values:k},!0)}rescale(){return this.isValid?Ct(this,{values:function yi(he){const k={};for(const[ue,Ae]of Object.entries(he))0!==Ae&&(k[ue]=Ae);return k}(this.normalize().shiftToAll().toObject())},!0):this}shiftTo(...k){if(!this.isValid)return this;if(0===k.length)return this;k=k.map(Lt=>xn.normalizeUnit(Lt));const ue={},Ae={},nt=this.toObject();let At;for(const Lt of Tt)if(k.indexOf(Lt)>=0){At=Lt;let qt=0;for(const _n in Ae)qt+=this.matrix[_n][Lt]*Ae[_n],Ae[_n]=0;pn(nt[Lt])&&(qt+=nt[Lt]);const nn=Math.trunc(qt);ue[Lt]=nn,Ae[Lt]=(1e3*qt-1e3*nn)/1e3}else pn(nt[Lt])&&(Ae[Lt]=nt[Lt]);for(const Lt in Ae)0!==Ae[Lt]&&(ue[At]+=Lt===At?Ae[Lt]:Ae[Lt]/this.matrix[At][Lt]);return Rn(this.matrix,ue),Ct(this,{values:ue},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const k={};for(const ue of Object.keys(this.values))k[ue]=0===this.values[ue]?0:-this.values[ue];return Ct(this,{values:k},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(k){if(!this.isValid||!k.isValid||!this.loc.equals(k.loc))return!1;function ue(Ae,nt){return void 0===Ae||0===Ae?void 0===nt||0===nt:Ae===nt}for(const Ae of Tt)if(!ue(this.values[Ae],k.values[Ae]))return!1;return!0}}const dr="Invalid Interval";class li{constructor(k){this.s=k.start,this.e=k.end,this.invalid=k.invalid||null,this.isLuxonInterval=!0}static invalid(k,ue=null){if(!k)throw new D("need to specify a reason the Interval is invalid");const Ae=k instanceof Wt?k:new Wt(k,ue);if(Rt.throwOnInvalid)throw new v(Ae);return new li({invalid:Ae})}static fromDateTimes(k,ue){const Ae=Ji(k),nt=Ji(ue),At=function zr(he,k){return he&&he.isValid?k&&k.isValid?k<he?li.invalid("end before start",`The end of an interval must be after its start, but you had start=${he.toISO()} and end=${k.toISO()}`):null:li.invalid("missing or invalid end"):li.invalid("missing or invalid start")}(Ae,nt);return At??new li({start:Ae,end:nt})}static after(k,ue){const Ae=xn.fromDurationLike(ue),nt=Ji(k);return li.fromDateTimes(nt,nt.plus(Ae))}static before(k,ue){const Ae=xn.fromDurationLike(ue),nt=Ji(k);return li.fromDateTimes(nt.minus(Ae),nt)}static fromISO(k,ue){const[Ae,nt]=(k||"").split("/",2);if(Ae&&nt){let At,Lt,qt,nn;try{At=ti.fromISO(Ae,ue),Lt=At.isValid}catch{Lt=!1}try{qt=ti.fromISO(nt,ue),nn=qt.isValid}catch{nn=!1}if(Lt&&nn)return li.fromDateTimes(At,qt);if(Lt){const _n=xn.fromISO(nt,ue);if(_n.isValid)return li.after(At,_n)}else if(nn){const _n=xn.fromISO(Ae,ue);if(_n.isValid)return li.before(qt,_n)}}return li.invalid("unparsable",`the input "${k}" can't be parsed as ISO 8601`)}static isInterval(k){return k&&k.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return null===this.invalidReason}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(k="milliseconds"){return this.isValid?this.toDuration(k).get(k):NaN}count(k="milliseconds",ue){if(!this.isValid)return NaN;const Ae=this.start.startOf(k,ue);let nt;return nt=ue?.useLocaleWeeks?this.end.reconfigure({locale:Ae.locale}):this.end,nt=nt.startOf(k,ue),Math.floor(nt.diff(Ae,k).get(k))+(nt.valueOf()!==this.end.valueOf())}hasSame(k){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,k))}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(k){return!!this.isValid&&this.s>k}isBefore(k){return!!this.isValid&&this.e<=k}contains(k){return!!this.isValid&&this.s<=k&&this.e>k}set({start:k,end:ue}={}){return this.isValid?li.fromDateTimes(k||this.s,ue||this.e):this}splitAt(...k){if(!this.isValid)return[];const ue=k.map(Ji).filter(Lt=>this.contains(Lt)).sort((Lt,qt)=>Lt.toMillis()-qt.toMillis()),Ae=[];let{s:nt}=this,At=0;for(;nt<this.e;){const Lt=ue[At]||this.e,qt=+Lt>+this.e?this.e:Lt;Ae.push(li.fromDateTimes(nt,qt)),nt=qt,At+=1}return Ae}splitBy(k){const ue=xn.fromDurationLike(k);if(!this.isValid||!ue.isValid||0===ue.as("milliseconds"))return[];let At,{s:Ae}=this,nt=1;const Lt=[];for(;Ae<this.e;){const qt=this.start.plus(ue.mapUnits(nn=>nn*nt));At=+qt>+this.e?this.e:qt,Lt.push(li.fromDateTimes(Ae,At)),Ae=At,nt+=1}return Lt}divideEqually(k){return this.isValid?this.splitBy(this.length()/k).slice(0,k):[]}overlaps(k){return this.e>k.s&&this.s<k.e}abutsStart(k){return!!this.isValid&&+this.e==+k.s}abutsEnd(k){return!!this.isValid&&+k.e==+this.s}engulfs(k){return!!this.isValid&&this.s<=k.s&&this.e>=k.e}equals(k){return!(!this.isValid||!k.isValid)&&this.s.equals(k.s)&&this.e.equals(k.e)}intersection(k){if(!this.isValid)return this;const ue=this.s>k.s?this.s:k.s,Ae=this.e<k.e?this.e:k.e;return ue>=Ae?null:li.fromDateTimes(ue,Ae)}union(k){return this.isValid?li.fromDateTimes(this.s<k.s?this.s:k.s,this.e>k.e?this.e:k.e):this}static merge(k){const[ue,Ae]=k.sort((nt,At)=>nt.s-At.s).reduce(([nt,At],Lt)=>At?At.overlaps(Lt)||At.abutsStart(Lt)?[nt,At.union(Lt)]:[nt.concat([At]),Lt]:[nt,Lt],[[],null]);return Ae&&ue.push(Ae),ue}static xor(k){let ue=null,Ae=0;const nt=[],At=k.map(nn=>[{time:nn.s,type:"s"},{time:nn.e,type:"e"}]),qt=Array.prototype.concat(...At).sort((nn,_n)=>nn.time-_n.time);for(const nn of qt)Ae+="s"===nn.type?1:-1,1===Ae?ue=nn.time:(ue&&+ue!=+nn.time&&nt.push(li.fromDateTimes(ue,nn.time)),ue=null);return li.merge(nt)}difference(...k){return li.xor([this].concat(k)).map(ue=>this.intersection(ue)).filter(ue=>ue&&!ue.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:dr}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(k=L,ue={}){return this.isValid?Vn.create(this.s.loc.clone(ue),k).formatInterval(this):dr}toISO(k){return this.isValid?`${this.s.toISO(k)}/${this.e.toISO(k)}`:dr}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:dr}toISOTime(k){return this.isValid?`${this.s.toISOTime(k)}/${this.e.toISOTime(k)}`:dr}toFormat(k,{separator:ue=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(k)}${ue}${this.e.toFormat(k)}`:dr}toDuration(k,ue){return this.isValid?this.e.diff(this.s,k,ue):xn.invalid(this.invalidReason)}mapEndpoints(k){return li.fromDateTimes(k(this.s),k(this.e))}}class hs{static hasDST(k=Rt.defaultZone){const ue=ti.now().setZone(k).set({month:12});return!k.isUniversal&&ue.offset!==ue.set({month:6}).offset}static isValidIANAZone(k){return vt.isValidZone(k)}static normalizeZone(k){return Ft(k,Rt.defaultZone)}static getStartOfWeek({locale:k=null,locObj:ue=null}={}){return(ue||te.create(k)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:k=null,locObj:ue=null}={}){return(ue||te.create(k)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:k=null,locObj:ue=null}={}){return(ue||te.create(k)).getWeekendDays().slice()}static months(k="long",{locale:ue=null,numberingSystem:Ae=null,locObj:nt=null,outputCalendar:At="gregory"}={}){return(nt||te.create(ue,Ae,At)).months(k)}static monthsFormat(k="long",{locale:ue=null,numberingSystem:Ae=null,locObj:nt=null,outputCalendar:At="gregory"}={}){return(nt||te.create(ue,Ae,At)).months(k,!0)}static weekdays(k="long",{locale:ue=null,numberingSystem:Ae=null,locObj:nt=null}={}){return(nt||te.create(ue,Ae,null)).weekdays(k)}static weekdaysFormat(k="long",{locale:ue=null,numberingSystem:Ae=null,locObj:nt=null}={}){return(nt||te.create(ue,Ae,null)).weekdays(k,!0)}static meridiems({locale:k=null}={}){return te.create(k).meridiems()}static eras(k="short",{locale:ue=null}={}){return te.create(ue,null,"gregory").eras(k)}static features(){return{relative:Pi(),localeWeek:Kn()}}}function $i(he,k){const ue=nt=>nt.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),Ae=ue(k)-ue(he);return Math.floor(xn.fromMillis(Ae).as("days"))}const Bi={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",latn:"\\d"},Ki={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},ss=Bi.hanidec.replace(/[\[|\]]/g,"").split("");function _r({numberingSystem:he},k=""){return new RegExp(`${Bi[he||"latn"]}${k}`)}function Ri(he,k=(ue=>ue)){return{regex:he,deser:([ue])=>k(function js(he){let k=parseInt(he,10);if(isNaN(k)){k="";for(let ue=0;ue<he.length;ue++){const Ae=he.charCodeAt(ue);if(-1!==he[ue].search(Bi.hanidec))k+=ss.indexOf(he[ue]);else for(const nt in Ki){const[At,Lt]=Ki[nt];Ae>=At&&Ae<=Lt&&(k+=Ae-At)}}return parseInt(k,10)}return k}(ue))}}const ml="[ \xa0]",gl=new RegExp(ml,"g");function Po(he){return he.replace(/\./g,"\\.?").replace(gl,ml)}function Ho(he){return he.replace(/\./g,"").replace(gl," ").toLowerCase()}function $s(he,k){return null===he?null:{regex:RegExp(he.map(Po).join("|")),deser:([ue])=>he.findIndex(Ae=>Ho(ue)===Ho(Ae))+k}}function pa(he,k){return{regex:he,deser:([,ue,Ae])=>gt(ue,Ae),groups:k}}function Ar(he){return{regex:he,deser:([k])=>k}}function Yn(he){return he.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}const Wo={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};let Bo=null;function Za(he,k){return Array.prototype.concat(...he.map(ue=>function ka(he,k){if(he.literal)return he;const Ae=Rr(Vn.macroTokenToFormatOpts(he.val),k);return null==Ae||Ae.includes(void 0)?he:Ae}(ue,k)))}function qa(he,k,ue){const Ae=Za(Vn.parseFormat(ue),he),nt=Ae.map(Lt=>function Lr(he,k){const ue=_r(k),Ae=_r(k,"{2}"),nt=_r(k,"{3}"),At=_r(k,"{4}"),Lt=_r(k,"{6}"),qt=_r(k,"{1,2}"),nn=_r(k,"{1,3}"),_n=_r(k,"{1,6}"),Jn=_r(k,"{1,9}"),Un=_r(k,"{2,4}"),Sr=_r(k,"{4,6}"),mi=Ts=>({regex:RegExp(Yn(Ts.val)),deser:([ar])=>ar,literal:!0}),Mr=(Ts=>{if(he.literal)return mi(Ts);switch(Ts.val){case"G":return $s(k.eras("short"),0);case"GG":return $s(k.eras("long"),0);case"y":return Ri(_n);case"yy":case"kk":return Ri(Un,Ke);case"yyyy":case"kkkk":return Ri(At);case"yyyyy":return Ri(Sr);case"yyyyyy":return Ri(Lt);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return Ri(qt);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return Ri(Ae);case"MMM":return $s(k.months("short",!0),1);case"MMMM":return $s(k.months("long",!0),1);case"LLL":return $s(k.months("short",!1),1);case"LLLL":return $s(k.months("long",!1),1);case"o":case"S":return Ri(nn);case"ooo":case"SSS":return Ri(nt);case"u":return Ar(Jn);case"uu":return Ar(qt);case"uuu":case"E":case"c":return Ri(ue);case"a":return $s(k.meridiems(),0);case"EEE":return $s(k.weekdays("short",!1),1);case"EEEE":return $s(k.weekdays("long",!1),1);case"ccc":return $s(k.weekdays("short",!0),1);case"cccc":return $s(k.weekdays("long",!0),1);case"Z":case"ZZ":return pa(new RegExp(`([+-]${qt.source})(?::(${Ae.source}))?`),2);case"ZZZ":return pa(new RegExp(`([+-]${qt.source})(${Ae.source})?`),2);case"z":return Ar(/[a-z_+-/]{1,256}?/i);case" ":return Ar(/[^\S\n\r]/);default:return mi(Ts)}})(he)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};return Mr.token=he,Mr}(Lt,he)),At=nt.find(Lt=>Lt.invalidReason);if(At)return{input:k,tokens:Ae,invalidReason:At.invalidReason};{const[Lt,qt]=function Ja(he){return[`^${he.map(ue=>ue.regex).reduce((ue,Ae)=>`${ue}(${Ae.source})`,"")}$`,he]}(nt),nn=RegExp(Lt,"i"),[_n,Jn]=function nc(he,k,ue){const Ae=he.match(k);if(Ae){const nt={};let At=1;for(const Lt in ue)if(Hi(ue,Lt)){const qt=ue[Lt],nn=qt.groups?qt.groups+1:1;!qt.literal&&qt.token&&(nt[qt.token.val[0]]=qt.deser(Ae.slice(At,At+nn))),At+=nn}return[Ae,nt]}return[Ae,{}]}(k,nn,qt),[Un,Sr,mi]=Jn?function zo(he){let Ae,ue=null;return Tn(he.z)||(ue=vt.create(he.z)),Tn(he.Z)||(ue||(ue=new et(he.Z)),Ae=he.Z),Tn(he.q)||(he.M=3*(he.q-1)+1),Tn(he.h)||(he.h<12&&1===he.a?he.h+=12:12===he.h&&0===he.a&&(he.h=0)),0===he.G&&he.y&&(he.y=-he.y),Tn(he.u)||(he.S=Ht(he.u)),[Object.keys(he).reduce((At,Lt)=>{const qt=(At=>{switch(At){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}})(Lt);return qt&&(At[qt]=he[Lt]),At},{}),ue,Ae]}(Jn):[null,null,void 0];if(Hi(Jn,"a")&&Hi(Jn,"H"))throw new w("Can't include meridiem when specifying 24-hour format");return{input:k,tokens:Ae,regex:nn,rawMatches:_n,matches:Jn,result:Un,zone:Sr,specificOffset:mi}}}function Rr(he,k){if(!he)return null;const Ae=Vn.create(k,he).dtFormatter(function Qa(){return Bo||(Bo=ti.fromMillis(1555555555555)),Bo}()),nt=Ae.formatToParts(),At=Ae.resolvedOptions();return nt.map(Lt=>function ms(he,k,ue){const{type:Ae,value:nt}=he;if("literal"===Ae){const nn=/^\s+$/.test(nt);return{literal:!nn,val:nn?" ":nt}}let Lt=Ae;"hour"===Ae&&(Lt=null!=k.hour12?k.hour12?"hour12":"hour24":null!=k.hourCycle?"h11"===k.hourCycle||"h12"===k.hourCycle?"hour12":"hour24":ue.hour12?"hour12":"hour24");let qt=Wo[Lt];if("object"==typeof qt&&(qt=qt[k[Ae]]),qt)return{literal:!1,val:qt}}(Lt,he,At))}const vo="Invalid DateTime",Ns=864e13;function eo(he){return new Wt("unsupported zone",`the zone "${he.name}" is not supported`)}function Ko(he){return null===he.weekData&&(he.weekData=jn(he.c)),he.weekData}function So(he){return null===he.localWeekData&&(he.localWeekData=jn(he.c,he.loc.getMinDaysInFirstWeek(),he.loc.getStartOfWeek())),he.localWeekData}function qr(he,k){const ue={ts:he.ts,zone:he.zone,c:he.c,o:he.o,loc:he.loc,invalid:he.invalid};return new ti({...ue,...k,old:ue})}function gs(he,k,ue){let Ae=he-60*k*1e3;const nt=ue.offset(Ae);if(k===nt)return[Ae,k];Ae-=60*(nt-k)*1e3;const At=ue.offset(Ae);return nt===At?[Ae,nt]:[he-60*Math.min(nt,At)*1e3,Math.max(nt,At)]}function el(he,k){const ue=new Date(he+=60*k*1e3);return{year:ue.getUTCFullYear(),month:ue.getUTCMonth()+1,day:ue.getUTCDate(),hour:ue.getUTCHours(),minute:ue.getUTCMinutes(),second:ue.getUTCSeconds(),millisecond:ue.getUTCMilliseconds()}}function ma(he,k,ue){return gs(Te(he),k,ue)}function lo(he,k){const ue=he.o,Ae=he.c.year+Math.trunc(k.years),nt=he.c.month+Math.trunc(k.months)+3*Math.trunc(k.quarters),At={...he.c,year:Ae,month:nt,day:Math.min(he.c.day,ye(Ae,nt))+Math.trunc(k.days)+7*Math.trunc(k.weeks)},Lt=xn.fromObject({years:k.years-Math.trunc(k.years),quarters:k.quarters-Math.trunc(k.quarters),months:k.months-Math.trunc(k.months),weeks:k.weeks-Math.trunc(k.weeks),days:k.days-Math.trunc(k.days),hours:k.hours,minutes:k.minutes,seconds:k.seconds,milliseconds:k.milliseconds}).as("milliseconds"),qt=Te(At);let[nn,_n]=gs(qt,ue,he.zone);return 0!==Lt&&(nn+=Lt,_n=he.zone.offset(nn)),{ts:nn,o:_n}}function Os(he,k,ue,Ae,nt,At){const{setZone:Lt,zone:qt}=ue;if(he&&0!==Object.keys(he).length||k){const nn=k||qt,_n=ti.fromObject(he,{...ue,zone:nn,specificOffset:At});return Lt?_n:_n.setZone(qt)}return ti.invalid(new Wt("unparsable",`the input "${nt}" can't be parsed as ${Ae}`))}function Mi(he,k,ue=!0){return he.isValid?Vn.create(te.create("en-US"),{allowZ:ue,forceSimple:!0}).formatDateTimeFromString(he,k):null}function Es(he,k){const ue=he.c.year>9999||he.c.year<0;let Ae="";return ue&&he.c.year>=0&&(Ae+="+"),Ae+=We(he.c.year,ue?6:4),k?(Ae+="-",Ae+=We(he.c.month),Ae+="-",Ae+=We(he.c.day)):(Ae+=We(he.c.month),Ae+=We(he.c.day)),Ae}function Z(he,k,ue,Ae,nt,At){let Lt=We(he.c.hour);return k?(Lt+=":",Lt+=We(he.c.minute),(0!==he.c.millisecond||0!==he.c.second||!ue)&&(Lt+=":")):Lt+=We(he.c.minute),(0!==he.c.millisecond||0!==he.c.second||!ue)&&(Lt+=We(he.c.second),(0!==he.c.millisecond||!Ae)&&(Lt+=".",Lt+=We(he.c.millisecond,3))),nt&&(he.isOffsetFixed&&0===he.offset&&!At?Lt+="Z":he.o<0?(Lt+="-",Lt+=We(Math.trunc(-he.o/60)),Lt+=":",Lt+=We(Math.trunc(-he.o%60))):(Lt+="+",Lt+=We(Math.trunc(he.o/60)),Lt+=":",Lt+=We(Math.trunc(he.o%60)))),At&&(Lt+="["+he.zone.ianaName+"]"),Lt}const ze={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},ce={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},ke={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Et=["year","month","day","hour","minute","second","millisecond"],dn=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],Cn=["year","ordinal","hour","minute","second","millisecond"];function mr(he){switch(he.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return function Xn(he){const k={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[he.toLowerCase()];if(!k)throw new I(he);return k}(he)}}function or(he,k){const ue=Ft(k.zone,Rt.defaultZone),Ae=te.fromObject(k),nt=Rt.now();let At,Lt;if(Tn(he.year))At=nt;else{for(const _n of Et)Tn(he[_n])&&(he[_n]=ze[_n]);const qt=mn(he)||zn(he);if(qt)return ti.invalid(qt);const nn=ue.offset(nt);[At,Lt]=ma(he,nn,ue)}return new ti({ts:At,zone:ue,loc:Ae,o:Lt})}function Xi(he,k,ue){const Ae=!!Tn(ue.round)||ue.round,nt=(Lt,qt)=>(Lt=Ye(Lt,Ae||ue.calendary?0:2,!0),k.loc.clone(ue).relFormatter(ue).format(Lt,qt)),At=Lt=>ue.calendary?k.hasSame(he,Lt)?0:k.startOf(Lt).diff(he.startOf(Lt),Lt).get(Lt):k.diff(he,Lt).get(Lt);if(ue.unit)return nt(At(ue.unit),ue.unit);for(const Lt of ue.units){const qt=At(Lt);if(Math.abs(qt)>=1)return nt(qt,Lt)}return nt(he>k?-0:0,ue.units[ue.units.length-1])}function Gi(he){let ue,k={};return he.length>0&&"object"==typeof he[he.length-1]?(k=he[he.length-1],ue=Array.from(he).slice(0,he.length-1)):ue=Array.from(he),[k,ue]}class ti{constructor(k){const ue=k.zone||Rt.defaultZone;let Ae=k.invalid||(Number.isNaN(k.ts)?new Wt("invalid input"):null)||(ue.isValid?null:eo(ue));this.ts=Tn(k.ts)?Rt.now():k.ts;let nt=null,At=null;if(!Ae)if(k.old&&k.old.ts===this.ts&&k.old.zone.equals(ue))[nt,At]=[k.old.c,k.old.o];else{const qt=ue.offset(this.ts);nt=el(this.ts,qt),Ae=Number.isNaN(nt.year)?new Wt("invalid input"):null,nt=Ae?null:nt,At=Ae?null:qt}this._zone=ue,this.loc=k.loc||te.create(),this.invalid=Ae,this.weekData=null,this.localWeekData=null,this.c=nt,this.o=At,this.isLuxonDateTime=!0}static now(){return new ti({})}static local(){const[k,ue]=Gi(arguments),[Ae,nt,At,Lt,qt,nn,_n]=ue;return or({year:Ae,month:nt,day:At,hour:Lt,minute:qt,second:nn,millisecond:_n},k)}static utc(){const[k,ue]=Gi(arguments),[Ae,nt,At,Lt,qt,nn,_n]=ue;return k.zone=et.utcInstance,or({year:Ae,month:nt,day:At,hour:Lt,minute:qt,second:nn,millisecond:_n},k)}static fromJSDate(k,ue={}){const Ae=function qn(he){return"[object Date]"===Object.prototype.toString.call(he)}(k)?k.valueOf():NaN;if(Number.isNaN(Ae))return ti.invalid("invalid input");const nt=Ft(ue.zone,Rt.defaultZone);return nt.isValid?new ti({ts:Ae,zone:nt,loc:te.fromObject(ue)}):ti.invalid(eo(nt))}static fromMillis(k,ue={}){if(pn(k))return k<-Ns||k>Ns?ti.invalid("Timestamp out of range"):new ti({ts:k,zone:Ft(ue.zone,Rt.defaultZone),loc:te.fromObject(ue)});throw new D(`fromMillis requires a numerical input, but received a ${typeof k} with value ${k}`)}static fromSeconds(k,ue={}){if(pn(k))return new ti({ts:1e3*k,zone:Ft(ue.zone,Rt.defaultZone),loc:te.fromObject(ue)});throw new D("fromSeconds requires a numerical input")}static fromObject(k,ue={}){k=k||{};const Ae=Ft(ue.zone,Rt.defaultZone);if(!Ae.isValid)return ti.invalid(eo(Ae));const nt=te.fromObject(ue),At=Bn(k,mr),{minDaysInFirstWeek:Lt,startOfWeek:qt}=Vt(At,nt),nn=Rt.now(),_n=Tn(ue.specificOffset)?Ae.offset(nn):ue.specificOffset,Jn=!Tn(At.ordinal),Un=!Tn(At.year),Sr=!Tn(At.month)||!Tn(At.day),mi=Un||Sr,Kr=At.weekYear||At.weekNumber;if((mi||Jn)&&Kr)throw new w("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(Sr&&Jn)throw new w("Can't mix ordinal dates with month/day");const Mr=Kr||At.weekday&&!mi;let Ts,ar,fs=el(nn,_n);Mr?(Ts=dn,ar=ce,fs=jn(fs,Lt,qt)):Jn?(Ts=Cn,ar=ke,fs=dt(fs)):(Ts=Et,ar=ze);let Yo=!1;for(const oa of Ts)Tn(At[oa])?At[oa]=Yo?ar[oa]:fs[oa]:Yo=!0;const Na=Mr?function Zt(he,k=4,ue=1){const Ae=ai(he.weekYear),nt=qe(he.weekNumber,1,ht(he.weekYear,k,ue)),At=qe(he.weekday,1,7);return Ae?nt?!At&&tn("weekday",he.weekday):tn("week",he.weekNumber):tn("weekYear",he.weekYear)}(At,Lt,qt):Jn?function gn(he){const k=ai(he.year),ue=qe(he.ordinal,1,ct(he.year));return k?!ue&&tn("ordinal",he.ordinal):tn("year",he.year)}(At):mn(At),Eo=Na||zn(At);if(Eo)return ti.invalid(Eo);const Fs=Mr?It(At,Lt,qt):Jn?Dt(At):At,[sa,xi]=ma(Fs,_n,Ae),Oa=new ti({ts:sa,zone:Ae,o:xi,loc:nt});return At.weekday&&mi&&k.weekday!==Oa.weekday?ti.invalid("mismatched weekday",`you can't specify both a weekday of ${At.weekday} and a date of ${Oa.toISO()}`):Oa}static fromISO(k,ue={}){const[Ae,nt]=function Zr(he){return Dr(he,[ks,yr],[ri,Ks],[Qr,jr],[zs,Wr])}(k);return Os(Ae,nt,ue,"ISO 8601",k)}static fromRFC2822(k,ue={}){const[Ae,nt]=function fn(he){return Dr(function Pr(he){return he.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(he),[No,xs])}(k);return Os(Ae,nt,ue,"RFC 2822",k)}static fromHTTP(k,ue={}){const[Ae,nt]=function Cs(he){return Dr(he,[sr,ao],[Br,ao],[us,xa])}(k);return Os(Ae,nt,ue,"HTTP",ue)}static fromFormat(k,ue,Ae={}){if(Tn(k)||Tn(ue))throw new D("fromFormat requires an input string and a format");const{locale:nt=null,numberingSystem:At=null}=Ae,Lt=te.fromOpts({locale:nt,numberingSystem:At,defaultToEN:!0}),[qt,nn,_n,Jn]=function Ss(he,k,ue){const{result:Ae,zone:nt,specificOffset:At,invalidReason:Lt}=qa(he,k,ue);return[Ae,nt,At,Lt]}(Lt,k,ue);return Jn?ti.invalid(Jn):Os(qt,nn,Ae,`format ${ue}`,k,_n)}static fromString(k,ue,Ae={}){return ti.fromFormat(k,ue,Ae)}static fromSQL(k,ue={}){const[Ae,nt]=function Ti(he){return Dr(he,[Ze,yr],[Pt,Hn])}(k);return Os(Ae,nt,ue,"SQL",k)}static invalid(k,ue=null){if(!k)throw new D("need to specify a reason the DateTime is invalid");const Ae=k instanceof Wt?k:new Wt(k,ue);if(Rt.throwOnInvalid)throw new e(Ae);return new ti({invalid:Ae})}static isDateTime(k){return k&&k.isLuxonDateTime||!1}static parseFormatForOpts(k,ue={}){const Ae=Rr(k,te.fromObject(ue));return Ae?Ae.map(nt=>nt?nt.val:null).join(""):null}static expandFormat(k,ue={}){return Za(Vn.parseFormat(k),te.fromObject(ue)).map(nt=>nt.val).join("")}get(k){return this[k]}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Ko(this).weekYear:NaN}get weekNumber(){return this.isValid?Ko(this).weekNumber:NaN}get weekday(){return this.isValid?Ko(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?So(this).weekday:NaN}get localWeekNumber(){return this.isValid?So(this).weekNumber:NaN}get localWeekYear(){return this.isValid?So(this).weekYear:NaN}get ordinal(){return this.isValid?dt(this.c).ordinal:NaN}get monthShort(){return this.isValid?hs.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?hs.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?hs.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?hs.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return!this.isOffsetFixed&&(this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset)}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const k=864e5,ue=6e4,Ae=Te(this.c),nt=this.zone.offset(Ae-k),At=this.zone.offset(Ae+k),Lt=this.zone.offset(Ae-nt*ue),qt=this.zone.offset(Ae-At*ue);if(Lt===qt)return[this];const nn=Ae-Lt*ue,_n=Ae-qt*ue,Jn=el(nn,Lt),Un=el(_n,qt);return Jn.hour===Un.hour&&Jn.minute===Un.minute&&Jn.second===Un.second&&Jn.millisecond===Un.millisecond?[qr(this,{ts:nn}),qr(this,{ts:_n})]:[this]}get isInLeapYear(){return Xt(this.year)}get daysInMonth(){return ye(this.year,this.month)}get daysInYear(){return this.isValid?ct(this.year):NaN}get weeksInWeekYear(){return this.isValid?ht(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?ht(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(k={}){const{locale:ue,numberingSystem:Ae,calendar:nt}=Vn.create(this.loc.clone(k),k).resolvedOptions(this);return{locale:ue,numberingSystem:Ae,outputCalendar:nt}}toUTC(k=0,ue={}){return this.setZone(et.instance(k),ue)}toLocal(){return this.setZone(Rt.defaultZone)}setZone(k,{keepLocalTime:ue=!1,keepCalendarTime:Ae=!1}={}){if((k=Ft(k,Rt.defaultZone)).equals(this.zone))return this;if(k.isValid){let nt=this.ts;if(ue||Ae){const At=k.offset(this.ts),Lt=this.toObject();[nt]=ma(Lt,At,k)}return qr(this,{ts:nt,zone:k})}return ti.invalid(eo(k))}reconfigure({locale:k,numberingSystem:ue,outputCalendar:Ae}={}){return qr(this,{loc:this.loc.clone({locale:k,numberingSystem:ue,outputCalendar:Ae})})}setLocale(k){return this.reconfigure({locale:k})}set(k){if(!this.isValid)return this;const ue=Bn(k,mr),{minDaysInFirstWeek:Ae,startOfWeek:nt}=Vt(ue,this.loc),At=!Tn(ue.weekYear)||!Tn(ue.weekNumber)||!Tn(ue.weekday),Lt=!Tn(ue.ordinal),qt=!Tn(ue.year),nn=!Tn(ue.month)||!Tn(ue.day);if((qt||nn||Lt)&&(ue.weekYear||ue.weekNumber))throw new w("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(nn&&Lt)throw new w("Can't mix ordinal dates with month/day");let Un;At?Un=It({...jn(this.c,Ae,nt),...ue},Ae,nt):Tn(ue.ordinal)?(Un={...this.toObject(),...ue},Tn(ue.day)&&(Un.day=Math.min(ye(Un.year,Un.month),Un.day))):Un=Dt({...dt(this.c),...ue});const[Sr,mi]=ma(Un,this.o,this.zone);return qr(this,{ts:Sr,o:mi})}plus(k){return this.isValid?qr(this,lo(this,xn.fromDurationLike(k))):this}minus(k){return this.isValid?qr(this,lo(this,xn.fromDurationLike(k).negate())):this}startOf(k,{useLocaleWeeks:ue=!1}={}){if(!this.isValid)return this;const Ae={},nt=xn.normalizeUnit(k);switch(nt){case"years":Ae.month=1;case"quarters":case"months":Ae.day=1;case"weeks":case"days":Ae.hour=0;case"hours":Ae.minute=0;case"minutes":Ae.second=0;case"seconds":Ae.millisecond=0}if("weeks"===nt)if(ue){const At=this.loc.getStartOfWeek(),{weekday:Lt}=this;Lt<At&&(Ae.weekNumber=this.weekNumber-1),Ae.weekday=At}else Ae.weekday=1;if("quarters"===nt){const At=Math.ceil(this.month/3);Ae.month=3*(At-1)+1}return this.set(Ae)}endOf(k,ue){return this.isValid?this.plus({[k]:1}).startOf(k,ue).minus(1):this}toFormat(k,ue={}){return this.isValid?Vn.create(this.loc.redefaultToEN(ue)).formatDateTimeFromString(this,k):vo}toLocaleString(k=L,ue={}){return this.isValid?Vn.create(this.loc.clone(ue),k).formatDateTime(this):vo}toLocaleParts(k={}){return this.isValid?Vn.create(this.loc.clone(k),k).formatDateTimeParts(this):[]}toISO({format:k="extended",suppressSeconds:ue=!1,suppressMilliseconds:Ae=!1,includeOffset:nt=!0,extendedZone:At=!1}={}){if(!this.isValid)return null;const Lt="extended"===k;let qt=Es(this,Lt);return qt+="T",qt+=Z(this,Lt,ue,Ae,nt,At),qt}toISODate({format:k="extended"}={}){return this.isValid?Es(this,"extended"===k):null}toISOWeekDate(){return Mi(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:k=!1,suppressSeconds:ue=!1,includeOffset:Ae=!0,includePrefix:nt=!1,extendedZone:At=!1,format:Lt="extended"}={}){return this.isValid?(nt?"T":"")+Z(this,"extended"===Lt,ue,k,Ae,At):null}toRFC2822(){return Mi(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Mi(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Es(this,!0):null}toSQLTime({includeOffset:k=!0,includeZone:ue=!1,includeOffsetSpace:Ae=!0}={}){let nt="HH:mm:ss.SSS";return(ue||k)&&(Ae&&(nt+=" "),ue?nt+="z":k&&(nt+="ZZ")),Mi(this,nt,!0)}toSQL(k={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(k)}`:null}toString(){return this.isValid?this.toISO():vo}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(k={}){if(!this.isValid)return{};const ue={...this.c};return k.includeConfig&&(ue.outputCalendar=this.outputCalendar,ue.numberingSystem=this.loc.numberingSystem,ue.locale=this.loc.locale),ue}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(k,ue="milliseconds",Ae={}){if(!this.isValid||!k.isValid)return xn.invalid("created by diffing an invalid DateTime");const nt={locale:this.locale,numberingSystem:this.numberingSystem,...Ae},At=function Si(he){return Array.isArray(he)?he:[he]}(ue).map(xn.normalizeUnit),Lt=k.valueOf()>this.valueOf(),_n=function Oo(he,k,ue,Ae){let[nt,At,Lt,qt]=function Xa(he,k,ue){const Ae=[["years",(nn,_n)=>_n.year-nn.year],["quarters",(nn,_n)=>_n.quarter-nn.quarter+4*(_n.year-nn.year)],["months",(nn,_n)=>_n.month-nn.month+12*(_n.year-nn.year)],["weeks",(nn,_n)=>{const Jn=$i(nn,_n);return(Jn-Jn%7)/7}],["days",$i]],nt={},At=he;let Lt,qt;for(const[nn,_n]of Ae)ue.indexOf(nn)>=0&&(Lt=nn,nt[nn]=_n(he,k),qt=At.plus(nt),qt>k?(nt[nn]--,(he=At.plus(nt))>k&&(qt=he,nt[nn]--,he=At.plus(nt))):he=qt);return[he,nt,qt,Lt]}(he,k,ue);const nn=k-nt,_n=ue.filter(Un=>["hours","minutes","seconds","milliseconds"].indexOf(Un)>=0);0===_n.length&&(Lt<k&&(Lt=nt.plus({[qt]:1})),Lt!==nt&&(At[qt]=(At[qt]||0)+nn/(Lt-nt)));const Jn=xn.fromObject(At,Ae);return _n.length>0?xn.fromMillis(nn,Ae).shiftTo(..._n).plus(Jn):Jn}(Lt?this:k,Lt?k:this,At,nt);return Lt?_n.negate():_n}diffNow(k="milliseconds",ue={}){return this.diff(ti.now(),k,ue)}until(k){return this.isValid?li.fromDateTimes(this,k):this}hasSame(k,ue,Ae){if(!this.isValid)return!1;const nt=k.valueOf(),At=this.setZone(k.zone,{keepLocalTime:!0});return At.startOf(ue,Ae)<=nt&&nt<=At.endOf(ue,Ae)}equals(k){return this.isValid&&k.isValid&&this.valueOf()===k.valueOf()&&this.zone.equals(k.zone)&&this.loc.equals(k.loc)}toRelative(k={}){if(!this.isValid)return null;const ue=k.base||ti.fromObject({},{zone:this.zone}),Ae=k.padding?this<ue?-k.padding:k.padding:0;let nt=["years","months","days","hours","minutes","seconds"],At=k.unit;return Array.isArray(k.unit)&&(nt=k.unit,At=void 0),Xi(ue,this.plus(Ae),{...k,numeric:"always",units:nt,unit:At})}toRelativeCalendar(k={}){return this.isValid?Xi(k.base||ti.fromObject({},{zone:this.zone}),this,{...k,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...k){if(!k.every(ti.isDateTime))throw new D("min requires all arguments be DateTimes");return pi(k,ue=>ue.valueOf(),Math.min)}static max(...k){if(!k.every(ti.isDateTime))throw new D("max requires all arguments be DateTimes");return pi(k,ue=>ue.valueOf(),Math.max)}static fromFormatExplain(k,ue,Ae={}){const{locale:nt=null,numberingSystem:At=null}=Ae;return qa(te.fromOpts({locale:nt,numberingSystem:At,defaultToEN:!0}),k,ue)}static fromStringExplain(k,ue,Ae={}){return ti.fromFormatExplain(k,ue,Ae)}static get DATE_SHORT(){return L}static get DATE_MED(){return _}static get DATE_MED_WITH_WEEKDAY(){return M}static get DATE_FULL(){return N}static get DATE_HUGE(){return P}static get TIME_SIMPLE(){return G}static get TIME_WITH_SECONDS(){return x}static get TIME_WITH_SHORT_OFFSET(){return V}static get TIME_WITH_LONG_OFFSET(){return Q}static get TIME_24_SIMPLE(){return Y}static get TIME_24_WITH_SECONDS(){return le}static get TIME_24_WITH_SHORT_OFFSET(){return fe}static get TIME_24_WITH_LONG_OFFSET(){return K}static get DATETIME_SHORT(){return ee}static get DATETIME_SHORT_WITH_SECONDS(){return ie}static get DATETIME_MED(){return T}static get DATETIME_MED_WITH_SECONDS(){return ae}static get DATETIME_MED_WITH_WEEKDAY(){return re}static get DATETIME_FULL(){return Me}static get DATETIME_FULL_WITH_SECONDS(){return Qe}static get DATETIME_HUGE(){return Le}static get DATETIME_HUGE_WITH_SECONDS(){return Ne}}function Ji(he){if(ti.isDateTime(he))return he;if(he&&he.valueOf&&pn(he.valueOf()))return ti.fromJSDate(he);if(he&&"object"==typeof he)return ti.fromObject(he);throw new D(`Unknown datetime argument: ${he}, of type ${typeof he}`)}},4304:(lt,we,p)=>{"use strict";p.d(we,{h6:()=>G});var i=p(4438),e=p(177),v=p(9969);const y="400ms cubic-bezier(0.4,0.0,0.2,1)";(0,v.iF)({height:0,visibility:"hidden"}),(0,v.i0)(y,(0,v.iF)({height:"*",visibility:"visible"})),(0,v.iF)({height:"*",visibility:"visible"}),(0,v.i0)(y,(0,v.iF)({height:0,visibility:"hidden"}));let h=(()=>{class x{static forRoot(){return{ngModule:x,providers:[]}}static{this.\u0275fac=function(Y){return new(Y||x)}}static{this.\u0275mod=i.$C({type:x})}static{this.\u0275inj=i.G2t({})}}return x})(),G=(()=>{class x{static forRoot(){return{ngModule:x,providers:[]}}static{this.\u0275fac=function(Y){return new(Y||x)}}static{this.\u0275mod=i.$C({type:x})}static{this.\u0275inj=i.G2t({imports:[e.MD,h]})}}return x})()},6932:(lt,we,p)=>{"use strict";p.d(we,{Li:()=>h});var i=p(4438),e=p(2806),v=p(2865),y=p(177);class I{constructor(E,F,L){this.nodes=E,this.viewRef=F,this.componentRef=L}}class D{constructor(E,F,L,_,M,N,P,G,x){this._viewContainerRef=E,this._renderer=F,this._elementRef=L,this._injector=_,this._componentFactoryResolver=M,this._ngZone=N,this._applicationRef=P,this._posService=G,this._document=x,this.onBeforeShow=new i.bkB,this.onShown=new i.bkB,this.onBeforeHide=new i.bkB,this.onHidden=new i.bkB,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}get isShown(){return!this._isHiding&&!!this._componentRef}attach(E){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(E),this}to(E){return this.container=E||this.container,this}position(E){return E?(this.attachment=E.attachment||this.attachment,this._elementRef=E.target||this._elementRef,this):this}provide(E){return this._providers.push(E),this}show(E={}){if(this._subscribePositioning(),this._innerComponent=void 0,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(E.content,E.context,E.initialState);const F=i.zZn.create({providers:this._providers,parent:this._injector});if(!this._componentFactory)return;if(this._componentRef=this._componentFactory.create(F,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,E),this.container instanceof i.aKT&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"string"==typeof this.container&&typeof this._document<"u"){const L=this._document.querySelector(this.container)||this._document.querySelector(this.containerDefaultSelector);if(!L)return;L.appendChild(this._componentRef.location.nativeElement)}!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(E.id?{id:E.id}:this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}hide(E){if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);const F=this._componentRef.location.nativeElement;return F.parentNode?.removeChild(F),this._contentRef?.componentRef?.destroy(),this._viewContainerRef&&this._contentRef?.viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),this._contentRef?.viewRef?.destroy(),this._contentRef=void 0,this._componentRef=void 0,this._removeGlobalListener(),this.onHidden.emit(E?{id:E}:null),this}toggle(){this.isShown?this.hide():this.show()}dispose(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}listen(E){this.triggers=E.triggers||this.triggers,this._listenOpts.outsideClick=E.outsideClick,this._listenOpts.outsideEsc=E.outsideEsc,E.target=E.target||this._elementRef?.nativeElement;const F=this._listenOpts.hide=()=>E.hide?E.hide():void this.hide(),L=this._listenOpts.show=M=>{E.show?E.show(M):this.show(M),M()};return this._renderer&&(this._unregisterListenersFn=(0,e.GL)(this._renderer,{target:E.target,triggers:E.triggers,show:L,hide:F,toggle:M=>{this.isShown?F():L(M)}})),this}_removeGlobalListener(){this._globalListener&&(this._globalListener(),this._globalListener=Function.prototype)}attachInline(E,F){return E&&F&&(this._inlineViewRef=E.createEmbeddedView(F)),this}_registerOutsideClick(){if(this._componentRef&&this._componentRef.location){if(this._listenOpts.outsideClick){const E=this._componentRef.location.nativeElement;setTimeout(()=>{this._renderer&&this._elementRef&&(this._globalListener=(0,e.Xt)(this._renderer,{targets:[E,this._elementRef.nativeElement],outsideClick:this._listenOpts.outsideClick,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))})}this._listenOpts.outsideEsc&&this._renderer&&this._elementRef&&(this._globalListener=(0,e.Fv)(this._renderer,{targets:[this._componentRef.location.nativeElement,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))}}getInnerComponent(){return this._innerComponent}_subscribePositioning(){this._zoneSubscription||!this.attachment||(this.onShown.subscribe(()=>{this._posService.position({element:this._componentRef?.location,target:this._elementRef,attachment:this.attachment,appendToBody:"body"===this.container})}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>{this._componentRef&&this._posService.calcPosition()}))}_unsubscribePositioning(){this._zoneSubscription&&(this._zoneSubscription.unsubscribe(),this._zoneSubscription=void 0)}_getContentRef(E,F,L){if(!E)return new I([]);if(E instanceof i.C4Q){if(this._viewContainerRef){const N=this._viewContainerRef.createEmbeddedView(E,F);return N.markForCheck(),new I([N.rootNodes],N)}const M=E.createEmbeddedView({});return this._applicationRef.attachView(M),new I([M.rootNodes],M)}if("function"==typeof E){const M=this._componentFactoryResolver.resolveComponentFactory(E),N=i.zZn.create({providers:this._providers,parent:this._injector}),P=M.create(N);return Object.assign(P.instance,L),this._applicationRef.attachView(P.hostView),new I([[P.location.nativeElement]],P.hostView,P)}const _=this._renderer?[this._renderer.createText(`${E}`)]:[];return new I([_])}}let h=(()=>{class f{constructor(F,L,_,M,N,P){this._componentFactoryResolver=F,this._ngZone=L,this._injector=_,this._posService=M,this._applicationRef=N,this._document=P}createLoader(F,L,_){return new D(L,_,F,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService,this._document)}static{this.\u0275fac=function(L){return new(L||f)(i.KVO(i.OM3),i.KVO(i.SKi),i.KVO(i.zZn),i.KVO(v.DF),i.KVO(i.o8S),i.KVO(y.qQ))}}static{this.\u0275prov=i.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}}return f})()},779:(lt,we,p)=>{"use strict";p.d(we,{I8:()=>ln,hZ:()=>vt,Q_:()=>xt});var i=p(4438),e=p(2806),v=p(177),y=p(6697);let I,w=(()=>{class z{constructor(){this._focusTrapStack=[]}register(J){this._focusTrapStack=this._focusTrapStack.filter(Ce=>Ce!==J);let _e=this._focusTrapStack;_e.length&&_e[_e.length-1]._disable(),_e.push(J),J._enable()}deregister(J){J._disable();const _e=this._focusTrapStack,Ce=_e.indexOf(J);-1!==Ce&&(_e.splice(Ce,1),_e.length&&_e[_e.length-1]._enable())}static{this.\u0275fac=function(_e){return new(_e||z)}}static{this.\u0275prov=i.jDH({token:z,factory:z.\u0275fac,providedIn:"root"})}}return z})();try{I=typeof Intl<"u"&&Intl.v8BreakIterator}catch{I=!1}let D=(()=>{class z{constructor(J){this._platformId=J,this.isBrowser=this._platformId?(0,v.UE)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!I)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(_e){return new(_e||z)(i.KVO(i.Agw))}}static{this.\u0275prov=i.jDH({token:z,factory:z.\u0275fac,providedIn:"root"})}}return z})(),f=(()=>{class z{constructor(J){this._platform=J}isDisabled(J){return J.hasAttribute("disabled")}isVisible(J){return function F(z){return!!(z.offsetWidth||z.offsetHeight||"function"==typeof z.getClientRects&&z.getClientRects().length)}(J)&&"visible"===getComputedStyle(J).visibility}isTabbable(J){if(!this._platform.isBrowser)return!1;const _e=function E(z){try{return z.frameElement}catch{return null}}(function Y(z){return z.ownerDocument&&z.ownerDocument.defaultView||window}(J));if(_e&&(-1===x(_e)||!this.isVisible(_e)))return!1;let Ce=J.nodeName.toLowerCase(),st=x(J);return J.hasAttribute("contenteditable")?-1!==st:!("iframe"===Ce||"object"===Ce||this._platform.WEBKIT&&this._platform.IOS&&!function V(z){let W=z.nodeName.toLowerCase(),J="input"===W&&z.type;return"text"===J||"password"===J||"select"===W||"textarea"===W}(J))&&("audio"===Ce?!!J.hasAttribute("controls")&&-1!==st:"video"===Ce?-1!==st&&(null!==st||this._platform.FIREFOX||J.hasAttribute("controls")):J.tabIndex>=0)}isFocusable(J,_e){return function Q(z){return!function _(z){return function N(z){return"input"==z.nodeName.toLowerCase()}(z)&&"hidden"==z.type}(z)&&(function L(z){let W=z.nodeName.toLowerCase();return"input"===W||"select"===W||"button"===W||"textarea"===W}(z)||function M(z){return function P(z){return"a"==z.nodeName.toLowerCase()}(z)&&z.hasAttribute("href")}(z)||z.hasAttribute("contenteditable")||G(z))}(J)&&!this.isDisabled(J)&&(_e?.ignoreVisibility||this.isVisible(J))}static{this.\u0275fac=function(_e){return new(_e||z)(i.KVO(D))}}static{this.\u0275prov=i.jDH({token:z,factory:z.\u0275fac,providedIn:"root"})}}return z})();function G(z){if(!z.hasAttribute("tabindex")||void 0===z.tabIndex)return!1;let W=z.getAttribute("tabindex");return"-32768"!=W&&!(!W||isNaN(parseInt(W,10)))}function x(z){if(!G(z))return null;const W=parseInt(z.getAttribute("tabindex")||"",10);return isNaN(W)?-1:W}function le(z){return null!=z&&"false"!=`${z}`}class fe{get enabled(){return this._enabled}set enabled(W){this._enabled=W,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(W,this._startAnchor),this._toggleAnchorTabIndex(W,this._endAnchor))}constructor(W,J,_e,Ce,st=!1){this._element=W,this._checker=J,this._ngZone=_e,this._document=Ce,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,st||this.attachAnchors()}destroy(){const W=this._startAnchor,J=this._endAnchor;W&&(W.removeEventListener("focus",this.startAnchorListener),W.parentNode&&W.parentNode.removeChild(W)),J&&(J.removeEventListener("focus",this.endAnchorListener),J.parentNode&&J.parentNode.removeChild(J)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(W=>{this._executeOnStable(()=>W(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(W=>{this._executeOnStable(()=>W(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(W=>{this._executeOnStable(()=>W(this.focusLastTabbableElement()))})}_getRegionBoundary(W){let J=this._element.querySelectorAll(`[cdk-focus-region-${W}], [cdkFocusRegion${W}], [cdk-focus-${W}]`);for(let _e=0;_e<J.length;_e++)J[_e].hasAttribute(`cdk-focus-${W}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${W}', use 'cdkFocusRegion${W}' instead. The deprecated attribute will be removed in 8.0.0.`,J[_e]):J[_e].hasAttribute(`cdk-focus-region-${W}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${W}', use 'cdkFocusRegion${W}' instead. The deprecated attribute will be removed in 8.0.0.`,J[_e]);return"start"==W?J.length?J[0]:this._getFirstTabbableElement(this._element):J.length?J[J.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const W=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(W){if(W.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",W),!this._checker.isFocusable(W)){const J=this._getFirstTabbableElement(W);return J?.focus(),!!J}return W.focus(),!0}return this.focusFirstTabbableElement()}focusFirstTabbableElement(){const W=this._getRegionBoundary("start");return W&&W.focus(),!!W}focusLastTabbableElement(){const W=this._getRegionBoundary("end");return W&&W.focus(),!!W}hasAttached(){return this._hasAttached}_getFirstTabbableElement(W){if(this._checker.isFocusable(W)&&this._checker.isTabbable(W))return W;let J=W.children||W.childNodes;for(let _e=0;_e<J.length;_e++){let Ce=J[_e].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(J[_e]):null;if(Ce)return Ce}return null}_getLastTabbableElement(W){if(this._checker.isFocusable(W)&&this._checker.isTabbable(W))return W;let J=W.children||W.childNodes;for(let _e=J.length-1;_e>=0;_e--){let Ce=J[_e].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(J[_e]):null;if(Ce)return Ce}return null}_createAnchor(){const W=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,W),W.classList.add("cdk-visually-hidden"),W.classList.add("cdk-focus-trap-anchor"),W.setAttribute("aria-hidden","true"),W}_toggleAnchorTabIndex(W,J){W?J.setAttribute("tabindex","0"):J.removeAttribute("tabindex")}toggleAnchors(W){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(W,this._startAnchor),this._toggleAnchorTabIndex(W,this._endAnchor))}_executeOnStable(W){this._ngZone.isStable?W():this._ngZone.onStable.pipe((0,y.s)(1)).subscribe(W)}}let K=(()=>{class z{constructor(J,_e,Ce){this._checker=J,this._ngZone=_e,this._document=Ce}create(J,_e=!1){return new fe(J,this._checker,this._ngZone,this._document,_e)}static{this.\u0275fac=function(_e){return new(_e||z)(i.KVO(f),i.KVO(i.SKi),i.KVO(v.qQ))}}static{this.\u0275prov=i.jDH({token:z,factory:z.\u0275fac,providedIn:"root"})}}return z})(),ee=(()=>{class z{get enabled(){return this.focusTrap.enabled}set enabled(J){this.focusTrap.enabled=le(J)}get autoCapture(){return this._autoCapture}set autoCapture(J){this._autoCapture=le(J)}constructor(J,_e,Ce){this._elementRef=J,this._focusTrapFactory=_e,this._previouslyFocusedElement=null,this._autoCapture=!1,this._document=Ce,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(J){const _e=J.autoCapture;_e&&!_e.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=this._document.activeElement,this.focusTrap.focusInitialElementWhenReady()}static{this.\u0275fac=function(_e){return new(_e||z)(i.rXU(i.aKT),i.rXU(K),i.rXU(v.qQ))}}static{this.\u0275dir=i.FsC({type:z,selectors:[["","focusTrap",""]],inputs:{enabled:[i.Mj6.None,"cdkTrapFocus","enabled"],autoCapture:[i.Mj6.None,"cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["focusTrap"],features:[i.OA$]})}}return z})(),ie=(()=>{class z{static forRoot(){return{ngModule:z,providers:[w,D,f]}}static{this.\u0275fac=function(_e){return new(_e||z)}}static{this.\u0275mod=i.$C({type:z})}static{this.\u0275inj=i.G2t({imports:[v.MD]})}}return z})();var T=p(6932),ae=p(2865);const re=["*"];let Me=(()=>{class z{constructor(){this.hide=()=>{},this.setClass=()=>{}}static{this.\u0275fac=function(_e){return new(_e||z)}}static{this.\u0275prov=i.jDH({token:z,factory:z.\u0275fac,providedIn:"platform"})}}return z})(),Le=(()=>{class z{static{this.\u0275fac=function(_e){return new(_e||z)}}static{this.\u0275prov=i.jDH({token:z,factory:z.\u0275fac,providedIn:"platform"})}}return z})();const Ne={backdrop:!0,keyboard:!0,focus:!0,show:!1,ignoreBackdropClick:!1,class:"",animated:!0,initialState:{},closeInterceptor:void 0},Je=new i.nKC("override-default-config"),Ee_OPEN="modal-open";let Ie=(()=>{class z{constructor(J,_e,Ce){this._element=_e,this._renderer=Ce,this.isShown=!1,this.isAnimated=!1,this._focusEl=null,this.isModalHiding=!1,this.clickStartedInContent=!1,this.config=Object.assign({},J)}ngOnInit(){this._focusEl=e.Al.activeElement,this.isAnimated&&this._renderer.addClass(this._element.nativeElement,"fade"),this._renderer.setStyle(this._element.nativeElement,"display","block"),setTimeout(()=>{this.isShown=!0,this._renderer.addClass(this._element.nativeElement,"show")},this.isAnimated?150:0),e.Al&&e.Al.body&&(this.bsModalService&&1===this.bsModalService.getModalsCount()&&(this.bsModalService.checkScrollbar(),this.bsModalService.setScrollbar()),this._renderer.addClass(e.Al.body,Ee_OPEN),this._renderer.setStyle(e.Al.body,"overflow-y","hidden")),this._element.nativeElement&&this._element.nativeElement.focus()}onClickStarted(J){this.clickStartedInContent=J.target!==this._element.nativeElement}onClickStop(J){this.config.ignoreBackdropClick||"static"===this.config.backdrop||J.target!==this._element.nativeElement||this.clickStartedInContent?this.clickStartedInContent=!1:(this.bsModalService?.setDismissReason("backdrop-click"),this.hide())}onPopState(){this.bsModalService?.setDismissReason("browser-back-navigation-clicked"),this.hide()}onEsc(J){this.isShown&&((27===J.keyCode||"Escape"===J.key)&&J.preventDefault(),this.config.keyboard&&this.level===this.bsModalService?.getModalsCount()&&(this.bsModalService?.setDismissReason("esc"),this.hide()))}ngOnDestroy(){this.isShown&&this._hide()}hide(){if(!this.isModalHiding){if(this.config.closeInterceptor)return void this.config.closeInterceptor().then(()=>this._hide(),()=>{});this._hide()}}_hide(){this.isModalHiding=!0,this._renderer.removeClass(this._element.nativeElement,"show"),setTimeout(()=>{this.isShown=!1,e.Al&&e.Al.body&&1===this.bsModalService?.getModalsCount()&&(this._renderer.removeClass(e.Al.body,Ee_OPEN),this._renderer.setStyle(e.Al.body,"overflow-y","")),this.bsModalService?.hide(this.config.id),this.isModalHiding=!1,this._focusEl&&this._focusEl.focus()},this.isAnimated?300:0)}static{this.\u0275fac=function(_e){return new(_e||z)(i.rXU(Le),i.rXU(i.aKT),i.rXU(i.sFG))}}static{this.\u0275cmp=i.VBU({type:z,selectors:[["modal-container"]],hostAttrs:["role","dialog","tabindex","-1",1,"modal"],hostVars:3,hostBindings:function(_e,Ce){1&_e&&i.bIt("mousedown",function(Fe){return Ce.onClickStarted(Fe)})("click",function(Fe){return Ce.onClickStop(Fe)})("popstate",function(){return Ce.onPopState()},!1,i.tSv)("keydown.esc",function(Fe){return Ce.onEsc(Fe)},!1,i.tSv),2&_e&&i.BMQ("aria-modal",!0)("aria-labelledby",Ce.config.ariaLabelledBy)("aria-describedby",Ce.config.ariaDescribedby)},ngContentSelectors:re,decls:3,vars:2,consts:[["role","document","focusTrap",""],[1,"modal-content"]],template:function(_e,Ce){1&_e&&(i.NAR(),i.j41(0,"div",0)(1,"div",1),i.SdG(2),i.k0s()()),2&_e&&i.HbH("modal-dialog"+(Ce.config.class?" "+Ce.config.class:""))},dependencies:[ee],encapsulation:2})}}return z})(),it=(()=>{class z{get isAnimated(){return this._isAnimated}set isAnimated(J){this._isAnimated=J}get isShown(){return this._isShown}set isShown(J){this._isShown=J,J?this.renderer.addClass(this.element.nativeElement,"show"):this.renderer.removeClass(this.element.nativeElement,"show")}constructor(J,_e){this._isAnimated=!1,this._isShown=!1,this.element=J,this.renderer=_e}ngOnInit(){this.isAnimated&&(this.renderer.addClass(this.element.nativeElement,"fade"),e.Aq.reflow(this.element.nativeElement)),this.isShown=!0}static{this.\u0275fac=function(_e){return new(_e||z)(i.rXU(i.aKT),i.rXU(i.sFG))}}static{this.\u0275cmp=i.VBU({type:z,selectors:[["bs-modal-backdrop"]],hostAttrs:[1,"modal-backdrop"],decls:0,vars:0,template:function(_e,Ce){},encapsulation:2})}}return z})(),vt=(()=>{class z{set config(J){this._config=this.getConfig(J)}get config(){return this._config}get isShown(){return this._isShown}constructor(J,_e,Ce,st,Fe){this._element=J,this._renderer=Ce,this.onShow=new i.bkB,this.onShown=new i.bkB,this.onHide=new i.bkB,this.onHidden=new i.bkB,this._isShown=!1,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.timerHideModal=0,this.timerRmBackDrop=0,this.isNested=!1,this.clickStartedInContent=!1,this._focusEl=null,this._backdrop=st.createLoader(J,_e,Ce),this._config=Fe||Ne}onClickStarted(J){this.clickStartedInContent=J.target!==this._element.nativeElement}onClickStop(J){this.config.ignoreBackdropClick||"static"===this.config.backdrop||J.target!==this._element.nativeElement||this.clickStartedInContent?this.clickStartedInContent=!1:(this.dismissReason="backdrop-click",this.hide(J))}onEsc(J){this._isShown&&((27===J.keyCode||"Escape"===J.key)&&J.preventDefault(),this.config.keyboard&&(this.dismissReason="esc",this.hide()))}ngOnDestroy(){this._isShown&&(this._isShown=!1,this.hideModal(),this._backdrop.dispose())}ngOnInit(){this._config=this._config||this.getConfig(),setTimeout(()=>{this._config.show&&this.show()},0)}toggle(){return this._isShown?this.hide():this.show()}show(){this.dismissReason=void 0,this.onShow.emit(this),!this._isShown&&(clearTimeout(this.timerHideModal),clearTimeout(this.timerRmBackDrop),this._isShown=!0,this.checkScrollbar(),this.setScrollbar(),e.Al&&e.Al.body&&(e.Al.body.classList.contains(Ee_OPEN)?this.isNested=!0:(this._renderer.addClass(e.Al.body,Ee_OPEN),this._renderer.setStyle(e.Al.body,"overflow-y","hidden"))),this.showBackdrop(()=>{this.showElement()}))}hide(J){if(this._isShown){if(J&&J.preventDefault(),this.config.closeInterceptor)return void this.config.closeInterceptor().then(()=>this._hide(),()=>{});this._hide()}}_hide(){this.onHide.emit(this),e.x.clearTimeout(this.timerHideModal),e.x.clearTimeout(this.timerRmBackDrop),this._isShown=!1,this._renderer.removeClass(this._element.nativeElement,"show"),this._config.animated?this.timerHideModal=e.x.setTimeout(()=>this.hideModal(),300):this.hideModal(),this._focusEl&&this._focusEl.focus()}getConfig(J){return Object.assign({},this._config,J)}showElement(){(!this._element.nativeElement.parentNode||this._element.nativeElement.parentNode.nodeType!==Node.ELEMENT_NODE)&&e.Al&&e.Al.body&&e.Al.body.appendChild(this._element.nativeElement),this._renderer.setAttribute(this._element.nativeElement,"aria-hidden","false"),this._renderer.setAttribute(this._element.nativeElement,"aria-modal","true"),this._renderer.setStyle(this._element.nativeElement,"display","block"),this._renderer.setProperty(this._element.nativeElement,"scrollTop",0),this._config.animated&&e.Aq.reflow(this._element.nativeElement),this._renderer.addClass(this._element.nativeElement,"show");const J=()=>{this._config.focus&&this._element.nativeElement.focus(),this.onShown.emit(this)};this._config.animated?setTimeout(J,300):J()}hideModal(){this._renderer.setAttribute(this._element.nativeElement,"aria-hidden","true"),this._renderer.setStyle(this._element.nativeElement,"display","none"),this.showBackdrop(()=>{this.isNested||(e.Al&&e.Al.body&&(this._renderer.removeClass(e.Al.body,Ee_OPEN),this._renderer.setStyle(e.Al.body,"overflow-y","")),this.resetScrollbar()),this.resetAdjustments(),this.focusOtherModal(),this.onHidden.emit(this)})}showBackdrop(J){if(!this._isShown||!this.config.backdrop||this.backdrop&&this.backdrop.instance.isShown)if(!this._isShown&&this.backdrop){this.backdrop.instance.isShown=!1;const _e=()=>{this.removeBackdrop(),J&&J()};this.backdrop.instance.isAnimated?this.timerRmBackDrop=e.x.setTimeout(_e,150):_e()}else J&&J();else{if(this.removeBackdrop(),this._backdrop.attach(it).to("body").show({isAnimated:this._config.animated}),this.backdrop=this._backdrop._componentRef,!J)return;if(!this._config.animated)return void J();setTimeout(J,150)}}removeBackdrop(){this._backdrop.hide()}focusOtherModal(){if(null==this._element.nativeElement.parentElement)return;const J=this._element.nativeElement.parentElement.querySelectorAll(".in[bsModal]");J.length&&J[J.length-1].focus()}resetAdjustments(){this._renderer.setStyle(this._element.nativeElement,"paddingLeft",""),this._renderer.setStyle(this._element.nativeElement,"paddingRight","")}checkScrollbar(){this.isBodyOverflowing=e.Al.body.clientWidth<e.x.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()}setScrollbar(){e.Al&&(this.originalBodyPadding=parseInt(e.x.getComputedStyle(e.Al.body).getPropertyValue("padding-right")||0,10),this.isBodyOverflowing&&(e.Al.body.style.paddingRight=`${this.originalBodyPadding+this.scrollbarWidth}px`))}resetScrollbar(){e.Al.body.style.paddingRight=`${this.originalBodyPadding}px`}getScrollbarWidth(){const J=this._renderer.createElement("div");this._renderer.addClass(J,"modal-scrollbar-measure"),this._renderer.appendChild(e.Al.body,J);const _e=J.offsetWidth-J.clientWidth;return this._renderer.removeChild(e.Al.body,J),_e}static{this.\u0275fac=function(_e){return new(_e||z)(i.rXU(i.aKT),i.rXU(i.c1b),i.rXU(i.sFG),i.rXU(T.Li),i.rXU(Je,8))}}static{this.\u0275dir=i.FsC({type:z,selectors:[["","bsModal",""]],hostBindings:function(_e,Ce){1&_e&&i.bIt("mousedown",function(Fe){return Ce.onClickStarted(Fe)})("mouseup",function(Fe){return Ce.onClickStop(Fe)})("keydown.esc",function(Fe){return Ce.onEsc(Fe)})},inputs:{config:"config",closeInterceptor:"closeInterceptor"},outputs:{onShow:"onShow",onShown:"onShown",onHide:"onHide",onHidden:"onHidden"},exportAs:["bs-modal"]})}}return z})(),hn=1,ln=(()=>{class z{constructor(J,_e,Ce){this.clf=_e,this.modalDefaultOption=Ce,this.onShow=new i.bkB,this.onShown=new i.bkB,this.onHide=new i.bkB,this.onHidden=new i.bkB,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.modalsCount=0,this.loaders=[],this._focusEl=null,this._backdropLoader=this.clf.createLoader(),this._renderer=J.createRenderer(null,null),this.config=Ce?Object.assign({},Ne,Ce):Ne}show(J,_e){this._focusEl=e.Al.activeElement,this.modalsCount++,this._createLoaders();const Ce=_e?.id||hn++;return this.config=this.modalDefaultOption?Object.assign({},Ne,this.modalDefaultOption,_e):Object.assign({},Ne,_e),this.config.id=Ce,this._showBackdrop(),this.lastDismissReason=void 0,this._showModal(J)}hide(J){(1===this.modalsCount||null==J)&&(this._hideBackdrop(),this.resetScrollbar()),this.modalsCount=this.modalsCount>=1&&null!=J?this.modalsCount-1:0,setTimeout(()=>{this._hideModal(J),this.removeLoaders(J)},this.config.animated?150:0),this._focusEl&&this._focusEl.focus()}_showBackdrop(){const J=!0===this.config.backdrop||"static"===this.config.backdrop,_e=!this.backdropRef||!this.backdropRef.instance.isShown;1===this.modalsCount&&(this.removeBackdrop(),J&&_e&&(this._backdropLoader.attach(it).to("body").show({isAnimated:this.config.animated}),this.backdropRef=this._backdropLoader._componentRef))}_hideBackdrop(){this.backdropRef&&(this.backdropRef.instance.isShown=!1,setTimeout(()=>this.removeBackdrop(),this.config.animated?150:0))}_showModal(J){const _e=this.loaders[this.loaders.length-1];if(this.config&&this.config.providers)for(const Fe of this.config.providers)_e.provide(Fe);const Ce=new Me,st=_e.provide({provide:Le,useValue:this.config}).provide({provide:Me,useValue:Ce}).attach(Ie).to("body");return Ce.hide=()=>this.hide(Ce.id),Ce.setClass=Fe=>{st.instance&&(st.instance.config.class=Fe)},Ce.onHidden=new i.bkB,Ce.onHide=new i.bkB,this.copyEvent(_e.onBeforeHide,Ce.onHide),this.copyEvent(_e.onHidden,Ce.onHidden),st.show({content:J,isAnimated:this.config.animated,initialState:this.config.initialState,bsModalService:this,id:this.config.id}),st.instance&&(st.instance.level=this.getModalsCount(),Ce.content=_e.getInnerComponent(),Ce.id=st.instance.config?.id),Ce}_hideModal(J){if(null!=J){const _e=this.loaders.findIndex(st=>st.instance?.config.id===J),Ce=this.loaders[_e];Ce&&Ce.hide(J)}else this.loaders.forEach(_e=>{_e.instance&&_e.hide(_e.instance.config.id)})}getModalsCount(){return this.modalsCount}setDismissReason(J){this.lastDismissReason=J}removeBackdrop(){this._renderer.removeClass(e.Al.body,Ee_OPEN),this._renderer.setStyle(e.Al.body,"overflow-y",""),this._backdropLoader.hide(),this.backdropRef=void 0}checkScrollbar(){this.isBodyOverflowing=e.Al.body.clientWidth<window.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()}setScrollbar(){e.Al&&(this.originalBodyPadding=parseInt(window.getComputedStyle(e.Al.body).getPropertyValue("padding-right")||"0",10),this.isBodyOverflowing&&(e.Al.body.style.paddingRight=`${this.originalBodyPadding+this.scrollbarWidth}px`))}resetScrollbar(){e.Al.body.style.paddingRight=`${this.originalBodyPadding}px`}getScrollbarWidth(){const J=this._renderer.createElement("div");this._renderer.addClass(J,"modal-scrollbar-measure"),this._renderer.appendChild(e.Al.body,J);const _e=J.offsetWidth-J.clientWidth;return this._renderer.removeChild(e.Al.body,J),_e}_createLoaders(){const J=this.clf.createLoader();this.copyEvent(J.onBeforeShow,this.onShow),this.copyEvent(J.onShown,this.onShown),this.copyEvent(J.onBeforeHide,this.onHide),this.copyEvent(J.onHidden,this.onHidden),this.loaders.push(J)}removeLoaders(J){if(null!=J){const _e=this.loaders.findIndex(Ce=>Ce.instance?.config.id===J);_e>=0&&(this.loaders.splice(_e,1),this.loaders.forEach((Ce,st)=>{Ce.instance&&(Ce.instance.level=st+1)}))}else this.loaders.splice(0,this.loaders.length)}copyEvent(J,_e){J.subscribe(Ce=>{_e.emit(this.lastDismissReason||Ce)})}static{this.\u0275fac=function(_e){return new(_e||z)(i.KVO(i._9s),i.KVO(T.Li),i.KVO(Je,8))}}static{this.\u0275prov=i.jDH({token:z,factory:z.\u0275fac,providedIn:"platform"})}}return z})();ie.forRoot();let xt=(()=>{class z{static forRoot(){return{ngModule:z,providers:[ln,T.Li,ae.DF]}}static forChild(){return{ngModule:z,providers:[ln,T.Li,ae.DF]}}static{this.\u0275fac=function(_e){return new(_e||z)}}static{this.\u0275mod=i.$C({type:z})}static{this.\u0275inj=i.G2t({imports:[ie]})}}return z})()},2865:(lt,we,p)=>{"use strict";p.d(we,{Rz:()=>G,DF:()=>Ot});var i=p(2806),e=p(4438),v=p(177),y=p(1413),w=p(7786),I=p(3726),D=p(7673),h=p(6780),f=p(8359);const E={schedule(je){let oe=requestAnimationFrame,H=cancelAnimationFrame;const{delegate:te}=E;te&&(oe=te.requestAnimationFrame,H=te.cancelAnimationFrame);const Ue=oe(et=>{H=void 0,je(et)});return new f.yU(()=>H?.(Ue))},requestAnimationFrame(...je){const{delegate:oe}=E;return(oe?.requestAnimationFrame||requestAnimationFrame)(...je)},cancelAnimationFrame(...je){const{delegate:oe}=E;return(oe?.cancelAnimationFrame||cancelAnimationFrame)(...je)},delegate:void 0};var L=p(9687);const M=new class _ extends L.q{flush(oe){this._active=!0;const H=this._scheduled;this._scheduled=void 0;const{actions:te}=this;let Ue;oe=oe||te.shift();do{if(Ue=oe.execute(oe.state,oe.delay))break}while((oe=te[0])&&oe.id===H&&te.shift());if(this._active=!1,Ue){for(;(oe=te[0])&&oe.id===H&&te.shift();)oe.unsubscribe();throw Ue}}}(class F extends h.R{constructor(oe,H){super(oe,H),this.scheduler=oe,this.work=H}requestAsyncId(oe,H,te=0){return null!==te&&te>0?super.requestAsyncId(oe,H,te):(oe.actions.push(this),oe._scheduled||(oe._scheduled=E.requestAnimationFrame(()=>oe.flush(void 0))))}recycleAsyncId(oe,H,te=0){var Ue;if(null!=te?te>0:this.delay>0)return super.recycleAsyncId(oe,H,te);const{actions:et}=oe;null!=H&&(null===(Ue=et[et.length-1])||void 0===Ue?void 0:Ue.id)!==H&&(E.cancelAnimationFrame(H),oe._scheduled=void 0)}});var P=function(je){return je.top="top",je.bottom="bottom",je.left="left",je.right="right",je.auto="auto",je.end="right",je.start="left",je["top left"]="top left",je["top right"]="top right",je["right top"]="right top",je["right bottom"]="right bottom",je["bottom right"]="bottom right",je["bottom left"]="bottom left",je["left bottom"]="left bottom",je["left top"]="left top",je["top start"]="top left",je["top end"]="top right",je["end top"]="right top",je["end bottom"]="right bottom",je["bottom end"]="bottom right",je["bottom start"]="bottom left",je["start bottom"]="start bottom",je["start top"]="left top",je}(P||{}),G=function(je){return je.top="top",je.bottom="bottom",je.left="start",je.right="end",je.auto="auto",je.end="end",je.start="start",je["top left"]="top start",je["top right"]="top end",je["right top"]="end top",je["right bottom"]="end bottom",je["bottom right"]="bottom end",je["bottom left"]="bottom start",je["left bottom"]="start bottom",je["left top"]="start top",je["top start"]="top start",je["top end"]="top end",je["end top"]="end top",je["end bottom"]="end bottom",je["bottom end"]="bottom end",je["bottom start"]="bottom start",je["start bottom"]="start bottom",je["start top"]="start top",je}(G||{});function x(je,oe){if(1!==je.nodeType)return[];const te=je.ownerDocument.defaultView?.getComputedStyle(je,null);return oe?te&&te[oe]:te}function V(je){if(!je)return document.documentElement;let te,H=je?.offsetParent;for(;null===H&&je.nextElementSibling&&te!==je.nextElementSibling;)te=je.nextElementSibling,H=te.offsetParent;const Ue=H&&H.nodeName;return Ue&&"BODY"!==Ue&&"HTML"!==Ue?H&&-1!==["TH","TD","TABLE"].indexOf(H.nodeName)&&"static"===x(H,"position")?V(H):H:te?te.ownerDocument.documentElement:document.documentElement}function Y(je){return null!==je.parentNode?Y(je.parentNode):je}function le(je,oe){if(!(je&&je.nodeType&&oe&&oe.nodeType))return document.documentElement;const H=je.compareDocumentPosition(oe)&Node.DOCUMENT_POSITION_FOLLOWING,te=H?je:oe,Ue=H?oe:je,et=document.createRange();et.setStart(te,0),et.setEnd(Ue,0);const ft=et.commonAncestorContainer;if(je!==ft&&oe!==ft||te.contains(Ue))return function Q(je){const{nodeName:oe}=je;return"BODY"!==oe&&("HTML"===oe||V(je.firstElementChild)===je)}(ft)?ft:V(ft);const Ft=Y(je);return Ft.host?le(Ft.host,oe):le(je,Y(oe).host)}function fe(je){if(!je||!je.parentElement)return document.documentElement;let oe=je.parentElement;for(;oe?.parentElement&&"none"===x(oe,"transform");)oe=oe.parentElement;return oe||document.documentElement}function K(je,oe){const H="x"===oe?"Left":"Top",te="Left"===H?"Right":"Bottom";return parseFloat(je[`border${H}Width`])+parseFloat(je[`border${te}Width`])}function ee(je,oe,H){return Math.max(oe[`offset${je}`],oe[`scroll${je}`],H[`client${je}`],H[`offset${je}`],H[`scroll${je}`],0)}function ie(je){const oe=je.body,H=je.documentElement;return{height:ee("Height",oe,H),width:ee("Width",oe,H)}}function T(je){return{...je,right:(je.left||0)+je.width,bottom:(je.top||0)+je.height}}function re(je){return"number"==typeof je||"[object Number]"===Object.prototype.toString.call(je)}function Me(je){const oe=je.getBoundingClientRect();if(!(oe&&re(oe.top)&&re(oe.left)&&re(oe.bottom)&&re(oe.right)))return oe;const H={left:oe.left,top:oe.top,width:oe.right-oe.left,height:oe.bottom-oe.top},te="HTML"===je.nodeName?ie(je.ownerDocument):void 0,Ue=te?.width||je.clientWidth||re(oe.right)&&re(H.left)&&oe.right-H.left||0,et=te?.height||je.clientHeight||re(oe.bottom)&&re(H.top)&&oe.bottom-H.top||0;let ft=je.offsetWidth-Ue,Ft=je.offsetHeight-et;if(ft||Ft){const sn=x(je);ft-=K(sn,"x"),Ft-=K(sn,"y"),H.width-=ft,H.height-=Ft}return T(H)}function Qe(je,oe,H=!1){const te="HTML"===oe.nodeName,Ue=Me(je),et=Me(oe),ft=x(oe),Ft=parseFloat(ft.borderTopWidth),sn=parseFloat(ft.borderLeftWidth);H&&te&&(et.top=Math.max(et.top??0,0),et.left=Math.max(et.left??0,0));const cn=T({top:(Ue.top??0)-(et.top??0)-Ft,left:(Ue.left??0)-(et.left??0)-sn,width:Ue.width,height:Ue.height});if(cn.marginTop=0,cn.marginLeft=0,te){const In=parseFloat(ft.marginTop),An=parseFloat(ft.marginLeft);re(cn.top)&&(cn.top-=Ft-In),re(cn.bottom)&&(cn.bottom-=Ft-In),re(cn.left)&&(cn.left-=sn-An),re(cn.right)&&(cn.right-=sn-An),cn.marginTop=In,cn.marginLeft=An}return cn}function Le(je){return"HTML"===je.nodeName?je:je.parentNode||je.host}function Ne(je){if(!je)return document.body;switch(je.nodeName){case"HTML":case"BODY":return je.ownerDocument.body;case"#document":return je.body}const{overflow:oe,overflowX:H,overflowY:te}=x(je);return/(auto|scroll|overlay)/.test(String(oe)+String(te)+String(H))?je:Ne(Le(je))}function Je(je,oe="top"){const H="top"===oe?"scrollTop":"scrollLeft",te=je.nodeName;return"BODY"===te||"HTML"===te?(je.ownerDocument.scrollingElement||je.ownerDocument.documentElement)[H]:je[H]}function be(je){const oe=je.nodeName;return"BODY"!==oe&&"HTML"!==oe&&("fixed"===x(je,"position")||be(Le(je)))}function se(je,oe,H=0,te,Ue=!1){let et={top:0,left:0};const ft=Ue?fe(je):le(je,oe);if("viewport"===te)et=function Ee(je,oe=!1){const H=je.ownerDocument.documentElement,te=Qe(je,H),Ue=Math.max(H.clientWidth,window.innerWidth||0),et=Math.max(H.clientHeight,window.innerHeight||0),ft=oe?0:Je(H),Ft=oe?0:Je(H,"left");return T({top:ft-Number(te?.top)+Number(te?.marginTop),left:Ft-Number(te?.left)+Number(te?.marginLeft),width:Ue,height:et})}(ft,Ue);else{let Ft;"scrollParent"===te?(Ft=Ne(Le(oe)),"BODY"===Ft.nodeName&&(Ft=je.ownerDocument.documentElement)):Ft="window"===te?je.ownerDocument.documentElement:te;const sn=Qe(Ft,ft,Ue);if(sn&&"HTML"===Ft.nodeName&&!be(ft)){const{height:cn,width:In}=ie(je.ownerDocument);re(et.top)&&re(sn.top)&&re(sn.marginTop)&&(et.top+=sn.top-sn.marginTop),re(et.top)&&(et.bottom=Number(cn)+Number(sn.top)),re(et.left)&&re(sn.left)&&re(sn.marginLeft)&&(et.left+=sn.left-sn.marginLeft),re(et.top)&&(et.right=Number(In)+Number(sn.left))}else sn&&(et=sn)}return re(et.left)&&(et.left+=H),re(et.top)&&(et.top+=H),re(et.right)&&(et.right-=H),re(et.bottom)&&(et.bottom-=H),et}function Oe({width:je,height:oe}){return je*oe}function Ie(je,oe,H,te,Ue=["top","bottom","right","left"],et="viewport",ft=0){if(-1===je.indexOf("auto"))return je;const Ft=se(H,te,ft,et),sn={top:{width:Ft?.width??0,height:(oe?.top??0)-(Ft?.top??0)},right:{width:(Ft?.right??0)-(oe?.right??0),height:Ft?.height??0},bottom:{width:Ft?.width??0,height:(Ft?.bottom??0)-(oe?.bottom??0)},left:{width:(oe.left??0)-(Ft?.left??0),height:Ft?.height??0}},cn=Object.keys(sn).map(Pn=>({position:Pn,...sn[Pn],area:Oe(sn[Pn])})).sort((Pn,ki)=>ki.area-Pn.area);let In=cn.filter(({width:Pn,height:ki})=>Pn>=H.clientWidth&&ki>=H.clientHeight);In=In.filter(({position:Pn})=>Ue.some(ki=>ki===Pn));const An=In.length>0?In[0].position:cn[0].position,Fn=je.split(" ")[1];return H.className=H.className.replace(/bs-tooltip-auto/g,`bs-tooltip-${(0,i.Bu)().isBs5?G[An]:An}`),An+(Fn?`-${Fn}`:"")}const vt=(je,oe=0)=>je?parseFloat(je):oe;function hn(je){const H=je.ownerDocument.defaultView?.getComputedStyle(je),te=vt(H?.marginTop)+vt(H?.marginBottom),Ue=vt(H?.marginLeft)+vt(H?.marginRight);return{width:Number(je.offsetWidth)+Ue,height:Number(je.offsetHeight)+te}}function ln(je,oe,H){return Qe(oe,H?fe(je):le(je,oe),H)}function Mt(je,oe,H){const te=H.split(" ")[0],Ue=hn(je),et={width:Ue.width,height:Ue.height},ft=-1!==["right","left"].indexOf(te),Ft=ft?"top":"left",sn=ft?"left":"top",cn=ft?"height":"width",In=ft?"width":"height";return et[Ft]=(oe[Ft]??0)+oe[cn]/2-Ue[cn]/2,et[sn]=te===sn?(oe[sn]??0)-Ue[In]:oe[function xe(je){const oe={left:"right",right:"left",bottom:"top",top:"bottom"};return je.replace(/left|right|bottom|top/g,H=>oe[H])}(sn)]??0,et}function xt(je,oe){return!!je.modifiers[oe]?.enabled}const z={top:["top","top start","top end"],bottom:["bottom","bottom start","bottom end"],start:["start","start top","start bottom"],end:["end","end top","end bottom"]};function W(je,oe){return!!(0,i.Bu)().isBs5&&z[oe].includes(je)}function Ce(je,oe,H){!je||!oe||Object.keys(oe).forEach(te=>{let Ue="";-1!==["width","height","top","right","bottom","left"].indexOf(te)&&function ae(je){return""!==je&&!isNaN(parseFloat(je))&&isFinite(Number(je))}(oe[te])&&(Ue="px"),H?H.setStyle(je,te,`${String(oe[te])}${Ue}`):je.style[te]=String(oe[te])+Ue})}function st(je){let oe=je.offsets.target;const H=je.instance.target.querySelector(".arrow");if(!H)return je;const te=-1!==["left","right"].indexOf(je.placement.split(" ")[0]),Ue=te?"height":"width",et=te?"Top":"Left",ft=et.toLowerCase(),Ft=te?"left":"top",sn=te?"bottom":"right",cn=hn(H)[Ue],In=je.placement.split(" ")[1];(je.offsets.host[sn]??0)-cn<(oe[ft]??0)&&(oe[ft]-=(oe[ft]??0)-((je.offsets.host[sn]??0)-cn)),Number(je.offsets.host[ft])+Number(cn)>(oe[sn]??0)&&(oe[ft]+=Number(je.offsets.host[ft])+Number(cn)-Number(oe[sn])),oe=T(oe);const An=x(je.instance.target),Fn=parseFloat(An[`margin${et}`])||0,Pn=parseFloat(An[`border${et}Width`])||0;let ki;if(In){const Rt=parseFloat(An.borderRadius)||0,Wt=Number(Fn+Pn+Rt);ki=ft===In?Number(je.offsets.host[ft])+Wt:Number(je.offsets.host[ft])+Number(je.offsets.host[Ue]-Wt)}else ki=Number(je.offsets.host[ft])+Number(je.offsets.host[Ue]/2-cn/2);let wi=ki-(oe[ft]??0)-Fn-Pn;return wi=Math.max(Math.min(oe[Ue]-(cn+5),wi),0),je.offsets.arrow={[ft]:Math.round(wi),[Ft]:""},je.instance.arrow=H,je}function Fe(je){if(je.offsets.target=T(je.offsets.target),!xt(je.options,"flip"))return je.offsets.target={...je.offsets.target,...Mt(je.instance.target,je.offsets.host,je.placement)},je;const oe=se(je.instance.target,je.instance.host,0,"viewport",!1);let H=je.placement.split(" ")[0],te=je.placement.split(" ")[1]||"";const Ft=Ie("auto",je.offsets.host,je.instance.target,je.instance.host,je.options.allowedPositions),sn=[H,Ft];return sn.forEach((cn,In)=>{if(H!==cn||sn.length===In+1)return;H=je.placement.split(" ")[0];const An="left"===H&&Math.floor(je.offsets.target.right??0)>Math.floor(je.offsets.host.left??0)||"right"===H&&Math.floor(je.offsets.target.left??0)<Math.floor(je.offsets.host.right??0)||"top"===H&&Math.floor(je.offsets.target.bottom??0)>Math.floor(je.offsets.host.top??0)||"bottom"===H&&Math.floor(je.offsets.target.top??0)<Math.floor(je.offsets.host.bottom??0),Fn=Math.floor(je.offsets.target.left??0)<Math.floor(oe.left??0),Pn=Math.floor(je.offsets.target.right??0)>Math.floor(oe.right??0),ki=Math.floor(je.offsets.target.top??0)<Math.floor(oe.top??0),wi=Math.floor(je.offsets.target.bottom??0)>Math.floor(oe.bottom??0),Rt="left"===H&&Fn||"right"===H&&Pn||"top"===H&&ki||"bottom"===H&&wi,Wt=-1!==["top","bottom"].indexOf(H),_t=Wt&&"left"===te&&Fn||Wt&&"right"===te&&Pn||!Wt&&"left"===te&&ki||!Wt&&"right"===te&&wi;(An||Rt||_t)&&((An||Rt)&&(H=sn[In+1]),_t&&(te=function pt(je){return"right"===je?"left":"left"===je?"right":je}(te)),je.placement=H+(te?` ${te}`:""),je.offsets.target={...je.offsets.target,...Mt(je.instance.target,je.offsets.host,je.placement)})}),je}function kt(je){if(!xt(je.options,"preventOverflow"))return je;const oe="transform",H=je.instance.target.style,{top:te,left:Ue,[oe]:et}=H;H.top="",H.left="",H[oe]="";const ft=se(je.instance.target,je.instance.host,0,je.options.modifiers.preventOverflow?.boundariesElement||"scrollParent",!1);H.top=te,H.left=Ue,H[oe]=et;const sn={primary(cn){let In=je.offsets.target[cn];return(je.offsets.target[cn]??0)<(ft[cn]??0)&&(In=Math.max(je.offsets.target[cn]??0,ft[cn]??0)),{[cn]:In}},secondary(cn){const In="right"===cn,An=In?"left":"top";let Pn=je.offsets.target[An];return(je.offsets.target[cn]??0)>(ft[cn]??0)&&(Pn=Math.min(je.offsets.target[An]??0,(ft[cn]??0)-je.offsets.target[In?"width":"height"])),{[An]:Pn}}};return["left","right","top","bottom"].forEach(cn=>{const In=-1!==["left","top","start"].indexOf(cn)?sn.primary:sn.secondary;je.offsets.target={...je.offsets.target,...In(cn)}}),je}function mt(je){const oe=je.placement,H=oe.split(" ")[0],te=oe.split(" ")[1];if(te){const{host:Ue,target:et}=je.offsets,ft=-1!==["bottom","top"].indexOf(H),Ft=ft?"left":"top",sn=ft?"width":"height",cn={start:{[Ft]:Ue[Ft]},end:{[Ft]:(Ue[Ft]??0)+Ue[sn]-et[sn]}};je.offsets.target={...et,[Ft]:Ft===te?cn.start[Ft]:cn.end[Ft]}}return je}const $t=new class tt{position(oe,H){return this.offset(oe,H)}offset(oe,H){return ln(H,oe)}positionElements(oe,H,te,Ue,et){const ft=[Fe,mt,kt,st],sn=function rt(je,oe,H,te){if(!je||!oe)return;const Ue=ln(je,oe);!H.match(/^(auto)*\s*(left|right|top|bottom|start|end)*$/)&&!H.match(/^(left|right|top|bottom|start|end)*(?: (left|right|top|bottom|start|end))*$/)&&(H="auto");const et=!!H.match(/auto/g);let ft=H.match(/auto\s(left|right|top|bottom|start|end)/)?H.split(" ")[1]||"auto":H;const Ft=ft.match(/^(left|right|top|bottom|start|end)* ?(?!\1)(left|right|top|bottom|start|end)?/);return Ft&&(ft=Ft[1]+(Ft[2]?` ${Ft[2]}`:"")),-1!==["left right","right left","top bottom","bottom top"].indexOf(ft)&&(ft="auto"),ft=Ie(ft,Ue,je,oe,te?te.allowedPositions:void 0),{options:te||{modifiers:{}},instance:{target:je,host:oe,arrow:void 0},offsets:{target:Mt(je,Ue,ft),host:Ue,arrow:void 0},positionFixed:!1,placement:ft,placementAuto:et}}(H,oe,P[te],et);if(sn)return ft.reduce((cn,In)=>In(cn),sn)}};function en(je,oe,H,te,Ue,et){const ft=$t.positionElements(je,oe,H,te,Ue);if(!ft)return;const Ft=function it(je){return{width:je.offsets.target.width,height:je.offsets.target.height,left:Math.floor(je.offsets.target.left??0),top:Math.round(je.offsets.target.top??0),bottom:Math.round(je.offsets.target.bottom??0),right:Math.floor(je.offsets.target.right??0)}}(ft);Ce(oe,{"will-change":"transform",top:"0px",left:"0px",transform:`translate3d(${Ft.left}px, ${Ft.top}px, 0px)`},et),ft.instance.arrow&&Ce(ft.instance.arrow,ft.offsets.arrow,et),function _e(je,oe){const H=je.instance.target;let te=H.className;const Ue=(0,i.Bu)().isBs5?G[je.placement]:je.placement;je.placementAuto&&(te=te.replace(/bs-popover-auto/g,`bs-popover-${Ue}`),te=te.replace(/ms-2|me-2|mb-2|mt-2/g,""),te=te.replace(/bs-tooltip-auto/g,`bs-tooltip-${Ue}`),te=te.replace(/\sauto/g,` ${Ue}`),-1!==te.indexOf("popover")&&(te=te+" "+function J(je){return(0,i.Bu)().isBs5?W(je,"end")?"ms-2":W(je,"start")?"me-2":W(je,"top")?"mb-2":W(je,"bottom")?"mt-2":"":""}(Ue)),-1!==te.indexOf("popover")&&-1===te.indexOf("popover-auto")&&(te+=" popover-auto"),-1!==te.indexOf("tooltip")&&-1===te.indexOf("tooltip-auto")&&(te+=" tooltip-auto")),te=te.replace(/left|right|top|bottom|end|start/g,`${Ue.split(" ")[0]}`),oe?oe.setAttribute(H,"class",te):H.className=te}(ft,et)}let Ot=(()=>{class je{constructor(H,te,Ue){this.update$$=new y.B,this.positionElements=new Map,this.isDisabled=!1,(0,v.UE)(Ue)&&H.runOutsideAngular(()=>{this.triggerEvent$=(0,w.h)((0,I.R)(window,"scroll",{passive:!0}),(0,I.R)(window,"resize",{passive:!0}),(0,D.of)(0,M),this.update$$),this.triggerEvent$.subscribe(()=>{this.isDisabled||this.positionElements.forEach(et=>{en(Yt(et.target),Yt(et.element),et.attachment,et.appendToBody,this.options,te.createRenderer(null,null))})})})}position(H){this.addPositionElement(H)}get event$(){return this.triggerEvent$}disable(){this.isDisabled=!0}enable(){this.isDisabled=!1}addPositionElement(H){this.positionElements.set(Yt(H.element),H)}calcPosition(){this.update$$.next(null)}deletePositionElement(H){this.positionElements.delete(Yt(H))}setOptions(H){this.options=H}static{this.\u0275fac=function(te){return new(te||je)(e.KVO(e.SKi),e.KVO(e._9s),e.KVO(e.Agw))}}static{this.\u0275prov=e.jDH({token:je,factory:je.\u0275fac,providedIn:"root"})}}return je})();function Yt(je){return"string"==typeof je?document.querySelector(je):je instanceof e.aKT?je.nativeElement:je??null}},3816:(lt,we,p)=>{"use strict";p.d(we,{jr:()=>L});var i=p(4438),e=p(177);let L=(()=>{class _{static forRoot(){return{ngModule:_,providers:[]}}static{this.\u0275fac=function(P){return new(P||_)}}static{this.\u0275mod=i.$C({type:_})}static{this.\u0275inj=i.G2t({imports:[e.MD]})}}return _})()},534:(lt,we,p)=>{"use strict";p.d(we,{Ss:()=>_,dg:()=>L});var i=p(4438),e=p(2806),v=p(2865),y=p(1635),w=p(6932),I=p(1584),D=p(177);const h=["*"];let f=(()=>{class M{constructor(){this.adaptivePosition=!0,this.placement="top",this.triggers="hover focus",this.delay=0}static{this.\u0275fac=function(G){return new(G||M)}}static{this.\u0275prov=i.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})(),E=(()=>{class M{get _bsVersions(){return(0,e.Bu)()}constructor(P){Object.assign(this,P)}ngAfterViewInit(){this.classMap={in:!1,fade:!1},this.placement&&(this._bsVersions.isBs5&&(this.placement=v.Rz[this.placement]),this.classMap[this.placement]=!0),this.classMap[`tooltip-${this.placement}`]=!0,this.classMap.in=!0,this.animation&&(this.classMap.fade=!0),this.containerClass&&(this.classMap[this.containerClass]=!0)}static{this.\u0275fac=function(G){return new(G||M)(i.rXU(f))}}static{this.\u0275cmp=i.VBU({type:M,selectors:[["bs-tooltip-container"]],hostAttrs:["role","tooltip"],hostVars:3,hostBindings:function(G,x){2&G&&(i.BMQ("id",x.id),i.HbH("show tooltip in tooltip-"+x.placement+" bs-tooltip-"+x.placement+" "+x.placement+" "+x.containerClass))},ngContentSelectors:h,decls:3,vars:0,consts:[[1,"tooltip-arrow","arrow"],[1,"tooltip-inner"]],template:function(G,x){1&G&&(i.NAR(),i.nrm(0,"div",0),i.j41(1,"div",1),i.SdG(2),i.k0s())},styles:[".tooltip[_nghost-%COMP%]{display:block;pointer-events:none;position:absolute}.tooltip[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{position:absolute}"],changeDetection:0})}}return M})(),F=0,L=(()=>{class M{get isOpen(){return this._tooltip.isShown}set isOpen(P){P?this.show():this.hide()}set htmlContent(P){(0,e.mc)("tooltipHtml was deprecated, please use `tooltip` instead"),this.tooltip=P}set _placement(P){(0,e.mc)("tooltipPlacement was deprecated, please use `placement` instead"),this.placement=P}set _isOpen(P){(0,e.mc)("tooltipIsOpen was deprecated, please use `isOpen` instead"),this.isOpen=P}get _isOpen(){return(0,e.mc)("tooltipIsOpen was deprecated, please use `isOpen` instead"),this.isOpen}set _enable(P){(0,e.mc)("tooltipEnable was deprecated, please use `isDisabled` instead"),this.isDisabled=!P}get _enable(){return(0,e.mc)("tooltipEnable was deprecated, please use `isDisabled` instead"),this.isDisabled}set _appendToBody(P){(0,e.mc)('tooltipAppendToBody was deprecated, please use `container="body"` instead'),this.container=P?"body":this.container}get _appendToBody(){return(0,e.mc)('tooltipAppendToBody was deprecated, please use `container="body"` instead'),"body"===this.container}set _popupClass(P){(0,e.mc)("tooltipClass deprecated")}set _tooltipContext(P){(0,e.mc)("tooltipContext deprecated")}set _tooltipPopupDelay(P){(0,e.mc)("tooltipPopupDelay is deprecated, use `delay` instead"),this.delay=P}get _tooltipTrigger(){return(0,e.mc)("tooltipTrigger was deprecated, please use `triggers` instead"),this.triggers}set _tooltipTrigger(P){(0,e.mc)("tooltipTrigger was deprecated, please use `triggers` instead"),this.triggers=(P||"").toString()}constructor(P,G,x,V,Q,Y){this._elementRef=V,this._renderer=Q,this._positionService=Y,this.tooltipId=F++,this.adaptivePosition=!0,this.tooltipChange=new i.bkB,this.placement="top",this.triggers="hover focus",this.containerClass="",this.isDisabled=!1,this.delay=0,this.tooltipAnimation=!0,this.tooltipFadeDuration=150,this.tooltipStateChanged=new i.bkB,this._tooltip=G.createLoader(this._elementRef,P,this._renderer).provide({provide:f,useValue:x}),Object.assign(this,x),this.onShown=this._tooltip.onShown,this.onHidden=this._tooltip.onHidden}ngOnInit(){this._tooltip.listen({triggers:this.triggers,show:()=>this.show()}),this.tooltipChange.subscribe(P=>{P||this._tooltip.hide()}),this.onShown.subscribe(()=>{this.setAriaDescribedBy()}),this.onHidden.subscribe(()=>{this.setAriaDescribedBy()})}setAriaDescribedBy(){this._ariaDescribedby=this.isOpen?`tooltip-${this.tooltipId}`:void 0,this._ariaDescribedby?this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ariaDescribedby):this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby")}toggle(){if(this.isOpen)return this.hide();this.show()}show(){if(this._positionService.setOptions({modifiers:{flip:{enabled:this.adaptivePosition},preventOverflow:{enabled:this.adaptivePosition,boundariesElement:this.boundariesElement||"scrollParent"}}}),this.isOpen||this.isDisabled||this._delayTimeoutId||!this.tooltip)return;const P=()=>{this._delayTimeoutId&&(this._delayTimeoutId=void 0),this._tooltip.attach(E).to(this.container).position({attachment:this.placement}).show({content:this.tooltip,placement:this.placement,containerClass:this.containerClass,id:`tooltip-${this.tooltipId}`})},G=()=>{this._tooltipCancelShowFn&&this._tooltipCancelShowFn()};this.delay?(this._delaySubscription&&this._delaySubscription.unsubscribe(),this._delaySubscription=(0,I.O)(this.delay).subscribe(()=>{P(),G()}),this.triggers&&(0,e.Zu)(this.triggers).forEach(x=>{x.close&&(this._tooltipCancelShowFn=this._renderer.listen(this._elementRef.nativeElement,x.close,()=>{this._delaySubscription?.unsubscribe(),G()}))})):P()}hide(){this._delayTimeoutId&&(clearTimeout(this._delayTimeoutId),this._delayTimeoutId=void 0),this._tooltip.isShown&&(this._tooltip.instance?.classMap&&(this._tooltip.instance.classMap.in=!1),setTimeout(()=>{this._tooltip.hide()},this.tooltipFadeDuration))}ngOnDestroy(){this._tooltip.dispose(),this.tooltipChange.unsubscribe(),this._delaySubscription&&this._delaySubscription.unsubscribe(),this.onShown.unsubscribe(),this.onHidden.unsubscribe()}static{this.\u0275fac=function(G){return new(G||M)(i.rXU(i.c1b),i.rXU(w.Li),i.rXU(f),i.rXU(i.aKT),i.rXU(i.sFG),i.rXU(v.DF))}}static{this.\u0275dir=i.FsC({type:M,selectors:[["","tooltip",""],["","tooltipHtml",""]],inputs:{adaptivePosition:"adaptivePosition",tooltip:"tooltip",placement:"placement",triggers:"triggers",container:"container",containerClass:"containerClass",boundariesElement:"boundariesElement",isOpen:"isOpen",isDisabled:"isDisabled",delay:"delay",htmlContent:[i.Mj6.None,"tooltipHtml","htmlContent"],_placement:[i.Mj6.None,"tooltipPlacement","_placement"],_isOpen:[i.Mj6.None,"tooltipIsOpen","_isOpen"],_enable:[i.Mj6.None,"tooltipEnable","_enable"],_appendToBody:[i.Mj6.None,"tooltipAppendToBody","_appendToBody"],tooltipAnimation:"tooltipAnimation",_popupClass:[i.Mj6.None,"tooltipClass","_popupClass"],_tooltipContext:[i.Mj6.None,"tooltipContext","_tooltipContext"],_tooltipPopupDelay:[i.Mj6.None,"tooltipPopupDelay","_tooltipPopupDelay"],tooltipFadeDuration:"tooltipFadeDuration",_tooltipTrigger:[i.Mj6.None,"tooltipTrigger","_tooltipTrigger"]},outputs:{tooltipChange:"tooltipChange",onShown:"onShown",onHidden:"onHidden",tooltipStateChanged:"tooltipStateChanged"},exportAs:["bs-tooltip"]})}}return(0,y.Cg)([(0,e.Yr)(),(0,y.Sn)("design:type",Object)],M.prototype,"tooltip",void 0),M})(),_=(()=>{class M{static forRoot(){return{ngModule:M,providers:[w.Li,v.DF]}}static{this.\u0275fac=function(G){return new(G||M)}}static{this.\u0275mod=i.$C({type:M})}static{this.\u0275inj=i.G2t({imports:[D.MD]})}}return M})()},8400:(lt,we,p)=>{"use strict";p.d(we,{Xi:()=>Mt,qP:()=>xt});var i=p(4438),e=p(2806),v=p(2865),y=p(8359),w=p(4402),I=p(983),D=p(6648),h=p(9969),f=p(177),E=p(9417),F=p(6932),L=p(152),_=p(8141),M=p(5558),N=p(1397),P=p(5964),G=p(6649),x=p(9974);const Q=(z,W)=>(z.push(W),z);const le=["ulElement"],fe=["liElements"],K=(z,W,J,_e)=>({matches:z,itemTemplate:W,query:J,$implicit:_e}),ee=(z,W,J,_e)=>({item:z,index:W,match:J,query:_e});function ie(z,W){}function T(z,W){if(1&z&&i.nrm(0,"span",4),2&z){const J=W.match,_e=W.query,Ce=i.XpG();i.Y8G("innerHtml",Ce.highlight(J,_e),i.npT)}}function ae(z,W){if(1&z&&(i.j41(0,"h6",8),i.EFF(1),i.k0s()),2&z){const J=i.XpG().$implicit;i.R7$(),i.JRh(J)}}function re(z,W){}function Me(z,W){if(1&z){const J=i.RV6();i.j41(0,"button",9,2),i.bIt("click",function(Ce){i.eBV(J);const st=i.XpG().$implicit,Fe=i.XpG(2);return i.Njj(Fe.selectMatch(st,Ce))})("mouseenter",function(){i.eBV(J);const Ce=i.XpG().$implicit,st=i.XpG(2);return i.Njj(st.selectActive(Ce))}),i.DNE(2,re,0,0,"ng-template",3),i.k0s()}if(2&z){const J=i.XpG(),_e=J.$implicit,Ce=J.index,st=i.XpG(2),Fe=i.sdS(2);i.AVh("active",st.isActive(_e)),i.Y8G("id",st.popupId+"-"+Ce)("@typeaheadAnimation",st.animationState),i.R7$(2),i.Y8G("ngTemplateOutlet",st.itemTemplate||Fe)("ngTemplateOutletContext",i.ziG(6,ee,_e.item,Ce,_e,st.query))}}function Qe(z,W){if(1&z&&i.DNE(0,ae,2,1,"h6",6)(1,Me,3,11,"ng-template",7),2&z){const J=W.$implicit;i.Y8G("ngIf",J.isHeader()),i.R7$(),i.Y8G("ngIf",!J.isHeader())}}function Le(z,W){if(1&z&&i.DNE(0,Qe,2,2,"ng-template",5),2&z){const J=i.XpG();i.Y8G("ngForOf",J.matches)}}const Ne={\u00c1:"A",\u0102:"A",\u1eae:"A",\u1eb6:"A",\u1eb0:"A",\u1eb2:"A",\u1eb4:"A",\u01cd:"A",\u00c2:"A",\u1ea4:"A",\u1eac:"A",\u1ea6:"A",\u1ea8:"A",\u1eaa:"A",\u00c4:"A",\u01de:"A",\u0226:"A",\u01e0:"A",\u1ea0:"A",\u0200:"A",\u00c0:"A",\u1ea2:"A",\u0202:"A",\u0100:"A",\u0104:"A",\u00c5:"A",\u01fa:"A",\u1e00:"A",\u023a:"A",\u00c3:"A",\ua732:"AA",\u00c6:"AE",\u01fc:"AE",\u01e2:"AE",\ua734:"AO",\ua736:"AU",\ua738:"AV",\ua73a:"AV",\ua73c:"AY",\u1e02:"B",\u1e04:"B",\u0181:"B",\u1e06:"B",\u0243:"B",\u0182:"B",\u0106:"C",\u010c:"C",\u00c7:"C",\u1e08:"C",\u0108:"C",\u010a:"C",\u0187:"C",\u023b:"C",\u010e:"D",\u1e10:"D",\u1e12:"D",\u1e0a:"D",\u1e0c:"D",\u018a:"D",\u1e0e:"D",\u01f2:"D",\u01c5:"D",\u0110:"D",\u018b:"D",\u01f1:"DZ",\u01c4:"DZ",\u00c9:"E",\u0114:"E",\u011a:"E",\u0228:"E",\u1e1c:"E",\u00ca:"E",\u1ebe:"E",\u1ec6:"E",\u1ec0:"E",\u1ec2:"E",\u1ec4:"E",\u1e18:"E",\u00cb:"E",\u0116:"E",\u1eb8:"E",\u0204:"E",\u00c8:"E",\u1eba:"E",\u0206:"E",\u0112:"E",\u1e16:"E",\u1e14:"E",\u0118:"E",\u0246:"E",\u1ebc:"E",\u1e1a:"E",\ua76a:"ET",\u1e1e:"F",\u0191:"F",\u01f4:"G",\u011e:"G",\u01e6:"G",\u0122:"G",\u011c:"G",\u0120:"G",\u0193:"G",\u1e20:"G",\u01e4:"G",\u1e2a:"H",\u021e:"H",\u1e28:"H",\u0124:"H",\u2c67:"H",\u1e26:"H",\u1e22:"H",\u1e24:"H",\u0126:"H",\u00cd:"I",\u012c:"I",\u01cf:"I",\u00ce:"I",\u00cf:"I",\u1e2e:"I",\u0130:"I",\u1eca:"I",\u0208:"I",\u00cc:"I",\u1ec8:"I",\u020a:"I",\u012a:"I",\u012e:"I",\u0197:"I",\u0128:"I",\u1e2c:"I",\ua779:"D",\ua77b:"F",\ua77d:"G",\ua782:"R",\ua784:"S",\ua786:"T",\ua76c:"IS",\u0134:"J",\u0248:"J",\u1e30:"K",\u01e8:"K",\u0136:"K",\u2c69:"K",\ua742:"K",\u1e32:"K",\u0198:"K",\u1e34:"K",\ua740:"K",\ua744:"K",\u0139:"L",\u023d:"L",\u013d:"L",\u013b:"L",\u1e3c:"L",\u1e36:"L",\u1e38:"L",\u2c60:"L",\ua748:"L",\u1e3a:"L",\u013f:"L",\u2c62:"L",\u01c8:"L",\u0141:"L",\u01c7:"LJ",\u1e3e:"M",\u1e40:"M",\u1e42:"M",\u2c6e:"M",\u0143:"N",\u0147:"N",\u0145:"N",\u1e4a:"N",\u1e44:"N",\u1e46:"N",\u01f8:"N",\u019d:"N",\u1e48:"N",\u0220:"N",\u01cb:"N",\u00d1:"N",\u01ca:"NJ",\u00d3:"O",\u014e:"O",\u01d1:"O",\u00d4:"O",\u1ed0:"O",\u1ed8:"O",\u1ed2:"O",\u1ed4:"O",\u1ed6:"O",\u00d6:"O",\u022a:"O",\u022e:"O",\u0230:"O",\u1ecc:"O",\u0150:"O",\u020c:"O",\u00d2:"O",\u1ece:"O",\u01a0:"O",\u1eda:"O",\u1ee2:"O",\u1edc:"O",\u1ede:"O",\u1ee0:"O",\u020e:"O",\ua74a:"O",\ua74c:"O",\u014c:"O",\u1e52:"O",\u1e50:"O",\u019f:"O",\u01ea:"O",\u01ec:"O",\u00d8:"O",\u01fe:"O",\u00d5:"O",\u1e4c:"O",\u1e4e:"O",\u022c:"O",\u01a2:"OI",\ua74e:"OO",\u0190:"E",\u0186:"O",\u0222:"OU",\u1e54:"P",\u1e56:"P",\ua752:"P",\u01a4:"P",\ua754:"P",\u2c63:"P",\ua750:"P",\ua758:"Q",\ua756:"Q",\u0154:"R",\u0158:"R",\u0156:"R",\u1e58:"R",\u1e5a:"R",\u1e5c:"R",\u0210:"R",\u0212:"R",\u1e5e:"R",\u024c:"R",\u2c64:"R",\ua73e:"C",\u018e:"E",\u015a:"S",\u1e64:"S",\u0160:"S",\u1e66:"S",\u015e:"S",\u015c:"S",\u0218:"S",\u1e60:"S",\u1e62:"S",\u1e68:"S",\u0164:"T",\u0162:"T",\u1e70:"T",\u021a:"T",\u023e:"T",\u1e6a:"T",\u1e6c:"T",\u01ac:"T",\u1e6e:"T",\u01ae:"T",\u0166:"T",\u2c6f:"A",\ua780:"L",\u019c:"M",\u0245:"V",\ua728:"TZ",\u00da:"U",\u016c:"U",\u01d3:"U",\u00db:"U",\u1e76:"U",\u00dc:"U",\u01d7:"U",\u01d9:"U",\u01db:"U",\u01d5:"U",\u1e72:"U",\u1ee4:"U",\u0170:"U",\u0214:"U",\u00d9:"U",\u1ee6:"U",\u01af:"U",\u1ee8:"U",\u1ef0:"U",\u1eea:"U",\u1eec:"U",\u1eee:"U",\u0216:"U",\u016a:"U",\u1e7a:"U",\u0172:"U",\u016e:"U",\u0168:"U",\u1e78:"U",\u1e74:"U",\ua75e:"V",\u1e7e:"V",\u01b2:"V",\u1e7c:"V",\ua760:"VY",\u1e82:"W",\u0174:"W",\u1e84:"W",\u1e86:"W",\u1e88:"W",\u1e80:"W",\u2c72:"W",\u1e8c:"X",\u1e8a:"X",\u00dd:"Y",\u0176:"Y",\u0178:"Y",\u1e8e:"Y",\u1ef4:"Y",\u1ef2:"Y",\u01b3:"Y",\u1ef6:"Y",\u1efe:"Y",\u0232:"Y",\u024e:"Y",\u1ef8:"Y",\u0179:"Z",\u017d:"Z",\u1e90:"Z",\u2c6b:"Z",\u017b:"Z",\u1e92:"Z",\u0224:"Z",\u1e94:"Z",\u01b5:"Z",\u0132:"IJ",\u0152:"OE",\u1d00:"A",\u1d01:"AE",\u0299:"B",\u1d03:"B",\u1d04:"C",\u1d05:"D",\u1d07:"E",\ua730:"F",\u0262:"G",\u029b:"G",\u029c:"H",\u026a:"I",\u0281:"R",\u1d0a:"J",\u1d0b:"K",\u029f:"L",\u1d0c:"L",\u1d0d:"M",\u0274:"N",\u1d0f:"O",\u0276:"OE",\u1d10:"O",\u1d15:"OU",\u1d18:"P",\u0280:"R",\u1d0e:"N",\u1d19:"R",\ua731:"S",\u1d1b:"T",\u2c7b:"E",\u1d1a:"R",\u1d1c:"U",\u1d20:"V",\u1d21:"W",\u028f:"Y",\u1d22:"Z",\u00e1:"a",\u0103:"a",\u1eaf:"a",\u1eb7:"a",\u1eb1:"a",\u1eb3:"a",\u1eb5:"a",\u01ce:"a",\u00e2:"a",\u1ea5:"a",\u1ead:"a",\u1ea7:"a",\u1ea9:"a",\u1eab:"a",\u00e4:"a",\u01df:"a",\u0227:"a",\u01e1:"a",\u1ea1:"a",\u0201:"a",\u00e0:"a",\u1ea3:"a",\u0203:"a",\u0101:"a",\u0105:"a",\u1d8f:"a",\u1e9a:"a",\u00e5:"a",\u01fb:"a",\u1e01:"a",\u2c65:"a",\u00e3:"a",\ua733:"aa",\u00e6:"ae",\u01fd:"ae",\u01e3:"ae",\ua735:"ao",\ua737:"au",\ua739:"av",\ua73b:"av",\ua73d:"ay",\u1e03:"b",\u1e05:"b",\u0253:"b",\u1e07:"b",\u1d6c:"b",\u1d80:"b",\u0180:"b",\u0183:"b",\u0275:"o",\u0107:"c",\u010d:"c",\u00e7:"c",\u1e09:"c",\u0109:"c",\u0255:"c",\u010b:"c",\u0188:"c",\u023c:"c",\u010f:"d",\u1e11:"d",\u1e13:"d",\u0221:"d",\u1e0b:"d",\u1e0d:"d",\u0257:"d",\u1d91:"d",\u1e0f:"d",\u1d6d:"d",\u1d81:"d",\u0111:"d",\u0256:"d",\u018c:"d",\u0131:"i",\u0237:"j",\u025f:"j",\u0284:"j",\u01f3:"dz",\u01c6:"dz",\u00e9:"e",\u0115:"e",\u011b:"e",\u0229:"e",\u1e1d:"e",\u00ea:"e",\u1ebf:"e",\u1ec7:"e",\u1ec1:"e",\u1ec3:"e",\u1ec5:"e",\u1e19:"e",\u00eb:"e",\u0117:"e",\u1eb9:"e",\u0205:"e",\u00e8:"e",\u1ebb:"e",\u0207:"e",\u0113:"e",\u1e17:"e",\u1e15:"e",\u2c78:"e",\u0119:"e",\u1d92:"e",\u0247:"e",\u1ebd:"e",\u1e1b:"e",\ua76b:"et",\u1e1f:"f",\u0192:"f",\u1d6e:"f",\u1d82:"f",\u01f5:"g",\u011f:"g",\u01e7:"g",\u0123:"g",\u011d:"g",\u0121:"g",\u0260:"g",\u1e21:"g",\u1d83:"g",\u01e5:"g",\u1e2b:"h",\u021f:"h",\u1e29:"h",\u0125:"h",\u2c68:"h",\u1e27:"h",\u1e23:"h",\u1e25:"h",\u0266:"h",\u1e96:"h",\u0127:"h",\u0195:"hv",\u00ed:"i",\u012d:"i",\u01d0:"i",\u00ee:"i",\u00ef:"i",\u1e2f:"i",\u1ecb:"i",\u0209:"i",\u00ec:"i",\u1ec9:"i",\u020b:"i",\u012b:"i",\u012f:"i",\u1d96:"i",\u0268:"i",\u0129:"i",\u1e2d:"i",\ua77a:"d",\ua77c:"f",\u1d79:"g",\ua783:"r",\ua785:"s",\ua787:"t",\ua76d:"is",\u01f0:"j",\u0135:"j",\u029d:"j",\u0249:"j",\u1e31:"k",\u01e9:"k",\u0137:"k",\u2c6a:"k",\ua743:"k",\u1e33:"k",\u0199:"k",\u1e35:"k",\u1d84:"k",\ua741:"k",\ua745:"k",\u013a:"l",\u019a:"l",\u026c:"l",\u013e:"l",\u013c:"l",\u1e3d:"l",\u0234:"l",\u1e37:"l",\u1e39:"l",\u2c61:"l",\ua749:"l",\u1e3b:"l",\u0140:"l",\u026b:"l",\u1d85:"l",\u026d:"l",\u0142:"l",\u01c9:"lj",\u017f:"s",\u1e9c:"s",\u1e9b:"s",\u1e9d:"s",\u1e3f:"m",\u1e41:"m",\u1e43:"m",\u0271:"m",\u1d6f:"m",\u1d86:"m",\u0144:"n",\u0148:"n",\u0146:"n",\u1e4b:"n",\u0235:"n",\u1e45:"n",\u1e47:"n",\u01f9:"n",\u0272:"n",\u1e49:"n",\u019e:"n",\u1d70:"n",\u1d87:"n",\u0273:"n",\u00f1:"n",\u01cc:"nj",\u00f3:"o",\u014f:"o",\u01d2:"o",\u00f4:"o",\u1ed1:"o",\u1ed9:"o",\u1ed3:"o",\u1ed5:"o",\u1ed7:"o",\u00f6:"o",\u022b:"o",\u022f:"o",\u0231:"o",\u1ecd:"o",\u0151:"o",\u020d:"o",\u00f2:"o",\u1ecf:"o",\u01a1:"o",\u1edb:"o",\u1ee3:"o",\u1edd:"o",\u1edf:"o",\u1ee1:"o",\u020f:"o",\ua74b:"o",\ua74d:"o",\u2c7a:"o",\u014d:"o",\u1e53:"o",\u1e51:"o",\u01eb:"o",\u01ed:"o",\u00f8:"o",\u01ff:"o",\u00f5:"o",\u1e4d:"o",\u1e4f:"o",\u022d:"o",\u01a3:"oi",\ua74f:"oo",\u025b:"e",\u1d93:"e",\u0254:"o",\u1d97:"o",\u0223:"ou",\u1e55:"p",\u1e57:"p",\ua753:"p",\u01a5:"p",\u1d71:"p",\u1d88:"p",\ua755:"p",\u1d7d:"p",\ua751:"p",\ua759:"q",\u02a0:"q",\u024b:"q",\ua757:"q",\u0155:"r",\u0159:"r",\u0157:"r",\u1e59:"r",\u1e5b:"r",\u1e5d:"r",\u0211:"r",\u027e:"r",\u1d73:"r",\u0213:"r",\u1e5f:"r",\u027c:"r",\u1d72:"r",\u1d89:"r",\u024d:"r",\u027d:"r",\u2184:"c",\ua73f:"c",\u0258:"e",\u027f:"r",\u015b:"s",\u1e65:"s",\u0161:"s",\u1e67:"s",\u015f:"s",\u015d:"s",\u0219:"s",\u1e61:"s",\u1e63:"s",\u1e69:"s",\u0282:"s",\u1d74:"s",\u1d8a:"s",\u023f:"s",\u0261:"g",\u1d11:"o",\u1d13:"o",\u1d1d:"u",\u0165:"t",\u0163:"t",\u1e71:"t",\u021b:"t",\u0236:"t",\u1e97:"t",\u2c66:"t",\u1e6b:"t",\u1e6d:"t",\u01ad:"t",\u1e6f:"t",\u1d75:"t",\u01ab:"t",\u0288:"t",\u0167:"t",\u1d7a:"th",\u0250:"a",\u1d02:"ae",\u01dd:"e",\u1d77:"g",\u0265:"h",\u02ae:"h",\u02af:"h",\u1d09:"i",\u029e:"k",\ua781:"l",\u026f:"m",\u0270:"m",\u1d14:"oe",\u0279:"r",\u027b:"r",\u027a:"r",\u2c79:"r",\u0287:"t",\u028c:"v",\u028d:"w",\u028e:"y",\ua729:"tz",\u00fa:"u",\u016d:"u",\u01d4:"u",\u00fb:"u",\u1e77:"u",\u00fc:"u",\u01d8:"u",\u01da:"u",\u01dc:"u",\u01d6:"u",\u1e73:"u",\u1ee5:"u",\u0171:"u",\u0215:"u",\u00f9:"u",\u1ee7:"u",\u01b0:"u",\u1ee9:"u",\u1ef1:"u",\u1eeb:"u",\u1eed:"u",\u1eef:"u",\u0217:"u",\u016b:"u",\u1e7b:"u",\u0173:"u",\u1d99:"u",\u016f:"u",\u0169:"u",\u1e79:"u",\u1e75:"u",\u1d6b:"ue",\ua778:"um",\u2c74:"v",\ua75f:"v",\u1e7f:"v",\u028b:"v",\u1d8c:"v",\u2c71:"v",\u1e7d:"v",\ua761:"vy",\u1e83:"w",\u0175:"w",\u1e85:"w",\u1e87:"w",\u1e89:"w",\u1e81:"w",\u2c73:"w",\u1e98:"w",\u1e8d:"x",\u1e8b:"x",\u1d8d:"x",\u00fd:"y",\u0177:"y",\u00ff:"y",\u1e8f:"y",\u1ef5:"y",\u1ef3:"y",\u01b4:"y",\u1ef7:"y",\u1eff:"y",\u0233:"y",\u1e99:"y",\u024f:"y",\u1ef9:"y",\u017a:"z",\u017e:"z",\u1e91:"z",\u0291:"z",\u2c6c:"z",\u017c:"z",\u1e93:"z",\u0225:"z",\u1e95:"z",\u1d76:"z",\u1d8e:"z",\u0290:"z",\u01b6:"z",\u0240:"z",\ufb00:"ff",\ufb03:"ffi",\ufb04:"ffl",\ufb01:"fi",\ufb02:"fl",\u0133:"ij",\u0153:"oe",\ufb06:"st",\u2090:"a",\u2091:"e",\u1d62:"i",\u2c7c:"j",\u2092:"o",\u1d63:"r",\u1d64:"u",\u1d65:"v",\u2093:"x"};class Ee{constructor(W,J=W,_e=!1){this.item=W,this.value=J,this.header=_e}isHeader(){return this.header}toString(){return this.value}}function be(z){return z?z.replace(/[^A-Za-z0-9[\] ]/g,function(W){return Ne[W]||W}):""}function Oe(z,W=" ",J="",_e){let Ce=[];if(_e){const Fe=z.split(new RegExp(`([${_e}]+)`,"g")),rt=Fe[Fe.length-1];rt>""&&(W&&J?Ce=Ie(rt,W,J):Ce.push(rt))}else Ce=Ie(z,W,J);return Ce}function Ie(z,W,J){const _e=[],st=z.split(new RegExp(`(?:[${J}])([^${J}]+)(?:[${J}])|([^${W}]+)`,"g")),Fe=st.length;let rt;const kt=new RegExp(`[${J}]+`,"g");for(let mt=0;mt<Fe;mt+=1)rt=st[mt],rt&&rt.length&&rt!==W&&_e.push(rt.replace(kt,""));return _e}function it(z,W){if(!W||"object"!=typeof z)return z.toString();if(W.endsWith("()"))return z[W.slice(0,W.length-2)]().toString();const _e=W.replace(/\[(\w+)\]/g,".$1").replace(/^\./,"").split(".");for(const Ce of _e)Ce in z&&(z=z[Ce]);return z?z.toString():""}const xe="220ms cubic-bezier(0, 0, 0.2, 1)",pt=(0,h.hZ)("typeaheadAnimation",[(0,h.wk)("animated-down",(0,h.iF)({height:"*",overflow:"hidden"})),(0,h.kY)("* => animated-down",[(0,h.iF)({height:0,overflow:"hidden"}),(0,h.i0)(xe)]),(0,h.wk)("animated-up",(0,h.iF)({height:"*",overflow:"hidden"})),(0,h.kY)("* => animated-up",[(0,h.iF)({height:"*",overflow:"hidden"}),(0,h.i0)(xe)]),(0,h.kY)("* => unanimated",(0,h.i0)("0s"))]);let vt=0,hn=(()=>{class z{get typeaheadTemplateMethods(){return{selectMatch:this.selectMatch.bind(this),selectActive:this.selectActive.bind(this),isActive:this.isActive.bind(this)}}constructor(J,_e,Ce,st){this.positionService=J,this.renderer=_e,this.element=Ce,this.changeDetectorRef=st,this.activeChangeEvent=new i.bkB,this.isFocused=!1,this.positionServiceSubscription=new y.yU,this.height=0,this.popupId="ngb-typeahead-"+vt++,this._matches=[],this.renderer.setAttribute(this.element.nativeElement,"id",this.popupId),this.positionServiceSubscription.add(this.positionService.event$?.subscribe(()=>{if(this.isAnimated)return this.animationState=this.isTopPosition?"animated-up":"animated-down",void this.changeDetectorRef.detectChanges();this.animationState="unanimated",this.changeDetectorRef.detectChanges()}))}get active(){return this._active}set active(J){this._active=J,this.activeChanged()}get matches(){return this._matches}set matches(J){if(this.positionService.setOptions({modifiers:{flip:{enabled:this.adaptivePosition}},allowedPositions:["top","bottom"]}),this._matches=J,this.needScrollbar=this.typeaheadScrollable&&this.typeaheadOptionsInScrollableView<this.matches.length,this.typeaheadScrollable&&setTimeout(()=>{this.setScrollableMode()}),this.typeaheadIsFirstItemActive&&this._matches.length>0&&(this.setActive(this._matches[0]),this._active?.isHeader()&&this.nextActiveMatch()),this._active&&!this.typeaheadIsFirstItemActive){const _e=this._matches.find(Ce=>Ce.value===this._active?.value);if(_e)return void this.selectActive(_e);this.active=void 0}}get isTopPosition(){return this.element.nativeElement.classList.contains("top")}get optionsListTemplate(){return this.parent?this.parent.optionsListTemplate:void 0}get isAnimated(){return!!this.parent&&this.parent.isAnimated}get adaptivePosition(){return!!this.parent&&this.parent.adaptivePosition}get typeaheadScrollable(){return!!this.parent&&this.parent.typeaheadScrollable}get typeaheadOptionsInScrollableView(){return this.parent?this.parent.typeaheadOptionsInScrollableView:5}get typeaheadIsFirstItemActive(){return!this.parent||this.parent.typeaheadIsFirstItemActive}get itemTemplate(){return this.parent?this.parent.typeaheadItemTemplate:void 0}get canSelectItemsOnBlur(){return!!this.parent?.selectItemOnBlur}selectActiveMatch(J){this._active&&this.parent?.typeaheadSelectFirstItem&&this.selectMatch(this._active),!this.parent?.typeaheadSelectFirstItem&&J&&this.selectMatch(this._active)}activeChanged(){if(!this._active)return;const J=this.matches.indexOf(this._active);this.activeChangeEvent.emit(`${this.popupId}-${J}`)}prevActiveMatch(){if(!this._active)return;const J=this.matches.indexOf(this._active);this.setActive(this.matches[J-1<0?this.matches.length-1:J-1]),this._active.isHeader()&&this.prevActiveMatch(),this.typeaheadScrollable&&this.scrollPrevious(J)}nextActiveMatch(){const J=this._active?this.matches.indexOf(this._active):-1;this.setActive(this.matches[J+1>this.matches.length-1?0:J+1]),this._active?.isHeader()&&this.nextActiveMatch(),this.typeaheadScrollable&&this.scrollNext(J)}selectActive(J){this.isFocused=!0,this.setActive(J)}highlight(J,_e){let Fe,rt,Ce=J.value,st=(this.parent&&this.parent.typeaheadLatinize?be(Ce):Ce).toLowerCase();if("object"==typeof _e){const kt=_e.length;for(let mt=0;mt<kt;mt+=1)Fe=st.indexOf(_e[mt]),rt=_e[mt].length,Fe>=0&&rt>0&&(Ce=`${Ce.substring(0,Fe)}<strong>${Ce.substring(Fe,Fe+rt)}</strong>${Ce.substring(Fe+rt)}`,st=`${st.substring(0,Fe)}        ${" ".repeat(rt)}         ${st.substring(Fe+rt)}`)}else _e&&(Fe=st.indexOf(_e),rt=_e.length,Fe>=0&&rt>0&&(Ce=`${Ce.substring(0,Fe)}<strong>${Ce.substring(Fe,Fe+rt)}</strong>${Ce.substring(Fe+rt)}`));return Ce}focusLost(){this.isFocused=!1,this.canSelectItemsOnBlur||this.setActive(void 0)}isActive(J){return this.active===J}selectMatch(J,_e){return _e&&(_e.stopPropagation(),_e.preventDefault()),this.parent?.changeModel(J),setTimeout(()=>this.parent?.typeaheadOnSelect.emit(J),0),!1}setScrollableMode(){if(this.ulElement||(this.ulElement=this.element),this.liElements?.first){const J=e.Aq.getStyles(this.ulElement.nativeElement),_e=e.Aq.getStyles(this.liElements.first.nativeElement),Ce=parseFloat((J["padding-bottom"]?J["padding-bottom"]:"").replace("px","")),st=parseFloat((J["padding-top"]?J["padding-top"]:"0").replace("px","")),Fe=parseFloat((_e.height?_e.height:"0").replace("px",""));this.guiHeight=`${this.typeaheadOptionsInScrollableView*Fe+st+Ce}px`}this.renderer.setStyle(this.element.nativeElement,"visibility","visible")}scrollPrevious(J){if(0!==J){if(this.liElements&&this.ulElement){const _e=this.liElements.toArray()[J-1];_e&&!this.isScrolledIntoView(_e.nativeElement)&&(this.ulElement.nativeElement.scrollTop=_e.nativeElement.offsetTop)}}else this.scrollToBottom()}scrollNext(J){if(J+1>this.matches.length-1)this.scrollToTop();else if(this.liElements&&this.ulElement){const _e=this.liElements.toArray()[J+1];_e&&!this.isScrolledIntoView(_e.nativeElement)&&(this.ulElement.nativeElement.scrollTop=_e.nativeElement.offsetTop-Number(this.ulElement.nativeElement.offsetHeight)+Number(_e.nativeElement.offsetHeight))}}ngOnDestroy(){this.positionServiceSubscription.unsubscribe()}setActive(J){let _e;this._active=J,null==this._active||this._active.isHeader()||(_e=J),this.parent?.typeaheadOnPreview.emit(_e)}isScrolledIntoView(J){if(!this.ulElement)return!1;const _e=this.ulElement.nativeElement.scrollTop,Ce=_e+Number(this.ulElement.nativeElement.offsetHeight),st=J.offsetTop;return st+J.offsetHeight<=Ce&&st>=_e}scrollToBottom(){this.ulElement?.nativeElement&&(this.ulElement.nativeElement.scrollTop=this.ulElement.nativeElement.scrollHeight)}scrollToTop(){this.ulElement?.nativeElement&&(this.ulElement.nativeElement.scrollTop=0)}static{this.\u0275fac=function(_e){return new(_e||z)(i.rXU(v.DF),i.rXU(i.sFG),i.rXU(i.aKT),i.rXU(i.gRc))}}static{this.\u0275cmp=i.VBU({type:z,selectors:[["typeahead-container"]],viewQuery:function(_e,Ce){if(1&_e&&(i.GBs(le,5),i.GBs(fe,5)),2&_e){let st;i.mGM(st=i.lsd())&&(Ce.ulElement=st.first),i.mGM(st=i.lsd())&&(Ce.liElements=st)}},hostAttrs:[1,"dropdown","open","bottom","dropdown-menu",2,"position","absolute","display","block"],hostVars:7,hostBindings:function(_e,Ce){1&_e&&i.bIt("mouseleave",function(){return Ce.focusLost()})("blur",function(){return Ce.focusLost()}),2&_e&&(i.BMQ("role","listbox"),i.xc7("height",Ce.needScrollbar?Ce.guiHeight:"auto")("visibility","inherit"),i.AVh("dropup",Ce.dropup))},outputs:{activeChangeEvent:"activeChange"},decls:5,vars:7,consts:[["bsItemTemplate",""],["bs4Template",""],["liElements",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHtml"],["ngFor","",3,"ngForOf"],["class","dropdown-header",4,"ngIf"],[3,"ngIf"],[1,"dropdown-header"],["role","option",1,"dropdown-item",3,"click","mouseenter","id"]],template:function(_e,Ce){if(1&_e&&i.DNE(0,ie,0,0,"ng-template",3)(1,T,1,1,"ng-template",null,0,i.C5r)(3,Le,1,1,"ng-template",null,1,i.C5r),2&_e){const st=i.sdS(2),Fe=i.sdS(4);i.Y8G("ngTemplateOutlet",Ce.optionsListTemplate||Fe)("ngTemplateOutletContext",i.ziG(2,K,Ce.matches,Ce.itemTemplate||st,Ce.query,Ce.typeaheadTemplateMethods))}},dependencies:[f.Sq,f.bT,f.T3],styles:[".dropdown[_nghost-%COMP%]{z-index:1000}.dropdown-menu[_nghost-%COMP%], .dropdown-menu[_ngcontent-%COMP%]{overflow-y:auto;height:100px}"],data:{animation:[pt]}})}}return z})(),ln=(()=>{class z{constructor(){this.adaptivePosition=!1,this.isAnimated=!1,this.hideResultsOnBlur=!0,this.cancelRequestOnFocusLost=!1,this.selectFirstItem=!0,this.isFirstItemActive=!0,this.minLength=1,this.selectItemOnBlur=!1}static{this.\u0275fac=function(_e){return new(_e||z)}}static{this.\u0275prov=i.jDH({token:z,factory:z.\u0275fac,providedIn:"root"})}}return z})(),Mt=(()=>{class z{constructor(J,_e,Ce,st,Fe,rt,kt){this.changeDetection=Ce,this.element=st,this.ngControl=Fe,this.renderer=rt,this.typeaheadMinLength=1,this.adaptivePosition=!1,this.isAnimated=!1,this.typeaheadWaitMs=0,this.typeaheadLatinize=!0,this.typeaheadSingleWords=!0,this.typeaheadWordDelimiters=" ",this.typeaheadMultipleSearchDelimiters=",",this.typeaheadPhraseDelimiters="'\"",this.typeaheadScrollable=!1,this.typeaheadOptionsInScrollableView=5,this.typeaheadSelectFirstItem=!0,this.typeaheadIsFirstItemActive=!0,this.typeaheadLoading=new i.bkB,this.typeaheadNoResults=new i.bkB,this.typeaheadOnSelect=new i.bkB,this.typeaheadOnPreview=new i.bkB,this.typeaheadOnBlur=new i.bkB,this.dropup=!1,this.isOpen=!1,this.list="list",this.isActiveItemChanged=!1,this.isFocused=!1,this.cancelRequestOnFocusLost=!1,this.selectItemOnBlur=!1,this.keyUpEventEmitter=new i.bkB,this.placement="bottom left",this._matches=[],this._subscriptions=[],this._outsideClickListener=()=>{},this._typeahead=J.createLoader(st,kt,rt).provide({provide:ln,useValue:_e}),Object.assign(this,{typeaheadHideResultsOnBlur:_e.hideResultsOnBlur,cancelRequestOnFocusLost:_e.cancelRequestOnFocusLost,typeaheadSelectFirstItem:_e.selectFirstItem,typeaheadIsFirstItemActive:_e.isFirstItemActive,typeaheadMinLength:_e.minLength,adaptivePosition:_e.adaptivePosition,isAnimated:_e.isAnimated,selectItemOnBlur:_e.selectItemOnBlur})}get matches(){return this._matches}ngOnInit(){this.typeaheadOptionsLimit=this.typeaheadOptionsLimit||20,this.typeaheadMinLength=void 0===this.typeaheadMinLength?1:this.typeaheadMinLength,void 0===this.typeaheadAsync&&!(0,w.A)(this.typeahead)&&(this.typeaheadAsync=!1),(0,w.A)(this.typeahead)&&(this.typeaheadAsync=!0),this.typeaheadAsync?this.asyncActions():this.syncActions(),this.checkDelimitersConflict()}onInput(J){const _e=void 0!==J.target.value?J.target.value:void 0!==J.target.textContent?J.target.textContent:J.target.innerText;null!=_e&&_e.trim().length>=this.typeaheadMinLength?(this.typeaheadLoading.emit(!0),this.keyUpEventEmitter.emit(J.target.value)):(this.typeaheadLoading.emit(!1),this.typeaheadNoResults.emit(!1),this.hide())}onChange(J){if(this._container){if(27===J.keyCode||"Escape"===J.key)return void this.hide();if(38===J.keyCode||"ArrowUp"===J.key)return this.isActiveItemChanged=!0,void this._container.prevActiveMatch();if(40===J.keyCode||"ArrowDown"===J.key)return this.isActiveItemChanged=!0,void this._container.nextActiveMatch();if(13===J.keyCode||"Enter"===J.key)return void this._container.selectActiveMatch()}}onFocus(){this.isFocused=!0,setTimeout(()=>{0===this.typeaheadMinLength&&(this.typeaheadLoading.emit(!0),this.keyUpEventEmitter.emit(this.element.nativeElement.value||""))},0)}onBlur(){this.isFocused=!1,this._container&&!this._container.isFocused&&this.typeaheadOnBlur.emit(this._container.active),!this.container&&0===this._matches?.length&&this.typeaheadOnBlur.emit(new Ee(this.element.nativeElement.value,this.element.nativeElement.value,!1))}onKeydown(J){if(this._container&&((9===J.keyCode||"Tab"===J.key)&&this.onBlur(),9===J.keyCode||"Tab"===J.key||13===J.keyCode||"Enter"===J.key)){if(J.preventDefault(),this.typeaheadSelectFirstItem)return void this._container.selectActiveMatch();this.typeaheadSelectFirstItem||(this._container.selectActiveMatch(this.isActiveItemChanged),this.isActiveItemChanged=!1,this.hide())}}changeModel(J){if(!J)return;let _e;if(this.typeaheadMultipleSearch&&this._allEnteredValue){const Ce=this._allEnteredValue.split(new RegExp(`([${this.typeaheadMultipleSearchDelimiters}]+)`));this._allEnteredValue=Ce.slice(0,Ce.length-1).concat(J.value).join(""),_e=this._allEnteredValue}else _e=J.value;this.ngControl.viewToModelUpdate(_e),this.ngControl.control?.setValue(_e),this.changeDetection.markForCheck(),this.hide()}show(){if(this._typeahead.attach(hn).to(this.container).position({attachment:(this.dropup?"top":"bottom")+" left"}).show({typeaheadRef:this,placement:this.placement,animation:!1,dropup:this.dropup}),this._outsideClickListener=this.renderer.listen("document","click",_e=>{0===this.typeaheadMinLength&&this.element.nativeElement.contains(_e.target)||!this.typeaheadHideResultsOnBlur||this.element.nativeElement.contains(_e.target)||this.onOutsideClick()}),!this._typeahead.instance||!this.ngControl.control)return;this._container=this._typeahead.instance,this._container.parent=this;const J=(this.typeaheadLatinize?be(this.ngControl.control.value):this.ngControl.control.value).toString().toLowerCase();this._container.query=this.tokenizeQuery(J),this._container.matches=this._matches,this.element.nativeElement.focus(),this._container.activeChangeEvent.subscribe(_e=>{this.activeDescendant=_e,this.changeDetection.markForCheck()}),this.isOpen=!0}hide(){this._typeahead.isShown&&(this._typeahead.hide(),this._outsideClickListener(),this._container=void 0,this.isOpen=!1,this.changeDetection.markForCheck()),this.typeaheadOnPreview.emit()}onOutsideClick(){this._container&&!this._container.isFocused&&this.hide()}ngOnDestroy(){for(const J of this._subscriptions)J.unsubscribe();this._typeahead.dispose()}asyncActions(){this._subscriptions.push(this.keyUpEventEmitter.pipe((0,L.B)(this.typeaheadWaitMs),(0,_.M)(J=>this._allEnteredValue=J),(0,M.n)(()=>this.typeahead?this.typeahead:I.w)).subscribe(J=>{this.finalizeAsyncCall(J)}))}syncActions(){this._subscriptions.push(this.keyUpEventEmitter.pipe((0,L.B)(this.typeaheadWaitMs),(0,N.Z)(J=>{this._allEnteredValue=J;const _e=this.normalizeQuery(J);return this.typeahead?((0,w.A)(this.typeahead)?this.typeahead:(0,D.H)(this.typeahead)).pipe((0,P.p)(st=>!!st&&this.testMatch(this.normalizeOption(st),_e)),function Y(){return(0,x.N)((z,W)=>{(function V(z,W){return(0,x.N)((0,G.S)(z,W,arguments.length>=2,!1,!0))})(Q,[])(z).subscribe(W)})}()):I.w})).subscribe(J=>{this.finalizeAsyncCall(J)}))}normalizeOption(J){const _e=it(J,this.typeaheadOptionField);return(this.typeaheadLatinize?be(_e):_e).toLowerCase()}tokenizeQuery(J){let _e=J;return this.typeaheadMultipleSearch&&this.typeaheadSingleWords?this.haveCommonCharacters(`${this.typeaheadPhraseDelimiters}${this.typeaheadWordDelimiters}`,this.typeaheadMultipleSearchDelimiters)||(_e=Oe(_e,this.typeaheadWordDelimiters,this.typeaheadPhraseDelimiters,this.typeaheadMultipleSearchDelimiters)):_e=this.typeaheadSingleWords?Oe(_e,this.typeaheadWordDelimiters,this.typeaheadPhraseDelimiters):Oe(_e,void 0,void 0,this.typeaheadMultipleSearchDelimiters),_e}normalizeQuery(J){let _e=(this.typeaheadLatinize?be(J):J).toString().toLowerCase();return _e=this.tokenizeQuery(_e),_e}testMatch(J,_e){let Ce;if("object"==typeof _e){Ce=_e.length;for(let st=0;st<Ce;st+=1)if(_e[st].length>0&&J.indexOf(_e[st])<0)return!1;return!0}return J.indexOf(_e)>=0}finalizeAsyncCall(J){if(this.prepareMatches(J||[]),this.typeaheadLoading.emit(!1),this.typeaheadNoResults.emit(!this.hasMatches()),this.hasMatches()){if(this.isFocused||!this.cancelRequestOnFocusLost)if(this._container&&this.ngControl.control){const Ce=((this.typeaheadLatinize?be(this.ngControl.control.value):this.ngControl.control.value)||"").toString().toLowerCase();this._container.query=this.tokenizeQuery(Ce),this._container.matches=this._matches}else this.show()}else this.hide()}prepareMatches(J){const _e=J.slice(0,this.typeaheadOptionsLimit),Ce=this.typeaheadOrderBy?this.orderMatches(_e):_e;if(this.typeaheadGroupField){let st=[];Ce.map(rt=>it(rt,this.typeaheadGroupField)).filter((rt,kt,mt)=>mt.indexOf(rt)===kt).forEach(rt=>{st.push(new Ee(rt,rt,!0)),st=st.concat(Ce.filter(kt=>it(kt,this.typeaheadGroupField)===rt).map(kt=>new Ee(kt,it(kt,this.typeaheadOptionField))))}),this._matches=st}else this._matches=Ce.map(st=>new Ee(st,it(st,this.typeaheadOptionField)))}orderMatches(J){if(!J.length)return J;if(null!=this.typeaheadOrderBy&&"object"==typeof this.typeaheadOrderBy&&0===Object.keys(this.typeaheadOrderBy).length)return console.error("Field and direction properties for typeaheadOrderBy have to be set according to documentation!"),J;const{field:_e,direction:Ce}=this.typeaheadOrderBy||{};return!Ce||"asc"!==Ce&&"desc"!==Ce?(console.error('typeaheadOrderBy direction has to equal "asc" or "desc". Please follow the documentation.'),J):"string"==typeof J[0]?"asc"===Ce?J.sort():J.sort().reverse():_e&&"string"==typeof _e?J.sort((st,Fe)=>{const rt=it(st,_e),kt=it(Fe,_e);return rt<kt?"asc"===Ce?-1:1:rt>kt?"asc"===Ce?1:-1:0}):(console.error("typeaheadOrderBy field has to set according to the documentation."),J)}hasMatches(){return this._matches.length>0}checkDelimitersConflict(){if(this.typeaheadMultipleSearch&&this.typeaheadSingleWords&&this.haveCommonCharacters(`${this.typeaheadPhraseDelimiters}${this.typeaheadWordDelimiters}`,this.typeaheadMultipleSearchDelimiters))throw new Error(`Delimiters used in typeaheadMultipleSearchDelimiters must be different\n          from delimiters used in typeaheadWordDelimiters (current value: ${this.typeaheadWordDelimiters}) and\n          typeaheadPhraseDelimiters (current value: ${this.typeaheadPhraseDelimiters}).\n          Please refer to the documentation`)}haveCommonCharacters(J,_e){for(let Ce=0;Ce<J.length;Ce++)if(J.charAt(Ce).indexOf(_e)>-1)return!0;return!1}static{this.\u0275fac=function(_e){return new(_e||z)(i.rXU(F.Li),i.rXU(ln),i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(E.vO),i.rXU(i.sFG),i.rXU(i.c1b))}}static{this.\u0275dir=i.FsC({type:z,selectors:[["","typeahead",""]],hostVars:4,hostBindings:function(_e,Ce){1&_e&&i.bIt("input",function(Fe){return Ce.onInput(Fe)})("keyup",function(Fe){return Ce.onChange(Fe)})("click",function(){return Ce.onFocus()})("focus",function(){return Ce.onFocus()})("blur",function(){return Ce.onBlur()})("keydown",function(Fe){return Ce.onKeydown(Fe)}),2&_e&&i.BMQ("aria-activedescendant",Ce.activeDescendant)("aria-owns",Ce.isOpen?Ce._container.popupId:null)("aria-expanded",Ce.isOpen)("aria-autocomplete",Ce.list)},inputs:{typeahead:"typeahead",typeaheadMinLength:"typeaheadMinLength",adaptivePosition:"adaptivePosition",isAnimated:"isAnimated",typeaheadWaitMs:"typeaheadWaitMs",typeaheadOptionsLimit:"typeaheadOptionsLimit",typeaheadOptionField:"typeaheadOptionField",typeaheadGroupField:"typeaheadGroupField",typeaheadOrderBy:"typeaheadOrderBy",typeaheadAsync:"typeaheadAsync",typeaheadLatinize:"typeaheadLatinize",typeaheadSingleWords:"typeaheadSingleWords",typeaheadWordDelimiters:"typeaheadWordDelimiters",typeaheadMultipleSearch:"typeaheadMultipleSearch",typeaheadMultipleSearchDelimiters:"typeaheadMultipleSearchDelimiters",typeaheadPhraseDelimiters:"typeaheadPhraseDelimiters",typeaheadItemTemplate:"typeaheadItemTemplate",optionsListTemplate:"optionsListTemplate",typeaheadScrollable:"typeaheadScrollable",typeaheadOptionsInScrollableView:"typeaheadOptionsInScrollableView",typeaheadHideResultsOnBlur:"typeaheadHideResultsOnBlur",typeaheadSelectFirstItem:"typeaheadSelectFirstItem",typeaheadIsFirstItemActive:"typeaheadIsFirstItemActive",container:"container",dropup:"dropup"},outputs:{typeaheadLoading:"typeaheadLoading",typeaheadNoResults:"typeaheadNoResults",typeaheadOnSelect:"typeaheadOnSelect",typeaheadOnPreview:"typeaheadOnPreview",typeaheadOnBlur:"typeaheadOnBlur"},exportAs:["bs-typeahead"]})}}return z})(),xt=(()=>{class z{static forRoot(){return{ngModule:z,providers:[F.Li,v.DF]}}static{this.\u0275fac=function(_e){return new(_e||z)}}static{this.\u0275mod=i.$C({type:z})}static{this.\u0275inj=i.G2t({imports:[f.MD]})}}return z})()},2806:(lt,we,p)=>{"use strict";p.d(we,{Al:()=>E,Aq:()=>Qe,Bu:()=>T,Fv:()=>h,GL:()=>I,Xt:()=>D,Yr:()=>Me,Zu:()=>y,mc:()=>Je,x:()=>f});var i=p(4438);class e{constructor(be,se){this.open=be,this.close=se||be}isManual(){return"manual"===this.open||"manual"===this.close}}const v={hover:["mouseover","mouseout"],focus:["focusin","focusout"]};function y(Ee,be=v){const se=(Ee||"").trim();if(0===se.length)return[];const Oe=se.split(/\s+/).map(it=>it.split(":")).map(it=>{const xe=be[it[0]]||it;return new e(xe[0],xe[1])}),Ie=Oe.filter(it=>it.isManual());if(Ie.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===Ie.length&&Oe.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return Oe}function I(Ee,be){const se=y(be.triggers),Oe=be.target;if(1===se.length&&se[0].isManual())return Function.prototype;const Ie=[],it=[],xe=()=>{it.forEach(pt=>Ie.push(pt())),it.length=0};return se.forEach(pt=>{const vt=pt.open===pt.close,hn=vt?be.toggle:be.show;if(!vt&&pt.close&&be.hide){const ln=pt.close,Mt=be.hide;it.push(()=>Ee.listen(Oe,ln,Mt))}hn&&Ie.push(Ee.listen(Oe,pt.open,()=>hn(xe)))}),()=>{Ie.forEach(pt=>pt())}}function D(Ee,be){return be.outsideClick?Ee.listen("document","click",se=>{be.target&&be.target.contains(se.target)||be.targets&&be.targets.some(Oe=>Oe.contains(se.target))||be.hide&&be.hide()}):Function.prototype}function h(Ee,be){return be.outsideEsc?Ee.listen("document","keyup.esc",se=>{be.target&&be.target.contains(se.target)||be.targets&&be.targets.some(Oe=>Oe.contains(se.target))||be.hide&&be.hide()}):Function.prototype}const f=typeof window<"u"&&window||{},E=f.document;var Y=function(Ee){return Ee.isBs4="bs4",Ee.isBs5="bs5",Ee}(Y||{});let le;function fe(){const Ee=f.document.createElement("span");Ee.innerText="testing bs version",Ee.classList.add("d-none"),Ee.classList.add("pl-1"),f.document.head.appendChild(Ee);const be=f.getComputedStyle(Ee).paddingLeft;return be&&parseFloat(be)?(f.document.head.removeChild(Ee),"bs4"):(f.document.head.removeChild(Ee),"bs5")}function T(){return{isBs4:(le||(le=fe()),"bs4"===le),isBs5:(le||(le=fe()),"bs5"===le)}}function Me(){return function(se,Oe){const Ie=` __${Oe}Value`;Object.defineProperty(se,Oe,{get(){return this[Ie]},set(it){const xe=this[Ie];this[Ie]=it,xe!==it&&this[Oe+"Change"]&&this[Oe+"Change"].emit(it)}})}}class Qe{static reflow(be){}static getStyles(be){let se=be.ownerDocument.defaultView;return(!se||!se.opener)&&(se=f),se.getComputedStyle(be)}static stackOverflowConfig(){const be=function ae(){const Ee=T(),be=Object.keys(Ee).find(se=>Ee[se]);return Y[be]}();return{crossorigin:"anonymous",integrity:"bs5"===be?"sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65":"sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2",cdnLink:"bs5"===be?"https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css":"https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"}}}const Le={},Ne=typeof console>"u"||!("warn"in console);function Je(Ee){!(0,i.naY)()||Ne||Ee in Le||(Le[Ee]=!0,console.warn(Ee))}},5794:(lt,we,p)=>{"use strict";p.d(we,{_B:()=>Je,tw:()=>Me});var i=p(4438),e=p(9969),v=p(177),y=p(1413),w=p(345);const I=["toast-component",""];function D(Ie,it){if(1&Ie){const xe=i.RV6();i.j41(0,"button",5),i.bIt("click",function(){i.eBV(xe);const vt=i.XpG();return i.Njj(vt.remove())}),i.j41(1,"span",6),i.EFF(2,"\xd7"),i.k0s()()}}function h(Ie,it){if(1&Ie&&(i.qex(0),i.EFF(1),i.bVm()),2&Ie){const xe=i.XpG(2);i.R7$(),i.SpI("[",xe.duplicatesCount+1,"]")}}function f(Ie,it){if(1&Ie&&(i.j41(0,"div"),i.EFF(1),i.DNE(2,h,2,1,"ng-container",4),i.k0s()),2&Ie){const xe=i.XpG();i.HbH(xe.options.titleClass),i.BMQ("aria-label",xe.title),i.R7$(),i.SpI(" ",xe.title," "),i.R7$(),i.Y8G("ngIf",xe.duplicatesCount)}}function E(Ie,it){if(1&Ie&&i.nrm(0,"div",7),2&Ie){const xe=i.XpG();i.HbH(xe.options.messageClass),i.Y8G("innerHTML",xe.message,i.npT)}}function F(Ie,it){if(1&Ie&&(i.j41(0,"div",8),i.EFF(1),i.k0s()),2&Ie){const xe=i.XpG();i.HbH(xe.options.messageClass),i.BMQ("aria-label",xe.message),i.R7$(),i.SpI(" ",xe.message," ")}}function L(Ie,it){if(1&Ie&&(i.j41(0,"div"),i.nrm(1,"div",9),i.k0s()),2&Ie){const xe=i.XpG();i.R7$(),i.xc7("width",xe.width+"%")}}class Q{_attachedHost;component;viewContainerRef;injector;constructor(it,xe){this.component=it,this.injector=xe}attach(it,xe){return this._attachedHost=it,it.attach(this,xe)}detach(){const it=this._attachedHost;if(it)return this._attachedHost=void 0,it.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(it){this._attachedHost=it}}class Y{_attachedPortal;_disposeFn;attach(it,xe){return this._attachedPortal=it,this.attachComponentPortal(it,xe)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(it){this._disposeFn=it}}class le{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new y.B;_activate=new y.B;_manualClose=new y.B;_resetTimeout=new y.B;_countDuplicate=new y.B;constructor(it){this._overlayRef=it}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(it,xe){it&&this._resetTimeout.next(),xe&&this._countDuplicate.next(++this.duplicatesCount)}}class fe{toastId;config;message;title;toastType;toastRef;_onTap=new y.B;_onAction=new y.B;constructor(it,xe,pt,vt,hn,ln){this.toastId=it,this.config=xe,this.message=pt,this.title=vt,this.toastType=hn,this.toastRef=ln,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(it){this._onAction.next(it)}onAction(){return this._onAction.asObservable()}}const ee=new i.nKC("ToastConfig");class ie extends Y{_hostDomElement;_componentFactoryResolver;_appRef;constructor(it,xe,pt){super(),this._hostDomElement=it,this._componentFactoryResolver=xe,this._appRef=pt}attachComponentPortal(it,xe){const pt=this._componentFactoryResolver.resolveComponentFactory(it.component);let vt;return vt=pt.create(it.injector),this._appRef.attachView(vt.hostView),this.setDisposeFn(()=>{this._appRef.detachView(vt.hostView),vt.destroy()}),xe?this._hostDomElement.insertBefore(this._getComponentRootNode(vt),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(vt)),vt}_getComponentRootNode(it){return it.hostView.rootNodes[0]}}let T=(()=>{class Ie{_document=(0,i.WQX)(v.qQ);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const xe=this._document.createElement("div");xe.classList.add("overlay-container"),xe.setAttribute("aria-live","polite"),this._document.body.appendChild(xe),this._containerElement=xe}static \u0275fac=function(pt){return new(pt||Ie)};static \u0275prov=i.jDH({token:Ie,factory:Ie.\u0275fac,providedIn:"root"})}return Ie})();class ae{_portalHost;constructor(it){this._portalHost=it}attach(it,xe=!0){return this._portalHost.attach(it,xe)}detach(){return this._portalHost.detach()}}let re=(()=>{class Ie{_overlayContainer=(0,i.WQX)(T);_componentFactoryResolver=(0,i.WQX)(i.OM3);_appRef=(0,i.WQX)(i.o8S);_document=(0,i.WQX)(v.qQ);_paneElements=new Map;create(xe,pt){return this._createOverlayRef(this.getPaneElement(xe,pt))}getPaneElement(xe="",pt){return this._paneElements.get(pt)||this._paneElements.set(pt,{}),this._paneElements.get(pt)[xe]||(this._paneElements.get(pt)[xe]=this._createPaneElement(xe,pt)),this._paneElements.get(pt)[xe]}_createPaneElement(xe,pt){const vt=this._document.createElement("div");return vt.id="toast-container",vt.classList.add(xe),vt.classList.add("toast-container"),pt?pt.getContainerElement().appendChild(vt):this._overlayContainer.getContainerElement().appendChild(vt),vt}_createPortalHost(xe){return new ie(xe,this._componentFactoryResolver,this._appRef)}_createOverlayRef(xe){return new ae(this._createPortalHost(xe))}static \u0275fac=function(pt){return new(pt||Ie)};static \u0275prov=i.jDH({token:Ie,factory:Ie.\u0275fac,providedIn:"root"})}return Ie})(),Me=(()=>{class Ie{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(xe,pt,vt,hn,ln){this.overlay=pt,this._injector=vt,this.sanitizer=hn,this.ngZone=ln,this.toastrConfig={...xe.default,...xe.config},xe.config.iconClasses&&(this.toastrConfig.iconClasses={...xe.default.iconClasses,...xe.config.iconClasses})}show(xe,pt,vt={},hn=""){return this._preBuildNotification(hn,xe,pt,this.applyConfig(vt))}success(xe,pt,vt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",xe,pt,this.applyConfig(vt))}error(xe,pt,vt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",xe,pt,this.applyConfig(vt))}info(xe,pt,vt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",xe,pt,this.applyConfig(vt))}warning(xe,pt,vt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",xe,pt,this.applyConfig(vt))}clear(xe){for(const pt of this.toasts)if(void 0!==xe){if(pt.toastId===xe)return void pt.toastRef.manualClose()}else pt.toastRef.manualClose()}remove(xe){const pt=this._findToast(xe);if(!pt||(pt.activeToast.toastRef.close(),this.toasts.splice(pt.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const vt=this.toasts[this.currentlyActive].toastRef;vt.isInactive()||(this.currentlyActive=this.currentlyActive+1,vt.activate())}return!0}findDuplicate(xe="",pt="",vt,hn){const{includeTitleDuplicates:ln}=this.toastrConfig;for(const Mt of this.toasts)if((!ln||ln&&Mt.title===xe)&&Mt.message===pt)return Mt.toastRef.onDuplicate(vt,hn),Mt;return null}applyConfig(xe={}){return{...this.toastrConfig,...xe}}_findToast(xe){for(let pt=0;pt<this.toasts.length;pt++)if(this.toasts[pt].toastId===xe)return{index:pt,activeToast:this.toasts[pt]};return null}_preBuildNotification(xe,pt,vt,hn){return hn.onActivateTick?this.ngZone.run(()=>this._buildNotification(xe,pt,vt,hn)):this._buildNotification(xe,pt,vt,hn)}_buildNotification(xe,pt,vt,hn){if(!hn.toastComponent)throw new Error("toastComponent required");const ln=this.findDuplicate(vt,pt,this.toastrConfig.resetTimeoutOnDuplicate&&hn.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&vt||pt)&&this.toastrConfig.preventDuplicates&&null!==ln)return ln;this.previousToastMessage=pt;let Mt=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(Mt=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const xt=this.overlay.create(hn.positionClass,this.overlayContainer);this.index=this.index+1;let z=pt;pt&&hn.enableHtml&&(z=this.sanitizer.sanitize(i.WPN.HTML,pt));const W=new le(xt),J=new fe(this.index,hn,z,vt,xe,W),Ce=i.zZn.create({providers:[{provide:fe,useValue:J}],parent:this._injector}),st=new Q(hn.toastComponent,Ce),Fe=xt.attach(st,hn.newestOnTop);W.componentInstance=Fe.instance;const rt={toastId:this.index,title:vt||"",message:pt||"",toastRef:W,onShown:W.afterActivate(),onHidden:W.afterClosed(),onTap:J.onTap(),onAction:J.onAction(),portal:Fe};return Mt||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{rt.toastRef.activate()})),this.toasts.push(rt),rt}static \u0275fac=function(pt){return new(pt||Ie)(i.KVO(ee),i.KVO(re),i.KVO(i.zZn),i.KVO(w.up),i.KVO(i.SKi))};static \u0275prov=i.jDH({token:Ie,factory:Ie.\u0275fac,providedIn:"root"})}return Ie})();const Le={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:(()=>{class Ie{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=-1;toastClasses="";state;get displayStyle(){if("inactive"===this.state.value)return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(xe,pt,vt){this.toastrService=xe,this.toastPackage=pt,this.ngZone=vt,this.message=pt.message,this.title=pt.title,this.options=pt.config,this.originalTimeout=pt.config.timeOut,this.toastClasses=`${pt.toastType} ${pt.config.toastClass}`,this.sub=pt.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=pt.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=pt.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=pt.toastRef.countDuplicate().subscribe(hn=>{this.duplicatesCount=hn}),this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}}}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const xe=(new Date).getTime();this.width=(this.hideTime-xe)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(xe,pt){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(xe),pt)):this.timeout=setTimeout(()=>xe(),pt)}outsideInterval(xe,pt){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(xe),pt)):this.intervalId=setInterval(()=>xe(),pt)}runInsideAngular(xe){this.ngZone?this.ngZone.run(()=>xe()):xe()}static \u0275fac=function(pt){return new(pt||Ie)(i.rXU(Me),i.rXU(fe),i.rXU(i.SKi))};static \u0275cmp=i.VBU({type:Ie,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(pt,vt){1&pt&&i.bIt("click",function(){return vt.tapToast()})("mouseenter",function(){return vt.stickAround()})("mouseleave",function(){return vt.delayedHideToast()}),2&pt&&(i.zvX("@flyInOut",vt.state),i.HbH(vt.toastClasses),i.xc7("display",vt.displayStyle))},standalone:!0,features:[i.aNF],attrs:I,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(pt,vt){1&pt&&i.DNE(0,D,3,0,"button",0)(1,f,3,5,"div",1)(2,E,1,3,"div",2)(3,F,2,4,"div",3)(4,L,2,2,"div",4),2&pt&&(i.Y8G("ngIf",vt.options.closeButton),i.R7$(),i.Y8G("ngIf",vt.title),i.R7$(),i.Y8G("ngIf",vt.message&&vt.options.enableHtml),i.R7$(),i.Y8G("ngIf",vt.message&&!vt.options.enableHtml),i.R7$(),i.Y8G("ngIf",vt.options.progressBar))},dependencies:[v.bT],encapsulation:2,data:{animation:[(0,e.hZ)("flyInOut",[(0,e.wk)("inactive",(0,e.iF)({opacity:0})),(0,e.wk)("active",(0,e.iF)({opacity:1})),(0,e.wk)("removed",(0,e.iF)({opacity:0})),(0,e.kY)("inactive => active",(0,e.i0)("{{ easeTime }}ms {{ easing }}")),(0,e.kY)("active => removed",(0,e.i0)("{{ easeTime }}ms {{ easing }}"))])]}})}return Ie})()},Ne=(Ie={})=>(0,i.EmA)([{provide:ee,useValue:{default:Le,config:Ie}}]);let Je=(()=>{class Ie{static forRoot(xe={}){return{ngModule:Ie,providers:[Ne(xe)]}}static \u0275fac=function(pt){return new(pt||Ie)};static \u0275mod=i.$C({type:Ie});static \u0275inj=i.G2t({})}return Ie})()},1068:(lt,we,p)=>{"use strict";p.d(we,{gR:()=>wr,R9:()=>jr,I6:()=>Hr,SL:()=>Vn,zN:()=>Ms,sb:()=>Zr,Am:()=>Zr,FF:()=>Wr});var i={};p.r(i),p.d(i,{VERSION:()=>e,after:()=>Cr,all:()=>wo,allKeys:()=>sn,any:()=>Ms,assign:()=>dt,before:()=>Ni,bind:()=>cr,bindAll:()=>Zs,chain:()=>ji,chunk:()=>Pt,clone:()=>mn,collect:()=>Gn,compact:()=>yr,compose:()=>br,constant:()=>_e,contains:()=>wr,countBy:()=>Pr,create:()=>gn,debounce:()=>bs,default:()=>ds,defaults:()=>Dt,defer:()=>vi,delay:()=>Us,detect:()=>Hr,difference:()=>jr,drop:()=>Qr,each:()=>tr,escape:()=>ct,every:()=>wo,extend:()=>It,extendOwn:()=>dt,filter:()=>as,find:()=>Hr,findIndex:()=>Vn,findKey:()=>si,findLastIndex:()=>ns,findWhere:()=>er,first:()=>ri,flatten:()=>Ks,foldl:()=>ur,foldr:()=>Fr,forEach:()=>tr,functions:()=>ui,get:()=>fi,groupBy:()=>No,has:()=>qn,head:()=>ri,identity:()=>Pi,include:()=>wr,includes:()=>wr,indexBy:()=>xs,indexOf:()=>Dr,initial:()=>ks,inject:()=>ur,intersection:()=>Cs,invert:()=>un,invoke:()=>ls,isArguments:()=>z,isArray:()=>ln,isArrayBuffer:()=>Ee,isBoolean:()=>ie,isDataView:()=>hn,isDate:()=>Qe,isElement:()=>T,isEmpty:()=>je,isEqual:()=>Ft,isError:()=>Ne,isFinite:()=>W,isFunction:()=>Oe,isMap:()=>Wt,isMatch:()=>oe,isNaN:()=>J,isNull:()=>K,isNumber:()=>Me,isObject:()=>fe,isRegExp:()=>Le,isSet:()=>Nt,isString:()=>re,isSymbol:()=>Je,isTypedArray:()=>tt,isUndefined:()=>ee,isWeakMap:()=>_t,isWeakSet:()=>tn,iteratee:()=>Hi,keys:()=>Yt,last:()=>zs,lastIndexOf:()=>Or,map:()=>Gn,mapObject:()=>qe,matcher:()=>Kn,matches:()=>Kn,max:()=>is,memoize:()=>_s,methods:()=>ui,min:()=>go,mixin:()=>Ti,negate:()=>Vs,noop:()=>St,now:()=>Ht,object:()=>de,omit:()=>xa,once:()=>qs,pairs:()=>Ln,partial:()=>ii,partition:()=>sr,pick:()=>ao,pluck:()=>cs,property:()=>Si,propertyOf:()=>We,random:()=>ot,range:()=>Ze,reduce:()=>ur,reduceRight:()=>Fr,reject:()=>ro,rest:()=>Qr,restArguments:()=>le,result:()=>ni,sample:()=>Go,select:()=>as,shuffle:()=>ra,size:()=>Br,some:()=>Ms,sortBy:()=>so,sortedIndex:()=>vr,tail:()=>Qr,take:()=>ri,tap:()=>zn,template:()=>Bn,templateSettings:()=>ve,throttle:()=>Ws,times:()=>Gt,toArray:()=>rs,toPath:()=>Tn,transpose:()=>Re,unescape:()=>Te,union:()=>fn,uniq:()=>Zr,unique:()=>Zr,uniqueId:()=>ei,unzip:()=>Re,values:()=>En,where:()=>Ma,without:()=>Wr,wrap:()=>Tr,zip:()=>Be});var e="1.13.6",v="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},y=Array.prototype,w=Object.prototype,I=typeof Symbol<"u"?Symbol.prototype:null,D=y.push,h=y.slice,f=w.toString,E=w.hasOwnProperty,F=typeof ArrayBuffer<"u",L=typeof DataView<"u",_=Array.isArray,M=Object.keys,N=Object.create,P=F&&ArrayBuffer.isView,G=isNaN,x=isFinite,V=!{toString:null}.propertyIsEnumerable("toString"),Q=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],Y=Math.pow(2,53)-1;function le(De,Xe){return Xe=null==Xe?De.length-1:+Xe,function(){for(var bt=Math.max(arguments.length-Xe,0),Tt=Array(bt),Bt=0;Bt<bt;Bt++)Tt[Bt]=arguments[Bt+Xe];switch(Xe){case 0:return De.call(this,Tt);case 1:return De.call(this,arguments[0],Tt);case 2:return De.call(this,arguments[0],arguments[1],Tt)}var Ct=Array(Xe+1);for(Bt=0;Bt<Xe;Bt++)Ct[Bt]=arguments[Bt];return Ct[Xe]=Tt,De.apply(this,Ct)}}function fe(De){var Xe=typeof De;return"function"===Xe||"object"===Xe&&!!De}function K(De){return null===De}function ee(De){return void 0===De}function ie(De){return!0===De||!1===De||"[object Boolean]"===f.call(De)}function T(De){return!(!De||1!==De.nodeType)}function ae(De){var Xe="[object "+De+"]";return function(bt){return f.call(bt)===Xe}}const re=ae("String"),Me=ae("Number"),Qe=ae("Date"),Le=ae("RegExp"),Ne=ae("Error"),Je=ae("Symbol"),Ee=ae("ArrayBuffer");var be=ae("Function");"object"!=typeof Int8Array&&"function"!=typeof(v.document&&v.document.childNodes)&&(be=function(De){return"function"==typeof De||!1});const Oe=be,Ie=ae("Object");var it=L&&Ie(new DataView(new ArrayBuffer(8))),xe=typeof Map<"u"&&Ie(new Map),pt=ae("DataView");const hn=it?function vt(De){return null!=De&&Oe(De.getInt8)&&Ee(De.buffer)}:pt,ln=_||ae("Array");function Mt(De,Xe){return null!=De&&E.call(De,Xe)}var xt=ae("Arguments");!function(){xt(arguments)||(xt=function(De){return Mt(De,"callee")})}();const z=xt;function W(De){return!Je(De)&&x(De)&&!isNaN(parseFloat(De))}function J(De){return Me(De)&&G(De)}function _e(De){return function(){return De}}function Ce(De){return function(Xe){var bt=De(Xe);return"number"==typeof bt&&bt>=0&&bt<=Y}}function st(De){return function(Xe){return Xe?.[De]}}const Fe=st("byteLength"),rt=Ce(Fe);var kt=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;const tt=F?function mt(De){return P?P(De)&&!hn(De):rt(De)&&kt.test(f.call(De))}:_e(!1),$t=st("length");function Ot(De,Xe){Xe=function en(De){for(var Xe={},bt=De.length,Tt=0;Tt<bt;++Tt)Xe[De[Tt]]=!0;return{contains:function(Bt){return!0===Xe[Bt]},push:function(Bt){return Xe[Bt]=!0,De.push(Bt)}}}(Xe);var bt=Q.length,Tt=De.constructor,Bt=Oe(Tt)&&Tt.prototype||w,Ct="constructor";for(Mt(De,Ct)&&!Xe.contains(Ct)&&Xe.push(Ct);bt--;)(Ct=Q[bt])in De&&De[Ct]!==Bt[Ct]&&!Xe.contains(Ct)&&Xe.push(Ct)}function Yt(De){if(!fe(De))return[];if(M)return M(De);var Xe=[];for(var bt in De)Mt(De,bt)&&Xe.push(bt);return V&&Ot(De,Xe),Xe}function je(De){if(null==De)return!0;var Xe=$t(De);return"number"==typeof Xe&&(ln(De)||re(De)||z(De))?0===Xe:0===$t(Yt(De))}function oe(De,Xe){var bt=Yt(Xe),Tt=bt.length;if(null==De)return!Tt;for(var Bt=Object(De),Ct=0;Ct<Tt;Ct++){var Jt=bt[Ct];if(Xe[Jt]!==Bt[Jt]||!(Jt in Bt))return!1}return!0}function H(De){return De instanceof H?De:this instanceof H?void(this._wrapped=De):new H(De)}function te(De){return new Uint8Array(De.buffer||De,De.byteOffset||0,Fe(De))}H.VERSION=e,H.prototype.valueOf=H.prototype.toJSON=H.prototype.value=function(){return this._wrapped},H.prototype.toString=function(){return String(this._wrapped)};var Ue="[object DataView]";function et(De,Xe,bt,Tt){if(De===Xe)return 0!==De||1/De==1/Xe;if(null==De||null==Xe)return!1;if(De!=De)return Xe!=Xe;var Bt=typeof De;return("function"===Bt||"object"===Bt||"object"==typeof Xe)&&ft(De,Xe,bt,Tt)}function ft(De,Xe,bt,Tt){De instanceof H&&(De=De._wrapped),Xe instanceof H&&(Xe=Xe._wrapped);var Bt=f.call(De);if(Bt!==f.call(Xe))return!1;if(it&&"[object Object]"==Bt&&hn(De)){if(!hn(Xe))return!1;Bt=Ue}switch(Bt){case"[object RegExp]":case"[object String]":return""+De==""+Xe;case"[object Number]":return+De!=+De?+Xe!=+Xe:0==+De?1/+De==1/Xe:+De==+Xe;case"[object Date]":case"[object Boolean]":return+De==+Xe;case"[object Symbol]":return I.valueOf.call(De)===I.valueOf.call(Xe);case"[object ArrayBuffer]":case Ue:return ft(te(De),te(Xe),bt,Tt)}var Ct="[object Array]"===Bt;if(!Ct&&tt(De)){if(Fe(De)!==Fe(Xe))return!1;if(De.buffer===Xe.buffer&&De.byteOffset===Xe.byteOffset)return!0;Ct=!0}if(!Ct){if("object"!=typeof De||"object"!=typeof Xe)return!1;var Rn=De.constructor,yi=Xe.constructor;if(Rn!==yi&&!(Oe(Rn)&&Rn instanceof Rn&&Oe(yi)&&yi instanceof yi)&&"constructor"in De&&"constructor"in Xe)return!1}Tt=Tt||[];for(var xn=(bt=bt||[]).length;xn--;)if(bt[xn]===De)return Tt[xn]===Xe;if(bt.push(De),Tt.push(Xe),Ct){if((xn=De.length)!==Xe.length)return!1;for(;xn--;)if(!et(De[xn],Xe[xn],bt,Tt))return!1}else{var zr,dr=Yt(De);if(xn=dr.length,Yt(Xe).length!==xn)return!1;for(;xn--;)if(!Mt(Xe,zr=dr[xn])||!et(De[zr],Xe[zr],bt,Tt))return!1}return bt.pop(),Tt.pop(),!0}function Ft(De,Xe){return et(De,Xe)}function sn(De){if(!fe(De))return[];var Xe=[];for(var bt in De)Xe.push(bt);return V&&Ot(De,Xe),Xe}function cn(De){var Xe=$t(De);return function(bt){if(null==bt)return!1;var Tt=sn(bt);if($t(Tt))return!1;for(var Bt=0;Bt<Xe;Bt++)if(!Oe(bt[De[Bt]]))return!1;return De!==wi||!Oe(bt[In])}}var In="forEach",Fn=["clear","delete"],Pn=["get","has","set"],ki=Fn.concat(In,Pn),wi=Fn.concat(Pn),Rt=["add"].concat(Fn,In,"has");const Wt=xe?cn(ki):ae("Map"),_t=xe?cn(wi):ae("WeakMap"),Nt=xe?cn(Rt):ae("Set"),tn=ae("WeakSet");function En(De){for(var Xe=Yt(De),bt=Xe.length,Tt=Array(bt),Bt=0;Bt<bt;Bt++)Tt[Bt]=De[Xe[Bt]];return Tt}function Ln(De){for(var Xe=Yt(De),bt=Xe.length,Tt=Array(bt),Bt=0;Bt<bt;Bt++)Tt[Bt]=[Xe[Bt],De[Xe[Bt]]];return Tt}function un(De){for(var Xe={},bt=Yt(De),Tt=0,Bt=bt.length;Tt<Bt;Tt++)Xe[De[bt[Tt]]]=bt[Tt];return Xe}function ui(De){var Xe=[];for(var bt in De)Oe(De[bt])&&Xe.push(bt);return Xe.sort()}function jn(De,Xe){return function(bt){var Tt=arguments.length;if(Xe&&(bt=Object(bt)),Tt<2||null==bt)return bt;for(var Bt=1;Bt<Tt;Bt++)for(var Ct=arguments[Bt],Jt=De(Ct),Rn=Jt.length,yi=0;yi<Rn;yi++){var xn=Jt[yi];(!Xe||void 0===bt[xn])&&(bt[xn]=Ct[xn])}return bt}}const It=jn(sn),dt=jn(Yt),Dt=jn(sn,!0);function Zt(De){if(!fe(De))return{};if(N)return N(De);var Xe=function(){};Xe.prototype=De;var bt=new Xe;return Xe.prototype=null,bt}function gn(De,Xe){var bt=Zt(De);return Xe&&dt(bt,Xe),bt}function mn(De){return fe(De)?ln(De)?De.slice():It({},De):De}function zn(De,Xe){return Xe(De),De}function Tn(De){return ln(De)?De:[De]}function pn(De){return H.toPath(De)}function ai(De,Xe){for(var bt=Xe.length,Tt=0;Tt<bt;Tt++){if(null==De)return;De=De[Xe[Tt]]}return bt?De:void 0}function fi(De,Xe,bt){var Tt=ai(De,pn(Xe));return ee(Tt)?bt:Tt}function qn(De,Xe){for(var bt=(Xe=pn(Xe)).length,Tt=0;Tt<bt;Tt++){var Bt=Xe[Tt];if(!Mt(De,Bt))return!1;De=De[Bt]}return!!bt}function Pi(De){return De}function Kn(De){return De=dt({},De),function(Xe){return oe(Xe,De)}}function Si(De){return De=pn(De),function(Xe){return ai(Xe,De)}}function pi(De,Xe,bt){if(void 0===Xe)return De;switch(bt??3){case 1:return function(Tt){return De.call(Xe,Tt)};case 3:return function(Tt,Bt,Ct){return De.call(Xe,Tt,Bt,Ct)};case 4:return function(Tt,Bt,Ct,Jt){return De.call(Xe,Tt,Bt,Ct,Jt)}}return function(){return De.apply(Xe,arguments)}}function Wi(De,Xe,bt){return null==De?Pi:Oe(De)?pi(De,Xe,bt):fe(De)&&!ln(De)?Kn(De):Si(De)}function Hi(De,Xe){return Wi(De,Xe,1/0)}function Ei(De,Xe,bt){return H.iteratee!==Hi?H.iteratee(De,Xe):Wi(De,Xe,bt)}function qe(De,Xe,bt){Xe=Ei(Xe,bt);for(var Tt=Yt(De),Bt=Tt.length,Ct={},Jt=0;Jt<Bt;Jt++){var Rn=Tt[Jt];Ct[Rn]=Xe(De[Rn],Rn,De)}return Ct}function St(){}function We(De){return null==De?St:function(Xe){return fi(De,Xe)}}function Gt(De,Xe,bt){var Tt=Array(Math.max(0,De));Xe=pi(Xe,bt,1);for(var Bt=0;Bt<De;Bt++)Tt[Bt]=Xe(Bt);return Tt}function ot(De,Xe){return null==Xe&&(Xe=De,De=0),De+Math.floor(Math.random()*(Xe-De+1))}H.toPath=Tn,H.iteratee=Hi;const Ht=Date.now||function(){return(new Date).getTime()};function Ye(De){var Xe=function(Ct){return De[Ct]},bt="(?:"+Yt(De).join("|")+")",Tt=RegExp(bt),Bt=RegExp(bt,"g");return function(Ct){return Tt.test(Ct=null==Ct?"":""+Ct)?Ct.replace(Bt,Xe):Ct}}const Xt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},ct=Ye(Xt),Te=Ye(un(Xt)),ve=H.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var ht=/(.)^/,Ke={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},wt=/\\|'|\r|\n|\u2028|\u2029/g;function gt(De){return"\\"+Ke[De]}var zt=/^\s*(\w|\$)+\s*$/;function Bn(De,Xe,bt){!Xe&&bt&&(Xe=bt),Xe=Dt({},Xe,H.templateSettings);var Tt=RegExp([(Xe.escape||ht).source,(Xe.interpolate||ht).source,(Xe.evaluate||ht).source].join("|")+"|$","g"),Bt=0,Ct="__p+='";De.replace(Tt,function(xn,dr,zr,li,hs){return Ct+=De.slice(Bt,hs).replace(wt,gt),Bt=hs+xn.length,dr?Ct+="'+\n((__t=("+dr+"))==null?'':_.escape(__t))+\n'":zr?Ct+="'+\n((__t=("+zr+"))==null?'':__t)+\n'":li&&(Ct+="';\n"+li+"\n__p+='"),xn}),Ct+="';\n";var Rn,Jt=Xe.variable;if(Jt){if(!zt.test(Jt))throw new Error("variable is not a bare identifier: "+Jt)}else Ct="with(obj||{}){\n"+Ct+"}\n",Jt="obj";Ct="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+Ct+"return __p;\n";try{Rn=new Function(Jt,"_",Ct)}catch(xn){throw xn.source=Ct,xn}var yi=function(xn){return Rn.call(this,xn,H)};return yi.source="function("+Jt+"){\n"+Ct+"}",yi}function ni(De,Xe,bt){var Tt=(Xe=pn(Xe)).length;if(!Tt)return Oe(bt)?bt.call(De):bt;for(var Bt=0;Bt<Tt;Bt++){var Ct=De?.[Xe[Bt]];void 0===Ct&&(Ct=bt,Bt=Tt),De=Oe(Ct)?Ct.call(De):Ct}return De}var gi=0;function ei(De){var Xe=++gi+"";return De?De+Xe:Xe}function ji(De){var Xe=H(De);return Xe._chain=!0,Xe}function pr(De,Xe,bt,Tt,Bt){if(!(Tt instanceof Xe))return De.apply(bt,Bt);var Ct=Zt(De.prototype),Jt=De.apply(Ct,Bt);return fe(Jt)?Jt:Ct}var $n=le(function(De,Xe){var bt=$n.placeholder,Tt=function(){for(var Bt=0,Ct=Xe.length,Jt=Array(Ct),Rn=0;Rn<Ct;Rn++)Jt[Rn]=Xe[Rn]===bt?arguments[Bt++]:Xe[Rn];for(;Bt<arguments.length;)Jt.push(arguments[Bt++]);return pr(De,Tt,this,this,Jt)};return Tt});$n.placeholder=H;const ii=$n,cr=le(function(De,Xe,bt){if(!Oe(De))throw new TypeError("Bind must be called on a function");var Tt=le(function(Bt){return pr(De,Tt,Xe,this,bt.concat(Bt))});return Tt}),Ai=Ce($t);function Nr(De,Xe,bt,Tt){if(Tt=Tt||[],Xe||0===Xe){if(Xe<=0)return Tt.concat(De)}else Xe=1/0;for(var Bt=Tt.length,Ct=0,Jt=$t(De);Ct<Jt;Ct++){var Rn=De[Ct];if(Ai(Rn)&&(ln(Rn)||z(Rn)))if(Xe>1)Nr(Rn,Xe-1,bt,Tt),Bt=Tt.length;else for(var yi=0,xn=Rn.length;yi<xn;)Tt[Bt++]=Rn[yi++];else bt||(Tt[Bt++]=Rn)}return Tt}const Zs=le(function(De,Xe){var bt=(Xe=Nr(Xe,!1,!1)).length;if(bt<1)throw new Error("bindAll must be passed function names");for(;bt--;){var Tt=Xe[bt];De[Tt]=cr(De[Tt],De)}return De});function _s(De,Xe){var bt=function(Tt){var Bt=bt.cache,Ct=""+(Xe?Xe.apply(this,arguments):Tt);return Mt(Bt,Ct)||(Bt[Ct]=De.apply(this,arguments)),Bt[Ct]};return bt.cache={},bt}const Us=le(function(De,Xe,bt){return setTimeout(function(){return De.apply(null,bt)},Xe)}),vi=ii(Us,H,1);function Ws(De,Xe,bt){var Tt,Bt,Ct,Jt,Rn=0;bt||(bt={});var yi=function(){Rn=!1===bt.leading?0:Ht(),Tt=null,Jt=De.apply(Bt,Ct),Tt||(Bt=Ct=null)},xn=function(){var dr=Ht();!Rn&&!1===bt.leading&&(Rn=dr);var zr=Xe-(dr-Rn);return Bt=this,Ct=arguments,zr<=0||zr>Xe?(Tt&&(clearTimeout(Tt),Tt=null),Rn=dr,Jt=De.apply(Bt,Ct),Tt||(Bt=Ct=null)):!Tt&&!1!==bt.trailing&&(Tt=setTimeout(yi,zr)),Jt};return xn.cancel=function(){clearTimeout(Tt),Rn=0,Tt=Bt=Ct=null},xn}function bs(De,Xe,bt){var Tt,Bt,Ct,Jt,Rn,yi=function(){var dr=Ht()-Bt;Xe>dr?Tt=setTimeout(yi,Xe-dr):(Tt=null,bt||(Jt=De.apply(Rn,Ct)),Tt||(Ct=Rn=null))},xn=le(function(dr){return Rn=this,Ct=dr,Bt=Ht(),Tt||(Tt=setTimeout(yi,Xe),bt&&(Jt=De.apply(Rn,Ct))),Jt});return xn.cancel=function(){clearTimeout(Tt),Tt=Ct=Rn=null},xn}function Tr(De,Xe){return ii(Xe,De)}function Vs(De){return function(){return!De.apply(this,arguments)}}function br(){var De=arguments,Xe=De.length-1;return function(){for(var bt=Xe,Tt=De[Xe].apply(this,arguments);bt--;)Tt=De[bt].call(this,Tt);return Tt}}function Cr(De,Xe){return function(){if(--De<1)return Xe.apply(this,arguments)}}function Ni(De,Xe){var bt;return function(){return--De>0&&(bt=Xe.apply(this,arguments)),De<=1&&(Xe=null),bt}}const qs=ii(Ni,2);function si(De,Xe,bt){Xe=Ei(Xe,bt);for(var Bt,Tt=Yt(De),Ct=0,Jt=Tt.length;Ct<Jt;Ct++)if(Xe(De[Bt=Tt[Ct]],Bt,De))return Bt}function ia(De){return function(Xe,bt,Tt){bt=Ei(bt,Tt);for(var Bt=$t(Xe),Ct=De>0?0:Bt-1;Ct>=0&&Ct<Bt;Ct+=De)if(bt(Xe[Ct],Ct,Xe))return Ct;return-1}}const Vn=ia(1),ns=ia(-1);function vr(De,Xe,bt,Tt){for(var Bt=(bt=Ei(bt,Tt,1))(Xe),Ct=0,Jt=$t(De);Ct<Jt;){var Rn=Math.floor((Ct+Jt)/2);bt(De[Rn])<Bt?Ct=Rn+1:Jt=Rn}return Ct}function Ir(De,Xe,bt){return function(Tt,Bt,Ct){var Jt=0,Rn=$t(Tt);if("number"==typeof Ct)De>0?Jt=Ct>=0?Ct:Math.max(Ct+Rn,Jt):Rn=Ct>=0?Math.min(Ct+1,Rn):Ct+Rn+1;else if(bt&&Ct&&Rn)return Tt[Ct=bt(Tt,Bt)]===Bt?Ct:-1;if(Bt!=Bt)return(Ct=Xe(h.call(Tt,Jt,Rn),J))>=0?Ct+Jt:-1;for(Ct=De>0?Jt:Rn-1;Ct>=0&&Ct<Rn;Ct+=De)if(Tt[Ct]===Bt)return Ct;return-1}}const Dr=Ir(1,Vn,vr),Or=Ir(-1,ns);function Hr(De,Xe,bt){var Bt=(Ai(De)?Vn:si)(De,Xe,bt);if(void 0!==Bt&&-1!==Bt)return De[Bt]}function er(De,Xe){return Hr(De,Kn(Xe))}function tr(De,Xe,bt){var Tt,Bt;if(Xe=pi(Xe,bt),Ai(De))for(Tt=0,Bt=De.length;Tt<Bt;Tt++)Xe(De[Tt],Tt,De);else{var Ct=Yt(De);for(Tt=0,Bt=Ct.length;Tt<Bt;Tt++)Xe(De[Ct[Tt]],Ct[Tt],De)}return De}function Gn(De,Xe,bt){Xe=Ei(Xe,bt);for(var Tt=!Ai(De)&&Yt(De),Bt=(Tt||De).length,Ct=Array(Bt),Jt=0;Jt<Bt;Jt++){var Rn=Tt?Tt[Jt]:Jt;Ct[Jt]=Xe(De[Rn],Rn,De)}return Ct}function Jr(De){return function(bt,Tt,Bt,Ct){var Jt=arguments.length>=3;return function(bt,Tt,Bt,Ct){var Jt=!Ai(bt)&&Yt(bt),Rn=(Jt||bt).length,yi=De>0?0:Rn-1;for(Ct||(Bt=bt[Jt?Jt[yi]:yi],yi+=De);yi>=0&&yi<Rn;yi+=De){var xn=Jt?Jt[yi]:yi;Bt=Tt(Bt,bt[xn],xn,bt)}return Bt}(bt,pi(Tt,Ct,4),Bt,Jt)}}const ur=Jr(1),Fr=Jr(-1);function as(De,Xe,bt){var Tt=[];return Xe=Ei(Xe,bt),tr(De,function(Bt,Ct,Jt){Xe(Bt,Ct,Jt)&&Tt.push(Bt)}),Tt}function ro(De,Xe,bt){return as(De,Vs(Ei(Xe)),bt)}function wo(De,Xe,bt){Xe=Ei(Xe,bt);for(var Tt=!Ai(De)&&Yt(De),Bt=(Tt||De).length,Ct=0;Ct<Bt;Ct++){var Jt=Tt?Tt[Ct]:Ct;if(!Xe(De[Jt],Jt,De))return!1}return!0}function Ms(De,Xe,bt){Xe=Ei(Xe,bt);for(var Tt=!Ai(De)&&Yt(De),Bt=(Tt||De).length,Ct=0;Ct<Bt;Ct++){var Jt=Tt?Tt[Ct]:Ct;if(Xe(De[Jt],Jt,De))return!0}return!1}function wr(De,Xe,bt,Tt){return Ai(De)||(De=En(De)),("number"!=typeof bt||Tt)&&(bt=0),Dr(De,Xe,bt)>=0}const ls=le(function(De,Xe,bt){var Tt,Bt;return Oe(Xe)?Bt=Xe:(Xe=pn(Xe),Tt=Xe.slice(0,-1),Xe=Xe[Xe.length-1]),Gn(De,function(Ct){var Jt=Bt;if(!Jt){if(Tt&&Tt.length&&(Ct=ai(Ct,Tt)),null==Ct)return;Jt=Ct[Xe]}return null==Jt?Jt:Jt.apply(Ct,bt)})});function cs(De,Xe){return Gn(De,Si(Xe))}function Ma(De,Xe){return as(De,Kn(Xe))}function is(De,Xe,bt){var Ct,Jt,Tt=-1/0,Bt=-1/0;if(null==Xe||"number"==typeof Xe&&"object"!=typeof De[0]&&null!=De)for(var Rn=0,yi=(De=Ai(De)?De:En(De)).length;Rn<yi;Rn++)null!=(Ct=De[Rn])&&Ct>Tt&&(Tt=Ct);else Xe=Ei(Xe,bt),tr(De,function(xn,dr,zr){((Jt=Xe(xn,dr,zr))>Bt||Jt===-1/0&&Tt===-1/0)&&(Tt=xn,Bt=Jt)});return Tt}function go(De,Xe,bt){var Ct,Jt,Tt=1/0,Bt=1/0;if(null==Xe||"number"==typeof Xe&&"object"!=typeof De[0]&&null!=De)for(var Rn=0,yi=(De=Ai(De)?De:En(De)).length;Rn<yi;Rn++)null!=(Ct=De[Rn])&&Ct<Tt&&(Tt=Ct);else Xe=Ei(Xe,bt),tr(De,function(xn,dr,zr){((Jt=Xe(xn,dr,zr))<Bt||Jt===1/0&&Tt===1/0)&&(Tt=xn,Bt=Jt)});return Tt}var nr=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function rs(De){return De?ln(De)?h.call(De):re(De)?De.match(nr):Ai(De)?Gn(De,Pi):En(De):[]}function Go(De,Xe,bt){if(null==Xe||bt)return Ai(De)||(De=En(De)),De[ot(De.length-1)];var Tt=rs(De),Bt=$t(Tt);Xe=Math.max(Math.min(Xe,Bt),0);for(var Ct=Bt-1,Jt=0;Jt<Xe;Jt++){var Rn=ot(Jt,Ct),yi=Tt[Jt];Tt[Jt]=Tt[Rn],Tt[Rn]=yi}return Tt.slice(0,Xe)}function ra(De){return Go(De,1/0)}function so(De,Xe,bt){var Tt=0;return Xe=Ei(Xe,bt),cs(Gn(De,function(Bt,Ct,Jt){return{value:Bt,index:Tt++,criteria:Xe(Bt,Ct,Jt)}}).sort(function(Bt,Ct){var Jt=Bt.criteria,Rn=Ct.criteria;if(Jt!==Rn){if(Jt>Rn||void 0===Jt)return 1;if(Jt<Rn||void 0===Rn)return-1}return Bt.index-Ct.index}),"value")}function oo(De,Xe){return function(bt,Tt,Bt){var Ct=Xe?[[],[]]:{};return Tt=Ei(Tt,Bt),tr(bt,function(Jt,Rn){var yi=Tt(Jt,Rn,bt);De(Ct,Jt,yi)}),Ct}}const No=oo(function(De,Xe,bt){Mt(De,bt)?De[bt].push(Xe):De[bt]=[Xe]}),xs=oo(function(De,Xe,bt){De[bt]=Xe}),Pr=oo(function(De,Xe,bt){Mt(De,bt)?De[bt]++:De[bt]=1}),sr=oo(function(De,Xe,bt){De[bt?0:1].push(Xe)},!0);function Br(De){return null==De?0:Ai(De)?De.length:Yt(De).length}function us(De,Xe,bt){return Xe in bt}const ao=le(function(De,Xe){var bt={},Tt=Xe[0];if(null==De)return bt;Oe(Tt)?(Xe.length>1&&(Tt=pi(Tt,Xe[1])),Xe=sn(De)):(Tt=us,Xe=Nr(Xe,!1,!1),De=Object(De));for(var Bt=0,Ct=Xe.length;Bt<Ct;Bt++){var Jt=Xe[Bt],Rn=De[Jt];Tt(Rn,Jt,De)&&(bt[Jt]=Rn)}return bt}),xa=le(function(De,Xe){var Tt,bt=Xe[0];return Oe(bt)?(bt=Vs(bt),Xe.length>1&&(Tt=Xe[1])):(Xe=Gn(Nr(Xe,!1,!1),String),bt=function(Bt,Ct){return!wr(Xe,Ct)}),ao(De,bt,Tt)});function ks(De,Xe,bt){return h.call(De,0,Math.max(0,De.length-(null==Xe||bt?1:Xe)))}function ri(De,Xe,bt){return null==De||De.length<1?null==Xe||bt?void 0:[]:null==Xe||bt?De[0]:ks(De,De.length-Xe)}function Qr(De,Xe,bt){return h.call(De,null==Xe||bt?1:Xe)}function zs(De,Xe,bt){return null==De||De.length<1?null==Xe||bt?void 0:[]:null==Xe||bt?De[De.length-1]:Qr(De,Math.max(0,De.length-Xe))}function yr(De){return as(De,Boolean)}function Ks(De,Xe){return Nr(De,Xe,!1)}const jr=le(function(De,Xe){return Xe=Nr(Xe,!0,!0),as(De,function(bt){return!wr(Xe,bt)})}),Wr=le(function(De,Xe){return jr(De,Xe)});function Zr(De,Xe,bt,Tt){ie(Xe)||(Tt=bt,bt=Xe,Xe=!1),null!=bt&&(bt=Ei(bt,Tt));for(var Bt=[],Ct=[],Jt=0,Rn=$t(De);Jt<Rn;Jt++){var yi=De[Jt],xn=bt?bt(yi,Jt,De):yi;Xe&&!bt?((!Jt||Ct!==xn)&&Bt.push(yi),Ct=xn):bt?wr(Ct,xn)||(Ct.push(xn),Bt.push(yi)):wr(Bt,yi)||Bt.push(yi)}return Bt}const fn=le(function(De){return Zr(Nr(De,!0,!0))});function Cs(De){for(var Xe=[],bt=arguments.length,Tt=0,Bt=$t(De);Tt<Bt;Tt++){var Ct=De[Tt];if(!wr(Xe,Ct)){var Jt;for(Jt=1;Jt<bt&&wr(arguments[Jt],Ct);Jt++);Jt===bt&&Xe.push(Ct)}}return Xe}function Re(De){for(var Xe=De&&is(De,$t).length||0,bt=Array(Xe),Tt=0;Tt<Xe;Tt++)bt[Tt]=cs(De,Tt);return bt}const Be=le(Re);function de(De,Xe){for(var bt={},Tt=0,Bt=$t(De);Tt<Bt;Tt++)Xe?bt[De[Tt]]=Xe[Tt]:bt[De[Tt][0]]=De[Tt][1];return bt}function Ze(De,Xe,bt){null==Xe&&(Xe=De||0,De=0),bt||(bt=Xe<De?-1:1);for(var Tt=Math.max(Math.ceil((Xe-De)/bt),0),Bt=Array(Tt),Ct=0;Ct<Tt;Ct++,De+=bt)Bt[Ct]=De;return Bt}function Pt(De,Xe){if(null==Xe||Xe<1)return[];for(var bt=[],Tt=0,Bt=De.length;Tt<Bt;)bt.push(h.call(De,Tt,Tt+=Xe));return bt}function Hn(De,Xe){return De._chain?H(Xe).chain():Xe}function Ti(De){return tr(ui(De),function(Xe){var bt=H[Xe]=De[Xe];H.prototype[Xe]=function(){var Tt=[this._wrapped];return D.apply(Tt,arguments),Hn(this,bt.apply(H,Tt))}}),H}tr(["pop","push","reverse","shift","sort","splice","unshift"],function(De){var Xe=y[De];H.prototype[De]=function(){var bt=this._wrapped;return null!=bt&&(Xe.apply(bt,arguments),("shift"===De||"splice"===De)&&0===bt.length&&delete bt[0]),Hn(this,bt)}}),tr(["concat","join","slice"],function(De){var Xe=y[De];H.prototype[De]=function(){var bt=this._wrapped;return null!=bt&&(bt=Xe.apply(bt,arguments)),Hn(this,bt)}});const ds=H;var ws=Ti(i);ws._=ws},467:(lt,we,p)=>{"use strict";function i(v,y,w,I,D,h,f){try{var E=v[h](f),F=E.value}catch(L){return void w(L)}E.done?y(F):Promise.resolve(F).then(I,D)}function e(v){return function(){var y=this,w=arguments;return new Promise(function(I,D){var h=v.apply(y,w);function f(F){i(h,I,D,f,E,"next",F)}function E(F){i(h,I,D,f,E,"throw",F)}f(void 0)})}}p.d(we,{A:()=>e})},1635:(lt,we,p)=>{"use strict";function w(be,se,Oe,Ie){var pt,it=arguments.length,xe=it<3?se:null===Ie?Ie=Object.getOwnPropertyDescriptor(se,Oe):Ie;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)xe=Reflect.decorate(be,se,Oe,Ie);else for(var vt=be.length-1;vt>=0;vt--)(pt=be[vt])&&(xe=(it<3?pt(xe):it>3?pt(se,Oe,xe):pt(se,Oe))||xe);return it>3&&xe&&Object.defineProperty(se,Oe,xe),xe}function F(be,se){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(be,se)}function L(be,se,Oe,Ie){return new(Oe||(Oe=Promise))(function(xe,pt){function vt(Mt){try{ln(Ie.next(Mt))}catch(xt){pt(xt)}}function hn(Mt){try{ln(Ie.throw(Mt))}catch(xt){pt(xt)}}function ln(Mt){Mt.done?xe(Mt.value):function it(xe){return xe instanceof Oe?xe:new Oe(function(pt){pt(xe)})}(Mt.value).then(vt,hn)}ln((Ie=Ie.apply(be,se||[])).next())})}function Y(be){return this instanceof Y?(this.v=be,this):new Y(be)}function le(be,se,Oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var it,Ie=Oe.apply(be,se||[]),xe=[];return it={},pt("next"),pt("throw"),pt("return"),it[Symbol.asyncIterator]=function(){return this},it;function pt(z){Ie[z]&&(it[z]=function(W){return new Promise(function(J,_e){xe.push([z,W,J,_e])>1||vt(z,W)})})}function vt(z,W){try{!function hn(z){z.value instanceof Y?Promise.resolve(z.value.v).then(ln,Mt):xt(xe[0][2],z)}(Ie[z](W))}catch(J){xt(xe[0][3],J)}}function ln(z){vt("next",z)}function Mt(z){vt("throw",z)}function xt(z,W){z(W),xe.shift(),xe.length&&vt(xe[0][0],xe[0][1])}}function K(be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Oe,se=be[Symbol.asyncIterator];return se?se.call(be):(be=function P(be){var se="function"==typeof Symbol&&Symbol.iterator,Oe=se&&be[se],Ie=0;if(Oe)return Oe.call(be);if(be&&"number"==typeof be.length)return{next:function(){return be&&Ie>=be.length&&(be=void 0),{value:be&&be[Ie++],done:!be}}};throw new TypeError(se?"Object is not iterable.":"Symbol.iterator is not defined.")}(be),Oe={},Ie("next"),Ie("throw"),Ie("return"),Oe[Symbol.asyncIterator]=function(){return this},Oe);function Ie(xe){Oe[xe]=be[xe]&&function(pt){return new Promise(function(vt,hn){!function it(xe,pt,vt,hn){Promise.resolve(hn).then(function(ln){xe({value:ln,done:vt})},pt)}(vt,hn,(pt=be[xe](pt)).done,pt.value)})}}}p.d(we,{AQ:()=>le,Cg:()=>w,N3:()=>Y,Sn:()=>F,sH:()=>L,xN:()=>K}),"function"==typeof SuppressedError&&SuppressedError}},lt=>{lt(lt.s=5070)}]);