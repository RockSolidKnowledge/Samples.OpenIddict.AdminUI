(self.webpackChunkadmin_ui_openiddict=self.webpackChunkadmin_ui_openiddict||[]).push([[792],{9838:(et,me,u)=>{"use strict";u.d(me,{$9:()=>g,S9:()=>_,Vk:()=>e});var i=u(4438);let e=(()=>{class S{constructor(){this.Server="http://localhost:5000/"}static{this.\u0275fac=function(d){return new(d||S)}}static{this.\u0275prov=i.jDH({token:S,factory:S.\u0275fac})}}return S})();class _{constructor(){this.SharedSecret="Shared Secret",this.X509CertificateThumbprint="X509 Thumbprint",this.X509CertificateName="X509 Name",this.X509CertificateBase64="X509 Certificate Base64"}}let g=(()=>{class S{static get SITE_TITLE(){return"AdminUI"}static{this.checkHealthIdentityServerDocs="documentation/Troubleshooting/Unable_to_contact_IdentityServer.html"}static{this.loginRedirectLoopDocs="documentation/Troubleshooting/Login_redirect_loop.html"}static{this.sameSiteDocs="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie/SameSite"}static{this.defaultEmbeddedUserName="info@rocksolidknowledge.com"}}return S})()},3730:(et,me,u)=>{"use strict";u.r(me),u.d(me,{ClaimTypesModule:()=>Tn});var i=u(177),e=u(1583),_=u(9417),g=u(1780),S=u(779),v=u(534),f=u(8400),d=u(7005),E=u(9838),m=u(9957),F=u(7263),w=u(6303),C=u(4438),R=u(5794),k=u(526),O=u(345),H=u(7499),x=u(5424),$=u(7883),U=u(6728),G=u(3680),ie=u(6406),le=u(8698),L=u(9550),Q=u(8762),te=u(7778),I=u(2292);function oe(St,$e){if(1&St){const Qe=C.RV6();C.j41(0,"div",4)(1,"div",5)(2,"input",6),C.mxI("ngModelChange",function(de){C.eBV(Qe);const ue=C.XpG();return C.DH7(ue.newEnumValue,de)||(ue.newEnumValue=de),C.Njj(de)}),C.k0s(),C.j41(3,"button",7),C.bIt("click",function(){C.eBV(Qe);const de=C.XpG();return C.Njj(de.onAdd())}),C.nrm(4,"span",8),C.j41(5,"span",9),C.EFF(6),C.nI1(7,"translate"),C.k0s()()()()}if(2&St){const Qe=C.XpG();C.R7$(2),C.FS9("id",Qe.id+"-newValue-input"),C.R50("ngModel",Qe.newEnumValue),C.R7$(),C.FS9("id",Qe.id+"-newValue-button"),C.Y8G("disabled",Qe.addDisabled),C.R7$(3),C.JRh(C.bMT(7,5,"Common.Add"))}}function Y(St,$e){if(1&St){const Qe=C.RV6();C.j41(0,"app-pill-list",10),C.bIt("onDelete",function(de){C.eBV(Qe);const ue=C.XpG();return C.Njj(ue.onDelete(de))}),C.k0s()}if(2&St){const Qe=C.XpG();C.Y8G("readonly",Qe.reserved)("id",Qe.id)("values",Qe.value)}}function _e(St,$e){if(1&St&&(C.j41(0,"span",11),C.EFF(1),C.nI1(2,"translate"),C.nI1(3,"number"),C.k0s()),2&St){const Qe=C.XpG();C.R7$(),C.Lme("",C.bMT(2,2,"ClaimTypes.TooManyAllowedValues")," (",C.bMT(3,4,Qe.value.length),")")}}let Oe=(()=>{class St{constructor(){this.id=(0,F.Nl)(),this.value=[],this.required=!1,this.disabled=!1,this.reserved=!1,this.newEnumValue="",this.onChange=Qe=>{},this.onTouched=()=>{}}writeValue(Qe){this.value=Qe}registerOnChange(Qe){this.onChange=Qe}registerOnTouched(Qe){this.onTouched=Qe}setDisabledState(Qe){this.disabled=Qe}validate(Qe){return!this.required||this.value?.length?null:{required:{valid:!1}}}get addDisabled(){return this.isNullOrEmpty(this.newEnumValue)||this.value.includes(this.newEnumValue)}onAdd(){this.newEnumValue&&(this.value.push(this.newEnumValue),this.onChange(this.value),this.newEnumValue="")}onDelete(Qe){this.value.splice(Qe,1),this.onChange(this.value)}isNullOrEmpty(Qe){return!Qe||null!==Qe.match(/^ *$/)}static{this.\u0275fac=function(K){return new(K||St)}}static{this.\u0275cmp=C.VBU({type:St,selectors:[["app-edit-enum-claim-type"]],inputs:{id:"id",value:"value",required:"required",disabled:"disabled",reserved:"reserved"},features:[C.Jv_([{provide:_.kq,useExisting:(0,C.Rfq)(()=>St),multi:!0},{provide:_.cz,useExisting:(0,C.Rfq)(()=>St),multi:!0}])],decls:4,vars:3,consts:[["class","tw-form-row",4,"ngIf"],[1,"tw-pill-list"],[3,"readonly","id","values","onDelete",4,"ngIf"],["id","too-many-values",4,"ngIf"],[1,"tw-form-row"],[1,"tw-flex","tw-w-full","lg:tw-max-w-2xl"],["type","text",1,"tw-form-control","tw-rounded-r-none","tw-border-r-0",3,"ngModelChange","id","ngModel"],[1,"tw-btn","tw-rounded-l-none",3,"click","id","disabled"],["aria-hidden","true",1,"far","fa-plus"],[1,"sr-only"],[3,"onDelete","readonly","id","values"],["id","too-many-values"]],template:function(K,de){1&K&&(C.DNE(0,oe,8,7,"div",0),C.j41(1,"div",1),C.DNE(2,Y,1,3,"app-pill-list",2)(3,_e,4,6,"span",3),C.k0s()),2&K&&(C.Y8G("ngIf",!de.reserved),C.R7$(2),C.Y8G("ngIf",de.value.length<=50||!de.reserved),C.R7$(),C.Y8G("ngIf",de.value.length>50&&de.reserved))},dependencies:[i.bT,_.me,_.BC,_.vS,I.L,i.QX,g.D9],encapsulation:2})}}return St})();var Re=u(4692);const xe=(St,$e)=>({title:St,link:$e}),Je=St=>[St];function Te(St,$e){if(1&St){const Qe=C.RV6();C.j41(0,"select",23),C.bIt("change",function(){C.eBV(Qe);const de=C.XpG(2);return C.Njj(de.onValueTypeChanged())}),C.j41(1,"option",24),C.EFF(2),C.nI1(3,"translate"),C.k0s(),C.j41(4,"option",25),C.EFF(5),C.nI1(6,"translate"),C.k0s(),C.j41(7,"option",26),C.EFF(8),C.nI1(9,"translate"),C.k0s(),C.j41(10,"option",27),C.EFF(11),C.nI1(12,"translate"),C.k0s(),C.j41(13,"option",28),C.EFF(14),C.nI1(15,"translate"),C.k0s()()}if(2&St){const Qe=C.XpG(2);C.R7$(),C.Y8G("selected","String"==Qe.claimType.valueType),C.R7$(),C.JRh(C.bMT(3,9,"Common.Types.String")),C.R7$(2),C.Y8G("selected","Int"==Qe.claimType.valueType),C.R7$(),C.JRh(C.bMT(6,11,"Common.Types.Int")),C.R7$(2),C.Y8G("selected","DateTime"==Qe.claimType.valueType),C.R7$(),C.JRh(C.bMT(9,13,"Common.Types.DateTime")),C.R7$(2),C.Y8G("selected","Boolean"==Qe.claimType.valueType),C.R7$(),C.JRh(C.bMT(12,15,"Common.Types.Boolean")),C.R7$(3),C.JRh(C.bMT(15,17,"Common.Types.Enum"))}}function we(St,$e){if(1&St&&(C.nrm(0,"app-readonly",10),C.nI1(1,"readOnlyValue")),2&St){const Qe=C.XpG(2);C.Y8G("fieldType",Qe.ReadOnlyFieldType.Single)("values",C.eq3(4,Je,C.bMT(1,2,Qe.claimType.valueType)))}}function he(St,$e){if(1&St&&(C.j41(0,"app-form-row",29),C.nrm(1,"app-edit-enum-claim-type",30),C.k0s()),2&St){const Qe=C.XpG(2);C.Y8G("label","Claims.AllowedValues"),C.R7$(),C.Y8G("reserved",Qe.claimType.reserved)("required","Enum"===Qe.claimTypeForm.get("valueType").value)}}function Le(St,$e){1&St&&C.nrm(0,"textarea",31)}function Ae(St,$e){if(1&St&&(C.nrm(0,"app-readonly",10),C.nI1(1,"readOnlyValue")),2&St){const Qe=C.XpG(2);C.Y8G("fieldType",Qe.ReadOnlyFieldType.Single)("values",C.eq3(4,Je,C.bMT(1,2,Qe.claimType.description)))}}function st(St,$e){1&St&&(C.j41(0,"app-form-row",12),C.nrm(1,"input",32),C.k0s()),2&St&&C.Y8G("id","rule")("label","Claims.RegexRule")}function Fe(St,$e){1&St&&(C.j41(0,"app-form-row",12),C.nrm(1,"input",33),C.k0s()),2&St&&C.Y8G("id","ruleValidation")("label","Claims.RuleValidationFailureDescription")}function ft(St,$e){if(1&St&&(C.j41(0,"div",7)(1,"form",8)(2,"app-form-row",9),C.nrm(3,"app-readonly",10),C.nI1(4,"readOnlyValue"),C.k0s(),C.j41(5,"app-form-row",9),C.nrm(6,"input",11),C.k0s(),C.j41(7,"app-form-row",12)(8,"div",13),C.DNE(9,Te,16,19,"select",14)(10,we,2,6,"app-readonly",15),C.k0s()(),C.DNE(11,he,2,3,"app-form-row",16),C.j41(12,"app-form-row",12),C.DNE(13,Le,1,0,"textarea",17)(14,Ae,2,6,"app-readonly",15),C.k0s(),C.DNE(15,st,2,2,"app-form-row",18)(16,Fe,2,2,"app-form-row",18),C.j41(17,"app-form-row",9)(18,"app-form-toggle",19),C.nrm(19,"input",20),C.k0s()(),C.j41(20,"app-form-row",21)(21,"app-form-toggle",19),C.nrm(22,"input",22),C.k0s()()()()),2&St){const Qe=C.XpG();C.R7$(),C.Y8G("formGroup",Qe.claimTypeForm),C.R7$(),C.Y8G("id","name")("label","Common.Name")("help","ClaimTypes.NameHelp"),C.R7$(),C.Y8G("fieldType",Qe.ReadOnlyFieldType.Single)("values",C.eq3(31,Je,C.bMT(4,29,Qe.claimType.name))),C.R7$(2),C.Y8G("id","displayName")("label","Common.DisplayName")("help","ClaimTypes.DisplayNameHelp"),C.R7$(2),C.Y8G("id","type")("label","Common.Type"),C.R7$(2),C.Y8G("ngIf",!Qe.claimType.reserved),C.R7$(),C.Y8G("ngIf",Qe.claimType.reserved),C.R7$(),C.Y8G("ngIf","Enum"===Qe.claimTypeForm.get("valueType").value),C.R7$(),C.Y8G("id","description")("label","Common.Description"),C.R7$(),C.Y8G("ngIf",!Qe.claimType.reserved),C.R7$(),C.Y8G("ngIf",Qe.claimType.reserved),C.R7$(),C.Y8G("ngIf","String"===Qe.claimTypeForm.get("valueType").value),C.R7$(),C.Y8G("ngIf","String"===Qe.claimTypeForm.get("valueType").value),C.R7$(),C.Y8G("id","required")("label","Claims.Required")("help","Claims.FutureUsers"),C.R7$(),C.Y8G("id","required"),C.R7$(2),C.Y8G("id","userEditable")("label","Common.UserEditable")("help","Claims.UserEditable")("isLast",!0),C.R7$(),C.Y8G("id","userEditable")}}let Ye=(()=>{class St{get ReadOnlyFieldType(){return w.t}constructor(Qe,K,de,ue,ze,Wt,Kt,gn,yn,ti,vi){this.router=Qe,this.translate=K,this.toastr=de,this.fb=ue,this.claimTypeService=ze,this.titleService=Wt,this.dialogService=Kt,this.localize=gn,this.errorService=yn,this.securityService=ti,this.cdr=vi,this.claimType=null}ngOnInit(){this.claimTypeSubscription=this.claimTypeService.getCachedClaimType().subscribe({next:Qe=>{this.claimType=Qe,this.titleService.setTitle(this.translate.instant("Claims.Title")+" "+this.claimType.name+` - ${E.$9.SITE_TITLE}`),this.buildForm(),this.initialData=JSON.stringify(Qe)},error:Qe=>{this.errorService.handleError(Qe)}})}ngOnDestroy(){this.claimTypeSubscription.unsubscribe()}canDeactivate(){return!this.claimTypeForm.dirty||(this.dialogService.confirm(),this.dialogService.eventStream)}buildForm(){this.claimTypeForm=this.fb.group({id:[this.claimType.id],name:[this.claimType.name,_.k0.required],displayName:[this.claimType.displayName],description:[{value:this.claimType.description,disabled:this.claimType.reserved},[_.k0.maxLength(1e3)]],required:[{value:this.claimType.required,disabled:"sub"===this.claimType.name||"role"===this.claimType.name},_.k0.required],valueType:[{value:this.claimType.valueType,disabled:this.claimType.reserved},_.k0.required],rule:[{value:this.claimType.rule,disabled:this.claimType.reserved}],ruleValidationFailureDescription:[{value:this.claimType.ruleValidationFailureDescription,disabled:this.claimType.reserved}],userEditable:[this.claimType.userEditable,_.k0.required],allowedValues:[this.claimType.allowedValues||[]]})}submit(){const Qe=this.claimTypeForm.getRawValue();"String"!==this.claimTypeForm.get("valueType").value&&(Qe.rule=void 0,Qe.ruleValidationFailureDescription=void 0),this.claimTypeService.updateClaimType(Qe).subscribe({next:K=>{this.toastr.success(this.translate.instant("Notifications.Saving Success Message"),this.translate.instant("Common.Saved")),this.initialData=JSON.stringify(Qe),this.claimTypeForm.markAsPristine(),this.claimTypeForm.markAsUntouched()},error:K=>{(this.errorService.handleError(K)&m.I.Toast)!==m.I.Toast&&this.toastr.error(this.translate.instant("Notifications.SomethingWrong"),this.translate.instant("Notifications.Error"))}})}delete(){this.claimTypeService.deleteClaimType(this.claimType).subscribe({next:Qe=>{this.toastr.success(this.claimType.name+" "+this.translate.instant("Common.Delete.Deleted"),this.translate.instant("Common.Removed"));const K=this.localize.translateRoute("/claim-types");this.router.navigate([K])},error:Qe=>{(this.errorService.handleError(Qe)&m.I.Toast)!==m.I.Toast&&this.toastr.error(this.translate.instant("Notifications.SomethingWrong"),this.translate.instant("Notifications.Error"))}})}onValueTypeChanged(){const Qe=this.claimTypeForm.get("allowedValues");"Enum"!==this.claimTypeForm.get("valueType").value?(Qe?.disable(),this.cdr.detectChanges()):(Qe?.setValue(this.claimType.allowedValues||[]),Qe?.enable(),this.cdr.detectChanges())}get isIdentityServerManager(){return(0,F.jk)(this.securityService.userPermissions)}static{this.\u0275fac=function(K){return new(K||St)(C.rXU(e.Ix),C.rXU(g.c$),C.rXU(R.tw),C.rXU(_.ze),C.rXU(k.X),C.rXU(O.hE),C.rXU(H.o),C.rXU(d.QG),C.rXU(x.I),C.rXU($.i),C.rXU(C.gRc))}}static{this.\u0275cmp=C.VBU({type:St,selectors:[["ng-component"]],decls:15,vars:22,consts:[["deleteClaimTypeModal",""],[3,"title","crumbs"],["id","editClaimType","class","tw-container tw-mx-auto",4,"ngIf"],["id","submitBtn",1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"click","disabled"],["right",""],["id","deleteBtn","type","button","data-toggle","modal",1,"tw-btn-danger","tw-mb-3",3,"click","disabled"],[3,"delete","modalId","resourceName"],["id","editClaimType",1,"tw-container","tw-mx-auto"],[3,"formGroup"],[3,"id","label","help"],[3,"fieldType","values"],["type","text","formControlName","displayName","name","displayName","id","displayName",1,"tw-form-control"],[3,"id","label"],[1,"tw-form-select"],["formControlName","valueType","class","tw-form-control","id","type",3,"change",4,"ngIf"],[3,"fieldType","values",4,"ngIf"],[3,"label",4,"ngIf"],["class","tw-form-control","formControlName","description","name","description","id","description",4,"ngIf"],[3,"id","label",4,"ngIf"],[3,"id"],["id","required","type","checkbox","name","required","formControlName","required","value","true",1,"tw-form-switch__input"],[3,"id","label","help","isLast"],["id","userEditable","type","checkbox","name","userEditable","formControlName","userEditable","value","true",1,"tw-form-switch__input"],["formControlName","valueType","id","type",1,"tw-form-control",3,"change"],["value","String",3,"selected"],["value","Int",3,"selected"],["value","DateTime",3,"selected"],["value","Boolean",3,"selected"],["value","Enum"],[3,"label"],["id","allowedValues","formControlName","allowedValues",3,"reserved","required"],["formControlName","description","name","description","id","description",1,"tw-form-control"],["type","text","formControlName","rule","name","rule","id","rule",1,"tw-form-control"],["type","text","formControlName","ruleValidationFailureDescription","name","rule","id","ruleValidation",1,"tw-form-control"]],template:function(K,de){if(1&K){const ue=C.RV6();C.nrm(0,"app-title-bar",1),C.nI1(1,"translate"),C.nI1(2,"localize"),C.DNE(3,ft,23,33,"div",2),C.j41(4,"app-button-bar")(5,"button",3),C.bIt("click",function(){return C.eBV(ue),C.Njj(de.submit())}),C.EFF(6),C.nI1(7,"translate"),C.k0s(),C.qex(8,4),C.j41(9,"button",5),C.bIt("click",function(){C.eBV(ue);const Wt=C.sdS(13);return C.Njj(Wt.show())}),C.EFF(10),C.nI1(11,"translate"),C.k0s(),C.bVm(),C.k0s(),C.j41(12,"app-delete-confirmation-modal",6,0),C.bIt("delete",function(){return C.eBV(ue),C.Njj(de.delete())}),C.k0s(),C.nrm(14,"app-can-deactivate")}2&K&&(C.Y8G("title",de.claimType.name)("crumbs",C.eq3(20,Je,C.l_i(17,xe,C.bMT(1,9,"Nav.ClaimTypes"),C.bMT(2,11,"/claim-types")))),C.R7$(3),C.Y8G("ngIf",de.claimType),C.R7$(2),C.Y8G("disabled",!(de.claimTypeForm.dirty&&de.claimTypeForm.valid)),C.R7$(),C.SpI(" ",C.bMT(7,13,"Common.Save")," "),C.R7$(3),C.Y8G("disabled",de.claimType.reserved||!de.isIdentityServerManager),C.R7$(),C.SpI(" ",C.bMT(11,15,"Common.Delete.Title")," "),C.R7$(2),C.Y8G("modalId","deleteClaimTypeModal")("resourceName",de.claimType.name))},dependencies:[i.bT,_.qT,_.xH,_.y7,_.me,_.Zm,_.wz,_.BC,_.cb,_.YS,_.j4,_.JD,U.E,G.z,ie.z,le.Y,L.m,Q.O,te.w,Oe,g.D9,d.tl,Re.u],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return St})();var zt=u(1413),Lt=u(152),Et=u(3294),_t=u(6354),J=u(1716),X=u(9172),q=u(1397),Se=u(7156),Ee=u(7294),lt=u(2510),Ue=u(7384);class at{}const pt=["addClaimTypeModal"],it=()=>({animated:!1,backdrop:"static"});function Ht(St,$e){if(1&St&&(C.j41(0,"app-form-row",37),C.nrm(1,"app-edit-enum-claim-type",38),C.k0s()),2&St){const Qe=C.XpG();C.Y8G("label","Claims.AllowedValues"),C.R7$(),C.Y8G("required","Enum"===Qe.addClaimTypeForm.get("valueType").value)}}function en(St,$e){1&St&&(C.j41(0,"app-form-row",14),C.nrm(1,"input",39),C.k0s()),2&St&&C.Y8G("id","rules")("label","Claims.RegexRule")}function rt(St,$e){1&St&&(C.j41(0,"app-form-row",14),C.nrm(1,"input",40),C.k0s()),2&St&&C.Y8G("id","ruleValidationFailureDescription")("label","Claims.RuleValidationFailureDescription")}let Nt=(()=>{class St{constructor(Qe,K,de,ue,ze,Wt){this.cdr=Qe,this.claimTypeService=K,this.errorService=de,this.translate=ue,this.fb=ze,this.toastr=Wt,this.onSubmitted=new C.bkB,this.descFocus=!1}keydown(Qe){"Enter"===Qe.key&&this.addClaimTypeForm.valid&&!this.descFocus&&this.addClaimType()}ngOnInit(){this.buildForm()}buildForm(){this.addClaimTypeForm=this.fb.group({valueType:["String",_.k0.required],name:["",_.k0.required],displayName:[""],description:["",_.k0.maxLength(1e3)],rule:[""],ruleValidationFailureDescription:[""],required:[!1,_.k0.required],userEditable:[!1,_.k0.required],allowedValues:[[]]})}addAnotherClaimType(){this.addAnother=!0,this.addClaimType()}addClaimType(){let Qe=new at;Qe=this.addClaimTypeForm.value,"String"!==this.addClaimTypeForm.get("valueType").value&&(Qe.rule=void 0,Qe.ruleValidationFailureDescription=void 0),this.claimTypeService.addClaimType(Qe).subscribe({next:K=>{this.buildForm(),this.toastr.success(this.translate.instant("Claims.Title")+" "+Qe.name+" "+this.translate.instant("Common.Created"),this.translate.instant("Common.Added")),this.onSubmitted.emit(!0),this.addAnother||this.hide(),this.addAnother=!1},error:K=>{(this.errorService.handleError(K)&m.I.Toast)!==m.I.Toast&&this.toastr.error(this.translate.instant("Notifications.SomethingWrong"),this.translate.instant("Notifications.Error"))}})}hide(){this.addClaimTypeModal.hide()}show(){this.addClaimTypeModal.show()}ngOnDestroy(){this.hide()}onValueTypeChanged(){const Qe=this.addClaimTypeForm.get("allowedValues");"Enum"!==this.addClaimTypeForm.get("valueType").value?(Qe?.disable(),this.cdr.detectChanges()):(Qe?.setValue([]),Qe?.enable(),this.cdr.detectChanges())}static{this.\u0275fac=function(K){return new(K||St)(C.rXU(C.gRc),C.rXU(k.X),C.rXU(x.I),C.rXU(g.c$),C.rXU(_.ze),C.rXU(R.tw))}}static{this.\u0275cmp=C.VBU({type:St,selectors:[["app-add-claimtype"]],viewQuery:function(K,de){if(1&K&&C.GBs(pt,7),2&K){let ue;C.mGM(ue=C.lsd())&&(de.addClaimTypeModal=ue.first)}},hostBindings:function(K,de){1&K&&C.bIt("keydown",function(ze){return de.keydown(ze)},!1,C.EBC)},outputs:{onSubmitted:"onSubmitted"},decls:62,vars:57,consts:[["addClaimTypeModal","bs-modal"],["bsModal","","id","addClaimTypeModal","tabindex","-1","role","dialog","aria-hidden","true",1,"modal",3,"config"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","scrollbars"],[3,"formGroup"],[3,"id","label","help"],["id","name","type","text","formControlName","name","name","name",1,"tw-form-control"],["id","displayName","type","text","formControlName","displayName","name","displayName",1,"tw-form-control"],[3,"id","label"],[1,"tw-form-select"],["formControlName","valueType","id","type",1,"tw-form-control",3,"change"],["value","String"],["value","Int"],["value","DateTime"],["value","Boolean"],["value","Enum"],[3,"label",4,"ngIf"],["id","description","formControlName","description","name","description",1,"tw-form-control",3,"focus","blur"],[3,"id","label",4,"ngIf"],[3,"id"],["id","required","type","checkbox","name","required","formControlName","required","value","true",1,"tw-form-switch__input"],[3,"id","label","help","isLast"],["id","userEditable","type","checkbox","name","userEditable","formControlName","userEditable","value","true",1,"tw-form-switch__input"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","addButton",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],[1,"tw-hidden","xs:tw-inline"],["id","addAnotherButton",1,"tw-btn",3,"click","disabled"],[1,"tw-btn-link","tw--mr-4",3,"click"],[3,"label"],["id","allowedValues","formControlName","allowedValues",3,"required"],["id","rules","formControlName","rule","type","text","name","rule",1,"tw-form-control"],["id","ruleValidationFailureDescription","formControlName","ruleValidationFailureDescription","type","text","name","ruleValidationFailureDescription",1,"tw-form-control"]],template:function(K,de){if(1&K){const ue=C.RV6();C.j41(0,"div",1,0)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),C.EFF(6),C.nI1(7,"translate"),C.k0s(),C.j41(8,"button",6),C.bIt("click",function(){return C.eBV(ue),C.Njj(de.hide())}),C.nrm(9,"span",7),C.j41(10,"span",8),C.EFF(11),C.nI1(12,"translate"),C.k0s()()(),C.j41(13,"div",9)(14,"form",10)(15,"app-form-row",11),C.nrm(16,"input",12),C.k0s(),C.j41(17,"app-form-row",11),C.nrm(18,"input",13),C.k0s(),C.j41(19,"app-form-row",14)(20,"div",15)(21,"select",16),C.bIt("change",function(){return C.eBV(ue),C.Njj(de.onValueTypeChanged())}),C.j41(22,"option",17),C.EFF(23),C.nI1(24,"translate"),C.k0s(),C.j41(25,"option",18),C.EFF(26),C.nI1(27,"translate"),C.k0s(),C.j41(28,"option",19),C.EFF(29),C.nI1(30,"translate"),C.k0s(),C.j41(31,"option",20),C.EFF(32),C.nI1(33,"translate"),C.k0s(),C.j41(34,"option",21),C.EFF(35),C.nI1(36,"translate"),C.k0s()()()(),C.DNE(37,Ht,2,2,"app-form-row",22),C.j41(38,"app-form-row",14)(39,"textarea",23),C.bIt("focus",function(){return C.eBV(ue),C.Njj(de.descFocus=!de.descFocus)})("blur",function(){return C.eBV(ue),C.Njj(de.descFocus=!de.descFocus)}),C.k0s()(),C.DNE(40,en,2,2,"app-form-row",24)(41,rt,2,2,"app-form-row",24),C.j41(42,"app-form-row",11)(43,"app-form-toggle",25),C.nrm(44,"input",26),C.k0s()(),C.j41(45,"app-form-row",27)(46,"app-form-toggle",25),C.nrm(47,"input",28),C.k0s()()()(),C.nrm(48,"div",29),C.j41(49,"div",30)(50,"div",31)(51,"div",32)(52,"button",33),C.bIt("click",function(){return C.eBV(ue),C.Njj(de.addClaimType())}),C.EFF(53),C.nI1(54,"translate"),C.k0s(),C.j41(55,"span",34)(56,"button",35),C.bIt("click",function(){return C.eBV(ue),C.Njj(de.addAnotherClaimType())}),C.EFF(57),C.nI1(58,"translate"),C.k0s()()(),C.j41(59,"button",36),C.bIt("click",function(){return C.eBV(ue),C.Njj(de.hide())}),C.EFF(60),C.nI1(61,"translate"),C.k0s()()()()()()}2&K&&(C.Y8G("config",C.lJ4(56,it)),C.R7$(6),C.JRh(C.bMT(7,36,"Claims.New")),C.R7$(5),C.JRh(C.bMT(12,38,"Common.Close")),C.R7$(3),C.Y8G("formGroup",de.addClaimTypeForm),C.R7$(),C.Y8G("id","name")("label","Common.Name")("help","ClaimTypes.NameHelp"),C.R7$(2),C.Y8G("id","displayName")("label","Common.DisplayName")("help","ClaimTypes.DisplayNameHelp"),C.R7$(2),C.Y8G("id","type")("label","Common.Type"),C.R7$(4),C.JRh(C.bMT(24,40,"Common.Types.String")),C.R7$(3),C.JRh(C.bMT(27,42,"Common.Types.Int")),C.R7$(3),C.JRh(C.bMT(30,44,"Common.Types.DateTime")),C.R7$(3),C.JRh(C.bMT(33,46,"Common.Types.Boolean")),C.R7$(3),C.JRh(C.bMT(36,48,"Common.Types.Enum")),C.R7$(2),C.Y8G("ngIf","Enum"===de.addClaimTypeForm.get("valueType").value),C.R7$(),C.Y8G("id","description")("label","Common.Description"),C.R7$(2),C.Y8G("ngIf","String"===de.addClaimTypeForm.get("valueType").value),C.R7$(),C.Y8G("ngIf","String"===de.addClaimTypeForm.get("valueType").value),C.R7$(),C.Y8G("id","required")("label","Claims.Required")("help","Claims.FutureUsers"),C.R7$(),C.Y8G("id","required"),C.R7$(2),C.Y8G("id","userEditable")("label","Common.UserEditable")("help","Claims.UserEditable")("isLast",!0),C.R7$(),C.Y8G("id","userEditable"),C.R7$(6),C.Y8G("disabled",!de.addClaimTypeForm.valid),C.R7$(),C.JRh(C.bMT(54,50,"Common.Save")),C.R7$(3),C.Y8G("disabled",!de.addClaimTypeForm.valid),C.R7$(),C.JRh(C.bMT(58,52,"Common.SaveAndAdd")),C.R7$(3),C.JRh(C.bMT(61,54,"Common.Cancel")))},dependencies:[i.bT,_.qT,_.xH,_.y7,_.me,_.Zm,_.wz,_.BC,_.cb,_.YS,_.j4,_.JD,S.hZ,le.Y,L.m,Oe,g.D9],encapsulation:2})}}return St})();const ve=(St,$e)=>$e.id,ae=(St,$e)=>({"fad fa-pencil":St,"fas fa-eye":$e});function j(St,$e){1&St&&(C.j41(0,"div",4)(1,"div")(2,"p",5),C.EFF(3),C.nI1(4,"translate"),C.k0s(),C.nrm(5,"p",6),C.nI1(6,"translate"),C.k0s()()),2&St&&(C.R7$(3),C.JRh(C.bMT(4,2,"Common.ReadOnlyModeWarningTitle")),C.R7$(2),C.Y8G("innerHTML",C.bMT(6,4,"ClaimTypes.ReadOnlyModeWarn"),C.npT))}function se(St,$e){if(1&St){const Qe=C.RV6();C.j41(0,"app-action-bar"),C.qex(1,8),C.j41(2,"button",9),C.bIt("click",function(){C.eBV(Qe),C.XpG(2);const de=C.sdS(3);return C.Njj(de.show())}),C.EFF(3),C.nI1(4,"translate"),C.k0s(),C.bVm(),C.k0s()}2&St&&(C.R7$(3),C.SpI(" ",C.bMT(4,1,"Claims.Add")," "))}function Be(St,$e){if(1&St){const Qe=C.RV6();C.j41(0,"app-search",7),C.nI1(1,"translate"),C.bIt("onSearch",function(de){C.eBV(Qe);const ue=C.XpG();return C.Njj(ue.search(de))}),C.k0s(),C.DNE(2,se,5,3,"app-action-bar")}if(2&St){const Qe=C.XpG();C.Y8G("placeholder",C.bMT(1,2,"ClaimTypes.SearchPlaceholder")),C.R7$(2),C.vxM(2,!Qe.isLoading&&Qe.isIdentityServerManager?2:-1)}}function qe(St,$e){1&St&&C.nrm(0,"app-simple-loader")}function ht(St,$e){1&St&&(C.j41(0,"div",10)(1,"div"),C.EFF(2),C.nI1(3,"translate"),C.k0s()()),2&St&&(C.R7$(2),C.JRh(C.bMT(3,1,"Claims.NoClaimsFound")))}function Ft(St,$e){1&St&&C.nrm(0,"span",25)}function on(St,$e){1&St&&C.nrm(0,"span",26)}function un(St,$e){1&St&&C.nrm(0,"span",27)}function Mn(St,$e){1&St&&C.nrm(0,"span",25)}function kn(St,$e){1&St&&C.nrm(0,"span",26)}function Bn(St,$e){1&St&&C.nrm(0,"span",27)}function Tt(St,$e){1&St&&C.nrm(0,"span",25)}function Rn(St,$e){1&St&&C.nrm(0,"span",26)}function Gt(St,$e){1&St&&C.nrm(0,"span",27)}function ct(St,$e){1&St&&C.nrm(0,"span",25)}function yt(St,$e){1&St&&C.nrm(0,"span",26)}function mt(St,$e){1&St&&C.nrm(0,"span",27)}function xt(St,$e){1&St&&(C.j41(0,"span",33)(1,"span",22),C.EFF(2),C.nI1(3,"translate"),C.k0s()()),2&St&&(C.R7$(2),C.JRh(C.bMT(3,1,"Common.Yes")))}function tn(St,$e){1&St&&(C.j41(0,"span",38)(1,"span",22),C.EFF(2),C.nI1(3,"translate"),C.k0s()()),2&St&&(C.R7$(2),C.JRh(C.bMT(3,1,"Common.No")))}function Sn(St,$e){1&St&&(C.j41(0,"span",33)(1,"span",22),C.EFF(2),C.nI1(3,"translate"),C.k0s()()),2&St&&(C.R7$(2),C.JRh(C.bMT(3,1,"Common.Yes")))}function Un(St,$e){1&St&&(C.j41(0,"span",38)(1,"span",22),C.EFF(2),C.nI1(3,"translate"),C.k0s()()),2&St&&(C.R7$(2),C.JRh(C.bMT(3,1,"Common.No")))}function cn(St,$e){1&St&&(C.j41(0,"span",39),C.EFF(1),C.nI1(2,"translate"),C.k0s()),2&St&&(C.R7$(),C.SpI(" ",C.bMT(2,1,"Common.Reserved")," "))}function di(St,$e){if(1&St){const Qe=C.RV6();C.j41(0,"tr",23)(1,"td",28),C.bIt("click",function(){const de=C.eBV(Qe).$implicit,ue=C.XpG(3);return C.Njj(ue.viewOrEditClaimType(de))}),C.j41(2,"b",29),C.EFF(3),C.k0s()(),C.j41(4,"td",30),C.bIt("click",function(){const de=C.eBV(Qe).$implicit,ue=C.XpG(3);return C.Njj(ue.viewOrEditClaimType(de))}),C.j41(5,"b",29),C.EFF(6),C.k0s()(),C.j41(7,"td",30),C.bIt("click",function(){const de=C.eBV(Qe).$implicit,ue=C.XpG(3);return C.Njj(ue.viewOrEditClaimType(de))}),C.j41(8,"code"),C.EFF(9),C.k0s()(),C.j41(10,"td",31),C.bIt("click",function(){const de=C.eBV(Qe).$implicit,ue=C.XpG(3);return C.Njj(ue.viewOrEditClaimType(de))}),C.EFF(11),C.k0s(),C.j41(12,"td",32),C.bIt("click",function(){const de=C.eBV(Qe).$implicit,ue=C.XpG(3);return C.Njj(ue.viewOrEditClaimType(de))}),C.DNE(13,xt,4,3,"span",33)(14,tn,4,3),C.k0s(),C.j41(15,"td",32),C.bIt("click",function(){const de=C.eBV(Qe).$implicit,ue=C.XpG(3);return C.Njj(ue.viewOrEditClaimType(de))}),C.DNE(16,Sn,4,3,"span",33)(17,Un,4,3),C.k0s(),C.j41(18,"td",34),C.bIt("click",function(){const de=C.eBV(Qe).$implicit,ue=C.XpG(3);return C.Njj(ue.viewOrEditClaimType(de))}),C.DNE(19,cn,3,3,"span",35),C.k0s(),C.j41(20,"td",34),C.bIt("click",function(){const de=C.eBV(Qe).$implicit,ue=C.XpG(3);return C.Njj(ue.viewOrEditClaimType(de))}),C.j41(21,"button",36),C.bIt("click",function(){const de=C.eBV(Qe).$implicit,ue=C.XpG(3);return C.Njj(ue.viewOrEditClaimType(de))}),C.nrm(22,"span",37),C.j41(23,"span",22),C.EFF(24),C.nI1(25,"translate"),C.k0s()()()()}if(2&St){const Qe=$e.$implicit,K=C.XpG(3);C.R7$(3),C.SpI(" ",Qe.name," "),C.R7$(3),C.SpI(" ",Qe.displayName," "),C.R7$(3),C.JRh(Qe.valueType),C.R7$(2),C.SpI(" ",Qe.description," "),C.R7$(2),C.vxM(13,Qe.required?13:14),C.R7$(3),C.vxM(16,Qe.userEditable?16:17),C.R7$(3),C.Y8G("ngIf",Qe.reserved),C.R7$(3),C.Y8G("ngClass",C.l_i(11,ae,K.isAllPermission&&!K.isAllPermissionReadOnly&&K.hasPersistance,!K.isAllPermission||!K.hasPersistance)),C.R7$(2),C.JRh(C.bMT(25,9,"Common.Edit"))}}function li(St,$e){if(1&St){const Qe=C.RV6();C.j41(0,"table",11)(1,"thead")(2,"tr")(3,"th",12),C.bIt("click",function(){C.eBV(Qe);const de=C.XpG(2);return C.Njj(de.sort("name"))}),C.j41(4,"span",13),C.EFF(5),C.nI1(6,"translate"),C.k0s(),C.DNE(7,Ft,1,0,"span",14)(8,on,1,0,"span",15)(9,un,1,0,"span",16),C.k0s(),C.j41(10,"th",17),C.EFF(11),C.nI1(12,"translate"),C.k0s(),C.j41(13,"th",18),C.bIt("click",function(){C.eBV(Qe);const de=C.XpG(2);return C.Njj(de.sort("valueType"))}),C.j41(14,"span",13),C.EFF(15),C.nI1(16,"translate"),C.k0s(),C.DNE(17,Mn,1,0,"span",14)(18,kn,1,0,"span",15)(19,Bn,1,0,"span",16),C.k0s(),C.j41(20,"th",19),C.EFF(21),C.nI1(22,"translate"),C.k0s(),C.j41(23,"th",20),C.bIt("click",function(){C.eBV(Qe);const de=C.XpG(2);return C.Njj(de.sort("required"))}),C.j41(24,"span",13),C.EFF(25),C.nI1(26,"translate"),C.k0s(),C.DNE(27,Tt,1,0,"span",14)(28,Rn,1,0,"span",15)(29,Gt,1,0,"span",16),C.k0s(),C.j41(30,"th",20),C.bIt("click",function(){C.eBV(Qe);const de=C.XpG(2);return C.Njj(de.sort("userEditable"))}),C.j41(31,"span",13),C.EFF(32),C.nI1(33,"translate"),C.k0s(),C.DNE(34,ct,1,0,"span",14)(35,yt,1,0,"span",15)(36,mt,1,0,"span",16),C.k0s(),C.j41(37,"th",21)(38,"span",22),C.EFF(39),C.nI1(40,"translate"),C.k0s()(),C.j41(41,"th",21)(42,"span",22),C.EFF(43),C.nI1(44,"translate"),C.k0s()()()(),C.j41(45,"tbody"),C.Z7z(46,di,26,14,"tr",23,ve),C.k0s()(),C.nrm(48,"app-pager",24)}if(2&St){const Qe=C.XpG(2);C.R7$(5),C.JRh(C.bMT(6,21,"Common.Name")),C.R7$(2),C.Y8G("ngIf",!Qe.sortContains("name")),C.R7$(),C.Y8G("ngIf","name"===Qe.sortCriteria),C.R7$(),C.Y8G("ngIf","-name"===Qe.sortCriteria),C.R7$(2),C.SpI(" ",C.bMT(12,23,"Common.DisplayName")," "),C.R7$(4),C.JRh(C.bMT(16,25,"Common.Type")),C.R7$(2),C.Y8G("ngIf",!Qe.sortContains("valueType")),C.R7$(),C.Y8G("ngIf","valueType"===Qe.sortCriteria),C.R7$(),C.Y8G("ngIf","-valueType"===Qe.sortCriteria),C.R7$(2),C.SpI(" ",C.bMT(22,27,"Common.Description")," "),C.R7$(4),C.JRh(C.bMT(26,29,"Common.Required")),C.R7$(2),C.Y8G("ngIf",!Qe.sortContains("required")),C.R7$(),C.Y8G("ngIf","required"===Qe.sortCriteria),C.R7$(),C.Y8G("ngIf","-required"===Qe.sortCriteria),C.R7$(3),C.JRh(C.bMT(33,31,"Common.UserEditable")),C.R7$(2),C.Y8G("ngIf",!Qe.sortContains("userEditable")),C.R7$(),C.Y8G("ngIf","userEditable"===Qe.sortCriteria),C.R7$(),C.Y8G("ngIf","-userEditable"===Qe.sortCriteria),C.R7$(3),C.JRh(C.bMT(40,33,"Common.Reserved")),C.R7$(4),C.JRh(C.bMT(44,35,"Common.Actions")),C.R7$(3),C.Dyx(Qe.claimTypes),C.R7$(2),C.Y8G("totalResults",null==Qe.claimTypes?null:Qe.claimTypes.length)}}function At(St,$e){if(1&St&&C.DNE(0,ht,4,3,"div",10)(1,li,49,37),2&St){const Qe=C.XpG();C.vxM(0,(null==Qe.claimTypes?null:Qe.claimTypes.length)<1?0:1)}}let dt=(()=>{class St{constructor(Qe,K,de,ue,ze,Wt,Kt,gn){this.router=Qe,this.claimTypeService=K,this.errorService=de,this.translate=ue,this.titleService=ze,this.localize=Wt,this.securityService=Kt,this.activatedRoute=gn,this.sortCriteria="name",this.term="",this.isLoading=!0,this.sortStream=new zt.B,this.searchStream=new zt.B}ngOnInit(){this.hasPersistance=this.activatedRoute.snapshot?.data?.hasPersistance??!0,this.titleService.setTitle(this.translate.instant("Nav.ClaimTypes")+" - "+E.$9.SITE_TITLE);const Qe=this.searchStream.pipe((0,Lt.B)(300),(0,Et.F)(),(0,_t.T)(ue=>(this.term=ue,{search:ue,sort:this.sortCriteria})));this.sortStream.pipe((0,_t.T)(ue=>(this.sortCriteria=ue,{search:this.term,sort:ue}))).pipe((0,J.h)(Qe),(0,X.Z)({search:this.term,sort:this.sortCriteria}),(0,q.Z)(ue=>this.claimTypeService.getClaimTypes(ue.search,ue.sort,!0))).subscribe(ue=>{this.claimTypes=ue,this.isLoading=!1},ue=>{this.errorService.handleError(ue),this.isLoading=!1})}search(Qe){this.searchStream.next(Qe)}sort(Qe){this.sortCriteria=this.sortCriteria.startsWith("-")?Qe:"-"+Qe,this.sortStream.next(this.sortCriteria)}sortContains(Qe){return!!this.sortCriteria.includes(Qe)}onSubmitted(Qe){Qe&&this.sortStream.next(this.sortCriteria)}viewOrEditClaimType(Qe){this.isAllPermission?this.editClaimType(Qe):this.viewClaimType(Qe)}viewClaimType(Qe){const K=this.localize.translateRoute("/claim-types/view");this.router.navigate([K,Qe.id])}editClaimType(Qe){const K=this.localize.translateRoute("/claim-types");this.router.navigate([K,Qe.id])}get isAllPermission(){return(0,F.X4)(this.securityService.userPermissions)}get isAllPermissionReadOnly(){return(0,F.lK)(this.securityService.userPermissions)}get isIdentityServerManager(){return(0,F.jk)(this.securityService.userPermissions)}static{this.\u0275fac=function(K){return new(K||St)(C.rXU(e.Ix),C.rXU(k.X),C.rXU(x.I),C.rXU(g.c$),C.rXU(O.hE),C.rXU(d.QG),C.rXU($.i),C.rXU(e.nX))}}static{this.\u0275cmp=C.VBU({type:St,selectors:[["ng-component"]],decls:9,vars:5,consts:[["addClaimTypeModal",""],[3,"title"],[3,"onSubmitted"],["id","claimTypeList",1,"tw-container","tw-mx-auto"],["id","readOnlyModeWarn",1,"tw-alert","tw-mb-4"],[1,"tw-font-bold"],[1,"tw-text-sm",3,"innerHTML"],[3,"onSearch","placeholder"],["right",""],[1,"tw-btn-success",3,"click"],["role","alert",1,"tw-alert"],["id","claimTypesTable",1,"datatable","selectable","hover"],["id","sortName",1,"tw-max-w-0","tw-cursor-pointer","md:tw-w-1/3","lg:tw-w-1/4",3,"click"],[1,"tw-mr-2"],["class","fad fa-sort",4,"ngIf"],["class","fas fa-caret-down",4,"ngIf"],["class","fas fa-caret-up",4,"ngIf"],[1,"tw-hidden","tw-cursor-pointer","md:tw-table-cell"],[1,"tw-hidden","tw-cursor-pointer","md:tw-table-cell",3,"click"],[1,"tw-hidden","tw-w-1/4","lg:tw-table-cell"],[1,"tw-hidden","tw-cursor-pointer","tw-text-center","xl:tw-table-cell",3,"click"],[1,"tw-w-1"],[1,"sr-only"],[1,"group"],["hidePager","true",3,"totalResults"],[1,"fad","fa-sort"],[1,"fas","fa-caret-down"],[1,"fas","fa-caret-up"],[1,"tw-max-w-0","tw-truncate",3,"click"],[1,"tw-text-blue-500"],[1,"tw-hidden","tw-truncate","md:tw-table-cell",3,"click"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell",3,"click"],[1,"tw-hidden","tw-text-center","xl:tw-table-cell",3,"click"],[1,"fas","fa-check","tw-text-green-500"],[3,"click"],["class","tw-pill",4,"ngIf"],["type","button",1,"tw-btn-link","tw-btn-small","editClaimType","group-hover:tw-text-blue-500",3,"click"],["id","viewOrEditIcon","aria-hidden","true",3,"ngClass"],[1,"fas","fa-times","tw-opacity-25"],[1,"tw-pill"]],template:function(K,de){if(1&K){const ue=C.RV6();C.nrm(0,"app-title-bar",1),C.nI1(1,"translate"),C.j41(2,"app-add-claimtype",2,0),C.bIt("onSubmitted",function(Wt){return C.eBV(ue),C.Njj(de.onSubmitted(Wt))}),C.k0s(),C.j41(4,"div",3),C.DNE(5,j,7,6,"div",4)(6,Be,3,4)(7,qe,1,0,"app-simple-loader")(8,At,2,1),C.k0s()}2&K&&(C.Y8G("title",C.bMT(1,3,"Nav.ClaimTypes")),C.R7$(5),C.vxM(5,de.hasPersistance?6:5),C.R7$(2),C.vxM(7,de.isLoading?7:8))},dependencies:[i.YU,i.bT,G.z,Se.B,Ee.n,lt.S,Ue.d,Nt,g.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return St})();var kt=u(3178),jt=u(4446),Yt=u(8939),vn=u(2892),mn=u(8416);let zn=(()=>{class St{static{this.pathToConfigParamMap={"claim-types":"claimTypePersistence"}}}return St})();var An=u(9196);let fn=(()=>{class St{constructor(Qe,K,de){this.router=Qe,this.localizeRouter=K,this.configService=de}canActivate(Qe,K){var de=Qe.url.map(ze=>ze.path),ue=de[de.length-2];return this.configService.getConfig().pipe((0,_t.T)(ze=>{if(!1!==ze[zn.pathToConfigParamMap[ue]])return!0;de.splice(de.length-1,0,"view");var Wt=this.localizeRouter.translateRoute(`/${de.join("/")}`);return this.router.navigate([Wt]),!1}))}static{this.\u0275fac=function(K){return new(K||St)(C.KVO(e.Ix),C.KVO(d.QG),C.KVO(An.w))}}static{this.\u0275prov=C.jDH({token:St,factory:St.\u0275fac})}}return St})(),ci=(()=>{class St{constructor(Qe){this.configService=Qe}resolve(Qe){var K=Qe.url.map(ue=>ue.path),de=K[K.length-1];return this.configService.getConfig().pipe((0,_t.T)(ue=>{var ze=ue[zn.pathToConfigParamMap[de]];return!!(0,F.hX)(ze)||ze}))}static{this.\u0275fac=function(K){return new(K||St)(C.KVO(An.w))}}static{this.\u0275prov=C.jDH({token:St,factory:St.\u0275fac})}}return St})();const gi=[{path:"claim-types",component:dt,resolve:{hasPersistance:ci},canActivate:[vn.h,jt._],data:{permissions:[kt.a[kt.a.UserManager],kt.a[kt.a.UserManagerReadOnly],kt.a[kt.a.AllReadOnly],kt.a[kt.a.All]]}},{path:"claim-types/:Id",component:Ye,resolve:{resource:Yt.R},canDeactivate:[mn.M],canActivate:[vn.h,fn,jt._],data:{permissions:[kt.a[kt.a.UserManager],kt.a[kt.a.All]]}},{path:"claim-types/view/:Id",loadChildren:()=>u.e(200).then(u.bind(u,2200)).then(St=>St.ClaimTypesModule),resolve:{resource:Yt.R},canActivate:[vn.h,jt._],data:{permissions:[kt.a[kt.a.UserManager],kt.a[kt.a.UserManagerReadOnly],kt.a[kt.a.AllReadOnly],kt.a[kt.a.All]]}}];let ni=(()=>{class St{static{this.\u0275fac=function(K){return new(K||St)}}static{this.\u0275mod=C.$C({type:St})}static{this.\u0275inj=C.G2t({imports:[e.iI.forChild(gi),d.XE.forChild(gi),e.iI]})}}return St})();var Bi=u(8455),Xn=u(367),Ei=u(5731),pi=u(4193),Gi=u(3665),ji=u(7175),Ti=u(1993),nt=u(8389),It=u(3843),Ct=u(7677),nn=u(1683),Qt=u(4367);let Tn=(()=>{class St{static{this.\u0275fac=function(K){return new(K||St)}}static{this.\u0275mod=C.$C({type:St})}static{this.\u0275inj=C.G2t({providers:[Yt.R,ci,fn],imports:[ni,i.MD,_.YN,_.X1,f.qP,v.Ss,S.Q_,e.iI,g.h,Bi.p,d.XE,Xn.m,Ei.i,pi.c,Gi.t,ji.c,Ti.E,nt.w,It.G,Ct.N,nn.Y,Qt.N]})}}return St})()},7275:(et,me,u)=>{"use strict";u.d(me,{Q:()=>E});var i=u(177),e=u(1780),_=u(779),g=u(4193),S=u(8251),v=u(8389),f=u(7677),d=u(4438);let E=(()=>{class m{static{this.\u0275fac=function(C){return new(C||m)}}static{this.\u0275mod=d.$C({type:m})}static{this.\u0275inj=d.G2t({imports:[_.Q_,e.h,i.MD,S.h,g.c,v.w,f.N]})}}return m})()},4652:(et,me,u)=>{"use strict";u.d(me,{T:()=>oe});var i=u(4438),e=u(4252),_=u(7921),g=u(6303),S=u(4549),v=u(1589),f=u(1780),d=u(9812),E=u(779),m=u(177),F=u(8577),w=u(7294),C=u(8698),R=u(8762);const k=["deleteCertModal"],O=[[["","addButton",""]]],H=["[addButton]"],x=Y=>[Y],$=()=>({animated:!1,backdrop:"static"});function U(Y,_e){if(1&Y){const Oe=i.RV6();i.j41(0,"button",13),i.bIt("click",function(){i.eBV(Oe);const xe=i.XpG(3);return i.Njj(xe.openDeleteModal(xe.certificates[0]))}),i.EFF(1),i.nI1(2,"translate"),i.k0s()}if(2&Y){const Oe=i.XpG(3);i.Y8G("disabled",Oe.deleteCertDisabled),i.R7$(),i.SpI(" ",i.bMT(2,2,"Clients.Saml.DeleteCert")," ")}}function G(Y,_e){if(1&Y&&(i.j41(0,"app-action-bar",10),i.qex(1,11),i.SdG(2),i.DNE(3,U,3,4,"button",12),i.bVm(),i.k0s()),2&Y){const Oe=i.XpG(2);i.R7$(3),i.Y8G("ngIf",(null==Oe.certificates?null:Oe.certificates.length)>0)}}function ie(Y,_e){1&Y&&(i.j41(0,"div",14),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&Y&&(i.R7$(),i.SpI(" ",i.bMT(2,1,"Clients.Saml.CannotDeleteResponseCert")," "))}function le(Y,_e){1&Y&&(i.j41(0,"div",15),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&Y&&(i.R7$(),i.SpI(" ",i.bMT(2,1,"Clients.NoCertificates")," "))}function L(Y,_e){if(1&Y&&(i.qex(0),i.j41(1,"app-form-row",16),i.nrm(2,"app-readonly",17),i.k0s(),i.j41(3,"app-form-row",16),i.nrm(4,"app-readonly",17),i.k0s(),i.j41(5,"app-form-row",18),i.nrm(6,"app-readonly",17)(7,"p",19),i.k0s(),i.bVm()),2&Y){const Oe=i.XpG(2);i.R7$(),i.Y8G("label","Common.Subject"),i.R7$(),i.Y8G("values",i.eq3(11,x,Oe.readOnlyCertificate.subject))("fieldType",Oe.ReadOnlyFieldType.Single),i.R7$(),i.Y8G("label","Common.Thumbprint"),i.R7$(),i.Y8G("values",i.eq3(13,x,Oe.readOnlyCertificate.thumbprint))("fieldType",Oe.ReadOnlyFieldType.Single),i.R7$(),i.Y8G("label","Common.ExpiresOn")("isLast",!0),i.R7$(),i.Y8G("values",i.eq3(15,x,Oe.readOnlyCertificate.expiration))("fieldType",Oe.ReadOnlyFieldType.Single),i.R7$(),i.Y8G("innerHTML",Oe.displayExpiry(null==Oe.readOnlyCertificate?null:Oe.readOnlyCertificate.expiration.MainText),i.npT)}}function Q(Y,_e){if(1&Y&&(i.j41(0,"div",5),i.DNE(1,G,4,1,"app-action-bar",6)(2,ie,3,3,"div",7)(3,le,3,3,"div",8)(4,L,8,17,"ng-container",9),i.k0s()),2&Y){const Oe=i.XpG();i.R7$(),i.Y8G("ngIf",!Oe.isReadOnly),i.R7$(),i.Y8G("ngIf",Oe.deleteCertDisabled&&!Oe.isReadOnly),i.R7$(),i.Y8G("ngIf",(null==Oe.certificates?null:Oe.certificates.length)<1),i.R7$(),i.Y8G("ngIf",1==(null==Oe.certificates?null:Oe.certificates.length)&&Oe.readOnlyCertificate)}}function te(Y,_e){if(1&Y){const Oe=i.RV6();i.j41(0,"app-data-table",20),i.bIt("onDelete",function(xe){i.eBV(Oe);const Je=i.XpG();return i.Njj(Je.openDeleteModal(xe))}),i.nrm(1,"app-data-table-column",21)(2,"app-data-table-column",22)(3,"app-data-table-column",23),i.k0s()}if(2&Y){const Oe=i.XpG();i.Y8G("isReadOnly",Oe.isReadOnly)("rows",Oe.certificates)("norowslabel","Clients.NoCertificates")("actions",Oe.dataTableActions),i.R7$(),i.Y8G("prop","subject")("title","Common.Subject")("cellClasses","tw-max-w-0 tw-truncate"),i.R7$(),i.Y8G("prop","thumbprint")("title","Common.Thumbprint")("headClasses","tw-hidden md:tw-table-cell")("cellClasses","tw-hidden tw-max-w-0 tw-truncate md:tw-table-cell"),i.R7$(),i.Y8G("prop","expiration")("formatter",Oe.displayExpiry.bind(Oe))("title","Common.ExpiresOn")("headClasses","tw-hidden tw-w-40 xs:tw-table-cell lg:tw-w-64")("cellClasses","tw-hidden xs:tw-table-cell")}}function I(Y,_e){if(1&Y){const Oe=i.RV6();i.j41(0,"div",24,0)(2,"div",25)(3,"div",26)(4,"div",27)(5,"h5",28),i.EFF(6),i.nI1(7,"translate"),i.k0s(),i.j41(8,"button",29),i.bIt("click",function(){i.eBV(Oe);const xe=i.XpG();return i.Njj(xe.closeDeleteModal())}),i.nrm(9,"span",30),i.j41(10,"span",31),i.EFF(11),i.nI1(12,"translate"),i.k0s()()(),i.j41(13,"div",32),i.nrm(14,"p",33),i.nI1(15,"translate"),i.k0s(),i.nrm(16,"div",34),i.j41(17,"div",35)(18,"div",36)(19,"div",37)(20,"button",38),i.bIt("click",function(){i.eBV(Oe);const xe=i.XpG();return i.Njj(xe.removeCert())}),i.EFF(21),i.nI1(22,"translate"),i.k0s()(),i.j41(23,"button",39),i.bIt("click",function(){i.eBV(Oe);const xe=i.XpG();return i.Njj(xe.closeDeleteModal())}),i.EFF(24),i.nI1(25,"translate"),i.k0s()()()()()()}2&Y&&(i.Y8G("config",i.lJ4(16,$)),i.R7$(6),i.JRh(i.bMT(7,6,"Common.Delete.Confirm")),i.R7$(5),i.JRh(i.bMT(12,8,"Common.Close")),i.R7$(3),i.Y8G("innerHTML",i.bMT(15,10,"Common.Delete.Warning"),i.npT),i.R7$(7),i.JRh(i.bMT(22,12,"Common.Delete.Title")),i.R7$(3),i.JRh(i.bMT(25,14,"Common.Delete.No")))}let oe=(()=>{class Y{set isReadOnly(Oe){this._isReadOnly=Oe||!1}get isReadOnly(){return this._isReadOnly}constructor(Oe,Re){this.translateService=Oe,this.dataTableService=Re,this.showSingle=!1,this.delete=new i.bkB,this.prettyDateTimePipe=new v.sp}ngOnDestroy(){this.dtsSubscription.unsubscribe()}ngOnInit(){this.dtsSubscription=this.dataTableService.deleteRowEvent.subscribe(Oe=>{this.openDeleteModal(Oe)})}ngOnChanges(){this.dataTableActions=this.isReadOnly?[]:[e.AA.Delete],this.readOnlyCertificate=this.showSingle&&this.certificates.length>0?new _.b(this.certificates[0]):null}openDeleteModal(Oe){this.certToDelete=this.showSingle?this.certificates[0]:this.certificates[Oe],this.deleteCertModal.show()}closeDeleteModal(){this.certToDelete=null,this.deleteCertModal.hide()}removeCert(){if(null==this.certToDelete)throw new Error("Delete called without target");this.delete.emit(this.certToDelete),this.deleteCertModal.hide()}displayExpiry(Oe){let Re=S.c9.fromISO(Oe);const xe=this.daysUntilExpiry(Re);if(this.warnOfExpiry(Re)){let Je='<b class="tw-text-red-500"><span class="fas fa-exclamation-triangle tw-mr-1" aria-hidden="true"></span>{0} {1} {2}</b>';return Je=Je.replace("{0}",this.translateService.instant("Common.ExpiresIn")),Je=Je.replace("{1}",xe.toString()),Je=Je.replace("{2}",this.translateService.instant("Common.UntilExpiry")),Je}return this.prettyDateTimePipe.transform(Oe)}warnOfExpiry(Oe){return this.daysUntilExpiry(Oe)<=30&&this.daysUntilExpiry(Oe)>=1}daysUntilExpiry(Oe){const Re=Oe.toMillis()-S.c9.now().toMillis();return Math.round(Re/864e5)}get ReadOnlyFieldType(){return g.t}static{this.\u0275fac=function(Re){return new(Re||Y)(i.rXU(f.c$),i.rXU(d.I))}}static{this.\u0275cmp=i.VBU({type:Y,selectors:[["app-saml-cert-list"]],viewQuery:function(Re,xe){if(1&Re&&i.GBs(k,5),2&Re){let Je;i.mGM(Je=i.lsd())&&(xe.deleteCertModal=Je.first)}},inputs:{certificates:"certificates",deleteCertDisabled:"deleteCertDisabled",showSingle:"showSingle",isReadOnly:"isReadOnly"},outputs:{delete:"delete"},features:[i.OA$],ngContentSelectors:H,decls:4,vars:3,consts:[["deleteCertModal","bs-modal"],["id","CertificateList"],["class","tw-mb-4",4,"ngIf"],[3,"isReadOnly","rows","norowslabel","actions","onDelete",4,"ngIf"],["bsModal","","id","deleteCertModal","class","modal","role","dialog","aria-hidden","true","tabindex","-1",3,"config",4,"ngIf"],[1,"tw-mb-4"],["id","deleteBtn",4,"ngIf"],["class","tw-alert-warning tw-mb-6","role","alert",4,"ngIf"],["class","tw-alert","role","alert",4,"ngIf"],[4,"ngIf"],["id","deleteBtn"],["right",""],["id","deleteCertBtn","class","tw-btn-danger","type","button",3,"disabled","click",4,"ngIf"],["id","deleteCertBtn","type","button",1,"tw-btn-danger",3,"click","disabled"],["role","alert",1,"tw-alert-warning","tw-mb-6"],["role","alert",1,"tw-alert"],[3,"label"],[3,"values","fieldType"],[3,"label","isLast"],[1,"tw-form-text",3,"innerHTML"],[3,"onDelete","isReadOnly","rows","norowslabel","actions"],[3,"prop","title","cellClasses"],[3,"prop","title","headClasses","cellClasses"],[3,"prop","formatter","title","headClasses","cellClasses"],["bsModal","","id","deleteCertModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog","modal-dialog--danger"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","tw-text-center","scrollbars"],[3,"innerHTML"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],[1,"tw-btn-danger",3,"click"],[1,"tw-btn-link","tw--mr-4",3,"click"]],template:function(Re,xe){1&Re&&(i.NAR(O),i.j41(0,"div",1),i.DNE(1,Q,5,4,"div",2)(2,te,4,16,"app-data-table",3),i.k0s(),i.DNE(3,I,26,17,"div",4)),2&Re&&(i.R7$(),i.Y8G("ngIf",xe.showSingle),i.R7$(),i.Y8G("ngIf",!xe.showSingle),i.R7$(),i.Y8G("ngIf",!xe.isReadOnly))},dependencies:[E.hZ,m.bT,e.up,F.w,w.n,C.Y,R.O,f.D9],encapsulation:2,changeDetection:0})}}return Y})()},5088:(et,me,u)=>{"use strict";u.d(me,{E:()=>k});var i=u(9113),e=u(1744),_=u(1594),g=u(6799),S=u(4414),v=u(4438),f=u(5826),d=u(1780),E=u(177),m=u(7384);const F=(O,H)=>({"tw-btn-link":O,"tw-btn-success":H});function w(O,H){1&O&&(v.nrm(0,"app-simple-loader",7),v.nI1(1,"translate")),2&O&&v.Y8G("text",v.bMT(1,1,"Clients.Import.Wizard.CompleteImport.ImportInProgress"))}function C(O,H){if(1&O&&(v.j41(0,"div",8)(1,"div")(2,"h2",9),v.EFF(3),v.nI1(4,"translate"),v.k0s(),v.j41(5,"span",10),v.EFF(6),v.k0s()()()),2&O){const x=v.XpG();v.R7$(3),v.JRh(v.bMT(4,2,"Clients.Import.Wizard.CompleteImport.ImportComplete")),v.R7$(3),v.JRh(x.getSuccessMessage())}}function R(O,H){if(1&O){const x=v.RV6();v.j41(0,"div",11)(1,"button",12),v.bIt("click",function(){v.eBV(x);const U=v.XpG();return v.Njj(U.downloadSecrets())}),v.EFF(2),v.nI1(3,"translate"),v.k0s()()}if(2&O){const x=v.XpG();v.R7$(),v.Y8G("disabled",x.disableButtons),v.R7$(),v.SpI(" ",v.bMT(3,2,"Clients.Import.Wizard.CompleteImport.DownloadSecrets")," ")}}let k=(()=>{class O extends g.P{constructor(x,$,U){super(),this.clientImportService=x,this.importWizardService=$,this.translate=U,this.secretsDownloaded=!1,this.canDownloadSecrets=!1,this.disableButtons=!1,this.storage=sessionStorage}ngOnInit(){this.importWizardController.disableCloseButton=!0,this.disableButtons=!0,this.isLoading=!0,this.importWizardService.cache.pipe((0,_.$)()).subscribe(x=>{const $=new i.SD;$.clients=[],$.protectedResources=[],x.forEach(U=>{if(U.selected){if(U.resourceType===e.ot.Client){const G=new i.Hh;G.useExistingSecrets=U.useExistingSecrets,G.useExistingCertificates=U.useExistingCertificates,G.resourceId=U.identifier,G.secrets=U.secrets,U.certificates&&(U.certificates.EncryptionCertificate&&(G.certificates.encryptionCertificate=U.certificates.EncryptionCertificate.base64Cert),U.certificates.SigningCertificates&&(G.certificates.signingCertificates=U.certificates.SigningCertificates.map(ie=>ie.base64Cert))),$.clients.push(G)}U.secrets&&U.secrets.length>0&&(this.canDownloadSecrets=!0)}U.resourceType===e.ot.ProtectedResource&&(this.buildAndAddProtectedResourceConfiguration(x,U,$.protectedResources),U.secrets&&U.secrets.length>0&&(this.canDownloadSecrets=!0))}),this.importConfiguration=$,this.completeImport()})}downloadSecrets(){this.importWizardService.downloadClientSecretsFromCache(),this.secretsDownloaded=!0}buildAndAddProtectedResourceConfiguration(x,$,U){$.dependantClients.forEach(G=>{const ie=x.find(le=>le.identifier===G.identifier);if(ie&&ie.selected){const le=new i.Hh;le.useExistingSecrets=$.useExistingSecrets,le.resourceId=$.identifier,le.secrets=$.secrets,U.push(le)}})}completeImport(){const x=this.getFileInStorage();this.clientImportService.completeImport(x,this.importConfiguration).subscribe(()=>{this.isLoading=!1,this.importWizardController.disableCloseButton=!1,this.disableButtons=!1},$=>{this.importWizardService.resetImport.next("CompleteImportFailed")})}getSuccessMessage(){const x=this.importConfiguration.clients.length;let $=this.translate.instant("Clients.Import.Wizard.CompleteImport.ImportSuccess");return 1!==x&&($=this.translate.instant("Clients.Import.Wizard.CompleteImport.ImportSuccessMultiple"),$=$.replace("{0}",x)),$}getFileInStorage(){return this.storage.getItem("importFile")}canNext(){return!this.isLoading}goNext(){!this.canDownloadSecrets||this.secretsDownloaded?this.quit():this.importWizardController.insertAndOpenStep(S.M.importDownloadWarning)}static{this.\u0275fac=function($){return new($||O)(v.rXU(i.qJ),v.rXU(f.o),v.rXU(d.c$))}}static{this.\u0275cmp=v.VBU({type:O,selectors:[["app-complete-import"]],features:[v.Vt3],decls:9,vars:11,consts:[[3,"text",4,"ngIf"],[1,"modal-body"],["class","tw-alert-success",4,"ngIf"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],["class","tw-mr-auto",4,"ngIf"],["id","nextBtn",1,"tw--mr-4",3,"click","ngClass","disabled"],[3,"text"],[1,"tw-alert-success"],[1,"tw-block","tw-font-semibold"],[1,"tw-block","tw-mt-1"],[1,"tw-mr-auto"],["id","downloadBtn",1,"tw-btn-success",3,"click","disabled"]],template:function($,U){1&$&&(v.DNE(0,w,2,3,"app-simple-loader",0),v.j41(1,"div",1),v.DNE(2,C,7,4,"div",2),v.k0s(),v.j41(3,"div",3)(4,"div",4),v.DNE(5,R,4,4,"div",5),v.j41(6,"button",6),v.bIt("click",function(){return U.goNext()}),v.EFF(7),v.nI1(8,"translate"),v.k0s()()()),2&$&&(v.Y8G("ngIf",U.isLoading),v.R7$(2),v.Y8G("ngIf",!U.isLoading),v.R7$(3),v.Y8G("ngIf",U.canDownloadSecrets),v.R7$(),v.Y8G("ngClass",v.l_i(8,F,U.canDownloadSecrets,!U.canDownloadSecrets))("disabled",U.disableButtons),v.R7$(),v.SpI(" ",v.bMT(8,6,"Clients.Import.Wizard.CompleteImport.FinishImport")," "))},dependencies:[E.YU,E.bT,m.d,d.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return O})()},6366:(et,me,u)=>{"use strict";u.d(me,{z:()=>_});var i=u(4412),e=u(4438);let _=(()=>{class g{constructor(){this.unsavedCache=new i.t(null),this.unsavedCache$=this.unsavedCache.asObservable(),this.savedCache=new i.t(null),this.savedCache$=this.savedCache.asObservable(),this.componentDirtyValidMap=new Map}onSave(){this.componentDirtyValidMap.clear()}static{this.\u0275fac=function(f){return new(f||g)}}static{this.\u0275prov=e.jDH({token:g,factory:g.\u0275fac})}}return g})()},5691:(et,me,u)=>{"use strict";u.d(me,{d:()=>_});var i=u(4412),e=u(4438);let _=(()=>{class g{constructor(){this.unsavedCache=new i.t(null),this.unsavedCache$=this.unsavedCache.asObservable(),this.savedCache=new i.t(null),this.savedCache$=this.savedCache.asObservable(),this.componentDirtyValidMap=new Map}onClientSave(){this.savedCache.next(this.unsavedCache.value),this.componentDirtyValidMap.clear()}static{this.\u0275fac=function(f){return new(f||g)}}static{this.\u0275prov=e.jDH({token:g,factory:g.\u0275fac})}}return g})()},8440:(et,me,u)=>{"use strict";u.r(me),u.d(me,{SettingsModule:()=>St});var i=u(177),e=u(9417),_=u(7005),g=u(779),S=u(1583),v=u(1780),f=u(1594),d=u(6354),m=u(1258),F=u(7756),w=u(4438),C=u(5424),R=u(3431),k=u(5794),O=u(4754),H=u(7499),x=u(9196),$=u(6728),U=u(6406),G=u(3899),ie=u(8698),le=u(9550);function L($e,Qe){if(1&$e&&(w.j41(0,"option",11),w.EFF(1),w.k0s()),2&$e){const K=Qe.$implicit;w.Y8G("ngValue",K),w.R7$(),w.JRh(K)}}let Q=(()=>{class $e{constructor(){}ngOnInit(){}toggle(){this.parentForm.controls[this.webhookName].get("enabled").value?(this.parentForm.controls[this.webhookName].get("url").disable(),this.parentForm.controls[this.webhookName].get("scopeName").disable()):(this.parentForm.controls[this.webhookName].get("url").enable(),this.parentForm.controls[this.webhookName].get("scopeName").enable())}static{this.\u0275fac=function(de){return new(de||$e)}}static{this.\u0275cmp=w.VBU({type:$e,selectors:[["app-edit-webhook"]],inputs:{webhookName:"webhookName",scopeNames:"scopeNames",parentForm:"parentForm"},decls:11,vars:14,consts:[[1,"tw-ml-8","tw-mr-8",3,"formGroup"],[3,"formGroupName"],[3,"id","label"],[3,"id","isTraffic","isAlt"],["formControlName","enabled","type","checkbox",1,"tw-form-switch__input",3,"click","id"],[3,"id","label","help"],["id","WebhookUrl","type","text","formControlName","url",1,"tw-form-control"],[3,"label","isLast"],[1,"tw-form-select"],["id","scopes","formControlName","scopeName",1,"tw-form-control"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"]],template:function(de,ue){1&de&&(w.j41(0,"div",0)(1,"form",1)(2,"app-form-row",2)(3,"app-form-toggle",3)(4,"input",4),w.bIt("click",function(){return ue.toggle()}),w.k0s()()(),w.j41(5,"app-form-row",5),w.nrm(6,"input",6),w.k0s(),w.j41(7,"app-form-row",7)(8,"div",8)(9,"select",9),w.DNE(10,L,2,2,"option",10),w.k0s()()()()()),2&de&&(w.Y8G("formGroup",ue.parentForm),w.R7$(),w.FS9("formGroupName",ue.webhookName),w.R7$(),w.Y8G("id","WebhookEnabled")("label","Webhooks.EnableWebhook"),w.R7$(),w.Y8G("id","WebhookEnabled"+ue.webhookName)("isTraffic",!0)("isAlt",!1),w.R7$(),w.Y8G("id","WebhookEnabled"+ue.webhookName),w.R7$(),w.Y8G("id","WebhookUrl")("label","Common.URL")("help","Webhooks.EnsureHttps"),w.R7$(2),w.Y8G("label","Webhooks.ProtectingScope")("isLast",!0),w.R7$(3),w.Y8G("ngForOf",ue.scopeNames))},dependencies:[i.Sq,e.qT,e.xH,e.y7,e.me,e.Zm,e.wz,e.BC,e.cb,e.cV,e.j4,e.JD,e.$R,ie.Y,le.m],encapsulation:2})}}return $e})();var te=u(6303),I=u(7921),oe=u(8762);const Y=$e=>[$e];function _e($e,Qe){if(1&$e&&(w.j41(0,"app-form-row",3),w.nrm(1,"app-readonly",2),w.k0s(),w.j41(2,"app-form-row",1),w.nrm(3,"app-readonly",2),w.k0s()),2&$e){const K=w.XpG();w.Y8G("id","WebhookUrl"+K.webhookName)("label","Common.URL")("help","Webhooks.EnsureHttps"),w.R7$(),w.Y8G("id","WebhookUrl"+K.webhookName)("fieldType",K.ReadOnlyFieldType.Single)("values",w.eq3(12,Y,K.webhookValues.url)),w.R7$(),w.Y8G("id","WebhookScope"+K.webhookName)("label","Webhooks.ProtectingScope")("isLast",!0),w.R7$(),w.Y8G("id","WebhookScope"+K.webhookName)("fieldType",K.ReadOnlyFieldType.Single)("values",w.eq3(14,Y,K.webhookValues.scopeName))}}let Oe=(()=>{class $e{get ReadOnlyFieldType(){return te.t}constructor(){}ngOnChanges(){this.webhookValues=new I.b(this.webhook)}static{this.\u0275fac=function(de){return new(de||$e)}}static{this.\u0275cmp=w.VBU({type:$e,selectors:[["app-readonly-webhook"]],inputs:{webhookName:"webhookName",webhook:"webhook"},features:[w.OA$],decls:4,vars:9,consts:[[1,"tw-ml-8","tw-mr-8"],[3,"id","label","isLast"],[3,"id","fieldType","values"],[3,"id","label","help"]],template:function(de,ue){1&de&&(w.j41(0,"div",0)(1,"app-form-row",1),w.nrm(2,"app-readonly",2),w.k0s(),w.DNE(3,_e,4,16),w.k0s()),2&de&&(w.R7$(),w.Y8G("id","WebhookEnabled"+ue.webhookName)("label","Webhooks.EnableWebhook")("isLast",!ue.webhook.enabled),w.R7$(),w.Y8G("id","WebhookEnabled"+ue.webhookName)("fieldType",ue.ReadOnlyFieldType.Single)("values",w.eq3(7,Y,ue.webhookValues.enabled)),w.R7$(),w.vxM(3,ue.webhook.enabled?3:-1))},dependencies:[ie.Y,oe.O],encapsulation:2})}}return $e})();const Re=["save"];function xe($e,Qe){if(1&$e&&(w.j41(0,"div",0)(1,"h2",5),w.EFF(2),w.nI1(3,"translate"),w.k0s(),w.nrm(4,"app-readonly-webhook",6),w.j41(5,"h2",5),w.EFF(6),w.nI1(7,"translate"),w.k0s(),w.nrm(8,"app-readonly-webhook",6),w.j41(9,"h2",5),w.EFF(10),w.nI1(11,"translate"),w.k0s(),w.nrm(12,"app-readonly-webhook",6),w.j41(13,"h2",5),w.EFF(14),w.nI1(15,"translate"),w.k0s(),w.nrm(16,"app-readonly-webhook",6),w.k0s()),2&$e){const K=w.XpG(2);w.R7$(2),w.JRh(w.bMT(3,12,"Webhooks.MultiFactorHeading")),w.R7$(2),w.Y8G("webhookName",K.webhookNames.MFAReset)("webhook",K.webhooksForm.get(K.webhookNames.MFAReset).value),w.R7$(2),w.JRh(w.bMT(7,14,"Webhooks.PasswordResetHeading")),w.R7$(2),w.Y8G("webhookName",K.webhookNames.PasswordReset)("webhook",K.webhooksForm.get(K.webhookNames.PasswordReset).value),w.R7$(2),w.JRh(w.bMT(11,16,"Webhooks.UserRegistrationHeading")),w.R7$(2),w.Y8G("webhookName",K.webhookNames.UserRegistration)("webhook",K.webhooksForm.get(K.webhookNames.UserRegistration).value),w.R7$(2),w.JRh(w.bMT(15,18,"Webhooks.ServerSideSessionDeleteHeading")),w.R7$(2),w.Y8G("webhookName",K.webhookNames.ServerSideSessionDelete)("webhook",K.webhooksForm.get(K.webhookNames.ServerSideSessionDelete).value)}}function Je($e,Qe){if(1&$e&&(w.j41(0,"div",1)(1,"div")(2,"p",2),w.EFF(3),w.nI1(4,"translate"),w.k0s(),w.nrm(5,"p",3),w.nI1(6,"translate"),w.k0s()(),w.DNE(7,xe,17,20,"div",4)),2&$e){const K=w.XpG();w.R7$(3),w.JRh(w.bMT(4,3,"Common.ReadOnlyModeWarningTitle")),w.R7$(2),w.Y8G("innerHTML",w.bMT(6,5,"Settings.Webhooks.ReadOnlyModeWarn"),w.npT),w.R7$(2),w.Y8G("ngIf",K.webhookConfiguration)}}function Te($e,Qe){if(1&$e&&(w.j41(0,"div",0)(1,"form",11)(2,"h2",5),w.EFF(3),w.nI1(4,"translate"),w.k0s(),w.nrm(5,"app-edit-webhook",12),w.j41(6,"h2",5),w.EFF(7),w.nI1(8,"translate"),w.k0s(),w.nrm(9,"app-edit-webhook",12),w.j41(10,"h2",5),w.EFF(11),w.nI1(12,"translate"),w.k0s(),w.nrm(13,"app-edit-webhook",12),w.j41(14,"h2",5),w.EFF(15),w.nI1(16,"translate"),w.k0s(),w.nrm(17,"app-edit-webhook",12),w.k0s()()),2&$e){const K=w.XpG(2);w.R7$(),w.Y8G("formGroup",K.webhooksForm),w.R7$(2),w.JRh(w.bMT(4,17,"Webhooks.MultiFactorHeading")),w.R7$(2),w.Y8G("webhookName",K.webhookNames.MFAReset)("scopeNames",K.scopeNames)("parentForm",K.webhooksForm),w.R7$(2),w.JRh(w.bMT(8,19,"Webhooks.PasswordResetHeading")),w.R7$(2),w.Y8G("webhookName",K.webhookNames.PasswordReset)("scopeNames",K.scopeNames)("parentForm",K.webhooksForm),w.R7$(2),w.JRh(w.bMT(12,21,"Webhooks.UserRegistrationHeading")),w.R7$(2),w.Y8G("webhookName",K.webhookNames.UserRegistration)("scopeNames",K.scopeNames)("parentForm",K.webhooksForm),w.R7$(2),w.JRh(w.bMT(16,23,"Webhooks.ServerSideSessionDeleteHeading")),w.R7$(2),w.Y8G("webhookName",K.webhookNames.ServerSideSessionDelete)("scopeNames",K.scopeNames)("parentForm",K.webhooksForm)}}function we($e,Qe){if(1&$e){const K=w.RV6();w.DNE(0,Te,18,25,"div",4),w.j41(1,"app-custom-modal",7),w.bIt("onCancel",function(){w.eBV(K);const ue=w.XpG();return w.Njj(ue.cancelWebhookUpdate())})("onSave",function(){w.eBV(K);const ue=w.XpG();return w.Njj(ue.acceptClientCreation())}),w.j41(2,"h2",8),w.EFF(3),w.nI1(4,"translate"),w.k0s(),w.j41(5,"p",9),w.EFF(6),w.nI1(7,"translate"),w.k0s()(),w.j41(8,"app-custom-modal",7),w.bIt("onCancel",function(){w.eBV(K);const ue=w.XpG();return w.Njj(ue.cancelWebhookUpdate())})("onSave",function(){w.eBV(K);const ue=w.XpG();return w.Njj(ue.acceptClientCreation())}),w.j41(9,"h2",8),w.EFF(10),w.nI1(11,"translate"),w.k0s(),w.j41(12,"p",9),w.EFF(13),w.nI1(14,"translate"),w.k0s()(),w.j41(15,"app-button-bar")(16,"button",10),w.bIt("click",function(){w.eBV(K);const ue=w.XpG();return w.Njj(ue.processWebhookConfigurationUpdate())}),w.EFF(17),w.nI1(18,"translate"),w.k0s()()}if(2&$e){const K=w.XpG();w.Y8G("ngIf",K.webhookConfiguration),w.R7$(),w.Y8G("saveText","Common.Continue")("actions",K.confirmationModalActions)("title","Webhooks.ClientCreationWarningTitle")("modalId",K.clientCreationConfirmationModalId),w.R7$(2),w.JRh(w.bMT(4,15,"Common.Warning")),w.R7$(3),w.SpI(" ",w.bMT(7,17,"Webhooks.ClientCreationWarningDescription")," "),w.R7$(2),w.Y8G("saveText","Common.Continue")("actions",K.confirmationModalActions)("title","Webhooks.ClientDeletionWarningTitle")("modalId",K.clientDeletionConfirmationModalId),w.R7$(2),w.JRh(w.bMT(11,19,"Common.Warning")),w.R7$(3),w.SpI(" ",w.bMT(14,21,"Webhooks.ClientDeletionWarningDescription")," "),w.R7$(3),w.Y8G("disabled",K.saveLock),w.R7$(),w.SpI(" ",w.bMT(18,23,"Common.Save")," ")}}let he=(()=>{class $e{constructor(K,de,ue,ze,Wt,Kt,gn,yn,ti){this.activatedRoute=K,this.errorService=de,this.fb=ue,this.webhookService=ze,this.translate=Wt,this.toastr=Kt,this.modalService=gn,this.dialogService=yn,this.uiConfig=ti,this.webhookNames=F.EK,this.saveLock=!1,this.clientCreationConfirmationModalId="clientCreationConfirmationModalId",this.clientDeletionConfirmationModalId="clientDeletionConfirmationModalId",this.confirmationModalActions=[m.N.Save],this.isReadOnly=!1}ngOnInit(){this.uiConfig.getConfig().pipe((0,f.$)()).subscribe({next:K=>{this.isReadOnly=!K.webhookPersistence}}),this.activatedRoute.data.pipe(function E(...$e){const Qe=$e.length;if(0===Qe)throw new Error("list of properties cannot be empty.");return(0,d.T)(K=>{let de=K;for(let ue=0;ue<Qe;ue++){const ze=de?.[$e[ue]];if(!(typeof ze<"u"))return;de=ze}return de})}("webhookResolverObject")).subscribe(K=>{this.webhookConfiguration=K.webhookConfiguration,this.webhooksEnabled=this.checkWebhooksEnabled(),this.scopeNames=K.scopeNames,this.webhooksForm=this.fb.group({[F.EK.MFAReset]:this.createFormGroup(this.webhookConfiguration.webhooks.MfaReset),[F.EK.PasswordReset]:this.createFormGroup(this.webhookConfiguration.webhooks.PasswordReset),[F.EK.UserRegistration]:this.createFormGroup(this.webhookConfiguration.webhooks.UserRegistration),[F.EK.ServerSideSessionDelete]:this.createFormGroup(this.webhookConfiguration.webhooks.ServerSideSessionDelete)}),this.saveLock=!0,this.webhooksForm.valueChanges.subscribe(de=>{this.saveLock=!(this.webhooksForm.controls[F.EK.MFAReset].valid&&this.webhooksForm.controls[F.EK.PasswordReset].valid&&this.webhooksForm.controls[F.EK.UserRegistration].valid&&this.webhooksForm.controls[F.EK.ServerSideSessionDelete].valid)})},K=>{this.errorService.handleError(K)})}createFormGroup(K){return this.fb.group({url:[{value:K.url,disabled:!K.enabled},e.k0.required],scopeName:[{value:K.scopeName,disabled:!K.enabled}],enabled:[K.enabled]})}processWebhookConfigurationUpdate(){const K=this.getWebhookFormValues();return!this.webhooksEnabled&&this.checkAnyWebhooksEnabled(K)?this.modalService.showById(this.clientCreationConfirmationModalId,this.saveButtonRef):this.webhooksEnabled&&this.checkAllWebhooksDisabled(K)?this.modalService.showById(this.clientDeletionConfirmationModalId,this.saveButtonRef):void this.saveWebhookConfiguration()}saveWebhookConfiguration(){const K=this.getWebhookFormValues();this.webhookService.saveWebhookConfiguration(K).subscribe(()=>{this.toastr.success(this.translate.instant("Webhooks.WebhookConfigurationUpdated"),this.translate.instant("Notifications.Success")),this.webhookService.getWebhooks().subscribe(de=>{this.webhookConfiguration=de,this.webhooksEnabled=this.checkWebhooksEnabled()},de=>{this.errorService.handleError(de)}),this.webhooksForm.markAsPristine()},de=>{this.errorService.handleError(de)})}cancelWebhookUpdate(){this.modalService.hideById(this.clientCreationConfirmationModalId)}acceptClientCreation(){this.saveWebhookConfiguration()}getWebhookFormValues(){const K=this.webhooksForm.getRawValue();return new F.m8(K.MfaReset,K.PasswordReset,K.UserRegistration,K.ServerSideSessionDelete)}checkWebhooksEnabled(){return this.webhookConfiguration.webhooks.PasswordReset.enabled||this.webhookConfiguration.webhooks.UserRegistration.enabled||this.webhookConfiguration.webhooks.MfaReset.enabled||this.webhookConfiguration.webhooks.ServerSideSessionDelete.enabled}checkAnyWebhooksEnabled(K){return K.webhooks.PasswordReset.enabled||K.webhooks.UserRegistration.enabled||K.webhooks.MfaReset.enabled||K.webhooks.ServerSideSessionDelete.enabled}checkAllWebhooksDisabled(K){return!(K.webhooks.PasswordReset.enabled||K.webhooks.UserRegistration.enabled||K.webhooks.MfaReset.enabled||K.webhooks.ServerSideSessionDelete.enabled)}canDeactivate(){return!this.webhooksForm.dirty||(this.dialogService.confirm(),this.dialogService.eventStream)}static{this.\u0275fac=function(de){return new(de||$e)(w.rXU(S.nX),w.rXU(C.I),w.rXU(e.ze),w.rXU(R.x),w.rXU(v.c$),w.rXU(k.tw),w.rXU(O.B),w.rXU(H.o),w.rXU(x.w))}}static{this.\u0275cmp=w.VBU({type:$e,selectors:[["app-manage-webhooks"]],viewQuery:function(de,ue){if(1&de&&w.GBs(Re,5),2&de){let ze;w.mGM(ze=w.lsd())&&(ue.saveButtonRef=ze.first)}},decls:4,vars:1,consts:[[1,"tw-container","tw-mx-auto"],["id","readOnlyModeWarn",1,"tw-alert","tw-mb-4"],[1,"tw-font-bold"],[1,"tw-text-sm",3,"innerHTML"],["class","tw-container tw-mx-auto",4,"ngIf"],[1,"tw-mb-6","tw-mt-8","tw-font-semibold","tw-text-lg"],[3,"webhookName","webhook"],[3,"onCancel","onSave","saveText","actions","title","modalId"],[1,"tw-text-xl","tw-font-semibold","md:tw-text-2xl"],["role","alert",1,"tw-alert-warning","tw-mb-4","tw-mt-4"],["id","save",1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"click","disabled"],[3,"formGroup"],[3,"webhookName","scopeNames","parentForm"]],template:function(de,ue){1&de&&(w.j41(0,"div",0),w.DNE(1,Je,8,7)(2,we,19,25),w.k0s(),w.nrm(3,"app-can-deactivate")),2&de&&(w.R7$(),w.vxM(1,ue.isReadOnly?1:2))},dependencies:[i.bT,e.qT,e.cb,e.j4,$.E,U.z,G.G,Q,Oe,v.D9],encapsulation:2})}}return $e})();class Le{}var Ae=u(4549),st=u(1626),Fe=u(9564);let ft=(()=>{class $e{constructor(K,de){this.http=K,this.headersService=de,this.actionUrl="policy",this.headers=de.setHeaders()}getAccessPolicy(){return this.http.get(this.actionUrl,{headers:this.headers})}updateAccessPolicy(K){return this.http.put(this.actionUrl,K,{headers:this.headers})}static{this.\u0275fac=function(de){return new(de||$e)(w.KVO(st.Qq),w.KVO(Fe.m))}}static{this.\u0275prov=w.jDH({token:$e,factory:$e.\u0275fac})}}return $e})();var Ye=u(6801),zt=u(7156),Lt=u(7384),Et=u(7294),_t=u(7778);class J{constructor(Qe,K,de){this.isDateTime=!1,this.type=Qe,this.value=K,this.permission=de}}var X=u(7811),q=u(6536);const Se=["addPolicyModal"],Ee=()=>({animated:!1,backdrop:"static"});function lt($e,Qe){if(1&$e&&(w.j41(0,"option"),w.EFF(1),w.k0s()),2&$e){const K=Qe.$implicit;w.R7$(),w.SpI(" ",null==K?null:K.name," ")}}function Ue($e,Qe){if(1&$e){const K=w.RV6();w.j41(0,"input",31),w.mxI("ngModelChange",function(ue){w.eBV(K);const ze=w.XpG();return w.DH7(ze.value,ue)||(ze.value=ue),w.Njj(ue)}),w.k0s()}if(2&$e){const K=w.XpG();w.R50("ngModel",K.value)}}function at($e,Qe){if(1&$e&&(w.j41(0,"option"),w.EFF(1),w.k0s()),2&$e){const K=Qe.$implicit;w.R7$(),w.SpI(" ",null==K?null:K.name," ")}}function Ot($e,Qe){if(1&$e){const K=w.RV6();w.j41(0,"div",11)(1,"select",32),w.mxI("ngModelChange",function(ue){w.eBV(K);const ze=w.XpG();return w.DH7(ze.value,ue)||(ze.value=ue),w.Njj(ue)}),w.DNE(2,at,2,1,"option",13),w.k0s()()}if(2&$e){const K=w.XpG();w.R7$(),w.R50("ngModel",K.value),w.R7$(),w.Y8G("ngForOf",K.avaliableRoles)}}function pt($e,Qe){if(1&$e){const K=w.RV6();w.j41(0,"input",31),w.mxI("ngModelChange",function(ue){w.eBV(K);const ze=w.XpG();return w.DH7(ze.value,ue)||(ze.value=ue),w.Njj(ue)}),w.k0s()}if(2&$e){const K=w.XpG();w.R50("ngModel",K.value)}}function it($e,Qe){if(1&$e){const K=w.RV6();w.j41(0,"input",33),w.mxI("ngModelChange",function(ue){w.eBV(K);const ze=w.XpG();return w.DH7(ze.value,ue)||(ze.value=ue),w.Njj(ue)}),w.k0s()}if(2&$e){const K=w.XpG();w.R50("ngModel",K.value)}}function Ht($e,Qe){if(1&$e){const K=w.RV6();w.j41(0,"div",11)(1,"select",32),w.mxI("ngModelChange",function(ue){w.eBV(K);const ze=w.XpG();return w.DH7(ze.value,ue)||(ze.value=ue),w.Njj(ue)}),w.j41(2,"option",34),w.EFF(3),w.nI1(4,"translate"),w.k0s(),w.j41(5,"option",35),w.EFF(6),w.nI1(7,"translate"),w.k0s()()()}if(2&$e){const K=w.XpG();w.R7$(),w.R50("ngModel",K.value),w.R7$(2),w.JRh(w.bMT(4,3,"Common.True")),w.R7$(3),w.JRh(w.bMT(7,5,"Common.False"))}}function en($e,Qe){if(1&$e){const K=w.RV6();w.j41(0,"div",36)(1,"app-enum-claim-type-input",37),w.bIt("valueChanged",function(ue){w.eBV(K);const ze=w.XpG();return w.Njj(ze.value=ue)}),w.k0s()()}if(2&$e){const K=w.XpG();w.Y8G("id","value-for-"+K.selectedClaimType.id),w.R7$(),w.Y8G("id","claimsFormInput")("typeId",K.selectedClaimType.id)("hostingModal","addPolicyModal")("value",K.value)}}function rt($e,Qe){if(1&$e){const K=w.RV6();w.qex(0),w.j41(1,"app-date-time",40),w.mxI("ngModelChange",function(ue){w.eBV(K);const ze=w.XpG(2);return w.DH7(ze.value,ue)||(ze.value=ue),w.Njj(ue)}),w.k0s(),w.bVm()}if(2&$e){const K=w.XpG(2);w.R7$(),w.R50("ngModel",K.value)}}function Nt($e,Qe){if(1&$e){const K=w.RV6();w.qex(0),w.j41(1,"app-date-time",41),w.mxI("ngModelChange",function(ue){w.eBV(K);const ze=w.XpG(2);return w.DH7(ze.value,ue)||(ze.value=ue),w.Njj(ue)}),w.k0s(),w.bVm()}if(2&$e){const K=w.XpG(2);w.R7$(),w.R50("ngModel",K.value),w.Y8G("displayType","date")}}function ve($e,Qe){if(1&$e&&(w.j41(0,"div",38),w.DNE(1,rt,2,1,"ng-container",39)(2,Nt,2,2,"ng-container",39),w.k0s()),2&$e){const K=w.XpG();w.R7$(),w.Y8G("ngIf","birthdate"!=K.claimType),w.R7$(),w.Y8G("ngIf","birthdate"==K.claimType)}}function ae($e,Qe){if(1&$e&&(w.j41(0,"option",42),w.EFF(1),w.nI1(2,"translate"),w.k0s()),2&$e){const K=Qe.$implicit;w.FS9("value",K),w.R7$(),w.SpI(" ",w.bMT(2,2,"Permission."+K)," ")}}let j=(()=>{class $e{constructor(K){this.toastr=K,this.added=new w.bkB,this.addAnother=!1}keydown(K){"Enter"===K.key&&this.isValid()&&this.addPolicy()}getClaimType(){this.selectedClaimType=this.avaliableClaimTypes.find(K=>K.name===this.claimType)}isValid(){return null!=this.claimType&&null!=this.value&&null!=this.permission}addAnotherPolicy(){this.addAnother=!0,this.addPolicy()}addPolicy(){const K=new J(this.claimType,this.value,this.permission);this.added.next(K),this.addAnother?(this.reset(),this.addAnother=!1):this.hide()}reset(){this.selectedClaimType=void 0,this.claimType=void 0,this.value=void 0,this.permission=void 0}hide(){this.addPolicyModal.hide()}show(){this.reset(),this.addPolicyModal.show()}ngOnDestroy(){this.hide()}static{this.\u0275fac=function(de){return new(de||$e)(w.rXU(k.tw))}}static{this.\u0275cmp=w.VBU({type:$e,selectors:[["app-add-accesspolicy"]],viewQuery:function(de,ue){if(1&de&&w.GBs(Se,7),2&de){let ze;w.mGM(ze=w.lsd())&&(ue.addPolicyModal=ze.first)}},hostBindings:function(de,ue){1&de&&w.bIt("keydown",function(Wt){return ue.keydown(Wt)},!1,w.EBC)},inputs:{avaliableClaimTypes:"avaliableClaimTypes",avaliableRoles:"avaliableRoles",avaliablePermissions:"avaliablePermissions",accessPolicy:"accessPolicy"},outputs:{added:"added"},decls:46,vars:38,consts:[["addPolicyModal","bs-modal"],["bsModal","","id","addPolicyModal","tabindex","-1","role","dialog","aria-hidden","true",1,"modal",3,"config"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","scrollbars"],[3,"id","label"],[1,"tw-form-select"],["id","addClaimType","required","",1,"tw-form-control",3,"ngModelChange","ngModel"],[4,"ngFor","ngForOf"],[3,"id","label","help"],["id","formClaimValue","class","tw-form-control","type","text","required","",3,"ngModel","ngModelChange",4,"ngIf"],["class","tw-form-select",4,"ngIf"],["id","formClaimValue","class","tw-form-control","type","number","required","",3,"ngModel","ngModelChange",4,"ngIf"],["class","",3,"id",4,"ngIf"],["class","tw-w-full sm:tw-max-w-2xl",4,"ngIf"],[3,"id","label","isLast"],["id","addClaimPermission","required","",1,"tw-form-control",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["type","submit","id","addPolicySubmit",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],[1,"tw-hidden","xs:tw-inline"],["type","button","id","addPolicyReSubmit",1,"tw-btn",3,"click","disabled"],[1,"tw-btn-link","tw--mr-4",3,"click"],["id","formClaimValue","type","text","required","",1,"tw-form-control",3,"ngModelChange","ngModel"],["id","formClaimValue","required","",1,"tw-form-control",3,"ngModelChange","ngModel"],["id","formClaimValue","type","number","required","",1,"tw-form-control",3,"ngModelChange","ngModel"],["value","true"],["value","false"],[1,"",3,"id"],[3,"valueChanged","id","typeId","hostingModal","value"],[1,"tw-w-full","sm:tw-max-w-2xl"],[4,"ngIf"],["id","formClaimValue","required","true",3,"ngModelChange","ngModel"],["id","formClaimValue","required","true",3,"ngModelChange","ngModel","displayType"],[3,"value"]],template:function(de,ue){if(1&de){const ze=w.RV6();w.j41(0,"div",1,0)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),w.EFF(6),w.nI1(7,"translate"),w.k0s(),w.j41(8,"button",6),w.bIt("click",function(){return w.eBV(ze),w.Njj(ue.hide())}),w.nrm(9,"span",7),w.j41(10,"span",8),w.EFF(11),w.nI1(12,"translate"),w.k0s()()(),w.j41(13,"div",9)(14,"app-form-row",10)(15,"div",11)(16,"select",12),w.mxI("ngModelChange",function(Kt){return w.eBV(ze),w.DH7(ue.claimType,Kt)||(ue.claimType=Kt),w.Njj(Kt)}),w.bIt("ngModelChange",function(){return w.eBV(ze),w.Njj(ue.getClaimType())}),w.nrm(17,"option"),w.DNE(18,lt,2,1,"option",13),w.k0s()()(),w.j41(19,"app-form-row",14),w.DNE(20,Ue,1,1,"input",15)(21,Ot,3,2,"div",16)(22,pt,1,1,"input",15)(23,it,1,1,"input",17)(24,Ht,8,7,"div",16)(25,en,2,5,"div",18)(26,ve,3,2,"div",19),w.k0s(),w.j41(27,"app-form-row",20)(28,"div",11)(29,"select",21),w.mxI("ngModelChange",function(Kt){return w.eBV(ze),w.DH7(ue.permission,Kt)||(ue.permission=Kt),w.Njj(Kt)}),w.nrm(30,"option"),w.DNE(31,ae,3,4,"option",22),w.k0s()()()(),w.nrm(32,"div",23),w.j41(33,"div",24)(34,"div",25)(35,"div",26)(36,"button",27),w.bIt("click",function(){return w.eBV(ze),ue.addPolicy(),w.Njj(ue.hide())}),w.EFF(37),w.nI1(38,"translate"),w.k0s(),w.j41(39,"span",28)(40,"button",29),w.bIt("click",function(){return w.eBV(ze),w.Njj(ue.addAnotherPolicy())}),w.EFF(41),w.nI1(42,"translate"),w.k0s()()(),w.j41(43,"button",30),w.bIt("click",function(){return w.eBV(ze),w.Njj(ue.hide())}),w.EFF(44),w.nI1(45,"translate"),w.k0s()()()()()()}2&de&&(w.Y8G("config",w.lJ4(37,Ee)),w.R7$(6),w.JRh(w.bMT(7,27,"Settings.AccessPolicy.NewPolicy")),w.R7$(5),w.JRh(w.bMT(12,29,"Common.Close")),w.R7$(3),w.Y8G("id","addClaimType")("label","Settings.AccessPolicy.ClaimType"),w.R7$(2),w.R50("ngModel",ue.claimType),w.R7$(2),w.Y8G("ngForOf",ue.avaliableClaimTypes),w.R7$(),w.Y8G("id","formClaimValue")("label","Settings.AccessPolicy.ClaimValue")("help","DateTime"==(null==ue.selectedClaimType?null:ue.selectedClaimType.valueType)?"Common.Dates.UTCWarning":""),w.R7$(),w.Y8G("ngIf",null==ue.claimType||""==ue.claimType),w.R7$(),w.Y8G("ngIf","role"==ue.claimType),w.R7$(),w.Y8G("ngIf","String"==(null==ue.selectedClaimType?null:ue.selectedClaimType.valueType)&&"role"!=ue.claimType),w.R7$(),w.Y8G("ngIf","Int"==(null==ue.selectedClaimType?null:ue.selectedClaimType.valueType)&&"role"!=ue.claimType),w.R7$(),w.Y8G("ngIf","Boolean"==(null==ue.selectedClaimType?null:ue.selectedClaimType.valueType)&&"role"!=ue.claimType),w.R7$(),w.Y8G("ngIf","Enum"==(null==ue.selectedClaimType?null:ue.selectedClaimType.valueType)),w.R7$(),w.Y8G("ngIf","DateTime"==(null==ue.selectedClaimType?null:ue.selectedClaimType.valueType)&&"role"!=ue.claimType),w.R7$(),w.Y8G("id","addClaimPermission")("label","Settings.AccessPolicy.Permission")("isLast",!0),w.R7$(2),w.R50("ngModel",ue.permission),w.R7$(2),w.Y8G("ngForOf",ue.avaliablePermissions),w.R7$(5),w.Y8G("disabled",!ue.isValid()),w.R7$(),w.JRh(w.bMT(38,31,"Common.Add")),w.R7$(3),w.Y8G("disabled",!ue.isValid()),w.R7$(),w.JRh(w.bMT(42,33,"Common.AddAndAdd")),w.R7$(3),w.JRh(w.bMT(45,35,"Common.Cancel")))},dependencies:[i.Sq,i.bT,e.xH,e.y7,e.me,e.Q0,e.wz,e.BC,e.YS,e.vS,g.hZ,ie.Y,X.j,q.Z,v.D9],encapsulation:2})}}return $e})();var se=u(1589);const Be=["deleteAccessPolicyModal"],qe=($e,Qe)=>Qe.type+Qe.value+Qe.permission,ht=$e=>({"inactive disabled":$e});function Ft($e,Qe){if(1&$e){const K=w.RV6();w.j41(0,"app-action-bar"),w.qex(1,10),w.j41(2,"button",11),w.bIt("click",function(){w.eBV(K),w.XpG();const ue=w.sdS(1);return w.Njj(ue.show())}),w.EFF(3),w.nI1(4,"translate"),w.k0s(),w.bVm(),w.k0s()}2&$e&&(w.R7$(3),w.SpI(" ",w.bMT(4,1,"Settings.AccessPolicy.Add")," "))}function on($e,Qe){1&$e&&(w.j41(0,"div",5)(1,"div")(2,"p",12),w.EFF(3),w.nI1(4,"translate"),w.k0s(),w.nrm(5,"p",13),w.nI1(6,"translate"),w.k0s()()),2&$e&&(w.R7$(3),w.JRh(w.bMT(4,2,"Common.ReadOnlyModeWarningTitle")),w.R7$(2),w.Y8G("innerHTML",w.bMT(6,4,"Settings.AccessPolicy.ReadOnlyModeWarn"),w.npT))}function un($e,Qe){1&$e&&w.nrm(0,"app-simple-loader")}function Mn($e,Qe){1&$e&&(w.j41(0,"th",18)(1,"span",19),w.EFF(2),w.nI1(3,"translate"),w.k0s()()),2&$e&&(w.R7$(2),w.JRh(w.bMT(3,1,"Common.Actions")))}function kn($e,Qe){if(1&$e&&(w.j41(0,"td",25),w.EFF(1),w.k0s()),2&$e){const K=w.XpG().$implicit;w.R7$(),w.SpI(" ",K.value," ")}}function Bn($e,Qe){if(1&$e&&(w.j41(0,"td",25),w.EFF(1),w.nI1(2,"standardDate"),w.k0s()),2&$e){const K=w.XpG().$implicit;w.R7$(),w.SpI(" ",w.bMT(2,1,K.value)," ")}}function Tt($e,Qe){1&$e&&(w.j41(0,"span",24),w.EFF(1),w.nI1(2,"translate"),w.k0s()),2&$e&&(w.R7$(),w.SpI(" ",w.bMT(2,1,"Common.Reserved")," "))}function Rn($e,Qe){if(1&$e){const K=w.RV6();w.j41(0,"button",27),w.bIt("click",function(){w.eBV(K);const ue=w.XpG(2).$implicit,ze=w.XpG(3);return w.Njj(ze.openDeletePolicyConfirmation(ue.type,ue.value,ue.permission))}),w.nrm(1,"span",28),w.j41(2,"span",19),w.EFF(3),w.nI1(4,"translate"),w.k0s()()}2&$e&&(w.R7$(3),w.SpI(" ",w.bMT(4,1,"Common.Remove.Title")," "))}function Gt($e,Qe){if(1&$e&&(w.j41(0,"td"),w.DNE(1,Rn,5,3,"button",26),w.k0s()),2&$e){const K=w.XpG().$implicit,de=w.XpG(3);w.R7$(),w.vxM(1,de.isAdminUiAdmin(K)?-1:1)}}function ct($e,Qe){if(1&$e&&(w.j41(0,"tr",20)(1,"td",21)(2,"b"),w.EFF(3),w.k0s()(),w.DNE(4,kn,2,1,"td",22)(5,Bn,3,3,"ng-template",null,2,w.C5r),w.j41(7,"td",23),w.EFF(8),w.nI1(9,"translate"),w.k0s(),w.j41(10,"td"),w.DNE(11,Tt,3,3,"span",24),w.k0s(),w.DNE(12,Gt,2,1,"td"),w.k0s()),2&$e){const K=Qe.$implicit,de=w.sdS(6),ue=w.XpG(3);w.Y8G("ngClass",w.eq3(9,ht,!ue.persistenceSetup||ue.isAdminUiAdmin(K))),w.R7$(3),w.JRh(K.type),w.R7$(),w.Y8G("ngIf",!K.isDateTime)("ngIfElse",de),w.R7$(4),w.SpI(" ",w.bMT(9,7,"Permission."+K.permission)," "),w.R7$(3),w.vxM(11,ue.isAdminUiAdmin(K)?11:-1),w.R7$(),w.vxM(12,ue.persistenceSetup?12:-1)}}function yt($e,Qe){if(1&$e&&(w.j41(0,"table",6)(1,"thead")(2,"tr")(3,"th",15),w.EFF(4),w.nI1(5,"translate"),w.k0s(),w.j41(6,"th",16),w.EFF(7),w.nI1(8,"translate"),w.k0s(),w.j41(9,"th",17),w.EFF(10),w.nI1(11,"translate"),w.k0s(),w.j41(12,"th",18)(13,"span",19),w.EFF(14),w.nI1(15,"translate"),w.k0s()(),w.DNE(16,Mn,4,3,"th",18),w.k0s()(),w.j41(17,"tbody"),w.Z7z(18,ct,13,11,"tr",20,qe),w.k0s(),w.nrm(20,"tbody"),w.k0s()),2&$e){const K=w.XpG(2);w.R7$(4),w.JRh(w.bMT(5,5,"Settings.AccessPolicy.ClaimType")),w.R7$(3),w.JRh(w.bMT(8,7,"Settings.AccessPolicy.ClaimValue")),w.R7$(3),w.JRh(w.bMT(11,9,"Settings.AccessPolicy.Permission")),w.R7$(4),w.JRh(w.bMT(15,11,"Common.Reserved")),w.R7$(2),w.vxM(16,K.persistenceSetup?16:-1),w.R7$(2),w.Dyx(null==K.accessPolicy?null:K.accessPolicy.policyClaims)}}function mt($e,Qe){if(1&$e&&w.DNE(0,yt,21,13,"table",14),2&$e){const K=w.XpG();w.Y8G("ngIf",(null==K.accessPolicy||null==K.accessPolicy.policyClaims?null:K.accessPolicy.policyClaims.length)>0&&!K.isLoading)}}function xt($e,Qe){if(1&$e&&w.nrm(0,"app-pager",7),2&$e){const K=w.XpG();w.Y8G("totalResults",null==K.accessPolicy||null==K.accessPolicy.policyClaims?null:K.accessPolicy.policyClaims.length)}}let tn=(()=>{class $e{constructor(K,de,ue,ze,Wt,Kt,gn,yn){this.accessPolicyService=K,this.translate=de,this.toastr=ue,this.errorService=ze,this.healthCheckService=Wt,this.dialogService=Kt,this.activatedRoute=gn,this.configService=yn,this.isLoading=!0,this.hasChanged=!1,this.saveDisabled=!1}ngOnInit(){this.activatedRoute.data.subscribe(K=>{this.accessPolicyResolverData=K.accessPolicyObject,this.avaliablePermissions=this.accessPolicyResolverData.permissions;const de=this.accessPolicyResolverData.accessPolicy.policyClaims.find(ue=>"role"===ue.type&&"AdminUI Administrator"===ue.value&&"All"===ue.permission);this.accessPolicy=new Le,this.accessPolicy.version=this.accessPolicyResolverData.accessPolicy.version,this.accessPolicy.policyClaims=this.accessPolicyResolverData.accessPolicy.policyClaims.sort((ue,ze)=>ue===de?-1:ze===de?1:0),this.accessPolicy.policyClaims.forEach(ue=>{Ae.c9.fromISO(ue.value).isValid&&(ue.isDateTime=!0)}),this.avaliableClaimTypes=this.accessPolicyResolverData.claimTypes.sort((ue,ze)=>ue.name.toUpperCase()<ze.name.toUpperCase()?-1:ue.name.toUpperCase()>ze.name.toUpperCase()?1:0),this.avaliableRoles=this.accessPolicyResolverData.roles,this.isLoading=!1}),this.configService.getConfig().subscribe({next:K=>{this.persistenceSetup=K.policyPersistence}})}isAdminUiAdmin(K){return"role"===K.type&&"AdminUI Administrator"===K.value&&"All"===K.permission}canDeactivate(){return!this.hasChanged||(this.dialogService.confirm(),this.dialogService.eventStream)}getClaimType(){this.selectedClaimType=this.avaliableClaimTypes.find(K=>K.name===this.claimType)}warnToSave(){this.toastr.info(this.translate.instant("Notifications.DontForgetToSave"),this.translate.instant("Notifications.Notice"))}addPolicy(K){this.hasChanged=!0,this.accessPolicy.policyClaims.push(K),this.warnToSave()}openDeletePolicyConfirmation(K,de,ue){this.indexToDelete=this.accessPolicy.policyClaims.findIndex(ze=>ze.type===K&&ze.value===de&&ze.permission===ue),this.deleteAccessPolicyModal.show()}closeDeleteModal(){this.indexToDelete=null,this.deleteAccessPolicyModal.hide()}removePolicy(K){this.accessPolicy.policyClaims.splice(K,1),this.hasChanged=!0,this.warnToSave()}updatePolicy(){this.saveDisabled=!0,this.accessPolicyService.updateAccessPolicy(this.accessPolicy).subscribe(K=>{this.accessPolicy=K;const de=this.accessPolicy.policyClaims.find(ue=>"role"===ue.type&&"AdminUI Administrator"===ue.value&&"All"===ue.permission);this.accessPolicy.policyClaims.sort((ue,ze)=>ue===de?-1:ze===de?1:0),this.toastr.success(this.translate.instant("Settings.AccessPolicy.AccessPolicyUpdated"),this.translate.instant("Notifications.Success"))},K=>{"409"===K.code?this.toastr.error(this.translate.instant("Settings.AccessPolicy.AccessPolicyConflict"),this.translate.instant("Notifications.Error")):this.errorService.handleError(K)},()=>{this.saveDisabled=!1}),this.hasChanged=!1}static{this.\u0275fac=function(de){return new(de||$e)(w.rXU(ft),w.rXU(v.c$),w.rXU(k.tw),w.rXU(C.I),w.rXU(Ye.M),w.rXU(H.o),w.rXU(S.nX),w.rXU(x.w))}}static{this.\u0275cmp=w.VBU({type:$e,selectors:[["app-update-accesspolicy"]],viewQuery:function(de,ue){if(1&de&&w.GBs(Be,7),2&de){let ze;w.mGM(ze=w.lsd())&&(ue.deleteAccessPolicyModal=ze.first)}},inputs:{claimType:"claimType",permission:"permission",value:"value"},decls:15,vars:15,consts:[["addPolicyModal",""],["deleteAccessPolicyModal",""],["dateTimePolicy",""],[3,"added","avaliableClaimTypes","avaliableRoles","avaliablePermissions","accessPolicy"],[1,"tw-container","tw-mx-auto"],["id","readOnlyModeWarn",1,"tw-alert","tw-mb-4"],[1,"datatable","hover"],["hidePager","true",3,"totalResults"],["id","save",1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"click","disabled"],[3,"delete","modalId","destructive"],["right",""],["id","addPolicyBtn",1,"tw-btn-success",3,"click"],[1,"tw-font-bold"],[1,"tw-text-sm",3,"innerHTML"],["class","datatable hover",4,"ngIf"],[1,"md:tw-w-1/4"],[1,"tw-hidden","md:tw-table-cell"],[1,"tw-hidden","lg:tw-table-cell"],[1,"tw-w-1"],[1,"sr-only"],[3,"ngClass"],[1,"tw-w-0","tw-truncate"],["class","tw-hidden tw-max-w-0 tw-truncate md:tw-table-cell",4,"ngIf","ngIfElse"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell"],[1,"tw-pill"],[1,"tw-hidden","tw-max-w-0","tw-truncate","md:tw-table-cell"],[1,"removePolicyBtn","tw-btn-link","tw-btn-small","tw-text-red-500"],[1,"removePolicyBtn","tw-btn-link","tw-btn-small","tw-text-red-500",3,"click"],["aria-hidden","true",1,"fas","fa-times"]],template:function(de,ue){if(1&de){const ze=w.RV6();w.j41(0,"app-add-accesspolicy",3,0),w.bIt("added",function(Kt){return w.eBV(ze),w.Njj(ue.addPolicy(Kt))}),w.k0s(),w.j41(2,"div",4),w.DNE(3,Ft,5,3,"app-action-bar")(4,on,7,6,"div",5)(5,un,1,0,"app-simple-loader")(6,mt,1,1,"table",6)(7,xt,1,1,"app-pager",7),w.k0s(),w.j41(8,"app-button-bar")(9,"button",8),w.bIt("click",function(){return w.eBV(ze),w.Njj(ue.updatePolicy())}),w.EFF(10),w.nI1(11,"translate"),w.k0s()(),w.j41(12,"app-delete-confirmation-modal",9,1),w.bIt("delete",function(){return w.eBV(ze),w.Njj(ue.removePolicy(ue.indexToDelete))}),w.k0s(),w.nrm(14,"app-can-deactivate")}if(2&de){const ze=w.sdS(13);w.Y8G("avaliableClaimTypes",ue.avaliableClaimTypes)("avaliableRoles",ue.avaliableRoles)("avaliablePermissions",ue.avaliablePermissions)("accessPolicy",ue.accessPolicy),w.R7$(3),w.vxM(3,ue.persistenceSetup&&!ue.isLoading?3:-1),w.R7$(),w.vxM(4,ue.persistenceSetup?-1:4),w.R7$(),w.vxM(5,ue.isLoading?5:-1),w.R7$(),w.vxM(6,(null==ue.accessPolicy||null==ue.accessPolicy.policyClaims?null:ue.accessPolicy.policyClaims.length)>0&&!ue.isLoading?6:-1),w.R7$(),w.vxM(7,(null==ue.accessPolicy||null==ue.accessPolicy.policyClaims?null:ue.accessPolicy.policyClaims.length)>0&&!ue.isLoading?7:-1),w.R7$(2),w.Y8G("disabled",ue.saveDisabled),w.R7$(),w.SpI(" ",w.bMT(11,13,"Common.Save")," "),w.R7$(2),w.Y8G("modalId",ze)("destructive",!1)}},dependencies:[i.YU,i.bT,$.E,zt.B,Lt.d,Et.n,U.z,_t.w,j,v.D9,se.El],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return $e})();var Sn=u(7468);class Un{}var cn=u(526),di=u(7773),li=u(3519);let At=(()=>{class $e{constructor(K,de,ue,ze,Wt){this.claimTypeService=K,this.permissionService=de,this.accessPolicyService=ue,this.rolesService=ze,this.errorService=Wt}resolve(){const K=this.permissionService.getAvaliablePermissions(),de=this.accessPolicyService.getAccessPolicy(),ue=this.claimTypeService.getClaimTypes(),ze=this.rolesService.getRoles();return(0,Sn.p)([K,de,ue,ze]).pipe((0,d.T)(([Kt,gn,yn,ti])=>{const vi=new Un;return vi.permissions=Kt,vi.claimTypes=yn,vi.accessPolicy=gn,vi.roles=ti,vi},Kt=>{this.errorService.handleError(Kt)}))}static{this.\u0275fac=function(de){return new(de||$e)(w.KVO(cn.X),w.KVO(di.n),w.KVO(ft),w.KVO(li.P),w.KVO(C.I))}}static{this.\u0275prov=w.jDH({token:$e,factory:$e.\u0275fac})}}return $e})();var dt=u(9437),kt=u(5893);let jt=(()=>{class $e{constructor(K,de,ue){this.webhookService=K,this.protectedResourceService=de,this.errorService=ue}resolve(){return(0,Sn.p)({webhooks:this.webhookService.getWebhooks(),protectedResources:this.protectedResourceService.getProtectedResources()}).pipe((0,d.T)(K=>{const de=new Yt;de.webhookConfiguration=K.webhooks;const ue=[];return K.protectedResources.forEach(ze=>{ue.push(...ze.scopes)}),de.scopeNames=ue.map(ze=>ze.name).sort(),de}),(0,dt.W)(K=>(this.errorService.handleError(K),K)))}static{this.\u0275fac=function(de){return new(de||$e)(w.KVO(R.x),w.KVO(kt.x),w.KVO(C.I))}}static{this.\u0275prov=w.jDH({token:$e,factory:$e.\u0275fac})}}return $e})();class Yt{}var vn=u(8416);const mn=[{path:"",redirectTo:"accesspolicy",pathMatch:"full"},{path:"accesspolicy",component:tn,canDeactivate:[vn.M],resolve:{accessPolicyObject:At}},{path:"webhooks",component:he,canDeactivate:[vn.M],resolve:{webhookResolverObject:jt}}];let zn=(()=>{class $e{static{this.\u0275fac=function(de){return new(de||$e)}}static{this.\u0275mod=w.$C({type:$e})}static{this.\u0275inj=w.G2t({imports:[v.h.forChild({extend:!0}),S.iI.forChild(mn),v.h,S.iI]})}}return $e})();var An=u(3730),fn=u(1683),ci=u(2571),gi=u(8455),ni=u(7883),Bi=u(367),Xn=u(5731),Ei=u(7175),pi=u(4193),Gi=u(1993),ji=u(8389),Ti=u(6599);let nt=(()=>{class $e{constructor(K,de){this.http=K,this.headersService=de,this.actionUrl="signingkey",this.headers=de.setHeaders()}getKeys(){const K=new st.Nl;return this.http.get(this.actionUrl,{headers:this.headers,params:K})}deleteKey(K){return this.http.delete(`${this.actionUrl}/${K}`,{headers:this.headers})}static{this.\u0275fac=function(de){return new(de||$e)(w.KVO(st.Qq),w.KVO(Fe.m))}}static{this.\u0275prov=w.jDH({token:$e,factory:$e.\u0275fac,providedIn:"root"})}}return $e})();var It=u(8251),Ct=u(4367),nn=u(275),Qt=u(9812),Tn=u(7677);let St=(()=>{class $e{static{this.\u0275fac=function(de){return new(de||$e)}}static{this.\u0275mod=w.$C({type:$e})}static{this.\u0275inj=w.G2t({providers:[At,ft,ni.i,cn.X,li.P,nt,jt,Qt.I],imports:[zn,i.MD,e.YN,e.X1,g.Q_,v.h,fn.Y,S.iI,ci.A,gi.p,_.XE,Bi.m,It.h,Xn.i,Ei.c,pi.c,Gi.E,ji.w,Ct.N,Ti.Y,nn.W,An.ClaimTypesModule,Tn.N]})}}return $e})()},7101:(et,me,u)=>{"use strict";u.r(me),u.d(me,{UsersModule:()=>St});var i=u(177),e=u(9417),_=u(1583),g=u(7005),S=u(779),v=u(534),f=u(1594),d=u(4438),E=u(5424),m=u(9196),F=u(3853),w=u(3680),C=u(1780);const R=($e,Qe)=>({title:$e,link:Qe}),k=$e=>[$e],O=()=>["active"];function H($e,Qe){1&$e&&(d.j41(0,"option",23),d.EFF(1),d.nI1(2,"translate"),d.k0s()),2&$e&&(d.R7$(),d.JRh(d.bMT(2,1,"Nav.Audits")))}function x($e,Qe){1&$e&&(d.j41(0,"option",24),d.EFF(1),d.nI1(2,"translate"),d.k0s()),2&$e&&(d.R7$(),d.JRh(d.bMT(2,1,"Nav.SessionManagement")))}function $($e,Qe){1&$e&&(d.j41(0,"span",27)(1,"span",28),d.EFF(2),d.nI1(3,"translate"),d.k0s(),d.nrm(4,"span",29),d.k0s()),2&$e&&(d.R7$(2),d.JRh(d.bMT(3,1,"StarterMode.RequiresUpgrade")))}function U($e,Qe){if(1&$e&&(d.j41(0,"li",14)(1,"button",25),d.EFF(2),d.nI1(3,"translate"),d.DNE(4,$,5,3,"span",26),d.k0s()()),2&$e){const K=d.XpG();d.R7$(),d.Y8G("routerLinkActive",d.lJ4(5,O)),d.R7$(),d.SpI(" ",d.bMT(3,3,"Nav.Audits")," "),d.R7$(2),d.Y8G("ngIf",null==K.licenseInfo?null:K.licenseInfo.isStarterLicense())}}function G($e,Qe){1&$e&&(d.j41(0,"li",14)(1,"button",30),d.EFF(2),d.nI1(3,"translate"),d.k0s()()),2&$e&&(d.R7$(),d.Y8G("routerLinkActive",d.lJ4(4,O)),d.R7$(),d.JRh(d.bMT(3,2,"Nav.SessionManagement")))}function ie($e,Qe){1&$e&&(d.j41(0,"div",31)(1,"p"),d.EFF(2),d.nI1(3,"translate"),d.nI1(4,"translate"),d.k0s()()),2&$e&&(d.R7$(2),d.Lme("",d.bMT(3,2,"Users.Delete.DeletedUser")," ",d.bMT(4,4,"Users.Delete.AuditingPurposes"),""))}let le=(()=>{class $e{constructor(K,de,ue,ze,Wt){this.r=K,this.route=de,this.errorService=ue,this.configService=ze,this.licenseService=Wt,this.enableAuditing=!1}ngOnInit(){this.userDataSubscription=this.route.data.subscribe({next:K=>{this.user=K.user},error:K=>{this.errorService.handleError(K)}}),this.configSubscription=this.configService.getConfig().subscribe({next:K=>{this.showSessionManagement=K.featureFlagOptions.sessionManagementEnabled,this.enableAuditing=K.enableAuditing},error:K=>{this.errorService.handleError(K)}}),this.licenseService.getLicenseInfo().pipe((0,f.$)()).subscribe({next:K=>{this.licenseInfo=K}})}mobRoute(K){this.r.navigate([K],{relativeTo:this.route})}ngOnDestroy(){this.userDataSubscription.unsubscribe()}static{this.\u0275fac=function(de){return new(de||$e)(d.rXU(_.Ix),d.rXU(_.nX),d.rXU(E.I),d.rXU(m.w),d.rXU(F.X))}}static{this.\u0275cmp=d.VBU({type:$e,selectors:[["ng-component"]],decls:57,vars:67,consts:[[3,"title","totpEnabled","crumbs","hasTabs"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","details"],["value","roles"],["value","additionaldetails"],["value","applications"],["value","userlogins"],["value","useraudits",4,"ngIf"],["value","sessions",4,"ngIf"],["role","tablist",1,"tabs","tw-hidden","md:tw-flex"],[1,"tabs__item"],["type","button","routerLink","details","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","roles","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","additionaldetails","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","applications","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","userlogins","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["class","tabs__item",4,"ngIf"],["id","editUser"],["id","userDeleted","class","tw-alert-danger tw-container tw-mx-auto tw-mb-6",4,"ngIf"],["value","useraudits"],["value","sessions"],["id","tabAudit","type","button","routerLink","useraudits","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","upgradeSymbol",4,"ngIf"],["id","upgradeSymbol"],[1,"sr-only"],["aria-hidden","true",1,"tw-text-secondary-500","far","fa-arrow-alt-circle-up","tw-pl-1"],["type","button","routerLink","sessions","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","userDeleted",1,"tw-alert-danger","tw-container","tw-mx-auto","tw-mb-6"]],template:function(de,ue){1&de&&(d.j41(0,"app-title-bar",0),d.nI1(1,"translate"),d.nI1(2,"localize"),d.qex(3,1),d.j41(4,"div",2)(5,"label",3),d.EFF(6),d.nI1(7,"translate"),d.k0s(),d.j41(8,"div",4)(9,"select",5),d.bIt("change",function(Wt){return ue.mobRoute(Wt.target.value)}),d.j41(10,"option",6),d.EFF(11),d.nI1(12,"translate"),d.k0s(),d.j41(13,"option",6),d.EFF(14),d.nI1(15,"translate"),d.k0s(),d.j41(16,"option",7),d.EFF(17),d.nI1(18,"translate"),d.k0s(),d.j41(19,"option",8),d.EFF(20),d.nI1(21,"translate"),d.k0s(),d.j41(22,"option",9),d.EFF(23),d.nI1(24,"translate"),d.k0s(),d.j41(25,"option",10),d.EFF(26),d.nI1(27,"translate"),d.k0s(),d.DNE(28,H,3,3,"option",11)(29,x,3,3,"option",12),d.k0s()()(),d.j41(30,"ul",13),d.nI1(31,"translate"),d.j41(32,"li",14)(33,"button",15),d.EFF(34),d.nI1(35,"translate"),d.k0s()(),d.j41(36,"li",14)(37,"button",16),d.EFF(38),d.nI1(39,"translate"),d.k0s()(),d.j41(40,"li",14)(41,"button",17),d.EFF(42),d.nI1(43,"translate"),d.k0s()(),d.j41(44,"li",14)(45,"button",18),d.EFF(46),d.nI1(47,"translate"),d.k0s()(),d.j41(48,"li",14)(49,"button",19),d.EFF(50),d.nI1(51,"translate"),d.k0s()(),d.DNE(52,U,5,6,"li",20)(53,G,4,5,"li",20),d.k0s(),d.bVm(),d.k0s(),d.j41(54,"div",21),d.DNE(55,ie,5,6,"div",22),d.nrm(56,"router-outlet"),d.k0s()),2&de&&(d.Y8G("title",ue.user.firstName+" "+ue.user.lastName)("totpEnabled",ue.user.totpEnabled)("crumbs",d.eq3(60,k,d.l_i(57,R,d.bMT(1,27,"Nav.Users"),d.bMT(2,29,"/users"))))("hasTabs",!0),d.R7$(6),d.JRh(d.bMT(7,31,"Nav.SubMenu")),d.R7$(5),d.SpI("",d.bMT(12,33,"Nav.SubMenu"),"..."),d.R7$(3),d.JRh(d.bMT(15,35,"Nav.Details")),d.R7$(3),d.JRh(d.bMT(18,37,"Nav.Roles")),d.R7$(3),d.JRh(d.bMT(21,39,"Nav.Additional Details")),d.R7$(3),d.JRh(d.bMT(24,41,"Nav.Applications")),d.R7$(3),d.JRh(d.bMT(27,43,"Nav.External Logins")),d.R7$(2),d.Y8G("ngIf",ue.enableAuditing),d.R7$(),d.Y8G("ngIf",ue.showSessionManagement),d.R7$(),d.BMQ("aria-label",d.bMT(31,45,"Nav.SubMenu")),d.R7$(3),d.Y8G("routerLinkActive",d.lJ4(62,O)),d.R7$(),d.JRh(d.bMT(35,47,"Nav.Details")),d.R7$(3),d.Y8G("routerLinkActive",d.lJ4(63,O)),d.R7$(),d.JRh(d.bMT(39,49,"Nav.Roles")),d.R7$(3),d.Y8G("routerLinkActive",d.lJ4(64,O)),d.R7$(),d.JRh(d.bMT(43,51,"Nav.Additional Details")),d.R7$(3),d.Y8G("routerLinkActive",d.lJ4(65,O)),d.R7$(),d.JRh(d.bMT(47,53,"Nav.Applications")),d.R7$(3),d.Y8G("routerLinkActive",d.lJ4(66,O)),d.R7$(),d.JRh(d.bMT(51,55,"Nav.External Logins")),d.R7$(2),d.Y8G("ngIf",ue.enableAuditing),d.R7$(),d.Y8G("ngIf",ue.showSessionManagement),d.R7$(2),d.Y8G("ngIf",ue.user.isDeleted))},dependencies:[_.n3,_.Wk,_.wQ,i.bT,e.xH,e.y7,w.z,C.D9,g.tl],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return $e})();var L=u(1413),Q=u(6354),te=u(8412),I=u(9172),oe=u(1397),Y=u(1986),_e=u(9838),Oe=u(4313),Re=u(7263),xe=u(5602),Je=u(345),Te=u(5794),we=u(7883),he=u(7156),Le=u(7294),Ae=u(7384),st=u(8698),Fe=u(9550),ft=u(316),Ye=u(6697),zt=function($e){return $e[$e.None=0]="None",$e[$e.Add=1]="Add",$e[$e.AddAnother=2]="AddAnother",$e[$e.AddAndConfigure=3]="AddAndConfigure",$e}(zt||{}),Lt=u(4589),Et=u(526),_t=u(6801),J=u(4701);const X=["claimsComponent"],q=["addUserModal"],Se=()=>({animated:!1,backdrop:"static"});function Ee($e,Qe){1&$e&&(d.j41(0,"h2",37),d.nrm(1,"span",38),d.j41(2,"span",24),d.EFF(3),d.nI1(4,"translate"),d.k0s(),d.j41(5,"span")(6,"a",39),d.EFF(7),d.nI1(8,"translate"),d.k0s()()()),2&$e&&(d.R7$(3),d.JRh(d.bMT(4,2,"Users.Password.DemoTitle")),d.R7$(4),d.SpI(" ",d.bMT(8,4,"Users.Password.DemoLink")," "))}function lt($e,Qe){if(1&$e&&(d.j41(0,"div")(1,"div",33),d.DNE(2,Ee,9,6,"h2",34),d.j41(3,"app-form-row",16),d.nrm(4,"input",35),d.j41(5,"ul",36)(6,"li"),d.EFF(7),d.nI1(8,"translate"),d.k0s(),d.j41(9,"li"),d.EFF(10),d.nI1(11,"translate"),d.k0s(),d.j41(12,"li"),d.EFF(13),d.nI1(14,"translate"),d.k0s(),d.j41(15,"li"),d.EFF(16),d.nI1(17,"translate"),d.k0s(),d.j41(18,"li"),d.EFF(19),d.nI1(20,"translate"),d.k0s()()()()()),2&$e){const K=d.XpG();d.R7$(2),d.Y8G("ngIf",K.isDemo),d.R7$(),d.Y8G("id","Password")("label","Users.Password.Title")("isLast",!0),d.R7$(4),d.JRh(d.bMT(8,9,"Users.Password.Requirements.1")),d.R7$(3),d.JRh(d.bMT(11,11,"Users.Password.Requirements.2")),d.R7$(3),d.JRh(d.bMT(14,13,"Users.Password.Requirements.3")),d.R7$(3),d.JRh(d.bMT(17,15,"Users.Password.Requirements.4")),d.R7$(3),d.JRh(d.bMT(20,17,"Users.Password.Requirements.5"))}}function Ue($e,Qe){1&$e&&d.nrm(0,"span",40)}function at($e,Qe){1&$e&&d.nrm(0,"span",40)}function Ot($e,Qe){1&$e&&d.nrm(0,"span",40)}let pt=(()=>{class $e{constructor(K,de,ue,ze,Wt,Kt,gn,yn,ti,vi,bi){this.userService=K,this.claimTypesService=de,this.errorService=ue,this.translate=ze,this.router=Wt,this.fb=Kt,this.toastr=gn,this.localize=yn,this.securityService=ti,this.healthCheckService=vi,this.configService=bi,this.addAnother=!1,this.canCreatePassword=!1,this.isDemo=!1,this.onSubmitted=new d.bkB,this.inFlight=!1,this.addButtonClick=zt,this.addClicked=zt.None}keydown(K){"Enter"===K.key&&"addUserSubmit"!==K.srcElement.id&&this.claimsComponent.isFormValid()&&this.addUserForm.valid&&this.addUser()}ngOnInit(){this.createForms(),this.configService.getConfig().pipe((0,Ye.s)(1)).subscribe(K=>{null!=K.featureFlagOptions.addUserPassword&&(this.canCreatePassword=!0===K.featureFlagOptions.addUserPassword),this.isDemo=this.securityService.licenseType===Lt.G.Demo||this.securityService.licenseType===Lt.G.Starter,this.isDemo&&(this.canCreatePassword=!0)}),this.claimTypesService.getClaimTypes(null,null,!0).subscribe(K=>{this.claimTypes=K},K=>{this.errorService.handleError(K)})}addAnotherUser(){this.addAnother=!0,this.addClicked=zt.AddAnother,this.addUser()}addUser(K){let de;this.addClicked===zt.None&&(this.addClicked=K?zt.AddAndConfigure:zt.Add),de=JSON.parse(JSON.stringify(this.addUserForm.value)),Object.assign(de,{claims:[]});for(const ue of this.claimsComponent.requiredClaims){if(null===ue.value)continue;let ze=ue.value;"DateTime"===ue.format&&(ze=ue.value),"Int"===ue.format&&(ze=ze.toString()),de.claims.push({claimTypeId:ue.typeId,value:ze,type:ue.type})}!1===this.canCreatePassword&&(de.password=null),this.inFlight=!0,this.userService.addUser(de).subscribe(ue=>{this.inFlight=!1,this.addClicked=zt.None,this.claimsComponent.resetForm(),this.addUserForm.reset();const ze=this.translate.instant("Notifications.AccountCreated"),Wt=this.translate.instant("Users.Singular")+" "+de.username+" "+this.translate.instant("Common.Created").toLowerCase();this.toastr.success(ze,Wt),K&&ue.headers.get("location")?this.addUserAndConfigure(ue.headers.get("location")):(this.addAnother||this.hide(),this.addAnother=!1,this.onSubmitted.emit(!0))},ue=>{this.inFlight=!1,this.addClicked=zt.None,this.addAnother=!1,this.errorService.handleError(ue)})}addUserAndConfigure(K){const de=K.lastIndexOf("/"),ue=K.substring(de+1),ze=[this.localize.translateRoute("/users"),ue];this.router.navigate(ze)}createForms(){this.addUserForm=this.fb.group({username:["",[e.k0.required,(0,Re.Zt)()]],email:["",ft.D],firstName:["",e.k0.required],lastName:["",e.k0.required],password:["",e.k0.pattern("^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$")]})}hide(){this.addUserModal.hide(),this.addUserForm.reset()}show(){this.addUserModal.show()}ngOnDestroy(){this.hide()}static{this.\u0275fac=function(de){return new(de||$e)(d.rXU(xe.D),d.rXU(Et.X),d.rXU(E.I),d.rXU(C.c$),d.rXU(_.Ix),d.rXU(e.ze),d.rXU(Te.tw),d.rXU(g.QG),d.rXU(we.i),d.rXU(_t.M),d.rXU(m.w))}}static{this.\u0275cmp=d.VBU({type:$e,selectors:[["app-add-user"]],viewQuery:function(de,ue){if(1&de&&(d.GBs(X,7),d.GBs(q,7)),2&de){let ze;d.mGM(ze=d.lsd())&&(ue.claimsComponent=ze.first),d.mGM(ze=d.lsd())&&(ue.addUserModal=ze.first)}},hostBindings:function(de,ue){1&de&&d.bIt("keydown",function(Wt){return ue.keydown(Wt)},!1,d.EBC)},outputs:{onSubmitted:"onSubmitted"},decls:49,vars:39,consts:[["addUserModal","bs-modal"],["claimsComponent",""],["bsModal","","id","addUserModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","scrollbars"],["autocomplete","off",1,"form",3,"formGroup"],[3,"id","label"],["id","FirstName","type","text","name","FirstName","formControlName","firstName","required","",1,"tw-form-control"],["id","LastName","type","text","name","LastName","formControlName","lastName","required","",1,"tw-form-control"],["id","Username","type","text","name","username","formControlName","username","required","",1,"tw-form-control"],[3,"id","label","isLast"],["id","Email","type","email","name","email","formControlName","email","required","",1,"tw-form-control"],["id","requiredClaimsComponent",3,"claimTypes"],[3,"formGroup"],[4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items"],[1,"tw-mr-auto"],[1,"xs:tw-mr-3"],["type","submit","id","addUserSubmit",1,"tw-btn-success",3,"click","disabled"],["class","fad fa-spinner-third fa-spin tw-text-secondary-500 tw-mr-2 tw-ml-2",4,"ngIf"],[1,"tw-hidden","xs:tw-inline","md:tw-mr-3"],["id","submitAndConfigure",1,"tw-btn-success",3,"click","disabled"],[1,"tw-hidden","md:tw-inline"],["type","submit","id","addUserReSubmit",1,"tw-btn",3,"click","disabled"],[1,"tw-btn-link","tw--mr-4",3,"click"],[1,"tw-bg-red-100","tw-border","tw-border-red-500","tw-text-red-500","tw-mb-4","tw-p-4","tw-overflow-hidden","tw-rounded"],["class","tw-flex items-center tw-bg-red-500 tw-text-white tw-text-sm tw--mx-4 tw--mt-4 tw-mb-3 tw-py-3 tw-px-4",4,"ngIf"],["id","Password","type","password","name","Password","formControlName","password","aria-labelledby","PasswordHelp","required","",1,"tw-form-control","tw-border-red-300"],["id","PasswordHelp",1,"tw-form-text-danger"],[1,"tw-flex","items-center","tw-bg-red-500","tw-text-white","tw-text-sm","tw--mx-4","tw--mt-4","tw-mb-3","tw-py-3","tw-px-4"],["aria-hidden","true",1,"fas","fa-exclamation-triangle","tw-mr-2"],["href","documentation/Users/Set_User_Password.html","target","_blank",1,"tw-text-white","tw-underline","hover:tw-no-underline"],[1,"fad","fa-spinner-third","fa-spin","tw-text-secondary-500","tw-mr-2","tw-ml-2"]],template:function(de,ue){if(1&de){const ze=d.RV6();d.j41(0,"div",2,0)(2,"div",3)(3,"div",4)(4,"div",5)(5,"h5",6),d.EFF(6),d.nI1(7,"translate"),d.k0s(),d.j41(8,"button",7),d.bIt("click",function(){return d.eBV(ze),d.Njj(ue.hide())}),d.nrm(9,"span",8),d.j41(10,"span",9),d.EFF(11),d.nI1(12,"translate"),d.k0s()()(),d.j41(13,"div",10)(14,"form",11)(15,"app-form-row",12),d.nrm(16,"input",13),d.k0s(),d.j41(17,"app-form-row",12),d.nrm(18,"input",14),d.k0s(),d.j41(19,"app-form-row",12),d.nrm(20,"input",15),d.k0s(),d.j41(21,"app-form-row",16),d.nrm(22,"input",17),d.k0s()(),d.nrm(23,"app-required-claims-form",18,1),d.j41(25,"form",19),d.DNE(26,lt,21,19,"div",20),d.k0s()(),d.nrm(27,"div",21),d.j41(28,"div",22)(29,"div",23)(30,"div",24)(31,"span",25)(32,"button",26),d.bIt("click",function(){return d.eBV(ze),d.Njj(ue.addUser())}),d.EFF(33),d.nI1(34,"translate"),d.DNE(35,Ue,1,0,"span",27),d.k0s()(),d.j41(36,"span",28)(37,"button",29),d.bIt("click",function(){return d.eBV(ze),d.Njj(ue.addUser(!0))}),d.EFF(38),d.nI1(39,"translate"),d.DNE(40,at,1,0,"span",27),d.k0s()(),d.j41(41,"span",30)(42,"button",31),d.bIt("click",function(){return d.eBV(ze),d.Njj(ue.addAnotherUser())}),d.EFF(43),d.nI1(44,"translate"),d.DNE(45,Ot,1,0,"span",27),d.k0s()()(),d.j41(46,"button",32),d.bIt("click",function(){return d.eBV(ze),d.Njj(ue.hide())}),d.EFF(47),d.nI1(48,"translate"),d.k0s()()()()()()}if(2&de){const ze=d.sdS(24);d.Y8G("config",d.lJ4(38,Se)),d.R7$(6),d.JRh(d.bMT(7,26,"Users.NewUser")),d.R7$(5),d.JRh(d.bMT(12,28,"Common.Close")),d.R7$(3),d.Y8G("formGroup",ue.addUserForm),d.R7$(),d.Y8G("id","FirstName")("label","Users.FirstName"),d.R7$(2),d.Y8G("id","LastName")("label","Users.LastName"),d.R7$(2),d.Y8G("id","Username")("label","Users.Username"),d.R7$(2),d.Y8G("id","Email")("label","Users.Email")("isLast",!ue.canCreatePassword),d.R7$(2),d.Y8G("claimTypes",ue.claimTypes),d.R7$(2),d.Y8G("formGroup",ue.addUserForm),d.R7$(),d.Y8G("ngIf",ue.canCreatePassword),d.R7$(6),d.Y8G("disabled",!ue.addUserForm.valid||!ze.isFormValid()||ue.inFlight),d.R7$(),d.SpI(" ",d.bMT(34,30,"Common.Save")," "),d.R7$(2),d.Y8G("ngIf",ue.inFlight&&ue.addClicked===ue.addButtonClick.Add),d.R7$(2),d.Y8G("disabled",ue.addAnother||!ue.addUserForm.valid||!ze.isFormValid()||ue.inFlight),d.R7$(),d.SpI(" ",d.bMT(39,32,"Common.SaveAndConfigure")," "),d.R7$(2),d.Y8G("ngIf",ue.inFlight&&ue.addClicked===ue.addButtonClick.AddAndConfigure),d.R7$(2),d.Y8G("disabled",!ue.addUserForm.valid||!ze.isFormValid()||ue.inFlight),d.R7$(),d.SpI(" ",d.bMT(44,34,"Common.SaveAndAdd")," "),d.R7$(2),d.Y8G("ngIf",ue.inFlight&&ue.addClicked===ue.addButtonClick.AddAnother),d.R7$(2),d.JRh(d.bMT(48,36,"Common.Cancel"))}},dependencies:[i.bT,e.qT,e.me,e.BC,e.cb,e.YS,e.j4,e.JD,S.hZ,st.Y,J.u,C.D9],encapsulation:2})}}return $e})();const it=["addUserModal"],Ht=($e,Qe)=>({"tw-alert":$e,"tw-alert-warning":Qe}),en=$e=>({limit:$e,type:"users",href:"https://www.identityserver.com/products/adminui/order-now?index=2&name=Enterprise"}),rt=($e,Qe)=>({"fad fa-pencil":$e,"fas fa-eye":Qe});function Nt($e,Qe){if(1&$e){const K=d.RV6();d.j41(0,"app-add-user",30,1),d.bIt("onSubmitted",function(ue){d.eBV(K);const ze=d.XpG();return d.Njj(ze.onSubmitted(ue))}),d.k0s()}}function ve($e,Qe){if(1&$e&&(d.j41(0,"div",31),d.nrm(1,"span",32),d.nI1(2,"translate"),d.k0s()),2&$e){const K=d.XpG();d.Y8G("ngClass",d.l_i(5,Ht,K.limitReached,K.overLimit)),d.R7$(),d.Y8G("innerHTML",d.i5U(2,2,"Common.QuotaLimit",d.eq3(8,en,K.licenseInfo.maxUsers)),d.npT)}}function ae($e,Qe){1&$e&&(d.j41(0,"span"),d.nrm(1,"span",33),d.EFF(2),d.nI1(3,"translate"),d.k0s()),2&$e&&(d.R7$(2),d.SpI(" ",d.bMT(3,1,"Auditing.ShowFilters")," "))}function j($e,Qe){1&$e&&(d.j41(0,"span"),d.nrm(1,"span",34),d.EFF(2),d.nI1(3,"translate"),d.k0s()),2&$e&&(d.R7$(2),d.SpI(" ",d.bMT(3,1,"Auditing.HideFilters")," "))}function se($e,Qe){if(1&$e){const K=d.RV6();d.j41(0,"div",38)(1,"label",39),d.EFF(2),d.nI1(3,"translate"),d.k0s(),d.j41(4,"select",40),d.mxI("ngModelChange",function(ue){d.eBV(K);const ze=d.XpG(2);return d.DH7(ze.pageSize,ue)||(ze.pageSize=ue),d.Njj(ue)}),d.bIt("change",function(){d.eBV(K);const ue=d.XpG(2);return d.Njj(ue.setPageLength(+ue.pageSize))}),d.j41(5,"option",41),d.EFF(6),d.nI1(7,"translate"),d.k0s(),d.j41(8,"option",42),d.EFF(9),d.nI1(10,"translate"),d.k0s(),d.j41(11,"option",43),d.EFF(12),d.nI1(13,"translate"),d.k0s()()()}if(2&$e){const K=d.XpG(2);d.R7$(2),d.Lme("",K.pageSize," ",d.bMT(3,6,"Nav.PerPage"),""),d.R7$(2),d.R50("ngModel",K.pageSize),d.R7$(2),d.SpI("25 ",d.bMT(7,8,"Nav.PerPage"),""),d.R7$(3),d.SpI("50 ",d.bMT(10,10,"Nav.PerPage"),""),d.R7$(3),d.SpI("100 ",d.bMT(13,12,"Nav.PerPage"),"")}}function Be($e,Qe){if(1&$e){const K=d.RV6();d.qex(0,44),d.j41(1,"button",45),d.bIt("click",function(){d.eBV(K);const ue=d.XpG(2);return d.Njj(ue.addModal.show())}),d.EFF(2),d.nI1(3,"translate"),d.k0s(),d.bVm()}if(2&$e){const K=d.XpG(2);d.R7$(),d.Y8G("disabled",K.limitReached),d.R7$(),d.SpI(" ",d.bMT(3,2,"Users.AddUser")," ")}}function qe($e,Qe){if(1&$e&&(d.j41(0,"app-action-bar"),d.qex(1,35),d.DNE(2,se,14,14,"div",36),d.bVm(),d.DNE(3,Be,4,4,"ng-container",37),d.k0s()),2&$e){const K=d.XpG();d.R7$(2),d.Y8G("ngIf",(null==K.pagedResult?null:K.pagedResult.results.length)>0),d.R7$(),d.Y8G("ngIf",!K.isUserManagerReadOnly)}}function ht($e,Qe){1&$e&&d.nrm(0,"app-simple-loader")}function Ft($e,Qe){1&$e&&(d.j41(0,"div",46)(1,"div"),d.EFF(2),d.nI1(3,"translate"),d.k0s()()),2&$e&&(d.R7$(2),d.JRh(d.bMT(3,1,"Users.NoUsersFound")))}function on($e,Qe){1&$e&&(d.j41(0,"span",67)(1,"span",9),d.EFF(2),d.nI1(3,"translate"),d.k0s()()),2&$e&&(d.R7$(2),d.JRh(d.bMT(3,1,"Users.Filter.Deleted")))}function un($e,Qe){1&$e&&(d.j41(0,"span",68)(1,"span",9),d.EFF(2),d.nI1(3,"translate"),d.k0s()()),2&$e&&(d.R7$(2),d.JRh(d.bMT(3,1,"Users.Filter.Blocked")))}function Mn($e,Qe){1&$e&&(d.j41(0,"span",69),d.EFF(1),d.nI1(2,"translate"),d.k0s()),2&$e&&(d.R7$(),d.SpI(" ",d.bMT(2,1,"Users.Filter.Deleted")," "))}function kn($e,Qe){1&$e&&(d.j41(0,"span",70),d.EFF(1),d.nI1(2,"translate"),d.k0s()),2&$e&&(d.R7$(),d.SpI(" ",d.bMT(2,1,"Users.Filter.Blocked")," "))}function Bn($e,Qe){1&$e&&(d.j41(0,"span",9),d.EFF(1),d.nI1(2,"translate"),d.k0s()),2&$e&&(d.R7$(),d.JRh(d.bMT(2,1,"Common.Edit")))}function Tt($e,Qe){1&$e&&(d.j41(0,"span",9),d.EFF(1),d.nI1(2,"translate"),d.k0s()),2&$e&&(d.R7$(),d.JRh(d.bMT(2,1,"Common.View")))}function Rn($e,Qe){if(1&$e){const K=d.RV6();d.j41(0,"tr",54)(1,"td",55),d.bIt("click",function(){const ue=d.eBV(K).$implicit,ze=d.XpG(2);return d.Njj(ze.viewOrEditUser(ue))}),d.DNE(2,on,4,3,"span",56)(3,un,4,3,"span",57),d.j41(4,"b",58),d.EFF(5),d.k0s()(),d.j41(6,"td",59),d.bIt("click",function(){const ue=d.eBV(K).$implicit,ze=d.XpG(2);return d.Njj(ze.viewOrEditUser(ue))}),d.EFF(7),d.k0s(),d.j41(8,"td",60),d.bIt("click",function(){const ue=d.eBV(K).$implicit,ze=d.XpG(2);return d.Njj(ze.viewOrEditUser(ue))}),d.EFF(9),d.k0s(),d.j41(10,"td",61),d.bIt("click",function(){const ue=d.eBV(K).$implicit,ze=d.XpG(2);return d.Njj(ze.viewOrEditUser(ue))}),d.DNE(11,Mn,3,3,"span",62)(12,kn,3,3,"span",63),d.k0s(),d.j41(13,"td",61),d.bIt("click",function(){const ue=d.eBV(K).$implicit,ze=d.XpG(2);return d.Njj(ze.viewOrEditUser(ue))}),d.j41(14,"button",64),d.bIt("click",function(){const ue=d.eBV(K).$implicit,ze=d.XpG(2);return d.Njj(ze.viewOrEditUser(ue))}),d.nrm(15,"span",65),d.j41(16,"span",9),d.EFF(17),d.nI1(18,"translate"),d.k0s(),d.DNE(19,Bn,3,3,"span",66)(20,Tt,3,3,"span",66),d.k0s()()()}if(2&$e){const K=Qe.$implicit,de=d.XpG(2);d.AVh("inactive",K.isBlocked||K.isDeleted||de.overLimit),d.R7$(2),d.Y8G("ngIf",K.isDeleted),d.R7$(),d.Y8G("ngIf",K.isBlocked&&!K.isDeleted),d.R7$(2),d.SpI(" ",K.username," "),d.R7$(2),d.Lme(" ",K.firstName," ",K.lastName," "),d.R7$(2),d.SpI(" ",K.email," "),d.R7$(2),d.Y8G("ngIf",K.isDeleted),d.R7$(),d.Y8G("ngIf",K.isBlocked&&!K.isDeleted),d.R7$(3),d.Y8G("ngClass",d.l_i(16,rt,!de.isUserManagerReadOnly&&!de.overLimit,de.isUserManagerReadOnly||de.overLimit)),d.R7$(2),d.JRh(d.bMT(18,14,"Common.Edit")),d.R7$(2),d.Y8G("ngIf",!de.isUserManagerReadOnly&&!de.overLimit),d.R7$(),d.Y8G("ngIf",de.isUserManagerReadOnly||de.overLimit)}}function Gt($e,Qe){if(1&$e&&(d.j41(0,"table",47)(1,"thead")(2,"tr")(3,"th",48),d.EFF(4),d.nI1(5,"translate"),d.k0s(),d.j41(6,"th",49),d.EFF(7),d.nI1(8,"translate"),d.k0s(),d.j41(9,"th",50),d.EFF(10),d.nI1(11,"translate"),d.k0s(),d.j41(12,"th",51)(13,"span",9),d.EFF(14),d.nI1(15,"translate"),d.k0s()(),d.j41(16,"th",51)(17,"span",9),d.EFF(18),d.nI1(19,"translate"),d.k0s()()()(),d.j41(20,"tbody",52),d.DNE(21,Rn,21,19,"tr",53),d.k0s()()),2&$e){const K=d.XpG();d.R7$(4),d.SpI(" ",d.bMT(5,6,"Users.Username")," "),d.R7$(3),d.SpI(" ",d.bMT(8,8,"Users.FullName")," "),d.R7$(3),d.SpI(" ",d.bMT(11,10,"Users.Email")," "),d.R7$(4),d.JRh(d.bMT(15,12,"Common.Status")),d.R7$(4),d.JRh(d.bMT(19,14,"Common.Actions")),d.R7$(3),d.Y8G("ngForOf",K.pagedResult.results)}}function ct($e,Qe){if(1&$e){const K=d.RV6();d.j41(0,"app-pager",71),d.bIt("onGoToPage",function(ue){d.eBV(K);const ze=d.XpG();return d.Njj(ze.goToPage(ue))}),d.k0s()}if(2&$e){const K=d.XpG();d.Y8G("totalResults",null==K.pagedResult?null:K.pagedResult.totalCount)("currentPage",K.page)("lastPage",null==K.pagedResult?null:K.pagedResult.pageCount)}}let yt=(()=>{class $e extends Oe.if{get limitReached(){return this.licenseInfo?.userLimitReached??!1}get overLimit(){return this.licenseInfo?.overUserLimit??!1}constructor(K,de,ue,ze,Wt,Kt,gn,yn,ti){super(gn,Wt,!0),this.router=K,this.userService=de,this.errorService=ue,this.titleService=ze,this.localize=Kt,this.securityService=yn,this.licenseService=ti,this.activeFilters=["active"],this.activeAdvancedFilters=[],this.pageSize=25,this.page=1,this.term="",this.showAdvancedFilters=!1,this.showingActive=!0,this.showingBlocked=!1,this.showingDeleted=!1,this.filterStream=new L.B,this.advancedFilterStream=new L.B,this.pageStream=new L.B,this.pageSizeStream=new L.B,this.mapSearchTerm=this.mapSearchTerm.bind(this)}ngOnInit(){this.titleService.setTitle(this.translate.instant("Nav.Users")+` - ${_e.$9.SITE_TITLE}`),this.isLoading=!0;const K=this.pageStream.pipe((0,Q.T)(Kt=>(this.page=Kt,{searchTerm:this.term,page:Kt,pageSize:this.pageSize,filters:this.activeFilters}))),de=this.pageSizeStream.pipe((0,Q.T)(Kt=>(this.pageSize=Kt,{searchTerm:this.term,page:this.page,pageSize:Kt,filters:this.activeFilters}))),ue=this.filterStream.pipe((0,Q.T)(Kt=>({searchTerm:this.term,page:this.page,pageSize:this.pageSize,filters:Kt}))),ze=this.advancedFilterStream.pipe((0,Q.T)(Kt=>({searchTerm:this.term,page:this.page,pageSize:this.pageSize,filters:this.activeFilters,advancedFilters:Kt})));K.pipe((0,te.X)(de),(0,te.X)(this.searchSource),(0,te.X)(ue),(0,te.X)(ze),(0,te.X)(this.enterKeySource),(0,I.Z)({searchTerm:this.term,page:this.page,pageSize:this.pageSize,filters:this.activeFilters,advancedFilters:this.activeAdvancedFilters}),(0,oe.Z)(Kt=>(this.isLoading=!0,this.userService.getUsersLightweight(Kt.searchTerm,Kt.page,Kt.pageSize,Kt.filters,Kt.advancedFilters).pipe((0,Y.c)(200))))).subscribe({next:Kt=>{this.pagedResult=Kt,this.isLoading=!1},error:Kt=>{500===Kt.status?this.handleInternalServerError():this.errorService.handleError(Kt),this.isLoading=!1}}),this.licenseService.getLicenseInfo().pipe((0,f.$)()).subscribe({next:Kt=>{this.licenseInfo=Kt}})}mapSearchTerm(K){return this.term=K,{searchTerm:K,page:1,pageSize:this.pageSize,filters:this.activeFilters,advancedFilters:this.activeAdvancedFilters}}editUser(K){const de=this.localize.translateRoute("/users");this.router.navigate([de,K.subject])}viewUser(K){const de=this.localize.translateRoute("/users/view");this.router.navigate([de,K.subject])}viewOrEditUser(K){this.isUserManagerReadOnly||this.overLimit?this.viewUser(K):this.editUser(K)}goToPage(K){this.pageStream.next(K)}setPageLength(K){this.page=1,this.pageSizeStream.next(K)}filter(K){if(this.activeFilters.includes(K)){const de=this.activeFilters.indexOf(K);this.activeFilters.splice(de,1)}else this.activeFilters.push(K);this.page=1,this.filterStream.next(this.activeFilters)}advancedFilter(K){if(this.activeAdvancedFilters.includes(K)){const de=this.activeAdvancedFilters.indexOf(K);this.activeAdvancedFilters.splice(de,1)}else this.activeAdvancedFilters.push(K);this.page=1,this.advancedFilterStream.next(this.activeAdvancedFilters)}isShowing(K){return this.activeFilters.includes(K)}onSubmitted(K){K&&(this.filterStream.next(this.activeFilters),this.advancedFilterStream.next(this.activeAdvancedFilters))}get isUserManagerReadOnly(){return(0,Re.zG)(this.securityService.userPermissions)}handleInternalServerError(){this.toastr.error(this.translate.instant("Users.Filter.StoredProcedureErrorMessage"),this.translate.instant("Notifications.Error"))}static{this.\u0275fac=function(de){return new(de||$e)(d.rXU(_.Ix),d.rXU(xe.D),d.rXU(E.I),d.rXU(Je.hE),d.rXU(C.c$),d.rXU(g.QG),d.rXU(Te.tw),d.rXU(we.i),d.rXU(F.X))}}static{this.\u0275cmp=d.VBU({type:$e,selectors:[["ng-component"]],viewQuery:function(de,ue){if(1&de&&d.GBs(it,5),2&de){let ze;d.mGM(ze=d.lsd())&&(ue.addModal=ze.first)}},features:[d.Vt3],decls:46,vars:37,consts:[["searchUserName",""],["addUserModal",""],["id","addUserComponent",3,"onSubmitted",4,"ngIf"],["id","userList",1,"tw-container","tw-mx-auto"],["id","quotaLimitAlert","role","alert","class","tw-mb-4",3,"ngClass",4,"ngIf"],["id","searchContainer",1,"tw-mb-2"],[1,"tw-flex","tw-bg-white","tw-border","tw-border-grey-300","tw-opacity-75","tw-cursor-text","tw-rounded","focus-within:tw-opacity-100","focus-within:tw-border-blue-400","tw-transition-all","tw-ease-in-out"],["for","searchUserName",1,"tw-flex","tw-items-center","tw-text-grey-500","tw-m-0","tw-ml-3"],["aria-hidden","true",1,"far","fa-search","tw-text-sm"],[1,"sr-only"],["id","searchUserName","type","search",1,"tw-bg-transparent","tw-border-0","tw-text-base","tw-leading-tight","tw-px-2","tw-py-2","tw-w-full","focus:tw-outline-none","tw-transition-all","tw-ease-in-out",3,"ngModelChange","keyup","ngModel","placeholder"],["id","showFilterButton","type","button","aria-expanded","showAdvancedFilters",1,"tw-btn-link","tw-btn-small","tw-px-0","mt-2",3,"click"],[4,"ngIf"],["id","toggleFilters","aria-labelledby","showFilterButton",1,"tw-mt-3","tw-mb-6",3,"hidden"],[1,"tw-flex-grid","md:tw-flex-nowrap","mb-3"],[1,"tw-flex-grid-col","md:tw-w-2/3","lg:tw-w-3/5","mt-2","ml-2"],[1,"tw-form-group","tw-mb-0"],[3,"id","label","help","isLast"],[3,"id"],["id","includeClaims","name","includeClaims","type","checkbox",1,"tw-form-switch__input",3,"click"],[1,"tw-flex-grid-col","md:tw-ml-auto","md:tw-w-auto","mb-3","mr-2"],[1,"tw-form-label"],[1,"tw-flex","tw-items-center"],[1,"mr-2"],["id","activeFilter",3,"click","ngClass"],["id","blockedFilter",3,"click","ngClass"],["id","deletedFilter",3,"click","ngClass"],["class","tw-alert","role","alert",4,"ngIf"],["class","datatable selectable hover",4,"ngIf"],[3,"totalResults","currentPage","lastPage","onGoToPage",4,"ngIf"],["id","addUserComponent",3,"onSubmitted"],["id","quotaLimitAlert","role","alert",1,"tw-mb-4",3,"ngClass"],[3,"innerHTML"],["aria-hidden","true",1,"fas","fa-angle-down","tw-mr-1"],["aria-hidden","true",1,"fas","fa-angle-up","tw-mr-1"],["left",""],["class","tw-hidden tw-form-select tw-w-auto sm:tw-block",4,"ngIf"],["right","",4,"ngIf"],[1,"tw-hidden","tw-form-select","tw-w-auto","sm:tw-block"],["for","pageSizeToggle",1,"sr-only"],["id","pageSizeToggle",1,"tw-form-control","tw-form-control-small",3,"ngModelChange","change","ngModel"],["value","25"],["value","50"],["value","100"],["right",""],["id","addUserBtn",1,"tw-btn-success",3,"click","disabled"],["role","alert",1,"tw-alert"],[1,"datatable","selectable","hover"],["id","sortUsername",1,"md:tw-w-1/3","lg:tw-w-1/3"],[1,"tw-hidden","md:tw-table-cell"],[1,"tw-hidden","lg:tw-table-cell"],[1,"tw-w-1"],["id","usersTable"],["class","group userRow",3,"inactive",4,"ngFor","ngForOf"],[1,"group","userRow"],[1,"tw-truncate","tw-max-w-0",3,"click"],["class","fas fa-trash tw-text-red-500 tw-mr-1",4,"ngIf"],["class","fas fa-exclamation-triangle tw-text-orange-500 tw-mr-1",4,"ngIf"],[1,"tw-text-blue-500"],[1,"tw-hidden","tw-truncate","tw-max-w-0","md:tw-table-cell",3,"click"],[1,"tw-hidden","tw-truncate","tw-max-w-0","lg:tw-table-cell",3,"click"],[3,"click"],["class","tw-pill-danger",4,"ngIf"],["class","tw-pill-warning",4,"ngIf"],["id","userTableButton","type","button",1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click"],["id","viewOrEditIcon","aria-hidden","true",3,"ngClass"],["class","sr-only",4,"ngIf"],[1,"fas","fa-trash","tw-text-red-500","tw-mr-1"],[1,"fas","fa-exclamation-triangle","tw-text-orange-500","tw-mr-1"],[1,"tw-pill-danger"],[1,"tw-pill-warning"],[3,"onGoToPage","totalResults","currentPage","lastPage"]],template:function(de,ue){if(1&de){const ze=d.RV6();d.DNE(0,Nt,2,0,"app-add-user",2),d.j41(1,"div",3),d.DNE(2,ve,3,10,"div",4),d.j41(3,"div",5)(4,"div",6)(5,"label",7),d.nrm(6,"span",8),d.j41(7,"span",9),d.EFF(8),d.nI1(9,"translate"),d.k0s()(),d.j41(10,"input",10,0),d.nI1(12,"translate"),d.mxI("ngModelChange",function(Kt){return d.eBV(ze),d.DH7(ue.searchTerm,Kt)||(ue.searchTerm=Kt),d.Njj(Kt)}),d.bIt("keyup",function(Kt){return d.eBV(ze),d.Njj(ue.search(Kt))}),d.k0s()(),d.j41(13,"button",11),d.bIt("click",function(){return d.eBV(ze),d.Njj(ue.showAdvancedFilters=!ue.showAdvancedFilters)}),d.DNE(14,ae,4,3,"span",12)(15,j,4,3,"span",12),d.k0s(),d.j41(16,"div",13)(17,"div",14)(18,"div",15)(19,"div",16)(20,"app-form-row",17)(21,"app-form-toggle",18)(22,"input",19),d.bIt("click",function(){return d.eBV(ze),d.Njj(ue.advancedFilter("claims"))}),d.k0s()()()()(),d.j41(23,"div",20)(24,"p",21),d.EFF(25),d.nI1(26,"translate"),d.k0s(),d.j41(27,"ul",22)(28,"li",23)(29,"button",24),d.bIt("click",function(){return d.eBV(ze),d.Njj(ue.filter("active"))}),d.EFF(30),d.nI1(31,"translate"),d.k0s()(),d.j41(32,"li",23)(33,"button",25),d.bIt("click",function(){return d.eBV(ze),d.Njj(ue.filter("blocked"))}),d.EFF(34),d.nI1(35,"translate"),d.k0s()(),d.j41(36,"li")(37,"button",26),d.bIt("click",function(){return d.eBV(ze),d.Njj(ue.filter("deleted"))}),d.EFF(38),d.nI1(39,"translate"),d.k0s()()()()(),d.nrm(40,"hr"),d.k0s()(),d.DNE(41,qe,4,2,"app-action-bar",12)(42,ht,1,0,"app-simple-loader",12)(43,Ft,4,3,"div",27)(44,Gt,22,16,"table",28)(45,ct,1,3,"app-pager",29),d.k0s()}2&de&&(d.Y8G("ngIf",!ue.isUserManagerReadOnly),d.R7$(2),d.Y8G("ngIf",ue.limitReached),d.R7$(6),d.JRh(d.bMT(9,25,"Common.Search")),d.R7$(2),d.FS9("placeholder",d.bMT(12,27,"Users.SearchPlaceholder")),d.R50("ngModel",ue.searchTerm),d.R7$(4),d.Y8G("ngIf",!ue.showAdvancedFilters),d.R7$(),d.Y8G("ngIf",ue.showAdvancedFilters),d.R7$(),d.Y8G("hidden",!ue.showAdvancedFilters),d.R7$(4),d.Y8G("id","includeClaims")("label","Users.Filter.IncludeClaims")("help","Users.Filter.IncludeClaimsHelp")("isLast",!0),d.R7$(),d.Y8G("id","includeClaims"),d.R7$(4),d.JRh(d.bMT(26,29,"Auditing.Showing")),d.R7$(4),d.Y8G("ngClass",ue.isShowing("active")?"tw-btn":"tw-btn-link"),d.R7$(),d.SpI(" ",d.bMT(31,31,"Users.Filter.Active")," "),d.R7$(3),d.Y8G("ngClass",ue.isShowing("blocked")?"tw-btn":"tw-btn-link"),d.R7$(),d.SpI(" ",d.bMT(35,33,"Users.Filter.Blocked")," "),d.R7$(3),d.Y8G("ngClass",ue.isShowing("deleted")?"tw-btn":"tw-btn-link"),d.R7$(),d.SpI(" ",d.bMT(39,35,"Users.Filter.Deleted")," "),d.R7$(3),d.Y8G("ngIf",!ue.isLoading),d.R7$(),d.Y8G("ngIf",ue.isLoading),d.R7$(),d.Y8G("ngIf",(null==ue.pagedResult?null:ue.pagedResult.results.length)<1&&!ue.isLoading),d.R7$(),d.Y8G("ngIf",(null==ue.pagedResult?null:ue.pagedResult.results.length)>0&&!ue.isLoading),d.R7$(),d.Y8G("ngIf",(null==ue.pagedResult?null:ue.pagedResult.results.length)>0&&!ue.isLoading))},dependencies:[i.YU,i.Sq,i.bT,e.xH,e.y7,e.me,e.wz,e.BC,e.vS,he.B,Le.n,Ae.d,st.Y,Fe.m,pt,C.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return $e})();const mt=()=>["active"];function xt($e,Qe){1&$e&&(d.j41(0,"ul",10),d.nI1(1,"translate"),d.j41(2,"li",11)(3,"button",12),d.EFF(4),d.nI1(5,"translate"),d.k0s()(),d.j41(6,"li",11)(7,"button",13),d.EFF(8),d.nI1(9,"translate"),d.k0s()()()),2&$e&&(d.BMQ("aria-label",d.bMT(1,5,"Nav.SubMenu")),d.R7$(3),d.Y8G("routerLinkActive",d.lJ4(11,mt)),d.R7$(),d.JRh(d.bMT(5,7,"Nav.Users")),d.R7$(3),d.Y8G("routerLinkActive",d.lJ4(12,mt)),d.R7$(),d.JRh(d.bMT(9,9,"Nav.SessionManagement")))}let tn=(()=>{class $e{constructor(K,de,ue){this.r=K,this.route=de,this.configService=ue}ngOnInit(){this.configService.getConfig().subscribe(K=>{this.showSessionManagement=K.featureFlagOptions.sessionManagementEnabled})}mobRoute(K){this.r.navigate([K],{relativeTo:this.route})}static{this.\u0275fac=function(de){return new(de||$e)(d.rXU(_.Ix),d.rXU(_.nX),d.rXU(m.w))}}static{this.\u0275cmp=d.VBU({type:$e,selectors:[["app-users-nav"]],decls:21,vars:17,consts:[[3,"hasTabs","title"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","list"],["value","sessions"],["class","tabs tw-hidden md:tw-flex","role","tablist",4,"ngIf"],["id","userRoutes"],["role","tablist",1,"tabs","tw-hidden","md:tw-flex"],[1,"tabs__item"],["type","button","routerLink","list","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","sessions","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"]],template:function(de,ue){1&de&&(d.j41(0,"app-title-bar",0),d.nI1(1,"translate"),d.qex(2,1),d.j41(3,"div",2)(4,"label",3),d.EFF(5),d.nI1(6,"translate"),d.k0s(),d.j41(7,"div",4)(8,"select",5),d.bIt("change",function(Wt){return ue.mobRoute(Wt.target.value)}),d.j41(9,"option",6),d.EFF(10),d.nI1(11,"translate"),d.k0s(),d.j41(12,"option",6),d.EFF(13),d.nI1(14,"translate"),d.k0s(),d.j41(15,"option",7),d.EFF(16),d.nI1(17,"translate"),d.k0s()()()(),d.DNE(18,xt,10,13,"ul",8),d.bVm(),d.k0s(),d.j41(19,"div",9),d.nrm(20,"router-outlet"),d.k0s()),2&de&&(d.Y8G("hasTabs",!0)("title",d.bMT(1,7,"Nav.Users")),d.R7$(5),d.JRh(d.bMT(6,9,"Nav.SubMenu")),d.R7$(5),d.SpI("",d.bMT(11,11,"Nav.SubMenu"),"..."),d.R7$(3),d.JRh(d.bMT(14,13,"Nav.Users")),d.R7$(3),d.JRh(d.bMT(17,15,"Nav.SessionManagement")),d.R7$(2),d.Y8G("ngIf",ue.showSessionManagement))},dependencies:[_.n3,_.Wk,_.wQ,i.bT,e.xH,e.y7,w.z,C.D9],encapsulation:2})}}return $e})();const Sn=($e,Qe)=>({title:$e,link:Qe}),Un=$e=>[$e],cn=()=>["active"];function di($e,Qe){1&$e&&(d.j41(0,"span",24),d.EFF(1),d.nI1(2,"translate"),d.k0s()),2&$e&&(d.R7$(),d.SpI(" ",d.bMT(2,1,"Users.Filter.Blocked")," "))}function li($e,Qe){1&$e&&(d.j41(0,"option",25),d.EFF(1),d.nI1(2,"translate"),d.k0s()),2&$e&&(d.R7$(),d.JRh(d.bMT(2,1,"Nav.Audits")))}function At($e,Qe){1&$e&&(d.j41(0,"span",28)(1,"span",29),d.EFF(2),d.nI1(3,"translate"),d.k0s(),d.nrm(4,"span",30),d.k0s()),2&$e&&(d.R7$(2),d.JRh(d.bMT(3,1,"StarterMode.RequiresUpgrade")))}function dt($e,Qe){if(1&$e&&(d.j41(0,"li",15)(1,"button",26),d.EFF(2),d.nI1(3,"translate"),d.DNE(4,At,5,3,"span",27),d.k0s()()),2&$e){const K=d.XpG();d.R7$(),d.Y8G("routerLinkActive",d.lJ4(5,cn)),d.R7$(),d.SpI(" ",d.bMT(3,3,"Nav.Audits")," "),d.R7$(2),d.Y8G("ngIf",K.licenseInfo.isStarterLicense())}}function kt($e,Qe){1&$e&&(d.j41(0,"div",31)(1,"p"),d.EFF(2),d.nI1(3,"translate"),d.nI1(4,"translate"),d.k0s()()),2&$e&&(d.R7$(2),d.Lme("",d.bMT(3,2,"Users.Delete.DeletedUser")," ",d.bMT(4,4,"Users.Delete.AuditingPurposes"),""))}let jt=(()=>{class $e{constructor(K,de,ue,ze,Wt){this.route=K,this.router=de,this.errorService=ue,this.licenseService=ze,this.configService=Wt,this.enableAuditing=!1}ngOnInit(){this.userDataSubscription=this.route.data.subscribe(K=>{this.user=K.user},K=>{this.errorService.handleError(K)}),this.licenseService.getLicenseInfo().pipe((0,f.$)()).subscribe({next:K=>{this.licenseInfo=K}}),this.configService.getConfig().pipe((0,f.$)()).subscribe({next:K=>{this.enableAuditing=K.enableAuditing}})}mobRoute(K){this.router.navigate([K],{relativeTo:this.route})}ngOnDestroy(){this.userDataSubscription.unsubscribe()}static{this.\u0275fac=function(de){return new(de||$e)(d.rXU(_.nX),d.rXU(_.Ix),d.rXU(E.I),d.rXU(F.X),d.rXU(m.w))}}static{this.\u0275cmp=d.VBU({type:$e,selectors:[["ng-component"]],decls:57,vars:66,consts:[[3,"title","crumbs","hasTabs","isReadOnly"],["badge",""],["class","tw-pill-warning tw-mr-2",4,"ngIf"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","details"],["value","roles"],["value","additionaldetails"],["value","applications"],["value","userlogins"],["value","useraudits",4,"ngIf"],["role","tablist",1,"tabs","tw-hidden","md:tw-flex"],[1,"tabs__item"],["type","button","routerLink","details","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","roles","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","additionaldetails","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","applications","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","userlogins","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["class","tabs__item",4,"ngIf"],["id","viewUser"],["id","userDeleted","class","tw-alert-danger tw-container tw-mx-auto tw-mb-6",4,"ngIf"],[1,"tw-pill-warning","tw-mr-2"],["value","useraudits"],["id","tabAudit","type","button","routerLink","useraudits","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","upgradeSymbol",4,"ngIf"],["id","upgradeSymbol"],[1,"sr-only"],["aria-hidden","true",1,"tw-text-secondary-500","far","fa-arrow-alt-circle-up","tw-pl-1"],["id","userDeleted",1,"tw-alert-danger","tw-container","tw-mx-auto","tw-mb-6"]],template:function(de,ue){1&de&&(d.j41(0,"app-title-bar",0),d.nI1(1,"translate"),d.nI1(2,"localize"),d.qex(3,1),d.DNE(4,di,3,3,"span",2),d.bVm(),d.qex(5,3),d.j41(6,"div",4)(7,"label",5),d.EFF(8),d.nI1(9,"translate"),d.k0s(),d.j41(10,"div",6)(11,"select",7),d.bIt("change",function(Wt){return ue.mobRoute(Wt.target.value)}),d.j41(12,"option",8),d.EFF(13),d.nI1(14,"translate"),d.k0s(),d.j41(15,"option",8),d.EFF(16),d.nI1(17,"translate"),d.k0s(),d.j41(18,"option",9),d.EFF(19),d.nI1(20,"translate"),d.k0s(),d.j41(21,"option",10),d.EFF(22),d.nI1(23,"translate"),d.k0s(),d.j41(24,"option",11),d.EFF(25),d.nI1(26,"translate"),d.k0s(),d.j41(27,"option",12),d.EFF(28),d.nI1(29,"translate"),d.k0s(),d.DNE(30,li,3,3,"option",13),d.k0s()()(),d.j41(31,"ul",14),d.nI1(32,"translate"),d.j41(33,"li",15)(34,"button",16),d.EFF(35),d.nI1(36,"translate"),d.k0s()(),d.j41(37,"li",15)(38,"button",17),d.EFF(39),d.nI1(40,"translate"),d.k0s()(),d.j41(41,"li",15)(42,"button",18),d.EFF(43),d.nI1(44,"translate"),d.k0s()(),d.j41(45,"li",15)(46,"button",19),d.EFF(47),d.nI1(48,"translate"),d.k0s()(),d.j41(49,"li",15)(50,"button",20),d.EFF(51),d.nI1(52,"translate"),d.k0s()(),d.DNE(53,dt,5,6,"li",21),d.k0s(),d.bVm(),d.k0s(),d.j41(54,"div",22),d.DNE(55,kt,5,6,"div",23),d.nrm(56,"router-outlet"),d.k0s()),2&de&&(d.Y8G("title",ue.user.firstName+" "+ue.user.lastName)("crumbs",d.eq3(59,Un,d.l_i(56,Sn,d.bMT(1,26,"Nav.Users"),d.bMT(2,28,"/users"))))("hasTabs",!0)("isReadOnly",!0),d.R7$(4),d.Y8G("ngIf",ue.user.isBlocked),d.R7$(4),d.JRh(d.bMT(9,30,"Nav.SubMenu")),d.R7$(5),d.SpI("",d.bMT(14,32,"Nav.SubMenu"),"..."),d.R7$(3),d.JRh(d.bMT(17,34,"Nav.Details")),d.R7$(3),d.JRh(d.bMT(20,36,"Nav.Roles")),d.R7$(3),d.JRh(d.bMT(23,38,"Nav.Additional Details")),d.R7$(3),d.JRh(d.bMT(26,40,"Nav.Applications")),d.R7$(3),d.JRh(d.bMT(29,42,"Nav.External Logins")),d.R7$(2),d.Y8G("ngIf",ue.enableAuditing),d.R7$(),d.BMQ("aria-label",d.bMT(32,44,"Nav.SubMenu")),d.R7$(3),d.Y8G("routerLinkActive",d.lJ4(61,cn)),d.R7$(),d.JRh(d.bMT(36,46,"Nav.Details")),d.R7$(3),d.Y8G("routerLinkActive",d.lJ4(62,cn)),d.R7$(),d.JRh(d.bMT(40,48,"Nav.Roles")),d.R7$(3),d.Y8G("routerLinkActive",d.lJ4(63,cn)),d.R7$(),d.JRh(d.bMT(44,50,"Nav.Additional Details")),d.R7$(3),d.Y8G("routerLinkActive",d.lJ4(64,cn)),d.R7$(),d.JRh(d.bMT(48,52,"Nav.Applications")),d.R7$(3),d.Y8G("routerLinkActive",d.lJ4(65,cn)),d.R7$(),d.JRh(d.bMT(52,54,"Nav.External Logins")),d.R7$(2),d.Y8G("ngIf",ue.enableAuditing),d.R7$(2),d.Y8G("ngIf",ue.user.isDeleted))},dependencies:[_.n3,_.Wk,_.wQ,i.bT,w.z,C.D9,g.tl],encapsulation:2})}}return $e})();var Yt=u(3178),vn=u(5358),mn=u(3218),zn=u(2892),An=u(4811),fn=u(4446),ci=u(4814);const gi=[{path:"users",component:tn,children:[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:yt},{path:"sessions",component:vn.Z,canActivate:[mn.O]}],canActivate:[zn.h,fn._],data:{permissions:[Yt.a[Yt.a.UserManager],Yt.a[Yt.a.UserManagerReadOnly],Yt.a[Yt.a.AllReadOnly],Yt.a[Yt.a.All]]}},{path:"users/:Id",component:le,loadChildren:()=>Promise.all([u.e(76),u.e(866)]).then(u.bind(u,866)).then($e=>$e.EditUsersModule),resolve:{user:An.M},canActivate:[zn.h,fn._,ci.y],data:{permissions:[Yt.a[Yt.a.UserManager],Yt.a[Yt.a.All]]}},{path:"users/view/:Id",loadChildren:()=>Promise.all([u.e(76),u.e(855)]).then(u.bind(u,4855)).then($e=>$e.ViewUserModule),component:jt,canActivate:[zn.h,fn._],resolve:{user:An.M},data:{permissions:[Yt.a[Yt.a.UserManager],Yt.a[Yt.a.UserManagerReadOnly],Yt.a[Yt.a.AllReadOnly],Yt.a[Yt.a.All]]}}];let ni=(()=>{class $e{static{this.\u0275fac=function(de){return new(de||$e)}}static{this.\u0275mod=d.$C({type:$e})}static{this.\u0275inj=d.G2t({imports:[_.iI.forChild(gi),g.XE.forChild(gi),_.iI]})}}return $e})();var Bi=u(1683),Xn=u(2571),Ei=u(5663),pi=u(9475),Gi=u(367),ji=u(5731),Ti=u(4193),nt=u(3665),It=u(7175),Ct=u(8389),nn=u(6599),Qt=u(3730),Tn=u(7677);let St=(()=>{class $e{static{this.\u0275fac=function(de){return new(de||$e)}}static{this.\u0275mod=d.$C({type:$e})}static{this.\u0275inj=d.G2t({providers:[An.M,Ei.Q],imports:[ni,i.MD,e.YN,e.X1,S.Q_,Bi.Y,C.h,Xn.A,v.Ss,g.XE,pi.F,Gi.m,ji.i,Ti.c,nt.t,It.c,Ct.w,nn.Y,_.iI,vn.Z,Qt.ClaimTypesModule,Tn.N]})}}return $e})()},3497:(et,me,u)=>{"use strict";u.d(me,{E:()=>i});let i=(()=>{class e{static{this.Default="clientId"}static{this.Saml="entityId"}static{this.WsFed="realm"}}return e})()},4595:(et,me,u)=>{"use strict";u.d(me,{I:()=>e});var i=u(6701);class e{static{this.RestrictedClientTypes=[i.s.ServerSide,i.s.ServerSidePKCE,i.s.Native,i.s.NativePKCE,i.s.Device,i.s.Saml,i.s.WsFed,i.s.LegacyClientSide]}}},4861:(et,me,u)=>{"use strict";u.d(me,{M:()=>i});let i=(()=>{class e{static{this.DefaultAdministratorUsername="info@rocksolidknowledge.com"}}return e})()},6026:(et,me,u)=>{"use strict";u.d(me,{R:()=>i});let i=(()=>{class e{static{this.Id="wizard-modal"}static{this.TileId="wizard-title"}static{this.DescriptionId="wizard-description"}}return e})()},5358:(et,me,u)=>{"use strict";u.d(me,{Z:()=>Se});var i=u(9417),e=u(1583),_=u(4549),g=u(1626),S=u(7263),v=u(4438),f=u(9564);let d=(()=>{class Ee{constructor(Ue,at){this.http=Ue,this.headersService=at,this.actionUrl="ServerSideSession",this.headers=this.headersService.setHeaders()}buildParams(Ue,at,Ot,pt,it,Ht,en){let rt=new g.Nl;return null!=Ue&&(rt=rt.append("query",Ue)),(0,S.gP)(pt)||(rt=rt.append("sort",pt)),at&&(rt=rt.append("created",at)),Ot&&(rt=rt.append("expires",Ot)),it&&(rt=rt.append("page",String(it))),Ht&&(rt=rt.append("pageSize",String(Ht))),en&&(rt=rt.append("filterExpired",String(en))),rt}getSessions(Ue,at,Ot,pt,it,Ht,en){const rt=this.buildParams(Ue,at,Ot,pt,it,Ht,en);return this.http.get(this.actionUrl,{headers:this.headers,params:rt})}deleteSession(Ue){return this.http.delete(`${this.actionUrl}/${Ue}`,{headers:this.headers})}static{this.\u0275fac=function(at){return new(at||Ee)(v.KVO(g.Qq),v.KVO(f.m))}}static{this.\u0275prov=v.jDH({token:Ee,factory:Ee.\u0275fac})}}return Ee})();var E=u(177),m=u(1780),F=u(5731),w=u(1683),C=u(1413),R=u(8359),k=u(7175),O=u(1594),H=u(9172),x=u(1397),$=u(6599),U=u(8251),G=u(8577),ie=u(4252),le=u(4367),L=u(1258),Q=u(7185),te=u(2390);class I{constructor(lt,Ue,at,Ot,pt,it){this.query=lt,this.page=Ue,this.pageSize=at,this.sortCriteria=Ot,this.fromDate=pt,this.toDate=it}}class oe{constructor(lt){this.query=lt.query,this.page=lt.page,this.pageSize=lt.pageSize,this.sortCriteria=lt.sortCriteria,this.fromDate=lt.fromDate?.toString(),this.toDate=lt.toDate?.toString()}}var Y=function(Ee){return Ee.ByUser="user",Ee.ByUserDescending="-user",Ee.ByScheme="scheme",Ee.BySchemeDescending="-scheme",Ee.ByCreated="created",Ee.ByCreatedDescending="-created",Ee.ByExpires="expires",Ee.ByExpiresDescending="-expires",Ee.ByRenewed="renewed",Ee.ByRenewedDescending="-renewed",Ee}(Y||{}),_e=u(923),Oe=u(7005),Re=u(9812),xe=u(4754),Je=u(7883),Te=u(5424),we=u(3488),he=u(7156),Le=u(7384),Ae=u(6536),st=u(3899);const Fe=Ee=>[Ee];function ft(Ee,lt){1&Ee&&(v.j41(0,"span",34),v.EFF(1),v.nI1(2,"translate"),v.k0s()),2&Ee&&(v.R7$(),v.SpI(" ",v.bMT(2,1,"Auditing.FromDateWarning")," "))}function Ye(Ee,lt){1&Ee&&(v.j41(0,"span",35),v.EFF(1),v.nI1(2,"translate"),v.k0s()),2&Ee&&(v.R7$(),v.SpI(" ",v.bMT(2,1,"Auditing.ToDateBehindWarning")," "))}function zt(Ee,lt){1&Ee&&(v.j41(0,"div",32)(1,"div",36)(2,"div",37)(3,"div",38),v.nrm(4,"input",39,2),v.nI1(6,"translate"),v.nI1(7,"translate"),v.k0s()()()()),2&Ee&&(v.R7$(4),v.BMQ("placeholder",v.bMT(6,2,"Auditing.FilterTermPlaceholder"))("aria-label",v.bMT(7,4,"Auditing.AddFilterTerm")))}function Lt(Ee,lt){1&Ee&&(v.j41(0,"p",40),v.nrm(1,"span",41),v.EFF(2),v.nI1(3,"translate"),v.k0s()),2&Ee&&(v.R7$(2),v.SpI(" ",v.bMT(3,1,"Auditing.UpdateWarning")," "))}function Et(Ee,lt){1&Ee&&v.nrm(0,"app-simple-loader")}function _t(Ee,lt){1&Ee&&(v.j41(0,"div",42)(1,"div"),v.EFF(2),v.nI1(3,"translate"),v.k0s()()),2&Ee&&(v.R7$(2),v.JRh(v.bMT(3,1,"SessionManagement.NoSessionsFound")))}function J(Ee,lt){if(1&Ee&&v.nrm(0,"app-data-table-column",48),2&Ee){const Ue=v.XpG(2);v.Y8G("prop","user")("title","Auditing.Subject")("link","resourceLink")("headClasses","tw-hidden xs:tw-table-cell lg:tw-w-1/4")("sort",Ue.sortingEnum.None)}}function X(Ee,lt){if(1&Ee&&(v.j41(0,"app-data-table",43),v.DNE(1,J,1,5,"app-data-table-column",44),v.nrm(2,"app-data-table-column",45)(3,"app-data-table-column",46)(4,"app-data-table-column",47)(5,"app-data-table-column",46),v.k0s()),2&Ee){const Ue=v.XpG();v.Y8G("rows",Ue.pagedResult.results)("actions",Ue.dataTableActions),v.R7$(),v.Y8G("ngIf",!Ue.resourceOnly()),v.R7$(),v.Y8G("prop","scheme")("title","SessionManagement.Scheme")("headClasses","tw-hidden tw-w-32 md:tw-table-cell xl:tw-w-40"),v.R7$(),v.Y8G("prop","created")("title","SessionManagement.Created")("headClasses","tw-hidden tw-w-32 md:tw-table-cell xl:tw-w-40")("date",Ue.dateColumn(Ue.DatePipeNames.prettyDateTime)),v.R7$(),v.Y8G("prop","expires")("title","SessionManagement.Expires")("headClasses","tw-hidden tw-w-32 md:tw-table-cell xl:tw-w-40")("date",Ue.dateColumn(Ue.DatePipeNames.prettyDateTime,"SessionManagement.NoExpiration"))("sort",Ue.sortingEnum.Descending),v.R7$(),v.Y8G("prop","renewed")("title","SessionManagement.Renewed")("headClasses","tw-hidden tw-w-32 md:tw-table-cell xl:tw-w-40")("date",Ue.dateColumn(Ue.DatePipeNames.prettyDateTime,"SessionManagement.NotRenewed"))}}function q(Ee,lt){if(1&Ee){const Ue=v.RV6();v.j41(0,"app-pager",49),v.bIt("onGoToPage",function(Ot){v.eBV(Ue);const pt=v.XpG();return v.Njj(pt.goToPage(Ot))}),v.k0s()}if(2&Ee){const Ue=v.XpG();v.Y8G("totalResults",null==Ue.pagedResult?null:Ue.pagedResult.totalCount)("currentPage",Ue.filterForm.get("page").value)("lastPage",null==Ue.pagedResult?null:Ue.pagedResult.pageCount)}}let Se=(()=>{class Ee{resourceOnly(){return!(0,S.gP)(this.resourceName)}constructor(Ue,at,Ot,pt,it,Ht,en,rt,Nt,ve){this.sessionManagementService=Ue,this.localizeRouter=at,this.router=Ot,this.fb=pt,this.activatedRoute=it,this.dataTableService=Ht,this.modalService=en,this.securityService=rt,this.errorService=Nt,this.systemClock=ve,this.isLoading=!1,this.sortingEnum=te.uy,this.filterHasChanged=!1,this.sessionStream=new C.B,this.dateColumn=(ae,j)=>new G.$(ae,j),this.DatePipeNames=_e.N,this.dataTableActions=[ie.AA.Delete],this.deleteModalId="SessionManagement",this.modelActions=L.N,this.deleteModalType=Q.q.Warning,this.resourceName="",this.dataTableServiceSubscriptions=new R.yU}ngOnDestroy(){this.dataTableServiceSubscriptions.unsubscribe()}userManagerReadOnly(){return(0,S.zG)(this.securityService.userPermissions)}ngOnInit(){this.translatedRoute=this.buildTranslatedRoute(),this.dataTableActions=this.userManagerReadOnly()?[]:[ie.AA.Delete],this.activatedRoute.parent.url.pipe((0,O.$)()).subscribe({next:Ue=>{this.resourceName=Ue[1]?.path??"",this.initDataSource()},error:Ue=>this.errorService.handleError(Ue)}),this.dataTableServiceSubscriptions.add(this.dataTableService.sortColumnEvent.subscribe(Ue=>{this.sortResults(Ue)})),this.dataTableServiceSubscriptions.add(this.dataTableService.deleteRowEvent.subscribe(Ue=>{this.openDeleteModal(this.pagedResult.results[Ue])}))}initDataSource(){this.setupFilterForm(this.activatedRoute.snapshot.queryParams),this.sessionStream.pipe((0,H.Z)({query:this.filterForm.value.query,fromDate:this.filterForm.value.fromDate??this.systemClock.now().minus({month:1}).toString(),toDate:this.filterForm.value.toDate??this.systemClock.now().plus({month:1}).toString(),sortCriteria:this.filterForm.value.sortCriteria,page:this.filterForm.value.page,pageSize:this.filterForm.value.pageSize}),(0,x.Z)(at=>(this.isLoading=!0,this.sessionManagementService.getSessions(at.query||"",at.fromDate?.toString(),at.toDate?.toString(),at.sortCriteria||"-when",at.page,at.pageSize,this.resourceOnly())))).subscribe(at=>{this.isLoading=!1,this.pagedResult={totalCount:at.totalCount,pageSize:at.pageSize,currentPage:at.currentPage,pageCount:at.pageCount,results:at.results.map(Ot=>new te.j2(Ot,this.translatedRoute))}})}applyForm(Ue){Ue&&this.filterForm.patchValue({page:1}),this.resourceOnly()&&this.filterForm.patchValue({query:this.resourceName});const at=this.filterForm.value;this.filterForm.patchValue({fromDate:at.fromDate,toDate:at.toDate}),this.sessionStream.next(at),this.router.navigate([this.router.url.split("?")[0]],{queryParams:new oe(this.filterForm.value)}),this.filterHasChanged=!1}goToPage(Ue){this.filterForm.patchValue({page:Ue}),this.applyForm(!1)}buildTranslatedRoute(){return this.userManagerReadOnly()?`${this.localizeRouter.translateRoute("/users/view")}`:`${this.localizeRouter.translateRoute("/users")}`}resetForm(){this.filterForm.setValue({fromDate:this.systemClock.now().minus({month:1}).toString(),toDate:this.systemClock.now().plus({month:1}).toString(),query:this.resourceName??"",page:1,pageSize:25,sortCriteria:Y.ByExpiresDescending}),this.filterHasChanged=!1,this.applyForm(!0)}openDeleteModal(Ue){this.sessionToDelete=Ue,this.modalService.showById(this.deleteModalId,null)}closeDeleteModal(){this.sessionToDelete=null,this.modalService.hideById(this.deleteModalId)}removeSession(){if(null==this.sessionToDelete)throw new Error("Delete called without target");this.delete()}delete(){this.sessionManagementService.deleteSession(this.sessionToDelete.sessionId).subscribe({next:()=>{this.sessionToDelete=null,this.applyForm(!1),this.closeDeleteModal()},error:Ue=>{this.errorService.handleError(Ue)}})}sortResults(Ue){const at=this.activatedRoute.snapshot.queryParams,Ot=(0,S.gP)(at?.fromDate)?this.systemClock.now().minus({month:1}):_.c9.fromISO(at.fromDate),pt=(0,S.gP)(at?.toDate)?this.systemClock.now().plus({month:1}):_.c9.fromISO(at.toDate),it=new I(at.query,at.page,at.pageSize,this.getSortFromColumnName(Ue.prop,at.sortCriteria),Ot,pt),Ht=this.filterHasChanged;this.filterForm.patchValue({sortCriteria:it.sortCriteria}),this.sessionStream.next(it),this.filterHasChanged=Ht,this.router.navigate([this.router.url.split("?")[0]],{queryParams:new oe(it)}),this.dataTableService.sortCompletedEvent.next(Ue.prop)}getSortFromColumnName(Ue,at){switch(Ue){case"user":return at===Y.ByUserDescending?Y.ByUser:Y.ByUserDescending;case"expires":return at===Y.ByExpiresDescending?Y.ByExpires:Y.ByExpiresDescending;default:return Y.ByExpiresDescending}}setupFilterForm(Ue){const at=(0,S.gP)(Ue?.fromDate)?this.systemClock.now().minus({month:1}):_.c9.fromISO(Ue.fromDate),Ot=(0,S.gP)(Ue?.toDate)?this.systemClock.now().plus({month:1}):_.c9.fromISO(Ue.toDate);this.filterForm=this.fb.nonNullable.group({fromDate:[at,[S.TO]],toDate:[Ot],query:[this.resourceName||""],page:[Ue?.page||1],pageSize:[Ue?.pageSize>1e3?1e3:Ue?.pageSize||25],sortCriteria:[Ue?.sortCriteria||Y.ByExpiresDescending]},{validators:S.$N}),this.filterForm.valueChanges.subscribe(()=>{this.filterHasChanged=!0})}static{this.\u0275fac=function(at){return new(at||Ee)(v.rXU(d),v.rXU(Oe.QG),v.rXU(e.Ix),v.rXU(i.ok),v.rXU(e.nX),v.rXU(Re.I),v.rXU(xe.B),v.rXU(Je.i),v.rXU(Te.I),v.rXU(we.F))}}static{this.\u0275cmp=v.VBU({type:Ee,selectors:[["app-sessionmanagement"]],standalone:!0,features:[v.Jv_([d]),v.aNF],decls:56,vars:42,consts:[["pageLength",""],["sortCriteria",""],["filterValue",""],["id","sessionList",1,"tw-container","tw-mx-auto"],[1,"",3,"formGroup"],[1,"tw-border-b","tw-border-grey-200","tw-mb-4","tw-pb-5"],[1,"tw-flex-grid","tw-mb-3","lg:tw-flex-nowrap"],[1,"tw-flex-grid-col","xs:tw-w-1/2","lg:tw-w-1/3"],[1,"tw-form-group","tw-mb-0"],["for","fromDate",1,"tw-form-label"],["id","fromDate","name","fromDate","formControlName","fromDate","aria-describedby","toErrorLabel",3,"displayType"],["id","fromErrorLabel","class","tw-form-text-danger",4,"ngIf"],["for","toDate",1,"tw-form-label"],["id","toDate","name","toDate","formControlName","toDate","aria-describedby","toErrorLabel",3,"displayType"],["id","toErrorLabel","class","tw-form-text-danger",4,"ngIf"],[1,"tw-flex-grid-col","tw-w-40","tw-ml-auto"],["for","pageSize",1,"tw-form-label"],[1,"tw-form-select"],["id","pageSize","formControlName","pageSize",1,"tw-form-control"],[3,"value"],["class","tw-mb-4",4,"ngIf"],[1,"tw-flex","tw-flex-wrap","tw-items-center"],["type","hidden"],["id","applyBtn",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],[1,"tw-btn-link","tw-mr-3",3,"click"],["class","tw-pill-warning tw-my-2",4,"ngIf"],[4,"ngIf"],["class","tw-alert","role","alert",4,"ngIf"],[3,"rows","actions",4,"ngIf"],[3,"totalResults","currentPage","lastPage","onGoToPage",4,"ngIf"],[3,"onCancel","onDelete","title","modalId","actions","modalType"],[1,"tw-text-center"],[1,"tw-mb-4"],[1,"tw-pill-danger",3,"innerHTML"],["id","fromErrorLabel",1,"tw-form-text-danger"],["id","toErrorLabel",1,"tw-form-text-danger"],["aria-labelledby","showFilterButton",1,"tw-mt-3","tw-mb-6"],[1,"tw-flex-grid","md:tw-flex-nowrap"],[1,"tw-flex-grid-col","tw-flex","xs:tw-w-3/5","sm:tw-w-1/2"],["formControlName","query","id","filterTerm","type","text","autocomplete","off",1,"tw-form-control","tw-border-r-1"],[1,"tw-pill-warning","tw-my-2"],["aria-hidden","true",1,"fas","fa-info-circle","tw-mr-1"],["role","alert",1,"tw-alert"],[3,"rows","actions"],[3,"prop","title","link","headClasses","sort",4,"ngIf"],[3,"prop","title","headClasses"],[3,"prop","title","headClasses","date"],[3,"prop","title","headClasses","date","sort"],[3,"prop","title","link","headClasses","sort"],[3,"onGoToPage","totalResults","currentPage","lastPage"]],template:function(at,Ot){if(1&at){const pt=v.RV6();v.j41(0,"div",3)(1,"form",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"div",8)(6,"label",9),v.EFF(7),v.nI1(8,"translate"),v.k0s(),v.j41(9,"div"),v.nrm(10,"app-date-time",10),v.DNE(11,ft,3,3,"span",11),v.k0s()()(),v.j41(12,"div",7)(13,"div",8)(14,"label",12),v.EFF(15),v.nI1(16,"translate"),v.k0s(),v.j41(17,"div"),v.nrm(18,"app-date-time",13),v.DNE(19,Ye,3,3,"span",14),v.k0s()()(),v.j41(20,"div",15)(21,"div",8)(22,"label",16),v.EFF(23),v.nI1(24,"translate"),v.k0s(),v.j41(25,"div",17)(26,"select",18,0)(28,"option",19),v.EFF(29,"25 "),v.k0s(),v.j41(30,"option",19),v.EFF(31,"50"),v.k0s(),v.j41(32,"option",19),v.EFF(33,"100"),v.k0s()()()()()(),v.DNE(34,zt,8,6,"div",20),v.j41(35,"div",21),v.nrm(36,"input",22,1),v.j41(38,"button",23),v.bIt("click",function(){return v.eBV(pt),v.Njj(Ot.applyForm(!0))}),v.EFF(39),v.nI1(40,"translate"),v.k0s(),v.j41(41,"button",24),v.bIt("click",function(){return v.eBV(pt),v.Njj(Ot.resetForm())}),v.EFF(42),v.nI1(43,"translate"),v.k0s(),v.DNE(44,Lt,4,3,"p",25),v.k0s()()(),v.DNE(45,Et,1,0,"app-simple-loader",26)(46,_t,4,3,"div",27)(47,X,6,19,"app-data-table",28)(48,q,1,3,"app-pager",29),v.k0s(),v.j41(49,"app-custom-modal",30),v.bIt("onCancel",function(){return v.eBV(pt),v.Njj(Ot.closeDeleteModal())})("onDelete",function(){return v.eBV(pt),v.Njj(Ot.removeSession())}),v.j41(50,"div",31)(51,"p",32),v.EFF(52),v.nI1(53,"translate"),v.k0s(),v.nrm(54,"p",33),v.nI1(55,"translate"),v.k0s()()}if(2&at){let pt;v.R7$(),v.Y8G("formGroup",Ot.filterForm),v.R7$(6),v.JRh(v.bMT(8,26,"SessionManagement.Created")),v.R7$(3),v.Y8G("displayType","datetime"),v.R7$(),v.Y8G("ngIf",Ot.filterForm.get("fromDate").hasError("dateInFuture")),v.R7$(4),v.JRh(v.bMT(16,28,"SessionManagement.Expires")),v.R7$(3),v.Y8G("displayType","datetime"),v.R7$(),v.Y8G("ngIf",Ot.filterForm.hasError("fromDateIsAfterToDate")),v.R7$(4),v.JRh(v.bMT(24,30,"Auditing.ResultsPerPage")),v.R7$(5),v.Y8G("value",25),v.R7$(2),v.Y8G("value",50),v.R7$(2),v.Y8G("value",100),v.R7$(2),v.Y8G("ngIf",!Ot.resourceOnly()),v.R7$(4),v.Y8G("disabled",(null==Ot.filterForm?null:Ot.filterForm.errors)||(null==(pt=Ot.filterForm.get("fromDate"))?null:pt.hasError("dateInFuture"))),v.R7$(),v.SpI(" ",v.bMT(40,32,"Auditing.ExecuteAndDisplay")," "),v.R7$(3),v.SpI(" ",v.bMT(43,34,"Auditing.Reset")," "),v.R7$(2),v.Y8G("ngIf",Ot.filterHasChanged),v.R7$(),v.Y8G("ngIf",Ot.isLoading),v.R7$(),v.Y8G("ngIf",(null==Ot.pagedResult?null:Ot.pagedResult.results.length)<1&&!Ot.isLoading),v.R7$(),v.Y8G("ngIf",(null==Ot.pagedResult?null:Ot.pagedResult.results.length)>0),v.R7$(),v.Y8G("ngIf",(null==Ot.pagedResult?null:Ot.pagedResult.results.length)>0&&!Ot.isLoading),v.R7$(),v.Y8G("title","Settings.Keys.DeleteKey")("modalId",Ot.deleteModalId)("actions",v.eq3(40,Fe,Ot.modelActions.Delete))("modalType",Ot.deleteModalType),v.R7$(3),v.JRh(v.bMT(53,36,"Common.Delete.AreYouSureSimple")),v.R7$(2),v.Y8G("innerHTML",v.bMT(55,38,"Common.Delete.Warning"),v.npT)}},dependencies:[E.MD,E.bT,m.h,m.D9,e.iI,F.i,he.B,w.Y,k.c,Le.d,i.X1,i.qT,i.xH,i.y7,i.me,i.wz,i.BC,i.cb,i.j4,i.JD,$.Y,Ae.Z,U.h,ie.up,G.w,le.N,st.G],encapsulation:2})}}return Ee})()},2390:(et,me,u)=>{"use strict";u.d(me,{j2:()=>e,uy:()=>i});var i=function(g){return g[g.None=0]="None",g[g.Ascending=1]="Ascending",g[g.Descending=2]="Descending",g}(i||{});class e{get routeLink(){return`${this.link.routeForLink}/${this.link.identifier}`}constructor(S,v){this.sort=i.None,this.sessionId=S.sessionId,this.scheme=S.scheme,this.created=S.created,this.expires=S.expires,this.renewed=S.renewed,this.user=S.user.name??S.user.identifier,this.link={identifier:S.user.identifier,routeForLink:v}}}},5517:(et,me,u)=>{"use strict";u.d(me,{H:()=>f});var i=u(1594),e=u(6354),_=u(4438),g=u(3853),S=u(1583),v=u(7005);let f=(()=>{class d{constructor(m,F,w){this.licenseService=m,this.router=F,this.localizeRouter=w}canActivate(m,F){return this.licenseService.getLicenseInfo().pipe((0,i.$)(),(0,e.T)(w=>{if(w.isStarterLicense())return!0;{const C=this.localizeRouter.translateRoute("/home");this.router.navigate([C])}}))}static{this.\u0275fac=function(F){return new(F||d)(_.KVO(g.X),_.KVO(S.Ix),_.KVO(v.QG))}}static{this.\u0275prov=_.jDH({token:d,factory:d.\u0275fac})}}return d})()},4446:(et,me,u)=>{"use strict";u.d(me,{_:()=>f});var i=u(1594),e=u(6354),_=u(4438),g=u(3853),S=u(1583),v=u(7005);let f=(()=>{class d{constructor(m,F,w){this.licenseService=m,this.router=F,this.localizeRouter=w}canActivate(m,F){return this.licenseService.getLicenseInfo().pipe((0,i.$)(),(0,e.T)(w=>{if(!w.isExpectingStarterConsent())return!0;{const C=this.localizeRouter.translateRoute("/starter-mode/consent");this.router.navigate([C])}}))}static{this.\u0275fac=function(F){return new(F||d)(_.KVO(g.X),_.KVO(S.Ix),_.KVO(v.QG))}}static{this.\u0275prov=_.jDH({token:d,factory:d.\u0275fac})}}return d})()},6923:(et,me,u)=>{"use strict";u.d(me,{q:()=>d});var i=u(1594),e=u(6354),_=u(6976),g=u(4438),S=u(3853),v=u(1583),f=u(7005);let d=(()=>{class E{constructor(F,w,C){this.licenseService=F,this.router=w,this.localizeRouter=C,this.featureMap=new Map([["dynamic-auth",_.p.DynamicAuthentication],["auditing",_.p.Auditing],["clientaudits",_.p.Auditing],["useraudits",_.p.Auditing]])}canActivate(F,w){return this.licenseService.getLicenseInfo().pipe((0,i.$)(),(0,e.T)(C=>{if(!C.isStarterLicense())return!0;{const R=this.localizeRouter.translateRoute("/starter-mode/teaser");let k=_.p.None,O=w.url;for(let H of this.featureMap.entries())if(O.includes(H[0])){k=H[1];break}this.router.navigate([R],{queryParams:{feature:k}})}}))}static{this.\u0275fac=function(w){return new(w||E)(g.KVO(S.X),g.KVO(v.Ix),g.KVO(f.QG))}}static{this.\u0275prov=g.jDH({token:E,factory:E.\u0275fac})}}return E})()},9962:(et,me,u)=>{"use strict";u.d(me,{m:()=>E});var i=u(1594),e=u(6354),_=u(7380),g=u(4438),S=u(3853),v=u(5794),f=u(1780),d=u(1583);let E=(()=>{class m extends _.Q{constructor(w,C,R,k){super(k),this.licenseService=w,this.toastr=C,this.tranlate=R}canActivate(w,C){return this.licenseService.getLicenseInfo().pipe((0,i.$)(),(0,e.T)(R=>{if(!R.overClientLimit)return!0;{const k=this.tranlate.instant("Nav.Clients"),O=this.tranlate.instant("StarterMode.Nav.QuotaLimitExceededEditGuardTitle",{resources:k}),H=this.tranlate.instant("StarterMode.Nav.QuotaLimitExceededEditGuardMsg",{resources:k});this.toastr.warning(H,O,{timeOut:1e4}),super.redirectToView(w,C)}}))}static{this.\u0275fac=function(C){return new(C||m)(g.KVO(S.X),g.KVO(v.tw),g.KVO(f.c$),g.KVO(d.Ix))}}static{this.\u0275prov=g.jDH({token:m,factory:m.\u0275fac})}}return m})()},4814:(et,me,u)=>{"use strict";u.d(me,{y:()=>E});var i=u(1594),e=u(6354),_=u(7380),g=u(4438),S=u(3853),v=u(5794),f=u(1780),d=u(1583);let E=(()=>{class m extends _.Q{constructor(w,C,R,k){super(k),this.licenseService=w,this.toastr=C,this.tranlate=R}canActivate(w,C){return this.licenseService.getLicenseInfo().pipe((0,i.$)(),(0,e.T)(R=>{if(!R.overUserLimit)return!0;{const k=this.tranlate.instant("Nav.Clients"),O=this.tranlate.instant("StarterMode.Nav.QuotaLimitExceededEditGuardTitle",{resources:k}),H=this.tranlate.instant("StarterMode.Nav.QuotaLimitExceededEditGuardMsg",{resources:k});this.toastr.warning(H,O,{timeOut:1e4}),super.redirectToView(w,C)}}))}static{this.\u0275fac=function(C){return new(C||m)(g.KVO(S.X),g.KVO(v.tw),g.KVO(f.c$),g.KVO(d.Ix))}}static{this.\u0275prov=g.jDH({token:m,factory:m.\u0275fac})}}return m})()},9624:(et,me,u)=>{"use strict";u.r(me),u.d(me,{StarterModeModule:()=>we});var i=u(1583),e=u(1780),_=u(779),g=u(7005),S=u(6976),v=u(4438),f=u(3680),d=u(6406);let E=(()=>{class he{constructor(Ae,st,Fe){this.route=Ae,this.translate=st,this.router=Fe,this.featureMap=new Map([[S.p.DynamicAuthentication,this.translate.instant("DynamicAuth.Title.Generic")],[S.p.Auditing,this.translate.instant("Auditing.Title")],[S.p.ImportExportClients,this.translate.instant("Clients.Import.ImportExportClients")],[S.p.ExtraClientFlows,this.translate.instant("StarterMode.Clients.ExtraClientFlows")]])}ngOnInit(){this.generateDescription(),this.router.events.subscribe(Ae=>{this.generateDescription()})}generateDescription(){const Ae=+this.route.snapshot.queryParamMap.get("feature");if(Ae in S.p&&Ae!=S.p.None){const Fe=this.translate.instant("StarterMode.Teaser.RedirectedDescription").split("{0}");this.featureDescription=this.featureMap.get(Ae),this.preFeatureDescription=Fe[0],this.postFeatureDescription=Fe[1]}else this.preFeatureDescription=this.translate.instant("StarterMode.Teaser.Description")}static{this.\u0275fac=function(st){return new(st||he)(v.rXU(i.nX),v.rXU(e.c$),v.rXU(i.Ix))}}static{this.\u0275cmp=v.VBU({type:he,selectors:[["ng-component"]],decls:40,vars:33,consts:[[3,"title"],["id","StarterModeAgreement",1,"tw-container","mx-auto"],[1,"cms"],["id","description"],[1,"tw-list-disc","tw-list-inside","tw-indent-8"],["id","UpgradeAdminUI","href","https://www.identityserver.com/products/adminui/order-now?index=2&name=Enterprise","target","_blank",1,"tw-btn-success","tw-mr-3","tw-mb-3"],["id","ExtendDemo","href","mailto:support@identityserver.com?subject=Extend my AdminUI demo license",1,"tw-btn","tw-mr-3","tw-mb-3"]],template:function(st,Fe){1&st&&(v.nrm(0,"app-title-bar",0),v.nI1(1,"translate"),v.j41(2,"div",1)(3,"div",2)(4,"p",3),v.EFF(5),v.j41(6,"strong"),v.EFF(7),v.k0s(),v.EFF(8),v.k0s(),v.j41(9,"ul",4)(10,"li"),v.EFF(11),v.nI1(12,"translate"),v.k0s(),v.j41(13,"li"),v.EFF(14),v.nI1(15,"translate"),v.k0s(),v.j41(16,"li"),v.EFF(17),v.nI1(18,"translate"),v.k0s(),v.j41(19,"li"),v.EFF(20),v.nI1(21,"translate"),v.k0s(),v.j41(22,"li"),v.EFF(23),v.nI1(24,"translate"),v.k0s(),v.j41(25,"li"),v.EFF(26),v.nI1(27,"translate"),v.k0s(),v.j41(28,"li"),v.EFF(29),v.nI1(30,"translate"),v.k0s()()()(),v.j41(31,"app-button-bar")(32,"a",5)(33,"span"),v.EFF(34),v.nI1(35,"translate"),v.k0s()(),v.j41(36,"a",6)(37,"span"),v.EFF(38),v.nI1(39,"translate"),v.k0s()()()),2&st&&(v.Y8G("title",v.bMT(1,13,"StarterMode.Teaser.Title")),v.R7$(5),v.SpI("",Fe.preFeatureDescription," "),v.R7$(2),v.JRh(Fe.featureDescription),v.R7$(),v.SpI(" ",Fe.postFeatureDescription,""),v.R7$(3),v.JRh(v.bMT(12,15,"StarterMode.Teaser.Features.Authentication")),v.R7$(3),v.JRh(v.bMT(15,17,"StarterMode.Teaser.Features.UsersAndClients")),v.R7$(3),v.JRh(v.bMT(18,19,"StarterMode.Teaser.Features.ExtraClientFlows")),v.R7$(3),v.JRh(v.bMT(21,21,"StarterMode.Teaser.Features.Audits")),v.R7$(3),v.JRh(v.bMT(24,23,"StarterMode.Teaser.Features.Access")),v.R7$(3),v.JRh(v.bMT(27,25,"StarterMode.Teaser.Features.Import")),v.R7$(3),v.JRh(v.bMT(30,27,"StarterMode.Teaser.Features.DynamicAuth")),v.R7$(5),v.JRh(v.bMT(35,29,"StarterMode.UpgradeAdminUI")),v.R7$(4),v.JRh(v.bMT(39,31,"StarterMode.ExtendDemo")))},dependencies:[f.z,d.z,e.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return he})();var m=u(1594),F=u(3178),w=u(7773),C=u(1626),R=u(9564);let k=(()=>{class he{constructor(Ae,st){this.http=Ae,this.headersService=st,this.headers=new C.Lr,this.actionUrl="StarterMode",this.headers=st.setHeaders()}storeConsent(){return this.http.put(this.actionUrl,null,{headers:this.headers}).pipe()}static{this.\u0275fac=function(st){return new(st||he)(v.KVO(C.Qq),v.KVO(R.m))}}static{this.\u0275prov=v.jDH({token:he,factory:he.\u0275fac})}}return he})();var O=u(5794),H=u(1339),x=u(9196),$=u(177),U=u(8114);function G(he,Le){1&he&&(v.j41(0,"div",15)(1,"p",16)(2,"span"),v.EFF(3),v.nI1(4,"translate"),v.k0s()()()),2&he&&(v.R7$(3),v.JRh(v.bMT(4,1,"StarterMode.Consent.NonAdminUser")))}let ie=(()=>{class he{constructor(Ae,st,Fe,ft,Ye,zt){this.translate=Ae,this.permissionService=st,this.starterModeConsentService=Fe,this.toastr=ft,this.authService=Ye,this.configService=zt}ngOnInit(){this.permissionService.getUserPermissions().pipe((0,m.$)()).subscribe({next:Ae=>this.isAdmin=Ae.permissions.includes(F.a.All)}),this.configService.getConfig().pipe((0,m.$)()).subscribe({next:Ae=>this.starterModePersistance=Ae.starterModePersistence})}giveConsentToStarterMode(){this.isAdmin&&this.starterModeConsentService.storeConsent().pipe((0,m.$)()).subscribe({next:()=>{this.authService.logoff()},error:Ae=>{this.toastr.error(this.translate.instant("Notifications.StarterModeFailed"),this.translate.instant("Notifications.SomethingWrong"))}})}openStartModeNoPersistranceDocs(){window.open("https://docs.openiddictcomponents.com/adminui/Configuration_and_Integration/Miogrationless_Config#StarterMode","_blank")}static{this.\u0275fac=function(st){return new(st||he)(v.rXU(e.c$),v.rXU(w.n),v.rXU(k),v.rXU(O.tw),v.rXU(H.u),v.rXU(x.w))}}static{this.\u0275cmp=v.VBU({type:he,selectors:[["ng-component"]],decls:57,vars:56,consts:[["confirmStarterModeModal",""],["confirmStarterModeDocsModal",""],[3,"title"],["id","StarterModeAgreement",1,"tw-container","mx-auto"],["id","nonAdminUserWarning",4,"ngIf"],[1,"cms"],[1,"tw-list-disc","tw-list-inside","tw-indent-8"],["id","UpgradeAdminUI","href","https://www.identityserver.com/products/adminui/order-now?index=2&name=Enterprise","target","_blank",1,"tw-btn-success","tw-mr-3","tw-mb-3"],["id","confirmStarterModeBtn","data-toggle","modal",1,"tw-btn","tw-mr-3","tw-mb-3",3,"click","disabled"],["id","ExtendDemo","href","mailto:support@identityserver.com?subject=Extend my AdminUI demo license",1,"tw-btn-link","tw-mr-3","tw-mb-3"],[3,"confirm","modalId","type","buttonType","title","okText"],["body",""],[1,"tw-mb-4"],[1,"tw-pill-danger",3,"innerHTML"],[3,"confirm","modalId","buttonType","title","okText"],["id","nonAdminUserWarning"],["role","alert",1,"tw-alert-warning","tw-mb-4"]],template:function(st,Fe){if(1&st){const ft=v.RV6();v.nrm(0,"app-title-bar",2),v.nI1(1,"translate"),v.j41(2,"div",3),v.DNE(3,G,5,3,"div",4),v.j41(4,"div",5)(5,"p"),v.EFF(6),v.nI1(7,"translate"),v.k0s(),v.j41(8,"ul",6)(9,"li"),v.EFF(10),v.nI1(11,"translate"),v.k0s(),v.j41(12,"li"),v.EFF(13),v.nI1(14,"translate"),v.k0s(),v.j41(15,"li"),v.EFF(16),v.nI1(17,"translate"),v.k0s(),v.j41(18,"li"),v.EFF(19),v.nI1(20,"translate"),v.k0s(),v.j41(21,"li"),v.EFF(22),v.nI1(23,"translate"),v.k0s(),v.j41(24,"li"),v.EFF(25),v.nI1(26,"translate"),v.k0s(),v.j41(27,"li"),v.EFF(28),v.nI1(29,"translate"),v.k0s()()()(),v.j41(30,"app-button-bar")(31,"a",7)(32,"span"),v.EFF(33),v.nI1(34,"translate"),v.k0s()(),v.j41(35,"button",8),v.bIt("click",function(){v.eBV(ft);const zt=v.sdS(44),Lt=v.sdS(52);return v.Njj(Fe.starterModePersistance?zt.show():Lt.show())}),v.j41(36,"span"),v.EFF(37),v.nI1(38,"translate"),v.k0s()(),v.j41(39,"a",9)(40,"span"),v.EFF(41),v.nI1(42,"translate"),v.k0s()()(),v.j41(43,"app-confirmation-modal",10,0),v.bIt("confirm",function(){return v.eBV(ft),v.Njj(Fe.giveConsentToStarterMode())}),v.qex(45,11),v.j41(46,"p",12),v.EFF(47),v.nI1(48,"translate"),v.k0s(),v.nrm(49,"p",13),v.nI1(50,"translate"),v.bVm(),v.k0s(),v.j41(51,"app-confirmation-modal",14,1),v.bIt("confirm",function(){return v.eBV(ft),v.Njj(Fe.openStartModeNoPersistranceDocs())}),v.qex(53,11),v.j41(54,"p",12),v.EFF(55),v.nI1(56,"translate"),v.k0s(),v.bVm(),v.k0s()}2&st&&(v.Y8G("title",v.bMT(1,26,"StarterMode.Consent.Title")),v.R7$(3),v.Y8G("ngIf",!Fe.isAdmin),v.R7$(3),v.JRh(v.bMT(7,28,"StarterMode.Consent.Description")),v.R7$(4),v.JRh(v.bMT(11,30,"StarterMode.Consent.Features.Authentication")),v.R7$(3),v.JRh(v.bMT(14,32,"StarterMode.Consent.Features.Users")),v.R7$(3),v.JRh(v.bMT(17,34,"StarterMode.Consent.Features.Clients")),v.R7$(3),v.JRh(v.bMT(20,36,"StarterMode.Consent.Features.ClientFlows")),v.R7$(3),v.JRh(v.bMT(23,38,"StarterMode.Consent.Features.Import")),v.R7$(3),v.JRh(v.bMT(26,40,"StarterMode.Consent.Features.Audits")),v.R7$(3),v.JRh(v.bMT(29,42,"StarterMode.Consent.Features.DynamicAuth")),v.R7$(5),v.JRh(v.bMT(34,44,"StarterMode.UpgradeAdminUI")),v.R7$(2),v.Y8G("disabled",!Fe.isAdmin),v.R7$(2),v.JRh(v.bMT(38,46,"StarterMode.ConfirmStarterMode")),v.R7$(4),v.JRh(v.bMT(42,48,"StarterMode.ExtendDemo")),v.R7$(2),v.Y8G("modalId","confirmStarterModeModal")("type","danger")("buttonType","danger")("title","StarterMode.ConfirmationModal.Title")("okText","Common.Confirm"),v.R7$(4),v.JRh(v.bMT(48,50,"StarterMode.ConfirmationModal.Description")),v.R7$(2),v.Y8G("innerHTML",v.bMT(50,52,"StarterMode.ConfirmationModal.Warning"),v.npT),v.R7$(2),v.Y8G("modalId","confirmStarterModeDocsModal")("buttonType",null)("title","StarterMode.ConfirmationModal.Title")("okText","Common.Documentation"),v.R7$(4),v.JRh(v.bMT(56,54,"StarterMode.ConfirmationModal.DescriptionDocs")))},dependencies:[$.bT,f.z,d.z,U.B,e.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return he})();var le=u(5517),L=u(2892),Q=u(6354),te=u(3853);let I=(()=>{class he{constructor(Ae,st,Fe){this.licenseService=Ae,this.router=st,this.localizeRouter=Fe}canActivate(Ae,st){return this.licenseService.getLicenseInfo().pipe((0,m.$)(),(0,Q.T)(Fe=>{if(Fe.isExpectingStarterConsent())return!0;{const ft=this.localizeRouter.translateRoute("/home");this.router.navigate([ft])}}))}static{this.\u0275fac=function(st){return new(st||he)(v.KVO(te.X),v.KVO(i.Ix),v.KVO(g.QG))}}static{this.\u0275prov=v.jDH({token:he,factory:he.\u0275fac})}}return he})();var oe=u(4446);const Y=[{path:"starter-mode/teaser",component:E,canActivate:[L.h,oe._,le.H]},{path:"starter-mode/consent",component:ie,canActivate:[L.h,I]}];let _e=(()=>{class he{static{this.\u0275fac=function(st){return new(st||he)}}static{this.\u0275mod=v.$C({type:he})}static{this.\u0275inj=v.G2t({providers:[le.H],imports:[i.iI.forChild(Y),g.XE.forChild(Y),i.iI]})}}return he})();var Oe=u(9962),Re=u(4814),xe=u(367),Je=u(1993),Te=u(4367);let we=(()=>{class he{static{this.\u0275fac=function(st){return new(st||he)}}static{this.\u0275mod=v.$C({type:he})}static{this.\u0275inj=v.G2t({providers:[k,I,le.H,Oe.m,Re.y],imports:[i.iI,_e,e.h,xe.m,_.Q_,Je.E,Te.N]})}}return he})()},7921:(et,me,u)=>{"use strict";u.d(me,{b:()=>e});var i=u(1746);class e{constructor(g){Object.keys(g).forEach(v=>{this[v]=e.toReadOnlyValue(g[v])})}}(e||(e={})).toReadOnlyValue=function g(S){let v=S;return"boolean"==typeof S&&(v=v?"Yes":"No"),S instanceof Date&&(v=v?"Yes":"No"),S instanceof Array&&(v=S.join(", ").trimEnd()),new i.w(v)}},4866:(et,me,u)=>{"use strict";u.d(me,{A:()=>e});var e,i=u(3806);!function(_){const g=new Map([[i.u.Minute,60],[i.u.Minutes,60],[i.u.Hour,3600],[i.u.Hours,3600],[i.u.Day,86400],[i.u.Days,86400],[i.u.Week,604800],[i.u.Weeks,604800],[i.u.Month,2629743],[i.u.Months,2629743],[i.u.Year,31556926],[i.u.Years,31556926],[i.u.Unlimited,null]]);_.getUnitMap=function S(){return g}}(e||(e={}))},6303:(et,me,u)=>{"use strict";u.d(me,{t:()=>i});var i=function(e){return e[e.Single=0]="Single",e[e.Multi=1]="Multi",e[e.CommaSeparated=2]="CommaSeparated",e[e.LifetimePicker=3]="LifetimePicker",e}(i||{})},1746:(et,me,u)=>{"use strict";u.d(me,{w:()=>i});class i{constructor(_,g){this.MainText=_,this.HelpText=g??null}}},1927:(et,me,u)=>{"use strict";u.d(me,{K:()=>i});var i=function(e){return e.Jwt="Jwt",e.Reference="Reference",e}(i||{})},6701:(et,me,u)=>{"use strict";u.d(me,{s:()=>i});var i=function(e){return e.Unknown="Unknown",e.ServerSide="ServerSide",e.Machine="Machine",e.CIBAMachine="CIBAMachine",e.Native="Native",e.Device="Device",e.Saml="Saml",e.WsFed="WsFed",e.BrowserBased="BrowserBased",e.LegacyClientSide="LegacyClientSide",e.ServerSidePKCE="ServerSidePKCE",e.NativePKCE="NativePKCE",e}(i||{})},3806:(et,me,u)=>{"use strict";u.d(me,{u:()=>i});var i=function(e){return e.Minute="Minute",e.Minutes="Minutes",e.Hour="Hour",e.Hours="Hours",e.Day="Day",e.Days="Days",e.Week="Week",e.Weeks="Weeks",e.Month="Month",e.Months="Months",e.Year="Year",e.Years="Years",e.Unlimited="Unlimited",e.Global="Global",e}(i||{})},6976:(et,me,u)=>{"use strict";u.d(me,{p:()=>i});var i=function(e){return e[e.None=0]="None",e[e.DynamicAuthentication=1]="DynamicAuthentication",e[e.Auditing=2]="Auditing",e[e.ImportExportClients=3]="ImportExportClients",e[e.ExtraClientFlows=4]="ExtraClientFlows",e}(i||{})},6772:(et,me,u)=>{"use strict";u.d(me,{H:()=>i});var i=function(e){return e.Sliding="Sliding",e.Absolute="Absolute",e}(i||{})},78:(et,me,u)=>{"use strict";u.d(me,{B:()=>i});var i=function(e){return e.ReUse="ReUse",e.OneTimeOnly="OneTimeOnly",e}(i||{})},9988:(et,me,u)=>{"use strict";u.d(me,{$:()=>i});var i=function(e){return e.Home="Home",e.SinglePageApplication="SinglePageApplication",e.WebApplication="WebApplication",e.NativeApplication="NativeApplication",e.RobotApplication="RobotApplication",e.CIBARobotApplication="CIBARobotApplication",e.DeviceApplication="DeviceApplication",e.SamlApplication="SamlApplication",e.WsFedApplication="WsFedApplication",e.LegacySinglePageApplication="LegacySinglePageApplication",e.PKCEWebApplication="PKCEWebApplication",e.PKCENativeApplication="PKCENativeApplication",e.ImportWizard="ImportWizard",e.AddDynamicAuth="AddDynamicAuth",e.AddOidcDynamicAuth="AddOidcDynamicAuth",e.AddSamlDynamicAuth="AddSamlDynamicAuth",e.AddOpenIddictScope="AddOpenIddictScope",e.ScopeResources="ScopeResources",e}(i||{})},9957:(et,me,u)=>{"use strict";u.d(me,{I:()=>i});var i=function(e){return e[e.NotHandled=0]="NotHandled",e[e.Toast=1]="Toast",e[e.Navigate=2]="Navigate",e}(i||{})},1410:(et,me,u)=>{"use strict";u.d(me,{y:()=>i});var i=function(e){return e.Duende="Duende",e.OpenIddict="OpenIddict",e}(i||{})},4589:(et,me,u)=>{"use strict";u.d(me,{G:()=>i});var i=function(e){return e[e.None=0]="None",e.Production="Production",e.NonProduction="Non-Production",e.Demo="Demo",e.Starter="Starter",e}(i||{})},8284:(et,me,u)=>{"use strict";u.d(me,{v:()=>i});var i=function(e){return e[e.user=0]="user",e[e.role=1]="role",e[e.claimType=2]="claimType",e[e.client=3]="client",e[e.identityResource=4]="identityResource",e[e.protectedResource=5]="protectedResource",e[e.serviceProvider=6]="serviceProvider",e[e.relyingParty=7]="relyingParty",e[e.dynamicAuth=8]="dynamicAuth",e[e.scope=9]="scope",e}(i||{})},4491:(et,me,u)=>{"use strict";u.d(me,{$:()=>i});let i=(()=>{class e{static{this.Implicit="implicit"}static{this.Hybrid="hybrid"}static{this.AuthorizationCode="authorization_code"}static{this.ClientCredentials="client_credentials"}static{this.ResourceOwnerPassword="password"}static{this.Device="urn:ietf:params:oauth:grant-type:device_code"}static{this.CIBA="urn:openid:params:grant-type:ciba"}}return e})()},1258:(et,me,u)=>{"use strict";u.d(me,{N:()=>i});var i=function(e){return e.Save="Save",e.SaveAndReAdd="SaveAndReAdd",e.Delete="Delete",e}(i||{})},7185:(et,me,u)=>{"use strict";u.d(me,{q:()=>i});var i=function(e){return e.Default="Default",e.Warning="Warning",e}(i||{})},3178:(et,me,u)=>{"use strict";u.d(me,{a:()=>i});var i=function(e){return e.None="None",e.UserManager="UserManager",e.UserManagerReadOnly="UserManagerReadOnly",e.IdentityServerManager="IdentityServerManager",e.IdentityServerManagerReadOnly="IdentityServerManagerReadOnly",e.Auditer="Auditer",e.AllReadOnly="AllReadOnly",e.All="All",e}(i||{})},785:(et,me,u)=>{"use strict";u.d(me,{z:()=>e});var i=u(9838);class e{constructor(){this.description="",this.value="",this.expiration=null,this.created=null,this.type=(new i.S9).SharedSecret}}},1088:(et,me,u)=>{"use strict";u.d(me,{Q:()=>_});var i=u(3806),e=u(4866);class _{constructor(S){this.unitMap=e.A.getUnitMap(),this.formatSeconds(S)}formatSeconds(S){return this.years=Math.floor(S/this.unitMap.get(i.u.Years)),S-=this.years*this.unitMap.get(i.u.Years),this.months=Math.floor(S/this.unitMap.get(i.u.Month)),S-=this.months*this.unitMap.get(i.u.Month),this.weeks=Math.floor(S/this.unitMap.get(i.u.Weeks)),S-=this.weeks*this.unitMap.get(i.u.Weeks),this.days=Math.floor(S/this.unitMap.get(i.u.Days)),S-=this.days*this.unitMap.get(i.u.Days),this.hours=Math.floor(S/this.unitMap.get(i.u.Hours)),S-=this.hours*this.unitMap.get(i.u.Hours),this.minutes=Math.floor(S/this.unitMap.get(i.u.Minute)),S-=this.minutes*this.unitMap.get(i.u.Minute),this.seconds=S,this}}},978:(et,me,u)=>{"use strict";u.d(me,{D:()=>e,U:()=>i});var i=function(_){return _[_.Disabled=0]="Disabled",_[_.Duende=1]="Duende",_[_.Rsk=2]="Rsk",_}(i||{});class e{constructor(){this.defaultUserValidation=!0,this.addUserPassword=!1,this.enforcerAuthorizationEnabled=!1,this.enableSharedScopes=!1,this.sessionManagementEnabled=!1,this.dynamicAuthenticationFlag=void 0}}},7756:(et,me,u)=>{"use strict";u.d(me,{EK:()=>_,m8:()=>e});class e{constructor(S,v,f,d){this.webhooks={MfaReset:S,PasswordReset:v,UserRegistration:f,ServerSideSessionDelete:d}}}var _=function(g){return g.MFAReset="MfaReset",g.PasswordReset="PasswordReset",g.UserRegistration="UserRegistration",g.ServerSideSessionDelete="ServerSideSessionDelete",g}(_||{})},7212:(et,me,u)=>{"use strict";u.d(me,{D:()=>i});class i{constructor(){this.SigningCertificates=[]}}},1744:(et,me,u)=>{"use strict";u.d(me,{$R:()=>i,XF:()=>v,jD:()=>_,ot:()=>e});class i{}var e=function(f){return f.Client="Client",f.ClaimType="ClaimType",f.IdentityResource="IdentityResource",f.ProtectedResource="ProtectedResource",f}(e||{}),_=function(f){return f.New="New",f.Duplicate="Duplicate",f.Conflicted="Conflicted",f}(_||{}),v=function(f){return f.Importing="Importing",f.Existing="Existing",f}(v||{})},590:(et,me,u)=>{"use strict";u.d(me,{n:()=>e});var i=u(1744);let e=(()=>{class _{static{this.client="Client"}static{this.resource="Resource"}static{this.protectedResource="ProtectedResource"}static{this.claimType="ClaimType"}static getSummaryDisplayType(S){switch(S){case i.ot.Client:return this.client;case i.ot.IdentityResource:case i.ot.ProtectedResource:return this.resource;case i.ot.ClaimType:return this.claimType}}}return _})()},7957:(et,me,u)=>{"use strict";u.d(me,{p:()=>i});class i{constructor(){this.nameComponentMap=new Map,this.nameTitleMap=new Map}getWizard(_){return this.nameComponentMap.get(_)}getWizardTitle(_){return this.nameTitleMap.get(_)}}},8575:(et,me,u)=>{"use strict";u.d(me,{J:()=>i});class i{constructor(_,g){this.setupTitle=_,this.summaryTitle=g}}},7329:(et,me,u)=>{"use strict";u.d(me,{W:()=>i});class i{constructor(_,g){this.component=_,this.data=g,g||(g={})}}},923:(et,me,u)=>{"use strict";u.d(me,{N:()=>i});var i=function(e){return e.standardDate="standardDate",e.standardDateTime="standardDateTime",e.prettyDateTime="prettyDateTime",e}(i||{})},1589:(et,me,u)=>{"use strict";u.d(me,{El:()=>S,r7:()=>g,sp:()=>_});var i=u(7263),e=u(4438);let _=(()=>{class v{transform(d){return(0,i.KU)(d,"ccc LLL dd yyyy, T")}static{this.\u0275fac=function(E){return new(E||v)}}static{this.\u0275pipe=e.EJ8({name:"prettyDateTime",type:v,pure:!0})}}return v})(),g=(()=>{class v{transform(d){return(0,i.KU)(d,"LLL dd yyyy T")}static{this.\u0275fac=function(E){return new(E||v)}}static{this.\u0275pipe=e.EJ8({name:"standardDateTime",type:v,pure:!0})}}return v})(),S=(()=>{class v{transform(d){return(0,i.KU)(d,"LLL dd yyyy")}static{this.\u0275fac=function(E){return new(E||v)}}static{this.\u0275pipe=e.EJ8({name:"standardDate",type:v,pure:!0})}}return v})()},1683:(et,me,u)=>{"use strict";u.d(me,{Y:()=>g});var i=u(177),e=u(1780),_=u(4438);let g=(()=>{class S{static{this.\u0275fac=function(d){return new(d||S)}}static{this.\u0275mod=_.$C({type:S})}static{this.\u0275inj=_.G2t({imports:[i.MD,e.h]})}}return S})()},4692:(et,me,u)=>{"use strict";u.d(me,{u:()=>_});var i=u(1746),e=u(4438);let _=(()=>{class g{transform(v,f){return new i.w(v)}static{this.\u0275fac=function(f){return new(f||g)}}static{this.\u0275pipe=e.EJ8({name:"readOnlyValue",type:g,pure:!0})}}return g})()},2467:(et,me,u)=>{"use strict";u.d(me,{C:()=>e});var i=u(4438);let e=(()=>{class _{constructor(){this.map=new Map,this.map.set("name","Common.Name"),this.map.set("clientId","Clients.ID"),this.map.set("entityId","Clients.EntityId"),this.map.set("realm","Clients.Realm"),this.map.set("clientName","Common.DisplayName"),this.map.set("description","Common.Description"),this.map.set("clientUri","Common.DisplayURL"),this.map.set("logoUri","Common.LogoURL"),this.map.set("requireConsent","Clients.RequireConsent.Summary"),this.map.set("callbackUrl","Common.CallbackURL"),this.map.set("logoutUrl","Common.LogoutURL"),this.map.set("corsurl","Common.CORSUrl"),this.map.set("redirectUris","Common.RedirectUris"),this.map.set("secrets","Common.Secrets"),this.map.set("identityResources","Nav.IdentityResources"),this.map.set("protectedResources","Nav.ProtectedResources"),this.map.set("ACSEndpoint","Clients.AcsEndpoints"),this.map.set("SLOEndpoint","Clients.SloEndpoints"),this.map.set("ARSEndpoint","Clients.ArsEndpoints"),this.map.set("cibaLifetime","Common.CIBALifetime"),this.map.set("pollingInterval","Common.PollingInterval"),this.map.set("resources","Scopes.Resources.Label"),this.map.set("scheme","DynamicAuth.Scheme.Label"),this.map.set("displayName","DynamicAuth.DisplayName.Label"),this.map.set("authority","DynamicAuth.Authority.Label"),this.map.set("idpClientId","DynamicAuth.ClientId.Label"),this.map.set("callbackPath","DynamicAuth.CallbackPath.Label"),this.map.set("flow","DynamicAuth.Flow.Label"),this.map.set("scopes","DynamicAuth.Scopes.Label"),this.map.set("clientSecret","DynamicAuth.ClientSecret.Label"),this.map.set("signInScheme","DynamicAuth.SignInScheme.Label"),this.map.set("signOutScheme","DynamicAuth.SignOutScheme.Label"),this.map.set("callbackPathAcs","DynamicAuth.CallbackPathAcsEndpoint.Label"),this.map.set("certFile","DynamicAuth.CertFile.Label"),this.map.set("certPassword","DynamicAuth.CertPassword.Label"),this.map.set("metadataAddress","DynamicAuth.SAML.IdpMetadataAddress.Label")}transform(S,v){return this.map.get(S)??S}static{this.\u0275fac=function(v){return new(v||_)}}static{this.\u0275pipe=i.EJ8({name:"keyToString",type:_,pure:!0})}}return _})()},6807:(et,me,u)=>{"use strict";u.d(me,{B:()=>_});var i=u(4438),e=u(7883);let _=(()=>{class g{constructor(v){this.securityService=v}notAllowedToEditClaim(v){return!this.securityService.allView&&this.isPolicyClaim(v)}isPolicyClaim(v){if(void 0!==v){const f=this.securityService.policyClaims;for(let d=0;d<f.length;d++)if(f[d].type===v.type&&f[d].value===v.value)return!0;return!1}}static{this.\u0275fac=function(f){return new(f||g)(i.KVO(e.i))}}static{this.\u0275prov=i.jDH({token:g,factory:g.\u0275fac})}}return g})()},2972:(et,me,u)=>{"use strict";u.d(me,{X:()=>g});var i=u(4412);class e{constructor(){this.showNav=!1,this.showBanner=!1,this.showFooter=!1}}var _=u(4438);let g=(()=>{class S{constructor(){this.viewConfig=new e,this.viewConfig$=new i.t(this.viewConfig)}startInitialAdminCreation(){this.viewConfig.showNav=!1,this.viewConfig.showFooter=!1,this.viewConfig.showBanner=!1,this.viewConfig$.next(this.viewConfig)}finishInitialAdminCreation(){this.showAll()}failAuth(){this.showAll()}successAuth(){this.showAll()}failedEnforcerCompilation(){this.viewConfig.showFooter=!0,this.viewConfig.showNav=!1,this.viewConfig.showBanner=!0,this.viewConfig$.next(this.viewConfig)}showAll(){this.viewConfig.showFooter=!0,this.viewConfig.showNav=!0,this.viewConfig.showBanner=!0,this.viewConfig$.next(this.viewConfig)}static{this.\u0275fac=function(d){return new(d||S)}}static{this.\u0275prov=_.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})()},1339:(et,me,u)=>{"use strict";u.d(me,{u:()=>S});var i=u(7263),e=u(4438),_=u(1626),g=u(2972);let S=(()=>{class v{constructor(d,E){this.http=d,this.appComponentViewService=E,this.isAuthenticated=!1,this.isCreatingInitialAdministrator=!1;const m=(0,i.$_)();this.actionUrl="auth",this.authUrl=`${m}auth`}login(){window.location.href=`${this.authUrl}/conditionallogin`}logoff(){this.isAuthenticated=!1,this.appComponentViewService.failAuth(),window.location.href=`${this.authUrl}/logout`}isAuthenticatedCheck(){return this.http.get(`${this.actionUrl}/isauthenticated`)}static{this.\u0275fac=function(E){return new(E||v)(e.KVO(_.Qq),e.KVO(g.X))}}static{this.\u0275prov=e.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})()},6888:(et,me,u)=>{"use strict";u.d(me,{W:()=>e});var i=u(4438);let e=(()=>{class _{constructor(){this.storage=sessionStorage,this.countKey="retryCount",this.maxRetryAttempts=1}startLogin(){this.retryCount=0}endLogin(){this.storage.removeItem(this.countKey)}get canRetryLogin(){return this.retryCount+1<=this.maxRetryAttempts}retryLogin(){this.canRetryLogin&&(this.retryCount+=1)}get retryCount(){const S=this.storage.getItem(this.countKey);let v=S?Number(S):0;return v=isNaN(v)?0:v,v}set retryCount(S){(S=isNaN(S)?0:S)<=this.maxRetryAttempts&&this.storage.setItem(this.countKey,S.toString())}static{this.\u0275fac=function(v){return new(v||_)}}static{this.\u0275prov=i.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})()},2734:(et,me,u)=>{"use strict";u.d(me,{x:()=>g});var i=u(1626),e=u(7263),_=u(4438);let g=(()=>{class S{buildParams(f,d,E,m,F,w,C,R){let k=new i.Nl;return k=this.addStringParam(k,"auditAction",f?.auditAction),k=this.addStringParam(k,"subject",f?.subject),k=this.addStringParam(k,"resource",f?.resourceName),k=this.addStringParam(k,"source",f?.source),k=this.addAnyParam(k,"success",C),k=this.addStringParam(k,"sort",w),k=this.addStringParam(k,"to",E),k=this.addStringParam(k,"from",d),k=this.addAnyParam(k,"page",m),k=this.addAnyParam(k,"pageSize",F),(0,e.hX)(R)||(k=this.addAnyParam(k,"bySubject",R)),k}addAnyParam(f,d,E){return(0,e.hX)(E)?f:f.append(d,String(E))}addStringParam(f,d,E){return(0,e.gP)(E)?f:f.append(d,E)}static{this.\u0275fac=function(d){return new(d||S)}}static{this.\u0275prov=_.jDH({token:S,factory:S.\u0275fac})}}return S})()},3583:(et,me,u)=>{"use strict";u.d(me,{t:()=>_});var i=u(4412),e=u(4438);let _=(()=>{class g{constructor(){this.unsavedCache=new i.t(null),this.unsavedCache$=this.unsavedCache.asObservable(),this.savedCache=new i.t(null),this.savedCache$=this.savedCache.asObservable(),this.componentDirtyValidMap=new Map}onSave(){this.componentDirtyValidMap.clear()}static{this.\u0275fac=function(f){return new(f||g)}}static{this.\u0275prov=e.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})()},2261:(et,me,u)=>{"use strict";u.d(me,{V:()=>_l});var i=u(467);class e{}var _=u(5955);function S(Ve,h,b){var M;return Ve instanceof Object&&null!==(M=Ve[h])&&void 0!==M?M:b}function v(Ve,h=0,b=Ve.byteLength-h,M=!1){let z="";for(const ce of new Uint8Array(Ve,h,b)){const Ce=ce.toString(16).toUpperCase();1===Ce.length&&(z+="0"),z+=Ce,M&&(z+=" ")}return z.trim()}function f(Ve,h,b,M){return h instanceof ArrayBuffer?h.byteLength?b<0?(Ve.error="Wrong parameter: inputOffset less than zero",!1):M<0?(Ve.error="Wrong parameter: inputLength less than zero",!1):!(h.byteLength-b-M<0&&(Ve.error="End of input reached before message was fully decoded (inconsistent offset and length values)",1)):(Ve.error="Wrong parameter: inputBuffer has zero length",!1):(Ve.error='Wrong parameter: inputBuffer must be "ArrayBuffer"',!1)}function d(Ve,h){let b=0;if(1===Ve.length)return Ve[0];for(let M=Ve.length-1;M>=0;M--)b+=Ve[Ve.length-1-M]*Math.pow(2,h*M);return b}function E(Ve,h,b=-1){const M=b;let z=Ve,ce=0,Ce=Math.pow(2,h);for(let He=1;He<8;He++){if(Ve<Ce){let A;if(M<0)A=new ArrayBuffer(He),ce=He;else{if(M<He)return new ArrayBuffer(0);A=new ArrayBuffer(M),ce=M}const V=new Uint8Array(A);for(let B=He-1;B>=0;B--){const Z=Math.pow(2,B*h);V[ce-B-1]=Math.floor(z/Z),z-=V[ce-B-1]*Z}return A}Ce*=Math.pow(2,h)}return new ArrayBuffer(0)}function m(...Ve){let h=0,b=0;for(const ce of Ve)h+=ce.byteLength;const M=new ArrayBuffer(h),z=new Uint8Array(M);for(const ce of Ve)z.set(new Uint8Array(ce),b),b+=ce.byteLength;return M}function F(...Ve){let h=0,b=0;for(const ce of Ve)h+=ce.length;const M=new ArrayBuffer(h),z=new Uint8Array(M);for(const ce of Ve)z.set(ce,b),b+=ce.length;return z}function w(){const Ve=new Uint8Array(this.valueHex);this.valueHex.byteLength>=2&&(255===Ve[0]&&128&Ve[1]||0===Ve[0]&&!(128&Ve[1]))&&this.warnings.push("Needlessly long format");const h=new ArrayBuffer(this.valueHex.byteLength),b=new Uint8Array(h);for(let He=0;He<this.valueHex.byteLength;He++)b[He]=0;b[0]=128&Ve[0];const M=d(b,8),z=new ArrayBuffer(this.valueHex.byteLength),ce=new Uint8Array(z);for(let He=0;He<this.valueHex.byteLength;He++)ce[He]=Ve[He];return ce[0]&=127,d(ce,8)-M}function C(Ve){const h=Ve<0?-1*Ve:Ve;let b=128;for(let M=1;M<8;M++){if(h<=b){if(Ve<0){const He=E(b-h,8,M);return new Uint8Array(He)[0]|=128,He}let z=E(h,8,M),ce=new Uint8Array(z);if(128&ce[0]){const Ce=z.slice(0),He=new Uint8Array(Ce);z=new ArrayBuffer(z.byteLength+1),ce=new Uint8Array(z);for(let A=0;A<Ce.byteLength;A++)ce[A+1]=He[A];ce[0]=0}return z}b*=Math.pow(2,8)}return new ArrayBuffer(0)}function R(Ve,h){if(Ve.byteLength!==h.byteLength)return!1;const b=new Uint8Array(Ve),M=new Uint8Array(h);for(let z=0;z<b.length;z++)if(b[z]!==M[z])return!1;return!0}function k(Ve,h){const b=Ve.toString(10);if(h<b.length)return"";const M=h-b.length,z=new Array(M);for(let Ce=0;Ce<M;Ce++)z[Ce]="0";return z.join("").concat(b)}const O="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",H="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=";function x(Ve,h=!1,b=!1,M=!1){let z=0,ce=0,Ce=0,He="";const A=h?H:O;if(M){let V=0;for(let B=0;B<Ve.length;B++)if(0!==Ve.charCodeAt(B)){V=B;break}Ve=Ve.slice(V)}for(;z<Ve.length;){const V=Ve.charCodeAt(z++);z>=Ve.length&&(ce=1);const B=Ve.charCodeAt(z++);z>=Ve.length&&(Ce=1);const Z=Ve.charCodeAt(z++),be=V>>2,Ge=(3&V)<<4|B>>4;let vt=(15&B)<<2|Z>>6,sn=63&Z;1===ce?vt=sn=64:1===Ce&&(sn=64),He+=b?64===vt?`${A.charAt(be)}${A.charAt(Ge)}`:64===sn?`${A.charAt(be)}${A.charAt(Ge)}${A.charAt(vt)}`:`${A.charAt(be)}${A.charAt(Ge)}${A.charAt(vt)}${A.charAt(sn)}`:`${A.charAt(be)}${A.charAt(Ge)}${A.charAt(vt)}${A.charAt(sn)}`}return He}function $(Ve,h=!1,b=!1){const M=h?H:O;function z(A){for(let V=0;V<64;V++)if(M.charAt(V)===A)return V;return 64}function ce(A){return 64===A?0:A}let Ce=0,He="";for(;Ce<Ve.length;){const A=z(Ve.charAt(Ce++)),V=Ce>=Ve.length?0:z(Ve.charAt(Ce++)),B=Ce>=Ve.length?0:z(Ve.charAt(Ce++)),Z=Ce>=Ve.length?0:z(Ve.charAt(Ce++)),be=ce(A)<<2|ce(V)>>4,Ge=(15&ce(V))<<4|ce(B)>>2,vt=(3&ce(B))<<6|ce(Z);He+=String.fromCharCode(be),64!==B&&(He+=String.fromCharCode(Ge)),64!==Z&&(He+=String.fromCharCode(vt))}if(b){let V=-1;for(let B=He.length-1;B>=0;B--)if(0!==He.charCodeAt(B)){V=B;break}He=-1!==V?He.slice(0,V+1):""}return He}function U(Ve){let h="";const b=new Uint8Array(Ve);for(const M of b)h+=String.fromCharCode(M);return h}function G(Ve){const h=Ve.length,b=new ArrayBuffer(h),M=new Uint8Array(b);for(let z=0;z<h;z++)M[z]=Ve.charCodeAt(z);return b}const ie=Math.log(2);function le(Ve){const h=Math.log(Ve)/ie,b=Math.floor(h),M=Math.round(h);return b===M?b:M}function L(Ve,h){for(const b of h)delete Ve[b]}function Q(){if(typeof BigInt>"u")throw new Error("BigInt is not defined. Your environment doesn't implement BigInt.")}function te(Ve){let h=0,b=0;for(let z=0;z<Ve.length;z++)h+=Ve[z].byteLength;const M=new Uint8Array(h);for(let z=0;z<Ve.length;z++){const ce=Ve[z];M.set(new Uint8Array(ce),b),b+=ce.byteLength}return M.buffer}function I(Ve,h,b,M){return h instanceof Uint8Array?h.byteLength?b<0?(Ve.error="Wrong parameter: inputOffset less than zero",!1):M<0?(Ve.error="Wrong parameter: inputLength less than zero",!1):!(h.byteLength-b-M<0&&(Ve.error="End of input reached before message was fully decoded (inconsistent offset and length values)",1)):(Ve.error="Wrong parameter: inputBuffer has zero length",!1):(Ve.error="Wrong parameter: inputBuffer must be 'Uint8Array'",!1)}class oe{constructor(){this.items=[]}write(h){this.items.push(h)}final(){return te(this.items)}}const Y=[new Uint8Array([1])],_e="0123456789",Oe="name",Re="valueHexView",ft=new ArrayBuffer(0),Ye=new Uint8Array(0),zt="EndOfContent",Lt="OCTET STRING",Et="BIT STRING";function _t(Ve){var h;return(h=class extends Ve{constructor(...M){var z;super(...M);const ce=M[0]||{};this.isHexOnly=null!==(z=ce.isHexOnly)&&void 0!==z&&z,this.valueHexView=ce.valueHex?_._H.toUint8Array(ce.valueHex):Ye}get valueHex(){return this.valueHexView.slice().buffer}set valueHex(M){this.valueHexView=new Uint8Array(M)}fromBER(M,z,ce){const Ce=M instanceof ArrayBuffer?new Uint8Array(M):M;if(!I(this,Ce,z,ce))return-1;const He=z+ce;return this.valueHexView=Ce.subarray(z,He),this.valueHexView.length?(this.blockLength=ce,He):(this.warnings.push("Zero buffer length"),z)}toBER(M=!1){return this.isHexOnly?M?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.byteLength===this.valueHexView.buffer.byteLength?this.valueHexView.buffer:this.valueHexView.slice().buffer:(this.error="Flag 'isHexOnly' is not set, abort",ft)}toJSON(){return{...super.toJSON(),isHexOnly:this.isHexOnly,valueHex:_.U$.ToHex(this.valueHexView)}}}).NAME="hexBlock",h}let J=(()=>{class Ve{constructor({blockLength:b=0,error:M="",warnings:z=[],valueBeforeDecode:ce=Ye}={}){this.blockLength=b,this.error=M,this.warnings=z,this.valueBeforeDecodeView=_._H.toUint8Array(ce)}static blockName(){return this.NAME}get valueBeforeDecode(){return this.valueBeforeDecodeView.slice().buffer}set valueBeforeDecode(b){this.valueBeforeDecodeView=new Uint8Array(b)}toJSON(){return{blockName:this.constructor.NAME,blockLength:this.blockLength,error:this.error,warnings:this.warnings,valueBeforeDecode:_.U$.ToHex(this.valueBeforeDecodeView)}}}return Ve.NAME="baseBlock",Ve})(),X=(()=>{class Ve extends J{fromBER(b,M,z){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}toBER(b,M){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}}return Ve.NAME="valueBlock",Ve})(),q=(()=>{class Ve extends(_t(J)){constructor({idBlock:b={}}={}){var M,z,ce,Ce;super(),b?(this.isHexOnly=null!==(M=b.isHexOnly)&&void 0!==M&&M,this.valueHexView=b.valueHex?_._H.toUint8Array(b.valueHex):Ye,this.tagClass=null!==(z=b.tagClass)&&void 0!==z?z:-1,this.tagNumber=null!==(ce=b.tagNumber)&&void 0!==ce?ce:-1,this.isConstructed=null!==(Ce=b.isConstructed)&&void 0!==Ce&&Ce):(this.tagClass=-1,this.tagNumber=-1,this.isConstructed=!1)}toBER(b=!1){let M=0;switch(this.tagClass){case 1:M|=0;break;case 2:M|=64;break;case 3:M|=128;break;case 4:M|=192;break;default:return this.error="Unknown tag class",ft}if(this.isConstructed&&(M|=32),this.tagNumber<31&&!this.isHexOnly){const ce=new Uint8Array(1);if(!b){let Ce=this.tagNumber;Ce&=31,M|=Ce,ce[0]=M}return ce.buffer}if(!this.isHexOnly){const ce=E(this.tagNumber,7),Ce=new Uint8Array(ce),He=ce.byteLength,A=new Uint8Array(He+1);if(A[0]=31|M,!b){for(let V=0;V<He-1;V++)A[V+1]=128|Ce[V];A[He]=Ce[He-1]}return A.buffer}const z=new Uint8Array(this.valueHexView.byteLength+1);if(z[0]=31|M,!b){const ce=this.valueHexView;for(let Ce=0;Ce<ce.length-1;Ce++)z[Ce+1]=128|ce[Ce];z[this.valueHexView.byteLength]=ce[ce.length-1]}return z.buffer}fromBER(b,M,z){const ce=_._H.toUint8Array(b);if(!I(this,ce,M,z))return-1;const Ce=ce.subarray(M,M+z);if(0===Ce.length)return this.error="Zero buffer length",-1;switch(192&Ce[0]){case 0:this.tagClass=1;break;case 64:this.tagClass=2;break;case 128:this.tagClass=3;break;case 192:this.tagClass=4;break;default:return this.error="Unknown tag class",-1}this.isConstructed=!(32&~Ce[0]),this.isHexOnly=!1;const A=31&Ce[0];if(31!==A)this.tagNumber=A,this.blockLength=1;else{let V=1,B=this.valueHexView=new Uint8Array(255),Z=255;for(;128&Ce[V];){if(B[V-1]=127&Ce[V],V++,V>=Ce.length)return this.error="End of input reached before message was fully decoded",-1;if(V===Z){Z+=255;const Ge=new Uint8Array(Z);for(let vt=0;vt<B.length;vt++)Ge[vt]=B[vt];B=this.valueHexView=new Uint8Array(Z)}}this.blockLength=V+1,B[V-1]=127&Ce[V];const be=new Uint8Array(V);for(let Ge=0;Ge<V;Ge++)be[Ge]=B[Ge];B=this.valueHexView=new Uint8Array(V),B.set(be),this.blockLength<=9?this.tagNumber=d(B,7):(this.isHexOnly=!0,this.warnings.push("Tag too long, represented as hex-coded"))}if(1===this.tagClass&&this.isConstructed)switch(this.tagNumber){case 1:case 2:case 5:case 6:case 9:case 13:case 14:case 23:case 24:case 31:case 32:case 33:case 34:return this.error="Constructed encoding used for primitive type",-1}return M+this.blockLength}toJSON(){return{...super.toJSON(),tagClass:this.tagClass,tagNumber:this.tagNumber,isConstructed:this.isConstructed}}}return Ve.NAME="identificationBlock",Ve})(),Se=(()=>{class Ve extends J{constructor({lenBlock:b={}}={}){var M,z,ce;super(),this.isIndefiniteForm=null!==(M=b.isIndefiniteForm)&&void 0!==M&&M,this.longFormUsed=null!==(z=b.longFormUsed)&&void 0!==z&&z,this.length=null!==(ce=b.length)&&void 0!==ce?ce:0}fromBER(b,M,z){const ce=_._H.toUint8Array(b);if(!I(this,ce,M,z))return-1;const Ce=ce.subarray(M,M+z);if(0===Ce.length)return this.error="Zero buffer length",-1;if(255===Ce[0])return this.error="Length block 0xFF is reserved by standard",-1;if(this.isIndefiniteForm=128===Ce[0],this.isIndefiniteForm)return this.blockLength=1,M+this.blockLength;if(this.longFormUsed=!!(128&Ce[0]),!1===this.longFormUsed)return this.length=Ce[0],this.blockLength=1,M+this.blockLength;const He=127&Ce[0];if(He>8)return this.error="Too big integer",-1;if(He+1>Ce.length)return this.error="End of input reached before message was fully decoded",-1;const A=M+1,V=ce.subarray(A,A+He);return 0===V[He-1]&&this.warnings.push("Needlessly long encoded length"),this.length=d(V,8),this.longFormUsed&&this.length<=127&&this.warnings.push("Unnecessary usage of long length form"),this.blockLength=He+1,M+this.blockLength}toBER(b=!1){let M,z;if(this.length>127&&(this.longFormUsed=!0),this.isIndefiniteForm)return M=new ArrayBuffer(1),!1===b&&(z=new Uint8Array(M),z[0]=128),M;if(this.longFormUsed){const ce=E(this.length,8);if(ce.byteLength>127)return this.error="Too big length",ft;if(M=new ArrayBuffer(ce.byteLength+1),b)return M;const Ce=new Uint8Array(ce);z=new Uint8Array(M),z[0]=128|ce.byteLength;for(let He=0;He<ce.byteLength;He++)z[He+1]=Ce[He];return M}return M=new ArrayBuffer(1),!1===b&&(z=new Uint8Array(M),z[0]=this.length),M}toJSON(){return{...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,longFormUsed:this.longFormUsed,length:this.length}}}return Ve.NAME="lengthBlock",Ve})();const Ee={};let lt=(()=>{class Ve extends J{constructor({name:b="",optional:M=!1,primitiveSchema:z,...ce}={},Ce){super(ce),this.name=b,this.optional=M,z&&(this.primitiveSchema=z),this.idBlock=new q(ce),this.lenBlock=new Se(ce),this.valueBlock=Ce?new Ce(ce):new X(ce)}fromBER(b,M,z){const ce=this.valueBlock.fromBER(b,M,this.lenBlock.isIndefiniteForm?z:this.lenBlock.length);return-1===ce?(this.error=this.valueBlock.error,ce):(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),ce)}toBER(b,M){const z=M||new oe;M||Ue(this);const ce=this.idBlock.toBER(b);if(z.write(ce),this.lenBlock.isIndefiniteForm)z.write(new Uint8Array([128]).buffer),this.valueBlock.toBER(b,z),z.write(new ArrayBuffer(2));else{const Ce=this.valueBlock.toBER(b);this.lenBlock.length=Ce.byteLength;const He=this.lenBlock.toBER(b);z.write(He),z.write(Ce)}return M?ft:z.final()}toJSON(){const b={...super.toJSON(),idBlock:this.idBlock.toJSON(),lenBlock:this.lenBlock.toJSON(),valueBlock:this.valueBlock.toJSON(),name:this.name,optional:this.optional};return this.primitiveSchema&&(b.primitiveSchema=this.primitiveSchema.toJSON()),b}toString(b="ascii"){return"ascii"===b?this.onAsciiEncoding():_.U$.ToHex(this.toBER())}onAsciiEncoding(){return`${this.constructor.NAME} : ${_.U$.ToHex(this.valueBlock.valueBeforeDecodeView)}`}isEqual(b){return this===b||b instanceof this.constructor&&R(this.toBER(),b.toBER())}}return Ve.NAME="BaseBlock",Ve})();function Ue(Ve){if(Ve instanceof Ee.Constructed)for(const h of Ve.valueBlock.value)Ue(h)&&(Ve.lenBlock.isIndefiniteForm=!0);return!!Ve.lenBlock.isIndefiniteForm}let at=(()=>{class Ve extends lt{constructor({value:b="",...M}={},z){super(M,z),b&&this.fromString(b)}getValue(){return this.valueBlock.value}setValue(b){this.valueBlock.value=b}fromBER(b,M,z){const ce=this.valueBlock.fromBER(b,M,this.lenBlock.isIndefiniteForm?z:this.lenBlock.length);return-1===ce?(this.error=this.valueBlock.error,ce):(this.fromBuffer(this.valueBlock.valueHexView),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),ce)}onAsciiEncoding(){return`${this.constructor.NAME} : '${this.valueBlock.value}'`}}return Ve.NAME="BaseStringBlock",Ve})(),Ot=(()=>{class Ve extends(_t(X)){constructor({isHexOnly:b=!0,...M}={}){super(M),this.isHexOnly=b}}return Ve.NAME="PrimitiveValueBlock",Ve})();class it extends lt{constructor(h={}){super(h,Ot),this.idBlock.isConstructed=!1}}function en(Ve,h=0,b=Ve.length){const M=h;let z=new lt({},X);const ce=new J;if(!I(ce,Ve,h,b))return z.error=ce.error,{offset:-1,result:z};if(!Ve.subarray(h,h+b).length)return z.error="Zero buffer length",{offset:-1,result:z};let He=z.idBlock.fromBER(Ve,h,b);if(z.idBlock.warnings.length&&z.warnings.concat(z.idBlock.warnings),-1===He)return z.error=z.idBlock.error,{offset:-1,result:z};if(He=z.lenBlock.fromBER(Ve,h=He,b-=z.idBlock.blockLength),z.lenBlock.warnings.length&&z.warnings.concat(z.lenBlock.warnings),-1===He)return z.error=z.lenBlock.error,{offset:-1,result:z};if(h=He,b-=z.lenBlock.blockLength,!z.idBlock.isConstructed&&z.lenBlock.isIndefiniteForm)return z.error="Indefinite length form used for primitive encoding form",{offset:-1,result:z};let A=lt;if(1===z.idBlock.tagClass){if(z.idBlock.tagNumber>=37&&!1===z.idBlock.isHexOnly)return z.error="UNIVERSAL 37 and upper tags are reserved by ASN.1 standard",{offset:-1,result:z};switch(z.idBlock.tagNumber){case 0:if(z.idBlock.isConstructed&&z.lenBlock.length>0)return z.error="Type [UNIVERSAL 0] is reserved",{offset:-1,result:z};A=Ee.EndOfContent;break;case 1:A=Ee.Boolean;break;case 2:A=Ee.Integer;break;case 3:A=Ee.BitString;break;case 4:A=Ee.OctetString;break;case 5:A=Ee.Null;break;case 6:A=Ee.ObjectIdentifier;break;case 10:A=Ee.Enumerated;break;case 12:A=Ee.Utf8String;break;case 13:A=Ee.RelativeObjectIdentifier;break;case 14:A=Ee.TIME;break;case 15:return z.error="[UNIVERSAL 15] is reserved by ASN.1 standard",{offset:-1,result:z};case 16:A=Ee.Sequence;break;case 17:A=Ee.Set;break;case 18:A=Ee.NumericString;break;case 19:A=Ee.PrintableString;break;case 20:A=Ee.TeletexString;break;case 21:A=Ee.VideotexString;break;case 22:A=Ee.IA5String;break;case 23:A=Ee.UTCTime;break;case 24:A=Ee.GeneralizedTime;break;case 25:A=Ee.GraphicString;break;case 26:A=Ee.VisibleString;break;case 27:A=Ee.GeneralString;break;case 28:A=Ee.UniversalString;break;case 29:A=Ee.CharacterString;break;case 30:A=Ee.BmpString;break;case 31:A=Ee.DATE;break;case 32:A=Ee.TimeOfDay;break;case 33:A=Ee.DateTime;break;case 34:A=Ee.Duration;break;default:{const V=z.idBlock.isConstructed?new Ee.Constructed:new Ee.Primitive;V.idBlock=z.idBlock,V.lenBlock=z.lenBlock,V.warnings=z.warnings,z=V}}}else A=z.idBlock.isConstructed?Ee.Constructed:Ee.Primitive;return z=function Ht(Ve,h){if(Ve instanceof h)return Ve;const b=new h;return b.idBlock=Ve.idBlock,b.lenBlock=Ve.lenBlock,b.warnings=Ve.warnings,b.valueBeforeDecodeView=Ve.valueBeforeDecodeView,b}(z,A),He=z.fromBER(Ve,h,z.lenBlock.isIndefiniteForm?b:z.lenBlock.length),z.valueBeforeDecodeView=Ve.subarray(M,M+z.blockLength),{offset:He,result:z}}function rt(Ve){if(!Ve.byteLength){const h=new lt({},X);return h.error="Input buffer has zero length",{offset:-1,result:h}}return en(_._H.toUint8Array(Ve).slice(),0,Ve.byteLength)}function Nt(Ve,h){return Ve?1:h}Ee.Primitive=it,it.NAME="PRIMITIVE";let ve=(()=>{class Ve extends X{constructor({value:b=[],isIndefiniteForm:M=!1,...z}={}){super(z),this.value=b,this.isIndefiniteForm=M}fromBER(b,M,z){const ce=_._H.toUint8Array(b);if(!I(this,ce,M,z))return-1;if(this.valueBeforeDecodeView=ce.subarray(M,M+z),0===this.valueBeforeDecodeView.length)return this.warnings.push("Zero buffer length"),M;let Ce=M;for(;Nt(this.isIndefiniteForm,z)>0;){const He=en(ce,Ce,z);if(-1===He.offset)return this.error=He.result.error,this.warnings.concat(He.result.warnings),-1;if(Ce=He.offset,this.blockLength+=He.result.blockLength,z-=He.result.blockLength,this.value.push(He.result),this.isIndefiniteForm&&He.result.constructor.NAME===zt)break}return this.isIndefiniteForm&&(this.value[this.value.length-1].constructor.NAME===zt?this.value.pop():this.warnings.push("No EndOfContent block encoded")),Ce}toBER(b,M){const z=M||new oe;for(let ce=0;ce<this.value.length;ce++)this.value[ce].toBER(b,z);return M?ft:z.final()}toJSON(){const b={...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,value:[]};for(const M of this.value)b.value.push(M.toJSON());return b}}return Ve.NAME="ConstructedValueBlock",Ve})();class j extends lt{constructor(h={}){super(h,ve),this.idBlock.isConstructed=!0}fromBER(h,b,M){this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;const z=this.valueBlock.fromBER(h,b,this.lenBlock.isIndefiniteForm?M:this.lenBlock.length);return-1===z?(this.error=this.valueBlock.error,z):(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),z)}onAsciiEncoding(){const h=[];for(const M of this.valueBlock.value)h.push(M.toString("ascii").split("\n").map(z=>`  ${z}`).join("\n"));const b=3===this.idBlock.tagClass?`[${this.idBlock.tagNumber}]`:this.constructor.NAME;return h.length?`${b} :\n${h.join("\n")}`:`${b} :`}}Ee.Constructed=j,j.NAME="CONSTRUCTED";let se=(()=>{class Ve extends X{fromBER(b,M,z){return M}toBER(b){return ft}}return Ve.override="EndOfContentValueBlock",Ve})();class qe extends lt{constructor(h={}){super(h,se),this.idBlock.tagClass=1,this.idBlock.tagNumber=0}}Ee.EndOfContent=qe,qe.NAME=zt;class Ft extends lt{constructor(h={}){super(h,X),this.idBlock.tagClass=1,this.idBlock.tagNumber=5}fromBER(h,b,M){return this.lenBlock.length>0&&this.warnings.push("Non-zero length of value block for Null type"),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.blockLength+=M,b+M>h.byteLength?(this.error="End of input reached before message was fully decoded (inconsistent offset and length values)",-1):b+M}toBER(h,b){const M=new ArrayBuffer(2);if(!h){const z=new Uint8Array(M);z[0]=5,z[1]=0}return b&&b.write(M),M}onAsciiEncoding(){return`${this.constructor.NAME}`}}Ee.Null=Ft,Ft.NAME="NULL";let on=(()=>{class Ve extends(_t(X)){constructor({value:b,...M}={}){super(M),this.valueHexView=M.valueHex?_._H.toUint8Array(M.valueHex):new Uint8Array(1),b&&(this.value=b)}get value(){for(const b of this.valueHexView)if(b>0)return!0;return!1}set value(b){this.valueHexView[0]=b?255:0}fromBER(b,M,z){const ce=_._H.toUint8Array(b);return I(this,ce,M,z)?(this.valueHexView=ce.subarray(M,M+z),z>1&&this.warnings.push("Boolean value encoded in more then 1 octet"),this.isHexOnly=!0,w.call(this),this.blockLength=z,M+z):-1}toBER(){return this.valueHexView.slice()}toJSON(){return{...super.toJSON(),value:this.value}}}return Ve.NAME="BooleanValueBlock",Ve})();class Mn extends lt{constructor(h={}){super(h,on),this.idBlock.tagClass=1,this.idBlock.tagNumber=1}getValue(){return this.valueBlock.value}setValue(h){this.valueBlock.value=h}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.getValue}`}}Ee.Boolean=Mn,Mn.NAME="BOOLEAN";let kn=(()=>{class Ve extends(_t(ve)){constructor({isConstructed:b=!1,...M}={}){super(M),this.isConstructed=b}fromBER(b,M,z){let ce=0;if(this.isConstructed){if(this.isHexOnly=!1,ce=ve.prototype.fromBER.call(this,b,M,z),-1===ce)return ce;for(let Ce=0;Ce<this.value.length;Ce++){const He=this.value[Ce].constructor.NAME;if(He===zt){if(this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, OCTET STRING may consists of OCTET STRINGs only",-1}if(He!==Lt)return this.error="OCTET STRING may consists of OCTET STRINGs only",-1}}else this.isHexOnly=!0,ce=super.fromBER(b,M,z),this.blockLength=z;return ce}toBER(b,M){return this.isConstructed?ve.prototype.toBER.call(this,b,M):b?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),isConstructed:this.isConstructed}}}return Ve.NAME="OctetStringValueBlock",Ve})();class Tt extends lt{constructor({idBlock:h={},lenBlock:b={},...M}={}){var z,ce;null!==(z=M.isConstructed)&&void 0!==z||(M.isConstructed=!(null===(ce=M.value)||void 0===ce||!ce.length)),super({idBlock:{isConstructed:M.isConstructed,...h},lenBlock:{...b,isIndefiniteForm:!!M.isIndefiniteForm},...M},kn),this.idBlock.tagClass=1,this.idBlock.tagNumber=4}fromBER(h,b,M){if(this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,0===M)return 0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),b;if(!this.valueBlock.isConstructed){const ce=(h instanceof ArrayBuffer?new Uint8Array(h):h).subarray(b,b+M);try{if(ce.byteLength){const Ce=en(ce,0,ce.byteLength);-1!==Ce.offset&&Ce.offset===M&&(this.valueBlock.value=[Ce.result])}}catch{}}return super.fromBER(h,b,M)}onAsciiEncoding(){return this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length?j.prototype.onAsciiEncoding.call(this):`${this.constructor.NAME} : ${_.U$.ToHex(this.valueBlock.valueHexView)}`}getValue(){if(!this.idBlock.isConstructed)return this.valueBlock.valueHexView.slice().buffer;const h=[];for(const b of this.valueBlock.value)b instanceof Tt&&h.push(b.valueBlock.valueHexView);return _._H.concat(h)}}Ee.OctetString=Tt,Tt.NAME=Lt;let Rn=(()=>{class Ve extends(_t(ve)){constructor({unusedBits:b=0,isConstructed:M=!1,...z}={}){super(z),this.unusedBits=b,this.isConstructed=M,this.blockLength=this.valueHexView.byteLength}fromBER(b,M,z){if(!z)return M;let ce=-1;if(this.isConstructed){if(ce=ve.prototype.fromBER.call(this,b,M,z),-1===ce)return ce;for(const A of this.value){const V=A.constructor.NAME;if(V===zt){if(this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, BIT STRING may consists of BIT STRINGs only",-1}if(V!==Et)return this.error="BIT STRING may consists of BIT STRINGs only",-1;const B=A.valueBlock;if(this.unusedBits>0&&B.unusedBits>0)return this.error='Using of "unused bits" inside constructive BIT STRING allowed for least one only',-1;this.unusedBits=B.unusedBits}return ce}const Ce=_._H.toUint8Array(b);if(!I(this,Ce,M,z))return-1;const He=Ce.subarray(M,M+z);if(this.unusedBits=He[0],this.unusedBits>7)return this.error="Unused bits for BitString must be in range 0-7",-1;if(!this.unusedBits){const A=He.subarray(1);try{if(A.byteLength){const V=en(A,0,A.byteLength);-1!==V.offset&&V.offset===z-1&&(this.value=[V.result])}}catch{}}return this.valueHexView=He.subarray(1),this.blockLength=He.length,M+z}toBER(b,M){if(this.isConstructed)return ve.prototype.toBER.call(this,b,M);if(b)return new ArrayBuffer(this.valueHexView.byteLength+1);if(!this.valueHexView.byteLength)return ft;const z=new Uint8Array(this.valueHexView.length+1);return z[0]=this.unusedBits,z.set(this.valueHexView,1),z.buffer}toJSON(){return{...super.toJSON(),unusedBits:this.unusedBits,isConstructed:this.isConstructed}}}return Ve.NAME="BitStringValueBlock",Ve})();var yt;class ct extends lt{constructor({idBlock:h={},lenBlock:b={},...M}={}){var z,ce;null!==(z=M.isConstructed)&&void 0!==z||(M.isConstructed=!(null===(ce=M.value)||void 0===ce||!ce.length)),super({idBlock:{isConstructed:M.isConstructed,...h},lenBlock:{...b,isIndefiniteForm:!!M.isIndefiniteForm},...M},Rn),this.idBlock.tagClass=1,this.idBlock.tagNumber=3}fromBER(h,b,M){return this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,super.fromBER(h,b,M)}onAsciiEncoding(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length)return j.prototype.onAsciiEncoding.call(this);{const h=[],b=this.valueBlock.valueHexView;for(const z of b)h.push(z.toString(2).padStart(8,"0"));const M=h.join("");return`${this.constructor.NAME} : ${M.substring(0,M.length-this.valueBlock.unusedBits)}`}}}function mt(Ve,h){const b=new Uint8Array([0]),M=new Uint8Array(Ve),z=new Uint8Array(h);let ce=M.slice(0);const Ce=ce.length-1,He=z.slice(0),A=He.length-1;let V=0,Z=0;for(let be=A<Ce?Ce:A;be>=0;be--,Z++)V=1==Z<He.length?ce[Ce-Z]+He[A-Z]+b[0]:ce[Ce-Z]+b[0],b[0]=V/10,1==Z>=ce.length?ce=F(new Uint8Array([V%10]),ce):ce[Ce-Z]=V%10;return b[0]>0&&(ce=F(b,ce)),ce}function xt(Ve){if(Ve>=Y.length)for(let h=Y.length;h<=Ve;h++){const b=new Uint8Array([0]);let M=Y[h-1].slice(0);for(let z=M.length-1;z>=0;z--){const ce=new Uint8Array([(M[z]<<1)+b[0]]);b[0]=ce[0]/10,M[z]=ce[0]%10}b[0]>0&&(M=F(b,M)),Y.push(M)}return Y[Ve]}function tn(Ve,h){let b=0;const M=new Uint8Array(Ve),z=new Uint8Array(h),ce=M.slice(0),Ce=ce.length-1,He=z.slice(0),A=He.length-1;let V,B=0;for(let Z=A;Z>=0;Z--,B++)V=ce[Ce-B]-He[A-B]-b,1==V<0?(b=1,ce[Ce-B]=V+10):(b=0,ce[Ce-B]=V);if(b>0)for(let Z=Ce-A+1;Z>=0;Z--,B++){if(V=ce[Ce-B]-b,!(V<0)){b=0,ce[Ce-B]=V;break}b=1,ce[Ce-B]=V+10}return ce.slice()}Ee.BitString=ct,ct.NAME=Et;class Sn extends(_t(X)){constructor({value:h,...b}={}){super(b),this._valueDec=0,b.valueHex&&this.setValueHex(),void 0!==h&&(this.valueDec=h)}setValueHex(){this.valueHexView.length>=4?(this.warnings.push("Too big Integer for decoding, hex only"),this.isHexOnly=!0,this._valueDec=0):(this.isHexOnly=!1,this.valueHexView.length>0&&(this._valueDec=w.call(this)))}set valueDec(h){this._valueDec=h,this.isHexOnly=!1,this.valueHexView=new Uint8Array(C(h))}get valueDec(){return this._valueDec}fromDER(h,b,M,z=0){const ce=this.fromBER(h,b,M);if(-1===ce)return ce;const Ce=this.valueHexView;return 0===Ce[0]&&128&Ce[1]?this.valueHexView=Ce.subarray(1):0!==z&&Ce.length<z&&(z-Ce.length>1&&(z=Ce.length+1),this.valueHexView=Ce.subarray(z-Ce.length)),ce}toDER(h=!1){const b=this.valueHexView;switch(!0){case!!(128&b[0]):{const M=new Uint8Array(this.valueHexView.length+1);M[0]=0,M.set(b,1),this.valueHexView=M}break;case 0===b[0]&&!(128&b[1]):this.valueHexView=this.valueHexView.subarray(1)}return this.toBER(h)}fromBER(h,b,M){const z=super.fromBER(h,b,M);return-1===z||this.setValueHex(),z}toBER(h){return h?new ArrayBuffer(this.valueHexView.length):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}toString(){const h=8*this.valueHexView.length-1;let z,b=new Uint8Array(8*this.valueHexView.length/3),M=0;const ce=this.valueHexView;let Ce="",He=!1;for(let A=ce.byteLength-1;A>=0;A--){z=ce[A];for(let V=0;V<8;V++)1&~z||(M===h?(b=tn(xt(M),b),Ce="-"):b=mt(b,xt(M))),M++,z>>=1}for(let A=0;A<b.length;A++)b[A]&&(He=!0),He&&(Ce+=_e.charAt(b[A]));return!1===He&&(Ce+=_e.charAt(0)),Ce}}yt=Sn,Sn.NAME="IntegerValueBlock",Object.defineProperty(yt.prototype,"valueHex",{set:function(Ve){this.valueHexView=new Uint8Array(Ve),this.setValueHex()},get:function(){return this.valueHexView.slice().buffer}});class cn extends lt{constructor(h={}){super(h,Sn),this.idBlock.tagClass=1,this.idBlock.tagNumber=2}toBigInt(){return Q(),BigInt(this.valueBlock.toString())}static fromBigInt(h){Q();const b=BigInt(h),M=new oe,z=b.toString(16).replace(/^-/,""),ce=new Uint8Array(_.U$.FromHex(z));if(b<0){const He=new Uint8Array(ce.length+(128&ce[0]?1:0));He[0]|=128;const V=BigInt(`0x${_.U$.ToHex(He)}`)+b,B=_._H.toUint8Array(_.U$.FromHex(V.toString(16)));B[0]|=128,M.write(B)}else 128&ce[0]&&M.write(new Uint8Array([0])),M.write(ce);return new cn({valueHex:M.final()})}convertToDER(){const h=new cn({valueHex:this.valueBlock.valueHexView});return h.valueBlock.toDER(),h}convertFromDER(){return new cn({valueHex:0===this.valueBlock.valueHexView[0]?this.valueBlock.valueHexView.subarray(1):this.valueBlock.valueHexView})}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()}`}}Ee.Integer=cn,cn.NAME="INTEGER";class li extends cn{constructor(h={}){super(h),this.idBlock.tagClass=1,this.idBlock.tagNumber=10}}Ee.Enumerated=li,li.NAME="ENUMERATED";let At=(()=>{class Ve extends(_t(X)){constructor({valueDec:b=-1,isFirstSid:M=!1,...z}={}){super(z),this.valueDec=b,this.isFirstSid=M}fromBER(b,M,z){if(!z)return M;const ce=_._H.toUint8Array(b);if(!I(this,ce,M,z))return-1;const Ce=ce.subarray(M,M+z);this.valueHexView=new Uint8Array(z);for(let A=0;A<z&&(this.valueHexView[A]=127&Ce[A],this.blockLength++,128&Ce[A]);A++);const He=new Uint8Array(this.blockLength);for(let A=0;A<this.blockLength;A++)He[A]=this.valueHexView[A];return this.valueHexView=He,128&Ce[this.blockLength-1]?(this.error="End of input reached before message was fully decoded",-1):(0===this.valueHexView[0]&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=d(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),M+this.blockLength)}set valueBigInt(b){Q();let M=BigInt(b).toString(2);for(;M.length%7;)M="0"+M;const z=new Uint8Array(M.length/7);for(let ce=0;ce<z.length;ce++)z[ce]=parseInt(M.slice(7*ce,7*ce+7),2)+(ce+1<z.length?128:0);this.fromBER(z.buffer,0,z.length)}toBER(b){if(this.isHexOnly){if(b)return new ArrayBuffer(this.valueHexView.byteLength);const ce=this.valueHexView,Ce=new Uint8Array(this.blockLength);for(let He=0;He<this.blockLength-1;He++)Ce[He]=128|ce[He];return Ce[this.blockLength-1]=ce[this.blockLength-1],Ce.buffer}const M=E(this.valueDec,7);if(0===M.byteLength)return this.error="Error during encoding SID value",ft;const z=new Uint8Array(M.byteLength);if(!b){const ce=new Uint8Array(M),Ce=M.byteLength-1;for(let He=0;He<Ce;He++)z[He]=128|ce[He];z[Ce]=ce[Ce]}return z}toString(){let b="";if(this.isHexOnly)b=_.U$.ToHex(this.valueHexView);else if(this.isFirstSid){let M=this.valueDec;this.valueDec<=39?b="0.":this.valueDec<=79?(b="1.",M-=40):(b="2.",M-=80),b+=M.toString()}else b=this.valueDec.toString();return b}toJSON(){return{...super.toJSON(),valueDec:this.valueDec,isFirstSid:this.isFirstSid}}}return Ve.NAME="sidBlock",Ve})(),dt=(()=>{class Ve extends X{constructor({value:b="",...M}={}){super(M),this.value=[],b&&this.fromString(b)}fromBER(b,M,z){let ce=M;for(;z>0;){const Ce=new At;if(ce=Ce.fromBER(b,ce,z),-1===ce)return this.blockLength=0,this.error=Ce.error,ce;0===this.value.length&&(Ce.isFirstSid=!0),this.blockLength+=Ce.blockLength,z-=Ce.blockLength,this.value.push(Ce)}return ce}toBER(b){const M=[];for(let z=0;z<this.value.length;z++){const ce=this.value[z].toBER(b);if(0===ce.byteLength)return this.error=this.value[z].error,ft;M.push(ce)}return te(M)}fromString(b){this.value=[];let M=0,z=0,ce="",Ce=!1;do{if(z=b.indexOf(".",M),ce=-1===z?b.substring(M):b.substring(M,z),M=z+1,Ce){const He=this.value[0];let A=0;switch(He.valueDec){case 0:break;case 1:A=40;break;case 2:A=80;break;default:return void(this.value=[])}const V=parseInt(ce,10);if(isNaN(V))return;He.valueDec=V+A,Ce=!1}else{const He=new At;if(ce>Number.MAX_SAFE_INTEGER){Q();const A=BigInt(ce);He.valueBigInt=A}else if(He.valueDec=parseInt(ce,10),isNaN(He.valueDec))return;this.value.length||(He.isFirstSid=!0,Ce=!0),this.value.push(He)}}while(-1!==z)}toString(){let b="",M=!1;for(let z=0;z<this.value.length;z++){M=this.value[z].isHexOnly;let ce=this.value[z].toString();0!==z&&(b=`${b}.`),M?(ce=`{${ce}}`,this.value[z].isFirstSid?b=`2.{${ce} - 80}`:b+=ce):b+=ce}return b}toJSON(){const b={...super.toJSON(),value:this.toString(),sidArray:[]};for(let M=0;M<this.value.length;M++)b.sidArray.push(this.value[M].toJSON());return b}}return Ve.NAME="ObjectIdentifierValueBlock",Ve})();class jt extends lt{constructor(h={}){super(h,dt),this.idBlock.tagClass=1,this.idBlock.tagNumber=6}getValue(){return this.valueBlock.toString()}setValue(h){this.valueBlock.fromString(h)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}}Ee.ObjectIdentifier=jt,jt.NAME="OBJECT IDENTIFIER";let Yt=(()=>{class Ve extends(_t(J)){constructor({valueDec:b=0,...M}={}){super(M),this.valueDec=b}fromBER(b,M,z){if(0===z)return M;const ce=_._H.toUint8Array(b);if(!I(this,ce,M,z))return-1;const Ce=ce.subarray(M,M+z);this.valueHexView=new Uint8Array(z);for(let A=0;A<z&&(this.valueHexView[A]=127&Ce[A],this.blockLength++,128&Ce[A]);A++);const He=new Uint8Array(this.blockLength);for(let A=0;A<this.blockLength;A++)He[A]=this.valueHexView[A];return this.valueHexView=He,128&Ce[this.blockLength-1]?(this.error="End of input reached before message was fully decoded",-1):(0===this.valueHexView[0]&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=d(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),M+this.blockLength)}toBER(b){if(this.isHexOnly){if(b)return new ArrayBuffer(this.valueHexView.byteLength);const ce=this.valueHexView,Ce=new Uint8Array(this.blockLength);for(let He=0;He<this.blockLength-1;He++)Ce[He]=128|ce[He];return Ce[this.blockLength-1]=ce[this.blockLength-1],Ce.buffer}const M=E(this.valueDec,7);if(0===M.byteLength)return this.error="Error during encoding SID value",ft;const z=new Uint8Array(M.byteLength);if(!b){const ce=new Uint8Array(M),Ce=M.byteLength-1;for(let He=0;He<Ce;He++)z[He]=128|ce[He];z[Ce]=ce[Ce]}return z.buffer}toString(){let b="";return b=this.isHexOnly?_.U$.ToHex(this.valueHexView):this.valueDec.toString(),b}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}}return Ve.NAME="relativeSidBlock",Ve})(),vn=(()=>{class Ve extends X{constructor({value:b="",...M}={}){super(M),this.value=[],b&&this.fromString(b)}fromBER(b,M,z){let ce=M;for(;z>0;){const Ce=new Yt;if(ce=Ce.fromBER(b,ce,z),-1===ce)return this.blockLength=0,this.error=Ce.error,ce;this.blockLength+=Ce.blockLength,z-=Ce.blockLength,this.value.push(Ce)}return ce}toBER(b,M){const z=[];for(let ce=0;ce<this.value.length;ce++){const Ce=this.value[ce].toBER(b);if(0===Ce.byteLength)return this.error=this.value[ce].error,ft;z.push(Ce)}return te(z)}fromString(b){this.value=[];let M=0,z=0,ce="";do{z=b.indexOf(".",M),ce=-1===z?b.substring(M):b.substring(M,z),M=z+1;const Ce=new Yt;if(Ce.valueDec=parseInt(ce,10),isNaN(Ce.valueDec))return!0;this.value.push(Ce)}while(-1!==z);return!0}toString(){let b="",M=!1;for(let z=0;z<this.value.length;z++){M=this.value[z].isHexOnly;let ce=this.value[z].toString();0!==z&&(b=`${b}.`),M&&(ce=`{${ce}}`),b+=ce}return b}toJSON(){const b={...super.toJSON(),value:this.toString(),sidArray:[]};for(let M=0;M<this.value.length;M++)b.sidArray.push(this.value[M].toJSON());return b}}return Ve.NAME="RelativeObjectIdentifierValueBlock",Ve})();class zn extends lt{constructor(h={}){super(h,vn),this.idBlock.tagClass=1,this.idBlock.tagNumber=13}getValue(){return this.valueBlock.toString()}setValue(h){this.valueBlock.fromString(h)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}}Ee.RelativeObjectIdentifier=zn,zn.NAME="RelativeObjectIdentifier";class fn extends j{constructor(h={}){super(h),this.idBlock.tagClass=1,this.idBlock.tagNumber=16}}Ee.Sequence=fn,fn.NAME="SEQUENCE";class gi extends j{constructor(h={}){super(h),this.idBlock.tagClass=1,this.idBlock.tagNumber=17}}Ee.Set=gi,gi.NAME="SET";let ni=(()=>{class Ve extends(_t(X)){constructor({...b}={}){super(b),this.isHexOnly=!0,this.value=""}toJSON(){return{...super.toJSON(),value:this.value}}}return Ve.NAME="StringValueBlock",Ve})(),Bi=(()=>{class Ve extends ni{}return Ve.NAME="SimpleStringValueBlock",Ve})(),Xn=(()=>{class Ve extends at{constructor({...b}={}){super(b,Bi)}fromBuffer(b){this.valueBlock.value=String.fromCharCode.apply(null,_._H.toUint8Array(b))}fromString(b){const M=b.length,z=this.valueBlock.valueHexView=new Uint8Array(M);for(let ce=0;ce<M;ce++)z[ce]=b.charCodeAt(ce);this.valueBlock.value=b}}return Ve.NAME="SIMPLE STRING",Ve})(),Ei=(()=>{class Ve extends Xn{fromBuffer(b){this.valueBlock.valueHexView=_._H.toUint8Array(b);try{this.valueBlock.value=_.U$.ToUtf8String(b)}catch(M){this.warnings.push(`Error during "decodeURIComponent": ${M}, using raw string`),this.valueBlock.value=_.U$.ToBinary(b)}}fromString(b){this.valueBlock.valueHexView=new Uint8Array(_.U$.FromUtf8String(b)),this.valueBlock.value=b}}return Ve.NAME="Utf8StringValueBlock",Ve})();class Gi extends Ei{constructor(h={}){super(h),this.idBlock.tagClass=1,this.idBlock.tagNumber=12}}Ee.Utf8String=Gi,Gi.NAME="UTF8String";let ji=(()=>{class Ve extends Xn{fromBuffer(b){this.valueBlock.value=_.U$.ToUtf16String(b),this.valueBlock.valueHexView=_._H.toUint8Array(b)}fromString(b){this.valueBlock.value=b,this.valueBlock.valueHexView=new Uint8Array(_.U$.FromUtf16String(b))}}return Ve.NAME="BmpStringValueBlock",Ve})();class nt extends ji{constructor({...h}={}){super(h),this.idBlock.tagClass=1,this.idBlock.tagNumber=30}}Ee.BmpString=nt,nt.NAME="BMPString";let It=(()=>{class Ve extends Xn{fromBuffer(b){const M=ArrayBuffer.isView(b)?b.slice().buffer:b.slice(0),z=new Uint8Array(M);for(let ce=0;ce<z.length;ce+=4)z[ce]=z[ce+3],z[ce+1]=z[ce+2],z[ce+2]=0,z[ce+3]=0;this.valueBlock.value=String.fromCharCode.apply(null,new Uint32Array(M))}fromString(b){const M=b.length,z=this.valueBlock.valueHexView=new Uint8Array(4*M);for(let ce=0;ce<M;ce++){const Ce=E(b.charCodeAt(ce),8),He=new Uint8Array(Ce);if(He.length>4)continue;const A=4-He.length;for(let V=He.length-1;V>=0;V--)z[4*ce+V+A]=He[V]}this.valueBlock.value=b}}return Ve.NAME="UniversalStringValueBlock",Ve})();class nn extends It{constructor({...h}={}){super(h),this.idBlock.tagClass=1,this.idBlock.tagNumber=28}}Ee.UniversalString=nn,nn.NAME="UniversalString";class Tn extends Xn{constructor(h={}){super(h),this.idBlock.tagClass=1,this.idBlock.tagNumber=18}}Ee.NumericString=Tn,Tn.NAME="NumericString";class $e extends Xn{constructor(h={}){super(h),this.idBlock.tagClass=1,this.idBlock.tagNumber=19}}Ee.PrintableString=$e,$e.NAME="PrintableString";class K extends Xn{constructor(h={}){super(h),this.idBlock.tagClass=1,this.idBlock.tagNumber=20}}Ee.TeletexString=K,K.NAME="TeletexString";class ue extends Xn{constructor(h={}){super(h),this.idBlock.tagClass=1,this.idBlock.tagNumber=21}}Ee.VideotexString=ue,ue.NAME="VideotexString";class Wt extends Xn{constructor(h={}){super(h),this.idBlock.tagClass=1,this.idBlock.tagNumber=22}}Ee.IA5String=Wt,Wt.NAME="IA5String";class gn extends Xn{constructor(h={}){super(h),this.idBlock.tagClass=1,this.idBlock.tagNumber=25}}Ee.GraphicString=gn,gn.NAME="GraphicString";class ti extends Xn{constructor(h={}){super(h),this.idBlock.tagClass=1,this.idBlock.tagNumber=26}}Ee.VisibleString=ti,ti.NAME="VisibleString";class bi extends Xn{constructor(h={}){super(h),this.idBlock.tagClass=1,this.idBlock.tagNumber=27}}Ee.GeneralString=bi,bi.NAME="GeneralString";class Ki extends Xn{constructor(h={}){super(h),this.idBlock.tagClass=1,this.idBlock.tagNumber=29}}Ee.CharacterString=Ki,Ki.NAME="CharacterString";class Gn extends ti{constructor({value:h,valueDate:b,...M}={}){if(super(M),this.year=0,this.month=0,this.day=0,this.hour=0,this.minute=0,this.second=0,h){this.fromString(h),this.valueBlock.valueHexView=new Uint8Array(h.length);for(let z=0;z<h.length;z++)this.valueBlock.valueHexView[z]=h.charCodeAt(z)}b&&(this.fromDate(b),this.valueBlock.valueHexView=new Uint8Array(this.toBuffer())),this.idBlock.tagClass=1,this.idBlock.tagNumber=23}fromBuffer(h){this.fromString(String.fromCharCode.apply(null,_._H.toUint8Array(h)))}toBuffer(){const h=this.toString(),b=new ArrayBuffer(h.length),M=new Uint8Array(b);for(let z=0;z<h.length;z++)M[z]=h.charCodeAt(z);return b}fromDate(h){this.year=h.getUTCFullYear(),this.month=h.getUTCMonth()+1,this.day=h.getUTCDate(),this.hour=h.getUTCHours(),this.minute=h.getUTCMinutes(),this.second=h.getUTCSeconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second))}fromString(h){const M=/(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})Z/gi.exec(h);if(null===M)return void(this.error="Wrong input string for conversion");const z=parseInt(M[1],10);this.year=z>=50?1900+z:2e3+z,this.month=parseInt(M[2],10),this.day=parseInt(M[3],10),this.hour=parseInt(M[4],10),this.minute=parseInt(M[5],10),this.second=parseInt(M[6],10)}toString(h="iso"){if("iso"===h){const b=new Array(7);return b[0]=k(this.year<2e3?this.year-1900:this.year-2e3,2),b[1]=k(this.month,2),b[2]=k(this.day,2),b[3]=k(this.hour,2),b[4]=k(this.minute,2),b[5]=k(this.second,2),b[6]="Z",b.join("")}return super.toString(h)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.toDate().toISOString()}`}toJSON(){return{...super.toJSON(),year:this.year,month:this.month,day:this.day,hour:this.hour,minute:this.minute,second:this.second}}}Ee.UTCTime=Gn,Gn.NAME="UTCTime";class ar extends Gn{constructor(h={}){var b;super(h),null!==(b=this.millisecond)&&void 0!==b||(this.millisecond=0),this.idBlock.tagClass=1,this.idBlock.tagNumber=24}fromDate(h){super.fromDate(h),this.millisecond=h.getUTCMilliseconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond))}fromString(h){let Ce,b=!1,M="",z="",ce=0,He=0,A=0;if("Z"===h[h.length-1])M=h.substring(0,h.length-1),b=!0;else{const Z=new Number(h[h.length-1]);if(isNaN(Z.valueOf()))throw new Error("Wrong input string for conversion");M=h}if(b){if(-1!==M.indexOf("+"))throw new Error("Wrong input string for conversion");if(-1!==M.indexOf("-"))throw new Error("Wrong input string for conversion")}else{let Z=1,be=M.indexOf("+"),Ge="";if(-1===be&&(be=M.indexOf("-"),Z=-1),-1!==be){if(Ge=M.substring(be+1),M=M.substring(0,be),2!==Ge.length&&4!==Ge.length)throw new Error("Wrong input string for conversion");let vt=parseInt(Ge.substring(0,2),10);if(isNaN(vt.valueOf()))throw new Error("Wrong input string for conversion");if(He=Z*vt,4===Ge.length){if(vt=parseInt(Ge.substring(2,4),10),isNaN(vt.valueOf()))throw new Error("Wrong input string for conversion");A=Z*vt}}}let V=M.indexOf(".");if(-1===V&&(V=M.indexOf(",")),-1!==V){const Z=new Number(`0${M.substring(V)}`);if(isNaN(Z.valueOf()))throw new Error("Wrong input string for conversion");ce=Z.valueOf(),z=M.substring(0,V)}else z=M;switch(!0){case 8===z.length:if(Ce=/(\d{4})(\d{2})(\d{2})/gi,-1!==V)throw new Error("Wrong input string for conversion");break;case 10===z.length:if(Ce=/(\d{4})(\d{2})(\d{2})(\d{2})/gi,-1!==V){let Z=60*ce;this.minute=Math.floor(Z),Z=60*(Z-this.minute),this.second=Math.floor(Z),Z=1e3*(Z-this.second),this.millisecond=Math.floor(Z)}break;case 12===z.length:if(Ce=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})/gi,-1!==V){let Z=60*ce;this.second=Math.floor(Z),Z=1e3*(Z-this.second),this.millisecond=Math.floor(Z)}break;case 14===z.length:Ce=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/gi,-1!==V&&(this.millisecond=Math.floor(1e3*ce));break;default:throw new Error("Wrong input string for conversion")}const B=Ce.exec(z);if(null===B)throw new Error("Wrong input string for conversion");for(let Z=1;Z<B.length;Z++)switch(Z){case 1:this.year=parseInt(B[Z],10);break;case 2:this.month=parseInt(B[Z],10);break;case 3:this.day=parseInt(B[Z],10);break;case 4:this.hour=parseInt(B[Z],10)+He;break;case 5:this.minute=parseInt(B[Z],10)+A;break;case 6:this.second=parseInt(B[Z],10);break;default:throw new Error("Wrong input string for conversion")}if(!1===b){const Z=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond);this.year=Z.getUTCFullYear(),this.month=Z.getUTCMonth(),this.day=Z.getUTCDay(),this.hour=Z.getUTCHours(),this.minute=Z.getUTCMinutes(),this.second=Z.getUTCSeconds(),this.millisecond=Z.getUTCMilliseconds()}}toString(h="iso"){if("iso"===h){const b=[];return b.push(k(this.year,4)),b.push(k(this.month,2)),b.push(k(this.day,2)),b.push(k(this.hour,2)),b.push(k(this.minute,2)),b.push(k(this.second,2)),0!==this.millisecond&&(b.push("."),b.push(k(this.millisecond,3))),b.push("Z"),b.join("")}return super.toString(h)}toJSON(){return{...super.toJSON(),millisecond:this.millisecond}}}Ee.GeneralizedTime=ar,ar.NAME="GeneralizedTime";class Mr extends Gi{constructor(h={}){super(h),this.idBlock.tagClass=1,this.idBlock.tagNumber=31}}Ee.DATE=Mr,Mr.NAME="DATE";class ms extends Gi{constructor(h={}){super(h),this.idBlock.tagClass=1,this.idBlock.tagNumber=32}}Ee.TimeOfDay=ms,ms.NAME="TimeOfDay";class yi extends Gi{constructor(h={}){super(h),this.idBlock.tagClass=1,this.idBlock.tagNumber=33}}Ee.DateTime=yi,yi.NAME="DateTime";class gs extends Gi{constructor(h={}){super(h),this.idBlock.tagClass=1,this.idBlock.tagNumber=34}}Ee.Duration=gs,gs.NAME="Duration";class Os extends Gi{constructor(h={}){super(h),this.idBlock.tagClass=1,this.idBlock.tagNumber=14}}Ee.TIME=Os,Os.NAME="TIME";class gr{constructor({name:h="",optional:b=!1}={}){this.name=h,this.optional=b}}class vr extends gr{constructor({value:h=[],...b}={}){super(b),this.value=h}}class Ni extends gr{constructor({value:h=new gr,local:b=!1,...M}={}){super(M),this.value=h,this.local=b}}class zs{constructor({data:h=Ye}={}){this.dataView=_._H.toUint8Array(h)}get data(){return this.dataView.slice().buffer}set data(h){this.dataView=_._H.toUint8Array(h)}fromBER(h,b,M){const z=b+M;return this.dataView=_._H.toUint8Array(h).subarray(b,z),z}toBER(h){return this.dataView.slice().buffer}}function ai(Ve,h,b){if(b instanceof vr){for(let ce=0;ce<b.value.length;ce++)if(ai(Ve,h,b.value[ce]).verified)return{verified:!0,result:Ve};{const ce={verified:!1,result:{error:"Wrong values for Choice type"}};return b.hasOwnProperty(Oe)&&(ce.name=b.name),ce}}if(b instanceof gr)return b.hasOwnProperty(Oe)&&(Ve[b.name]=h),{verified:!0,result:Ve};if(!(Ve instanceof Object))return{verified:!1,result:{error:"Wrong root object"}};if(!(h instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 data"}};if(!(b instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!("idBlock"in b))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!("fromBER"in b.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!("toBER"in b.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};const M=b.idBlock.toBER(!1);if(0===M.byteLength)return{verified:!1,result:{error:"Error encoding idBlock for ASN.1 schema"}};if(-1===b.idBlock.fromBER(M,0,M.byteLength))return{verified:!1,result:{error:"Error decoding idBlock for ASN.1 schema"}};if(!1===b.idBlock.hasOwnProperty("tagClass"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(b.idBlock.tagClass!==h.idBlock.tagClass)return{verified:!1,result:Ve};if(!1===b.idBlock.hasOwnProperty("tagNumber"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(b.idBlock.tagNumber!==h.idBlock.tagNumber)return{verified:!1,result:Ve};if(!1===b.idBlock.hasOwnProperty("isConstructed"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(b.idBlock.isConstructed!==h.idBlock.isConstructed)return{verified:!1,result:Ve};if(!("isHexOnly"in b.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(b.idBlock.isHexOnly!==h.idBlock.isHexOnly)return{verified:!1,result:Ve};if(b.idBlock.isHexOnly){if(!(Re in b.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};const ce=b.idBlock.valueHexView,Ce=h.idBlock.valueHexView;if(ce.length!==Ce.length)return{verified:!1,result:Ve};for(let He=0;He<ce.length;He++)if(ce[He]!==Ce[1])return{verified:!1,result:Ve}}if(b.name&&(b.name=b.name.replace(/^\s+|\s+$/g,""),b.name&&(Ve[b.name]=h)),b instanceof Ee.Constructed){let ce=0,Ce={verified:!1,result:{error:"Unknown error"}},He=b.valueBlock.value.length;if(He>0&&b.valueBlock.value[0]instanceof Ni&&(He=h.valueBlock.value.length),0===He)return{verified:!0,result:Ve};if(0===h.valueBlock.value.length&&0!==b.valueBlock.value.length){let A=!0;for(let V=0;V<b.valueBlock.value.length;V++)A=A&&(b.valueBlock.value[V].optional||!1);return A?{verified:!0,result:Ve}:(b.name&&(b.name=b.name.replace(/^\s+|\s+$/g,""),b.name&&delete Ve[b.name]),Ve.error="Inconsistent object length",{verified:!1,result:Ve})}for(let A=0;A<He;A++)if(A-ce>=h.valueBlock.value.length){if(!1===b.valueBlock.value[A].optional){const V={verified:!1,result:Ve};return Ve.error="Inconsistent length between ASN.1 data and schema",b.name&&(b.name=b.name.replace(/^\s+|\s+$/g,""),b.name&&(delete Ve[b.name],V.name=b.name)),V}}else if(b.valueBlock.value[0]instanceof Ni){if(Ce=ai(Ve,h.valueBlock.value[A],b.valueBlock.value[0].value),!1===Ce.verified){if(!b.valueBlock.value[0].optional)return b.name&&(b.name=b.name.replace(/^\s+|\s+$/g,""),b.name&&delete Ve[b.name]),Ce;ce++}if(Oe in b.valueBlock.value[0]&&b.valueBlock.value[0].name.length>0){let V={};V="local"in b.valueBlock.value[0]&&b.valueBlock.value[0].local?h:Ve,typeof V[b.valueBlock.value[0].name]>"u"&&(V[b.valueBlock.value[0].name]=[]),V[b.valueBlock.value[0].name].push(h.valueBlock.value[A])}}else if(Ce=ai(Ve,h.valueBlock.value[A-ce],b.valueBlock.value[A]),!1===Ce.verified){if(!b.valueBlock.value[A].optional)return b.name&&(b.name=b.name.replace(/^\s+|\s+$/g,""),b.name&&delete Ve[b.name]),Ce;ce++}if(!1===Ce.verified){const A={verified:!1,result:Ve};return b.name&&(b.name=b.name.replace(/^\s+|\s+$/g,""),b.name&&(delete Ve[b.name],A.name=b.name)),A}return{verified:!0,result:Ve}}if(b.primitiveSchema&&Re in h.valueBlock){const ce=en(h.valueBlock.valueHexView);if(-1===ce.offset){const Ce={verified:!1,result:ce.result};return b.name&&(b.name=b.name.replace(/^\s+|\s+$/g,""),b.name&&(delete Ve[b.name],Ce.name=b.name)),Ce}return ai(Ve,ce.result,b.primitiveSchema)}return{verified:!0,result:Ve}}class jn{constructor(h={}){this.algorithmId=S(h,"algorithmId",jn.defaultValues("algorithmId")),"algorithmParams"in h&&(this.algorithmParams=S(h,"algorithmParams",jn.defaultValues("algorithmParams"))),"schema"in h&&this.fromSchema(h.schema)}static defaultValues(h){switch(h){case"algorithmId":return"";case"algorithmParams":return new gr;default:throw new Error(`Invalid member name for AlgorithmIdentifier class: ${h}`)}}static compareWithDefault(h,b){switch(h){case"algorithmId":return""===b;case"algorithmParams":return b instanceof gr;default:throw new Error(`Invalid member name for AlgorithmIdentifier class: ${h}`)}}static schema(h={}){const b=S(h,"names",{});return new fn({name:b.blockName||"",optional:b.optional||!1,value:[new jt({name:b.algorithmIdentifier||""}),new gr({name:b.algorithmParams||"",optional:!0})]})}fromSchema(h){L(h,["algorithm","params"]);const b=ai(h,h,jn.schema({names:{algorithmIdentifier:"algorithm",algorithmParams:"params"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for AlgorithmIdentifier");this.algorithmId=b.result.algorithm.valueBlock.toString(),"params"in b.result&&(this.algorithmParams=b.result.params)}toSchema(){const h=[];return h.push(new jt({value:this.algorithmId})),"algorithmParams"in this&&!(this.algorithmParams instanceof gr)&&h.push(this.algorithmParams),new fn({value:h})}toJSON(){const h={algorithmId:this.algorithmId};return"algorithmParams"in this&&!(this.algorithmParams instanceof gr)&&(h.algorithmParams=this.algorithmParams.toJSON()),h}isEqual(h){return h instanceof jn&&this.algorithmId===h.algorithmId&&("algorithmParams"in this?"algorithmParams"in h&&JSON.stringify(this.algorithmParams)===JSON.stringify(h.algorithmParams):!("algorithmParams"in h))}}let Xr=(()=>{class Ve{static register(b,M,z){this.namedCurves[b.toLowerCase()]=this.namedCurves[M]={name:b,id:M,size:z}}static find(b){return this.namedCurves[b.toLowerCase()]||null}}return Ve.namedCurves={},Ve})();Xr.register("P-256","1.2.840.10045.3.1.7",32),Xr.register("P-384","1.3.132.0.34",48),Xr.register("P-521","1.3.132.0.35",66),Xr.register("brainpoolP256r1","1.3.36.3.3.2.8.1.1.7",32),Xr.register("brainpoolP384r1","1.3.36.3.3.2.8.1.1.11",48),Xr.register("brainpoolP512r1","1.3.36.3.3.2.8.1.1.13",64);class fr{constructor(h={}){this.x=S(h,"x",fr.defaultValues("x")),this.y=S(h,"y",fr.defaultValues("y")),this.namedCurve=S(h,"namedCurve",fr.defaultValues("namedCurve")),"schema"in h&&this.fromSchema(h.schema),"json"in h&&this.fromJSON(h.json)}static defaultValues(h){switch(h){case"x":case"y":return new ArrayBuffer(0);case"namedCurve":return"";default:throw new Error(`Invalid member name for ECCPublicKey class: ${h}`)}}static compareWithDefault(h,b){switch(h){case"x":case"y":return R(b,fr.defaultValues(h));case"namedCurve":return""===b;default:throw new Error(`Invalid member name for ECCPublicKey class: ${h}`)}}static schema(h={}){return new zs}fromSchema(h){if(!(h instanceof ArrayBuffer))throw new Error("Object's schema was not verified against input data for ECPublicKey");if(4!==new Uint8Array(h)[0])throw new Error("Object's schema was not verified against input data for ECPublicKey");const M=Xr.find(this.namedCurve);if(!M)throw new Error(`Incorrect curve OID: ${this.namedCurve}`);const z=M.size;if(h.byteLength!==2*z+1)throw new Error("Object's schema was not verified against input data for ECPublicKey");this.x=h.slice(1,z+1),this.y=h.slice(1+z,2*z+1)}toSchema(){return new zs({data:m(new Uint8Array([4]).buffer,this.x,this.y)})}toJSON(){const h=Xr.find(this.namedCurve);return{crv:h?h.name:this.namedCurve,x:x(U(this.x),!0,!0,!1),y:x(U(this.y),!0,!0,!1)}}fromJSON(h){let b=0;if(!("crv"in h))throw new Error('Absent mandatory parameter "crv"');{const M=Xr.find(h.crv);M&&(this.namedCurve=M.id,b=M.size)}if(!("x"in h))throw new Error('Absent mandatory parameter "x"');{const M=G($(h.x,!0));if(M.byteLength<b){this.x=new ArrayBuffer(b);const z=new Uint8Array(this.x),ce=new Uint8Array(M);z.set(ce,1)}else this.x=M.slice(0,b)}if(!("y"in h))throw new Error('Absent mandatory parameter "y"');{const M=G($(h.y,!0));if(M.byteLength<b){this.y=new ArrayBuffer(b);const z=new Uint8Array(this.y),ce=new Uint8Array(M);z.set(ce,1)}else this.y=M.slice(0,b)}}}class wr{constructor(h={}){this.modulus=S(h,"modulus",wr.defaultValues("modulus")),this.publicExponent=S(h,"publicExponent",wr.defaultValues("publicExponent")),"schema"in h&&this.fromSchema(h.schema),"json"in h&&this.fromJSON(h.json)}static defaultValues(h){switch(h){case"modulus":case"publicExponent":return new cn;default:throw new Error(`Invalid member name for RSAPublicKey class: ${h}`)}}static schema(h={}){const b=S(h,"names",{});return new fn({name:b.blockName||"",value:[new cn({name:b.modulus||""}),new cn({name:b.publicExponent||""})]})}fromSchema(h){L(h,["modulus","publicExponent"]);const b=ai(h,h,wr.schema({names:{modulus:"modulus",publicExponent:"publicExponent"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for RSAPublicKey");this.modulus=b.result.modulus.convertFromDER(256),this.publicExponent=b.result.publicExponent}toSchema(){return new fn({value:[this.modulus.convertToDER(),this.publicExponent]})}toJSON(){return{n:x(U(this.modulus.valueBlock.valueHex),!0,!0,!0),e:x(U(this.publicExponent.valueBlock.valueHex),!0,!0,!0)}}fromJSON(h){if(!("n"in h))throw new Error('Absent mandatory parameter "n"');{const b=G($(h.n,!0));this.modulus=new cn({valueHex:b.slice(0,Math.pow(2,le(b.byteLength)))})}if(!("e"in h))throw new Error('Absent mandatory parameter "e"');this.publicExponent=new cn({valueHex:G($(h.e,!0)).slice(0,3)})}}class Sr{constructor(h={}){this.algorithm=S(h,"algorithm",Sr.defaultValues("algorithm")),this.subjectPublicKey=S(h,"subjectPublicKey",Sr.defaultValues("subjectPublicKey")),"parsedKey"in h&&(this.parsedKey=S(h,"parsedKey",Sr.defaultValues("parsedKey"))),"schema"in h&&this.fromSchema(h.schema),"json"in h&&this.fromJSON(h.json)}static defaultValues(h){switch(h){case"algorithm":return new jn;case"subjectPublicKey":return new ct;default:throw new Error(`Invalid member name for PublicKeyInfo class: ${h}`)}}static schema(h={}){const b=S(h,"names",{});return new fn({name:b.blockName||"",value:[jn.schema(b.algorithm||{}),new ct({name:b.subjectPublicKey||""})]})}fromSchema(h){L(h,["algorithm","subjectPublicKey"]);const b=ai(h,h,Sr.schema({names:{algorithm:{names:{blockName:"algorithm"}},subjectPublicKey:"subjectPublicKey"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for PublicKeyInfo");switch(this.algorithm=new jn({schema:b.result.algorithm}),this.subjectPublicKey=b.result.subjectPublicKey,this.algorithm.algorithmId){case"1.2.840.10045.2.1":if("algorithmParams"in this.algorithm&&this.algorithm.algorithmParams.constructor.blockName()===jt.blockName())try{this.parsedKey=new fr({namedCurve:this.algorithm.algorithmParams.valueBlock.toString(),schema:this.subjectPublicKey.valueBlock.valueHex})}catch{}break;case"1.2.840.113549.1.1.1":{const M=rt(this.subjectPublicKey.valueBlock.valueHex);if(-1!==M.offset)try{this.parsedKey=new wr({schema:M.result})}catch{}}}}toSchema(){return new fn({value:[this.algorithm.toSchema(),this.subjectPublicKey]})}toJSON(){if(!("parsedKey"in this))return{algorithm:this.algorithm.toJSON(),subjectPublicKey:this.subjectPublicKey.toJSON()};const h={};switch(this.algorithm.algorithmId){case"1.2.840.10045.2.1":h.kty="EC";break;case"1.2.840.113549.1.1.1":h.kty="RSA"}const b=this.parsedKey.toJSON();for(const M of Object.keys(b))h[M]=b[M];return h}fromJSON(h){if("kty"in h){switch(h.kty.toUpperCase()){case"EC":this.parsedKey=new fr({json:h}),this.algorithm=new jn({algorithmId:"1.2.840.10045.2.1",algorithmParams:new jt({value:this.parsedKey.namedCurve})});break;case"RSA":this.parsedKey=new wr({json:h}),this.algorithm=new jn({algorithmId:"1.2.840.113549.1.1.1",algorithmParams:new Ft});break;default:throw new Error(`Invalid value for "kty" parameter: ${h.kty}`)}this.subjectPublicKey=new ct({valueHex:this.parsedKey.toSchema().toBER(!1)})}}importKey(h){let b=Promise.resolve();const M=this;if(typeof h>"u")return Promise.reject("Need to provide publicKey input parameter");const z=rs();return typeof z>"u"?Promise.reject("Unable to create WebCrypto object"):(b=b.then(()=>z.exportKey("spki",h)),b=b.then(ce=>{const Ce=rt(ce);try{M.fromSchema(Ce.result)}catch{return Promise.reject("Error during initializing object from schema")}},ce=>Promise.reject(`Error during exporting public key: ${ce}`)),b)}}class xr{constructor(h={}){this.type=S(h,"type",xr.defaultValues("type")),this.values=S(h,"values",xr.defaultValues("values")),"schema"in h&&this.fromSchema(h.schema)}static defaultValues(h){switch(h){case"type":return"";case"values":return[];default:throw new Error(`Invalid member name for Attribute class: ${h}`)}}static compareWithDefault(h,b){switch(h){case"type":return""===b;case"values":return 0===b.length;default:throw new Error(`Invalid member name for Attribute class: ${h}`)}}static schema(h={}){const b=S(h,"names",{});return new fn({name:b.blockName||"",value:[new jt({name:b.type||""}),new gi({name:b.setName||"",value:[new Ni({name:b.values||"",value:new gr})]})]})}fromSchema(h){L(h,["type","values"]);const b=ai(h,h,xr.schema({names:{type:"type",values:"values"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for Attribute");this.type=b.result.type.valueBlock.toString(),this.values=b.result.values}toSchema(){return new fn({value:[new jt({value:this.type}),new gi({value:this.values})]})}toJSON(){return{type:this.type,values:Array.from(this.values,h=>h.toJSON())}}}class Lr{constructor(h={}){this.version=S(h,"version",Lr.defaultValues("version")),this.privateKey=S(h,"privateKey",Lr.defaultValues("privateKey")),"namedCurve"in h&&(this.namedCurve=S(h,"namedCurve",Lr.defaultValues("namedCurve"))),"publicKey"in h&&(this.publicKey=S(h,"publicKey",Lr.defaultValues("publicKey"))),"schema"in h&&this.fromSchema(h.schema),"json"in h&&this.fromJSON(h.json)}static defaultValues(h){switch(h){case"version":return 1;case"privateKey":return new Tt;case"namedCurve":return"";case"publicKey":return new fr;default:throw new Error(`Invalid member name for ECCPrivateKey class: ${h}`)}}static compareWithDefault(h,b){switch(h){case"version":return b===Lr.defaultValues(h);case"privateKey":return b.isEqual(Lr.defaultValues(h));case"namedCurve":return""===b;case"publicKey":return fr.compareWithDefault("namedCurve",b.namedCurve)&&fr.compareWithDefault("x",b.x)&&fr.compareWithDefault("y",b.y);default:throw new Error(`Invalid member name for ECCPrivateKey class: ${h}`)}}static schema(h={}){const b=S(h,"names",{});return new fn({name:b.blockName||"",value:[new cn({name:b.version||""}),new Tt({name:b.privateKey||""}),new j({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new jt({name:b.namedCurve||""})]}),new j({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new ct({name:b.publicKey||""})]})]})}fromSchema(h){L(h,["version","privateKey","namedCurve","publicKey"]);const b=ai(h,h,Lr.schema({names:{version:"version",privateKey:"privateKey",namedCurve:"namedCurve",publicKey:"publicKey"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for ECPrivateKey");if(this.version=b.result.version.valueBlock.valueDec,this.privateKey=b.result.privateKey,"namedCurve"in b.result&&(this.namedCurve=b.result.namedCurve.valueBlock.toString()),"publicKey"in b.result){const M={schema:b.result.publicKey.valueBlock.valueHex};"namedCurve"in this&&(M.namedCurve=this.namedCurve),this.publicKey=new fr(M)}}toSchema(){const h=[new cn({value:this.version}),this.privateKey];return"namedCurve"in this&&h.push(new j({idBlock:{tagClass:3,tagNumber:0},value:[new jt({value:this.namedCurve})]})),"publicKey"in this&&h.push(new j({idBlock:{tagClass:3,tagNumber:1},value:[new ct({valueHex:this.publicKey.toSchema().toBER(!1)})]})),new fn({value:h})}toJSON(){if(!("namedCurve"in this)||Lr.compareWithDefault("namedCurve",this.namedCurve))throw new Error('Not enough information for making JSON: absent "namedCurve" value');let h="";switch(this.namedCurve){case"1.2.840.10045.3.1.7":h="P-256";break;case"1.3.132.0.34":h="P-384";break;case"1.3.132.0.35":h="P-521"}const b={crv:h,d:x(U(this.privateKey.valueBlock.valueHex),!0,!0,!1)};if("publicKey"in this){const M=this.publicKey.toJSON();b.x=M.x,b.y=M.y}return b}fromJSON(h){let b=0;if(!("crv"in h))throw new Error('Absent mandatory parameter "crv"');switch(h.crv.toUpperCase()){case"P-256":this.namedCurve="1.2.840.10045.3.1.7",b=32;break;case"P-384":this.namedCurve="1.3.132.0.34",b=48;break;case"P-521":this.namedCurve="1.3.132.0.35",b=66}if(!("d"in h))throw new Error('Absent mandatory parameter "d"');{const M=G($(h.d,!0));if(M.byteLength<b){const z=new ArrayBuffer(b),ce=new Uint8Array(z),Ce=new Uint8Array(M);ce.set(Ce,1),this.privateKey=new Tt({valueHex:z})}else this.privateKey=new Tt({valueHex:M.slice(0,b)})}"x"in h&&"y"in h&&(this.publicKey=new fr({json:h}))}}class qi{constructor(h={}){this.prime=S(h,"prime",qi.defaultValues("prime")),this.exponent=S(h,"exponent",qi.defaultValues("exponent")),this.coefficient=S(h,"coefficient",qi.defaultValues("coefficient")),"schema"in h&&this.fromSchema(h.schema),"json"in h&&this.fromJSON(h.json)}static defaultValues(h){switch(h){case"prime":case"exponent":case"coefficient":return new cn;default:throw new Error(`Invalid member name for OtherPrimeInfo class: ${h}`)}}static schema(h={}){const b=S(h,"names",{});return new fn({name:b.blockName||"",value:[new cn({name:b.prime||""}),new cn({name:b.exponent||""}),new cn({name:b.coefficient||""})]})}fromSchema(h){L(h,["prime","exponent","coefficient"]);const b=ai(h,h,qi.schema({names:{prime:"prime",exponent:"exponent",coefficient:"coefficient"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for OtherPrimeInfo");this.prime=b.result.prime.convertFromDER(),this.exponent=b.result.exponent.convertFromDER(),this.coefficient=b.result.coefficient.convertFromDER()}toSchema(){return new fn({value:[this.prime.convertToDER(),this.exponent.convertToDER(),this.coefficient.convertToDER()]})}toJSON(){return{r:x(U(this.prime.valueBlock.valueHex),!0,!0),d:x(U(this.exponent.valueBlock.valueHex),!0,!0),t:x(U(this.coefficient.valueBlock.valueHex),!0,!0)}}fromJSON(h){if(!("r"in h))throw new Error('Absent mandatory parameter "r"');if(this.prime=new cn({valueHex:G($(h.r,!0))}),!("d"in h))throw new Error('Absent mandatory parameter "d"');if(this.exponent=new cn({valueHex:G($(h.d,!0))}),!("t"in h))throw new Error('Absent mandatory parameter "t"');this.coefficient=new cn({valueHex:G($(h.t,!0))})}}class er{constructor(h={}){this.version=S(h,"version",er.defaultValues("version")),this.modulus=S(h,"modulus",er.defaultValues("modulus")),this.publicExponent=S(h,"publicExponent",er.defaultValues("publicExponent")),this.privateExponent=S(h,"privateExponent",er.defaultValues("privateExponent")),this.prime1=S(h,"prime1",er.defaultValues("prime1")),this.prime2=S(h,"prime2",er.defaultValues("prime2")),this.exponent1=S(h,"exponent1",er.defaultValues("exponent1")),this.exponent2=S(h,"exponent2",er.defaultValues("exponent2")),this.coefficient=S(h,"coefficient",er.defaultValues("coefficient")),"otherPrimeInfos"in h&&(this.otherPrimeInfos=S(h,"otherPrimeInfos",er.defaultValues("otherPrimeInfos"))),"schema"in h&&this.fromSchema(h.schema),"json"in h&&this.fromJSON(h.json)}static defaultValues(h){switch(h){case"version":return 0;case"modulus":case"publicExponent":case"privateExponent":case"prime1":case"prime2":case"exponent1":case"exponent2":case"coefficient":return new cn;case"otherPrimeInfos":return[];default:throw new Error(`Invalid member name for RSAPrivateKey class: ${h}`)}}static schema(h={}){const b=S(h,"names",{});return new fn({name:b.blockName||"",value:[new cn({name:b.version||""}),new cn({name:b.modulus||""}),new cn({name:b.publicExponent||""}),new cn({name:b.privateExponent||""}),new cn({name:b.prime1||""}),new cn({name:b.prime2||""}),new cn({name:b.exponent1||""}),new cn({name:b.exponent2||""}),new cn({name:b.coefficient||""}),new fn({optional:!0,value:[new Ni({name:b.otherPrimeInfosName||"",value:qi.schema(b.otherPrimeInfo||{})})]})]})}fromSchema(h){L(h,["version","modulus","publicExponent","privateExponent","prime1","prime2","exponent1","exponent2","coefficient","otherPrimeInfos"]);const b=ai(h,h,er.schema({names:{version:"version",modulus:"modulus",publicExponent:"publicExponent",privateExponent:"privateExponent",prime1:"prime1",prime2:"prime2",exponent1:"exponent1",exponent2:"exponent2",coefficient:"coefficient",otherPrimeInfo:{names:{blockName:"otherPrimeInfos"}}}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for RSAPrivateKey");this.version=b.result.version.valueBlock.valueDec,this.modulus=b.result.modulus.convertFromDER(256),this.publicExponent=b.result.publicExponent,this.privateExponent=b.result.privateExponent.convertFromDER(256),this.prime1=b.result.prime1.convertFromDER(128),this.prime2=b.result.prime2.convertFromDER(128),this.exponent1=b.result.exponent1.convertFromDER(128),this.exponent2=b.result.exponent2.convertFromDER(128),this.coefficient=b.result.coefficient.convertFromDER(128),"otherPrimeInfos"in b.result&&(this.otherPrimeInfos=Array.from(b.result.otherPrimeInfos,M=>new qi({schema:M})))}toSchema(){const h=[];return h.push(new cn({value:this.version})),h.push(this.modulus.convertToDER()),h.push(this.publicExponent),h.push(this.privateExponent.convertToDER()),h.push(this.prime1.convertToDER()),h.push(this.prime2.convertToDER()),h.push(this.exponent1.convertToDER()),h.push(this.exponent2.convertToDER()),h.push(this.coefficient.convertToDER()),"otherPrimeInfos"in this&&h.push(new fn({value:Array.from(this.otherPrimeInfos,b=>b.toSchema())})),new fn({value:h})}toJSON(){const h={n:x(U(this.modulus.valueBlock.valueHex),!0,!0,!0),e:x(U(this.publicExponent.valueBlock.valueHex),!0,!0,!0),d:x(U(this.privateExponent.valueBlock.valueHex),!0,!0,!0),p:x(U(this.prime1.valueBlock.valueHex),!0,!0,!0),q:x(U(this.prime2.valueBlock.valueHex),!0,!0,!0),dp:x(U(this.exponent1.valueBlock.valueHex),!0,!0,!0),dq:x(U(this.exponent2.valueBlock.valueHex),!0,!0,!0),qi:x(U(this.coefficient.valueBlock.valueHex),!0,!0,!0)};return"otherPrimeInfos"in this&&(h.oth=Array.from(this.otherPrimeInfos,b=>b.toJSON())),h}fromJSON(h){if(!("n"in h))throw new Error('Absent mandatory parameter "n"');if(this.modulus=new cn({valueHex:G($(h.n,!0,!0))}),!("e"in h))throw new Error('Absent mandatory parameter "e"');if(this.publicExponent=new cn({valueHex:G($(h.e,!0,!0))}),!("d"in h))throw new Error('Absent mandatory parameter "d"');if(this.privateExponent=new cn({valueHex:G($(h.d,!0,!0))}),!("p"in h))throw new Error('Absent mandatory parameter "p"');if(this.prime1=new cn({valueHex:G($(h.p,!0,!0))}),!("q"in h))throw new Error('Absent mandatory parameter "q"');if(this.prime2=new cn({valueHex:G($(h.q,!0,!0))}),!("dp"in h))throw new Error('Absent mandatory parameter "dp"');if(this.exponent1=new cn({valueHex:G($(h.dp,!0,!0))}),!("dq"in h))throw new Error('Absent mandatory parameter "dq"');if(this.exponent2=new cn({valueHex:G($(h.dq,!0,!0))}),!("qi"in h))throw new Error('Absent mandatory parameter "qi"');this.coefficient=new cn({valueHex:G($(h.qi,!0,!0))}),"oth"in h&&(this.otherPrimeInfos=Array.from(h.oth,b=>new qi({json:b})))}}class Hn{constructor(h={}){this.version=S(h,"version",Hn.defaultValues("version")),this.privateKeyAlgorithm=S(h,"privateKeyAlgorithm",Hn.defaultValues("privateKeyAlgorithm")),this.privateKey=S(h,"privateKey",Hn.defaultValues("privateKey")),"attributes"in h&&(this.attributes=S(h,"attributes",Hn.defaultValues("attributes"))),"parsedKey"in h&&(this.parsedKey=S(h,"parsedKey",Hn.defaultValues("parsedKey"))),"schema"in h&&this.fromSchema(h.schema),"json"in h&&this.fromJSON(h.json)}static defaultValues(h){switch(h){case"version":return 0;case"privateKeyAlgorithm":return new jn;case"privateKey":return new Tt;case"attributes":return[];case"parsedKey":return{};default:throw new Error(`Invalid member name for PrivateKeyInfo class: ${h}`)}}static schema(h={}){const b=S(h,"names",{});return new fn({name:b.blockName||"",value:[new cn({name:b.version||""}),jn.schema(b.privateKeyAlgorithm||{}),new Tt({name:b.privateKey||""}),new j({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new Ni({name:b.attributes||"",value:xr.schema()})]})]})}fromSchema(h){L(h,["version","privateKeyAlgorithm","privateKey","attributes"]);const b=ai(h,h,Hn.schema({names:{version:"version",privateKeyAlgorithm:{names:{blockName:"privateKeyAlgorithm"}},privateKey:"privateKey",attributes:"attributes"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for PrivateKeyInfo");switch(this.version=b.result.version.valueBlock.valueDec,this.privateKeyAlgorithm=new jn({schema:b.result.privateKeyAlgorithm}),this.privateKey=b.result.privateKey,"attributes"in b.result&&(this.attributes=Array.from(b.result.attributes,M=>new xr({schema:M}))),this.privateKeyAlgorithm.algorithmId){case"1.2.840.113549.1.1.1":{const M=rt(this.privateKey.valueBlock.valueHex);-1!==M.offset&&(this.parsedKey=new er({schema:M.result}))}break;case"1.2.840.10045.2.1":if("algorithmParams"in this.privateKeyAlgorithm&&this.privateKeyAlgorithm.algorithmParams instanceof jt){const M=rt(this.privateKey.valueBlock.valueHex);-1!==M.offset&&(this.parsedKey=new Lr({namedCurve:this.privateKeyAlgorithm.algorithmParams.valueBlock.toString(),schema:M.result}))}}}toSchema(){const h=[new cn({value:this.version}),this.privateKeyAlgorithm.toSchema(),this.privateKey];return"attributes"in this&&h.push(new j({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.attributes,b=>b.toSchema())})),new fn({value:h})}toJSON(){if(!("parsedKey"in this)){const M={version:this.version,privateKeyAlgorithm:this.privateKeyAlgorithm.toJSON(),privateKey:this.privateKey.toJSON()};return"attributes"in this&&(M.attributes=Array.from(this.attributes,z=>z.toJSON())),M}const h={};switch(this.privateKeyAlgorithm.algorithmId){case"1.2.840.10045.2.1":h.kty="EC";break;case"1.2.840.113549.1.1.1":h.kty="RSA"}const b=this.parsedKey.toJSON();for(const M of Object.keys(b))h[M]=b[M];return h}fromJSON(h){if("kty"in h){switch(h.kty.toUpperCase()){case"EC":this.parsedKey=new Lr({json:h}),this.privateKeyAlgorithm=new jn({algorithmId:"1.2.840.10045.2.1",algorithmParams:new jt({value:this.parsedKey.namedCurve})});break;case"RSA":this.parsedKey=new er({json:h}),this.privateKeyAlgorithm=new jn({algorithmId:"1.2.840.113549.1.1.1",algorithmParams:new Ft});break;default:throw new Error(`Invalid value for "kty" parameter: ${h.kty}`)}this.privateKey=new Tt({valueHex:this.parsedKey.toSchema().toBER(!1)})}}}class Gr{constructor(h={}){if(this.contentType=S(h,"contentType",Gr.defaultValues("contentType")),this.contentEncryptionAlgorithm=S(h,"contentEncryptionAlgorithm",Gr.defaultValues("contentEncryptionAlgorithm")),"encryptedContent"in h&&(this.encryptedContent=h.encryptedContent,1===this.encryptedContent.idBlock.tagClass&&4===this.encryptedContent.idBlock.tagNumber&&!1===this.encryptedContent.idBlock.isConstructed)){const b=new Tt({idBlock:{isConstructed:!0},isConstructed:!0});let M=0,z=this.encryptedContent.valueBlock.valueHex.byteLength;for(;z>0;){const ce=new Uint8Array(this.encryptedContent.valueBlock.valueHex,M,M+1024>this.encryptedContent.valueBlock.valueHex.byteLength?this.encryptedContent.valueBlock.valueHex.byteLength-M:1024),Ce=new ArrayBuffer(ce.length),He=new Uint8Array(Ce);for(let A=0;A<He.length;A++)He[A]=ce[A];b.valueBlock.value.push(new Tt({valueHex:Ce})),z-=ce.length,M+=ce.length}this.encryptedContent=b}"schema"in h&&this.fromSchema(h.schema)}static defaultValues(h){switch(h){case"contentType":return"";case"contentEncryptionAlgorithm":return new jn;case"encryptedContent":return new Tt;default:throw new Error(`Invalid member name for EncryptedContentInfo class: ${h}`)}}static compareWithDefault(h,b){switch(h){case"contentType":return""===b;case"contentEncryptionAlgorithm":return""===b.algorithmId&&!("algorithmParams"in b);case"encryptedContent":return b.isEqual(Gr.defaultValues(h));default:throw new Error(`Invalid member name for EncryptedContentInfo class: ${h}`)}}static schema(h={}){const b=S(h,"names",{});return new fn({name:b.blockName||"",value:[new jt({name:b.contentType||""}),jn.schema(b.contentEncryptionAlgorithm||{}),new vr({value:[new j({name:b.encryptedContent||"",idBlock:{tagClass:3,tagNumber:0},value:[new Ni({value:new Tt})]}),new it({name:b.encryptedContent||"",idBlock:{tagClass:3,tagNumber:0}})]})]})}fromSchema(h){L(h,["contentType","contentEncryptionAlgorithm","encryptedContent"]);const b=ai(h,h,Gr.schema({names:{contentType:"contentType",contentEncryptionAlgorithm:{names:{blockName:"contentEncryptionAlgorithm"}},encryptedContent:"encryptedContent"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for EncryptedContentInfo");this.contentType=b.result.contentType.valueBlock.toString(),this.contentEncryptionAlgorithm=new jn({schema:b.result.contentEncryptionAlgorithm}),"encryptedContent"in b.result&&(this.encryptedContent=b.result.encryptedContent,this.encryptedContent.idBlock.tagClass=1,this.encryptedContent.idBlock.tagNumber=4)}toSchema(){const h={isIndefiniteForm:!1},b=[];if(b.push(new jt({value:this.contentType})),b.push(this.contentEncryptionAlgorithm.toSchema()),"encryptedContent"in this){h.isIndefiniteForm=this.encryptedContent.idBlock.isConstructed;const M=this.encryptedContent;M.idBlock.tagClass=3,M.idBlock.tagNumber=0,M.lenBlock.isIndefiniteForm=this.encryptedContent.idBlock.isConstructed,b.push(M)}return new fn({lenBlock:h,value:b})}toJSON(){const h={contentType:this.contentType,contentEncryptionAlgorithm:this.contentEncryptionAlgorithm.toJSON()};return"encryptedContent"in this&&(h.encryptedContent=this.encryptedContent.toJSON()),h}}class lr{constructor(h={}){this.hashAlgorithm=S(h,"hashAlgorithm",lr.defaultValues("hashAlgorithm")),this.maskGenAlgorithm=S(h,"maskGenAlgorithm",lr.defaultValues("maskGenAlgorithm")),this.saltLength=S(h,"saltLength",lr.defaultValues("saltLength")),this.trailerField=S(h,"trailerField",lr.defaultValues("trailerField")),"schema"in h&&this.fromSchema(h.schema)}static defaultValues(h){switch(h){case"hashAlgorithm":return new jn({algorithmId:"1.3.14.3.2.26",algorithmParams:new Ft});case"maskGenAlgorithm":return new jn({algorithmId:"1.2.840.113549.1.1.8",algorithmParams:new jn({algorithmId:"1.3.14.3.2.26",algorithmParams:new Ft}).toSchema()});case"saltLength":return 20;case"trailerField":return 1;default:throw new Error(`Invalid member name for RSASSAPSSParams class: ${h}`)}}static schema(h={}){const b=S(h,"names",{});return new fn({name:b.blockName||"",value:[new j({idBlock:{tagClass:3,tagNumber:0},optional:!0,value:[jn.schema(b.hashAlgorithm||{})]}),new j({idBlock:{tagClass:3,tagNumber:1},optional:!0,value:[jn.schema(b.maskGenAlgorithm||{})]}),new j({idBlock:{tagClass:3,tagNumber:2},optional:!0,value:[new cn({name:b.saltLength||""})]}),new j({idBlock:{tagClass:3,tagNumber:3},optional:!0,value:[new cn({name:b.trailerField||""})]})]})}fromSchema(h){L(h,["hashAlgorithm","maskGenAlgorithm","saltLength","trailerField"]);const b=ai(h,h,lr.schema({names:{hashAlgorithm:{names:{blockName:"hashAlgorithm"}},maskGenAlgorithm:{names:{blockName:"maskGenAlgorithm"}},saltLength:"saltLength",trailerField:"trailerField"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for RSASSAPSSParams");"hashAlgorithm"in b.result&&(this.hashAlgorithm=new jn({schema:b.result.hashAlgorithm})),"maskGenAlgorithm"in b.result&&(this.maskGenAlgorithm=new jn({schema:b.result.maskGenAlgorithm})),"saltLength"in b.result&&(this.saltLength=b.result.saltLength.valueBlock.valueDec),"trailerField"in b.result&&(this.trailerField=b.result.trailerField.valueBlock.valueDec)}toSchema(){const h=[];return this.hashAlgorithm.isEqual(lr.defaultValues("hashAlgorithm"))||h.push(new j({idBlock:{tagClass:3,tagNumber:0},value:[this.hashAlgorithm.toSchema()]})),this.maskGenAlgorithm.isEqual(lr.defaultValues("maskGenAlgorithm"))||h.push(new j({idBlock:{tagClass:3,tagNumber:1},value:[this.maskGenAlgorithm.toSchema()]})),this.saltLength!==lr.defaultValues("saltLength")&&h.push(new j({idBlock:{tagClass:3,tagNumber:2},value:[new cn({value:this.saltLength})]})),this.trailerField!==lr.defaultValues("trailerField")&&h.push(new j({idBlock:{tagClass:3,tagNumber:3},value:[new cn({value:this.trailerField})]})),new fn({value:h})}toJSON(){const h={};return this.hashAlgorithm.isEqual(lr.defaultValues("hashAlgorithm"))||(h.hashAlgorithm=this.hashAlgorithm.toJSON()),this.maskGenAlgorithm.isEqual(lr.defaultValues("maskGenAlgorithm"))||(h.maskGenAlgorithm=this.maskGenAlgorithm.toJSON()),this.saltLength!==lr.defaultValues("saltLength")&&(h.saltLength=this.saltLength),this.trailerField!==lr.defaultValues("trailerField")&&(h.trailerField=this.trailerField),h}}class kr{constructor(h={}){this.salt=S(h,"salt",kr.defaultValues("salt")),this.iterationCount=S(h,"iterationCount",kr.defaultValues("iterationCount")),"keyLength"in h&&(this.keyLength=S(h,"keyLength",kr.defaultValues("keyLength"))),"prf"in h&&(this.prf=S(h,"prf",kr.defaultValues("prf"))),"schema"in h&&this.fromSchema(h.schema)}static defaultValues(h){switch(h){case"salt":return{};case"iterationCount":return-1;case"keyLength":return 0;case"prf":return new jn({algorithmId:"1.3.14.3.2.26",algorithmParams:new Ft});default:throw new Error(`Invalid member name for PBKDF2Params class: ${h}`)}}static schema(h={}){const b=S(h,"names",{});return new fn({name:b.blockName||"",value:[new vr({value:[new Tt({name:b.saltPrimitive||""}),jn.schema(b.saltConstructed||{})]}),new cn({name:b.iterationCount||""}),new cn({name:b.keyLength||"",optional:!0}),jn.schema(b.prf||{names:{optional:!0}})]})}fromSchema(h){L(h,["salt","iterationCount","keyLength","prf"]);const b=ai(h,h,kr.schema({names:{saltPrimitive:"salt",saltConstructed:{names:{blockName:"salt"}},iterationCount:"iterationCount",keyLength:"keyLength",prf:{names:{blockName:"prf",optional:!0}}}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for PBKDF2Params");this.salt=b.result.salt,this.iterationCount=b.result.iterationCount.valueBlock.valueDec,"keyLength"in b.result&&(this.keyLength=b.result.keyLength.valueBlock.valueDec),"prf"in b.result&&(this.prf=new jn({schema:b.result.prf}))}toSchema(){const h=[];return h.push(this.salt),h.push(new cn({value:this.iterationCount})),"keyLength"in this&&kr.defaultValues("keyLength")!==this.keyLength&&h.push(new cn({value:this.keyLength})),"prf"in this&&!1===kr.defaultValues("prf").isEqual(this.prf)&&h.push(this.prf.toSchema()),new fn({value:h})}toJSON(){const h={salt:this.salt.toJSON(),iterationCount:this.iterationCount};return"keyLength"in this&&kr.defaultValues("keyLength")!==this.keyLength&&(h.keyLength=this.keyLength),"prf"in this&&!1===kr.defaultValues("prf").isEqual(this.prf)&&(h.prf=this.prf.toJSON()),h}}class ns{constructor(h={}){this.keyDerivationFunc=S(h,"keyDerivationFunc",ns.defaultValues("keyDerivationFunc")),this.encryptionScheme=S(h,"encryptionScheme",ns.defaultValues("encryptionScheme")),"schema"in h&&this.fromSchema(h.schema)}static defaultValues(h){switch(h){case"keyDerivationFunc":case"encryptionScheme":return new jn;default:throw new Error(`Invalid member name for PBES2Params class: ${h}`)}}static schema(h={}){const b=S(h,"names",{});return new fn({name:b.blockName||"",value:[jn.schema(b.keyDerivationFunc||{}),jn.schema(b.encryptionScheme||{})]})}fromSchema(h){L(h,["keyDerivationFunc","encryptionScheme"]);const b=ai(h,h,ns.schema({names:{keyDerivationFunc:{names:{blockName:"keyDerivationFunc"}},encryptionScheme:{names:{blockName:"encryptionScheme"}}}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for PBES2Params");this.keyDerivationFunc=new jn({schema:b.result.keyDerivationFunc}),this.encryptionScheme=new jn({schema:b.result.encryptionScheme})}toSchema(){return new fn({value:[this.keyDerivationFunc.toSchema(),this.encryptionScheme.toSchema()]})}toJSON(){return{keyDerivationFunc:this.keyDerivationFunc.toJSON(),encryptionScheme:this.encryptionScheme.toJSON()}}}function ro(Ve,h,b,M,z,ce){let Ce,He;const A=[];switch(h.toUpperCase()){case"SHA-1":Ce=20,He=64;break;case"SHA-256":Ce=32,He=64;break;case"SHA-384":Ce=48,He=128;break;case"SHA-512":Ce=64,He=128;break;default:throw new Error("Unsupported hashing algorithm")}const V=new Uint8Array(M),B=new ArrayBuffer(2*M.byteLength+2),Z=new Uint8Array(B);for(let zr=0;zr<V.length;zr++)Z[2*zr]=0,Z[2*zr+1]=V[zr];Z[Z.length-2]=0,Z[Z.length-1]=0,M=B.slice(0);const be=new ArrayBuffer(He),Ge=new Uint8Array(be);for(let zr=0;zr<be.byteLength;zr++)Ge[zr]=3;const vt=z.byteLength,sn=He*Math.ceil(vt/He),qt=new ArrayBuffer(sn),Ln=new Uint8Array(qt),Oi=new Uint8Array(z);for(let zr=0;zr<sn;zr++)Ln[zr]=Oi[zr%vt];const Pi=M.byteLength,ur=He*Math.ceil(Pi/He),$s=new ArrayBuffer(ur),xs=new Uint8Array($s),Ma=new Uint8Array(M);for(let zr=0;zr<ur;zr++)xs[zr]=Ma[zr%Pi];let Xs=new ArrayBuffer(qt.byteLength+$s.byteLength),ic=new Uint8Array(Xs);ic.set(Ln),ic.set(xs,Ln.length);const qf=Math.ceil((b>>3)/Ce);let Za=Promise.resolve(Xs);for(let zr=0;zr<=qf;zr++){Za=Za.then(xa=>{const bl=new ArrayBuffer(be.byteLength+xa.byteLength),Cl=new Uint8Array(bl);return Cl.set(Ge),Cl.set(ic,Ge.length),bl});for(let xa=0;xa<ce;xa++)Za=Za.then(bl=>Ve.digest({name:h},new Uint8Array(bl)));Za=Za.then(xa=>{const bl=new ArrayBuffer(He),Cl=new Uint8Array(bl);for(let wl=0;wl<bl.byteLength;wl++)Cl[wl]=xa[wl%xa.length];const fa=Math.ceil(vt/He)+Math.ceil(Pi/He),jo=[];let rc=0,Xu=He;for(let wl=0;wl<fa;wl++){const Ju=Array.from(new Uint8Array(Xs.slice(rc,rc+Xu)));rc+=He,rc+He>Xs.byteLength&&(Xu=Xs.byteLength-rc);let hh=511;for(let br=bl.byteLength-1;br>=0;br--)hh>>=8,hh+=Cl[br]+Ju[br],Ju[br]=255&hh;jo.push(...Ju)}return Xs=new ArrayBuffer(jo.length),ic=new Uint8Array(Xs),ic.set(jo),A.push(...new Uint8Array(xa)),Xs})}return Za=Za.then(()=>{const zr=new ArrayBuffer(b>>3);return new Uint8Array(zr).set(new Uint8Array(A).slice(0,b>>3)),zr}),Za}class Co{constructor(h={}){this.crypto=S(h,"crypto",{}),this.subtle=S(h,"subtle",{}),this.name=S(h,"name","")}importKey(h,b,M,z,ce){let Ce={};switch(b instanceof Uint8Array&&(b=b.buffer),h.toLowerCase()){case"raw":return this.subtle.importKey("raw",b,M,z,ce);case"spki":{const He=rt(b);if(-1===He.offset)return Promise.reject("Incorrect keyData");const A=new Sr;try{A.fromSchema(He.result)}catch{return Promise.reject("Incorrect keyData")}switch(M.name.toUpperCase()){case"RSA-PSS":switch(M.hash.name.toUpperCase()){case"SHA-1":Ce.alg="PS1";break;case"SHA-256":Ce.alg="PS256";break;case"SHA-384":Ce.alg="PS384";break;case"SHA-512":Ce.alg="PS512";break;default:return Promise.reject(`Incorrect hash algorithm: ${M.hash.name.toUpperCase()}`)}case"RSASSA-PKCS1-V1_5":{if(ce=["verify"],Ce.kty="RSA",Ce.ext=z,Ce.key_ops=ce,"1.2.840.113549.1.1.1"!==A.algorithm.algorithmId)return Promise.reject(`Incorrect public key algorithm: ${A.algorithm.algorithmId}`);if(!("alg"in Ce))switch(M.hash.name.toUpperCase()){case"SHA-1":Ce.alg="RS1";break;case"SHA-256":Ce.alg="RS256";break;case"SHA-384":Ce.alg="RS384";break;case"SHA-512":Ce.alg="RS512";break;default:return Promise.reject(`Incorrect hash algorithm: ${M.hash.name.toUpperCase()}`)}const V=A.toJSON();for(const B of Object.keys(V))Ce[B]=V[B]}break;case"ECDSA":ce=["verify"];case"ECDH":{if(Ce={kty:"EC",ext:z,key_ops:ce},"1.2.840.10045.2.1"!==A.algorithm.algorithmId)return Promise.reject(`Incorrect public key algorithm: ${A.algorithm.algorithmId}`);const V=A.toJSON();for(const B of Object.keys(V))Ce[B]=V[B]}break;case"RSA-OAEP":{if(Ce.kty="RSA",Ce.ext=z,Ce.key_ops=ce,"safari"===this.name.toLowerCase())Ce.alg="RSA-OAEP";else switch(M.hash.name.toUpperCase()){case"SHA-1":Ce.alg="RSA-OAEP";break;case"SHA-256":Ce.alg="RSA-OAEP-256";break;case"SHA-384":Ce.alg="RSA-OAEP-384";break;case"SHA-512":Ce.alg="RSA-OAEP-512";break;default:return Promise.reject(`Incorrect hash algorithm: ${M.hash.name.toUpperCase()}`)}const V=A.toJSON();for(const B of Object.keys(V))Ce[B]=V[B]}break;case"RSAES-PKCS1-V1_5":{Ce.kty="RSA",Ce.ext=z,Ce.key_ops=ce,Ce.alg="PS1";const V=A.toJSON();for(const B of Object.keys(V))Ce[B]=V[B]}break;default:return Promise.reject(`Incorrect algorithm name: ${M.name.toUpperCase()}`)}}break;case"pkcs8":{const He=new Hn,A=rt(b);if(-1===A.offset)return Promise.reject("Incorrect keyData");try{He.fromSchema(A.result)}catch{return Promise.reject("Incorrect keyData")}if(!("parsedKey"in He))return Promise.reject("Incorrect keyData");switch(M.name.toUpperCase()){case"RSA-PSS":switch(M.hash.name.toUpperCase()){case"SHA-1":Ce.alg="PS1";break;case"SHA-256":Ce.alg="PS256";break;case"SHA-384":Ce.alg="PS384";break;case"SHA-512":Ce.alg="PS512";break;default:return Promise.reject(`Incorrect hash algorithm: ${M.hash.name.toUpperCase()}`)}case"RSASSA-PKCS1-V1_5":{if(ce=["sign"],Ce.kty="RSA",Ce.ext=z,Ce.key_ops=ce,"1.2.840.113549.1.1.1"!==He.privateKeyAlgorithm.algorithmId)return Promise.reject(`Incorrect private key algorithm: ${He.privateKeyAlgorithm.algorithmId}`);if(!("alg"in Ce))switch(M.hash.name.toUpperCase()){case"SHA-1":Ce.alg="RS1";break;case"SHA-256":Ce.alg="RS256";break;case"SHA-384":Ce.alg="RS384";break;case"SHA-512":Ce.alg="RS512";break;default:return Promise.reject(`Incorrect hash algorithm: ${M.hash.name.toUpperCase()}`)}const V=He.toJSON();for(const B of Object.keys(V))Ce[B]=V[B]}break;case"ECDSA":ce=["sign"];case"ECDH":{if(Ce={kty:"EC",ext:z,key_ops:ce},"1.2.840.10045.2.1"!==He.privateKeyAlgorithm.algorithmId)return Promise.reject(`Incorrect algorithm: ${He.privateKeyAlgorithm.algorithmId}`);const V=He.toJSON();for(const B of Object.keys(V))Ce[B]=V[B]}break;case"RSA-OAEP":{if(Ce.kty="RSA",Ce.ext=z,Ce.key_ops=ce,"safari"===this.name.toLowerCase())Ce.alg="RSA-OAEP";else switch(M.hash.name.toUpperCase()){case"SHA-1":Ce.alg="RSA-OAEP";break;case"SHA-256":Ce.alg="RSA-OAEP-256";break;case"SHA-384":Ce.alg="RSA-OAEP-384";break;case"SHA-512":Ce.alg="RSA-OAEP-512";break;default:return Promise.reject(`Incorrect hash algorithm: ${M.hash.name.toUpperCase()}`)}const V=He.toJSON();for(const B of Object.keys(V))Ce[B]=V[B]}break;case"RSAES-PKCS1-V1_5":{ce=["decrypt"],Ce.kty="RSA",Ce.ext=z,Ce.key_ops=ce,Ce.alg="PS1";const V=He.toJSON();for(const B of Object.keys(V))Ce[B]=V[B]}break;default:return Promise.reject(`Incorrect algorithm name: ${M.name.toUpperCase()}`)}}break;case"jwk":Ce=b;break;default:return Promise.reject(`Incorrect format: ${h}`)}return"safari"===this.name.toLowerCase()?Promise.resolve().then(()=>this.subtle.importKey("jwk",G(JSON.stringify(Ce)),M,z,ce)).then(He=>He,()=>this.subtle.importKey("jwk",Ce,M,z,ce)):this.subtle.importKey("jwk",Ce,M,z,ce)}exportKey(h,b){let M=this.subtle.exportKey("jwk",b);switch("safari"===this.name.toLowerCase()&&(M=M.then(z=>z instanceof ArrayBuffer?JSON.parse(U(z)):z)),h.toLowerCase()){case"raw":return this.subtle.exportKey("raw",b);case"spki":M=M.then(z=>{const ce=new Sr;try{ce.fromJSON(z)}catch{return Promise.reject("Incorrect key data")}return ce.toSchema().toBER(!1)});break;case"pkcs8":M=M.then(z=>{const ce=new Hn;try{ce.fromJSON(z)}catch{return Promise.reject("Incorrect key data")}return ce.toSchema().toBER(!1)});break;case"jwk":break;default:return Promise.reject(`Incorrect format: ${h}`)}return M}convert(h,b,M,z,ce,Ce){switch(h.toLowerCase()){case"raw":switch(b.toLowerCase()){case"raw":return Promise.resolve(M);case"spki":return Promise.resolve().then(()=>this.importKey("raw",M,z,ce,Ce)).then(He=>this.exportKey("spki",He));case"pkcs8":return Promise.resolve().then(()=>this.importKey("raw",M,z,ce,Ce)).then(He=>this.exportKey("pkcs8",He));case"jwk":return Promise.resolve().then(()=>this.importKey("raw",M,z,ce,Ce)).then(He=>this.exportKey("jwk",He));default:return Promise.reject(`Incorrect outputFormat: ${b}`)}case"spki":switch(b.toLowerCase()){case"raw":return Promise.resolve().then(()=>this.importKey("spki",M,z,ce,Ce)).then(He=>this.exportKey("raw",He));case"spki":return Promise.resolve(M);case"pkcs8":return Promise.reject("Impossible to convert between SPKI/PKCS8");case"jwk":return Promise.resolve().then(()=>this.importKey("spki",M,z,ce,Ce)).then(He=>this.exportKey("jwk",He));default:return Promise.reject(`Incorrect outputFormat: ${b}`)}case"pkcs8":switch(b.toLowerCase()){case"raw":return Promise.resolve().then(()=>this.importKey("pkcs8",M,z,ce,Ce)).then(He=>this.exportKey("raw",He));case"spki":return Promise.reject("Impossible to convert between SPKI/PKCS8");case"pkcs8":return Promise.resolve(M);case"jwk":return Promise.resolve().then(()=>this.importKey("pkcs8",M,z,ce,Ce)).then(He=>this.exportKey("jwk",He));default:return Promise.reject(`Incorrect outputFormat: ${b}`)}case"jwk":switch(b.toLowerCase()){case"raw":return Promise.resolve().then(()=>this.importKey("jwk",M,z,ce,Ce)).then(He=>this.exportKey("raw",He));case"spki":return Promise.resolve().then(()=>this.importKey("jwk",M,z,ce,Ce)).then(He=>this.exportKey("spki",He));case"pkcs8":return Promise.resolve().then(()=>this.importKey("jwk",M,z,ce,Ce)).then(He=>this.exportKey("pkcs8",He));case"jwk":return Promise.resolve(M);default:return Promise.reject(`Incorrect outputFormat: ${b}`)}default:return Promise.reject(`Incorrect inputFormat: ${h}`)}}encrypt(...h){return this.subtle.encrypt(...h)}decrypt(...h){return this.subtle.decrypt(...h)}sign(...h){return this.subtle.sign(...h)}verify(...h){return this.subtle.verify(...h)}digest(...h){return this.subtle.digest(...h)}generateKey(...h){return this.subtle.generateKey(...h)}deriveKey(...h){return this.subtle.deriveKey(...h)}deriveBits(...h){return this.subtle.deriveBits(...h)}wrapKey(...h){return this.subtle.wrapKey(...h)}unwrapKey(...h){return this.subtle.unwrapKey(...h)}getRandomValues(h){if(!("getRandomValues"in this.crypto))throw new Error("No support for getRandomValues");return this.crypto.getRandomValues(h)}getAlgorithmByOID(h){switch(h){case"1.2.840.113549.1.1.1":return{name:"RSAES-PKCS1-v1_5"};case"1.2.840.113549.1.1.5":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-1"}};case"1.2.840.113549.1.1.11":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"1.2.840.113549.1.1.12":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-384"}};case"1.2.840.113549.1.1.13":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-512"}};case"1.2.840.113549.1.1.10":return{name:"RSA-PSS"};case"1.2.840.113549.1.1.7":return{name:"RSA-OAEP"};case"1.2.840.10045.2.1":case"1.2.840.10045.4.1":return{name:"ECDSA",hash:{name:"SHA-1"}};case"1.2.840.10045.4.3.2":return{name:"ECDSA",hash:{name:"SHA-256"}};case"1.2.840.10045.4.3.3":return{name:"ECDSA",hash:{name:"SHA-384"}};case"1.2.840.10045.4.3.4":return{name:"ECDSA",hash:{name:"SHA-512"}};case"1.3.133.16.840.63.0.2":return{name:"ECDH",kdf:"SHA-1"};case"1.3.132.1.11.1":return{name:"ECDH",kdf:"SHA-256"};case"1.3.132.1.11.2":return{name:"ECDH",kdf:"SHA-384"};case"1.3.132.1.11.3":return{name:"ECDH",kdf:"SHA-512"};case"2.16.840.1.101.3.4.1.2":return{name:"AES-CBC",length:128};case"2.16.840.1.101.3.4.1.22":return{name:"AES-CBC",length:192};case"2.16.840.1.101.3.4.1.42":return{name:"AES-CBC",length:256};case"2.16.840.1.101.3.4.1.6":return{name:"AES-GCM",length:128};case"2.16.840.1.101.3.4.1.26":return{name:"AES-GCM",length:192};case"2.16.840.1.101.3.4.1.46":return{name:"AES-GCM",length:256};case"2.16.840.1.101.3.4.1.4":return{name:"AES-CFB",length:128};case"2.16.840.1.101.3.4.1.24":return{name:"AES-CFB",length:192};case"2.16.840.1.101.3.4.1.44":return{name:"AES-CFB",length:256};case"2.16.840.1.101.3.4.1.5":return{name:"AES-KW",length:128};case"2.16.840.1.101.3.4.1.25":return{name:"AES-KW",length:192};case"2.16.840.1.101.3.4.1.45":return{name:"AES-KW",length:256};case"1.2.840.113549.2.7":return{name:"HMAC",hash:{name:"SHA-1"}};case"1.2.840.113549.2.9":return{name:"HMAC",hash:{name:"SHA-256"}};case"1.2.840.113549.2.10":return{name:"HMAC",hash:{name:"SHA-384"}};case"1.2.840.113549.2.11":return{name:"HMAC",hash:{name:"SHA-512"}};case"1.2.840.113549.1.9.16.3.5":return{name:"DH"};case"1.3.14.3.2.26":return{name:"SHA-1"};case"2.16.840.1.101.3.4.2.1":return{name:"SHA-256"};case"2.16.840.1.101.3.4.2.2":return{name:"SHA-384"};case"2.16.840.1.101.3.4.2.3":return{name:"SHA-512"};case"1.2.840.113549.1.5.12":return{name:"PBKDF2"};case"1.2.840.10045.3.1.7":return{name:"P-256"};case"1.3.132.0.34":return{name:"P-384"};case"1.3.132.0.35":return{name:"P-521"}}return{}}getOIDByAlgorithm(h){let b="";switch(h.name.toUpperCase()){case"RSAES-PKCS1-V1_5":b="1.2.840.113549.1.1.1";break;case"RSASSA-PKCS1-V1_5":switch(h.hash.name.toUpperCase()){case"SHA-1":b="1.2.840.113549.1.1.5";break;case"SHA-256":b="1.2.840.113549.1.1.11";break;case"SHA-384":b="1.2.840.113549.1.1.12";break;case"SHA-512":b="1.2.840.113549.1.1.13"}break;case"RSA-PSS":b="1.2.840.113549.1.1.10";break;case"RSA-OAEP":b="1.2.840.113549.1.1.7";break;case"ECDSA":switch(h.hash.name.toUpperCase()){case"SHA-1":b="1.2.840.10045.4.1";break;case"SHA-256":b="1.2.840.10045.4.3.2";break;case"SHA-384":b="1.2.840.10045.4.3.3";break;case"SHA-512":b="1.2.840.10045.4.3.4"}break;case"ECDH":switch(h.kdf.toUpperCase()){case"SHA-1":b="1.3.133.16.840.63.0.2";break;case"SHA-256":b="1.3.132.1.11.1";break;case"SHA-384":b="1.3.132.1.11.2";break;case"SHA-512":b="1.3.132.1.11.3"}break;case"AES-CTR":case"AES-CMAC":case"CONCAT":case"HKDF":break;case"AES-CBC":switch(h.length){case 128:b="2.16.840.1.101.3.4.1.2";break;case 192:b="2.16.840.1.101.3.4.1.22";break;case 256:b="2.16.840.1.101.3.4.1.42"}break;case"AES-GCM":switch(h.length){case 128:b="2.16.840.1.101.3.4.1.6";break;case 192:b="2.16.840.1.101.3.4.1.26";break;case 256:b="2.16.840.1.101.3.4.1.46"}break;case"AES-CFB":switch(h.length){case 128:b="2.16.840.1.101.3.4.1.4";break;case 192:b="2.16.840.1.101.3.4.1.24";break;case 256:b="2.16.840.1.101.3.4.1.44"}break;case"AES-KW":switch(h.length){case 128:b="2.16.840.1.101.3.4.1.5";break;case 192:b="2.16.840.1.101.3.4.1.25";break;case 256:b="2.16.840.1.101.3.4.1.45"}break;case"HMAC":switch(h.hash.name.toUpperCase()){case"SHA-1":b="1.2.840.113549.2.7";break;case"SHA-256":b="1.2.840.113549.2.9";break;case"SHA-384":b="1.2.840.113549.2.10";break;case"SHA-512":b="1.2.840.113549.2.11"}break;case"DH":b="1.2.840.113549.1.9.16.3.5";break;case"SHA-1":b="1.3.14.3.2.26";break;case"SHA-256":b="2.16.840.1.101.3.4.2.1";break;case"SHA-384":b="2.16.840.1.101.3.4.2.2";break;case"SHA-512":b="2.16.840.1.101.3.4.2.3";break;case"PBKDF2":b="1.2.840.113549.1.5.12";break;case"P-256":b="1.2.840.10045.3.1.7";break;case"P-384":b="1.3.132.0.34";break;case"P-521":b="1.3.132.0.35"}return b}getAlgorithmParameters(h,b){let M={algorithm:{},usages:[]};switch(h.toUpperCase()){case"RSAES-PKCS1-V1_5":case"RSASSA-PKCS1-V1_5":switch(b.toLowerCase()){case"generatekey":M={algorithm:{name:"RSASSA-PKCS1-v1_5",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},usages:["sign","verify"]};break;case"verify":case"sign":case"importkey":M={algorithm:{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},usages:["verify"]};break;default:return{algorithm:{name:"RSASSA-PKCS1-v1_5"},usages:[]}}break;case"RSA-PSS":switch(b.toLowerCase()){case"sign":case"verify":M={algorithm:{name:"RSA-PSS",hash:{name:"SHA-1"},saltLength:20},usages:["sign","verify"]};break;case"generatekey":M={algorithm:{name:"RSA-PSS",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-1"}},usages:["sign","verify"]};break;case"importkey":M={algorithm:{name:"RSA-PSS",hash:{name:"SHA-1"}},usages:["verify"]};break;default:return{algorithm:{name:"RSA-PSS"},usages:[]}}break;case"RSA-OAEP":switch(b.toLowerCase()){case"encrypt":case"decrypt":M={algorithm:{name:"RSA-OAEP"},usages:["encrypt","decrypt"]};break;case"generatekey":M={algorithm:{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"importkey":M={algorithm:{name:"RSA-OAEP",hash:{name:"SHA-256"}},usages:["encrypt"]};break;default:return{algorithm:{name:"RSA-OAEP"},usages:[]}}break;case"ECDSA":switch(b.toLowerCase()){case"generatekey":M={algorithm:{name:"ECDSA",namedCurve:"P-256"},usages:["sign","verify"]};break;case"importkey":M={algorithm:{name:"ECDSA",namedCurve:"P-256"},usages:["verify"]};break;case"verify":case"sign":M={algorithm:{name:"ECDSA",hash:{name:"SHA-256"}},usages:["sign"]};break;default:return{algorithm:{name:"ECDSA"},usages:[]}}break;case"ECDH":switch(b.toLowerCase()){case"exportkey":case"importkey":case"generatekey":M={algorithm:{name:"ECDH",namedCurve:"P-256"},usages:["deriveKey","deriveBits"]};break;case"derivekey":case"derivebits":M={algorithm:{name:"ECDH",namedCurve:"P-256",public:[]},usages:["encrypt","decrypt"]};break;default:return{algorithm:{name:"ECDH"},usages:[]}}break;case"AES-CTR":switch(b.toLowerCase()){case"importkey":case"exportkey":case"generatekey":M={algorithm:{name:"AES-CTR",length:256},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"decrypt":case"encrypt":M={algorithm:{name:"AES-CTR",counter:new Uint8Array(16),length:10},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-CTR"},usages:[]}}break;case"AES-CBC":switch(b.toLowerCase()){case"importkey":case"exportkey":case"generatekey":M={algorithm:{name:"AES-CBC",length:256},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"decrypt":case"encrypt":M={algorithm:{name:"AES-CBC",iv:this.getRandomValues(new Uint8Array(16))},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-CBC"},usages:[]}}break;case"AES-GCM":switch(b.toLowerCase()){case"importkey":case"exportkey":case"generatekey":M={algorithm:{name:"AES-GCM",length:256},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"decrypt":case"encrypt":M={algorithm:{name:"AES-GCM",iv:this.getRandomValues(new Uint8Array(16))},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-GCM"},usages:[]}}break;case"AES-KW":switch(b.toLowerCase()){case"importkey":case"exportkey":case"generatekey":case"wrapkey":case"unwrapkey":M={algorithm:{name:"AES-KW",length:256},usages:["wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-KW"},usages:[]}}break;case"HMAC":switch(b.toLowerCase()){case"sign":case"verify":M={algorithm:{name:"HMAC"},usages:["sign","verify"]};break;case"importkey":case"exportkey":case"generatekey":M={algorithm:{name:"HMAC",length:32,hash:{name:"SHA-256"}},usages:["sign","verify"]};break;default:return{algorithm:{name:"HMAC"},usages:[]}}break;case"HKDF":if("derivekey"!==b.toLowerCase())return{algorithm:{name:"HKDF"},usages:[]};M={algorithm:{name:"HKDF",hash:"SHA-256",salt:new Uint8Array([]),info:new Uint8Array([])},usages:["encrypt","decrypt"]};break;case"PBKDF2":if("derivekey"!==b.toLowerCase())return{algorithm:{name:"PBKDF2"},usages:[]};M={algorithm:{name:"PBKDF2",hash:{name:"SHA-256"},salt:new Uint8Array([]),iterations:1e4},usages:["encrypt","decrypt"]}}return M}getHashAlgorithm(h){let b="";switch(h.algorithmId){case"1.2.840.10045.4.1":case"1.2.840.113549.1.1.5":b="SHA-1";break;case"1.2.840.10045.4.3.2":case"1.2.840.113549.1.1.11":b="SHA-256";break;case"1.2.840.10045.4.3.3":case"1.2.840.113549.1.1.12":b="SHA-384";break;case"1.2.840.10045.4.3.4":case"1.2.840.113549.1.1.13":b="SHA-512";break;case"1.2.840.113549.1.1.10":try{const M=new lr({schema:h.algorithmParams});if("hashAlgorithm"in M){const z=this.getAlgorithmByOID(M.hashAlgorithm.algorithmId);if(!("name"in z))return"";b=z.name}else b="SHA-1"}catch{}}return b}encryptEncryptedContentInfo(h){if(!(h instanceof Object))return Promise.reject('Parameters must have type "Object"');if(!("password"in h))return Promise.reject('Absent mandatory parameter "password"');if(!("contentEncryptionAlgorithm"in h))return Promise.reject('Absent mandatory parameter "contentEncryptionAlgorithm"');if(!("hmacHashAlgorithm"in h))return Promise.reject('Absent mandatory parameter "hmacHashAlgorithm"');if(!("iterationCount"in h))return Promise.reject('Absent mandatory parameter "iterationCount"');if(!("contentToEncrypt"in h))return Promise.reject('Absent mandatory parameter "contentToEncrypt"');if(!("contentType"in h))return Promise.reject('Absent mandatory parameter "contentType"');const b=this.getOIDByAlgorithm(h.contentEncryptionAlgorithm);if(""===b)return Promise.reject('Wrong "contentEncryptionAlgorithm" value');const M=this.getOIDByAlgorithm({name:"PBKDF2"});if(""===M)return Promise.reject("Can not find OID for PBKDF2");const z=this.getOIDByAlgorithm({name:"HMAC",hash:{name:h.hmacHashAlgorithm}});if(""===z)return Promise.reject(`Incorrect value for "hmacHashAlgorithm": ${h.hmacHashAlgorithm}`);let ce=Promise.resolve();const Ce=new ArrayBuffer(16),He=new Uint8Array(Ce);this.getRandomValues(He);const A=new ArrayBuffer(64),V=new Uint8Array(A);this.getRandomValues(V);const B=new Uint8Array(h.contentToEncrypt),Z=new kr({salt:new Tt({valueHex:A}),iterationCount:h.iterationCount,prf:new jn({algorithmId:z,algorithmParams:new Ft})});return ce=ce.then(()=>{const be=new Uint8Array(h.password);return this.importKey("raw",be,"PBKDF2",!1,["deriveKey"])},be=>Promise.reject(be)),ce=ce.then(be=>this.deriveKey({name:"PBKDF2",hash:{name:h.hmacHashAlgorithm},salt:V,iterations:h.iterationCount},be,h.contentEncryptionAlgorithm,!1,["encrypt"]),be=>Promise.reject(be)),ce=ce.then(be=>this.encrypt({name:h.contentEncryptionAlgorithm.name,iv:He},be,B),be=>Promise.reject(be)),ce=ce.then(be=>{const Ge=new ns({keyDerivationFunc:new jn({algorithmId:M,algorithmParams:Z.toSchema()}),encryptionScheme:new jn({algorithmId:b,algorithmParams:new Tt({valueHex:Ce})})});return new Gr({contentType:h.contentType,contentEncryptionAlgorithm:new jn({algorithmId:"1.2.840.113549.1.5.13",algorithmParams:Ge.toSchema()}),encryptedContent:new Tt({valueHex:be})})},be=>Promise.reject(be)),ce}decryptEncryptedContentInfo(h){if(!(h instanceof Object))return Promise.reject('Parameters must have type "Object"');if(!("password"in h))return Promise.reject('Absent mandatory parameter "password"');if(!("encryptedContentInfo"in h))return Promise.reject('Absent mandatory parameter "encryptedContentInfo"');if("1.2.840.113549.1.5.13"!==h.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId)return Promise.reject(`Unknown "contentEncryptionAlgorithm": ${h.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId}`);let M,z,b=Promise.resolve();try{M=new ns({schema:h.encryptedContentInfo.contentEncryptionAlgorithm.algorithmParams})}catch{return Promise.reject('Incorrectly encoded "pbes2Parameters"')}try{z=new kr({schema:M.keyDerivationFunc.algorithmParams})}catch{return Promise.reject('Incorrectly encoded "pbkdf2Params"')}const ce=this.getAlgorithmByOID(M.encryptionScheme.algorithmId);if(!("name"in ce))return Promise.reject(`Incorrect OID for "contentEncryptionAlgorithm": ${M.encryptionScheme.algorithmId}`);const He=new Uint8Array(M.encryptionScheme.algorithmParams.valueBlock.valueHex),V=new Uint8Array(z.salt.valueBlock.valueHex),B=z.iterationCount;let Z="SHA-1";if("prf"in z){const be=this.getAlgorithmByOID(z.prf.algorithmId);if(!("name"in be))return Promise.reject("Incorrect OID for HMAC hash algorithm");Z=be.hash.name}return b=b.then(()=>this.importKey("raw",h.password,"PBKDF2",!1,["deriveKey"]),be=>Promise.reject(be)),b=b.then(be=>this.deriveKey({name:"PBKDF2",hash:{name:Z},salt:V,iterations:B},be,ce,!1,["decrypt"]),be=>Promise.reject(be)),b=b.then(be=>{let Ge=new ArrayBuffer(0);if(!1===h.encryptedContentInfo.encryptedContent.idBlock.isConstructed)Ge=h.encryptedContentInfo.encryptedContent.valueBlock.valueHex;else for(const vt of h.encryptedContentInfo.encryptedContent.valueBlock.value)Ge=m(Ge,vt.valueBlock.valueHex);return this.decrypt({name:ce.name,iv:He},be,Ge)},be=>Promise.reject(be)),b}stampDataWithPassword(h){if(!(h instanceof Object))return Promise.reject('Parameters must have type "Object"');if(!("password"in h))return Promise.reject('Absent mandatory parameter "password"');if(!("hashAlgorithm"in h))return Promise.reject('Absent mandatory parameter "hashAlgorithm"');if(!("salt"in h))return Promise.reject('Absent mandatory parameter "iterationCount"');if(!("iterationCount"in h))return Promise.reject('Absent mandatory parameter "salt"');if(!("contentToStamp"in h))return Promise.reject('Absent mandatory parameter "contentToStamp"');let b;switch(h.hashAlgorithm.toLowerCase()){case"sha-1":b=160;break;case"sha-256":b=256;break;case"sha-384":b=384;break;case"sha-512":b=512;break;default:return Promise.reject(`Incorrect "parameters.hashAlgorithm" parameter: ${h.hashAlgorithm}`)}let M=Promise.resolve();const z={name:"HMAC",length:b,hash:{name:h.hashAlgorithm}};return M=M.then(()=>ro(this,h.hashAlgorithm,b,h.password,h.salt,h.iterationCount)),M=M.then(ce=>this.importKey("raw",new Uint8Array(ce),z,!1,["sign"])),M=M.then(ce=>this.sign(z,ce,new Uint8Array(h.contentToStamp)),ce=>Promise.reject(ce)),M}verifyDataStampedWithPassword(h){if(!(h instanceof Object))return Promise.reject('Parameters must have type "Object"');if(!("password"in h))return Promise.reject('Absent mandatory parameter "password"');if(!("hashAlgorithm"in h))return Promise.reject('Absent mandatory parameter "hashAlgorithm"');if(!("salt"in h))return Promise.reject('Absent mandatory parameter "iterationCount"');if(!("iterationCount"in h))return Promise.reject('Absent mandatory parameter "salt"');if(!("contentToVerify"in h))return Promise.reject('Absent mandatory parameter "contentToVerify"');if(!("signatureToVerify"in h))return Promise.reject('Absent mandatory parameter "signatureToVerify"');let b;switch(h.hashAlgorithm.toLowerCase()){case"sha-1":b=160;break;case"sha-256":b=256;break;case"sha-384":b=384;break;case"sha-512":b=512;break;default:return Promise.reject(`Incorrect "parameters.hashAlgorithm" parameter: ${h.hashAlgorithm}`)}let M=Promise.resolve();const z={name:"HMAC",length:b,hash:{name:h.hashAlgorithm}};return M=M.then(()=>ro(this,h.hashAlgorithm,b,h.password,h.salt,h.iterationCount)),M=M.then(ce=>this.importKey("raw",new Uint8Array(ce),z,!1,["verify"])),M=M.then(ce=>this.verify(z,ce,new Uint8Array(h.signatureToVerify),new Uint8Array(h.contentToVerify)),ce=>Promise.reject(ce)),M}getSignatureParameters(h,b="SHA-1"){if(""===this.getOIDByAlgorithm({name:b}))return Promise.reject(`Unsupported hash algorithm: ${b}`);const z=new jn,ce=this.getAlgorithmParameters(h.algorithm.name,"sign");switch(ce.algorithm.hash.name=b,h.algorithm.name.toUpperCase()){case"RSASSA-PKCS1-V1_5":case"ECDSA":z.algorithmId=this.getOIDByAlgorithm(ce.algorithm);break;case"RSA-PSS":{switch(b.toUpperCase()){case"SHA-256":ce.algorithm.saltLength=32;break;case"SHA-384":ce.algorithm.saltLength=48;break;case"SHA-512":ce.algorithm.saltLength=64}const Ce={};if("SHA-1"!==b.toUpperCase()){const A=this.getOIDByAlgorithm({name:b});if(""===A)return Promise.reject(`Unsupported hash algorithm: ${b}`);Ce.hashAlgorithm=new jn({algorithmId:A,algorithmParams:new Ft}),Ce.maskGenAlgorithm=new jn({algorithmId:"1.2.840.113549.1.1.8",algorithmParams:Ce.hashAlgorithm.toSchema()})}20!==ce.algorithm.saltLength&&(Ce.saltLength=ce.algorithm.saltLength);const He=new lr(Ce);z.algorithmId="1.2.840.113549.1.1.10",z.algorithmParams=He.toSchema()}break;default:return Promise.reject(`Unsupported signature algorithm: ${h.algorithm.name}`)}return Promise.resolve().then(()=>({signatureAlgorithm:z,parameters:ce}))}signWithPrivateKey(h,b,M){return this.sign(M.algorithm,b,new Uint8Array(h)).then(z=>("ECDSA"===M.algorithm.name&&(z=function tr(Ve){if(Ve.byteLength%2!=0)return new ArrayBuffer(0);const h=Ve.byteLength/2,b=new ArrayBuffer(h);new Uint8Array(b).set(new Uint8Array(Ve,0,h));const z=new cn({valueHex:b}),ce=new ArrayBuffer(h);new Uint8Array(ce).set(new Uint8Array(Ve,h,h));const He=new cn({valueHex:ce});return new fn({value:[z.convertToDER(),He.convertToDER()]}).toBER(!1)}(z)),z),z=>Promise.reject(`Signing error: ${z}`))}fillPublicKeyParameters(h,b){const M={},z=this.getHashAlgorithm(b);if(""===z)return Promise.reject(`Unsupported signature algorithm: ${b.algorithmId}`);let ce;ce="1.2.840.113549.1.1.10"===b.algorithmId?b.algorithmId:h.algorithm.algorithmId;const Ce=this.getAlgorithmByOID(ce);if("name"in Ce==="")return Promise.reject(`Unsupported public key algorithm: ${b.algorithmId}`);if(M.algorithm=this.getAlgorithmParameters(Ce.name,"importkey"),"hash"in M.algorithm.algorithm&&(M.algorithm.algorithm.hash.name=z),"ECDSA"===Ce.name){let He=!1;if("algorithmParams"in h.algorithm&&"idBlock"in h.algorithm.algorithmParams&&1===h.algorithm.algorithmParams.idBlock.tagClass&&6===h.algorithm.algorithmParams.idBlock.tagNumber&&(He=!0),!1===He)return Promise.reject("Incorrect type for ECDSA public key parameters");const A=this.getAlgorithmByOID(h.algorithm.algorithmParams.valueBlock.toString());if(!("name"in A))return Promise.reject(`Unsupported named curve algorithm: ${h.algorithm.algorithmParams.valueBlock.toString()}`);M.algorithm.algorithm.namedCurve=A.name}return M}getPublicKey(h,b,M=null){null===M&&(M=this.fillPublicKeyParameters(h,b));const ce=h.toSchema().toBER(!1),Ce=new Uint8Array(ce);return this.importKey("spki",Ce,M.algorithm.algorithm,!0,M.algorithm.usages)}verifyWithPublicKey(h,b,M,z,ce=null){let Ce=Promise.resolve();if(null===ce){if(""===(ce=this.getHashAlgorithm(z)))return Promise.reject(`Unsupported signature algorithm: ${z.algorithmId}`);Ce=Ce.then(()=>this.getPublicKey(M,z))}else{const He={};let A;A="1.2.840.113549.1.1.10"===z.algorithmId?z.algorithmId:M.algorithm.algorithmId;const V=this.getAlgorithmByOID(A);if("name"in V==="")return Promise.reject(`Unsupported public key algorithm: ${z.algorithmId}`);if(He.algorithm=this.getAlgorithmParameters(V.name,"importkey"),"hash"in He.algorithm.algorithm&&(He.algorithm.algorithm.hash.name=ce),"ECDSA"===V.name){let B=!1;if("algorithmParams"in M.algorithm&&"idBlock"in M.algorithm.algorithmParams&&1===M.algorithm.algorithmParams.idBlock.tagClass&&6===M.algorithm.algorithmParams.idBlock.tagNumber&&(B=!0),!1===B)return Promise.reject("Incorrect type for ECDSA public key parameters");const Z=this.getAlgorithmByOID(M.algorithm.algorithmParams.valueBlock.toString());if(!("name"in Z))return Promise.reject(`Unsupported named curve algorithm: ${M.algorithm.algorithmParams.valueBlock.toString()}`);He.algorithm.algorithm.namedCurve=Z.name}Ce=Ce.then(()=>this.getPublicKey(M,null,He))}return Ce=Ce.then(He=>{const A=this.getAlgorithmParameters(He.algorithm.name,"verify");"hash"in A.algorithm&&(A.algorithm.hash.name=ce);let V=b.valueBlock.valueHex;if("ECDSA"===He.algorithm.name&&(V=function Po(Ve){if(!(Ve instanceof fn))return new ArrayBuffer(0);if(2!==Ve.valueBlock.value.length)return new ArrayBuffer(0);if(!(Ve.valueBlock.value[0]instanceof cn))return new ArrayBuffer(0);if(!(Ve.valueBlock.value[1]instanceof cn))return new ArrayBuffer(0);const h=Ve.valueBlock.value[0].convertFromDER(),b=Ve.valueBlock.value[1].convertFromDER();switch(!0){case h.valueBlock.valueHex.byteLength<b.valueBlock.valueHex.byteLength:{if(b.valueBlock.valueHex.byteLength-h.valueBlock.valueHex.byteLength!=1)throw new Error("Incorrect DER integer decoding");const M=b.valueBlock.valueHex.byteLength,z=new Uint8Array(h.valueBlock.valueHex),ce=new ArrayBuffer(M),Ce=new Uint8Array(ce);return Ce.set(z,1),Ce[0]=0,m(ce,b.valueBlock.valueHex)}case h.valueBlock.valueHex.byteLength>b.valueBlock.valueHex.byteLength:{if(h.valueBlock.valueHex.byteLength-b.valueBlock.valueHex.byteLength!=1)throw new Error("Incorrect DER integer decoding");const M=h.valueBlock.valueHex.byteLength,z=new Uint8Array(b.valueBlock.valueHex),ce=new ArrayBuffer(M),Ce=new Uint8Array(ce);return Ce.set(z,1),Ce[0]=0,m(h.valueBlock.valueHex,ce)}default:if(h.valueBlock.valueHex.byteLength%2){const M=h.valueBlock.valueHex.byteLength+1,z=new Uint8Array(h.valueBlock.valueHex),ce=new ArrayBuffer(M),Ce=new Uint8Array(ce);Ce.set(z,1),Ce[0]=0;const He=new Uint8Array(b.valueBlock.valueHex),A=new ArrayBuffer(M),V=new Uint8Array(A);return V.set(He,1),V[0]=0,m(ce,A)}}return m(h.valueBlock.valueHex,b.valueBlock.valueHex)}(rt(V).result)),"RSA-PSS"===He.algorithm.name){let B;try{B=new lr({schema:z.algorithmParams})}catch(be){return Promise.reject(be)}A.algorithm.saltLength="saltLength"in B?B.saltLength:20;let Z="SHA-1";if("hashAlgorithm"in B){const be=this.getAlgorithmByOID(B.hashAlgorithm.algorithmId);if(!("name"in be))return Promise.reject(`Unrecognized hash algorithm: ${B.hashAlgorithm.algorithmId}`);Z=be.name}A.algorithm.hash.name=Z}return this.verify(A.algorithm,He,new Uint8Array(V),new Uint8Array(h))}),Ce}}let Ss={name:"none",crypto:null,subtle:null};function is(){if(typeof process<"u"&&"pid"in process&&typeof global<"u"&&typeof window>"u"){let Ve;try{Ve=global[process.pid].pkijs.engine}catch{throw new Error('Please call "setEngine" before call to "getEngine"')}return Ve}return Ss}function rs(){const Ve=is();if(null!==Ve.subtle)return Ve.subtle}function Qr(Ve){let h=!1,b="";const M=Ve.trim();for(let z=0;z<M.length;z++)32===M.charCodeAt(z)?!1===h&&(h=!0):(h&&(b+=" ",h=!1),b+=M[z]);return b.toLowerCase()}!function(){if(typeof self<"u"&&"crypto"in self){let h="webcrypto";const b=self.crypto;let M;if("webkitSubtle"in self.crypto){try{M=self.crypto.webkitSubtle}catch{M=self.crypto.subtle}h="safari"}"subtle"in self.crypto&&(M=self.crypto.subtle),Ss=typeof M>"u"?{name:h,crypto:b,subtle:null}:{name:h,crypto:b,subtle:new Co({name:h,crypto:self.crypto,subtle:M})}}!function yr(Ve,h,b){if(typeof process<"u"&&"pid"in process&&typeof global<"u"&&typeof window>"u"){if(typeof global[process.pid]>"u")global[process.pid]={};else if("object"!=typeof global[process.pid])throw new Error(`Name global.${process.pid} already exists and it is not an object`);if(typeof global[process.pid].pkijs>"u")global[process.pid].pkijs={};else if("object"!=typeof global[process.pid].pkijs)throw new Error(`Name global.${process.pid}.pkijs already exists and it is not an object`);global[process.pid].pkijs.engine={name:Ve,crypto:h,subtle:b}}else Ss.name!==Ve&&(Ss={name:Ve,crypto:h,subtle:b})}(Ss.name,Ss.crypto,Ss.subtle)}();class Es{constructor(h={}){this.type=S(h,"type",Es.defaultValues("type")),this.value=S(h,"value",Es.defaultValues("value")),"schema"in h&&this.fromSchema(h.schema)}static defaultValues(h){switch(h){case"type":return"";case"value":return{};default:throw new Error(`Invalid member name for AttributeTypeAndValue class: ${h}`)}}static schema(h={}){const b=S(h,"names",{});return new fn({name:b.blockName||"",value:[new jt({name:b.type||""}),new gr({name:b.value||""})]})}static blockName(){return"AttributeTypeAndValue"}fromSchema(h){L(h,["type","typeValue"]);const b=ai(h,h,Es.schema({names:{type:"type",value:"typeValue"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for AttributeTypeAndValue");this.type=b.result.type.valueBlock.toString(),this.value=b.result.typeValue}toSchema(){return new fn({value:[new jt({value:this.type}),this.value]})}toJSON(){const h={type:this.type};return h.value=0!==Object.keys(this.value).length?this.value.toJSON():this.value,h}isEqual(h){const b=[Gi.blockName(),nt.blockName(),nn.blockName(),Tn.blockName(),$e.blockName(),K.blockName(),ue.blockName(),Wt.blockName(),gn.blockName(),ti.blockName(),bi.blockName(),Ki.blockName()];if(h.constructor.blockName()===Es.blockName()){if(this.type!==h.type)return!1;let M=[!1,!1];const z=this.value.constructor.blockName();for(const ce of b)z===ce&&(M[0]=!0),h.value.constructor.blockName()===ce&&(M[1]=!0);if(M[0]^M[1])return!1;if(M=M[0]&&M[1],M){const ce=Qr(this.value.valueBlock.value),Ce=Qr(h.value.valueBlock.value);if(0!==ce.localeCompare(Ce))return!1}else if(!1===R(this.value.valueBeforeDecode,h.value.valueBeforeDecode))return!1;return!0}return h instanceof ArrayBuffer&&R(this.value.valueBeforeDecode,h)}}class Nr{constructor(h={}){this.typesAndValues=S(h,"typesAndValues",Nr.defaultValues("typesAndValues")),this.valueBeforeDecode=S(h,"valueBeforeDecode",Nr.defaultValues("valueBeforeDecode")),"schema"in h&&this.fromSchema(h.schema)}static defaultValues(h){switch(h){case"typesAndValues":return[];case"valueBeforeDecode":return new ArrayBuffer(0);default:throw new Error(`Invalid member name for RelativeDistinguishedNames class: ${h}`)}}static compareWithDefault(h,b){switch(h){case"typesAndValues":return 0===b.length;case"valueBeforeDecode":return 0===b.byteLength;default:throw new Error(`Invalid member name for RelativeDistinguishedNames class: ${h}`)}}static schema(h={}){const b=S(h,"names",{});return new fn({name:b.blockName||"",value:[new Ni({name:b.repeatedSequence||"",value:new gi({value:[new Ni({name:b.repeatedSet||"",value:Es.schema(b.typeAndValue||{})})]})})]})}fromSchema(h){L(h,["RDN","typesAndValues"]);const b=ai(h,h,Nr.schema({names:{blockName:"RDN",repeatedSet:"typesAndValues"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for RelativeDistinguishedNames");"typesAndValues"in b.result&&(this.typesAndValues=Array.from(b.result.typesAndValues,M=>new Es({schema:M}))),this.valueBeforeDecode=b.result.RDN.valueBeforeDecode}toSchema(){return 0===this.valueBeforeDecode.byteLength?new fn({value:[new gi({value:Array.from(this.typesAndValues,b=>b.toSchema())})]}):rt(this.valueBeforeDecode).result}toJSON(){return{typesAndValues:Array.from(this.typesAndValues,h=>h.toJSON())}}isEqual(h){if(h instanceof Nr){if(this.typesAndValues.length!==h.typesAndValues.length)return!1;for(const[b,M]of this.typesAndValues.entries())if(!1===M.isEqual(h.typesAndValues[b]))return!1;return!0}return h instanceof ArrayBuffer&&R(this.valueBeforeDecode,h)}}class rr{constructor(h={}){this.type=S(h,"type",rr.defaultValues("type")),this.value=S(h,"value",rr.defaultValues("value")),"schema"in h&&this.fromSchema(h.schema)}static defaultValues(h){switch(h){case"type":return 0;case"value":return new Date(0,0,0);default:throw new Error(`Invalid member name for Time class: ${h}`)}}static schema(h={},b=!1){const M=S(h,"names",{});return new vr({optional:b,value:[new Gn({name:M.utcTimeName||""}),new ar({name:M.generalTimeName||""})]})}fromSchema(h){L(h,["utcTimeName","generalTimeName"]);const b=ai(h,h,rr.schema({names:{utcTimeName:"utcTimeName",generalTimeName:"generalTimeName"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for Time");"utcTimeName"in b.result&&(this.type=0,this.value=b.result.utcTimeName.toDate()),"generalTimeName"in b.result&&(this.type=1,this.value=b.result.generalTimeName.toDate())}toSchema(){let h={};return 0===this.type&&(h=new Gn({valueDate:this.value})),1===this.type&&(h=new ar({valueDate:this.value})),h}toJSON(){return{type:this.type,value:this.value}}}class Or{constructor(h={}){this.attributes=S(h,"attributes",Or.defaultValues("attributes")),"schema"in h&&this.fromSchema(h.schema)}static defaultValues(h){if("attributes"===h)return[];throw new Error(`Invalid member name for SubjectDirectoryAttributes class: ${h}`)}static schema(h={}){const b=S(h,"names",{});return new fn({name:b.blockName||"",value:[new Ni({name:b.attributes||"",value:xr.schema()})]})}fromSchema(h){L(h,["attributes"]);const b=ai(h,h,Or.schema({names:{attributes:"attributes"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for SubjectDirectoryAttributes");this.attributes=Array.from(b.result.attributes,M=>new xr({schema:M}))}toSchema(){return new fn({value:Array.from(this.attributes,h=>h.toSchema())})}toJSON(){return{attributes:Array.from(this.attributes,h=>h.toJSON())}}}class ss{constructor(h={}){"notBefore"in h&&(this.notBefore=S(h,"notBefore",ss.defaultValues("notBefore"))),"notAfter"in h&&(this.notAfter=S(h,"notAfter",ss.defaultValues("notAfter"))),"schema"in h&&this.fromSchema(h.schema)}static defaultValues(h){switch(h){case"notBefore":case"notAfter":return new Date;default:throw new Error(`Invalid member name for PrivateKeyUsagePeriod class: ${h}`)}}static schema(h={}){const b=S(h,"names",{});return new fn({name:b.blockName||"",value:[new it({name:b.notBefore||"",optional:!0,idBlock:{tagClass:3,tagNumber:0}}),new it({name:b.notAfter||"",optional:!0,idBlock:{tagClass:3,tagNumber:1}})]})}fromSchema(h){L(h,["notBefore","notAfter"]);const b=ai(h,h,ss.schema({names:{notBefore:"notBefore",notAfter:"notAfter"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for PrivateKeyUsagePeriod");if("notBefore"in b.result){const M=new ar;M.fromBuffer(b.result.notBefore.valueBlock.valueHex),this.notBefore=M.toDate()}if("notAfter"in b.result){const M=new ar({valueHex:b.result.notAfter.valueBlock.valueHex});M.fromBuffer(b.result.notAfter.valueBlock.valueHex),this.notAfter=M.toDate()}}toSchema(){const h=[];return"notBefore"in this&&h.push(new it({idBlock:{tagClass:3,tagNumber:0},valueHex:new ar({valueDate:this.notBefore}).valueBlock.valueHex})),"notAfter"in this&&h.push(new it({idBlock:{tagClass:3,tagNumber:1},valueHex:new ar({valueDate:this.notAfter}).valueBlock.valueHex})),new fn({value:h})}toJSON(){const h={};return"notBefore"in this&&(h.notBefore=this.notBefore),"notAfter"in this&&(h.notAfter=this.notAfter),h}}function ao(Ve={},h=!1){const b=S(Ve,"names",{});return new fn({optional:h,value:[new j({optional:!0,idBlock:{tagClass:2,tagNumber:1},name:b.country_name||"",value:[new vr({value:[new Tn,new $e]})]}),new j({optional:!0,idBlock:{tagClass:2,tagNumber:2},name:b.administration_domain_name||"",value:[new vr({value:[new Tn,new $e]})]}),new it({optional:!0,idBlock:{tagClass:3,tagNumber:0},name:b.network_address||"",isHexOnly:!0}),new it({optional:!0,idBlock:{tagClass:3,tagNumber:1},name:b.terminal_identifier||"",isHexOnly:!0}),new j({optional:!0,idBlock:{tagClass:3,tagNumber:2},name:b.private_domain_name||"",value:[new vr({value:[new Tn,new $e]})]}),new it({optional:!0,idBlock:{tagClass:3,tagNumber:3},name:b.organization_name||"",isHexOnly:!0}),new it({optional:!0,name:b.numeric_user_identifier||"",idBlock:{tagClass:3,tagNumber:4},isHexOnly:!0}),new j({optional:!0,name:b.personal_name||"",idBlock:{tagClass:3,tagNumber:5},value:[new it({idBlock:{tagClass:3,tagNumber:0},isHexOnly:!0}),new it({optional:!0,idBlock:{tagClass:3,tagNumber:1},isHexOnly:!0}),new it({optional:!0,idBlock:{tagClass:3,tagNumber:2},isHexOnly:!0}),new it({optional:!0,idBlock:{tagClass:3,tagNumber:3},isHexOnly:!0})]}),new j({optional:!0,name:b.organizational_unit_names||"",idBlock:{tagClass:3,tagNumber:6},value:[new Ni({value:new $e})]})]})}function Ta(Ve=!1){return new fn({optional:Ve,value:[new $e,new $e]})}function Ts(Ve=!1){return new gi({optional:Ve,value:[new it({optional:!0,idBlock:{tagClass:3,tagNumber:0},isHexOnly:!0}),new j({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new gr]})]})}class si{constructor(h={}){this.type=S(h,"type",si.defaultValues("type")),this.value=S(h,"value",si.defaultValues("value")),"schema"in h&&this.fromSchema(h.schema)}static defaultValues(h){switch(h){case"type":return 9;case"value":return{};default:throw new Error(`Invalid member name for GeneralName class: ${h}`)}}static compareWithDefault(h,b){switch(h){case"type":return b===si.defaultValues(h);case"value":return 0===Object.keys(b).length;default:throw new Error(`Invalid member name for GeneralName class: ${h}`)}}static schema(h={}){const b=S(h,"names",{});return new vr({value:[new j({idBlock:{tagClass:3,tagNumber:0},name:b.blockName||"",value:[new jt,new j({idBlock:{tagClass:3,tagNumber:0},value:[new gr]})]}),new it({name:b.blockName||"",idBlock:{tagClass:3,tagNumber:1}}),new it({name:b.blockName||"",idBlock:{tagClass:3,tagNumber:2}}),new j({idBlock:{tagClass:3,tagNumber:3},name:b.blockName||"",value:[ao(b.builtInStandardAttributes||{},!1),Ta(!0),Ts(!0)]}),new j({idBlock:{tagClass:3,tagNumber:4},name:b.blockName||"",value:[Nr.schema(b.directoryName||{})]}),new j({idBlock:{tagClass:3,tagNumber:5},name:b.blockName||"",value:[new j({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new vr({value:[new K,new $e,new nn,new Gi,new nt]})]}),new j({idBlock:{tagClass:3,tagNumber:1},value:[new vr({value:[new K,new $e,new nn,new Gi,new nt]})]})]}),new it({name:b.blockName||"",idBlock:{tagClass:3,tagNumber:6}}),new it({name:b.blockName||"",idBlock:{tagClass:3,tagNumber:7}}),new it({name:b.blockName||"",idBlock:{tagClass:3,tagNumber:8}})]})}fromSchema(h){L(h,["blockName","otherName","rfc822Name","dNSName","x400Address","directoryName","ediPartyName","uniformResourceIdentifier","iPAddress","registeredID"]);const b=ai(h,h,si.schema({names:{blockName:"blockName",otherName:"otherName",rfc822Name:"rfc822Name",dNSName:"dNSName",x400Address:"x400Address",directoryName:{names:{blockName:"directoryName"}},ediPartyName:"ediPartyName",uniformResourceIdentifier:"uniformResourceIdentifier",iPAddress:"iPAddress",registeredID:"registeredID"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for GeneralName");switch(this.type=b.result.blockName.idBlock.tagNumber,this.type){case 0:case 3:this.value=b.result.blockName;break;case 1:case 2:case 6:{const M=b.result.blockName;M.idBlock.tagClass=1,M.idBlock.tagNumber=22;const z=M.toBER(!1);this.value=rt(z).result.valueBlock.value}break;case 4:this.value=new Nr({schema:b.result.directoryName});break;case 5:this.value=b.result.ediPartyName;break;case 7:this.value=new Tt({valueHex:b.result.blockName.valueBlock.valueHex});break;case 8:{const M=b.result.blockName;M.idBlock.tagClass=1,M.idBlock.tagNumber=6;const z=M.toBER(!1);this.value=rt(z).result.valueBlock.toString()}}}toSchema(){switch(this.type){case 0:case 3:case 5:return new j({idBlock:{tagClass:3,tagNumber:this.type},value:[this.value]});case 1:case 2:case 6:{const h=new Wt({value:this.value});return h.idBlock.tagClass=3,h.idBlock.tagNumber=this.type,h}case 4:return new j({idBlock:{tagClass:3,tagNumber:4},value:[this.value.toSchema()]});case 7:{const h=this.value;return h.idBlock.tagClass=3,h.idBlock.tagNumber=this.type,h}case 8:{const h=new jt({value:this.value});return h.idBlock.tagClass=3,h.idBlock.tagNumber=this.type,h}default:return si.schema()}}toJSON(){const h={type:this.type,value:""};if("string"==typeof this.value)h.value=this.value;else try{h.value=this.value.toJSON()}catch{}return h}}class Hr{constructor(h={}){this.altNames=S(h,"altNames",Hr.defaultValues("altNames")),"schema"in h&&this.fromSchema(h.schema)}static defaultValues(h){if("altNames"===h)return[];throw new Error(`Invalid member name for AltName class: ${h}`)}static schema(h={}){const b=S(h,"names",{});return new fn({name:b.blockName||"",value:[new Ni({name:b.altNames||"",value:si.schema()})]})}fromSchema(h){L(h,["altNames"]);const b=ai(h,h,Hr.schema({names:{altNames:"altNames"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for AltName");"altNames"in b.result&&(this.altNames=Array.from(b.result.altNames,M=>new si({schema:M})))}toSchema(){return new fn({value:Array.from(this.altNames,h=>h.toSchema())})}toJSON(){return{altNames:Array.from(this.altNames,h=>h.toJSON())}}}class Vs{constructor(h={}){this.cA=S(h,"cA",!1),"pathLenConstraint"in h&&(this.pathLenConstraint=S(h,"pathLenConstraint",0)),"schema"in h&&this.fromSchema(h.schema)}static defaultValues(h){if("cA"===h)return!1;throw new Error(`Invalid member name for BasicConstraints class: ${h}`)}static schema(h={}){const b=S(h,"names",{});return new fn({name:b.blockName||"",value:[new Mn({optional:!0,name:b.cA||""}),new cn({optional:!0,name:b.pathLenConstraint||""})]})}fromSchema(h){L(h,["cA","pathLenConstraint"]);const b=ai(h,h,Vs.schema({names:{cA:"cA",pathLenConstraint:"pathLenConstraint"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for BasicConstraints");"cA"in b.result&&(this.cA=b.result.cA.valueBlock.value),"pathLenConstraint"in b.result&&(this.pathLenConstraint=b.result.pathLenConstraint.valueBlock.isHexOnly?b.result.pathLenConstraint:b.result.pathLenConstraint.valueBlock.valueDec)}toSchema(){const h=[];return this.cA!==Vs.defaultValues("cA")&&h.push(new Mn({value:this.cA})),"pathLenConstraint"in this&&h.push(this.pathLenConstraint instanceof cn?this.pathLenConstraint:new cn({value:this.pathLenConstraint})),new fn({value:h})}toJSON(){const h={};return this.cA!==Vs.defaultValues("cA")&&(h.cA=this.cA),"pathLenConstraint"in this&&(h.pathLenConstraint=this.pathLenConstraint instanceof cn?this.pathLenConstraint.toJSON():this.pathLenConstraint),h}}class pr{constructor(h={}){"distributionPoint"in h&&(this.distributionPoint=S(h,"distributionPoint",pr.defaultValues("distributionPoint"))),this.onlyContainsUserCerts=S(h,"onlyContainsUserCerts",pr.defaultValues("onlyContainsUserCerts")),this.onlyContainsCACerts=S(h,"onlyContainsCACerts",pr.defaultValues("onlyContainsCACerts")),"onlySomeReasons"in h&&(this.onlySomeReasons=S(h,"onlySomeReasons",pr.defaultValues("onlySomeReasons"))),this.indirectCRL=S(h,"indirectCRL",pr.defaultValues("indirectCRL")),this.onlyContainsAttributeCerts=S(h,"onlyContainsAttributeCerts",pr.defaultValues("onlyContainsAttributeCerts")),"schema"in h&&this.fromSchema(h.schema)}static defaultValues(h){switch(h){case"distributionPoint":return[];case"onlyContainsUserCerts":case"onlyContainsCACerts":case"indirectCRL":case"onlyContainsAttributeCerts":return!1;case"onlySomeReasons":return 0;default:throw new Error(`Invalid member name for IssuingDistributionPoint class: ${h}`)}}static schema(h={}){const b=S(h,"names",{});return new fn({name:b.blockName||"",value:[new j({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new vr({value:[new j({name:b.distributionPoint||"",idBlock:{tagClass:3,tagNumber:0},value:[new Ni({name:b.distributionPointNames||"",value:si.schema()})]}),new j({name:b.distributionPoint||"",idBlock:{tagClass:3,tagNumber:1},value:Nr.schema().valueBlock.value})]})]}),new it({name:b.onlyContainsUserCerts||"",optional:!0,idBlock:{tagClass:3,tagNumber:1}}),new it({name:b.onlyContainsCACerts||"",optional:!0,idBlock:{tagClass:3,tagNumber:2}}),new it({name:b.onlySomeReasons||"",optional:!0,idBlock:{tagClass:3,tagNumber:3}}),new it({name:b.indirectCRL||"",optional:!0,idBlock:{tagClass:3,tagNumber:4}}),new it({name:b.onlyContainsAttributeCerts||"",optional:!0,idBlock:{tagClass:3,tagNumber:5}})]})}fromSchema(h){L(h,["distributionPoint","distributionPointNames","onlyContainsUserCerts","onlyContainsCACerts","onlySomeReasons","indirectCRL","onlyContainsAttributeCerts"]);const b=ai(h,h,pr.schema({names:{distributionPoint:"distributionPoint",distributionPointNames:"distributionPointNames",onlyContainsUserCerts:"onlyContainsUserCerts",onlyContainsCACerts:"onlyContainsCACerts",onlySomeReasons:"onlySomeReasons",indirectCRL:"indirectCRL",onlyContainsAttributeCerts:"onlyContainsAttributeCerts"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for IssuingDistributionPoint");if("distributionPoint"in b.result)switch(!0){case 0===b.result.distributionPoint.idBlock.tagNumber:this.distributionPoint=Array.from(b.result.distributionPointNames,M=>new si({schema:M}));break;case 1===b.result.distributionPoint.idBlock.tagNumber:this.distributionPoint=new Nr({schema:new fn({value:b.result.distributionPoint.valueBlock.value})});break;default:throw new Error("Unknown tagNumber for distributionPoint: {$asn1.result.distributionPoint.idBlock.tagNumber}")}if("onlyContainsUserCerts"in b.result){const M=new Uint8Array(b.result.onlyContainsUserCerts.valueBlock.valueHex);this.onlyContainsUserCerts=0!==M[0]}if("onlyContainsCACerts"in b.result){const M=new Uint8Array(b.result.onlyContainsCACerts.valueBlock.valueHex);this.onlyContainsCACerts=0!==M[0]}if("onlySomeReasons"in b.result){const M=new Uint8Array(b.result.onlySomeReasons.valueBlock.valueHex);this.onlySomeReasons=M[0]}if("indirectCRL"in b.result){const M=new Uint8Array(b.result.indirectCRL.valueBlock.valueHex);this.indirectCRL=0!==M[0]}if("onlyContainsAttributeCerts"in b.result){const M=new Uint8Array(b.result.onlyContainsAttributeCerts.valueBlock.valueHex);this.onlyContainsAttributeCerts=0!==M[0]}}toSchema(){const h=[];if("distributionPoint"in this){let b;this.distributionPoint instanceof Array?b=new j({idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.distributionPoint,M=>M.toSchema())}):(b=this.distributionPoint.toSchema(),b.idBlock.tagClass=3,b.idBlock.tagNumber=1),h.push(new j({idBlock:{tagClass:3,tagNumber:0},value:[b]}))}if(this.onlyContainsUserCerts!==pr.defaultValues("onlyContainsUserCerts")&&h.push(new it({idBlock:{tagClass:3,tagNumber:1},valueHex:new Uint8Array([255]).buffer})),this.onlyContainsCACerts!==pr.defaultValues("onlyContainsCACerts")&&h.push(new it({idBlock:{tagClass:3,tagNumber:2},valueHex:new Uint8Array([255]).buffer})),"onlySomeReasons"in this){const b=new ArrayBuffer(1);new Uint8Array(b)[0]=this.onlySomeReasons,h.push(new it({idBlock:{tagClass:3,tagNumber:3},valueHex:b}))}return this.indirectCRL!==pr.defaultValues("indirectCRL")&&h.push(new it({idBlock:{tagClass:3,tagNumber:4},valueHex:new Uint8Array([255]).buffer})),this.onlyContainsAttributeCerts!==pr.defaultValues("onlyContainsAttributeCerts")&&h.push(new it({idBlock:{tagClass:3,tagNumber:5},valueHex:new Uint8Array([255]).buffer})),new fn({value:h})}toJSON(){const h={};return"distributionPoint"in this&&(h.distributionPoint=this.distributionPoint instanceof Array?Array.from(this.distributionPoint,b=>b.toJSON()):this.distributionPoint.toJSON()),this.onlyContainsUserCerts!==pr.defaultValues("onlyContainsUserCerts")&&(h.onlyContainsUserCerts=this.onlyContainsUserCerts),this.onlyContainsCACerts!==pr.defaultValues("onlyContainsCACerts")&&(h.onlyContainsCACerts=this.onlyContainsCACerts),"onlySomeReasons"in this&&(h.onlySomeReasons=this.onlySomeReasons),this.indirectCRL!==pr.defaultValues("indirectCRL")&&(h.indirectCRL=this.indirectCRL),this.onlyContainsAttributeCerts!==pr.defaultValues("onlyContainsAttributeCerts")&&(h.onlyContainsAttributeCerts=this.onlyContainsAttributeCerts),h}}class js{constructor(h={}){this.names=S(h,"names",js.defaultValues("names")),"schema"in h&&this.fromSchema(h.schema)}static defaultValues(h){if("names"===h)return[];throw new Error(`Invalid member name for GeneralNames class: ${h}`)}static schema(h={},b=!1){const M=S(h,"names",{});return new fn({optional:b,name:M.blockName||"",value:[new Ni({name:M.generalNames||"",value:si.schema()})]})}fromSchema(h){L(h,["names","generalNames"]);const b=ai(h,h,js.schema({names:{blockName:"names",generalNames:"generalNames"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for GeneralNames");this.names=Array.from(b.result.generalNames,M=>new si({schema:M}))}toSchema(){return new fn({value:Array.from(this.names,h=>h.toSchema())})}toJSON(){return{names:Array.from(this.names,h=>h.toJSON())}}}class Fr{constructor(h={}){this.base=S(h,"base",Fr.defaultValues("base")),this.minimum=S(h,"minimum",Fr.defaultValues("minimum")),"maximum"in h&&(this.maximum=S(h,"maximum",Fr.defaultValues("maximum"))),"schema"in h&&this.fromSchema(h.schema)}static defaultValues(h){switch(h){case"base":return new si;case"minimum":case"maximum":return 0;default:throw new Error(`Invalid member name for GeneralSubtree class: ${h}`)}}static schema(h={}){const b=S(h,"names",{});return new fn({name:b.blockName||"",value:[si.schema(b.base||{}),new j({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new cn({name:b.minimum||""})]}),new j({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new cn({name:b.maximum||""})]})]})}fromSchema(h){L(h,["base","minimum","maximum"]);const b=ai(h,h,Fr.schema({names:{base:{names:{blockName:"base"}},minimum:"minimum",maximum:"maximum"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for GeneralSubtree");this.base=new si({schema:b.result.base}),"minimum"in b.result&&(this.minimum=b.result.minimum.valueBlock.isHexOnly?b.result.minimum:b.result.minimum.valueBlock.valueDec),"maximum"in b.result&&(this.maximum=b.result.maximum.valueBlock.isHexOnly?b.result.maximum:b.result.maximum.valueBlock.valueDec)}toSchema(){const h=[];if(h.push(this.base.toSchema()),0!==this.minimum){let b=0;b=this.minimum instanceof cn?this.minimum:new cn({value:this.minimum}),h.push(new j({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[b]}))}if("maximum"in this){let b=0;b=this.maximum instanceof cn?this.maximum:new cn({value:this.maximum}),h.push(new j({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[b]}))}return new fn({value:h})}toJSON(){const h={base:this.base.toJSON()};return 0!==this.minimum&&(h.minimum="number"==typeof this.minimum?this.minimum:this.minimum.toJSON()),"maximum"in this&&(h.maximum="number"==typeof this.maximum?this.maximum:this.maximum.toJSON()),h}}class Ur{constructor(h={}){"permittedSubtrees"in h&&(this.permittedSubtrees=S(h,"permittedSubtrees",Ur.defaultValues("permittedSubtrees"))),"excludedSubtrees"in h&&(this.excludedSubtrees=S(h,"excludedSubtrees",Ur.defaultValues("excludedSubtrees"))),"schema"in h&&this.fromSchema(h.schema)}static defaultValues(h){switch(h){case"permittedSubtrees":case"excludedSubtrees":return[];default:throw new Error(`Invalid member name for NameConstraints class: ${h}`)}}static schema(h={}){const b=S(h,"names",{});return new fn({name:b.blockName||"",value:[new j({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new Ni({name:b.permittedSubtrees||"",value:Fr.schema()})]}),new j({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new Ni({name:b.excludedSubtrees||"",value:Fr.schema()})]})]})}fromSchema(h){L(h,["permittedSubtrees","excludedSubtrees"]);const b=ai(h,h,Ur.schema({names:{permittedSubtrees:"permittedSubtrees",excludedSubtrees:"excludedSubtrees"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for NameConstraints");"permittedSubtrees"in b.result&&(this.permittedSubtrees=Array.from(b.result.permittedSubtrees,M=>new Fr({schema:M}))),"excludedSubtrees"in b.result&&(this.excludedSubtrees=Array.from(b.result.excludedSubtrees,M=>new Fr({schema:M})))}toSchema(){const h=[];return"permittedSubtrees"in this&&h.push(new j({idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.permittedSubtrees,b=>b.toSchema())})),"excludedSubtrees"in this&&h.push(new j({idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.excludedSubtrees,b=>b.toSchema())})),new fn({value:h})}toJSON(){const h={};return"permittedSubtrees"in this&&(h.permittedSubtrees=Array.from(this.permittedSubtrees,b=>b.toJSON())),"excludedSubtrees"in this&&(h.excludedSubtrees=Array.from(this.excludedSubtrees,b=>b.toJSON())),h}}class Wr{constructor(h={}){"distributionPoint"in h&&(this.distributionPoint=S(h,"distributionPoint",Wr.defaultValues("distributionPoint"))),"reasons"in h&&(this.reasons=S(h,"reasons",Wr.defaultValues("reasons"))),"cRLIssuer"in h&&(this.cRLIssuer=S(h,"cRLIssuer",Wr.defaultValues("cRLIssuer"))),"schema"in h&&this.fromSchema(h.schema)}static defaultValues(h){switch(h){case"distributionPoint":case"cRLIssuer":return[];case"reasons":return new ct;default:throw new Error(`Invalid member name for DistributionPoint class: ${h}`)}}static schema(h={}){const b=S(h,"names",{});return new fn({name:b.blockName||"",value:[new j({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new vr({value:[new j({name:b.distributionPoint||"",optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new Ni({name:b.distributionPointNames||"",value:si.schema()})]}),new j({name:b.distributionPoint||"",optional:!0,idBlock:{tagClass:3,tagNumber:1},value:Nr.schema().valueBlock.value})]})]}),new it({name:b.reasons||"",optional:!0,idBlock:{tagClass:3,tagNumber:1}}),new j({name:b.cRLIssuer||"",optional:!0,idBlock:{tagClass:3,tagNumber:2},value:[new Ni({name:b.cRLIssuerNames||"",value:si.schema()})]})]})}fromSchema(h){L(h,["distributionPoint","distributionPointNames","reasons","cRLIssuer","cRLIssuerNames"]);const b=ai(h,h,Wr.schema({names:{distributionPoint:"distributionPoint",distributionPointNames:"distributionPointNames",reasons:"reasons",cRLIssuer:"cRLIssuer",cRLIssuerNames:"cRLIssuerNames"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for DistributionPoint");"distributionPoint"in b.result&&(0===b.result.distributionPoint.idBlock.tagNumber&&(this.distributionPoint=Array.from(b.result.distributionPointNames,M=>new si({schema:M}))),1===b.result.distributionPoint.idBlock.tagNumber&&(this.distributionPoint=new Nr({schema:new fn({value:b.result.distributionPoint.valueBlock.value})}))),"reasons"in b.result&&(this.reasons=new ct({valueHex:b.result.reasons.valueBlock.valueHex})),"cRLIssuer"in b.result&&(this.cRLIssuer=Array.from(b.result.cRLIssuerNames,M=>new si({schema:M})))}toSchema(){const h=[];if("distributionPoint"in this){let b;b=new j(this.distributionPoint instanceof Array?{idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.distributionPoint,M=>M.toSchema())}:{idBlock:{tagClass:3,tagNumber:1},value:[this.distributionPoint.toSchema()]}),h.push(new j({idBlock:{tagClass:3,tagNumber:0},value:[b]}))}return"reasons"in this&&h.push(new it({idBlock:{tagClass:3,tagNumber:1},valueHex:this.reasons.valueBlock.valueHex})),"cRLIssuer"in this&&h.push(new j({idBlock:{tagClass:3,tagNumber:2},value:Array.from(this.cRLIssuer,b=>b.toSchema())})),new fn({value:h})}toJSON(){const h={};return"distributionPoint"in this&&(h.distributionPoint=this.distributionPoint instanceof Array?Array.from(this.distributionPoint,b=>b.toJSON()):this.distributionPoint.toJSON()),"reasons"in this&&(h.reasons=this.reasons.toJSON()),"cRLIssuer"in this&&(h.cRLIssuer=Array.from(this.cRLIssuer,b=>b.toJSON())),h}}class pn{constructor(h={}){this.distributionPoints=S(h,"distributionPoints",pn.defaultValues("distributionPoints")),"schema"in h&&this.fromSchema(h.schema)}static defaultValues(h){if("distributionPoints"===h)return[];throw new Error(`Invalid member name for CRLDistributionPoints class: ${h}`)}static schema(h={}){const b=S(h,"names",{});return new fn({name:b.blockName||"",value:[new Ni({name:b.distributionPoints||"",value:Wr.schema()})]})}fromSchema(h){L(h,["distributionPoints"]);const b=ai(h,h,pn.schema({names:{distributionPoints:"distributionPoints"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for CRLDistributionPoints");this.distributionPoints=Array.from(b.result.distributionPoints,M=>new Wr({schema:M}))}toSchema(){return new fn({value:Array.from(this.distributionPoints,h=>h.toSchema())})}toJSON(){return{distributionPoints:Array.from(this.distributionPoints,h=>h.toJSON())}}}class vs{constructor(h={}){this.policyQualifierId=S(h,"policyQualifierId",vs.defaultValues("policyQualifierId")),this.qualifier=S(h,"qualifier",vs.defaultValues("qualifier")),"schema"in h&&this.fromSchema(h.schema)}static defaultValues(h){switch(h){case"policyQualifierId":return"";case"qualifier":return new gr;default:throw new Error(`Invalid member name for PolicyQualifierInfo class: ${h}`)}}static schema(h={}){const b=S(h,"names",{});return new fn({name:b.blockName||"",value:[new jt({name:b.policyQualifierId||""}),new gr({name:b.qualifier||""})]})}fromSchema(h){L(h,["policyQualifierId","qualifier"]);const b=ai(h,h,vs.schema({names:{policyQualifierId:"policyQualifierId",qualifier:"qualifier"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for PolicyQualifierInfo");this.policyQualifierId=b.result.policyQualifierId.valueBlock.toString(),this.qualifier=b.result.qualifier}toSchema(){return new fn({value:[new jt({value:this.policyQualifierId}),this.qualifier]})}toJSON(){return{policyQualifierId:this.policyQualifierId,qualifier:this.qualifier.toJSON()}}}class Ne{constructor(h={}){this.policyIdentifier=S(h,"policyIdentifier",Ne.defaultValues("policyIdentifier")),"policyQualifiers"in h&&(this.policyQualifiers=S(h,"policyQualifiers",Ne.defaultValues("policyQualifiers"))),"schema"in h&&this.fromSchema(h.schema)}static defaultValues(h){switch(h){case"policyIdentifier":return"";case"policyQualifiers":return[];default:throw new Error(`Invalid member name for PolicyInformation class: ${h}`)}}static schema(h={}){const b=S(h,"names",{});return new fn({name:b.blockName||"",value:[new jt({name:b.policyIdentifier||""}),new fn({optional:!0,value:[new Ni({name:b.policyQualifiers||"",value:vs.schema()})]})]})}fromSchema(h){L(h,["policyIdentifier","policyQualifiers"]);const b=ai(h,h,Ne.schema({names:{policyIdentifier:"policyIdentifier",policyQualifiers:"policyQualifiers"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for PolicyInformation");this.policyIdentifier=b.result.policyIdentifier.valueBlock.toString(),"policyQualifiers"in b.result&&(this.policyQualifiers=Array.from(b.result.policyQualifiers,M=>new vs({schema:M})))}toSchema(){const h=[];return h.push(new jt({value:this.policyIdentifier})),"policyQualifiers"in this&&h.push(new fn({value:Array.from(this.policyQualifiers,b=>b.toSchema())})),new fn({value:h})}toJSON(){const h={policyIdentifier:this.policyIdentifier};return"policyQualifiers"in this&&(h.policyQualifiers=Array.from(this.policyQualifiers,b=>b.toJSON())),h}}class je{constructor(h={}){this.certificatePolicies=S(h,"certificatePolicies",je.defaultValues("certificatePolicies")),"schema"in h&&this.fromSchema(h.schema)}static defaultValues(h){if("certificatePolicies"===h)return[];throw new Error(`Invalid member name for CertificatePolicies class: ${h}`)}static schema(h={}){const b=S(h,"names",{});return new fn({name:b.blockName||"",value:[new Ni({name:b.certificatePolicies||"",value:Ne.schema()})]})}fromSchema(h){L(h,["certificatePolicies"]);const b=ai(h,h,je.schema({names:{certificatePolicies:"certificatePolicies"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for CertificatePolicies");this.certificatePolicies=Array.from(b.result.certificatePolicies,M=>new Ne({schema:M}))}toSchema(){return new fn({value:Array.from(this.certificatePolicies,h=>h.toSchema())})}toJSON(){return{certificatePolicies:Array.from(this.certificatePolicies,h=>h.toJSON())}}}class ge{constructor(h={}){this.issuerDomainPolicy=S(h,"issuerDomainPolicy",ge.defaultValues("issuerDomainPolicy")),this.subjectDomainPolicy=S(h,"subjectDomainPolicy",ge.defaultValues("subjectDomainPolicy")),"schema"in h&&this.fromSchema(h.schema)}static defaultValues(h){switch(h){case"issuerDomainPolicy":case"subjectDomainPolicy":return"";default:throw new Error(`Invalid member name for PolicyMapping class: ${h}`)}}static schema(h={}){const b=S(h,"names",{});return new fn({name:b.blockName||"",value:[new jt({name:b.issuerDomainPolicy||""}),new jt({name:b.subjectDomainPolicy||""})]})}fromSchema(h){L(h,["issuerDomainPolicy","subjectDomainPolicy"]);const b=ai(h,h,ge.schema({names:{issuerDomainPolicy:"issuerDomainPolicy",subjectDomainPolicy:"subjectDomainPolicy"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for PolicyMapping");this.issuerDomainPolicy=b.result.issuerDomainPolicy.valueBlock.toString(),this.subjectDomainPolicy=b.result.subjectDomainPolicy.valueBlock.toString()}toSchema(){return new fn({value:[new jt({value:this.issuerDomainPolicy}),new jt({value:this.subjectDomainPolicy})]})}toJSON(){return{issuerDomainPolicy:this.issuerDomainPolicy,subjectDomainPolicy:this.subjectDomainPolicy}}}class tt{constructor(h={}){this.mappings=S(h,"mappings",tt.defaultValues("mappings")),"schema"in h&&this.fromSchema(h.schema)}static defaultValues(h){if("mappings"===h)return[];throw new Error(`Invalid member name for PolicyMappings class: ${h}`)}static schema(h={}){const b=S(h,"names",{});return new fn({name:b.blockName||"",value:[new Ni({name:b.mappings||"",value:ge.schema()})]})}fromSchema(h){L(h,["mappings"]);const b=ai(h,h,tt.schema({names:{mappings:"mappings"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for PolicyMappings");this.mappings=Array.from(b.result.mappings,M=>new ge({schema:M}))}toSchema(){return new fn({value:Array.from(this.mappings,h=>h.toSchema())})}toJSON(){return{mappings:Array.from(this.mappings,h=>h.toJSON())}}}class Pt{constructor(h={}){"keyIdentifier"in h&&(this.keyIdentifier=S(h,"keyIdentifier",Pt.defaultValues("keyIdentifier"))),"authorityCertIssuer"in h&&(this.authorityCertIssuer=S(h,"authorityCertIssuer",Pt.defaultValues("authorityCertIssuer"))),"authorityCertSerialNumber"in h&&(this.authorityCertSerialNumber=S(h,"authorityCertSerialNumber",Pt.defaultValues("authorityCertSerialNumber"))),"schema"in h&&this.fromSchema(h.schema)}static defaultValues(h){switch(h){case"keyIdentifier":return new Tt;case"authorityCertIssuer":return[];case"authorityCertSerialNumber":return new cn;default:throw new Error(`Invalid member name for AuthorityKeyIdentifier class: ${h}`)}}static schema(h={}){const b=S(h,"names",{});return new fn({name:b.blockName||"",value:[new it({name:b.keyIdentifier||"",optional:!0,idBlock:{tagClass:3,tagNumber:0}}),new j({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new Ni({name:b.authorityCertIssuer||"",value:si.schema()})]}),new it({name:b.authorityCertSerialNumber||"",optional:!0,idBlock:{tagClass:3,tagNumber:2}})]})}fromSchema(h){L(h,["keyIdentifier","authorityCertIssuer","authorityCertSerialNumber"]);const b=ai(h,h,Pt.schema({names:{keyIdentifier:"keyIdentifier",authorityCertIssuer:"authorityCertIssuer",authorityCertSerialNumber:"authorityCertSerialNumber"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for AuthorityKeyIdentifier");"keyIdentifier"in b.result&&(this.keyIdentifier=new Tt({valueHex:b.result.keyIdentifier.valueBlock.valueHex})),"authorityCertIssuer"in b.result&&(this.authorityCertIssuer=Array.from(b.result.authorityCertIssuer,M=>new si({schema:M}))),"authorityCertSerialNumber"in b.result&&(this.authorityCertSerialNumber=new cn({valueHex:b.result.authorityCertSerialNumber.valueBlock.valueHex}))}toSchema(){const h=[];return"keyIdentifier"in this&&h.push(new it({idBlock:{tagClass:3,tagNumber:0},valueHex:this.keyIdentifier.valueBlock.valueHex})),"authorityCertIssuer"in this&&h.push(new j({idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.authorityCertIssuer,b=>b.toSchema())})),"authorityCertSerialNumber"in this&&h.push(new it({idBlock:{tagClass:3,tagNumber:2},valueHex:this.authorityCertSerialNumber.valueBlock.valueHex})),new fn({value:h})}toJSON(){const h={};return"keyIdentifier"in this&&(h.keyIdentifier=this.keyIdentifier.toJSON()),"authorityCertIssuer"in this&&(h.authorityCertIssuer=Array.from(this.authorityCertIssuer,b=>b.toJSON())),"authorityCertSerialNumber"in this&&(h.authorityCertSerialNumber=this.authorityCertSerialNumber.toJSON()),h}}class Kn{constructor(h={}){"requireExplicitPolicy"in h&&(this.requireExplicitPolicy=S(h,"requireExplicitPolicy",Kn.defaultValues("requireExplicitPolicy"))),"inhibitPolicyMapping"in h&&(this.inhibitPolicyMapping=S(h,"inhibitPolicyMapping",Kn.defaultValues("inhibitPolicyMapping"))),"schema"in h&&this.fromSchema(h.schema)}static defaultValues(h){switch(h){case"requireExplicitPolicy":case"inhibitPolicyMapping":return 0;default:throw new Error(`Invalid member name for PolicyConstraints class: ${h}`)}}static schema(h={}){const b=S(h,"names",{});return new fn({name:b.blockName||"",value:[new it({name:b.requireExplicitPolicy||"",optional:!0,idBlock:{tagClass:3,tagNumber:0}}),new it({name:b.inhibitPolicyMapping||"",optional:!0,idBlock:{tagClass:3,tagNumber:1}})]})}fromSchema(h){L(h,["requireExplicitPolicy","inhibitPolicyMapping"]);const b=ai(h,h,Kn.schema({names:{requireExplicitPolicy:"requireExplicitPolicy",inhibitPolicyMapping:"inhibitPolicyMapping"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for PolicyConstraints");if("requireExplicitPolicy"in b.result){const M=b.result.requireExplicitPolicy;M.idBlock.tagClass=1,M.idBlock.tagNumber=2;const ce=rt(M.toBER(!1));this.requireExplicitPolicy=ce.result.valueBlock.valueDec}if("inhibitPolicyMapping"in b.result){const M=b.result.inhibitPolicyMapping;M.idBlock.tagClass=1,M.idBlock.tagNumber=2;const ce=rt(M.toBER(!1));this.inhibitPolicyMapping=ce.result.valueBlock.valueDec}}toSchema(){const h=[];if("requireExplicitPolicy"in this){const b=new cn({value:this.requireExplicitPolicy});b.idBlock.tagClass=3,b.idBlock.tagNumber=0,h.push(b)}if("inhibitPolicyMapping"in this){const b=new cn({value:this.inhibitPolicyMapping});b.idBlock.tagClass=3,b.idBlock.tagNumber=1,h.push(b)}return new fn({value:h})}toJSON(){const h={};return"requireExplicitPolicy"in this&&(h.requireExplicitPolicy=this.requireExplicitPolicy),"inhibitPolicyMapping"in this&&(h.inhibitPolicyMapping=this.inhibitPolicyMapping),h}}class Ii{constructor(h={}){this.keyPurposes=S(h,"keyPurposes",Ii.defaultValues("keyPurposes")),"schema"in h&&this.fromSchema(h.schema)}static defaultValues(h){if("keyPurposes"===h)return[];throw new Error(`Invalid member name for ExtKeyUsage class: ${h}`)}static schema(h={}){const b=S(h,"names",{});return new fn({name:b.blockName||"",value:[new Ni({name:b.keyPurposes||"",value:new jt})]})}fromSchema(h){L(h,["keyPurposes"]);const b=ai(h,h,Ii.schema({names:{keyPurposes:"keyPurposes"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for ExtKeyUsage");this.keyPurposes=Array.from(b.result.keyPurposes,M=>M.valueBlock.toString())}toSchema(){return new fn({value:Array.from(this.keyPurposes,h=>new jt({value:h}))})}toJSON(){return{keyPurposes:Array.from(this.keyPurposes)}}}class os{constructor(h={}){this.accessMethod=S(h,"accessMethod",os.defaultValues("accessMethod")),this.accessLocation=S(h,"accessLocation",os.defaultValues("accessLocation")),"schema"in h&&this.fromSchema(h.schema)}static defaultValues(h){switch(h){case"accessMethod":return"";case"accessLocation":return new si;default:throw new Error(`Invalid member name for AccessDescription class: ${h}`)}}static schema(h={}){const b=S(h,"names",{});return new fn({name:b.blockName||"",value:[new jt({name:b.accessMethod||""}),si.schema(b.accessLocation||{})]})}fromSchema(h){L(h,["accessMethod","accessLocation"]);const b=ai(h,h,os.schema({names:{accessMethod:"accessMethod",accessLocation:{names:{blockName:"accessLocation"}}}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for AccessDescription");this.accessMethod=b.result.accessMethod.valueBlock.toString(),this.accessLocation=new si({schema:b.result.accessLocation})}toSchema(){return new fn({value:[new jt({value:this.accessMethod}),this.accessLocation.toSchema()]})}toJSON(){return{accessMethod:this.accessMethod,accessLocation:this.accessLocation.toJSON()}}}class ys{constructor(h={}){this.accessDescriptions=S(h,"accessDescriptions",ys.defaultValues("accessDescriptions")),"schema"in h&&this.fromSchema(h.schema)}static defaultValues(h){if("accessDescriptions"===h)return[];throw new Error(`Invalid member name for InfoAccess class: ${h}`)}static schema(h={}){const b=S(h,"names",{});return new fn({name:b.blockName||"",value:[new Ni({name:b.accessDescriptions||"",value:os.schema()})]})}fromSchema(h){L(h,["accessDescriptions"]);const b=ai(h,h,ys.schema({names:{accessDescriptions:"accessDescriptions"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for InfoAccess");this.accessDescriptions=Array.from(b.result.accessDescriptions,M=>new os({schema:M}))}toSchema(){return new fn({value:Array.from(this.accessDescriptions,h=>h.toSchema())})}toJSON(){return{accessDescriptions:Array.from(this.accessDescriptions,h=>h.toJSON())}}}class Jn{constructor(h={}){if("view"in h)this.fromUint8Array(h.view);else if("buffer"in h)this.fromArrayBuffer(h.buffer);else if("string"in h)this.fromString(h.string);else if("hexstring"in h)this.fromHexString(h.hexstring);else if("length"in h&&h.length>0){if(this.length=h.length,h.stub)for(let b=0;b<this._view.length;b++)this._view[b]=h.stub}else this.length=0}set buffer(h){this._buffer=h,this._view=new Uint8Array(this._buffer)}get buffer(){return this._buffer}set view(h){this._buffer=new ArrayBuffer(h.length),this._view=new Uint8Array(this._buffer),this._view.set(h)}get view(){return this._view}get length(){return this.view.byteLength}set length(h){this._buffer=new ArrayBuffer(h),this._view=new Uint8Array(this._buffer)}clear(){this._buffer=new ArrayBuffer(0),this._view=new Uint8Array(this._buffer)}fromArrayBuffer(h){this._buffer=h,this._view=new Uint8Array(this._buffer)}fromUint8Array(h){this.fromArrayBuffer(new Uint8Array(h).buffer)}fromString(h){const b=h.length;this.length=b;for(let M=0;M<b;M++)this.view[M]=h.charCodeAt(M)}toString(h=0,b=this.view.length-h){let M="";(h>=this.view.length||h<0)&&(h=0),(b>=this.view.length||b<0)&&(b=this.view.length-h);for(let z=h;z<h+b;z++)M+=String.fromCharCode(this.view[z]);return M}fromHexString(h){const b=h.length;this.buffer=new ArrayBuffer(b>>1),this.view=new Uint8Array(this.buffer);const M=new Map;M.set("0",0),M.set("1",1),M.set("2",2),M.set("3",3),M.set("4",4),M.set("5",5),M.set("6",6),M.set("7",7),M.set("8",8),M.set("9",9),M.set("A",10),M.set("a",10),M.set("B",11),M.set("b",11),M.set("C",12),M.set("c",12),M.set("D",13),M.set("d",13),M.set("E",14),M.set("e",14),M.set("F",15),M.set("f",15);let z=0,ce=0;for(let Ce=0;Ce<b;Ce++)Ce%2?(ce|=M.get(h.charAt(Ce)),this.view[z]=ce,z++):ce=M.get(h.charAt(Ce))<<4}toHexString(h=0,b=this.view.length-h){let M="";(h>=this.view.length||h<0)&&(h=0),(b>=this.view.length||b<0)&&(b=this.view.length-h);for(let z=h;z<h+b;z++){const ce=this.view[z].toString(16).toUpperCase();M=M+(1==ce.length?"0":"")+ce}return M}copy(h=0,b=this.length-h){if(!h&&!this.length)return new Jn;if(h<0||h>this.length-1)throw new Error(`Wrong start position: ${h}`);return new Jn({buffer:this._buffer.slice(h,h+b)})}slice(h=0,b=this.length){if(!h&&!this.length)return new Jn;if(h<0||h>this.length-1)throw new Error(`Wrong start position: ${h}`);return new Jn({buffer:this._buffer.slice(h,b)})}realloc(h){const b=new ArrayBuffer(h);new Uint8Array(b).set(h>this._view.length?this._view:new Uint8Array(this._buffer,0,h)),this._buffer=b,this._view=new Uint8Array(this._buffer)}append(h){const b=this.length,M=h.length,z=h._view.subarray();this.realloc(b+M),this._view.set(z,b)}insert(h,b=0,M=this.length-b){return!(b>this.length-1||(M>this.length-b&&(M=this.length-b),M>h.length&&(M=h.length),this._view.set(M==h.length?h._view:h._view.subarray(0,M),b),0))}isEqual(h){if(this.length!=h.length)return!1;for(let b=0;b<h.length;b++)if(this.view[b]!=h.view[b])return!1;return!0}isEqualView(h){if(h.length!=this.view.length)return!1;for(let b=0;b<h.length;b++)if(this.view[b]!=h[b])return!1;return!0}findPattern(h,b,M,z){const{start:ce,length:Ce,backward:He}=this.prepareFindParameters(b,M,z),A=h.length;if(A>Ce)return-1;const V=[];for(let B=0;B<A;B++)V.push(h.view[B]);for(let B=0;B<=Ce-A;B++){let Z=!0;const be=He?ce-A-B:ce+B;for(let Ge=0;Ge<A;Ge++)if(this.view[Ge+be]!=V[Ge]){Z=!1;break}if(Z)return He?ce-A-B:ce+A+B}return-1}findFirstIn(h,b,M,z){const{start:ce,length:Ce,backward:He}=this.prepareFindParameters(b,M,z),A={id:-1,position:He?0:ce+Ce,length:0};for(let V=0;V<h.length;V++){const B=this.findPattern(h[V],ce,Ce,He);if(-1!=B){let Z=!1;const be=h[V].length;He?B-be>=A.position-A.length&&(Z=!0):B-be<=A.position-A.length&&(Z=!0),Z&&(A.position=B,A.id=V,A.length=be)}}return A}findAllIn(h,b,M){let{start:z,length:ce}=this.prepareFindParameters(b,M);const Ce=[];let He={id:-1,position:z};for(;;){const A=He.position;if(He=this.findFirstIn(h,He.position,ce),-1==He.id)break;ce-=He.position-A,Ce.push({id:He.id,position:He.position})}return Ce}findAllPatternIn(h,b,M){const{start:z,length:ce}=this.prepareFindParameters(b,M),Ce=[],He=h.length;if(He>ce)return-1;const A=Array.from(h.view);for(let V=0;V<=ce-He;V++){let B=!0;const Z=z+V;for(let be=0;be<He;be++)if(this.view[be+Z]!=A[be]){B=!1;break}B&&(Ce.push(z+He+V),V+=He-1)}return Ce}findFirstNotIn(h,b,M,z){let{start:ce,length:Ce,backward:He}=this.prepareFindParameters(b,M,z);const A={left:{id:-1,position:ce},right:{id:-1,position:0},value:new Jn};let V=Ce;for(;V>0;){if(A.right=this.findFirstIn(h,He?ce-Ce+V:ce+Ce-V,V,He),-1==A.right.id){Ce=V,He?ce-=Ce:ce=A.left.position,A.value=new Jn({buffer:this._buffer.slice(ce,ce+Ce)});break}if(A.right.position!=(He?A.left.position-h[A.right.id].length:A.left.position+h[A.right.id].length)){He?(ce=A.right.position+h[A.right.id].length,Ce=A.left.position-A.right.position-h[A.right.id].length):(ce=A.left.position,Ce=A.right.position-A.left.position-h[A.right.id].length),A.value=new Jn({buffer:this._buffer.slice(ce,ce+Ce)});break}A.left=A.right,V-=h[A.right.id].length}if(He){const B=A.right;A.right=A.left,A.left=B}return A}findAllNotIn(h,b,M){let{start:z,length:ce}=this.prepareFindParameters(b,M);const Ce=[];let He={left:{id:-1,position:z},right:{id:-1,position:z},value:new Jn};do{const A=He.right.position;He=this.findFirstNotIn(h,He.right.position,ce),ce-=He.right.position-A,Ce.push({left:{id:He.left.id,position:He.left.position},right:{id:He.right.id,position:He.right.position},value:He.value})}while(-1!=He.right.id);return Ce}findFirstSequence(h,b,M,z){let{start:ce,length:Ce,backward:He}=this.prepareFindParameters(b,M,z);const A=this.skipNotPatterns(h,ce,Ce,He);if(-1==A)return{position:-1,value:new Jn};const V=this.skipPatterns(h,A,Ce-(He?ce-A:A-ce),He);return He?(ce=V,Ce=A-V):(ce=A,Ce=V-A),{position:V,value:new Jn({buffer:this._buffer.slice(ce,ce+Ce)})}}findAllSequences(h,b,M){let{start:z,length:ce}=this.prepareFindParameters(b,M);const Ce=[];let He={position:z,value:new Jn};do{const A=He.position;He=this.findFirstSequence(h,He.position,ce),-1!=He.position&&(ce-=He.position-A,Ce.push({position:He.position,value:He.value}))}while(-1!=He.position);return Ce}findPairedPatterns(h,b,M,z){const ce=[];if(h.isEqual(b))return ce;const{start:Ce,length:He}=this.prepareFindParameters(M,z);let A=0;const V=this.findAllPatternIn(h,Ce,He);if(!Array.isArray(V)||0==V.length)return ce;const B=this.findAllPatternIn(b,Ce,He);if(!Array.isArray(B)||0==B.length)return ce;for(;A<V.length&&0!=B.length;)if(V[0]!=B[0]){if(V[A]>B[0])break;for(;V[A]<B[0]&&(A++,!(A>=V.length)););ce.push({left:V[A-1],right:B[0]}),V.splice(A-1,1),B.splice(0,1),A=0}else ce.push({left:V[0],right:B[0]}),V.splice(0,1),B.splice(0,1);return ce.sort((Z,be)=>Z.left-be.left),ce}findPairedArrays(h,b,M,z){const{start:ce,length:Ce}=this.prepareFindParameters(M,z),He=[];let A=0;const V=this.findAllIn(h,ce,Ce);if(0==V.length)return He;const B=this.findAllIn(b,ce,Ce);if(0==B.length)return He;for(;A<V.length&&0!=B.length;)if(V[0].position!=B[0].position){if(V[A].position>B[0].position)break;for(;V[A].position<B[0].position&&(A++,!(A>=V.length)););He.push({left:V[A-1],right:B[0]}),V.splice(A-1,1),B.splice(0,1),A=0}else He.push({left:V[0],right:B[0]}),V.splice(0,1),B.splice(0,1);return He.sort((Z,be)=>Z.left.position-be.left.position),He}replacePattern(h,b,M,z,ce=null){let He,Ce=[];const A={status:-1,searchPatternPositions:[],replacePatternPositions:[]},{start:V,length:B}=this.prepareFindParameters(M,z);if(null==ce){if(Ce=this.findAllIn([h],V,B),0==Ce.length)return A}else Ce=ce;A.searchPatternPositions.push(...Array.from(Ce,vt=>vt.position));const Z=h.length-b.length,be=new ArrayBuffer(this.view.length-Ce.length*Z),Ge=new Uint8Array(be);for(Ge.set(new Uint8Array(this.buffer,0,V)),He=0;He<Ce.length;He++){const vt=0==He?V:Ce[He-1].position;Ge.set(new Uint8Array(this.buffer,vt,Ce[He].position-h.length-vt),vt-He*Z),Ge.set(b.view,Ce[He].position-h.length-He*Z),A.replacePatternPositions.push(Ce[He].position-h.length-He*Z)}return He--,Ge.set(new Uint8Array(this.buffer,Ce[He].position,this.length-Ce[He].position),Ce[He].position-h.length+b.length-He*Z),this.buffer=be,this.view=new Uint8Array(this.buffer),A.status=1,A}skipPatterns(h,b,M,z){const{start:ce,length:Ce,backward:He}=this.prepareFindParameters(b,M,z);let A=ce;for(let V=0;V<h.length;V++){const B=h[V].length,Z=He?A-B:A;let be=!0;for(let Ge=0;Ge<B;Ge++)if(this.view[Ge+Z]!=h[V].view[Ge]){be=!1;break}if(be)if(V=-1,He){if(A-=B,A<=0)return A}else if(A+=B,A>=ce+Ce)return A}return A}skipNotPatterns(h,b,M,z){const{start:ce,length:Ce,backward:He}=this.prepareFindParameters(b,M,z);let A=-1;for(let V=0;V<Ce;V++){for(let B=0;B<h.length;B++){const Z=h[B].length,be=He?ce-V-Z:ce+V;let Ge=!0;for(let vt=0;vt<Z;vt++)if(this.view[vt+be]!=h[B].view[vt]){Ge=!1;break}if(Ge){A=He?ce-V:ce+V;break}}if(-1!=A)break}return A}prepareFindParameters(h=null,b=null,M=!1){return null===h&&(h=M?this.length:0),h>this.length&&(h=this.length),M?(null===b&&(b=h),b>h&&(b=h)):(null===b&&(b=this.length-h),b>this.length-h&&(b=this.length-h)),{start:h,length:b,backward:M}}}let Me=(()=>{class Ve{constructor(b={}){this._stream=new Jn,this._length=0,this._start=0,this.backward=!1,this.appendBlock=0,this.prevLength=0,this.prevStart=0,this.stream="view"in b?new Jn({view:b.view}):"buffer"in b?new Jn({buffer:b.buffer}):"string"in b?new Jn({string:b.string}):"hexstring"in b?new Jn({hexstring:b.hexstring}):"stream"in b?b.stream.slice():new Jn,"backward"in b&&b.backward&&(this.backward=b.backward,this._start=this.stream.length),"length"in b&&b.length>0&&(this._length=b.length),"start"in b&&b.start&&b.start>0&&(this._start=b.start),"appendBlock"in b&&b.appendBlock&&b.appendBlock>0&&(this.appendBlock=b.appendBlock)}set stream(b){this._stream=b,this.prevLength=this._length,this._length=b.length,this.prevStart=this._start,this._start=0}get stream(){return this._stream}set length(b){this.prevLength=this._length,this._length=b}get length(){return this.appendBlock?this.start:this._length}set start(b){b>this.stream.length||(this.prevStart=this._start,this.prevLength=this._length,this._length-=this.backward?this._start-b:b-this._start,this._start=b)}get start(){return this._start}get buffer(){return this._stream.buffer.slice(0,this._length)}resetPosition(){this._start=this.prevStart,this._length=this.prevLength}findPattern(b,M=null){(null==M||M>this.length)&&(M=this.length);const z=this.stream.findPattern(b,this.start,this.length,this.backward);if(-1==z)return z;if(this.backward){if(z<this.start-b.length-M)return-1}else if(z>this.start+b.length+M)return-1;return this.start=z,z}findFirstIn(b,M=null){(null==M||M>this.length)&&(M=this.length);const z=this.stream.findFirstIn(b,this.start,this.length,this.backward);if(-1==z.id)return z;if(this.backward){if(z.position<this.start-b[z.id].length-M)return{id:-1,position:this.backward?0:this.start+this.length}}else if(z.position>this.start+b[z.id].length+M)return{id:-1,position:this.backward?0:this.start+this.length};return this.start=z.position,z}findAllIn(b){return this.stream.findAllIn(b,this.backward?this.start-this.length:this.start,this.length)}findFirstNotIn(b,M=null){(null==M||M>this._length)&&(M=this._length);const z=this._stream.findFirstNotIn(b,this._start,this._length,this.backward);if(-1==z.left.id&&-1==z.right.id)return z;if(this.backward){if(-1!=z.right.id&&z.right.position<this._start-b[z.right.id].length-M)return{left:{id:-1,position:this._start},right:{id:-1,position:0},value:new Jn}}else if(-1!=z.left.id&&z.left.position>this._start+b[z.left.id].length+M)return{left:{id:-1,position:this._start},right:{id:-1,position:0},value:new Jn};return this.start=this.backward?-1==z.left.id?0:z.left.position:-1==z.right.id?this._start+this._length:z.right.position,z}findAllNotIn(b){return this._stream.findAllNotIn(b,this.backward?this._start-this._length:this._start,this._length)}findFirstSequence(b,M=null,z=null){(null==M||M>this._length)&&(M=this._length),(null==z||z>M)&&(z=M);const ce=this._stream.findFirstSequence(b,this._start,M,this.backward);if(0==ce.value.length)return ce;if(this.backward){if(ce.position<this._start-ce.value.length-z)return{position:-1,value:new Jn}}else if(ce.position>this._start+ce.value.length+z)return{position:-1,value:new Jn};return this.start=ce.position,ce}findAllSequences(b){return this.stream.findAllSequences(b,this.backward?this.start-this.length:this.start,this.length)}findPairedPatterns(b,M,z=null){(null==z||z>this.length)&&(z=this.length);const Ce=this.stream.findPairedPatterns(b,M,this.backward?this.start-this.length:this.start,this.length);if(Ce.length)if(this.backward){if(Ce[0].right<this.start-M.length-z)return[]}else if(Ce[0].left>this.start+b.length+z)return[];return Ce}findPairedArrays(b,M,z=null){(null==z||z>this.length)&&(z=this.length);const Ce=this.stream.findPairedArrays(b,M,this.backward?this.start-this.length:this.start,this.length);if(Ce.length)if(this.backward){if(Ce[0].right.position<this.start-M[Ce[0].right.id].length-z)return[]}else if(Ce[0].left.position>this.start+b[Ce[0].left.id].length+z)return[];return Ce}replacePattern(b,M){return this.stream.replacePattern(b,M,this.backward?this.start-this.length:this.start,this.length)}skipPatterns(b){const M=this.stream.skipPatterns(b,this.start,this.length,this.backward);return this.start=M,M}skipNotPatterns(b){const M=this.stream.skipNotPatterns(b,this.start,this.length,this.backward);return-1==M?-1:(this.start=M,M)}append(b){this.beforeAppend(b.length),this._stream.view.set(b.view,this._start),this._length+=2*b.length,this.start=this._start+b.length,this.prevLength-=2*b.length}appendView(b){this.beforeAppend(b.length),this._stream.view.set(b,this._start),this._length+=2*b.length,this.start=this._start+b.length,this.prevLength-=2*b.length}appendChar(b){this.beforeAppend(1),this._stream.view[this._start]=b,this._length+=2,this.start=this._start+1,this.prevLength-=2}appendUint16(b){this.beforeAppend(2);const M=new Uint16Array([b]),z=new Uint8Array(M.buffer);this.stream.view[this._start]=z[1],this._stream.view[this._start+1]=z[0],this._length+=4,this.start=this._start+2,this.prevLength-=4}appendUint24(b){this.beforeAppend(3);const M=new Uint32Array([b]),z=new Uint8Array(M.buffer);this._stream.view[this._start]=z[2],this._stream.view[this._start+1]=z[1],this._stream.view[this._start+2]=z[0],this._length+=6,this.start=this._start+3,this.prevLength-=6}appendUint32(b){this.beforeAppend(4);const M=new Uint32Array([b]),z=new Uint8Array(M.buffer);this._stream.view[this._start]=z[3],this._stream.view[this._start+1]=z[2],this._stream.view[this._start+2]=z[1],this._stream.view[this._start+3]=z[0],this._length+=8,this.start=this._start+4,this.prevLength-=8}appendInt16(b){this.beforeAppend(2);const M=new Int16Array([b]),z=new Uint8Array(M.buffer);this._stream.view[this._start]=z[1],this._stream.view[this._start+1]=z[0],this._length+=4,this.start=this._start+2,this.prevLength-=4}appendInt32(b){this.beforeAppend(4);const M=new Int32Array([b]),z=new Uint8Array(M.buffer);this._stream.view[this._start]=z[3],this._stream.view[this._start+1]=z[2],this._stream.view[this._start+2]=z[1],this._stream.view[this._start+3]=z[0],this._length+=8,this.start=this._start+4,this.prevLength-=8}getBlock(b,M=!0){if(this._length<=0)return new Uint8Array(0);let z;if(this._length<b&&(b=this._length),this.backward){const ce=this._stream.view.subarray(this._length-b,this._length);z=new Uint8Array(b);for(let Ce=0;Ce<b;Ce++)z[b-1-Ce]=ce[Ce]}else z=this._stream.view.subarray(this._start,this._start+b);return M&&(this.start+=this.backward?-1*b:b),z}getUint16(b=!0){const M=this.getBlock(2,b);if(M.length<2)return 0;const z=new Uint16Array(1),ce=new Uint8Array(z.buffer);return ce[0]=M[1],ce[1]=M[0],z[0]}getInt16(b=!0){const M=this.getBlock(2,b);if(M.length<2)return 0;const z=new Int16Array(1),ce=new Uint8Array(z.buffer);return ce[0]=M[1],ce[1]=M[0],z[0]}getUint24(b=!0){const M=this.getBlock(3,b);if(M.length<3)return 0;const z=new Uint32Array(1),ce=new Uint8Array(z.buffer);for(let Ce=3;Ce>=1;Ce--)ce[3-Ce]=M[Ce-1];return z[0]}getUint32(b=!0){const M=this.getBlock(4,b);if(M.length<4)return 0;const z=new Uint32Array(1),ce=new Uint8Array(z.buffer);for(let Ce=3;Ce>=0;Ce--)ce[3-Ce]=M[Ce];return z[0]}getInt32(b=!0){const M=this.getBlock(4,b);if(M.length<4)return 0;const z=new Int32Array(1),ce=new Uint8Array(z.buffer);for(let Ce=3;Ce>=0;Ce--)ce[3-Ce]=M[Ce];return z[0]}beforeAppend(b){this._start+b>this._stream.length&&(b>this.appendBlock&&(this.appendBlock=b+Ve.APPEND_BLOCK),this._stream.realloc(this._stream.length+this.appendBlock))}}return Ve.APPEND_BLOCK=1e3,Ve})();class Xe{constructor(h={}){this.version=S(h,"version",Xe.defaultValues("version")),this.logID=S(h,"logID",Xe.defaultValues("logID")),this.timestamp=S(h,"timestamp",Xe.defaultValues("timestamp")),this.extensions=S(h,"extensions",Xe.defaultValues("extensions")),this.hashAlgorithm=S(h,"hashAlgorithm",Xe.defaultValues("hashAlgorithm")),this.signatureAlgorithm=S(h,"signatureAlgorithm",Xe.defaultValues("signatureAlgorithm")),this.signature=S(h,"signature",Xe.defaultValues("signature")),"schema"in h&&this.fromSchema(h.schema),"stream"in h&&this.fromStream(h.stream)}static defaultValues(h){switch(h){case"version":return 0;case"logID":case"extensions":return new ArrayBuffer(0);case"timestamp":return new Date(0);case"hashAlgorithm":case"signatureAlgorithm":return"";case"signature":return new gr;default:throw new Error(`Invalid member name for SignedCertificateTimestamp class: ${h}`)}}fromSchema(h){if(!(h instanceof zs))throw new Error("Object's schema was not verified against input data for SignedCertificateTimestamp");const b=new Me({stream:new Jn({buffer:h.data})});this.fromStream(b)}fromStream(h){const b=h.getUint16();if(this.version=h.getBlock(1)[0],0===this.version){this.logID=new Uint8Array(h.getBlock(32)).buffer.slice(0),this.timestamp=new Date(d(new Uint8Array(h.getBlock(8)),8));const M=h.getUint16();switch(this.extensions=new Uint8Array(h.getBlock(M)).buffer.slice(0),h.getBlock(1)[0]){case 0:this.hashAlgorithm="none";break;case 1:this.hashAlgorithm="md5";break;case 2:this.hashAlgorithm="sha1";break;case 3:this.hashAlgorithm="sha224";break;case 4:this.hashAlgorithm="sha256";break;case 5:this.hashAlgorithm="sha384";break;case 6:this.hashAlgorithm="sha512";break;default:throw new Error("Object's stream was not correct for SignedCertificateTimestamp")}switch(h.getBlock(1)[0]){case 0:this.signatureAlgorithm="anonymous";break;case 1:this.signatureAlgorithm="rsa";break;case 2:this.signatureAlgorithm="dsa";break;case 3:this.signatureAlgorithm="ecdsa";break;default:throw new Error("Object's stream was not correct for SignedCertificateTimestamp")}const z=h.getUint16(),Ce=rt(new Uint8Array(h.getBlock(z)).buffer.slice(0));if(-1===Ce.offset)throw new Error("Object's stream was not correct for SignedCertificateTimestamp");if(this.signature=Ce.result,b!==47+M+z)throw new Error("Object's stream was not correct for SignedCertificateTimestamp")}}toSchema(){const h=this.toStream();return new zs({data:h.stream.buffer})}toStream(){const h=new Me;h.appendUint16(47+this.extensions.byteLength+this.signature.valueBeforeDecode.byteLength),h.appendChar(this.version),h.appendView(new Uint8Array(this.logID));const b=new ArrayBuffer(8),M=new Uint8Array(b),z=E(this.timestamp.valueOf(),8);let ce,Ce;switch(M.set(new Uint8Array(z),8-z.byteLength),h.appendView(M),h.appendUint16(this.extensions.byteLength),this.extensions.byteLength&&h.appendView(new Uint8Array(this.extensions)),this.hashAlgorithm.toLowerCase()){case"none":ce=0;break;case"md5":ce=1;break;case"sha1":ce=2;break;case"sha224":ce=3;break;case"sha256":ce=4;break;case"sha384":ce=5;break;case"sha512":ce=6;break;default:throw new Error(`Incorrect data for hashAlgorithm: ${this.hashAlgorithm}`)}switch(h.appendChar(ce),this.signatureAlgorithm.toLowerCase()){case"anonymous":Ce=0;break;case"rsa":Ce=1;break;case"dsa":Ce=2;break;case"ecdsa":Ce=3;break;default:throw new Error(`Incorrect data for signatureAlgorithm: ${this.signatureAlgorithm}`)}h.appendChar(Ce);const He=this.signature.toBER(!1);return h.appendUint16(He.byteLength),h.appendView(new Uint8Array(He)),h}toJSON(){return{version:this.version,logID:v(this.logID),timestamp:this.timestamp,extensions:v(this.extensions),hashAlgorithm:this.hashAlgorithm,signatureAlgorithm:this.signatureAlgorithm,signature:this.signature.toJSON()}}verify(h,b,M=0){var z=this;return(0,i.A)(function*(){let He,ce=x(U(z.logID)),Ce=null,A=new Me;for(const Ge of h)if(Ge.log_id===ce){Ce=Ge.key;break}if(null===Ce)throw new Error(`Public key not found for CT with logId: ${ce}`);const V=rt(G($(Ce)));if(-1===V.offset)throw new Error(`Incorrect key value for CT Log with logId: ${ce}`);He=new Sr({schema:V.result}),A.appendChar(0),A.appendChar(0);const B=new ArrayBuffer(8),Z=new Uint8Array(B),be=E(z.timestamp.valueOf(),8);return Z.set(new Uint8Array(be),8-be.byteLength),A.appendView(Z),A.appendUint16(M),0===M&&A.appendUint24(b.byteLength),A.appendView(new Uint8Array(b)),A.appendUint16(z.extensions.byteLength),0!==z.extensions.byteLength&&A.appendView(new Uint8Array(z.extensions)),is().subtle.verifyWithPublicKey(A._stream._buffer.slice(0,A._length),{valueBlock:{valueHex:z.signature.toBER(!1)}},He,{algorithmId:""},"SHA-256")})()}}class wt{constructor(h={}){this.timestamps=S(h,"timestamps",wt.defaultValues("timestamps")),"schema"in h&&this.fromSchema(h.schema)}static defaultValues(h){if("timestamps"===h)return[];throw new Error(`Invalid member name for SignedCertificateTimestampList class: ${h}`)}static compareWithDefault(h,b){if("timestamps"===h)return 0===b.length;throw new Error(`Invalid member name for SignedCertificateTimestampList class: ${h}`)}static schema(h={}){const b=S(h,"names",{});return"optional"in b||(b.optional=!1),new Tt({name:b.blockName||"SignedCertificateTimestampList",optional:b.optional})}fromSchema(h){if(!(h instanceof Tt))throw new Error("Object's schema was not verified against input data for SignedCertificateTimestampList");const b=new Me({stream:new Jn({buffer:h.valueBlock.valueHex})});if(b.getUint16()!==b.length)throw new Error("Object's schema was not verified against input data for SignedCertificateTimestampList");for(;b.length;)this.timestamps.push(new Xe({stream:b}))}toSchema(){const h=new Me;let b=0;const M=[];for(const z of this.timestamps){const ce=z.toStream();M.push(ce),b+=ce.stream.buffer.byteLength}h.appendUint16(b);for(const z of M)h.appendView(z.stream.view);return new Tt({valueHex:h.stream.buffer.slice(0)})}toJSON(){return{timestamps:Array.from(this.timestamps,h=>h.toJSON())}}}class bt{constructor(h={}){this.templateID=S(h,"templateID",bt.defaultValues("templateID")),"templateMajorVersion"in h&&(this.templateMajorVersion=S(h,"templateMajorVersion",bt.defaultValues("templateMajorVersion"))),"templateMinorVersion"in h&&(this.templateMinorVersion=S(h,"templateMinorVersion",bt.defaultValues("templateMinorVersion"))),"schema"in h&&this.fromSchema(h.schema)}static defaultValues(h){switch(h){case"templateID":return"";case"templateMajorVersion":case"templateMinorVersion":return 0;default:throw new Error(`Invalid member name for CertificateTemplate class: ${h}`)}}static schema(h={}){const b=S(h,"names",{});return new fn({name:b.blockName||"",value:[new jt({name:b.templateID||""}),new cn({name:b.templateMajorVersion||"",optional:!0}),new cn({name:b.templateMinorVersion||"",optional:!0})]})}fromSchema(h){L(h,["templateID","templateMajorVersion","templateMinorVersion"]);let b=ai(h,h,bt.schema({names:{templateID:"templateID",templateMajorVersion:"templateMajorVersion",templateMinorVersion:"templateMinorVersion"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for CertificateTemplate");this.templateID=b.result.templateID.valueBlock.toString(),"templateMajorVersion"in b.result&&(this.templateMajorVersion=b.result.templateMajorVersion.valueBlock.valueDec),"templateMinorVersion"in b.result&&(this.templateMinorVersion=b.result.templateMinorVersion.valueBlock.valueDec)}toSchema(){const h=[];return h.push(new jt({value:this.templateID})),"templateMajorVersion"in this&&h.push(new cn({value:this.templateMajorVersion})),"templateMinorVersion"in this&&h.push(new cn({value:this.templateMinorVersion})),new fn({value:h})}toJSON(){const h={extnID:this.templateID};return"templateMajorVersion"in this&&(h.templateMajorVersion=this.templateMajorVersion),"templateMinorVersion"in this&&(h.templateMinorVersion=this.templateMinorVersion),h}}class dn{constructor(h={}){this.certificateIndex=S(h,"certificateIndex",dn.defaultValues("certificateIndex")),this.keyIndex=S(h,"keyIndex",dn.defaultValues("keyIndex")),"schema"in h&&this.fromSchema(h.schema)}static defaultValues(h){switch(h){case"certificateIndex":case"keyIndex":return 0;default:throw new Error(`Invalid member name for CAVersion class: ${h}`)}}static schema(h={}){return new cn}fromSchema(h){if(h.constructor.blockName()!==cn.blockName())throw new Error("Object's schema was not verified against input data for CAVersion");let b=h.valueBlock.valueHex.slice(0);const M=new Uint8Array(b);switch(!0){case b.byteLength<4:{const Z=new ArrayBuffer(4);new Uint8Array(Z).set(M,4-b.byteLength),b=Z.slice(0)}break;case b.byteLength>4:{const Z=new ArrayBuffer(4);new Uint8Array(Z).set(M.slice(0,4)),b=Z.slice(0)}}const z=b.slice(0,2),ce=new Uint8Array(z);let Ce=ce[0];ce[0]=ce[1],ce[1]=Ce;const He=new Uint16Array(z);this.keyIndex=He[0];const A=b.slice(2),V=new Uint8Array(A);Ce=V[0],V[0]=V[1],V[1]=Ce;const B=new Uint16Array(A);this.certificateIndex=B[0]}toSchema(){const h=new ArrayBuffer(2);new Uint16Array(h)[0]=this.certificateIndex;const M=new Uint8Array(h);let z=M[0];M[0]=M[1],M[1]=z;const ce=new ArrayBuffer(2);new Uint16Array(ce)[0]=this.keyIndex;const He=new Uint8Array(ce);return z=He[0],He[0]=He[1],He[1]=z,new cn({valueHex:m(ce,h)})}toJSON(){return{certificateIndex:this.certificateIndex,keyIndex:this.keyIndex}}}class Jt{constructor(h={}){this.id=S(h,"id",Jt.defaultValues("id")),"type"in h&&(this.type=S(h,"type",Jt.defaultValues("type"))),"schema"in h&&this.fromSchema(h.schema)}static defaultValues(h){switch(h){case"id":return"";case"type":return new Ft;default:throw new Error(`Invalid member name for QCStatement class: ${h}`)}}static compareWithDefault(h,b){switch(h){case"id":return""===b;case"type":return b instanceof Ft;default:throw new Error(`Invalid member name for QCStatement class: ${h}`)}}static schema(h={}){const b=S(h,"names",{});return new fn({name:b.blockName||"",value:[new jt({name:b.id||""}),new gr({name:b.type||"",optional:!0})]})}fromSchema(h){L(h,["id","type"]);const b=ai(h,h,Jt.schema({names:{id:"id",type:"type"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for QCStatement");this.id=b.result.id.valueBlock.toString(),"type"in b.result&&(this.type=b.result.type)}toSchema(){const h=[new jt({value:this.id})];return"type"in this&&h.push(this.type),new fn({value:h})}toJSON(){const h={id:this.id};return"type"in this&&(h.type=this.type.toJSON()),h}}class Qn{constructor(h={}){this.values=S(h,"values",Qn.defaultValues("values")),"schema"in h&&this.fromSchema(h.schema)}static defaultValues(h){if("values"===h)return[];throw new Error(`Invalid member name for QCStatements class: ${h}`)}static compareWithDefault(h,b){if("values"===h)return 0===b.length;throw new Error(`Invalid member name for QCStatements class: ${h}`)}static schema(h={}){const b=S(h,"names",{});return new fn({name:b.blockName||"",value:[new Ni({name:b.values||"",value:Jt.schema(b.value||{})})]})}fromSchema(h){L(h,["values"]);const b=ai(h,h,Qn.schema({names:{values:"values"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for QCStatements");this.values=Array.from(b.result.values,M=>new Jt({schema:M}))}toSchema(){return new fn({value:Array.from(this.values,h=>h.toSchema())})}toJSON(){return{extensions:Array.from(this.values,h=>h.toJSON())}}}class Nn{constructor(h={}){this.extnID=S(h,"extnID",Nn.defaultValues("extnID")),this.critical=S(h,"critical",Nn.defaultValues("critical")),this.extnValue="extnValue"in h?new Tt({valueHex:h.extnValue}):Nn.defaultValues("extnValue"),"parsedValue"in h&&(this.parsedValue=S(h,"parsedValue",Nn.defaultValues("parsedValue"))),"schema"in h&&this.fromSchema(h.schema)}static defaultValues(h){switch(h){case"extnID":return"";case"critical":return!1;case"extnValue":return new Tt;case"parsedValue":return{};default:throw new Error(`Invalid member name for Extension class: ${h}`)}}static schema(h={}){const b=S(h,"names",{});return new fn({name:b.blockName||"",value:[new jt({name:b.extnID||""}),new Mn({name:b.critical||"",optional:!0}),new Tt({name:b.extnValue||""})]})}fromSchema(h){L(h,["extnID","critical","extnValue"]);let b=ai(h,h,Nn.schema({names:{extnID:"extnID",critical:"critical",extnValue:"extnValue"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for Extension");if(this.extnID=b.result.extnID.valueBlock.toString(),"critical"in b.result&&(this.critical=b.result.critical.valueBlock.value),this.extnValue=b.result.extnValue,b=rt(this.extnValue.valueBlock.valueHex),-1!==b.offset)switch(this.extnID){case"2.5.29.9":try{this.parsedValue=new Or({schema:b.result})}catch{this.parsedValue=new Or,this.parsedValue.parsingError="Incorrectly formated SubjectDirectoryAttributes"}break;case"2.5.29.14":case"2.5.29.15":case"2.5.29.20":case"2.5.29.27":case"2.5.29.21":case"2.5.29.24":case"2.5.29.54":case"1.3.6.1.4.1.311.20.2":case"1.3.6.1.4.1.311.21.2":this.parsedValue=b.result;break;case"2.5.29.16":try{this.parsedValue=new ss({schema:b.result})}catch{this.parsedValue=new ss,this.parsedValue.parsingError="Incorrectly formated PrivateKeyUsagePeriod"}break;case"2.5.29.17":case"2.5.29.18":try{this.parsedValue=new Hr({schema:b.result})}catch{this.parsedValue=new Hr,this.parsedValue.parsingError="Incorrectly formated AltName"}break;case"2.5.29.19":try{this.parsedValue=new Vs({schema:b.result})}catch{this.parsedValue=new Vs,this.parsedValue.parsingError="Incorrectly formated BasicConstraints"}break;case"2.5.29.28":try{this.parsedValue=new pr({schema:b.result})}catch{this.parsedValue=new pr,this.parsedValue.parsingError="Incorrectly formated IssuingDistributionPoint"}break;case"2.5.29.29":try{this.parsedValue=new js({schema:b.result})}catch{this.parsedValue=new js,this.parsedValue.parsingError="Incorrectly formated GeneralNames"}break;case"2.5.29.30":try{this.parsedValue=new Ur({schema:b.result})}catch{this.parsedValue=new Ur,this.parsedValue.parsingError="Incorrectly formated NameConstraints"}break;case"2.5.29.31":case"2.5.29.46":try{this.parsedValue=new pn({schema:b.result})}catch{this.parsedValue=new pn,this.parsedValue.parsingError="Incorrectly formated CRLDistributionPoints"}break;case"2.5.29.32":case"1.3.6.1.4.1.311.21.10":try{this.parsedValue=new je({schema:b.result})}catch{this.parsedValue=new je,this.parsedValue.parsingError="Incorrectly formated CertificatePolicies"}break;case"2.5.29.33":try{this.parsedValue=new tt({schema:b.result})}catch{this.parsedValue=new tt,this.parsedValue.parsingError="Incorrectly formated CertificatePolicies"}break;case"2.5.29.35":try{this.parsedValue=new Pt({schema:b.result})}catch{this.parsedValue=new Pt,this.parsedValue.parsingError="Incorrectly formated AuthorityKeyIdentifier"}break;case"2.5.29.36":try{this.parsedValue=new Kn({schema:b.result})}catch{this.parsedValue=new Kn,this.parsedValue.parsingError="Incorrectly formated PolicyConstraints"}break;case"2.5.29.37":try{this.parsedValue=new Ii({schema:b.result})}catch{this.parsedValue=new Ii,this.parsedValue.parsingError="Incorrectly formated ExtKeyUsage"}break;case"1.3.6.1.5.5.7.1.1":case"1.3.6.1.5.5.7.1.11":try{this.parsedValue=new ys({schema:b.result})}catch{this.parsedValue=new ys,this.parsedValue.parsingError="Incorrectly formated InfoAccess"}break;case"1.3.6.1.4.1.11129.2.4.2":try{this.parsedValue=new wt({schema:b.result})}catch{this.parsedValue=new wt,this.parsedValue.parsingError="Incorrectly formated SignedCertificateTimestampList"}break;case"1.3.6.1.4.1.311.21.7":try{this.parsedValue=new bt({schema:b.result})}catch{this.parsedValue=new bt,this.parsedValue.parsingError="Incorrectly formated CertificateTemplate"}break;case"1.3.6.1.4.1.311.21.1":try{this.parsedValue=new dn({schema:b.result})}catch{this.parsedValue=new dn,this.parsedValue.parsingError="Incorrectly formated CAVersion"}break;case"1.3.6.1.5.5.7.1.3":try{this.parsedValue=new Qn({schema:b.result})}catch{this.parsedValue=new Qn,this.parsedValue.parsingError="Incorrectly formated QCStatements"}}}toSchema(){const h=[];return h.push(new jt({value:this.extnID})),this.critical!==Nn.defaultValues("critical")&&h.push(new Mn({value:this.critical})),h.push(this.extnValue),new fn({value:h})}toJSON(){const h={extnID:this.extnID,extnValue:this.extnValue.toJSON()};return this.critical!==Nn.defaultValues("critical")&&(h.critical=this.critical),"parsedValue"in this&&"toJSON"in this.parsedValue&&(h.parsedValue=this.parsedValue.toJSON()),h}}class $n{constructor(h={}){this.extensions=S(h,"extensions",$n.defaultValues("extensions")),"schema"in h&&this.fromSchema(h.schema)}static defaultValues(h){if("extensions"===h)return[];throw new Error(`Invalid member name for Extensions class: ${h}`)}static schema(h={},b=!1){const M=S(h,"names",{});return new fn({optional:b,name:M.blockName||"",value:[new Ni({name:M.extensions||"",value:Nn.schema(M.extension||{})})]})}fromSchema(h){L(h,["extensions"]);const b=ai(h,h,$n.schema({names:{extensions:"extensions"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for Extensions");this.extensions=Array.from(b.result.extensions,M=>new Nn({schema:M}))}toSchema(){return new fn({value:Array.from(this.extensions,h=>h.toSchema())})}toJSON(){return{extensions:Array.from(this.extensions,h=>h.toJSON())}}}function Pr(Ve={}){const h=S(Ve,"names",{});return new fn({name:h.blockName||"tbsCertificate",value:[new j({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new cn({name:h.tbsCertificateVersion||"tbsCertificate.version"})]}),new cn({name:h.tbsCertificateSerialNumber||"tbsCertificate.serialNumber"}),jn.schema(h.signature||{names:{blockName:"tbsCertificate.signature"}}),Nr.schema(h.issuer||{names:{blockName:"tbsCertificate.issuer"}}),new fn({name:h.tbsCertificateValidity||"tbsCertificate.validity",value:[rr.schema(h.notBefore||{names:{utcTimeName:"tbsCertificate.notBefore",generalTimeName:"tbsCertificate.notBefore"}}),rr.schema(h.notAfter||{names:{utcTimeName:"tbsCertificate.notAfter",generalTimeName:"tbsCertificate.notAfter"}})]}),Nr.schema(h.subject||{names:{blockName:"tbsCertificate.subject"}}),Sr.schema(h.subjectPublicKeyInfo||{names:{blockName:"tbsCertificate.subjectPublicKeyInfo"}}),new it({name:h.tbsCertificateIssuerUniqueID||"tbsCertificate.issuerUniqueID",optional:!0,idBlock:{tagClass:3,tagNumber:1}}),new it({name:h.tbsCertificateSubjectUniqueID||"tbsCertificate.subjectUniqueID",optional:!0,idBlock:{tagClass:3,tagNumber:2}}),new j({optional:!0,idBlock:{tagClass:3,tagNumber:3},value:[$n.schema(h.extensions||{names:{blockName:"tbsCertificate.extensions"}})]})]})}class Di{constructor(h={}){this.tbs=S(h,"tbs",Di.defaultValues("tbs")),this.version=S(h,"version",Di.defaultValues("version")),this.serialNumber=S(h,"serialNumber",Di.defaultValues("serialNumber")),this.signature=S(h,"signature",Di.defaultValues("signature")),this.issuer=S(h,"issuer",Di.defaultValues("issuer")),this.notBefore=S(h,"notBefore",Di.defaultValues("notBefore")),this.notAfter=S(h,"notAfter",Di.defaultValues("notAfter")),this.subject=S(h,"subject",Di.defaultValues("subject")),this.subjectPublicKeyInfo=S(h,"subjectPublicKeyInfo",Di.defaultValues("subjectPublicKeyInfo")),"issuerUniqueID"in h&&(this.issuerUniqueID=S(h,"issuerUniqueID",Di.defaultValues("issuerUniqueID"))),"subjectUniqueID"in h&&(this.subjectUniqueID=S(h,"subjectUniqueID",Di.defaultValues("subjectUniqueID"))),"extensions"in h&&(this.extensions=S(h,"extensions",Di.defaultValues("extensions"))),this.signatureAlgorithm=S(h,"signatureAlgorithm",Di.defaultValues("signatureAlgorithm")),this.signatureValue=S(h,"signatureValue",Di.defaultValues("signatureValue")),"schema"in h&&this.fromSchema(h.schema)}static defaultValues(h){switch(h){case"tbs":case"issuerUniqueID":case"subjectUniqueID":return new ArrayBuffer(0);case"version":return 0;case"serialNumber":return new cn;case"signature":case"signatureAlgorithm":return new jn;case"issuer":case"subject":return new Nr;case"notBefore":case"notAfter":return new rr;case"subjectPublicKeyInfo":return new Sr;case"extensions":return[];case"signatureValue":return new ct;default:throw new Error(`Invalid member name for Certificate class: ${h}`)}}static schema(h={}){const b=S(h,"names",{});return new fn({name:b.blockName||"",value:[Pr(b.tbsCertificate),jn.schema(b.signatureAlgorithm||{names:{blockName:"signatureAlgorithm"}}),new ct({name:b.signatureValue||"signatureValue"})]})}fromSchema(h){L(h,["tbsCertificate","tbsCertificate.extensions","tbsCertificate.version","tbsCertificate.serialNumber","tbsCertificate.signature","tbsCertificate.issuer","tbsCertificate.notBefore","tbsCertificate.notAfter","tbsCertificate.subject","tbsCertificate.subjectPublicKeyInfo","tbsCertificate.issuerUniqueID","tbsCertificate.subjectUniqueID","signatureAlgorithm","signatureValue"]);const b=ai(h,h,Di.schema({names:{tbsCertificate:{names:{extensions:{names:{extensions:"tbsCertificate.extensions"}}}}}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for Certificate");this.tbs=b.result.tbsCertificate.valueBeforeDecode,"tbsCertificate.version"in b.result&&(this.version=b.result["tbsCertificate.version"].valueBlock.valueDec),this.serialNumber=b.result["tbsCertificate.serialNumber"],this.signature=new jn({schema:b.result["tbsCertificate.signature"]}),this.issuer=new Nr({schema:b.result["tbsCertificate.issuer"]}),this.notBefore=new rr({schema:b.result["tbsCertificate.notBefore"]}),this.notAfter=new rr({schema:b.result["tbsCertificate.notAfter"]}),this.subject=new Nr({schema:b.result["tbsCertificate.subject"]}),this.subjectPublicKeyInfo=new Sr({schema:b.result["tbsCertificate.subjectPublicKeyInfo"]}),"tbsCertificate.issuerUniqueID"in b.result&&(this.issuerUniqueID=b.result["tbsCertificate.issuerUniqueID"].valueBlock.valueHex),"tbsCertificate.subjectUniqueID"in b.result&&(this.subjectUniqueID=b.result["tbsCertificate.subjectUniqueID"].valueBlock.valueHex),"tbsCertificate.extensions"in b.result&&(this.extensions=Array.from(b.result["tbsCertificate.extensions"],M=>new Nn({schema:M}))),this.signatureAlgorithm=new jn({schema:b.result.signatureAlgorithm}),this.signatureValue=b.result.signatureValue}encodeTBS(){const h=[];return"version"in this&&this.version!==Di.defaultValues("version")&&h.push(new j({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new cn({value:this.version})]})),h.push(this.serialNumber),h.push(this.signature.toSchema()),h.push(this.issuer.toSchema()),h.push(new fn({value:[this.notBefore.toSchema(),this.notAfter.toSchema()]})),h.push(this.subject.toSchema()),h.push(this.subjectPublicKeyInfo.toSchema()),"issuerUniqueID"in this&&h.push(new it({optional:!0,idBlock:{tagClass:3,tagNumber:1},valueHex:this.issuerUniqueID})),"subjectUniqueID"in this&&h.push(new it({optional:!0,idBlock:{tagClass:3,tagNumber:2},valueHex:this.subjectUniqueID})),"extensions"in this&&h.push(new j({optional:!0,idBlock:{tagClass:3,tagNumber:3},value:[new fn({value:Array.from(this.extensions,b=>b.toSchema())})]})),new fn({value:h})}toSchema(h=!1){let b={};if(!1===h){if(0===this.tbs.length)return Di.schema().value[0];b=rt(this.tbs).result}else b=this.encodeTBS();return new fn({value:[b,this.signatureAlgorithm.toSchema(),this.signatureValue]})}toJSON(){const h={tbs:v(this.tbs,0,this.tbs.byteLength),serialNumber:this.serialNumber.toJSON(),signature:this.signature.toJSON(),issuer:this.issuer.toJSON(),notBefore:this.notBefore.toJSON(),notAfter:this.notAfter.toJSON(),subject:this.subject.toJSON(),subjectPublicKeyInfo:this.subjectPublicKeyInfo.toJSON(),signatureAlgorithm:this.signatureAlgorithm.toJSON(),signatureValue:this.signatureValue.toJSON()};return"version"in this&&this.version!==Di.defaultValues("version")&&(h.version=this.version),"issuerUniqueID"in this&&(h.issuerUniqueID=v(this.issuerUniqueID,0,this.issuerUniqueID.byteLength)),"subjectUniqueID"in this&&(h.subjectUniqueID=v(this.subjectUniqueID,0,this.subjectUniqueID.byteLength)),"extensions"in this&&(h.extensions=Array.from(this.extensions,b=>b.toJSON())),h}getPublicKey(h=null){return is().subtle.getPublicKey(this.subjectPublicKeyInfo,this.signatureAlgorithm,h)}getKeyHash(h="SHA-1"){const b=rs();return typeof b>"u"?Promise.reject("Unable to create WebCrypto object"):b.digest({name:h},new Uint8Array(this.subjectPublicKeyInfo.subjectPublicKey.valueBlock.valueHex))}sign(h,b="SHA-1"){if(typeof h>"u")return Promise.reject("Need to provide a private key for signing");let z,M=Promise.resolve();const ce=is();return M=M.then(()=>ce.subtle.getSignatureParameters(h,b)),M=M.then(Ce=>{z=Ce.parameters,this.signature=Ce.signatureAlgorithm,this.signatureAlgorithm=Ce.signatureAlgorithm}),M=M.then(()=>{this.tbs=this.encodeTBS().toBER(!1)}),M=M.then(()=>ce.subtle.signWithPrivateKey(this.tbs,h,z)),M=M.then(Ce=>{this.signatureValue=new ct({valueHex:Ce})}),M}verify(h=null){let b={};return null!==h?b=h.subjectPublicKeyInfo:this.issuer.isEqual(this.subject)&&(b=this.subjectPublicKeyInfo),b instanceof Sr?is().subtle.verifyWithPublicKey(this.tbs,this.signatureValue,b,this.signatureAlgorithm):Promise.reject("Please provide issuer certificate as a parameter")}}function Is(){if(typeof BigInt>"u")throw new Error("BigInt is not defined. Your environment doesn't implement BigInt.")}function ua(Ve){if(Ve.idBlock.isConstructed)for(let h=0;h<Ve.valueBlock.value.length;h++)ua(Ve.valueBlock.value[h])&&(Ve.lenBlock.isIndefiniteForm=!0);return!!Ve.lenBlock.isIndefiniteForm}function Xo(Ve){let h=0,b=0;for(let ce=0;ce<Ve.length;ce++)h+=Ve[ce].byteLength;const M=new ArrayBuffer(h),z=new Uint8Array(M);for(let ce=0;ce<Ve.length;ce++){const Ce=Ve[ce];z.set(new Uint8Array(Ce),b),b+=Ce.byteLength}return M}const Vr=[new Uint8Array([1])],ki="0123456789",$i="valueHex",Ro="isHexOnly",Jo="isConstructed",Da="isIndefiniteForm",Zo="optional",yl="primitiveSchema",hs="value",Ha="valueDate",Aa="valueDec",Tr=new ArrayBuffer(0);class go{constructor(){this.items=[]}write(h){this.items.push(h)}final(){return Xo(this.items)}}class Rs{constructor(h={}){this.blockLength=S(h,"blockLength",0),this.error=S(h,"error",""),this.warnings=S(h,"warnings",[]),this.valueBeforeDecode="valueBeforeDecode"in h?h.valueBeforeDecode.slice(0):Tr}static blockName(){return"baseBlock"}toJSON(){return{blockName:this.constructor.blockName(),blockLength:this.blockLength,error:this.error,warnings:this.warnings,valueBeforeDecode:v(this.valueBeforeDecode,0,this.valueBeforeDecode.byteLength)}}}const Ys=Ve=>class extends Ve{constructor(b={}){super(b),this.isHexOnly=S(b,Ro,!1),this.valueHex=$i in b?b.valueHex.slice(0):Tr}static blockName(){return"hexBlock"}fromBER(b,M,z){return!1===f(this,b,M,z)?-1:0===new Uint8Array(b,M,z).length?(this.warnings.push("Zero buffer length"),M):(this.valueHex=b.slice(M,M+z),this.blockLength=z,M+z)}toBER(b=!1){return!0!==this.isHexOnly?(this.error='Flag "isHexOnly" is not set, abort',Tr):!0===b?new ArrayBuffer(this.valueHex.byteLength):this.valueHex.slice(0)}toJSON(){let b={};try{b=super.toJSON()}catch{}return b.blockName=this.constructor.blockName(),b.isHexOnly=this.isHexOnly,b.valueHex=v(this.valueHex,0,this.valueHex.byteLength),b}};class Lo extends(Ys(Rs)){constructor(h={}){super(),"idBlock"in h?(this.isHexOnly=S(h.idBlock,Ro,!1),this.valueHex=S(h.idBlock,$i,Tr),this.tagClass=S(h.idBlock,"tagClass",-1),this.tagNumber=S(h.idBlock,"tagNumber",-1),this.isConstructed=S(h.idBlock,Jo,!1)):(this.tagClass=-1,this.tagNumber=-1,this.isConstructed=!1)}static blockName(){return"identificationBlock"}toBER(h=!1){let M,z,b=0;switch(this.tagClass){case 1:b|=0;break;case 2:b|=64;break;case 3:b|=128;break;case 4:b|=192;break;default:return this.error="Unknown tag class",Tr}if(this.isConstructed&&(b|=32),this.tagNumber<31&&!this.isHexOnly){if(M=new ArrayBuffer(1),z=new Uint8Array(M),!h){let ce=this.tagNumber;ce&=31,b|=ce,z[0]=b}return M}if(!1===this.isHexOnly){const ce=E(this.tagNumber,7),Ce=new Uint8Array(ce),He=ce.byteLength;if(M=new ArrayBuffer(He+1),z=new Uint8Array(M),z[0]=31|b,!h){for(let A=0;A<He-1;A++)z[A+1]=128|Ce[A];z[He]=Ce[He-1]}return M}if(M=new ArrayBuffer(this.valueHex.byteLength+1),z=new Uint8Array(M),z[0]=31|b,!1===h){const ce=new Uint8Array(this.valueHex);for(let Ce=0;Ce<ce.length-1;Ce++)z[Ce+1]=128|ce[Ce];z[this.valueHex.byteLength]=ce[ce.length-1]}return M}fromBER(h,b,M){if(!1===f(this,h,b,M))return-1;const z=new Uint8Array(h,b,M);if(0===z.length)return this.error="Zero buffer length",-1;switch(192&z[0]){case 0:this.tagClass=1;break;case 64:this.tagClass=2;break;case 128:this.tagClass=3;break;case 192:this.tagClass=4;break;default:return this.error="Unknown tag class",-1}this.isConstructed=!(32&~z[0]),this.isHexOnly=!1;const Ce=31&z[0];if(31!==Ce)this.tagNumber=Ce,this.blockLength=1;else{let He=1;this.valueHex=new ArrayBuffer(255);let A=255,V=new Uint8Array(this.valueHex);for(;128&z[He];){if(V[He-1]=127&z[He],He++,He>=z.length)return this.error="End of input reached before message was fully decoded",-1;if(He===A){A+=255;const be=new ArrayBuffer(A),Ge=new Uint8Array(be);for(let vt=0;vt<V.length;vt++)Ge[vt]=V[vt];this.valueHex=new ArrayBuffer(A),V=new Uint8Array(this.valueHex)}}this.blockLength=He+1,V[He-1]=127&z[He];const B=new ArrayBuffer(He),Z=new Uint8Array(B);for(let be=0;be<He;be++)Z[be]=V[be];this.valueHex=new ArrayBuffer(He),V=new Uint8Array(this.valueHex),V.set(Z),this.blockLength<=9?this.tagNumber=d(V,7):(this.isHexOnly=!0,this.warnings.push("Tag too long, represented as hex-coded"))}if(1===this.tagClass&&this.isConstructed)switch(this.tagNumber){case 1:case 2:case 5:case 6:case 9:case 13:case 14:case 23:case 24:case 31:case 32:case 33:case 34:return this.error="Constructed encoding used for primitive type",-1}return b+this.blockLength}toJSON(){let h={};try{h=super.toJSON()}catch{}return h.blockName=this.constructor.blockName(),h.tagClass=this.tagClass,h.tagNumber=this.tagNumber,h.isConstructed=this.isConstructed,h}}class So extends Rs{constructor(h={}){super(),"lenBlock"in h?(this.isIndefiniteForm=S(h.lenBlock,Da,!1),this.longFormUsed=S(h.lenBlock,"longFormUsed",!1),this.length=S(h.lenBlock,"length",0)):(this.isIndefiniteForm=!1,this.longFormUsed=!1,this.length=0)}static blockName(){return"lengthBlock"}fromBER(h,b,M){if(!1===f(this,h,b,M))return-1;const z=new Uint8Array(h,b,M);if(0===z.length)return this.error="Zero buffer length",-1;if(255===z[0])return this.error="Length block 0xFF is reserved by standard",-1;if(this.isIndefiniteForm=128===z[0],!0===this.isIndefiniteForm)return this.blockLength=1,b+this.blockLength;if(this.longFormUsed=!!(128&z[0]),!1===this.longFormUsed)return this.length=z[0],this.blockLength=1,b+this.blockLength;const ce=127&z[0];if(ce>8)return this.error="Too big integer",-1;if(ce+1>z.length)return this.error="End of input reached before message was fully decoded",-1;const Ce=new Uint8Array(ce);for(let He=0;He<ce;He++)Ce[He]=z[He+1];return 0===Ce[ce-1]&&this.warnings.push("Needlessly long encoded length"),this.length=d(Ce,8),this.longFormUsed&&this.length<=127&&this.warnings.push("Unnecessary usage of long length form"),this.blockLength=ce+1,b+this.blockLength}toBER(h=!1){let b,M;if(this.length>127&&(this.longFormUsed=!0),this.isIndefiniteForm)return b=new ArrayBuffer(1),!1===h&&(M=new Uint8Array(b),M[0]=128),b;if(!0===this.longFormUsed){const z=E(this.length,8);if(z.byteLength>127)return this.error="Too big length",Tr;if(b=new ArrayBuffer(z.byteLength+1),!0===h)return b;const ce=new Uint8Array(z);M=new Uint8Array(b),M[0]=128|z.byteLength;for(let Ce=0;Ce<z.byteLength;Ce++)M[Ce+1]=ce[Ce];return b}return b=new ArrayBuffer(1),!1===h&&(M=new Uint8Array(b),M[0]=this.length),b}toJSON(){let h={};try{h=super.toJSON()}catch{}return h.blockName=this.constructor.blockName(),h.isIndefiniteForm=this.isIndefiniteForm,h.longFormUsed=this.longFormUsed,h.length=this.length,h}}class Kr extends Rs{constructor(h={}){super(h)}static blockName(){return"valueBlock"}fromBER(h,b,M){throw TypeError('User need to make a specific function in a class which extends "ValueBlock"')}toBER(h=!1){throw TypeError('User need to make a specific function in a class which extends "ValueBlock"')}}class fs extends Rs{constructor(h={},b=Kr){super(h),"name"in h&&(this.name=h.name),Zo in h&&(this.optional=h.optional),yl in h&&(this.primitiveSchema=h.primitiveSchema),this.idBlock=new Lo(h),this.lenBlock=new So(h),this.valueBlock=new b(h)}static blockName(){return"BaseBlock"}fromBER(h,b,M){const z=this.valueBlock.fromBER(h,b,!0===this.lenBlock.isIndefiniteForm?M:this.lenBlock.length);return-1===z?(this.error=this.valueBlock.error,z):(0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),z)}toBER(h=!1,b){const M=b||new go;b||ua(this);const z=this.idBlock.toBER(h);if(M.write(z),this.lenBlock.isIndefiniteForm)M.write(new Uint8Array([128]).buffer),this.valueBlock.toBER(h,M),M.write(new ArrayBuffer(2));else{const ce=this.valueBlock.toBER(!0);this.lenBlock.length=ce.byteLength;const Ce=this.lenBlock.toBER(h);M.write(Ce);const He=h?new ArrayBuffer(this.lenBlock.length):this.valueBlock.toBER(h);M.write(He,M)}if(!b)return M.final()}toJSON(){let h={};try{h=super.toJSON()}catch{}return h.idBlock=this.idBlock.toJSON(),h.lenBlock=this.lenBlock.toJSON(),h.valueBlock=this.valueBlock.toJSON(),"name"in this&&(h.name=this.name),Zo in this&&(h.optional=this.optional),yl in this&&(h.primitiveSchema=this.primitiveSchema.toJSON()),h}toString(){return`${this.constructor.blockName()} : ${v(this.valueBlock.valueHex)}`}}class Ya extends Kr{constructor(h={}){super(h),this.valueHex=$i in h?h.valueHex.slice(0):Tr,this.isHexOnly=S(h,Ro,!0)}fromBER(h,b,M){if(!1===f(this,h,b,M))return-1;const z=new Uint8Array(h,b,M);if(0===z.length)return this.warnings.push("Zero buffer length"),b;this.valueHex=new ArrayBuffer(z.length);const ce=new Uint8Array(this.valueHex);for(let Ce=0;Ce<z.length;Ce++)ce[Ce]=z[Ce];return this.blockLength=M,b+M}toBER(h=!1){return this.valueHex.slice(0)}static blockName(){return"PrimitiveValueBlock"}toJSON(){let h={};try{h=super.toJSON()}catch{}return h.valueHex=v(this.valueHex,0,this.valueHex.byteLength),h.isHexOnly=this.isHexOnly,h}}class da extends fs{constructor(h={}){super(h,Ya),this.idBlock.isConstructed=!1}static blockName(){return"PRIMITIVE"}}class lo extends Kr{constructor(h={}){super(h),this.value=S(h,hs,[]),this.isIndefiniteForm=S(h,Da,!1)}fromBER(h,b,M){const z=b,ce=M;if(!1===f(this,h,b,M))return-1;if(0===new Uint8Array(h,b,M).length)return this.warnings.push("Zero buffer length"),b;let A=b;for(;(!0===this.isIndefiniteForm?1:M)>0;){const V=Ar(h,A,M);if(-1===V.offset)return this.error=V.result.error,this.warnings.concat(V.result.warnings),-1;if(A=V.offset,this.blockLength+=V.result.blockLength,M-=V.result.blockLength,this.value.push(V.result),!0===this.isIndefiniteForm&&V.result.constructor.blockName()===bs.blockName())break}return!0===this.isIndefiniteForm&&(this.value[this.value.length-1].constructor.blockName()===bs.blockName()?this.value.pop():this.warnings.push("No EndOfContent block encoded")),this.valueBeforeDecode=h.slice(z,z+ce),A}toBER(h=!1,b){const M=b||new go;for(let z=0;z<this.value.length;z++)this.value[z].toBER(h,M);if(!b)return M.final()}static blockName(){return"ConstructedValueBlock"}toJSON(){let h={};try{h=super.toJSON()}catch{}h.isIndefiniteForm=this.isIndefiniteForm,h.value=[];for(let b=0;b<this.value.length;b++)h.value.push(this.value[b].toJSON());return h}}class Ms extends fs{constructor(h={}){super(h,lo),this.idBlock.isConstructed=!0}static blockName(){return"CONSTRUCTED"}fromBER(h,b,M){this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;const z=this.valueBlock.fromBER(h,b,!0===this.lenBlock.isIndefiniteForm?M:this.lenBlock.length);return-1===z?(this.error=this.valueBlock.error,z):(0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),z)}toString(){const h=[];for(const M of this.valueBlock.value)h.push(M.toString().split("\n").map(z=>`  ${z}`).join("\n"));const b=3===this.idBlock.tagClass?`[${this.idBlock.tagNumber}]`:this.constructor.blockName();return h.length?`${b} :\n${h.join("\n")}`:`${b} :`}}class Ai extends Kr{constructor(h={}){super(h)}fromBER(h,b,M){return b}toBER(h=!1){return Tr}static blockName(){return"EndOfContentValueBlock"}}class bs extends fs{constructor(h={}){super(h,Ai),this.idBlock.tagClass=1,this.idBlock.tagNumber=0}static blockName(){return"EndOfContent"}}class ne extends Kr{constructor(h={}){super(h),this.value=S(h,hs,!1),this.isHexOnly=S(h,Ro,!1),$i in h?this.valueHex=h.valueHex.slice(0):(this.valueHex=new ArrayBuffer(1),!0===this.value&&(new Uint8Array(this.valueHex)[0]=255))}fromBER(h,b,M){if(!1===f(this,h,b,M))return-1;const z=new Uint8Array(h,b,M);M>1&&this.warnings.push("Boolean value encoded in more then 1 octet"),this.isHexOnly=!0,this.valueHex=new ArrayBuffer(z.length);const ce=new Uint8Array(this.valueHex);for(let Ce=0;Ce<z.length;Ce++)ce[Ce]=z[Ce];return this.value=0!==w.call(this),this.blockLength=M,b+M}toBER(h=!1){return this.valueHex}static blockName(){return"BooleanValueBlock"}toJSON(){let h={};try{h=super.toJSON()}catch{}return h.value=this.value,h.isHexOnly=this.isHexOnly,h.valueHex=v(this.valueHex,0,this.valueHex.byteLength),h}}class Ke extends fs{constructor(h={}){super(h,ne),this.idBlock.tagClass=1,this.idBlock.tagNumber=1}static blockName(){return"BOOLEAN"}toString(){return`${this.constructor.blockName()} : ${this.valueBlock.value}`}}class fe extends Ms{constructor(h={}){super(h),this.idBlock.tagClass=1,this.idBlock.tagNumber=16}static blockName(){return"SEQUENCE"}}class Pe extends Ms{constructor(h={}){super(h),this.idBlock.tagClass=1,this.idBlock.tagNumber=17}static blockName(){return"SET"}}class Dt extends fs{constructor(h={}){super(h,Rs),this.idBlock.tagClass=1,this.idBlock.tagNumber=5}static blockName(){return"NULL"}fromBER(h,b,M){return this.lenBlock.length>0&&this.warnings.push("Non-zero length of value block for Null type"),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),this.blockLength+=M,b+M>h.byteLength?(this.error="End of input reached before message was fully decoded (inconsistent offset and length values)",-1):b+M}toBER(h=!1,b){const M=new ArrayBuffer(2);if(!h){const z=new Uint8Array(M);z[0]=5,z[1]=0}return b&&b.write(M),M}toString(){return`${this.constructor.blockName()}`}}class hn extends(Ys(lo)){constructor(h={}){super(h),this.isConstructed=S(h,Jo,!1)}fromBER(h,b,M){let z=0;if(!0===this.isConstructed){if(this.isHexOnly=!1,z=lo.prototype.fromBER.call(this,h,b,M),-1===z)return z;for(let ce=0;ce<this.value.length;ce++){const Ce=this.value[ce].constructor.blockName();if(Ce===bs.blockName()){if(!0===this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, OCTET STRING may consists of OCTET STRINGs only",-1}if(Ce!==En.blockName())return this.error="OCTET STRING may consists of OCTET STRINGs only",-1}}else this.isHexOnly=!0,z=super.fromBER(h,b,M),this.blockLength=M;return z}toBER(h=!1,b){if(!0===this.isConstructed)return lo.prototype.toBER.call(this,h,b);let M=new ArrayBuffer(this.valueHex.byteLength);return!0===h||0===this.valueHex.byteLength||(M=this.valueHex.slice(0)),M}static blockName(){return"OctetStringValueBlock"}toJSON(){let h={};try{h=super.toJSON()}catch{}return h.isConstructed=this.isConstructed,h.isHexOnly=this.isHexOnly,h.valueHex=v(this.valueHex,0,this.valueHex.byteLength),h}}class En extends fs{constructor(h={}){super(h,hn),this.idBlock.tagClass=1,this.idBlock.tagNumber=4}fromBER(h,b,M){if(this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,0===M)return 0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),b;if(!this.valueBlock.isConstructed){const z=h.slice(b,b+M);try{const ce=Ci(z);-1!==ce.offset&&ce.offset===M&&(this.valueBlock.value=[ce.result])}catch{}}return super.fromBER(h,b,M)}static blockName(){return"OCTET STRING"}isEqual(h){return!(!(h instanceof En)||JSON.stringify(this)!==JSON.stringify(h))}toString(){return this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length?Ms.prototype.toString.call(this):`${this.constructor.blockName()} : ${v(this.valueBlock.valueHex)}`}}class qn extends(Ys(lo)){constructor(h={}){super(h),this.unusedBits=S(h,"unusedBits",0),this.isConstructed=S(h,Jo,!1),this.blockLength=this.valueHex.byteLength}fromBER(h,b,M){if(0===M)return b;let z=-1;if(!0===this.isConstructed){if(z=lo.prototype.fromBER.call(this,h,b,M),-1===z)return z;for(let He=0;He<this.value.length;He++){const A=this.value[He].constructor.blockName();if(A===bs.blockName()){if(!0===this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, BIT STRING may consists of BIT STRINGs only",-1}if(A!==dr.blockName())return this.error="BIT STRING may consists of BIT STRINGs only",-1;if(this.unusedBits>0&&this.value[He].valueBlock.unusedBits>0)return this.error='Using of "unused bits" inside constructive BIT STRING allowed for least one only',-1;if(this.unusedBits=this.value[He].valueBlock.unusedBits,this.unusedBits>7)return this.error="Unused bits for BitString must be in range 0-7",-1}return z}if(!1===f(this,h,b,M))return-1;const ce=new Uint8Array(h,b,M);if(this.unusedBits=ce[0],this.unusedBits>7)return this.error="Unused bits for BitString must be in range 0-7",-1;if(!this.unusedBits){const He=h.slice(b+1,b+M);try{const A=Ci(He);-1!==A.offset&&A.offset===M-1&&(this.value=[A.result])}catch{}}this.valueHex=new ArrayBuffer(ce.length-1);const Ce=new Uint8Array(this.valueHex);for(let He=0;He<M-1;He++)Ce[He]=ce[He+1];return this.blockLength=ce.length,b+M}toBER(h=!1,b){if(!0===this.isConstructed)return lo.prototype.toBER.call(this,h,b);if(!0===h)return new ArrayBuffer(this.valueHex.byteLength+1);if(0===this.valueHex.byteLength)return Tr;const M=new Uint8Array(this.valueHex),z=new ArrayBuffer(this.valueHex.byteLength+1),ce=new Uint8Array(z);ce[0]=this.unusedBits;for(let Ce=0;Ce<this.valueHex.byteLength;Ce++)ce[Ce+1]=M[Ce];return z}static blockName(){return"BitStringValueBlock"}toJSON(){let h={};try{h=super.toJSON()}catch{}return h.unusedBits=this.unusedBits,h.isConstructed=this.isConstructed,h.isHexOnly=this.isHexOnly,h.valueHex=v(this.valueHex,0,this.valueHex.byteLength),h}}class dr extends fs{constructor(h={}){super(h,qn),this.idBlock.tagClass=1,this.idBlock.tagNumber=3}static blockName(){return"BIT STRING"}fromBER(h,b,M){return 0===M?b:(this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,super.fromBER(h,b,M))}isEqual(h){return!(!(h instanceof dr)||JSON.stringify(this)!==JSON.stringify(h))}toString(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length)return Ms.prototype.toString.call(this);{const h=[],b=new Uint8Array(this.valueBlock.valueHex);for(const M of b)h.push(M.toString(2).padStart(8,"0"));return`${this.constructor.blockName()} : ${h.join("")}`}}}class sr extends(Ys(Kr)){constructor(h={}){super(h),hs in h&&(this.valueDec=h.value)}set valueHex(h){this._valueHex=h.slice(0),h.byteLength>=4?(this.warnings.push("Too big Integer for decoding, hex only"),this.isHexOnly=!0,this._valueDec=0):(this.isHexOnly=!1,h.byteLength>0&&(this._valueDec=w.call(this)))}get valueHex(){return this._valueHex}set valueDec(h){this._valueDec=h,this.isHexOnly=!1,this._valueHex=C(h)}get valueDec(){return this._valueDec}fromDER(h,b,M,z=0){const ce=this.fromBER(h,b,M);if(-1===ce)return ce;const Ce=new Uint8Array(this._valueHex);if(0===Ce[0]&&128&Ce[1]){const He=new ArrayBuffer(this._valueHex.byteLength-1);new Uint8Array(He).set(new Uint8Array(this._valueHex,1,this._valueHex.byteLength-1)),this._valueHex=He.slice(0)}else if(0!==z&&this._valueHex.byteLength<z){z-this._valueHex.byteLength>1&&(z=this._valueHex.byteLength+1);const He=new ArrayBuffer(z);new Uint8Array(He).set(Ce,z-this._valueHex.byteLength),this._valueHex=He.slice(0)}return ce}toDER(h=!1){const b=new Uint8Array(this._valueHex);switch(!0){case!!(128&b[0]):{const M=new ArrayBuffer(this._valueHex.byteLength+1),z=new Uint8Array(M);z[0]=0,z.set(b,1),this._valueHex=M.slice(0)}break;case 0===b[0]&&!(128&b[1]):{const M=new ArrayBuffer(this._valueHex.byteLength-1);new Uint8Array(M).set(new Uint8Array(this._valueHex,1,this._valueHex.byteLength-1)),this._valueHex=M.slice(0)}}return this.toBER(h)}fromBER(h,b,M){const z=super.fromBER(h,b,M);return-1===z?z:(this.blockLength=M,b+M)}toBER(h=!1){return this.valueHex.slice(0)}static blockName(){return"IntegerValueBlock"}toJSON(){let h={};try{h=super.toJSON()}catch{}return h.valueDec=this.valueDec,h}toString(){function h(Z,be){const Ge=new Uint8Array([0]);let vt=new Uint8Array(Z),sn=new Uint8Array(be),qt=vt.slice(0);const Ln=qt.length-1;let Oi=sn.slice(0);const Pi=Oi.length-1;let ur=0,xs=0;for(let Ma=Pi<Ln?Ln:Pi;Ma>=0;Ma--,xs++)ur=1==xs<Oi.length?qt[Ln-xs]+Oi[Pi-xs]+Ge[0]:qt[Ln-xs]+Ge[0],Ge[0]=ur/10,1==xs>=qt.length?qt=F(new Uint8Array([ur%10]),qt):qt[Ln-xs]=ur%10;return Ge[0]>0&&(qt=F(Ge,qt)),qt.slice(0)}function b(Z){if(Z>=Vr.length)for(let be=Vr.length;be<=Z;be++){const Ge=new Uint8Array([0]);let vt=Vr[be-1].slice(0);for(let sn=vt.length-1;sn>=0;sn--){const qt=new Uint8Array([(vt[sn]<<1)+Ge[0]]);Ge[0]=qt[0]/10,vt[sn]=qt[0]%10}Ge[0]>0&&(vt=F(Ge,vt)),Vr.push(vt)}return Vr[Z]}function M(Z,be){let Ge=0,vt=new Uint8Array(Z),sn=new Uint8Array(be),qt=vt.slice(0);const Ln=qt.length-1;let Oi=sn.slice(0);const Pi=Oi.length-1;let ur,$s=0;for(let xs=Pi;xs>=0;xs--,$s++)ur=qt[Ln-$s]-Oi[Pi-$s]-Ge,1==ur<0?(Ge=1,qt[Ln-$s]=ur+10):(Ge=0,qt[Ln-$s]=ur);if(Ge>0)for(let xs=Ln-Pi+1;xs>=0;xs--,$s++){if(ur=qt[Ln-$s]-Ge,!(ur<0)){Ge=0,qt[Ln-$s]=ur;break}Ge=1,qt[Ln-$s]=ur+10}return qt.slice()}const z=8*this._valueHex.byteLength-1;let He,ce=new Uint8Array(8*this._valueHex.byteLength/3),Ce=0;const A=new Uint8Array(this._valueHex);let V="",B=!1;for(let Z=this._valueHex.byteLength-1;Z>=0;Z--){He=A[Z];for(let be=0;be<8;be++)1&~He||(Ce===z?(ce=M(b(Ce),ce),V="-"):ce=h(ce,b(Ce))),Ce++,He>>=1}for(let Z=0;Z<ce.length;Z++)ce[Z]&&(B=!0),B&&(V+=ki.charAt(ce[Z]));return!1===B&&(V+=ki.charAt(0)),V}}class Yi extends fs{constructor(h={}){super(h,sr),this.idBlock.tagClass=1,this.idBlock.tagNumber=2}static blockName(){return"INTEGER"}isEqual(h){return h instanceof Yi?this.valueBlock.isHexOnly&&h.valueBlock.isHexOnly?R(this.valueBlock.valueHex,h.valueBlock.valueHex):this.valueBlock.isHexOnly===h.valueBlock.isHexOnly&&this.valueBlock.valueDec===h.valueBlock.valueDec:h instanceof ArrayBuffer&&R(this.valueBlock.valueHex,h)}convertToDER(){const h=new Yi({valueHex:this.valueBlock.valueHex});return h.valueBlock.toDER(),h}convertFromDER(){const h=this.valueBlock.valueHex.byteLength%2?this.valueBlock.valueHex.byteLength+1:this.valueBlock.valueHex.byteLength,b=new Yi({valueHex:this.valueBlock.valueHex});return b.valueBlock.fromDER(b.valueBlock.valueHex,0,b.valueBlock.valueHex.byteLength,h),b}toString(){Is();const h=v(this.valueBlock.valueHex),b=BigInt(`0x${h}`);return`${this.constructor.blockName()} : ${b.toString()}`}}class Ui extends Yi{constructor(h={}){super(h),this.idBlock.tagClass=1,this.idBlock.tagNumber=10}static blockName(){return"ENUMERATED"}}class ii extends(Ys(Rs)){constructor(h={}){super(h),this.valueDec=S(h,Aa,-1),this.isFirstSid=S(h,"isFirstSid",!1)}static blockName(){return"sidBlock"}fromBER(h,b,M){if(0===M)return b;if(!1===f(this,h,b,M))return-1;const z=new Uint8Array(h,b,M);this.valueHex=new ArrayBuffer(M);let ce=new Uint8Array(this.valueHex);for(let A=0;A<M&&(ce[A]=127&z[A],this.blockLength++,128&z[A]);A++);const Ce=new ArrayBuffer(this.blockLength),He=new Uint8Array(Ce);for(let A=0;A<this.blockLength;A++)He[A]=ce[A];return this.valueHex=Ce.slice(0),ce=new Uint8Array(this.valueHex),128&z[this.blockLength-1]?(this.error="End of input reached before message was fully decoded",-1):(0===ce[0]&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=d(ce,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),b+this.blockLength)}set valueBigInt(h){Is();let b=BigInt(h).toString(2);for(;b.length%7;)b="0"+b;const M=new Uint8Array(b.length/7);for(let z=0;z<M.length;z++)M[z]=parseInt(b.slice(7*z,7*z+7),2)+(z+1<M.length?128:0);this.fromBER(M.buffer,0,M.length)}toBER(h=!1){let b,M;if(this.isHexOnly){if(!0===h)return new ArrayBuffer(this.valueHex.byteLength);const ce=new Uint8Array(this.valueHex);b=new ArrayBuffer(this.blockLength),M=new Uint8Array(b);for(let Ce=0;Ce<this.blockLength-1;Ce++)M[Ce]=128|ce[Ce];return M[this.blockLength-1]=ce[this.blockLength-1],b}const z=E(this.valueDec,7);if(0===z.byteLength)return this.error="Error during encoding SID value",Tr;if(b=new ArrayBuffer(z.byteLength),!1===h){const ce=new Uint8Array(z);M=new Uint8Array(b);for(let Ce=0;Ce<z.byteLength-1;Ce++)M[Ce]=128|ce[Ce];M[z.byteLength-1]=ce[z.byteLength-1]}return b}toString(){let h="";if(!0===this.isHexOnly)h=v(this.valueHex,0,this.valueHex.byteLength);else if(this.isFirstSid){let b=this.valueDec;this.valueDec<=39?h="0.":this.valueDec<=79?(h="1.",b-=40):(h="2.",b-=80),h+=b.toString()}else h=this.valueDec.toString();return h}toJSON(){let h={};try{h=super.toJSON()}catch{}return h.valueDec=this.valueDec,h.isFirstSid=this.isFirstSid,h}}class Xi extends Kr{constructor(h={}){super(h),this.fromString(S(h,hs,""))}fromBER(h,b,M){let z=b;for(;M>0;){const ce=new ii;if(z=ce.fromBER(h,z,M),-1===z)return this.blockLength=0,this.error=ce.error,z;0===this.value.length&&(ce.isFirstSid=!0),this.blockLength+=ce.blockLength,M-=ce.blockLength,this.value.push(ce)}return z}toBER(h=!1){const b=[];for(let M=0;M<this.value.length;M++){const z=this.value[M].toBER(h);if(0===z.byteLength)return this.error=this.value[M].error,Tr;b.push(z)}return Xo(b)}fromString(h){this.value=[];let b=0,M=0,z="",ce=!1;do{if(M=h.indexOf(".",b),z=-1===M?h.substr(b):h.substr(b,M-b),b=M+1,ce){const Ce=this.value[0];let He=0;switch(Ce.valueDec){case 0:break;case 1:He=40;break;case 2:He=80;break;default:return this.value=[],!1}const A=parseInt(z,10);if(isNaN(A))return!0;Ce.valueDec=A+He,ce=!1}else{const Ce=new ii;if(z>Number.MAX_SAFE_INTEGER){Is();const He=BigInt(z);Ce.valueBigInt=He}else if(Ce.valueDec=parseInt(z,10),isNaN(Ce.valueDec))return!0;0===this.value.length&&(Ce.isFirstSid=!0,ce=!0),this.value.push(Ce)}}while(-1!==M);return!0}toString(){let h="",b=!1;for(let M=0;M<this.value.length;M++){b=this.value[M].isHexOnly;let z=this.value[M].toString();0!==M&&(h=`${h}.`),b?(z=`{${z}}`,this.value[M].isFirstSid?h=`2.{${z} - 80}`:h+=z):h+=z}return h}static blockName(){return"ObjectIdentifierValueBlock"}toJSON(){let h={};try{h=super.toJSON()}catch{}h.value=this.toString(),h.sidArray=[];for(let b=0;b<this.value.length;b++)h.sidArray.push(this.value[b].toJSON());return h}}class cr extends fs{constructor(h={}){super(h,Xi),this.idBlock.tagClass=1,this.idBlock.tagNumber=6}static blockName(){return"OBJECT IDENTIFIER"}toString(){return`${this.constructor.blockName()} : ${this.valueBlock.toString()}`}}class ye extends(Ys(Rs)){constructor(h={}){super(h),this.isHexOnly=!0,this.value=""}static blockName(){return"Utf8StringValueBlock"}toJSON(){let h={};try{h=super.toJSON()}catch{}return h.value=this.value,h}}class P extends fs{constructor(h={}){super(h,ye),hs in h&&this.fromString(h.value),this.idBlock.tagClass=1,this.idBlock.tagNumber=12}static blockName(){return"UTF8String"}fromBER(h,b,M){const z=this.valueBlock.fromBER(h,b,!0===this.lenBlock.isIndefiniteForm?M:this.lenBlock.length);return-1===z?(this.error=this.valueBlock.error,z):(this.fromBuffer(this.valueBlock.valueHex),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),z)}fromBuffer(h){this.valueBlock.value=String.fromCharCode.apply(null,new Uint8Array(h));try{this.valueBlock.value=decodeURIComponent(escape(this.valueBlock.value))}catch(b){this.warnings.push(`Error during "decodeURIComponent": ${b}, using raw string`)}}fromString(h){const b=unescape(encodeURIComponent(h)),M=b.length;this.valueBlock.valueHex=new ArrayBuffer(M);const z=new Uint8Array(this.valueBlock.valueHex);for(let ce=0;ce<M;ce++)z[ce]=b.charCodeAt(ce);this.valueBlock.value=h}toString(){return`${this.constructor.blockName()} : ${this.valueBlock.value}`}}class pe extends(Ys(Rs)){constructor(h={}){super(h),this.valueDec=S(h,Aa,-1)}static blockName(){return"relativeSidBlock"}fromBER(h,b,M){if(0===M)return b;if(!1===f(this,h,b,M))return-1;const z=new Uint8Array(h,b,M);this.valueHex=new ArrayBuffer(M);let ce=new Uint8Array(this.valueHex);for(let A=0;A<M&&(ce[A]=127&z[A],this.blockLength++,128&z[A]);A++);const Ce=new ArrayBuffer(this.blockLength),He=new Uint8Array(Ce);for(let A=0;A<this.blockLength;A++)He[A]=ce[A];return this.valueHex=Ce.slice(0),ce=new Uint8Array(this.valueHex),128&z[this.blockLength-1]?(this.error="End of input reached before message was fully decoded",-1):(0===ce[0]&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=d(ce,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),b+this.blockLength)}toBER(h=!1){let b,M;if(this.isHexOnly){if(!0===h)return new ArrayBuffer(this.valueHex.byteLength);const ce=new Uint8Array(this.valueHex);b=new ArrayBuffer(this.blockLength),M=new Uint8Array(b);for(let Ce=0;Ce<this.blockLength-1;Ce++)M[Ce]=128|ce[Ce];return M[this.blockLength-1]=ce[this.blockLength-1],b}const z=E(this.valueDec,7);if(0===z.byteLength)return this.error="Error during encoding SID value",Tr;if(b=new ArrayBuffer(z.byteLength),!1===h){const ce=new Uint8Array(z);M=new Uint8Array(b);for(let Ce=0;Ce<z.byteLength-1;Ce++)M[Ce]=128|ce[Ce];M[z.byteLength-1]=ce[z.byteLength-1]}return b}toString(){let h="";return h=!0===this.isHexOnly?v(this.valueHex,0,this.valueHex.byteLength):this.valueDec.toString(),h}toJSON(){let h={};try{h=super.toJSON()}catch{}return h.valueDec=this.valueDec,h}}class ke extends Kr{constructor(h={}){super(h),this.fromString(S(h,hs,""))}fromBER(h,b,M){let z=b;for(;M>0;){const ce=new pe;if(z=ce.fromBER(h,z,M),-1===z)return this.blockLength=0,this.error=ce.error,z;this.blockLength+=ce.blockLength,M-=ce.blockLength,this.value.push(ce)}return z}toBER(h=!1){let b=[];for(let M=0;M<this.value.length;M++){const z=this.value[M].toBER(h);if(0===z.byteLength)return this.error=this.value[M].error,Tr;b.push(z)}return Xo(b)}fromString(h){this.value=[];let b=0,M=0,z="";do{M=h.indexOf(".",b),z=-1===M?h.substr(b):h.substr(b,M-b),b=M+1;const ce=new pe;if(ce.valueDec=parseInt(z,10),isNaN(ce.valueDec))return!0;this.value.push(ce)}while(-1!==M);return!0}toString(){let h="",b=!1;for(let M=0;M<this.value.length;M++){b=this.value[M].isHexOnly;let z=this.value[M].toString();0!==M&&(h=`${h}.`),b&&(z=`{${z}}`),h+=z}return h}static blockName(){return"RelativeObjectIdentifierValueBlock"}toJSON(){let h={};try{h=super.toJSON()}catch{}h.value=this.toString(),h.sidArray=[];for(let b=0;b<this.value.length;b++)h.sidArray.push(this.value[b].toJSON());return h}}class ot extends fs{constructor(h={}){super(h,ke),this.idBlock.tagClass=1,this.idBlock.tagNumber=13}static blockName(){return"RelativeObjectIdentifier"}}class Mt extends(Ys(Rs)){constructor(h={}){super(h),this.isHexOnly=!0,this.value=""}static blockName(){return"BmpStringValueBlock"}toJSON(){let h={};try{h=super.toJSON()}catch{}return h.value=this.value,h}}class Ut extends fs{constructor(h={}){super(h,Mt),hs in h&&this.fromString(h.value),this.idBlock.tagClass=1,this.idBlock.tagNumber=30}static blockName(){return"BMPString"}fromBER(h,b,M){const z=this.valueBlock.fromBER(h,b,!0===this.lenBlock.isIndefiniteForm?M:this.lenBlock.length);return-1===z?(this.error=this.valueBlock.error,z):(this.fromBuffer(this.valueBlock.valueHex),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),z)}fromBuffer(h){const b=h.slice(0),M=new Uint8Array(b);for(let z=0;z<M.length;z+=2){const ce=M[z];M[z]=M[z+1],M[z+1]=ce}this.valueBlock.value=String.fromCharCode.apply(null,new Uint16Array(b))}fromString(h){const b=h.length;this.valueBlock.valueHex=new ArrayBuffer(2*b);const M=new Uint8Array(this.valueBlock.valueHex);for(let z=0;z<b;z++){const ce=E(h.charCodeAt(z),8),Ce=new Uint8Array(ce);if(Ce.length>2)continue;const He=2-Ce.length;for(let A=Ce.length-1;A>=0;A--)M[2*z+A+He]=Ce[A]}this.valueBlock.value=h}toString(){return`${this.constructor.blockName()} : ${this.valueBlock.value}`}}class Zt extends(Ys(Rs)){constructor(h={}){super(h),this.isHexOnly=!0,this.value=""}static blockName(){return"UniversalStringValueBlock"}toJSON(){let h={};try{h=super.toJSON()}catch{}return h.value=this.value,h}}class rn extends fs{constructor(h={}){super(h,Zt),hs in h&&this.fromString(h.value),this.idBlock.tagClass=1,this.idBlock.tagNumber=28}static blockName(){return"UniversalString"}fromBER(h,b,M){const z=this.valueBlock.fromBER(h,b,!0===this.lenBlock.isIndefiniteForm?M:this.lenBlock.length);return-1===z?(this.error=this.valueBlock.error,z):(this.fromBuffer(this.valueBlock.valueHex),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),z)}fromBuffer(h){const b=h.slice(0),M=new Uint8Array(b);for(let z=0;z<M.length;z+=4)M[z]=M[z+3],M[z+1]=M[z+2],M[z+2]=0,M[z+3]=0;this.valueBlock.value=String.fromCharCode.apply(null,new Uint32Array(b))}fromString(h){const b=h.length;this.valueBlock.valueHex=new ArrayBuffer(4*b);const M=new Uint8Array(this.valueBlock.valueHex);for(let z=0;z<b;z++){const ce=E(h.charCodeAt(z),8),Ce=new Uint8Array(ce);if(Ce.length>4)continue;const He=4-Ce.length;for(let A=Ce.length-1;A>=0;A--)M[4*z+A+He]=Ce[A]}this.valueBlock.value=h}toString(){return`${this.constructor.blockName()} : ${this.valueBlock.value}`}}class bn extends(Ys(Rs)){constructor(h={}){super(h),this.value="",this.isHexOnly=!0}static blockName(){return"SimpleStringValueBlock"}toJSON(){let h={};try{h=super.toJSON()}catch{}return h.value=this.value,h}}class ei extends fs{constructor(h={}){super(h,bn),hs in h&&this.fromString(h.value)}static blockName(){return"SIMPLESTRING"}fromBER(h,b,M){const z=this.valueBlock.fromBER(h,b,!0===this.lenBlock.isIndefiniteForm?M:this.lenBlock.length);return-1===z?(this.error=this.valueBlock.error,z):(this.fromBuffer(this.valueBlock.valueHex),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),z)}fromBuffer(h){this.valueBlock.value=String.fromCharCode.apply(null,new Uint8Array(h))}fromString(h){const b=h.length;this.valueBlock.valueHex=new ArrayBuffer(b);const M=new Uint8Array(this.valueBlock.valueHex);for(let z=0;z<b;z++)M[z]=h.charCodeAt(z);this.valueBlock.value=h}toString(){return`${this.constructor.blockName()} : ${this.valueBlock.value}`}}class Vn extends ei{constructor(h={}){super(h),this.idBlock.tagClass=1,this.idBlock.tagNumber=18}static blockName(){return"NumericString"}}class _r extends ei{constructor(h={}){super(h),this.idBlock.tagClass=1,this.idBlock.tagNumber=19}static blockName(){return"PrintableString"}}class mi extends ei{constructor(h={}){super(h),this.idBlock.tagClass=1,this.idBlock.tagNumber=20}static blockName(){return"TeletexString"}}class jr extends ei{constructor(h={}){super(h),this.idBlock.tagClass=1,this.idBlock.tagNumber=21}static blockName(){return"VideotexString"}}class Ir extends ei{constructor(h={}){super(h),this.idBlock.tagClass=1,this.idBlock.tagNumber=22}static blockName(){return"IA5String"}}class Cs extends ei{constructor(h={}){super(h),this.idBlock.tagClass=1,this.idBlock.tagNumber=25}static blockName(){return"GraphicString"}}class Hi extends ei{constructor(h={}){super(h),this.idBlock.tagClass=1,this.idBlock.tagNumber=26}static blockName(){return"VisibleString"}}class as extends ei{constructor(h={}){super(h),this.idBlock.tagClass=1,this.idBlock.tagNumber=27}static blockName(){return"GeneralString"}}class Mo extends ei{constructor(h={}){super(h),this.idBlock.tagClass=1,this.idBlock.tagNumber=29}static blockName(){return"CharacterString"}}class ha extends Hi{constructor(h={}){if(super(h),this.year=0,this.month=0,this.day=0,this.hour=0,this.minute=0,this.second=0,hs in h){this.fromString(h.value),this.valueBlock.valueHex=new ArrayBuffer(h.value.length);const b=new Uint8Array(this.valueBlock.valueHex);for(let M=0;M<h.value.length;M++)b[M]=h.value.charCodeAt(M)}Ha in h&&(this.fromDate(h.valueDate),this.valueBlock.valueHex=this.toBuffer()),this.idBlock.tagClass=1,this.idBlock.tagNumber=23}fromBER(h,b,M){const z=this.valueBlock.fromBER(h,b,!0===this.lenBlock.isIndefiniteForm?M:this.lenBlock.length);return-1===z?(this.error=this.valueBlock.error,z):(this.fromBuffer(this.valueBlock.valueHex),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),z)}fromBuffer(h){this.fromString(String.fromCharCode.apply(null,new Uint8Array(h)))}toBuffer(){const h=this.toString(),b=new ArrayBuffer(h.length),M=new Uint8Array(b);for(let z=0;z<h.length;z++)M[z]=h.charCodeAt(z);return b}fromDate(h){this.year=h.getUTCFullYear(),this.month=h.getUTCMonth()+1,this.day=h.getUTCDate(),this.hour=h.getUTCHours(),this.minute=h.getUTCMinutes(),this.second=h.getUTCSeconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second))}fromString(h){const M=/(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})Z/gi.exec(h);if(null===M)return void(this.error="Wrong input string for conversion");const z=parseInt(M[1],10);this.year=z>=50?1900+z:2e3+z,this.month=parseInt(M[2],10),this.day=parseInt(M[3],10),this.hour=parseInt(M[4],10),this.minute=parseInt(M[5],10),this.second=parseInt(M[6],10)}toString(){const h=new Array(7);return h[0]=k(this.year<2e3?this.year-1900:this.year-2e3,2),h[1]=k(this.month,2),h[2]=k(this.day,2),h[3]=k(this.hour,2),h[4]=k(this.minute,2),h[5]=k(this.second,2),h[6]="Z",h.join("")}static blockName(){return"UTCTime"}toJSON(){let h={};try{h=super.toJSON()}catch{}return h.year=this.year,h.month=this.month,h.day=this.day,h.hour=this.hour,h.minute=this.minute,h.second=this.second,h}}class vo extends Hi{constructor(h={}){if(super(h),this.year=0,this.month=0,this.day=0,this.hour=0,this.minute=0,this.second=0,this.millisecond=0,hs in h){this.fromString(h.value),this.valueBlock.valueHex=new ArrayBuffer(h.value.length);const b=new Uint8Array(this.valueBlock.valueHex);for(let M=0;M<h.value.length;M++)b[M]=h.value.charCodeAt(M)}Ha in h&&(this.fromDate(h.valueDate),this.valueBlock.valueHex=this.toBuffer()),this.idBlock.tagClass=1,this.idBlock.tagNumber=24}fromBER(h,b,M){const z=this.valueBlock.fromBER(h,b,!0===this.lenBlock.isIndefiniteForm?M:this.lenBlock.length);return-1===z?(this.error=this.valueBlock.error,z):(this.fromBuffer(this.valueBlock.valueHex),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),z)}fromBuffer(h){this.fromString(String.fromCharCode.apply(null,new Uint8Array(h)))}toBuffer(){const h=this.toString(),b=new ArrayBuffer(h.length),M=new Uint8Array(b);for(let z=0;z<h.length;z++)M[z]=h.charCodeAt(z);return b}fromDate(h){this.year=h.getUTCFullYear(),this.month=h.getUTCMonth()+1,this.day=h.getUTCDate(),this.hour=h.getUTCHours(),this.minute=h.getUTCMinutes(),this.second=h.getUTCSeconds(),this.millisecond=h.getUTCMilliseconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond))}fromString(h){let Ce,b=!1,M="",z="",ce=0,He=0,A=0;if("Z"===h[h.length-1])M=h.substr(0,h.length-1),b=!0;else{const Z=new Number(h[h.length-1]);if(isNaN(Z.valueOf()))throw new Error("Wrong input string for conversion");M=h}if(b){if(-1!==M.indexOf("+"))throw new Error("Wrong input string for conversion");if(-1!==M.indexOf("-"))throw new Error("Wrong input string for conversion")}else{let Z=1,be=M.indexOf("+"),Ge="";if(-1===be&&(be=M.indexOf("-"),Z=-1),-1!==be){if(Ge=M.substr(be+1),M=M.substr(0,be),2!==Ge.length&&4!==Ge.length)throw new Error("Wrong input string for conversion");let vt=new Number(Ge.substr(0,2));if(isNaN(vt.valueOf()))throw new Error("Wrong input string for conversion");if(He=Z*vt,4===Ge.length){if(vt=new Number(Ge.substr(2,2)),isNaN(vt.valueOf()))throw new Error("Wrong input string for conversion");A=Z*vt}}}let V=M.indexOf(".");if(-1===V&&(V=M.indexOf(",")),-1!==V){const Z=new Number(`0${M.substr(V)}`);if(isNaN(Z.valueOf()))throw new Error("Wrong input string for conversion");ce=Z.valueOf(),z=M.substr(0,V)}else z=M;switch(!0){case 8===z.length:if(Ce=/(\d{4})(\d{2})(\d{2})/gi,-1!==V)throw new Error("Wrong input string for conversion");break;case 10===z.length:if(Ce=/(\d{4})(\d{2})(\d{2})(\d{2})/gi,-1!==V){let Z=60*ce;this.minute=Math.floor(Z),Z=60*(Z-this.minute),this.second=Math.floor(Z),Z=1e3*(Z-this.second),this.millisecond=Math.floor(Z)}break;case 12===z.length:if(Ce=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})/gi,-1!==V){let Z=60*ce;this.second=Math.floor(Z),Z=1e3*(Z-this.second),this.millisecond=Math.floor(Z)}break;case 14===z.length:Ce=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/gi,-1!==V&&(this.millisecond=Math.floor(1e3*ce));break;default:throw new Error("Wrong input string for conversion")}const B=Ce.exec(z);if(null===B)throw new Error("Wrong input string for conversion");for(let Z=1;Z<B.length;Z++)switch(Z){case 1:this.year=parseInt(B[Z],10);break;case 2:this.month=parseInt(B[Z],10);break;case 3:this.day=parseInt(B[Z],10);break;case 4:this.hour=parseInt(B[Z],10)+He;break;case 5:this.minute=parseInt(B[Z],10)+A;break;case 6:this.second=parseInt(B[Z],10);break;default:throw new Error("Wrong input string for conversion")}if(!1===b){const Z=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond);this.year=Z.getUTCFullYear(),this.month=Z.getUTCMonth(),this.day=Z.getUTCDay(),this.hour=Z.getUTCHours(),this.minute=Z.getUTCMinutes(),this.second=Z.getUTCSeconds(),this.millisecond=Z.getUTCMilliseconds()}}toString(){const h=[];return h.push(k(this.year,4)),h.push(k(this.month,2)),h.push(k(this.day,2)),h.push(k(this.hour,2)),h.push(k(this.minute,2)),h.push(k(this.second,2)),0!==this.millisecond&&(h.push("."),h.push(k(this.millisecond,3))),h.push("Z"),h.join("")}static blockName(){return"GeneralizedTime"}toJSON(){let h={};try{h=super.toJSON()}catch{}return h.year=this.year,h.month=this.month,h.day=this.day,h.hour=this.hour,h.minute=this.minute,h.second=this.second,h.millisecond=this.millisecond,h}}class qr extends P{constructor(h={}){super(h),this.idBlock.tagClass=1,this.idBlock.tagNumber=31}static blockName(){return"DATE"}}class Uo extends P{constructor(h={}){super(h),this.idBlock.tagClass=1,this.idBlock.tagNumber=32}static blockName(){return"TimeOfDay"}}class Ri extends P{constructor(h={}){super(h),this.idBlock.tagClass=1,this.idBlock.tagNumber=33}static blockName(){return"DateTime"}}class Ra extends P{constructor(h={}){super(h),this.idBlock.tagClass=1,this.idBlock.tagNumber=34}static blockName(){return"Duration"}}class qo extends P{constructor(h={}){super(h),this.idBlock.tagClass=1,this.idBlock.tagNumber=14}static blockName(){return"TIME"}}function Ar(Ve,h,b){const M=h;let ce=new fs({},Object);const Ce=new Rs;if(!1===f(Ce,Ve,h,b))return ce.error=Ce.error,{offset:-1,result:ce};if(0===new Uint8Array(Ve,h,b).length)return ce.error="Zero buffer length",{offset:-1,result:ce};let A=ce.idBlock.fromBER(Ve,h,b);if(ce.warnings.concat(ce.idBlock.warnings),-1===A)return ce.error=ce.idBlock.error,{offset:-1,result:ce};if(A=ce.lenBlock.fromBER(Ve,h=A,b-=ce.idBlock.blockLength),ce.warnings.concat(ce.lenBlock.warnings),-1===A)return ce.error=ce.lenBlock.error,{offset:-1,result:ce};if(h=A,b-=ce.lenBlock.blockLength,!1===ce.idBlock.isConstructed&&!0===ce.lenBlock.isIndefiniteForm)return ce.error="Indefinite length form used for primitive encoding form",{offset:-1,result:ce};let V=fs;if(1===ce.idBlock.tagClass){if(ce.idBlock.tagNumber>=37&&!1===ce.idBlock.isHexOnly)return ce.error="UNIVERSAL 37 and upper tags are reserved by ASN.1 standard",{offset:-1,result:ce};switch(ce.idBlock.tagNumber){case 0:if(!0===ce.idBlock.isConstructed&&ce.lenBlock.length>0)return ce.error="Type [UNIVERSAL 0] is reserved",{offset:-1,result:ce};V=bs;break;case 1:V=Ke;break;case 2:V=Yi;break;case 3:V=dr;break;case 4:V=En;break;case 5:V=Dt;break;case 6:V=cr;break;case 10:V=Ui;break;case 12:V=P;break;case 13:V=ot;break;case 14:V=qo;break;case 15:return ce.error="[UNIVERSAL 15] is reserved by ASN.1 standard",{offset:-1,result:ce};case 16:V=fe;break;case 17:V=Pe;break;case 18:V=Vn;break;case 19:V=_r;break;case 20:V=mi;break;case 21:V=jr;break;case 22:V=Ir;break;case 23:V=ha;break;case 24:V=vo;break;case 25:V=Cs;break;case 26:V=Hi;break;case 27:V=as;break;case 28:V=rn;break;case 29:V=Mo;break;case 30:V=Ut;break;case 31:V=qr;break;case 32:V=Uo;break;case 33:V=Ri;break;case 34:V=Ra;break;default:{let B;B=!0===ce.idBlock.isConstructed?new Ms:new da,B.idBlock=ce.idBlock,B.lenBlock=ce.lenBlock,B.warnings=ce.warnings,ce=B}}}else V=!0===ce.idBlock.isConstructed?Ms:da;return ce=function z(B,Z){if(B instanceof Z)return B;const be=new Z;return be.idBlock=B.idBlock,be.lenBlock=B.lenBlock,be.warnings=B.warnings,be.valueBeforeDecode=B.valueBeforeDecode.slice(0),be}(ce,V),A=ce.fromBER(Ve,h,!0===ce.lenBlock.isIndefiniteForm?b:ce.lenBlock.length),ce.valueBeforeDecode=Ve.slice(M,M+ce.blockLength),{offset:A,result:ce}}function Ci(Ve){if(0===Ve.byteLength){const h=new fs({},Object);return h.error="Input buffer has zero length",{offset:-1,result:h}}return Ar(Ve,0,Ve.byteLength)}var ta=u(3838),co=u(4531),Qa=u(4438);let _l=(()=>{class Ve{convertStringToArrayBuffer(b){const M=new ta.hp(b,"base64").toString("binary"),z=new ArrayBuffer(2*M.length),ce=new Uint8Array(z);for(let Ce=0,He=M.length;Ce<He;Ce++)ce[Ce]=M.charCodeAt(Ce);return z}buildCertModelFromArrayBuffer(b,M){var z=this;return(0,i.A)(function*(){const ce=Ci(b),Ce=new Di({schema:ce.result}),He=new e,A=z.getSubject(Ce),V=yield z.calculateCertificateThumbprint(M);return He.base64Cert=M,He.subject=A,He.thumbprint=V,He})()}verifyCertFilePassword(b,M,z){let ce=new FileReader;ce.onload=Ce=>{try{const He=ta.hp.from(ce.result),A=this.arrayBufferToBase64(He);(0,co.hc)(He,M),z.next(A)}catch(He){console.log("Invalid cert!"),z.error(He)}},ce.onerror=Ce=>{z.error(Ce)},ce.readAsArrayBuffer(b)}getSubject(b){const M={"2.5.4.6":"C","2.5.4.10":"O","2.5.4.11":"OU","2.5.4.3":"CN","2.5.4.7":"L","2.5.4.8":"S","2.5.4.12":"T","2.5.4.42":"GN","2.5.4.43":"I","2.5.4.4":"SN","1.2.840.113549.1.9.1":"E-mail"},z=new Array;for(const Ce of b.subject.typesAndValues){let He=M[Ce.type];typeof He>"u"&&(He=Ce.type),z.push(`${He}=${Ce.value.valueBlock.value}`)}return z.reverse().join(", ")}calculateCertificateThumbprint(b){var M=this;return(0,i.A)(function*(){const z=new ta.hp(b,"base64"),ce=yield crypto.subtle.digest("SHA-1",z);return M.computeHex(ce)})()}computeHex(b){return[].map.call(new Uint8Array(b),M=>("00"+M.toString(16)).slice(-2)).join("")}arrayBufferToBase64(b){for(var M="",z=new Uint8Array(b),ce=z.byteLength,Ce=0;Ce<ce;Ce++)M+=String.fromCharCode(z[Ce]);return window.btoa(M)}static{this.\u0275fac=function(M){return new(M||Ve)}}static{this.\u0275prov=Qa.jDH({token:Ve,factory:Ve.\u0275fac})}}return Ve})()},526:(et,me,u)=>{"use strict";u.d(me,{X:()=>v});var i=u(1626),e=u(2771),_=u(7263),g=u(4438),S=u(9564);let v=(()=>{class f{constructor(E,m){this.http=E,this.claimTypeSubject=new e.m(1),this.actionUrl="ClaimTypes",this.headers=m.setHeaders()}getCachedClaimType(){return this.claimTypeSubject}getClaimType(E){return this.http.get(`${this.actionUrl}/${E}`,{headers:this.headers})}getClaimTypes(E,m,F=!1){let w=new i.Nl;return(0,_.gP)(E)||(w=w.append("name",E)),w=w.append("sort",(0,_.gP)(m)?"name":m),this.http.get(F?`${this.actionUrl}/ClaimTypesLightWeight`:this.actionUrl,{headers:this.headers,params:w})}addClaimType(E){const m=`${this.actionUrl}`,F=JSON.stringify(E);return this.http.post(m,F,{headers:this.headers})}updateClaimType(E){const m=`${this.actionUrl}/${E.id}`,F=JSON.stringify(E);return this.http.put(m,F,{headers:this.headers})}deleteClaimType(E){return this.http.delete(`${this.actionUrl}/${E.id}`,{headers:this.headers})}getAllowedValues(E,m,F){let w=new i.Nl;return(0,_.gP)(m)||(w=w.append("query",m)),F&&(w=w.append("resultThreshold",F)),this.http.get(`${this.actionUrl}/AllowedValues/${E}`,{headers:this.headers,params:w})}static{this.\u0275fac=function(m){return new(m||f)(g.KVO(i.Qq),g.KVO(S.m))}}static{this.\u0275prov=g.jDH({token:f,factory:f.\u0275fac})}}return f})()},8939:(et,me,u)=>{"use strict";u.d(me,{R:()=>d});var i=u(983),e=u(6354),_=u(9437),g=u(8284),S=u(4438),v=u(526),f=u(5424);let d=(()=>{class E{constructor(F,w){this.claimTypeService=F,this.errorService=w}resolve(F,w){return this.claimTypeService.getClaimType(F.params.Id).pipe((0,e.T)(R=>(R&&this.claimTypeService.getCachedClaimType().next(R),R)),(0,_.W)((R,k)=>(404===R.status?this.errorService.resourceNotFound(g.v.claimType):this.errorService.handleError(R),(0,i.I)())))}static{this.\u0275fac=function(w){return new(w||E)(S.KVO(v.X),S.KVO(f.I))}}static{this.\u0275prov=S.jDH({token:E,factory:E.\u0275fac})}}return E})()},3577:(et,me,u)=>{"use strict";u.d(me,{e:()=>_});var i=u(4412),e=u(4438);let _=(()=>{class g{constructor(){this.unsavedCache=new i.t(null),this.unsavedCache$=this.unsavedCache.asObservable(),this.savedCache=new i.t(null),this.savedCache$=this.savedCache.asObservable(),this.componentDirtyValidMap=new Map}onClientSave(){this.componentDirtyValidMap.clear()}static{this.\u0275fac=function(f){return new(f||g)}}static{this.\u0275prov=e.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})()},9113:(et,me,u)=>{"use strict";u.d(me,{Hh:()=>v,SD:()=>S,qJ:()=>g});var i=u(4438),e=u(1626),_=u(9564);let g=(()=>{class d{constructor(m,F){this.http=m,this.headersService=F,this.actionUrl="clients/import"}validateImportFile(m){const C=this.headersService.setHeaders("application/vnd.adminui.import-clients-validation-v1+json","application/vnd.adminui.import-clients-validation-result-v1+json");return this.http.post(`${this.actionUrl}/validate`,m,{headers:C})}completeImport(m,F){const w=this.appendImportConfiguration(m,F),R=this.headersService.setHeaders("application/vnd.adminui.import-clients-v1+json");return this.http.post(`${this.actionUrl}`,w,{headers:R})}appendImportConfiguration(m,F){const w=JSON.parse(m);return w.importConfiguration={clients:F.clients,protectedResources:F.protectedResources},JSON.stringify(w)}static{this.\u0275fac=function(F){return new(F||d)(i.KVO(e.Qq),i.KVO(_.m))}}static{this.\u0275prov=i.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})();class S{}class v{constructor(){this.certificates=new f}}class f{}},8173:(et,me,u)=>{"use strict";u.d(me,{q:()=>S});var i=u(6701),e=u(4491),_=u(4438),g=u(3577);let S=(()=>{class te{constructor(oe){this.cache=oe,this.defaultClientGrantTypeMap=new Map([[i.s.BrowserBased,e.$.AuthorizationCode],[i.s.ServerSidePKCE,e.$.AuthorizationCode],[i.s.ServerSide,e.$.Hybrid],[i.s.Native,e.$.Hybrid],[i.s.Machine,e.$.ClientCredentials],[i.s.CIBAMachine,e.$.CIBA],[i.s.Device,e.$.Device],[i.s.LegacyClientSide,e.$.Implicit]]),this.clientCacheSubscription=this.cache.unsavedCache$.subscribe(Y=>{this.initClientViews(Y)})}ngOnDestroy(){this.clientCacheSubscription.unsubscribe()}initClientViews(oe){this.resetTabs(),this.isStandardClientFormat(oe)||oe.clientType===i.s.Saml||oe.clientType===i.s.WsFed?this.initUsingClientType(oe.clientType):0!==oe.allowedGrantTypes.length?this.initUsingGrantTypes(oe.allowedGrantTypes):this.initDefaults()}resetTabs(){this.authRequest=new v,this.details=new f,this.applicationUrls=new d,this.secrets=new E,this.resources=new m,this.tokens=new L,this.claims=new w,this.refreshTokens=new U,this.identityProviders=new R,this.properties=new k,this.other=new O,this.deviceFlow=new x,this.singleSignOut=new $,this.consent=new G,this.saml=new ie,this.wsFed=new le,this.ciba=new F,this.dpop=new Q}isStandardClientFormat(oe){if(oe.clientType===i.s.Unknown||oe.allowedGrantTypes.length>1)return!1;const Y=this.defaultClientGrantTypeMap.get(oe.clientType);return oe.allowedGrantTypes[0]===Y}initUsingClientType(oe){switch(oe){case i.s.BrowserBased:this.consent.display=!0,this.singleSignOut.display=!0,this.authRequest.display=!0,this.authRequest.pkce=!0,this.authRequest.par=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.applicationUrls.allowedCorsOrigins=!0,this.resources.allowedScopesIdentity=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.authorizationCodeLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0,this.dpop.display=!0;break;case i.s.ServerSide:case i.s.ServerSidePKCE:this.refreshTokens.display=!0,this.consent.display=!0,this.singleSignOut.display=!0,this.singleSignOut.backChannelLogoutSessionRequired=!0,this.singleSignOut.backChannelLogoutUri=!0,this.authRequest.display=!0,this.authRequest.pkce=!0,this.authRequest.par=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.resources.allowedScopesIdentity=!0,this.claims.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.authorizationCodeLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0;break;case i.s.Native:case i.s.NativePKCE:this.consent.display=!0,this.refreshTokens.display=!0,this.singleSignOut.display=!0,this.singleSignOut.backChannelLogoutSessionRequired=!0,this.singleSignOut.backChannelLogoutUri=!0,this.authRequest.display=!0,this.authRequest.pkce=!0,this.authRequest.par=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.resources.allowedScopesIdentity=!0,this.claims.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.authorizationCodeLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0,this.dpop.display=!0;break;case i.s.Machine:this.other.display=!0,this.authRequest.display=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.properties.display=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.dpop.display=!0;break;case i.s.CIBAMachine:this.other.display=!0,this.authRequest.display=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.resources.allowedScopesIdentity=!0,this.claims.display=!0,this.properties.display=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.ciba.display=!0,this.dpop.display=!0;break;case i.s.Device:this.consent.display=!0,this.authRequest.display=!0,this.refreshTokens.display=!0,this.deviceFlow.display=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.deviceFlow.display=!0,this.applicationUrls.display=!0,this.applicationUrls.allowedCorsOrigins=!0,this.secrets.display=!0,this.resources.allowedScopesIdentity=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0;break;case i.s.Saml:this.other.display=!0,this.other.userSSOLifetime=!0,this.tokens.display=!1,this.resources.allowedScopesIdentity=!0,this.identityProviders.display=!0,this.properties.display=!0,this.saml.display=!0;break;case i.s.WsFed:this.other.display=!0,this.other.userSSOLifetime=!0,this.tokens.display=!1,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.resources.allowedScopesIdentity=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.wsFed.display=!0;break;case i.s.LegacyClientSide:this.consent.display=!0,this.authRequest.display=!0,this.singleSignOut.display=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.applicationUrls.allowedCorsOrigins=!0,this.resources.allowedScopesIdentity=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.allowAccessTokensViaBrowser=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0}}initUsingGrantTypes(oe){this.saml.display=!1,this.wsFed.display=!1,oe.forEach(Y=>{switch(Y){case e.$.Implicit:this.consent.display=!0,this.singleSignOut.display=!0,this.authRequest.display=!0,this.authRequest.par=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.applicationUrls.allowedCorsOrigins=!0,this.resources.allowedScopesIdentity=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.allowAccessTokensViaBrowser=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0;break;case e.$.Hybrid:this.consent.display=!0,this.refreshTokens.display=!0,this.singleSignOut.display=!0,this.singleSignOut.backChannelLogoutSessionRequired=!0,this.singleSignOut.backChannelLogoutUri=!0,this.authRequest.display=!0,this.authRequest.pkce=!0,this.authRequest.par=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.resources.allowedScopesIdentity=!0,this.claims.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.allowAccessTokensViaBrowser=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.authorizationCodeLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0;break;case e.$.AuthorizationCode:this.consent.display=!0,this.refreshTokens.display=!0,this.singleSignOut.display=!0,this.singleSignOut.backChannelLogoutSessionRequired=!0,this.singleSignOut.backChannelLogoutUri=!0,this.authRequest.display=!0,this.authRequest.pkce=!0,this.authRequest.par=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.resources.allowedScopesIdentity=!0,this.claims.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.authorizationCodeLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0,this.dpop.display=!0;break;case e.$.ClientCredentials:this.other.display=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.authRequest.display=!0,this.properties.display=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.dpop.display=!0;break;case e.$.CIBA:this.other.display=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.authRequest.display=!0,this.properties.display=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.ciba.display=!0;break;case e.$.ResourceOwnerPassword:this.refreshTokens.display=!0,this.other.display=!0,this.secrets.display=!0,this.resources.allowedScopesIdentity=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.authRequest.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0;break;case e.$.Device:this.consent.display=!0,this.refreshTokens.display=!0,this.deviceFlow.display=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.allowedCorsOrigins=!0,this.secrets.display=!0,this.resources.allowedScopesIdentity=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.authRequest.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0;break;default:this.initDefaults()}})}initDefaults(){this.consent.display=!0,this.refreshTokens.display=!0,this.singleSignOut.display=!0,this.singleSignOut.backChannelLogoutUri=!0,this.singleSignOut.backChannelLogoutSessionRequired=!0,this.deviceFlow.display=!0,this.authRequest.display=!0,this.authRequest.pkce=!0,this.authRequest.par=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.applicationUrls.allowedCorsOrigins=!0,this.secrets.display=!0,this.resources.allowedScopesIdentity=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.allowAccessTokensViaBrowser=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.authorizationCodeLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0}static{this.\u0275fac=function(Y){return new(Y||te)(_.KVO(g.e))}}static{this.\u0275prov=_.jDH({token:te,factory:te.\u0275fac})}}return te})();class v{constructor(){this.display=!1,this.pkce=!1,this.par=!1}}class f{}class d{constructor(){this.display=!1,this.redirectUris=!1,this.postLogoutRedirectUris=!1,this.allowedCorsOrigins=!1}}class E{constructor(){this.display=!1}}class m{constructor(){this.allowedScopesIdentity=!1,this.allowedScopesAPI=!1}}class F{constructor(){this.display=!1}}class w{constructor(){this.display=!1}}class R{constructor(){this.display=!1}}class k{constructor(){this.display=!1}}class O{constructor(){this.display=!1,this.userSSOLifetime=!1}}class x{constructor(){this.display=!1}}class ${constructor(){this.display=!1,this.backChannelLogoutUri=!1,this.backChannelLogoutSessionRequired=!1}}class U{constructor(){this.display=!1}}class G{constructor(){this.display=!1}}class ie{constructor(){this.display=!1}}class le{constructor(){this.display=!1}}class L{constructor(){this.display=!0,this.allowAccessTokensViaBrowser=!1,this.identityTokenLifetime=!1,this.accessTokenLifetime=!1,this.authorizationCodeLifetime=!1,this.accessTokenType=!1,this.includeJwtId=!1,this.alwaysIncludeUserClaimsInIdToken=!1}}class Q{constructor(){this.display=!1}}},9398:(et,me,u)=>{"use strict";u.d(me,{_:()=>f});var i=u(1626),e=u(2771),_=u(7263),g=u(6701),S=u(4438),v=u(9564);let f=(()=>{class d{constructor(m,F){this.http=m,this.headersService=F,this.clientSubject=new e.m(1),this.actionUrl="clients",this.headers=F.setHeaders()}getClients(m,F,w){let C=new i.Nl;return(0,_.gP)(m)||(C=C.append("name",m)),F&&(C=C.append("page",F)),w&&(C=C.append("pageSize",w)),this.http.get(this.actionUrl,{headers:this.headers,params:C})}getClient(m){return this.http.get(`${this.actionUrl}/${m}`,{headers:this.headers})}getCachedClient(){return this.clientSubject}addClient(m){let F;switch(m.clientType){case g.s.Saml:F=this.headersService.setHeaders("application/vnd.adminui.new-saml-client-v1+json");break;case g.s.WsFed:F=this.headersService.setHeaders("application/vnd.adminui.new-wsfed-client-v1+json");break;default:F=this.headersService.setHeaders()}const w=`${this.actionUrl}/`,C=JSON.stringify(m);return this.http.post(w,C,{headers:F})}updateClient(m){return this.http.put(`${this.actionUrl}/${m.id}`,m,{headers:this.headers})}addClientSecret(m,F){return this.http.post(`${this.actionUrl}/${m}/secrets`,F,{headers:this.headers})}removeClientSecret(m,F){return this.http.delete(`${this.actionUrl}/${m}/secrets/${F.id}`,{headers:this.headers})}deleteClient(m){return this.http.delete(`${this.actionUrl}/${m}`,{headers:this.headers})}cloneClient(m,F){const w=`${this.actionUrl}/${m}/clone`,C=this.headersService.setHeaders("application/vnd.adminui.clone-client-v1+json");return this.http.post(w,F,{headers:C,observe:"response"})}static{this.\u0275fac=function(F){return new(F||d)(S.KVO(i.Qq),S.KVO(v.m))}}static{this.\u0275prov=S.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})()},9196:(et,me,u)=>{"use strict";u.d(me,{w:()=>F});var i=u(1626),e=u(7673),_=u(1413),g=u(978);function v(w){return{...w,dynamicAuthenticationFlag:g.U[w.dynamicAuthenticationFlag]}}class E{constructor(){this.enableAuditing=!0}}var m=u(4438);let F=(()=>{class w{constructor(R){this.http=R,this.headers=new i.Lr,this.actionUrl="UIConfiguration"}getConfig(R=!1){const k=new E;if(k.resetPasswordConfigured=!1,k.targetIdentityServer4=!1,k.resetMfaConfigured=!1,k.policyPersistence=!1,k.webhookPersistence=!1,k.featureFlagOptions=new g.D,k.supportedLanguages=[],this.uiOptions&&!R)return(0,e.of)(this.uiOptions);const O=new _.B;return this.headers=this.headers.set("Content-Type","application/json").set("Accept","application/json").set("Access-Control-Allow-Origin","true"),this.http.get(this.actionUrl,{headers:this.headers}).subscribe({next:H=>{this.uiOptions=function d(w){return{...w,featureFlagOptions:v(w.featureFlagOptions)}}(H),O.next(this.uiOptions)},error:H=>O.next(k)}),O.asObservable()}static{this.\u0275fac=function(k){return new(k||w)(m.KVO(i.Qq))}}static{this.\u0275prov=m.jDH({token:w,factory:w.\u0275fac})}}return w})()},3384:(et,me,u)=>{"use strict";u.d(me,{R:()=>E});var i=u(983),e=u(6354),_=u(9437),g=u(8284),S=u(4438),v=u(2036),f=u(6366),d=u(5424);let E=(()=>{class m{constructor(w,C,R){this.wsfedClientService=w,this.relyingPartyCache=C,this.errorService=R}resolve(w,C){const R=w.parent.paramMap.get("Id");if(!(this.relyingPartyCache.componentDirtyValidMap.size>0))return this.wsfedClientService.getRelyingParty(R).pipe((0,e.T)(k=>{const O=JSON.parse(JSON.stringify(k.claimMappings)),H=new Map;for(const x in O)O.hasOwnProperty(x)&&H.set(x,O[x]);return k.claimMappings=H,this.relyingPartyCache.unsavedCache.next(k),k}),(0,_.W)(k=>(404===k.status?this.errorService.resourceNotFound(g.v.relyingParty):this.errorService.handleError(k),(0,i.I)())));this.relyingPartyCache.unsavedCache$.subscribe(k=>k)}static{this.\u0275fac=function(C){return new(C||m)(S.KVO(v.c),S.KVO(f.z),S.KVO(d.I))}}static{this.\u0275prov=S.jDH({token:m,factory:m.\u0275fac})}}return m})()},1466:(et,me,u)=>{"use strict";u.d(me,{z:()=>m});var i=u(983),e=u(6354),_=u(9437),g=u(8284),S=u(4438),v=u(9156),f=u(5691),d=u(1583),E=u(5424);let m=(()=>{class F{constructor(C,R,k,O){this.serviceProviderService=C,this.serviceproviderCache=R,this.router=k,this.errorSerivce=O}resolve(C,R){const k=C.parent.paramMap.get("Id");if(!(this.serviceproviderCache.componentDirtyValidMap.size>0))return this.serviceProviderService.getServiceProvider(k).pipe((0,e.T)(O=>{const H=JSON.parse(JSON.stringify(O.claimMappings)),x=new Map;for(const $ in H)H.hasOwnProperty($)&&x.set($,H[$]);return O.claimMappings=x,this.serviceproviderCache.unsavedCache.next(O),this.serviceproviderCache.savedCache.next(O),O}),(0,_.W)((O,H)=>(404===O.status?this.errorSerivce.resourceNotFound(g.v.serviceProvider):this.errorSerivce.handleError(O),(0,i.I)())));this.serviceproviderCache.unsavedCache$.subscribe(O=>O)}static{this.\u0275fac=function(R){return new(R||F)(S.KVO(v.s),S.KVO(f.d),S.KVO(d.Ix),S.KVO(E.I))}}static{this.\u0275prov=S.jDH({token:F,factory:F.\u0275fac})}}return F})()},4442:(et,me,u)=>{"use strict";u.d(me,{_:()=>v});var i=u(1594),e=u(4438),_=u(9156),g=u(5691),S=u(5424);let v=(()=>{class f{constructor(E,m,F){this.serviceProviderService=E,this.cache=m,this.errorService=F}uploadFile(E,m){return this.serviceProviderService.setEncryptionCertificateViaFile(E,m)}uploadViaMetaData(E,m){return this.serviceProviderService.setEncryptionCertificateViaMetadata(E,m)}updateCertCache(E){this.serviceProviderService.getServiceProvider(E).subscribe(m=>{this.cache.unsavedCache$.pipe((0,i.$)()).subscribe(F=>{F.encryptionCertificate=m.encryptionCertificate,this.cache.unsavedCache.next(F)})},m=>{this.errorService.handleError(m)})}static{this.\u0275fac=function(m){return new(m||f)(e.KVO(_.s),e.KVO(g.d),e.KVO(S.I))}}static{this.\u0275prov=e.jDH({token:f,factory:f.\u0275fac})}}return f})()},5424:(et,me,u)=>{"use strict";u.d(me,{I:()=>E});var i=u(7263),e=u(8284),_=u(9957),g=u(4438),S=u(1583),v=u(7005),f=u(5794),d=u(1780);let E=(()=>{class m{constructor(w,C,R,k){this.router=w,this.localize=C,this.toast=R,this.translate=k}resourceNotFound(w){this.router.navigate([this.localize.translateRoute("/resourcenotfound/"+e.v[w])])}handleError(w,C,R){let k=_.I.NotHandled;const O=this.getDefaultNavigationPath(w);if(O)this.router.navigate([this.localize.translateRoute(O)]),k|=_.I.Navigate;else{const H=this.getOptionsToastBody(w,C)||this.getDefaultToastBody(w),x=this.getOptionsToastTitle(w,C)||this.getDefaultToastTitle(w);H&&x&&(R?this.toast.error(H,x,R):this.toast.error(H,x),k|=_.I.Toast)}return k}getOptionsToastBody(w,C){if(!C)return;const R="number"==typeof w.status&&C.statusToastOptions?C.statusToastOptions[w.status]:C;return R&&R.toastBody}getOptionsToastTitle(w,C){if(!C)return;const R="number"==typeof w.status&&C.statusToastOptions?C.statusToastOptions[w.status]:C;return R&&R.toastTitle}getDefaultNavigationPath(w){switch(w.status){case 401:return"/unauthorized";case 403:return"/forbidden";case 404:return"/404";default:return}}getDefaultToastTitle(w){switch(w.status){case 400:case 420:return"Bad Request";case 405:return"Method Not Allowed";default:return this.translate.instant("Notifications.Error")}}getDefaultToastBody(w){return 500===w.status?`${this.translate.instant("Notifications.SomethingWrong")}. ${this.translate.instant("Notifications.CheckLogs")}`:w.error&&w.error.errors&&w.error.errors.length>0?w.error.errors[0]:(0,i.gP)(w._body)&&(0,i.gP)(w.error)?`${this.translate.instant("Notifications.SomethingWrong")}. ${this.translate.instant("Notifications.CheckLogs")}`:(0,i.gP)(w.error)?w._body:w.error}static{this.\u0275fac=function(C){return new(C||m)(g.KVO(S.Ix),g.KVO(v.QG),g.KVO(f.tw),g.KVO(d.c$))}}static{this.\u0275prov=g.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})()},9686:(et,me,u)=>{"use strict";u.d(me,{D:()=>g});class i{constructor(v){this.form=v}submitForm(){document.body.appendChild(this.form),this.form.submit(),document.body.removeChild(this.form)}}var e=u(4438),_=u(7883);let g=(()=>{class S{constructor(f){this.securityService=f}buildForm(f){const d=this.buildStandardForm(f);return new i(d)}buildStandardForm(f){const d=document.createElement("form");return d.setAttribute("method","post"),d.setAttribute("action",f),d}appendInput(f,d,E){const m=document.createElement("input");m.setAttribute("type","text"),m.setAttribute("name",f),m.setAttribute("value",d),E.appendChild(m)}buildFormWithCustomInputs(f,d){const E=this.buildStandardForm(f);return d.forEach((m,F)=>{this.appendInput(F,m,E)}),new i(E)}static{this.\u0275fac=function(d){return new(d||S)(e.KVO(_.i))}}static{this.\u0275prov=e.jDH({token:S,factory:S.\u0275fac})}}return S})()},1796:(et,me,u)=>{"use strict";u.d(me,{S:()=>v});var i=u(1594),e=u(6354),_=u(4438),g=u(1583),S=u(9196);let v=(()=>{class f{constructor(E,m){this.router=E,this.config=m}canActivate(E,m){return this.config.getConfig().pipe((0,i.$)(),(0,e.T)(F=>!(null==F||null==F.enableAuditing||!F.enableAuditing)||this.router.parseUrl("/resourcenotfound/user")))}static{this.\u0275fac=function(m){return new(m||f)(_.KVO(g.Ix),_.KVO(S.w))}}static{this.\u0275prov=_.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}}return f})()},3218:(et,me,u)=>{"use strict";u.d(me,{O:()=>v});var i=u(1594),e=u(6354),_=u(4438),g=u(1583),S=u(9196);let v=(()=>{class f{constructor(E,m){this.router=E,this.config=m}canActivate(E,m){return this.config.getConfig().pipe((0,i.$)(),(0,e.T)(F=>(F?.featureFlagOptions?.sessionManagementEnabled??!1)||this.router.parseUrl("/resourcenotfound/user")))}static{this.\u0275fac=function(m){return new(m||f)(_.KVO(g.Ix),_.KVO(S.w))}}static{this.\u0275prov=_.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}}return f})()},7380:(et,me,u)=>{"use strict";u.d(me,{Q:()=>i});class i{constructor(_){this.router=_}redirectToView(_,g){const S=g.url.replace(`/${_.params.id}`,`/view/${_.params.id}`);this.router.navigate([S])}}},9564:(et,me,u)=>{"use strict";u.d(me,{m:()=>_});var i=u(1626),e=u(4438);let _=(()=>{class g{setHeaders(v,f){return(new i.Lr).set("Content-Type",v||"application/json").set("Accept",f||"application/json").set("Access-Control-Allow-Origin","true").set("Cache-Control","no-cache").set("Pragma","no-cache").set("Expires","Sat, 01 Jan 2000 00:00:00 GMT")}static{this.\u0275fac=function(f){return new(f||g)}}static{this.\u0275prov=e.jDH({token:g,factory:g.\u0275fac})}}return g})()},6801:(et,me,u)=>{"use strict";u.d(me,{M:()=>g});var i=u(2771),e=u(4438),_=u(1626);let g=(()=>{class S{constructor(f){this.http=f,this.idsReady=!1,this.idsHealthCheckComplete=new i.m(1),this.uiReady=!1,this.uiHealthCheckComplete=new i.m(1),this.actionUrl="healthcheck"}checkHealthIdentityServer(){return this.http.get(`${this.actionUrl}/checkidentityserver`)}checkHealthUi(){return this.http.get(`${this.actionUrl}/checkui`)}static{this.\u0275fac=function(d){return new(d||S)(e.KVO(_.Qq))}}static{this.\u0275prov=e.jDH({token:S,factory:S.\u0275fac})}}return S})()},8261:(et,me,u)=>{"use strict";u.d(me,{A:()=>v});var i=u(1626),e=u(2771),_=u(7263),g=u(4438),S=u(9564);let v=(()=>{class f{constructor(E,m){this.http=E,this.headersService=m,this.identityResourceSubject=new e.m(1),this.actionUrl="IdentityResources",this.headers=m.setHeaders()}getCachedIdentityResource(){return this.identityResourceSubject}getIdentityResources(E){let m=new i.Nl;return(0,_.gP)(E)||(m=m.append("name",E)),this.http.get(this.actionUrl,{headers:this.headers,params:m})}addResource(E){const m=`${this.actionUrl}/`,F=JSON.stringify(E);return this.http.post(m,F,{headers:this.headers})}getResource(E){return this.http.get(`${this.actionUrl}/${E}`,{headers:this.headers})}updateResource(E){return this.http.put(`${this.actionUrl}/${E.id}`,E,{headers:this.headers})}deleteIdentityResource(E){return this.http.delete(`${this.actionUrl}/${E}`,{headers:this.headers})}static{this.\u0275fac=function(m){return new(m||f)(g.KVO(i.Qq),g.KVO(S.m))}}static{this.\u0275prov=g.jDH({token:f,factory:f.\u0275fac})}}return f})()},6193:(et,me,u)=>{"use strict";u.d(me,{V:()=>H});var i=u(1413),e=u(2771),_=u(4414),g=u(1594),S=u(1744),v=u(7728),f=u(5696),d=u(4406),E=u(1138),m=u(785),F=u(7263),w=u(2858),C=u(7212),R=u(4438),k=u(5847),O=u(5826);let H=(()=>{class x{constructor(U,G){this.importWizardProvider=U,this.importWizardService=G,this.stepModified=!0,this.disableCloseButton=!1,this.stepsAhead=new Array,this.stepsCompleted=new Array,this.move=new i.B}setupInitialStep(){const U=this.importWizardProvider.getStep(_.M.clientSummary);this.stepsAhead.push(U)}goToNextStep(){const U=this.stepsAhead.pop();this.stepsCompleted.push(U),U.component===v.z&&U.data.includes(S.ot.Client)?this.createWizard().subscribe(()=>{this.move.next(!1)}):(U.component===E.u&&U.data.rememberSecretAction?this.stepsAhead=this.applyRememberDecision(U):U.component===w.zI&&U.data.rememberCertificateAction&&(this.stepsAhead=this.applyCertificateRememberDecision(U)),this.move.next(!1))}applyCertificateRememberDecision(U){const G=[];return this.stepsAhead.forEach(ie=>{ie.component!==w.zI||ie.data.existingHasCertificates!==U.data.existingHasCertificates||(U.data.certificateAction===w.AU.DoNotSet?ie.data.certificates=new C.D:U.data.certificateAction===w.AU.UseExisting&&(ie.data.certificates=new C.D,ie.data.useExistingCertificates=!0),G.push(ie),this.stepsCompleted.push(ie))}),this.stepsAhead.filter(ie=>!G.includes(ie))}applyRememberDecision(U){const G=[];return this.stepsAhead.forEach(ie=>{if(ie.component===E.u&&ie.data.resourceType===U.data.resourceType&&ie.data.existingHasSecrets===U.data.existingHasSecrets){if(U.data.secretsAction===E.r.DoNotSet)ie.data.secrets=[];else if(U.data.secretsAction===E.r.UseExistingSecret)ie.data.useExistingSecrets=!0;else if(U.data.secretsAction===E.r.Generate){const le=new m.z;le.value=(0,F.Nl)(),le.type="Shared Secret",le.description="",ie.data.secrets=[le]}G.push(ie),this.stepsCompleted.push(ie)}}),this.stepsAhead.filter(ie=>!G.includes(ie))}areStepsRemaning(){return this.stepsAhead.length>0}getCurrentStep(){return this.stepsAhead[this.stepsAhead.length-1]}goToPreviousStep(){if(0===this.stepsCompleted.length)return void this.insertAndOpenStep(_.M.importCloseWarning,!0);this.getCurrentStep().isDeadEnd&&this.stepsAhead.pop();const G=this.stepsCompleted[this.stepsCompleted.length-1];if(G.component===E.u)this.goToLastRememberedDecision(G.component,ie=>ie.data.rememberSecretAction);else if(G.component===w.zI)this.goToLastRememberedDecision(G.component,ie=>ie.data.rememberCertificateAction&&ie.data.existingHasCertificates===G.data.existingHasCertificates);else{const ie=this.stepsCompleted.pop();this.stepsAhead.push(ie)}this.move.next(!1)}goToLastRememberedDecision(U,G){const ie=this.stepsCompleted.filter(le=>le.component===U);if(ie.length>1){const le=ie.filter(G);if(le){const Q=this.stepsCompleted.indexOf(le[le.length-1]),te=this.stepsCompleted.splice(Q,this.stepsCompleted.length-1);this.stepsAhead=[...this.stepsAhead,...te.reverse()]}else{const L=this.stepsCompleted.pop();this.stepsAhead.push(L)}}else{const le=this.stepsCompleted.pop();this.stepsAhead.push(le)}}goToFinalSummary(){const U=this.stepsAhead.findIndex(ie=>ie.component===f.s),G=this.stepsAhead.splice(U+1);for(;G.length>0;){const ie=G.pop();this.stepsCompleted.push(ie)}this.move.next(!1)}goToSummaryStep(U){const G=this.stepsCompleted.findIndex(le=>le.component===v.z&&le.data.includes(U)),ie=this.stepsCompleted.splice(G);for(;ie.length>0;){const le=ie.pop();this.stepsAhead.push(le)}this.stepModified=!1,this.move.next(!1)}quit(){this.move.next(!0)}cancel(){const U=this.getCurrentStep();U.component===d.X?this.quit():U.isDeadEnd?this.goToPreviousStep():this.insertAndOpenStep(_.M.importCloseWarning)}clear(){this.stepsAhead=[],this.stepsCompleted=[],this.stepModified=!0}insertAndOpenStep(U,G){const ie=this.stepsAhead.pop();this.stepsCompleted.push(ie);const le=this.importWizardProvider.getStep(U);le.data=G,this.stepsAhead.push(le),this.move.next(!1)}reset(){this.clear(),this.setupInitialStep(),this.move.next(!1)}createWizard(){this.stepsAhead=[];const U=new e.m;return this.importWizardService.cache.pipe((0,g.$)()).subscribe(G=>{this.stepsAhead.push(this.importWizardProvider.getStep(_.M.importComplete)),this.showFinalSummary(G)&&this.stepsAhead.push(this.importWizardProvider.getStep(_.M.finalSummary));const ie=this.sortImportResources(G),le=[],L=[];for(let Q=ie.length;Q>0;Q--){const te=ie[Q-1];let I=!1;te.resourceType===S.ot.ProtectedResource&&te.dependantClients.forEach(oe=>{I=G.some(Y=>Y.identifier===oe.identifier&&Y.resourceState!==S.jD.Duplicate)}),(te.selected||I)&&(te.existingHasSecrets&&le.push(this.importWizardProvider.getSecretStep(te)),te.hadSecrets&&!te.existingHasSecrets&&le.push(this.importWizardProvider.getSecretStep(te)),te.existingHasCertificates&&L.push(this.importWizardProvider.getCertificateStep(te)),te.hadCertificates&&!te.existingHasCertificates&&L.push(this.importWizardProvider.getCertificateStep(te)))}this.stepsAhead.push(...le),this.stepsAhead.push(...L),this.showClaimTypeSummary(G)&&this.stepsAhead.push(this.importWizardProvider.getStep(_.M.claimTypeSummary)),this.showResourceSummary(G)&&this.stepsAhead.push(this.importWizardProvider.getStep(_.M.resourcesSummary)),U.next()}),U}sortImportResources(U){U=(U=U.sort((ie,le)=>ie.displayName.toUpperCase().localeCompare(le.displayName.toUpperCase()))).sort((ie,le)=>+ie.conflictedByDependencies-+le.conflictedByDependencies);const G=[S.jD.Conflicted,S.jD.New,S.jD.Duplicate];return U.sort((ie,le)=>G.indexOf(ie.resourceState)-G.indexOf(le.resourceState))}showResourceSummary(U){const G=U.filter(le=>le.resourceType===S.ot.Client&&!0===le.selected).map(le=>le.identifier),ie=U.filter(le=>(le.resourceType===S.ot.IdentityResource||le.resourceType===S.ot.ProtectedResource)&&le.dependantClients.map(L=>L.identifier).some(L=>G.includes(L)));return ie.length>0&&ie.some(le=>le.resourceState===S.jD.Conflicted)}showClaimTypeSummary(U){const G=U.filter(le=>le.resourceType===S.ot.Client&&!0===le.selected).map(le=>le.identifier),ie=U.filter(le=>le.resourceType===S.ot.ClaimType&&le.dependantClients.map(L=>L.identifier).some(L=>G.includes(L)));return ie.length>0&&ie.some(le=>le.resourceState===S.jD.Conflicted)}showFinalSummary(U){return U.some(G=>G.resourceType!==S.ot.Client)}static{this.\u0275fac=function(G){return new(G||x)(R.KVO(k.a),R.KVO(O.o))}}static{this.\u0275prov=R.jDH({token:x,factory:x.\u0275fac})}}return x})()},5847:(et,me,u)=>{"use strict";u.d(me,{a:()=>L});var i=u(1744),e=u(7728),_=u(5088),g=u(7629),S=u(6799),v=u(4438),f=u(5826),d=u(1780);let E=(()=>{class te extends S.P{set data(oe){null!==oe&&(this.resetOnClose=oe)}constructor(oe){super(),this.importWizardService=oe,this.isWarningModal=!0,this.resetOnClose=!1}yes(){this.resetOnClose?this.importWizardService.resetImport.next("Resetting Import"):this.quit()}no(){this.back()}static{this.\u0275fac=function(Y){return new(Y||te)(v.rXU(f.o))}}static{this.\u0275cmp=v.VBU({type:te,selectors:[["app-import-close-warning"]],features:[v.Vt3],decls:14,vars:12,consts:[[1,"modal-body","tw-text-center","scrollbars"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","stayBtn",1,"tw-btn-danger",3,"click"],["id","leaveBtn",1,"tw-btn-link","tw--mr-4",3,"click"]],template:function(Y,_e){1&Y&&(v.j41(0,"div",0)(1,"p"),v.EFF(2),v.nI1(3,"translate"),v.nI1(4,"translate"),v.k0s()(),v.j41(5,"div",1)(6,"div",2)(7,"div",3)(8,"button",4),v.bIt("click",function(){return _e.no()}),v.EFF(9),v.nI1(10,"translate"),v.k0s()(),v.j41(11,"button",5),v.bIt("click",function(){return _e.yes()}),v.EFF(12),v.nI1(13,"translate"),v.k0s()()()),2&Y&&(v.R7$(2),v.Lme("",v.bMT(3,4,"Clients.Import.Wizard.Warning.Text1")," ",v.bMT(4,6,"Clients.Import.Wizard.Warning.Text2"),""),v.R7$(7),v.JRh(v.bMT(10,8,"Notifications.StayHere")),v.R7$(3),v.JRh(v.bMT(13,10,"Notifications.DiscardChanges")))},dependencies:[d.D9],encapsulation:2})}}return te})();var m=u(4414),F=u(590),w=u(177);function C(te,I){1&te&&(v.j41(0,"p"),v.EFF(1),v.nI1(2,"translate"),v.k0s()),2&te&&(v.R7$(),v.JRh(v.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.Confirmation.Resource")))}let R=(()=>{class te extends S.P{set data(oe){this.resource=oe,this.summaryDisplayType=F.n.getSummaryDisplayType(oe.resourceType)}constructor(oe){super(),this.importWizardService=oe,this.isWarningModal=!0}yes(){this.importWizardService.deselectResource(this.resource),this.reset()}no(){this.back()}static{this.\u0275fac=function(Y){return new(Y||te)(v.rXU(f.o))}}static{this.\u0275cmp=v.VBU({type:te,selectors:[["app-conflicts-confirmation"]],features:[v.Vt3],decls:14,vars:11,consts:[[1,"modal-body","tw-text-center"],[4,"ngIf"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","leaveBtn",1,"tw-btn-danger","tw--mr-4",3,"click"],["id","stayBtn",1,"tw-btn-link",3,"click"]],template:function(Y,_e){1&Y&&(v.j41(0,"div",0)(1,"p"),v.EFF(2),v.nI1(3,"translate"),v.k0s(),v.DNE(4,C,3,3,"p",1),v.k0s(),v.j41(5,"div",2)(6,"div",3)(7,"div",4)(8,"button",5),v.bIt("click",function(){return _e.no()}),v.EFF(9),v.nI1(10,"translate"),v.k0s()(),v.j41(11,"button",6),v.bIt("click",function(){return _e.yes()}),v.EFF(12),v.nI1(13,"translate"),v.k0s()()()),2&Y&&(v.R7$(2),v.Lme("",v.bMT(3,5,"Clients.Import.Wizard.Summary.Conflicts.Confirmation.AreYouSure")," ",null==_e.resource?null:_e.resource.displayName,""),v.R7$(2),v.Y8G("ngIf","Client"!==_e.summaryDisplayType),v.R7$(5),v.JRh(v.bMT(10,7,"Clients.Import.Wizard.Warning.No")),v.R7$(3),v.JRh(v.bMT(13,9,"Clients.Import.Wizard.Warning.Yes")))},dependencies:[w.bT,d.D9],encapsulation:2})}}return te})();var k=u(5696),O=u(1138),H=u(4406),x=u(2858),$=u(467),U=u(5404);const G=["certReader"],ie=["nextButton"];let le=(()=>{class te extends S.P{get data(){return this._subject}set data(oe){this._subject=oe}constructor(oe){super(),this.translate=oe}certificateDataLoaded(oe){this.nextButton.nativeElement.disabled=!oe}goNext(){var oe=this;return(0,$.A)(function*(){const Y=yield oe.certReaderComponent.getCertificateModel();oe.data.next(Y),oe.importWizardController.goToPreviousStep()})()}static{this.\u0275fac=function(Y){return new(Y||te)(v.rXU(d.c$))}}static{this.\u0275cmp=v.VBU({type:te,selectors:[["app-import-certificate-picker"]],viewQuery:function(Y,_e){if(1&Y&&(v.GBs(G,5),v.GBs(ie,5)),2&Y){let Oe;v.mGM(Oe=v.lsd())&&(_e.certReaderComponent=Oe.first),v.mGM(Oe=v.lsd())&&(_e.nextButton=Oe.first)}},features:[v.Vt3],decls:21,vars:21,consts:[["certReader",""],["nextButton",""],[1,"modal-body"],[3,"dataExists","uploadCert","uploadCertHelp","certMetaData","certMetaDataHelp"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","nextBtn","disabled","",1,"tw-btn-success","tw-mr-3",3,"click"],["id","backBtn",1,"tw-btn",3,"click"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"]],template:function(Y,_e){if(1&Y){const Oe=v.RV6();v.j41(0,"div",2)(1,"app-cert-reader",3,0),v.nI1(3,"translate"),v.nI1(4,"translate"),v.nI1(5,"translate"),v.nI1(6,"translate"),v.bIt("dataExists",function(xe){return v.eBV(Oe),v.Njj(_e.certificateDataLoaded(xe))}),v.k0s()(),v.nrm(7,"div",4),v.j41(8,"div",5)(9,"div",6)(10,"div",7)(11,"button",8,1),v.bIt("click",function(){return v.eBV(Oe),v.Njj(_e.goNext())}),v.EFF(13),v.nI1(14,"translate"),v.k0s(),v.j41(15,"button",9),v.bIt("click",function(){return v.eBV(Oe),v.Njj(_e.back())}),v.EFF(16),v.nI1(17,"translate"),v.k0s()(),v.j41(18,"button",10),v.bIt("click",function(){return v.eBV(Oe),v.Njj(_e.cancel())}),v.EFF(19),v.nI1(20,"translate"),v.k0s()()()}2&Y&&(v.R7$(),v.Y8G("uploadCert",v.bMT(3,7,"Clients.Saml.UploadCert"))("uploadCertHelp",v.bMT(4,9,"Clients.Saml.UploadCertHelp"))("certMetaData",v.bMT(5,11,"Clients.Saml.ServiceProviderSigningCert"))("certMetaDataHelp",v.bMT(6,13,"Clients.Saml.ServiceProviderSigningCertHelp")),v.R7$(12),v.SpI(" ",v.bMT(14,15,"Common.Add")," "),v.R7$(3),v.SpI(" ",v.bMT(17,17,"Common.Back")," "),v.R7$(3),v.SpI(" ",v.bMT(20,19,"Common.Cancel")," "))},dependencies:[U.V,d.D9],encapsulation:2})}}return te})(),L=(()=>{class te{constructor(){this.stepMap=new Map,this.stepMap.set(m.M.clientSummary,new Q(e.z,"Clients.Import.Wizard.Summary.Title.Client",[i.ot.Client])),this.stepMap.set(m.M.resourcesSummary,new Q(e.z,"Clients.Import.Wizard.Summary.Title.Resource",[i.ot.IdentityResource,i.ot.ProtectedResource])),this.stepMap.set(m.M.claimTypeSummary,new Q(e.z,"Clients.Import.Wizard.Summary.Title.ClaimType",[i.ot.ClaimType])),this.stepMap.set(m.M.summaryConflicts,new Q(g.oG,"Clients.Import.Wizard.Summary.Conflicts.ReviewChanges",null,!0)),this.stepMap.set(m.M.importComplete,new Q(_.E,"Clients.Import.Wizard.CompleteImport.ImportComplete")),this.stepMap.set(m.M.importCloseWarning,new Q(E,"Clients.Import.Wizard.Warning.Title",null,!0)),this.stepMap.set(m.M.summaryConflictsConfirmation,new Q(R,"Clients.Import.Wizard.Warning.Title",null,!0)),this.stepMap.set(m.M.finalSummary,new Q(k.s,"Clients.Import.Wizard.Summary.Title.Final")),this.stepMap.set(m.M.importDownloadWarning,new Q(H.X,"Clients.Import.Wizard.CompleteImport.DownloadSecrets")),this.stepMap.set(m.M.importUploadCertificate,new Q(le,"Clients.Import.Wizard.Certificates.AddCertificate",null,!0))}getStep(oe){return this.stepMap.get(oe)}getSecretStep(oe){return new Q(O.u,"Clients.Import.Wizard.Secrets.Title",oe)}getCertificateStep(oe){return new Q(x.zI,"Clients.Import.Wizard.Certificates.Title",oe)}static{this.\u0275fac=function(Y){return new(Y||te)}}static{this.\u0275prov=v.jDH({token:te,factory:te.\u0275fac})}}return te})();class Q{constructor(I,oe,Y,_e=!1){this.component=I,this.stepTitle=oe,this.data=Y,this.isDeadEnd=_e}}},5826:(et,me,u)=>{"use strict";u.d(me,{o:()=>S});var i=u(1744),e=u(2771),_=u(1594),g=u(4438);let S=(()=>{class v{constructor(){this.importResourceTypeMap=new Map([[i.ot.Client,"Client"],[i.ot.ClaimType,"Claim Type"],[i.ot.ProtectedResource,"Protected Resource"],[i.ot.IdentityResource,"Identity Resource"]]),this.cache=new e.m(1),this.resetImport=new e.m(1)}updateSelectedClients(d){this.cache.pipe((0,_.$)()).subscribe(E=>{d=d.filter(m=>m.resourceType===i.ot.Client),E.forEach(m=>{const F=d.find(w=>w.identifier===m.identifier);void 0!==F&&(m.selected=F.selected)}),this.cache.next(E)})}selectResource(d){this.setResourcesSelected(d,!0)}deselectResource(d){this.setResourcesSelected(d,!1)}setResourcesSelected(d,E){this.cache.pipe((0,_.$)()).subscribe(m=>{let F;F=d.resourceType===i.ot.Client?[d.identifier]:d.dependantClients.filter(C=>C.state===i.XF.Importing).map(C=>C.identifier),F.forEach(w=>{m.find(C=>C.identifier===w&&C.resourceType===i.ot.Client).selected=E}),this.cache.next(m)})}downloadClientSecretsFromCache(){const d=new e.m;return this.cache.pipe((0,_.$)()).subscribe(E=>{const m=E.filter(R=>R.secrets&&R.secrets.length>0);let F="Type,Id,Name,Secret\r\n";m.forEach(R=>{R.secrets.forEach(k=>{const O=this.importResourceTypeMap.get(R.resourceType);F+=O+","+R.identifier+","+R.displayName+","+k.value+"\r\n"})});const w=new Blob([F],{type:"application/csv"}),C=document.createElement("a");C.download="import-secrets.csv",C.href=window.URL.createObjectURL(w),C.click(),C.remove(),d.next()}),d}static{this.\u0275fac=function(E){return new(E||v)}}static{this.\u0275prov=g.jDH({token:v,factory:v.\u0275fac})}}return v})()},4414:(et,me,u)=>{"use strict";u.d(me,{M:()=>i});let i=(()=>{class e{static{this.importUploadCertificate="CertificateUpload"}static{this.clientSummary="ClientSummary"}static{this.resourcesSummary="ResourcesSummary"}static{this.summaryConflicts="SummaryConflicts"}static{this.claimTypeSummary="ClaimTypeSummary"}static{this.importComplete="ImportComplete"}static{this.importCloseWarning="ImportCloseWarning"}static{this.summaryConflictsConfirmation="SummaryConflictsConfirmation"}static{this.finalSummary="FinalSummary"}static{this.importDownloadWarning="ImportDownloadWarning"}}return e})()},3853:(et,me,u)=>{"use strict";u.d(me,{X:()=>d});var i=u(1626),e=u(4589);class g{constructor(){}isExpectingStarterConsent(){return this.isExpired&&this.licenseType==e.G.Demo}isStarterLicense(){return this.licenseType==e.G.Starter}get userLimitReached(){return this.userQuotaRemaining<=0&&this.isStarterLicense()}get overUserLimit(){return this.userQuotaRemaining<0&&this.isStarterLicense()}get clientLimitReached(){return this.clientQuotaRemaining<=0&&this.isStarterLicense()}get overClientLimit(){return this.clientQuotaRemaining<0&&this.isStarterLicense()}}var S=u(1594),v=u(6354),f=u(4438);let d=(()=>{class E{constructor(F){this.http=F,this.headers=new i.Lr,this.actionUrl="license"}getLicenseInfo(){return this.headers=this.headers.set("Content-Type","application/json").set("Accept","application/json").set("Access-Control-Allow-Origin","true"),this.http.get(this.actionUrl,{headers:this.headers}).pipe((0,S.$)(),(0,v.T)(F=>{var w=new g;return w.organisation=F.organisation,w.licenseType=F.licenseType,w.isExpired=F.isExpired,w.isInGracePeriod=F.isInGracePeriod,w.gracePeriodExpiry=F.gracePeriodExpiry,w.maxUsers=F.maxUsers,w.maxClients=F.maxClients,w.userQuotaRemaining=F.userQuotaRemaining,w.clientQuotaRemaining=F.clientQuotaRemaining,w}))}static{this.\u0275fac=function(w){return new(w||E)(f.KVO(i.Qq))}}static{this.\u0275prov=f.jDH({token:E,factory:E.\u0275fac})}}return E})()},7773:(et,me,u)=>{"use strict";u.d(me,{n:()=>_});var i=u(1626),e=u(4438);let _=(()=>{class g{constructor(v){this.http=v,this.headers=new i.Lr,this.actionUrl="permission",this.headers=this.headers.set("Content-Type","application/json").set("Accept","application/json").set("Access-Control-Allow-Origin","true")}getUserPermissions(){return this.http.get(this.actionUrl,{headers:this.headers})}getAvaliablePermissions(){return this.http.get(this.actionUrl+"/avaliable",{headers:this.headers})}static{this.\u0275fac=function(f){return new(f||g)(e.KVO(i.Qq))}}static{this.\u0275prov=e.jDH({token:g,factory:g.\u0275fac})}}return g})()},5893:(et,me,u)=>{"use strict";u.d(me,{P:()=>d,x:()=>f});var i=u(1626),e=u(2771),_=u(7673),g=u(7263),S=u(4438),v=u(9564);let f=(()=>{class E{constructor(F,w){this.http=F,this.headersService=w,this.protectedResourceSubject=new e.m(1),this.actionUrl="ProtectedResources",this.headers=w.setHeaders()}getCachedProtectedResource(){return this.protectedResourceSubject}getProtectedResources(F){let w=new i.Nl;return(0,g.gP)(F)||(w=w.set("name",F)),this.http.get(this.actionUrl,{headers:this.headers,params:w})}getResourcesPaginated(F,w,C){const R=`${this.actionUrl}/getPaginated`;let k=new i.Nl;return(0,g.gP)(F)||(k=k.set("name",F)),w&&(k=k.append("page",w)),C&&(k=k.append("pageSize",C)),this.http.get(R,{headers:this.headers,params:k})}addResource(F){const w=`${this.actionUrl}/`,C=JSON.stringify(F);return this.http.post(w,C,{headers:this.headers})}getResource(F){return this.http.get(`${this.actionUrl}/${F}`,{headers:this.headers})}updateResource(F){return this.http.put(`${this.actionUrl}/${F.id}`,F,{headers:this.headers})}updateResourceSecret(F,w){return this.http.put(`${this.actionUrl}/${F}/secrets/${w.id}`,w,{headers:this.headers})}removeResourceSecret(F,w){return this.http.delete(`${this.actionUrl}/${F}/secrets/${w}`,{headers:this.headers})}addResourceSecret(F,w){return this.http.post(`${this.actionUrl}/${F}/secrets`,w,{headers:this.headers})}updateResourceScope(F,w,C){const R=encodeURIComponent(C);return this.http.put(`${this.actionUrl}/${F}/scopes/${R}`,w,{headers:this.headers})}addResourceScope(F,w){return this.http.post(`${this.actionUrl}/${F}/scopes`,w,{headers:this.headers})}deleteProtectedResource(F){return this.http.delete(`${this.actionUrl}/${F}`,{headers:this.headers})}deleteScope(F,w){const C=encodeURIComponent(w);return this.http.delete(`${this.actionUrl}/${F}/scopes/${C}`,{headers:this.headers})}getAllScopes(){return this.http.get(`${this.actionUrl}/scopes`,{headers:this.headers})}static{this.\u0275fac=function(w){return new(w||E)(S.KVO(i.Qq),S.KVO(v.m))}}static{this.\u0275prov=S.jDH({token:E,factory:E.\u0275fac})}}return E})(),d=(()=>{class E extends f{getProtectedResources(F){return(0,_.of)([])}static{this.\u0275fac=(()=>{let F;return function(C){return(F||(F=S.xGo(E)))(C||E)}})()}static{this.\u0275prov=S.jDH({token:E,factory:E.\u0275fac})}}return E})()},6199:(et,me,u)=>{"use strict";u.d(me,{v:()=>E});var i=u(983),e=u(6354),_=u(9437),g=u(8284),S=u(4438),v=u(3519),f=u(1583),d=u(5424);let E=(()=>{class m{constructor(w,C,R){this.roleService=w,this.router=C,this.errorService=R}resolve(w,C){const R=w.paramMap.get("Id");return this.roleService.getRole(R).pipe((0,e.T)(k=>(k&&this.roleService.getCachedRole().next(k),k)),(0,_.W)((k,O)=>(404===k.status?this.errorService.resourceNotFound(g.v.role):this.errorService.handleError(k),(0,i.I)())))}static{this.\u0275fac=function(C){return new(C||m)(S.KVO(v.P),S.KVO(f.Ix),S.KVO(d.I))}}static{this.\u0275prov=S.jDH({token:m,factory:m.\u0275fac})}}return m})()},3519:(et,me,u)=>{"use strict";u.d(me,{P:()=>v});var i=u(1626),e=u(2771),_=u(7263),g=u(4438),S=u(9564);let v=(()=>{class f{constructor(E,m){this.http=E,this.RoleSubject=new e.m(1),this.actionUrl="roles",this.headers=m.setHeaders()}getCachedRole(){return this.RoleSubject}setCachedRole(E){this.RoleSubject.next(E)}getRoles(E,m){let F=new i.Nl;return(0,_.gP)(E)||(F=F.append("name",E)),F=F.append("sort",(0,_.gP)(m)?"name":m),this.http.get(this.actionUrl,{headers:this.headers,params:F})}getRole(E){return this.http.get(`${this.actionUrl}/${E}`,{headers:this.headers})}deleteRole(E){return this.http.delete(`${this.actionUrl}/${E.id}`,{headers:this.headers})}addRole(E){const m=`${this.actionUrl}/`,F=JSON.stringify(E);return this.http.post(m,F,{headers:this.headers})}updateRole(E){const m=JSON.stringify(E);return this.http.put(`${this.actionUrl}/${E.id}`,m,{headers:this.headers})}getUsersInRole(E,m,F,w){let C=new i.Nl;return(0,_.gP)(w)||(C=C.append("q",w)),m&&(C=C.append("page",String(m))),F&&(C=C.append("pageSize",String(F))),this.http.get(`${this.actionUrl}/${E}/users`,{headers:this.headers,params:C})}addAndRemoveUsers(E,m){const F=JSON.stringify(m);return this.http.put(`${this.actionUrl}/${E}/users`,F,{headers:this.headers})}static{this.\u0275fac=function(m){return new(m||f)(g.KVO(i.Qq),g.KVO(S.m))}}static{this.\u0275prov=g.jDH({token:f,factory:f.\u0275fac})}}return f})()},2892:(et,me,u)=>{"use strict";u.d(me,{h:()=>O});var i=u(7673),e=u(5060),_=u(1413),g=u(5558),S=u(4861),v=u(4438),f=u(7883),d=u(6801),E=u(1339),m=u(7005),F=u(5424),w=u(6888),C=u(1583),R=u(9196),k=u(2972);let O=(()=>{class H{constructor($,U,G,ie,le,L,Q,te,I){this.securityService=$,this.healthCheckService=U,this.authService=G,this.localizeRouter=ie,this.errorService=le,this.loginTrackingService=L,this.router=Q,this.configService=te,this.appComponentViewService=I}canActivate($,U){return this.healthCheckService.uiReady?this.authDecision($,U):this.healthCheckService.uiHealthCheckComplete.pipe((0,g.n)(G=>this.authDecision($,U)))}authDecision($,U){return document.dispatchEvent(new Event("appready")),this.authService.isAuthenticated?(this.authService.user==S.M.DefaultAdministratorUsername&&!this.authService.isCreatingInitialAdministrator&&this.configService.getConfig().subscribe(G=>{if(G.featureFlagOptions.defaultUserValidation){this.authService.isCreatingInitialAdministrator=!0;const ie=this.localizeRouter.translateRoute("/initial-admin-creation");this.router.navigate([ie])}}),void 0!==this.securityService.userPermissions?(0,i.of)(this.permissionAuthDecision($)):this.permissionAuthDecisionAsObservable($)):(this.securityService.startLogin(U.url),e.t)}permissionAuthDecision($){const U=$.data.permissions;if(void 0===U)return!0;for(let G=0;G<U.length;G++)if(this.securityService.userPermissions.includes(U[G]))return!0;return this.errorService.handleError({status:403}),!1}permissionAuthDecisionAsObservable($){const U=new _.B;return this.securityService.init().subscribe(()=>{U.next(this.permissionAuthDecision($))}),U.asObservable()}static{this.\u0275fac=function(U){return new(U||H)(v.KVO(f.i),v.KVO(d.M),v.KVO(E.u),v.KVO(m.QG),v.KVO(F.I),v.KVO(w.W),v.KVO(C.Ix),v.KVO(R.w),v.KVO(k.X))}}static{this.\u0275prov=v.jDH({token:H,factory:H.\u0275fac})}}return H})()},7883:(et,me,u)=>{"use strict";u.d(me,{i:()=>U});var i=u(1413);class e extends i.B{constructor(){super(...arguments),this._value=null,this._hasValue=!1,this._isComplete=!1}_checkFinalizedStatuses(ie){const{hasError:le,_hasValue:L,_value:Q,thrownError:te,isStopped:I,_isComplete:oe}=this;le?ie.error(te):(I||oe)&&(L&&ie.next(Q),ie.complete())}next(ie){this.isStopped||(this._value=ie,this._hasValue=!0)}complete(){const{_hasValue:ie,_value:le,_isComplete:L}=this;L||(this._isComplete=!0,ie&&super.next(le),super.complete())}}var _=u(7468),g=u(3178),S=u(6354),v=u(6697),f=u(7263),d=u(9838),E=u(4589),m=u(4438),F=u(1583),w=u(7005),C=u(9196),R=u(1339),k=u(7773),O=u(3853),H=u(5424),x=u(6888),$=u(1780);let U=(()=>{class G{constructor(le,L,Q,te,I,oe,Y,_e,Oe){this.router=le,this.localize=L,this.configService=Q,this.authService=te,this.permissionService=I,this.licenseService=oe,this.errorService=Y,this.loginTrackingService=_e,this.translate=Oe,this.userPermissions$=new e,this.userManagerView=!1,this.userManagerReadOnlyView=!1,this.identityServerManagerView=!1,this.identityServerManagerReadOnlyView=!1,this.allReadOnlyView=!1,this.allView=!1,this.auditerView=!1,this.noPermissions=!1,this.licenseType="",this.organisation="",this.nonProduction=!1,this.storage=sessionStorage}startLogin(le){let Q=le??this.router.url;Q=Q.replace(`/${this.localize.parser.currentLang}`,""),this.storage.setItem("redirectUrl",Q),this.loginTrackingService.startLogin(),this.authService.login()}onAuthorizationResultComplete(le){if(le.isAuthenticated){let L=this.storage.getItem("redirectUrl");null==L&&(L="/home");const Q=this.localize.translateRoute(L);this.handleSuccessfulAuthorization(Q)}else this.handleUnsuccessfulAuthorization(le.username)}handleSuccessfulAuthorization(le){this.init().subscribe(()=>{this.loginTrackingService.endLogin(),this.storage.removeItem("redirectUrl"),this.router.navigateByUrl(le)},L=>{this.loginTrackingService.canRetryLogin?(this.loginTrackingService.retryLogin(),this.authService.login()):this.errorService.handleError(L,{toastBody:this.translate.instant("Errors.LoginLoopError",{link:d.$9.loginRedirectLoopDocs}),toastTitle:this.translate.instant("Notifications.Error")},{timeOut:0,extendedTimeOut:0,enableHtml:!0})})}handleUnsuccessfulAuthorization(le){if((0,f.gP)(le))return void(this.loginTrackingService.canRetryLogin?(this.loginTrackingService.retryLogin(),this.authService.login()):this.errorService.handleError({},{toastBody:this.translate.instant("Errors.LoginLoopError",{link:d.$9.loginRedirectLoopDocs}),toastTitle:this.translate.instant("Notifications.Error")},{timeOut:0,extendedTimeOut:0,enableHtml:!0}));const L=this.localize.translateRoute("/unauthorized");this.router.navigateByUrl(L)}isNonProd(){return this.licenseType===E.G.Demo||this.licenseType===E.G.NonProduction}init(){const le=[this.initUsersPermissions(),this.initLicenseInfo(),this.initUiConfiguration()];return(0,_.p)(le)}initUsersPermissions(){return this.permissionService.getUserPermissions().pipe((0,S.T)(le=>{this.userPermissions=le.permissions,this.policyClaims=le.policyClaims,void 0!==this.userPermissions&&(this.userPermissions.includes(g.a[g.a.All])?(this.userManagerView=!0,this.userManagerReadOnlyView=!1,this.identityServerManagerView=!0,this.identityServerManagerReadOnlyView=!1,this.allReadOnlyView=!1,this.auditerView=!0,this.allView=!0):this.userPermissions.includes(g.a[g.a.AllReadOnly])?(this.userManagerView=!1,this.userManagerReadOnlyView=!0,this.identityServerManagerView=!1,this.identityServerManagerReadOnlyView=!0,this.allReadOnlyView=!0,this.auditerView=!0,this.allView=!1):(this.userManagerView=this.userPermissions.includes(g.a[g.a.UserManager]),this.userManagerReadOnlyView=this.userPermissions.includes(g.a[g.a.UserManagerReadOnly]),this.identityServerManagerView=this.userPermissions.includes(g.a[g.a.IdentityServerManager]),this.identityServerManagerReadOnlyView=this.userPermissions.includes(g.a[g.a.IdentityServerManagerReadOnly]),this.auditerView=this.userPermissions.includes(g.a[g.a.Auditer]),this.userManagerView||this.userManagerReadOnlyView||this.identityServerManagerView||this.identityServerManagerReadOnlyView||this.auditerView||this.allView||this.allReadOnlyView||(this.noPermissions=!0))),this.userPermissions$.next(le.permissions),this.userPermissions$.complete()},le=>{this.errorService.handleError(le)}))}initLicenseInfo(){return this.licenseService.getLicenseInfo().pipe((0,S.T)(le=>{this.licenseType=le.licenseType,"NonProduction"===this.licenseType&&(this.licenseType=E.G.NonProduction),le.isStarterLicense()&&(this.licenseType=E.G.Starter),this.nonProduction=le.licenseType!==E.G.Production,this.organisation=le.organisation}))}initUiConfiguration(){return this.configService.getConfig().pipe((0,v.s)(1))}static{this.\u0275fac=function(L){return new(L||G)(m.KVO(F.Ix),m.KVO(w.QG),m.KVO(C.w),m.KVO(R.u),m.KVO(k.n),m.KVO(O.X),m.KVO(H.I),m.KVO(x.W),m.KVO($.c$))}}static{this.\u0275prov=m.jDH({token:G,factory:G.\u0275fac})}}return G})()},9156:(et,me,u)=>{"use strict";u.d(me,{s:()=>S});var i=u(2771),e=u(4438),_=u(1626),g=u(9564);let S=(()=>{class v{constructor(d,E){this.http=d,this.headersService=E,this.ServiceProviderSubject=new i.m(1),this.actionUrl="clients",this.headers=E.setHeaders()}getCachedServiceProvider(){return this.ServiceProviderSubject}getServiceProvider(d){return this.http.get(`${this.actionUrl}/${d}/saml`,{headers:this.headers})}updateServiceProvider(d,E){const m=`${this.actionUrl}/${d}/saml`,F={allowIdpInitiatedSso:E.allowIdpInitiatedSso,assertionConsumerServices:E.assertionConsumerServices,artifactResolutionServices:E.artifactResolutionServices,claimMappings:E.claimMappings,encryptAssertions:E.encryptAssertions,requireSamlMessageDestination:E.requireSamlMessageDestination,signAssertions:E.signAssertions,singleLogoutServices:E.singleLogoutServices,requireAuthenticationRequestsSigned:E.requireAuthenticationRequestsSigned,artifactDeliveryBindingType:E.artifactDeliveryBindingType,requireSignedArtifactResolveRequests:E.requireSignedArtifactResolveRequests,requireSignedArtifactResponses:E.requireSignedArtifactResponses,nameIdentifierFormat:E.nameIdentifierFormat},w=this.headersService.setHeaders("application/vnd.adminui.sam-client-update-v2+json","application/vnd.adminui.saml-client-v2+json");return this.http.put(m,F,{headers:w})}setEncryptionCertificateViaFile(d,E){const m=`${this.actionUrl}/${d}/saml/certificates/encryption`,F=E,w=this.headersService.setHeaders("application/x-x509-ca-cert");return this.http.put(m,F,{headers:w})}setEncryptionCertificateViaMetadata(d,E){const m=`${this.actionUrl}/${d}/saml/certificates/encryption`,F=E,w=this.headersService.setHeaders("application/x-x509-ca-cert-base64");return this.http.put(m,F,{headers:w})}deleteEncryptionCertificate(d){return this.http.delete(`${this.actionUrl}/${d}/saml/certificates/encryption`,{headers:this.headers})}addSigningCertificateViaFile(d,E){const m=`${this.actionUrl}/${d}/saml/certificates/signing`,F=E,w=this.headersService.setHeaders("application/x-x509-ca-cert");return this.http.post(m,F,{headers:w})}addSigningCertificateViaMetadata(d,E){const m=`${this.actionUrl}/${d}/saml/certificates/signing`,F=E,w=this.headersService.setHeaders("application/x-x509-ca-cert-base64");return this.http.post(m,F,{headers:w})}deleteSigningCertificate(d,E){return this.http.delete(`${this.actionUrl}/${d}/saml/certificates/signing/${E}`,{headers:this.headers})}static{this.\u0275fac=function(E){return new(E||v)(e.KVO(_.Qq),e.KVO(g.m))}}static{this.\u0275prov=e.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})()},8556:(et,me,u)=>{"use strict";u.d(me,{S:()=>v});var i=u(1594),e=u(4438),_=u(9156),g=u(5691),S=u(5424);let v=(()=>{class f{constructor(E,m,F){this.serviceProviderService=E,this.cache=m,this.errorService=F}uploadFile(E,m){return this.serviceProviderService.addSigningCertificateViaFile(E,m)}uploadViaMetaData(E,m){return this.serviceProviderService.addSigningCertificateViaMetadata(E,m)}updateCertCache(E){this.serviceProviderService.getServiceProvider(E).subscribe(m=>{this.cache.unsavedCache$.pipe((0,i.$)()).subscribe(F=>{F.signingCertificates=m.signingCertificates,this.cache.unsavedCache.next(F)})},m=>{this.errorService.handleError(m)})}static{this.\u0275fac=function(m){return new(m||f)(e.KVO(_.s),e.KVO(g.d),e.KVO(S.I))}}static{this.\u0275prov=e.jDH({token:f,factory:f.\u0275fac})}}return f})()},3488:(et,me,u)=>{"use strict";u.d(me,{F:()=>_});var i=u(4549),e=u(4438);let _=(()=>{class g{now(){return i.c9.now()}static{this.\u0275fac=function(f){return new(f||g)}}static{this.\u0275prov=e.jDH({token:g,factory:g.\u0275fac})}}return g})()},1575:(et,me,u)=>{"use strict";u.d(me,{v:()=>_});var i=u(4549),e=u(4438);let _=(()=>{class g{now(){return i.c9.now()}static{this.\u0275fac=function(f){return new(f||g)}}static{this.\u0275prov=e.jDH({token:g,factory:g.\u0275fac})}}return g})()},4811:(et,me,u)=>{"use strict";u.d(me,{M:()=>d});var i=u(983),e=u(6354),_=u(9437),g=u(8284),S=u(4438),v=u(5602),f=u(5424);let d=(()=>{class E{constructor(F,w){this.userService=F,this.errorService=w}resolve(F,w){return this.userService.getUser(F.params.Id).pipe((0,e.T)(R=>(R&&this.userService.getCachedUser().next(R),R)),(0,_.W)((R,k)=>(404===R.status?this.errorService.resourceNotFound(g.v.user):this.errorService.handleError(R),(0,i.I)())))}static{this.\u0275fac=function(w){return new(w||E)(S.KVO(v.D),S.KVO(f.I))}}static{this.\u0275prov=S.jDH({token:E,factory:E.\u0275fac})}}return E})()},5602:(et,me,u)=>{"use strict";u.d(me,{D:()=>E});var i=u(1626),e=u(2771),_=u(7673),g=u(6354),S=u(9437),v=u(7263),f=u(4438),d=u(9564);let E=(()=>{class m{constructor(w,C){this.http=w,this.headersService=C,this.userSubject=new e.m(1),this.actionUrl="users",this.headers=this.headersService.setHeaders()}defaultUserExists(){return this.http.get(`${this.actionUrl}/default-user-exists`,{headers:this.headers}).pipe((0,g.T)(()=>!0),(0,S.W)(C=>(0,_.of)(!1)))}getUser(w){return this.http.get(`${this.actionUrl}/${w}`,{headers:this.headers}).pipe((0,g.T)(R=>(this.userSubject.next(R),R),R=>(this.userSubject.error(R),R)))}getCachedUser(){return this.userSubject}getUsers(w,C,R,k,O){let H=new i.Nl;return(0,v.gP)(w)||(H=H.append("q",w)),C&&(H=H.append("page",String(C))),R&&(H=H.append("pageSize",String(R))),k&&(H=H.append("state",k.toString())),O&&(H=H.append("sort",O.toString())),this.http.get(this.actionUrl,{headers:this.headers,params:H})}getUsersLightweight(w,C,R,k,O){let H=new i.Nl;return(0,v.gP)(w)||(H=H.append("q",w)),C&&(H=H.append("page",String(C))),R&&(H=H.append("pageSize",String(R))),k&&(H=H.append("state",k.toString())),O&&(H=H.append("advancedFilters",O.toString())),this.http.get(`${this.actionUrl}/lightweight`,{headers:this.headers,params:H})}addUser(w){const C=`${this.actionUrl}/`,R=JSON.stringify(w);return this.http.post(C,R,{headers:this.headers,observe:"response"})}addInitialAdministrator(w){const C=`${this.actionUrl}/initialadmin`,R=JSON.stringify(w);return this.http.post(C,R,{headers:this.headers,observe:"response"})}getUserApps(w){return this.http.get(`${this.actionUrl}/${w}/apps`,{headers:this.headers})}revokeAllUserApps(w){return this.http.delete(`${this.actionUrl}/${w}/apps`,{headers:this.headers})}revokeSingleUserApp(w,C){return this.http.delete(`${this.actionUrl}/${w}/apps/${C}`,{headers:this.headers})}updateUser(w){const C=`${this.actionUrl}/${w.subject}`,R=JSON.stringify(w);return this.http.put(C,R,{headers:this.headers})}deleteUser(w){return this.http.delete(`${this.actionUrl}/${w.subject}`,{headers:this.headers})}deleteDefaultUser(){return this.http.delete(`${this.actionUrl}/removedefaultuser`,{headers:this.headers})}addUserRoles(w,C){return this.http.post(`${this.actionUrl}/${w}/roles`,C,{headers:this.headers})}deleteUserRoles(w,C){return this.http.request("delete",`${this.actionUrl}/${w}/roles`,{headers:this.headers,body:C})}addUserClaim(w,C){return this.http.post(`${this.actionUrl}/${w}/claims`,C,{headers:this.headers})}updateUserClaim(w,C){return this.http.put(`${this.actionUrl}/${w}/claims`,C,{headers:this.headers})}deleteUserClaim(w,C){return this.http.request("delete",`${this.actionUrl}/${w}/claims`,{headers:this.headers,body:C})}resetPassword(w){return this.http.get(`${this.actionUrl}/${w}/password/reset`,{headers:this.headers})}resetMfa(w){return this.http.get(`${this.actionUrl}/${w}/mfa/reset`,{headers:this.headers})}getUserLogins(w){return this.http.get(`${this.actionUrl}/${w}/logins`,{headers:this.headers})}revokeUserLogin(w,C){return this.http.request("delete",`${this.actionUrl}/${w}/logins`,{headers:this.headers,body:C})}getLightweightUsersAndIfInRole(w,C,R,k,O){let H=new i.Nl;C&&(H=H.append("state",C.toString()));const x=`${this.actionUrl}/lightweight/isinrole/${w}`;return(0,v.gP)(R)||(H=H.append("searchTerm",R)),k&&(H=H.append("page",String(k))),O&&(H=H.append("pageSize",String(O))),this.http.get(x,{headers:this.headers,params:H})}static{this.\u0275fac=function(C){return new(C||m)(f.KVO(i.Qq),f.KVO(d.m))}}static{this.\u0275prov=f.jDH({token:m,factory:m.\u0275fac})}}return m})()},3431:(et,me,u)=>{"use strict";u.d(me,{x:()=>S}),u(7756);var e=u(4438),_=u(1626),g=u(9564);let S=(()=>{class f{constructor(E,m){this.http=E,this.headersService=m,this.actionUrl="webhookconfiguration",this.headers=this.headersService.setHeaders()}getWebhooks(){return this.http.get(this.actionUrl,{headers:this.headers})}saveWebhookConfiguration(E){const m=JSON.stringify(E);return this.http.put(this.actionUrl,m,{headers:this.headers})}static{this.\u0275fac=function(m){return new(m||f)(e.KVO(_.Qq),e.KVO(g.m))}}static{this.\u0275prov=e.jDH({token:f,factory:f.\u0275fac})}}return f})()},2036:(et,me,u)=>{"use strict";u.d(me,{c:()=>g});var i=u(4438),e=u(1626),_=u(9564);let g=(()=>{class S{constructor(f,d){this.http=f,this.headersService=d,this.actionUrl="clients"}getRelyingParty(f){const d=`${this.actionUrl}/${f}/wsfed`,E=this.headersService.setHeaders();return this.http.get(d,{headers:E})}updateRelyingParty(f,d){const E=`${this.actionUrl}/${f}/wsfed`,m=this.headersService.setHeaders("application/vnd.adminui.wsfed-relying-party-v1+json");return this.http.put(E,d,{headers:m})}static{this.\u0275fac=function(d){return new(d||S)(i.KVO(e.Qq),i.KVO(_.m))}}static{this.\u0275prov=i.jDH({token:S,factory:S.\u0275fac})}}return S})()},7294:(et,me,u)=>{"use strict";u.d(me,{n:()=>g});var i=u(4438);const e=[[["","left",""]],[["","right",""]]],_=["[left]","[right]"];let g=(()=>{class S{static{this.\u0275fac=function(d){return new(d||S)}}static{this.\u0275cmp=i.VBU({type:S,selectors:[["app-action-bar"]],ngContentSelectors:_,decls:4,vars:0,consts:[[1,"tw-flex","tw-items-center","tw-bg-grey-100","tw-py-4","tw-sticky","tw-top-0","tw-z-20"],[1,"tw-shrink-0","tw-ml-auto"]],template:function(d,E){1&d&&(i.NAR(e),i.j41(0,"div",0),i.SdG(1),i.j41(2,"div",1),i.SdG(3,1),i.k0s()())},encapsulation:2})}}return S})()},4193:(et,me,u)=>{"use strict";u.d(me,{c:()=>v});var i=u(177),e=u(1583),_=u(1683),g=u(1780),S=u(4438);let v=(()=>{class f{static{this.\u0275fac=function(m){return new(m||f)}}static{this.\u0275mod=S.$C({type:f})}static{this.\u0275inj=S.G2t({imports:[i.MD,e.iI,_.Y,g.h]})}}return f})()},9767:(et,me,u)=>{"use strict";u.d(me,{Ws:()=>e,l1:()=>_});var i=u(9969);function e(){return(0,i.hZ)("fadeInOut",[(0,i.kY)(":enter",[(0,i.iF)({opacity:0}),(0,i.i0)("250ms",(0,i.iF)({opacity:1}))]),(0,i.kY)(":leave",[(0,i.iF)({opacity:1}),(0,i.i0)("250ms",(0,i.iF)({opacity:0}))])])}function _(){return(0,i.hZ)("initLoad",[(0,i.kY)(":enter",[(0,i.iF)({opacity:0}),(0,i.i0)("250ms",(0,i.iF)({opacity:1}))]),(0,i.kY)(":leave",[(0,i.iF)({opacity:1}),(0,i.i0)("250ms",(0,i.iF)({opacity:0}))])])}},7415:(et,me,u)=>{"use strict";u.d(me,{P:()=>m});var i=u(9417),e=u(2571),_=u(534),g=u(3816),S=u(1780),v=u(8389),f=u(6843),d=u(177),E=u(4438);let m=(()=>{class F{static{this.\u0275fac=function(R){return new(R||F)}}static{this.\u0275mod=E.$C({type:F})}static{this.\u0275inj=E.G2t({imports:[d.MD,e.A,i.X1,g.jr,S.h,_.Ss,v.w,f.l]})}}return F})()},9861:(et,me,u)=>{"use strict";u.d(me,{k:()=>en});var i=u(9417),e=u(9172),_=u(1397),g=u(4549),S=u(1413),v=u(7263);class f{constructor(Nt,ve,ae,j){this.auditAction=Nt||"",this.subject=ve||"",this.resourceName=ae||"",this.source=j||""}}class d{constructor(Nt){this.auditAction=Nt.auditSearch.auditAction,this.subject=Nt.auditSearch.subject,this.resourceName=Nt.auditSearch.resourceName,this.source=Nt.auditSearch.source,this.fromDate=Nt.fromDate.toString(),this.toDate=Nt.toDate.toString(),this.page=Nt.page,this.pageSize=Nt.pageSize,this.sortCriteria=Nt.sortCriteria,this.success=Nt.success,this.bySubject=Nt.bySubject}}class E{constructor(Nt,ve,ae,j,se,Be,qe,ht){this.auditSearch=Nt,this.fromDate=ve,this.toDate=ae,this.page=j,this.pageSize=se,this.sortCriteria=Be,this.success=qe,this.bySubject=ht}}var m=u(4438),F=u(2734),w=u(7005),C=u(1583),R=u(7883),k=u(9686),O=u(1575),H=u(177),x=u(534),$=u(7156),U=u(7294),G=u(7384),ie=u(6536),le=u(1780),L=u(1589);function Q(rt,Nt){1&rt&&(m.j41(0,"span",65),m.EFF(1),m.nI1(2,"translate"),m.k0s()),2&rt&&(m.R7$(),m.SpI(" ",m.bMT(2,1,"Auditing.FromDateWarning")," "))}function te(rt,Nt){1&rt&&(m.j41(0,"span",66),m.EFF(1),m.nI1(2,"translate"),m.k0s()),2&rt&&(m.R7$(),m.SpI(" ",m.bMT(2,1,"Auditing.ToDateBehindWarning")," "))}function I(rt,Nt){if(1&rt){const ve=m.RV6();m.j41(0,"div",10)(1,"p",53),m.EFF(2),m.nI1(3,"translate"),m.k0s(),m.j41(4,"ul",19)(5,"li")(6,"button",67),m.bIt("click",function(){m.eBV(ve);const j=m.XpG();return m.Njj(j.setActorOrResource(!0))}),m.EFF(7),m.nI1(8,"translate"),m.k0s()(),m.j41(9,"li")(10,"button",68),m.bIt("click",function(){m.eBV(ve);const j=m.XpG();return m.Njj(j.setActorOrResource(!1))}),m.EFF(11),m.nI1(12,"translate"),m.k0s()()()()}if(2&rt){const ve=m.XpG();m.R7$(2),m.JRh(m.bMT(3,7,"Auditing.ByFilter")),m.R7$(4),m.AVh("tw-btn-link",!ve.getBySubjectFilterState),m.R7$(),m.SpI(" ",m.bMT(8,9,"Auditing.BySubject")," "),m.R7$(3),m.AVh("tw-btn-link",ve.getBySubjectFilterState),m.R7$(),m.SpI(" ",m.bMT(12,11,"Auditing.ByResource")," ")}}function oe(rt,Nt){if(1&rt){const ve=m.RV6();m.j41(0,"li",72)(1,"button",73),m.bIt("click",function(){m.eBV(ve);const j=m.XpG(2);return m.Njj(j.removeFilter("source"))}),m.j41(2,"b",74),m.EFF(3),m.nI1(4,"translate"),m.k0s(),m.j41(5,"span"),m.EFF(6),m.k0s(),m.nrm(7,"span",75),m.k0s()()}if(2&rt){const ve=m.XpG(2);m.R7$(3),m.SpI("",m.bMT(4,2,"Auditing.Source"),":"),m.R7$(3),m.JRh(ve.filterForm.get("auditSearch").get("source").value)}}function Y(rt,Nt){if(1&rt){const ve=m.RV6();m.j41(0,"li",72)(1,"button",76),m.bIt("click",function(){m.eBV(ve);const j=m.XpG(2);return m.Njj(j.removeFilter("subject"))}),m.j41(2,"b",74),m.EFF(3),m.nI1(4,"translate"),m.k0s(),m.j41(5,"span"),m.EFF(6),m.k0s(),m.nrm(7,"span",75),m.k0s()()}if(2&rt){const ve=m.XpG(2);m.R7$(3),m.SpI("",m.bMT(4,2,"Auditing.Subject"),":"),m.R7$(3),m.JRh(ve.filterForm.get("auditSearch").get("subject").value)}}function _e(rt,Nt){if(1&rt){const ve=m.RV6();m.j41(0,"li",72)(1,"button",76),m.bIt("click",function(){m.eBV(ve);const j=m.XpG(2);return m.Njj(j.removeFilter("auditAction"))}),m.j41(2,"b",74),m.EFF(3),m.nI1(4,"translate"),m.k0s(),m.j41(5,"span"),m.EFF(6),m.k0s(),m.nrm(7,"span",75),m.k0s()()}if(2&rt){const ve=m.XpG(2);m.R7$(3),m.SpI("",m.bMT(4,2,"Auditing.Action"),":"),m.R7$(3),m.JRh(ve.filterForm.get("auditSearch").get("auditAction").value)}}function Oe(rt,Nt){if(1&rt){const ve=m.RV6();m.j41(0,"li",72)(1,"button",76),m.bIt("click",function(){m.eBV(ve);const j=m.XpG(2);return m.Njj(j.removeFilter("resourceName"))}),m.j41(2,"b",74),m.EFF(3),m.nI1(4,"translate"),m.k0s(),m.j41(5,"span"),m.EFF(6),m.k0s(),m.nrm(7,"span",75),m.k0s()()}if(2&rt){const ve=m.XpG(2);m.R7$(3),m.SpI("",m.bMT(4,2,"Auditing.Resource"),":"),m.R7$(3),m.JRh(ve.filterForm.get("auditSearch").get("resourceName").value)}}function Re(rt,Nt){if(1&rt&&(m.j41(0,"div",69)(1,"p",51),m.EFF(2),m.nI1(3,"translate"),m.k0s(),m.j41(4,"ul",70),m.DNE(5,oe,8,4,"li",71)(6,Y,8,4,"li",71)(7,_e,8,4,"li",71)(8,Oe,8,4,"li",71),m.k0s()()),2&rt){const ve=m.XpG();m.R7$(2),m.JRh(m.bMT(3,5,"Auditing.ActiveFilters")),m.R7$(3),m.Y8G("ngIf",ve.filterForm.get("auditSearch").get("source").value),m.R7$(),m.Y8G("ngIf",ve.filterForm.get("auditSearch").get("subject").value),m.R7$(),m.Y8G("ngIf",ve.filterForm.get("auditSearch").get("auditAction").value),m.R7$(),m.Y8G("ngIf",ve.filterForm.get("auditSearch").get("resourceName").value)}}function xe(rt,Nt){1&rt&&(m.j41(0,"span"),m.nrm(1,"span",77),m.EFF(2),m.nI1(3,"translate"),m.k0s()),2&rt&&(m.R7$(2),m.SpI(" ",m.bMT(3,1,"Auditing.ShowFilters")," "))}function Je(rt,Nt){1&rt&&(m.j41(0,"span"),m.nrm(1,"span",78),m.EFF(2),m.nI1(3,"translate"),m.k0s()),2&rt&&(m.R7$(2),m.SpI(" ",m.bMT(3,1,"Auditing.HideFilters")," "))}function Te(rt,Nt){1&rt&&(m.j41(0,"option",79),m.EFF(1),m.nI1(2,"translate"),m.k0s()),2&rt&&(m.R7$(),m.SpI(" ",m.bMT(2,1,"Auditing.Subject"),""))}function we(rt,Nt){1&rt&&(m.j41(0,"option",80),m.EFF(1),m.nI1(2,"translate"),m.k0s()),2&rt&&(m.R7$(),m.SpI(" ",m.bMT(2,1,"Auditing.Resource"),""))}function he(rt,Nt){1&rt&&(m.j41(0,"p",81),m.nrm(1,"span",82),m.EFF(2),m.nI1(3,"translate"),m.k0s()),2&rt&&(m.R7$(2),m.SpI(" ",m.bMT(3,1,"Auditing.UpdateWarning")," "))}function Le(rt,Nt){1&rt&&(m.j41(0,"span",87)(1,"span",51),m.EFF(2),m.nI1(3,"translate"),m.k0s()()),2&rt&&(m.R7$(2),m.JRh(m.bMT(3,1,"Common.Loading")))}function Ae(rt,Nt){if(1&rt){const ve=m.RV6();m.j41(0,"app-action-bar"),m.qex(1,83),m.DNE(2,Le,4,3,"span",84),m.j41(3,"button",85),m.nI1(4,"translate"),m.bIt("click",function(){m.eBV(ve);const j=m.XpG();return m.Njj(j.getCSV())}),m.j41(5,"span"),m.nrm(6,"span",86),m.k0s(),m.j41(7,"span",51),m.EFF(8),m.nI1(9,"translate"),m.k0s()(),m.bVm(),m.k0s()}if(2&rt){const ve=m.XpG();m.R7$(2),m.Y8G("ngIf",ve.loadingCSV),m.R7$(),m.Y8G("tooltip",m.bMT(4,4,"Auditing.DownloadResults"))("disabled",(null==ve.pagedResult?null:ve.pagedResult.results.length)<1&&!ve.isLoading||ve.loadingCSV),m.R7$(5),m.JRh(m.bMT(9,6,"Auditing.DownloadResults"))}}function st(rt,Nt){1&rt&&m.nrm(0,"app-simple-loader")}function Fe(rt,Nt){1&rt&&(m.j41(0,"div",88)(1,"div"),m.EFF(2),m.nI1(3,"translate"),m.k0s()()),2&rt&&(m.R7$(2),m.JRh(m.bMT(3,1,"Auditing.NoAuditsFound")))}function ft(rt,Nt){1&rt&&(m.j41(0,"th",101),m.EFF(1),m.nI1(2,"translate"),m.k0s()),2&rt&&(m.R7$(),m.SpI(" ",m.bMT(2,1,"Auditing.Subject")," "))}function Ye(rt,Nt){1&rt&&(m.j41(0,"th",102),m.EFF(1),m.nI1(2,"translate"),m.k0s()),2&rt&&(m.R7$(),m.SpI(" ",m.bMT(2,1,"Auditing.Resource")," "))}function zt(rt,Nt){if(1&rt&&(m.j41(0,"span"),m.EFF(1),m.k0s()),2&rt){const ve=m.XpG(2).$implicit;m.R7$(),m.JRh(ve.subject.name)}}function Lt(rt,Nt){if(1&rt){const ve=m.RV6();m.j41(0,"span")(1,"a",115),m.bIt("click",function(){m.eBV(ve);const j=m.XpG(2).$implicit,se=m.XpG(2);return m.Njj(!!se.resourceNavigate(j.subject))}),m.EFF(2),m.k0s()()}if(2&rt){const ve=m.XpG(2).$implicit,ae=m.XpG(2);m.R7$(),m.FS9("href",ae.buildLink(ve.subject),m.B4B),m.R7$(),m.SpI(" ",ve.subject.name," ")}}function Et(rt,Nt){if(1&rt&&(m.j41(0,"td",114),m.DNE(1,zt,2,1,"span",35)(2,Lt,3,2,"span",35),m.k0s()),2&rt){const ve=m.XpG().$implicit,ae=m.XpG(2);m.R7$(),m.Y8G("ngIf",""==ae.buildLink(ve.subject)),m.R7$(),m.Y8G("ngIf",""!=ae.buildLink(ve.subject))}}function _t(rt,Nt){if(1&rt&&(m.j41(0,"span"),m.EFF(1),m.k0s()),2&rt){const ve=m.XpG(2).$implicit;m.R7$(),m.SpI(" ",ve.resource.name," ")}}function J(rt,Nt){if(1&rt&&(m.j41(0,"span"),m.EFF(1),m.k0s()),2&rt){const ve=m.XpG(3).$implicit;m.R7$(),m.JRh(ve.resource.identifier)}}function X(rt,Nt){if(1&rt&&(m.j41(0,"span"),m.EFF(1),m.k0s()),2&rt){const ve=m.XpG(3).$implicit;m.R7$(),m.JRh(ve.resource.name)}}function q(rt,Nt){if(1&rt){const ve=m.RV6();m.j41(0,"span")(1,"a",115),m.bIt("click",function(){m.eBV(ve);const j=m.XpG(2).$implicit,se=m.XpG(2);return m.Njj(!!se.resourceNavigate(j.resource))}),m.DNE(2,J,2,1,"span",35)(3,X,2,1,"span",35),m.k0s()()}if(2&rt){const ve=m.XpG(2).$implicit,ae=m.XpG(2);m.R7$(),m.FS9("href",ae.buildLink(ve.resource),m.B4B),m.R7$(),m.Y8G("ngIf",""==ve.name),m.R7$(),m.Y8G("ngIf",""!=ve.name)}}function Se(rt,Nt){if(1&rt&&(m.j41(0,"td",116),m.DNE(1,_t,2,1,"span",35)(2,q,4,3,"span",35),m.k0s()),2&rt){const ve=m.XpG().$implicit,ae=m.XpG(2);m.R7$(),m.Y8G("ngIf","*"==ve.resource.name||""==ae.buildLink(ve.resource)),m.R7$(),m.Y8G("ngIf","*"!=ve.resource.name&&""!=ae.buildLink(ve.resource))}}function Ee(rt,Nt){1&rt&&(m.j41(0,"span",117)(1,"span",51),m.EFF(2),m.nI1(3,"translate"),m.k0s()()),2&rt&&(m.R7$(2),m.JRh(m.bMT(3,1,"Common.Yes")))}function lt(rt,Nt){1&rt&&(m.j41(0,"span",118)(1,"span",51),m.EFF(2),m.nI1(3,"translate"),m.k0s()()),2&rt&&(m.R7$(2),m.JRh(m.bMT(3,1,"Common.No")))}function Ue(rt,Nt){1&rt&&m.nrm(0,"span",125)}function at(rt,Nt){1&rt&&m.nrm(0,"span",126)}function Ot(rt,Nt){if(1&rt&&(m.j41(0,"tr",119),m.nrm(1,"td"),m.j41(2,"td",120)(3,"div",121)(4,"span",122),m.DNE(5,Ue,1,0,"span",123)(6,at,1,0,"span",124),m.k0s(),m.j41(7,"span"),m.EFF(8),m.k0s()()()()),2&rt){const ve=m.XpG().$implicit;m.R7$(5),m.Y8G("ngIf",ve.succeeded),m.R7$(),m.Y8G("ngIf",!ve.succeeded),m.R7$(2),m.JRh(ve.description)}}function pt(rt,Nt){if(1&rt){const ve=m.RV6();m.qex(0,null,4),m.j41(2,"tr")(3,"td",103)(4,"button",104),m.bIt("click",function(){m.eBV(ve);const j=m.sdS(1);return m.Njj(j.isOpen=!j.isOpen)}),m.nrm(5,"span",105),m.j41(6,"span",51),m.EFF(7),m.nI1(8,"translate"),m.k0s()()(),m.j41(9,"td"),m.EFF(10),m.nI1(11,"standardDateTime"),m.nrm(12,"div"),m.k0s(),m.j41(13,"td",106),m.EFF(14),m.k0s(),m.DNE(15,Et,3,2,"td",107)(16,Se,3,2,"td",108),m.j41(17,"td",109),m.EFF(18),m.k0s(),m.j41(19,"td",110),m.DNE(20,Ee,4,3,"span",111)(21,lt,4,3,"span",112),m.k0s()(),m.DNE(22,Ot,9,3,"tr",113),m.bVm()}if(2&rt){const ve=Nt.$implicit,ae=m.sdS(1),j=m.XpG(2);m.R7$(5),m.AVh("fa-caret-right",!ae.isOpen),m.R7$(2),m.SpI(" ",m.bMT(8,11,"Auditing.ToggleDetails")," "),m.R7$(3),m.SpI(" ",m.bMT(11,13,ve.when)," "),m.R7$(4),m.SpI(" ",ve.source," "),m.R7$(),m.Y8G("ngIf",!j.resourceBySubject),m.R7$(),m.Y8G("ngIf",!j.resourceByResource),m.R7$(2),m.SpI(" ",ve.action," "),m.R7$(2),m.Y8G("ngIf",ve.succeeded),m.R7$(),m.Y8G("ngIf",!ve.succeeded),m.R7$(),m.Y8G("ngIf",ae.isOpen)}}function it(rt,Nt){if(1&rt){const ve=m.RV6();m.j41(0,"table",89)(1,"thead")(2,"tr")(3,"th",90)(4,"span",51),m.EFF(5),m.nI1(6,"translate"),m.k0s()(),m.j41(7,"th",91),m.bIt("click",function(){m.eBV(ve);const j=m.XpG();return m.Njj(j.sortResults())}),m.j41(8,"span",92),m.EFF(9),m.nI1(10,"translate"),m.k0s(),m.nrm(11,"span",93),m.k0s(),m.j41(12,"th",94),m.EFF(13),m.nI1(14,"translate"),m.k0s(),m.DNE(15,ft,3,3,"th",95)(16,Ye,3,3,"th",96),m.j41(17,"th",97),m.EFF(18),m.nI1(19,"translate"),m.k0s(),m.j41(20,"th",98),m.EFF(21),m.nI1(22,"translate"),m.k0s()()(),m.j41(23,"tbody",99),m.DNE(24,pt,23,15,"ng-container",100),m.k0s()()}if(2&rt){const ve=m.XpG();m.R7$(5),m.JRh(m.bMT(6,10,"Common.Actions")),m.R7$(4),m.JRh(m.bMT(10,12,"Auditing.When")),m.R7$(2),m.AVh("fa-caret-up","when"==ve.filterSort),m.R7$(2),m.JRh(m.bMT(14,14,"Auditing.Source")),m.R7$(2),m.Y8G("ngIf",!ve.resourceBySubject),m.R7$(),m.Y8G("ngIf",!ve.resourceByResource),m.R7$(2),m.JRh(m.bMT(19,16,"Auditing.Action")),m.R7$(3),m.SpI(" ",m.bMT(22,18,"Notifications.Success")," "),m.R7$(3),m.Y8G("ngForOf",ve.pagedResult.results)}}function Ht(rt,Nt){if(1&rt){const ve=m.RV6();m.j41(0,"app-pager",127),m.bIt("onGoToPage",function(j){m.eBV(ve);const se=m.XpG();return m.Njj(se.goToPage(j))}),m.k0s()}if(2&rt){const ve=m.XpG();m.Y8G("totalResults",null==ve.pagedResult?null:ve.pagedResult.totalCount)("currentPage",ve.filterForm.get("page").value)("lastPage",null==ve.pagedResult?null:ve.pagedResult.pageCount)}}let en=(()=>{class rt{get getBySubjectFilterState(){return JSON.parse(this.filterForm.value.bySubject)}get resourceOnly(){return!(0,v.gP)(this.resourceName)}get resourceBySubject(){return this.resourceOnly&&this.getBySubjectFilterState}get resourceByResource(){return this.resourceOnly&&!this.getBySubjectFilterState}constructor(ve,ae,j,se,Be,qe,ht,Ft){this.auditingService=ve,this.localizeRouter=ae,this.router=j,this.fb=se,this.activatedRoute=Be,this.securityService=qe,this.fileDownloader=ht,this.timeService=Ft,this.sortAsc="when",this.sortDesc="-when",this.isLoading=!1,this.loadingCSV=!1,this.showAddFilter=!1,this.filterHasChanged=!1,this.auditStream=new S.B}userManagerReadOnly(){return(0,v.zG)(this.securityService.userPermissions)}identityServerManagerReadOnly(){return(0,v.ci)(this.securityService.userPermissions)}ngOnInit(){this.setupFilterForm(this.activatedRoute.snapshot.queryParams),this.auditStream.pipe((0,e.Z)({auditSearch:this.filterForm.value.auditSearch,toDate:this.filterForm.value.toDate,fromDate:this.filterForm.value.fromDate,page:this.filterForm.value.page,pageSize:this.filterForm.value.pageSize,sortCriteria:this.filterForm.value.sortCriteria,success:this.filterForm.value.success,bySubject:this.filterForm.value.bySubject}),(0,_.Z)(ae=>(this.isLoading=!0,this.resourceOnly?this.auditingService.getResourceAudits(this.resourceName,ae.bySubject,ae.auditSearch,ae.toDate.toString(),ae.fromDate.toString(),ae.page,ae.pageSize,ae.sortCriteria,ae.success):this.auditingService.getAudits(ae.auditSearch,ae.toDate.toString(),ae.fromDate.toString(),ae.page,ae.pageSize,ae.sortCriteria,ae.success)))).subscribe(ae=>{this.isLoading=!1,this.pagedResult=ae;const j=new d(this.filterForm.value);this.router.navigate([this.router.url.split("?")[0]],{queryParams:j}),this.aplliedBySubjectFilter=JSON.parse(this.filterForm.value.bySubject)})}applyForm(ve){ve&&this.filterForm.patchValue({page:1}),this.auditStream.next(this.filterForm.value),this.filterHasChanged=!1}goToPage(ve){this.filterForm.patchValue({page:ve}),this.applyForm(!1)}setDateToday(){this.filterForm.patchValue({fromDate:this.timeService.now().startOf("day"),toDate:this.timeService.now().endOf("day")})}setDateLast24Hours(){this.filterForm.patchValue({fromDate:this.timeService.now().minus({hours:24}),toDate:this.timeService.now()})}setDateYesterday(){this.filterForm.patchValue({fromDate:this.timeService.now().startOf("day").minus({hours:24}),toDate:this.timeService.now().endOf("day").minus({hours:24})})}setDateLastWeek(){this.filterForm.patchValue({fromDate:this.timeService.now().minus({weeks:1}).startOf("day"),toDate:this.timeService.now().endOf("day")})}goToResource(ve){this.router.config.find(j=>void 0!==j.children)}auditSearch(ve,ae){this.filterForm.patchValue({auditSearch:{[ve]:ae.value}})}selectFilterType(ve,ae){const j=this.filterForm.get("auditSearch").get(ve).value;ae.value=j}removeFilter(ve){this.filterForm.patchValue({auditSearch:{[ve]:""}})}checkQuickDate(ve){switch(ve){case"today":return this.stripSecondsFromString(this.filterForm.get("fromDate").value)===this.stripSecondsFromDateTime(this.timeService.now().startOf("day"))&&this.stripSecondsFromString(this.filterForm.get("toDate").value)===this.stripSecondsFromDateTime(this.timeService.now().endOf("day"));case"24hours":return this.stripSecondsFromString(this.filterForm.get("fromDate").value)===this.stripSecondsFromDateTime(this.timeService.now().minus({hours:24}))&&this.stripSecondsFromString(this.filterForm.get("toDate").value)===this.stripSecondsFromDateTime(this.timeService.now());case"yesterday":return this.stripSecondsFromString(this.filterForm.get("fromDate").value)===this.stripSecondsFromDateTime(this.timeService.now().startOf("day").minus({hours:24}))&&this.stripSecondsFromString(this.filterForm.get("toDate").value)===this.stripSecondsFromDateTime(this.timeService.now().endOf("day").minus({hours:24}));case"week":return this.stripSecondsFromString(this.filterForm.get("fromDate").value)===this.stripSecondsFromDateTime(this.timeService.now().minus({weeks:1}).startOf("day"))&&this.stripSecondsFromString(this.filterForm.get("toDate").value)===this.stripSecondsFromDateTime(this.timeService.now().endOf("day"))}}stripSecondsFromString(ve){return this.stripSecondsFromDateTime(g.c9.fromISO(ve))}stripSecondsFromDateTime(ve){return ve.set({second:0,millisecond:0}).toString()}setActorOrResource(ve){this.filterForm.patchValue({bySubject:ve})}setShowing(ve,ae){this.successfulFilter=ve,this.unsuccessfulFilter=ae,this.filter()}showActiveFilters(){const ve=this.filterForm.get("auditSearch");return!!(ve.get("source").value||ve.get("subject").value||ve.get("auditAction").value||ve.get("resourceName").value)}filter(){this.filterForm.patchValue({success:this.successfulFilter&&this.unsuccessfulFilter||!this.successfulFilter&&!this.unsuccessfulFilter?null:this.successfulFilter})}getCSV(){this.fileDownloader.buildForm(this.buildActionUrl()).submitForm()}buildActionUrl(){let ve=`${this.auditingService.actionUrl}`;const ae=this.activatedRoute.snapshot.queryParams;return this.resourceOnly&&(ve+=`/${this.resourceName}/auditedEvents`),ve+=`?sort=${ae.sortCriteria}`,(0,v.gP)(ae.auditAction)||(ve+=`&auditAction=${ae.auditAction}`),(0,v.gP)(ae.subject)||(ve+=`&subject=${ae.subject}`),(0,v.gP)(ae.resourceName)||(ve+=`&resource=${ae.resourceName}`),(0,v.gP)(ae.source)||(ve+=`&source=${ae.source}`),null!=ae.success&&(ve+=`&success=${ae.success}`),null!=ae.toDate&&(ve+=`&to=${ae.toDate}`),null!=ae.fromDate&&(ve+=`&from=${ae.fromDate}`),(0,v.hX)(ae.bySubject)||(ve+=`&bySubject=${ae.bySubject}`),ve}sortResults(){const ve=this.activatedRoute.snapshot.queryParams,ae=new f(ve.auditAction,ve.subject,ve.resourceName,ve.source),j=void 0===ve.fromDate?this.timeService.now().startOf("day"):g.c9.fromISO(ve.fromDate),se=void 0===ve.toDate?this.timeService.now().startOf("day"):g.c9.fromISO(ve.toDate);this.filterSort=this.filterSort===this.sortAsc?this.sortDesc:this.sortAsc;const Be=new E(ae,j,se,ve.page,ve.pageSize,this.filterSort,ve.success,ve.bySubject);this.auditStream.next(Be),this.filterHasChanged=!1}resetForm(){this.filterForm.setValue({fromDate:this.timeService.now().startOf("day"),toDate:this.timeService.now(),auditSearch:{auditAction:"",resourceName:"",subject:"",source:""},page:1,pageSize:25,sortCriteria:this.sortDesc,success:null}),this.filterHasChanged=!1,this.successfulFilter=!1,this.unsuccessfulFilter=!1,this.applyForm(!0)}setupFilterForm(ve){const ae=void 0===ve.fromDate?this.timeService.now().startOf("day"):g.c9.fromISO(ve.fromDate),j=void 0===ve.toDate?this.timeService.now().endOf("day"):g.c9.fromISO(ve.toDate);this.filterForm=this.fb.nonNullable.group({fromDate:[ae,[i.k0.required,v.TO]],toDate:[j],auditSearch:this.fb.group({auditAction:[ve.auditAction||""],resourceName:[ve.resourceName||""],subject:[ve.subject||""],source:[ve.source||""]}),page:[ve.page||1],pageSize:[ve.pageSize>1e3?1e3:ve.pageSize||25],sortCriteria:[ve.sortCriteria||this.sortDesc],success:[ve.success||null],bySubject:[ve.bySubject??!0]},{validators:v.$N}),this.filterSort=this.filterForm.value.sortCriteria,this.filterForm.valueChanges.subscribe(()=>{this.filterHasChanged=!0})}Navigate(ve,ae){this.router.navigate([ve,ae])}resourceNavigate(ve){const ae=this.buildTranslatedRoute(ve);"*"!==ve.name&&this.Navigate(ae,ve.identifier)}buildLink(ve){let ae=this.buildTranslatedRoute(ve);return ae+=`/${ve.identifier}`,ae}buildTranslatedRoute(ve){switch(ve.type){case"User":return this.userManagerReadOnly()?`${this.localizeRouter.translateRoute("/users/view")}`:`${this.localizeRouter.translateRoute("/users")}`;case"Client":case"Machine":return this.identityServerManagerReadOnly()?`${this.localizeRouter.translateRoute("/clients/view")}`:`${this.localizeRouter.translateRoute("/clients")}`;case"IdentityResource":return this.identityServerManagerReadOnly()?`${this.localizeRouter.translateRoute("/identityresources/view")}`:`${this.localizeRouter.translateRoute("/identityresources")}`;case"ProtectedResource":return this.identityServerManagerReadOnly()?`${this.localizeRouter.translateRoute("/protectedresources/view")}`:`${this.localizeRouter.translateRoute("/protectedresources")}`;case"ClaimType":return this.userManagerReadOnly()?`${this.localizeRouter.translateRoute("/claim-types/view")}`:`${this.localizeRouter.translateRoute("/claim-types")}`;case"Role":return this.userManagerReadOnly()?`${this.localizeRouter.translateRoute("/roles/view")}`:`${this.localizeRouter.translateRoute("/roles")}`;default:return""}}static{this.\u0275fac=function(ae){return new(ae||rt)(m.rXU(F.x),m.rXU(w.QG),m.rXU(C.Ix),m.rXU(i.ok),m.rXU(C.nX),m.rXU(R.i),m.rXU(k.D),m.rXU(O.v))}}static{this.\u0275cmp=m.VBU({type:rt,selectors:[["app-audits-list"]],inputs:{resourceName:"resourceName"},decls:131,vars:105,consts:[["pageLength",""],["filterType",""],["filterValue",""],["sortCriteria",""],["group",""],["id","auditingList"],[1,"",3,"formGroup"],[1,"tw-border-b","tw-border-grey-200","tw-mb-4","tw-pb-5"],[1,"tw-flex-grid","tw-mb-3","lg:tw-flex-nowrap"],[1,"tw-flex-grid-col","xs:tw-w-1/2","lg:tw-w-1/3"],[1,"tw-form-group","tw-mb-0"],["for","fromDate",1,"tw-form-label"],["id","fromDate","name","fromDate","formControlName","fromDate","aria-describedby","toErrorLabel",3,"displayType"],["id","fromErrorLabel","class","tw-form-text-danger",4,"ngIf"],["for","toDate",1,"tw-form-label"],["id","toDate","name","toDate","formControlName","toDate","aria-describedby","toErrorLabel",3,"displayType"],["id","toErrorLabel","class","tw-form-text-danger",4,"ngIf"],[1,"tw-hidden","tw-flex-grid-col","xs:tw-block","sm:tw-w-auto","sm:tw-mr-auto"],["aria-hidden","true",1,"tw-hidden","tw-form-label","tw-invisible","sm:tw-inline-block"],[1,"tw-flex","tw-items-center"],["name","setToday","id","setToday",1,"tw-btn",3,"click"],["name","set24hrs","id","set24hrs",1,"tw-btn",3,"click"],["name","setYesterday","id","setYesterday",1,"tw-btn",3,"click"],["name","setLastWeek","id","setLastWeek",1,"tw-btn",3,"click"],[1,"tw-flex-grid-col","tw-ml-0"],["class","tw-form-group tw-mb-0",4,"ngIf"],[1,"tw-flex-grid-col","tw-w-40","tw-ml-0"],["for","pageSize",1,"tw-form-label"],[1,"tw-form-select"],["id","pageSize","formControlName","pageSize",1,"tw-form-control"],[3,"value"],["formGroupName","auditSearch"],["class","tw-my-4",4,"ngIf"],[1,"tw-mb-4"],["id","showFilterButton","type","button","aria-expanded","showAddFilter",1,"tw-btn-link","tw-btn-small","tw-px-0",3,"click"],[4,"ngIf"],["id","toggleFilters","aria-labelledby","showFilterButton",1,"tw-mt-3","tw-mb-6",3,"hidden"],[1,"tw-flex-grid","md:tw-flex-nowrap"],[1,"tw-flex-grid-col","md:tw-w-2/3","lg:tw-w-3/5"],["for","filterType",1,"tw-form-label"],[1,"tw-flex-grid"],[1,"tw-flex-grid-col","xs:tw-w-2/5","sm:tw-w-1/3"],["id","filterType","name","filterType",1,"tw-form-control",3,"change"],["value","source"],["value","subject",4,"ngIf"],["value","auditAction"],["value","resourceName",4,"ngIf"],[1,"tw-flex-grid-col","tw-flex","xs:tw-w-3/5","sm:tw-w-2/3"],["id","filterTerm","type","text","autocomplete","off",1,"tw-form-control","tw-border-r-0","tw-rounded-r-none"],["type","submit",1,"tw-btn","tw-rounded-l-none",3,"click"],["aria-hidden","true",1,"far","fa-plus"],[1,"sr-only"],[1,"tw-flex-grid-col","md:tw-ml-auto","md:tw-w-auto"],[1,"tw-form-label"],["id","allFilter",1,"tw-btn",3,"click"],["id","activeFilter",1,"tw-btn",3,"click"],["id","blockedFilter",1,"tw-btn",3,"click"],[1,"tw-flex","tw-flex-wrap","tw-items-center"],["type","hidden"],["id","applyBtn",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],[1,"tw-btn-link","tw-mr-3",3,"click"],["class","tw-pill-warning tw-my-2",4,"ngIf"],["class","tw-alert","role","alert",4,"ngIf"],["class","datatable hover",4,"ngIf"],[3,"totalResults","currentPage","lastPage","onGoToPage",4,"ngIf"],["id","fromErrorLabel",1,"tw-form-text-danger"],["id","toErrorLabel",1,"tw-form-text-danger"],["id","bySubjectFilter",1,"tw-btn",3,"click"],["id","byResourceFilter",1,"tw-btn",3,"click"],[1,"tw-my-4"],[1,"tw-flex","tw-flex-wrap","tw-items-start","tw--mt-2","tw--ml-2"],["class","tw-pt-2 tw-pl-2",4,"ngIf"],[1,"tw-pt-2","tw-pl-2"],["id","sourceSearchValue",1,"tw-btn-danger","tw-btn-small",3,"click"],[1,"tw-font-bold","tw-mr-1"],["aria-hidden","true",1,"fas","fa-times","tw-ml-3"],[1,"tw-btn-danger","tw-btn-small",3,"click"],["aria-hidden","true",1,"fas","fa-angle-down","tw-mr-1"],["aria-hidden","true",1,"fas","fa-angle-up","tw-mr-1"],["value","subject"],["value","resourceName"],[1,"tw-pill-warning","tw-my-2"],["aria-hidden","true",1,"fas","fa-info-circle","tw-mr-1"],["right",""],["class","fad fa-spinner-third fa-spin tw-text-xs tw-text-grey-700 tw-mr-3",4,"ngIf"],["id","getCSVBtn","container","body",1,"tw-btn-white",3,"click","tooltip","disabled"],["aria-hidden","true",1,"fad","fa-arrow-to-bottom"],[1,"fad","fa-spinner-third","fa-spin","tw-text-xs","tw-text-grey-700","tw-mr-3"],["role","alert",1,"tw-alert"],[1,"datatable","hover"],[1,"toggle","tw-w-1"],["id","sortWhen",1,"tw-cursor-pointer","xs:tw-w-40",3,"click"],[1,"tw-mr-2"],["aria-hidden","true",1,"fas","fa-caret-down"],[1,"tw-hidden","tw-w-32","md:tw-table-cell","xl:tw-w-40"],["class","tw-hidden xs:tw-table-cell lg:tw-w-1/4",4,"ngIf"],["id","ResourceHeading","class","tw-hidden lg:tw-table-cell",4,"ngIf"],[1,"tw-hidden","xl:tw-table-cell"],[1,"tw-hidden","tw-w-1","tw-text-center","sm:tw-table-cell"],["id","auditsTable"],[4,"ngFor","ngForOf"],[1,"tw-hidden","xs:tw-table-cell","lg:tw-w-1/4"],["id","ResourceHeading",1,"tw-hidden","lg:tw-table-cell"],[1,"toggle"],[1,"tw-btn-link","tw-btn-small",3,"click"],["aria-hidden","true",1,"fas","fa-caret-down","fa-fw"],[1,"tw-hidden","tw-max-w-0","tw-truncate","md:tw-table-cell"],["class","tw-hidden tw-max-w-0 tw-truncate xs:tw-table-cell subject",4,"ngIf"],["class","tw-hidden tw-max-w-0 tw-truncate lg:tw-table-cell resource",4,"ngIf"],[1,"tw-hidden","tw-max-w-0","tw-truncate","xl:tw-table-cell"],[1,"tw-hidden","tw-text-center","sm:tw-table-cell"],["class","fas fa-check tw-text-green-500",4,"ngIf"],["class","fas fa-times tw-text-red-500 tw-opacity-50",4,"ngIf"],["class","disabled toggle-row",4,"ngIf"],[1,"tw-hidden","tw-max-w-0","tw-truncate","xs:tw-table-cell","subject"],[3,"click","href"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell","resource"],[1,"fas","fa-check","tw-text-green-500"],[1,"fas","fa-times","tw-text-red-500","tw-opacity-50"],[1,"disabled","toggle-row"],["colspan","6",1,"tw-text-grey-800"],[1,"tw-flex","tw-items-start"],["aria-hidden","true",1,"tw-shrink-0","tw-mr-1"],["class","fas fa-check tw-text-green-500 fa-fw",4,"ngIf"],["class","fas fa-times tw-text-red-500 fa-fw",4,"ngIf"],[1,"fas","fa-check","tw-text-green-500","fa-fw"],[1,"fas","fa-times","tw-text-red-500","fa-fw"],[3,"onGoToPage","totalResults","currentPage","lastPage"]],template:function(ae,j){if(1&ae){const se=m.RV6();m.j41(0,"div",5)(1,"form",6)(2,"div",7)(3,"div",8)(4,"div",9)(5,"div",10)(6,"label",11),m.EFF(7),m.nI1(8,"translate"),m.k0s(),m.j41(9,"div"),m.nrm(10,"app-date-time",12),m.DNE(11,Q,3,3,"span",13),m.k0s()()(),m.j41(12,"div",9)(13,"div",10)(14,"label",14),m.EFF(15),m.nI1(16,"translate"),m.k0s(),m.j41(17,"div"),m.nrm(18,"app-date-time",15),m.DNE(19,te,3,3,"span",16),m.k0s()()(),m.j41(20,"div",17)(21,"div",10)(22,"label",18),m.EFF(23,"\xa0"),m.k0s(),m.j41(24,"ul",19)(25,"li")(26,"button",20),m.nI1(27,"translate"),m.bIt("click",function(){return m.eBV(se),m.Njj(j.setDateToday())}),m.EFF(28),m.nI1(29,"translate"),m.k0s()(),m.j41(30,"li")(31,"button",21),m.nI1(32,"translate"),m.bIt("click",function(){return m.eBV(se),m.Njj(j.setDateLast24Hours())}),m.EFF(33),m.nI1(34,"translate"),m.k0s()(),m.j41(35,"li")(36,"button",22),m.nI1(37,"translate"),m.bIt("click",function(){return m.eBV(se),m.Njj(j.setDateYesterday())}),m.EFF(38),m.nI1(39,"translate"),m.k0s()(),m.j41(40,"li")(41,"button",23),m.nI1(42,"translate"),m.bIt("click",function(){return m.eBV(se),m.Njj(j.setDateLastWeek())}),m.EFF(43),m.nI1(44,"translate"),m.k0s()()()()()(),m.j41(45,"div",8)(46,"div",24),m.DNE(47,I,13,13,"div",25),m.k0s(),m.j41(48,"div",26)(49,"div",10)(50,"label",27),m.EFF(51),m.nI1(52,"translate"),m.k0s(),m.j41(53,"div",28)(54,"select",29,0)(56,"option",30),m.EFF(57,"25 "),m.k0s(),m.j41(58,"option",30),m.EFF(59,"50"),m.k0s(),m.j41(60,"option",30),m.EFF(61,"100"),m.k0s()()()()()(),m.j41(62,"form",31),m.DNE(63,Re,9,7,"div",32),m.j41(64,"div",33)(65,"button",34),m.bIt("click",function(){return m.eBV(se),m.Njj(j.showAddFilter=!j.showAddFilter)}),m.DNE(66,xe,4,3,"span",35)(67,Je,4,3,"span",35),m.k0s(),m.j41(68,"div",36)(69,"div",37)(70,"div",38)(71,"div",10)(72,"label",39),m.EFF(73),m.nI1(74,"translate"),m.k0s(),m.j41(75,"div",40)(76,"div",41)(77,"div",28)(78,"select",42,1),m.bIt("change",function(){m.eBV(se);const qe=m.sdS(79),ht=m.sdS(90);return m.Njj(j.selectFilterType(qe.value,ht))}),m.j41(80,"option",43),m.EFF(81),m.nI1(82,"translate"),m.k0s(),m.DNE(83,Te,3,3,"option",44),m.j41(84,"option",45),m.EFF(85),m.nI1(86,"translate"),m.k0s(),m.DNE(87,we,3,3,"option",46),m.k0s()()(),m.j41(88,"div",47),m.nrm(89,"input",48,2),m.nI1(91,"translate"),m.nI1(92,"translate"),m.j41(93,"button",49),m.bIt("click",function(){m.eBV(se);const qe=m.sdS(79),ht=m.sdS(90);return m.Njj(j.auditSearch(qe.value,ht))}),m.nrm(94,"span",50),m.j41(95,"span",51),m.EFF(96),m.nI1(97,"translate"),m.k0s()()()()()(),m.j41(98,"div",52)(99,"div",10)(100,"p",53),m.EFF(101),m.nI1(102,"translate"),m.k0s(),m.j41(103,"ul",19)(104,"li")(105,"button",54),m.bIt("click",function(){return m.eBV(se),m.Njj(j.setShowing(!1,!1))}),m.EFF(106),m.nI1(107,"translate"),m.k0s()(),m.j41(108,"li")(109,"button",55),m.bIt("click",function(){return m.eBV(se),m.Njj(j.setShowing(!0,!1))}),m.EFF(110),m.nI1(111,"translate"),m.k0s()(),m.j41(112,"li")(113,"button",56),m.bIt("click",function(){return m.eBV(se),m.Njj(j.setShowing(!1,!0))}),m.EFF(114),m.nI1(115,"translate"),m.k0s()()()()()()()(),m.j41(116,"div",57),m.nrm(117,"input",58,3),m.j41(119,"button",59),m.bIt("click",function(){return m.eBV(se),m.Njj(j.applyForm(!0))}),m.EFF(120),m.nI1(121,"translate"),m.k0s(),m.j41(122,"button",60),m.bIt("click",function(){return m.eBV(se),m.Njj(j.resetForm())}),m.EFF(123),m.nI1(124,"translate"),m.k0s(),m.DNE(125,he,4,3,"p",61),m.k0s()()()(),m.DNE(126,Ae,10,8,"app-action-bar",35)(127,st,1,0,"app-simple-loader",35)(128,Fe,4,3,"div",62)(129,it,25,20,"table",63)(130,Ht,1,3,"app-pager",64),m.k0s()}if(2&ae){let se;m.R7$(),m.Y8G("formGroup",j.filterForm),m.R7$(6),m.JRh(m.bMT(8,59,"Auditing.FromDate")),m.R7$(3),m.Y8G("displayType","datetime"),m.R7$(),m.Y8G("ngIf",j.filterForm.get("fromDate").hasError("dateInFuture")),m.R7$(4),m.JRh(m.bMT(16,61,"Auditing.ToDate")),m.R7$(3),m.Y8G("displayType","datetime"),m.R7$(),m.Y8G("ngIf",j.filterForm.hasError("fromDateIsAfterToDate")),m.R7$(7),m.AVh("tw-btn-link",!j.checkQuickDate("today")),m.BMQ("aria-label",m.bMT(27,63,"Auditing.SetDateToday")),m.R7$(2),m.SpI(" ",m.bMT(29,65,"Auditing.Today")," "),m.R7$(3),m.AVh("tw-btn-link",!j.checkQuickDate("24hours")),m.BMQ("aria-label",m.bMT(32,67,"Auditing.SetDateLast24Hours")),m.R7$(2),m.SpI(" ",m.bMT(34,69,"Auditing.24Hours")," "),m.R7$(3),m.AVh("tw-btn-link",!j.checkQuickDate("yesterday")),m.BMQ("aria-label",m.bMT(37,71,"Auditing.SetDateYesterday")),m.R7$(2),m.SpI(" ",m.bMT(39,73,"Auditing.Yesterday")," "),m.R7$(3),m.AVh("tw-btn-link",!j.checkQuickDate("week")),m.BMQ("aria-label",m.bMT(42,75,"Auditing.SetDateLastWeek")),m.R7$(2),m.SpI(" ",m.bMT(44,77,"Auditing.Week")," "),m.R7$(4),m.Y8G("ngIf",j.resourceOnly),m.R7$(4),m.JRh(m.bMT(52,79,"Auditing.ResultsPerPage")),m.R7$(5),m.Y8G("value",25),m.R7$(2),m.Y8G("value",50),m.R7$(2),m.Y8G("value",100),m.R7$(3),m.Y8G("ngIf",j.showActiveFilters()),m.R7$(3),m.Y8G("ngIf",!j.showAddFilter),m.R7$(),m.Y8G("ngIf",j.showAddFilter),m.R7$(),m.Y8G("hidden",!j.showAddFilter),m.R7$(5),m.JRh(m.bMT(74,81,"Auditing.AddFilter")),m.R7$(8),m.JRh(m.bMT(82,83,"Auditing.Source")),m.R7$(2),m.Y8G("ngIf",!j.resourceBySubject),m.R7$(2),m.SpI("",m.bMT(86,85,"Auditing.Action")," "),m.R7$(2),m.Y8G("ngIf",!j.resourceByResource),m.R7$(2),m.BMQ("placeholder",m.bMT(91,87,"Auditing.FilterTermPlaceholder"))("aria-label",m.bMT(92,89,"Auditing.AddFilterTerm")),m.R7$(7),m.JRh(m.bMT(97,91,"Common.Add")),m.R7$(5),m.JRh(m.bMT(102,93,"Auditing.Showing")),m.R7$(4),m.AVh("tw-btn-link",!(!j.successfulFilter&&!j.unsuccessfulFilter)),m.R7$(),m.SpI(" ",m.bMT(107,95,"Permission.All")," "),m.R7$(3),m.AVh("tw-btn-link",!(j.successfulFilter&&!j.unsuccessfulFilter)),m.R7$(),m.SpI(" ",m.bMT(111,97,"Notifications.Success")," "),m.R7$(3),m.AVh("tw-btn-link",!(j.unsuccessfulFilter&&!j.successfulFilter)),m.R7$(),m.SpI(" ",m.bMT(115,99,"Notifications.Failure")," "),m.R7$(5),m.Y8G("disabled",(null==j.filterForm?null:j.filterForm.errors)||(null==(se=j.filterForm.get("fromDate"))?null:se.hasError("dateInFuture"))),m.R7$(),m.SpI(" ",m.bMT(121,101,"Auditing.ExecuteAndDisplay")," "),m.R7$(3),m.SpI(" ",m.bMT(124,103,"Auditing.Reset")," "),m.R7$(2),m.Y8G("ngIf",j.filterHasChanged),m.R7$(),m.Y8G("ngIf",!j.isLoading),m.R7$(),m.Y8G("ngIf",j.isLoading),m.R7$(),m.Y8G("ngIf",(null==j.pagedResult?null:j.pagedResult.results.length)<1&&!j.isLoading),m.R7$(),m.Y8G("ngIf",(null==j.pagedResult?null:j.pagedResult.results.length)>0&&!j.isLoading),m.R7$(),m.Y8G("ngIf",(null==j.pagedResult?null:j.pagedResult.results.length)>0&&!j.isLoading)}},dependencies:[H.Sq,H.bT,i.qT,i.xH,i.y7,i.wz,i.BC,i.cb,i.cV,i.j4,i.JD,i.$R,x.dg,$.B,U.n,G.d,ie.Z,le.D9,L.r7],encapsulation:2})}}return rt})()},9475:(et,me,u)=>{"use strict";u.d(me,{F:()=>R});var i=u(177),e=u(7005),_=u(9417),g=u(534),S=u(4304),v=u(1780),f=u(5731),d=u(4193),E=u(7175),m=u(6599),F=u(1683),w=u(1575),C=u(4438);let R=(()=>{class k{static{this.\u0275fac=function(x){return new(x||k)}}static{this.\u0275mod=C.$C({type:k})}static{this.\u0275inj=C.G2t({providers:[w.v],imports:[i.MD,_.YN,_.X1,e.XE,v.h,S.h6,g.Ss,f.i,d.c,E.c,m.Y,F.Y]})}}return k})()},6406:(et,me,u)=>{"use strict";u.d(me,{z:()=>g});var i=u(4438);const e=["*",[["","right",""]]],_=["*","[right]"];let g=(()=>{class S{static{this.\u0275fac=function(d){return new(d||S)}}static{this.\u0275cmp=i.VBU({type:S,selectors:[["app-button-bar"]],ngContentSelectors:_,decls:6,vars:0,consts:[[1,"tw-bg-grey-200","tw-border","tw-border-grey-300","tw-mt-8","tw-px-4","tw-pt-4","tw-pb-1","xs:tw-border-0","xs:tw-border-t","xs:tw-mb-12","xs:tw-inset-x-0","xs:tw-bottom-0","xs:tw-fixed","xs:tw-z-20"],[1,"tw-container","tw-mx-auto"],[1,"tw-flex","tw-flex-wrap"],[1,"tw-mr-auto"]],template:function(d,E){1&d&&(i.NAR(e),i.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),i.SdG(4),i.k0s(),i.SdG(5,1),i.k0s()()())},encapsulation:2})}}return S})()},1993:(et,me,u)=>{"use strict";u.d(me,{E:()=>_});var i=u(177),e=u(4438);let _=(()=>{class g{static{this.\u0275fac=function(f){return new(f||g)}}static{this.\u0275mod=e.$C({type:g})}static{this.\u0275inj=e.G2t({imports:[i.MD]})}}return g})()},7499:(et,me,u)=>{"use strict";u.d(me,{o:()=>_});var i=u(1413),e=u(4438);let _=(()=>{class g{constructor(){this.emitter=new i.B,this.eventStream=new i.B}getChangeEmitter(){return this.emitter}confirm(){this.emitter.next()}static{this.\u0275fac=function(f){return new(f||g)}}static{this.\u0275prov=e.jDH({token:g,factory:g.\u0275fac})}}return g})()},6728:(et,me,u)=>{"use strict";u.d(me,{E:()=>f});var i=u(4438),e=u(7499),_=u(1780),g=u(779);const S=["canDeactivate"],v=()=>({animated:!1,backdrop:"static"});let f=(()=>{class d{constructor(m,F){this.service=m,this.translate=F,this.param={value:"world"}}ngOnInit(){}ngAfterViewInit(){this.listener=this.service.getChangeEmitter().subscribe(m=>{this.modal.show()})}leave(){this.modal.hide(),this.service.eventStream.next(!0)}stay(){this.modal.hide(),this.service.eventStream.next(!1)}ngOnDestroy(){this.listener?.unsubscribe()}static{this.\u0275fac=function(F){return new(F||d)(i.rXU(e.o),i.rXU(_.c$))}}static{this.\u0275cmp=i.VBU({type:d,selectors:[["app-can-deactivate"]],viewQuery:function(F,w){if(1&F&&i.GBs(S,7),2&F){let C;i.mGM(C=i.lsd())&&(w.modal=C.first)}},decls:28,vars:20,consts:[["canDeactivate","bs-modal"],["bsModal","","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog","modal-dialog--danger"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","tw-text-center","scrollbars"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","stayBtn",1,"tw-btn-danger",3,"click"],["id","leaveBtn",1,"tw-btn-link","tw--mr-4",3,"click"]],template:function(F,w){if(1&F){const C=i.RV6();i.j41(0,"div",1,0)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),i.EFF(6),i.nI1(7,"translate"),i.k0s(),i.j41(8,"button",6),i.bIt("click",function(){return i.eBV(C),i.Njj(w.stay())}),i.nrm(9,"span",7),i.j41(10,"span",8),i.EFF(11),i.nI1(12,"translate"),i.k0s()()(),i.j41(13,"div",9)(14,"p"),i.EFF(15),i.nI1(16,"translate"),i.nI1(17,"translate"),i.k0s()(),i.nrm(18,"div",10),i.j41(19,"div",11)(20,"div",12)(21,"div",13)(22,"button",14),i.bIt("click",function(){return i.eBV(C),i.Njj(w.stay())}),i.EFF(23),i.nI1(24,"translate"),i.k0s()(),i.j41(25,"button",15),i.bIt("click",function(){return i.eBV(C),i.Njj(w.leave())}),i.EFF(26),i.nI1(27,"translate"),i.k0s()()()()()()}2&F&&(i.Y8G("config",i.lJ4(19,v)),i.R7$(6),i.JRh(i.bMT(7,7,"Notifications.UnsavedChangesTitle")),i.R7$(5),i.JRh(i.bMT(12,9,"Common.Close")),i.R7$(4),i.Lme("",i.bMT(16,11,"Notifications.UnsavedChanges")," ",i.bMT(17,13,"Notifications.ContinueWithoutSaving"),""),i.R7$(8),i.JRh(i.bMT(24,15,"Notifications.StayHere")),i.R7$(3),i.JRh(i.bMT(27,17,"Notifications.DiscardChanges")))},dependencies:[g.hZ,_.D9],encapsulation:2})}}return d})()},8455:(et,me,u)=>{"use strict";u.d(me,{p:()=>f});var i=u(779),e=u(8416),_=u(7499),g=u(1780),S=u(177),v=u(4438);let f=(()=>{class d{static{this.\u0275fac=function(F){return new(F||d)}}static{this.\u0275mod=v.$C({type:d})}static{this.\u0275inj=v.G2t({providers:[e.M,_.o],imports:[S.MD,i.Q_,g.h]})}}return d})()},8416:(et,me,u)=>{"use strict";u.d(me,{M:()=>e});var i=u(4438);let e=(()=>{class _{canDeactivate(S){return!S.canDeactivate||S.canDeactivate()}static{this.\u0275fac=function(v){return new(v||_)}}static{this.\u0275prov=i.jDH({token:_,factory:_.\u0275fac})}}return _})()},5404:(et,me,u)=>{"use strict";u.d(me,{V:()=>E});var i=u(467),e=u(4438),_=u(2261),g=u(5794),S=u(1780),v=u(9417),f=u(8698);const d=["fileInput"];let E=(()=>{class m{constructor(w,C,R){this.certPickerService=w,this.toastr=C,this.translate=R,this.metadata="",this.dataExists=new e.bkB}ngOnInit(){}handleFileInput(w){this.fileToUpload=w.item(0),this.dataExists.emit(this.hasData())}metaDataKeyDown(){this.dataExists.emit(this.hasData())}hasData(){return!(this.metadata.length<=1&&!this.fileToUpload)}getCertificateModel(){var w=this;return(0,i.A)(function*(){let C="";if(w.fileToUpload){const k=w.fileToUpload.slice(0),O=new FileReader,x=new Promise(function($,U){O.onloadend=function(){const ie=O.result.split("base64,");$(ie[1])}});O.readAsDataURL(k),C=yield x}else""!==w.metadata&&(C=w.metadata);const R=yield w.tryBuildCertModel(C);return w.resetForm(w),R})()}resetForm(w){w.fileToUpload=null,w.fileInput.nativeElement.value="",w.metadata="",w.dataExists.emit(w.hasData())}tryBuildCertModel(w){var C=this;return(0,i.A)(function*(){let R;try{const k=C.certPickerService.convertStringToArrayBuffer(w);R=yield C.certPickerService.buildCertModelFromArrayBuffer(k,w)}catch(k){throw C.toastr.error(C.translate.instant("Clients.Import.Wizard.Certificates.TryAgainDifferentFile"),C.translate.instant("Clients.Import.Wizard.Certificates.FailedToParseCertificate")),k}return R})()}static{this.\u0275fac=function(C){return new(C||m)(e.rXU(_.V),e.rXU(g.tw),e.rXU(S.c$))}}static{this.\u0275cmp=e.VBU({type:m,selectors:[["app-cert-reader"]],viewQuery:function(C,R){if(1&C&&e.GBs(d,7),2&C){let k;e.mGM(k=e.lsd())&&(R.fileInput=k.first)}},inputs:{uploadCert:"uploadCert",uploadCertHelp:"uploadCertHelp",certMetaData:"certMetaData",certMetaDataHelp:"certMetaDataHelp"},outputs:{dataExists:"dataExists"},decls:11,vars:14,consts:[["fileInput",""],[3,"id","label","help","isLast"],[1,"tw-form-control"],["id","fileInput","type","file","name","cert","accept",".cer",1,"tw-form-file","tw-max-w-full",3,"change","disabled"],[1,"tw-flex","tw-items-center","tw-justify-center","tw-border-b","tw-border-grey-300","tw-my-8","tw-relative","tw-z-10"],[1,"tw-inline-block","tw-bg-grey-100","tw-text-xs","tw-leading-none","tw-uppercase","tw-text-grey-500","tw--my-2","tw-px-2"],["id","metaData",1,"tw-form-control",3,"ngModelChange","keyup","disabled","ngModel"]],template:function(C,R){if(1&C){const k=e.RV6();e.j41(0,"app-form-row",1)(1,"div",2)(2,"input",3,0),e.bIt("change",function(H){return e.eBV(k),e.Njj(R.handleFileInput(H.target.files))}),e.k0s()()(),e.j41(4,"div",4)(5,"span",5),e.EFF(6),e.nI1(7,"translate"),e.k0s()(),e.j41(8,"app-form-row",1)(9,"textarea",6),e.mxI("ngModelChange",function(H){return e.eBV(k),e.DH7(R.metadata,H)||(R.metadata=H),e.Njj(H)}),e.bIt("keyup",function(){return e.eBV(k),e.Njj(R.metaDataKeyDown())}),e.EFF(10,"  "),e.k0s()()}2&C&&(e.Y8G("id","fileInput")("label",R.uploadCert)("help",R.uploadCertHelp)("isLast",!0),e.R7$(2),e.Y8G("disabled",""!=R.metadata),e.R7$(4),e.JRh(e.bMT(7,12,"Common.Or")),e.R7$(2),e.Y8G("id","metaData")("label",R.certMetaData)("help",R.certMetaDataHelp)("isLast",!0),e.R7$(),e.Y8G("disabled",null!=R.fileToUpload),e.R50("ngModel",R.metadata))},dependencies:[v.me,v.BC,v.vS,f.Y,S.D9],encapsulation:2})}}return m})()},75:(et,me,u)=>{"use strict";u.d(me,{U:()=>f});var i=u(1683),e=u(177),_=u(1780),g=u(9417),S=u(8389),v=u(4438);let f=(()=>{class d{static{this.\u0275fac=function(F){return new(F||d)}}static{this.\u0275mod=v.$C({type:d})}static{this.\u0275inj=v.G2t({imports:[i.Y,e.MD,_.h,g.YN,S.w]})}}return d})()},4354:(et,me,u)=>{"use strict";u.d(me,{f:()=>O});var i=u(1413),e=u(4438),_=u(177),g=u(9417);let S=(()=>{class H{transform($,U){let G=$;return U&&(G=$.filter(ie=>ie.name.toUpperCase().includes(U))),G}static{this.\u0275fac=function(U){return new(U||H)}}static{this.\u0275pipe=e.EJ8({name:"search",type:H,pure:!0})}}return H})();var v=u(1780);const f=H=>({"tw-text-grey-600":H});function d(H,x){if(1&H){const $=e.RV6();e.j41(0,"div",19)(1,"label",20),e.nrm(2,"span",21),e.j41(3,"span",13),e.EFF(4),e.nI1(5,"translate"),e.k0s()(),e.j41(6,"input",22),e.mxI("ngModelChange",function(G){e.eBV($);const ie=e.XpG();return e.DH7(ie.availableSearchValue,G)||(ie.availableSearchValue=G),e.Njj(G)}),e.k0s()()}if(2&H){const $=e.XpG();e.R7$(4),e.JRh(e.bMT(5,2,"Common.Search")),e.R7$(2),e.R50("ngModel",$.availableSearchValue)}}function E(H,x){1&H&&e.nrm(0,"span",30)}function m(H,x){if(1&H&&(e.j41(0,"span",31),e.EFF(1),e.k0s()),2&H){const $=e.XpG().$implicit;e.R7$(),e.SpI(" ",$.description," ")}}function F(H,x){if(1&H){const $=e.RV6();e.j41(0,"li",23)(1,"label",24)(2,"input",25),e.bIt("change",function(){const G=e.eBV($).$implicit,ie=e.XpG();return e.Njj(ie.selectAvailable(G))}),e.k0s(),e.j41(3,"span",26)(4,"span",27),e.DNE(5,E,1,0,"span",28),e.EFF(6),e.k0s(),e.DNE(7,m,2,1,"span",29),e.k0s()()()}if(2&H){let $;const U=x.$implicit,G=e.XpG();e.R7$(),e.Y8G("htmlFor",G.prefix+U.name),e.R7$(),e.FS9("id",G.prefix+U.name),e.FS9("name",U.name),e.Y8G("checked",U.selected)("disabled",G.isRestricted(U)||G.isReadOnly),e.R7$(2),e.Y8G("ngClass",e.eq3(10,f,G.isReadOnly)),e.R7$(),e.Y8G("ngIf",G.isRestricted(U)),e.R7$(),e.Lme(" ",null!==($=U.displayName)&&void 0!==$?$:U.name," ",U.shared?"*":""," "),e.R7$(),e.Y8G("ngIf",(null==U.description?null:U.description.length)>0)}}function w(H,x){if(1&H){const $=e.RV6();e.j41(0,"div",32)(1,"label",33),e.nrm(2,"span",21),e.j41(3,"span",13),e.EFF(4),e.nI1(5,"translate"),e.k0s()(),e.j41(6,"input",34),e.mxI("ngModelChange",function(G){e.eBV($);const ie=e.XpG();return e.DH7(ie.assignedSearchValue,G)||(ie.assignedSearchValue=G),e.Njj(G)}),e.k0s()()}if(2&H){const $=e.XpG();e.R7$(4),e.JRh(e.bMT(5,2,"Common.Search")),e.R7$(2),e.R50("ngModel",$.assignedSearchValue)}}function C(H,x){1&H&&e.nrm(0,"span",30)}function R(H,x){if(1&H&&(e.j41(0,"span",31),e.EFF(1),e.k0s()),2&H){const $=e.XpG().$implicit;e.R7$(),e.SpI(" ",$.description," ")}}function k(H,x){if(1&H){const $=e.RV6();e.j41(0,"li",35)(1,"label",24)(2,"input",25),e.bIt("change",function(){const G=e.eBV($).$implicit,ie=e.XpG();return e.Njj(ie.selectAssigned(G))}),e.k0s(),e.j41(3,"span",26)(4,"span",27),e.DNE(5,C,1,0,"span",28),e.EFF(6),e.k0s(),e.DNE(7,R,2,1,"span",29),e.k0s()()()}if(2&H){let $;const U=x.$implicit,G=e.XpG();e.R7$(),e.Y8G("htmlFor",G.prefix+U.name),e.R7$(),e.FS9("id",G.prefix+U.name),e.FS9("name",U.name),e.Y8G("checked",U.selected)("disabled",G.isRestricted(U)||G.isReadOnly),e.R7$(2),e.Y8G("ngClass",e.eq3(10,f,G.isReadOnly)),e.R7$(),e.Y8G("ngIf",G.isRestricted(U)),e.R7$(),e.Lme(" ",null!==($=U.displayName)&&void 0!==$?$:U.name," ",U.shared?"*":""," "),e.R7$(),e.Y8G("ngIf",(null==U.description?null:U.description.length)>0)}}let O=(()=>{class H{set availableInput($){this.available=this.sortArray($)}set assignedInput($){this.assigned=this.sortArray($)}set isReadOnly($){this._isReadOnly=$||!1}get isReadOnly(){return this._isReadOnly}constructor(){this.availableCount=0,this.assignedCount=0,this.unAssignedStream=new i.B,this.assignedStream=new i.B}ngOnInit(){this.prefix=Math.random().toString(36).replace(/[^a-z]+/g,"").substring(0,5)}sortArray($){if($&&$.length>0)for(const U of $)U.selected=!1;return $.sort((U,G)=>U.name<G.name?-1:1)}selectAvailable($){$.selected?this.availableCount-=1:this.availableCount+=1,$.selected=!$.selected}selectAssigned($){$.selected?this.assignedCount-=1:this.assignedCount+=1,$.selected=!$.selected}assignItems(){let $=this.available.filter(U=>U.selected);this.assignedStream.next($),this.available.forEach(U=>{U.selected=!1}),this.assigned.forEach(U=>{U.selected=!1}),$=[]}unAssignItems(){let $=this.assigned.filter(U=>U.selected);this.unAssignedStream.next($),this.available.forEach(U=>{U.selected=!1}),this.assigned.forEach(U=>{U.selected=!1}),$=[]}isRestricted($){if(this.restrictedInput)for(let U=0;U<this.restrictedInput.length;U++)if(this.restrictedInput[U].value===$.name)return!0}static{this.\u0275fac=function(U){return new(U||H)}}static{this.\u0275cmp=e.VBU({type:H,selectors:[["app-common-picker"]],inputs:{availableInput:"availableInput",assignedInput:"assignedInput",restrictedInput:"restrictedInput",assignedSearch:"assignedSearch",availableSearch:"availableSearch",isReadOnly:"isReadOnly"},decls:37,vars:28,consts:[["id","commonPicker",1,"tw-mx-auto","md:tw-flex","md:tw-justify-between"],[1,"tw-bg-white","tw-border","tw-border-grey-300","md:tw-w-2/5"],[1,"tw-flex","tw-flex-col","tw-items-center","tw-justify-start","tw-bg-primary-100","tw-border-b","tw-border-grey-300","tw-py-3","tw-px-4","md:tw-h-24","md:tw-py-1","md:tw-justify-center"],[1,"tw-font-semibold","tw-text-base","tw-truncate"],["class","tw-mt-3 tw-w-full tw-relative","id","availableSearch",4,"ngIf"],[1,"tw-py-2","tw-h-64","tw-overflow-hidden","tw-overflow-y-scroll","scrollbars","md:tw-h-72"],["id","unassignedItems","class","tw-py-3 tw-px-4",4,"ngFor","ngForOf"],[1,"md:tw-self-center","md:tw-shrink-0","md:tw-w-1/5"],["id","assignButtons",1,"tw-flex","tw-items-center","tw-justify-center","tw-p-2","md:tw-flex-wrap","lg:tw-px-3","xl:tw-px-4"],[1,"tw-p-2","tw-w-24","tw-text-center","md:tw-w-full"],["id","assignBtn",1,"tw-btn","tw-w-full","tw-max-w-32",3,"click","disabled"],["aria-hidden","true",1,"far","fa-chevron-down","md:tw-hidden"],["aria-hidden","true",1,"far","fa-chevron-right","tw-hidden","md:tw-inline"],[1,"sr-only"],["id","unAssignBtn",1,"tw-btn","tw-w-full","tw-max-w-32",3,"click","disabled"],["aria-hidden","true",1,"far","fa-chevron-up","md:tw-hidden"],["aria-hidden","true",1,"far","fa-chevron-left","tw-hidden","md:tw-inline"],["class","tw-mt-3 tw-w-full tw-relative","id","assignedSearch",4,"ngIf"],["id","assignedItems","class","tw-py-3 tw-px-4",4,"ngFor","ngForOf"],["id","availableSearch",1,"tw-mt-3","tw-w-full","tw-relative"],["for","searchAvailable",1,"tw-flex","tw-items-center","tw-justify-center","tw-text-grey-700","tw-mb-0","tw-w-10","tw-absolute","tw-inset-y-0"],["aria-hidden","true",1,"far","fa-search","tw-text-sm","tw-cursor-pointer"],["id","searchAvailable","name","availableSearchValue","type","search",1,"tw-form-control","tw-w-full","tw-pl-10",3,"ngModelChange","ngModel"],["id","unassignedItems",1,"tw-py-3","tw-px-4"],[1,"tw-flex","tw-items-start","tw-m-0","tw-text-sm","tw-leading-none","tw-normal-case","tw-cursor-pointer","tw-truncate",3,"htmlFor"],["type","checkbox",1,"tw-block","tw-mr-2",3,"change","id","name","checked","disabled"],[1,"tw-block","tw-w-full","tw-truncate"],[3,"ngClass"],["class","fas fa-lock tw-text-red-500 tw-text-xs tw-mr-1",4,"ngIf"],["class","tw-block tw-mt-2 tw-font-normal tw-text-xs tw-leading-none tw-text-grey-600 tw-truncate",4,"ngIf"],[1,"fas","fa-lock","tw-text-red-500","tw-text-xs","tw-mr-1"],[1,"tw-block","tw-mt-2","tw-font-normal","tw-text-xs","tw-leading-none","tw-text-grey-600","tw-truncate"],["id","assignedSearch",1,"tw-mt-3","tw-w-full","tw-relative"],["for","searchAssigned",1,"tw-flex","tw-items-center","tw-justify-center","tw-text-grey-700","tw-mb-0","tw-w-10","tw-absolute","tw-inset-y-0"],["id","searchAssigned","name","assignedSearchValue","type","search",1,"tw-form-control","tw-w-full","tw-pl-10",3,"ngModelChange","ngModel"],["id","assignedItems",1,"tw-py-3","tw-px-4"]],template:function(U,G){1&U&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.DNE(6,d,7,4,"div",4),e.k0s(),e.j41(7,"ul",5),e.DNE(8,F,8,12,"li",6),e.nI1(9,"uppercase"),e.nI1(10,"search"),e.k0s()(),e.j41(11,"div",7)(12,"ul",8)(13,"li",9)(14,"button",10),e.bIt("click",function(){return G.assignItems()}),e.nrm(15,"span",11)(16,"span",12),e.j41(17,"span",13),e.EFF(18),e.nI1(19,"translate"),e.k0s()()(),e.j41(20,"li",9)(21,"button",14),e.bIt("click",function(){return G.unAssignItems()}),e.nrm(22,"span",15)(23,"span",16),e.j41(24,"span",13),e.EFF(25),e.nI1(26,"translate"),e.k0s()()()()(),e.j41(27,"div",1)(28,"div",2)(29,"h2",3),e.EFF(30),e.nI1(31,"translate"),e.k0s(),e.DNE(32,w,7,4,"div",17),e.k0s(),e.j41(33,"ul",5),e.DNE(34,k,8,12,"li",18),e.nI1(35,"uppercase"),e.nI1(36,"search"),e.k0s()()()),2&U&&(e.R7$(4),e.JRh(e.bMT(5,10,"UserDetails.Available")),e.R7$(2),e.Y8G("ngIf",G.availableSearch||!G.isReadOnly),e.R7$(2),e.Y8G("ngForOf",e.i5U(10,14,G.available,e.bMT(9,12,G.availableSearchValue))),e.R7$(6),e.Y8G("disabled",G.availableCount<1||G.isReadOnly),e.R7$(4),e.JRh(e.bMT(19,17,"Common.Unassign")),e.R7$(3),e.Y8G("disabled",G.assignedCount<1||G.isReadOnly),e.R7$(4),e.JRh(e.bMT(26,19,"Common.Assign")),e.R7$(5),e.JRh(e.bMT(31,21,"UserDetails.Assigned")),e.R7$(2),e.Y8G("ngIf",G.assignedSearch||!G.isReadOnly),e.R7$(2),e.Y8G("ngForOf",e.i5U(36,25,G.assigned,e.bMT(35,23,G.assignedSearchValue))))},dependencies:[_.YU,_.Sq,_.bT,g.me,g.BC,g.vS,_.Pc,S,v.D9],encapsulation:2})}}return H})()},2571:(et,me,u)=>{"use strict";u.d(me,{A:()=>v});var i=u(9417),e=u(1683),_=u(177),g=u(1780),S=u(4438);let v=(()=>{class f{static{this.\u0275fac=function(m){return new(m||f)}}static{this.\u0275mod=S.$C({type:f})}static{this.\u0275inj=S.G2t({imports:[_.MD,i.YN,e.Y,g.h]})}}return f})()},275:(et,me,u)=>{"use strict";u.d(me,{W:()=>S});var i=u(177),e=u(1780),_=u(1583),g=u(4438);let S=(()=>{class v{static{this.\u0275fac=function(E){return new(E||v)}}static{this.\u0275mod=g.$C({type:v})}static{this.\u0275inj=g.G2t({imports:[i.MD,e.h,_.iI]})}}return v})()},6719:(et,me,u)=>{"use strict";u.d(me,{G:()=>g});var i=u(4438),e=u(1583);const _=["*"];let g=(()=>{class S{constructor(f){this.activatedRoute=f,this.restrictedStarter=!1,this.active=!1}ngOnInit(){const f=this.activatedRoute.snapshot;null!==f.firstChild&&null!==f.firstChild.routeConfig&&f.firstChild.routeConfig.path===this.value&&(this.active=!0)}static{this.\u0275fac=function(d){return new(d||S)(i.rXU(e.nX))}}static{this.\u0275cmp=i.VBU({type:S,selectors:[["app-custom-tab"]],inputs:{title:[i.Mj6.None,"tabTitle","title"],value:[i.Mj6.None,"tabValue","value"],restrictedStarter:"restrictedStarter"},ngContentSelectors:_,decls:1,vars:0,template:function(d,E){1&d&&(i.NAR(),i.SdG(0))},encapsulation:2})}}return S})()},251:(et,me,u)=>{"use strict";u.d(me,{v:()=>F});var i=u(6719),e=u(4438),_=u(1583),g=u(177),S=u(1780);const v=(w,C)=>({tabs:w,"pill-tabs":C}),f=(w,C)=>({tabs__item:w,"pill-tabs__item":C}),d=(w,C)=>({tabs__link:w,"pill-tabs__link":C});function E(w,C){1&w&&(e.j41(0,"span",5)(1,"span",6),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.nrm(4,"span",7),e.k0s()),2&w&&(e.R7$(2),e.JRh(e.bMT(3,1,"StarterMode.RequiresUpgrade")))}function m(w,C){if(1&w){const R=e.RV6();e.j41(0,"li",2)(1,"button",3),e.bIt("click",function(){const O=e.eBV(R).$implicit,H=e.XpG();return e.Njj(H.changeTab(O))}),e.EFF(2),e.nI1(3,"translate"),e.DNE(4,E,5,3,"span",4),e.k0s()()}if(2&w){const R=C.$implicit,k=C.index,O=e.XpG();e.Y8G("ngClass",e.l_i(11,f,!O.pillMode,O.pillMode)),e.R7$(),e.AVh("active",R.active),e.Y8G("id","customTab"+k)("ngClass",e.l_i(14,d,!O.pillMode,O.pillMode)),e.BMQ("data-value",R.value)("aria-selected",R.active),e.R7$(),e.SpI(" ",e.bMT(3,9,R.title)," "),e.R7$(2),e.Y8G("ngIf",R.restrictedStarter)}}let F=(()=>{class w{constructor(R,k){this.router=R,this.activatedRoute=k,this.pillMode=!1}ngOnInit(){"string"==typeof this.pillMode&&(this.pillMode="true"===this.pillMode)}ngAfterContentInit(){const R=this.tabs.filter(k=>k.active);R&&!R.length&&this.changeTab(this.tabs.first)}changeTab(R){!this.tabs||!this.tabs.length||R.active||(this.setActiveTab(R),this.router.navigate([R.value],{relativeTo:this.activatedRoute}))}setActiveTab(R){this.tabs.toArray().forEach(k=>k.active=!1),R.active=!0}static{this.\u0275fac=function(k){return new(k||w)(e.rXU(_.Ix),e.rXU(_.nX))}}static{this.\u0275cmp=e.VBU({type:w,selectors:[["app-custom-tabs"]],contentQueries:function(k,O,H){if(1&k&&e.wni(H,i.G,4),2&k){let x;e.mGM(x=e.lsd())&&(O.tabs=x)}},inputs:{pillMode:"pillMode"},decls:3,vars:8,consts:[["role","tablist",3,"ngClass"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],["role","tab",3,"click","id","ngClass"],["id","upgradeSymbol",4,"ngIf"],["id","upgradeSymbol"],[1,"sr-only"],["aria-hidden","true",1,"tw-text-secondary-500","far","fa-arrow-alt-circle-up","tw-pl-1"]],template:function(k,O){1&k&&(e.j41(0,"ul",0),e.nI1(1,"translate"),e.DNE(2,m,5,17,"li",1),e.k0s()),2&k&&(e.Y8G("ngClass",e.l_i(5,v,!O.pillMode,O.pillMode)),e.BMQ("aria-label",e.bMT(1,3,"Nav.SubMenu")),e.R7$(2),e.Y8G("ngForOf",O.tabs))},dependencies:[g.YU,g.Sq,g.bT,S.D9],encapsulation:2})}}return w})()},8577:(et,me,u)=>{"use strict";u.d(me,{$:()=>v,w:()=>f});var i=u(4438),e=u(1589),_=u(2390),g=u(923),S=u(9812);class v{get datePipe(){return this._datePipe}constructor(E=g.N.standardDate,m="Common.NoDateSet"){this._datePipe=new e.El,this.noDateLabel=m??"Common.NoDateSet",this._datePipe=(()=>{switch(E){case g.N.standardDate:return new e.El;case g.N.standardDateTime:return new e.r7;case g.N.prettyDateTime:return new e.sp;default:return new e.El}})()}}let f=(()=>{class d{constructor(m){this.dataTableService=m,this.headClasses="",this.cellClasses="",this.isPlaceholder=!1,this.isBoolean=!1,this.placeholder="",this.navigate=new i.bkB}ngOnDestroy(){this.dataTableSub?.unsubscribe()}ngOnInit(){this.dataTableSub=this.dataTableService.sortCompletedEvent.subscribe(m=>{null!=this.sort&&this.setSort(m)})}get dateColumn(){return"boolean"==typeof this.date?new v:this.date}format(m){return void 0!==this.formatter?this.formatter(m):m}get sortClass(){if(null==this.sort)return"";switch(this.sort){case _.uy.None:return"fad fa-sort";case _.uy.Ascending:return"fas fa-caret-up";case _.uy.Descending:return"fas fa-caret-down"}}setSort(m){this.sort=m==this.prop?this.sort==_.uy.Descending?_.uy.Ascending:_.uy.Descending:_.uy.None}static{this.\u0275fac=function(F){return new(F||d)(i.rXU(S.I))}}static{this.\u0275cmp=i.VBU({type:d,selectors:[["app-data-table-column"]],inputs:{title:"title",prop:"prop",headClasses:"headClasses",cellClasses:"cellClasses",date:"date",link:"link",isPlaceholder:"isPlaceholder",isBoolean:"isBoolean",placeholder:"placeholder",formatter:"formatter",sort:"sort"},outputs:{navigate:"navigate"},decls:0,vars:0,template:function(F,w){},encapsulation:2})}}return d})()},4252:(et,me,u)=>{"use strict";u.d(me,{AA:()=>Te,up:()=>Je});var i=u(4438),e=u(8577),_=u(1583),g=u(9812),S=u(177),v=u(1780);const f=["selectButton"],d=["deleteButton"],E=he=>({hover:he}),m=he=>({"tw-mr-2":he});function F(he,Le){if(1&he&&(i.j41(0,"div",7),i.nrm(1,"div",8),i.nI1(2,"translate"),i.k0s()),2&he){const Ae=i.XpG();i.R7$(),i.Y8G("innerHTML",i.bMT(2,1,Ae.noRowsLabel),i.npT)}}function w(he,Le){if(1&he&&i.nrm(0,"span",14),2&he){const Ae=i.XpG().$implicit;i.Y8G("ngClass",Ae.sortClass)}}function C(he,Le){if(1&he){const Ae=i.RV6();i.j41(0,"th",13),i.bIt("click",function(){const Fe=i.eBV(Ae).$implicit,ft=i.XpG(2);return i.Njj(ft.sortColumn(Fe))}),i.j41(1,"span",14),i.EFF(2),i.nI1(3,"translate"),i.k0s(),i.DNE(4,w,1,1,"span",15),i.k0s()}if(2&he){const Ae=Le.$implicit;i.Y8G("className",Ae.headClasses),i.R7$(),i.Y8G("ngClass",i.eq3(6,m,null!=Ae.sort)),i.R7$(),i.JRh(i.bMT(3,4,Ae.title)),i.R7$(2),i.Y8G("ngIf",null!=Ae.sort)}}function R(he,Le){1&he&&(i.j41(0,"th",16)(1,"span",17),i.EFF(2),i.nI1(3,"translate"),i.k0s()()),2&he&&(i.R7$(2),i.JRh(i.bMT(3,1,"Common.Actions")))}function k(he,Le){if(1&he&&(i.qex(0),i.EFF(1),i.bVm()),2&he){const Ae=i.XpG(3).$implicit;i.R7$(),i.SpI(" ",Ae," ")}}function O(he,Le){if(1&he&&(i.qex(0),i.EFF(1),i.bVm()),2&he){const Ae=i.XpG(4).$implicit,st=i.XpG().$implicit;i.R7$(),i.SpI(" ",Ae.dateColumn.datePipe.transform(st[Ae.prop])," ")}}function H(he,Le){if(1&he&&(i.EFF(0),i.nI1(1,"translate")),2&he){const Ae=i.XpG(4).$implicit;i.SpI(" ",i.bMT(1,1,Ae.dateColumn.noDateLabel)," ")}}function x(he,Le){if(1&he&&(i.qex(0),i.DNE(1,O,2,1,"ng-container",21)(2,H,2,3,"ng-template",null,1,i.C5r),i.bVm()),2&he){const Ae=i.sdS(3),st=i.XpG(3).$implicit,Fe=i.XpG().$implicit;i.R7$(),i.Y8G("ngIf",Fe[st.prop])("ngIfElse",Ae)}}function $(he,Le){if(1&he){const Ae=i.RV6();i.qex(0),i.j41(1,"a",22),i.bIt("click",function(){i.eBV(Ae);const Fe=i.XpG(5).$implicit,ft=i.XpG(2);return i.Njj(!!ft.clickLinkCell(Fe.link))}),i.EFF(2),i.k0s(),i.bVm()}if(2&he){const Ae=i.XpG(4).$implicit,st=i.XpG().$implicit;i.R7$(),i.FS9("href",st.routeLink,i.B4B),i.R7$(),i.SpI(" ",st[Ae.prop]," ")}}function U(he,Le){if(1&he&&i.nrm(0,"span",23),2&he){const Ae=i.XpG(4).$implicit,st=i.XpG().$implicit;i.Y8G("innerHTML",Ae.format(st[Ae.prop]),i.npT)}}function G(he,Le){if(1&he&&i.DNE(0,$,3,2,"ng-container",21)(1,U,1,1,"ng-template",null,2,i.C5r),2&he){const Ae=i.sdS(2),st=i.XpG(3).$implicit;i.Y8G("ngIf",st.link)("ngIfElse",Ae)}}function ie(he,Le){if(1&he&&(i.qex(0),i.DNE(1,x,4,2,"ng-container",21)(2,G,3,2,"ng-template",null,0,i.C5r),i.bVm()),2&he){const Ae=i.sdS(3),st=i.XpG(2).$implicit;i.R7$(),i.Y8G("ngIf",st.date)("ngIfElse",Ae)}}function le(he,Le){if(1&he&&(i.qex(0),i.DNE(1,k,2,1,"ng-container",20)(2,ie,4,2,"ng-container",20),i.bVm()),2&he){const Ae=i.XpG().$implicit;i.R7$(),i.Y8G("ngIf",null==Ae.prop),i.R7$(),i.Y8G("ngIf",null!=Ae.prop)}}function L(he,Le){if(1&he&&(i.qex(0),i.j41(1,"span",24),i.EFF(2),i.nI1(3,"translate"),i.k0s(),i.bVm()),2&he){const Ae=i.XpG().$implicit;i.R7$(2),i.JRh(i.bMT(3,1,Ae.placeholder))}}function Q(he,Le){1&he&&(i.j41(0,"span",27)(1,"span",17),i.EFF(2),i.nI1(3,"translate"),i.k0s()()),2&he&&(i.R7$(2),i.JRh(i.bMT(3,1,"Common.Yes")))}function te(he,Le){1&he&&(i.j41(0,"span",28)(1,"span",17),i.EFF(2),i.nI1(3,"translate"),i.k0s()()),2&he&&(i.R7$(2),i.JRh(i.bMT(3,1,"Common.No")))}function I(he,Le){if(1&he&&(i.qex(0),i.DNE(1,Q,4,3,"span",25)(2,te,4,3,"span",26),i.bVm()),2&he){const Ae=i.XpG().$implicit,st=i.XpG().$implicit;i.R7$(),i.Y8G("ngIf",st[Ae.prop]),i.R7$(),i.Y8G("ngIf",!st[Ae.prop])}}function oe(he,Le){if(1&he&&(i.j41(0,"td",19),i.DNE(1,le,3,2,"ng-container",20)(2,L,4,3,"ng-container",20)(3,I,3,2,"ng-container",20),i.k0s()),2&he){const Ae=Le.$implicit;i.Y8G("className",Ae.cellClasses),i.BMQ("data-label",Ae.title),i.R7$(),i.Y8G("ngIf",!Ae.isPlaceholder&&!Ae.isBoolean),i.R7$(),i.Y8G("ngIf",Ae.isPlaceholder),i.R7$(),i.Y8G("ngIf",Ae.isBoolean)}}function Y(he,Le){if(1&he){const Ae=i.RV6();i.j41(0,"button",32,3),i.bIt("click",function(){i.eBV(Ae);const Fe=i.XpG(2).$implicit,ft=i.XpG(2);return i.Njj(ft.selectRow(Fe))}),i.nrm(2,"span",33),i.j41(3,"span",17),i.EFF(4),i.nI1(5,"translate"),i.k0s()()}2&he&&(i.R7$(4),i.JRh(i.bMT(5,1,"Common.Edit")))}function _e(he,Le){if(1&he){const Ae=i.RV6();i.j41(0,"button",34,4),i.bIt("click",function(){i.eBV(Ae);const Fe=i.XpG(2).index,ft=i.XpG(2);return i.Njj(ft.deleteRow(Fe))}),i.nrm(2,"span",35),i.j41(3,"span",17),i.EFF(4),i.nI1(5,"translate"),i.k0s()()}2&he&&(i.R7$(4),i.JRh(i.bMT(5,1,"Common.Remove.Title")))}function Oe(he,Le){if(1&he&&(i.j41(0,"td",16)(1,"div",29),i.DNE(2,Y,6,3,"button",30)(3,_e,6,3,"button",31),i.k0s()()),2&he){const Ae=i.XpG(3);i.R7$(2),i.Y8G("ngIf",Ae.canSelect),i.R7$(),i.Y8G("ngIf",Ae.canDelete)}}function Re(he,Le){if(1&he&&(i.j41(0,"tr"),i.DNE(1,oe,4,5,"td",18)(2,Oe,4,2,"td",11),i.k0s()),2&he){const Ae=i.XpG(2);i.R7$(),i.Y8G("ngForOf",Ae.columns),i.R7$(),i.Y8G("ngIf",Ae.actions)}}function xe(he,Le){if(1&he&&(i.j41(0,"table",9)(1,"thead")(2,"tr"),i.DNE(3,C,5,8,"th",10)(4,R,4,3,"th",11),i.k0s()(),i.j41(5,"tbody"),i.DNE(6,Re,3,2,"tr",12),i.k0s()()),2&he){const Ae=i.XpG();i.Y8G("ngClass",i.eq3(4,E,!Ae.isReadOnly)),i.R7$(3),i.Y8G("ngForOf",Ae.columns),i.R7$(),i.Y8G("ngIf",Ae.actions),i.R7$(2),i.Y8G("ngForOf",Ae.rows)}}let Je=(()=>{class he{set isReadOnly(Ae){this._isReadOnly=Ae||!1}get isReadOnly(){return this._isReadOnly}constructor(Ae,st){this.router=Ae,this.dataTableService=st,this.onSelect=new i.bkB,this.delete=new i.bkB}ngOnInit(){this.isReadOnly?(this.canDelete=!1,this.canSelect=!1):this.actions&&(this.canDelete=this.actions.includes(Te.Delete),this.canSelect=this.actions.includes(Te.Select))}ngAfterViewInit(){this.dataTableService.columns=this.columns}deleteRow(Ae){this.canDelete&&(this.dataTableService.deleteRowEvent.next(Ae),this.delete.next(Ae))}selectRow(Ae){if(this.canSelect){const st=new we(Ae,this.selectButtonRef);this.onSelect.emit(st)}}clickLinkCell(Ae){this.router.navigate([`${Ae.routeForLink}`,Ae.identifier])}sortColumn(Ae){(null!=Ae.sort||null!=Ae.sort)&&this.dataTableService.sortColumnEvent.next(Ae)}static{this.\u0275fac=function(st){return new(st||he)(i.rXU(_.Ix),i.rXU(g.I))}}static{this.\u0275cmp=i.VBU({type:he,selectors:[["app-data-table"]],contentQueries:function(st,Fe,ft){if(1&st&&i.wni(ft,e.w,4),2&st){let Ye;i.mGM(Ye=i.lsd())&&(Fe.columns=Ye)}},viewQuery:function(st,Fe){if(1&st&&(i.GBs(f,5),i.GBs(d,5)),2&st){let ft;i.mGM(ft=i.lsd())&&(Fe.selectButtonRef=ft.first),i.mGM(ft=i.lsd())&&(Fe.deleteButtonRef=ft.first)}},inputs:{noRowsLabel:[i.Mj6.None,"norowslabel","noRowsLabel"],rows:"rows",actions:"actions",isReadOnly:"isReadOnly"},outputs:{onSelect:"onSelect",delete:"delete"},decls:2,vars:2,consts:[["nonDateRow",""],["dateRowWithNoValue",""],["normalRowWithoutLink",""],["selectButton",""],["deleteButton",""],["class","tw-alert tw-mb-4","role","alert",4,"ngIf"],["class","datatable",3,"ngClass",4,"ngIf"],["role","alert",1,"tw-alert","tw-mb-4"],["id","noRowsLabel",3,"innerHTML"],[1,"datatable",3,"ngClass"],[3,"className","click",4,"ngFor","ngForOf"],["class","tw-w-1",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"click","className"],[3,"ngClass"],[3,"ngClass",4,"ngIf"],[1,"tw-w-1"],[1,"sr-only"],[3,"className",4,"ngFor","ngForOf"],[3,"className"],[4,"ngIf"],[4,"ngIf","ngIfElse"],[3,"click","href"],[3,"innerHTML"],[1,"tw-italic","tw-text-grey-800"],["class","fas fa-check tw-text-green-500",4,"ngIf"],["class","fas fa-times tw-opacity-25",4,"ngIf"],[1,"fas","fa-check","tw-text-green-500"],[1,"fas","fa-times","tw-opacity-25"],[1,"tw-flex","tw-items-center"],["id","selectButton","class","tw-btn-link tw-btn-small tw-mr-1","value","Edit",3,"click",4,"ngIf"],["id","deleteButton","class","tw-btn-link tw-btn-small tw-text-red-500","value","Delete",3,"click",4,"ngIf"],["id","selectButton","value","Edit",1,"tw-btn-link","tw-btn-small","tw-mr-1",3,"click"],["aria-hidden","true",1,"fad","fa-pencil"],["id","deleteButton","value","Delete",1,"tw-btn-link","tw-btn-small","tw-text-red-500",3,"click"],["aria-hidden","true",1,"fas","fa-times"]],template:function(st,Fe){1&st&&i.DNE(0,F,3,3,"div",5)(1,xe,7,6,"table",6),2&st&&(i.Y8G("ngIf",(null==Fe.rows?null:Fe.rows.length)<1),i.R7$(),i.Y8G("ngIf",(null==Fe.rows?null:Fe.rows.length)>0))},dependencies:[S.YU,S.Sq,S.bT,v.D9],encapsulation:2})}}return he})();var Te=function(he){return he.Delete="Delete",he.Select="Select",he}(Te||{});class we{constructor(Le,Ae=null){this.data=Le,this.element=Ae}}},8251:(et,me,u)=>{"use strict";u.d(me,{h:()=>f});var i=u(1780),e=u(177),_=u(534),g=u(1683),S=u(9812),v=u(4438);let f=(()=>{class d{static{this.\u0275fac=function(F){return new(F||d)}}static{this.\u0275mod=v.$C({type:d})}static{this.\u0275inj=v.G2t({providers:[S.I],imports:[e.MD,i.h,_.Ss,g.Y]})}}return d})()},9812:(et,me,u)=>{"use strict";u.d(me,{I:()=>_});var i=u(1413),e=u(4438);let _=(()=>{class g{constructor(){this.sortColumnEvent=new i.B,this.sortCompletedEvent=new i.B,this.deleteRowEvent=new i.B}static{this.\u0275fac=function(f){return new(f||g)}}static{this.\u0275prov=e.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})()},6536:(et,me,u)=>{"use strict";u.d(me,{Z:()=>x,e:()=>H});var i=u(4438),e=u(9417),_=u(4549),g=u(7263),S=u(177);function v($,U){1&$&&i.eu8(0)}function f($,U){if(1&$&&(i.j41(0,"div",4),i.DNE(1,v,1,0,"ng-container",5),i.k0s()),2&$){i.XpG();const G=i.sdS(5);i.R7$(),i.Y8G("ngTemplateOutlet",G)}}function d($,U){1&$&&i.eu8(0)}function E($,U){1&$&&i.eu8(0)}function m($,U){if(1&$&&(i.j41(0,"div",6)(1,"div",7),i.DNE(2,d,1,0,"ng-container",5),i.k0s(),i.j41(3,"div",8),i.DNE(4,E,1,0,"ng-container",5),i.k0s()()),2&$){i.XpG();const G=i.sdS(5),ie=i.sdS(7);i.R7$(2),i.Y8G("ngTemplateOutlet",ie),i.R7$(2),i.Y8G("ngTemplateOutlet",G)}}function F($,U){1&$&&i.eu8(0)}function w($,U){if(1&$&&(i.j41(0,"div",6),i.DNE(1,F,1,0,"ng-container",5),i.k0s()),2&$){i.XpG();const G=i.sdS(7);i.R7$(),i.Y8G("ngTemplateOutlet",G)}}function C($,U){if(1&$&&(i.j41(0,"option",15),i.EFF(1),i.nI1(2,"number"),i.k0s()),2&$){const G=U.index;i.Y8G("value",G),i.R7$(),i.JRh(i.i5U(2,2,G,"2.0"))}}function R($,U){if(1&$&&(i.j41(0,"option",15),i.EFF(1),i.nI1(2,"number"),i.k0s()),2&$){const G=U.index;i.Y8G("value",G),i.R7$(),i.JRh(i.i5U(2,2,G,"2.0"))}}function k($,U){if(1&$){const G=i.RV6();i.j41(0,"label",9),i.EFF(1,"Hours"),i.k0s(),i.j41(2,"div",10)(3,"select",11),i.bIt("ngModelChange",function(le){i.eBV(G);const L=i.XpG();return i.Njj(L.onHoursChange(le))}),i.j41(4,"option",12),i.EFF(5,"HH"),i.k0s(),i.DNE(6,C,3,5,"option",13),i.k0s()(),i.j41(7,"span",14),i.EFF(8,":"),i.k0s(),i.j41(9,"label",9),i.EFF(10,"Minutes"),i.k0s(),i.j41(11,"div",10)(12,"select",11),i.bIt("ngModelChange",function(le){i.eBV(G);const L=i.XpG();return i.Njj(L.onMinutesChange(le))}),i.j41(13,"option",12),i.EFF(14,"MM"),i.k0s(),i.DNE(15,R,3,5,"option",13),i.k0s()()}if(2&$){const G=i.XpG();i.Y8G("for",G.id+"-time-hours"),i.R7$(3),i.Y8G("id",G.id+"-time-hours")("ngModel",G.hours),i.R7$(),i.Y8G("value",void 0),i.R7$(2),i.Y8G("ngForOf",G.counter(23)),i.R7$(3),i.Y8G("for",G.id+"-time-minutes"),i.R7$(3),i.Y8G("id",G.id+"-time-minutes")("ngModel",G.minutes),i.R7$(),i.Y8G("value",void 0),i.R7$(2),i.Y8G("ngForOf",G.counter(59))}}function O($,U){if(1&$){const G=i.RV6();i.j41(0,"input",16),i.bIt("ngModelChange",function(le){i.eBV(G);const L=i.XpG();return i.Njj(L.onDateChange(le))})("keyup",function(le){i.eBV(G);const L=i.XpG();return i.Njj(L.onKeyUp(le))}),i.k0s()}if(2&$){const G=i.XpG();i.Y8G("id",G.id+"-date")("ngModel",G.stringDate),i.BMQ("required",G.required?"":null)("min",G.minDate)("max",G.maxDate)}}var H=function($){return $.Date="date",$.Time="time",$.DateTime="datetime",$}(H||{});let x=(()=>{class ${constructor(){this.id=(0,g.Nl)(),this.displayType=H.DateTime,this.required=!1,this.disabled=!1,this.keyup=new i.bkB,this.onChange=G=>{},this.onTouched=()=>{}}set value(G){this.setDate(G)}set min(G){this.minDate=this.toMinMaxDateString(G)}set max(G){this.maxDate=this.toMinMaxDateString(G)}get hours(){return(this.date?this.date:void 0)?.hour}get minutes(){return(this.date?this.date:void 0)?.minute}ngOnInit(){}writeValue(G){this.setDate(G)}registerOnChange(G){this.onChange=G}registerOnTouched(G){this.onTouched=G}setDisabledState(G){this.disabled=G}get opacity(){return this.disabled?.25:1}validate(G){return!this.required||this.date?null:{required:{valid:!1}}}onKeyUp(G){this.keyup.emit(G)}onHoursChange(G){this.date=this.date?this.date.set({hour:G}):_.c9.now().set({hour:G}),this.onChange(this.date.toString())}onMinutesChange(G){this.date=this.date?this.date.set({minute:G}):_.c9.now().set({minute:G}),this.onChange(this.date.toString())}onDateChange(G){this.stringDate=G;let ie=_.c9.fromFormat(G,"yyyy-MM-dd");ie.isValid&&(this.date=this.date?this.date.set({year:ie.year,month:ie.month,day:ie.day}):ie,this.onChange(this.date.toString()))}counter(G){return new Array(G+1)}setDate(G){if(G){if(G instanceof _.c9&&(this.date=G),"string"==typeof G){const ie=_.c9.fromISO(G);this.date=ie.isValid?ie:void 0}this.stringDate=this.date.toFormat("yyyy-MM-dd")}}toMinMaxDateString(G){let ie;return ie=G instanceof _.c9?G:_.c9.fromISO(G.toString()),ie.toFormat("yyyy-MM-dd")}static{this.\u0275fac=function(ie){return new(ie||$)}}static{this.\u0275cmp=i.VBU({type:$,selectors:[["app-date-time"]],hostVars:2,hostBindings:function(ie,le){2&ie&&i.xc7("opacity",le.opacity)},inputs:{id:"id",value:"value",displayType:"displayType",required:"required",disabled:"disabled",min:"min",max:"max"},outputs:{keyup:"keyup"},features:[i.Jv_([{provide:e.kq,useExisting:(0,i.Rfq)(()=>$),multi:!0},{provide:e.cz,useExisting:(0,i.Rfq)(()=>$),multi:!0}])],decls:8,vars:3,consts:[["timeTemplate",""],["dateTemplate",""],["class","tw-flex tw-items-center",4,"ngIf"],["class","tw-flex tw-flex-wrap",4,"ngIf"],[1,"tw-flex","tw-items-center"],[4,"ngTemplateOutlet"],[1,"tw-flex","tw-flex-wrap"],[1,"tw-w-18"],[1,"tw-flex-none","tw-flex","tw-items-center","tw-pl-3"],[1,"sr-only",3,"for"],[1,"tw-form-select","tw-flex-no-shrink","tw-w-18"],[1,"tw-form-control",3,"ngModelChange","id","ngModel"],["disabled","","selected","",3,"value"],[3,"value",4,"ngFor","ngForOf"],["aria-hidden","true",1,"tw-font-semibold","tw-flex-no-shrink","px-1"],[3,"value"],["type","date","placeholder","dd/mm/yyyy",1,"tw-form-control",3,"ngModelChange","keyup","id","ngModel"]],template:function(ie,le){1&ie&&(i.j41(0,"div"),i.DNE(1,f,2,1,"div",2)(2,m,5,2,"div",3)(3,w,2,1,"div",3)(4,k,16,10,"ng-template",null,0,i.C5r)(6,O,1,5,"ng-template",null,1,i.C5r),i.k0s()),2&ie&&(i.R7$(),i.Y8G("ngIf","time"==le.displayType),i.R7$(),i.Y8G("ngIf","datetime"==le.displayType),i.R7$(),i.Y8G("ngIf","date"==le.displayType))},dependencies:[S.Sq,S.bT,S.T3,e.xH,e.y7,e.me,e.wz,e.BC,e.vS,S.QX],encapsulation:2})}}return $})()},6599:(et,me,u)=>{"use strict";u.d(me,{Y:()=>v});var i=u(177),e=u(1683),_=u(1780),g=u(9417),S=u(4438);let v=(()=>{class f{static{this.\u0275fac=function(m){return new(m||f)}}static{this.\u0275mod=S.$C({type:f})}static{this.\u0275inj=S.G2t({imports:[i.MD,g.YN,e.Y,_.h]})}}return f})()},3860:(et,me,u)=>{"use strict";u.d(me,{$:()=>g});var i=u(9417),e=u(7263),_=u(4438);let g=(()=>{class S{validate(f){return this.regex?(0,e.AB)(new RegExp(this.regex,"i"))(f):null}static{this.\u0275fac=function(d){return new(d||S)}}static{this.\u0275dir=_.FsC({type:S,selectors:[["","appClaimRegex",""]],inputs:{regex:[_.Mj6.None,"appClaimRegex","regex"]},features:[_.Jv_([{provide:i.cz,useExisting:S,multi:!0}])]})}}return S})()},5663:(et,me,u)=>{"use strict";u.d(me,{Q:()=>v});var i=u(5794),e=u(1583),_=u(1780),g=u(4438),S=u(7005);let v=(()=>{class f{constructor(E){this.injector=E}handleError(E){if((0,g.naY)())console.log(E);else{const m=this.injector.get(e.Ix),F=this.injector.get(i.tw),w=this.injector.get(_.c$),C=this.injector.get(S.QG);F.info(w.instant("Notifications.Support")),F.info(w.instant("Notifications.Apology"),w.instant("Notifications.Sorry"));const R=C.translateRoute("/home");m.navigateByUrl(R)}}static{this.\u0275fac=function(m){return new(m||f)(g.KVO(g.zZn))}}static{this.\u0275prov=g.jDH({token:f,factory:f.\u0275fac})}}return f})()},7811:(et,me,u)=>{"use strict";u.d(me,{j:()=>U});var i=u(4438),e=u(1413),_=u(1985),g=u(5558),S=u(6354),v=u(7673),f=u(1584),d=u(526),E=u(9417),m=u(8400),F=u(177),w=u(1780);function C(G,ie){if(1&G&&(i.j41(0,"option",11),i.EFF(1),i.k0s()),2&G){const le=ie.$implicit;i.Y8G("value",le),i.R7$(),i.JRh(le)}}function R(G,ie){if(1&G){const le=i.RV6();i.j41(0,"select",9,1),i.bIt("ngModelChange",function(Q){i.eBV(le);const te=i.XpG();return i.Njj(te.valueChanged.emit(Q))})("keyup",function(){i.eBV(le);const Q=i.XpG();return i.Njj(Q.keyupEvent.emit())}),i.DNE(2,C,2,2,"option",10),i.k0s()}if(2&G){const le=i.sdS(1),L=i.XpG();i.Y8G("id",L.forId)("ngModel",L.value)("disabled",L.disabled&&!le.dirty),i.R7$(2),i.Y8G("ngForOf",L.allowedValues)}}function k(G,ie){if(1&G){const le=i.RV6();i.j41(0,"input",12,1),i.nI1(2,"translate"),i.bIt("ngModelChange",function(Q){i.eBV(le);const te=i.XpG();return i.Njj(te.valueChanged.emit(Q))})("focus",function(Q){i.eBV(le);const te=i.XpG();return i.Njj(te.onFocus(Q))}),i.k0s()}if(2&G){const le=i.sdS(1),L=i.XpG(),Q=i.sdS(5);i.FS9("placeholder",i.bMT(2,9,"ClaimTypes.TypeaheadHelp")),i.Y8G("id",L.forId)("container",L.hostingModal)("ngModel",L.value)("typeahead",L.dataSource)("typeaheadWaitMs",200)("typeaheadAsync",!0)("typeaheadItemTemplate",Q)("disabled",L.disabled&&!le.dirty)}}function O(G,ie){if(1&G&&(i.j41(0,"span"),i.EFF(1),i.nI1(2,"slice"),i.k0s()),2&G){const le=ie.item;i.R7$(),i.JRh(le.length>20?i.brH(2,1,le,0,20)+"...":le)}}function H(G,ie){1&G&&(i.j41(0,"div",13),i.nrm(1,"span",14),i.j41(2,"span"),i.EFF(3),i.nI1(4,"translate"),i.k0s()()),2&G&&(i.R7$(3),i.JRh(i.bMT(4,1,"Common.LoadingPleaseWait")))}function x(G,ie){1&G&&(i.j41(0,"div",15),i.nrm(1,"span",16),i.j41(2,"span"),i.EFF(3),i.nI1(4,"translate"),i.k0s()()),2&G&&(i.R7$(3),i.JRh(i.bMT(4,1,"ClaimTypes.AllowedValuesFiltering.NothingFound")))}function $(G,ie){if(1&G&&(i.j41(0,"div",17),i.nrm(1,"span",16),i.j41(2,"span"),i.EFF(3),i.nI1(4,"translate"),i.k0s()()),2&G){const le=i.XpG();i.R7$(3),i.Lme("",i.bMT(4,2,"ClaimTypes.AllowedValuesFiltering.TooManyFound")," (",le.totalValues,")")}}let U=(()=>{class G{set hostingModal(le){this._hostingModal=le}get hostingModal(){return null!=this._hostingModal?`#${this._hostingModal}`:null}set typeId(le){this._typeId=le,this.typeIdSub.next(le)}get typeId(){return this._typeId}constructor(le){this.claimTypesService=le,this.valueChanged=new i.bkB,this.disabled=!1,this.keyupEvent=new i.bkB,this.typeIdSub=new e.B,this.threshold=50,this.typeahead=!1,this.loading=!1,this.nothingFound=!1,this.tooManyResults=!1,this.typeIdSub.subscribe(L=>{this.claimTypesService.getAllowedValues(this._typeId,null,this.threshold).subscribe(Q=>{this.totalValues=Q.totalAllowedValues,this.allowedValues=Q.allowedValues,this.typeahead=!this.allowedValues,this.allowedValues||(this.dataSource=this.initDataSrc())})})}initDataSrc(){return new _.c(le=>{this.loading=!0,this.nothingFound=!1,this.tooManyResults=!1,le.next(this.value)}).pipe((0,g.n)(le=>le?this.claimTypesService.getAllowedValues(this.typeId,le,this.threshold).pipe((0,S.T)(L=>(this.totalValues=L.totalAllowedValues,this.allowedValues=L.allowedValues,this.loading=!1,this.nothingFound=L.totalAllowedValues<=0,this.tooManyResults=L.totalAllowedValues>=this.threshold,L.allowedValues||[]))):(this.loading=!1,this.nothingFound=!1,this.tooManyResults=!1,(0,v.of)([]))))}onFocus(le){le.stopPropagation(),(0,f.O)(1).subscribe(()=>{const L=new Event("input");le.target?.dispatchEvent(L)})}static{this.\u0275fac=function(L){return new(L||G)(i.rXU(d.X))}}static{this.\u0275cmp=i.VBU({type:G,selectors:[["app-enum-claim-type-input"]],inputs:{hostingModal:"hostingModal",forId:[i.Mj6.None,"id","forId"],typeId:"typeId",inModal:"inModal",value:"value",disabled:"disabled"},outputs:{valueChanged:"valueChanged",keyupEvent:"keyupEvent"},decls:9,vars:5,consts:[["customItemTemplate",""],["claimvalue","ngModel"],[1,"tw-form-select"],["class","tw-form-control","name","enum","required","",3,"id","ngModel","disabled","ngModelChange","keyup",4,"ngIf"],[1,"tw-form-typeahead"],["class","tw-form-control","type","text","name","enum","autocomplete","off","required","",3,"id","container","ngModel","typeahead","typeaheadWaitMs","typeaheadAsync","typeaheadItemTemplate","placeholder","disabled","ngModelChange","focus",4,"ngIf"],["id","typeahead-loading-msg","class","tw-form-label tw-text-sm tw-mt-2",4,"ngIf"],["id","typeahead-nothing-found-msg","class","tw-form-label tw-text-sm tw-mt-2",4,"ngIf"],["id","typeahead-too-many-msg","class","tw-form-label tw-text-sm tw-mt-2",4,"ngIf"],["name","enum","required","",1,"tw-form-control",3,"ngModelChange","keyup","id","ngModel","disabled"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["type","text","name","enum","autocomplete","off","required","",1,"tw-form-control",3,"ngModelChange","focus","id","container","ngModel","typeahead","typeaheadWaitMs","typeaheadAsync","typeaheadItemTemplate","placeholder","disabled"],["id","typeahead-loading-msg",1,"tw-form-label","tw-text-sm","tw-mt-2"],[1,"fad","fa-spinner-third","fa-spin","tw-text-secondary-500","tw-mr-2"],["id","typeahead-nothing-found-msg",1,"tw-form-label","tw-text-sm","tw-mt-2"],[1,"fa","fa-exclamation-triangle","tw-text-secondary-500","tw-mr-2"],["id","typeahead-too-many-msg",1,"tw-form-label","tw-text-sm","tw-mt-2"]],template:function(L,Q){1&L&&(i.j41(0,"div",2),i.DNE(1,R,3,4,"select",3),i.k0s(),i.j41(2,"div",4),i.DNE(3,k,3,11,"input",5),i.k0s(),i.DNE(4,O,3,5,"ng-template",null,0,i.C5r)(6,H,5,3,"div",6)(7,x,5,3,"div",7)(8,$,5,4,"div",8)),2&L&&(i.R7$(),i.Y8G("ngIf",!Q.typeahead),i.R7$(2),i.Y8G("ngIf",Q.typeahead),i.R7$(3),i.Y8G("ngIf",Q.typeahead&&Q.loading),i.R7$(),i.Y8G("ngIf",Q.typeahead&&Q.nothingFound),i.R7$(),i.Y8G("ngIf",Q.typeahead&&Q.tooManyResults))},dependencies:[E.xH,E.y7,E.me,E.wz,E.BC,E.YS,E.vS,m.Xi,F.Sq,F.bT,F.P9,w.D9],encapsulation:2})}}return G})()},8389:(et,me,u)=>{"use strict";u.d(me,{w:()=>F});var i=u(177),e=u(1780),_=u(8400),g=u(9417),S=u(6599),v=u(4367),f=u(7677),d=u(1683),E=u(3843),m=u(4438);let F=(()=>{class w{static{this.\u0275fac=function(k){return new(k||w)}}static{this.\u0275mod=m.$C({type:w})}static{this.\u0275inj=m.G2t({imports:[g.YN,g.X1,_.qP,i.MD,e.h,S.Y,v.N,f.N,d.Y,E.G]})}}return w})()},2891:(et,me,u)=>{"use strict";u.d(me,{t:()=>w});var i=u(4438),e=u(9417),_=u(7263),g=u(1780),S=u(177),v=u(2292);function f(C,R){if(1&C){const k=i.RV6();i.j41(0,"div",6)(1,"div",7),i.nrm(2,"input",8),i.j41(3,"button",9),i.bIt("click",function(){i.eBV(k);const H=i.XpG();return i.Njj(H.onAdd())}),i.nrm(4,"span",10),i.j41(5,"span",11),i.EFF(6),i.nI1(7,"translate"),i.k0s()()()()}if(2&C){const k=i.XpG();i.R7$(2),i.FS9("id",k.id+"-newValue-input"),i.BMQ("list",k.suggestionListId),i.R7$(),i.FS9("id",k.id+"-newValue-button"),i.Y8G("disabled",k.addDisabled),i.R7$(3),i.JRh(i.bMT(7,5,"Common.Add"))}}function d(C,R){if(1&C&&(i.j41(0,"option"),i.EFF(1),i.k0s()),2&C){const k=R.$implicit;i.R7$(),i.JRh(k)}}function E(C,R){if(1&C){const k=i.RV6();i.j41(0,"app-pill-list",12),i.bIt("onDelete",function(H){i.eBV(k);const x=i.XpG();return i.Njj(x.onDelete(H))}),i.k0s()}if(2&C){const k=i.XpG();i.Y8G("readonly",k.reserved)("id",k.id)("values",k.value)}}function m(C,R){if(1&C&&(i.j41(0,"span",13),i.EFF(1),i.k0s()),2&C){const k=i.XpG();i.R7$(),i.JRh(k.valueLimitMsg)}}function F(C,R){if(1&C&&(i.j41(0,"span",14),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&C){const k=R.$implicit;i.R7$(),i.Lme("",k.key,": ",i.bMT(2,2,k.value),"")}}let w=(()=>{class C{get newValue(){return this.form.get("newValue")?.value}set newValue(k){this.form.get("newValue").setValue(k)}get suggestionListId(){return`${this.id}-suggestions`}get availableSuggestions(){return this.suggestions?.filter(k=>!this.value.includes(k))}get errors(){let k=this.form.get("newValue");return k.dirty?k?.errors??[]:[]}get valueLimitMsg(){return this.tranlate.instant("Errors.PillListLimitReached",[this.value.length,this.valueLimit])}constructor(k,O){this.fb=k,this.tranlate=O,this.id=(0,_.Nl)(),this.value=[],this.required=!1,this.disabled=!1,this.reserved=!1,this.valueLimit=50,this.validators=[],this.suggestions=[],this.onChange=H=>{},this.onTouched=()=>{}}ngOnInit(){this.form=this.fb.group({newValue:["",this.validators]})}writeValue(k){this.value=k}registerOnChange(k){this.onChange=k}registerOnTouched(k){this.onTouched=k}setDisabledState(k){this.disabled=k}validate(k){return!this.required||this.value?.length?null:{required:{valid:!1}}}get addDisabled(){return this.isNullOrEmpty(this.newValue)||this.value.includes(this.newValue)||this.form.get("newValue").invalid}onAdd(){this.newValue&&(this.value.push(this.newValue),this.onChange(this.value),this.newValue="",this.form.markAsPristine())}onDelete(k){this.value.splice(k,1),this.onChange(this.value)}isNullOrEmpty(k){return!k||null!==k.match(/^ *$/)}static{this.\u0275fac=function(O){return new(O||C)(i.rXU(e.ze),i.rXU(g.c$))}}static{this.\u0275cmp=i.VBU({type:C,selectors:[["app-freetext-list-input"]],inputs:{id:"id",value:"value",required:"required",disabled:"disabled",reserved:"reserved",valueLimit:"valueLimit",validators:"validators",suggestions:"suggestions"},features:[i.Jv_([{provide:e.kq,useExisting:(0,i.Rfq)(()=>C),multi:!0},{provide:e.cz,useExisting:(0,i.Rfq)(()=>C),multi:!0}])],decls:11,vars:7,consts:[[3,"formGroup"],["class","tw-form-row",4,"ngIf"],[3,"id"],[1,"tw-mb-5"],[3,"readonly","id","values"],["class","tw-alert-danger","role","alert",4,"ngFor","ngForOf"],[1,"tw-form-row"],[1,"tw-flex","tw-w-full","lg:tw-max-w-2xl"],["type","text","autocomplete","off","formControlName","newValue",1,"tw-form-control","tw-rounded-r-none","tw-border-r-0",3,"id"],[1,"tw-btn","tw-rounded-l-none",3,"click","id","disabled"],["aria-hidden","true",1,"far","fa-plus"],[1,"sr-only"],[3,"onDelete","readonly","id","values"],["id","too-many-values"],["role","alert",1,"tw-alert-danger"]],template:function(O,H){1&O&&(i.j41(0,"form",0),i.DNE(1,f,8,7,"div",1),i.j41(2,"datalist",2),i.Z7z(3,d,2,1,"option",null,i.fX1),i.k0s(),i.j41(5,"div",3),i.DNE(6,E,1,3,"app-pill-list",4)(7,m,2,1),i.k0s(),i.j41(8,"div"),i.DNE(9,F,3,4,"span",5),i.nI1(10,"keyvalue"),i.k0s()()),2&O&&(i.Y8G("formGroup",H.form),i.R7$(),i.Y8G("ngIf",!H.reserved),i.R7$(),i.Y8G("id",H.suggestionListId),i.R7$(),i.Dyx(H.availableSuggestions),i.R7$(3),i.vxM(6,H.value.length<=H.valueLimit||!H.reserved?6:7),i.R7$(3),i.Y8G("ngForOf",i.bMT(10,5,H.errors)))},dependencies:[S.Sq,S.bT,e.qT,e.xH,e.y7,e.me,e.BC,e.cb,e.j4,e.JD,v.L,S.lG,g.D9],encapsulation:2})}}return C})()},8906:(et,me,u)=>{"use strict";u.d(me,{G:()=>f});var i=u(177),e=u(8389),_=u(9417),g=u(1780),S=u(3843),v=u(4438);let f=(()=>{class d{static{this.\u0275fac=function(F){return new(F||d)}}static{this.\u0275mod=v.$C({type:d})}static{this.\u0275inj=v.G2t({imports:[i.MD,_.YN,_.X1,e.w,g.h,S.G]})}}return d})()},4701:(et,me,u)=>{"use strict";u.d(me,{u:()=>U});var i=u(6536),e=u(7263),_=u(4438),g=u(9417),S=u(177),v=u(8698),f=u(9550),d=u(3860),E=u(7811);const m=["claimsForm"];function F(G,ie){if(1&G){const le=_.RV6();_.j41(0,"input",11,1),_.bIt("keyup",function(){_.eBV(le);const Q=_.XpG().$implicit,te=_.XpG();return _.Njj(te.checkForPolicyClaimForm(Q.type,Q))}),_.mxI("ngModelChange",function(Q){_.eBV(le);const te=_.XpG().$implicit;return _.DH7(te.value,Q)||(te.value=Q),_.Njj(Q)}),_.k0s()}if(2&G){const le=_.sdS(1),L=_.XpG(),Q=L.$implicit,te=L.index,I=_.XpG();_.Mz_("id","claim-",te,""),_.Y8G("name",Q.type),_.R50("ngModel",Q.value),_.Y8G("appClaimRegex",Q.regex)("disabled",I.notAllowedToEditClaim(Q)&&!le.dirty)}}function w(G,ie){if(1&G){const le=_.RV6();_.j41(0,"input",12,1),_.bIt("keyup",function(){_.eBV(le);const Q=_.XpG().$implicit,te=_.XpG();return _.Njj(te.checkForPolicyClaimForm(Q.type,Q))}),_.mxI("ngModelChange",function(Q){_.eBV(le);const te=_.XpG().$implicit;return _.DH7(te.value,Q)||(te.value=Q),_.Njj(Q)}),_.k0s()}if(2&G){const le=_.sdS(1),L=_.XpG(),Q=L.$implicit,te=L.index,I=_.XpG();_.Mz_("id","claim-",te,""),_.Y8G("name",Q.type),_.R50("ngModel",Q.value),_.Y8G("disabled",I.notAllowedToEditClaim(Q)&&!le.dirty)}}function C(G,ie){if(1&G){const le=_.RV6();_.j41(0,"app-form-toggle",13)(1,"input",14),_.bIt("keyup",function(){_.eBV(le);const Q=_.XpG().$implicit,te=_.XpG();return _.Njj(te.checkForPolicyClaimForm(Q.type,Q))})("ngModelChange",function(Q){_.eBV(le);const te=_.XpG().$implicit;return _.Njj(te.value=Q?"true":"false")}),_.k0s()()}if(2&G){const le=_.XpG(),L=le.$implicit,Q=le.index,te=_.XpG();_.Y8G("id","claim-"+Q)("isTraffic",!0)("isAlt",!1),_.R7$(),_.Y8G("id","claim-"+Q)("name",L.type)("disabled",te.notAllowedToEditClaim(L)&&!te.claimvalue.dirty)("ngModel","true"==L.value)}}function R(G,ie){if(1&G){const le=_.RV6();_.qex(0),_.j41(1,"app-date-time",17,1),_.mxI("ngModelChange",function(Q){_.eBV(le);const te=_.XpG(2).$implicit;return _.DH7(te.value,Q)||(te.value=Q),_.Njj(Q)}),_.bIt("keyup",function(){_.eBV(le);const Q=_.XpG(2).$implicit,te=_.XpG();return _.Njj(te.checkForPolicyClaimForm(Q.type,Q))})("change",function(){_.eBV(le);const Q=_.XpG(3);return _.Njj(Q.makeFormDirty())}),_.k0s(),_.bVm()}if(2&G){const le=_.sdS(2),L=_.XpG(2),Q=L.$implicit,te=L.index,I=_.XpG();_.R7$(),_.Mz_("id","claim-",te,""),_.Y8G("name",Q.type),_.R50("ngModel",Q.value),_.Y8G("disabled",I.notAllowedToEditClaim(Q)&&!le.dirty)}}function k(G,ie){if(1&G){const le=_.RV6();_.qex(0),_.j41(1,"app-date-time",18,1),_.mxI("ngModelChange",function(Q){_.eBV(le);const te=_.XpG(2).$implicit;return _.DH7(te.value,Q)||(te.value=Q),_.Njj(Q)}),_.bIt("keyup",function(){_.eBV(le);const Q=_.XpG(2).$implicit,te=_.XpG();return _.Njj(te.checkForPolicyClaimForm(Q.type,Q))})("change",function(){_.eBV(le);const Q=_.XpG(3);return _.Njj(Q.makeFormDirty())}),_.k0s(),_.bVm()}if(2&G){const le=_.sdS(2),L=_.XpG(2),Q=L.$implicit,te=L.index,I=_.XpG();_.R7$(),_.Mz_("id","claim-",te,""),_.Y8G("name",Q.type)("displayType",I.dateTimeDisplayType.Date),_.R50("ngModel",Q.value),_.Y8G("disabled",I.notAllowedToEditClaim(Q)&&!le.dirty)}}function O(G,ie){if(1&G&&(_.j41(0,"div",15),_.DNE(1,R,3,5,"ng-container",16)(2,k,3,6,"ng-container",16),_.k0s()),2&G){const le=_.XpG().$implicit;_.R7$(),_.Y8G("ngIf","birthdate"!=le.type),_.R7$(),_.Y8G("ngIf","birthdate"==le.type)}}function H(G,ie){if(1&G){const le=_.RV6();_.j41(0,"div",19)(1,"app-enum-claim-type-input",20),_.bIt("valueChanged",function(Q){_.eBV(le);const te=_.XpG().$implicit,I=_.XpG();return te.value=Q,_.Njj(I.makeFormDirty())})("keyupEvent",function(){_.eBV(le);const Q=_.XpG().$implicit,te=_.XpG();return _.Njj(te.checkForPolicyClaimForm(Q.type,Q))}),_.k0s()()}if(2&G){const le=_.XpG(),L=le.$implicit,Q=le.index,te=_.XpG();_.R7$(),_.Y8G("id","claim-"+Q)("typeId",te.getClaimType(L).id)("value",L.value)("disabled",te.notAllowedToEditClaim(L))}}function x(G,ie){if(1&G&&(_.j41(0,"span",21),_.EFF(1),_.k0s()),2&G){const le=_.XpG().$implicit;_.R7$(),_.JRh(le.failureMessage)}}function $(G,ie){if(1&G&&(_.j41(0,"app-form-row",4),_.DNE(1,F,2,6,"input",5)(2,w,2,5,"input",6)(3,C,2,7,"app-form-toggle",7)(4,O,3,2,"div",8)(5,H,2,4,"div",9)(6,x,2,1,"span",10),_.k0s()),2&G){const le=ie.$implicit,L=ie.index,Q=_.XpG();_.Y8G("id","claim-"+L)("label",Q.getLabel(le))("help",Q.getHelpTextString(le)),_.R7$(),_.Y8G("ngIf","String"==le.format),_.R7$(),_.Y8G("ngIf","Int"==le.format),_.R7$(),_.Y8G("ngIf","Boolean"==le.format),_.R7$(),_.Y8G("ngIf","DateTime"==le.format),_.R7$(),_.Y8G("ngIf","Enum"==le.format),_.R7$(),_.Y8G("ngIf",Q.claimDirtyAndInvalid(le.type))}}let U=(()=>{class G{constructor(){this.claims=null,this.notAllowedToEditClaim=()=>!1,this.isPolicyClaim=()=>!1,this.requiredClaims=[],this.dateTimeDisplayType=i.e}ngOnChanges(){for(const le of this.claimTypes??[])if(le.required){let L="Boolean"===le.valueType?"false":null,Q=this.claims?.filter(I=>I.type===le.name)??[];Q.length>0&&!(0,e.hX)(Q[0].value)&&(L=Q[0].value);const te={typeId:le.id,format:le.valueType,value:L,type:le.name,displayName:le.displayName,editing:!1,required:le.required};le.rule&&(te.regex=le.rule,te.failureMessage=le.ruleValidationFailureDescription),this.requiredClaims.push(te)}}getHelpTextString(le){return this.isPolicyClaim(le)?"DateTime"==le.format?"Common.PolicyWithUTCNotice":"Common.Policy":"DateTime"==le.format?"Common.Dates.UTCWarning":""}checkForPolicyClaimForm(le,L){this.notAllowedToEditClaim(L)&&this.claimsForm.form.controls[le].setErrors({incorrect:!0})}isClaimInValid(le){return this.claimsForm.form.get(le)?.invalid??!1}makeFormDirty(){this.claimsForm.form.markAsDirty()}isFormValid(){return this.claimsForm.form.valid}claimDirtyAndInvalid(le){let L=this.claimsForm.form.get(le)??{invalid:!1,dirty:!1};return L.invalid&&L.dirty}resetForm(){this.claimsForm.reset()}getClaimType(le){return this.claimTypes.find(L=>L.name===le.type)}getLabel(le){return(0,e.gP)(le.displayName)?le.type:le.displayName}static{this.\u0275fac=function(L){return new(L||G)}}static{this.\u0275cmp=_.VBU({type:G,selectors:[["app-required-claims-form"]],viewQuery:function(L,Q){if(1&L&&_.GBs(m,7),2&L){let te;_.mGM(te=_.lsd())&&(Q.claimsForm=te.first)}},inputs:{claimTypes:"claimTypes",claims:"claims",notAllowedToEditClaim:"notAllowedToEditClaim",isPolicyClaim:"isPolicyClaim"},features:[_.OA$],decls:3,vars:1,consts:[["claimsForm","ngForm"],["claimvalue","ngModel"],["id","requiredClaims"],[3,"id","label","help",4,"ngFor","ngForOf"],[3,"id","label","help"],["class","tw-form-control","type","text","required","",3,"name","ngModel","appClaimRegex","id","disabled","keyup","ngModelChange",4,"ngIf"],["class","tw-form-control","type","number","required","",3,"name","ngModel","id","disabled","keyup","ngModelChange",4,"ngIf"],[3,"id","isTraffic","isAlt",4,"ngIf"],["class","tw-w-full sm:tw-max-w-2xl",4,"ngIf"],["class","",4,"ngIf"],["id","fail-msg","class","tw-form-text-danger",4,"ngIf"],["type","text","required","",1,"tw-form-control",3,"keyup","ngModelChange","name","ngModel","appClaimRegex","id","disabled"],["type","number","required","",1,"tw-form-control",3,"keyup","ngModelChange","name","ngModel","id","disabled"],[3,"id","isTraffic","isAlt"],["type","checkbox",1,"tw-form-switch__input",3,"keyup","ngModelChange","id","name","disabled","ngModel"],[1,"tw-w-full","sm:tw-max-w-2xl"],[4,"ngIf"],[3,"ngModelChange","keyup","change","id","name","ngModel","disabled"],[3,"ngModelChange","keyup","change","id","name","displayType","ngModel","disabled"],[1,""],[3,"valueChanged","keyupEvent","id","typeId","value","disabled"],["id","fail-msg",1,"tw-form-text-danger"]],template:function(L,Q){1&L&&(_.j41(0,"form",2,0),_.DNE(2,$,7,9,"app-form-row",3),_.k0s()),2&L&&(_.R7$(2),_.Y8G("ngForOf",Q.requiredClaims))},dependencies:[g.qT,g.me,g.Q0,g.Zm,g.BC,g.cb,g.YS,g.vS,g.cV,S.Sq,S.bT,i.Z,v.Y,f.m,d.$,E.j],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return G})()},803:(et,me,u)=>{"use strict";u.d(me,{f:()=>g});var i=u(4438);const e=[[["","left",""]],[["","right",""]]],_=["[left]","[right]"];let g=(()=>{class S{static{this.\u0275fac=function(d){return new(d||S)}}static{this.\u0275cmp=i.VBU({type:S,selectors:[["app-row-bar"]],ngContentSelectors:_,decls:4,vars:0,consts:[[1,"tw-flex","tw-items-center","tw-bg-grey-100","tw-py-4","tw-sticky","tw-top-0","tw-z-20"],[1,"tw-shrink-0","tw-m-auto","tw-flex","tw-ml-4"]],template:function(d,E){1&d&&(i.NAR(e),i.j41(0,"div",0),i.SdG(1),i.j41(2,"div",1),i.SdG(3,1),i.k0s()())},encapsulation:2})}}return S})()},8698:(et,me,u)=>{"use strict";u.d(me,{Y:()=>m});var i=u(4438),e=u(177),_=u(1780);const g=["*"],S=F=>({"last:tw-border-0 last:tw-mb-0 last:tw-pb-0":F});function v(F,w){if(1&F&&(i.nrm(0,"span",7),i.nI1(1,"translate")),2&F){const C=i.XpG(2);i.Y8G("innerHtml",i.bMT(1,1,C.helpText),i.npT)}}function f(F,w){if(1&F&&(i.j41(0,"label",4)(1,"span",5),i.EFF(2),i.nI1(3,"translate"),i.k0s(),i.DNE(4,v,2,3,"span",6),i.k0s()),2&F){const C=i.XpG();i.Y8G("for",C.idFor),i.R7$(2),i.JRh(i.bMT(3,3,C.labelText)),i.R7$(2),i.Y8G("ngIf",C.showHelpText)}}function d(F,w){if(1&F&&(i.nrm(0,"span",7),i.nI1(1,"translate")),2&F){const C=i.XpG(2);i.Y8G("innerHtml",i.bMT(1,1,C.helpText),i.npT)}}function E(F,w){if(1&F&&(i.j41(0,"p",8)(1,"span",5),i.EFF(2),i.nI1(3,"translate"),i.k0s(),i.DNE(4,d,2,3,"span",6),i.k0s()),2&F){const C=i.XpG();i.R7$(2),i.JRh(i.bMT(3,2,C.labelText)),i.R7$(2),i.Y8G("ngIf",C.showHelpText)}}let m=(()=>{class F{constructor(){this.helpText="",this.hasLabel=!0,this.isLast=!1,this.showHelpText=!1}ngOnInit(){""!==this.helpText&&(this.showHelpText=!0)}static{this.\u0275fac=function(R){return new(R||F)}}static{this.\u0275cmp=i.VBU({type:F,selectors:[["app-form-row"]],inputs:{idFor:[i.Mj6.None,"id","idFor"],labelText:[i.Mj6.None,"label","labelText"],helpText:[i.Mj6.None,"help","helpText"],hasLabel:"hasLabel",isLast:"isLast"},ngContentSelectors:g,decls:5,vars:5,consts:[[1,"tw-form-row-border","tw-flex","tw-items-center",3,"ngClass"],["class","tw-form-label-inline",3,"for",4,"ngIf"],["class","tw-form-label-inline",4,"ngIf"],[1,"tw-w-full"],[1,"tw-form-label-inline",3,"for"],[1,"tw-block"],["class","tw-form-label-help",3,"innerHtml",4,"ngIf"],[1,"tw-form-label-help",3,"innerHtml"],[1,"tw-form-label-inline"]],template:function(R,k){1&R&&(i.NAR(),i.j41(0,"div",0),i.DNE(1,f,5,5,"label",1)(2,E,5,4,"p",2),i.j41(3,"div",3),i.SdG(4),i.k0s()()),2&R&&(i.Y8G("ngClass",i.eq3(3,S,k.isLast)),i.R7$(),i.Y8G("ngIf",k.idFor&&k.hasLabel),i.R7$(),i.Y8G("ngIf",!k.idFor&&k.hasLabel))},dependencies:[e.YU,e.bT,_.D9],encapsulation:2})}}return F})()},9550:(et,me,u)=>{"use strict";u.d(me,{m:()=>v});var i=u(4438),e=u(177);const _=["*"],g=(f,d)=>({"tw-form-switch__slider--traffic":f,"tw-form-switch__slider--alt":d}),S=(f,d)=>({"tw-form-switch__state--traffic":f,"tw-form-switch__state--alt":d});let v=(()=>{class f{constructor(){this.isAlt=!1,this.isTraffic=!1}static{this.\u0275fac=function(m){return new(m||f)}}static{this.\u0275cmp=i.VBU({type:f,selectors:[["app-form-toggle"]],inputs:{idFor:[i.Mj6.None,"id","idFor"],isAlt:"isAlt",isTraffic:"isTraffic"},ngContentSelectors:_,decls:4,vars:9,consts:[[1,"tw-form-switch",3,"for"],[1,"tw-form-switch__slider",3,"ngClass"],[1,"tw-form-switch__state",3,"ngClass"]],template:function(m,F){1&m&&(i.NAR(),i.j41(0,"label",0),i.SdG(1),i.j41(2,"span",1),i.nrm(3,"span",2),i.k0s()()),2&m&&(i.Y8G("for",F.idFor),i.R7$(2),i.Y8G("ngClass",i.l_i(3,g,F.isTraffic,F.isAlt)),i.R7$(),i.Y8G("ngClass",i.l_i(6,S,F.isTraffic,F.isAlt)))},dependencies:[e.YU],encapsulation:2})}}return f})()},7263:(et,me,u)=>{"use strict";u.d(me,{$N:()=>$,$_:()=>ie,AB:()=>O,KU:()=>S,Li:()=>G,Nj:()=>_,Nl:()=>k,TO:()=>x,X4:()=>I,Yt:()=>C,Zt:()=>H,_U:()=>w,ci:()=>le,gP:()=>d,hX:()=>v,hr:()=>g,jk:()=>L,kI:()=>E,lK:()=>oe,uf:()=>F,zG:()=>Q});var i=u(3178),e=u(4549);function _(Y,_e=" "){return v(Y)?"":Y.join(_e)}function g(Y,_e=" "){return d(Y)?[]:Y.split(_e)}function S(Y,_e){return`${e.c9.fromISO(Y).toFormat(_e)} UTC`}function v(Y){return null==Y}function d(Y){return null==Y||"string"!=typeof Y||""===Y||null!==Y.match(/^ *$/)}function E(Y){const _e=document.createElement("a");return _e.href=Y,_e.protocol+"//"+decodeURIComponent(_e.host)}function F(Y){const Oe=new RegExp("(^https?://|urn:|tcp://)").exec(Y);if(Oe){if("urn:"===Oe[0])return!1}else Y="http://"+Y;const Re=Y.split("/");return Y.endsWith("/")?Re.length>4:Re.length>3}function w(Y){const Oe=new RegExp("https?://|urn:|tcp://").exec(Y);return Oe?Oe[0]:null}function C(Y,_e){const Oe=JSON.parse(JSON.stringify(Y));return _e.forEach(Re=>{let xe=Oe.length;for(;xe--;)Oe[xe].name===Re.name&&Oe.splice(xe,1)}),Oe}function k(){let Y=(new Date).getTime();return typeof performance<"u"&&"function"==typeof performance.now&&(Y+=performance.now()),"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(_e){const Oe=(Y+16*Math.random())%16|0;return Y=Math.floor(Y/16),("x"===_e?Oe:3&Oe|8).toString(16)})}function O(Y){return _e=>Y.test(_e.value)?null:{regex:{value:_e.value}}}function H(){return Y=>0===(Y.value||"").trim().length?{whitespace:{value:Y.value}}:null}function x(Y){const _e=e.c9.now();return e.c9.fromISO(Y.value).diff(_e).milliseconds>1?{dateInFuture:!0}:null}function $(Y){const _e=e.c9.fromISO(Y.get("fromDate").value);return e.c9.fromISO(Y.get("toDate").value).diff(_e,"minutes").minutes<1?{fromDateIsAfterToDate:!0}:null}function G(Y){if(Y&&Y.size>0){const _e={};return Y.forEach((Oe,Re)=>{_e[Re]=Oe}),_e}return{}}function ie(){const Y=document.getElementsByTagName("base")[0].attributes.href.value;return d(Y)?"/":Y.endsWith("/")?Y:`${Y}/`}function le(Y){return!(!Y||0===Y.length)&&(Y.includes(i.a.IdentityServerManagerReadOnly)||Y.includes(i.a.AllReadOnly))&&!(Y.includes(i.a.IdentityServerManager)||Y.includes(i.a.All))}function L(Y){return!(!Y||0===Y.length)&&(Y.includes(i.a.IdentityServerManager)||Y.includes(i.a.All))}function Q(Y){return!(!Y||0===Y.length)&&(Y.includes(i.a.UserManagerReadOnly)||Y.includes(i.a.AllReadOnly))&&!(Y.includes(i.a.UserManager)||Y.includes(i.a.All))}function I(Y){return!(!Y||0===Y.length)&&Y.includes(i.a.All)}function oe(Y){return!(!Y||0===Y.length)&&Y.includes(i.a.AllReadOnly)&&!Y.includes(i.a.All)}},1560:(et,me,u)=>{"use strict";u.d(me,{T:()=>le});var i=u(4438),e=u(9417),_=u(4866),g=u(3806),S=u(1088),v=u(7263),f=u(177),d=u(1780);const E=(L,Q)=>({"tw-btn active":L,"tw-btn-link":Q});function m(L,Q){if(1&L&&(i.j41(0,"div"),i.nrm(1,"input",7),i.k0s()),2&L){const te=i.XpG();i.R7$(),i.FS9("id",te.id+"-input"),i.Y8G("ngModel",te.value)}}function F(L,Q){if(1&L){const te=i.RV6();i.j41(0,"div")(1,"input",8),i.bIt("keydown",function(oe){i.eBV(te);const Y=i.XpG();return i.Njj(Y.onKeyDown(oe))})("paste",function(oe){i.eBV(te);const Y=i.XpG();return i.Njj(Y.onPaste(oe))})("ngModelChange",function(oe){i.eBV(te);const Y=i.XpG();return i.Njj(Y.onValueChange(oe))}),i.k0s()()}if(2&L){const te=i.XpG();i.R7$(),i.FS9("id",te.id+"-input"),i.Y8G("ngModel",te.value)("disabled",te.disabled)}}function w(L,Q){if(1&L&&(i.j41(0,"span",13),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&L){const te=i.XpG(2);i.R7$(),i.Lme(" ",te.timeSpan.years," ",i.bMT(2,2,te.displayTimeSpanUnit(te.timeSpan.years,"Year"))," ")}}function C(L,Q){if(1&L&&(i.j41(0,"span",13),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&L){const te=i.XpG(2);i.R7$(),i.Lme(" ",te.timeSpan.months," ",i.bMT(2,2,te.displayTimeSpanUnit(te.timeSpan.months,"Month"))," ")}}function R(L,Q){if(1&L&&(i.j41(0,"span",13),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&L){const te=i.XpG(2);i.R7$(),i.Lme(" ",te.timeSpan.weeks," ",i.bMT(2,2,te.displayTimeSpanUnit(te.timeSpan.weeks,"Week"))," ")}}function k(L,Q){if(1&L&&(i.j41(0,"span",13),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&L){const te=i.XpG(2);i.R7$(),i.Lme(" ",te.timeSpan.days," ",i.bMT(2,2,te.displayTimeSpanUnit(te.timeSpan.days,"Day"))," ")}}function O(L,Q){if(1&L&&(i.j41(0,"span",13),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&L){const te=i.XpG(2);i.R7$(),i.Lme(" ",te.timeSpan.hours," ",i.bMT(2,2,te.displayTimeSpanUnit(te.timeSpan.hours,"Hour"))," ")}}function H(L,Q){if(1&L&&(i.j41(0,"span",13),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&L){const te=i.XpG(2);i.R7$(),i.Lme(" ",te.timeSpan.minutes," ",i.bMT(2,2,te.displayTimeSpanUnit(te.timeSpan.minutes,"Minute"))," ")}}function x(L,Q){if(1&L&&(i.j41(0,"span",13),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&L){const te=i.XpG(2);i.R7$(),i.Lme(" ",te.timeSpan.seconds," ",i.bMT(2,2,te.displayTimeSpanUnit(te.timeSpan.seconds,"Second"))," ")}}function $(L,Q){if(1&L&&(i.j41(0,"span",13),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&L){const te=i.XpG(2);i.R7$(),i.SpI(" ",i.bMT(2,1,"Clients.Tokens.Durations."+te.tryGetNullMeaning())," ")}}function U(L,Q){if(1&L&&(i.j41(0,"p",9),i.nrm(1,"span",10),i.nI1(2,"translate"),i.j41(3,"span",11),i.DNE(4,w,3,4,"span",12)(5,C,3,4,"span",12)(6,R,3,4,"span",12)(7,k,3,4,"span",12)(8,O,3,4,"span",12)(9,H,3,4,"span",12)(10,x,3,4,"span",12)(11,$,3,3,"span",12),i.k0s()()),2&L){const te=i.XpG();i.FS9("id",te.id+"-longTimeLabel"),i.R7$(),i.BMQ("aria-label",i.bMT(2,10,"Clients.Tokens.DurationTitle")),i.R7$(3),i.Y8G("ngIf",(null==te.timeSpan?null:te.timeSpan.years)>0),i.R7$(),i.Y8G("ngIf",(null==te.timeSpan?null:te.timeSpan.months)>0),i.R7$(),i.Y8G("ngIf",(null==te.timeSpan?null:te.timeSpan.weeks)>0),i.R7$(),i.Y8G("ngIf",(null==te.timeSpan?null:te.timeSpan.days)>0),i.R7$(),i.Y8G("ngIf",(null==te.timeSpan?null:te.timeSpan.hours)>0),i.R7$(),i.Y8G("ngIf",(null==te.timeSpan?null:te.timeSpan.minutes)>0),i.R7$(),i.Y8G("ngIf",(null==te.timeSpan?null:te.timeSpan.seconds)>0),i.R7$(),i.Y8G("ngIf",te.showNullTimeSpan())}}function G(L,Q){if(1&L&&(i.j41(0,"span",16),i.EFF(1),i.k0s()),2&L){const te=i.XpG().$implicit;i.R7$(),i.JRh(te.duration)}}function ie(L,Q){if(1&L){const te=i.RV6();i.j41(0,"li")(1,"button",14),i.bIt("click",function(){const oe=i.eBV(te).$implicit,Y=i.XpG();return i.Njj(Y.setInput(oe))}),i.DNE(2,G,2,1,"span",15),i.j41(3,"span"),i.EFF(4),i.nI1(5,"translate"),i.k0s()()()}if(2&L){const te=Q.$implicit,I=i.XpG();i.R7$(),i.Y8G("ngClass",i.l_i(6,E,I.checkSelected(te),!I.checkSelected(te)))("disabled",I.disabled),i.R7$(),i.Y8G("ngIf",te.duration),i.R7$(2),i.JRh(i.bMT(5,4,"Clients.Tokens.Durations."+te.unit+"Short"))}}let le=(()=>{class L{constructor(){this.id=(0,v.Nl)(),this.allowNull=!1,this.disabled=!1,this.required=!1,this.unitMap=_.A.getUnitMap(),this.LifetimeUnit=g.u,this.onChange=te=>{},this.onTouched=()=>{}}set value(te){this.setValue(te,!1)}get value(){return this._value}setValue(te,I=!0){null!=te&&!Number.isInteger(te)||(this._value=te,null==te?this.timeSpan=null:this.timeSpan?this.timeSpan.formatSeconds(te):this.timeSpan=new S.Q(te),I&&this.onChange(te))}onValueChange(te){this.setValue(te)}onKeyDown(te){return 69!==te.keyCode&&189!==te.keyCode&&190!==te.keyCode}onPaste(te){const oe=te.clipboardData?.getData("text"),Y=Number(oe);Number.isInteger(Y)&&(Y>0||null==Y&&this.allowNull)||te.preventDefault()}writeValue(te){this.setValue(te,!1)}registerOnChange(te){this.onChange=te}registerOnTouched(te){this.onTouched=te}setDisabledState(te){this.disabled=te}validate(te){if(this.required){if(!this.value)return{required:{valid:!1}}}else if(!this.value)return null;return!isNaN(this.value)&&this.value>0?null:{number:{valid:!1}}}nullAwareMultiply(te,I){return null==te||null==I?null:te*I}setInput(te){const I=this.nullAwareMultiply(te.duration,this.unitMap.get(te.unit));this.setValue(I)}checkSelected(te){return this.value===this.nullAwareMultiply(te.duration,this.unitMap.get(te.unit))}displayTimeSpanUnit(te,I){return"Clients.Tokens.Durations."+I+(te>1?"s":"")}showNullTimeSpan(){return!(!this.allowNull||null!=this.timeSpan&&(0!==this.timeSpan.years||0!==this.timeSpan.months||0!==this.timeSpan.weeks||0!==this.timeSpan.days||0!==this.timeSpan.hours||0!==this.timeSpan.minutes||0!==this.timeSpan.seconds))}tryGetNullMeaning(){return this.buttons.find(I=>null===I.duration)?.unit??"NotSet"}static{this.\u0275fac=function(I){return new(I||L)}}static{this.\u0275cmp=i.VBU({type:L,selectors:[["app-lifetime-picker"]],inputs:{id:"id",value:"value",buttons:"buttons",allowNull:"allowNull",disabled:"disabled",required:"required"},features:[i.Jv_([{provide:e.kq,useExisting:(0,i.Rfq)(()=>L),multi:!0},{provide:e.cz,useExisting:(0,i.Rfq)(()=>L),multi:!0}])],decls:8,vars:5,consts:[[1,"tw-flex-grid","sm:tw-flex-nowrap","lg:tw-max-w-2xl"],[1,"tw-flex-grid-col"],[4,"ngIf"],["class","tw-form-text tw-flex tw-items-center",3,"id",4,"ngIf"],[1,"tw-flex-grid-col","sm:tw-w-auto"],[1,"tw-flex","tw-items-center",3,"id"],[4,"ngFor","ngForOf"],["type","number","min","0","disabled","",1,"tw-form-control",3,"id","ngModel"],["type","number","min","0",1,"tw-form-control",3,"keydown","paste","ngModelChange","id","ngModel","disabled"],[1,"tw-form-text","tw-flex","tw-items-center",3,"id"],[1,"far","fa-clock","tw-mr-2","tw--mt-px"],[1,"tw-flex","tw-flex-wrap"],["class","tw-mr-2",4,"ngIf"],[1,"tw-mr-2"],[3,"click","ngClass","disabled"],["class","tw-mr-1",4,"ngIf"],[1,"tw-mr-1"]],template:function(I,oe){1&I&&(i.j41(0,"div",0)(1,"div",1),i.DNE(2,m,2,2,"div",2)(3,F,2,3,"div",2)(4,U,12,12,"p",3),i.k0s(),i.j41(5,"div",4)(6,"ul",5),i.DNE(7,ie,6,9,"li",6),i.k0s()()()),2&I&&(i.R7$(2),i.Y8G("ngIf",oe.disabled),i.R7$(),i.Y8G("ngIf",!oe.disabled),i.R7$(),i.Y8G("ngIf",oe.value>0||null==oe.value&&oe.allowNull),i.R7$(2),i.FS9("id",oe.id+"-buttonList"),i.R7$(),i.Y8G("ngForOf",oe.buttons))},dependencies:[f.YU,f.Sq,f.bT,e.me,e.Q0,e.BC,e.VZ,e.vS,d.D9],encapsulation:2})}}return L})()},967:(et,me,u)=>{"use strict";u.d(me,{M:()=>v});var i=u(177),e=u(7005),_=u(9417),g=u(1780),S=u(4438);let v=(()=>{class f{static{this.\u0275fac=function(m){return new(m||f)}}static{this.\u0275mod=S.$C({type:f})}static{this.\u0275inj=S.G2t({imports:[i.MD,_.YN,_.X1,e.XE,g.h]})}}return f})()},8114:(et,me,u)=>{"use strict";u.d(me,{B:()=>E});var i=u(4438),e=u(177),_=u(9216),g=u(1780);const S=["confirmModal"],v=[[["","body",""]]],f=["[body]"];function d(m,F){1&m&&i.nrm(0,"span",9)}let E=(()=>{class m{constructor(){this.type="narrow",this.buttonType="success",this.okText="Common.Ok",this.cancelText="Common.Cancel",this.inFlight=!1,this.confirm=new i.bkB,this.close=new i.bkB}get isShown(){return this.confirmModal.isShown}show(){this.confirmModal.show()}hide(){this.confirmModal.hide()}ok(){this.confirmModal.hideModal(),this.confirm.emit()}closeModal(){this.confirmModal.hideModal(),this.close.emit()}static{this.\u0275fac=function(C){return new(C||m)}}static{this.\u0275cmp=i.VBU({type:m,selectors:[["app-confirmation-modal"]],viewQuery:function(C,R){if(1&C&&i.GBs(S,7),2&C){let k;i.mGM(k=i.lsd())&&(R.confirmModal=k.first)}},inputs:{modalId:"modalId",type:"type",buttonType:"buttonType",title:"title",okText:"okText",cancelText:"cancelText",inFlight:"inFlight"},outputs:{confirm:"confirm",close:"close"},ngContentSelectors:f,decls:14,vars:16,consts:[["confirmModal",""],[3,"close","modalId","title","type"],["body",""],["footer",""],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["data-dismiss","modal",3,"click","id","disabled"],["class","fad fa-spinner-third fa-spin tw-text-secondary-500 tw-mr-2 tw-ml-2",4,"ngIf"],["data-dismiss","modal",1,"tw-btn-link","tw--mr-4",3,"click","id"],[1,"fad","fa-spinner-third","fa-spin","tw-text-secondary-500","tw-mr-2","tw-ml-2"]],template:function(C,R){if(1&C){const k=i.RV6();i.NAR(v),i.j41(0,"app-simple-modal",1,0),i.bIt("close",function(){return i.eBV(k),i.Njj(R.close.emit())}),i.qex(2,2),i.SdG(3),i.bVm(),i.qex(4,3),i.j41(5,"div",4)(6,"div",5)(7,"button",6),i.bIt("click",function(){return i.eBV(k),i.Njj(R.ok())}),i.EFF(8),i.nI1(9,"translate"),i.DNE(10,d,1,0,"span",7),i.k0s()(),i.j41(11,"button",8),i.bIt("click",function(){return i.eBV(k),i.Njj(R.closeModal())}),i.EFF(12),i.nI1(13,"translate"),i.k0s()(),i.bVm(),i.k0s()}2&C&&(i.Y8G("modalId",R.modalId)("title",R.title)("type",R.type),i.R7$(7),i.ZvI("tw-btn",R.buttonType?"-"+R.buttonType:"",""),i.Y8G("id",R.modalId+"-confirmBtn")("disabled",R.inFlight),i.R7$(),i.SpI(" ",i.bMT(9,12,R.okText)," "),i.R7$(2),i.Y8G("ngIf",R.inFlight),i.R7$(),i.Y8G("id",R.modalId+"-cancelBtn"),i.R7$(),i.JRh(i.bMT(13,14,R.cancelText)))},dependencies:[e.bT,_.R,g.D9],encapsulation:2})}}return m})()},7778:(et,me,u)=>{"use strict";u.d(me,{w:()=>F});var i=u(4438),e=u(177),_=u(8114),g=u(1780);const S=["deleteClientModal"];function v(w,C){1&w&&(i.j41(0,"p",6),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&w&&(i.R7$(),i.JRh(i.bMT(2,1,"Common.Delete.AreYouSureSimple3")))}function f(w,C){if(1&w&&(i.j41(0,"p",6),i.EFF(1),i.nI1(2,"translate"),i.j41(3,"strong"),i.EFF(4),i.k0s(),i.EFF(5,"?"),i.k0s()),2&w){const R=i.XpG();i.R7$(),i.SpI("",i.bMT(2,2,"Common.Delete.AreYouSureSimple")," "),i.R7$(3),i.JRh(R.resourceName)}}function d(w,C){1&w&&(i.nrm(0,"p",7),i.nI1(1,"translate")),2&w&&i.Y8G("innerHTML",i.bMT(1,1,"Common.Delete.Warning"),i.npT)}function E(w,C){if(1&w&&(i.nrm(0,"p",7),i.nI1(1,"translate")),2&w){const R=i.XpG();i.Y8G("innerHTML",i.bMT(1,1,R.danger),i.npT)}}function m(w,C){if(1&w&&(i.nrm(0,"p",8),i.nI1(1,"translate")),2&w){const R=i.XpG();i.Y8G("innerHTML",i.bMT(1,1,R.warning),i.npT)}}let F=(()=>{class w{constructor(){this.resourceName=null,this.warning=null,this.danger=null,this.destructive=!0,this.delete=new i.bkB,this.close=new i.bkB}get isShown(){return this.deleteModal.isShown}show(){this.deleteModal.show()}hide(){this.deleteModal.hide()}closeModal(){this.deleteModal.hide(),this.close.emit(null)}static{this.\u0275fac=function(k){return new(k||w)}}static{this.\u0275cmp=i.VBU({type:w,selectors:[["app-delete-confirmation-modal"]],viewQuery:function(k,O){if(1&k&&i.GBs(S,7),2&k){let H;i.mGM(H=i.lsd())&&(O.deleteModal=H.first)}},inputs:{modalId:"modalId",resourceName:"resourceName",warning:"warning",danger:"danger",destructive:"destructive"},outputs:{delete:"delete",close:"close"},decls:8,vars:11,consts:[["deleteClientModal",""],[3,"confirm","modalId","type","buttonType","title","okText","cancelText"],["body",""],["class","tw-mb-4",4,"ngIf"],["class","tw-pill-danger",3,"innerHTML",4,"ngIf"],["class","tw-pill-warning",3,"innerHTML",4,"ngIf"],[1,"tw-mb-4"],[1,"tw-pill-danger",3,"innerHTML"],[1,"tw-pill-warning",3,"innerHTML"]],template:function(k,O){if(1&k){const H=i.RV6();i.j41(0,"app-confirmation-modal",1,0),i.bIt("confirm",function(){return i.eBV(H),i.Njj(O.delete.emit())}),i.qex(2,2),i.DNE(3,v,3,3,"p",3)(4,f,6,4,"p",3)(5,d,2,3,"p",4)(6,E,2,3,"p",4)(7,m,2,3,"p",5),i.bVm(),i.k0s()}2&k&&(i.Y8G("modalId",O.modalId)("type","danger")("buttonType","danger")("title","Common.Delete.Confirm")("okText","Common.Delete.Title")("cancelText","Common.Delete.No"),i.R7$(3),i.Y8G("ngIf",!O.resourceName),i.R7$(),i.Y8G("ngIf",O.resourceName),i.R7$(),i.Y8G("ngIf",O.destructive&&null===O.warning&&null===O.danger),i.R7$(),i.Y8G("ngIf",O.destructive&&O.danger),i.R7$(),i.Y8G("ngIf",O.destructive&&O.warning))},dependencies:[e.bT,_.B,g.D9],encapsulation:2})}}return w})()},4367:(et,me,u)=>{"use strict";u.d(me,{N:()=>f});var i=u(177),e=u(1780),_=u(779),g=u(1993),S=u(4193),v=u(4438);let f=(()=>{class d{static{this.\u0275fac=function(F){return new(F||d)}}static{this.\u0275mod=v.$C({type:d})}static{this.\u0275inj=v.G2t({imports:[i.MD,e.h,g.E,S.c,e.h,_.Q_]})}}return d})()},3899:(et,me,u)=>{"use strict";u.d(me,{G:()=>L});var i=u(4438),e=u(177),_=u(1413),g=u(3726),S=u(6977),v=u(6354),f=u(9172),d=u(5964),E=u(3993);const m=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");var C=u(1258),R=u(7185),k=u(4754),O=u(1780);const H=["*"];function x(Q,te){if(1&Q){const I=i.RV6();i.j41(0,"button",16),i.bIt("click",function(){i.eBV(I);const Y=i.XpG();return i.Njj(Y.cancel())}),i.nrm(1,"span",17),i.j41(2,"span",18),i.EFF(3),i.nI1(4,"translate"),i.k0s()()}2&Q&&(i.R7$(3),i.JRh(i.bMT(4,1,"Common.Close")))}function $(Q,te){if(1&Q){const I=i.RV6();i.j41(0,"button",19),i.bIt("click",function(){i.eBV(I);const Y=i.XpG();return i.Njj(Y.save())}),i.EFF(1),i.nI1(2,"translate"),i.k0s()}if(2&Q){const I=i.XpG();i.Y8G("disabled",I.addDisabled),i.R7$(),i.SpI(" ",i.bMT(2,2,I.saveText)," ")}}function U(Q,te){if(1&Q){const I=i.RV6();i.j41(0,"button",20),i.bIt("click",function(){i.eBV(I);const Y=i.XpG();return i.Njj(Y.delete())}),i.EFF(1),i.nI1(2,"translate"),i.k0s()}if(2&Q){const I=i.XpG();i.Y8G("disabled",I.deleteDisabled),i.R7$(),i.SpI(" ",i.bMT(2,2,I.deleteText)," ")}}function G(Q,te){if(1&Q){const I=i.RV6();i.j41(0,"div",21)(1,"button",22),i.bIt("click",function(){i.eBV(I);const Y=i.XpG();return i.Njj(Y.saveAndReAdd())}),i.EFF(2),i.nI1(3,"translate"),i.k0s()()}if(2&Q){const I=i.XpG();i.R7$(),i.Y8G("disabled",I.addDisabled),i.R7$(),i.SpI(" ",i.bMT(3,2,I.saveAndReAddText)," ")}}function ie(Q,te){if(1&Q){const I=i.RV6();i.j41(0,"button",23),i.bIt("click",function(){i.eBV(I);const Y=i.XpG();return i.Njj(Y.cancel())}),i.EFF(1),i.nI1(2,"translate"),i.k0s()}2&Q&&(i.R7$(),i.SpI(" ",i.bMT(2,1,"Common.Cancel")," "))}function le(Q,te){1&Q&&i.nrm(0,"div",24)}let L=(()=>{class Q{constructor(I,oe,Y){this.document=I,this.elRef=oe,this.modalService=Y,this.hideCancel=!1,this.modalType=R.q.Default,this.saveText="Common.Save",this.saveAndReAddText="Common.SaveAndAdd",this.deleteText="Common.Delete.Title",this.addDisabled=!1,this.deleteDisabled=!1,this.onSave=new i.bkB,this.onSaveAndReAdd=new i.bkB,this.onDelete=new i.bkB,this.onCancel=new i.bkB,this.isVisible=!1,this.isVisible$=new _.B,this.showBackdrop=!1}ngOnInit(){this.modalService.add(this),this.element=this.elRef.nativeElement.firstChild,this.actions&&(this.canDelete=this.actions.includes(C.N.Delete),this.canSave=this.actions.includes(C.N.Save),this.canSaveAndReAdd=this.actions.includes(C.N.SaveAndReAdd))}delete(){this.onDelete.emit()}save(){this.onSave.emit(),this.modalService.hideById(this.modalId)}saveAndReAdd(){this.onSaveAndReAdd.emit()}show(){this.isVisible=!0,function F(Q,te){const I=function w(Q){const te=Array.from(Q.querySelectorAll(m)).filter(I=>-1!==I.tabIndex);return[te[0],te[te.length-1]]}(Q),[oe,Y]=I,_e=(0,g.R)(Q,"focusin").pipe((0,S.Q)(te),(0,v.T)(Oe=>Oe.target),(0,f.Z)(oe));oe.focus(),(0,g.R)(Q,"keydown").pipe((0,S.Q)(te),(0,d.p)(Oe=>"Tab"===Oe.key),(0,E.E)(_e)).subscribe(([Oe,Re])=>{(Re===oe||Re===Q)&&Oe.shiftKey&&(Y.focus(),Oe.preventDefault()),Re===Y&&!Oe.shiftKey&&(oe.focus(),Oe.preventDefault())}),(0,g.R)(document,"click").pipe((0,S.Q)(te),(0,E.E)(_e),(0,v.T)(Oe=>Oe[1])).subscribe(Oe=>{Oe.focus()})}(this.element,this.isVisible$),1===this.modalService.visibleModals()&&(this.showBackdrop=!0,this.document.body.classList.add("tw-overflow-hidden")),(0,g.R)(this.document,"keydown").pipe((0,S.Q)(this.isVisible$),(0,d.p)(I=>"Esc"===I.key)).subscribe(()=>{this.isVisible&&this.cancel()})}cancel(){!1===this.hideCancel&&this.onCancel.emit()}hide(){this.isVisible=!1,this.isVisible$.next(),this.modalService.visibleModals()<1&&(this.showBackdrop=!1,this.document.body.classList.remove("tw-overflow-hidden"))}ngOnDestroy(){this.modalService.hideById(this.modalId),this.modalService.remove(this)}static{this.\u0275fac=function(oe){return new(oe||Q)(i.rXU(e.qQ),i.rXU(i.aKT),i.rXU(k.B))}}static{this.\u0275cmp=i.VBU({type:Q,selectors:[["app-custom-modal"]],inputs:{modalId:"modalId",title:"title",actions:"actions",hideCancel:"hideCancel",modalType:"modalType",saveText:"saveText",saveAndReAddText:"saveAndReAddText",deleteText:"deleteText",addDisabled:"addDisabled",deleteDisabled:"deleteDisabled"},outputs:{onSave:"onSave",onSaveAndReAdd:"onSaveAndReAdd",onDelete:"onDelete",onCancel:"onCancel"},ngContentSelectors:H,decls:19,vars:15,consts:[["role","dialog","aria-modal","true","tabindex","-1",1,"modal"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title",3,"id"],["type","button","class","modal-close",3,"click",4,"ngIf"],[1,"modal-body","scrollbars"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","save","class","tw-btn-success tw-mr-3","type","submit",3,"disabled","click",4,"ngIf"],["id","delete","class","tw-btn-danger tw-mr-3","type","submit",3,"disabled","click",4,"ngIf"],["class","tw-hidden tw-mr-3 md:tw-block",4,"ngIf"],["class","tw-btn-link tw--mr-4",3,"click",4,"ngIf"],["id","backdrop","class","modal-backdrop show",4,"ngIf"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],["id","save","type","submit",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],["id","delete","type","submit",1,"tw-btn-danger","tw-mr-3",3,"click","disabled"],[1,"tw-hidden","tw-mr-3","md:tw-block"],["id","saveAndReSubmit","type","submit",1,"tw-btn",3,"click","disabled"],[1,"tw-btn-link","tw--mr-4",3,"click"],["id","backdrop",1,"modal-backdrop","show"]],template:function(oe,Y){1&oe&&(i.NAR(),i.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),i.EFF(5),i.nI1(6,"translate"),i.k0s(),i.DNE(7,x,5,3,"button",5),i.k0s(),i.j41(8,"div",6),i.SdG(9),i.k0s(),i.nrm(10,"div",7),i.j41(11,"div",8)(12,"div",9)(13,"div",10),i.DNE(14,$,3,4,"button",11)(15,U,3,4,"button",12)(16,G,4,4,"div",13),i.k0s(),i.DNE(17,ie,3,3,"button",14),i.k0s()()()()(),i.DNE(18,le,1,0,"div",15)),2&oe&&(i.AVh("show",Y.isVisible),i.BMQ("aria-hidden",!Y.isVisible)("aria-labelledby","modal-title-"+Y.modalId),i.R7$(4),i.Mz_("id","modal-title-",Y.modalId,""),i.R7$(),i.JRh(i.bMT(6,13,Y.title)),i.R7$(2),i.Y8G("ngIf",!Y.hideCancel),i.R7$(7),i.Y8G("ngIf",Y.canSave),i.R7$(),i.Y8G("ngIf",Y.canDelete),i.R7$(),i.Y8G("ngIf",Y.canSaveAndReAdd),i.R7$(),i.Y8G("ngIf",!Y.hideCancel),i.R7$(),i.Y8G("ngIf",Y.showBackdrop))},dependencies:[e.bT,O.D9],encapsulation:2})}}return Q})()},4754:(et,me,u)=>{"use strict";u.d(me,{B:()=>_});var i=u(177),e=u(4438);let _=(()=>{class g{constructor(v){this.document=v,this.modalList=[]}add(v){this.modalList.push(v)}remove(v){const f=this.modalList.indexOf(v);this.modalList.splice(f)}visibleModals(){return this.modalList.filter(v=>v.isVisible).length}showById(v,f){null!=f&&null!=f.nativeElement&&(this.lastClickedEl=f.nativeElement),this.modalList.find(E=>E.modalId===v).show()}hideById(v){const f=this.modalList.find(d=>d.modalId===v);f&&(f.hide(),this.focusLastEl())}focusLastEl(){this.lastClickedEl&&this.lastClickedEl.focus()}static{this.\u0275fac=function(f){return new(f||g)(e.KVO(i.qQ))}}static{this.\u0275prov=e.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})()},9216:(et,me,u)=>{"use strict";u.d(me,{R:()=>d});var i=u(4438),e=u(779),_=u(1780);const g=["simpleModal"],S=[[["","body",""]],[["","footer",""]]],v=["[body]","[footer]"],f=()=>({backdrop:"static",animated:!1});let d=(()=>{class E{constructor(){this.type=null,this.inFlight=!1,this.close=new i.bkB}get isShown(){return this.simpleModal.isShown}get modalType(){return this.type?` modal-dialog--${this.type}`:""}show(){this.simpleModal.show()}hide(){this.simpleModal.hide()}hideModal(){this.simpleModal.hide()}closeModal(){this.simpleModal.hide(),this.close.emit()}static{this.\u0275fac=function(w){return new(w||E)}}static{this.\u0275cmp=i.VBU({type:E,selectors:[["app-simple-modal"]],viewQuery:function(w,C){if(1&w&&i.GBs(g,7),2&w){let R;i.mGM(R=i.lsd())&&(C.simpleModal=R.first)}},inputs:{modalId:"modalId",type:"type",title:"title",inFlight:"inFlight"},outputs:{close:"close"},ngContentSelectors:v,decls:17,vars:13,consts:[["simpleModal","bs-modal"],["bsModal","","bsModal","","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"id","config"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"modal-close",3,"click","id"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","tw-text-center","scrollbars"],[1,"modal-footer"]],template:function(w,C){if(1&w){const R=i.RV6();i.NAR(S),i.j41(0,"div",1,0)(2,"div")(3,"div",2)(4,"div",3)(5,"h5",4),i.EFF(6),i.nI1(7,"translate"),i.k0s(),i.j41(8,"button",5),i.bIt("click",function(){return i.eBV(R),i.Njj(C.closeModal())}),i.nrm(9,"span",6),i.j41(10,"span",7),i.EFF(11),i.nI1(12,"translate"),i.k0s()()(),i.j41(13,"div",8),i.SdG(14),i.k0s(),i.j41(15,"div",9),i.SdG(16,1),i.k0s()()()()}if(2&w){let R;i.Y8G("id",null!==(R=C.modalId)&&void 0!==R?R:"simpleModel")("config",i.lJ4(12,f)),i.R7$(2),i.ZvI("modal-dialog",C.modalType,""),i.R7$(4),i.JRh(i.bMT(7,8,C.title)),i.R7$(2),i.Y8G("id",C.modalId+"-closeBtn"),i.R7$(3),i.JRh(i.bMT(12,10,"Common.Close"))}},dependencies:[e.hZ,_.D9],encapsulation:2})}}return E})()},7156:(et,me,u)=>{"use strict";u.d(me,{B:()=>f});var i=u(4438),e=u(177),_=u(1780);function g(d,E){if(1&d&&(i.j41(0,"span",6),i.EFF(1),i.k0s()),2&d){const m=i.XpG();i.R7$(),i.JRh(m.pageXofX)}}function S(d,E){1&d&&(i.j41(0,"span",7),i.EFF(1,"\u2022"),i.k0s())}function v(d,E){if(1&d){const m=i.RV6();i.j41(0,"nav",8),i.nI1(1,"translate"),i.j41(2,"ul",9)(3,"li")(4,"button",10),i.bIt("click",function(){i.eBV(m);const w=i.XpG();return i.Njj(w.goToPage(1))}),i.j41(5,"span"),i.nrm(6,"span",11),i.k0s(),i.j41(7,"span",12),i.EFF(8),i.nI1(9,"translate"),i.k0s()()(),i.j41(10,"li",13)(11,"button",14),i.bIt("click",function(){i.eBV(m);const w=i.XpG();return i.Njj(w.goToPage(w.currentPage-1))}),i.j41(12,"span"),i.nrm(13,"span",15),i.k0s(),i.j41(14,"span",12),i.EFF(15),i.nI1(16,"translate"),i.k0s()()(),i.j41(17,"li",13)(18,"button",16),i.bIt("click",function(){i.eBV(m);const w=i.XpG();return i.Njj(w.goToPage(w.currentPage+1))}),i.j41(19,"span"),i.nrm(20,"span",17),i.k0s(),i.j41(21,"span",12),i.EFF(22),i.nI1(23,"translate"),i.k0s()()(),i.j41(24,"li",13)(25,"button",18),i.bIt("click",function(){i.eBV(m);const w=i.XpG();return i.Njj(w.goToPage(w.lastPage))}),i.j41(26,"span"),i.nrm(27,"span",19),i.k0s(),i.j41(28,"span",12),i.EFF(29),i.nI1(30,"translate"),i.k0s()()()()()}if(2&d){const m=i.XpG();i.BMQ("aria-label",i.bMT(1,9,"Nav.Page")),i.R7$(4),i.Y8G("disabled",1==m.currentPage),i.R7$(4),i.JRh(i.bMT(9,11,"Nav.First")),i.R7$(3),i.Y8G("disabled",1==m.currentPage),i.R7$(4),i.JRh(i.bMT(16,13,"Nav.Previous")),i.R7$(3),i.Y8G("disabled",m.currentPage==m.lastPage),i.R7$(4),i.JRh(i.bMT(23,15,"Nav.Next")),i.R7$(3),i.Y8G("disabled",m.currentPage==m.lastPage),i.R7$(4),i.JRh(i.bMT(30,17,"Nav.Last"))}}let f=(()=>{class d{constructor(m,F){this.translate=m,this.decimalPipe=F,this.onGoToPage=new i.bkB}ngOnInit(){this.setupDefaults(),this.setupPages()}setupDefaults(){this.totalResults=void 0===this.totalResults?0:this.totalResults,this.currentPage=void 0===this.currentPage?1:this.currentPage,this.lastPage=void 0===this.lastPage?1:this.lastPage,this.hidePager=void 0!==this.hidePager}setupPages(){let m=this.translate.instant("Nav.PageXofX");m=m.replace("{0}",this.decimalPipe.transform(this.currentPage)),m=m.replace("{1}",this.decimalPipe.transform(this.lastPage)),this.pageXofX=m}goToPage(m){void 0!==this.onGoToPage&&(m<1?m=1:m>this.lastPage&&(m=this.lastPage),this.onGoToPage.emit(m))}static{this.\u0275fac=function(F){return new(F||d)(i.rXU(_.c$),i.rXU(e.QX))}}static{this.\u0275cmp=i.VBU({type:d,selectors:[["app-pager"]],inputs:{totalResults:"totalResults",currentPage:"currentPage",lastPage:"lastPage",hidePager:"hidePager"},outputs:{onGoToPage:"onGoToPage"},features:[i.Jv_([e.QX])],decls:9,vars:9,consts:[[1,"tw-flex","tw-flex-wrap","tw-items-center","tw-justify-between","tw-mt-2"],[1,"tw-flex","tw-items-center","tw-justify-center","tw-w-full","tw-text-xs","tw-text-grey-700","tw-px-3","tw-py-2","sm:tw-w-auto"],["class","tw-hidden md:tw-inline",4,"ngIf"],["class","tw-hidden tw-text-base tw-mx-2 tw-opacity-50 md:tw-inline","aria-hidden","true",4,"ngIf"],["id","pager-total-results"],["class","tw-mt-2 tw-mx-auto sm:mt-0 sm:tw-mr-0",4,"ngIf"],[1,"tw-hidden","md:tw-inline"],["aria-hidden","true",1,"tw-hidden","tw-text-base","tw-mx-2","tw-opacity-50","md:tw-inline"],[1,"tw-mt-2","tw-mx-auto","sm:mt-0","sm:tw-mr-0"],[1,"tw-flex","tw-items-center","tw-justify-center","tw-bg-white","tw-rounded"],["id","pagerFirstPage",1,"tw-btn-link",3,"click","disabled"],["aria-hidden","true",1,"fas","fa-angle-double-left"],[1,"sr-only"],[1,"tw-border-l-2","tw-border-grey-100"],["id","pagerPrevPage",1,"tw-btn-link",3,"click","disabled"],["aria-hidden","true",1,"fas","fa-angle-left"],["id","pagerNextPage",1,"tw-btn-link",3,"click","disabled"],["aria-hidden","true",1,"fas","fa-angle-right"],["id","pagerLastPage",1,"tw-btn-link",3,"click","disabled"],["aria-hidden","true",1,"fas","fa-angle-double-right"]],template:function(F,w){1&F&&(i.j41(0,"div",0)(1,"div",1),i.DNE(2,g,2,1,"span",2)(3,S,2,0,"span",3),i.j41(4,"span",4),i.EFF(5),i.nI1(6,"number"),i.nI1(7,"translate"),i.k0s()(),i.DNE(8,v,31,19,"nav",5),i.k0s()),2&F&&(i.R7$(2),i.Y8G("ngIf",!w.hidePager),i.R7$(),i.Y8G("ngIf",!w.hidePager),i.R7$(2),i.Lme("",i.bMT(6,5,w.totalResults)," ",i.bMT(7,7,"Nav.ResultsFound"),""),i.R7$(3),i.Y8G("ngIf",!w.hidePager))},dependencies:[e.bT,e.QX,_.D9],encapsulation:2})}}return d})()},5731:(et,me,u)=>{"use strict";u.d(me,{i:()=>v});var i=u(177),e=u(1583),_=u(1683),g=u(1780),S=u(4438);let v=(()=>{class f{static{this.\u0275fac=function(m){return new(m||f)}}static{this.\u0275mod=S.$C({type:f})}static{this.\u0275inj=S.G2t({imports:[i.MD,e.iI,_.Y,g.h]})}}return f})()},2292:(et,me,u)=>{"use strict";u.d(me,{L:()=>f});var i=u(4438),e=u(7263),_=u(177);function g(d,E){if(1&d&&(i.j41(0,"div",5)(1,"span",6),i.EFF(2),i.k0s()()),2&d){const m=i.XpG().$implicit,F=i.XpG();i.BMQ("aria-label",F.enumValues),i.R7$(2),i.JRh(m)}}function S(d,E){if(1&d){const m=i.RV6();i.j41(0,"button",7),i.bIt("click",function(){i.eBV(m);const w=i.XpG().index,C=i.XpG();return i.Njj(C.deleteValue(w))}),i.nrm(1,"span",8),i.j41(2,"span",6),i.EFF(3),i.k0s()()}if(2&d){const m=i.XpG().$implicit,F=i.XpG();i.BMQ("aria-label",F.enumValues),i.R7$(3),i.JRh(m)}}function v(d,E){if(1&d&&(i.j41(0,"li",2),i.DNE(1,g,3,2,"div",3)(2,S,4,2,"button",4),i.k0s()),2&d){const m=i.XpG();i.R7$(),i.Y8G("ngIf",m.readonly),i.R7$(),i.Y8G("ngIf",!m.readonly)}}let f=(()=>{class d{get id(){return this._id}set id(m){this._id=m||(0,e.Nl)()}constructor(){this.readonly=!1,this.onDelete=new i.bkB}ngOnInit(){}deleteValue(m){this.readonly||this.onDelete.emit(m)}static{this.\u0275fac=function(F){return new(F||d)}}static{this.\u0275cmp=i.VBU({type:d,selectors:[["app-pill-list"]],inputs:{id:"id",values:"values",readonly:"readonly"},outputs:{onDelete:"onDelete"},decls:2,vars:2,consts:[[1,"tw-pill-list","tw-mt-4",3,"id"],["class","tw-pill",4,"ngFor","ngForOf"],[1,"tw-pill"],["class","tw-btn-small tw-rounded tw-pl-1",4,"ngIf"],["class","tw-btn-small tw-rounded tw-pl-1",3,"click",4,"ngIf"],[1,"tw-btn-small","tw-rounded","tw-pl-1"],[1,"tw-pl-1"],[1,"tw-btn-small","tw-rounded","tw-pl-1",3,"click"],["aria-hidden","true",1,"fas","fa-times","tw-mr-1"]],template:function(F,w){1&F&&(i.j41(0,"ul",0),i.DNE(1,v,3,2,"li",1),i.k0s()),2&F&&(i.FS9("id",w.id+"-enumValues-select"),i.R7$(),i.Y8G("ngForOf",w.values))},dependencies:[_.Sq,_.bT]})}}return d})()},3843:(et,me,u)=>{"use strict";u.d(me,{G:()=>_});var i=u(177),e=u(4438);let _=(()=>{class g{static{this.\u0275fac=function(f){return new(f||g)}}static{this.\u0275mod=e.$C({type:g})}static{this.\u0275inj=e.G2t({imports:[i.MD]})}}return g})()},6843:(et,me,u)=>{"use strict";u.d(me,{l:()=>m});var i=u(177),e=u(1683),_=u(1780),g=u(8251),S=u(4193),v=u(4367),f=u(9417),d=u(8389),E=u(4438);let m=(()=>{class F{static{this.\u0275fac=function(R){return new(R||F)}}static{this.\u0275mod=E.$C({type:F})}static{this.\u0275inj=E.G2t({imports:[i.MD,f.YN,e.Y,_.h,g.h,S.c,v.N,d.w]})}}return F})()},8762:(et,me,u)=>{"use strict";u.d(me,{O:()=>te});var i=u(6303),e=u(1088),_=u(4438),g=u(177),S=u(1780);function v(I,oe){if(1&I&&(_.j41(0,"div")(1,"p",4),_.EFF(2),_.k0s()()),2&I){const Y=_.XpG(3);_.R7$(2),_.JRh(Y.displayValue)}}function f(I,oe){if(1&I&&(_.j41(0,"div"),_.DNE(1,v,3,1,"div",2),_.k0s()),2&I){const Y=_.XpG(2),_e=_.sdS(2);_.R7$(),_.Y8G("ngIf",Y.displayValue)("ngIfElse",_e)}}function d(I,oe){if(1&I&&(_.j41(0,"div",10),_.EFF(1),_.j41(2,"small",11),_.EFF(3),_.k0s()()),2&I){const Y=_.XpG(),_e=Y.$implicit;_.Y8G("id","multiMainText"+Y.i),_.R7$(),_.SpI(" ",_e.MainText," "),_.R7$(2),_.JRh(_e.HelpText)}}function E(I,oe){if(1&I&&(_.j41(0,"li",8),_.DNE(1,d,4,3,"div",9),_.k0s()),2&I){const Y=oe.$implicit;_.XpG(3);const _e=_.sdS(2);_.R7$(),_.Y8G("ngIf",Y.MainText)("ngIfElse",_e)}}function m(I,oe){if(1&I&&(_.j41(0,"div")(1,"div",5)(2,"ul",6),_.DNE(3,E,2,2,"li",7),_.k0s()()()),2&I){const Y=_.XpG(2);_.R7$(3),_.Y8G("ngForOf",Y.filteredValues)}}function F(I,oe){1&I&&_.nrm(0,"div")}function w(I,oe){if(1&I&&(_.j41(0,"p",22),_.EFF(1),_.nI1(2,"translate"),_.k0s()),2&I){const Y=_.XpG(5);_.R7$(),_.Lme(" ",Y.timeSpan.years," ",_.bMT(2,2,Y.displayTimeSpanUnit(Y.timeSpan.years,"Year"))," ")}}function C(I,oe){if(1&I&&(_.j41(0,"p",23),_.EFF(1),_.nI1(2,"translate"),_.k0s()),2&I){const Y=_.XpG(5);_.R7$(),_.Lme(" ",Y.timeSpan.months," ",_.bMT(2,2,Y.displayTimeSpanUnit(Y.timeSpan.months,"Month"))," ")}}function R(I,oe){if(1&I&&(_.j41(0,"p",24),_.EFF(1),_.nI1(2,"translate"),_.k0s()),2&I){const Y=_.XpG(5);_.R7$(),_.Lme(" ",Y.timeSpan.weeks," ",_.bMT(2,2,Y.displayTimeSpanUnit(Y.timeSpan.weeks,"Week"))," ")}}function k(I,oe){if(1&I&&(_.j41(0,"p",25),_.EFF(1),_.nI1(2,"translate"),_.k0s()),2&I){const Y=_.XpG(5);_.R7$(),_.Lme(" ",Y.timeSpan.days," ",_.bMT(2,2,Y.displayTimeSpanUnit(Y.timeSpan.days,"Day"))," ")}}function O(I,oe){if(1&I&&(_.j41(0,"p",26),_.EFF(1),_.nI1(2,"translate"),_.k0s()),2&I){const Y=_.XpG(5);_.R7$(),_.Lme(" ",Y.timeSpan.hours," ",_.bMT(2,2,Y.displayTimeSpanUnit(Y.timeSpan.hours,"Hour"))," ")}}function H(I,oe){if(1&I&&(_.j41(0,"p",27),_.EFF(1),_.nI1(2,"translate"),_.k0s()),2&I){const Y=_.XpG(5);_.R7$(),_.Lme(" ",Y.timeSpan.minutes," ",_.bMT(2,2,Y.displayTimeSpanUnit(Y.timeSpan.minutes,"Minute"))," ")}}function x(I,oe){if(1&I&&(_.j41(0,"span",28),_.EFF(1),_.nI1(2,"translate"),_.k0s()),2&I){const Y=_.XpG(5);_.R7$(),_.Lme(" ",Y.timeSpan.seconds," ",_.bMT(2,2,Y.displayTimeSpanUnit(Y.timeSpan.seconds,"Second"))," ")}}function $(I,oe){if(1&I&&(_.j41(0,"div")(1,"div",13),_.DNE(2,w,3,4,"p",14)(3,C,3,4,"p",15)(4,R,3,4,"p",16)(5,k,3,4,"p",17)(6,O,3,4,"p",18)(7,H,3,4,"p",19)(8,x,3,4,"span",20),_.k0s(),_.j41(9,"small",21),_.EFF(10),_.k0s()()),2&I){const Y=_.XpG(4);_.R7$(2),_.Y8G("ngIf",Y.timeSpan.years>0),_.R7$(),_.Y8G("ngIf",Y.timeSpan.months>0),_.R7$(),_.Y8G("ngIf",Y.timeSpan.weeks>0),_.R7$(),_.Y8G("ngIf",Y.timeSpan.days>0),_.R7$(),_.Y8G("ngIf",Y.timeSpan.hours>0),_.R7$(),_.Y8G("ngIf",Y.timeSpan.minutes>0),_.R7$(),_.Y8G("ngIf",Y.timeSpan.seconds>0),_.R7$(2),_.JRh(Y.values[0].MainText)}}function U(I,oe){1&I&&(_.j41(0,"div")(1,"p",29),_.EFF(2),_.nI1(3,"translate"),_.k0s()()),2&I&&(_.R7$(2),_.Lme("",0," ",_.bMT(3,2,"Clients.Tokens.Durations.Seconds"),""))}function G(I,oe){1&I&&(_.j41(0,"div")(1,"p",30),_.EFF(2),_.nI1(3,"translate"),_.k0s()()),2&I&&(_.R7$(2),_.JRh(_.bMT(3,1,"Clients.Tokens.Durations.Unlimited")))}function ie(I,oe){if(1&I&&_.DNE(0,$,11,8,"div",3)(1,U,4,4,"div",3)(2,G,4,3,"div",3),2&I){const Y=_.XpG(3);_.Y8G("ngIf","Unlimited"!=Y.values[0].MainText&&0!==Y.values[0].MainText&&"0"!==Y.values[0].MainText),_.R7$(),_.Y8G("ngIf",0===Y.values[0].MainText||"0"===Y.values[0].MainText),_.R7$(),_.Y8G("ngIf","Unlimited"==Y.values[0].MainText)}}function le(I,oe){if(1&I&&(_.j41(0,"div"),_.DNE(1,F,1,0,"div",12)(2,ie,3,3,"ng-template",null,1,_.C5r),_.k0s()),2&I){const Y=_.sdS(3),_e=_.XpG(2),Oe=_.sdS(2);_.R7$(),_.Y8G("ngIf",null==_e.values[0].MainText)("ngIfThen",Oe)("ngIfElse",Y)}}function L(I,oe){if(1&I&&(_.j41(0,"div"),_.DNE(1,f,2,2,"div",3)(2,m,4,1,"div",3)(3,le,4,3,"div",3),_.k0s()),2&I){const Y=_.XpG();_.R7$(),_.Y8G("ngIf",Y.fieldType==Y.ReadOnlyFieldType.Single||Y.fieldType==Y.ReadOnlyFieldType.CommaSeparated),_.R7$(),_.Y8G("ngIf",Y.fieldType==Y.ReadOnlyFieldType.Multi),_.R7$(),_.Y8G("ngIf",Y.fieldType==Y.ReadOnlyFieldType.LifetimePicker)}}function Q(I,oe){if(1&I&&(_.j41(0,"div")(1,"p",31),_.EFF(2),_.nI1(3,"translate"),_.k0s()()),2&I){const Y=_.XpG();_.R7$(2),_.SpI(" ",_.bMT(3,1,Y.noValueString)," ")}}let te=(()=>{class I{constructor(){this.customNoValue=null,this.filteredValues=[]}ngOnChanges(Y){this.initData()}ngOnInit(){this.noValueString=this.customNoValue?this.customNoValue:this.fieldType==i.t.Single||this.fieldType==i.t.LifetimePicker?"Common.NoValue":"Common.NoValues",this.initData()}initData(){!this.values||void 0===this.values||(this.filteredValues=this.values.filter(Y=>null!=Y),this.filteredValues.length<1)||(this.fieldType===i.t.Single?this.displayValue=this.filteredValues[0].MainText||null:this.fieldType===i.t.CommaSeparated?this.displayValue=this.filteredValues.map(Y=>Y.MainText).join(", ").trimEnd():this.fieldType===i.t.LifetimePicker&&null!==this.values[0].MainText&&"Unlimited"!==this.values[0].MainText&&(this.timeSpan=new e.Q(+this.values[0].MainText)))}displayTimeSpanUnit(Y,_e){return"Clients.Tokens.Durations."+_e+(Y>1?"s":"")}get ReadOnlyFieldType(){return i.t}static{this.\u0275fac=function(_e){return new(_e||I)}}static{this.\u0275cmp=_.VBU({type:I,selectors:[["app-readonly"]],inputs:{fieldType:"fieldType",values:"values",customNoValue:"customNoValue"},features:[_.OA$],decls:3,vars:2,consts:[["valuesEmptyBlock",""],["lifetimeHasValueBlock",""],[4,"ngIf","ngIfElse"],[4,"ngIf"],["id","singleCommaMainText"],[1,"tw-overflow-hidden","tw-overflow-y-auto","scrollbars","tw-max-h-readonly-field"],[1,"tw--mt-2"],["class","tw-pt-2",4,"ngFor","ngForOf"],[1,"tw-pt-2"],[3,"id",4,"ngIf","ngIfElse"],[3,"id"],["id","multiHelpText",1,"tw-block","tw-text-grey-700"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"tw-flex","tw-flex-wrap"],["class","tw-mr-2","id","lifetimeYears",4,"ngIf"],["class","tw-mr-2","id","lifetimeMonths",4,"ngIf"],["class","tw-mr-2","id","lifetimeWeeks",4,"ngIf"],["class","tw-mr-2","id","lifetimeDays",4,"ngIf"],["class","tw-mr-2","id","lifetimeHours",4,"ngIf"],["class","tw-mr-2","id","lifetimeMinutes",4,"ngIf"],["class","tw-mr-2","id","lifetimeSeconds",4,"ngIf"],["id","lifetimeSeconds",1,"tw-block","tw-text-grey-700"],["id","lifetimeYears",1,"tw-mr-2"],["id","lifetimeMonths",1,"tw-mr-2"],["id","lifetimeWeeks",1,"tw-mr-2"],["id","lifetimeDays",1,"tw-mr-2"],["id","lifetimeHours",1,"tw-mr-2"],["id","lifetimeMinutes",1,"tw-mr-2"],["id","lifetimeSeconds",1,"tw-mr-2"],["id","zero"],["id","unlimited"],["id","valuesUndefined",1,"tw-italic","tw-text-grey-400"]],template:function(_e,Oe){if(1&_e&&_.DNE(0,L,4,3,"div",2)(1,Q,4,3,"ng-template",null,0,_.C5r),2&_e){const Re=_.sdS(2);_.Y8G("ngIf",(null==Oe.filteredValues?null:Oe.filteredValues.length)>0)("ngIfElse",Re)}},dependencies:[g.Sq,g.bT,S.D9]})}}return I})()},7677:(et,me,u)=>{"use strict";u.d(me,{N:()=>g});var i=u(177),e=u(1780),_=u(4438);let g=(()=>{class S{static{this.\u0275fac=function(d){return new(d||S)}}static{this.\u0275mod=_.$C({type:S})}static{this.\u0275inj=_.G2t({imports:[e.h,i.MD]})}}return S})()},2510:(et,me,u)=>{"use strict";u.d(me,{S:()=>_});var i=u(4438),e=u(1780);let _=(()=>{class g{constructor(){this.placeholder=null,this.onSearch=new i.bkB}search(v){this.onSearch.emit(v.target.value)}static{this.\u0275fac=function(f){return new(f||g)}}static{this.\u0275cmp=i.VBU({type:g,selectors:[["app-search"]],inputs:{placeholder:"placeholder"},outputs:{onSearch:"onSearch"},decls:8,vars:4,consts:[["id","searchContainer",1,"tw-mb-2"],[1,"tw-flex","tw-bg-white","tw-border","tw-border-grey-300","tw-opacity-75","tw-cursor-text","tw-rounded","focus-within:tw-opacity-100","focus-within:tw-border-blue-400","tw-transition-all","tw-ease-in-out"],["for","searchTerm",1,"tw-flex","tw-items-center","tw-text-grey-500","tw-m-0","tw-ml-3"],["aria-hidden","true",1,"far","fa-search","tw-text-sm"],[1,"sr-only"],["id","searchTerm","type","text",1,"tw-bg-transparent","tw-border-0","tw-text-base","tw-leading-tight","tw-px-2","tw-py-2","tw-w-full","focus:tw-outline-none","tw-transition-all","tw-ease-in-out",3,"keyup","placeholder"]],template:function(f,d){1&f&&(i.j41(0,"div",0)(1,"div",1)(2,"label",2),i.nrm(3,"span",3),i.j41(4,"span",4),i.EFF(5),i.nI1(6,"translate"),i.k0s()(),i.j41(7,"input",5),i.bIt("keyup",function(m){return d.search(m)}),i.k0s()()()),2&f&&(i.R7$(5),i.JRh(i.bMT(6,2,"Common.Search")),i.R7$(2),i.Y8G("placeholder",d.placeholder))},dependencies:[e.D9],encapsulation:2})}}return g})()},3665:(et,me,u)=>{"use strict";u.d(me,{t:()=>v});var i=u(9417),e=u(177),_=u(1583),g=u(1780),S=u(4438);let v=(()=>{class f{static{this.\u0275fac=function(m){return new(m||f)}}static{this.\u0275mod=S.$C({type:f})}static{this.\u0275inj=S.G2t({imports:[e.MD,_.iI,g.h,i.YN]})}}return f})()},9764:(et,me,u)=>{"use strict";u.d(me,{s:()=>Je});var i=u(467),e=u(4438),_=u(9417),g=u(9838),S=u(1413),v=u(7263),f=u(9767),d=u(4252),E=u(1258),m=u(4549),F=u(4754),w=u(9812),C=u(177),R=u(5404),k=u(8698),O=u(9550),H=u(8577),x=u(3899),$=u(6536),U=u(1780);const G=["certificateReader"],ie=["addCertificateBtn"],le=["showModalButton"],L=["secretPicker"],Q=["certificateReaderNonModal"],te=["addCertificateBtnNonModal"];function I(Te,we){if(1&Te&&(e.j41(0,"option",43),e.EFF(1),e.k0s()),2&Te){const he=we.$implicit;e.Y8G("value",he.value),e.R7$(),e.JRh(he.value)}}function oe(Te,we){1&Te&&(e.j41(0,"p",44),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&Te&&(e.R7$(),e.JRh(e.bMT(2,1,"Secret Picker.LastWarning")))}function Y(Te,we){if(1&Te&&e.nrm(0,"app-date-time",45),2&Te){const he=e.XpG(2);e.Y8G("min",he.minDate)}}function _e(Te,we){if(1&Te){const he=e.RV6();e.j41(0,"form",15)(1,"div",16)(2,"div",17)(3,"app-form-row",18)(4,"div",19)(5,"select",20),e.DNE(6,I,2,2,"option",21),e.nI1(7,"keyvalue"),e.k0s()()(),e.j41(8,"app-form-row",18)(9,"div",22)(10,"div",23),e.nrm(11,"input",24),e.j41(12,"button",25),e.bIt("click",function(){e.eBV(he);const Ae=e.XpG();return e.Njj(Ae.generateRandom())}),e.nrm(13,"span",26),e.j41(14,"span",27),e.EFF(15),e.nI1(16,"translate"),e.k0s()()(),e.nrm(17,"input",28),e.j41(18,"div",29)(19,"button",30,1),e.bIt("click",function(){e.eBV(he);const Ae=e.XpG();return e.Njj(Ae.openCertificateReaderModel())}),e.j41(21,"span"),e.EFF(22),e.nI1(23,"translate"),e.k0s()()(),e.DNE(24,oe,3,3,"p",31),e.k0s()(),e.j41(25,"app-form-row",32)(26,"div",22)(27,"div",33)(28,"div",34)(29,"app-form-toggle",35)(30,"input",36),e.bIt("change",function(){e.eBV(he);const Ae=e.XpG();return e.Njj(Ae.toggleExpirationDateInput())}),e.k0s()()()(),e.DNE(31,Y,1,1,"app-date-time",37),e.k0s()(),e.j41(32,"app-form-row",38),e.nrm(33,"textarea",39),e.k0s()()(),e.j41(34,"div",40)(35,"button",41),e.bIt("click",function(){e.eBV(he);const Ae=e.XpG();return e.Njj(Ae.addSecret())}),e.EFF(36),e.nI1(37,"translate"),e.k0s(),e.j41(38,"button",42),e.bIt("click",function(){e.eBV(he);const Ae=e.XpG();return e.Njj(Ae.resetForm())}),e.EFF(39),e.nI1(40,"translate"),e.k0s()()()}if(2&Te){const he=e.XpG();e.Y8G("formGroup",he.secretForm),e.R7$(3),e.Y8G("id","SecretType")("label","Common.Type"),e.R7$(3),e.Y8G("ngForOf",e.bMT(7,23,he.secretTypes)),e.R7$(2),e.Y8G("id","SecretValue")("label","Common.Value"),e.R7$(2),e.Y8G("hidden","Shared Secret"!==he.secretForm.controls.type.value),e.R7$(5),e.JRh(e.bMT(16,25,"Common.GenerateRandom")),e.R7$(2),e.Y8G("hidden","Shared Secret"===he.secretForm.controls.type.value),e.R7$(2),e.Y8G("hidden","Shared Secret"===he.secretForm.controls.type.value),e.R7$(3),e.JRh(e.bMT(23,27,"Common.ReadCertificate")),e.R7$(2),e.Y8G("ngIf",he.displayWarnings),e.R7$(),e.Y8G("id","SecretExpiry")("label","Common.ExpirationDate")("help","Common.Dates.UTCWarning"),e.R7$(4),e.Y8G("id","expirationDateEnabled"),e.R7$(2),e.Y8G("ngIf",he.expirationDateEnabled),e.R7$(),e.Y8G("id","SecretDescription")("label","Common.Description")("isLast",!0),e.R7$(3),e.Y8G("disabled",!he.secretForm.valid),e.R7$(),e.JRh(e.bMT(37,29,"Common.Add")),e.R7$(3),e.JRh(e.bMT(40,31,"Common.Clear"))}}function Oe(Te,we){1&Te&&e.nrm(0,"app-data-table-column",46),2&Te&&e.Y8G("prop","created")("date",!0)("title","Common.Created")("headClasses","tw-hidden tw-w-40 md:tw-table-cell")("cellClasses","tw-hidden md:tw-table-cell")}function Re(Te,we){if(1&Te){const he=e.RV6();e.j41(0,"div",47,2)(2,"div",48)(3,"app-cert-reader",49,3),e.nI1(5,"translate"),e.nI1(6,"translate"),e.nI1(7,"translate"),e.nI1(8,"translate"),e.bIt("dataExists",function(Ae){e.eBV(he);const st=e.XpG();return e.Njj(st.certificateDataLoaded(Ae))}),e.k0s()(),e.j41(9,"div",40)(10,"button",50,4),e.bIt("click",function(){e.eBV(he);const Ae=e.XpG();return e.Njj(Ae.hideCertReaderNonModal(!0))}),e.EFF(12),e.nI1(13,"translate"),e.k0s(),e.j41(14,"button",42),e.bIt("click",function(){e.eBV(he);const Ae=e.XpG();return e.Njj(Ae.hideCertReaderNonModal(!1))}),e.EFF(15),e.nI1(16,"translate"),e.k0s()()()}2&Te&&(e.R7$(3),e.Y8G("uploadCert",e.bMT(5,6,"Secret Picker.UploadCert"))("uploadCertHelp",e.bMT(6,8,"Secret Picker.UploadCertHelp"))("certMetaData",e.bMT(7,10,"Secret Picker.MetaData"))("certMetaDataHelp",e.bMT(8,12,"Secret Picker.MetaDataHelp")),e.R7$(9),e.JRh(e.bMT(13,14,"Common.Use")),e.R7$(3),e.JRh(e.bMT(16,16,"Common.Cancel")))}function xe(Te,we){if(1&Te){const he=e.RV6();e.j41(0,"app-custom-modal",51),e.bIt("onSave",function(){e.eBV(he);const Ae=e.XpG();return e.Njj(Ae.closeCertificateReaderModelAndReadCertificate())})("onCancel",function(){e.eBV(he);const Ae=e.XpG();return e.Njj(Ae.closeCertificateReaderModel())}),e.j41(1,"app-cert-reader",52,3),e.nI1(3,"translate"),e.nI1(4,"translate"),e.nI1(5,"translate"),e.nI1(6,"translate"),e.bIt("dataExists",function(Ae){e.eBV(he);const st=e.XpG();return e.Njj(st.certificateDataLoaded(Ae))}),e.k0s()()}if(2&Te){const he=e.XpG();e.Y8G("modalId",he.certModalId)("title","Secret Picker.ReadCertificate")("actions",he.modalActions),e.R7$(),e.Y8G("uploadCert",e.bMT(3,7,"Secret Picker.UploadCert"))("uploadCertHelp",e.bMT(4,9,"Secret Picker.UploadCertHelp"))("certMetaData",e.bMT(5,11,"Secret Picker.MetaData"))("certMetaDataHelp",e.bMT(6,13,"Secret Picker.MetaDataHelp"))}}let Je=(()=>{class Te{set clientSecrets(he){this._clientSecrets=he||[]}get clientSecrets(){return this._clientSecrets}set isReadOnly(he){this._isReadOnly=he||!1}get isReadOnly(){return this._isReadOnly}constructor(he,Le,Ae){this.fb=he,this.modalService=Le,this.dataTableService=Ae,this._clientSecrets=[],this.nonModelCertPicker=!1,this.showCreatedColumn=!0,this.secretTypes=new g.S9,this.minDate=m.c9.now(),this.secretsAddStream=new S.B,this.secretsRemoveStream=new S.B,this.descFocus=!1,this.displayWarnings=!0,this.dataTableActions=[d.AA.Delete],this.modalActions=[E.N.Delete,E.N.Save],this.certModalId="CertificatePickerModal",this.expirationDateEnabled=!1,this.filepickerDisplayed=new e.bkB}ngOnDestroy(){this.dtsSubscription.unsubscribe()}keydown(he){"Enter"===he.key&&this.secretForm.valid&&!this.descFocus&&this.addSecret()}ngOnInit(){const he=m.c9.now().toISO();this.secretForm=this.fb.group({description:["",_.k0.maxLength(1e3)],value:["",_.k0.required],expiration:[{value:he,disabled:!0}],type:["Shared Secret"],enabled:[]}),this.dtsSubscription=this.dataTableService.deleteRowEvent.subscribe(Le=>{this.deleteSecret(Le)})}selectedDate(he){this.secretForm.controls.expiration.setValue(he)}toggleExpirationDateInput(){this.expirationDateEnabled=!this.expirationDateEnabled,this.updateExpiration()}generateRandom(){this.secretForm.controls.value.setValue((0,v.Nl)())}dateSelected(he){this.secretForm.controls.expiration.setValue(he)}addSecret(){const he=this.secretForm.value;he.expiration=this.expirationDateEnabled?m.c9.fromISO(he.expiration).toString():null,this.secretsAddStream.next(he),this.secretForm.reset(),this.resetForm()}updateExpiration(){const he=this.secretForm.controls.expiration;this.expirationDateEnabled?(he.addValidators(_.k0.required),he.enable()):(he.removeValidators(_.k0.required),he.disable()),he.reset()}deleteSecret(he){this.secretsRemoveStream.next(this.clientSecrets[he])}resetForm(){this.secretForm.setValue({description:"",value:"",expiration:"",type:"Shared Secret",enabled:""}),this.expirationDateEnabled=!1,this.updateExpiration()}openCertificateReaderModel(){this.nonModelCertPicker?(this.certificateReaderNonModal.nativeElement.hidden=!1,this.secretPicker.nativeElement.hidden=!0):this.modalService.showById(this.certModalId,this.showModalButton),this.filepickerDisplayed.emit(!0)}resetState(){this.nonModelCertPicker?(this.certificateReaderNonModal.nativeElement.hidden=!0,this.secretPicker.nativeElement.hidden=!1):this.modalService.hideById(this.certModalId),this.filepickerDisplayed.emit(!1)}closeCertificateReaderModel(){this.modalService.hideById(this.certModalId),this.filepickerDisplayed.emit(!1)}closeCertificateReaderModelAndReadCertificate(){var he=this;return(0,i.A)(function*(){he.modalService.hideById(he.certModalId),he.filepickerDisplayed.emit(!1),yield he.ReadCertificateModel()})()}ReadCertificateModel(){var he=this;return(0,i.A)(function*(){const Le=yield he.certReaderComponent.getCertificateModel();let Ae="";switch(he.secretForm.controls.type.value){case"X509 Certificate Base64":Ae=Le.base64Cert;break;case"X509 Name":Ae=Le.subject;break;case"X509 Thumbprint":Ae=Le.thumbprint}he.secretForm.controls.value.setValue(Ae)})()}certificateDataLoaded(he){this.addCertificateButton&&(this.addCertificateButton.nativeElement.disabled=!he),this.addCertificateBtnNonModal&&(this.addCertificateBtnNonModal.nativeElement.disabled=!he)}hideCertReaderNonModal(he){var Le=this;return(0,i.A)(function*(){Le.certificateReaderNonModal.nativeElement.hidden=!0,Le.secretPicker.nativeElement.hidden=!1,he&&(yield Le.ReadCertificateModel()),Le.filepickerDisplayed.emit(!1)})()}static{this.\u0275fac=function(Le){return new(Le||Te)(e.rXU(_.ze),e.rXU(F.B),e.rXU(w.I))}}static{this.\u0275cmp=e.VBU({type:Te,selectors:[["app-secret-picker"]],viewQuery:function(Le,Ae){if(1&Le&&(e.GBs(G,5),e.GBs(ie,5),e.GBs(le,5),e.GBs(L,5),e.GBs(Q,5),e.GBs(te,5)),2&Le){let st;e.mGM(st=e.lsd())&&(Ae.certReaderComponent=st.first),e.mGM(st=e.lsd())&&(Ae.addCertificateButton=st.first),e.mGM(st=e.lsd())&&(Ae.showModalButton=st.first),e.mGM(st=e.lsd())&&(Ae.secretPicker=st.first),e.mGM(st=e.lsd())&&(Ae.certificateReaderNonModal=st.first),e.mGM(st=e.lsd())&&(Ae.addCertificateBtnNonModal=st.first)}},hostBindings:function(Le,Ae){1&Le&&e.bIt("keydown",function(Fe){return Ae.keydown(Fe)},!1,e.EBC)},inputs:{clientSecrets:"clientSecrets",isReadOnly:"isReadOnly",nonModelCertPicker:"nonModelCertPicker",showCreatedColumn:"showCreatedColumn"},outputs:{filepickerDisplayed:"filepickerDisplayed"},decls:11,vars:25,consts:[["secretPicker",""],["showCertModalButton",""],["certificateReaderNonModal",""],["certificateReader",""],["addCertificateBtnNonModal",""],["id","secretPicker"],["id","secretForm",3,"formGroup",4,"ngIf"],[3,"isReadOnly","rows","norowslabel","actions"],[3,"prop","title","headClasses"],[3,"title","isPlaceholder","placeholder","headClasses","cellClasses"],[3,"prop","title","headClasses","cellClasses"],["id","createdColumn",3,"prop","date","title","headClasses","cellClasses",4,"ngIf"],[3,"prop","date","title","headClasses","cellClasses"],["hidden","",4,"ngIf"],[3,"modalId","title","actions","onSave","onCancel",4,"ngIf"],["id","secretForm",3,"formGroup"],[1,"tw-flex-grid","tw-mb-6","md:tw-flex-nowrap"],[1,"tw-flex-grid-col"],[3,"id","label"],[1,"tw-form-select"],["id","SecretType","name","type","formControlName","type",1,"tw-form-control"],[3,"value",4,"ngFor","ngForOf"],[1,"tw-w-full","lg:tw-max-w-2xl"],[1,"tw-flex",3,"hidden"],["type","text","id","SecretValue","formControlName","value","name","SecretValue","autocomplete","off",1,"tw-form-control","tw-rounded-r-none","tw-border-r-0"],["id","generateSecret",1,"tw-btn","tw-rounded-l-none",3,"click"],["aria-hidden","true",1,"far","fa-random"],[1,"sr-only"],["type","text","id","SecretValue","formControlName","value","name","SecretValue","autocomplete","off",1,"tw-form-control",3,"hidden"],[1,"tw-form-text"],["id","readCertificate",1,"tw-underline","hover:tw-no-underline",3,"click","hidden"],["class","tw-form-text-danger",4,"ngIf"],[3,"id","label","help"],[1,"tw-form-row","tw-flex","tw-items-center"],[1,"tw-shrink-0","tw-block"],[3,"id"],["formControlName","enabled","type","checkbox","id","expirationDateEnabled","name","expirationDateEnabled",1,"tw-form-switch__input",3,"change"],["id","expiration","formControlName","expiration",3,"min",4,"ngIf"],[3,"id","label","isLast"],["id","SecretDescription","name","SecretDescription","formControlName","description",1,"tw-form-control","md:tw-h-56"],[1,"tw-flex","tw-mb-6"],["id","addSecretBtn",1,"tw-btn-success","tw-mr-4",3,"click","disabled"],[1,"tw-btn",3,"click"],[3,"value"],[1,"tw-form-text-danger"],["id","expiration","formControlName","expiration",3,"min"],["id","createdColumn",3,"prop","date","title","headClasses","cellClasses"],["hidden",""],[1,"tw-mb-6","md:tw-flex-nowrap"],["id","certificateReader",3,"dataExists","uploadCert","uploadCertHelp","certMetaData","certMetaDataHelp"],["id","addCertificateBtn","disabled","",1,"tw-btn-success","tw-mr-4",3,"click"],[3,"onSave","onCancel","modalId","title","actions"],["id","",3,"dataExists","uploadCert","uploadCertHelp","certMetaData","certMetaDataHelp"]],template:function(Le,Ae){1&Le&&(e.j41(0,"div",5,0),e.DNE(2,_e,41,33,"form",6),e.j41(3,"app-data-table",7),e.nrm(4,"app-data-table-column",8)(5,"app-data-table-column",9)(6,"app-data-table-column",10),e.DNE(7,Oe,1,5,"app-data-table-column",11),e.nrm(8,"app-data-table-column",12),e.k0s()(),e.DNE(9,Re,17,18,"div",13)(10,xe,7,15,"app-custom-modal",14)),2&Le&&(e.R7$(2),e.Y8G("ngIf",!Ae.isReadOnly),e.R7$(),e.Y8G("isReadOnly",Ae.isReadOnly)("rows",Ae.clientSecrets)("norowslabel","Clients.NoSecrets")("actions",Ae.dataTableActions),e.R7$(),e.Y8G("prop","type")("title","Common.Type")("headClasses","sm:tw-w-1/3 md:tw-w-1/4"),e.R7$(),e.Y8G("title","Common.Value")("isPlaceholder",!0)("placeholder","Secret Picker.HiddenValue")("headClasses","tw-hidden tw-w-40 xl:tw-table-cell")("cellClasses","tw-hidden xl:tw-table-cell"),e.R7$(),e.Y8G("prop","description")("title","Common.Description")("headClasses","tw-hidden sm:tw-table-cell")("cellClasses","tw-hidden tw-max-w-0 tw-truncate sm:tw-table-cell"),e.R7$(),e.Y8G("ngIf",Ae.showCreatedColumn),e.R7$(),e.Y8G("prop","expiration")("date",!0)("title","Common.Expiration")("headClasses","tw-hidden tw-w-40 md:tw-table-cell")("cellClasses","tw-hidden md:tw-table-cell"),e.R7$(),e.Y8G("ngIf",Ae.nonModelCertPicker),e.R7$(),e.Y8G("ngIf",!1===Ae.nonModelCertPicker))},dependencies:[C.Sq,C.bT,_.qT,_.xH,_.y7,_.me,_.Zm,_.wz,_.BC,_.cb,_.j4,_.JD,R.V,k.Y,O.m,d.up,H.w,x.G,$.Z,C.lG,U.D9],encapsulation:2,data:{animation:[(0,f.Ws)()]}})}}return Te})()},4179:(et,me,u)=>{"use strict";u.d(me,{z:()=>C});var i=u(9417),e=u(177),_=u(1683),g=u(1780),S=u(779),v=u(75),f=u(8389),d=u(8251),E=u(4367),m=u(6599),F=u(9812),w=u(4438);let C=(()=>{class R{static{this.\u0275fac=function(H){return new(H||R)}}static{this.\u0275mod=w.$C({type:R})}static{this.\u0275inj=w.G2t({providers:[F.I],imports:[e.MD,i.X1,_.Y,g.h,i.YN,S.Q_,v.U,f.w,d.h,E.N,m.Y]})}}return R})()},4313:(et,me,u)=>{"use strict";u.d(me,{if:()=>E});var i=u(1413),e=u(152),_=u(3294),g=u(5964),S=u(6354);class E{constructor(F,w,C){this.toastr=F,this.translate=w,this.canSearchEmptyString=C,this.searchTerm="",this.searchTermStream=new i.B,this.enterKeyStream=new i.B,this.searchSource=this.searchTermStream.pipe((0,e.B)(600),(0,_.F)(),(0,g.p)(R=>this.filterSearchTerm(R)),(0,S.T)(R=>this.mapSearchTerm(R))),this.enterKeySource=this.enterKeyStream.pipe((0,e.B)(600),(0,g.p)(()=>this.filterSearchTerm(this.searchTerm)),(0,S.T)(()=>this.mapSearchTerm(this.searchTerm)))}filterSearchTerm(F){return this.canSearchEmptyString?F.length<50&&1!==F.length:!(F.length<2||F.length>50)&&""!==F.trim()}search(F){"Enter"===F.key?1===this.searchTerm.length?this.toastr.warning(this.translate.instant("Users.MinimumSearchLength"),this.translate.instant("Notifications.Sorry")):this.enterKeyStream.next():1!==this.searchTerm.length&&this.searchTermStream.next(this.searchTerm)}}},9945:(et,me,u)=>{"use strict";u.d(me,{f:()=>f});var i=u(177),e=u(9417),_=u(1683),g=u(8389),S=u(1780),v=u(4438);let f=(()=>{class d{static{this.\u0275fac=function(F){return new(F||d)}}static{this.\u0275mod=v.$C({type:d})}static{this.\u0275inj=v.G2t({imports:[i.MD,e.YN,e.X1,g.w,_.Y,S.h]})}}return d})()},7384:(et,me,u)=>{"use strict";u.d(me,{d:()=>v});var i=u(4438),e=u(177),_=u(1780);function g(f,d){1&f&&(i.j41(0,"span"),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&f&&(i.R7$(),i.JRh(i.bMT(2,1,"Common.LoadingPleaseWait")))}function S(f,d){if(1&f&&(i.j41(0,"span"),i.EFF(1),i.k0s()),2&f){const E=i.XpG();i.R7$(),i.JRh(E.text)}}let v=(()=>{class f{constructor(){this.text=""}static{this.\u0275fac=function(m){return new(m||f)}}static{this.\u0275cmp=i.VBU({type:f,selectors:[["app-simple-loader"]],inputs:{text:"text"},decls:4,vars:2,consts:[[1,"tw-flex","tw-items-center","tw-justify-center","tw-text-sm","tw-min-h-48"],[1,"fad","fa-spinner-third","fa-spin","tw-text-secondary-500","tw-mr-2"],[4,"ngIf"]],template:function(m,F){1&m&&(i.j41(0,"div",0),i.nrm(1,"span",1),i.DNE(2,g,3,3,"span",2)(3,S,2,1,"span",2),i.k0s()),2&m&&(i.R7$(2),i.Y8G("ngIf",""==F.text),i.R7$(),i.Y8G("ngIf",""!=F.text))},dependencies:[e.bT,_.D9],encapsulation:2})}}return f})()},7175:(et,me,u)=>{"use strict";u.d(me,{c:()=>v});var i=u(9417),e=u(177),_=u(1583),g=u(1780),S=u(4438);let v=(()=>{class f{static{this.\u0275fac=function(m){return new(m||f)}}static{this.\u0275mod=S.$C({type:f})}static{this.\u0275inj=S.G2t({imports:[e.MD,_.iI,g.h,i.YN]})}}return f})()},7970:(et,me,u)=>{"use strict";u.d(me,{j:()=>S});var i=u(4438),e=u(7263),_=u(177);function g(v,f){if(1&v){const d=i.RV6();i.j41(0,"li",2)(1,"input",3),i.bIt("click",function(){const m=i.eBV(d).index,F=i.XpG();return i.Njj(F.selectValue(m))}),i.k0s(),i.j41(2,"label",4),i.bIt("click",function(){const m=i.eBV(d).index,F=i.XpG();return i.Njj(F.selectValue(m))}),i.j41(3,"span",5),i.EFF(4),i.k0s()()()}if(2&v){const d=f.$implicit,E=f.index,m=i.XpG();i.R7$(),i.FCK("id","",m.id,"-enum-val-",E,""),i.Mz_("name","",m.id,"-state"),i.Y8G("checked",d===m.value),i.R7$(),i.STu("tw-state-toggle-btn ",m.borderStyle(E)," ",m.isSelected(d),""),i.FCK("for","",m.id,"-enum-val-",E,""),i.BMQ("aria-label",m.enumValues),i.R7$(2),i.JRh(d)}}let S=(()=>{class v{get id(){return this._id}set id(d){this._id=d||(0,e.Nl)()}constructor(){this.readonly=!1,this.newValue=new i.bkB}selectValue(d){this.readonly||this.newValue.emit(this.options[d])}borderStyle(d){return 0===d?"tw-rounded-l-lg":d>=this.options.length-1?"tw-rounded-r-lg":"tw-rounded-none"}isSelected(d){return d===this.value?"tw-btn-selected":"tw-btn"}static{this.\u0275fac=function(E){return new(E||v)}}static{this.\u0275cmp=i.VBU({type:v,selectors:[["app-state-toggle"]],inputs:{id:"id",options:"options",value:"value",readonly:"readonly"},outputs:{newValue:"newValue"},decls:2,vars:2,consts:[[3,"id"],["class","tw-state-toggle",4,"ngFor","ngForOf"],[1,"tw-state-toggle"],["type","radio",1,"sr-only",3,"click","id","name","checked"],["type","button",3,"click","for"],[1,"tw-pl-1"]],template:function(E,m){1&E&&(i.j41(0,"ul",0),i.DNE(1,g,5,15,"li",1),i.k0s()),2&E&&(i.FS9("id",m.id+"-enumValues-select"),i.R7$(),i.Y8G("ngForOf",m.options))},dependencies:[_.Sq],encapsulation:2})}}return v})()},1957:(et,me,u)=>{"use strict";u.d(me,{U:()=>g});var i=u(177),e=u(9417),_=u(4438);let g=(()=>{class S{static{this.\u0275fac=function(d){return new(d||S)}}static{this.\u0275mod=_.$C({type:S})}static{this.\u0275inj=_.G2t({imports:[i.MD,e.YN]})}}return S})()},3680:(et,me,u)=>{"use strict";u.d(me,{z:()=>O});var i=u(4438),e=u(177),_=u(1583),g=u(1780),S=u(7005);const v=[[["","badge",""]],[["","ctx",""]],[["","button",""]],[["","tabs",""]]],f=["[badge]","[ctx]","[button]","[tabs]"],d=H=>[H];function E(H,x){if(1&H&&(i.qex(0),i.j41(1,"li",7)(2,"span",17),i.EFF(3,"/"),i.k0s(),i.j41(4,"a",8),i.EFF(5),i.k0s()(),i.bVm()),2&H){const $=x.$implicit;i.R7$(4),i.Y8G("routerLink",$.link),i.R7$(),i.SpI(" ",$.title," ")}}function m(H,x){1&H&&(i.j41(0,"span",18),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&H&&(i.R7$(),i.SpI(" ",i.bMT(2,1,"Common.ReadOnly")," "))}function F(H,x){1&H&&(i.j41(0,"span",19),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&H&&(i.R7$(),i.SpI(" ",i.bMT(2,1,"Common.Reserved")," "))}function w(H,x){1&H&&(i.j41(0,"span",20),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&H&&(i.R7$(),i.SpI(" ",i.bMT(2,1,"Common.UserTOTPEnabled")," "))}function C(H,x){1&H&&(i.j41(0,"div",21),i.SdG(1,2),i.k0s())}function R(H,x){1&H&&(i.qex(0),i.j41(1,"div",22),i.SdG(2,3),i.k0s(),i.bVm())}let O=(()=>{class H{constructor(){this.hasButton=!1,this.hasTabs=!1,this.isReadOnly=!1,this.isReserved=!1,this.totpEnabled=!1}static{this.\u0275fac=function(U){return new(U||H)}}static{this.\u0275cmp=i.VBU({type:H,selectors:[["app-title-bar"]],inputs:{title:"title",crumbs:"crumbs",hasButton:"hasButton",hasTabs:"hasTabs",isReadOnly:"isReadOnly",isReserved:"isReserved",totpEnabled:"totpEnabled"},ngContentSelectors:f,decls:24,vars:18,consts:[[1,"tw-bg-grey-200","tw-border-b","tw-border-grey-300","tw--mt-5","tw--mx-4","tw-mb-6"],[1,"tw-px-4","tw-py-5"],[1,"tw-container","tw-mx-auto","tw-text-left"],[1,"tw-flex","tw-items-end","tw-justify-between"],[1,"tw-content","tw-min-w-0"],[1,"tw-mb-2"],["id","pageCrumbs",1,"tw-flex","tw-items-center","tw-text-xs","tw-leading-none","tw-text-grey-700"],[1,"tw-flex","tw-items-center"],[1,"tw-inline-block","tw-text-grey-700","tw-font-normal","hover:tw-text-body",3,"routerLink"],[4,"ngFor","ngForOf"],[1,"md:tw-flex","md:tw-items-center"],["id","pageTitle",1,"tw-text-xl","tw-font-semibold","tw-mb-2","tw-truncate","md:tw-mb-0","md:tw-mr-3","md:tw-text-2xl","last:tw-mb-0"],["id","readOnlyBadge","class","tw-pill tw-mr-2",4,"ngIf"],["id","reservedBadge","class","tw-pill tw-mr-2",4,"ngIf"],["class","tw-pill tw-mr-2",4,"ngIf"],["class","tw-shrink-0 tw-ml-4",4,"ngIf"],[4,"ngIf"],["aria-hidden","true",1,"tw-mx-2","tw-opacity-75"],["id","readOnlyBadge",1,"tw-pill","tw-mr-2"],["id","reservedBadge",1,"tw-pill","tw-mr-2"],[1,"tw-pill","tw-mr-2"],[1,"tw-shrink-0","tw-ml-4"],[1,"tw-container","tw-mx-auto","tw--mt-2"]],template:function(U,G){1&U&&(i.NAR(v),i.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"nav",5),i.nI1(6,"translate"),i.j41(7,"ol",6)(8,"li",7)(9,"a",8),i.nI1(10,"localize"),i.EFF(11),i.nI1(12,"translate"),i.k0s()(),i.DNE(13,E,6,2,"ng-container",9),i.k0s()(),i.j41(14,"div",10)(15,"h1",11),i.EFF(16),i.k0s(),i.SdG(17),i.DNE(18,m,3,3,"span",12)(19,F,3,3,"span",13)(20,w,3,3,"span",14),i.SdG(21,1),i.k0s()(),i.DNE(22,C,2,0,"div",15),i.k0s()()(),i.DNE(23,R,3,0,"ng-container",16),i.k0s()),2&U&&(i.R7$(5),i.BMQ("aria-label",i.bMT(6,10,"Nav.Breadcrumbs")),i.R7$(4),i.Y8G("routerLink",i.eq3(16,d,i.bMT(10,12,"/home"))),i.R7$(2),i.SpI(" ",i.bMT(12,14,"Nav.Home")," "),i.R7$(2),i.Y8G("ngForOf",G.crumbs),i.R7$(3),i.JRh(G.title),i.R7$(2),i.Y8G("ngIf",G.isReadOnly&&!G.isReserved),i.R7$(),i.Y8G("ngIf",G.isReserved),i.R7$(),i.Y8G("ngIf",G.totpEnabled),i.R7$(2),i.Y8G("ngIf",G.hasButton),i.R7$(),i.Y8G("ngIf",G.hasTabs))},dependencies:[e.Sq,e.bT,_.Wk,g.D9,S.tl],encapsulation:2})}}return H})()},367:(et,me,u)=>{"use strict";u.d(me,{m:()=>f});var i=u(177),e=u(1583),_=u(1683),g=u(7005),S=u(1780),v=u(4438);let f=(()=>{class d{static{this.\u0275fac=function(F){return new(F||d)}}static{this.\u0275mod=v.$C({type:d})}static{this.\u0275inj=v.G2t({imports:[i.MD,e.iI,_.Y,S.h,g.XE]})}}return d})()},2552:(et,me,u)=>{"use strict";u.d(me,{N:()=>$});var i=u(4438),e=u(177),_=u(9417),g=u(1780);const S=(U,G)=>({"tw-bg-green-200":U,"tw-bg-primary-200":G}),v=(U,G,ie)=>({"tw-bg-green-500":U,"tw-bg-primary-500":G,"tw-bg-grey-200":ie}),f=(U,G,ie)=>({"tw-text-white":U,"tw-text-secondary-500":G,"tw-text-grey-400 group-hover:tw-text-grey-700":ie}),d=(U,G)=>({"fas fa-check tw-text-xl trans":U,"far fa-arrow-alt-circle-up tw-text-2xl":G}),E=(U,G,ie)=>({"tw-text-green-800":U,"tw-text-primary-800":G,"tw-text-navy-500":ie}),m=(U,G,ie)=>({"tw-text-green-600":U,"tw-text-primary-600":G,"tw-text-grey-600":ie}),F=(U,G,ie)=>({"tw-text-green-500":U,"tw-text-primary-500":G,"tw-text-grey-300":ie});function w(U,G){1&U&&(i.j41(0,"span",12),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&U&&(i.R7$(),i.JRh(i.bMT(2,1,"Clients.Selected")))}let C=(()=>{class U{constructor(){this.select=new i.bkB}static{this.\u0275fac=function(le){return new(le||U)}}static{this.\u0275cmp=i.VBU({type:U,selectors:[["app-type-option"]],inputs:{id:"id",btnId:"btnId",title:"title",summary:"summary",icon:"icon",selected:"selected",type:"type",activeType:"activeType",starterModeProtected:"starterModeProtected"},outputs:{select:"select"},decls:16,vars:48,consts:[[3,"id"],["type","radio",1,"sr-only",3,"click","id","value","ngModel"],["type","button",1,"tw-block","tw-bg-white","tw-pl-16","tw-py-3","tw-w-full","tw-overflow-hidden","tw-rounded","tw-relative","group","tw-transition-all","tw-ease-in-out","hover:tw-shadow-md","md:tw-pr-16",3,"click","for","ngClass"],["id","iconBg",1,"tw-flex","tw-items-center","tw-justify-center","tw-w-16","tw-h-full","tw-absolute","tw-top-0","tw-left-0","tw-transition-all","tw-ease-in-out",3,"ngClass"],["id","iconTextSpan",3,"ngClass"],["id","checkIconSpan",3,"ngClass"],["class","sr-only",4,"ngIf"],[1,"tw-px-4","tw-text-left"],["id","titleSpan",1,"tw-block","tw-font-semibold","tw-transition-all","tw-ease-in-out",3,"ngClass"],["id","summarySpan",1,"tw-block","tw-text-xs","tw-transition-all","tw-ease-in-out",3,"ngClass"],[1,"tw-hidden","tw-items-center","tw-justify-center","tw-w-16","tw-h-full","tw-absolute","tw-top-0","tw-right-0","tw-transition-all","tw-ease-in-out","md:tw-flex"],["id","iconSpan",3,"ngClass"],[1,"sr-only"]],template:function(le,L){1&le&&(i.j41(0,"li",0)(1,"input",1),i.bIt("click",function(){return L.select.emit(L.type)}),i.k0s(),i.j41(2,"label",2),i.bIt("click",function(){return L.select.emit(L.type)}),i.j41(3,"div",3)(4,"span",4),i.nrm(5,"span",5),i.k0s(),i.DNE(6,w,3,3,"span",6),i.k0s(),i.j41(7,"div",7)(8,"span",8),i.EFF(9),i.nI1(10,"translate"),i.k0s(),i.j41(11,"span",9),i.EFF(12),i.nI1(13,"translate"),i.k0s()(),i.j41(14,"div",10),i.nrm(15,"span",11),i.k0s()()()),2&le&&(i.FS9("id",L.id),i.R7$(),i.FS9("id",L.btnId),i.FS9("value",L.type),i.Y8G("ngModel",L.activeType),i.R7$(),i.FS9("for",L.btnId),i.Y8G("ngClass",i.l_i(22,S,L.selected&&!L.starterModeProtected,L.selected&&L.starterModeProtected)),i.R7$(),i.Y8G("ngClass",i.sMw(25,v,L.selected&&!L.starterModeProtected,L.selected&&L.starterModeProtected,!L.selected)),i.R7$(),i.Y8G("ngClass",i.sMw(29,f,L.selected&&!L.starterModeProtected,L.selected&&L.starterModeProtected,!L.selected)),i.R7$(),i.Y8G("ngClass",i.l_i(33,d,!L.starterModeProtected,L.starterModeProtected)),i.R7$(),i.Y8G("ngIf",L.selected),i.R7$(2),i.Y8G("ngClass",i.sMw(36,E,L.selected&&!L.starterModeProtected,L.selected&&L.starterModeProtected,!L.selected)),i.R7$(),i.SpI(" ",i.bMT(10,18,L.title)," "),i.R7$(2),i.Y8G("ngClass",i.sMw(40,m,L.selected&&!L.starterModeProtected,L.selected&&L.starterModeProtected,!L.selected)),i.R7$(),i.SpI(" ",i.bMT(13,20,L.summary)," "),i.R7$(3),i.ZvI("",L.icon," tw-text-3xl tw-transition-all tw-ease-in-out"),i.Y8G("ngClass",i.sMw(44,F,L.selected&&!L.starterModeProtected,L.selected&&L.starterModeProtected,!L.selected)))},dependencies:[e.YU,e.bT,_.me,_.Fm,_.BC,_.vS,g.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return U})();const R=(U,G)=>G.id;function k(U,G){1&U&&(i.j41(0,"h6",1),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&U&&(i.R7$(),i.JRh(i.bMT(2,1,"StarterMode.Basic")))}function O(U,G){if(1&U){const ie=i.RV6();i.j41(0,"div",1)(1,"app-type-option",3),i.bIt("select",function(L){i.eBV(ie);const Q=i.XpG();return i.Njj(Q.select.emit(L))}),i.k0s()()}if(2&U){const ie=G.$implicit,le=i.XpG();i.R7$(),i.Y8G("id",ie.id)("btnId",ie.btnId)("title",ie.title)("summary",ie.summary)("icon",ie.icon)("selected",ie.selectedTypes.includes(le.activeType))("type",ie.type)("summary",ie.summary)}}function H(U,G){if(1&U){const ie=i.RV6();i.j41(0,"div",1)(1,"app-type-option",5),i.bIt("select",function(L){i.eBV(ie);const Q=i.XpG(2);return i.Njj(Q.select.emit(L))}),i.k0s()()}if(2&U){const ie=G.$implicit,le=i.XpG(2);i.R7$(),i.Y8G("id",ie.id)("btnId",ie.btnId)("title",ie.title)("summary",ie.summary)("icon",ie.icon)("selected",le.activeType===ie.type)("type",ie.type)("summary",ie.summary)("starterModeProtected",le.isStarterMode)}}function x(U,G){if(1&U&&(i.j41(0,"h6",1),i.EFF(1),i.nI1(2,"translate"),i.k0s(),i.j41(3,"ul",4),i.Z7z(4,H,2,9,"div",1,R),i.k0s()),2&U){const ie=i.XpG();i.R7$(),i.JRh(i.bMT(2,1,"StarterMode.Enterprise")),i.R7$(3),i.Dyx(ie.disabledOptions())}}let $=(()=>{class U{constructor(){this.select=new i.bkB}availableOptions(){return this.isStarterMode?this.options.filter(ie=>ie.starterMode):this.options}disabledOptions(){return this.isStarterMode?this.options.filter(ie=>!ie.starterMode):[]}static{this.\u0275fac=function(le){return new(le||U)}}static{this.\u0275cmp=i.VBU({type:U,selectors:[["app-type-selector"]],inputs:{id:"id",options:"options",activeType:"activeType",isStarterMode:"isStarterMode"},outputs:{select:"select"},decls:6,vars:2,consts:[["id","defaultSetupList",1,"tw--mt-2","tw--ml-2","md:tw--mt-4","md:tw--ml-4"],[1,"tw-pt-2","tw-pl-2","tw-w-full","sm:tw-w-1/2","md:tw-pt-4","md:tw-pl-4"],["id","availableTypes",1,"singleItem","tw-flex","tw-flex-wrap"],[3,"select","id","btnId","title","summary","icon","selected","type"],["id","disabledTypes",1,"singleItem","tw-flex","tw-flex-wrap"],[3,"select","id","btnId","title","summary","icon","selected","type","starterModeProtected"]],template:function(le,L){1&le&&(i.j41(0,"div",0),i.DNE(1,k,3,3,"h6",1),i.j41(2,"ul",2),i.Z7z(3,O,2,8,"div",1,R),i.k0s(),i.DNE(5,x,6,3),i.k0s()),2&le&&(i.R7$(),i.vxM(1,L.isStarterMode?1:-1),i.R7$(2),i.Dyx(L.availableOptions()),i.R7$(2),i.vxM(5,L.isStarterMode?5:-1))},dependencies:[C,g.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return U})()},5667:(et,me,u)=>{"use strict";u.d(me,{g:()=>S});var i=u(177),e=u(9417),_=u(1780),g=u(4438);let S=(()=>{class v{static{this.\u0275fac=function(E){return new(E||v)}}static{this.\u0275mod=g.$C({type:v})}static{this.\u0275inj=g.G2t({imports:[i.MD,e.YN,_.h]})}}return v})()},2420:(et,me,u)=>{"use strict";u.d(me,{P:()=>U});var i=u(1594),e=u(4438),_=u(1715),g=u(6026);let S=(()=>{class G{constructor(){this.wizardCancel=new e.bkB,this.finish=new e.bkB,this.hide=new e.bkB,this.titleId=g.R.TileId,this.index=0,this.progressPercent=0}ngOnInit(){this.setupWizard(),this.createComponentAtCurrentIndex(),this.displayComponentAtCurrentIndex()}setupWizard(){this.wizardSteps=this.wizardProvider.getWizard(this.wizardName),this.wizardTitles=this.wizardProvider.getWizardTitle(this.wizardName)}keydown(le){"Enter"===le.key&&this.canNext()&&this.nextTab()}get showProgress(){return!0}hideWizard(){this.hide.emit()}cancelWizard(){this.wizardCancel.emit()}finishWizard(){this.finish.emit()}initialStep(){return this.index<=0}displayComponentAtCurrentIndex(){this.wizardHost.viewContainerRef.detach();const le=this.components.get(this.index);this.wizardHost.viewContainerRef.insert(le.hostView),this.components.get(this.index).instance.hosted(),this.updateProgress()}createComponentAtCurrentIndex(){const L=this.wizardHost.viewContainerRef.createComponent(this.wizardSteps[this.index].component);this.components.set(this.index,L),L.instance.data=this.wizardSteps[this.index].data,this.wizardHost.viewContainerRef.detach()}canNext(){return this.components.get(this.index).instance.canNext()}updateProgress(){this.progressPercent=(this.index+1)/(this.wizardSteps.length+1)*100}ngOnDestroy(){this.clearComponents()}clearComponents(){this.components.forEach(le=>{le?.destroy()}),this.components.clear()}get asAny(){return this}static{this.\u0275fac=function(L){return new(L||G)}}static{this.\u0275dir=e.FsC({type:G,viewQuery:function(L,Q){if(1&L&&e.GBs(_.t,7),2&L){let te;e.mGM(te=e.lsd())&&(Q.wizardHost=te.first)}},hostBindings:function(L,Q){1&L&&e.bIt("keydown",function(I){return Q.keydown(I)},!1,e.EBC)},inputs:{wizardName:"wizardName"},outputs:{wizardCancel:"wizardCancel",finish:"finish",hide:"hide"}})}}return G})();var v=u(9417),f=u(177),d=u(1780),E=u(2467);function m(G,ie){if(1&G&&(e.j41(0,"span",17),e.EFF(1),e.k0s()),2&G){const le=ie.$implicit;e.R7$(),e.JRh(le)}}function F(G,ie){if(1&G){const le=e.RV6();e.j41(0,"tr",11)(1,"td",12),e.bIt("click",function(){e.eBV(le);const Q=e.XpG().$implicit,te=e.XpG();return e.Njj(te.jumpToTab(Q.stepName))}),e.j41(2,"b"),e.EFF(3),e.nI1(4,"keyToString"),e.nI1(5,"translate"),e.k0s()(),e.j41(6,"td",13),e.bIt("click",function(){e.eBV(le);const Q=e.XpG().$implicit,te=e.XpG();return e.Njj(te.jumpToTab(Q.stepName))}),e.DNE(7,m,2,1,"span",14),e.k0s(),e.j41(8,"td",12),e.bIt("click",function(){e.eBV(le);const Q=e.XpG().$implicit,te=e.XpG();return e.Njj(te.jumpToTab(Q.stepName))}),e.j41(9,"button",15),e.bIt("click",function(){e.eBV(le);const Q=e.XpG().$implicit,te=e.XpG();return e.Njj(te.jumpToTab(Q.stepName))}),e.nrm(10,"span",16),e.j41(11,"span",2),e.EFF(12),e.nI1(13,"translate"),e.k0s()()()()}if(2&G){const le=ie.$implicit;e.R7$(3),e.JRh(e.bMT(5,5,e.bMT(4,3,le.key))),e.R7$(4),e.Y8G("ngForOf",le.value),e.R7$(5),e.JRh(e.bMT(13,7,"Common.Edit"))}}function w(G,ie){if(1&G&&(e.qex(0),e.DNE(1,F,14,9,"tr",10),e.nI1(2,"keyvalue"),e.bVm()),2&G){const le=ie.$implicit;e.R7$(),e.Y8G("ngForOf",e.bMT(2,1,le.stepData))}}function C(G,ie){if(1&G&&(e.j41(0,"form",18)(1,"div",19),e.nrm(2,"input",20),e.j41(3,"label",21),e.EFF(4),e.nI1(5,"translate"),e.k0s()()()),2&G){const le=e.XpG();e.Y8G("formGroup",le.summaryForm),e.R7$(),e.Y8G("ngClass","last:tw-border-0 last:tw-mb-0 last:tw-pb-0"),e.R7$(3),e.JRh(e.bMT(5,3,"Common.Enabled"))}}let R=(()=>{class G{constructor(le){this.fb=le,this.askIfEnabled=!1,this.emitNavigate=new e.bkB}ngOnInit(){this.summaryForm=this.fb.group({enabled:[!0]})}jumpToTab(le){this.emitNavigate.emit(le)}isEnabled(){return this.summaryForm.get("enabled").value}static{this.\u0275fac=function(L){return new(L||G)(e.rXU(v.ze))}}static{this.\u0275cmp=e.VBU({type:G,selectors:[["app-wizard-summary"]],inputs:{askIfEnabled:"askIfEnabled"},decls:30,vars:20,consts:[[1,"cms","tw-mb-6"],["id","reviewTable",1,"datatable","selectable","hover"],[1,"sr-only"],[1,"disabled","inactive"],[1,"sm:tw-w-40"],[1,"tw-hidden","tw-max-w-0","tw-truncate","sm:tw-table-cell"],[1,"tw-italic"],[1,"tw-w-1"],[4,"ngFor","ngForOf"],[3,"formGroup",4,"ngIf"],["id","summaryItemRow","class","group",4,"ngFor","ngForOf"],["id","summaryItemRow",1,"group"],[3,"click"],[1,"tw-hidden","sm:tw-table-cell","tw-max-w-0","tw-wrap",3,"click"],["class","tw-block",4,"ngFor","ngForOf"],[1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click"],["aria-hidden","true",1,"fad","fa-pencil"],[1,"tw-block"],[3,"formGroup"],[1,"tw-form-row-border","tw-mt-6",3,"ngClass"],["id","enabledCheck","type","checkbox","value","false","formControlName","enabled",1,"tw-h-full","tw-ml-2","tw-mr-6"],["for","enabledCheck",1,"tw-form-label-inline","align-middle"]],template:function(L,Q){1&L&&(e.j41(0,"div",0)(1,"p"),e.EFF(2),e.nI1(3,"translate"),e.k0s()(),e.j41(4,"table",1)(5,"thead",2)(6,"tr")(7,"th"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"th"),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"th")(14,"span",2),e.EFF(15),e.nI1(16,"translate"),e.k0s()()()(),e.j41(17,"tbody")(18,"tr",3)(19,"td",4)(20,"b"),e.EFF(21),e.nI1(22,"translate"),e.k0s()(),e.j41(23,"td",5)(24,"span",6),e.EFF(25),e.nI1(26,"translate"),e.k0s()(),e.nrm(27,"td",7),e.k0s(),e.DNE(28,w,3,3,"ng-container",8),e.k0s()(),e.DNE(29,C,6,5,"form",9)),2&L&&(e.R7$(2),e.JRh(e.bMT(3,8,"Common.Wizards.Review")),e.R7$(6),e.JRh(e.bMT(9,10,"Common.Key")),e.R7$(3),e.JRh(e.bMT(12,12,"Common.Value")),e.R7$(4),e.JRh(e.bMT(16,14,"Common.Actions")),e.R7$(6),e.JRh(e.bMT(22,16,"Common.Type")),e.R7$(4),e.JRh(e.bMT(26,18,Q.summaryTitle)),e.R7$(3),e.Y8G("ngForOf",Q.summary),e.R7$(),e.Y8G("ngIf",Q.askIfEnabled))},dependencies:[f.YU,f.Sq,f.bT,v.qT,v.Zm,v.BC,v.cb,v.j4,v.JD,f.lG,d.D9,E.C],encapsulation:2})}}return G})();var k=u(5424),O=u(5794);let H=(()=>{class G extends S{constructor(le,L,Q){super(),this.errorService=le,this.toastr=L,this.translate=Q,this.components=new Map}nextTab(){++this.index,this.index===this.wizardSteps.length?this.buildSummary():(void 0===this.components.get(this.index)&&this.createComponentAtCurrentIndex(),this.displayComponentAtCurrentIndex(),this.setOrUpdateDtoSnapshot())}previousTab(){this.index>0&&(--this.index,this.displayComponentAtCurrentIndex())}buildSummary(){const le=[];this.wizardSteps.forEach((L,Q)=>{const I=this.components.get(Q).instance.getStepSummary();null!=I&&le.push({stepName:`ClientStep${Q}`,stepData:I})}),this.displaySummaryComponent(le)}displaySummaryComponent(le){this.wizardHost.viewContainerRef.detach(),void 0===this.summaryComponentRef?(this.wizardHost.viewContainerRef.detach(),this.summaryComponentRef=this.wizardHost.viewContainerRef.createComponent(R)):this.wizardHost.viewContainerRef.insert(this.summaryComponentRef.hostView),this.summaryComponentRef.instance.summary=le,this.summaryComponentRef.instance.summaryTitle=this.wizardTitles.summaryTitle,this.summaryComponentRef.instance.emitNavigate.pipe((0,i.$)()).subscribe(L=>{this.index=le.findIndex(Q=>Q.stepName===L),this.displayComponentAtCurrentIndex()}),this.updateProgress()}getWizardDto(){let le={};return this.wizardSteps.forEach((L,Q)=>{if(Q>=this.index)return;const I=this.components.get(Q).instance.getStepDTO();le=Object.assign({},le,I)}),le}ngOnDestroy(){this.summaryComponentRef&&this.summaryComponentRef.destroy()}setOrUpdateDtoSnapshot(){var le=this.components.get(this.index),L=this.getWizardDto();le.instance.dtoSnapshot=L}static{this.\u0275fac=function(L){return new(L||G)(e.rXU(k.I),e.rXU(O.tw),e.rXU(d.c$))}}static{this.\u0275dir=e.FsC({type:G,features:[e.Vt3]})}}return G})();var x=u(9988),$=u(7263);let U=(()=>{class G extends H{constructor(le,L,Q){super(le,L,Q),this.components=new Map,this.displayUpgradeIcon=!1}get showProgress(){return this.wizardName!==x.$.Home&&super.showProgress}nextTab(){var le=this.components.get(this.index),L=(0,$.hX)(le.instance.selectedType)?null:le.instance.selectedType();L?this.changeWizardType(L):super.nextTab()}previousTab(){0!==this.index||this.wizardName===x.$.Home?super.previousTab():this.changeWizardType(x.$.Home)}initialStep(){return super.initialStep()&&this.wizardName==x.$.Home}cancelWizard(){this.index>0||this.wizardName!==x.$.Home?this.changeWizardType(x.$.Home,0):super.cancelWizard()}changeWizardType(le,L=null){(0,$.hX)(L)||(this.index=L),this.wizardName=le,this.clearComponents(),this.setupWizard(),this.createComponentAtCurrentIndex(),this.displayComponentAtCurrentIndex()}static{this.\u0275fac=function(L){return new(L||G)(e.rXU(k.I),e.rXU(O.tw),e.rXU(d.c$))}}static{this.\u0275dir=e.FsC({type:G,inputs:{displayUpgradeIcon:"displayUpgradeIcon"},features:[e.Vt3]})}}return G})()},1715:(et,me,u)=>{"use strict";u.d(me,{t:()=>e});var i=u(4438);let e=(()=>{class _{constructor(S){this.viewContainerRef=S}static{this.\u0275fac=function(v){return new(v||_)(i.rXU(i.c1b))}}static{this.\u0275dir=i.FsC({type:_,selectors:[["","appStepHost",""]]})}}return _})()},2858:(et,me,u)=>{"use strict";u.d(me,{AU:()=>L,zI:()=>te});var i=u(6799),e=u(9417),_=u(4414),g=u(1413),S=u(590),v=u(4438),f=u(5794),d=u(1780),E=u(177);function m(I,oe){if(1&I&&(v.j41(0,"li",10)(1,"label",22),v.nrm(2,"input",23),v.j41(3,"span"),v.EFF(4),v.nI1(5,"translate"),v.k0s()()()),2&I){const Y=v.XpG();v.R7$(2),v.Y8G("value",Y.CertificateAction.DoNotSet),v.R7$(2),v.JRh(v.bMT(5,2,"Clients.Import.Wizard.Certificates.DoNotSet"))}}function F(I,oe){if(1&I&&(v.j41(0,"li",10)(1,"label",24),v.nrm(2,"input",25),v.j41(3,"span"),v.EFF(4),v.nI1(5,"translate"),v.k0s()()()),2&I){const Y=v.XpG();v.R7$(2),v.Y8G("value",Y.CertificateAction.UseExisting),v.R7$(2),v.JRh(v.bMT(5,2,"Clients.Import.Wizard.Certificates.UseExistingCertificates"))}}function w(I,oe){if(1&I){const Y=v.RV6();v.j41(0,"tr")(1,"td",39),v.EFF(2),v.k0s(),v.j41(3,"td")(4,"button",40),v.bIt("click",function(){const Oe=v.eBV(Y).$implicit,Re=v.XpG(5);return v.Njj(Re.deleteCert(Oe))}),v.EFF(5),v.nrm(6,"span",41),v.j41(7,"span",37),v.EFF(8),v.nI1(9,"translate"),v.k0s()()()()}if(2&I){const Y=oe.$implicit,_e=v.XpG(5);v.R7$(2),v.SpI(" ",null==Y?null:Y.subject," "),v.R7$(3),v.SpI(" ",_e.deleteDisabled," "),v.R7$(3),v.JRh(v.bMT(9,3,"Clients.Saml.DeleteCert"))}}function C(I,oe){if(1&I&&(v.qex(0),v.DNE(1,w,10,5,"tr",38),v.bVm()),2&I){const Y=v.XpG(4);v.R7$(),v.Y8G("ngForOf",Y.data.certificates.SigningCertificates)}}function R(I,oe){if(1&I){const Y=v.RV6();v.qex(0),v.j41(1,"tr")(2,"td",39),v.EFF(3),v.k0s(),v.j41(4,"td")(5,"button",40),v.bIt("click",function(){v.eBV(Y);const Oe=v.XpG(4);return v.Njj(Oe.deleteCert(null))}),v.EFF(6),v.nrm(7,"span",41),v.j41(8,"span",37),v.EFF(9),v.nI1(10,"translate"),v.k0s()()()(),v.bVm()}if(2&I){const Y=v.XpG(4);v.R7$(3),v.SpI(" ",Y.data.certificates.EncryptionCertificate.subject," "),v.R7$(3),v.SpI(" ",Y.deleteDisabled," "),v.R7$(3),v.JRh(v.bMT(10,3,"Clients.Saml.DeleteCert"))}}function k(I,oe){if(1&I&&(v.j41(0,"table",34)(1,"thead")(2,"tr")(3,"th",35),v.EFF(4),v.nI1(5,"translate"),v.k0s(),v.j41(6,"th",36)(7,"span",37),v.EFF(8),v.nI1(9,"translate"),v.k0s()()()(),v.j41(10,"tbody"),v.DNE(11,C,2,1,"ng-container",13)(12,R,11,5,"ng-container",13),v.k0s()()),2&I){const Y=v.XpG(3);v.R7$(4),v.JRh(v.bMT(5,4,"Common.Subject")),v.R7$(4),v.JRh(v.bMT(9,6,"Common.Actions")),v.R7$(3),v.Y8G("ngIf",Y.activeTab===Y.ActiveTab.Request),v.R7$(),v.Y8G("ngIf",Y.activeTab===Y.ActiveTab.Response)}}function O(I,oe){if(1&I&&(v.j41(0,"div"),v.DNE(1,k,13,8,"table",33),v.k0s()),2&I){const Y=v.XpG(2);v.R7$(),v.Y8G("ngIf",Y.activeTab==Y.ActiveTab.Request?Y.data.certificates.SigningCertificates.length>0:Y.data.certificates.EncryptionCertificate)}}function H(I,oe){1&I&&(v.j41(0,"div",42)(1,"div"),v.EFF(2),v.nI1(3,"translate"),v.k0s()()),2&I&&(v.R7$(2),v.JRh(v.bMT(3,1,"Clients.NoCertificates")))}function x(I,oe){if(1&I){const Y=v.RV6();v.j41(0,"button",43),v.bIt("click",function(){v.eBV(Y);const Oe=v.XpG(3);return v.Njj(Oe.addCert())}),v.EFF(1),v.nI1(2,"translate"),v.k0s()}2&I&&(v.R7$(),v.JRh(v.bMT(2,1,"Clients.Saml.AddCert")))}function $(I,oe){if(1&I){const Y=v.RV6();v.j41(0,"button",43),v.bIt("click",function(){v.eBV(Y);const Oe=v.XpG(3);return v.Njj(Oe.addCert())}),v.EFF(1),v.nI1(2,"translate"),v.k0s()}2&I&&(v.R7$(),v.JRh(v.bMT(2,1,"Clients.Saml.ReplaceCertificate")))}function U(I,oe){if(1&I&&(v.qex(0),v.DNE(1,x,3,3,"button",32)(2,$,3,3,"button",32),v.bVm()),2&I){const Y=v.XpG(2);v.R7$(),v.Y8G("ngIf",!Y.data.certificates.EncryptionCertificate||""===Y.data.certificates.EncryptionCertificate),v.R7$(),v.Y8G("ngIf",Y.data.certificates.EncryptionCertificate&&""!==Y.data.certificates.EncryptionCertificate)}}function G(I,oe){if(1&I){const Y=v.RV6();v.j41(0,"button",43),v.bIt("click",function(){v.eBV(Y);const Oe=v.XpG(2);return v.Njj(Oe.addCert())}),v.EFF(1),v.nI1(2,"translate"),v.k0s()}2&I&&(v.R7$(),v.JRh(v.bMT(2,1,"Clients.Saml.AddCert")))}function ie(I,oe){if(1&I){const Y=v.RV6();v.j41(0,"div")(1,"ul",26)(2,"li",27)(3,"button",28),v.bIt("click",function(){v.eBV(Y);const Oe=v.XpG();return v.Njj(Oe.activeTab=Oe.ActiveTab.Request)}),v.EFF(4),v.nI1(5,"translate"),v.k0s()(),v.j41(6,"li",27)(7,"button",29),v.bIt("click",function(){v.eBV(Y);const Oe=v.XpG();return v.Njj(Oe.activeTab=Oe.ActiveTab.Response)}),v.EFF(8),v.nI1(9,"translate"),v.k0s()()(),v.DNE(10,O,2,1,"div",13)(11,H,4,3,"div",30),v.j41(12,"div",31),v.DNE(13,U,3,2,"ng-container",13)(14,G,3,3,"button",32),v.k0s()()}if(2&I){const Y=v.XpG();v.R7$(3),v.AVh("active",Y.activeTab===Y.ActiveTab.Request),v.R7$(),v.JRh(v.bMT(5,10,"Clients.Saml.Request")),v.R7$(3),v.AVh("active",Y.activeTab===Y.ActiveTab.Response),v.R7$(),v.JRh(v.bMT(9,12,"Clients.Saml.Response")),v.R7$(2),v.Y8G("ngIf",Y.data.certificates),v.R7$(),v.Y8G("ngIf",Y.activeTab==Y.ActiveTab.Request&&0===Y.data.certificates.SigningCertificates.length||Y.activeTab==Y.ActiveTab.Response&&!Y.data.certificates.EncryptionCertificate),v.R7$(2),v.Y8G("ngIf",Y.activeTab===Y.ActiveTab.Response),v.R7$(),v.Y8G("ngIf",Y.activeTab===Y.ActiveTab.Request)}}function le(I,oe){if(1&I){const Y=v.RV6();v.j41(0,"div",44)(1,"ul",45)(2,"li",10)(3,"label",46)(4,"input",47),v.mxI("ngModelChange",function(Oe){v.eBV(Y);const Re=v.XpG();return v.DH7(Re.data.rememberCertificateAction,Oe)||(Re.data.rememberCertificateAction=Oe),v.Njj(Oe)}),v.k0s(),v.j41(5,"span",48),v.EFF(6),v.nI1(7,"translate"),v.k0s()()()()()}if(2&I){const Y=v.XpG();v.R7$(4),v.R50("ngModel",Y.data.rememberCertificateAction),v.R7$(2),v.SpI(" ",v.bMT(7,2,"Clients.Import.Wizard.Certificates.RememberMyDecision")," ")}}var L=function(I){return I[I.DoNotSet=0]="DoNotSet",I[I.UseExisting=1]="UseExisting",I[I.ManuallyCreate=2]="ManuallyCreate",I}(L||{}),Q=function(I){return I[I.Request=0]="Request",I[I.Response=1]="Response",I}(Q||{});let te=(()=>{class I extends i.P{get data(){return this._selectableImportResource}set data(Y){this._selectableImportResource=Y}constructor(Y,_e,Oe,Re){super(),this.fb=Y,this.changeDetector=_e,this.toastr=Oe,this.translate=Re,this.CertificateAction=L,this.ActiveTab=Q}ngOnInit(){if(this.form=this.fb.group({certificateAction:[L.UseExisting,e.k0.required]}),this.data){let _e;_e=this.data.existingHasCertificates?this.data.certificateAction===L.ManuallyCreate?L.ManuallyCreate:L.UseExisting:L.DoNotSet,this.data.certificateAction=_e,this.form.get("certificateAction").setValue(_e),this.displayResourceType=S.n.getSummaryDisplayType(this.data.resourceType)}this.data.certificateAction===L.ManuallyCreate&&(this.showCertificatePicker=!0,this.changeDetector.detectChanges(),this.data.certificates&&(this.activeTab=Q.Request,this.data.certificates.SigningCertificates&&this.data.certificates.SigningCertificates.length>0?this.activeTab=Q.Request:this.data.certificates.EncryptionCertificate&&(this.activeTab=Q.Response))),this.form.valueChanges.subscribe(()=>{const Y=this.form.value.certificateAction;this.data.certificateAction=Y,Y===L.ManuallyCreate?(this.showCertificatePicker=!0,this.activeTab=Q.Request,this.changeDetector.detectChanges()):this.showCertificatePicker=!1}),this.updatedCertificatesObservable&&this.updatedCertificatesObservable.unsubscribe()}addCert(){this.updatedCertificatesObservable&&(this.updatedCertificatesObservable.unsubscribe(),this.updatedCertificatesObservable=null),this.updatedCertificateSubject=new g.B,this.updatedCertificatesObservable=this.updatedCertificateSubject.subscribe(Y=>{this.activeTab===Q.Request?(this.stripContentTypeFromData(Y),this.data.certificates.SigningCertificates.some(_e=>_e.base64Cert===Y.base64Cert)?this.toastr.error(this.translate.instant("Clients.Import.Wizard.Certificates.DuplicateCertificate"),this.translate.instant("Clients.Import.Wizard.Certificates.InvalidCertificate")):this.data.certificates.SigningCertificates.push(Y)):(this.stripContentTypeFromData(Y),this.data.certificates.EncryptionCertificate=Y)}),this.openModal(_.M.importUploadCertificate,this.updatedCertificatesObservable)}stripContentTypeFromData(Y){const _e=Y.base64Cert.split("base64,");_e.length>1&&(Y.base64Cert=_e[1])}deleteCert(Y){if(this.activeTab===Q.Request){const _e=this.data.certificates.SigningCertificates.indexOf(Y);this.data.certificates.SigningCertificates.splice(_e,1)}else this.data.certificates.EncryptionCertificate=null}goNext(){this.data.certificateAction===L.ManuallyCreate&&(!this.data.certificates||!(this.data.certificates.SigningCertificates.length>0||this.data.certificates.EncryptionCertificate&&this.data.certificates.EncryptionCertificate.base64Cert))||(this.data.certificateAction===L.DoNotSet?(this.data.certificates.SigningCertificates=[],this.data.certificates.EncryptionCertificate=null):this.data.certificateAction===L.UseExisting&&(this.data.useExistingCertificates=!0),this.next())}disableNext(){return!(this.data.certificateAction===L.DoNotSet||this.data.certificateAction===L.UseExisting||null!==this.data.certificates&&(null!==this.data.certificates.SigningCertificates&&0!==this.data.certificates.SigningCertificates.length||this.data.certificates.EncryptionCertificate&&""!==this.data.certificates.EncryptionCertificate.base64Cert))}ngOnDestroy(){this.updatedCertificatesObservable&&this.updatedCertificatesObservable.unsubscribe()}static{this.\u0275fac=function(_e){return new(_e||I)(v.rXU(e.ze),v.rXU(v.gRc),v.rXU(f.tw),v.rXU(d.c$))}}static{this.\u0275cmp=v.VBU({type:I,selectors:[["app-import-certificates"]],features:[v.Vt3],decls:38,vars:29,consts:[["existingHasCertificates",""],[1,"modal-body"],[1,"tw-mb-4"],[1,"tw-font-semibold","tw-mr-2"],["id","displayName"],[1,"cms"],["id","certActionsLabel"],[3,"formGroup"],["role","group","aria-labelledby","certActionsLabel",1,"tw-form-checks"],["class","tw-form-checks__item",4,"ngIf","ngIfElse"],[1,"tw-form-checks__item"],["for","manually-create",1,"tw-form-checks__label"],["id","manually-create","formControlName","certificateAction","type","radio",1,"tw-form-checks__input",3,"value"],[4,"ngIf"],["class","tw-border-t tw-border-grey-200 tw-px-4 tw-pt-4 tw--mx-5 tw-mt-4",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],["id","backBtn",1,"tw-btn",3,"click"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],["for","do-not-set",1,"tw-form-checks__label"],["id","do-not-set","formControlName","certificateAction","type","radio",1,"tw-form-checks__input",3,"value"],["for","existing-certificate",1,"tw-form-checks__label"],["id","existing-certificate","formControlName","certificateAction","type","radio",1,"tw-form-checks__input",3,"value"],[1,"pill-tabs"],[1,"pill-tabs__item"],["id","requestSpan",1,"pill-tabs__link",3,"click"],["id","responseSpan",1,"pill-tabs__link",3,"click"],["id","noCertsAlert","class","tw-alert tw-mb-4","role","alert",4,"ngIf"],[1,"tw-flex","tw-justify-end"],["id","addButton","class","tw-btn-success",3,"click",4,"ngIf"],["id","certificateTable","class","datatable hover tw-mb-4",4,"ngIf"],["id","certificateTable",1,"datatable","hover","tw-mb-4"],[1,""],[1,"tw-w-1"],[1,"sr-only"],[4,"ngFor","ngForOf"],[1,"tw-max-w-0","tw-truncate"],["type","button",1,"tw-btn-link","tw-btn-small","tw-text-red-500",3,"click"],["aria-hidden","true",1,"fas","fa-times"],["id","noCertsAlert","role","alert",1,"tw-alert","tw-mb-4"],["id","addButton",1,"tw-btn-success",3,"click"],[1,"tw-border-t","tw-border-grey-200","tw-px-4","tw-pt-4","tw--mx-5","tw-mt-4"],[1,"tw-form-checks"],["for","remember-my-decision",1,"tw-form-checks__label"],["id","remember-my-decision","type","checkbox",1,"tw-form-checks__input",3,"ngModelChange","ngModel"],[1,"tw-font-normal"]],template:function(_e,Oe){if(1&_e){const Re=v.RV6();v.j41(0,"div",1)(1,"h2",2)(2,"span",3),v.EFF(3),v.nI1(4,"translate"),v.k0s(),v.j41(5,"span",4),v.EFF(6),v.nI1(7,"translate"),v.k0s()(),v.j41(8,"div",5)(9,"p",6),v.EFF(10),v.nI1(11,"translate"),v.k0s()(),v.j41(12,"form",7)(13,"ul",8),v.DNE(14,m,6,4,"li",9)(15,F,6,4,"ng-template",null,0,v.C5r),v.j41(17,"li",10)(18,"label",11),v.nrm(19,"input",12),v.j41(20,"span"),v.EFF(21),v.nI1(22,"translate"),v.k0s()()()()(),v.DNE(23,ie,15,14,"div",13)(24,le,8,4,"div",14),v.k0s(),v.nrm(25,"div",15),v.j41(26,"div",16)(27,"div",17)(28,"div",18)(29,"button",19),v.bIt("click",function(){return v.eBV(Re),v.Njj(Oe.goNext())}),v.EFF(30),v.nI1(31,"translate"),v.k0s(),v.j41(32,"button",20),v.bIt("click",function(){return v.eBV(Re),v.Njj(Oe.back())}),v.EFF(33),v.nI1(34,"translate"),v.k0s()(),v.j41(35,"button",21),v.bIt("click",function(){return v.eBV(Re),v.Njj(Oe.cancel())}),v.EFF(36),v.nI1(37,"translate"),v.k0s()()()}if(2&_e){const Re=v.sdS(16);v.R7$(3),v.SpI("",v.bMT(4,15,"Clients.Import.Wizard.Certificates.Title"),":"),v.R7$(3),v.Lme("",null==Oe.data?null:Oe.data.displayName," (",v.bMT(7,17,"Clients.Import.Wizard.Secrets."+Oe.displayResourceType),")"),v.R7$(4),v.JRh(v.bMT(11,19,"Clients.Import.Wizard.Certificates.ChooseWhatToDo")),v.R7$(2),v.Y8G("formGroup",Oe.form),v.R7$(2),v.Y8G("ngIf",!(null!=Oe.data&&Oe.data.existingHasCertificates))("ngIfElse",Re),v.R7$(5),v.Y8G("value",Oe.CertificateAction.ManuallyCreate),v.R7$(2),v.JRh(v.bMT(22,21,"Clients.Import.Wizard.Certificates.UploadNewCertificates")),v.R7$(2),v.Y8G("ngIf",Oe.showCertificatePicker),v.R7$(),v.Y8G("ngIf",!Oe.showCertificatePicker),v.R7$(5),v.Y8G("disabled",Oe.disableNext()),v.R7$(),v.JRh(v.bMT(31,23,"Common.Next")),v.R7$(3),v.JRh(v.bMT(34,25,"Common.Back")),v.R7$(3),v.JRh(v.bMT(37,27,"Common.Cancel"))}},dependencies:[E.Sq,E.bT,e.qT,e.me,e.Zm,e.Fm,e.BC,e.cb,e.vS,e.j4,e.JD,d.D9],encapsulation:2})}}return I})()},4406:(et,me,u)=>{"use strict";u.d(me,{X:()=>S});var i=u(6799),e=u(4438),_=u(5826),g=u(1780);let S=(()=>{class v extends i.P{constructor(d){super(),this.importWizardService=d,this.hideProgressBar=!0}downloadAndQuit(){this.importWizardService.downloadClientSecretsFromCache().subscribe(()=>{this.quit()})}yes(){this.quit()}static{this.\u0275fac=function(E){return new(E||v)(e.rXU(_.o))}}static{this.\u0275cmp=e.VBU({type:v,selectors:[["app-import-download-warning"]],features:[e.Vt3],decls:17,vars:15,consts:[[1,"modal-body","tw-text-center"],[1,"tw-mb-4"],[1,"tw-pill-danger"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","leaveBtn",1,"tw-btn-success",3,"click"],["id","stayBtn",1,"tw-btn-link","tw--mr-4",3,"click"]],template:function(E,m){1&E&&(e.j41(0,"div",0)(1,"p",1),e.EFF(2),e.nI1(3,"translate"),e.nI1(4,"translate"),e.k0s(),e.j41(5,"p",2),e.EFF(6),e.nI1(7,"translate"),e.k0s()(),e.j41(8,"div",3)(9,"div",4)(10,"div",5)(11,"button",6),e.bIt("click",function(){return m.downloadAndQuit()}),e.EFF(12),e.nI1(13,"translate"),e.k0s()(),e.j41(14,"button",7),e.bIt("click",function(){return m.yes()}),e.EFF(15),e.nI1(16,"translate"),e.k0s()()()),2&E&&(e.R7$(2),e.Lme(" ",e.bMT(3,5,"Clients.Import.Wizard.Warning.DownloadSecrets")," ",e.bMT(4,7,"Clients.Import.Wizard.Warning.Text2")," "),e.R7$(4),e.JRh(e.bMT(7,9,"Secret Picker.LastWarning")),e.R7$(6),e.JRh(e.bMT(13,11,"Clients.Import.Wizard.CompleteImport.DownloadSecrets")),e.R7$(3),e.JRh(e.bMT(16,13,"Clients.Import.Wizard.CompleteImport.FinishImport")))},dependencies:[g.D9],encapsulation:2})}}return v})()},1138:(et,me,u)=>{"use strict";u.d(me,{r:()=>O,u:()=>H});var i=u(1744),e=u(9417),_=u(785),g=u(7263),S=u(6799),v=u(590),f=u(4438),d=u(1780),E=u(177),m=u(9764);const F=["secretPicker"];function w(x,$){if(1&x&&(f.j41(0,"li",11)(1,"label",28),f.nrm(2,"input",29),f.j41(3,"span"),f.EFF(4),f.nI1(5,"translate"),f.k0s()()()),2&x){const U=f.XpG();f.R7$(2),f.Y8G("value",U.SecretsActions.DoNotSet),f.R7$(2),f.JRh(f.bMT(5,2,"Clients.Import.Wizard.Secrets.DoNotSet"))}}function C(x,$){if(1&x&&(f.j41(0,"li",11)(1,"label",30),f.nrm(2,"input",31),f.j41(3,"span"),f.EFF(4),f.nI1(5,"translate"),f.k0s()()()),2&x){const U=f.XpG();f.R7$(2),f.Y8G("value",U.SecretsActions.UseExistingSecret),f.R7$(2),f.JRh(f.bMT(5,2,"Clients.Import.Wizard.Secrets.UseExistingSecrets"))}}function R(x,$){if(1&x&&f.nrm(0,"app-secret-picker",32,1),2&x){const U=f.XpG();f.Y8G("clientSecrets",U.possibleSecrets)("nonModelCertPicker",!1)}}function k(x,$){if(1&x){const U=f.RV6();f.j41(0,"div",33)(1,"ul",34)(2,"li",11)(3,"label",35)(4,"input",36),f.mxI("ngModelChange",function(ie){f.eBV(U);const le=f.XpG();return f.DH7(le.data.rememberSecretAction,ie)||(le.data.rememberSecretAction=ie),f.Njj(ie)}),f.k0s(),f.j41(5,"span",37),f.EFF(6),f.nI1(7,"translate"),f.k0s()()()()()}if(2&x){const U=f.XpG();f.R7$(4),f.R50("ngModel",U.data.rememberSecretAction),f.R7$(2),f.SpI(" ",f.bMT(7,2,"Clients.Import.Wizard.Secrets.RememberMyDecision")," ")}}var O=function(x){return x[x.DoNotSet=0]="DoNotSet",x[x.Generate=1]="Generate",x[x.ManuallyCreate=2]="ManuallyCreate",x[x.UseExistingSecret=3]="UseExistingSecret",x}(O||{});let H=(()=>{class x extends S.P{get data(){return this._selectableImportResource}set data(U){this._selectableImportResource=U}constructor(U,G,ie){super(),this.translate=U,this.fb=G,this.changeDetector=ie,this.SecretsActions=O,this.possibleSecrets=[]}ngOnInit(){if(this.form=this.fb.group({secretAction:["",e.k0.required]}),this.data){const U=this.data.existingHasSecrets?O.UseExistingSecret:O.DoNotSet;this.form.get("secretAction").setValue(U),this.displayResourceType=this.data.resourceType===i.ot.Client?v.n.client:v.n.protectedResource}this.data.secrets&&this.data.secrets.length>0&&(this.data.secretsAction===O.ManuallyCreate?(this.possibleSecrets=this.data.secrets,this.form.setValue({secretAction:O.ManuallyCreate}),this.showSecretPicker=!0,this.changeDetector.detectChanges(),this.secretPicker.displayWarnings=!1,this.manageSecretStreams()):this.form.setValue({secretAction:O.Generate})),this.form.valueChanges.subscribe(()=>{const U=this.form.value.secretAction;this.data.secretsAction=U,U===O.ManuallyCreate?(this.showSecretPicker=!0,this.changeDetector.detectChanges(),this.secretPicker.displayWarnings=!1,this.manageSecretStreams()):this.showSecretPicker=!1})}getResourceType(){return this.data?i.ot[this.data.resourceType]:""}goNext(){const U=this.form.get("secretAction");if(U.value===O.DoNotSet)this.data.secrets=[];else if(U.value===O.UseExistingSecret)this.data.useExistingSecrets=!0;else if(U.value===O.Generate){const G=new _.z;G.value=(0,g.Nl)(),G.type="Shared Secret",G.description="",this.data.secrets=[G]}else this.data.secrets=this.possibleSecrets;this.data.secretsAction=this.form.get("secretAction").value,this.next()}manageSecretStreams(){this.secretAddSubscription=this.secretPicker.secretsAddStream.subscribe(U=>{this.possibleSecrets.push(U)}),this.secretDeleteSubscription=this.secretPicker.secretsRemoveStream.subscribe(U=>{this.secretPicker.clientSecrets.splice(this.secretPicker.clientSecrets.indexOf(U),1)})}ngOnDestroy(){this.secretAddSubscription&&(this.secretAddSubscription.unsubscribe(),this.secretDeleteSubscription.unsubscribe())}static{this.\u0275fac=function(G){return new(G||x)(f.rXU(d.c$),f.rXU(e.ze),f.rXU(f.gRc))}}static{this.\u0275cmp=f.VBU({type:x,selectors:[["app-import-secrets"]],viewQuery:function(G,ie){if(1&G&&f.GBs(F,5),2&G){let le;f.mGM(le=f.lsd())&&(ie.secretPicker=le.first)}},features:[f.Vt3],decls:51,vars:38,consts:[["existingHasSecrets",""],["secretPicker",""],[1,"modal-body"],[1,"tw-mb-4"],[1,"tw-font-semibold","tw-mr-2"],["id","displayName"],[1,"cms"],["id","secretActionsLabel"],[3,"formGroup"],["role","group","aria-labelledby","secretActionsLabel",1,"tw-form-checks"],["class","tw-form-checks__item",4,"ngIf","ngIfElse"],[1,"tw-form-checks__item"],["for","generate",1,"tw-form-checks__label"],["id","generate","formControlName","secretAction","type","radio",1,"tw-form-checks__input",3,"value"],["for","manually-create",1,"tw-form-checks__label"],["id","manually-create","formControlName","secretAction","type","radio",1,"tw-form-checks__input",3,"value"],[1,"tw-text-center","tw-mb-8"],[1,"tw-pill","tw-mx-auto"],[1,"tw-font-bold"],[3,"clientSecrets","nonModelCertPicker",4,"ngIf"],["class","tw-border-t tw-border-grey-200 tw-px-4 tw-pt-4 tw--mx-5 tw-mt-4",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"click"],["id","backBtn",1,"tw-btn",3,"click"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],["for","do-not-set",1,"tw-form-checks__label"],["id","do-not-set","formControlName","secretAction","type","radio",1,"tw-form-checks__input",3,"value"],["for","existing-secrets",1,"tw-form-checks__label"],["id","existing-secrets","formControlName","secretAction","type","radio",1,"tw-form-checks__input",3,"value"],[3,"clientSecrets","nonModelCertPicker"],[1,"tw-border-t","tw-border-grey-200","tw-px-4","tw-pt-4","tw--mx-5","tw-mt-4"],[1,"tw-form-checks"],["for","remember-my-decision",1,"tw-form-checks__label"],["id","remember-my-decision","type","checkbox",1,"tw-form-checks__input",3,"ngModelChange","ngModel"],[1,"tw-font-normal"]],template:function(G,ie){if(1&G){const le=f.RV6();f.j41(0,"div",2)(1,"h2",3)(2,"span",4),f.EFF(3),f.nI1(4,"translate"),f.k0s(),f.j41(5,"span",5),f.EFF(6),f.nI1(7,"translate"),f.k0s()(),f.j41(8,"div",6)(9,"p",7),f.EFF(10),f.nI1(11,"translate"),f.k0s()(),f.j41(12,"form",8)(13,"ul",9),f.DNE(14,w,6,4,"li",10)(15,C,6,4,"ng-template",null,0,f.C5r),f.j41(17,"li",11)(18,"label",12),f.nrm(19,"input",13),f.j41(20,"span"),f.EFF(21),f.nI1(22,"translate"),f.k0s()()(),f.j41(23,"li",11)(24,"label",14),f.nrm(25,"input",15),f.j41(26,"span"),f.EFF(27),f.nI1(28,"translate"),f.k0s()()()()(),f.j41(29,"div",16)(30,"p",17)(31,"b",18),f.EFF(32),f.nI1(33,"translate"),f.k0s(),f.EFF(34),f.nI1(35,"translate"),f.k0s()(),f.DNE(36,R,2,2,"app-secret-picker",19)(37,k,8,4,"div",20),f.k0s(),f.nrm(38,"div",21),f.j41(39,"div",22)(40,"div",23)(41,"div",24)(42,"button",25),f.bIt("click",function(){return f.eBV(le),f.Njj(ie.goNext())}),f.EFF(43),f.nI1(44,"translate"),f.k0s(),f.j41(45,"button",26),f.bIt("click",function(){return f.eBV(le),f.Njj(ie.back())}),f.EFF(46),f.nI1(47,"translate"),f.k0s()(),f.j41(48,"button",27),f.bIt("click",function(){return f.eBV(le),f.Njj(ie.cancel())}),f.EFF(49),f.nI1(50,"translate"),f.k0s()()()}if(2&G){const le=f.sdS(16);f.R7$(3),f.SpI("",f.bMT(4,18,"Clients.Import.Wizard.Secrets.Title"),":"),f.R7$(3),f.Lme("",null==ie.data?null:ie.data.displayName," (",f.bMT(7,20,"Clients.Import.Wizard.Secrets."+ie.displayResourceType),")"),f.R7$(4),f.JRh(f.bMT(11,22,"Clients.Import.Wizard.Secrets.ChooseWhatToDo")),f.R7$(2),f.Y8G("formGroup",ie.form),f.R7$(2),f.Y8G("ngIf",!(null!=ie.data&&ie.data.existingHasSecrets))("ngIfElse",le),f.R7$(5),f.Y8G("value",ie.SecretsActions.Generate),f.R7$(2),f.JRh(f.bMT(22,24,"Clients.Import.Wizard.Secrets.Generate")),f.R7$(4),f.Y8G("value",ie.SecretsActions.ManuallyCreate),f.R7$(2),f.JRh(f.bMT(28,26,"Clients.Import.Wizard.Secrets.ManuallyCreate")),f.R7$(5),f.SpI("",f.bMT(33,28,"Clients.Import.Wizard.Secrets.Note.Title"),":"),f.R7$(2),f.SpI(" ",f.bMT(35,30,"Clients.Import.Wizard.Secrets.Note.Note")," "),f.R7$(2),f.Y8G("ngIf",ie.showSecretPicker),f.R7$(),f.Y8G("ngIf",!ie.showSecretPicker),f.R7$(6),f.JRh(f.bMT(44,32,"Common.Next")),f.R7$(3),f.JRh(f.bMT(47,34,"Common.Back")),f.R7$(3),f.JRh(f.bMT(50,36,"Common.Cancel"))}},dependencies:[E.bT,e.qT,e.me,e.Zm,e.Fm,e.BC,e.cb,e.vS,e.j4,e.JD,m.s,d.D9],encapsulation:2})}}return x})()},5696:(et,me,u)=>{"use strict";u.d(me,{s:()=>L});var i=u(1744),e=u(4414),_=u(6799),g=u(4438),S=u(5826),v=u(1780),f=u(177);const d=(Q,te,I,oe,Y)=>({title:Q,editable:!0,header1:te,header2:I,header3:oe,data:Y}),E=(Q,te,I,oe,Y,_e)=>({title:Q,editable:te,header1:I,header2:oe,header3:Y,data:_e}),m=Q=>({"inactive disabled tw-opacity-50 tw-pointer-events-none":Q});function F(Q,te){1&Q&&g.eu8(0)}function w(Q,te){if(1&Q&&(g.j41(0,"div"),g.DNE(1,F,1,0,"ng-container",12),g.nI1(2,"translate"),g.nI1(3,"translate"),g.nI1(4,"translate"),g.nI1(5,"translate"),g.k0s()),2&Q){const I=g.XpG(),oe=g.sdS(9);g.R7$(),g.Y8G("ngTemplateOutlet",oe)("ngTemplateOutletContext",g.s1E(10,d,g.bMT(2,2,"Nav.Clients"),g.bMT(3,4,"Clients.Import.Wizard.Summary.Name.Client"),g.bMT(4,6,"Clients.Import.Wizard.Summary.Identifier.Client"),g.bMT(5,8,"Clients.Import.Wizard.Summary.Type.Client"),I.clients))}}function C(Q,te){1&Q&&g.eu8(0)}function R(Q,te){if(1&Q&&(g.j41(0,"div",13),g.DNE(1,C,1,0,"ng-container",12),g.nI1(2,"translate"),g.nI1(3,"translate"),g.nI1(4,"translate"),g.nI1(5,"translate"),g.k0s()),2&Q){const I=g.XpG(),oe=g.sdS(9);g.R7$(),g.Y8G("ngTemplateOutlet",oe)("ngTemplateOutletContext",g.l4e(10,E,g.bMT(2,2,"Nav.Resources"),I.canEdit(I.resources),g.bMT(3,4,"Clients.Import.Wizard.Summary.Name.Resource"),g.bMT(4,6,"Clients.Import.Wizard.Summary.Identifier.Resource"),g.bMT(5,8,"Clients.Import.Wizard.Summary.Type.Resource"),I.resources))}}function k(Q,te){1&Q&&g.eu8(0)}function O(Q,te){if(1&Q&&(g.j41(0,"div",13),g.DNE(1,k,1,0,"ng-container",12),g.nI1(2,"translate"),g.nI1(3,"translate"),g.nI1(4,"translate"),g.nI1(5,"translate"),g.k0s()),2&Q){const I=g.XpG(),oe=g.sdS(9);g.R7$(),g.Y8G("ngTemplateOutlet",oe)("ngTemplateOutletContext",g.l4e(10,E,g.bMT(2,2,"Nav.ClaimTypes"),I.canEdit(I.claims),g.bMT(3,4,"Clients.Import.Wizard.Summary.Name.Resource"),g.bMT(4,6,"Clients.Import.Wizard.Summary.Identifier.ClaimType"),g.bMT(5,8,"Clients.Import.Wizard.Summary.Type.ClaimType"),I.claims))}}function H(Q,te){if(1&Q&&(g.qex(0),g.j41(1,"td",31),g.nrm(2,"span",32),g.k0s(),g.j41(3,"td")(4,"span",33),g.EFF(5),g.k0s()(),g.bVm()),2&Q){const I=g.XpG().$implicit,oe=g.XpG(2);g.R7$(5),g.JRh(oe.getConflicts(I))}}function x(Q,te){1&Q&&g.nrm(0,"span",37)}function $(Q,te){1&Q&&g.nrm(0,"span",38)}function U(Q,te){1&Q&&g.nrm(0,"span",32)}function G(Q,te){if(1&Q&&(g.qex(0),g.j41(1,"td",31),g.DNE(2,x,1,0,"span",34)(3,$,1,0,"span",35)(4,U,1,0,"span",36),g.k0s(),g.j41(5,"td")(6,"span",33),g.EFF(7),g.k0s()(),g.bVm()),2&Q){const I=g.XpG().$implicit,oe=g.XpG(2);g.R7$(2),g.Y8G("ngIf",I.resourceState==oe.resourceStates.New),g.R7$(),g.Y8G("ngIf",I.resourceState==oe.resourceStates.Duplicate),g.R7$(),g.Y8G("ngIf",I.conflictedByDependencies),g.R7$(2),g.AVh("tw-italic",I.resourceState===oe.resourceStates.Duplicate),g.R7$(),g.SpI(" ",oe.getResourceState(I)," ")}}function ie(Q,te){if(1&Q&&(g.j41(0,"tr",27)(1,"td",28)(2,"b"),g.EFF(3),g.k0s()(),g.j41(4,"td",29),g.EFF(5),g.k0s(),g.j41(6,"td",30),g.EFF(7),g.nI1(8,"translate"),g.k0s(),g.DNE(9,H,6,1,"ng-container",3)(10,G,8,6,"ng-container",3),g.k0s()),2&Q){const I=te.$implicit,oe=g.XpG(2);g.Y8G("ngClass",g.eq3(9,m,I.resourceState===oe.resourceStates.Duplicate)),g.R7$(),g.Y8G("title",I.displayName),g.R7$(2),g.JRh(I.displayName),g.R7$(2),g.SpI(" ",I.identifier," "),g.R7$(2),g.SpI(" ",g.bMT(8,7,"Clients.Import.Wizard.Summary.ResourceTypes."+I.displayType)," "),g.R7$(2),g.Y8G("ngIf",I.resourceState===oe.resourceStates.Conflicted&&!I.conflictedByDependencies),g.R7$(),g.Y8G("ngIf",I.resourceState!==oe.resourceStates.Conflicted||I.conflictedByDependencies)}}function le(Q,te){if(1&Q){const I=g.RV6();g.j41(0,"h2",14)(1,"span",15),g.EFF(2),g.k0s(),g.j41(3,"button",16),g.bIt("click",function(){const Y=g.eBV(I).data,_e=g.XpG();return g.Njj(_e.editResourceSummary(Y))}),g.nrm(4,"span",17),g.j41(5,"span",18),g.EFF(6),g.nI1(7,"translate"),g.k0s()()(),g.j41(8,"table",19)(9,"thead")(10,"tr")(11,"th",20),g.EFF(12),g.k0s(),g.j41(13,"th",21),g.EFF(14),g.k0s(),g.j41(15,"th",22),g.EFF(16),g.k0s(),g.nrm(17,"td",23),g.j41(18,"th",24)(19,"span",25),g.EFF(20),g.nI1(21,"translate"),g.k0s()()()(),g.j41(22,"tbody"),g.DNE(23,ie,11,11,"tr",26),g.k0s()()}if(2&Q){const I=te.title,oe=te.editable,Y=te.header1,_e=te.header2,Oe=te.header3,Re=te.data;g.R7$(2),g.JRh(I),g.R7$(),g.Y8G("disabled",!oe),g.R7$(3),g.JRh(g.bMT(7,8,"Common.Edit")),g.R7$(6),g.JRh(Y),g.R7$(2),g.JRh(_e),g.R7$(2),g.JRh(Oe),g.R7$(4),g.JRh(g.bMT(21,10,"Common.Status")),g.R7$(3),g.Y8G("ngForOf",Re)}}let L=(()=>{class Q extends _.P{constructor(I,oe){super(),this.importWizardService=I,this.translate=oe,this.resourceStates=i.jD,this.resourceTypes=i.ot}ngOnInit(){this.importWizardService.cache.subscribe(I=>{const oe=[this.resourceStates.Conflicted,this.resourceStates.New,this.resourceStates.Duplicate],Y=I.filter(Re=>Re.resourceType===i.ot.Client&&(Re.selected||Re.resourceState===i.jD.Duplicate)),_e=[],Oe=[];I.forEach(Re=>{Re.resourceType!==i.ot.Client&&Y.some(xe=>Re.dependantClients.some(Je=>Je.identifier===xe.identifier))&&(Re.resourceType===i.ot.ClaimType?_e.push(Re):Oe.push(Re))}),this.clients=Y.sort((Re,xe)=>oe.indexOf(Re.resourceState)-oe.indexOf(xe.resourceState)),this.claims=_e.sort((Re,xe)=>oe.indexOf(Re.resourceState)-oe.indexOf(xe.resourceState)),this.resources=Oe.sort((Re,xe)=>oe.indexOf(Re.resourceState)-oe.indexOf(xe.resourceState))})}canNext(){return!0}goNext(){this.next()}viewConflicts(I,oe){I.stopPropagation(),this.openModal(e.M.summaryConflicts,oe)}getResourceState(I){return I.conflictedByDependencies?this.translate.instant("Clients.Import.Wizard.Summary.DependencyConflicts"):this.resourceStates[I.resourceState]}canEdit(I){return I.length>0&&I.some(oe=>oe.resourceState!==i.jD.Duplicate)}editResourceSummary(I){this.importWizardController.goToSummaryStep(I[0].resourceType)}getConflicts(I){let Y,oe=0;return I.conflicts.forEach(_e=>{oe+=_e.conflicts.length}),Y=this.translate.instant(1===oe?"Clients.Import.Wizard.Summary.Change":"Clients.Import.Wizard.Summary.Changes"),oe+" "+Y}static{this.\u0275fac=function(oe){return new(oe||Q)(g.rXU(S.o),g.rXU(v.c$))}}static{this.\u0275cmp=g.VBU({type:Q,selectors:[["app-import-summary-all"]],features:[g.Vt3],decls:23,vars:16,consts:[["commonDatatable",""],[1,"modal-body"],[1,"cms"],[4,"ngIf"],["class","tw-mt-8",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],["id","backBtn",1,"tw-btn",3,"click"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"tw-mt-8"],[1,"tw-border-b","tw-border-grey-200","tw-mb-3","tw-pb-1","tw-font-semibold","md:tw-flex","md:tw-items-center"],[1,"tw-block","tw-mb-2","md:tw-mb-0"],[1,"tw-btn","tw-btn-small","tw-btn-link","md:tw-ml-auto",3,"click","disabled"],["aria-hidden","true",1,"fad","fa-pencil"],[1,"tw-ml-2"],[1,"datatable"],[1,"md:tw-w-1/3","lg:tw-w-1/4"],[1,"tw-hidden","sm:tw-table-cell","md:tw-w-1/3"],[1,"tw-hidden","lg:tw-table-cell"],["aria-hidden","true",1,"tw-hidden","tw-w-1","xs:tw-table-cell"],[1,"tw-w-1"],[1,"sr-only"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"tw-truncate","tw-max-w-0",3,"title"],[1,"tw-hidden","tw-truncate","sm:tw-table-cell"],[1,"tw-hidden","tw-truncate","lg:tw-table-cell"],["aria-hidden","true",1,"tw-hidden","tw-text-right","xs:tw-table-cell"],[1,"fas","fa-exclamation-triangle","tw-text-orange-500","tw--mr-3"],[1,"tw-whitespace-nowrap"],["class","fas fa-check tw-text-green-500 tw--mr-3",4,"ngIf"],["class","far fa-copy tw--mr-3",4,"ngIf"],["class","fas fa-exclamation-triangle tw-text-orange-500 tw--mr-3",4,"ngIf"],[1,"fas","fa-check","tw-text-green-500","tw--mr-3"],[1,"far","fa-copy","tw--mr-3"]],template:function(oe,Y){if(1&oe){const _e=g.RV6();g.j41(0,"div",1)(1,"div",2)(2,"p"),g.EFF(3),g.nI1(4,"translate"),g.k0s()(),g.DNE(5,w,6,16,"div",3)(6,R,6,17,"div",4)(7,O,6,17,"div",4)(8,le,24,12,"ng-template",null,0,g.C5r),g.k0s(),g.nrm(10,"div",5),g.j41(11,"div",6)(12,"div",7)(13,"div",8)(14,"button",9),g.bIt("click",function(){return g.eBV(_e),g.Njj(Y.goNext())}),g.EFF(15),g.nI1(16,"translate"),g.k0s(),g.j41(17,"button",10),g.bIt("click",function(){return g.eBV(_e),g.Njj(Y.back())}),g.EFF(18),g.nI1(19,"translate"),g.k0s()(),g.j41(20,"button",11),g.bIt("click",function(){return g.eBV(_e),g.Njj(Y.cancel())}),g.EFF(21),g.nI1(22,"translate"),g.k0s()()()}2&oe&&(g.R7$(3),g.JRh(g.bMT(4,8,"Clients.Import.Wizard.Summary.FinalSummary")),g.R7$(2),g.Y8G("ngIf",(null==Y.clients?null:Y.clients.length)>0),g.R7$(),g.Y8G("ngIf",(null==Y.resources?null:Y.resources.length)>0),g.R7$(),g.Y8G("ngIf",(null==Y.claims?null:Y.claims.length)>0),g.R7$(7),g.Y8G("disabled",!Y.canNext()),g.R7$(),g.JRh(g.bMT(16,10,"Clients.Import.Import")),g.R7$(3),g.JRh(g.bMT(19,12,"Common.Back")),g.R7$(3),g.JRh(g.bMT(22,14,"Common.Cancel")))},dependencies:[f.YU,f.Sq,f.bT,f.T3,v.D9],encapsulation:2})}}return Q})()},7629:(et,me,u)=>{"use strict";u.d(me,{oG:()=>qe});var i=u(1744),e=u(4414),_=u(7263),g=u(590),S=u(6799);let v=(()=>{class Tt{static{this.RelyingPartyProperty="RelyingParty"}static{this.RelyingPartyIdentifier="Relying Party"}static{this.ServiceProviderProperty="ServiceProvider"}static{this.ServiceProviderIdentifier="Service Provider"}static{this.ClaimsProperty="Claims"}static{this.PropertiesProperty="Properties"}static{this.ScopesProperty="Scopes"}static{this.UserClaimsProperty="UserClaims"}static{this.sloProperty="SingleLogoutServices"}static{this.acsProperty="AssertionConsumerServices"}static{this.sloIdentifier="Single Logout Services"}static{this.acsIdentifier="Assertion Consumer Services"}static{this.ClaimMappingsIdentifier="Claim Mappings"}static{this.ClaimMappingsKey="ClaimMappings"}static{this.SamlDisplayType="Saml"}static{this.WsFedDisplayType="WsFed"}static{this.Client="Client"}static{this.Endpoint="Endpoint"}static{this.ProtectedResources="ProtectedResources"}static{this.IdentityResources="IdentityResources"}static{this.ClaimTypes="ClaimTypes"}static{this.Secrets="Secrets"}static{this.Certificates="Certificates"}}return Tt})();var f=u(4438),d=u(5826),E=u(1780),m=u(7005),F=u(177);let w=(()=>{class Tt{transform(Gt){if(Gt){const ct=[...Gt];let yt="",mt="";for(let xt=0;xt<ct.length;xt++){const tn=ct[xt];if(0===yt.length)yt=tn.toUpperCase();else if(xt+1===ct.length)mt===mt.toUpperCase()||tn===tn.toLowerCase()?yt+=tn:yt+=`${tn}`;else if(tn===tn.toUpperCase()){const Sn=mt===mt.toUpperCase(),Un=ct[xt+1];Sn?Un===Un.toLowerCase()?yt+=` ${tn}`:yt+=tn:yt+=` ${tn}`}else yt+=tn;mt=tn}Gt=yt}return Gt}static{this.\u0275fac=function(ct){return new(ct||Tt)}}static{this.\u0275pipe=f.EJ8({name:"beautifyPropertyName",type:Tt,pure:!0})}}return Tt})();const C=["importSummaryConflictsModal"];function R(Tt,Rn){1&Tt&&f.nrm(0,"span",25)}function k(Tt,Rn){1&Tt&&f.nrm(0,"span",26)}function O(Tt,Rn){1&Tt&&(f.j41(0,"span",36),f.EFF(1,", "),f.k0s())}function H(Tt,Rn){if(1&Tt&&(f.j41(0,"li",34)(1,"span"),f.EFF(2),f.k0s(),f.DNE(3,O,2,0,"span",35),f.k0s()),2&Tt){const Gt=Rn.$implicit,ct=Rn.last;f.R7$(2),f.JRh(Gt.displayName),f.R7$(),f.Y8G("ngIf",!ct)}}function x(Tt,Rn){if(1&Tt&&(f.j41(0,"dl",30)(1,"dt",31),f.EFF(2),f.nI1(3,"translate"),f.k0s(),f.j41(4,"dd")(5,"ul",32),f.DNE(6,H,4,2,"li",33),f.k0s()()()),2&Tt){const Gt=f.XpG(3);f.R7$(2),f.SpI(" ",f.bMT(3,2,"Clients.Import.Wizard.Summary.EffectsImportClients"),": "),f.R7$(4),f.Y8G("ngForOf",Gt.linkedNewClients)}}function $(Tt,Rn){1&Tt&&(f.j41(0,"span",36),f.EFF(1,", "),f.k0s())}function U(Tt,Rn){if(1&Tt&&(f.j41(0,"li",34)(1,"a",38),f.EFF(2),f.k0s(),f.DNE(3,$,2,0,"span",35),f.k0s()),2&Tt){const Gt=Rn.$implicit,ct=Rn.last,yt=f.XpG(4);f.R7$(),f.Y8G("href",yt.buildHref(Gt.existingIdentifier),f.B4B),f.R7$(),f.SpI(" ",Gt.displayName," "),f.R7$(),f.Y8G("ngIf",!ct)}}function G(Tt,Rn){if(1&Tt&&(f.j41(0,"dl",37)(1,"dt",31),f.EFF(2),f.nI1(3,"translate"),f.k0s(),f.j41(4,"dd",34)(5,"ul",32),f.DNE(6,U,4,3,"li",33),f.k0s()()()),2&Tt){const Gt=f.XpG(3);f.R7$(2),f.SpI(" ",f.bMT(3,2,"Clients.Import.Wizard.Summary.EffectsExistingClients"),": "),f.R7$(4),f.Y8G("ngForOf",Gt.linkedExistingClients)}}function ie(Tt,Rn){if(1&Tt&&(f.j41(0,"div",27),f.DNE(1,x,7,4,"dl",28)(2,G,7,4,"dl",29),f.k0s()),2&Tt){const Gt=f.XpG(2);f.R7$(),f.Y8G("ngIf",Gt.linkedNewClients.length>0),f.R7$(),f.Y8G("ngIf",Gt.linkedExistingClients.length>0)}}function le(Tt,Rn){if(1&Tt){const Gt=f.RV6();f.j41(0,"div",18)(1,"div",19)(2,"button",20),f.bIt("click",function(){f.eBV(Gt);const yt=f.XpG();return f.Njj(yt.toggleDisplayLinkedClientsDropdown())}),f.j41(3,"span"),f.EFF(4),f.nI1(5,"translate"),f.k0s(),f.j41(6,"span",21),f.DNE(7,R,1,0,"span",22)(8,k,1,0,"span",23),f.k0s()(),f.DNE(9,ie,3,2,"div",24),f.k0s()()}if(2&Tt){const Gt=f.XpG();f.AVh("tw-alert-warning",Gt.linkedExistingClients.length>0),f.R7$(4),f.JRh(f.bMT(5,6,"Clients.Import.Wizard.Summary.LinkedClients")),f.R7$(3),f.Y8G("ngIf",Gt.displayLinkedClientsDropdown),f.R7$(),f.Y8G("ngIf",!Gt.displayLinkedClientsDropdown),f.R7$(),f.Y8G("ngIf",Gt.displayLinkedClientsDropdown)}}function L(Tt,Rn){if(1&Tt&&(f.j41(0,"span",47),f.EFF(1),f.k0s()),2&Tt){const Gt=f.XpG().$implicit;f.R7$(),f.SpI(" ",Gt.previous," ")}}function Q(Tt,Rn){1&Tt&&(f.j41(0,"i",48),f.EFF(1),f.nI1(2,"translate"),f.k0s()),2&Tt&&(f.R7$(),f.SpI(" ",f.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.NoValue")," "))}function te(Tt,Rn){if(1&Tt&&(f.j41(0,"span",49),f.EFF(1),f.k0s()),2&Tt){const Gt=f.XpG().$implicit;f.R7$(),f.SpI(" ",Gt.new," ")}}function I(Tt,Rn){1&Tt&&(f.j41(0,"i",48),f.EFF(1),f.nI1(2,"translate"),f.k0s()),2&Tt&&(f.R7$(),f.SpI(" ",f.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.Deleted")," "))}function oe(Tt,Rn){if(1&Tt){const Gt=f.RV6();f.j41(0,"tr",43),f.bIt("change",function(){f.eBV(Gt);const yt=f.XpG(2);return f.Njj(yt.setupTableHeadings())}),f.j41(1,"td"),f.EFF(2),f.nI1(3,"beautifyPropertyName"),f.k0s(),f.j41(4,"td"),f.DNE(5,L,2,1,"span",44)(6,Q,3,3,"i",45),f.k0s(),f.j41(7,"td"),f.DNE(8,te,2,1,"span",46)(9,I,3,3,"i",45),f.k0s()()}if(2&Tt){const Gt=Rn.$implicit,ct=f.XpG(2);f.R7$(2),f.JRh(f.bMT(3,5,Gt.propertyName)),f.R7$(3),f.Y8G("ngIf",ct.hasValue(Gt.previous)),f.R7$(),f.Y8G("ngIf",!ct.hasValue(Gt.previous)),f.R7$(2),f.Y8G("ngIf",ct.hasValue(Gt.new)),f.R7$(),f.Y8G("ngIf",!ct.hasValue(Gt.new))}}function Y(Tt,Rn){if(1&Tt&&(f.j41(0,"div",39)(1,"table",40)(2,"thead")(3,"tr")(4,"th"),f.EFF(5),f.nI1(6,"translate"),f.k0s(),f.j41(7,"th",41),f.EFF(8),f.nI1(9,"translate"),f.k0s(),f.j41(10,"th",41),f.EFF(11),f.nI1(12,"translate"),f.k0s()()(),f.j41(13,"tbody"),f.DNE(14,oe,10,7,"tr",42),f.k0s()()()),2&Tt){const Gt=f.XpG();f.R7$(5),f.JRh(f.bMT(6,4,"Clients.Import.Wizard.Summary.Conflicts.Property")),f.R7$(3),f.JRh(f.bMT(9,6,"Clients.Import.Wizard.Summary.Conflicts.OldValue")),f.R7$(3),f.JRh(f.bMT(12,8,"Clients.Import.Wizard.Summary.Conflicts.NewValue")),f.R7$(3),f.Y8G("ngForOf",null==Gt.fieldConflicts?null:Gt.fieldConflicts.conflicts)}}function _e(Tt,Rn){if(1&Tt&&(f.j41(0,"span",47),f.EFF(1),f.k0s()),2&Tt){const Gt=f.XpG().$implicit;f.R7$(),f.SpI(" ",Gt.previous," ")}}function Oe(Tt,Rn){1&Tt&&(f.j41(0,"i",48),f.EFF(1),f.nI1(2,"translate"),f.k0s()),2&Tt&&(f.R7$(),f.SpI(" ",f.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.NoValue")," "))}function Re(Tt,Rn){if(1&Tt&&(f.j41(0,"span",49),f.EFF(1),f.k0s()),2&Tt){const Gt=f.XpG().$implicit;f.R7$(),f.SpI(" ",Gt.new," ")}}function xe(Tt,Rn){1&Tt&&(f.j41(0,"i",48),f.EFF(1),f.nI1(2,"translate"),f.k0s()),2&Tt&&(f.R7$(),f.SpI(" ",f.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.Deleted")," "))}function Je(Tt,Rn){if(1&Tt){const Gt=f.RV6();f.j41(0,"tr",43),f.bIt("change",function(){f.eBV(Gt);const yt=f.XpG(3);return f.Njj(yt.setupTableHeadings())}),f.j41(1,"td"),f.EFF(2),f.k0s(),f.j41(3,"td"),f.DNE(4,_e,2,1,"span",44)(5,Oe,3,3,"i",45),f.k0s(),f.j41(6,"td"),f.DNE(7,Re,2,1,"span",46)(8,xe,3,3,"i",45),f.k0s()()}if(2&Tt){const Gt=Rn.$implicit,ct=f.XpG(3);f.R7$(2),f.JRh(Gt.propertyName),f.R7$(2),f.Y8G("ngIf",ct.hasValue(Gt.previous)),f.R7$(),f.Y8G("ngIf",!ct.hasValue(Gt.previous)),f.R7$(2),f.Y8G("ngIf",ct.hasValue(Gt.new)),f.R7$(),f.Y8G("ngIf",!ct.hasValue(Gt.new))}}function Te(Tt,Rn){if(1&Tt&&(f.j41(0,"div",52)(1,"h4",53),f.EFF(2),f.nI1(3,"beautifyPropertyName"),f.k0s(),f.j41(4,"table",40)(5,"thead")(6,"tr")(7,"th"),f.EFF(8),f.nI1(9,"translate"),f.k0s(),f.j41(10,"th",41),f.EFF(11),f.nI1(12,"translate"),f.k0s(),f.j41(13,"th",41),f.EFF(14),f.nI1(15,"translate"),f.k0s()()(),f.j41(16,"tbody"),f.DNE(17,Je,9,5,"tr",42),f.k0s()()()),2&Tt){const Gt=Rn.$implicit;f.R7$(2),f.SpI(" ",f.bMT(3,5,Gt.identifier)," "),f.R7$(6),f.JRh(f.bMT(9,7,"Clients.Import.Wizard.Summary.Conflicts.Key")),f.R7$(3),f.JRh(f.bMT(12,9,"Clients.Import.Wizard.Summary.Conflicts.OldValue")),f.R7$(3),f.JRh(f.bMT(15,11,"Clients.Import.Wizard.Summary.Conflicts.NewValue")),f.R7$(3),f.Y8G("ngForOf",null==Gt?null:Gt.conflicts)}}function we(Tt,Rn){if(1&Tt&&(f.j41(0,"div",50),f.DNE(1,Te,18,13,"div",51),f.k0s()),2&Tt){const Gt=f.XpG();f.R7$(),f.Y8G("ngForOf",Gt.clientKeyValueConflicts)}}function he(Tt,Rn){if(1&Tt&&(f.j41(0,"span",47),f.EFF(1),f.k0s()),2&Tt){const Gt=f.XpG().$implicit;f.R7$(),f.SpI(" ",Gt.previous," ")}}function Le(Tt,Rn){1&Tt&&(f.j41(0,"i",48),f.EFF(1),f.nI1(2,"translate"),f.k0s()),2&Tt&&(f.R7$(),f.SpI(" ",f.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.NoValue")," "))}function Ae(Tt,Rn){if(1&Tt&&(f.j41(0,"span",49),f.EFF(1),f.k0s()),2&Tt){const Gt=f.XpG().$implicit;f.R7$(),f.SpI(" ",Gt.new," ")}}function st(Tt,Rn){1&Tt&&(f.j41(0,"i",48),f.EFF(1),f.nI1(2,"translate"),f.k0s()),2&Tt&&(f.R7$(),f.SpI(" ",f.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.Deleted")," "))}function Fe(Tt,Rn){if(1&Tt){const Gt=f.RV6();f.j41(0,"tr",43),f.bIt("change",function(){f.eBV(Gt);const yt=f.XpG(3);return f.Njj(yt.setupTableHeadings())}),f.j41(1,"td"),f.EFF(2),f.nI1(3,"beautifyPropertyName"),f.k0s(),f.j41(4,"td"),f.DNE(5,he,2,1,"span",44)(6,Le,3,3,"i",45),f.k0s(),f.j41(7,"td"),f.DNE(8,Ae,2,1,"span",46)(9,st,3,3,"i",45),f.k0s()()}if(2&Tt){const Gt=Rn.$implicit,ct=f.XpG(3);f.R7$(2),f.JRh(f.bMT(3,5,Gt.propertyName)),f.R7$(3),f.Y8G("ngIf",ct.hasValue(Gt.previous)),f.R7$(),f.Y8G("ngIf",!ct.hasValue(Gt.previous)),f.R7$(2),f.Y8G("ngIf",ct.hasValue(Gt.new)),f.R7$(),f.Y8G("ngIf",!ct.hasValue(Gt.new))}}function ft(Tt,Rn){if(1&Tt&&(f.j41(0,"div",52)(1,"h4",53),f.EFF(2),f.nI1(3,"beautifyPropertyName"),f.k0s(),f.j41(4,"table",40)(5,"thead")(6,"tr")(7,"th"),f.EFF(8),f.nI1(9,"translate"),f.k0s(),f.j41(10,"th",41),f.EFF(11),f.nI1(12,"translate"),f.k0s(),f.j41(13,"th",41),f.EFF(14),f.nI1(15,"translate"),f.k0s()()(),f.j41(16,"tbody"),f.DNE(17,Fe,10,7,"tr",42),f.k0s()()()),2&Tt){const Gt=Rn.$implicit;f.R7$(2),f.SpI(" ",f.bMT(3,5,Gt.identifier)," "),f.R7$(6),f.JRh(f.bMT(9,7,"Clients.Import.Wizard.Summary.Conflicts.Property")),f.R7$(3),f.JRh(f.bMT(12,9,"Clients.Import.Wizard.Summary.Conflicts.OldValue")),f.R7$(3),f.JRh(f.bMT(15,11,"Clients.Import.Wizard.Summary.Conflicts.NewValue")),f.R7$(3),f.Y8G("ngForOf",null==Gt?null:Gt.conflicts)}}function Ye(Tt,Rn){if(1&Tt&&(f.j41(0,"div",54)(1,"h3",55),f.EFF(2),f.nI1(3,"translate"),f.k0s(),f.DNE(4,ft,18,13,"div",51),f.k0s()),2&Tt){const Gt=f.XpG();f.R7$(2),f.SpI(" ",f.bMT(3,2,"Clients.Import.Wizard.Summary.Conflicts.ConflictedScopes")," "),f.R7$(2),f.Y8G("ngForOf",Gt.scopeConflicts)}}function zt(Tt,Rn){if(1&Tt&&(f.j41(0,"td"),f.EFF(1),f.nI1(2,"beautifyPropertyName"),f.k0s()),2&Tt){const Gt=f.XpG().$implicit;f.R7$(),f.JRh(f.bMT(2,1,Gt.propertyName))}}function Lt(Tt,Rn){if(1&Tt&&(f.j41(0,"td"),f.EFF(1),f.k0s()),2&Tt){const Gt=f.XpG().$implicit;f.R7$(),f.JRh(Gt.propertyName)}}function Et(Tt,Rn){if(1&Tt&&(f.j41(0,"dl",60)(1,"dt",61),f.EFF(2),f.nI1(3,"translate"),f.k0s(),f.j41(4,"dd",62),f.EFF(5),f.k0s(),f.j41(6,"dt",61),f.EFF(7),f.nI1(8,"translate"),f.k0s(),f.j41(9,"dd",62),f.EFF(10),f.k0s(),f.j41(11,"dt",61),f.EFF(12),f.nI1(13,"translate"),f.k0s(),f.j41(14,"dd",47),f.EFF(15),f.k0s()()),2&Tt){const Gt=f.XpG(2).$implicit;f.R7$(2),f.SpI("",f.bMT(3,6,"Common.URL"),":"),f.R7$(3),f.JRh(Gt.previous.location),f.R7$(2),f.SpI("",f.bMT(8,8,"Clients.Saml.BindingType"),":"),f.R7$(3),f.JRh(Gt.previous.binding),f.R7$(2),f.SpI("",f.bMT(13,10,"Clients.Saml.Index"),":"),f.R7$(3),f.JRh(Gt.previous.index)}}function _t(Tt,Rn){1&Tt&&(f.j41(0,"dl")(1,"i",48),f.EFF(2),f.nI1(3,"translate"),f.k0s()()),2&Tt&&(f.R7$(2),f.SpI(" ",f.bMT(3,1,"Clients.Import.Wizard.Summary.Conflicts.NoValue")," "))}function J(Tt,Rn){if(1&Tt&&(f.j41(0,"dl",60)(1,"dt",61),f.EFF(2),f.nI1(3,"translate"),f.k0s(),f.j41(4,"dd",63),f.EFF(5),f.k0s(),f.j41(6,"dt",61),f.EFF(7),f.nI1(8,"translate"),f.k0s(),f.j41(9,"dd",63),f.EFF(10),f.k0s(),f.j41(11,"dt",61),f.EFF(12),f.nI1(13,"translate"),f.k0s(),f.j41(14,"dd",49),f.EFF(15),f.k0s()()),2&Tt){const Gt=f.XpG(2).$implicit;f.R7$(2),f.SpI("",f.bMT(3,6,"Common.URL"),":"),f.R7$(3),f.JRh(Gt.new.location),f.R7$(2),f.SpI("",f.bMT(8,8,"Clients.Saml.BindingType"),":"),f.R7$(3),f.JRh(Gt.new.binding),f.R7$(2),f.SpI("",f.bMT(13,10,"Clients.Saml.Index"),":"),f.R7$(3),f.JRh(Gt.new.index)}}function X(Tt,Rn){1&Tt&&(f.j41(0,"dl")(1,"i",48),f.EFF(2),f.nI1(3,"translate"),f.k0s()()),2&Tt&&(f.R7$(2),f.SpI(" ",f.bMT(3,1,"Clients.Import.Wizard.Summary.Conflicts.Deleted")," "))}function q(Tt,Rn){if(1&Tt&&(f.qex(0),f.j41(1,"td"),f.DNE(2,Et,16,12,"dl",59)(3,_t,4,3,"dl",57),f.k0s(),f.j41(4,"td"),f.DNE(5,J,16,12,"dl",59)(6,X,4,3,"dl",57),f.k0s(),f.bVm()),2&Tt){const Gt=f.XpG().$implicit,ct=f.XpG(3);f.R7$(2),f.Y8G("ngIf",ct.hasValue(Gt.previous)),f.R7$(),f.Y8G("ngIf",!ct.hasValue(Gt.previous)),f.R7$(2),f.Y8G("ngIf",ct.hasValue(Gt.new)),f.R7$(),f.Y8G("ngIf",!ct.hasValue(Gt.new))}}function Se(Tt,Rn){if(1&Tt&&(f.j41(0,"span",47),f.EFF(1),f.k0s()),2&Tt){const Gt=f.XpG(2).$implicit;f.R7$(),f.SpI(" ",Gt.previous," ")}}function Ee(Tt,Rn){1&Tt&&(f.j41(0,"i",48),f.EFF(1),f.nI1(2,"translate"),f.k0s()),2&Tt&&(f.R7$(),f.SpI(" ",f.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.NoValue")," "))}function lt(Tt,Rn){if(1&Tt&&(f.j41(0,"span",49),f.EFF(1),f.k0s()),2&Tt){const Gt=f.XpG(2).$implicit;f.R7$(),f.SpI(" ",Gt.new," ")}}function Ue(Tt,Rn){1&Tt&&(f.j41(0,"i",48),f.EFF(1),f.nI1(2,"translate"),f.k0s()),2&Tt&&(f.R7$(),f.SpI(" ",f.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.Deleted")," "))}function at(Tt,Rn){if(1&Tt&&(f.j41(0,"td",64),f.DNE(1,Se,2,1,"span",44)(2,Ee,3,3,"i",45),f.k0s(),f.j41(3,"td",64),f.DNE(4,lt,2,1,"span",46)(5,Ue,3,3,"i",45),f.k0s()),2&Tt){const Gt=f.XpG().$implicit,ct=f.XpG(3);f.R7$(),f.Y8G("ngIf",ct.hasValue(Gt.previous)),f.R7$(),f.Y8G("ngIf",!ct.hasValue(Gt.previous)),f.R7$(2),f.Y8G("ngIf",ct.hasValue(Gt.new)),f.R7$(),f.Y8G("ngIf",!ct.hasValue(Gt.new))}}function Ot(Tt,Rn){if(1&Tt){const Gt=f.RV6();f.j41(0,"tr",43),f.bIt("change",function(){f.eBV(Gt);const yt=f.XpG(3);return f.Njj(yt.setupTableHeadings())}),f.DNE(1,zt,3,3,"td",57)(2,Lt,2,1,"td",57)(3,q,7,4,"ng-container",58)(4,at,6,4,"ng-template",null,0,f.C5r),f.k0s()}if(2&Tt){const Gt=f.sdS(5),ct=f.XpG().$implicit,yt=f.XpG(2);f.R7$(),f.Y8G("ngIf",ct.identifier!=yt.summaryConflictsConstants.ClaimMappingsKey),f.R7$(),f.Y8G("ngIf",ct.identifier==yt.summaryConflictsConstants.ClaimMappingsKey),f.R7$(),f.Y8G("ngIf",ct.identifier==yt.summaryConflictsConstants.sloProperty||ct.identifier==yt.summaryConflictsConstants.acsProperty)("ngIfElse",Gt)}}function pt(Tt,Rn){if(1&Tt&&(f.j41(0,"div",52)(1,"h4",53),f.EFF(2),f.nI1(3,"beautifyPropertyName"),f.k0s(),f.j41(4,"table",40)(5,"thead")(6,"tr")(7,"th"),f.EFF(8),f.nI1(9,"translate"),f.k0s(),f.j41(10,"th",41),f.EFF(11),f.nI1(12,"translate"),f.k0s(),f.j41(13,"th",41),f.EFF(14),f.nI1(15,"translate"),f.k0s()()(),f.j41(16,"tbody"),f.DNE(17,Ot,6,4,"tr",42),f.k0s()()()),2&Tt){const Gt=Rn.$implicit;f.R7$(2),f.SpI(" ",f.bMT(3,5,Gt.identifier)," "),f.R7$(6),f.JRh(f.bMT(9,7,"Clients.Import.Wizard.Summary.Conflicts.Property")),f.R7$(3),f.JRh(f.bMT(12,9,"Clients.Import.Wizard.Summary.Conflicts.OldValue")),f.R7$(3),f.JRh(f.bMT(15,11,"Clients.Import.Wizard.Summary.Conflicts.NewValue")),f.R7$(3),f.Y8G("ngForOf",null==Gt?null:Gt.conflicts)}}function it(Tt,Rn){if(1&Tt&&(f.j41(0,"div",56)(1,"h3",55),f.EFF(2),f.nI1(3,"translate"),f.k0s(),f.DNE(4,pt,18,13,"div",51),f.k0s()),2&Tt){const Gt=f.XpG();f.R7$(2),f.SpI(" ",f.bMT(3,2,"Clients.Import.Wizard.Summary.Conflicts.ConflictedServiceProvider")," "),f.R7$(2),f.Y8G("ngForOf",Gt.serviceProviderConflicts)}}function Ht(Tt,Rn){if(1&Tt&&(f.j41(0,"td"),f.EFF(1),f.nI1(2,"beautifyPropertyName"),f.k0s()),2&Tt){const Gt=f.XpG().$implicit;f.R7$(),f.JRh(f.bMT(2,1,Gt.propertyName))}}function en(Tt,Rn){if(1&Tt&&(f.j41(0,"td"),f.EFF(1),f.k0s()),2&Tt){const Gt=f.XpG().$implicit;f.R7$(),f.JRh(Gt.propertyName)}}function rt(Tt,Rn){if(1&Tt&&(f.j41(0,"span",47),f.EFF(1),f.k0s()),2&Tt){const Gt=f.XpG().$implicit;f.R7$(),f.SpI(" ",Gt.previous," ")}}function Nt(Tt,Rn){1&Tt&&(f.j41(0,"i",48),f.EFF(1),f.nI1(2,"translate"),f.k0s()),2&Tt&&(f.R7$(),f.SpI(" ",f.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.NoValue")," "))}function ve(Tt,Rn){if(1&Tt&&(f.j41(0,"span",49),f.EFF(1),f.k0s()),2&Tt){const Gt=f.XpG().$implicit;f.R7$(),f.SpI(" ",Gt.new," ")}}function ae(Tt,Rn){1&Tt&&(f.j41(0,"i",48),f.EFF(1),f.nI1(2,"translate"),f.k0s()),2&Tt&&(f.R7$(),f.SpI(" ",f.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.Deleted")," "))}function j(Tt,Rn){if(1&Tt){const Gt=f.RV6();f.j41(0,"tr",43),f.bIt("change",function(){f.eBV(Gt);const yt=f.XpG(3);return f.Njj(yt.setupTableHeadings())}),f.DNE(1,Ht,3,3,"td",57)(2,en,2,1,"td",57),f.j41(3,"td",64),f.DNE(4,rt,2,1,"span",44)(5,Nt,3,3,"i",45),f.k0s(),f.j41(6,"td",64),f.DNE(7,ve,2,1,"span",46)(8,ae,3,3,"i",45),f.k0s()()}if(2&Tt){const Gt=Rn.$implicit,ct=f.XpG().$implicit,yt=f.XpG(2);f.R7$(),f.Y8G("ngIf",ct.identifier!=yt.summaryConflictsConstants.ClaimMappingsIdentifier),f.R7$(),f.Y8G("ngIf",ct.identifier==yt.summaryConflictsConstants.ClaimMappingsIdentifier),f.R7$(2),f.Y8G("ngIf",yt.hasValue(Gt.previous)),f.R7$(),f.Y8G("ngIf",!yt.hasValue(Gt.previous)),f.R7$(2),f.Y8G("ngIf",yt.hasValue(Gt.new)),f.R7$(),f.Y8G("ngIf",!yt.hasValue(Gt.new))}}function se(Tt,Rn){if(1&Tt&&(f.j41(0,"div",52)(1,"h4",53),f.EFF(2),f.nI1(3,"beautifyPropertyName"),f.k0s(),f.j41(4,"table",40)(5,"thead")(6,"tr")(7,"th"),f.EFF(8),f.nI1(9,"translate"),f.k0s(),f.j41(10,"th",41),f.EFF(11),f.nI1(12,"translate"),f.k0s(),f.j41(13,"th",41),f.EFF(14),f.nI1(15,"translate"),f.k0s()()(),f.j41(16,"tbody"),f.DNE(17,j,9,6,"tr",42),f.k0s()()()),2&Tt){const Gt=Rn.$implicit;f.R7$(2),f.SpI(" ",f.bMT(3,5,Gt.identifier)," "),f.R7$(6),f.JRh(f.bMT(9,7,"Clients.Import.Wizard.Summary.Conflicts.Property")),f.R7$(3),f.JRh(f.bMT(12,9,"Clients.Import.Wizard.Summary.Conflicts.OldValue")),f.R7$(3),f.JRh(f.bMT(15,11,"Clients.Import.Wizard.Summary.Conflicts.NewValue")),f.R7$(3),f.Y8G("ngForOf",null==Gt?null:Gt.conflicts)}}function Be(Tt,Rn){if(1&Tt&&(f.j41(0,"div",65)(1,"h3",55),f.EFF(2),f.nI1(3,"translate"),f.k0s(),f.DNE(4,se,18,13,"div",51),f.k0s()),2&Tt){const Gt=f.XpG();f.R7$(2),f.SpI(" ",f.bMT(3,2,"Clients.Import.Wizard.Summary.Conflicts.ConflictedRelyingParty")," "),f.R7$(2),f.Y8G("ngForOf",Gt.relyingPartyConflicts)}}let qe=(()=>{class Tt extends S.P{set data(Gt){const ct=JSON.parse(JSON.stringify(Gt));this.resource=ct,this.summaryDisplayType=g.n.getSummaryDisplayType(ct.resourceType),this.setupLinkedClients(ct),this.resource.resourceType===i.ot.ClaimType&&(this.fieldConflicts=this.resource.conflicts.find(yt=>yt.identifier===v.ClaimTypes)),this.resource.resourceType===i.ot.IdentityResource&&(this.fieldConflicts=this.resource.conflicts.find(yt=>yt.identifier===v.IdentityResources)),this.resource.resourceType===i.ot.Client&&(this.initClient(),this.resource.displayType===v.SamlDisplayType?this.initServiceProvider():this.resource.displayType===v.WsFedDisplayType&&this.initRelyingParty()),this.resource.resourceType===i.ot.ProtectedResource&&(this.fieldConflicts=this.resource.conflicts.find(yt=>yt.identifier===v.ProtectedResources),this.initScopeConflicts())}constructor(Gt,ct,yt){super(),this.importWizardService=Gt,this.translate=ct,this.localizeRouterService=yt,this.clientKeyValueConflicts=[],this.scopeConflicts=[],this.serviceProviderConflicts=[],this.relyingPartyConflicts=[],this.summaryConflictsConstants=v}accept(){this.importWizardController.stepModified=!0,this.summaryDisplayType===g.n.client&&this.importWizardService.selectResource(this.resource),this.back()}decline(){this.importWizardController.stepModified=!0,this.openModal(e.M.summaryConflictsConfirmation,this.resource)}setupLinkedClients(Gt){null!==Gt.dependantClients&&0!==Gt.dependantClients.length?(this.displayLinkedClients=!0,this.linkedNewClients=this.sortDependentClients(Gt.dependantClients.filter(ct=>ct.state===i.XF.Importing)),this.linkedExistingClients=this.sortDependentClients(Gt.dependantClients.filter(ct=>ct.state===i.XF.Existing)),this.displayLinkedClientsDropdown=this.linkedExistingClients.length>0&&this.linkedExistingClients.length<8&&this.linkedNewClients.length<8):this.displayLinkedClients=!1}sortDependentClients(Gt){return Gt.sort((ct,yt)=>ct.displayName.localeCompare(yt.displayName))}buildHref(Gt){return this.localizeRouterService.translateRoute(`/clients/${Gt}`)}toggleDisplayLinkedClientsDropdown(){this.displayLinkedClientsDropdown=!this.displayLinkedClientsDropdown}hasValue(Gt){return!(null==Gt||(0,_.gP)(Gt.toString()))}initClient(){const Gt=this.resource.conflicts.find(mt=>mt.identifier===v.Client),ct=this.resource.conflicts.find(mt=>mt.identifier===v.ClaimsProperty),yt=this.resource.conflicts.find(mt=>mt.identifier===v.PropertiesProperty);Gt&&(this.fieldConflicts=Gt),ct&&this.clientKeyValueConflicts.push(ct),yt&&this.clientKeyValueConflicts.push(yt)}initRelyingParty(){const Gt=this.resource.conflicts.find(yt=>yt.identifier===v.RelyingPartyProperty),ct=this.resource.conflicts.find(yt=>yt.identifier===v.ClaimMappingsKey);Gt&&this.relyingPartyConflicts.push(Gt),ct&&this.relyingPartyConflicts.push(ct)}initServiceProvider(){const Gt=this.resource.conflicts.find(xt=>xt.identifier===v.ServiceProviderProperty),ct=this.resource.conflicts.find(xt=>xt.identifier===v.ClaimMappingsKey),yt=this.resource.conflicts.find(xt=>xt.identifier===v.acsProperty),mt=this.resource.conflicts.find(xt=>xt.identifier===v.sloProperty);Gt&&this.serviceProviderConflicts.push(Gt),ct&&this.serviceProviderConflicts.push(ct),yt&&this.serviceProviderConflicts.push(yt),mt&&this.serviceProviderConflicts.push(mt)}initScopeConflicts(){const Gt=this.resource.conflicts.filter(ct=>ct.identifier!==v.ProtectedResources);void 0!==Gt&&(Gt.forEach(ct=>{const yt=ct.conflicts.find(mt=>mt.propertyName===v.UserClaimsProperty);yt&&(yt.new=yt.new.join(", "),yt.previous=yt.previous.join(", "))}),this.scopeConflicts=Gt)}static{this.\u0275fac=function(ct){return new(ct||Tt)(f.rXU(d.o),f.rXU(E.c$),f.rXU(m.QG))}}static{this.\u0275cmp=f.VBU({type:Tt,selectors:[["app-import-summary-conflicts"]],viewQuery:function(ct,yt){if(1&ct&&f.GBs(C,7),2&ct){let mt;f.mGM(mt=f.lsd())&&(yt.importSummaryConflictsModal=mt.first)}},features:[f.Vt3],decls:30,vars:22,consts:[["normalConflicts",""],[1,"modal-body"],[1,"tw-mb-4"],[1,"tw-font-semibold","tw-mr-2"],[1,"cms"],["class","tw-alert tw-mb-6",3,"tw-alert-warning",4,"ngIf"],["class","tw-mb-6 last:tw-mb-0",4,"ngIf"],["id","clientKeyValueConflictsSection",4,"ngIf"],["id","scopeConflictsSection",4,"ngIf"],["id","serviceProviderConflictsSection",4,"ngIf"],["id","relyingPartyConflictsSection",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],[1,"tw-btn-success","tw-mr-3",3,"click"],[1,"tw-btn-danger",3,"click"],[1,"tw-btn-link","tw--mr-4",3,"click"],[1,"tw-alert","tw-mb-6"],[1,"tw-w-full"],[1,"tw-flex","tw-items-center","tw-font-semibold","tw-text-left","tw-w-full",3,"click"],["aria-hidden","true",1,"tw-ml-auto"],["class","fas fa-caret-up fa-fw",4,"ngIf"],["class","fas fa-caret-down fa-fw",4,"ngIf"],["class","tw-pt-2 tw-pb-1",4,"ngIf"],[1,"fas","fa-caret-up","fa-fw"],[1,"fas","fa-caret-down","fa-fw"],[1,"tw-pt-2","tw-pb-1"],["class","tw-flex tw-mb-1 last:tw-mb-0",4,"ngIf"],["id","existingClients","class","tw-flex tw-text-red-500",4,"ngIf"],[1,"tw-flex","tw-mb-1","last:tw-mb-0"],[1,"tw-shrink-0","tw-mr-2","tw-font-semibold","tw-w-20"],[1,"tw-flex","tw-flex-wrap"],["class","tw-inline-flex tw-mr-2",4,"ngFor","ngForOf"],[1,"tw-inline-flex","tw-mr-2"],["aria-hidden","true",4,"ngIf"],["aria-hidden","true"],["id","existingClients",1,"tw-flex","tw-text-red-500"],["target","_blank",1,"tw-text-red-500","tw-font-normal","tw-underline","hover:tw-text-red-500","hover:tw-no-underline",3,"href"],[1,"tw-mb-6","last:tw-mb-0"],[1,"datatable"],[1,"md:tw-w-1/3","lg:tw-w-2/5"],[3,"change",4,"ngFor","ngForOf"],[3,"change"],["class","tw-text-red-500",4,"ngIf"],["class","tw-text-grey-600",4,"ngIf"],["class","tw-text-green-500",4,"ngIf"],[1,"tw-text-red-500"],[1,"tw-text-grey-600"],[1,"tw-text-green-500"],["id","clientKeyValueConflictsSection"],["class","tw-mb-5 last:tw-mb-0",4,"ngFor","ngForOf"],[1,"tw-mb-5","last:tw-mb-0"],[1,"tw-font-semibold","tw-text-sm","tw-mb-4","tw-px-3"],["id","scopeConflictsSection"],[1,"tw-border-b","tw-border-grey-200","tw-mb-4","tw-pb-2","tw-font-semibold","md:tw-flex","md:tw-items-center","ng-star-inserted"],["id","serviceProviderConflictsSection"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["class","tw-text-grey-700",4,"ngIf"],[1,"tw-text-grey-700"],[1,"tw-font-normal"],[1,"tw-text-red-500","tw-mb-1"],[1,"tw-text-green-500","tw-mb-1"],[1,"tw-max-w-0","wrap-words"],["id","relyingPartyConflictsSection"]],template:function(ct,yt){1&ct&&(f.j41(0,"div",1)(1,"h2",2)(2,"span",3),f.EFF(3),f.nI1(4,"translate"),f.k0s(),f.j41(5,"span"),f.EFF(6),f.k0s()(),f.j41(7,"div",4)(8,"p"),f.EFF(9),f.nI1(10,"translate"),f.k0s()(),f.DNE(11,le,10,8,"div",5)(12,Y,15,10,"div",6)(13,we,2,1,"div",7)(14,Ye,5,4,"div",8)(15,it,5,4,"div",9)(16,Be,5,4,"div",10),f.k0s(),f.nrm(17,"div",11),f.j41(18,"div",12)(19,"div",13)(20,"div",14)(21,"button",15),f.bIt("click",function(){return yt.accept()}),f.EFF(22),f.nI1(23,"translate"),f.k0s(),f.j41(24,"button",16),f.bIt("click",function(){return yt.decline()}),f.EFF(25),f.nI1(26,"translate"),f.k0s()(),f.j41(27,"button",17),f.bIt("click",function(){return yt.back()}),f.EFF(28),f.nI1(29,"translate"),f.k0s()()()),2&ct&&(f.R7$(3),f.SpI("",f.bMT(4,12,"Clients.Import.Wizard.Summary.Identifier."+yt.summaryDisplayType),":"),f.R7$(3),f.JRh(null==yt.resource?null:yt.resource.displayName),f.R7$(3),f.JRh(f.bMT(10,14,"Clients.Import.Wizard.Summary.Conflicts.ConfirmationText."+yt.summaryDisplayType)),f.R7$(2),f.Y8G("ngIf",yt.displayLinkedClients),f.R7$(),f.Y8G("ngIf",yt.fieldConflicts&&yt.fieldConflicts.conflicts.length>0),f.R7$(),f.Y8G("ngIf",yt.clientKeyValueConflicts.length>0),f.R7$(),f.Y8G("ngIf",yt.scopeConflicts.length>0),f.R7$(),f.Y8G("ngIf",yt.serviceProviderConflicts.length>0),f.R7$(),f.Y8G("ngIf",yt.relyingPartyConflicts.length>0),f.R7$(6),f.JRh(f.bMT(23,16,"Clients.Import.Wizard.Summary.Conflicts.Accept")),f.R7$(3),f.JRh(f.bMT(26,18,"Clients.Import.Wizard.Summary.Conflicts.Decline")),f.R7$(3),f.JRh(f.bMT(29,20,"Clients.Import.Wizard.Summary.Conflicts.Cancel")))},dependencies:[F.Sq,F.bT,E.D9,w],encapsulation:2})}}return Tt})()},7728:(et,me,u)=>{"use strict";u.d(me,{z:()=>te});var i=u(1744),e=u(4414),_=u(590),g=u(6799),S=u(4438),v=u(5826),f=u(1780),d=u(177),E=u(9417);const m=I=>({"inactive disabled tw-opacity-50 tw-pointer-events-none":I});function F(I,oe){if(1&I){const Y=S.RV6();S.j41(0,"th",21)(1,"label",22)(2,"input",23),S.mxI("ngModelChange",function(Oe){S.eBV(Y);const Re=S.XpG();return S.DH7(Re.allSelected,Oe)||(Re.allSelected=Oe),S.Njj(Oe)}),S.bIt("change",function(){S.eBV(Y);const Oe=S.XpG();return S.Njj(Oe.toggleAllSelected())}),S.k0s()()()}if(2&I){const Y=S.XpG();S.R7$(2),S.R50("ngModel",Y.allSelected)}}function w(I,oe){if(1&I&&(S.j41(0,"th",24),S.EFF(1),S.nI1(2,"translate"),S.k0s()),2&I){const Y=S.XpG();S.R7$(),S.JRh(S.bMT(2,1,"Clients.Import.Wizard.Summary.Identifier."+Y.summaryDisplayType))}}function C(I,oe){1&I&&(S.j41(0,"th",25),S.EFF(1),S.nI1(2,"translate"),S.k0s()),2&I&&(S.R7$(),S.SpI("",S.bMT(2,1,"Nav.Clients")," *"))}function R(I,oe){if(1&I){const Y=S.RV6();S.j41(0,"label",22)(1,"input",23),S.nI1(2,"translate"),S.mxI("ngModelChange",function(Oe){S.eBV(Y);const Re=S.XpG(2).$implicit;return S.DH7(Re.selected,Oe)||(Re.selected=Oe),S.Njj(Oe)}),S.bIt("change",function(){S.eBV(Y);const Oe=S.XpG(3);return S.Njj(Oe.selectionChanged())}),S.k0s()()}if(2&I){const Y=S.XpG(2).$implicit;S.R7$(),S.R50("ngModel",Y.selected),S.BMQ("aria-label",S.bMT(2,2,"Common.Add"))}}function k(I,oe){if(1&I&&(S.j41(0,"td",21),S.DNE(1,R,3,4,"label",32),S.k0s()),2&I){const Y=S.XpG().$implicit;S.R7$(),S.Y8G("ngIf",Y.isSelectable)}}function O(I,oe){if(1&I){const Y=S.RV6();S.j41(0,"td",33),S.bIt("click",function(){S.eBV(Y);const Oe=S.XpG().$implicit,Re=S.XpG();return S.Njj(Re.toggle(Oe))}),S.EFF(1),S.k0s()}if(2&I){const Y=S.XpG().$implicit;S.Y8G("title",Y.identifier),S.R7$(),S.SpI(" ",Y.identifier," ")}}function H(I,oe){if(1&I&&(S.j41(0,"td",34),S.EFF(1),S.k0s()),2&I){const Y=S.XpG().$implicit,_e=S.XpG();S.R7$(),S.SpI(" ",_e.displayLinkedClients(Y)," ")}}function x(I,oe){1&I&&S.nrm(0,"span",40)}function $(I,oe){if(1&I){const Y=S.RV6();S.qex(0),S.j41(1,"td",35),S.bIt("click",function(Oe){S.eBV(Y);const Re=S.XpG().$implicit,xe=S.XpG();return S.Njj(xe.viewConflicts(Oe,Re))}),S.DNE(2,x,1,0,"span",36),S.k0s(),S.j41(3,"td",37),S.bIt("click",function(Oe){S.eBV(Y);const Re=S.XpG().$implicit,xe=S.XpG();return S.Njj(xe.viewConflicts(Oe,Re))}),S.j41(4,"button",38),S.bIt("click",function(Oe){S.eBV(Y);const Re=S.XpG().$implicit,xe=S.XpG();return S.Njj(xe.viewConflicts(Oe,Re))}),S.j41(5,"span",39),S.EFF(6),S.k0s()()(),S.bVm()}if(2&I){const Y=S.XpG().$implicit,_e=S.XpG();S.R7$(2),S.Y8G("ngIf",Y.resourceState==_e.resourceStates.Conflicted),S.R7$(4),S.JRh(_e.getConflicts(Y))}}function U(I,oe){1&I&&S.nrm(0,"span",45)}function G(I,oe){1&I&&S.nrm(0,"span",46)}function ie(I,oe){1&I&&S.nrm(0,"span",40)}function le(I,oe){if(1&I){const Y=S.RV6();S.qex(0),S.j41(1,"td",41),S.bIt("click",function(){S.eBV(Y);const Oe=S.XpG().$implicit,Re=S.XpG();return S.Njj(Re.toggle(Oe))}),S.DNE(2,U,1,0,"span",42)(3,G,1,0,"span",43)(4,ie,1,0,"span",36),S.k0s(),S.j41(5,"td",44),S.bIt("click",function(){S.eBV(Y);const Oe=S.XpG().$implicit,Re=S.XpG();return S.Njj(Re.toggle(Oe))}),S.j41(6,"span",39),S.EFF(7),S.k0s()(),S.bVm()}if(2&I){const Y=S.XpG().$implicit,_e=S.XpG();S.R7$(2),S.Y8G("ngIf",Y.resourceState==_e.resourceStates.New),S.R7$(),S.Y8G("ngIf",Y.resourceState==_e.resourceStates.Duplicate),S.R7$(),S.Y8G("ngIf",Y.conflictedByDependencies),S.R7$(2),S.AVh("tw-italic",!Y.isSelectable),S.R7$(),S.SpI(" ",_e.getResourceState(Y)," ")}}function L(I,oe){if(1&I){const Y=S.RV6();S.j41(0,"tr",26),S.DNE(1,k,2,1,"td",3),S.j41(2,"td",27),S.bIt("click",function(){const Oe=S.eBV(Y).$implicit,Re=S.XpG();return S.Njj(Re.toggle(Oe))}),S.j41(3,"b"),S.EFF(4),S.k0s()(),S.DNE(5,O,2,2,"td",28),S.j41(6,"td",29),S.bIt("click",function(){const Oe=S.eBV(Y).$implicit,Re=S.XpG();return S.Njj(Re.toggle(Oe))}),S.EFF(7),S.nI1(8,"translate"),S.k0s(),S.DNE(9,H,2,1,"td",30)(10,$,7,2,"ng-container",31)(11,le,8,6,"ng-container",31),S.k0s()}if(2&I){const Y=oe.$implicit,_e=S.XpG();S.Y8G("ngClass",S.eq3(11,m,Y.resourceState===_e.resourceStates.Duplicate)),S.R7$(),S.Y8G("ngIf",_e.showSelectAll()),S.R7$(),S.Y8G("title",Y.displayName),S.R7$(2),S.JRh(Y.displayName),S.R7$(),S.Y8G("ngIf","ClaimType"!==_e.summaryDisplayType),S.R7$(2),S.SpI(" ",S.bMT(8,9,"Clients.Import.Wizard.Summary.ResourceTypes."+Y.displayType)," "),S.R7$(2),S.Y8G("ngIf","Client"!==_e.summaryDisplayType),S.R7$(),S.Y8G("ngIf",Y.resourceState===_e.resourceStates.Conflicted&&!Y.conflictedByDependencies),S.R7$(),S.Y8G("ngIf",Y.resourceState!==_e.resourceStates.Conflicted||Y.conflictedByDependencies)}}function Q(I,oe){1&I&&(S.j41(0,"p",47),S.EFF(1),S.nI1(2,"translate"),S.k0s()),2&I&&(S.R7$(),S.SpI(" * ",S.bMT(2,1,"Clients.Import.Wizard.Summary.ClientsHelp")," "))}let te=(()=>{class I extends g.P{get data(){return this._importResourceType}set data(Y){this._importResourceType=Y}constructor(Y,_e){super(),this.importWizardService=Y,this.translate=_e,this.resourceStates=i.jD,this.nextImport=!1}ngOnInit(){this.summaryDisplayType=_.n.getSummaryDisplayType(this.data[0]),this.importWizardService.cache.subscribe(Y=>{Y.every(Oe=>Oe.resourceType===i.ot.Client)&&(this.nextImport=!0);let _e=Y.filter(Oe=>this.data.includes(Oe.resourceType));if(!this.data.includes(i.ot.Client)){const Oe=Y.filter(Re=>Re.resourceType===i.ot.Client&&!0===Re.selected).map(Re=>Re.identifier);_e=_e.filter(Re=>Re.dependantClients.map(xe=>xe.identifier).some(xe=>Oe.includes(xe)))}if(1===this.data.length&&this.data.includes(i.ot.Client)){const Oe=_e.filter(xe=>xe.resourceState===i.jD.Duplicate),Re=Y.filter(xe=>xe.resourceType!==i.ot.Client&&xe.dependantClients.length>0&&xe.resourceState===i.jD.Conflicted);Oe.forEach(xe=>{Re.filter(Te=>Te.dependantClients.some(we=>we.identifier===xe.identifier)).length>0&&(xe.resourceState=i.jD.Conflicted,xe.selected=!0,xe.conflictedByDependencies=!0)})}this.displayData=this.importWizardController.sortImportResources(_e),this.checkAllSelected()})}getNextText(){return this.translate.instant(this.nextImport?"Clients.Import.Import":"Common.Next")}canNext(){return this.displayData.some(Y=>Y.selected)||this.displayData.every(Y=>!1===Y.isSelectable)&&this.summaryDisplayType!==_.n.client}goNext(){this.importWizardController.stepModified?(this.summaryDisplayType===_.n.client&&this.importWizardService.updateSelectedClients(this.displayData.filter(Y=>Y.selected)),this.next()):this.importWizardController.goToFinalSummary()}goBack(){this.importWizardController.stepModified=!0,this.back()}selectionChanged(){this.importWizardController.stepModified=!0,this.checkAllSelected()}checkAllSelected(){this.allSelected=this.displayData.filter(Y=>Y.resourceState!==this.resourceStates.Duplicate).every(Y=>!0===Y.selected)}toggle(Y){Y.isSelectable&&(Y.selected=!Y.selected,this.selectionChanged())}toggleAllSelected(){this.displayData.forEach(Y=>Y.selected=this.allSelected),this.selectionChanged()}getConflicts(Y){let Oe,_e=0;return Y.conflicts.forEach(Re=>{_e+=Re.conflicts.length}),Oe=this.translate.instant(1===_e?"Clients.Import.Wizard.Summary.Change":"Clients.Import.Wizard.Summary.Changes"),_e+" "+Oe}viewConflicts(Y,_e){Y.stopPropagation(),this.openModal(e.M.summaryConflicts,_e)}showSelectAll(){return this.displayData.some(Y=>Y.isSelectable)&&!this.displayData.every(Y=>Y.resourceState===i.jD.Duplicate)}displayLinkedClients(Y){return null===Y.dependantClients||0===Y.dependantClients.length?"-":Y.dependantClients.length.toString()}getResourceState(Y){return Y.conflictedByDependencies?this.translate.instant("Clients.Import.Wizard.Summary.DependencyConflicts"):this.resourceStates[Y.resourceState]}static{this.\u0275fac=function(_e){return new(_e||I)(S.rXU(v.o),S.rXU(f.c$))}}static{this.\u0275cmp=S.VBU({type:I,selectors:[["app-import-summary"]],features:[S.Vt3],decls:37,vars:27,consts:[[1,"modal-body"],[1,"cms"],[1,"datatable","hover"],["class","toggle tw-w-1",4,"ngIf"],[1,"md:tw-w-1/3","lg:tw-w-1/4"],["class","tw-hidden sm:tw-table-cell md:tw-w-1/3",4,"ngIf"],[1,"tw-hidden","lg:tw-table-cell"],["class","tw-hidden tw-text-center lg:tw-table-cell",4,"ngIf"],["aria-hidden","true",1,"tw-hidden","tw-w-1","xs:tw-table-cell"],[1,"tw-w-1"],[1,"sr-only"],["id","resourceTable"],[3,"ngClass",4,"ngFor","ngForOf"],["class","tw-text-xs tw-text-grey-700 tw-px-3 tw-py-2",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],["id","backBtn",1,"tw-btn",3,"click"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],[1,"toggle","tw-w-1"],[1,"toggle-label"],["type","checkbox",1,"tw-block","tw-cursor-pointer",3,"ngModelChange","change","ngModel"],[1,"tw-hidden","sm:tw-table-cell","md:tw-w-1/3"],[1,"tw-hidden","tw-text-center","lg:tw-table-cell"],[3,"ngClass"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell",3,"click","title"],["class","tw-hidden tw-max-w-1 tw-truncate sm:tw-table-cell",3,"title","click",4,"ngIf"],[1,"tw-hidden","lg:tw-table-cell","tw-truncate",3,"click"],["class","tw-text-center",4,"ngIf"],[4,"ngIf"],["class","toggle-label",4,"ngIf"],[1,"tw-hidden","tw-max-w-1","tw-truncate","sm:tw-table-cell",3,"click","title"],[1,"tw-text-center"],["aria-hidden","true","data-toggle","modal","data-target","#displayConflictsModal",1,"tw-hidden","tw-cursor-pointer","tw-text-right","xs:tw-table-cell",3,"click"],["class","fas fa-exclamation-triangle tw-text-orange-500 tw--mr-3",4,"ngIf"],["data-toggle","modal","data-target","#displayConflictsModal",1,"tw-cursor-pointer",3,"click"],["data-toggle","modal","data-target","#displayConflictsModal",1,"tw-font-semibold","tw-text-blue-500",3,"click"],[1,"tw-whitespace-nowrap"],[1,"fas","fa-exclamation-triangle","tw-text-orange-500","tw--mr-3"],["aria-hidden","true",1,"tw-hidden","tw-cursor-pointer","tw-text-right","xs:tw-table-cell",3,"click"],["class","fas fa-check tw-text-green-500 tw--mr-3",4,"ngIf"],["class","far fa-copy tw--mr-3",4,"ngIf"],[3,"click"],[1,"fas","fa-check","tw-text-green-500","tw--mr-3"],[1,"far","fa-copy","tw--mr-3"],[1,"tw-text-xs","tw-text-grey-700","tw-px-3","tw-py-2"]],template:function(_e,Oe){1&_e&&(S.j41(0,"div",0)(1,"div",1)(2,"p"),S.EFF(3),S.nI1(4,"translate"),S.k0s()(),S.j41(5,"table",2)(6,"thead")(7,"tr"),S.DNE(8,F,3,1,"th",3),S.j41(9,"th",4),S.EFF(10),S.nI1(11,"translate"),S.k0s(),S.DNE(12,w,3,3,"th",5),S.j41(13,"th",6),S.EFF(14),S.nI1(15,"translate"),S.k0s(),S.DNE(16,C,3,3,"th",7),S.nrm(17,"td",8),S.j41(18,"th",9)(19,"span",10),S.EFF(20),S.nI1(21,"translate"),S.k0s()()()(),S.j41(22,"tbody",11),S.DNE(23,L,12,13,"tr",12),S.k0s()(),S.DNE(24,Q,3,3,"p",13),S.k0s(),S.nrm(25,"div",14),S.j41(26,"div",15)(27,"div",16)(28,"div",17)(29,"button",18),S.bIt("click",function(){return Oe.goNext()}),S.EFF(30),S.k0s(),S.j41(31,"button",19),S.bIt("click",function(){return Oe.goBack()}),S.EFF(32),S.nI1(33,"translate"),S.k0s()(),S.j41(34,"button",20),S.bIt("click",function(){return Oe.cancel()}),S.EFF(35),S.nI1(36,"translate"),S.k0s()()()),2&_e&&(S.R7$(3),S.JRh(S.bMT(4,15,"Clients.Import.Wizard.Summary.Intro."+Oe.summaryDisplayType)),S.R7$(2),S.AVh("selectable",Oe.showSelectAll()),S.R7$(3),S.Y8G("ngIf",Oe.showSelectAll()),S.R7$(2),S.JRh(S.bMT(11,17,"Clients.Import.Wizard.Summary.Name."+Oe.summaryDisplayType)),S.R7$(2),S.Y8G("ngIf","ClaimType"!==Oe.summaryDisplayType),S.R7$(2),S.JRh(S.bMT(15,19,"Clients.Import.Wizard.Summary.Type."+Oe.summaryDisplayType)),S.R7$(2),S.Y8G("ngIf","Client"!==Oe.summaryDisplayType),S.R7$(4),S.JRh(S.bMT(21,21,"Common.Status")),S.R7$(3),S.Y8G("ngForOf",Oe.displayData),S.R7$(),S.Y8G("ngIf","Client"!==Oe.summaryDisplayType),S.R7$(5),S.Y8G("disabled",!Oe.canNext()),S.R7$(),S.JRh(Oe.getNextText()),S.R7$(2),S.JRh(S.bMT(33,23,"Common.Back")),S.R7$(3),S.JRh(S.bMT(36,25,"Common.Cancel")))},dependencies:[d.YU,d.Sq,d.bT,E.Zm,E.BC,E.vS,f.D9],encapsulation:2})}}return I})()},6799:(et,me,u)=>{"use strict";u.d(me,{P:()=>i});class i{constructor(){this.isWarningModal=!1,this.hideProgressBar=!1}get data(){return this._data}set data(_){this._data=_}next(){this.importWizardController.goToNextStep()}back(){this.importWizardController.goToPreviousStep()}cancel(){this.importWizardController.cancel()}openModal(_,g){this.importWizardController.insertAndOpenStep(_,g)}quit(){this.importWizardController.quit()}reset(){this.importWizardController.reset()}}},7301:(et,me,u)=>{"use strict";u.d(me,{l:()=>ft});var i=u(1594),e=u(1410),_=u(9988),g=u(4438),S=u(3853),v=u(9417),f=u(177),d=u(8698),E=u(2552),m=u(1780);function F(Ye,zt){if(1&Ye&&(g.j41(0,"option",17),g.EFF(1),g.nI1(2,"translate"),g.k0s()),2&Ye){const Lt=zt.$implicit;g.Y8G("value",Lt),g.R7$(),g.JRh(g.bMT(2,2,"Clients.WizardTypes."+Lt))}}function w(Ye,zt){if(1&Ye){const Lt=g.RV6();g.j41(0,"form",12)(1,"app-form-row",13)(2,"div",14)(3,"select",15,0),g.bIt("change",function(){g.eBV(Lt);const _t=g.sdS(4),J=g.XpG(2);return g.Njj(J.setActive(_t.value))}),g.DNE(5,F,3,4,"option",16),g.k0s()()()()}if(2&Ye){const Lt=g.XpG(2);g.Y8G("formGroup",Lt.webAppSelectForm),g.R7$(),g.Y8G("id","webAppFlow")("label","Clients.WizardTypes.WebAppSelection")("isLast",!0),g.R7$(4),g.Y8G("ngForOf",Lt.webAppTypes)}}function C(Ye,zt){if(1&Ye&&(g.j41(0,"option",17),g.EFF(1),g.nI1(2,"translate"),g.k0s()),2&Ye){const Lt=zt.$implicit;g.Y8G("value",Lt),g.R7$(),g.JRh(g.bMT(2,2,"Clients.WizardTypes."+Lt))}}function R(Ye,zt){if(1&Ye){const Lt=g.RV6();g.j41(0,"form",18)(1,"app-form-row",13)(2,"div",14)(3,"select",19,1),g.bIt("change",function(){g.eBV(Lt);const _t=g.sdS(4),J=g.XpG(2);return g.Njj(J.setActive(_t.value))}),g.DNE(5,C,3,4,"option",16),g.k0s()()()()}if(2&Ye){const Lt=g.XpG(2);g.Y8G("formGroup",Lt.robotAppSelectForm),g.R7$(),g.Y8G("id","robotAppFlow")("label","Clients.WizardTypes.WebAppSelection")("isLast",!0),g.R7$(4),g.Y8G("ngForOf",Lt.robotAppTypes)}}function k(Ye,zt){if(1&Ye&&(g.j41(0,"option",17),g.EFF(1),g.nI1(2,"translate"),g.k0s()),2&Ye){const Lt=zt.$implicit;g.Y8G("value",Lt),g.R7$(),g.JRh(g.bMT(2,2,"Clients.WizardTypes."+Lt))}}function O(Ye,zt){if(1&Ye){const Lt=g.RV6();g.j41(0,"form",20)(1,"app-form-row",13)(2,"div",14)(3,"select",21,2),g.bIt("change",function(){g.eBV(Lt);const _t=g.sdS(4),J=g.XpG(2);return g.Njj(J.setActive(_t.value))}),g.DNE(5,k,3,4,"option",16),g.k0s()()()()}if(2&Ye){const Lt=g.XpG(2);g.Y8G("formGroup",Lt.nativeAppSelectForm),g.R7$(),g.Y8G("id","nativeAppFlow")("label","Clients.WizardTypes.WebAppSelection")("isLast",!0),g.R7$(4),g.Y8G("ngForOf",Lt.nativeAppTypes)}}function H(Ye,zt){if(1&Ye&&g.DNE(0,w,6,5,"form",9)(1,R,6,5,"form",10)(2,O,6,5,"form",11),2&Ye){const Lt=g.XpG();g.Y8G("ngIf",!Lt.isStarterMode&&(Lt.activeType===Lt.wizardTypes.WebApplication||Lt.activeType===Lt.wizardTypes.PKCEWebApplication)),g.R7$(),g.Y8G("ngIf",Lt.activeType===Lt.wizardTypes.RobotApplication||Lt.activeType===Lt.wizardTypes.CIBARobotApplication),g.R7$(),g.Y8G("ngIf",!Lt.isStarterMode&&(Lt.activeType===Lt.wizardTypes.NativeApplication||Lt.activeType===Lt.wizardTypes.PKCENativeApplication))}}function x(Ye,zt){1&Ye&&(g.j41(0,"span"),g.EFF(1),g.nI1(2,"translate"),g.k0s()),2&Ye&&(g.R7$(),g.JRh(g.bMT(2,1,"Clients.Home.Title")))}function $(Ye,zt){1&Ye&&(g.j41(0,"span"),g.EFF(1),g.nI1(2,"translate"),g.k0s()),2&Ye&&(g.R7$(),g.JRh(g.bMT(2,1,"Clients.SPA.Title")))}function U(Ye,zt){1&Ye&&(g.j41(0,"span"),g.EFF(1),g.nI1(2,"translate"),g.k0s()),2&Ye&&(g.R7$(),g.JRh(g.bMT(2,1,"Clients.WebApp.Title")))}function G(Ye,zt){1&Ye&&(g.j41(0,"span"),g.EFF(1),g.nI1(2,"translate"),g.k0s()),2&Ye&&(g.R7$(),g.JRh(g.bMT(2,1,"Clients.PKCEWebApp.Title")))}function ie(Ye,zt){1&Ye&&(g.j41(0,"span"),g.EFF(1),g.nI1(2,"translate"),g.k0s()),2&Ye&&(g.R7$(),g.JRh(g.bMT(2,1,"Clients.NativeApp.Title")))}function le(Ye,zt){1&Ye&&(g.j41(0,"span"),g.EFF(1),g.nI1(2,"translate"),g.k0s()),2&Ye&&(g.R7$(),g.JRh(g.bMT(2,1,"Clients.PKCENativeApp.Title")))}function L(Ye,zt){1&Ye&&(g.j41(0,"span"),g.EFF(1),g.nI1(2,"translate"),g.k0s()),2&Ye&&(g.R7$(),g.JRh(g.bMT(2,1,"Clients.MachineToMachine.Title")))}function Q(Ye,zt){1&Ye&&(g.j41(0,"span"),g.EFF(1),g.nI1(2,"translate"),g.k0s()),2&Ye&&(g.R7$(),g.JRh(g.bMT(2,1,"Clients.CIBAMachineToMachine.Title")))}function te(Ye,zt){1&Ye&&(g.j41(0,"span"),g.EFF(1),g.nI1(2,"translate"),g.k0s()),2&Ye&&(g.R7$(),g.JRh(g.bMT(2,1,"Clients.DeviceFlow.Title")))}function I(Ye,zt){1&Ye&&(g.j41(0,"span"),g.EFF(1),g.nI1(2,"translate"),g.k0s()),2&Ye&&(g.R7$(),g.JRh(g.bMT(2,1,"Clients.Saml.Title")))}function oe(Ye,zt){1&Ye&&(g.j41(0,"span"),g.EFF(1),g.nI1(2,"translate"),g.k0s()),2&Ye&&(g.R7$(),g.JRh(g.bMT(2,1,"Clients.WsFed.Title")))}function Y(Ye,zt){1&Ye&&(g.j41(0,"span"),g.EFF(1),g.nI1(2,"translate"),g.k0s()),2&Ye&&(g.R7$(),g.JRh(g.bMT(2,1,"Clients.LegacySPA.Title")))}function _e(Ye,zt){1&Ye&&(g.nrm(0,"p",4),g.nI1(1,"translate")),2&Ye&&g.Y8G("innerHTML",g.bMT(1,1,"Clients.Home.Description"),g.npT)}function Oe(Ye,zt){1&Ye&&(g.nrm(0,"p",4),g.nI1(1,"translate")),2&Ye&&g.Y8G("innerHTML",g.bMT(1,1,"Clients.SPA.Description"),g.npT)}function Re(Ye,zt){1&Ye&&(g.nrm(0,"p",4),g.nI1(1,"translate")),2&Ye&&g.Y8G("innerHTML",g.bMT(1,1,"Clients.WebApp.Description"),g.npT)}function xe(Ye,zt){1&Ye&&(g.nrm(0,"p",4),g.nI1(1,"translate")),2&Ye&&g.Y8G("innerHTML",g.bMT(1,1,"Clients.PKCEWebApp.Description"),g.npT)}function Je(Ye,zt){1&Ye&&(g.nrm(0,"p",4),g.nI1(1,"translate")),2&Ye&&g.Y8G("innerHTML",g.bMT(1,1,"Clients.NativeApp.Description"),g.npT)}function Te(Ye,zt){1&Ye&&(g.nrm(0,"p",4),g.nI1(1,"translate")),2&Ye&&g.Y8G("innerHTML",g.bMT(1,1,"Clients.PKCENativeApp.Description"),g.npT)}function we(Ye,zt){1&Ye&&(g.nrm(0,"p",4),g.nI1(1,"translate")),2&Ye&&g.Y8G("innerHTML",g.bMT(1,1,"Clients.MachineToMachine.Description"),g.npT)}function he(Ye,zt){1&Ye&&(g.nrm(0,"p",4),g.nI1(1,"translate")),2&Ye&&g.Y8G("innerHTML",g.bMT(1,1,"Clients.CIBAMachineToMachine.Description"),g.npT)}function Le(Ye,zt){1&Ye&&(g.nrm(0,"p",4),g.nI1(1,"translate")),2&Ye&&g.Y8G("innerHTML",g.bMT(1,1,"Clients.DeviceFlow.Description"),g.npT)}function Ae(Ye,zt){1&Ye&&(g.nrm(0,"p",4),g.nI1(1,"translate")),2&Ye&&g.Y8G("innerHTML",g.bMT(1,1,"Clients.Saml.Description"),g.npT)}function st(Ye,zt){1&Ye&&(g.nrm(0,"p",4),g.nI1(1,"translate")),2&Ye&&g.Y8G("innerHTML",g.bMT(1,1,"Clients.WsFed.Description"),g.npT)}function Fe(Ye,zt){1&Ye&&(g.nrm(0,"p",4),g.nI1(1,"translate")),2&Ye&&g.Y8G("innerHTML",g.bMT(1,1,"Clients.LegacySPA.Description"),g.npT)}let ft=(()=>{class Ye{get isDuende(){return this.data===e.y.Duende}constructor(Lt,Et){this.licenseService=Lt,this.fb=Et,this.wizardTypes=_.$,this.activeType=_.$.SinglePageApplication,this.webAppTypes=[_.$.PKCEWebApplication,_.$.WebApplication],this.robotAppTypes=[_.$.RobotApplication,_.$.CIBARobotApplication],this.nativeAppTypes=[_.$.PKCENativeApplication,_.$.NativeApplication],this.starterModeProtectedSetups=[_.$.WebApplication,_.$.PKCEWebApplication,_.$.PKCENativeApplication,_.$.NativeApplication,_.$.DeviceApplication,_.$.SamlApplication,_.$.WsFedApplication,_.$.LegacySinglePageApplication]}hosted(){}ngOnInit(){this.licenseService.getLicenseInfo().pipe((0,i.$)()).subscribe(Lt=>{this.isStarterMode=Lt.isStarterLicense()})}getStepSummary(){return new Map}getStepDTO(){return{}}canNext(){return!this.isStarterMode||!this.starterModeProtectedType()}selectedType(){return this.activeType}onNext(){throw new Error("Method not implemented.")}buildOptionsArray(){var Lt=[{id:"spaBtn",btnId:"spaTestBtn",title:"Clients.SPA.Title",summary:"Clients.SPA.Summary",icon:"fab fa-chrome",type:_.$.SinglePageApplication,selectedTypes:[_.$.SinglePageApplication],starterMode:!0},{id:"webAppBtn",btnId:"webAppTestBtn",title:"Clients.WebApp.Title",summary:"Clients.WebApp.Summary",icon:"fas fa-globe",type:_.$.PKCEWebApplication,selectedTypes:[_.$.WebApplication,_.$.PKCEWebApplication],starterMode:!1},{id:"nativeBtn",btnId:"nativeTestBtn",title:"Clients.NativeApp.Title",summary:"Clients.PKCENativeApp.Summary",icon:"fas fa-mobile-alt",type:_.$.PKCENativeApplication,selectedTypes:[_.$.NativeApplication,_.$.PKCENativeApplication],starterMode:!1},{id:"robotBtn",btnId:"robotTestBtn",title:"Clients.MachineToMachine.Title",summary:"Clients.MachineToMachine.Summary",icon:"fas fa-microchip",type:_.$.RobotApplication,selectedTypes:[_.$.RobotApplication,_.$.CIBARobotApplication],starterMode:!0},{id:"deviceBtn",btnId:"deviceTestBtn",title:"Clients.DeviceFlow.Title",summary:"Clients.DeviceFlow.Summary",icon:"fas fa-wifi",type:_.$.DeviceApplication,selectedTypes:[_.$.DeviceApplication],starterMode:!1},{id:"samlBtn",btnId:"samlTestBtn",title:"Clients.Saml.Title",summary:"Clients.Saml.Summary",icon:"fas fa-code",type:_.$.SamlApplication,selectedTypes:[_.$.SamlApplication],starterMode:!1},{id:"legacySpaBtn",btnId:"legacySpaTestBtn",title:"Clients.LegacySPA.Title",summary:"Clients.LegacySPA.Summary",icon:"fab fa-chrome",type:_.$.LegacySinglePageApplication,selectedTypes:[_.$.LegacySinglePageApplication],starterMode:!1}];return this.isDuende&&Lt.push({id:"wsfedBtn",btnId:"wsfedTestBtn",title:"Clients.WsFed.Title",summary:"Clients.WsFed.Summary",icon:"far fa-id-card",type:_.$.WsFedApplication,selectedTypes:[_.$.WsFedApplication],starterMode:!1}),Lt}setActive(Lt){this.activeType=Lt,this.setWebAppSelection(Lt),this.setRobotAppSelection(Lt),this.setNativeAppSelection(Lt)}starterModeProtectedType(){return this.starterModeProtectedSetups.includes(this.activeType)}setWebAppSelection(Lt){(Lt===_.$.WebApplication||Lt===_.$.PKCEWebApplication)&&(this.webAppSelectForm=this.fb.group({webAppSelection:Lt}))}setRobotAppSelection(Lt){this.isDuende&&(Lt===_.$.RobotApplication||Lt===_.$.CIBARobotApplication)&&(this.robotAppSelectForm=this.fb.group({robotAppSelection:Lt}))}setNativeAppSelection(Lt){(Lt===_.$.NativeApplication||Lt===_.$.PKCENativeApplication)&&(this.nativeAppSelectForm=this.fb.group({nativeAppSelection:Lt}))}static{this.\u0275fac=function(Et){return new(Et||Ye)(g.rXU(S.X),g.rXU(v.ze))}}static{this.\u0275cmp=g.VBU({type:Ye,selectors:[["app-client-type-select"]],inputs:{data:"data"},decls:32,vars:9,consts:[["webAppSelection",""],["robotAppSelection",""],["nativeAppSelection",""],[1,"cms","tw-mb-6"],[3,"innerHTML"],["id","clientTypeSelector",3,"select","activeType","isStarterMode","options"],[1,"tw-border-t","tw-border-grey-300","tw-text-grey-700","tw-text-sm","tw-mt-6","tw-pt-5"],[1,"tw-text-sm","tw-font-semibold","tw-text-primary-500","tw-mb-2"],["aria-hidden","true",1,"fas","fa-info-circle","tw-w-5"],["id","webAppSelectionForm","class","tw-mt-5",3,"formGroup",4,"ngIf"],["id","robotSelectionForm","class","tw-mt-5",3,"formGroup",4,"ngIf"],["id","nativeSelectionFrom","class","tw-mt-5",3,"formGroup",4,"ngIf"],["id","webAppSelectionForm",1,"tw-mt-5",3,"formGroup"],[3,"id","label","isLast"],[1,"tw-form-select"],["id","webAppFlow","formControlName","webAppSelection",1,"tw-form-control",3,"change"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["id","robotSelectionForm",1,"tw-mt-5",3,"formGroup"],["id","robotAppFlow","formControlName","robotAppSelection",1,"tw-form-control",3,"change"],["id","nativeSelectionFrom",1,"tw-mt-5",3,"formGroup"],["id","nativeAppFlow","formControlName","nativeAppSelection",1,"tw-form-control",3,"change"]],template:function(Et,_t){if(1&Et&&(g.j41(0,"div",3),g.nrm(1,"p",4),g.nI1(2,"translate"),g.k0s(),g.j41(3,"app-type-selector",5),g.bIt("select",function(X){return _t.setActive(X)}),g.k0s(),g.DNE(4,H,3,3),g.j41(5,"div",6)(6,"h2",7),g.nrm(7,"span",8),g.DNE(8,x,3,3)(9,$,3,3)(10,U,3,3)(11,G,3,3)(12,ie,3,3)(13,le,3,3)(14,L,3,3)(15,Q,3,3)(16,te,3,3)(17,I,3,3)(18,oe,3,3)(19,Y,3,3),g.k0s(),g.DNE(20,_e,2,3)(21,Oe,2,3)(22,Re,2,3)(23,xe,2,3)(24,Je,2,3)(25,Te,2,3)(26,we,2,3)(27,he,2,3)(28,Le,2,3)(29,Ae,2,3)(30,st,2,3)(31,Fe,2,3),g.k0s()),2&Et){let J,X;g.R7$(),g.Y8G("innerHTML",g.bMT(2,7,"Clients.Home.Description"),g.npT),g.R7$(2),g.Y8G("activeType",_t.activeType)("isStarterMode",_t.isStarterMode)("options",_t.buildOptionsArray()),g.R7$(),g.vxM(4,_t.isDuende?4:-1),g.R7$(4),g.vxM(8,(J=_t.activeType)===_t.wizardTypes.Home?8:J===_t.wizardTypes.SinglePageApplication?9:J===_t.wizardTypes.WebApplication?10:J===_t.wizardTypes.PKCEWebApplication?11:J===_t.wizardTypes.NativeApplication?12:J===_t.wizardTypes.PKCENativeApplication?13:J===_t.wizardTypes.RobotApplication?14:J===_t.wizardTypes.CIBARobotApplication?15:J===_t.wizardTypes.DeviceApplication?16:J===_t.wizardTypes.SamlApplication?17:J===_t.wizardTypes.WsFedApplication?18:J===_t.wizardTypes.LegacySinglePageApplication?19:-1),g.R7$(12),g.vxM(20,(X=_t.activeType)===_t.wizardTypes.Home?20:X===_t.wizardTypes.SinglePageApplication?21:X===_t.wizardTypes.WebApplication?22:X===_t.wizardTypes.PKCEWebApplication?23:X===_t.wizardTypes.NativeApplication?24:X===_t.wizardTypes.PKCENativeApplication?25:X===_t.wizardTypes.RobotApplication?26:X===_t.wizardTypes.CIBARobotApplication?27:X===_t.wizardTypes.DeviceApplication?28:X===_t.wizardTypes.SamlApplication?29:X===_t.wizardTypes.WsFedApplication?30:X===_t.wizardTypes.LegacySinglePageApplication?31:-1)}},dependencies:[f.Sq,f.bT,v.qT,v.xH,v.y7,v.wz,v.BC,v.cb,v.j4,v.JD,d.Y,E.N,m.D9],encapsulation:2})}}return Ye})()},5313:(et,me,u)=>{"use strict";u.d(me,{w:()=>C});var i=u(9417),e=u(4438),_=u(177),g=u(8698),S=u(1780);function v(k,O){1&k&&(e.j41(0,"p"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&k&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.SloEndpoints")))}function f(k,O){1&k&&(e.j41(0,"p"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&k&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.AcsEndpoints")))}function d(k,O){1&k&&(e.j41(0,"p"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&k&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.ArsEndpoints")))}function E(k,O){1&k&&(e.j41(0,"option",13),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&k&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.Post")))}function m(k,O){1&k&&(e.j41(0,"option",14),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&k&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.Redirect")))}function F(k,O){1&k&&(e.j41(0,"option",15),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&k&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.Artifact")))}function w(k,O){1&k&&(e.j41(0,"option",16),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&k&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.Soap")))}let C=(()=>{class k{constructor(H){this.fb=H}hosted(){}ngOnInit(){const H=[i.k0.pattern("^https?://.*$")],x=[];"ACSEndpoint"===this.data.endpointType&&(H.push(i.k0.required),x.push(i.k0.required)),this.endpointForm=this.fb.group({location:["",H],index:[0,[i.k0.min(0),i.k0.max(99)]],binding:["ARSEndpoint"===this.data.endpointType?"urn:oasis:names:tc:SAML:2.0:bindings:SOAP":"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST",x]}),this.registerBindingValidation()}ngOnDestroy(){void 0!==this.valueChangesSub&&this.valueChangesSub.unsubscribe()}registerBindingValidation(){const H=this.endpointForm.get("location"),x=this.endpointForm.get("binding");this.valueChangesSub=H.valueChanges.subscribe($=>{x.setValidators($.length>0?i.k0.required:null),x.updateValueAndValidity()})}getStepSummary(){if(""!==this.endpointForm.get("location").value)return new Map([[this.data.endpointType,[`${this.endpointForm.get("location").value} - ${this.endpointForm.get("index").value} - ${this.endpointForm.get("binding").value}`]]])}getStepDTO(){if(""!==this.endpointForm.get("location").value){let H,x;switch(this.data.endpointType){case"SLOEndpoint":H="SLOBindingType",x="SLOEndpointIndex";break;case"ACSEndpoint":H="ACSBindingType",x="ACSEndpointIndex";break;default:H="ARSBindingType",x="ARSEndpointIndex"}const $=null==this.endpointForm.get("index").value?0:this.endpointForm.get("index").value;return{[this.data.endpointType]:this.endpointForm.get("location").value,[H]:this.endpointForm.get("binding").value,[x]:$}}}canNext(){return this.endpointForm.valid}static{this.\u0275fac=function(x){return new(x||k)(e.rXU(i.ze))}}static{this.\u0275cmp=e.VBU({type:k,selectors:[["app-endpoints"]],decls:16,vars:18,consts:[[1,"cms","tw-mb-6"],[4,"ngIf"],[3,"formGroup"],[3,"id","label","help"],["id","EndpointUrl","type","url","name","EndpointUrl","formControlName","location",1,"tw-form-control"],[1,"tw-form-select"],["id","EndpointBinding","formControlName","binding",1,"tw-form-control"],["value","urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST",4,"ngIf"],["value","urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect",4,"ngIf"],["value","urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Artifact",4,"ngIf"],["value","urn:oasis:names:tc:SAML:2.0:bindings:SOAP",4,"ngIf"],[3,"id","label","help","isLast"],["id","EndpointIndex","type","number","name","EndpointIndex","min","0","formControlName","index",1,"tw-form-control","tw-max-w-48"],["value","urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST"],["value","urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect"],["value","urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Artifact"],["value","urn:oasis:names:tc:SAML:2.0:bindings:SOAP"]],template:function(x,$){1&x&&(e.j41(0,"div",0),e.DNE(1,v,3,3,"p",1)(2,f,3,3,"p",1)(3,d,3,3,"p",1),e.k0s(),e.j41(4,"form",2)(5,"app-form-row",3),e.nrm(6,"input",4),e.k0s(),e.j41(7,"app-form-row",3)(8,"div",5)(9,"select",6),e.DNE(10,E,3,3,"option",7)(11,m,3,3,"option",8)(12,F,3,3,"option",9)(13,w,3,3,"option",10),e.k0s()()(),e.j41(14,"app-form-row",11),e.nrm(15,"input",12),e.k0s()()),2&x&&(e.R7$(),e.Y8G("ngIf","SLOEndpoint"==$.data.endpointType),e.R7$(),e.Y8G("ngIf","ACSEndpoint"==$.data.endpointType),e.R7$(),e.Y8G("ngIf","ARSEndpoint"==$.data.endpointType),e.R7$(),e.Y8G("formGroup",$.endpointForm),e.R7$(),e.Y8G("id","EndpointUrl")("label","Clients.Endpoint")("help","SLOEndpoint"==$.data.endpointType?"Clients.SloEndpointHelp":"ACSEndpoint"==$.data.endpointType?"Clients.AcsEndpointHelp":"Clients.ArsEndpointHelp"),e.R7$(2),e.Y8G("id","EndpointBinding")("label","Clients.BindingType")("help","Clients.BindingTypeHelp"),e.R7$(3),e.Y8G("ngIf","ARSEndpoint"!=$.data.endpointType),e.R7$(),e.Y8G("ngIf","ARSEndpoint"!=$.data.endpointType),e.R7$(),e.Y8G("ngIf","ARSEndpoint"!=$.data.endpointType),e.R7$(),e.Y8G("ngIf","ARSEndpoint"==$.data.endpointType),e.R7$(),e.Y8G("id","EndpointIndex")("label","Clients.Saml.Index")("help","Clients.IndexHelp")("isLast",!0))},dependencies:[_.bT,i.qT,i.xH,i.y7,i.me,i.Q0,i.wz,i.BC,i.cb,i.VZ,i.j4,i.JD,g.Y,S.D9],encapsulation:2})}}return k})()},2653:(et,me,u)=>{"use strict";u.d(me,{f:()=>e});var i=u(4438);let e=(()=>{class _{constructor(){this.assignedIdentityResources=[],this.assignedProtectedResources=[]}static{this.\u0275fac=function(v){return new(v||_)}}static{this.\u0275prov=i.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})()},9947:(et,me,u)=>{"use strict";u.d(me,{a:()=>G});var i=u(9417),e=u(177),_=u(1780),g=u(8400),S=u(1683),v=u(4179),f=u(2571),d=u(5826),E=u(7175),m=u(5847),F=u(779),w=u(534),C=u(6193),R=u(75),k=u(8389),O=u(2653),H=u(7677),x=u(5667),$=u(3843),U=u(4438);let G=(()=>{class ie{static{this.\u0275fac=function(Q){return new(Q||ie)}}static{this.\u0275mod=U.$C({type:ie})}static{this.\u0275inj=U.G2t({providers:[O.f,d.o,m.a,C.V],imports:[e.MD,i.YN,i.X1,g.qP,_.h,w.Ss,S.Y,F.Q_,v.z,f.A,E.c,R.U,k.w,H.N,x.g,$.G]})}}return ie})()},316:(et,me,u)=>{"use strict";function i(e){const _=e.value;if(null==_)return{validEmail:!1};if(_.indexOf(" ")>-1)return{validEmail:!1};let g=!1;for(let S=0;S<_.length;S++)if("@"===e.value[S]){if(g||0===S||S===_.length-1)return{validEmail:!1};g=!0}return g?null:{validEmail:!1}}u.d(me,{D:()=>i})},1251:(et,me,u)=>{"use strict";var i=u(345),e=u(4438),g=u(9417),S=u(1626),v=u(9969);function d(s){return new e.wOt(3e3,!1)}function Lt(s){switch(s.length){case 0:return new v.sf;case 1:return s[0];default:return new v.ui(s)}}function Et(s,p,n=new Map,a=new Map){const l=[],D=[];let ee=-1,De=null;if(p.forEach(Ze=>{const gt=Ze.get("offset"),Vt=gt==ee,ln=Vt&&De||new Map;Ze.forEach((Cn,In)=>{let Fn=In,On=Cn;if("offset"!==In)switch(Fn=s.normalizePropertyName(Fn,l),On){case v.FX:On=n.get(In);break;case v.kp:On=a.get(In);break;default:On=s.normalizeStyleValue(In,Fn,On,l)}ln.set(Fn,On)}),Vt||D.push(ln),De=ln,ee=gt}),l.length)throw function Re(s){return new e.wOt(3502,!1)}();return D}function _t(s,p,n,a){switch(p){case"start":s.onStart(()=>a(n&&J(n,"start",s)));break;case"done":s.onDone(()=>a(n&&J(n,"done",s)));break;case"destroy":s.onDestroy(()=>a(n&&J(n,"destroy",s)))}}function J(s,p,n){const D=X(s.element,s.triggerName,s.fromState,s.toState,p||s.phaseName,n.totalTime??s.totalTime,!!n.disabled),ee=s._data;return null!=ee&&(D._data=ee),D}function X(s,p,n,a,l="",D=0,ee){return{element:s,triggerName:p,fromState:n,toState:a,phaseName:l,totalTime:D,disabled:!!ee}}function q(s,p,n){let a=s.get(p);return a||s.set(p,a=n),a}function Se(s){const p=s.indexOf(":");return[s.substring(1,p),s.slice(p+1)]}const Ee=typeof document>"u"?null:document.documentElement;function lt(s){const p=s.parentNode||s.host||null;return p===Ee?null:p}let at=null,Ot=!1;function en(s,p){for(;p;){if(p===s)return!0;p=lt(p)}return!1}function rt(s,p,n){if(n)return Array.from(s.querySelectorAll(p));const a=s.querySelector(p);return a?[a]:[]}let ve=(()=>{class s{validateStyleProperty(n){return function pt(s){at||(at=function Ht(){return typeof document<"u"?document.body:null}()||{},Ot=!!at.style&&"WebkitAppearance"in at.style);let p=!0;return at.style&&!function Ue(s){return"ebkit"==s.substring(1,6)}(s)&&(p=s in at.style,!p&&Ot&&(p="Webkit"+s.charAt(0).toUpperCase()+s.slice(1)in at.style)),p}(n)}matchesElement(n,a){return!1}containsElement(n,a){return en(n,a)}getParentElement(n){return lt(n)}query(n,a,l){return rt(n,a,l)}computeStyle(n,a,l){return l||""}animate(n,a,l,D,ee,De=[],Ze){return new v.sf(l,D)}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac})}}return s})();class ae{static{this.NOOP=new ve}}class j{}const Be=1e3,Ft="ng-enter",on="ng-leave",un="ng-trigger",Mn=".ng-trigger",kn="ng-animating",Bn=".ng-animating";function Tt(s){if("number"==typeof s)return s;const p=s.match(/^(-?[\.\d]+)(m?s)/);return!p||p.length<2?0:Rn(parseFloat(p[1]),p[2])}function Rn(s,p){return"s"===p?s*Be:s}function Gt(s,p,n){return s.hasOwnProperty("duration")?s:function ct(s,p,n){let l,D=0,ee="";if("string"==typeof s){const De=s.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===De)return p.push(d()),{duration:0,delay:0,easing:""};l=Rn(parseFloat(De[1]),De[2]);const Ze=De[3];null!=Ze&&(D=Rn(parseFloat(Ze),De[4]));const gt=De[5];gt&&(ee=gt)}else l=s;if(!n){let De=!1,Ze=p.length;l<0&&(p.push(function E(){return new e.wOt(3100,!1)}()),De=!0),D<0&&(p.push(function m(){return new e.wOt(3101,!1)}()),De=!0),De&&p.splice(Ze,0,d())}return{duration:l,delay:D,easing:ee}}(s,p,n)}function xt(s,p,n){p.forEach((a,l)=>{const D=dt(l);n&&!n.has(l)&&n.set(l,s.style[D]),s.style[D]=a})}function tn(s,p){p.forEach((n,a)=>{const l=dt(a);s.style[l]=""})}function Sn(s){return Array.isArray(s)?1==s.length?s[0]:(0,v.K2)(s):s}const cn=new RegExp("{{\\s*(.+?)\\s*}}","g");function di(s){let p=[];if("string"==typeof s){let n;for(;n=cn.exec(s);)p.push(n[1]);cn.lastIndex=0}return p}function li(s,p,n){const a=`${s}`,l=a.replace(cn,(D,ee)=>{let De=p[ee];return null==De&&(n.push(function w(s){return new e.wOt(3003,!1)}()),De=""),De.toString()});return l==a?s:l}const At=/-+([a-z0-9])/g;function dt(s){return s.replace(At,(...p)=>p[1].toUpperCase())}function vn(s,p,n){switch(p.type){case v.If.Trigger:return s.visitTrigger(p,n);case v.If.State:return s.visitState(p,n);case v.If.Transition:return s.visitTransition(p,n);case v.If.Sequence:return s.visitSequence(p,n);case v.If.Group:return s.visitGroup(p,n);case v.If.Animate:return s.visitAnimate(p,n);case v.If.Keyframes:return s.visitKeyframes(p,n);case v.If.Style:return s.visitStyle(p,n);case v.If.Reference:return s.visitReference(p,n);case v.If.AnimateChild:return s.visitAnimateChild(p,n);case v.If.AnimateRef:return s.visitAnimateRef(p,n);case v.If.Query:return s.visitQuery(p,n);case v.If.Stagger:return s.visitStagger(p,n);default:throw function C(s){return new e.wOt(3004,!1)}()}}function mn(s,p){return window.getComputedStyle(s)[p]}const zn=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class An extends j{normalizePropertyName(p,n){return dt(p)}normalizeStyleValue(p,n,a,l){let D="";const ee=a.toString().trim();if(zn.has(n)&&0!==a&&"0"!==a)if("number"==typeof a)D="px";else{const De=a.match(/^[+-]?[\d\.]+([a-z]*)$/);De&&0==De[1].length&&l.push(function R(s,p){return new e.wOt(3005,!1)}())}return ee+D}}const Ei="*";const Ti=new Set(["true","1"]),nt=new Set(["false","0"]);function It(s,p){const n=Ti.has(s)||nt.has(s),a=Ti.has(p)||nt.has(p);return(l,D)=>{let ee=s==Ei||s==l,De=p==Ei||p==D;return!ee&&n&&"boolean"==typeof l&&(ee=l?Ti.has(s):nt.has(s)),!De&&a&&"boolean"==typeof D&&(De=D?Ti.has(p):nt.has(p)),ee&&De}}const nn=new RegExp("s*:selfs*,?","g");function Qt(s,p,n,a){return new St(s).build(p,n,a)}class St{constructor(p){this._driver=p}build(p,n,a){const l=new K(n);return this._resetContextStyleTimingState(l),vn(this,Sn(p),l)}_resetContextStyleTimingState(p){p.currentQuerySelector="",p.collectedStyles=new Map,p.collectedStyles.set("",new Map),p.currentTime=0}visitTrigger(p,n){let a=n.queryCount=0,l=n.depCount=0;const D=[],ee=[];return"@"==p.name.charAt(0)&&n.errors.push(function k(){return new e.wOt(3006,!1)}()),p.definitions.forEach(De=>{if(this._resetContextStyleTimingState(n),De.type==v.If.State){const Ze=De,gt=Ze.name;gt.toString().split(/\s*,\s*/).forEach(Vt=>{Ze.name=Vt,D.push(this.visitState(Ze,n))}),Ze.name=gt}else if(De.type==v.If.Transition){const Ze=this.visitTransition(De,n);a+=Ze.queryCount,l+=Ze.depCount,ee.push(Ze)}else n.errors.push(function O(){return new e.wOt(3007,!1)}())}),{type:v.If.Trigger,name:p.name,states:D,transitions:ee,queryCount:a,depCount:l,options:null}}visitState(p,n){const a=this.visitStyle(p.styles,n),l=p.options&&p.options.params||null;if(a.containsDynamicStyles){const D=new Set,ee=l||{};a.styles.forEach(De=>{De instanceof Map&&De.forEach(Ze=>{di(Ze).forEach(gt=>{ee.hasOwnProperty(gt)||D.add(gt)})})}),D.size&&n.errors.push(function H(s,p){return new e.wOt(3008,!1)}(0,D.values()))}return{type:v.If.State,name:p.name,style:a,options:l?{params:l}:null}}visitTransition(p,n){n.queryCount=0,n.depCount=0;const a=vn(this,Sn(p.animation),n),l=function pi(s,p){const n=[];return"string"==typeof s?s.split(/\s*,\s*/).forEach(a=>function Gi(s,p,n){if(":"==s[0]){const Ze=function ji(s,p){switch(s){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,a)=>parseFloat(a)>parseFloat(n);case":decrement":return(n,a)=>parseFloat(a)<parseFloat(n);default:return p.push(function oe(s){return new e.wOt(3016,!1)}()),"* => *"}}(s,n);if("function"==typeof Ze)return void p.push(Ze);s=Ze}const a=s.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==a||a.length<4)return n.push(function I(s){return new e.wOt(3015,!1)}()),p;const l=a[1],D=a[2],ee=a[3];p.push(It(l,ee)),"<"==D[0]&&(l!=Ei||ee!=Ei)&&p.push(It(ee,l))}(a,n,p)):n.push(s),n}(p.expr,n.errors);return{type:v.If.Transition,matchers:l,animation:a,queryCount:n.queryCount,depCount:n.depCount,options:ze(p.options)}}visitSequence(p,n){return{type:v.If.Sequence,steps:p.steps.map(a=>vn(this,a,n)),options:ze(p.options)}}visitGroup(p,n){const a=n.currentTime;let l=0;const D=p.steps.map(ee=>{n.currentTime=a;const De=vn(this,ee,n);return l=Math.max(l,n.currentTime),De});return n.currentTime=l,{type:v.If.Group,steps:D,options:ze(p.options)}}visitAnimate(p,n){const a=function ue(s,p){if(s.hasOwnProperty("duration"))return s;if("number"==typeof s)return Wt(Gt(s,p).duration,0,"");const n=s;if(n.split(/\s+/).some(D=>"{"==D.charAt(0)&&"{"==D.charAt(1))){const D=Wt(0,0,"");return D.dynamic=!0,D.strValue=n,D}const l=Gt(n,p);return Wt(l.duration,l.delay,l.easing)}(p.timings,n.errors);n.currentAnimateTimings=a;let l,D=p.styles?p.styles:(0,v.iF)({});if(D.type==v.If.Keyframes)l=this.visitKeyframes(D,n);else{let ee=p.styles,De=!1;if(!ee){De=!0;const gt={};a.easing&&(gt.easing=a.easing),ee=(0,v.iF)(gt)}n.currentTime+=a.duration+a.delay;const Ze=this.visitStyle(ee,n);Ze.isEmptyStep=De,l=Ze}return n.currentAnimateTimings=null,{type:v.If.Animate,timings:a,style:l,options:null}}visitStyle(p,n){const a=this._makeStyleAst(p,n);return this._validateStyleAst(a,n),a}_makeStyleAst(p,n){const a=[],l=Array.isArray(p.styles)?p.styles:[p.styles];for(let De of l)"string"==typeof De?De===v.kp?a.push(De):n.errors.push(new e.wOt(3002,!1)):a.push(new Map(Object.entries(De)));let D=!1,ee=null;return a.forEach(De=>{if(De instanceof Map&&(De.has("easing")&&(ee=De.get("easing"),De.delete("easing")),!D))for(let Ze of De.values())if(Ze.toString().indexOf("{{")>=0){D=!0;break}}),{type:v.If.Style,styles:a,easing:ee,offset:p.offset,containsDynamicStyles:D,options:null}}_validateStyleAst(p,n){const a=n.currentAnimateTimings;let l=n.currentTime,D=n.currentTime;a&&D>0&&(D-=a.duration+a.delay),p.styles.forEach(ee=>{"string"!=typeof ee&&ee.forEach((De,Ze)=>{const gt=n.collectedStyles.get(n.currentQuerySelector),Vt=gt.get(Ze);let ln=!0;Vt&&(D!=l&&D>=Vt.startTime&&l<=Vt.endTime&&(n.errors.push(function U(s,p,n,a,l){return new e.wOt(3010,!1)}()),ln=!1),D=Vt.startTime),ln&&gt.set(Ze,{startTime:D,endTime:l}),n.options&&function Un(s,p,n){const a=p.params||{},l=di(s);l.length&&l.forEach(D=>{a.hasOwnProperty(D)||n.push(function F(s){return new e.wOt(3001,!1)}())})}(De,n.options,n.errors)})})}visitKeyframes(p,n){const a={type:v.If.Keyframes,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(function G(){return new e.wOt(3011,!1)}()),a;let D=0;const ee=[];let De=!1,Ze=!1,gt=0;const Vt=p.steps.map(wi=>{const Si=this._makeStyleAst(wi,n);let Qi=null!=Si.offset?Si.offset:function de(s){if("string"==typeof s)return null;let p=null;if(Array.isArray(s))s.forEach(n=>{if(n instanceof Map&&n.has("offset")){const a=n;p=parseFloat(a.get("offset")),a.delete("offset")}});else if(s instanceof Map&&s.has("offset")){const n=s;p=parseFloat(n.get("offset")),n.delete("offset")}return p}(Si.styles),_i=0;return null!=Qi&&(D++,_i=Si.offset=Qi),Ze=Ze||_i<0||_i>1,De=De||_i<gt,gt=_i,ee.push(_i),Si});Ze&&n.errors.push(function ie(){return new e.wOt(3012,!1)}()),De&&n.errors.push(function le(){return new e.wOt(3200,!1)}());const ln=p.steps.length;let Cn=0;D>0&&D<ln?n.errors.push(function L(){return new e.wOt(3202,!1)}()):0==D&&(Cn=1/(ln-1));const In=ln-1,Fn=n.currentTime,On=n.currentAnimateTimings,oi=On.duration;return Vt.forEach((wi,Si)=>{const Qi=Cn>0?Si==In?1:Cn*Si:ee[Si],_i=Qi*oi;n.currentTime=Fn+On.delay+_i,On.duration=_i,this._validateStyleAst(wi,n),wi.offset=Qi,a.styles.push(wi)}),a}visitReference(p,n){return{type:v.If.Reference,animation:vn(this,Sn(p.animation),n),options:ze(p.options)}}visitAnimateChild(p,n){return n.depCount++,{type:v.If.AnimateChild,options:ze(p.options)}}visitAnimateRef(p,n){return{type:v.If.AnimateRef,animation:this.visitReference(p.animation,n),options:ze(p.options)}}visitQuery(p,n){const a=n.currentQuerySelector,l=p.options||{};n.queryCount++,n.currentQuery=p;const[D,ee]=function $e(s){const p=!!s.split(/\s*,\s*/).find(n=>":self"==n);return p&&(s=s.replace(nn,"")),s=s.replace(/@\*/g,Mn).replace(/@\w+/g,n=>Mn+"-"+n.slice(1)).replace(/:animating/g,Bn),[s,p]}(p.selector);n.currentQuerySelector=a.length?a+" "+D:D,q(n.collectedStyles,n.currentQuerySelector,new Map);const De=vn(this,Sn(p.animation),n);return n.currentQuery=null,n.currentQuerySelector=a,{type:v.If.Query,selector:D,limit:l.limit||0,optional:!!l.optional,includeSelf:ee,animation:De,originalSelector:p.selector,options:ze(p.options)}}visitStagger(p,n){n.currentQuery||n.errors.push(function Q(){return new e.wOt(3013,!1)}());const a="full"===p.timings?{duration:0,delay:0,easing:"full"}:Gt(p.timings,n.errors,!0);return{type:v.If.Stagger,animation:vn(this,Sn(p.animation),n),timings:a,options:null}}}class K{constructor(p){this.errors=p,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function ze(s){return s?(s={...s}).params&&(s.params=function Qe(s){return s?{...s}:null}(s.params)):s={},s}function Wt(s,p,n){return{duration:s,delay:p,easing:n}}function Kt(s,p,n,a,l,D,ee=null,De=!1){return{type:1,element:s,keyframes:p,preStyleProps:n,postStyleProps:a,duration:l,delay:D,totalTime:l+D,easing:ee,subTimeline:De}}class gn{constructor(){this._map=new Map}get(p){return this._map.get(p)||[]}append(p,n){let a=this._map.get(p);a||this._map.set(p,a=[]),a.push(...n)}has(p){return this._map.has(p)}clear(){this._map.clear()}}const vi=new RegExp(":enter","g"),ui=new RegExp(":leave","g");function Ki(s,p,n,a,l,D=new Map,ee=new Map,De,Ze,gt=[]){return(new Dr).buildKeyframes(s,p,n,a,l,D,ee,De,Ze,gt)}class Dr{buildKeyframes(p,n,a,l,D,ee,De,Ze,gt,Vt=[]){gt=gt||new gn;const ln=new ri(p,n,gt,l,D,Vt,[]);ln.options=Ze;const Cn=Ze.delay?Tt(Ze.delay):0;ln.currentTimeline.delayNextStep(Cn),ln.currentTimeline.setStyles([ee],null,ln.errors,Ze),vn(this,a,ln);const In=ln.timelines.filter(Fn=>Fn.containsAnimation());if(In.length&&De.size){let Fn;for(let On=In.length-1;On>=0;On--){const oi=In[On];if(oi.element===n){Fn=oi;break}}Fn&&!Fn.allowOnlyTimelineStyles()&&Fn.setStyles([De],null,ln.errors,Ze)}return In.length?In.map(Fn=>Fn.buildKeyframes()):[Kt(n,[],[],[],0,Cn,"",!1)]}visitTrigger(p,n){}visitState(p,n){}visitTransition(p,n){}visitAnimateChild(p,n){const a=n.subInstructions.get(n.element);if(a){const l=n.createSubContext(p.options),D=n.currentTimeline.currentTime,ee=this._visitSubInstructions(a,l,l.options);D!=ee&&n.transformIntoNewTimeline(ee)}n.previousNode=p}visitAnimateRef(p,n){const a=n.createSubContext(p.options);a.transformIntoNewTimeline(),this._applyAnimationRefDelays([p.options,p.animation.options],n,a),this.visitReference(p.animation,a),n.transformIntoNewTimeline(a.currentTimeline.currentTime),n.previousNode=p}_applyAnimationRefDelays(p,n,a){for(const l of p){const D=l?.delay;if(D){const ee="number"==typeof D?D:Tt(li(D,l?.params??{},n.errors));a.delayNextStep(ee)}}}_visitSubInstructions(p,n,a){let D=n.currentTimeline.currentTime;const ee=null!=a.duration?Tt(a.duration):null,De=null!=a.delay?Tt(a.delay):null;return 0!==ee&&p.forEach(Ze=>{const gt=n.appendInstructionToTimeline(Ze,ee,De);D=Math.max(D,gt.duration+gt.delay)}),D}visitReference(p,n){n.updateOptions(p.options,!0),vn(this,p.animation,n),n.previousNode=p}visitSequence(p,n){const a=n.subContextCount;let l=n;const D=p.options;if(D&&(D.params||D.delay)&&(l=n.createSubContext(D),l.transformIntoNewTimeline(),null!=D.delay)){l.previousNode.type==v.If.Style&&(l.currentTimeline.snapshotCurrentStyles(),l.previousNode=Gn);const ee=Tt(D.delay);l.delayNextStep(ee)}p.steps.length&&(p.steps.forEach(ee=>vn(this,ee,l)),l.currentTimeline.applyStylesToKeyframe(),l.subContextCount>a&&l.transformIntoNewTimeline()),n.previousNode=p}visitGroup(p,n){const a=[];let l=n.currentTimeline.currentTime;const D=p.options&&p.options.delay?Tt(p.options.delay):0;p.steps.forEach(ee=>{const De=n.createSubContext(p.options);D&&De.delayNextStep(D),vn(this,ee,De),l=Math.max(l,De.currentTimeline.currentTime),a.push(De.currentTimeline)}),a.forEach(ee=>n.currentTimeline.mergeTimelineCollectedStyles(ee)),n.transformIntoNewTimeline(l),n.previousNode=p}_visitTiming(p,n){if(p.dynamic){const a=p.strValue;return Gt(n.params?li(a,n.params,n.errors):a,n.errors)}return{duration:p.duration,delay:p.delay,easing:p.easing}}visitAnimate(p,n){const a=n.currentAnimateTimings=this._visitTiming(p.timings,n),l=n.currentTimeline;a.delay&&(n.incrementTime(a.delay),l.snapshotCurrentStyles());const D=p.style;D.type==v.If.Keyframes?this.visitKeyframes(D,n):(n.incrementTime(a.duration),this.visitStyle(D,n),l.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=p}visitStyle(p,n){const a=n.currentTimeline,l=n.currentAnimateTimings;!l&&a.hasCurrentStyleProperties()&&a.forwardFrame();const D=l&&l.easing||p.easing;p.isEmptyStep?a.applyEmptyStep(D):a.setStyles(p.styles,D,n.errors,n.options),n.previousNode=p}visitKeyframes(p,n){const a=n.currentAnimateTimings,l=n.currentTimeline.duration,D=a.duration,De=n.createSubContext().currentTimeline;De.easing=a.easing,p.styles.forEach(Ze=>{De.forwardTime((Ze.offset||0)*D),De.setStyles(Ze.styles,Ze.easing,n.errors,n.options),De.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(De),n.transformIntoNewTimeline(l+D),n.previousNode=p}visitQuery(p,n){const a=n.currentTimeline.currentTime,l=p.options||{},D=l.delay?Tt(l.delay):0;D&&(n.previousNode.type===v.If.Style||0==a&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=Gn);let ee=a;const De=n.invokeQuery(p.selector,p.originalSelector,p.limit,p.includeSelf,!!l.optional,n.errors);n.currentQueryTotal=De.length;let Ze=null;De.forEach((gt,Vt)=>{n.currentQueryIndex=Vt;const ln=n.createSubContext(p.options,gt);D&&ln.delayNextStep(D),gt===n.element&&(Ze=ln.currentTimeline),vn(this,p.animation,ln),ln.currentTimeline.applyStylesToKeyframe(),ee=Math.max(ee,ln.currentTimeline.currentTime)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(ee),Ze&&(n.currentTimeline.mergeTimelineCollectedStyles(Ze),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=p}visitStagger(p,n){const a=n.parentContext,l=n.currentTimeline,D=p.timings,ee=Math.abs(D.duration),De=ee*(n.currentQueryTotal-1);let Ze=ee*n.currentQueryIndex;switch(D.duration<0?"reverse":D.easing){case"reverse":Ze=De-Ze;break;case"full":Ze=a.currentStaggerTime}const Vt=n.currentTimeline;Ze&&Vt.delayNextStep(Ze);const ln=Vt.currentTime;vn(this,p.animation,n),n.previousNode=p,a.currentStaggerTime=l.currentTime-ln+(l.startTime-a.currentTimeline.startTime)}}const Gn={};class ri{constructor(p,n,a,l,D,ee,De,Ze){this._driver=p,this.element=n,this.subInstructions=a,this._enterClassName=l,this._leaveClassName=D,this.errors=ee,this.timelines=De,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Gn,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Ze||new ar(this._driver,n,0),De.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(p,n){if(!p)return;const a=p;let l=this.options;null!=a.duration&&(l.duration=Tt(a.duration)),null!=a.delay&&(l.delay=Tt(a.delay));const D=a.params;if(D){let ee=l.params;ee||(ee=this.options.params={}),Object.keys(D).forEach(De=>{(!n||!ee.hasOwnProperty(De))&&(ee[De]=li(D[De],ee,this.errors))})}}_copyOptions(){const p={};if(this.options){const n=this.options.params;if(n){const a=p.params={};Object.keys(n).forEach(l=>{a[l]=n[l]})}}return p}createSubContext(p=null,n,a){const l=n||this.element,D=new ri(this._driver,l,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(l,a||0));return D.previousNode=this.previousNode,D.currentAnimateTimings=this.currentAnimateTimings,D.options=this._copyOptions(),D.updateOptions(p),D.currentQueryIndex=this.currentQueryIndex,D.currentQueryTotal=this.currentQueryTotal,D.parentContext=this,this.subContextCount++,D}transformIntoNewTimeline(p){return this.previousNode=Gn,this.currentTimeline=this.currentTimeline.fork(this.element,p),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(p,n,a){const l={duration:n??p.duration,delay:this.currentTimeline.currentTime+(a??0)+p.delay,easing:""},D=new xi(this._driver,p.element,p.keyframes,p.preStyleProps,p.postStyleProps,l,p.stretchStartingKeyframe);return this.timelines.push(D),l}incrementTime(p){this.currentTimeline.forwardTime(this.currentTimeline.duration+p)}delayNextStep(p){p>0&&this.currentTimeline.delayNextStep(p)}invokeQuery(p,n,a,l,D,ee){let De=[];if(l&&De.push(this.element),p.length>0){p=(p=p.replace(vi,"."+this._enterClassName)).replace(ui,"."+this._leaveClassName);let gt=this._driver.query(this.element,p,1!=a);0!==a&&(gt=a<0?gt.slice(gt.length+a,gt.length):gt.slice(0,a)),De.push(...gt)}return!D&&0==De.length&&ee.push(function te(s){return new e.wOt(3014,!1)}()),De}}class ar{constructor(p,n,a,l){this._driver=p,this.element=n,this.startTime=a,this._elementTimelineStylesLookup=l,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(p){const n=1===this._keyframes.size&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+p),n&&this.snapshotCurrentStyles()):this.startTime+=p}fork(p,n){return this.applyStylesToKeyframe(),new ar(this._driver,p,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(p){this.applyStylesToKeyframe(),this.duration=p,this._loadKeyframe()}_updateStyle(p,n){this._localTimelineStyles.set(p,n),this._globalTimelineStyles.set(p,n),this._styleSummary.set(p,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(p){p&&this._previousKeyframe.set("easing",p);for(let[n,a]of this._globalTimelineStyles)this._backFill.set(n,a||v.kp),this._currentKeyframe.set(n,v.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(p,n,a,l){n&&this._previousKeyframe.set("easing",n);const D=l&&l.params||{},ee=function Ks(s,p){const n=new Map;let a;return s.forEach(l=>{if("*"===l){a??=p.keys();for(let D of a)n.set(D,v.kp)}else for(let[D,ee]of l)n.set(D,ee)}),n}(p,this._globalTimelineStyles);for(let[De,Ze]of ee){const gt=li(Ze,D,a);this._pendingStyles.set(De,gt),this._localTimelineStyles.has(De)||this._backFill.set(De,this._globalTimelineStyles.get(De)??v.kp),this._updateStyle(De,gt)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((p,n)=>{this._currentKeyframe.set(n,p)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((p,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,p)}))}snapshotCurrentStyles(){for(let[p,n]of this._localTimelineStyles)this._pendingStyles.set(p,n),this._updateStyle(p,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const p=[];for(let n in this._currentKeyframe)p.push(n);return p}mergeTimelineCollectedStyles(p){p._styleSummary.forEach((n,a)=>{const l=this._styleSummary.get(a);(!l||n.time>l.time)&&this._updateStyle(a,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();const p=new Set,n=new Set,a=1===this._keyframes.size&&0===this.duration;let l=[];this._keyframes.forEach((De,Ze)=>{const gt=new Map([...this._backFill,...De]);gt.forEach((Vt,ln)=>{Vt===v.FX?p.add(ln):Vt===v.kp&&n.add(ln)}),a||gt.set("offset",Ze/this.duration),l.push(gt)});const D=[...p.values()],ee=[...n.values()];if(a){const De=l[0],Ze=new Map(De);De.set("offset",0),Ze.set("offset",1),l=[De,Ze]}return Kt(this.element,l,D,ee,this.duration,this.startTime,this.easing,!1)}}class xi extends ar{constructor(p,n,a,l,D,ee,De=!1){super(p,n,ee.delay),this.keyframes=a,this.preStyleProps=l,this.postStyleProps=D,this._stretchStartingKeyframe=De,this.timings={duration:ee.duration,delay:ee.delay,easing:ee.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let p=this.keyframes,{delay:n,duration:a,easing:l}=this.timings;if(this._stretchStartingKeyframe&&n){const D=[],ee=a+n,De=n/ee,Ze=new Map(p[0]);Ze.set("offset",0),D.push(Ze);const gt=new Map(p[0]);gt.set("offset",Mr(De)),D.push(gt);const Vt=p.length-1;for(let ln=1;ln<=Vt;ln++){let Cn=new Map(p[ln]);const In=Cn.get("offset");Cn.set("offset",Mr((n+In*a)/ee)),D.push(Cn)}a=ee,n=0,l="",p=D}return Kt(this.element,p,this.preStyleProps,this.postStyleProps,a,n,l,!0)}}function Mr(s,p=3){const n=Math.pow(10,p-1);return Math.round(s*n)/n}function ms(s,p,n,a,l,D,ee,De,Ze,gt,Vt,ln,Cn){return{type:0,element:s,triggerName:p,isRemovalTransition:l,fromState:n,fromStyles:D,toState:a,toStyles:ee,timelines:De,queriedElements:Ze,preStyleProps:gt,postStyleProps:Vt,totalTime:ln,errors:Cn}}const Ns={};class yi{constructor(p,n,a){this._triggerName=p,this.ast=n,this._stateStyles=a}match(p,n,a,l){return function gs(s,p,n,a,l){return s.some(D=>D(p,n,a,l))}(this.ast.matchers,p,n,a,l)}buildStyles(p,n,a){let l=this._stateStyles.get("*");return void 0!==p&&(l=this._stateStyles.get(p?.toString())||l),l?l.buildStyles(n,a):new Map}build(p,n,a,l,D,ee,De,Ze,gt,Vt){const ln=[],Cn=this.ast.options&&this.ast.options.params||Ns,Fn=this.buildStyles(a,De&&De.params||Ns,ln),On=Ze&&Ze.params||Ns,oi=this.buildStyles(l,On,ln),wi=new Set,Si=new Map,Qi=new Map,_i="void"===l,nr={params:Cr(On,Cn),delay:this.ast.options?.delay},zi=Vt?[]:Ki(p,n,this.ast.animation,D,ee,Fn,oi,nr,gt,ln);let Zi=0;return zi.forEach(ir=>{Zi=Math.max(ir.duration+ir.delay,Zi)}),ln.length?ms(n,this._triggerName,a,l,_i,Fn,oi,[],[],Si,Qi,Zi,ln):(zi.forEach(ir=>{const cs=ir.element,us=q(Si,cs,new Set);ir.preStyleProps.forEach(eo=>us.add(eo));const ks=q(Qi,cs,new Set);ir.postStyleProps.forEach(eo=>ks.add(eo)),cs!==n&&wi.add(cs)}),ms(n,this._triggerName,a,l,_i,Fn,oi,zi,[...wi.values()],Si,Qi,Zi))}}function Cr(s,p){const n={...p};return Object.entries(s).forEach(([a,l])=>{null!=l&&(n[a]=l)}),n}class Os{constructor(p,n,a){this.styles=p,this.defaultParams=n,this.normalizer=a}buildStyles(p,n){const a=new Map,l=Cr(p,this.defaultParams);return this.styles.styles.forEach(D=>{"string"!=typeof D&&D.forEach((ee,De)=>{ee&&(ee=li(ee,l,n));const Ze=this.normalizer.normalizePropertyName(De,n);ee=this.normalizer.normalizeStyleValue(De,Ze,ee,n),a.set(De,ee)})}),a}}class vr{constructor(p,n,a){this.name=p,this.ast=n,this._normalizer=a,this.transitionFactories=[],this.states=new Map,n.states.forEach(l=>{this.states.set(l.name,new Os(l.style,l.options&&l.options.params||{},a))}),zs(this.states,"true","1"),zs(this.states,"false","0"),n.transitions.forEach(l=>{this.transitionFactories.push(new yi(p,l,this.states))}),this.fallbackTransition=function Ni(s,p,n){return new yi(s,{type:v.If.Transition,animation:{type:v.If.Sequence,steps:[],options:null},matchers:[(ee,De)=>!0],options:null,queryCount:0,depCount:0},p)}(p,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(p,n,a,l){return this.transitionFactories.find(ee=>ee.match(p,n,a,l))||null}matchStyles(p,n,a){return this.fallbackTransition.buildStyles(p,n,a)}}function zs(s,p,n){s.has(p)?s.has(n)||s.set(n,s.get(p)):s.has(n)&&s.set(p,s.get(n))}const ai=new gn;class zo{constructor(p,n,a){this.bodyNode=p,this._driver=n,this._normalizer=a,this._animations=new Map,this._playersById=new Map,this.players=[]}register(p,n){const a=[],D=Qt(this._driver,n,a,[]);if(a.length)throw function xe(s){return new e.wOt(3503,!1)}();this._animations.set(p,D)}_buildPlayer(p,n,a){const l=p.element,D=Et(this._normalizer,p.keyframes,n,a);return this._driver.animate(l,D,p.duration,p.delay,p.easing,[],!0)}create(p,n,a={}){const l=[],D=this._animations.get(p);let ee;const De=new Map;if(D?(ee=Ki(this._driver,n,D,Ft,on,new Map,new Map,a,ai,l),ee.forEach(Vt=>{const ln=q(De,Vt.element,new Map);Vt.postStyleProps.forEach(Cn=>ln.set(Cn,null))})):(l.push(function Je(){return new e.wOt(3300,!1)}()),ee=[]),l.length)throw function Te(s){return new e.wOt(3504,!1)}();De.forEach((Vt,ln)=>{Vt.forEach((Cn,In)=>{Vt.set(In,this._driver.computeStyle(ln,In,v.kp))})});const gt=Lt(ee.map(Vt=>{const ln=De.get(Vt.element);return this._buildPlayer(Vt,new Map,ln)}));return this._playersById.set(p,gt),gt.onDestroy(()=>this.destroy(p)),this.players.push(gt),gt}destroy(p){const n=this._getPlayer(p);n.destroy(),this._playersById.delete(p);const a=this.players.indexOf(n);a>=0&&this.players.splice(a,1)}_getPlayer(p){const n=this._playersById.get(p);if(!n)throw function we(s){return new e.wOt(3301,!1)}();return n}listen(p,n,a,l){const D=X(n,"","","");return _t(this._getPlayer(p),a,D,l),()=>{}}command(p,n,a,l){if("register"==a)return void this.register(p,l[0]);if("create"==a)return void this.create(p,n,l[0]||{});const D=this._getPlayer(p);switch(a){case"play":D.play();break;case"pause":D.pause();break;case"reset":D.reset();break;case"restart":D.restart();break;case"finish":D.finish();break;case"init":D.init();break;case"setPosition":D.setPosition(parseFloat(l[0]));break;case"destroy":this.destroy(p)}}}const jn="ng-animate-queued",fr="ng-animate-disabled",Lr=[],qi={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},er={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Hn="__ng_removed";class Gr{get params(){return this.options.params}constructor(p,n=""){this.namespaceId=n;const a=p&&p.hasOwnProperty("value");if(this.value=function yr(s){return s??null}(a?p.value:p),a){const{value:D,...ee}=p;this.options=ee}else this.options={};this.options.params||(this.options.params={})}absorbOptions(p){const n=p.params;if(n){const a=this.options.params;Object.keys(n).forEach(l=>{null==a[l]&&(a[l]=n[l])})}}}const lr="void",kr=new Gr(lr);class ns{constructor(p,n,a){this.id=p,this.hostElement=n,this._engine=a,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+p,tr(n,this._hostClassName)}listen(p,n,a,l){if(!this._triggers.has(n))throw function he(s,p){return new e.wOt(3302,!1)}();if(null==a||0==a.length)throw function Le(s){return new e.wOt(3303,!1)}();if(!function rs(s){return"start"==s||"done"==s}(a))throw function Ae(s,p){return new e.wOt(3400,!1)}();const D=q(this._elementListeners,p,[]),ee={name:n,phase:a,callback:l};D.push(ee);const De=q(this._engine.statesByElement,p,new Map);return De.has(n)||(tr(p,un),tr(p,un+"-"+n),De.set(n,kr)),()=>{this._engine.afterFlush(()=>{const Ze=D.indexOf(ee);Ze>=0&&D.splice(Ze,1),this._triggers.has(n)||De.delete(n)})}}register(p,n){return!this._triggers.has(p)&&(this._triggers.set(p,n),!0)}_getTrigger(p){const n=this._triggers.get(p);if(!n)throw function st(s){return new e.wOt(3401,!1)}();return n}trigger(p,n,a,l=!0){const D=this._getTrigger(n),ee=new Co(this.id,n,p);let De=this._engine.statesByElement.get(p);De||(tr(p,un),tr(p,un+"-"+n),this._engine.statesByElement.set(p,De=new Map));let Ze=De.get(n);const gt=new Gr(a,this.id);if(!(a&&a.hasOwnProperty("value"))&&Ze&&gt.absorbOptions(Ze.options),De.set(n,gt),Ze||(Ze=kr),gt.value!==lr&&Ze.value===gt.value){if(!function oo(s,p){const n=Object.keys(s),a=Object.keys(p);if(n.length!=a.length)return!1;for(let l=0;l<n.length;l++){const D=n[l];if(!p.hasOwnProperty(D)||s[D]!==p[D])return!1}return!0}(Ze.params,gt.params)){const On=[],oi=D.matchStyles(Ze.value,Ze.params,On),wi=D.matchStyles(gt.value,gt.params,On);On.length?this._engine.reportError(On):this._engine.afterFlush(()=>{tn(p,oi),xt(p,wi)})}return}const Cn=q(this._engine.playersByElement,p,[]);Cn.forEach(On=>{On.namespaceId==this.id&&On.triggerName==n&&On.queued&&On.destroy()});let In=D.matchTransition(Ze.value,gt.value,p,gt.params),Fn=!1;if(!In){if(!l)return;In=D.fallbackTransition,Fn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:p,triggerName:n,transition:In,fromState:Ze,toState:gt,player:ee,isFallbackTransition:Fn}),Fn||(tr(p,jn),ee.onStart(()=>{Qr(p,jn)})),ee.onDone(()=>{let On=this.players.indexOf(ee);On>=0&&this.players.splice(On,1);const oi=this._engine.playersByElement.get(p);if(oi){let wi=oi.indexOf(ee);wi>=0&&oi.splice(wi,1)}}),this.players.push(ee),Cn.push(ee),ee}deregister(p){this._triggers.delete(p),this._engine.statesByElement.forEach(n=>n.delete(p)),this._elementListeners.forEach((n,a)=>{this._elementListeners.set(a,n.filter(l=>l.name!=p))})}clearElementCache(p){this._engine.statesByElement.delete(p),this._elementListeners.delete(p);const n=this._engine.playersByElement.get(p);n&&(n.forEach(a=>a.destroy()),this._engine.playersByElement.delete(p))}_signalRemovalForInnerTriggers(p,n){const a=this._engine.driver.query(p,Mn,!0);a.forEach(l=>{if(l[Hn])return;const D=this._engine.fetchNamespacesByElement(l);D.size?D.forEach(ee=>ee.triggerLeaveAnimation(l,n,!1,!0)):this.clearElementCache(l)}),this._engine.afterFlushAnimationsDone(()=>a.forEach(l=>this.clearElementCache(l)))}triggerLeaveAnimation(p,n,a,l){const D=this._engine.statesByElement.get(p),ee=new Map;if(D){const De=[];if(D.forEach((Ze,gt)=>{if(ee.set(gt,Ze.value),this._triggers.has(gt)){const Vt=this.trigger(p,gt,lr,l);Vt&&De.push(Vt)}}),De.length)return this._engine.markElementAsRemoved(this.id,p,!0,n,ee),a&&Lt(De).onDone(()=>this._engine.processLeaveNode(p)),!0}return!1}prepareLeaveAnimationListeners(p){const n=this._elementListeners.get(p),a=this._engine.statesByElement.get(p);if(n&&a){const l=new Set;n.forEach(D=>{const ee=D.name;if(l.has(ee))return;l.add(ee);const Ze=this._triggers.get(ee).fallbackTransition,gt=a.get(ee)||kr,Vt=new Gr(lr),ln=new Co(this.id,ee,p);this._engine.totalQueuedPlayers++,this._queue.push({element:p,triggerName:ee,transition:Ze,fromState:gt,toState:Vt,player:ln,isFallbackTransition:!0})})}}removeNode(p,n){const a=this._engine;if(p.childElementCount&&this._signalRemovalForInnerTriggers(p,n),this.triggerLeaveAnimation(p,n,!0))return;let l=!1;if(a.totalAnimations){const D=a.players.length?a.playersByQueriedElement.get(p):[];if(D&&D.length)l=!0;else{let ee=p;for(;ee=ee.parentNode;)if(a.statesByElement.get(ee)){l=!0;break}}}if(this.prepareLeaveAnimationListeners(p),l)a.markElementAsRemoved(this.id,p,!1,n);else{const D=p[Hn];(!D||D===qi)&&(a.afterFlush(()=>this.clearElementCache(p)),a.destroyInnerAnimations(p),a._onRemovalComplete(p,n))}}insertNode(p,n){tr(p,this._hostClassName)}drainQueuedTransitions(p){const n=[];return this._queue.forEach(a=>{const l=a.player;if(l.destroyed)return;const D=a.element,ee=this._elementListeners.get(D);ee&&ee.forEach(De=>{if(De.name==a.triggerName){const Ze=X(D,a.triggerName,a.fromState.value,a.toState.value);Ze._data=p,_t(a.player,De.phase,Ze,De.callback)}}),l.markedForDestroy?this._engine.afterFlush(()=>{l.destroy()}):n.push(a)}),this._queue=[],n.sort((a,l)=>{const D=a.transition.ast.depCount,ee=l.transition.ast.depCount;return 0==D||0==ee?D-ee:this._engine.driver.containsElement(a.element,l.element)?1:-1})}destroy(p){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,p)}}class ro{_onRemovalComplete(p,n){this.onRemovalComplete(p,n)}constructor(p,n,a,l){this.bodyNode=p,this.driver=n,this._normalizer=a,this.scheduler=l,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(D,ee)=>{}}get queuedPlayers(){const p=[];return this._namespaceList.forEach(n=>{n.players.forEach(a=>{a.queued&&p.push(a)})}),p}createNamespace(p,n){const a=new ns(p,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(a,n):(this.newHostElements.set(n,a),this.collectEnterElement(n)),this._namespaceLookup[p]=a}_balanceNamespaceList(p,n){const a=this._namespaceList,l=this.namespacesByHostElement;if(a.length-1>=0){let ee=!1,De=this.driver.getParentElement(n);for(;De;){const Ze=l.get(De);if(Ze){const gt=a.indexOf(Ze);a.splice(gt+1,0,p),ee=!0;break}De=this.driver.getParentElement(De)}ee||a.unshift(p)}else a.push(p);return l.set(n,p),p}register(p,n){let a=this._namespaceLookup[p];return a||(a=this.createNamespace(p,n)),a}registerTrigger(p,n,a){let l=this._namespaceLookup[p];l&&l.register(n,a)&&this.totalAnimations++}destroy(p,n){p&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const a=this._fetchNamespace(p);this.namespacesByHostElement.delete(a.hostElement);const l=this._namespaceList.indexOf(a);l>=0&&this._namespaceList.splice(l,1),a.destroy(n),delete this._namespaceLookup[p]}))}_fetchNamespace(p){return this._namespaceLookup[p]}fetchNamespacesByElement(p){const n=new Set,a=this.statesByElement.get(p);if(a)for(let l of a.values())if(l.namespaceId){const D=this._fetchNamespace(l.namespaceId);D&&n.add(D)}return n}trigger(p,n,a,l){if(is(n)){const D=this._fetchNamespace(p);if(D)return D.trigger(n,a,l),!0}return!1}insertNode(p,n,a,l){if(!is(n))return;const D=n[Hn];if(D&&D.setForRemoval){D.setForRemoval=!1,D.setForMove=!0;const ee=this.collectedLeaveElements.indexOf(n);ee>=0&&this.collectedLeaveElements.splice(ee,1)}if(p){const ee=this._fetchNamespace(p);ee&&ee.insertNode(n,a)}l&&this.collectEnterElement(n)}collectEnterElement(p){this.collectedEnterElements.push(p)}markElementAsDisabled(p,n){n?this.disabledNodes.has(p)||(this.disabledNodes.add(p),tr(p,fr)):this.disabledNodes.has(p)&&(this.disabledNodes.delete(p),Qr(p,fr))}removeNode(p,n,a){if(is(n)){this.scheduler?.notify();const l=p?this._fetchNamespace(p):null;l?l.removeNode(n,a):this.markElementAsRemoved(p,n,!1,a);const D=this.namespacesByHostElement.get(n);D&&D.id!==p&&D.removeNode(n,a)}else this._onRemovalComplete(n,a)}markElementAsRemoved(p,n,a,l,D){this.collectedLeaveElements.push(n),n[Hn]={namespaceId:p,setForRemoval:l,hasAnimation:a,removedBeforeQueried:!1,previousTriggersValues:D}}listen(p,n,a,l,D){return is(n)?this._fetchNamespace(p).listen(n,a,l,D):()=>{}}_buildInstruction(p,n,a,l,D){return p.transition.build(this.driver,p.element,p.fromState.value,p.toState.value,a,l,p.fromState.options,p.toState.options,n,D)}destroyInnerAnimations(p){let n=this.driver.query(p,Mn,!0);n.forEach(a=>this.destroyActiveAnimationsForElement(a)),0!=this.playersByQueriedElement.size&&(n=this.driver.query(p,Bn,!0),n.forEach(a=>this.finishActiveQueriedAnimationOnElement(a)))}destroyActiveAnimationsForElement(p){const n=this.playersByElement.get(p);n&&n.forEach(a=>{a.queued?a.markedForDestroy=!0:a.destroy()})}finishActiveQueriedAnimationOnElement(p){const n=this.playersByQueriedElement.get(p);n&&n.forEach(a=>a.finish())}whenRenderingDone(){return new Promise(p=>{if(this.players.length)return Lt(this.players).onDone(()=>p());p()})}processLeaveNode(p){const n=p[Hn];if(n&&n.setForRemoval){if(p[Hn]=qi,n.namespaceId){this.destroyInnerAnimations(p);const a=this._fetchNamespace(n.namespaceId);a&&a.clearElementCache(p)}this._onRemovalComplete(p,n.setForRemoval)}p.classList?.contains(fr)&&this.markElementAsDisabled(p,!1),this.driver.query(p,".ng-animate-disabled",!0).forEach(a=>{this.markElementAsDisabled(a,!1)})}flush(p=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((a,l)=>this._balanceNamespaceList(a,l)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let a=0;a<this.collectedEnterElements.length;a++)tr(this.collectedEnterElements[a],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const a=[];try{n=this._flushAnimations(a,p)}finally{for(let l=0;l<a.length;l++)a[l]()}}else for(let a=0;a<this.collectedLeaveElements.length;a++)this.processLeaveNode(this.collectedLeaveElements[a]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(a=>a()),this._flushFns=[],this._whenQuietFns.length){const a=this._whenQuietFns;this._whenQuietFns=[],n.length?Lt(n).onDone(()=>{a.forEach(l=>l())}):a.forEach(l=>l())}}reportError(p){throw function Fe(s){return new e.wOt(3402,!1)}()}_flushAnimations(p,n){const a=new gn,l=[],D=new Map,ee=[],De=new Map,Ze=new Map,gt=new Map,Vt=new Set;this.disabledNodes.forEach(Zn=>{Vt.add(Zn);const fi=this.driver.query(Zn,".ng-animate-queued",!0);for(let Mi=0;Mi<fi.length;Mi++)Vt.add(fi[Mi])});const ln=this.bodyNode,Cn=Array.from(this.statesByElement.keys()),In=mo(Cn,this.collectedEnterElements),Fn=new Map;let On=0;In.forEach((Zn,fi)=>{const Mi=Ft+On++;Fn.set(fi,Mi),Zn.forEach(or=>tr(or,Mi))});const oi=[],wi=new Set,Si=new Set;for(let Zn=0;Zn<this.collectedLeaveElements.length;Zn++){const fi=this.collectedLeaveElements[Zn],Mi=fi[Hn];Mi&&Mi.setForRemoval&&(oi.push(fi),wi.add(fi),Mi.hasAnimation?this.driver.query(fi,".ng-star-inserted",!0).forEach(or=>wi.add(or)):Si.add(fi))}const Qi=new Map,_i=mo(Cn,Array.from(wi));_i.forEach((Zn,fi)=>{const Mi=on+On++;Qi.set(fi,Mi),Zn.forEach(or=>tr(or,Mi))}),p.push(()=>{In.forEach((Zn,fi)=>{const Mi=Fn.get(fi);Zn.forEach(or=>Qr(or,Mi))}),_i.forEach((Zn,fi)=>{const Mi=Qi.get(fi);Zn.forEach(or=>Qr(or,Mi))}),oi.forEach(Zn=>{this.processLeaveNode(Zn)})});const nr=[],zi=[];for(let Zn=this._namespaceList.length-1;Zn>=0;Zn--)this._namespaceList[Zn].drainQueuedTransitions(n).forEach(Mi=>{const or=Mi.player,Bs=Mi.element;if(nr.push(or),this.collectedEnterElements.length){const Ls=Bs[Hn];if(Ls&&Ls.setForMove){if(Ls.previousTriggersValues&&Ls.previousTriggersValues.has(Mi.triggerName)){const Ko=Ls.previousTriggersValues.get(Mi.triggerName),Fo=this.statesByElement.get(Mi.element);if(Fo&&Fo.has(Mi.triggerName)){const io=Fo.get(Mi.triggerName);io.value=Ko,Fo.set(Mi.triggerName,io)}}return void or.destroy()}}const Wo=!ln||!this.driver.containsElement(ln,Bs),no=Qi.get(Bs),ca=Fn.get(Bs),Br=this._buildInstruction(Mi,a,ca,no,Wo);if(Br.errors&&Br.errors.length)return void zi.push(Br);if(Wo)return or.onStart(()=>tn(Bs,Br.fromStyles)),or.onDestroy(()=>xt(Bs,Br.toStyles)),void l.push(or);if(Mi.isFallbackTransition)return or.onStart(()=>tn(Bs,Br.fromStyles)),or.onDestroy(()=>xt(Bs,Br.toStyles)),void l.push(or);const ml=[];Br.timelines.forEach(Ls=>{Ls.stretchStartingKeyframe=!0,this.disabledNodes.has(Ls.element)||ml.push(Ls)}),Br.timelines=ml,a.append(Bs,Br.timelines),ee.push({instruction:Br,player:or,element:Bs}),Br.queriedElements.forEach(Ls=>q(De,Ls,[]).push(or)),Br.preStyleProps.forEach((Ls,Ko)=>{if(Ls.size){let Fo=Ze.get(Ko);Fo||Ze.set(Ko,Fo=new Set),Ls.forEach((io,$a)=>Fo.add($a))}}),Br.postStyleProps.forEach((Ls,Ko)=>{let Fo=gt.get(Ko);Fo||gt.set(Ko,Fo=new Set),Ls.forEach((io,$a)=>Fo.add($a))})});if(zi.length){const Zn=[];zi.forEach(fi=>{Zn.push(function Ye(s,p){return new e.wOt(3505,!1)}())}),nr.forEach(fi=>fi.destroy()),this.reportError(Zn)}const Zi=new Map,ir=new Map;ee.forEach(Zn=>{const fi=Zn.element;a.has(fi)&&(ir.set(fi,fi),this._beforeAnimationBuild(Zn.player.namespaceId,Zn.instruction,Zi))}),l.forEach(Zn=>{const fi=Zn.element;this._getPreviousPlayers(fi,!1,Zn.namespaceId,Zn.triggerName,null).forEach(or=>{q(Zi,fi,[]).push(or),or.destroy()})});const cs=oi.filter(Zn=>Ao(Zn,Ze,gt)),us=new Map;Jr(us,this.driver,Si,gt,v.kp).forEach(Zn=>{Ao(Zn,Ze,gt)&&cs.push(Zn)});const eo=new Map;In.forEach((Zn,fi)=>{Jr(eo,this.driver,new Set(Zn),Ze,v.FX)}),cs.forEach(Zn=>{const fi=us.get(Zn),Mi=eo.get(Zn);us.set(Zn,new Map([...fi?.entries()??[],...Mi?.entries()??[]]))});const to=[],fl=[],pl={};ee.forEach(Zn=>{const{element:fi,player:Mi,instruction:or}=Zn;if(a.has(fi)){if(Vt.has(fi))return Mi.onDestroy(()=>xt(fi,or.toStyles)),Mi.disabled=!0,Mi.overrideTotalTime(or.totalTime),void l.push(Mi);let Bs=pl;if(ir.size>1){let no=fi;const ca=[];for(;no=no.parentNode;){const Br=ir.get(no);if(Br){Bs=Br;break}ca.push(no)}ca.forEach(Br=>ir.set(Br,Bs))}const Wo=this._buildAnimation(Mi.namespaceId,or,Zi,D,eo,us);if(Mi.setRealPlayer(Wo),Bs===pl)to.push(Mi);else{const no=this.playersByElement.get(Bs);no&&no.length&&(Mi.parentPlayer=Lt(no)),l.push(Mi)}}else tn(fi,or.fromStyles),Mi.onDestroy(()=>xt(fi,or.toStyles)),fl.push(Mi),Vt.has(fi)&&l.push(Mi)}),fl.forEach(Zn=>{const fi=D.get(Zn.element);if(fi&&fi.length){const Mi=Lt(fi);Zn.setRealPlayer(Mi)}}),l.forEach(Zn=>{Zn.parentPlayer?Zn.syncPlayerEvents(Zn.parentPlayer):Zn.destroy()});for(let Zn=0;Zn<oi.length;Zn++){const fi=oi[Zn],Mi=fi[Hn];if(Qr(fi,on),Mi&&Mi.hasAnimation)continue;let or=[];if(De.size){let Wo=De.get(fi);Wo&&Wo.length&&or.push(...Wo);let no=this.driver.query(fi,Bn,!0);for(let ca=0;ca<no.length;ca++){let Br=De.get(no[ca]);Br&&Br.length&&or.push(...Br)}}const Bs=or.filter(Wo=>!Wo.destroyed);Bs.length?Po(this,fi,Bs):this.processLeaveNode(fi)}return oi.length=0,to.forEach(Zn=>{this.players.push(Zn),Zn.onDone(()=>{Zn.destroy();const fi=this.players.indexOf(Zn);this.players.splice(fi,1)}),Zn.play()}),to}afterFlush(p){this._flushFns.push(p)}afterFlushAnimationsDone(p){this._whenQuietFns.push(p)}_getPreviousPlayers(p,n,a,l,D){let ee=[];if(n){const De=this.playersByQueriedElement.get(p);De&&(ee=De)}else{const De=this.playersByElement.get(p);if(De){const Ze=!D||D==lr;De.forEach(gt=>{gt.queued||!Ze&&gt.triggerName!=l||ee.push(gt)})}}return(a||l)&&(ee=ee.filter(De=>!(a&&a!=De.namespaceId||l&&l!=De.triggerName))),ee}_beforeAnimationBuild(p,n,a){const D=n.element,ee=n.isRemovalTransition?void 0:p,De=n.isRemovalTransition?void 0:n.triggerName;for(const Ze of n.timelines){const gt=Ze.element,Vt=gt!==D,ln=q(a,gt,[]);this._getPreviousPlayers(gt,Vt,ee,De,n.toState).forEach(In=>{const Fn=In.getRealPlayer();Fn.beforeDestroy&&Fn.beforeDestroy(),In.destroy(),ln.push(In)})}tn(D,n.fromStyles)}_buildAnimation(p,n,a,l,D,ee){const De=n.triggerName,Ze=n.element,gt=[],Vt=new Set,ln=new Set,Cn=n.timelines.map(Fn=>{const On=Fn.element;Vt.add(On);const oi=On[Hn];if(oi&&oi.removedBeforeQueried)return new v.sf(Fn.duration,Fn.delay);const wi=On!==Ze,Si=function Yo(s){const p=[];return so(s,p),p}((a.get(On)||Lr).map(Zi=>Zi.getRealPlayer())).filter(Zi=>!!Zi.element&&Zi.element===On),Qi=D.get(On),_i=ee.get(On),nr=Et(this._normalizer,Fn.keyframes,Qi,_i),zi=this._buildPlayer(Fn,nr,Si);if(Fn.subTimeline&&l&&ln.add(On),wi){const Zi=new Co(p,De,On);Zi.setRealPlayer(zi),gt.push(Zi)}return zi});gt.forEach(Fn=>{q(this.playersByQueriedElement,Fn.element,[]).push(Fn),Fn.onDone(()=>function Ss(s,p,n){let a=s.get(p);if(a){if(a.length){const l=a.indexOf(n);a.splice(l,1)}0==a.length&&s.delete(p)}return a}(this.playersByQueriedElement,Fn.element,Fn))}),Vt.forEach(Fn=>tr(Fn,kn));const In=Lt(Cn);return In.onDestroy(()=>{Vt.forEach(Fn=>Qr(Fn,kn)),xt(Ze,n.toStyles)}),ln.forEach(Fn=>{q(l,Fn,[]).push(In)}),In}_buildPlayer(p,n,a){return n.length>0?this.driver.animate(p.element,n,p.duration,p.delay,p.easing,a):new v.sf(p.duration,p.delay)}}class Co{constructor(p,n,a){this.namespaceId=p,this.triggerName=n,this.element=a,this._player=new v.sf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(p){this._containsRealPlayer||(this._player=p,this._queuedCallbacks.forEach((n,a)=>{n.forEach(l=>_t(p,a,void 0,l))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(p.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(p){this.totalTime=p}syncPlayerEvents(p){const n=this._player;n.triggerCallback&&p.onStart(()=>n.triggerCallback("start")),p.onDone(()=>this.finish()),p.onDestroy(()=>this.destroy())}_queueEvent(p,n){q(this._queuedCallbacks,p,[]).push(n)}onDone(p){this.queued&&this._queueEvent("done",p),this._player.onDone(p)}onStart(p){this.queued&&this._queueEvent("start",p),this._player.onStart(p)}onDestroy(p){this.queued&&this._queueEvent("destroy",p),this._player.onDestroy(p)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(p){this.queued||this._player.setPosition(p)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(p){const n=this._player;n.triggerCallback&&n.triggerCallback(p)}}function is(s){return s&&1===s.nodeType}function Ea(s,p){const n=s.style.display;return s.style.display=p??"none",n}function Jr(s,p,n,a,l){const D=[];n.forEach(Ze=>D.push(Ea(Ze)));const ee=[];a.forEach((Ze,gt)=>{const Vt=new Map;Ze.forEach(ln=>{const Cn=p.computeStyle(gt,ln,l);Vt.set(ln,Cn),(!Cn||0==Cn.length)&&(gt[Hn]=er,ee.push(gt))}),s.set(gt,Vt)});let De=0;return n.forEach(Ze=>Ea(Ze,D[De++])),ee}function mo(s,p){const n=new Map;if(s.forEach(De=>n.set(De,[])),0==p.length)return n;const l=new Set(p),D=new Map;function ee(De){if(!De)return 1;let Ze=D.get(De);if(Ze)return Ze;const gt=De.parentNode;return Ze=n.has(gt)?gt:l.has(gt)?1:ee(gt),D.set(De,Ze),Ze}return p.forEach(De=>{const Ze=ee(De);1!==Ze&&n.get(Ze).push(De)}),n}function tr(s,p){s.classList?.add(p)}function Qr(s,p){s.classList?.remove(p)}function Po(s,p,n){Lt(n).onDone(()=>s.processLeaveNode(p))}function so(s,p){for(let n=0;n<s.length;n++){const a=s[n];a instanceof v.ui?so(a.players,p):p.push(a)}}function Ao(s,p,n){const a=n.get(s);if(!a)return!1;let l=p.get(s);return l?a.forEach(D=>l.add(D)):p.set(s,a),n.delete(s),!0}class Es{constructor(p,n,a,l){this._driver=n,this._normalizer=a,this._triggerCache={},this.onRemovalComplete=(D,ee)=>{},this._transitionEngine=new ro(p.body,n,a,l),this._timelineEngine=new zo(p.body,n,a),this._transitionEngine.onRemovalComplete=(D,ee)=>this.onRemovalComplete(D,ee)}registerTrigger(p,n,a,l,D){const ee=p+"-"+l;let De=this._triggerCache[ee];if(!De){const Ze=[],Vt=Qt(this._driver,D,Ze,[]);if(Ze.length)throw function Oe(s,p){return new e.wOt(3404,!1)}();De=function gr(s,p,n){return new vr(s,p,n)}(l,Vt,this._normalizer),this._triggerCache[ee]=De}this._transitionEngine.registerTrigger(n,l,De)}register(p,n){this._transitionEngine.register(p,n)}destroy(p,n){this._transitionEngine.destroy(p,n)}onInsert(p,n,a,l){this._transitionEngine.insertNode(p,n,a,l)}onRemove(p,n,a){this._transitionEngine.removeNode(p,n,a)}disableAnimations(p,n){this._transitionEngine.markElementAsDisabled(p,n)}process(p,n,a,l){if("@"==a.charAt(0)){const[D,ee]=Se(a);this._timelineEngine.command(D,n,ee,l)}else this._transitionEngine.trigger(p,n,a,l)}listen(p,n,a,l,D){if("@"==a.charAt(0)){const[ee,De]=Se(a);return this._timelineEngine.listen(ee,n,De,D)}return this._transitionEngine.listen(p,n,a,l,D)}flush(p=-1){this._transitionEngine.flush(p)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(p){this._transitionEngine.afterFlushAnimationsDone(p)}}class rr{static{this.initialStylesByElement=new WeakMap}constructor(p,n,a){this._element=p,this._startStyles=n,this._endStyles=a,this._state=0;let l=rr.initialStylesByElement.get(p);l||rr.initialStylesByElement.set(p,l=new Map),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&xt(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(xt(this._element,this._initialStyles),this._endStyles&&(xt(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(rr.initialStylesByElement.delete(this._element),this._startStyles&&(tn(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(tn(this._element,this._endStyles),this._endStyles=null),xt(this._element,this._initialStyles),this._state=3)}}function Or(s){let p=null;return s.forEach((n,a)=>{(function ss(s){return"display"===s||"position"===s})(a)&&(p=p||new Map,p.set(a,n))}),p}class ao{constructor(p,n,a,l){this.element=p,this.keyframes=n,this.options=a,this._specialStyles=l,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=a.duration,this._delay=a.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(p=>p()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const p=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,p,this.options),this._finalKeyframe=p.length?p[p.length-1]:new Map;const n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(p){const n=[];return p.forEach(a=>{n.push(Object.fromEntries(a))}),n}_triggerWebAnimation(p,n,a){return p.animate(this._convertKeyframesToObject(n),a)}onStart(p){this._originalOnStartFns.push(p),this._onStartFns.push(p)}onDone(p){this._originalOnDoneFns.push(p),this._onDoneFns.push(p)}onDestroy(p){this._onDestroyFns.push(p)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(p=>p()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(p=>p()),this._onDestroyFns=[])}setPosition(p){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=p*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const p=new Map;this.hasStarted()&&this._finalKeyframe.forEach((a,l)=>{"offset"!==l&&p.set(l,this._finished?a:mn(this.element,l))}),this.currentSnapshot=p}triggerCallback(p){const n="start"===p?this._onStartFns:this._onDoneFns;n.forEach(a=>a()),n.length=0}}class Ta{validateStyleProperty(p){return!0}validateAnimatableStyleProperty(p){return!0}matchesElement(p,n){return!1}containsElement(p,n){return en(p,n)}getParentElement(p){return lt(p)}query(p,n,a){return rt(p,n,a)}computeStyle(p,n,a){return mn(p,n)}animate(p,n,a,l,D,ee=[]){const Ze={duration:a,delay:l,fill:0==l?"both":"forwards"};D&&(Ze.easing=D);const gt=new Map,Vt=ee.filter(In=>In instanceof ao);(function jt(s,p){return 0===s||0===p})(a,l)&&Vt.forEach(In=>{In.currentSnapshot.forEach((Fn,On)=>gt.set(On,Fn))});let ln=function yt(s){return s.length?s[0]instanceof Map?s:s.map(p=>new Map(Object.entries(p))):[]}(n).map(In=>new Map(In));ln=function Yt(s,p,n){if(n.size&&p.length){let a=p[0],l=[];if(n.forEach((D,ee)=>{a.has(ee)||l.push(ee),a.set(ee,D)}),l.length)for(let D=1;D<p.length;D++){let ee=p[D];l.forEach(De=>ee.set(De,mn(s,De)))}}return p}(p,ln,gt);const Cn=function Nr(s,p){let n=null,a=null;return Array.isArray(p)&&p.length?(n=Or(p[0]),p.length>1&&(a=Or(p[p.length-1]))):p instanceof Map&&(n=Or(p)),n||a?new rr(s,n,a):null}(p,ln);return new ao(p,ln,Ze,Cn)}}const Vs="@.disabled";class pr{constructor(p,n,a,l){this.namespaceId=p,this.delegate=n,this.engine=a,this._onDestroy=l,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(p){this.delegate.destroyNode?.(p)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(p,n){return this.delegate.createElement(p,n)}createComment(p){return this.delegate.createComment(p)}createText(p){return this.delegate.createText(p)}appendChild(p,n){this.delegate.appendChild(p,n),this.engine.onInsert(this.namespaceId,n,p,!1)}insertBefore(p,n,a,l=!0){this.delegate.insertBefore(p,n,a),this.engine.onInsert(this.namespaceId,n,p,l)}removeChild(p,n,a){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(p,n){return this.delegate.selectRootElement(p,n)}parentNode(p){return this.delegate.parentNode(p)}nextSibling(p){return this.delegate.nextSibling(p)}setAttribute(p,n,a,l){this.delegate.setAttribute(p,n,a,l)}removeAttribute(p,n,a){this.delegate.removeAttribute(p,n,a)}addClass(p,n){this.delegate.addClass(p,n)}removeClass(p,n){this.delegate.removeClass(p,n)}setStyle(p,n,a,l){this.delegate.setStyle(p,n,a,l)}removeStyle(p,n,a){this.delegate.removeStyle(p,n,a)}setProperty(p,n,a){"@"==n.charAt(0)&&n==Vs?this.disableAnimations(p,!!a):this.delegate.setProperty(p,n,a)}setValue(p,n){this.delegate.setValue(p,n)}listen(p,n,a){return this.delegate.listen(p,n,a)}disableAnimations(p,n){this.engine.disableAnimations(p,n)}}class js extends pr{constructor(p,n,a,l,D){super(n,a,l,D),this.factory=p,this.namespaceId=n}setProperty(p,n,a){"@"==n.charAt(0)?"."==n.charAt(1)&&n==Vs?this.disableAnimations(p,a=void 0===a||!!a):this.engine.process(this.namespaceId,p,n.slice(1),a):this.delegate.setProperty(p,n,a)}listen(p,n,a){if("@"==n.charAt(0)){const l=function Fr(s){switch(s){case"body":return document.body;case"document":return document;case"window":return window;default:return s}}(p);let D=n.slice(1),ee="";return"@"!=D.charAt(0)&&([D,ee]=function Ur(s){const p=s.indexOf(".");return[s.substring(0,p),s.slice(p+1)]}(D)),this.engine.listen(this.namespaceId,l,D,ee,De=>{this.factory.scheduleListenerCallback(De._data||-1,a,De)})}return this.delegate.listen(p,n,a)}}class Wr{constructor(p,n,a){this.delegate=p,this.engine=n,this._zone=a,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,n.onRemovalComplete=(l,D)=>{const ee=D?.parentNode(l);ee&&D.removeChild(ee,l)}}createRenderer(p,n){const l=this.delegate.createRenderer(p,n);if(!p||!n?.data?.animation){const gt=this._rendererCache;let Vt=gt.get(l);return Vt||(Vt=new pr("",l,this.engine,()=>gt.delete(l)),gt.set(l,Vt)),Vt}const D=n.id,ee=n.id+"-"+this._currentId;this._currentId++,this.engine.register(ee,p);const De=gt=>{Array.isArray(gt)?gt.forEach(De):this.engine.registerTrigger(D,ee,p,gt.name,gt)};return n.data.animation.forEach(De),new js(this,ee,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(p,n,a){if(p>=0&&p<this._microtaskId)return void this._zone.run(()=>n(a));const l=this._animationCallbacksBuffer;0==l.length&&queueMicrotask(()=>{this._zone.run(()=>{l.forEach(D=>{const[ee,De]=D;ee(De)}),this._animationCallbacksBuffer=[]})}),l.push([n,a])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}var pn=u(177);let vs=(()=>{class s extends Es{constructor(n,a,l){super(n,a,l,(0,e.WQX)(e.An2,{optional:!0}))}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(a){return new(a||s)(e.KVO(pn.qQ),e.KVO(ae),e.KVO(j))}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac})}}return s})();const ge=[{provide:j,useFactory:function Ne(){return new An}},{provide:Es,useClass:vs},{provide:e._9s,useFactory:function je(s,p,n){return new Wr(s,p,n)},deps:[i.B7,Es,e.SKi]}],tt=[{provide:ae,useFactory:()=>new Ta},{provide:e.bc$,useValue:"BrowserAnimations"},...ge],Pt=[{provide:ae,useClass:ve},{provide:e.bc$,useValue:"NoopAnimations"},...ge];let Kn=(()=>{class s{static withConfig(n){return{ngModule:s,providers:n.disableAnimations?Pt:tt}}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({providers:tt,imports:[i.Bb]})}}return s})();var Jn=u(5794),Me=u(534),Xe=u(4304),wt=u(3816),Rt=u(779),Bt=u(9838),bt=u(1583),dn=u(2892),Jt=u(3178),Qn=u(4446),Nn=u(8416),$n=u(1594);const Pr="9.0.0";var Di=u(7468),Is=u(6648);let ua=(()=>{class s{static{this.DocsLink="documentation/index.html"}static{this.EnablingDynamicAuth="documentation/DynamicAuthentication/Enabling_Dynamic_Authentication.html"}static{this.AdvOthDynamicAuth="documentation/DynamicAuthentication/Editing_a_Oidc_Dynamic_Provider.html#advanced-tab-other"}static{this.ApiDocsLink="swagger"}static{this.SupportLink="mailto:support@identityserver.com?subject=AdminUI"}}return s})();var Xo=u(1339),Vr=u(7883),ki=u(6801),Wn=u(7005),Zr=u(6888);class Ds{constructor(){this.rss=new Er,this.rss.channel=new vl,this.rss.channel.item=new Array}}class Er{}class vl{}class $i{}var Ro=u(1108),Ia=u(4549),_n=u(1780),As=u(7384);const Jo=(s,p)=>({"tw-bg-white":s,"tw-bg-grey-100":p});function Fs(s,p){1&s&&(e.j41(0,"div",6),e.nrm(1,"app-simple-loader"),e.k0s())}function Da(s,p){if(1&s&&(e.j41(0,"li",8)(1,"a",9)(2,"h3",10),e.EFF(3),e.k0s(),e.j41(4,"span",11),e.EFF(5),e.k0s(),e.j41(6,"p",12),e.EFF(7),e.k0s()()()),2&s){const n=p.$implicit,a=e.XpG(2);e.R7$(),e.Y8G("href",a.domSanitizer.bypassSecurityTrustUrl(n.link),e.B4B),e.R7$(2),e.JRh(n.title),e.R7$(2),e.JRh(n.pubDate),e.R7$(2),e.JRh(n.description)}}function Qo(s,p){if(1&s&&(e.j41(0,"ul"),e.DNE(1,Da,8,4,"li",7),e.k0s()),2&s){const n=e.XpG();e.R7$(),e.Y8G("ngForOf",null==n.dto?null:n.dto.rss.channel.item)}}let ql=(()=>{class s{constructor(n,a,l){this.http=n,this.domSanitizer=a,this.translate=l,this.rssURL="https://www.identityserver.com/rss",this.versionNumber="",this.altTheme=!1,this.errorEntry=new $i}ngOnInit(){this.isLoading=!0,this.http.get(this.rssURL,{headers:new S.Lr({Accept:"application/xml"}),responseType:"text"}).subscribe(n=>{this.dto=(new Ro).xml2js(n),Object.setPrototypeOf(this.dto,Ds.prototype),this.dto.rss.channel.item.forEach(a=>{a.pubDate=this.formatDate(a.pubDate)}),this.isLoading=!1},n=>{this.errorEntry.title=this.translate.instant("Errors.RssUnavailable"),this.dto=new Ds,this.dto.rss.channel.item.push(this.errorEntry),this.isLoading=!1})}formatDate(n){return n?Ia.c9.fromHTTP(n).toFormat("DD"):""}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(S.Qq),e.rXU(i.up),e.rXU(_n.c$))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-rss-feed"]],inputs:{altTheme:"altTheme"},decls:9,vars:9,consts:[["id","rssFeed"],[1,"tw-flex","tw-items-center","tw-text-lg","tw-font-semibold","tw-mb-4"],["aria-hidden","true",1,"fas","fa-rss","tw-text-sm","tw-text-orange-500","tw-mr-2"],[1,"tw-border","tw-border-grey-200","tw-shadow-inner","tw-h-72","tw-p-4","tw-overflow-y-auto","tw-relative","scrollbars",3,"ngClass"],["class","tw-flex tw-items-center tw-justify-center tw-absolute tw-inset-0",4,"ngIf"],[4,"ngIf"],[1,"tw-flex","tw-items-center","tw-justify-center","tw-absolute","tw-inset-0"],["class","tw-border-b tw-border-grey-200 tw-mb-5 tw-pb-5 last:tw-mb-0 last:tw-pb-0 last:tw-border-0",4,"ngFor","ngForOf"],[1,"tw-border-b","tw-border-grey-200","tw-mb-5","tw-pb-5","last:tw-mb-0","last:tw-pb-0","last:tw-border-0"],["target","_blank",1,"tw-block",3,"href"],[1,"tw-text-base"],[1,"tw-block","tw-text-xs","tw-text-grey-600","tw-font-normal","tw-mt-1"],[1,"tw-text-sm","tw-text-grey-800","tw-font-normal","tw-mt-2"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"h2",1),e.nrm(2,"span",2),e.j41(3,"span"),e.EFF(4),e.nI1(5,"translate"),e.k0s()(),e.j41(6,"div",3),e.DNE(7,Fs,2,0,"div",4)(8,Qo,2,1,"ul",5),e.k0s()()),2&a&&(e.R7$(4),e.JRh(e.bMT(5,4,"LandingPage.LatestNews")),e.R7$(2),e.Y8G("ngClass",e.l_i(6,Jo,!l.altTheme,l.altTheme)),e.R7$(),e.Y8G("ngIf",l.isLoading),e.R7$(),e.Y8G("ngIf",!l.isLoading))},dependencies:[pn.YU,pn.Sq,pn.bT,As.d,_n.D9],encapsulation:2})}}return s})();function Zo(s,p){1&s&&e.nrm(0,"span",27)}let yl=(()=>{class s{get LinkConstants(){return ua}constructor(n,a,l,D,ee,De,Ze){this.authService=n,this.securityService=a,this.titleService=l,this.healthCheckService=D,this.localizeRouter=ee,this.router=De,this.loginTrackingService=Ze,this.loginAllowed=!1,this.startLogin=!1,this.versionNumber="",this.titleService.setTitle(`${Bt.$9.SITE_TITLE}`),this.versionNumber=Pr;const gt=new Date;this.appCopyright=2017!==gt.getFullYear()?"2017 - "+gt.getFullYear():"2017"}ngOnInit(){this.startLogin=!1;const n=this.healthCheckService.idsHealthCheckComplete.pipe((0,$n.$)()),a=this.healthCheckService.uiHealthCheckComplete.pipe((0,$n.$)());(0,Di.p)([n,a]).subscribe(()=>{this.healthCheckService.idsReady&&this.healthCheckService.uiReady&&(this.loginAllowed=!0)})}canLogin(){this.healthCheckService.idsReady&&this.healthCheckService.uiReady&&(this.loginAllowed=!0)}ngAfterViewInit(){document.dispatchEvent(new Event("appready"))}start(){const n=this.localizeRouter.translateRoute("/home");return this.startLogin=!0,(0,Is.H)(this.router.navigate([n]))}login(){this.loginTrackingService.startLogin(),this.authService.login()}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(Xo.u),e.rXU(Vr.i),e.rXU(i.hE),e.rXU(ki.M),e.rXU(Wn.QG),e.rXU(bt.Ix),e.rXU(Zr.W))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-landing-page"]],decls:49,vars:28,consts:[[1,"tw-fixed","tw-inset-0","tw-z-10"],[1,"tw-bg-primary-500","tw-absolute","tw-inset-0",2,"background-image","url(assets/img/pattern.png)"],[1,"tw--mt-5","tw-mx-auto","tw--mb-10","tw-relative","tw-z-20"],[1,"tw-flex","tw-items-center","tw-h-16","tw-mb-4"],["src","assets/img/logo-persimmon.png","alt","AdminUI",1,"tw-h-8"],[1,"tw-text-sm","tw-font-semibold","tw-text-white-75","tw-ml-auto"],[1,"tw-px-6"],[1,"tw-bg-white","tw-p-6","tw--mx-6","tw-shadow","tw-rounded","md:tw-mx-auto","md:tw-max-w-2xl"],[1,"tw-text-xl","tw-font-semibold","md:tw-text-2xl"],[1,"tw-font-semibold","tw-mt-3"],[1,"tw-text-sm","tw-mt-2"],["href","mailto:sales@identityserver.com?subject=AdminUI",1,"tw-text-blue-500","tw-font-semibold","hover:tw-text-body","tw-transition-all","tw-ease-in-out"],[1,"tw-mt-4"],["id","loginBtn",1,"tw-btn","tw-btn-success",3,"click","disabled"],["class","fad fa-spinner-third fa-spin tw-text-green-400 tw-text-xs tw-ml-3","aria-hidden","true",4,"ngIf"],[1,"tw-flex","tw-flex-wrap","tw-items-center","tw-border-t","tw-border-grey-200","tw-text-sm","tw--mx-6","tw--mb-2","tw-mt-6","tw-pt-4","tw-px-6"],[1,"tw-flex","tw-items-center","tw-mr-3"],["target","_blank","rel","noopener",1,"tw-inline-block","tw-text-blue-500","hover:tw-text-body","tw-transition-all","tw-ease-in-out",3,"href"],["aria-hidden","true",1,"tw-ml-3","tw-opacity-50"],[1,"tw-flex","tw-items-center"],[1,"tw-inline-block","tw-text-blue-500","hover:tw-text-body","tw-transition-all","tw-ease-in-out",3,"href"],[1,"tw-bg-white","tw-mt-6","tw-p-6","tw--mx-6","tw-shadow","tw-rounded","md:tw-mx-auto","md:tw-max-w-2xl","md:tw-mt-8","lg:tw-mt-10"],["altTheme","true"],["id","copyright",1,"tw-text-center","tw-mt-6","md:tw-mt-8","lg:tw-mt-10"],["id","RSKBackLink","href","https://www.rocksolidknowledge.com","target","_blank","rel","noopener",1,"tw-inline-block","tw-text-white-50","hover:tw-text-white"],["src","assets/img/rsk-logo.png","alt","Rock Solid Knowledge","aria-hidden","true",1,"tw-block","tw-w-40","tw-mx-auto"],[1,"tw-block","tw-text-xs","tw-mt-2"],["aria-hidden","true",1,"fad","fa-spinner-third","fa-spin","tw-text-green-400","tw-text-xs","tw-ml-3"]],template:function(a,l){1&a&&(e.j41(0,"div",0),e.nrm(1,"div",1),e.k0s(),e.j41(2,"div",2)(3,"header",3),e.nrm(4,"img",4),e.j41(5,"span",5),e.EFF(6),e.k0s()(),e.j41(7,"div",6)(8,"div",7)(9,"h2",8),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"p",9),e.EFF(13),e.nI1(14,"translate"),e.k0s(),e.j41(15,"p",10),e.EFF(16),e.nI1(17,"translate"),e.j41(18,"a",11),e.EFF(19," sales@identityserver.com "),e.k0s()(),e.j41(20,"div",12)(21,"button",13),e.bIt("click",function(){return l.login()}),e.EFF(22),e.nI1(23,"translate"),e.k0s(),e.DNE(24,Zo,1,0,"span",14),e.k0s(),e.j41(25,"ul",15)(26,"li",16)(27,"a",17),e.EFF(28),e.nI1(29,"translate"),e.k0s(),e.j41(30,"span",18),e.EFF(31,"\u2022"),e.k0s()(),e.j41(32,"li",16)(33,"a",17),e.EFF(34),e.nI1(35,"translate"),e.k0s(),e.j41(36,"span",18),e.EFF(37,"\u2022"),e.k0s()(),e.j41(38,"li",19)(39,"a",20),e.EFF(40),e.nI1(41,"translate"),e.k0s()()()(),e.j41(42,"div",21),e.nrm(43,"app-rss-feed",22),e.k0s(),e.j41(44,"footer",23)(45,"a",24),e.nrm(46,"img",25),e.j41(47,"span",26),e.EFF(48),e.k0s()()()()()),2&a&&(e.R7$(6),e.SpI("v",l.versionNumber,""),e.R7$(4),e.SpI("",e.bMT(11,14,"LandingPage.Welcome")," AdminUI"),e.R7$(3),e.JRh(e.bMT(14,16,"LandingPage.IntroParagraph1")),e.R7$(3),e.SpI(" ",e.bMT(17,18,"LandingPage.IntroParagraph2")," "),e.R7$(5),e.Y8G("disabled",!l.loginAllowed||l.startLogin),e.R7$(),e.SpI(" ",e.bMT(23,20,"Nav.Login")," "),e.R7$(2),e.Y8G("ngIf",l.startLogin),e.R7$(3),e.FS9("href",l.LinkConstants.ApiDocsLink,e.B4B),e.R7$(),e.SpI(" ",e.bMT(29,22,"LandingPage.APIDocs")," "),e.R7$(5),e.FS9("href",l.LinkConstants.DocsLink,e.B4B),e.R7$(),e.SpI(" ",e.bMT(35,24,"Common.Documentation")," "),e.R7$(5),e.FS9("href",l.LinkConstants.SupportLink,e.B4B),e.R7$(),e.SpI(" ",e.bMT(41,26,"Nav.Support")," "),e.R7$(8),e.SpI("\xa9 ",l.appCopyright,""))},dependencies:[pn.bT,ql,_n.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();var hs=u(2972);let Ha=(()=>{class s{constructor(n,a,l){this.authService=n,this.securityService=a,this.appComponentViewService=l}ngOnInit(){this.authService.isAuthenticatedCheck().subscribe(n=>{this.authService.user=n.username,this.authService.isAuthenticated=n.isAuthenticated,n.isAuthenticated?this.appComponentViewService.successAuth():this.appComponentViewService.failAuth(),this.securityService.onAuthorizationResultComplete(n)})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(Xo.u),e.rXU(Vr.i),e.rXU(hs.X))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-auth"]],decls:0,vars:0,template:function(a,l){},encapsulation:2})}}return s})(),ec=(()=>{class s{constructor(n){this.translate=n}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(_n.c$))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["ng-component"]],decls:10,vars:6,consts:[[1,"tw-p-4"],[1,"tw-container","tw-mx-auto"],["role","alert",1,"tw-alert-danger"],[1,"tw-text-sm","tw-font-semibold"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1",3),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"p"),e.EFF(8),e.nI1(9,"translate"),e.k0s()()()()()),2&a&&(e.R7$(5),e.JRh(e.bMT(6,2,"Errors.ForbiddenTitle")),e.R7$(3),e.JRh(e.bMT(9,4,"Errors.ForbiddenDescription")))},dependencies:[_n.D9],encapsulation:2})}}return s})(),Bo=(()=>{class s{constructor(n){this.translate=n}ngAfterViewInit(){document.dispatchEvent(new Event("appready"))}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(_n.c$))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["ng-component"]],decls:10,vars:6,consts:[[1,"tw-p-4"],[1,"tw-container","tw-mx-auto"],["role","alert",1,"tw-alert-danger"],[1,"tw-text-sm","tw-font-semibold"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1",3),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"p"),e.EFF(8),e.nI1(9,"translate"),e.k0s()()()()()),2&a&&(e.R7$(5),e.JRh(e.bMT(6,2,"Errors.NotFoundTitle")),e.R7$(3),e.JRh(e.bMT(9,4,"Errors.NotFoundDescription")))},dependencies:[_n.D9],encapsulation:2})}}return s})();var wo=u(8284);let Wa=(()=>{class s{constructor(n,a){this.route=n,this.translate=a}ngOnInit(){const n=this.route.snapshot.paramMap.get("resource");this.resourceTypeString=n in wo.v?n:"Resource"}ngAfterViewInit(){document.dispatchEvent(new Event("appready"))}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(bt.nX),e.rXU(_n.c$))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["ng-component"]],decls:10,vars:6,consts:[[1,"tw-p-4"],[1,"tw-container","tw-mx-auto"],["role","alert",1,"tw-alert-danger"],[1,"tw-text-sm","tw-font-semibold"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1",3),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"p"),e.EFF(8),e.nI1(9,"translate"),e.k0s()()()()()),2&a&&(e.R7$(5),e.JRh(e.bMT(6,2,"Errors.ResourceNotFoundDescription")),e.R7$(3),e.JRh(e.bMT(9,4,"Errors.ResourceNotFoundDescription")))},dependencies:[_n.D9],encapsulation:2})}}return s})();function Aa(s,p){1&s&&(e.j41(0,"p",6),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Errors.UnableToCompilePolicy")))}function Ka(s,p){1&s&&(e.j41(0,"p",7),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Errors.UnauthenticatedDescription")))}let za=(()=>{class s{constructor(n){this.isEnforcerCompilationError=!1,this.getNavigationState(n)}getNavigationState(n){const a=n.getCurrentNavigation();if(null!=a&&null!=a.extras.state){const l=a.extras.state;l.enforcer&&(this.isEnforcerCompilationError=l.enforcer)}}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(bt.Ix))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["ng-component"]],decls:10,vars:5,consts:[["normalError",""],[1,"tw-p-4"],[1,"tw-container","tw-mx-auto"],["role","alert",1,"tw-alert-danger"],[1,"tw-text-sm","tw-font-semibold"],["id","ContactAdmin",4,"ngIf","ngIfElse"],["id","ContactAdmin"],["id","UnauthDescription"]],template:function(a,l){if(1&a&&(e.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"div")(4,"h1",4),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.DNE(7,Aa,3,3,"p",5)(8,Ka,3,3,"ng-template",null,0,e.C5r),e.k0s()()()()),2&a){const D=e.sdS(9);e.R7$(5),e.JRh(e.bMT(6,3,"Errors.UnauthenticatedTitle")),e.R7$(2),e.Y8G("ngIf",l.isEnforcerCompilationError)("ngIfElse",D)}},dependencies:[pn.bT,_n.D9],encapsulation:2})}}return s})();var _s=u(4589);const Tr=(s,p)=>({title:s,link:p,icon:"fad fa-file fa-swap-opacity"}),go=(s,p)=>({title:s,link:p,icon:"fad fa-file-code fa-swap-opacity"}),Rs=(s,p)=>({title:s,link:p,icon:"fad fa-envelope fa-swap-opacity"}),Ys=(s,p)=>({"tw-pill":s,"tw-pill-info":p});function Lo(s,p){if(1&s&&(e.j41(0,"li",16)(1,"span",17),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"span",19),e.EFF(5),e.k0s()()),2&s){const n=e.XpG(2);e.R7$(2),e.JRh(e.bMT(3,2,"Index.LicensedTo")),e.R7$(3),e.SpI(" ",n.securityService.organisation," ")}}function So(s,p){if(1&s&&(e.j41(0,"div",10)(1,"div",11)(2,"div",12)(3,"div",13)(4,"ul",14),e.DNE(5,Lo,6,4,"li",15),e.j41(6,"li",16)(7,"span",17),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"span",18),e.EFF(11),e.k0s()()()()()()()),2&s){const n=e.XpG();e.R7$(5),e.Y8G("ngIf",n.securityService.organisation),e.R7$(3),e.JRh(e.bMT(9,4,"Index.LicenseType")),e.R7$(2),e.Y8G("ngClass",e.l_i(6,Ys,n.isNonProd(),!n.isNonProd())),e.R7$(),e.SpI(" ",n.securityService.licenseType," ")}}function Kr(s,p){1&s&&e.eu8(0)}function fs(s,p){1&s&&e.eu8(0)}function Ya(s,p){1&s&&e.eu8(0)}function da(s,p){if(1&s&&(e.j41(0,"li",20)(1,"a",21),e.nrm(2,"span",22),e.j41(3,"span",23),e.EFF(4),e.k0s()()()),2&s){const n=p.title,a=p.link,l=p.icon;e.R7$(),e.Y8G("href",a,e.B4B),e.R7$(),e.ZvI("",l," fa-fw tw-shrink-0 tw-opacity-75 tw-mr-3 sm:tw-block sm:tw-mr-0 sm:tw-text-2xl md:tw-text-3xl"),e.R7$(2),e.JRh(n)}}let lo=(()=>{class s{get LinkConstants(){return ua}constructor(n,a){this.titleService=n,this.securityService=a,this.titleService.setTitle(`Home - ${Bt.$9.SITE_TITLE}`)}ngOnInit(){}ngAfterViewInit(){document.dispatchEvent(new Event("appready"))}isDemo(){return this.securityService.licenseType===_s.G.Demo}isNonProd(){return this.securityService.licenseType!==_s.G.Production}isLegacy(){return"Legacy"===this.securityService.organisation}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(i.hE),e.rXU(Vr.i))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-index"]],decls:18,vars:25,consts:[["commonDocsButton",""],[1,"sr-only"],["class","tw-bg-grey-200 tw-border-b tw-border-grey-300 tw--mt-5 tw--mx-4 tw-mb-6 tw-px-4",4,"ngIf"],[1,"tw-container","tw-text-left","tw-mx-auto","tw-mb-4"],[1,"tw-max-w-2xl","tw-mx-auto"],[1,"tw--ml-2","tw--mt-2","md:tw--ml-4","md:tw--mt-4"],[1,"tw-flex","tw-flex-wrap"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"tw-bg-white","tw-mt-6","tw-p-6","tw-max-w-2xl","tw-mx-auto","tw-shadow","tw-rounded"],["altTheme","true"],[1,"tw-bg-grey-200","tw-border-b","tw-border-grey-300","tw--mt-5","tw--mx-4","tw-mb-6","tw-px-4"],[1,"tw-py-4"],[1,"tw-container","tw-text-left","tw-mx-auto"],[1,"tw--mt-4","tw--ml-4"],[1,"tw-flex","tw-flex-wrap","tw-items-center","tw-justify-between","tw-text-xs","tw-text-grey-700","lg:tw-justify-end"],["class","tw-pt-4 tw-pl-4",4,"ngIf"],[1,"tw-pt-4","tw-pl-4"],[1,"tw-mr-2"],[3,"ngClass"],[1,"tw-pill"],[1,"tw-w-full","tw-pt-2","tw-pl-2","sm:tw-w-1/3","md:tw-pt-4","md:tw-pl-4"],["target","_blank",1,"tw-btn","tw-justify-start","tw-py-4","tw-w-full","sm:tw-flex-col",3,"href"],["aria-hidden","true"],[1,"tw-truncate","sm:tw-block","sm:tw-mt-3","sm:tw-text-sm","md:tw-text-base"]],template:function(a,l){if(1&a&&(e.j41(0,"h1",1),e.EFF(1),e.nI1(2,"translate"),e.k0s(),e.DNE(3,So,12,9,"div",2),e.j41(4,"div",3)(5,"div",4)(6,"div",5)(7,"ul",6),e.DNE(8,Kr,1,0,"ng-container",7),e.nI1(9,"translate"),e.DNE(10,fs,1,0,"ng-container",7),e.nI1(11,"translate"),e.DNE(12,Ya,1,0,"ng-container",7),e.nI1(13,"translate"),e.k0s()()(),e.j41(14,"div",8),e.nrm(15,"app-rss-feed",9),e.k0s()(),e.DNE(16,da,5,5,"ng-template",null,0,e.C5r)),2&a){const D=e.sdS(17);e.R7$(),e.JRh(e.bMT(2,8,"Common.AppName")),e.R7$(2),e.Y8G("ngIf",!l.isLegacy()),e.R7$(5),e.Y8G("ngTemplateOutlet",D)("ngTemplateOutletContext",e.l_i(16,Tr,e.bMT(9,10,"Common.Documentation"),l.LinkConstants.DocsLink)),e.R7$(2),e.Y8G("ngTemplateOutlet",D)("ngTemplateOutletContext",e.l_i(19,go,e.bMT(11,12,"LandingPage.APIDocs"),l.LinkConstants.ApiDocsLink)),e.R7$(2),e.Y8G("ngTemplateOutlet",D)("ngTemplateOutletContext",e.l_i(22,Rs,e.bMT(13,14,"Nav.Support"),l.LinkConstants.SupportLink))}},dependencies:[pn.YU,pn.bT,pn.T3,ql,_n.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();var Ms=u(316),Ai=u(7263),bs=u(5602),ne=u(5424),Ke=u(526),fe=u(8698),Pe=u(6536);const Dt=["requiredClaimsForm"];function hn(s,p){if(1&s){const n=e.RV6();e.j41(0,"div",7)(1,"div",10)(2,"h2",11),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"p",12),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"p",13),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"div",14)(12,"span",15)(13,"button",16),e.bIt("click",function(){e.eBV(n);const l=e.XpG();return e.Njj(l.signOutAndRedirectToLogin())}),e.EFF(14),e.nI1(15,"translate"),e.k0s()()()()()}2&s&&(e.R7$(3),e.JRh(e.bMT(4,4,"Notifications.Success")),e.R7$(3),e.SpI(" ",e.bMT(7,6,"InitialAdminCreation.SuccessMessage")," "),e.R7$(3),e.SpI(" ",e.bMT(10,8,"InitialAdminCreation.LoginMessage")," "),e.R7$(5),e.SpI(" ",e.bMT(15,10,"Nav.Login")," "))}function En(s,p){1&s&&(e.j41(0,"span",40),e.EFF(1,"Passwords must match"),e.k0s())}function qn(s,p){1&s&&(e.j41(0,"ul",41)(1,"li"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"li"),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"li"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"li"),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"li"),e.EFF(14),e.nI1(15,"translate"),e.k0s()()),2&s&&(e.R7$(2),e.JRh(e.bMT(3,5,"Users.Password.Requirements.1")),e.R7$(3),e.JRh(e.bMT(6,7,"Users.Password.Requirements.2")),e.R7$(3),e.JRh(e.bMT(9,9,"Users.Password.Requirements.3")),e.R7$(3),e.JRh(e.bMT(12,11,"Users.Password.Requirements.4")),e.R7$(3),e.JRh(e.bMT(15,13,"Users.Password.Requirements.5")))}function dr(s,p){if(1&s){const n=e.RV6();e.j41(0,"input",50),e.mxI("ngModelChange",function(l){e.eBV(n);const D=e.XpG().$implicit;return e.DH7(D.value,l)||(D.value=l),e.Njj(l)}),e.k0s()}if(2&s){const n=e.XpG(),a=n.$implicit;e.Mz_("id","claim-",n.index,""),e.R50("ngModel",a.value)}}function sr(s,p){if(1&s){const n=e.RV6();e.j41(0,"input",51),e.mxI("ngModelChange",function(l){e.eBV(n);const D=e.XpG().$implicit;return e.DH7(D.value,l)||(D.value=l),e.Njj(l)}),e.k0s()}if(2&s){const n=e.XpG(),a=n.$implicit;e.Mz_("id","claim-",n.index,""),e.R50("ngModel",a.value)}}function Yi(s,p){if(1&s){const n=e.RV6();e.j41(0,"div",52)(1,"select",53),e.mxI("ngModelChange",function(l){e.eBV(n);const D=e.XpG().$implicit;return e.DH7(D.value,l)||(D.value=l),e.Njj(l)}),e.j41(2,"option",54),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"option",55),e.EFF(6),e.nI1(7,"translate"),e.k0s()()()}if(2&s){const n=e.XpG(),a=n.$implicit,l=n.index;e.R7$(),e.Mz_("id","claim-",l,""),e.R50("ngModel",a.value),e.R7$(2),e.JRh(e.bMT(4,5,"Common.True")),e.R7$(3),e.JRh(e.bMT(7,7,"Common.False"))}}function Ui(s,p){if(1&s){const n=e.RV6();e.qex(0),e.j41(1,"app-date-time",58),e.mxI("ngModelChange",function(l){e.eBV(n);const D=e.XpG(2).$implicit;return e.DH7(D.value,l)||(D.value=l),e.Njj(l)}),e.k0s(),e.bVm()}if(2&s){const n=e.XpG(2),a=n.$implicit,l=n.index;e.R7$(),e.Mz_("id","claim-",l,""),e.R50("ngModel",a.value)}}function ii(s,p){if(1&s){const n=e.RV6();e.qex(0),e.j41(1,"app-date-time",59),e.mxI("ngModelChange",function(l){e.eBV(n);const D=e.XpG(2).$implicit;return e.DH7(D.value,l)||(D.value=l),e.Njj(l)}),e.k0s(),e.bVm()}if(2&s){const n=e.XpG(2),a=n.$implicit,l=n.index;e.R7$(),e.Mz_("id","claim-",l,""),e.R50("ngModel",a.value),e.Y8G("displayType","date")}}function Xi(s,p){if(1&s&&(e.j41(0,"div",56),e.DNE(1,Ui,2,3,"ng-container",57)(2,ii,2,4,"ng-container",57),e.k0s()),2&s){const n=e.XpG().$implicit;e.R7$(),e.Y8G("ngIf","birthdate"!=n.name),e.R7$(),e.Y8G("ngIf","birthdate"==n.name)}}function cr(s,p){if(1&s&&(e.j41(0,"option",62),e.EFF(1),e.k0s()),2&s){const n=p.$implicit;e.Y8G("value",n),e.R7$(),e.JRh(n)}}function ye(s,p){if(1&s){const n=e.RV6();e.j41(0,"div",52)(1,"select",60),e.mxI("ngModelChange",function(l){e.eBV(n);const D=e.XpG().$implicit;return e.DH7(D.value,l)||(D.value=l),e.Njj(l)}),e.DNE(2,cr,2,2,"option",61),e.k0s()()}if(2&s){const n=e.XpG(),a=n.$implicit,l=n.index;e.R7$(),e.Mz_("id","claim-",l,""),e.R50("ngModel",a.value),e.R7$(),e.Y8G("ngForOf",a.allowedValues)}}function P(s,p){if(1&s&&(e.j41(0,"span",63),e.EFF(1),e.k0s()),2&s){const n=e.XpG().$implicit;e.R7$(),e.SpI(" ",n.failureMessage," ")}}function pe(s,p){if(1&s&&(e.j41(0,"app-form-row",44),e.DNE(1,dr,1,3,"input",45)(2,sr,1,3,"input",46)(3,Yi,8,9,"div",47)(4,Xi,3,2,"div",48)(5,ye,3,4,"div",47)(6,P,2,1,"span",49),e.k0s()),2&s){const n=p.$implicit,a=p.index,l=e.XpG(3);e.Y8G("id","claim-"+a)("label",n.name)("help","DateTime"==n.format?"Common.Dates.UTCWarning":"")("isLast",a===l.displayClaims.length-1),e.R7$(),e.Y8G("ngIf","String"==n.format),e.R7$(),e.Y8G("ngIf","Int"==n.format),e.R7$(),e.Y8G("ngIf","Boolean"==n.format),e.R7$(),e.Y8G("ngIf","DateTime"==n.format),e.R7$(),e.Y8G("ngIf","Enum"==n.format),e.R7$(),e.Y8G("ngIf",null!=n.failureMessage)}}function ke(s,p){if(1&s&&(e.j41(0,"div",42),e.DNE(1,pe,7,10,"app-form-row",43),e.k0s()),2&s){const n=e.XpG(2);e.R7$(),e.Y8G("ngForOf",n.displayClaims)}}function ot(s,p){1&s&&e.nrm(0,"span",64)}function Mt(s,p){if(1&s){const n=e.RV6();e.j41(0,"div",10)(1,"h2",11),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"div"),e.nrm(5,"hr",17)(6,"p",18)(7,"p",19),e.nI1(8,"translate"),e.j41(9,"p",18),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.nrm(12,"hr",17),e.j41(13,"form",20)(14,"app-form-row",21),e.nrm(15,"input",22),e.k0s(),e.j41(16,"app-form-row",21),e.nrm(17,"input",23),e.k0s(),e.j41(18,"app-form-row",21),e.nrm(19,"input",24),e.k0s(),e.j41(20,"app-form-row",21),e.nrm(21,"input",25),e.k0s(),e.j41(22,"app-form-row",21),e.nrm(23,"input",26),e.k0s(),e.j41(24,"app-form-row",21),e.nrm(25,"input",27),e.DNE(26,En,2,0,"span",28)(27,qn,16,15,"ul",29),e.k0s()(),e.j41(28,"form",null,0),e.DNE(30,ke,2,1,"div",30),e.k0s(),e.j41(31,"div",14)(32,"span",15)(33,"button",31),e.bIt("click",function(){e.eBV(n);const l=e.XpG();return e.Njj(l.addUser())}),e.EFF(34),e.nI1(35,"translate"),e.DNE(36,ot,1,0,"span",32),e.k0s()()()(),e.j41(37,"ul",33)(38,"li",34)(39,"a",35),e.EFF(40),e.nI1(41,"translate"),e.k0s(),e.j41(42,"span",36),e.EFF(43,"\u2022"),e.k0s()(),e.j41(44,"li",34)(45,"a",37),e.EFF(46),e.nI1(47,"translate"),e.k0s(),e.j41(48,"span",36),e.EFF(49,"\u2022"),e.k0s()(),e.j41(50,"li",38)(51,"a",39),e.EFF(52),e.nI1(53,"translate"),e.k0s()()()()}if(2&s){const n=e.sdS(29),a=e.XpG();e.R7$(2),e.JRh(e.bMT(3,26,"LandingPage.AdminCreation")),e.R7$(5),e.Y8G("innerHTML",e.bMT(8,28,"InitialAdminCreation.PermissionsInfoMessage"),e.npT),e.R7$(3),e.SpI(" ",e.bMT(11,30,"InitialAdminCreation.PasswordHashMessage")," "),e.R7$(3),e.Y8G("formGroup",a.addUserForm),e.R7$(),e.Y8G("id","FirstName")("label","Users.FirstName"),e.R7$(2),e.Y8G("id","LastName")("label","Users.LastName"),e.R7$(2),e.Y8G("id","Username")("label","Users.Username"),e.R7$(2),e.Y8G("id","Email")("label","Users.Email"),e.R7$(2),e.Y8G("id","Password")("label","Users.Password.Title"),e.R7$(2),e.Y8G("id","Password")("label","UserDetails.Confirm Password"),e.R7$(2),e.Y8G("ngIf",a.addUserForm.hasError("notSame")),e.R7$(),e.Y8G("ngIf",a.addUserForm.get("password").hasError("pattern")),e.R7$(3),e.Y8G("ngIf",a.displayClaims.length>0),e.R7$(3),e.Y8G("disabled",!a.addUserForm.valid||!n.form.valid||a.inFlight),e.R7$(),e.SpI(" ",e.bMT(35,32,"Common.Save")," "),e.R7$(2),e.Y8G("ngIf",a.inFlight),e.R7$(3),e.FS9("href",a.apiDocsLink,e.B4B),e.R7$(),e.SpI(" ",e.bMT(41,34,"LandingPage.APIDocs")," "),e.R7$(6),e.SpI(" ",e.bMT(47,36,"Common.Documentation")," "),e.R7$(6),e.SpI(" ",e.bMT(53,38,"Nav.Support")," ")}}let Ut=(()=>{class s{constructor(n,a,l,D,ee,De,Ze,gt){this.authService=n,this.titleService=a,this.toastr=l,this.fb=D,this.userService=ee,this.errorService=De,this.claimTypesService=Ze,this.appComponentViewService=gt,this.versionNumber="",this.createdAdmin=!1,this.displayClaims=[],this.checkPasswords=ln=>ln.get("password").value===ln.get("confirmPassword").value?null:{notSame:!0},this.titleService.setTitle(`${Bt.$9.SITE_TITLE}`),this.versionNumber=Pr;const Vt=new Date;this.appCopyright=2017!==Vt.getFullYear()?"2017 - "+Vt.getFullYear():"2017"}ngOnInit(){this.appComponentViewService.startInitialAdminCreation(),this.createForms(),this.claimTypesService.getClaimTypes(null,null).subscribe(n=>{this.claimTypes=n;for(const l of this.claimTypes)l.required&&this.displayClaims.push({claimTypeId:l.id,format:l.valueType,name:l.name,value:null,failureMessage:l.ruleValidationFailureDescription,allowedValues:l.allowedValues})},n=>{this.errorService.handleError(n)})}addUser(){let n;n=JSON.parse(JSON.stringify(this.addUserForm.value)),Object.assign(n,{claims:[]});for(const a of this.displayClaims){if(null===a.value)continue;let l=a.value;"DateTime"===a.format&&(l=a.value),"Int"===a.format&&(l=l.toString()),n.claims.push({claimTypeId:a.claimTypeId,value:l,type:a.name})}this.inFlight=!0,this.userService.addInitialAdministrator(n).subscribe(()=>{this.inFlight=!1,this.createdAdmin=!0},a=>{this.inFlight=!1,this.errorService.handleError(a)})}signOutAndRedirectToLogin(){this.authService.logoff()}createForms(){this.addUserForm=this.fb.group({username:["",[g.k0.required,(0,Ai.Zt)()]],email:["",Ms.D],firstName:["",g.k0.required],lastName:["",g.k0.required],password:["",g.k0.pattern("^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$")],confirmPassword:[""]},{validators:this.checkPasswords})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(Xo.u),e.rXU(i.hE),e.rXU(Jn.tw),e.rXU(g.ze),e.rXU(bs.D),e.rXU(ne.I),e.rXU(Ke.X),e.rXU(hs.X))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-initial-admin-creation"]],viewQuery:function(a,l){if(1&a&&e.GBs(Dt,5),2&a){let D;e.mGM(D=e.lsd())&&(l.requiredClaimsForm=D.first)}},decls:10,vars:3,consts:[["requiredClaimsForm","ngForm"],[1,"tw-fixed","tw-inset-0","tw-z-10"],[1,"tw-bg-primary-500","tw-absolute","tw-inset-0",2,"background-image","url(assets/img/pattern.png)"],[1,"tw--mt-5","tw-mx-auto","tw--mb-10","tw-relative","tw-z-20"],[1,"tw-flex","tw-items-center","tw-h-16","tw-mb-4"],["src","assets/img/logo-persimmon.png","alt","AdminUI",1,"tw-h-8"],[1,"tw-text-sm","tw-font-semibold","tw-text-white-75","tw-ml-auto"],[1,"tw-px-6"],["class","tw-px-6",4,"ngIf"],["class","tw-bg-white tw-p-6 tw--mx-6 tw-shadow tw-rounded md:tw-mx-auto md:tw-max-w-2xl",4,"ngIf"],[1,"tw-bg-white","tw-p-6","tw--mx-6","tw-shadow","tw-rounded","md:tw-mx-auto","md:tw-max-w-2xl"],[1,"tw-text-xl","tw-font-semibold","md:tw-text-2xl"],["role","alert",1,"tw-alert-success","tw-mb-4","tw-mt-4"],[1,"tw-text-sm","tw-mt-2"],[1,"tw-mt-4"],[1,"xs:tw-mr-3"],["id","loginBtn",1,"tw-btn","tw-btn-success",3,"click"],[1,"tw-mt-5","tw-mt-5"],[1,"tw-font-semibold","tw-mt-5"],[1,"tw-mt-5",3,"innerHTML"],["autocomplete","off",1,"form","tw-mt-5",3,"formGroup"],[3,"id","label"],["id","FirstName","type","text","name","FirstName","formControlName","firstName","required","",1,"tw-form-control"],["id","LastName","type","text","name","LastName","formControlName","lastName","required","",1,"tw-form-control"],["id","Username","type","text","name","username","formControlName","username","required","",1,"tw-form-control"],["id","Email","type","email","name","email","formControlName","email","required","",1,"tw-form-control"],["id","Password","type","password","name","Password","formControlName","password","aria-labelledby","PasswordHelp","required","",1,"tw-form-control"],["id","ConfirmPassword","type","password","name","ConfirmPassword","formControlName","confirmPassword","required","",1,"tw-form-control"],["class","tw-form-text-danger",4,"ngIf"],["id","PasswordHelp","class","tw-form-text-danger",4,"ngIf"],["id","claimsForm",4,"ngIf"],["type","submit","id","addUserSubmit",1,"tw-btn-success",3,"click","disabled"],["class","fad fa-spinner-third fa-spin tw-text-secondary-500 tw-mr-2 tw-ml-2",4,"ngIf"],[1,"tw-flex","tw-flex-wrap","tw-items-center","tw-border-t","tw-border-grey-200","tw-text-sm","tw--mx-6","tw--mb-2","tw-mt-6","tw-pt-4","tw-px-6"],[1,"tw-flex","tw-items-center","tw-mr-3"],["target","_blank",1,"tw-inline-block","tw-text-blue-500","hover:tw-text-body","tw-transition-all","tw-ease-in-out",3,"href"],["aria-hidden","true",1,"tw-ml-3","tw-opacity-50"],["href","documentation/index.html","target","_blank",1,"tw-inline-block","tw-text-blue-500","hover:tw-text-body","tw-transition-all","tw-ease-in-out"],[1,"tw-flex","tw-items-center"],["href","mailto:support@identityserver.com?subject=AdminUI",1,"tw-inline-block","tw-text-blue-500","hover:tw-text-body","tw-transition-all","tw-ease-in-out"],[1,"tw-form-text-danger"],["id","PasswordHelp",1,"tw-form-text-danger"],["id","claimsForm"],[3,"id","label","help","isLast",4,"ngFor","ngForOf"],[3,"id","label","help","isLast"],["class","tw-form-control","type","text","name","string","required","",3,"id","ngModel","ngModelChange",4,"ngIf"],["class","tw-form-control","type","number","name","number","required","",3,"id","ngModel","ngModelChange",4,"ngIf"],["class","tw-form-select",4,"ngIf"],["class","tw-w-full sm:tw-max-w-2xl",4,"ngIf"],["class","tw-form-text",4,"ngIf"],["type","text","name","string","required","",1,"tw-form-control",3,"ngModelChange","id","ngModel"],["type","number","name","number","required","",1,"tw-form-control",3,"ngModelChange","id","ngModel"],[1,"tw-form-select"],["name","boolean","required","",1,"tw-form-control",3,"ngModelChange","id","ngModel"],["value","true"],["value","false"],[1,"tw-w-full","sm:tw-max-w-2xl"],[4,"ngIf"],["name","claimValue","required","",3,"ngModelChange","id","ngModel"],["name","claimValue","required","",3,"ngModelChange","id","ngModel","displayType"],["name","enum","required","",1,"tw-form-control",3,"ngModelChange","id","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"tw-form-text"],[1,"fad","fa-spinner-third","fa-spin","tw-text-secondary-500","tw-mr-2","tw-ml-2"]],template:function(a,l){1&a&&(e.j41(0,"div",1),e.nrm(1,"div",2),e.k0s(),e.j41(2,"div",3)(3,"header",4),e.nrm(4,"img",5),e.j41(5,"span",6),e.EFF(6),e.k0s()(),e.j41(7,"div",7),e.DNE(8,hn,16,12,"div",8)(9,Mt,54,40,"div",9),e.k0s()()),2&a&&(e.R7$(6),e.SpI("v",l.versionNumber,""),e.R7$(2),e.Y8G("ngIf",l.createdAdmin),e.R7$(),e.Y8G("ngIf",!l.createdAdmin))},dependencies:[pn.Sq,pn.bT,g.qT,g.xH,g.y7,g.me,g.Q0,g.wz,g.BC,g.cb,g.YS,g.vS,g.cV,g.j4,g.JD,fe.Y,Pe.Z,_n.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();var Zt=u(3680),rn=u(6719),bn=u(251);const ei=(s,p)=>({title:s,link:p}),Vn=s=>[s];function _r(s,p){1&s&&(e.j41(0,"span",8),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Policy")," "))}function mi(s,p){1&s&&(e.j41(0,"span",9),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Reserved")," "))}function jr(s,p){if(1&s&&(e.qex(0,5),e.DNE(1,_r,3,3,"span",6)(2,mi,3,3,"span",7),e.bVm()),2&s){const n=e.XpG();e.R7$(),e.Y8G("ngIf",n.isPolicyRole()),e.R7$(),e.Y8G("ngIf",n.role.reserved)}}let Ir=(()=>{class s{constructor(n,a,l,D){this.activatedRoute=n,this.errorService=a,this.router=l,this.securityService=D}ngOnInit(){this.roleDataSubscription=this.activatedRoute.data.subscribe(n=>{this.role=n.role},n=>{this.errorService.handleError(n)})}ngOnDestroy(){this.roleDataSubscription.unsubscribe()}isPolicyRole(){const n=this.securityService.policyClaims;for(let a=0;a<n.length;a++)if("role"===n[a].type&&n[a].value===this.role.name)return!0;return!1}mobRoute(n){this.router.navigate([n],{relativeTo:this.activatedRoute})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(bt.nX),e.rXU(ne.I),e.rXU(bt.Ix),e.rXU(Vr.i))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["ng-component"]],decls:10,vars:17,consts:[[3,"title","crumbs","hasTabs"],["badge","",4,"ngIf"],["tabs",""],[3,"tabTitle","tabValue"],["id","editRole"],["badge",""],["class","tw-pill-warning tw-mr-2",4,"ngIf"],["class","tw-pill tw-mr-2",4,"ngIf"],[1,"tw-pill-warning","tw-mr-2"],[1,"tw-pill","tw-mr-2"]],template:function(a,l){1&a&&(e.j41(0,"app-title-bar",0),e.nI1(1,"translate"),e.nI1(2,"localize"),e.DNE(3,jr,3,2,"ng-container",1),e.qex(4,2),e.j41(5,"app-custom-tabs"),e.nrm(6,"app-custom-tab",3)(7,"app-custom-tab",3),e.k0s(),e.bVm(),e.k0s(),e.j41(8,"div",4),e.nrm(9,"router-outlet"),e.k0s()),2&a&&(e.Y8G("title",l.role.name)("crumbs",e.eq3(15,Vn,e.l_i(12,ei,e.bMT(1,8,"Nav.Roles"),e.bMT(2,10,"/roles"))))("hasTabs",!0),e.R7$(3),e.Y8G("ngIf",l.isPolicyRole()||l.role.reserved),e.R7$(3),e.Y8G("tabTitle","Nav.Details")("tabValue","details"),e.R7$(),e.Y8G("tabTitle","Nav.Users")("tabValue","users"))},dependencies:[pn.bT,bt.n3,Zt.z,rn.G,bn.v,_n.D9,Wn.tl],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();var Cs=u(9957),Hi=u(6303),as=u(3519),Mo=u(7499),ha=u(6728),vo=u(6406),qr=u(8762),Uo=u(7778),Ri=u(4692);const Ra=s=>[s];function qo(s,p){1&s&&e.nrm(0,"input",12)}function Vo(s,p){if(1&s&&(e.nrm(0,"app-readonly",13),e.nI1(1,"readOnlyValue")),2&s){const n=e.XpG();e.Y8G("fieldType",n.ReadOnlyFieldType.Single)("values",e.eq3(4,Ra,e.bMT(1,2,n.role.name)))}}function tc(s,p){1&s&&e.nrm(0,"textarea",14)}function Xa(s,p){if(1&s&&(e.nrm(0,"app-readonly",13),e.nI1(1,"readOnlyValue")),2&s){const n=e.XpG();e.Y8G("fieldType",n.ReadOnlyFieldType.Single)("values",e.eq3(4,Ra,e.bMT(1,2,n.role.description)))}}let ws=(()=>{class s{get ReadOnlyFieldType(){return Hi.t}constructor(n,a,l,D,ee,De,Ze,gt,Vt,ln,Cn){this.rolesService=n,this.route=a,this.securityService=l,this.router=D,this.fb=ee,this.titleService=De,this.toastr=Ze,this.dialogService=gt,this.translate=Vt,this.localize=ln,this.errorService=Cn}ngOnInit(){this.getCachedRoleSubscription=this.rolesService.getCachedRole().subscribe(n=>{this.role=n,this.buildForms(),this.initialData=JSON.stringify(n);const a=this.translate.instant("Roles.Role")+" "+this.role.name+" - "+Bt.$9.SITE_TITLE;this.titleService.setTitle(a)})}ngOnDestroy(){this.getCachedRoleSubscription.unsubscribe()}updateRole(){this.role=Object.assign({id:this.role.id},this.editRoleForm.value),this.role.name=this.role.name.trim(),this.rolesService.updateRole(this.role).subscribe(()=>{this.rolesService.setCachedRole(this.role);const n=this.translate.instant("Notifications.Saving Success Title"),a=this.translate.instant("Notifications.Saving Success Message");this.toastr.success(a,n)},n=>{if(401===n.status)this.toastr.warning(this.translate.instant("Roles.UpdateUnauthorized"),this.translate.instant("Notifications.Unauthorized"));else{const a={toastBody:this.translate.instant("Notifications.Saving Error Title"),toastTitle:this.translate.instant("Notifications.Saving Error Message")};(this.errorService.handleError(n,a)&Cs.I.Toast)!==Cs.I.Toast&&this.toastr.error(a.toastBody,a.toastTitle)}})}deleteRole(){this.rolesService.deleteRole(this.role).subscribe(n=>{const a=this.localize.translateRoute("/roles");this.router.navigate([a]),this.toastr.success(this.translate.instant("Roles.RoleRemoved"),this.translate.instant("Common.Delete.Deleted"))},n=>{if(401===n.status)this.toastr.warning(this.translate.instant("Roles.DeleteUnauthorized"),this.translate.instant("Notifications.Unauthorized"));else{const a={toastBody:this.translate.instant("Notifications.Saving Error Title"),toastTitle:this.translate.instant("Notifications.Saving Error Message")};(this.errorService.handleError(n,a)&Cs.I.Toast)!==Cs.I.Toast&&this.toastr.error(a.toastBody,a.toastTitle)}})}buildForms(){this.editRoleForm=this.fb.group({name:[{value:this.role.name,disabled:this.isControlDisabled()}],description:[{value:this.role.description,disabled:this.isControlDisabled()}]})}isControlDisabled(){return this.allowedToEditRole()||this.role.reserved}canDeactivate(){return!!this.editRoleForm.pristine||(this.dialogService.confirm(),this.dialogService.eventStream)}allowedToEditRole(){return!this.securityService.allView&&this.isPolicyRole()}isPolicyRole(){const n=this.securityService.policyClaims;for(let a=0;a<n.length;a++)if("role"===n[a].type&&n[a].value===this.role.name)return!0;return!1}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(as.P),e.rXU(bt.nX),e.rXU(Vr.i),e.rXU(bt.Ix),e.rXU(g.ze),e.rXU(i.hE),e.rXU(Jn.tw),e.rXU(Mo.o),e.rXU(_n.c$),e.rXU(Wn.QG),e.rXU(ne.I))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-role-details"]],decls:19,vars:21,consts:[["deleteRoleModal",""],["id","editRoleDetails",1,"tw-container","tw-mx-auto"],[3,"formGroup"],[3,"id","label","help"],["type","text","class","tw-form-control","id","addRoleName","formControlName","name",4,"ngIf"],["class","tw-h-full",3,"fieldType","values",4,"ngIf"],[3,"id","label","isLast"],["class","tw-form-control","rows","2","id","addRoleDescription","formControlName","description",4,"ngIf"],["id","updateRoleBtn",1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"click","disabled"],["right",""],["id","showModal","data-toggle","modal","type","button",1,"tw-btn-danger","tw-mb-3",3,"click","disabled"],[3,"delete","modalId","resourceName"],["type","text","id","addRoleName","formControlName","name",1,"tw-form-control"],[1,"tw-h-full",3,"fieldType","values"],["rows","2","id","addRoleDescription","formControlName","description",1,"tw-form-control"]],template:function(a,l){if(1&a){const D=e.RV6();e.j41(0,"div",1)(1,"form",2)(2,"app-form-row",3),e.DNE(3,qo,1,0,"input",4)(4,Vo,2,6,"app-readonly",5),e.k0s(),e.j41(5,"app-form-row",6),e.DNE(6,tc,1,0,"textarea",7)(7,Xa,2,6,"app-readonly",5),e.k0s()()(),e.j41(8,"app-button-bar")(9,"button",8),e.bIt("click",function(){return e.eBV(D),e.Njj(l.updateRole())}),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.qex(12,9),e.j41(13,"button",10),e.bIt("click",function(){e.eBV(D);const De=e.sdS(17);return e.Njj(De.show())}),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.bVm(),e.k0s(),e.j41(16,"app-delete-confirmation-modal",11,0),e.bIt("delete",function(){return e.eBV(D),e.Njj(l.deleteRole())}),e.k0s(),e.nrm(18,"app-can-deactivate")}2&a&&(e.R7$(),e.Y8G("formGroup",l.editRoleForm),e.R7$(),e.Y8G("id","addRoleName")("label","Common.Name")("help","Roles.TrimWhitespaceHelp"),e.R7$(),e.Y8G("ngIf",!l.isControlDisabled()),e.R7$(),e.Y8G("ngIf",l.isControlDisabled()),e.R7$(),e.Y8G("id","addRoleDescription")("label","Common.Description")("isLast",!0),e.R7$(),e.Y8G("ngIf",!l.isControlDisabled()),e.R7$(),e.Y8G("ngIf",l.isControlDisabled()),e.R7$(2),e.Y8G("disabled",!l.editRoleForm.dirty&&l.editRoleForm.valid||l.allowedToEditRole()||l.role.reserved),e.R7$(),e.SpI(" ",e.bMT(11,17,"Common.Save")," "),e.R7$(3),e.Y8G("disabled",l.isControlDisabled()),e.R7$(),e.SpI(" ",e.bMT(15,19,"Common.Delete.Title")," "),e.R7$(2),e.Y8G("modalId","deleteRoleModal")("resourceName",l.role.name))},dependencies:[pn.bT,g.qT,g.me,g.BC,g.cb,g.j4,g.JD,ha.E,vo.z,fe.Y,qr.O,Uo.w,Ri.u,_n.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();var Ar=u(1413),Ci=u(6354),es=u(1716),Ja=u(9172),ea=u(1397),ta=u(1986),co=u(4313),Qa=u(7156),_l=u(7294),Ve=u(8114),h=function(s){return s.Remove="Remove",s.Add="Add",s}(h||{}),b=u(1068);const M=["roleManagerUsers"],z=()=>({animated:!1,backdrop:"static"}),ce=(s,p,n,a)=>({id:"usersAddingSummary",title:s,data:p,label:n,empty:a}),Ce=(s,p,n,a)=>({id:"usersRemovingSummary",title:s,data:p,label:n,empty:a});function He(s,p){1&s&&(e.nrm(0,"app-simple-loader",19),e.nI1(1,"translate")),2&s&&e.Y8G("text",e.bMT(1,1,"Roles.SavingPleaseWait"))}function A(s,p){if(1&s){const n=e.RV6();e.j41(0,"li",38)(1,"label",39)(2,"input",40),e.bIt("change",function(){const l=e.eBV(n).$implicit,D=e.XpG(3);return e.Njj(D.toggleIfInRole(l))}),e.k0s(),e.j41(3,"div",41)(4,"span",42),e.EFF(5),e.k0s(),e.j41(6,"span",43),e.EFF(7),e.k0s()()()()}if(2&s){const n=p.$implicit,a=e.XpG(3);e.R7$(2),e.Y8G("checked",a.checkChecked(n)),e.R7$(3),e.JRh(n.userName),e.R7$(2),e.JRh(n.email)}}function V(s,p){if(1&s&&(e.j41(0,"div",35)(1,"ul",36),e.DNE(2,A,8,3,"li",37),e.k0s()()),2&s){const n=e.XpG(2);e.R7$(2),e.Y8G("ngForOf",n.users)}}function B(s,p){1&s&&(e.j41(0,"p",44),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Roles.NotSelected")," "))}function Z(s,p){1&s&&(e.j41(0,"p",44),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Roles.NoResults")," "))}function be(s,p){1&s&&e.nrm(0,"app-simple-loader")}function Ge(s,p){1&s&&e.eu8(0)}function vt(s,p){1&s&&e.eu8(0)}function sn(s,p){if(1&s){const n=e.RV6();e.j41(0,"div")(1,"div",20),e.nrm(2,"p",21),e.k0s(),e.j41(3,"div",22)(4,"h2",23),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"div",24)(8,"label",25)(9,"span",9),e.EFF(10),e.nI1(11,"translate"),e.k0s()(),e.j41(12,"input",26),e.mxI("ngModelChange",function(l){e.eBV(n);const D=e.XpG();return e.DH7(D.searchTerm,l)||(D.searchTerm=l),e.Njj(l)}),e.bIt("keyup",function(l){e.eBV(n);const D=e.XpG();return e.Njj(D.search(l))}),e.k0s()()(),e.j41(13,"div",27)(14,"div",28),e.DNE(15,V,3,1,"div",29)(16,B,3,3,"p",30)(17,Z,3,3,"p",30)(18,be,1,0,"app-simple-loader",12),e.k0s(),e.j41(19,"div",31)(20,"div",32),e.DNE(21,Ge,1,0,"ng-container",33),e.nI1(22,"translate"),e.nI1(23,"translate"),e.nI1(24,"translate"),e.k0s(),e.j41(25,"div",34),e.DNE(26,vt,1,0,"ng-container",33),e.nI1(27,"translate"),e.nI1(28,"translate"),e.nI1(29,"translate"),e.k0s()()()()}if(2&s){const n=e.XpG(),a=e.sdS(17);e.R7$(2),e.Y8G("innerHtml",n.summaryText,e.npT),e.R7$(3),e.JRh(e.bMT(6,12,"Roles.SearchAllUsers")),e.R7$(5),e.JRh(e.bMT(11,14,"Roles.SearchUsers")),e.R7$(2),e.R50("ngModel",n.searchTerm),e.R7$(3),e.Y8G("ngIf",!n.isLoading&&n.hasSearched&&n.users.length>0),e.R7$(),e.Y8G("ngIf",!n.isLoading&&!n.hasSearched&&n.users.length<1),e.R7$(),e.Y8G("ngIf",!n.isLoading&&n.hasSearched&&n.users.length<1),e.R7$(),e.Y8G("ngIf",n.isLoading),e.R7$(3),e.Y8G("ngTemplateOutlet",a)("ngTemplateOutletContext",e.ziG(28,ce,e.bMT(22,16,"Roles.Adding"),n.usersAdding,e.bMT(23,18,"Roles.CancelAdding"),e.bMT(24,20,"Roles.NoUsersAdding"))),e.R7$(5),e.Y8G("ngTemplateOutlet",a)("ngTemplateOutletContext",e.ziG(33,Ce,e.bMT(27,22,"Roles.Removing"),n.usersRemoving,e.bMT(28,24,"Roles.CancelRemoving"),e.bMT(29,26,"Roles.NoUsersRemoving")))}}function qt(s,p){if(1&s&&(e.j41(0,"p",44),e.EFF(1),e.k0s()),2&s){const n=e.XpG().empty;e.R7$(),e.JRh(n)}}function Ln(s,p){if(1&s){const n=e.RV6();e.j41(0,"li",52)(1,"button",53),e.bIt("click",function(){const l=e.eBV(n).$implicit,D=e.XpG(3);return e.Njj(D.toggleIfInRole(l))}),e.j41(2,"div",54),e.nrm(3,"span",55),e.j41(4,"span",56),e.EFF(5),e.k0s()()()()}if(2&s){const n=p.$implicit,a=e.XpG(2).label;e.R7$(),e.BMQ("aria-label",a+" "+n.userName),e.R7$(4),e.JRh(n.userName)}}function Oi(s,p){if(1&s&&(e.j41(0,"div",49)(1,"ul",50),e.DNE(2,Ln,6,2,"li",51),e.k0s()()),2&s){const n=e.XpG(),a=n.id,l=n.data;e.R7$(),e.FS9("id",a),e.R7$(),e.Y8G("ngForOf",l)}}function Pi(s,p){if(1&s&&(e.j41(0,"h2",45),e.EFF(1),e.j41(2,"span",46),e.EFF(3),e.k0s()(),e.j41(4,"div",47),e.DNE(5,qt,2,1,"p",30)(6,Oi,3,2,"div",48),e.k0s()),2&s){const n=p.title,a=p.data;e.R7$(),e.SpI(" ",n," "),e.R7$(2),e.SpI("(",a.length,")"),e.R7$(2),e.Y8G("ngIf",a.length<1),e.R7$(),e.Y8G("ngIf",a.length>0)}}let ur=(()=>{class s extends co.if{constructor(n,a,l,D,ee){super(D,ee,!1),this.userService=n,this.rolesService=a,this.translateService=l,this.onSubmitted=new e.bkB,this.isLoading=!1,this.isSaving=!1,this.hasSearched=!1,this.users=new Array,this.usersAdding=[],this.usersRemoving=[],this.usersInRole=[]}ngOnInit(){this.summaryText=this.translateService.instant("Roles.AddRemoveUsersFromRole").replace("{0}",this.role.name),this.roleManagerUsers.onShow.subscribe(()=>{this.reset()}),this.searchSource.pipe((0,es.h)(this.enterKeySource)).subscribe(()=>{this.isLoading=!0,this.userService.getLightweightUsersAndIfInRole(this.role.id,"active",this.searchTerm,1,50).subscribe(ee=>{this.users=ee.results;const De=[...this.users.filter(Ze=>Ze.isInRole),...this.usersInRole];this.usersInRole=b.Am(De,!1,Ze=>Ze.subject),this.isLoading=!1,this.hasSearched=!0},ee=>{this.isLoading=!1})})}mapSearchTerm(n){return{searchTerm:n}}reset(){this.isLoading=!1,this.isSaving=!1,this.hasSearched=!1,this.users=[],this.usersAdding=[],this.usersRemoving=[],this.searchTerm="",this.searchTermStream.next("")}hide(){this.roleManagerUsers.hide()}show(){this.roleManagerUsers.show()}toggleIfInRole(n){if(n.isInRole){const a=b.SL(this.usersRemoving,l=>l.subject===n.subject);a>-1?(this.usersRemoving.splice(a,1),this.usersInRole.push(n)):(this.usersRemoving.push(n),this.usersInRole.splice(this.usersInRole.indexOf(n),1))}else{const a=b.SL(this.usersAdding,l=>l.subject===n.subject);a>-1?(this.usersAdding.splice(a,1),this.usersInRole.splice(this.usersInRole.indexOf(n),1)):(this.usersAdding.push(n),this.usersInRole.push(n))}}checkChecked(n){let a;return n.isInRole?(a=b.I6(this.usersRemoving,l=>l.subject===n.subject),void 0===a):(a=b.I6(this.usersAdding,l=>l.subject===n.subject),void 0!==a)}addOrRemoveUsers(){const n=[];this.isSaving=!0,n.push(...this.usersAdding.map(a=>({username:a.userName,subject:a.subject,addOrRemove:h.Add}))),n.push(...this.usersRemoving.map(a=>({username:a.userName,subject:a.subject,addOrRemove:h.Remove}))),this.rolesService.addAndRemoveUsers(this.role.id,n).subscribe(()=>{this.hide(),this.onSubmitted.emit(),this.toastr.success(this.translate.instant("Roles.Success"),this.translate.instant("Notifications.Success"))},a=>{this.isSaving=!1,401===a.status?this.toastr.warning(this.translate.instant("Roles.UpdateUnauthorized"),this.translate.instant("Notifications.Unauthorized")):this.toastr.warning(this.translate.instant("Roles.UpdateBadRequest"),this.translate.instant("Notifications.Failed"))})}ngOnDestroy(){this.hide()}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(bs.D),e.rXU(as.P),e.rXU(_n.c$),e.rXU(Jn.tw),e.rXU(_n.c$))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-role-manageusers"]],viewQuery:function(a,l){if(1&a&&e.GBs(M,7),2&a){let D;e.mGM(D=e.lsd())&&(l.roleManagerUsers=D.first)}},inputs:{role:"role"},outputs:{onSubmitted:"onSubmitted"},features:[e.Vt3],decls:28,vars:19,consts:[["roleManagerUsers","bs-modal"],["commonSummaryGroup",""],["bsModal","","id","roleManagerUsers","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click","disabled"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","scrollbars"],[3,"text",4,"ngIf"],[4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","manageUserSubmit","type","submit",1,"tw-btn-success",3,"click","disabled"],[1,"tw-btn-link","tw--mr-4",3,"click","disabled"],[3,"text"],[1,"cms"],[3,"innerHtml"],[1,"tw-mb-4","md:tw-w-1/2","tw-pr-3"],[1,"tw-text-sm","tw-font-semibold","tw-mb-3"],[1,"tw-relative"],["for","roleUserSearch",1,"far","fa-search","tw-flex","tw-items-center","tw-justify-center","tw-text-grey-700","tw-m-0","tw-text-xs","tw-absolute","tw-inset-y-0","tw-w-10"],["id","roleUserSearch","type","search","minlength","2","maxlength","25","required","","autocomplete","off",1,"tw-form-control","tw-pl-8",3,"ngModelChange","keyup","ngModel"],[1,"md:tw-flex","md:tw-min-h-64","md:tw-max-h-popups-short"],[1,"tw-mb-6","md:tw-mb-0","md:tw-pr-3","md:tw-w-1/2"],["class","tw-max-h-48 tw-overflow-x-none tw-overflow-y-auto scrollbars md:tw-max-h-full md:tw-h-full",4,"ngIf"],["class","tw-italic tw-text-xs tw-text-grey-700",4,"ngIf"],[1,"md:tw-pl-3","md:tw-w-1/2"],[1,"tw-pb-3","md:tw-flex","md:tw-flex-col","md:tw-max-h-1/2"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"tw-pt-3","md:tw-flex","md:tw-flex-col","md:tw-max-h-1/2"],[1,"tw-max-h-48","tw-overflow-x-none","tw-overflow-y-auto","scrollbars","md:tw-max-h-full","md:tw-h-full"],["id","usersInRoleTable"],["class","tw-border-t-2 tw-border-grey-100 first:tw-border-t-0",4,"ngFor","ngForOf"],[1,"tw-border-t-2","tw-border-grey-100","first:tw-border-t-0"],[1,"tw-flex","tw-items-start","tw-bg-white","tw-normal-case","tw-text-sm","tw-m-0","tw-px-4","tw-py-3","tw-cursor-pointer"],["type","checkbox",1,"tw-shrink-0","tw-block","tw-mt-1","tw-mr-2",3,"change","checked"],[1,"tw-w-full","tw-truncate"],[1,"tw-block","tw-truncate"],[1,"tw-block","tw-text-xs","tw-text-grey-600","tw-mt-1","tw-truncate"],[1,"tw-italic","tw-text-xs","tw-text-grey-700"],[1,"tw-text-sm","tw-font-semibold","tw-mb-2"],[1,"tw-text-xs","tw-text-grey-700"],[1,"tw-overflow-x-none","tw-overflow-y-auto","scrollbars"],["class","tw--mt-2 tw--ml-2",4,"ngIf"],[1,"tw--mt-2","tw--ml-2"],[1,"tw-flex","tw-flex-wrap","tw-items-center",3,"id"],["class","tw-pl-2 tw-pt-2",4,"ngFor","ngForOf"],[1,"tw-pl-2","tw-pt-2"],[1,"tw-pill","hover:tw-bg-red-500","group","hover:tw-text-white",3,"click"],[1,"tw-flex","tw-items-center","tw-text-left","tw-truncate"],["aria-hidden","true",1,"fas","fa-times","tw-text-red-500","tw-mr-2","tw-shrink-0","group-hover:tw-text-white"],["aria-hidden","true",1,"tw-block","tw-truncate"]],template:function(a,l){if(1&a){const D=e.RV6();e.j41(0,"div",2,0)(2,"div",3)(3,"div",4)(4,"div",5)(5,"h5",6),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"button",7),e.bIt("click",function(){return e.eBV(D),e.Njj(l.hide())}),e.nrm(9,"span",8),e.j41(10,"span",9),e.EFF(11),e.nI1(12,"translate"),e.k0s()()(),e.j41(13,"div",10),e.DNE(14,He,2,3,"app-simple-loader",11)(15,sn,30,38,"div",12)(16,Pi,7,4,"ng-template",null,1,e.C5r),e.k0s(),e.nrm(18,"div",13),e.j41(19,"div",14)(20,"div",15)(21,"div",16)(22,"button",17),e.bIt("click",function(){return e.eBV(D),e.Njj(l.addOrRemoveUsers())}),e.EFF(23),e.nI1(24,"translate"),e.k0s()(),e.j41(25,"button",18),e.bIt("click",function(){return e.eBV(D),e.Njj(l.hide())}),e.EFF(26),e.nI1(27,"translate"),e.k0s()()()()()()}2&a&&(e.Y8G("config",e.lJ4(18,z)),e.R7$(6),e.JRh(e.bMT(7,10,"Roles.RoleUserManagement")),e.R7$(2),e.Y8G("disabled",l.isSaving),e.R7$(3),e.JRh(e.bMT(12,12,"Common.Close")),e.R7$(3),e.Y8G("ngIf",l.isSaving),e.R7$(),e.Y8G("ngIf",!l.isSaving),e.R7$(7),e.Y8G("disabled",l.isSaving||l.usersAdding.length<1&&l.usersRemoving.length<1),e.R7$(),e.SpI(" ",e.bMT(24,14,"Common.Save")," "),e.R7$(2),e.Y8G("disabled",l.isSaving),e.R7$(),e.JRh(e.bMT(27,16,"Common.Close")))},dependencies:[pn.Sq,pn.bT,pn.T3,g.me,g.BC,g.YS,g.xh,g.tU,g.vS,Rt.hZ,As.d,_n.D9],encapsulation:2})}}return s})();function $s(s,p){if(1&s){const n=e.RV6();e.qex(0,20),e.j41(1,"div",21)(2,"label",22),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"select",23),e.mxI("ngModelChange",function(l){e.eBV(n);const D=e.XpG(2);return e.DH7(D.pageSize,l)||(D.pageSize=l),e.Njj(l)}),e.bIt("change",function(){e.eBV(n);const l=e.XpG(2);return e.Njj(l.setPageLength(+l.pageSize))}),e.j41(6,"option",24),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"option",25),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"option",26),e.EFF(13),e.nI1(14,"translate"),e.k0s()()(),e.bVm()}if(2&s){const n=e.XpG(2);e.R7$(3),e.Lme("",n.pageSize," ",e.bMT(4,6,"Nav.PerPage"),""),e.R7$(2),e.R50("ngModel",n.pageSize),e.R7$(2),e.SpI("25 ",e.bMT(8,8,"Nav.PerPage"),""),e.R7$(3),e.SpI("50 ",e.bMT(11,10,"Nav.PerPage"),""),e.R7$(3),e.SpI("100 ",e.bMT(14,12,"Nav.PerPage"),"")}}function xs(s,p){1&s&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Roles.ManageUsers")," "))}function Ma(s,p){1&s&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Roles.AddUsers")," "))}function nc(s,p){if(1&s){const n=e.RV6();e.j41(0,"app-action-bar"),e.DNE(1,$s,15,14,"ng-container",17),e.qex(2,18),e.j41(3,"button",19),e.bIt("click",function(){e.eBV(n),e.XpG();const l=e.sdS(11);return e.Njj(l.show())}),e.DNE(4,xs,3,3,"span",9)(5,Ma,3,3,"span",9),e.k0s(),e.bVm(),e.k0s()}if(2&s){const n=e.XpG();e.R7$(),e.Y8G("ngIf",(null==n.pagedResult?null:n.pagedResult.results.length)>0),e.R7$(3),e.Y8G("ngIf",n.users&&n.users.length>0),e.R7$(),e.Y8G("ngIf",n.users&&n.users.length<1)}}function Xs(s,p){1&s&&e.nrm(0,"app-simple-loader")}function ic(s,p){1&s&&(e.j41(0,"div",27)(1,"div"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&s&&(e.R7$(2),e.JRh(e.bMT(3,1,"Users.NoUsersFound")))}function qf(s,p){if(1&s){const n=e.RV6();e.j41(0,"tr")(1,"td",34),e.bIt("click",function(){const l=e.eBV(n).$implicit,D=e.XpG(2);return e.Njj(D.goToUser(l))}),e.j41(2,"b",35),e.EFF(3),e.k0s()(),e.j41(4,"td",36),e.bIt("click",function(){const l=e.eBV(n).$implicit,D=e.XpG(2);return e.Njj(D.goToUser(l))}),e.EFF(5),e.k0s(),e.j41(6,"td",36),e.bIt("click",function(){const l=e.eBV(n).$implicit,D=e.XpG(2);return e.Njj(D.goToUser(l))}),e.EFF(7),e.k0s(),e.j41(8,"td",37),e.bIt("click",function(){const l=e.eBV(n).$implicit,D=e.XpG(2);return e.Njj(D.removeUser(l))}),e.j41(9,"button",38),e.bIt("click",function(){const l=e.eBV(n).$implicit,D=e.XpG(2),ee=e.sdS(17);return D.removeUser(l),e.Njj(ee.show())}),e.nrm(10,"span",39),e.j41(11,"span",7),e.EFF(12),e.nI1(13,"translate"),e.k0s()()()()}if(2&s){const n=p.$implicit;e.R7$(3),e.JRh(n.username),e.R7$(2),e.SpI(" ",n.firstName," "),e.R7$(2),e.SpI(" ",n.lastName," "),e.R7$(5),e.JRh(e.bMT(13,4,"Common.Remove.Title"))}}function Za(s,p){if(1&s&&(e.j41(0,"table",28)(1,"thead")(2,"tr")(3,"th",29),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"th",30),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"th",30),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"th",31)(13,"span",7),e.EFF(14),e.nI1(15,"translate"),e.k0s()()()(),e.j41(16,"tbody",32),e.DNE(17,qf,14,6,"tr",33),e.k0s()()),2&s){const n=e.XpG();e.R7$(4),e.JRh(e.bMT(5,5,"Users.Username")),e.R7$(3),e.JRh(e.bMT(8,7,"Users.FirstName")),e.R7$(3),e.JRh(e.bMT(11,9,"Users.LastName")),e.R7$(4),e.JRh(e.bMT(15,11,"Common.Actions")),e.R7$(3),e.Y8G("ngForOf",n.users)}}function zr(s,p){if(1&s){const n=e.RV6();e.j41(0,"app-pager",40),e.bIt("onGoToPage",function(l){e.eBV(n);const D=e.XpG();return e.Njj(D.goToPage(l))}),e.k0s()}if(2&s){const n=e.XpG();e.Y8G("totalResults",null==n.pagedResult?null:n.pagedResult.totalCount)("currentPage",n.page)("lastPage",null==n.pagedResult?null:n.pagedResult.pageCount)}}let xa=(()=>{class s extends co.if{constructor(n,a,l,D,ee,De,Ze){super(ee,a,!0),this.rolesService=n,this.localize=l,this.router=D,this.errorService=De,this.userService=Ze,this.pageStream=new Ar.B,this.pageSizeStream=new Ar.B,this.userToRemove=null,this.removeSummaryTranslation="",this.removeSummary="",this.page=1,this.pageSize=25,this.removeSummaryTranslation=a.instant("Roles.AreYouSureRemove")}ngOnInit(){this.isLoading=!0,this.rolesService.getCachedRole().pipe((0,$n.$)()).subscribe(n=>{this.role=n,this.removeSummaryTranslation=this.removeSummaryTranslation.replace("{1}",this.role.name);const a=this.pageStream.pipe((0,Ci.T)(ee=>(this.page=ee,{searchTerm:this.searchTerm,page:ee,pageSize:this.pageSize}))),l=this.pageSizeStream.pipe((0,Ci.T)(ee=>(this.pageSize=ee,{searchTerm:this.searchTerm,page:this.page,pageSize:ee})));a.pipe((0,es.h)(l),(0,es.h)(this.searchSource),(0,es.h)(this.enterKeySource),(0,Ja.Z)({searchTerm:this.searchTerm,page:this.page,pageSize:this.pageSize}),(0,ea.Z)(ee=>(this.isLoading=!0,this.rolesService.getUsersInRole(n.id,ee.page,ee.pageSize,ee.searchTerm).pipe((0,ta.c)(200))))).subscribe(ee=>{this.pagedResult=ee,this.users=ee.results,this.isLoading=!1},ee=>{this.errorService.handleError(ee),this.isLoading=!1})})}mapSearchTerm(n){return this.searchTerm=n,{searchTerm:this.searchTerm,page:1,pageSize:this.pageSize}}onSubmit(n){this.pageStream.next(1)}goToPage(n){this.pageStream.next(n)}setPageLength(n){this.page=1,this.pageSizeStream.next(n)}goToUser(n){const a=[this.localize.translateRoute("/users"),n.subject,"roles"];this.router.navigate(a)}removeUser(n){this.removeSummary=this.removeSummaryTranslation.replace("{0}",n.username),this.userToRemove=n}delete(){this.isLoading=!0,this.userService.deleteUserRoles(this.userToRemove.subject,[this.role.name]).subscribe(n=>{let a=this.users&&1===this.users.length&&this.page>1?this.page-1:this.page;a<1&&(a=1),this.goToPage(a),this.toastr.success(this.translate.instant("Roles.Success"),this.translate.instant("Notifications.Success")),this.userToRemove=null},n=>{this.isLoading=!1,401===n.status&&this.toastr.warning(this.translate.instant("Roles.UnassignUnauthorized"),this.translate.instant("Notifications.Unauthorized")),this.userToRemove=null})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(as.P),e.rXU(_n.c$),e.rXU(Wn.QG),e.rXU(bt.Ix),e.rXU(Jn.tw),e.rXU(ne.I),e.rXU(bs.D))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-role-users"]],features:[e.Vt3],decls:20,vars:17,consts:[["manageUsersModal",""],["removeUserModal",""],[1,"tw-container","tw-mx-auto"],["id","searchContainer",1,"tw-mb-2"],[1,"tw-flex","tw-bg-white","tw-border","tw-border-grey-300","tw-opacity-75","tw-cursor-text","tw-rounded","focus-within:tw-opacity-100","focus-within:tw-border-blue-400","tw-transition-all","tw-ease-in-out"],["for","searchTerm",1,"tw-flex","tw-items-center","tw-text-grey-500","tw-m-0","tw-ml-3"],["aria-hidden","true",1,"far","fa-search","tw-text-sm"],[1,"sr-only"],["id","searchRole","type","search","minlength","2","maxlength","25","required","","autocomplete","off",1,"tw-bg-transparent","tw-border-0","tw-text-base","tw-leading-tight","tw-px-2","tw-py-2","tw-w-full","focus:tw-outline-none","tw-transition-all","tw-ease-in-out",3,"ngModelChange","keyup","ngModel"],[4,"ngIf"],["id","manageUsersModal",3,"onSubmitted","role"],["class","tw-alert","role","alert",4,"ngIf"],["id","roleUsersTable","class","datatable selectable hover",4,"ngIf"],[3,"totalResults","currentPage","lastPage","onGoToPage",4,"ngIf"],[3,"confirm","modalId","type","buttonType","title","okText","cancelText"],["body",""],[3,"innerHtml"],["left","",4,"ngIf"],["right",""],["id","manageUsersButton",1,"tw-btn-success",3,"click"],["left",""],[1,"tw-form-select","tw-w-auto"],["for","pageSizeToggle",1,"sr-only"],["id","pageSizeToggle",1,"tw-form-control","tw-form-control-small",3,"ngModelChange","change","ngModel"],["value","25"],["value","50"],["value","100"],["role","alert",1,"tw-alert"],["id","roleUsersTable",1,"datatable","selectable","hover"],[1,"sm:tw-w-1/3","md:tw-w-1/2"],[1,"tw-hidden","sm:tw-table-cell"],[1,"tw-w-1"],["id","usersInRoleTable"],[4,"ngFor","ngForOf"],[1,"tw-max-w-0","tw-truncate",3,"click"],[1,"tw-text-blue-500"],[1,"tw-hidden","tw-max-w-0","tw-truncate","sm:tw-table-cell",3,"click"],[3,"click"],[1,"tw-btn-link","tw-btn-small","tw-text-red-500",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[3,"onGoToPage","totalResults","currentPage","lastPage"]],template:function(a,l){if(1&a){const D=e.RV6();e.j41(0,"div",2)(1,"div",3)(2,"div",4)(3,"label",5),e.nrm(4,"span",6),e.j41(5,"span",7),e.EFF(6),e.nI1(7,"translate"),e.k0s()(),e.j41(8,"input",8),e.mxI("ngModelChange",function(De){return e.eBV(D),e.DH7(l.searchTerm,De)||(l.searchTerm=De),e.Njj(De)}),e.bIt("keyup",function(De){return e.eBV(D),e.Njj(l.search(De))}),e.k0s()()(),e.DNE(9,nc,6,3,"app-action-bar",9),e.j41(10,"app-role-manageusers",10,0),e.bIt("onSubmitted",function(De){return e.eBV(D),e.Njj(l.onSubmit(De))}),e.k0s(),e.DNE(12,Xs,1,0,"app-simple-loader",9)(13,ic,4,3,"div",11)(14,Za,18,13,"table",12)(15,zr,1,3,"app-pager",13),e.k0s(),e.j41(16,"app-confirmation-modal",14,1),e.bIt("confirm",function(){return e.eBV(D),e.Njj(l.delete())}),e.qex(18,15),e.nrm(19,"p",16),e.bVm(),e.k0s()}2&a&&(e.R7$(6),e.JRh(e.bMT(7,15,"Common.Search")),e.R7$(2),e.R50("ngModel",l.searchTerm),e.R7$(),e.Y8G("ngIf",!l.isLoading),e.R7$(),e.Y8G("role",l.role),e.R7$(2),e.Y8G("ngIf",l.isLoading),e.R7$(),e.Y8G("ngIf",l.users&&0==l.users.length&&!l.isLoading),e.R7$(),e.Y8G("ngIf",l.users&&l.users.length>0&&!l.isLoading),e.R7$(),e.Y8G("ngIf",(null==l.pagedResult?null:l.pagedResult.results.length)>0&&!l.isLoading),e.R7$(),e.Y8G("modalId","removeUserModal")("type","danger")("buttonType","danger")("title","Common.Remove.Confirm")("okText","Common.Remove.Title")("cancelText","Common.Remove.No"),e.R7$(3),e.Y8G("innerHtml",l.removeSummary,e.npT))},dependencies:[pn.Sq,pn.bT,g.xH,g.y7,g.me,g.wz,g.BC,g.YS,g.xh,g.tU,g.vS,Qa.B,_l.n,As.d,Ve.B,ur,_n.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();var bl=u(152),Cl=u(3294),fa=u(8412),jo=u(2510);class rc{constructor(){this.selected=!1}}const Xu=["addRoleModal"],wl=()=>({animated:!1,backdrop:"static"});let Ju=(()=>{class s{constructor(n,a,l,D,ee,De){this.rolesService=n,this.errorService=a,this.translate=l,this.router=D,this.fb=ee,this.toastr=De,this.added=new e.bkB}keydown(n){"Enter"===n.key&&this.addRoleForm.valid&&this.addRole()}ngOnInit(){this.addRoleForm=this.fb.group({name:["",g.k0.required],description:["",g.k0.maxLength(1e3)]})}addAnotherRole(){this.addAnother=!0,this.addRole()}addRole(){let n=new rc;n=this.addRoleForm.value,n.name=n.name.trim(),this.rolesService.addRole(n).subscribe(a=>{this.addAnother||this.hide(),this.addAnother=!1,this.addRoleForm.reset(),this.toastr.success(this.translate.instant("Roles.Role")+" "+n.name+" "+this.translate.instant("Common.Created"),this.translate.instant("Roles.RoleCreated")),this.added.emit(!0)},a=>{this.errorService.handleError(a)})}hide(){this.addRoleModal.hide()}show(){this.addRoleModal.show(),this.addRoleForm.reset()}ngOnDestroy(){this.hide()}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(as.P),e.rXU(ne.I),e.rXU(_n.c$),e.rXU(bt.Ix),e.rXU(g.ze),e.rXU(Jn.tw))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-add-role"]],viewQuery:function(a,l){if(1&a&&e.GBs(Xu,7),2&a){let D;e.mGM(D=e.lsd())&&(l.addRoleModal=D.first)}},hostBindings:function(a,l){1&a&&e.bIt("keydown",function(ee){return l.keydown(ee)},!1,e.EBC)},outputs:{added:"added"},decls:33,vars:26,consts:[["addRoleModal","bs-modal"],["bsModal","","id","addRoleModal","tabindex","-1","role","dialog","aria-hidden","true",1,"modal",3,"config"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","scrollbars"],[3,"formGroup"],[3,"id","label","help"],["type","text","id","addRoleName","formControlName","name",1,"tw-form-control"],[3,"id","label","isLast"],["rows","2","id","addRoleDescription","formControlName","description",1,"tw-form-control"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["type","submit","id","addRoleSubmit",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],[1,"tw-hidden","xs:tw-inline"],["type","button","id","addRoleReSubmit",1,"tw-btn",3,"click","disabled"],[1,"tw-btn-link","tw--mr-4",3,"click"]],template:function(a,l){if(1&a){const D=e.RV6();e.j41(0,"div",1,0)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"button",6),e.bIt("click",function(){return e.eBV(D),e.Njj(l.hide())}),e.nrm(9,"span",7),e.j41(10,"span",8),e.EFF(11),e.nI1(12,"translate"),e.k0s()()(),e.j41(13,"div",9)(14,"form",10)(15,"app-form-row",11),e.nrm(16,"input",12),e.k0s(),e.j41(17,"app-form-row",13),e.nrm(18,"textarea",14),e.k0s()()(),e.nrm(19,"div",15),e.j41(20,"div",16)(21,"div",17)(22,"div",18)(23,"button",19),e.bIt("click",function(){return e.eBV(D),l.addRole(),e.Njj(l.hide())}),e.EFF(24),e.nI1(25,"translate"),e.k0s(),e.j41(26,"span",20)(27,"button",21),e.bIt("click",function(){return e.eBV(D),e.Njj(l.addAnotherRole())}),e.EFF(28),e.nI1(29,"translate"),e.k0s()()(),e.j41(30,"button",22),e.bIt("click",function(){return e.eBV(D),e.Njj(l.hide())}),e.EFF(31),e.nI1(32,"translate"),e.k0s()()()()()()}2&a&&(e.Y8G("config",e.lJ4(25,wl)),e.R7$(6),e.JRh(e.bMT(7,15,"Roles.NewRole")),e.R7$(5),e.JRh(e.bMT(12,17,"Common.Close")),e.R7$(3),e.Y8G("formGroup",l.addRoleForm),e.R7$(),e.Y8G("id","addRoleName")("label","Common.Name")("help","Roles.TrimWhitespaceHelp"),e.R7$(2),e.Y8G("id","addRoleDescription")("label","Common.Description")("isLast",!0),e.R7$(6),e.Y8G("disabled",!l.addRoleForm.valid),e.R7$(),e.JRh(e.bMT(25,19,"Common.Save")),e.R7$(3),e.Y8G("disabled",!l.addRoleForm.valid),e.R7$(),e.JRh(e.bMT(29,21,"Common.SaveAndAdd")),e.R7$(3),e.JRh(e.bMT(32,23,"Common.Cancel")))},dependencies:[g.qT,g.me,g.BC,g.cb,g.j4,g.JD,Rt.hZ,fe.Y,_n.D9],encapsulation:2})}}return s})();const hh=(s,p)=>({"fad fa-pencil":s,"fas fa-eye":p});function br(s,p){if(1&s){const n=e.RV6();e.j41(0,"app-action-bar"),e.qex(1,9),e.j41(2,"button",10),e.bIt("click",function(){e.eBV(n),e.XpG();const l=e.sdS(3);return e.Njj(l.show())}),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.bVm(),e.k0s()}2&s&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"Roles.AddRole")," "))}function ep(s,p){1&s&&e.nrm(0,"app-simple-loader")}function Qu(s,p){1&s&&(e.j41(0,"div",11)(1,"div"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&s&&(e.R7$(2),e.JRh(e.bMT(3,1,"Roles.NoRolesFound")))}function $o(s,p){1&s&&e.nrm(0,"span",23)}function nb(s,p){1&s&&e.nrm(0,"span",24)}function Zu(s,p){1&s&&(e.j41(0,"span",36),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Policy")," "))}function Hc(s,p){1&s&&(e.j41(0,"span",37),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Reserved")," "))}function pa(s,p){if(1&s){const n=e.RV6();e.j41(0,"tr",25)(1,"td",26),e.bIt("click",function(){const l=e.eBV(n).$implicit,D=e.XpG(2);return e.Njj(D.viewOrEditRole(l))}),e.j41(2,"b",27),e.EFF(3),e.k0s()(),e.j41(4,"td",28),e.bIt("click",function(){const l=e.eBV(n).$implicit,D=e.XpG(2);return e.Njj(D.viewOrEditRole(l))}),e.EFF(5),e.k0s(),e.j41(6,"td",29),e.bIt("click",function(){const l=e.eBV(n).$implicit,D=e.XpG(2);return e.Njj(D.viewOrEditRole(l))}),e.DNE(7,Zu,3,3,"span",30),e.k0s(),e.j41(8,"td",31),e.bIt("click",function(){const l=e.eBV(n).$implicit,D=e.XpG(2);return e.Njj(D.viewOrEditRole(l))}),e.DNE(9,Hc,3,3,"span",32),e.k0s(),e.j41(10,"td",33),e.bIt("click",function(){const l=e.eBV(n).$implicit,D=e.XpG(2);return e.Njj(D.viewOrEditRole(l))}),e.j41(11,"button",34),e.bIt("click",function(){const l=e.eBV(n).$implicit,D=e.XpG(2);return e.Njj(D.viewOrEditRole(l))}),e.nrm(12,"span",35),e.j41(13,"span",19),e.EFF(14),e.nI1(15,"translate"),e.k0s()()()()}if(2&s){const n=p.$implicit,a=e.XpG(2);e.R7$(3),e.JRh(n.name),e.R7$(2),e.SpI(" ",n.description," "),e.R7$(2),e.Y8G("ngIf",a.isPolicyRole(n)),e.R7$(2),e.Y8G("ngIf",n.reserved),e.R7$(3),e.Y8G("ngClass",e.l_i(8,hh,!a.isUserManagerReadOnly,a.isUserManagerReadOnly)),e.R7$(2),e.JRh(e.bMT(15,6,"Common.Edit"))}}function ib(s,p){if(1&s){const n=e.RV6();e.j41(0,"table",12)(1,"thead")(2,"tr")(3,"th",13),e.bIt("click",function(){e.eBV(n);const l=e.XpG();return e.Njj(l.sort())}),e.j41(4,"span",14),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.DNE(7,$o,1,0,"span",15)(8,nb,1,0,"span",16),e.k0s(),e.j41(9,"th",17),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"th",18)(13,"span",19),e.EFF(14),e.nI1(15,"translate"),e.k0s()(),e.j41(16,"th",20)(17,"span",19),e.EFF(18),e.nI1(19,"translate"),e.k0s()(),e.j41(20,"th",21)(21,"span",19),e.EFF(22),e.nI1(23,"translate"),e.k0s()()()(),e.j41(24,"tbody"),e.DNE(25,pa,16,11,"tr",22),e.k0s()()}if(2&s){const n=e.XpG();e.R7$(5),e.JRh(e.bMT(6,8,"Common.Name")),e.R7$(2),e.Y8G("ngIf",n.sortIcon),e.R7$(),e.Y8G("ngIf",!n.sortIcon),e.R7$(2),e.SpI(" ",e.bMT(11,10,"Common.Description")," "),e.R7$(4),e.JRh(e.bMT(15,12,"Common.Policy")),e.R7$(4),e.JRh(e.bMT(19,14,"Common.Reserved")),e.R7$(4),e.JRh(e.bMT(23,16,"Common.Actions")),e.R7$(3),e.Y8G("ngForOf",n.roles)}}function tp(s,p){if(1&s&&e.nrm(0,"app-pager",38),2&s){const n=e.XpG();e.Y8G("totalResults",null==n.roles?null:n.roles.length)}}let rb=(()=>{class s{constructor(n,a,l,D,ee,De,Ze){this.rolesService=n,this.securityService=a,this.translate=l,this.router=D,this.titleService=ee,this.localize=De,this.errorService=Ze,this.roleListLength=0,this.sortCriteria="-name",this.term="",this.searchTermStream=new Ar.B,this.sortStream=new Ar.B}ngOnInit(){const n=this.translate.instant("Nav.Roles")+" - "+Bt.$9.SITE_TITLE;this.titleService.setTitle(n),this.isLoading=!0;const a=this.sortStream.pipe((0,Ci.T)(ee=>({search:this.term,sort:ee})));this.searchTermStream.pipe((0,bl.B)(300),(0,Cl.F)(),(0,Ci.T)(ee=>(this.term=ee,{search:ee,sort:this.sortCriteria}))).pipe((0,fa.X)(a),(0,Ja.Z)({search:this.term,sort:this.sortCriteria}),(0,ea.Z)(ee=>this.rolesService.getRoles(ee.search,ee.sort))).subscribe({next:ee=>{this.roles=ee,this.isLoading=!1},error:ee=>{this.errorService.handleError(ee),this.isLoading=!1}})}search(n){this.searchTermStream.next(n)}update(){this.sortStream.next(this.sortCriteria)}sort(){this.sortCriteria=this.sortCriteria.startsWith("-")?"name":"-name",this.sortStream.next(this.sortCriteria),this.sortIcon=!this.sortIcon}viewOrEditRole(n){this.isUserManagerReadOnly?this.viewRole(n):this.editRole(n)}editRole(n){const a=[this.localize.translateRoute("/roles"),n.id];this.router.navigate(a)}viewRole(n){const a=[this.localize.translateRoute("/roles/view"),n.id];this.router.navigate(a)}allowedToEditRole(n){return!this.securityService.allView&&this.isPolicyRole(n)}isPolicyRole(n){const a=this.securityService.policyClaims;for(let l=0;l<a.length;l++)if("role"===a[l].type&&a[l].value===n.name)return!0;return!1}get isUserManagerReadOnly(){return(0,Ai.zG)(this.securityService.userPermissions)}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(as.P),e.rXU(Vr.i),e.rXU(_n.c$),e.rXU(bt.Ix),e.rXU(i.hE),e.rXU(Wn.QG),e.rXU(ne.I))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["ng-component"]],decls:12,vars:11,consts:[["addRoleModal",""],[3,"title"],[3,"added"],["id","rolesList",1,"tw-container","mx-auto"],[3,"onSearch","placeholder"],[4,"ngIf"],["class","tw-alert","role","alert",4,"ngIf"],["id","rolesTable","class","datatable selectable hover",4,"ngIf"],["hidePager","true",3,"totalResults",4,"ngIf"],["right",""],[1,"tw-btn-success",3,"click"],["role","alert",1,"tw-alert"],["id","rolesTable",1,"datatable","selectable","hover"],["id","sortName",1,"tw-max-w-0","tw-cursor-pointer","lg:tw-w-1/3",3,"click"],[1,"tw-mr-2"],["class","fas fa-caret-down","aria-hidden","true",4,"ngIf"],["class","fas fa-caret-up","aria-hidden","true",4,"ngIf"],[1,"tw-hidden","lg:tw-table-cell"],[1,"tw-w-1","tw-hidden","sm:tw-table-cell"],[1,"sr-only"],[1,"tw-w-1","tw-hidden","md:tw-table-cell"],[1,"tw-w-1"],["class","group",4,"ngFor","ngForOf"],["aria-hidden","true",1,"fas","fa-caret-down"],["aria-hidden","true",1,"fas","fa-caret-up"],[1,"group"],[1,"tw-max-w-0","tw-truncate",3,"click"],[1,"tw-text-blue-500"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell",3,"click"],[1,"tw-hidden","sm:tw-table-cell",3,"click"],["class","tw-pill-warning",4,"ngIf"],[1,"tw-hidden","md:tw-table-cell",3,"click"],["class","tw-pill",4,"ngIf"],[3,"click"],[1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click"],["id","viewOrEditIcon","aria-hidden","true",3,"ngClass"],[1,"tw-pill-warning"],[1,"tw-pill"],["hidePager","true",3,"totalResults"]],template:function(a,l){if(1&a){const D=e.RV6();e.nrm(0,"app-title-bar",1),e.nI1(1,"translate"),e.j41(2,"app-add-role",2,0),e.bIt("added",function(){return e.eBV(D),e.Njj(l.update())}),e.k0s(),e.j41(4,"div",3)(5,"app-search",4),e.nI1(6,"translate"),e.bIt("onSearch",function(De){return e.eBV(D),e.Njj(l.search(De))}),e.k0s(),e.DNE(7,br,5,3,"app-action-bar",5)(8,ep,1,0,"app-simple-loader",5)(9,Qu,4,3,"div",6)(10,ib,26,18,"table",7)(11,tp,1,1,"app-pager",8),e.k0s()}2&a&&(e.Y8G("title",e.bMT(1,7,"Nav.Roles")),e.R7$(5),e.Y8G("placeholder",e.bMT(6,9,"Roles.SearchPlaceholder")),e.R7$(2),e.Y8G("ngIf",!l.isLoading&&!l.isUserManagerReadOnly),e.R7$(),e.Y8G("ngIf",l.isLoading),e.R7$(),e.Y8G("ngIf",(!l.roles||l.roles.length<=0)&&!l.isLoading),e.R7$(),e.Y8G("ngIf",l.roles&&l.roles.length>0&&!l.isLoading),e.R7$(),e.Y8G("ngIf",l.roles&&l.roles.length>0&&!l.isLoading))},dependencies:[pn.YU,pn.Sq,pn.bT,Zt.z,Qa.B,_l.n,jo.S,As.d,Ju,_n.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();const Sl=(s,p)=>({title:s,link:p}),Wg=s=>[s];function sb(s,p){1&s&&(e.j41(0,"span",8),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Policy")," "))}function Kg(s,p){1&s&&(e.j41(0,"span",9),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Reserved")," "))}function np(s,p){if(1&s&&(e.qex(0,5),e.DNE(1,sb,3,3,"span",6)(2,Kg,3,3,"span",7),e.bVm()),2&s){const n=e.XpG();e.R7$(),e.Y8G("ngIf",n.isPolicyRole()),e.R7$(),e.Y8G("ngIf",n.role.reserved)}}let ip=(()=>{class s{constructor(n,a,l,D){this.activatedRoute=n,this.errorService=a,this.router=l,this.securityService=D}ngOnInit(){this.roleDataSubscription=this.activatedRoute.data.subscribe(n=>{this.role=n.role},n=>{this.errorService.handleError(n)})}ngOnDestroy(){this.roleDataSubscription.unsubscribe()}isPolicyRole(){const n=this.securityService.policyClaims;for(let a=0;a<n.length;a++)if("role"===n[a].type&&n[a].value===this.role.name)return!0;return!1}mobRoute(n){this.router.navigate([n],{relativeTo:this.activatedRoute})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(bt.nX),e.rXU(ne.I),e.rXU(bt.Ix),e.rXU(Vr.i))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["ng-component"]],decls:10,vars:18,consts:[[3,"title","crumbs","hasTabs","isReadOnly"],["badge","",4,"ngIf"],["tabs",""],[3,"tabTitle","tabValue"],["id","viewRole"],["badge",""],["class","tw-pill-warning tw-mr-2",4,"ngIf"],["class","tw-pill tw-mr-2",4,"ngIf"],[1,"tw-pill-warning","tw-mr-2"],[1,"tw-pill","tw-mr-2"]],template:function(a,l){1&a&&(e.j41(0,"app-title-bar",0),e.nI1(1,"translate"),e.nI1(2,"localize"),e.DNE(3,np,3,2,"ng-container",1),e.qex(4,2),e.j41(5,"app-custom-tabs"),e.nrm(6,"app-custom-tab",3)(7,"app-custom-tab",3),e.k0s(),e.bVm(),e.k0s(),e.j41(8,"div",4),e.nrm(9,"router-outlet"),e.k0s()),2&a&&(e.Y8G("title",l.role.name)("crumbs",e.eq3(16,Wg,e.l_i(13,Sl,e.bMT(1,9,"Nav.Roles"),e.bMT(2,11,"/roles"))))("hasTabs",!0)("isReadOnly",!0),e.R7$(3),e.Y8G("ngIf",l.isPolicyRole()||l.role.reserved),e.R7$(3),e.Y8G("tabTitle","Nav.Details")("tabValue","details"),e.R7$(),e.Y8G("tabTitle","Nav.Users")("tabValue","users"))},dependencies:[pn.bT,bt.n3,Zt.z,rn.G,bn.v,_n.D9,Wn.tl],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();var qu=u(5517),sc=u(6199),fh=u(1796),ka=u(6923),Fi=u(2771),rp=u(2734),ed=u(9564);let ob=(()=>{class s extends rp.x{constructor(n,a){super(),this.http=n,this.headersService=a,this.userSubject=new Fi.m(1),this.actionUrl="auditedEvents",this.headers=this.headersService.setHeaders()}getAudits(n,a,l,D,ee,De,Ze){const gt=this.buildParams(n,l,a,D,ee,De,Ze);return this.http.get(this.actionUrl,{headers:this.headers,params:gt})}getResourceAudits(n,a,l,D,ee,De,Ze,gt,Vt){throw new Error("AuditingService doesn't support getResourceAudits method")}static{this.\u0275fac=function(a){return new(a||s)(e.KVO(S.Qq),e.KVO(ed.m))}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac})}}return s})();var ab=u(9861);let lb=(()=>{class s{constructor(n,a){n.setTitle(a.instant("Nav.Auditing")+` - ${Bt.$9.SITE_TITLE}`)}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(i.hE),e.rXU(_n.c$))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-all-audits"]],features:[e.Jv_([{provide:rp.x,useClass:ob}])],decls:4,vars:3,consts:[[3,"title"],[1,"tw-container","tw-mx-auto"]],template:function(a,l){1&a&&(e.nrm(0,"app-title-bar",0),e.nI1(1,"translate"),e.j41(2,"div",1),e.nrm(3,"app-audits-list"),e.k0s()),2&a&&e.Y8G("title",e.bMT(1,1,"Nav.Auditing"))},dependencies:[ab.k,Zt.z,_n.D9],encapsulation:2})}}return s})();const zg=[{path:"",component:yl},{path:"initial-admin-creation",component:Ut,canActivate:[dn.h],data:{permissions:[Jt.a[Jt.a.All]]}},{path:"home",component:lo,canActivate:[dn.h,Qn._]},{path:"users",loadChildren:()=>Promise.resolve().then(u.bind(u,7101)).then(s=>s.UsersModule),canActivate:[dn.h,Qn._]},{path:"roles",component:rb,canActivate:[dn.h,Qn._],data:{permissions:[Jt.a[Jt.a.UserManager],Jt.a[Jt.a.UserManagerReadOnly],Jt.a[Jt.a.AllReadOnly],Jt.a[Jt.a.All]]}},{path:"roles/:Id",component:Ir,children:[{path:"",redirectTo:"details",pathMatch:"full"},{path:"details",component:ws,canDeactivate:[Nn.M]},{path:"users",component:xa,canDeactivate:[Nn.M]}],resolve:{role:sc.v},canDeactivate:[Nn.M],canActivate:[dn.h,Qn._],data:{permissions:[Jt.a[Jt.a.UserManager],Jt.a[Jt.a.All]]}},{path:"roles/view/:Id",component:ip,loadChildren:()=>u.e(907).then(u.bind(u,5907)).then(s=>s.ViewRolesModule),resolve:{role:sc.v},canActivate:[dn.h,Qn._],data:{permissions:[Jt.a[Jt.a.UserManager],Jt.a[Jt.a.UserManagerReadOnly],Jt.a[Jt.a.AllReadOnly],Jt.a[Jt.a.All]]}},{path:"claim-types",loadChildren:()=>Promise.resolve().then(u.bind(u,3730)).then(s=>s.ClaimTypesModule),canActivate:[dn.h,Qn._]},{path:"auditing",component:lb,canActivate:[dn.h,fh.S,Qn._,ka.q],data:{permissions:[Jt.a[Jt.a.Auditer],Jt.a[Jt.a.AllReadOnly],Jt.a[Jt.a.All]]}},{path:"starter-mode",loadChildren:()=>Promise.resolve().then(u.bind(u,9624)).then(s=>s.StarterModeModule),canActivate:[dn.h,qu.H]},{path:"unauthorized",component:za},{path:"forbidden",component:ec},{path:"auth",component:Ha,data:{skipRouteLocalization:!0}},{path:"resourcenotfound",component:Wa,canActivate:[dn.h,Qn._]},{path:"**",component:Bo,canActivate:[dn.h,Qn._]}];var uo=u(6026),Vi=u(9988);let Wc=(()=>{class s{constructor(n,a){this.http=n,this.actionUrl="Scopes",this.headers=a.setHeaders()}get(n,a,l){let D=new S.Nl;return n&&(D=D.append("page",n)),a&&(D=D.append("pageSize",a)),(0,Ai.gP)(l)||(D=D.append("name",l)),this.http.get(this.actionUrl,{headers:this.headers,params:D})}createScope(n){return this.http.post(this.actionUrl,n,{headers:this.headers})}getScope(n){return this.http.get(`${this.actionUrl}/${n}`,{headers:this.headers})}updateScope(n){return this.http.put(`${this.actionUrl}/${n.id}`,n,{headers:this.headers})}deleteScope(n){return this.http.delete(`${this.actionUrl}/${n}`,{headers:this.headers})}static{this.\u0275fac=function(a){return new(a||s)(e.KVO(S.Qq),e.KVO(ed.m))}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac})}}return s})();var ph=u(7957),hi=u(7329),Eo=u(8575);function wn(){return g.k0.pattern(/^[\d\w-]*$/)}var fc=u(803),Yg=u(2292);function $r(s,p){if(1&s&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"slice"),e.k0s()),2&s){const n=p.item;e.R7$(),e.JRh(n.length>20?e.brH(2,1,n,0,20)+"...":n)}}function Xg(s,p){if(1&s){const n=e.RV6();e.j41(0,"div",9)(1,"app-pill-list",10),e.bIt("onDelete",function(l){e.eBV(n);const D=e.XpG();return e.Njj(D.removeResource(l))}),e.k0s()()}if(2&s){const n=e.XpG();e.R7$(),e.Y8G("values",n.resources)}}let td=(()=>{class s{constructor(n,a,l){this.fb=n,this.toastrService=a,this.translateService=l,this.resources=[]}ngOnInit(){this.resourcesForm=this.fb.group({newResource:["",[g.k0.required,wn()]]})}addResource(){var n=this.resourcesForm.get("newResource").value;if(""!==n)if(n.indexOf(" ")>=0){const a=this.translateService.instant("Scopes.Resources.CannotHaveSpaces");this.toastrService.error(a)}else if(this.resources.includes(n)){const a=this.translateService.instant("Scopes.Resources.AlreadyAdded");this.toastrService.error(a)}else this.resources.includes(n)||this.resources.push(n),this.resourcesForm.get("newResource").setValue("");else this.toastrService.error(this.translateService.instant("Scopes.Resources.MustSpecifyResource"))}removeResource(n){this.resources.splice(n,1)}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return!0}hosted(){}toStepDto(){const n={};return n.resources=this.resources,n}toSummaryMap(){const n=new Map;return n.set("resources",this.resources),n}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(g.ze),e.rXU(Jn.tw),e.rXU(_n.c$))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-resources-step"]],inputs:{data:"data"},decls:14,vars:14,consts:[["customItemTemplate",""],[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","hasLabel","isLast"],[1,"tw-form-typeahead"],["id","new-resource-input","formControlName","newResource","type","text","name","New Resource","left","",1,"tw-form-control",3,"placeholder"],["id","addResourceButton","right","",1,"tw-btn-success",3,"click"],["class","tw-mt-6 tw-border tw-border-grey-300 tw-px-2 tw-pt-1 tw-pb-2",4,"ngIf"],[1,"tw-mt-6","tw-border","tw-border-grey-300","tw-px-2","tw-pt-1","tw-pb-2"],[3,"onDelete","values"]],template:function(a,l){if(1&a){const D=e.RV6();e.j41(0,"div",1),e.nrm(1,"p",2),e.nI1(2,"translate"),e.k0s(),e.DNE(3,$r,3,5,"ng-template",null,0,e.C5r),e.j41(5,"form",3)(6,"app-form-row",4)(7,"app-row-bar",5),e.nrm(8,"input",6),e.nI1(9,"translate"),e.j41(10,"button",7),e.bIt("click",function(){return e.eBV(D),e.Njj(l.addResource())}),e.EFF(11),e.nI1(12,"translate"),e.k0s()()()(),e.DNE(13,Xg,2,1,"div",8)}2&a&&(e.R7$(),e.Y8G("innerHTML",e.bMT(2,8,"Scopes.Wizard.ResourcesStep"),e.npT),e.R7$(4),e.Y8G("formGroup",l.resourcesForm),e.R7$(),e.Y8G("id","NewResource")("hasLabel",!1)("isLast",!0),e.R7$(2),e.FS9("placeholder",e.bMT(9,10,"Scopes.Resources.Placeholder")),e.R7$(3),e.SpI(" ",e.bMT(12,12,"Common.Add")," "),e.R7$(2),e.Y8G("ngIf",l.resources.length>0))},dependencies:[pn.bT,g.qT,g.me,g.BC,g.cb,g.j4,g.JD,fe.Y,fc.f,Yg.L,pn.P9,_n.D9],encapsulation:2})}}return s})();function El(s,p){if(1&s&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"slice"),e.k0s()),2&s){const n=p.item;e.R7$(),e.JRh(n.length>20?e.brH(2,1,n,0,20)+"...":n)}}let sp=(()=>{class s{constructor(n){this.fb=n}ngOnInit(){this.scopeDetailsForm=this.fb.group({name:["",[g.k0.required,wn()]],displayName:["",[g.k0.required]],description:[""]})}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return!this.scopeDetailsForm.invalid}hosted(){}toStepDto(){const n={};return n.name=this.scopeDetailsForm.get("name").value,n.displayName=this.scopeDetailsForm.get("displayName").value,n.description=this.scopeDetailsForm.get("description").value,n}toSummaryMap(){const n=new Map;return n.set("name",[this.scopeDetailsForm.get("name").value]),n.set("displayName",[this.scopeDetailsForm.get("displayName").value]),n.set("description",[this.scopeDetailsForm.get("description").value]),n}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(g.ze))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-scope-details-step"]],inputs:{data:"data"},decls:12,vars:14,consts:[["customItemTemplate",""],[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help"],["type","text","name","Name","id","Name","formControlName","name","required","",1,"tw-form-control"],["type","text","name","DisplayName","id","DisplayName","formControlName","displayName","required","",1,"tw-form-control"],[3,"id","label","help","isLast"],["type","text","name","Description","id","Description","formControlName","description",1,"tw-form-control"]],template:function(a,l){1&a&&(e.j41(0,"div",1),e.nrm(1,"p",2),e.nI1(2,"translate"),e.k0s(),e.DNE(3,El,3,5,"ng-template",null,0,e.C5r),e.j41(5,"form",3)(6,"app-form-row",4),e.nrm(7,"input",5),e.k0s(),e.j41(8,"app-form-row",4),e.nrm(9,"input",6),e.k0s(),e.j41(10,"app-form-row",7),e.nrm(11,"textarea",8),e.k0s()()),2&a&&(e.R7$(),e.Y8G("innerHTML",e.bMT(2,12,"Scopes.Wizard.EnterBasicDetails"),e.npT),e.R7$(4),e.Y8G("formGroup",l.scopeDetailsForm),e.R7$(),e.Y8G("id","Name")("label","Scopes.Name.Label")("help","Scopes.Name.Help"),e.R7$(2),e.Y8G("id","DisplayName")("label","Scopes.DisplayName.Label")("help","Scopes.DisplayName.Help"),e.R7$(2),e.Y8G("id","Description")("label","Scopes.Description.Label")("help","Scopes.Description.Help")("isLast",!0))},dependencies:[g.qT,g.me,g.BC,g.cb,g.YS,g.j4,g.JD,fe.Y,pn.P9,_n.D9],encapsulation:2})}}return s})();class op extends ph.p{constructor(){super(),this.nameComponentMap.set(Vi.$.AddOpenIddictScope,[new hi.W(sp,{stepName:"ScopeDetailsStepComponent"}),new hi.W(td,{stepName:"ResourcesStepComponent"})]),this.nameTitleMap.set(Vi.$.AddOpenIddictScope,new Eo.J("Scopes.Wizard.Setup","Scopes.Wizard.Title"))}}var ap=u(2420),Jg=u(1715);function Qg(s,p){if(1&s&&(e.j41(0,"div",5),e.nrm(1,"div",17),e.k0s()),2&s){const n=e.XpG();e.R7$(),e.xc7("width",n.progressPercent+"%"),e.BMQ("aria-valuenow",n.progressPercent)}}function Go(s,p){}function Ul(s,p){if(1&s){const n=e.RV6();e.j41(0,"button",18),e.bIt("click",function(){e.eBV(n);const l=e.XpG();return e.Njj(l.nextTab())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}if(2&s){const n=e.XpG();e.Y8G("disabled",!n.canNext()),e.R7$(),e.JRh(e.bMT(2,2,"Common.Next"))}}function Zg(s,p){if(1&s){const n=e.RV6();e.j41(0,"button",19),e.bIt("click",function(){e.eBV(n);const l=e.XpG();return e.Njj(l.submit())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Common.Save")))}function qa(s,p){if(1&s){const n=e.RV6();e.j41(0,"button",20),e.bIt("click",function(){e.eBV(n);const l=e.XpG();return e.Njj(l.previousTab())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Common.Back")))}function Vl(s,p){1&s&&(e.j41(0,"a",15),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"StarterMode.UpgradeAdminUI")))}let cb=(()=>{class s extends ap.P{constructor(n,a,l,D){super(n,a,l),this.errorService=n,this.toastr=a,this.translate=l,this.scopeService=D,this.wizardProvider=new op,this.wizardName=Vi.$.AddOpenIddictScope}submit(){const n=this.getWizardDto();this.scopeService.createScope(n).subscribe({complete:()=>{this.finishWizard(),this.clearComponents(),this.toastr.success(`${this.translate.instant("Common.Created")}: ${n.displayName}`,this.translate.instant("Notifications.SuccessfullyCreated")),this.hideWizard()},error:a=>{this.errorService.handleError(a)}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(ne.I),e.rXU(Jn.tw),e.rXU(_n.c$),e.rXU(Wc))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-scope-wizard-host"]],features:[e.Jv_([]),e.Vt3],decls:23,vars:15,consts:[[1,"modal-header"],[1,"modal-title",3,"id"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-progress"],[1,"modal-body","scrollbars"],["appStepHost",""],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["class","tw-btn-success tw-mr-3","id","nextBtn",3,"disabled","click",4,"ngIf"],["class","tw-btn-success tw-mr-3","id","submitBtn",3,"click",4,"ngIf"],["class","tw-btn","id","backBtn",3,"click",4,"ngIf"],["id","upgradeAdminUI","href","starter-mode/teaser",1,"tw-btn","tw-ml-4"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],["role","progressbar",1,"modal-progress-bar"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],["id","submitBtn",1,"tw-btn-success","tw-mr-3",3,"click"],["id","backBtn",1,"tw-btn",3,"click"]],template:function(a,l){if(1&a&&(e.j41(0,"div",0)(1,"h5",1),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"button",2),e.bIt("click",function(){return l.hideWizard()}),e.nrm(5,"span",3),e.j41(6,"span",4),e.EFF(7),e.nI1(8,"translate"),e.k0s()()(),e.DNE(9,Qg,2,3,"div",5),e.j41(10,"div",6),e.DNE(11,Go,0,0,"ng-template",7),e.k0s(),e.nrm(12,"div",8),e.j41(13,"div",9)(14,"div",10)(15,"div",11),e.DNE(16,Ul,3,4,"button",12)(17,Zg,3,3,"button",13)(18,qa,3,3,"button",14)(19,Vl,3,3,"a",15),e.k0s(),e.j41(20,"button",16),e.bIt("click",function(){return l.cancelWizard()}),e.EFF(21),e.nI1(22,"translate"),e.k0s()()()),2&a){let D;e.R7$(),e.Y8G("id",l.titleId),e.R7$(),e.JRh(e.bMT(3,9,null!==(D=null==l.wizardTitles?null:l.wizardTitles.setupTitle)&&void 0!==D?D:"")),e.R7$(5),e.JRh(e.bMT(8,11,"Common.Close")),e.R7$(2),e.vxM(9,l.showProgress?9:-1),e.R7$(7),e.Y8G("ngIf",l.index<(null==l.wizardSteps?null:l.wizardSteps.length)),e.R7$(),e.Y8G("ngIf",l.index==(null==l.wizardSteps?null:l.wizardSteps.length)),e.R7$(),e.Y8G("ngIf",!l.initialStep()),e.R7$(),e.vxM(19,l.initialStep()&&null!=l.asAny&&l.asAny.displayUpgradeIcon?19:-1),e.R7$(2),e.JRh(e.bMT(22,13,"Common.Cancel"))}},dependencies:[pn.bT,Jg.t,_n.D9],encapsulation:2})}}return s})();const qg=(s,p)=>({"fad fa-pencil":s,"fas fa-eye":p});function ub(s,p){if(1&s){const n=e.RV6();e.j41(0,"app-scope-wizard-host",8),e.bIt("wizardCancel",function(){e.eBV(n);const l=e.XpG();return e.Njj(l.hideWizard())})("hide",function(){e.eBV(n);const l=e.XpG();return e.Njj(l.hideWizard())})("finish",function(){e.eBV(n);const l=e.XpG();return e.Njj(l.reload())}),e.k0s()}if(2&s){const n=e.XpG();e.Y8G("wizardName",n.wizardType)}}function db(s,p){if(1&s){const n=e.RV6();e.j41(0,"div",13)(1,"label",14),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"select",15),e.mxI("ngModelChange",function(l){e.eBV(n);const D=e.XpG(2);return e.DH7(D.pageSize,l)||(D.pageSize=l),e.Njj(l)}),e.bIt("change",function(){e.eBV(n);const l=e.XpG(2);return e.Njj(l.setPageLength(+l.pageSize))}),e.j41(5,"option",16),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"option",17),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"option",18),e.EFF(12),e.nI1(13,"translate"),e.k0s()()()}if(2&s){const n=e.XpG(2);e.R7$(2),e.Lme("",n.pageSize," ",e.bMT(3,6,"Nav.PerPage"),""),e.R7$(2),e.R50("ngModel",n.pageSize),e.R7$(2),e.SpI("25 ",e.bMT(7,8,"Nav.PerPage"),""),e.R7$(3),e.SpI("50 ",e.bMT(10,10,"Nav.PerPage"),""),e.R7$(3),e.SpI("100 ",e.bMT(13,12,"Nav.PerPage"),"")}}function lp(s,p){if(1&s){const n=e.RV6();e.j41(0,"app-action-bar"),e.qex(1,9),e.DNE(2,db,14,14,"div",10),e.bVm(),e.qex(3,11),e.j41(4,"button",12),e.bIt("click",function(){e.eBV(n);const l=e.XpG(),D=e.sdS(3);return e.Njj(l.showWizard(D))}),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.bVm(),e.k0s()}if(2&s){const n=e.XpG();e.R7$(2),e.Y8G("ngIf",(null==n.pagedResult?null:n.pagedResult.results.length)>0),e.R7$(3),e.SpI(" ",e.bMT(6,2,"Common.Add")," ")}}function cp(s,p){1&s&&e.nrm(0,"app-simple-loader")}function up(s,p){1&s&&(e.j41(0,"div",19)(1,"div"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&s&&(e.R7$(2),e.JRh(e.bMT(3,1,"Scopes.NoneFound")))}function mh(s,p){1&s&&(e.j41(0,"span",36),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Reserved")," "))}function hb(s,p){if(1&s){const n=e.RV6();e.j41(0,"tr",28)(1,"td",29),e.bIt("click",function(){const l=e.eBV(n).$implicit,D=e.XpG(2);return e.Njj(D.viewOrEditScope(l))}),e.j41(2,"b"),e.EFF(3),e.k0s()(),e.j41(4,"td",30),e.bIt("click",function(){const l=e.eBV(n).$implicit,D=e.XpG(2);return e.Njj(D.viewOrEditScope(l))}),e.EFF(5),e.k0s(),e.j41(6,"td",31),e.bIt("click",function(){const l=e.eBV(n).$implicit,D=e.XpG(2);return e.Njj(D.viewOrEditScope(l))}),e.EFF(7),e.k0s(),e.j41(8,"td",32),e.bIt("click",function(){const l=e.eBV(n).$implicit,D=e.XpG(2);return e.Njj(D.viewOrEditScope(l))}),e.DNE(9,mh,3,3,"span",33),e.k0s(),e.j41(10,"td",32),e.bIt("click",function(){const l=e.eBV(n).$implicit,D=e.XpG(2);return e.Njj(D.viewOrEditScope(l))}),e.j41(11,"button",34),e.bIt("click",function(){const l=e.eBV(n).$implicit,D=e.XpG(2);return e.Njj(D.viewOrEditScope(l))}),e.nrm(12,"span",35),e.j41(13,"span",25),e.EFF(14),e.nI1(15,"translate"),e.k0s()()()()}if(2&s){const n=p.$implicit,a=e.XpG(2);e.R7$(2),e.AVh("tw-text-blue-500",!n.reserved),e.R7$(),e.JRh(n.displayName),e.R7$(2),e.SpI(" ",n.name," "),e.R7$(2),e.SpI(" ",n.description," "),e.R7$(2),e.Y8G("ngIf",n.reserved),e.R7$(3),e.Y8G("ngClass",e.l_i(10,qg,!a.isIdentityServerManagerReadOnly&&!n.reserved,a.isIdentityServerManagerReadOnly||n.reserved)),e.R7$(2),e.JRh(e.bMT(15,8,"Common.Edit"))}}function e1(s,p){if(1&s&&(e.j41(0,"table",20)(1,"thead")(2,"tr")(3,"th",21),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"th",22),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"th",23),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"th",24)(13,"span",25),e.EFF(14),e.nI1(15,"translate"),e.k0s()(),e.j41(16,"th",24)(17,"span",25),e.EFF(18),e.nI1(19,"translate"),e.k0s()()()(),e.j41(20,"tbody",26),e.DNE(21,hb,16,13,"tr",27),e.k0s()()),2&s){const n=e.XpG();e.R7$(4),e.JRh(e.bMT(5,6,"Common.DisplayName")),e.R7$(3),e.JRh(e.bMT(8,8,"Common.Name")),e.R7$(3),e.JRh(e.bMT(11,10,"Common.Description")),e.R7$(4),e.JRh(e.bMT(15,12,"Common.Reserved")),e.R7$(4),e.JRh(e.bMT(19,14,"Common.Actions")),e.R7$(3),e.Y8G("ngForOf",n.pagedResult.results)}}function dp(s,p){if(1&s){const n=e.RV6();e.j41(0,"app-pager",37),e.bIt("onGoToPage",function(l){e.eBV(n);const D=e.XpG();return e.Njj(D.goToPage(l))}),e.k0s()}if(2&s){const n=e.XpG();e.Y8G("totalResults",null==n.pagedResult?null:n.pagedResult.totalCount)("currentPage",n.page)("lastPage",null==n.pagedResult?null:n.pagedResult.pageCount)}}let hp=(()=>{class s extends co.if{constructor(n,a,l,D,ee,De,Ze,gt,Vt){super(Ze,De,!0),this.openiddictScopeService=n,this.router=a,this.errorService=l,this.localize=D,this.titleService=ee,this.translate=De,this.securityService=gt,this.modalService=Vt,this.pageSize=25,this.page=1,this.term="",this.isLoading=!0,this.pageStream=new Ar.B,this.pageSizeStream=new Ar.B,this.wizardType=Vi.$.AddOpenIddictScope,this.mapSearchTerm=this.mapSearchTerm.bind(this)}reload(){this.pageStream.next(this.page),this.pageSizeStream.next(this.pageSize)}mapSearchTerm(n){return this.term=n,this.page=1,{searchTerm:n,page:this.page,pageSize:this.pageSize}}ngOnInit(){this.titleService.setTitle(this.translate.instant("Nav.Scopes")+` - ${Bt.$9.SITE_TITLE}`);const n=this.pageStream.pipe((0,Ci.T)(D=>(this.page=D,{searchTerm:this.term,page:D,pageSize:this.pageSize}))),a=this.pageSizeStream.pipe((0,Ci.T)(D=>(this.pageSize=D,{searchTerm:this.term,page:this.page,pageSize:D})));n.pipe((0,fa.X)(a),(0,fa.X)(this.searchSource),(0,fa.X)(this.enterKeySource),(0,Ja.Z)({searchTerm:this.term,page:this.page,pageSize:this.pageSize}),(0,ea.Z)(D=>(this.isLoading=!0,this.openiddictScopeService.get(D.page,D.pageSize,D.searchTerm).pipe((0,ta.c)(200))))).subscribe({next:D=>{this.pagedResult=D,this.isLoading=!1},error:D=>{this.errorService.handleError(D),this.isLoading=!1}})}searchScope(n){this.searchTermStream.next(n)}goToPage(n){this.pageStream.next(n)}setPageLength(n){this.page=1,this.pageSizeStream.next(n)}viewOrEditScope(n){this.isInReadOnlyMode||n.reserved?this.viewScope(n):this.editScope(n)}viewScope(n){const a=this.localize.translateRoute("/scopes/view");this.router.navigate([a,n.id])}editScope(n){const a=this.localize.translateRoute("/scopes");this.router.navigate([a,n.id])}get isInReadOnlyMode(){return(0,Ai.ci)(this.securityService.userPermissions)}get isIdentityServerManagerReadOnly(){return(0,Ai.ci)(this.securityService.userPermissions)}refreshList(){this.ngOnInit()}showWizard(n){this.modalService.show(n,{id:uo.R.Id,ariaLabelledBy:uo.R.TileId,ariaDescribedby:uo.R.DescriptionId,backdrop:"static"})}hideWizard(){this.modalService.hide(uo.R.Id)}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(Wc),e.rXU(bt.Ix),e.rXU(ne.I),e.rXU(Wn.QG),e.rXU(i.hE),e.rXU(_n.c$),e.rXU(Jn.tw),e.rXU(Vr.i),e.rXU(Rt.I8))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["ng-component"]],features:[e.Vt3],decls:12,vars:11,consts:[["scopeWizardModal",""],[3,"title"],["id","scopesList",1,"tw-container","tw-mx-auto"],[3,"onSearch","placeholder"],[4,"ngIf"],["class","tw-alert","role","alert",4,"ngIf"],["class","datatable selectable hover",4,"ngIf"],[3,"totalResults","currentPage","lastPage","onGoToPage",4,"ngIf"],[3,"wizardCancel","hide","finish","wizardName"],["left",""],["class","tw-hidden tw-form-select tw-w-auto sm:tw-block",4,"ngIf"],["right",""],["id","addIdpBtn",1,"tw-btn-success",3,"click"],[1,"tw-hidden","tw-form-select","tw-w-auto","sm:tw-block"],["for","pageSizeToggle",1,"sr-only"],["id","pageSizeToggle",1,"tw-form-control","tw-form-control-small",3,"ngModelChange","change","ngModel"],["value","25"],["value","50"],["value","100"],["role","alert",1,"tw-alert"],[1,"datatable","selectable","hover"],[1,"md:tw-1/4"],[1,"tw-hidden","tw-w-1/4","md:tw-table-cell"],[1,"tw-hidden","lg:tw-table-cell"],[1,"tw-w-1"],[1,"sr-only"],["id","scopesTable"],["class","group",4,"ngFor","ngForOf"],[1,"group"],[1,"tw-max-w-0","tw-truncate",3,"click"],[1,"tw-hidden","tw-max-w-0","tw-truncate","md:tw-table-cell",3,"click"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell",3,"click"],[3,"click"],["class","tw-pill",4,"ngIf"],["type","button",1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click"],["id","viewOrEditIcon","aria-hidden","true",3,"ngClass"],[1,"tw-pill"],[3,"onGoToPage","totalResults","currentPage","lastPage"]],template:function(a,l){if(1&a){const D=e.RV6();e.nrm(0,"app-title-bar",1),e.nI1(1,"translate"),e.DNE(2,ub,1,1,"ng-template",null,0,e.C5r),e.j41(4,"div",2)(5,"app-search",3),e.nI1(6,"translate"),e.bIt("onSearch",function(De){return e.eBV(D),e.Njj(l.searchScope(De))}),e.k0s(),e.DNE(7,lp,7,4,"app-action-bar",4)(8,cp,1,0,"app-simple-loader",4)(9,up,4,3,"div",5)(10,e1,22,16,"table",6)(11,dp,1,3,"app-pager",7),e.k0s()}2&a&&(e.Y8G("title",e.bMT(1,7,"Scopes.Title")),e.R7$(5),e.Y8G("placeholder",e.bMT(6,9,"Scopes.SearchPlaceholder")),e.R7$(2),e.Y8G("ngIf",!l.isLoading&&!l.isInReadOnlyMode),e.R7$(),e.Y8G("ngIf",l.isLoading),e.R7$(),e.Y8G("ngIf",(!l.pagedResult||l.pagedResult.results.length<=0)&&!l.isLoading),e.R7$(),e.Y8G("ngIf",l.pagedResult&&l.pagedResult.results.length>0&&!l.isLoading),e.R7$(),e.Y8G("ngIf",(null==l.pagedResult?null:l.pagedResult.results.length)>0&&!l.isLoading))},dependencies:[pn.YU,pn.Sq,pn.bT,g.xH,g.y7,g.wz,g.BC,g.vS,_l.n,jo.S,Zt.z,As.d,Qa.B,cb,_n.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();var Gs=u(9196);const t1=[[["","extraOptions",""]],[["","extraTabs",""]]],n1=["[extraOptions]","[extraTabs]"],gh=()=>["active"];function fb(s,p){1&s&&(e.j41(0,"option",13),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Nav.AccessPolicy")))}function xo(s,p){1&s&&(e.j41(0,"li",14)(1,"button",15),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&s&&(e.R7$(),e.Y8G("routerLinkActive",e.lJ4(4,gh)),e.R7$(),e.JRh(e.bMT(3,2,"Nav.AccessPolicy")))}let pc=(()=>{class s{constructor(n,a,l){this.titleService=n,this.translate=a,this.configService=l,this.targetIdentityServer4=!1,this.hideAccessPolicy=!1}ngOnInit(){this.configService.getConfig().pipe((0,$n.$)()).subscribe(n=>{this.targetIdentityServer4=n.targetIdentityServer4,this.hideAccessPolicy=n.featureFlagOptions.enforcerAuthorizationEnabled}),this.titleService.setTitle(this.translate.instant("Settings.Title")+` - ${Bt.$9.SITE_TITLE}`)}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(i.hE),e.rXU(_n.c$),e.rXU(Gs.w))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-settings"]],ngContentSelectors:n1,decls:26,vars:23,consts:[[3,"title","hasTabs"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu","disabled","",1,"tw-form-control"],["value","details"],["value","Access Policy",4,"ngIf"],["value","Webhooks"],["role","tablist",1,"tabs","tw-hidden","md:tw-flex"],["class","tabs__item","id","acessPolicyTab",4,"ngIf"],[1,"tabs__item"],["routerLink","webhooks","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["value","Access Policy"],["id","acessPolicyTab",1,"tabs__item"],["routerLink","accesspolicy","role","tab","aria-selected","false",1,"tabs__link","active",3,"routerLinkActive"]],template:function(a,l){1&a&&(e.NAR(t1),e.j41(0,"app-title-bar",0),e.nI1(1,"translate"),e.qex(2,1),e.j41(3,"div",2)(4,"label",3),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"div",4)(8,"select",5)(9,"option",6),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.DNE(12,fb,3,3,"option",7),e.j41(13,"option",8),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.SdG(16),e.k0s()()(),e.j41(17,"ul",9),e.nI1(18,"translate"),e.DNE(19,xo,4,5,"li",10),e.j41(20,"li",11)(21,"button",12),e.EFF(22),e.nI1(23,"translate"),e.k0s()(),e.SdG(24,1),e.k0s(),e.bVm(),e.k0s(),e.nrm(25,"router-outlet")),2&a&&(e.Y8G("title",e.bMT(1,10,"Nav.Settings"))("hasTabs",!0),e.R7$(5),e.JRh(e.bMT(6,12,"Nav.SubMenu")),e.R7$(5),e.SpI("",e.bMT(11,14,"Nav.SubMenu"),"..."),e.R7$(2),e.Y8G("ngIf",!l.hideAccessPolicy),e.R7$(2),e.JRh(e.bMT(15,16,"Nav.Webhooks")),e.R7$(3),e.BMQ("aria-label",e.bMT(18,18,"Nav.SubMenu")),e.R7$(2),e.Y8G("ngIf",!l.hideAccessPolicy),e.R7$(2),e.Y8G("routerLinkActive",e.lJ4(22,gh)),e.R7$(),e.JRh(e.bMT(23,20,"Nav.Webhooks")))},dependencies:[bt.n3,bt.Wk,bt.wQ,pn.bT,g.xH,g.y7,Zt.z,_n.D9],encapsulation:2})}}return s})(),ls=(()=>{class s{constructor(n,a,l){this.router=n,this.config=a,this.localizeRouter=l}canActivate(n,a){return this.config.getConfig().pipe((0,$n.$)(),(0,Ci.T)(l=>{if("accesspolicy"!=n.firstChild.routeConfig.path||!l.featureFlagOptions.enforcerAuthorizationEnabled)return!0;{const D=this.localizeRouter.translateRoute("/settings/webhooks");this.router.navigate([D])}}))}static{this.\u0275fac=function(a){return new(a||s)(e.KVO(bt.Ix),e.KVO(Gs.w),e.KVO(Wn.QG))}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();const r1=[...zg,{path:"applications",loadChildren:()=>u.e(899).then(u.bind(u,899)).then(s=>s.ApplicationsModule),canActivate:[dn.h,Qn._]},{path:"scopes",component:hp,canActivate:[dn.h,Qn._],data:{permissions:[Jt.a[Jt.a.IdentityServerManager],Jt.a[Jt.a.IdentityServerManagerReadOnly],Jt.a[Jt.a.AllReadOnly],Jt.a[Jt.a.All]]}},{path:"settings",component:pc,loadChildren:()=>Promise.resolve().then(u.bind(u,8440)).then(s=>s.SettingsModule),canActivate:[dn.h,Qn._,ls],canDeactivate:[Nn.M],data:{permissions:[Jt.a[Jt.a.All]]}}];let pb=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({imports:[bt.iI.forRoot(r1,{scrollPositionRestoration:"enabled"}),bt.iI]})}}return s})();var jl=u(1683);let s1=(()=>{class s{constructor(){this.cachedClaimTypes=new Fi.m(1),this.cachedClaimTypes$=this.cachedClaimTypes.asObservable()}setClaimTypes(n){this.cachedClaimTypes.next(n)}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac})}}return s})();var Tl=u(8455),Na=u(2571),o1=u(4179),Il=u(983),na=u(9437),nd=u(8261);let fp=(()=>{class s{constructor(n,a){this.identityResourceService=n,this.errorService=a}resolve(n,a){const l=n.paramMap.get("Id");return this.identityResourceService.getResource(l).pipe((0,Ci.T)(D=>(D&&this.identityResourceService.getCachedIdentityResource().next(D),D)),(0,na.W)((D,ee)=>(404===D.status?this.errorService.resourceNotFound(wo.v.identityResource):this.errorService.handleError(D),(0,Il.I)())))}static{this.\u0275fac=function(a){return new(a||s)(e.KVO(nd.A),e.KVO(ne.I))}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac})}}return s})();var id=u(5893);let a1=(()=>{class s{constructor(n,a){this.protectedResourceService=n,this.errorService=a}resolve(n,a){const l=n.paramMap.get("Id");return this.protectedResourceService.getResource(l).pipe((0,Ci.T)(D=>(D&&this.protectedResourceService.getCachedProtectedResource().next(D),D)),(0,na.W)((D,ee)=>(404===D.status?this.errorService.resourceNotFound(wo.v.protectedResource):this.errorService.handleError(D),(0,Il.I)())))}static{this.\u0275fac=function(a){return new(a||s)(e.KVO(id.x),e.KVO(ne.I))}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac})}}return s})();var pp=u(7415),el=u(367),$l=u(5731),rd=u(4193),Kc=u(3665),mc=u(7175),sd=u(1993),gc=u(8389),mb=u(9945),gb=u(6843),zc=u(7677),Oa=u(4367);let vb=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({providers:[fp,a1,s1],imports:[pn.MD,bt.iI,_n.h,g.YN,jl.Y,g.X1,wt.jr,Me.Ss,o1.z,Na.A,Tl.p,Xe.h6,Rt.Q_,pp.P,Wn.XE,el.m,$l.i,rd.c,Kc.t,mc.c,sd.E,gc.w,mb.f,gb.l,zc.N,Oa.N]})}}return s})();var Gl=u(2261),Hl=u(9398),Yc=u(3577);let l1=(()=>{class s{constructor(n,a,l){this.clientService=n,this.clientCachingService=a,this.errorService=l}resolve(n,a){const l=n.paramMap.get("Id");return this.clientService.getClient(l).pipe((0,Ci.T)(D=>(this.clientCachingService.unsavedCache.next(D),D)),(0,na.W)(D=>(404===D.status?this.errorService.resourceNotFound(wo.v.client):this.errorService.handleError(D),(0,Il.I)())))}static{this.\u0275fac=function(a){return new(a||s)(e.KVO(Hl._),e.KVO(Yc.e),e.KVO(ne.I))}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac})}}return s})();var mp=u(3384),gp=u(4442),vp=u(9686);let Fa=(()=>{class s{constructor(n){this.fileDownloader=n,this.actionUrl="clients/export"}exportAllClients(){this.fileDownloader.buildForm(this.actionUrl).submitForm()}exportSelectedClients(n){const a=this.actionUrl+"/specified",l=new Map;l.set("clientIds",n.join(",")),this.fileDownloader.buildFormWithCustomInputs(a,l).submitForm()}static{this.\u0275fac=function(a){return new(a||s)(e.KVO(vp.D))}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac})}}return s})();var c1=u(8556),Xc=u(2036),od=u(9475),ad=u(8251),oc=u(6599),ld=u(9947),yp=u(6366),vh=u(5691),ia=u(7673),cd=u(8173),mr=u(6701),vc=function(s){return s.Client="Client",s.WsFed="WsFed",s.Saml="Saml",s}(vc||{}),yh=u(9156),ma=u(3853),Jc=u(3497),ga=u(9550),_p=u(2467);const Qc=["cloneClientModal"],Zc=["addClaimTypeModal"],ho=()=>({backdrop:"static",keyboard:"false"});function yb(s,p){if(1&s&&(e.j41(0,"div",25)(1,"div"),e.EFF(2),e.k0s()()),2&s){const n=e.XpG();e.R7$(2),e.JRh(n.errorCode)}}function u1(s,p){if(1&s&&(e.j41(0,"app-form-row",16)(1,"app-form-toggle",26),e.nrm(2,"input",27),e.k0s()()),2&s){const n=e.XpG();e.Y8G("id","cloneSecrets")("label","Clients.Clone.CloneSecrets")("help","Clients.Clone.CloneSecretsDescription")("isLast",n.clientType!==n.clientTypes.Saml),e.R7$(),e.Y8G("id","cloneSecrets")}}function bp(s,p){1&s&&(e.j41(0,"app-form-row",16)(1,"app-form-toggle",26),e.nrm(2,"input",28),e.k0s()()),2&s&&(e.Y8G("id","cloneCerts")("label","Clients.Clone.CloneCerts")("help","Clients.Clone.CloneCertsDescription")("isLast",!0),e.R7$(),e.Y8G("id","cloneSecrets"))}let _b=(()=>{class s{constructor(n,a,l,D,ee){this.clientsService=n,this.fb=a,this.localize=l,this.router=D,this.translate=ee,this.clientTypeKey=Jc.E.Default,this.clientTypes=mr.s,this.errorCode=""}ngOnInit(){this.newClientForm=this.fb.group({clientId:["",g.k0.required],clientName:["",g.k0.required],cloneSecrets:[!1],cloneCerts:[!1]}),this.clientType===this.clientTypes.Saml?this.clientTypeKey=Jc.E.Saml:this.clientType===this.clientTypes.WsFed&&(this.clientTypeKey=Jc.E.WsFed)}cloneClient(){const n=this.newClientForm.getRawValue();this.clientsService.cloneClient(this.client.id,n).subscribe(a=>{const l=a.headers.get("location");if(l){this.clearForm();const D=l.lastIndexOf("/"),ee=l.substring(D+1),De=[this.localize.translateRoute("/clients"),ee];this.router.navigate(De)}},a=>{this.errorCode=this.translate.instant(400===a.status?`Errors.CloneClientError.${a.error.errorCode}`:"Errors.CloneClientError.Default")})}show(){this.cloneClientModal.show(),this.setupForm()}setupForm(){const n=this.translate.instant("Clients.Clone.CopyOf").replace("{0}",this.client.clientName);this.newClientForm.patchValue({clientId:(0,Ai.Nl)(),clientName:n,cloneSecrets:!1,cloneCerts:!1})}clearForm(){this.cloneClientModal.hide(),this.errorCode="",this.newClientForm.reset()}setRandomID(){this.newClientForm.patchValue({clientId:(0,Ai.Nl)()})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(Hl._),e.rXU(g.ze),e.rXU(Wn.QG),e.rXU(bt.Ix),e.rXU(_n.c$))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-clone-client"]],viewQuery:function(a,l){if(1&a&&(e.GBs(Qc,7),e.GBs(Zc,7)),2&a){let D;e.mGM(D=e.lsd())&&(l.cloneClientModal=D.first),e.mGM(D=e.lsd())&&(l.addClaimTypeModal=D.first)}},inputs:{client:"client",clientType:"clientType"},decls:38,vars:31,consts:[["cloneClientModal","bs-modal"],["bsModal","","id","cloneClientModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","scrollbars",3,"formGroup"],["class","tw-alert-danger tw-mb-6",4,"ngIf"],[3,"id","label","help"],[1,"tw-flex","tw-w-full","lg:tw-max-w-2xl"],["type","text","name","ClientId","id","cloneClientId","formControlName","clientId",1,"tw-form-control","tw-rounded-r-none","tw-border-r-0"],[1,"tw-btn","tw-rounded-l-none",3,"click"],["aria-hidden","true",1,"far","fa-random"],[3,"id","label","help","isLast"],["id","cloneClientName","type","text","name","DisplayName","formControlName","clientName",1,"tw-form-control"],[3,"id","label","help","isLast",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","confirmCloneBtn",1,"tw-btn-success",3,"click","disabled"],["id","closeCloneModal",1,"tw-btn-link","tw--mr-4",3,"click"],[1,"tw-alert-danger","tw-mb-6"],[3,"id"],["id","cloneSecrets","type","checkbox","name","cloneSecrets","formControlName","cloneSecrets",1,"tw-form-switch__input"],["id","cloneCerts","type","checkbox","name","cloneCerts","formControlName","cloneCerts",1,"tw-form-switch__input"]],template:function(a,l){if(1&a){const D=e.RV6();e.j41(0,"div",1,0)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"button",6),e.bIt("click",function(){return e.eBV(D),e.Njj(l.clearForm())}),e.nrm(9,"span",7),e.j41(10,"span",8),e.EFF(11),e.nI1(12,"translate"),e.k0s()()(),e.j41(13,"div",9),e.DNE(14,yb,3,1,"div",10),e.j41(15,"app-form-row",11),e.nI1(16,"keyToString"),e.j41(17,"div",12),e.nrm(18,"input",13),e.j41(19,"button",14),e.bIt("click",function(){return e.eBV(D),e.Njj(l.setRandomID())}),e.nrm(20,"span",15),e.j41(21,"span",8),e.EFF(22),e.nI1(23,"translate"),e.k0s()()()(),e.j41(24,"app-form-row",16),e.nrm(25,"input",17),e.k0s(),e.DNE(26,u1,3,5,"app-form-row",18)(27,bp,3,5,"app-form-row",18),e.k0s(),e.nrm(28,"div",19),e.j41(29,"div",20)(30,"div",21)(31,"div",22)(32,"button",23),e.bIt("click",function(){return e.eBV(D),e.Njj(l.cloneClient())}),e.EFF(33),e.nI1(34,"translate"),e.k0s()(),e.j41(35,"button",24),e.bIt("click",function(){return e.eBV(D),e.Njj(l.clearForm())}),e.EFF(36),e.nI1(37,"translate"),e.k0s()()()()()()}2&a&&(e.Y8G("config",e.lJ4(30,ho)),e.R7$(6),e.JRh(e.bMT(7,18,"Clients.Clone.Title")),e.R7$(5),e.JRh(e.bMT(12,20,"Common.Close")),e.R7$(2),e.Y8G("formGroup",l.newClientForm),e.R7$(),e.Y8G("ngIf",""!=l.errorCode),e.R7$(),e.Y8G("id","cloneClientId")("label",e.bMT(16,22,l.clientTypeKey))("help","Clients.IDHelp"),e.R7$(7),e.JRh(e.bMT(23,24,"Common.GenerateRandom")),e.R7$(2),e.Y8G("id","cloneClientName")("label","Common.DisplayName")("help","Clients.DisplayNameHelp")("isLast",0===l.client.clientSecrets.length&&l.clientType!==l.clientTypes.Saml),e.R7$(2),e.Y8G("ngIf",0!==l.client.clientSecrets.length),e.R7$(),e.Y8G("ngIf",l.clientType===l.clientTypes.Saml),e.R7$(5),e.Y8G("disabled",!l.newClientForm.valid),e.R7$(),e.SpI(" ",e.bMT(34,26,"Common.Save")," "),e.R7$(3),e.JRh(e.bMT(37,28,"Common.Cancel")))},dependencies:[pn.bT,g.me,g.Zm,g.BC,g.cb,g.j4,g.JD,fe.Y,ga.m,Rt.hZ,_n.D9,_p.C],encapsulation:2})}}return s})();const d1=(s,p)=>({title:s,link:p}),_h=s=>[s];function bb(s,p){1&s&&(e.j41(0,"option",29),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Nav.Saml")))}function h1(s,p){1&s&&(e.j41(0,"option",30),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.RelyingParty.Heading")))}function Cp(s,p){1&s&&(e.j41(0,"option",31),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.URLS.Title")))}function bh(s,p){1&s&&(e.j41(0,"option",32),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Common.Secrets")))}function f1(s,p){1&s&&(e.j41(0,"option",33),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Common.CIBA")))}function Cb(s,p){1&s&&(e.j41(0,"span",34),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" - ",e.bMT(2,1,"StarterMode.RequiresUpgrade")," "))}function wb(s,p){1&s&&e.nrm(0,"app-custom-tab",19),2&s&&e.Y8G("tabTitle","Nav.Saml")("tabValue","saml")}function Sb(s,p){1&s&&e.nrm(0,"app-custom-tab",19),2&s&&e.Y8G("tabTitle","Clients.RelyingParty.Heading")("tabValue","wsfed")}function p1(s,p){1&s&&e.nrm(0,"app-custom-tab",19),2&s&&e.Y8G("tabTitle","Clients.URLS.Title")("tabValue","applicationurls")}function Eb(s,p){1&s&&e.nrm(0,"app-custom-tab",19),2&s&&e.Y8G("tabTitle","Common.Secrets")("tabValue","secrets")}function m1(s,p){1&s&&e.nrm(0,"app-custom-tab",19),2&s&&e.Y8G("tabTitle","Common.CIBA")("tabValue","ciba")}let Tb=(()=>{class s{constructor(n,a,l,D,ee,De,Ze,gt,Vt,ln,Cn,In,Fn,On,oi,wi){this.clientsService=n,this.clientCachingService=a,this.relyingPartyCachingService=l,this.serviceProviderCachingService=D,this.samlClientService=ee,this.wsFedClientService=De,this.clientViewService=Ze,this.titleService=gt,this.translate=Vt,this.errorService=ln,this.router=Cn,this.route=In,this.toastr=Fn,this.localize=On,this.dialogService=oi,this.licenseService=wi}ngOnInit(){this.clientSubscription=this.clientCachingService.unsavedCache$.subscribe(n=>{this.client=n;const a=this.translate.instant("Clients.Title")+" "+this.client.clientName+" - "+Bt.$9.SITE_TITLE;this.titleService.setTitle(a),this.checkSubmitEnabled()}),this.relyingPartyCachingService.unsavedCache$.subscribe(n=>{this.checkSubmitEnabled()}),this.serviceProviderCachingService.unsavedCache$.subscribe(n=>{this.checkSubmitEnabled()}),this.licenseService.getLicenseInfo().pipe((0,$n.$)()).subscribe({next:n=>{this.licenseInfo=n}})}checkSubmitEnabled(){const n=[...Array.from(this.clientCachingService.componentDirtyValidMap.values()),...Array.from(this.relyingPartyCachingService.componentDirtyValidMap.values()),...Array.from(this.serviceProviderCachingService.componentDirtyValidMap.values())];this.submitDisabled=0===n.length||n.some(a=>!a.isValid)}ngOnDestroy(){this.clientSubscription.unsubscribe()}deleteClient(n){this.clientsService.deleteClient(n).subscribe(a=>{const l=this.localize.translateRoute("/clients");this.router.navigate([l]),this.toastr.success(this.client.clientName+" "+this.translate.instant("Common.Delete.Deleted"),this.translate.instant("Clients.Deleted"))},a=>{const l={toastBody:this.translate.instant("Notifications.Delete Error Title"),toastTitle:this.translate.instant("Notifications.Delete User Message")};(this.errorService.handleError(a,l)&Cs.I.Toast)!==Cs.I.Toast&&this.toastr.error(l.toastBody,l.toastTitle)})}saveClient(){const n=this.buildStreamArray();(0,Di.p)(n).subscribe(a=>{a.some(D=>D instanceof S.yz)?this.handleError(a):this.handleSave(a),this.checkSubmitEnabled()},a=>{this.errorService.handleError(a)})}buildStreamArray(){const n=[];return this.clientCachingService.componentDirtyValidMap.size>0&&n.push(this.clientsService.updateClient(this.client).pipe((0,Ci.T)(()=>vc.Client),(0,na.W)(a=>(0,ia.of)(a)))),this.client.clientType===mr.s.WsFed&&this.relyingPartyCachingService.componentDirtyValidMap.size>0?this.relyingPartyCachingService.unsavedCache$.pipe((0,$n.$)()).subscribe(a=>{const l=JSON.parse(JSON.stringify(a));l.claimMappings=(0,Ai.Li)(a.claimMappings),n.push(this.wsFedClientService.updateRelyingParty(this.client.id,l).pipe((0,Ci.T)(()=>vc.WsFed),(0,na.W)(D=>(0,ia.of)(D))))}):this.client.clientType===mr.s.Saml&&this.serviceProviderCachingService.componentDirtyValidMap.size>0&&this.serviceProviderCachingService.unsavedCache$.pipe((0,$n.$)()).subscribe(a=>{const l=JSON.parse(JSON.stringify(a));l.claimMappings=(0,Ai.Li)(a.claimMappings),n.push(this.samlClientService.updateServiceProvider(this.client.id,l).pipe((0,Ci.T)(()=>vc.Saml),(0,na.W)(D=>(0,ia.of)(D))))}),n}handleSave(n){n.forEach(a=>{switch(a){case vc.WsFed:this.relyingPartyCachingService.onSave();break;case vc.Saml:this.serviceProviderCachingService.onClientSave();break;case vc.Client:this.clientCachingService.onClientSave()}}),this.toastr.success(this.translate.instant("Clients.UpdatedClient"),this.translate.instant("Notifications.Saving Success Title"))}handleError(n){const a=n.filter(l=>l instanceof S.yz);a.length===n.length?this.errorService.handleError(a[0]):400===a[0].status?(this.toastr.warning(this.translate.instant("Only some parts updated"),this.translate.instant("Partial Update Warning")),this.handleSave(b.R9(n,a))):this.errorService.handleError(a[0])}canDeactivate(){return!(this.clientCachingService.componentDirtyValidMap.size>0||this.relyingPartyCachingService.componentDirtyValidMap.size>0||this.serviceProviderCachingService.componentDirtyValidMap.size>0)||(this.dialogService.confirm(),this.dialogService.eventStream.subscribe(n=>{n&&(this.clientCachingService.componentDirtyValidMap.size>0&&this.clientCachingService.componentDirtyValidMap.clear(),this.relyingPartyCachingService.componentDirtyValidMap.size>0&&this.relyingPartyCachingService.componentDirtyValidMap.clear(),this.serviceProviderCachingService.componentDirtyValidMap.size>0&&this.serviceProviderCachingService.componentDirtyValidMap.clear())}),this.dialogService.eventStream)}isCloneDisabled(){return this.clientCachingService.componentDirtyValidMap.size>0||this.relyingPartyCachingService.componentDirtyValidMap.size>0||this.serviceProviderCachingService.componentDirtyValidMap.size>0}mobRoute(n){this.router.navigate([n],{relativeTo:this.route})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(Hl._),e.rXU(Yc.e),e.rXU(yp.z),e.rXU(vh.d),e.rXU(yh.s),e.rXU(Xc.c),e.rXU(cd.q),e.rXU(i.hE),e.rXU(_n.c$),e.rXU(ne.I),e.rXU(bt.Ix),e.rXU(bt.nX),e.rXU(Jn.tw),e.rXU(Wn.QG),e.rXU(Mo.o),e.rXU(ma.X))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-edit-client"]],features:[e.Jv_([cd.q])],decls:61,vars:65,consts:[["cloneClientModal",""],["deleteClientModal",""],[3,"title","crumbs","hasButton","hasTabs"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","details"],["value","saml",4,"ngIf"],["value","wsfed",4,"ngIf"],["value","applicationurls",4,"ngIf"],["value","secrets",4,"ngIf"],["value","resources"],["value","ciba",4,"ngIf"],["value","advanced"],["value","clientaudits"],["id","upgradeSymbol",4,"ngIf"],[1,"tw-hidden","md:tw-flex"],[3,"tabTitle","tabValue"],[3,"tabTitle","tabValue",4,"ngIf"],[3,"tabTitle","tabValue","restrictedStarter"],["id","editClient",1,"tw-container","tw-mx-auto"],["id","submitBtn",1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"click","disabled"],["id","cloneBtn","type","button","data-toggle","modal",1,"tw-hidden","tw-btn","tw-mr-3","tw-mb-3","xs:tw-inline-flex",3,"click","disabled"],["right",""],["type","button","data-toggle","modal",1,"tw-btn-danger","tw-mb-3",3,"click"],[3,"client","clientType"],[3,"delete","resourceName"],["value","saml"],["value","wsfed"],["value","applicationurls"],["value","secrets"],["value","ciba"],["id","upgradeSymbol"]],template:function(a,l){if(1&a){const D=e.RV6();e.j41(0,"app-title-bar",2),e.nI1(1,"translate"),e.nI1(2,"localize"),e.qex(3,3),e.j41(4,"div",4)(5,"label",5),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"div",6)(9,"select",7),e.bIt("change",function(De){return e.eBV(D),e.Njj(l.mobRoute(De.target.value))}),e.j41(10,"option",8),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"option",8),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.DNE(16,bb,3,3,"option",9)(17,h1,3,3,"option",10)(18,Cp,3,3,"option",11)(19,bh,3,3,"option",12),e.j41(20,"option",13),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.DNE(23,f1,3,3,"option",14),e.j41(24,"option",15),e.EFF(25),e.nI1(26,"translate"),e.k0s(),e.j41(27,"option",16),e.EFF(28),e.nI1(29,"translate"),e.DNE(30,Cb,3,3,"span",17),e.k0s()()()(),e.j41(31,"app-custom-tabs",18),e.nrm(32,"app-custom-tab",19),e.DNE(33,wb,1,2,"app-custom-tab",20)(34,Sb,1,2,"app-custom-tab",20)(35,p1,1,2,"app-custom-tab",20)(36,Eb,1,2,"app-custom-tab",20),e.nrm(37,"app-custom-tab",19),e.DNE(38,m1,1,2,"app-custom-tab",20),e.nrm(39,"app-custom-tab",19)(40,"app-custom-tab",21),e.k0s(),e.bVm(),e.k0s(),e.j41(41,"div",22),e.nrm(42,"router-outlet"),e.k0s(),e.j41(43,"app-button-bar")(44,"button",23),e.bIt("click",function(){return e.eBV(D),e.Njj(l.saveClient())}),e.j41(45,"span"),e.EFF(46),e.nI1(47,"translate"),e.k0s()(),e.j41(48,"button",24),e.bIt("click",function(){e.eBV(D);const De=e.sdS(57);return e.Njj(De.show())}),e.j41(49,"span"),e.EFF(50),e.nI1(51,"translate"),e.k0s()(),e.qex(52,25),e.j41(53,"button",26),e.bIt("click",function(){e.eBV(D);const De=e.sdS(59);return e.Njj(De.show())}),e.EFF(54),e.nI1(55,"translate"),e.k0s(),e.bVm(),e.k0s(),e.nrm(56,"app-clone-client",27,0),e.j41(58,"app-delete-confirmation-modal",28,1),e.bIt("delete",function(){return e.eBV(D),e.Njj(l.deleteClient(l.client.id))}),e.k0s(),e.nrm(60,"app-can-deactivate")}if(2&a){let D,ee;e.Y8G("title",l.client.clientName)("crumbs",e.eq3(63,_h,e.l_i(60,d1,e.bMT(1,38,"Nav.Clients"),e.bMT(2,40,"/clients"))))("hasButton",!0)("hasTabs",!0),e.R7$(6),e.JRh(e.bMT(7,42,"Nav.SubMenu")),e.R7$(5),e.SpI("",e.bMT(12,44,"Nav.SubMenu"),"..."),e.R7$(3),e.JRh(e.bMT(15,46,"Nav.Details")),e.R7$(2),e.Y8G("ngIf",l.clientViewService.saml.display),e.R7$(),e.Y8G("ngIf",l.clientViewService.wsFed.display),e.R7$(),e.Y8G("ngIf",l.clientViewService.applicationUrls.display),e.R7$(),e.Y8G("ngIf",l.clientViewService.secrets.display),e.R7$(2),e.JRh(e.bMT(22,48,"Nav.Resources")),e.R7$(2),e.Y8G("ngIf",l.clientViewService.ciba.display),e.R7$(2),e.JRh(e.bMT(26,50,"Common.Advanced")),e.R7$(3),e.SpI(" ",e.bMT(29,52,"Nav.Audits")," "),e.R7$(2),e.Y8G("ngIf",null!==(D=null==l.licenseInfo?null:l.licenseInfo.isStarterLicense())&&void 0!==D&&D),e.R7$(2),e.Y8G("tabTitle","Nav.Details")("tabValue","details"),e.R7$(),e.Y8G("ngIf",l.clientViewService.saml.display),e.R7$(),e.Y8G("ngIf",l.clientViewService.wsFed.display),e.R7$(),e.Y8G("ngIf",l.clientViewService.applicationUrls.display),e.R7$(),e.Y8G("ngIf",l.clientViewService.secrets.display),e.R7$(),e.Y8G("tabTitle","Nav.Resources")("tabValue","resources"),e.R7$(),e.Y8G("ngIf",l.clientViewService.ciba.display),e.R7$(),e.Y8G("tabTitle","Common.Advanced")("tabValue","advanced"),e.R7$(),e.Y8G("tabTitle","Nav.Audits")("tabValue","clientaudits")("restrictedStarter",null!==(ee=null==l.licenseInfo?null:l.licenseInfo.isStarterLicense())&&void 0!==ee&&ee),e.R7$(4),e.Y8G("disabled",l.submitDisabled),e.R7$(2),e.JRh(e.bMT(47,54,"Common.SaveAll")),e.R7$(2),e.Y8G("disabled",l.isCloneDisabled()),e.R7$(2),e.JRh(e.bMT(51,56,"Clients.Clone.Label")),e.R7$(4),e.JRh(e.bMT(55,58,"Common.Delete.Title")),e.R7$(2),e.Y8G("client",l.client)("clientType",l.client.clientType),e.R7$(2),e.Y8G("resourceName",l.client.clientName)}},dependencies:[bt.n3,pn.bT,g.xH,g.y7,rn.G,bn.v,Zt.z,ha.E,vo.z,Uo.w,_b,_n.D9,Wn.tl],encapsulation:2})}}return s})();u(78),u(6772),u(1927);class va{constructor(p){this.id=p.id,this.clientId=p.clientId,this.clientName=p.clientName,this.description=p.description,this.enabled=p.enabled,this.selected=!1,this.nonEditable=p.nonEditable,this.clientType=p.clientType}}var g1=u(6976),HT=u(4595),ud=u(1744),Dl=u(1138),Ch=u(2858),yc=u(7212);class Ab extends ud.$R{set selected(p){this.isSelectable&&(this._selected=p)}get selected(){return this._selected}get isSelectable(){return this.resourceState!==ud.jD.Duplicate&&this.resourceType===ud.ot.Client}constructor(p,n=!0){super(),this._selected=!1,this.conflictedByDependencies=!1,this.secretsAction=Dl.r.DoNotSet,this.certificateAction=Ch.AU.DoNotSet,this.identifier=p.identifier,this.resourceType=p.resourceType,this.resourceState=p.resourceState,this.displayType=p.displayType,this.displayName=p.displayName,this.conflicts=p.conflicts,this.dependantClients=p.dependantClients,this.hadSecrets=p.hadSecrets,this.hadCertificates=p.hadCertificates,this.existingHasSecrets=p.existingHasSecrets,this.existingHasCertificates=p.existingHasCertificates,this.selected=n,this.certificates=new yc.D}}var Rb=u(9113),v1=u(5826),WT=u(5088),KT=u(7629),zT=u(6193);function YT(s,p){if(1&s&&(e.j41(0,"div",7),e.nrm(1,"div",8),e.k0s()),2&s){const n=e.XpG();e.R7$(),e.xc7("width",n.progressComplete+"%"),e.BMQ("aria-valuenow",n.progressComplete)}}function XT(s,p){}let y1=(()=>{class s{constructor(n){this.viewContainerRef=n}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(e.c1b))}}static{this.\u0275dir=e.FsC({type:s,selectors:[["","appImportStepHost",""]]})}}return s})(),qc=(()=>{class s{constructor(n){this.importWizardController=n,this.finish=new e.bkB,this.warning=new e.bkB,this.components=new Map,this.progressComplete=5,this.progressStepString="",this.disableButtons=!1,this.hideProgressBar=!1}ngOnInit(){this.moveSubscription=this.importWizardController.move.subscribe(n=>{n?this.finish.emit():this.importWizardController.areStepsRemaning()&&(this.displayNext(),this.progressStepString=this.getStepsProgressForCurrentStep())}),this.importWizardController.setupInitialStep(),this.displayNext()}displayNext(){this.wizardHost.viewContainerRef.detach();const n=this.importWizardController.getCurrentStep();let a;if(n.component===Ch.zI){const l=this.components.get(n);this.wizardHost.viewContainerRef.detach(),a=l??this.wizardHost.viewContainerRef.createComponent(n.component)}else a=this.wizardHost.viewContainerRef.createComponent(n.component);this.wizardHost.viewContainerRef.detach(),this.wizardHost.viewContainerRef.insert(a.hostView),a.instance.data=n.data,a.instance.importWizardController=this.importWizardController,this.title=n.stepTitle,this.components.set(n,a),this.updateProgressBar(),this.hideProgressBar=a.instance.isWarningModal||a.instance.hideProgressBar,this.warning.emit(a.instance.isWarningModal)}closeButton(){const n=this.importWizardController.getCurrentStep();n.component!==WT.E?this.importWizardController.cancel():this.components.get(n).instance.goNext()}getStepsProgressForCurrentStep(){const n=this.importWizardController.getCurrentStep();if(n.component===Dl.u||n.component===Ch.zI){const a=this.importWizardController.stepsCompleted.filter(D=>D.component===n.component).length,l=a+this.importWizardController.stepsAhead.filter(D=>D.component===n.component).length;return 1===l?"":"("+(a+1)+"/"+l+")"}return""}disableCloseButton(){return this.importWizardController.disableCloseButton}updateProgressBar(){this.importWizardController.stepsCompleted.length>0?1===this.importWizardController.stepsAhead.length?this.progressComplete=100:this.importWizardController.getCurrentStep().component!==KT.oG&&(this.progressComplete=(this.importWizardController.stepsCompleted.length+1)/(this.importWizardController.stepsAhead.length+this.importWizardController.stepsCompleted.length)*100):this.progressComplete=5}ngOnDestroy(){this.importWizardController.clear(),this.components.forEach(n=>{n.destroy()}),this.components.clear(),this.moveSubscription?.unsubscribe()}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(zT.V))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-import-wizard-host"]],viewQuery:function(a,l){if(1&a&&e.GBs(y1,7),2&a){let D;e.mGM(D=e.lsd())&&(l.wizardHost=D.first)}},outputs:{finish:"finish",warning:"warning"},decls:12,vars:9,consts:[[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click","disabled"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],["class","modal-progress",4,"ngIf"],["appImportStepHost",""],[1,"modal-progress"],["role","progressbar",1,"modal-progress-bar"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"h5",1),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"button",2),e.bIt("click",function(){return l.closeButton()}),e.nrm(5,"span",3),e.j41(6,"span",4),e.EFF(7),e.nI1(8,"translate"),e.k0s()()(),e.DNE(9,YT,2,3,"div",5),e.j41(10,"div"),e.DNE(11,XT,0,0,"ng-template",6),e.k0s()),2&a&&(e.R7$(2),e.Lme("",e.bMT(3,5,l.title)," ",l.progressStepString,""),e.R7$(2),e.Y8G("disabled",l.disableCloseButton()),e.R7$(3),e.JRh(e.bMT(8,7,"Common.Close")),e.R7$(2),e.Y8G("ngIf",!l.hideProgressBar))},dependencies:[pn.bT,y1,_n.D9],encapsulation:2})}}return s})();function dd(s,p){1&s&&(e.nrm(0,"app-simple-loader",17),e.nI1(1,"translate")),2&s&&e.Y8G("text",e.bMT(1,1,"Clients.Import.Wizard.Setup.CheckImportPleaseWait"))}function _1(s,p){if(1&s&&(e.j41(0,"div",23)(1,"div"),e.EFF(2),e.k0s()()),2&s){const n=e.XpG(3);e.R7$(2),e.JRh(n.errorCode)}}function Mb(s,p){if(1&s){const n=e.RV6();e.j41(0,"div")(1,"div",18)(2,"p"),e.EFF(3),e.nI1(4,"translate"),e.k0s()(),e.DNE(5,_1,3,1,"div",19),e.j41(6,"app-form-row",20)(7,"div",21)(8,"input",22,1),e.bIt("change",function(l){e.eBV(n);const D=e.XpG(2);return e.Njj(D.handleFileInput(l.target.files))}),e.k0s()()()()}if(2&s){const n=e.XpG(2);e.R7$(3),e.JRh(e.bMT(4,6,"Clients.Import.Wizard.Setup.Summary")),e.R7$(2),e.Y8G("ngIf",""!=n.errorCode),e.R7$(),e.Y8G("id","fileInput")("label","Clients.Import.Wizard.Setup.ChooseFile")("help","Clients.Import.Wizard.Setup.ChooseFileHelp")("isLast",!0)}}function wp(s,p){if(1&s){const n=e.RV6();e.j41(0,"div")(1,"div",3)(2,"h5",4),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"button",5),e.nI1(6,"translate"),e.bIt("click",function(){e.eBV(n);const l=e.XpG();return e.Njj(l.hide())}),e.nrm(7,"span",6),e.k0s()(),e.j41(8,"div",7),e.nrm(9,"div",8,0),e.k0s(),e.j41(11,"div",9),e.DNE(12,dd,2,3,"app-simple-loader",10)(13,Mb,11,8,"div",2),e.k0s(),e.nrm(14,"div",11),e.j41(15,"div",12)(16,"div",13)(17,"div",14)(18,"button",15),e.bIt("click",function(){e.eBV(n);const l=e.XpG();return e.Njj(l.startImport())}),e.EFF(19),e.nI1(20,"translate"),e.k0s()(),e.j41(21,"button",16),e.bIt("click",function(){e.eBV(n);const l=e.XpG();return e.Njj(l.hide())}),e.EFF(22),e.nI1(23,"translate"),e.k0s()()()()}if(2&s){const n=e.XpG();e.R7$(2),e.Y8G("id",n.titleId),e.R7$(),e.JRh(e.bMT(4,10,"Clients.Import.Wizard.Setup.Title")),e.R7$(2),e.Y8G("disabled",n.disableButtons),e.BMQ("aria-label",e.bMT(6,12,"Common.Close")),e.R7$(7),e.Y8G("ngIf",n.isLoading),e.R7$(),e.Y8G("ngIf",!n.isLoading),e.R7$(5),e.Y8G("disabled",n.disableButtons||null==n.fileToUpload),e.R7$(),e.SpI(" ",e.bMT(20,14,"Common.Start")," "),e.R7$(2),e.Y8G("disabled",n.disableButtons),e.R7$(),e.SpI(" ",e.bMT(23,16,"Common.Cancel")," ")}}function Al(s,p){if(1&s){const n=e.RV6();e.j41(0,"div")(1,"app-import-wizard-host",24),e.bIt("warning",function(l){e.eBV(n);const D=e.XpG();return e.Njj(D.onWarning(l))})("finish",function(){e.eBV(n);const l=e.XpG();return e.Njj(l.onFinish())}),e.k0s()()}}let xb=(()=>{class s{constructor(n,a,l,D){this.translate=n,this.clientImportService=a,this.importWizardService=l,this.modalService=D,this.finish=new e.bkB,this.titleId=uo.R.TileId,this.wizardTypes=Vi.$,this.isLoading=!1,this.fileToUpload=null,this.isWarningModal=!1,this.storage=sessionStorage,this.importWizardService.resetImport.subscribe(ee=>{this.reset(),null!=ee&&(this.errorCode=ee)})}ngOnInit(){this.reset()}onCancel(){this.hide()}onFinish(){this.finish.emit(),this.hide()}onWarning(n){this.isWarningModal=n}hide(){this.reset(),this.modalService.hide(uo.R.Id)}handleFileInput(n){this.fileToUpload=n.item(0)}reset(){this.isLoading=!1,this.disableButtons=!1,this.showWizard=!1,this.fileToUpload=null,this.errorCode="",this.isWarningModal=!1}startImport(){null!=this.fileToUpload&&this.validateImport()}validateImport(){if(this.isLoading=!0,this.disableButtons=!0,"application/json"!==this.fileToUpload.type)return this.reset(),void(this.errorCode=this.translate.instant("Clients.Import.Wizard.Setup.Errors.InvalidFile"));this.fileToUpload.text().then(n=>{this.clientImportService.validateImportFile(n).subscribe(a=>{try{JSON.parse(n)}catch{return this.reset(),void(this.errorCode=this.translate.instant("Clients.Import.Wizard.Setup.Errors.InvalidData"))}this.storeFileInStorage(n);const l=a.importResources.map(D=>new Ab(D));this.importWizardService.cache.next(l),this.isLoading=!1,this.showWizard=!0},a=>{if(400===a.status){this.reset();const l=a.error;this.errorCode=this.translate.instant(`Errors.${l.errorCode}`),"ValidateImportError.WrongVersion"===l.errorCode&&(this.errorCode=this.errorCode.replace("{0}",l.replacementArgs[0]),this.errorCode=this.errorCode.replace("{1}",l.replacementArgs[1]))}else this.reset(),this.errorCode=this.translate.instant("Clients.Import.Wizard.Setup.Errors.Default")})})}storeFileInStorage(n){this.storage.setItem("importFile",n)}ngOnDestroy(){this.reset(),this.hide()}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(_n.c$),e.rXU(Rb.qJ),e.rXU(v1.o),e.rXU(Rt.I8))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-import-wizard"]],outputs:{finish:"finish"},decls:2,vars:2,consts:[["progressBar",""],["fileInput","","selectedFile",""],[4,"ngIf"],[1,"modal-header"],[1,"modal-title",3,"id"],["type","button",1,"modal-close",3,"click","disabled"],["aria-hidden","true",1,"fas","fa-times"],[1,"modal-progress"],["role","progressbar",1,"modal-progress-bar",2,"width","2%"],[1,"modal-body"],[3,"text",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","importNext",1,"tw-btn-success",3,"click","disabled"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click","disabled"],[3,"text"],[1,"cms","tw-mb-6"],["class","tw-alert-danger tw-mb-6",4,"ngIf"],[3,"id","label","help","isLast"],[1,"tw-form-control"],["id","fileInput","type","file","name","file","accept",".json",1,"tw-form-file","tw-max-w-full",3,"change"],[1,"tw-alert-danger","tw-mb-6"],[3,"warning","finish"]],template:function(a,l){1&a&&e.DNE(0,wp,24,18,"div",2)(1,Al,2,0,"div",2),2&a&&(e.Y8G("ngIf",!l.showWizard),e.R7$(),e.Y8G("ngIf",l.showWizard))},dependencies:[pn.bT,As.d,fe.Y,qc,_n.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();class eu{constructor(p){this.clientType=p}}class tl{constructor(p){this.clientType=p}}let _c=(()=>{class s{constructor(n){this.fb=n}hosted(){}ngOnInit(){this.callbackUrlForm=this.fb.group({callbackUrl:["",g.k0.required]})}getStepSummary(){const n=new Map;return n.set("callbackUrl",[this.callbackUrlForm.get("callbackUrl").value]),(this.data.clientType===mr.s.BrowserBased||this.data.clientType===mr.s.LegacyClientSide)&&(this.corsUrl=""===this.callbackUrlForm.get("callbackUrl").value?"":(0,Ai.kI)(this.callbackUrlForm.get("callbackUrl").value),n.set("corsurl",[this.corsUrl])),n}getStepDTO(){const n=this.getStepSummary(),a={};return n.forEach((l,D)=>{"corsurl"===D&&(D="allowedCorsOrigins"),"callbackUrl"===D&&(D="redirectUris"),a[D]=l}),a}canNext(){return this.callbackUrlForm.valid}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(g.ze))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-callback-url"]],inputs:{data:"data"},decls:6,vars:8,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help","isLast"],["type","url","name","CallbackUrl","id","CallbackUrl","formControlName","callbackUrl",1,"tw-form-control"]],template:function(a,l){1&a&&(e.j41(0,"div",0),e.nrm(1,"p",1),e.nI1(2,"translate"),e.k0s(),e.j41(3,"form",2)(4,"app-form-row",3),e.nrm(5,"input",4),e.k0s()()),2&a&&(e.R7$(),e.Y8G("innerHTML",e.bMT(2,6,"Clients.CallbackURL"),e.npT),e.R7$(2),e.Y8G("formGroup",l.callbackUrlForm),e.R7$(),e.Y8G("id","CallbackUrl")("label","Common.CallbackURL")("help","Clients.RedirectURLDescription")("isLast",!0))},dependencies:[g.qT,g.me,g.BC,g.cb,g.j4,g.JD,fe.Y,_n.D9],encapsulation:2})}}return s})();class Pa{constructor(p,n=Jc.E.Default){this.clientType=p,this.clientIdKey=n}}function b1(s,p){1&s&&(e.j41(0,"div")(1,"app-form-row",2),e.nrm(2,"input",13),e.k0s(),e.j41(3,"app-form-row",2),e.nrm(4,"input",14),e.k0s()()),2&s&&(e.R7$(),e.Y8G("id","Domain")("label","Common.DisplayURL")("help","Clients.DisplayURLHelp"),e.R7$(2),e.Y8G("id","LogoUrl")("label","Common.LogoURL")("help","Clients.LogoURLHelp"))}function wh(s,p){1&s&&(e.j41(0,"app-form-row",10)(1,"app-form-toggle",15),e.nrm(2,"input",16),e.k0s()()),2&s&&(e.Y8G("id","requireConsent")("label","Clients.RequireConsent.Title")("help","Clients.RequireConsent.Help")("isLast",!0),e.R7$(),e.Y8G("id","requireConsent"))}let ra=(()=>{class s{constructor(n){this.fb=n,this.desFocus=!1,this.hasExtraFields=!1}hosted(){}ngOnInit(){this.descriptionForm=this.fb.group({clientType:[this.data.clientType],clientId:["",[g.k0.required,g.k0.maxLength(100),g.k0.pattern(/^\S*$/)]],clientName:["",[g.k0.required,g.k0.maxLength(50)]],description:["",g.k0.maxLength(1e3)]}),this.hasExtraFields=this.data.clientType===mr.s.Native||this.data.clientType===mr.s.NativePKCE||this.data.clientType===mr.s.BrowserBased||this.data.clientType===mr.s.LegacyClientSide||this.data.clientType===mr.s.ServerSide||this.data.clientType===mr.s.ServerSidePKCE,this.clientIdKey=this.data.clientIdKey,this.hasExtraFields&&(this.descriptionForm.addControl("clientUri",new g.hs("",g.k0.pattern("^https?://.*$"))),this.descriptionForm.addControl("logoUri",new g.hs("",g.k0.pattern("^https?://.*$"))),this.descriptionForm.addControl("requireConsent",new g.hs(!0)))}setRandomID(){this.descriptionForm.patchValue({clientId:(0,Ai.Nl)()})}canNext(){return this.descriptionForm.valid}getStepSummary(){const n=new Map;for(const a in this.descriptionForm.value)this.descriptionForm.value.hasOwnProperty(a)&&n.set("clientId"===a?this.clientIdKey:a,[this.descriptionForm.value[a]]);return n.delete("clientType"),n}getStepDTO(){const n=this.descriptionForm.value;return this.hasExtraFields&&(""===this.descriptionForm.controls.clientUri.value&&(n.clientUri=null),""===this.descriptionForm.controls.logoUri.value&&(n.logoUri=null)),n}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(g.ze))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["ng-component"]],inputs:{data:"data"},decls:20,vars:21,consts:[[1,"cms","tw-mb-6"],[3,"formGroup"],[3,"id","label","help"],[1,"tw-flex","tw-w-full","lg:tw-max-w-2xl"],["type","text","name","ClientId","id","ClientId","formControlName","clientId",1,"tw-form-control","tw-rounded-r-none","tw-border-r-0"],["id","genRandomIdBtn",1,"tw-btn","tw-rounded-l-none",3,"click"],["aria-hidden","true",1,"far","fa-random"],[1,"sr-only"],["id","DisplayName","type","text","name","DisplayName","formControlName","clientName",1,"tw-form-control"],[4,"ngIf"],[3,"id","label","help","isLast"],["id","Description","name","Description","formControlName","description",1,"tw-form-control",3,"blur","focus"],[3,"id","label","help","isLast",4,"ngIf"],["id","Domain","type","text","name","Domain","formControlName","clientUri",1,"tw-form-control"],["type","text","name","LogoUrl","id","LogoUrl","formControlName","logoUri",1,"tw-form-control"],[3,"id"],["id","requireConsent","type","checkbox","formControlName","requireConsent","name","requireConsent",1,"tw-form-switch__input"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"p"),e.EFF(2),e.nI1(3,"translate"),e.k0s()(),e.j41(4,"div",1)(5,"app-form-row",2),e.nI1(6,"keyToString"),e.j41(7,"div",3),e.nrm(8,"input",4),e.j41(9,"button",5),e.bIt("click",function(){return l.setRandomID()}),e.nrm(10,"span",6),e.j41(11,"span",7),e.EFF(12),e.nI1(13,"translate"),e.k0s()()()(),e.j41(14,"app-form-row",2),e.nrm(15,"input",8),e.k0s(),e.DNE(16,b1,5,6,"div",9),e.j41(17,"app-form-row",10)(18,"textarea",11),e.bIt("blur",function(){return l.desFocus=!l.desFocus})("focus",function(){return l.desFocus=!l.desFocus}),e.k0s()(),e.DNE(19,wh,3,5,"app-form-row",12),e.k0s()),2&a&&(e.R7$(2),e.JRh(e.bMT(3,15,"Clients.EnterBasicDetails")),e.R7$(2),e.Y8G("formGroup",l.descriptionForm),e.R7$(),e.Y8G("id","ClientId")("label",e.bMT(6,17,l.clientIdKey))("help","Clients.IDHelp"),e.R7$(7),e.JRh(e.bMT(13,19,"Common.GenerateRandom")),e.R7$(2),e.Y8G("id","DisplayName")("label","Common.DisplayName")("help","Clients.DisplayNameHelp"),e.R7$(2),e.Y8G("ngIf",l.hasExtraFields),e.R7$(),e.Y8G("id","Description")("label","Common.Description")("help","Clients.DescriptionHelp")("isLast",!l.hasExtraFields),e.R7$(2),e.Y8G("ngIf",l.hasExtraFields))},dependencies:[pn.bT,g.me,g.Zm,g.BC,g.cb,g.j4,g.JD,fe.Y,ga.m,_n.D9,_p.C],encapsulation:2})}}return s})();var bc=u(9767),kb=u(9764);const Nb=["secretPicker"];let tu=(()=>{class s{constructor(){this.secrets=[],this.filePickerClosed=!0}getStepSummary(){const n=new Map;return n.set("secrets",this.secrets.map(a=>a.type)),n}getStepDTO(){return{clientSecrets:this.secretPicker.clientSecrets}}canNext(){return this.filePickerClosed}hosted(){this.secretPicker.resetState()}ngOnInit(){this.secretPicker.secretsAddStream.subscribe(n=>{this.secretPicker.clientSecrets.push(n)}),this.secretPicker.secretsRemoveStream.subscribe(n=>{this.secretPicker.clientSecrets.splice(this.secretPicker.clientSecrets.indexOf(n),1)})}filePickerStateChanged(n){this.filePickerClosed=!n}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-client-secret-picker"]],viewQuery:function(a,l){if(1&a&&e.GBs(Nb,7),2&a){let D;e.mGM(D=e.lsd())&&(l.secretPicker=D.first)}},decls:5,vars:6,consts:[["secretPicker",""],[1,"tw-mb-4"],[3,"filepickerDisplayed","clientSecrets","nonModelCertPicker","showCreatedColumn"]],template:function(a,l){if(1&a){const D=e.RV6();e.j41(0,"p",1),e.EFF(1),e.nI1(2,"translate"),e.k0s(),e.j41(3,"app-secret-picker",2,0),e.bIt("filepickerDisplayed",function(De){return e.eBV(D),e.Njj(l.filePickerStateChanged(De))}),e.k0s()}2&a&&(e.R7$(),e.JRh(e.bMT(2,4,"Clients.NativeApp.Secrets")),e.R7$(2),e.Y8G("clientSecrets",l.secrets)("nonModelCertPicker",!0)("showCreatedColumn",!1))},dependencies:[kb.s,_n.D9],encapsulation:2,data:{animation:[(0,bc.Ws)()]}})}}return s})();var Sh=u(5313);let Eh=(()=>{class s{constructor(n){this.fb=n}hosted(){}ngOnInit(){this.logoutUrlForm=this.fb.group({logoutUrl:["",g.k0.pattern("^https?://.*$")]})}getStepSummary(){const n="logoutUrl",a=new Map,l=this.logoutUrlForm.value[n];return(0,Ai.gP)(l)||a.set(n,[l]),a}getStepDTO(){const n=this.logoutUrlForm.value.logoutUrl;return(0,Ai.gP)(n)?{postLogoutRedirectUris:[]}:{postLogoutRedirectUris:[n]}}canNext(){return this.logoutUrlForm.valid}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(g.ze))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-logout-url"]],inputs:{data:"data"},decls:6,vars:8,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help","isLast"],["type","url","name","LogoutUrl","id","LogoutUrl","formControlName","logoutUrl",1,"tw-form-control"]],template:function(a,l){1&a&&(e.j41(0,"div",0),e.nrm(1,"p",1),e.nI1(2,"translate"),e.k0s(),e.j41(3,"form",2)(4,"app-form-row",3),e.nrm(5,"input",4),e.k0s()()),2&a&&(e.R7$(),e.Y8G("innerHTML",e.bMT(2,6,"Clients.PostLogoutURL"),e.npT),e.R7$(2),e.Y8G("formGroup",l.logoutUrlForm),e.R7$(),e.Y8G("id","LogoutUrl")("label","Common.LogoutURL")("help","Clients.LogoutURLDescription")("isLast",!0))},dependencies:[g.qT,g.me,g.BC,g.cb,g.j4,g.JD,fe.Y,_n.D9],encapsulation:2})}}return s})(),Ob=(()=>{class s{constructor(n){this.fb=n}hosted(){}ngOnInit(){this.cibaConfigForm=this.fb.group({cibaLifetime:["",g.k0.required],pollingInterval:["",g.k0.required]})}getStepSummary(){const n=new Map;return n.set("cibaLifetime",[this.cibaConfigForm.get("cibaLifetime").value]),n.set("pollingInterval",[this.cibaConfigForm.get("pollingInterval").value]),this.data.clientType===mr.s.CIBAMachine&&(this.cibaLifetime=""===this.cibaConfigForm.get("cibaLifetime").value?"":this.cibaConfigForm.get("cibaLifetime").value,this.pollingInterval=""===this.cibaConfigForm.get("pollingInterval").value?"":this.cibaConfigForm.get("pollingInterval").value,n.set("cibaLifetime",[this.cibaLifetime.toString()]),n.set("pollingInterval",[this.pollingInterval.toString()])),n}getStepDTO(){const n=this.getStepSummary(),a={};return n.forEach((l,D)=>{"cibaLifetime"===D&&(D="cibaLifetime"),"pollingInterval"===D&&(D="pollingInterval"),a[D]=l[0]}),a}canNext(){return this.cibaConfigForm.valid}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(g.ze))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-ciba-configuration"]],inputs:{data:"data"},decls:8,vars:11,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help"],["type","number","name","CIBALifetime","id","CIBALifetime","formControlName","cibaLifetime",1,"tw-form-control"],[3,"id","label","help","isLast"],["type","number","name","PollingInterval","id","PollingInterval","formControlName","pollingInterval",1,"tw-form-control"]],template:function(a,l){1&a&&(e.j41(0,"div",0),e.nrm(1,"p",1),e.nI1(2,"translate"),e.k0s(),e.j41(3,"form",2)(4,"app-form-row",3),e.nrm(5,"input",4),e.k0s(),e.j41(6,"app-form-row",5),e.nrm(7,"input",6),e.k0s()()),2&a&&(e.R7$(),e.Y8G("innerHTML",e.bMT(2,9,"Clients.CIBAConfiguration"),e.npT),e.R7$(2),e.Y8G("formGroup",l.cibaConfigForm),e.R7$(),e.Y8G("id","CIBALifetime")("label","Common.CIBALifetime")("help","Clients.CIBALifetimeDescription"),e.R7$(2),e.Y8G("id","PollingInterval")("label","Common.PollingInterval")("help","Clients.CIBAPollingIntervalDescription")("isLast",!0))},dependencies:[g.qT,g.me,g.Q0,g.BC,g.cb,g.j4,g.JD,fe.Y,_n.D9],encapsulation:2})}}return s})();const sa=["commonPicker"];let Th=(()=>{class s{constructor(n,a){this.wizardResourceService=a,this.resourceType=n}hosted(){}ngOnInit(){}getStepSummary(){const a=("protectedResources"===this.resourceType?this.wizardResourceService.assignedProtectedResources:this.wizardResourceService.assignedIdentityResources).map(l=>l.name);return new Map([[this.resourceType,a]])}getStepDTO(){return{allowedScopes:[...this.wizardResourceService.assignedIdentityResources.concat(this.wizardResourceService.assignedProtectedResources).map(l=>l.name)]}}canNext(){return this.wizardResourceService.assignedIdentityResources.length>0||this.wizardResourceService.assignedProtectedResources.length>0}static{this.\u0275fac=function(a){e.QTQ()}}static{this.\u0275dir=e.FsC({type:s,viewQuery:function(a,l){if(1&a&&e.GBs(sa,7),2&a){let D;e.mGM(D=e.lsd())&&(l.commonPicker=D.first)}}})}}return s})();var Sp=u(2653),hd=u(4354);function ko(s,p){1&s&&(e.j41(0,"p"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.ProtectedResourcesAccess")))}function fd(s,p){1&s&&(e.j41(0,"p"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.IdentityResourcesAccess")))}let nl=(()=>{class s extends Th{constructor(n,a){super("identityResources",a),this.identityResourceService=n,this.wizardResourceService=a,this.resources=[],this.assignedResources=[]}ngOnInit(){this.identityResourceService.getIdentityResources().subscribe(n=>{const a=n.find(l=>"openid"===l.name);a&&(n.splice(n.indexOf(a),1),this.assignedResources=[a],this.wizardResourceService.assignedIdentityResources=this.assignedResources),this.resources=n})}ngAfterViewInit(){this.commonPicker.assignedStream.subscribe(n=>{this.resources=(0,Ai.Yt)(this.resources.slice(),n);const a=this.assignedResources.slice();this.assignedResources=a.concat(n),this.wizardResourceService.assignedIdentityResources=this.assignedResources,this.commonPicker.availableCount=0}),this.commonPicker.unAssignedStream.subscribe(n=>{const a=this.resources;this.assignedResources=(0,Ai.Yt)(this.assignedResources.slice(),n),this.resources=a.concat(n),this.wizardResourceService.assignedIdentityResources=this.assignedResources,this.commonPicker.assignedCount=0})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(nd.A),e.rXU(Sp.f))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["wizard-identity-resource-picker"]],features:[e.Vt3],decls:5,vars:4,consts:[["commonPicker",""],[1,"cms","tw-mb-6"],[4,"ngIf"],[3,"assignedInput","availableInput"]],template:function(a,l){1&a&&(e.j41(0,"div",1),e.DNE(1,ko,3,3,"p",2)(2,fd,3,3,"p",2),e.k0s(),e.nrm(3,"app-common-picker",3,0)),2&a&&(e.R7$(),e.Y8G("ngIf","protectedResources"==l.resourceType),e.R7$(),e.Y8G("ngIf","identityResources"==l.resourceType),e.R7$(),e.Y8G("assignedInput",l.assignedResources)("availableInput",l.resources))},dependencies:[pn.bT,hd.f,_n.D9],encapsulation:2})}}return s})();function C1(s,p){1&s&&(e.j41(0,"p"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.ProtectedResourcesAccess")))}function Fb(s,p){1&s&&(e.j41(0,"p"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.IdentityResourcesAccess")))}let Rl=(()=>{class s extends Th{constructor(n,a){super("protectedResources",a),this.protectedResourceService=n,this.wizardResourceService=a,this.resources=[],this.assignedResources=[]}ngOnInit(){this.protectedResourceService.getProtectedResources().subscribe(n=>{const a=[];n.forEach(l=>{l.scopes.forEach(D=>{a.find(ee=>ee.name==D.name)||a.push(D)})}),this.resources=a})}ngAfterViewInit(){this.commonPicker.assignedStream.subscribe(n=>{this.resources=(0,Ai.Yt)(this.resources.slice(),n);const a=this.assignedResources.slice();this.assignedResources=a.concat(n),this.wizardResourceService.assignedProtectedResources=this.assignedResources,this.commonPicker.availableCount=0}),this.commonPicker.unAssignedStream.subscribe(n=>{const a=this.resources;this.assignedResources=(0,Ai.Yt)(this.assignedResources.slice(),n),this.resources=a.concat(n),this.wizardResourceService.assignedProtectedResources=this.assignedResources,this.commonPicker.assignedCount=0})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(id.x),e.rXU(Sp.f))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["wizard-protected-resource-picker"]],features:[e.Vt3],decls:5,vars:4,consts:[["commonPicker",""],[1,"cms","tw-mb-6"],[4,"ngIf"],[3,"assignedInput","availableInput"]],template:function(a,l){1&a&&(e.j41(0,"div",1),e.DNE(1,C1,3,3,"p",2)(2,Fb,3,3,"p",2),e.k0s(),e.nrm(3,"app-common-picker",3,0)),2&a&&(e.R7$(),e.Y8G("ngIf","protectedResources"==l.resourceType),e.R7$(),e.Y8G("ngIf","identityResources"==l.resourceType),e.R7$(),e.Y8G("assignedInput",l.assignedResources)("availableInput",l.resources))},dependencies:[pn.bT,hd.f,_n.D9],encapsulation:2})}}return s})();var Pb=u(7301),w1=u(1410);class Bb extends ph.p{constructor(){super(),this.nameComponentMap.set(Vi.$.Home,[new hi.W(Pb.l,w1.y.Duende)]),this.nameComponentMap.set(Vi.$.SinglePageApplication,[new hi.W(ra,new Pa(mr.s.BrowserBased)),new hi.W(_c,new tl(mr.s.BrowserBased)),new hi.W(Eh,new eu(mr.s.BrowserBased)),new hi.W(nl,{}),new hi.W(Rl,{})]),this.nameComponentMap.set(Vi.$.LegacySinglePageApplication,[new hi.W(ra,new Pa(mr.s.LegacyClientSide)),new hi.W(_c,new tl(mr.s.LegacyClientSide)),new hi.W(Eh,new eu(mr.s.LegacyClientSide)),new hi.W(nl,{}),new hi.W(Rl,{})]),this.nameComponentMap.set(Vi.$.SamlApplication,[new hi.W(ra,new Pa(mr.s.Saml,Jc.E.Saml)),new hi.W(Sh.w,{endpointType:"ACSEndpoint"}),new hi.W(Sh.w,{endpointType:"SLOEndpoint"}),new hi.W(Sh.w,{endpointType:"ARSEndpoint"}),new hi.W(nl)]),this.nameComponentMap.set(Vi.$.WsFedApplication,[new hi.W(ra,new Pa(mr.s.WsFed,Jc.E.WsFed)),new hi.W(_c,new tl(mr.s.WsFed)),new hi.W(nl)]),this.nameComponentMap.set(Vi.$.DeviceApplication,[new hi.W(ra,new Pa(mr.s.Device)),new hi.W(Rl,{}),new hi.W(nl,{})]),this.nameComponentMap.set(Vi.$.RobotApplication,[new hi.W(ra,new Pa(mr.s.Machine)),new hi.W(Rl,{}),new hi.W(tu,{})]),this.nameComponentMap.set(Vi.$.CIBARobotApplication,[new hi.W(ra,new Pa(mr.s.CIBAMachine)),new hi.W(nl,{}),new hi.W(Rl,{}),new hi.W(tu,{}),new hi.W(Ob,{})]),this.nameComponentMap.set(Vi.$.NativeApplication,[new hi.W(ra,new Pa(mr.s.Native)),new hi.W(_c,new tl(mr.s.Native)),new hi.W(tu,{}),new hi.W(nl,{}),new hi.W(Rl,{})]),this.nameComponentMap.set(Vi.$.PKCENativeApplication,[new hi.W(ra,new Pa(mr.s.NativePKCE)),new hi.W(_c,new tl(mr.s.NativePKCE)),new hi.W(tu,{}),new hi.W(nl,{}),new hi.W(Rl,{})]),this.nameComponentMap.set(Vi.$.WebApplication,[new hi.W(ra,new Pa(mr.s.ServerSide)),new hi.W(_c,new tl(mr.s.ServerSide)),new hi.W(Eh,new eu(mr.s.ServerSide)),new hi.W(tu,{}),new hi.W(nl,{}),new hi.W(Rl,{})]),this.nameComponentMap.set(Vi.$.PKCEWebApplication,[new hi.W(ra,new Pa(mr.s.ServerSidePKCE)),new hi.W(_c,new tl(mr.s.ServerSidePKCE)),new hi.W(Eh,new eu(mr.s.ServerSidePKCE)),new hi.W(tu,{}),new hi.W(nl,{}),new hi.W(Rl,{})]),this.nameTitleMap.set(Vi.$.Home,new Eo.J("Clients.Home.Title","")),this.nameTitleMap.set(Vi.$.SinglePageApplication,new Eo.J("Clients.SPA.Setup","Clients.SPA.Title")),this.nameTitleMap.set(Vi.$.LegacySinglePageApplication,new Eo.J("Clients.LegacySPA.Setup","Clients.LegacySPA.Title")),this.nameTitleMap.set(Vi.$.DeviceApplication,new Eo.J("Clients.DeviceFlow.Setup","Clients.DeviceFlow.Title")),this.nameTitleMap.set(Vi.$.RobotApplication,new Eo.J("Clients.MachineToMachine.Setup","Clients.MachineToMachine.Title")),this.nameTitleMap.set(Vi.$.CIBARobotApplication,new Eo.J("Clients.CIBAMachineToMachine.Setup","Clients.CIBAMachineToMachine.Title")),this.nameTitleMap.set(Vi.$.NativeApplication,new Eo.J("Clients.NativeApp.Setup","Clients.NativeApp.Title")),this.nameTitleMap.set(Vi.$.PKCENativeApplication,new Eo.J("Clients.NativeApp.Setup","Clients.NativeApp.Title")),this.nameTitleMap.set(Vi.$.WebApplication,new Eo.J("Clients.WebApp.Setup","Clients.WebApp.Title")),this.nameTitleMap.set(Vi.$.PKCEWebApplication,new Eo.J("Clients.WebApp.Setup","Clients.PKCEWebApp.Title")),this.nameTitleMap.set(Vi.$.SamlApplication,new Eo.J("Clients.Saml.Setup","Clients.Saml.Title")),this.nameTitleMap.set(Vi.$.WsFedApplication,new Eo.J("Clients.WsFed.Setup","Clients.WsFed.Title"))}getWizard(p){return this.nameComponentMap.get(p)}getWizardTitle(p){return this.nameTitleMap.get(p)}}function S1(s,p){if(1&s&&(e.j41(0,"div",5),e.nrm(1,"div",17),e.k0s()),2&s){const n=e.XpG();e.R7$(),e.xc7("width",n.progressPercent+"%"),e.BMQ("aria-valuenow",n.progressPercent)}}function Lb(s,p){}function Ub(s,p){if(1&s){const n=e.RV6();e.j41(0,"button",18),e.bIt("click",function(){e.eBV(n);const l=e.XpG();return e.Njj(l.nextTab())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}if(2&s){const n=e.XpG();e.Y8G("disabled",!n.canNext()),e.R7$(),e.JRh(e.bMT(2,2,"Common.Next"))}}function Vb(s,p){if(1&s){const n=e.RV6();e.j41(0,"button",19),e.bIt("click",function(){e.eBV(n);const l=e.XpG();return e.Njj(l.submit())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Common.Save")))}function jb(s,p){if(1&s){const n=e.RV6();e.j41(0,"button",20),e.bIt("click",function(){e.eBV(n);const l=e.XpG();return e.Njj(l.previousTab())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Common.Back")))}function E1(s,p){1&s&&(e.j41(0,"a",15),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"StarterMode.UpgradeAdminUI")))}let T1=(()=>{class s extends ap.P{constructor(n,a,l,D){super(a,l,D),this.clientsService=n,this.wizardProvider=new Bb,this.wizardName=Vi.$.Home}submit(){const n=this.getWizardDto();this.clientsService.addClient(n).subscribe({complete:()=>{this.finishWizard(),this.clearComponents(),this.toastr.success(this.translate.instant("Common.Created")+": "+n.clientName,this.translate.instant("Notifications.SuccessfullyCreated"))},error:a=>{this.errorService.handleError(a)}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(Hl._),e.rXU(ne.I),e.rXU(Jn.tw),e.rXU(_n.c$))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-client-wizard-host"]],features:[e.Jv_([Hl._]),e.Vt3],decls:23,vars:15,consts:[[1,"modal-header"],[1,"modal-title",3,"id"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-progress"],[1,"modal-body","scrollbars"],["appStepHost",""],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["class","tw-btn-success tw-mr-3","id","nextBtn",3,"disabled","click",4,"ngIf"],["class","tw-btn-success tw-mr-3","id","submitBtn",3,"click",4,"ngIf"],["class","tw-btn","id","backBtn",3,"click",4,"ngIf"],["id","upgradeAdminUI","href","starter-mode/teaser",1,"tw-btn","tw-ml-4"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],["role","progressbar",1,"modal-progress-bar"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],["id","submitBtn",1,"tw-btn-success","tw-mr-3",3,"click"],["id","backBtn",1,"tw-btn",3,"click"]],template:function(a,l){if(1&a&&(e.j41(0,"div",0)(1,"h5",1),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"button",2),e.bIt("click",function(){return l.hideWizard()}),e.nrm(5,"span",3),e.j41(6,"span",4),e.EFF(7),e.nI1(8,"translate"),e.k0s()()(),e.DNE(9,S1,2,3,"div",5),e.j41(10,"div",6),e.DNE(11,Lb,0,0,"ng-template",7),e.k0s(),e.nrm(12,"div",8),e.j41(13,"div",9)(14,"div",10)(15,"div",11),e.DNE(16,Ub,3,4,"button",12)(17,Vb,3,3,"button",13)(18,jb,3,3,"button",14)(19,E1,3,3,"a",15),e.k0s(),e.j41(20,"button",16),e.bIt("click",function(){return l.cancelWizard()}),e.EFF(21),e.nI1(22,"translate"),e.k0s()()()),2&a){let D;e.R7$(),e.Y8G("id",l.titleId),e.R7$(),e.JRh(e.bMT(3,9,null!==(D=null==l.wizardTitles?null:l.wizardTitles.setupTitle)&&void 0!==D?D:"")),e.R7$(5),e.JRh(e.bMT(8,11,"Common.Close")),e.R7$(2),e.vxM(9,l.showProgress?9:-1),e.R7$(7),e.Y8G("ngIf",l.index<(null==l.wizardSteps?null:l.wizardSteps.length)),e.R7$(),e.Y8G("ngIf",l.index==(null==l.wizardSteps?null:l.wizardSteps.length)),e.R7$(),e.Y8G("ngIf",!l.initialStep()),e.R7$(),e.vxM(19,l.initialStep()&&null!=l.asAny&&l.asAny.displayUpgradeIcon?19:-1),e.R7$(2),e.JRh(e.bMT(22,13,"Common.Cancel"))}},dependencies:[pn.bT,Jg.t,_n.D9],encapsulation:2})}}return s})();const I1=(s,p)=>({"tw-alert":s,"tw-alert-warning":p}),Ih=s=>({limit:s,type:"client applications",href:"https://www.identityserver.com/products/adminui/order-now?index=2&name=Enterprise"}),D1=(s,p)=>({"fad fa-pencil":s,"fas fa-eye":p});function A1(s,p){if(1&s){const n=e.RV6();e.j41(0,"app-client-wizard-host",12,0),e.bIt("finish",function(){e.eBV(n);const l=e.XpG();return e.Njj(l.onFinish())})("hide",function(){e.eBV(n);const l=e.XpG();return e.Njj(l.hideWizard())})("wizardCancel",function(){e.eBV(n);const l=e.XpG();return e.Njj(l.hideWizard())}),e.k0s()}if(2&s){const n=e.XpG();e.Y8G("displayUpgradeIcon",n.licenseInfo.isStarterLicense())}}function R1(s,p){if(1&s){const n=e.RV6();e.j41(0,"app-import-wizard",13,1),e.bIt("finish",function(){e.eBV(n);const l=e.XpG();return e.Njj(l.reload())}),e.k0s()}}function M1(s,p){if(1&s&&(e.j41(0,"div",14),e.nrm(1,"span",15),e.nI1(2,"translate"),e.k0s()),2&s){const n=e.XpG();e.Y8G("ngClass",e.l_i(5,I1,n.limitReached,n.overLimit)),e.R7$(),e.Y8G("innerHTML",e.i5U(2,2,"Common.QuotaLimit",e.eq3(8,Ih,n.licenseInfo.maxClients)),e.npT)}}function $b(s,p){if(1&s){const n=e.RV6();e.j41(0,"div",22)(1,"label",23),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"select",24),e.mxI("ngModelChange",function(l){e.eBV(n);const D=e.XpG(2);return e.DH7(D.pageSize,l)||(D.pageSize=l),e.Njj(l)}),e.bIt("change",function(){e.eBV(n);const l=e.XpG(2);return e.Njj(l.setPageLength(+l.pageSize))}),e.j41(5,"option",25),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"option",26),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"option",27),e.EFF(12),e.nI1(13,"translate"),e.k0s()()()}if(2&s){const n=e.XpG(2);e.R7$(2),e.Lme("",n.pageSize," ",e.bMT(3,6,"Nav.PerPage"),""),e.R7$(2),e.R50("ngModel",n.pageSize),e.R7$(2),e.SpI("25 ",e.bMT(7,8,"Nav.PerPage"),""),e.R7$(3),e.SpI("50 ",e.bMT(10,10,"Nav.PerPage"),""),e.R7$(3),e.SpI("100 ",e.bMT(13,12,"Nav.PerPage"),"")}}function Gb(s,p){1&s&&(e.j41(0,"span",31)(1,"span",9),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.nrm(4,"span",32),e.k0s()),2&s&&(e.R7$(2),e.JRh(e.bMT(3,1,"StarterMode.RequiresUpgrade")))}function Hb(s,p){if(1&s){const n=e.RV6();e.j41(0,"button",28),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(n);const l=e.XpG(2),D=e.sdS(5);return e.Njj(l.showWizard(D,!0))}),e.j41(2,"span")(3,"span",9),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.nrm(6,"span",29),e.k0s(),e.DNE(7,Gb,5,3,"span",30),e.k0s()}if(2&s){const n=e.XpG(2);e.Y8G("tooltip",e.bMT(1,3,"Clients.Import.Import")),e.R7$(4),e.JRh(e.bMT(5,5,"Clients.Import.ImportClients")),e.R7$(3),e.Y8G("ngIf",n.licenseInfo.isStarterLicense())}}function Wb(s,p){if(1&s&&(e.j41(0,"span",37),e.EFF(1),e.k0s()),2&s){const n=e.XpG(3);e.R7$(),e.JRh(n.clientSelectedCount)}}function x1(s,p){1&s&&(e.j41(0,"span",38)(1,"span",9),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.nrm(4,"span",32),e.k0s()),2&s&&(e.R7$(2),e.JRh(e.bMT(3,1,"StarterMode.RequiresUpgrade")))}function JT(s,p){if(1&s){const n=e.RV6();e.j41(0,"button",33),e.bIt("click",function(){e.eBV(n);const l=e.XpG(2);return e.Njj(l.exportClients())}),e.j41(1,"span")(2,"span",9),e.EFF(3),e.k0s(),e.nrm(4,"span",34),e.DNE(5,Wb,2,1,"span",35),e.k0s(),e.DNE(6,x1,5,3,"span",36),e.k0s()}if(2&s){const n=e.XpG(2);e.Y8G("tooltip",n.currentExportTooltip),e.R7$(3),e.JRh(n.currentExportText),e.R7$(2),e.Y8G("ngIf",n.shouldDisplayCount),e.R7$(),e.Y8G("ngIf",n.licenseInfo.isStarterLicense())}}function k1(s,p){if(1&s){const n=e.RV6();e.j41(0,"app-action-bar"),e.qex(1,16),e.DNE(2,$b,14,14,"div",17),e.bVm(),e.qex(3,18),e.j41(4,"button",19),e.bIt("click",function(){e.eBV(n);const l=e.XpG(),D=e.sdS(3);return e.Njj(l.showWizard(D,l.limitReached))}),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.DNE(7,Hb,8,7,"button",20)(8,JT,7,4,"button",21),e.bVm(),e.k0s()}if(2&s){const n=e.XpG();e.R7$(2),e.Y8G("ngIf",(null==n.pagedResult?null:n.pagedResult.results.length)>0),e.R7$(2),e.Y8G("disabled",n.limitReached),e.R7$(),e.SpI(" ",e.bMT(6,5,"Clients.Add")," "),e.R7$(2),e.Y8G("ngIf",n.canImportExport),e.R7$(),e.Y8G("ngIf",n.canImportExport)}}function Kb(s,p){1&s&&e.nrm(0,"app-simple-loader")}function zb(s,p){1&s&&(e.j41(0,"div",42)(1,"div"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&s&&(e.R7$(2),e.JRh(e.bMT(3,1,"Clients.None")))}function QT(s,p){if(1&s){const n=e.RV6();e.j41(0,"th",49)(1,"label",50)(2,"input",51),e.bIt("change",function(){e.eBV(n);const l=e.XpG(3);return e.Njj(l.toggleAllClients())}),e.mxI("ngModelChange",function(l){e.eBV(n);const D=e.XpG(3);return e.DH7(D.allClientsSelected,l)||(D.allClientsSelected=l),e.Njj(l)}),e.k0s()()()}if(2&s){const n=e.XpG(3);e.R7$(2),e.R50("ngModel",n.allClientsSelected)}}function Yb(s,p){if(1&s){const n=e.RV6();e.j41(0,"label",65)(1,"input",66),e.bIt("change",function(){e.eBV(n);const l=e.XpG(5);return e.Njj(l.areAllClientsSelected())}),e.mxI("ngModelChange",function(l){e.eBV(n);const D=e.XpG(2).$implicit;return e.DH7(D.selected,l)||(D.selected=l),e.Njj(l)}),e.k0s()()}if(2&s){const n=e.XpG(2).$implicit;e.FS9("for",n.id),e.R7$(),e.FS9("id",n.id),e.R50("ngModel",n.selected)}}function N1(s,p){if(1&s&&(e.j41(0,"td",63),e.DNE(1,Yb,2,3,"label",64),e.k0s()),2&s){const n=e.XpG().$implicit,a=e.XpG(3);e.R7$(),e.Y8G("ngIf",!a.isClientReadOnly(n))}}function Ep(s,p){1&s&&(e.j41(0,"span",67)(1,"span",9),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&s&&(e.R7$(2),e.JRh(e.bMT(3,1,"Common.Disabled")))}function Xb(s,p){1&s&&(e.j41(0,"span",68),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Disabled")," "))}function ac(s,p){1&s&&(e.j41(0,"span",69),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Reserved")," "))}function O1(s,p){1&s&&(e.j41(0,"span",9),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Common.Edit")))}function Jb(s,p){1&s&&(e.j41(0,"span",9),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Common.View")))}function F1(s,p){if(1&s){const n=e.RV6();e.j41(0,"tr",52),e.DNE(1,N1,2,1,"td",53),e.j41(2,"td",54),e.bIt("click",function(){const l=e.eBV(n).$implicit,D=e.XpG(3);return e.Njj(D.viewOrEditClient(l))}),e.DNE(3,Ep,4,3,"span",55),e.j41(4,"b"),e.EFF(5),e.k0s()(),e.j41(6,"td",56),e.bIt("click",function(){const l=e.eBV(n).$implicit,D=e.XpG(3);return e.Njj(D.viewOrEditClient(l))}),e.EFF(7),e.k0s(),e.j41(8,"td",57),e.bIt("click",function(){const l=e.eBV(n).$implicit,D=e.XpG(3);return e.Njj(D.viewOrEditClient(l))}),e.DNE(9,Xb,3,3,"span",58)(10,ac,3,3,"span",59),e.k0s(),e.j41(11,"td",57),e.bIt("click",function(){const l=e.eBV(n).$implicit,D=e.XpG(3);return e.Njj(D.viewOrEditClient(l))}),e.j41(12,"button",60),e.bIt("click",function(){const l=e.eBV(n).$implicit,D=e.XpG(3);return e.Njj(D.viewOrEditClient(l))}),e.nrm(13,"span",61),e.DNE(14,O1,3,3,"span",62)(15,Jb,3,3,"span",62),e.k0s()()()}if(2&s){const n=p.$implicit,a=e.XpG(3);e.AVh("inactive",!n.enabled||a.isClientReadOnly(n)),e.FS9("id",n.clientName),e.R7$(),e.Y8G("ngIf",!a.isIdentityServerManagerReadOnly),e.R7$(2),e.Y8G("ngIf",!n.enabled),e.R7$(),e.AVh("tw-text-blue-500",!(null!=n&&n.nonEditable)),e.R7$(),e.SpI(" ",null==n?null:n.clientName," "),e.R7$(2),e.SpI(" ",null==n?null:n.description," "),e.R7$(2),e.Y8G("ngIf",!n.enabled),e.R7$(),e.Y8G("ngIf",null==n?null:n.nonEditable),e.R7$(3),e.Y8G("ngClass",e.l_i(14,D1,!a.isIdentityServerManagerReadOnly&&!a.isClientReadOnly(n),a.isIdentityServerManagerReadOnly||a.isClientReadOnly(n))),e.R7$(),e.Y8G("ngIf",!a.isIdentityServerManagerReadOnly&&!a.isClientReadOnly(n)),e.R7$(),e.Y8G("ngIf",a.isIdentityServerManagerReadOnly||a.isClientReadOnly(n))}}function Tp(s,p){if(1&s&&(e.j41(0,"table",43)(1,"thead")(2,"tr"),e.DNE(3,QT,3,1,"th",44),e.j41(4,"th",45),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"th",46),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"th",47)(11,"span",9),e.EFF(12),e.nI1(13,"translate"),e.k0s()(),e.j41(14,"th",47)(15,"span",9),e.EFF(16),e.nI1(17,"translate"),e.k0s()()()(),e.j41(18,"tbody"),e.DNE(19,F1,16,17,"tr",48),e.k0s()()),2&s){const n=e.XpG(2);e.R7$(3),e.Y8G("ngIf",!n.isIdentityServerManagerReadOnly),e.R7$(2),e.JRh(e.bMT(6,6,"Common.Name")),e.R7$(3),e.JRh(e.bMT(9,8,"Common.Description")),e.R7$(4),e.JRh(e.bMT(13,10,"Common.Reserved")),e.R7$(4),e.JRh(e.bMT(17,12,"Common.Actions")),e.R7$(3),e.Y8G("ngForOf",n.allClients)}}function ZT(s,p){if(1&s){const n=e.RV6();e.j41(0,"app-pager",70),e.bIt("onGoToPage",function(l){e.eBV(n);const D=e.XpG(2);return e.Njj(D.goToPage(l))}),e.k0s()}if(2&s){const n=e.XpG(2);e.Y8G("totalResults",null==n.pagedResult?null:n.pagedResult.totalCount)("currentPage",n.page)("lastPage",null==n.pagedResult?null:n.pagedResult.pageCount)}}function Qb(s,p){if(1&s&&(e.qex(0),e.DNE(1,zb,4,3,"div",39)(2,Tp,20,14,"table",40)(3,ZT,1,3,"app-pager",41),e.bVm()),2&s){const n=e.XpG();e.R7$(),e.Y8G("ngIf",(null==n.allClients?null:n.allClients.length)<1),e.R7$(),e.Y8G("ngIf",(null==n.allClients?null:n.allClients.length)>0),e.R7$(),e.Y8G("ngIf",(null==n.pagedResult?null:n.pagedResult.results.length)>0&&!n.isLoading)}}let Zb=(()=>{class s extends co.if{get limitReached(){return this.licenseInfo?.clientLimitReached??!1}get overLimit(){return this.licenseInfo?.overClientLimit??!1}constructor(n,a,l,D,ee,De,Ze,gt,Vt,ln,Cn,In){super(gt,ee,!0),this.router=n,this.errorService=a,this.titleService=l,this.clientsService=D,this.translate=ee,this.localize=De,this.exportService=Ze,this.securityService=Vt,this.modalService=ln,this.localizeRouter=Cn,this.licenseService=In,this.pageSize=25,this.page=1,this.term="",this.isLoading=!0,this.allClients=[],this.allClientsSelected=!1,this.clientSelectedCount=0,this.currentExportText=this.translate.instant("Clients.Export.ExportAllClients"),this.currentExportTooltip=this.translate.instant("Clients.Export.ExportAll"),this.shouldDisplayCount=!1,this.canImportExport=!1,this.pageStream=new Ar.B,this.pageSizeStream=new Ar.B,this.mapSearchTerm=this.mapSearchTerm.bind(this)}reload(){this.pageStream.next(this.page),this.pageSizeStream.next(this.pageSize)}mapSearchTerm(n){return this.term=n,{searchTerm:n,page:1,pageSize:this.pageSize}}ngOnInit(){const n=this.translate.instant("Nav.Clients")+" - "+Bt.$9.SITE_TITLE;this.isLoading=!0,this.titleService.setTitle(n),this.canImportExport=this.securityService.allView;const a=this.pageStream.pipe((0,Ci.T)(ee=>(this.page=ee,{searchTerm:this.term,page:ee,pageSize:this.pageSize}))),l=this.pageSizeStream.pipe((0,Ci.T)(ee=>(this.pageSize=ee,{searchTerm:this.term,page:this.page,pageSize:ee})));a.pipe((0,fa.X)(l),(0,fa.X)(this.searchSource),(0,fa.X)(this.enterKeySource),(0,Ja.Z)({searchTerm:this.term,page:this.page,pageSize:this.pageSize}),(0,ea.Z)(ee=>(this.isLoading=!0,this.clientsService.getClients(ee.searchTerm,ee.page,ee.pageSize).pipe((0,ta.c)(200))))).subscribe({next:ee=>{this.pagedResult=ee,this.allClients=this.pagedResult.results.map(De=>new va(De)).sort((De,Ze)=>Number(Ze.nonEditable)-Number(De.nonEditable)),this.isLoading=!1},error:ee=>{this.errorService.handleError(ee),this.isLoading=!1}}),this.licenseService.getLicenseInfo().pipe((0,$n.$)()).subscribe(ee=>{this.licenseInfo=ee})}checkStarterMode(){if(this.licenseInfo.isStarterLicense()){const n=this.localizeRouter.translateRoute("/starter-mode/teaser");this.router.navigate([n],{queryParams:{feature:g1.p.ImportExportClients}})}return this.licenseInfo.isStarterLicense()}showWizard(n,a=!1){a&&this.checkStarterMode()||this.modalService.show(n,{id:uo.R.Id,ariaLabelledBy:uo.R.TileId,ariaDescribedby:uo.R.DescriptionId,backdrop:"static"})}hideWizard(){this.modalService.hide(uo.R.Id)}goToPage(n){this.pageStream.next(n)}setPageLength(n){this.page=1,this.pageSizeStream.next(n)}viewOrEditClient(n){this.isIdentityServerManagerReadOnly||this.isClientReadOnly(n)?this.viewClient(n):this.editClient(n)}viewClient(n){const a=this.localize.translateRoute("/clients/view");this.router.navigate([a,n.id])}editClient(n){const a=this.localize.translateRoute("/clients");this.router.navigate([a,n.id])}exportClients(){if(!this.checkStarterMode())if(0===this.clientSelectedCount)this.exportService.exportAllClients();else{const n=this.allClients.filter(a=>a.selected).map(a=>a.clientId);this.exportService.exportSelectedClients(n)}}areAllClientsSelected(){this.allClientsSelected=this.allClients.every(n=>n.selected||n.nonEditable),this.clientSelectedCount=this.allClients.filter(n=>n.selected&&!n.nonEditable).length,0===this.clientSelectedCount?(this.currentExportText=this.translate.instant("Clients.Export.ExportAllClients"),this.currentExportTooltip=this.translate.instant("Clients.Export.ExportAll"),this.shouldDisplayCount=!1):(this.shouldDisplayCount=this.allClients.filter(n=>!n.nonEditable).length!==this.clientSelectedCount,this.currentExportText=`${this.translate.instant("Clients.Export.ExportSelectedClients")} (${this.clientSelectedCount})`,this.currentExportTooltip=this.translate.instant("Clients.Export.ExportSelected"))}toggleAllClients(){let n=!0;this.allClients.forEach(a=>{!a.nonEditable&&!a.selected&&(n=!1)}),this.allClients.forEach(a=>{a.nonEditable||(a.selected=!n)}),this.shouldDisplayCount=!1,this.clientSelectedCount=n?0:this.allClients.filter(a=>!a.nonEditable).length,this.currentExportText=this.translate.instant("Clients.Export.ExportAllClients"),this.currentExportTooltip=this.translate.instant("Clients.Export.ExportAll"),this.allClientsSelected=!n}get isIdentityServerManagerReadOnly(){return(0,Ai.ci)(this.securityService.userPermissions)}handleInternalServerError(){this.toastr.error(this.translate.instant("Clients.Filter.StoredProcedureErrorMessage"),this.translate.instant("Notifications.Error"))}isClientReadOnly(n){const a=HT.I.RestrictedClientTypes.includes(n.clientType);return n.nonEditable||this.overLimit||a&&this.licenseInfo.isStarterLicense()}onFinish(){this.hideWizard(),this.reload()}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(bt.Ix),e.rXU(ne.I),e.rXU(i.hE),e.rXU(Hl._),e.rXU(_n.c$),e.rXU(Wn.QG),e.rXU(Fa),e.rXU(Jn.tw),e.rXU(Vr.i),e.rXU(Rt.I8),e.rXU(Wn.QG),e.rXU(ma.X))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["ng-component"]],features:[e.Vt3],decls:20,vars:14,consts:[["addClientModal",""],["importWizardModal",""],[3,"title"],["id","clientsList",1,"tw-container","tw-mx-auto"],["id","quotaLimitAlert","role","alert","class","tw-mb-4",3,"ngClass",4,"ngIf"],["id","searchContainer",1,"tw-mb-2"],[1,"tw-flex","tw-bg-white","tw-border","tw-border-grey-300","tw-opacity-75","tw-cursor-text","tw-rounded","focus-within:tw-opacity-100","focus-within:tw-border-blue-400","tw-transition-all","tw-ease-in-out"],["for","searchUserName",1,"tw-flex","tw-items-center","tw-text-grey-500","tw-m-0","tw-ml-3"],["aria-hidden","true",1,"far","fa-search","tw-text-sm"],[1,"sr-only"],["id","searchTerm","type","search",1,"tw-bg-transparent","tw-border-0","tw-text-base","tw-leading-tight","tw-px-2","tw-py-2","tw-w-full","focus:tw-outline-none","tw-transition-all","tw-ease-in-out",3,"ngModelChange","keyup","ngModel","placeholder"],[4,"ngIf"],[3,"finish","hide","wizardCancel","displayUpgradeIcon"],["id","importWizardModal",3,"finish"],["id","quotaLimitAlert","role","alert",1,"tw-mb-4",3,"ngClass"],[3,"innerHTML"],["left",""],["class","tw-hidden tw-form-select tw-w-auto sm:tw-block",4,"ngIf"],["right",""],["id","addClientBtn",1,"tw-btn-success",3,"click","disabled"],["id","importButton","class","tw-btn-white tw-ml-3","container","body",3,"tooltip","click",4,"ngIf"],["id","exportButton","class","tw-btn-white tw-ml-3 tw-relative","container","body",3,"tooltip","click",4,"ngIf"],[1,"tw-hidden","tw-form-select","tw-w-auto","sm:tw-block"],["for","pageSizeToggle",1,"sr-only"],["id","pageSizeToggle",1,"tw-form-control","tw-form-control-small",3,"ngModelChange","change","ngModel"],["value","25"],["value","50"],["value","100"],["id","importButton","container","body",1,"tw-btn-white","tw-ml-3",3,"click","tooltip"],["aria-hidden","true",1,"fad","fa-arrow-from-bottom"],["id","importUpgradeSymbol",4,"ngIf"],["id","importUpgradeSymbol"],["aria-hidden","true",1,"tw-text-secondary-500","far","fa-arrow-alt-circle-up","tw-absolute"],["id","exportButton","container","body",1,"tw-btn-white","tw-ml-3","tw-relative",3,"click","tooltip"],["aria-hidden","true",1,"fad","fa-arrow-to-bottom"],["class","ml-2",4,"ngIf"],["id","exportUpgradeSymbol",4,"ngIf"],[1,"ml-2"],["id","exportUpgradeSymbol"],["id","clientsNone","class","tw-alert","role","alert",4,"ngIf"],["id","clientsTable","class","datatable selectable hover",4,"ngIf"],[3,"totalResults","currentPage","lastPage","onGoToPage",4,"ngIf"],["id","clientsNone","role","alert",1,"tw-alert"],["id","clientsTable",1,"datatable","selectable","hover"],["class","toggle tw-w-1",4,"ngIf"],[1,"lg:tw-w-1/3"],[1,"tw-hidden","lg:tw-table-cell"],[1,"tw-w-1"],["class","group clientRow",3,"id","inactive",4,"ngFor","ngForOf"],[1,"toggle","tw-w-1"],["for","toggleAllClients",1,"toggle-label"],["id","toggleAllClients","type","checkbox",1,"tw-block","tw-cursor-pointer",3,"change","ngModelChange","ngModel"],[1,"group","clientRow",3,"id"],["class","toggle",4,"ngIf"],[1,"tw-max-w-0","tw-truncate",3,"click"],["class","fas fa-exclamation-triangle tw-text-orange-500 tw-mr-1","container","body",4,"ngIf"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell",3,"click"],[3,"click"],["class","tw-pill-warning",4,"ngIf"],["class","tw-pill",4,"ngIf"],["type","button",1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click"],["id","viewOrEditIcon","aria-hidden","true",3,"ngClass"],["class","sr-only",4,"ngIf"],[1,"toggle"],["class","toggle-label",3,"for",4,"ngIf"],[1,"toggle-label",3,"for"],["type","checkbox",1,"tw-block","tw-cursor-pointer","checkbox",3,"change","ngModelChange","id","ngModel"],["container","body",1,"fas","fa-exclamation-triangle","tw-text-orange-500","tw-mr-1"],[1,"tw-pill-warning"],[1,"tw-pill"],[3,"onGoToPage","totalResults","currentPage","lastPage"]],template:function(a,l){if(1&a){const D=e.RV6();e.nrm(0,"app-title-bar",2),e.nI1(1,"translate"),e.DNE(2,A1,2,1,"ng-template",null,0,e.C5r)(4,R1,2,0,"ng-template",null,1,e.C5r),e.j41(6,"div",3),e.DNE(7,M1,3,10,"div",4),e.j41(8,"div",5)(9,"div",6)(10,"label",7),e.nrm(11,"span",8),e.j41(12,"span",9),e.EFF(13),e.nI1(14,"translate"),e.k0s()(),e.j41(15,"input",10),e.nI1(16,"translate"),e.mxI("ngModelChange",function(De){return e.eBV(D),e.DH7(l.searchTerm,De)||(l.searchTerm=De),e.Njj(De)}),e.bIt("keyup",function(De){return e.eBV(D),e.Njj(l.search(De))}),e.k0s()()(),e.DNE(17,k1,9,7,"app-action-bar",11)(18,Kb,1,0,"app-simple-loader",11)(19,Qb,4,3,"ng-container",11),e.k0s()}2&a&&(e.Y8G("title",e.bMT(1,8,"Nav.Clients")),e.R7$(7),e.Y8G("ngIf",l.limitReached),e.R7$(6),e.JRh(e.bMT(14,10,"Common.Search")),e.R7$(2),e.FS9("placeholder",e.bMT(16,12,"Clients.SearchPlaceholder")),e.R50("ngModel",l.searchTerm),e.R7$(2),e.Y8G("ngIf",!l.isLoading&&!l.isIdentityServerManagerReadOnly),e.R7$(),e.Y8G("ngIf",l.isLoading),e.R7$(),e.Y8G("ngIf",!l.isLoading))},dependencies:[pn.YU,pn.Sq,pn.bT,g.xH,g.y7,g.me,g.Zm,g.wz,g.BC,g.vS,Me.dg,Zt.z,Qa.B,_l.n,As.d,xb,T1,_n.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();const qb=(s,p)=>({title:s,link:p}),eC=s=>[s];function qT(s,p){1&s&&(e.j41(0,"option",23),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Nav.Saml")))}function eI(s,p){1&s&&(e.j41(0,"option",24),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.RelyingParty.Heading")))}function Dh(s,p){1&s&&(e.j41(0,"option",25),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.URLS.Title")))}function tC(s,p){1&s&&(e.j41(0,"option",26),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Common.Secrets")))}function Ip(s,p){1&s&&(e.j41(0,"option",27),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Common.CIBA")))}function Dp(s,p){1&s&&(e.j41(0,"span",28),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" - ",e.bMT(2,1,"StarterMode.RequiresUpgrade")," "))}function nu(s,p){1&s&&e.nrm(0,"app-custom-tab",17),2&s&&e.Y8G("tabTitle","Nav.Saml")("tabValue","saml")}function Ap(s,p){1&s&&e.nrm(0,"app-custom-tab",17),2&s&&e.Y8G("tabTitle","Clients.RelyingParty.Heading")("tabValue","wsfed")}function Rp(s,p){1&s&&e.nrm(0,"app-custom-tab",17),2&s&&e.Y8G("tabTitle","Clients.URLS.Title")("tabValue","applicationurls")}function pd(s,p){1&s&&e.nrm(0,"app-custom-tab",17),2&s&&e.Y8G("tabTitle","Common.Secrets")("tabValue","secrets")}function Ah(s,p){1&s&&e.nrm(0,"app-custom-tab",17),2&s&&e.Y8G("tabTitle","Common.CIBA")("tabValue","ciba")}function iu(s,p){1&s&&(e.j41(0,"span",29),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Disabled")," "))}let Mp=(()=>{class s{constructor(n,a,l,D,ee,De,Ze,gt){this.clientCachingService=n,this.clientViewService=a,this.titleService=l,this.translate=D,this.errorService=ee,this.licenseService=De,this.router=Ze,this.route=gt}ngOnInit(){this.clientSubscription=this.clientCachingService.unsavedCache$.subscribe(n=>{this.client=n;const a=this.translate.instant("Clients.Title")+" "+this.client.clientName+" - "+Bt.$9.SITE_TITLE;this.titleService.setTitle(a)}),this.licenseService.getLicenseInfo().pipe().subscribe({next:n=>this.licenseInfo=n})}ngOnDestroy(){this.clientSubscription.unsubscribe()}mobRoute(n){this.router.navigate([n],{relativeTo:this.route})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(Yc.e),e.rXU(cd.q),e.rXU(i.hE),e.rXU(_n.c$),e.rXU(ne.I),e.rXU(ma.X),e.rXU(bt.Ix),e.rXU(bt.nX))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-view-client"]],features:[e.Jv_([cd.q])],decls:45,vars:54,consts:[[3,"title","crumbs","hasButton","hasTabs","isReadOnly","isReserved"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","details"],["value","saml",4,"ngIf"],["value","wsfed",4,"ngIf"],["value","applicationurls",4,"ngIf"],["value","secrets",4,"ngIf"],["value","resources"],["value","ciba",4,"ngIf"],["value","advanced"],["value","clientaudits"],["id","upgradeSymbol",4,"ngIf"],[1,"tw-hidden","md:tw-flex"],[3,"tabTitle","tabValue"],[3,"tabTitle","tabValue",4,"ngIf"],[3,"tabTitle","tabValue","restrictedStarter"],["badge",""],["class","tw-pill-warning tw-mr-2",4,"ngIf"],["id","viewClient",1,"tw-container","tw-mx-auto"],["value","saml"],["value","wsfed"],["value","applicationurls"],["value","secrets"],["value","ciba"],["id","upgradeSymbol"],[1,"tw-pill-warning","tw-mr-2"]],template:function(a,l){if(1&a&&(e.j41(0,"app-title-bar",0),e.nI1(1,"translate"),e.nI1(2,"localize"),e.qex(3,1),e.j41(4,"div",2)(5,"label",3),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"div",4)(9,"select",5),e.bIt("change",function(ee){return l.mobRoute(ee.target.value)}),e.j41(10,"option",6),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"option",6),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.DNE(16,qT,3,3,"option",7)(17,eI,3,3,"option",8)(18,Dh,3,3,"option",9)(19,tC,3,3,"option",10),e.j41(20,"option",11),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.DNE(23,Ip,3,3,"option",12),e.j41(24,"option",13),e.EFF(25),e.nI1(26,"translate"),e.k0s(),e.j41(27,"option",14),e.EFF(28),e.nI1(29,"translate"),e.DNE(30,Dp,3,3,"span",15),e.k0s()()()(),e.j41(31,"app-custom-tabs",16),e.nrm(32,"app-custom-tab",17),e.DNE(33,nu,1,2,"app-custom-tab",18)(34,Ap,1,2,"app-custom-tab",18)(35,Rp,1,2,"app-custom-tab",18)(36,pd,1,2,"app-custom-tab",18),e.nrm(37,"app-custom-tab",17),e.DNE(38,Ah,1,2,"app-custom-tab",18),e.nrm(39,"app-custom-tab",17)(40,"app-custom-tab",19),e.k0s(),e.bVm(),e.qex(41,20),e.DNE(42,iu,3,3,"span",21),e.bVm(),e.k0s(),e.j41(43,"div",22),e.nrm(44,"router-outlet"),e.k0s()),2&a){let D,ee;e.Y8G("title",l.client.clientName)("crumbs",e.eq3(52,eC,e.l_i(49,qb,e.bMT(1,33,"Nav.Clients"),e.bMT(2,35,"/clients"))))("hasButton",!0)("hasTabs",!0)("isReadOnly",!0)("isReserved",l.client.nonEditable),e.R7$(6),e.JRh(e.bMT(7,37,"Nav.SubMenu")),e.R7$(5),e.SpI("",e.bMT(12,39,"Nav.SubMenu"),"..."),e.R7$(3),e.JRh(e.bMT(15,41,"Nav.Details")),e.R7$(2),e.Y8G("ngIf",l.clientViewService.saml.display),e.R7$(),e.Y8G("ngIf",l.clientViewService.wsFed.display),e.R7$(),e.Y8G("ngIf",l.clientViewService.applicationUrls.display),e.R7$(),e.Y8G("ngIf",l.clientViewService.secrets.display),e.R7$(2),e.JRh(e.bMT(22,43,"Nav.Resources")),e.R7$(2),e.Y8G("ngIf",l.clientViewService.ciba.display),e.R7$(2),e.JRh(e.bMT(26,45,"Common.Advanced")),e.R7$(3),e.SpI(" ",e.bMT(29,47,"Nav.Audits")," "),e.R7$(2),e.Y8G("ngIf",null!==(D=null==l.licenseInfo?null:l.licenseInfo.isStarterLicense())&&void 0!==D&&D),e.R7$(2),e.Y8G("tabTitle","Nav.Details")("tabValue","details"),e.R7$(),e.Y8G("ngIf",l.clientViewService.saml.display),e.R7$(),e.Y8G("ngIf",l.clientViewService.wsFed.display),e.R7$(),e.Y8G("ngIf",l.clientViewService.applicationUrls.display),e.R7$(),e.Y8G("ngIf",l.clientViewService.secrets.display),e.R7$(),e.Y8G("tabTitle","Nav.Resources")("tabValue","resources"),e.R7$(),e.Y8G("ngIf",l.clientViewService.ciba.display),e.R7$(),e.Y8G("tabTitle","Common.Advanced")("tabValue","advanced"),e.R7$(),e.Y8G("tabTitle","Nav.Audits")("tabValue","clientaudits")("restrictedStarter",null!==(ee=null==l.licenseInfo?null:l.licenseInfo.isStarterLicense())&&void 0!==ee&&ee),e.R7$(2),e.Y8G("ngIf",!l.client.enabled)}},dependencies:[bt.n3,pn.bT,Zt.z,rn.G,bn.v,_n.D9,Wn.tl],encapsulation:2})}}return s})();var ru=u(9962);const nC=[{path:"clients",component:Zb,canActivate:[dn.h,Qn._],data:{permissions:[Jt.a[Jt.a.IdentityServerManager],Jt.a[Jt.a.IdentityServerManagerReadOnly],Jt.a[Jt.a.AllReadOnly],Jt.a[Jt.a.All]]}},{path:"clients/:Id",component:Tb,loadChildren:()=>Promise.all([u.e(419),u.e(76),u.e(600)]).then(u.bind(u,6600)).then(s=>s.EditClientModule),canDeactivate:[Nn.M],resolve:{client:l1},canActivate:[dn.h,Qn._,ru.m],data:{permissions:[Jt.a[Jt.a.IdentityServerManager],Jt.a[Jt.a.All]]}},{path:"clients/view/:Id",component:Mp,loadChildren:()=>Promise.all([u.e(419),u.e(908)]).then(u.bind(u,4908)).then(s=>s.ViewClientModule),resolve:{client:l1},canActivate:[dn.h,Qn._],data:{permissions:[Jt.a[Jt.a.IdentityServerManager],Jt.a[Jt.a.IdentityServerManagerReadOnly],Jt.a[Jt.a.AllReadOnly],Jt.a[Jt.a.All]]}}];let xp=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({imports:[bt.iI.forChild(nC),Wn.XE.forChild(nC),bt.iI]})}}return s})();var md=u(1466),iC=u(5667);let B1=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({providers:[l1,mp.R,md.z,Xc.c,yp.z,vh.d,c1.S,gp._,Fa,Gl.V],imports:[xp,pn.MD,bt.iI,g.YN,jl.Y,g.X1,Me.Ss,Rt.Q_,_n.h,Wn.XE,od.F,ld.a,el.m,$l.i,rd.c,Kc.t,mc.c,sd.E,ad.h,gc.w,Oa.N,oc.Y,iC.g]})}}return s})();var L1=u(4811),U1=u(8939);class kp extends Wn.xq{constructor(p,n,a,l,D="assets/locales.json"){super(p,n,a),this.http=l,this.path=D}load(p){return new Promise(n=>{this.http.get(`${this.path}`).subscribe(a=>{this.locales=a.locales,this.prefix=a.prefix||"",this.escapePrefix=a.escapePrefix||"",this.init(p).then(n)})})}}var Np=u(7773),V1=u(6807),Op=u(967),Ml=u(1985),To=u(6977),yo=u(3726),Fp=u(1584),Pp=u(8750),Bp=u(2326),Rh=u(4360);function vd(...s){return 1===(s=(0,Bp.K)(s)).length?(0,Pp.Tg)(s[0]):new Ml.c(function Mh(s){return p=>{let n=[];for(let a=0;n&&!p.closed&&a<s.length;a++)n.push((0,Pp.Tg)(s[a]).subscribe((0,Rh._)(p,l=>{if(n){for(let D=0;D<n.length;D++)D!==a&&n[D].unsubscribe();n=null}p.next(l)})))}}(s))}u(7786);var $1=u(9326);function xh(...s){const p=(0,$1.ms)(s),n=(0,Bp.K)(s);return n.length?new Ml.c(a=>{let l=n.map(()=>[]),D=n.map(()=>!1);a.add(()=>{l=D=null});for(let ee=0;!a.closed&&ee<n.length;ee++)(0,Pp.Tg)(n[ee]).subscribe((0,Rh._)(a,De=>{if(l[ee].push(De),l.every(Ze=>Ze.length)){const Ze=l.map(gt=>gt.shift());a.next(p?p(...Ze):Ze),l.some((gt,Vt)=>!gt.length&&D[Vt])&&a.complete()}},()=>{D[ee]=!0,!l[ee].length&&a.complete()}));return()=>{l=D=null}}):Il.w}var kh=u(8793),No=u(5964),xl=u(6697),G1=u(8141),H1=u(3993),su=u(5558),W1={left:"right",right:"left",bottom:"top",top:"bottom"};function yd(s){return s.replace(/left|right|bottom|top/g,function(p){return W1[p]})}function rl(s){return s.split("-")[0]}var Cc={start:"end",end:"start"};function K1(s){return s.replace(/start|end/g,function(p){return Cc[p]})}var ya="top",sl="bottom",ol="right",_a="left",al="auto",kl=[ya,sl,ol,_a],ou="start",_d="end",z1="viewport",bd="popper",Vp=kl.reduce(function(s,p){return s.concat([p+"-"+ou,p+"-"+_d])},[]),Y1=[].concat(kl,[al]).reduce(function(s,p){return s.concat([p,p+"-"+ou,p+"-"+_d])},[]),tI=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Ba(s){if(null==s)return window;if("[object Window]"!==s.toString()){var p=s.ownerDocument;return p&&p.defaultView||window}return s}function au(s){return s instanceof Ba(s).Element||s instanceof Element}function oa(s){return s instanceof Ba(s).HTMLElement||s instanceof HTMLElement}function wd(s){return!(typeof ShadowRoot>"u")&&(s instanceof Ba(s).ShadowRoot||s instanceof ShadowRoot)}function wc(s){return((au(s)?s.ownerDocument:s.document)||window.document).documentElement}var lu=Math.max,Sd=Math.min,cu=Math.round;function jp(){var s=navigator.userAgentData;return null!=s&&s.brands&&Array.isArray(s.brands)?s.brands.map(function(p){return p.brand+"/"+p.version}).join(" "):navigator.userAgent}function Z1(){return!/^((?!chrome|android).)*safari/i.test(jp())}function uu(s,p,n){void 0===p&&(p=!1),void 0===n&&(n=!1);var a=s.getBoundingClientRect(),l=1,D=1;p&&oa(s)&&(l=s.offsetWidth>0&&cu(a.width)/s.offsetWidth||1,D=s.offsetHeight>0&&cu(a.height)/s.offsetHeight||1);var De=(au(s)?Ba(s):window).visualViewport,Ze=!Z1()&&n,gt=(a.left+(Ze&&De?De.offsetLeft:0))/l,Vt=(a.top+(Ze&&De?De.offsetTop:0))/D,ln=a.width/l,Cn=a.height/D;return{width:ln,height:Cn,top:Vt,right:gt+ln,bottom:Vt+Cn,left:gt,x:gt,y:Vt}}function $p(s){var p=Ba(s);return{scrollLeft:p.pageXOffset,scrollTop:p.pageYOffset}}function Oh(s){return uu(wc(s)).left+$p(s).scrollLeft}function Kl(s){return Ba(s).getComputedStyle(s)}function ll(s){return s?(s.nodeName||"").toLowerCase():null}function Sc(s){return"html"===ll(s)?s:s.assignedSlot||s.parentNode||(wd(s)?s.host:null)||wc(s)}function Fh(s){var p=Kl(s);return/auto|scroll|overlay|hidden/.test(p.overflow+p.overflowY+p.overflowX)}function Ph(s){return["html","body","#document"].indexOf(ll(s))>=0?s.ownerDocument.body:oa(s)&&Fh(s)?s:Ph(Sc(s))}function Ed(s,p){var n;void 0===p&&(p=[]);var a=Ph(s),l=a===(null==(n=s.ownerDocument)?void 0:n.body),D=Ba(a),ee=l?[D].concat(D.visualViewport||[],Fh(a)?a:[]):a,De=p.concat(ee);return l?De:De.concat(Ed(Sc(ee)))}function Ec(s){return["table","td","th"].indexOf(ll(s))>=0}function Gp(s){return oa(s)&&"fixed"!==Kl(s).position?s.offsetParent:null}function Tc(s){for(var p=Ba(s),n=Gp(s);n&&Ec(n)&&"static"===Kl(n).position;)n=Gp(n);return n&&("html"===ll(n)||"body"===ll(n)&&"static"===Kl(n).position)?p:n||function hC(s){var p=/firefox/i.test(jp());if(/Trident/i.test(jp())&&oa(s)&&"fixed"===Kl(s).position)return null;var l=Sc(s);for(wd(l)&&(l=l.host);oa(l)&&["html","body"].indexOf(ll(l))<0;){var D=Kl(l);if("none"!==D.transform||"none"!==D.perspective||"paint"===D.contain||-1!==["transform","perspective"].indexOf(D.willChange)||p&&"filter"===D.willChange||p&&D.filter&&"none"!==D.filter)return l;l=l.parentNode}return null}(s)||p}function Hp(s,p){var n=p.getRootNode&&p.getRootNode();if(s.contains(p))return!0;if(n&&wd(n)){var a=p;do{if(a&&s.isSameNode(a))return!0;a=a.parentNode||a.host}while(a)}return!1}function Wp(s){return Object.assign({},s,{left:s.x,top:s.y,right:s.x+s.width,bottom:s.y+s.height})}function e0(s,p,n){return p===z1?Wp(function q1(s,p){var n=Ba(s),a=wc(s),l=n.visualViewport,D=a.clientWidth,ee=a.clientHeight,De=0,Ze=0;if(l){D=l.width,ee=l.height;var gt=Z1();(gt||!gt&&"fixed"===p)&&(De=l.offsetLeft,Ze=l.offsetTop)}return{width:D,height:ee,x:De+Oh(s),y:Ze}}(s,n)):au(p)?function fC(s,p){var n=uu(s,!1,"fixed"===p);return n.top=n.top+s.clientTop,n.left=n.left+s.clientLeft,n.bottom=n.top+s.clientHeight,n.right=n.left+s.clientWidth,n.width=s.clientWidth,n.height=s.clientHeight,n.x=n.left,n.y=n.top,n}(p,n):Wp(function dC(s){var p,n=wc(s),a=$p(s),l=null==(p=s.ownerDocument)?void 0:p.body,D=lu(n.scrollWidth,n.clientWidth,l?l.scrollWidth:0,l?l.clientWidth:0),ee=lu(n.scrollHeight,n.clientHeight,l?l.scrollHeight:0,l?l.clientHeight:0),De=-a.scrollLeft+Oh(s),Ze=-a.scrollTop;return"rtl"===Kl(l||n).direction&&(De+=lu(n.clientWidth,l?l.clientWidth:0)-D),{width:D,height:ee,x:De,y:Ze}}(wc(s)))}function Td(s){return s.split("-")[1]}function n0(s){return["top","bottom"].indexOf(s)>=0?"x":"y"}function du(s){var Ze,p=s.reference,n=s.element,a=s.placement,l=a?rl(a):null,D=a?Td(a):null,ee=p.x+p.width/2-n.width/2,De=p.y+p.height/2-n.height/2;switch(l){case ya:Ze={x:ee,y:p.y-n.height};break;case sl:Ze={x:ee,y:p.y+p.height};break;case ol:Ze={x:p.x+p.width,y:De};break;case _a:Ze={x:p.x-n.width,y:De};break;default:Ze={x:p.x,y:p.y}}var gt=l?n0(l):null;if(null!=gt){var Vt="y"===gt?"height":"width";switch(D){case ou:Ze[gt]=Ze[gt]-(p[Vt]/2-n[Vt]/2);break;case _d:Ze[gt]=Ze[gt]+(p[Vt]/2-n[Vt]/2)}}return Ze}function s0(s){return Object.assign({},{top:0,right:0,bottom:0,left:0},s)}function o0(s,p){return p.reduce(function(n,a){return n[a]=s,n},{})}function Bh(s,p){void 0===p&&(p={});var a=p.placement,l=void 0===a?s.placement:a,D=p.strategy,ee=void 0===D?s.strategy:D,De=p.boundary,Ze=void 0===De?"clippingParents":De,gt=p.rootBoundary,Vt=void 0===gt?z1:gt,ln=p.elementContext,Cn=void 0===ln?bd:ln,In=p.altBoundary,Fn=void 0!==In&&In,On=p.padding,oi=void 0===On?0:On,wi=s0("number"!=typeof oi?oi:o0(oi,kl)),Qi=s.rects.popper,_i=s.elements[Fn?Cn===bd?"reference":bd:Cn],nr=function t0(s,p,n,a){var l="clippingParents"===p?function pC(s){var p=Ed(Sc(s)),a=["absolute","fixed"].indexOf(Kl(s).position)>=0&&oa(s)?Tc(s):s;return au(a)?p.filter(function(l){return au(l)&&Hp(l,a)&&"body"!==ll(l)}):[]}(s):[].concat(p),D=[].concat(l,[n]),De=D.reduce(function(Ze,gt){var Vt=e0(s,gt,a);return Ze.top=lu(Vt.top,Ze.top),Ze.right=Sd(Vt.right,Ze.right),Ze.bottom=Sd(Vt.bottom,Ze.bottom),Ze.left=lu(Vt.left,Ze.left),Ze},e0(s,D[0],a));return De.width=De.right-De.left,De.height=De.bottom-De.top,De.x=De.left,De.y=De.top,De}(au(_i)?_i:_i.contextElement||wc(s.elements.popper),Ze,Vt,ee),zi=uu(s.elements.reference),Zi=du({reference:zi,element:Qi,strategy:"absolute",placement:l}),ir=Wp(Object.assign({},Qi,Zi)),cs=Cn===bd?ir:zi,us={top:nr.top-cs.top+wi.top,bottom:cs.bottom-nr.bottom+wi.bottom,left:nr.left-cs.left+wi.left,right:cs.right-nr.right+wi.right},ks=s.modifiersData.offset;if(Cn===bd&&ks){var eo=ks[l];Object.keys(us).forEach(function(to){var fl=[ol,sl].indexOf(to)>=0?1:-1,pl=[ya,sl].indexOf(to)>=0?"y":"x";us[to]+=eo[pl]*fl})}return us}const yC={name:"flip",enabled:!0,phase:"main",fn:function vC(s){var p=s.state,n=s.options,a=s.name;if(!p.modifiersData[a]._skip){for(var l=n.mainAxis,D=void 0===l||l,ee=n.altAxis,De=void 0===ee||ee,Ze=n.fallbackPlacements,gt=n.padding,Vt=n.boundary,ln=n.rootBoundary,Cn=n.altBoundary,In=n.flipVariations,Fn=void 0===In||In,On=n.allowedAutoPlacements,oi=p.options.placement,wi=rl(oi),Qi=Ze||(wi!==oi&&Fn?function gC(s){if(rl(s)===al)return[];var p=yd(s);return[K1(s),p,K1(p)]}(oi):[yd(oi)]),_i=[oi].concat(Qi).reduce(function(Br,ml){return Br.concat(rl(ml)===al?function mC(s,p){void 0===p&&(p={});var l=p.boundary,D=p.rootBoundary,ee=p.padding,De=p.flipVariations,Ze=p.allowedAutoPlacements,gt=void 0===Ze?Y1:Ze,Vt=Td(p.placement),ln=Vt?De?Vp:Vp.filter(function(Fn){return Td(Fn)===Vt}):kl,Cn=ln.filter(function(Fn){return gt.indexOf(Fn)>=0});0===Cn.length&&(Cn=ln);var In=Cn.reduce(function(Fn,On){return Fn[On]=Bh(s,{placement:On,boundary:l,rootBoundary:D,padding:ee})[rl(On)],Fn},{});return Object.keys(In).sort(function(Fn,On){return In[Fn]-In[On]})}(p,{placement:ml,boundary:Vt,rootBoundary:ln,padding:gt,flipVariations:Fn,allowedAutoPlacements:On}):ml)},[]),nr=p.rects.reference,zi=p.rects.popper,Zi=new Map,ir=!0,cs=_i[0],us=0;us<_i.length;us++){var ks=_i[us],eo=rl(ks),to=Td(ks)===ou,fl=[ya,sl].indexOf(eo)>=0,pl=fl?"width":"height",Zn=Bh(p,{placement:ks,boundary:Vt,rootBoundary:ln,altBoundary:Cn,padding:gt}),fi=fl?to?ol:_a:to?sl:ya;nr[pl]>zi[pl]&&(fi=yd(fi));var Mi=yd(fi),or=[];if(D&&or.push(Zn[eo]<=0),De&&or.push(Zn[fi]<=0,Zn[Mi]<=0),or.every(function(Br){return Br})){cs=ks,ir=!1;break}Zi.set(ks,or)}if(ir)for(var Wo=function(ml){var gl=_i.find(function(Ls){var Ko=Zi.get(Ls);if(Ko)return Ko.slice(0,ml).every(function(Fo){return Fo})});if(gl)return cs=gl,"break"},no=Fn?3:1;no>0&&"break"!==Wo(no);no--);p.placement!==cs&&(p.modifiersData[a]._skip=!0,p.placement=cs,p.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Id(s,p,n){return lu(s,Sd(p,n))}function a0(s){var p=uu(s),n=s.offsetWidth,a=s.offsetHeight;return Math.abs(p.width-n)<=1&&(n=p.width),Math.abs(p.height-a)<=1&&(a=p.height),{x:s.offsetLeft,y:s.offsetTop,width:n,height:a}}const zp={name:"preventOverflow",enabled:!0,phase:"main",fn:function nI(s){var p=s.state,n=s.options,a=s.name,l=n.mainAxis,D=void 0===l||l,ee=n.altAxis,De=void 0!==ee&&ee,Cn=n.tether,In=void 0===Cn||Cn,Fn=n.tetherOffset,On=void 0===Fn?0:Fn,oi=Bh(p,{boundary:n.boundary,rootBoundary:n.rootBoundary,padding:n.padding,altBoundary:n.altBoundary}),wi=rl(p.placement),Si=Td(p.placement),Qi=!Si,_i=n0(wi),nr=function _C(s){return"x"===s?"y":"x"}(_i),zi=p.modifiersData.popperOffsets,Zi=p.rects.reference,ir=p.rects.popper,cs="function"==typeof On?On(Object.assign({},p.rects,{placement:p.placement})):On,us="number"==typeof cs?{mainAxis:cs,altAxis:cs}:Object.assign({mainAxis:0,altAxis:0},cs),ks=p.modifiersData.offset?p.modifiersData.offset[p.placement]:null,eo={x:0,y:0};if(zi){if(D){var to,fl="y"===_i?ya:_a,pl="y"===_i?sl:ol,Zn="y"===_i?"height":"width",fi=zi[_i],Mi=fi+oi[fl],or=fi-oi[pl],Bs=In?-ir[Zn]/2:0,Wo=Si===ou?Zi[Zn]:ir[Zn],no=Si===ou?-ir[Zn]:-Zi[Zn],ca=p.elements.arrow,Br=In&&ca?a0(ca):{width:0,height:0},ml=p.modifiersData["arrow#persistent"]?p.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},gl=ml[fl],Ls=ml[pl],Ko=Id(0,Zi[Zn],Br[Zn]),Fo=Qi?Zi[Zn]/2-Bs-Ko-gl-us.mainAxis:Wo-Ko-gl-us.mainAxis,io=Qi?-Zi[Zn]/2+Bs+Ko+Ls+us.mainAxis:no+Ko+Ls+us.mainAxis,$a=p.elements.arrow&&Tc(p.elements.arrow),wT=$a?"y"===_i?$a.clientTop||0:$a.clientLeft||0:0,V_=null!=(to=ks?.[_i])?to:0,SD=fi+io-V_,Ku=Id(In?Sd(Mi,fi+Fo-V_-wT):Mi,fi,In?lu(or,SD):or);zi[_i]=Ku,eo[_i]=Ku-fi}if(De){var j_,hc=zi[nr],Yf="y"===nr?"height":"width",$_=hc+oi["x"===_i?ya:_a],G_=hc-oi["x"===_i?sl:ol],ch=-1!==[ya,_a].indexOf(wi),jg=null!=(j_=ks?.[nr])?j_:0,H_=ch?$_:hc-Zi[Yf]-ir[Yf]-jg+us.altAxis,uh=ch?hc+Zi[Yf]+ir[Yf]-jg-us.altAxis:G_,Xf=In&&ch?function Kp(s,p,n){var a=Id(s,p,n);return a>n?n:a}(H_,hc,uh):Id(In?H_:$_,hc,In?uh:G_);zi[nr]=Xf,eo[nr]=Xf-hc}p.modifiersData[a]=eo}},requiresIfExists:["offset"]},oI={name:"arrow",enabled:!0,phase:"main",fn:function rI(s){var p,n=s.state,a=s.name,l=s.options,D=n.elements.arrow,ee=n.modifiersData.popperOffsets,De=rl(n.placement),Ze=n0(De),Vt=[_a,ol].indexOf(De)>=0?"height":"width";if(D&&ee){var ln=function(p,n){return s0("number"!=typeof(p="function"==typeof p?p(Object.assign({},n.rects,{placement:n.placement})):p)?p:o0(p,kl))}(l.padding,n),Cn=a0(D),In="y"===Ze?ya:_a,Fn="y"===Ze?sl:ol,On=n.rects.reference[Vt]+n.rects.reference[Ze]-ee[Ze]-n.rects.popper[Vt],oi=ee[Ze]-n.rects.reference[Ze],wi=Tc(D),Si=wi?"y"===Ze?wi.clientHeight||0:wi.clientWidth||0:0,zi=Si/2-Cn[Vt]/2+(On/2-oi/2),Zi=Id(ln[In],zi,Si-Cn[Vt]-ln[Fn]);n.modifiersData[a]=((p={})[Ze]=Zi,p.centerOffset=Zi-zi,p)}},effect:function sI(s){var p=s.state,a=s.options.element,l=void 0===a?"[data-popper-arrow]":a;null!=l&&("string"==typeof l&&!(l=p.elements.popper.querySelector(l))||Hp(p.elements.popper,l)&&(p.elements.arrow=l))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Uh(s,p,n){void 0===n&&(n=!1);var a=oa(p),l=oa(p)&&function Lh(s){var p=s.getBoundingClientRect(),n=cu(p.width)/s.offsetWidth||1,a=cu(p.height)/s.offsetHeight||1;return 1!==n||1!==a}(p),D=wc(p),ee=uu(s,l,n),De={scrollLeft:0,scrollTop:0},Ze={x:0,y:0};return(a||!a&&!n)&&(("body"!==ll(p)||Fh(D))&&(De=function bC(s){return s!==Ba(s)&&oa(s)?function aI(s){return{scrollLeft:s.scrollLeft,scrollTop:s.scrollTop}}(s):$p(s)}(p)),oa(p)?((Ze=uu(p,!0)).x+=p.clientLeft,Ze.y+=p.clientTop):D&&(Ze.x=Oh(D))),{x:ee.left+De.scrollLeft-Ze.x,y:ee.top+De.scrollTop-Ze.y,width:ee.width,height:ee.height}}function Yp(s){var p=new Map,n=new Set,a=[];function l(D){n.add(D.name),[].concat(D.requires||[],D.requiresIfExists||[]).forEach(function(De){if(!n.has(De)){var Ze=p.get(De);Ze&&l(Ze)}}),a.push(D)}return s.forEach(function(D){p.set(D.name,D)}),s.forEach(function(D){n.has(D.name)||l(D)}),a}function c0(s){var p;return function(){return p||(p=new Promise(function(n){Promise.resolve().then(function(){p=void 0,n(s())})})),p}}var Xp={placement:"bottom",modifiers:[],strategy:"absolute"};function Jp(){for(var s=arguments.length,p=new Array(s),n=0;n<s;n++)p[n]=arguments[n];return!p.some(function(a){return!(a&&"function"==typeof a.getBoundingClientRect)})}function hu(s){void 0===s&&(s={});var n=s.defaultModifiers,a=void 0===n?[]:n,l=s.defaultOptions,D=void 0===l?Xp:l;return function(De,Ze,gt){void 0===gt&&(gt=D);var Vt={placement:"bottom",orderedModifiers:[],options:Object.assign({},Xp,D),modifiersData:{},elements:{reference:De,popper:Ze},attributes:{},styles:{}},ln=[],Cn=!1,In={state:Vt,setOptions:function(wi){var Si="function"==typeof wi?wi(Vt.options):wi;On(),Vt.options=Object.assign({},D,Vt.options,Si),Vt.scrollParents={reference:au(De)?Ed(De):De.contextElement?Ed(De.contextElement):[],popper:Ed(Ze)};var Qi=function l0(s){var p=Yp(s);return tI.reduce(function(n,a){return n.concat(p.filter(function(l){return l.phase===a}))},[])}(function u0(s){var p=s.reduce(function(n,a){var l=n[a.name];return n[a.name]=l?Object.assign({},l,a,{options:Object.assign({},l.options,a.options),data:Object.assign({},l.data,a.data)}):a,n},{});return Object.keys(p).map(function(n){return p[n]})}([].concat(a,Vt.options.modifiers)));return Vt.orderedModifiers=Qi.filter(function(_i){return _i.enabled}),function Fn(){Vt.orderedModifiers.forEach(function(oi){var Si=oi.options,_i=oi.effect;if("function"==typeof _i){var nr=_i({state:Vt,name:oi.name,instance:In,options:void 0===Si?{}:Si});ln.push(nr||function(){})}})}(),In.update()},forceUpdate:function(){if(!Cn){var wi=Vt.elements,Si=wi.reference,Qi=wi.popper;if(Jp(Si,Qi)){Vt.rects={reference:Uh(Si,Tc(Qi),"fixed"===Vt.options.strategy),popper:a0(Qi)},Vt.reset=!1,Vt.placement=Vt.options.placement,Vt.orderedModifiers.forEach(function(us){return Vt.modifiersData[us.name]=Object.assign({},us.data)});for(var _i=0;_i<Vt.orderedModifiers.length;_i++)if(!0!==Vt.reset){var nr=Vt.orderedModifiers[_i],zi=nr.fn,Zi=nr.options;"function"==typeof zi&&(Vt=zi({state:Vt,options:void 0===Zi?{}:Zi,name:nr.name,instance:In})||Vt)}else Vt.reset=!1,_i=-1}}},update:c0(function(){return new Promise(function(oi){In.forceUpdate(),oi(Vt)})}),destroy:function(){On(),Cn=!0}};if(!Jp(De,Ze))return In;function On(){ln.forEach(function(oi){return oi()}),ln=[]}return In.setOptions(gt).then(function(oi){!Cn&&gt.onFirstUpdate&&gt.onFirstUpdate(oi)}),In}}var cl={passive:!0};const lI={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function d0(s){var p=s.state,n=s.instance,a=s.options,l=a.scroll,D=void 0===l||l,ee=a.resize,De=void 0===ee||ee,Ze=Ba(p.elements.popper),gt=[].concat(p.scrollParents.reference,p.scrollParents.popper);return D&&gt.forEach(function(Vt){Vt.addEventListener("scroll",n.update,cl)}),De&&Ze.addEventListener("resize",n.update,cl),function(){D&&gt.forEach(function(Vt){Vt.removeEventListener("scroll",n.update,cl)}),De&&Ze.removeEventListener("resize",n.update,cl)}},data:{}},cI={name:"popperOffsets",enabled:!0,phase:"read",fn:function CC(s){var p=s.state;p.modifiersData[s.name]=du({reference:p.rects.reference,element:p.rects.popper,strategy:"absolute",placement:p.placement})},data:{}};var uI={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Qp(s){var p,n=s.popper,a=s.popperRect,l=s.placement,D=s.variation,ee=s.offsets,De=s.position,Ze=s.gpuAcceleration,gt=s.adaptive,Vt=s.roundOffsets,ln=s.isFixed,Cn=ee.x,In=void 0===Cn?0:Cn,Fn=ee.y,On=void 0===Fn?0:Fn,oi="function"==typeof Vt?Vt({x:In,y:On}):{x:In,y:On};In=oi.x,On=oi.y;var wi=ee.hasOwnProperty("x"),Si=ee.hasOwnProperty("y"),Qi=_a,_i=ya,nr=window;if(gt){var zi=Tc(n),Zi="clientHeight",ir="clientWidth";zi===Ba(n)&&"static"!==Kl(zi=wc(n)).position&&"absolute"===De&&(Zi="scrollHeight",ir="scrollWidth"),(l===ya||(l===_a||l===ol)&&D===_d)&&(_i=sl,On-=(ln&&zi===nr&&nr.visualViewport?nr.visualViewport.height:zi[Zi])-a.height,On*=Ze?1:-1),l!==_a&&(l!==ya&&l!==sl||D!==_d)||(Qi=ol,In-=(ln&&zi===nr&&nr.visualViewport?nr.visualViewport.width:zi[ir])-a.width,In*=Ze?1:-1)}var to,ks=Object.assign({position:De},gt&&uI),eo=!0===Vt?function h0(s,p){var a=s.y,l=p.devicePixelRatio||1;return{x:cu(s.x*l)/l||0,y:cu(a*l)/l||0}}({x:In,y:On},Ba(n)):{x:In,y:On};return In=eo.x,On=eo.y,Object.assign({},ks,Ze?((to={})[_i]=Si?"0":"",to[Qi]=wi?"0":"",to.transform=(nr.devicePixelRatio||1)<=1?"translate("+In+"px, "+On+"px)":"translate3d("+In+"px, "+On+"px, 0)",to):((p={})[_i]=Si?On+"px":"",p[Qi]=wi?In+"px":"",p.transform="",p))}const Vh={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function dI(s){var p=s.state,n=s.options,a=n.gpuAcceleration,l=void 0===a||a,D=n.adaptive,ee=void 0===D||D,De=n.roundOffsets,Ze=void 0===De||De,gt={placement:rl(p.placement),variation:Td(p.placement),popper:p.elements.popper,popperRect:p.rects.popper,gpuAcceleration:l,isFixed:"fixed"===p.options.strategy};null!=p.modifiersData.popperOffsets&&(p.styles.popper=Object.assign({},p.styles.popper,Qp(Object.assign({},gt,{offsets:p.modifiersData.popperOffsets,position:p.options.strategy,adaptive:ee,roundOffsets:Ze})))),null!=p.modifiersData.arrow&&(p.styles.arrow=Object.assign({},p.styles.arrow,Qp(Object.assign({},gt,{offsets:p.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:Ze})))),p.attributes.popper=Object.assign({},p.attributes.popper,{"data-popper-placement":p.placement})},data:{}};var fu=[lI,cI,Vh,{name:"applyStyles",enabled:!0,phase:"write",fn:function Zp(s){var p=s.state;Object.keys(p.elements).forEach(function(n){var a=p.styles[n]||{},l=p.attributes[n]||{},D=p.elements[n];!oa(D)||!ll(D)||(Object.assign(D.style,a),Object.keys(l).forEach(function(ee){var De=l[ee];!1===De?D.removeAttribute(ee):D.setAttribute(ee,!0===De?"":De)}))})},effect:function qp(s){var p=s.state,n={popper:{position:p.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(p.elements.popper.style,n.popper),p.styles=n,p.elements.arrow&&Object.assign(p.elements.arrow.style,n.arrow),function(){Object.keys(p.elements).forEach(function(a){var l=p.elements[a],D=p.attributes[a]||{},De=Object.keys(p.styles.hasOwnProperty(a)?p.styles[a]:n[a]).reduce(function(Ze,gt){return Ze[gt]="",Ze},{});!oa(l)||!ll(l)||(Object.assign(l.style,De),Object.keys(D).forEach(function(Ze){l.removeAttribute(Ze)}))})}},requires:["computeStyles"]}],em=hu({defaultModifiers:fu});const jh={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function tm(s){var p=s.state,a=s.name,l=s.options.offset,D=void 0===l?[0,0]:l,ee=Y1.reduce(function(Vt,ln){return Vt[ln]=function f0(s,p,n){var a=rl(s),l=[_a,ya].indexOf(a)>=0?-1:1,D="function"==typeof n?n(Object.assign({},p,{placement:s})):n,ee=D[0],De=D[1];return ee=ee||0,De=(De||0)*l,[_a,ol].indexOf(a)>=0?{x:De,y:ee}:{x:ee,y:De}}(ln,p.rects,D),Vt},{}),De=ee[p.placement],gt=De.y;null!=p.modifiersData.popperOffsets&&(p.modifiersData.popperOffsets.x+=De.x,p.modifiersData.popperOffsets.y+=gt),p.modifiersData[a]=ee}},wC=["*"],E0=["dialog"],fm={animation:!0,transitionTimerDelayMs:5};let Dc=(()=>{class s{constructor(){this.animation=fm.animation}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();function Yl(s){return"string"==typeof s}function Ac(s){return null!=s}function Rc(s){return(s||document.body).getBoundingClientRect()}function Jh(s=document){const p=s?.activeElement;return p?p.shadowRoot?Jh(p.shadowRoot):p:null}const xd=()=>{},{transitionTimerDelayMs:U0}=fm,yu=new Map,Ua=(s,p,n,a)=>{let l=a.context||{};const D=yu.get(p);if(D)switch(a.runningTransition){case"continue":return Il.w;case"stop":s.run(()=>D.transition$.complete()),l=Object.assign(D.context,l),yu.delete(p)}const ee=n(p,a.animation,l)||xd;if(!a.animation||"none"===window.getComputedStyle(p).transitionProperty)return s.run(()=>ee()),(0,ia.of)(void 0).pipe(function vu(s){return p=>new Ml.c(n=>p.subscribe({next:ee=>s.run(()=>n.next(ee)),error:ee=>s.run(()=>n.error(ee)),complete:()=>s.run(()=>n.complete())}))}(s));const De=new Ar.B,Ze=new Ar.B,gt=De.pipe(function Lp(...s){return p=>(0,kh.x)(p,(0,ia.of)(...s))}(!0));yu.set(p,{transition$:De,complete:()=>{Ze.next(),Ze.complete()},context:l});const Vt=function EI(s){const{transitionDelay:p,transitionDuration:n}=window.getComputedStyle(s);return 1e3*(parseFloat(p)+parseFloat(n))}(p);return s.runOutsideAngular(()=>{const ln=(0,yo.R)(p,"transitionend").pipe((0,To.Q)(gt),(0,No.p)(({target:In})=>In===p));vd((0,Fp.O)(Vt+U0).pipe((0,To.Q)(gt)),ln,Ze).pipe((0,To.Q)(gt)).subscribe(()=>{yu.delete(p),s.run(()=>{ee(),De.next(),De.complete()})})}),De.asObservable()};let mm=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({})}}return s})(),W0=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({})}}return s})(),z0=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({})}}return s})(),Y0=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({})}}return s})();var ts=function(s){return s[s.Tab=9]="Tab",s[s.Enter=13]="Enter",s[s.Escape=27]="Escape",s[s.Space=32]="Space",s[s.PageUp=33]="PageUp",s[s.PageDown=34]="PageDown",s[s.End=35]="End",s[s.Home=36]="Home",s[s.ArrowLeft=37]="ArrowLeft",s[s.ArrowUp=38]="ArrowUp",s[s.ArrowRight=39]="ArrowRight",s[s.ArrowDown=40]="ArrowDown",s}(ts||{});const lf=(s,p)=>!!p&&p.some(n=>n.contains(s)),Fc=(s,p)=>!p||null!=function Md(s,p){return!p||typeof s.closest>"u"?null:s.closest(p)}(s,p),cf=typeof navigator<"u"&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const ev=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Em(s){const p=Array.from(s.querySelectorAll(ev)).filter(n=>-1!==n.tabIndex);return[p[0],p[p.length-1]]}let mw=(()=>{class s{constructor(){this._element=(0,e.WQX)(pn.qQ).documentElement}isRTL(){return"rtl"===(this._element.getAttribute("dir")||"").toLowerCase()}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();const Pd=/\s+/,tv=/  +/gi,gw={top:["top"],bottom:["bottom"],start:["left","right"],left:["left"],end:["right","left"],right:["right"],"top-start":["top-start","top-end"],"top-left":["top-start"],"top-end":["top-end","top-start"],"top-right":["top-end"],"bottom-start":["bottom-start","bottom-end"],"bottom-left":["bottom-start"],"bottom-end":["bottom-end","bottom-start"],"bottom-right":["bottom-end"],"start-top":["left-start","right-start"],"left-top":["left-start"],"start-bottom":["left-end","right-end"],"left-bottom":["left-end"],"end-top":["right-start","left-start"],"right-top":["right-start"],"end-bottom":["right-end","left-end"],"right-bottom":["right-end"]},yw=/^left/,Tm=/^right/,NI=/^start/,nv=/^end/;function Im({placement:s,baseClass:p},n){let a=Array.isArray(s)?s:s.split(Pd),D=a.findIndex(gt=>"auto"===gt);D>=0&&["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"].forEach(function(gt){null==a.find(Vt=>-1!==Vt.search("^"+gt))&&a.splice(D++,1,gt)});const ee=a.map(gt=>function vw(s,p){const[n,a]=gw[s];return p&&a||n}(gt,n.isRTL()));return{placement:ee.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!p,phase:"write",fn({state:gt}){const Vt=new RegExp(p+"(-[a-z]+)*","gi"),ln=gt.elements.popper,Cn=gt.placement;let In=ln.className;In=In.replace(Vt,""),In+=` ${function Ol(s,p){let[n,a]=p.split("-");const l=n.replace(yw,"start").replace(Tm,"end");let D=[l];if(a){let ee=a;("left"===n||"right"===n)&&(ee=ee.replace(NI,"top").replace(nv,"bottom")),D.push(`${l}-${ee}`)}return s&&(D=D.map(ee=>`${s}-${ee}`)),D.join(" ")}(p,Cn)}`,In=In.trim().replace(tv," "),ln.className=In}},yC,zp,oI,{enabled:!0,name:"flip",options:{fallbackPlacements:ee}},{enabled:!0,name:"preventOverflow",phase:"main",fn:function(){}}]}}function iv(s){return s}new Date(1882,10,12),new Date(2174,10,25);let Fm=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({})}}return s})(),Pm=(()=>{class s{constructor(){this.autoClose=!0,this.placement=["bottom-start","bottom-end","top-start","top-end"],this.popperOptions=n=>n,this.container=null}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})(),Su=(()=>{class s{constructor(){this._disabled=!1,this.nativeElement=(0,e.WQX)(e.aKT).nativeElement,this.tabindex=0}set disabled(n){this._disabled=""===n||!0===n}get disabled(){return this._disabled}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275dir=e.FsC({type:s,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:3,hostBindings:function(a,l){2&a&&(e.Mr5("tabIndex",l.disabled?-1:l.tabindex),e.AVh("disabled",l.disabled))},inputs:{tabindex:"tabindex",disabled:"disabled"},standalone:!0})}}return s})(),vf=(()=>{class s{constructor(){this.item=(0,e.WQX)(Su)}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275dir=e.FsC({type:s,selectors:[["button","ngbDropdownItem",""]],hostVars:1,hostBindings:function(a,l){2&a&&e.Mr5("disabled",l.item.disabled)},standalone:!0})}}return s})(),yf=(()=>{class s{constructor(){this.dropdown=(0,e.WQX)(Bm),this.nativeElement=(0,e.WQX)(e.aKT).nativeElement}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275dir=e.FsC({type:s,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(a,l,D){if(1&a&&e.wni(D,Su,4),2&a){let ee;e.mGM(ee=e.lsd())&&(l.menuItems=ee)}},hostVars:4,hostBindings:function(a,l){1&a&&e.bIt("keydown.ArrowUp",function(ee){return l.dropdown.onKeyDown(ee)})("keydown.ArrowDown",function(ee){return l.dropdown.onKeyDown(ee)})("keydown.Home",function(ee){return l.dropdown.onKeyDown(ee)})("keydown.End",function(ee){return l.dropdown.onKeyDown(ee)})("keydown.Enter",function(ee){return l.dropdown.onKeyDown(ee)})("keydown.Space",function(ee){return l.dropdown.onKeyDown(ee)})("keydown.Tab",function(ee){return l.dropdown.onKeyDown(ee)})("keydown.Shift.Tab",function(ee){return l.dropdown.onKeyDown(ee)}),2&a&&e.AVh("dropdown-menu",!0)("show",l.dropdown.isOpen())},standalone:!0})}}return s})(),$d=(()=>{class s{constructor(){this.dropdown=(0,e.WQX)(Bm),this.nativeElement=(0,e.WQX)(e.aKT).nativeElement}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275dir=e.FsC({type:s,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:3,hostBindings:function(a,l){2&a&&(e.BMQ("aria-expanded",l.dropdown.isOpen()),e.AVh("show",l.dropdown.isOpen()))},standalone:!0})}}return s})(),bv=(()=>{class s extends $d{static{this.\u0275fac=(()=>{let n;return function(l){return(n||(n=e.xGo(s)))(l||s)}})()}static{this.\u0275dir=e.FsC({type:s,selectors:[["","ngbDropdownToggle",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:3,hostBindings:function(a,l){1&a&&e.bIt("click",function(){return l.dropdown.toggle()})("keydown.ArrowUp",function(ee){return l.dropdown.onKeyDown(ee)})("keydown.ArrowDown",function(ee){return l.dropdown.onKeyDown(ee)})("keydown.Home",function(ee){return l.dropdown.onKeyDown(ee)})("keydown.End",function(ee){return l.dropdown.onKeyDown(ee)})("keydown.Tab",function(ee){return l.dropdown.onKeyDown(ee)})("keydown.Shift.Tab",function(ee){return l.dropdown.onKeyDown(ee)}),2&a&&(e.BMQ("aria-expanded",l.dropdown.isOpen()),e.AVh("show",l.dropdown.isOpen()))},standalone:!0,features:[e.Jv_([{provide:$d,useExisting:(0,e.Rfq)(()=>s)}]),e.Vt3]})}}return s})(),Bm=(()=>{class s{constructor(){this._changeDetector=(0,e.WQX)(e.gRc),this._config=(0,e.WQX)(Pm),this._document=(0,e.WQX)(pn.qQ),this._ngZone=(0,e.WQX)(e.SKi),this._nativeElement=(0,e.WQX)(e.aKT).nativeElement,this._destroyCloseHandlers$=new Ar.B,this._bodyContainer=null,this._positioning=function _w(){const s=(0,e.WQX)(mw);let p=null;return{createPopper(n){if(!p){let l=(n.updatePopperOptions||iv)(Im(n,s));p=em(n.hostElement,n.targetElement,l)}},update(){p&&p.update()},setOptions(n){if(p){let l=(n.updatePopperOptions||iv)(Im(n,s));p.setOptions(l)}},destroy(){p&&(p.destroy(),p=null)}}}(),this.autoClose=this._config.autoClose,this._open=!1,this.placement=this._config.placement,this.popperOptions=this._config.popperOptions,this.container=this._config.container,this.openChange=new e.bkB}ngOnInit(){this.display||(this.display=this._nativeElement.closest(".navbar")?"static":"dynamic")}ngAfterContentInit(){this._ngZone.onStable.pipe((0,xl.s)(1)).subscribe(()=>{this._applyPlacementClasses(),this._open&&this._setCloseHandlers()})}ngOnChanges(n){if(n.container&&this._open&&this._applyContainer(this.container),n.placement&&!n.placement.firstChange&&(this._positioning.setOptions({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:"body"===this.container}),this._applyPlacementClasses()),n.dropdownClass){const{currentValue:a,previousValue:l}=n.dropdownClass;this._applyCustomDropdownClass(a,l)}n.autoClose&&this._open&&(this.autoClose=n.autoClose.currentValue,this._setCloseHandlers())}isOpen(){return this._open}open(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&(this._anchor.nativeElement.focus(),"dynamic"===this.display&&this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:"body"===this.container,updatePopperOptions:n=>this.popperOptions(function ov(s){return p=>(p.modifiers.push(jh,{name:"offset",options:{offset:()=>s}}),p)}([0,2])(n))}),this._applyPlacementClasses(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positionMenu())})))}_setCloseHandlers(){this._destroyCloseHandlers$.next(),function Sm(s,p,n,a,l,D,ee,De){n&&s.runOutsideAngular((s=>cf?()=>setTimeout(()=>s(),100):s)(()=>{const gt=(0,yo.R)(p,"keydown").pipe((0,To.Q)(l),(0,No.p)(Cn=>Cn.which===ts.Escape),(0,G1.M)(Cn=>Cn.preventDefault())),Vt=(0,yo.R)(p,"mousedown").pipe((0,Ci.T)(Cn=>{const In=Cn.target;return 2!==Cn.button&&!lf(In,ee)&&("inside"===n?lf(In,D)&&Fc(In,De):"outside"===n?!lf(In,D):Fc(In,De)||!lf(In,D))}),(0,To.Q)(l)),ln=(0,yo.R)(p,"mouseup").pipe((0,H1.E)(Vt),(0,No.p)(([Cn,In])=>In),(0,ta.c)(0),(0,To.Q)(l));vd([gt.pipe((0,Ci.T)(Cn=>0)),ln.pipe((0,Ci.T)(Cn=>1))]).subscribe(Cn=>s.run(()=>a(Cn)))}))}(this._ngZone,this._document,this.autoClose,n=>{this.close(),0===n&&this._anchor.nativeElement.focus()},this._destroyCloseHandlers$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}close(){this._open&&(this._open=!1,this._resetContainer(),this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this._destroyCloseHandlers$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}toggle(){this.isOpen()?this.close():this.open()}ngOnDestroy(){this.close()}onKeyDown(n){const a=n.which,l=this._getMenuElements();let D=-1,ee=null;const De=this._isEventFromToggle(n);if(!De&&l.length&&l.forEach((Ze,gt)=>{Ze.contains(n.target)&&(ee=Ze),Ze===Jh(this._document)&&(D=gt)}),a!==ts.Space&&a!==ts.Enter){if(a!==ts.Tab){if(De||ee){if(this.open(),l.length){switch(a){case ts.ArrowDown:D=Math.min(D+1,l.length-1);break;case ts.ArrowUp:if(this._isDropup()&&-1===D){D=l.length-1;break}D=Math.max(D-1,0);break;case ts.Home:D=0;break;case ts.End:D=l.length-1}l[D].focus()}n.preventDefault()}}else if(n.target&&this.isOpen()&&this.autoClose){if(this._anchor.nativeElement===n.target)return void("body"!==this.container||n.shiftKey?n.shiftKey&&this.close():(this._menu.nativeElement.setAttribute("tabindex","0"),this._menu.nativeElement.focus(),this._menu.nativeElement.removeAttribute("tabindex")));if("body"===this.container){const Ze=this._menu.nativeElement.querySelectorAll(ev);n.shiftKey&&n.target===Ze[0]?(this._anchor.nativeElement.focus(),n.preventDefault()):!n.shiftKey&&n.target===Ze[Ze.length-1]&&(this._anchor.nativeElement.focus(),this.close())}else(0,yo.R)(n.target,"focusout").pipe((0,xl.s)(1)).subscribe(({relatedTarget:Ze})=>{this._nativeElement.contains(Ze)||this.close()})}}else ee&&(!0===this.autoClose||"inside"===this.autoClose)&&(0,yo.R)(ee,"click").pipe((0,xl.s)(1)).subscribe(()=>this.close())}_isDropup(){return this._nativeElement.classList.contains("dropup")}_isEventFromToggle(n){return this._anchor.nativeElement.contains(n.target)}_getMenuElements(){return this._menu?this._menu.menuItems.filter(({disabled:n})=>!n).map(({nativeElement:n})=>n):[]}_positionMenu(){const n=this._menu;this.isOpen()&&n&&("dynamic"===this.display?(this._positioning.update(),this._applyPlacementClasses()):this._applyPlacementClasses(this._getFirstPlacement(this.placement)))}_getFirstPlacement(n){return Array.isArray(n)?n[0]:n.split(" ")[0]}_resetContainer(){this._menu&&this._nativeElement.appendChild(this._menu.nativeElement),this._bodyContainer&&(this._document.body.removeChild(this._bodyContainer),this._bodyContainer=null)}_applyContainer(n=null){if(this._resetContainer(),"body"===n){const a=this._menu.nativeElement,l=this._bodyContainer=this._bodyContainer||this._document.createElement("div");l.style.position="absolute",a.style.position="static",l.style.zIndex="1055",l.appendChild(a),this._document.body.appendChild(l)}this._applyCustomDropdownClass(this.dropdownClass)}_applyCustomDropdownClass(n,a){const l="body"===this.container?this._bodyContainer:this._nativeElement;l&&(a&&l.classList.remove(a),n&&l.classList.add(n))}_applyPlacementClasses(n){if(this._menu){n||(n=this._getFirstPlacement(this.placement)),this._nativeElement.classList.remove("dropup","dropdown"),"static"===this.display?this._menu.nativeElement.setAttribute("data-bs-popper","static"):this._menu.nativeElement.removeAttribute("data-bs-popper");const a=-1!==n.search("^top")?"dropup":"dropdown";this._nativeElement.classList.add(a),this._bodyContainer&&(this._bodyContainer.classList.remove("dropup","dropdown"),this._bodyContainer.classList.add(a))}}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275dir=e.FsC({type:s,selectors:[["","ngbDropdown",""]],contentQueries:function(a,l,D){if(1&a&&(e.wni(D,yf,5),e.wni(D,$d,5)),2&a){let ee;e.mGM(ee=e.lsd())&&(l._menu=ee.first),e.mGM(ee=e.lsd())&&(l._anchor=ee.first)}},hostVars:2,hostBindings:function(a,l){2&a&&e.AVh("show",l.isOpen())},inputs:{autoClose:"autoClose",dropdownClass:"dropdownClass",_open:[e.Mj6.None,"open","_open"],placement:"placement",popperOptions:"popperOptions",container:"container",display:"display"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],standalone:!0,features:[e.OA$]})}}return s})(),Lm=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({})}}return s})(),WI=(()=>{class s{constructor(){this._ngbConfig=(0,e.WQX)(Dc),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(n){this._animation=n}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();class Eu{constructor(p,n,a){this.nodes=p,this.viewRef=n,this.componentRef=a}}let KI=(()=>{class s{constructor(){this._document=(0,e.WQX)(pn.qQ)}hide(){const n=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),a=this._document.body,l=a.style,{overflow:D,paddingRight:ee}=l;if(n>0){const De=parseFloat(window.getComputedStyle(a).paddingRight);l.paddingRight=`${De+n}px`}return l.overflow="hidden",()=>{n>0&&(l.paddingRight=ee),l.overflow=D}}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})(),zI=(()=>{class s{constructor(){this._nativeElement=(0,e.WQX)(e.aKT).nativeElement,this._zone=(0,e.WQX)(e.SKi)}ngOnInit(){this._zone.onStable.asObservable().pipe((0,xl.s)(1)).subscribe(()=>{Ua(this._zone,this._nativeElement,(n,a)=>{a&&Rc(n),n.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Ua(this._zone,this._nativeElement,({classList:n})=>n.remove("show"),{animation:this.animation,runningTransition:"stop"})}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(a,l){2&a&&(e.HbH("modal-backdrop"+(l.backdropClass?" "+l.backdropClass:"")),e.AVh("show",!l.animation)("fade",l.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[e.aNF],decls:0,vars:0,template:function(a,l){},encapsulation:2})}}return s})();class Um{update(p){}close(p){}dismiss(p){}}const Cv=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],YI=["animation","backdropClass"];class XI{_applyWindowOptions(p,n){Cv.forEach(a=>{Ac(n[a])&&(p[a]=n[a])})}_applyBackdropOptions(p,n){YI.forEach(a=>{Ac(n[a])&&(p[a]=n[a])})}update(p){this._applyWindowOptions(this._windowCmptRef.instance,p),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,p)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,To.Q)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,To.Q)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(p,n,a,l){this._windowCmptRef=p,this._contentRef=n,this._backdropCmptRef=a,this._beforeDismiss=l,this._closed=new Ar.B,this._dismissed=new Ar.B,this._hidden=new Ar.B,p.instance.dismissEvent.subscribe(D=>{this.dismiss(D)}),this.result=new Promise((D,ee)=>{this._resolve=D,this._reject=ee}),this.result.then(null,()=>{})}close(p){this._windowCmptRef&&(this._closed.next(p),this._resolve(p),this._removeModalElements())}_dismiss(p){this._dismissed.next(p),this._reject(p),this._removeModalElements()}dismiss(p){if(this._windowCmptRef)if(this._beforeDismiss){const n=this._beforeDismiss();!function L0(s){return s&&s.then}(n)?!1!==n&&this._dismiss(p):n.then(a=>{!1!==a&&this._dismiss(p)},()=>{})}else this._dismiss(p)}_removeModalElements(){const p=this._windowCmptRef.instance.hide(),n=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,ia.of)(void 0);p.subscribe(()=>{const{nativeElement:a}=this._windowCmptRef.location;a.parentNode.removeChild(a),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),n.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:a}=this._backdropCmptRef.location;a.parentNode.removeChild(a),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),xh(p,n).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var wv=function(s){return s[s.BACKDROP_CLICK=0]="BACKDROP_CLICK",s[s.ESC=1]="ESC",s}(wv||{});let JI=(()=>{class s{constructor(){this._document=(0,e.WQX)(pn.qQ),this._elRef=(0,e.WQX)(e.aKT),this._zone=(0,e.WQX)(e.SKi),this._closed$=new Ar.B,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new e.bkB,this.shown=new Ar.B,this.hidden=new Ar.B}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Yl(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(n){this.dismissEvent.emit(n)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,xl.s)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:n}=this._elRef,a={animation:this.animation,runningTransition:"stop"},ee=xh(Ua(this._zone,n,()=>n.classList.remove("show"),a),Ua(this._zone,this._dialogEl.nativeElement,()=>{},a));return ee.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),ee}_show(){const n={animation:this.animation,runningTransition:"continue"};xh(Ua(this._zone,this._elRef.nativeElement,(D,ee)=>{ee&&Rc(D),D.classList.add("show")},n),Ua(this._zone,this._dialogEl.nativeElement,()=>{},n)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:n}=this._elRef;this._zone.runOutsideAngular(()=>{(0,yo.R)(n,"keydown").pipe((0,To.Q)(this._closed$),(0,No.p)(l=>l.which===ts.Escape)).subscribe(l=>{this.keyboard?requestAnimationFrame(()=>{l.defaultPrevented||this._zone.run(()=>this.dismiss(wv.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let a=!1;(0,yo.R)(this._dialogEl.nativeElement,"mousedown").pipe((0,To.Q)(this._closed$),(0,G1.M)(()=>a=!1),(0,su.n)(()=>(0,yo.R)(n,"mouseup").pipe((0,To.Q)(this._closed$),(0,xl.s)(1))),(0,No.p)(({target:l})=>n===l)).subscribe(()=>{a=!0}),(0,yo.R)(n,"click").pipe((0,To.Q)(this._closed$)).subscribe(({target:l})=>{n===l&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!a&&this._zone.run(()=>this.dismiss(wv.BACKDROP_CLICK))),a=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:n}=this._elRef;if(!n.contains(document.activeElement)){const a=n.querySelector("[ngbAutofocus]"),l=Em(n)[0];(a||l||n).focus()}}_restoreFocus(){const n=this._document.body,a=this._elWithFocus;let l;l=a&&a.focus&&n.contains(a)?a:n,this._zone.runOutsideAngular(()=>{setTimeout(()=>l.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Ua(this._zone,this._elRef.nativeElement,({classList:n})=>(n.add("modal-static"),()=>n.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["ngb-modal-window"]],viewQuery:function(a,l){if(1&a&&e.GBs(E0,7),2&a){let D;e.mGM(D=e.lsd())&&(l._dialogEl=D.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(a,l){2&a&&(e.BMQ("aria-modal",!0)("aria-labelledby",l.ariaLabelledBy)("aria-describedby",l.ariaDescribedBy),e.HbH("modal d-block"+(l.windowClass?" "+l.windowClass:"")),e.AVh("fade",l.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[e.aNF],ngContentSelectors:wC,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(a,l){1&a&&(e.NAR(),e.j41(0,"div",1,0)(2,"div",2),e.SdG(3),e.k0s()()),2&a&&e.HbH("modal-dialog"+(l.size?" modal-"+l.size:"")+(l.centered?" modal-dialog-centered":"")+l.fullscreenClass+(l.scrollable?" modal-dialog-scrollable":"")+(l.modalDialogClass?" "+l.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}}return s})(),QI=(()=>{class s{constructor(){this._applicationRef=(0,e.WQX)(e.o8S),this._injector=(0,e.WQX)(e.zZn),this._environmentInjector=(0,e.WQX)(e.uvJ),this._document=(0,e.WQX)(pn.qQ),this._scrollBar=(0,e.WQX)(KI),this._activeWindowCmptHasChanged=new Ar.B,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new e.bkB;const n=(0,e.WQX)(e.SKi);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const a=this._windowCmpts[this._windowCmpts.length-1];((s,p,n,a=!1)=>{s.runOutsideAngular(()=>{const l=(0,yo.R)(p,"focusin").pipe((0,To.Q)(n),(0,Ci.T)(D=>D.target));(0,yo.R)(p,"keydown").pipe((0,To.Q)(n),(0,No.p)(D=>D.which===ts.Tab),(0,H1.E)(l)).subscribe(([D,ee])=>{const[De,Ze]=Em(p);(ee===De||ee===p)&&D.shiftKey&&(Ze.focus(),D.preventDefault()),ee===Ze&&!D.shiftKey&&(De.focus(),D.preventDefault())}),a&&(0,yo.R)(p,"click").pipe((0,To.Q)(n),(0,H1.E)(l),(0,Ci.T)(D=>D[1])).subscribe(D=>D.focus())})})(n,a.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(a.location.nativeElement)}})}_restoreScrollBar(){const n=this._scrollBarRestoreFn;n&&(this._scrollBarRestoreFn=null,n())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(n,a,l){const D=l.container instanceof HTMLElement?l.container:Ac(l.container)?this._document.querySelector(l.container):this._document.body;if(!D)throw new Error(`The specified modal container "${l.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const ee=new Um,De=(n=l.injector||n).get(e.uvJ,null)||this._environmentInjector,Ze=this._getContentRef(n,De,a,ee,l);let gt=!1!==l.backdrop?this._attachBackdrop(D):void 0,Vt=this._attachWindowComponent(D,Ze.nodes),ln=new XI(Vt,Ze,gt,l.beforeDismiss);return this._registerModalRef(ln),this._registerWindowCmpt(Vt),ln.hidden.pipe((0,xl.s)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),ee.close=Cn=>{ln.close(Cn)},ee.dismiss=Cn=>{ln.dismiss(Cn)},ee.update=Cn=>{ln.update(Cn)},ln.update(l),1===this._modalRefs.length&&this._document.body.classList.add("modal-open"),gt&&gt.instance&&gt.changeDetectorRef.detectChanges(),Vt.changeDetectorRef.detectChanges(),ln}get activeInstances(){return this._activeInstances}dismissAll(n){this._modalRefs.forEach(a=>a.dismiss(n))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(n){let a=(0,e.a0P)(zI,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(a.hostView),n.appendChild(a.location.nativeElement),a}_attachWindowComponent(n,a){let l=(0,e.a0P)(JI,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:a});return this._applicationRef.attachView(l.hostView),n.appendChild(l.location.nativeElement),l}_getContentRef(n,a,l,D,ee){return l?l instanceof e.C4Q?this._createFromTemplateRef(l,D):Yl(l)?this._createFromString(l):this._createFromComponent(n,a,l,D,ee):new Eu([])}_createFromTemplateRef(n,a){const D=n.createEmbeddedView({$implicit:a,close(ee){a.close(ee)},dismiss(ee){a.dismiss(ee)}});return this._applicationRef.attachView(D),new Eu([D.rootNodes],D)}_createFromString(n){const a=this._document.createTextNode(`${n}`);return new Eu([[a]])}_createFromComponent(n,a,l,D,ee){const De=e.zZn.create({providers:[{provide:Um,useValue:D}],parent:n}),Ze=(0,e.a0P)(l,{environmentInjector:a,elementInjector:De}),gt=Ze.location.nativeElement;return ee.scrollable&&gt.classList.add("component-host-scrollable"),this._applicationRef.attachView(Ze.hostView),new Eu([[gt]],Ze.hostView,Ze)}_setAriaHidden(n){const a=n.parentElement;a&&n!==this._document.body&&(Array.from(a.children).forEach(l=>{l!==n&&"SCRIPT"!==l.nodeName&&(this._ariaHiddenValues.set(l,l.getAttribute("aria-hidden")),l.setAttribute("aria-hidden","true"))}),this._setAriaHidden(a))}_revertAriaHidden(){this._ariaHiddenValues.forEach((n,a)=>{n?a.setAttribute("aria-hidden",n):a.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(n){const a=()=>{const l=this._modalRefs.indexOf(n);l>-1&&(this._modalRefs.splice(l,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(n),this._activeInstances.emit(this._modalRefs),n.result.then(a,a)}_registerWindowCmpt(n){this._windowCmpts.push(n),this._activeWindowCmptHasChanged.next(),n.onDestroy(()=>{const a=this._windowCmpts.indexOf(n);a>-1&&(this._windowCmpts.splice(a,1),this._activeWindowCmptHasChanged.next())})}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})(),ZI=(()=>{class s{constructor(){this._injector=(0,e.WQX)(e.zZn),this._modalStack=(0,e.WQX)(QI),this._config=(0,e.WQX)(WI)}open(n,a={}){const l={...this._config,animation:this._config.animation,...a};return this._modalStack.open(this._injector,n,l)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(n){this._modalStack.dismissAll(n)}hasOpenModals(){return this._modalStack.hasOpenModals()}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})(),zw=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({providers:[ZI]})}}return s})(),Sv=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({})}}return s})(),Dv=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({})}}return s})(),zm=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({})}}return s})(),Ym=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({})}}return s})(),Av=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({})}}return s})(),xv=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({})}}return s})(),Iu=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({})}}return s})(),Nv=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({})}}return s})(),Ov=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({})}}return s})();new e.nKC("live announcer delay",{providedIn:"root",factory:()=>100});let Yd=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({})}}return s})(),Pv=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({})}}return s})();const Ca=[mm,W0,z0,Y0,Fm,Lm,zw,Sv,Pv,Dv,zm,Ym,Av,xv,Iu,Nv,Ov,Yd];let Bv=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({imports:[Ca,mm,W0,z0,Y0,Fm,Lm,zw,Sv,Pv,Dv,zm,Ym,Av,xv,Iu,Nv,Ov,Yd]})}}return s})(),vS=(()=>{class s{intercept(n,a){if(n.url.startsWith("https://"))return a.handle(n);const l=(0,Ai.$_)(),D=n.clone({url:`${l}${n.url}`});return a.handle(D)}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac})}}return s})();class tg{constructor(p,n="/assets/i18n/",a=".json"){this.http=p,this.prefix=n,this.suffix=a}getTranslation(p){return this.http.get(`${this.prefix}${p}${this.suffix}`)}}var ng=u(3431),Lv=u(9625);let ig=(()=>{class s{constructor(){let n=new Lv.UAParser,a=n.getBrowser(),l=n.getOS();this.browserName=a.name,this.browserVersion=a.major,this.browserVersionToInt=parseInt(a.major),this.operatingSystem=l.name,this.operatingSystemVersion=l.version}validBrowser(){switch(this.browserName){case Pl.InternetExplorer:return this.verifyInternetExplorer();case Pl.Edge:return this.verifyEdge();case Pl.Firefox:return this.verifyFirefox();case Pl.Chrome:return this.verifyChrome();case Pl.Safari:case Pl.MobileSafari:return this.verifySafari();case Pl.Opera:case Pl.OperaMobile:return this.verifyOpera();case Pl.SamsungInternet:return this.verifySamsungInternet()}return!1}verifyInternetExplorer(){return this.browserVersion.startsWith("11")&&this.operatingSystem==Xd.Windows&&this.operatingSystemVersion.startsWith("10")}verifyEdge(){return this.browserVersionToInt>=16}verifyFirefox(){return this.operatingSystem==Xd.Android||this.operatingSystem==Xd.ApplePhone?this.browserVersionToInt>=92:this.browserVersionToInt>=60}verifyChrome(){return this.operatingSystem==Xd.Android||this.operatingSystem==Xd.ApplePhone?this.browserVersionToInt>=93:this.browserVersionToInt>=51}verifySafari(){const n=parseFloat(this.operatingSystemVersion);return this.browserName==Pl.MobileSafari?this.browserVersionToInt>=12:this.browserVersionToInt>14||this.browserVersionToInt>=12&&n>=10.14}verifyOpera(){return this.browserName==Pl.OperaMobile?this.browserVersionToInt>12:this.browserVersionToInt>=39}verifySamsungInternet(){return this.browserVersionToInt>=5}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac})}}return s})(),Pl=(()=>{class s{static{this.InternetExplorer="IE"}static{this.Edge="Edge"}static{this.Firefox="Firefox"}static{this.Chrome="Chrome"}static{this.Safari="Safari"}static{this.MobileSafari="Mobile Safari"}static{this.Opera="Opera"}static{this.OperaMobile="Opera Mobi"}static{this.SamsungInternet="Samsung Internet"}}return s})(),Xd=(()=>{class s{static{this.Windows="Windows"}static{this.Android="Android"}static{this.ApplePhone="iOS"}}return s})();var Jd=u(5060),Ef=u(8810);let Tf=(()=>{class s{static{this.EnforcerCompilationError=599}static{this.ExpiredTokenRedirect=413}}return s})(),Ru=(()=>{class s{constructor(n,a,l,D){this.router=n,this.localizeRouterService=a,this.appComponentViewService=l,this.securityService=D}intercept(n,a){return a.handle(n).pipe((0,na.W)(l=>{if(l.status===Tf.ExpiredTokenRedirect)return this.securityService.startLogin(),Jd.t;if(l.status===Tf.EnforcerCompilationError){this.appComponentViewService.failedEnforcerCompilation();const D=this.localizeRouterService.translateRoute("/unauthorized");return document.dispatchEvent(new Event("appready")),this.router.navigate([D],{state:{enforcer:!0}}),Jd.t}return(0,Ef.$)(()=>l)}))}static{this.\u0275fac=function(a){return new(a||s)(e.KVO(bt.Ix),e.KVO(Wn.QG),e.KVO(hs.X),e.KVO(Vr.i))}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac})}}return s})();var rg=u(3488),Qd=u(8400),Mu=u(7275),Zd=u(275),If=u(1957),Ji=u(3583);let cc=(()=>{class s{constructor(n,a){this.http=n,this.actionUrl="DynamicAuthentication",this.headers=a.setHeaders()}get(n,a,l,D){let ee=new S.Nl;return(0,Ai.gP)(n)||(ee=ee.append("scheme",n)),a&&(ee=ee.append("page",a)),l&&(ee=ee.append("pageSize",l)),(0,Ai.gP)(D)||(ee=ee.append("filters",D)),this.http.get(this.actionUrl,{headers:this.headers,params:ee})}createDynamicAuth(n){return this.http.post(this.actionUrl,n,{headers:this.headers})}getDynamicAuth(n){return this.http.get(`${this.actionUrl}/${n}`,{headers:this.headers})}updateDynamicAuth(n){return this.http.put(`${this.actionUrl}/${n.scheme}`,n,{headers:this.headers})}deleteDynamicAuth(n){return this.http.delete(`${this.actionUrl}/${n}`,{headers:this.headers})}replaceSigningCert(n,a,l){return this.http.put(`${this.actionUrl}/${n}/saml/sp/signing-certificate`,{certBase64:a,certPassword:l},{headers:this.headers})}removeSigningCert(n){return this.http.delete(`${this.actionUrl}/${n}/saml/sp/signing-certificate`,{headers:this.headers})}replaceEncryptionCert(n,a,l){return this.http.put(`${this.actionUrl}/${n}/saml/sp/encryption-certificate`,{certBase64:a,certPassword:l},{headers:this.headers})}removeEncryptionCert(n){return this.http.delete(`${this.actionUrl}/${n}/saml/sp/encryption-certificate`,{headers:this.headers})}schemaHealthy(){return this.http.get(`${this.actionUrl}/validate`,{headers:this.headers}).pipe((0,Ci.T)(a=>a.isValid??!1))}static{this.\u0275fac=function(a){return new(a||s)(e.KVO(S.Qq),e.KVO(ed.m))}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac})}}return s})();var s,ps=function(s){return s[s.OIDC=0]="OIDC",s[s.SAML=1]="SAML",s}(ps||{});function sg(s){return{...s,type:ps[s.type]}}function Uv(s){return{...s,type:ps[s.type]}}function bo(s){return JSON.parse(s)}function wa(s){return JSON.parse(s)}(s=ps||(ps={})).fromWizardType=function p(n){switch(n){case Vi.$.AddOidcDynamicAuth:return s.OIDC;case Vi.$.AddSamlDynamicAuth:return s.SAML}};let Df=(()=>{class s{constructor(n,a,l){this.dynamicAuthService=n,this.changeCachingService=a,this.errorService=l}resolve(n,a){return this.dynamicAuthService.getDynamicAuth(n.params.Scheme).pipe((0,Ci.T)(D=>{let ee;return D&&(ee=sg(D),this.changeCachingService.unsavedCache.next(ee)),ee}),(0,na.W)((D,ee)=>(404===D.status?this.errorService.resourceNotFound(wo.v.dynamicAuth):this.errorService.handleError(D),(0,Il.I)())))}static{this.\u0275fac=function(a){return new(a||s)(e.KVO(cc),e.KVO(Ji.t),e.KVO(ne.I))}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac})}}return s})();var CS=u(9568),Lc=function(s){return s[s.Query=0]="Query",s[s.FormPost=1]="FormPost",s[s.Fragment=2]="Fragment",s}(Lc||{}),Af=function(s){return s.OIDC="oidc",s.SAML="saml2p",s.Enabled="enabled",s.Disabled="disabled",s}(Af||{}),Va=function(s){return s.AuthCode="AuthCode",s.AuthCodePlusPkce="AuthCodePlusPkce",s}(Va||{});class Ws{static{this.DiscoveryDocumentPath="/.well-known/openid-configuration"}static{this.DiscoveryDocCachingDuration=6e4}static{this.FlowTypes=[Va.AuthCode,Va.AuthCodePlusPkce]}static{this.RequiredScopes=["openid"]}static{this.ScopeOptions=[...Ws.RequiredScopes,"profile","email"]}static{this.MaxScopeLength=100}static{this.SignInSchemeOptions=[{name:"DynamicAuth.SignInScheme.IdSExternalLogin.Name",value:"Idsrv.External",help:"DynamicAuth.SignInScheme.IdSExternalLogin.Help"},{name:"DynamicAuth.SignInScheme.AspNetExternalLogin.Name",value:"Identity.External",help:"DynamicAuth.SignInScheme.AspNetExternalLogin.Help"}]}static{this.SignInSchemeCodeFrag='services.AddAuthentication("local-cookie")\n    .AddCookie("local-cookie")\n\t.AddCookie("other-cookie");'}static{this.SamlSignInSchemeCodeFrag='services.AddIdentityServer(...)\n            .AddSamlDynamicProvider(options => {\n                options.SignInScheme = "MyIdentityScheme"; \n            });'}static{this.SamlSignOutSchemeCodeFrag='services.AddIdentityServer(...)\n            .AddSamlDynamicProvider(options => {\n                options.SignOutScheme = "MyIdentityScheme";\n            });'}static{this.AdminUIOidcDiscoveryDocumentEndpoint="DynamicAuthentication/DiscDoc"}static{this.AdminUISamlMetadataEndpoint="DynamicAuthentication/SAML/ValidateMetadataAddr"}static AllowRemoveScope(p){return!this.RequiredScopes.includes(p)}static{this.ResponseModeMap=new Map([["query",Lc.Query],["form_post",Lc.FormPost],["fragment",Lc.Fragment]])}static{this.ResponseModeKey=p=>[...Ws.ResponseModeMap.entries()].filter(({1:a})=>a===p).map(([a])=>a)[0]}}let Uc=(()=>{class s{get cacheTimeout(){return Ws.DiscoveryDocCachingDuration}constructor(n,a){this.http=n,this.cacheTime=0,this.discoveryDoc=new Fi.m(1),this.headers=a.setHeaders()}getDiscoveryDocument(n,a=!1){this.actionUrl=Ws.AdminUIOidcDiscoveryDocumentEndpoint;const l=Date.now()-this.cacheTime>=this.cacheTimeout;if(!a&&(!n||this.previousAuthority===n&&!l&&this.discoveryDoc))return this.discoveryDoc.asObservable();let D=new S.Nl;return D=D.append("authority",n),this.http.get(this.actionUrl,{headers:this.headers,params:D}).pipe((0,CS.t)(1),(0,Ci.T)(ee=>(this.previousAuthority=n,this.cacheTime=Date.now(),this.discoveryDoc.next(ee),ee)),(0,na.W)(ee=>(this.previousAuthority=n,this.cacheTime=Date.now(),this.discoveryDoc.next(null),(0,ia.of)(null))))}isValid(n){return this.getDiscoveryDocument(n,!0).pipe((0,Ci.T)(a=>!(!a||!a.issuer)))}supportedScopes(n){return this.getDiscoveryDocument(n).pipe((0,Ci.T)(a=>a?.scopes_supported??Ws.ScopeOptions))}validateMetadataUrl(n){this.actionUrl=Ws.AdminUISamlMetadataEndpoint;let a=new S.Nl;return a=a.append("metadataUrl",n),this.http.get(this.actionUrl,{headers:this.headers,params:a}).pipe((0,CS.t)(1),(0,Ci.T)(l=>!0),(0,na.W)(l=>(0,ia.of)(!1)))}static{this.\u0275fac=function(a){return new(a||s)(e.KVO(S.Qq),e.KVO(ed.m))}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac})}}return s})();var ja=u(978);let wS=(()=>{class s{constructor(n){this.fb=n}ngOnInit(){this.clientSecretForm=this.fb.group({clientSecret:[""]})}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return!this.clientSecretForm.invalid}hosted(){}toStepDto(){const n={};return n.clientSecret=this.clientSecretForm.get("clientSecret").value,n}toSummaryMap(){const n=new Map;return n.set("clientSecret",[this.clientSecretForm.get("clientSecret").value]),n}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(g.ze))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-client-secret-step"]],inputs:{data:"data"},decls:6,vars:8,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help","isLast"],["type","text","name","ClientSecret","id","ClientSecret","formControlName","clientSecret",1,"tw-form-control"]],template:function(a,l){1&a&&(e.j41(0,"div",0),e.nrm(1,"p",1),e.nI1(2,"translate"),e.k0s(),e.j41(3,"form",2)(4,"app-form-row",3),e.nrm(5,"input",4),e.k0s()()),2&a&&(e.R7$(),e.Y8G("innerHTML",e.bMT(2,6,"DynamicAuth.Wizard.OIDC.ClientSecretStep.Title"),e.npT),e.R7$(2),e.Y8G("formGroup",l.clientSecretForm),e.R7$(),e.Y8G("id","ClientSecret")("label","DynamicAuth.ClientSecret.Label")("help","DynamicAuth.ClientSecret.Help")("isLast",!0))},dependencies:[g.qT,g.me,g.BC,g.cb,g.j4,g.JD,fe.Y,_n.D9],encapsulation:2})}}return s})();var SS=u(5568);function Ql(){return g.k0.pattern(/^([/]{1}[\w-]{0,}){1,}$/)}function ES(s){if((0,Ai.hX)(s.value))return{invalidUri:"Errors.ValidateAbsoluteUri.NullOrUndefined"};let p=(0,SS.parse)(s.value);return(0,Ai.gP)(p.query)&&(0,Ai.gP)(p.fragment)?"absolute"!==p.reference?{invalidUri:"Errors.ValidateAbsoluteUri.MustBeAbsolute"}:(0,Ai.gP)(p.error)?null:{invalidUri:p.error}:{invalidUri:"Errors.ValidateAbsoluteUri.MustNotContainQueryFragmeant"}}function TS(s,p){1&s&&(e.j41(0,"app-form-row",3),e.nrm(1,"input",11),e.k0s()),2&s&&e.Y8G("id","CallbackPath")("label","DynamicAuth.CallbackPath.Label")("help","DynamicAuth.CallbackPath.Help")}function IS(s,p){if(1&s&&(e.j41(0,"option",12),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s){const n=p.$implicit;e.Y8G("value",n),e.R7$(),e.JRh(e.bMT(2,2,"DynamicAuth.Flows."+n))}}let DS=(()=>{class s{constructor(n,a,l,D,ee){this.fb=n,this.configService=a,this.translate=l,this.providerValidator=D,this.toastr=ee,this.failedToContactAuthority=!1,this.allowedFlows=Ws.FlowTypes}ngOnInit(){this.configServiceSub=this.configService.getConfig().subscribe({next:n=>{this.isRskDynamicAuth=n.featureFlagOptions.dynamicAuthenticationFlag==ja.U.Rsk}}),this.buildForm()}ngOnDestroy(){this.configServiceSub.unsubscribe()}tryReachAuthority(){var n=this.connectionForm.get("authority").value;this.providerValidator.isValid(n).subscribe(a=>{a||this.toastr.warning(this.translate.instant("DynamicAuth.Authority.ReachableWarningMsg"),this.translate.instant("DynamicAuth.Authority.ReachableWarningTitle"))})}buildForm(){let n={authority:["https://",[g.k0.required,g.k0.pattern("^https://.{1,}$")]],clientId:["",g.k0.required]};this.isRskDynamicAuth&&(n.callbackPath=["/oidc-scheme",[g.k0.required,Ql()]]),n.flow=[Va.AuthCodePlusPkce,[g.k0.required]],this.connectionForm=this.fb.group(n)}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return!this.connectionForm.invalid}hosted(){}toStepDto(){const n={};return n.authority=this.connectionForm.get("authority").value,n.clientId=this.connectionForm.get("clientId").value,this.isRskDynamicAuth&&(n.callbackPath=this.connectionForm.get("callbackPath").value),n.flow=this.connectionForm.get("flow").value,n}toSummaryMap(){const n=new Map;return n.set("authority",[this.connectionForm.get("authority").value]),n.set("idpClientId",[this.connectionForm.get("clientId").value]),this.isRskDynamicAuth&&n.set("callbackPath",[this.connectionForm.get("callbackPath").value]),n.set("flow",[this.translate.instant("DynamicAuth.Flows."+this.connectionForm.get("flow").value)]),n}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(g.ze),e.rXU(Gs.w),e.rXU(_n.c$),e.rXU(Uc),e.rXU(Jn.tw))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-connection-step"]],inputs:{data:"data"},decls:13,vars:16,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help"],["type","text","name","Authority","id","Authority","formControlName","authority","required","",1,"tw-form-control",3,"focusout"],["type","text","name","ClientId","id","ClientId","formControlName","clientId","required","",1,"tw-form-control"],[3,"id","label","help",4,"ngIf"],[3,"id","label","help","isLast"],[1,"tw-form-select"],["id","Flow","formControlName","flow",1,"tw-form-control"],[3,"value",4,"ngFor","ngForOf"],["type","text","name","CallbackPath","id","CallbackPath","formControlName","callbackPath","required","",1,"tw-form-control"],[3,"value"]],template:function(a,l){1&a&&(e.j41(0,"div",0),e.nrm(1,"p",1),e.nI1(2,"translate"),e.k0s(),e.j41(3,"form",2)(4,"app-form-row",3)(5,"input",4),e.bIt("focusout",function(){return l.tryReachAuthority()}),e.k0s()(),e.j41(6,"app-form-row",3),e.nrm(7,"input",5),e.k0s(),e.DNE(8,TS,2,3,"app-form-row",6),e.j41(9,"app-form-row",7)(10,"div",8)(11,"select",9),e.DNE(12,IS,3,4,"option",10),e.k0s()()()()),2&a&&(e.R7$(),e.Y8G("innerHTML",e.bMT(2,14,"DynamicAuth.Wizard.OIDC.ConnectionStep.Title"),e.npT),e.R7$(2),e.Y8G("formGroup",l.connectionForm),e.R7$(),e.Y8G("id","Authority")("label","DynamicAuth.Authority.Label")("help","DynamicAuth.Authority.Help"),e.R7$(2),e.Y8G("id","ClientId")("label","DynamicAuth.ClientId.Label")("help","DynamicAuth.ClientId.Help"),e.R7$(2),e.Y8G("ngIf",l.isRskDynamicAuth),e.R7$(),e.Y8G("id","Flow")("label","DynamicAuth.Flow.Label")("help","DynamicAuth.Flow.Help")("isLast",!0),e.R7$(3),e.Y8G("ngForOf",l.allowedFlows))},dependencies:[pn.Sq,pn.bT,g.qT,g.xH,g.y7,g.me,g.wz,g.BC,g.cb,g.YS,g.j4,g.JD,fe.Y,_n.D9],encapsulation:2})}}return s})();function AS(s,p){if(1&s&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"slice"),e.k0s()),2&s){const n=p.item;e.R7$(),e.JRh(n.length>20?e.brH(2,1,n,0,20)+"...":n)}}function RS(s,p){1&s&&(e.j41(0,"div",16)(1,"div"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&s&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"DynamicAuth.NoScopesMessage")," "))}function MS(s,p){1&s&&(e.j41(0,"span",20),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Reserved")," "))}function xS(s,p){if(1&s){const n=e.RV6();e.j41(0,"button",21),e.bIt("click",function(){e.eBV(n);const l=e.XpG().$implicit,D=e.XpG(2);return e.Njj(D.removeScope(l))}),e.nrm(1,"span",22),e.j41(2,"span",13),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}if(2&s){const n=e.XpG().$implicit;e.Y8G("id","btnRemove"+n),e.R7$(3),e.JRh(e.bMT(4,2,"Common.Remove.Title"))}}function kS(s,p){if(1&s&&(e.j41(0,"tr")(1,"td",17)(2,"span"),e.EFF(3),e.k0s()(),e.j41(4,"td"),e.DNE(5,MS,3,3,"span",18),e.k0s(),e.j41(6,"td"),e.DNE(7,xS,5,4,"button",19),e.k0s()()),2&s){const n=p.$implicit,a=e.XpG(2);e.R7$(3),e.JRh(n),e.R7$(2),e.Y8G("ngIf",!a.allowRemoveScope(n)),e.R7$(2),e.Y8G("ngIf",a.allowRemoveScope(n))}}function NS(s,p){if(1&s&&(e.j41(0,"div",9),e.DNE(1,RS,4,3,"div",10),e.j41(2,"table",11)(3,"thead")(4,"th",12)(5,"span",13),e.EFF(6),e.nI1(7,"translate"),e.k0s()(),e.j41(8,"th",14)(9,"span",13),e.EFF(10),e.nI1(11,"translate"),e.k0s()(),e.j41(12,"th",14)(13,"span",13),e.EFF(14),e.nI1(15,"translate"),e.k0s()()(),e.j41(16,"tbody"),e.DNE(17,kS,8,3,"tr",15),e.k0s()()()),2&s){const n=e.XpG();e.Y8G("id","Scopes"),e.R7$(),e.Y8G("ngIf",n.scopes.length<=0),e.R7$(5),e.JRh(e.bMT(7,6,"Common.Scope")),e.R7$(4),e.JRh(e.bMT(11,8,"Common.Reserved")),e.R7$(4),e.JRh(e.bMT(15,10,"Common.Actions")),e.R7$(3),e.Y8G("ngForOf",n.scopes)}}let Vv=(()=>{class s{constructor(n,a,l,D){this.toastrService=n,this.translateService=a,this.fb=l,this.providerValidator=D,this.scopes=[...Ws.RequiredScopes],this.maxScopeLength=Ws.MaxScopeLength}ngOnInit(){this.scopesForm=this.fb.group({newScope:[""]}),this.options=new Ml.c(n=>{let a=this.scopesForm.get("newScope").value;n.next(a)}).pipe((0,su.n)(n=>this.providerValidator.supportedScopes().pipe((0,Ci.T)(a=>this.filterScopes(n,a)))))}filterScopes(n,a){const l=!n;return a.filter(D=>!this.scopes.includes(D)&&(l||D.includes(n)))}addScope(){var n=this.scopesForm.get("newScope").value;if(""!==n)if(this.scopes.includes(n)){const a=this.translateService.instant("DynamicAuth.Scopes.AlreadyAdded");this.toastrService.error(a)}else if(n.indexOf(" ")>=0){const a=this.translateService.instant("DynamicAuth.Scopes.CannotHaveSpaces");this.toastrService.error(a)}else this.scopes.push(n);else this.toastrService.error(this.translateService.instant("DynamicAuth.Scopes.MustSpecifyScope"))}removeScope(n){const a=this.scopes.indexOf(n);if(-1!==a)this.scopes.splice(a,1);else{const l=this.translateService.instant("DynamicAuth.Scopes.MustSpecifyScope");this.toastrService.error(l)}}allowRemoveScope(n){return Ws.AllowRemoveScope(n)}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return!0}hosted(){}toStepDto(){const n={};return n.scopes=this.scopes,n}toSummaryMap(){const n=new Map;return n.set("scopes",this.scopes),n}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(Jn.tw),e.rXU(_n.c$),e.rXU(g.ze),e.rXU(Uc))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-scopes-step"]],inputs:{data:"data"},decls:14,vars:20,consts:[["customItemTemplate",""],[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","hasLabel","isLast"],[1,"tw-form-typeahead"],["id","new-scope-input","formControlName","newScope","type","text","name","New Scope","container","#addIdpModal","autocomplete","off","left","",1,"tw-form-control",3,"typeahead","typeaheadWaitMs","typeaheadAsync","typeaheadItemTemplate","typeaheadMinLength","placeholder","maxlength"],["id","addScopeButton","right","",1,"tw-btn-success",3,"click"],["class","tw-mt-6",3,"id",4,"ngIf"],[1,"tw-mt-6",3,"id"],["class","tw-alert","role","alert",4,"ngIf"],[1,"datatable"],[1,"tw-w-full"],[1,"sr-only"],[1,"tw-w-1"],[4,"ngFor","ngForOf"],["role","alert",1,"tw-alert"],[1,"tw-table-cell","tw-max-w-0","tw-truncate"],["class","tw-pill",4,"ngIf"],["class","tw-btn-link tw-btn-small tw-text-red-500",3,"id","click",4,"ngIf"],[1,"tw-pill"],[1,"tw-btn-link","tw-btn-small","tw-text-red-500",3,"click","id"],["aria-hidden","true",1,"fas","fa-times"]],template:function(a,l){if(1&a){const D=e.RV6();e.j41(0,"div",1),e.nrm(1,"p",2),e.nI1(2,"translate"),e.k0s(),e.DNE(3,AS,3,5,"ng-template",null,0,e.C5r),e.j41(5,"form",3)(6,"app-form-row",4)(7,"app-row-bar",5),e.nrm(8,"input",6),e.nI1(9,"translate"),e.j41(10,"button",7),e.bIt("click",function(){return e.eBV(D),e.Njj(l.addScope())}),e.EFF(11),e.nI1(12,"translate"),e.k0s()()(),e.DNE(13,NS,18,12,"div",8),e.k0s()}if(2&a){const D=e.sdS(4);e.R7$(),e.Y8G("innerHTML",e.bMT(2,14,"DynamicAuth.Wizard.OIDC.ScopesStep.Title"),e.npT),e.R7$(4),e.Y8G("formGroup",l.scopesForm),e.R7$(),e.Y8G("id","NewScope")("hasLabel",!1)("isLast",!0),e.R7$(2),e.FS9("placeholder",e.bMT(9,16,"DynamicAuth.Scopes.Placeholder")),e.Y8G("typeahead",l.options)("typeaheadWaitMs",200)("typeaheadAsync",!0)("typeaheadItemTemplate",D)("typeaheadMinLength",0)("maxlength",l.maxScopeLength),e.R7$(3),e.SpI(" ",e.bMT(12,18,"Common.Add")," "),e.R7$(2),e.Y8G("ngIf",l.scopes.length>0)}},dependencies:[pn.Sq,pn.bT,g.qT,g.me,g.BC,g.cb,g.tU,g.j4,g.JD,Qd.Xi,fe.Y,fc.f,pn.P9,_n.D9],encapsulation:2})}}return s})(),og=(()=>{class s{constructor(n){this.fb=n}ngOnInit(){this.nameRoleForm=this.fb.group({scheme:["",[g.k0.required,wn()]],displayName:["",[g.k0.required]]})}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return!this.nameRoleForm.invalid}hosted(){}toStepDto(){const n={};return n.scheme=this.nameRoleForm.get("scheme").value,n.displayName=this.nameRoleForm.get("displayName").value,n}toSummaryMap(){const n=new Map;return n.set("scheme",[this.nameRoleForm.get("scheme").value]),n.set("displayName",[this.nameRoleForm.get("displayName").value]),n}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(g.ze))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-name-role-step"]],inputs:{data:"data"},decls:8,vars:11,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help"],["type","text","name","Scheme","id","Scheme","formControlName","scheme","required","",1,"tw-form-control"],[3,"id","label","help","isLast"],["type","text","name","DisplayName","id","DisplayName","formControlName","displayName","required","",1,"tw-form-control"]],template:function(a,l){1&a&&(e.j41(0,"div",0),e.nrm(1,"p",1),e.nI1(2,"translate"),e.k0s(),e.j41(3,"form",2)(4,"app-form-row",3),e.nrm(5,"input",4),e.k0s(),e.j41(6,"app-form-row",5),e.nrm(7,"input",6),e.k0s()()),2&a&&(e.R7$(),e.Y8G("innerHTML",e.bMT(2,9,"DynamicAuth.Wizard.NameRoleStep.Title"),e.npT),e.R7$(2),e.Y8G("formGroup",l.nameRoleForm),e.R7$(),e.Y8G("id","Scheme")("label","DynamicAuth.Scheme.Label")("help","DynamicAuth.Scheme.Help"),e.R7$(2),e.Y8G("id","DisplayName")("label","DynamicAuth.DisplayName.Label")("help","DynamicAuth.DisplayName.Help")("isLast",!0))},dependencies:[g.qT,g.me,g.BC,g.cb,g.YS,g.j4,g.JD,fe.Y,_n.D9],encapsulation:2})}}return s})();function uc(s,p){if(1&s&&(e.j41(0,"span",10),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s){const n=e.XpG().$implicit;e.R7$(),e.SpI(" ",e.bMT(2,1,n.help)," ")}}function OS(s,p){if(1&s&&(e.j41(0,"li",5)(1,"label",6),e.nrm(2,"input",7),e.j41(3,"span",8),e.EFF(4),e.nI1(5,"translate"),e.k0s()(),e.DNE(6,uc,3,3,"span",9),e.k0s()),2&s){const n=p.$implicit,a=p.index,l=e.XpG();e.R7$(),e.FCK("for","",l.id,"-item-",a,""),e.R7$(),e.FCK("id","",l.id,"-item-",a,""),e.Y8G("value",n.value),e.R7$(2),e.JRh(e.bMT(5,9,n.name)),e.R7$(2),e.Y8G("ngIf",n.help)}}function jv(s,p){if(1&s&&(e.j41(0,"li",5)(1,"label",6),e.nrm(2,"input",7),e.j41(3,"span",8),e.EFF(4),e.nI1(5,"translate"),e.nI1(6,"translate"),e.k0s()()()),2&s){const n=e.XpG();e.R7$(),e.Mz_("for","",n.id,"-item-custom"),e.R7$(),e.Mz_("id","",n.id,"-item-custom"),e.Y8G("value",n.customRadioValue),e.R7$(2),e.Lme("",e.bMT(5,7,"Common.Custom")," ",e.bMT(6,9,n.label),"")}}function FS(s,p){if(1&s){const n=e.RV6();e.j41(0,"app-form-row",11)(1,"input",12),e.nI1(2,"translate"),e.bIt("ngModelChange",function(l){e.eBV(n);const D=e.XpG();return e.Njj(D.valueChanged.emit(l))}),e.k0s()()}if(2&s){const n=e.XpG();e.Mz_("id","",n.id,"-custom"),e.Y8G("label","Common.Custom")("isLast",n.isLast),e.R7$(),e.Mz_("id","",n.id,"-item-value"),e.FS9("placeholder",e.bMT(2,8,n.placeholder)),e.Y8G("ngModel",n.value)}}let $v=(()=>{class s{constructor(n){this.fb=n,this.listItems=[],this.allowCustom=!1,this.valueChanged=new e.bkB,this.customRadioValue="CUSTOM_VALUE"}ngOnInit(){const n=this.listItems.some(a=>a.value===this.value)?this.value:this.customRadioValue;this.radioForm=this.fb.group({radioVal:[n]}),this.radioForm.get("radioVal").valueChanges.subscribe(a=>{this.valueChanged.emit(a===this.customRadioValue?"":a)})}showCustom(){return this.radioForm.get("radioVal").value===this.customRadioValue}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(g.ze))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-radio-list-input"]],inputs:{id:"id",label:"label",help:"help",listItems:"listItems",placeholder:"placeholder",allowCustom:"allowCustom",isLast:"isLast",value:"value"},outputs:{valueChanged:"valueChanged"},decls:6,vars:14,consts:[[3,"id","label","help","isLast","formGroup"],["role","group",1,"tw-form-checks",3,"id"],["class","tw-form-checks__item",4,"ngFor","ngForOf"],["class","tw-form-checks__item",4,"ngIf"],[3,"id","label","isLast",4,"ngIf"],[1,"tw-form-checks__item"],[1,"tw-form-checks__label",3,"for"],["type","radio","formControlName","radioVal",1,"tw-form-checks__input",3,"id","value"],[1,"tw-form-label"],["class","tw-form-label-help",4,"ngIf"],[1,"tw-form-label-help"],[3,"id","label","isLast"],["type","text","name","value",1,"tw-form-control",3,"ngModelChange","id","ngModel","placeholder"]],template:function(a,l){1&a&&(e.j41(0,"app-form-row",0)(1,"ul",1),e.nI1(2,"translate"),e.DNE(3,OS,7,11,"li",2)(4,jv,7,11,"li",3),e.k0s()(),e.DNE(5,FS,3,10,"app-form-row",4)),2&a&&(e.Mz_("id","",l.id,"-options"),e.Y8G("label",l.label)("help",l.help)("isLast",!l.showCustom()&&l.isLast)("formGroup",l.radioForm),e.R7$(),e.Mz_("id","",l.id,"-options-list"),e.BMQ("aria-label",e.bMT(2,12,l.label)),e.R7$(2),e.Y8G("ngForOf",l.listItems),e.R7$(),e.Y8G("ngIf",l.allowCustom),e.R7$(),e.Y8G("ngIf",l.showCustom()))},dependencies:[g.me,g.Fm,g.BC,g.cb,g.vS,g.j4,g.JD,pn.Sq,pn.bT,fe.Y,_n.D9],encapsulation:2})}}return s})();function Gv(s,p){if(1&s&&(e.j41(0,"app-form-row",7)(1,"app-form-toggle",8),e.nrm(2,"input",9),e.k0s()()),2&s){const n=e.XpG(2);e.Y8G("id","DifferentScheme")("label","DynamicAuth.DifferentSignOut.Label")("help","DynamicAuth.DifferentSignOut.Help")("isLast",!n.diffSignOut),e.R7$(),e.Y8G("id","DifferentScheme")("isTraffic",!0)("isAlt",!1)}}function eh(s,p){if(1&s){const n=e.RV6();e.j41(0,"app-radio-list-input",10),e.bIt("valueChanged",function(l){e.eBV(n);const D=e.XpG(2);return e.Njj(D.signInSchemeForm.get("outScheme").setValue(l))}),e.k0s()}if(2&s){const n=e.XpG(2);e.Y8G("label","DynamicAuth.SignOutScheme.Label")("help","DynamicAuth.SignOutScheme.Help")("listItems",n.options)("allowCustom",!0)("value",n.signInSchemeForm.get("outScheme").value)("isLast",!0)}}function ag(s,p){if(1&s){const n=e.RV6();e.j41(0,"form",3)(1,"app-radio-list-input",4),e.bIt("valueChanged",function(l){e.eBV(n);const D=e.XpG();return e.Njj(D.signInSchemeForm.get("scheme").setValue(l))}),e.k0s(),e.DNE(2,Gv,3,7,"app-form-row",5)(3,eh,1,6,"app-radio-list-input",6),e.k0s()}if(2&s){const n=e.XpG();e.Y8G("formGroup",n.signInSchemeForm),e.R7$(),e.Y8G("label","DynamicAuth.SignInScheme.Label")("help","DynamicAuth.SignInScheme.Help")("listItems",n.options)("allowCustom",!0)("value",n.signInSchemeForm.get("scheme").value)("isLast",!1),e.R7$(),e.Y8G("ngIf",n.isRskDynamicAuth),e.R7$(),e.Y8G("ngIf",n.diffSignOut)}}let Vc=(()=>{class s{constructor(n,a){this.fb=n,this.configService=a,this.isRskDynamicAuth=!1,this.options=Ws.SignInSchemeOptions,this.snippet=Ws.SamlSignInSchemeCodeFrag}ngOnInit(){this.configService.getConfig().pipe((0,$n.$)()).subscribe({next:n=>{this.isRskDynamicAuth=n.featureFlagOptions.dynamicAuthenticationFlag==ja.U.Rsk,this.isRskDynamicAuth?(this.signInSchemeForm=this.fb.group({scheme:[this.options[0].value,g.k0.required],diffSignOut:[!1],outScheme:[this.options[0].value]}),this.signInSchemeForm.get("diffSignOut").valueChanges.subscribe(a=>{this.signInSchemeForm.get("outScheme").setValidators(a?[g.k0.required]:[])})):this.signInSchemeForm=this.fb.group({scheme:[this.options[0].value,g.k0.required]})}})}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return!this.signInSchemeForm.invalid}hosted(){}get diffSignOut(){return this.isRskDynamicAuth&&this.signInSchemeForm.get("diffSignOut").value}toStepDto(){const n={};return n.signInScheme=this.signInSchemeForm.get("scheme").value,this.diffSignOut&&(n.signOutScheme=this.signInSchemeForm.get("outScheme").value),n}toSummaryMap(){const n=new Map;return n.set("signInScheme",[this.signInSchemeForm.get("scheme").value]),this.diffSignOut&&n.set("signOutScheme",[this.signInSchemeForm.get("outScheme").value]),n}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(g.ze),e.rXU(Gs.w))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-sign-in-scheme-step"]],inputs:{data:"data"},decls:4,vars:4,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],["id","Scheme","placeholder","DynamicAuth.SignInScheme.Placeholder",3,"valueChanged","label","help","listItems","allowCustom","value","isLast"],[3,"id","label","help","isLast",4,"ngIf"],["id","OutScheme","placeholder","DynamicAuth.SignOutScheme.Placeholder",3,"label","help","listItems","allowCustom","value","isLast","valueChanged",4,"ngIf"],[3,"id","label","help","isLast"],[3,"id","isTraffic","isAlt"],["id","DifferentScheme","formControlName","diffSignOut","type","checkbox",1,"tw-form-switch__input"],["id","OutScheme","placeholder","DynamicAuth.SignOutScheme.Placeholder",3,"valueChanged","label","help","listItems","allowCustom","value","isLast"]],template:function(a,l){1&a&&(e.j41(0,"div",0),e.nrm(1,"p",1),e.nI1(2,"translate"),e.k0s(),e.DNE(3,ag,4,9,"form",2)),2&a&&(e.R7$(),e.Y8G("innerHTML",e.bMT(2,2,"DynamicAuth.Wizard.SignInSchemeStep.Title"),e.npT),e.R7$(2),e.Y8G("ngIf",l.signInSchemeForm))},dependencies:[pn.bT,g.qT,g.Zm,g.BC,g.cb,g.j4,g.JD,fe.Y,ga.m,$v,_n.D9],encapsulation:2})}}return s})();function Hv(s,p){1&s&&(e.nrm(0,"span",8),e.nI1(1,"translate")),2&s&&e.Y8G("innerHTML",e.bMT(1,1,"Errors.PathValidation"),e.npT)}let xu=(()=>{class s{constructor(n,a){this.fb=n,this.configService=a}ngOnInit(){this.configService.getConfig().pipe((0,$n.$)()).subscribe({next:n=>{this.isRskDynamicAuth=n.featureFlagOptions.dynamicAuthenticationFlag==ja.U.Rsk,this.buildForm()}})}ngOnDestroy(){}buildForm(){let n=this.dtoSnapshot?.scheme;(0,Ai.gP)(n)&&(n="{scheme}");let l={entityId:["",[g.k0.required]],callbackPath:[this.isRskDynamicAuth?`/signin/dynamic/${n}`:`/federation/${n}/signin-saml`,[g.k0.required,Ql()]]};this.serviceProviderForm=this.fb.group(l)}validCallbackPath(){return this.serviceProviderForm.get("callbackPath").valid}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return!this.serviceProviderForm.invalid}hosted(){}toStepDto(){const n={};return n.entityId=this.serviceProviderForm.get("entityId").value,n.callbackPath=this.serviceProviderForm.get("callbackPath").value,n}toSummaryMap(){const n=new Map;return n.set("entityId",[this.serviceProviderForm.get("entityId").value]),n.set("callbackPathAcs",[this.serviceProviderForm.get("callbackPath").value]),n}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(g.ze),e.rXU(Gs.w))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-service-provider-step"]],inputs:{data:"data"},decls:9,vars:12,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help"],["type","text","name","EntityId","id","EntityId","formControlName","entityId","required","",1,"tw-form-control"],[3,"id","label","help","isLast"],["type","text","name","CallbackPath","id","CallbackPath","formControlName","callbackPath","required","",1,"tw-form-control"],["id","CallbackWarn","class","tw-form-text-warning",3,"innerHTML",4,"ngIf"],["id","CallbackWarn",1,"tw-form-text-warning",3,"innerHTML"]],template:function(a,l){1&a&&(e.j41(0,"div",0),e.nrm(1,"p",1),e.nI1(2,"translate"),e.k0s(),e.j41(3,"form",2)(4,"app-form-row",3),e.nrm(5,"input",4),e.k0s(),e.j41(6,"app-form-row",5),e.nrm(7,"input",6),e.DNE(8,Hv,2,3,"span",7),e.k0s()()),2&a&&(e.R7$(),e.Y8G("innerHTML",e.bMT(2,10,"DynamicAuth.Wizard.SAML.ServiceProviderStep.Title"),e.npT),e.R7$(2),e.Y8G("formGroup",l.serviceProviderForm),e.R7$(),e.Y8G("id","EntityId")("label","DynamicAuth.EntityId.Label")("help","DynamicAuth.EntityId.Help"),e.R7$(2),e.Y8G("id","CallbackPath")("label","DynamicAuth.CallbackPathAcsEndpoint.Label")("help","DynamicAuth.CallbackPathAcsEndpoint.Help")("isLast",!0),e.R7$(2),e.Y8G("ngIf",!l.validCallbackPath()))},dependencies:[pn.bT,g.qT,g.me,g.BC,g.cb,g.YS,g.j4,g.JD,fe.Y,_n.D9],encapsulation:2})}}return s})();var Oo=u(1746);const ku=["fileInput"];let Nu=(()=>{class s{get ReadOnlyFieldType(){return Hi.t}constructor(n,a,l,D){this.fb=n,this.certService=a,this.toastr=l,this.translate=D,this.validCertificateForm=!1,this.selectedFile=void 0,this.fileName=new Oo.w(""),this.fileContent=void 0,this.passwordDisabled=!0}ngOnInit(){this.buildForm()}buildForm(){this.certForm=this.fb.group({certPassword:["",[]]})}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return this.disableClearBtn()||this.validCertificateForm}hosted(){}handleFileInput(n){this.selectedFile=n.item(0),this.passwordDisabled=!1,this.requestCertValidation()}requestCertValidation(){this.validCertificateForm=!1}disableTestBtn(){return null==this.selectedFile}disableClearBtn(){const n=this.certForm.get("certPassword").value;return null==this.selectedFile&&""==n}validateForm(){if(null==this.selectedFile)return void this.toastr.error(this.translate.instant("Notifications.CertInValidMsg"),this.translate.instant("Notifications.CertInValidTitle"));this.fileName=new Oo.w(""),this.fileContent=void 0;const n=this.certForm.get("certPassword").value;this.certService.verifyCertFilePassword(this.selectedFile,n,{next:a=>{this.fileName=new Oo.w(this.selectedFile?.name),this.fileContent=a,this.validCertificateForm=!0,this.toastr.success(this.translate.instant("Notifications.CertValidTitle"))},error:a=>{this.validCertificateForm=!1,this.toastr.error(this.translate.instant("Notifications.CertInValidMsg"),this.translate.instant("Notifications.CertInValidTitle"))}})}clearCertificateForm(){this.fileInputNative.nativeElement.value=null,this.selectedFile=null,this.fileName=new Oo.w(""),this.fileContent=void 0,this.certForm.get("certPassword").setValue(""),this.passwordDisabled=!0,this.validCertificateForm=!1}toStepDto(){const n={};return n.certFile=this.fileContent,n.certPassword=this.certForm.get("certPassword").value,n}toSummaryMap(){const n=new Map;return n.set("certFile",[this.selectedFile?.name]),n.set("certPassword",[this.certForm.get("certPassword").value]),n}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(g.ze),e.rXU(Gl.V),e.rXU(Jn.tw),e.rXU(_n.c$))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-signing-step"]],viewQuery:function(a,l){if(1&a&&e.GBs(ku,5),2&a){let D;e.mGM(D=e.lsd())&&(l.fileInputNative=D.first)}},inputs:{data:"data"},decls:18,vars:19,consts:[["fileInput","","selectedFile",""],[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help"],[1,"tw-form-control"],["id","fileInput","type","file","name","file","accept",".pfx,.p12",1,"tw-form-file","tw-max-w-full",3,"change"],[3,"input","id","label"],["type","text","name","CertPassword","id","CertPassword","formControlName","certPassword",1,"tw-form-control",3,"readonly"],[3,"isLast"],["id","testBtn",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],["id","clearBtn",1,"tw-btn","tw-mr-3",3,"click","disabled"]],template:function(a,l){if(1&a){const D=e.RV6();e.j41(0,"div",1),e.nrm(1,"p",2),e.nI1(2,"translate"),e.k0s(),e.j41(3,"form",3)(4,"app-form-row",4)(5,"div",5)(6,"input",6,0),e.bIt("change",function(De){return e.eBV(D),e.Njj(l.handleFileInput(De.target.files))}),e.k0s()()(),e.j41(9,"app-form-row",7),e.bIt("input",function(){return e.eBV(D),e.Njj(l.requestCertValidation())}),e.nrm(10,"input",8),e.k0s(),e.j41(11,"app-form-row",9)(12,"button",10),e.bIt("click",function(){return e.eBV(D),e.Njj(l.validateForm())}),e.EFF(13),e.nI1(14,"translate"),e.k0s(),e.j41(15,"button",11),e.bIt("click",function(){return e.eBV(D),e.Njj(l.clearCertificateForm())}),e.EFF(16),e.nI1(17,"translate"),e.k0s()()()}2&a&&(e.R7$(),e.Y8G("innerHTML",e.bMT(2,13,"DynamicAuth.Wizard.SAML.SigningStep.Title"),e.npT),e.R7$(2),e.Y8G("formGroup",l.certForm),e.R7$(),e.Y8G("id","fileInputRow")("label","DynamicAuth.CertFile.Label")("help","DynamicAuth.CertFile.Help"),e.R7$(5),e.Y8G("id","CertPasswordRow")("label","DynamicAuth.CertPassword.Label"),e.R7$(),e.Y8G("readonly",l.passwordDisabled),e.R7$(),e.Y8G("isLast",!0),e.R7$(),e.Y8G("disabled",l.disableTestBtn()),e.R7$(),e.JRh(e.bMT(14,15,"Common.ValidateCert")),e.R7$(2),e.Y8G("disabled",l.disableClearBtn()),e.R7$(),e.JRh(e.bMT(17,17,"Common.Clear")))},dependencies:[g.qT,g.me,g.BC,g.cb,g.j4,g.JD,fe.Y,_n.D9],encapsulation:2})}}return s})(),Zl=(()=>{class s{constructor(n){this.inner=n}success_noduplicate(n,a){return this.showToast(n,a,(l,D)=>this.inner.success(l,D))}error_noduplicate(n,a){return this.showToast(n,a,(l,D)=>this.inner.error(l,D))}showToast(n,a,l){var D=this.inner.findDuplicate(a,n,!1,!1);return D&&this.inner.remove(D.toastId),l(n,a)}static{this.\u0275fac=function(a){return new(a||s)(e.KVO(Jn.tw))}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})(),Ou=(()=>{class s{constructor(n,a,l,D){this.fb=n,this.providerValidator=a,this.translate=l,this.toastr=D,this.metadataAddrStream=new Ar.B}ngOnInit(){this.buildForm(),this.metadataAddrStream.subscribe(n=>{this.providerValidator.validateMetadataUrl(n).subscribe(a=>{a?this.toastr.success_noduplicate(this.translate.instant("DynamicAuth.Wizard.SAML.ExternalProviderStep.MetadataValidMsg"),this.translate.instant("DynamicAuth.Wizard.SAML.ExternalProviderStep.MetadataValidTitle")):this.toastr.error_noduplicate(this.translate.instant("DynamicAuth.Wizard.SAML.ExternalProviderStep.MetadataInValidMsg"),this.translate.instant("DynamicAuth.Wizard.SAML.ExternalProviderStep.MetadataInValidTitle"))})})}ngOnDestroy(){this.metadataAddrStream.unsubscribe()}tryMetadataAddr(){const n=this.externalProviderForm.get("metadataAddress");n.invalid||this.metadataAddrStream.next(n.value)}showReachableError(){const n=this.externalProviderForm.get("metadataAddress");return!(0,Ai.gP)(n.value)&&n.errors?.unreachableUrl}buildForm(){let n={metadataAddress:["https://",[g.k0.required,g.k0.pattern("^https://.{1,}$")]]};this.externalProviderForm=this.fb.group(n)}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return!this.externalProviderForm.invalid}hosted(){}toStepDto(){const n={};return n.metadataAddress=this.externalProviderForm.get("metadataAddress").value,n}toSummaryMap(){const n=new Map;return n.set("metadataAddress",[this.externalProviderForm.get("metadataAddress").value]),n}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(g.ze),e.rXU(Uc),e.rXU(_n.c$),e.rXU(Zl))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-external-provider-step"]],inputs:{data:"data"},decls:11,vars:12,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help","isLast"],[1,"tw-flex","tw-w-full","lg:tw-max-w-2xl"],["type","text","name","MetadataAddress","id","MetadataAddress","formControlName","metadataAddress","placeholder","https://","required","",1,"tw-form-control","tw-rounded-r-none","tw-border-r-0"],["id","testMetadataAddr",1,"tw-btn","tw-rounded-l-none",3,"click","disabled"]],template:function(a,l){1&a&&(e.j41(0,"div",0),e.nrm(1,"p",1),e.nI1(2,"translate"),e.k0s(),e.j41(3,"form",2)(4,"app-form-row",3)(5,"div",4),e.nrm(6,"input",5),e.j41(7,"button",6),e.bIt("click",function(){return l.tryMetadataAddr()}),e.j41(8,"span"),e.EFF(9),e.nI1(10,"translate"),e.k0s()()()()()),2&a&&(e.R7$(),e.Y8G("innerHTML",e.bMT(2,8,"DynamicAuth.Wizard.SAML.ExternalProviderStep.Title"),e.npT),e.R7$(2),e.Y8G("formGroup",l.externalProviderForm),e.R7$(),e.Y8G("id","MetadataAddress")("label","DynamicAuth.SAML.IdpMetadataAddress.Label")("help","DynamicAuth.SAML.IdpMetadataAddress.Help")("isLast",!0),e.R7$(3),e.Y8G("disabled",!l.canNext()),e.R7$(2),e.JRh(e.bMT(10,10,"Common.ValidateMetadata")))},dependencies:[g.qT,g.me,g.BC,g.cb,g.YS,g.j4,g.JD,fe.Y,_n.D9],encapsulation:2})}}return s})();var Fu=u(2552);function Pu(s,p){1&s&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"DynamicAuth.Wizard.TypeSelectStep.OIDC.Title")))}function Bu(s,p){1&s&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"DynamicAuth.Wizard.TypeSelectStep.SAML.Title")))}function Lu(s,p){1&s&&(e.nrm(0,"p",1),e.nI1(1,"translate")),2&s&&e.Y8G("innerHTML",e.bMT(1,1,"DynamicAuth.Wizard.TypeSelectStep.OIDC.Description"),e.npT)}function Uu(s,p){1&s&&(e.nrm(0,"p",1),e.nI1(1,"translate")),2&s&&e.Y8G("innerHTML",e.bMT(1,1,"DynamicAuth.Wizard.TypeSelectStep.SAML.Description"),e.npT)}let Wv=(()=>{class s{constructor(){this.wizardTypes=Vi.$,this.activeType=Vi.$.AddOidcDynamicAuth}hosted(){}ngOnInit(){}getStepSummary(){return new Map}getStepDTO(){return{}}canNext(){return!0}selectedType(){return this.activeType}buildOptionsArray(){return[{id:"oidcBtn",btnId:"oidcTestBtn",title:"DynamicAuth.Wizard.TypeSelectStep.OIDC.Name",summary:"DynamicAuth.Wizard.TypeSelectStep.OIDC.Title",icon:"fab fa-openid",type:Vi.$.AddOidcDynamicAuth,selectedTypes:[Vi.$.AddOidcDynamicAuth],starterMode:!0},{id:"samlBtn",btnId:"samlTestBtn",title:"DynamicAuth.Wizard.TypeSelectStep.SAML.Name",summary:"DynamicAuth.Wizard.TypeSelectStep.SAML.Title",icon:"fad fa-code",type:Vi.$.AddSamlDynamicAuth,selectedTypes:[Vi.$.AddSamlDynamicAuth],starterMode:!0}]}setActive(n){this.activeType=n}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-type-select"]],inputs:{data:"data"},decls:11,vars:8,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],["id","clientTypeSelector",3,"select","activeType","isStarterMode","options"],[1,"tw-border-t","tw-border-grey-300","tw-text-grey-700","tw-text-sm","tw-mt-6","tw-pt-5"],[1,"tw-text-sm","tw-font-semibold","tw-text-primary-500","tw-mb-2"],["aria-hidden","true",1,"fas","fa-info-circle","tw-w-5"]],template:function(a,l){if(1&a&&(e.j41(0,"div",0),e.nrm(1,"p",1),e.nI1(2,"translate"),e.k0s(),e.j41(3,"app-type-selector",2),e.bIt("select",function(ee){return l.setActive(ee)}),e.k0s(),e.j41(4,"div",3)(5,"h2",4),e.nrm(6,"span",5),e.DNE(7,Pu,3,3)(8,Bu,3,3),e.k0s(),e.DNE(9,Lu,2,3)(10,Uu,2,3),e.k0s()),2&a){let D,ee;e.R7$(),e.Y8G("innerHTML",e.bMT(2,6,"DynamicAuth.Wizard.Description"),e.npT),e.R7$(2),e.Y8G("activeType",l.activeType)("isStarterMode",!1)("options",l.buildOptionsArray()),e.R7$(4),e.vxM(7,(D=l.activeType)===l.wizardTypes.AddOidcDynamicAuth?7:D===l.wizardTypes.AddSamlDynamicAuth?8:-1),e.R7$(2),e.vxM(9,(ee=l.activeType)===l.wizardTypes.AddOidcDynamicAuth?9:ee===l.wizardTypes.AddSamlDynamicAuth?10:-1)}},dependencies:[Fu.N,_n.D9],encapsulation:2})}}return s})();class Kv extends ph.p{constructor(p){super();var n=[new hi.W(og,{stepName:"NameRoleStepComponent"}),new hi.W(DS,{stepName:"ConnectionStepComponent"}),new hi.W(Vv,{stepName:"ScopesStepComponent"}),new hi.W(wS,{stepName:"ClientSecretStepComponent"})];p&&n.push(new hi.W(Vc,{stepName:"SignInSchemeStepComponent"}));var a=[new hi.W(og,{stepName:"NameRoleStepComponent"}),new hi.W(xu,{stepName:"ServiceProviderStepComponent"}),new hi.W(Nu,{stepName:"SigningStepComponent"}),new hi.W(Ou,{stepName:"ExternalProviderStepComponent"}),new hi.W(Vc,{stepName:"SignInSchemeStepComponent"})];this.nameComponentMap.set(Vi.$.Home,[new hi.W(Wv,{})]),this.nameComponentMap.set(Vi.$.AddOidcDynamicAuth,n),this.nameComponentMap.set(Vi.$.AddSamlDynamicAuth,a),this.nameTitleMap.set(Vi.$.Home,new Eo.J("DynamicAuth.Wizard.Setup","DynamicAuth.Wizard.Title")),this.nameTitleMap.set(Vi.$.AddOidcDynamicAuth,new Eo.J("DynamicAuth.Wizard.OIDC.Setup","DynamicAuth.Wizard.OIDC.Title")),this.nameTitleMap.set(Vi.$.AddSamlDynamicAuth,new Eo.J("DynamicAuth.Wizard.SAML.Setup","DynamicAuth.Wizard.SAML.Title"))}}let zv=(()=>{class s{canNext(){return!1}hosted(){}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-empty-step"]],decls:4,vars:3,consts:[["id","emptyStepError","role","alert",1,"tw-alert-danger"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"div"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&a&&(e.R7$(2),e.JRh(e.bMT(3,1,"Common.Wizards.Empty")))},dependencies:[_n.D9],encapsulation:2})}}return s})();class Yv extends ph.p{getWizard(p){return[new hi.W(zv)]}getWizardTitle(p){return new Eo.J("Empty Provider",`No step for wizard name: ${p}`)}}function Xv(s,p){if(1&s&&(e.j41(0,"div",5),e.nrm(1,"div",17),e.k0s()),2&s){const n=e.XpG();e.R7$(),e.xc7("width",n.progressPercent+"%"),e.BMQ("aria-valuenow",n.progressPercent)}}function Jv(s,p){}function Qv(s,p){if(1&s){const n=e.RV6();e.j41(0,"button",18),e.bIt("click",function(){e.eBV(n);const l=e.XpG();return e.Njj(l.nextTab())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}if(2&s){const n=e.XpG();e.Y8G("disabled",!n.canNext()),e.R7$(),e.JRh(e.bMT(2,2,"Common.Next"))}}function Zv(s,p){if(1&s){const n=e.RV6();e.j41(0,"button",19),e.bIt("click",function(){e.eBV(n);const l=e.XpG();return e.Njj(l.submit())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Common.Save")))}function qv(s,p){if(1&s){const n=e.RV6();e.j41(0,"button",20),e.bIt("click",function(){e.eBV(n);const l=e.XpG();return e.Njj(l.previousTab())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Common.Back")))}function Rf(s,p){1&s&&(e.j41(0,"a",15),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"StarterMode.UpgradeAdminUI")))}let dc=(()=>{class s extends ap.P{constructor(n,a,l,D,ee){super(n,a,l),this.dynamicAuthService=D,this.configService=ee,this.wizardProvider=new Yv,this.wizardName=Vi.$.Home,this.configService.getConfig().subscribe({next:De=>{this.wizardProvider=new Kv(De.featureFlagOptions.dynamicAuthenticationFlag==ja.U.Rsk)},error:De=>{this.errorService.handleError(De)}})}submit(){const n=Uv(this.getModel());this.dynamicAuthService.createDynamicAuth(n).subscribe({complete:()=>{this.finishWizard(),this.clearComponents(),this.toastr.success(`${this.translate.instant("Common.Created")}: ${n.displayName}`,this.translate.instant("Notifications.SuccessfullyCreated"))},error:a=>{this.errorService.handleError(a)}})}getModel(){const n=this.wizardName,a=this.getWizardDto(),l=this.summaryComponentRef.instance.isEnabled();var D="";if(this.wizardName===Vi.$.AddOidcDynamicAuth&&(D=JSON.stringify({authority:a.authority,clientId:a.clientId,callbackPath:a.callbackPath,usePkce:a.flow==Va.AuthCodePlusPkce,scope:a.scopes,clientSecret:a.clientSecret,signInScheme:a.signInScheme})),this.wizardName===Vi.$.AddSamlDynamicAuth){var ee={spEntityId:a.entityId,callbackPath:a.callbackPath,signAuthenticationRequests:!(0,Ai.hX)(a.certFile)&&!(0,Ai.hX)(a.certPassword),signingCertBase64:a.certFile,signingCertPassword:a.certPassword,signInScheme:a.signInScheme,idpMetadataAddress:a.metadataAddress};D=JSON.stringify(ee)}return{type:ps.fromWizardType(n),scheme:a.scheme,displayName:a.displayName,enabled:l,nonEditable:!1,options:D}}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(ne.I),e.rXU(Jn.tw),e.rXU(_n.c$),e.rXU(cc),e.rXU(Gs.w))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-wizard-host"]],features:[e.Jv_([Hl._]),e.Vt3],decls:23,vars:15,consts:[[1,"modal-header"],[1,"modal-title",3,"id"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-progress"],[1,"modal-body","scrollbars"],["appStepHost",""],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["class","tw-btn-success tw-mr-3","id","nextBtn",3,"disabled","click",4,"ngIf"],["class","tw-btn-success tw-mr-3","id","submitBtn",3,"click",4,"ngIf"],["class","tw-btn","id","backBtn",3,"click",4,"ngIf"],["id","upgradeAdminUI","href","starter-mode/teaser",1,"tw-btn","tw-ml-4"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],["role","progressbar",1,"modal-progress-bar"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],["id","submitBtn",1,"tw-btn-success","tw-mr-3",3,"click"],["id","backBtn",1,"tw-btn",3,"click"]],template:function(a,l){if(1&a&&(e.j41(0,"div",0)(1,"h5",1),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"button",2),e.bIt("click",function(){return l.hideWizard()}),e.nrm(5,"span",3),e.j41(6,"span",4),e.EFF(7),e.nI1(8,"translate"),e.k0s()()(),e.DNE(9,Xv,2,3,"div",5),e.j41(10,"div",6),e.DNE(11,Jv,0,0,"ng-template",7),e.k0s(),e.nrm(12,"div",8),e.j41(13,"div",9)(14,"div",10)(15,"div",11),e.DNE(16,Qv,3,4,"button",12)(17,Zv,3,3,"button",13)(18,qv,3,3,"button",14)(19,Rf,3,3,"a",15),e.k0s(),e.j41(20,"button",16),e.bIt("click",function(){return l.cancelWizard()}),e.EFF(21),e.nI1(22,"translate"),e.k0s()()()),2&a){let D;e.R7$(),e.Y8G("id",l.titleId),e.R7$(),e.JRh(e.bMT(3,9,null!==(D=null==l.wizardTitles?null:l.wizardTitles.setupTitle)&&void 0!==D?D:"")),e.R7$(5),e.JRh(e.bMT(8,11,"Common.Close")),e.R7$(2),e.vxM(9,l.showProgress?9:-1),e.R7$(7),e.Y8G("ngIf",l.index<(null==l.wizardSteps?null:l.wizardSteps.length)),e.R7$(),e.Y8G("ngIf",l.index==(null==l.wizardSteps?null:l.wizardSteps.length)),e.R7$(),e.Y8G("ngIf",!l.initialStep()),e.R7$(),e.vxM(19,l.initialStep()&&null!=l.asAny&&l.asAny.displayUpgradeIcon?19:-1),e.R7$(2),e.JRh(e.bMT(22,13,"Common.Cancel"))}},dependencies:[pn.bT,Jg.t,_n.D9],encapsulation:2})}}return s})();const PS=()=>({href:"https://www.identityserver.com/documentation/dynamic-authentication-providers/quickstarts/entityframework/"}),BS=(s,p)=>({"fad fa-pencil":s,"fas fa-eye":p});function lg(s,p){1&s&&(e.j41(0,"div",3),e.nrm(1,"app-title-bar",4),e.nI1(2,"translate"),e.j41(3,"div",5)(4,"div",6)(5,"p",7),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"ul",8)(9,"li")(10,"a",9),e.EFF(11),e.nI1(12,"translate"),e.k0s()(),e.j41(13,"li")(14,"a",10),e.EFF(15),e.nI1(16,"translate"),e.k0s()()()()()()),2&s&&(e.R7$(),e.Y8G("title",e.bMT(2,4,"DynamicAuth.Title.Generic")),e.R7$(5),e.JRh(e.bMT(7,6,"DynamicAuth.Unconfigured.FirstLine")),e.R7$(5),e.JRh(e.bMT(12,8,"DynamicAuth.Unconfigured.WhatIs")),e.R7$(4),e.JRh(e.bMT(16,10,"DynamicAuth.Unconfigured.Enable")))}function jc(s,p){if(1&s){const n=e.RV6();e.j41(0,"app-dynamic-auth-wizard-host",17),e.bIt("wizardCancel",function(){e.eBV(n);const l=e.XpG(2);return e.Njj(l.hideWizard())})("finish",function(){e.eBV(n);const l=e.XpG(2);return e.Njj(l.onFinish())})("hide",function(){e.eBV(n);const l=e.XpG(2);return e.Njj(l.hideWizard())}),e.k0s()}}function cg(s,p){1&s&&(e.j41(0,"div",18)(1,"div",19),e.nrm(2,"span",20),e.nI1(3,"translate"),e.k0s()()),2&s&&(e.R7$(2),e.Y8G("innerHTML",e.i5U(3,1,"Errors.DynamicAuthentication.SchemaHealth",e.lJ4(4,PS)),e.npT))}function LS(s,p){1&s&&(e.j41(0,"span"),e.nrm(1,"span",38),e.EFF(2),e.nI1(3,"translate"),e.k0s()),2&s&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"Auditing.ShowFilters")," "))}function ug(s,p){1&s&&(e.j41(0,"span"),e.nrm(1,"span",39),e.EFF(2),e.nI1(3,"translate"),e.k0s()),2&s&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"Auditing.HideFilters")," "))}function pD(s,p){if(1&s){const n=e.RV6();e.j41(0,"li",34)(1,"button",40),e.bIt("click",function(){e.eBV(n);const l=e.XpG(3);return e.Njj(l.filter(l.DynamicAuthFilters.Enabled))}),e.EFF(2),e.nI1(3,"translate"),e.k0s()()}if(2&s){const n=e.XpG(3);e.R7$(),e.Y8G("ngClass",n.isShowing(n.DynamicAuthFilters.Enabled)?"tw-btn":"tw-btn-link"),e.R7$(),e.SpI(" ",e.bMT(3,2,"DynamicAuth.Filters.Enabled")," ")}}function mD(s,p){if(1&s){const n=e.RV6();e.j41(0,"li")(1,"button",41),e.bIt("click",function(){e.eBV(n);const l=e.XpG(3);return e.Njj(l.filter(l.DynamicAuthFilters.Disabled))}),e.EFF(2),e.nI1(3,"translate"),e.k0s()()}if(2&s){const n=e.XpG(3);e.R7$(),e.Y8G("ngClass",n.isShowing(n.DynamicAuthFilters.Disabled)?"tw-btn":"tw-btn-link"),e.R7$(),e.SpI(" ",e.bMT(3,2,"DynamicAuth.Filters.Disabled")," ")}}function US(s,p){if(1&s){const n=e.RV6();e.j41(0,"div",46)(1,"label",47),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"select",48),e.mxI("ngModelChange",function(l){e.eBV(n);const D=e.XpG(4);return e.DH7(D.pageSize,l)||(D.pageSize=l),e.Njj(l)}),e.bIt("change",function(){e.eBV(n);const l=e.XpG(4);return e.Njj(l.setPageLength(+l.pageSize))}),e.j41(5,"option",49),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"option",50),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"option",51),e.EFF(12),e.nI1(13,"translate"),e.k0s()()()}if(2&s){const n=e.XpG(4);e.R7$(2),e.Lme("",n.pageSize," ",e.bMT(3,6,"Nav.PerPage"),""),e.R7$(2),e.R50("ngModel",n.pageSize),e.R7$(2),e.SpI("25 ",e.bMT(7,8,"Nav.PerPage"),""),e.R7$(3),e.SpI("50 ",e.bMT(10,10,"Nav.PerPage"),""),e.R7$(3),e.SpI("100 ",e.bMT(13,12,"Nav.PerPage"),"")}}function VS(s,p){if(1&s){const n=e.RV6();e.j41(0,"app-action-bar"),e.qex(1,42),e.DNE(2,US,14,14,"div",43),e.bVm(),e.qex(3,44),e.j41(4,"button",45),e.bIt("click",function(){e.eBV(n),e.XpG(2);const l=e.sdS(9),D=e.XpG();return e.Njj(D.showWizard(l))}),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.bVm(),e.k0s()}if(2&s){const n=e.XpG(3);e.R7$(2),e.Y8G("ngIf",(null==n.pagedResult?null:n.pagedResult.results.length)>0),e.R7$(3),e.SpI(" ",e.bMT(6,2,"Common.Add")," ")}}function ey(s,p){1&s&&e.nrm(0,"app-simple-loader")}function jS(s,p){1&s&&(e.j41(0,"div",55)(1,"div"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&s&&(e.R7$(2),e.JRh(e.bMT(3,1,"DynamicAuth.List.None")))}function po(s,p){1&s&&(e.j41(0,"span",70)(1,"span",14),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&s&&(e.R7$(2),e.JRh(e.bMT(3,1,"Common.Disabled")))}function ty(s,p){1&s&&(e.j41(0,"span",71),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Disabled")," "))}function $S(s,p){1&s&&(e.j41(0,"span",72),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Reserved")," "))}function GS(s,p){if(1&s){const n=e.RV6();e.j41(0,"tr",61)(1,"td",62),e.bIt("click",function(){const l=e.eBV(n).$implicit,D=e.XpG(5);return e.Njj(D.viewOrEditDynamicAuth(l))}),e.DNE(2,po,4,3,"span",63),e.j41(3,"b"),e.EFF(4),e.k0s()(),e.j41(5,"td",64),e.bIt("click",function(){const l=e.eBV(n).$implicit,D=e.XpG(5);return e.Njj(D.viewOrEditDynamicAuth(l))}),e.EFF(6),e.k0s(),e.j41(7,"td",64),e.bIt("click",function(){const l=e.eBV(n).$implicit,D=e.XpG(5);return e.Njj(D.viewOrEditDynamicAuth(l))}),e.j41(8,"code"),e.EFF(9),e.k0s()(),e.j41(10,"td",65),e.bIt("click",function(){const l=e.eBV(n).$implicit,D=e.XpG(5);return e.Njj(D.viewOrEditDynamicAuth(l))}),e.DNE(11,ty,3,3,"span",66)(12,$S,3,3,"span",67),e.k0s(),e.j41(13,"td",65),e.bIt("click",function(){const l=e.eBV(n).$implicit,D=e.XpG(5);return e.Njj(D.viewOrEditDynamicAuth(l))}),e.j41(14,"button",68),e.bIt("click",function(){const l=e.eBV(n).$implicit,D=e.XpG(5);return e.Njj(D.viewOrEditDynamicAuth(l))}),e.nrm(15,"span",69),e.j41(16,"span",14),e.EFF(17),e.nI1(18,"translate"),e.k0s()()()()}if(2&s){const n=p.$implicit,a=e.XpG(5);e.AVh("inactive",!n.enabled||(null==n?null:n.nonEditable)),e.FS9("id",n.scheme),e.R7$(2),e.Y8G("ngIf",!n.enabled),e.R7$(),e.AVh("tw-text-blue-500",!(null!=n&&n.nonEditable)),e.R7$(),e.SpI(" ",null==n?null:n.scheme," "),e.R7$(2),e.SpI(" ",null==n?null:n.displayName," "),e.R7$(3),e.JRh(a.typeStr(null==n?null:n.type)),e.R7$(2),e.Y8G("ngIf",!n.enabled),e.R7$(),e.Y8G("ngIf",null==n?null:n.nonEditable),e.R7$(3),e.Y8G("ngClass",e.l_i(15,BS,!a.isReadOnly&&!n.nonEditable,a.isReadOnly||n.nonEditable)),e.R7$(2),e.JRh(e.bMT(18,13,"Common.Edit"))}}function ny(s,p){if(1&s&&(e.j41(0,"table",56)(1,"thead")(2,"tr")(3,"th",57),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"th",58),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"th",58),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"th",59)(13,"span",14),e.EFF(14),e.nI1(15,"translate"),e.k0s()(),e.j41(16,"th",59)(17,"span",14),e.EFF(18),e.nI1(19,"translate"),e.k0s()()()(),e.j41(20,"tbody"),e.DNE(21,GS,19,18,"tr",60),e.k0s()()),2&s){const n=e.XpG(4);e.R7$(4),e.SpI(" ",e.bMT(5,6,"Common.Scheme")," "),e.R7$(3),e.SpI(" ",e.bMT(8,8,"Common.Name")," "),e.R7$(3),e.SpI(" ",e.bMT(11,10,"Common.Type")," "),e.R7$(4),e.JRh(e.bMT(15,12,"Common.Status")),e.R7$(4),e.JRh(e.bMT(19,14,"Common.Actions")),e.R7$(3),e.Y8G("ngForOf",n.dynamicAuths)}}function HS(s,p){if(1&s){const n=e.RV6();e.j41(0,"app-pager",73),e.bIt("onGoToPage",function(l){e.eBV(n);const D=e.XpG(4);return e.Njj(D.goToPage(l))}),e.k0s()}if(2&s){const n=e.XpG(4);e.Y8G("totalResults",null==n.pagedResult?null:n.pagedResult.totalCount)("currentPage",n.page)("lastPage",null==n.pagedResult?null:n.pagedResult.pageCount)}}function iy(s,p){if(1&s&&(e.qex(0),e.DNE(1,jS,4,3,"div",52)(2,ny,22,16,"table",53)(3,HS,1,3,"app-pager",54),e.bVm()),2&s){const n=e.XpG(3);e.R7$(),e.Y8G("ngIf",(null==n.dynamicAuths?null:n.dynamicAuths.length)<1),e.R7$(),e.Y8G("ngIf",(null==n.dynamicAuths?null:n.dynamicAuths.length)>0),e.R7$(),e.Y8G("ngIf",(null==n.pagedResult?null:n.pagedResult.results.length)>0&&!n.isLoading)}}function ry(s,p){if(1&s){const n=e.RV6();e.j41(0,"div",21)(1,"div",22)(2,"div",23)(3,"label",24),e.nrm(4,"span",25),e.j41(5,"span",14),e.EFF(6),e.nI1(7,"translate"),e.k0s()(),e.j41(8,"input",26),e.nI1(9,"translate"),e.mxI("ngModelChange",function(l){e.eBV(n);const D=e.XpG(2);return e.DH7(D.searchTerm,l)||(D.searchTerm=l),e.Njj(l)}),e.bIt("keyup",function(l){e.eBV(n);const D=e.XpG(2);return e.Njj(D.search(l))}),e.k0s()(),e.j41(10,"button",27),e.bIt("click",function(){e.eBV(n);const l=e.XpG(2);return e.Njj(l.showAdvancedFilters=!l.showAdvancedFilters)}),e.DNE(11,LS,4,3,"span",28)(12,ug,4,3,"span",28),e.k0s(),e.j41(13,"div",29)(14,"div",30)(15,"div",31)(16,"p",32),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"ul",33)(20,"li",34)(21,"button",35),e.bIt("click",function(){e.eBV(n);const l=e.XpG(2);return e.Njj(l.filter(l.DynamicAuthFilters.OIDC))}),e.EFF(22),e.nI1(23,"translate"),e.k0s()(),e.j41(24,"li",34)(25,"button",36),e.bIt("click",function(){e.eBV(n);const l=e.XpG(2);return e.Njj(l.filter(l.DynamicAuthFilters.SAML))}),e.EFF(26),e.nI1(27,"translate"),e.k0s()(),e.DNE(28,pD,4,4,"li",37)(29,mD,4,4,"li",28),e.k0s()()(),e.nrm(30,"hr"),e.k0s()(),e.DNE(31,VS,7,4,"app-action-bar",28)(32,ey,1,0,"app-simple-loader",28)(33,iy,4,3,"ng-container",28),e.k0s()}if(2&s){const n=e.XpG(2);e.R7$(6),e.JRh(e.bMT(7,16,"Common.Search")),e.R7$(2),e.FS9("placeholder",e.bMT(9,18,"DynamicAuth.SearchPlaceholder")),e.R50("ngModel",n.searchTerm),e.R7$(3),e.Y8G("ngIf",!n.showAdvancedFilters),e.R7$(),e.Y8G("ngIf",n.showAdvancedFilters),e.R7$(),e.Y8G("hidden",!n.showAdvancedFilters),e.R7$(4),e.JRh(e.bMT(18,20,"Auditing.Showing")),e.R7$(4),e.Y8G("ngClass",n.isShowing(n.DynamicAuthFilters.OIDC)?"tw-btn":"tw-btn-link"),e.R7$(),e.SpI(" ",e.bMT(23,22,"DynamicAuth.Filters.OIDC")," "),e.R7$(3),e.Y8G("ngClass",n.isShowing(n.DynamicAuthFilters.SAML)?"tw-btn":"tw-btn-link"),e.R7$(),e.SpI(" ",e.bMT(27,24,"DynamicAuth.Filters.SAML")," "),e.R7$(2),e.Y8G("ngIf",!n.isRskDynamicAuth),e.R7$(),e.Y8G("ngIf",!n.isRskDynamicAuth),e.R7$(2),e.Y8G("ngIf",!n.isLoading&&!n.isReadOnly),e.R7$(),e.Y8G("ngIf",n.isLoading),e.R7$(),e.Y8G("ngIf",!n.isLoading)}}function Vu(s,p){if(1&s&&(e.j41(0,"div",11)(1,"app-title-bar",4),e.nI1(2,"translate"),e.j41(3,"a",12),e.nrm(4,"span",13),e.j41(5,"span",14),e.EFF(6),e.nI1(7,"translate"),e.k0s()()(),e.DNE(8,jc,1,0,"ng-template",null,0,e.C5r)(10,cg,4,5,"div",15)(11,ry,34,26,"div",16),e.k0s()),2&s){const n=e.XpG();e.R7$(),e.Y8G("title",e.bMT(2,5,n.isRskDynamicAuth?"DynamicAuth.Title.RSK":"DynamicAuth.Title.Duende")),e.R7$(2),e.Y8G("href",n.LinkConstants.EnablingDynamicAuth,e.B4B),e.R7$(3),e.JRh(e.bMT(7,7,"Common.Help")),e.R7$(4),e.Y8G("ngIf",!n.schemaHealthy),e.R7$(),e.Y8G("ngIf",n.schemaHealthy)}}let WS=(()=>{class s extends co.if{get DynamicAuthFilters(){return Af}get isReadOnly(){return(0,Ai.ci)(this.securityService.userPermissions)}get LinkConstants(){return ua}typeStr(n){return ps[n]}constructor(n,a,l,D,ee,De,Ze,gt,Vt,ln){super(De,Ze,!0),this.configService=n,this.errorService=a,this.titleService=l,this.dynamicAuthenticationService=D,this.securityService=ee,this.router=gt,this.localize=Vt,this.modalService=ln,this.activeFilters=[],this.pageSize=25,this.page=1,this.term="",this.isLoading=!0,this.showAdvancedFilters=!1,this.schemaHealthy=!0,this.isRskDynamicAuth=!1,this.dynamicAuthIsNotConfigured=!1,this.dynamicAuths=[],this.filterStream=new Ar.B,this.pageStream=new Ar.B,this.pageSizeStream=new Ar.B,this.mapSearchTerm=this.mapSearchTerm.bind(this)}showWizard(n){this.modalService.show(n,{id:uo.R.Id,ariaLabelledBy:uo.R.TileId,ariaDescribedby:uo.R.DescriptionId,backdrop:"static"})}hideWizard(){this.modalService.hide(uo.R.Id)}reload(){this.pageStream.next(this.page),this.pageSizeStream.next(this.pageSize)}mapSearchTerm(n){return this.term=n,{searchTerm:n,page:1,pageSize:this.pageSize}}ngOnInit(){const n=this.translate.instant("Nav.DynamicAuth")+" - "+Bt.$9.SITE_TITLE;this.isLoading=!0,this.titleService.setTitle(n),this.configService.getConfig().subscribe({next:a=>{this.dynamicAuthIsNotConfigured=(0,Ai.hX)(a.featureFlagOptions.dynamicAuthenticationFlag),this.isRskDynamicAuth=a.featureFlagOptions.dynamicAuthenticationFlag==ja.U.Rsk},error:a=>{this.errorService.handleError(a)}}),this.dynamicAuthIsNotConfigured||this.dynamicAuthenticationService.schemaHealthy().pipe((0,$n.$)()).subscribe({next:a=>{this.schemaHealthy=a,this.schemaHealthy&&this.triggerPageLoad()},error:a=>{this.toastr.error(this.translate.instant("Errors.DynamicAuthentication.SchemeHealthHttp",{status:a.status}))}})}triggerPageLoad(){const n=this.filterStream.pipe((0,Ci.T)(D=>(this.activeFilters=D,{filters:D,searchTerm:this.term,page:this.page,pageSize:this.pageSize}))),a=this.pageStream.pipe((0,Ci.T)(D=>(this.page=D,{filters:this.activeFilters,searchTerm:this.term,page:D,pageSize:this.pageSize}))),l=this.pageSizeStream.pipe((0,Ci.T)(D=>(this.pageSize=D,{filters:this.activeFilters,searchTerm:this.term,page:this.page,pageSize:D})));a.pipe((0,fa.X)(l),(0,fa.X)(this.searchSource),(0,fa.X)(n),(0,fa.X)(this.enterKeySource),(0,Ja.Z)({filters:this.activeFilters,searchTerm:this.term,page:this.page,pageSize:this.pageSize}),(0,ea.Z)(D=>{this.isLoading=!0;const ee=D.filters.join(" ");return this.dynamicAuthenticationService.get(D.searchTerm,D.page,D.pageSize,ee).pipe((0,ta.c)(200))})).subscribe({next:D=>{this.pagedResult=D,this.dynamicAuths=this.pagedResult.results.map(ee=>sg(ee)).sort((ee,De)=>Number(De.nonEditable)-Number(ee.nonEditable)),this.isLoading=!1},error:D=>{500===D.status?this.handleInternalServerError():this.errorService.handleError(D),this.isLoading=!1}})}filter(n){if(this.activeFilters.includes(n)){const a=this.activeFilters.indexOf(n);this.activeFilters.splice(a,1)}else this.activeFilters.push(n);this.filterStream.next(this.activeFilters)}isShowing(n){return this.activeFilters.includes(n)}goToPage(n){this.pageStream.next(n)}setPageLength(n){this.page=1,this.pageSizeStream.next(n)}viewOrEditDynamicAuth(n){const l=this.localize.translateRoute(`${this.isReadOnly||n.nonEditable?"/dynamic-auth/view":"/dynamic-auth"}/${n.scheme}`);this.router.navigateByUrl(l)}handleInternalServerError(){this.toastr.error(this.translate.instant("IdentityProviders.Filter.StoredProcedureErrorMessage"),this.translate.instant("Notifications.Error"))}onFinish(){this.hideWizard(),this.reload()}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(Gs.w),e.rXU(ne.I),e.rXU(i.hE),e.rXU(cc),e.rXU(Vr.i),e.rXU(Jn.tw),e.rXU(_n.c$),e.rXU(bt.Ix),e.rXU(Wn.QG),e.rXU(Rt.I8))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["ng-component"]],features:[e.Vt3],decls:2,vars:2,consts:[["idpWizardModal",""],["id","missingConfiguration",4,"ngIf"],["id","listView",4,"ngIf"],["id","missingConfiguration"],[3,"title"],["id","ActivationInformation",1,"tw-container","mx-auto"],[1,"cms"],["id","firstLine"],[1,"tw-list-disc","tw-list-inside","tw-indent-8"],["href","documentation/DynamicAuthentication/What_is_Dynamic_Authentication.html","target","_blank",1,"tw-text-blue-500","hover:tw-text-body","tw-transition-all","tw-ease-in-out"],["href","documentation/DynamicAuthentication/Enabling_or_disabling_Dynamic_Authentication.html","target","_blank",1,"tw-text-blue-500","hover:tw-text-body","tw-transition-all","tw-ease-in-out"],["id","listView"],["type","button","target","_blank","ctx","",1,"tw-btn-link","tw-btn","group-hover:tw-text-blue-500","tw-pl-0",3,"href"],[1,"far","fa-question-circle"],[1,"sr-only"],["id","schemaUnhealthy","class","tw-container tw-mx-auto",4,"ngIf"],["id","dynamicAuthList","class","tw-container tw-mx-auto",4,"ngIf"],[3,"wizardCancel","finish","hide"],["id","schemaUnhealthy",1,"tw-container","tw-mx-auto"],[1,"tw-alert-warning","tw-mb-4"],[3,"innerHTML"],["id","dynamicAuthList",1,"tw-container","tw-mx-auto"],["id","searchContainer",1,"tw-mb-2"],[1,"tw-flex","tw-bg-white","tw-border","tw-border-grey-300","tw-opacity-75","tw-cursor-text","tw-rounded","focus-within:tw-opacity-100","focus-within:tw-border-blue-400","tw-transition-all","tw-ease-in-out"],["for","idpTerm",1,"tw-flex","tw-items-center","tw-text-grey-500","tw-m-0","tw-ml-3"],["aria-hidden","true",1,"far","fa-search","tw-text-sm"],["id","idpTerm","type","search",1,"tw-bg-transparent","tw-border-0","tw-text-base","tw-leading-tight","tw-px-2","tw-py-2","tw-w-full","focus:tw-outline-none","tw-transition-all","tw-ease-in-out",3,"ngModelChange","keyup","ngModel","placeholder"],["id","showFilterButton","type","button","aria-expanded","showAdvancedFilters",1,"tw-btn-link","tw-btn-small","tw-px-0","mt-2",3,"click"],[4,"ngIf"],["id","toggleFilters","aria-labelledby","showFilterButton",1,"tw-mt-3","tw-mb-6",3,"hidden"],[1,"tw-flex-grid","md:tw-flex-nowrap","mb-3"],[1,"tw-flex-grid-col","md:tw-ml-auto","md:tw-w-auto","mb-3","mr-2"],[1,"tw-form-label"],[1,"tw-flex","tw-items-center"],[1,"mr-2"],["id","oidcFilter",3,"click","ngClass"],["id","samlFilter",3,"click","ngClass"],["class","mr-2",4,"ngIf"],["aria-hidden","true",1,"fas","fa-angle-down","tw-mr-1"],["aria-hidden","true",1,"fas","fa-angle-up","tw-mr-1"],["id","enabledFilter",3,"click","ngClass"],["id","disabledFilter",3,"click","ngClass"],["left",""],["class","tw-hidden tw-form-select tw-w-auto sm:tw-block",4,"ngIf"],["right",""],["id","addIdpBtn",1,"tw-btn-success",3,"click"],[1,"tw-hidden","tw-form-select","tw-w-auto","sm:tw-block"],["for","pageSizeToggle",1,"sr-only"],["id","pageSizeToggle",1,"tw-form-control","tw-form-control-small",3,"ngModelChange","change","ngModel"],["value","25"],["value","50"],["value","100"],["id","idpNone","class","tw-alert","role","alert",4,"ngIf"],["id","idpTable","class","datatable selectable hover",4,"ngIf"],[3,"totalResults","currentPage","lastPage","onGoToPage",4,"ngIf"],["id","idpNone","role","alert",1,"tw-alert"],["id","idpTable",1,"datatable","selectable","hover"],["id","sortUsername",1,"md:tw-w-1/3","lg:tw-w-1/3"],[1,"tw-hidden","lg:tw-table-cell"],[1,"tw-w-1"],["class","group",3,"id","inactive",4,"ngFor","ngForOf"],[1,"group",3,"id"],[1,"tw-max-w-0","tw-truncate",3,"click"],["class","fas fa-exclamation-triangle tw-text-orange-500 tw-mr-1","container","body",4,"ngIf"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell",3,"click"],[3,"click"],["class","tw-pill-warning",4,"ngIf"],["class","tw-pill",4,"ngIf"],["type","button",1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click"],["id","viewOrEditIcon","aria-hidden","true",3,"ngClass"],["container","body",1,"fas","fa-exclamation-triangle","tw-text-orange-500","tw-mr-1"],[1,"tw-pill-warning"],[1,"tw-pill"],[3,"onGoToPage","totalResults","currentPage","lastPage"]],template:function(a,l){1&a&&e.DNE(0,lg,17,12,"div",1)(1,Vu,12,9,"div",2),2&a&&(e.Y8G("ngIf",l.dynamicAuthIsNotConfigured),e.R7$(),e.Y8G("ngIf",!l.dynamicAuthIsNotConfigured))},dependencies:[pn.YU,pn.Sq,pn.bT,g.xH,g.y7,g.me,g.wz,g.BC,g.vS,Zt.z,_l.n,As.d,Qa.B,dc,_n.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();var ju=u(3806),$u=u(1258),Mf=u(4754),dg=u(1560),hg=u(3899);const fg=["updateClientSecretButton"],xf=s=>[s];function pg(s,p){1&s&&(e.j41(0,"app-form-row",15)(1,"app-form-toggle",16),e.nrm(2,"input",17),e.k0s()()),2&s&&(e.Y8G("id","Enabled")("label","Common.Enabled"),e.R7$(),e.Y8G("id","Enabled")("isTraffic",!0)("isAlt",!1))}function mg(s,p){if(1&s&&(e.j41(0,"div",10),e.DNE(1,pg,3,5,"app-form-row",11),e.j41(2,"app-form-row",12),e.nrm(3,"app-readonly",13),e.nI1(4,"readOnlyValue"),e.k0s(),e.j41(5,"app-form-row",12),e.nrm(6,"input",14),e.k0s()()),2&s){const n=e.XpG(2);e.R7$(),e.Y8G("ngIf",!n.isRskDynamicAuth),e.R7$(),e.Y8G("id","Scheme")("label","DynamicAuth.Scheme.Label")("help","DynamicAuth.Scheme.Help"),e.R7$(),e.Y8G("fieldType",n.ReadOnlyFieldType.Single)("values",e.eq3(11,xf,e.bMT(4,9,n.dynamicAuth.scheme))),e.R7$(2),e.Y8G("id","DisplayName")("label","DynamicAuth.DisplayName.Label")("help","DynamicAuth.DisplayName.Help")}}function Bl(s,p){1&s&&(e.j41(0,"app-form-row",12),e.nrm(1,"input",25),e.k0s()),2&s&&e.Y8G("id","CallbackPath")("label","DynamicAuth.CallbackPath.Label")("help","DynamicAuth.CallbackPath.Help")}function KS(s,p){if(1&s&&(e.j41(0,"option",26),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s){const n=p.$implicit;e.Y8G("value",n),e.R7$(),e.JRh(e.bMT(2,2,"DynamicAuth.Flows."+n))}}function sy(s,p){if(1&s){const n=e.RV6();e.j41(0,"div",18)(1,"app-form-row",12)(2,"input",19),e.bIt("focusout",function(){e.eBV(n);const l=e.XpG(2);return e.Njj(l.tryReachAuthority())}),e.k0s()(),e.j41(3,"app-form-row",12),e.nrm(4,"input",20),e.k0s(),e.DNE(5,Bl,2,3,"app-form-row",21),e.j41(6,"app-form-row",12)(7,"div",22)(8,"select",23),e.DNE(9,KS,3,4,"option",24),e.k0s()()()()}if(2&s){const n=e.XpG(2);e.R7$(),e.Y8G("id","Authority")("label","DynamicAuth.Authority.Label")("help","DynamicAuth.Authority.Help"),e.R7$(2),e.Y8G("id","ClientId")("label","DynamicAuth.ClientId.Label")("help","DynamicAuth.ClientId.Help"),e.R7$(2),e.Y8G("ngIf",n.isRskDynamicAuth),e.R7$(),e.Y8G("id","Flow")("label","DynamicAuth.Flow.Label")("help","DynamicAuth.Flow.Help"),e.R7$(3),e.Y8G("ngForOf",n.allowedFlows)}}function Ll(s,p){1&s&&(e.j41(0,"app-form-row",31)(1,"app-form-toggle",16),e.nrm(2,"input",32),e.k0s()()),2&s&&(e.Y8G("id","DifferentSignOut")("label","DynamicAuth.DifferentSignOut.Label")("help","DynamicAuth.DifferentSignOut.Help"),e.R7$(),e.Y8G("id","DifferentSignOut")("isTraffic",!0)("isAlt",!1))}function dl(s,p){1&s&&(e.j41(0,"app-form-row",12)(1,"app-row-bar",28),e.nrm(2,"input",33),e.nI1(3,"translate"),e.k0s()()),2&s&&(e.Y8G("id","SignOutScheme")("label","DynamicAuth.SignOutScheme.Label")("help","DynamicAuth.SignOutScheme.Help"),e.R7$(2),e.FS9("placeholder",e.bMT(3,4,"DynamicAuth.SignOutScheme.Placeholder")))}function hl(s,p){if(1&s&&(e.j41(0,"div",27)(1,"app-form-row",12)(2,"app-row-bar",28),e.nrm(3,"input",29),e.nI1(4,"translate"),e.k0s()(),e.DNE(5,Ll,3,6,"app-form-row",30)(6,dl,4,6,"app-form-row",21),e.k0s()),2&s){const n=e.XpG(2);e.R7$(),e.Y8G("id","SignInScheme")("label","DynamicAuth.SignInScheme.Label")("help","DynamicAuth.SignInScheme.Help"),e.R7$(2),e.FS9("placeholder",e.bMT(4,6,"DynamicAuth.SignInScheme.Placeholder")),e.R7$(2),e.Y8G("ngIf",n.isRskDynamicAuth||n.dynamicAuth.type==n.dynamicAuthTypes.SAML),e.R7$(),e.Y8G("ngIf",(n.isRskDynamicAuth||n.dynamicAuth.type==n.dynamicAuthTypes.SAML)&&n.formGroup.get("signInSchemeForm.differentSignOut").value)}}function oy(s,p){if(1&s&&(e.j41(0,"div")(1,"app-form-row",34),e.nrm(2,"app-lifetime-picker",35),e.k0s()()),2&s){const n=e.XpG(2);e.R7$(),e.Y8G("id","TimeComparisonTolerance")("label","DynamicAuth.SAML.TimeComparisonTolerance.Label")("help","DynamicAuth.SAML.TimeComparisonTolerance.Help")("isLast",!0),e.R7$(),e.Y8G("buttons",n.defaultToleranceTimes)}}function ay(s,p){if(1&s){const n=e.RV6();e.j41(0,"div",36)(1,"app-form-row",34)(2,"div",37),e.nrm(3,"app-readonly",13),e.j41(4,"button",38,0),e.nI1(6,"translate"),e.bIt("click",function(){e.eBV(n);const l=e.XpG(2);return e.Njj(l.openClientSecretModal())}),e.nrm(7,"span",39),e.j41(8,"span",40),e.EFF(9),e.nI1(10,"translate"),e.k0s()()()()()}if(2&s){const n=e.XpG(2);e.R7$(),e.Y8G("id","ClientSecret")("label","DynamicAuth.ClientSecret.Label")("help","DynamicAuth.ClientSecret.Help")("isLast",!0),e.R7$(2),e.Y8G("fieldType",n.ReadOnlyFieldType.Single)("values",e.eq3(12,xf,n.displaySecret)),e.R7$(),e.Y8G("tooltip",e.bMT(6,8,"DynamicAuth.UpdateClientSecret.Title")),e.R7$(5),e.JRh(e.bMT(10,10,"Common.Edit"))}}function zS(s,p){if(1&s&&(e.j41(0,"form",4),e.DNE(1,mg,7,13,"div",5)(2,sy,10,11,"div",6)(3,hl,7,8,"div",7)(4,oy,3,5,"div",8)(5,ay,11,14,"div",9),e.k0s()),2&s){const n=e.XpG();e.Y8G("formGroup",n.formGroup),e.R7$(),e.Y8G("ngIf",n.formGroup.get("detailsForm")),e.R7$(),e.Y8G("ngIf",n.formGroup.get("connectionForm")&&n.dynamicAuth.type==n.dynamicAuthTypes.OIDC),e.R7$(),e.Y8G("ngIf",n.formGroup.get("signInSchemeForm")&&(n.isRskDynamicAuth||n.dynamicAuth.type==n.dynamicAuthTypes.SAML)),e.R7$(),e.Y8G("ngIf",n.formGroup.get("timeComparisonTolerance")&&(n.isRskDynamicAuth||n.dynamicAuth.type==n.dynamicAuthTypes.SAML)),e.R7$(),e.Y8G("ngIf",n.formGroup.get("secretForm")&&n.dynamicAuth.type==n.dynamicAuthTypes.OIDC)}}function YS(s,p){if(1&s){const n=e.RV6();e.j41(0,"app-custom-modal",41),e.bIt("onCancel",function(){e.eBV(n);const l=e.XpG();return e.Njj(l.cancelClientSecretModal())})("onSave",function(){e.eBV(n);const l=e.XpG();return e.Njj(l.addNewClientSecretToFormGroup())}),e.j41(1,"form",4)(2,"p",42),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.nrm(5,"input",43),e.k0s()()}if(2&s){const n=e.XpG();e.Y8G("title","DynamicAuth.UpdateClientSecret.Title")("modalId",n.updateClientSecretModalId)("actions",n.updateClientSecretModalActions)("saveText","DynamicAuth.UpdateClientSecret.Confirm"),e.R7$(),e.Y8G("formGroup",n.formClientSecret),e.R7$(2),e.SpI("",e.bMT(4,6,"DynamicAuth.UpdateClientSecret.Description"),":")}}let XS=(()=>{class s{get ReadOnlyFieldType(){return Hi.t}constructor(n,a,l,D,ee,De,Ze,gt){this.fb=n,this.errorService=a,this.dynamicAuthCacheService=l,this.configService=D,this.providerValidator=ee,this.translate=De,this.toastr=Ze,this.modalService=gt,this.dynamicAuthTypes=ps,this.isDeleting=!1,this.allowedFlows=Ws.FlowTypes,this.samlSignInSchemeCodeFrag=Ws.SamlSignInSchemeCodeFrag,this.samlSignOutSchemeCodeFrag=Ws.SamlSignOutSchemeCodeFrag,this.failedToContactAuthority=!1,this.updateClientSecretModalActions=[$u.N.Save],this.updateClientSecretModalId="updateClientSecretModal"}ngOnInit(){this.defaultToleranceTimes=[{duration:2,unit:ju.u.Minutes},{duration:5,unit:ju.u.Minutes},{duration:10,unit:ju.u.Minutes}],this.configService.getConfig().subscribe({next:n=>{this.isRskDynamicAuth=n.featureFlagOptions.dynamicAuthenticationFlag==ja.U.Rsk},error:n=>{this.errorService.handleError(n)}}),this.dynamicAuthCacheService.unsavedCache$.pipe((0,$n.$)()).subscribe({next:n=>{switch(this.dynamicAuth=n,this.dynamicAuth.type){case ps.OIDC:this.buildOidcForms(),this.formClientSecret=this.fb.group({newClientSecret:[""]}),this.tryReachAuthority();break;case ps.SAML:this.buildSamlForms()}this.subscribeToValueChanges()},error:n=>{this.errorService.handleError(n)}})}ngOnDestroy(){this.formSubscription.unsubscribe(),this.authorityChanged?.unsubscribe()}buildDetailsForm(){return this.fb.group({enabled:[this.dynamicAuth.enabled,[]],displayName:[this.dynamicAuth.displayName,[g.k0.required]]})}buildOidcForms(){this.oidcOptions=bo(this.dynamicAuth.options),this.displaySecret=new Oo.w(this.oidcOptions.clientSecret);let n={authority:[this.oidcOptions.authority,[g.k0.required,g.k0.pattern("^https://.{1,}$")]],clientId:[this.oidcOptions.clientId,[g.k0.required]],flow:[this.oidcOptions.usePkce?Va.AuthCodePlusPkce:Va.AuthCode,[g.k0.required]]};this.isRskDynamicAuth&&(n.callbackPath=[this.oidcOptions.callbackPath,[g.k0.required,Ql()]]);let a={detailsForm:this.buildDetailsForm(),connectionForm:this.fb.group(n),secretForm:this.fb.group({clientSecret:[this.oidcOptions.clientSecret,[]]})};this.isRskDynamicAuth&&(a.signInSchemeForm=this.fb.group({signInScheme:[this.oidcOptions.signInScheme,[g.k0.required]],differentSignOut:[!(0,Ai.gP)(this.oidcOptions.signOutScheme),[]],signOutScheme:[this.oidcOptions.signOutScheme,[]]}),a.signInSchemeForm.get("differentSignOut").valueChanges.subscribe(l=>{l&&a.signInSchemeForm.get("signOutScheme").setValidators([g.k0.required])})),this.formGroup=this.fb.group(a)}buildSamlForms(){this.samlOptions=wa(this.dynamicAuth.options),this.formGroup=this.fb.group({detailsForm:this.buildDetailsForm(),signInSchemeForm:this.fb.group({signInScheme:[this.samlOptions.signInScheme,[g.k0.required]],differentSignOut:[!(0,Ai.gP)(this.samlOptions.signOutScheme),[]],signOutScheme:[this.samlOptions.signOutScheme,[]]}),timeComparisonTolerance:[this.samlOptions.timeComparisonTolerance,[]]})}tryReachAuthority(){let n=this.formGroup.get("connectionForm.authority").value;this.providerValidator.isValid(n).subscribe(a=>{a||this.toastr.warning(this.translate.instant("DynamicAuth.Authority.ReachableWarningMsg"),this.translate.instant("DynamicAuth.Authority.ReachableWarningTitle"))})}subscribeToValueChanges(){this.formSubscription=this.formGroup.valueChanges.subscribe({next:n=>{let l,a={...this.dynamicAuth};a=this.updateDetails(a),this.dynamicAuth.type===ps.OIDC?(l={...this.oidcOptions},l=this.updateConnection(l),l=this.updateSignInScheme(l),l=this.updateSecret(l)):this.dynamicAuth.type===ps.SAML&&(l={...this.samlOptions},l=this.updateSignInScheme(l),l=this.updateTimeComparisonTolerance(l)),a.options=JSON.stringify(l),this.dynamicAuthCacheService.unsavedCache.next(a)}}),this.dynamicAuth.type===ps.OIDC&&(this.authorityChanged=this.formGroup.get("connectionForm.authority").valueChanges.subscribe(n=>{this.failedToContactAuthority=!1}))}canSave(){return!1}updateDetails(n){return this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditDetailsComponent.detailsForm",this.formGroup.get("detailsForm").valid),{...n,enabled:this.formGroup.get("detailsForm.enabled").value,displayName:this.formGroup.get("detailsForm.displayName").value}}updateConnection(n){this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditDetailsComponent.connectionForm",this.formGroup.get("connectionForm").valid);let a={...n,authority:this.formGroup.get("connectionForm.authority").value,clientId:this.formGroup.get("connectionForm.clientId").value,usePkce:this.formGroup.get("connectionForm.flow").value==Va.AuthCodePlusPkce};return this.isRskDynamicAuth&&(a.callbackPath=this.formGroup.get("connectionForm.callbackPath").value),a}updateSignInScheme(n){if(!this.isRskDynamicAuth&&this.dynamicAuth.type==ps.OIDC)return n;this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditDetailsComponent.signInSchemeForm",this.formGroup.get("signInSchemeForm").valid);let a={signInScheme:this.formGroup.get("signInSchemeForm.signInScheme").value,signOutScheme:void 0};if(this.dynamicAuth.type===ps.SAML||this.isRskDynamicAuth){let l=this.formGroup.get("signInSchemeForm.differentSignOut").value,D=this.formGroup.get("signInSchemeForm.signOutScheme").value;a.signOutScheme=l?D:null}return{...n,...a}}updateSecret(n){this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditDetailsComponent.secretForm",this.formGroup.get("secretForm").valid);let a=this.formGroup.get("secretForm.clientSecret").value;return this.displaySecret=new Oo.w(a),{...n,clientSecret:a}}updateTimeComparisonTolerance(n){let a=this.formGroup.get("timeComparisonTolerance");return this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditDetailsComponent.timeComparisonTolerance",a.valid),{...n,timeComparisonTolerance:a.value}}setTimeComparisonTolerance(n){this.formGroup.controls.timeComparisonTolerance.setValue(n)}checkTimeComparisonToleranceSelected(n){return n==this.formGroup.get("timeComparisonTolerance").value}addNewClientSecretToFormGroup(){let n=this.formClientSecret.get("newClientSecret").value;this.formGroup.controls.secretForm.setValue({clientSecret:n}),this.formClientSecret.controls.newClientSecret.setValue(null)}openClientSecretModal(){this.modalService.showById(this.updateClientSecretModalId,this.updateClientSecretButtonRef)}cancelClientSecretModal(){this.modalService.hideById(this.updateClientSecretModalId)}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(g.ze),e.rXU(ne.I),e.rXU(Ji.t),e.rXU(Gs.w),e.rXU(Uc),e.rXU(_n.c$),e.rXU(Jn.tw),e.rXU(Mf.B))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-edit-details"]],viewQuery:function(a,l){if(1&a&&e.GBs(fg,5),2&a){let D;e.mGM(D=e.lsd())&&(l.updateClientSecretButtonRef=D.first)}},decls:3,vars:2,consts:[["addClientSecretButton",""],["id","editIdPDetails",1,"tw-container","tw-mx-auto"],[3,"formGroup",4,"ngIf"],[3,"title","modalId","actions","saveText","onCancel","onSave",4,"ngIf"],[3,"formGroup"],["formGroupName","detailsForm",4,"ngIf"],["formGroupName","connectionForm",4,"ngIf"],["formGroupName","signInSchemeForm",4,"ngIf"],[4,"ngIf"],["formGroupName","secretForm",4,"ngIf"],["formGroupName","detailsForm"],[3,"id","label",4,"ngIf"],[3,"id","label","help"],[3,"fieldType","values"],["type","text","name","DisplayName","id","DisplayName","formControlName","displayName","required","",1,"tw-form-control"],[3,"id","label"],[3,"id","isTraffic","isAlt"],["id","Enabled","formControlName","enabled","type","checkbox",1,"tw-form-switch__input"],["formGroupName","connectionForm"],["type","text","name","Authority","id","Authority","formControlName","authority","required","",1,"tw-form-control",3,"focusout"],["type","text","name","ClientId","id","ClientId","formControlName","clientId","required","",1,"tw-form-control"],[3,"id","label","help",4,"ngIf"],[1,"tw-form-select"],["id","flow","formControlName","flow",1,"tw-form-control"],[3,"value",4,"ngFor","ngForOf"],["type","text","name","CallbackPath","id","CallbackPath","formControlName","callbackPath","required","",1,"tw-form-control"],[3,"value"],["formGroupName","signInSchemeForm"],[1,"tw-form-input"],["id","signInScheme","formControlName","signInScheme","type","text","name","Sign-In Scheme","left","",1,"tw-form-control",3,"placeholder"],["class","tw-form-typeahead",3,"id","label","help",4,"ngIf"],[1,"tw-form-typeahead",3,"id","label","help"],["id","DifferentSignOut","formControlName","differentSignOut","type","checkbox",1,"tw-form-switch__input"],["id","signOutScheme","formControlName","signOutScheme","type","text","name","Sign-Out Scheme","left","",1,"tw-form-control",3,"placeholder"],[3,"id","label","help","isLast"],["id","timeComparisonTolerance","formControlName","timeComparisonTolerance",3,"buttons"],["formGroupName","secretForm"],[1,"tw-flex","tw-w-full","lg:tw-max-w-2xl"],["id","changeClientSecret","type","button","placement","right",1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500","editClientSecret",3,"click","tooltip"],["id","editIcon","aria-hidden","true",1,"fad","fa-pencil"],[1,"sr-only"],[3,"onCancel","onSave","title","modalId","actions","saveText"],[1,"tw-mb-4"],["type","text","name","newClientSecret","id","newClientSecret","formControlName","newClientSecret",1,"tw-form-control"]],template:function(a,l){1&a&&(e.j41(0,"div",1),e.DNE(1,zS,6,6,"form",2),e.k0s(),e.DNE(2,YS,6,8,"app-custom-modal",3)),2&a&&(e.R7$(),e.Y8G("ngIf",l.dynamicAuth&&(l.oidcOptions||l.samlOptions)),e.R7$(),e.Y8G("ngIf",l.dynamicAuth&&l.oidcOptions))},dependencies:[pn.Sq,pn.bT,g.qT,g.xH,g.y7,g.me,g.Zm,g.wz,g.BC,g.cb,g.YS,g.j4,g.JD,g.$R,Me.dg,dg.T,fe.Y,ga.m,fc.f,hg.G,qr.O,Ri.u,_n.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();function JS(s,p){1&s&&(e.j41(0,"div")(1,"app-form-row",3),e.nrm(2,"input",7),e.k0s()()),2&s&&(e.R7$(),e.Y8G("id","IdPInitiatedSsoCompletionPath")("label","DynamicAuth.SAML.IdPInitiatedSsoCompletionPath.Label")("help","DynamicAuth.SAML.IdPInitiatedSsoCompletionPath.Help")("isLast",!0))}function gg(s,p){if(1&s&&(e.j41(0,"form",2)(1,"app-form-row",3)(2,"app-form-toggle",4),e.nrm(3,"input",5),e.k0s()(),e.DNE(4,JS,3,4,"div",6),e.k0s()),2&s){const n=e.XpG();e.Y8G("formGroup",n.idpAdvancedForm),e.R7$(),e.Y8G("id","AllowIdpInitiatedSso")("label","DynamicAuth.SAML.AllowIdpInitiatedSso.Label")("help","DynamicAuth.SAML.AllowIdpInitiatedSso.Help")("isLast",!n.idpAdvancedForm.get("allowIdpInitiatedSso").value),e.R7$(),e.Y8G("id","AllowIdpInitiatedSso")("isTraffic",!0)("isAlt",!1),e.R7$(2),e.Y8G("ngIf",n.idpAdvancedForm.get("allowIdpInitiatedSso").value)}}let th=(()=>{class s{constructor(n,a,l){this.fb=n,this.errorService=a,this.dynamicAuthCacheService=l}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,$n.$)()).subscribe({next:n=>{this.dynamicAuth=n,this.samlOptions=wa(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges()},error:n=>{this.errorService.handleError(n)}})}subscribeToValueChanges(){this.idpAdvancedFormSubscription=this.idpAdvancedForm.valueChanges.subscribe({next:n=>{this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditSpDetailsComponent",this.idpAdvancedForm.valid);var a={...this.samlOptions,allowIdpInitiatedSso:this.idpAdvancedForm.controls.allowIdpInitiatedSso.value,idPInitiatedSsoCompletionPath:this.idpAdvancedForm.controls.idPInitiatedSsoCompletionPath.value};const l={...this.dynamicAuth,options:JSON.stringify(a)};this.dynamicAuthCacheService.unsavedCache.next(l)}})}ngOnDestroy(){this.idpAdvancedFormSubscription.unsubscribe()}buildForm(){this.idpAdvancedForm=this.fb.group({allowIdpInitiatedSso:[this.samlOptions.allowIdpInitiatedSso,[]],idPInitiatedSsoCompletionPath:[this.samlOptions.idPInitiatedSsoCompletionPath,[g.k0.required]]})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(g.ze),e.rXU(ne.I),e.rXU(Ji.t))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-edit-idp-advanced"]],decls:2,vars:1,consts:[["id","editIdpAdvanced",1,"tw-container","tw-mx-auto"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label","help","isLast"],[3,"id","isTraffic","isAlt"],["id","AllowIdpInitiatedSso","formControlName","allowIdpInitiatedSso","type","checkbox",1,"tw-form-switch__input"],[4,"ngIf"],["type","text","name","IdPInitiatedSsoCompletionPath","id","IdPInitiatedSsoCompletionPath","formControlName","idPInitiatedSsoCompletionPath","required","",1,"tw-form-control"]],template:function(a,l){1&a&&(e.j41(0,"div",0),e.DNE(1,gg,5,9,"form",1),e.k0s()),2&a&&(e.R7$(),e.Y8G("ngIf",l.dynamicAuth&&l.idpAdvancedForm))},dependencies:[pn.bT,g.qT,g.me,g.Zm,g.BC,g.cb,g.YS,g.j4,g.JD,fe.Y,ga.m],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();function QS(s,p){if(1&s){const n=e.RV6();e.j41(0,"form",2)(1,"app-form-row",3)(2,"app-form-toggle",4),e.nrm(3,"input",5),e.k0s()(),e.j41(4,"app-form-row",6)(5,"div",7),e.nrm(6,"input",8),e.j41(7,"button",9),e.bIt("click",function(){e.eBV(n);const l=e.XpG();return e.Njj(l.tryMetadataAddr())}),e.j41(8,"span"),e.EFF(9),e.nI1(10,"translate"),e.k0s()()()()()}if(2&s){const n=e.XpG();e.Y8G("formGroup",n.idpDetailsForm),e.R7$(),e.Y8G("id","RequireValidMetadataSignature")("label","DynamicAuth.SAML.RequireValidMetadataSignature.Label")("help","DynamicAuth.SAML.RequireValidMetadataSignature.Help"),e.R7$(),e.Y8G("id","RequireValidMetadataSignature")("isTraffic",!0)("isAlt",!1),e.R7$(2),e.Y8G("id","MetadataAddress")("label","DynamicAuth.SAML.IdpMetadataAddress.Label")("help","DynamicAuth.SAML.IdpMetadataAddress.Help")("isLast",!0),e.R7$(5),e.JRh(e.bMT(10,12,"Common.ValidateMetadata"))}}let ly=(()=>{class s{constructor(n,a,l,D,ee,De){this.fb=n,this.errorService=a,this.dynamicAuthCacheService=l,this.providerValidator=D,this.translate=ee,this.toastr=De,this.metadataAddrStream=new Fi.m(1)}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,$n.$)()).subscribe({next:n=>{this.dynamicAuth=n,this.samlOptions=wa(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges(),(0,Ai.gP)(this.samlOptions.idpMetadataAddress)||this.metadataAddrStream.next(this.samlOptions.idpMetadataAddress)},error:n=>{this.errorService.handleError(n)}}),this.metadataAddrStream.subscribe(n=>{this.providerValidator.validateMetadataUrl(n).subscribe(a=>{a?this.toastr.success_noduplicate(this.translate.instant("DynamicAuth.Wizard.SAML.ExternalProviderStep.MetadataValidMsg"),this.translate.instant("DynamicAuth.Wizard.SAML.ExternalProviderStep.MetadataValidTitle")):this.toastr.error_noduplicate(this.translate.instant("DynamicAuth.Wizard.SAML.ExternalProviderStep.MetadataInValidMsg"),this.translate.instant("DynamicAuth.Wizard.SAML.ExternalProviderStep.MetadataInValidTitle"))})})}subscribeToValueChanges(){this.idpDetailsFormSubscription=this.idpDetailsForm.valueChanges.subscribe({next:n=>this.updateCache()})}ngOnDestroy(){this.idpDetailsFormSubscription.unsubscribe(),this.metadataAddrStream.unsubscribe()}buildForm(){var n={idpMetadataAddress:[this.samlOptions.idpMetadataAddress,[g.k0.required,g.k0.pattern("^https://.{1,}$")]],requireValidMetadataSignature:[this.samlOptions.requireValidMetadataSignature]};this.idpDetailsForm=this.fb.group(n)}updateCache(){this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditIdpDetailsComponent",this.idpDetailsForm.valid);var n={...this.samlOptions,idpMetadataAddress:this.idpDetailsForm.controls.idpMetadataAddress.value,requireValidMetadataSignature:this.idpDetailsForm.controls.requireValidMetadataSignature.value};const a={...this.dynamicAuth,options:JSON.stringify(n)};this.dynamicAuthCacheService.unsavedCache.next(a)}tryMetadataAddr(){const n=this.idpDetailsForm.get("idpMetadataAddress");n.invalid||this.metadataAddrStream.next(n.value)}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(g.ze),e.rXU(ne.I),e.rXU(Ji.t),e.rXU(Uc),e.rXU(_n.c$),e.rXU(Zl))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-edit-idp-details"]],decls:2,vars:1,consts:[["id","editIdpDetails",1,"tw-container","tw-mx-auto"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label","help"],[3,"id","isTraffic","isAlt"],["id","RequireValidMetadataSignature","formControlName","requireValidMetadataSignature","type","checkbox",1,"tw-form-switch__input"],[3,"id","label","help","isLast"],[1,"tw-flex","tw-w-full","lg:tw-max-w-2xl"],["type","text","name","IdpMetadataAddress","id","IdpMetadataAddress","formControlName","idpMetadataAddress","placeholder","https://","required","",1,"tw-form-control","tw-rounded-r-none","tw-border-r-0"],["id","testMetadataAddr",1,"tw-btn","tw-rounded-l-none",3,"click"]],template:function(a,l){1&a&&(e.j41(0,"div",0),e.DNE(1,QS,11,14,"form",1),e.k0s()),2&a&&(e.R7$(),e.Y8G("ngIf",l.dynamicAuth&&l.idpDetailsForm))},dependencies:[pn.bT,g.qT,g.me,g.Zm,g.BC,g.cb,g.YS,g.j4,g.JD,fe.Y,ga.m,_n.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();const ZS=["AdvancedTabs"];let qS=(()=>{class s{constructor(){}ngOnInit(){}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-edit-idp"]],viewQuery:function(a,l){if(1&a&&e.GBs(ZS,7),2&a){let D;e.mGM(D=e.lsd())&&(l.advancedTabs=D.first)}},decls:6,vars:5,consts:[[1,"tw-container","tw-mx-auto"],[3,"pillMode"],[3,"tabTitle","tabValue"],["id","editDynamicAuthIdpDetails"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"app-custom-tabs",1),e.nrm(2,"app-custom-tab",2)(3,"app-custom-tab",2),e.k0s()(),e.j41(4,"div",3),e.nrm(5,"router-outlet"),e.k0s()),2&a&&(e.R7$(),e.Y8G("pillMode",!0),e.R7$(),e.Y8G("tabTitle","Nav.Details")("tabValue","details"),e.R7$(),e.Y8G("tabTitle","Nav.Advanced")("tabValue","advanced"))},dependencies:[bt.n3,rn.G,bn.v],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();function cy(s,p){if(1&s&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"slice"),e.k0s()),2&s){const n=p.item;e.R7$(),e.JRh(n.length>20?e.brH(2,1,n,0,20)+"...":n)}}function uy(s,p){1&s&&(e.j41(0,"div",11)(1,"div"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&s&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"DynamicAuth.NoScopesMessage")," "))}function kf(s,p){1&s&&(e.j41(0,"span",21),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Reserved")," "))}function eE(s,p){if(1&s){const n=e.RV6();e.j41(0,"button",22),e.bIt("click",function(){e.eBV(n);const l=e.XpG().$implicit,D=e.XpG(3);return e.Njj(D.removeScope(l))}),e.nrm(1,"span",23),e.j41(2,"span",15),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&s&&(e.R7$(3),e.JRh(e.bMT(4,1,"Common.Delete.Title")))}function dy(s,p){if(1&s&&(e.j41(0,"tr")(1,"td",18)(2,"span"),e.EFF(3),e.k0s()(),e.j41(4,"td"),e.DNE(5,kf,3,3,"span",19),e.k0s(),e.j41(6,"td"),e.DNE(7,eE,5,3,"button",20),e.k0s()()),2&s){const n=p.$implicit,a=e.XpG(3);e.R7$(3),e.JRh(n),e.R7$(2),e.Y8G("ngIf",!a.allowRemoveScope(n)),e.R7$(2),e.Y8G("ngIf",a.allowRemoveScope(n))}}function hy(s,p){if(1&s&&(e.j41(0,"table",12)(1,"thead",13)(2,"th",14)(3,"span",15),e.EFF(4),e.nI1(5,"translate"),e.k0s()(),e.j41(6,"th",16)(7,"span",15),e.EFF(8),e.nI1(9,"translate"),e.k0s()(),e.j41(10,"th",16)(11,"span",15),e.EFF(12),e.nI1(13,"translate"),e.k0s()()(),e.j41(14,"tbody"),e.DNE(15,dy,8,3,"tr",17),e.k0s()()),2&s){const n=e.XpG(2);e.R7$(4),e.JRh(e.bMT(5,4,"Common.Scope")),e.R7$(4),e.JRh(e.bMT(9,6,"Common.Reserved")),e.R7$(4),e.JRh(e.bMT(13,8,"Common.Actions")),e.R7$(3),e.Y8G("ngForOf",n.currentScopes())}}function fy(s,p){if(1&s){const n=e.RV6();e.j41(0,"form",3)(1,"app-form-row",4)(2,"app-row-bar",5),e.nrm(3,"input",6),e.nI1(4,"translate"),e.j41(5,"button",7),e.bIt("click",function(){e.eBV(n);const l=e.XpG();return e.Njj(l.addScope())}),e.EFF(6),e.nI1(7,"translate"),e.k0s()()(),e.j41(8,"div",8),e.DNE(9,uy,4,3,"div",9)(10,hy,16,10,"table",10),e.k0s()()}if(2&s){const n=e.XpG(),a=e.sdS(1);e.Y8G("formGroup",n.scopesForm),e.R7$(),e.Y8G("id","NewScope")("hasLabel",!1)("isLast",!0),e.R7$(2),e.FS9("placeholder",e.bMT(4,15,"DynamicAuth.Scopes.Placeholder")),e.Y8G("typeahead",n.options)("typeaheadWaitMs",200)("typeaheadAsync",!0)("typeaheadItemTemplate",a)("typeaheadMinLength",0)("maxlength",n.maxScopeLength),e.R7$(3),e.SpI(" ",e.bMT(7,17,"Common.Add")," "),e.R7$(2),e.Y8G("id","Scopes"),e.R7$(),e.Y8G("ngIf",n.currentScopes().length<=0),e.R7$(),e.Y8G("ngIf",n.currentScopes().length>0)}}let tE=(()=>{class s{constructor(n,a,l,D,ee,De){this.fb=n,this.errorService=a,this.toastr=l,this.translateService=D,this.dynamicAuthChachService=ee,this.providerValidator=De,this.newScope="",this.dynamicAuthTypes=ps,this.isDeleting=!1,this.maxScopeLength=Ws.MaxScopeLength}ngOnInit(){this.dynamicAuthChachService.unsavedCache$.pipe((0,$n.$)()).subscribe({next:n=>{this.dynamicAuth=n,this.oidcOptions=bo(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges()},error:n=>{this.errorService.handleError(n)}}),this.options=new Ml.c(n=>{let a=this.scopesForm.get("newScope").value;n.next(a)}).pipe((0,su.n)(n=>this.providerValidator.supportedScopes(this.oidcOptions.authority).pipe((0,Ci.T)(a=>this.filterScopes(n,a)))))}filterScopes(n,a){const l=!n;return a.filter(D=>!this.currentScopes().includes(D)&&(l||D.includes(n)))}subscribeToValueChanges(){this.scopesFormSubscription=this.scopesForm.controls.scopes.valueChanges.subscribe({next:n=>{this.dynamicAuthChachService.componentDirtyValidMap.set("DynamicAuthEditScopesComponent",this.scopesForm.valid);const a={...this.oidcOptions,scope:this.scopesForm.controls.scopes.value},l={...this.dynamicAuth,options:JSON.stringify(a)};this.dynamicAuthChachService.unsavedCache.next(l)}})}ngOnDestroy(){this.scopesFormSubscription.unsubscribe()}buildForm(){this.scopesForm=this.fb.group({newScope:[this.newScope],scopes:[this.oidcOptions.scope]})}addScope(){const n=this.scopesForm.controls.newScope.value,a=this.scopesForm.controls.scopes.value;""!==n?n.indexOf(" ")>=0?this.toastr.error(this.translateService.instant("DynamicAuth.Scopes.CannotHaveSpaces")):a.includes(n)?this.toastr.error(this.translateService.instant("DynamicAuth.Scopes.AlreadyAdded")):this.scopesForm.setValue({newScope:"",scopes:[...a,n]}):this.toastr.error(this.translateService.instant("DynamicAuth.Scopes.MustSpecifyScope"))}removeScope(n){this.scopesForm.controls.scopes.setValue(this.scopesForm.controls.scopes.value.filter(l=>l!==n))}currentScopes(){const n=this.scopesForm.controls.scopes;return n?n.value:[]}allowRemoveScope(n){return Ws.AllowRemoveScope(n)}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(g.ze),e.rXU(ne.I),e.rXU(Jn.tw),e.rXU(_n.c$),e.rXU(Ji.t),e.rXU(Uc))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-edit-scopes"]],decls:4,vars:1,consts:[["customItemTemplate",""],["id","editIdPDetails",1,"tw-container","tw-mx-auto"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","hasLabel","isLast"],[1,"tw-form-typeahead"],["id","new-scope-input","formControlName","newScope","type","text","name","New Scope","container","#addIdpModal","autocomplete","off","left","",1,"tw-form-control",3,"typeahead","typeaheadWaitMs","typeaheadAsync","typeaheadItemTemplate","typeaheadMinLength","placeholder","maxlength"],["id","addScopeButton","right","",1,"tw-btn-success",3,"click"],[1,"tw-mt-6",3,"id"],["class","tw-alert","role","alert",4,"ngIf"],["class","datatable",4,"ngIf"],["role","alert",1,"tw-alert"],[1,"datatable"],[1,""],[1,"tw-w-full"],[1,"sr-only"],[1,"tw-w-1"],[4,"ngFor","ngForOf"],[1,"tw-table-cell","tw-max-w-0","tw-truncate"],["class","tw-pill",4,"ngIf"],["class","tw-btn-link tw-btn-small tw-text-red-500","value","Delete",3,"click",4,"ngIf"],[1,"tw-pill"],["value","Delete",1,"tw-btn-link","tw-btn-small","tw-text-red-500",3,"click"],["aria-hidden","true",1,"fas","fa-times"]],template:function(a,l){1&a&&(e.DNE(0,cy,3,5,"ng-template",null,0,e.C5r),e.j41(2,"div",1),e.DNE(3,fy,11,19,"form",2),e.k0s()),2&a&&(e.R7$(3),e.Y8G("ngIf",l.dynamicAuth))},dependencies:[pn.Sq,pn.bT,g.qT,g.me,g.BC,g.cb,g.tU,g.j4,g.JD,fe.Y,fc.f,Qd.Xi,pn.P9,_n.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();var py=u(4572);function nE(s,p){1&s&&(e.nrm(0,"span",12),e.nI1(1,"translate")),2&s&&e.Y8G("innerHTML",e.bMT(1,1,"DynamicAuth.PathValidation"),e.npT)}function iE(s,p){1&s&&(e.nrm(0,"span",13),e.nI1(1,"translate")),2&s&&e.Y8G("innerHTML",e.bMT(1,1,"DynamicAuth.PathValidation"),e.npT)}function rE(s,p){1&s&&(e.nrm(0,"span",14),e.nI1(1,"translate")),2&s&&e.Y8G("innerHTML",e.bMT(1,1,"DynamicAuth.PathValidation"),e.npT)}function sE(s,p){if(1&s&&(e.j41(0,"form",2)(1,"app-form-row",3),e.nrm(2,"input",4),e.k0s(),e.j41(3,"app-form-row",3),e.nrm(4,"input",5),e.DNE(5,nE,2,3,"span",6),e.k0s(),e.j41(6,"app-form-row",3),e.nrm(7,"input",7),e.DNE(8,iE,2,3,"span",8),e.k0s(),e.j41(9,"app-form-row",9),e.nrm(10,"input",10),e.DNE(11,rE,2,3,"span",11),e.k0s()()),2&s){const n=e.XpG();e.Y8G("formGroup",n.spDetailsForm),e.R7$(),e.Y8G("id","SPEntityID")("label","DynamicAuth.SPEntityID.Label")("help","DynamicAuth.SPEntityID.Help"),e.R7$(2),e.Y8G("id","SpMetadataAddress")("label","DynamicAuth.SpMetadataAddress.Label")("help","DynamicAuth.SpMetadataAddress.Help"),e.R7$(2),e.Y8G("ngIf",!n.validMetadataPath()),e.R7$(),e.Y8G("id","CallbackPath")("label","DynamicAuth.CallbackPath.Label")("help","DynamicAuth.CallbackPath.Help"),e.R7$(2),e.Y8G("ngIf",!n.validCallbackPath()),e.R7$(),e.Y8G("id","SignedOutCallbackPath")("label","DynamicAuth.SignedOutCallbackPath.Label")("help","DynamicAuth.SignedOutCallbackPath.Help")("isLast",!0),e.R7$(2),e.Y8G("ngIf",!n.validSignedOutPath())}}let oE=(()=>{class s{constructor(n,a,l,D){this.fb=n,this.errorService=a,this.dynamicAuthCacheService=l,this.configService=D}ngOnInit(){(0,py.z)([this.dynamicAuthCacheService.unsavedCache$.pipe((0,$n.$)()),this.configService.getConfig().pipe((0,$n.$)())]).subscribe({next:([n,a])=>{this.dynamicAuth=n,this.samlOptions=wa(this.dynamicAuth.options),this.isRskDynamicAuth=a.featureFlagOptions.dynamicAuthenticationFlag==ja.U.Rsk,this.buildForm(),this.subscribeToValueChanges()}})}subscribeToValueChanges(){this.spDetailsFormSubscription=this.spDetailsForm.valueChanges.subscribe({next:n=>{this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditSpDetailsComponent",this.spDetailsForm.valid);var a={...this.samlOptions,spEntityId:this.spDetailsForm.controls.spEntityId.value,spMetadataAddress:this.spDetailsForm.controls.spMetadataAddress.value,callbackPath:this.spDetailsForm.controls.callbackPath.value,signedOutCallbackPath:this.spDetailsForm.controls.signedOutCallbackPath.value};const l={...this.dynamicAuth,options:JSON.stringify(a)};this.dynamicAuthCacheService.unsavedCache.next(l)}})}ngOnDestroy(){this.spDetailsFormSubscription.unsubscribe()}buildForm(){let n={spEntityId:[this.samlOptions.spEntityId,[g.k0.required]],spMetadataAddress:[this.samlOptions.spMetadataAddress,[g.k0.required,Ql()]],callbackPath:[this.samlOptions.callbackPath,[g.k0.required,Ql()]],signedOutCallbackPath:[this.samlOptions.signedOutCallbackPath,[Ql()]]};this.spDetailsForm=this.fb.group(n)}validMetadataPath(){return this.spDetailsForm.get("spMetadataAddress").valid}validCallbackPath(){return this.spDetailsForm.get("callbackPath").valid}validSignedOutPath(){return!!this.isRskDynamicAuth||this.spDetailsForm.get("signedOutCallbackPath").valid}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(g.ze),e.rXU(ne.I),e.rXU(Ji.t),e.rXU(Gs.w))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-edit-sp-details"]],decls:2,vars:1,consts:[["id","editSPDetails",1,"tw-container","tw-mx-auto"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label","help"],["type","text","name","DisplayName","id","DisplayName","formControlName","spEntityId","required","",1,"tw-form-control"],["type","text","name","SpMetadataAddress","id","SpMetadataAddress","formControlName","spMetadataAddress","required","",1,"tw-form-control"],["id","MetaWarn","class","tw-form-text-warning",3,"innerHTML",4,"ngIf"],["type","text","name","CallbackPath","id","CallbackPath","formControlName","callbackPath","required","",1,"tw-form-control"],["id","CallbackWarn","class","tw-form-text-warning",3,"innerHTML",4,"ngIf"],[3,"id","label","help","isLast"],["type","text","name","CallbackPath","id","SignedOutCallbackPath","formControlName","signedOutCallbackPath",1,"tw-form-control"],["id","SignOutWarn","class","tw-form-text-warning",3,"innerHTML",4,"ngIf"],["id","MetaWarn",1,"tw-form-text-warning",3,"innerHTML"],["id","CallbackWarn",1,"tw-form-text-warning",3,"innerHTML"],["id","SignOutWarn",1,"tw-form-text-warning",3,"innerHTML"]],template:function(a,l){1&a&&(e.j41(0,"div",0),e.DNE(1,sE,12,17,"form",1),e.k0s()),2&a&&(e.R7$(),e.Y8G("ngIf",l.dynamicAuth&&l.spDetailsForm))},dependencies:[pn.bT,g.qT,g.me,g.BC,g.cb,g.YS,g.j4,g.JD,fe.Y,_n.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();var Nf=u(4652);function aE(s,p){if(1&s&&(e.j41(0,"form",10)(1,"app-form-row",11)(2,"app-form-toggle",16),e.nrm(3,"input",17),e.k0s()()()),2&s){const n=e.XpG();e.Y8G("formGroup",n.spRequestForm),e.R7$(),e.Y8G("id","SignAuthenticationRequests")("label","DynamicAuth.SAML.SignAuthenticationRequests.Label")("help","DynamicAuth.SAML.SignAuthenticationRequests.Help"),e.R7$(),e.Y8G("id","SignAuthenticationRequests")("isTraffic",!0)("isAlt",!1)}}function vg(s,p){if(1&s){const n=e.RV6();e.j41(0,"button",18),e.bIt("click",function(){e.eBV(n),e.XpG();const l=e.sdS(7);return e.Njj(l.show())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Clients.Saml.AddCert")," "))}function lE(s,p){if(1&s){const n=e.RV6();e.j41(0,"button",19),e.bIt("click",function(){e.eBV(n),e.XpG();const l=e.sdS(7);return e.Njj(l.show())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Clients.Saml.ReplaceCertificate")," "))}let yg=(()=>{class s{get ReadOnlyFieldType(){return Hi.t}constructor(n,a,l,D,ee,De,Ze){this.fb=n,this.errorService=a,this.dynamicAuthCacheService=l,this.toastr=D,this.translate=ee,this.certService=De,this.dynamicAuthService=Ze,this.canDeleteCert=!1,this.selectedFile=void 0,this.fileName=new Oo.w("")}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,$n.$)()).subscribe({next:n=>{this.dynamicAuth=n,this.samlOptions=wa(this.dynamicAuth.options),this.certificateDescription=this.samlOptions.signingCertificateDto?[this.samlOptions.signingCertificateDto]:[],this.canDeleteCert=this.samlOptions.signAuthenticationRequests,this.buildForm(),this.subscribeToValueChanges()},error:n=>{this.errorService.handleError(n)}})}subscribeToValueChanges(){this.spRequestFormSubscription=this.spRequestForm.valueChanges.subscribe({next:n=>{this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditSpRequestComponent",this.spRequestForm.valid);var a={...this.samlOptions,signAuthenticationRequests:this.spRequestForm.controls.signAuthenticationRequests.value};const l={...this.dynamicAuth,options:JSON.stringify(a)};this.canDeleteCert=this.spRequestForm.controls.signAuthenticationRequests.value,this.dynamicAuthCacheService.unsavedCache.next(l)}})}buildForm(){this.spRequestForm=this.fb.group({signAuthenticationRequests:[this.samlOptions.signAuthenticationRequests,[]]}),this.certForm=this.fb.group({selectedFile:void 0,certPassword:["",[]]})}handleFileInput(n){this.selectedFile=n.item(0)}updateSigningCert(){this.fileName=new Oo.w("");const n=this.certForm.get("certPassword").value;this.certService.verifyCertFilePassword(this.selectedFile,n,{next:a=>{this.fileName=new Oo.w(this.selectedFile?.name),this.dynamicAuthService.replaceSigningCert(this.dynamicAuth.scheme,a,n).subscribe(l=>{this.certificateDescription=[l],this.selectedFile=null,this.certForm.get("certPassword").setValue(""),this.updateSigninCertInCache(l)})},error:a=>{this.toastr.error(this.translate.instant("Notifications.CertInValidMsg"),this.translate.instant("Notifications.CertInValidTitle")),this.selectedFile=null,this.certForm.get("certPassword").setValue("")}})}removeSigningCert(){this.dynamicAuthService.removeSigningCert(this.dynamicAuth.scheme).subscribe(()=>{this.samlOptions.signingCertificateDto=null,this.certificateDescription=[],this.updateSigninCertInCache(null)},n=>{this.errorService.handleError(n)})}updateSigninCertInCache(n){var a={...this.samlOptions,signingCertificateDto:n};const l={...this.dynamicAuth,options:JSON.stringify(a)};this.dynamicAuthCacheService.unsavedCache.next(l)}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(g.ze),e.rXU(ne.I),e.rXU(Ji.t),e.rXU(Jn.tw),e.rXU(_n.c$),e.rXU(Gl.V),e.rXU(cc))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-edit-sp-request"]],decls:17,vars:19,consts:[["addCertificateModal",""],["fileInput","","selectedFile",""],["id","editSpRequest",1,"tw-container","tw-mx-auto"],[3,"formGroup",4,"ngIf"],[3,"delete","certificates","showSingle","deleteCertDisabled"],["addButton",""],["id","addCertButton","class","tw-btn-success","type","button",3,"click",4,"ngIf"],["id","replaceCertButton","class","tw-btn-success tw-mr-4","type","button",3,"click",4,"ngIf"],[3,"confirm","modalId","type","buttonType","title","okText"],["body",""],[3,"formGroup"],[3,"id","label","help"],[1,"tw-form-control"],["id","fileInput","type","file","name","file","accept",".pfx,.p12",1,"tw-form-file","tw-max-w-full",3,"change"],[3,"id","label","help","isLast"],["type","text","name","CertPassword","id","CertPassword","formControlName","certPassword",1,"tw-form-control"],[3,"id","isTraffic","isAlt"],["id","SignAuthenticationRequests","formControlName","signAuthenticationRequests","type","checkbox",1,"tw-form-switch__input"],["id","addCertButton","type","button",1,"tw-btn-success",3,"click"],["id","replaceCertButton","type","button",1,"tw-btn-success","tw-mr-4",3,"click"]],template:function(a,l){if(1&a){const D=e.RV6();e.j41(0,"div",2),e.DNE(1,aE,4,7,"form",3),e.j41(2,"app-saml-cert-list",4),e.bIt("delete",function(){return e.eBV(D),e.Njj(l.removeSigningCert())}),e.qex(3,5),e.DNE(4,vg,3,3,"button",6)(5,lE,3,3,"button",7),e.bVm(),e.k0s(),e.j41(6,"app-confirmation-modal",8,0),e.bIt("confirm",function(){return e.eBV(D),e.Njj(l.updateSigningCert())}),e.qex(8,9),e.j41(9,"form",10)(10,"app-form-row",11)(11,"div",12)(12,"input",13,1),e.bIt("change",function(De){return e.eBV(D),e.Njj(l.handleFileInput(De.target.files))}),e.k0s()()(),e.j41(15,"app-form-row",14),e.nrm(16,"input",15),e.k0s()(),e.bVm(),e.k0s()()}2&a&&(e.R7$(),e.Y8G("ngIf",l.dynamicAuth&&l.spRequestForm),e.R7$(),e.Y8G("certificates",l.certificateDescription)("showSingle",!0)("deleteCertDisabled",l.canDeleteCert),e.R7$(2),e.Y8G("ngIf",l.certificateDescription.length<1),e.R7$(),e.Y8G("ngIf",l.certificateDescription.length>0),e.R7$(),e.Y8G("modalId","addCertificateModal")("type",null)("buttonType","success")("title","DynamicAuth.UpdateSigningCertificate.Title")("okText","Common.Update"),e.R7$(3),e.Y8G("formGroup",l.certForm),e.R7$(),e.Y8G("id","fileInput")("label","DynamicAuth.CertFile.Label")("help","DynamicAuth.CertFile.Help"),e.R7$(5),e.Y8G("id","CertPassword")("label","DynamicAuth.CertPassword.Label")("help","DynamicAuth.CertPassword.Help")("isLast",!0))},dependencies:[pn.bT,g.qT,g.me,g.Zm,g.BC,g.cb,g.j4,g.JD,fe.Y,ga.m,Ve.B,Nf.T,_n.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();function my(s,p){if(1&s&&(e.j41(0,"form",10)(1,"app-form-row",11)(2,"app-form-toggle",16),e.nrm(3,"input",17),e.k0s()(),e.j41(4,"app-form-row",11)(5,"app-form-toggle",16),e.nrm(6,"input",18),e.k0s()()()),2&s){const n=e.XpG();e.Y8G("formGroup",n.spResponseForm),e.R7$(),e.Y8G("id","RequireSignedAssertions")("label","DynamicAuth.SAML.RequireSignedAssertions.Label")("help","DynamicAuth.SAML.RequireSignedAssertions.Help"),e.R7$(),e.Y8G("id","RequireSignedAssertions")("isTraffic",!0)("isAlt",!1),e.R7$(2),e.Y8G("id","RequireEncryptedAssertions")("label","DynamicAuth.SAML.RequireEncryptedAssertions.Label")("help","DynamicAuth.SAML.RequireEncryptedAssertions.Help"),e.R7$(),e.Y8G("id","RequireEncryptedAssertions")("isTraffic",!0)("isAlt",!1)}}function gy(s,p){if(1&s){const n=e.RV6();e.j41(0,"button",19),e.bIt("click",function(){e.eBV(n),e.XpG();const l=e.sdS(7);return e.Njj(l.show())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Clients.Saml.AddCert")," "))}function vy(s,p){if(1&s){const n=e.RV6();e.j41(0,"button",20),e.bIt("click",function(){e.eBV(n),e.XpG();const l=e.sdS(7);return e.Njj(l.show())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Clients.Saml.ReplaceCertificate")," "))}let yy=(()=>{class s{get ReadOnlyFieldType(){return Hi.t}constructor(n,a,l,D,ee,De,Ze){this.fb=n,this.errorService=a,this.dynamicAuthCacheService=l,this.toastr=D,this.translate=ee,this.certService=De,this.dynamicAuthService=Ze,this.canDeleteCert=!1,this.selectedFile=void 0,this.fileName=new Oo.w("")}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,$n.$)()).subscribe({next:n=>{this.dynamicAuth=n,this.samlOptions=wa(this.dynamicAuth.options),this.certificateDescription=this.samlOptions.encryptionCertificateDto?[this.samlOptions.encryptionCertificateDto]:[],this.canDeleteCert=this.samlOptions.requireEncryptedAssertions,this.buildForm(),this.subscribeToValueChanges()},error:n=>{this.errorService.handleError(n)}})}subscribeToValueChanges(){this.spResponseFormSubscription=this.spResponseForm.valueChanges.subscribe({next:n=>{this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditSpResponseComponent",this.spResponseForm.valid);var a={...this.samlOptions,requireEncryptedAssertions:this.spResponseForm.controls.requireEncryptedAssertions.value,requireSignedAssertions:this.spResponseForm.controls.requireSignedAssertions.value};const l={...this.dynamicAuth,options:JSON.stringify(a)};this.canDeleteCert=this.spResponseForm.controls.requireEncryptedAssertions.value,this.dynamicAuthCacheService.unsavedCache.next(l)}})}buildForm(){this.spResponseForm=this.fb.group({requireEncryptedAssertions:[this.samlOptions.requireEncryptedAssertions,[]],requireSignedAssertions:[this.samlOptions.requireSignedAssertions,[]]}),this.certForm=this.fb.group({selectedFile:void 0,certPassword:["",[]]})}handleFileInput(n){this.selectedFile=n.item(0)}updateEncryptionCert(){this.fileName=new Oo.w("");const n=this.certForm.get("certPassword").value;this.certService.verifyCertFilePassword(this.selectedFile,n,{next:a=>{this.fileName=new Oo.w(this.selectedFile?.name),this.dynamicAuthService.replaceEncryptionCert(this.dynamicAuth.scheme,a,n).subscribe(l=>{this.certificateDescription=[l],this.selectedFile=null,this.certForm.get("certPassword").setValue(""),this.updateEncryptionCertInCache(l)})},error:a=>{this.toastr.error(this.translate.instant("Notifications.CertInValidMsg"),this.translate.instant("Notifications.CertInValidTitle")),this.selectedFile=null,this.certForm.get("certPassword").setValue("")}})}removeEncryptionCert(){this.dynamicAuthService.removeEncryptionCert(this.dynamicAuth.scheme).subscribe(()=>{this.samlOptions.encryptionCertificateDto=null,this.certificateDescription=[],this.updateEncryptionCertInCache(null)},n=>{this.errorService.handleError(n)})}updateEncryptionCertInCache(n){var a={...this.samlOptions,encryptionCertificateDto:n};const l={...this.dynamicAuth,options:JSON.stringify(a)};this.dynamicAuthCacheService.unsavedCache.next(l)}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(g.ze),e.rXU(ne.I),e.rXU(Ji.t),e.rXU(Jn.tw),e.rXU(_n.c$),e.rXU(Gl.V),e.rXU(cc))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-edit-sp-response"]],decls:17,vars:19,consts:[["addCertificateModal",""],["fileInput","","selectedFile",""],["id","editSpResponse|",1,"tw-container","tw-mx-auto"],[3,"formGroup",4,"ngIf"],[3,"delete","certificates","showSingle","deleteCertDisabled"],["addButton",""],["id","addCertButton","class","tw-btn-success","type","button",3,"click",4,"ngIf"],["id","replaceCertButton","class","tw-btn-success tw-mr-4","type","button",3,"click",4,"ngIf"],[3,"confirm","modalId","type","buttonType","title","okText"],["body",""],[3,"formGroup"],[3,"id","label","help"],[1,"tw-form-control"],["id","fileInput","type","file","name","file","accept",".pfx,.p12",1,"tw-form-file","tw-max-w-full",3,"change"],[3,"id","label","help","isLast"],["type","text","name","CertPassword","id","CertPassword","formControlName","certPassword",1,"tw-form-control"],[3,"id","isTraffic","isAlt"],["id","RequireSignedAssertions","formControlName","requireSignedAssertions","type","checkbox",1,"tw-form-switch__input"],["id","RequireEncryptedAssertions","formControlName","requireEncryptedAssertions","type","checkbox",1,"tw-form-switch__input"],["id","addCertButton","type","button",1,"tw-btn-success",3,"click"],["id","replaceCertButton","type","button",1,"tw-btn-success","tw-mr-4",3,"click"]],template:function(a,l){if(1&a){const D=e.RV6();e.j41(0,"div",2),e.DNE(1,my,7,13,"form",3),e.j41(2,"app-saml-cert-list",4),e.bIt("delete",function(){return e.eBV(D),e.Njj(l.removeEncryptionCert())}),e.qex(3,5),e.DNE(4,gy,3,3,"button",6)(5,vy,3,3,"button",7),e.bVm(),e.k0s(),e.j41(6,"app-confirmation-modal",8,0),e.bIt("confirm",function(){return e.eBV(D),e.Njj(l.updateEncryptionCert())}),e.qex(8,9),e.j41(9,"form",10)(10,"app-form-row",11)(11,"div",12)(12,"input",13,1),e.bIt("change",function(De){return e.eBV(D),e.Njj(l.handleFileInput(De.target.files))}),e.k0s()()(),e.j41(15,"app-form-row",14),e.nrm(16,"input",15),e.k0s()(),e.bVm(),e.k0s()()}2&a&&(e.R7$(),e.Y8G("ngIf",l.dynamicAuth&&l.spResponseForm),e.R7$(),e.Y8G("certificates",l.certificateDescription)("showSingle",!0)("deleteCertDisabled",l.canDeleteCert),e.R7$(2),e.Y8G("ngIf",l.certificateDescription.length<1),e.R7$(),e.Y8G("ngIf",l.certificateDescription.length>0),e.R7$(),e.Y8G("modalId","addCertificateModal")("type",null)("buttonType","success")("title","DynamicAuth.UpdateEncryptionCertificate.Title")("okText","Common.Update"),e.R7$(3),e.Y8G("formGroup",l.certForm),e.R7$(),e.Y8G("id","fileInput")("label","DynamicAuth.CertFile.Label")("help","DynamicAuth.CertFile.Help"),e.R7$(5),e.Y8G("id","CertPassword")("label","DynamicAuth.CertPassword.Label")("help","DynamicAuth.CertPassword.Help")("isLast",!0))},dependencies:[pn.bT,g.qT,g.me,g.Zm,g.BC,g.cb,g.j4,g.JD,fe.Y,ga.m,Ve.B,Nf.T,_n.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();const cE=["AdvancedTabs"];let uE=(()=>{class s{constructor(){}ngOnInit(){}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-edit-sp"]],viewQuery:function(a,l){if(1&a&&e.GBs(cE,7),2&a){let D;e.mGM(D=e.lsd())&&(l.advancedTabs=D.first)}},decls:7,vars:7,consts:[[1,"tw-container","tw-mx-auto"],[3,"pillMode"],[3,"tabTitle","tabValue"],["id","editDynamicAuthSpDetails"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"app-custom-tabs",1),e.nrm(2,"app-custom-tab",2)(3,"app-custom-tab",2)(4,"app-custom-tab",2),e.k0s()(),e.j41(5,"div",3),e.nrm(6,"router-outlet"),e.k0s()),2&a&&(e.R7$(),e.Y8G("pillMode",!0),e.R7$(),e.Y8G("tabTitle","Nav.Details")("tabValue","details"),e.R7$(),e.Y8G("tabTitle","Nav.Request")("tabValue","request"),e.R7$(),e.Y8G("tabTitle","Nav.Response")("tabValue","response"))},dependencies:[bt.n3,rn.G,bn.v],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();const _y=(s,p)=>({title:s,link:p}),dE=s=>[s];function by(s,p){1&s&&e.nrm(0,"app-custom-tab",3),2&s&&e.Y8G("tabTitle","Nav.Scopes")("tabValue","scopes")}function hE(s,p){1&s&&e.nrm(0,"app-custom-tab",3),2&s&&e.Y8G("tabTitle","Nav.Advanced")("tabValue","advanced")}function Cy(s,p){1&s&&e.nrm(0,"app-custom-tab",3),2&s&&e.Y8G("tabTitle","Nav.SP")("tabValue","sp")}function _g(s,p){1&s&&e.nrm(0,"app-custom-tab",3),2&s&&e.Y8G("tabTitle","Nav.IdP")("tabValue","idp")}let fE=(()=>{class s{constructor(n,a,l,D,ee,De,Ze,gt,Vt,ln){this.r=n,this.route=a,this.localize=l,this.titleService=D,this.translate=ee,this.toastr=De,this.errorService=Ze,this.dynamicAuthService=gt,this.dynamicAuthCachService=Vt,this.dialogService=ln,this.dynamicAuthTypes=ps,this.isFirstCall=!0}ngOnInit(){this.dynamicAuthSub=this.dynamicAuthCachService.unsavedCache$.subscribe({next:n=>{this.dynamicAuth=n;const a=this.translate.instant("DynamicAuth.Title.Generic")+" "+this.dynamicAuth.displayName+" - "+Bt.$9.SITE_TITLE;if(this.titleService.setTitle(a),this.checkSubmitEnabled(),this.dynamicAuth.type==ps.OIDC&&this.isFirstCall){var l=bo(this.dynamicAuth.options);this.oldSecret=l.clientSecret,this.isFirstCall=!1}},error:n=>{this.errorService.handleError(n)}})}ngOnDestroy(){this.dynamicAuthSub.unsubscribe()}canDeactivate(){return!(this.dynamicAuthCachService.componentDirtyValidMap.size>0)||(this.dialogService.confirm(),this.dialogService.eventStream.subscribe(n=>{n&&this.dynamicAuthCachService.componentDirtyValidMap.size>0&&this.dynamicAuthCachService.componentDirtyValidMap.clear()}),this.dialogService.eventStream)}checkSubmitEnabled(){const n=[...Array.from(this.dynamicAuthCachService.componentDirtyValidMap.values())];this.saveDisabled=0===n.length||n.some(a=>!a)}mobRoute(n){this.r.navigate([n],{relativeTo:this.route})}saveDynamicAuth(){this.saveDisabled||(this.dynamicAuth.type==ps.OIDC&&this.setOidcClientSecret(),this.dynamicAuthService.updateDynamicAuth(Uv(this.dynamicAuth)).subscribe({next:n=>{this.isFirstCall=!0,this.dynamicAuthCachService.unsavedCache.next(sg(n)),this.dynamicAuthCachService.onSave(),this.toastr.success(this.translate.instant("DynamicAuth.Success.Updated"),this.translate.instant("Notifications.SuccessfullySaved")),this.checkSubmitEnabled()},error:n=>{this.errorService.handleError(n)}}))}deleteDynamicAuth(n){this.dynamicAuthService.deleteDynamicAuth(n).subscribe({next:a=>{const l=this.localize.translateRoute("/dynamic-auth");this.r.navigate([l]),this.toastr.success(`${n} ${this.translate.instant("Common.Delete.Deleted")}`,this.translate.instant("Notifications.SuccessfullyDeleted"))},error:a=>{this.errorService.handleError(a)}})}setOidcClientSecret(){var n=bo(this.dynamicAuth.options);this.oldSecret==n.clientSecret&&(n.clientSecret=void 0),this.dynamicAuth.options=JSON.stringify(n)}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(bt.Ix),e.rXU(bt.nX),e.rXU(Wn.QG),e.rXU(i.hE),e.rXU(_n.c$),e.rXU(Jn.tw),e.rXU(ne.I),e.rXU(cc),e.rXU(Ji.t),e.rXU(Mo.o))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["ng-component"]],decls:24,vars:26,consts:[["deleteDynamicAuthModal",""],[3,"title","crumbs","hasTabs"],["tabs",""],[3,"tabTitle","tabValue"],[3,"tabTitle","tabValue",4,"ngIf"],["id","editDynamicAuth",1,"tw-container","tw-mx-auto"],["id","submitBtn",1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"click","disabled"],["right",""],["id","deleteBtn","type","button","data-toggle","modal",1,"tw-btn-danger","tw-mb-3",3,"click"],[3,"delete","resourceName"]],template:function(a,l){if(1&a){const D=e.RV6();e.j41(0,"app-title-bar",1),e.nI1(1,"translate"),e.nI1(2,"localize"),e.qex(3,2),e.j41(4,"app-custom-tabs"),e.nrm(5,"app-custom-tab",3),e.DNE(6,by,1,2,"app-custom-tab",4)(7,hE,1,2,"app-custom-tab",4)(8,Cy,1,2,"app-custom-tab",4)(9,_g,1,2,"app-custom-tab",4),e.k0s(),e.bVm(),e.k0s(),e.j41(10,"div",5),e.nrm(11,"router-outlet"),e.k0s(),e.j41(12,"app-button-bar")(13,"button",6),e.bIt("click",function(){return e.eBV(D),e.Njj(l.saveDynamicAuth())}),e.j41(14,"span"),e.EFF(15),e.nI1(16,"translate"),e.k0s()(),e.qex(17,7),e.j41(18,"button",8),e.bIt("click",function(){e.eBV(D);const De=e.sdS(22);return e.Njj(De.show())}),e.EFF(19),e.nI1(20,"translate"),e.k0s(),e.bVm(),e.k0s(),e.j41(21,"app-delete-confirmation-modal",9,0),e.bIt("delete",function(){return e.eBV(D),e.Njj(l.deleteDynamicAuth(l.dynamicAuth.scheme))}),e.nrm(23,"app-can-deactivate"),e.k0s()}2&a&&(e.Y8G("title",l.dynamicAuth.displayName)("crumbs",e.eq3(24,dE,e.l_i(21,_y,e.bMT(1,13,"Nav.DynamicAuth"),e.bMT(2,15,"/dynamic-auth"))))("hasTabs",!0),e.R7$(5),e.Y8G("tabTitle","Nav.Details")("tabValue","details"),e.R7$(),e.Y8G("ngIf",l.dynamicAuth.type==l.dynamicAuthTypes.OIDC),e.R7$(),e.Y8G("ngIf",l.dynamicAuth.type==l.dynamicAuthTypes.OIDC),e.R7$(),e.Y8G("ngIf",l.dynamicAuth.type==l.dynamicAuthTypes.SAML),e.R7$(),e.Y8G("ngIf",l.dynamicAuth.type==l.dynamicAuthTypes.SAML),e.R7$(4),e.Y8G("disabled",l.saveDisabled),e.R7$(2),e.JRh(e.bMT(16,17,"Common.SaveAll")),e.R7$(4),e.JRh(e.bMT(20,19,"Common.Delete.Title")),e.R7$(2),e.Y8G("resourceName",l.dynamicAuth.displayName))},dependencies:[bt.n3,pn.bT,rn.G,bn.v,ha.E,Zt.z,vo.z,Uo.w,_n.D9,Wn.tl],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();var aa=u(7921);const Sa=s=>[s];function pE(s,p){if(1&s&&(e.j41(0,"app-form-row",4),e.nrm(1,"app-readonly",3),e.k0s()),2&s){const n=e.XpG(2);e.Y8G("id","CallbackPath")("label","DynamicAuth.CallbackPath.Label")("help","DynamicAuth.CallbackPath.Help"),e.R7$(),e.Y8G("fieldType",n.ReadOnlyFieldType.Single)("values",e.eq3(5,Sa,n.optionsDictionary.callbackPath))}}function Of(s,p){if(1&s&&(e.j41(0,"div",8)(1,"app-form-row",4),e.nrm(2,"app-readonly",3),e.k0s(),e.j41(3,"app-form-row",4),e.nrm(4,"app-readonly",3),e.k0s(),e.DNE(5,pE,2,7,"app-form-row",9),e.j41(6,"app-form-row",4),e.nrm(7,"app-readonly",3),e.k0s()()),2&s){const n=e.XpG();e.R7$(),e.Y8G("id","Authority")("label","DynamicAuth.Authority.Label")("help","DynamicAuth.Authority.Help"),e.R7$(),e.Y8G("fieldType",n.ReadOnlyFieldType.Single)("values",e.eq3(16,Sa,n.optionsDictionary.authority)),e.R7$(),e.Y8G("id","ClientId")("label","DynamicAuth.ClientId.Label")("help","DynamicAuth.ClientId.Help"),e.R7$(),e.Y8G("fieldType",n.ReadOnlyFieldType.Single)("values",e.eq3(18,Sa,n.optionsDictionary.clientId)),e.R7$(),e.Y8G("ngIf",n.isRskDynamicAuth),e.R7$(),e.Y8G("id","Flow")("label","DynamicAuth.Flow.Label")("help","DynamicAuth.Flow.Help"),e.R7$(),e.Y8G("fieldType",n.ReadOnlyFieldType.Single)("values",e.eq3(20,Sa,n.optionsDictionary.flow))}}function Ff(s,p){if(1&s&&(e.j41(0,"div",10)(1,"app-form-row",11),e.nrm(2,"app-readonly",3),e.k0s(),e.j41(3,"app-form-row",4),e.nrm(4,"app-readonly",3),e.k0s(),e.j41(5,"app-form-row",12),e.nrm(6,"app-readonly",3),e.k0s()()),2&s){const n=e.XpG();e.R7$(),e.Y8G("id","SignInScheme")("label","DynamicAuth.SignInScheme.Label")("help","DynamicAuth.SignInScheme.Help"),e.R7$(),e.Y8G("fieldType",n.ReadOnlyFieldType.Single)("values",e.eq3(16,Sa,n.optionsDictionary.signInScheme)),e.R7$(),e.Y8G("id","SignOutScheme")("label","DynamicAuth.SignOutScheme.Label")("help","DynamicAuth.SignOutScheme.Help"),e.R7$(),e.Y8G("fieldType",n.ReadOnlyFieldType.Single)("values",e.eq3(18,Sa,n.optionsDictionary.signOutScheme)),e.R7$(),e.Y8G("id","TimeComparisonTolerance")("label","DynamicAuth.SAML.TimeComparisonTolerance.Label")("help","DynamicAuth.SAML.TimeComparisonTolerance.Help")("isLast",!0),e.R7$(),e.Y8G("fieldType",n.ReadOnlyFieldType.LifetimePicker)("values",e.eq3(20,Sa,n.optionsDictionary.timeComparisonTolerance))}}function bg(s,p){if(1&s&&(e.j41(0,"div",13)(1,"app-form-row",12),e.nrm(2,"app-readonly",3),e.k0s()()),2&s){const n=e.XpG();e.R7$(),e.Y8G("id","ClientSecret")("label","DynamicAuth.ClientSecret.Label")("help","DynamicAuth.ClientSecret.Help")("isLast",!0),e.R7$(),e.Y8G("fieldType",n.ReadOnlyFieldType.Single)("values",e.eq3(6,Sa,n.optionsDictionary.clientSecret))}}let wy=(()=>{class s{get ReadOnlyFieldType(){return Hi.t}constructor(n,a,l,D){this.errorService=n,this.dynamicAuthChachService=a,this.configService=l,this.translate=D,this.dynamicAuthTypes=ps,this.snippet=Ws.SamlSignInSchemeCodeFrag}ngOnInit(){this.configService.getConfig().subscribe({next:n=>{this.isRskDynamicAuth=n.featureFlagOptions.dynamicAuthenticationFlag==ja.U.Rsk},error:n=>{this.errorService.handleError(n)}}),this.dynamicAuthChachService.unsavedCache$.pipe((0,$n.$)()).subscribe({next:n=>{switch(this.dynamicAuthType=n.type,this.dynamicAuthDictionary=new aa.b(n),this.dynamicAuthType){case ps.OIDC:this.setOidcOptions(n.options);break;case ps.SAML:this.setSamlOptions(n.options)}},error:n=>{this.errorService.handleError(n)}})}setOidcOptions(n){let a={...bo(n)};a.flow=this.translate.instant("DynamicAuth.Flows."+(a.usePkce?Va.AuthCodePlusPkce:Va.AuthCode)),this.optionsDictionary=new aa.b(a)}setSamlOptions(n){const a=wa(n);this.optionsDictionary=new aa.b(a)}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(ne.I),e.rXU(Ji.t),e.rXU(Gs.w),e.rXU(_n.c$))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-view-details"]],decls:11,vars:23,consts:[["id","viewDynamicAuthDetails"],["id","dynamicAuthDetails"],[3,"id","label"],[3,"fieldType","values"],[3,"id","label","help"],["id","connectionDetails",4,"ngIf"],["id","signInSchemeDetails",4,"ngIf"],["id","secretDetails",4,"ngIf"],["id","connectionDetails"],[3,"id","label","help",4,"ngIf"],["id","signInSchemeDetails"],[1,"tw-form-typeahead",3,"id","label","help"],[3,"id","label","help","isLast"],["id","secretDetails"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"app-form-row",2),e.nrm(3,"app-readonly",3),e.k0s(),e.j41(4,"app-form-row",4),e.nrm(5,"app-readonly",3),e.k0s(),e.j41(6,"app-form-row",4),e.nrm(7,"app-readonly",3),e.k0s()(),e.DNE(8,Of,8,22,"div",5)(9,Ff,7,22,"div",6)(10,bg,3,8,"div",7),e.k0s()),2&a&&(e.R7$(2),e.Y8G("id","Enabled")("label","Common.Enabled"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(17,Sa,l.dynamicAuthDictionary.enabled)),e.R7$(),e.Y8G("id","Scheme")("label","DynamicAuth.Scheme.Label")("help","DynamicAuth.Scheme.Help"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(19,Sa,l.dynamicAuthDictionary.scheme)),e.R7$(),e.Y8G("id","DisplayName")("label","DynamicAuth.DisplayName.Label")("help","DynamicAuth.DisplayName.Help"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(21,Sa,l.dynamicAuthDictionary.displayName)),e.R7$(),e.Y8G("ngIf",l.dynamicAuthType==l.dynamicAuthTypes.OIDC),e.R7$(),e.Y8G("ngIf",l.isRskDynamicAuth||l.dynamicAuthType==l.dynamicAuthTypes.SAML),e.R7$(),e.Y8G("ngIf",l.dynamicAuthType==l.dynamicAuthTypes.OIDC))},dependencies:[pn.bT,fe.Y,qr.O],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();const Sy=s=>[s];let mE=(()=>{class s{get ReadOnlyFieldType(){return Hi.t}constructor(n){this.dynamicAuthCacheService=n}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,$n.$)()).subscribe({next:n=>{var a=wa(n.options);this.idpAdvancedDictionary=new aa.b({allowIdpInitiatedSso:a.allowIdpInitiatedSso,idPInitiatedSsoCompletionPath:a.idPInitiatedSsoCompletionPath})}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(Ji.t))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-view-idp-advanced"]],decls:5,vars:15,consts:[["id","viewIdpAdvanced"],[3,"id","label","help"],[3,"fieldType","values"],[3,"id","label","help","isLast"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"app-form-row",1),e.nrm(2,"app-readonly",2),e.k0s(),e.j41(3,"app-form-row",3),e.nrm(4,"app-readonly",2),e.k0s()()),2&a&&(e.R7$(),e.Y8G("id","AllowIdpInitiatedSso")("label","DynamicAuth.SAML.AllowIdpInitiatedSso.Label")("help","DynamicAuth.SAML.AllowIdpInitiatedSso.Help"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(11,Sy,l.idpAdvancedDictionary.allowIdpInitiatedSso)),e.R7$(),e.Y8G("id","IdPInitiatedSsoCompletionPath")("label","DynamicAuth.SAML.IdPInitiatedSsoCompletionPath.Label")("help","DynamicAuth.SAML.IdPInitiatedSsoCompletionPath.Help")("isLast",!0),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(13,Sy,l.idpAdvancedDictionary.idPInitiatedSsoCompletionPath)))},dependencies:[fe.Y,qr.O],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();const Ey=s=>[s];let Pf=(()=>{class s{get ReadOnlyFieldType(){return Hi.t}constructor(n){this.dynamicAuthCacheService=n}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,$n.$)()).subscribe({next:n=>{var a=wa(n.options);this.idpDetailsDictionary=new aa.b({requireValidMetadataSignature:a.requireValidMetadataSignature,idpMetadataAddr:a.idpMetadataAddress})}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(Ji.t))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-view-idp-details"]],decls:5,vars:15,consts:[["id","viewIdpDetails"],[3,"id","label","help"],[3,"fieldType","values"],[3,"id","label","help","isLast"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"app-form-row",1),e.nrm(2,"app-readonly",2),e.k0s(),e.j41(3,"app-form-row",3),e.nrm(4,"app-readonly",2),e.k0s()()),2&a&&(e.R7$(),e.Y8G("id","RequireValidMetadataSignature")("label","DynamicAuth.SAML.RequireValidMetadataSignature.Label")("help","DynamicAuth.SAML.RequireValidMetadataSignature.Help"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(11,Ey,l.idpDetailsDictionary.requireValidMetadataSignature)),e.R7$(),e.Y8G("id","IdpMetadataAddress")("label","DynamicAuth.SAML.IdpMetadataAddress.Label")("help","DynamicAuth.SAML.IdpMetadataAddress.Help")("isLast",!0),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(13,Ey,l.idpDetailsDictionary.idpMetadataAddr)))},dependencies:[fe.Y,qr.O],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();const Bf=["AdvancedTabs"];let Cg=(()=>{class s{constructor(){}ngOnInit(){}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-view-idp"]],viewQuery:function(a,l){if(1&a&&e.GBs(Bf,7),2&a){let D;e.mGM(D=e.lsd())&&(l.advancedTabs=D.first)}},decls:6,vars:5,consts:[[1,"tw-container","tw-mx-auto"],[3,"pillMode"],[3,"tabTitle","tabValue"],["id","viewDynamicAuthIdpDetails"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"app-custom-tabs",1),e.nrm(2,"app-custom-tab",2)(3,"app-custom-tab",2),e.k0s()(),e.j41(4,"div",3),e.nrm(5,"router-outlet"),e.k0s()),2&a&&(e.R7$(),e.Y8G("pillMode",!0),e.R7$(),e.Y8G("tabTitle","Nav.Details")("tabValue","details"),e.R7$(),e.Y8G("tabTitle","Nav.Advanced")("tabValue","advanced"))},dependencies:[bt.n3,rn.G,bn.v],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();function Ty(s,p){if(1&s&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"slice"),e.k0s()),2&s){const n=p.item;e.R7$(),e.JRh(n.length>20?e.brH(2,1,n,0,20)+"...":n)}}function gE(s,p){1&s&&(e.j41(0,"div",5)(1,"div"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&s&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"UserDetails.NoClaimsMessage")," "))}function vE(s,p){if(1&s&&(e.j41(0,"tr")(1,"td",11)(2,"span",12),e.EFF(3),e.k0s()()()),2&s){const n=p.$implicit;e.R7$(3),e.JRh(n)}}function Iy(s,p){if(1&s&&(e.j41(0,"table",6)(1,"thead",7)(2,"th",8)(3,"span",9),e.EFF(4),e.nI1(5,"translate"),e.k0s()()(),e.j41(6,"tbody"),e.DNE(7,vE,4,1,"tr",10),e.k0s()()),2&s){const n=e.XpG();e.R7$(4),e.JRh(e.bMT(5,2,"Common.Scope")),e.R7$(3),e.Y8G("ngForOf",n.oidcOptions.scope)}}let wg=(()=>{class s{constructor(n,a){this.errorService=n,this.dynamicAuthChachService=a,this.newScope="",this.dynamicAuthTypes=ps,this.isDeleting=!1}ngOnInit(){this.dynamicAuthChachService.unsavedCache$.pipe((0,$n.$)()).subscribe({next:n=>{this.dynamicAuth=n,this.oidcOptions=bo(this.dynamicAuth.options)},error:n=>{this.errorService.handleError(n)}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(ne.I),e.rXU(Ji.t))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-view-scopes"]],decls:6,vars:3,consts:[["customItemTemplate",""],["id","viewScopes"],[1,"tw-mt-6",3,"id"],["class","tw-alert","role","alert",4,"ngIf"],["class","datatable",4,"ngIf"],["role","alert",1,"tw-alert"],[1,"datatable"],[1,""],[1,"tw-w-full"],[1,"sr-only"],[4,"ngFor","ngForOf"],[1,"tw-table-cell","tw-w-full"],[1,"tw-block","tw-truncate"]],template:function(a,l){1&a&&(e.DNE(0,Ty,3,5,"ng-template",null,0,e.C5r),e.j41(2,"div",1)(3,"div",2),e.DNE(4,gE,4,3,"div",3)(5,Iy,8,4,"table",4),e.k0s()()),2&a&&(e.R7$(3),e.Y8G("id","Scopes"),e.R7$(),e.Y8G("ngIf",l.oidcOptions.scope.length<=0),e.R7$(),e.Y8G("ngIf",l.oidcOptions.scope.length>0))},dependencies:[pn.Sq,pn.bT,pn.P9,_n.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();const Gu=s=>[s];let $c=(()=>{class s{get ReadOnlyFieldType(){return Hi.t}constructor(n){this.dynamicAuthCacheService=n}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,$n.$)()).subscribe({next:n=>{var a=wa(n.options);this.spDetailsDictionary=new aa.b({entityId:a.spEntityId,metaDataAddr:a.spMetadataAddress,callbackPath:a.callbackPath,signOutCallbackPath:a.signedOutCallbackPath})}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(Ji.t))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-view-sp-details"]],decls:9,vars:29,consts:[["id","viewSpDetails"],[3,"id","label","help"],[3,"fieldType","values"],[3,"id","label","help","isLast"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"app-form-row",1),e.nrm(2,"app-readonly",2),e.k0s(),e.j41(3,"app-form-row",1),e.nrm(4,"app-readonly",2),e.k0s(),e.j41(5,"app-form-row",1),e.nrm(6,"app-readonly",2),e.k0s(),e.j41(7,"app-form-row",3),e.nrm(8,"app-readonly",2),e.k0s()()),2&a&&(e.R7$(),e.Y8G("id","SPEntityID")("label","DynamicAuth.SPEntityID.Label")("help","DynamicAuth.SPEntityID.Help"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(21,Gu,l.spDetailsDictionary.entityId)),e.R7$(),e.Y8G("id","SpMetadataAddress")("label","DynamicAuth.SpMetadataAddress.Label")("help","DynamicAuth.SpMetadataAddress.Help"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(23,Gu,l.spDetailsDictionary.metaDataAddr)),e.R7$(),e.Y8G("id","CallbackPath")("label","DynamicAuth.CallbackPath.Label")("help","DynamicAuth.CallbackPath.Help"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(25,Gu,l.spDetailsDictionary.callbackPath)),e.R7$(),e.Y8G("id","SignedOutCallbackPath")("label","DynamicAuth.SignedOutCallbackPath.Label")("help","DynamicAuth.SignedOutCallbackPath.Help")("isLast",!0),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(27,Gu,l.spDetailsDictionary.signOutCallbackPath)))},dependencies:[fe.Y,qr.O],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();const yE=s=>[s];let _E=(()=>{class s{get ReadOnlyFieldType(){return Hi.t}constructor(n){this.dynamicAuthCacheService=n}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,$n.$)()).subscribe({next:n=>{var a=wa(n.options);this.spRequestDictionary=new aa.b({signAuthenticationRequests:a.signAuthenticationRequests}),this.certificateDescription=a.signingCertificateDto?[a.signingCertificateDto]:[]}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(Ji.t))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-view-sp-request"]],decls:4,vars:10,consts:[["id","viewSpRequest"],[3,"id","label","help"],[3,"fieldType","values"],[3,"certificates","showSingle","isReadOnly"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"app-form-row",1),e.nrm(2,"app-readonly",2),e.k0s(),e.nrm(3,"app-saml-cert-list",3),e.k0s()),2&a&&(e.R7$(),e.Y8G("id","SignAuthenticationRequests")("label","DynamicAuth.SAML.SignAuthenticationRequests.Label")("help","DynamicAuth.SAML.SignAuthenticationRequests.Help"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(8,yE,l.spRequestDictionary.signAuthenticationRequests)),e.R7$(),e.Y8G("certificates",l.certificateDescription)("showSingle",!0)("isReadOnly",!0))},dependencies:[fe.Y,Nf.T,qr.O],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();const Gc=s=>[s];let gD=(()=>{class s{get ReadOnlyFieldType(){return Hi.t}constructor(n){this.dynamicAuthCacheService=n}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,$n.$)()).subscribe({next:n=>{var a=wa(n.options);this.spResponseDictionary=new aa.b({requireSignedAssertions:a.requireSignedAssertions,requireEncryptedAssertions:a.requireEncryptedAssertions}),this.certificateDescription=a.encryptionCertificateDto?[a.encryptionCertificateDto]:[]}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(Ji.t))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-view-sp-response"]],decls:6,vars:17,consts:[["id","viewSpResponse"],[3,"id","label","help"],[3,"fieldType","values"],[3,"certificates","showSingle","isReadOnly"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"app-form-row",1),e.nrm(2,"app-readonly",2),e.k0s(),e.j41(3,"app-form-row",1),e.nrm(4,"app-readonly",2),e.k0s(),e.nrm(5,"app-saml-cert-list",3),e.k0s()),2&a&&(e.R7$(),e.Y8G("id","RequireSignedAssertions")("label","DynamicAuth.SAML.RequireSignedAssertions.Label")("help","DynamicAuth.SAML.RequireSignedAssertions.Help"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(13,Gc,l.spResponseDictionary.requireSignedAssertions)),e.R7$(),e.Y8G("id","RequireEncryptedAssertions")("label","DynamicAuth.SAML.RequireEncryptedAssertions.Label")("help","DynamicAuth.SAML.RequireEncryptedAssertions.Help"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(15,Gc,l.spResponseDictionary.requireEncryptedAssertions)),e.R7$(),e.Y8G("certificates",l.certificateDescription)("showSingle",!0)("isReadOnly",!0))},dependencies:[fe.Y,Nf.T,qr.O],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();const Sg=["AdvancedTabs"];let vD=(()=>{class s{constructor(){}ngOnInit(){}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-view-sp"]],viewQuery:function(a,l){if(1&a&&e.GBs(Sg,7),2&a){let D;e.mGM(D=e.lsd())&&(l.advancedTabs=D.first)}},decls:7,vars:7,consts:[[1,"tw-container","tw-mx-auto"],[3,"pillMode"],[3,"tabTitle","tabValue"],["id","viewDynamicAuthSpDetails"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"app-custom-tabs",1),e.nrm(2,"app-custom-tab",2)(3,"app-custom-tab",2)(4,"app-custom-tab",2),e.k0s()(),e.j41(5,"div",3),e.nrm(6,"router-outlet"),e.k0s()),2&a&&(e.R7$(),e.Y8G("pillMode",!0),e.R7$(),e.Y8G("tabTitle","Nav.Details")("tabValue","details"),e.R7$(),e.Y8G("tabTitle","Nav.Request")("tabValue","request"),e.R7$(),e.Y8G("tabTitle","Nav.Response")("tabValue","response"))},dependencies:[bt.n3,rn.G,bn.v],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();const Dy=(s,p)=>({title:s,link:p}),Ay=s=>[s],Lf=()=>["active"];function Hu(s,p){1&s&&(e.j41(0,"option",19),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Nav.Scopes")))}function bE(s,p){1&s&&(e.j41(0,"option",20),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Nav.Advanced")))}function CE(s,p){1&s&&(e.j41(0,"option",21),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Nav.SP")))}function wE(s,p){1&s&&(e.j41(0,"option",22),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Nav.IdP")))}function Wu(s,p){1&s&&(e.j41(0,"button",23),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.Y8G("routerLinkActive",e.lJ4(4,Lf)),e.R7$(),e.JRh(e.bMT(2,2,"Nav.Scopes")))}function SE(s,p){1&s&&(e.j41(0,"button",24),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.Y8G("routerLinkActive",e.lJ4(4,Lf)),e.R7$(),e.JRh(e.bMT(2,2,"Nav.Advanced")))}function Uf(s,p){1&s&&(e.j41(0,"button",25),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.Y8G("routerLinkActive",e.lJ4(4,Lf)),e.R7$(),e.JRh(e.bMT(2,2,"Nav.SP")))}function Vf(s,p){1&s&&(e.j41(0,"button",26),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.Y8G("routerLinkActive",e.lJ4(4,Lf)),e.R7$(),e.JRh(e.bMT(2,2,"Nav.IdP")))}let la=(()=>{class s{constructor(n,a,l,D,ee,De){this.r=n,this.route=a,this.titleService=l,this.translate=D,this.errorService=ee,this.dynamicAuthCachService=De,this.dynamicAuthTypes=ps}ngOnInit(){this.dynamicAuthSub=this.dynamicAuthCachService.unsavedCache$.pipe((0,$n.$)()).subscribe({next:n=>{this.dynamicAuth=n;const a=this.translate.instant("DynamicAuth.Title")+" "+this.dynamicAuth.displayName+" - "+Bt.$9.SITE_TITLE;this.titleService.setTitle(a)},error:n=>{this.errorService.handleError(n)}})}mobRoute(n){this.r.navigate([n],{relativeTo:this.route})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(bt.Ix),e.rXU(bt.nX),e.rXU(i.hE),e.rXU(_n.c$),e.rXU(ne.I),e.rXU(Ji.t))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["ng-component"]],decls:33,vars:36,consts:[[3,"title","crumbs","hasTabs","isReadOnly","isReserved"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","details"],["value","scopes",4,"ngIf"],["value","advanced",4,"ngIf"],["value","sp",4,"ngIf"],["value","idp",4,"ngIf"],["role","tablist",1,"tabs","tw-hidden","md:tw-flex"],[1,"tabs__item"],["type","button","routerLink","details","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["class","tabs__link","type","button","routerLink","scopes","role","tab","aria-selected","false",3,"routerLinkActive",4,"ngIf"],["class","tabs__link","type","button","routerLink","advanced","role","tab","aria-selected","false",3,"routerLinkActive",4,"ngIf"],["class","tabs__link","type","button","routerLink","sp","role","tab","aria-selected","false",3,"routerLinkActive",4,"ngIf"],["class","tabs__link","type","button","routerLink","idp","role","tab","aria-selected","false",3,"routerLinkActive",4,"ngIf"],["id","viewDynamicAuth",1,"tw-container","tw-mx-auto"],["value","scopes"],["value","advanced"],["value","sp"],["value","idp"],["type","button","routerLink","scopes","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","advanced","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","sp","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","idp","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"]],template:function(a,l){1&a&&(e.j41(0,"app-title-bar",0),e.nI1(1,"translate"),e.nI1(2,"localize"),e.qex(3,1),e.j41(4,"div",2)(5,"label",3),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"div",4)(9,"select",5),e.bIt("change",function(ee){return l.mobRoute(ee.target.value)}),e.j41(10,"option",6),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.DNE(13,Hu,3,3,"option",7)(14,bE,3,3,"option",8)(15,CE,3,3,"option",9)(16,wE,3,3,"option",10),e.k0s()()(),e.j41(17,"ul",11),e.nI1(18,"translate"),e.j41(19,"li",12)(20,"button",13),e.EFF(21),e.nI1(22,"translate"),e.k0s()(),e.j41(23,"li",12),e.DNE(24,Wu,3,5,"button",14),e.k0s(),e.j41(25,"li",12),e.DNE(26,SE,3,5,"button",15),e.k0s(),e.j41(27,"li",12),e.DNE(28,Uf,3,5,"button",16),e.k0s(),e.j41(29,"li",12),e.DNE(30,Vf,3,5,"button",17),e.k0s()(),e.bVm(),e.k0s(),e.j41(31,"div",18),e.nrm(32,"router-outlet"),e.k0s()),2&a&&(e.Y8G("title",l.dynamicAuth.displayName)("crumbs",e.eq3(33,Ay,e.l_i(30,Dy,e.bMT(1,18,"Nav.DynamicAuth"),e.bMT(2,20,"/dynamic-auth"))))("hasTabs",!0)("isReadOnly",!0)("isReserved",l.dynamicAuth.nonEditable),e.R7$(6),e.JRh(e.bMT(7,22,"Nav.SubMenu")),e.R7$(5),e.JRh(e.bMT(12,24,"Nav.Details")),e.R7$(2),e.Y8G("ngIf",l.dynamicAuth.type==l.dynamicAuthTypes.OIDC),e.R7$(),e.Y8G("ngIf",l.dynamicAuth.type==l.dynamicAuthTypes.OIDC),e.R7$(),e.Y8G("ngIf",l.dynamicAuth.type==l.dynamicAuthTypes.SAML),e.R7$(),e.Y8G("ngIf",l.dynamicAuth.type==l.dynamicAuthTypes.SAML),e.R7$(),e.BMQ("aria-label",e.bMT(18,26,"Nav.SubMenu")),e.R7$(3),e.Y8G("routerLinkActive",e.lJ4(35,Lf)),e.R7$(),e.JRh(e.bMT(22,28,"Nav.Details")),e.R7$(3),e.Y8G("ngIf",l.dynamicAuth.type==l.dynamicAuthTypes.OIDC),e.R7$(2),e.Y8G("ngIf",l.dynamicAuth.type==l.dynamicAuthTypes.OIDC),e.R7$(2),e.Y8G("ngIf",l.dynamicAuth.type==l.dynamicAuthTypes.SAML),e.R7$(2),e.Y8G("ngIf",l.dynamicAuth.type==l.dynamicAuthTypes.SAML))},dependencies:[bt.n3,bt.Wk,bt.wQ,pn.bT,g.xH,g.y7,Zt.z,_n.D9,Wn.tl],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})(),jf=(()=>{class s{constructor(n,a){this.router=n,this.config=a}canActivate(n,a){return this.config.getConfig().pipe((0,$n.$)(),(0,Ci.T)(l=>l?.featureFlagOptions?.dynamicAuthenticationFlag!=ja.U.Disabled||this.router.parseUrl("/resourcenotfound/dynamic-auth")))}static{this.\u0275fac=function(a){return new(a||s)(e.KVO(bt.Ix),e.KVO(Gs.w))}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();function Ry(s,p){1&s&&(e.j41(0,"app-form-row",3)(1,"app-form-toggle",4),e.nrm(2,"input",7),e.k0s()()),2&s&&(e.Y8G("id","MapInboundClaims")("label","DynamicAuth.MapInboundClaims.Label")("help","DynamicAuth.MapInboundClaims.Help")("isLast",!0),e.R7$(),e.Y8G("id","MapInboundClaims")("isTraffic",!0)("isAlt",!1))}function EE(s,p){if(1&s&&(e.j41(0,"form",2)(1,"app-form-row",3)(2,"app-form-toggle",4),e.nrm(3,"input",5),e.k0s()(),e.DNE(4,Ry,3,7,"app-form-row",6),e.k0s()),2&s){const n=e.XpG();e.Y8G("formGroup",n.form),e.R7$(),e.Y8G("id","GetClaimsFromUserInfoEndpoint")("label","DynamicAuth.GetClaimsFromUserInfoEndpoint.Label")("help","DynamicAuth.GetClaimsFromUserInfoEndpoint.Help")("isLast",!n.isRskDynamicAuth),e.R7$(),e.Y8G("id","GetClaimsFromUserInfoEndpoint")("isTraffic",!0)("isAlt",!1),e.R7$(2),e.Y8G("ngIf",n.isRskDynamicAuth)}}let My=(()=>{class s{get ReadOnlyFieldType(){return Hi.t}constructor(n,a,l,D){this.fb=n,this.configService=a,this.dynamicAuthCache=l,this.errorService=D}ngOnInit(){this.configService.getConfig().pipe((0,$n.$)()).subscribe({next:n=>{this.isRskDynamicAuth=n.featureFlagOptions.dynamicAuthenticationFlag==ja.U.Rsk}}),this.dynamicAuthCache.unsavedCache$.pipe((0,$n.$)()).subscribe({next:n=>{this.dynamicAuth=n,this.oidcOptions=bo(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges()},error:n=>{this.errorService.handleError(n)}})}buildForm(){let n={getClaimsFromUserInfoEndpoint:[this.oidcOptions.getClaimsFromUserInfoEndpoint,[]]};this.isRskDynamicAuth&&(n.mapInboundClaims=[this.oidcOptions.mapInboundClaims,[]]),this.form=this.fb.group(n)}subscribeToValueChanges(){this.form.valueChanges.subscribe({next:n=>{let a={...this.oidcOptions,getClaimsFromUserInfoEndpoint:this.form.get("getClaimsFromUserInfoEndpoint").value};this.isRskDynamicAuth&&(a.mapInboundClaims=this.form.get("mapInboundClaims").value),this.dynamicAuthCache.componentDirtyValidMap.set("DynamicAuthEditAdvancedComponent",this.form.valid),this.dynamicAuthCache.unsavedCache.next({...this.dynamicAuth,options:JSON.stringify(a)})}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(g.ze),e.rXU(Gs.w),e.rXU(Ji.t),e.rXU(ne.I))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-claims-edit-details"]],decls:2,vars:1,consts:[["id","editDynamicAuthClaims"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label","help","isLast"],[3,"id","isTraffic","isAlt"],["id","GetClaimsFromUserInfoEndpoint","formControlName","getClaimsFromUserInfoEndpoint","type","checkbox",1,"tw-form-switch__input"],[3,"id","label","help","isLast",4,"ngIf"],["id","MapInboundClaims","formControlName","mapInboundClaims","type","checkbox",1,"tw-form-switch__input"]],template:function(a,l){1&a&&(e.j41(0,"div",0),e.DNE(1,EE,5,9,"form",1),e.k0s()),2&a&&(e.R7$(),e.Y8G("ngIf",l.form))},dependencies:[pn.bT,g.qT,g.Zm,g.BC,g.cb,g.j4,g.JD,fe.Y,ga.m],encapsulation:2})}}return s})();function xy(s,p){if(1&s&&(e.j41(0,"form",2)(1,"app-form-row",3)(2,"app-form-toggle",4),e.nrm(3,"input",5),e.k0s()(),e.j41(4,"app-form-row",6)(5,"app-form-toggle",4),e.nrm(6,"input",7),e.k0s()()()),2&s){const n=e.XpG();e.Y8G("formGroup",n.form),e.R7$(),e.Y8G("id","SaveTokens")("label","DynamicAuth.SaveTokens.Label")("help","DynamicAuth.SaveTokens.Help"),e.R7$(),e.Y8G("id","SaveTokens")("isTraffic",!0)("isAlt",!1),e.R7$(2),e.Y8G("id","UseTokenLifetime")("label","DynamicAuth.UseTokenLifetime.Label")("help","DynamicAuth.UseTokenLifetime.Help")("isLast",!0),e.R7$(),e.Y8G("id","UseTokenLifetime")("isTraffic",!0)("isAlt",!1)}}let ky=(()=>{class s{get ReadOnlyFieldType(){return Hi.t}constructor(n,a,l){this.fb=n,this.dynamicAuthCache=a,this.errorService=l}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,$n.$)()).subscribe({next:n=>{this.dynamicAuth=n,this.oidcOptions=bo(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges()},error:n=>{this.errorService.handleError(n)}})}buildForm(){this.form=this.fb.group({saveTokens:[this.oidcOptions.saveTokens,[]],useTokenLifetime:[this.oidcOptions.useTokenLifetime,[]]})}subscribeToValueChanges(){this.form.valueChanges.subscribe({next:n=>{let a={...this.oidcOptions,saveTokens:this.form.get("saveTokens").value,useTokenLifetime:this.form.get("useTokenLifetime").value};this.dynamicAuthCache.componentDirtyValidMap.set("DynamicAuthEditAdvancedComponent",this.form.valid),this.dynamicAuthCache.unsavedCache.next({...this.dynamicAuth,options:JSON.stringify(a)})}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(g.ze),e.rXU(Ji.t),e.rXU(ne.I))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-tokens-edit-details"]],decls:2,vars:1,consts:[["id","editDynamicAuthTokens"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label","help"],[3,"id","isTraffic","isAlt"],["id","SaveTokens","formControlName","saveTokens","type","checkbox",1,"tw-form-switch__input"],[3,"id","label","help","isLast"],["id","UseTokenLifetime","formControlName","useTokenLifetime","type","checkbox",1,"tw-form-switch__input"]],template:function(a,l){1&a&&(e.j41(0,"div",0),e.DNE(1,xy,7,14,"form",1),e.k0s()),2&a&&(e.R7$(),e.Y8G("ngIf",l.form))},dependencies:[pn.bT,g.qT,g.Zm,g.BC,g.cb,g.j4,g.JD,fe.Y,ga.m],encapsulation:2})}}return s})();function Ny(s,p){if(1&s&&(e.j41(0,"form",2)(1,"app-form-row",3)(2,"app-form-toggle",4),e.nrm(3,"input",5),e.k0s()(),e.j41(4,"app-form-row",6),e.nrm(5,"app-lifetime-picker",7),e.k0s()()),2&s){const n=e.XpG();e.Y8G("formGroup",n.form),e.R7$(),e.Y8G("id","RefreshOnIssuerKeyNotFound")("label","DynamicAuth.RefreshOnIssuerKeyNotFound.Label")("help","DynamicAuth.RefreshOnIssuerKeyNotFound.Help"),e.R7$(),e.Y8G("id","RefreshOnIssuerKeyNotFound")("isTraffic",!0)("isAlt",!1),e.R7$(2),e.Y8G("id","MetadataRefreshInterval")("label","DynamicAuth.MetadataRefreshInterval.Label")("help","DynamicAuth.MetadataRefreshInterval.Help")("isLast",!0),e.R7$(),e.Y8G("buttons",n.metadataRefreshIntervalButtons)}}let TE=(()=>{class s{get ReadOnlyFieldType(){return Hi.t}constructor(n,a,l){this.fb=n,this.dynamicAuthCache=a,this.errorService=l,this.setButtonModels()}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,$n.$)()).subscribe({next:n=>{this.dynamicAuth=n,this.oidcOptions=bo(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges()},error:n=>{this.errorService.handleError(n)}})}buildForm(){this.form=this.fb.group({refreshOnIssuerKeyNotFound:[this.oidcOptions.refreshMetadataOnIssuerKeyNotFound],metadataRefreshInterval:[this.oidcOptions.metadataRefreshInterval,[g.k0.min(300)]]})}subscribeToValueChanges(){this.form.valueChanges.subscribe({next:n=>{let a={...this.oidcOptions,refreshMetadataOnIssuerKeyNotFound:this.form.get("refreshOnIssuerKeyNotFound").value,metadataRefreshInterval:this.form.get("metadataRefreshInterval").value};this.dynamicAuthCache.componentDirtyValidMap.set("DynamicAuthEditAdvancedComponent",this.form.valid),this.dynamicAuthCache.unsavedCache.next({...this.dynamicAuth,options:JSON.stringify(a)})}})}setButtonModels(){this.metadataRefreshIntervalButtons=[{duration:1,unit:ju.u.Hour},{duration:12,unit:ju.u.Hours},{duration:1,unit:ju.u.Day}]}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(g.ze),e.rXU(Ji.t),e.rXU(ne.I))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-metadata-edit-details"]],decls:2,vars:1,consts:[["id","editDynamicAuthMetadata"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label","help"],[3,"id","isTraffic","isAlt"],["id","RefreshOnIssuerKeyNotFound","formControlName","refreshOnIssuerKeyNotFound","type","checkbox",1,"tw-form-switch__input"],[3,"id","label","help","isLast"],["id","MetadataRefreshInterval","formControlName","metadataRefreshInterval",3,"buttons"]],template:function(a,l){1&a&&(e.j41(0,"div",0),e.DNE(1,Ny,6,12,"form",1),e.k0s()),2&a&&(e.R7$(),e.Y8G("ngIf",l.form))},dependencies:[pn.bT,g.qT,g.Zm,g.BC,g.cb,g.j4,g.JD,dg.T,fe.Y,ga.m],encapsulation:2})}}return s})();function IE(s,p){if(1&s&&(e.j41(0,"form",2)(1,"app-form-row",3)(2,"app-form-toggle",4),e.nrm(3,"input",5),e.k0s()(),e.j41(4,"app-form-row",6)(5,"app-form-toggle",4),e.nrm(6,"input",7),e.k0s()()()),2&s){const n=e.XpG();e.Y8G("formGroup",n.form),e.R7$(),e.Y8G("id","SkipUnrecognizedRequests")("label","DynamicAuth.SkipUnrecognizedRequests.Label")("help","DynamicAuth.SkipUnrecognizedRequests.Help"),e.R7$(),e.Y8G("id","SkipUnrecognizedRequests")("isTraffic",!0)("isAlt",!1),e.R7$(2),e.Y8G("id","DisableTelemetry")("label","DynamicAuth.DisableTelemetry.Label")("help","DynamicAuth.DisableTelemetry.Help")("isLast",!0),e.R7$(),e.Y8G("id","DisableTelemetry")("isTraffic",!0)("isAlt",!1)}}let DE=(()=>{class s{get ReadOnlyFieldType(){return Hi.t}constructor(n,a,l){this.fb=n,this.dynamicAuthCache=a,this.errorService=l}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,$n.$)()).subscribe({next:n=>{this.dynamicAuth=n,this.oidcOptions=bo(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges()},error:n=>{this.errorService.handleError(n)}})}buildForm(){this.form=this.fb.group({skipUnrecognizedRequests:[this.oidcOptions.skipUnrecognizedRequests,[]],disableTelemetry:[this.oidcOptions.disableTelemetry,[]]})}subscribeToValueChanges(){this.form.valueChanges.subscribe({next:n=>{let a={...this.oidcOptions,skipUnrecognizedRequests:this.form.get("skipUnrecognizedRequests").value,disableTelemetry:this.form.get("disableTelemetry").value};this.dynamicAuthCache.componentDirtyValidMap.set("DynamicAuthEditAdvancedComponent",this.form.valid),this.dynamicAuthCache.unsavedCache.next({...this.dynamicAuth,options:JSON.stringify(a)})}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(g.ze),e.rXU(Ji.t),e.rXU(ne.I))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-other-edit-details"]],decls:2,vars:1,consts:[["id","editDynamicAuthOther"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label","help"],[3,"id","isTraffic","isAlt"],["id","SkipUnrecognizedRequests","formControlName","skipUnrecognizedRequests","type","checkbox",1,"tw-form-switch__input"],[3,"id","label","help","isLast"],["id","DisableTelemetry","formControlName","disableTelemetry","type","checkbox",1,"tw-form-switch__input"]],template:function(a,l){1&a&&(e.j41(0,"div",0),e.DNE(1,IE,7,14,"form",1),e.k0s()),2&a&&(e.R7$(),e.Y8G("ngIf",l.form))},dependencies:[pn.bT,g.qT,g.Zm,g.BC,g.cb,g.j4,g.JD,fe.Y,ga.m],encapsulation:2})}}return s})();function nh(s,p){1&s&&e.nrm(0,"app-custom-tab",2),2&s&&e.Y8G("tabTitle","Common.Request")("tabValue","request")}function AE(s,p){1&s&&e.nrm(0,"app-custom-tab",2),2&s&&e.Y8G("tabTitle","Common.SignOut")("tabValue","signOut")}function RE(s,p){1&s&&e.nrm(0,"app-custom-tab",2),2&s&&e.Y8G("tabTitle","Common.Metadata")("tabValue","metadata")}function ME(s,p){1&s&&e.nrm(0,"app-custom-tab",2),2&s&&e.Y8G("tabTitle","Common.Tokens")("tabValue","tokens")}function $f(s,p){1&s&&e.nrm(0,"app-custom-tab",2),2&s&&e.Y8G("tabTitle","Common.Other")("tabValue","other")}let Eg=(()=>{class s{constructor(n){this.configService=n}ngOnInit(){this.configService.getConfig().subscribe({next:n=>{this.isRskDynamicAuth=n.featureFlagOptions.dynamicAuthenticationFlag==ja.U.Rsk}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(Gs.w))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-advanced"]],decls:9,vars:9,consts:[[3,"pillMode","hidden"],[3,"tabTitle","tabValue",4,"ngIf"],[3,"tabTitle","tabValue"],["id","dynamicAuthAdvanced"]],template:function(a,l){1&a&&(e.j41(0,"app-custom-tabs",0),e.DNE(1,nh,1,2,"app-custom-tab",1),e.nrm(2,"app-custom-tab",2),e.DNE(3,AE,1,2,"app-custom-tab",1)(4,RE,1,2,"app-custom-tab",1)(5,ME,1,2,"app-custom-tab",1)(6,$f,1,2,"app-custom-tab",1),e.k0s(),e.j41(7,"div",3),e.nrm(8,"router-outlet"),e.k0s()),2&a&&(e.Y8G("pillMode",!0)("hidden",!l.isRskDynamicAuth),e.R7$(),e.Y8G("ngIf",l.isRskDynamicAuth),e.R7$(),e.Y8G("tabTitle","Common.Claims")("tabValue","claims"),e.R7$(),e.Y8G("ngIf",l.isRskDynamicAuth),e.R7$(),e.Y8G("ngIf",l.isRskDynamicAuth),e.R7$(),e.Y8G("ngIf",l.isRskDynamicAuth),e.R7$(),e.Y8G("ngIf",l.isRskDynamicAuth))},dependencies:[bt.n3,pn.bT,rn.G,bn.v],encapsulation:2})}}return s})();function Oy(s,p){if(1&s&&(e.j41(0,"form",2)(1,"app-form-row",3),e.nrm(2,"input",4),e.k0s(),e.j41(3,"app-form-row",3),e.nrm(4,"input",5),e.k0s(),e.j41(5,"app-form-row",6),e.nrm(6,"input",7),e.k0s()()),2&s){const n=e.XpG();e.Y8G("formGroup",n.form),e.R7$(),e.Y8G("id","RemoteSignOutPath")("label","DynamicAuth.RemoteSignOutPath.Label"),e.R7$(2),e.Y8G("id","SignedOutRedirectUri")("label","DynamicAuth.SignedOutRedirectUri.Label"),e.R7$(2),e.Y8G("id","SignedOutCallbackPath")("label","DynamicAuth.SignedOutCallbackPath.Label")("isLast",!0)}}let Fy=(()=>{class s{get ReadOnlyFieldType(){return Hi.t}constructor(n,a,l){this.fb=n,this.dynamicAuthCache=a,this.errorService=l}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,$n.$)()).subscribe({next:n=>{this.dynamicAuth=n,this.oidcOptions=bo(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges()},error:n=>{this.errorService.handleError(n)}})}buildForm(){this.form=this.fb.group({remoteSignOutPath:[this.oidcOptions.remoteSignOutPath,[g.k0.required,Ql()]],signedOutRedirectUri:[this.oidcOptions.signedOutRedirectUri,[g.k0.required,Ql()]],signedOutCallbackPath:[this.oidcOptions.signedOutCallbackPath,[g.k0.required,Ql()]]})}subscribeToValueChanges(){this.form.valueChanges.subscribe({next:n=>{let a={...this.oidcOptions,remoteSignOutPath:this.form.get("remoteSignOutPath").value,signedOutRedirectUri:this.form.get("signedOutRedirectUri").value,signedOutCallbackPath:this.form.get("signedOutCallbackPath").value};this.dynamicAuthCache.componentDirtyValidMap.set("DynamicAuthEditAdvancedComponent",this.form.valid),this.dynamicAuthCache.unsavedCache.next({...this.dynamicAuth,options:JSON.stringify(a)})}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(g.ze),e.rXU(Ji.t),e.rXU(ne.I))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-signout-edit-details"]],decls:2,vars:1,consts:[["id","editDynamicAuthSignOut"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label"],["type","text","name","RemoteSignOutPath","id","RemoteSignOutPath","formControlName","remoteSignOutPath","required","",1,"tw-form-control"],["type","text","name","SignedOutRedirectUri","id","SignedOutRedirectUri","formControlName","signedOutRedirectUri","required","",1,"tw-form-control"],[3,"id","label","isLast"],["type","text","name","SignedOutCallbackPath","id","SignedOutCallbackPath","formControlName","signedOutCallbackPath","required","",1,"tw-form-control"]],template:function(a,l){1&a&&(e.j41(0,"div",0),e.DNE(1,Oy,7,8,"form",1),e.k0s()),2&a&&(e.R7$(),e.Y8G("ngIf",l.form))},dependencies:[pn.bT,g.qT,g.me,g.BC,g.cb,g.YS,g.j4,g.JD,fe.Y],encapsulation:2})}}return s})();const Py=s=>[s];function ih(s,p){if(1&s&&(e.j41(0,"app-form-row",1),e.nrm(1,"app-readonly",2),e.k0s()),2&s){const n=e.XpG();e.Y8G("id","MapInboundClaims")("label","DynamicAuth.MapInboundClaims.Label")("help","DynamicAuth.MapInboundClaims.Help")("isLast",!0),e.R7$(),e.Y8G("fieldType",n.ReadOnlyFieldType.Single)("values",e.eq3(6,Py,n.optionsDictionary.mapInboundClaims))}}let rh=(()=>{class s{get ReadOnlyFieldType(){return Hi.t}constructor(n,a){this.configService=n,this.dynamicAuthCache=a}ngOnInit(){(0,py.z)([this.dynamicAuthCache.unsavedCache$.pipe((0,$n.$)()),this.configService.getConfig().pipe((0,$n.$)())]).subscribe({next:([n,a])=>{this.optionsDictionary=new aa.b(bo(n.options)),this.isRskDynamicAuth=a.featureFlagOptions.dynamicAuthenticationFlag==ja.U.Rsk}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(Gs.w),e.rXU(Ji.t))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-claims-view-details"]],decls:4,vars:9,consts:[["id","viewDynamicAuthClaims"],[3,"id","label","help","isLast"],[3,"fieldType","values"],[3,"id","label","help","isLast",4,"ngIf"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"app-form-row",1),e.nrm(2,"app-readonly",2),e.k0s(),e.DNE(3,ih,2,8,"app-form-row",3),e.k0s()),2&a&&(e.R7$(),e.Y8G("id","GetClaimsFromUserInfoEndpoint")("label","DynamicAuth.GetClaimsFromUserInfoEndpoint.Label")("help","DynamicAuth.GetClaimsFromUserInfoEndpoint.Help")("isLast",!l.isRskDynamicAuth),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(7,Py,l.optionsDictionary.getClaimsFromUserInfoEndpoint)),e.R7$(),e.Y8G("ngIf",l.isRskDynamicAuth))},dependencies:[pn.bT,fe.Y,qr.O],encapsulation:2})}}return s})();const Tg=s=>[s];let xE=(()=>{class s{get ReadOnlyFieldType(){return Hi.t}constructor(n){this.dynamicAuthCache=n}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,$n.$)()).subscribe({next:n=>{this.optionsDictionary=new aa.b(bo(n.options))}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(Ji.t))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-signout-view-details"]],decls:7,vars:19,consts:[["id","viewDynamicAuthSignOut"],[3,"id","label"],[3,"fieldType","values"],[3,"id","label","isLast"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"app-form-row",1),e.nrm(2,"app-readonly",2),e.k0s(),e.j41(3,"app-form-row",1),e.nrm(4,"app-readonly",2),e.k0s(),e.j41(5,"app-form-row",3),e.nrm(6,"app-readonly",2),e.k0s()()),2&a&&(e.R7$(),e.Y8G("id","RemoteSignOutPath")("label","DynamicAuth.RemoteSignOutPath.Label"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(13,Tg,l.optionsDictionary.remoteSignOutPath)),e.R7$(),e.Y8G("id","SignedOutRedirectUri")("label","DynamicAuth.SignedOutRedirectUri.Label"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(15,Tg,l.optionsDictionary.signedOutRedirectUri)),e.R7$(),e.Y8G("id","SignedOutCallbackPath")("label","DynamicAuth.SignedOutCallbackPath.Label")("isLast",!0),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(17,Tg,l.optionsDictionary.signedOutCallbackPath)))},dependencies:[fe.Y,qr.O],encapsulation:2})}}return s})();const Ig=s=>[s];let sh=(()=>{class s{get ReadOnlyFieldType(){return Hi.t}constructor(n){this.dynamicAuthCache=n}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,$n.$)()).subscribe({next:n=>{this.optionsDictionary=new aa.b(bo(n.options))}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(Ji.t))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-metadata-view-details"]],decls:5,vars:15,consts:[["id","viewDynamicAuthMetadata"],[3,"id","label","help"],[3,"fieldType","values"],[3,"id","label","help","isLast"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"app-form-row",1),e.nrm(2,"app-readonly",2),e.k0s(),e.j41(3,"app-form-row",3),e.nrm(4,"app-readonly",2),e.k0s()()),2&a&&(e.R7$(),e.Y8G("id","RefreshOnIssuerKeyNotFound")("label","DynamicAuth.RefreshOnIssuerKeyNotFound.Label")("help","DynamicAuth.RefreshOnIssuerKeyNotFound.Help"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(11,Ig,l.optionsDictionary.refreshOnIssuerKeyNotFound)),e.R7$(),e.Y8G("id","MetadataRefreshInterval")("label","DynamicAuth.MetadataRefreshInterval.Label")("help","DynamicAuth.MetadataRefreshInterval.Help")("isLast",!0),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(13,Ig,l.optionsDictionary.metadataRefreshInterval)))},dependencies:[fe.Y,qr.O],encapsulation:2})}}return s})();const By=s=>[s];let kE=(()=>{class s{get ReadOnlyFieldType(){return Hi.t}constructor(n){this.dynamicAuthCache=n}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,$n.$)()).subscribe({next:n=>{this.optionsDictionary=new aa.b(bo(n.options))}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(Ji.t))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-tokens-view-details"]],decls:5,vars:15,consts:[["id","viewDynamicAuthTokens"],[3,"id","label","help"],[3,"fieldType","values"],[3,"id","label","help","isLast"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"app-form-row",1),e.nrm(2,"app-readonly",2),e.k0s(),e.j41(3,"app-form-row",3),e.nrm(4,"app-readonly",2),e.k0s()()),2&a&&(e.R7$(),e.Y8G("id","SaveTokens")("label","DynamicAuth.SaveTokens.Label")("help","DynamicAuth.SaveTokens.Help"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(11,By,l.optionsDictionary.saveTokens)),e.R7$(),e.Y8G("id","UseTokenLifetime")("label","DynamicAuth.UseTokenLifetime.Label")("help","DynamicAuth.UseTokenLifetime.Help")("isLast",!0),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(13,By,l.optionsDictionary.useTokenLifetime)))},dependencies:[fe.Y,qr.O],encapsulation:2})}}return s})();const Ly=s=>[s];let Uy=(()=>{class s{get ReadOnlyFieldType(){return Hi.t}constructor(n){this.dynamicAuthCache=n}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,$n.$)()).subscribe({next:n=>{this.optionsDictionary=new aa.b(bo(n.options))}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(Ji.t))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-other-view-details"]],decls:5,vars:15,consts:[["id","viewDynamicAuthOther"],[3,"id","label","help"],[3,"fieldType","values"],[3,"id","label","help","isLast"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"app-form-row",1),e.nrm(2,"app-readonly",2),e.k0s(),e.j41(3,"app-form-row",3),e.nrm(4,"app-readonly",2),e.k0s()()),2&a&&(e.R7$(),e.Y8G("id","SkipUnrecognizedRequests")("label","DynamicAuth.SkipUnrecognizedRequests.Label")("help","DynamicAuth.SkipUnrecognizedRequests.Help"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(11,Ly,l.optionsDictionary.skipUnrecognizedRequests)),e.R7$(),e.Y8G("id","DisableTelemetry")("label","DynamicAuth.DisableTelemetry.Label")("help","DynamicAuth.DisableTelemetry.Help")("isLast",!0),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(13,Ly,l.optionsDictionary.disableTelemetry)))},dependencies:[fe.Y,qr.O],encapsulation:2})}}return s})();var Vy=u(7970),jy=u(2891);function NE(s,p){if(1&s&&(e.j41(0,"li",21)(1,"label",22),e.nrm(2,"input",23),e.j41(3,"span"),e.EFF(4),e.nI1(5,"translate"),e.k0s()()()),2&s){const n=p.$implicit,a=e.XpG(2);e.Y8G("id",n.value+"-prompt"),e.R7$(),e.Y8G("for",n.value+"-checkbox"),e.R7$(),e.Y8G("id",n.value+"-checkbox")("formControlName",n.value),e.BMQ("disabled",a.promptDisabled(n.value)),e.R7$(2),e.JRh(e.bMT(5,6,n.displayName))}}function $y(s,p){1&s&&e.nrm(0,"app-freetext-list-input",24)}function OE(s,p){if(1&s){const n=e.RV6();e.j41(0,"form",2)(1,"app-form-row",3)(2,"app-row-bar",4)(3,"app-state-toggle",5),e.bIt("newValue",function(l){e.eBV(n);const D=e.XpG();return e.Njj(D.updateResponseMode(l))}),e.k0s(),e.j41(4,"a",6),e.nrm(5,"span",7),e.j41(6,"span",8),e.EFF(7),e.nI1(8,"translate"),e.k0s()()()(),e.j41(9,"app-form-row",3)(10,"ul",9),e.DNE(11,NE,6,8,"li",10),e.j41(12,"li",11)(13,"label",12),e.nrm(14,"input",13),e.j41(15,"span"),e.EFF(16),e.nI1(17,"translate"),e.k0s()()()(),e.nrm(18,"br"),e.DNE(19,$y,1,0,"app-freetext-list-input",14),e.j41(20,"p",15)(21,"span",16),e.EFF(22,"Preview:"),e.k0s(),e.j41(23,"span",17)(24,"span",18),e.EFF(25),e.k0s()()()(),e.j41(26,"app-form-row",19),e.nrm(27,"app-freetext-list-input",20),e.k0s()()}if(2&s){const n=e.XpG();e.Y8G("formGroup",n.form),e.R7$(),e.Y8G("id","ResponseMode")("label","DynamicAuth.ResponseMode.Label")("help","DynamicAuth.ResponseMode.Help"),e.R7$(2),e.Y8G("id","ResponseMode")("options",n.responseModeOptions)("value",n.form.get("responseMode").value),e.R7$(),e.Y8G("href",n.LinkConstants.AdvOthDynamicAuth,e.B4B),e.R7$(3),e.JRh(e.bMT(8,22,"Common.Help")),e.R7$(2),e.Y8G("id","Prompt")("label","DynamicAuth.Prompt.Label")("help","DynamicAuth.Prompt.Help"),e.R7$(2),e.Y8G("ngForOf",n.promptOptions),e.R7$(3),e.BMQ("disabled",n.promptDisabled("")),e.R7$(2),e.JRh(e.bMT(17,24,"DynamicAuth.Prompt.Values.Other")),e.R7$(3),e.Y8G("ngIf",n.form.get("useOther").value&&!n.promptDisabled("other")),e.R7$(6),e.SpI(" '",n.generatePromptString(),"' "),e.R7$(),e.Y8G("id","Resource")("label","DynamicAuth.Resource.Label")("help","DynamicAuth.Resource.Help")("isLast",!0),e.R7$(),e.Y8G("validators",n.ResourceValidators)}}class Gf{constructor(p,n){this.displayName=p,this.value=n}}let yD=(()=>{class s{get ReadOnlyFieldType(){return Hi.t}get LinkConstants(){return ua}get ResourceValidators(){return[ES]}constructor(n,a,l){this.fb=n,this.dynamicAuthCache=a,this.errorService=l,this.responseModeOptions=Object.keys(Lc).filter(D=>isNaN(Number(D))),this.promptOptions=[new Gf("DynamicAuth.Prompt.Values.None","none"),new Gf("DynamicAuth.Prompt.Values.Login","login"),new Gf("DynamicAuth.Prompt.Values.Consent","consent"),new Gf("DynamicAuth.Prompt.Values.SelectAccount","select_account")]}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,$n.$)()).subscribe({next:n=>{this.dynamicAuth=n,this.oidcOptions=bo(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges()},error:n=>{this.errorService.handleError(n)}})}buildForm(){let n=Ws.ResponseModeMap.get(this.oidcOptions.responseMode);const a=this.promptOptions.map(De=>De.value),l=(0,Ai.hr)(this.oidcOptions.prompt),D=l.filter(De=>!a.includes(De));let ee={responseMode:[Lc[n],[]],resource:[(0,Ai.hr)(this.oidcOptions.resource),[]],useOther:[D.length>0,[]],otherPrompts:[D,[]]};for(let De of this.promptOptions)ee[De.value]=[l?.includes(De.value)??!1,[]];this.form=this.fb.group(ee)}subscribeToValueChanges(){this.formChange=this.form.valueChanges.subscribe({next:n=>{let a=Lc[this.form.get("responseMode").value],l=Ws.ResponseModeKey(a),D={...this.oidcOptions,responseMode:l,prompt:this.generatePromptString(),resource:(0,Ai.Nj)(this.form.get("resource").value)};this.dynamicAuthCache.componentDirtyValidMap.set("DynamicAuthEditAdvancedComponent",this.form.valid),this.dynamicAuthCache.unsavedCache.next({...this.dynamicAuth,options:JSON.stringify(D)})}})}generatePromptString(){let n=[];if(this.form.get("none").value)return"none";for(let a of this.promptOptions)this.form.get(a.value).value&&n.push(a.value);return this.form.get("useOther").value&&this.form.get("otherPrompts").value.forEach(a=>n.push(a)),(0,Ai.Nj)(n)}promptDisabled(n){const a=this.form.get("none").value;return!("none"===n||!a)||null}updateResponseMode(n){this.form.get("responseMode").setValue(n)}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(g.ze),e.rXU(Ji.t),e.rXU(ne.I))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-request-edit-details"]],decls:2,vars:1,consts:[["id","editDynamicAuthRequest"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label","help"],[1,"tw-form-input"],["left","",3,"newValue","id","options","value"],["type","button","target","_blank","right","",1,"tw-btn-link","tw-btn","tw-pt-0","group-hover:tw-text-blue-500",3,"href"],[1,"far","fa-question-circle","tw-w-15","tw-h-15"],[1,"sr-only"],[1,"tw-form-checks"],["class","tw-form-checks__item",3,"id",4,"ngFor","ngForOf"],["id","other-prompt",1,"tw-form-checks__item"],["for","other-checkbox",1,"tw-form-checks__label"],["id","other-checkbox","name","otherPrompt","type","checkbox","formControlName","useOther",1,"tw-form-checks__input"],["id","Prompt","formControlName","otherPrompts",4,"ngIf"],["id","promp-preview",1,"tw-form-text","tw-flex","tw-items-center"],[1,"tw-mr-2","tw--mt-px"],[1,"tw-flex","tw-flex-wrap"],[1,"tw-mr-2"],[3,"id","label","help","isLast"],["id","Resource","formControlName","resource",3,"validators"],[1,"tw-form-checks__item",3,"id"],[1,"tw-form-checks__label",3,"for"],["name","noneCheckBox","type","checkbox",1,"tw-form-checks__input",3,"id","formControlName"],["id","Prompt","formControlName","otherPrompts"]],template:function(a,l){1&a&&(e.j41(0,"div",0),e.DNE(1,OE,28,26,"form",1),e.k0s()),2&a&&(e.R7$(),e.Y8G("ngIf",l.form))},dependencies:[pn.Sq,pn.bT,g.qT,g.Zm,g.BC,g.cb,g.j4,g.JD,fe.Y,fc.f,Vy.j,jy.t,_n.D9],encapsulation:2})}}return s})();const Gy=s=>[s];let _D=(()=>{class s{get ReadOnlyFieldType(){return Hi.t}constructor(n){this.dynamicAuthCache=n}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,$n.$)()).subscribe({next:n=>{this.optionsDictionary=new aa.b(bo(n.options))}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(Ji.t))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-request-view-details"]],decls:7,vars:22,consts:[["id","viewDynamicAuthOther"],[3,"id","label","help"],[3,"fieldType","values"],[3,"id","label","help","isLast"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"app-form-row",1),e.nrm(2,"app-readonly",2),e.k0s(),e.j41(3,"app-form-row",1),e.nrm(4,"app-readonly",2),e.k0s(),e.j41(5,"app-form-row",3),e.nrm(6,"app-readonly",2),e.k0s()()),2&a&&(e.R7$(),e.Y8G("id","ResponseMode")("label","DynamicAuth.ResponseMode.Label")("help","DynamicAuth.ResponseMode.Help"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(16,Gy,l.optionsDictionary.responseMode)),e.R7$(),e.Y8G("id","Prompt")("label","DynamicAuth.Prompt.Label")("help","DynamicAuth.Prompt.Help"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(18,Gy,l.optionsDictionary.prompt)),e.R7$(),e.Y8G("id","Resource")("label","DynamicAuth.Resource.Label")("help","DynamicAuth.Resource.Help")("isLast",!0),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(20,Gy,l.optionsDictionary.resource)))},dependencies:[fe.Y,qr.O],encapsulation:2})}}return s})();const FE=[{path:"dynamic-auth",component:WS,canActivate:[dn.h,Qn._,jf,ka.q],data:{permissions:[Jt.a[Jt.a.IdentityServerManager],Jt.a[Jt.a.IdentityServerManagerReadOnly],Jt.a[Jt.a.AllReadOnly],Jt.a[Jt.a.All]]}},{path:"dynamic-auth/:Scheme",component:fE,children:[{path:"",redirectTo:"details",pathMatch:"full"},{path:"details",component:XS},{path:"scopes",component:tE},{path:"advanced",component:Eg,children:[{path:"request",component:yD},{path:"claims",component:My},{path:"signOut",component:Fy},{path:"metadata",component:TE},{path:"tokens",component:ky},{path:"other",component:DE}]},{path:"sp",component:uE,children:[{path:"details",component:oE},{path:"request",component:yg},{path:"response",component:yy}]},{path:"idp",component:qS,children:[{path:"details",component:ly},{path:"advanced",component:th}]}],resolve:{dynamicAuth:Df},canDeactivate:[Nn.M],canActivate:[dn.h,Qn._,jf,ka.q],data:{permissions:[Jt.a[Jt.a.IdentityServerManager],Jt.a[Jt.a.All]]}},{path:"dynamic-auth/view/:Scheme",component:la,children:[{path:"",redirectTo:"details",pathMatch:"full"},{path:"details",component:wy},{path:"scopes",component:wg},{path:"advanced",component:Eg,children:[{path:"request",component:_D},{path:"claims",component:rh},{path:"signOut",component:xE},{path:"metadata",component:sh},{path:"tokens",component:kE},{path:"other",component:Uy}]},{path:"sp",component:vD,children:[{path:"details",component:$c},{path:"request",component:_E},{path:"response",component:gD}]},{path:"idp",component:Cg,children:[{path:"details",component:Pf},{path:"advanced",component:mE}]}],resolve:{dynamicAuth:Df},canActivate:[dn.h,Qn._,jf,ka.q],data:{permissions:[Jt.a[Jt.a.IdentityServerManager],Jt.a[Jt.a.IdentityServerManagerReadOnly],Jt.a[Jt.a.AllReadOnly],Jt.a[Jt.a.All]]}}];let Hy=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({imports:[bt.iI.forChild(FE),Wn.XE.forChild(FE),bt.iI]})}}return s})();var Hf=u(8906);let PE=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({providers:[Df,mp.R,Xc.c,yp.z,vh.d,c1.S,gp._,Fa,Gl.V,cc,Ji.t,Gs.w,Uc],imports:[Hy,pn.MD,bt.iI,g.YN,jl.Y,g.X1,wt.jr,Zd.W,Me.Ss,Rt.Q_,o1.z,Na.A,_n.h,Tl.p,Wn.XE,od.F,Op.M,ld.a,el.m,rd.c,mc.c,sd.E,ad.h,gc.w,Oa.N,mb.f,oc.Y,gb.l,Mu.Q,$l.i,Qd.qP,If.U,zc.N,Hf.G]})}}return s})();var Wy=u(9624),Dg=u(4814),oh=u(3730);let BE=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({providers:[sc.v],imports:[pn.MD,g.YN,g.X1,Rt.Q_,jl.Y,bt.iI,_n.h,Tl.p,Wn.XE,el.m,$l.i,rd.c,Kc.t,mc.c,Zd.W,sd.E,gc.w,zc.N,Oa.N]})}}return s})();var LE=u(7101);let Ky=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({imports:[pn.MD,bt.iI,jl.Y,_n.h,Wn.XE,Lm]})}}return s})(),UE=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({imports:[_n.h,od.F,bt.iI,el.m,oc.Y]})}}return s})(),bD=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({providers:[rg.F,Np.n,bs.D,Vr.i,dn.h,fh.S,Qn._,ka.q,ru.m,Dg.y,as.P,ed.m,Ke.X,Bt.Vk,L1.M,sc.v,U1.R,Wn.QG,ki.M,ig,_n.c$,ma.X,Gs.w,V1.B,ne.I,vp.D,ng.x,Zl],imports:[pn.MD,g.YN,g.X1,Kn,S.q1,jl.Y,LE.UsersModule,BE,Wy.StarterModeModule,Tl.p,pp.P,Rt.Q_.forRoot(),wt.jr.forRoot(),Me.Ss.forRoot(),Xe.h6.forRoot(),oh.ClaimTypesModule,Jn._B.forRoot(),Op.M,Bv,mc.c,ad.h,Oa.N,gc.w,oc.Y,_n.h,bt.iI,Wn.XE,Ky,Lm,UE]})}}return s})();var VE=u(4861);const Ag=s=>[s],zy=s=>({showUpgrade:s});function jE(s,p){1&s&&e.eu8(0)}function ah(s,p){if(1&s&&(e.j41(0,"button",4),e.nI1(1,"localize"),e.EFF(2),e.DNE(3,jE,1,0,"ng-container",5),e.k0s()),2&s){const n=e.XpG(2),a=e.sdS(2);e.HbH(n.btnClasses),e.Y8G("routerLinkActive",n.activeClass)("routerLink",e.eq3(9,Ag,e.bMT(1,7,n.route))),e.R7$(2),e.SpI(" ",n.title," "),e.R7$(),e.Y8G("ngTemplateOutlet",a)("ngTemplateOutletContext",e.eq3(11,zy,n.showUpgrade))}}function $E(s,p){1&s&&e.eu8(0)}function Yy(s,p){if(1&s&&(e.j41(0,"button",6),e.nI1(1,"localize"),e.EFF(2),e.DNE(3,$E,1,0,"ng-container",5),e.k0s()),2&s){const n=e.XpG(2),a=e.sdS(2);e.HbH(n.btnClasses),e.Y8G("routerLinkActive",n.activeClass)("routerLink",e.eq3(9,Ag,e.bMT(1,7,n.route))),e.R7$(2),e.SpI(" ",n.title," "),e.R7$(),e.Y8G("ngTemplateOutlet",a)("ngTemplateOutletContext",e.eq3(11,zy,n.showUpgrade))}}function GE(s,p){if(1&s&&(e.j41(0,"li",2),e.DNE(1,ah,4,13,"button",3)(2,Yy,4,13),e.k0s()),2&s){const n=e.XpG();e.HbH(n.classes),e.Y8G("id",n.id),e.R7$(),e.vxM(1,n.sub?1:2)}}function Xy(s,p){1&s&&(e.j41(0,"div",7)(1,"span",8),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.nrm(4,"span",9),e.k0s()),2&s&&(e.R7$(2),e.JRh(e.bMT(3,1,"StarterMode.RequiresUpgrade")))}function HE(s,p){1&s&&e.DNE(0,Xy,5,3,"div",7),2&s&&e.vxM(0,p.showUpgrade?0:-1)}let Rg=(()=>{class s{constructor(){this.showUpgrade=!1}get btnClasses(){const n="tw-nav tw-flex tw-items-center tw-text-primary-200 tw-relative tw-truncate hover:tw-text-white focus:tw-text-white";return this.sub?`${n} tw-text-sm tw-font-normal tw-px-8 tw-py-3 lg:tw-px-6 xl:tw-px-8`:`${n} tw-font-semibold tw-h-header tw-px-4 lg:tw-px-6 xl:tw-px-8`}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-nav-item"]],inputs:{id:"id",title:"title",classes:"classes",activeClass:"activeClass",sub:"sub",route:"route",display:"display",showUpgrade:"showUpgrade"},decls:3,vars:1,consts:[["upgradeSymbol",""],[3,"class","id"],[3,"id"],["ngbDropdownItem","",3,"class","routerLinkActive","routerLink"],["ngbDropdownItem","",3,"routerLinkActive","routerLink"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"routerLinkActive","routerLink"],[1,"upgradeSymbol","tw-text-secondary-500","tw-text-sm","tw-pl-1","tw-font-normal","tw-py-3","lg:tw-px-1"],[1,"sr-only"],["aria-hidden","true",1,"far","fa-arrow-alt-circle-up"]],template:function(a,l){1&a&&e.DNE(0,GE,3,4,"li",1)(1,HE,1,1,"ng-template",null,0,e.C5r),2&a&&e.vxM(0,l.display?0:-1)},dependencies:[pn.T3,bt.Wk,bt.wQ,Su,vf,_n.D9,Wn.tl],encapsulation:2})}}return s})();const WE=["sameSiteBrowserNotification"],Mg=["defaultUserResolveButton"],KE=[[["","navigation",""]]],Jy=["[navigation]"],Qy=s=>({text:"IdentityServer",check:s}),zE=(s,p)=>({"tw-opacity-75":s,"tw-pill-info":p}),xg=s=>[s],Zy=(s,p)=>({"tw-text-sm tw-font-normal tw-px-8 tw-py-3 lg:tw-px-6 xl:tw-px-8":s,"tw-font-semibold tw-h-header tw-px-4 lg:tw-px-6 xl:tw-px-8":p});function kg(s,p){if(1&s){const n=e.RV6();e.j41(0,"div",20,3)(2,"div",21)(3,"div",22)(4,"div",23)(5,"div",24)(6,"b",25),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"button",26),e.bIt("click",function(){e.eBV(n);const l=e.XpG(2);return e.Njj(l.closeSameSiteBrowserNotification())}),e.j41(10,"b"),e.EFF(11),e.nI1(12,"translate"),e.k0s()()()()()()()}2&s&&(e.R7$(7),e.SpI(" ",e.bMT(8,2,"Common.SameSiteCookiesBannerError")," "),e.R7$(4),e.JRh(e.bMT(12,4,"Common.Close")))}function YE(s,p){if(1&s){const n=e.RV6();e.j41(0,"div",27)(1,"div",21)(2,"div",22)(3,"div",23)(4,"div",24)(5,"b",25),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"button",28,4),e.bIt("click",function(){e.eBV(n);const l=e.XpG(2);return e.Njj(l.defaultUserDeleteConfirmation())}),e.j41(10,"b"),e.EFF(11),e.nI1(12,"translate"),e.k0s()()()()()()()}2&s&&(e.R7$(6),e.SpI(" ",e.bMT(7,2,"InitialAdminCreation.ReminderMessage")," "),e.R7$(5),e.JRh(e.bMT(12,4,"InitialAdminCreation.Resolve")))}function qy(s,p){if(1&s&&(e.j41(0,"div",29)(1,"div",21)(2,"div",22)(3,"div",23)(4,"div",30)(5,"b",25),e.EFF(6),e.k0s()()()()()()),2&s){const n=e.XpG(2);e.R7$(6),e.SpI(" ",n.licenseIsInStarterModeMessage," ")}}function XE(s,p){if(1&s&&(e.j41(0,"div",31)(1,"div",21)(2,"div",22)(3,"div",23)(4,"div",24)(5,"b",25),e.EFF(6),e.k0s()()()()()()),2&s){const n=e.XpG(2);e.R7$(6),e.SpI(" ",n.licenseIsInGracePeriodMessage," ")}}function JE(s,p){if(1&s&&(e.j41(0,"div",15),e.DNE(1,kg,13,6,"div",16)(2,YE,13,6,"div",17)(3,qy,7,1,"div",18)(4,XE,7,1,"div",19),e.k0s()),2&s){const n=e.XpG();e.R7$(),e.Y8G("ngIf",n.noSameSiteSupport),e.R7$(),e.Y8G("ngIf",n.defaultUserExists),e.R7$(),e.Y8G("ngIf",n.licenseIsInStarterMode),e.R7$(),e.Y8G("ngIf",n.licenseIsInGracePeriod)}}function QE(s,p){if(1&s&&(e.j41(0,"div",40),e.EFF(1),e.k0s()),2&s){const n=e.XpG(2);e.Y8G("ngClass",e.l_i(2,zE,n.securityService.isNonProd(),!n.securityService.isNonProd())),e.R7$(),e.SpI(" ",n.securityService.licenseType," ")}}function ZE(s,p){if(1&s){const n=e.RV6();e.j41(0,"nav",32),e.nI1(1,"translate"),e.j41(2,"div",21)(3,"div",33),e.DNE(4,QE,2,5,"div",34),e.j41(5,"div",35),e.nrm(6,"span",36),e.j41(7,"span",37),e.EFF(8),e.k0s(),e.j41(9,"span",38),e.EFF(10,"\u2022"),e.k0s()(),e.j41(11,"button",39),e.bIt("click",function(){e.eBV(n);const l=e.XpG();return e.Njj(l.logoff())}),e.EFF(12),e.nI1(13,"translate"),e.k0s()()()()}if(2&s){const n=e.XpG();e.BMQ("aria-label",e.bMT(1,4,"Nav.Account")),e.R7$(4),e.Y8G("ngIf","Legacy"!=n.securityService.organisation),e.R7$(4),e.JRh(n.authService.user),e.R7$(4),e.SpI(" ",e.bMT(13,6,"Nav.Logout")," ")}}function qE(s,p){1&s&&e.nrm(0,"span",53)}function eT(s,p){1&s&&e.nrm(0,"span",54)}function tT(s,p){1&s&&e.nrm(0,"div",61)}function nT(s,p){if(1&s&&(e.nrm(0,"app-nav-item",62),e.nI1(1,"translate")),2&s){const n=e.XpG(3);e.Y8G("id","app-nav-item-auditing")("title",e.bMT(1,6,"Nav.Auditing"))("activeClass","tw-nav-active")("route","/auditing")("display",n.securityService.auditerView)("showUpgrade",n.licenseIsInStarterMode)}}function e_(s,p){if(1&s){const n=e.RV6();e.j41(0,"nav",55),e.DNE(1,tT,1,0,"div",56),e.j41(2,"ul",43),e.nrm(3,"app-nav-item",57),e.nI1(4,"translate"),e.nrm(5,"app-nav-item",57),e.nI1(6,"translate"),e.nrm(7,"app-nav-item",57),e.nI1(8,"translate"),e.nrm(9,"app-nav-item",57),e.nI1(10,"translate"),e.SdG(11),e.DNE(12,nT,2,8,"app-nav-item",58),e.nrm(13,"app-nav-item",57),e.nI1(14,"translate"),e.j41(15,"li",59)(16,"button",60),e.bIt("click",function(){e.eBV(n);const l=e.XpG(2);return e.Njj(l.logoff())}),e.EFF(17),e.nI1(18,"translate"),e.k0s()()()()}if(2&s){const n=e.XpG(2);e.R7$(),e.Y8G("ngIf",!n.healthCheckService.uiReady),e.R7$(2),e.Y8G("id","app-nav-item-home")("title",e.bMT(4,29,"Nav.Home"))("classes","lg:tw-hidden")("activeClass","tw-nav-active")("route","/home")("display",!0),e.R7$(2),e.Y8G("id","app-nav-item-users")("title",e.bMT(6,31,"Nav.Users"))("activeClass","tw-nav-active")("route","/users")("display",n.securityService.userManagerView||n.securityService.userManagerReadOnlyView),e.R7$(2),e.Y8G("id","app-nav-item-roles")("title",e.bMT(8,33,"Nav.Roles"))("activeClass","tw-nav-active")("route","/roles")("display",n.securityService.userManagerView||n.securityService.userManagerReadOnlyView),e.R7$(2),e.Y8G("id","app-nav-item-claimtypes")("title",e.bMT(10,35,"Nav.ClaimTypes"))("activeClass","tw-nav-active")("route","/claim-types")("display",n.securityService.userManagerView||n.securityService.userManagerReadOnlyView),e.R7$(3),e.Y8G("ngIf",n.enableAuditing),e.R7$(),e.Y8G("id","app-nav-item-settings")("title",e.bMT(14,37,"Nav.Settings"))("activeClass","tw-nav-active")("route","/settings/accesspolicy")("display",n.securityService.allView),e.R7$(4),e.SpI(" ",e.bMT(18,39,"Logout")," ")}}function t_(s,p){if(1&s){const n=e.RV6();e.j41(0,"header",41),e.bIt("resize",function(){e.eBV(n);const l=e.XpG();return e.Njj(l.detectSize())},!1,e.tSv),e.j41(1,"div",42)(2,"div",43)(3,"h2",44),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"div",45)(7,"a",46),e.nI1(8,"localize"),e.nrm(9,"img",47),e.j41(10,"span",48),e.EFF(11),e.nI1(12,"translate"),e.k0s()(),e.j41(13,"button",49),e.bIt("click",function(){e.eBV(n);const l=e.XpG();return e.Njj(l.menuToggle())}),e.j41(14,"span",48),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.DNE(17,qE,1,0,"span",50)(18,eT,1,0,"span",51),e.k0s()(),e.DNE(19,e_,19,41,"nav",52),e.k0s()()()}if(2&s){const n=e.XpG();e.R7$(4),e.JRh(e.bMT(5,10,"Nav.Menu")),e.R7$(3),e.Y8G("routerLink",e.eq3(18,xg,e.bMT(8,12,"/home"))),e.R7$(4),e.JRh(e.bMT(12,14,"Nav.Home")),e.R7$(2),e.AVh("tw-bg-primary-700",n.openMenu),e.BMQ("aria-expanded",1==n.openMenu),e.R7$(2),e.JRh(e.bMT(16,16,"Nav.ToggleNavigation")),e.R7$(2),e.Y8G("ngIf",!n.openMenu),e.R7$(),e.Y8G("ngIf",n.openMenu),e.R7$(),e.Y8G("ngIf",n.openMenu&&n.appComponentViewConfig.showNav&&!n.expectingStarterModeConsent)}}function n_(s,p){1&s&&(e.j41(0,"div",67)(1,"span",48),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.nrm(4,"span",68),e.k0s()),2&s&&(e.R7$(2),e.JRh(e.bMT(3,1,"StarterMode.RequiresUpgrade")))}function iT(s,p){if(1&s&&(e.j41(0,"li",64)(1,"button",65),e.nI1(2,"localize"),e.EFF(3),e.DNE(4,n_,5,3,"div",66),e.k0s()()),2&s){const n=e.XpG(),a=n.title,l=n.classes,D=n.activeClass,ee=n.sub,De=n.route,Ze=n.starterUpgrade,gt=n.id,Vt=e.XpG();e.HbH(l),e.Y8G("id",gt),e.R7$(),e.Y8G("ngClass",e.l_i(10,Zy,ee,!ee))("routerLinkActive",D)("routerLink",e.eq3(13,xg,e.bMT(2,8,De))),e.R7$(2),e.SpI(" ",a," "),e.R7$(),e.Y8G("ngIf",Ze&&Vt.licenseIsInStarterMode)}}function i_(s,p){1&s&&e.DNE(0,iT,5,15,"li",63),2&s&&e.Y8G("ngIf",p.display)}function rT(s,p){1&s&&(e.j41(0,"div",67)(1,"span",48),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.nrm(4,"span",68),e.k0s()),2&s&&(e.R7$(2),e.JRh(e.bMT(3,1,"StarterMode.RequiresUpgrade")))}function sT(s,p){if(1&s&&(e.j41(0,"li",64)(1,"button",69),e.nI1(2,"localize"),e.EFF(3),e.DNE(4,rT,5,3,"div",66),e.k0s()()),2&s){const n=e.XpG(),a=n.title,l=n.classes,D=n.activeClass,ee=n.sub,De=n.route,Ze=n.starterUpgrade,gt=n.id,Vt=e.XpG();e.HbH(l),e.Y8G("id",gt),e.R7$(),e.Y8G("ngClass",e.l_i(10,Zy,ee,!ee))("routerLinkActive",D)("routerLink",e.eq3(13,xg,e.bMT(2,8,De))),e.R7$(2),e.SpI(" ",a," "),e.R7$(),e.Y8G("ngIf",Ze&&Vt.licenseIsInStarterMode)}}function Ng(s,p){1&s&&e.DNE(0,sT,5,15,"li",63),2&s&&e.Y8G("ngIf",p.display)}function r_(s,p){1&s&&(e.j41(0,"div",70)(1,"div",71)(2,"div")(3,"h1",72),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"p"),e.EFF(7),e.nI1(8,"translate"),e.k0s()()()()),2&s&&(e.R7$(4),e.JRh(e.bMT(5,2,"Errors.Unauthorized")),e.R7$(3),e.JRh(e.bMT(8,4,"Errors.ContactAdmin")))}function oT(s,p){1&s&&e.nrm(0,"router-outlet")}function Og(s,p){1&s&&e.eu8(0)}function s_(s,p){if(1&s&&(e.j41(0,"div",74)(1,"div",75),e.nrm(2,"span",76),e.j41(3,"span",77)(4,"b"),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.EFF(7),e.k0s()()()),2&s){const n=e.XpG(),a=n.text;e.Y8G("@fadeInOut",n.check),e.R7$(5),e.SpI("",e.bMT(6,3,"Common.Loading"),":"),e.R7$(2),e.SpI(" ",a," ")}}function o_(s,p){1&s&&e.DNE(0,s_,8,5,"div",73),2&s&&e.Y8G("ngIf",p.check)}function CD(s,p){if(1&s){const n=e.RV6();e.j41(0,"footer",78)(1,"button",79),e.bIt("click",function(){e.eBV(n);const l=e.XpG();return e.Njj(l.jumpToTop())}),e.nrm(2,"span",80),e.j41(3,"span",48),e.EFF(4),e.nI1(5,"translate"),e.k0s()(),e.j41(6,"div",81)(7,"div",82)(8,"p",83)(9,"span",84),e.EFF(10),e.k0s(),e.EFF(11),e.j41(12,"a",85),e.EFF(13),e.nI1(14,"translate"),e.k0s()(),e.j41(15,"ul",86)(16,"li",87)(17,"a",88),e.EFF(18),e.nI1(19,"translate"),e.k0s(),e.j41(20,"span",89),e.EFF(21,"\u2022"),e.k0s()(),e.j41(22,"li",22)(23,"a",90),e.EFF(24),e.nI1(25,"translate"),e.k0s()()()()()()}if(2&s){const n=e.XpG();e.R7$(4),e.JRh(e.bMT(5,6,"Nav.ToTop")),e.R7$(6),e.SpI("AdminUI ",n.versionNumber,""),e.R7$(),e.SpI(" \xa9 ",n.appCopyright," "),e.R7$(2),e.SpI(" ",e.bMT(14,8,"Common.CompanyName")," "),e.R7$(5),e.SpI(" ",e.bMT(19,10,"Common.Documentation")," "),e.R7$(6),e.SpI(" ",e.bMT(25,12,"Nav.Support")," ")}}let a_=(()=>{class s{constructor(n,a,l,D,ee,De,Ze,gt,Vt,ln,Cn,In,Fn){this.securityService=n,this.translate=a,this.localizeRouter=l,this.toastr=D,this.router=ee,this.healthCheckService=De,this.authService=Ze,this.userService=gt,this.modalService=Vt,this.browserSameSiteService=ln,this.appComponentViewService=Cn,this.licenseService=In,this.configService=Fn,this.user={name:"test"},this.openMenu=!1,this.desktop=!1,this.versionNumber="",this.skipLinkPath="",this.licenseType="",this.organisation="",this.noSameSiteSupport=!1,this.nonProduction=!1,this.defaultUserExists=!1,this.licenseIsInGracePeriod=!1,this.licenseIsInStarterMode=!1,this.expectingStarterModeConsent=!1,this.enableAuditing=!1,this.defaultUserRemovalModalId="defaultUserRemovalModal",this.resolveModalActions=[$u.N.Save],this.subscriptions=[],Ia.wB.defaultLocale="utc",Ia.wB.defaultZone="utc";const On=this.localizeRouter.parser.currentLang;document.getElementsByTagName("html")[0].setAttribute("lang",On),this.appCopyright="2017 - "+(new Date).getFullYear()}ngOnInit(){if(this.detectSize(),this.setupLongLivedSubscriptions(),this.setupHealthCheck(),!this.browserSameSiteService.validBrowser()&&!localStorage.getItem("closedSameSiteBanner")){const a={link:Bt.$9.sameSiteDocs};this.noSameSiteSupport=!0,this.toastr.error(this.translate.instant("Common.SameSiteCookiesError",a),this.translate.instant("Notifications.Error"),{timeOut:0,extendedTimeOut:0,enableHtml:!0})}this.configService.getConfig().pipe((0,$n.$)()).subscribe({next:a=>{this.enableAuditing=a.enableAuditing}})}ngOnDestroy(){this.userDataSubscription&&this.userDataSubscription.unsubscribe(),this.licenseInfoSubscription&&this.licenseInfoSubscription.unsubscribe(),this.subscriptions.forEach(n=>n.unsubscribe())}setupLongLivedSubscriptions(){this.subscriptions.push(this.router.events.pipe((0,No.p)(n=>n instanceof bt.wF)).subscribe(()=>{this.router.url.endsWith("#main-content")||(this.skipLinkPath=`${this.router.url}#main-content`)}),this.healthCheckService.uiHealthCheckComplete.subscribe(()=>{this.versionNumber=Pr}),this.router.events.subscribe({next:n=>{this.desktop||(this.openMenu=!1)}}),this.appComponentViewService.viewConfig$.subscribe({next:n=>{this.appComponentViewConfig=n}}))}setupHealthCheck(){this.healthCheckService.checkHealthUi().pipe((0,xl.s)(1)).subscribe({next:n=>this.uiHealthCheckSuccess(n),error:n=>this.uiHealthCheckFailed(n)}),this.healthCheckService.checkHealthIdentityServer().pipe((0,xl.s)(1)).subscribe({next:n=>this.idsHealthCheckSuccess(),error:n=>this.idsHealthCheckFailed(n)})}uiHealthCheckSuccess(n){this.healthCheckService.uiReady=!0,this.healthCheckService.uiHealthCheckComplete.next(!0),"string"==typeof n&&!(0,Ai.gP)(n)&&this.toastr.warning(n,this.translate.instant("Common.Warning"),{timeOut:3e3,extendedTimeOut:0,enableHtml:!0}),this.userDataSubscription?.unsubscribe(),this.userDataSubscription=(0,Di.p)({authentication:this.authService.isAuthenticatedCheck(),permissions:this.securityService.userPermissions$}).subscribe(a=>{a.authentication.isAuthenticated&&a.authentication.username!=VE.M.DefaultAdministratorUsername&&a.permissions.includes(Jt.a[Jt.a.All])&&this.userService.defaultUserExists().subscribe(l=>{this.defaultUserExists=l})}),this.licenseInfoSubscription?.unsubscribe(),this.licenseInfoSubscription=this.licenseService.getLicenseInfo().subscribe(a=>{if(this.licenseIsInStarterMode=a.isStarterLicense(),this.expectingStarterModeConsent=a.isExpectingStarterConsent(),this.licenseIsInStarterMode&&(this.licenseIsInStarterModeMessage=this.translate.instant("StarterMode.Warning")),this.licenseIsInGracePeriod=a.isInGracePeriod,this.licenseIsInGracePeriod){const l=(0,Ai.KU)(a.gracePeriodExpiry,"ccc LLL dd yyyy, T");let D=this.translate.instant("Common.LicenseIsInGracePeriod");D=D.replace("{0}",l),this.licenseIsInGracePeriodMessage=D}})}uiHealthCheckFailed(n){this.healthCheckService.uiHealthCheckComplete.next(!0);const a=this.getHealthCheckError(n);this.toastr.error(this.translate.instant("LandingPage.UIError",{error:a?` (${a})`:""}),this.translate.instant("Notifications.Error"),{timeOut:0,extendedTimeOut:0,enableHtml:!0})}idsHealthCheckSuccess(){this.healthCheckService.idsReady=!0,this.healthCheckService.idsHealthCheckComplete.next(!0)}idsHealthCheckFailed(n){this.healthCheckService.idsHealthCheckComplete.next(!0);const a=this.getHealthCheckError(n);this.toastr.error(this.translate.instant("LandingPage.IdentityServerError",{link:Bt.$9.checkHealthIdentityServerDocs,error:a?` (${a})`:""}),this.translate.instant("Notifications.Error"),{timeOut:0,extendedTimeOut:0,enableHtml:!0})}closeSameSiteBrowserNotification(){this.noSameSiteSupport=!1,localStorage.setItem("closedSameSiteBanner","1")}defaultUserDeleteConfirmation(){this.modalService.showById(this.defaultUserRemovalModalId,this.defaultUserResolveButton)}cancelDefaultUserDelete(){this.modalService.hideById(this.defaultUserRemovalModalId)}removeDefaultUser(){this.userService.deleteDefaultUser().subscribe({next:n=>{this.defaultUserExists=!1,this.toastr.success(this.translate.instant("LandingPage.DefaultUserRemoved"),this.translate.instant("Notifications.Success"),{timeOut:0,extendedTimeOut:0,enableHtml:!0}),this.modalService.hideById(this.defaultUserRemovalModalId)},error:n=>{this.toastr.error(this.translate.instant("Notifications.CheckLogs"),this.translate.instant("Notifications.SomethingWrong"),{timeOut:0,extendedTimeOut:0,enableHtml:!0})}})}isActive(n,a=!1){return this.router.isActive(n,a)}isActiveResourceRoute(){return this.router.url.includes("/identityresources")||this.router.url.includes("/protectedresources")}detectSize(){const n=window.matchMedia("(min-width: 1024px)");n.matches&&!this.desktop?(this.desktop=!0,this.openMenu=!0):!n.matches&&this.desktop&&(this.desktop=!1,this.openMenu=!1)}logoff(){this.authService.logoff()}menuToggle(){this.openMenu=!this.openMenu}jumpToTop(){window.scrollTo(0,0)}getHealthCheckError(n){if(!n)return"";const a=n.error;if(a){if("string"==typeof a)return a;if(a.errors&&a.errors.length>0)return a.errors[0]}return n.message?n.message:n.statusText?n.statusText:`${this.translate.instant("Notifications.SomethingWrong")}. ${this.translate.instant("Notifications.CheckLogs")}`}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(Vr.i),e.rXU(_n.c$),e.rXU(Wn.QG),e.rXU(Jn.tw),e.rXU(bt.Ix),e.rXU(ki.M),e.rXU(Xo.u),e.rXU(bs.D),e.rXU(Mf.B),e.rXU(ig),e.rXU(hs.X),e.rXU(ma.X),e.rXU(Gs.w))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-shared-base"]],viewQuery:function(a,l){if(1&a&&(e.GBs(WE,5),e.GBs(Mg,5)),2&a){let D;e.mGM(D=e.lsd())&&(l.sameSiteBrowserNotification=D.first),e.mGM(D=e.lsd())&&(l.defaultUserResolveButton=D.first)}},ngContentSelectors:Jy,decls:20,vars:18,consts:[["commonNavItem",""],["commonSubNavItem",""],["commonLoader",""],["sameSiteBrowserNotification",""],["defaultUserResolveButton",""],["id","skipLink",1,"sr-only","sr-only-focusable","tw-block","tw-bg-grey-200","tw-px-4","tw-py-3","tw-font-semibold","tw-left-0","tw-top-0","tw-z-50","focus:tw-m-1","focus:tw-text-blue-500","focus:tw-fixed",3,"href"],["id","loggedInTopBarAlerts",4,"ngIf"],["id","metaMenu","class","tw-bg-primary-500 tw-border-b tw-border-primary-400 tw-text-white tw-text-xs tw-px-4",4,"ngIf"],["id","mainNavBar","class","tw-bg-primary-500 tw-text-primary-100 tw-relative tw-z-30","role","banner",3,"resize",4,"ngIf"],["id","main-content","role","main","tabindex","-1",1,"tw-bg-grey-100","tw-px-4","tw-pt-5","tw-pb-5","focus:tw-shadow-none","xs:tw-pb-20"],[3,"onSave","onCancel","actions","title","modalId","saveText"],["class","tw-container tw-pb-10 tw-mx-auto",4,"ngIf"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["id","footer","class","tw-bg-grey-200 tw-border-t tw-border-grey-300 tw-text-grey-600 tw-text-xs tw-h-12 tw-fixed tw-bottom-0 tw-inset-x-0 tw-z-30",4,"ngIf"],["id","loggedInTopBarAlerts"],["class","tw-bg-red-500 tw-text-white tw-text-xs tw-px-4","role","alert",4,"ngIf"],["class","tw-bg-red-500 tw-text-white tw-text-xs tw-px-4 tw-py-2","role","alert",4,"ngIf"],["id","licenseStarterModeNotification","class","tw-bg-orange-500 tw-text-primary-900 tw-text-xs tw-px-4 tw-py-2","role","alert",4,"ngIf"],["id","licenseExpiredNotification","class","tw-bg-red-500 tw-text-white tw-text-xs tw-px-4 tw-py-2","role","alert",4,"ngIf"],["role","alert",1,"tw-bg-red-500","tw-text-white","tw-text-xs","tw-px-4"],[1,"tw-container","tw-mx-auto","tw-text-left"],[1,"tw-flex","tw-items-center"],[1,"tw-w-full","tw-left-0"],[1,"tw-flex","tw-items-center","tw-text-body","tw-text-md","tw-py-2","tw-text-white"],[1,"tw-block","tw-w-full"],[1,"tw-block","tw-underline","hover:tw-no-underline","tw-ml-2","tw-shrink-0",3,"click"],["role","alert",1,"tw-bg-red-500","tw-text-white","tw-text-xs","tw-px-4","tw-py-2"],[1,"tw-text-black","tw-bg-white","tw-btn","tw-block","tw-ml-2","tw-shrink-0",3,"click"],["id","licenseStarterModeNotification","role","alert",1,"tw-bg-orange-500","tw-text-primary-900","tw-text-xs","tw-px-4","tw-py-2"],[1,"tw-flex","tw-items-center","tw-text-body","tw-text-md","tw-py-2","tw-text-primary-900"],["id","licenseExpiredNotification","role","alert",1,"tw-bg-red-500","tw-text-white","tw-text-xs","tw-px-4","tw-py-2"],["id","metaMenu",1,"tw-bg-primary-500","tw-border-b","tw-border-primary-400","tw-text-white","tw-text-xs","tw-px-4"],[1,"tw-flex","tw-items-center","tw-h-8"],[3,"ngClass",4,"ngIf"],[1,"tw-hidden","tw-items-center","tw-ml-auto","sm:tw-flex"],["aria-hidden","true",1,"fad","fa-user-lock","tw-mr-2",2,"--fa-secondary-color","#4DAC4D","--fa-secondary-opacity","1.0"],[1,"tw-font-semibold"],["aria-hidden","true",1,"tw-mx-3","tw-opacity-50","tw-text-base"],["tabindex","0",1,"tw-self-stretch","tw-flex","tw-items-center","tw-ml-auto","tw-text-white","tw-font-normal","tw-cursor-pointer","hover:tw-underline","sm:tw-ml-0","trans",3,"click"],[3,"ngClass"],["id","mainNavBar","role","banner",1,"tw-bg-primary-500","tw-text-primary-100","tw-relative","tw-z-30",3,"resize"],[1,"tw-container","tw-text-left","tw-mx-auto"],[1,"lg:tw-flex"],["id","navMenuTitle",1,"sr-only"],[1,"tw-flex","tw-justify-between","tw-h-header","tw-ml-4","xl:tw-mr-4","max:tw-ml-0"],[1,"tw-flex","tw-items-center","tw-justify-center","tw-shrink-0",3,"routerLink"],["src","/assets/img/logo-persimmon.png","alt","","aria-hidden","true",1,"tw-w-8"],[1,"sr-only"],["id","mainMenu","aria-controls","mainMenu",1,"tw-shrink-0","tw-text-xl","tw-w-header","lg:tw-hidden",3,"click"],["class","fas fa-bars fa-fw","aria-hidden","true",4,"ngIf"],["class","fas fa-times fa-fw","aria-hidden","true",4,"ngIf"],["id","mainNavLinks","class","tw-bg-primary-700 tw-relative lg:tw-flex lg:tw-bg-transparent","role","navigation","aria-labelledby","navMenuTitle",4,"ngIf"],["aria-hidden","true",1,"fas","fa-bars","fa-fw"],["aria-hidden","true",1,"fas","fa-times","fa-fw"],["id","mainNavLinks","role","navigation","aria-labelledby","navMenuTitle",1,"tw-bg-primary-700","tw-relative","lg:tw-flex","lg:tw-bg-transparent"],["class","tw-block tw-bg-primary-700 tw-opacity-75 lg:tw-bg-primary-500 tw-absolute tw-inset-0 tw-z-20",4,"ngIf"],[3,"id","title","classes","activeClass","route","display"],[3,"id","title","classes","activeClass","route","display","showUpgrade",4,"ngIf"],[1,"lg:tw-hidden"],[1,"tw-flex","tw-items-center","tw-text-primary-200","tw-font-semibold","tw-h-header","tw-px-4","tw-w-full","tw-truncate","hover:tw-bg-primary-600","hover:tw-text-white","focus:tw-bg-primary-600","focus:tw-text-white","lg:tw-px-6","xl:tw-px-8",3,"click"],[1,"tw-block","tw-bg-primary-700","tw-opacity-75","lg:tw-bg-primary-500","tw-absolute","tw-inset-0","tw-z-20"],[3,"id","title","classes","activeClass","route","display","showUpgrade"],[3,"class","id",4,"ngIf"],[3,"id"],[1,"tw-nav","tw-flex","tw-items-center","tw-text-primary-200","tw-relative","tw-truncate","hover:tw-text-white","focus:tw-text-white",3,"ngClass","routerLinkActive","routerLink"],["class","upgradeSymbol tw-text-secondary-500 tw-text-sm tw-pl-1 tw-font-normal tw-py-3 lg:tw-px-1",4,"ngIf"],[1,"upgradeSymbol","tw-text-secondary-500","tw-text-sm","tw-pl-1","tw-font-normal","tw-py-3","lg:tw-px-1"],["aria-hidden","true",1,"far","fa-arrow-alt-circle-up"],["ngbDropdownItem","",1,"tw-nav","tw-flex","tw-items-center","tw-text-primary-200","tw-relative","tw-truncate","hover:tw-text-white","focus:tw-text-white",3,"ngClass","routerLinkActive","routerLink"],[1,"tw-container","tw-pb-10","tw-mx-auto"],["role","alert",1,"tw-alert-danger"],[1,"tw-text-sm","tw-font-semibold"],["class","tw-fixed tw-w-full tw-bottom-0 tw-left-0 tw-z-40",4,"ngIf"],[1,"tw-fixed","tw-w-full","tw-bottom-0","tw-left-0","tw-z-40"],[1,"tw-flex","tw-items-center","tw-bg-orange-500","tw-shadow-toast","tw-text-body","tw-text-sm","tw-px-4","tw-py-3"],[1,"fad","fa-spinner-third","fa-spin","tw-mr-2"],[1,"tw-block"],["id","footer",1,"tw-bg-grey-200","tw-border-t","tw-border-grey-300","tw-text-grey-600","tw-text-xs","tw-h-12","tw-fixed","tw-bottom-0","tw-inset-x-0","tw-z-30"],["id","jumpToTop",1,"tw-hidden","tw-items-center","tw-justify-center","tw-bg-grey-400","tw-m-2","tw-w-8","tw-h-8","tw-text-grey-800","tw-rounded","tw-cursor-pointer","tw-fixed","tw-right-0","tw-bottom-0","trans-bg","hover:tw-bg-grey-500","max:tw-flex",3,"click"],["aria-hidden","true",1,"fas","fa-chevron-up"],[1,"tw-flex","tw-items-center","tw-h-12","tw-px-4"],[1,"tw-flex","tw-items-center","tw-justify-center","tw-container","tw-w-full","tw-mx-auto","md:tw-justify-between"],[1,"tw-text-center","md:tw-text-left"],[1,"tw-mr-2","md:tw-mr-3"],["id","RSKBackLink","href","https://www.rocksolidknowledge.com/","target","_blank",1,"tw-text-grey-600","tw-font-normal","hover:tw-text-grey-700","tw-transition-all","tw-ease-in-out"],[1,"tw-hidden","tw-items-center","md:tw-flex"],[1,"tw-flex","tw-items-center","tw-mr-2"],["href","documentation/index.html","target","_blank",1,"tw-text-grey-600","tw-font-normal","hover:tw-text-grey-700","tw-transition-all","tw-ease-in-out"],["aria-hidden","true",1,"tw-ml-2","tw-opacity-50","tw-text-sm"],["href","mailto:support@rocksolidknowledge.zendesk.com","target","_blank",1,"tw-text-grey-600","tw-font-normal","hover:tw-text-grey-700","tw-transition-all","tw-ease-in-out"]],template:function(a,l){if(1&a){const D=e.RV6();e.NAR(KE),e.j41(0,"a",5),e.EFF(1),e.nI1(2,"translate"),e.k0s(),e.DNE(3,JE,5,4,"div",6)(4,ZE,14,8,"nav",7)(5,t_,20,20,"header",8)(6,i_,1,1,"ng-template",null,0,e.C5r)(8,Ng,1,1,"ng-template",null,1,e.C5r),e.j41(10,"main",9)(11,"app-custom-modal",10),e.bIt("onSave",function(){return e.eBV(D),e.Njj(l.removeDefaultUser())})("onCancel",function(){return e.eBV(D),e.Njj(l.cancelDefaultUserDelete())}),e.j41(12,"p"),e.EFF(13," To secure your AdminUI, the 'info@rocksolidknowledge' Administrator needs to be removed from your database "),e.k0s()(),e.DNE(14,r_,9,6,"div",11)(15,oT,1,0,"router-outlet",12),e.k0s(),e.DNE(16,Og,1,0,"ng-container",13)(17,o_,1,1,"ng-template",null,2,e.C5r)(19,CD,26,14,"footer",14)}if(2&a){const D=e.sdS(18);e.Y8G("href",l.skipLinkPath,e.B4B),e.R7$(),e.SpI(" ",e.bMT(2,14,"Nav.SkipToContent"),"\n"),e.R7$(2),e.Y8G("ngIf",l.appComponentViewConfig.showNav),e.R7$(),e.Y8G("ngIf",l.appComponentViewConfig.showBanner),e.R7$(),e.Y8G("ngIf",l.appComponentViewConfig.showNav),e.R7$(6),e.Y8G("actions",l.resolveModalActions)("title","Remove Default Administrator")("modalId",l.defaultUserRemovalModalId)("saveText","Remove User"),e.R7$(3),e.Y8G("ngIf",l.securityService.noPermissions),e.R7$(),e.Y8G("ngIf",!l.securityService.noPermissions),e.R7$(),e.Y8G("ngTemplateOutlet",D)("ngTemplateOutletContext",e.eq3(16,Qy,!l.healthCheckService.idsReady)),e.R7$(3),e.Y8G("ngIf",l.appComponentViewConfig.showFooter)}},dependencies:[pn.YU,pn.bT,pn.T3,Su,vf,hg.G,bt.n3,bt.Wk,bt.wQ,Rg,_n.D9,Wn.tl],encapsulation:2,data:{animation:[(0,bc.l1)(),(0,bc.Ws)()]}})}}return s})();const aT=["resourcesMenu"];function l_(s,p){if(1&s&&(e.j41(0,"li",3)(1,"button",4)(2,"span",5),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.nrm(5,"span",6),e.k0s(),e.j41(6,"div",7),e.nI1(7,"translate"),e.j41(8,"ul",8),e.nrm(9,"app-nav-item",9),e.nI1(10,"translate"),e.nrm(11,"app-nav-item",9),e.nI1(12,"translate"),e.k0s()()()),2&s){const n=e.XpG();e.Y8G("autoClose",!0),e.R7$(),e.AVh("tw-nav-active",n.isApplicationRoute()),e.R7$(2),e.JRh(e.bMT(4,19,"Nav.Applications")),e.R7$(3),e.BMQ("aria-label",e.bMT(7,21,"Nav.Resources")),e.R7$(3),e.Y8G("id","app-nav-item-clients")("title",e.bMT(10,23,"Nav.Clients"))("classes","")("activeClass","tw-subnav-active")("sub",!0)("route","/applications/clients")("display",!0),e.R7$(2),e.Y8G("id","app-nav-item-apis")("title",e.bMT(12,25,"Nav.Apis"))("classes","")("activeClass","tw-subnav-active")("sub",!0)("route","/applications/apis")("display",!0)}}let c_=(()=>{class s{constructor(n,a,l){this.securityService=n,this.licenseService=a,this.router=l,this.subscriptions=[],this.licenseIsInStarterMode=!1}ngOnInit(){this.setupLongLivedSubscriptions()}ngOnDestroy(){this.subscriptions.forEach(n=>n.unsubscribe())}setupLongLivedSubscriptions(){this.subscriptions.push(this.licenseService.getLicenseInfo().subscribe(n=>{this.licenseIsInStarterMode=n.isStarterLicense()}))}isApplicationRoute(){return this.router.url.includes("/applications")}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(Vr.i),e.rXU(ma.X),e.rXU(bt.Ix))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-root"]],viewQuery:function(a,l){if(1&a&&e.GBs(aT,5),2&a){let D;e.mGM(D=e.lsd())&&(l.resourcesMenu=D.first)}},decls:5,vars:9,consts:[["navigation",""],["id","application-navs","class","","ngbDropdown","",3,"autoClose",4,"ngIf"],[3,"id","title","classes","activeClass","route","display"],["id","application-navs","ngbDropdown","",1,"",3,"autoClose"],["tabindex","0","ngbDropdownToggle","","id","menuApplicationsToggle","type","button",1,"tw-flex","tw-items-center","tw-text-primary-200","tw-font-semibold","tw-h-header","tw-w-full","tw-px-4","tw-relative","tw-truncate","hover:tw-text-white","focus:tw-text-white","lg:tw-px-6","xl:tw-px-8","tw-transition-all","tw-ease-in-out"],[1,"tw-block","tw-truncate"],["aria-hidden","true",1,"fas","fa-caret-down","tw-text-xs","tw-ml-2","tw-opacity-50"],["ngbDropdownMenu","","aria-labelledby","menuResourcesToggle",1,"tw-bg-primary-800","lg:tw-bg-primary-500","-mt-4"],["role","menu",1,"lg:tw-pt-2","lg:tw-pb-3"],[3,"id","title","classes","activeClass","sub","route","display"]],template:function(a,l){1&a&&(e.j41(0,"app-shared-base"),e.qex(1,0),e.DNE(2,l_,13,27,"li",1),e.nrm(3,"app-nav-item",2),e.nI1(4,"translate"),e.bVm(),e.k0s()),2&a&&(e.R7$(2),e.Y8G("ngIf",l.securityService.identityServerManagerView||l.securityService.identityServerManagerReadOnlyView),e.R7$(),e.Y8G("id","app-nav-item-scopes")("title",e.bMT(4,7,"Nav.Scopes"))("classes","")("activeClass","tw-nav-active")("route","/scopes")("display",!0))},dependencies:[a_,pn.bT,Bm,bv,yf,Rg,_n.D9],encapsulation:2,data:{animation:[(0,bc.l1)(),(0,bc.Ws)()]}})}}return s})(),lh=(()=>{class s{constructor(n,a,l){this.scopeService=n,this.changeCachingService=a,this.errorService=l}resolve(n,a){return this.scopeService.getScope(n.params.Id).pipe((0,Ci.T)(D=>(D&&this.changeCachingService.unsavedCache.next(D),D)),(0,na.W)((D,ee)=>(404===D.status?this.errorService.resourceNotFound(wo.v.scope):this.errorService.handleError(D),(0,Il.I)())))}static{this.\u0275fac=function(a){return new(a||s)(e.KVO(Wc),e.KVO(Ji.t),e.KVO(ne.I))}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac})}}return s})();const Wf=(s,p)=>({title:s,link:p}),Fg=s=>[s];let u_=(()=>{class s{constructor(n,a,l,D,ee,De,Ze,gt,Vt,ln){this.r=n,this.route=a,this.localize=l,this.titleService=D,this.translate=ee,this.toastr=De,this.errorService=Ze,this.scopeService=gt,this.scopeCachService=Vt,this.dialogService=ln,this.isFirstCall=!0}ngOnInit(){this.scopeSubscription=this.scopeCachService.unsavedCache$.subscribe({next:n=>{this.scope=n;const a=this.translate.instant("Scopes.Title.Generic")+" "+this.scope.displayName+" - "+Bt.$9.SITE_TITLE;this.titleService.setTitle(a),this.checkSubmitEnabled()},error:n=>{this.errorService.handleError(n)}})}ngOnDestroy(){this.scopeSubscription.unsubscribe()}canDeactivate(){return!(this.scopeCachService.componentDirtyValidMap.size>0)||(this.dialogService.confirm(),this.dialogService.eventStream.subscribe(n=>{n&&this.scopeCachService.componentDirtyValidMap.size>0&&this.scopeCachService.componentDirtyValidMap.clear()}),this.dialogService.eventStream)}checkSubmitEnabled(){const n=[...Array.from(this.scopeCachService.componentDirtyValidMap.values())];this.saveDisabled=0===n.length||n.some(a=>!a)}mobRoute(n){this.r.navigate([n],{relativeTo:this.route})}saveScope(){this.saveDisabled||this.scopeService.updateScope(this.scope).subscribe({next:n=>{this.isFirstCall=!0,this.scopeCachService.unsavedCache.next(n),this.scopeCachService.onSave(),this.toastr.success(this.translate.instant("Scopes.Success.Updated"),this.translate.instant("Notifications.SuccessfullySaved")),this.checkSubmitEnabled()},error:n=>{this.errorService.handleError(n)}})}deleteScope(n){this.scopeService.deleteScope(n).subscribe({next:a=>{const l=this.localize.translateRoute("/scopes");this.r.navigate([l]),this.toastr.success(`${n} ${this.translate.instant("Common.Delete.Deleted")}`,this.translate.instant("Notifications.SuccessfullyDeleted"))},error:a=>{this.errorService.handleError(a)}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(bt.Ix),e.rXU(bt.nX),e.rXU(Wn.QG),e.rXU(i.hE),e.rXU(_n.c$),e.rXU(Jn.tw),e.rXU(ne.I),e.rXU(Wc),e.rXU(Ji.t),e.rXU(Mo.o))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["ng-component"]],decls:23,vars:28,consts:[["deleteDynamicAuthModal",""],[3,"title","crumbs","hasTabs"],["tabs",""],[3,"tabTitle","tabValue"],["id","editScope",1,"tw-container","tw-mx-auto"],["id","submitBtn",1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"click","disabled"],["right",""],["id","deleteBtn","type","button","data-toggle","modal",1,"tw-btn-danger","tw-mb-3",3,"click"],[3,"delete","resourceName"]],template:function(a,l){if(1&a){const D=e.RV6();e.j41(0,"app-title-bar",1),e.nI1(1,"translate"),e.nI1(2,"localize"),e.qex(3,2),e.j41(4,"app-custom-tabs"),e.nrm(5,"app-custom-tab",3)(6,"app-custom-tab",3)(7,"app-custom-tab",3)(8,"app-custom-tab",3),e.k0s(),e.bVm(),e.k0s(),e.j41(9,"div",4),e.nrm(10,"router-outlet"),e.k0s(),e.j41(11,"app-button-bar")(12,"button",5),e.bIt("click",function(){return e.eBV(D),e.Njj(l.saveScope())}),e.j41(13,"span"),e.EFF(14),e.nI1(15,"translate"),e.k0s()(),e.qex(16,6),e.j41(17,"button",7),e.bIt("click",function(){e.eBV(D);const De=e.sdS(21);return e.Njj(De.show())}),e.EFF(18),e.nI1(19,"translate"),e.k0s(),e.bVm(),e.k0s(),e.j41(20,"app-delete-confirmation-modal",8,0),e.bIt("delete",function(){return e.eBV(D),e.Njj(l.deleteScope(l.scope.name))}),e.nrm(22,"app-can-deactivate"),e.k0s()}2&a&&(e.Y8G("title",l.scope.displayName)("crumbs",e.eq3(26,Fg,e.l_i(23,Wf,e.bMT(1,15,"Nav.Scopes"),e.bMT(2,17,"/scopes"))))("hasTabs",!0),e.R7$(5),e.Y8G("tabTitle","Nav.Details")("tabValue","details"),e.R7$(),e.Y8G("tabTitle","Nav.Resources")("tabValue","resources"),e.R7$(),e.Y8G("tabTitle","Nav.Claims")("tabValue","claims"),e.R7$(),e.Y8G("tabTitle","Nav.Properties")("tabValue","properties"),e.R7$(4),e.Y8G("disabled",l.saveDisabled),e.R7$(2),e.JRh(e.bMT(15,19,"Common.SaveAll")),e.R7$(4),e.JRh(e.bMT(19,21,"Common.Delete.Title")),e.R7$(2),e.Y8G("resourceName",l.scope.displayName))},dependencies:[bt.n3,Uo.w,Zt.z,vo.z,ha.E,rn.G,bn.v,_n.D9,Wn.tl],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();const d_=s=>[s],h_=s=>({"tw-p-6 tw-border-2 tw-border-grey-300 tw-flex tw-items-center max-md:tw-flex-col":s});function f_(s,p){if(1&s&&(e.j41(0,"option",14),e.EFF(1),e.k0s()),2&s){const n=p.$implicit;e.Y8G("value",n.name),e.R7$(),e.JRh(n.displayName)}}function p_(s,p){if(1&s&&(e.j41(0,"select",11)(1,"option",12),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.DNE(4,f_,2,2,"option",13),e.k0s()),2&s){const n=e.XpG(2);e.R7$(2),e.JRh(e.bMT(3,2,"Scopes.DefaultLanguage")),e.R7$(2),e.Y8G("ngForOf",n.languages)}}function m_(s,p){if(1&s&&(e.j41(0,"form",2)(1,"app-form-row",3),e.nrm(2,"app-readonly",4),e.nI1(3,"readOnlyValue"),e.k0s(),e.j41(4,"div",5)(5,"div",6)(6,"app-form-row",3),e.nrm(7,"input",7),e.k0s(),e.j41(8,"app-form-row",8),e.nrm(9,"textarea",9),e.k0s()(),e.DNE(10,p_,5,4,"select",10),e.k0s()()),2&s){const n=e.XpG();e.Y8G("formGroup",n.formGroup),e.R7$(),e.Y8G("id","Name")("label","Scopes.Name.Label")("help","Scopes.Name.Help"),e.R7$(),e.Y8G("fieldType",n.ReadOnlyFieldType.Single)("values",e.eq3(17,d_,e.bMT(3,15,n.scope.name))),e.R7$(2),e.Y8G("ngClass",e.eq3(19,h_,n.languages.length>0)),e.R7$(2),e.Y8G("id","DisplayName")("label","Scopes.DisplayName.Label")("help","Scopes.DisplayName.Help"),e.R7$(2),e.Y8G("id","Description")("label","Scopes.Description.Label")("help","Scopes.Description.Help")("isLast",!0),e.R7$(2),e.Y8G("ngIf",n.languages.length>0)}}let g_=(()=>{class s{get ReadOnlyFieldType(){return Hi.t}constructor(n,a,l,D){this.fb=n,this.errorService=a,this.scopeCacheService=l,this.configService=D,this.languages=[],this.currentLanguage=""}ngOnInit(){this.configService.getConfig().subscribe({next:n=>{this.languages=n.supportedLanguages??[]},error:n=>{this.errorService.handleError(n)}}),this.scopeCacheService.unsavedCache$.pipe((0,$n.$)()).subscribe({next:n=>{this.scope=n,this.buildDetailsForm(),this.subscribeToValueChanges()},error:n=>{this.errorService.handleError(n)}})}ngOnDestroy(){this.formSubscription.unsubscribe()}buildDetailsForm(){this.formGroup=this.fb.group({name:[this.scope.name,[g.k0.required]],displayName:[this.scope.displayName,[g.k0.required]],description:[this.scope.description,[]],language:["",[]]})}subscribeToValueChanges(){this.formSubscription=this.formGroup.valueChanges.subscribe({next:n=>{if(this.currentLanguage!=n.language)return this.currentLanguage=n.language,void(""===this.currentLanguage?(this.formGroup.get("displayName").setValue(this.scope.displayName,{emitEvent:!1}),this.formGroup.get("description").setValue(this.scope.description,{emitEvent:!1})):(this.formGroup.get("displayName").setValue(this.scope.displayNames[this.currentLanguage],{emitEvent:!1}),this.formGroup.get("description").setValue(this.scope.descriptions[this.currentLanguage],{emitEvent:!1})));let a={...this.scope};a.name=this.formGroup.get("name").value,""===this.currentLanguage?(a.displayName=this.formGroup.get("displayName").value,a.description=this.formGroup.get("description").value):(a.displayNames[this.currentLanguage]=this.formGroup.get("displayName").value,a.descriptions[this.currentLanguage]=this.formGroup.get("description").value),this.scopeCacheService.componentDirtyValidMap.set("EditScopeDetailsComponent",this.formGroup.valid),this.scopeCacheService.unsavedCache.next(a)}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(g.ze),e.rXU(ne.I),e.rXU(Ji.t),e.rXU(Gs.w))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-edit-scope-details"]],decls:2,vars:1,consts:[["id","editScopeDetails",1,"tw-container","tw-mx-auto"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label","help"],[3,"fieldType","values"],[1,"",3,"ngClass"],[1,"tw-grow"],["type","text","name","DisplayName","id","DisplayName","formControlName","displayName","required","",1,"tw-form-control"],[3,"id","label","help","isLast"],["type","text","name","Description","id","Description","formControlName","description",1,"tw-form-control"],["id","languageSelector","class","tw-form-select tw-w-40 tw-ml-8 tw-pl-2 max-md:tw-mt-8","formControlName","language",4,"ngIf"],["id","languageSelector","formControlName","language",1,"tw-form-select","tw-w-40","tw-ml-8","tw-pl-2","max-md:tw-mt-8"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(a,l){1&a&&(e.j41(0,"div",0),e.DNE(1,m_,11,21,"form",1),e.k0s()),2&a&&(e.R7$(),e.Y8G("ngIf",l.scope))},dependencies:[pn.YU,pn.Sq,pn.bT,g.qT,g.xH,g.y7,g.me,g.wz,g.BC,g.cb,g.YS,g.j4,g.JD,qr.O,fe.Y,Ri.u,_n.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();function v_(s,p){if(1&s&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"slice"),e.k0s()),2&s){const n=p.item;e.R7$(),e.JRh(n.length>20?e.brH(2,1,n,0,20)+"...":n)}}function y_(s,p){1&s&&(e.j41(0,"div",11)(1,"div"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&s&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"Scopes.NoResourcesMessage")," "))}function __(s,p){if(1&s){const n=e.RV6();e.j41(0,"tr")(1,"td",18)(2,"span"),e.EFF(3),e.k0s()(),e.j41(4,"td")(5,"button",19),e.bIt("click",function(){const l=e.eBV(n).$implicit,D=e.XpG(3);return e.Njj(D.removeResource(l))}),e.nrm(6,"span",20),e.j41(7,"span",15),e.EFF(8),e.nI1(9,"translate"),e.k0s()()()()}if(2&s){const n=p.$implicit;e.R7$(3),e.JRh(n),e.R7$(5),e.JRh(e.bMT(9,2,"Common.Delete.Title"))}}function b_(s,p){if(1&s&&(e.j41(0,"table",12)(1,"thead",13)(2,"th",14)(3,"span",15),e.EFF(4),e.nI1(5,"translate"),e.k0s()(),e.j41(6,"th",16)(7,"span",15),e.EFF(8),e.nI1(9,"translate"),e.k0s()()(),e.j41(10,"tbody"),e.DNE(11,__,10,4,"tr",17),e.k0s()()),2&s){const n=e.XpG(2);e.R7$(4),e.JRh(e.bMT(5,3,"Common.Resource")),e.R7$(4),e.JRh(e.bMT(9,5,"Common.Actions")),e.R7$(3),e.Y8G("ngForOf",n.currentResources())}}function lT(s,p){if(1&s){const n=e.RV6();e.j41(0,"form",3)(1,"app-form-row",4)(2,"app-row-bar",5),e.nrm(3,"input",6),e.nI1(4,"translate"),e.j41(5,"button",7),e.bIt("click",function(){e.eBV(n);const l=e.XpG();return e.Njj(l.addResource())}),e.EFF(6),e.nI1(7,"translate"),e.k0s()()(),e.j41(8,"div",8),e.DNE(9,y_,4,3,"div",9)(10,b_,12,7,"table",10),e.k0s()()}if(2&s){const n=e.XpG();e.Y8G("formGroup",n.formGroup),e.R7$(),e.Y8G("id","NewResources")("hasLabel",!1)("isLast",!0),e.R7$(2),e.FS9("placeholder",e.bMT(4,9,"Scopes.Resources.Placeholder")),e.R7$(3),e.SpI(" ",e.bMT(7,11,"Common.Add")," "),e.R7$(2),e.Y8G("id","Resources"),e.R7$(),e.Y8G("ngIf",n.currentResources().length<=0),e.R7$(),e.Y8G("ngIf",n.currentResources().length>0)}}let cT=(()=>{class s{constructor(n,a,l,D,ee){this.fb=n,this.errorService=a,this.scopeCacheService=l,this.translate=D,this.toastr=ee}ngOnInit(){this.scopeCacheService.unsavedCache$.pipe((0,$n.$)()).subscribe({next:n=>{this.scope=n,this.formGroup=this.fb.group({newResource:["",[g.k0.required,wn()]],resources:[this.scope.resources,[]]}),this.subscribeToValueChanges()},error:n=>{this.errorService.handleError(n)}})}ngOnDestroy(){this.formSubscription.unsubscribe()}subscribeToValueChanges(){this.formSubscription=this.formGroup.controls.resources.valueChanges.subscribe({next:n=>{let a={...this.scope};this.scopeCacheService.componentDirtyValidMap.set("DynamicAuthEditScopesComponent",this.formGroup.valid),a.resources=this.formGroup.controls.resources.value,this.scopeCacheService.unsavedCache.next(a)}})}currentResources(){return this.formGroup.controls.resources.value}addResource(){if(this.formGroup.get("newResource").invalid)return;const n=this.formGroup.get("newResource").value,a=this.formGroup.controls.resources.value;""!==a?a.indexOf(" ")>=0?this.toastr.error(this.translate.instant("Scopes.Resources.CannotHaveSpaces")):a.includes(n)?this.toastr.error(this.translate.instant("Scopes.Resources.AlreadyAdded")):this.formGroup.setValue({newResource:"",resources:[...a,n]}):this.toastr.error(this.translate.instant("Scopes.Resources.MustSpecifyResource"))}removeResource(n){this.formGroup.controls.resources.setValue(this.formGroup.controls.resources.value.filter(l=>l!==n))}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(g.ze),e.rXU(ne.I),e.rXU(Ji.t),e.rXU(_n.c$),e.rXU(Jn.tw))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-edit-resources-details"]],decls:4,vars:1,consts:[["customItemTemplate",""],["id","editIdPDetails",1,"tw-container","tw-mx-auto"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","hasLabel","isLast"],[1,"tw-form-typeahead"],["id","new-scope-input","formControlName","newResource","type","text","name","New Resource","autocomplete","off","left","",1,"tw-form-control",3,"placeholder"],["id","addScopeButton","right","",1,"tw-btn-success",3,"click"],[1,"tw-mt-6",3,"id"],["class","tw-alert","role","alert",4,"ngIf"],["class","datatable",4,"ngIf"],["role","alert",1,"tw-alert"],[1,"datatable"],[1,""],[1,"tw-w-full"],[1,"sr-only"],[1,"tw-w-1"],[4,"ngFor","ngForOf"],[1,"tw-table-cell","tw-max-w-0","tw-truncate"],["value","Delete",1,"tw-btn-link","tw-btn-small","tw-text-red-500",3,"click"],["aria-hidden","true",1,"fas","fa-times"]],template:function(a,l){1&a&&(e.DNE(0,v_,3,5,"ng-template",null,0,e.C5r),e.j41(2,"div",1),e.DNE(3,lT,11,13,"form",2),e.k0s()),2&a&&(e.R7$(3),e.Y8G("ngIf",l.scope))},dependencies:[pn.Sq,pn.bT,g.qT,g.me,g.BC,g.cb,g.j4,g.JD,fe.Y,fc.f,pn.P9,_n.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();class C_{}const uT=["ClaimsPicker"];let w_=(()=>{class s{constructor(n,a,l){this.errorService=n,this.scopeCacheService=a,this.claimTypeService=l,this.originalClaims=[],this.convertedOriginalClaims=[],this.availableClaims=[],this.assignedClaims=[]}ngOnInit(){this.claimTypeService.getClaimTypes().pipe((0,$n.$)()).subscribe(n=>{this.originalClaims=n,this.convertedOriginalClaims=this.convertOriginalClaimTypesToPickerClaimTypes(this.originalClaims),this.scopeCacheService.unsavedCache$.pipe((0,$n.$)()).subscribe({next:a=>{this.scope=a,this.assignedClaims=this.convertStoredClaimsToPickerClaims(this.scope.claims),this.availableClaims=(0,Ai.Yt)(this.convertedOriginalClaims,this.assignedClaims)},error:a=>{this.errorService.handleError(a)}})})}ngAfterViewInit(){this.claimsPicker.assignedStream.subscribe(n=>{this.assignedClaims=this.assignedClaims.concat(n),this.availableClaims=(0,Ai.Yt)(this.originalClaims,this.assignedClaims);let a=this.getAssignedClaimNames();this.scopeCacheService.componentDirtyValidMap.set("EditScopeClaimsComponent",!0);let l={...this.scope};l.claims=a,this.scopeCacheService.unsavedCache.next(l)}),this.claimsPicker.unAssignedStream.subscribe(n=>{this.assignedClaims=(0,Ai.Yt)(this.assignedClaims,n),this.availableClaims=(0,Ai.Yt)(this.originalClaims,this.assignedClaims);let a=this.getAssignedClaimNames();this.scopeCacheService.componentDirtyValidMap.set("EditScopeClaimsComponent",!0);let l={...this.scope};l.claims=a,this.scopeCacheService.unsavedCache.next(l)})}getAssignedClaimNames(){let n=[];return this.assignedClaims.forEach(a=>{const l=this.originalClaims.find(D=>D.displayName===a.name);n.push(l?l.name:a.name)}),n}convertStoredClaimsToPickerClaims(n){let a=[];return n.map(l=>{let D=new C_;const ee=this.originalClaims.find(De=>De.name===l);D.name=ee?ee.displayName:l,a.push(D)}),a}convertOriginalClaimTypesToPickerClaimTypes(n){let a=[];return n.map(l=>{let D=new C_;D.name=l.displayName?l.displayName:l.name,a.push(D)}),a}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(ne.I),e.rXU(Ji.t),e.rXU(Ke.X))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-edit-scope-claims"]],viewQuery:function(a,l){if(1&a&&e.GBs(uT,7),2&a){let D;e.mGM(D=e.lsd())&&(l.claimsPicker=D.first)}},decls:6,vars:6,consts:[["ClaimsPicker",""],[1,"cms"],[3,"assignedInput","availableInput","availableSearch"]],template:function(a,l){1&a&&(e.j41(0,"div",1)(1,"p"),e.EFF(2),e.nI1(3,"translate"),e.k0s()(),e.nrm(4,"app-common-picker",2,0)),2&a&&(e.R7$(2),e.JRh(e.bMT(3,4,"Scopes.ClaimTypes.Help")),e.R7$(2),e.Y8G("assignedInput",l.assignedClaims)("availableInput",l.availableClaims)("availableSearch",!0))},dependencies:[hd.f,_n.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();var dT=u(7185);const hT=["addButton"],fT=["updateButton"],pT=["deleteButton"];function mT(s,p){1&s&&(e.j41(0,"div",18),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Scopes.Properties.EmptyMessage")))}function gT(s,p){if(1&s){const n=e.RV6();e.j41(0,"tr",26)(1,"td",27),e.EFF(2),e.k0s(),e.j41(3,"td",28),e.EFF(4),e.k0s(),e.j41(5,"td",29)(6,"button",30),e.bIt("click",function(){const l=e.eBV(n).$implicit,D=e.XpG(2);return e.Njj(D.openEditModal(l.key))}),e.nrm(7,"span",31),e.j41(8,"span",23),e.EFF(9),e.nI1(10,"translate"),e.k0s()(),e.j41(11,"button",32),e.bIt("click",function(){const l=e.eBV(n).$implicit,D=e.XpG(2);return e.Njj(D.openDeleteModal(l.key))}),e.nrm(12,"span",33),e.j41(13,"span",23),e.EFF(14),e.nI1(15,"translate"),e.k0s()()()()}if(2&s){const n=p.$implicit;e.R7$(2),e.SpI(" ",n.key," "),e.R7$(2),e.SpI(" ",n.value," "),e.R7$(5),e.JRh(e.bMT(10,4,"Common.Edit")),e.R7$(5),e.JRh(e.bMT(15,6,"Common.Remove.Title"))}}function vT(s,p){if(1&s&&(e.j41(0,"table",19)(1,"thead")(2,"tr")(3,"th",20),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"th",21),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"th",22)(10,"span",23),e.EFF(11),e.nI1(12,"translate"),e.k0s()()()(),e.j41(13,"tbody",24),e.DNE(14,gT,16,8,"tr",25),e.nI1(15,"keyvalue"),e.k0s()()),2&s){const n=e.XpG();e.R7$(4),e.JRh(e.bMT(5,4,"Common.Key")),e.R7$(3),e.JRh(e.bMT(8,6,"Common.Value")),e.R7$(4),e.JRh(e.bMT(12,8,"Common.Actions")),e.R7$(3),e.Y8G("ngForOf",e.bMT(15,10,n.scope.properties))}}let yT=(()=>{class s{constructor(n,a,l,D,ee,De){this.fb=n,this.errorService=a,this.scopeCacheService=l,this.translate=D,this.toastr=ee,this.modalService=De,this.deleteModalType=dT.q.Warning,this.addModalActions=[$u.N.Save],this.addPropertyModalId="addPropertyModal",this.updateModalActions=[$u.N.Save],this.updatePropertyModalId="updatePropertyModal",this.deleteModalActions=[$u.N.Delete],this.deleteModalId="deletePropertyModal"}ngOnInit(){this.scopeCacheService.unsavedCache$.pipe((0,$n.$)()).subscribe({next:n=>{this.scope=n,null==this.scope.properties&&(this.scope.properties={})},error:n=>{this.errorService.handleError(n)}}),this.formProperty=this.fb.group({key:["",[g.k0.required]],value:["",[]]})}updatePropertiesInCache(){this.scopeCacheService.componentDirtyValidMap.set("EditScopePropertiesComponent",!0),this.scopeCacheService.unsavedCache.next(this.scope)}propertiesEmpty(){return null==this.scope.properties||0==Object.keys(this.scope.properties).length}openAddModal(){this.modalService.showById(this.addPropertyModalId,this.addButtonRef)}closeAddModal(){this.modalService.hideById(this.addPropertyModalId),this.formProperty.reset()}newKeyIsInvalid(){return null!=this.scope.properties[this.formProperty.controls.key.value]||null==this.formProperty.controls.key.value||""==this.formProperty.controls.key.value||this.formProperty.invalid}addProperty(){this.newKeyIsInvalid()||(this.scope.properties[this.formProperty.controls.key.value]=this.formProperty.controls.value.value,this.updatePropertiesInCache(),this.formProperty.reset())}openEditModal(n){this.formProperty.controls.key.setValue(n),this.formProperty.controls.value.setValue(this.scope.properties[n]),this.modalService.showById(this.updatePropertyModalId,this.updateButtonRef)}closeEditModal(){this.modalService.hideById(this.updatePropertyModalId),this.formProperty.reset()}openDeleteModal(n){this.deleteTarget=n,this.modalService.showById(this.deleteModalId,this.deleteButtonRef)}closeDeleteModal(){this.modalService.hideById(this.deleteModalId),this.deleteTarget=null}removeProperty(){delete this.scope.properties[this.deleteTarget],this.updatePropertiesInCache(),this.closeDeleteModal()}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(g.ze),e.rXU(ne.I),e.rXU(Ji.t),e.rXU(_n.c$),e.rXU(Jn.tw),e.rXU(Mf.B))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-edit-scope-properties"]],viewQuery:function(a,l){if(1&a&&(e.GBs(hT,5),e.GBs(fT,5),e.GBs(pT,5)),2&a){let D;e.mGM(D=e.lsd())&&(l.addButtonRef=D.first),e.mGM(D=e.lsd())&&(l.updateButtonRef=D.first),e.mGM(D=e.lsd())&&(l.deleteButtonRef=D.first)}},decls:29,vars:38,consts:[["id","scopesList",1,"tw-container","tw-mx-auto"],["right",""],["id","addProperty","type","button","placement","right",1,"tw-btn-success",3,"click"],["class","tw-italic",4,"ngIf"],["class","datatable hover",4,"ngIf"],[3,"onCancel","onSave","title","modalId","actions","addDisabled"],[3,"formGroup"],[3,"label","id"],["id","addPropertyKey","type","text","id","key","formControlName","key",1,"tw-form-control","tw-max-w-full"],[3,"label","id","isLast"],["id","addPropertyValue","type","text","id","value","formControlName","value",1,"tw-form-control","tw-max-w-full"],[3,"onCancel","onSave","title","modalId","actions","saveText","addDisabled"],["id","updatePropertyValue","type","text","id","value","formControlName","value",1,"tw-form-control","tw-max-w-full"],[3,"onCancel","onDelete","title","modalId","actions","modalType"],[1,"tw-text-center"],[1,"tw-mb-4"],[1,"tw-font-bold"],[1,"tw-pill-danger",3,"innerHTML"],[1,"tw-italic"],[1,"datatable","hover"],[1,"tw-hidden","tw-w-1/4","md:tw-table-cell"],[1,"tw-hidden","lg:tw-table-cell"],[1,"tw-w-1"],[1,"sr-only"],["id","propertiesTable"],["class","group",4,"ngFor","ngForOf"],[1,"group"],[1,"tw-hidden","tw-max-w-0","tw-truncate","md:tw-table-cell"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell"],[1,"tw-flex","tw-items-center"],["type","button",1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500","tw-mr-4",3,"click"],["id","editIcon","aria-hidden","true",1,"fad","fa-pencil"],["type","button",1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click"],["id","deleteIcon","aria-hidden","true",1,"fad","fa-times"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"app-action-bar"),e.qex(2,1),e.j41(3,"button",2),e.bIt("click",function(){return l.openAddModal()}),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.bVm(),e.k0s(),e.DNE(6,mT,3,3,"div",3)(7,vT,16,12,"table",4),e.k0s(),e.j41(8,"app-custom-modal",5),e.bIt("onCancel",function(){return l.closeAddModal()})("onSave",function(){return l.addProperty()}),e.j41(9,"form",6)(10,"app-form-row",7),e.nrm(11,"input",8),e.k0s(),e.j41(12,"app-form-row",9),e.nrm(13,"input",10),e.k0s()()(),e.j41(14,"app-custom-modal",11),e.bIt("onCancel",function(){return l.closeEditModal()})("onSave",function(){return l.addProperty()}),e.j41(15,"form",6)(16,"app-form-row",7),e.EFF(17),e.k0s(),e.j41(18,"app-form-row",9),e.nrm(19,"input",12),e.k0s()()(),e.j41(20,"app-custom-modal",13),e.bIt("onCancel",function(){return l.closeDeleteModal()})("onDelete",function(){return l.removeProperty()}),e.j41(21,"div",14)(22,"p",15),e.EFF(23),e.nI1(24,"translate"),e.j41(25,"span",16),e.EFF(26),e.k0s()(),e.nrm(27,"p",17),e.nI1(28,"translate"),e.k0s()()),2&a&&(e.R7$(4),e.SpI(" ",e.bMT(5,32,"Common.Add")," "),e.R7$(2),e.Y8G("ngIf",l.propertiesEmpty()),e.R7$(),e.Y8G("ngIf",!l.propertiesEmpty()),e.R7$(),e.Y8G("title","Scopes.Properties.AddProperty")("modalId",l.addPropertyModalId)("actions",l.addModalActions)("addDisabled",l.newKeyIsInvalid()),e.R7$(),e.Y8G("formGroup",l.formProperty),e.R7$(),e.Y8G("label","Common.Key")("id","addPropertyKey"),e.R7$(2),e.Y8G("label","Common.Value")("id","addPropertyValue")("isLast",!0),e.R7$(2),e.Y8G("title","Scopes.Properties.UpdateProperty")("modalId",l.updatePropertyModalId)("actions",l.updateModalActions)("saveText","Common.Update")("addDisabled",l.formProperty.controls.key.invalid),e.R7$(),e.Y8G("formGroup",l.formProperty),e.R7$(),e.Y8G("label","Common.Key")("id","updatePropertyKey"),e.R7$(),e.SpI(" ",l.formProperty.controls.key.value," "),e.R7$(),e.Y8G("label","Common.Value")("id","updatePropertyValue")("isLast",!0),e.R7$(2),e.Y8G("title","Scopes.Properties.DeleteProperty")("modalId",l.deleteModalId)("actions",l.deleteModalActions)("modalType",l.deleteModalType),e.R7$(3),e.SpI("",e.bMT(24,34,"Common.Delete.AreYouSureSimple")," "),e.R7$(3),e.JRh(l.deleteTarget),e.R7$(),e.Y8G("innerHTML",e.bMT(28,36,"Common.Delete.Warning"),e.npT))},dependencies:[pn.Sq,pn.bT,g.qT,g.me,g.BC,g.cb,g.j4,g.JD,hg.G,_l.n,fe.Y,pn.lG,_n.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();const _T=(s,p)=>({title:s,link:p}),S_=s=>[s];let E_=(()=>{class s{constructor(n,a,l,D,ee,De,Ze,gt,Vt){this.r=n,this.route=a,this.localize=l,this.titleService=D,this.translate=ee,this.toastr=De,this.errorService=Ze,this.scopeService=gt,this.scopeCachService=Vt,this.isFirstCall=!0}ngOnInit(){this.scopeSubscription=this.scopeCachService.unsavedCache$.subscribe({next:n=>{this.scope=n;const a=this.translate.instant("Scopes.Title.Generic")+" "+this.scope.displayName+" - "+Bt.$9.SITE_TITLE;this.titleService.setTitle(a),this.checkSubmitEnabled()},error:n=>{this.errorService.handleError(n)}})}ngOnDestroy(){this.scopeSubscription.unsubscribe()}checkSubmitEnabled(){const n=[...Array.from(this.scopeCachService.componentDirtyValidMap.values())];this.saveDisabled=0===n.length||n.some(a=>!a)}mobRoute(n){this.r.navigate([n],{relativeTo:this.route})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(bt.Ix),e.rXU(bt.nX),e.rXU(Wn.QG),e.rXU(i.hE),e.rXU(_n.c$),e.rXU(Jn.tw),e.rXU(ne.I),e.rXU(Wc),e.rXU(Ji.t))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["ng-component"]],decls:11,vars:20,consts:[[3,"title","crumbs","hasTabs"],["tabs",""],[3,"tabTitle","tabValue"],["id","viewScope",1,"tw-container","tw-mx-auto"]],template:function(a,l){1&a&&(e.j41(0,"app-title-bar",0),e.nI1(1,"translate"),e.nI1(2,"localize"),e.qex(3,1),e.j41(4,"app-custom-tabs"),e.nrm(5,"app-custom-tab",2)(6,"app-custom-tab",2)(7,"app-custom-tab",2)(8,"app-custom-tab",2),e.k0s(),e.bVm(),e.k0s(),e.j41(9,"div",3),e.nrm(10,"router-outlet"),e.k0s()),2&a&&(e.Y8G("title",l.scope.displayName)("crumbs",e.eq3(18,S_,e.l_i(15,_T,e.bMT(1,11,"Nav.Scopes"),e.bMT(2,13,"/scopes"))))("hasTabs",!0),e.R7$(5),e.Y8G("tabTitle","Nav.Details")("tabValue","details"),e.R7$(),e.Y8G("tabTitle","Nav.Resources")("tabValue","resources"),e.R7$(),e.Y8G("tabTitle","Nav.Claims")("tabValue","claims"),e.R7$(),e.Y8G("tabTitle","Nav.Properties")("tabValue","properties"))},dependencies:[bt.n3,Zt.z,rn.G,bn.v,_n.D9,Wn.tl],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();const Kf=s=>[s],T_=s=>({"tw-p-6 tw-border-2 tw-border-grey-300 tw-flex tw-items-center max-md:tw-flex-col":s});function I_(s,p){if(1&s&&(e.j41(0,"option",13),e.EFF(1),e.k0s()),2&s){const n=p.$implicit;e.Y8G("value",n.name),e.R7$(),e.JRh(n.displayName)}}function D_(s,p){if(1&s&&(e.j41(0,"select",10)(1,"option",11),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.DNE(4,I_,2,2,"option",12),e.k0s()),2&s){const n=e.XpG(2);e.R7$(2),e.JRh(e.bMT(3,2,"Scopes.DefaultLanguage")),e.R7$(2),e.Y8G("ngForOf",n.languages)}}function A_(s,p){if(1&s&&(e.j41(0,"form",8),e.DNE(1,D_,5,4,"select",9),e.k0s()),2&s){const n=e.XpG();e.Y8G("formGroup",n.formGroup),e.R7$(),e.Y8G("ngIf",n.languages.length>0)}}let R_=(()=>{class s{get ReadOnlyFieldType(){return Hi.t}constructor(n,a,l,D){this.fb=n,this.errorService=a,this.scopeCacheService=l,this.configService=D,this.languages=[],this.selectedDisplayName="",this.selectedDescription=""}ngOnInit(){this.configService.getConfig().subscribe({next:n=>{this.languages=n.supportedLanguages??[],this.formGroup=this.fb.group({language:["",[]]}),this.subscribeToValueChanges()},error:n=>{this.errorService.handleError(n)}}),this.scopeCacheService.unsavedCache$.pipe((0,$n.$)()).subscribe({next:n=>{this.scope=n,this.selectedDisplayName=this.scope.displayName,this.selectedDescription=this.scope.description},error:n=>{this.errorService.handleError(n)}})}ngOnDestroy(){this.formSubscription.unsubscribe()}subscribeToValueChanges(){this.formSubscription=this.formGroup.valueChanges.subscribe({next:n=>{""===n.language?(this.selectedDisplayName=this.scope.displayName,this.selectedDescription=this.scope.description):(this.selectedDisplayName=this.scope.displayNames[n.language],this.selectedDescription=this.scope.descriptions[n.language])}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(g.ze),e.rXU(ne.I),e.rXU(Ji.t),e.rXU(Gs.w))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["view-scope-details"]],decls:14,vars:30,consts:[["id","editScopeDetails",1,"tw-container","tw-mx-auto"],[3,"id","label","help"],[3,"fieldType","values"],[1,"",3,"ngClass"],[1,"tw-grow"],[3,"label","help"],[3,"label","help","isLast"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],["id","languageSelector","class","tw-form-select tw-w-40 tw-ml-8 tw-pl-2 max-md:tw-mt-8","formControlName","language",4,"ngIf"],["id","languageSelector","formControlName","language",1,"tw-form-select","tw-w-40","tw-ml-8","tw-pl-2","max-md:tw-mt-8"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"form")(2,"app-form-row",1),e.nrm(3,"app-readonly",2),e.nI1(4,"readOnlyValue"),e.k0s(),e.j41(5,"div",3)(6,"div",4)(7,"app-form-row",5),e.nrm(8,"app-readonly",2),e.nI1(9,"readOnlyValue"),e.k0s(),e.j41(10,"app-form-row",6),e.nrm(11,"app-readonly",2),e.nI1(12,"readOnlyValue"),e.k0s()(),e.DNE(13,A_,2,2,"form",7),e.k0s()()()),2&a&&(e.R7$(2),e.Y8G("id","Name")("label","Scopes.Name.Label")("help","Scopes.Name.Help"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(22,Kf,e.bMT(4,16,l.scope.name))),e.R7$(2),e.Y8G("ngClass",e.eq3(24,T_,l.languages.length>0)),e.R7$(2),e.Y8G("label","Common.DisplayName")("help","IdentityResources.DisplayNameHelp"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(26,Kf,e.bMT(9,18,l.selectedDisplayName))),e.R7$(2),e.Y8G("label","Common.Description")("help","Resources.DescriptionHelp")("isLast",!0),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(28,Kf,e.bMT(12,20,l.selectedDescription))),e.R7$(2),e.Y8G("ngIf",l.scope))},dependencies:[pn.YU,pn.Sq,pn.bT,g.qT,g.xH,g.y7,g.wz,g.BC,g.cb,g.cV,g.j4,g.JD,qr.O,fe.Y,Ri.u,_n.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();function M_(s,p){if(1&s&&(e.j41(0,"app-form-row",2),e.nrm(1,"app-readonly",3),e.k0s()),2&s){const n=e.XpG();e.Y8G("label","Scopes.ClaimTypes.Label")("isLast",!0),e.R7$(),e.Y8G("fieldType",n.ReadOnlyFieldType.Multi)("values",n.displayClaims)}}let x_=(()=>{class s{constructor(n,a,l,D){this.titleService=n,this.errorService=a,this.scopeCacheService=l,this.translate=D,this.displayClaims=[]}get ReadOnlyFieldType(){return Hi.t}ngOnInit(){this.scopeCacheService.unsavedCache$.pipe((0,$n.$)()).subscribe({next:n=>{this.scope=n,this.titleService.setTitle(this.translate.instant("IdentityResources.Singular")+" "+this.scope.displayName+" "+this.translate.instant("Nav.Details")+` - ${Bt.$9.SITE_TITLE}`),this.displayClaims=this.scope.claims.sort().map(a=>new Oo.w(a))},error:n=>{this.errorService.handleError(n)}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(i.hE),e.rXU(ne.I),e.rXU(Ji.t),e.rXU(_n.c$))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["view-scope-claims"]],decls:5,vars:4,consts:[[1,"cms"],[3,"label","isLast",4,"ngIf"],[3,"label","isLast"],[3,"fieldType","values"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"p"),e.EFF(2),e.nI1(3,"translate"),e.k0s()(),e.DNE(4,M_,2,4,"app-form-row",1)),2&a&&(e.R7$(2),e.JRh(e.bMT(3,2,"Scopes.ClaimTypes.Help")),e.R7$(2),e.Y8G("ngIf",l.displayClaims))},dependencies:[pn.bT,qr.O,fe.Y,_n.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();function k_(s,p){if(1&s&&(e.j41(0,"app-form-row",2),e.nrm(1,"app-readonly",3),e.k0s()),2&s){const n=e.XpG();e.Y8G("label","Scopes.Resources.Label")("isLast",!0),e.R7$(),e.Y8G("fieldType",n.ReadOnlyFieldType.Multi)("values",n.displayResources)}}let bT=(()=>{class s{constructor(n,a,l,D){this.titleService=n,this.errorService=a,this.scopeCacheService=l,this.translate=D,this.displayResources=[]}get ReadOnlyFieldType(){return Hi.t}ngOnInit(){this.scopeCacheService.unsavedCache$.pipe((0,$n.$)()).subscribe({next:n=>{this.scope=n,this.titleService.setTitle(this.translate.instant("IdentityResources.Singular")+" "+this.scope.displayName+" "+this.translate.instant("Nav.Details")+` - ${Bt.$9.SITE_TITLE}`),this.displayResources=this.scope.resources.sort().map(a=>new Oo.w(a))},error:n=>{this.errorService.handleError(n)}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(i.hE),e.rXU(ne.I),e.rXU(Ji.t),e.rXU(_n.c$))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["view-scope-resources"]],decls:5,vars:4,consts:[[1,"cms"],[3,"label","isLast",4,"ngIf"],[3,"label","isLast"],[3,"fieldType","values"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"p"),e.EFF(2),e.nI1(3,"translate"),e.k0s()(),e.DNE(4,k_,2,4,"app-form-row",1)),2&a&&(e.R7$(2),e.JRh(e.bMT(3,2,"Scopes.Resources.Help")),e.R7$(2),e.Y8G("ngIf",l.displayResources))},dependencies:[pn.bT,qr.O,fe.Y,_n.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();const CT=["viewButton"];function Pg(s,p){1&s&&(e.j41(0,"div",7),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Scopes.Properties.EmptyMessage")))}function zf(s,p){if(1&s){const n=e.RV6();e.j41(0,"tr",15)(1,"td",16),e.EFF(2),e.k0s(),e.j41(3,"td",17),e.EFF(4),e.k0s(),e.j41(5,"td",18)(6,"button",19),e.bIt("click",function(){const l=e.eBV(n).$implicit,D=e.XpG(2);return e.Njj(D.openViewPropertyModal(l.key))}),e.nrm(7,"span",20),e.j41(8,"span",12),e.EFF(9),e.nI1(10,"translate"),e.k0s()()()()}if(2&s){const n=p.$implicit;e.R7$(2),e.SpI(" ",n.key," "),e.R7$(2),e.SpI(" ",n.value," "),e.R7$(5),e.JRh(e.bMT(10,3,"Common.View"))}}function Bg(s,p){if(1&s&&(e.j41(0,"table",8)(1,"thead")(2,"tr")(3,"th",9),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"th",10),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"th",11)(10,"span",12),e.EFF(11),e.nI1(12,"translate"),e.k0s()()()(),e.j41(13,"tbody",13),e.DNE(14,zf,11,5,"tr",14),e.nI1(15,"keyvalue"),e.k0s()()),2&s){const n=e.XpG();e.R7$(4),e.JRh(e.bMT(5,4,"Common.Key")),e.R7$(3),e.JRh(e.bMT(8,6,"Common.Value")),e.R7$(4),e.JRh(e.bMT(12,8,"Common.Actions")),e.R7$(3),e.Y8G("ngForOf",e.bMT(15,10,n.scope.properties))}}let N_=(()=>{class s{constructor(n,a,l,D,ee){this.fb=n,this.errorService=a,this.scopeCacheService=l,this.translate=D,this.modalService=ee,this.viewPropertyModalId="viewPropertyModal"}ngOnInit(){this.scopeCacheService.unsavedCache$.pipe((0,$n.$)()).subscribe({next:n=>{this.scope=n,null==this.scope.properties&&(this.scope.properties={})},error:n=>{this.errorService.handleError(n)}}),this.formProperty=this.fb.group({key:["",[g.k0.required]],value:["{}",[g.k0.pattern(/^{.*}$/)]]})}propertiesEmpty(){return null==this.scope.properties||0==Object.keys(this.scope.properties).length}openViewPropertyModal(n){this.formProperty.controls.key.setValue(n),this.formProperty.controls.value.setValue(this.scope.properties[n]),this.modalService.showById(this.viewPropertyModalId,this.viewButtonRef)}closeViewPropertyModal(){this.modalService.hideById(this.viewPropertyModalId),this.formProperty.reset(),this.formProperty.controls.value.setValue("{}")}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(g.ze),e.rXU(ne.I),e.rXU(Ji.t),e.rXU(_n.c$),e.rXU(Mf.B))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["view-scope-properties"]],viewQuery:function(a,l){if(1&a&&e.GBs(CT,5),2&a){let D;e.mGM(D=e.lsd())&&(l.viewButtonRef=D.first)}},decls:9,vars:12,consts:[["id","scopesList",1,"tw-container","tw-mx-auto"],["class","tw-italic",4,"ngIf"],["class","datatable hover",4,"ngIf"],[3,"onCancel","title","modalId"],[3,"formGroup"],[3,"label","id"],[3,"label","id","isLast"],[1,"tw-italic"],[1,"datatable","hover"],[1,"tw-hidden","tw-w-1/4","md:tw-table-cell"],[1,"tw-hidden","lg:tw-table-cell"],[1,"tw-w-1"],[1,"sr-only"],["id","propertiesTable"],["class","group",4,"ngFor","ngForOf"],[1,"group"],[1,"tw-hidden","tw-max-w-0","tw-truncate","md:tw-table-cell"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell"],[1,"tw-flex","tw-items-center"],["type","button",1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500","tw-mr-4",3,"click"],["id","editIcon","aria-hidden","true",1,"fas","fa-eye"]],template:function(a,l){1&a&&(e.j41(0,"div",0),e.DNE(1,Pg,3,3,"div",1)(2,Bg,16,12,"table",2),e.k0s(),e.j41(3,"app-custom-modal",3),e.bIt("onCancel",function(){return l.closeViewPropertyModal()}),e.j41(4,"form",4)(5,"app-form-row",5),e.EFF(6),e.k0s(),e.j41(7,"app-form-row",6),e.EFF(8),e.k0s()()()),2&a&&(e.R7$(),e.Y8G("ngIf",l.propertiesEmpty()),e.R7$(),e.Y8G("ngIf",!l.propertiesEmpty()),e.R7$(),e.Y8G("title","Scopes.Properties.ViewProperty")("modalId",l.viewPropertyModalId),e.R7$(),e.Y8G("formGroup",l.formProperty),e.R7$(),e.Y8G("label","Common.Key")("id","viewPropertyKey"),e.R7$(),e.SpI(" ",l.formProperty.controls.key.value," "),e.R7$(),e.Y8G("label","Common.Value")("id","viewPropertyKey")("isLast",!0),e.R7$(),e.SpI(" ",l.formProperty.controls.value.value," "))},dependencies:[pn.Sq,pn.bT,g.qT,g.cb,g.j4,hg.G,fe.Y,pn.lG,_n.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();const Lg=[{path:"scopes",component:hp,canActivate:[dn.h,Qn._],data:{permissions:[Jt.a[Jt.a.IdentityServerManager],Jt.a[Jt.a.IdentityServerManagerReadOnly],Jt.a[Jt.a.AllReadOnly],Jt.a[Jt.a.All]]}},{path:"scopes/:Id",component:u_,children:[{path:"",redirectTo:"details",pathMatch:"full"},{path:"details",component:g_},{path:"resources",component:cT},{path:"claims",component:w_},{path:"properties",component:yT}],resolve:{scope:lh},canDeactivate:[Nn.M],canActivate:[dn.h,Qn._],data:{permissions:[Jt.a[Jt.a.IdentityServerManager],Jt.a[Jt.a.All]]}},{path:"scopes/view/:Id",component:E_,children:[{path:"",redirectTo:"details",pathMatch:"full"},{path:"details",component:R_},{path:"resources",component:bT},{path:"claims",component:x_},{path:"properties",component:N_}],resolve:{scope:lh},canActivate:[dn.h,Qn._],data:{permissions:[Jt.a[Jt.a.IdentityServerManager],Jt.a[Jt.a.IdentityServerManagerReadOnly],Jt.a[Jt.a.AllReadOnly],Jt.a[Jt.a.All]]}}];let O_=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({imports:[bt.iI.forChild(Lg),Wn.XE.forChild(Lg),bt.iI]})}}return s})();class F_{constructor(){this.subject=new Fi.m(1),this.scopes=[{id:"d27a40e4-6d70-42ee-b895-dfc8f7538c28",name:"private_scope",displayName:"Private Scope",description:"Scope for internal applications",resources:["resource1","resource2"],claims:["claim1","claim2"],properties:{Test1:"Test1",Test2:"Test2"},reserved:!0},{id:"d27a40e4-6d70-42ee-b895-dfc8f7538c33",name:"public_scope",displayName:"Public Scope",description:"Scope for applications",resources:["resource1","resource2"],claims:["claim1","claim2"],properties:{Test1:"Test1",Test2:"Test2"},reserved:!1},{id:"d27a40e4-6d70-42ee-b895-dfc8f7538c44",name:"public_scope2",displayName:"Public Scope 2",description:"Scope 2 for applications",resources:["resource1","resource2"],claims:["claim1","claim2"],properties:{Test1:"Test1",Test2:"Test2"},reserved:!1}],this.pagedResult={currentPage:1,pageCount:1,pageSize:25,totalCount:3,results:this.scopes},this.subject.next(this.scopes[0])}get(p,n,a){return(0,ia.of)(this.pagedResult)}getScope(p){return(0,ia.of)(this.scopes[1])}createScope(p){return"null"===p?(0,Ef.$)("broken"):(0,ia.of)("success")}updateScope(p){return(0,ia.of)("success")}deleteScope(p){return(0,ia.of)("success")}}let P_=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({providers:[Wc,F_,lh,Ke.X],imports:[pn.MD,bt.iI,O_,g.YN,jl.Y,g.X1,wt.jr,_n.h,Oa.N,rd.c,Kc.t,Me.Ss,Qd.qP,zc.N,Oa.N,el.m,mc.c,$l.i,gc.w,ld.a,sd.E,Tl.p,Zd.W,Wn.XE,Na.A,If.U]})}}return s})();var B_=u(8440);function L_(s,p,n,a){return new kp(s,p,n,a,"resources/locales.json?cb="+Pr)}function Ug(s){return new tg(s,"./resources/",".json?cb="+Pr)}let U_=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s,bootstrap:[c_]})}static{this.\u0275inj=e.G2t({providers:[rg.F,Np.n,bs.D,Vr.i,dn.h,Qn._,ka.q,ru.m,Dg.y,as.P,ed.m,Ke.X,Bt.Vk,L1.M,sc.v,U1.R,Df,Wn.QG,ki.M,ig,_n.c$,ma.X,Gs.w,V1.B,ne.I,vp.D,ng.x,Zl,{provide:id.x,useClass:id.P},{provide:S.a7,useClass:vS,multi:!0},{provide:S.a7,useClass:Ru,multi:!0}],imports:[pb,bD,pn.MD,g.YN,g.X1,Kn,S.q1,jl.Y,B1,PE,Wy.StarterModeModule,vb,Tl.p,pp.P,_n.h.forRoot({loader:{provide:_n.Wr,useFactory:Ug,deps:[S.Qq]}}),Wn.XE.forRoot(r1,{parser:{provide:Wn.xq,useFactory:L_,deps:[_n.c$,pn.aZ,Wn.wY,S.Qq]}}),Rt.Q_.forRoot(),wt.jr.forRoot(),Me.Ss.forRoot(),Xe.h6.forRoot(),Jn._B.forRoot(),Op.M,Bv,mc.c,ad.h,Oa.N,gc.w,oc.Y,Ky,P_,B_.SettingsModule,Wn.XE]})}}return s})();(0,e.SmG)(),i.sG().bootstrapModule(U_)},3981:(et,me)=>{"use strict";me.byteLength=function f(C){var R=v(C),O=R[1];return 3*(R[0]+O)/4-O},me.toByteArray=function E(C){var R,G,k=v(C),O=k[0],H=k[1],x=new e(function d(C,R,k){return 3*(R+k)/4-k}(0,O,H)),$=0,U=H>0?O-4:O;for(G=0;G<U;G+=4)R=i[C.charCodeAt(G)]<<18|i[C.charCodeAt(G+1)]<<12|i[C.charCodeAt(G+2)]<<6|i[C.charCodeAt(G+3)],x[$++]=R>>16&255,x[$++]=R>>8&255,x[$++]=255&R;return 2===H&&(R=i[C.charCodeAt(G)]<<2|i[C.charCodeAt(G+1)]>>4,x[$++]=255&R),1===H&&(R=i[C.charCodeAt(G)]<<10|i[C.charCodeAt(G+1)]<<4|i[C.charCodeAt(G+2)]>>2,x[$++]=R>>8&255,x[$++]=255&R),x},me.fromByteArray=function w(C){for(var R,k=C.length,O=k%3,H=[],x=16383,$=0,U=k-O;$<U;$+=x)H.push(F(C,$,$+x>U?U:$+x));return 1===O?H.push(u[(R=C[k-1])>>2]+u[R<<4&63]+"=="):2===O&&H.push(u[(R=(C[k-2]<<8)+C[k-1])>>10]+u[R>>4&63]+u[R<<2&63]+"="),H.join("")};for(var u=[],i=[],e=typeof Uint8Array<"u"?Uint8Array:Array,_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",g=0;g<64;++g)u[g]=_[g],i[_.charCodeAt(g)]=g;function v(C){var R=C.length;if(R%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var k=C.indexOf("=");return-1===k&&(k=R),[k,k===R?0:4-k%4]}function m(C){return u[C>>18&63]+u[C>>12&63]+u[C>>6&63]+u[63&C]}function F(C,R,k){for(var H=[],x=R;x<k;x+=3)H.push(m((C[x]<<16&16711680)+(C[x+1]<<8&65280)+(255&C[x+2])));return H.join("")}i[45]=62,i[95]=63},3838:(et,me,u)=>{"use strict";const e=u(3981),_=u(2020),g="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;me.hp=d,me.IS=50;const S=2147483647;function f(ae){if(ae>S)throw new RangeError('The value "'+ae+'" is invalid for option "size"');const j=new Uint8Array(ae);return Object.setPrototypeOf(j,d.prototype),j}function d(ae,j,se){if("number"==typeof ae){if("string"==typeof j)throw new TypeError('The "string" argument must be of type string. Received type number');return w(ae)}return E(ae,j,se)}function E(ae,j,se){if("string"==typeof ae)return function C(ae,j){if(("string"!=typeof j||""===j)&&(j="utf8"),!d.isEncoding(j))throw new TypeError("Unknown encoding: "+j);const se=0|U(ae,j);let Be=f(se);const qe=Be.write(ae,j);return qe!==se&&(Be=Be.slice(0,qe)),Be}(ae,j);if(ArrayBuffer.isView(ae))return function k(ae){if(Ht(ae,Uint8Array)){const j=new Uint8Array(ae);return O(j.buffer,j.byteOffset,j.byteLength)}return R(ae)}(ae);if(null==ae)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ae);if(Ht(ae,ArrayBuffer)||ae&&Ht(ae.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ht(ae,SharedArrayBuffer)||ae&&Ht(ae.buffer,SharedArrayBuffer)))return O(ae,j,se);if("number"==typeof ae)throw new TypeError('The "value" argument must not be of type number. Received type number');const Be=ae.valueOf&&ae.valueOf();if(null!=Be&&Be!==ae)return d.from(Be,j,se);const qe=function H(ae){if(d.isBuffer(ae)){const j=0|x(ae.length),se=f(j);return 0===se.length||ae.copy(se,0,0,j),se}return void 0!==ae.length?"number"!=typeof ae.length||en(ae.length)?f(0):R(ae):"Buffer"===ae.type&&Array.isArray(ae.data)?R(ae.data):void 0}(ae);if(qe)return qe;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof ae[Symbol.toPrimitive])return d.from(ae[Symbol.toPrimitive]("string"),j,se);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ae)}function m(ae){if("number"!=typeof ae)throw new TypeError('"size" argument must be of type number');if(ae<0)throw new RangeError('The value "'+ae+'" is invalid for option "size"')}function w(ae){return m(ae),f(ae<0?0:0|x(ae))}function R(ae){const j=ae.length<0?0:0|x(ae.length),se=f(j);for(let Be=0;Be<j;Be+=1)se[Be]=255&ae[Be];return se}function O(ae,j,se){if(j<0||ae.byteLength<j)throw new RangeError('"offset" is outside of buffer bounds');if(ae.byteLength<j+(se||0))throw new RangeError('"length" is outside of buffer bounds');let Be;return Be=void 0===j&&void 0===se?new Uint8Array(ae):void 0===se?new Uint8Array(ae,j):new Uint8Array(ae,j,se),Object.setPrototypeOf(Be,d.prototype),Be}function x(ae){if(ae>=S)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+S.toString(16)+" bytes");return 0|ae}function U(ae,j){if(d.isBuffer(ae))return ae.length;if(ArrayBuffer.isView(ae)||Ht(ae,ArrayBuffer))return ae.byteLength;if("string"!=typeof ae)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof ae);const se=ae.length,Be=arguments.length>2&&!0===arguments[2];if(!Be&&0===se)return 0;let qe=!1;for(;;)switch(j){case"ascii":case"latin1":case"binary":return se;case"utf8":case"utf-8":return Ue(ae).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*se;case"hex":return se>>>1;case"base64":return pt(ae).length;default:if(qe)return Be?-1:Ue(ae).length;j=(""+j).toLowerCase(),qe=!0}}function G(ae,j,se){let Be=!1;if((void 0===j||j<0)&&(j=0),j>this.length||((void 0===se||se>this.length)&&(se=this.length),se<=0)||(se>>>=0)<=(j>>>=0))return"";for(ae||(ae="utf8");;)switch(ae){case"hex":return we(this,j,se);case"utf8":case"utf-8":return Oe(this,j,se);case"ascii":return Je(this,j,se);case"latin1":case"binary":return Te(this,j,se);case"base64":return _e(this,j,se);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return he(this,j,se);default:if(Be)throw new TypeError("Unknown encoding: "+ae);ae=(ae+"").toLowerCase(),Be=!0}}function ie(ae,j,se){const Be=ae[j];ae[j]=ae[se],ae[se]=Be}function le(ae,j,se,Be,qe){if(0===ae.length)return-1;if("string"==typeof se?(Be=se,se=0):se>2147483647?se=2147483647:se<-2147483648&&(se=-2147483648),en(se=+se)&&(se=qe?0:ae.length-1),se<0&&(se=ae.length+se),se>=ae.length){if(qe)return-1;se=ae.length-1}else if(se<0){if(!qe)return-1;se=0}if("string"==typeof j&&(j=d.from(j,Be)),d.isBuffer(j))return 0===j.length?-1:L(ae,j,se,Be,qe);if("number"==typeof j)return j&=255,"function"==typeof Uint8Array.prototype.indexOf?qe?Uint8Array.prototype.indexOf.call(ae,j,se):Uint8Array.prototype.lastIndexOf.call(ae,j,se):L(ae,[j],se,Be,qe);throw new TypeError("val must be string, number or Buffer")}function L(ae,j,se,Be,qe){let Mn,ht=1,Ft=ae.length,on=j.length;if(void 0!==Be&&("ucs2"===(Be=String(Be).toLowerCase())||"ucs-2"===Be||"utf16le"===Be||"utf-16le"===Be)){if(ae.length<2||j.length<2)return-1;ht=2,Ft/=2,on/=2,se/=2}function un(kn,Bn){return 1===ht?kn[Bn]:kn.readUInt16BE(Bn*ht)}if(qe){let kn=-1;for(Mn=se;Mn<Ft;Mn++)if(un(ae,Mn)===un(j,-1===kn?0:Mn-kn)){if(-1===kn&&(kn=Mn),Mn-kn+1===on)return kn*ht}else-1!==kn&&(Mn-=Mn-kn),kn=-1}else for(se+on>Ft&&(se=Ft-on),Mn=se;Mn>=0;Mn--){let kn=!0;for(let Bn=0;Bn<on;Bn++)if(un(ae,Mn+Bn)!==un(j,Bn)){kn=!1;break}if(kn)return Mn}return-1}function Q(ae,j,se,Be){se=Number(se)||0;const qe=ae.length-se;Be?(Be=Number(Be))>qe&&(Be=qe):Be=qe;const ht=j.length;let Ft;for(Be>ht/2&&(Be=ht/2),Ft=0;Ft<Be;++Ft){const on=parseInt(j.substr(2*Ft,2),16);if(en(on))return Ft;ae[se+Ft]=on}return Ft}function te(ae,j,se,Be){return it(Ue(j,ae.length-se),ae,se,Be)}function I(ae,j,se,Be){return it(function at(ae){const j=[];for(let se=0;se<ae.length;++se)j.push(255&ae.charCodeAt(se));return j}(j),ae,se,Be)}function oe(ae,j,se,Be){return it(pt(j),ae,se,Be)}function Y(ae,j,se,Be){return it(function Ot(ae,j){let se,Be,qe;const ht=[];for(let Ft=0;Ft<ae.length&&!((j-=2)<0);++Ft)se=ae.charCodeAt(Ft),Be=se>>8,qe=se%256,ht.push(qe),ht.push(Be);return ht}(j,ae.length-se),ae,se,Be)}function _e(ae,j,se){return e.fromByteArray(0===j&&se===ae.length?ae:ae.slice(j,se))}function Oe(ae,j,se){se=Math.min(ae.length,se);const Be=[];let qe=j;for(;qe<se;){const ht=ae[qe];let Ft=null,on=ht>239?4:ht>223?3:ht>191?2:1;if(qe+on<=se){let un,Mn,kn,Bn;switch(on){case 1:ht<128&&(Ft=ht);break;case 2:un=ae[qe+1],128==(192&un)&&(Bn=(31&ht)<<6|63&un,Bn>127&&(Ft=Bn));break;case 3:un=ae[qe+1],Mn=ae[qe+2],128==(192&un)&&128==(192&Mn)&&(Bn=(15&ht)<<12|(63&un)<<6|63&Mn,Bn>2047&&(Bn<55296||Bn>57343)&&(Ft=Bn));break;case 4:un=ae[qe+1],Mn=ae[qe+2],kn=ae[qe+3],128==(192&un)&&128==(192&Mn)&&128==(192&kn)&&(Bn=(15&ht)<<18|(63&un)<<12|(63&Mn)<<6|63&kn,Bn>65535&&Bn<1114112&&(Ft=Bn))}}null===Ft?(Ft=65533,on=1):Ft>65535&&(Ft-=65536,Be.push(Ft>>>10&1023|55296),Ft=56320|1023&Ft),Be.push(Ft),qe+=on}return function xe(ae){const j=ae.length;if(j<=Re)return String.fromCharCode.apply(String,ae);let se="",Be=0;for(;Be<j;)se+=String.fromCharCode.apply(String,ae.slice(Be,Be+=Re));return se}(Be)}!(d.TYPED_ARRAY_SUPPORT=function v(){try{const ae=new Uint8Array(1),j={foo:function(){return 42}};return Object.setPrototypeOf(j,Uint8Array.prototype),Object.setPrototypeOf(ae,j),42===ae.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(d.prototype,"parent",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.buffer}}),Object.defineProperty(d.prototype,"offset",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.byteOffset}}),d.poolSize=8192,d.from=function(ae,j,se){return E(ae,j,se)},Object.setPrototypeOf(d.prototype,Uint8Array.prototype),Object.setPrototypeOf(d,Uint8Array),d.alloc=function(ae,j,se){return function F(ae,j,se){return m(ae),ae<=0?f(ae):void 0!==j?"string"==typeof se?f(ae).fill(j,se):f(ae).fill(j):f(ae)}(ae,j,se)},d.allocUnsafe=function(ae){return w(ae)},d.allocUnsafeSlow=function(ae){return w(ae)},d.isBuffer=function(j){return null!=j&&!0===j._isBuffer&&j!==d.prototype},d.compare=function(j,se){if(Ht(j,Uint8Array)&&(j=d.from(j,j.offset,j.byteLength)),Ht(se,Uint8Array)&&(se=d.from(se,se.offset,se.byteLength)),!d.isBuffer(j)||!d.isBuffer(se))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(j===se)return 0;let Be=j.length,qe=se.length;for(let ht=0,Ft=Math.min(Be,qe);ht<Ft;++ht)if(j[ht]!==se[ht]){Be=j[ht],qe=se[ht];break}return Be<qe?-1:qe<Be?1:0},d.isEncoding=function(j){switch(String(j).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(j,se){if(!Array.isArray(j))throw new TypeError('"list" argument must be an Array of Buffers');if(0===j.length)return d.alloc(0);let Be;if(void 0===se)for(se=0,Be=0;Be<j.length;++Be)se+=j[Be].length;const qe=d.allocUnsafe(se);let ht=0;for(Be=0;Be<j.length;++Be){let Ft=j[Be];if(Ht(Ft,Uint8Array))ht+Ft.length>qe.length?(d.isBuffer(Ft)||(Ft=d.from(Ft)),Ft.copy(qe,ht)):Uint8Array.prototype.set.call(qe,Ft,ht);else{if(!d.isBuffer(Ft))throw new TypeError('"list" argument must be an Array of Buffers');Ft.copy(qe,ht)}ht+=Ft.length}return qe},d.byteLength=U,d.prototype._isBuffer=!0,d.prototype.swap16=function(){const j=this.length;if(j%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let se=0;se<j;se+=2)ie(this,se,se+1);return this},d.prototype.swap32=function(){const j=this.length;if(j%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let se=0;se<j;se+=4)ie(this,se,se+3),ie(this,se+1,se+2);return this},d.prototype.swap64=function(){const j=this.length;if(j%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let se=0;se<j;se+=8)ie(this,se,se+7),ie(this,se+1,se+6),ie(this,se+2,se+5),ie(this,se+3,se+4);return this},d.prototype.toLocaleString=d.prototype.toString=function(){const j=this.length;return 0===j?"":0===arguments.length?Oe(this,0,j):G.apply(this,arguments)},d.prototype.equals=function(j){if(!d.isBuffer(j))throw new TypeError("Argument must be a Buffer");return this===j||0===d.compare(this,j)},d.prototype.inspect=function(){let j="";const se=me.IS;return j=this.toString("hex",0,se).replace(/(.{2})/g,"$1 ").trim(),this.length>se&&(j+=" ... "),"<Buffer "+j+">"},g&&(d.prototype[g]=d.prototype.inspect),d.prototype.compare=function(j,se,Be,qe,ht){if(Ht(j,Uint8Array)&&(j=d.from(j,j.offset,j.byteLength)),!d.isBuffer(j))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof j);if(void 0===se&&(se=0),void 0===Be&&(Be=j?j.length:0),void 0===qe&&(qe=0),void 0===ht&&(ht=this.length),se<0||Be>j.length||qe<0||ht>this.length)throw new RangeError("out of range index");if(qe>=ht&&se>=Be)return 0;if(qe>=ht)return-1;if(se>=Be)return 1;if(this===j)return 0;let Ft=(ht>>>=0)-(qe>>>=0),on=(Be>>>=0)-(se>>>=0);const un=Math.min(Ft,on),Mn=this.slice(qe,ht),kn=j.slice(se,Be);for(let Bn=0;Bn<un;++Bn)if(Mn[Bn]!==kn[Bn]){Ft=Mn[Bn],on=kn[Bn];break}return Ft<on?-1:on<Ft?1:0},d.prototype.includes=function(j,se,Be){return-1!==this.indexOf(j,se,Be)},d.prototype.indexOf=function(j,se,Be){return le(this,j,se,Be,!0)},d.prototype.lastIndexOf=function(j,se,Be){return le(this,j,se,Be,!1)},d.prototype.write=function(j,se,Be,qe){if(void 0===se)qe="utf8",Be=this.length,se=0;else if(void 0===Be&&"string"==typeof se)qe=se,Be=this.length,se=0;else{if(!isFinite(se))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");se>>>=0,isFinite(Be)?(Be>>>=0,void 0===qe&&(qe="utf8")):(qe=Be,Be=void 0)}const ht=this.length-se;if((void 0===Be||Be>ht)&&(Be=ht),j.length>0&&(Be<0||se<0)||se>this.length)throw new RangeError("Attempt to write outside buffer bounds");qe||(qe="utf8");let Ft=!1;for(;;)switch(qe){case"hex":return Q(this,j,se,Be);case"utf8":case"utf-8":return te(this,j,se,Be);case"ascii":case"latin1":case"binary":return I(this,j,se,Be);case"base64":return oe(this,j,se,Be);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Y(this,j,se,Be);default:if(Ft)throw new TypeError("Unknown encoding: "+qe);qe=(""+qe).toLowerCase(),Ft=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const Re=4096;function Je(ae,j,se){let Be="";se=Math.min(ae.length,se);for(let qe=j;qe<se;++qe)Be+=String.fromCharCode(127&ae[qe]);return Be}function Te(ae,j,se){let Be="";se=Math.min(ae.length,se);for(let qe=j;qe<se;++qe)Be+=String.fromCharCode(ae[qe]);return Be}function we(ae,j,se){const Be=ae.length;(!j||j<0)&&(j=0),(!se||se<0||se>Be)&&(se=Be);let qe="";for(let ht=j;ht<se;++ht)qe+=rt[ae[ht]];return qe}function he(ae,j,se){const Be=ae.slice(j,se);let qe="";for(let ht=0;ht<Be.length-1;ht+=2)qe+=String.fromCharCode(Be[ht]+256*Be[ht+1]);return qe}function Le(ae,j,se){if(ae%1!=0||ae<0)throw new RangeError("offset is not uint");if(ae+j>se)throw new RangeError("Trying to access beyond buffer length")}function Ae(ae,j,se,Be,qe,ht){if(!d.isBuffer(ae))throw new TypeError('"buffer" argument must be a Buffer instance');if(j>qe||j<ht)throw new RangeError('"value" argument is out of bounds');if(se+Be>ae.length)throw new RangeError("Index out of range")}function st(ae,j,se,Be,qe){X(j,Be,qe,ae,se,7);let ht=Number(j&BigInt(4294967295));ae[se++]=ht,ht>>=8,ae[se++]=ht,ht>>=8,ae[se++]=ht,ht>>=8,ae[se++]=ht;let Ft=Number(j>>BigInt(32)&BigInt(4294967295));return ae[se++]=Ft,Ft>>=8,ae[se++]=Ft,Ft>>=8,ae[se++]=Ft,Ft>>=8,ae[se++]=Ft,se}function Fe(ae,j,se,Be,qe){X(j,Be,qe,ae,se,7);let ht=Number(j&BigInt(4294967295));ae[se+7]=ht,ht>>=8,ae[se+6]=ht,ht>>=8,ae[se+5]=ht,ht>>=8,ae[se+4]=ht;let Ft=Number(j>>BigInt(32)&BigInt(4294967295));return ae[se+3]=Ft,Ft>>=8,ae[se+2]=Ft,Ft>>=8,ae[se+1]=Ft,Ft>>=8,ae[se]=Ft,se+8}function ft(ae,j,se,Be,qe,ht){if(se+Be>ae.length)throw new RangeError("Index out of range");if(se<0)throw new RangeError("Index out of range")}function Ye(ae,j,se,Be,qe){return j=+j,se>>>=0,qe||ft(ae,0,se,4),_.write(ae,j,se,Be,23,4),se+4}function zt(ae,j,se,Be,qe){return j=+j,se>>>=0,qe||ft(ae,0,se,8),_.write(ae,j,se,Be,52,8),se+8}d.prototype.slice=function(j,se){const Be=this.length;(j=~~j)<0?(j+=Be)<0&&(j=0):j>Be&&(j=Be),(se=void 0===se?Be:~~se)<0?(se+=Be)<0&&(se=0):se>Be&&(se=Be),se<j&&(se=j);const qe=this.subarray(j,se);return Object.setPrototypeOf(qe,d.prototype),qe},d.prototype.readUintLE=d.prototype.readUIntLE=function(j,se,Be){j>>>=0,se>>>=0,Be||Le(j,se,this.length);let qe=this[j],ht=1,Ft=0;for(;++Ft<se&&(ht*=256);)qe+=this[j+Ft]*ht;return qe},d.prototype.readUintBE=d.prototype.readUIntBE=function(j,se,Be){j>>>=0,se>>>=0,Be||Le(j,se,this.length);let qe=this[j+--se],ht=1;for(;se>0&&(ht*=256);)qe+=this[j+--se]*ht;return qe},d.prototype.readUint8=d.prototype.readUInt8=function(j,se){return j>>>=0,se||Le(j,1,this.length),this[j]},d.prototype.readUint16LE=d.prototype.readUInt16LE=function(j,se){return j>>>=0,se||Le(j,2,this.length),this[j]|this[j+1]<<8},d.prototype.readUint16BE=d.prototype.readUInt16BE=function(j,se){return j>>>=0,se||Le(j,2,this.length),this[j]<<8|this[j+1]},d.prototype.readUint32LE=d.prototype.readUInt32LE=function(j,se){return j>>>=0,se||Le(j,4,this.length),(this[j]|this[j+1]<<8|this[j+2]<<16)+16777216*this[j+3]},d.prototype.readUint32BE=d.prototype.readUInt32BE=function(j,se){return j>>>=0,se||Le(j,4,this.length),16777216*this[j]+(this[j+1]<<16|this[j+2]<<8|this[j+3])},d.prototype.readBigUInt64LE=Nt(function(j){q(j>>>=0,"offset");const se=this[j],Be=this[j+7];(void 0===se||void 0===Be)&&Se(j,this.length-8);const qe=se+256*this[++j]+65536*this[++j]+this[++j]*2**24,ht=this[++j]+256*this[++j]+65536*this[++j]+Be*2**24;return BigInt(qe)+(BigInt(ht)<<BigInt(32))}),d.prototype.readBigUInt64BE=Nt(function(j){q(j>>>=0,"offset");const se=this[j],Be=this[j+7];(void 0===se||void 0===Be)&&Se(j,this.length-8);const qe=se*2**24+65536*this[++j]+256*this[++j]+this[++j],ht=this[++j]*2**24+65536*this[++j]+256*this[++j]+Be;return(BigInt(qe)<<BigInt(32))+BigInt(ht)}),d.prototype.readIntLE=function(j,se,Be){j>>>=0,se>>>=0,Be||Le(j,se,this.length);let qe=this[j],ht=1,Ft=0;for(;++Ft<se&&(ht*=256);)qe+=this[j+Ft]*ht;return ht*=128,qe>=ht&&(qe-=Math.pow(2,8*se)),qe},d.prototype.readIntBE=function(j,se,Be){j>>>=0,se>>>=0,Be||Le(j,se,this.length);let qe=se,ht=1,Ft=this[j+--qe];for(;qe>0&&(ht*=256);)Ft+=this[j+--qe]*ht;return ht*=128,Ft>=ht&&(Ft-=Math.pow(2,8*se)),Ft},d.prototype.readInt8=function(j,se){return j>>>=0,se||Le(j,1,this.length),128&this[j]?-1*(255-this[j]+1):this[j]},d.prototype.readInt16LE=function(j,se){j>>>=0,se||Le(j,2,this.length);const Be=this[j]|this[j+1]<<8;return 32768&Be?4294901760|Be:Be},d.prototype.readInt16BE=function(j,se){j>>>=0,se||Le(j,2,this.length);const Be=this[j+1]|this[j]<<8;return 32768&Be?4294901760|Be:Be},d.prototype.readInt32LE=function(j,se){return j>>>=0,se||Le(j,4,this.length),this[j]|this[j+1]<<8|this[j+2]<<16|this[j+3]<<24},d.prototype.readInt32BE=function(j,se){return j>>>=0,se||Le(j,4,this.length),this[j]<<24|this[j+1]<<16|this[j+2]<<8|this[j+3]},d.prototype.readBigInt64LE=Nt(function(j){q(j>>>=0,"offset");const se=this[j],Be=this[j+7];return(void 0===se||void 0===Be)&&Se(j,this.length-8),(BigInt(this[j+4]+256*this[j+5]+65536*this[j+6]+(Be<<24))<<BigInt(32))+BigInt(se+256*this[++j]+65536*this[++j]+this[++j]*2**24)}),d.prototype.readBigInt64BE=Nt(function(j){q(j>>>=0,"offset");const se=this[j],Be=this[j+7];(void 0===se||void 0===Be)&&Se(j,this.length-8);const qe=(se<<24)+65536*this[++j]+256*this[++j]+this[++j];return(BigInt(qe)<<BigInt(32))+BigInt(this[++j]*2**24+65536*this[++j]+256*this[++j]+Be)}),d.prototype.readFloatLE=function(j,se){return j>>>=0,se||Le(j,4,this.length),_.read(this,j,!0,23,4)},d.prototype.readFloatBE=function(j,se){return j>>>=0,se||Le(j,4,this.length),_.read(this,j,!1,23,4)},d.prototype.readDoubleLE=function(j,se){return j>>>=0,se||Le(j,8,this.length),_.read(this,j,!0,52,8)},d.prototype.readDoubleBE=function(j,se){return j>>>=0,se||Le(j,8,this.length),_.read(this,j,!1,52,8)},d.prototype.writeUintLE=d.prototype.writeUIntLE=function(j,se,Be,qe){j=+j,se>>>=0,Be>>>=0,qe||Ae(this,j,se,Be,Math.pow(2,8*Be)-1,0);let ht=1,Ft=0;for(this[se]=255&j;++Ft<Be&&(ht*=256);)this[se+Ft]=j/ht&255;return se+Be},d.prototype.writeUintBE=d.prototype.writeUIntBE=function(j,se,Be,qe){j=+j,se>>>=0,Be>>>=0,qe||Ae(this,j,se,Be,Math.pow(2,8*Be)-1,0);let ht=Be-1,Ft=1;for(this[se+ht]=255&j;--ht>=0&&(Ft*=256);)this[se+ht]=j/Ft&255;return se+Be},d.prototype.writeUint8=d.prototype.writeUInt8=function(j,se,Be){return j=+j,se>>>=0,Be||Ae(this,j,se,1,255,0),this[se]=255&j,se+1},d.prototype.writeUint16LE=d.prototype.writeUInt16LE=function(j,se,Be){return j=+j,se>>>=0,Be||Ae(this,j,se,2,65535,0),this[se]=255&j,this[se+1]=j>>>8,se+2},d.prototype.writeUint16BE=d.prototype.writeUInt16BE=function(j,se,Be){return j=+j,se>>>=0,Be||Ae(this,j,se,2,65535,0),this[se]=j>>>8,this[se+1]=255&j,se+2},d.prototype.writeUint32LE=d.prototype.writeUInt32LE=function(j,se,Be){return j=+j,se>>>=0,Be||Ae(this,j,se,4,4294967295,0),this[se+3]=j>>>24,this[se+2]=j>>>16,this[se+1]=j>>>8,this[se]=255&j,se+4},d.prototype.writeUint32BE=d.prototype.writeUInt32BE=function(j,se,Be){return j=+j,se>>>=0,Be||Ae(this,j,se,4,4294967295,0),this[se]=j>>>24,this[se+1]=j>>>16,this[se+2]=j>>>8,this[se+3]=255&j,se+4},d.prototype.writeBigUInt64LE=Nt(function(j,se=0){return st(this,j,se,BigInt(0),BigInt("0xffffffffffffffff"))}),d.prototype.writeBigUInt64BE=Nt(function(j,se=0){return Fe(this,j,se,BigInt(0),BigInt("0xffffffffffffffff"))}),d.prototype.writeIntLE=function(j,se,Be,qe){if(j=+j,se>>>=0,!qe){const un=Math.pow(2,8*Be-1);Ae(this,j,se,Be,un-1,-un)}let ht=0,Ft=1,on=0;for(this[se]=255&j;++ht<Be&&(Ft*=256);)j<0&&0===on&&0!==this[se+ht-1]&&(on=1),this[se+ht]=(j/Ft|0)-on&255;return se+Be},d.prototype.writeIntBE=function(j,se,Be,qe){if(j=+j,se>>>=0,!qe){const un=Math.pow(2,8*Be-1);Ae(this,j,se,Be,un-1,-un)}let ht=Be-1,Ft=1,on=0;for(this[se+ht]=255&j;--ht>=0&&(Ft*=256);)j<0&&0===on&&0!==this[se+ht+1]&&(on=1),this[se+ht]=(j/Ft|0)-on&255;return se+Be},d.prototype.writeInt8=function(j,se,Be){return j=+j,se>>>=0,Be||Ae(this,j,se,1,127,-128),j<0&&(j=255+j+1),this[se]=255&j,se+1},d.prototype.writeInt16LE=function(j,se,Be){return j=+j,se>>>=0,Be||Ae(this,j,se,2,32767,-32768),this[se]=255&j,this[se+1]=j>>>8,se+2},d.prototype.writeInt16BE=function(j,se,Be){return j=+j,se>>>=0,Be||Ae(this,j,se,2,32767,-32768),this[se]=j>>>8,this[se+1]=255&j,se+2},d.prototype.writeInt32LE=function(j,se,Be){return j=+j,se>>>=0,Be||Ae(this,j,se,4,2147483647,-2147483648),this[se]=255&j,this[se+1]=j>>>8,this[se+2]=j>>>16,this[se+3]=j>>>24,se+4},d.prototype.writeInt32BE=function(j,se,Be){return j=+j,se>>>=0,Be||Ae(this,j,se,4,2147483647,-2147483648),j<0&&(j=4294967295+j+1),this[se]=j>>>24,this[se+1]=j>>>16,this[se+2]=j>>>8,this[se+3]=255&j,se+4},d.prototype.writeBigInt64LE=Nt(function(j,se=0){return st(this,j,se,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),d.prototype.writeBigInt64BE=Nt(function(j,se=0){return Fe(this,j,se,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),d.prototype.writeFloatLE=function(j,se,Be){return Ye(this,j,se,!0,Be)},d.prototype.writeFloatBE=function(j,se,Be){return Ye(this,j,se,!1,Be)},d.prototype.writeDoubleLE=function(j,se,Be){return zt(this,j,se,!0,Be)},d.prototype.writeDoubleBE=function(j,se,Be){return zt(this,j,se,!1,Be)},d.prototype.copy=function(j,se,Be,qe){if(!d.isBuffer(j))throw new TypeError("argument should be a Buffer");if(Be||(Be=0),!qe&&0!==qe&&(qe=this.length),se>=j.length&&(se=j.length),se||(se=0),qe>0&&qe<Be&&(qe=Be),qe===Be||0===j.length||0===this.length)return 0;if(se<0)throw new RangeError("targetStart out of bounds");if(Be<0||Be>=this.length)throw new RangeError("Index out of range");if(qe<0)throw new RangeError("sourceEnd out of bounds");qe>this.length&&(qe=this.length),j.length-se<qe-Be&&(qe=j.length-se+Be);const ht=qe-Be;return this===j&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(se,Be,qe):Uint8Array.prototype.set.call(j,this.subarray(Be,qe),se),ht},d.prototype.fill=function(j,se,Be,qe){if("string"==typeof j){if("string"==typeof se?(qe=se,se=0,Be=this.length):"string"==typeof Be&&(qe=Be,Be=this.length),void 0!==qe&&"string"!=typeof qe)throw new TypeError("encoding must be a string");if("string"==typeof qe&&!d.isEncoding(qe))throw new TypeError("Unknown encoding: "+qe);if(1===j.length){const Ft=j.charCodeAt(0);("utf8"===qe&&Ft<128||"latin1"===qe)&&(j=Ft)}}else"number"==typeof j?j&=255:"boolean"==typeof j&&(j=Number(j));if(se<0||this.length<se||this.length<Be)throw new RangeError("Out of range index");if(Be<=se)return this;let ht;if(se>>>=0,Be=void 0===Be?this.length:Be>>>0,j||(j=0),"number"==typeof j)for(ht=se;ht<Be;++ht)this[ht]=j;else{const Ft=d.isBuffer(j)?j:d.from(j,qe),on=Ft.length;if(0===on)throw new TypeError('The value "'+j+'" is invalid for argument "value"');for(ht=0;ht<Be-se;++ht)this[ht+se]=Ft[ht%on]}return this};const Lt={};function Et(ae,j,se){Lt[ae]=class extends se{constructor(){super(),Object.defineProperty(this,"message",{value:j.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${ae}]`,delete this.name}get code(){return ae}set code(qe){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:qe,writable:!0})}toString(){return`${this.name} [${ae}]: ${this.message}`}}}function _t(ae){let j="",se=ae.length;const Be="-"===ae[0]?1:0;for(;se>=Be+4;se-=3)j=`_${ae.slice(se-3,se)}${j}`;return`${ae.slice(0,se)}${j}`}function X(ae,j,se,Be,qe,ht){if(ae>se||ae<j){const Ft="bigint"==typeof j?"n":"";let on;throw on=ht>3?0===j||j===BigInt(0)?`>= 0${Ft} and < 2${Ft} ** ${8*(ht+1)}${Ft}`:`>= -(2${Ft} ** ${8*(ht+1)-1}${Ft}) and < 2 ** ${8*(ht+1)-1}${Ft}`:`>= ${j}${Ft} and <= ${se}${Ft}`,new Lt.ERR_OUT_OF_RANGE("value",on,ae)}!function J(ae,j,se){q(j,"offset"),(void 0===ae[j]||void 0===ae[j+se])&&Se(j,ae.length-(se+1))}(Be,qe,ht)}function q(ae,j){if("number"!=typeof ae)throw new Lt.ERR_INVALID_ARG_TYPE(j,"number",ae)}function Se(ae,j,se){throw Math.floor(ae)!==ae?(q(ae,se),new Lt.ERR_OUT_OF_RANGE(se||"offset","an integer",ae)):j<0?new Lt.ERR_BUFFER_OUT_OF_BOUNDS:new Lt.ERR_OUT_OF_RANGE(se||"offset",`>= ${se?1:0} and <= ${j}`,ae)}Et("ERR_BUFFER_OUT_OF_BOUNDS",function(ae){return ae?`${ae} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Et("ERR_INVALID_ARG_TYPE",function(ae,j){return`The "${ae}" argument must be of type number. Received type ${typeof j}`},TypeError),Et("ERR_OUT_OF_RANGE",function(ae,j,se){let Be=`The value of "${ae}" is out of range.`,qe=se;return Number.isInteger(se)&&Math.abs(se)>2**32?qe=_t(String(se)):"bigint"==typeof se&&(qe=String(se),(se>BigInt(2)**BigInt(32)||se<-(BigInt(2)**BigInt(32)))&&(qe=_t(qe)),qe+="n"),Be+=` It must be ${j}. Received ${qe}`,Be},RangeError);const Ee=/[^+/0-9A-Za-z-_]/g;function Ue(ae,j){let se;j=j||1/0;const Be=ae.length;let qe=null;const ht=[];for(let Ft=0;Ft<Be;++Ft){if(se=ae.charCodeAt(Ft),se>55295&&se<57344){if(!qe){if(se>56319){(j-=3)>-1&&ht.push(239,191,189);continue}if(Ft+1===Be){(j-=3)>-1&&ht.push(239,191,189);continue}qe=se;continue}if(se<56320){(j-=3)>-1&&ht.push(239,191,189),qe=se;continue}se=65536+(qe-55296<<10|se-56320)}else qe&&(j-=3)>-1&&ht.push(239,191,189);if(qe=null,se<128){if((j-=1)<0)break;ht.push(se)}else if(se<2048){if((j-=2)<0)break;ht.push(se>>6|192,63&se|128)}else if(se<65536){if((j-=3)<0)break;ht.push(se>>12|224,se>>6&63|128,63&se|128)}else{if(!(se<1114112))throw new Error("Invalid code point");if((j-=4)<0)break;ht.push(se>>18|240,se>>12&63|128,se>>6&63|128,63&se|128)}}return ht}function pt(ae){return e.toByteArray(function lt(ae){if((ae=(ae=ae.split("=")[0]).trim().replace(Ee,"")).length<2)return"";for(;ae.length%4!=0;)ae+="=";return ae}(ae))}function it(ae,j,se,Be){let qe;for(qe=0;qe<Be&&!(qe+se>=j.length||qe>=ae.length);++qe)j[qe+se]=ae[qe];return qe}function Ht(ae,j){return ae instanceof j||null!=ae&&null!=ae.constructor&&null!=ae.constructor.name&&ae.constructor.name===j.name}function en(ae){return ae!=ae}const rt=function(){const ae="0123456789abcdef",j=new Array(256);for(let se=0;se<16;++se){const Be=16*se;for(let qe=0;qe<16;++qe)j[Be+qe]=ae[se]+ae[qe]}return j}();function Nt(ae){return typeof BigInt>"u"?ve:ae}function ve(){throw new Error("BigInt not supported")}},2020:(et,me)=>{me.read=function(u,i,e,_,g){var S,v,f=8*g-_-1,d=(1<<f)-1,E=d>>1,m=-7,F=e?g-1:0,w=e?-1:1,C=u[i+F];for(F+=w,S=C&(1<<-m)-1,C>>=-m,m+=f;m>0;S=256*S+u[i+F],F+=w,m-=8);for(v=S&(1<<-m)-1,S>>=-m,m+=_;m>0;v=256*v+u[i+F],F+=w,m-=8);if(0===S)S=1-E;else{if(S===d)return v?NaN:1/0*(C?-1:1);v+=Math.pow(2,_),S-=E}return(C?-1:1)*v*Math.pow(2,S-_)},me.write=function(u,i,e,_,g,S){var v,f,d,E=8*S-g-1,m=(1<<E)-1,F=m>>1,w=23===g?Math.pow(2,-24)-Math.pow(2,-77):0,C=_?0:S-1,R=_?1:-1,k=i<0||0===i&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(f=isNaN(i)?1:0,v=m):(v=Math.floor(Math.log(i)/Math.LN2),i*(d=Math.pow(2,-v))<1&&(v--,d*=2),(i+=v+F>=1?w/d:w*Math.pow(2,1-F))*d>=2&&(v++,d/=2),v+F>=m?(f=0,v=m):v+F>=1?(f=(i*d-1)*Math.pow(2,g),v+=F):(f=i*Math.pow(2,F-1)*Math.pow(2,g),v=0));g>=8;u[e+C]=255&f,C+=R,f/=256,g-=8);for(v=v<<g|f,E+=g;E>0;u[e+C]=255&v,C+=R,v/=256,E-=8);u[e+C-R]|=128*k}},57:(et,me,u)=>{var i=u(6589);function e(R,k){i.cipher.registerAlgorithm(R,function(){return new i.aes.Algorithm(R,k)})}u(5855),u(8580),u(812),et.exports=i.aes=i.aes||{},i.aes.startEncrypting=function(R,k,O,H){var x=C({key:R,output:O,decrypt:!1,mode:H});return x.start(k),x},i.aes.createEncryptionCipher=function(R,k){return C({key:R,output:null,decrypt:!1,mode:k})},i.aes.startDecrypting=function(R,k,O,H){var x=C({key:R,output:O,decrypt:!0,mode:H});return x.start(k),x},i.aes.createDecryptionCipher=function(R,k){return C({key:R,output:null,decrypt:!0,mode:k})},i.aes.Algorithm=function(R,k){_||m();var O=this;O.name=R,O.mode=new k({blockSize:16,cipher:{encrypt:function(H,x){return w(O._w,H,x,!1)},decrypt:function(H,x){return w(O._w,H,x,!0)}}}),O._init=!1},i.aes.Algorithm.prototype.initialize=function(R){if(!this._init){var O,k=R.key;if("string"!=typeof k||16!==k.length&&24!==k.length&&32!==k.length){if(i.util.isArray(k)&&(16===k.length||24===k.length||32===k.length)){O=k,k=i.util.createBuffer();for(var H=0;H<O.length;++H)k.putByte(O[H])}}else k=i.util.createBuffer(k);if(!i.util.isArray(k)){O=k,k=[];var x=O.length();if(16===x||24===x||32===x)for(x>>>=2,H=0;H<x;++H)k.push(O.getInt32())}if(!i.util.isArray(k)||4!==k.length&&6!==k.length&&8!==k.length)throw new Error("Invalid key parameter.");var U=-1!==["CFB","OFB","CTR","GCM"].indexOf(this.mode.name);this._w=F(k,R.decrypt&&!U),this._init=!0}},i.aes._expandKey=function(R,k){return _||m(),F(R,k)},i.aes._updateBlock=w,e("AES-ECB",i.cipher.modes.ecb),e("AES-CBC",i.cipher.modes.cbc),e("AES-CFB",i.cipher.modes.cfb),e("AES-OFB",i.cipher.modes.ofb),e("AES-CTR",i.cipher.modes.ctr),e("AES-GCM",i.cipher.modes.gcm);var S,v,f,d,E,_=!1,g=4;function m(){_=!0,f=[0,1,2,4,8,16,32,64,128,27,54];for(var R=new Array(256),k=0;k<128;++k)R[k]=k<<1,R[k+128]=k+128<<1^283;for(S=new Array(256),v=new Array(256),d=new Array(4),E=new Array(4),k=0;k<4;++k)d[k]=new Array(256),E[k]=new Array(256);var x,$,U,G,ie,le,L,O=0,H=0;for(k=0;k<256;++k){S[O]=G=(G=H^H<<1^H<<2^H<<3^H<<4)>>8^255&G^99,v[G]=O,le=(ie=R[G])<<24^G<<16^G<<8^G^ie,L=((x=R[O])^($=R[x])^(U=R[$]))<<24^(O^U)<<16^(O^$^U)<<8^O^x^U;for(var Q=0;Q<4;++Q)d[Q][O]=le,E[Q][G]=L,le=le<<24|le>>>8,L=L<<24|L>>>8;0===O?O=H=1:(O=x^R[R[R[x^U]]],H^=R[R[H]])}}function F(R,k){for(var H,O=R.slice(0),x=1,$=O.length,G=g*($+6+1),ie=$;ie<G;++ie)H=O[ie-1],ie%$==0?(H=S[H>>>16&255]<<24^S[H>>>8&255]<<16^S[255&H]<<8^S[H>>>24]^f[x]<<24,x++):$>6&&ie%$==4&&(H=S[H>>>24]<<24^S[H>>>16&255]<<16^S[H>>>8&255]<<8^S[255&H]),O[ie]=O[ie-$]^H;if(k){for(var le,L=E[0],Q=E[1],te=E[2],I=E[3],oe=O.slice(0),Y=(ie=0,(G=O.length)-g);ie<G;ie+=g,Y-=g)if(0===ie||ie===G-g)oe[ie]=O[Y],oe[ie+1]=O[Y+3],oe[ie+2]=O[Y+2],oe[ie+3]=O[Y+1];else for(var _e=0;_e<g;++_e)oe[ie+(3&-_e)]=L[S[(le=O[Y+_e])>>>24]]^Q[S[le>>>16&255]]^te[S[le>>>8&255]]^I[S[255&le]];O=oe}return O}function w(R,k,O,H){var $,U,G,ie,le,L,Q,te,I,oe,Y,_e,x=R.length/4-1;H?($=E[0],U=E[1],G=E[2],ie=E[3],le=v):($=d[0],U=d[1],G=d[2],ie=d[3],le=S),L=k[0]^R[0],Q=k[H?3:1]^R[1],te=k[2]^R[2],I=k[H?1:3]^R[3];for(var Oe=3,Re=1;Re<x;++Re)oe=$[L>>>24]^U[Q>>>16&255]^G[te>>>8&255]^ie[255&I]^R[++Oe],Y=$[Q>>>24]^U[te>>>16&255]^G[I>>>8&255]^ie[255&L]^R[++Oe],_e=$[te>>>24]^U[I>>>16&255]^G[L>>>8&255]^ie[255&Q]^R[++Oe],I=$[I>>>24]^U[L>>>16&255]^G[Q>>>8&255]^ie[255&te]^R[++Oe],L=oe,Q=Y,te=_e;O[0]=le[L>>>24]<<24^le[Q>>>16&255]<<16^le[te>>>8&255]<<8^le[255&I]^R[++Oe],O[H?3:1]=le[Q>>>24]<<24^le[te>>>16&255]<<16^le[I>>>8&255]<<8^le[255&L]^R[++Oe],O[2]=le[te>>>24]<<24^le[I>>>16&255]<<16^le[L>>>8&255]<<8^le[255&Q]^R[++Oe],O[H?1:3]=le[I>>>24]<<24^le[L>>>16&255]<<16^le[Q>>>8&255]<<8^le[255&te]^R[++Oe]}function C(R){var H,O="AES-"+((R=R||{}).mode||"CBC").toUpperCase(),x=(H=R.decrypt?i.cipher.createDecipher(O,R.key):i.cipher.createCipher(O,R.key)).start;return H.start=function($,U){var G=null;U instanceof i.util.ByteBuffer&&(G=U,U={}),(U=U||{}).output=G,U.iv=$,x.call(H,U)},H}},3707:(et,me,u)=>{var i=u(6589);u(57),u(9807);var e=et.exports=i.tls;function _(E,m,F){var w=m.entity===i.tls.ConnectionEnd.client;E.read.cipherState={init:!1,cipher:i.cipher.createDecipher("AES-CBC",w?F.keys.server_write_key:F.keys.client_write_key),iv:w?F.keys.server_write_IV:F.keys.client_write_IV},E.write.cipherState={init:!1,cipher:i.cipher.createCipher("AES-CBC",w?F.keys.client_write_key:F.keys.server_write_key),iv:w?F.keys.client_write_IV:F.keys.server_write_IV},E.read.cipherFunction=f,E.write.cipherFunction=g,E.read.macLength=E.write.macLength=F.mac_length,E.read.macFunction=E.write.macFunction=e.hmac_sha1}function g(E,m){var C,F=!1,w=m.macFunction(m.macKey,m.sequenceNumber,E);E.fragment.putBytes(w),m.updateSequenceNumber(),C=E.version.minor===e.Versions.TLS_1_0.minor?m.cipherState.init?null:m.cipherState.iv:i.random.getBytesSync(16),m.cipherState.init=!0;var R=m.cipherState.cipher;return R.start({iv:C}),E.version.minor>=e.Versions.TLS_1_1.minor&&R.output.putBytes(C),R.update(E.fragment),R.finish(S)&&(E.fragment=R.output,E.length=E.fragment.length(),F=!0),F}function S(E,m,F){if(!F){var w=E-m.length()%E;m.fillWithByte(w-1,w)}return!0}function v(E,m,F){var w=!0;if(F){for(var C=m.length(),R=m.last(),k=C-1-R;k<C-1;++k)w=w&&m.at(k)==R;w&&m.truncate(R+1)}return w}function f(E,m){var w,F=!1;w=E.version.minor===e.Versions.TLS_1_0.minor?m.cipherState.init?null:m.cipherState.iv:E.fragment.getBytes(16),m.cipherState.init=!0;var C=m.cipherState.cipher;C.start({iv:w}),C.update(E.fragment),F=C.finish(v);var R=m.macLength,k=i.random.getBytesSync(R),O=C.output.length();O>=R?(E.fragment=C.output.getBytes(O-R),k=C.output.getBytes(R)):E.fragment=C.output.getBytes(),E.fragment=i.util.createBuffer(E.fragment),E.length=E.fragment.length();var H=m.macFunction(m.macKey,m.sequenceNumber,E);return m.updateSequenceNumber(),F=function d(E,m,F){var w=i.hmac.create();return w.start("SHA1",E),w.update(m),m=w.digest().getBytes(),w.start(null,null),w.update(F),m===(F=w.digest().getBytes())}(m.macKey,k,H)&&F,F}e.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:function(E){E.bulk_cipher_algorithm=e.BulkCipherAlgorithm.aes,E.cipher_type=e.CipherType.block,E.enc_key_length=16,E.block_length=16,E.fixed_iv_length=16,E.record_iv_length=16,E.mac_algorithm=e.MACAlgorithm.hmac_sha1,E.mac_length=20,E.mac_key_length=20},initConnectionState:_},e.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:function(E){E.bulk_cipher_algorithm=e.BulkCipherAlgorithm.aes,E.cipher_type=e.CipherType.block,E.enc_key_length=32,E.block_length=16,E.fixed_iv_length=16,E.record_iv_length=16,E.mac_algorithm=e.MACAlgorithm.hmac_sha1,E.mac_length=20,E.mac_key_length=20},initConnectionState:_}},2758:(et,me,u)=>{var i=u(6589);u(7097);var e=i.asn1;me.privateKeyValidator={name:"PrivateKeyInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},me.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:e.Class.UNIVERSAL,type:e.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]}},7097:(et,me,u)=>{var i=u(6589);u(812),u(1817);var e=et.exports=i.asn1=i.asn1||{};function _(f,d,E){if(E>d){var m=new Error("Too few bytes to parse DER.");throw m.available=f.length(),m.remaining=d,m.requested=E,m}}function S(f,d,E,m){var F;_(f,d,2);var w=f.getByte();d--;var C=192&w,R=31&w;F=f.length();var k=function(f,d){var E=f.getByte();if(d--,128!==E){var m;if(128&E){var w=127&E;_(f,d,w),m=f.getInt(w<<3)}else m=E;if(m<0)throw new Error("Negative length: "+m);return m}}(f,d);if(d-=F-f.length(),void 0!==k&&k>d){if(m.strict){var O=new Error("Too few bytes to read ASN.1 value.");throw O.available=f.length(),O.remaining=d,O.requested=k,O}k=d}var H,x,$=!(32&~w);if($)if(H=[],void 0===k)for(;;){if(_(f,d,2),"\0\0"===f.bytes(2)){f.getBytes(2),d-=2;break}F=f.length(),H.push(S(f,d,E+1,m)),d-=F-f.length()}else for(;k>0;)F=f.length(),H.push(S(f,k,E+1,m)),d-=F-f.length(),k-=F-f.length();if(void 0===H&&C===e.Class.UNIVERSAL&&R===e.Type.BITSTRING&&(x=f.bytes(k)),void 0===H&&m.decodeBitStrings&&C===e.Class.UNIVERSAL&&R===e.Type.BITSTRING&&k>1){var U=f.read,G=d,ie=0;if(R===e.Type.BITSTRING&&(_(f,d,1),ie=f.getByte(),d--),0===ie)try{F=f.length();var L=S(f,d,E+1,{strict:!0,decodeBitStrings:!0}),Q=F-f.length();d-=Q,R==e.Type.BITSTRING&&Q++;var te=L.tagClass;Q===k&&(te===e.Class.UNIVERSAL||te===e.Class.CONTEXT_SPECIFIC)&&(H=[L])}catch{}void 0===H&&(f.read=U,d=G)}if(void 0===H){if(void 0===k){if(m.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");k=d}if(R===e.Type.BMPSTRING)for(H="";k>0;k-=2)_(f,d,2),H+=String.fromCharCode(f.getInt16()),d-=2;else H=f.getBytes(k),d-=k}return e.create(C,R,$,H,void 0===x?null:{bitStringContents:x})}e.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192},e.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30},e.create=function(f,d,E,m,F){if(i.util.isArray(m)){for(var w=[],C=0;C<m.length;++C)void 0!==m[C]&&w.push(m[C]);m=w}var R={tagClass:f,type:d,constructed:E,composed:E||i.util.isArray(m),value:m};return F&&"bitStringContents"in F&&(R.bitStringContents=F.bitStringContents,R.original=e.copy(R)),R},e.copy=function(f,d){var E;if(i.util.isArray(f)){E=[];for(var m=0;m<f.length;++m)E.push(e.copy(f[m],d));return E}return"string"==typeof f?f:(E={tagClass:f.tagClass,type:f.type,constructed:f.constructed,composed:f.composed,value:e.copy(f.value,d)},d&&!d.excludeBitStringContents&&(E.bitStringContents=f.bitStringContents),E)},e.equals=function(f,d,E){if(i.util.isArray(f)){if(!i.util.isArray(d)||f.length!==d.length)return!1;for(var m=0;m<f.length;++m)if(!e.equals(f[m],d[m]))return!1;return!0}if(typeof f!=typeof d)return!1;if("string"==typeof f)return f===d;var F=f.tagClass===d.tagClass&&f.type===d.type&&f.constructed===d.constructed&&f.composed===d.composed&&e.equals(f.value,d.value);return E&&E.includeBitStringContents&&(F=F&&f.bitStringContents===d.bitStringContents),F},e.getBerValueLength=function(f){var d=f.getByte();if(128!==d)return 128&d?f.getInt((127&d)<<3):d},e.fromDer=function(f,d){void 0===d&&(d={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),"boolean"==typeof d&&(d={strict:d,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in d||(d.strict=!0),"parseAllBytes"in d||(d.parseAllBytes=!0),"decodeBitStrings"in d||(d.decodeBitStrings=!0),"string"==typeof f&&(f=i.util.createBuffer(f));var E=f.length(),m=S(f,f.length(),0,d);if(d.parseAllBytes&&0!==f.length()){var F=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw F.byteCount=E,F.remaining=f.length(),F}return m},e.toDer=function(f){var d=i.util.createBuffer(),E=f.tagClass|f.type,m=i.util.createBuffer(),F=!1;if("bitStringContents"in f&&(F=!0,f.original&&(F=e.equals(f,f.original))),F)m.putBytes(f.bitStringContents);else if(f.composed){f.constructed?E|=32:m.putByte(0);for(var w=0;w<f.value.length;++w)void 0!==f.value[w]&&m.putBuffer(e.toDer(f.value[w]))}else if(f.type===e.Type.BMPSTRING)for(w=0;w<f.value.length;++w)m.putInt16(f.value.charCodeAt(w));else!(f.type===e.Type.INTEGER&&f.value.length>1)||(0!==f.value.charCodeAt(0)||128&f.value.charCodeAt(1))&&(255!==f.value.charCodeAt(0)||128&~f.value.charCodeAt(1))?m.putBytes(f.value):m.putBytes(f.value.substr(1));if(d.putByte(E),m.length()<=127)d.putByte(127&m.length());else{var C=m.length(),R="";do{R+=String.fromCharCode(255&C),C>>>=8}while(C>0);for(d.putByte(128|R.length),w=R.length-1;w>=0;--w)d.putByte(R.charCodeAt(w))}return d.putBuffer(m),d},e.oidToDer=function(f){var d=f.split("."),E=i.util.createBuffer();E.putByte(40*parseInt(d[0],10)+parseInt(d[1],10));for(var m,F,w,C,R=2;R<d.length;++R){m=!0,F=[],w=parseInt(d[R],10);do{C=127&w,w>>>=7,m||(C|=128),F.push(C),m=!1}while(w>0);for(var k=F.length-1;k>=0;--k)E.putByte(F[k])}return E},e.derToOid=function(f){var d;"string"==typeof f&&(f=i.util.createBuffer(f));var E=f.getByte();d=Math.floor(E/40)+"."+E%40;for(var m=0;f.length()>0;)m<<=7,128&(E=f.getByte())?m+=127&E:(d+="."+(m+E),m=0);return d},e.utcTimeToDate=function(f){var d=new Date,E=parseInt(f.substr(0,2),10);E=E>=50?1900+E:2e3+E;var m=parseInt(f.substr(2,2),10)-1,F=parseInt(f.substr(4,2),10),w=parseInt(f.substr(6,2),10),C=parseInt(f.substr(8,2),10),R=0;if(f.length>11){var k=f.charAt(10),O=10;"+"!==k&&"-"!==k&&(R=parseInt(f.substr(10,2),10),O+=2)}if(d.setUTCFullYear(E,m,F),d.setUTCHours(w,C,R,0),O&&("+"===(k=f.charAt(O))||"-"===k)){var $=60*parseInt(f.substr(O+1,2),10)+parseInt(f.substr(O+4,2),10);$*=6e4,d.setTime("+"===k?+d-$:+d+$)}return d},e.generalizedTimeToDate=function(f){var d=new Date,E=parseInt(f.substr(0,4),10),m=parseInt(f.substr(4,2),10)-1,F=parseInt(f.substr(6,2),10),w=parseInt(f.substr(8,2),10),C=parseInt(f.substr(10,2),10),R=parseInt(f.substr(12,2),10),k=0,O=0,H=!1;"Z"===f.charAt(f.length-1)&&(H=!0);var x=f.length-5,$=f.charAt(x);return"+"!==$&&"-"!==$||(O=60*parseInt(f.substr(x+1,2),10)+parseInt(f.substr(x+4,2),10),O*=6e4,"+"===$&&(O*=-1),H=!0),"."===f.charAt(14)&&(k=1e3*parseFloat(f.substr(14),10)),H?(d.setUTCFullYear(E,m,F),d.setUTCHours(w,C,R,k),d.setTime(+d+O)):(d.setFullYear(E,m,F),d.setHours(w,C,R,k)),d},e.dateToUtcTime=function(f){if("string"==typeof f)return f;var d="",E=[];E.push((""+f.getUTCFullYear()).substr(2)),E.push(""+(f.getUTCMonth()+1)),E.push(""+f.getUTCDate()),E.push(""+f.getUTCHours()),E.push(""+f.getUTCMinutes()),E.push(""+f.getUTCSeconds());for(var m=0;m<E.length;++m)E[m].length<2&&(d+="0"),d+=E[m];return d+"Z"},e.dateToGeneralizedTime=function(f){if("string"==typeof f)return f;var d="",E=[];E.push(""+f.getUTCFullYear()),E.push(""+(f.getUTCMonth()+1)),E.push(""+f.getUTCDate()),E.push(""+f.getUTCHours()),E.push(""+f.getUTCMinutes()),E.push(""+f.getUTCSeconds());for(var m=0;m<E.length;++m)E[m].length<2&&(d+="0"),d+=E[m];return d+"Z"},e.integerToDer=function(f){var d=i.util.createBuffer();if(f>=-128&&f<128)return d.putSignedInt(f,8);if(f>=-32768&&f<32768)return d.putSignedInt(f,16);if(f>=-8388608&&f<8388608)return d.putSignedInt(f,24);if(f>=-2147483648&&f<2147483648)return d.putSignedInt(f,32);var E=new Error("Integer too large; max is 32-bits.");throw E.integer=f,E},e.derToInteger=function(f){"string"==typeof f&&(f=i.util.createBuffer(f));var d=8*f.length();if(d>32)throw new Error("Integer too large; max is 32-bits.");return f.getSignedInt(d)},e.validate=function(f,d,E,m){var F=!1;if((f.tagClass===d.tagClass||typeof d.tagClass>"u")&&(f.type===d.type||typeof d.type>"u"))if(f.constructed===d.constructed||typeof d.constructed>"u"){if(F=!0,d.value&&i.util.isArray(d.value))for(var w=0,C=0;F&&C<d.value.length;++C)F=d.value[C].optional||!1,f.value[w]&&((F=e.validate(f.value[w],d.value[C],E,m))?++w:d.value[C].optional&&(F=!0)),!F&&m&&m.push("["+d.name+'] Tag class "'+d.tagClass+'", type "'+d.type+'" expected value length "'+d.value.length+'", got "'+f.value.length+'"');if(F&&E&&(d.capture&&(E[d.capture]=f.value),d.captureAsn1&&(E[d.captureAsn1]=f),d.captureBitStringContents&&"bitStringContents"in f&&(E[d.captureBitStringContents]=f.bitStringContents),d.captureBitStringValue&&"bitStringContents"in f))if(f.bitStringContents.length<2)E[d.captureBitStringValue]="";else{if(0!==f.bitStringContents.charCodeAt(0))throw new Error("captureBitStringValue only supported for zero unused bits");E[d.captureBitStringValue]=f.bitStringContents.slice(1)}}else m&&m.push("["+d.name+'] Expected constructed "'+d.constructed+'", got "'+f.constructed+'"');else m&&(f.tagClass!==d.tagClass&&m.push("["+d.name+'] Expected tag class "'+d.tagClass+'", got "'+f.tagClass+'"'),f.type!==d.type&&m.push("["+d.name+'] Expected type "'+d.type+'", got "'+f.type+'"'));return F};var v=/[^\\u0000-\\u00ff]/;e.prettyPrint=function(f,d,E){var m="";E=E||2,(d=d||0)>0&&(m+="\n");for(var F="",w=0;w<d*E;++w)F+=" ";switch(m+=F+"Tag: ",f.tagClass){case e.Class.UNIVERSAL:m+="Universal:";break;case e.Class.APPLICATION:m+="Application:";break;case e.Class.CONTEXT_SPECIFIC:m+="Context-Specific:";break;case e.Class.PRIVATE:m+="Private:"}if(f.tagClass===e.Class.UNIVERSAL)switch(m+=f.type,f.type){case e.Type.NONE:m+=" (None)";break;case e.Type.BOOLEAN:m+=" (Boolean)";break;case e.Type.INTEGER:m+=" (Integer)";break;case e.Type.BITSTRING:m+=" (Bit string)";break;case e.Type.OCTETSTRING:m+=" (Octet string)";break;case e.Type.NULL:m+=" (Null)";break;case e.Type.OID:m+=" (Object Identifier)";break;case e.Type.ODESC:m+=" (Object Descriptor)";break;case e.Type.EXTERNAL:m+=" (External or Instance of)";break;case e.Type.REAL:m+=" (Real)";break;case e.Type.ENUMERATED:m+=" (Enumerated)";break;case e.Type.EMBEDDED:m+=" (Embedded PDV)";break;case e.Type.UTF8:m+=" (UTF8)";break;case e.Type.ROID:m+=" (Relative Object Identifier)";break;case e.Type.SEQUENCE:m+=" (Sequence)";break;case e.Type.SET:m+=" (Set)";break;case e.Type.PRINTABLESTRING:m+=" (Printable String)";break;case e.Type.IA5String:m+=" (IA5String (ASCII))";break;case e.Type.UTCTIME:m+=" (UTC time)";break;case e.Type.GENERALIZEDTIME:m+=" (Generalized time)";break;case e.Type.BMPSTRING:m+=" (BMP String)"}else m+=f.type;if(m+="\n",m+=F+"Constructed: "+f.constructed+"\n",f.composed){var C=0,R="";for(w=0;w<f.value.length;++w)void 0!==f.value[w]&&(C+=1,R+=e.prettyPrint(f.value[w],d+1,E),w+1<f.value.length&&(R+=","));m+=F+"Sub values: "+C+R}else{if(m+=F+"Value: ",f.type===e.Type.OID){var k=e.derToOid(f.value);m+=k,i.pki&&i.pki.oids&&k in i.pki.oids&&(m+=" ("+i.pki.oids[k]+") ")}if(f.type===e.Type.INTEGER)try{m+=e.derToInteger(f.value)}catch{m+="0x"+i.util.bytesToHex(f.value)}else if(f.type===e.Type.BITSTRING){if(m+=f.value.length>1?"0x"+i.util.bytesToHex(f.value.slice(1)):"(none)",f.value.length>0){var O=f.value.charCodeAt(0);1==O?m+=" (1 unused bit shown)":O>1&&(m+=" ("+O+" unused bits shown)")}}else if(f.type===e.Type.OCTETSTRING)v.test(f.value)||(m+="("+f.value+") "),m+="0x"+i.util.bytesToHex(f.value);else if(f.type===e.Type.UTF8)try{m+=i.util.decodeUtf8(f.value)}catch(H){if("URI malformed"!==H.message)throw H;m+="0x"+i.util.bytesToHex(f.value)+" (malformed UTF8)"}else f.type===e.Type.PRINTABLESTRING||f.type===e.Type.IA5String?m+=f.value:v.test(f.value)?m+="0x"+i.util.bytesToHex(f.value):m+=0===f.value.length?"[null]":f.value}return m}},3175:et=>{var me={};et.exports=me;var u={};me.encode=function(e,_,g){if("string"!=typeof _)throw new TypeError('"alphabet" must be a string.');if(void 0!==g&&"number"!=typeof g)throw new TypeError('"maxline" must be a number.');var S="";if(e instanceof Uint8Array){var v=0,f=_.length,d=_.charAt(0),E=[0];for(v=0;v<e.length;++v){for(var m=0,F=e[v];m<E.length;++m)E[m]=(F+=E[m]<<8)%f,F=F/f|0;for(;F>0;)E.push(F%f),F=F/f|0}for(v=0;0===e[v]&&v<e.length-1;++v)S+=d;for(v=E.length-1;v>=0;--v)S+=_[E[v]]}else S=function i(e,_){var g=0,S=_.length,v=_.charAt(0),f=[0];for(g=0;g<e.length();++g){for(var d=0,E=e.at(g);d<f.length;++d)f[d]=(E+=f[d]<<8)%S,E=E/S|0;for(;E>0;)f.push(E%S),E=E/S|0}var m="";for(g=0;0===e.at(g)&&g<e.length()-1;++g)m+=v;for(g=f.length-1;g>=0;--g)m+=_[f[g]];return m}(e,_);if(g){var w=new RegExp(".{1,"+g+"}","g");S=S.match(w).join("\r\n")}return S},me.decode=function(e,_){if("string"!=typeof e)throw new TypeError('"input" must be a string.');if("string"!=typeof _)throw new TypeError('"alphabet" must be a string.');var g=u[_];if(!g){g=u[_]=[];for(var S=0;S<_.length;++S)g[_.charCodeAt(S)]=S}e=e.replace(/\s/g,"");var v=_.length,f=_.charAt(0),d=[0];for(S=0;S<e.length;S++){var E=g[e.charCodeAt(S)];if(void 0===E)return;for(var m=0,F=E;m<d.length;++m)d[m]=255&(F+=d[m]*v),F>>=8;for(;F>0;)d.push(255&F),F>>=8}for(var w=0;e[w]===f&&w<e.length-1;++w)d.push(0);return typeof Buffer<"u"?Buffer.from(d.reverse()):new Uint8Array(d.reverse())}},5855:(et,me,u)=>{var i=u(6589);u(812),et.exports=i.cipher=i.cipher||{},i.cipher.algorithms=i.cipher.algorithms||{},i.cipher.createCipher=function(_,g){var S=_;if("string"==typeof S&&(S=i.cipher.getAlgorithm(S))&&(S=S()),!S)throw new Error("Unsupported algorithm: "+_);return new i.cipher.BlockCipher({algorithm:S,key:g,decrypt:!1})},i.cipher.createDecipher=function(_,g){var S=_;if("string"==typeof S&&(S=i.cipher.getAlgorithm(S))&&(S=S()),!S)throw new Error("Unsupported algorithm: "+_);return new i.cipher.BlockCipher({algorithm:S,key:g,decrypt:!0})},i.cipher.registerAlgorithm=function(_,g){_=_.toUpperCase(),i.cipher.algorithms[_]=g},i.cipher.getAlgorithm=function(_){return(_=_.toUpperCase())in i.cipher.algorithms?i.cipher.algorithms[_]:null};var e=i.cipher.BlockCipher=function(_){this.algorithm=_.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=_.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=_.decrypt,this.algorithm.initialize(_)};e.prototype.start=function(_){_=_||{};var g={};for(var S in _)g[S]=_[S];g.decrypt=this._decrypt,this._finish=!1,this._input=i.util.createBuffer(),this.output=_.output||i.util.createBuffer(),this.mode.start(g)},e.prototype.update=function(_){for(_&&this._input.putBuffer(_);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()},e.prototype.finish=function(_){_&&("ECB"===this.mode.name||"CBC"===this.mode.name)&&(this.mode.pad=function(S){return _(this.blockSize,S,!1)},this.mode.unpad=function(S){return _(this.blockSize,S,!0)});var g={};return g.decrypt=this._decrypt,g.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,g)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,g))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,g))}},8580:(et,me,u)=>{var i=u(6589);u(812),i.cipher=i.cipher||{};var e=et.exports=i.cipher.modes=i.cipher.modes||{};function _(v,f){if("string"==typeof v&&(v=i.util.createBuffer(v)),i.util.isArray(v)&&v.length>4){var d=v;v=i.util.createBuffer();for(var E=0;E<d.length;++E)v.putByte(d[E])}if(v.length()<f)throw new Error("Invalid IV length; got "+v.length()+" bytes and expected "+f+" bytes.");if(!i.util.isArray(v)){var m=[],F=f/4;for(E=0;E<F;++E)m.push(v.getInt32());v=m}return v}function g(v){v[v.length-1]=v[v.length-1]+1&4294967295}function S(v){return[v/4294967296|0,4294967295&v]}e.ecb=function(v){v=v||{},this.name="ECB",this.cipher=v.cipher,this.blockSize=v.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},e.ecb.prototype.start=function(v){},e.ecb.prototype.encrypt=function(v,f,d){if(v.length()<this.blockSize&&!(d&&v.length()>0))return!0;for(var E=0;E<this._ints;++E)this._inBlock[E]=v.getInt32();for(this.cipher.encrypt(this._inBlock,this._outBlock),E=0;E<this._ints;++E)f.putInt32(this._outBlock[E])},e.ecb.prototype.decrypt=function(v,f,d){if(v.length()<this.blockSize&&!(d&&v.length()>0))return!0;for(var E=0;E<this._ints;++E)this._inBlock[E]=v.getInt32();for(this.cipher.decrypt(this._inBlock,this._outBlock),E=0;E<this._ints;++E)f.putInt32(this._outBlock[E])},e.ecb.prototype.pad=function(v,f){var d=v.length()===this.blockSize?this.blockSize:this.blockSize-v.length();return v.fillWithByte(d,d),!0},e.ecb.prototype.unpad=function(v,f){if(f.overflow>0)return!1;var d=v.length(),E=v.at(d-1);return!(E>this.blockSize<<2||(v.truncate(E),0))},e.cbc=function(v){v=v||{},this.name="CBC",this.cipher=v.cipher,this.blockSize=v.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},e.cbc.prototype.start=function(v){if(null===v.iv){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else{if(!("iv"in v))throw new Error("Invalid IV parameter.");this._iv=_(v.iv,this.blockSize),this._prev=this._iv.slice(0)}},e.cbc.prototype.encrypt=function(v,f,d){if(v.length()<this.blockSize&&!(d&&v.length()>0))return!0;for(var E=0;E<this._ints;++E)this._inBlock[E]=this._prev[E]^v.getInt32();for(this.cipher.encrypt(this._inBlock,this._outBlock),E=0;E<this._ints;++E)f.putInt32(this._outBlock[E]);this._prev=this._outBlock},e.cbc.prototype.decrypt=function(v,f,d){if(v.length()<this.blockSize&&!(d&&v.length()>0))return!0;for(var E=0;E<this._ints;++E)this._inBlock[E]=v.getInt32();for(this.cipher.decrypt(this._inBlock,this._outBlock),E=0;E<this._ints;++E)f.putInt32(this._prev[E]^this._outBlock[E]);this._prev=this._inBlock.slice(0)},e.cbc.prototype.pad=function(v,f){var d=v.length()===this.blockSize?this.blockSize:this.blockSize-v.length();return v.fillWithByte(d,d),!0},e.cbc.prototype.unpad=function(v,f){if(f.overflow>0)return!1;var d=v.length(),E=v.at(d-1);return!(E>this.blockSize<<2||(v.truncate(E),0))},e.cfb=function(v){v=v||{},this.name="CFB",this.cipher=v.cipher,this.blockSize=v.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=i.util.createBuffer(),this._partialBytes=0},e.cfb.prototype.start=function(v){if(!("iv"in v))throw new Error("Invalid IV parameter.");this._iv=_(v.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},e.cfb.prototype.encrypt=function(v,f,d){var E=v.length();if(0===E)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&E>=this.blockSize)for(var m=0;m<this._ints;++m)this._inBlock[m]=v.getInt32()^this._outBlock[m],f.putInt32(this._inBlock[m]);else{var F=(this.blockSize-E)%this.blockSize;for(F>0&&(F=this.blockSize-F),this._partialOutput.clear(),m=0;m<this._ints;++m)this._partialBlock[m]=v.getInt32()^this._outBlock[m],this._partialOutput.putInt32(this._partialBlock[m]);if(F>0)v.read-=this.blockSize;else for(m=0;m<this._ints;++m)this._inBlock[m]=this._partialBlock[m];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),F>0&&!d)return f.putBytes(this._partialOutput.getBytes(F-this._partialBytes)),this._partialBytes=F,!0;f.putBytes(this._partialOutput.getBytes(E-this._partialBytes)),this._partialBytes=0}},e.cfb.prototype.decrypt=function(v,f,d){var E=v.length();if(0===E)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&E>=this.blockSize)for(var m=0;m<this._ints;++m)this._inBlock[m]=v.getInt32(),f.putInt32(this._inBlock[m]^this._outBlock[m]);else{var F=(this.blockSize-E)%this.blockSize;for(F>0&&(F=this.blockSize-F),this._partialOutput.clear(),m=0;m<this._ints;++m)this._partialBlock[m]=v.getInt32(),this._partialOutput.putInt32(this._partialBlock[m]^this._outBlock[m]);if(F>0)v.read-=this.blockSize;else for(m=0;m<this._ints;++m)this._inBlock[m]=this._partialBlock[m];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),F>0&&!d)return f.putBytes(this._partialOutput.getBytes(F-this._partialBytes)),this._partialBytes=F,!0;f.putBytes(this._partialOutput.getBytes(E-this._partialBytes)),this._partialBytes=0}},e.ofb=function(v){v=v||{},this.name="OFB",this.cipher=v.cipher,this.blockSize=v.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=i.util.createBuffer(),this._partialBytes=0},e.ofb.prototype.start=function(v){if(!("iv"in v))throw new Error("Invalid IV parameter.");this._iv=_(v.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},e.ofb.prototype.encrypt=function(v,f,d){var E=v.length();if(0===v.length())return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&E>=this.blockSize)for(var m=0;m<this._ints;++m)f.putInt32(v.getInt32()^this._outBlock[m]),this._inBlock[m]=this._outBlock[m];else{var F=(this.blockSize-E)%this.blockSize;for(F>0&&(F=this.blockSize-F),this._partialOutput.clear(),m=0;m<this._ints;++m)this._partialOutput.putInt32(v.getInt32()^this._outBlock[m]);if(F>0)v.read-=this.blockSize;else for(m=0;m<this._ints;++m)this._inBlock[m]=this._outBlock[m];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),F>0&&!d)return f.putBytes(this._partialOutput.getBytes(F-this._partialBytes)),this._partialBytes=F,!0;f.putBytes(this._partialOutput.getBytes(E-this._partialBytes)),this._partialBytes=0}},e.ofb.prototype.decrypt=e.ofb.prototype.encrypt,e.ctr=function(v){v=v||{},this.name="CTR",this.cipher=v.cipher,this.blockSize=v.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=i.util.createBuffer(),this._partialBytes=0},e.ctr.prototype.start=function(v){if(!("iv"in v))throw new Error("Invalid IV parameter.");this._iv=_(v.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},e.ctr.prototype.encrypt=function(v,f,d){var E=v.length();if(0===E)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&E>=this.blockSize)for(var m=0;m<this._ints;++m)f.putInt32(v.getInt32()^this._outBlock[m]);else{var F=(this.blockSize-E)%this.blockSize;for(F>0&&(F=this.blockSize-F),this._partialOutput.clear(),m=0;m<this._ints;++m)this._partialOutput.putInt32(v.getInt32()^this._outBlock[m]);if(F>0&&(v.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),F>0&&!d)return f.putBytes(this._partialOutput.getBytes(F-this._partialBytes)),this._partialBytes=F,!0;f.putBytes(this._partialOutput.getBytes(E-this._partialBytes)),this._partialBytes=0}g(this._inBlock)},e.ctr.prototype.decrypt=e.ctr.prototype.encrypt,e.gcm=function(v){v=v||{},this.name="GCM",this.cipher=v.cipher,this.blockSize=v.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=i.util.createBuffer(),this._partialBytes=0,this._R=3774873600},e.gcm.prototype.start=function(v){if(!("iv"in v))throw new Error("Invalid IV parameter.");var d,f=i.util.createBuffer(v.iv);if(this._cipherLength=0,d="additionalData"in v?i.util.createBuffer(v.additionalData):i.util.createBuffer(),this._tagLength="tagLength"in v?v.tagLength:128,this._tag=null,v.decrypt&&(this._tag=i.util.createBuffer(v.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var E=f.length();if(12===E)this._j0=[f.getInt32(),f.getInt32(),f.getInt32(),1];else{for(this._j0=[0,0,0,0];f.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[f.getInt32(),f.getInt32(),f.getInt32(),f.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(S(8*E)))}this._inBlock=this._j0.slice(0),g(this._inBlock),this._partialBytes=0,d=i.util.createBuffer(d),this._aDataLength=S(8*d.length());var m=d.length()%this.blockSize;for(m&&d.fillWithByte(0,this.blockSize-m),this._s=[0,0,0,0];d.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[d.getInt32(),d.getInt32(),d.getInt32(),d.getInt32()])},e.gcm.prototype.encrypt=function(v,f,d){var E=v.length();if(0===E)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&E>=this.blockSize){for(var m=0;m<this._ints;++m)f.putInt32(this._outBlock[m]^=v.getInt32());this._cipherLength+=this.blockSize}else{var F=(this.blockSize-E)%this.blockSize;for(F>0&&(F=this.blockSize-F),this._partialOutput.clear(),m=0;m<this._ints;++m)this._partialOutput.putInt32(v.getInt32()^this._outBlock[m]);if(F<=0||d){if(d){var w=E%this.blockSize;this._cipherLength+=w,this._partialOutput.truncate(this.blockSize-w)}else this._cipherLength+=this.blockSize;for(m=0;m<this._ints;++m)this._outBlock[m]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),F>0&&!d)return v.read-=this.blockSize,f.putBytes(this._partialOutput.getBytes(F-this._partialBytes)),this._partialBytes=F,!0;f.putBytes(this._partialOutput.getBytes(E-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),g(this._inBlock)},e.gcm.prototype.decrypt=function(v,f,d){var E=v.length();if(E<this.blockSize&&!(d&&E>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),g(this._inBlock),this._hashBlock[0]=v.getInt32(),this._hashBlock[1]=v.getInt32(),this._hashBlock[2]=v.getInt32(),this._hashBlock[3]=v.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var m=0;m<this._ints;++m)f.putInt32(this._outBlock[m]^this._hashBlock[m]);this._cipherLength+=E<this.blockSize?E%this.blockSize:this.blockSize},e.gcm.prototype.afterFinish=function(v,f){var d=!0;f.decrypt&&f.overflow&&v.truncate(this.blockSize-f.overflow),this.tag=i.util.createBuffer();var E=this._aDataLength.concat(S(8*this._cipherLength));this._s=this.ghash(this._hashSubkey,this._s,E);var m=[];this.cipher.encrypt(this._j0,m);for(var F=0;F<this._ints;++F)this.tag.putInt32(this._s[F]^m[F]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),f.decrypt&&this.tag.bytes()!==this._tag&&(d=!1),d},e.gcm.prototype.multiply=function(v,f){for(var d=[0,0,0,0],E=f.slice(0),m=0;m<128;++m)v[m/32|0]&1<<31-m%32&&(d[0]^=E[0],d[1]^=E[1],d[2]^=E[2],d[3]^=E[3]),this.pow(E,E);return d},e.gcm.prototype.pow=function(v,f){for(var d=1&v[3],E=3;E>0;--E)f[E]=v[E]>>>1|(1&v[E-1])<<31;f[0]=v[0]>>>1,d&&(f[0]^=this._R)},e.gcm.prototype.tableMultiply=function(v){for(var f=[0,0,0,0],d=0;d<32;++d){var F=this._m[d][v[d/8|0]>>>4*(7-d%8)&15];f[0]^=F[0],f[1]^=F[1],f[2]^=F[2],f[3]^=F[3]}return f},e.gcm.prototype.ghash=function(v,f,d){return f[0]^=d[0],f[1]^=d[1],f[2]^=d[2],f[3]^=d[3],this.tableMultiply(f)},e.gcm.prototype.generateHashTable=function(v,f){for(var d=8/f,E=4*d,m=16*d,F=new Array(m),w=0;w<m;++w){var C=[0,0,0,0];C[w/E|0]=1<<f-1<<(E-1-w%E)*f,F[w]=this.generateSubHashTable(this.multiply(C,v),f)}return F},e.gcm.prototype.generateSubHashTable=function(v,f){var d=1<<f,E=d>>>1,m=new Array(d);m[E]=v.slice(0);for(var F=E>>>1;F>0;)this.pow(m[2*F],m[F]=[]),F>>=1;for(F=2;F<E;){for(var w=1;w<F;++w){var C=m[F],R=m[w];m[F+w]=[C[0]^R[0],C[1]^R[1],C[2]^R[2],C[3]^R[3]]}F*=2}for(m[0]=[0,0,0,0],F=E+1;F<d;++F){var k=m[F^E];m[F]=[v[0]^k[0],v[1]^k[1],v[2]^k[2],v[3]^k[3]]}return m}},3674:(et,me,u)=>{var i=u(6589);function e(R,k){i.cipher.registerAlgorithm(R,function(){return new i.des.Algorithm(R,k)})}u(5855),u(8580),u(812),et.exports=i.des=i.des||{},i.des.startEncrypting=function(R,k,O,H){var x=C({key:R,output:O,decrypt:!1,mode:H||(null===k?"ECB":"CBC")});return x.start(k),x},i.des.createEncryptionCipher=function(R,k){return C({key:R,output:null,decrypt:!1,mode:k})},i.des.startDecrypting=function(R,k,O,H){var x=C({key:R,output:O,decrypt:!0,mode:H||(null===k?"ECB":"CBC")});return x.start(k),x},i.des.createDecryptionCipher=function(R,k){return C({key:R,output:null,decrypt:!0,mode:k})},i.des.Algorithm=function(R,k){var O=this;O.name=R,O.mode=new k({blockSize:8,cipher:{encrypt:function(H,x){return w(O._keys,H,x,!1)},decrypt:function(H,x){return w(O._keys,H,x,!0)}}}),O._init=!1},i.des.Algorithm.prototype.initialize=function(R){if(!this._init){var k=i.util.createBuffer(R.key);if(0===this.name.indexOf("3DES")&&24!==k.length())throw new Error("Invalid Triple-DES key size: "+8*k.length());this._keys=function F(R){for(var xe,k=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],O=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],H=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],x=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],$=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],U=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],G=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],ie=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],le=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],L=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],Q=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],te=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],I=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],oe=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],Y=R.length()>8?3:1,_e=[],Oe=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],Re=0,Je=0;Je<Y;Je++){var Te=R.getInt32(),we=R.getInt32();Te^=(xe=252645135&(Te>>>4^we))<<4,Te^=xe=65535&((we^=xe)>>>-16^Te),Te^=(xe=858993459&(Te>>>2^(we^=xe<<-16)))<<2,Te^=xe=65535&((we^=xe)>>>-16^Te),Te^=(xe=1431655765&(Te>>>1^(we^=xe<<-16)))<<1,Te^=xe=16711935&((we^=xe)>>>8^Te),xe=(Te^=(xe=1431655765&(Te>>>1^(we^=xe<<8)))<<1)<<8|(we^=xe)>>>20&240,Te=we<<24|we<<8&16711680|we>>>8&65280|we>>>24&240,we=xe;for(var he=0;he<Oe.length;++he){Oe[he]?(Te=Te<<2|Te>>>26,we=we<<2|we>>>26):(Te=Te<<1|Te>>>27,we=we<<1|we>>>27);var Le=k[(Te&=-15)>>>28]|O[Te>>>24&15]|H[Te>>>20&15]|x[Te>>>16&15]|$[Te>>>12&15]|U[Te>>>8&15]|G[Te>>>4&15],Ae=ie[(we&=-15)>>>28]|le[we>>>24&15]|L[we>>>20&15]|Q[we>>>16&15]|te[we>>>12&15]|I[we>>>8&15]|oe[we>>>4&15];_e[Re++]=Le^(xe=65535&(Ae>>>16^Le)),_e[Re++]=Ae^xe<<16}}return _e}(k),this._init=!0}},e("DES-ECB",i.cipher.modes.ecb),e("DES-CBC",i.cipher.modes.cbc),e("DES-CFB",i.cipher.modes.cfb),e("DES-OFB",i.cipher.modes.ofb),e("DES-CTR",i.cipher.modes.ctr),e("3DES-ECB",i.cipher.modes.ecb),e("3DES-CBC",i.cipher.modes.cbc),e("3DES-CFB",i.cipher.modes.cfb),e("3DES-OFB",i.cipher.modes.ofb),e("3DES-CTR",i.cipher.modes.ctr);var _=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],g=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],S=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],v=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],f=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],d=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],E=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],m=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function w(R,k,O,H){var $,x=32===R.length?3:9;$=3===x?H?[30,-2,-2]:[0,32,2]:H?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var U,G=k[0],ie=k[1];G^=(U=252645135&(G>>>4^ie))<<4,G^=(U=65535&(G>>>16^(ie^=U)))<<16,G^=U=858993459&((ie^=U)>>>2^G),G^=U=16711935&((ie^=U<<2)>>>8^G),G=(G^=(U=1431655765&(G>>>1^(ie^=U<<8)))<<1)<<1|G>>>31,ie=(ie^=U)<<1|ie>>>31;for(var le=0;le<x;le+=3){for(var L=$[le+1],Q=$[le+2],te=$[le];te!=L;te+=Q){var I=ie^R[te],oe=(ie>>>4|ie<<28)^R[te+1];U=G,G=ie,ie=U^(g[I>>>24&63]|v[I>>>16&63]|d[I>>>8&63]|m[63&I]|_[oe>>>24&63]|S[oe>>>16&63]|f[oe>>>8&63]|E[63&oe])}U=G,G=ie,ie=U}ie=ie>>>1|ie<<31,ie^=U=1431655765&((G=G>>>1|G<<31)>>>1^ie),ie^=(U=16711935&(ie>>>8^(G^=U<<1)))<<8,ie^=(U=858993459&(ie>>>2^(G^=U)))<<2,ie^=U=65535&((G^=U)>>>16^ie),ie^=U=252645135&((G^=U<<16)>>>4^ie),O[0]=G^=U<<4,O[1]=ie}function C(R){var H,O="DES-"+((R=R||{}).mode||"CBC").toUpperCase(),x=(H=R.decrypt?i.cipher.createDecipher(O,R.key):i.cipher.createCipher(O,R.key)).start;return H.start=function($,U){var G=null;U instanceof i.util.ByteBuffer&&(G=U,U={}),(U=U||{}).output=G,U.iv=$,x.call(H,U)},H}},651:(et,me,u)=>{var i=u(6589);u(3364),u(1675),u(1290),u(812);var e=u(2758),_=e.publicKeyValidator,g=e.privateKeyValidator;if(typeof S>"u")var S=i.jsbn.BigInteger;var v=i.util.ByteBuffer,f=typeof Buffer>"u"?Uint8Array:Buffer;i.pki=i.pki||{},et.exports=i.pki.ed25519=i.ed25519=i.ed25519||{};var d=i.ed25519;function E(Et){var _t=Et.message;if(_t instanceof Uint8Array||_t instanceof f)return _t;var J=Et.encoding;if(void 0===_t){if(!Et.md)throw new TypeError('"options.message" or "options.md" not specified.');_t=Et.md.digest().getBytes(),J="binary"}if("string"==typeof _t&&!J)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if("string"==typeof _t){if(typeof Buffer<"u")return Buffer.from(_t,J);_t=new v(_t,J)}else if(!(_t instanceof v))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var X=new f(_t.length()),q=0;q<X.length;++q)X[q]=_t.at(q);return X}d.constants={},d.constants.PUBLIC_KEY_BYTE_LENGTH=32,d.constants.PRIVATE_KEY_BYTE_LENGTH=64,d.constants.SEED_BYTE_LENGTH=32,d.constants.SIGN_BYTE_LENGTH=64,d.constants.HASH_BYTE_LENGTH=64,d.generateKeyPair=function(Et){var _t=(Et=Et||{}).seed;if(void 0===_t)_t=i.random.getBytesSync(d.constants.SEED_BYTE_LENGTH);else if("string"==typeof _t){if(_t.length!==d.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+d.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(_t instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');_t=E({message:_t,encoding:"binary"});for(var J=new f(d.constants.PUBLIC_KEY_BYTE_LENGTH),X=new f(d.constants.PRIVATE_KEY_BYTE_LENGTH),q=0;q<32;++q)X[q]=_t[q];return function $(Et,_t){var X,J=[Fe(),Fe(),Fe(),Fe()],q=x(_t,32);for(q[0]&=248,q[31]&=127,q[31]|=64,we(J,q),te(Et,J),X=0;X<32;++X)_t[X+32]=Et[X]}(J,X),{publicKey:J,privateKey:X}},d.privateKeyFromAsn1=function(Et){var _t={},J=[];if(!i.asn1.validate(Et,g,_t,J)){var q=new Error("Invalid Key.");throw q.errors=J,q}var Se=i.asn1.derToOid(_t.privateKeyOid),Ee=i.oids.EdDSA25519;if(Se!==Ee)throw new Error('Invalid OID "'+Se+'"; OID must be "'+Ee+'".');return{privateKeyBytes:E({message:i.asn1.fromDer(_t.privateKey).value,encoding:"binary"})}},d.publicKeyFromAsn1=function(Et){var _t={},J=[];if(!i.asn1.validate(Et,_,_t,J)){var q=new Error("Invalid Key.");throw q.errors=J,q}var Se=i.asn1.derToOid(_t.publicKeyOid),Ee=i.oids.EdDSA25519;if(Se!==Ee)throw new Error('Invalid OID "'+Se+'"; OID must be "'+Ee+'".');var lt=_t.ed25519PublicKey;if(lt.length!==d.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return E({message:lt,encoding:"binary"})},d.publicKeyFromPrivateKey=function(Et){var _t=E({message:(Et=Et||{}).privateKey,encoding:"binary"});if(_t.length!==d.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+d.constants.PRIVATE_KEY_BYTE_LENGTH);for(var J=new f(d.constants.PUBLIC_KEY_BYTE_LENGTH),X=0;X<J.length;++X)J[X]=_t[32+X];return J},d.sign=function(Et){var _t=E(Et=Et||{}),J=E({message:Et.privateKey,encoding:"binary"});if(J.length===d.constants.SEED_BYTE_LENGTH)J=d.generateKeyPair({seed:J}).privateKey;else if(J.length!==d.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+d.constants.SEED_BYTE_LENGTH+" or "+d.constants.PRIVATE_KEY_BYTE_LENGTH);var q=new f(d.constants.SIGN_BYTE_LENGTH+_t.length);!function U(Et,_t,J,X){var q,Se,Ee=new Float64Array(64),lt=[Fe(),Fe(),Fe(),Fe()],Ue=x(X,32);Ue[0]&=248,Ue[31]&=127,Ue[31]|=64;var at=J+64;for(q=0;q<J;++q)Et[64+q]=_t[q];for(q=0;q<32;++q)Et[32+q]=Ue[32+q];var Ot=x(Et.subarray(32),J+32);for(le(Ot),we(lt,Ot),te(Et,lt),q=32;q<64;++q)Et[q]=X[q];var pt=x(Et,J+64);for(le(pt),q=32;q<64;++q)Ee[q]=0;for(q=0;q<32;++q)Ee[q]=Ot[q];for(q=0;q<32;++q)for(Se=0;Se<32;Se++)Ee[q+Se]+=pt[q]*Ue[Se];ie(Et.subarray(32),Ee)}(q,_t,_t.length,J);for(var Se=new f(d.constants.SIGN_BYTE_LENGTH),Ee=0;Ee<Se.length;++Ee)Se[Ee]=q[Ee];return Se},d.verify=function(Et){var _t=E(Et=Et||{});if(void 0===Et.signature)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var J=E({message:Et.signature,encoding:"binary"});if(J.length!==d.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+d.constants.SIGN_BYTE_LENGTH);var X=E({message:Et.publicKey,encoding:"binary"});if(X.length!==d.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+d.constants.PUBLIC_KEY_BYTE_LENGTH);var Ee,q=new f(d.constants.SIGN_BYTE_LENGTH+_t.length),Se=new f(d.constants.SIGN_BYTE_LENGTH+_t.length);for(Ee=0;Ee<d.constants.SIGN_BYTE_LENGTH;++Ee)q[Ee]=J[Ee];for(Ee=0;Ee<_t.length;++Ee)q[Ee+d.constants.SIGN_BYTE_LENGTH]=_t[Ee];return function G(Et,_t,J,X){var q,Ee=new f(32),lt=[Fe(),Fe(),Fe(),Fe()],Ue=[Fe(),Fe(),Fe(),Fe()];if(-1,J<64||function oe(Et,_t){var J=Fe(),X=Fe(),q=Fe(),Se=Fe(),Ee=Fe(),lt=Fe(),Ue=Fe();return he(Et[2],F),function Y(Et,_t){var J;for(J=0;J<16;++J)Et[J]=_t[2*J]+(_t[2*J+1]<<8);Et[15]&=32767}(Et[1],_t),zt(q,Et[1]),Lt(Se,q,w),Ye(q,q,Et[2]),ft(Se,Et[2],Se),zt(Ee,Se),zt(lt,Ee),Lt(Ue,lt,Ee),Lt(J,Ue,q),Lt(J,J,Se),function _e(Et,_t){var X,J=Fe();for(X=0;X<16;++X)J[X]=_t[X];for(X=250;X>=0;--X)zt(J,J),1!==X&&Lt(J,J,_t);for(X=0;X<16;++X)Et[X]=J[X]}(J,J),Lt(J,J,q),Lt(J,J,Se),Lt(J,J,Se),Lt(Et[0],J,Se),zt(X,Et[0]),Lt(X,X,Se),Oe(X,q)&&Lt(Et[0],Et[0],H),zt(X,Et[0]),Lt(X,X,Se),Oe(X,q)?-1:(Je(Et[0])===_t[31]>>7&&Ye(Et[0],m,Et[0]),Lt(Et[3],Et[0],Et[1]),0)}(Ue,X))return-1;for(q=0;q<J;++q)Et[q]=_t[q];for(q=0;q<32;++q)Et[q+32]=X[q];var at=x(Et,J);if(le(at),Te(lt,Ue,at),we(Ue,_t.subarray(32)),L(lt,Ue),te(Ee,lt),J-=64,Re(_t,0,Ee,0)){for(q=0;q<J;++q)Et[q]=0;return-1}for(q=0;q<J;++q)Et[q]=_t[q+64];return J}(Se,q,q.length,X)>=0};var m=Fe(),F=Fe([1]),w=Fe([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),C=Fe([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),R=Fe([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),k=Fe([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),O=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),H=Fe([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function x(Et,_t){var J=i.md.sha512.create(),X=new v(Et);J.update(X.getBytes(_t),"binary");var q=J.digest().getBytes();if(typeof Buffer<"u")return Buffer.from(q,"binary");for(var Se=new f(d.constants.HASH_BYTE_LENGTH),Ee=0;Ee<64;++Ee)Se[Ee]=q.charCodeAt(Ee);return Se}function ie(Et,_t){var J,X,q,Se;for(X=63;X>=32;--X){for(J=0,q=X-32,Se=X-12;q<Se;++q)_t[q]+=J-16*_t[X]*O[q-(X-32)],_t[q]-=256*(J=_t[q]+128>>8);_t[q]+=J,_t[X]=0}for(J=0,q=0;q<32;++q)_t[q]+=J-(_t[31]>>4)*O[q],J=_t[q]>>8,_t[q]&=255;for(q=0;q<32;++q)_t[q]-=J*O[q];for(X=0;X<32;++X)_t[X+1]+=_t[X]>>8,Et[X]=255&_t[X]}function le(Et){for(var _t=new Float64Array(64),J=0;J<64;++J)_t[J]=Et[J],Et[J]=0;ie(Et,_t)}function L(Et,_t){var J=Fe(),X=Fe(),q=Fe(),Se=Fe(),Ee=Fe(),lt=Fe(),Ue=Fe(),at=Fe(),Ot=Fe();Ye(J,Et[1],Et[0]),Ye(Ot,_t[1],_t[0]),Lt(J,J,Ot),ft(X,Et[0],Et[1]),ft(Ot,_t[0],_t[1]),Lt(X,X,Ot),Lt(q,Et[3],_t[3]),Lt(q,q,C),Lt(Se,Et[2],_t[2]),ft(Se,Se,Se),Ye(Ee,X,J),Ye(lt,Se,q),ft(Ue,Se,q),ft(at,X,J),Lt(Et[0],Ee,lt),Lt(Et[1],at,Ue),Lt(Et[2],Ue,lt),Lt(Et[3],Ee,at)}function Q(Et,_t,J){for(var X=0;X<4;++X)st(Et[X],_t[X],J)}function te(Et,_t){var J=Fe(),X=Fe(),q=Fe();(function Le(Et,_t){var X,J=Fe();for(X=0;X<16;++X)J[X]=_t[X];for(X=253;X>=0;--X)zt(J,J),2!==X&&4!==X&&Lt(J,J,_t);for(X=0;X<16;++X)Et[X]=J[X]})(q,_t[2]),Lt(J,_t[0],q),Lt(X,_t[1],q),I(Et,X),Et[31]^=Je(J)<<7}function I(Et,_t){var J,X,q,Se=Fe(),Ee=Fe();for(J=0;J<16;++J)Ee[J]=_t[J];for(Ae(Ee),Ae(Ee),Ae(Ee),X=0;X<2;++X){for(Se[0]=Ee[0]-65517,J=1;J<15;++J)Se[J]=Ee[J]-65535-(Se[J-1]>>16&1),Se[J-1]&=65535;Se[15]=Ee[15]-32767-(Se[14]>>16&1),q=Se[15]>>16&1,Se[14]&=65535,st(Ee,Se,1-q)}for(J=0;J<16;J++)Et[2*J]=255&Ee[J],Et[2*J+1]=Ee[J]>>8}function Oe(Et,_t){var J=new f(32),X=new f(32);return I(J,Et),I(X,_t),Re(J,0,X,0)}function Re(Et,_t,J,X){return function xe(Et,_t,J,X,q){var Se,Ee=0;for(Se=0;Se<q;++Se)Ee|=Et[_t+Se]^J[X+Se];return(1&Ee-1>>>8)-1}(Et,_t,J,X,32)}function Je(Et){var _t=new f(32);return I(_t,Et),1&_t[0]}function Te(Et,_t,J){var X,q;for(he(Et[0],m),he(Et[1],F),he(Et[2],F),he(Et[3],m),q=255;q>=0;--q)Q(Et,_t,X=J[q/8|0]>>(7&q)&1),L(_t,Et),L(Et,Et),Q(Et,_t,X)}function we(Et,_t){var J=[Fe(),Fe(),Fe(),Fe()];he(J[0],R),he(J[1],k),he(J[2],F),Lt(J[3],R,k),Te(Et,J,_t)}function he(Et,_t){var J;for(J=0;J<16;J++)Et[J]=0|_t[J]}function Ae(Et){var _t,J,X=1;for(_t=0;_t<16;++_t)J=Et[_t]+X+65535,X=Math.floor(J/65536),Et[_t]=J-65536*X;Et[0]+=X-1+37*(X-1)}function st(Et,_t,J){for(var X,q=~(J-1),Se=0;Se<16;++Se)Et[Se]^=X=q&(Et[Se]^_t[Se]),_t[Se]^=X}function Fe(Et){var _t,J=new Float64Array(16);if(Et)for(_t=0;_t<Et.length;++_t)J[_t]=Et[_t];return J}function ft(Et,_t,J){for(var X=0;X<16;++X)Et[X]=_t[X]+J[X]}function Ye(Et,_t,J){for(var X=0;X<16;++X)Et[X]=_t[X]-J[X]}function zt(Et,_t){Lt(Et,_t,_t)}function Lt(Et,_t,J){var X,q,Se=0,Ee=0,lt=0,Ue=0,at=0,Ot=0,pt=0,it=0,Ht=0,en=0,rt=0,Nt=0,ve=0,ae=0,j=0,se=0,Be=0,qe=0,ht=0,Ft=0,on=0,un=0,Mn=0,kn=0,Bn=0,Tt=0,Rn=0,Gt=0,ct=0,yt=0,mt=0,xt=J[0],tn=J[1],Sn=J[2],Un=J[3],cn=J[4],di=J[5],li=J[6],At=J[7],dt=J[8],kt=J[9],jt=J[10],Yt=J[11],vn=J[12],mn=J[13],zn=J[14],An=J[15];Se+=(X=_t[0])*xt,Ee+=X*tn,lt+=X*Sn,Ue+=X*Un,at+=X*cn,Ot+=X*di,pt+=X*li,it+=X*At,Ht+=X*dt,en+=X*kt,rt+=X*jt,Nt+=X*Yt,ve+=X*vn,ae+=X*mn,j+=X*zn,se+=X*An,Ee+=(X=_t[1])*xt,lt+=X*tn,Ue+=X*Sn,at+=X*Un,Ot+=X*cn,pt+=X*di,it+=X*li,Ht+=X*At,en+=X*dt,rt+=X*kt,Nt+=X*jt,ve+=X*Yt,ae+=X*vn,j+=X*mn,se+=X*zn,Be+=X*An,lt+=(X=_t[2])*xt,Ue+=X*tn,at+=X*Sn,Ot+=X*Un,pt+=X*cn,it+=X*di,Ht+=X*li,en+=X*At,rt+=X*dt,Nt+=X*kt,ve+=X*jt,ae+=X*Yt,j+=X*vn,se+=X*mn,Be+=X*zn,qe+=X*An,Ue+=(X=_t[3])*xt,at+=X*tn,Ot+=X*Sn,pt+=X*Un,it+=X*cn,Ht+=X*di,en+=X*li,rt+=X*At,Nt+=X*dt,ve+=X*kt,ae+=X*jt,j+=X*Yt,se+=X*vn,Be+=X*mn,qe+=X*zn,ht+=X*An,at+=(X=_t[4])*xt,Ot+=X*tn,pt+=X*Sn,it+=X*Un,Ht+=X*cn,en+=X*di,rt+=X*li,Nt+=X*At,ve+=X*dt,ae+=X*kt,j+=X*jt,se+=X*Yt,Be+=X*vn,qe+=X*mn,ht+=X*zn,Ft+=X*An,Ot+=(X=_t[5])*xt,pt+=X*tn,it+=X*Sn,Ht+=X*Un,en+=X*cn,rt+=X*di,Nt+=X*li,ve+=X*At,ae+=X*dt,j+=X*kt,se+=X*jt,Be+=X*Yt,qe+=X*vn,ht+=X*mn,Ft+=X*zn,on+=X*An,pt+=(X=_t[6])*xt,it+=X*tn,Ht+=X*Sn,en+=X*Un,rt+=X*cn,Nt+=X*di,ve+=X*li,ae+=X*At,j+=X*dt,se+=X*kt,Be+=X*jt,qe+=X*Yt,ht+=X*vn,Ft+=X*mn,on+=X*zn,un+=X*An,it+=(X=_t[7])*xt,Ht+=X*tn,en+=X*Sn,rt+=X*Un,Nt+=X*cn,ve+=X*di,ae+=X*li,j+=X*At,se+=X*dt,Be+=X*kt,qe+=X*jt,ht+=X*Yt,Ft+=X*vn,on+=X*mn,un+=X*zn,Mn+=X*An,Ht+=(X=_t[8])*xt,en+=X*tn,rt+=X*Sn,Nt+=X*Un,ve+=X*cn,ae+=X*di,j+=X*li,se+=X*At,Be+=X*dt,qe+=X*kt,ht+=X*jt,Ft+=X*Yt,on+=X*vn,un+=X*mn,Mn+=X*zn,kn+=X*An,en+=(X=_t[9])*xt,rt+=X*tn,Nt+=X*Sn,ve+=X*Un,ae+=X*cn,j+=X*di,se+=X*li,Be+=X*At,qe+=X*dt,ht+=X*kt,Ft+=X*jt,on+=X*Yt,un+=X*vn,Mn+=X*mn,kn+=X*zn,Bn+=X*An,rt+=(X=_t[10])*xt,Nt+=X*tn,ve+=X*Sn,ae+=X*Un,j+=X*cn,se+=X*di,Be+=X*li,qe+=X*At,ht+=X*dt,Ft+=X*kt,on+=X*jt,un+=X*Yt,Mn+=X*vn,kn+=X*mn,Bn+=X*zn,Tt+=X*An,Nt+=(X=_t[11])*xt,ve+=X*tn,ae+=X*Sn,j+=X*Un,se+=X*cn,Be+=X*di,qe+=X*li,ht+=X*At,Ft+=X*dt,on+=X*kt,un+=X*jt,Mn+=X*Yt,kn+=X*vn,Bn+=X*mn,Tt+=X*zn,Rn+=X*An,ve+=(X=_t[12])*xt,ae+=X*tn,j+=X*Sn,se+=X*Un,Be+=X*cn,qe+=X*di,ht+=X*li,Ft+=X*At,on+=X*dt,un+=X*kt,Mn+=X*jt,kn+=X*Yt,Bn+=X*vn,Tt+=X*mn,Rn+=X*zn,Gt+=X*An,ae+=(X=_t[13])*xt,j+=X*tn,se+=X*Sn,Be+=X*Un,qe+=X*cn,ht+=X*di,Ft+=X*li,on+=X*At,un+=X*dt,Mn+=X*kt,kn+=X*jt,Bn+=X*Yt,Tt+=X*vn,Rn+=X*mn,Gt+=X*zn,ct+=X*An,j+=(X=_t[14])*xt,se+=X*tn,Be+=X*Sn,qe+=X*Un,ht+=X*cn,Ft+=X*di,on+=X*li,un+=X*At,Mn+=X*dt,kn+=X*kt,Bn+=X*jt,Tt+=X*Yt,Rn+=X*vn,Gt+=X*mn,ct+=X*zn,yt+=X*An,se+=(X=_t[15])*xt,Ee+=38*(qe+=X*Sn),lt+=38*(ht+=X*Un),Ue+=38*(Ft+=X*cn),at+=38*(on+=X*di),Ot+=38*(un+=X*li),pt+=38*(Mn+=X*At),it+=38*(kn+=X*dt),Ht+=38*(Bn+=X*kt),en+=38*(Tt+=X*jt),rt+=38*(Rn+=X*Yt),Nt+=38*(Gt+=X*vn),ve+=38*(ct+=X*mn),ae+=38*(yt+=X*zn),j+=38*(mt+=X*An),Se=(X=(Se+=38*(Be+=X*tn))+(q=1)+65535)-65536*(q=Math.floor(X/65536)),Ee=(X=Ee+q+65535)-65536*(q=Math.floor(X/65536)),lt=(X=lt+q+65535)-65536*(q=Math.floor(X/65536)),Ue=(X=Ue+q+65535)-65536*(q=Math.floor(X/65536)),at=(X=at+q+65535)-65536*(q=Math.floor(X/65536)),Ot=(X=Ot+q+65535)-65536*(q=Math.floor(X/65536)),pt=(X=pt+q+65535)-65536*(q=Math.floor(X/65536)),it=(X=it+q+65535)-65536*(q=Math.floor(X/65536)),Ht=(X=Ht+q+65535)-65536*(q=Math.floor(X/65536)),en=(X=en+q+65535)-65536*(q=Math.floor(X/65536)),rt=(X=rt+q+65535)-65536*(q=Math.floor(X/65536)),Nt=(X=Nt+q+65535)-65536*(q=Math.floor(X/65536)),ve=(X=ve+q+65535)-65536*(q=Math.floor(X/65536)),ae=(X=ae+q+65535)-65536*(q=Math.floor(X/65536)),j=(X=j+q+65535)-65536*(q=Math.floor(X/65536)),se=(X=se+q+65535)-65536*(q=Math.floor(X/65536)),Se=(X=(Se+=q-1+37*(q-1))+(q=1)+65535)-65536*(q=Math.floor(X/65536)),Ee=(X=Ee+q+65535)-65536*(q=Math.floor(X/65536)),lt=(X=lt+q+65535)-65536*(q=Math.floor(X/65536)),Ue=(X=Ue+q+65535)-65536*(q=Math.floor(X/65536)),at=(X=at+q+65535)-65536*(q=Math.floor(X/65536)),Ot=(X=Ot+q+65535)-65536*(q=Math.floor(X/65536)),pt=(X=pt+q+65535)-65536*(q=Math.floor(X/65536)),it=(X=it+q+65535)-65536*(q=Math.floor(X/65536)),Ht=(X=Ht+q+65535)-65536*(q=Math.floor(X/65536)),en=(X=en+q+65535)-65536*(q=Math.floor(X/65536)),rt=(X=rt+q+65535)-65536*(q=Math.floor(X/65536)),Nt=(X=Nt+q+65535)-65536*(q=Math.floor(X/65536)),ve=(X=ve+q+65535)-65536*(q=Math.floor(X/65536)),ae=(X=ae+q+65535)-65536*(q=Math.floor(X/65536)),j=(X=j+q+65535)-65536*(q=Math.floor(X/65536)),se=(X=se+q+65535)-65536*(q=Math.floor(X/65536)),Et[0]=Se+=q-1+37*(q-1),Et[1]=Ee,Et[2]=lt,Et[3]=Ue,Et[4]=at,Et[5]=Ot,Et[6]=pt,Et[7]=it,Et[8]=Ht,Et[9]=en,Et[10]=rt,Et[11]=Nt,Et[12]=ve,Et[13]=ae,Et[14]=j,Et[15]=se}},6589:et=>{et.exports={options:{usePureJavaScript:!1}}},4579:(et,me,u)=>{var i=u(6589);u(5437),u(812),(et.exports=i.hmac=i.hmac||{}).create=function(){var _=null,g=null,S=null,v=null,f={start:function(d,E){if(null!==d)if("string"==typeof d){if(!((d=d.toLowerCase())in i.md.algorithms))throw new Error('Unknown hash algorithm "'+d+'"');g=i.md.algorithms[d].create()}else g=d;if(null===E)E=_;else{if("string"==typeof E)E=i.util.createBuffer(E);else if(i.util.isArray(E)){var m=E;E=i.util.createBuffer();for(var F=0;F<m.length;++F)E.putByte(m[F])}var w=E.length();for(w>g.blockLength&&(g.start(),g.update(E.bytes()),E=g.digest()),S=i.util.createBuffer(),v=i.util.createBuffer(),w=E.length(),F=0;F<w;++F)m=E.at(F),S.putByte(54^m),v.putByte(92^m);if(w<g.blockLength)for(m=g.blockLength-w,F=0;F<m;++F)S.putByte(54),v.putByte(92);_=E,S=S.bytes(),v=v.bytes()}g.start(),g.update(S)},update:function(d){g.update(d)},getMac:function(){var d=g.digest().bytes();return g.start(),g.update(v),g.update(d),g.digest()}};return f.digest=f.getMac,f}},2114:(et,me,u)=>{et.exports=u(6589),u(57),u(3707),u(7097),u(5855),u(3674),u(651),u(4579),u(8321),u(872),u(9228),u(5833),u(1097),u(9368),u(8788),u(4724),u(8645),u(9622),u(3697),u(409),u(8588),u(1675),u(1881),u(3120),u(9807),u(812)},3364:(et,me,u)=>{var e,i=u(6589);function S(K,de,ue){this.data=[],null!=K&&("number"==typeof K?this.fromNumber(K,de,ue):this.fromString(K,null==de&&"string"!=typeof K?256:de))}function v(){return new S(null)}function E(K,de,ue,ze,Wt,Kt){for(var gn=16383&de,yn=de>>14;--Kt>=0;){var ti=16383&this.data[K],vi=this.data[K++]>>14,bi=yn*ti+vi*gn;Wt=((ti=gn*ti+((16383&bi)<<14)+ue.data[ze]+Wt)>>28)+(bi>>14)+yn*vi,ue.data[ze++]=268435455&ti}return Wt}et.exports=i.jsbn=i.jsbn||{},i.jsbn.BigInteger=S,typeof navigator>"u"?(S.prototype.am=E,e=28):"Microsoft Internet Explorer"==navigator.appName?(S.prototype.am=function d(K,de,ue,ze,Wt,Kt){for(var gn=32767&de,yn=de>>15;--Kt>=0;){var ti=32767&this.data[K],vi=this.data[K++]>>15,bi=yn*ti+vi*gn;Wt=((ti=gn*ti+((32767&bi)<<15)+ue.data[ze]+(1073741823&Wt))>>>30)+(bi>>>15)+yn*vi+(Wt>>>30),ue.data[ze++]=1073741823&ti}return Wt},e=30):"Netscape"!=navigator.appName?(S.prototype.am=function f(K,de,ue,ze,Wt,Kt){for(;--Kt>=0;){var gn=de*this.data[K++]+ue.data[ze]+Wt;Wt=Math.floor(gn/67108864),ue.data[ze++]=67108863&gn}return Wt},e=26):(S.prototype.am=E,e=28),S.prototype.DB=e,S.prototype.DM=(1<<e)-1,S.prototype.DV=1<<e,S.prototype.FV=Math.pow(2,52),S.prototype.F1=52-e,S.prototype.F2=2*e-52;var C,R,w=new Array;for(C=48,R=0;R<=9;++R)w[C++]=R;for(C=97,R=10;R<36;++R)w[C++]=R;for(C=65,R=10;R<36;++R)w[C++]=R;function k(K){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(K)}function O(K,de){return w[K.charCodeAt(de)]??-1}function $(K){var de=v();return de.fromInt(K),de}function te(K){var ue,de=1;return 0!=(ue=K>>>16)&&(K=ue,de+=16),0!=(ue=K>>8)&&(K=ue,de+=8),0!=(ue=K>>4)&&(K=ue,de+=4),0!=(ue=K>>2)&&(K=ue,de+=2),0!=(ue=K>>1)&&(K=ue,de+=1),de}function he(K){this.m=K}function zt(K){this.m=K,this.mp=K.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<K.DB-15)-1,this.mt2=2*K.t}function Be(K,de){return K&de}function ht(K,de){return K|de}function on(K,de){return K^de}function Mn(K,de){return K&~de}function Gt(K){if(0==K)return-1;var de=0;return 65535&K||(K>>=16,de+=16),255&K||(K>>=8,de+=8),15&K||(K>>=4,de+=4),3&K||(K>>=2,de+=2),1&K||++de,de}function yt(K){for(var de=0;0!=K;)K&=K-1,++de;return de}function zn(){}function An(K){return K}function Xn(K){this.r2=v(),this.q3=v(),S.ONE.dlShiftTo(2*K.t,this.r2),this.mu=this.r2.divide(K),this.m=K}he.prototype.convert=function Le(K){return K.s<0||K.compareTo(this.m)>=0?K.mod(this.m):K},he.prototype.revert=function Ae(K){return K},he.prototype.reduce=function st(K){K.divRemTo(this.m,null,K)},he.prototype.mulTo=function Fe(K,de,ue){K.multiplyTo(de,ue),this.reduce(ue)},he.prototype.sqrTo=function ft(K,de){K.squareTo(de),this.reduce(de)},zt.prototype.convert=function Lt(K){var de=v();return K.abs().dlShiftTo(this.m.t,de),de.divRemTo(this.m,null,de),K.s<0&&de.compareTo(S.ZERO)>0&&this.m.subTo(de,de),de},zt.prototype.revert=function Et(K){var de=v();return K.copyTo(de),this.reduce(de),de},zt.prototype.reduce=function _t(K){for(;K.t<=this.mt2;)K.data[K.t++]=0;for(var de=0;de<this.m.t;++de){var ue=32767&K.data[de],ze=ue*this.mpl+((ue*this.mph+(K.data[de]>>15)*this.mpl&this.um)<<15)&K.DM;for(K.data[ue=de+this.m.t]+=this.m.am(0,ze,K,de,0,this.m.t);K.data[ue]>=K.DV;)K.data[ue]-=K.DV,K.data[++ue]++}K.clamp(),K.drShiftTo(this.m.t,K),K.compareTo(this.m)>=0&&K.subTo(this.m,K)},zt.prototype.mulTo=function X(K,de,ue){K.multiplyTo(de,ue),this.reduce(ue)},zt.prototype.sqrTo=function J(K,de){K.squareTo(de),this.reduce(de)},S.prototype.copyTo=function H(K){for(var de=this.t-1;de>=0;--de)K.data[de]=this.data[de];K.t=this.t,K.s=this.s},S.prototype.fromInt=function x(K){this.t=1,this.s=K<0?-1:0,K>0?this.data[0]=K:K<-1?this.data[0]=K+this.DV:this.t=0},S.prototype.fromString=function U(K,de){var ue;if(16==de)ue=4;else if(8==de)ue=3;else if(256==de)ue=8;else if(2==de)ue=1;else if(32==de)ue=5;else{if(4!=de)return void this.fromRadix(K,de);ue=2}this.t=0,this.s=0;for(var ze=K.length,Wt=!1,Kt=0;--ze>=0;){var gn=8==ue?255&K[ze]:O(K,ze);gn<0?"-"==K.charAt(ze)&&(Wt=!0):(Wt=!1,0==Kt?this.data[this.t++]=gn:Kt+ue>this.DB?(this.data[this.t-1]|=(gn&(1<<this.DB-Kt)-1)<<Kt,this.data[this.t++]=gn>>this.DB-Kt):this.data[this.t-1]|=gn<<Kt,(Kt+=ue)>=this.DB&&(Kt-=this.DB))}8==ue&&128&K[0]&&(this.s=-1,Kt>0&&(this.data[this.t-1]|=(1<<this.DB-Kt)-1<<Kt)),this.clamp(),Wt&&S.ZERO.subTo(this,this)},S.prototype.clamp=function G(){for(var K=this.s&this.DM;this.t>0&&this.data[this.t-1]==K;)--this.t},S.prototype.dlShiftTo=function oe(K,de){var ue;for(ue=this.t-1;ue>=0;--ue)de.data[ue+K]=this.data[ue];for(ue=K-1;ue>=0;--ue)de.data[ue]=0;de.t=this.t+K,de.s=this.s},S.prototype.drShiftTo=function Y(K,de){for(var ue=K;ue<this.t;++ue)de.data[ue-K]=this.data[ue];de.t=Math.max(this.t-K,0),de.s=this.s},S.prototype.lShiftTo=function _e(K,de){var yn,ue=K%this.DB,ze=this.DB-ue,Wt=(1<<ze)-1,Kt=Math.floor(K/this.DB),gn=this.s<<ue&this.DM;for(yn=this.t-1;yn>=0;--yn)de.data[yn+Kt+1]=this.data[yn]>>ze|gn,gn=(this.data[yn]&Wt)<<ue;for(yn=Kt-1;yn>=0;--yn)de.data[yn]=0;de.data[Kt]=gn,de.t=this.t+Kt+1,de.s=this.s,de.clamp()},S.prototype.rShiftTo=function Oe(K,de){de.s=this.s;var ue=Math.floor(K/this.DB);if(ue>=this.t)de.t=0;else{var ze=K%this.DB,Wt=this.DB-ze,Kt=(1<<ze)-1;de.data[0]=this.data[ue]>>ze;for(var gn=ue+1;gn<this.t;++gn)de.data[gn-ue-1]|=(this.data[gn]&Kt)<<Wt,de.data[gn-ue]=this.data[gn]>>ze;ze>0&&(de.data[this.t-ue-1]|=(this.s&Kt)<<Wt),de.t=this.t-ue,de.clamp()}},S.prototype.subTo=function Re(K,de){for(var ue=0,ze=0,Wt=Math.min(K.t,this.t);ue<Wt;)ze+=this.data[ue]-K.data[ue],de.data[ue++]=ze&this.DM,ze>>=this.DB;if(K.t<this.t){for(ze-=K.s;ue<this.t;)ze+=this.data[ue],de.data[ue++]=ze&this.DM,ze>>=this.DB;ze+=this.s}else{for(ze+=this.s;ue<K.t;)ze-=K.data[ue],de.data[ue++]=ze&this.DM,ze>>=this.DB;ze-=K.s}de.s=ze<0?-1:0,ze<-1?de.data[ue++]=this.DV+ze:ze>0&&(de.data[ue++]=ze),de.t=ue,de.clamp()},S.prototype.multiplyTo=function xe(K,de){var ue=this.abs(),ze=K.abs(),Wt=ue.t;for(de.t=Wt+ze.t;--Wt>=0;)de.data[Wt]=0;for(Wt=0;Wt<ze.t;++Wt)de.data[Wt+ue.t]=ue.am(0,ze.data[Wt],de,Wt,0,ue.t);de.s=0,de.clamp(),this.s!=K.s&&S.ZERO.subTo(de,de)},S.prototype.squareTo=function Je(K){for(var de=this.abs(),ue=K.t=2*de.t;--ue>=0;)K.data[ue]=0;for(ue=0;ue<de.t-1;++ue){var ze=de.am(ue,de.data[ue],K,2*ue,0,1);(K.data[ue+de.t]+=de.am(ue+1,2*de.data[ue],K,2*ue+1,ze,de.t-ue-1))>=de.DV&&(K.data[ue+de.t]-=de.DV,K.data[ue+de.t+1]=1)}K.t>0&&(K.data[K.t-1]+=de.am(ue,de.data[ue],K,2*ue,0,1)),K.s=0,K.clamp()},S.prototype.divRemTo=function Te(K,de,ue){var ze=K.abs();if(!(ze.t<=0)){var Wt=this.abs();if(Wt.t<ze.t)return de?.fromInt(0),void(null!=ue&&this.copyTo(ue));null==ue&&(ue=v());var Kt=v(),gn=this.s,yn=K.s,ti=this.DB-te(ze.data[ze.t-1]);ti>0?(ze.lShiftTo(ti,Kt),Wt.lShiftTo(ti,ue)):(ze.copyTo(Kt),Wt.copyTo(ue));var vi=Kt.t,bi=Kt.data[vi-1];if(0!=bi){var ui=bi*(1<<this.F1)+(vi>1?Kt.data[vi-2]>>this.F2:0),Ki=this.FV/ui,Dr=(1<<this.F1)/ui,Gn=1<<this.F2,ri=ue.t,ar=ri-vi,xi=de??v();for(Kt.dlShiftTo(ar,xi),ue.compareTo(xi)>=0&&(ue.data[ue.t++]=1,ue.subTo(xi,ue)),S.ONE.dlShiftTo(vi,xi),xi.subTo(Kt,Kt);Kt.t<vi;)Kt.data[Kt.t++]=0;for(;--ar>=0;){var Mr=ue.data[--ri]==bi?this.DM:Math.floor(ue.data[ri]*Ki+(ue.data[ri-1]+Gn)*Dr);if((ue.data[ri]+=Kt.am(0,Mr,ue,ar,0,vi))<Mr)for(Kt.dlShiftTo(ar,xi),ue.subTo(xi,ue);ue.data[ri]<--Mr;)ue.subTo(xi,ue)}null!=de&&(ue.drShiftTo(vi,de),gn!=yn&&S.ZERO.subTo(de,de)),ue.t=vi,ue.clamp(),ti>0&&ue.rShiftTo(ti,ue),gn<0&&S.ZERO.subTo(ue,ue)}}},S.prototype.invDigit=function Ye(){if(this.t<1)return 0;var K=this.data[0];if(!(1&K))return 0;var de=3&K;return(de=(de=(de=(de=de*(2-(15&K)*de)&15)*(2-(255&K)*de)&255)*(2-((65535&K)*de&65535))&65535)*(2-K*de%this.DV)%this.DV)>0?this.DV-de:-de},S.prototype.isEven=function q(){return 0==(this.t>0?1&this.data[0]:this.s)},S.prototype.exp=function Se(K,de){if(K>4294967295||K<1)return S.ONE;var ue=v(),ze=v(),Wt=de.convert(this),Kt=te(K)-1;for(Wt.copyTo(ue);--Kt>=0;)if(de.sqrTo(ue,ze),(K&1<<Kt)>0)de.mulTo(ze,Wt,ue);else{var gn=ue;ue=ze,ze=gn}return de.revert(ue)},S.prototype.toString=function ie(K){if(this.s<0)return"-"+this.negate().toString(K);var de;if(16==K)de=4;else if(8==K)de=3;else if(2==K)de=1;else if(32==K)de=5;else{if(4!=K)return this.toRadix(K);de=2}var ze,ue=(1<<de)-1,Wt=!1,Kt="",gn=this.t,yn=this.DB-gn*this.DB%de;if(gn-- >0)for(yn<this.DB&&(ze=this.data[gn]>>yn)>0&&(Wt=!0,Kt=k(ze));gn>=0;)yn<de?(ze=(this.data[gn]&(1<<yn)-1)<<de-yn,ze|=this.data[--gn]>>(yn+=this.DB-de)):(ze=this.data[gn]>>(yn-=de)&ue,yn<=0&&(yn+=this.DB,--gn)),ze>0&&(Wt=!0),Wt&&(Kt+=k(ze));return Wt?Kt:"0"},S.prototype.negate=function le(){var K=v();return S.ZERO.subTo(this,K),K},S.prototype.abs=function L(){return this.s<0?this.negate():this},S.prototype.compareTo=function Q(K){var de=this.s-K.s;if(0!=de)return de;var ue=this.t;if(0!=(de=ue-K.t))return this.s<0?-de:de;for(;--ue>=0;)if(0!=(de=this.data[ue]-K.data[ue]))return de;return 0},S.prototype.bitLength=function I(){return this.t<=0?0:this.DB*(this.t-1)+te(this.data[this.t-1]^this.s&this.DM)},S.prototype.mod=function we(K){var de=v();return this.abs().divRemTo(K,null,de),this.s<0&&de.compareTo(S.ZERO)>0&&K.subTo(de,de),de},S.prototype.modPowInt=function Ee(K,de){var ue;return ue=K<256||de.isEven()?new he(de):new zt(de),this.exp(K,ue)},S.ZERO=$(0),S.ONE=$(1),zn.prototype.convert=An,zn.prototype.revert=An,zn.prototype.mulTo=function fn(K,de,ue){K.multiplyTo(de,ue)},zn.prototype.sqrTo=function ci(K,de){K.squareTo(de)},Xn.prototype.convert=function Ei(K){if(K.s<0||K.t>2*this.m.t)return K.mod(this.m);if(K.compareTo(this.m)<0)return K;var de=v();return K.copyTo(de),this.reduce(de),de},Xn.prototype.revert=function pi(K){return K},Xn.prototype.reduce=function Gi(K){for(K.drShiftTo(this.m.t-1,this.r2),K.t>this.m.t+1&&(K.t=this.m.t+1,K.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);K.compareTo(this.r2)<0;)K.dAddOffset(1,this.m.t+1);for(K.subTo(this.r2,K);K.compareTo(this.m)>=0;)K.subTo(this.m,K)},Xn.prototype.mulTo=function Ti(K,de,ue){K.multiplyTo(de,ue),this.reduce(ue)},Xn.prototype.sqrTo=function ji(K,de){K.squareTo(de),this.reduce(de)};var Qt=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],Tn=(1<<26)/Qt[Qt.length-1];S.prototype.chunkSize=function pt(K){return Math.floor(Math.LN2*this.DB/Math.log(K))},S.prototype.toRadix=function Ht(K){if(null==K&&(K=10),0==this.signum()||K<2||K>36)return"0";var de=this.chunkSize(K),ue=Math.pow(K,de),ze=$(ue),Wt=v(),Kt=v(),gn="";for(this.divRemTo(ze,Wt,Kt);Wt.signum()>0;)gn=(ue+Kt.intValue()).toString(K).substr(1)+gn,Wt.divRemTo(ze,Wt,Kt);return Kt.intValue().toString(K)+gn},S.prototype.fromRadix=function en(K,de){this.fromInt(0),null==de&&(de=10);for(var ue=this.chunkSize(de),ze=Math.pow(de,ue),Wt=!1,Kt=0,gn=0,yn=0;yn<K.length;++yn){var ti=O(K,yn);ti<0?"-"==K.charAt(yn)&&0==this.signum()&&(Wt=!0):(gn=de*gn+ti,++Kt>=ue&&(this.dMultiply(ze),this.dAddOffset(gn,0),Kt=0,gn=0))}Kt>0&&(this.dMultiply(Math.pow(de,Kt)),this.dAddOffset(gn,0)),Wt&&S.ZERO.subTo(this,this)},S.prototype.fromNumber=function rt(K,de,ue){if("number"==typeof de)if(K<2)this.fromInt(1);else for(this.fromNumber(K,ue),this.testBit(K-1)||this.bitwiseTo(S.ONE.shiftLeft(K-1),ht,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(de);)this.dAddOffset(2,0),this.bitLength()>K&&this.subTo(S.ONE.shiftLeft(K-1),this);else{var ze=new Array,Wt=7&K;ze.length=1+(K>>3),de.nextBytes(ze),Wt>0?ze[0]&=(1<<Wt)-1:ze[0]=0,this.fromString(ze,256)}},S.prototype.bitwiseTo=function se(K,de,ue){var ze,Wt,Kt=Math.min(K.t,this.t);for(ze=0;ze<Kt;++ze)ue.data[ze]=de(this.data[ze],K.data[ze]);if(K.t<this.t){for(Wt=K.s&this.DM,ze=Kt;ze<this.t;++ze)ue.data[ze]=de(this.data[ze],Wt);ue.t=this.t}else{for(Wt=this.s&this.DM,ze=Kt;ze<K.t;++ze)ue.data[ze]=de(Wt,K.data[ze]);ue.t=K.t}ue.s=de(this.s,K.s),ue.clamp()},S.prototype.changeBit=function tn(K,de){var ue=S.ONE.shiftLeft(K);return this.bitwiseTo(ue,de,ue),ue},S.prototype.addTo=function di(K,de){for(var ue=0,ze=0,Wt=Math.min(K.t,this.t);ue<Wt;)ze+=this.data[ue]+K.data[ue],de.data[ue++]=ze&this.DM,ze>>=this.DB;if(K.t<this.t){for(ze+=K.s;ue<this.t;)ze+=this.data[ue],de.data[ue++]=ze&this.DM,ze>>=this.DB;ze+=this.s}else{for(ze+=this.s;ue<K.t;)ze+=K.data[ue],de.data[ue++]=ze&this.DM,ze>>=this.DB;ze+=K.s}de.s=ze<0?-1:0,ze>0?de.data[ue++]=ze:ze<-1&&(de.data[ue++]=this.DV+ze),de.t=ue,de.clamp()},S.prototype.dMultiply=function vn(K){this.data[this.t]=this.am(0,K-1,this,0,0,this.t),++this.t,this.clamp()},S.prototype.dAddOffset=function mn(K,de){if(0!=K){for(;this.t<=de;)this.data[this.t++]=0;for(this.data[de]+=K;this.data[de]>=this.DV;)this.data[de]-=this.DV,++de>=this.t&&(this.data[this.t++]=0),++this.data[de]}},S.prototype.multiplyLowerTo=function ni(K,de,ue){var Wt,ze=Math.min(this.t+K.t,de);for(ue.s=0,ue.t=ze;ze>0;)ue.data[--ze]=0;for(Wt=ue.t-this.t;ze<Wt;++ze)ue.data[ze+this.t]=this.am(0,K.data[ze],ue,ze,0,this.t);for(Wt=Math.min(K.t,de);ze<Wt;++ze)this.am(0,K.data[ze],ue,ze,0,de-ze);ue.clamp()},S.prototype.multiplyUpperTo=function Bi(K,de,ue){--de;var ze=ue.t=this.t+K.t-de;for(ue.s=0;--ze>=0;)ue.data[ze]=0;for(ze=Math.max(de-this.t,0);ze<K.t;++ze)ue.data[this.t+ze-de]=this.am(de-ze,K.data[ze],ue,0,0,this.t+ze-de);ue.clamp(),ue.drShiftTo(1,ue)},S.prototype.modInt=function Ct(K){if(K<=0)return 0;var de=this.DV%K,ue=this.s<0?K-1:0;if(this.t>0)if(0==de)ue=this.data[0]%K;else for(var ze=this.t-1;ze>=0;--ze)ue=(de*ue+this.data[ze])%K;return ue},S.prototype.millerRabin=function $e(K){var de=this.subtract(S.ONE),ue=de.getLowestSetBit();if(ue<=0)return!1;for(var Kt,ze=de.shiftRight(ue),Wt=function Qe(){return{nextBytes:function(K){for(var de=0;de<K.length;++de)K[de]=Math.floor(256*Math.random())}}}(),gn=0;gn<K;++gn){do{Kt=new S(this.bitLength(),Wt)}while(Kt.compareTo(S.ONE)<=0||Kt.compareTo(de)>=0);var yn=Kt.modPow(ze,this);if(0!=yn.compareTo(S.ONE)&&0!=yn.compareTo(de)){for(var ti=1;ti++<ue&&0!=yn.compareTo(de);)if(0==(yn=yn.modPowInt(2,this)).compareTo(S.ONE))return!1;if(0!=yn.compareTo(de))return!1}}return!0},S.prototype.clone=function lt(){var K=v();return this.copyTo(K),K},S.prototype.intValue=function Ue(){if(this.s<0){if(1==this.t)return this.data[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this.data[0];if(0==this.t)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]},S.prototype.byteValue=function at(){return 0==this.t?this.s:this.data[0]<<24>>24},S.prototype.shortValue=function Ot(){return 0==this.t?this.s:this.data[0]<<16>>16},S.prototype.signum=function it(){return this.s<0?-1:this.t<=0||1==this.t&&this.data[0]<=0?0:1},S.prototype.toByteArray=function Nt(){var K=this.t,de=new Array;de[0]=this.s;var ze,ue=this.DB-K*this.DB%8,Wt=0;if(K-- >0)for(ue<this.DB&&(ze=this.data[K]>>ue)!=(this.s&this.DM)>>ue&&(de[Wt++]=ze|this.s<<this.DB-ue);K>=0;)ue<8?(ze=(this.data[K]&(1<<ue)-1)<<8-ue,ze|=this.data[--K]>>(ue+=this.DB-8)):(ze=this.data[K]>>(ue-=8)&255,ue<=0&&(ue+=this.DB,--K)),128&ze&&(ze|=-256),0==Wt&&(128&this.s)!=(128&ze)&&++Wt,(Wt>0||ze!=this.s)&&(de[Wt++]=ze);return de},S.prototype.equals=function ve(K){return 0==this.compareTo(K)},S.prototype.min=function ae(K){return this.compareTo(K)<0?this:K},S.prototype.max=function j(K){return this.compareTo(K)>0?this:K},S.prototype.and=function qe(K){var de=v();return this.bitwiseTo(K,Be,de),de},S.prototype.or=function Ft(K){var de=v();return this.bitwiseTo(K,ht,de),de},S.prototype.xor=function un(K){var de=v();return this.bitwiseTo(K,on,de),de},S.prototype.andNot=function kn(K){var de=v();return this.bitwiseTo(K,Mn,de),de},S.prototype.not=function Bn(){for(var K=v(),de=0;de<this.t;++de)K.data[de]=this.DM&~this.data[de];return K.t=this.t,K.s=~this.s,K},S.prototype.shiftLeft=function Tt(K){var de=v();return K<0?this.rShiftTo(-K,de):this.lShiftTo(K,de),de},S.prototype.shiftRight=function Rn(K){var de=v();return K<0?this.lShiftTo(-K,de):this.rShiftTo(K,de),de},S.prototype.getLowestSetBit=function ct(){for(var K=0;K<this.t;++K)if(0!=this.data[K])return K*this.DB+Gt(this.data[K]);return this.s<0?this.t*this.DB:-1},S.prototype.bitCount=function mt(){for(var K=0,de=this.s&this.DM,ue=0;ue<this.t;++ue)K+=yt(this.data[ue]^de);return K},S.prototype.testBit=function xt(K){var de=Math.floor(K/this.DB);return de>=this.t?0!=this.s:!!(this.data[de]&1<<K%this.DB)},S.prototype.setBit=function Sn(K){return this.changeBit(K,ht)},S.prototype.clearBit=function Un(K){return this.changeBit(K,Mn)},S.prototype.flipBit=function cn(K){return this.changeBit(K,on)},S.prototype.add=function li(K){var de=v();return this.addTo(K,de),de},S.prototype.subtract=function At(K){var de=v();return this.subTo(K,de),de},S.prototype.multiply=function dt(K){var de=v();return this.multiplyTo(K,de),de},S.prototype.divide=function kt(K){var de=v();return this.divRemTo(K,de,null),de},S.prototype.remainder=function jt(K){var de=v();return this.divRemTo(K,null,de),de},S.prototype.divideAndRemainder=function Yt(K){var de=v(),ue=v();return this.divRemTo(K,de,ue),new Array(de,ue)},S.prototype.modPow=function nt(K,de){var ze,Kt,ue=K.bitLength(),Wt=$(1);if(ue<=0)return Wt;ze=ue<18?1:ue<48?3:ue<144?4:ue<768?5:6,Kt=ue<8?new he(de):de.isEven()?new Xn(de):new zt(de);var gn=new Array,yn=3,ti=ze-1,vi=(1<<ze)-1;if(gn[1]=Kt.convert(this),ze>1){var bi=v();for(Kt.sqrTo(gn[1],bi);yn<=vi;)gn[yn]=v(),Kt.mulTo(bi,gn[yn-2],gn[yn]),yn+=2}var Ki,ri,ui=K.t-1,Dr=!0,Gn=v();for(ue=te(K.data[ui])-1;ui>=0;){for(ue>=ti?Ki=K.data[ui]>>ue-ti&vi:(Ki=(K.data[ui]&(1<<ue+1)-1)<<ti-ue,ui>0&&(Ki|=K.data[ui-1]>>this.DB+ue-ti)),yn=ze;!(1&Ki);)Ki>>=1,--yn;if((ue-=yn)<0&&(ue+=this.DB,--ui),Dr)gn[Ki].copyTo(Wt),Dr=!1;else{for(;yn>1;)Kt.sqrTo(Wt,Gn),Kt.sqrTo(Gn,Wt),yn-=2;yn>0?Kt.sqrTo(Wt,Gn):(ri=Wt,Wt=Gn,Gn=ri),Kt.mulTo(Gn,gn[Ki],Wt)}for(;ui>=0&&!(K.data[ui]&1<<ue);)Kt.sqrTo(Wt,Gn),ri=Wt,Wt=Gn,Gn=ri,--ue<0&&(ue=this.DB-1,--ui)}return Kt.revert(Wt)},S.prototype.modInverse=function nn(K){var de=K.isEven();if(this.isEven()&&de||0==K.signum())return S.ZERO;for(var ue=K.clone(),ze=this.clone(),Wt=$(1),Kt=$(0),gn=$(0),yn=$(1);0!=ue.signum();){for(;ue.isEven();)ue.rShiftTo(1,ue),de?((!Wt.isEven()||!Kt.isEven())&&(Wt.addTo(this,Wt),Kt.subTo(K,Kt)),Wt.rShiftTo(1,Wt)):Kt.isEven()||Kt.subTo(K,Kt),Kt.rShiftTo(1,Kt);for(;ze.isEven();)ze.rShiftTo(1,ze),de?((!gn.isEven()||!yn.isEven())&&(gn.addTo(this,gn),yn.subTo(K,yn)),gn.rShiftTo(1,gn)):yn.isEven()||yn.subTo(K,yn),yn.rShiftTo(1,yn);ue.compareTo(ze)>=0?(ue.subTo(ze,ue),de&&Wt.subTo(gn,Wt),Kt.subTo(yn,Kt)):(ze.subTo(ue,ze),de&&gn.subTo(Wt,gn),yn.subTo(Kt,yn))}return 0!=ze.compareTo(S.ONE)?S.ZERO:yn.compareTo(K)>=0?yn.subtract(K):yn.signum()<0?(yn.addTo(K,yn),yn.signum()<0?yn.add(K):yn):yn},S.prototype.pow=function gi(K){return this.exp(K,new zn)},S.prototype.gcd=function It(K){var de=this.s<0?this.negate():this.clone(),ue=K.s<0?K.negate():K.clone();if(de.compareTo(ue)<0){var ze=de;de=ue,ue=ze}var Wt=de.getLowestSetBit(),Kt=ue.getLowestSetBit();if(Kt<0)return de;for(Wt<Kt&&(Kt=Wt),Kt>0&&(de.rShiftTo(Kt,de),ue.rShiftTo(Kt,ue));de.signum()>0;)(Wt=de.getLowestSetBit())>0&&de.rShiftTo(Wt,de),(Wt=ue.getLowestSetBit())>0&&ue.rShiftTo(Wt,ue),de.compareTo(ue)>=0?(de.subTo(ue,de),de.rShiftTo(1,de)):(ue.subTo(de,ue),ue.rShiftTo(1,ue));return Kt>0&&ue.lShiftTo(Kt,ue),ue},S.prototype.isProbablePrime=function St(K){var de,ue=this.abs();if(1==ue.t&&ue.data[0]<=Qt[Qt.length-1]){for(de=0;de<Qt.length;++de)if(ue.data[0]==Qt[de])return!0;return!1}if(ue.isEven())return!1;for(de=1;de<Qt.length;){for(var ze=Qt[de],Wt=de+1;Wt<Qt.length&&ze<Tn;)ze*=Qt[Wt++];for(ze=ue.modInt(ze);de<Wt;)if(ze%Qt[de++]==0)return!1}return ue.millerRabin(K)}},8321:(et,me,u)=>{var i=u(6589);u(812),u(1675),u(3364),et.exports=i.kem=i.kem||{};var e=i.jsbn.BigInteger;function _(g,S,v,f){g.generate=function(d,E){for(var m=new i.util.ByteBuffer,F=Math.ceil(E/f)+v,w=new i.util.ByteBuffer,C=v;C<F;++C){w.putInt32(C),S.start(),S.update(d+w.getBytes());var R=S.digest();m.putBytes(R.getBytes(f))}return m.truncate(m.length()-E),m.getBytes()}}i.kem.rsa={},i.kem.rsa.create=function(g,S){var v=(S=S||{}).prng||i.random;return{encrypt:function(d,E){var F,m=Math.ceil(d.n.bitLength()/8);do{F=new e(i.util.bytesToHex(v.getBytesSync(m)),16).mod(d.n)}while(F.compareTo(e.ONE)<=0);var w=m-(F=i.util.hexToBytes(F.toString(16))).length;return w>0&&(F=i.util.fillString("\0",w)+F),{encapsulation:d.encrypt(F,"NONE"),key:g.generate(F,E)}},decrypt:function(d,E,m){var F=d.decrypt(E,"NONE");return g.generate(F,m)}}},i.kem.kdf1=function(g,S){_(this,g,0,S||g.digestLength)},i.kem.kdf2=function(g,S){_(this,g,1,S||g.digestLength)}},872:(et,me,u)=>{var i=u(6589);u(812),et.exports=i.log=i.log||{},i.log.levels=["none","error","warning","info","debug","verbose","max"];var e={},_=[],g=null;i.log.LEVEL_LOCKED=2,i.log.NO_LEVEL_CHECK=4,i.log.INTERPOLATE=8;for(var S=0;S<i.log.levels.length;++S){var v=i.log.levels[S];e[v]={index:S,name:v.toUpperCase()}}i.log.logMessage=function(C){for(var R=e[C.level].index,k=0;k<_.length;++k){var O=_[k];O.flags&i.log.NO_LEVEL_CHECK?O.f(C):R<=e[O.level].index&&O.f(O,C)}},i.log.prepareStandard=function(C){"standard"in C||(C.standard=e[C.level].name+" ["+C.category+"] "+C.message)},i.log.prepareFull=function(C){if(!("full"in C)){var R=[C.message];R=R.concat([]),C.full=i.util.format.apply(this,R)}},i.log.prepareStandardFull=function(C){"standardFull"in C||(i.log.prepareStandard(C),C.standardFull=C.standard)};var f=["error","warning","info","debug","verbose"];for(S=0;S<f.length;++S)!function(R){i.log[R]=function(k,O){var H=Array.prototype.slice.call(arguments).slice(2);i.log.logMessage({timestamp:new Date,level:R,category:k,message:O,arguments:H})}}(f[S]);if(i.log.makeLogger=function(C){var R={flags:0,f:C};return i.log.setLevel(R,"none"),R},i.log.setLevel=function(C,R){var k=!1;if(C&&!(C.flags&i.log.LEVEL_LOCKED))for(var O=0;O<i.log.levels.length;++O)if(R==i.log.levels[O]){C.level=R,k=!0;break}return k},i.log.lock=function(C,R){typeof R>"u"||R?C.flags|=i.log.LEVEL_LOCKED:C.flags&=~i.log.LEVEL_LOCKED},i.log.addLogger=function(C){_.push(C)},typeof console<"u"&&"log"in console){var d;if(console.error&&console.warn&&console.info&&console.debug){var E={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},m=function(C,R){i.log.prepareStandard(R);var k=E[R.level],O=[R.standard];O=O.concat(R.arguments.slice()),k.apply(console,O)};d=i.log.makeLogger(m)}else m=function(R,k){i.log.prepareStandardFull(k),console.log(k.standardFull)},d=i.log.makeLogger(m);i.log.setLevel(d,"debug"),i.log.addLogger(d),g=d}else console={log:function(){}};if(null!==g&&typeof window<"u"&&window.location){var F=new URL(window.location.href).searchParams;F.has("console.level")&&i.log.setLevel(g,F.get("console.level").slice(-1)[0]),F.has("console.lock")&&"true"==F.get("console.lock").slice(-1)[0]&&i.log.lock(g)}i.log.consoleLogger=g},9228:(et,me,u)=>{et.exports=u(5437),u(4846),u(8825),u(2507),u(1290)},5437:(et,me,u)=>{var i=u(6589);et.exports=i.md=i.md||{},i.md.algorithms=i.md.algorithms||{}},4846:(et,me,u)=>{var i=u(6589);u(5437),u(812);var e=et.exports=i.md5=i.md5||{};i.md.md5=i.md.algorithms.md5=e,e.create=function(){f||function d(){_="\x80",_+=i.util.fillString("\0",64),g=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],S=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],v=new Array(64);for(var m=0;m<64;++m)v[m]=Math.floor(4294967296*Math.abs(Math.sin(m+1)));f=!0}();var m=null,F=i.util.createBuffer(),w=new Array(16),C={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){C.messageLength=0,C.fullMessageLength=C.messageLength64=[];for(var R=C.messageLengthSize/4,k=0;k<R;++k)C.fullMessageLength.push(0);return F=i.util.createBuffer(),m={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},C}};return C.start(),C.update=function(R,k){"utf8"===k&&(R=i.util.encodeUtf8(R));var O=R.length;C.messageLength+=O,O=[O/4294967296>>>0,O>>>0];for(var H=C.fullMessageLength.length-1;H>=0;--H)C.fullMessageLength[H]+=O[1],O[1]=O[0]+(C.fullMessageLength[H]/4294967296>>>0),C.fullMessageLength[H]=C.fullMessageLength[H]>>>0,O[0]=O[1]/4294967296>>>0;return F.putBytes(R),E(m,w,F),(F.read>2048||0===F.length())&&F.compact(),C},C.digest=function(){var R=i.util.createBuffer();R.putBytes(F.bytes()),R.putBytes(_.substr(0,C.blockLength-(C.fullMessageLength[C.fullMessageLength.length-1]+C.messageLengthSize&C.blockLength-1)));for(var H,x=0,$=C.fullMessageLength.length-1;$>=0;--$)x=(H=8*C.fullMessageLength[$]+x)/4294967296>>>0,R.putInt32Le(H>>>0);var U={h0:m.h0,h1:m.h1,h2:m.h2,h3:m.h3};E(U,w,R);var G=i.util.createBuffer();return G.putInt32Le(U.h0),G.putInt32Le(U.h1),G.putInt32Le(U.h2),G.putInt32Le(U.h3),G},C};var _=null,g=null,S=null,v=null,f=!1;function E(m,F,w){for(var C,R,k,O,H,$,U,G=w.length();G>=64;){for(R=m.h0,k=m.h1,O=m.h2,H=m.h3,U=0;U<16;++U)F[U]=w.getInt32Le(),C=R+(H^k&(O^H))+v[U]+F[U],R=H,H=O,O=k,k+=C<<($=S[U])|C>>>32-$;for(;U<32;++U)C=R+(O^H&(k^O))+v[U]+F[g[U]],R=H,H=O,O=k,k+=C<<($=S[U])|C>>>32-$;for(;U<48;++U)C=R+(k^O^H)+v[U]+F[g[U]],R=H,H=O,O=k,k+=C<<($=S[U])|C>>>32-$;for(;U<64;++U)C=R+(O^(k|~H))+v[U]+F[g[U]],R=H,H=O,O=k,k+=C<<($=S[U])|C>>>32-$;m.h0=m.h0+R|0,m.h1=m.h1+k|0,m.h2=m.h2+O|0,m.h3=m.h3+H|0,G-=64}}},8040:(et,me,u)=>{var i=u(6589);u(5833),et.exports=i.mgf=i.mgf||{},i.mgf.mgf1=i.mgf1},5833:(et,me,u)=>{var i=u(6589);u(812),i.mgf=i.mgf||{},(et.exports=i.mgf.mgf1=i.mgf1=i.mgf1||{}).create=function(_){return{generate:function(S,v){for(var f=new i.util.ByteBuffer,d=Math.ceil(v/_.digestLength),E=0;E<d;E++){var m=new i.util.ByteBuffer;m.putInt32(E),_.start(),_.update(S+m.getBytes()),f.putBuffer(_.digest())}return f.truncate(f.length()-v),f.getBytes()}}}},1817:(et,me,u)=>{var i=u(6589);i.pki=i.pki||{};var e=et.exports=i.pki.oids=i.oids=i.oids||{};function _(S,v){e[S]=v,e[v]=S}function g(S,v){e[S]=v}_("1.2.840.113549.1.1.1","rsaEncryption"),_("1.2.840.113549.1.1.4","md5WithRSAEncryption"),_("1.2.840.113549.1.1.5","sha1WithRSAEncryption"),_("1.2.840.113549.1.1.7","RSAES-OAEP"),_("1.2.840.113549.1.1.8","mgf1"),_("1.2.840.113549.1.1.9","pSpecified"),_("1.2.840.113549.1.1.10","RSASSA-PSS"),_("1.2.840.113549.1.1.11","sha256WithRSAEncryption"),_("1.2.840.113549.1.1.12","sha384WithRSAEncryption"),_("1.2.840.113549.1.1.13","sha512WithRSAEncryption"),_("1.3.101.112","EdDSA25519"),_("1.2.840.10040.4.3","dsa-with-sha1"),_("1.3.14.3.2.7","desCBC"),_("1.3.14.3.2.26","sha1"),_("1.3.14.3.2.29","sha1WithRSASignature"),_("2.16.840.1.101.3.4.2.1","sha256"),_("2.16.840.1.101.3.4.2.2","sha384"),_("2.16.840.1.101.3.4.2.3","sha512"),_("2.16.840.1.101.3.4.2.4","sha224"),_("2.16.840.1.101.3.4.2.5","sha512-224"),_("2.16.840.1.101.3.4.2.6","sha512-256"),_("1.2.840.113549.2.2","md2"),_("1.2.840.113549.2.5","md5"),_("1.2.840.113549.1.7.1","data"),_("1.2.840.113549.1.7.2","signedData"),_("1.2.840.113549.1.7.3","envelopedData"),_("1.2.840.113549.1.7.4","signedAndEnvelopedData"),_("1.2.840.113549.1.7.5","digestedData"),_("1.2.840.113549.1.7.6","encryptedData"),_("1.2.840.113549.1.9.1","emailAddress"),_("1.2.840.113549.1.9.2","unstructuredName"),_("1.2.840.113549.1.9.3","contentType"),_("1.2.840.113549.1.9.4","messageDigest"),_("1.2.840.113549.1.9.5","signingTime"),_("1.2.840.113549.1.9.6","counterSignature"),_("1.2.840.113549.1.9.7","challengePassword"),_("1.2.840.113549.1.9.8","unstructuredAddress"),_("1.2.840.113549.1.9.14","extensionRequest"),_("1.2.840.113549.1.9.20","friendlyName"),_("1.2.840.113549.1.9.21","localKeyId"),_("1.2.840.113549.1.9.22.1","x509Certificate"),_("1.2.840.113549.1.12.10.1.1","keyBag"),_("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag"),_("1.2.840.113549.1.12.10.1.3","certBag"),_("1.2.840.113549.1.12.10.1.4","crlBag"),_("1.2.840.113549.1.12.10.1.5","secretBag"),_("1.2.840.113549.1.12.10.1.6","safeContentsBag"),_("1.2.840.113549.1.5.13","pkcs5PBES2"),_("1.2.840.113549.1.5.12","pkcs5PBKDF2"),_("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4"),_("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4"),_("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC"),_("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC"),_("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC"),_("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC"),_("1.2.840.113549.2.7","hmacWithSHA1"),_("1.2.840.113549.2.8","hmacWithSHA224"),_("1.2.840.113549.2.9","hmacWithSHA256"),_("1.2.840.113549.2.10","hmacWithSHA384"),_("1.2.840.113549.2.11","hmacWithSHA512"),_("1.2.840.113549.3.7","des-EDE3-CBC"),_("2.16.840.1.101.3.4.1.2","aes128-CBC"),_("2.16.840.1.101.3.4.1.22","aes192-CBC"),_("2.16.840.1.101.3.4.1.42","aes256-CBC"),_("2.5.4.3","commonName"),_("2.5.4.4","surname"),_("2.5.4.5","serialNumber"),_("2.5.4.6","countryName"),_("2.5.4.7","localityName"),_("2.5.4.8","stateOrProvinceName"),_("2.5.4.9","streetAddress"),_("2.5.4.10","organizationName"),_("2.5.4.11","organizationalUnitName"),_("2.5.4.12","title"),_("2.5.4.13","description"),_("2.5.4.15","businessCategory"),_("2.5.4.17","postalCode"),_("2.5.4.42","givenName"),_("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName"),_("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName"),_("2.16.840.1.113730.1.1","nsCertType"),_("2.16.840.1.113730.1.13","nsComment"),g("2.5.29.1","authorityKeyIdentifier"),g("2.5.29.2","keyAttributes"),g("2.5.29.3","certificatePolicies"),g("2.5.29.4","keyUsageRestriction"),g("2.5.29.5","policyMapping"),g("2.5.29.6","subtreesConstraint"),g("2.5.29.7","subjectAltName"),g("2.5.29.8","issuerAltName"),g("2.5.29.9","subjectDirectoryAttributes"),g("2.5.29.10","basicConstraints"),g("2.5.29.11","nameConstraints"),g("2.5.29.12","policyConstraints"),g("2.5.29.13","basicConstraints"),_("2.5.29.14","subjectKeyIdentifier"),_("2.5.29.15","keyUsage"),g("2.5.29.16","privateKeyUsagePeriod"),_("2.5.29.17","subjectAltName"),_("2.5.29.18","issuerAltName"),_("2.5.29.19","basicConstraints"),g("2.5.29.20","cRLNumber"),g("2.5.29.21","cRLReason"),g("2.5.29.22","expirationDate"),g("2.5.29.23","instructionCode"),g("2.5.29.24","invalidityDate"),g("2.5.29.25","cRLDistributionPoints"),g("2.5.29.26","issuingDistributionPoint"),g("2.5.29.27","deltaCRLIndicator"),g("2.5.29.28","issuingDistributionPoint"),g("2.5.29.29","certificateIssuer"),g("2.5.29.30","nameConstraints"),_("2.5.29.31","cRLDistributionPoints"),_("2.5.29.32","certificatePolicies"),g("2.5.29.33","policyMappings"),g("2.5.29.34","policyConstraints"),_("2.5.29.35","authorityKeyIdentifier"),g("2.5.29.36","policyConstraints"),_("2.5.29.37","extKeyUsage"),g("2.5.29.46","freshestCRL"),g("2.5.29.54","inhibitAnyPolicy"),_("1.3.6.1.4.1.11129.2.4.2","timestampList"),_("1.3.6.1.5.5.7.1.1","authorityInfoAccess"),_("1.3.6.1.5.5.7.3.1","serverAuth"),_("1.3.6.1.5.5.7.3.2","clientAuth"),_("1.3.6.1.5.5.7.3.3","codeSigning"),_("1.3.6.1.5.5.7.3.4","emailProtection"),_("1.3.6.1.5.5.7.3.8","timeStamping")},1347:(et,me,u)=>{var i=u(6589);if(u(57),u(7097),u(3674),u(5437),u(1817),u(1097),u(9368),u(1675),u(1881),u(2880),u(812),typeof e>"u")var e=i.jsbn.BigInteger;var _=i.asn1,g=i.pki=i.pki||{};et.exports=g.pbe=i.pbe=i.pbe||{};var S=g.oids,v={name:"EncryptedPrivateKeyInfo",tagClass:_.Class.UNIVERSAL,type:_.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:_.Class.UNIVERSAL,type:_.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:_.Class.UNIVERSAL,type:_.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:_.Class.UNIVERSAL,type:_.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:_.Class.UNIVERSAL,type:_.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},f={name:"PBES2Algorithms",tagClass:_.Class.UNIVERSAL,type:_.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:_.Class.UNIVERSAL,type:_.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:_.Class.UNIVERSAL,type:_.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:_.Class.UNIVERSAL,type:_.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:_.Class.UNIVERSAL,type:_.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:_.Class.UNIVERSAL,type:_.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:_.Class.UNIVERSAL,type:_.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:_.Class.UNIVERSAL,type:_.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:_.Class.UNIVERSAL,type:_.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:_.Class.UNIVERSAL,type:_.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:_.Class.UNIVERSAL,type:_.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:_.Class.UNIVERSAL,type:_.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},d={name:"pkcs-12PbeParams",tagClass:_.Class.UNIVERSAL,type:_.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:_.Class.UNIVERSAL,type:_.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:_.Class.UNIVERSAL,type:_.Type.INTEGER,constructed:!1,capture:"iterations"}]};function E(C,R){return C.start().update(R).digest().getBytes()}function m(C){var R;if(C){if(!(R=g.oids[_.derToOid(C)])){var k=new Error("Unsupported PRF OID.");throw k.oid=C,k.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],k}}else R="hmacWithSHA1";return F(R)}function F(C){var R=i.md;switch(C){case"hmacWithSHA224":R=i.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":C=C.substr(8).toLowerCase();break;default:var k=new Error("Unsupported PRF algorithm.");throw k.algorithm=C,k.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],k}if(!R||!(C in R))throw new Error("Unknown hash algorithm: "+C);return R[C].create()}g.encryptPrivateKeyInfo=function(C,R,k){(k=k||{}).saltSize=k.saltSize||8,k.count=k.count||2048,k.algorithm=k.algorithm||"aes128",k.prfAlgorithm=k.prfAlgorithm||"sha1";var $,U,G,O=i.random.getBytesSync(k.saltSize),H=k.count,x=_.integerToDer(H);if(0===k.algorithm.indexOf("aes")||"des"===k.algorithm){var ie,le,L;switch(k.algorithm){case"aes128":$=16,ie=16,le=S["aes128-CBC"],L=i.aes.createEncryptionCipher;break;case"aes192":$=24,ie=16,le=S["aes192-CBC"],L=i.aes.createEncryptionCipher;break;case"aes256":$=32,ie=16,le=S["aes256-CBC"],L=i.aes.createEncryptionCipher;break;case"des":$=8,ie=8,le=S.desCBC,L=i.des.createEncryptionCipher;break;default:throw(Q=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=k.algorithm,Q}var te="hmacWith"+k.prfAlgorithm.toUpperCase(),I=F(te),oe=i.pkcs5.pbkdf2(R,O,H,$,I),Y=i.random.getBytesSync(ie);(_e=L(oe)).start(Y),_e.update(_.toDer(C)),_e.finish(),G=_e.output.getBytes();var Oe=function w(C,R,k,O){var H=_.create(_.Class.UNIVERSAL,_.Type.SEQUENCE,!0,[_.create(_.Class.UNIVERSAL,_.Type.OCTETSTRING,!1,C),_.create(_.Class.UNIVERSAL,_.Type.INTEGER,!1,R.getBytes())]);return"hmacWithSHA1"!==O&&H.value.push(_.create(_.Class.UNIVERSAL,_.Type.INTEGER,!1,i.util.hexToBytes(k.toString(16))),_.create(_.Class.UNIVERSAL,_.Type.SEQUENCE,!0,[_.create(_.Class.UNIVERSAL,_.Type.OID,!1,_.oidToDer(g.oids[O]).getBytes()),_.create(_.Class.UNIVERSAL,_.Type.NULL,!1,"")])),H}(O,x,$,te);U=_.create(_.Class.UNIVERSAL,_.Type.SEQUENCE,!0,[_.create(_.Class.UNIVERSAL,_.Type.OID,!1,_.oidToDer(S.pkcs5PBES2).getBytes()),_.create(_.Class.UNIVERSAL,_.Type.SEQUENCE,!0,[_.create(_.Class.UNIVERSAL,_.Type.SEQUENCE,!0,[_.create(_.Class.UNIVERSAL,_.Type.OID,!1,_.oidToDer(S.pkcs5PBKDF2).getBytes()),Oe]),_.create(_.Class.UNIVERSAL,_.Type.SEQUENCE,!0,[_.create(_.Class.UNIVERSAL,_.Type.OID,!1,_.oidToDer(le).getBytes()),_.create(_.Class.UNIVERSAL,_.Type.OCTETSTRING,!1,Y)])])])}else{var Q;if("3des"!==k.algorithm)throw(Q=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=k.algorithm,Q;$=24;var _e,Re=new i.util.ByteBuffer(O);oe=g.pbe.generatePkcs12Key(R,Re,1,H,$),Y=g.pbe.generatePkcs12Key(R,Re,2,H,$),(_e=i.des.createEncryptionCipher(oe)).start(Y),_e.update(_.toDer(C)),_e.finish(),G=_e.output.getBytes(),U=_.create(_.Class.UNIVERSAL,_.Type.SEQUENCE,!0,[_.create(_.Class.UNIVERSAL,_.Type.OID,!1,_.oidToDer(S["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),_.create(_.Class.UNIVERSAL,_.Type.SEQUENCE,!0,[_.create(_.Class.UNIVERSAL,_.Type.OCTETSTRING,!1,O),_.create(_.Class.UNIVERSAL,_.Type.INTEGER,!1,x.getBytes())])])}return _.create(_.Class.UNIVERSAL,_.Type.SEQUENCE,!0,[U,_.create(_.Class.UNIVERSAL,_.Type.OCTETSTRING,!1,G)])},g.decryptPrivateKeyInfo=function(C,R){var k=null,O={},H=[];if(!_.validate(C,v,O,H)){var x=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw x.errors=H,x}var $=_.derToOid(O.encryptionOid),U=g.pbe.getCipher($,O.encryptionParams,R),G=i.util.createBuffer(O.encryptedData);return U.update(G),U.finish()&&(k=_.fromDer(U.output)),k},g.encryptedPrivateKeyToPem=function(C,R){var k={type:"ENCRYPTED PRIVATE KEY",body:_.toDer(C).getBytes()};return i.pem.encode(k,{maxline:R})},g.encryptedPrivateKeyFromPem=function(C){var R=i.pem.decode(C)[0];if("ENCRYPTED PRIVATE KEY"!==R.type){var k=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw k.headerType=R.type,k}if(R.procType&&"ENCRYPTED"===R.procType.type)throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return _.fromDer(R.body)},g.encryptRsaPrivateKey=function(C,R,k){if(!(k=k||{}).legacy){var O=g.wrapRsaPrivateKey(g.privateKeyToAsn1(C));return O=g.encryptPrivateKeyInfo(O,R,k),g.encryptedPrivateKeyToPem(O)}var H,x,$,U;switch(k.algorithm){case"aes128":H="AES-128-CBC",$=16,x=i.random.getBytesSync(16),U=i.aes.createEncryptionCipher;break;case"aes192":H="AES-192-CBC",$=24,x=i.random.getBytesSync(16),U=i.aes.createEncryptionCipher;break;case"aes256":H="AES-256-CBC",$=32,x=i.random.getBytesSync(16),U=i.aes.createEncryptionCipher;break;case"3des":H="DES-EDE3-CBC",$=24,x=i.random.getBytesSync(8),U=i.des.createEncryptionCipher;break;case"des":H="DES-CBC",$=8,x=i.random.getBytesSync(8),U=i.des.createEncryptionCipher;break;default:var G=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+k.algorithm+'".');throw G.algorithm=k.algorithm,G}var le=U(i.pbe.opensslDeriveBytes(R,x.substr(0,8),$));le.start(x),le.update(_.toDer(g.privateKeyToAsn1(C))),le.finish();var L={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:H,parameters:i.util.bytesToHex(x).toUpperCase()},body:le.output.getBytes()};return i.pem.encode(L)},g.decryptRsaPrivateKey=function(C,R){var k=null,O=i.pem.decode(C)[0];if("ENCRYPTED PRIVATE KEY"!==O.type&&"PRIVATE KEY"!==O.type&&"RSA PRIVATE KEY"!==O.type)throw(H=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".')).headerType=H,H;if(O.procType&&"ENCRYPTED"===O.procType.type){var x,$;switch(O.dekInfo.algorithm){case"DES-CBC":x=8,$=i.des.createDecryptionCipher;break;case"DES-EDE3-CBC":x=24,$=i.des.createDecryptionCipher;break;case"AES-128-CBC":x=16,$=i.aes.createDecryptionCipher;break;case"AES-192-CBC":x=24,$=i.aes.createDecryptionCipher;break;case"AES-256-CBC":x=32,$=i.aes.createDecryptionCipher;break;case"RC2-40-CBC":x=5,$=function(L){return i.rc2.createDecryptionCipher(L,40)};break;case"RC2-64-CBC":x=8,$=function(L){return i.rc2.createDecryptionCipher(L,64)};break;case"RC2-128-CBC":x=16,$=function(L){return i.rc2.createDecryptionCipher(L,128)};break;default:var H;throw(H=new Error('Could not decrypt private key; unsupported encryption algorithm "'+O.dekInfo.algorithm+'".')).algorithm=O.dekInfo.algorithm,H}var U=i.util.hexToBytes(O.dekInfo.parameters),ie=$(i.pbe.opensslDeriveBytes(R,U.substr(0,8),x));if(ie.start(U),ie.update(i.util.createBuffer(O.body)),!ie.finish())return k;k=ie.output.getBytes()}else k=O.body;return null!==(k="ENCRYPTED PRIVATE KEY"===O.type?g.decryptPrivateKeyInfo(_.fromDer(k),R):_.fromDer(k))&&(k=g.privateKeyFromAsn1(k)),k},g.pbe.generatePkcs12Key=function(C,R,k,O,H,x){var $,U;if(typeof x>"u"||null===x){if(!("sha1"in i.md))throw new Error('"sha1" hash algorithm unavailable.');x=i.md.sha1.create()}var G=x.digestLength,ie=x.blockLength,le=new i.util.ByteBuffer,L=new i.util.ByteBuffer;if(null!=C){for(U=0;U<C.length;U++)L.putInt16(C.charCodeAt(U));L.putInt16(0)}var Q=L.length(),te=R.length(),I=new i.util.ByteBuffer;I.fillWithByte(k,ie);var oe=ie*Math.ceil(te/ie),Y=new i.util.ByteBuffer;for(U=0;U<oe;U++)Y.putByte(R.at(U%te));var _e=ie*Math.ceil(Q/ie),Oe=new i.util.ByteBuffer;for(U=0;U<_e;U++)Oe.putByte(L.at(U%Q));var Re=Y;Re.putBuffer(Oe);for(var xe=Math.ceil(H/G),Je=1;Je<=xe;Je++){var Te=new i.util.ByteBuffer;Te.putBytes(I.bytes()),Te.putBytes(Re.bytes());for(var we=0;we<O;we++)x.start(),x.update(Te.getBytes()),Te=x.digest();var he=new i.util.ByteBuffer;for(U=0;U<ie;U++)he.putByte(Te.at(U%G));var Le=Math.ceil(te/ie)+Math.ceil(Q/ie),Ae=new i.util.ByteBuffer;for($=0;$<Le;$++){var st=new i.util.ByteBuffer(Re.getBytes(ie)),Fe=511;for(U=he.length()-1;U>=0;U--)Fe>>=8,Fe+=he.at(U)+st.at(U),st.setAt(U,255&Fe);Ae.putBuffer(st)}Re=Ae,le.putBuffer(Te)}return le.truncate(le.length()-H),le},g.pbe.getCipher=function(C,R,k){switch(C){case g.oids.pkcs5PBES2:return g.pbe.getCipherForPBES2(C,R,k);case g.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case g.oids["pbewithSHAAnd40BitRC2-CBC"]:return g.pbe.getCipherForPKCS12PBE(C,R,k);default:var O=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw O.oid=C,O.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],O}},g.pbe.getCipherForPBES2=function(C,R,k){var x,O={},H=[];if(!_.validate(R,f,O,H))throw(x=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=H,x;if((C=_.derToOid(O.kdfOid))!==g.oids.pkcs5PBKDF2)throw(x=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.")).oid=C,x.supportedOids=["pkcs5PBKDF2"],x;if((C=_.derToOid(O.encOid))!==g.oids["aes128-CBC"]&&C!==g.oids["aes192-CBC"]&&C!==g.oids["aes256-CBC"]&&C!==g.oids["des-EDE3-CBC"]&&C!==g.oids.desCBC)throw(x=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.")).oid=C,x.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],x;var G,ie,$=O.kdfSalt,U=i.util.createBuffer(O.kdfIterationCount);switch(U=U.getInt(U.length()<<3),g.oids[C]){case"aes128-CBC":G=16,ie=i.aes.createDecryptionCipher;break;case"aes192-CBC":G=24,ie=i.aes.createDecryptionCipher;break;case"aes256-CBC":G=32,ie=i.aes.createDecryptionCipher;break;case"des-EDE3-CBC":G=24,ie=i.des.createDecryptionCipher;break;case"desCBC":G=8,ie=i.des.createDecryptionCipher}var le=m(O.prfOid),L=i.pkcs5.pbkdf2(k,$,U,G,le),Q=O.encIv,te=ie(L);return te.start(Q),te},g.pbe.getCipherForPKCS12PBE=function(C,R,k){var O={},H=[];if(!_.validate(R,d,O,H))throw(x=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=H,x;var G,ie,le,$=i.util.createBuffer(O.salt),U=i.util.createBuffer(O.iterations);switch(U=U.getInt(U.length()<<3),C){case g.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:G=24,ie=8,le=i.des.startDecrypting;break;case g.oids["pbewithSHAAnd40BitRC2-CBC"]:G=5,ie=8,le=function(oe,Y){var _e=i.rc2.createDecryptionCipher(oe,40);return _e.start(Y,null),_e};break;default:var x;throw(x=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.")).oid=C,x}var L=m(O.prfOid),Q=g.pbe.generatePkcs12Key(k,$,1,U,G,L);return L.start(),le(Q,g.pbe.generatePkcs12Key(k,$,2,U,ie,L))},g.pbe.opensslDeriveBytes=function(C,R,k,O){if(typeof O>"u"||null===O){if(!("md5"in i.md))throw new Error('"md5" hash algorithm unavailable.');O=i.md.md5.create()}null===R&&(R="");for(var H=[E(O,C+R)],x=16,$=1;x<k;++$,x+=16)H.push(E(O,H[$-1]+C+R));return H.join("").substr(0,k)}},1097:(et,me,u)=>{var i=u(6589);u(4579),u(5437),u(812);var _,e=i.pkcs5=i.pkcs5||{};i.util.isNodejs&&!i.options.usePureJavaScript&&(_=u(310)),et.exports=i.pbkdf2=e.pbkdf2=function(g,S,v,f,d,E){if("function"==typeof d&&(E=d,d=null),i.util.isNodejs&&!i.options.usePureJavaScript&&_.pbkdf2&&(null===d||"object"!=typeof d)&&(_.pbkdf2Sync.length>4||!d||"sha1"===d))return"string"!=typeof d&&(d="sha1"),g=Buffer.from(g,"binary"),S=Buffer.from(S,"binary"),E?4===_.pbkdf2Sync.length?_.pbkdf2(g,S,v,f,function(le,L){if(le)return E(le);E(null,L.toString("binary"))}):_.pbkdf2(g,S,v,f,d,function(le,L){if(le)return E(le);E(null,L.toString("binary"))}):4===_.pbkdf2Sync.length?_.pbkdf2Sync(g,S,v,f).toString("binary"):_.pbkdf2Sync(g,S,v,f,d).toString("binary");if((typeof d>"u"||null===d)&&(d="sha1"),"string"==typeof d){if(!(d in i.md.algorithms))throw new Error("Unknown hash algorithm: "+d);d=i.md[d].create()}var m=d.digestLength;if(f>4294967295*m){var F=new Error("Derived key is too long.");if(E)return E(F);throw F}var w=Math.ceil(f/m),C=f-(w-1)*m,R=i.hmac.create();R.start(d,g);var O,H,x,k="";if(!E){for(var $=1;$<=w;++$){R.start(null,null),R.update(S),R.update(i.util.int32ToBytes($)),O=x=R.digest().getBytes();for(var U=2;U<=v;++U)R.start(null,null),R.update(x),H=R.digest().getBytes(),O=i.util.xorBytes(O,H,m),x=H;k+=$<w?O:O.substr(0,C)}return k}function G(){if($>w)return E(null,k);R.start(null,null),R.update(S),R.update(i.util.int32ToBytes($)),O=x=R.digest().getBytes(),U=2,ie()}function ie(){if(U<=v)return R.start(null,null),R.update(x),H=R.digest().getBytes(),O=i.util.xorBytes(O,H,m),x=H,++U,i.util.setImmediate(ie);k+=$<w?O:O.substr(0,C),++$,G()}$=1,G()}},9368:(et,me,u)=>{var i=u(6589);u(812);var e=et.exports=i.pem=i.pem||{};function _(S){for(var v=S.name+": ",f=[],d=function(C,R){return" "+R},E=0;E<S.values.length;++E)f.push(S.values[E].replace(/^(\S+\r\n)/,d));v+=f.join(",")+"\r\n";var m=0,F=-1;for(E=0;E<v.length;++E,++m)if(m>65&&-1!==F){var w=v[F];","===w?(++F,v=v.substr(0,F)+"\r\n "+v.substr(F)):v=v.substr(0,F)+"\r\n"+w+v.substr(F+1),m=E-F-1,F=-1,++E}else(" "===v[E]||"\t"===v[E]||","===v[E])&&(F=E);return v}function g(S){return S.replace(/^\s+/,"")}e.encode=function(S,v){v=v||{};var d,f="-----BEGIN "+S.type+"-----\r\n";if(S.procType&&(f+=_(d={name:"Proc-Type",values:[String(S.procType.version),S.procType.type]})),S.contentDomain&&(f+=_(d={name:"Content-Domain",values:[S.contentDomain]})),S.dekInfo&&(d={name:"DEK-Info",values:[S.dekInfo.algorithm]},S.dekInfo.parameters&&d.values.push(S.dekInfo.parameters),f+=_(d)),S.headers)for(var E=0;E<S.headers.length;++E)f+=_(S.headers[E]);return S.procType&&(f+="\r\n"),(f+=i.util.encode64(S.body,v.maxline||64)+"\r\n")+"-----END "+S.type+"-----\r\n"},e.decode=function(S){for(var m,v=[],f=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,d=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,E=/\r?\n/;m=f.exec(S);){var F=m[1];"NEW CERTIFICATE REQUEST"===F&&(F="CERTIFICATE REQUEST");var w={type:F,procType:null,contentDomain:null,dekInfo:null,headers:[],body:i.util.decode64(m[3])};if(v.push(w),m[2]){for(var C=m[2].split(E),R=0;m&&R<C.length;){for(var k=C[R].replace(/\s+$/,""),O=R+1;O<C.length;++O){var H=C[O];if(!/\s/.test(H[0]))break;k+=H,R=O}if(m=k.match(d)){for(var x={name:m[1],values:[]},$=m[2].split(","),U=0;U<$.length;++U)x.values.push(g($[U]));if(w.procType)if(w.contentDomain||"Content-Domain"!==x.name)if(w.dekInfo||"DEK-Info"!==x.name)w.headers.push(x);else{if(0===x.values.length)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');w.dekInfo={algorithm:$[0],parameters:$[1]||null}}else w.contentDomain=$[0]||"";else{if("Proc-Type"!==x.name)throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(2!==x.values.length)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');w.procType={version:$[0],type:$[1]}}}++R}if("ENCRYPTED"===w.procType&&!w.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(0===v.length)throw new Error("Invalid PEM formatted message.");return v}},8788:(et,me,u)=>{var i=u(6589);u(812),u(1675),u(8825);var e=et.exports=i.pkcs1=i.pkcs1||{};function _(g,S,v){v||(v=i.md.sha1.create());for(var f="",d=Math.ceil(S/v.digestLength),E=0;E<d;++E){var m=String.fromCharCode(E>>24&255,E>>16&255,E>>8&255,255&E);v.start(),v.update(g+m),f+=v.digest().getBytes()}return f.substring(0,S)}e.encode_rsa_oaep=function(g,S,v){var f,d,E,m;"string"==typeof v?(f=v,d=arguments[3]||void 0,E=arguments[4]||void 0):v&&(f=v.label||void 0,d=v.seed||void 0,E=v.md||void 0,v.mgf1&&v.mgf1.md&&(m=v.mgf1.md)),E?E.start():E=i.md.sha1.create(),m||(m=E);var F=Math.ceil(g.n.bitLength()/8),w=F-2*E.digestLength-2;if(S.length>w)throw(C=new Error("RSAES-OAEP input message length is too long.")).length=S.length,C.maxLength=w,C;f||(f=""),E.update(f,"raw");for(var R=E.digest(),k="",O=w-S.length,H=0;H<O;H++)k+="\0";var x=R.getBytes()+k+"\x01"+S;if(d){if(d.length!==E.digestLength){var C;throw(C=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.")).seedLength=d.length,C.digestLength=E.digestLength,C}}else d=i.random.getBytes(E.digestLength);var $=_(d,F-E.digestLength-1,m),U=i.util.xorBytes(x,$,x.length),G=_(U,E.digestLength,m);return"\0"+i.util.xorBytes(d,G,d.length)+U},e.decode_rsa_oaep=function(g,S,v){var f,d,E;"string"==typeof v?(f=v,d=arguments[3]||void 0):v&&(f=v.label||void 0,d=v.md||void 0,v.mgf1&&v.mgf1.md&&(E=v.mgf1.md));var m=Math.ceil(g.n.bitLength()/8);if(S.length!==m)throw(U=new Error("RSAES-OAEP encoded message length is invalid.")).length=S.length,U.expectedLength=m,U;if(void 0===d?d=i.md.sha1.create():d.start(),E||(E=d),m<2*d.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");f||(f=""),d.update(f,"raw");for(var F=d.digest().getBytes(),w=S.charAt(0),C=S.substring(1,d.digestLength+1),R=S.substring(1+d.digestLength),k=_(R,d.digestLength,E),H=_(i.util.xorBytes(C,k,C.length),m-d.digestLength-1,E),x=i.util.xorBytes(R,H,R.length),$=x.substring(0,d.digestLength),U="\0"!==w,G=0;G<d.digestLength;++G)U|=F.charAt(G)!==$.charAt(G);for(var ie=1,le=d.digestLength,L=d.digestLength;L<x.length;L++){var Q=x.charCodeAt(L);U|=Q&(ie?65534:0),le+=ie&=1&Q^1}if(U||1!==x.charCodeAt(le))throw new Error("Invalid RSAES-OAEP padding.");return x.substring(le+1)}},4724:(et,me,u)=>{var i=u(6589);u(7097),u(4579),u(1817),u(8291),u(1347),u(1675),u(2880),u(8825),u(812),u(9436);var e=i.asn1,_=i.pki,g=et.exports=i.pkcs12=i.pkcs12||{},S={name:"ContentInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:e.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},v={name:"PFX",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"version"},S,{name:"PFX.macData",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:e.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:e.Class.UNIVERSAL,type:e.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:e.Class.UNIVERSAL,type:e.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},f={name:"SafeBag",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:e.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:e.Class.UNIVERSAL,type:e.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},d={name:"Attribute",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:e.Class.UNIVERSAL,type:e.Type.SET,constructed:!0,capture:"values"}]},E={name:"CertBag",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:e.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:e.Class.UNIVERSAL,type:e.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function m(O,H,x,$){for(var U=[],G=0;G<O.length;G++)for(var ie=0;ie<O[G].safeBags.length;ie++){var le=O[G].safeBags[ie];if(void 0===$||le.type===$){if(null===H){U.push(le);continue}void 0!==le.attributes[H]&&le.attributes[H].indexOf(x)>=0&&U.push(le)}}return U}function F(O){if(O.composed||O.constructed){for(var H=i.util.createBuffer(),x=0;x<O.value.length;++x)H.putBytes(O.value[x].value);O.composed=O.constructed=!1,O.value=H.getBytes()}return O}function C(O,H){var x={},$=[];if(!e.validate(O,i.pkcs7.asn1.encryptedDataValidator,x,$))throw(U=new Error("Cannot read EncryptedContentInfo.")).errors=$,U;var U,G=e.derToOid(x.contentType);if(G!==_.oids.data)throw(U=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.")).oid=G,U;G=e.derToOid(x.encAlgorithm);var ie=_.pbe.getCipher(G,x.encParameter,H),le=F(x.encryptedContentAsn1),L=i.util.createBuffer(le.value);if(ie.update(L),!ie.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return ie.output.getBytes()}function R(O,H,x){if(!H&&0===O.length)return[];if((O=e.fromDer(O,H)).tagClass!==e.Class.UNIVERSAL||O.type!==e.Type.SEQUENCE||!0!==O.constructed)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var $=[],U=0;U<O.value.length;U++){var ie={},le=[];if(!e.validate(O.value[U],f,ie,le))throw(L=new Error("Cannot read SafeBag.")).errors=le,L;var Q={type:e.derToOid(ie.bagId),attributes:k(ie.bagAttributes)};$.push(Q);var te,I,oe=ie.bagValue.value[0];switch(Q.type){case _.oids.pkcs8ShroudedKeyBag:if(null===(oe=_.decryptPrivateKeyInfo(oe,x)))throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case _.oids.keyBag:try{Q.key=_.privateKeyFromAsn1(oe)}catch{Q.key=null,Q.asn1=oe}continue;case _.oids.certBag:te=E,I=function(){if(e.derToOid(ie.certId)!==_.oids.x509Certificate){var _e=new Error("Unsupported certificate type, only X.509 supported.");throw _e.oid=e.derToOid(ie.certId),_e}var Oe=e.fromDer(ie.cert,H);try{Q.cert=_.certificateFromAsn1(Oe,!0)}catch{Q.cert=null,Q.asn1=Oe}};break;default:var L;throw(L=new Error("Unsupported PKCS#12 SafeBag type.")).oid=Q.type,L}if(void 0!==te&&!e.validate(oe,te,ie,le))throw(L=new Error("Cannot read PKCS#12 "+te.name)).errors=le,L;I()}return $}function k(O){var H={};if(void 0!==O)for(var x=0;x<O.length;++x){var $={},U=[];if(!e.validate(O[x],d,$,U)){var G=new Error("Cannot read PKCS#12 BagAttribute.");throw G.errors=U,G}var ie=e.derToOid($.oid);if(void 0!==_.oids[ie]){H[_.oids[ie]]=[];for(var le=0;le<$.values.length;++le)H[_.oids[ie]].push($.values[le].value)}}return H}g.pkcs12FromAsn1=function(O,H,x){"string"==typeof H?(x=H,H=!0):void 0===H&&(H=!0);var $={};if(!e.validate(O,v,$,[]))throw(G=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.")).errors=G,G;var G,ie={version:$.version.charCodeAt(0),safeContents:[],getBags:function(Re){var Je,xe={};return"localKeyId"in Re?Je=Re.localKeyId:"localKeyIdHex"in Re&&(Je=i.util.hexToBytes(Re.localKeyIdHex)),void 0===Je&&!("friendlyName"in Re)&&"bagType"in Re&&(xe[Re.bagType]=m(ie.safeContents,null,null,Re.bagType)),void 0!==Je&&(xe.localKeyId=m(ie.safeContents,"localKeyId",Je,Re.bagType)),"friendlyName"in Re&&(xe.friendlyName=m(ie.safeContents,"friendlyName",Re.friendlyName,Re.bagType)),xe},getBagsByFriendlyName:function(Re,xe){return m(ie.safeContents,"friendlyName",Re,xe)},getBagsByLocalKeyId:function(Re,xe){return m(ie.safeContents,"localKeyId",Re,xe)}};if(3!==$.version.charCodeAt(0))throw(G=new Error("PKCS#12 PFX of version other than 3 not supported.")).version=$.version.charCodeAt(0),G;if(e.derToOid($.contentType)!==_.oids.data)throw(G=new Error("Only PKCS#12 PFX in password integrity mode supported.")).oid=e.derToOid($.contentType),G;var le=$.content.value[0];if(le.tagClass!==e.Class.UNIVERSAL||le.type!==e.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(le=F(le),$.mac){var L=null,Q=0,te=e.derToOid($.macAlgorithm);switch(te){case _.oids.sha1:L=i.md.sha1.create(),Q=20;break;case _.oids.sha256:L=i.md.sha256.create(),Q=32;break;case _.oids.sha384:L=i.md.sha384.create(),Q=48;break;case _.oids.sha512:L=i.md.sha512.create(),Q=64;break;case _.oids.md5:L=i.md.md5.create(),Q=16}if(null===L)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+te);var I=new i.util.ByteBuffer($.macSalt),oe="macIterations"in $?parseInt(i.util.bytesToHex($.macIterations),16):1,Y=g.generateKey(x,I,3,oe,Q,L),_e=i.hmac.create();if(_e.start(L,Y),_e.update(le.value),_e.getMac().getBytes()!==$.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return function w(O,H,x,$){if((H=e.fromDer(H,x)).tagClass!==e.Class.UNIVERSAL||H.type!==e.Type.SEQUENCE||!0!==H.constructed)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var U=0;U<H.value.length;U++){var ie={},le=[];if(!e.validate(H.value[U],S,ie,le))throw(L=new Error("Cannot read ContentInfo.")).errors=le,L;var Q={encrypted:!1},te=null,I=ie.content.value[0];switch(e.derToOid(ie.contentType)){case _.oids.data:if(I.tagClass!==e.Class.UNIVERSAL||I.type!==e.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");te=F(I).value;break;case _.oids.encryptedData:te=C(I,$),Q.encrypted=!0;break;default:var L;throw(L=new Error("Unsupported PKCS#12 contentType.")).contentType=e.derToOid(ie.contentType),L}Q.safeBags=R(te,x,$),O.safeContents.push(Q)}}(ie,le.value,H,x),ie},g.toPkcs12Asn1=function(O,H,x,$){($=$||{}).saltSize=$.saltSize||8,$.count=$.count||2048,$.algorithm=$.algorithm||$.encAlgorithm||"aes128","useMac"in $||($.useMac=!0),"localKeyId"in $||($.localKeyId=null),"generateLocalKeyId"in $||($.generateLocalKeyId=!0);var G,U=$.localKeyId;if(null!==U)U=i.util.hexToBytes(U);else if($.generateLocalKeyId)if(H){var ie=i.util.isArray(H)?H[0]:H;"string"==typeof ie&&(ie=_.certificateFromPem(ie)),(le=i.md.sha1.create()).update(e.toDer(_.certificateToAsn1(ie)).getBytes()),U=le.digest().getBytes()}else U=i.random.getBytes(20);var L=[];null!==U&&L.push(e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(_.oids.localKeyId).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SET,!0,[e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,U)])])),"friendlyName"in $&&L.push(e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(_.oids.friendlyName).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SET,!0,[e.create(e.Class.UNIVERSAL,e.Type.BMPSTRING,!1,$.friendlyName)])])),L.length>0&&(G=e.create(e.Class.UNIVERSAL,e.Type.SET,!0,L));var Q=[],te=[];null!==H&&(te=i.util.isArray(H)?H:[H]);for(var I=[],oe=0;oe<te.length;++oe){"string"==typeof(H=te[oe])&&(H=_.certificateFromPem(H));var Y=0===oe?G:void 0,_e=_.certificateToAsn1(H),Oe=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(_.oids.certBag).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(_.oids.x509Certificate).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,e.toDer(_e).getBytes())])])]),Y]);I.push(Oe)}if(I.length>0){var Re=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,I),xe=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(_.oids.data).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,e.toDer(Re).getBytes())])]);Q.push(xe)}var Je=null;if(null!==O){var Te=_.wrapRsaPrivateKey(_.privateKeyToAsn1(O));Je=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,null===x?[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(_.oids.keyBag).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[Te]),G]:[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(_.oids.pkcs8ShroudedKeyBag).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[_.encryptPrivateKeyInfo(Te,x,$)]),G]);var we=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[Je]),he=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(_.oids.data).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,e.toDer(we).getBytes())])]);Q.push(he)}var Ae,Le=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,Q);if($.useMac){var le=i.md.sha1.create(),st=new i.util.ByteBuffer(i.random.getBytes($.saltSize)),Fe=$.count,ft=(O=g.generateKey(x,st,3,Fe,20),i.hmac.create());ft.start(le,O),ft.update(e.toDer(Le).getBytes());var Ye=ft.getMac();Ae=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(_.oids.sha1).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")]),e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,Ye.getBytes())]),e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,st.getBytes()),e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(Fe).getBytes())])}return e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(3).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(_.oids.data).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,e.toDer(Le).getBytes())])]),Ae])},g.generateKey=i.pbe.generatePkcs12Key},8645:(et,me,u)=>{var i=u(6589);u(57),u(7097),u(3674),u(1817),u(9368),u(8291),u(1675),u(812),u(9436);var e=i.asn1,_=et.exports=i.pkcs7=i.pkcs7||{};function g(O){var H={},x=[];if(!e.validate(O,_.asn1.recipientInfoValidator,H,x)){var $=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw $.errors=x,$}return{version:H.version.charCodeAt(0),issuer:i.pki.RDNAttributesAsArray(H.issuer),serialNumber:i.util.createBuffer(H.serial).toHex(),encryptedContent:{algorithm:e.derToOid(H.encAlgorithm),parameter:H.encParameter?H.encParameter.value:void 0,content:H.encKey}}}function S(O){return e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(O.version).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[i.pki.distinguishedNameToAsn1({attributes:O.issuer}),e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,i.util.hexToBytes(O.serialNumber))]),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(O.encryptedContent.algorithm).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")]),e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,O.encryptedContent.content)])}function f(O){for(var H=[],x=0;x<O.length;++x)H.push(S(O[x]));return H}function E(O){var H=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(O.version).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[i.pki.distinguishedNameToAsn1({attributes:O.issuer}),e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,i.util.hexToBytes(O.serialNumber))]),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(O.digestAlgorithm).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")])]);if(O.authenticatedAttributesAsn1&&H.value.push(O.authenticatedAttributesAsn1),H.value.push(e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(O.signatureAlgorithm).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")])),H.value.push(e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,O.signature)),O.unauthenticatedAttributes.length>0){for(var x=e.create(e.Class.CONTEXT_SPECIFIC,1,!0,[]),$=0;$<O.unauthenticatedAttributes.length;++$)x.values.push(w(O.unauthenticatedAttributes[$]));H.value.push(x)}return H}function w(O){var H;if(O.type===i.pki.oids.contentType)H=e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(O.value).getBytes());else if(O.type===i.pki.oids.messageDigest)H=e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,O.value.bytes());else if(O.type===i.pki.oids.signingTime){var x=new Date("1950-01-01T00:00:00Z"),$=new Date("2050-01-01T00:00:00Z"),U=O.value;if("string"==typeof U){var G=Date.parse(U);U=isNaN(G)?13===U.length?e.utcTimeToDate(U):e.generalizedTimeToDate(U):new Date(G)}H=U>=x&&U<$?e.create(e.Class.UNIVERSAL,e.Type.UTCTIME,!1,e.dateToUtcTime(U)):e.create(e.Class.UNIVERSAL,e.Type.GENERALIZEDTIME,!1,e.dateToGeneralizedTime(U))}return e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(O.type).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SET,!0,[H])])}function C(O){return[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(i.pki.oids.data).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(O.algorithm).getBytes()),O.parameter?e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,O.parameter.getBytes()):void 0]),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,O.content.getBytes())])]}function R(O,H,x){var $={};if(!e.validate(H,x,$,[])){var G=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw G.errors=G,G}if(e.derToOid($.contentType)!==i.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if($.encryptedContent){var le="";if(i.util.isArray($.encryptedContent))for(var L=0;L<$.encryptedContent.length;++L){if($.encryptedContent[L].type!==e.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");le+=$.encryptedContent[L].value}else le=$.encryptedContent;O.encryptedContent={algorithm:e.derToOid($.encAlgorithm),parameter:i.util.createBuffer($.encParameter.value),content:i.util.createBuffer(le)}}if($.content){if(le="",i.util.isArray($.content))for(L=0;L<$.content.length;++L){if($.content[L].type!==e.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");le+=$.content[L].value}else le=$.content;O.content=i.util.createBuffer(le)}return O.version=$.version.charCodeAt(0),O.rawCapture=$,$}function k(O){if(void 0===O.encryptedContent.key)throw new Error("Symmetric key not available.");if(void 0===O.content){var H;switch(O.encryptedContent.algorithm){case i.pki.oids["aes128-CBC"]:case i.pki.oids["aes192-CBC"]:case i.pki.oids["aes256-CBC"]:H=i.aes.createDecryptionCipher(O.encryptedContent.key);break;case i.pki.oids.desCBC:case i.pki.oids["des-EDE3-CBC"]:H=i.des.createDecryptionCipher(O.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+O.encryptedContent.algorithm)}if(H.start(O.encryptedContent.parameter),H.update(O.encryptedContent.content),!H.finish())throw new Error("Symmetric decryption failed.");O.content=H.output}}_.messageFromPem=function(O){var H=i.pem.decode(O)[0];if("PKCS7"!==H.type){var x=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw x.headerType=H.type,x}if(H.procType&&"ENCRYPTED"===H.procType.type)throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var $=e.fromDer(H.body);return _.messageFromAsn1($)},_.messageToPem=function(O,H){var x={type:"PKCS7",body:e.toDer(O.toAsn1()).getBytes()};return i.pem.encode(x,{maxline:H})},_.messageFromAsn1=function(O){var H={},x=[];if(!e.validate(O,_.asn1.contentInfoValidator,H,x)){var $=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw $.errors=x,$}var G,U=e.derToOid(H.contentType);switch(U){case i.pki.oids.envelopedData:G=_.createEnvelopedData();break;case i.pki.oids.encryptedData:G=_.createEncryptedData();break;case i.pki.oids.signedData:G=_.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+U+" is not (yet) supported.")}return G.fromAsn1(H.content.value[0]),G},_.createSignedData=function(){var O=null;return O={type:i.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function($){if(R(O,$,_.asn1.signedDataValidator),O.certificates=[],O.crls=[],O.digestAlgorithmIdentifiers=[],O.contentInfo=null,O.signerInfos=[],O.rawCapture.certificates)for(var U=O.rawCapture.certificates.value,G=0;G<U.length;++G)O.certificates.push(i.pki.certificateFromAsn1(U[G]))},toAsn1:function(){O.contentInfo||O.sign();for(var $=[],U=0;U<O.certificates.length;++U)$.push(i.pki.certificateToAsn1(O.certificates[U]));var G=[],ie=e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(O.version).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SET,!0,O.digestAlgorithmIdentifiers),O.contentInfo])]);return $.length>0&&ie.value[0].value.push(e.create(e.Class.CONTEXT_SPECIFIC,0,!0,$)),G.length>0&&ie.value[0].value.push(e.create(e.Class.CONTEXT_SPECIFIC,1,!0,G)),ie.value[0].value.push(e.create(e.Class.UNIVERSAL,e.Type.SET,!0,O.signerInfos)),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(O.type).getBytes()),ie])},addSigner:function($){var U=$.issuer,G=$.serialNumber;if($.certificate){var ie=$.certificate;"string"==typeof ie&&(ie=i.pki.certificateFromPem(ie)),U=ie.issuer.attributes,G=ie.serialNumber}var le=$.key;if(!le)throw new Error("Could not add PKCS#7 signer; no private key specified.");"string"==typeof le&&(le=i.pki.privateKeyFromPem(le));var L=$.digestAlgorithm||i.pki.oids.sha1;switch(L){case i.pki.oids.sha1:case i.pki.oids.sha256:case i.pki.oids.sha384:case i.pki.oids.sha512:case i.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+L)}var Q=$.authenticatedAttributes||[];if(Q.length>0){for(var te=!1,I=!1,oe=0;oe<Q.length;++oe){var Y=Q[oe];if(te||Y.type!==i.pki.oids.contentType){if(I||Y.type!==i.pki.oids.messageDigest);else if(I=!0,te)break}else if(te=!0,I)break}if(!te||!I)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}O.signers.push({key:le,version:1,issuer:U,serialNumber:G,digestAlgorithm:L,signatureAlgorithm:i.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:Q,unauthenticatedAttributes:[]})},sign:function($){var U;if($=$||{},"object"==typeof O.content&&null!==O.contentInfo||(O.contentInfo=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(i.pki.oids.data).getBytes())]),!("content"in O))||(O.content instanceof i.util.ByteBuffer?U=O.content.bytes():"string"==typeof O.content&&(U=i.util.encodeUtf8(O.content)),$.detached?O.detachedContent=e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,U):O.contentInfo.value.push(e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,U)]))),0!==O.signers.length){var G=function H(){for(var $={},U=0;U<O.signers.length;++U){var G=O.signers[U];(ie=G.digestAlgorithm)in $||($[ie]=i.md[i.pki.oids[ie]].create()),G.md=0===G.authenticatedAttributes.length?$[ie]:i.md[i.pki.oids[ie]].create()}for(var ie in O.digestAlgorithmIdentifiers=[],$)O.digestAlgorithmIdentifiers.push(e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(ie).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")]));return $}();!function x($){var U;if(O.detachedContent?U=O.detachedContent:U=(U=O.contentInfo.value[1]).value[0],!U)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var G=e.derToOid(O.contentInfo.value[0].value),ie=e.toDer(U);for(var le in ie.getByte(),e.getBerValueLength(ie),ie=ie.getBytes(),$)$[le].start().update(ie);for(var L=new Date,Q=0;Q<O.signers.length;++Q){var te=O.signers[Q];if(0===te.authenticatedAttributes.length){if(G!==i.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{te.authenticatedAttributesAsn1=e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var I=e.create(e.Class.UNIVERSAL,e.Type.SET,!0,[]),oe=0;oe<te.authenticatedAttributes.length;++oe){var Y=te.authenticatedAttributes[oe];Y.type===i.pki.oids.messageDigest?Y.value=$[te.digestAlgorithm].digest():Y.type===i.pki.oids.signingTime&&(Y.value||(Y.value=L)),I.value.push(w(Y)),te.authenticatedAttributesAsn1.value.push(w(Y))}ie=e.toDer(I).getBytes(),te.md.start().update(ie)}te.signature=te.key.sign(te.md,"RSASSA-PKCS1-V1_5")}O.signerInfos=function F(O){for(var H=[],x=0;x<O.length;++x)H.push(E(O[x]));return H}(O.signers)}(G)}},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function($){"string"==typeof $&&($=i.pki.certificateFromPem($)),O.certificates.push($)},addCertificateRevokationList:function($){throw new Error("PKCS#7 CRL support not yet implemented.")}}},_.createEncryptedData=function(){var O=null;return O={type:i.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:i.pki.oids["aes256-CBC"]},fromAsn1:function(H){R(O,H,_.asn1.encryptedDataValidator)},decrypt:function(H){void 0!==H&&(O.encryptedContent.key=H),k(O)}}},_.createEnvelopedData=function(){var O=null;return O={type:i.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:i.pki.oids["aes256-CBC"]},fromAsn1:function(H){var x=R(O,H,_.asn1.envelopedDataValidator);O.recipients=function v(O){for(var H=[],x=0;x<O.length;++x)H.push(g(O[x]));return H}(x.recipientInfos.value)},toAsn1:function(){return e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(O.type).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(O.version).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SET,!0,f(O.recipients)),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,C(O.encryptedContent))])])])},findRecipient:function(H){for(var x=H.issuer.attributes,$=0;$<O.recipients.length;++$){var U=O.recipients[$],G=U.issuer;if(U.serialNumber===H.serialNumber&&G.length===x.length){for(var ie=!0,le=0;le<x.length;++le)if(G[le].type!==x[le].type||G[le].value!==x[le].value){ie=!1;break}if(ie)return U}}return null},decrypt:function(H,x){if(void 0===O.encryptedContent.key&&void 0!==H&&void 0!==x)switch(H.encryptedContent.algorithm){case i.pki.oids.rsaEncryption:case i.pki.oids.desCBC:var $=x.decrypt(H.encryptedContent.content);O.encryptedContent.key=i.util.createBuffer($);break;default:throw new Error("Unsupported asymmetric cipher, OID "+H.encryptedContent.algorithm)}k(O)},addRecipient:function(H){O.recipients.push({version:0,issuer:H.issuer.attributes,serialNumber:H.serialNumber,encryptedContent:{algorithm:i.pki.oids.rsaEncryption,key:H.publicKey}})},encrypt:function(H,x){if(void 0===O.encryptedContent.content){var $,U,G;switch(H=H||O.encryptedContent.key,x=x||O.encryptedContent.algorithm){case i.pki.oids["aes128-CBC"]:$=16,U=16,G=i.aes.createEncryptionCipher;break;case i.pki.oids["aes192-CBC"]:$=24,U=16,G=i.aes.createEncryptionCipher;break;case i.pki.oids["aes256-CBC"]:$=32,U=16,G=i.aes.createEncryptionCipher;break;case i.pki.oids["des-EDE3-CBC"]:$=24,U=8,G=i.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+x)}if(void 0===H)H=i.util.createBuffer(i.random.getBytes($));else if(H.length()!=$)throw new Error("Symmetric key has wrong length; got "+H.length()+" bytes, expected "+$+".");O.encryptedContent.algorithm=x,O.encryptedContent.key=H,O.encryptedContent.parameter=i.util.createBuffer(i.random.getBytes(U));var ie=G(H);if(ie.start(O.encryptedContent.parameter.copy()),ie.update(O.content),!ie.finish())throw new Error("Symmetric encryption failed.");O.encryptedContent.content=ie.output}for(var le=0;le<O.recipients.length;++le){var L=O.recipients[le];if(void 0===L.encryptedContent.content){if(L.encryptedContent.algorithm!==i.pki.oids.rsaEncryption)throw new Error("Unsupported asymmetric cipher, OID "+L.encryptedContent.algorithm);L.encryptedContent.content=L.encryptedContent.key.encrypt(O.encryptedContent.key.data)}}}}}},8291:(et,me,u)=>{var i=u(6589);u(7097),u(812);var e=i.asn1,_=et.exports=i.pkcs7asn1=i.pkcs7asn1||{};i.pkcs7=i.pkcs7||{},i.pkcs7.asn1=_;var g={name:"ContentInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:e.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};_.contentInfoValidator=g;var S={name:"EncryptedContentInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:e.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:e.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};_.envelopedDataValidator={name:"EnvelopedData",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:e.Class.UNIVERSAL,type:e.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(S)},_.encryptedDataValidator={name:"EncryptedData",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"version"}].concat(S)},_.signedDataValidator={name:"SignedData",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:e.Class.UNIVERSAL,type:e.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},g,{name:"SignedData.Certificates",tagClass:e.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:e.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:e.Class.UNIVERSAL,type:e.Type.SET,capture:"signerInfos",optional:!0,value:[{name:"SignerInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:e.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:e.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:e.Class.UNIVERSAL,type:e.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:e.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]}]}]},_.recipientInfoValidator={name:"RecipientInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:e.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter",optional:!0}]},{name:"RecipientInfo.encryptedKey",tagClass:e.Class.UNIVERSAL,type:e.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}},9622:(et,me,u)=>{var i=u(6589);u(7097),u(1817),u(1347),u(9368),u(1097),u(4724),u(8588),u(2880),u(812),u(9436);var e=i.asn1,_=et.exports=i.pki=i.pki||{};_.pemToDer=function(g){var S=i.pem.decode(g)[0];if(S.procType&&"ENCRYPTED"===S.procType.type)throw new Error("Could not convert PEM to DER; PEM is encrypted.");return i.util.createBuffer(S.body)},_.privateKeyFromPem=function(g){var S=i.pem.decode(g)[0];if("PRIVATE KEY"!==S.type&&"RSA PRIVATE KEY"!==S.type){var v=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw v.headerType=S.type,v}if(S.procType&&"ENCRYPTED"===S.procType.type)throw new Error("Could not convert private key from PEM; PEM is encrypted.");var f=e.fromDer(S.body);return _.privateKeyFromAsn1(f)},_.privateKeyToPem=function(g,S){var v={type:"RSA PRIVATE KEY",body:e.toDer(_.privateKeyToAsn1(g)).getBytes()};return i.pem.encode(v,{maxline:S})},_.privateKeyInfoToPem=function(g,S){var v={type:"PRIVATE KEY",body:e.toDer(g).getBytes()};return i.pem.encode(v,{maxline:S})}},3697:(et,me,u)=>{var i=u(6589);u(812),u(3364),u(1675),function(){if(i.prime)et.exports=i.prime;else{var e=et.exports=i.prime=i.prime||{},_=i.jsbn.BigInteger,g=[6,4,2,4,2,4,6,2],S=new _(null);S.fromInt(30);var v=function(C,R){return C|R};e.generateProbablePrime=function(C,R,k){"function"==typeof R&&(k=R,R={});var O=(R=R||{}).algorithm||"PRIMEINC";"string"==typeof O&&(O={name:O}),O.options=O.options||{};var H=R.prng||i.random;if("PRIMEINC"===O.name)return function f(C,R,k,O){return"workers"in k?function m(C,R,k,O){if(typeof Worker>"u")return d(C,R,k,O);var H=F(C,R),x=k.workers,$=k.workLoad||100,U=30*$/8,G=k.workerScript||"forge/prime.worker.js";if(-1===x)return i.util.estimateCores(function(le,L){le&&(L=2),x=L-1,ie()});function ie(){x=Math.max(1,x);for(var le=[],L=0;L<x;++L)le[L]=new Worker(G);for(L=0;L<x;++L)le[L].addEventListener("message",I);var te=!1;function I(oe){if(!te){var Y=oe.data;if(Y.found){for(var _e=0;_e<le.length;++_e)le[_e].terminate();return te=!0,O(null,new _(Y.prime,16))}H.bitLength()>C&&(H=F(C,R));var Oe=H.toString(16);oe.target.postMessage({hex:Oe,workLoad:$}),H.dAddOffset(U,0)}}}ie()}(C,R,k,O):d(C,R,k,O)}(C,{nextBytes:function($){for(var U=H.getBytesSync($.length),G=0;G<$.length;++G)$[G]=U.charCodeAt(G)}},O.options,k);throw new Error("Invalid prime generation algorithm: "+O.name)}}function d(C,R,k,O){var H=F(C,R),$=function w(C){return C<=100?27:C<=150?18:C<=200?15:C<=250?12:C<=300?9:C<=350?8:C<=400?7:C<=500?6:C<=600?5:C<=800?4:C<=1250?3:2}(H.bitLength());"millerRabinTests"in k&&($=k.millerRabinTests);var U=10;"maxBlockTime"in k&&(U=k.maxBlockTime),E(H,C,R,0,$,U,O)}function E(C,R,k,O,H,x,$){var U=+new Date;do{if(C.bitLength()>R&&(C=F(R,k)),C.isProbablePrime(H))return $(null,C);C.dAddOffset(g[O++%8],0)}while(x<0||+new Date-U<x);i.util.setImmediate(function(){E(C,R,k,O,H,x,$)})}function F(C,R){var k=new _(C,R),O=C-1;return k.testBit(O)||k.bitwiseTo(_.ONE.shiftLeft(O),v,k),k.dAddOffset(31-k.mod(S).byteValue(),0),k}}()},409:(et,me,u)=>{var i=u(6589);u(812);var e=null;i.util.isNodejs&&!i.options.usePureJavaScript&&!process.versions["node-webkit"]&&(e=u(310)),(et.exports=i.prng=i.prng||{}).create=function(g){for(var S={plugin:g,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},v=g.md,f=new Array(32),d=0;d<32;++d)f[d]=v.create();function m(){if(S.pools[0].messageLength>=32)return F();S.collect(S.seedFileSync(32-S.pools[0].messageLength<<5)),F()}function F(){S.reseeds=4294967295===S.reseeds?0:S.reseeds+1;var C=S.plugin.md.create();C.update(S.keyBytes);for(var R=1,k=0;k<32;++k)S.reseeds%R==0&&(C.update(S.pools[k].digest().getBytes()),S.pools[k].start()),R<<=1;S.keyBytes=C.digest().getBytes(),C.start(),C.update(S.keyBytes);var O=C.digest().getBytes();S.key=S.plugin.formatKey(S.keyBytes),S.seed=S.plugin.formatSeed(O),S.generated=0}function w(C){var R=null,k=i.util.globalScope,O=k.crypto||k.msCrypto;O&&O.getRandomValues&&(R=function(Q){return O.getRandomValues(Q)});var H=i.util.createBuffer();if(R)for(;H.length()<C;){var x=Math.max(1,Math.min(C-H.length(),65536)/4),$=new Uint32Array(Math.floor(x));try{R($);for(var U=0;U<$.length;++U)H.putInt32($[U])}catch(Q){if(!(typeof QuotaExceededError<"u"&&Q instanceof QuotaExceededError))throw Q}}if(H.length()<C)for(var G,ie,le,L=Math.floor(65536*Math.random());H.length()<C;)for(ie=16807*(65535&L),ie+=(32767&(G=16807*(L>>16)))<<16,L=4294967295&(ie=(2147483647&(ie+=G>>15))+(ie>>31)),U=0;U<3;++U)le=L>>>(U<<3),le^=Math.floor(256*Math.random()),H.putByte(255&le);return H.getBytes(C)}return S.pools=f,S.pool=0,S.generate=function(C,R){if(!R)return S.generateSync(C);var k=S.plugin.cipher,O=S.plugin.increment,H=S.plugin.formatKey,x=S.plugin.formatSeed,$=i.util.createBuffer();S.key=null,function U(G){if(G)return R(G);if($.length()>=C)return R(null,$.getBytes(C));if(S.generated>1048575&&(S.key=null),null===S.key)return i.util.nextTick(function(){!function E(C){if(S.pools[0].messageLength>=32)return F(),C();S.seedFile(32-S.pools[0].messageLength<<5,function(k,O){if(k)return C(k);S.collect(O),F(),C()})}(U)});var ie=k(S.key,S.seed);S.generated+=ie.length,$.putBytes(ie),S.key=H(k(S.key,O(S.seed))),S.seed=x(k(S.key,S.seed)),i.util.setImmediate(U)}()},S.generateSync=function(C){var R=S.plugin.cipher,k=S.plugin.increment,O=S.plugin.formatKey,H=S.plugin.formatSeed;S.key=null;for(var x=i.util.createBuffer();x.length()<C;){S.generated>1048575&&(S.key=null),null===S.key&&m();var $=R(S.key,S.seed);S.generated+=$.length,x.putBytes($),S.key=O(R(S.key,k(S.seed))),S.seed=H(R(S.key,S.seed))}return x.getBytes(C)},e?(S.seedFile=function(C,R){e.randomBytes(C,function(k,O){if(k)return R(k);R(null,O.toString())})},S.seedFileSync=function(C){return e.randomBytes(C).toString()}):(S.seedFile=function(C,R){try{R(null,w(C))}catch(k){R(k)}},S.seedFileSync=w),S.collect=function(C){for(var R=C.length,k=0;k<R;++k)S.pools[S.pool].update(C.substr(k,1)),S.pool=31===S.pool?0:S.pool+1},S.collectInt=function(C,R){for(var k="",O=0;O<R;O+=8)k+=String.fromCharCode(C>>O&255);S.collect(k)},S.registerWorker=function(C){C===self?S.seedFile=function(k,O){self.addEventListener("message",function H(x){var $=x.data;$.forge&&$.forge.prng&&(self.removeEventListener("message",H),O($.forge.prng.err,$.forge.prng.bytes))}),self.postMessage({forge:{prng:{needed:k}}})}:C.addEventListener("message",function(k){var O=k.data;O.forge&&O.forge.prng&&S.seedFile(O.forge.prng.needed,function(H,x){C.postMessage({forge:{prng:{err:H,bytes:x}}})})})},S}},8588:(et,me,u)=>{var i=u(6589);u(1675),u(812),(et.exports=i.pss=i.pss||{}).create=function(_){3===arguments.length&&(_={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var d,g=_.md,S=_.mgf,v=g.digestLength,f=_.salt||null;if("string"==typeof f&&(f=i.util.createBuffer(f)),"saltLength"in _)d=_.saltLength;else{if(null===f)throw new Error("Salt length not specified or specific salt not given.");d=f.length()}if(null!==f&&f.length()!==d)throw new Error("Given salt length does not match length of given salt.");var E=_.prng||i.random;return{encode:function(F,w){var C,H,R=w-1,k=Math.ceil(R/8),O=F.digest().getBytes();if(k<v+d+2)throw new Error("Message is too long to encrypt.");H=null===f?E.getBytesSync(d):f.bytes();var x=new i.util.ByteBuffer;x.fillWithByte(0,8),x.putBytes(O),x.putBytes(H),g.start(),g.update(x.getBytes());var $=g.digest().getBytes(),U=new i.util.ByteBuffer;U.fillWithByte(0,k-d-v-2),U.putByte(1),U.putBytes(H);var G=U.getBytes(),ie=k-v-1,le=S.generate($,ie),L="";for(C=0;C<ie;C++)L+=String.fromCharCode(G.charCodeAt(C)^le.charCodeAt(C));var Q=65280>>8*k-R&255;return(L=String.fromCharCode(L.charCodeAt(0)&~Q)+L.substr(1))+$+"\xbc"},verify:function(F,w,C){var R,k=C-1,O=Math.ceil(k/8);if(w=w.substr(-O),O<v+d+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(188!==w.charCodeAt(O-1))throw new Error("Encoded message does not end in 0xBC.");var H=O-v-1,x=w.substr(0,H),$=w.substr(H,v),U=65280>>8*O-k&255;if(x.charCodeAt(0)&U)throw new Error("Bits beyond keysize not zero as expected.");var G=S.generate($,H),ie="";for(R=0;R<H;R++)ie+=String.fromCharCode(x.charCodeAt(R)^G.charCodeAt(R));ie=String.fromCharCode(ie.charCodeAt(0)&~U)+ie.substr(1);var le=O-v-d-2;for(R=0;R<le;R++)if(0!==ie.charCodeAt(R))throw new Error("Leftmost octets not zero as expected");if(1!==ie.charCodeAt(le))throw new Error("Inconsistent PSS signature, 0x01 marker not found");var L=ie.substr(-d),Q=new i.util.ByteBuffer;return Q.fillWithByte(0,8),Q.putBytes(F),Q.putBytes(L),g.start(),g.update(Q.getBytes()),$===g.digest().getBytes()}}}},1675:(et,me,u)=>{var i=u(6589);u(57),u(2507),u(409),u(812),i.random&&i.random.getBytes?et.exports=i.random:function(e){var _={},g=new Array(4),S=i.util.createBuffer();function v(){var C=i.prng.create(_);return C.getBytes=function(R,k){return C.generate(R,k)},C.getBytesSync=function(R){return C.generate(R)},C}_.formatKey=function(C){var R=i.util.createBuffer(C);return(C=new Array(4))[0]=R.getInt32(),C[1]=R.getInt32(),C[2]=R.getInt32(),C[3]=R.getInt32(),i.aes._expandKey(C,!1)},_.formatSeed=function(C){var R=i.util.createBuffer(C);return(C=new Array(4))[0]=R.getInt32(),C[1]=R.getInt32(),C[2]=R.getInt32(),C[3]=R.getInt32(),C},_.cipher=function(C,R){return i.aes._updateBlock(C,R,g,!1),S.putInt32(g[0]),S.putInt32(g[1]),S.putInt32(g[2]),S.putInt32(g[3]),S.getBytes()},_.increment=function(C){return++C[3],C},_.md=i.md.sha256;var f=v(),d=null,E=i.util.globalScope,m=E.crypto||E.msCrypto;if(m&&m.getRandomValues&&(d=function(C){return m.getRandomValues(C)}),i.options.usePureJavaScript||!i.util.isNodejs&&!d){if(typeof window>"u"||window,f.collectInt(+new Date,32),typeof navigator<"u"){var F="";for(var w in navigator)try{"string"==typeof navigator[w]&&(F+=navigator[w])}catch{}f.collect(F),F=null}e&&(e().mousemove(function(C){f.collectInt(C.clientX,16),f.collectInt(C.clientY,16)}),e().keypress(function(C){f.collectInt(C.charCode,8)}))}if(i.random)for(var w in f)i.random[w]=f[w];else i.random=f;i.random.createInstance=v,et.exports=i.random}(typeof jQuery<"u"?jQuery:null)},1881:(et,me,u)=>{var i=u(6589);u(812);var e=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],_=[1,2,3,5],g=function(f,d){return f<<d&65535|(65535&f)>>16-d},S=function(f,d){return(65535&f)>>d|f<<16-d&65535};et.exports=i.rc2=i.rc2||{},i.rc2.expandKey=function(f,d){"string"==typeof f&&(f=i.util.createBuffer(f)),d=d||128;var R,E=f,m=f.length(),F=d,w=Math.ceil(F/8),C=255>>(7&F);for(R=m;R<128;R++)E.putByte(e[E.at(R-1)+E.at(R-m)&255]);for(E.setAt(128-w,e[E.at(128-w)&C]),R=127-w;R>=0;R--)E.setAt(R,e[E.at(R+1)^E.at(R+w)]);return E};var v=function(f,d,E){var R,k,O,H,m=!1,F=null,w=null,C=null,x=[];for(f=i.rc2.expandKey(f,d),O=0;O<64;O++)x.push(f.getInt16Le());E?(R=function(G){for(O=0;O<4;O++)G[O]+=x[H]+(G[(O+3)%4]&G[(O+2)%4])+(~G[(O+3)%4]&G[(O+1)%4]),G[O]=g(G[O],_[O]),H++},k=function(G){for(O=0;O<4;O++)G[O]+=x[63&G[(O+3)%4]]}):(R=function(G){for(O=3;O>=0;O--)G[O]=S(G[O],_[O]),G[O]-=x[H]+(G[(O+3)%4]&G[(O+2)%4])+(~G[(O+3)%4]&G[(O+1)%4]),H--},k=function(G){for(O=3;O>=0;O--)G[O]-=x[63&G[(O+3)%4]]});var $=function(G){var ie=[];for(O=0;O<4;O++){var le=F.getInt16Le();null!==C&&(E?le^=C.getInt16Le():C.putInt16Le(le)),ie.push(65535&le)}H=E?0:63;for(var L=0;L<G.length;L++)for(var Q=0;Q<G[L][0];Q++)G[L][1](ie);for(O=0;O<4;O++)null!==C&&(E?C.putInt16Le(ie[O]):ie[O]^=C.getInt16Le()),w.putInt16Le(ie[O])},U=null;return U={start:function(G,ie){G&&"string"==typeof G&&(G=i.util.createBuffer(G)),m=!1,F=i.util.createBuffer(),w=ie||new i.util.createBuffer,C=G,U.output=w},update:function(G){for(m||F.putBuffer(G);F.length()>=8;)$([[5,R],[1,k],[6,R],[1,k],[5,R]])},finish:function(G){var ie=!0;if(E)if(G)ie=G(8,F,!E);else{var le=8===F.length()?8:8-F.length();F.fillWithByte(le,le)}if(ie&&(m=!0,U.update()),!E&&(ie=0===F.length()))if(G)ie=G(8,w,!E);else{var L=w.length(),Q=w.at(L-1);Q>L?ie=!1:w.truncate(Q)}return ie}}};i.rc2.startEncrypting=function(f,d,E){var m=i.rc2.createEncryptionCipher(f,128);return m.start(d,E),m},i.rc2.createEncryptionCipher=function(f,d){return v(f,d,!0)},i.rc2.startDecrypting=function(f,d,E){var m=i.rc2.createDecryptionCipher(f,128);return m.start(d,E),m},i.rc2.createDecryptionCipher=function(f,d){return v(f,d,!1)}},2880:(et,me,u)=>{var i=u(6589);if(u(7097),u(3364),u(1817),u(8788),u(3697),u(1675),u(812),typeof e>"u")var e=i.jsbn.BigInteger;var _=i.util.isNodejs?u(310):null,g=i.asn1,S=i.util;i.pki=i.pki||{},et.exports=i.pki.rsa=i.rsa=i.rsa||{};var v=i.pki,f=[6,4,2,4,2,4,6,2],d={name:"PrivateKeyInfo",tagClass:g.Class.UNIVERSAL,type:g.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:g.Class.UNIVERSAL,type:g.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:g.Class.UNIVERSAL,type:g.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:g.Class.UNIVERSAL,type:g.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:g.Class.UNIVERSAL,type:g.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},E={name:"RSAPrivateKey",tagClass:g.Class.UNIVERSAL,type:g.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:g.Class.UNIVERSAL,type:g.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:g.Class.UNIVERSAL,type:g.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:g.Class.UNIVERSAL,type:g.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:g.Class.UNIVERSAL,type:g.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:g.Class.UNIVERSAL,type:g.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:g.Class.UNIVERSAL,type:g.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:g.Class.UNIVERSAL,type:g.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:g.Class.UNIVERSAL,type:g.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:g.Class.UNIVERSAL,type:g.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},m={name:"RSAPublicKey",tagClass:g.Class.UNIVERSAL,type:g.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:g.Class.UNIVERSAL,type:g.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:g.Class.UNIVERSAL,type:g.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},F=i.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:g.Class.UNIVERSAL,type:g.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:g.Class.UNIVERSAL,type:g.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:g.Class.UNIVERSAL,type:g.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:g.Class.UNIVERSAL,type:g.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:g.Class.UNIVERSAL,type:g.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},w={name:"DigestInfo",tagClass:g.Class.UNIVERSAL,type:g.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:g.Class.UNIVERSAL,type:g.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:g.Class.UNIVERSAL,type:g.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:g.Class.UNIVERSAL,type:g.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:g.Class.UNIVERSAL,type:g.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},C=function(I){if(!(I.algorithm in v.oids)){var Y=new Error("Unknown message digest algorithm.");throw Y.algorithm=I.algorithm,Y}var _e=g.oidToDer(v.oids[I.algorithm]).getBytes(),Oe=g.create(g.Class.UNIVERSAL,g.Type.SEQUENCE,!0,[]),Re=g.create(g.Class.UNIVERSAL,g.Type.SEQUENCE,!0,[]);Re.value.push(g.create(g.Class.UNIVERSAL,g.Type.OID,!1,_e)),Re.value.push(g.create(g.Class.UNIVERSAL,g.Type.NULL,!1,""));var xe=g.create(g.Class.UNIVERSAL,g.Type.OCTETSTRING,!1,I.digest().getBytes());return Oe.value.push(Re),Oe.value.push(xe),g.toDer(Oe).getBytes()},R=function(I,oe,Y){if(Y)return I.modPow(oe.e,oe.n);if(!oe.p||!oe.q)return I.modPow(oe.d,oe.n);var _e;oe.dP||(oe.dP=oe.d.mod(oe.p.subtract(e.ONE))),oe.dQ||(oe.dQ=oe.d.mod(oe.q.subtract(e.ONE))),oe.qInv||(oe.qInv=oe.q.modInverse(oe.p));do{_e=new e(i.util.bytesToHex(i.random.getBytes(oe.n.bitLength()/8)),16)}while(_e.compareTo(oe.n)>=0||!_e.gcd(oe.n).equals(e.ONE));for(var Oe=(I=I.multiply(_e.modPow(oe.e,oe.n)).mod(oe.n)).mod(oe.p).modPow(oe.dP,oe.p),Re=I.mod(oe.q).modPow(oe.dQ,oe.q);Oe.compareTo(Re)<0;)Oe=Oe.add(oe.p);var xe=Oe.subtract(Re).multiply(oe.qInv).mod(oe.p).multiply(oe.q).add(Re);return xe.multiply(_e.modInverse(oe.n)).mod(oe.n)};function k(I,oe,Y){var _e=i.util.createBuffer(),Oe=Math.ceil(oe.n.bitLength()/8);if(I.length>Oe-11){var Re=new Error("Message is too long for PKCS#1 v1.5 padding.");throw Re.length=I.length,Re.max=Oe-11,Re}_e.putByte(0),_e.putByte(Y);var Je,xe=Oe-3-I.length;if(0===Y||1===Y){Je=0===Y?0:255;for(var Te=0;Te<xe;++Te)_e.putByte(Je)}else for(;xe>0;){var we=0,he=i.random.getBytes(xe);for(Te=0;Te<xe;++Te)0===(Je=he.charCodeAt(Te))?++we:_e.putByte(Je);xe=we}return _e.putByte(0),_e.putBytes(I),_e}function O(I,oe,Y,_e){var Oe=Math.ceil(oe.n.bitLength()/8),Re=i.util.createBuffer(I),xe=Re.getByte(),Je=Re.getByte();if(0!==xe||Y&&0!==Je&&1!==Je||!Y&&2!=Je||Y&&0===Je&&typeof _e>"u")throw new Error("Encryption block is invalid.");var Te=0;if(0===Je){Te=Oe-3-_e;for(var we=0;we<Te;++we)if(0!==Re.getByte())throw new Error("Encryption block is invalid.")}else if(1===Je)for(Te=0;Re.length()>1;){if(255!==Re.getByte()){--Re.read;break}++Te}else if(2===Je)for(Te=0;Re.length()>1;){if(0===Re.getByte()){--Re.read;break}++Te}if(0!==Re.getByte()||Te!==Oe-3-Re.length())throw new Error("Encryption block is invalid.");return Re.getBytes()}function x(I){var oe=I.toString(16);oe[0]>="8"&&(oe="00"+oe);var Y=i.util.hexToBytes(oe);return!(Y.length>1)||(0!==Y.charCodeAt(0)||128&Y.charCodeAt(1))&&(255!==Y.charCodeAt(0)||128&~Y.charCodeAt(1))?Y:Y.substr(1)}function $(I){return I<=100?27:I<=150?18:I<=200?15:I<=250?12:I<=300?9:I<=350?8:I<=400?7:I<=500?6:I<=600?5:I<=800?4:I<=1250?3:2}function U(I){return i.util.isNodejs&&"function"==typeof _[I]}function G(I){return typeof S.globalScope<"u"&&"object"==typeof S.globalScope.crypto&&"object"==typeof S.globalScope.crypto.subtle&&"function"==typeof S.globalScope.crypto.subtle[I]}function ie(I){return typeof S.globalScope<"u"&&"object"==typeof S.globalScope.msCrypto&&"object"==typeof S.globalScope.msCrypto.subtle&&"function"==typeof S.globalScope.msCrypto.subtle[I]}function le(I){for(var oe=i.util.hexToBytes(I.toString(16)),Y=new Uint8Array(oe.length),_e=0;_e<oe.length;++_e)Y[_e]=oe.charCodeAt(_e);return Y}v.rsa.encrypt=function(I,oe,Y){var Oe,_e=Y,Re=Math.ceil(oe.n.bitLength()/8);!1!==Y&&!0!==Y?(_e=2===Y,Oe=k(I,oe,Y)):(Oe=i.util.createBuffer()).putBytes(I);for(var xe=new e(Oe.toHex(),16),Te=R(xe,oe,_e).toString(16),we=i.util.createBuffer(),he=Re-Math.ceil(Te.length/2);he>0;)we.putByte(0),--he;return we.putBytes(i.util.hexToBytes(Te)),we.getBytes()},v.rsa.decrypt=function(I,oe,Y,_e){var Oe=Math.ceil(oe.n.bitLength()/8);if(I.length!==Oe){var Re=new Error("Encrypted message length is invalid.");throw Re.length=I.length,Re.expected=Oe,Re}var xe=new e(i.util.createBuffer(I).toHex(),16);if(xe.compareTo(oe.n)>=0)throw new Error("Encrypted message is invalid.");for(var Te=R(xe,oe,Y).toString(16),we=i.util.createBuffer(),he=Oe-Math.ceil(Te.length/2);he>0;)we.putByte(0),--he;return we.putBytes(i.util.hexToBytes(Te)),!1!==_e?O(we.getBytes(),oe,Y):we.getBytes()},v.rsa.createKeyPairGenerationState=function(I,oe,Y){"string"==typeof I&&(I=parseInt(I,10)),I=I||2048;var xe,_e=(Y=Y||{}).prng||i.random,Oe={nextBytes:function(Je){for(var Te=_e.getBytesSync(Je.length),we=0;we<Je.length;++we)Je[we]=Te.charCodeAt(we)}},Re=Y.algorithm||"PRIMEINC";if("PRIMEINC"!==Re)throw new Error("Invalid key generation algorithm: "+Re);return(xe={algorithm:Re,state:0,bits:I,rng:Oe,eInt:oe||65537,e:new e(null),p:null,q:null,qBits:I>>1,pBits:I-(I>>1),pqState:0,num:null,keys:null}).e.fromInt(xe.eInt),xe},v.rsa.stepKeyPairGenerationState=function(I,oe){"algorithm"in I||(I.algorithm="PRIMEINC");var Y=new e(null);Y.fromInt(30);for(var xe,_e=0,Oe=function(Le,Ae){return Le|Ae},Re=+new Date,Je=0;null===I.keys&&(oe<=0||Je<oe);){if(0===I.state){var Te=null===I.p?I.pBits:I.qBits,we=Te-1;0===I.pqState?(I.num=new e(Te,I.rng),I.num.testBit(we)||I.num.bitwiseTo(e.ONE.shiftLeft(we),Oe,I.num),I.num.dAddOffset(31-I.num.mod(Y).byteValue(),0),_e=0,++I.pqState):1===I.pqState?I.num.bitLength()>Te?I.pqState=0:I.num.isProbablePrime($(I.num.bitLength()))?++I.pqState:I.num.dAddOffset(f[_e++%8],0):2===I.pqState?I.pqState=0===I.num.subtract(e.ONE).gcd(I.e).compareTo(e.ONE)?3:0:3===I.pqState&&(I.pqState=0,null===I.p?I.p=I.num:I.q=I.num,null!==I.p&&null!==I.q&&++I.state,I.num=null)}else if(1===I.state)I.p.compareTo(I.q)<0&&(I.num=I.p,I.p=I.q,I.q=I.num),++I.state;else if(2===I.state)I.p1=I.p.subtract(e.ONE),I.q1=I.q.subtract(e.ONE),I.phi=I.p1.multiply(I.q1),++I.state;else if(3===I.state)0===I.phi.gcd(I.e).compareTo(e.ONE)?++I.state:(I.p=null,I.q=null,I.state=0);else if(4===I.state)I.n=I.p.multiply(I.q),I.n.bitLength()===I.bits?++I.state:(I.q=null,I.state=0);else if(5===I.state){var he=I.e.modInverse(I.phi);I.keys={privateKey:v.rsa.setPrivateKey(I.n,I.e,he,I.p,I.q,he.mod(I.p1),he.mod(I.q1),I.q.modInverse(I.p)),publicKey:v.rsa.setPublicKey(I.n,I.e)}}Je+=(xe=+new Date)-Re,Re=xe}return null!==I.keys},v.rsa.generateKeyPair=function(I,oe,Y,_e){if(1===arguments.length?"object"==typeof I?(Y=I,I=void 0):"function"==typeof I&&(_e=I,I=void 0):2===arguments.length?"number"==typeof I?"function"==typeof oe?(_e=oe,oe=void 0):"number"!=typeof oe&&(Y=oe,oe=void 0):(Y=I,_e=oe,I=void 0,oe=void 0):3===arguments.length&&("number"==typeof oe?"function"==typeof Y&&(_e=Y,Y=void 0):(_e=Y,Y=oe,oe=void 0)),Y=Y||{},void 0===I&&(I=Y.bits||2048),void 0===oe&&(oe=Y.e||65537),!i.options.usePureJavaScript&&!Y.prng&&I>=256&&I<=16384&&(65537===oe||3===oe))if(_e){if(U("generateKeyPair"))return _.generateKeyPair("rsa",{modulusLength:I,publicExponent:oe,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(Je,Te,we){if(Je)return _e(Je);_e(null,{privateKey:v.privateKeyFromPem(we),publicKey:v.publicKeyFromPem(Te)})});if(G("generateKey")&&G("exportKey"))return S.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:I,publicExponent:le(oe),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(Je){return S.globalScope.crypto.subtle.exportKey("pkcs8",Je.privateKey)}).then(void 0,function(Je){_e(Je)}).then(function(Je){if(Je){var Te=v.privateKeyFromAsn1(g.fromDer(i.util.createBuffer(Je)));_e(null,{privateKey:Te,publicKey:v.setRsaPublicKey(Te.n,Te.e)})}});if(ie("generateKey")&&ie("exportKey")){var Oe=S.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:I,publicExponent:le(oe),hash:{name:"SHA-256"}},!0,["sign","verify"]);return Oe.oncomplete=function(Je){var we=S.globalScope.msCrypto.subtle.exportKey("pkcs8",Je.target.result.privateKey);we.oncomplete=function(he){var Ae=v.privateKeyFromAsn1(g.fromDer(i.util.createBuffer(he.target.result)));_e(null,{privateKey:Ae,publicKey:v.setRsaPublicKey(Ae.n,Ae.e)})},we.onerror=function(he){_e(he)}},void(Oe.onerror=function(Je){_e(Je)})}}else if(U("generateKeyPairSync")){var Re=_.generateKeyPairSync("rsa",{modulusLength:I,publicExponent:oe,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:v.privateKeyFromPem(Re.privateKey),publicKey:v.publicKeyFromPem(Re.publicKey)}}var xe=v.rsa.createKeyPairGenerationState(I,oe,Y);if(!_e)return v.rsa.stepKeyPairGenerationState(xe,0),xe.keys;!function H(I,oe,Y){"function"==typeof oe&&(Y=oe,oe={});var _e={algorithm:{name:(oe=oe||{}).algorithm||"PRIMEINC",options:{workers:oe.workers||2,workLoad:oe.workLoad||100,workerScript:oe.workerScript}}};function Oe(){Re(I.pBits,function(Je,Te){return Je?Y(Je):(I.p=Te,null!==I.q?xe(Je,I.q):void Re(I.qBits,xe))})}function Re(Je,Te){i.prime.generateProbablePrime(Je,_e,Te)}function xe(Je,Te){if(Je)return Y(Je);if(I.q=Te,I.p.compareTo(I.q)<0){var we=I.p;I.p=I.q,I.q=we}if(0!==I.p.subtract(e.ONE).gcd(I.e).compareTo(e.ONE))return I.p=null,void Oe();if(0!==I.q.subtract(e.ONE).gcd(I.e).compareTo(e.ONE))return I.q=null,void Re(I.qBits,xe);if(I.p1=I.p.subtract(e.ONE),I.q1=I.q.subtract(e.ONE),I.phi=I.p1.multiply(I.q1),0!==I.phi.gcd(I.e).compareTo(e.ONE))return I.p=I.q=null,void Oe();if(I.n=I.p.multiply(I.q),I.n.bitLength()!==I.bits)return I.q=null,void Re(I.qBits,xe);var he=I.e.modInverse(I.phi);I.keys={privateKey:v.rsa.setPrivateKey(I.n,I.e,he,I.p,I.q,he.mod(I.p1),he.mod(I.q1),I.q.modInverse(I.p)),publicKey:v.rsa.setPublicKey(I.n,I.e)},Y(null,I.keys)}"prng"in oe&&(_e.prng=oe.prng),Oe()}(xe,Y,_e)},v.setRsaPublicKey=v.rsa.setPublicKey=function(I,oe){var Y={n:I,e:oe,encrypt:function(_e,Oe,Re){if("string"==typeof Oe?Oe=Oe.toUpperCase():void 0===Oe&&(Oe="RSAES-PKCS1-V1_5"),"RSAES-PKCS1-V1_5"===Oe)Oe={encode:function(Je,Te,we){return k(Je,Te,2).getBytes()}};else if("RSA-OAEP"===Oe||"RSAES-OAEP"===Oe)Oe={encode:function(Je,Te){return i.pkcs1.encode_rsa_oaep(Te,Je,Re)}};else if(-1!==["RAW","NONE","NULL",null].indexOf(Oe))Oe={encode:function(Je){return Je}};else if("string"==typeof Oe)throw new Error('Unsupported encryption scheme: "'+Oe+'".');var xe=Oe.encode(_e,Y,!0);return v.rsa.encrypt(xe,Y,!0)},verify:function(_e,Oe,Re,xe){"string"==typeof Re?Re=Re.toUpperCase():void 0===Re&&(Re="RSASSA-PKCS1-V1_5"),void 0===xe&&(xe={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in xe||(xe._parseAllDigestBytes=!0),"RSASSA-PKCS1-V1_5"===Re?Re={verify:function(Te,we){we=O(we,Y,!0);var he=g.fromDer(we,{parseAllBytes:xe._parseAllDigestBytes}),Le={},Ae=[];if(!g.validate(he,w,Le,Ae))throw(st=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.")).errors=Ae,st;var st,Fe=g.derToOid(Le.algorithmIdentifier);if(Fe!==i.oids.md2&&Fe!==i.oids.md5&&Fe!==i.oids.sha1&&Fe!==i.oids.sha224&&Fe!==i.oids.sha256&&Fe!==i.oids.sha384&&Fe!==i.oids.sha512&&Fe!==i.oids["sha512-224"]&&Fe!==i.oids["sha512-256"])throw(st=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.")).oid=Fe,st;if((Fe===i.oids.md2||Fe===i.oids.md5)&&!("parameters"in Le))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return Te===Le.digest}}:("NONE"===Re||"NULL"===Re||null===Re)&&(Re={verify:function(Te,we){return Te===O(we,Y,!0)}});var Je=v.rsa.decrypt(Oe,Y,!0,!1);return Re.verify(_e,Je,Y.n.bitLength())}};return Y},v.setRsaPrivateKey=v.rsa.setPrivateKey=function(I,oe,Y,_e,Oe,Re,xe,Je){var Te={n:I,e:oe,d:Y,p:_e,q:Oe,dP:Re,dQ:xe,qInv:Je,decrypt:function(we,he,Le){"string"==typeof he?he=he.toUpperCase():void 0===he&&(he="RSAES-PKCS1-V1_5");var Ae=v.rsa.decrypt(we,Te,!1,!1);if("RSAES-PKCS1-V1_5"===he)he={decode:O};else if("RSA-OAEP"===he||"RSAES-OAEP"===he)he={decode:function(st,Fe){return i.pkcs1.decode_rsa_oaep(Fe,st,Le)}};else{if(-1===["RAW","NONE","NULL",null].indexOf(he))throw new Error('Unsupported encryption scheme: "'+he+'".');he={decode:function(st){return st}}}return he.decode(Ae,Te,!1)},sign:function(we,he){var Le=!1;"string"==typeof he&&(he=he.toUpperCase()),void 0===he||"RSASSA-PKCS1-V1_5"===he?(he={encode:C},Le=1):("NONE"===he||"NULL"===he||null===he)&&(he={encode:function(){return we}},Le=1);var Ae=he.encode(we,Te.n.bitLength());return v.rsa.encrypt(Ae,Te,Le)}};return Te},v.wrapRsaPrivateKey=function(I){return g.create(g.Class.UNIVERSAL,g.Type.SEQUENCE,!0,[g.create(g.Class.UNIVERSAL,g.Type.INTEGER,!1,g.integerToDer(0).getBytes()),g.create(g.Class.UNIVERSAL,g.Type.SEQUENCE,!0,[g.create(g.Class.UNIVERSAL,g.Type.OID,!1,g.oidToDer(v.oids.rsaEncryption).getBytes()),g.create(g.Class.UNIVERSAL,g.Type.NULL,!1,"")]),g.create(g.Class.UNIVERSAL,g.Type.OCTETSTRING,!1,g.toDer(I).getBytes())])},v.privateKeyFromAsn1=function(I){var Oe,Re,xe,Je,Te,we,he,Le,oe={},Y=[];if(g.validate(I,d,oe,Y)&&(I=g.fromDer(i.util.createBuffer(oe.privateKey))),!g.validate(I,E,oe={},Y=[])){var _e=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw _e.errors=Y,_e}return Oe=i.util.createBuffer(oe.privateKeyModulus).toHex(),Re=i.util.createBuffer(oe.privateKeyPublicExponent).toHex(),xe=i.util.createBuffer(oe.privateKeyPrivateExponent).toHex(),Je=i.util.createBuffer(oe.privateKeyPrime1).toHex(),Te=i.util.createBuffer(oe.privateKeyPrime2).toHex(),we=i.util.createBuffer(oe.privateKeyExponent1).toHex(),he=i.util.createBuffer(oe.privateKeyExponent2).toHex(),Le=i.util.createBuffer(oe.privateKeyCoefficient).toHex(),v.setRsaPrivateKey(new e(Oe,16),new e(Re,16),new e(xe,16),new e(Je,16),new e(Te,16),new e(we,16),new e(he,16),new e(Le,16))},v.privateKeyToAsn1=v.privateKeyToRSAPrivateKey=function(I){return g.create(g.Class.UNIVERSAL,g.Type.SEQUENCE,!0,[g.create(g.Class.UNIVERSAL,g.Type.INTEGER,!1,g.integerToDer(0).getBytes()),g.create(g.Class.UNIVERSAL,g.Type.INTEGER,!1,x(I.n)),g.create(g.Class.UNIVERSAL,g.Type.INTEGER,!1,x(I.e)),g.create(g.Class.UNIVERSAL,g.Type.INTEGER,!1,x(I.d)),g.create(g.Class.UNIVERSAL,g.Type.INTEGER,!1,x(I.p)),g.create(g.Class.UNIVERSAL,g.Type.INTEGER,!1,x(I.q)),g.create(g.Class.UNIVERSAL,g.Type.INTEGER,!1,x(I.dP)),g.create(g.Class.UNIVERSAL,g.Type.INTEGER,!1,x(I.dQ)),g.create(g.Class.UNIVERSAL,g.Type.INTEGER,!1,x(I.qInv))])},v.publicKeyFromAsn1=function(I){var oe={},Y=[];if(g.validate(I,F,oe,Y)){var Oe,_e=g.derToOid(oe.publicKeyOid);if(_e!==v.oids.rsaEncryption)throw(Oe=new Error("Cannot read public key. Unknown OID.")).oid=_e,Oe;I=oe.rsaPublicKey}if(!g.validate(I,m,oe,Y=[]))throw(Oe=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.")).errors=Y,Oe;var Re=i.util.createBuffer(oe.publicKeyModulus).toHex(),xe=i.util.createBuffer(oe.publicKeyExponent).toHex();return v.setRsaPublicKey(new e(Re,16),new e(xe,16))},v.publicKeyToAsn1=v.publicKeyToSubjectPublicKeyInfo=function(I){return g.create(g.Class.UNIVERSAL,g.Type.SEQUENCE,!0,[g.create(g.Class.UNIVERSAL,g.Type.SEQUENCE,!0,[g.create(g.Class.UNIVERSAL,g.Type.OID,!1,g.oidToDer(v.oids.rsaEncryption).getBytes()),g.create(g.Class.UNIVERSAL,g.Type.NULL,!1,"")]),g.create(g.Class.UNIVERSAL,g.Type.BITSTRING,!1,[v.publicKeyToRSAPublicKey(I)])])},v.publicKeyToRSAPublicKey=function(I){return g.create(g.Class.UNIVERSAL,g.Type.SEQUENCE,!0,[g.create(g.Class.UNIVERSAL,g.Type.INTEGER,!1,x(I.n)),g.create(g.Class.UNIVERSAL,g.Type.INTEGER,!1,x(I.e))])}},8825:(et,me,u)=>{var i=u(6589);u(5437),u(812);var e=et.exports=i.sha1=i.sha1||{};i.md.sha1=i.md.algorithms.sha1=e,e.create=function(){g||function S(){_="\x80",_+=i.util.fillString("\0",64),g=!0}();var f=null,d=i.util.createBuffer(),E=new Array(80),m={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){m.messageLength=0,m.fullMessageLength=m.messageLength64=[];for(var F=m.messageLengthSize/4,w=0;w<F;++w)m.fullMessageLength.push(0);return d=i.util.createBuffer(),f={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},m}};return m.start(),m.update=function(F,w){"utf8"===w&&(F=i.util.encodeUtf8(F));var C=F.length;m.messageLength+=C,C=[C/4294967296>>>0,C>>>0];for(var R=m.fullMessageLength.length-1;R>=0;--R)m.fullMessageLength[R]+=C[1],C[1]=C[0]+(m.fullMessageLength[R]/4294967296>>>0),m.fullMessageLength[R]=m.fullMessageLength[R]>>>0,C[0]=C[1]/4294967296>>>0;return d.putBytes(F),v(f,E,d),(d.read>2048||0===d.length())&&d.compact(),m},m.digest=function(){var F=i.util.createBuffer();F.putBytes(d.bytes()),F.putBytes(_.substr(0,m.blockLength-(m.fullMessageLength[m.fullMessageLength.length-1]+m.messageLengthSize&m.blockLength-1)));for(var R,O=8*m.fullMessageLength[0],H=0;H<m.fullMessageLength.length-1;++H)F.putInt32((O+=(R=8*m.fullMessageLength[H+1])/4294967296>>>0)>>>0),O=R>>>0;F.putInt32(O);var x={h0:f.h0,h1:f.h1,h2:f.h2,h3:f.h3,h4:f.h4};v(x,E,F);var $=i.util.createBuffer();return $.putInt32(x.h0),$.putInt32(x.h1),$.putInt32(x.h2),$.putInt32(x.h3),$.putInt32(x.h4),$},m};var _=null,g=!1;function v(f,d,E){for(var m,F,w,C,R,k,H,x=E.length();x>=64;){for(F=f.h0,w=f.h1,C=f.h2,R=f.h3,k=f.h4,H=0;H<16;++H)m=E.getInt32(),d[H]=m,m=(F<<5|F>>>27)+(R^w&(C^R))+k+1518500249+m,k=R,R=C,C=(w<<30|w>>>2)>>>0,w=F,F=m;for(;H<20;++H)d[H]=m=(m=d[H-3]^d[H-8]^d[H-14]^d[H-16])<<1|m>>>31,m=(F<<5|F>>>27)+(R^w&(C^R))+k+1518500249+m,k=R,R=C,C=(w<<30|w>>>2)>>>0,w=F,F=m;for(;H<32;++H)d[H]=m=(m=d[H-3]^d[H-8]^d[H-14]^d[H-16])<<1|m>>>31,m=(F<<5|F>>>27)+(w^C^R)+k+1859775393+m,k=R,R=C,C=(w<<30|w>>>2)>>>0,w=F,F=m;for(;H<40;++H)d[H]=m=(m=d[H-6]^d[H-16]^d[H-28]^d[H-32])<<2|m>>>30,m=(F<<5|F>>>27)+(w^C^R)+k+1859775393+m,k=R,R=C,C=(w<<30|w>>>2)>>>0,w=F,F=m;for(;H<60;++H)d[H]=m=(m=d[H-6]^d[H-16]^d[H-28]^d[H-32])<<2|m>>>30,m=(F<<5|F>>>27)+(w&C|R&(w^C))+k+2400959708+m,k=R,R=C,C=(w<<30|w>>>2)>>>0,w=F,F=m;for(;H<80;++H)d[H]=m=(m=d[H-6]^d[H-16]^d[H-28]^d[H-32])<<2|m>>>30,m=(F<<5|F>>>27)+(w^C^R)+k+3395469782+m,k=R,R=C,C=(w<<30|w>>>2)>>>0,w=F,F=m;f.h0=f.h0+F|0,f.h1=f.h1+w|0,f.h2=f.h2+C|0,f.h3=f.h3+R|0,f.h4=f.h4+k|0,x-=64}}},2507:(et,me,u)=>{var i=u(6589);u(5437),u(812);var e=et.exports=i.sha256=i.sha256||{};i.md.sha256=i.md.algorithms.sha256=e,e.create=function(){g||function v(){_="\x80",_+=i.util.fillString("\0",64),S=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],g=!0}();var d=null,E=i.util.createBuffer(),m=new Array(64),F={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){F.messageLength=0,F.fullMessageLength=F.messageLength64=[];for(var w=F.messageLengthSize/4,C=0;C<w;++C)F.fullMessageLength.push(0);return E=i.util.createBuffer(),d={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},F}};return F.start(),F.update=function(w,C){"utf8"===C&&(w=i.util.encodeUtf8(w));var R=w.length;F.messageLength+=R,R=[R/4294967296>>>0,R>>>0];for(var k=F.fullMessageLength.length-1;k>=0;--k)F.fullMessageLength[k]+=R[1],R[1]=R[0]+(F.fullMessageLength[k]/4294967296>>>0),F.fullMessageLength[k]=F.fullMessageLength[k]>>>0,R[0]=R[1]/4294967296>>>0;return E.putBytes(w),f(d,m,E),(E.read>2048||0===E.length())&&E.compact(),F},F.digest=function(){var w=i.util.createBuffer();w.putBytes(E.bytes()),w.putBytes(_.substr(0,F.blockLength-(F.fullMessageLength[F.fullMessageLength.length-1]+F.messageLengthSize&F.blockLength-1)));for(var k,H=8*F.fullMessageLength[0],x=0;x<F.fullMessageLength.length-1;++x)w.putInt32((H+=(k=8*F.fullMessageLength[x+1])/4294967296>>>0)>>>0),H=k>>>0;w.putInt32(H);var $={h0:d.h0,h1:d.h1,h2:d.h2,h3:d.h3,h4:d.h4,h5:d.h5,h6:d.h6,h7:d.h7};f($,m,w);var U=i.util.createBuffer();return U.putInt32($.h0),U.putInt32($.h1),U.putInt32($.h2),U.putInt32($.h3),U.putInt32($.h4),U.putInt32($.h5),U.putInt32($.h6),U.putInt32($.h7),U},F};var _=null,g=!1,S=null;function f(d,E,m){for(var F,w,O,H,x,$,U,G,ie,le,L,Q,te=m.length();te>=64;){for(H=0;H<16;++H)E[H]=m.getInt32();for(;H<64;++H)E[H]=(F=((F=E[H-2])>>>17|F<<15)^(F>>>19|F<<13)^F>>>10)+E[H-7]+(w=((w=E[H-15])>>>7|w<<25)^(w>>>18|w<<14)^w>>>3)+E[H-16]|0;for(x=d.h0,$=d.h1,U=d.h2,G=d.h3,ie=d.h4,le=d.h5,L=d.h6,Q=d.h7,H=0;H<64;++H)O=x&$|U&(x^$),F=Q+((ie>>>6|ie<<26)^(ie>>>11|ie<<21)^(ie>>>25|ie<<7))+(L^ie&(le^L))+S[H]+E[H],Q=L,L=le,le=ie,ie=G+F>>>0,G=U,U=$,$=x,x=F+(w=((x>>>2|x<<30)^(x>>>13|x<<19)^(x>>>22|x<<10))+O)>>>0;d.h0=d.h0+x|0,d.h1=d.h1+$|0,d.h2=d.h2+U|0,d.h3=d.h3+G|0,d.h4=d.h4+ie|0,d.h5=d.h5+le|0,d.h6=d.h6+L|0,d.h7=d.h7+Q|0,te-=64}}},1290:(et,me,u)=>{var i=u(6589);u(5437),u(812);var e=et.exports=i.sha512=i.sha512||{};i.md.sha512=i.md.algorithms.sha512=e;var _=i.sha384=i.sha512.sha384=i.sha512.sha384||{};_.create=function(){return e.create("SHA-384")},i.md.sha384=i.md.algorithms.sha384=_,i.sha512.sha256=i.sha512.sha256||{create:function(){return e.create("SHA-512/256")}},i.md["sha512/256"]=i.md.algorithms["sha512/256"]=i.sha512.sha256,i.sha512.sha224=i.sha512.sha224||{create:function(){return e.create("SHA-512/224")}},i.md["sha512/224"]=i.md.algorithms["sha512/224"]=i.sha512.sha224,e.create=function(m){if(S||function d(){g="\x80",g+=i.util.fillString("\0",128),v=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],(f={})["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],f["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],f["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],f["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],S=!0}(),typeof m>"u"&&(m="SHA-512"),!(m in f))throw new Error("Invalid SHA-512 algorithm: "+m);for(var F=f[m],w=null,C=i.util.createBuffer(),R=new Array(80),k=0;k<80;++k)R[k]=new Array(2);var O=64;switch(m){case"SHA-384":O=48;break;case"SHA-512/256":O=32;break;case"SHA-512/224":O=28}var H={algorithm:m.replace("-","").toLowerCase(),blockLength:128,digestLength:O,messageLength:0,fullMessageLength:null,messageLengthSize:16,start:function(){H.messageLength=0,H.fullMessageLength=H.messageLength128=[];for(var x=H.messageLengthSize/4,$=0;$<x;++$)H.fullMessageLength.push(0);for(C=i.util.createBuffer(),w=new Array(F.length),$=0;$<F.length;++$)w[$]=F[$].slice(0);return H}};return H.start(),H.update=function(x,$){"utf8"===$&&(x=i.util.encodeUtf8(x));var U=x.length;H.messageLength+=U,U=[U/4294967296>>>0,U>>>0];for(var G=H.fullMessageLength.length-1;G>=0;--G)H.fullMessageLength[G]+=U[1],U[1]=U[0]+(H.fullMessageLength[G]/4294967296>>>0),H.fullMessageLength[G]=H.fullMessageLength[G]>>>0,U[0]=U[1]/4294967296>>>0;return C.putBytes(x),E(w,R,C),(C.read>2048||0===C.length())&&C.compact(),H},H.digest=function(){var x=i.util.createBuffer();x.putBytes(C.bytes()),x.putBytes(g.substr(0,H.blockLength-(H.fullMessageLength[H.fullMessageLength.length-1]+H.messageLengthSize&H.blockLength-1)));for(var G,le=8*H.fullMessageLength[0],L=0;L<H.fullMessageLength.length-1;++L)x.putInt32((le+=(G=8*H.fullMessageLength[L+1])/4294967296>>>0)>>>0),le=G>>>0;x.putInt32(le);var Q=new Array(w.length);for(L=0;L<w.length;++L)Q[L]=w[L].slice(0);E(Q,R,x);var I,te=i.util.createBuffer();for(I="SHA-512"===m?Q.length:"SHA-384"===m?Q.length-2:Q.length-4,L=0;L<I;++L)te.putInt32(Q[L][0]),(L!==I-1||"SHA-512/224"!==m)&&te.putInt32(Q[L][1]);return te},H};var g=null,S=!1,v=null,f=null;function E(m,F,w){for(var C,R,k,O,Q,te,I,oe,Y,_e,Oe,Re,xe,Je,Te,we,he,Le,Ae,st,Fe,ft,Ye,zt,Lt,Et,_t,J=w.length();J>=128;){for(Fe=0;Fe<16;++Fe)F[Fe][0]=w.getInt32()>>>0,F[Fe][1]=w.getInt32()>>>0;for(;Fe<80;++Fe)R=(((ft=(zt=F[Fe-2])[0])<<13|(Ye=zt[1])>>>19)^(Ye<<3|ft>>>29)^(ft<<26|Ye>>>6))>>>0,F[Fe][0]=(C=((ft>>>19|Ye<<13)^(Ye>>>29|ft<<3)^ft>>>6)>>>0)+(Lt=F[Fe-7])[0]+(k=(((ft=(Et=F[Fe-15])[0])>>>1|(Ye=Et[1])<<31)^(ft>>>8|Ye<<24)^ft>>>7)>>>0)+(_t=F[Fe-16])[0]+((Ye=R+Lt[1]+(O=((ft<<31|Ye>>>1)^(ft<<24|Ye>>>8)^(ft<<25|Ye>>>7))>>>0)+_t[1])/4294967296>>>0)>>>0,F[Fe][1]=Ye>>>0;for(Q=m[0][0],te=m[0][1],I=m[1][0],oe=m[1][1],Y=m[2][0],_e=m[2][1],Oe=m[3][0],Re=m[3][1],xe=m[4][0],Je=m[4][1],Te=m[5][0],we=m[5][1],he=m[6][0],Le=m[6][1],Ae=m[7][0],st=m[7][1],Fe=0;Fe<80;++Fe)C=Ae+(((xe>>>14|Je<<18)^(xe>>>18|Je<<14)^(Je>>>9|xe<<23))>>>0)+((he^xe&(Te^he))>>>0)+v[Fe][0]+F[Fe][0]+((Ye=st+(((xe<<18|Je>>>14)^(xe<<14|Je>>>18)^(Je<<23|xe>>>9))>>>0)+((Le^Je&(we^Le))>>>0)+v[Fe][1]+F[Fe][1])/4294967296>>>0)>>>0,R=Ye>>>0,k=(((Q>>>28|te<<4)^(te>>>2|Q<<30)^(te>>>7|Q<<25))>>>0)+((Q&I|Y&(Q^I))>>>0)+((Ye=(((Q<<4|te>>>28)^(te<<30|Q>>>2)^(te<<25|Q>>>7))>>>0)+((te&oe|_e&(te^oe))>>>0))/4294967296>>>0)>>>0,O=Ye>>>0,Ae=he,st=Le,he=Te,Le=we,Te=xe,we=Je,xe=Oe+C+((Ye=Re+R)/4294967296>>>0)>>>0,Je=Ye>>>0,Oe=Y,Re=_e,Y=I,_e=oe,I=Q,oe=te,Q=C+k+((Ye=R+O)/4294967296>>>0)>>>0,te=Ye>>>0;m[0][0]=m[0][0]+Q+((Ye=m[0][1]+te)/4294967296>>>0)>>>0,m[0][1]=Ye>>>0,m[1][0]=m[1][0]+I+((Ye=m[1][1]+oe)/4294967296>>>0)>>>0,m[1][1]=Ye>>>0,m[2][0]=m[2][0]+Y+((Ye=m[2][1]+_e)/4294967296>>>0)>>>0,m[2][1]=Ye>>>0,m[3][0]=m[3][0]+Oe+((Ye=m[3][1]+Re)/4294967296>>>0)>>>0,m[3][1]=Ye>>>0,m[4][0]=m[4][0]+xe+((Ye=m[4][1]+Je)/4294967296>>>0)>>>0,m[4][1]=Ye>>>0,m[5][0]=m[5][0]+Te+((Ye=m[5][1]+we)/4294967296>>>0)>>>0,m[5][1]=Ye>>>0,m[6][0]=m[6][0]+he+((Ye=m[6][1]+Le)/4294967296>>>0)>>>0,m[6][1]=Ye>>>0,m[7][0]=m[7][0]+Ae+((Ye=m[7][1]+st)/4294967296>>>0)>>>0,m[7][1]=Ye>>>0,J-=128}}},3120:(et,me,u)=>{var i=u(6589);u(57),u(4579),u(4846),u(8825),u(812);var e=et.exports=i.ssh=i.ssh||{};function _(v,f){var d=f.toString(16);d[0]>="8"&&(d="00"+d);var E=i.util.hexToBytes(d);v.putInt32(E.length),v.putBytes(E)}function g(v,f){v.putInt32(f.length),v.putString(f)}function S(){for(var v=i.md.sha1.create(),f=arguments.length,d=0;d<f;++d)v.update(arguments[d]);return v.digest()}e.privateKeyToPutty=function(v,f,d){var E="ssh-rsa",m=""===(f=f||"")?"none":"aes256-cbc",F="PuTTY-User-Key-File-2: "+E+"\r\n";F+="Encryption: "+m+"\r\n",F+="Comment: "+(d=d||"")+"\r\n";var w=i.util.createBuffer();g(w,E),_(w,v.e),_(w,v.n);var C=i.util.encode64(w.bytes(),64),R=Math.floor(C.length/66)+1;F+="Public-Lines: "+R+"\r\n",F+=C;var O,k=i.util.createBuffer();if(_(k,v.d),_(k,v.p),_(k,v.q),_(k,v.qInv),f){var H=k.length()+16-1;H-=H%16;var x=S(k.bytes());x.truncate(x.length()-H+k.length()),k.putBuffer(x);var $=i.util.createBuffer();$.putBuffer(S("\0\0\0\0",f)),$.putBuffer(S("\0\0\0\x01",f));var U=i.aes.createEncryptionCipher($.truncate(8),"CBC");U.start(i.util.createBuffer().fillWithByte(0,16)),U.update(k.copy()),U.finish();var G=U.output;G.truncate(16),O=i.util.encode64(G.bytes(),64)}else O=i.util.encode64(k.bytes(),64);F+="\r\nPrivate-Lines: "+(R=Math.floor(O.length/66)+1)+"\r\n",F+=O;var ie=S("putty-private-key-file-mac-key",f),le=i.util.createBuffer();g(le,E),g(le,m),g(le,d),le.putInt32(w.length()),le.putBuffer(w),le.putInt32(k.length()),le.putBuffer(k);var L=i.hmac.create();return L.start("sha1",ie),L.update(le.bytes()),F+"\r\nPrivate-MAC: "+L.digest().toHex()+"\r\n"},e.publicKeyToOpenSSH=function(v,f){var d="ssh-rsa";f=f||"";var E=i.util.createBuffer();return g(E,d),_(E,v.e),_(E,v.n),d+" "+i.util.encode64(E.bytes())+" "+f},e.privateKeyToOpenSSH=function(v,f){return f?i.pki.encryptRsaPrivateKey(v,f,{legacy:!0,algorithm:"aes128"}):i.pki.privateKeyToPem(v)},e.getPublicKeyFingerprint=function(v,f){var d=(f=f||{}).md||i.md.md5.create(),m=i.util.createBuffer();g(m,"ssh-rsa"),_(m,v.e),_(m,v.n),d.start(),d.update(m.getBytes());var F=d.digest();if("hex"===f.encoding){var w=F.toHex();return f.delimiter?w.match(/.{2}/g).join(f.delimiter):w}if("binary"===f.encoding)return F.getBytes();if(f.encoding)throw new Error('Unknown encoding "'+f.encoding+'".');return F}},9807:(et,me,u)=>{var i=u(6589);u(7097),u(4579),u(4846),u(9368),u(9622),u(1675),u(8825),u(812);var e=function(J,X,q,Se){var Ee=i.util.createBuffer(),lt=J.length>>1,Ue=lt+(1&J.length),at=J.substr(0,Ue),Ot=J.substr(lt,Ue),pt=i.util.createBuffer(),it=i.hmac.create();q=X+q;var Ht=Math.ceil(Se/16),en=Math.ceil(Se/20);it.start("MD5",at);var rt=i.util.createBuffer();pt.putBytes(q);for(var Nt=0;Nt<Ht;++Nt)it.start(null,null),it.update(pt.getBytes()),pt.putBuffer(it.digest()),it.start(null,null),it.update(pt.bytes()+q),rt.putBuffer(it.digest());it.start("SHA1",Ot);var ve=i.util.createBuffer();for(pt.clear(),pt.putBytes(q),Nt=0;Nt<en;++Nt)it.start(null,null),it.update(pt.getBytes()),pt.putBuffer(it.digest()),it.start(null,null),it.update(pt.bytes()+q),ve.putBuffer(it.digest());return Ee.putBytes(i.util.xorBytes(rt.getBytes(),ve.getBytes(),Se)),Ee},S=function(J,X,q){var Se=!1;try{var Ee=J.deflate(X.fragment.getBytes());X.fragment=i.util.createBuffer(Ee),X.length=Ee.length,Se=!0}catch{}return Se},v=function(J,X,q){var Se=!1;try{var Ee=J.inflate(X.fragment.getBytes());X.fragment=i.util.createBuffer(Ee),X.length=Ee.length,Se=!0}catch{}return Se},f=function(J,X){var q=0;switch(X){case 1:q=J.getByte();break;case 2:q=J.getInt16();break;case 3:q=J.getInt24();break;case 4:q=J.getInt32()}return i.util.createBuffer(J.getBytes(q))},d=function(J,X,q){J.putInt(q.length(),X<<3),J.putBuffer(q)},E={Versions:{TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}}};E.SupportedVersions=[E.Versions.TLS_1_1,E.Versions.TLS_1_0],E.Version=E.SupportedVersions[0],E.MaxFragment=15360,E.ConnectionEnd={server:0,client:1},E.PRFAlgorithm={tls_prf_sha256:0},E.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2},E.CipherType={stream:0,block:1,aead:2},E.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4},E.CompressionMethod={none:0,deflate:1},E.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24},E.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20},E.Alert={},E.Alert.Level={warning:1,fatal:2},E.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100},E.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2},E.CipherSuites={},E.getCipherSuite=function(J){var X=null;for(var q in E.CipherSuites){var Se=E.CipherSuites[q];if(Se.id[0]===J.charCodeAt(0)&&Se.id[1]===J.charCodeAt(1)){X=Se;break}}return X},E.handleUnexpected=function(J,X){!J.open&&J.entity===E.ConnectionEnd.client||J.error(J,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.unexpected_message}})},E.handleHelloRequest=function(J,X,q){!J.handshaking&&J.handshakes>0&&(E.queue(J,E.createAlert(J,{level:E.Alert.Level.warning,description:E.Alert.Description.no_renegotiation})),E.flush(J)),J.process()},E.parseHelloMessage=function(J,X,q){var Se=null,Ee=J.entity===E.ConnectionEnd.client;if(q<38)J.error(J,{message:Ee?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.illegal_parameter}});else{var lt=X.fragment,Ue=lt.length();if(Se={version:{major:lt.getByte(),minor:lt.getByte()},random:i.util.createBuffer(lt.getBytes(32)),session_id:f(lt,1),extensions:[]},Ee?(Se.cipher_suite=lt.getBytes(2),Se.compression_method=lt.getByte()):(Se.cipher_suites=f(lt,2),Se.compression_methods=f(lt,1)),(Ue=q-(Ue-lt.length()))>0){for(var at=f(lt,2);at.length()>0;)Se.extensions.push({type:[at.getByte(),at.getByte()],data:f(at,2)});if(!Ee)for(var Ot=0;Ot<Se.extensions.length;++Ot){var pt=Se.extensions[Ot];if(0===pt.type[0]&&0===pt.type[1])for(var it=f(pt.data,2);it.length()>0&&0===it.getByte();)J.session.extensions.server_name.serverNameList.push(f(it,2).getBytes())}}if(J.session.version&&(Se.version.major!==J.session.version.major||Se.version.minor!==J.session.version.minor))return J.error(J,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.protocol_version}});if(Ee)J.session.cipherSuite=E.getCipherSuite(Se.cipher_suite);else for(var en=i.util.createBuffer(Se.cipher_suites.bytes());en.length()>0&&(J.session.cipherSuite=E.getCipherSuite(en.getBytes(2)),null===J.session.cipherSuite););if(null===J.session.cipherSuite)return J.error(J,{message:"No cipher suites in common.",send:!0,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.handshake_failure},cipherSuite:i.util.bytesToHex(Se.cipher_suite)});J.session.compressionMethod=Ee?Se.compression_method:E.CompressionMethod.none}return Se},E.createSecurityParameters=function(J,X){var q=J.entity===E.ConnectionEnd.client,Se=X.random.bytes(),Ee=q?J.session.sp.client_random:Se,lt=q?Se:E.createRandom().getBytes();J.session.sp={entity:J.entity,prf_algorithm:E.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:J.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:Ee,server_random:lt}},E.handleServerHello=function(J,X,q){var Se=E.parseHelloMessage(J,X,q);if(!J.fail){if(!(Se.version.minor<=J.version.minor))return J.error(J,{message:"Incompatible TLS version.",send:!0,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.protocol_version}});J.version.minor=Se.version.minor,J.session.version=J.version;var Ee=Se.session_id.bytes();Ee.length>0&&Ee===J.session.id?(J.expect=k,J.session.resuming=!0,J.session.sp.server_random=Se.random.bytes()):(J.expect=F,J.session.resuming=!1,E.createSecurityParameters(J,Se)),J.session.id=Ee,J.process()}},E.handleClientHello=function(J,X,q){var Se=E.parseHelloMessage(J,X,q);if(!J.fail){var Ee=Se.session_id.bytes(),lt=null;if(J.sessionCache&&(null===(lt=J.sessionCache.getSession(Ee))?Ee="":(lt.version.major!==Se.version.major||lt.version.minor>Se.version.minor)&&(lt=null,Ee="")),0===Ee.length&&(Ee=i.random.getBytes(32)),J.session.id=Ee,J.session.clientHelloVersion=Se.version,J.session.sp={},lt)J.version=J.session.version=lt.version,J.session.sp=lt.sp;else{for(var Ue,at=1;at<E.SupportedVersions.length&&!((Ue=E.SupportedVersions[at]).minor<=Se.version.minor);++at);J.version={major:Ue.major,minor:Ue.minor},J.session.version=J.version}null!==lt?(J.expect=le,J.session.resuming=!0,J.session.sp.client_random=Se.random.bytes()):(J.expect=!1!==J.verifyClient?U:G,J.session.resuming=!1,E.createSecurityParameters(J,Se)),J.open=!0,E.queue(J,E.createRecord(J,{type:E.ContentType.handshake,data:E.createServerHello(J)})),J.session.resuming?(E.queue(J,E.createRecord(J,{type:E.ContentType.change_cipher_spec,data:E.createChangeCipherSpec()})),J.state.pending=E.createConnectionState(J),J.state.current.write=J.state.pending.write,E.queue(J,E.createRecord(J,{type:E.ContentType.handshake,data:E.createFinished(J)}))):(E.queue(J,E.createRecord(J,{type:E.ContentType.handshake,data:E.createCertificate(J)})),J.fail||(E.queue(J,E.createRecord(J,{type:E.ContentType.handshake,data:E.createServerKeyExchange(J)})),!1!==J.verifyClient&&E.queue(J,E.createRecord(J,{type:E.ContentType.handshake,data:E.createCertificateRequest(J)})),E.queue(J,E.createRecord(J,{type:E.ContentType.handshake,data:E.createServerHelloDone(J)})))),E.flush(J),J.process()}},E.handleCertificate=function(J,X,q){if(q<3)return J.error(J,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.illegal_parameter}});var lt,Ue,Ee={certificate_list:f(X.fragment,3)},at=[];try{for(;Ee.certificate_list.length()>0;)lt=f(Ee.certificate_list,3),Ue=i.asn1.fromDer(lt),lt=i.pki.certificateFromAsn1(Ue,!0),at.push(lt)}catch(pt){return J.error(J,{message:"Could not parse certificate list.",cause:pt,send:!0,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.bad_certificate}})}var Ot=J.entity===E.ConnectionEnd.client;!Ot&&!0!==J.verifyClient||0!==at.length?0===at.length?J.expect=Ot?w:G:(Ot?J.session.serverCertificate=at[0]:J.session.clientCertificate=at[0],E.verifyCertificateChain(J,at)&&(J.expect=Ot?w:G)):J.error(J,{message:Ot?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.illegal_parameter}}),J.process()},E.handleServerKeyExchange=function(J,X,q){if(q>0)return J.error(J,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.unsupported_certificate}});J.expect=C,J.process()},E.handleClientKeyExchange=function(J,X,q){if(q<48)return J.error(J,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.unsupported_certificate}});var Ee={enc_pre_master_secret:f(X.fragment,2).getBytes()},lt=null;if(J.getPrivateKey)try{lt=J.getPrivateKey(J,J.session.serverCertificate),lt=i.pki.privateKeyFromPem(lt)}catch(Ot){J.error(J,{message:"Could not get private key.",cause:Ot,send:!0,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.internal_error}})}if(null===lt)return J.error(J,{message:"No private key set.",send:!0,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.internal_error}});try{var Ue=J.session.sp;Ue.pre_master_secret=lt.decrypt(Ee.enc_pre_master_secret);var at=J.session.clientHelloVersion;if(at.major!==Ue.pre_master_secret.charCodeAt(0)||at.minor!==Ue.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch{Ue.pre_master_secret=i.random.getBytes(48)}J.expect=le,null!==J.session.clientCertificate&&(J.expect=ie),J.process()},E.handleCertificateRequest=function(J,X,q){if(q<3)return J.error(J,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.illegal_parameter}});var Se=X.fragment,Ee={certificate_types:f(Se,1),certificate_authorities:f(Se,2)};J.session.certificateRequest=Ee,J.expect=R,J.process()},E.handleCertificateVerify=function(J,X,q){if(q<2)return J.error(J,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.illegal_parameter}});var Se=X.fragment;Se.read-=4;var Ee=Se.bytes();Se.read+=4;var lt={signature:f(Se,2).getBytes()},Ue=i.util.createBuffer();Ue.putBuffer(J.session.md5.digest()),Ue.putBuffer(J.session.sha1.digest()),Ue=Ue.getBytes();try{if(!J.session.clientCertificate.publicKey.verify(Ue,lt.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");J.session.md5.update(Ee),J.session.sha1.update(Ee)}catch{return J.error(J,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.handshake_failure}})}J.expect=le,J.process()},E.handleServerHelloDone=function(J,X,q){if(q>0)return J.error(J,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.record_overflow}});if(null===J.serverCertificate){var Se={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.insufficient_security}},lt=J.verify(J,Se.alert.description,0,[]);if(!0!==lt)return(lt||0===lt)&&("object"!=typeof lt||i.util.isArray(lt)?"number"==typeof lt&&(Se.alert.description=lt):(lt.message&&(Se.message=lt.message),lt.alert&&(Se.alert.description=lt.alert))),J.error(J,Se)}null!==J.session.certificateRequest&&(X=E.createRecord(J,{type:E.ContentType.handshake,data:E.createCertificate(J)}),E.queue(J,X)),X=E.createRecord(J,{type:E.ContentType.handshake,data:E.createClientKeyExchange(J)}),E.queue(J,X),J.expect=x;var Ue=function(at,Ot){null!==at.session.certificateRequest&&null!==at.session.clientCertificate&&E.queue(at,E.createRecord(at,{type:E.ContentType.handshake,data:E.createCertificateVerify(at,Ot)})),E.queue(at,E.createRecord(at,{type:E.ContentType.change_cipher_spec,data:E.createChangeCipherSpec()})),at.state.pending=E.createConnectionState(at),at.state.current.write=at.state.pending.write,E.queue(at,E.createRecord(at,{type:E.ContentType.handshake,data:E.createFinished(at)})),at.expect=k,E.flush(at),at.process()};if(null===J.session.certificateRequest||null===J.session.clientCertificate)return Ue(J,null);E.getClientSignature(J,Ue)},E.handleChangeCipherSpec=function(J,X){if(1!==X.fragment.getByte())return J.error(J,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.illegal_parameter}});var q=J.entity===E.ConnectionEnd.client;(J.session.resuming&&q||!J.session.resuming&&!q)&&(J.state.pending=E.createConnectionState(J)),J.state.current.read=J.state.pending.read,(!J.session.resuming&&q||J.session.resuming&&!q)&&(J.state.pending=null),J.expect=q?O:L,J.process()},E.handleFinished=function(J,X,q){var Se=X.fragment;Se.read-=4;var Ee=Se.bytes();Se.read+=4;var lt=X.fragment.getBytes();(Se=i.util.createBuffer()).putBuffer(J.session.md5.digest()),Se.putBuffer(J.session.sha1.digest());var Ue=J.entity===E.ConnectionEnd.client;if((Se=e(J.session.sp.master_secret,Ue?"server finished":"client finished",Se.getBytes(),12)).getBytes()!==lt)return J.error(J,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.decrypt_error}});J.session.md5.update(Ee),J.session.sha1.update(Ee),(J.session.resuming&&Ue||!J.session.resuming&&!Ue)&&(E.queue(J,E.createRecord(J,{type:E.ContentType.change_cipher_spec,data:E.createChangeCipherSpec()})),J.state.current.write=J.state.pending.write,J.state.pending=null,E.queue(J,E.createRecord(J,{type:E.ContentType.handshake,data:E.createFinished(J)}))),J.expect=Ue?H:Q,J.handshaking=!1,++J.handshakes,J.peerCertificate=Ue?J.session.serverCertificate:J.session.clientCertificate,E.flush(J),J.isConnected=!0,J.connected(J),J.process()},E.handleAlert=function(J,X){var Ee,q=X.fragment,Se={level:q.getByte(),description:q.getByte()};switch(Se.description){case E.Alert.Description.close_notify:Ee="Connection closed.";break;case E.Alert.Description.unexpected_message:Ee="Unexpected message.";break;case E.Alert.Description.bad_record_mac:Ee="Bad record MAC.";break;case E.Alert.Description.decryption_failed:Ee="Decryption failed.";break;case E.Alert.Description.record_overflow:Ee="Record overflow.";break;case E.Alert.Description.decompression_failure:Ee="Decompression failed.";break;case E.Alert.Description.handshake_failure:Ee="Handshake failure.";break;case E.Alert.Description.bad_certificate:Ee="Bad certificate.";break;case E.Alert.Description.unsupported_certificate:Ee="Unsupported certificate.";break;case E.Alert.Description.certificate_revoked:Ee="Certificate revoked.";break;case E.Alert.Description.certificate_expired:Ee="Certificate expired.";break;case E.Alert.Description.certificate_unknown:Ee="Certificate unknown.";break;case E.Alert.Description.illegal_parameter:Ee="Illegal parameter.";break;case E.Alert.Description.unknown_ca:Ee="Unknown certificate authority.";break;case E.Alert.Description.access_denied:Ee="Access denied.";break;case E.Alert.Description.decode_error:Ee="Decode error.";break;case E.Alert.Description.decrypt_error:Ee="Decrypt error.";break;case E.Alert.Description.export_restriction:Ee="Export restriction.";break;case E.Alert.Description.protocol_version:Ee="Unsupported protocol version.";break;case E.Alert.Description.insufficient_security:Ee="Insufficient security.";break;case E.Alert.Description.internal_error:Ee="Internal error.";break;case E.Alert.Description.user_canceled:Ee="User canceled.";break;case E.Alert.Description.no_renegotiation:Ee="Renegotiation not supported.";break;default:Ee="Unknown error."}if(Se.description===E.Alert.Description.close_notify)return J.close();J.error(J,{message:Ee,send:!1,origin:J.entity===E.ConnectionEnd.client?"server":"client",alert:Se}),J.process()},E.handleHandshake=function(J,X){var q=X.fragment,Se=q.getByte(),Ee=q.getInt24();if(Ee>q.length())return J.fragmented=X,X.fragment=i.util.createBuffer(),q.read-=4,J.process();J.fragmented=null,q.read-=4;var lt=q.bytes(Ee+4);q.read+=4,Se in Fe[J.entity][J.expect]?(J.entity===E.ConnectionEnd.server&&!J.open&&!J.fail&&(J.handshaking=!0,J.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:i.md.md5.create(),sha1:i.md.sha1.create()}),Se!==E.HandshakeType.hello_request&&Se!==E.HandshakeType.certificate_verify&&Se!==E.HandshakeType.finished&&(J.session.md5.update(lt),J.session.sha1.update(lt)),Fe[J.entity][J.expect][Se](J,X,Ee)):E.handleUnexpected(J,X)},E.handleApplicationData=function(J,X){J.data.putBuffer(X.fragment),J.dataReady(J),J.process()},E.handleHeartbeat=function(J,X){var q=X.fragment,Se=q.getByte(),Ee=q.getInt16(),lt=q.getBytes(Ee);if(Se===E.HeartbeatMessageType.heartbeat_request){if(J.handshaking||Ee>lt.length)return J.process();E.queue(J,E.createRecord(J,{type:E.ContentType.heartbeat,data:E.createHeartbeat(E.HeartbeatMessageType.heartbeat_response,lt)})),E.flush(J)}else if(Se===E.HeartbeatMessageType.heartbeat_response){if(lt!==J.expectedHeartbeatPayload)return J.process();J.heartbeatReceived&&J.heartbeatReceived(J,i.util.createBuffer(lt))}J.process()};var F=1,w=2,C=3,R=4,k=5,O=6,H=7,x=8,U=1,G=2,ie=3,le=4,L=5,Q=6,I=E.handleUnexpected,oe=E.handleChangeCipherSpec,Y=E.handleAlert,_e=E.handleHandshake,Oe=E.handleApplicationData,Re=E.handleHeartbeat,xe=[];xe[E.ConnectionEnd.client]=[[I,Y,_e,I,Re],[I,Y,_e,I,Re],[I,Y,_e,I,Re],[I,Y,_e,I,Re],[I,Y,_e,I,Re],[oe,Y,I,I,Re],[I,Y,_e,I,Re],[I,Y,_e,Oe,Re],[I,Y,_e,I,Re]],xe[E.ConnectionEnd.server]=[[I,Y,_e,I,Re],[I,Y,_e,I,Re],[I,Y,_e,I,Re],[I,Y,_e,I,Re],[oe,Y,I,I,Re],[I,Y,_e,I,Re],[I,Y,_e,Oe,Re],[I,Y,_e,I,Re]];var Je=E.handleHelloRequest,we=E.handleCertificate,he=E.handleServerKeyExchange,Le=E.handleCertificateRequest,Ae=E.handleServerHelloDone,st=E.handleFinished,Fe=[];Fe[E.ConnectionEnd.client]=[[I,I,E.handleServerHello,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I],[Je,I,I,I,I,I,I,I,I,I,I,we,he,Le,Ae,I,I,I,I,I,I],[Je,I,I,I,I,I,I,I,I,I,I,I,he,Le,Ae,I,I,I,I,I,I],[Je,I,I,I,I,I,I,I,I,I,I,I,I,Le,Ae,I,I,I,I,I,I],[Je,I,I,I,I,I,I,I,I,I,I,I,I,I,Ae,I,I,I,I,I,I],[Je,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I],[Je,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,st],[Je,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I],[Je,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I]],Fe[E.ConnectionEnd.server]=[[I,E.handleClientHello,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I],[I,I,I,I,I,I,I,I,I,I,I,we,I,I,I,I,I,I,I,I,I],[I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,E.handleClientKeyExchange,I,I,I,I],[I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,E.handleCertificateVerify,I,I,I,I,I],[I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I],[I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,st],[I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I],[I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I]],E.generateKeys=function(J,X){var q=e,Se=X.client_random+X.server_random;J.session.resuming||(X.master_secret=q(X.pre_master_secret,"master secret",Se,48).bytes(),X.pre_master_secret=null);var Ee=2*X.mac_key_length+2*X.enc_key_length,lt=J.version.major===E.Versions.TLS_1_0.major&&J.version.minor===E.Versions.TLS_1_0.minor;lt&&(Ee+=2*X.fixed_iv_length);var Ue=q(X.master_secret,"key expansion",Se=X.server_random+X.client_random,Ee),at={client_write_MAC_key:Ue.getBytes(X.mac_key_length),server_write_MAC_key:Ue.getBytes(X.mac_key_length),client_write_key:Ue.getBytes(X.enc_key_length),server_write_key:Ue.getBytes(X.enc_key_length)};return lt&&(at.client_write_IV=Ue.getBytes(X.fixed_iv_length),at.server_write_IV=Ue.getBytes(X.fixed_iv_length)),at},E.createConnectionState=function(J){var X=J.entity===E.ConnectionEnd.client,q=function(){var lt={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:function(Ue){return!0},compressionState:null,compressFunction:function(Ue){return!0},updateSequenceNumber:function(){4294967295===lt.sequenceNumber[1]?(lt.sequenceNumber[1]=0,++lt.sequenceNumber[0]):++lt.sequenceNumber[1]}};return lt},Se={read:q(),write:q()};if(Se.read.update=function(lt,Ue){return Se.read.cipherFunction(Ue,Se.read)?Se.read.compressFunction(lt,Ue,Se.read)||lt.error(lt,{message:"Could not decompress record.",send:!0,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.decompression_failure}}):lt.error(lt,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.bad_record_mac}}),!lt.fail},Se.write.update=function(lt,Ue){return Se.write.compressFunction(lt,Ue,Se.write)?Se.write.cipherFunction(Ue,Se.write)||lt.error(lt,{message:"Could not encrypt record.",send:!1,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.internal_error}}):lt.error(lt,{message:"Could not compress record.",send:!1,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.internal_error}}),!lt.fail},J.session){var Ee=J.session.sp;switch(J.session.cipherSuite.initSecurityParameters(Ee),Ee.keys=E.generateKeys(J,Ee),Se.read.macKey=X?Ee.keys.server_write_MAC_key:Ee.keys.client_write_MAC_key,Se.write.macKey=X?Ee.keys.client_write_MAC_key:Ee.keys.server_write_MAC_key,J.session.cipherSuite.initConnectionState(Se,J,Ee),Ee.compression_algorithm){case E.CompressionMethod.none:break;case E.CompressionMethod.deflate:Se.read.compressFunction=v,Se.write.compressFunction=S;break;default:throw new Error("Unsupported compression algorithm.")}}return Se},E.createRandom=function(){var J=new Date,X=+J+6e4*J.getTimezoneOffset(),q=i.util.createBuffer();return q.putInt32(X),q.putBytes(i.random.getBytes(28)),q},E.createRecord=function(J,X){return X.data?{type:X.type,version:{major:J.version.major,minor:J.version.minor},length:X.data.length(),fragment:X.data}:null},E.createAlert=function(J,X){var q=i.util.createBuffer();return q.putByte(X.level),q.putByte(X.description),E.createRecord(J,{type:E.ContentType.alert,data:q})},E.createClientHello=function(J){J.session.clientHelloVersion={major:J.version.major,minor:J.version.minor};for(var X=i.util.createBuffer(),q=0;q<J.cipherSuites.length;++q){var Se=J.cipherSuites[q];X.putByte(Se.id[0]),X.putByte(Se.id[1])}var Ee=X.length(),lt=i.util.createBuffer();lt.putByte(E.CompressionMethod.none);var Ue=lt.length(),at=i.util.createBuffer();if(J.virtualHost){var Ot=i.util.createBuffer();Ot.putByte(0),Ot.putByte(0);var pt=i.util.createBuffer();pt.putByte(0),d(pt,2,i.util.createBuffer(J.virtualHost));var it=i.util.createBuffer();d(it,2,pt),d(Ot,2,it),at.putBuffer(Ot)}var Ht=at.length();Ht>0&&(Ht+=2);var en=J.session.id,rt=en.length+1+2+4+28+2+Ee+1+Ue+Ht,Nt=i.util.createBuffer();return Nt.putByte(E.HandshakeType.client_hello),Nt.putInt24(rt),Nt.putByte(J.version.major),Nt.putByte(J.version.minor),Nt.putBytes(J.session.sp.client_random),d(Nt,1,i.util.createBuffer(en)),d(Nt,2,X),d(Nt,1,lt),Ht>0&&d(Nt,2,at),Nt},E.createServerHello=function(J){var X=J.session.id,q=X.length+1+2+4+28+2+1,Se=i.util.createBuffer();return Se.putByte(E.HandshakeType.server_hello),Se.putInt24(q),Se.putByte(J.version.major),Se.putByte(J.version.minor),Se.putBytes(J.session.sp.server_random),d(Se,1,i.util.createBuffer(X)),Se.putByte(J.session.cipherSuite.id[0]),Se.putByte(J.session.cipherSuite.id[1]),Se.putByte(J.session.compressionMethod),Se},E.createCertificate=function(J){var X=J.entity===E.ConnectionEnd.client,q=null;J.getCertificate&&(q=J.getCertificate(J,X?J.session.certificateRequest:J.session.extensions.server_name.serverNameList));var Ee=i.util.createBuffer();if(null!==q)try{i.util.isArray(q)||(q=[q]);for(var lt=null,Ue=0;Ue<q.length;++Ue){var at=i.pem.decode(q[Ue])[0];if("CERTIFICATE"!==at.type&&"X509 CERTIFICATE"!==at.type&&"TRUSTED CERTIFICATE"!==at.type){var Ot=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw Ot.headerType=at.type,Ot}if(at.procType&&"ENCRYPTED"===at.procType.type)throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var pt=i.util.createBuffer(at.body);null===lt&&(lt=i.asn1.fromDer(pt.bytes(),!1));var it=i.util.createBuffer();d(it,3,pt),Ee.putBuffer(it)}q=i.pki.certificateFromAsn1(lt),X?J.session.clientCertificate=q:J.session.serverCertificate=q}catch(rt){return J.error(J,{message:"Could not send certificate list.",cause:rt,send:!0,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.bad_certificate}})}var Ht=3+Ee.length(),en=i.util.createBuffer();return en.putByte(E.HandshakeType.certificate),en.putInt24(Ht),d(en,3,Ee),en},E.createClientKeyExchange=function(J){var X=i.util.createBuffer();X.putByte(J.session.clientHelloVersion.major),X.putByte(J.session.clientHelloVersion.minor),X.putBytes(i.random.getBytes(46));var q=J.session.sp;q.pre_master_secret=X.getBytes();var Ee=(X=J.session.serverCertificate.publicKey.encrypt(q.pre_master_secret)).length+2,lt=i.util.createBuffer();return lt.putByte(E.HandshakeType.client_key_exchange),lt.putInt24(Ee),lt.putInt16(X.length),lt.putBytes(X),lt},E.createServerKeyExchange=function(J){return i.util.createBuffer()},E.getClientSignature=function(J,X){var q=i.util.createBuffer();q.putBuffer(J.session.md5.digest()),q.putBuffer(J.session.sha1.digest()),q=q.getBytes(),J.getSignature=J.getSignature||function(Se,Ee,lt){var Ue=null;if(Se.getPrivateKey)try{Ue=Se.getPrivateKey(Se,Se.session.clientCertificate),Ue=i.pki.privateKeyFromPem(Ue)}catch(at){Se.error(Se,{message:"Could not get private key.",cause:at,send:!0,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.internal_error}})}null===Ue?Se.error(Se,{message:"No private key set.",send:!0,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.internal_error}}):Ee=Ue.sign(Ee,null),lt(Se,Ee)},J.getSignature(J,q,X)},E.createCertificateVerify=function(J,X){var q=X.length+2,Se=i.util.createBuffer();return Se.putByte(E.HandshakeType.certificate_verify),Se.putInt24(q),Se.putInt16(X.length),Se.putBytes(X),Se},E.createCertificateRequest=function(J){var X=i.util.createBuffer();X.putByte(1);var q=i.util.createBuffer();for(var Se in J.caStore.certs){var lt=i.pki.distinguishedNameToAsn1(J.caStore.certs[Se].subject),Ue=i.asn1.toDer(lt);q.putInt16(Ue.length()),q.putBuffer(Ue)}var at=1+X.length()+2+q.length(),Ot=i.util.createBuffer();return Ot.putByte(E.HandshakeType.certificate_request),Ot.putInt24(at),d(Ot,1,X),d(Ot,2,q),Ot},E.createServerHelloDone=function(J){var X=i.util.createBuffer();return X.putByte(E.HandshakeType.server_hello_done),X.putInt24(0),X},E.createChangeCipherSpec=function(){var J=i.util.createBuffer();return J.putByte(1),J},E.createFinished=function(J){var X=i.util.createBuffer();X.putBuffer(J.session.md5.digest()),X.putBuffer(J.session.sha1.digest()),X=e(J.session.sp.master_secret,J.entity===E.ConnectionEnd.client?"client finished":"server finished",X.getBytes(),12);var at=i.util.createBuffer();return at.putByte(E.HandshakeType.finished),at.putInt24(X.length()),at.putBuffer(X),at},E.createHeartbeat=function(J,X,q){typeof q>"u"&&(q=X.length);var Se=i.util.createBuffer();Se.putByte(J),Se.putInt16(q),Se.putBytes(X);var Ee=Se.length(),lt=Math.max(16,Ee-q-3);return Se.putBytes(i.random.getBytes(lt)),Se},E.queue=function(J,X){if(X&&(0!==X.fragment.length()||X.type!==E.ContentType.handshake&&X.type!==E.ContentType.alert&&X.type!==E.ContentType.change_cipher_spec)){if(X.type===E.ContentType.handshake){var q=X.fragment.bytes();J.session.md5.update(q),J.session.sha1.update(q),q=null}var Se;if(X.fragment.length()<=E.MaxFragment)Se=[X];else{Se=[];for(var Ee=X.fragment.bytes();Ee.length>E.MaxFragment;)Se.push(E.createRecord(J,{type:X.type,data:i.util.createBuffer(Ee.slice(0,E.MaxFragment))})),Ee=Ee.slice(E.MaxFragment);Ee.length>0&&Se.push(E.createRecord(J,{type:X.type,data:i.util.createBuffer(Ee)}))}for(var lt=0;lt<Se.length&&!J.fail;++lt){var Ue=Se[lt];J.state.current.write.update(J,Ue)&&J.records.push(Ue)}}},E.flush=function(J){for(var X=0;X<J.records.length;++X){var q=J.records[X];J.tlsData.putByte(q.type),J.tlsData.putByte(q.version.major),J.tlsData.putByte(q.version.minor),J.tlsData.putInt16(q.fragment.length()),J.tlsData.putBuffer(J.records[X].fragment)}return J.records=[],J.tlsDataReady(J)};var Lt=function(J){switch(J){case!0:return!0;case i.pki.certificateError.bad_certificate:return E.Alert.Description.bad_certificate;case i.pki.certificateError.unsupported_certificate:return E.Alert.Description.unsupported_certificate;case i.pki.certificateError.certificate_revoked:return E.Alert.Description.certificate_revoked;case i.pki.certificateError.certificate_expired:return E.Alert.Description.certificate_expired;case i.pki.certificateError.certificate_unknown:return E.Alert.Description.certificate_unknown;case i.pki.certificateError.unknown_ca:return E.Alert.Description.unknown_ca;default:return E.Alert.Description.bad_certificate}};for(var _t in E.verifyCertificateChain=function(J,X){try{var q={};for(var Se in J.verifyOptions)q[Se]=J.verifyOptions[Se];q.verify=function(lt,Ue,at){Lt(lt);var pt=J.verify(J,lt,Ue,at);if(!0!==pt){if("object"==typeof pt&&!i.util.isArray(pt)){var it=new Error("The application rejected the certificate.");throw it.send=!0,it.alert={level:E.Alert.Level.fatal,description:E.Alert.Description.bad_certificate},pt.message&&(it.message=pt.message),pt.alert&&(it.alert.description=pt.alert),it}pt!==lt&&(pt=function(J){switch(J){case!0:return!0;case E.Alert.Description.bad_certificate:return i.pki.certificateError.bad_certificate;case E.Alert.Description.unsupported_certificate:return i.pki.certificateError.unsupported_certificate;case E.Alert.Description.certificate_revoked:return i.pki.certificateError.certificate_revoked;case E.Alert.Description.certificate_expired:return i.pki.certificateError.certificate_expired;case E.Alert.Description.certificate_unknown:return i.pki.certificateError.certificate_unknown;case E.Alert.Description.unknown_ca:return i.pki.certificateError.unknown_ca;default:return i.pki.certificateError.bad_certificate}}(pt))}return pt},i.pki.verifyCertificateChain(J.caStore,X,q)}catch(lt){var Ee=lt;("object"!=typeof Ee||i.util.isArray(Ee))&&(Ee={send:!0,alert:{level:E.Alert.Level.fatal,description:Lt(lt)}}),"send"in Ee||(Ee.send=!0),"alert"in Ee||(Ee.alert={level:E.Alert.Level.fatal,description:Lt(Ee.error)}),J.error(J,Ee)}return!J.fail},E.createSessionCache=function(J,X){var q=null;if(J&&J.getSession&&J.setSession&&J.order)q=J;else{for(var Se in(q={}).cache=J||{},q.capacity=Math.max(X||100,1),q.order=[],J)q.order.length<=X?q.order.push(Se):delete J[Se];q.getSession=function(Ee){var lt=null,Ue=null;if(Ee?Ue=i.util.bytesToHex(Ee):q.order.length>0&&(Ue=q.order[0]),null!==Ue&&Ue in q.cache)for(var at in lt=q.cache[Ue],delete q.cache[Ue],q.order)if(q.order[at]===Ue){q.order.splice(at,1);break}return lt},q.setSession=function(Ee,lt){if(q.order.length===q.capacity){var Ue=q.order.shift();delete q.cache[Ue]}Ue=i.util.bytesToHex(Ee),q.order.push(Ue),q.cache[Ue]=lt}}return q},E.createConnection=function(J){var X;X=J.caStore?i.util.isArray(J.caStore)?i.pki.createCaStore(J.caStore):J.caStore:i.pki.createCaStore();var q=J.cipherSuites||null;if(null===q)for(var Se in q=[],E.CipherSuites)q.push(E.CipherSuites[Se]);var Ee=J.server?E.ConnectionEnd.server:E.ConnectionEnd.client,lt=J.sessionCache?E.createSessionCache(J.sessionCache):null,Ue={version:{major:E.Version.major,minor:E.Version.minor},entity:Ee,sessionId:J.sessionId,caStore:X,sessionCache:lt,cipherSuites:q,connected:J.connected,virtualHost:J.virtualHost||null,verifyClient:J.verifyClient||!1,verify:J.verify||function(it,Ht,en,rt){return Ht},verifyOptions:J.verifyOptions||{},getCertificate:J.getCertificate||null,getPrivateKey:J.getPrivateKey||null,getSignature:J.getSignature||null,input:i.util.createBuffer(),tlsData:i.util.createBuffer(),data:i.util.createBuffer(),tlsDataReady:J.tlsDataReady,dataReady:J.dataReady,heartbeatReceived:J.heartbeatReceived,closed:J.closed,error:function(it,Ht){Ht.origin=Ht.origin||(it.entity===E.ConnectionEnd.client?"client":"server"),Ht.send&&(E.queue(it,E.createAlert(it,Ht.alert)),E.flush(it));var en=!1!==Ht.fatal;en&&(it.fail=!0),J.error(it,Ht),en&&it.close(!1)},deflate:J.deflate||null,inflate:J.inflate||null,reset:function(it){Ue.version={major:E.Version.major,minor:E.Version.minor},Ue.record=null,Ue.session=null,Ue.peerCertificate=null,Ue.state={pending:null,current:null},Ue.expect=0,Ue.fragmented=null,Ue.records=[],Ue.open=!1,Ue.handshakes=0,Ue.handshaking=!1,Ue.isConnected=!1,Ue.fail=!(it||typeof it>"u"),Ue.input.clear(),Ue.tlsData.clear(),Ue.data.clear(),Ue.state.current=E.createConnectionState(Ue)}};return Ue.reset(),Ue.handshake=function(it){if(Ue.entity!==E.ConnectionEnd.client)Ue.error(Ue,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(Ue.handshaking)Ue.error(Ue,{message:"Handshake already in progress.",fatal:!1});else{Ue.fail&&!Ue.open&&0===Ue.handshakes&&(Ue.fail=!1),Ue.handshaking=!0;var Ht=null;(it=it||"").length>0&&(Ue.sessionCache&&(Ht=Ue.sessionCache.getSession(it)),null===Ht&&(it="")),0===it.length&&Ue.sessionCache&&null!==(Ht=Ue.sessionCache.getSession())&&(it=Ht.id),Ue.session={id:it,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:i.md.md5.create(),sha1:i.md.sha1.create()},Ht&&(Ue.version=Ht.version,Ue.session.sp=Ht.sp),Ue.session.sp.client_random=E.createRandom().getBytes(),Ue.open=!0,E.queue(Ue,E.createRecord(Ue,{type:E.ContentType.handshake,data:E.createClientHello(Ue)})),E.flush(Ue)}},Ue.process=function(it){var Ht=0;return it&&Ue.input.putBytes(it),Ue.fail||(null!==Ue.record&&Ue.record.ready&&Ue.record.fragment.isEmpty()&&(Ue.record=null),null===Ue.record&&(Ht=function(it){var Ht=0,en=it.input,rt=en.length();if(rt<5)Ht=5-rt;else{it.record={type:en.getByte(),version:{major:en.getByte(),minor:en.getByte()},length:en.getInt16(),fragment:i.util.createBuffer(),ready:!1};var Nt=it.record.version.major===it.version.major;Nt&&it.session&&it.session.version&&(Nt=it.record.version.minor===it.version.minor),Nt||it.error(it,{message:"Incompatible TLS version.",send:!0,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.protocol_version}})}return Ht}(Ue)),!Ue.fail&&null!==Ue.record&&!Ue.record.ready&&(Ht=function(it){var Ht=0,en=it.input,rt=en.length();return rt<it.record.length?Ht=it.record.length-rt:(it.record.fragment.putBytes(en.getBytes(it.record.length)),en.compact(),it.state.current.read.update(it,it.record)&&(null!==it.fragmented&&(it.fragmented.type===it.record.type?(it.fragmented.fragment.putBuffer(it.record.fragment),it.record=it.fragmented):it.error(it,{message:"Invalid fragmented record.",send:!0,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.unexpected_message}})),it.record.ready=!0)),Ht}(Ue)),!Ue.fail&&null!==Ue.record&&Ue.record.ready&&function(it,Ht){var en=Ht.type-E.ContentType.change_cipher_spec,rt=xe[it.entity][it.expect];en in rt?rt[en](it,Ht):E.handleUnexpected(it,Ht)}(Ue,Ue.record)),Ht},Ue.prepare=function(it){return E.queue(Ue,E.createRecord(Ue,{type:E.ContentType.application_data,data:i.util.createBuffer(it)})),E.flush(Ue)},Ue.prepareHeartbeatRequest=function(it,Ht){return it instanceof i.util.ByteBuffer&&(it=it.bytes()),typeof Ht>"u"&&(Ht=it.length),Ue.expectedHeartbeatPayload=it,E.queue(Ue,E.createRecord(Ue,{type:E.ContentType.heartbeat,data:E.createHeartbeat(E.HeartbeatMessageType.heartbeat_request,it,Ht)})),E.flush(Ue)},Ue.close=function(it){if(!Ue.fail&&Ue.sessionCache&&Ue.session){var Ht={id:Ue.session.id,version:Ue.session.version,sp:Ue.session.sp};Ht.sp.keys=null,Ue.sessionCache.setSession(Ht.id,Ht)}Ue.open&&(Ue.open=!1,Ue.input.clear(),(Ue.isConnected||Ue.handshaking)&&(Ue.isConnected=Ue.handshaking=!1,E.queue(Ue,E.createAlert(Ue,{level:E.Alert.Level.warning,description:E.Alert.Description.close_notify})),E.flush(Ue)),Ue.closed(Ue)),Ue.reset(it)},Ue},et.exports=i.tls=i.tls||{},E)"function"!=typeof E[_t]&&(i.tls[_t]=E[_t]);i.tls.prf_tls1=e,i.tls.hmac_sha1=function(J,X,q){var Se=i.hmac.create();Se.start("SHA1",J);var Ee=i.util.createBuffer();return Ee.putInt32(X[0]),Ee.putInt32(X[1]),Ee.putByte(q.type),Ee.putByte(q.version.major),Ee.putByte(q.version.minor),Ee.putInt16(q.length),Ee.putBytes(q.fragment.bytes()),Se.update(Ee.getBytes()),Se.digest().getBytes()},i.tls.createSessionCache=E.createSessionCache,i.tls.createConnection=E.createConnection},812:(et,me,u)=>{var i=u(6589),e=u(3175),_=et.exports=i.util=i.util||{};function g(x){if(8!==x&&16!==x&&24!==x&&32!==x)throw new Error("Only 8, 16, 24, or 32 bits supported: "+x)}function S(x){if(this.data="",this.read=0,"string"==typeof x)this.data=x;else if(_.isArrayBuffer(x)||_.isArrayBufferView(x))if(typeof Buffer<"u"&&x instanceof Buffer)this.data=x.toString("binary");else{var $=new Uint8Array(x);try{this.data=String.fromCharCode.apply(null,$)}catch{for(var U=0;U<$.length;++U)this.putByte($[U])}}else(x instanceof S||"object"==typeof x&&"string"==typeof x.data&&"number"==typeof x.read)&&(this.data=x.data,this.read=x.read);this._constructedStringLength=0}(function(){if(typeof process<"u"&&process.nextTick&&!process.browser)return _.nextTick=process.nextTick,void(_.setImmediate="function"==typeof setImmediate?setImmediate:_.nextTick);if("function"==typeof setImmediate)return _.setImmediate=function(){return setImmediate.apply(void 0,arguments)},void(_.nextTick=function(Q){return setImmediate(Q)});if(_.setImmediate=function(Q){setTimeout(Q,0)},typeof window<"u"&&"function"==typeof window.postMessage){let Q=function(te){if(te.source===window&&te.data===x){te.stopPropagation();var I=$.slice();$.length=0,I.forEach(function(oe){oe()})}};var x="forge.setImmediate",$=[];_.setImmediate=function(te){$.push(te),1===$.length&&window.postMessage(x,"*")},window.addEventListener("message",Q,!0)}if(typeof MutationObserver<"u"){var U=Date.now(),G=!0,ie=document.createElement("div");$=[],new MutationObserver(function(){var te=$.slice();$.length=0,te.forEach(function(I){I()})}).observe(ie,{attributes:!0});var le=_.setImmediate;_.setImmediate=function(te){Date.now()-U>15?(U=Date.now(),le(te)):($.push(te),1===$.length&&ie.setAttribute("a",G=!G))}}_.nextTick=_.setImmediate})(),_.isNodejs=typeof process<"u"&&process.versions&&process.versions.node,_.globalScope=_.isNodejs?global:typeof self>"u"?window:self,_.isArray=Array.isArray||function(x){return"[object Array]"===Object.prototype.toString.call(x)},_.isArrayBuffer=function(x){return typeof ArrayBuffer<"u"&&x instanceof ArrayBuffer},_.isArrayBufferView=function(x){return x&&_.isArrayBuffer(x.buffer)&&void 0!==x.byteLength},_.ByteBuffer=S,_.ByteStringBuffer=S,_.ByteStringBuffer.prototype._optimizeConstructedString=function(x){this._constructedStringLength+=x,this._constructedStringLength>4096&&(this.data.substr(0,1),this._constructedStringLength=0)},_.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},_.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0},_.ByteStringBuffer.prototype.putByte=function(x){return this.putBytes(String.fromCharCode(x))},_.ByteStringBuffer.prototype.fillWithByte=function(x,$){x=String.fromCharCode(x);for(var U=this.data;$>0;)1&$&&(U+=x),($>>>=1)>0&&(x+=x);return this.data=U,this._optimizeConstructedString($),this},_.ByteStringBuffer.prototype.putBytes=function(x){return this.data+=x,this._optimizeConstructedString(x.length),this},_.ByteStringBuffer.prototype.putString=function(x){return this.putBytes(_.encodeUtf8(x))},_.ByteStringBuffer.prototype.putInt16=function(x){return this.putBytes(String.fromCharCode(x>>8&255)+String.fromCharCode(255&x))},_.ByteStringBuffer.prototype.putInt24=function(x){return this.putBytes(String.fromCharCode(x>>16&255)+String.fromCharCode(x>>8&255)+String.fromCharCode(255&x))},_.ByteStringBuffer.prototype.putInt32=function(x){return this.putBytes(String.fromCharCode(x>>24&255)+String.fromCharCode(x>>16&255)+String.fromCharCode(x>>8&255)+String.fromCharCode(255&x))},_.ByteStringBuffer.prototype.putInt16Le=function(x){return this.putBytes(String.fromCharCode(255&x)+String.fromCharCode(x>>8&255))},_.ByteStringBuffer.prototype.putInt24Le=function(x){return this.putBytes(String.fromCharCode(255&x)+String.fromCharCode(x>>8&255)+String.fromCharCode(x>>16&255))},_.ByteStringBuffer.prototype.putInt32Le=function(x){return this.putBytes(String.fromCharCode(255&x)+String.fromCharCode(x>>8&255)+String.fromCharCode(x>>16&255)+String.fromCharCode(x>>24&255))},_.ByteStringBuffer.prototype.putInt=function(x,$){g($);var U="";do{$-=8,U+=String.fromCharCode(x>>$&255)}while($>0);return this.putBytes(U)},_.ByteStringBuffer.prototype.putSignedInt=function(x,$){return x<0&&(x+=2<<$-1),this.putInt(x,$)},_.ByteStringBuffer.prototype.putBuffer=function(x){return this.putBytes(x.getBytes())},_.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},_.ByteStringBuffer.prototype.getInt16=function(){var x=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,x},_.ByteStringBuffer.prototype.getInt24=function(){var x=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,x},_.ByteStringBuffer.prototype.getInt32=function(){var x=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,x},_.ByteStringBuffer.prototype.getInt16Le=function(){var x=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,x},_.ByteStringBuffer.prototype.getInt24Le=function(){var x=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,x},_.ByteStringBuffer.prototype.getInt32Le=function(){var x=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,x},_.ByteStringBuffer.prototype.getInt=function(x){g(x);var $=0;do{$=($<<8)+this.data.charCodeAt(this.read++),x-=8}while(x>0);return $},_.ByteStringBuffer.prototype.getSignedInt=function(x){var $=this.getInt(x),U=2<<x-2;return $>=U&&($-=U<<1),$},_.ByteStringBuffer.prototype.getBytes=function(x){var $;return x?(x=Math.min(this.length(),x),$=this.data.slice(this.read,this.read+x),this.read+=x):0===x?$="":($=0===this.read?this.data:this.data.slice(this.read),this.clear()),$},_.ByteStringBuffer.prototype.bytes=function(x){return typeof x>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+x)},_.ByteStringBuffer.prototype.at=function(x){return this.data.charCodeAt(this.read+x)},_.ByteStringBuffer.prototype.setAt=function(x,$){return this.data=this.data.substr(0,this.read+x)+String.fromCharCode($)+this.data.substr(this.read+x+1),this},_.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},_.ByteStringBuffer.prototype.copy=function(){var x=_.createBuffer(this.data);return x.read=this.read,x},_.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},_.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this},_.ByteStringBuffer.prototype.truncate=function(x){var $=Math.max(0,this.length()-x);return this.data=this.data.substr(this.read,$),this.read=0,this},_.ByteStringBuffer.prototype.toHex=function(){for(var x="",$=this.read;$<this.data.length;++$){var U=this.data.charCodeAt($);U<16&&(x+="0"),x+=U.toString(16)}return x},_.ByteStringBuffer.prototype.toString=function(){return _.decodeUtf8(this.bytes())},_.DataBuffer=function f(x,$){this.read=($=$||{}).readOffset||0,this.growSize=$.growSize||1024;var U=_.isArrayBuffer(x),G=_.isArrayBufferView(x);if(U||G)return this.data=U?new DataView(x):new DataView(x.buffer,x.byteOffset,x.byteLength),void(this.write="writeOffset"in $?$.writeOffset:this.data.byteLength);this.data=new DataView(new ArrayBuffer(0)),this.write=0,null!=x&&this.putBytes(x),"writeOffset"in $&&(this.write=$.writeOffset)},_.DataBuffer.prototype.length=function(){return this.write-this.read},_.DataBuffer.prototype.isEmpty=function(){return this.length()<=0},_.DataBuffer.prototype.accommodate=function(x,$){if(this.length()>=x)return this;$=Math.max($||this.growSize,x);var U=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),G=new Uint8Array(this.length()+$);return G.set(U),this.data=new DataView(G.buffer),this},_.DataBuffer.prototype.putByte=function(x){return this.accommodate(1),this.data.setUint8(this.write++,x),this},_.DataBuffer.prototype.fillWithByte=function(x,$){this.accommodate($);for(var U=0;U<$;++U)this.data.setUint8(x);return this},_.DataBuffer.prototype.putBytes=function(x,$){if(_.isArrayBufferView(x)){var G=(U=new Uint8Array(x.buffer,x.byteOffset,x.byteLength)).byteLength-U.byteOffset;return this.accommodate(G),new Uint8Array(this.data.buffer,this.write).set(U),this.write+=G,this}if(_.isArrayBuffer(x)){var U=new Uint8Array(x);return this.accommodate(U.byteLength),new Uint8Array(this.data.buffer).set(U,this.write),this.write+=U.byteLength,this}if(x instanceof _.DataBuffer||"object"==typeof x&&"number"==typeof x.read&&"number"==typeof x.write&&_.isArrayBufferView(x.data))return U=new Uint8Array(x.data.byteLength,x.read,x.length()),this.accommodate(U.byteLength),new Uint8Array(x.data.byteLength,this.write).set(U),this.write+=U.byteLength,this;if(x instanceof _.ByteStringBuffer&&(x=x.data,$="binary"),$=$||"binary","string"==typeof x){var le;if("hex"===$)return this.accommodate(Math.ceil(x.length/2)),le=new Uint8Array(this.data.buffer,this.write),this.write+=_.binary.hex.decode(x,le,this.write),this;if("base64"===$)return this.accommodate(3*Math.ceil(x.length/4)),le=new Uint8Array(this.data.buffer,this.write),this.write+=_.binary.base64.decode(x,le,this.write),this;if("utf8"===$&&(x=_.encodeUtf8(x),$="binary"),"binary"===$||"raw"===$)return this.accommodate(x.length),le=new Uint8Array(this.data.buffer,this.write),this.write+=_.binary.raw.decode(le),this;if("utf16"===$)return this.accommodate(2*x.length),le=new Uint16Array(this.data.buffer,this.write),this.write+=_.text.utf16.encode(le),this;throw new Error("Invalid encoding: "+$)}throw Error("Invalid parameter: "+x)},_.DataBuffer.prototype.putBuffer=function(x){return this.putBytes(x),x.clear(),this},_.DataBuffer.prototype.putString=function(x){return this.putBytes(x,"utf16")},_.DataBuffer.prototype.putInt16=function(x){return this.accommodate(2),this.data.setInt16(this.write,x),this.write+=2,this},_.DataBuffer.prototype.putInt24=function(x){return this.accommodate(3),this.data.setInt16(this.write,x>>8&65535),this.data.setInt8(this.write,x>>16&255),this.write+=3,this},_.DataBuffer.prototype.putInt32=function(x){return this.accommodate(4),this.data.setInt32(this.write,x),this.write+=4,this},_.DataBuffer.prototype.putInt16Le=function(x){return this.accommodate(2),this.data.setInt16(this.write,x,!0),this.write+=2,this},_.DataBuffer.prototype.putInt24Le=function(x){return this.accommodate(3),this.data.setInt8(this.write,x>>16&255),this.data.setInt16(this.write,x>>8&65535,!0),this.write+=3,this},_.DataBuffer.prototype.putInt32Le=function(x){return this.accommodate(4),this.data.setInt32(this.write,x,!0),this.write+=4,this},_.DataBuffer.prototype.putInt=function(x,$){g($),this.accommodate($/8);do{$-=8,this.data.setInt8(this.write++,x>>$&255)}while($>0);return this},_.DataBuffer.prototype.putSignedInt=function(x,$){return g($),this.accommodate($/8),x<0&&(x+=2<<$-1),this.putInt(x,$)},_.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)},_.DataBuffer.prototype.getInt16=function(){var x=this.data.getInt16(this.read);return this.read+=2,x},_.DataBuffer.prototype.getInt24=function(){var x=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,x},_.DataBuffer.prototype.getInt32=function(){var x=this.data.getInt32(this.read);return this.read+=4,x},_.DataBuffer.prototype.getInt16Le=function(){var x=this.data.getInt16(this.read,!0);return this.read+=2,x},_.DataBuffer.prototype.getInt24Le=function(){var x=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,x},_.DataBuffer.prototype.getInt32Le=function(){var x=this.data.getInt32(this.read,!0);return this.read+=4,x},_.DataBuffer.prototype.getInt=function(x){g(x);var $=0;do{$=($<<8)+this.data.getInt8(this.read++),x-=8}while(x>0);return $},_.DataBuffer.prototype.getSignedInt=function(x){var $=this.getInt(x),U=2<<x-2;return $>=U&&($-=U<<1),$},_.DataBuffer.prototype.getBytes=function(x){var $;return x?(x=Math.min(this.length(),x),$=this.data.slice(this.read,this.read+x),this.read+=x):0===x?$="":($=0===this.read?this.data:this.data.slice(this.read),this.clear()),$},_.DataBuffer.prototype.bytes=function(x){return typeof x>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+x)},_.DataBuffer.prototype.at=function(x){return this.data.getUint8(this.read+x)},_.DataBuffer.prototype.setAt=function(x,$){return this.data.setUint8(x,$),this},_.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)},_.DataBuffer.prototype.copy=function(){return new _.DataBuffer(this)},_.DataBuffer.prototype.compact=function(){if(this.read>0){var x=new Uint8Array(this.data.buffer,this.read),$=new Uint8Array(x.byteLength);$.set(x),this.data=new DataView($),this.write-=this.read,this.read=0}return this},_.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this},_.DataBuffer.prototype.truncate=function(x){return this.write=Math.max(0,this.length()-x),this.read=Math.min(this.read,this.write),this},_.DataBuffer.prototype.toHex=function(){for(var x="",$=this.read;$<this.data.byteLength;++$){var U=this.data.getUint8($);U<16&&(x+="0"),x+=U.toString(16)}return x},_.DataBuffer.prototype.toString=function(x){var $=new Uint8Array(this.data,this.read,this.length());if("binary"===(x=x||"utf8")||"raw"===x)return _.binary.raw.encode($);if("hex"===x)return _.binary.hex.encode($);if("base64"===x)return _.binary.base64.encode($);if("utf8"===x)return _.text.utf8.decode($);if("utf16"===x)return _.text.utf16.decode($);throw new Error("Invalid encoding: "+x)},_.createBuffer=function(x,$){return $=$||"raw",void 0!==x&&"utf8"===$&&(x=_.encodeUtf8(x)),new _.ByteBuffer(x)},_.fillString=function(x,$){for(var U="";$>0;)1&$&&(U+=x),($>>>=1)>0&&(x+=x);return U},_.xorBytes=function(x,$,U){for(var G="",ie="",le="",L=0,Q=0;U>0;--U,++L)ie=x.charCodeAt(L)^$.charCodeAt(L),Q>=10&&(G+=le,le="",Q=0),le+=String.fromCharCode(ie),++Q;return G+le},_.hexToBytes=function(x){var $="",U=0;for(!0&x.length&&(U=1,$+=String.fromCharCode(parseInt(x[0],16)));U<x.length;U+=2)$+=String.fromCharCode(parseInt(x.substr(U,2),16));return $},_.bytesToHex=function(x){return _.createBuffer(x).toHex()},_.int32ToBytes=function(x){return String.fromCharCode(x>>24&255)+String.fromCharCode(x>>16&255)+String.fromCharCode(x>>8&255)+String.fromCharCode(255&x)};var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",E=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],m="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";_.encode64=function(x,$){for(var ie,le,L,U="",G="",Q=0;Q<x.length;)ie=x.charCodeAt(Q++),le=x.charCodeAt(Q++),L=x.charCodeAt(Q++),U+=d.charAt(ie>>2),U+=d.charAt((3&ie)<<4|le>>4),isNaN(le)?U+="==":(U+=d.charAt((15&le)<<2|L>>6),U+=isNaN(L)?"=":d.charAt(63&L)),$&&U.length>$&&(G+=U.substr(0,$)+"\r\n",U=U.substr($));return G+U},_.decode64=function(x){x=x.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var U,G,ie,le,$="",L=0;L<x.length;)U=E[x.charCodeAt(L++)-43],G=E[x.charCodeAt(L++)-43],ie=E[x.charCodeAt(L++)-43],le=E[x.charCodeAt(L++)-43],$+=String.fromCharCode(U<<2|G>>4),64!==ie&&($+=String.fromCharCode((15&G)<<4|ie>>2),64!==le&&($+=String.fromCharCode((3&ie)<<6|le)));return $},_.encodeUtf8=function(x){return unescape(encodeURIComponent(x))},_.decodeUtf8=function(x){return decodeURIComponent(escape(x))},_.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:e.encode,decode:e.decode}},_.binary.raw.encode=function(x){return String.fromCharCode.apply(null,x)},_.binary.raw.decode=function(x,$,U){var G=$;G||(G=new Uint8Array(x.length));for(var ie=U=U||0,le=0;le<x.length;++le)G[ie++]=x.charCodeAt(le);return $?ie-U:G},_.binary.hex.encode=_.bytesToHex,_.binary.hex.decode=function(x,$,U){var G=$;G||(G=new Uint8Array(Math.ceil(x.length/2)));var ie=0,le=U=U||0;for(1&x.length&&(ie=1,G[le++]=parseInt(x[0],16));ie<x.length;ie+=2)G[le++]=parseInt(x.substr(ie,2),16);return $?le-U:G},_.binary.base64.encode=function(x,$){for(var ie,le,L,U="",G="",Q=0;Q<x.byteLength;)ie=x[Q++],le=x[Q++],L=x[Q++],U+=d.charAt(ie>>2),U+=d.charAt((3&ie)<<4|le>>4),isNaN(le)?U+="==":(U+=d.charAt((15&le)<<2|L>>6),U+=isNaN(L)?"=":d.charAt(63&L)),$&&U.length>$&&(G+=U.substr(0,$)+"\r\n",U=U.substr($));return G+U},_.binary.base64.decode=function(x,$,U){var G=$;G||(G=new Uint8Array(3*Math.ceil(x.length/4))),x=x.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var ie,le,L,Q,te=0,I=U=U||0;te<x.length;)ie=E[x.charCodeAt(te++)-43],le=E[x.charCodeAt(te++)-43],L=E[x.charCodeAt(te++)-43],Q=E[x.charCodeAt(te++)-43],G[I++]=ie<<2|le>>4,64!==L&&(G[I++]=(15&le)<<4|L>>2,64!==Q&&(G[I++]=(3&L)<<6|Q));return $?I-U:G.subarray(0,I)},_.binary.base58.encode=function(x,$){return _.binary.baseN.encode(x,m,$)},_.binary.base58.decode=function(x,$){return _.binary.baseN.decode(x,m,$)},_.text={utf8:{},utf16:{}},_.text.utf8.encode=function(x,$,U){x=_.encodeUtf8(x);var G=$;G||(G=new Uint8Array(x.length));for(var ie=U=U||0,le=0;le<x.length;++le)G[ie++]=x.charCodeAt(le);return $?ie-U:G},_.text.utf8.decode=function(x){return _.decodeUtf8(String.fromCharCode.apply(null,x))},_.text.utf16.encode=function(x,$,U){var G=$;G||(G=new Uint8Array(2*x.length));for(var ie=new Uint16Array(G.buffer),le=U=U||0,L=U,Q=0;Q<x.length;++Q)ie[L++]=x.charCodeAt(Q),le+=2;return $?le-U:G},_.text.utf16.decode=function(x){return String.fromCharCode.apply(null,new Uint16Array(x.buffer))},_.deflate=function(x,$,U){if($=_.decode64(x.deflate(_.encode64($)).rval),U){var G=2;32&$.charCodeAt(1)&&(G=6),$=$.substring(G,$.length-4)}return $},_.inflate=function(x,$,U){var G=x.inflate(_.encode64($)).rval;return null===G?null:_.decode64(G)};var F=function(x,$,U){if(!x)throw new Error("WebStorage not available.");var G;if(null===U?G=x.removeItem($):(U=_.encode64(JSON.stringify(U)),G=x.setItem($,U)),typeof G<"u"&&!0!==G.rval){var ie=new Error(G.error.message);throw ie.id=G.error.id,ie.name=G.error.name,ie}},w=function(x,$){if(!x)throw new Error("WebStorage not available.");var U=x.getItem($);if(x.init)if(null===U.rval){if(U.error){var G=new Error(U.error.message);throw G.id=U.error.id,G.name=U.error.name,G}U=null}else U=U.rval;return null!==U&&(U=JSON.parse(_.decode64(U))),U},C=function(x,$,U,G){var ie=w(x,$);null===ie&&(ie={}),ie[U]=G,F(x,$,ie)},R=function(x,$,U){var G=w(x,$);return null!==G&&(G=U in G?G[U]:null),G},k=function(x,$,U){var G=w(x,$);if(null!==G&&U in G){delete G[U];var ie=!0;for(var le in G){ie=!1;break}ie&&(G=null),F(x,$,G)}},O=function(x,$){F(x,$,null)},H=function(x,$,U){var G=null;typeof U>"u"&&(U=["web","flash"]);var ie,le=!1,L=null;for(var Q in U){ie=U[Q];try{if("flash"===ie||"both"===ie){if(null===$[0])throw new Error("Flash local storage not available.");G=x.apply(this,$),le="flash"===ie}("web"===ie||"both"===ie)&&($[0]=localStorage,G=x.apply(this,$),le=!0)}catch(te){L=te}if(le)break}if(!le)throw L;return G};_.setItem=function(x,$,U,G,ie){H(C,arguments,ie)},_.getItem=function(x,$,U,G){return H(R,arguments,G)},_.removeItem=function(x,$,U,G){H(k,arguments,G)},_.clearItems=function(x,$,U){H(O,arguments,U)},_.isEmpty=function(x){for(var $ in x)if(x.hasOwnProperty($))return!1;return!0},_.format=function(x){for(var U,G,$=/%./g,ie=0,le=[],L=0;U=$.exec(x);){(G=x.substring(L,$.lastIndex-2)).length>0&&le.push(G),L=$.lastIndex;var Q=U[0][1];switch(Q){case"s":case"o":le.push(ie<arguments.length?arguments[1+ie++]:"<?>");break;case"%":le.push("%");break;default:le.push("<%"+Q+"?>")}}return le.push(x.substring(L)),le.join("")},_.formatNumber=function(x,$,U,G){var ie=x,le=isNaN($=Math.abs($))?2:$,L=void 0===U?",":U,Q=void 0===G?".":G,te=ie<0?"-":"",I=parseInt(ie=Math.abs(+ie||0).toFixed(le),10)+"",oe=I.length>3?I.length%3:0;return te+(oe?I.substr(0,oe)+Q:"")+I.substr(oe).replace(/(\d{3})(?=\d)/g,"$1"+Q)+(le?L+Math.abs(ie-I).toFixed(le).slice(2):"")},_.formatSize=function(x){return x>=1073741824?_.formatNumber(x/1073741824,2,".","")+" GiB":x>=1048576?_.formatNumber(x/1048576,2,".","")+" MiB":x>=1024?_.formatNumber(x/1024,0)+" KiB":_.formatNumber(x,0)+" bytes"},_.bytesFromIP=function(x){return-1!==x.indexOf(".")?_.bytesFromIPv4(x):-1!==x.indexOf(":")?_.bytesFromIPv6(x):null},_.bytesFromIPv4=function(x){if(4!==(x=x.split(".")).length)return null;for(var $=_.createBuffer(),U=0;U<x.length;++U){var G=parseInt(x[U],10);if(isNaN(G))return null;$.putByte(G)}return $.getBytes()},_.bytesFromIPv6=function(x){for(var $=0,U=2*(8-(x=x.split(":").filter(function(L){return 0===L.length&&++$,!0})).length+$),G=_.createBuffer(),ie=0;ie<8;++ie)if(x[ie]&&0!==x[ie].length){var le=_.hexToBytes(x[ie]);le.length<2&&G.putByte(0),G.putBytes(le)}else G.fillWithByte(0,U),U=0;return G.getBytes()},_.bytesToIP=function(x){return 4===x.length?_.bytesToIPv4(x):16===x.length?_.bytesToIPv6(x):null},_.bytesToIPv4=function(x){if(4!==x.length)return null;for(var $=[],U=0;U<x.length;++U)$.push(x.charCodeAt(U));return $.join(".")},_.bytesToIPv6=function(x){if(16!==x.length)return null;for(var $=[],U=[],G=0,ie=0;ie<x.length;ie+=2){for(var le=_.bytesToHex(x[ie]+x[ie+1]);"0"===le[0]&&"0"!==le;)le=le.substr(1);if("0"===le){var L=U[U.length-1],Q=$.length;L&&Q===L.end+1?(L.end=Q,L.end-L.start>U[G].end-U[G].start&&(G=U.length-1)):U.push({start:Q,end:Q})}$.push(le)}if(U.length>0){var te=U[G];te.end-te.start>0&&($.splice(te.start,te.end-te.start+1,""),0===te.start&&$.unshift(""),7===te.end&&$.push(""))}return $.join(":")},_.estimateCores=function(x,$){if("function"==typeof x&&($=x,x={}),x=x||{},"cores"in _&&!x.update)return $(null,_.cores);if(typeof navigator<"u"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return _.cores=navigator.hardwareConcurrency,$(null,_.cores);if(typeof Worker>"u")return _.cores=1,$(null,_.cores);if(typeof Blob>"u")return _.cores=2,$(null,_.cores);var U=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(L){for(var Q=Date.now(),te=Q+4;Date.now()<te;);self.postMessage({st:Q,et:te})})}.toString(),")()"],{type:"application/javascript"}));!function G(L,Q,te){if(0===Q){var I=Math.floor(L.reduce(function(oe,Y){return oe+Y},0)/L.length);return _.cores=Math.max(1,I),URL.revokeObjectURL(U),$(null,_.cores)}!function ie(L,Q){for(var te=[],I=[],oe=0;oe<L;++oe){var Y=new Worker(U);Y.addEventListener("message",function(_e){if(I.push(_e.data),I.length===L){for(var Oe=0;Oe<L;++Oe)te[Oe].terminate();Q(null,I)}}),te.push(Y)}for(oe=0;oe<L;++oe)te[oe].postMessage(oe)}(te,function(oe,Y){L.push(function le(L,Q){for(var te=[],I=0;I<L;++I)for(var oe=Q[I],Y=te[I]=[],_e=0;_e<L;++_e)if(I!==_e){var Oe=Q[_e];(oe.st>Oe.st&&oe.st<Oe.et||Oe.st>oe.st&&Oe.st<oe.et)&&Y.push(_e)}return te.reduce(function(Re,xe){return Math.max(Re,xe.length)},0)}(te,Y)),G(L,Q-1,te)})}([],5,16)}},9436:(et,me,u)=>{var i=u(6589);u(57),u(7097),u(3674),u(5437),u(8040),u(1817),u(9368),u(8588),u(2880),u(812);var e=i.asn1,_=et.exports=i.pki=i.pki||{},g=_.oids,S={};S.CN=g.commonName,S.commonName="CN",S.C=g.countryName,S.countryName="C",S.L=g.localityName,S.localityName="L",S.ST=g.stateOrProvinceName,S.stateOrProvinceName="ST",S.O=g.organizationName,S.organizationName="O",S.OU=g.organizationalUnitName,S.organizationalUnitName="OU",S.E=g.emailAddress,S.emailAddress="E";var v=i.pki.rsa.publicKeyValidator,f={name:"Certificate",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:e.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:e.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:e.Class.UNIVERSAL,type:e.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:e.Class.UNIVERSAL,type:e.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:e.Class.UNIVERSAL,type:e.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:e.Class.UNIVERSAL,type:e.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},v,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:e.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:e.Class.UNIVERSAL,type:e.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:e.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:e.Class.UNIVERSAL,type:e.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:e.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:e.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:e.Class.UNIVERSAL,type:e.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},d={name:"rsapss",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:e.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:e.Class.UNIVERSAL,type:e.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:e.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:e.Class.UNIVERSAL,type:e.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:e.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:e.Class.UNIVERSAL,type:e.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:e.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:e.Class.UNIVERSAL,type:e.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},m={name:"CertificationRequest",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[{name:"CertificationRequestInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},v,{name:"CertificationRequestInfo.attributes",tagClass:e.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:e.Class.UNIVERSAL,type:e.Type.SET,constructed:!0}]}]}]},{name:"CertificationRequest.signatureAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:e.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:e.Class.UNIVERSAL,type:e.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};function F(L,Q){"string"==typeof Q&&(Q={shortName:Q});for(var I,te=null,oe=0;null===te&&oe<L.attributes.length;++oe)I=L.attributes[oe],(Q.type&&Q.type===I.type||Q.name&&Q.name===I.name||Q.shortName&&Q.shortName===I.shortName)&&(te=I);return te}_.RDNAttributesAsArray=function(L,Q){for(var I,oe,Y,te=[],_e=0;_e<L.value.length;++_e){I=L.value[_e];for(var Oe=0;Oe<I.value.length;++Oe)(Y={}).type=e.derToOid((oe=I.value[Oe]).value[0].value),Y.value=oe.value[1].value,Y.valueTagClass=oe.value[1].type,Y.type in g&&(Y.name=g[Y.type],Y.name in S&&(Y.shortName=S[Y.name])),Q&&(Q.update(Y.type),Q.update(Y.value)),te.push(Y)}return te},_.CRIAttributesAsArray=function(L){for(var Q=[],te=0;te<L.length;++te)for(var I=L[te],oe=e.derToOid(I.value[0].value),Y=I.value[1].value,_e=0;_e<Y.length;++_e){var Oe={};if(Oe.type=oe,Oe.value=Y[_e].value,Oe.valueTagClass=Y[_e].type,Oe.type in g&&(Oe.name=g[Oe.type],Oe.name in S&&(Oe.shortName=S[Oe.name])),Oe.type===g.extensionRequest){Oe.extensions=[];for(var Re=0;Re<Oe.value.length;++Re)Oe.extensions.push(_.certificateExtensionFromAsn1(Oe.value[Re]))}Q.push(Oe)}return Q};var w=function(L,Q,te){var I={};if(L!==g["RSASSA-PSS"])return I;te&&(I={hash:{algorithmOid:g.sha1},mgf:{algorithmOid:g.mgf1,hash:{algorithmOid:g.sha1}},saltLength:20});var oe={},Y=[];if(!e.validate(Q,d,oe,Y)){var _e=new Error("Cannot read RSASSA-PSS parameter block.");throw _e.errors=Y,_e}return void 0!==oe.hashOid&&(I.hash=I.hash||{},I.hash.algorithmOid=e.derToOid(oe.hashOid)),void 0!==oe.maskGenOid&&(I.mgf=I.mgf||{},I.mgf.algorithmOid=e.derToOid(oe.maskGenOid),I.mgf.hash=I.mgf.hash||{},I.mgf.hash.algorithmOid=e.derToOid(oe.maskGenHashOid)),void 0!==oe.saltLength&&(I.saltLength=oe.saltLength.charCodeAt(0)),I},C=function(L){switch(g[L.signatureOid]){case"sha1WithRSAEncryption":case"sha1WithRSASignature":return i.md.sha1.create();case"md5WithRSAEncryption":return i.md.md5.create();case"sha256WithRSAEncryption":case"RSASSA-PSS":return i.md.sha256.create();case"sha384WithRSAEncryption":return i.md.sha384.create();case"sha512WithRSAEncryption":return i.md.sha512.create();default:var Q=new Error("Could not compute "+L.type+" digest. Unknown signature OID.");throw Q.signatureOid=L.signatureOid,Q}},R=function(L){var te,Q=L.certificate;switch(Q.signatureOid){case g.sha1WithRSAEncryption:case g.sha1WithRSASignature:break;case g["RSASSA-PSS"]:var I,oe,Y;if(void 0===(I=g[Q.signatureParameters.mgf.hash.algorithmOid])||void 0===i.md[I])throw(Y=new Error("Unsupported MGF hash function.")).oid=Q.signatureParameters.mgf.hash.algorithmOid,Y.name=I,Y;if(void 0===(oe=g[Q.signatureParameters.mgf.algorithmOid])||void 0===i.mgf[oe])throw(Y=new Error("Unsupported MGF function.")).oid=Q.signatureParameters.mgf.algorithmOid,Y.name=oe,Y;if(oe=i.mgf[oe].create(i.md[I].create()),void 0===(I=g[Q.signatureParameters.hash.algorithmOid])||void 0===i.md[I])throw(Y=new Error("Unsupported RSASSA-PSS hash function.")).oid=Q.signatureParameters.hash.algorithmOid,Y.name=I,Y;te=i.pss.create(i.md[I].create(),oe,Q.signatureParameters.saltLength)}return Q.publicKey.verify(L.md.digest().getBytes(),L.signature,te)};function k(L){for(var te,I,Q=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]),oe=L.attributes,Y=0;Y<oe.length;++Y){var _e=(te=oe[Y]).value,Oe=e.Type.PRINTABLESTRING;"valueTagClass"in te&&(Oe=te.valueTagClass)===e.Type.UTF8&&(_e=i.util.encodeUtf8(_e)),I=e.create(e.Class.UNIVERSAL,e.Type.SET,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(te.type).getBytes()),e.create(e.Class.UNIVERSAL,Oe,!1,_e)])]),Q.value.push(I)}return Q}function H(L){for(var Q,te=0;te<L.length;++te){if(typeof(Q=L[te]).name>"u"&&(Q.type&&Q.type in _.oids?Q.name=_.oids[Q.type]:Q.shortName&&Q.shortName in S&&(Q.name=_.oids[S[Q.shortName]])),typeof Q.type>"u"){if(!Q.name||!(Q.name in _.oids))throw(I=new Error("Attribute type not specified.")).attribute=Q,I;Q.type=_.oids[Q.name]}if(typeof Q.shortName>"u"&&Q.name&&Q.name in S&&(Q.shortName=S[Q.name]),Q.type===g.extensionRequest&&(Q.valueConstructed=!0,Q.valueTagClass=e.Type.SEQUENCE,!Q.value&&Q.extensions)){Q.value=[];for(var oe=0;oe<Q.extensions.length;++oe)Q.value.push(_.certificateExtensionToAsn1(x(Q.extensions[oe])))}var I;if(typeof Q.value>"u")throw(I=new Error("Attribute value not specified.")).attribute=Q,I}}function x(L,Q){if(Q=Q||{},typeof L.name>"u"&&L.id&&L.id in _.oids&&(L.name=_.oids[L.id]),typeof L.id>"u"){if(!L.name||!(L.name in _.oids))throw(te=new Error("Extension ID not specified.")).extension=L,te;L.id=_.oids[L.name]}if(typeof L.value<"u")return L;if("keyUsage"===L.name){var I=0,oe=0,Y=0;L.digitalSignature&&(oe|=128,I=7),L.nonRepudiation&&(oe|=64,I=6),L.keyEncipherment&&(oe|=32,I=5),L.dataEncipherment&&(oe|=16,I=4),L.keyAgreement&&(oe|=8,I=3),L.keyCertSign&&(oe|=4,I=2),L.cRLSign&&(oe|=2,I=1),L.encipherOnly&&(oe|=1,I=0),L.decipherOnly&&(Y|=128,I=7);var _e=String.fromCharCode(I);0!==Y?_e+=String.fromCharCode(oe)+String.fromCharCode(Y):0!==oe&&(_e+=String.fromCharCode(oe)),L.value=e.create(e.Class.UNIVERSAL,e.Type.BITSTRING,!1,_e)}else if("basicConstraints"===L.name)L.value=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]),L.cA&&L.value.value.push(e.create(e.Class.UNIVERSAL,e.Type.BOOLEAN,!1,"\xff")),"pathLenConstraint"in L&&L.value.value.push(e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(L.pathLenConstraint).getBytes()));else if("extKeyUsage"===L.name){L.value=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]);var Oe=L.value.value;for(var Re in L)!0===L[Re]&&(Re in g?Oe.push(e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(g[Re]).getBytes())):-1!==Re.indexOf(".")&&Oe.push(e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(Re).getBytes())))}else if("nsCertType"===L.name)I=0,oe=0,L.client&&(oe|=128,I=7),L.server&&(oe|=64,I=6),L.email&&(oe|=32,I=5),L.objsign&&(oe|=16,I=4),L.reserved&&(oe|=8,I=3),L.sslCA&&(oe|=4,I=2),L.emailCA&&(oe|=2,I=1),L.objCA&&(oe|=1,I=0),_e=String.fromCharCode(I),0!==oe&&(_e+=String.fromCharCode(oe)),L.value=e.create(e.Class.UNIVERSAL,e.Type.BITSTRING,!1,_e);else if("subjectAltName"===L.name||"issuerAltName"===L.name){L.value=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]);for(var Je=0;Je<L.altNames.length;++Je){if(_e=(xe=L.altNames[Je]).value,7===xe.type&&xe.ip){if(null===(_e=i.util.bytesFromIP(xe.ip)))throw(te=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=L,te}else 8===xe.type&&(_e=e.oidToDer(xe.oid?e.oidToDer(xe.oid):_e));L.value.value.push(e.create(e.Class.CONTEXT_SPECIFIC,xe.type,!1,_e))}}else if("nsComment"===L.name&&Q.cert){if(!/^[\x00-\x7F]*$/.test(L.comment)||L.comment.length<1||L.comment.length>128)throw new Error('Invalid "nsComment" content.');L.value=e.create(e.Class.UNIVERSAL,e.Type.IA5STRING,!1,L.comment)}else if("subjectKeyIdentifier"===L.name&&Q.cert){var Te=Q.cert.generateSubjectKeyIdentifier();L.subjectKeyIdentifier=Te.toHex(),L.value=e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,Te.getBytes())}else if("authorityKeyIdentifier"===L.name&&Q.cert){if(L.value=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]),Oe=L.value.value,L.keyIdentifier){var we=!0===L.keyIdentifier?Q.cert.generateSubjectKeyIdentifier().getBytes():L.keyIdentifier;Oe.push(e.create(e.Class.CONTEXT_SPECIFIC,0,!1,we))}if(L.authorityCertIssuer){var he=[e.create(e.Class.CONTEXT_SPECIFIC,4,!0,[k(!0===L.authorityCertIssuer?Q.cert.issuer:L.authorityCertIssuer)])];Oe.push(e.create(e.Class.CONTEXT_SPECIFIC,1,!0,he))}if(L.serialNumber){var Le=i.util.hexToBytes(!0===L.serialNumber?Q.cert.serialNumber:L.serialNumber);Oe.push(e.create(e.Class.CONTEXT_SPECIFIC,2,!1,Le))}}else if("cRLDistributionPoints"===L.name){L.value=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]),Oe=L.value.value;var xe,Ae=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]),st=e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[]);for(Je=0;Je<L.altNames.length;++Je){if(_e=(xe=L.altNames[Je]).value,7===xe.type&&xe.ip){if(null===(_e=i.util.bytesFromIP(xe.ip)))throw(te=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=L,te}else 8===xe.type&&(_e=e.oidToDer(xe.oid?e.oidToDer(xe.oid):_e));st.value.push(e.create(e.Class.CONTEXT_SPECIFIC,xe.type,!1,_e))}Ae.value.push(e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[st])),Oe.push(Ae)}var te;if(typeof L.value>"u")throw(te=new Error("Extension value not specified.")).extension=L,te;return L}function $(L,Q){if(L===g["RSASSA-PSS"]){var te=[];return void 0!==Q.hash.algorithmOid&&te.push(e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(Q.hash.algorithmOid).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")])])),void 0!==Q.mgf.algorithmOid&&te.push(e.create(e.Class.CONTEXT_SPECIFIC,1,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(Q.mgf.algorithmOid).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(Q.mgf.hash.algorithmOid).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")])])])),void 0!==Q.saltLength&&te.push(e.create(e.Class.CONTEXT_SPECIFIC,2,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(Q.saltLength).getBytes())])),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,te)}return e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")}function U(L){var Q=e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[]);if(0===L.attributes.length)return Q;for(var te=L.attributes,I=0;I<te.length;++I){var oe=te[I],Y=oe.value,_e=e.Type.UTF8;"valueTagClass"in oe&&(_e=oe.valueTagClass),_e===e.Type.UTF8&&(Y=i.util.encodeUtf8(Y));var Oe=!1;"valueConstructed"in oe&&(Oe=oe.valueConstructed);var Re=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(oe.type).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SET,!0,[e.create(e.Class.UNIVERSAL,_e,Oe,Y)])]);Q.value.push(Re)}return Q}_.certificateFromPem=function(L,Q,te){var I=i.pem.decode(L)[0];if("CERTIFICATE"!==I.type&&"X509 CERTIFICATE"!==I.type&&"TRUSTED CERTIFICATE"!==I.type){var oe=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw oe.headerType=I.type,oe}if(I.procType&&"ENCRYPTED"===I.procType.type)throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var Y=e.fromDer(I.body,te);return _.certificateFromAsn1(Y,Q)},_.certificateToPem=function(L,Q){var te={type:"CERTIFICATE",body:e.toDer(_.certificateToAsn1(L)).getBytes()};return i.pem.encode(te,{maxline:Q})},_.publicKeyFromPem=function(L){var Q=i.pem.decode(L)[0];if("PUBLIC KEY"!==Q.type&&"RSA PUBLIC KEY"!==Q.type){var te=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw te.headerType=Q.type,te}if(Q.procType&&"ENCRYPTED"===Q.procType.type)throw new Error("Could not convert public key from PEM; PEM is encrypted.");var I=e.fromDer(Q.body);return _.publicKeyFromAsn1(I)},_.publicKeyToPem=function(L,Q){var te={type:"PUBLIC KEY",body:e.toDer(_.publicKeyToAsn1(L)).getBytes()};return i.pem.encode(te,{maxline:Q})},_.publicKeyToRSAPublicKeyPem=function(L,Q){var te={type:"RSA PUBLIC KEY",body:e.toDer(_.publicKeyToRSAPublicKey(L)).getBytes()};return i.pem.encode(te,{maxline:Q})},_.getPublicKeyFingerprint=function(L,Q){var oe,te=(Q=Q||{}).md||i.md.sha1.create();switch(Q.type||"RSAPublicKey"){case"RSAPublicKey":oe=e.toDer(_.publicKeyToRSAPublicKey(L)).getBytes();break;case"SubjectPublicKeyInfo":oe=e.toDer(_.publicKeyToAsn1(L)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+Q.type+'".')}te.start(),te.update(oe);var Y=te.digest();if("hex"===Q.encoding){var _e=Y.toHex();return Q.delimiter?_e.match(/.{2}/g).join(Q.delimiter):_e}if("binary"===Q.encoding)return Y.getBytes();if(Q.encoding)throw new Error('Unknown encoding "'+Q.encoding+'".');return Y},_.certificationRequestFromPem=function(L,Q,te){var I=i.pem.decode(L)[0];if("CERTIFICATE REQUEST"!==I.type){var oe=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw oe.headerType=I.type,oe}if(I.procType&&"ENCRYPTED"===I.procType.type)throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var Y=e.fromDer(I.body,te);return _.certificationRequestFromAsn1(Y,Q)},_.certificationRequestToPem=function(L,Q){var te={type:"CERTIFICATE REQUEST",body:e.toDer(_.certificationRequestToAsn1(L)).getBytes()};return i.pem.encode(te,{maxline:Q})},_.createCertificate=function(){var L={version:2,serialNumber:"00",signatureOid:null,signature:null,siginfo:{}};return L.siginfo.algorithmOid=null,L.validity={},L.validity.notBefore=new Date,L.validity.notAfter=new Date,L.issuer={},L.issuer.getField=function(Q){return F(L.issuer,Q)},L.issuer.addField=function(Q){H([Q]),L.issuer.attributes.push(Q)},L.issuer.attributes=[],L.issuer.hash=null,L.subject={},L.subject.getField=function(Q){return F(L.subject,Q)},L.subject.addField=function(Q){H([Q]),L.subject.attributes.push(Q)},L.subject.attributes=[],L.subject.hash=null,L.extensions=[],L.publicKey=null,L.md=null,L.setSubject=function(Q,te){H(Q),L.subject.attributes=Q,delete L.subject.uniqueId,te&&(L.subject.uniqueId=te),L.subject.hash=null},L.setIssuer=function(Q,te){H(Q),L.issuer.attributes=Q,delete L.issuer.uniqueId,te&&(L.issuer.uniqueId=te),L.issuer.hash=null},L.setExtensions=function(Q){for(var te=0;te<Q.length;++te)x(Q[te],{cert:L});L.extensions=Q},L.getExtension=function(Q){"string"==typeof Q&&(Q={name:Q});for(var I,te=null,oe=0;null===te&&oe<L.extensions.length;++oe)I=L.extensions[oe],(Q.id&&I.id===Q.id||Q.name&&I.name===Q.name)&&(te=I);return te},L.sign=function(Q,te){L.md=te||i.md.sha1.create();var I=g[L.md.algorithm+"WithRSAEncryption"];if(!I){var oe=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw oe.algorithm=L.md.algorithm,oe}L.signatureOid=L.siginfo.algorithmOid=I,L.tbsCertificate=_.getTBSCertificate(L);var Y=e.toDer(L.tbsCertificate);L.md.update(Y.getBytes()),L.signature=Q.sign(L.md)},L.verify=function(Q){var te=!1;if(!L.issued(Q)){var I=Q.issuer,oe=L.subject,Y=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");throw Y.expectedIssuer=oe.attributes,Y.actualIssuer=I.attributes,Y}var _e=Q.md;if(null===_e){_e=C({signatureOid:Q.signatureOid,type:"certificate"});var Oe=Q.tbsCertificate||_.getTBSCertificate(Q),Re=e.toDer(Oe);_e.update(Re.getBytes())}return null!==_e&&(te=R({certificate:L,md:_e,signature:Q.signature})),te},L.isIssuer=function(Q){var te=!1,I=L.issuer,oe=Q.subject;if(I.hash&&oe.hash)te=I.hash===oe.hash;else if(I.attributes.length===oe.attributes.length){te=!0;for(var Y,_e,Oe=0;te&&Oe<I.attributes.length;++Oe)((Y=I.attributes[Oe]).type!==(_e=oe.attributes[Oe]).type||Y.value!==_e.value)&&(te=!1)}return te},L.issued=function(Q){return Q.isIssuer(L)},L.generateSubjectKeyIdentifier=function(){return _.getPublicKeyFingerprint(L.publicKey,{type:"RSAPublicKey"})},L.verifySubjectKeyIdentifier=function(){for(var Q=g.subjectKeyIdentifier,te=0;te<L.extensions.length;++te){var I=L.extensions[te];if(I.id===Q){var oe=L.generateSubjectKeyIdentifier().getBytes();return i.util.hexToBytes(I.subjectKeyIdentifier)===oe}}return!1},L},_.certificateFromAsn1=function(L,Q){var te={},I=[];if(!e.validate(L,f,te,I)){var oe=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");throw oe.errors=I,oe}if(e.derToOid(te.publicKeyOid)!==_.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var _e=_.createCertificate();_e.version=te.certVersion?te.certVersion.charCodeAt(0):0;var Oe=i.util.createBuffer(te.certSerialNumber);_e.serialNumber=Oe.toHex(),_e.signatureOid=i.asn1.derToOid(te.certSignatureOid),_e.signatureParameters=w(_e.signatureOid,te.certSignatureParams,!0),_e.siginfo.algorithmOid=i.asn1.derToOid(te.certinfoSignatureOid),_e.siginfo.parameters=w(_e.siginfo.algorithmOid,te.certinfoSignatureParams,!1),_e.signature=te.certSignature;var Re=[];if(void 0!==te.certValidity1UTCTime&&Re.push(e.utcTimeToDate(te.certValidity1UTCTime)),void 0!==te.certValidity2GeneralizedTime&&Re.push(e.generalizedTimeToDate(te.certValidity2GeneralizedTime)),void 0!==te.certValidity3UTCTime&&Re.push(e.utcTimeToDate(te.certValidity3UTCTime)),void 0!==te.certValidity4GeneralizedTime&&Re.push(e.generalizedTimeToDate(te.certValidity4GeneralizedTime)),Re.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(Re.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(_e.validity.notBefore=Re[0],_e.validity.notAfter=Re[1],_e.tbsCertificate=te.tbsCertificate,Q){_e.md=C({signatureOid:_e.signatureOid,type:"certificate"});var xe=e.toDer(_e.tbsCertificate);_e.md.update(xe.getBytes())}var Je=i.md.sha1.create(),Te=e.toDer(te.certIssuer);Je.update(Te.getBytes()),_e.issuer.getField=function(Le){return F(_e.issuer,Le)},_e.issuer.addField=function(Le){H([Le]),_e.issuer.attributes.push(Le)},_e.issuer.attributes=_.RDNAttributesAsArray(te.certIssuer),te.certIssuerUniqueId&&(_e.issuer.uniqueId=te.certIssuerUniqueId),_e.issuer.hash=Je.digest().toHex();var we=i.md.sha1.create(),he=e.toDer(te.certSubject);return we.update(he.getBytes()),_e.subject.getField=function(Le){return F(_e.subject,Le)},_e.subject.addField=function(Le){H([Le]),_e.subject.attributes.push(Le)},_e.subject.attributes=_.RDNAttributesAsArray(te.certSubject),te.certSubjectUniqueId&&(_e.subject.uniqueId=te.certSubjectUniqueId),_e.subject.hash=we.digest().toHex(),_e.extensions=te.certExtensions?_.certificateExtensionsFromAsn1(te.certExtensions):[],_e.publicKey=_.publicKeyFromAsn1(te.subjectPublicKeyInfo),_e},_.certificateExtensionsFromAsn1=function(L){for(var Q=[],te=0;te<L.value.length;++te)for(var I=L.value[te],oe=0;oe<I.value.length;++oe)Q.push(_.certificateExtensionFromAsn1(I.value[oe]));return Q},_.certificateExtensionFromAsn1=function(L){var Q={};if(Q.id=e.derToOid(L.value[0].value),Q.critical=!1,L.value[1].type===e.Type.BOOLEAN?(Q.critical=0!==L.value[1].value.charCodeAt(0),Q.value=L.value[2].value):Q.value=L.value[1].value,Q.id in g)if(Q.name=g[Q.id],"keyUsage"===Q.name){var I=0,oe=0;(te=e.fromDer(Q.value)).value.length>1&&(I=te.value.charCodeAt(1),oe=te.value.length>2?te.value.charCodeAt(2):0),Q.digitalSignature=!(128&~I),Q.nonRepudiation=!(64&~I),Q.keyEncipherment=!(32&~I),Q.dataEncipherment=!(16&~I),Q.keyAgreement=!(8&~I),Q.keyCertSign=!(4&~I),Q.cRLSign=!(2&~I),Q.encipherOnly=!(1&~I),Q.decipherOnly=!(128&~oe)}else if("basicConstraints"===Q.name){var te=e.fromDer(Q.value);Q.cA=te.value.length>0&&te.value[0].type===e.Type.BOOLEAN&&0!==te.value[0].value.charCodeAt(0);var Y=null;te.value.length>0&&te.value[0].type===e.Type.INTEGER?Y=te.value[0].value:te.value.length>1&&(Y=te.value[1].value),null!==Y&&(Q.pathLenConstraint=e.derToInteger(Y))}else if("extKeyUsage"===Q.name){te=e.fromDer(Q.value);for(var _e=0;_e<te.value.length;++_e){var Oe=e.derToOid(te.value[_e].value);Oe in g?Q[g[Oe]]=!0:Q[Oe]=!0}}else if("nsCertType"===Q.name)I=0,(te=e.fromDer(Q.value)).value.length>1&&(I=te.value.charCodeAt(1)),Q.client=!(128&~I),Q.server=!(64&~I),Q.email=!(32&~I),Q.objsign=!(16&~I),Q.reserved=!(8&~I),Q.sslCA=!(4&~I),Q.emailCA=!(2&~I),Q.objCA=!(1&~I);else if("subjectAltName"===Q.name||"issuerAltName"===Q.name){Q.altNames=[],te=e.fromDer(Q.value);for(var Re,xe=0;xe<te.value.length;++xe){var Je={type:(Re=te.value[xe]).type,value:Re.value};switch(Q.altNames.push(Je),Re.type){case 1:case 2:case 6:break;case 7:Je.ip=i.util.bytesToIP(Re.value);break;case 8:Je.oid=e.derToOid(Re.value)}}}else"subjectKeyIdentifier"===Q.name&&(te=e.fromDer(Q.value),Q.subjectKeyIdentifier=i.util.bytesToHex(te.value));return Q},_.certificationRequestFromAsn1=function(L,Q){var te={},I=[];if(!e.validate(L,m,te,I)){var oe=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");throw oe.errors=I,oe}if(e.derToOid(te.publicKeyOid)!==_.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var _e=_.createCertificationRequest();if(_e.version=te.csrVersion?te.csrVersion.charCodeAt(0):0,_e.signatureOid=i.asn1.derToOid(te.csrSignatureOid),_e.signatureParameters=w(_e.signatureOid,te.csrSignatureParams,!0),_e.siginfo.algorithmOid=i.asn1.derToOid(te.csrSignatureOid),_e.siginfo.parameters=w(_e.siginfo.algorithmOid,te.csrSignatureParams,!1),_e.signature=te.csrSignature,_e.certificationRequestInfo=te.certificationRequestInfo,Q){_e.md=C({signatureOid:_e.signatureOid,type:"certification request"});var Oe=e.toDer(_e.certificationRequestInfo);_e.md.update(Oe.getBytes())}var Re=i.md.sha1.create();return _e.subject.getField=function(xe){return F(_e.subject,xe)},_e.subject.addField=function(xe){H([xe]),_e.subject.attributes.push(xe)},_e.subject.attributes=_.RDNAttributesAsArray(te.certificationRequestInfoSubject,Re),_e.subject.hash=Re.digest().toHex(),_e.publicKey=_.publicKeyFromAsn1(te.subjectPublicKeyInfo),_e.getAttribute=function(xe){return F(_e,xe)},_e.addAttribute=function(xe){H([xe]),_e.attributes.push(xe)},_e.attributes=_.CRIAttributesAsArray(te.certificationRequestInfoAttributes||[]),_e},_.createCertificationRequest=function(){var L={version:0,signatureOid:null,signature:null,siginfo:{}};return L.siginfo.algorithmOid=null,L.subject={},L.subject.getField=function(Q){return F(L.subject,Q)},L.subject.addField=function(Q){H([Q]),L.subject.attributes.push(Q)},L.subject.attributes=[],L.subject.hash=null,L.publicKey=null,L.attributes=[],L.getAttribute=function(Q){return F(L,Q)},L.addAttribute=function(Q){H([Q]),L.attributes.push(Q)},L.md=null,L.setSubject=function(Q){H(Q),L.subject.attributes=Q,L.subject.hash=null},L.setAttributes=function(Q){H(Q),L.attributes=Q},L.sign=function(Q,te){L.md=te||i.md.sha1.create();var I=g[L.md.algorithm+"WithRSAEncryption"];if(!I){var oe=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw oe.algorithm=L.md.algorithm,oe}L.signatureOid=L.siginfo.algorithmOid=I,L.certificationRequestInfo=_.getCertificationRequestInfo(L);var Y=e.toDer(L.certificationRequestInfo);L.md.update(Y.getBytes()),L.signature=Q.sign(L.md)},L.verify=function(){var Q=!1,te=L.md;if(null===te){te=C({signatureOid:L.signatureOid,type:"certification request"});var I=L.certificationRequestInfo||_.getCertificationRequestInfo(L),oe=e.toDer(I);te.update(oe.getBytes())}return null!==te&&(Q=R({certificate:L,md:te,signature:L.signature})),Q},L};var G=new Date("1950-01-01T00:00:00Z"),ie=new Date("2050-01-01T00:00:00Z");function le(L){return L>=G&&L<ie?e.create(e.Class.UNIVERSAL,e.Type.UTCTIME,!1,e.dateToUtcTime(L)):e.create(e.Class.UNIVERSAL,e.Type.GENERALIZEDTIME,!1,e.dateToGeneralizedTime(L))}_.getTBSCertificate=function(L){var Q=le(L.validity.notBefore),te=le(L.validity.notAfter),I=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(L.version).getBytes())]),e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,i.util.hexToBytes(L.serialNumber)),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(L.siginfo.algorithmOid).getBytes()),$(L.siginfo.algorithmOid,L.siginfo.parameters)]),k(L.issuer),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[Q,te]),k(L.subject),_.publicKeyToAsn1(L.publicKey)]);return L.issuer.uniqueId&&I.value.push(e.create(e.Class.CONTEXT_SPECIFIC,1,!0,[e.create(e.Class.UNIVERSAL,e.Type.BITSTRING,!1,"\0"+L.issuer.uniqueId)])),L.subject.uniqueId&&I.value.push(e.create(e.Class.CONTEXT_SPECIFIC,2,!0,[e.create(e.Class.UNIVERSAL,e.Type.BITSTRING,!1,"\0"+L.subject.uniqueId)])),L.extensions.length>0&&I.value.push(_.certificateExtensionsToAsn1(L.extensions)),I},_.getCertificationRequestInfo=function(L){return e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(L.version).getBytes()),k(L.subject),_.publicKeyToAsn1(L.publicKey),U(L)])},_.distinguishedNameToAsn1=function(L){return k(L)},_.certificateToAsn1=function(L){var Q=L.tbsCertificate||_.getTBSCertificate(L);return e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[Q,e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(L.signatureOid).getBytes()),$(L.signatureOid,L.signatureParameters)]),e.create(e.Class.UNIVERSAL,e.Type.BITSTRING,!1,"\0"+L.signature)])},_.certificateExtensionsToAsn1=function(L){var Q=e.create(e.Class.CONTEXT_SPECIFIC,3,!0,[]),te=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]);Q.value.push(te);for(var I=0;I<L.length;++I)te.value.push(_.certificateExtensionToAsn1(L[I]));return Q},_.certificateExtensionToAsn1=function(L){var Q=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]);Q.value.push(e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(L.id).getBytes())),L.critical&&Q.value.push(e.create(e.Class.UNIVERSAL,e.Type.BOOLEAN,!1,"\xff"));var te=L.value;return"string"!=typeof L.value&&(te=e.toDer(te).getBytes()),Q.value.push(e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,te)),Q},_.certificationRequestToAsn1=function(L){var Q=L.certificationRequestInfo||_.getCertificationRequestInfo(L);return e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[Q,e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(L.signatureOid).getBytes()),$(L.signatureOid,L.signatureParameters)]),e.create(e.Class.UNIVERSAL,e.Type.BITSTRING,!1,"\0"+L.signature)])},_.createCaStore=function(L){var Q={certs:{}};function te(_e){return I(_e),Q.certs[_e.hash]||null}function I(_e){if(!_e.hash){var Oe=i.md.sha1.create();_e.attributes=_.RDNAttributesAsArray(k(_e),Oe),_e.hash=Oe.digest().toHex()}}if(Q.getIssuer=function(_e){return te(_e.issuer)},Q.addCertificate=function(_e){if("string"==typeof _e&&(_e=i.pki.certificateFromPem(_e)),I(_e.subject),!Q.hasCertificate(_e))if(_e.subject.hash in Q.certs){var Oe=Q.certs[_e.subject.hash];i.util.isArray(Oe)||(Oe=[Oe]),Oe.push(_e),Q.certs[_e.subject.hash]=Oe}else Q.certs[_e.subject.hash]=_e},Q.hasCertificate=function(_e){"string"==typeof _e&&(_e=i.pki.certificateFromPem(_e));var Oe=te(_e.subject);if(!Oe)return!1;i.util.isArray(Oe)||(Oe=[Oe]);for(var Re=e.toDer(_.certificateToAsn1(_e)).getBytes(),xe=0;xe<Oe.length;++xe)if(Re===e.toDer(_.certificateToAsn1(Oe[xe])).getBytes())return!0;return!1},Q.listAllCertificates=function(){var _e=[];for(var Oe in Q.certs)if(Q.certs.hasOwnProperty(Oe)){var Re=Q.certs[Oe];if(i.util.isArray(Re))for(var xe=0;xe<Re.length;++xe)_e.push(Re[xe]);else _e.push(Re)}return _e},Q.removeCertificate=function(_e){var Oe;if("string"==typeof _e&&(_e=i.pki.certificateFromPem(_e)),I(_e.subject),!Q.hasCertificate(_e))return null;var Re=te(_e.subject);if(!i.util.isArray(Re))return Oe=Q.certs[_e.subject.hash],delete Q.certs[_e.subject.hash],Oe;for(var xe=e.toDer(_.certificateToAsn1(_e)).getBytes(),Je=0;Je<Re.length;++Je)xe===e.toDer(_.certificateToAsn1(Re[Je])).getBytes()&&(Oe=Re[Je],Re.splice(Je,1));return 0===Re.length&&delete Q.certs[_e.subject.hash],Oe},L)for(var oe=0;oe<L.length;++oe)Q.addCertificate(L[oe]);return Q},_.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"},_.verifyCertificateChain=function(L,Q,te){"function"==typeof te&&(te={verify:te}),te=te||{};var I=(Q=Q.slice(0)).slice(0),oe=te.validityCheckDate;typeof oe>"u"&&(oe=new Date);var Y=!0,_e=null,Oe=0;do{var Re=Q.shift(),xe=null,Je=!1;if(oe&&(oe<Re.validity.notBefore||oe>Re.validity.notAfter)&&(_e={message:"Certificate is not valid yet or has expired.",error:_.certificateError.certificate_expired,notBefore:Re.validity.notBefore,notAfter:Re.validity.notAfter,now:oe}),null===_e){if(null===(xe=Q[0]||L.getIssuer(Re))&&Re.isIssuer(Re)&&(Je=!0,xe=Re),xe){var Te=xe;i.util.isArray(Te)||(Te=[Te]);for(var we=!1;!we&&Te.length>0;){xe=Te.shift();try{we=xe.verify(Re)}catch{}}we||(_e={message:"Certificate signature is invalid.",error:_.certificateError.bad_certificate})}null===_e&&(!xe||Je)&&!L.hasCertificate(Re)&&(_e={message:"Certificate is not trusted.",error:_.certificateError.unknown_ca})}if(null===_e&&xe&&!Re.isIssuer(xe)&&(_e={message:"Certificate issuer is invalid.",error:_.certificateError.bad_certificate}),null===_e)for(var he={keyUsage:!0,basicConstraints:!0},Le=0;null===_e&&Le<Re.extensions.length;++Le){var Ae=Re.extensions[Le];Ae.critical&&!(Ae.name in he)&&(_e={message:"Certificate has an unsupported critical extension.",error:_.certificateError.unsupported_certificate})}if(null===_e&&(!Y||0===Q.length&&(!xe||Je))){var st=Re.getExtension("basicConstraints"),Fe=Re.getExtension("keyUsage");null!==Fe&&(!Fe.keyCertSign||null===st)&&(_e={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:_.certificateError.bad_certificate}),null===_e&&null!==st&&!st.cA&&(_e={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:_.certificateError.bad_certificate}),null===_e&&null!==Fe&&"pathLenConstraint"in st&&Oe-1>st.pathLenConstraint&&(_e={message:"Certificate basicConstraints pathLenConstraint violated.",error:_.certificateError.bad_certificate})}var Ye=null===_e||_e.error,zt=te.verify?te.verify(Ye,Oe,I):Ye;if(!0!==zt)throw!0===Ye&&(_e={message:"The application rejected the certificate.",error:_.certificateError.bad_certificate}),(zt||0===zt)&&("object"!=typeof zt||i.util.isArray(zt)?"string"==typeof zt&&(_e.error=zt):(zt.message&&(_e.message=zt.message),zt.error&&(_e.error=zt.error))),_e;_e=null,Y=!1,++Oe}while(Q.length>0);return!0}},4531:(et,me,u)=>{"use strict";me.hc=void 0;const e=u(2114);me.hc=(S,v)=>{const f=e.asn1.fromDer(S.toString("binary")),E=e.pkcs12.pkcs12FromAsn1(f,!1,v).getBags({bagType:e.pki.oids.certBag});if(!E||!E?.[e.pki.oids.certBag]?.[0])throw new Error("Unable to parse certificate. Incorrect Password?");return E[e.pki.oids.certBag][0]}},5955:(et,me)=>{"use strict";class e{static isArrayBuffer(R){return"[object ArrayBuffer]"===Object.prototype.toString.call(R)}static toArrayBuffer(R){return this.isArrayBuffer(R)?R:R.byteLength===R.buffer.byteLength||0===R.byteOffset&&R.byteLength===R.buffer.byteLength?R.buffer:this.toUint8Array(R.buffer).slice(R.byteOffset,R.byteOffset+R.byteLength).buffer}static toUint8Array(R){return this.toView(R,Uint8Array)}static toView(R,k){if(R.constructor===k)return R;if(this.isArrayBuffer(R))return new k(R);if(this.isArrayBufferView(R))return new k(R.buffer,R.byteOffset,R.byteLength);throw new TypeError("The provided value is not of type '(ArrayBuffer or ArrayBufferView)'")}static isBufferSource(R){return this.isArrayBufferView(R)||this.isArrayBuffer(R)}static isArrayBufferView(R){return ArrayBuffer.isView(R)||R&&this.isArrayBuffer(R.buffer)}static isEqual(R,k){const O=e.toUint8Array(R),H=e.toUint8Array(k);if(O.length!==H.byteLength)return!1;for(let x=0;x<O.length;x++)if(O[x]!==H[x])return!1;return!0}static concat(...R){let k;k=Array.isArray(R[0])&&!(R[1]instanceof Function)||Array.isArray(R[0])&&R[1]instanceof Function?R[0]:R[R.length-1]instanceof Function?R.slice(0,R.length-1):R;let O=0;for(const $ of k)O+=$.byteLength;const H=new Uint8Array(O);let x=0;for(const $ of k){const U=this.toUint8Array($);H.set(U,x),x+=U.length}return R[R.length-1]instanceof Function?this.toView(H,R[R.length-1]):H.buffer}}const _="string",g=/^[0-9a-f]+$/i,S=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/,v=/^[a-zA-Z0-9-_]+$/;class f{static fromString(R){const k=unescape(encodeURIComponent(R)),O=new Uint8Array(k.length);for(let H=0;H<k.length;H++)O[H]=k.charCodeAt(H);return O.buffer}static toString(R){const k=e.toUint8Array(R);let O="";for(let x=0;x<k.length;x++)O+=String.fromCharCode(k[x]);return decodeURIComponent(escape(O))}}class d{static toString(R,k=!1){const O=e.toArrayBuffer(R),H=new DataView(O);let x="";for(let $=0;$<O.byteLength;$+=2){const U=H.getUint16($,k);x+=String.fromCharCode(U)}return x}static fromString(R,k=!1){const O=new ArrayBuffer(2*R.length),H=new DataView(O);for(let x=0;x<R.length;x++)H.setUint16(2*x,R.charCodeAt(x),k);return O}}let E=(()=>{class C{static isHex(k){return typeof k===_&&g.test(k)}static isBase64(k){return typeof k===_&&S.test(k)}static isBase64Url(k){return typeof k===_&&v.test(k)}static ToString(k,O="utf8"){const H=e.toUint8Array(k);switch(O.toLowerCase()){case"utf8":return this.ToUtf8String(H);case"binary":return this.ToBinary(H);case"hex":return this.ToHex(H);case"base64":return this.ToBase64(H);case"base64url":return this.ToBase64Url(H);case"utf16le":return d.toString(H,!0);case"utf16":case"utf16be":return d.toString(H);default:throw new Error(`Unknown type of encoding '${O}'`)}}static FromString(k,O="utf8"){if(!k)return new ArrayBuffer(0);switch(O.toLowerCase()){case"utf8":return this.FromUtf8String(k);case"binary":return this.FromBinary(k);case"hex":return this.FromHex(k);case"base64":return this.FromBase64(k);case"base64url":return this.FromBase64Url(k);case"utf16le":return d.fromString(k,!0);case"utf16":case"utf16be":return d.fromString(k);default:throw new Error(`Unknown type of encoding '${O}'`)}}static ToBase64(k){const O=e.toUint8Array(k);if(typeof btoa<"u"){const H=this.ToString(O,"binary");return btoa(H)}return Buffer.from(O).toString("base64")}static FromBase64(k){const O=this.formatString(k);if(!O)return new ArrayBuffer(0);if(!C.isBase64(O))throw new TypeError("Argument 'base64Text' is not Base64 encoded");return typeof atob<"u"?this.FromBinary(atob(O)):new Uint8Array(Buffer.from(O,"base64")).buffer}static FromBase64Url(k){const O=this.formatString(k);if(!O)return new ArrayBuffer(0);if(!C.isBase64Url(O))throw new TypeError("Argument 'base64url' is not Base64Url encoded");return this.FromBase64(this.Base64Padding(O.replace(/\-/g,"+").replace(/\_/g,"/")))}static ToBase64Url(k){return this.ToBase64(k).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}static FromUtf8String(k,O=C.DEFAULT_UTF8_ENCODING){switch(O){case"ascii":return this.FromBinary(k);case"utf8":return f.fromString(k);case"utf16":case"utf16be":return d.fromString(k);case"utf16le":case"usc2":return d.fromString(k,!0);default:throw new Error(`Unknown type of encoding '${O}'`)}}static ToUtf8String(k,O=C.DEFAULT_UTF8_ENCODING){switch(O){case"ascii":return this.ToBinary(k);case"utf8":return f.toString(k);case"utf16":case"utf16be":return d.toString(k);case"utf16le":case"usc2":return d.toString(k,!0);default:throw new Error(`Unknown type of encoding '${O}'`)}}static FromBinary(k){const O=k.length,H=new Uint8Array(O);for(let x=0;x<O;x++)H[x]=k.charCodeAt(x);return H.buffer}static ToBinary(k){const O=e.toUint8Array(k);let H="";for(let x=0;x<O.length;x++)H+=String.fromCharCode(O[x]);return H}static ToHex(k){const O=e.toUint8Array(k);let H="";const x=O.length;for(let $=0;$<x;$++){const U=O[$];U<16&&(H+="0"),H+=U.toString(16)}return H}static FromHex(k){let O=this.formatString(k);if(!O)return new ArrayBuffer(0);if(!C.isHex(O))throw new TypeError("Argument 'hexString' is not HEX encoded");O.length%2&&(O=`0${O}`);const H=new Uint8Array(O.length/2);for(let x=0;x<O.length;x+=2){const $=O.slice(x,x+2);H[x/2]=parseInt($,16)}return H.buffer}static ToUtf16String(k,O=!1){return d.toString(k,O)}static FromUtf16String(k,O=!1){return d.fromString(k,O)}static Base64Padding(k){const O=4-k.length%4;if(O<4)for(let H=0;H<O;H++)k+="=";return k}static formatString(k){return k?.replace(/[\n\r\t ]/g,"")||""}}return C.DEFAULT_UTF8_ENCODING="utf8",C})();me._H=e,me.U$=E},4412:(et,me,u)=>{"use strict";u.d(me,{t:()=>e});var i=u(1413);class e extends i.B{constructor(g){super(),this._value=g}get value(){return this.getValue()}_subscribe(g){const S=super._subscribe(g);return!S.closed&&g.next(this._value),S}getValue(){const{hasError:g,thrownError:S,_value:v}=this;if(g)throw S;return this._throwIfClosed(),v}next(g){super.next(this._value=g)}}},1985:(et,me,u)=>{"use strict";u.d(me,{c:()=>d});var i=u(7707),e=u(8359),_=u(3494),g=u(1203),S=u(1026),v=u(8071),f=u(9786);let d=(()=>{class w{constructor(R){R&&(this._subscribe=R)}lift(R){const k=new w;return k.source=this,k.operator=R,k}subscribe(R,k,O){const H=function F(w){return w&&w instanceof i.vU||function m(w){return w&&(0,v.T)(w.next)&&(0,v.T)(w.error)&&(0,v.T)(w.complete)}(w)&&(0,e.Uv)(w)}(R)?R:new i.Ms(R,k,O);return(0,f.Y)(()=>{const{operator:x,source:$}=this;H.add(x?x.call(H,$):$?this._subscribe(H):this._trySubscribe(H))}),H}_trySubscribe(R){try{return this._subscribe(R)}catch(k){R.error(k)}}forEach(R,k){return new(k=E(k))((O,H)=>{const x=new i.Ms({next:$=>{try{R($)}catch(U){H(U),x.unsubscribe()}},error:H,complete:O});this.subscribe(x)})}_subscribe(R){var k;return null===(k=this.source)||void 0===k?void 0:k.subscribe(R)}[_.s](){return this}pipe(...R){return(0,g.m)(R)(this)}toPromise(R){return new(R=E(R))((k,O)=>{let H;this.subscribe(x=>H=x,x=>O(x),()=>k(H))})}}return w.create=C=>new w(C),w})();function E(w){var C;return null!==(C=w??S.$.Promise)&&void 0!==C?C:Promise}},2771:(et,me,u)=>{"use strict";u.d(me,{m:()=>_});var i=u(1413),e=u(6129);class _ extends i.B{constructor(S=1/0,v=1/0,f=e.U){super(),this._bufferSize=S,this._windowTime=v,this._timestampProvider=f,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=v===1/0,this._bufferSize=Math.max(1,S),this._windowTime=Math.max(1,v)}next(S){const{isStopped:v,_buffer:f,_infiniteTimeWindow:d,_timestampProvider:E,_windowTime:m}=this;v||(f.push(S),!d&&f.push(E.now()+m)),this._trimBuffer(),super.next(S)}_subscribe(S){this._throwIfClosed(),this._trimBuffer();const v=this._innerSubscribe(S),{_infiniteTimeWindow:f,_buffer:d}=this,E=d.slice();for(let m=0;m<E.length&&!S.closed;m+=f?1:2)S.next(E[m]);return this._checkFinalizedStatuses(S),v}_trimBuffer(){const{_bufferSize:S,_timestampProvider:v,_buffer:f,_infiniteTimeWindow:d}=this,E=(d?1:2)*S;if(S<1/0&&E<f.length&&f.splice(0,f.length-E),!d){const m=v.now();let F=0;for(let w=1;w<f.length&&f[w]<=m;w+=2)F=w;F&&f.splice(0,F+1)}}}},1413:(et,me,u)=>{"use strict";u.d(me,{B:()=>f});var i=u(1985),e=u(8359);const g=(0,u(1853).L)(E=>function(){E(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var S=u(7908),v=u(9786);let f=(()=>{class E extends i.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(F){const w=new d(this,this);return w.operator=F,w}_throwIfClosed(){if(this.closed)throw new g}next(F){(0,v.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const w of this.currentObservers)w.next(F)}})}error(F){(0,v.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=F;const{observers:w}=this;for(;w.length;)w.shift().error(F)}})}complete(){(0,v.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:F}=this;for(;F.length;)F.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var F;return(null===(F=this.observers)||void 0===F?void 0:F.length)>0}_trySubscribe(F){return this._throwIfClosed(),super._trySubscribe(F)}_subscribe(F){return this._throwIfClosed(),this._checkFinalizedStatuses(F),this._innerSubscribe(F)}_innerSubscribe(F){const{hasError:w,isStopped:C,observers:R}=this;return w||C?e.Kn:(this.currentObservers=null,R.push(F),new e.yU(()=>{this.currentObservers=null,(0,S.o)(R,F)}))}_checkFinalizedStatuses(F){const{hasError:w,thrownError:C,isStopped:R}=this;w?F.error(C):R&&F.complete()}asObservable(){const F=new i.c;return F.source=this,F}}return E.create=(m,F)=>new d(m,F),E})();class d extends f{constructor(m,F){super(),this.destination=m,this.source=F}next(m){var F,w;null===(w=null===(F=this.destination)||void 0===F?void 0:F.next)||void 0===w||w.call(F,m)}error(m){var F,w;null===(w=null===(F=this.destination)||void 0===F?void 0:F.error)||void 0===w||w.call(F,m)}complete(){var m,F;null===(F=null===(m=this.destination)||void 0===m?void 0:m.complete)||void 0===F||F.call(m)}_subscribe(m){var F,w;return null!==(w=null===(F=this.source)||void 0===F?void 0:F.subscribe(m))&&void 0!==w?w:e.Kn}}},7707:(et,me,u)=>{"use strict";u.d(me,{Ms:()=>O,vU:()=>w});var i=u(8071),e=u(8359),_=u(1026),g=u(5334),S=u(5343);const v=E("C",void 0,void 0);function E(G,ie,le){return{kind:G,value:ie,error:le}}var m=u(9270),F=u(9786);class w extends e.yU{constructor(ie){super(),this.isStopped=!1,ie?(this.destination=ie,(0,e.Uv)(ie)&&ie.add(this)):this.destination=U}static create(ie,le,L){return new O(ie,le,L)}next(ie){this.isStopped?$(function d(G){return E("N",G,void 0)}(ie),this):this._next(ie)}error(ie){this.isStopped?$(function f(G){return E("E",void 0,G)}(ie),this):(this.isStopped=!0,this._error(ie))}complete(){this.isStopped?$(v,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ie){this.destination.next(ie)}_error(ie){try{this.destination.error(ie)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const C=Function.prototype.bind;function R(G,ie){return C.call(G,ie)}class k{constructor(ie){this.partialObserver=ie}next(ie){const{partialObserver:le}=this;if(le.next)try{le.next(ie)}catch(L){H(L)}}error(ie){const{partialObserver:le}=this;if(le.error)try{le.error(ie)}catch(L){H(L)}else H(ie)}complete(){const{partialObserver:ie}=this;if(ie.complete)try{ie.complete()}catch(le){H(le)}}}class O extends w{constructor(ie,le,L){let Q;if(super(),(0,i.T)(ie)||!ie)Q={next:ie??void 0,error:le??void 0,complete:L??void 0};else{let te;this&&_.$.useDeprecatedNextContext?(te=Object.create(ie),te.unsubscribe=()=>this.unsubscribe(),Q={next:ie.next&&R(ie.next,te),error:ie.error&&R(ie.error,te),complete:ie.complete&&R(ie.complete,te)}):Q=ie}this.destination=new k(Q)}}function H(G){_.$.useDeprecatedSynchronousErrorHandling?(0,F.l)(G):(0,g.m)(G)}function $(G,ie){const{onStoppedNotification:le}=_.$;le&&m.f.setTimeout(()=>le(G,ie))}const U={closed:!0,next:S.l,error:function x(G){throw G},complete:S.l}},8359:(et,me,u)=>{"use strict";u.d(me,{Kn:()=>v,yU:()=>S,Uv:()=>f});var i=u(8071);const _=(0,u(1853).L)(E=>function(F){E(this),this.message=F?`${F.length} errors occurred during unsubscription:\n${F.map((w,C)=>`${C+1}) ${w.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=F});var g=u(7908);class S{constructor(m){this.initialTeardown=m,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let m;if(!this.closed){this.closed=!0;const{_parentage:F}=this;if(F)if(this._parentage=null,Array.isArray(F))for(const R of F)R.remove(this);else F.remove(this);const{initialTeardown:w}=this;if((0,i.T)(w))try{w()}catch(R){m=R instanceof _?R.errors:[R]}const{_finalizers:C}=this;if(C){this._finalizers=null;for(const R of C)try{d(R)}catch(k){m=m??[],k instanceof _?m=[...m,...k.errors]:m.push(k)}}if(m)throw new _(m)}}add(m){var F;if(m&&m!==this)if(this.closed)d(m);else{if(m instanceof S){if(m.closed||m._hasParent(this))return;m._addParent(this)}(this._finalizers=null!==(F=this._finalizers)&&void 0!==F?F:[]).push(m)}}_hasParent(m){const{_parentage:F}=this;return F===m||Array.isArray(F)&&F.includes(m)}_addParent(m){const{_parentage:F}=this;this._parentage=Array.isArray(F)?(F.push(m),F):F?[F,m]:m}_removeParent(m){const{_parentage:F}=this;F===m?this._parentage=null:Array.isArray(F)&&(0,g.o)(F,m)}remove(m){const{_finalizers:F}=this;F&&(0,g.o)(F,m),m instanceof S&&m._removeParent(this)}}S.EMPTY=(()=>{const E=new S;return E.closed=!0,E})();const v=S.EMPTY;function f(E){return E instanceof S||E&&"closed"in E&&(0,i.T)(E.remove)&&(0,i.T)(E.add)&&(0,i.T)(E.unsubscribe)}function d(E){(0,i.T)(E)?E():E.unsubscribe()}},1026:(et,me,u)=>{"use strict";u.d(me,{$:()=>i});const i={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4572:(et,me,u)=>{"use strict";u.d(me,{P:()=>F,z:()=>m});var i=u(1985),e=u(3073),_=u(6648),g=u(3669),S=u(6450),v=u(9326),f=u(8496),d=u(4360),E=u(5225);function m(...C){const R=(0,v.lI)(C),k=(0,v.ms)(C),{args:O,keys:H}=(0,e.D)(C);if(0===O.length)return(0,_.H)([],R);const x=new i.c(F(O,R,H?$=>(0,f.e)(H,$):g.D));return k?x.pipe((0,S.I)(k)):x}function F(C,R,k=g.D){return O=>{w(R,()=>{const{length:H}=C,x=new Array(H);let $=H,U=H;for(let G=0;G<H;G++)w(R,()=>{const ie=(0,_.H)(C[G],R);let le=!1;ie.subscribe((0,d._)(O,L=>{x[G]=L,le||(le=!0,U--),U||O.next(k(x.slice()))},()=>{--$||O.complete()}))},O)},O)}}function w(C,R,k){C?(0,E.N)(k,C,R):R()}},8793:(et,me,u)=>{"use strict";u.d(me,{x:()=>S});var i=u(6365),_=u(9326),g=u(6648);function S(...v){return function e(){return(0,i.U)(1)}()((0,g.H)(v,(0,_.lI)(v)))}},9030:(et,me,u)=>{"use strict";u.d(me,{v:()=>_});var i=u(1985),e=u(8750);function _(g){return new i.c(S=>{(0,e.Tg)(g()).subscribe(S)})}},983:(et,me,u)=>{"use strict";u.d(me,{I:()=>_,w:()=>e});var i=u(1985);const e=new i.c(S=>S.complete());function _(S){return S?function g(S){return new i.c(v=>S.schedule(()=>v.complete()))}(S):e}},7468:(et,me,u)=>{"use strict";u.d(me,{p:()=>d});var i=u(1985),e=u(3073),_=u(8750),g=u(9326),S=u(4360),v=u(6450),f=u(8496);function d(...E){const m=(0,g.ms)(E),{args:F,keys:w}=(0,e.D)(E),C=new i.c(R=>{const{length:k}=F;if(!k)return void R.complete();const O=new Array(k);let H=k,x=k;for(let $=0;$<k;$++){let U=!1;(0,_.Tg)(F[$]).subscribe((0,S._)(R,G=>{U||(U=!0,x--),O[$]=G},()=>H--,void 0,()=>{(!H||!U)&&(x||R.next(w?(0,f.e)(w,O):O),R.complete())}))}});return m?C.pipe((0,v.I)(m)):C}},6648:(et,me,u)=>{"use strict";u.d(me,{H:()=>L});var i=u(8750),e=u(5225),_=u(9974),g=u(4360);function S(Q,te=0){return(0,_.N)((I,oe)=>{I.subscribe((0,g._)(oe,Y=>(0,e.N)(oe,Q,()=>oe.next(Y),te),()=>(0,e.N)(oe,Q,()=>oe.complete(),te),Y=>(0,e.N)(oe,Q,()=>oe.error(Y),te)))})}function v(Q,te=0){return(0,_.N)((I,oe)=>{oe.add(Q.schedule(()=>I.subscribe(oe),te))})}var E=u(1985),F=u(4761),w=u(8071);function R(Q,te){if(!Q)throw new Error("Iterable cannot be null");return new E.c(I=>{(0,e.N)(I,te,()=>{const oe=Q[Symbol.asyncIterator]();(0,e.N)(I,te,()=>{oe.next().then(Y=>{Y.done?I.complete():I.next(Y.value)})},0,!0)})})}var k=u(5055),O=u(9858),H=u(7441),x=u(5397),$=u(7953),U=u(591),G=u(5196);function L(Q,te){return te?function le(Q,te){if(null!=Q){if((0,k.l)(Q))return function f(Q,te){return(0,i.Tg)(Q).pipe(v(te),S(te))}(Q,te);if((0,H.X)(Q))return function m(Q,te){return new E.c(I=>{let oe=0;return te.schedule(function(){oe===Q.length?I.complete():(I.next(Q[oe++]),I.closed||this.schedule())})})}(Q,te);if((0,O.y)(Q))return function d(Q,te){return(0,i.Tg)(Q).pipe(v(te),S(te))}(Q,te);if((0,$.T)(Q))return R(Q,te);if((0,x.x)(Q))return function C(Q,te){return new E.c(I=>{let oe;return(0,e.N)(I,te,()=>{oe=Q[F.l](),(0,e.N)(I,te,()=>{let Y,_e;try{({value:Y,done:_e}=oe.next())}catch(Oe){return void I.error(Oe)}_e?I.complete():I.next(Y)},0,!0)}),()=>(0,w.T)(oe?.return)&&oe.return()})}(Q,te);if((0,G.U)(Q))return function ie(Q,te){return R((0,G.C)(Q),te)}(Q,te)}throw(0,U.L)(Q)}(Q,te):(0,i.Tg)(Q)}},3726:(et,me,u)=>{"use strict";u.d(me,{R:()=>m});var i=u(8750),e=u(1985),_=u(1397),g=u(7441),S=u(8071),v=u(6450);const f=["addListener","removeListener"],d=["addEventListener","removeEventListener"],E=["on","off"];function m(k,O,H,x){if((0,S.T)(H)&&(x=H,H=void 0),x)return m(k,O,H).pipe((0,v.I)(x));const[$,U]=function R(k){return(0,S.T)(k.addEventListener)&&(0,S.T)(k.removeEventListener)}(k)?d.map(G=>ie=>k[G](O,ie,H)):function w(k){return(0,S.T)(k.addListener)&&(0,S.T)(k.removeListener)}(k)?f.map(F(k,O)):function C(k){return(0,S.T)(k.on)&&(0,S.T)(k.off)}(k)?E.map(F(k,O)):[];if(!$&&(0,g.X)(k))return(0,_.Z)(G=>m(G,O,H))((0,i.Tg)(k));if(!$)throw new TypeError("Invalid event target");return new e.c(G=>{const ie=(...le)=>G.next(1<le.length?le:le[0]);return $(ie),()=>U(ie)})}function F(k,O){return H=>x=>k[H](O,x)}},8750:(et,me,u)=>{"use strict";u.d(me,{Tg:()=>C});var i=u(1635),e=u(7441),_=u(9858),g=u(1985),S=u(5055),v=u(7953),f=u(591),d=u(5397),E=u(5196),m=u(8071),F=u(5334),w=u(3494);function C(G){if(G instanceof g.c)return G;if(null!=G){if((0,S.l)(G))return function R(G){return new g.c(ie=>{const le=G[w.s]();if((0,m.T)(le.subscribe))return le.subscribe(ie);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(G);if((0,e.X)(G))return function k(G){return new g.c(ie=>{for(let le=0;le<G.length&&!ie.closed;le++)ie.next(G[le]);ie.complete()})}(G);if((0,_.y)(G))return function O(G){return new g.c(ie=>{G.then(le=>{ie.closed||(ie.next(le),ie.complete())},le=>ie.error(le)).then(null,F.m)})}(G);if((0,v.T)(G))return x(G);if((0,d.x)(G))return function H(G){return new g.c(ie=>{for(const le of G)if(ie.next(le),ie.closed)return;ie.complete()})}(G);if((0,E.U)(G))return function $(G){return x((0,E.C)(G))}(G)}throw(0,f.L)(G)}function x(G){return new g.c(ie=>{(function U(G,ie){var le,L,Q,te;return(0,i.sH)(this,void 0,void 0,function*(){try{for(le=(0,i.xN)(G);!(L=yield le.next()).done;)if(ie.next(L.value),ie.closed)return}catch(I){Q={error:I}}finally{try{L&&!L.done&&(te=le.return)&&(yield te.call(le))}finally{if(Q)throw Q.error}}ie.complete()})})(G,ie).catch(le=>ie.error(le))})}},7786:(et,me,u)=>{"use strict";u.d(me,{h:()=>v});var i=u(6365),e=u(8750),_=u(983),g=u(9326),S=u(6648);function v(...f){const d=(0,g.lI)(f),E=(0,g.R0)(f,1/0),m=f;return m.length?1===m.length?(0,e.Tg)(m[0]):(0,i.U)(E)((0,S.H)(m,d)):_.w}},5060:(et,me,u)=>{"use strict";u.d(me,{t:()=>_});var i=u(1985),e=u(5343);const _=new i.c(e.l)},7673:(et,me,u)=>{"use strict";u.d(me,{of:()=>_});var i=u(9326),e=u(6648);function _(...g){const S=(0,i.lI)(g);return(0,e.H)(g,S)}},8810:(et,me,u)=>{"use strict";u.d(me,{$:()=>_});var i=u(1985),e=u(8071);function _(g,S){const v=(0,e.T)(g)?g:()=>g,f=d=>d.error(v());return new i.c(S?d=>S.schedule(f,0,d):f)}},1584:(et,me,u)=>{"use strict";u.d(me,{O:()=>S});var i=u(1985),e=u(3236),_=u(9470);function S(v=0,f,d=e.b){let E=-1;return null!=f&&((0,_.m)(f)?d=f:E=f),new i.c(m=>{let F=function g(v){return v instanceof Date&&!isNaN(v)}(v)?+v-d.now():v;F<0&&(F=0);let w=0;return d.schedule(function(){m.closed||(m.next(w++),0<=E?this.schedule(void 0,E):m.complete())},F)})}},4360:(et,me,u)=>{"use strict";u.d(me,{_:()=>e});var i=u(7707);function e(g,S,v,f,d){return new _(g,S,v,f,d)}class _ extends i.vU{constructor(S,v,f,d,E,m){super(S),this.onFinalize=E,this.shouldUnsubscribe=m,this._next=v?function(F){try{v(F)}catch(w){S.error(w)}}:super._next,this._error=d?function(F){try{d(F)}catch(w){S.error(w)}finally{this.unsubscribe()}}:super._error,this._complete=f?function(){try{f()}catch(F){S.error(F)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var S;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:v}=this;super.unsubscribe(),!v&&(null===(S=this.onFinalize)||void 0===S||S.call(this))}}}},9437:(et,me,u)=>{"use strict";u.d(me,{W:()=>g});var i=u(8750),e=u(4360),_=u(9974);function g(S){return(0,_.N)((v,f)=>{let m,d=null,E=!1;d=v.subscribe((0,e._)(f,void 0,void 0,F=>{m=(0,i.Tg)(S(F,g(S)(v))),d?(d.unsubscribe(),d=null,m.subscribe(f)):E=!0})),E&&(d.unsubscribe(),d=null,m.subscribe(f))})}},274:(et,me,u)=>{"use strict";u.d(me,{H:()=>_});var i=u(1397),e=u(8071);function _(g,S){return(0,e.T)(S)?(0,i.Z)(g,S,1):(0,i.Z)(g,1)}},152:(et,me,u)=>{"use strict";u.d(me,{B:()=>g});var i=u(3236),e=u(9974),_=u(4360);function g(S,v=i.E){return(0,e.N)((f,d)=>{let E=null,m=null,F=null;const w=()=>{if(E){E.unsubscribe(),E=null;const R=m;m=null,d.next(R)}};function C(){const R=F+S,k=v.now();if(k<R)return E=this.schedule(void 0,R-k),void d.add(E);w()}f.subscribe((0,_._)(d,R=>{m=R,F=v.now(),E||(E=v.schedule(C,S),d.add(E))},()=>{w(),d.complete()},void 0,()=>{m=E=null}))})}},9901:(et,me,u)=>{"use strict";u.d(me,{U:()=>_});var i=u(9974),e=u(4360);function _(g){return(0,i.N)((S,v)=>{let f=!1;S.subscribe((0,e._)(v,d=>{f=!0,v.next(d)},()=>{f||v.next(g),v.complete()}))})}},1986:(et,me,u)=>{"use strict";u.d(me,{c:()=>C});var i=u(3236),e=u(8793),_=u(6697),g=u(9974),S=u(4360),v=u(5343),d=u(3703),E=u(1397),m=u(8750);function F(R,k){return k?O=>(0,e.x)(k.pipe((0,_.s)(1),function f(){return(0,g.N)((R,k)=>{R.subscribe((0,S._)(k,v.l))})}()),O.pipe(F(R))):(0,E.Z)((O,H)=>(0,m.Tg)(R(O,H)).pipe((0,_.s)(1),(0,d.u)(O)))}var w=u(1584);function C(R,k=i.E){const O=(0,w.O)(R,k);return F(()=>O)}},3294:(et,me,u)=>{"use strict";u.d(me,{F:()=>g});var i=u(3669),e=u(9974),_=u(4360);function g(v,f=i.D){return v=v??S,(0,e.N)((d,E)=>{let m,F=!0;d.subscribe((0,_._)(E,w=>{const C=f(w);(F||!v(m,C))&&(F=!1,m=C,E.next(w))}))})}function S(v,f){return v===f}},5964:(et,me,u)=>{"use strict";u.d(me,{p:()=>_});var i=u(9974),e=u(4360);function _(g,S){return(0,i.N)((v,f)=>{let d=0;v.subscribe((0,e._)(f,E=>g.call(S,E,d++)&&f.next(E)))})}},980:(et,me,u)=>{"use strict";u.d(me,{j:()=>e});var i=u(9974);function e(_){return(0,i.N)((g,S)=>{try{g.subscribe(S)}finally{S.add(_)}})}},1594:(et,me,u)=>{"use strict";u.d(me,{$:()=>f});var i=u(9350),e=u(5964),_=u(6697),g=u(9901),S=u(3774),v=u(3669);function f(d,E){const m=arguments.length>=2;return F=>F.pipe(d?(0,e.p)((w,C)=>d(w,C,F)):v.D,(0,_.s)(1),m?(0,g.U)(E):(0,S.v)(()=>new i.G))}},6354:(et,me,u)=>{"use strict";u.d(me,{T:()=>_});var i=u(9974),e=u(4360);function _(g,S){return(0,i.N)((v,f)=>{let d=0;v.subscribe((0,e._)(f,E=>{f.next(g.call(S,E,d++))}))})}},3703:(et,me,u)=>{"use strict";u.d(me,{u:()=>e});var i=u(6354);function e(_){return(0,i.T)(()=>_)}},1716:(et,me,u)=>{"use strict";u.d(me,{h:()=>v});var i=u(9974),e=u(2326),_=u(6365),g=u(9326),S=u(6648);function v(...f){const d=(0,g.lI)(f),E=(0,g.R0)(f,1/0);return f=(0,e.K)(f),(0,i.N)((m,F)=>{(0,_.U)(E)((0,S.H)([m,...f],d)).subscribe(F)})}},6365:(et,me,u)=>{"use strict";u.d(me,{U:()=>_});var i=u(1397),e=u(3669);function _(g=1/0){return(0,i.Z)(e.D,g)}},1397:(et,me,u)=>{"use strict";u.d(me,{Z:()=>d});var i=u(6354),e=u(8750),_=u(9974),g=u(5225),S=u(4360),f=u(8071);function d(E,m,F=1/0){return(0,f.T)(m)?d((w,C)=>(0,i.T)((R,k)=>m(w,R,C,k))((0,e.Tg)(E(w,C))),F):("number"==typeof m&&(F=m),(0,_.N)((w,C)=>function v(E,m,F,w,C,R,k,O){const H=[];let x=0,$=0,U=!1;const G=()=>{U&&!H.length&&!x&&m.complete()},ie=L=>x<w?le(L):H.push(L),le=L=>{R&&m.next(L),x++;let Q=!1;(0,e.Tg)(F(L,$++)).subscribe((0,S._)(m,te=>{C?.(te),R?ie(te):m.next(te)},()=>{Q=!0},void 0,()=>{if(Q)try{for(x--;H.length&&x<w;){const te=H.shift();k?(0,g.N)(m,k,()=>le(te)):le(te)}G()}catch(te){m.error(te)}}))};return E.subscribe((0,S._)(m,ie,()=>{U=!0,G()})),()=>{O?.()}}(w,C,E,F)))}},8412:(et,me,u)=>{"use strict";u.d(me,{X:()=>e});var i=u(1716);function e(..._){return(0,i.h)(..._)}},6649:(et,me,u)=>{"use strict";u.d(me,{S:()=>e});var i=u(4360);function e(_,g,S,v,f){return(d,E)=>{let m=S,F=g,w=0;d.subscribe((0,i._)(E,C=>{const R=w++;F=m?_(F,C,R):(m=!0,C),v&&E.next(F)},f&&(()=>{m&&E.next(F),E.complete()})))}}},9568:(et,me,u)=>{"use strict";u.d(me,{t:()=>d});var i=u(2771),e=u(8750),_=u(1413),g=u(7707),S=u(9974);function f(E,m,...F){if(!0===m)return void E();if(!1===m)return;const w=new g.Ms({next:()=>{w.unsubscribe(),E()}});return(0,e.Tg)(m(...F)).subscribe(w)}function d(E,m,F){let w,C=!1;return E&&"object"==typeof E?({bufferSize:w=1/0,windowTime:m=1/0,refCount:C=!1,scheduler:F}=E):w=E??1/0,function v(E={}){const{connector:m=(()=>new _.B),resetOnError:F=!0,resetOnComplete:w=!0,resetOnRefCountZero:C=!0}=E;return R=>{let k,O,H,x=0,$=!1,U=!1;const G=()=>{O?.unsubscribe(),O=void 0},ie=()=>{G(),k=H=void 0,$=U=!1},le=()=>{const L=k;ie(),L?.unsubscribe()};return(0,S.N)((L,Q)=>{x++,!U&&!$&&G();const te=H=H??m();Q.add(()=>{x--,0===x&&!U&&!$&&(O=f(le,C))}),te.subscribe(Q),!k&&x>0&&(k=new g.Ms({next:I=>te.next(I),error:I=>{U=!0,G(),O=f(ie,F,I),te.error(I)},complete:()=>{$=!0,G(),O=f(ie,w),te.complete()}}),(0,e.Tg)(L).subscribe(k))})(R)}}({connector:()=>new i.m(w,m,F),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:C})}},9172:(et,me,u)=>{"use strict";u.d(me,{Z:()=>g});var i=u(8793),e=u(9326),_=u(9974);function g(...S){const v=(0,e.lI)(S);return(0,_.N)((f,d)=>{(v?(0,i.x)(S,f,v):(0,i.x)(S,f)).subscribe(d)})}},5558:(et,me,u)=>{"use strict";u.d(me,{n:()=>g});var i=u(8750),e=u(9974),_=u(4360);function g(S,v){return(0,e.N)((f,d)=>{let E=null,m=0,F=!1;const w=()=>F&&!E&&d.complete();f.subscribe((0,_._)(d,C=>{E?.unsubscribe();let R=0;const k=m++;(0,i.Tg)(S(C,k)).subscribe(E=(0,_._)(d,O=>d.next(v?v(C,O,k,R++):O),()=>{E=null,w()}))},()=>{F=!0,w()}))})}},6697:(et,me,u)=>{"use strict";u.d(me,{s:()=>g});var i=u(983),e=u(9974),_=u(4360);function g(S){return S<=0?()=>i.w:(0,e.N)((v,f)=>{let d=0;v.subscribe((0,_._)(f,E=>{++d<=S&&(f.next(E),S<=d&&f.complete())}))})}},6977:(et,me,u)=>{"use strict";u.d(me,{Q:()=>S});var i=u(9974),e=u(4360),_=u(8750),g=u(5343);function S(v){return(0,i.N)((f,d)=>{(0,_.Tg)(v).subscribe((0,e._)(d,()=>d.complete(),g.l)),!d.closed&&f.subscribe(d)})}},8141:(et,me,u)=>{"use strict";u.d(me,{M:()=>S});var i=u(8071),e=u(9974),_=u(4360),g=u(3669);function S(v,f,d){const E=(0,i.T)(v)||f||d?{next:v,error:f,complete:d}:v;return E?(0,e.N)((m,F)=>{var w;null===(w=E.subscribe)||void 0===w||w.call(E);let C=!0;m.subscribe((0,_._)(F,R=>{var k;null===(k=E.next)||void 0===k||k.call(E,R),F.next(R)},()=>{var R;C=!1,null===(R=E.complete)||void 0===R||R.call(E),F.complete()},R=>{var k;C=!1,null===(k=E.error)||void 0===k||k.call(E,R),F.error(R)},()=>{var R,k;C&&(null===(R=E.unsubscribe)||void 0===R||R.call(E)),null===(k=E.finalize)||void 0===k||k.call(E)}))}):g.D}},3774:(et,me,u)=>{"use strict";u.d(me,{v:()=>g});var i=u(9350),e=u(9974),_=u(4360);function g(v=S){return(0,e.N)((f,d)=>{let E=!1;f.subscribe((0,_._)(d,m=>{E=!0,d.next(m)},()=>E?d.complete():d.error(v())))})}function S(){return new i.G}},3993:(et,me,u)=>{"use strict";u.d(me,{E:()=>f});var i=u(9974),e=u(4360),_=u(8750),g=u(3669),S=u(5343),v=u(9326);function f(...d){const E=(0,v.ms)(d);return(0,i.N)((m,F)=>{const w=d.length,C=new Array(w);let R=d.map(()=>!1),k=!1;for(let O=0;O<w;O++)(0,_.Tg)(d[O]).subscribe((0,e._)(F,H=>{C[O]=H,!k&&!R[O]&&(R[O]=!0,(k=R.every(g.D))&&(R=null))},S.l));m.subscribe((0,e._)(F,O=>{if(k){const H=[O,...C];F.next(E?E(...H):H)}}))})}},6780:(et,me,u)=>{"use strict";u.d(me,{R:()=>S});var i=u(8359);class e extends i.yU{constructor(f,d){super()}schedule(f,d=0){return this}}const _={setInterval(v,f,...d){const{delegate:E}=_;return E?.setInterval?E.setInterval(v,f,...d):setInterval(v,f,...d)},clearInterval(v){const{delegate:f}=_;return(f?.clearInterval||clearInterval)(v)},delegate:void 0};var g=u(7908);class S extends e{constructor(f,d){super(f,d),this.scheduler=f,this.work=d,this.pending=!1}schedule(f,d=0){var E;if(this.closed)return this;this.state=f;const m=this.id,F=this.scheduler;return null!=m&&(this.id=this.recycleAsyncId(F,m,d)),this.pending=!0,this.delay=d,this.id=null!==(E=this.id)&&void 0!==E?E:this.requestAsyncId(F,this.id,d),this}requestAsyncId(f,d,E=0){return _.setInterval(f.flush.bind(f,this),E)}recycleAsyncId(f,d,E=0){if(null!=E&&this.delay===E&&!1===this.pending)return d;null!=d&&_.clearInterval(d)}execute(f,d){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const E=this._execute(f,d);if(E)return E;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(f,d){let m,E=!1;try{this.work(f)}catch(F){E=!0,m=F||new Error("Scheduled action threw falsy error")}if(E)return this.unsubscribe(),m}unsubscribe(){if(!this.closed){const{id:f,scheduler:d}=this,{actions:E}=d;this.work=this.state=this.scheduler=null,this.pending=!1,(0,g.o)(E,this),null!=f&&(this.id=this.recycleAsyncId(d,f,null)),this.delay=null,super.unsubscribe()}}}},9687:(et,me,u)=>{"use strict";u.d(me,{q:()=>_});var i=u(6129);class e{constructor(S,v=e.now){this.schedulerActionCtor=S,this.now=v}schedule(S,v=0,f){return new this.schedulerActionCtor(this,S).schedule(f,v)}}e.now=i.U.now;class _ extends e{constructor(S,v=e.now){super(S,v),this.actions=[],this._active=!1}flush(S){const{actions:v}=this;if(this._active)return void v.push(S);let f;this._active=!0;do{if(f=S.execute(S.state,S.delay))break}while(S=v.shift());if(this._active=!1,f){for(;S=v.shift();)S.unsubscribe();throw f}}}},3236:(et,me,u)=>{"use strict";u.d(me,{E:()=>_,b:()=>g});var i=u(6780);const _=new(u(9687).q)(i.R),g=_},6129:(et,me,u)=>{"use strict";u.d(me,{U:()=>i});const i={now:()=>(i.delegate||Date).now(),delegate:void 0}},9270:(et,me,u)=>{"use strict";u.d(me,{f:()=>i});const i={setTimeout(e,_,...g){const{delegate:S}=i;return S?.setTimeout?S.setTimeout(e,_,...g):setTimeout(e,_,...g)},clearTimeout(e){const{delegate:_}=i;return(_?.clearTimeout||clearTimeout)(e)},delegate:void 0}},4761:(et,me,u)=>{"use strict";u.d(me,{l:()=>e});const e=function i(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(et,me,u)=>{"use strict";u.d(me,{s:()=>i});const i="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(et,me,u)=>{"use strict";u.d(me,{G:()=>e});const e=(0,u(1853).L)(_=>function(){_(this),this.name="EmptyError",this.message="no elements in sequence"})},9326:(et,me,u)=>{"use strict";u.d(me,{R0:()=>v,lI:()=>S,ms:()=>g});var i=u(8071),e=u(9470);function _(f){return f[f.length-1]}function g(f){return(0,i.T)(_(f))?f.pop():void 0}function S(f){return(0,e.m)(_(f))?f.pop():void 0}function v(f,d){return"number"==typeof _(f)?f.pop():d}},3073:(et,me,u)=>{"use strict";u.d(me,{D:()=>S});const{isArray:i}=Array,{getPrototypeOf:e,prototype:_,keys:g}=Object;function S(f){if(1===f.length){const d=f[0];if(i(d))return{args:d,keys:null};if(function v(f){return f&&"object"==typeof f&&e(f)===_}(d)){const E=g(d);return{args:E.map(m=>d[m]),keys:E}}}return{args:f,keys:null}}},2326:(et,me,u)=>{"use strict";u.d(me,{K:()=>e});const{isArray:i}=Array;function e(_){return 1===_.length&&i(_[0])?_[0]:_}},7908:(et,me,u)=>{"use strict";function i(e,_){if(e){const g=e.indexOf(_);0<=g&&e.splice(g,1)}}u.d(me,{o:()=>i})},1853:(et,me,u)=>{"use strict";function i(e){const g=e(S=>{Error.call(S),S.stack=(new Error).stack});return g.prototype=Object.create(Error.prototype),g.prototype.constructor=g,g}u.d(me,{L:()=>i})},8496:(et,me,u)=>{"use strict";function i(e,_){return e.reduce((g,S,v)=>(g[S]=_[v],g),{})}u.d(me,{e:()=>i})},9786:(et,me,u)=>{"use strict";u.d(me,{Y:()=>_,l:()=>g});var i=u(1026);let e=null;function _(S){if(i.$.useDeprecatedSynchronousErrorHandling){const v=!e;if(v&&(e={errorThrown:!1,error:null}),S(),v){const{errorThrown:f,error:d}=e;if(e=null,f)throw d}}else S()}function g(S){i.$.useDeprecatedSynchronousErrorHandling&&e&&(e.errorThrown=!0,e.error=S)}},5225:(et,me,u)=>{"use strict";function i(e,_,g,S=0,v=!1){const f=_.schedule(function(){g(),v?e.add(this.schedule(null,S)):this.unsubscribe()},S);if(e.add(f),!v)return f}u.d(me,{N:()=>i})},3669:(et,me,u)=>{"use strict";function i(e){return e}u.d(me,{D:()=>i})},7441:(et,me,u)=>{"use strict";u.d(me,{X:()=>i});const i=e=>e&&"number"==typeof e.length&&"function"!=typeof e},7953:(et,me,u)=>{"use strict";u.d(me,{T:()=>e});var i=u(8071);function e(_){return Symbol.asyncIterator&&(0,i.T)(_?.[Symbol.asyncIterator])}},8071:(et,me,u)=>{"use strict";function i(e){return"function"==typeof e}u.d(me,{T:()=>i})},5055:(et,me,u)=>{"use strict";u.d(me,{l:()=>_});var i=u(3494),e=u(8071);function _(g){return(0,e.T)(g[i.s])}},5397:(et,me,u)=>{"use strict";u.d(me,{x:()=>_});var i=u(4761),e=u(8071);function _(g){return(0,e.T)(g?.[i.l])}},4402:(et,me,u)=>{"use strict";u.d(me,{A:()=>_});var i=u(1985),e=u(8071);function _(g){return!!g&&(g instanceof i.c||(0,e.T)(g.lift)&&(0,e.T)(g.subscribe))}},9858:(et,me,u)=>{"use strict";u.d(me,{y:()=>e});var i=u(8071);function e(_){return(0,i.T)(_?.then)}},5196:(et,me,u)=>{"use strict";u.d(me,{C:()=>_,U:()=>g});var i=u(1635),e=u(8071);function _(S){return(0,i.AQ)(this,arguments,function*(){const f=S.getReader();try{for(;;){const{value:d,done:E}=yield(0,i.N3)(f.read());if(E)return yield(0,i.N3)(void 0);yield yield(0,i.N3)(d)}}finally{f.releaseLock()}})}function g(S){return(0,e.T)(S?.getReader)}},9470:(et,me,u)=>{"use strict";u.d(me,{m:()=>e});var i=u(8071);function e(_){return _&&(0,i.T)(_.schedule)}},9974:(et,me,u)=>{"use strict";u.d(me,{N:()=>_,S:()=>e});var i=u(8071);function e(g){return(0,i.T)(g?.lift)}function _(g){return S=>{if(e(S))return S.lift(function(v){try{return g(v,this)}catch(f){this.error(f)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(et,me,u)=>{"use strict";u.d(me,{I:()=>g});var i=u(6354);const{isArray:e}=Array;function g(S){return(0,i.T)(v=>function _(S,v){return e(v)?S(...v):S(v)}(S,v))}},5343:(et,me,u)=>{"use strict";function i(){}u.d(me,{l:()=>i})},1203:(et,me,u)=>{"use strict";u.d(me,{F:()=>e,m:()=>_});var i=u(3669);function e(...g){return _(g)}function _(g){return 0===g.length?i.D:1===g.length?g[0]:function(v){return g.reduce((f,d)=>d(f),v)}}},5334:(et,me,u)=>{"use strict";u.d(me,{m:()=>_});var i=u(1026),e=u(9270);function _(g){e.f.setTimeout(()=>{const{onUnhandledError:S}=i.$;if(!S)throw g;S(g)})}},591:(et,me,u)=>{"use strict";function i(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}u.d(me,{L:()=>i})},9625:function(et,me,u){var i;!function(e,_){"use strict";var f="function",d="undefined",E="object",m="string",F="major",w="model",C="name",R="type",k="vendor",O="version",H="architecture",x="console",$="mobile",U="tablet",G="smarttv",ie="wearable",le="embedded",Q="Amazon",te="Apple",I="ASUS",oe="BlackBerry",Y="Browser",_e="Chrome",Re="Firefox",xe="Google",we="Microsoft",he="Motorola",Le="Opera",Ae="Samsung",Fe="Sony",ft="Xiaomi",Ye="Zebra",zt="Facebook",Lt="Chromium OS",J=function(rt){for(var Nt={},ve=0;ve<rt.length;ve++)Nt[rt[ve].toUpperCase()]=rt[ve];return Nt},X=function(rt,Nt){return typeof rt===m&&-1!==q(Nt).indexOf(q(rt))},q=function(rt){return rt.toLowerCase()},Ee=function(rt,Nt){if(typeof rt===m)return rt=rt.replace(/^\s\s*/,""),typeof Nt===d?rt:rt.substring(0,500)},lt=function(rt,Nt){for(var ae,j,se,Be,qe,ht,ve=0;ve<Nt.length&&!qe;){var Ft=Nt[ve],on=Nt[ve+1];for(ae=j=0;ae<Ft.length&&!qe&&Ft[ae];)if(qe=Ft[ae++].exec(rt))for(se=0;se<on.length;se++)ht=qe[++j],typeof(Be=on[se])===E&&Be.length>0?2===Be.length?this[Be[0]]=typeof Be[1]==f?Be[1].call(this,ht):Be[1]:3===Be.length?this[Be[0]]=typeof Be[1]!==f||Be[1].exec&&Be[1].test?ht?ht.replace(Be[1],Be[2]):_:ht?Be[1].call(this,ht,Be[2]):_:4===Be.length&&(this[Be[0]]=ht?Be[3].call(this,ht.replace(Be[1],Be[2])):_):this[Be]=ht||_;ve+=2}},Ue=function(rt,Nt){for(var ve in Nt)if(typeof Nt[ve]===E&&Nt[ve].length>0){for(var ae=0;ae<Nt[ve].length;ae++)if(X(Nt[ve][ae],rt))return"?"===ve?_:ve}else if(X(Nt[ve],rt))return"?"===ve?_:ve;return rt},Ot={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},pt={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[O,[C,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[O,[C,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[C,O],[/opios[\/ ]+([\w\.]+)/i],[O,[C,Le+" Mini"]],[/\bopr\/([\w\.]+)/i],[O,[C,Le]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[O,[C,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[C,O],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[O,[C,"UC"+Y]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[O,[C,"WeChat"]],[/konqueror\/([\w\.]+)/i],[O,[C,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[O,[C,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[O,[C,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[O,[C,"Smart Lenovo "+Y]],[/(avast|avg)\/([\w\.]+)/i],[[C,/(.+)/,"$1 Secure "+Y],O],[/\bfocus\/([\w\.]+)/i],[O,[C,Re+" Focus"]],[/\bopt\/([\w\.]+)/i],[O,[C,Le+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[O,[C,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[O,[C,"Dolphin"]],[/coast\/([\w\.]+)/i],[O,[C,Le+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[O,[C,"MIUI "+Y]],[/fxios\/([-\w\.]+)/i],[O,[C,Re]],[/\bqihu|(qi?ho?o?|360)browser/i],[[C,"360 "+Y]],[/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i],[[C,/(.+)/,"$1 "+Y],O],[/samsungbrowser\/([\w\.]+)/i],[O,[C,Ae+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[C,/_/g," "],O],[/metasr[\/ ]?([\d\.]+)/i],[O,[C,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[C,"Sogou Mobile"],O],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[C,O],[/(lbbrowser)/i,/\[(linkedin)app\]/i],[C],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[C,zt],O],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[C,O],[/\bgsa\/([\w\.]+) .*safari\//i],[O,[C,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[O,[C,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[O,[C,_e+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[C,_e+" WebView"],O],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[O,[C,"Android "+Y]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[C,O],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[O,[C,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[O,C],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[C,[O,Ue,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[C,O],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[C,"Netscape"],O],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[O,[C,Re+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[C,O],[/(cobalt)\/([\w\.]+)/i],[C,[O,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[H,"amd64"]],[/(ia32(?=;))/i],[[H,q]],[/((?:i[346]|x)86)[;\)]/i],[[H,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[H,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[H,"armhf"]],[/windows (ce|mobile); ppc;/i],[[H,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[H,/ower/,"",q]],[/(sun4\w)[;\)]/i],[[H,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[H,q]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[w,[k,Ae],[R,U]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[w,[k,Ae],[R,$]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[w,[k,te],[R,$]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[w,[k,te],[R,U]],[/(macintosh);/i],[w,[k,te]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[w,[k,"Sharp"],[R,$]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[w,[k,"Huawei"],[R,U]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[w,[k,"Huawei"],[R,$]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[w,/_/g," "],[k,ft],[R,$]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[w,/_/g," "],[k,ft],[R,U]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[w,[k,"OPPO"],[R,$]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[w,[k,"Vivo"],[R,$]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[w,[k,"Realme"],[R,$]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[w,[k,he],[R,$]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[w,[k,he],[R,U]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[w,[k,"LG"],[R,U]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[w,[k,"LG"],[R,$]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[w,[k,"Lenovo"],[R,U]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[w,/_/g," "],[k,"Nokia"],[R,$]],[/(pixel c)\b/i],[w,[k,xe],[R,U]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[w,[k,xe],[R,$]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[w,[k,Fe],[R,$]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[w,"Xperia Tablet"],[k,Fe],[R,U]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[w,[k,"OnePlus"],[R,$]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[w,[k,Q],[R,U]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[w,/(.+)/g,"Fire Phone $1"],[k,Q],[R,$]],[/(playbook);[-\w\),; ]+(rim)/i],[w,k,[R,U]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[w,[k,oe],[R,$]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[w,[k,I],[R,U]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[w,[k,I],[R,$]],[/(nexus 9)/i],[w,[k,"HTC"],[R,U]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[k,[w,/_/g," "],[R,$]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[w,[k,"Acer"],[R,U]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[w,[k,"Meizu"],[R,$]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[w,[k,"Ulefone"],[R,$]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[k,w,[R,$]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[k,w,[R,U]],[/(surface duo)/i],[w,[k,we],[R,U]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[w,[k,"Fairphone"],[R,$]],[/(u304aa)/i],[w,[k,"AT&T"],[R,$]],[/\bsie-(\w*)/i],[w,[k,"Siemens"],[R,$]],[/\b(rct\w+) b/i],[w,[k,"RCA"],[R,U]],[/\b(venue[\d ]{2,7}) b/i],[w,[k,"Dell"],[R,U]],[/\b(q(?:mv|ta)\w+) b/i],[w,[k,"Verizon"],[R,U]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[w,[k,"Barnes & Noble"],[R,U]],[/\b(tm\d{3}\w+) b/i],[w,[k,"NuVision"],[R,U]],[/\b(k88) b/i],[w,[k,"ZTE"],[R,U]],[/\b(nx\d{3}j) b/i],[w,[k,"ZTE"],[R,$]],[/\b(gen\d{3}) b.+49h/i],[w,[k,"Swiss"],[R,$]],[/\b(zur\d{3}) b/i],[w,[k,"Swiss"],[R,U]],[/\b((zeki)?tb.*\b) b/i],[w,[k,"Zeki"],[R,U]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[k,"Dragon Touch"],w,[R,U]],[/\b(ns-?\w{0,9}) b/i],[w,[k,"Insignia"],[R,U]],[/\b((nxa|next)-?\w{0,9}) b/i],[w,[k,"NextBook"],[R,U]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[k,"Voice"],w,[R,$]],[/\b(lvtel\-)?(v1[12]) b/i],[[k,"LvTel"],w,[R,$]],[/\b(ph-1) /i],[w,[k,"Essential"],[R,$]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[w,[k,"Envizen"],[R,U]],[/\b(trio[-\w\. ]+) b/i],[w,[k,"MachSpeed"],[R,U]],[/\btu_(1491) b/i],[w,[k,"Rotor"],[R,U]],[/(shield[\w ]+) b/i],[w,[k,"Nvidia"],[R,U]],[/(sprint) (\w+)/i],[k,w,[R,$]],[/(kin\.[onetw]{3})/i],[[w,/\./g," "],[k,we],[R,$]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[w,[k,Ye],[R,U]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[w,[k,Ye],[R,$]],[/smart-tv.+(samsung)/i],[k,[R,G]],[/hbbtv.+maple;(\d+)/i],[[w,/^/,"SmartTV"],[k,Ae],[R,G]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[k,"LG"],[R,G]],[/(apple) ?tv/i],[k,[w,te+" TV"],[R,G]],[/crkey/i],[[w,_e+"cast"],[k,xe],[R,G]],[/droid.+aft(\w+)( bui|\))/i],[w,[k,Q],[R,G]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[w,[k,"Sharp"],[R,G]],[/(bravia[\w ]+)( bui|\))/i],[w,[k,Fe],[R,G]],[/(mitv-\w{5}) bui/i],[w,[k,ft],[R,G]],[/Hbbtv.*(technisat) (.*);/i],[k,w,[R,G]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[k,Ee],[w,Ee],[R,G]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[R,G]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[k,w,[R,x]],[/droid.+; (shield) bui/i],[w,[k,"Nvidia"],[R,x]],[/(playstation [345portablevi]+)/i],[w,[k,Fe],[R,x]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[w,[k,we],[R,x]],[/((pebble))app/i],[k,w,[R,ie]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[w,[k,te],[R,ie]],[/droid.+; (glass) \d/i],[w,[k,xe],[R,ie]],[/droid.+; (wt63?0{2,3})\)/i],[w,[k,Ye],[R,ie]],[/(quest( 2| pro)?)/i],[w,[k,zt],[R,ie]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[k,[R,le]],[/(aeobc)\b/i],[w,[k,Q],[R,le]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[w,[R,$]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[w,[R,U]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[R,U]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[R,$]],[/(android[-\w\. ]{0,9});.+buil/i],[w,[k,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[O,[C,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[O,[C,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[C,O],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[O,C]],os:[[/microsoft (windows) (vista|xp)/i],[C,O],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[C,[O,Ue,Ot]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[O,Ue,Ot],[C,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[O,/_/g,"."],[C,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[C,"Mac OS"],[O,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[O,C],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[C,O],[/\(bb(10);/i],[O,[C,oe]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[O,[C,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[O,[C,Re+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[O,[C,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[O,[C,"watchOS"]],[/crkey\/([\d\.]+)/i],[O,[C,_e+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[C,Lt],O],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[C,O],[/(sunos) ?([\w\.\d]*)/i],[[C,"Solaris"],O],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[C,O]]},it=function(rt,Nt){if(typeof rt===E&&(Nt=rt,rt=_),!(this instanceof it))return new it(rt,Nt).getResult();var ve=typeof e!==d&&e.navigator?e.navigator:_,ae=rt||(ve&&ve.userAgent?ve.userAgent:""),j=ve&&ve.userAgentData?ve.userAgentData:_,se=Nt?function(rt,Nt){var ve={};for(var ae in rt)ve[ae]=Nt[ae]&&Nt[ae].length%2==0?Nt[ae].concat(rt[ae]):rt[ae];return ve}(pt,Nt):pt,Be=ve&&ve.userAgent==ae;return this.getBrowser=function(){var qe={};return qe[C]=_,qe[O]=_,lt.call(qe,ae,se.browser),qe[F]=function(rt){return typeof rt===m?rt.replace(/[^\d\.]/g,"").split(".")[0]:_}(qe[O]),Be&&ve&&ve.brave&&typeof ve.brave.isBrave==f&&(qe[C]="Brave"),qe},this.getCPU=function(){var qe={};return qe[H]=_,lt.call(qe,ae,se.cpu),qe},this.getDevice=function(){var qe={};return qe[k]=_,qe[w]=_,qe[R]=_,lt.call(qe,ae,se.device),Be&&!qe[R]&&j&&j.mobile&&(qe[R]=$),Be&&"Macintosh"==qe[w]&&ve&&typeof ve.standalone!==d&&ve.maxTouchPoints&&ve.maxTouchPoints>2&&(qe[w]="iPad",qe[R]=U),qe},this.getEngine=function(){var qe={};return qe[C]=_,qe[O]=_,lt.call(qe,ae,se.engine),qe},this.getOS=function(){var qe={};return qe[C]=_,qe[O]=_,lt.call(qe,ae,se.os),Be&&!qe[C]&&j&&"Unknown"!=j.platform&&(qe[C]=j.platform.replace(/chrome os/i,Lt).replace(/macos/i,"Mac OS")),qe},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return ae},this.setUA=function(qe){return ae=typeof qe===m&&qe.length>500?Ee(qe,500):qe,this},this.setUA(ae),this};it.VERSION="1.0.37",it.BROWSER=J([C,O,F]),it.CPU=J([H]),it.DEVICE=J([w,k,R,x,$,G,U,ie,le]),it.ENGINE=it.OS=J([C,O]),typeof me!==d?(et.exports&&(me=et.exports=it),me.UAParser=it):u.amdO?(i=function(){return it}.call(me,u,me,et))!==_&&(et.exports=i):typeof e!==d&&(e.UAParser=it);var Ht=typeof e!==d&&(e.jQuery||e.Zepto);if(Ht&&!Ht.ua){var en=new it;Ht.ua=en.getResult(),Ht.ua.get=function(){return en.getUA()},Ht.ua.set=function(rt){en.setUA(rt);var Nt=en.getResult();for(var ve in Nt)Ht.ua[ve]=Nt[ve]}}}("object"==typeof window?window:this)},5568:function(et,me){!function(u){"use strict";function i(){for(var At=arguments.length,dt=Array(At),kt=0;kt<At;kt++)dt[kt]=arguments[kt];if(dt.length>1){dt[0]=dt[0].slice(0,-1);for(var jt=dt.length-1,Yt=1;Yt<jt;++Yt)dt[Yt]=dt[Yt].slice(1,-1);return dt[jt]=dt[jt].slice(1),dt.join("")}return dt[0]}function e(At){return"(?:"+At+")"}function _(At){return void 0===At?"undefined":null===At?"null":Object.prototype.toString.call(At).split(" ").pop().split("]").shift().toLowerCase()}function g(At){return At.toUpperCase()}function f(At){var dt="[A-Za-z]",jt="[0-9]",vn=i(jt,"[A-Fa-f]"),An=e(e("%[EFef]"+vn+"%"+vn+vn+"%"+vn+vn)+"|"+e("%[89A-Fa-f]"+vn+"%"+vn+vn)+"|"+e("%"+vn+vn)),ci="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",gi=i("[\\:\\/\\?\\#\\[\\]\\@]",ci),Bi=At?"[\\uE000-\\uF8FF]":"[]",Xn=i(dt,jt,"[\\-\\.\\_\\~]",At?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),Ei=e(dt+i(dt,jt,"[\\+\\-\\.]")+"*"),pi=e(e(An+"|"+i(Xn,ci,"[\\:]"))+"*"),ji=(e(e("25[0-5]")+"|"+e("2[0-4]"+jt)+"|"+e("1"+jt+jt)+"|"+e("[1-9]"+jt)+"|"+jt),e(e("25[0-5]")+"|"+e("2[0-4]"+jt)+"|"+e("1"+jt+jt)+"|"+e("0?[1-9]"+jt)+"|0?0?"+jt)),Ti=e(ji+"\\."+ji+"\\."+ji+"\\."+ji),nt=e(vn+"{1,4}"),It=e(e(nt+"\\:"+nt)+"|"+Ti),Ct=e(e(nt+"\\:")+"{6}"+It),nn=e("\\:\\:"+e(nt+"\\:")+"{5}"+It),Qt=e(e(nt)+"?\\:\\:"+e(nt+"\\:")+"{4}"+It),Tn=e(e(e(nt+"\\:")+"{0,1}"+nt)+"?\\:\\:"+e(nt+"\\:")+"{3}"+It),St=e(e(e(nt+"\\:")+"{0,2}"+nt)+"?\\:\\:"+e(nt+"\\:")+"{2}"+It),$e=e(e(e(nt+"\\:")+"{0,3}"+nt)+"?\\:\\:"+nt+"\\:"+It),Qe=e(e(e(nt+"\\:")+"{0,4}"+nt)+"?\\:\\:"+It),K=e(e(e(nt+"\\:")+"{0,5}"+nt)+"?\\:\\:"+nt),de=e(e(e(nt+"\\:")+"{0,6}"+nt)+"?\\:\\:"),ue=e([Ct,nn,Qt,Tn,St,$e,Qe,K,de].join("|")),ze=e(e(Xn+"|"+An)+"+"),Kt=(e(ue+"\\%25"+ze),e(ue+e("\\%25|\\%(?!"+vn+"{2})")+ze)),gn=e("[vV]"+vn+"+\\."+i(Xn,ci,"[\\:]")+"+"),yn=e("\\["+e(Kt+"|"+ue+"|"+gn)+"\\]"),ti=e(e(An+"|"+i(Xn,ci))+"*"),vi=e(yn+"|"+Ti+"(?!"+ti+")|"+ti),bi=e(jt+"*"),ui=e(e(pi+"@")+"?"+vi+e("\\:"+bi)+"?"),Ki=e(An+"|"+i(Xn,ci,"[\\:\\@]")),Dr=e(Ki+"*"),Gn=e(Ki+"+"),ri=e(e(An+"|"+i(Xn,ci,"[\\@]"))+"+"),ar=e(e("\\/"+Dr)+"*"),xi=e("\\/"+e(Gn+ar)+"?"),Mr=e(ri+ar),Ks=e(Gn+ar),ms="(?!"+Ki+")",yi=(e(ar+"|"+xi+"|"+Mr+"|"+Ks+"|"+ms),e(e(Ki+"|"+i("[\\/\\?]",Bi))+"*")),Us=e(e(Ki+"|[\\/\\?]")+"*"),gs=e(e("\\/\\/"+ui+ar)+"|"+xi+"|"+Ks+"|"+ms),Cr=e(Ei+"\\:"+gs+e("\\?"+yi)+"?"+e("\\#"+Us)+"?"),Os=e(e("\\/\\/"+ui+ar)+"|"+xi+"|"+Mr+"|"+ms),gr=e(Os+e("\\?"+yi)+"?"+e("\\#"+Us)+"?");return e(Cr+"|"+gr),e(Ei+"\\:"+gs+e("\\?"+yi)+"?"),e(e("\\/\\/("+e("("+pi+")@")+"?("+vi+")"+e("\\:("+bi+")")+"?)")+"?("+ar+"|"+xi+"|"+Ks+"|"+ms+")"),e("\\?("+yi+")"),e("\\#("+Us+")"),e(e("\\/\\/("+e("("+pi+")@")+"?("+vi+")"+e("\\:("+bi+")")+"?)")+"?("+ar+"|"+xi+"|"+Mr+"|"+ms+")"),e("\\?("+yi+")"),e("\\#("+Us+")"),e(e("\\/\\/("+e("("+pi+")@")+"?("+vi+")"+e("\\:("+bi+")")+"?)")+"?("+ar+"|"+xi+"|"+Ks+"|"+ms+")"),e("\\?("+yi+")"),e("\\#("+Us+")"),e("("+pi+")@"),e("\\:("+bi+")"),{NOT_SCHEME:new RegExp(i("[^]",dt,jt,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(i("[^\\%\\:]",Xn,ci),"g"),NOT_HOST:new RegExp(i("[^\\%\\[\\]\\:]",Xn,ci),"g"),NOT_PATH:new RegExp(i("[^\\%\\/\\:\\@]",Xn,ci),"g"),NOT_PATH_NOSCHEME:new RegExp(i("[^\\%\\/\\@]",Xn,ci),"g"),NOT_QUERY:new RegExp(i("[^\\%]",Xn,ci,"[\\:\\@\\/\\?]",Bi),"g"),NOT_FRAGMENT:new RegExp(i("[^\\%]",Xn,ci,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(i("[^]",Xn,ci),"g"),UNRESERVED:new RegExp(Xn,"g"),OTHER_CHARS:new RegExp(i("[^\\%]",Xn,gi),"g"),PCT_ENCODED:new RegExp(An,"g"),IPV4ADDRESS:new RegExp("^("+Ti+")$"),IPV6ADDRESS:new RegExp("^\\[?("+ue+")"+e(e("\\%25|\\%(?!"+vn+"{2})")+"("+ze+")")+"?\\]?$")}}var d=f(!1),E=f(!0),m=function(){return function(dt,kt){if(Array.isArray(dt))return dt;if(Symbol.iterator in Object(dt))return function At(dt,kt){var jt=[],Yt=!0,vn=!1,mn=void 0;try{for(var An,zn=dt[Symbol.iterator]();!(Yt=(An=zn.next()).done)&&(jt.push(An.value),!kt||jt.length!==kt);Yt=!0);}catch(fn){vn=!0,mn=fn}finally{try{!Yt&&zn.return&&zn.return()}finally{if(vn)throw mn}}return jt}(dt,kt);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),w=2147483647,C=36,G=/^xn--/,ie=/[^\0-\x7E]/,le=/[\x2E\u3002\uFF0E\uFF61]/g,L={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},te=Math.floor,I=String.fromCharCode;function oe(At){throw new RangeError(L[At])}function _e(At,dt){var kt=At.split("@"),jt="";return kt.length>1&&(jt=kt[0]+"@",At=kt[1]),jt+function Y(At,dt){for(var kt=[],jt=At.length;jt--;)kt[jt]=dt(At[jt]);return kt}((At=At.replace(le,".")).split("."),dt).join(".")}function Oe(At){for(var dt=[],kt=0,jt=At.length;kt<jt;){var Yt=At.charCodeAt(kt++);if(Yt>=55296&&Yt<=56319&&kt<jt){var vn=At.charCodeAt(kt++);56320==(64512&vn)?dt.push(((1023&Yt)<<10)+(1023&vn)+65536):(dt.push(Yt),kt--)}else dt.push(Yt)}return dt}var xe=function(dt){return dt-48<10?dt-22:dt-65<26?dt-65:dt-97<26?dt-97:C},Je=function(dt,kt){return dt+22+75*(dt<26)-((0!=kt)<<5)},Te=function(dt,kt,jt){var Yt=0;for(dt=jt?te(dt/700):dt>>1,dt+=te(dt/kt);dt>455;Yt+=C)dt=te(dt/35);return te(Yt+36*dt/(dt+38))},we=function(dt){var kt=[],jt=dt.length,Yt=0,vn=128,mn=72,zn=dt.lastIndexOf("-");zn<0&&(zn=0);for(var An=0;An<zn;++An)dt.charCodeAt(An)>=128&&oe("not-basic"),kt.push(dt.charCodeAt(An));for(var fn=zn>0?zn+1:0;fn<jt;){for(var ci=Yt,gi=1,ni=C;;ni+=C){fn>=jt&&oe("invalid-input");var Bi=xe(dt.charCodeAt(fn++));(Bi>=C||Bi>te((w-Yt)/gi))&&oe("overflow"),Yt+=Bi*gi;var Xn=ni<=mn?1:ni>=mn+26?26:ni-mn;if(Bi<Xn)break;var Ei=C-Xn;gi>te(w/Ei)&&oe("overflow"),gi*=Ei}var pi=kt.length+1;mn=Te(Yt-ci,pi,0==ci),te(Yt/pi)>w-vn&&oe("overflow"),vn+=te(Yt/pi),Yt%=pi,kt.splice(Yt++,0,vn)}return String.fromCodePoint.apply(String,kt)},he=function(dt){var kt=[],jt=(dt=Oe(dt)).length,Yt=128,vn=0,mn=72,zn=!0,An=!1,fn=void 0;try{for(var gi,ci=dt[Symbol.iterator]();!(zn=(gi=ci.next()).done);zn=!0){var ni=gi.value;ni<128&&kt.push(I(ni))}}catch(Kt){An=!0,fn=Kt}finally{try{!zn&&ci.return&&ci.return()}finally{if(An)throw fn}}var Bi=kt.length,Xn=Bi;for(Bi&&kt.push("-");Xn<jt;){var Ei=w,pi=!0,Gi=!1,ji=void 0;try{for(var nt,Ti=dt[Symbol.iterator]();!(pi=(nt=Ti.next()).done);pi=!0){var It=nt.value;It>=Yt&&It<Ei&&(Ei=It)}}catch(Kt){Gi=!0,ji=Kt}finally{try{!pi&&Ti.return&&Ti.return()}finally{if(Gi)throw ji}}var Ct=Xn+1;Ei-Yt>te((w-vn)/Ct)&&oe("overflow"),vn+=(Ei-Yt)*Ct,Yt=Ei;var nn=!0,Qt=!1,Tn=void 0;try{for(var $e,St=dt[Symbol.iterator]();!(nn=($e=St.next()).done);nn=!0){var Qe=$e.value;if(Qe<Yt&&++vn>w&&oe("overflow"),Qe==Yt){for(var K=vn,de=C;;de+=C){var ue=de<=mn?1:de>=mn+26?26:de-mn;if(K<ue)break;var ze=K-ue,Wt=C-ue;kt.push(I(Je(ue+ze%Wt,0))),K=te(ze/Wt)}kt.push(I(Je(K,0))),mn=Te(vn,Ct,Xn==Bi),vn=0,++Xn}}}catch(Kt){Qt=!0,Tn=Kt}finally{try{!nn&&St.return&&St.return()}finally{if(Qt)throw Tn}}++vn,++Yt}return kt.join("")},st={version:"2.1.0",ucs2:{decode:Oe,encode:function(dt){return String.fromCodePoint.apply(String,function(At){if(Array.isArray(At)){for(var dt=0,kt=Array(At.length);dt<At.length;dt++)kt[dt]=At[dt];return kt}return Array.from(At)}(dt))}},decode:we,encode:he,toASCII:function(dt){return _e(dt,function(kt){return ie.test(kt)?"xn--"+he(kt):kt})},toUnicode:function(dt){return _e(dt,function(kt){return G.test(kt)?we(kt.slice(4).toLowerCase()):kt})}},Fe={};function ft(At){var dt=At.charCodeAt(0);return dt<16?"%0"+dt.toString(16).toUpperCase():dt<128?"%"+dt.toString(16).toUpperCase():dt<2048?"%"+(dt>>6|192).toString(16).toUpperCase()+"%"+(63&dt|128).toString(16).toUpperCase():"%"+(dt>>12|224).toString(16).toUpperCase()+"%"+(dt>>6&63|128).toString(16).toUpperCase()+"%"+(63&dt|128).toString(16).toUpperCase()}function Ye(At){for(var dt="",kt=0,jt=At.length;kt<jt;){var Yt=parseInt(At.substr(kt+1,2),16);if(Yt<128)dt+=String.fromCharCode(Yt),kt+=3;else if(Yt>=194&&Yt<224){if(jt-kt>=6){var vn=parseInt(At.substr(kt+4,2),16);dt+=String.fromCharCode((31&Yt)<<6|63&vn)}else dt+=At.substr(kt,6);kt+=6}else if(Yt>=224){if(jt-kt>=9){var mn=parseInt(At.substr(kt+4,2),16),zn=parseInt(At.substr(kt+7,2),16);dt+=String.fromCharCode((15&Yt)<<12|(63&mn)<<6|63&zn)}else dt+=At.substr(kt,9);kt+=9}else dt+=At.substr(kt,3),kt+=3}return dt}function zt(At,dt){function kt(jt){var Yt=Ye(jt);return Yt.match(dt.UNRESERVED)?Yt:jt}return At.scheme&&(At.scheme=String(At.scheme).replace(dt.PCT_ENCODED,kt).toLowerCase().replace(dt.NOT_SCHEME,"")),void 0!==At.userinfo&&(At.userinfo=String(At.userinfo).replace(dt.PCT_ENCODED,kt).replace(dt.NOT_USERINFO,ft).replace(dt.PCT_ENCODED,g)),void 0!==At.host&&(At.host=String(At.host).replace(dt.PCT_ENCODED,kt).toLowerCase().replace(dt.NOT_HOST,ft).replace(dt.PCT_ENCODED,g)),void 0!==At.path&&(At.path=String(At.path).replace(dt.PCT_ENCODED,kt).replace(At.scheme?dt.NOT_PATH:dt.NOT_PATH_NOSCHEME,ft).replace(dt.PCT_ENCODED,g)),void 0!==At.query&&(At.query=String(At.query).replace(dt.PCT_ENCODED,kt).replace(dt.NOT_QUERY,ft).replace(dt.PCT_ENCODED,g)),void 0!==At.fragment&&(At.fragment=String(At.fragment).replace(dt.PCT_ENCODED,kt).replace(dt.NOT_FRAGMENT,ft).replace(dt.PCT_ENCODED,g)),At}function Lt(At){return At.replace(/^0*(.*)/,"$1")||"0"}function Et(At,dt){var kt=At.match(dt.IPV4ADDRESS)||[],Yt=m(kt,2)[1];return Yt?Yt.split(".").map(Lt).join("."):At}function _t(At,dt){var kt=At.match(dt.IPV6ADDRESS)||[],jt=m(kt,3),Yt=jt[1],vn=jt[2];if(Yt){for(var mn=Yt.toLowerCase().split("::").reverse(),zn=m(mn,2),An=zn[0],fn=zn[1],ci=fn?fn.split(":").map(Lt):[],gi=An.split(":").map(Lt),ni=dt.IPV4ADDRESS.test(gi[gi.length-1]),Bi=ni?7:8,Xn=gi.length-Bi,Ei=Array(Bi),pi=0;pi<Bi;++pi)Ei[pi]=ci[pi]||gi[Xn+pi]||"";ni&&(Ei[Bi-1]=Et(Ei[Bi-1],dt));var ji=Ei.reduce(function(Ct,nn,Qt){if(!nn||"0"===nn){var Tn=Ct[Ct.length-1];Tn&&Tn.index+Tn.length===Qt?Tn.length++:Ct.push({index:Qt,length:1})}return Ct},[]).sort(function(Ct,nn){return nn.length-Ct.length})[0],Ti=void 0;if(ji&&ji.length>1){var nt=Ei.slice(0,ji.index),It=Ei.slice(ji.index+ji.length);Ti=nt.join(":")+"::"+It.join(":")}else Ti=Ei.join(":");return vn&&(Ti+="%"+vn),Ti}return At}var J=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,X=void 0==="".match(/(){0}/)[1];function q(At){var dt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},kt={},jt=!1!==dt.iri?E:d;"suffix"===dt.reference&&(At=(dt.scheme?dt.scheme+":":"")+"//"+At);var Yt=At.match(J);if(Yt){X?(kt.scheme=Yt[1],kt.userinfo=Yt[3],kt.host=Yt[4],kt.port=parseInt(Yt[5],10),kt.path=Yt[6]||"",kt.query=Yt[7],kt.fragment=Yt[8],isNaN(kt.port)&&(kt.port=Yt[5])):(kt.scheme=Yt[1]||void 0,kt.userinfo=-1!==At.indexOf("@")?Yt[3]:void 0,kt.host=-1!==At.indexOf("//")?Yt[4]:void 0,kt.port=parseInt(Yt[5],10),kt.path=Yt[6]||"",kt.query=-1!==At.indexOf("?")?Yt[7]:void 0,kt.fragment=-1!==At.indexOf("#")?Yt[8]:void 0,isNaN(kt.port)&&(kt.port=At.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?Yt[4]:void 0)),kt.host&&(kt.host=_t(Et(kt.host,jt),jt)),kt.reference=void 0!==kt.scheme||void 0!==kt.userinfo||void 0!==kt.host||void 0!==kt.port||kt.path||void 0!==kt.query?void 0===kt.scheme?"relative":void 0===kt.fragment?"absolute":"uri":"same-document",dt.reference&&"suffix"!==dt.reference&&dt.reference!==kt.reference&&(kt.error=kt.error||"URI is not a "+dt.reference+" reference.");var vn=Fe[(dt.scheme||kt.scheme||"").toLowerCase()];if(dt.unicodeSupport||vn&&vn.unicodeSupport)zt(kt,jt);else{if(kt.host&&(dt.domainHost||vn&&vn.domainHost))try{kt.host=st.toASCII(kt.host.replace(jt.PCT_ENCODED,Ye).toLowerCase())}catch(mn){kt.error=kt.error||"Host's domain name can not be converted to ASCII via punycode: "+mn}zt(kt,d)}vn&&vn.parse&&vn.parse(kt,dt)}else kt.error=kt.error||"URI can not be parsed.";return kt}var Ee=/^\.\.?\//,lt=/^\/\.(\/|$)/,Ue=/^\/\.\.(\/|$)/,at=/^\/?(?:.|\n)*?(?=\/|$)/;function Ot(At){for(var dt=[];At.length;)if(At.match(Ee))At=At.replace(Ee,"");else if(At.match(lt))At=At.replace(lt,"/");else if(At.match(Ue))At=At.replace(Ue,"/"),dt.pop();else if("."===At||".."===At)At="";else{var kt=At.match(at);if(!kt)throw new Error("Unexpected dot segment condition");var jt=kt[0];At=At.slice(jt.length),dt.push(jt)}return dt.join("")}function pt(At){var dt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},kt=dt.iri?E:d,jt=[],Yt=Fe[(dt.scheme||At.scheme||"").toLowerCase()];if(Yt&&Yt.serialize&&Yt.serialize(At,dt),At.host&&!kt.IPV6ADDRESS.test(At.host)&&(dt.domainHost||Yt&&Yt.domainHost))try{At.host=dt.iri?st.toUnicode(At.host):st.toASCII(At.host.replace(kt.PCT_ENCODED,Ye).toLowerCase())}catch(zn){At.error=At.error||"Host's domain name can not be converted to "+(dt.iri?"Unicode":"ASCII")+" via punycode: "+zn}zt(At,kt),"suffix"!==dt.reference&&At.scheme&&(jt.push(At.scheme),jt.push(":"));var vn=function Se(At,dt){var kt=!1!==dt.iri?E:d,jt=[];return void 0!==At.userinfo&&(jt.push(At.userinfo),jt.push("@")),void 0!==At.host&&jt.push(_t(Et(String(At.host),kt),kt).replace(kt.IPV6ADDRESS,function(Yt,vn,mn){return"["+vn+(mn?"%25"+mn:"")+"]"})),("number"==typeof At.port||"string"==typeof At.port)&&(jt.push(":"),jt.push(String(At.port))),jt.length?jt.join(""):void 0}(At,dt);if(void 0!==vn&&("suffix"!==dt.reference&&jt.push("//"),jt.push(vn),At.path&&"/"!==At.path.charAt(0)&&jt.push("/")),void 0!==At.path){var mn=At.path;!dt.absolutePath&&(!Yt||!Yt.absolutePath)&&(mn=Ot(mn)),void 0===vn&&(mn=mn.replace(/^\/\//,"/%2F")),jt.push(mn)}return void 0!==At.query&&(jt.push("?"),jt.push(At.query)),void 0!==At.fragment&&(jt.push("#"),jt.push(At.fragment)),jt.join("")}function it(At,dt){var kt=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},Yt={};return arguments[3]||(At=q(pt(At,kt),kt),dt=q(pt(dt,kt),kt)),!(kt=kt||{}).tolerant&&dt.scheme?(Yt.scheme=dt.scheme,Yt.userinfo=dt.userinfo,Yt.host=dt.host,Yt.port=dt.port,Yt.path=Ot(dt.path||""),Yt.query=dt.query):(void 0!==dt.userinfo||void 0!==dt.host||void 0!==dt.port?(Yt.userinfo=dt.userinfo,Yt.host=dt.host,Yt.port=dt.port,Yt.path=Ot(dt.path||""),Yt.query=dt.query):(dt.path?("/"===dt.path.charAt(0)?Yt.path=Ot(dt.path):(Yt.path=void 0===At.userinfo&&void 0===At.host&&void 0===At.port||At.path?At.path?At.path.slice(0,At.path.lastIndexOf("/")+1)+dt.path:dt.path:"/"+dt.path,Yt.path=Ot(Yt.path)),Yt.query=dt.query):(Yt.path=At.path,Yt.query=void 0!==dt.query?dt.query:At.query),Yt.userinfo=At.userinfo,Yt.host=At.host,Yt.port=At.port),Yt.scheme=At.scheme),Yt.fragment=dt.fragment,Yt}function ve(At,dt){return At&&At.toString().replace(dt&&dt.iri?E.PCT_ENCODED:d.PCT_ENCODED,Ye)}var ae={scheme:"http",domainHost:!0,parse:function(dt,kt){return dt.host||(dt.error=dt.error||"HTTP URIs must have a host."),dt},serialize:function(dt,kt){var jt="https"===String(dt.scheme).toLowerCase();return(dt.port===(jt?443:80)||""===dt.port)&&(dt.port=void 0),dt.path||(dt.path="/"),dt}},j={scheme:"https",domainHost:ae.domainHost,parse:ae.parse,serialize:ae.serialize};function se(At){return"boolean"==typeof At.secure?At.secure:"wss"===String(At.scheme).toLowerCase()}var Be={scheme:"ws",domainHost:!0,parse:function(dt,kt){var jt=dt;return jt.secure=se(jt),jt.resourceName=(jt.path||"/")+(jt.query?"?"+jt.query:""),jt.path=void 0,jt.query=void 0,jt},serialize:function(dt,kt){if((dt.port===(se(dt)?443:80)||""===dt.port)&&(dt.port=void 0),"boolean"==typeof dt.secure&&(dt.scheme=dt.secure?"wss":"ws",dt.secure=void 0),dt.resourceName){var jt=dt.resourceName.split("?"),Yt=m(jt,2),vn=Yt[0],mn=Yt[1];dt.path=vn&&"/"!==vn?vn:void 0,dt.query=mn,dt.resourceName=void 0}return dt.fragment=void 0,dt}},qe={scheme:"wss",domainHost:Be.domainHost,parse:Be.parse,serialize:Be.serialize},ht={},on="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",un="[0-9A-Fa-f]",Mn=e(e("%[EFef]"+un+"%"+un+un+"%"+un+un)+"|"+e("%[89A-Fa-f]"+un+"%"+un+un)+"|"+e("%"+un+un)),Tt=i("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),Gt=new RegExp(on,"g"),ct=new RegExp(Mn,"g"),yt=new RegExp(i("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',Tt),"g"),mt=new RegExp(i("[^]",on,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),xt=mt;function tn(At){var dt=Ye(At);return dt.match(Gt)?dt:At}var Sn={scheme:"mailto",parse:function(dt,kt){var jt=dt,Yt=jt.to=jt.path?jt.path.split(","):[];if(jt.path=void 0,jt.query){for(var vn=!1,mn={},zn=jt.query.split("&"),An=0,fn=zn.length;An<fn;++An){var ci=zn[An].split("=");switch(ci[0]){case"to":for(var gi=ci[1].split(","),ni=0,Bi=gi.length;ni<Bi;++ni)Yt.push(gi[ni]);break;case"subject":jt.subject=ve(ci[1],kt);break;case"body":jt.body=ve(ci[1],kt);break;default:vn=!0,mn[ve(ci[0],kt)]=ve(ci[1],kt)}}vn&&(jt.headers=mn)}jt.query=void 0;for(var Xn=0,Ei=Yt.length;Xn<Ei;++Xn){var pi=Yt[Xn].split("@");if(pi[0]=ve(pi[0]),kt.unicodeSupport)pi[1]=ve(pi[1],kt).toLowerCase();else try{pi[1]=st.toASCII(ve(pi[1],kt).toLowerCase())}catch(Gi){jt.error=jt.error||"Email address's domain name can not be converted to ASCII via punycode: "+Gi}Yt[Xn]=pi.join("@")}return jt},serialize:function(dt,kt){var jt=dt,Yt=function S(At){return null!=At?At instanceof Array?At:"number"!=typeof At.length||At.split||At.setInterval||At.call?[At]:Array.prototype.slice.call(At):[]}(dt.to);if(Yt){for(var vn=0,mn=Yt.length;vn<mn;++vn){var zn=String(Yt[vn]),An=zn.lastIndexOf("@"),fn=zn.slice(0,An).replace(ct,tn).replace(ct,g).replace(yt,ft),ci=zn.slice(An+1);try{ci=kt.iri?st.toUnicode(ci):st.toASCII(ve(ci,kt).toLowerCase())}catch(Xn){jt.error=jt.error||"Email address's domain name can not be converted to "+(kt.iri?"Unicode":"ASCII")+" via punycode: "+Xn}Yt[vn]=fn+"@"+ci}jt.path=Yt.join(",")}var gi=dt.headers=dt.headers||{};dt.subject&&(gi.subject=dt.subject),dt.body&&(gi.body=dt.body);var ni=[];for(var Bi in gi)gi[Bi]!==ht[Bi]&&ni.push(Bi.replace(ct,tn).replace(ct,g).replace(mt,ft)+"="+gi[Bi].replace(ct,tn).replace(ct,g).replace(xt,ft));return ni.length&&(jt.query=ni.join("&")),jt}},Un=/^([^\:]+)\:(.*)/,cn={scheme:"urn",parse:function(dt,kt){var jt=dt.path&&dt.path.match(Un),Yt=dt;if(jt){var vn=kt.scheme||Yt.scheme||"urn",mn=jt[1].toLowerCase(),zn=jt[2],fn=Fe[vn+":"+(kt.nid||mn)];Yt.nid=mn,Yt.nss=zn,Yt.path=void 0,fn&&(Yt=fn.parse(Yt,kt))}else Yt.error=Yt.error||"URN can not be parsed.";return Yt},serialize:function(dt,kt){var Yt=dt.nid,mn=Fe[(kt.scheme||dt.scheme||"urn")+":"+(kt.nid||Yt)];mn&&(dt=mn.serialize(dt,kt));var zn=dt;return zn.path=(Yt||kt.nid)+":"+dt.nss,zn}},di=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,li={scheme:"urn:uuid",parse:function(dt,kt){var jt=dt;return jt.uuid=jt.nss,jt.nss=void 0,!kt.tolerant&&(!jt.uuid||!jt.uuid.match(di))&&(jt.error=jt.error||"UUID is not valid."),jt},serialize:function(dt,kt){var jt=dt;return jt.nss=(dt.uuid||"").toLowerCase(),jt}};Fe[ae.scheme]=ae,Fe[j.scheme]=j,Fe[Be.scheme]=Be,Fe[qe.scheme]=qe,Fe[Sn.scheme]=Sn,Fe[cn.scheme]=cn,Fe[li.scheme]=li,u.SCHEMES=Fe,u.pctEncChar=ft,u.pctDecChars=Ye,u.parse=q,u.removeDotSegments=Ot,u.serialize=pt,u.resolveComponents=it,u.resolve=function Ht(At,dt,kt){var jt=function v(At,dt){var kt=At;if(dt)for(var jt in dt)kt[jt]=dt[jt];return kt}({scheme:"null"},kt);return pt(it(q(At,jt),q(dt,jt),jt,!0),jt)},u.normalize=function en(At,dt){return"string"==typeof At?At=pt(q(At,dt),dt):"object"===_(At)&&(At=q(pt(At,dt),dt)),At},u.equal=function rt(At,dt,kt){return"string"==typeof At?At=pt(q(At,kt),kt):"object"===_(At)&&(At=pt(At,kt)),"string"==typeof dt?dt=pt(q(dt,kt),kt):"object"===_(dt)&&(dt=pt(dt,kt)),At===dt},u.escapeComponent=function Nt(At,dt){return At&&At.toString().replace(dt&&dt.iri?E.ESCAPE:d.ESCAPE,ft)},u.unescapeComponent=ve,Object.defineProperty(u,"__esModule",{value:!0})}(me)},1108:function(et,me){var u,e;!function(_,g){"use strict";u=function(_){return function(S){S=S||{},function f(){S.arrayAccessForm=S.arrayAccessForm||"none",S.emptyNodeForm=S.emptyNodeForm||"text",S.jsAttributeFilter=S.jsAttributeFilter,S.jsAttributeConverter=S.jsAttributeConverter,S.attributeConverters=S.attributeConverters||[],S.datetimeAccessFormPaths=S.datetimeAccessFormPaths||[],S.arrayAccessFormPaths=S.arrayAccessFormPaths||[],S.xmldomOptions=S.xmldomOptions||{},void 0===S.enableToStringFunc&&(S.enableToStringFunc=!0),void 0===S.skipEmptyTextNodesForObj&&(S.skipEmptyTextNodesForObj=!0),void 0===S.stripWhitespaces&&(S.stripWhitespaces=!0),void 0===S.useDoubleQuotes&&(S.useDoubleQuotes=!0),void 0===S.ignoreRoot&&(S.ignoreRoot=!1),void 0===S.escapeMode&&(S.escapeMode=!0),void 0===S.attributePrefix&&(S.attributePrefix="_"),void 0===S.selfClosingElements&&(S.selfClosingElements=!0),void 0===S.keepCData&&(S.keepCData=!1),void 0===S.keepText&&(S.keepText=!1),void 0===S.jsDateUTC&&(S.jsDateUTC=!1)}(),function d(){function Re(xe){var Je=String(xe);return 1===Je.length&&(Je="0"+Je),Je}"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|^\n+|(\s|\n)+$/g,"")}),"function"!=typeof Date.prototype.toISOString&&(Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+Re(this.getUTCMonth()+1)+"-"+Re(this.getUTCDate())+"T"+Re(this.getUTCHours())+":"+Re(this.getUTCMinutes())+":"+Re(this.getUTCSeconds())+"."+String((this.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"})}();var E={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};function m(Re){var xe=Re.localName;return null==xe&&(xe=Re.baseName),(null==xe||""===xe)&&(xe=Re.nodeName),xe}function w(Re){return"string"==typeof Re?Re.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"):Re}function R(Re,xe,Je){if("property"===S.arrayAccessForm&&(Re[xe+"_asArray"]=Re[xe]instanceof Array?Re[xe]:[Re[xe]]),!(Re[xe]instanceof Array)&&S.arrayAccessFormPaths.length>0){for(var Te=!1,we=0;we<S.arrayAccessFormPaths.length;we++){var he=S.arrayAccessFormPaths[we];if("string"==typeof he){if(he===Je){Te=!0;break}}else if(he instanceof RegExp){if(he.test(Je)){Te=!0;break}}else if("function"==typeof he&&he(xe,Je)){Te=!0;break}}Te&&(Re[xe]=[Re[xe]])}}function k(Re){var Je=Re.split(/[-T:+Z]/g),Te=new Date(Je[0],Je[1]-1,Je[2]),we=Je[5].split(".");if(Te.setHours(Je[3],Je[4],we[0]),we.length>1&&Te.setMilliseconds(we[1]),Je[6]&&Je[7]){var he=60*Je[6]+Number(Je[7]);he=0+("-"==(/\d\d-\d\d:\d\d$/.test(Re)?"-":"+")?-1*he:he),Te.setMinutes(Te.getMinutes()-he-Te.getTimezoneOffset())}else-1!==Re.indexOf("Z",Re.length-1)&&(Te=new Date(Date.UTC(Te.getFullYear(),Te.getMonth(),Te.getDate(),Te.getHours(),Te.getMinutes(),Te.getSeconds(),Te.getMilliseconds())));return Te}function x(Re,xe){for(var Je={__cnt:0},Te=Re.childNodes,we=0;we<Te.length;we++){var he=Te.item(we),Le=m(he);he.nodeType!==E.COMMENT_NODE&&(Je.__cnt++,null==Je[Le]?(Je[Le]=$(he,xe+"."+Le),R(Je,Le,xe+"."+Le)):(Je[Le]instanceof Array||(Je[Le]=[Je[Le]],R(Je,Le,xe+"."+Le)),Je[Le][Je[Le].length]=$(he,xe+"."+Le)))}for(var Ae=0;Ae<Re.attributes.length;Ae++){var st=Re.attributes.item(Ae);Je.__cnt++;for(var Fe=st.value,ft=0;ft<S.attributeConverters.length;ft++){var Ye=S.attributeConverters[ft];Ye.test.call(null,st.name,st.value)&&(Fe=Ye.convert.call(null,st.name,st.value))}Je[S.attributePrefix+st.name]=Fe}var zt=function F(Re){return Re.prefix}(Re);return zt&&(Je.__cnt++,Je.__prefix=zt),Je["#text"]&&(Je.__text=Je["#text"],Je.__text instanceof Array&&(Je.__text=Je.__text.join("\n")),S.escapeMode&&(Je.__text=function C(Re){return Re.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&amp;/g,"&")}(Je.__text)),S.stripWhitespaces&&(Je.__text=Je.__text.trim()),delete Je["#text"],"property"===S.arrayAccessForm&&delete Je["#text_asArray"],Je.__text=function O(Re,xe,Je){if(S.datetimeAccessFormPaths.length>0)for(var Te=Je.split(".#")[0],we=0;we<S.datetimeAccessFormPaths.length;we++){var he=S.datetimeAccessFormPaths[we];if("string"==typeof he){if(he===Te)return k(Re)}else if(he instanceof RegExp){if(he.test(Te))return k(Re)}else if("function"==typeof he&&he(Te))return k(Re)}return Re}(Je.__text,0,xe+".#text")),Je.hasOwnProperty("#cdata-section")&&(Je.__cdata=Je["#cdata-section"],delete Je["#cdata-section"],"property"===S.arrayAccessForm&&delete Je["#cdata-section_asArray"]),1===Je.__cnt&&Je.__text&&!S.keepText?Je=Je.__text:0===Je.__cnt&&"text"===S.emptyNodeForm?Je="":Je.__cnt>1&&void 0!==Je.__text&&S.skipEmptyTextNodesForObj&&(S.stripWhitespaces&&""===Je.__text||""===Je.__text.trim())&&delete Je.__text,delete Je.__cnt,S.keepCData||Je.hasOwnProperty("__text")||!Je.hasOwnProperty("__cdata")||1!==Object.keys(Je).length?(S.enableToStringFunc&&(Je.__text||Je.__cdata)&&(Je.toString=function(){return(this.__text?this.__text:"")+(this.__cdata?this.__cdata:"")}),Je):Je.__cdata?Je.__cdata:""}function $(Re,xe){return Re.nodeType===E.DOCUMENT_NODE?function H(Re){for(var xe={},Je=Re.childNodes,Te=0;Te<Je.length;Te++){var we=Je.item(Te);if(we.nodeType===E.ELEMENT_NODE){var he=m(we);S.ignoreRoot?xe=$(we,he):xe[he]=$(we,he)}}return xe}(Re):Re.nodeType===E.ELEMENT_NODE?x(Re,xe):Re.nodeType===E.TEXT_NODE||Re.nodeType===E.CDATA_SECTION_NODE?Re.nodeValue:null}function U(Re,xe,Je,Te){var we="<"+(Re&&Re.__prefix?Re.__prefix+":":"")+xe;if(Je)for(var he=0;he<Je.length;he++){var Le=Je[he],Ae=Re[Le];S.escapeMode&&(Ae=w(Ae)),we+=" "+Le.substr(S.attributePrefix.length)+"=",we+=S.useDoubleQuotes?'"'+Ae+'"':"'"+Ae+"'"}return we+(Te?" />":">")}function G(Re,xe){return"</"+(Re&&Re.__prefix?Re.__prefix+":":"")+xe+">"}function le(Re,xe){return!!("property"===S.arrayAccessForm&&function ie(Re,xe){return-1!==Re.indexOf(xe,Re.length-xe.length)}(xe.toString(),"_asArray")||0===xe.toString().indexOf(S.attributePrefix)||0===xe.toString().indexOf("__")||Re[xe]instanceof Function)}function L(Re){var xe=0;if(Re instanceof Object)for(var Je in Re)le(Re,Je)||xe++;return xe}function Q(Re){var xe=[];if(Re instanceof Object)for(var Je in Re)-1===Je.toString().indexOf("__")&&0===Je.toString().indexOf(S.attributePrefix)&&xe.push(Je);return xe}function I(Re){var xe="";return Re instanceof Object?xe+=function te(Re){var xe="";return Re.__cdata&&(xe+="<![CDATA["+Re.__cdata+"]]>"),(Re.__text||"number"==typeof Re.__text||"boolean"==typeof Re.__text)&&(xe+=S.escapeMode?w(Re.__text):Re.__text),xe}(Re):null!==Re&&(xe+=S.escapeMode?w(Re):Re),xe}function Y(Re,xe,Je){var Te="";return S.jsAttributeFilter&&S.jsAttributeFilter.call(null,xe,Re)||(S.jsAttributeConverter&&(Re=S.jsAttributeConverter.call(null,xe,Re)),null!=Re&&""!==Re||!S.selfClosingElements?"object"==typeof Re?"[object Array]"===Object.prototype.toString.call(Re)?Te+=function oe(Re,xe,Je){var Te="";if(0===Re.length)Te+=U(Re,xe,Je,!0);else for(var we=0;we<Re.length;we++)Te+=Y(Re[we],xe,Q(Re[we]));return Te}(Re,xe,Je):Re instanceof Date?(Te+=U(Re,xe,Je,!1),Te+=S.jsDateUTC?Re.toUTCString():Re.toISOString(),Te+=G(Re,xe)):L(Re)>0||"number"==typeof Re.__text||"boolean"==typeof Re.__text||Re.__text||Re.__cdata?(Te+=U(Re,xe,Je,!1),Te+=_e(Re),Te+=G(Re,xe)):S.selfClosingElements?Te+=U(Re,xe,Je,!0):(Te+=U(Re,xe,Je,!1),Te+=G(Re,xe)):(Te+=U(Re,xe,Je,!1),Te+=I(Re),Te+=G(Re,xe)):Te+=U(Re,xe,Je,!0)),Te}function _e(Re){var xe="";if(L(Re)>0)for(var Te in Re)if(!le(Re,Te)){var we=Re[Te];xe+=Y(we,Te,Q(we))}return xe+I(Re)}function Oe(Re){if(void 0===Re||"string"!=typeof Re)return null;var xe=null,Je=null;if(_)Je=(xe=new _(S.xmldomOptions)).parseFromString(Re,"text/xml");else if(window&&window.DOMParser){xe=new window.DOMParser;var Te=null;if(!window.ActiveXObject&&!("ActiveXObject"in window)&&document.all&&!document.addEventListener)try{Te=xe.parseFromString("INVALID","text/xml").childNodes[0].namespaceURI}catch{Te=null}try{Je=xe.parseFromString(Re,"text/xml"),null!==Te&&Je.getElementsByTagNameNS(Te,"parsererror").length>0&&(Je=null)}catch{Je=null}}else 0===Re.indexOf("<?")&&(Re=Re.substr(Re.indexOf("?>")+2)),(Je=new ActiveXObject("Microsoft.XMLDOM")).async="false",Je.loadXML(Re);return Je}this.asArray=function(xe){return null==xe?[]:xe instanceof Array?xe:[xe]},this.toXmlDateTime=function(xe){return xe instanceof Date?xe.toISOString():"number"==typeof xe?new Date(xe).toISOString():null},this.asDateTime=function(xe){return"string"==typeof xe?k(xe):xe},this.xml2dom=function(xe){return Oe(xe)},this.dom2js=function(xe){return $(xe,null)},this.js2dom=function(xe){return Oe(this.js2xml(xe))},this.xml2js=function(xe){var Je=Oe(xe);return null!=Je?this.dom2js(Je):null},this.js2xml=function(xe){return _e(xe)},this.getVersion=function(){return"3.4.4"}}},void 0!==(e=u.apply(me,[]))&&(et.exports=e)}()},310:()=>{},9969:(et,me,u)=>{"use strict";u.d(me,{FX:()=>te,If:()=>i,K2:()=>v,hZ:()=>_,i0:()=>g,iF:()=>f,kY:()=>m,kp:()=>e,sf:()=>L,ui:()=>Q,wk:()=>d});var i=function(I){return I[I.State=0]="State",I[I.Transition=1]="Transition",I[I.Sequence=2]="Sequence",I[I.Group=3]="Group",I[I.Animate=4]="Animate",I[I.Keyframes=5]="Keyframes",I[I.Style=6]="Style",I[I.Trigger=7]="Trigger",I[I.Reference=8]="Reference",I[I.AnimateChild=9]="AnimateChild",I[I.AnimateRef=10]="AnimateRef",I[I.Query=11]="Query",I[I.Stagger=12]="Stagger",I}(i||{});const e="*";function _(I,oe){return{type:i.Trigger,name:I,definitions:oe,options:{}}}function g(I,oe=null){return{type:i.Animate,styles:oe,timings:I}}function v(I,oe=null){return{type:i.Sequence,steps:I,options:oe}}function f(I){return{type:i.Style,styles:I,offset:null}}function d(I,oe,Y){return{type:i.State,name:I,styles:oe,options:Y}}function m(I,oe,Y=null){return{type:i.Transition,expr:I,animation:oe,options:Y}}class L{constructor(oe=0,Y=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=oe+Y}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(oe=>oe()),this._onDoneFns=[])}onStart(oe){this._originalOnStartFns.push(oe),this._onStartFns.push(oe)}onDone(oe){this._originalOnDoneFns.push(oe),this._onDoneFns.push(oe)}onDestroy(oe){this._onDestroyFns.push(oe)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(oe=>oe()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(oe=>oe()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(oe){this._position=this.totalTime?oe*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(oe){const Y="start"==oe?this._onStartFns:this._onDoneFns;Y.forEach(_e=>_e()),Y.length=0}}class Q{constructor(oe){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=oe;let Y=0,_e=0,Oe=0;const Re=this.players.length;0==Re?queueMicrotask(()=>this._onFinish()):this.players.forEach(xe=>{xe.onDone(()=>{++Y==Re&&this._onFinish()}),xe.onDestroy(()=>{++_e==Re&&this._onDestroy()}),xe.onStart(()=>{++Oe==Re&&this._onStart()})}),this.totalTime=this.players.reduce((xe,Je)=>Math.max(xe,Je.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(oe=>oe()),this._onDoneFns=[])}init(){this.players.forEach(oe=>oe.init())}onStart(oe){this._onStartFns.push(oe)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(oe=>oe()),this._onStartFns=[])}onDone(oe){this._onDoneFns.push(oe)}onDestroy(oe){this._onDestroyFns.push(oe)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(oe=>oe.play())}pause(){this.players.forEach(oe=>oe.pause())}restart(){this.players.forEach(oe=>oe.restart())}finish(){this._onFinish(),this.players.forEach(oe=>oe.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(oe=>oe.destroy()),this._onDestroyFns.forEach(oe=>oe()),this._onDestroyFns=[])}reset(){this.players.forEach(oe=>oe.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(oe){const Y=oe*this.totalTime;this.players.forEach(_e=>{const Oe=_e.totalTime?Math.min(1,Y/_e.totalTime):1;_e.setPosition(Oe)})}getPosition(){const oe=this.players.reduce((Y,_e)=>null===Y||_e.totalTime>Y.totalTime?_e:Y,null);return null!=oe?oe.getPosition():0}beforeDestroy(){this.players.forEach(oe=>{oe.beforeDestroy&&oe.beforeDestroy()})}triggerCallback(oe){const Y="start"==oe?this._onStartFns:this._onDoneFns;Y.forEach(_e=>_e()),Y.length=0}}const te="!"},177:(et,me,u)=>{"use strict";u.d(me,{AJ:()=>ns,MD:()=>kr,N0:()=>Yo,P9:()=>Gr,Pc:()=>Os,QT:()=>_,QX:()=>xr,Sm:()=>O,Sq:()=>Qe,T3:()=>ri,UE:()=>yr,VF:()=>S,Vy:()=>is,XO:()=>xe,Xr:()=>mo,YU:()=>Qt,Yq:()=>ve,ZD:()=>g,_b:()=>It,aZ:()=>x,bT:()=>ue,cH:()=>I,fw:()=>H,hb:()=>R,hj:()=>E,lG:()=>wr,oV:()=>te,qQ:()=>f,tL:()=>Je});var i=u(4438);let e=null;function _(){return e}function g(ne){e??=ne}class S{}const f=new i.nKC("");let d=(()=>{class ne{historyGo(fe){throw new Error("")}static{this.\u0275fac=function(Pe){return new(Pe||ne)}}static{this.\u0275prov=i.jDH({token:ne,factory:()=>(0,i.WQX)(m),providedIn:"platform"})}}return ne})();const E=new i.nKC("");let m=(()=>{class ne extends d{constructor(){super(),this._doc=(0,i.WQX)(f),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return _().getBaseHref(this._doc)}onPopState(fe){const Pe=_().getGlobalEventTarget(this._doc,"window");return Pe.addEventListener("popstate",fe,!1),()=>Pe.removeEventListener("popstate",fe)}onHashChange(fe){const Pe=_().getGlobalEventTarget(this._doc,"window");return Pe.addEventListener("hashchange",fe,!1),()=>Pe.removeEventListener("hashchange",fe)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(fe){this._location.pathname=fe}pushState(fe,Pe,Dt){this._history.pushState(fe,Pe,Dt)}replaceState(fe,Pe,Dt){this._history.replaceState(fe,Pe,Dt)}forward(){this._history.forward()}back(){this._history.back()}historyGo(fe=0){this._history.go(fe)}getState(){return this._history.state}static{this.\u0275fac=function(Pe){return new(Pe||ne)}}static{this.\u0275prov=i.jDH({token:ne,factory:()=>new ne,providedIn:"platform"})}}return ne})();function F(ne,Ke){if(0==ne.length)return Ke;if(0==Ke.length)return ne;let fe=0;return ne.endsWith("/")&&fe++,Ke.startsWith("/")&&fe++,2==fe?ne+Ke.substring(1):1==fe?ne+Ke:ne+"/"+Ke}function w(ne){const Ke=ne.match(/#|\?|$/),fe=Ke&&Ke.index||ne.length;return ne.slice(0,fe-("/"===ne[fe-1]?1:0))+ne.slice(fe)}function C(ne){return ne&&"?"!==ne[0]?"?"+ne:ne}let R=(()=>{class ne{historyGo(fe){throw new Error("")}static{this.\u0275fac=function(Pe){return new(Pe||ne)}}static{this.\u0275prov=i.jDH({token:ne,factory:()=>(0,i.WQX)(O),providedIn:"root"})}}return ne})();const k=new i.nKC("");let O=(()=>{class ne extends R{constructor(fe,Pe){super(),this._platformLocation=fe,this._removeListenerFns=[],this._baseHref=Pe??this._platformLocation.getBaseHrefFromDOM()??(0,i.WQX)(f).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(fe){this._removeListenerFns.push(this._platformLocation.onPopState(fe),this._platformLocation.onHashChange(fe))}getBaseHref(){return this._baseHref}prepareExternalUrl(fe){return F(this._baseHref,fe)}path(fe=!1){const Pe=this._platformLocation.pathname+C(this._platformLocation.search),Dt=this._platformLocation.hash;return Dt&&fe?`${Pe}${Dt}`:Pe}pushState(fe,Pe,Dt,hn){const En=this.prepareExternalUrl(Dt+C(hn));this._platformLocation.pushState(fe,Pe,En)}replaceState(fe,Pe,Dt,hn){const En=this.prepareExternalUrl(Dt+C(hn));this._platformLocation.replaceState(fe,Pe,En)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(fe=0){this._platformLocation.historyGo?.(fe)}static{this.\u0275fac=function(Pe){return new(Pe||ne)(i.KVO(d),i.KVO(k,8))}}static{this.\u0275prov=i.jDH({token:ne,factory:ne.\u0275fac,providedIn:"root"})}}return ne})(),H=(()=>{class ne extends R{constructor(fe,Pe){super(),this._platformLocation=fe,this._baseHref="",this._removeListenerFns=[],null!=Pe&&(this._baseHref=Pe)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(fe){this._removeListenerFns.push(this._platformLocation.onPopState(fe),this._platformLocation.onHashChange(fe))}getBaseHref(){return this._baseHref}path(fe=!1){const Pe=this._platformLocation.hash??"#";return Pe.length>0?Pe.substring(1):Pe}prepareExternalUrl(fe){const Pe=F(this._baseHref,fe);return Pe.length>0?"#"+Pe:Pe}pushState(fe,Pe,Dt,hn){let En=this.prepareExternalUrl(Dt+C(hn));0==En.length&&(En=this._platformLocation.pathname),this._platformLocation.pushState(fe,Pe,En)}replaceState(fe,Pe,Dt,hn){let En=this.prepareExternalUrl(Dt+C(hn));0==En.length&&(En=this._platformLocation.pathname),this._platformLocation.replaceState(fe,Pe,En)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(fe=0){this._platformLocation.historyGo?.(fe)}static{this.\u0275fac=function(Pe){return new(Pe||ne)(i.KVO(d),i.KVO(k,8))}}static{this.\u0275prov=i.jDH({token:ne,factory:ne.\u0275fac})}}return ne})(),x=(()=>{class ne{constructor(fe){this._subject=new i.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=fe;const Pe=this._locationStrategy.getBaseHref();this._basePath=function ie(ne){if(new RegExp("^(https?:)?//").test(ne)){const[,fe]=ne.split(/\/\/[^\/]+/);return fe}return ne}(w(G(Pe))),this._locationStrategy.onPopState(Dt=>{this._subject.emit({url:this.path(!0),pop:!0,state:Dt.state,type:Dt.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(fe=!1){return this.normalize(this._locationStrategy.path(fe))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(fe,Pe=""){return this.path()==this.normalize(fe+C(Pe))}normalize(fe){return ne.stripTrailingSlash(function U(ne,Ke){if(!ne||!Ke.startsWith(ne))return Ke;const fe=Ke.substring(ne.length);return""===fe||["/",";","?","#"].includes(fe[0])?fe:Ke}(this._basePath,G(fe)))}prepareExternalUrl(fe){return fe&&"/"!==fe[0]&&(fe="/"+fe),this._locationStrategy.prepareExternalUrl(fe)}go(fe,Pe="",Dt=null){this._locationStrategy.pushState(Dt,"",fe,Pe),this._notifyUrlChangeListeners(this.prepareExternalUrl(fe+C(Pe)),Dt)}replaceState(fe,Pe="",Dt=null){this._locationStrategy.replaceState(Dt,"",fe,Pe),this._notifyUrlChangeListeners(this.prepareExternalUrl(fe+C(Pe)),Dt)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(fe=0){this._locationStrategy.historyGo?.(fe)}onUrlChange(fe){return this._urlChangeListeners.push(fe),this._urlChangeSubscription??=this.subscribe(Pe=>{this._notifyUrlChangeListeners(Pe.url,Pe.state)}),()=>{const Pe=this._urlChangeListeners.indexOf(fe);this._urlChangeListeners.splice(Pe,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(fe="",Pe){this._urlChangeListeners.forEach(Dt=>Dt(fe,Pe))}subscribe(fe,Pe,Dt){return this._subject.subscribe({next:fe,error:Pe,complete:Dt})}static{this.normalizeQueryParams=C}static{this.joinWithSlash=F}static{this.stripTrailingSlash=w}static{this.\u0275fac=function(Pe){return new(Pe||ne)(i.KVO(R))}}static{this.\u0275prov=i.jDH({token:ne,factory:()=>function $(){return new x((0,i.KVO)(R))}(),providedIn:"root"})}}return ne})();function G(ne){return ne.replace(/\/index.html$/,"")}var L=function(ne){return ne[ne.Decimal=0]="Decimal",ne[ne.Percent=1]="Percent",ne[ne.Currency=2]="Currency",ne[ne.Scientific=3]="Scientific",ne}(L||{}),te=function(ne){return ne[ne.Format=0]="Format",ne[ne.Standalone=1]="Standalone",ne}(te||{}),I=function(ne){return ne[ne.Narrow=0]="Narrow",ne[ne.Abbreviated=1]="Abbreviated",ne[ne.Wide=2]="Wide",ne[ne.Short=3]="Short",ne}(I||{}),oe=function(ne){return ne[ne.Short=0]="Short",ne[ne.Medium=1]="Medium",ne[ne.Long=2]="Long",ne[ne.Full=3]="Full",ne}(oe||{});const Y={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function xe(ne,Ke,fe){const Pe=(0,i.H5H)(ne),hn=Ee([Pe[i.KH2.DaysFormat],Pe[i.KH2.DaysStandalone]],Ke);return Ee(hn,fe)}function Je(ne,Ke,fe){const Pe=(0,i.H5H)(ne),hn=Ee([Pe[i.KH2.MonthsFormat],Pe[i.KH2.MonthsStandalone]],Ke);return Ee(hn,fe)}function Le(ne,Ke){return Ee((0,i.H5H)(ne)[i.KH2.DateFormat],Ke)}function Ae(ne,Ke){return Ee((0,i.H5H)(ne)[i.KH2.TimeFormat],Ke)}function st(ne,Ke){return Ee((0,i.H5H)(ne)[i.KH2.DateTimeFormat],Ke)}function Fe(ne,Ke){const fe=(0,i.H5H)(ne),Pe=fe[i.KH2.NumberSymbols][Ke];if(typeof Pe>"u"){if(Ke===Y.CurrencyDecimal)return fe[i.KH2.NumberSymbols][Y.Decimal];if(Ke===Y.CurrencyGroup)return fe[i.KH2.NumberSymbols][Y.Group]}return Pe}function J(ne){if(!ne[i.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${ne[i.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Ee(ne,Ke){for(let fe=Ke;fe>-1;fe--)if(typeof ne[fe]<"u")return ne[fe];throw new Error("Locale data API: locale data undefined")}function lt(ne){const[Ke,fe]=ne.split(":");return{hours:+Ke,minutes:+fe}}const pt=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,it={},Ht=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var en=function(ne){return ne[ne.Short=0]="Short",ne[ne.ShortGMT=1]="ShortGMT",ne[ne.Long=2]="Long",ne[ne.Extended=3]="Extended",ne}(en||{}),rt=function(ne){return ne[ne.FullYear=0]="FullYear",ne[ne.Month=1]="Month",ne[ne.Date=2]="Date",ne[ne.Hours=3]="Hours",ne[ne.Minutes=4]="Minutes",ne[ne.Seconds=5]="Seconds",ne[ne.FractionalSeconds=6]="FractionalSeconds",ne[ne.Day=7]="Day",ne}(rt||{}),Nt=function(ne){return ne[ne.DayPeriods=0]="DayPeriods",ne[ne.Days=1]="Days",ne[ne.Months=2]="Months",ne[ne.Eras=3]="Eras",ne}(Nt||{});function ve(ne,Ke,fe,Pe){let Dt=function Un(ne){if(di(ne))return ne;if("number"==typeof ne&&!isNaN(ne))return new Date(ne);if("string"==typeof ne){if(ne=ne.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(ne)){const[Dt,hn=1,En=1]=ne.split("-").map(qn=>+qn);return ae(Dt,hn-1,En)}const fe=parseFloat(ne);if(!isNaN(ne-fe))return new Date(fe);let Pe;if(Pe=ne.match(pt))return function cn(ne){const Ke=new Date(0);let fe=0,Pe=0;const Dt=ne[8]?Ke.setUTCFullYear:Ke.setFullYear,hn=ne[8]?Ke.setUTCHours:Ke.setHours;ne[9]&&(fe=Number(ne[9]+ne[10]),Pe=Number(ne[9]+ne[11])),Dt.call(Ke,Number(ne[1]),Number(ne[2])-1,Number(ne[3]));const En=Number(ne[4]||0)-fe,qn=Number(ne[5]||0)-Pe,dr=Number(ne[6]||0),sr=Math.floor(1e3*parseFloat("0."+(ne[7]||0)));return hn.call(Ke,En,qn,dr,sr),Ke}(Pe)}const Ke=new Date(ne);if(!di(Ke))throw new Error(`Unable to convert "${ne}" into a date`);return Ke}(ne);Ke=j(fe,Ke)||Ke;let qn,En=[];for(;Ke;){if(qn=Ht.exec(Ke),!qn){En.push(Ke);break}{En=En.concat(qn.slice(1));const Yi=En.pop();if(!Yi)break;Ke=Yi}}let dr=Dt.getTimezoneOffset();Pe&&(dr=xt(Pe,dr),Dt=function Sn(ne,Ke,fe){const Pe=fe?-1:1,Dt=ne.getTimezoneOffset();return function tn(ne,Ke){return(ne=new Date(ne.getTime())).setMinutes(ne.getMinutes()+Ke),ne}(ne,Pe*(xt(Ke,Dt)-Dt))}(Dt,Pe,!0));let sr="";return En.forEach(Yi=>{const Ui=function mt(ne){if(yt[ne])return yt[ne];let Ke;switch(ne){case"G":case"GG":case"GGG":Ke=on(Nt.Eras,I.Abbreviated);break;case"GGGG":Ke=on(Nt.Eras,I.Wide);break;case"GGGGG":Ke=on(Nt.Eras,I.Narrow);break;case"y":Ke=ht(rt.FullYear,1,0,!1,!0);break;case"yy":Ke=ht(rt.FullYear,2,0,!0,!0);break;case"yyy":Ke=ht(rt.FullYear,3,0,!1,!0);break;case"yyyy":Ke=ht(rt.FullYear,4,0,!1,!0);break;case"Y":Ke=ct(1);break;case"YY":Ke=ct(2,!0);break;case"YYY":Ke=ct(3);break;case"YYYY":Ke=ct(4);break;case"M":case"L":Ke=ht(rt.Month,1,1);break;case"MM":case"LL":Ke=ht(rt.Month,2,1);break;case"MMM":Ke=on(Nt.Months,I.Abbreviated);break;case"MMMM":Ke=on(Nt.Months,I.Wide);break;case"MMMMM":Ke=on(Nt.Months,I.Narrow);break;case"LLL":Ke=on(Nt.Months,I.Abbreviated,te.Standalone);break;case"LLLL":Ke=on(Nt.Months,I.Wide,te.Standalone);break;case"LLLLL":Ke=on(Nt.Months,I.Narrow,te.Standalone);break;case"w":Ke=Gt(1);break;case"ww":Ke=Gt(2);break;case"W":Ke=Gt(1,!0);break;case"d":Ke=ht(rt.Date,1);break;case"dd":Ke=ht(rt.Date,2);break;case"c":case"cc":Ke=ht(rt.Day,1);break;case"ccc":Ke=on(Nt.Days,I.Abbreviated,te.Standalone);break;case"cccc":Ke=on(Nt.Days,I.Wide,te.Standalone);break;case"ccccc":Ke=on(Nt.Days,I.Narrow,te.Standalone);break;case"cccccc":Ke=on(Nt.Days,I.Short,te.Standalone);break;case"E":case"EE":case"EEE":Ke=on(Nt.Days,I.Abbreviated);break;case"EEEE":Ke=on(Nt.Days,I.Wide);break;case"EEEEE":Ke=on(Nt.Days,I.Narrow);break;case"EEEEEE":Ke=on(Nt.Days,I.Short);break;case"a":case"aa":case"aaa":Ke=on(Nt.DayPeriods,I.Abbreviated);break;case"aaaa":Ke=on(Nt.DayPeriods,I.Wide);break;case"aaaaa":Ke=on(Nt.DayPeriods,I.Narrow);break;case"b":case"bb":case"bbb":Ke=on(Nt.DayPeriods,I.Abbreviated,te.Standalone,!0);break;case"bbbb":Ke=on(Nt.DayPeriods,I.Wide,te.Standalone,!0);break;case"bbbbb":Ke=on(Nt.DayPeriods,I.Narrow,te.Standalone,!0);break;case"B":case"BB":case"BBB":Ke=on(Nt.DayPeriods,I.Abbreviated,te.Format,!0);break;case"BBBB":Ke=on(Nt.DayPeriods,I.Wide,te.Format,!0);break;case"BBBBB":Ke=on(Nt.DayPeriods,I.Narrow,te.Format,!0);break;case"h":Ke=ht(rt.Hours,1,-12);break;case"hh":Ke=ht(rt.Hours,2,-12);break;case"H":Ke=ht(rt.Hours,1);break;case"HH":Ke=ht(rt.Hours,2);break;case"m":Ke=ht(rt.Minutes,1);break;case"mm":Ke=ht(rt.Minutes,2);break;case"s":Ke=ht(rt.Seconds,1);break;case"ss":Ke=ht(rt.Seconds,2);break;case"S":Ke=ht(rt.FractionalSeconds,1);break;case"SS":Ke=ht(rt.FractionalSeconds,2);break;case"SSS":Ke=ht(rt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":Ke=Mn(en.Short);break;case"ZZZZZ":Ke=Mn(en.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":Ke=Mn(en.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":Ke=Mn(en.Long);break;default:return null}return yt[ne]=Ke,Ke}(Yi);sr+=Ui?Ui(Dt,fe,dr):"''"===Yi?"'":Yi.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),sr}function ae(ne,Ke,fe){const Pe=new Date(0);return Pe.setFullYear(ne,Ke,fe),Pe.setHours(0,0,0),Pe}function j(ne,Ke){const fe=function Oe(ne){return(0,i.H5H)(ne)[i.KH2.LocaleId]}(ne);if(it[fe]??={},it[fe][Ke])return it[fe][Ke];let Pe="";switch(Ke){case"shortDate":Pe=Le(ne,oe.Short);break;case"mediumDate":Pe=Le(ne,oe.Medium);break;case"longDate":Pe=Le(ne,oe.Long);break;case"fullDate":Pe=Le(ne,oe.Full);break;case"shortTime":Pe=Ae(ne,oe.Short);break;case"mediumTime":Pe=Ae(ne,oe.Medium);break;case"longTime":Pe=Ae(ne,oe.Long);break;case"fullTime":Pe=Ae(ne,oe.Full);break;case"short":const Dt=j(ne,"shortTime"),hn=j(ne,"shortDate");Pe=se(st(ne,oe.Short),[Dt,hn]);break;case"medium":const En=j(ne,"mediumTime"),qn=j(ne,"mediumDate");Pe=se(st(ne,oe.Medium),[En,qn]);break;case"long":const dr=j(ne,"longTime"),sr=j(ne,"longDate");Pe=se(st(ne,oe.Long),[dr,sr]);break;case"full":const Yi=j(ne,"fullTime"),Ui=j(ne,"fullDate");Pe=se(st(ne,oe.Full),[Yi,Ui])}return Pe&&(it[fe][Ke]=Pe),Pe}function se(ne,Ke){return Ke&&(ne=ne.replace(/\{([^}]+)}/g,function(fe,Pe){return null!=Ke&&Pe in Ke?Ke[Pe]:fe})),ne}function Be(ne,Ke,fe="-",Pe,Dt){let hn="";(ne<0||Dt&&ne<=0)&&(Dt?ne=1-ne:(ne=-ne,hn=fe));let En=String(ne);for(;En.length<Ke;)En="0"+En;return Pe&&(En=En.slice(En.length-Ke)),hn+En}function ht(ne,Ke,fe=0,Pe=!1,Dt=!1){return function(hn,En){let qn=function Ft(ne,Ke){switch(ne){case rt.FullYear:return Ke.getFullYear();case rt.Month:return Ke.getMonth();case rt.Date:return Ke.getDate();case rt.Hours:return Ke.getHours();case rt.Minutes:return Ke.getMinutes();case rt.Seconds:return Ke.getSeconds();case rt.FractionalSeconds:return Ke.getMilliseconds();case rt.Day:return Ke.getDay();default:throw new Error(`Unknown DateType value "${ne}".`)}}(ne,hn);if((fe>0||qn>-fe)&&(qn+=fe),ne===rt.Hours)0===qn&&-12===fe&&(qn=12);else if(ne===rt.FractionalSeconds)return function qe(ne,Ke){return Be(ne,3).substring(0,Ke)}(qn,Ke);const dr=Fe(En,Y.MinusSign);return Be(qn,Ke,dr,Pe,Dt)}}function on(ne,Ke,fe=te.Format,Pe=!1){return function(Dt,hn){return function un(ne,Ke,fe,Pe,Dt,hn){switch(fe){case Nt.Months:return Je(Ke,Dt,Pe)[ne.getMonth()];case Nt.Days:return xe(Ke,Dt,Pe)[ne.getDay()];case Nt.DayPeriods:const En=ne.getHours(),qn=ne.getMinutes();if(hn){const sr=function X(ne){const Ke=(0,i.H5H)(ne);return J(Ke),(Ke[i.KH2.ExtraData][2]||[]).map(Pe=>"string"==typeof Pe?lt(Pe):[lt(Pe[0]),lt(Pe[1])])}(Ke),Yi=function q(ne,Ke,fe){const Pe=(0,i.H5H)(ne);J(Pe);const hn=Ee([Pe[i.KH2.ExtraData][0],Pe[i.KH2.ExtraData][1]],Ke)||[];return Ee(hn,fe)||[]}(Ke,Dt,Pe),Ui=sr.findIndex(ii=>{if(Array.isArray(ii)){const[Xi,cr]=ii,ye=En>=Xi.hours&&qn>=Xi.minutes,P=En<cr.hours||En===cr.hours&&qn<cr.minutes;if(Xi.hours<cr.hours){if(ye&&P)return!0}else if(ye||P)return!0}else if(ii.hours===En&&ii.minutes===qn)return!0;return!1});if(-1!==Ui)return Yi[Ui]}return function Re(ne,Ke,fe){const Pe=(0,i.H5H)(ne),hn=Ee([Pe[i.KH2.DayPeriodsFormat],Pe[i.KH2.DayPeriodsStandalone]],Ke);return Ee(hn,fe)}(Ke,Dt,Pe)[En<12?0:1];case Nt.Eras:return function Te(ne,Ke){return Ee((0,i.H5H)(ne)[i.KH2.Eras],Ke)}(Ke,Pe)[ne.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${fe}`)}}(Dt,hn,ne,Ke,fe,Pe)}}function Mn(ne){return function(Ke,fe,Pe){const Dt=-1*Pe,hn=Fe(fe,Y.MinusSign),En=Dt>0?Math.floor(Dt/60):Math.ceil(Dt/60);switch(ne){case en.Short:return(Dt>=0?"+":"")+Be(En,2,hn)+Be(Math.abs(Dt%60),2,hn);case en.ShortGMT:return"GMT"+(Dt>=0?"+":"")+Be(En,1,hn);case en.Long:return"GMT"+(Dt>=0?"+":"")+Be(En,2,hn)+":"+Be(Math.abs(Dt%60),2,hn);case en.Extended:return 0===Pe?"Z":(Dt>=0?"+":"")+Be(En,2,hn)+":"+Be(Math.abs(Dt%60),2,hn);default:throw new Error(`Unknown zone width "${ne}"`)}}}const kn=0,Bn=4;function Rn(ne){const Ke=ne.getDay(),fe=0===Ke?-3:Bn-Ke;return ae(ne.getFullYear(),ne.getMonth(),ne.getDate()+fe)}function Gt(ne,Ke=!1){return function(fe,Pe){let Dt;if(Ke){const hn=new Date(fe.getFullYear(),fe.getMonth(),1).getDay()-1,En=fe.getDate();Dt=1+Math.floor((En+hn)/7)}else{const hn=Rn(fe),En=function Tt(ne){const Ke=ae(ne,kn,1).getDay();return ae(ne,0,1+(Ke<=Bn?Bn:Bn+7)-Ke)}(hn.getFullYear()),qn=hn.getTime()-En.getTime();Dt=1+Math.round(qn/6048e5)}return Be(Dt,ne,Fe(Pe,Y.MinusSign))}}function ct(ne,Ke=!1){return function(fe,Pe){return Be(Rn(fe).getFullYear(),ne,Fe(Pe,Y.MinusSign),Ke)}}const yt={};function xt(ne,Ke){ne=ne.replace(/:/g,"");const fe=Date.parse("Jan 01, 1970 00:00:00 "+ne)/6e4;return isNaN(fe)?Ke:fe}function di(ne){return ne instanceof Date&&!isNaN(ne.valueOf())}const li=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function pi(ne){const Ke=parseInt(ne);if(isNaN(Ke))throw new Error("Invalid integer literal when parsing "+ne);return Ke}function It(ne,Ke){Ke=encodeURIComponent(Ke);for(const fe of ne.split(";")){const Pe=fe.indexOf("="),[Dt,hn]=-1==Pe?[fe,""]:[fe.slice(0,Pe),fe.slice(Pe+1)];if(Dt.trim()===Ke)return decodeURIComponent(hn)}return null}const Ct=/\s+/,nn=[];let Qt=(()=>{class ne{constructor(fe,Pe){this._ngEl=fe,this._renderer=Pe,this.initialClasses=nn,this.stateMap=new Map}set klass(fe){this.initialClasses=null!=fe?fe.trim().split(Ct):nn}set ngClass(fe){this.rawClass="string"==typeof fe?fe.trim().split(Ct):fe}ngDoCheck(){for(const Pe of this.initialClasses)this._updateState(Pe,!0);const fe=this.rawClass;if(Array.isArray(fe)||fe instanceof Set)for(const Pe of fe)this._updateState(Pe,!0);else if(null!=fe)for(const Pe of Object.keys(fe))this._updateState(Pe,!!fe[Pe]);this._applyStateDiff()}_updateState(fe,Pe){const Dt=this.stateMap.get(fe);void 0!==Dt?(Dt.enabled!==Pe&&(Dt.changed=!0,Dt.enabled=Pe),Dt.touched=!0):this.stateMap.set(fe,{enabled:Pe,changed:!0,touched:!0})}_applyStateDiff(){for(const fe of this.stateMap){const Pe=fe[0],Dt=fe[1];Dt.changed?(this._toggleClass(Pe,Dt.enabled),Dt.changed=!1):Dt.touched||(Dt.enabled&&this._toggleClass(Pe,!1),this.stateMap.delete(Pe)),Dt.touched=!1}}_toggleClass(fe,Pe){(fe=fe.trim()).length>0&&fe.split(Ct).forEach(Dt=>{Pe?this._renderer.addClass(this._ngEl.nativeElement,Dt):this._renderer.removeClass(this._ngEl.nativeElement,Dt)})}static{this.\u0275fac=function(Pe){return new(Pe||ne)(i.rXU(i.aKT),i.rXU(i.sFG))}}static{this.\u0275dir=i.FsC({type:ne,selectors:[["","ngClass",""]],inputs:{klass:[i.Mj6.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return ne})();class $e{constructor(Ke,fe,Pe,Dt){this.$implicit=Ke,this.ngForOf=fe,this.index=Pe,this.count=Dt}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Qe=(()=>{class ne{set ngForOf(fe){this._ngForOf=fe,this._ngForOfDirty=!0}set ngForTrackBy(fe){this._trackByFn=fe}get ngForTrackBy(){return this._trackByFn}constructor(fe,Pe,Dt){this._viewContainer=fe,this._template=Pe,this._differs=Dt,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(fe){fe&&(this._template=fe)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const fe=this._ngForOf;!this._differ&&fe&&(this._differ=this._differs.find(fe).create(this.ngForTrackBy))}if(this._differ){const fe=this._differ.diff(this._ngForOf);fe&&this._applyChanges(fe)}}_applyChanges(fe){const Pe=this._viewContainer;fe.forEachOperation((Dt,hn,En)=>{if(null==Dt.previousIndex)Pe.createEmbeddedView(this._template,new $e(Dt.item,this._ngForOf,-1,-1),null===En?void 0:En);else if(null==En)Pe.remove(null===hn?void 0:hn);else if(null!==hn){const qn=Pe.get(hn);Pe.move(qn,En),K(qn,Dt)}});for(let Dt=0,hn=Pe.length;Dt<hn;Dt++){const qn=Pe.get(Dt).context;qn.index=Dt,qn.count=hn,qn.ngForOf=this._ngForOf}fe.forEachIdentityChange(Dt=>{K(Pe.get(Dt.currentIndex),Dt)})}static ngTemplateContextGuard(fe,Pe){return!0}static{this.\u0275fac=function(Pe){return new(Pe||ne)(i.rXU(i.c1b),i.rXU(i.C4Q),i.rXU(i._q3))}}static{this.\u0275dir=i.FsC({type:ne,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return ne})();function K(ne,Ke){ne.context.$implicit=Ke.item}let ue=(()=>{class ne{constructor(fe,Pe){this._viewContainer=fe,this._context=new ze,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Pe}set ngIf(fe){this._context.$implicit=this._context.ngIf=fe,this._updateView()}set ngIfThen(fe){Wt("ngIfThen",fe),this._thenTemplateRef=fe,this._thenViewRef=null,this._updateView()}set ngIfElse(fe){Wt("ngIfElse",fe),this._elseTemplateRef=fe,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(fe,Pe){return!0}static{this.\u0275fac=function(Pe){return new(Pe||ne)(i.rXU(i.c1b),i.rXU(i.C4Q))}}static{this.\u0275dir=i.FsC({type:ne,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return ne})();class ze{constructor(){this.$implicit=null,this.ngIf=null}}function Wt(ne,Ke){if(Ke&&!Ke.createEmbeddedView)throw new Error(`${ne} must be a TemplateRef, but received '${(0,i.Tbb)(Ke)}'.`)}let ri=(()=>{class ne{constructor(fe){this._viewContainerRef=fe,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(fe){if(this._shouldRecreateView(fe)){const Pe=this._viewContainerRef;if(this._viewRef&&Pe.remove(Pe.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const Dt=this._createContextForwardProxy();this._viewRef=Pe.createEmbeddedView(this.ngTemplateOutlet,Dt,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(fe){return!!fe.ngTemplateOutlet||!!fe.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(fe,Pe,Dt)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,Pe,Dt),get:(fe,Pe,Dt)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,Pe,Dt)}})}static{this.\u0275fac=function(Pe){return new(Pe||ne)(i.rXU(i.c1b))}}static{this.\u0275dir=i.FsC({type:ne,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[i.OA$]})}}return ne})();function xi(ne,Ke){return new i.wOt(2100,!1)}let Os=(()=>{class ne{transform(fe){if(null==fe)return null;if("string"!=typeof fe)throw xi();return fe.toUpperCase()}static{this.\u0275fac=function(Pe){return new(Pe||ne)}}static{this.\u0275pipe=i.EJ8({name:"uppercase",type:ne,pure:!0,standalone:!0})}}return ne})(),wr=(()=>{class ne{constructor(fe){this.differs=fe,this.keyValues=[],this.compareFn=Sr}transform(fe,Pe=Sr){if(!fe||!(fe instanceof Map)&&"object"!=typeof fe)return null;this.differ??=this.differs.find(fe).create();const Dt=this.differ.diff(fe),hn=Pe!==this.compareFn;return Dt&&(this.keyValues=[],Dt.forEachItem(En=>{this.keyValues.push(function fr(ne,Ke){return{key:ne,value:Ke}}(En.key,En.currentValue))})),(Dt||hn)&&(this.keyValues.sort(Pe),this.compareFn=Pe),this.keyValues}static{this.\u0275fac=function(Pe){return new(Pe||ne)(i.rXU(i.MKu,16))}}static{this.\u0275pipe=i.EJ8({name:"keyvalue",type:ne,pure:!1,standalone:!0})}}return ne})();function Sr(ne,Ke){const fe=ne.key,Pe=Ke.key;if(fe===Pe)return 0;if(void 0===fe)return 1;if(void 0===Pe)return-1;if(null===fe)return 1;if(null===Pe)return-1;if("string"==typeof fe&&"string"==typeof Pe)return fe<Pe?-1:1;if("number"==typeof fe&&"number"==typeof Pe)return fe-Pe;if("boolean"==typeof fe&&"boolean"==typeof Pe)return fe<Pe?-1:1;const Dt=String(fe),hn=String(Pe);return Dt==hn?0:Dt<hn?-1:1}let xr=(()=>{class ne{constructor(fe){this._locale=fe}transform(fe,Pe,Dt){if(!function er(ne){return!(null==ne||""===ne||ne!=ne)}(fe))return null;Dt||=this._locale;try{return function gi(ne,Ke,fe){return function An(ne,Ke,fe,Pe,Dt,hn,En=!1){let qn="",dr=!1;if(isFinite(ne)){let sr=function Xn(ne){let Pe,Dt,hn,En,qn,Ke=Math.abs(ne)+"",fe=0;for((Dt=Ke.indexOf("."))>-1&&(Ke=Ke.replace(".","")),(hn=Ke.search(/e/i))>0?(Dt<0&&(Dt=hn),Dt+=+Ke.slice(hn+1),Ke=Ke.substring(0,hn)):Dt<0&&(Dt=Ke.length),hn=0;"0"===Ke.charAt(hn);hn++);if(hn===(qn=Ke.length))Pe=[0],Dt=1;else{for(qn--;"0"===Ke.charAt(qn);)qn--;for(Dt-=hn,Pe=[],En=0;hn<=qn;hn++,En++)Pe[En]=Number(Ke.charAt(hn))}return Dt>22&&(Pe=Pe.splice(0,21),fe=Dt-1,Dt=1),{digits:Pe,exponent:fe,integerLen:Dt}}(ne);En&&(sr=function Bi(ne){if(0===ne.digits[0])return ne;const Ke=ne.digits.length-ne.integerLen;return ne.exponent?ne.exponent+=2:(0===Ke?ne.digits.push(0,0):1===Ke&&ne.digits.push(0),ne.integerLen+=2),ne}(sr));let Yi=Ke.minInt,Ui=Ke.minFrac,ii=Ke.maxFrac;if(hn){const ke=hn.match(li);if(null===ke)throw new Error(`${hn} is not a valid digit info`);const ot=ke[1],Mt=ke[3],Ut=ke[5];null!=ot&&(Yi=pi(ot)),null!=Mt&&(Ui=pi(Mt)),null!=Ut?ii=pi(Ut):null!=Mt&&Ui>ii&&(ii=Ui)}!function Ei(ne,Ke,fe){if(Ke>fe)throw new Error(`The minimum number of digits after fraction (${Ke}) is higher than the maximum (${fe}).`);let Pe=ne.digits,Dt=Pe.length-ne.integerLen;const hn=Math.min(Math.max(Ke,Dt),fe);let En=hn+ne.integerLen,qn=Pe[En];if(En>0){Pe.splice(Math.max(ne.integerLen,En));for(let Ui=En;Ui<Pe.length;Ui++)Pe[Ui]=0}else{Dt=Math.max(0,Dt),ne.integerLen=1,Pe.length=Math.max(1,En=hn+1),Pe[0]=0;for(let Ui=1;Ui<En;Ui++)Pe[Ui]=0}if(qn>=5)if(En-1<0){for(let Ui=0;Ui>En;Ui--)Pe.unshift(0),ne.integerLen++;Pe.unshift(1),ne.integerLen++}else Pe[En-1]++;for(;Dt<Math.max(0,hn);Dt++)Pe.push(0);let dr=0!==hn;const sr=Ke+ne.integerLen,Yi=Pe.reduceRight(function(Ui,ii,Xi,cr){return cr[Xi]=(ii+=Ui)<10?ii:ii-10,dr&&(0===cr[Xi]&&Xi>=sr?cr.pop():dr=!1),ii>=10?1:0},0);Yi&&(Pe.unshift(Yi),ne.integerLen++)}(sr,Ui,ii);let Xi=sr.digits,cr=sr.integerLen;const ye=sr.exponent;let P=[];for(dr=Xi.every(ke=>!ke);cr<Yi;cr++)Xi.unshift(0);for(;cr<0;cr++)Xi.unshift(0);cr>0?P=Xi.splice(cr,Xi.length):(P=Xi,Xi=[0]);const pe=[];for(Xi.length>=Ke.lgSize&&pe.unshift(Xi.splice(-Ke.lgSize,Xi.length).join(""));Xi.length>Ke.gSize;)pe.unshift(Xi.splice(-Ke.gSize,Xi.length).join(""));Xi.length&&pe.unshift(Xi.join("")),qn=pe.join(Fe(fe,Pe)),P.length&&(qn+=Fe(fe,Dt)+P.join("")),ye&&(qn+=Fe(fe,Y.Exponential)+"+"+ye)}else qn=Fe(fe,Y.Infinity);return qn=ne<0&&!dr?Ke.negPre+qn+Ke.negSuf:Ke.posPre+qn+Ke.posSuf,qn}(ne,function ni(ne,Ke="-"){const fe={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},Pe=ne.split(";"),Dt=Pe[0],hn=Pe[1],En=-1!==Dt.indexOf(".")?Dt.split("."):[Dt.substring(0,Dt.lastIndexOf("0")+1),Dt.substring(Dt.lastIndexOf("0")+1)],qn=En[0],dr=En[1]||"";fe.posPre=qn.substring(0,qn.indexOf("#"));for(let Yi=0;Yi<dr.length;Yi++){const Ui=dr.charAt(Yi);"0"===Ui?fe.minFrac=fe.maxFrac=Yi+1:"#"===Ui?fe.maxFrac=Yi+1:fe.posSuf+=Ui}const sr=qn.split(",");if(fe.gSize=sr[1]?sr[1].length:0,fe.lgSize=sr[2]||sr[1]?(sr[2]||sr[1]).length:0,hn){const Yi=Dt.length-fe.posPre.length-fe.posSuf.length,Ui=hn.indexOf("#");fe.negPre=hn.substring(0,Ui).replace(/'/g,""),fe.negSuf=hn.slice(Ui+Yi).replace(/'/g,"")}else fe.negPre=Ke+fe.posPre,fe.negSuf=fe.posSuf;return fe}(function ft(ne,Ke){return(0,i.H5H)(ne)[i.KH2.NumberFormats][Ke]}(Ke,L.Decimal),Fe(Ke,Y.MinusSign)),Ke,Y.Group,Y.Decimal,fe)}(function Hn(ne){if("string"==typeof ne&&!isNaN(Number(ne)-parseFloat(ne)))return Number(ne);if("number"!=typeof ne)throw new Error(`${ne} is not a number`);return ne}(fe),Dt,Pe)}catch(hn){throw xi()}}static{this.\u0275fac=function(Pe){return new(Pe||ne)(i.rXU(i.xe9,16))}}static{this.\u0275pipe=i.EJ8({name:"number",type:ne,pure:!0,standalone:!0})}}return ne})();let Gr=(()=>{class ne{transform(fe,Pe,Dt){if(null==fe)return null;if(!this.supports(fe))throw xi();return fe.slice(Pe,Dt)}supports(fe){return"string"==typeof fe||Array.isArray(fe)}static{this.\u0275fac=function(Pe){return new(Pe||ne)}}static{this.\u0275pipe=i.EJ8({name:"slice",type:ne,pure:!1,standalone:!0})}}return ne})(),kr=(()=>{class ne{static{this.\u0275fac=function(Pe){return new(Pe||ne)}}static{this.\u0275mod=i.$C({type:ne})}static{this.\u0275inj=i.G2t({})}}return ne})();const ns="browser",ro="server";function yr(ne){return ne===ns}function is(ne){return ne===ro}let mo=(()=>{class ne{static{this.\u0275prov=(0,i.jDH)({token:ne,providedIn:"root",factory:()=>yr((0,i.WQX)(i.Agw))?new tr((0,i.WQX)(f),window):new Po})}}return ne})();class tr{constructor(Ke,fe){this.document=Ke,this.window=fe,this.offset=()=>[0,0]}setOffset(Ke){this.offset=Array.isArray(Ke)?()=>Ke:Ke}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(Ke){this.window.scrollTo(Ke[0],Ke[1])}scrollToAnchor(Ke){const fe=function Qr(ne,Ke){const fe=ne.getElementById(Ke)||ne.getElementsByName(Ke)[0];if(fe)return fe;if("function"==typeof ne.createTreeWalker&&ne.body&&"function"==typeof ne.body.attachShadow){const Pe=ne.createTreeWalker(ne.body,NodeFilter.SHOW_ELEMENT);let Dt=Pe.currentNode;for(;Dt;){const hn=Dt.shadowRoot;if(hn){const En=hn.getElementById(Ke)||hn.querySelector(`[name="${Ke}"]`);if(En)return En}Dt=Pe.nextNode()}}return null}(this.document,Ke);fe&&(this.scrollToElement(fe),fe.focus())}setHistoryScrollRestoration(Ke){this.window.history.scrollRestoration=Ke}scrollToElement(Ke){const fe=Ke.getBoundingClientRect(),Pe=fe.left+this.window.pageXOffset,Dt=fe.top+this.window.pageYOffset,hn=this.offset();this.window.scrollTo(Pe-hn[0],Dt-hn[1])}}class Po{setOffset(Ke){}getScrollPosition(){return[0,0]}scrollToPosition(Ke){}scrollToAnchor(Ke){}setHistoryScrollRestoration(Ke){}}class Yo{}},1626:(et,me,u)=>{"use strict";u.d(me,{Lr:()=>R,Nl:()=>ie,Qq:()=>Le,a7:()=>X,q1:()=>jt,yz:()=>Te}),u(467);var e=u(4438),_=u(7673),g=u(1985),S=u(6648),v=u(274),f=u(5964),d=u(6354),E=u(980),m=u(5558),F=u(177);class w{}class C{}class R{constructor(It){this.normalizedNames=new Map,this.lazyUpdate=null,It?"string"==typeof It?this.lazyInit=()=>{this.headers=new Map,It.split("\n").forEach(Ct=>{const nn=Ct.indexOf(":");if(nn>0){const Qt=Ct.slice(0,nn),Tn=Qt.toLowerCase(),St=Ct.slice(nn+1).trim();this.maybeSetNormalizedName(Qt,Tn),this.headers.has(Tn)?this.headers.get(Tn).push(St):this.headers.set(Tn,[St])}})}:typeof Headers<"u"&&It instanceof Headers?(this.headers=new Map,It.forEach((Ct,nn)=>{this.setHeaderEntries(nn,Ct)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(It).forEach(([Ct,nn])=>{this.setHeaderEntries(Ct,nn)})}:this.headers=new Map}has(It){return this.init(),this.headers.has(It.toLowerCase())}get(It){this.init();const Ct=this.headers.get(It.toLowerCase());return Ct&&Ct.length>0?Ct[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(It){return this.init(),this.headers.get(It.toLowerCase())||null}append(It,Ct){return this.clone({name:It,value:Ct,op:"a"})}set(It,Ct){return this.clone({name:It,value:Ct,op:"s"})}delete(It,Ct){return this.clone({name:It,value:Ct,op:"d"})}maybeSetNormalizedName(It,Ct){this.normalizedNames.has(Ct)||this.normalizedNames.set(Ct,It)}init(){this.lazyInit&&(this.lazyInit instanceof R?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(It=>this.applyUpdate(It)),this.lazyUpdate=null))}copyFrom(It){It.init(),Array.from(It.headers.keys()).forEach(Ct=>{this.headers.set(Ct,It.headers.get(Ct)),this.normalizedNames.set(Ct,It.normalizedNames.get(Ct))})}clone(It){const Ct=new R;return Ct.lazyInit=this.lazyInit&&this.lazyInit instanceof R?this.lazyInit:this,Ct.lazyUpdate=(this.lazyUpdate||[]).concat([It]),Ct}applyUpdate(It){const Ct=It.name.toLowerCase();switch(It.op){case"a":case"s":let nn=It.value;if("string"==typeof nn&&(nn=[nn]),0===nn.length)return;this.maybeSetNormalizedName(It.name,Ct);const Qt=("a"===It.op?this.headers.get(Ct):void 0)||[];Qt.push(...nn),this.headers.set(Ct,Qt);break;case"d":const Tn=It.value;if(Tn){let St=this.headers.get(Ct);if(!St)return;St=St.filter($e=>-1===Tn.indexOf($e)),0===St.length?(this.headers.delete(Ct),this.normalizedNames.delete(Ct)):this.headers.set(Ct,St)}else this.headers.delete(Ct),this.normalizedNames.delete(Ct)}}setHeaderEntries(It,Ct){const nn=(Array.isArray(Ct)?Ct:[Ct]).map(Tn=>Tn.toString()),Qt=It.toLowerCase();this.headers.set(Qt,nn),this.maybeSetNormalizedName(It,Qt)}forEach(It){this.init(),Array.from(this.normalizedNames.keys()).forEach(Ct=>It(this.normalizedNames.get(Ct),this.headers.get(Ct)))}}class O{encodeKey(It){return U(It)}encodeValue(It){return U(It)}decodeKey(It){return decodeURIComponent(It)}decodeValue(It){return decodeURIComponent(It)}}const x=/%(\d[a-f0-9])/gi,$={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function U(nt){return encodeURIComponent(nt).replace(x,(It,Ct)=>$[Ct]??It)}function G(nt){return`${nt}`}class ie{constructor(It={}){if(this.updates=null,this.cloneFrom=null,this.encoder=It.encoder||new O,It.fromString){if(It.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function H(nt,It){const Ct=new Map;return nt.length>0&&nt.replace(/^\?/,"").split("&").forEach(Qt=>{const Tn=Qt.indexOf("="),[St,$e]=-1==Tn?[It.decodeKey(Qt),""]:[It.decodeKey(Qt.slice(0,Tn)),It.decodeValue(Qt.slice(Tn+1))],Qe=Ct.get(St)||[];Qe.push($e),Ct.set(St,Qe)}),Ct}(It.fromString,this.encoder)}else It.fromObject?(this.map=new Map,Object.keys(It.fromObject).forEach(Ct=>{const nn=It.fromObject[Ct],Qt=Array.isArray(nn)?nn.map(G):[G(nn)];this.map.set(Ct,Qt)})):this.map=null}has(It){return this.init(),this.map.has(It)}get(It){this.init();const Ct=this.map.get(It);return Ct?Ct[0]:null}getAll(It){return this.init(),this.map.get(It)||null}keys(){return this.init(),Array.from(this.map.keys())}append(It,Ct){return this.clone({param:It,value:Ct,op:"a"})}appendAll(It){const Ct=[];return Object.keys(It).forEach(nn=>{const Qt=It[nn];Array.isArray(Qt)?Qt.forEach(Tn=>{Ct.push({param:nn,value:Tn,op:"a"})}):Ct.push({param:nn,value:Qt,op:"a"})}),this.clone(Ct)}set(It,Ct){return this.clone({param:It,value:Ct,op:"s"})}delete(It,Ct){return this.clone({param:It,value:Ct,op:"d"})}toString(){return this.init(),this.keys().map(It=>{const Ct=this.encoder.encodeKey(It);return this.map.get(It).map(nn=>Ct+"="+this.encoder.encodeValue(nn)).join("&")}).filter(It=>""!==It).join("&")}clone(It){const Ct=new ie({encoder:this.encoder});return Ct.cloneFrom=this.cloneFrom||this,Ct.updates=(this.updates||[]).concat(It),Ct}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(It=>this.map.set(It,this.cloneFrom.map.get(It))),this.updates.forEach(It=>{switch(It.op){case"a":case"s":const Ct=("a"===It.op?this.map.get(It.param):void 0)||[];Ct.push(G(It.value)),this.map.set(It.param,Ct);break;case"d":if(void 0===It.value){this.map.delete(It.param);break}{let nn=this.map.get(It.param)||[];const Qt=nn.indexOf(G(It.value));-1!==Qt&&nn.splice(Qt,1),nn.length>0?this.map.set(It.param,nn):this.map.delete(It.param)}}}),this.cloneFrom=this.updates=null)}}class L{constructor(){this.map=new Map}set(It,Ct){return this.map.set(It,Ct),this}get(It){return this.map.has(It)||this.map.set(It,It.defaultValue()),this.map.get(It)}delete(It){return this.map.delete(It),this}has(It){return this.map.has(It)}keys(){return this.map.keys()}}function te(nt){return typeof ArrayBuffer<"u"&&nt instanceof ArrayBuffer}function I(nt){return typeof Blob<"u"&&nt instanceof Blob}function oe(nt){return typeof FormData<"u"&&nt instanceof FormData}class _e{constructor(It,Ct,nn,Qt){let Tn;if(this.url=Ct,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=It.toUpperCase(),function Q(nt){switch(nt){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Qt?(this.body=void 0!==nn?nn:null,Tn=Qt):Tn=nn,Tn&&(this.reportProgress=!!Tn.reportProgress,this.withCredentials=!!Tn.withCredentials,Tn.responseType&&(this.responseType=Tn.responseType),Tn.headers&&(this.headers=Tn.headers),Tn.context&&(this.context=Tn.context),Tn.params&&(this.params=Tn.params),this.transferCache=Tn.transferCache),this.headers??=new R,this.context??=new L,this.params){const St=this.params.toString();if(0===St.length)this.urlWithParams=Ct;else{const $e=Ct.indexOf("?");this.urlWithParams=Ct+(-1===$e?"?":$e<Ct.length-1?"&":"")+St}}else this.params=new ie,this.urlWithParams=Ct}serializeBody(){return null===this.body?null:"string"==typeof this.body||te(this.body)||I(this.body)||oe(this.body)||function Y(nt){return typeof URLSearchParams<"u"&&nt instanceof URLSearchParams}(this.body)?this.body:this.body instanceof ie?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||oe(this.body)?null:I(this.body)?this.body.type||null:te(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ie?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(It={}){const Ct=It.method||this.method,nn=It.url||this.url,Qt=It.responseType||this.responseType,Tn=It.transferCache??this.transferCache,St=void 0!==It.body?It.body:this.body,$e=It.withCredentials??this.withCredentials,Qe=It.reportProgress??this.reportProgress;let K=It.headers||this.headers,de=It.params||this.params;const ue=It.context??this.context;return void 0!==It.setHeaders&&(K=Object.keys(It.setHeaders).reduce((ze,Wt)=>ze.set(Wt,It.setHeaders[Wt]),K)),It.setParams&&(de=Object.keys(It.setParams).reduce((ze,Wt)=>ze.set(Wt,It.setParams[Wt]),de)),new _e(Ct,nn,St,{params:de,headers:K,context:ue,reportProgress:Qe,responseType:Qt,withCredentials:$e,transferCache:Tn})}}var Oe=function(nt){return nt[nt.Sent=0]="Sent",nt[nt.UploadProgress=1]="UploadProgress",nt[nt.ResponseHeader=2]="ResponseHeader",nt[nt.DownloadProgress=3]="DownloadProgress",nt[nt.Response=4]="Response",nt[nt.User=5]="User",nt}(Oe||{});class Re{constructor(It,Ct=we.Ok,nn="OK"){this.headers=It.headers||new R,this.status=void 0!==It.status?It.status:Ct,this.statusText=It.statusText||nn,this.url=It.url||null,this.ok=this.status>=200&&this.status<300}}class xe extends Re{constructor(It={}){super(It),this.type=Oe.ResponseHeader}clone(It={}){return new xe({headers:It.headers||this.headers,status:void 0!==It.status?It.status:this.status,statusText:It.statusText||this.statusText,url:It.url||this.url||void 0})}}class Je extends Re{constructor(It={}){super(It),this.type=Oe.Response,this.body=void 0!==It.body?It.body:null}clone(It={}){return new Je({body:void 0!==It.body?It.body:this.body,headers:It.headers||this.headers,status:void 0!==It.status?It.status:this.status,statusText:It.statusText||this.statusText,url:It.url||this.url||void 0})}}class Te extends Re{constructor(It){super(It,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${It.url||"(unknown url)"}`:`Http failure response for ${It.url||"(unknown url)"}: ${It.status} ${It.statusText}`,this.error=It.error||null}}var we=function(nt){return nt[nt.Continue=100]="Continue",nt[nt.SwitchingProtocols=101]="SwitchingProtocols",nt[nt.Processing=102]="Processing",nt[nt.EarlyHints=103]="EarlyHints",nt[nt.Ok=200]="Ok",nt[nt.Created=201]="Created",nt[nt.Accepted=202]="Accepted",nt[nt.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",nt[nt.NoContent=204]="NoContent",nt[nt.ResetContent=205]="ResetContent",nt[nt.PartialContent=206]="PartialContent",nt[nt.MultiStatus=207]="MultiStatus",nt[nt.AlreadyReported=208]="AlreadyReported",nt[nt.ImUsed=226]="ImUsed",nt[nt.MultipleChoices=300]="MultipleChoices",nt[nt.MovedPermanently=301]="MovedPermanently",nt[nt.Found=302]="Found",nt[nt.SeeOther=303]="SeeOther",nt[nt.NotModified=304]="NotModified",nt[nt.UseProxy=305]="UseProxy",nt[nt.Unused=306]="Unused",nt[nt.TemporaryRedirect=307]="TemporaryRedirect",nt[nt.PermanentRedirect=308]="PermanentRedirect",nt[nt.BadRequest=400]="BadRequest",nt[nt.Unauthorized=401]="Unauthorized",nt[nt.PaymentRequired=402]="PaymentRequired",nt[nt.Forbidden=403]="Forbidden",nt[nt.NotFound=404]="NotFound",nt[nt.MethodNotAllowed=405]="MethodNotAllowed",nt[nt.NotAcceptable=406]="NotAcceptable",nt[nt.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",nt[nt.RequestTimeout=408]="RequestTimeout",nt[nt.Conflict=409]="Conflict",nt[nt.Gone=410]="Gone",nt[nt.LengthRequired=411]="LengthRequired",nt[nt.PreconditionFailed=412]="PreconditionFailed",nt[nt.PayloadTooLarge=413]="PayloadTooLarge",nt[nt.UriTooLong=414]="UriTooLong",nt[nt.UnsupportedMediaType=415]="UnsupportedMediaType",nt[nt.RangeNotSatisfiable=416]="RangeNotSatisfiable",nt[nt.ExpectationFailed=417]="ExpectationFailed",nt[nt.ImATeapot=418]="ImATeapot",nt[nt.MisdirectedRequest=421]="MisdirectedRequest",nt[nt.UnprocessableEntity=422]="UnprocessableEntity",nt[nt.Locked=423]="Locked",nt[nt.FailedDependency=424]="FailedDependency",nt[nt.TooEarly=425]="TooEarly",nt[nt.UpgradeRequired=426]="UpgradeRequired",nt[nt.PreconditionRequired=428]="PreconditionRequired",nt[nt.TooManyRequests=429]="TooManyRequests",nt[nt.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",nt[nt.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",nt[nt.InternalServerError=500]="InternalServerError",nt[nt.NotImplemented=501]="NotImplemented",nt[nt.BadGateway=502]="BadGateway",nt[nt.ServiceUnavailable=503]="ServiceUnavailable",nt[nt.GatewayTimeout=504]="GatewayTimeout",nt[nt.HttpVersionNotSupported=505]="HttpVersionNotSupported",nt[nt.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",nt[nt.InsufficientStorage=507]="InsufficientStorage",nt[nt.LoopDetected=508]="LoopDetected",nt[nt.NotExtended=510]="NotExtended",nt[nt.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",nt}(we||{});function he(nt,It){return{body:It,headers:nt.headers,context:nt.context,observe:nt.observe,params:nt.params,reportProgress:nt.reportProgress,responseType:nt.responseType,withCredentials:nt.withCredentials,transferCache:nt.transferCache}}let Le=(()=>{class nt{constructor(Ct){this.handler=Ct}request(Ct,nn,Qt={}){let Tn;if(Ct instanceof _e)Tn=Ct;else{let Qe,K;Qe=Qt.headers instanceof R?Qt.headers:new R(Qt.headers),Qt.params&&(K=Qt.params instanceof ie?Qt.params:new ie({fromObject:Qt.params})),Tn=new _e(Ct,nn,void 0!==Qt.body?Qt.body:null,{headers:Qe,context:Qt.context,params:K,reportProgress:Qt.reportProgress,responseType:Qt.responseType||"json",withCredentials:Qt.withCredentials,transferCache:Qt.transferCache})}const St=(0,_.of)(Tn).pipe((0,v.H)(Qe=>this.handler.handle(Qe)));if(Ct instanceof _e||"events"===Qt.observe)return St;const $e=St.pipe((0,f.p)(Qe=>Qe instanceof Je));switch(Qt.observe||"body"){case"body":switch(Tn.responseType){case"arraybuffer":return $e.pipe((0,d.T)(Qe=>{if(null!==Qe.body&&!(Qe.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Qe.body}));case"blob":return $e.pipe((0,d.T)(Qe=>{if(null!==Qe.body&&!(Qe.body instanceof Blob))throw new Error("Response is not a Blob.");return Qe.body}));case"text":return $e.pipe((0,d.T)(Qe=>{if(null!==Qe.body&&"string"!=typeof Qe.body)throw new Error("Response is not a string.");return Qe.body}));default:return $e.pipe((0,d.T)(Qe=>Qe.body))}case"response":return $e;default:throw new Error(`Unreachable: unhandled observe type ${Qt.observe}}`)}}delete(Ct,nn={}){return this.request("DELETE",Ct,nn)}get(Ct,nn={}){return this.request("GET",Ct,nn)}head(Ct,nn={}){return this.request("HEAD",Ct,nn)}jsonp(Ct,nn){return this.request("JSONP",Ct,{params:(new ie).append(nn,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Ct,nn={}){return this.request("OPTIONS",Ct,nn)}patch(Ct,nn,Qt={}){return this.request("PATCH",Ct,he(Qt,nn))}post(Ct,nn,Qt={}){return this.request("POST",Ct,he(Qt,nn))}put(Ct,nn,Qt={}){return this.request("PUT",Ct,he(Qt,nn))}static{this.\u0275fac=function(nn){return new(nn||nt)(e.KVO(w))}}static{this.\u0275prov=e.jDH({token:nt,factory:nt.\u0275fac})}}return nt})();function Et(nt,It){return It(nt)}function _t(nt,It){return(Ct,nn)=>It.intercept(Ct,{handle:Qt=>nt(Qt,nn)})}const X=new e.nKC(""),q=new e.nKC(""),Se=new e.nKC(""),Ee=new e.nKC("");function lt(){let nt=null;return(It,Ct)=>{null===nt&&(nt=((0,e.WQX)(X,{optional:!0})??[]).reduceRight(_t,Et));const nn=(0,e.WQX)(e.TgB),Qt=nn.add();return nt(It,Ct).pipe((0,E.j)(()=>nn.remove(Qt)))}}let Ot=(()=>{class nt extends w{constructor(Ct,nn){super(),this.backend=Ct,this.injector=nn,this.chain=null,this.pendingTasks=(0,e.WQX)(e.TgB);const Qt=(0,e.WQX)(Ee,{optional:!0});this.backend=Qt??Ct}handle(Ct){if(null===this.chain){const Qt=Array.from(new Set([...this.injector.get(q),...this.injector.get(Se,[])]));this.chain=Qt.reduceRight((Tn,St)=>function J(nt,It,Ct){return(nn,Qt)=>(0,e.N4e)(Ct,()=>It(nn,Tn=>nt(Tn,Qt)))}(Tn,St,this.injector),Et)}const nn=this.pendingTasks.add();return this.chain(Ct,Qt=>this.backend.handle(Qt)).pipe((0,E.j)(()=>this.pendingTasks.remove(nn)))}static{this.\u0275fac=function(nn){return new(nn||nt)(e.KVO(C),e.KVO(e.uvJ))}}static{this.\u0275prov=e.jDH({token:nt,factory:nt.\u0275fac})}}return nt})();const qe=/^\)\]\}',?\n/;let Ft=(()=>{class nt{constructor(Ct){this.xhrFactory=Ct}handle(Ct){if("JSONP"===Ct.method)throw new e.wOt(-2800,!1);const nn=this.xhrFactory;return(nn.\u0275loadImpl?(0,S.H)(nn.\u0275loadImpl()):(0,_.of)(null)).pipe((0,m.n)(()=>new g.c(Tn=>{const St=nn.build();if(St.open(Ct.method,Ct.urlWithParams),Ct.withCredentials&&(St.withCredentials=!0),Ct.headers.forEach((gn,yn)=>St.setRequestHeader(gn,yn.join(","))),Ct.headers.has("Accept")||St.setRequestHeader("Accept","application/json, text/plain, */*"),!Ct.headers.has("Content-Type")){const gn=Ct.detectContentTypeHeader();null!==gn&&St.setRequestHeader("Content-Type",gn)}if(Ct.responseType){const gn=Ct.responseType.toLowerCase();St.responseType="json"!==gn?gn:"text"}const $e=Ct.serializeBody();let Qe=null;const K=()=>{if(null!==Qe)return Qe;const gn=St.statusText||"OK",yn=new R(St.getAllResponseHeaders()),ti=function ht(nt){return"responseURL"in nt&&nt.responseURL?nt.responseURL:/^X-Request-URL:/m.test(nt.getAllResponseHeaders())?nt.getResponseHeader("X-Request-URL"):null}(St)||Ct.url;return Qe=new xe({headers:yn,status:St.status,statusText:gn,url:ti}),Qe},de=()=>{let{headers:gn,status:yn,statusText:ti,url:vi}=K(),bi=null;yn!==we.NoContent&&(bi=typeof St.response>"u"?St.responseText:St.response),0===yn&&(yn=bi?we.Ok:0);let ui=yn>=200&&yn<300;if("json"===Ct.responseType&&"string"==typeof bi){const Ki=bi;bi=bi.replace(qe,"");try{bi=""!==bi?JSON.parse(bi):null}catch(Dr){bi=Ki,ui&&(ui=!1,bi={error:Dr,text:bi})}}ui?(Tn.next(new Je({body:bi,headers:gn,status:yn,statusText:ti,url:vi||void 0})),Tn.complete()):Tn.error(new Te({error:bi,headers:gn,status:yn,statusText:ti,url:vi||void 0}))},ue=gn=>{const{url:yn}=K(),ti=new Te({error:gn,status:St.status||0,statusText:St.statusText||"Unknown Error",url:yn||void 0});Tn.error(ti)};let ze=!1;const Wt=gn=>{ze||(Tn.next(K()),ze=!0);let yn={type:Oe.DownloadProgress,loaded:gn.loaded};gn.lengthComputable&&(yn.total=gn.total),"text"===Ct.responseType&&St.responseText&&(yn.partialText=St.responseText),Tn.next(yn)},Kt=gn=>{let yn={type:Oe.UploadProgress,loaded:gn.loaded};gn.lengthComputable&&(yn.total=gn.total),Tn.next(yn)};return St.addEventListener("load",de),St.addEventListener("error",ue),St.addEventListener("timeout",ue),St.addEventListener("abort",ue),Ct.reportProgress&&(St.addEventListener("progress",Wt),null!==$e&&St.upload&&St.upload.addEventListener("progress",Kt)),St.send($e),Tn.next({type:Oe.Sent}),()=>{St.removeEventListener("error",ue),St.removeEventListener("abort",ue),St.removeEventListener("load",de),St.removeEventListener("timeout",ue),Ct.reportProgress&&(St.removeEventListener("progress",Wt),null!==$e&&St.upload&&St.upload.removeEventListener("progress",Kt)),St.readyState!==St.DONE&&St.abort()}})))}static{this.\u0275fac=function(nn){return new(nn||nt)(e.KVO(F.N0))}}static{this.\u0275prov=e.jDH({token:nt,factory:nt.\u0275fac})}}return nt})();const on=new e.nKC(""),Mn=new e.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Bn=new e.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Tt{}let Rn=(()=>{class nt{constructor(Ct,nn,Qt){this.doc=Ct,this.platform=nn,this.cookieName=Qt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Ct=this.doc.cookie||"";return Ct!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,F._b)(Ct,this.cookieName),this.lastCookieString=Ct),this.lastToken}static{this.\u0275fac=function(nn){return new(nn||nt)(e.KVO(F.qQ),e.KVO(e.Agw),e.KVO(Mn))}}static{this.\u0275prov=e.jDH({token:nt,factory:nt.\u0275fac})}}return nt})();function Gt(nt,It){const Ct=nt.url.toLowerCase();if(!(0,e.WQX)(on)||"GET"===nt.method||"HEAD"===nt.method||Ct.startsWith("http://")||Ct.startsWith("https://"))return It(nt);const nn=(0,e.WQX)(Tt).getToken(),Qt=(0,e.WQX)(Bn);return null!=nn&&!nt.headers.has(Qt)&&(nt=nt.clone({headers:nt.headers.set(Qt,nn)})),It(nt)}var yt=function(nt){return nt[nt.Interceptors=0]="Interceptors",nt[nt.LegacyInterceptors=1]="LegacyInterceptors",nt[nt.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",nt[nt.NoXsrfProtection=3]="NoXsrfProtection",nt[nt.JsonpSupport=4]="JsonpSupport",nt[nt.RequestsMadeViaParent=5]="RequestsMadeViaParent",nt[nt.Fetch=6]="Fetch",nt}(yt||{});function mt(nt,It){return{\u0275kind:nt,\u0275providers:It}}function xt(...nt){const It=[Le,Ft,Ot,{provide:w,useExisting:Ot},{provide:C,useExisting:Ft},{provide:q,useValue:Gt,multi:!0},{provide:on,useValue:!0},{provide:Tt,useClass:Rn}];for(const Ct of nt)It.push(...Ct.\u0275providers);return(0,e.EmA)(It)}const Sn=new e.nKC("");let jt=(()=>{class nt{static{this.\u0275fac=function(nn){return new(nn||nt)}}static{this.\u0275mod=e.$C({type:nt})}static{this.\u0275inj=e.G2t({providers:[xt(mt(yt.LegacyInterceptors,[{provide:Sn,useFactory:lt},{provide:q,useExisting:Sn,multi:!0}]))]})}}return nt})()},4438:(et,me,u)=>{"use strict";u.d(me,{bc$:()=>Qb,iLQ:()=>RT,sZ2:()=>O1,hnV:()=>zD,Hbi:()=>bR,o8S:()=>zu,BIS:()=>Zb,gRc:()=>a2,Ql9:()=>WA,OM3:()=>Pd,Ocv:()=>qA,abz:()=>yc,Z63:()=>Hr,aKT:()=>dd,uvJ:()=>Tr,zcH:()=>Dl,bkB:()=>Al,$GK:()=>yi,nKC:()=>Qt,zZn:()=>va,_q3:()=>BT,MKu:()=>LT,xe9:()=>Y_,Co$:()=>aS,Vns:()=>Tu,SKi:()=>Hs,Xx1:()=>yr,Agw:()=>Tp,PLl:()=>F1,sFG:()=>gw,_9s:()=>tv,czy:()=>Vh,WPN:()=>Ec,kdw:()=>rs,C4Q:()=>ef,NYb:()=>LA,giA:()=>WD,RxE:()=>BD,c1b:()=>Fl,gXe:()=>Ur,mal:()=>Ew,Af3:()=>bs,L39:()=>XR,a0P:()=>iM,Ol2:()=>Mv,w6W:()=>Av,oH4:()=>n2,SmG:()=>sR,Rfq:()=>Gt,WQX:()=>Hn,naY:()=>rR,QuC:()=>Ds,EmA:()=>As,fpN:()=>_R,HJs:()=>rM,N4e:()=>Ms,O8t:()=>QR,An2:()=>cf,H3F:()=>LD,H8p:()=>Wa,KH2:()=>Hu,TgB:()=>Wd,wOt:()=>Ue,WHO:()=>GD,e01:()=>HD,lNU:()=>lt,h9k:()=>Fh,$MX:()=>Nh,ZF7:()=>kl,Kcf:()=>_d,e5t:()=>aC,UyX:()=>z1,cWb:()=>oC,osQ:()=>bd,H5H:()=>Sg,Zy3:()=>at,mq5:()=>Dy,JZv:()=>ht,LfX:()=>pi,plB:()=>Pc,jNT:()=>DT,zjR:()=>KD,TL$:()=>Xb,Tbb:()=>kn,rcV:()=>al,nM4:()=>rS,Vt3:()=>_f,Mj6:()=>Wr,GFd:()=>Ym,OA$:()=>Xs,Jv_:()=>Vt,aNF:()=>Cn,R7$:()=>D0,BMQ:()=>Oo,HbH:()=>sy,ZvI:()=>hy,STu:()=>fy,AVh:()=>mg,vxM:()=>yy,wni:()=>v_,VBU:()=>$n,FsC:()=>Xo,jDH:()=>ni,G2t:()=>Xn,$C:()=>Is,EJ8:()=>Vr,rXU:()=>mu,nrm:()=>bg,eu8:()=>Cg,bVm:()=>Bf,qex:()=>Pf,k0s:()=>Ff,j41:()=>Of,RV6:()=>Iy,xGo:()=>u1,Mr5:()=>wg,pXf:()=>n_,KVO:()=>qi,kS0:()=>_h,QTQ:()=>A0,bIt:()=>Ng,lsd:()=>b_,XpG:()=>a_,nI1:()=>fi,bMT:()=>Wo,i5U:()=>no,brH:()=>ca,SdG:()=>c_,NAR:()=>l_,Y8G:()=>fg,FS9:()=>lh,Mz_:()=>Wf,FCK:()=>Fg,lJ4:()=>wi,eq3:()=>Si,l_i:()=>Qi,sMw:()=>_i,ziG:()=>nr,s1E:()=>zi,l4e:()=>Zi,mGM:()=>__,sdS:()=>w_,Dyx:()=>Cy,Z7z:()=>by,fX1:()=>_y,Njj:()=>Yg,EBC:()=>Xp,tSv:()=>u0,eBV:()=>fc,npT:()=>Gp,B4B:()=>Tc,n$t:()=>t0,xc7:()=>pg,zvX:()=>Gu,DNE:()=>Kd,C5r:()=>Ls,EFF:()=>x_,JRh:()=>Pg,SpI:()=>zf,Lme:()=>Bg,DH7:()=>U_,mxI:()=>s,R50:()=>Ug,GBs:()=>y_}),u(467);let _=null,S=1;const v=Symbol("SIGNAL");function f(t){const r=_;return _=t,r}function R(t){if((!L(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==S)){if(!t.producerMustRecompute(t)&&!U(t))return t.dirty=!1,void(t.lastCleanEpoch=S);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=S}}function U(t){Q(t);for(let r=0;r<t.producerNode.length;r++){const o=t.producerNode[r],c=t.producerLastReadVersion[r];if(c!==o.version||(R(o),c!==o.version))return!0}return!1}function le(t,r){if(function te(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Q(t),1===t.liveConsumerNode.length)for(let c=0;c<t.producerNode.length;c++)le(t.producerNode[c],t.producerIndexOfThis[c]);const o=t.liveConsumerNode.length-1;if(t.liveConsumerNode[r]=t.liveConsumerNode[o],t.liveConsumerIndexOfThis[r]=t.liveConsumerIndexOfThis[o],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,r<t.liveConsumerNode.length){const c=t.liveConsumerIndexOfThis[r],y=t.liveConsumerNode[r];Q(y),y.producerIndexOfThis[c]=r}}function L(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Q(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let xe=null;var J=u(1413),X=u(8359),q=u(4412),Se=u(6354);const lt="https://g.co/ng/security#xss";class Ue extends Error{constructor(r,o){super(at(r,o)),this.code=r}}function at(t,r){return`NG0${Math.abs(t)}${r?": "+r:""}`}function rt(t){return{toString:t}.toString()}const ve="__parameters__";function Be(t,r,o){return rt(()=>{const c=function se(t){return function(...o){if(t){const c=t(...o);for(const y in c)this[y]=c[y]}}}(r);function y(...T){if(this instanceof y)return c.apply(this,T),this;const N=new y(...T);return W.annotation=N,W;function W(re,Ie,We){const ut=re.hasOwnProperty(ve)?re[ve]:Object.defineProperty(re,ve,{value:[]})[ve];for(;ut.length<=We;)ut.push(null);return(ut[We]=ut[We]||[]).push(N),re}}return o&&(y.prototype=Object.create(o.prototype)),y.prototype.ngMetadataName=t,y.annotationCls=y,y})}const ht=globalThis;function un(t){for(let r in t)if(t[r]===un)return r;throw Error("Could not find renamed property on target object.")}function Mn(t,r){for(const o in r)r.hasOwnProperty(o)&&!t.hasOwnProperty(o)&&(t[o]=r[o])}function kn(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(kn).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const o=r.indexOf("\n");return-1===o?r:r.substring(0,o)}function Bn(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const Rn=un({__forward_ref__:un});function Gt(t){return t.__forward_ref__=Gt,t.toString=function(){return kn(this())},t}function ct(t){return yt(t)?t():t}function yt(t){return"function"==typeof t&&t.hasOwnProperty(Rn)&&t.__forward_ref__===Gt}function Un(t,r,o){t!=r&&function mn(t,r,o,c){throw new Error(`ASSERTION ERROR: ${t}`+(null==c?"":` [Expected=> ${o} ${c} ${r} <=Actual]`))}(o,t,r,"==")}function ni(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Xn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ei(t){return Gi(t,nt)||Gi(t,Ct)}function pi(t){return null!==Ei(t)}function Gi(t,r){return t.hasOwnProperty(r)?t[r]:null}function Ti(t){return t&&(t.hasOwnProperty(It)||t.hasOwnProperty(nn))?t[It]:null}const nt=un({\u0275prov:un}),It=un({\u0275inj:un}),Ct=un({ngInjectableDef:un}),nn=un({ngInjectorDef:un});class Qt{constructor(r,o){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=ni({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function gn(t){return t&&!!t.\u0275providers}const yn=un({\u0275cmp:un}),ti=un({\u0275dir:un}),vi=un({\u0275pipe:un}),bi=un({\u0275mod:un}),ui=un({\u0275fac:un}),Ki=un({__NG_ELEMENT_ID__:un}),Dr=un({__NG_ENV_ID__:un});function Gn(t){return"string"==typeof t?t:null==t?"":String(t)}function Ns(t,r){throw new Ue(-201,!1)}var yi=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(yi||{});let Us;function gs(){return Us}function Cr(t){const r=Us;return Us=t,r}function Os(t,r,o){const c=Ei(t);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:o&yi.Optional?null:void 0!==r?r:void Ns()}const Ni={},zs="__NG_DI_FLAG__",ai="ngTempTokenPath",jn=/\n/gm,fr="__source";let wr;function xr(t){const r=wr;return wr=t,r}function Lr(t,r=yi.Default){if(void 0===wr)throw new Ue(-203,!1);return null===wr?Os(t,void 0,r):wr.get(t,r&yi.Optional?null:void 0,r)}function qi(t,r=yi.Default){return(gs()||Lr)(ct(t),r)}function Hn(t,r=yi.Default){return qi(t,Gr(r))}function Gr(t){return typeof t>"u"||"number"==typeof t?t:(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function lr(t){const r=[];for(let o=0;o<t.length;o++){const c=ct(t[o]);if(Array.isArray(c)){if(0===c.length)throw new Ue(900,!1);let y,T=yi.Default;for(let N=0;N<c.length;N++){const W=c[N],re=ns(W);"number"==typeof re?-1===re?y=W.token:T|=re:y=W}r.push(qi(y,T))}else r.push(qi(c))}return r}function kr(t,r){return t[zs]=r,t.prototype[zs]=r,t}function ns(t){return t[zs]}const yr=kr(Be("Optional"),8),rs=kr(Be("SkipSelf"),4);function Jr(t,r){return t.hasOwnProperty(ui)?t[ui]:null}function Qr(t,r){t.forEach(o=>Array.isArray(o)?Qr(o,r):r(o))}function Po(t,r,o){r>=t.length?t.push(o):t.splice(r,0,o)}function Yo(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function rr(t,r,o){let c=ss(t,r);return c>=0?t[1|c]=o:(c=~c,function Es(t,r,o,c){let y=t.length;if(y==r)t.push(o,c);else if(1===y)t.push(c,t[0]),t[0]=o;else{for(y--,t.push(t[y-1],t[y]);y>r;)t[y]=t[y-2],y--;t[r]=o,t[r+1]=c}}(t,c,r,o)),c}function Or(t,r){const o=ss(t,r);if(o>=0)return t[1|o]}function ss(t,r){return function Ta(t,r,o){let c=0,y=t.length>>o;for(;y!==c;){const T=c+(y-c>>1),N=t[T<<o];if(r===N)return T<<o;N>r?y=T:c=T+1}return~(y<<o)}(t,r,1)}const Ts={},si=[],Hr=new Qt(""),Vs=new Qt("",-1),pr=new Qt("");class js{get(r,o=Ni){if(o===Ni){const c=new Error(`NullInjectorError: No provider for ${kn(r)}!`);throw c.name="NullInjectorError",c}return o}}var Fr=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Fr||{}),Ur=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Ur||{}),Wr=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Wr||{});function pn(t,r,o){let c=t.length;for(;;){const y=t.indexOf(r,o);if(-1===y)return y;if(0===y||t.charCodeAt(y-1)<=32){const T=r.length;if(y+T===c||t.charCodeAt(y+T)<=32)return y}o=y+1}}function vs(t,r,o){let c=0;for(;c<o.length;){const y=o[c];if("number"==typeof y){if(0!==y)break;c++;const T=o[c++],N=o[c++],W=o[c++];t.setAttribute(r,N,W,T)}else{const T=y,N=o[++c];je(T)?t.setProperty(r,T,N):t.setAttribute(r,T,N),c++}}return c}function Ne(t){return 3===t||4===t||6===t}function je(t){return 64===t.charCodeAt(0)}function ge(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let o=-1;for(let c=0;c<r.length;c++){const y=r[c];"number"==typeof y?o=y:0===o||tt(t,o,y,null,-1===o||2===o?r[++c]:null)}}return t}function tt(t,r,o,c,y){let T=0,N=t.length;if(-1===r)N=-1;else for(;T<t.length;){const W=t[T++];if("number"==typeof W){if(W===r){N=-1;break}if(W>r){N=T-1;break}}}for(;T<t.length;){const W=t[T];if("number"==typeof W)break;if(W===o){if(null===c)return void(null!==y&&(t[T+1]=y));if(c===t[T+1])return void(t[T+2]=y)}T++,null!==c&&T++,null!==y&&T++}-1!==N&&(t.splice(N,0,r),T=N+1),t.splice(T++,0,o),null!==c&&t.splice(T++,0,c),null!==y&&t.splice(T++,0,y)}const Pt="ng-template";function Kn(t,r,o,c){let y=0;if(c){for(;y<r.length&&"string"==typeof r[y];y+=2)if("class"===r[y]&&-1!==pn(r[y+1].toLowerCase(),o,0))return!0}else if(Ii(t))return!1;if(y=r.indexOf(1,y),y>-1){let T;for(;++y<r.length&&"string"==typeof(T=r[y]);)if(T.toLowerCase()===o)return!0}return!1}function Ii(t){return 4===t.type&&t.value!==Pt}function os(t,r,o){return r===(4!==t.type||o?t.value:Pt)}function ys(t,r,o){let c=4;const y=t.attrs,T=null!==y?function Rt(t){for(let r=0;r<t.length;r++)if(Ne(t[r]))return r;return t.length}(y):0;let N=!1;for(let W=0;W<r.length;W++){const re=r[W];if("number"!=typeof re){if(!N)if(4&c){if(c=2|1&c,""!==re&&!os(t,re,o)||""===re&&1===r.length){if(Jn(c))return!1;N=!0}}else if(8&c){if(null===y||!Kn(t,y,re,o)){if(Jn(c))return!1;N=!0}}else{const Ie=r[++W],We=Me(re,y,Ii(t),o);if(-1===We){if(Jn(c))return!1;N=!0;continue}if(""!==Ie){let ut;if(ut=We>T?"":y[We+1].toLowerCase(),2&c&&Ie!==ut){if(Jn(c))return!1;N=!0}}}}else{if(!N&&!Jn(c)&&!Jn(re))return!1;if(N&&Jn(re))continue;N=!1,c=re|1&c}}return Jn(c)||N}function Jn(t){return!(1&t)}function Me(t,r,o,c){if(null===r)return-1;let y=0;if(c||!o){let T=!1;for(;y<r.length;){const N=r[y];if(N===t)return y;if(3===N||6===N)T=!0;else{if(1===N||2===N){let W=r[++y];for(;"string"==typeof W;)W=r[++y];continue}if(4===N)break;if(0===N){y+=4;continue}}y+=T?1:2}return-1}return function Bt(t,r){let o=t.indexOf(4);if(o>-1)for(o++;o<t.length;){const c=t[o];if("number"==typeof c)return-1;if(c===r)return o;o++}return-1}(r,t)}function Xe(t,r,o=!1){for(let c=0;c<r.length;c++)if(ys(t,r[c],o))return!0;return!1}function bt(t,r){e:for(let o=0;o<r.length;o++){const c=r[o];if(t.length===c.length){for(let y=0;y<t.length;y++)if(t[y]!==c[y])continue e;return!0}}return!1}function dn(t,r){return t?":not("+r.trim()+")":r}function Jt(t){let r=t[0],o=1,c=2,y="",T=!1;for(;o<t.length;){let N=t[o];if("string"==typeof N)if(2&c){const W=t[++o];y+="["+N+(W.length>0?'="'+W+'"':"")+"]"}else 8&c?y+="."+N:4&c&&(y+=" "+N);else""!==y&&!Jn(N)&&(r+=dn(T,y),y=""),c=N,T=T||!Jn(c);o++}return""!==y&&(r+=dn(T,y)),r}function $n(t){return rt(()=>{const r=vl(t),o={...r,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Fr.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ur.Emulated,styles:t.styles||si,_:null,schemas:t.schemas||null,tView:null,id:""};$i(o);const c=t.dependencies;return o.directiveDefs=Ro(c,!1),o.pipeDefs=Ro(c,!0),o.id=function _n(t){let r=0;const o=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const y of o)r=Math.imul(31,r)+y.charCodeAt(0)|0;return r+=2147483648,"c"+r}(o),o})}function Pr(t){return ki(t)||Wn(t)}function Di(t){return null!==t}function Is(t){return rt(()=>({type:t.type,bootstrap:t.bootstrap||si,declarations:t.declarations||si,imports:t.imports||si,exports:t.exports||si,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function ua(t,r){if(null==t)return Ts;const o={};for(const c in t)if(t.hasOwnProperty(c)){const y=t[c];let T,N,W=Wr.None;Array.isArray(y)?(W=y[0],T=y[1],N=y[2]??T):(T=y,N=y),r?(o[T]=W!==Wr.None?[c,W]:c,r[T]=N):o[T]=c}return o}function Xo(t){return rt(()=>{const r=vl(t);return $i(r),r})}function Vr(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function ki(t){return t[yn]||null}function Wn(t){return t[ti]||null}function Zr(t){return t[vi]||null}function Ds(t){const r=ki(t)||Wn(t)||Zr(t);return null!==r&&r.standalone}function Er(t,r){const o=t[bi]||null;if(!o&&!0===r)throw new Error(`Type ${kn(t)} does not have '\u0275mod' property.`);return o}function vl(t){const r={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputTransforms:null,inputConfig:t.inputs||Ts,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||si,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ua(t.inputs,r),outputs:ua(t.outputs),debugInfo:null}}function $i(t){t.features?.forEach(r=>r(t))}function Ro(t,r){if(!t)return null;const o=r?Zr:Pr;return()=>("function"==typeof t?t():t).map(c=>o(c)).filter(Di)}function As(t){return{\u0275providers:t}}function Jo(...t){return{\u0275providers:Fs(0,t),\u0275fromNgModule:!0}}function Fs(t,...r){const o=[],c=new Set;let y;const T=N=>{o.push(N)};return Qr(r,N=>{const W=N;Qo(W,T,[],c)&&(y||=[],y.push(W))}),void 0!==y&&Da(y,T),o}function Da(t,r){for(let o=0;o<t.length;o++){const{ngModule:c,providers:y}=t[o];Zo(y,T=>{r(T,c)})}}function Qo(t,r,o,c){if(!(t=ct(t)))return!1;let y=null,T=Ti(t);const N=!T&&ki(t);if(T||N){if(N&&!N.standalone)return!1;y=t}else{const re=t.ngModule;if(T=Ti(re),!T)return!1;y=re}const W=c.has(y);if(N){if(W)return!1;if(c.add(y),N.dependencies){const re="function"==typeof N.dependencies?N.dependencies():N.dependencies;for(const Ie of re)Qo(Ie,r,o,c)}}else{if(!T)return!1;{if(null!=T.imports&&!W){let Ie;c.add(y);try{Qr(T.imports,We=>{Qo(We,r,o,c)&&(Ie||=[],Ie.push(We))})}finally{}void 0!==Ie&&Da(Ie,r)}if(!W){const Ie=Jr(y)||(()=>new y);r({provide:y,useFactory:Ie,deps:si},y),r({provide:pr,useValue:y,multi:!0},y),r({provide:Hr,useValue:()=>qi(y),multi:!0},y)}const re=T.providers;if(null!=re&&!W){const Ie=t;Zo(re,We=>{r(We,Ie)})}}}return y!==t&&void 0!==t.providers}function Zo(t,r){for(let o of t)gn(o)&&(o=o.\u0275providers),Array.isArray(o)?Zo(o,r):r(o)}const yl=un({provide:String,useValue:un});function hs(t){return null!==t&&"object"==typeof t&&yl in t}function Bo(t){return"function"==typeof t}const Wa=new Qt(""),Aa={},Ka={};let za;function _s(){return void 0===za&&(za=new js),za}class Tr{}class go extends Tr{get destroyed(){return this._destroyed}constructor(r,o,c,y){super(),this.parent=o,this.source=c,this.scopes=y,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,lo(r,N=>this.processProvider(N)),this.records.set(Vs,Kr(void 0,this)),y.has("environment")&&this.records.set(Tr,Kr(void 0,this));const T=this.records.get(Wa);null!=T&&"string"==typeof T.value&&this.scopes.add(T.value),this.injectorDefTypes=new Set(this.get(pr,si,yi.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const r=f(null);try{for(const c of this._ngOnDestroyHooks)c.ngOnDestroy();const o=this._onDestroyHooks;this._onDestroyHooks=[];for(const c of o)c()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),f(r)}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();const o=xr(this),c=Cr(void 0);try{return r()}finally{xr(o),Cr(c)}}get(r,o=Ni,c=yi.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(Dr))return r[Dr](this);c=Gr(c);const T=xr(this),N=Cr(void 0);try{if(!(c&yi.SkipSelf)){let re=this.records.get(r);if(void 0===re){const Ie=function da(t){return"function"==typeof t||"object"==typeof t&&t instanceof Qt}(r)&&Ei(r);re=Ie&&this.injectableDefInScope(Ie)?Kr(Rs(r),Aa):null,this.records.set(r,re)}if(null!=re)return this.hydrate(r,re)}return(c&yi.Self?_s():this.parent).get(r,o=c&yi.Optional&&o===Ni?null:o)}catch(W){if("NullInjectorError"===W.name){if((W[ai]=W[ai]||[]).unshift(kn(r)),T)throw W;return function ro(t,r,o,c){const y=t[ai];throw r[fr]&&y.unshift(r[fr]),t.message=function Co(t,r,o,c=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let y=kn(r);if(Array.isArray(r))y=r.map(kn).join(" -> ");else if("object"==typeof r){let T=[];for(let N in r)if(r.hasOwnProperty(N)){let W=r[N];T.push(N+":"+("string"==typeof W?JSON.stringify(W):kn(W)))}y=`{${T.join(", ")}}`}return`${o}${c?"("+c+")":""}[${y}]: ${t.replace(jn,"\n  ")}`}("\n"+t.message,y,o,c),t.ngTokenPath=y,t[ai]=null,t}(W,r,"R3InjectorError",this.source)}throw W}finally{Cr(N),xr(T)}}resolveInjectorInitializers(){const r=f(null),o=xr(this),c=Cr(void 0);try{const T=this.get(Hr,si,yi.Self);for(const N of T)N()}finally{xr(o),Cr(c),f(r)}}toString(){const r=[],o=this.records;for(const c of o.keys())r.push(kn(c));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ue(205,!1)}processProvider(r){let o=Bo(r=ct(r))?r:ct(r&&r.provide);const c=function Lo(t){return hs(t)?Kr(void 0,t.useValue):Kr(So(t),Aa)}(r);if(!Bo(r)&&!0===r.multi){let y=this.records.get(o);y||(y=Kr(void 0,Aa,!0),y.factory=()=>lr(y.multi),this.records.set(o,y)),o=r,y.multi.push(r)}this.records.set(o,c)}hydrate(r,o){const c=f(null);try{return o.value===Aa&&(o.value=Ka,o.value=o.factory()),"object"==typeof o.value&&o.value&&function Ya(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}finally{f(c)}}injectableDefInScope(r){if(!r.providedIn)return!1;const o=ct(r.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(r){const o=this._onDestroyHooks.indexOf(r);-1!==o&&this._onDestroyHooks.splice(o,1)}}function Rs(t){const r=Ei(t),o=null!==r?r.factory:Jr(t);if(null!==o)return o;if(t instanceof Qt)throw new Ue(204,!1);if(t instanceof Function)return function Ys(t){if(t.length>0)throw new Ue(204,!1);const o=function ji(t){return t&&(t[nt]||t[Ct])||null}(t);return null!==o?()=>o.factory(t):()=>new t}(t);throw new Ue(204,!1)}function So(t,r,o){let c;if(Bo(t)){const y=ct(t);return Jr(y)||Rs(y)}if(hs(t))c=()=>ct(t.useValue);else if(function ec(t){return!(!t||!t.useFactory)}(t))c=()=>t.useFactory(...lr(t.deps||[]));else if(function Ha(t){return!(!t||!t.useExisting)}(t))c=()=>qi(ct(t.useExisting));else{const y=ct(t&&(t.useClass||t.provide));if(!function fs(t){return!!t.deps}(t))return Jr(y)||Rs(y);c=()=>new y(...lr(t.deps))}return c}function Kr(t,r,o=!1){return{factory:t,value:r,multi:o?[]:void 0}}function lo(t,r){for(const o of t)Array.isArray(o)?lo(o,r):o&&gn(o)?lo(o.\u0275providers,r):r(o)}function Ms(t,r){t instanceof go&&t.assertNotDestroyed();const c=xr(t),y=Cr(void 0);try{return r()}finally{xr(c),Cr(y)}}function Ai(){return void 0!==gs()||null!=function Sr(){return wr}()}function bs(t){if(!Ai())throw new Ue(-203,!1)}const ye=0,P=1,pe=2,ke=3,ot=4,Mt=5,Ut=6,Zt=7,rn=8,bn=9,ei=10,Vn=11,_r=12,mi=13,jr=14,Ir=15,Cs=16,Hi=17,as=18,Mo=19,ha=20,vo=21,qr=22,Uo=23,Ri=25,Ra=1,Vo=7,Xa=9,ws=10;var Ar=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Ar||{});function Ci(t){return Array.isArray(t)&&"object"==typeof t[Ra]}function es(t){return Array.isArray(t)&&!0===t[Ra]}function Ja(t){return!!(4&t.flags)}function ea(t){return t.componentOffset>-1}function ta(t){return!(1&~t.flags)}function co(t){return!!t.template}function Qa(t){return!!(512&t[pe])}class Ma{constructor(r,o,c){this.previousValue=r,this.currentValue=o,this.firstChange=c}isFirstChange(){return this.firstChange}}function nc(t,r,o,c){null!==r?r.applyValueToInputSignal(r,c):t[o]=c}function Xs(){return ic}function ic(t){return t.type.prototype.ngOnChanges&&(t.setInput=Za),qf}function qf(){const t=xa(this),r=t?.current;if(r){const o=t.previous;if(o===Ts)t.previous=r;else for(let c in r)o[c]=r[c];t.current=null,this.ngOnChanges(r)}}function Za(t,r,o,c,y){const T=this.declaredInputs[c],N=xa(t)||function bl(t,r){return t[zr]=r}(t,{previous:Ts,current:null}),W=N.current||(N.current={}),re=N.previous,Ie=re[T];W[T]=new Ma(Ie&&Ie.currentValue,o,re===Ts),nc(t,r,y,o)}Xs.ngInherit=!0;const zr="__ngSimpleChanges__";function xa(t){return t[zr]||null}const jo=function(t,r,o){};let wl=!1;function br(t){for(;Array.isArray(t);)t=t[ye];return t}function Qu(t,r){return br(r[t])}function $o(t,r){return br(r[t.index])}function Zu(t,r){return t.data[r]}function Hc(t,r){return t[r]}function pa(t,r){const o=r[t];return Ci(o)?o:o[ye]}function tp(t){return!(128&~t[pe])}function Sl(t,r){return null==r?null:t[r]}function Wg(t){t[Hi]=0}function sb(t){1024&t[pe]||(t[pe]|=1024,tp(t)&&qu(t))}function np(t){return!!(9216&t[pe]||t[Uo]?.dirty)}function ip(t){t[ei].changeDetectionScheduler?.notify(1),np(t)?qu(t):64&t[pe]&&(function Ju(){return wl}()?(t[pe]|=1024,qu(t)):t[ei].changeDetectionScheduler?.notify())}function qu(t){t[ei].changeDetectionScheduler?.notify();let r=ka(t);for(;null!==r&&!(8192&r[pe])&&(r[pe]|=8192,tp(r));)r=ka(r)}function sc(t,r){if(!(256&~t[pe]))throw new Ue(911,!1);null===t[vo]&&(t[vo]=[]),t[vo].push(r)}function ka(t){const r=t[ke];return es(r)?r[ke]:r}const Fi={lFrame:Gs(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function zg(){return Fi.bindingsEnabled}function uo(){return null!==Fi.skipHydrationRootTNode}function wn(){return Fi.lFrame.lView}function hr(){return Fi.lFrame.tView}function fc(t){return Fi.lFrame.contextLView=t,t[rn]}function Yg(t){return Fi.lFrame.contextLView=null,t}function $r(){let t=Xg();for(;null!==t&&64===t.type;)t=t.parent;return t}function Xg(){return Fi.lFrame.currentTNode}function td(){const t=Fi.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}function El(t,r){const o=Fi.lFrame;o.currentTNode=t,o.isParent=r}function sp(){return Fi.lFrame.isParent}function op(){Fi.lFrame.isParent=!1}function Go(){const t=Fi.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}function qa(){return Fi.lFrame.bindingIndex++}function Vl(t){const r=Fi.lFrame,o=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,o}function qg(t){Fi.lFrame.inI18n=t}function ub(t,r){const o=Fi.lFrame;o.bindingIndex=o.bindingRootIndex=t,lp(r)}function lp(t){Fi.lFrame.currentDirectiveIndex=t}function cp(t){const r=Fi.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}function up(){return Fi.lFrame.currentQueryIndex}function mh(t){Fi.lFrame.currentQueryIndex=t}function hb(t){const r=t[P];return 2===r.type?r.declTNode:1===r.type?t[Mt]:null}function e1(t,r,o){if(o&yi.SkipSelf){let y=r,T=t;for(;!(y=y.parent,null!==y||o&yi.Host||(y=hb(T),null===y||(T=T[jr],10&y.type))););if(null===y)return!1;r=y,t=T}const c=Fi.lFrame=hp();return c.currentTNode=r,c.lView=t,!0}function dp(t){const r=hp(),o=t[P];Fi.lFrame=r,r.currentTNode=o.firstChild,r.lView=t,r.tView=o,r.contextLView=t,r.bindingIndex=o.bindingStartIndex,r.inI18n=!1}function hp(){const t=Fi.lFrame,r=null===t?null:t.child;return null===r?Gs(t):r}function Gs(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function t1(){const t=Fi.lFrame;return Fi.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const n1=t1;function gh(){const t=t1();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function xo(){return Fi.lFrame.selectedIndex}function pc(t){Fi.lFrame.selectedIndex=t}function ls(){const t=Fi.lFrame;return Zu(t.tView,t.selectedIndex)}let s1=!0;function Tl(){return s1}function Na(t){s1=t}function Il(t,r){for(let o=r.directiveStart,c=r.directiveEnd;o<c;o++){const T=t.data[o].type.prototype,{ngAfterContentInit:N,ngAfterContentChecked:W,ngAfterViewInit:re,ngAfterViewChecked:Ie,ngOnDestroy:We}=T;N&&(t.contentHooks??=[]).push(-o,N),W&&((t.contentHooks??=[]).push(o,W),(t.contentCheckHooks??=[]).push(o,W)),re&&(t.viewHooks??=[]).push(-o,re),Ie&&((t.viewHooks??=[]).push(o,Ie),(t.viewCheckHooks??=[]).push(o,Ie)),null!=We&&(t.destroyHooks??=[]).push(o,We)}}function na(t,r,o){id(t,r,3,o)}function nd(t,r,o,c){(3&t[pe])===o&&id(t,r,o,c)}function fp(t,r){let o=t[pe];(3&o)===r&&(o&=16383,o+=1,t[pe]=o)}function id(t,r,o,c){const T=c??-1,N=r.length-1;let W=0;for(let re=void 0!==c?65535&t[Hi]:0;re<N;re++)if("number"==typeof r[re+1]){if(W=r[re],null!=c&&W>=c)break}else r[re]<0&&(t[Hi]+=65536),(W<T||-1==T)&&(pp(t,o,r,re),t[Hi]=(4294901760&t[Hi])+re+2),re++}function a1(t,r){jo(4,t,r);const o=f(null);try{r.call(t)}finally{f(o),jo(5,t,r)}}function pp(t,r,o,c){const y=o[c]<0,T=o[c+1],W=t[y?-o[c]:o[c]];y?t[pe]>>14<t[Hi]>>16&&(3&t[pe])===r&&(t[pe]+=16384,a1(W,T)):a1(W,T)}const el=-1;class $l{constructor(r,o,c){this.factory=r,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=c}}function zc(t){return t!==el}function Oa(t){return 32767&t}function Gl(t,r){let o=function vb(t){return t>>16}(t),c=r;for(;o>0;)c=c[jr],o--;return c}let Hl=!0;function Yc(t){const r=Hl;return Hl=t,r}const mp=255,gp=5;let vp=0;const Fa={};function Xc(t,r){const o=ad(t,r);if(-1!==o)return o;const c=r[P];c.firstCreatePass&&(t.injectorIndex=r.length,od(c.data,t),od(r,null),od(c.blueprint,null));const y=oc(t,r),T=t.injectorIndex;if(zc(y)){const N=Oa(y),W=Gl(y,r),re=W[P].data;for(let Ie=0;Ie<8;Ie++)r[T+Ie]=W[N+Ie]|re[N+Ie]}return r[T+8]=y,T}function od(t,r){t.push(0,0,0,0,0,0,0,0,r)}function ad(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function oc(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let o=0,c=null,y=r;for(;null!==y;){if(c=d1(y),null===c)return el;if(o++,y=y[jr],-1!==c.injectorIndex)return c.injectorIndex|o<<16}return el}function ld(t,r,o){!function c1(t,r,o){let c;"string"==typeof o?c=o.charCodeAt(0)||0:o.hasOwnProperty(Ki)&&(c=o[Ki]),null==c&&(c=o[Ki]=vp++);const y=c&mp;r.data[t+(y>>gp)]|=1<<y}(t,r,o)}function vh(t,r,o){if(o&yi.Optional||void 0!==t)return t;Ns()}function ia(t,r,o,c){if(o&yi.Optional&&void 0===c&&(c=null),!(o&(yi.Self|yi.Host))){const y=t[bn],T=Cr(void 0);try{return y?y.get(r,c,o&yi.Optional):Os(r,c,o&yi.Optional)}finally{Cr(T)}}return vh(c,0,o)}function cd(t,r,o,c=yi.Default,y){if(null!==t){if(2048&r[pe]&&!(c&yi.Self)){const N=function _b(t,r,o,c,y){let T=t,N=r;for(;null!==T&&null!==N&&2048&N[pe]&&!(512&N[pe]);){const W=mr(T,N,o,c|yi.Self,Fa);if(W!==Fa)return W;let re=T.parent;if(!re){const Ie=N[ha];if(Ie){const We=Ie.get(o,Fa,c);if(We!==Fa)return We}re=d1(N),N=N[jr]}T=re}return y}(t,r,o,c,Fa);if(N!==Fa)return N}const T=mr(t,r,o,c,Fa);if(T!==Fa)return T}return ia(r,o,c,y)}function mr(t,r,o,c,y){const T=function Jc(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(Ki)?t[Ki]:void 0;return"number"==typeof r?r>=0?r&mp:yb:r}(o);if("function"==typeof T){if(!e1(r,t,c))return c&yi.Host?vh(y,0,c):ia(r,o,c,y);try{let N;if(N=T(c),null!=N||c&yi.Optional)return N;Ns()}finally{n1()}}else if("number"==typeof T){let N=null,W=ad(t,r),re=el,Ie=c&yi.Host?r[Ir][Mt]:null;for((-1===W||c&yi.SkipSelf)&&(re=-1===W?oc(t,r):r[W+8],re!==el&&_p(c,!1)?(N=r[P],W=Oa(re),r=Gl(re,r)):W=-1);-1!==W;){const We=r[P];if(ga(T,W,We.data)){const ut=vc(W,r,o,N,c,Ie);if(ut!==Fa)return ut}re=r[W+8],re!==el&&_p(c,r[P].data[W+8]===Ie)&&ga(T,W,r)?(N=We,W=Oa(re),r=Gl(re,r)):W=-1}}return y}function vc(t,r,o,c,y,T){const N=r[P],W=N.data[t+8],We=yh(W,N,o,null==c?ea(W)&&Hl:c!=N&&!!(3&W.type),y&yi.Host&&T===W);return null!==We?ma(r,N,We,W):Fa}function yh(t,r,o,c,y){const T=t.providerIndexes,N=r.data,W=1048575&T,re=t.directiveStart,We=T>>20,$t=y?W+We:t.directiveEnd;for(let Xt=c?W:W+We;Xt<$t;Xt++){const an=N[Xt];if(Xt<re&&o===an||Xt>=re&&an.type===o)return Xt}if(y){const Xt=N[re];if(Xt&&co(Xt)&&Xt.type===o)return re}return null}function ma(t,r,o,c){let y=t[o];const T=r.data;if(function rd(t){return t instanceof $l}(y)){const N=y;N.resolving&&function Mr(t,r){throw r&&r.join(" > "),new Ue(-200,t)}(function ri(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Gn(t)}(T[o]));const W=Yc(N.canSeeViewProviders);N.resolving=!0;const Ie=N.injectImpl?Cr(N.injectImpl):null;e1(t,c,yi.Default);try{y=t[o]=N.factory(void 0,T,t,c),r.firstCreatePass&&o>=c.directiveStart&&function o1(t,r,o){const{ngOnChanges:c,ngOnInit:y,ngDoCheck:T}=r.type.prototype;if(c){const N=ic(r);(o.preOrderHooks??=[]).push(t,N),(o.preOrderCheckHooks??=[]).push(t,N)}y&&(o.preOrderHooks??=[]).push(0-t,y),T&&((o.preOrderHooks??=[]).push(t,T),(o.preOrderCheckHooks??=[]).push(t,T))}(o,T[o],r)}finally{null!==Ie&&Cr(Ie),Yc(W),N.resolving=!1,n1()}}return y}function ga(t,r,o){return!!(o[r+(t>>gp)]&1<<t)}function _p(t,r){return!(t&yi.Self||t&yi.Host&&r)}class ho{constructor(r,o){this._tNode=r,this._lView=o}get(r,o,c){return cd(this._tNode,this._lView,r,Gr(c),o)}}function yb(){return new ho($r(),wn())}function u1(t){return rt(()=>{const r=t.prototype.constructor,o=r[ui]||bp(r),c=Object.prototype;let y=Object.getPrototypeOf(t.prototype).constructor;for(;y&&y!==c;){const T=y[ui]||bp(y);if(T&&T!==o)return T;y=Object.getPrototypeOf(y)}return T=>new T})}function bp(t){return yt(t)?()=>{const r=bp(ct(t));return r&&r()}:Jr(t)}function d1(t){const r=t[P],o=r.type;return 2===o?r.declTNode:1===o?t[Mt]:null}function _h(t){return function yp(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const o=t.attrs;if(o){const c=o.length;let y=0;for(;y<c;){const T=o[y];if(Ne(T))break;if(0===T)y+=2;else if("number"==typeof T)for(y++;y<c&&"string"==typeof o[y];)y++;else{if(T===r)return o[y+1];y+=2}}}return null}($r(),t)}function Ib(t,r=null,o=null,c){const y=Db(t,r,o,c);return y.resolveInjectorInitializers(),y}function Db(t,r=null,o=null,c,y=new Set){const T=[o||si,Jo(t)];return c=c||("object"==typeof t?void 0:kn(t)),new go(T,r||_s(),c||null,y)}let va=(()=>{class t{static{this.THROW_IF_NOT_FOUND=Ni}static{this.NULL=new js}static create(o,c){if(Array.isArray(o))return Ib({name:""},c,o,"");{const y=o.name??"";return Ib({name:y},o.parent,o.providers,y)}}static{this.\u0275prov=ni({token:t,providedIn:"any",factory:()=>qi(Vs)})}static{this.__NG_ELEMENT_ID__=-1}}return t})();function ud(t){return t.ngOriginalError}class Dl{constructor(){this._console=console}handleError(r){const o=this._findOriginalError(r);this._console.error("ERROR",r),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(r){let o=r&&ud(r);for(;o&&ud(o);)o=ud(o);return o||null}}const Ch=new Qt("",{providedIn:"root",factory:()=>Hn(Dl).handleError.bind(void 0)});let yc=(()=>{class t{static{this.__NG_ELEMENT_ID__=Rb}static{this.__NG_ENV_ID__=o=>o}}return t})();class Ab extends yc{constructor(r){super(),this._lView=r}onDestroy(r){return sc(this._lView,r),()=>function fh(t,r){if(null===t[vo])return;const o=t[vo].indexOf(r);-1!==o&&t[vo].splice(o,1)}(this._lView,r)}}function Rb(){return new Ab(wn())}function y1(){return qc($r(),wn())}function qc(t,r){return new dd($o(t,r))}let dd=(()=>{class t{constructor(o){this.nativeElement=o}static{this.__NG_ELEMENT_ID__=y1}}return t})();function _1(t){return t instanceof dd?t.nativeElement:t}function wp(t){return r=>{setTimeout(t,void 0,r)}}const Al=class Mb extends J.B{constructor(r=!1){super(),this.destroyRef=void 0,this.__isAsync=r,Ai()&&(this.destroyRef=Hn(yc,{optional:!0})??void 0)}emit(r){const o=f(null);try{super.next(r)}finally{f(o)}}subscribe(r,o,c){let y=r,T=o||(()=>null),N=c;if(r&&"object"==typeof r){const re=r;y=re.next?.bind(re),T=re.error?.bind(re),N=re.complete?.bind(re)}this.__isAsync&&(T=wp(T),y&&(y=wp(y)),N&&(N=wp(N)));const W=super.subscribe({next:y,error:T,complete:N});return r instanceof X.yU&&r.add(W),W}};function xb(){return this._results[Symbol.iterator]()}class eu{get changes(){return this._changes??=new Al}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const o=eu.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=xb)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,o){return this._results.reduce(r,o)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,o){this.dirty=!1;const c=function tr(t){return t.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function mo(t,r,o){if(t.length!==r.length)return!1;for(let c=0;c<t.length;c++){let y=t[c],T=r[c];if(o&&(y=o(y),T=o(T)),T!==y)return!1}return!0}(this._results,c,o))&&(this._results=c,this.length=c.length,this.last=c[this.length-1],this.first=c[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(r){this._onDirty=r}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function wh(t){return!(128&~t.flags)}const bc=new Map;let kb=0;const hd="__ngContext__";function ko(t,r){Ci(r)?(t[hd]=r[Mo],function tu(t){bc.set(t[Mo],t)}(r)):t[hd]=r}function E1(t){return I1(t[_r])}function T1(t){return I1(t[ot])}function I1(t){for(;null!==t&&!es(t);)t=t[ot];return t}let Ep;function Xb(t){Ep=t}function ac(){if(void 0!==Ep)return Ep;if(typeof document<"u")return document;throw new Ue(210,!1)}const O1=new Qt("",{providedIn:"root",factory:()=>Jb}),Jb="ng",F1=new Qt(""),Tp=new Qt("",{providedIn:"platform",factory:()=>"unknown"}),Qb=new Qt(""),Zb=new Qt("",{providedIn:"root",factory:()=>ac().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let B1=()=>null;function kp(t,r,o=!1){return B1(t,r,o)}const $1=new Qt("",{providedIn:"root",factory:()=>!1});let kh,su;function No(t){return function Lp(){if(void 0===kh&&(kh=null,ht.trustedTypes))try{kh=ht.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return kh}()?.createHTML(t)||t}function Up(){if(void 0===su&&(su=null,ht.trustedTypes))try{su=ht.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return su}function W1(t){return Up()?.createHTML(t)||t}function rl(t){return Up()?.createScriptURL(t)||t}class Cc{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${lt})`}}class K1 extends Cc{getTypeName(){return"HTML"}}class ya extends Cc{getTypeName(){return"Style"}}class sl extends Cc{getTypeName(){return"Script"}}class ol extends Cc{getTypeName(){return"URL"}}class _a extends Cc{getTypeName(){return"ResourceURL"}}function al(t){return t instanceof Cc?t.changingThisBreaksApplicationSecurity:t}function kl(t,r){const o=function ou(t){return t instanceof Cc&&t.getTypeName()||null}(t);if(null!=o&&o!==r){if("ResourceURL"===o&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${o} (see ${lt})`)}return o===r}function _d(t){return new K1(t)}function oC(t){return new ya(t)}function z1(t){return new sl(t)}function bd(t){return new ol(t)}function aC(t){return new _a(t)}function Vp(t){const r=new lC(t);return function cC(){try{return!!(new window.DOMParser).parseFromString(No(""),"text/html")}catch{return!1}}()?new Y1(r):r}class Y1{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const o=(new window.DOMParser).parseFromString(No(r),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(r):(o.removeChild(o.firstChild),o)}catch{return null}}}class lC{constructor(r){this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(r){const o=this.inertDocument.createElement("template");return o.innerHTML=No(r),o}}const uC=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Nh(t){return(t=String(t)).match(uC)?t:"unsafe:"+t}function Wl(t){const r={};for(const o of t.split(","))r[o]=!0;return r}function Cd(...t){const r={};for(const o of t)for(const c in o)o.hasOwnProperty(c)&&(r[c]=!0);return r}const X1=Wl("area,br,col,hr,img,wbr"),J1=Wl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Q1=Wl("rp,rt"),oa=Cd(X1,Cd(J1,Wl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Cd(Q1,Wl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Cd(Q1,J1)),wd=Wl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Sd=Cd(wd,Wl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Wl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),cu=Wl("script,style,template");class jp{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let o=r.firstChild,c=!0,y=[];for(;o;)if(o.nodeType===Node.ELEMENT_NODE?c=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,c&&o.firstChild)y.push(o),o=$p(o);else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let T=uu(o);if(T){o=T;break}o=y.pop()}return this.buf.join("")}startElement(r){const o=Oh(r).toLowerCase();if(!oa.hasOwnProperty(o))return this.sanitizedSomething=!0,!cu.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const c=r.attributes;for(let y=0;y<c.length;y++){const T=c.item(y),N=T.name,W=N.toLowerCase();if(!Sd.hasOwnProperty(W)){this.sanitizedSomething=!0;continue}let re=T.value;wd[W]&&(re=Nh(re)),this.buf.push(" ",N,'="',ll(re),'"')}return this.buf.push(">"),!0}endElement(r){const o=Oh(r).toLowerCase();oa.hasOwnProperty(o)&&!X1.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(r){this.buf.push(ll(r))}}function uu(t){const r=t.nextSibling;if(r&&t!==r.previousSibling)throw q1(r);return r}function $p(t){const r=t.firstChild;if(r&&function Z1(t,r){return(t.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(t,r))throw q1(r);return r}function Oh(t){const r=t.nodeName;return"string"==typeof r?r:"FORM"}function q1(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}const Kl=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,dC=/([^\#-~ |!])/g;function ll(t){return t.replace(/&/g,"&amp;").replace(Kl,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(dC,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Sc;function Fh(t,r){let o=null;try{Sc=Sc||Vp(t);let c=r?String(r):"";o=Sc.getInertBodyElement(c);let y=5,T=c;do{if(0===y)throw new Error("Failed to sanitize html because the input is unstable");y--,c=T,T=o.innerHTML,o=Sc.getInertBodyElement(c)}while(c!==T);return No((new jp).sanitizeChildren(Ph(o)||o))}finally{if(o){const c=Ph(o)||o;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function Ph(t){return"content"in t&&function Ed(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Ec=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Ec||{});function Gp(t){const r=du();return r?W1(r.sanitize(Ec.HTML,t)||""):kl(t,"HTML")?W1(al(t)):Fh(ac(),Gn(t))}function Tc(t){const r=du();return r?r.sanitize(Ec.URL,t)||"":kl(t,"URL")?al(t):Nh(Gn(t))}function Hp(t){const r=du();if(r)return rl(r.sanitize(Ec.RESOURCE_URL,t)||"");if(kl(t,"ResourceURL"))return rl(al(t));throw new Ue(904,!1)}function t0(t,r,o){return function pC(t,r){return"src"===r&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===r&&("base"===t||"link"===t)?Hp:Tc}(r,o)(t)}function du(){const t=wn();return t&&t[ei].sanitizer}const r0=/^>|^->|<!--|-->|--!>|<!-$/g,s0=/(<|>)/g,o0="\u200b$1\u200b";function u0(t){return t.ownerDocument.defaultView}function Xp(t){return t.ownerDocument}function La(t){return t instanceof Function?t():t}var Vh=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Vh||{});let Zp;function qp(t,r){return Zp(t,r)}function fu(t,r,o,c,y){if(null!=c){let T,N=!1;es(c)?T=c:Ci(c)&&(N=!0,c=c[ye]);const W=br(c);0===t&&null!==o?null==y?g0(r,o,W):Ic(r,o,W,y||null,!0):1===t&&null!==o?Ic(r,o,W,y||null,!0):2===t?function Ad(t,r,o){const c=Gh(t,r);c&&function DC(t,r,o,c){t.removeChild(r,o,c)}(t,c,r,o)}(r,W,N):3===t&&r.destroyNode(W),null!=T&&function MC(t,r,o,c,y){const T=o[Vo];T!==br(o)&&fu(r,t,c,T,y);for(let W=ws;W<o.length;W++){const re=o[W];Wh(re[P],re,t,r,c,T)}}(r,t,T,o,y)}}function em(t,r){return t.createText(r)}function tm(t,r){return t.createComment(function Bh(t){return t.replace(r0,r=>r.replace(s0,o0))}(r))}function jh(t,r,o){return t.createElement(r,o)}function SC(t,r){r[ei].changeDetectionScheduler?.notify(1),Wh(t,r,r[Vn],2,null,null)}function p0(t,r){const o=t[Xa],c=o.indexOf(r);o.splice(c,1)}function Dd(t,r){if(t.length<=ws)return;const o=ws+r,c=t[o];if(c){const y=c[Cs];null!==y&&y!==t&&p0(y,c),r>0&&(t[o-1][ot]=c[ot]);const T=Yo(t,ws+r);!function wC(t,r){SC(t,r),r[ye]=null,r[Mt]=null}(c[P],c);const N=T[as];null!==N&&N.detachView(T[P]),c[ke]=null,c[ot]=null,c[pe]&=-129}return c}function $h(t,r){if(!(256&r[pe])){const o=r[Vn];o.destroyNode&&Wh(t,r,o,3,null,null),function EC(t){let r=t[_r];if(!r)return nm(t[P],t);for(;r;){let o=null;if(Ci(r))o=r[_r];else{const c=r[ws];c&&(o=c)}if(!o){for(;r&&!r[ot]&&r!==t;)Ci(r)&&nm(r[P],r),r=r[ke];null===r&&(r=t),Ci(r)&&nm(r[P],r),o=r&&r[ot]}r=o}}(r)}}function nm(t,r){if(256&r[pe])return;const o=f(null);try{r[pe]&=-129,r[pe]|=256,r[Uo]&&function G(t){if(Q(t),L(t))for(let r=0;r<t.producerNode.length;r++)le(t.producerNode[r],t.producerIndexOfThis[r]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}(r[Uo]),function IC(t,r){let o;if(null!=t&&null!=(o=t.destroyHooks))for(let c=0;c<o.length;c+=2){const y=r[o[c]];if(!(y instanceof $l)){const T=o[c+1];if(Array.isArray(T))for(let N=0;N<T.length;N+=2){const W=y[T[N]],re=T[N+1];jo(4,W,re);try{re.call(W)}finally{jo(5,W,re)}}else{jo(4,y,T);try{T.call(y)}finally{jo(5,y,T)}}}}}(t,r),function TC(t,r){const o=t.cleanup,c=r[Zt];if(null!==o)for(let T=0;T<o.length-1;T+=2)if("string"==typeof o[T]){const N=o[T+3];N>=0?c[N]():c[-N].unsubscribe(),T+=2}else o[T].call(c[o[T+1]]);null!==c&&(r[Zt]=null);const y=r[vo];if(null!==y){r[vo]=null;for(let T=0;T<y.length;T++)(0,y[T])()}}(t,r),1===r[P].type&&r[Vn].destroy();const c=r[Cs];if(null!==c&&es(r[ke])){c!==r[ke]&&p0(c,r);const y=r[as];null!==y&&y.detachView(t)}!function Eh(t){bc.delete(t[Mo])}(r)}finally{f(o)}}function im(t,r,o){return m0(t,r.parent,o)}function m0(t,r,o){let c=r;for(;null!==c&&40&c.type;)c=(r=c).parent;if(null===c)return o[ye];{const{componentOffset:y}=c;if(y>-1){const{encapsulation:T}=t.data[c.directiveStart+y];if(T===Ur.None||T===Ur.Emulated)return null}return $o(c,o)}}function Ic(t,r,o,c,y){t.insertBefore(r,o,c,y)}function g0(t,r,o){t.appendChild(r,o)}function v0(t,r,o,c,y){null!==c?Ic(t,r,o,c,y):g0(t,r,o)}function Gh(t,r){return t.parentNode(r)}function y0(t,r,o){return b0(t,r,o)}function _0(t,r,o){return 40&t.type?$o(t,o):null}let rm,b0=_0;function C0(t,r){b0=t,rm=r}function Hh(t,r,o,c){const y=im(t,c,r),T=r[Vn],W=y0(c.parent||r[Mt],c,r);if(null!=y)if(Array.isArray(o))for(let re=0;re<o.length;re++)v0(T,y,o[re],W,!1);else v0(T,y,o,W,!1);void 0!==rm&&rm(T,c,r,o,y)}function pu(t,r){if(null!==r){const o=r.type;if(3&o)return $o(r,t);if(4&o)return sm(-1,t[r.index]);if(8&o){const c=r.child;if(null!==c)return pu(t,c);{const y=t[r.index];return es(y)?sm(-1,y):br(y)}}if(32&o)return qp(r,t)()||br(t[r.index]);{const c=w0(t,r);return null!==c?Array.isArray(c)?c[0]:pu(ka(t[Ir]),c):pu(t,r.next)}}return null}function w0(t,r){return null!==r?t[Ir][Mt].projection[r.projection]:null}function sm(t,r){const o=ws+t+1;if(o<r.length){const c=r[o],y=c[P].firstChild;if(null!==y)return pu(c,y)}return r[Vo]}function om(t,r,o,c,y,T,N){for(;null!=o;){const W=c[o.index],re=o.type;if(N&&0===r&&(W&&ko(br(W),c),o.flags|=2),32&~o.flags)if(8&re)om(t,r,o.child,c,y,T,!1),fu(r,t,y,W,T);else if(32&re){const Ie=qp(o,c);let We;for(;We=Ie();)fu(r,t,y,We,T);fu(r,t,y,W,T)}else 16&re?E0(t,r,c,o,y,T):fu(r,t,y,W,T);o=N?o.projectionNext:o.next}}function Wh(t,r,o,c,y,T){om(o,c,t.firstChild,r,y,T,!1)}function E0(t,r,o,c,y,T){const N=o[Ir],re=N[Mt].projection[c.projection];if(Array.isArray(re))for(let Ie=0;Ie<re.length;Ie++)fu(r,t,y,re[Ie],T);else{let Ie=re;const We=N[ke];wh(c)&&(Ie.flags|=128),om(t,r,Ie,We,y,T,!0)}}function T0(t,r,o){""===o?t.removeAttribute(r,"class"):t.setAttribute(r,"class",o)}function I0(t,r,o){const{mergedAttrs:c,classes:y,styles:T}=o;null!==c&&vs(t,r,c),null!==y&&T0(t,r,y),null!==T&&function kC(t,r,o){t.setAttribute(r,"style",o)}(t,r,T)}const Wi={};function D0(t=1){Kh(hr(),wn(),xo()+t,!1)}function Kh(t,r,o,c){if(!c)if(3&~r[pe]){const T=t.preOrderHooks;null!==T&&nd(r,T,0,o)}else{const T=t.preOrderCheckHooks;null!==T&&na(r,T,o)}pc(o)}function mu(t,r=yi.Default){const o=wn();return null===o?qi(t,r):cd($r(),o,ct(t),r)}function A0(){throw new Error("invalid")}function R0(t,r,o,c,y,T){const N=f(null);try{let W=null;y&Wr.SignalBased&&(W=r[c][v]),null!==W&&void 0!==W.transformFn&&(T=W.transformFn(T)),y&Wr.HasDecoratorInputTransform&&(T=t.inputTransforms[c].call(r,T)),null!==t.setInput?t.setInput(r,W,T,o,c):nc(r,W,c,T)}finally{f(N)}}function zh(t,r,o,c,y,T,N,W,re,Ie,We){const ut=r.blueprint.slice();return ut[ye]=y,ut[pe]=204|c,(null!==Ie||t&&2048&t[pe])&&(ut[pe]|=2048),Wg(ut),ut[ke]=ut[jr]=t,ut[rn]=o,ut[ei]=N||t&&t[ei],ut[Vn]=W||t&&t[Vn],ut[bn]=re||t&&t[bn]||null,ut[Mt]=T,ut[Mo]=function Nb(){return kb++}(),ut[Ut]=We,ut[ha]=Ie,ut[Ir]=2==r.type?t[Ir]:ut,ut}function gu(t,r,o,c,y){let T=t.data[r];if(null===T)T=am(t,r,o,c,y),function cb(){return Fi.lFrame.inI18n}()&&(T.flags|=32);else if(64&T.type){T.type=o,T.value=c,T.attrs=y;const N=td();T.injectorIndex=null===N?-1:N.injectorIndex}return El(T,!0),T}function am(t,r,o,c,y){const T=Xg(),N=sp(),re=t.data[r]=function VC(t,r,o,c,y,T){let N=r?r.injectorIndex:-1,W=0;return uo()&&(W|=128),{type:o,index:c,insertBeforeIndex:null,injectorIndex:N,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:W,providerIndexes:0,value:y,attrs:T,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,N?T:T&&T.parent,o,r,c,y);return null===t.firstChild&&(t.firstChild=re),null!==T&&(N?null==T.child&&null!==re.parent&&(T.child=re):null===T.next&&(T.next=re,re.prev=T)),re}function Rd(t,r,o,c){if(0===o)return-1;const y=r.length;for(let T=0;T<o;T++)r.push(c),t.blueprint.push(c),t.data.push(null);return y}function M0(t,r,o,c,y){const T=xo(),N=2&c;try{pc(-1),N&&r.length>Ri&&Kh(t,r,Ri,!1),jo(N?2:0,y),o(c,y)}finally{pc(T),jo(N?3:1,y)}}function lm(t,r,o){if(Ja(r)){const c=f(null);try{const T=r.directiveEnd;for(let N=r.directiveStart;N<T;N++){const W=t.data[N];W.contentQueries&&W.contentQueries(1,o[N],N)}}finally{f(c)}}}function cm(t,r,o){zg()&&(function HC(t,r,o,c){const y=o.directiveStart,T=o.directiveEnd;ea(o)&&function JC(t,r,o){const c=$o(r,t),y=x0(o);let N=16;o.signals?N=4096:o.onPush&&(N=64);const W=Dc(t,zh(t,y,null,N,c,r,null,t[ei].rendererFactory.createRenderer(c,o),null,null,null));t[r.index]=W}(r,o,t.data[y+o.componentOffset]),t.firstCreatePass||Xc(o,r),ko(c,r);const N=o.initialInputs;for(let W=y;W<T;W++){const re=t.data[W],Ie=ma(r,t,W,o);ko(Ie,r),null!==N&&SI(0,W-y,Ie,re,0,N),co(re)&&(pa(o.index,r)[rn]=ma(r,t,W,o))}}(t,r,o,$o(o,r)),!(64&~o.flags)&&WC(t,r,o))}function um(t,r,o=$o){const c=r.localNames;if(null!==c){let y=r.index+1;for(let T=0;T<c.length;T+=2){const N=c[T+1],W=-1===N?o(r,t):t[N];t[y++]=W}}}function x0(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=dm(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):r}function dm(t,r,o,c,y,T,N,W,re,Ie,We){const ut=Ri+c,$t=ut+y,Xt=function OC(t,r){const o=[];for(let c=0;c<r;c++)o.push(c<t?null:Wi);return o}(ut,$t),an="function"==typeof Ie?Ie():Ie;return Xt[P]={type:t,blueprint:Xt,template:o,queries:null,viewQuery:W,declTNode:r,data:Xt.slice().fill(null,ut),bindingStartIndex:ut,expandoStartIndex:$t,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof T?T():T,pipeRegistry:"function"==typeof N?N():N,firstChild:null,schemas:re,consts:an,incompleteFirstPass:!1,ssrId:We}}let k0=()=>null;function N0(t,r,o,c,y){for(let T in r){if(!r.hasOwnProperty(T))continue;const N=r[T];if(void 0===N)continue;c??={};let W,re=Wr.None;Array.isArray(N)?(W=N[0],re=N[1]):W=N;let Ie=T;if(null!==y){if(!y.hasOwnProperty(T))continue;Ie=y[T]}0===t?O0(c,o,Ie,W,re):O0(c,o,Ie,W)}return c}function O0(t,r,o,c,y){let T;t.hasOwnProperty(o)?(T=t[o]).push(r,c):T=t[o]=[r,c],void 0!==y&&T.push(y)}function ba(t,r,o,c,y,T,N,W){const re=$o(r,o);let We,Ie=r.inputs;!W&&null!=Ie&&(We=Ie[c])?(fo(t,o,We,c,y),ea(r)&&function jC(t,r){const o=pa(r,t);16&o[pe]||(o[pe]|=64)}(o,r.index)):3&r.type&&(c=function yI(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(c),y=null!=N?N(y,r.value||"",c):y,T.setProperty(re,c,y))}function F0(t,r,o,c){if(zg()){const y=null===c?null:{"":-1},T=function zC(t,r){const o=t.directiveRegistry;let c=null,y=null;if(o)for(let T=0;T<o.length;T++){const N=o[T];if(Xe(r,N.selectors,!1))if(c||(c=[]),co(N))if(null!==N.findHostDirectiveDefs){const W=[];y=y||new Map,N.findHostDirectiveDefs(N,W,y),c.unshift(...W,N),P0(t,r,W.length)}else c.unshift(N),P0(t,r,0);else y=y||new Map,N.findHostDirectiveDefs?.(N,c,y),c.push(N)}return null===c?null:[c,y]}(t,o);let N,W;null===T?N=W=null:[N,W]=T,null!==N&&$C(t,r,o,N,y,W),y&&function CI(t,r,o){if(r){const c=t.localNames=[];for(let y=0;y<r.length;y+=2){const T=o[r[y+1]];if(null==T)throw new Ue(-301,!1);c.push(r[y],T)}}}(o,c,y)}o.mergedAttrs=ge(o.mergedAttrs,o.attrs)}function $C(t,r,o,c,y,T){for(let Ie=0;Ie<c.length;Ie++)ld(Xc(o,r),t,c[Ie].type);!function wI(t,r,o){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+o,t.providerIndexes=r}(o,t.data.length,c.length);for(let Ie=0;Ie<c.length;Ie++){const We=c[Ie];We.providersResolver&&We.providersResolver(We)}let N=!1,W=!1,re=Rd(t,r,c.length,null);for(let Ie=0;Ie<c.length;Ie++){const We=c[Ie];o.mergedAttrs=ge(o.mergedAttrs,We.hostAttrs),XC(t,o,r,re,We),YC(re,We,y),null!==We.contentQueries&&(o.flags|=4),(null!==We.hostBindings||null!==We.hostAttrs||0!==We.hostVars)&&(o.flags|=64);const ut=We.type.prototype;!N&&(ut.ngOnChanges||ut.ngOnInit||ut.ngDoCheck)&&((t.preOrderHooks??=[]).push(o.index),N=!0),!W&&(ut.ngOnChanges||ut.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(o.index),W=!0),re++}!function vI(t,r,o){const y=r.directiveEnd,T=t.data,N=r.attrs,W=[];let re=null,Ie=null;for(let We=r.directiveStart;We<y;We++){const ut=T[We],$t=o?o.get(ut):null,an=$t?$t.outputs:null;re=N0(0,ut.inputs,We,re,$t?$t.inputs:null),Ie=N0(1,ut.outputs,We,Ie,an);const Dn=null===re||null===N||Ii(r)?null:QC(re,We,N);W.push(Dn)}null!==re&&(re.hasOwnProperty("class")&&(r.flags|=8),re.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=W,r.inputs=re,r.outputs=Ie}(t,o,T)}function WC(t,r,o){const c=o.directiveStart,y=o.directiveEnd,T=o.index,N=function db(){return Fi.lFrame.currentDirectiveIndex}();try{pc(T);for(let W=c;W<y;W++){const re=t.data[W],Ie=r[W];lp(W),(null!==re.hostBindings||0!==re.hostVars||null!==re.hostAttrs)&&KC(re,Ie)}}finally{pc(-1),lp(N)}}function KC(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function P0(t,r,o){r.componentOffset=o,(t.components??=[]).push(r.index)}function YC(t,r,o){if(o){if(r.exportAs)for(let c=0;c<r.exportAs.length;c++)o[r.exportAs[c]]=t;co(r)&&(o[""]=t)}}function XC(t,r,o,c,y){t.data[c]=y;const T=y.factory||(y.factory=Jr(y.type)),N=new $l(T,co(y),mu);t.blueprint[c]=N,o[c]=N,function bI(t,r,o,c,y){const T=y.hostBindings;if(T){let N=t.hostBindingOpCodes;null===N&&(N=t.hostBindingOpCodes=[]);const W=~r.index;(function GC(t){let r=t.length;for(;r>0;){const o=t[--r];if("number"==typeof o&&o<0)return o}return 0})(N)!=W&&N.push(W),N.push(o,c,T)}}(t,r,c,Rd(t,o,y.hostVars,Wi),y)}function zl(t,r,o,c,y,T){const N=$o(t,r);!function hm(t,r,o,c,y,T,N){if(null==T)t.removeAttribute(r,y,o);else{const W=null==N?Gn(T):N(T,c||"",y);t.setAttribute(r,y,W,o)}}(r[Vn],N,T,t.value,o,c,y)}function SI(t,r,o,c,y,T){const N=T[r];if(null!==N)for(let W=0;W<N.length;)R0(c,o,N[W++],N[W++],N[W++],N[W++])}function QC(t,r,o){let c=null,y=0;for(;y<o.length;){const T=o[y];if(0!==T)if(5!==T){if("number"==typeof T)break;if(t.hasOwnProperty(T)){null===c&&(c=[]);const N=t[T];for(let W=0;W<N.length;W+=3)if(N[W]===r){c.push(T,N[W+1],N[W+2],o[y+1]);break}}y+=2}else y+=2;else y+=4}return c}function ZC(t,r,o,c){return[t,!0,0,r,null,c,null,o,null,null]}function fm(t,r){const o=t.contentQueries;if(null!==o){const c=f(null);try{for(let y=0;y<o.length;y+=2){const N=o[y+1];if(-1!==N){const W=t.data[N];mh(o[y]),W.contentQueries(2,r[N],N)}}}finally{f(c)}}}function Dc(t,r){return t[_r]?t[mi][ot]=r:t[_r]=r,t[mi]=r,r}function pm(t,r,o){mh(0);const c=f(null);try{r(t,o)}finally{f(c)}}function Ho(t){return t[Zt]||(t[Zt]=[])}function qC(t){return t.cleanup||(t.cleanup=[])}function B0(t,r,o){return(null===t||co(t))&&(o=function ep(t){for(;Array.isArray(t);){if("object"==typeof t[Ra])return t;t=t[ye]}return null}(o[r.index])),o[Vn]}function Yl(t,r){const o=t[bn],c=o?o.get(Dl,null):null;c&&c.handleError(r)}function fo(t,r,o,c,y){for(let T=0;T<o.length;){const N=o[T++],W=o[T++],re=o[T++];R0(t.data[N],r[N],c,W,re,y)}}function Ps(t,r,o){const c=Qu(r,t);!function f0(t,r,o){t.setValue(r,o)}(t[Vn],c,o)}function Ac(t,r){const o=pa(r,t),c=o[P];!function L0(t,r){for(let o=r.length;o<t.blueprint.length;o++)r.push(t.blueprint[o])}(c,o);const y=o[ye];null!==y&&null===o[Ut]&&(o[Ut]=kp(y,o[bn])),Yh(c,o,o[rn])}function Yh(t,r,o){dp(r);try{const c=t.viewQuery;null!==c&&pm(1,c,o);const y=t.template;null!==y&&M0(t,r,y,1,o),t.firstCreatePass&&(t.firstCreatePass=!1),r[as]?.finishViewCreation(t),t.staticContentQueries&&fm(t,r),t.staticViewQueries&&pm(2,t.viewQuery,o);const T=t.components;null!==T&&function TI(t,r){for(let o=0;o<r.length;o++)Ac(t,r[o])}(r,T)}catch(c){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),c}finally{r[pe]&=-5,gh()}}function Md(t,r,o,c){const y=f(null);try{const T=r.tView,re=zh(t,T,o,4096&t[pe]?4096:16,null,r,null,null,c?.injector??null,c?.embeddedViewInjector??null,c?.dehydratedView??null);re[Cs]=t[r.index];const We=t[as];return null!==We&&(re[as]=We.createEmbeddedView(T)),Yh(T,re,o),re}finally{f(y)}}function Rc(t,r){const o=ws+r;if(o<t.length)return t[o]}function vu(t,r){return!r||null===r.firstChild||wh(t)}function Xh(t,r,o,c=!0){const y=r[P];if(function pI(t,r,o,c){const y=ws+c,T=o.length;c>0&&(o[y-1][ot]=r),c<T-ws?(r[ot]=o[y],Po(o,ws+c,r)):(o.push(r),r[ot]=null),r[ke]=o;const N=r[Cs];null!==N&&o!==N&&function mI(t,r){const o=t[Xa];r[Ir]!==r[ke][ke][Ir]&&(t[pe]|=Ar.HasTransplantedViews),null===o?t[Xa]=[r]:o.push(r)}(N,r);const W=r[as];null!==W&&W.insertView(t),ip(r),r[pe]|=128}(y,r,t,o),c){const N=sm(o,t),W=r[Vn],re=Gh(W,t[Vo]);null!==re&&function fI(t,r,o,c,y,T){c[ye]=y,c[Mt]=r,Wh(t,c,o,1,y,T)}(y,t[Mt],W,r,re,N)}const T=r[Ut];null!==T&&null!==T.firstChild&&(T.firstChild=null)}function Jh(t,r){const o=Dd(t,r);return void 0!==o&&$h(o[P],o),o}function xd(t,r,o,c,y=!1){for(;null!==o;){const T=r[o.index];null!==T&&c.push(br(T)),es(T)&&U0(T,c);const N=o.type;if(8&N)xd(t,r,o.child,c);else if(32&N){const W=qp(o,r);let re;for(;re=W();)c.push(re)}else if(16&N){const W=w0(r,o);if(Array.isArray(W))c.push(...W);else{const re=ka(r[Ir]);xd(re[P],re,W,c,!0)}}o=y?o.projectionNext:o.next}return c}function U0(t,r){for(let o=ws;o<t.length;o++){const c=t[o],y=c[P].firstChild;null!==y&&xd(c[P],c,y,r)}t[Vo]!==t[ye]&&r.push(t[Vo])}let yu=[];const tw={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{qu(t.lView)},consumerOnSignalRead(){this.lView[Uo]=this}},V0=100;function kd(t,r=!0,o=0){const c=t[ei],y=c.rendererFactory;y.begin?.();try{!function nw(t,r){H0(t,r);let o=0;for(;np(t);){if(o===V0)throw new Ue(103,!1);o++,H0(t,1)}}(t,o)}catch(N){throw r&&Yl(t,N),N}finally{y.end?.(),c.inlineEffectRunner?.flush()}}function j0(t,r,o,c){const y=r[pe];if(!(256&~y))return;r[ei].inlineEffectRunner?.flush(),dp(r);let N=null,W=null;(function $0(t){return 2!==t.type})(t)&&(W=function Ua(t){return t[Uo]??function II(t){const r=yu.pop()??Object.create(tw);return r.lView=t,r}(t)}(r),N=function x(t){return t&&(t.nextProducerIndex=0),f(t)}(W));try{Wg(r),function Zg(t){return Fi.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==o&&M0(t,r,o,2,c);const re=!(3&~y);if(re){const ut=t.preOrderCheckHooks;null!==ut&&na(r,ut,null)}else{const ut=t.preOrderHooks;null!==ut&&nd(r,ut,0,null),fp(r,0)}if(function iw(t){for(let r=E1(t);null!==r;r=T1(r)){if(!(r[pe]&Ar.HasTransplantedViews))continue;const o=r[Xa];for(let c=0;c<o.length;c++){sb(o[c])}}}(r),G0(r,0),null!==t.contentQueries&&fm(t,r),re){const ut=t.contentCheckHooks;null!==ut&&na(r,ut)}else{const ut=t.contentHooks;null!==ut&&nd(r,ut,1),fp(r,1)}!function NC(t,r){const o=t.hostBindingOpCodes;if(null!==o)try{for(let c=0;c<o.length;c++){const y=o[c];if(y<0)pc(~y);else{const T=y,N=o[++c],W=o[++c];ub(N,T),W(2,r[T])}}}finally{pc(-1)}}(t,r);const Ie=t.components;null!==Ie&&mm(r,Ie,0);const We=t.viewQuery;if(null!==We&&pm(2,We,c),re){const ut=t.viewCheckHooks;null!==ut&&na(r,ut)}else{const ut=t.viewHooks;null!==ut&&nd(r,ut,2),fp(r,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r[qr]){for(const ut of r[qr])ut();r[qr]=null}r[pe]&=-73}catch(re){throw qu(r),re}finally{null!==W&&(function $(t,r){if(f(r),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(L(t))for(let o=t.nextProducerIndex;o<t.producerNode.length;o++)le(t.producerNode[o],t.producerIndexOfThis[o]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}(W,N),function ew(t){t.lView[Uo]!==t&&(t.lView=null,yu.push(t))}(W)),gh()}}function G0(t,r){for(let o=E1(t);null!==o;o=T1(o))for(let c=ws;c<o.length;c++)Qh(o[c],r)}function Mc(t,r,o){Qh(pa(r,t),o)}function Qh(t,r){tp(t)&&H0(t,r)}function H0(t,r){const c=t[P],y=t[pe],T=t[Uo];let N=!!(0===r&&16&y);if(N||=!!(64&y&&0===r),N||=!!(1024&y),N||=!(!T?.dirty||!U(T)),T&&(T.dirty=!1),t[pe]&=-9217,N)j0(c,t,c.template,t[rn]);else if(8192&y){G0(t,1);const W=c.components;null!==W&&mm(t,W,1)}}function mm(t,r,o){for(let c=0;c<r.length;c++)Mc(t,r[c],o)}function Zh(t){for(t[ei].changeDetectionScheduler?.notify();t;){t[pe]|=64;const r=ka(t);if(Qa(t)&&!r)return t;t=r}return null}class qh{get rootNodes(){const r=this._lView,o=r[P];return xd(o,r,o.firstChild,[])}constructor(r,o,c=!0){this._lView=r,this._cdRefInjectingView=o,this.notifyErrorHandler=c,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[rn]}set context(r){this._lView[rn]=r}get destroyed(){return!(256&~this._lView[pe])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[ke];if(es(r)){const o=r[8],c=o?o.indexOf(this):-1;c>-1&&(Dd(r,c),Yo(o,c))}this._attachedToViewContainer=!1}$h(this._lView[P],this._lView)}onDestroy(r){sc(this._lView,r)}markForCheck(){Zh(this._cdRefInjectingView||this._lView)}detach(){this._lView[pe]&=-129}reattach(){ip(this._lView),this._lView[pe]|=128}detectChanges(){this._lView[pe]|=1024,kd(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ue(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,SC(this._lView[P],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Ue(902,!1);this._appRef=r,ip(this._lView)}}let ef=(()=>{class t{static{this.__NG_ELEMENT_ID__=K0}}return t})();const W0=ef,AI=class extends W0{constructor(r,o,c){super(),this._declarationLView=r,this._declarationTContainer=o,this.elementRef=c}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(r,o){return this.createEmbeddedViewImpl(r,o)}createEmbeddedViewImpl(r,o,c){const y=Md(this._declarationLView,this._declarationTContainer,r,{embeddedViewInjector:o,dehydratedView:c});return new qh(y)}};function K0(){return Nd($r(),wn())}function Nd(t,r){return 4&t.type?new AI(r,t,qc(t,r)):null}let Cm=()=>null;function Fc(t,r){return Cm(t,r)}class cf{}class fw{}class Sm{}class mw{resolveComponentFactory(r){throw function ev(t){const r=Error(`No component factory found for ${kn(t)}.`);return r.ngComponent=t,r}(r)}}let Pd=(()=>{class t{static{this.NULL=new mw}}return t})();class tv{}let gw=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function vw(){const t=wn(),o=pa($r().index,t);return(Ci(o)?o:t)[Vn]}()}}return t})(),yw=(()=>{class t{static{this.\u0275prov=ni({token:t,providedIn:"root",factory:()=>null})}}return t})();const Tm={},nv=new Set;function Ol(t){nv.has(t)||(nv.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Im(...t){}class Hs{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Al(!1),this.onMicrotaskEmpty=new Al(!1),this.onStable=new Al(!1),this.onError=new Al(!1),typeof Zone>"u")throw new Ue(908,!1);Zone.assertZonePatched();const y=this;y._nesting=0,y._outer=y._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(y._inner=y._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(y._inner=y._inner.fork(Zone.longStackTraceZoneSpec)),y.shouldCoalesceEventChangeDetection=!c&&o,y.shouldCoalesceRunChangeDetection=c,y.lastRequestAnimationFrameId=-1,y.nativeRequestAnimationFrame=function iv(){const t="function"==typeof ht.requestAnimationFrame;let r=ht[t?"requestAnimationFrame":"setTimeout"],o=ht[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&r&&o){const c=r[Zone.__symbol__("OriginalDelegate")];c&&(r=c);const y=o[Zone.__symbol__("OriginalDelegate")];y&&(o=y)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function ov(t){const r=()=>{!function sv(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(ht,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Am(t),t.isCheckStableRunning=!0,Dm(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Am(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,c,y,T,N,W)=>{if(function OI(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(W))return o.invokeTask(y,T,N,W);try{return bw(t),o.invokeTask(y,T,N,W)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===T.type||t.shouldCoalesceRunChangeDetection)&&r(),Cw(t)}},onInvoke:(o,c,y,T,N,W,re)=>{try{return bw(t),o.invoke(y,T,N,W,re)}finally{t.shouldCoalesceRunChangeDetection&&r(),Cw(t)}},onHasTask:(o,c,y,T)=>{o.hasTask(y,T),c===y&&("microTask"==T.change?(t._hasPendingMicrotasks=T.microTask,Am(t),Dm(t)):"macroTask"==T.change&&(t.hasPendingMacrotasks=T.macroTask))},onHandleError:(o,c,y,T)=>(o.handleError(y,T),t.runOutsideAngular(()=>t.onError.emit(T)),!1)})}(y)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Hs.isInAngularZone())throw new Ue(909,!1)}static assertNotInAngularZone(){if(Hs.isInAngularZone())throw new Ue(909,!1)}run(r,o,c){return this._inner.run(r,o,c)}runTask(r,o,c,y){const T=this._inner,N=T.scheduleEventTask("NgZoneEvent: "+y,r,rv,Im,Im);try{return T.runTask(N,o,c)}finally{T.cancelTask(N)}}runGuarded(r,o,c){return this._inner.runGuarded(r,o,c)}runOutsideAngular(r){return this._outer.run(r)}}const rv={};function Dm(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Am(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function bw(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Cw(t){t._nesting--,Dm(t)}class ww{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Al,this.onMicrotaskEmpty=new Al,this.onStable=new Al,this.onError=new Al}run(r,o,c){return r.apply(o,c)}runGuarded(r,o,c){return r.apply(o,c)}runOutsideAngular(r){return r()}runTask(r,o,c,y){return r.apply(o,c)}}var bu=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(bu||{});const Sw={destroy(){}};function Ew(t,r){!r&&bs();const o=r?.injector??Hn(va);if(!function cl(t){return"browser"===(t??Hn(va)).get(Tp)}(o))return Sw;Ol("NgAfterNextRender");const c=o.get(uf),y=c.handler??=new Iw,T=r?.phase??bu.MixedReadWrite,N=()=>{y.unregister(re),W()},W=o.get(yc).onDestroy(N),re=Ms(o,()=>new Tw(T,()=>{N(),t()}));return y.register(re),{destroy:N}}class Tw{constructor(r,o){this.phase=r,this.callbackFn=o,this.zone=Hn(Hs),this.errorHandler=Hn(Dl,{optional:!0}),Hn(cf,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(r){this.errorHandler?.handleError(r)}}}class Iw{constructor(){this.executingCallbacks=!1,this.buckets={[bu.EarlyRead]:new Set,[bu.Write]:new Set,[bu.MixedReadWrite]:new Set,[bu.Read]:new Set},this.deferredCallbacks=new Set}register(r){(this.executingCallbacks?this.deferredCallbacks:this.buckets[r.phase]).add(r)}unregister(r){this.buckets[r.phase].delete(r),this.deferredCallbacks.delete(r)}execute(){this.executingCallbacks=!0;for(const r of Object.values(this.buckets))for(const o of r)o.invoke();this.executingCallbacks=!1;for(const r of this.deferredCallbacks)this.buckets[r.phase].add(r);this.deferredCallbacks.clear()}destroy(){for(const r of Object.values(this.buckets))r.clear();this.deferredCallbacks.clear()}}let uf=(()=>{class t{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const o=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const c of o)c()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=ni({token:t,providedIn:"root",factory:()=>new t})}}return t})();function Pc(t){return!!Er(t)}function Bd(t,r,o){let c=o?t.styles:null,y=o?t.classes:null,T=0;if(null!==r)for(let N=0;N<r.length;N++){const W=r[N];"number"==typeof W?T=W:1==T?y=Bn(y,W):2==T&&(c=Bn(c,W+": "+r[++N]+";"))}o?t.styles=c:t.stylesWithoutHost=c,o?t.classes=y:t.classesWithoutHost=y}class ff extends Pd{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const o=ki(r);return new pf(o,this.ngModule)}}function cv(t){const r=[];for(const o in t){if(!t.hasOwnProperty(o))continue;const c=t[o];void 0!==c&&r.push({propName:Array.isArray(c)?c[0]:c,templateName:o})}return r}class Cu{constructor(r,o){this.injector=r,this.parentInjector=o}get(r,o,c){c=Gr(c);const y=this.injector.get(r,Tm,c);return y!==Tm||o===Tm?y:this.parentInjector.get(r,o,c)}}class pf extends Sm{get inputs(){const r=this.componentDef,o=r.inputTransforms,c=cv(r.inputs);if(null!==o)for(const y of c)o.hasOwnProperty(y.propName)&&(y.transform=o[y.propName]);return c}get outputs(){return cv(this.componentDef.outputs)}constructor(r,o){super(),this.componentDef=r,this.ngModule=o,this.componentType=r.type,this.selector=function Qn(t){return t.map(Jt).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!o}create(r,o,c,y){const T=f(null);try{let N=(y=y||this.ngModule)instanceof Tr?y:y?.injector;N&&null!==this.componentDef.getStandaloneInjector&&(N=this.componentDef.getStandaloneInjector(N)||N);const W=N?new Cu(r,N):r,re=W.get(tv,null);if(null===re)throw new Ue(407,!1);const Ie=W.get(yw,null),$t={rendererFactory:re,sanitizer:Ie,inlineEffectRunner:null,afterRenderEventManager:W.get(uf,null),changeDetectionScheduler:W.get(cf,null)},Xt=re.createRenderer(null,this.componentDef),an=this.componentDef.selectors[0][0]||"div",Dn=c?function FC(t,r,o,c){const T=c.get($1,!1)||o===Ur.ShadowDom,N=t.selectRootElement(r,T);return function PC(t){k0(t)}(N),N}(Xt,c,this.componentDef.encapsulation,W):jh(Xt,an,function Rw(t){const r=t.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(an));let Pn=512;this.componentDef.signals?Pn|=4096:this.componentDef.onPush||(Pn|=16);let Yn=null;null!==Dn&&(Yn=kp(Dn,W,!0));const xn=dm(0,null,null,1,0,null,null,null,null,null,null),Li=zh(null,xn,null,Pn,null,null,$t,Xt,W,null,Yn);let Rr,ds;dp(Li);try{const Do=this.componentDef;let Ga,Zf=null;Do.findHostDirectiveDefs?(Ga=[],Zf=new Map,Do.findHostDirectiveDefs(Do,Ga,Zf),Ga.push(Do)):Ga=[Do];const L2=function mf(t,r){const o=t[P],c=Ri;return t[c]=r,gu(o,c,2,"#host",null)}(Li,Dn),sM=function uv(t,r,o,c,y,T,N){const W=y[P];!function Mw(t,r,o,c){for(const y of t)r.mergedAttrs=ge(r.mergedAttrs,y.hostAttrs);null!==r.mergedAttrs&&(Bd(r,r.mergedAttrs,!0),null!==o&&I0(c,o,r))}(c,t,r,N);let re=null;null!==r&&(re=kp(r,y[bn]));const Ie=T.rendererFactory.createRenderer(r,o);let We=16;o.signals?We=4096:o.onPush&&(We=64);const ut=zh(y,x0(o),null,We,y[t.index],t,T,Ie,null,null,re);return W.firstCreatePass&&P0(W,t,c.length-1),Dc(y,ut),y[t.index]=ut}(L2,Dn,Do,Ga,Li,$t,Xt);ds=Zu(xn,Ri),Dn&&function kw(t,r,o,c){if(c)vs(t,o,["ng-version","17.3.3"]);else{const{attrs:y,classes:T}=function Nn(t){const r=[],o=[];let c=1,y=2;for(;c<t.length;){let T=t[c];if("string"==typeof T)2===y?""!==T&&r.push(T,t[++c]):8===y&&o.push(T);else{if(!Jn(y))break;y=T}c++}return{attrs:r,classes:o}}(r.selectors[0]);y&&vs(t,o,y),T&&T.length>0&&T0(t,o,T.join(" "))}}(Xt,Do,Dn,c),void 0!==o&&function Nw(t,r,o){const c=t.projection=[];for(let y=0;y<r.length;y++){const T=o[y];c.push(null!=T?Array.from(T):null)}}(ds,this.ngContentSelectors,o),Rr=function xw(t,r,o,c,y,T){const N=$r(),W=y[P],re=$o(N,y);$C(W,y,N,o,null,c);for(let We=0;We<o.length;We++)ko(ma(y,W,N.directiveStart+We,N),y);WC(W,y,N),re&&ko(re,y);const Ie=ma(y,W,N.directiveStart+N.componentOffset,N);if(t[rn]=y[rn]=Ie,null!==T)for(const We of T)We(Ie,r);return lm(W,N,y),Ie}(sM,Do,Ga,Zf,Li,[wu]),Yh(xn,Li,null)}finally{gh()}return new Ld(this.componentType,Rr,qc(ds,Li),Li,ds)}finally{f(T)}}}class Ld extends fw{constructor(r,o,c,y,T){super(),this.location=c,this._rootLView=y,this._tNode=T,this.previousInputValues=null,this.instance=o,this.hostView=this.changeDetectorRef=new qh(y,void 0,!1),this.componentType=r}setInput(r,o){const c=this._tNode.inputs;let y;if(null!==c&&(y=c[r])){if(this.previousInputValues??=new Map,this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),o))return;const T=this._rootLView;fo(T[P],T,y,r,o),this.previousInputValues.set(r,o),Zh(pa(this._tNode.index,T))}}get injector(){return new ho(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function wu(){const t=$r();Il(wn()[P],t)}let Fl=(()=>{class t{static{this.__NG_ELEMENT_ID__=Ud}}return t})();function Ud(){return km($r(),wn())}const gf=Fl,xm=class extends gf{constructor(r,o,c){super(),this._lContainer=r,this._hostTNode=o,this._hostLView=c}get element(){return qc(this._hostTNode,this._hostLView)}get injector(){return new ho(this._hostTNode,this._hostLView)}get parentInjector(){const r=oc(this._hostTNode,this._hostLView);if(zc(r)){const o=Gl(r,this._hostLView),c=Oa(r);return new ho(o[P].data[c+8],o)}return new ho(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const o=Vd(this._lContainer);return null!==o&&o[r]||null}get length(){return this._lContainer.length-ws}createEmbeddedView(r,o,c){let y,T;"number"==typeof c?y=c:null!=c&&(y=c.index,T=c.injector);const N=Fc(this._lContainer,r.ssrId),W=r.createEmbeddedViewImpl(o||{},T,N);return this.insertImpl(W,y,vu(this._hostTNode,N)),W}createComponent(r,o,c,y,T){const N=r&&!function En(t){return"function"==typeof t}(r);let W;if(N)W=o;else{const an=o||{};W=an.index,c=an.injector,y=an.projectableNodes,T=an.environmentInjector||an.ngModuleRef}const re=N?r:new pf(ki(r)),Ie=c||this.parentInjector;if(!T&&null==re.ngModule){const Dn=(N?Ie:this.parentInjector).get(Tr,null);Dn&&(T=Dn)}const We=ki(re.componentType??{}),ut=Fc(this._lContainer,We?.id??null),Xt=re.create(Ie,y,ut?.firstChild??null,T);return this.insertImpl(Xt.hostView,W,vu(this._hostTNode,ut)),Xt}insert(r,o){return this.insertImpl(r,o,!0)}insertImpl(r,o,c){const y=r._lView;if(function rb(t){return es(t[ke])}(y)){const W=this.indexOf(r);if(-1!==W)this.detach(W);else{const re=y[ke],Ie=new xm(re,re[Mt],re[ke]);Ie.detach(Ie.indexOf(r))}}const T=this._adjustIndex(o),N=this._lContainer;return Xh(N,y,T,c),r.attachToViewContainerRef(),Po(Xl(N),T,r),r}move(r,o){return this.insert(r,o)}indexOf(r){const o=Vd(this._lContainer);return null!==o?o.indexOf(r):-1}remove(r){const o=this._adjustIndex(r,-1),c=Dd(this._lContainer,o);c&&(Yo(Xl(this._lContainer),o),$h(c[P],c))}detach(r){const o=this._adjustIndex(r,-1),c=Dd(this._lContainer,o);return c&&null!=Yo(Xl(this._lContainer),o)?new qh(c):null}_adjustIndex(r,o=0){return r??this.length+o}};function Vd(t){return t[8]}function Xl(t){return t[8]||(t[8]=[])}function km(t,r){let o;const c=r[t.index];return es(c)?o=c:(o=ZC(c,r,null,t),r[t.index]=o,Dc(r,o)),Ow(o,r,t,c),new xm(o,t,r)}let Ow=function Pw(t,r,o,c){if(t[Vo])return;let y;y=8&o.type?br(c):function UI(t,r){const o=t[Vn],c=o.createComment(""),y=$o(r,t);return Ic(o,Gh(o,y),c,function AC(t,r){return t.nextSibling(r)}(o,y),!1),c}(r,o),t[Vo]=y},dv=()=>!1;class hv{constructor(r){this.queryList=r,this.matches=null}clone(){return new hv(this.queryList)}setDirty(){this.queryList.setDirty()}}class fv{constructor(r=[]){this.queries=r}createEmbeddedView(r){const o=r.queries;if(null!==o){const c=null!==r.contentQueries?r.contentQueries[0]:o.length,y=[];for(let T=0;T<c;T++){const N=o.getByIndex(T);y.push(this.queries[N.indexInDeclarationView].clone())}return new fv(y)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}finishViewCreation(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let o=0;o<this.queries.length;o++)null!==_v(r,o).matches&&this.queries[o].setDirty()}}class Bw{constructor(r,o,c=null){this.flags=o,this.read=c,this.predicate="string"==typeof r?function $w(t){return t.split(",").map(r=>r.trim())}(r):r}}class pv{constructor(r=[]){this.queries=r}elementStart(r,o){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(r,o)}elementEnd(r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(r)}embeddedTView(r){let o=null;for(let c=0;c<this.length;c++){const y=null!==o?o.length:0,T=this.getByIndex(c).embeddedTView(r,y);T&&(T.indexInDeclarationView=c,null!==o?o.push(T):o=[T])}return null!==o?new pv(o):null}template(r,o){for(let c=0;c<this.queries.length;c++)this.queries[c].template(r,o)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class mv{constructor(r,o=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(r,o){this.isApplyingToNode(o)&&this.matchTNode(r,o)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,o){this.elementStart(r,o)}embeddedTView(r,o){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,o),new mv(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1&~this.metadata.flags){const o=this._declarationNodeIndex;let c=r.parent;for(;null!==c&&8&c.type&&c.index!==o;)c=c.parent;return o===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(r,o){const c=this.metadata.predicate;if(Array.isArray(c))for(let y=0;y<c.length;y++){const T=c[y];this.matchTNodeWithReadOption(r,o,gv(o,T)),this.matchTNodeWithReadOption(r,o,yh(o,r,T,!1,!1))}else c===ef?4&o.type&&this.matchTNodeWithReadOption(r,o,-1):this.matchTNodeWithReadOption(r,o,yh(o,r,c,!1,!1))}matchTNodeWithReadOption(r,o,c){if(null!==c){const y=this.metadata.read;if(null!==y)if(y===dd||y===Fl||y===ef&&4&o.type)this.addMatch(o.index,-2);else{const T=yh(o,r,y,!1,!1);null!==T&&this.addMatch(o.index,T)}else this.addMatch(o.index,c)}}addMatch(r,o){null===this.matches?this.matches=[r,o]:this.matches.push(r,o)}}function gv(t,r){const o=t.localNames;if(null!==o)for(let c=0;c<o.length;c+=2)if(o[c]===r)return o[c+1];return null}function Uw(t,r,o,c){return-1===o?function Lw(t,r){return 11&t.type?qc(t,r):4&t.type?Nd(t,r):null}(r,t):-2===o?function GI(t,r,o){return o===dd?qc(r,t):o===ef?Nd(r,t):o===Fl?km(r,t):void 0}(t,r,c):ma(t,t[P],o,r)}function Nm(t,r,o,c){const y=r[as].queries[c];if(null===y.matches){const T=t.data,N=o.matches,W=[];for(let re=0;null!==N&&re<N.length;re+=2){const Ie=N[re];W.push(Ie<0?null:Uw(r,T[Ie],N[re+1],o.metadata.read))}y.matches=W}return y.matches}function vv(t,r,o,c){const y=t.queries.getByIndex(o),T=y.matches;if(null!==T){const N=Nm(t,r,y,o);for(let W=0;W<T.length;W+=2){const re=T[W];if(re>0)c.push(N[W/2]);else{const Ie=T[W+1],We=r[-re];for(let ut=ws;ut<We.length;ut++){const $t=We[ut];$t[Cs]===$t[ke]&&vv($t[P],$t,Ie,c)}if(null!==We[Xa]){const ut=We[Xa];for(let $t=0;$t<ut.length;$t++){const Xt=ut[$t];vv(Xt[P],Xt,Ie,c)}}}}}return c}function Vw(t,r,o){const c=new eu(!(4&~o));return function UC(t,r,o,c){const y=Ho(r);y.push(o),t.firstCreatePass&&qC(t).push(c,y.length-1)}(t,r,c,c.destroy),(r[as]??=new fv).queries.push(new hv(c))-1}function yv(t,r,o){null===t.queries&&(t.queries=new pv),t.queries.track(new mv(r,o))}function _v(t,r){return t.queries.getByIndex(r)}function Hw(t,r){const o=t[P],c=_v(o,r);return c.crossesNgTemplate?vv(o,t,r,[]):Nm(o,t,c,r)}function Fm(t){return function Ww(t){return"function"==typeof t&&void 0!==t[v]}(t)&&"function"==typeof t.set}function _f(t){let r=function Wm(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),o=!0;const c=[t];for(;r;){let y;if(co(t))y=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Ue(903,!1);y=r.\u0275dir}if(y){if(o){c.push(y);const N=t;N.inputs=Km(t.inputs),N.inputTransforms=Km(t.inputTransforms),N.declaredInputs=Km(t.declaredInputs),N.outputs=Km(t.outputs);const W=y.hostBindings;W&&iS(t,W);const re=y.viewQuery,Ie=y.contentQueries;if(re&&Dv(t,re),Ie&&nS(t,Ie),Iv(t,y),Mn(t.outputs,y.outputs),co(y)&&y.data.animation){const We=t.data;We.animation=(We.animation||[]).concat(y.data.animation)}}const T=y.features;if(T)for(let N=0;N<T.length;N++){const W=T[N];W&&W.ngInherit&&W(t),W===_f&&(o=!1)}}r=Object.getPrototypeOf(r)}!function tD(t){let r=0,o=null;for(let c=t.length-1;c>=0;c--){const y=t[c];y.hostVars=r+=y.hostVars,y.hostAttrs=ge(y.hostAttrs,o=ge(o,y.hostAttrs))}}(c)}function Iv(t,r){for(const o in r.inputs){if(!r.inputs.hasOwnProperty(o)||t.inputs.hasOwnProperty(o))continue;const c=r.inputs[o];if(void 0!==c&&(t.inputs[o]=c,t.declaredInputs[o]=r.declaredInputs[o],null!==r.inputTransforms)){const y=Array.isArray(c)?c[0]:c;if(!r.inputTransforms.hasOwnProperty(y))continue;t.inputTransforms??={},t.inputTransforms[y]=r.inputTransforms[y]}}}function Km(t){return t===Ts?{}:t===si?[]:t}function Dv(t,r){const o=t.viewQuery;t.viewQuery=o?(c,y)=>{r(c,y),o(c,y)}:r}function nS(t,r){const o=t.contentQueries;t.contentQueries=o?(c,y,T)=>{r(c,y,T),o(c,y,T)}:r}function iS(t,r){const o=t.hostBindings;t.hostBindings=o?(c,y)=>{r(c,y),o(c,y)}:r}function rS(t){const r=o=>{const c=(Array.isArray(t)?t:t()).map(y=>"function"==typeof y?{directive:ct(y),inputs:Ts,outputs:Ts}:{directive:ct(y.directive),inputs:zm(y.inputs),outputs:zm(y.outputs)});null===o.hostDirectives?(o.findHostDirectiveDefs=sS,o.hostDirectives=c):o.hostDirectives.unshift(...c)};return r.ngInherit=!0,r}function sS(t,r,o){if(null!==t.hostDirectives)for(const c of t.hostDirectives){const y=Wn(c.directive);sD(y.declaredInputs,c.inputs),sS(y,r,o),o.set(y,c),r.push(y)}}function zm(t){if(void 0===t||0===t.length)return Ts;const r={};for(let o=0;o<t.length;o+=2)r[t[o]]=t[o+1];return r}function sD(t,r){for(const o in r)r.hasOwnProperty(o)&&(t[r[o]]=t[o])}function Ym(t){const r=t.inputConfig,o={};for(const c in r)if(r.hasOwnProperty(c)){const y=r[c];Array.isArray(y)&&y[3]&&(o[c]=y[3])}t.inputTransforms=o}class Tu{}class aS{}function Av(t,r){return new Xm(t,r??null,[])}class Xm extends Tu{constructor(r,o,c){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ff(this);const y=Er(r);this._bootstrapComponents=La(y.bootstrap),this._r3Injector=Db(r,o,[{provide:Tu,useValue:this},{provide:Pd,useValue:this.componentFactoryResolver},...c],kn(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class Rv extends aS{constructor(r){super(),this.moduleType=r}create(r){return new Xm(this.moduleType,r,[])}}class lS extends Tu{constructor(r){super(),this.componentFactoryResolver=new ff(this),this.instance=null;const o=new go([...r.providers,{provide:Tu,useValue:this},{provide:Pd,useValue:this.componentFactoryResolver}],r.parent||_s(),r.debugName,new Set(["environment"]));this.injector=o,r.runEnvironmentInitializers&&o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function Mv(t,r,o=null){return new lS({providers:t,parent:r,debugName:o,runEnvironmentInitializers:!0}).injector}let Wd=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new q.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const o=this.taskId++;return this.pendingTasks.add(o),o}remove(o){this.pendingTasks.delete(o),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=ni({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Qm(t){return!!kv(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function kv(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Jl(t,r,o){return t[r]=o}function Iu(t,r){return t[r]}function Qs(t,r,o){return!Object.is(t[r],o)&&(t[r]=o,!0)}function Du(t,r,o,c){const y=Qs(t,r,o);return Qs(t,r+1,c)||y}function ul(t,r,o,c,y,T){const N=Du(t,r,o,c);return Du(t,r+2,y,T)||N}function Kd(t,r,o,c,y,T,N,W){const re=wn(),Ie=hr(),We=t+Ri,ut=Ie.firstCreatePass?function Nv(t,r,o,c,y,T,N,W,re){const Ie=r.consts,We=gu(r,t,4,N||null,Sl(Ie,W));F0(r,o,We,Sl(Ie,re)),Il(r,We);const ut=We.tView=dm(2,We,c,y,T,r.directiveRegistry,r.pipeRegistry,null,r.schemas,Ie,null);return null!==r.queries&&(r.queries.template(r,We),ut.queries=r.queries.embeddedTView(We)),We}(We,Ie,re,r,o,c,y,T,N):Ie.data[We];El(ut,!1);const $t=uS(Ie,re,ut,t);Tl()&&Hh(Ie,re,$t,ut),ko($t,re);const Xt=ZC($t,re,$t,ut);return re[We]=Xt,Dc(re,Xt),function Fw(t,r,o){return dv(t,r,o)}(Xt,ut,re),ta(ut)&&cm(Ie,re,ut),null!=N&&um(re,ut,W),Kd}let uS=function dS(t,r,o,c){return Na(!0),r[Vn].createComment("")};function Oo(t,r,o,c){const y=wn();return Qs(y,qa(),r)&&(hr(),zl(ls(),y,t,r,o,c)),Oo}function Nu(t,r,o,c){return Qs(t,qa(),o)?r+Gn(o)+c:Wi}function Zl(t,r,o,c,y,T){const W=Du(t,function Ul(){return Fi.lFrame.bindingIndex}(),o,y);return Vl(2),W?r+Gn(o)+c+Gn(y)+T:Wi}function Rf(t,r){return t<<17|r<<2}function dc(t){return t>>17&32767}function lg(t){return 2|t}function jc(t){return(131068&t)>>2}function cg(t,r){return-131069&t|r<<2}function ug(t){return 1|t}function ey(t,r,o,c){const y=t[o+1],T=null===r;let N=c?dc(y):jc(y),W=!1;for(;0!==N&&(!1===W||T);){const Ie=t[N+1];jS(t[N],r)&&(W=!0,t[N+1]=c?ug(Ie):lg(Ie)),N=c?dc(Ie):jc(Ie)}W&&(t[o+1]=c?lg(y):ug(y))}function jS(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&ss(t,r)>=0}const po={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ty(t){return t.substring(po.key,po.keyEnd)}function ny(t,r){const o=po.textEnd;return o===r?-1:(r=po.keyEnd=function WS(t,r,o){for(;r<o&&t.charCodeAt(r)>32;)r++;return r}(t,po.key=r,o),Vu(t,r,o))}function Vu(t,r,o){for(;r<o&&t.charCodeAt(r)<=32;)r++;return r}function fg(t,r,o){const c=wn();return Qs(c,qa(),r)&&ba(hr(),ls(),c,t,r,c[Vn],o,!1),fg}function xf(t,r,o,c,y){const N=y?"class":"style";fo(t,o,r.inputs[N],N,c)}function pg(t,r,o){return dl(t,r,o,!1),pg}function mg(t,r){return dl(t,r,null,!0),mg}function sy(t){hl(ZS,Ll,t,!0)}function Ll(t,r){for(let o=function GS(t){return function ry(t){po.key=0,po.keyEnd=0,po.value=0,po.valueEnd=0,po.textEnd=t.length}(t),ny(t,Vu(t,0,po.textEnd))}(r);o>=0;o=ny(r,o))rr(t,ty(r),!0)}function dl(t,r,o,c){const y=wn(),T=hr(),N=Vl(2);T.firstUpdatePass&&ay(T,t,N,c),r!==Wi&&Qs(y,N,r)&&cy(T,T.data[xo()],y,y[Vn],t,y[N+1]=function eE(t,r){return null==t||""===t||("string"==typeof r?t+=r:"object"==typeof t&&(t=kn(al(t)))),t}(r,o),c,N)}function hl(t,r,o,c){const y=hr(),T=Vl(2);y.firstUpdatePass&&ay(y,null,T,c);const N=wn();if(o!==Wi&&Qs(N,T,o)){const W=y.data[xo()];if(dy(W,c)&&!oy(y,T)){let re=c?W.classesWithoutHost:W.stylesWithoutHost;null!==re&&(o=Bn(re,o||"")),xf(y,W,N,o,c)}else!function qS(t,r,o,c,y,T,N,W){y===Wi&&(y=si);let re=0,Ie=0,We=0<y.length?y[0]:null,ut=0<T.length?T[0]:null;for(;null!==We||null!==ut;){const $t=re<y.length?y[re+1]:void 0,Xt=Ie<T.length?T[Ie+1]:void 0;let Dn,an=null;We===ut?(re+=2,Ie+=2,$t!==Xt&&(an=ut,Dn=Xt)):null===ut||null!==We&&We<ut?(re+=2,an=We):(Ie+=2,an=ut,Dn=Xt),null!==an&&cy(t,r,o,c,an,Dn,N,W),We=re<y.length?y[re]:null,ut=Ie<T.length?T[Ie]:null}}(y,W,N,N[Vn],N[T+1],N[T+1]=function QS(t,r,o){if(null==o||""===o)return si;const c=[],y=al(o);if(Array.isArray(y))for(let T=0;T<y.length;T++)t(c,y[T],!0);else if("object"==typeof y)for(const T in y)y.hasOwnProperty(T)&&t(c,T,y[T]);else"string"==typeof y&&r(c,y);return c}(t,r,o),c,T)}}function oy(t,r){return r>=t.expandoStartIndex}function ay(t,r,o,c){const y=t.data;if(null===y[o+1]){const T=y[xo()],N=oy(t,o);dy(T,c)&&null===r&&!N&&(r=!1),r=function zS(t,r,o,c){const y=cp(t);let T=c?r.residualClasses:r.residualStyles;if(null===y)0===(c?r.classBindings:r.styleBindings)&&(o=th(o=gg(null,t,r,o,c),r.attrs,c),T=null);else{const N=r.directiveStylingLast;if(-1===N||t[N]!==y)if(o=gg(y,t,r,o,c),null===T){let re=function YS(t,r,o){const c=o?r.classBindings:r.styleBindings;if(0!==jc(c))return t[dc(c)]}(t,r,c);void 0!==re&&Array.isArray(re)&&(re=gg(null,t,r,re[1],c),re=th(re,r.attrs,c),function XS(t,r,o,c){t[dc(o?r.classBindings:r.styleBindings)]=c}(t,r,c,re))}else T=function JS(t,r,o){let c;const y=r.directiveEnd;for(let T=1+r.directiveStylingLast;T<y;T++)c=th(c,t[T].hostAttrs,o);return th(c,r.attrs,o)}(t,r,c)}return void 0!==T&&(c?r.residualClasses=T:r.residualStyles=T),o}(y,T,r,c),function US(t,r,o,c,y,T){let N=T?r.classBindings:r.styleBindings,W=dc(N),re=jc(N);t[c]=o;let We,Ie=!1;if(Array.isArray(o)?(We=o[1],(null===We||ss(o,We)>0)&&(Ie=!0)):We=o,y)if(0!==re){const $t=dc(t[W+1]);t[c+1]=Rf($t,W),0!==$t&&(t[$t+1]=cg(t[$t+1],c)),t[W+1]=function BS(t,r){return 131071&t|r<<17}(t[W+1],c)}else t[c+1]=Rf(W,0),0!==W&&(t[W+1]=cg(t[W+1],c)),W=c;else t[c+1]=Rf(re,0),0===W?W=c:t[re+1]=cg(t[re+1],c),re=c;Ie&&(t[c+1]=lg(t[c+1])),ey(t,We,c,!0),ey(t,We,c,!1),function VS(t,r,o,c,y){const T=y?t.residualClasses:t.residualStyles;null!=T&&"string"==typeof r&&ss(T,r)>=0&&(o[c+1]=ug(o[c+1]))}(r,We,t,c,T),N=Rf(W,re),T?r.classBindings=N:r.styleBindings=N}(y,T,r,o,N,c)}}function gg(t,r,o,c,y){let T=null;const N=o.directiveEnd;let W=o.directiveStylingLast;for(-1===W?W=o.directiveStart:W++;W<N&&(T=r[W],c=th(c,T.hostAttrs,y),T!==t);)W++;return null!==t&&(o.directiveStylingLast=W),c}function th(t,r,o){const c=o?1:2;let y=-1;if(null!==r)for(let T=0;T<r.length;T++){const N=r[T];"number"==typeof N?y=N:y===c&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),rr(t,N,!!o||r[++T]))}return void 0===t?null:t}function ZS(t,r,o){const c=String(r);""!==c&&!c.includes(" ")&&rr(t,c,o)}function cy(t,r,o,c,y,T,N,W){if(!(3&r.type))return;const re=t.data,Ie=re[W+1],We=function LS(t){return!(1&~t)}(Ie)?uy(re,r,o,y,jc(Ie),N):void 0;kf(We)||(kf(T)||function PS(t){return!(2&~t)}(Ie)&&(T=uy(re,null,o,y,W,N)),function xC(t,r,o,c,y){if(r)y?t.addClass(o,c):t.removeClass(o,c);else{let T=-1===c.indexOf("-")?void 0:Vh.DashCase;null==y?t.removeStyle(o,c,T):("string"==typeof y&&y.endsWith("!important")&&(y=y.slice(0,-10),T|=Vh.Important),t.setStyle(o,c,y,T))}}(c,N,Qu(xo(),o),y,T))}function uy(t,r,o,c,y,T){const N=null===r;let W;for(;y>0;){const re=t[y],Ie=Array.isArray(re),We=Ie?re[1]:re,ut=null===We;let $t=o[y+1];$t===Wi&&($t=ut?si:void 0);let Xt=ut?Or($t,c):We===c?$t:void 0;if(Ie&&!kf(Xt)&&(Xt=Or(re,c)),kf(Xt)&&(W=Xt,N))return W;const an=t[y+1];y=N?dc(an):jc(an)}if(null!==r){let re=T?r.residualClasses:r.residualStyles;null!=re&&(W=Or(re,c))}return W}function kf(t){return void 0!==t}function dy(t,r){return!!(t.flags&(r?8:16))}function hy(t,r,o){hl(rr,Ll,Nu(wn(),t,r,o),!0)}function fy(t,r,o,c,y){hl(rr,Ll,Zl(wn(),t,r,o,c,y),!0)}class aE{destroy(r){}updateValue(r,o){}swap(r,o){const c=Math.min(r,o),y=Math.max(r,o),T=this.detach(y);if(y-c>1){const N=this.detach(c);this.attach(c,T),this.attach(y,N)}else this.attach(c,T)}move(r,o){this.attach(o,this.detach(r))}}function vg(t,r,o,c,y){return t===o&&Object.is(r,c)?1:Object.is(y(t,r),y(o,c))?-1:0}function yg(t,r,o,c){return!(void 0===r||!r.has(c)||(t.attach(o,r.get(c)),r.delete(c),0))}function my(t,r,o,c,y){if(yg(t,r,c,o(c,y)))t.updateValue(c,y);else{const T=t.create(c,y);t.attach(c,T)}}function gy(t,r,o,c){const y=new Set;for(let T=r;T<=o;T++)y.add(c(T,t.at(T)));return y}class vy{constructor(){this.kvMap=new Map,this._vMap=void 0}has(r){return this.kvMap.has(r)}delete(r){if(!this.has(r))return!1;const o=this.kvMap.get(r);return void 0!==this._vMap&&this._vMap.has(o)?(this.kvMap.set(r,this._vMap.get(o)),this._vMap.delete(o)):this.kvMap.delete(r),!0}get(r){return this.kvMap.get(r)}set(r,o){if(this.kvMap.has(r)){let c=this.kvMap.get(r);void 0===this._vMap&&(this._vMap=new Map);const y=this._vMap;for(;y.has(c);)c=y.get(c);y.set(c,o)}else this.kvMap.set(r,o)}forEach(r){for(let[o,c]of this.kvMap)if(r(c,o),void 0!==this._vMap){const y=this._vMap;for(;y.has(c);)c=y.get(c),r(c,o)}}}function yy(t,r,o){Ol("NgControlFlow");const c=wn(),y=qa(),T=_g(c,Ri+t);if(Qs(c,y,r)){const W=f(null);try{if(Jh(T,0),-1!==r){const re=Sa(c[P],Ri+r),Ie=Fc(T,re.tView.ssrId);Xh(T,Md(c,re,o,{dehydratedView:Ie}),0,vu(re,Ie))}}finally{f(W)}}else{const W=Rc(T,0);void 0!==W&&(W[rn]=o)}}class cE{constructor(r,o,c){this.lContainer=r,this.$implicit=o,this.$index=c}get $count(){return this.lContainer.length-ws}}function _y(t,r){return r}class dE{constructor(r,o,c){this.hasEmptyBlock=r,this.trackByFn=o,this.liveCollection=c}}function by(t,r,o,c,y,T,N,W,re,Ie,We,ut,$t){Ol("NgControlFlow");const Xt=void 0!==re,an=wn(),Dn=W?N.bind(an[Ir][rn]):N,Pn=new dE(Xt,Dn);an[Ri+t]=Pn,Kd(t+1,r,o,c,y,T),Xt&&Kd(t+2,re,Ie,We,ut,$t)}class hE extends aE{constructor(r,o,c){super(),this.lContainer=r,this.hostLView=o,this.templateTNode=c,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-ws}at(r){return this.getLView(r)[rn].$implicit}attach(r,o){const c=o[Ut];this.needsIndexUpdate||=r!==this.length,Xh(this.lContainer,o,r,vu(this.templateTNode,c))}detach(r){return this.needsIndexUpdate||=r!==this.length-1,function fE(t,r){return Dd(t,r)}(this.lContainer,r)}create(r,o){const c=Fc(this.lContainer,this.templateTNode.tView.ssrId);return Md(this.hostLView,this.templateTNode,new cE(this.lContainer,o,r),{dehydratedView:c})}destroy(r){$h(r[P],r)}updateValue(r,o){this.getLView(r)[rn].$implicit=o}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let r=0;r<this.length;r++)this.getLView(r)[rn].$index=r}getLView(r){return function aa(t,r){return Rc(t,r)}(this.lContainer,r)}}function Cy(t){const r=f(null),o=xo();try{const c=wn(),y=c[P],T=c[o];if(void 0===T.liveCollection){const W=o+1,re=_g(c,W),Ie=Sa(y,W);T.liveCollection=new hE(re,c,Ie)}else T.liveCollection.reset();const N=T.liveCollection;if(function lE(t,r,o){let c,y,T=0,N=t.length-1;if(Array.isArray(r)){let W=r.length-1;for(;T<=N&&T<=W;){const re=t.at(T),Ie=r[T],We=vg(T,re,T,Ie,o);if(0!==We){We<0&&t.updateValue(T,Ie),T++;continue}const ut=t.at(N),$t=r[W],Xt=vg(N,ut,W,$t,o);if(0!==Xt){Xt<0&&t.updateValue(N,$t),N--,W--;continue}const an=o(T,re),Dn=o(N,ut),Pn=o(T,Ie);if(Object.is(Pn,Dn)){const Yn=o(W,$t);Object.is(Yn,an)?(t.swap(T,N),t.updateValue(N,$t),W--,N--):t.move(N,T),t.updateValue(T,Ie),T++}else if(c??=new vy,y??=gy(t,T,N,o),yg(t,c,T,Pn))t.updateValue(T,Ie),T++,N++;else if(y.has(Pn))c.set(an,t.detach(T)),N--;else{const Yn=t.create(T,r[T]);t.attach(T,Yn),T++,N++}}for(;T<=W;)my(t,c,o,T,r[T]),T++}else if(null!=r){const W=r[Symbol.iterator]();let re=W.next();for(;!re.done&&T<=N;){const Ie=t.at(T),We=re.value,ut=vg(T,Ie,T,We,o);if(0!==ut)ut<0&&t.updateValue(T,We),T++,re=W.next();else{c??=new vy,y??=gy(t,T,N,o);const $t=o(T,We);if(yg(t,c,T,$t))t.updateValue(T,We),T++,N++,re=W.next();else if(y.has($t)){const Xt=o(T,Ie);c.set(Xt,t.detach(T)),N--}else t.attach(T,t.create(T,We)),T++,N++,re=W.next()}}for(;!re.done;)my(t,c,o,t.length,re.value),re=W.next()}for(;T<=N;)t.destroy(t.detach(N--));c?.forEach(W=>{t.destroy(W)})}(N,t,T.trackByFn),N.updateIndexes(),T.hasEmptyBlock){const W=qa(),re=0===N.length;if(Qs(c,W,re)){const Ie=o+2,We=_g(c,Ie);if(re){const ut=Sa(y,Ie),$t=Fc(We,ut.tView.ssrId);Xh(We,Md(c,ut,void 0,{dehydratedView:$t}),0,vu(ut,$t))}else Jh(We,0)}}}finally{f(r)}}function _g(t,r){return t[r]}function Sa(t,r){return Zu(t,r)}function Of(t,r,o,c){const y=wn(),T=hr(),N=Ri+t,W=y[Vn],re=T.firstCreatePass?function pE(t,r,o,c,y,T){const N=r.consts,re=gu(r,t,2,c,Sl(N,y));return F0(r,o,re,Sl(N,T)),null!==re.attrs&&Bd(re,re.attrs,!1),null!==re.mergedAttrs&&Bd(re,re.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,re),re}(N,T,y,r,o,c):T.data[N],Ie=wy(T,y,re,W,r,t);y[N]=Ie;const We=ta(re);return El(re,!0),I0(W,Ie,re),!function bf(t){return!(32&~t.flags)}(re)&&Tl()&&Hh(T,y,Ie,re),0===function ob(){return Fi.lFrame.elementDepthCount}()&&ko(Ie,y),function ab(){Fi.lFrame.elementDepthCount++}(),We&&(cm(T,y,re),lm(T,re,y)),null!==c&&um(y,re),Of}function Ff(){let t=$r();sp()?op():(t=t.parent,El(t,!1));const r=t;(function Vi(t){return Fi.skipHydrationRootTNode===t})(r)&&function Eo(){Fi.skipHydrationRootTNode=null}(),function lb(){Fi.lFrame.elementDepthCount--}();const o=hr();return o.firstCreatePass&&(Il(o,t),Ja(t)&&o.queries.elementEnd(t)),null!=r.classesWithoutHost&&function sd(t){return!!(8&t.flags)}(r)&&xf(o,r,wn(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function gc(t){return!!(16&t.flags)}(r)&&xf(o,r,wn(),r.stylesWithoutHost,!1),Ff}function bg(t,r,o,c){return Of(t,r,o,c),Ff(),bg}let wy=(t,r,o,c,y,T)=>(Na(!0),jh(c,y,function jl(){return Fi.lFrame.currentNamespace}()));function Pf(t,r,o){const c=wn(),y=hr(),T=t+Ri,N=y.firstCreatePass?function Ey(t,r,o,c,y){const T=r.consts,N=Sl(T,c),W=gu(r,t,8,"ng-container",N);return null!==N&&Bd(W,N,!0),F0(r,o,W,Sl(T,y)),null!==r.queries&&r.queries.elementStart(r,W),W}(T,y,c,r,o):y.data[T];El(N,!0);const W=Ty(y,c,N,t);return c[T]=W,Tl()&&Hh(y,c,W,N),ko(W,c),ta(N)&&(cm(y,c,N),lm(y,N,c)),null!=o&&um(c,N),Pf}function Bf(){let t=$r();const r=hr();return sp()?op():(t=t.parent,El(t,!1)),r.firstCreatePass&&(Il(r,t),Ja(t)&&r.queries.elementEnd(t)),Bf}function Cg(t,r,o){return Pf(t,r,o),Bf(),Cg}let Ty=(t,r,o,c)=>(Na(!0),tm(r[Vn],""));function Iy(){return wn()}function wg(t,r,o){const c=wn();return Qs(c,qa(),r)&&ba(hr(),ls(),c,t,r,c[Vn],o,!0),wg}function Gu(t,r,o){const c=wn();if(Qs(c,qa(),r)){const T=hr(),N=ls();ba(T,N,c,t,r,B0(cp(T.data),N,c),o,!0)}return Gu}const $c=void 0;var _E=["en",[["a","p"],["AM","PM"],$c],[["AM","PM"],$c,$c],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],$c,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],$c,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",$c,"{1} 'at' {0}",$c],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function yE(t){const o=Math.floor(Math.abs(t)),c=t.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===c?1:5}];let Gc={};function Sg(t){const r=function bE(t){return t.toLowerCase().replace(/_/g,"-")}(t);let o=Ay(r);if(o)return o;const c=r.split("-")[0];if(o=Ay(c),o)return o;if("en"===c)return _E;throw new Ue(701,!1)}function Dy(t){return Sg(t)[Hu.PluralCase]}function Ay(t){return t in Gc||(Gc[t]=ht.ng&&ht.ng.common&&ht.ng.common.locales&&ht.ng.common.locales[t]),Gc[t]}var Hu=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Hu||{});const Wu="en-US",Uf={marker:"element"},Vf={marker:"ICU"};var la=function(t){return t[t.SHIFT=2]="SHIFT",t[t.APPEND_EAGERLY=1]="APPEND_EAGERLY",t[t.COMMENT=2]="COMMENT",t}(la||{});let jf=Wu;function My(t,r,o){const c=r.insertBeforeIndex,y=Array.isArray(c)?c[0]:c;return null===y?_0(t,0,o):br(o[y])}function xy(t,r,o,c,y){const T=r.insertBeforeIndex;if(Array.isArray(T)){let N=c,W=null;if(3&r.type||(W=N,N=y),null!==N&&-1===r.componentOffset)for(let re=1;re<T.length;re++)Ic(t,N,o[T[re]],W,!1)}}function ky(t,r){if(t.push(r),t.length>1)for(let o=t.length-2;o>=0;o--){const c=t[o];Ny(c)||TE(c,r)&&null===IE(c)&&DE(c,r.index)}}function Ny(t){return!(64&t.type)}function TE(t,r){return Ny(r)||t.index>r.index}function IE(t){const r=t.insertBeforeIndex;return Array.isArray(r)?r[0]:r}function DE(t,r){const o=t.insertBeforeIndex;Array.isArray(o)?o[0]=r:(C0(My,xy),t.insertBeforeIndex=r)}function ME(t,r,o){const c=am(t,o,64,null,null);return ky(r,c),c}let sh=(t,r,o,c)=>(Na(!0),function Ig(t,r,o){const c=t[Vn];switch(o){case Node.COMMENT_NODE:return tm(c,r);case Node.TEXT_NODE:return em(c,r);case Node.ELEMENT_NODE:return jh(c,r,null)}}(t,o,c));function Gf(){const t=[];let o,c,r=-1;function T(W,re){r=0;const Ie=function $f(t,r){const o=r[t.currentCaseLViewIndex];return null===o?o:o<0?~o:o}(W,re);c=null!==Ie?W.remove[Ie]:si}function N(){if(r<c.length){const W=c[r++];return W>0?o[W]:(t.push(r,c),T(o[P].data[~W],o),N())}return 0===t.length?null:(c=t.pop(),r=t.pop(),N())}return function y(W,re){for(o=re;t.length;)t.pop();return T(W.value,re),N}}const Hf=/\ufffd(\d+):?\d*\ufffd/gi,Wy=/\ufffd(\d+)\ufffd/,Dg=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,oh="\ufffd",BE=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,LE=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Ky=/\uE500/g;function Ag(t,r,o,c,y,T,N){const W=Rd(t,c,1,null);let re=W<<la.SHIFT,Ie=td();r===Ie&&(Ie=null),null===Ie&&(re|=la.APPEND_EAGERLY),N&&(re|=la.COMMENT,function hI(t){void 0===Zp&&(Zp=t())}(Gf)),y.push(re,null===T?"":T);const We=am(t,W,N?32:1,null===T?"":T,null);ky(o,We);const ut=We.index;return El(We,!1),null!==Ie&&r!==Ie&&function RE(t,r){let o=t.insertBeforeIndex;null===o?(C0(My,xy),o=t.insertBeforeIndex=[null,r]):(Un(Array.isArray(o),!0,"Expecting array here"),o.push(r))}(Ie,ut),We}function zy(t,r,o,c,y,T,N,W){const re=W.match(Hf),We=Ag(r,o,c,N,y,re?null:W,!1).index;re&&ah(T,W,We,null,0,null),t.push({kind:0,index:We})}function ah(t,r,o,c,y,T){const N=t.length,W=N+1;t.push(null,null);const re=N+2,Ie=r.split(Hf);let We=0;for(let ut=0;ut<Ie.length;ut++){const $t=Ie[ut];if(1&ut){const Xt=y+parseInt($t,10);t.push(-1-Xt),We|=Yy(Xt)}else""!==$t&&t.push($t)}return t.push(o<<2|(c?1:0)),c&&t.push(c,T),t[N]=We,t[W]=t.length-re,We}function Yy(t){return 1<<Math.min(t,31)}function Xy(t){let r,T,o="",c=0,y=!1;for(;null!==(r=BE.exec(t));)y?r[0]===`${oh}/*${T}${oh}`&&(c=r.index,y=!1):(o+=t.substring(c,r.index+r[0].length),T=r[1],y=!0);return o+=t.slice(c),o}function Rg(t,r,o,c,y,T,N){let W=0;const re={type:T.type,currentCaseLViewIndex:Rd(r,o,1,null),anchorIdx:N,cases:[],create:[],remove:[],update:[]};(function xg(t,r,o){t.push(Yy(r.mainBinding),2,-1-r.mainBinding,o<<2|2)})(c,T,N),function AE(t,r,o){const c=t.data[r];null===c?t.data[r]=o:c.value=o}(r,N,re);const Ie=T.values,We=[];for(let ut=0;ut<Ie.length;ut++){const $t=Ie[ut],Xt=[];for(let Dn=0;Dn<$t.length;Dn++){const Pn=$t[Dn];if("string"!=typeof Pn){const Yn=Xt.push(Pn)-1;$t[Dn]=`\x3c!--\ufffd${Yn}\ufffd--\x3e`}}const an=[];We.push(an),W=KE(an,r,re,o,c,y,T.cases[ut],$t.join(""),Xt)|W}W&&function Zy(t,r,o){t.push(r,1,o<<2|3)}(c,W,N),t.push({kind:3,index:N,cases:We,currentCaseLViewIndex:re.currentCaseLViewIndex})}function WE(t){const r=[],o=[];let c=1,y=0;const T=Mg(t=t.replace(Dg,function(N,W,re){return c="select"===re?0:1,y=parseInt(W.slice(1),10),""}));for(let N=0;N<T.length;){let W=T[N++].trim();1===c&&(W=W.replace(/\s*(?:=)?(\w+)\s*/,"$1")),W.length&&r.push(W);const re=Mg(T[N++]);r.length>o.length&&o.push(re)}return{type:c,mainBinding:y,cases:r,values:o}}function Mg(t){if(!t)return[];let r=0;const o=[],c=[],y=/[{}]/g;let T;for(y.lastIndex=0;T=y.exec(t);){const W=T.index;if("}"==T[0]){if(o.pop(),0==o.length){const re=t.substring(r,W);Dg.test(re)?c.push(WE(re)):c.push(re),r=W+1}}else{if(0==o.length){const re=t.substring(r,W);c.push(re),r=W+1}o.push("{")}}const N=t.substring(r);return c.push(N),c}function KE(t,r,o,c,y,T,N,W,re){const Ie=[],We=[],ut=[];o.cases.push(N),o.create.push(Ie),o.remove.push(We),o.update.push(ut);const Xt=Vp(ac()).getInertBodyElement(W),an=Ph(Xt)||Xt;return an?Jy(t,r,o,c,y,Ie,We,ut,an,T,re,0):0}function Jy(t,r,o,c,y,T,N,W,re,Ie,We,ut){let $t=0,Xt=re.firstChild;for(;Xt;){const an=Rd(r,c,1,null);switch(Xt.nodeType){case Node.ELEMENT_NODE:const Dn=Xt,Pn=Dn.tagName.toLowerCase();if(oa.hasOwnProperty(Pn)){kg(T,Uf,Pn,Ie,an),r.data[an]=Pn;const Rr=Dn.attributes;for(let Do=0;Do<Rr.length;Do++){const Ga=Rr.item(Do),Zf=Ga.name.toLowerCase();Ga.value.match(Hf)?Sd.hasOwnProperty(Zf)&&ah(W,Ga.value,an,Ga.name,0,wd[Zf]?Nh:null):YE(T,an,Ga)}const ds={kind:1,index:an,children:[]};t.push(ds),$t=Jy(ds.children,r,o,c,y,T,N,W,Xt,an,We,ut+1)|$t,Qy(N,an,ut)}break;case Node.TEXT_NODE:const Yn=Xt.textContent||"",xn=Yn.match(Hf);kg(T,null,xn?"":Yn,Ie,an),Qy(N,an,ut),xn&&($t=ah(W,Yn,an,null,0,null)|$t),t.push({kind:0,index:an});break;case Node.COMMENT_NODE:const Li=Wy.exec(Xt.textContent||"");if(Li){const ds=We[parseInt(Li[1],10)];kg(T,Vf,"",Ie,an),Rg(t,r,c,y,Ie,ds,an),zE(N,an,ut)}}Xt=Xt.nextSibling}return $t}function Qy(t,r,o){0===o&&t.push(r)}function zE(t,r,o){0===o&&(t.push(~r),t.push(r))}function kg(t,r,o,c,y){null!==r&&t.push(r),t.push(o,y,function Py(t,r,o){return t|r<<17|o<<1}(0,c,y))}function YE(t,r,o){t.push(r<<1|1,o.name,o.value)}function e_(t,r,o=-1){const c=hr(),y=wn(),T=Ri+t,N=Sl(c.consts,r),W=td();c.firstCreatePass&&function VE(t,r,o,c,y,T){const N=td(),W=[],re=[],Ie=[[]],We=[[]];y=function HE(t,r){if(function GE(t){return-1===t}(r))return Xy(t);{const o=t.indexOf(`:${r}${oh}`)+2+r.toString().length,c=t.search(new RegExp(`${oh}\\/\\*\\d+:${r}${oh}`));return Xy(t.substring(o,c))}}(y,T);const ut=function UE(t){return t.replace(Ky," ")}(y).split(LE);for(let $t=0;$t<ut.length;$t++){let Xt=ut[$t];if(1&$t){const an=47===Xt.charCodeAt(0),Dn=Xt.charCodeAt(an?1:0),Pn=Ri+Number.parseInt(Xt.substring(an?2:1));if(an)Ie.shift(),We.shift(),El(td(),!1);else{const Yn=ME(t,Ie[0],Pn);Ie.unshift([]),El(Yn,!0);const xn={kind:2,index:Pn,children:[],type:35===Dn?0:1};We[0].push(xn),We.unshift(xn.children)}}else{const an=Mg(Xt);for(let Dn=0;Dn<an.length;Dn++){let Pn=an[Dn];if(1&Dn){const Yn=Pn;if("object"!=typeof Yn)throw new Error(`Unable to parse ICU expression in "${y}" message.`);const Li=Ag(t,N,Ie[0],o,W,"",!0).index;Rg(We[0],t,o,re,r,Yn,Li)}else""!==Pn&&zy(We[0],t,N,Ie[0],W,re,o,Pn)}}}t.data[c]={create:W,update:re,ast:We[0]}}(c,null===W?0:W.index,y,T,N,o),2===c.type?y[Ir][pe]|=32:y[pe]|=32;const re=c.data[T],We=m0(c,W===y[Mt]?null:W,y);(function Ly(t,r,o,c){const y=t[Vn];for(let T=0;T<r.length;T++){const N=r[T++],Ie=(N&la.APPEND_EAGERLY)===la.APPEND_EAGERLY,We=N>>>la.SHIFT;let ut=t[We],$t=!1;null===ut&&(ut=t[We]=sh(t,We,r[T],(N&la.COMMENT)===la.COMMENT?Node.COMMENT_NODE:Node.TEXT_NODE),$t=Tl()),Ie&&null!==o&&$t&&Ic(y,o,ut,c,!1)}})(y,re.create,We,W&&8&W.type?y[W.index]:null),qg(!0)}function n_(t,r,o){e_(t,r,o),function t_(){qg(!1)}()}function Ng(t,r,o,c){const y=wn(),T=hr(),N=$r();return Og(T,y,y[Vn],N,t,r,c),Ng}function Og(t,r,o,c,y,T,N){const W=ta(c),Ie=t.firstCreatePass&&qC(t),We=r[rn],ut=Ho(r);let $t=!0;if(3&c.type||N){const Dn=$o(c,r),Pn=N?N(Dn):Dn,Yn=ut.length,xn=N?Rr=>N(br(Rr[c.index])):c.index;let Li=null;if(!N&&W&&(Li=function oT(t,r,o,c){const y=t.cleanup;if(null!=y)for(let T=0;T<y.length-1;T+=2){const N=y[T];if(N===o&&y[T+1]===c){const W=r[Zt],re=y[T+2];return W.length>re?W[re]:null}"string"==typeof N&&(T+=2)}return null}(t,r,y,c.index)),null!==Li)(Li.__ngLastListenerFn__||Li).__ngNextListenerFn__=T,Li.__ngLastListenerFn__=T,$t=!1;else{T=o_(c,r,We,T,!1);const Rr=o.listen(Pn,y,T);ut.push(T,Rr),Ie&&Ie.push(y,xn,Yn,Yn+1)}}else T=o_(c,r,We,T,!1);const Xt=c.outputs;let an;if($t&&null!==Xt&&(an=Xt[y])){const Dn=an.length;if(Dn)for(let Pn=0;Pn<Dn;Pn+=2){const ds=r[an[Pn]][an[Pn+1]].subscribe(T),Do=ut.length;ut.push(T,ds),Ie&&Ie.push(y,c.index,Do,-(Do+1))}}}function s_(t,r,o,c){const y=f(null);try{return jo(6,r,o),!1!==o(c)}catch(T){return Yl(t,T),!1}finally{jo(7,r,o),f(y)}}function o_(t,r,o,c,y){return function T(N){if(N===Function)return c;Zh(t.componentOffset>-1?pa(t.index,r):r);let re=s_(r,o,c,N),Ie=T.__ngNextListenerFn__;for(;Ie;)re=s_(r,o,Ie,N)&&re,Ie=Ie.__ngNextListenerFn__;return y&&!1===re&&N.preventDefault(),re}}function a_(t=1){return function fb(t){return(Fi.lFrame.contextLView=function Kg(t,r){for(;t>0;)r=r[jr],t--;return r}(t,Fi.lFrame.contextLView))[rn]}(t)}function aT(t,r){let o=null;const c=function wt(t){const r=t.attrs;if(null!=r){const o=r.indexOf(5);if(!(1&o))return r[o+1]}return null}(t);for(let y=0;y<r.length;y++){const T=r[y];if("*"!==T){if(null===c?Xe(t,T,!0):bt(c,T))return y}else o=y}return o}function l_(t){const r=wn()[Ir][Mt];if(!r.projection){const c=r.projection=function so(t,r){const o=[];for(let c=0;c<t;c++)o.push(r);return o}(t?t.length:1,null),y=c.slice();let T=r.child;for(;null!==T;){const N=t?aT(T,t):0;null!==N&&(y[N]?y[N].projectionNext=T:c[N]=T,y[N]=T),T=T.next}}}function c_(t,r=0,o){const c=wn(),y=hr(),T=gu(y,Ri+t,16,null,o||null);null===T.projection&&(T.projection=r),op(),(!c[Ut]||uo())&&32&~T.flags&&function RC(t,r,o){E0(r[Vn],0,r,o,im(t,o,r),y0(o.parent||r[Mt],o,r))}(y,c,T)}function lh(t,r,o){return Wf(t,"",r,"",o),lh}function Wf(t,r,o,c,y){const T=wn(),N=Nu(T,r,o,c);return N!==Wi&&ba(hr(),ls(),T,t,N,T[Vn],y,!1),Wf}function Fg(t,r,o,c,y,T,N){const W=wn(),re=Zl(W,r,o,c,y,T);return re!==Wi&&ba(hr(),ls(),W,t,re,W[Vn],N,!1),Fg}function v_(t,r,o,c){!function Om(t,r,o,c){const y=hr();if(y.firstCreatePass){const T=$r();yv(y,new Bw(r,o,c),T.index),function Gw(t,r){const o=t.contentQueries||(t.contentQueries=[]);r!==(o.length?o[o.length-1]:-1)&&o.push(t.queries.length-1,r)}(y,t),!(2&~o)&&(y.staticContentQueries=!0)}return Vw(y,wn(),o)}(t,r,o,c)}function y_(t,r,o){!function jw(t,r,o){const c=hr();return c.firstCreatePass&&(yv(c,new Bw(t,r,o),-1),!(2&~r)&&(c.staticViewQueries=!0)),Vw(c,wn(),r)}(t,r,o)}function __(t){const r=wn(),o=hr(),c=up();mh(c+1);const y=_v(o,c);if(t.dirty&&function ib(t){return!(4&~t[pe])}(r)===!(2&~y.metadata.flags)){if(null===y.matches)t.reset([]);else{const T=Hw(r,c);t.reset(T,_1),t.notifyOnChanges()}return!0}return!1}function b_(){return function jd(t,r){return t[as].queries[r].queryList}(wn(),up())}function w_(t){return Hc(function ap(){return Fi.lFrame.contextLView}(),Ri+t)}function x_(t,r=""){const o=wn(),c=hr(),y=t+Ri,T=c.firstCreatePass?gu(c,y,1,r,null):c.data[y],N=k_(c,o,T,r,t);o[y]=N,Tl()&&Hh(c,o,N,T),El(T,!1)}let k_=(t,r,o,c,y)=>(Na(!0),em(r[Vn],c));function Pg(t){return zf("",t,""),Pg}function zf(t,r,o){const c=wn(),y=Nu(c,t,r,o);return y!==Wi&&Ps(c,xo(),y),zf}function Bg(t,r,o,c,y){const T=wn(),N=Zl(T,t,r,o,c,y);return N!==Wi&&Ps(T,xo(),N),Bg}function Ug(t,r,o){Fm(r)&&(r=r());const c=wn();return Qs(c,qa(),r)&&ba(hr(),ls(),c,t,r,c[Vn],o,!1),Ug}function U_(t,r){const o=Fm(t);return o&&t.set(r),o}function s(t,r){const o=wn(),c=hr(),y=$r();return Og(c,o,o[Vn],y,t,r),s}function n(t,r,o,c,y){if(t=ct(t),Array.isArray(t))for(let T=0;T<t.length;T++)n(t[T],r,o,c,y);else{const T=hr(),N=wn(),W=$r();let re=Bo(t)?t:ct(t.provide);const Ie=So(t),We=1048575&W.providerIndexes,ut=W.directiveStart,$t=W.providerIndexes>>20;if(Bo(t)||!t.multi){const Xt=new $l(Ie,y,mu),an=D(re,r,y?We:We+$t,ut);-1===an?(ld(Xc(W,N),T,re),a(T,t,r.length),r.push(re),W.directiveStart++,W.directiveEnd++,y&&(W.providerIndexes+=1048576),o.push(Xt),N.push(Xt)):(o[an]=Xt,N[an]=Xt)}else{const Xt=D(re,r,We+$t,ut),an=D(re,r,We,We+$t),Pn=an>=0&&o[an];if(y&&!Pn||!y&&!(Xt>=0&&o[Xt])){ld(Xc(W,N),T,re);const Yn=function gt(t,r,o,c,y){const T=new $l(t,o,mu);return T.multi=[],T.index=r,T.componentProviders=0,l(T,y,c&&!o),T}(y?De:ee,o.length,y,c,Ie);!y&&Pn&&(o[an].providerFactory=Yn),a(T,t,r.length,0),r.push(re),W.directiveStart++,W.directiveEnd++,y&&(W.providerIndexes+=1048576),o.push(Yn),N.push(Yn)}else a(T,t,Xt>-1?Xt:an,l(o[y?an:Xt],Ie,!y&&c));!y&&c&&Pn&&o[an].componentProviders++}}}function a(t,r,o,c){const y=Bo(r),T=function wo(t){return!!t.useClass}(r);if(y||T){const re=(T?ct(r.useClass):r).prototype.ngOnDestroy;if(re){const Ie=t.destroyHooks||(t.destroyHooks=[]);if(!y&&r.multi){const We=Ie.indexOf(o);-1===We?Ie.push(o,[c,re]):Ie[We+1].push(c,re)}else Ie.push(o,re)}}}function l(t,r,o){return o&&t.componentProviders++,t.multi.push(r)-1}function D(t,r,o,c){for(let y=o;y<c;y++)if(r[y]===t)return y;return-1}function ee(t,r,o,c){return Ze(this.multi,[])}function De(t,r,o,c){const y=this.multi;let T;if(this.providerFactory){const N=this.providerFactory.componentProviders,W=ma(o,o[P],this.providerFactory.index,c);T=W.slice(0,N),Ze(y,T);for(let re=N;re<W.length;re++)T.push(W[re])}else T=[],Ze(y,T);return T}function Ze(t,r){for(let o=0;o<t.length;o++)r.push((0,t[o])());return r}function Vt(t,r=[]){return o=>{o.providersResolver=(c,y)=>function p(t,r,o){const c=hr();if(c.firstCreatePass){const y=co(t);n(o,c.data,c.blueprint,y,!0),n(r,c.data,c.blueprint,y,!1)}}(c,y?y(t):t,r)}}let ln=(()=>{class t{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o)){const c=Fs(0,o.type),y=c.length>0?Mv([c],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o,y)}return this.cachedInjectors.get(o)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=ni({token:t,providedIn:"environment",factory:()=>new t(qi(Tr))})}}return t})();function Cn(t){Ol("NgStandalone"),t.getStandaloneInjector=r=>r.get(ln).getOrCreateStandaloneInjector(t)}function wi(t,r,o){const c=Go()+t,y=wn();return y[c]===Wi?Jl(y,c,o?r.call(o):r()):Iu(y,c)}function Si(t,r,o,c){return eo(wn(),Go(),t,r,o,c)}function Qi(t,r,o,c,y){return to(wn(),Go(),t,r,o,c,y)}function _i(t,r,o,c,y,T){return fl(wn(),Go(),t,r,o,c,y,T)}function nr(t,r,o,c,y,T,N){return function pl(t,r,o,c,y,T,N,W,re){const Ie=r+o;return ul(t,Ie,y,T,N,W)?Jl(t,Ie+4,re?c.call(re,y,T,N,W):c(y,T,N,W)):ks(t,Ie+4)}(wn(),Go(),t,r,o,c,y,T,N)}function zi(t,r,o,c,y,T,N,W){const re=Go()+t,Ie=wn(),We=ul(Ie,re,o,c,y,T);return Qs(Ie,re+4,N)||We?Jl(Ie,re+5,W?r.call(W,o,c,y,T,N):r(o,c,y,T,N)):Iu(Ie,re+5)}function Zi(t,r,o,c,y,T,N,W,re){const Ie=Go()+t,We=wn(),ut=ul(We,Ie,o,c,y,T);return Du(We,Ie+4,N,W)||ut?Jl(We,Ie+6,re?r.call(re,o,c,y,T,N,W):r(o,c,y,T,N,W)):Iu(We,Ie+6)}function ks(t,r){const o=t[r];return o===Wi?void 0:o}function eo(t,r,o,c,y,T){const N=r+o;return Qs(t,N,y)?Jl(t,N+1,T?c.call(T,y):c(y)):ks(t,N+1)}function to(t,r,o,c,y,T,N){const W=r+o;return Du(t,W,y,T)?Jl(t,W+2,N?c.call(N,y,T):c(y,T)):ks(t,W+2)}function fl(t,r,o,c,y,T,N,W){const re=r+o;return function Zm(t,r,o,c,y){const T=Du(t,r,o,c);return Qs(t,r+2,y)||T}(t,re,y,T,N)?Jl(t,re+3,W?c.call(W,y,T,N):c(y,T,N)):ks(t,re+3)}function fi(t,r){const o=hr();let c;const y=t+Ri;o.firstCreatePass?(c=function Mi(t,r){if(r)for(let o=r.length-1;o>=0;o--){const c=r[o];if(t===c.name)return c}}(r,o.pipeRegistry),o.data[y]=c,c.onDestroy&&(o.destroyHooks??=[]).push(y,c.onDestroy)):c=o.data[y];const T=c.factory||(c.factory=Jr(c.type)),W=Cr(mu);try{const re=Yc(!1),Ie=T();return Yc(re),function uT(t,r,o,c){o>=t.data.length&&(t.data[o]=null,t.blueprint[o]=null),r[o]=c}(o,wn(),y,Ie),Ie}finally{Cr(W)}}function Wo(t,r,o){const c=t+Ri,y=wn(),T=Hc(y,c);return gl(y,c)?eo(y,Go(),r,T.transform,o,T):T.transform(o)}function no(t,r,o,c){const y=t+Ri,T=wn(),N=Hc(T,y);return gl(T,y)?to(T,Go(),r,N.transform,o,c,N):N.transform(o,c)}function ca(t,r,o,c,y){const T=t+Ri,N=wn(),W=Hc(N,T);return gl(N,T)?fl(N,Go(),r,W.transform,o,c,y,W):W.transform(o,c,y)}function gl(t,r){return t[P].data[r].pure}function Ls(t,r){return Nd(t,r)}class BD{constructor(r){this.full=r;const o=r.split(".");this.major=o[0],this.minor=o[1],this.patch=o.slice(2).join(".")}}let LD=(()=>{class t{log(o){console.log(o)}warn(o){console.warn(o)}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=ni({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();const GD=new Qt(""),HD=new Qt("");let IT,LA=(()=>{class t{constructor(o,c,y){this._ngZone=o,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,IT||(function UA(t){IT=t}(y),y.addToWindow(c)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Hs.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb()}});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(o)||(clearTimeout(c.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,c,y){let T=-1;c&&c>0&&(T=setTimeout(()=>{this._callbacks=this._callbacks.filter(N=>N.timeoutId!==T),o()},c)),this._callbacks.push({doneCb:o,timeoutId:T,updateCb:y})}whenStable(o,c,y){if(y&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,c,y),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,c,y){return[]}static{this.\u0275fac=function(c){return new(c||t)(qi(Hs),qi(WD),qi(HD))}}static{this.\u0275prov=ni({token:t,factory:t.\u0275fac})}}return t})(),WD=(()=>{class t{constructor(){this._applications=new Map}registerApplication(o,c){this._applications.set(o,c)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,c=!0){return IT?.findTestabilityInTree(this,o,c)??null}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=ni({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();function DT(t){return!!t&&"function"==typeof t.then}function KD(t){return!!t&&"function"==typeof t.subscribe}const zD=new Qt("");let AT=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((o,c)=>{this.resolve=o,this.reject=c}),this.appInits=Hn(zD,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const o=[];for(const y of this.appInits){const T=y();if(DT(T))o.push(T);else if(KD(T)){const N=new Promise((W,re)=>{T.subscribe({complete:W,error:re})});o.push(N)}}const c=()=>{this.done=!0,this.resolve()};Promise.all(o).then(()=>{c()}).catch(y=>{this.reject(y)}),0===o.length&&c(),this.initialized=!0}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=ni({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const RT=new Qt("");function JD(t,r){return Array.isArray(r)?r.reduce(JD,t):{...t,...r}}let zu=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Hn(Ch),this.afterRenderEffectManager=Hn(uf),this.externalTestViews=new Set,this.beforeRender=new J.B,this.afterTick=new J.B,this.componentTypes=[],this.components=[],this.isStable=Hn(Wd).hasPendingTasks.pipe((0,Se.T)(o=>!o)),this._injector=Hn(Tr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,c){const y=o instanceof Sm;if(!this._injector.get(AT).done)throw!y&&Ds(o),new Ue(405,!1);let N;N=y?o:this._injector.get(Pd).resolveComponentFactory(o),this.componentTypes.push(N.componentType);const W=function VA(t){return t.isBoundToModule}(N)?void 0:this._injector.get(Tu),Ie=N.create(va.NULL,[],c||N.selector,W),We=Ie.location.nativeElement,ut=Ie.injector.get(GD,null);return ut?.registerApplication(We),Ie.onDestroy(()=>{this.detachView(Ie.hostView),K_(this.components,Ie),ut?.unregisterApplication(We)}),this._loadComponent(Ie),Ie}tick(){this._tick(!0)}_tick(o){if(this._runningTick)throw new Ue(101,!1);const c=f(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(o)}catch(y){this.internalErrorHandler(y)}finally{this.afterTick.next(),this._runningTick=!1,f(c)}}detectChangesInAttachedViews(o){let c=0;const y=this.afterRenderEffectManager;for(;;){if(c===V0)throw new Ue(103,!1);if(o){const T=0===c;this.beforeRender.next(T);for(let{_lView:N,notifyErrorHandler:W}of this._views)$A(N,T,W)}if(c++,y.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:T})=>MT(T))&&(y.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:T})=>MT(T))))break}}attachView(o){const c=o;this._views.push(c),c.attachToAppRef(this)}detachView(o){const c=o;K_(this._views,c),c.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const c=this._injector.get(RT,[]);[...this._bootstrapListeners,...c].forEach(y=>y(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>K_(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new Ue(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=ni({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function K_(t,r){const o=t.indexOf(r);o>-1&&t.splice(o,1)}function $A(t,r,o){!r&&!MT(t)||function GA(t,r,o){let c;o?(c=0,t[pe]|=1024):c=64&t[pe]?0:1,kd(t,r,c)}(t,o,r)}function MT(t){return np(t)}class HA{constructor(r,o){this.ngModuleFactory=r,this.componentFactories=o}}let WA=(()=>{class t{compileModuleSync(o){return new Rv(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const c=this.compileModuleSync(o),T=La(Er(o).declarations).reduce((N,W)=>{const re=ki(W);return re&&N.push(new pf(re)),N},[]);return new HA(c,T)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=ni({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),YA=(()=>{class t{constructor(){this.zone=Hn(Hs),this.applicationRef=Hn(zu)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=ni({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function XA(){const t=Hn(Hs),r=Hn(Dl);return o=>t.runOutsideAngular(()=>r.handleError(o))}let QA=(()=>{class t{constructor(){this.subscription=new X.yU,this.initialized=!1,this.zone=Hn(Hs),this.pendingTasks=Hn(Wd)}initialize(){if(this.initialized)return;this.initialized=!0;let o=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(o=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Hs.assertNotInAngularZone(),queueMicrotask(()=>{null!==o&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(o),o=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Hs.assertInAngularZone(),o??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=ni({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const Y_=new Qt("",{providedIn:"root",factory:()=>Hn(Y_,yi.Optional|yi.SkipSelf)||function ZA(){return typeof $localize<"u"&&$localize.locale||Wu}()}),qA=new Qt("",{providedIn:"root",factory:()=>"USD"}),xT=new Qt("");let e2=(()=>{class t{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,c){const y=function FI(t="zone.js",r){return"noop"===t?new ww:"zone.js"===t?new Hs(r):t}(c?.ngZone,function qD(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:c?.ngZoneEventCoalescing,runCoalescing:c?.ngZoneRunCoalescing}));return y.run(()=>{const T=function aD(t,r,o){return new Xm(t,r,o)}(o.moduleType,this.injector,function ZD(t){return[{provide:Hs,useFactory:t},{provide:Hr,multi:!0,useFactory:()=>{const r=Hn(YA,{optional:!0});return()=>r.initialize()}},{provide:Hr,multi:!0,useFactory:()=>{const r=Hn(QA);return()=>{r.initialize()}}},{provide:Ch,useFactory:XA}]}(()=>y)),N=T.injector.get(Dl,null);return y.runOutsideAngular(()=>{const W=y.onError.subscribe({next:re=>{N.handleError(re)}});T.onDestroy(()=>{K_(this._modules,T),W.unsubscribe()})}),function XD(t,r,o){try{const c=o();return DT(c)?c.catch(y=>{throw r.runOutsideAngular(()=>t.handleError(y)),y}):c}catch(c){throw r.runOutsideAngular(()=>t.handleError(c)),c}}(N,y,()=>{const W=T.injector.get(AT);return W.runInitializers(),W.donePromise.then(()=>(function Ry(t){"string"==typeof t&&(jf=t.toLowerCase().replace(/_/g,"-"))}(T.injector.get(Y_,Wu)||Wu),this._moduleDoBootstrap(T),T))})})}bootstrapModule(o,c=[]){const y=JD({},c);return function zA(t,r,o){const c=new Rv(o);return Promise.resolve(c)}(0,0,o).then(T=>this.bootstrapModuleFactory(T,y))}_moduleDoBootstrap(o){const c=o.injector.get(zu);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(y=>c.bootstrap(y));else{if(!o.instance.ngDoBootstrap)throw new Ue(-403,!1);o.instance.ngDoBootstrap(c)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ue(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const o=this._injector.get(xT,null);o&&(o.forEach(c=>c()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(c){return new(c||t)(qi(va))}}static{this.\u0275prov=ni({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})(),Yu=null;const t2=new Qt("");function n2(t,r,o=[]){const c=`Platform: ${r}`,y=new Qt(c);return(T=[])=>{let N=kT();if(!N||N.injector.get(t2,!1)){const W=[...o,...T,{provide:y,useValue:!0}];t?t(W):function tR(t){if(Yu&&!Yu.get(t2,!1))throw new Ue(400,!1);(function YD(){!function Te(t){xe=t}(()=>{throw new Ue(600,!1)})})(),Yu=t;const r=t.get(e2);(function s2(t){t.get(F1,null)?.forEach(o=>o())})(t)}(function r2(t=[],r){return va.create({name:r,providers:[{provide:Wa,useValue:"platform"},{provide:xT,useValue:new Set([()=>Yu=null])},...t]})}(W,c))}return function nR(t){const r=kT();if(!r)throw new Ue(401,!1);return r}()}}function kT(){return Yu?.get(e2)??null}function rR(){return!1}function sR(){}let a2=(()=>{class t{static{this.__NG_ELEMENT_ID__=oR}}return t})();function oR(t){return function aR(t,r,o){if(ea(t)&&!o){const c=pa(t.index,r);return new qh(c,c)}return 47&t.type?new qh(r[Ir],r):null}($r(),wn(),!(16&~t))}class d2{constructor(){}supports(r){return Qm(r)}create(r){return new hR(r)}}const dR=(t,r)=>r;class hR{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||dR}forEachItem(r){let o;for(o=this._itHead;null!==o;o=o._next)r(o)}forEachOperation(r){let o=this._itHead,c=this._removalsHead,y=0,T=null;for(;o||c;){const N=!c||o&&o.currentIndex<f2(c,y,T)?o:c,W=f2(N,y,T),re=N.currentIndex;if(N===c)y--,c=c._nextRemoved;else if(o=o._next,null==N.previousIndex)y++;else{T||(T=[]);const Ie=W-y,We=re-y;if(Ie!=We){for(let $t=0;$t<Ie;$t++){const Xt=$t<T.length?T[$t]:T[$t]=0,an=Xt+$t;We<=an&&an<Ie&&(T[$t]=Xt+1)}T[N.previousIndex]=We-Ie}}W!==re&&r(N,W,re)}}forEachPreviousItem(r){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachMovedItem(r){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}forEachIdentityChange(r){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)r(o)}diff(r){if(null==r&&(r=[]),!Qm(r))throw new Ue(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let y,T,N,o=this._itHead,c=!1;if(Array.isArray(r)){this.length=r.length;for(let W=0;W<this.length;W++)T=r[W],N=this._trackByFn(W,T),null!==o&&Object.is(o.trackById,N)?(c&&(o=this._verifyReinsertion(o,T,N,W)),Object.is(o.item,T)||this._addIdentityChange(o,T)):(o=this._mismatch(o,T,N,W),c=!0),o=o._next}else y=0,function cD(t,r){if(Array.isArray(t))for(let o=0;o<t.length;o++)r(t[o]);else{const o=t[Symbol.iterator]();let c;for(;!(c=o.next()).done;)r(c.value)}}(r,W=>{N=this._trackByFn(y,W),null!==o&&Object.is(o.trackById,N)?(c&&(o=this._verifyReinsertion(o,W,N,y)),Object.is(o.item,W)||this._addIdentityChange(o,W)):(o=this._mismatch(o,W,N,y),c=!0),o=o._next,y++}),this.length=y;return this._truncate(o),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,o,c,y){let T;return null===r?T=this._itTail:(T=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._reinsertAfter(r,T,y)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(c,y))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._moveAfter(r,T,y)):r=this._addAfter(new fR(o,c),T,y),r}_verifyReinsertion(r,o,c,y){let T=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==T?r=this._reinsertAfter(T,r._prev,y):r.currentIndex!=y&&(r.currentIndex=y,this._addToMoves(r,y)),r}_truncate(r){for(;null!==r;){const o=r._next;this._addToRemovals(this._unlink(r)),r=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,o,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const y=r._prevRemoved,T=r._nextRemoved;return null===y?this._removalsHead=T:y._nextRemoved=T,null===T?this._removalsTail=y:T._prevRemoved=y,this._insertAfter(r,o,c),this._addToMoves(r,c),r}_moveAfter(r,o,c){return this._unlink(r),this._insertAfter(r,o,c),this._addToMoves(r,c),r}_addAfter(r,o,c){return this._insertAfter(r,o,c),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,o,c){const y=null===o?this._itHead:o._next;return r._next=y,r._prev=o,null===y?this._itTail=r:y._prev=r,null===o?this._itHead=r:o._next=r,null===this._linkedRecords&&(this._linkedRecords=new h2),this._linkedRecords.put(r),r.currentIndex=c,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const o=r._prev,c=r._next;return null===o?this._itHead=c:o._next=c,null===c?this._itTail=o:c._prev=o,r}_addToMoves(r,o){return r.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new h2),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,o){return r.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class fR{constructor(r,o){this.item=r,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class pR{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,o){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===o||o<=c.currentIndex)&&Object.is(c.trackById,r))return c;return null}remove(r){const o=r._prevDup,c=r._nextDup;return null===o?this._head=c:o._nextDup=c,null===c?this._tail=o:c._prevDup=o,null===this._head}}class h2{constructor(){this.map=new Map}put(r){const o=r.trackById;let c=this.map.get(o);c||(c=new pR,this.map.set(o,c)),c.add(r)}get(r,o){const y=this.map.get(r);return y?y.get(r,o):null}remove(r){const o=r.trackById;return this.map.get(o).remove(r)&&this.map.delete(o),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function f2(t,r,o){const c=t.previousIndex;if(null===c)return c;let y=0;return o&&c<o.length&&(y=o[c]),c+r+y}class p2{constructor(){}supports(r){return r instanceof Map||kv(r)}create(){return new mR}}class mR{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let o;for(o=this._mapHead;null!==o;o=o._next)r(o)}forEachPreviousItem(r){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)r(o)}forEachChangedItem(r){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}diff(r){if(r){if(!(r instanceof Map||kv(r)))throw new Ue(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(r,(c,y)=>{if(o&&o.key===y)this._maybeAddToChanges(o,c),this._appendAfter=o,o=o._next;else{const T=this._getOrCreateRecordForKey(y,c);o=this._insertBeforeOrAppend(o,T)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let c=o;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,o){if(r){const c=r._prev;return o._next=r,o._prev=c,r._prev=o,c&&(c._next=o),r===this._mapHead&&(this._mapHead=o),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(r,o){if(this._records.has(r)){const y=this._records.get(r);this._maybeAddToChanges(y,o);const T=y._prev,N=y._next;return T&&(T._next=N),N&&(N._prev=T),y._next=null,y._prev=null,y}const c=new gR(r);return this._records.set(r,c),c.currentValue=o,this._addToAdditions(c),c}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,o){Object.is(o,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=o,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,o){r instanceof Map?r.forEach(o):Object.keys(r).forEach(c=>o(r[c],c))}}class gR{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function m2(){return new BT([new d2])}let BT=(()=>{class t{static{this.\u0275prov=ni({token:t,providedIn:"root",factory:m2})}constructor(o){this.factories=o}static create(o,c){if(null!=c){const y=c.factories.slice();o=o.concat(y)}return new t(o)}static extend(o){return{provide:t,useFactory:c=>t.create(o,c||m2()),deps:[[t,new rs,new yr]]}}find(o){const c=this.factories.find(y=>y.supports(o));if(null!=c)return c;throw new Ue(901,!1)}}return t})();function g2(){return new LT([new p2])}let LT=(()=>{class t{static{this.\u0275prov=ni({token:t,providedIn:"root",factory:g2})}constructor(o){this.factories=o}static create(o,c){if(c){const y=c.factories.slice();o=o.concat(y)}return new t(o)}static extend(o){return{provide:t,useFactory:c=>t.create(o,c||g2()),deps:[[t,new rs,new yr]]}}find(o){const c=this.factories.find(y=>y.supports(o));if(c)return c;throw new Ue(901,!1)}}return t})();const _R=n2(null,"core",[]);let bR=(()=>{class t{constructor(o){}static{this.\u0275fac=function(c){return new(c||t)(qi(zu))}}static{this.\u0275mod=Is({type:t})}static{this.\u0275inj=Xn({})}}return t})();function XR(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function QR(t){const r=f(null);try{return t()}finally{f(r)}}function iM(t,r){const o=ki(t),c=r.elementInjector||_s();return new pf(o).create(c,r.projectableNodes,r.hostElement,r.environmentInjector)}function rM(t){const r=ki(t);if(!r)return null;const o=new pf(r);return{get selector(){return o.selector},get type(){return o.componentType},get inputs(){return o.inputs},get outputs(){return o.outputs},get ngContentSelectors(){return o.ngContentSelectors},get isStandalone(){return r.standalone},get isSignal(){return r.signals}}}},9417:(et,me,u)=>{"use strict";u.d(me,{$R:()=>ai,BC:()=>lt,Fm:()=>yi,JD:()=>wr,Q0:()=>Mr,VZ:()=>Jr,X1:()=>vs,YN:()=>pn,YS:()=>Qr,Zm:()=>m,cV:()=>K,cb:()=>Ue,cz:()=>H,hs:()=>Wt,j4:()=>Ni,k0:()=>U,kq:()=>d,l_:()=>gr,me:()=>R,ok:()=>js,qT:()=>ar,tU:()=>Nr,vO:()=>X,vS:()=>ri,wz:()=>qi,xH:()=>er,xh:()=>Ao,y7:()=>ro,ze:()=>Ur});var i=u(4438),e=u(177),_=u(6648),g=u(7468),S=u(6354);let v=(()=>{class Ne{constructor(ge,tt){this._renderer=ge,this._elementRef=tt,this.onChange=Pt=>{},this.onTouched=()=>{}}setProperty(ge,tt){this._renderer.setProperty(this._elementRef.nativeElement,ge,tt)}registerOnTouched(ge){this.onTouched=ge}registerOnChange(ge){this.onChange=ge}setDisabledState(ge){this.setProperty("disabled",ge)}static{this.\u0275fac=function(tt){return new(tt||Ne)(i.rXU(i.sFG),i.rXU(i.aKT))}}static{this.\u0275dir=i.FsC({type:Ne})}}return Ne})(),f=(()=>{class Ne extends v{static{this.\u0275fac=(()=>{let ge;return function(Pt){return(ge||(ge=i.xGo(Ne)))(Pt||Ne)}})()}static{this.\u0275dir=i.FsC({type:Ne,features:[i.Vt3]})}}return Ne})();const d=new i.nKC(""),E={provide:d,useExisting:(0,i.Rfq)(()=>m),multi:!0};let m=(()=>{class Ne extends f{writeValue(ge){this.setProperty("checked",ge)}static{this.\u0275fac=(()=>{let ge;return function(Pt){return(ge||(ge=i.xGo(Ne)))(Pt||Ne)}})()}static{this.\u0275dir=i.FsC({type:Ne,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(tt,Pt){1&tt&&i.bIt("change",function(Ii){return Pt.onChange(Ii.target.checked)})("blur",function(){return Pt.onTouched()})},features:[i.Jv_([E]),i.Vt3]})}}return Ne})();const F={provide:d,useExisting:(0,i.Rfq)(()=>R),multi:!0},C=new i.nKC("");let R=(()=>{class Ne extends v{constructor(ge,tt,Pt){super(ge,tt),this._compositionMode=Pt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function w(){const Ne=(0,e.QT)()?(0,e.QT)().getUserAgent():"";return/android (\d+)/.test(Ne.toLowerCase())}())}writeValue(ge){this.setProperty("value",ge??"")}_handleInput(ge){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(ge)}_compositionStart(){this._composing=!0}_compositionEnd(ge){this._composing=!1,this._compositionMode&&this.onChange(ge)}static{this.\u0275fac=function(tt){return new(tt||Ne)(i.rXU(i.sFG),i.rXU(i.aKT),i.rXU(C,8))}}static{this.\u0275dir=i.FsC({type:Ne,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(tt,Pt){1&tt&&i.bIt("input",function(Ii){return Pt._handleInput(Ii.target.value)})("blur",function(){return Pt.onTouched()})("compositionstart",function(){return Pt._compositionStart()})("compositionend",function(Ii){return Pt._compositionEnd(Ii.target.value)})},features:[i.Jv_([F]),i.Vt3]})}}return Ne})();function k(Ne){return null==Ne||("string"==typeof Ne||Array.isArray(Ne))&&0===Ne.length}function O(Ne){return null!=Ne&&"number"==typeof Ne.length}const H=new i.nKC(""),x=new i.nKC(""),$=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class U{static min(je){return G(je)}static max(je){return function ie(Ne){return je=>{if(k(je.value)||k(Ne))return null;const ge=parseFloat(je.value);return!isNaN(ge)&&ge>Ne?{max:{max:Ne,actual:je.value}}:null}}(je)}static required(je){return le(je)}static requiredTrue(je){return function L(Ne){return!0===Ne.value?null:{required:!0}}(je)}static email(je){return function Q(Ne){return k(Ne.value)||$.test(Ne.value)?null:{email:!0}}(je)}static minLength(je){return te(je)}static maxLength(je){return I(je)}static pattern(je){return function oe(Ne){if(!Ne)return Y;let je,ge;return"string"==typeof Ne?(ge="","^"!==Ne.charAt(0)&&(ge+="^"),ge+=Ne,"$"!==Ne.charAt(Ne.length-1)&&(ge+="$"),je=new RegExp(ge)):(ge=Ne.toString(),je=Ne),tt=>{if(k(tt.value))return null;const Pt=tt.value;return je.test(Pt)?null:{pattern:{requiredPattern:ge,actualValue:Pt}}}}(je)}static nullValidator(je){return null}static compose(je){return we(je)}static composeAsync(je){return Le(je)}}function G(Ne){return je=>{if(k(je.value)||k(Ne))return null;const ge=parseFloat(je.value);return!isNaN(ge)&&ge<Ne?{min:{min:Ne,actual:je.value}}:null}}function le(Ne){return k(Ne.value)?{required:!0}:null}function te(Ne){return je=>k(je.value)||!O(je.value)?null:je.value.length<Ne?{minlength:{requiredLength:Ne,actualLength:je.value.length}}:null}function I(Ne){return je=>O(je.value)&&je.value.length>Ne?{maxlength:{requiredLength:Ne,actualLength:je.value.length}}:null}function Y(Ne){return null}function _e(Ne){return null!=Ne}function Oe(Ne){return(0,i.jNT)(Ne)?(0,_.H)(Ne):Ne}function Re(Ne){let je={};return Ne.forEach(ge=>{je=null!=ge?{...je,...ge}:je}),0===Object.keys(je).length?null:je}function xe(Ne,je){return je.map(ge=>ge(Ne))}function Te(Ne){return Ne.map(je=>function Je(Ne){return!Ne.validate}(je)?je:ge=>je.validate(ge))}function we(Ne){if(!Ne)return null;const je=Ne.filter(_e);return 0==je.length?null:function(ge){return Re(xe(ge,je))}}function he(Ne){return null!=Ne?we(Te(Ne)):null}function Le(Ne){if(!Ne)return null;const je=Ne.filter(_e);return 0==je.length?null:function(ge){const tt=xe(ge,je).map(Oe);return(0,g.p)(tt).pipe((0,S.T)(Re))}}function Ae(Ne){return null!=Ne?Le(Te(Ne)):null}function st(Ne,je){return null===Ne?[je]:Array.isArray(Ne)?[...Ne,je]:[Ne,je]}function Fe(Ne){return Ne._rawValidators}function ft(Ne){return Ne._rawAsyncValidators}function Ye(Ne){return Ne?Array.isArray(Ne)?Ne:[Ne]:[]}function zt(Ne,je){return Array.isArray(Ne)?Ne.includes(je):Ne===je}function Lt(Ne,je){const ge=Ye(je);return Ye(Ne).forEach(Pt=>{zt(ge,Pt)||ge.push(Pt)}),ge}function Et(Ne,je){return Ye(je).filter(ge=>!zt(Ne,ge))}class _t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(je){this._rawValidators=je||[],this._composedValidatorFn=he(this._rawValidators)}_setAsyncValidators(je){this._rawAsyncValidators=je||[],this._composedAsyncValidatorFn=Ae(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(je){this._onDestroyCallbacks.push(je)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(je=>je()),this._onDestroyCallbacks=[]}reset(je=void 0){this.control&&this.control.reset(je)}hasError(je,ge){return!!this.control&&this.control.hasError(je,ge)}getError(je,ge){return this.control?this.control.getError(je,ge):null}}class J extends _t{get formDirective(){return null}get path(){return null}}class X extends _t{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class q{constructor(je){this._cd=je}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let lt=(()=>{class Ne extends q{constructor(ge){super(ge)}static{this.\u0275fac=function(tt){return new(tt||Ne)(i.rXU(X,2))}}static{this.\u0275dir=i.FsC({type:Ne,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(tt,Pt){2&tt&&i.AVh("ng-untouched",Pt.isUntouched)("ng-touched",Pt.isTouched)("ng-pristine",Pt.isPristine)("ng-dirty",Pt.isDirty)("ng-valid",Pt.isValid)("ng-invalid",Pt.isInvalid)("ng-pending",Pt.isPending)},features:[i.Vt3]})}}return Ne})(),Ue=(()=>{class Ne extends q{constructor(ge){super(ge)}static{this.\u0275fac=function(tt){return new(tt||Ne)(i.rXU(J,10))}}static{this.\u0275dir=i.FsC({type:Ne,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(tt,Pt){2&tt&&i.AVh("ng-untouched",Pt.isUntouched)("ng-touched",Pt.isTouched)("ng-pristine",Pt.isPristine)("ng-dirty",Pt.isDirty)("ng-valid",Pt.isValid)("ng-invalid",Pt.isInvalid)("ng-pending",Pt.isPending)("ng-submitted",Pt.isSubmitted)},features:[i.Vt3]})}}return Ne})();const un="VALID",Mn="INVALID",kn="PENDING",Bn="DISABLED";function Tt(Ne){return(yt(Ne)?Ne.validators:Ne)||null}function Gt(Ne,je){return(yt(je)?je.asyncValidators:Ne)||null}function yt(Ne){return null!=Ne&&!Array.isArray(Ne)&&"object"==typeof Ne}function mt(Ne,je,ge){const tt=Ne.controls;if(!(je?Object.keys(tt):tt).length)throw new i.wOt(1e3,"");if(!tt[ge])throw new i.wOt(1001,"")}function xt(Ne,je,ge){Ne._forEachChild((tt,Pt)=>{if(void 0===ge[Pt])throw new i.wOt(1002,"")})}class tn{constructor(je,ge){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(je),this._assignAsyncValidators(ge)}get validator(){return this._composedValidatorFn}set validator(je){this._rawValidators=this._composedValidatorFn=je}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(je){this._rawAsyncValidators=this._composedAsyncValidatorFn=je}get parent(){return this._parent}get valid(){return this.status===un}get invalid(){return this.status===Mn}get pending(){return this.status==kn}get disabled(){return this.status===Bn}get enabled(){return this.status!==Bn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(je){this._assignValidators(je)}setAsyncValidators(je){this._assignAsyncValidators(je)}addValidators(je){this.setValidators(Lt(je,this._rawValidators))}addAsyncValidators(je){this.setAsyncValidators(Lt(je,this._rawAsyncValidators))}removeValidators(je){this.setValidators(Et(je,this._rawValidators))}removeAsyncValidators(je){this.setAsyncValidators(Et(je,this._rawAsyncValidators))}hasValidator(je){return zt(this._rawValidators,je)}hasAsyncValidator(je){return zt(this._rawAsyncValidators,je)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(je={}){this.touched=!0,this._parent&&!je.onlySelf&&this._parent.markAsTouched(je)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(je=>je.markAllAsTouched())}markAsUntouched(je={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(ge=>{ge.markAsUntouched({onlySelf:!0})}),this._parent&&!je.onlySelf&&this._parent._updateTouched(je)}markAsDirty(je={}){this.pristine=!1,this._parent&&!je.onlySelf&&this._parent.markAsDirty(je)}markAsPristine(je={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(ge=>{ge.markAsPristine({onlySelf:!0})}),this._parent&&!je.onlySelf&&this._parent._updatePristine(je)}markAsPending(je={}){this.status=kn,!1!==je.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!je.onlySelf&&this._parent.markAsPending(je)}disable(je={}){const ge=this._parentMarkedDirty(je.onlySelf);this.status=Bn,this.errors=null,this._forEachChild(tt=>{tt.disable({...je,onlySelf:!0})}),this._updateValue(),!1!==je.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...je,skipPristineCheck:ge}),this._onDisabledChange.forEach(tt=>tt(!0))}enable(je={}){const ge=this._parentMarkedDirty(je.onlySelf);this.status=un,this._forEachChild(tt=>{tt.enable({...je,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:je.emitEvent}),this._updateAncestors({...je,skipPristineCheck:ge}),this._onDisabledChange.forEach(tt=>tt(!1))}_updateAncestors(je){this._parent&&!je.onlySelf&&(this._parent.updateValueAndValidity(je),je.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(je){this._parent=je}getRawValue(){return this.value}updateValueAndValidity(je={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===un||this.status===kn)&&this._runAsyncValidator(je.emitEvent)),!1!==je.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!je.onlySelf&&this._parent.updateValueAndValidity(je)}_updateTreeValidity(je={emitEvent:!0}){this._forEachChild(ge=>ge._updateTreeValidity(je)),this.updateValueAndValidity({onlySelf:!0,emitEvent:je.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Bn:un}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(je){if(this.asyncValidator){this.status=kn,this._hasOwnPendingAsyncValidator=!0;const ge=Oe(this.asyncValidator(this));this._asyncValidationSubscription=ge.subscribe(tt=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(tt,{emitEvent:je})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(je,ge={}){this.errors=je,this._updateControlsErrors(!1!==ge.emitEvent)}get(je){let ge=je;return null==ge||(Array.isArray(ge)||(ge=ge.split(".")),0===ge.length)?null:ge.reduce((tt,Pt)=>tt&&tt._find(Pt),this)}getError(je,ge){const tt=ge?this.get(ge):this;return tt&&tt.errors?tt.errors[je]:null}hasError(je,ge){return!!this.getError(je,ge)}get root(){let je=this;for(;je._parent;)je=je._parent;return je}_updateControlsErrors(je){this.status=this._calculateStatus(),je&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(je)}_initObservables(){this.valueChanges=new i.bkB,this.statusChanges=new i.bkB}_calculateStatus(){return this._allControlsDisabled()?Bn:this.errors?Mn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(kn)?kn:this._anyControlsHaveStatus(Mn)?Mn:un}_anyControlsHaveStatus(je){return this._anyControls(ge=>ge.status===je)}_anyControlsDirty(){return this._anyControls(je=>je.dirty)}_anyControlsTouched(){return this._anyControls(je=>je.touched)}_updatePristine(je={}){this.pristine=!this._anyControlsDirty(),this._parent&&!je.onlySelf&&this._parent._updatePristine(je)}_updateTouched(je={}){this.touched=this._anyControlsTouched(),this._parent&&!je.onlySelf&&this._parent._updateTouched(je)}_registerOnCollectionChange(je){this._onCollectionChange=je}_setUpdateStrategy(je){yt(je)&&null!=je.updateOn&&(this._updateOn=je.updateOn)}_parentMarkedDirty(je){return!je&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(je){return null}_assignValidators(je){this._rawValidators=Array.isArray(je)?je.slice():je,this._composedValidatorFn=function Rn(Ne){return Array.isArray(Ne)?he(Ne):Ne||null}(this._rawValidators)}_assignAsyncValidators(je){this._rawAsyncValidators=Array.isArray(je)?je.slice():je,this._composedAsyncValidatorFn=function ct(Ne){return Array.isArray(Ne)?Ae(Ne):Ne||null}(this._rawAsyncValidators)}}class Sn extends tn{constructor(je,ge,tt){super(Tt(ge),Gt(tt,ge)),this.controls=je,this._initObservables(),this._setUpdateStrategy(ge),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(je,ge){return this.controls[je]?this.controls[je]:(this.controls[je]=ge,ge.setParent(this),ge._registerOnCollectionChange(this._onCollectionChange),ge)}addControl(je,ge,tt={}){this.registerControl(je,ge),this.updateValueAndValidity({emitEvent:tt.emitEvent}),this._onCollectionChange()}removeControl(je,ge={}){this.controls[je]&&this.controls[je]._registerOnCollectionChange(()=>{}),delete this.controls[je],this.updateValueAndValidity({emitEvent:ge.emitEvent}),this._onCollectionChange()}setControl(je,ge,tt={}){this.controls[je]&&this.controls[je]._registerOnCollectionChange(()=>{}),delete this.controls[je],ge&&this.registerControl(je,ge),this.updateValueAndValidity({emitEvent:tt.emitEvent}),this._onCollectionChange()}contains(je){return this.controls.hasOwnProperty(je)&&this.controls[je].enabled}setValue(je,ge={}){xt(this,0,je),Object.keys(je).forEach(tt=>{mt(this,!0,tt),this.controls[tt].setValue(je[tt],{onlySelf:!0,emitEvent:ge.emitEvent})}),this.updateValueAndValidity(ge)}patchValue(je,ge={}){null!=je&&(Object.keys(je).forEach(tt=>{const Pt=this.controls[tt];Pt&&Pt.patchValue(je[tt],{onlySelf:!0,emitEvent:ge.emitEvent})}),this.updateValueAndValidity(ge))}reset(je={},ge={}){this._forEachChild((tt,Pt)=>{tt.reset(je?je[Pt]:null,{onlySelf:!0,emitEvent:ge.emitEvent})}),this._updatePristine(ge),this._updateTouched(ge),this.updateValueAndValidity(ge)}getRawValue(){return this._reduceChildren({},(je,ge,tt)=>(je[tt]=ge.getRawValue(),je))}_syncPendingControls(){let je=this._reduceChildren(!1,(ge,tt)=>!!tt._syncPendingControls()||ge);return je&&this.updateValueAndValidity({onlySelf:!0}),je}_forEachChild(je){Object.keys(this.controls).forEach(ge=>{const tt=this.controls[ge];tt&&je(tt,ge)})}_setUpControls(){this._forEachChild(je=>{je.setParent(this),je._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(je){for(const[ge,tt]of Object.entries(this.controls))if(this.contains(ge)&&je(tt))return!0;return!1}_reduceValue(){return this._reduceChildren({},(ge,tt,Pt)=>((tt.enabled||this.disabled)&&(ge[Pt]=tt.value),ge))}_reduceChildren(je,ge){let tt=je;return this._forEachChild((Pt,Kn)=>{tt=ge(tt,Pt,Kn)}),tt}_allControlsDisabled(){for(const je of Object.keys(this.controls))if(this.controls[je].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(je){return this.controls.hasOwnProperty(je)?this.controls[je]:null}}class li extends Sn{}const dt=new i.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>kt}),kt="always";function jt(Ne,je){return[...je.path,Ne]}function Yt(Ne,je,ge=kt){An(Ne,je),je.valueAccessor.writeValue(Ne.value),(Ne.disabled||"always"===ge)&&je.valueAccessor.setDisabledState?.(Ne.disabled),function ci(Ne,je){je.valueAccessor.registerOnChange(ge=>{Ne._pendingValue=ge,Ne._pendingChange=!0,Ne._pendingDirty=!0,"change"===Ne.updateOn&&ni(Ne,je)})}(Ne,je),function Bi(Ne,je){const ge=(tt,Pt)=>{je.valueAccessor.writeValue(tt),Pt&&je.viewToModelUpdate(tt)};Ne.registerOnChange(ge),je._registerOnDestroy(()=>{Ne._unregisterOnChange(ge)})}(Ne,je),function gi(Ne,je){je.valueAccessor.registerOnTouched(()=>{Ne._pendingTouched=!0,"blur"===Ne.updateOn&&Ne._pendingChange&&ni(Ne,je),"submit"!==Ne.updateOn&&Ne.markAsTouched()})}(Ne,je),function zn(Ne,je){if(je.valueAccessor.setDisabledState){const ge=tt=>{je.valueAccessor.setDisabledState(tt)};Ne.registerOnDisabledChange(ge),je._registerOnDestroy(()=>{Ne._unregisterOnDisabledChange(ge)})}}(Ne,je)}function vn(Ne,je,ge=!0){const tt=()=>{};je.valueAccessor&&(je.valueAccessor.registerOnChange(tt),je.valueAccessor.registerOnTouched(tt)),fn(Ne,je),Ne&&(je._invokeOnDestroyCallbacks(),Ne._registerOnCollectionChange(()=>{}))}function mn(Ne,je){Ne.forEach(ge=>{ge.registerOnValidatorChange&&ge.registerOnValidatorChange(je)})}function An(Ne,je){const ge=Fe(Ne);null!==je.validator?Ne.setValidators(st(ge,je.validator)):"function"==typeof ge&&Ne.setValidators([ge]);const tt=ft(Ne);null!==je.asyncValidator?Ne.setAsyncValidators(st(tt,je.asyncValidator)):"function"==typeof tt&&Ne.setAsyncValidators([tt]);const Pt=()=>Ne.updateValueAndValidity();mn(je._rawValidators,Pt),mn(je._rawAsyncValidators,Pt)}function fn(Ne,je){let ge=!1;if(null!==Ne){if(null!==je.validator){const Pt=Fe(Ne);if(Array.isArray(Pt)&&Pt.length>0){const Kn=Pt.filter(Ii=>Ii!==je.validator);Kn.length!==Pt.length&&(ge=!0,Ne.setValidators(Kn))}}if(null!==je.asyncValidator){const Pt=ft(Ne);if(Array.isArray(Pt)&&Pt.length>0){const Kn=Pt.filter(Ii=>Ii!==je.asyncValidator);Kn.length!==Pt.length&&(ge=!0,Ne.setAsyncValidators(Kn))}}}const tt=()=>{};return mn(je._rawValidators,tt),mn(je._rawAsyncValidators,tt),ge}function ni(Ne,je){Ne._pendingDirty&&Ne.markAsDirty(),Ne.setValue(Ne._pendingValue,{emitModelToViewChange:!1}),je.viewToModelUpdate(Ne._pendingValue),Ne._pendingChange=!1}function Xn(Ne,je){An(Ne,je)}function It(Ne,je){if(!Ne.hasOwnProperty("model"))return!1;const ge=Ne.model;return!!ge.isFirstChange()||!Object.is(je,ge.currentValue)}function nn(Ne,je){Ne._syncPendingControls(),je.forEach(ge=>{const tt=ge.control;"submit"===tt.updateOn&&tt._pendingChange&&(ge.viewToModelUpdate(tt._pendingValue),tt._pendingChange=!1)})}function Qt(Ne,je){if(!je)return null;let ge,tt,Pt;return Array.isArray(je),je.forEach(Kn=>{Kn.constructor===R?ge=Kn:function Ct(Ne){return Object.getPrototypeOf(Ne.constructor)===f}(Kn)?tt=Kn:Pt=Kn}),Pt||tt||ge||null}const $e={provide:J,useExisting:(0,i.Rfq)(()=>K)},Qe=Promise.resolve();let K=(()=>{class Ne extends J{constructor(ge,tt,Pt){super(),this.callSetDisabledState=Pt,this.submitted=!1,this._directives=new Set,this.ngSubmit=new i.bkB,this.form=new Sn({},he(ge),Ae(tt))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(ge){Qe.then(()=>{const tt=this._findContainer(ge.path);ge.control=tt.registerControl(ge.name,ge.control),Yt(ge.control,ge,this.callSetDisabledState),ge.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(ge)})}getControl(ge){return this.form.get(ge.path)}removeControl(ge){Qe.then(()=>{const tt=this._findContainer(ge.path);tt&&tt.removeControl(ge.name),this._directives.delete(ge)})}addFormGroup(ge){Qe.then(()=>{const tt=this._findContainer(ge.path),Pt=new Sn({});Xn(Pt,ge),tt.registerControl(ge.name,Pt),Pt.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(ge){Qe.then(()=>{const tt=this._findContainer(ge.path);tt&&tt.removeControl(ge.name)})}getFormGroup(ge){return this.form.get(ge.path)}updateModel(ge,tt){Qe.then(()=>{this.form.get(ge.path).setValue(tt)})}setValue(ge){this.control.setValue(ge)}onSubmit(ge){return this.submitted=!0,nn(this.form,this._directives),this.ngSubmit.emit(ge),"dialog"===ge?.target?.method}onReset(){this.resetForm()}resetForm(ge=void 0){this.form.reset(ge),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(ge){return ge.pop(),ge.length?this.form.get(ge):this.form}static{this.\u0275fac=function(tt){return new(tt||Ne)(i.rXU(H,10),i.rXU(x,10),i.rXU(dt,8))}}static{this.\u0275dir=i.FsC({type:Ne,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(tt,Pt){1&tt&&i.bIt("submit",function(Ii){return Pt.onSubmit(Ii)})("reset",function(){return Pt.onReset()})},inputs:{options:[i.Mj6.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i.Jv_([$e]),i.Vt3]})}}return Ne})();function de(Ne,je){const ge=Ne.indexOf(je);ge>-1&&Ne.splice(ge,1)}function ue(Ne){return"object"==typeof Ne&&null!==Ne&&2===Object.keys(Ne).length&&"value"in Ne&&"disabled"in Ne}const ze=class extends tn{constructor(je=null,ge,tt){super(Tt(ge),Gt(tt,ge)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(je),this._setUpdateStrategy(ge),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),yt(ge)&&(ge.nonNullable||ge.initialValueIsDefault)&&(this.defaultValue=ue(je)?je.value:je)}setValue(je,ge={}){this.value=this._pendingValue=je,this._onChange.length&&!1!==ge.emitModelToViewChange&&this._onChange.forEach(tt=>tt(this.value,!1!==ge.emitViewToModelChange)),this.updateValueAndValidity(ge)}patchValue(je,ge={}){this.setValue(je,ge)}reset(je=this.defaultValue,ge={}){this._applyFormState(je),this.markAsPristine(ge),this.markAsUntouched(ge),this.setValue(this.value,ge),this._pendingChange=!1}_updateValue(){}_anyControls(je){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(je){this._onChange.push(je)}_unregisterOnChange(je){de(this._onChange,je)}registerOnDisabledChange(je){this._onDisabledChange.push(je)}_unregisterOnDisabledChange(je){de(this._onDisabledChange,je)}_forEachChild(je){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(je){ue(je)?(this.value=this._pendingValue=je.value,je.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=je}},Wt=ze;let gn=(()=>{class Ne extends J{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return jt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static{this.\u0275fac=(()=>{let ge;return function(Pt){return(ge||(ge=i.xGo(Ne)))(Pt||Ne)}})()}static{this.\u0275dir=i.FsC({type:Ne,features:[i.Vt3]})}}return Ne})();const Dr={provide:X,useExisting:(0,i.Rfq)(()=>ri)},Gn=Promise.resolve();let ri=(()=>{class Ne extends X{constructor(ge,tt,Pt,Kn,Ii,os){super(),this._changeDetectorRef=Ii,this.callSetDisabledState=os,this.control=new ze,this._registered=!1,this.name="",this.update=new i.bkB,this._parent=ge,this._setValidators(tt),this._setAsyncValidators(Pt),this.valueAccessor=Qt(0,Kn)}ngOnChanges(ge){if(this._checkForErrors(),!this._registered||"name"in ge){if(this._registered&&(this._checkName(),this.formDirective)){const tt=ge.name.previousValue;this.formDirective.removeControl({name:tt,path:this._getPath(tt)})}this._setUpControl()}"isDisabled"in ge&&this._updateDisabled(ge),It(ge,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(ge){this.viewModel=ge,this.update.emit(ge)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Yt(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(ge){Gn.then(()=>{this.control.setValue(ge,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(ge){const tt=ge.isDisabled.currentValue,Pt=0!==tt&&(0,i.L39)(tt);Gn.then(()=>{Pt&&!this.control.disabled?this.control.disable():!Pt&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(ge){return this._parent?jt(ge,this._parent):[ge]}static{this.\u0275fac=function(tt){return new(tt||Ne)(i.rXU(J,9),i.rXU(H,10),i.rXU(x,10),i.rXU(d,10),i.rXU(i.gRc,8),i.rXU(dt,8))}}static{this.\u0275dir=i.FsC({type:Ne,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[i.Mj6.None,"disabled","isDisabled"],model:[i.Mj6.None,"ngModel","model"],options:[i.Mj6.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[i.Jv_([Dr]),i.Vt3,i.OA$]})}}return Ne})(),ar=(()=>{class Ne{static{this.\u0275fac=function(tt){return new(tt||Ne)}}static{this.\u0275dir=i.FsC({type:Ne,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return Ne})();const xi={provide:d,useExisting:(0,i.Rfq)(()=>Mr),multi:!0};let Mr=(()=>{class Ne extends f{writeValue(ge){this.setProperty("value",ge??"")}registerOnChange(ge){this.onChange=tt=>{ge(""==tt?null:parseFloat(tt))}}static{this.\u0275fac=(()=>{let ge;return function(Pt){return(ge||(ge=i.xGo(Ne)))(Pt||Ne)}})()}static{this.\u0275dir=i.FsC({type:Ne,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(tt,Pt){1&tt&&i.bIt("input",function(Ii){return Pt.onChange(Ii.target.value)})("blur",function(){return Pt.onTouched()})},features:[i.Jv_([xi]),i.Vt3]})}}return Ne})();const Ks={provide:d,useExisting:(0,i.Rfq)(()=>yi),multi:!0};let Ns=(()=>{class Ne{constructor(){this._accessors=[]}add(ge,tt){this._accessors.push([ge,tt])}remove(ge){for(let tt=this._accessors.length-1;tt>=0;--tt)if(this._accessors[tt][1]===ge)return void this._accessors.splice(tt,1)}select(ge){this._accessors.forEach(tt=>{this._isSameGroup(tt,ge)&&tt[1]!==ge&&tt[1].fireUncheck(ge.value)})}_isSameGroup(ge,tt){return!!ge[0].control&&ge[0]._parent===tt._control._parent&&ge[1].name===tt.name}static{this.\u0275fac=function(tt){return new(tt||Ne)}}static{this.\u0275prov=i.jDH({token:Ne,factory:Ne.\u0275fac,providedIn:"root"})}}return Ne})(),yi=(()=>{class Ne extends f{constructor(ge,tt,Pt,Kn){super(ge,tt),this._registry=Pt,this._injector=Kn,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,i.WQX)(dt,{optional:!0})??kt}ngOnInit(){this._control=this._injector.get(X),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(ge){this._state=ge===this.value,this.setProperty("checked",this._state)}registerOnChange(ge){this._fn=ge,this.onChange=()=>{ge(this.value),this._registry.select(this)}}setDisabledState(ge){(this.setDisabledStateFired||ge||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",ge),this.setDisabledStateFired=!0}fireUncheck(ge){this.writeValue(ge)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(tt){return new(tt||Ne)(i.rXU(i.sFG),i.rXU(i.aKT),i.rXU(Ns),i.rXU(i.zZn))}}static{this.\u0275dir=i.FsC({type:Ne,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(tt,Pt){1&tt&&i.bIt("change",function(){return Pt.onChange()})("blur",function(){return Pt.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[i.Jv_([Ks]),i.Vt3]})}}return Ne})();const Cr=new i.nKC(""),Os={provide:X,useExisting:(0,i.Rfq)(()=>gr)};let gr=(()=>{class Ne extends X{set isDisabled(ge){}static{this._ngModelWarningSentOnce=!1}constructor(ge,tt,Pt,Kn,Ii){super(),this._ngModelWarningConfig=Kn,this.callSetDisabledState=Ii,this.update=new i.bkB,this._ngModelWarningSent=!1,this._setValidators(ge),this._setAsyncValidators(tt),this.valueAccessor=Qt(0,Pt)}ngOnChanges(ge){if(this._isControlChanged(ge)){const tt=ge.form.previousValue;tt&&vn(tt,this,!1),Yt(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}It(ge,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&vn(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(ge){this.viewModel=ge,this.update.emit(ge)}_isControlChanged(ge){return ge.hasOwnProperty("form")}static{this.\u0275fac=function(tt){return new(tt||Ne)(i.rXU(H,10),i.rXU(x,10),i.rXU(d,10),i.rXU(Cr,8),i.rXU(dt,8))}}static{this.\u0275dir=i.FsC({type:Ne,selectors:[["","formControl",""]],inputs:{form:[i.Mj6.None,"formControl","form"],isDisabled:[i.Mj6.None,"disabled","isDisabled"],model:[i.Mj6.None,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[i.Jv_([Os]),i.Vt3,i.OA$]})}}return Ne})();const vr={provide:J,useExisting:(0,i.Rfq)(()=>Ni)};let Ni=(()=>{class Ne extends J{constructor(ge,tt,Pt){super(),this.callSetDisabledState=Pt,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new i.bkB,this._setValidators(ge),this._setAsyncValidators(tt)}ngOnChanges(ge){this._checkFormPresent(),ge.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(fn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(ge){const tt=this.form.get(ge.path);return Yt(tt,ge,this.callSetDisabledState),tt.updateValueAndValidity({emitEvent:!1}),this.directives.push(ge),tt}getControl(ge){return this.form.get(ge.path)}removeControl(ge){vn(ge.control||null,ge,!1),function Tn(Ne,je){const ge=Ne.indexOf(je);ge>-1&&Ne.splice(ge,1)}(this.directives,ge)}addFormGroup(ge){this._setUpFormContainer(ge)}removeFormGroup(ge){this._cleanUpFormContainer(ge)}getFormGroup(ge){return this.form.get(ge.path)}addFormArray(ge){this._setUpFormContainer(ge)}removeFormArray(ge){this._cleanUpFormContainer(ge)}getFormArray(ge){return this.form.get(ge.path)}updateModel(ge,tt){this.form.get(ge.path).setValue(tt)}onSubmit(ge){return this.submitted=!0,nn(this.form,this.directives),this.ngSubmit.emit(ge),"dialog"===ge?.target?.method}onReset(){this.resetForm()}resetForm(ge=void 0){this.form.reset(ge),this.submitted=!1}_updateDomValue(){this.directives.forEach(ge=>{const tt=ge.control,Pt=this.form.get(ge.path);tt!==Pt&&(vn(tt||null,ge),(Ne=>Ne instanceof ze)(Pt)&&(Yt(Pt,ge,this.callSetDisabledState),ge.control=Pt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(ge){const tt=this.form.get(ge.path);Xn(tt,ge),tt.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(ge){if(this.form){const tt=this.form.get(ge.path);tt&&function Ei(Ne,je){return fn(Ne,je)}(tt,ge)&&tt.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){An(this.form,this),this._oldForm&&fn(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(tt){return new(tt||Ne)(i.rXU(H,10),i.rXU(x,10),i.rXU(dt,8))}}static{this.\u0275dir=i.FsC({type:Ne,selectors:[["","formGroup",""]],hostBindings:function(tt,Pt){1&tt&&i.bIt("submit",function(Ii){return Pt.onSubmit(Ii)})("reset",function(){return Pt.onReset()})},inputs:{form:[i.Mj6.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i.Jv_([vr]),i.Vt3,i.OA$]})}}return Ne})();const zs={provide:J,useExisting:(0,i.Rfq)(()=>ai)};let ai=(()=>{class Ne extends gn{constructor(ge,tt,Pt){super(),this.name=null,this._parent=ge,this._setValidators(tt),this._setAsyncValidators(Pt)}_checkParentType(){Xr(this._parent)}static{this.\u0275fac=function(tt){return new(tt||Ne)(i.rXU(J,13),i.rXU(H,10),i.rXU(x,10))}}static{this.\u0275dir=i.FsC({type:Ne,selectors:[["","formGroupName",""]],inputs:{name:[i.Mj6.None,"formGroupName","name"]},features:[i.Jv_([zs]),i.Vt3]})}}return Ne})();const zo={provide:J,useExisting:(0,i.Rfq)(()=>jn)};let jn=(()=>{class Ne extends J{constructor(ge,tt,Pt){super(),this.name=null,this._parent=ge,this._setValidators(tt),this._setAsyncValidators(Pt)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return jt(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Xr(this._parent)}static{this.\u0275fac=function(tt){return new(tt||Ne)(i.rXU(J,13),i.rXU(H,10),i.rXU(x,10))}}static{this.\u0275dir=i.FsC({type:Ne,selectors:[["","formArrayName",""]],inputs:{name:[i.Mj6.None,"formArrayName","name"]},features:[i.Jv_([zo]),i.Vt3]})}}return Ne})();function Xr(Ne){return!(Ne instanceof ai||Ne instanceof Ni||Ne instanceof jn)}const fr={provide:X,useExisting:(0,i.Rfq)(()=>wr)};let wr=(()=>{class Ne extends X{set isDisabled(ge){}static{this._ngModelWarningSentOnce=!1}constructor(ge,tt,Pt,Kn,Ii){super(),this._ngModelWarningConfig=Ii,this._added=!1,this.name=null,this.update=new i.bkB,this._ngModelWarningSent=!1,this._parent=ge,this._setValidators(tt),this._setAsyncValidators(Pt),this.valueAccessor=Qt(0,Kn)}ngOnChanges(ge){this._added||this._setUpControl(),It(ge,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(ge){this.viewModel=ge,this.update.emit(ge)}get path(){return jt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(tt){return new(tt||Ne)(i.rXU(J,13),i.rXU(H,10),i.rXU(x,10),i.rXU(d,10),i.rXU(Cr,8))}}static{this.\u0275dir=i.FsC({type:Ne,selectors:[["","formControlName",""]],inputs:{name:[i.Mj6.None,"formControlName","name"],isDisabled:[i.Mj6.None,"disabled","isDisabled"],model:[i.Mj6.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[i.Jv_([fr]),i.Vt3,i.OA$]})}}return Ne})();const Sr={provide:d,useExisting:(0,i.Rfq)(()=>qi),multi:!0};function xr(Ne,je){return null==Ne?`${je}`:(je&&"object"==typeof je&&(je="Object"),`${Ne}: ${je}`.slice(0,50))}let qi=(()=>{class Ne extends f{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(ge){this._compareWith=ge}writeValue(ge){this.value=ge;const Pt=xr(this._getOptionId(ge),ge);this.setProperty("value",Pt)}registerOnChange(ge){this.onChange=tt=>{this.value=this._getOptionValue(tt),ge(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(ge){for(const tt of this._optionMap.keys())if(this._compareWith(this._optionMap.get(tt),ge))return tt;return null}_getOptionValue(ge){const tt=function Lr(Ne){return Ne.split(":")[0]}(ge);return this._optionMap.has(tt)?this._optionMap.get(tt):ge}static{this.\u0275fac=(()=>{let ge;return function(Pt){return(ge||(ge=i.xGo(Ne)))(Pt||Ne)}})()}static{this.\u0275dir=i.FsC({type:Ne,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(tt,Pt){1&tt&&i.bIt("change",function(Ii){return Pt.onChange(Ii.target.value)})("blur",function(){return Pt.onTouched()})},inputs:{compareWith:"compareWith"},features:[i.Jv_([Sr]),i.Vt3]})}}return Ne})(),er=(()=>{class Ne{constructor(ge,tt,Pt){this._element=ge,this._renderer=tt,this._select=Pt,this._select&&(this.id=this._select._registerOption())}set ngValue(ge){null!=this._select&&(this._select._optionMap.set(this.id,ge),this._setElementValue(xr(this.id,ge)),this._select.writeValue(this._select.value))}set value(ge){this._setElementValue(ge),this._select&&this._select.writeValue(this._select.value)}_setElementValue(ge){this._renderer.setProperty(this._element.nativeElement,"value",ge)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(tt){return new(tt||Ne)(i.rXU(i.aKT),i.rXU(i.sFG),i.rXU(qi,9))}}static{this.\u0275dir=i.FsC({type:Ne,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return Ne})();const Hn={provide:d,useExisting:(0,i.Rfq)(()=>ns),multi:!0};function Gr(Ne,je){return null==Ne?`${je}`:("string"==typeof je&&(je=`'${je}'`),je&&"object"==typeof je&&(je="Object"),`${Ne}: ${je}`.slice(0,50))}let ns=(()=>{class Ne extends f{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(ge){this._compareWith=ge}writeValue(ge){let tt;if(this.value=ge,Array.isArray(ge)){const Pt=ge.map(Kn=>this._getOptionId(Kn));tt=(Kn,Ii)=>{Kn._setSelected(Pt.indexOf(Ii.toString())>-1)}}else tt=(Pt,Kn)=>{Pt._setSelected(!1)};this._optionMap.forEach(tt)}registerOnChange(ge){this.onChange=tt=>{const Pt=[],Kn=tt.selectedOptions;if(void 0!==Kn){const Ii=Kn;for(let os=0;os<Ii.length;os++){const Jn=this._getOptionValue(Ii[os].value);Pt.push(Jn)}}else{const Ii=tt.options;for(let os=0;os<Ii.length;os++){const ys=Ii[os];if(ys.selected){const Jn=this._getOptionValue(ys.value);Pt.push(Jn)}}}this.value=Pt,ge(Pt)}}_registerOption(ge){const tt=(this._idCounter++).toString();return this._optionMap.set(tt,ge),tt}_getOptionId(ge){for(const tt of this._optionMap.keys())if(this._compareWith(this._optionMap.get(tt)._value,ge))return tt;return null}_getOptionValue(ge){const tt=function lr(Ne){return Ne.split(":")[0]}(ge);return this._optionMap.has(tt)?this._optionMap.get(tt)._value:ge}static{this.\u0275fac=(()=>{let ge;return function(Pt){return(ge||(ge=i.xGo(Ne)))(Pt||Ne)}})()}static{this.\u0275dir=i.FsC({type:Ne,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(tt,Pt){1&tt&&i.bIt("change",function(Ii){return Pt.onChange(Ii.target)})("blur",function(){return Pt.onTouched()})},inputs:{compareWith:"compareWith"},features:[i.Jv_([Hn]),i.Vt3]})}}return Ne})(),ro=(()=>{class Ne{constructor(ge,tt,Pt){this._element=ge,this._renderer=tt,this._select=Pt,this._select&&(this.id=this._select._registerOption(this))}set ngValue(ge){null!=this._select&&(this._value=ge,this._setElementValue(Gr(this.id,ge)),this._select.writeValue(this._select.value))}set value(ge){this._select?(this._value=ge,this._setElementValue(Gr(this.id,ge)),this._select.writeValue(this._select.value)):this._setElementValue(ge)}_setElementValue(ge){this._renderer.setProperty(this._element.nativeElement,"value",ge)}_setSelected(ge){this._renderer.setProperty(this._element.nativeElement,"selected",ge)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(tt){return new(tt||Ne)(i.rXU(i.aKT),i.rXU(i.sFG),i.rXU(ns,9))}}static{this.\u0275dir=i.FsC({type:Ne,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return Ne})();function Co(Ne){return"number"==typeof Ne?Ne:parseInt(Ne,10)}let yr=(()=>{class Ne{constructor(){this._validator=Y}ngOnChanges(ge){if(this.inputName in ge){const tt=this.normalizeInput(ge[this.inputName].currentValue);this._enabled=this.enabled(tt),this._validator=this._enabled?this.createValidator(tt):Y,this._onChange&&this._onChange()}}validate(ge){return this._validator(ge)}registerOnValidatorChange(ge){this._onChange=ge}enabled(ge){return null!=ge}static{this.\u0275fac=function(tt){return new(tt||Ne)}}static{this.\u0275dir=i.FsC({type:Ne,features:[i.OA$]})}}return Ne})();const Ea={provide:H,useExisting:(0,i.Rfq)(()=>Jr),multi:!0};let Jr=(()=>{class Ne extends yr{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=ge=>function Ss(Ne){return"number"==typeof Ne?Ne:parseFloat(Ne)}(ge),this.createValidator=ge=>G(ge)}static{this.\u0275fac=(()=>{let ge;return function(Pt){return(ge||(ge=i.xGo(Ne)))(Pt||Ne)}})()}static{this.\u0275dir=i.FsC({type:Ne,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(tt,Pt){2&tt&&i.BMQ("min",Pt._enabled?Pt.min:null)},inputs:{min:"min"},features:[i.Jv_([Ea]),i.Vt3]})}}return Ne})();const mo={provide:H,useExisting:(0,i.Rfq)(()=>Qr),multi:!0};let Qr=(()=>{class Ne extends yr{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=i.L39,this.createValidator=ge=>le}enabled(ge){return ge}static{this.\u0275fac=(()=>{let ge;return function(Pt){return(ge||(ge=i.xGo(Ne)))(Pt||Ne)}})()}static{this.\u0275dir=i.FsC({type:Ne,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(tt,Pt){2&tt&&i.BMQ("required",Pt._enabled?"":null)},inputs:{required:"required"},features:[i.Jv_([mo]),i.Vt3]})}}return Ne})();const oo={provide:H,useExisting:(0,i.Rfq)(()=>Ao),multi:!0};let Ao=(()=>{class Ne extends yr{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=ge=>Co(ge),this.createValidator=ge=>te(ge)}static{this.\u0275fac=(()=>{let ge;return function(Pt){return(ge||(ge=i.xGo(Ne)))(Pt||Ne)}})()}static{this.\u0275dir=i.FsC({type:Ne,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(tt,Pt){2&tt&&i.BMQ("minlength",Pt._enabled?Pt.minlength:null)},inputs:{minlength:"minlength"},features:[i.Jv_([oo]),i.Vt3]})}}return Ne})();const Es={provide:H,useExisting:(0,i.Rfq)(()=>Nr),multi:!0};let Nr=(()=>{class Ne extends yr{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=ge=>Co(ge),this.createValidator=ge=>I(ge)}static{this.\u0275fac=(()=>{let ge;return function(Pt){return(ge||(ge=i.xGo(Ne)))(Pt||Ne)}})()}static{this.\u0275dir=i.FsC({type:Ne,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(tt,Pt){2&tt&&i.BMQ("maxlength",Pt._enabled?Pt.maxlength:null)},inputs:{maxlength:"maxlength"},features:[i.Jv_([Es]),i.Vt3]})}}return Ne})(),Ts=(()=>{class Ne{static{this.\u0275fac=function(tt){return new(tt||Ne)}}static{this.\u0275mod=i.$C({type:Ne})}static{this.\u0275inj=i.G2t({})}}return Ne})();class si extends tn{constructor(je,ge,tt){super(Tt(ge),Gt(tt,ge)),this.controls=je,this._initObservables(),this._setUpdateStrategy(ge),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(je){return this.controls[this._adjustIndex(je)]}push(je,ge={}){this.controls.push(je),this._registerControl(je),this.updateValueAndValidity({emitEvent:ge.emitEvent}),this._onCollectionChange()}insert(je,ge,tt={}){this.controls.splice(je,0,ge),this._registerControl(ge),this.updateValueAndValidity({emitEvent:tt.emitEvent})}removeAt(je,ge={}){let tt=this._adjustIndex(je);tt<0&&(tt=0),this.controls[tt]&&this.controls[tt]._registerOnCollectionChange(()=>{}),this.controls.splice(tt,1),this.updateValueAndValidity({emitEvent:ge.emitEvent})}setControl(je,ge,tt={}){let Pt=this._adjustIndex(je);Pt<0&&(Pt=0),this.controls[Pt]&&this.controls[Pt]._registerOnCollectionChange(()=>{}),this.controls.splice(Pt,1),ge&&(this.controls.splice(Pt,0,ge),this._registerControl(ge)),this.updateValueAndValidity({emitEvent:tt.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(je,ge={}){xt(this,0,je),je.forEach((tt,Pt)=>{mt(this,!1,Pt),this.at(Pt).setValue(tt,{onlySelf:!0,emitEvent:ge.emitEvent})}),this.updateValueAndValidity(ge)}patchValue(je,ge={}){null!=je&&(je.forEach((tt,Pt)=>{this.at(Pt)&&this.at(Pt).patchValue(tt,{onlySelf:!0,emitEvent:ge.emitEvent})}),this.updateValueAndValidity(ge))}reset(je=[],ge={}){this._forEachChild((tt,Pt)=>{tt.reset(je[Pt],{onlySelf:!0,emitEvent:ge.emitEvent})}),this._updatePristine(ge),this._updateTouched(ge),this.updateValueAndValidity(ge)}getRawValue(){return this.controls.map(je=>je.getRawValue())}clear(je={}){this.controls.length<1||(this._forEachChild(ge=>ge._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:je.emitEvent}))}_adjustIndex(je){return je<0?je+this.length:je}_syncPendingControls(){let je=this.controls.reduce((ge,tt)=>!!tt._syncPendingControls()||ge,!1);return je&&this.updateValueAndValidity({onlySelf:!0}),je}_forEachChild(je){this.controls.forEach((ge,tt)=>{je(ge,tt)})}_updateValue(){this.value=this.controls.filter(je=>je.enabled||this.disabled).map(je=>je.value)}_anyControls(je){return this.controls.some(ge=>ge.enabled&&je(ge))}_setUpControls(){this._forEachChild(je=>this._registerControl(je))}_allControlsDisabled(){for(const je of this.controls)if(je.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(je){je.setParent(this),je._registerOnCollectionChange(this._onCollectionChange)}_find(je){return this.at(je)??null}}function pr(Ne){return!!Ne&&(void 0!==Ne.asyncValidators||void 0!==Ne.validators||void 0!==Ne.updateOn)}let js=(()=>{class Ne{constructor(){this.useNonNullable=!1}get nonNullable(){const ge=new Ne;return ge.useNonNullable=!0,ge}group(ge,tt=null){const Pt=this._reduceControls(ge);let Kn={};return pr(tt)?Kn=tt:null!==tt&&(Kn.validators=tt.validator,Kn.asyncValidators=tt.asyncValidator),new Sn(Pt,Kn)}record(ge,tt=null){const Pt=this._reduceControls(ge);return new li(Pt,tt)}control(ge,tt,Pt){let Kn={};return this.useNonNullable?(pr(tt)?Kn=tt:(Kn.validators=tt,Kn.asyncValidators=Pt),new ze(ge,{...Kn,nonNullable:!0})):new ze(ge,tt,Pt)}array(ge,tt,Pt){const Kn=ge.map(Ii=>this._createControl(Ii));return new si(Kn,tt,Pt)}_reduceControls(ge){const tt={};return Object.keys(ge).forEach(Pt=>{tt[Pt]=this._createControl(ge[Pt])}),tt}_createControl(ge){return ge instanceof ze||ge instanceof tn?ge:Array.isArray(ge)?this.control(ge[0],ge.length>1?ge[1]:null,ge.length>2?ge[2]:null):this.control(ge)}static{this.\u0275fac=function(tt){return new(tt||Ne)}}static{this.\u0275prov=i.jDH({token:Ne,factory:Ne.\u0275fac,providedIn:"root"})}}return Ne})(),Ur=(()=>{class Ne extends js{group(ge,tt=null){return super.group(ge,tt)}control(ge,tt,Pt){return super.control(ge,tt,Pt)}array(ge,tt,Pt){return super.array(ge,tt,Pt)}static{this.\u0275fac=(()=>{let ge;return function(Pt){return(ge||(ge=i.xGo(Ne)))(Pt||Ne)}})()}static{this.\u0275prov=i.jDH({token:Ne,factory:Ne.\u0275fac,providedIn:"root"})}}return Ne})(),pn=(()=>{class Ne{static withConfig(ge){return{ngModule:Ne,providers:[{provide:dt,useValue:ge.callSetDisabledState??kt}]}}static{this.\u0275fac=function(tt){return new(tt||Ne)}}static{this.\u0275mod=i.$C({type:Ne})}static{this.\u0275inj=i.G2t({imports:[Ts]})}}return Ne})(),vs=(()=>{class Ne{static withConfig(ge){return{ngModule:Ne,providers:[{provide:Cr,useValue:ge.warnOnNgModelWithFormControl??"always"},{provide:dt,useValue:ge.callSetDisabledState??kt}]}}static{this.\u0275fac=function(tt){return new(tt||Ne)}}static{this.\u0275mod=i.$C({type:Ne})}static{this.\u0275inj=i.G2t({imports:[Ts]})}}return Ne})()},345:(et,me,u)=>{"use strict";u.d(me,{B7:()=>Q,Bb:()=>q,hE:()=>lt,sG:()=>Et,up:()=>qe});var i=u(4438),e=u(177);class _ extends e.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class g extends _{static makeCurrent(){(0,e.ZD)(new g)}onAndCancel(yt,mt,xt){return yt.addEventListener(mt,xt),()=>{yt.removeEventListener(mt,xt)}}dispatchEvent(yt,mt){yt.dispatchEvent(mt)}remove(yt){yt.parentNode&&yt.parentNode.removeChild(yt)}createElement(yt,mt){return(mt=mt||this.getDefaultDocument()).createElement(yt)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(yt){return yt.nodeType===Node.ELEMENT_NODE}isShadowRoot(yt){return yt instanceof DocumentFragment}getGlobalEventTarget(yt,mt){return"window"===mt?window:"document"===mt?yt:"body"===mt?yt.body:null}getBaseHref(yt){const mt=function v(){return S=S||document.querySelector("base"),S?S.getAttribute("href"):null}();return null==mt?null:function f(ct){return new URL(ct,document.baseURI).pathname}(mt)}resetBaseElement(){S=null}getUserAgent(){return window.navigator.userAgent}getCookie(yt){return(0,e._b)(document.cookie,yt)}}let S=null,E=(()=>{class ct{build(){return new XMLHttpRequest}static{this.\u0275fac=function(xt){return new(xt||ct)}}static{this.\u0275prov=i.jDH({token:ct,factory:ct.\u0275fac})}}return ct})();const m=new i.nKC("");let F=(()=>{class ct{constructor(mt,xt){this._zone=xt,this._eventNameToPlugin=new Map,mt.forEach(tn=>{tn.manager=this}),this._plugins=mt.slice().reverse()}addEventListener(mt,xt,tn){return this._findPluginFor(xt).addEventListener(mt,xt,tn)}getZone(){return this._zone}_findPluginFor(mt){let xt=this._eventNameToPlugin.get(mt);if(xt)return xt;if(xt=this._plugins.find(Sn=>Sn.supports(mt)),!xt)throw new i.wOt(5101,!1);return this._eventNameToPlugin.set(mt,xt),xt}static{this.\u0275fac=function(xt){return new(xt||ct)(i.KVO(m),i.KVO(i.SKi))}}static{this.\u0275prov=i.jDH({token:ct,factory:ct.\u0275fac})}}return ct})();class w{constructor(yt){this._doc=yt}}const C="ng-app-id";let R=(()=>{class ct{constructor(mt,xt,tn,Sn={}){this.doc=mt,this.appId=xt,this.nonce=tn,this.platformId=Sn,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,e.Vy)(Sn),this.resetHostNodes()}addStyles(mt){for(const xt of mt)1===this.changeUsageCount(xt,1)&&this.onStyleAdded(xt)}removeStyles(mt){for(const xt of mt)this.changeUsageCount(xt,-1)<=0&&this.onStyleRemoved(xt)}ngOnDestroy(){const mt=this.styleNodesInDOM;mt&&(mt.forEach(xt=>xt.remove()),mt.clear());for(const xt of this.getAllStyles())this.onStyleRemoved(xt);this.resetHostNodes()}addHost(mt){this.hostNodes.add(mt);for(const xt of this.getAllStyles())this.addStyleToHost(mt,xt)}removeHost(mt){this.hostNodes.delete(mt)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(mt){for(const xt of this.hostNodes)this.addStyleToHost(xt,mt)}onStyleRemoved(mt){const xt=this.styleRef;xt.get(mt)?.elements?.forEach(tn=>tn.remove()),xt.delete(mt)}collectServerRenderedStyles(){const mt=this.doc.head?.querySelectorAll(`style[${C}="${this.appId}"]`);if(mt?.length){const xt=new Map;return mt.forEach(tn=>{null!=tn.textContent&&xt.set(tn.textContent,tn)}),xt}return null}changeUsageCount(mt,xt){const tn=this.styleRef;if(tn.has(mt)){const Sn=tn.get(mt);return Sn.usage+=xt,Sn.usage}return tn.set(mt,{usage:xt,elements:[]}),xt}getStyleElement(mt,xt){const tn=this.styleNodesInDOM,Sn=tn?.get(xt);if(Sn?.parentNode===mt)return tn.delete(xt),Sn.removeAttribute(C),Sn;{const Un=this.doc.createElement("style");return this.nonce&&Un.setAttribute("nonce",this.nonce),Un.textContent=xt,this.platformIsServer&&Un.setAttribute(C,this.appId),mt.appendChild(Un),Un}}addStyleToHost(mt,xt){const tn=this.getStyleElement(mt,xt),Sn=this.styleRef,Un=Sn.get(xt)?.elements;Un?Un.push(tn):Sn.set(xt,{elements:[tn],usage:1})}resetHostNodes(){const mt=this.hostNodes;mt.clear(),mt.add(this.doc.head)}static{this.\u0275fac=function(xt){return new(xt||ct)(i.KVO(e.qQ),i.KVO(i.sZ2),i.KVO(i.BIS,8),i.KVO(i.Agw))}}static{this.\u0275prov=i.jDH({token:ct,factory:ct.\u0275fac})}}return ct})();const k={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},O=/%COMP%/g,H="%COMP%",x=`_nghost-${H}`,$=`_ngcontent-${H}`,G=new i.nKC("",{providedIn:"root",factory:()=>!0});function L(ct,yt){return yt.map(mt=>mt.replace(O,ct))}let Q=(()=>{class ct{constructor(mt,xt,tn,Sn,Un,cn,di,li=null){this.eventManager=mt,this.sharedStylesHost=xt,this.appId=tn,this.removeStylesOnCompDestroy=Sn,this.doc=Un,this.platformId=cn,this.ngZone=di,this.nonce=li,this.rendererByCompId=new Map,this.platformIsServer=(0,e.Vy)(cn),this.defaultRenderer=new te(mt,Un,di,this.platformIsServer)}createRenderer(mt,xt){if(!mt||!xt)return this.defaultRenderer;this.platformIsServer&&xt.encapsulation===i.gXe.ShadowDom&&(xt={...xt,encapsulation:i.gXe.Emulated});const tn=this.getOrCreateRenderer(mt,xt);return tn instanceof Re?tn.applyToHost(mt):tn instanceof Oe&&tn.applyStyles(),tn}getOrCreateRenderer(mt,xt){const tn=this.rendererByCompId;let Sn=tn.get(xt.id);if(!Sn){const Un=this.doc,cn=this.ngZone,di=this.eventManager,li=this.sharedStylesHost,At=this.removeStylesOnCompDestroy,dt=this.platformIsServer;switch(xt.encapsulation){case i.gXe.Emulated:Sn=new Re(di,li,xt,this.appId,At,Un,cn,dt);break;case i.gXe.ShadowDom:return new _e(di,li,mt,xt,Un,cn,this.nonce,dt);default:Sn=new Oe(di,li,xt,At,Un,cn,dt)}tn.set(xt.id,Sn)}return Sn}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(xt){return new(xt||ct)(i.KVO(F),i.KVO(R),i.KVO(i.sZ2),i.KVO(G),i.KVO(e.qQ),i.KVO(i.Agw),i.KVO(i.SKi),i.KVO(i.BIS))}}static{this.\u0275prov=i.jDH({token:ct,factory:ct.\u0275fac})}}return ct})();class te{constructor(yt,mt,xt,tn){this.eventManager=yt,this.doc=mt,this.ngZone=xt,this.platformIsServer=tn,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(yt,mt){return mt?this.doc.createElementNS(k[mt]||mt,yt):this.doc.createElement(yt)}createComment(yt){return this.doc.createComment(yt)}createText(yt){return this.doc.createTextNode(yt)}appendChild(yt,mt){(Y(yt)?yt.content:yt).appendChild(mt)}insertBefore(yt,mt,xt){yt&&(Y(yt)?yt.content:yt).insertBefore(mt,xt)}removeChild(yt,mt){yt&&yt.removeChild(mt)}selectRootElement(yt,mt){let xt="string"==typeof yt?this.doc.querySelector(yt):yt;if(!xt)throw new i.wOt(-5104,!1);return mt||(xt.textContent=""),xt}parentNode(yt){return yt.parentNode}nextSibling(yt){return yt.nextSibling}setAttribute(yt,mt,xt,tn){if(tn){mt=tn+":"+mt;const Sn=k[tn];Sn?yt.setAttributeNS(Sn,mt,xt):yt.setAttribute(mt,xt)}else yt.setAttribute(mt,xt)}removeAttribute(yt,mt,xt){if(xt){const tn=k[xt];tn?yt.removeAttributeNS(tn,mt):yt.removeAttribute(`${xt}:${mt}`)}else yt.removeAttribute(mt)}addClass(yt,mt){yt.classList.add(mt)}removeClass(yt,mt){yt.classList.remove(mt)}setStyle(yt,mt,xt,tn){tn&(i.czy.DashCase|i.czy.Important)?yt.style.setProperty(mt,xt,tn&i.czy.Important?"important":""):yt.style[mt]=xt}removeStyle(yt,mt,xt){xt&i.czy.DashCase?yt.style.removeProperty(mt):yt.style[mt]=""}setProperty(yt,mt,xt){null!=yt&&(yt[mt]=xt)}setValue(yt,mt){yt.nodeValue=mt}listen(yt,mt,xt){if("string"==typeof yt&&!(yt=(0,e.QT)().getGlobalEventTarget(this.doc,yt)))throw new Error(`Unsupported event target ${yt} for event ${mt}`);return this.eventManager.addEventListener(yt,mt,this.decoratePreventDefault(xt))}decoratePreventDefault(yt){return mt=>{if("__ngUnwrap__"===mt)return yt;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>yt(mt)):yt(mt))&&mt.preventDefault()}}}function Y(ct){return"TEMPLATE"===ct.tagName&&void 0!==ct.content}class _e extends te{constructor(yt,mt,xt,tn,Sn,Un,cn,di){super(yt,Sn,Un,di),this.sharedStylesHost=mt,this.hostEl=xt,this.shadowRoot=xt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const li=L(tn.id,tn.styles);for(const At of li){const dt=document.createElement("style");cn&&dt.setAttribute("nonce",cn),dt.textContent=At,this.shadowRoot.appendChild(dt)}}nodeOrShadowRoot(yt){return yt===this.hostEl?this.shadowRoot:yt}appendChild(yt,mt){return super.appendChild(this.nodeOrShadowRoot(yt),mt)}insertBefore(yt,mt,xt){return super.insertBefore(this.nodeOrShadowRoot(yt),mt,xt)}removeChild(yt,mt){return super.removeChild(this.nodeOrShadowRoot(yt),mt)}parentNode(yt){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(yt)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Oe extends te{constructor(yt,mt,xt,tn,Sn,Un,cn,di){super(yt,Sn,Un,cn),this.sharedStylesHost=mt,this.removeStylesOnCompDestroy=tn,this.styles=di?L(di,xt.styles):xt.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Re extends Oe{constructor(yt,mt,xt,tn,Sn,Un,cn,di){const li=tn+"-"+xt.id;super(yt,mt,xt,Sn,Un,cn,di,li),this.contentAttr=function ie(ct){return $.replace(O,ct)}(li),this.hostAttr=function le(ct){return x.replace(O,ct)}(li)}applyToHost(yt){this.applyStyles(),this.setAttribute(yt,this.hostAttr,"")}createElement(yt,mt){const xt=super.createElement(yt,mt);return super.setAttribute(xt,this.contentAttr,""),xt}}let xe=(()=>{class ct extends w{constructor(mt){super(mt)}supports(mt){return!0}addEventListener(mt,xt,tn){return mt.addEventListener(xt,tn,!1),()=>this.removeEventListener(mt,xt,tn)}removeEventListener(mt,xt,tn){return mt.removeEventListener(xt,tn)}static{this.\u0275fac=function(xt){return new(xt||ct)(i.KVO(e.qQ))}}static{this.\u0275prov=i.jDH({token:ct,factory:ct.\u0275fac})}}return ct})();const Je=["alt","control","meta","shift"],Te={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},we={alt:ct=>ct.altKey,control:ct=>ct.ctrlKey,meta:ct=>ct.metaKey,shift:ct=>ct.shiftKey};let he=(()=>{class ct extends w{constructor(mt){super(mt)}supports(mt){return null!=ct.parseEventName(mt)}addEventListener(mt,xt,tn){const Sn=ct.parseEventName(xt),Un=ct.eventCallback(Sn.fullKey,tn,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,e.QT)().onAndCancel(mt,Sn.domEventName,Un))}static parseEventName(mt){const xt=mt.toLowerCase().split("."),tn=xt.shift();if(0===xt.length||"keydown"!==tn&&"keyup"!==tn)return null;const Sn=ct._normalizeKey(xt.pop());let Un="",cn=xt.indexOf("code");if(cn>-1&&(xt.splice(cn,1),Un="code."),Je.forEach(li=>{const At=xt.indexOf(li);At>-1&&(xt.splice(At,1),Un+=li+".")}),Un+=Sn,0!=xt.length||0===Sn.length)return null;const di={};return di.domEventName=tn,di.fullKey=Un,di}static matchEventFullKeyCode(mt,xt){let tn=Te[mt.key]||mt.key,Sn="";return xt.indexOf("code.")>-1&&(tn=mt.code,Sn="code."),!(null==tn||!tn)&&(tn=tn.toLowerCase()," "===tn?tn="space":"."===tn&&(tn="dot"),Je.forEach(Un=>{Un!==tn&&(0,we[Un])(mt)&&(Sn+=Un+".")}),Sn+=tn,Sn===xt)}static eventCallback(mt,xt,tn){return Sn=>{ct.matchEventFullKeyCode(Sn,mt)&&tn.runGuarded(()=>xt(Sn))}}static _normalizeKey(mt){return"esc"===mt?"escape":mt}static{this.\u0275fac=function(xt){return new(xt||ct)(i.KVO(e.qQ))}}static{this.\u0275prov=i.jDH({token:ct,factory:ct.\u0275fac})}}return ct})();const Et=(0,i.oH4)(i.fpN,"browser",[{provide:i.Agw,useValue:e.AJ},{provide:i.PLl,useValue:function ft(){g.makeCurrent()},multi:!0},{provide:e.qQ,useFactory:function zt(){return(0,i.TL$)(document),document},deps:[]}]),_t=new i.nKC(""),J=[{provide:i.e01,useClass:class d{addToWindow(yt){i.JZv.getAngularTestability=(xt,tn=!0)=>{const Sn=yt.findTestabilityInTree(xt,tn);if(null==Sn)throw new i.wOt(5103,!1);return Sn},i.JZv.getAllAngularTestabilities=()=>yt.getAllTestabilities(),i.JZv.getAllAngularRootElements=()=>yt.getAllRootElements(),i.JZv.frameworkStabilizers||(i.JZv.frameworkStabilizers=[]),i.JZv.frameworkStabilizers.push(xt=>{const tn=i.JZv.getAllAngularTestabilities();let Sn=tn.length;const Un=function(){Sn--,0==Sn&&xt()};tn.forEach(cn=>{cn.whenStable(Un)})})}findTestabilityInTree(yt,mt,xt){return null==mt?null:yt.getTestability(mt)??(xt?(0,e.QT)().isShadowRoot(mt)?this.findTestabilityInTree(yt,mt.host,!0):this.findTestabilityInTree(yt,mt.parentElement,!0):null)}},deps:[]},{provide:i.WHO,useClass:i.NYb,deps:[i.SKi,i.giA,i.e01]},{provide:i.NYb,useClass:i.NYb,deps:[i.SKi,i.giA,i.e01]}],X=[{provide:i.H8p,useValue:"root"},{provide:i.zcH,useFactory:function Ye(){return new i.zcH},deps:[]},{provide:m,useClass:xe,multi:!0,deps:[e.qQ,i.SKi,i.Agw]},{provide:m,useClass:he,multi:!0,deps:[e.qQ]},Q,R,F,{provide:i._9s,useExisting:Q},{provide:e.N0,useClass:E,deps:[]},[]];let q=(()=>{class ct{constructor(mt){}static withServerTransition(mt){return{ngModule:ct,providers:[{provide:i.sZ2,useValue:mt.appId}]}}static{this.\u0275fac=function(xt){return new(xt||ct)(i.KVO(_t,12))}}static{this.\u0275mod=i.$C({type:ct})}static{this.\u0275inj=i.G2t({providers:[...X,...J],imports:[e.MD,i.Hbi]})}}return ct})(),lt=(()=>{class ct{constructor(mt){this._doc=mt}getTitle(){return this._doc.title}setTitle(mt){this._doc.title=mt||""}static{this.\u0275fac=function(xt){return new(xt||ct)(i.KVO(e.qQ))}}static{this.\u0275prov=i.jDH({token:ct,factory:ct.\u0275fac,providedIn:"root"})}}return ct})(),qe=(()=>{class ct{static{this.\u0275fac=function(xt){return new(xt||ct)}}static{this.\u0275prov=i.jDH({token:ct,factory:function(xt){let tn=null;return tn=xt?new(xt||ct):i.KVO(ht),tn},providedIn:"root"})}}return ct})(),ht=(()=>{class ct extends qe{constructor(mt){super(),this._doc=mt}sanitize(mt,xt){if(null==xt)return null;switch(mt){case i.WPN.NONE:return xt;case i.WPN.HTML:return(0,i.ZF7)(xt,"HTML")?(0,i.rcV)(xt):(0,i.h9k)(this._doc,String(xt)).toString();case i.WPN.STYLE:return(0,i.ZF7)(xt,"Style")?(0,i.rcV)(xt):xt;case i.WPN.SCRIPT:if((0,i.ZF7)(xt,"Script"))return(0,i.rcV)(xt);throw new i.wOt(5200,!1);case i.WPN.URL:return(0,i.ZF7)(xt,"URL")?(0,i.rcV)(xt):(0,i.$MX)(String(xt));case i.WPN.RESOURCE_URL:if((0,i.ZF7)(xt,"ResourceURL"))return(0,i.rcV)(xt);throw new i.wOt(5201,!1);default:throw new i.wOt(5202,!1)}}bypassSecurityTrustHtml(mt){return(0,i.Kcf)(mt)}bypassSecurityTrustStyle(mt){return(0,i.cWb)(mt)}bypassSecurityTrustScript(mt){return(0,i.UyX)(mt)}bypassSecurityTrustUrl(mt){return(0,i.osQ)(mt)}bypassSecurityTrustResourceUrl(mt){return(0,i.e5t)(mt)}static{this.\u0275fac=function(xt){return new(xt||ct)(i.KVO(e.qQ))}}static{this.\u0275prov=i.jDH({token:ct,factory:ct.\u0275fac,providedIn:"root"})}}return ct})()},1583:(et,me,u)=>{"use strict";u.d(me,{nX:()=>jn,j5:()=>Kt,wF:()=>ue,Z:()=>de,bw:()=>So,b:()=>Dt,Ix:()=>cr,Wk:()=>pe,wQ:()=>ke,iI:()=>Ja,n3:()=>Hn});var i=u(4438),e=u(4402),_=u(6648),g=u(7673),S=u(4412),v=u(4572),f=u(9350),d=u(8793),E=u(9030),m=u(1203),F=u(8810),w=u(983),C=u(1985),R=u(8359),k=u(9974),O=u(4360);function H(){return(0,k.N)((A,V)=>{let B=null;A._refCount++;const Z=(0,O._)(V,void 0,void 0,void 0,()=>{if(!A||A._refCount<=0||0<--A._refCount)return void(B=null);const be=A._connection,Ge=B;B=null,be&&(!Ge||be===Ge)&&be.unsubscribe(),V.unsubscribe()});A.subscribe(Z),Z.closed||(B=A.connect())})}class x extends C.c{constructor(V,B){super(),this.source=V,this.subjectFactory=B,this._subject=null,this._refCount=0,this._connection=null,(0,k.S)(V)&&(this.lift=V.lift)}_subscribe(V){return this.getSubject().subscribe(V)}getSubject(){const V=this._subject;return(!V||V.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:V}=this;this._subject=this._connection=null,V?.unsubscribe()}connect(){let V=this._connection;if(!V){V=this._connection=new R.yU;const B=this.getSubject();V.add(this.source.subscribe((0,O._)(B,void 0,()=>{this._teardown(),B.complete()},Z=>{this._teardown(),B.error(Z)},()=>this._teardown()))),V.closed&&(this._connection=null,V=R.yU.EMPTY)}return V}refCount(){return H()(this)}}var $=u(1413),U=u(177),G=u(6354),ie=u(5558),le=u(6697),L=u(9172),Q=u(5964),te=u(1397),I=u(1594),oe=u(274),Y=u(8141),_e=u(9437),Oe=u(6649),xe=u(9901);function Je(A){return A<=0?()=>w.w:(0,k.N)((V,B)=>{let Z=[];V.subscribe((0,O._)(B,be=>{Z.push(be),A<Z.length&&Z.shift()},()=>{for(const be of Z)B.next(be);B.complete()},void 0,()=>{Z=null}))})}var Te=u(3774),we=u(3669),Le=u(3703),Ae=u(980),st=u(6977),Fe=u(6365),ft=u(345);const Ye="primary",zt=Symbol("RouteTitle");class Lt{constructor(V){this.params=V||{}}has(V){return Object.prototype.hasOwnProperty.call(this.params,V)}get(V){if(this.has(V)){const B=this.params[V];return Array.isArray(B)?B[0]:B}return null}getAll(V){if(this.has(V)){const B=this.params[V];return Array.isArray(B)?B:[B]}return[]}get keys(){return Object.keys(this.params)}}function Et(A){return new Lt(A)}function _t(A,V,B){const Z=B.path.split("/");if(Z.length>A.length||"full"===B.pathMatch&&(V.hasChildren()||Z.length<A.length))return null;const be={};for(let Ge=0;Ge<Z.length;Ge++){const vt=Z[Ge],sn=A[Ge];if(vt.startsWith(":"))be[vt.substring(1)]=sn;else if(vt!==sn.path)return null}return{consumed:A.slice(0,Z.length),posParams:be}}function X(A,V){const B=A?q(A):void 0,Z=V?q(V):void 0;if(!B||!Z||B.length!=Z.length)return!1;let be;for(let Ge=0;Ge<B.length;Ge++)if(be=B[Ge],!Se(A[be],V[be]))return!1;return!0}function q(A){return[...Object.keys(A),...Object.getOwnPropertySymbols(A)]}function Se(A,V){if(Array.isArray(A)&&Array.isArray(V)){if(A.length!==V.length)return!1;const B=[...A].sort(),Z=[...V].sort();return B.every((be,Ge)=>Z[Ge]===be)}return A===V}function Ee(A){return A.length>0?A[A.length-1]:null}function lt(A){return(0,e.A)(A)?A:(0,i.jNT)(A)?(0,_.H)(Promise.resolve(A)):(0,g.of)(A)}const Ue={exact:function it(A,V,B){if(!Be(A.segments,V.segments)||!Nt(A.segments,V.segments,B)||A.numberOfChildren!==V.numberOfChildren)return!1;for(const Z in V.children)if(!A.children[Z]||!it(A.children[Z],V.children[Z],B))return!1;return!0},subset:en},at={exact:function pt(A,V){return X(A,V)},subset:function Ht(A,V){return Object.keys(V).length<=Object.keys(A).length&&Object.keys(V).every(B=>Se(A[B],V[B]))},ignored:()=>!0};function Ot(A,V,B){return Ue[B.paths](A.root,V.root,B.matrixParams)&&at[B.queryParams](A.queryParams,V.queryParams)&&!("exact"===B.fragment&&A.fragment!==V.fragment)}function en(A,V,B){return rt(A,V,V.segments,B)}function rt(A,V,B,Z){if(A.segments.length>B.length){const be=A.segments.slice(0,B.length);return!(!Be(be,B)||V.hasChildren()||!Nt(be,B,Z))}if(A.segments.length===B.length){if(!Be(A.segments,B)||!Nt(A.segments,B,Z))return!1;for(const be in V.children)if(!A.children[be]||!en(A.children[be],V.children[be],Z))return!1;return!0}{const be=B.slice(0,A.segments.length),Ge=B.slice(A.segments.length);return!!(Be(A.segments,be)&&Nt(A.segments,be,Z)&&A.children[Ye])&&rt(A.children[Ye],V,Ge,Z)}}function Nt(A,V,B){return V.every((Z,be)=>at[B](A[be].parameters,Z.parameters))}class ve{constructor(V=new ae([],{}),B={},Z=null){this.root=V,this.queryParams=B,this.fragment=Z}get queryParamMap(){return this._queryParamMap??=Et(this.queryParams),this._queryParamMap}toString(){return on.serialize(this)}}class ae{constructor(V,B){this.segments=V,this.children=B,this.parent=null,Object.values(B).forEach(Z=>Z.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return un(this)}}class j{constructor(V,B){this.path=V,this.parameters=B}get parameterMap(){return this._parameterMap??=Et(this.parameters),this._parameterMap}toString(){return yt(this)}}function Be(A,V){return A.length===V.length&&A.every((B,Z)=>B.path===V[Z].path)}let ht=(()=>{class A{static{this.\u0275fac=function(Z){return new(Z||A)}}static{this.\u0275prov=i.jDH({token:A,factory:()=>new Ft,providedIn:"root"})}}return A})();class Ft{parse(V){const B=new kt(V);return new ve(B.parseRootSegment(),B.parseQueryParams(),B.parseFragment())}serialize(V){const B=`/${Mn(V.root,!0)}`,Z=function xt(A){const V=Object.entries(A).map(([B,Z])=>Array.isArray(Z)?Z.map(be=>`${Bn(B)}=${Bn(be)}`).join("&"):`${Bn(B)}=${Bn(Z)}`).filter(B=>B);return V.length?`?${V.join("&")}`:""}(V.queryParams);return`${B}${Z}${"string"==typeof V.fragment?`#${function Tt(A){return encodeURI(A)}(V.fragment)}`:""}`}}const on=new Ft;function un(A){return A.segments.map(V=>yt(V)).join("/")}function Mn(A,V){if(!A.hasChildren())return un(A);if(V){const B=A.children[Ye]?Mn(A.children[Ye],!1):"",Z=[];return Object.entries(A.children).forEach(([be,Ge])=>{be!==Ye&&Z.push(`${be}:${Mn(Ge,!1)}`)}),Z.length>0?`${B}(${Z.join("//")})`:B}{const B=function qe(A,V){let B=[];return Object.entries(A.children).forEach(([Z,be])=>{Z===Ye&&(B=B.concat(V(be,Z)))}),Object.entries(A.children).forEach(([Z,be])=>{Z!==Ye&&(B=B.concat(V(be,Z)))}),B}(A,(Z,be)=>be===Ye?[Mn(A.children[Ye],!1)]:[`${be}:${Mn(Z,!1)}`]);return 1===Object.keys(A.children).length&&null!=A.children[Ye]?`${un(A)}/${B[0]}`:`${un(A)}/(${B.join("//")})`}}function kn(A){return encodeURIComponent(A).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Bn(A){return kn(A).replace(/%3B/gi,";")}function Rn(A){return kn(A).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Gt(A){return decodeURIComponent(A)}function ct(A){return Gt(A.replace(/\+/g,"%20"))}function yt(A){return`${Rn(A.path)}${function mt(A){return Object.entries(A).map(([V,B])=>`;${Rn(V)}=${Rn(B)}`).join("")}(A.parameters)}`}const tn=/^[^\/()?;#]+/;function Sn(A){const V=A.match(tn);return V?V[0]:""}const Un=/^[^\/()?;=#]+/,di=/^[^=?&#]+/,At=/^[^&#]+/;class kt{constructor(V){this.url=V,this.remaining=V}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ae([],{}):new ae([],this.parseChildren())}parseQueryParams(){const V={};if(this.consumeOptional("?"))do{this.parseQueryParam(V)}while(this.consumeOptional("&"));return V}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const V=[];for(this.peekStartsWith("(")||V.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),V.push(this.parseSegment());let B={};this.peekStartsWith("/(")&&(this.capture("/"),B=this.parseParens(!0));let Z={};return this.peekStartsWith("(")&&(Z=this.parseParens(!1)),(V.length>0||Object.keys(B).length>0)&&(Z[Ye]=new ae(V,B)),Z}parseSegment(){const V=Sn(this.remaining);if(""===V&&this.peekStartsWith(";"))throw new i.wOt(4009,!1);return this.capture(V),new j(Gt(V),this.parseMatrixParams())}parseMatrixParams(){const V={};for(;this.consumeOptional(";");)this.parseParam(V);return V}parseParam(V){const B=function cn(A){const V=A.match(Un);return V?V[0]:""}(this.remaining);if(!B)return;this.capture(B);let Z="";if(this.consumeOptional("=")){const be=Sn(this.remaining);be&&(Z=be,this.capture(Z))}V[Gt(B)]=Gt(Z)}parseQueryParam(V){const B=function li(A){const V=A.match(di);return V?V[0]:""}(this.remaining);if(!B)return;this.capture(B);let Z="";if(this.consumeOptional("=")){const vt=function dt(A){const V=A.match(At);return V?V[0]:""}(this.remaining);vt&&(Z=vt,this.capture(Z))}const be=ct(B),Ge=ct(Z);if(V.hasOwnProperty(be)){let vt=V[be];Array.isArray(vt)||(vt=[vt],V[be]=vt),vt.push(Ge)}else V[be]=Ge}parseParens(V){const B={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const Z=Sn(this.remaining),be=this.remaining[Z.length];if("/"!==be&&")"!==be&&";"!==be)throw new i.wOt(4010,!1);let Ge;Z.indexOf(":")>-1?(Ge=Z.slice(0,Z.indexOf(":")),this.capture(Ge),this.capture(":")):V&&(Ge=Ye);const vt=this.parseChildren();B[Ge]=1===Object.keys(vt).length?vt[Ye]:new ae([],vt),this.consumeOptional("//")}return B}peekStartsWith(V){return this.remaining.startsWith(V)}consumeOptional(V){return!!this.peekStartsWith(V)&&(this.remaining=this.remaining.substring(V.length),!0)}capture(V){if(!this.consumeOptional(V))throw new i.wOt(4011,!1)}}function jt(A){return A.segments.length>0?new ae([],{[Ye]:A}):A}function Yt(A){const V={};for(const[Z,be]of Object.entries(A.children)){const Ge=Yt(be);if(Z===Ye&&0===Ge.segments.length&&Ge.hasChildren())for(const[vt,sn]of Object.entries(Ge.children))V[vt]=sn;else(Ge.segments.length>0||Ge.hasChildren())&&(V[Z]=Ge)}return function vn(A){if(1===A.numberOfChildren&&A.children[Ye]){const V=A.children[Ye];return new ae(A.segments.concat(V.segments),V.children)}return A}(new ae(A.segments,V))}function mn(A){return A instanceof ve}function An(A){let V;const be=jt(function B(Ge){const vt={};for(const qt of Ge.children){const Ln=B(qt);vt[qt.outlet]=Ln}const sn=new ae(Ge.url,vt);return Ge===A&&(V=sn),sn}(A.root));return V??be}function fn(A,V,B,Z){let be=A;for(;be.parent;)be=be.parent;if(0===V.length)return ni(be,be,be,B,Z);const Ge=function Ei(A){if("string"==typeof A[0]&&1===A.length&&"/"===A[0])return new Xn(!0,0,A);let V=0,B=!1;const Z=A.reduce((be,Ge,vt)=>{if("object"==typeof Ge&&null!=Ge){if(Ge.outlets){const sn={};return Object.entries(Ge.outlets).forEach(([qt,Ln])=>{sn[qt]="string"==typeof Ln?Ln.split("/"):Ln}),[...be,{outlets:sn}]}if(Ge.segmentPath)return[...be,Ge.segmentPath]}return"string"!=typeof Ge?[...be,Ge]:0===vt?(Ge.split("/").forEach((sn,qt)=>{0==qt&&"."===sn||(0==qt&&""===sn?B=!0:".."===sn?V++:""!=sn&&be.push(sn))}),be):[...be,Ge]},[]);return new Xn(B,V,Z)}(V);if(Ge.toRoot())return ni(be,be,new ae([],{}),B,Z);const vt=function Gi(A,V,B){if(A.isAbsolute)return new pi(V,!0,0);if(!B)return new pi(V,!1,NaN);if(null===B.parent)return new pi(B,!0,0);const Z=ci(A.commands[0])?0:1;return function ji(A,V,B){let Z=A,be=V,Ge=B;for(;Ge>be;){if(Ge-=be,Z=Z.parent,!Z)throw new i.wOt(4005,!1);be=Z.segments.length}return new pi(Z,!1,be-Ge)}(B,B.segments.length-1+Z,A.numberOfDoubleDots)}(Ge,be,A),sn=vt.processChildren?It(vt.segmentGroup,vt.index,Ge.commands):nt(vt.segmentGroup,vt.index,Ge.commands);return ni(be,vt.segmentGroup,sn,B,Z)}function ci(A){return"object"==typeof A&&null!=A&&!A.outlets&&!A.segmentPath}function gi(A){return"object"==typeof A&&null!=A&&A.outlets}function ni(A,V,B,Z,be){let vt,Ge={};Z&&Object.entries(Z).forEach(([qt,Ln])=>{Ge[qt]=Array.isArray(Ln)?Ln.map(Oi=>`${Oi}`):`${Ln}`}),vt=A===V?B:Bi(A,V,B);const sn=jt(Yt(vt));return new ve(sn,Ge,be)}function Bi(A,V,B){const Z={};return Object.entries(A.children).forEach(([be,Ge])=>{Z[be]=Ge===V?B:Bi(Ge,V,B)}),new ae(A.segments,Z)}class Xn{constructor(V,B,Z){if(this.isAbsolute=V,this.numberOfDoubleDots=B,this.commands=Z,V&&Z.length>0&&ci(Z[0]))throw new i.wOt(4003,!1);const be=Z.find(gi);if(be&&be!==Ee(Z))throw new i.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class pi{constructor(V,B,Z){this.segmentGroup=V,this.processChildren=B,this.index=Z}}function nt(A,V,B){if(A??=new ae([],{}),0===A.segments.length&&A.hasChildren())return It(A,V,B);const Z=function Ct(A,V,B){let Z=0,be=V;const Ge={match:!1,pathIndex:0,commandIndex:0};for(;be<A.segments.length;){if(Z>=B.length)return Ge;const vt=A.segments[be],sn=B[Z];if(gi(sn))break;const qt=`${sn}`,Ln=Z<B.length-1?B[Z+1]:null;if(be>0&&void 0===qt)break;if(qt&&Ln&&"object"==typeof Ln&&void 0===Ln.outlets){if(!St(qt,Ln,vt))return Ge;Z+=2}else{if(!St(qt,{},vt))return Ge;Z++}be++}return{match:!0,pathIndex:be,commandIndex:Z}}(A,V,B),be=B.slice(Z.commandIndex);if(Z.match&&Z.pathIndex<A.segments.length){const Ge=new ae(A.segments.slice(0,Z.pathIndex),{});return Ge.children[Ye]=new ae(A.segments.slice(Z.pathIndex),A.children),It(Ge,0,be)}return Z.match&&0===be.length?new ae(A.segments,{}):Z.match&&!A.hasChildren()?nn(A,V,B):Z.match?It(A,0,be):nn(A,V,B)}function It(A,V,B){if(0===B.length)return new ae(A.segments,{});{const Z=function Ti(A){return gi(A[0])?A[0].outlets:{[Ye]:A}}(B),be={};if(Object.keys(Z).some(Ge=>Ge!==Ye)&&A.children[Ye]&&1===A.numberOfChildren&&0===A.children[Ye].segments.length){const Ge=It(A.children[Ye],V,B);return new ae(A.segments,Ge.children)}return Object.entries(Z).forEach(([Ge,vt])=>{"string"==typeof vt&&(vt=[vt]),null!==vt&&(be[Ge]=nt(A.children[Ge],V,vt))}),Object.entries(A.children).forEach(([Ge,vt])=>{void 0===Z[Ge]&&(be[Ge]=vt)}),new ae(A.segments,be)}}function nn(A,V,B){const Z=A.segments.slice(0,V);let be=0;for(;be<B.length;){const Ge=B[be];if(gi(Ge)){const qt=Qt(Ge.outlets);return new ae(Z,qt)}if(0===be&&ci(B[0])){Z.push(new j(A.segments[V].path,Tn(B[0]))),be++;continue}const vt=gi(Ge)?Ge.outlets[Ye]:`${Ge}`,sn=be<B.length-1?B[be+1]:null;vt&&sn&&ci(sn)?(Z.push(new j(vt,Tn(sn))),be+=2):(Z.push(new j(vt,{})),be++)}return new ae(Z,{})}function Qt(A){const V={};return Object.entries(A).forEach(([B,Z])=>{"string"==typeof Z&&(Z=[Z]),null!==Z&&(V[B]=nn(new ae([],{}),0,Z))}),V}function Tn(A){const V={};return Object.entries(A).forEach(([B,Z])=>V[B]=`${Z}`),V}function St(A,V,B){return A==B.path&&X(V,B.parameters)}const $e="imperative";var Qe=function(A){return A[A.NavigationStart=0]="NavigationStart",A[A.NavigationEnd=1]="NavigationEnd",A[A.NavigationCancel=2]="NavigationCancel",A[A.NavigationError=3]="NavigationError",A[A.RoutesRecognized=4]="RoutesRecognized",A[A.ResolveStart=5]="ResolveStart",A[A.ResolveEnd=6]="ResolveEnd",A[A.GuardsCheckStart=7]="GuardsCheckStart",A[A.GuardsCheckEnd=8]="GuardsCheckEnd",A[A.RouteConfigLoadStart=9]="RouteConfigLoadStart",A[A.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",A[A.ChildActivationStart=11]="ChildActivationStart",A[A.ChildActivationEnd=12]="ChildActivationEnd",A[A.ActivationStart=13]="ActivationStart",A[A.ActivationEnd=14]="ActivationEnd",A[A.Scroll=15]="Scroll",A[A.NavigationSkipped=16]="NavigationSkipped",A}(Qe||{});class K{constructor(V,B){this.id=V,this.url=B}}class de extends K{constructor(V,B,Z="imperative",be=null){super(V,B),this.type=Qe.NavigationStart,this.navigationTrigger=Z,this.restoredState=be}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ue extends K{constructor(V,B,Z){super(V,B),this.urlAfterRedirects=Z,this.type=Qe.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var ze=function(A){return A[A.Redirect=0]="Redirect",A[A.SupersededByNewNavigation=1]="SupersededByNewNavigation",A[A.NoDataFromResolver=2]="NoDataFromResolver",A[A.GuardRejected=3]="GuardRejected",A}(ze||{}),Wt=function(A){return A[A.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",A[A.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",A}(Wt||{});class Kt extends K{constructor(V,B,Z,be){super(V,B),this.reason=Z,this.code=be,this.type=Qe.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class gn extends K{constructor(V,B,Z,be){super(V,B),this.reason=Z,this.code=be,this.type=Qe.NavigationSkipped}}class yn extends K{constructor(V,B,Z,be){super(V,B),this.error=Z,this.target=be,this.type=Qe.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ti extends K{constructor(V,B,Z,be){super(V,B),this.urlAfterRedirects=Z,this.state=be,this.type=Qe.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vi extends K{constructor(V,B,Z,be){super(V,B),this.urlAfterRedirects=Z,this.state=be,this.type=Qe.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bi extends K{constructor(V,B,Z,be,Ge){super(V,B),this.urlAfterRedirects=Z,this.state=be,this.shouldActivate=Ge,this.type=Qe.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ui extends K{constructor(V,B,Z,be){super(V,B),this.urlAfterRedirects=Z,this.state=be,this.type=Qe.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ki extends K{constructor(V,B,Z,be){super(V,B),this.urlAfterRedirects=Z,this.state=be,this.type=Qe.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dr{constructor(V){this.route=V,this.type=Qe.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Gn{constructor(V){this.route=V,this.type=Qe.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ri{constructor(V){this.snapshot=V,this.type=Qe.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ar{constructor(V){this.snapshot=V,this.type=Qe.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xi{constructor(V){this.snapshot=V,this.type=Qe.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mr{constructor(V){this.snapshot=V,this.type=Qe.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ks{constructor(V,B,Z){this.routerEvent=V,this.position=B,this.anchor=Z,this.type=Qe.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ms{}class Ns{constructor(V){this.url=V}}class Us{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new gs,this.attachRef=null}}let gs=(()=>{class A{constructor(){this.contexts=new Map}onChildOutletCreated(B,Z){const be=this.getOrCreateContext(B);be.outlet=Z,this.contexts.set(B,be)}onChildOutletDestroyed(B){const Z=this.getContext(B);Z&&(Z.outlet=null,Z.attachRef=null)}onOutletDeactivated(){const B=this.contexts;return this.contexts=new Map,B}onOutletReAttached(B){this.contexts=B}getOrCreateContext(B){let Z=this.getContext(B);return Z||(Z=new Us,this.contexts.set(B,Z)),Z}getContext(B){return this.contexts.get(B)||null}static{this.\u0275fac=function(Z){return new(Z||A)}}static{this.\u0275prov=i.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}}return A})();class Cr{constructor(V){this._root=V}get root(){return this._root.value}parent(V){const B=this.pathFromRoot(V);return B.length>1?B[B.length-2]:null}children(V){const B=Os(V,this._root);return B?B.children.map(Z=>Z.value):[]}firstChild(V){const B=Os(V,this._root);return B&&B.children.length>0?B.children[0].value:null}siblings(V){const B=gr(V,this._root);return B.length<2?[]:B[B.length-2].children.map(be=>be.value).filter(be=>be!==V)}pathFromRoot(V){return gr(V,this._root).map(B=>B.value)}}function Os(A,V){if(A===V.value)return V;for(const B of V.children){const Z=Os(A,B);if(Z)return Z}return null}function gr(A,V){if(A===V.value)return[V];for(const B of V.children){const Z=gr(A,B);if(Z.length)return Z.unshift(V),Z}return[]}class vr{constructor(V,B){this.value=V,this.children=B}toString(){return`TreeNode(${this.value})`}}function Ni(A){const V={};return A&&A.children.forEach(B=>V[B.value.outlet]=B),V}class zs extends Cr{constructor(V,B){super(V),this.snapshot=B,Sr(this,V)}toString(){return this.snapshot.toString()}}function ai(A){const V=function zo(A){const Ge=new fr([],{},{},"",{},Ye,A,null,{});return new wr("",new vr(Ge,[]))}(A),B=new S.t([new j("",{})]),Z=new S.t({}),be=new S.t({}),Ge=new S.t({}),vt=new S.t(""),sn=new jn(B,Z,Ge,vt,be,Ye,A,V.root);return sn.snapshot=V.root,new zs(new vr(sn,[]),V)}class jn{constructor(V,B,Z,be,Ge,vt,sn,qt){this.urlSubject=V,this.paramsSubject=B,this.queryParamsSubject=Z,this.fragmentSubject=be,this.dataSubject=Ge,this.outlet=vt,this.component=sn,this._futureSnapshot=qt,this.title=this.dataSubject?.pipe((0,G.T)(Ln=>Ln[zt]))??(0,g.of)(void 0),this.url=V,this.params=B,this.queryParams=Z,this.fragment=be,this.data=Ge}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,G.T)(V=>Et(V))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,G.T)(V=>Et(V))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Xr(A,V,B="emptyOnly"){let Z;const{routeConfig:be}=A;return Z=null===V||"always"!==B&&""!==be?.path&&(V.component||V.routeConfig?.loadComponent)?{params:{...A.params},data:{...A.data},resolve:{...A.data,...A._resolvedData??{}}}:{params:{...V.params,...A.params},data:{...V.data,...A.data},resolve:{...A.data,...V.data,...be?.data,...A._resolvedData}},be&&er(be)&&(Z.resolve[zt]=be.title),Z}class fr{get title(){return this.data?.[zt]}constructor(V,B,Z,be,Ge,vt,sn,qt,Ln){this.url=V,this.params=B,this.queryParams=Z,this.fragment=be,this.data=Ge,this.outlet=vt,this.component=sn,this.routeConfig=qt,this._resolve=Ln}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Et(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Et(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(Z=>Z.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class wr extends Cr{constructor(V,B){super(B),this.url=V,Sr(this,B)}toString(){return xr(this._root)}}function Sr(A,V){V.value._routerState=A,V.children.forEach(B=>Sr(A,B))}function xr(A){const V=A.children.length>0?` { ${A.children.map(xr).join(", ")} } `:"";return`${A.value}${V}`}function Lr(A){if(A.snapshot){const V=A.snapshot,B=A._futureSnapshot;A.snapshot=B,X(V.queryParams,B.queryParams)||A.queryParamsSubject.next(B.queryParams),V.fragment!==B.fragment&&A.fragmentSubject.next(B.fragment),X(V.params,B.params)||A.paramsSubject.next(B.params),function J(A,V){if(A.length!==V.length)return!1;for(let B=0;B<A.length;++B)if(!X(A[B],V[B]))return!1;return!0}(V.url,B.url)||A.urlSubject.next(B.url),X(V.data,B.data)||A.dataSubject.next(B.data)}else A.snapshot=A._futureSnapshot,A.dataSubject.next(A._futureSnapshot.data)}function qi(A,V){const B=X(A.params,V.params)&&function se(A,V){return Be(A,V)&&A.every((B,Z)=>X(B.parameters,V[Z].parameters))}(A.url,V.url);return B&&!(!A.parent!=!V.parent)&&(!A.parent||qi(A.parent,V.parent))}function er(A){return"string"==typeof A.title||null===A.title}let Hn=(()=>{class A{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ye,this.activateEvents=new i.bkB,this.deactivateEvents=new i.bkB,this.attachEvents=new i.bkB,this.detachEvents=new i.bkB,this.parentContexts=(0,i.WQX)(gs),this.location=(0,i.WQX)(i.c1b),this.changeDetector=(0,i.WQX)(i.gRc),this.environmentInjector=(0,i.WQX)(i.uvJ),this.inputBinder=(0,i.WQX)(lr,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(B){if(B.name){const{firstChange:Z,previousValue:be}=B.name;if(Z)return;this.isTrackedInParentContexts(be)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(be)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(B){return this.parentContexts.getContext(B)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const B=this.parentContexts.getContext(this.name);B?.route&&(B.attachRef?this.attach(B.attachRef,B.route):this.activateWith(B.route,B.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new i.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new i.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new i.wOt(4012,!1);this.location.detach();const B=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(B.instance),B}attach(B,Z){this.activated=B,this._activatedRoute=Z,this.location.insert(B.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(B.instance)}deactivate(){if(this.activated){const B=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(B)}}activateWith(B,Z){if(this.isActivated)throw new i.wOt(4013,!1);this._activatedRoute=B;const be=this.location,vt=B.snapshot.component,sn=this.parentContexts.getOrCreateContext(this.name).children,qt=new Gr(B,sn,be.injector);this.activated=be.createComponent(vt,{index:be.length,injector:qt,environmentInjector:Z??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(Z){return new(Z||A)}}static{this.\u0275dir=i.FsC({type:A,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[i.OA$]})}}return A})();class Gr{constructor(V,B,Z){this.route=V,this.childContexts=B,this.parent=Z,this.__ngOutletInjector=!0}get(V,B){return V===jn?this.route:V===gs?this.childContexts:this.parent.get(V,B)}}const lr=new i.nKC("");let kr=(()=>{class A{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(B){this.unsubscribeFromRouteData(B),this.subscribeToRouteData(B)}unsubscribeFromRouteData(B){this.outletDataSubscriptions.get(B)?.unsubscribe(),this.outletDataSubscriptions.delete(B)}subscribeToRouteData(B){const{activatedRoute:Z}=B,be=(0,v.z)([Z.queryParams,Z.params,Z.data]).pipe((0,ie.n)(([Ge,vt,sn],qt)=>(sn={...Ge,...vt,...sn},0===qt?(0,g.of)(sn):Promise.resolve(sn)))).subscribe(Ge=>{if(!B.isActivated||!B.activatedComponentRef||B.activatedRoute!==Z||null===Z.component)return void this.unsubscribeFromRouteData(B);const vt=(0,i.HJs)(Z.component);if(vt)for(const{templateName:sn}of vt.inputs)B.activatedComponentRef.setInput(sn,Ge[sn]);else this.unsubscribeFromRouteData(B)});this.outletDataSubscriptions.set(B,be)}static{this.\u0275fac=function(Z){return new(Z||A)}}static{this.\u0275prov=i.jDH({token:A,factory:A.\u0275fac})}}return A})();function ro(A,V,B){if(B&&A.shouldReuseRoute(V.value,B.value.snapshot)){const Z=B.value;Z._futureSnapshot=V.value;const be=function Co(A,V,B){return V.children.map(Z=>{for(const be of B.children)if(A.shouldReuseRoute(Z.value,be.value.snapshot))return ro(A,Z,be);return ro(A,Z)})}(A,V,B);return new vr(Z,be)}{if(A.shouldAttach(V.value)){const Ge=A.retrieve(V.value);if(null!==Ge){const vt=Ge.route;return vt.value._futureSnapshot=V.value,vt.children=V.children.map(sn=>ro(A,sn)),vt}}const Z=function Ss(A){return new jn(new S.t(A.url),new S.t(A.params),new S.t(A.queryParams),new S.t(A.fragment),new S.t(A.data),A.outlet,A.component,A)}(V.value),be=V.children.map(Ge=>ro(A,Ge));return new vr(Z,be)}}const yr="ngNavigationCancelingError";function is(A,V){const{redirectTo:B,navigationBehaviorOptions:Z}=mn(V)?{redirectTo:V,navigationBehaviorOptions:void 0}:V,be=rs(!1,ze.Redirect);return be.url=B,be.navigationBehaviorOptions=Z,be}function rs(A,V){const B=new Error(`NavigationCancelingError: ${A||""}`);return B[yr]=!0,B.cancellationCode=V,B}function Jr(A){return!!A&&A[yr]}let mo=(()=>{class A{static{this.\u0275fac=function(Z){return new(Z||A)}}static{this.\u0275cmp=i.VBU({type:A,selectors:[["ng-component"]],standalone:!0,features:[i.aNF],decls:1,vars:0,template:function(Z,be){1&Z&&i.nrm(0,"router-outlet")},dependencies:[Hn],encapsulation:2})}}return A})();function rr(A){const V=A.children&&A.children.map(rr),B=V?{...A,children:V}:{...A};return!B.component&&!B.loadComponent&&(V||B.loadChildren)&&B.outlet&&B.outlet!==Ye&&(B.component=mo),B}function Or(A){return A.outlet||Ye}function ao(A){if(!A)return null;if(A.routeConfig?._injector)return A.routeConfig._injector;for(let V=A.parent;V;V=V.parent){const B=V.routeConfig;if(B?._loadedInjector)return B._loadedInjector;if(B?._injector)return B._injector}return null}class si{constructor(V,B,Z,be,Ge){this.routeReuseStrategy=V,this.futureState=B,this.currState=Z,this.forwardEvent=be,this.inputBindingEnabled=Ge}activate(V){const B=this.futureState._root,Z=this.currState?this.currState._root:null;this.deactivateChildRoutes(B,Z,V),Lr(this.futureState.root),this.activateChildRoutes(B,Z,V)}deactivateChildRoutes(V,B,Z){const be=Ni(B);V.children.forEach(Ge=>{const vt=Ge.value.outlet;this.deactivateRoutes(Ge,be[vt],Z),delete be[vt]}),Object.values(be).forEach(Ge=>{this.deactivateRouteAndItsChildren(Ge,Z)})}deactivateRoutes(V,B,Z){const be=V.value,Ge=B?B.value:null;if(be===Ge)if(be.component){const vt=Z.getContext(be.outlet);vt&&this.deactivateChildRoutes(V,B,vt.children)}else this.deactivateChildRoutes(V,B,Z);else Ge&&this.deactivateRouteAndItsChildren(B,Z)}deactivateRouteAndItsChildren(V,B){V.value.component&&this.routeReuseStrategy.shouldDetach(V.value.snapshot)?this.detachAndStoreRouteSubtree(V,B):this.deactivateRouteAndOutlet(V,B)}detachAndStoreRouteSubtree(V,B){const Z=B.getContext(V.value.outlet),be=Z&&V.value.component?Z.children:B,Ge=Ni(V);for(const vt of Object.values(Ge))this.deactivateRouteAndItsChildren(vt,be);if(Z&&Z.outlet){const vt=Z.outlet.detach(),sn=Z.children.onOutletDeactivated();this.routeReuseStrategy.store(V.value.snapshot,{componentRef:vt,route:V,contexts:sn})}}deactivateRouteAndOutlet(V,B){const Z=B.getContext(V.value.outlet),be=Z&&V.value.component?Z.children:B,Ge=Ni(V);for(const vt of Object.values(Ge))this.deactivateRouteAndItsChildren(vt,be);Z&&(Z.outlet&&(Z.outlet.deactivate(),Z.children.onOutletDeactivated()),Z.attachRef=null,Z.route=null)}activateChildRoutes(V,B,Z){const be=Ni(B);V.children.forEach(Ge=>{this.activateRoutes(Ge,be[Ge.value.outlet],Z),this.forwardEvent(new Mr(Ge.value.snapshot))}),V.children.length&&this.forwardEvent(new ar(V.value.snapshot))}activateRoutes(V,B,Z){const be=V.value,Ge=B?B.value:null;if(Lr(be),be===Ge)if(be.component){const vt=Z.getOrCreateContext(be.outlet);this.activateChildRoutes(V,B,vt.children)}else this.activateChildRoutes(V,B,Z);else if(be.component){const vt=Z.getOrCreateContext(be.outlet);if(this.routeReuseStrategy.shouldAttach(be.snapshot)){const sn=this.routeReuseStrategy.retrieve(be.snapshot);this.routeReuseStrategy.store(be.snapshot,null),vt.children.onOutletReAttached(sn.contexts),vt.attachRef=sn.componentRef,vt.route=sn.route.value,vt.outlet&&vt.outlet.attach(sn.componentRef,sn.route.value),Lr(sn.route.value),this.activateChildRoutes(V,null,vt.children)}else{const sn=ao(be.snapshot);vt.attachRef=null,vt.route=be,vt.injector=sn,vt.outlet&&vt.outlet.activateWith(be,vt.injector),this.activateChildRoutes(V,null,vt.children)}}else this.activateChildRoutes(V,null,Z)}}class Hr{constructor(V){this.path=V,this.route=this.path[this.path.length-1]}}class Vs{constructor(V,B){this.component=V,this.route=B}}function pr(A,V,B){const Z=A._root;return Ur(Z,V?V._root:null,B,[Z.value])}function Fr(A,V){const B=Symbol(),Z=V.get(A,B);return Z===B?"function"!=typeof A||(0,i.LfX)(A)?V.get(A):A:Z}function Ur(A,V,B,Z,be={canDeactivateChecks:[],canActivateChecks:[]}){const Ge=Ni(V);return A.children.forEach(vt=>{(function Wr(A,V,B,Z,be={canDeactivateChecks:[],canActivateChecks:[]}){const Ge=A.value,vt=V?V.value:null,sn=B?B.getContext(A.value.outlet):null;if(vt&&Ge.routeConfig===vt.routeConfig){const qt=function pn(A,V,B){if("function"==typeof B)return B(A,V);switch(B){case"pathParamsChange":return!Be(A.url,V.url);case"pathParamsOrQueryParamsChange":return!Be(A.url,V.url)||!X(A.queryParams,V.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!qi(A,V)||!X(A.queryParams,V.queryParams);default:return!qi(A,V)}}(vt,Ge,Ge.routeConfig.runGuardsAndResolvers);qt?be.canActivateChecks.push(new Hr(Z)):(Ge.data=vt.data,Ge._resolvedData=vt._resolvedData),Ur(A,V,Ge.component?sn?sn.children:null:B,Z,be),qt&&sn&&sn.outlet&&sn.outlet.isActivated&&be.canDeactivateChecks.push(new Vs(sn.outlet.component,vt))}else vt&&vs(V,sn,be),be.canActivateChecks.push(new Hr(Z)),Ur(A,null,Ge.component?sn?sn.children:null:B,Z,be)})(vt,Ge[vt.value.outlet],B,Z.concat([vt.value]),be),delete Ge[vt.value.outlet]}),Object.entries(Ge).forEach(([vt,sn])=>vs(sn,B.getContext(vt),be)),be}function vs(A,V,B){const Z=Ni(A),be=A.value;Object.entries(Z).forEach(([Ge,vt])=>{vs(vt,be.component?V?V.children.getContext(Ge):null:V,B)}),B.canDeactivateChecks.push(new Vs(be.component&&V&&V.outlet&&V.outlet.isActivated?V.outlet.component:null,be))}function Ne(A){return"function"==typeof A}function os(A){return A instanceof f.G||"EmptyError"===A?.name}const ys=Symbol("INITIAL_VALUE");function Jn(){return(0,ie.n)(A=>(0,v.z)(A.map(V=>V.pipe((0,le.s)(1),(0,L.Z)(ys)))).pipe((0,G.T)(V=>{for(const B of V)if(!0!==B){if(B===ys)return ys;if(!1===B||B instanceof ve)return B}return!0}),(0,Q.p)(V=>V!==ys),(0,le.s)(1)))}function Nn(A){return(0,m.F)((0,Y.M)(V=>{if(mn(V))throw is(0,V)}),(0,G.T)(V=>!0===V))}class Pr{constructor(V){this.segmentGroup=V||null}}class Di extends Error{constructor(V){super(),this.urlTree=V}}function Is(A){return(0,F.$)(new Pr(A))}class ki{constructor(V,B){this.urlSerializer=V,this.urlTree=B}lineralizeSegments(V,B){let Z=[],be=B.root;for(;;){if(Z=Z.concat(be.segments),0===be.numberOfChildren)return(0,g.of)(Z);if(be.numberOfChildren>1||!be.children[Ye])return(0,F.$)(new i.wOt(4e3,!1));be=be.children[Ye]}}applyRedirectCommands(V,B,Z){const be=this.applyRedirectCreateUrlTree(B,this.urlSerializer.parse(B),V,Z);if(B.startsWith("/"))throw new Di(be);return be}applyRedirectCreateUrlTree(V,B,Z,be){const Ge=this.createSegmentGroup(V,B.root,Z,be);return new ve(Ge,this.createQueryParams(B.queryParams,this.urlTree.queryParams),B.fragment)}createQueryParams(V,B){const Z={};return Object.entries(V).forEach(([be,Ge])=>{if("string"==typeof Ge&&Ge.startsWith(":")){const sn=Ge.substring(1);Z[be]=B[sn]}else Z[be]=Ge}),Z}createSegmentGroup(V,B,Z,be){const Ge=this.createSegments(V,B.segments,Z,be);let vt={};return Object.entries(B.children).forEach(([sn,qt])=>{vt[sn]=this.createSegmentGroup(V,qt,Z,be)}),new ae(Ge,vt)}createSegments(V,B,Z,be){return B.map(Ge=>Ge.path.startsWith(":")?this.findPosParam(V,Ge,be):this.findOrReturn(Ge,Z))}findPosParam(V,B,Z){const be=Z[B.path.substring(1)];if(!be)throw new i.wOt(4001,!1);return be}findOrReturn(V,B){let Z=0;for(const be of B){if(be.path===V.path)return B.splice(Z),be;Z++}return V}}const Wn={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Zr(A,V,B,Z,be){const Ge=Ds(A,V,B);return Ge.matched?(Z=function tr(A,V){return A.providers&&!A._injector&&(A._injector=(0,i.Ol2)(A.providers,V,`Route: ${A.path}`)),A._injector??V}(V,Z),function $n(A,V,B,Z){const be=V.canMatch;if(!be||0===be.length)return(0,g.of)(!0);const Ge=be.map(vt=>{const sn=Fr(vt,A);return lt(function Ii(A){return A&&Ne(A.canMatch)}(sn)?sn.canMatch(V,B):(0,i.N4e)(A,()=>sn(V,B)))});return(0,g.of)(Ge).pipe(Jn(),Nn())}(Z,V,B).pipe((0,G.T)(vt=>!0===vt?Ge:{...Wn}))):(0,g.of)(Ge)}function Ds(A,V,B){if("**"===V.path)return function Er(A){return{matched:!0,parameters:A.length>0?Ee(A).parameters:{},consumedSegments:A,remainingSegments:[],positionalParamSegments:{}}}(B);if(""===V.path)return"full"===V.pathMatch&&(A.hasChildren()||B.length>0)?{...Wn}:{matched:!0,consumedSegments:[],remainingSegments:B,parameters:{},positionalParamSegments:{}};const be=(V.matcher||_t)(B,A,V);if(!be)return{...Wn};const Ge={};Object.entries(be.posParams??{}).forEach(([sn,qt])=>{Ge[sn]=qt.path});const vt=be.consumed.length>0?{...Ge,...be.consumed[be.consumed.length-1].parameters}:Ge;return{matched:!0,consumedSegments:be.consumed,remainingSegments:B.slice(be.consumed.length),parameters:vt,positionalParamSegments:be.posParams??{}}}function vl(A,V,B,Z){return B.length>0&&function Ia(A,V,B){return B.some(Z=>As(A,V,Z)&&Or(Z)!==Ye)}(A,B,Z)?{segmentGroup:new ae(V,Ro(Z,new ae(B,A.children))),slicedSegments:[]}:0===B.length&&function _n(A,V,B){return B.some(Z=>As(A,V,Z))}(A,B,Z)?{segmentGroup:new ae(A.segments,$i(A,B,Z,A.children)),slicedSegments:B}:{segmentGroup:new ae(A.segments,A.children),slicedSegments:B}}function $i(A,V,B,Z){const be={};for(const Ge of B)if(As(A,V,Ge)&&!Z[Or(Ge)]){const vt=new ae([],{});be[Or(Ge)]=vt}return{...Z,...be}}function Ro(A,V){const B={};B[Ye]=V;for(const Z of A)if(""===Z.path&&Or(Z)!==Ye){const be=new ae([],{});B[Or(Z)]=be}return B}function As(A,V,B){return(!(A.hasChildren()||V.length>0)||"full"!==B.pathMatch)&&""===B.path}class Da{}class Zo{constructor(V,B,Z,be,Ge,vt,sn){this.injector=V,this.configLoader=B,this.rootComponentType=Z,this.config=be,this.urlTree=Ge,this.paramsInheritanceStrategy=vt,this.urlSerializer=sn,this.applyRedirects=new ki(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(V){return new i.wOt(4002,`'${V.segmentGroup}'`)}recognize(){const V=vl(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(V).pipe((0,G.T)(B=>{const Z=new fr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ye,this.rootComponentType,null,{}),be=new vr(Z,B),Ge=new wr("",be),vt=function zn(A,V,B=null,Z=null){return fn(An(A),V,B,Z)}(Z,[],this.urlTree.queryParams,this.urlTree.fragment);return vt.queryParams=this.urlTree.queryParams,Ge.url=this.urlSerializer.serialize(vt),this.inheritParamsAndData(Ge._root,null),{state:Ge,tree:vt}}))}match(V){return this.processSegmentGroup(this.injector,this.config,V,Ye).pipe((0,_e.W)(Z=>{if(Z instanceof Di)return this.urlTree=Z.urlTree,this.match(Z.urlTree.root);throw Z instanceof Pr?this.noMatchError(Z):Z}))}inheritParamsAndData(V,B){const Z=V.value,be=Xr(Z,B,this.paramsInheritanceStrategy);Z.params=Object.freeze(be.params),Z.data=Object.freeze(be.data),V.children.forEach(Ge=>this.inheritParamsAndData(Ge,Z))}processSegmentGroup(V,B,Z,be){return 0===Z.segments.length&&Z.hasChildren()?this.processChildren(V,B,Z):this.processSegment(V,B,Z,Z.segments,be,!0).pipe((0,G.T)(Ge=>Ge instanceof vr?[Ge]:[]))}processChildren(V,B,Z){const be=[];for(const Ge of Object.keys(Z.children))"primary"===Ge?be.unshift(Ge):be.push(Ge);return(0,_.H)(be).pipe((0,oe.H)(Ge=>{const vt=Z.children[Ge],sn=function ss(A,V){const B=A.filter(Z=>Or(Z)===V);return B.push(...A.filter(Z=>Or(Z)!==V)),B}(B,Ge);return this.processSegmentGroup(V,sn,vt,Ge)}),function Re(A,V){return(0,k.N)((0,Oe.S)(A,V,arguments.length>=2,!0))}((Ge,vt)=>(Ge.push(...vt),Ge)),(0,xe.U)(null),function he(A,V){const B=arguments.length>=2;return Z=>Z.pipe(A?(0,Q.p)((be,Ge)=>A(be,Ge,Z)):we.D,Je(1),B?(0,xe.U)(V):(0,Te.v)(()=>new f.G))}(),(0,te.Z)(Ge=>{if(null===Ge)return Is(Z);const vt=Ha(Ge);return function yl(A){A.sort((V,B)=>V.value.outlet===Ye?-1:B.value.outlet===Ye?1:V.value.outlet.localeCompare(B.value.outlet))}(vt),(0,g.of)(vt)}))}processSegment(V,B,Z,be,Ge,vt){return(0,_.H)(B).pipe((0,oe.H)(sn=>this.processSegmentAgainstRoute(sn._injector??V,B,sn,Z,be,Ge,vt).pipe((0,_e.W)(qt=>{if(qt instanceof Pr)return(0,g.of)(null);throw qt}))),(0,I.$)(sn=>!!sn),(0,_e.W)(sn=>{if(os(sn))return function Fs(A,V,B){return 0===V.length&&!A.children[B]}(Z,be,Ge)?(0,g.of)(new Da):Is(Z);throw sn}))}processSegmentAgainstRoute(V,B,Z,be,Ge,vt,sn){return function Jo(A,V,B,Z){return!!(Or(A)===Z||Z!==Ye&&As(V,B,A))&&Ds(V,A,B).matched}(Z,be,Ge,vt)?void 0===Z.redirectTo?this.matchSegmentAgainstRoute(V,be,Z,Ge,vt):this.allowRedirects&&sn?this.expandSegmentAgainstRouteUsingRedirect(V,be,B,Z,Ge,vt):Is(be):Is(be)}expandSegmentAgainstRouteUsingRedirect(V,B,Z,be,Ge,vt){const{matched:sn,consumedSegments:qt,positionalParamSegments:Ln,remainingSegments:Oi}=Ds(B,be,Ge);if(!sn)return Is(B);be.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const Pi=this.applyRedirects.applyRedirectCommands(qt,be.redirectTo,Ln);return this.applyRedirects.lineralizeSegments(be,Pi).pipe((0,te.Z)(ur=>this.processSegment(V,Z,B,ur.concat(Oi),vt,!1)))}matchSegmentAgainstRoute(V,B,Z,be,Ge){const vt=Zr(B,Z,be,V);return"**"===Z.path&&(B.children={}),vt.pipe((0,ie.n)(sn=>sn.matched?this.getChildConfig(V=Z._injector??V,Z,be).pipe((0,ie.n)(({routes:qt})=>{const Ln=Z._loadedInjector??V,{consumedSegments:Oi,remainingSegments:Pi,parameters:ur}=sn,$s=new fr(Oi,ur,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function Bo(A){return A.data||{}}(Z),Or(Z),Z.component??Z._loadedComponent??null,Z,function wo(A){return A.resolve||{}}(Z)),{segmentGroup:xs,slicedSegments:Ma}=vl(B,Oi,Pi,qt);if(0===Ma.length&&xs.hasChildren())return this.processChildren(Ln,qt,xs).pipe((0,G.T)(Xs=>null===Xs?null:new vr($s,Xs)));if(0===qt.length&&0===Ma.length)return(0,g.of)(new vr($s,[]));const nc=Or(Z)===Ge;return this.processSegment(Ln,qt,xs,Ma,nc?Ye:Ge,!0).pipe((0,G.T)(Xs=>new vr($s,Xs instanceof vr?[Xs]:[])))})):Is(B)))}getChildConfig(V,B,Z){return B.children?(0,g.of)({routes:B.children,injector:V}):B.loadChildren?void 0!==B._loadedRoutes?(0,g.of)({routes:B._loadedRoutes,injector:B._loadedInjector}):function Qn(A,V,B,Z){const be=V.canLoad;if(void 0===be||0===be.length)return(0,g.of)(!0);const Ge=be.map(vt=>{const sn=Fr(vt,A);return lt(function ge(A){return A&&Ne(A.canLoad)}(sn)?sn.canLoad(V,B):(0,i.N4e)(A,()=>sn(V,B)))});return(0,g.of)(Ge).pipe(Jn(),Nn())}(V,B,Z).pipe((0,te.Z)(be=>be?this.configLoader.loadChildren(V,B).pipe((0,Y.M)(Ge=>{B._loadedRoutes=Ge.routes,B._loadedInjector=Ge.injector})):function Vr(A){return(0,F.$)(rs(!1,ze.GuardRejected))}())):(0,g.of)({routes:[],injector:V})}}function hs(A){const V=A.value.routeConfig;return V&&""===V.path}function Ha(A){const V=[],B=new Set;for(const Z of A){if(!hs(Z)){V.push(Z);continue}const be=V.find(Ge=>Z.value.routeConfig===Ge.value.routeConfig);void 0!==be?(be.children.push(...Z.children),B.add(be)):V.push(Z)}for(const Z of B){const be=Ha(Z.children);V.push(new vr(Z.value,be))}return V.filter(Z=>!B.has(Z))}function Ka(A){const V=A.children.map(B=>Ka(B)).flat();return[A,...V]}function go(A){return(0,ie.n)(V=>{const B=A(V);return B?(0,_.H)(B).pipe((0,G.T)(()=>V)):(0,g.of)(V)})}let Rs=(()=>{class A{buildTitle(B){let Z,be=B.root;for(;void 0!==be;)Z=this.getResolvedTitleForRoute(be)??Z,be=be.children.find(Ge=>Ge.outlet===Ye);return Z}getResolvedTitleForRoute(B){return B.data[zt]}static{this.\u0275fac=function(Z){return new(Z||A)}}static{this.\u0275prov=i.jDH({token:A,factory:()=>(0,i.WQX)(Ys),providedIn:"root"})}}return A})(),Ys=(()=>{class A extends Rs{constructor(B){super(),this.title=B}updateTitle(B){const Z=this.buildTitle(B);void 0!==Z&&this.title.setTitle(Z)}static{this.\u0275fac=function(Z){return new(Z||A)(i.KVO(ft.hE))}}static{this.\u0275prov=i.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}}return A})();const Lo=new i.nKC("",{providedIn:"root",factory:()=>({})}),So=new i.nKC("");let Kr=(()=>{class A{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,i.WQX)(i.Ql9)}loadComponent(B){if(this.componentLoaders.get(B))return this.componentLoaders.get(B);if(B._loadedComponent)return(0,g.of)(B._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(B);const Z=lt(B.loadComponent()).pipe((0,G.T)(da),(0,Y.M)(Ge=>{this.onLoadEndListener&&this.onLoadEndListener(B),B._loadedComponent=Ge}),(0,Ae.j)(()=>{this.componentLoaders.delete(B)})),be=new x(Z,()=>new $.B).pipe(H());return this.componentLoaders.set(B,be),be}loadChildren(B,Z){if(this.childrenLoaders.get(Z))return this.childrenLoaders.get(Z);if(Z._loadedRoutes)return(0,g.of)({routes:Z._loadedRoutes,injector:Z._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(Z);const Ge=function fs(A,V,B,Z){return lt(A.loadChildren()).pipe((0,G.T)(da),(0,te.Z)(be=>be instanceof i.Co$||Array.isArray(be)?(0,g.of)(be):(0,_.H)(V.compileModuleAsync(be))),(0,G.T)(be=>{Z&&Z(A);let Ge,vt,sn=!1;return Array.isArray(be)?(vt=be,!0):(Ge=be.create(B).injector,vt=Ge.get(So,[],{optional:!0,self:!0}).flat()),{routes:vt.map(rr),injector:Ge}}))}(Z,this.compiler,B,this.onLoadEndListener).pipe((0,Ae.j)(()=>{this.childrenLoaders.delete(Z)})),vt=new x(Ge,()=>new $.B).pipe(H());return this.childrenLoaders.set(Z,vt),vt}static{this.\u0275fac=function(Z){return new(Z||A)}}static{this.\u0275prov=i.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}}return A})();function da(A){return function Ya(A){return A&&"object"==typeof A&&"default"in A}(A)?A.default:A}let lo=(()=>{class A{static{this.\u0275fac=function(Z){return new(Z||A)}}static{this.\u0275prov=i.jDH({token:A,factory:()=>(0,i.WQX)(Ms),providedIn:"root"})}}return A})(),Ms=(()=>{class A{shouldProcessUrl(B){return!0}extract(B){return B}merge(B,Z){return B}static{this.\u0275fac=function(Z){return new(Z||A)}}static{this.\u0275prov=i.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}}return A})();const Ai=new i.nKC(""),bs=new i.nKC("");function ne(A,V,B){const Z=A.get(bs),be=A.get(U.qQ);return A.get(i.SKi).runOutsideAngular(()=>{if(!be.startViewTransition||Z.skipNextTransition)return Z.skipNextTransition=!1,Promise.resolve();let Ge;const vt=new Promise(Ln=>{Ge=Ln}),sn=be.startViewTransition(()=>(Ge(),function Ke(A){return new Promise(V=>{(0,i.mal)(V,{injector:A})})}(A))),{onViewTransitionCreated:qt}=Z;return qt&&(0,i.N4e)(A,()=>qt({transition:sn,from:V,to:B})),vt})}let fe=(()=>{class A{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new $.B,this.transitionAbortSubject=new $.B,this.configLoader=(0,i.WQX)(Kr),this.environmentInjector=(0,i.WQX)(i.uvJ),this.urlSerializer=(0,i.WQX)(ht),this.rootContexts=(0,i.WQX)(gs),this.location=(0,i.WQX)(U.aZ),this.inputBindingEnabled=null!==(0,i.WQX)(lr,{optional:!0}),this.titleStrategy=(0,i.WQX)(Rs),this.options=(0,i.WQX)(Lo,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,i.WQX)(lo),this.createViewTransition=(0,i.WQX)(Ai,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,g.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=be=>this.events.next(new Gn(be)),this.configLoader.onLoadStartListener=be=>this.events.next(new Dr(be))}complete(){this.transitions?.complete()}handleNavigationRequest(B){const Z=++this.navigationId;this.transitions?.next({...this.transitions.value,...B,id:Z})}setupNavigations(B,Z,be){return this.transitions=new S.t({id:0,currentUrlTree:Z,currentRawUrl:Z,extractedUrl:this.urlHandlingStrategy.extract(Z),urlAfterRedirects:this.urlHandlingStrategy.extract(Z),rawUrl:Z,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:$e,restoredState:null,currentSnapshot:be.snapshot,targetSnapshot:null,currentRouterState:be,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Q.p)(Ge=>0!==Ge.id),(0,G.T)(Ge=>({...Ge,extractedUrl:this.urlHandlingStrategy.extract(Ge.rawUrl)})),(0,ie.n)(Ge=>{let vt=!1,sn=!1;return(0,g.of)(Ge).pipe((0,ie.n)(qt=>{if(this.navigationId>Ge.id)return this.cancelNavigationTransition(Ge,"",ze.SupersededByNewNavigation),w.w;this.currentTransition=Ge,this.currentNavigation={id:qt.id,initialUrl:qt.rawUrl,extractedUrl:qt.extractedUrl,trigger:qt.source,extras:qt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const Ln=!B.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!Ln&&"reload"!==(qt.extras.onSameUrlNavigation??B.onSameUrlNavigation)){const Pi="";return this.events.next(new gn(qt.id,this.urlSerializer.serialize(qt.rawUrl),Pi,Wt.IgnoredSameUrlNavigation)),qt.resolve(null),w.w}if(this.urlHandlingStrategy.shouldProcessUrl(qt.rawUrl))return(0,g.of)(qt).pipe((0,ie.n)(Pi=>{const ur=this.transitions?.getValue();return this.events.next(new de(Pi.id,this.urlSerializer.serialize(Pi.extractedUrl),Pi.source,Pi.restoredState)),ur!==this.transitions?.getValue()?w.w:Promise.resolve(Pi)}),function Wa(A,V,B,Z,be,Ge){return(0,te.Z)(vt=>function Qo(A,V,B,Z,be,Ge,vt="emptyOnly"){return new Zo(A,V,B,Z,be,vt,Ge).recognize()}(A,V,B,Z,vt.extractedUrl,be,Ge).pipe((0,G.T)(({state:sn,tree:qt})=>({...vt,targetSnapshot:sn,urlAfterRedirects:qt}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,B.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,Y.M)(Pi=>{Ge.targetSnapshot=Pi.targetSnapshot,Ge.urlAfterRedirects=Pi.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Pi.urlAfterRedirects};const ur=new ti(Pi.id,this.urlSerializer.serialize(Pi.extractedUrl),this.urlSerializer.serialize(Pi.urlAfterRedirects),Pi.targetSnapshot);this.events.next(ur)}));if(Ln&&this.urlHandlingStrategy.shouldProcessUrl(qt.currentRawUrl)){const{id:Pi,extractedUrl:ur,source:$s,restoredState:xs,extras:Ma}=qt,nc=new de(Pi,this.urlSerializer.serialize(ur),$s,xs);this.events.next(nc);const Xs=ai(this.rootComponentType).snapshot;return this.currentTransition=Ge={...qt,targetSnapshot:Xs,urlAfterRedirects:ur,extras:{...Ma,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=ur,(0,g.of)(Ge)}{const Pi="";return this.events.next(new gn(qt.id,this.urlSerializer.serialize(qt.extractedUrl),Pi,Wt.IgnoredByUrlHandlingStrategy)),qt.resolve(null),w.w}}),(0,Y.M)(qt=>{const Ln=new vi(qt.id,this.urlSerializer.serialize(qt.extractedUrl),this.urlSerializer.serialize(qt.urlAfterRedirects),qt.targetSnapshot);this.events.next(Ln)}),(0,G.T)(qt=>(this.currentTransition=Ge={...qt,guards:pr(qt.targetSnapshot,qt.currentSnapshot,this.rootContexts)},Ge)),function Me(A,V){return(0,te.Z)(B=>{const{targetSnapshot:Z,currentSnapshot:be,guards:{canActivateChecks:Ge,canDeactivateChecks:vt}}=B;return 0===vt.length&&0===Ge.length?(0,g.of)({...B,guardsResult:!0}):function Xe(A,V,B,Z){return(0,_.H)(A).pipe((0,te.Z)(be=>function Jt(A,V,B,Z,be){const Ge=V&&V.routeConfig?V.routeConfig.canDeactivate:null;if(!Ge||0===Ge.length)return(0,g.of)(!0);const vt=Ge.map(sn=>{const qt=ao(V)??be,Ln=Fr(sn,qt);return lt(function Kn(A){return A&&Ne(A.canDeactivate)}(Ln)?Ln.canDeactivate(A,V,B,Z):(0,i.N4e)(qt,()=>Ln(A,V,B,Z))).pipe((0,I.$)())});return(0,g.of)(vt).pipe(Jn())}(be.component,be.route,B,V,Z)),(0,I.$)(be=>!0!==be,!0))}(vt,Z,be,A).pipe((0,te.Z)(sn=>sn&&function je(A){return"boolean"==typeof A}(sn)?function wt(A,V,B,Z){return(0,_.H)(V).pipe((0,oe.H)(be=>(0,d.x)(function Bt(A,V){return null!==A&&V&&V(new ri(A)),(0,g.of)(!0)}(be.route.parent,Z),function Rt(A,V){return null!==A&&V&&V(new xi(A)),(0,g.of)(!0)}(be.route,Z),function dn(A,V,B){const Z=V[V.length-1],Ge=V.slice(0,V.length-1).reverse().map(vt=>function js(A){const V=A.routeConfig?A.routeConfig.canActivateChild:null;return V&&0!==V.length?{node:A,guards:V}:null}(vt)).filter(vt=>null!==vt).map(vt=>(0,E.v)(()=>{const sn=vt.guards.map(qt=>{const Ln=ao(vt.node)??B,Oi=Fr(qt,Ln);return lt(function Pt(A){return A&&Ne(A.canActivateChild)}(Oi)?Oi.canActivateChild(Z,A):(0,i.N4e)(Ln,()=>Oi(Z,A))).pipe((0,I.$)())});return(0,g.of)(sn).pipe(Jn())}));return(0,g.of)(Ge).pipe(Jn())}(A,be.path,B),function bt(A,V,B){const Z=V.routeConfig?V.routeConfig.canActivate:null;if(!Z||0===Z.length)return(0,g.of)(!0);const be=Z.map(Ge=>(0,E.v)(()=>{const vt=ao(V)??B,sn=Fr(Ge,vt);return lt(function tt(A){return A&&Ne(A.canActivate)}(sn)?sn.canActivate(V,A):(0,i.N4e)(vt,()=>sn(V,A))).pipe((0,I.$)())}));return(0,g.of)(be).pipe(Jn())}(A,be.route,B))),(0,I.$)(be=>!0!==be,!0))}(Z,Ge,A,V):(0,g.of)(sn)),(0,G.T)(sn=>({...B,guardsResult:sn})))})}(this.environmentInjector,qt=>this.events.next(qt)),(0,Y.M)(qt=>{if(Ge.guardsResult=qt.guardsResult,mn(qt.guardsResult))throw is(0,qt.guardsResult);const Ln=new bi(qt.id,this.urlSerializer.serialize(qt.extractedUrl),this.urlSerializer.serialize(qt.urlAfterRedirects),qt.targetSnapshot,!!qt.guardsResult);this.events.next(Ln)}),(0,Q.p)(qt=>!!qt.guardsResult||(this.cancelNavigationTransition(qt,"",ze.GuardRejected),!1)),go(qt=>{if(qt.guards.canActivateChecks.length)return(0,g.of)(qt).pipe((0,Y.M)(Ln=>{const Oi=new ui(Ln.id,this.urlSerializer.serialize(Ln.extractedUrl),this.urlSerializer.serialize(Ln.urlAfterRedirects),Ln.targetSnapshot);this.events.next(Oi)}),(0,ie.n)(Ln=>{let Oi=!1;return(0,g.of)(Ln).pipe(function Aa(A,V){return(0,te.Z)(B=>{const{targetSnapshot:Z,guards:{canActivateChecks:be}}=B;if(!be.length)return(0,g.of)(B);const Ge=new Set(be.map(qt=>qt.route)),vt=new Set;for(const qt of Ge)if(!vt.has(qt))for(const Ln of Ka(qt))vt.add(Ln);let sn=0;return(0,_.H)(vt).pipe((0,oe.H)(qt=>Ge.has(qt)?function za(A,V,B,Z){const be=A.routeConfig,Ge=A._resolve;return void 0!==be?.title&&!er(be)&&(Ge[zt]=be.title),function _s(A,V,B,Z){const be=q(A);if(0===be.length)return(0,g.of)({});const Ge={};return(0,_.H)(be).pipe((0,te.Z)(vt=>function Tr(A,V,B,Z){const be=ao(V)??Z,Ge=Fr(A,be);return lt(Ge.resolve?Ge.resolve(V,B):(0,i.N4e)(be,()=>Ge(V,B)))}(A[vt],V,B,Z).pipe((0,I.$)(),(0,Y.M)(sn=>{Ge[vt]=sn}))),Je(1),(0,Le.u)(Ge),(0,_e.W)(vt=>os(vt)?w.w:(0,F.$)(vt)))}(Ge,A,V,Z).pipe((0,G.T)(vt=>(A._resolvedData=vt,A.data=Xr(A,A.parent,B).resolve,null)))}(qt,Z,A,V):(qt.data=Xr(qt,qt.parent,A).resolve,(0,g.of)(void 0))),(0,Y.M)(()=>sn++),Je(1),(0,te.Z)(qt=>sn===vt.size?(0,g.of)(B):w.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,Y.M)({next:()=>Oi=!0,complete:()=>{Oi||this.cancelNavigationTransition(Ln,"",ze.NoDataFromResolver)}}))}),(0,Y.M)(Ln=>{const Oi=new Ki(Ln.id,this.urlSerializer.serialize(Ln.extractedUrl),this.urlSerializer.serialize(Ln.urlAfterRedirects),Ln.targetSnapshot);this.events.next(Oi)}))}),go(qt=>{const Ln=Oi=>{const Pi=[];Oi.routeConfig?.loadComponent&&!Oi.routeConfig._loadedComponent&&Pi.push(this.configLoader.loadComponent(Oi.routeConfig).pipe((0,Y.M)(ur=>{Oi.component=ur}),(0,G.T)(()=>{})));for(const ur of Oi.children)Pi.push(...Ln(ur));return Pi};return(0,v.z)(Ln(qt.targetSnapshot.root)).pipe((0,xe.U)(null),(0,le.s)(1))}),go(()=>this.afterPreactivation()),(0,ie.n)(()=>{const{currentSnapshot:qt,targetSnapshot:Ln}=Ge,Oi=this.createViewTransition?.(this.environmentInjector,qt.root,Ln.root);return Oi?(0,_.H)(Oi).pipe((0,G.T)(()=>Ge)):(0,g.of)(Ge)}),(0,G.T)(qt=>{const Ln=function ns(A,V,B){const Z=ro(A,V._root,B?B._root:void 0);return new zs(Z,V)}(B.routeReuseStrategy,qt.targetSnapshot,qt.currentRouterState);return this.currentTransition=Ge={...qt,targetRouterState:Ln},this.currentNavigation.targetRouterState=Ln,Ge}),(0,Y.M)(()=>{this.events.next(new ms)}),((A,V,B,Z)=>(0,G.T)(be=>(new si(V,be.targetRouterState,be.currentRouterState,B,Z).activate(A),be)))(this.rootContexts,B.routeReuseStrategy,qt=>this.events.next(qt),this.inputBindingEnabled),(0,le.s)(1),(0,Y.M)({next:qt=>{vt=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ue(qt.id,this.urlSerializer.serialize(qt.extractedUrl),this.urlSerializer.serialize(qt.urlAfterRedirects))),this.titleStrategy?.updateTitle(qt.targetRouterState.snapshot),qt.resolve(!0)},complete:()=>{vt=!0}}),(0,st.Q)(this.transitionAbortSubject.pipe((0,Y.M)(qt=>{throw qt}))),(0,Ae.j)(()=>{!vt&&!sn&&this.cancelNavigationTransition(Ge,"",ze.SupersededByNewNavigation),this.currentTransition?.id===Ge.id&&(this.currentNavigation=null,this.currentTransition=null)}),(0,_e.W)(qt=>{if(sn=!0,Jr(qt))this.events.next(new Kt(Ge.id,this.urlSerializer.serialize(Ge.extractedUrl),qt.message,qt.cancellationCode)),function Ea(A){return Jr(A)&&mn(A.url)}(qt)?this.events.next(new Ns(qt.url)):Ge.resolve(!1);else{this.events.next(new yn(Ge.id,this.urlSerializer.serialize(Ge.extractedUrl),qt,Ge.targetSnapshot??void 0));try{Ge.resolve(B.errorHandler(qt))}catch(Ln){this.options.resolveNavigationPromiseOnError?Ge.resolve(!1):Ge.reject(Ln)}}return w.w}))}))}cancelNavigationTransition(B,Z,be){const Ge=new Kt(B.id,this.urlSerializer.serialize(B.extractedUrl),Z,be);this.events.next(Ge),B.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(Z){return new(Z||A)}}static{this.\u0275prov=i.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}}return A})();function Pe(A){return A!==$e}let Dt=(()=>{class A{static{this.\u0275fac=function(Z){return new(Z||A)}}static{this.\u0275prov=i.jDH({token:A,factory:()=>(0,i.WQX)(En),providedIn:"root"})}}return A})();class hn{shouldDetach(V){return!1}store(V,B){}shouldAttach(V){return!1}retrieve(V){return null}shouldReuseRoute(V,B){return V.routeConfig===B.routeConfig}}let En=(()=>{class A extends hn{static{this.\u0275fac=(()=>{let B;return function(be){return(B||(B=i.xGo(A)))(be||A)}})()}static{this.\u0275prov=i.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}}return A})(),qn=(()=>{class A{static{this.\u0275fac=function(Z){return new(Z||A)}}static{this.\u0275prov=i.jDH({token:A,factory:()=>(0,i.WQX)(dr),providedIn:"root"})}}return A})(),dr=(()=>{class A extends qn{constructor(){super(...arguments),this.location=(0,i.WQX)(U.aZ),this.urlSerializer=(0,i.WQX)(ht),this.options=(0,i.WQX)(Lo,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,i.WQX)(lo),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new ve,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=ai(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(B){return this.location.subscribe(Z=>{"popstate"===Z.type&&B(Z.url,Z.state)})}handleRouterEvent(B,Z){if(B instanceof de)this.stateMemento=this.createStateMemento();else if(B instanceof gn)this.rawUrlTree=Z.initialUrl;else if(B instanceof ti){if("eager"===this.urlUpdateStrategy&&!Z.extras.skipLocationChange){const be=this.urlHandlingStrategy.merge(Z.finalUrl,Z.initialUrl);this.setBrowserUrl(be,Z)}}else B instanceof ms?(this.currentUrlTree=Z.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(Z.finalUrl,Z.initialUrl),this.routerState=Z.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Z.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Z))):B instanceof Kt&&(B.code===ze.GuardRejected||B.code===ze.NoDataFromResolver)?this.restoreHistory(Z):B instanceof yn?this.restoreHistory(Z,!0):B instanceof ue&&(this.lastSuccessfulId=B.id,this.currentPageId=this.browserPageId)}setBrowserUrl(B,Z){const be=this.urlSerializer.serialize(B);if(this.location.isCurrentPathEqualTo(be)||Z.extras.replaceUrl){const vt={...Z.extras.state,...this.generateNgRouterState(Z.id,this.browserPageId)};this.location.replaceState(be,"",vt)}else{const Ge={...Z.extras.state,...this.generateNgRouterState(Z.id,this.browserPageId+1)};this.location.go(be,"",Ge)}}restoreHistory(B,Z=!1){if("computed"===this.canceledNavigationResolution){const Ge=this.currentPageId-this.browserPageId;0!==Ge?this.location.historyGo(Ge):this.currentUrlTree===B.finalUrl&&0===Ge&&(this.resetState(B),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(Z&&this.resetState(B),this.resetUrlToCurrentUrlTree())}resetState(B){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,B.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(B,Z){return"computed"===this.canceledNavigationResolution?{navigationId:B,\u0275routerPageId:Z}:{navigationId:B}}static{this.\u0275fac=(()=>{let B;return function(be){return(B||(B=i.xGo(A)))(be||A)}})()}static{this.\u0275prov=i.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}}return A})();var sr=function(A){return A[A.COMPLETE=0]="COMPLETE",A[A.FAILED=1]="FAILED",A[A.REDIRECTING=2]="REDIRECTING",A}(sr||{});function Yi(A,V){A.events.pipe((0,Q.p)(B=>B instanceof ue||B instanceof Kt||B instanceof yn||B instanceof gn),(0,G.T)(B=>B instanceof ue||B instanceof gn?sr.COMPLETE:B instanceof Kt&&(B.code===ze.Redirect||B.code===ze.SupersededByNewNavigation)?sr.REDIRECTING:sr.FAILED),(0,Q.p)(B=>B!==sr.REDIRECTING),(0,le.s)(1)).subscribe(()=>{V()})}function Ui(A){throw A}const ii={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Xi={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let cr=(()=>{class A{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=(0,i.WQX)(i.H3F),this.stateManager=(0,i.WQX)(qn),this.options=(0,i.WQX)(Lo,{optional:!0})||{},this.pendingTasks=(0,i.WQX)(i.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,i.WQX)(fe),this.urlSerializer=(0,i.WQX)(ht),this.location=(0,i.WQX)(U.aZ),this.urlHandlingStrategy=(0,i.WQX)(lo),this._events=new $.B,this.errorHandler=this.options.errorHandler||Ui,this.navigated=!1,this.routeReuseStrategy=(0,i.WQX)(Dt),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,i.WQX)(So,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,i.WQX)(lr,{optional:!0}),this.eventsSubscription=new R.yU,this.isNgZoneEnabled=(0,i.WQX)(i.SKi)instanceof i.SKi&&i.SKi.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:B=>{this.console.warn(B)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const B=this.navigationTransitions.events.subscribe(Z=>{try{const be=this.navigationTransitions.currentTransition,Ge=this.navigationTransitions.currentNavigation;if(null!==be&&null!==Ge)if(this.stateManager.handleRouterEvent(Z,Ge),Z instanceof Kt&&Z.code!==ze.Redirect&&Z.code!==ze.SupersededByNewNavigation)this.navigated=!0;else if(Z instanceof ue)this.navigated=!0;else if(Z instanceof Ns){const vt=this.urlHandlingStrategy.merge(Z.url,be.currentRawUrl),sn={info:be.extras.info,skipLocationChange:be.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Pe(be.source)};this.scheduleNavigation(vt,$e,null,sn,{resolve:be.resolve,reject:be.reject,promise:be.promise})}(function P(A){return!(A instanceof ms||A instanceof Ns)})(Z)&&this._events.next(Z)}catch(be){this.navigationTransitions.transitionAbortSubject.next(be)}});this.eventsSubscription.add(B)}resetRootComponentType(B){this.routerState.root.component=B,this.navigationTransitions.rootComponentType=B}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),$e,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((B,Z)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(B,"popstate",Z)},0)})}navigateToSyncWithBrowser(B,Z,be){const Ge={replaceUrl:!0},vt=be?.navigationId?be:null;if(be){const qt={...be};delete qt.navigationId,delete qt.\u0275routerPageId,0!==Object.keys(qt).length&&(Ge.state=qt)}const sn=this.parseUrl(B);this.scheduleNavigation(sn,Z,vt,Ge)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(B){this.config=B.map(rr),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(B,Z={}){const{relativeTo:be,queryParams:Ge,fragment:vt,queryParamsHandling:sn,preserveFragment:qt}=Z,Ln=qt?this.currentUrlTree.fragment:vt;let Pi,Oi=null;switch(sn){case"merge":Oi={...this.currentUrlTree.queryParams,...Ge};break;case"preserve":Oi=this.currentUrlTree.queryParams;break;default:Oi=Ge||null}null!==Oi&&(Oi=this.removeEmptyProps(Oi));try{Pi=An(be?be.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof B[0]||!B[0].startsWith("/"))&&(B=[]),Pi=this.currentUrlTree.root}return fn(Pi,B,Oi,Ln??null)}navigateByUrl(B,Z={skipLocationChange:!1}){const be=mn(B)?B:this.parseUrl(B),Ge=this.urlHandlingStrategy.merge(be,this.rawUrlTree);return this.scheduleNavigation(Ge,$e,null,Z)}navigate(B,Z={skipLocationChange:!1}){return function ye(A){for(let V=0;V<A.length;V++)if(null==A[V])throw new i.wOt(4008,!1)}(B),this.navigateByUrl(this.createUrlTree(B,Z),Z)}serializeUrl(B){return this.urlSerializer.serialize(B)}parseUrl(B){try{return this.urlSerializer.parse(B)}catch{return this.urlSerializer.parse("/")}}isActive(B,Z){let be;if(be=!0===Z?{...ii}:!1===Z?{...Xi}:Z,mn(B))return Ot(this.currentUrlTree,B,be);const Ge=this.parseUrl(B);return Ot(this.currentUrlTree,Ge,be)}removeEmptyProps(B){return Object.entries(B).reduce((Z,[be,Ge])=>(null!=Ge&&(Z[be]=Ge),Z),{})}scheduleNavigation(B,Z,be,Ge,vt){if(this.disposed)return Promise.resolve(!1);let sn,qt,Ln;vt?(sn=vt.resolve,qt=vt.reject,Ln=vt.promise):Ln=new Promise((Pi,ur)=>{sn=Pi,qt=ur});const Oi=this.pendingTasks.add();return Yi(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Oi))}),this.navigationTransitions.handleNavigationRequest({source:Z,restoredState:be,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:B,extras:Ge,resolve:sn,reject:qt,promise:Ln,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ln.catch(Pi=>Promise.reject(Pi))}static{this.\u0275fac=function(Z){return new(Z||A)}}static{this.\u0275prov=i.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}}return A})(),pe=(()=>{class A{constructor(B,Z,be,Ge,vt,sn){this.router=B,this.route=Z,this.tabIndexAttribute=be,this.renderer=Ge,this.el=vt,this.locationStrategy=sn,this.href=null,this.commands=null,this.onChanges=new $.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const qt=vt.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===qt||"area"===qt,this.isAnchorElement?this.subscription=B.events.subscribe(Ln=>{Ln instanceof ue&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(B){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",B)}ngOnChanges(B){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(B){null!=B?(this.commands=Array.isArray(B)?B:[B],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(B,Z,be,Ge,vt){const sn=this.urlTree;return!!(null===sn||this.isAnchorElement&&(0!==B||Z||be||Ge||vt||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(sn,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const B=this.urlTree;this.href=null!==B&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(B)):null;const Z=null===this.href?null:(0,i.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",Z)}applyAttributeValue(B,Z){const be=this.renderer,Ge=this.el.nativeElement;null!==Z?be.setAttribute(Ge,B,Z):be.removeAttribute(Ge,B)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(Z){return new(Z||A)(i.rXU(cr),i.rXU(jn),i.kS0("tabindex"),i.rXU(i.sFG),i.rXU(i.aKT),i.rXU(U.hb))}}static{this.\u0275dir=i.FsC({type:A,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(Z,be){1&Z&&i.bIt("click",function(vt){return be.onClick(vt.button,vt.ctrlKey,vt.shiftKey,vt.altKey,vt.metaKey)}),2&Z&&i.BMQ("target",be.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[i.Mj6.HasDecoratorInputTransform,"preserveFragment","preserveFragment",i.L39],skipLocationChange:[i.Mj6.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",i.L39],replaceUrl:[i.Mj6.HasDecoratorInputTransform,"replaceUrl","replaceUrl",i.L39],routerLink:"routerLink"},standalone:!0,features:[i.GFd,i.OA$]})}}return A})(),ke=(()=>{class A{get isActive(){return this._isActive}constructor(B,Z,be,Ge,vt){this.router=B,this.element=Z,this.renderer=be,this.cdr=Ge,this.link=vt,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new i.bkB,this.routerEventsSubscription=B.events.subscribe(sn=>{sn instanceof ue&&this.update()})}ngAfterContentInit(){(0,g.of)(this.links.changes,(0,g.of)(null)).pipe((0,Fe.U)()).subscribe(B=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const B=[...this.links.toArray(),this.link].filter(Z=>!!Z).map(Z=>Z.onChanges);this.linkInputChangesSubscription=(0,_.H)(B).pipe((0,Fe.U)()).subscribe(Z=>{this._isActive!==this.isLinkActive(this.router)(Z)&&this.update()})}set routerLinkActive(B){const Z=Array.isArray(B)?B:B.split(" ");this.classes=Z.filter(be=>!!be)}ngOnChanges(B){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const B=this.hasActiveLinks();this.classes.forEach(Z=>{B?this.renderer.addClass(this.element.nativeElement,Z):this.renderer.removeClass(this.element.nativeElement,Z)}),B&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==B&&(this._isActive=B,this.cdr.markForCheck(),this.isActiveChange.emit(B))})}isLinkActive(B){const Z=function ot(A){return!!A.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return be=>{const Ge=be.urlTree;return!!Ge&&B.isActive(Ge,Z)}}hasActiveLinks(){const B=this.isLinkActive(this.router);return this.link&&B(this.link)||this.links.some(B)}static{this.\u0275fac=function(Z){return new(Z||A)(i.rXU(cr),i.rXU(i.aKT),i.rXU(i.sFG),i.rXU(i.gRc),i.rXU(pe,8))}}static{this.\u0275dir=i.FsC({type:A,selectors:[["","routerLinkActive",""]],contentQueries:function(Z,be,Ge){if(1&Z&&i.wni(Ge,pe,5),2&Z){let vt;i.mGM(vt=i.lsd())&&(be.links=vt)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[i.OA$]})}}return A})();class Mt{}let rn=(()=>{class A{constructor(B,Z,be,Ge,vt){this.router=B,this.injector=be,this.preloadingStrategy=Ge,this.loader=vt}setUpPreloading(){this.subscription=this.router.events.pipe((0,Q.p)(B=>B instanceof ue),(0,oe.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(B,Z){const be=[];for(const Ge of Z){Ge.providers&&!Ge._injector&&(Ge._injector=(0,i.Ol2)(Ge.providers,B,`Route: ${Ge.path}`));const vt=Ge._injector??B,sn=Ge._loadedInjector??vt;(Ge.loadChildren&&!Ge._loadedRoutes&&void 0===Ge.canLoad||Ge.loadComponent&&!Ge._loadedComponent)&&be.push(this.preloadConfig(vt,Ge)),(Ge.children||Ge._loadedRoutes)&&be.push(this.processRoutes(sn,Ge.children??Ge._loadedRoutes))}return(0,_.H)(be).pipe((0,Fe.U)())}preloadConfig(B,Z){return this.preloadingStrategy.preload(Z,()=>{let be;be=Z.loadChildren&&void 0===Z.canLoad?this.loader.loadChildren(B,Z):(0,g.of)(null);const Ge=be.pipe((0,te.Z)(vt=>null===vt?(0,g.of)(void 0):(Z._loadedRoutes=vt.routes,Z._loadedInjector=vt.injector,this.processRoutes(vt.injector??B,vt.routes))));if(Z.loadComponent&&!Z._loadedComponent){const vt=this.loader.loadComponent(Z);return(0,_.H)([Ge,vt]).pipe((0,Fe.U)())}return Ge})}static{this.\u0275fac=function(Z){return new(Z||A)(i.KVO(cr),i.KVO(i.Ql9),i.KVO(i.uvJ),i.KVO(Mt),i.KVO(Kr))}}static{this.\u0275prov=i.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}}return A})();const bn=new i.nKC("");let ei=(()=>{class A{constructor(B,Z,be,Ge,vt={}){this.urlSerializer=B,this.transitions=Z,this.viewportScroller=be,this.zone=Ge,this.options=vt,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},vt.scrollPositionRestoration||="disabled",vt.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(B=>{B instanceof de?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=B.navigationTrigger,this.restoredId=B.restoredState?B.restoredState.navigationId:0):B instanceof ue?(this.lastId=B.id,this.scheduleScrollEvent(B,this.urlSerializer.parse(B.urlAfterRedirects).fragment)):B instanceof gn&&B.code===Wt.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(B,this.urlSerializer.parse(B.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(B=>{B instanceof Ks&&(B.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(B.position):B.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(B.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(B,Z){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ks(B,"popstate"===this.lastSource?this.store[this.restoredId]:null,Z))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(Z){i.QTQ()}}static{this.\u0275prov=i.jDH({token:A,factory:A.\u0275fac})}}return A})();function mi(A,V){return{\u0275kind:A,\u0275providers:V}}function as(){const A=(0,i.WQX)(i.zZn);return V=>{const B=A.get(i.o8S);if(V!==B.components[0])return;const Z=A.get(cr),be=A.get(Mo);1===A.get(ha)&&Z.initialNavigation(),A.get(Ri,null,i.$GK.Optional)?.setUpPreloading(),A.get(bn,null,i.$GK.Optional)?.init(),Z.resetRootComponentType(B.componentTypes[0]),be.closed||(be.next(),be.complete(),be.unsubscribe())}}const Mo=new i.nKC("",{factory:()=>new $.B}),ha=new i.nKC("",{providedIn:"root",factory:()=>1}),Ri=new i.nKC("");function Ra(A){return mi(0,[{provide:Ri,useExisting:rn},{provide:Mt,useExisting:A}])}function ws(A){return mi(9,[{provide:Ai,useValue:ne},{provide:bs,useValue:{skipNextTransition:!!A?.skipInitialTransition,...A}}])}const Ci=new i.nKC("ROUTER_FORROOT_GUARD"),es=[U.aZ,{provide:ht,useClass:Ft},cr,gs,{provide:jn,useFactory:function _r(A){return A.routerState.root},deps:[cr]},Kr,[]];let Ja=(()=>{class A{constructor(B){}static forRoot(B,Z){return{ngModule:A,providers:[es,[],{provide:So,multi:!0,useValue:B},{provide:Ci,useFactory:Qa,deps:[[cr,new i.Xx1,new i.kdw]]},{provide:Lo,useValue:Z||{}},Z?.useHash?{provide:U.hb,useClass:U.fw}:{provide:U.hb,useClass:U.Sm},{provide:bn,useFactory:()=>{const A=(0,i.WQX)(U.Xr),V=(0,i.WQX)(i.SKi),B=(0,i.WQX)(Lo),Z=(0,i.WQX)(fe),be=(0,i.WQX)(ht);return B.scrollOffset&&A.setOffset(B.scrollOffset),new ei(be,Z,A,V,B)}},Z?.preloadingStrategy?Ra(Z.preloadingStrategy).\u0275providers:[],Z?.initialNavigation?_l(Z):[],Z?.bindToComponentInputs?mi(8,[kr,{provide:lr,useExisting:kr}]).\u0275providers:[],Z?.enableViewTransitions?ws().\u0275providers:[],[{provide:Ve,useFactory:as},{provide:i.iLQ,multi:!0,useExisting:Ve}]]}}static forChild(B){return{ngModule:A,providers:[{provide:So,multi:!0,useValue:B}]}}static{this.\u0275fac=function(Z){return new(Z||A)(i.KVO(Ci,8))}}static{this.\u0275mod=i.$C({type:A})}static{this.\u0275inj=i.G2t({})}}return A})();function Qa(A){return"guarded"}function _l(A){return["disabled"===A.initialNavigation?mi(3,[{provide:i.hnV,multi:!0,useFactory:()=>{const V=(0,i.WQX)(cr);return()=>{V.setUpLocationChangeListener()}}},{provide:ha,useValue:2}]).\u0275providers:[],"enabledBlocking"===A.initialNavigation?mi(2,[{provide:ha,useValue:0},{provide:i.hnV,multi:!0,deps:[i.zZn],useFactory:V=>{const B=V.get(U.hj,Promise.resolve());return()=>B.then(()=>new Promise(Z=>{const be=V.get(cr),Ge=V.get(Mo);Yi(be,()=>{Z(!0)}),V.get(fe).afterPreactivation=()=>(Z(!0),Ge.closed?(0,g.of)(void 0):Ge),be.initialNavigation()}))}}]).\u0275providers:[]]}const Ve=new i.nKC("")},7005:(et,me,u)=>{"use strict";u.d(me,{xq:()=>we,XE:()=>Se,tl:()=>Lt,QG:()=>Ye,wY:()=>Je});var i=u(4438),e=u(1583),_=u(9350),g=u(7707),v=u(1985),f=u(1413),d=u(2771),E=u(7673),m=u(6648),F=u(4402),w=u(5964),C=u(9974),R=u(4360),O=u(1397),H=u(6354),x=u(1780),$=u(177),U=u(1626);const G=new i.nKC("LOCALIZE_ROUTER_FORROOT_GUARD"),ie=new i.nKC("RAW_ROUTES");var le=function(at){return at.LocalStorage="LocalStorage",at.SessionStorage="SessionStorage",at.Cookie="Cookie",at}(le||{});const L=new i.nKC("USE_CACHED_LANG"),Q=new i.nKC("CACHE_MECHANISM"),te=new i.nKC("CACHE_NAME"),I=new i.nKC("COOKIE_FORMAT"),oe=new i.nKC("INITIAL_NAVIGATION"),Y=new i.nKC("DEFAULT_LANG_FUNCTION"),_e=new i.nKC("ALWAYS_SET_PREFIX");let Je=(()=>{class at{constructor(pt=!0,it=!0,Ht=le.LocalStorage,en="LOCALIZE_DEFAULT_LANGUAGE",rt=void 0,Nt="{{value}};{{expires}}",ve=!1){this.useCachedLang=pt,this.alwaysSetPrefix=it,this.cacheName=en,this.cookieFormat=Nt,this.initialNavigation=ve,this.cacheMechanism=Ht,this.defaultLangFunction=rt}}return at.\u0275fac=function(pt){return new(pt||at)(i.KVO(L),i.KVO(_e),i.KVO(Q),i.KVO(te),i.KVO(Y),i.KVO(I),i.KVO(oe))},at.\u0275prov=i.jDH({token:at,factory:at.\u0275fac}),at})(),we=(()=>{class at{constructor(pt,it,Ht){this.translate=pt,this.location=it,this.settings=Ht}init(pt){let it;if(this.routes=pt,!this.locales||!this.locales.length)return Promise.resolve();const Ht=this.getLocationLang(),en=this._getBrowserLang();this.defaultLang=this.settings.defaultLangFunction?this.settings.defaultLangFunction(this.locales,this._cachedLang,en):this._cachedLang||en||this.locales[0],it=Ht||this.defaultLang,this.translate.setDefaultLang(this.defaultLang);let rt=[];if(this.settings.alwaysSetPrefix){const Nt={path:"",redirectTo:this.defaultLang,pathMatch:"full"},ve=pt.findIndex(ae=>"**"===ae.path);-1!==ve&&(this._wildcardRoute=pt.splice(ve,1)[0]),rt=this.routes.splice(0,this.routes.length,Nt)}else rt=[...this.routes];for(let Nt=rt.length-1;Nt>=0;Nt--)rt[Nt].data&&rt[Nt].data.skipRouteLocalization&&(this.settings.alwaysSetPrefix&&this.routes.push(rt[Nt]),(void 0===rt[Nt].redirectTo||!rt[Nt].data.skipRouteLocalization.localizeRedirectTo)&&rt.splice(Nt,1));return rt&&rt.length&&(this.locales.length>1||this.settings.alwaysSetPrefix)&&(this._languageRoute={children:rt},this.routes.unshift(this._languageRoute)),this._wildcardRoute&&this.settings.alwaysSetPrefix&&this.routes.push(this._wildcardRoute),function S(at,Ot){const pt="object"==typeof Ot;return new Promise((it,Ht)=>{const en=new g.Ms({next:rt=>{it(rt),en.unsubscribe()},error:Ht,complete:()=>{pt?it(Ot.defaultValue):Ht(new _.G)}});at.subscribe(en)})}(this.translateRoutes(it))}initChildRoutes(pt){return this._translateRouteTree(pt),pt}translateRoutes(pt){return new v.c(it=>{this._cachedLang=pt,this._languageRoute&&(this._languageRoute.path=pt),this.translate.use(pt).subscribe(Ht=>{this._translationObject=Ht,this.currentLang=pt,this._languageRoute?(this._translateRouteTree(this._languageRoute.children,!0),this._wildcardRoute&&this._wildcardRoute.redirectTo&&this._translateProperty(this._wildcardRoute,"redirectTo",!0)):this._translateRouteTree(this.routes,!0),it.next(void 0),it.complete()})})}_translateRouteTree(pt,it){pt.forEach(Ht=>{const en=Ht.data&&Ht.data.skipRouteLocalization;if(Ht.redirectTo&&(!en||en.localizeRedirectTo)){const Nt=0===Ht.redirectTo.indexOf("/")||it;this._translateProperty(Ht,"redirectTo",Nt)}en||(null!=Ht.path&&this._translateProperty(Ht,"path"),Ht.children&&this._translateRouteTree(Ht.children),Ht.loadChildren&&Ht._loadedRoutes?.length&&this._translateRouteTree(Ht._loadedRoutes))})}_translateProperty(pt,it,Ht){const en=pt.data=pt.data||{};en.localizeRouter||(en.localizeRouter={}),en.localizeRouter[it]||(en.localizeRouter={...en.localizeRouter,[it]:pt[it]});const rt=this.translateRoute(en.localizeRouter[it]);pt[it]=Ht?this.addPrefixToUrl(rt):rt}get urlPrefix(){return this.settings.alwaysSetPrefix||this.currentLang!==this.defaultLang?this.currentLang?this.currentLang:this.defaultLang:""}addPrefixToUrl(pt){const it=pt.split("?"),Ht=1===it[0].length&&"/"===it[0];it[0]=it[0].replace(/\/$/,"");const en=it.join("?");return""===this.urlPrefix?en:en.startsWith("/")||Ht?`/${this.urlPrefix}${en}`:`${this.urlPrefix}/${en}`}translateRoute(pt){const it=pt.split("?");if(it.length>2)throw Error("There should be only one query parameter block in the URL");return it[0].split("/").map(en=>en.length?this.translateText(en):en).join("/")+(it.length>1?`?${it[1]}`:"")}getLocationLang(pt){const it=(pt||this.location.path()).split(/[\?;]/);let Ht=[];return it.length>0&&(Ht=it[0].split("/")),Ht.length>1&&-1!==this.locales.indexOf(Ht[1])?Ht[1]:Ht.length&&-1!==this.locales.indexOf(Ht[0])?Ht[0]:null}_getBrowserLang(){return this._returnIfInLocales(this.translate.getBrowserLang())}get _cachedLang(){if(this.settings.useCachedLang){if(this.settings.cacheMechanism===le.LocalStorage)return this._cacheWithLocalStorage();if(this.settings.cacheMechanism===le.SessionStorage)return this._cacheWithSessionStorage();if(this.settings.cacheMechanism===le.Cookie)return this._cacheWithCookies()}}set _cachedLang(pt){this.settings.useCachedLang&&(this.settings.cacheMechanism===le.LocalStorage&&this._cacheWithLocalStorage(pt),this.settings.cacheMechanism===le.SessionStorage&&this._cacheWithSessionStorage(pt),this.settings.cacheMechanism===le.Cookie&&this._cacheWithCookies(pt))}_cacheWithLocalStorage(pt){try{if(typeof window>"u"||typeof window.localStorage>"u")return;return pt?void window.localStorage.setItem(this.settings.cacheName,pt):this._returnIfInLocales(window.localStorage.getItem(this.settings.cacheName))}catch{return}}_cacheWithSessionStorage(pt){try{if(typeof window>"u"||typeof window.sessionStorage>"u")return;return pt?void window.sessionStorage.setItem(this.settings.cacheName,pt):this._returnIfInLocales(window.sessionStorage.getItem(this.settings.cacheName))}catch{return}}_cacheWithCookies(pt){try{if(typeof document>"u"||typeof document.cookie>"u")return;const it=encodeURIComponent(this.settings.cacheName);if(pt){let rt=`${this.settings.cookieFormat}`;return rt=rt.replace("{{value}}",`${it}=${encodeURIComponent(pt)}`).replace(/{{expires:?(\d+)?}}/g,(Nt,ve)=>{const ae=void 0===ve?30:parseInt(ve,10),j=new Date;return j.setTime(j.getTime()+864e5*ae),`expires=${j.toUTCString()}`}),void(document.cookie=rt)}const en=new RegExp("(?:^"+it+"|;\\s*"+it+")=(.*?)(?:;|$)","g").exec(document.cookie);return decodeURIComponent(en[1])}catch{return}}_returnIfInLocales(pt){return pt&&-1!==this.locales.indexOf(pt)?pt:null}translateText(pt){if(this.escapePrefix&&pt.startsWith(this.escapePrefix))return pt.replace(this.escapePrefix,"");{if(!this._translationObject)return pt;const it=this.prefix+pt,Ht=this.translate.getParsedResult(this._translationObject,it);return Ht!==it?Ht:pt}}chooseQueryParams(pt,it){let Ht;return pt&&pt.queryParams?Ht=pt.queryParams:it&&(Ht=it),Ht}formatQueryParams(pt){return new U.Nl({fromObject:pt}).toString()}getPrefix(){return this.prefix}getEscapePrefix(){return this.escapePrefix}}return at.\u0275fac=function(pt){return new(pt||at)(i.KVO(x.c$),i.KVO($.aZ),i.KVO(Je))},at.\u0275prov=i.jDH({token:at,factory:at.\u0275fac}),at})(),Le=(()=>{class at extends we{load(pt){return new Promise(it=>{this.init(pt).then(it)})}}return at.\u0275fac=(()=>{let Ot;return function(it){return(Ot||(Ot=i.xGo(at)))(it||at)}})(),at.\u0275prov=i.jDH({token:at,factory:at.\u0275fac}),at})();function Ae(at,Ot){if(at===Ot)return!0;if(null===at||null===Ot)return!1;if(at!=at&&Ot!=Ot)return!0;const pt=typeof at;let Ht,en,rt;if(pt===typeof Ot&&"object"===pt){if(!Array.isArray(at)){if(Array.isArray(Ot))return!1;for(en in rt=Object.create(null),at)if(at.hasOwnProperty(en)){if(!Ae(at[en],Ot[en]))return!1;rt[en]=!0}for(en in Ot)if(Ot.hasOwnProperty(en)&&!(en in rt)&&typeof Ot[en]<"u")return!1;return!0}if(!Array.isArray(Ot))return!1;if((Ht=at.length)===Ot.length){for(en=0;en<Ht;en++)if(!Ae(at[en],Ot[en]))return!1;return!0}}return!1}function Fe(at){const Ot=Array.isArray(at)?[]:{};for(const pt in at)if(pt){const it=at[pt];Ot[pt]="object"==typeof it?Fe(it):it}return Ot}let Ye=(()=>{class at{constructor(pt,it,Ht,en){this.parser=pt,this.settings=it,this.router=Ht,this.route=en,this.routerEvents=new f.B;const rt=new d.m(1);this.hooks={_initializedSubject:rt,initialized:rt.asObservable()}}init(){this.applyConfigToRouter(this.parser.routes),this.router.events.pipe((0,w.p)(pt=>pt instanceof e.Z),function k(){return(0,C.N)((at,Ot)=>{let pt,it=!1;at.subscribe((0,R._)(Ot,Ht=>{const en=pt;pt=Ht,it&&Ot.next([en,Ht]),it=!0}))})}()).subscribe(this._routeChanged()),this.settings.initialNavigation&&this.router.initialNavigation()}changeLanguage(pt,it,Ht){if(pt!==this.parser.currentLang){const en=this.router.routerState.snapshot.root;this.parser.translateRoutes(pt).subscribe(()=>{let rt=this.traverseRouteSnapshot(en);if(rt=this.translateRoute(rt),!this.settings.alwaysSetPrefix){let ae=rt.split("/");const j=ae.indexOf(this.parser.currentLang);if(this.parser.currentLang===this.parser.defaultLang)(0===j||1===j&&""===ae[0])&&(ae=ae.slice(0,j).concat(ae.slice(j+1)));else if(-1===j){const se=""===ae[0]?1:0;ae=ae.slice(0,se).concat(this.parser.currentLang,ae.slice(se))}rt=ae.join("/")}rt=rt.replace(/\/+/g,"/");const Nt=rt.lastIndexOf("/");Nt>0&&Nt===rt.length-1&&(rt=rt.slice(0,-1));const ve=this.parser.chooseQueryParams(it,this.route.snapshot.queryParams);if(this.applyConfigToRouter(this.parser.routes),this.lastExtras=it,Ht){const ae=it?{...it}:{};ve&&(ae.queryParams=ve),this.router.navigate([rt],ae)}else{let ae=this.parser.formatQueryParams(ve);ae=ae?`?${ae}`:"",this.router.navigateByUrl(`${rt}${ae}`,it)}})}}traverseRouteSnapshot(pt){return pt.firstChild&&pt.routeConfig?`${this.parseSegmentValue(pt)}/${this.traverseRouteSnapshot(pt.firstChild)}`:pt.firstChild?this.traverseRouteSnapshot(pt.firstChild):this.parseSegmentValue(pt)}buildUrlFromSegments(pt,it){return it.map((Ht,en)=>0===Ht.indexOf(":")?pt.url[en].path:Ht).join("/")}parseSegmentValue(pt){if(pt.routeConfig&&pt.routeConfig.matcher){const it=this.parseSegmentValueMatcher(pt);return this.buildUrlFromSegments(pt,it)}if(pt.data.localizeRouter){const Ht=pt.data.localizeRouter.path.split("/");return this.buildUrlFromSegments(pt,Ht)}if(pt.parent&&pt.parent.parent){const Ht=pt.routeConfig.path.split("/");return this.buildUrlFromSegments(pt,Ht)}return""}parseSegmentValueMatcher(pt){const it=pt.data&&pt.data.localizeMatcher&&pt.data.localizeMatcher.params||{};return pt.url.map(en=>{const rt=en.path,Nt=en.localizedParamName;return(Nt&&it[Nt]?it[Nt](rt):null)||`${this.parser.getEscapePrefix()}${rt}`})}translateRoute(pt){if("string"==typeof pt){const Ht=this.parser.translateRoute(pt);return pt.indexOf("/")?Ht:this.parser.addPrefixToUrl(Ht)}const it=[];return pt.forEach((Ht,en)=>{if("string"==typeof Ht){const rt=this.parser.translateRoute(Ht);en||Ht.indexOf("/")?it.push(rt):it.push(this.parser.addPrefixToUrl(rt))}else it.push(Ht)}),it}_routeChanged(){return([pt,it])=>{const Ht=this.parser.getLocationLang(pt.url)||this.parser.defaultLang,en=this.parser.getLocationLang(it.url)||this.parser.defaultLang,rt=this.lastExtras;en!==Ht&&this.latestUrl!==it.url&&(this.latestUrl=it.url,this.cancelCurrentNavigation(),this.parser.translateRoutes(en).subscribe(()=>{this.applyConfigToRouter(this.parser.routes),this.lastExtras=void 0,this.router.navigateByUrl(it.url,rt),this.routerEvents.next(en)})),this.latestUrl=it.url}}cancelCurrentNavigation(){const pt=this.router.getCurrentNavigation(),it=this.router.serializeUrl(pt.extractedUrl);this.router.events.next(new e.j5(pt.id,it,"")),this.router.navigationTransitions.transitions.next({...this.router.navigationTransitions.transitions.getValue(),id:0})}applyConfigToRouter(pt){this.router.resetConfig(Fe(pt))}}return at.\u0275fac=function(pt){return new(pt||at)(i.KVO(we),i.KVO(Je),i.KVO(e.Ix),i.KVO(e.nX))},at.\u0275prov=i.jDH({token:at,factory:at.\u0275fac}),at})(),Lt=(()=>{class at{constructor(pt,it){this.localize=pt,this._ref=it,this.value="",this.subscription=this.localize.routerEvents.subscribe(()=>{this.transform(this.lastKey)})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}transform(pt){if(!pt||0===pt.length||!this.localize.parser.currentLang)return pt;if(Ae(pt,this.lastKey)&&Ae(this.lastLanguage,this.localize.parser.currentLang))return this.value;this.lastKey=pt,this.lastLanguage=this.localize.parser.currentLang,this.value=this.localize.translateRoute(pt),this.lastKey=pt;const it=this._ref._view;return it&&128&it.state||setTimeout(()=>{this._ref.detectChanges()},0),this.value}}return at.\u0275fac=function(pt){return new(pt||at)(i.rXU(Ye,16),i.rXU(i.gRc,16))},at.\u0275pipe=i.EJ8({name:"localize",type:at,pure:!1}),at})();class Et{constructor(){}shouldDetach(Ot){return!1}store(Ot,pt){}shouldAttach(Ot){return!1}retrieve(Ot){return null}shouldReuseRoute(Ot,pt){return!(!Ot||!pt)&&this.getKey(Ot)===this.getKey(pt)}getKey(Ot){if(Ot.firstChild&&Ot.firstChild.routeConfig&&Ot.firstChild.routeConfig.path&&-1!==Ot.firstChild.routeConfig.path.indexOf("**"))return"WILDCARD";if(!(Ot.data.localizeRouter||Ot.parent&&Ot.parent.parent||Ot.data.skipRouteLocalization))return"LANG";if(Ot.routeConfig.matcher){let pt=`${this.getKey(Ot.parent)}/${Ot.routeConfig.matcher.name}`;return Ot.data.discriminantPathKey&&(pt=`${pt}-${Ot.data.discriminantPathKey}`),pt}if(Ot.data.localizeRouter){let pt=`${this.getKey(Ot.parent)}/${Ot.data.localizeRouter.path}`;return Ot.data.discriminantPathKey&&(pt=`${pt}-${Ot.data.discriminantPathKey}`),pt}{let pt=Ot.routeConfig.path;return Ot.parent&&(pt=`${this.getKey(Ot.parent)}/${Ot.routeConfig.path}`),Ot.data.discriminantPathKey&&(pt=`${pt}-${Ot.data.discriminantPathKey}`),pt}}}let _t=(()=>{class at extends e.Ix{constructor(){super(),this.platformId=(0,i.WQX)(i.Agw),this.compiler=(0,i.WQX)(i.Ql9),this.localize=(0,i.WQX)(we),((0,$.UE)(this.platformId)?this.navigationTransitions.configLoader.__proto__:this.navigationTransitions.configLoader).loadModuleFactoryOrRoutes=Ht=>function J(at){return(0,F.A)(at)?at:function st(at){return!!at&&"function"==typeof at.then}(at)?(0,m.H)(Promise.resolve(at)):(0,E.of)(at)}(Ht()).pipe((0,O.Z)(en=>{let rt;return rt=en instanceof i.Co$||Array.isArray(en)?(0,E.of)(en):(0,m.H)(this.compiler.compileModuleAsync(en)),rt.pipe((0,H.T)(Nt=>Array.isArray(Nt)?Nt:{moduleType:Nt.moduleType,create:ve=>{const ae=Nt.create(ve),j=ae.injector.get.bind(ae.injector);return ae.injector.get=(se,Be,qe)=>{const ht=j(se,Be,qe);return se===e.bw?this.localize.initChildRoutes([].concat(...ht)):ht},ae}}))}))}}return at.\u0275fac=function(pt){return new(pt||at)},at.\u0275prov=i.jDH({token:at,factory:at.\u0275fac,providedIn:"root"}),at})(),X=(()=>{class at{constructor(pt){this.injector=pt}appInitializer(){return this.parser.load(this.routes).then(()=>{const it=this.injector.get(Ye),Ht=this.injector.get(e.Ix),en=this.injector.get(Je);if(it.init(),en.initialNavigation)return new Promise(rt=>{const Nt=Ht.navigationTransitions.afterPreactivation;let ve=!0;Ht.navigationTransitions.afterPreactivation=()=>(ve&&(rt(),ve=!1,it.hooks._initializedSubject.next(!0),it.hooks._initializedSubject.complete()),Nt())});it.hooks._initializedSubject.next(!0),it.hooks._initializedSubject.complete()})}generateInitializer(pt,it){return this.parser=pt,this.routes=it.reduce((Ht,en)=>Ht.concat(en)),this.appInitializer}}return at.\u0275fac=function(pt){return new(pt||at)(i.KVO(i.zZn))},at.\u0275prov=i.jDH({token:at,factory:at.\u0275fac}),at})();function q(at,Ot,pt){const it=Fe(pt);return at.generateInitializer(Ot,it).bind(at)}let Se=(()=>{class at{static forRoot(pt,it={}){return{ngModule:at,providers:[{provide:e.Ix,useClass:_t},{provide:G,useFactory:Ee,deps:[[at,new i.Xx1,new i.kdw]]},{provide:L,useValue:it.useCachedLang},{provide:_e,useValue:it.alwaysSetPrefix},{provide:te,useValue:it.cacheName},{provide:Q,useValue:it.cacheMechanism},{provide:Y,useValue:it.defaultLangFunction},{provide:I,useValue:it.cookieFormat},{provide:oe,useValue:it.initialNavigation},Je,it.parser||{provide:we,useClass:Le},{provide:ie,multi:!0,useValue:pt},Ye,X,{provide:i.hnV,multi:!0,useFactory:q,deps:[X,we,ie]},{provide:e.b,useClass:Et}]}}static forChild(pt){return{ngModule:at,providers:[{provide:ie,multi:!0,useValue:pt}]}}}return at.\u0275fac=function(pt){return new(pt||at)},at.\u0275mod=i.$C({type:at}),at.\u0275inj=i.G2t({imports:[$.MD,e.iI,x.h]}),at})();function Ee(at){if(at)throw new Error("LocalizeRouterModule.forRoot() called twice. Lazy loaded modules should use LocalizeRouterModule.forChild() instead.");return"guarded"}},1780:(et,me,u)=>{"use strict";u.d(me,{D9:()=>Oe,Wr:()=>w,c$:()=>Y,h:()=>Re});var i=u(4438),e=u(7673),_=u(4402),g=u(7468),S=u(8793),v=u(9030),f=u(6697),d=u(9568),E=u(6354),m=u(274),F=u(5558);class w{}let C=(()=>{class xe extends w{getTranslation(Te){return(0,e.of)({})}}return xe.\u0275fac=(()=>{let Je;return function(we){return(Je||(Je=i.xGo(xe)))(we||xe)}})(),xe.\u0275prov=i.jDH({token:xe,factory:xe.\u0275fac}),xe})();class R{}let k=(()=>{class xe{handle(Te){return Te.key}}return xe.\u0275fac=function(Te){return new(Te||xe)},xe.\u0275prov=i.jDH({token:xe,factory:xe.\u0275fac}),xe})();function O(xe,Je){if(xe===Je)return!0;if(null===xe||null===Je)return!1;if(xe!=xe&&Je!=Je)return!0;let he,Le,Ae,Te=typeof xe;if(Te==typeof Je&&"object"==Te){if(!Array.isArray(xe)){if(Array.isArray(Je))return!1;for(Le in Ae=Object.create(null),xe){if(!O(xe[Le],Je[Le]))return!1;Ae[Le]=!0}for(Le in Je)if(!(Le in Ae)&&typeof Je[Le]<"u")return!1;return!0}if(!Array.isArray(Je))return!1;if((he=xe.length)==Je.length){for(Le=0;Le<he;Le++)if(!O(xe[Le],Je[Le]))return!1;return!0}}return!1}function H(xe){return typeof xe<"u"&&null!==xe}function x(xe){return xe&&"object"==typeof xe&&!Array.isArray(xe)}function $(xe,Je){let Te=Object.assign({},xe);return x(xe)&&x(Je)&&Object.keys(Je).forEach(we=>{x(Je[we])?we in xe?Te[we]=$(xe[we],Je[we]):Object.assign(Te,{[we]:Je[we]}):Object.assign(Te,{[we]:Je[we]})}),Te}class U{}let G=(()=>{class xe extends U{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(Te,we){let he;return he="string"==typeof Te?this.interpolateString(Te,we):"function"==typeof Te?this.interpolateFunction(Te,we):Te,he}getValue(Te,we){let he="string"==typeof we?we.split("."):[we];we="";do{we+=he.shift(),!H(Te)||!H(Te[we])||"object"!=typeof Te[we]&&he.length?he.length?we+=".":Te=void 0:(Te=Te[we],we="")}while(he.length);return Te}interpolateFunction(Te,we){return Te(we)}interpolateString(Te,we){return we?Te.replace(this.templateMatcher,(he,Le)=>{let Ae=this.getValue(we,Le);return H(Ae)?Ae:he}):Te}}return xe.\u0275fac=(()=>{let Je;return function(we){return(Je||(Je=i.xGo(xe)))(we||xe)}})(),xe.\u0275prov=i.jDH({token:xe,factory:xe.\u0275fac}),xe})();class ie{}let le=(()=>{class xe extends ie{compile(Te,we){return Te}compileTranslations(Te,we){return Te}}return xe.\u0275fac=(()=>{let Je;return function(we){return(Je||(Je=i.xGo(xe)))(we||xe)}})(),xe.\u0275prov=i.jDH({token:xe,factory:xe.\u0275fac}),xe})();class L{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new i.bkB,this.onLangChange=new i.bkB,this.onDefaultLangChange=new i.bkB}}const Q=new i.nKC("USE_STORE"),te=new i.nKC("USE_DEFAULT_LANG"),I=new i.nKC("DEFAULT_LANGUAGE"),oe=new i.nKC("USE_EXTEND");let Y=(()=>{class xe{constructor(Te,we,he,Le,Ae,st=!0,Fe=!1,ft=!1,Ye){this.store=Te,this.currentLoader=we,this.compiler=he,this.parser=Le,this.missingTranslationHandler=Ae,this.useDefaultLang=st,this.isolate=Fe,this.extend=ft,this.pending=!1,this._onTranslationChange=new i.bkB,this._onLangChange=new i.bkB,this._onDefaultLangChange=new i.bkB,this._langs=[],this._translations={},this._translationRequests={},Ye&&this.setDefaultLang(Ye)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(Te){this.isolate?this._defaultLang=Te:this.store.defaultLang=Te}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(Te){this.isolate?this._currentLang=Te:this.store.currentLang=Te}get langs(){return this.isolate?this._langs:this.store.langs}set langs(Te){this.isolate?this._langs=Te:this.store.langs=Te}get translations(){return this.isolate?this._translations:this.store.translations}set translations(Te){this.isolate?this._translations=Te:this.store.translations=Te}setDefaultLang(Te){if(Te===this.defaultLang)return;let we=this.retrieveTranslations(Te);typeof we<"u"?(null==this.defaultLang&&(this.defaultLang=Te),we.pipe((0,f.s)(1)).subscribe(he=>{this.changeDefaultLang(Te)})):this.changeDefaultLang(Te)}getDefaultLang(){return this.defaultLang}use(Te){if(Te===this.currentLang)return(0,e.of)(this.translations[Te]);let we=this.retrieveTranslations(Te);return typeof we<"u"?(this.currentLang||(this.currentLang=Te),we.pipe((0,f.s)(1)).subscribe(he=>{this.changeLang(Te)}),we):(this.changeLang(Te),(0,e.of)(this.translations[Te]))}retrieveTranslations(Te){let we;return(typeof this.translations[Te]>"u"||this.extend)&&(this._translationRequests[Te]=this._translationRequests[Te]||this.getTranslation(Te),we=this._translationRequests[Te]),we}getTranslation(Te){this.pending=!0;const we=this.currentLoader.getTranslation(Te).pipe((0,d.t)(1),(0,f.s)(1));return this.loadingTranslations=we.pipe((0,E.T)(he=>this.compiler.compileTranslations(he,Te)),(0,d.t)(1),(0,f.s)(1)),this.loadingTranslations.subscribe({next:he=>{this.translations[Te]=this.extend&&this.translations[Te]?{...he,...this.translations[Te]}:he,this.updateLangs(),this.pending=!1},error:he=>{this.pending=!1}}),we}setTranslation(Te,we,he=!1){we=this.compiler.compileTranslations(we,Te),this.translations[Te]=(he||this.extend)&&this.translations[Te]?$(this.translations[Te],we):we,this.updateLangs(),this.onTranslationChange.emit({lang:Te,translations:this.translations[Te]})}getLangs(){return this.langs}addLangs(Te){Te.forEach(we=>{-1===this.langs.indexOf(we)&&this.langs.push(we)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(Te,we,he){let Le;if(we instanceof Array){let Ae={},st=!1;for(let Fe of we)Ae[Fe]=this.getParsedResult(Te,Fe,he),(0,_.A)(Ae[Fe])&&(st=!0);if(st){const Fe=we.map(ft=>(0,_.A)(Ae[ft])?Ae[ft]:(0,e.of)(Ae[ft]));return(0,g.p)(Fe).pipe((0,E.T)(ft=>{let Ye={};return ft.forEach((zt,Lt)=>{Ye[we[Lt]]=zt}),Ye}))}return Ae}if(Te&&(Le=this.parser.interpolate(this.parser.getValue(Te,we),he)),typeof Le>"u"&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(Le=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],we),he)),typeof Le>"u"){let Ae={key:we,translateService:this};typeof he<"u"&&(Ae.interpolateParams=he),Le=this.missingTranslationHandler.handle(Ae)}return typeof Le<"u"?Le:we}get(Te,we){if(!H(Te)||!Te.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe((0,m.H)(he=>(he=this.getParsedResult(he,Te,we),(0,_.A)(he)?he:(0,e.of)(he))));{let he=this.getParsedResult(this.translations[this.currentLang],Te,we);return(0,_.A)(he)?he:(0,e.of)(he)}}getStreamOnTranslationChange(Te,we){if(!H(Te)||!Te.length)throw new Error('Parameter "key" required');return(0,S.x)((0,v.v)(()=>this.get(Te,we)),this.onTranslationChange.pipe((0,F.n)(he=>{const Le=this.getParsedResult(he.translations,Te,we);return"function"==typeof Le.subscribe?Le:(0,e.of)(Le)})))}stream(Te,we){if(!H(Te)||!Te.length)throw new Error('Parameter "key" required');return(0,S.x)((0,v.v)(()=>this.get(Te,we)),this.onLangChange.pipe((0,F.n)(he=>{const Le=this.getParsedResult(he.translations,Te,we);return(0,_.A)(Le)?Le:(0,e.of)(Le)})))}instant(Te,we){if(!H(Te)||!Te.length)throw new Error('Parameter "key" required');let he=this.getParsedResult(this.translations[this.currentLang],Te,we);if((0,_.A)(he)){if(Te instanceof Array){let Le={};return Te.forEach((Ae,st)=>{Le[Te[st]]=Te[st]}),Le}return Te}return he}set(Te,we,he=this.currentLang){this.translations[he][Te]=this.compiler.compile(we,he),this.updateLangs(),this.onTranslationChange.emit({lang:he,translations:this.translations[he]})}changeLang(Te){this.currentLang=Te,this.onLangChange.emit({lang:Te,translations:this.translations[Te]}),null==this.defaultLang&&this.changeDefaultLang(Te)}changeDefaultLang(Te){this.defaultLang=Te,this.onDefaultLangChange.emit({lang:Te,translations:this.translations[Te]})}reloadLang(Te){return this.resetLang(Te),this.getTranslation(Te)}resetLang(Te){this._translationRequests[Te]=void 0,this.translations[Te]=void 0}getBrowserLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let Te=window.navigator.languages?window.navigator.languages[0]:null;return Te=Te||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,typeof Te>"u"?void 0:(-1!==Te.indexOf("-")&&(Te=Te.split("-")[0]),-1!==Te.indexOf("_")&&(Te=Te.split("_")[0]),Te)}getBrowserCultureLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let Te=window.navigator.languages?window.navigator.languages[0]:null;return Te=Te||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,Te}}return xe.\u0275fac=function(Te){return new(Te||xe)(i.KVO(L),i.KVO(w),i.KVO(ie),i.KVO(U),i.KVO(R),i.KVO(te),i.KVO(Q),i.KVO(oe),i.KVO(I))},xe.\u0275prov=i.jDH({token:xe,factory:xe.\u0275fac}),xe})(),Oe=(()=>{class xe{constructor(Te,we){this.translate=Te,this._ref=we,this.value="",this.lastKey=null,this.lastParams=[]}updateValue(Te,we,he){let Le=Ae=>{this.value=void 0!==Ae?Ae:Te,this.lastKey=Te,this._ref.markForCheck()};if(he){let Ae=this.translate.getParsedResult(he,Te,we);(0,_.A)(Ae.subscribe)?Ae.subscribe(Le):Le(Ae)}this.translate.get(Te,we).subscribe(Le)}transform(Te,...we){if(!Te||!Te.length)return Te;if(O(Te,this.lastKey)&&O(we,this.lastParams))return this.value;let he;if(H(we[0])&&we.length)if("string"==typeof we[0]&&we[0].length){let Le=we[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{he=JSON.parse(Le)}catch{throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${we[0]}`)}}else"object"==typeof we[0]&&!Array.isArray(we[0])&&(he=we[0]);return this.lastKey=Te,this.lastParams=we,this.updateValue(Te,he),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(Le=>{this.lastKey&&Le.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(Te,he,Le.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(Le=>{this.lastKey&&(this.lastKey=null,this.updateValue(Te,he,Le.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(Te,he))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return xe.\u0275fac=function(Te){return new(Te||xe)(i.rXU(Y,16),i.rXU(i.gRc,16))},xe.\u0275pipe=i.EJ8({name:"translate",type:xe,pure:!1}),xe.\u0275prov=i.jDH({token:xe,factory:xe.\u0275fac}),xe})(),Re=(()=>{class xe{static forRoot(Te={}){return{ngModule:xe,providers:[Te.loader||{provide:w,useClass:C},Te.compiler||{provide:ie,useClass:le},Te.parser||{provide:U,useClass:G},Te.missingTranslationHandler||{provide:R,useClass:k},L,{provide:Q,useValue:Te.isolate},{provide:te,useValue:Te.useDefaultLang},{provide:oe,useValue:Te.extend},{provide:I,useValue:Te.defaultLanguage},Y]}}static forChild(Te={}){return{ngModule:xe,providers:[Te.loader||{provide:w,useClass:C},Te.compiler||{provide:ie,useClass:le},Te.parser||{provide:U,useClass:G},Te.missingTranslationHandler||{provide:R,useClass:k},{provide:Q,useValue:Te.isolate},{provide:te,useValue:Te.useDefaultLang},{provide:oe,useValue:Te.extend},{provide:I,useValue:Te.defaultLanguage},Y]}}}return xe.\u0275fac=function(Te){return new(Te||xe)},xe.\u0275mod=i.$C({type:xe}),xe.\u0275inj=i.G2t({}),xe})()},4549:(et,me,u)=>{"use strict";u.d(me,{c9:()=>ii,wB:()=>ct});class i extends Error{}class e extends i{constructor(P){super(`Invalid DateTime: ${P.toMessage()}`)}}class _ extends i{constructor(P){super(`Invalid Interval: ${P.toMessage()}`)}}class g extends i{constructor(P){super(`Invalid Duration: ${P.toMessage()}`)}}class S extends i{}class v extends i{constructor(P){super(`Invalid unit ${P}`)}}class f extends i{}class d extends i{constructor(){super("Zone is an abstract class")}}const E="numeric",m="short",F="long",w={year:E,month:E,day:E},C={year:E,month:m,day:E},R={year:E,month:m,day:E,weekday:m},k={year:E,month:F,day:E},O={year:E,month:F,day:E,weekday:F},H={hour:E,minute:E},x={hour:E,minute:E,second:E},$={hour:E,minute:E,second:E,timeZoneName:m},U={hour:E,minute:E,second:E,timeZoneName:F},G={hour:E,minute:E,hourCycle:"h23"},ie={hour:E,minute:E,second:E,hourCycle:"h23"},le={hour:E,minute:E,second:E,hourCycle:"h23",timeZoneName:m},L={hour:E,minute:E,second:E,hourCycle:"h23",timeZoneName:F},Q={year:E,month:E,day:E,hour:E,minute:E},te={year:E,month:E,day:E,hour:E,minute:E,second:E},I={year:E,month:m,day:E,hour:E,minute:E},oe={year:E,month:m,day:E,hour:E,minute:E,second:E},Y={year:E,month:m,day:E,weekday:m,hour:E,minute:E},_e={year:E,month:F,day:E,hour:E,minute:E,timeZoneName:m},Oe={year:E,month:F,day:E,hour:E,minute:E,second:E,timeZoneName:m},Re={year:E,month:F,day:E,weekday:F,hour:E,minute:E,timeZoneName:F},xe={year:E,month:F,day:E,weekday:F,hour:E,minute:E,second:E,timeZoneName:F};class Je{get type(){throw new d}get name(){throw new d}get ianaName(){return this.name}get isUniversal(){throw new d}offsetName(P,pe){throw new d}formatOffset(P,pe){throw new d}offset(P){throw new d}equals(P){throw new d}get isValid(){throw new d}}let Te=null;class we extends Je{static get instance(){return null===Te&&(Te=new we),Te}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(P,{format:pe,locale:ke}){return Kt(P,pe,ke)}formatOffset(P,pe){return vi(this.offset(P),pe)}offset(P){return-new Date(P).getTimezoneOffset()}equals(P){return"system"===P.type}get isValid(){return!0}}let he={};const Ae={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};let ft={};class Ye extends Je{static create(P){return ft[P]||(ft[P]=new Ye(P)),ft[P]}static resetCache(){ft={},he={}}static isValidSpecifier(P){return this.isValidZone(P)}static isValidZone(P){if(!P)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:P}).format(),!0}catch{return!1}}constructor(P){super(),this.zoneName=P,this.valid=Ye.isValidZone(P)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(P,{format:pe,locale:ke}){return Kt(P,pe,ke,this.name)}formatOffset(P,pe){return vi(this.offset(P),pe)}offset(P){const pe=new Date(P);if(isNaN(pe))return NaN;const ke=function Le(ye){return he[ye]||(he[ye]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:ye,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),he[ye]}(this.name);let[ot,Mt,Ut,Zt,rn,bn,ei]=ke.formatToParts?function Fe(ye,P){const pe=ye.formatToParts(P),ke=[];for(let ot=0;ot<pe.length;ot++){const{type:Mt,value:Ut}=pe[ot],Zt=Ae[Mt];"era"===Mt?ke[Zt]=Ut:An(Zt)||(ke[Zt]=parseInt(Ut,10))}return ke}(ke,pe):function st(ye,P){const pe=ye.format(P).replace(/\u200E/g,""),ke=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(pe),[,ot,Mt,Ut,Zt,rn,bn,ei]=ke;return[Ut,ot,Mt,Zt,rn,bn,ei]}(ke,pe);"BC"===Zt&&(ot=1-Math.abs(ot));let mi=+pe;const jr=mi%1e3;return mi-=jr>=0?jr:1e3+jr,(de({year:ot,month:Mt,day:Ut,hour:24===rn?0:rn,minute:bn,second:ei,millisecond:0})-mi)/6e4}equals(P){return"iana"===P.type&&P.name===this.name}get isValid(){return this.valid}}let zt={},Et={};function _t(ye,P={}){const pe=JSON.stringify([ye,P]);let ke=Et[pe];return ke||(ke=new Intl.DateTimeFormat(ye,P),Et[pe]=ke),ke}let J={},q={},Ee=null,Ue={};function en(ye,P,pe,ke){const ot=ye.listingMode();return"error"===ot?null:"en"===ot?pe(P):ke(P)}class Nt{constructor(P,pe,ke){this.padTo=ke.padTo||0,this.floor=ke.floor||!1;const{padTo:ot,floor:Mt,...Ut}=ke;if(!pe||Object.keys(Ut).length>0){const Zt={useGrouping:!1,...ke};ke.padTo>0&&(Zt.minimumIntegerDigits=ke.padTo),this.inf=function X(ye,P={}){const pe=JSON.stringify([ye,P]);let ke=J[pe];return ke||(ke=new Intl.NumberFormat(ye,P),J[pe]=ke),ke}(P,Zt)}}format(P){if(this.inf){const pe=this.floor?Math.floor(P):P;return this.inf.format(pe)}return Ct(this.floor?Math.floor(P):St(P,3),this.padTo)}}class ve{constructor(P,pe,ke){let ot;if(this.opts=ke,this.originalZone=void 0,this.opts.timeZone)this.dt=P;else if("fixed"===P.zone.type){const Ut=P.offset/60*-1,Zt=Ut>=0?`Etc/GMT+${Ut}`:`Etc/GMT${Ut}`;0!==P.offset&&Ye.create(Zt).valid?(ot=Zt,this.dt=P):(ot="UTC",this.dt=0===P.offset?P:P.setZone("UTC").plus({minutes:P.offset}),this.originalZone=P.zone)}else"system"===P.zone.type?this.dt=P:"iana"===P.zone.type?(this.dt=P,ot=P.zone.name):(ot="UTC",this.dt=P.setZone("UTC").plus({minutes:P.offset}),this.originalZone=P.zone);const Mt={...this.opts};Mt.timeZone=Mt.timeZone||ot,this.dtf=_t(pe,Mt)}format(){return this.originalZone?this.formatToParts().map(({value:P})=>P).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const P=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?P.map(pe=>{if("timeZoneName"===pe.type){const ke=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...pe,value:ke}}return pe}):P}resolvedOptions(){return this.dtf.resolvedOptions()}}class ae{constructor(P,pe,ke){this.opts={style:"long",...ke},!pe&&Bi()&&(this.rtf=function Se(ye,P={}){const{base:pe,...ke}=P,ot=JSON.stringify([ye,ke]);let Mt=q[ot];return Mt||(Mt=new Intl.RelativeTimeFormat(ye,P),q[ot]=Mt),Mt}(P,ke))}format(P,pe){return this.rtf?this.rtf.format(P,pe):function Ni(ye,P,pe="always",ke=!1){const ot={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},Mt=-1===["hours","minutes","seconds"].indexOf(ye);if("auto"===pe&&Mt){const Vn="days"===ye;switch(P){case 1:return Vn?"tomorrow":`next ${ot[ye][0]}`;case-1:return Vn?"yesterday":`last ${ot[ye][0]}`;case 0:return Vn?"today":`this ${ot[ye][0]}`}}const Ut=Object.is(P,-0)||P<0,Zt=Math.abs(P),rn=1===Zt,bn=ot[ye],ei=ke?rn?bn[1]:bn[2]||bn[1]:rn?ot[ye][0]:ye;return Ut?`${Zt} ${ei} ago`:`in ${Zt} ${ei}`}(pe,P,this.opts.numeric,"long"!==this.opts.style)}formatToParts(P,pe){return this.rtf?this.rtf.formatToParts(P,pe):[]}}const j={firstDay:1,minimalDays:4,weekend:[6,7]};class se{static fromOpts(P){return se.create(P.locale,P.numberingSystem,P.outputCalendar,P.weekSettings,P.defaultToEN)}static create(P,pe,ke,ot,Mt=!1){const Ut=P||ct.defaultLocale,Zt=Ut||(Mt?"en-US":function lt(){return Ee||(Ee=(new Intl.DateTimeFormat).resolvedOptions().locale,Ee)}()),rn=pe||ct.defaultNumberingSystem,bn=ke||ct.defaultOutputCalendar,ei=Ti(ot)||ct.defaultWeekSettings;return new se(Zt,rn,bn,ei,Ut)}static resetCache(){Ee=null,Et={},J={},q={}}static fromObject({locale:P,numberingSystem:pe,outputCalendar:ke,weekSettings:ot}={}){return se.create(P,pe,ke,ot)}constructor(P,pe,ke,ot,Mt){const[Ut,Zt,rn]=function Ot(ye){const P=ye.indexOf("-x-");-1!==P&&(ye=ye.substring(0,P));const pe=ye.indexOf("-u-");if(-1===pe)return[ye];{let ke,ot;try{ke=_t(ye).resolvedOptions(),ot=ye}catch{const rn=ye.substring(0,pe);ke=_t(rn).resolvedOptions(),ot=rn}const{numberingSystem:Mt,calendar:Ut}=ke;return[ot,Mt,Ut]}}(P);this.locale=Ut,this.numberingSystem=pe||Zt||null,this.outputCalendar=ke||rn||null,this.weekSettings=ot,this.intl=function pt(ye,P,pe){return(pe||P)&&(ye.includes("-u-")||(ye+="-u"),pe&&(ye+=`-ca-${pe}`),P&&(ye+=`-nu-${P}`)),ye}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=Mt,this.fastNumbersCached=null}get fastNumbers(){return null==this.fastNumbersCached&&(this.fastNumbersCached=function rt(ye){return(!ye.numberingSystem||"latn"===ye.numberingSystem)&&("latn"===ye.numberingSystem||!ye.locale||ye.locale.startsWith("en")||"latn"===new Intl.DateTimeFormat(ye.intl).resolvedOptions().numberingSystem)}(this)),this.fastNumbersCached}listingMode(){return this.isEnglish()&&!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar)?"en":"intl"}clone(P){return P&&0!==Object.getOwnPropertyNames(P).length?se.create(P.locale||this.specifiedLocale,P.numberingSystem||this.numberingSystem,P.outputCalendar||this.outputCalendar,Ti(P.weekSettings)||this.weekSettings,P.defaultToEN||!1):this}redefaultToEN(P={}){return this.clone({...P,defaultToEN:!0})}redefaultToSystem(P={}){return this.clone({...P,defaultToEN:!1})}months(P,pe=!1){return en(this,P,ri,()=>{const ke=pe?{month:P,day:"numeric"}:{month:P},ot=pe?"format":"standalone";return this.monthsCache[ot][P]||(this.monthsCache[ot][P]=function it(ye){const P=[];for(let pe=1;pe<=12;pe++){const ke=ii.utc(2009,pe,1);P.push(ye(ke))}return P}(Mt=>this.extract(Mt,ke,"month"))),this.monthsCache[ot][P]})}weekdays(P,pe=!1){return en(this,P,Ks,()=>{const ke=pe?{weekday:P,year:"numeric",month:"long",day:"numeric"}:{weekday:P},ot=pe?"format":"standalone";return this.weekdaysCache[ot][P]||(this.weekdaysCache[ot][P]=function Ht(ye){const P=[];for(let pe=1;pe<=7;pe++){const ke=ii.utc(2016,11,13+pe);P.push(ye(ke))}return P}(Mt=>this.extract(Mt,ke,"weekday"))),this.weekdaysCache[ot][P]})}meridiems(){return en(this,void 0,()=>ms,()=>{if(!this.meridiemCache){const P={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[ii.utc(2016,11,13,9),ii.utc(2016,11,13,19)].map(pe=>this.extract(pe,P,"dayperiod"))}return this.meridiemCache})}eras(P){return en(this,P,gs,()=>{const pe={era:P};return this.eraCache[P]||(this.eraCache[P]=[ii.utc(-40,1,1),ii.utc(2017,1,1)].map(ke=>this.extract(ke,pe,"era"))),this.eraCache[P]})}extract(P,pe,ke){const Ut=this.dtFormatter(P,pe).formatToParts().find(Zt=>Zt.type.toLowerCase()===ke);return Ut?Ut.value:null}numberFormatter(P={}){return new Nt(this.intl,P.forceSimple||this.fastNumbers,P)}dtFormatter(P,pe={}){return new ve(P,this.intl,pe)}relFormatter(P={}){return new ae(this.intl,this.isEnglish(),P)}listFormatter(P={}){return function Lt(ye,P={}){const pe=JSON.stringify([ye,P]);let ke=zt[pe];return ke||(ke=new Intl.ListFormat(ye,P),zt[pe]=ke),ke}(this.intl,P)}isEnglish(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:Xn()?function at(ye){let P=Ue[ye];if(!P){const pe=new Intl.Locale(ye);P="getWeekInfo"in pe?pe.getWeekInfo():pe.weekInfo,Ue[ye]=P}return P}(this.locale):j}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(P){return this.locale===P.locale&&this.numberingSystem===P.numberingSystem&&this.outputCalendar===P.outputCalendar}}let Be=null;class qe extends Je{static get utcInstance(){return null===Be&&(Be=new qe(0)),Be}static instance(P){return 0===P?qe.utcInstance:new qe(P)}static parseSpecifier(P){if(P){const pe=P.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(pe)return new qe(gn(pe[1],pe[2]))}return null}constructor(P){super(),this.fixed=P}get type(){return"fixed"}get name(){return 0===this.fixed?"UTC":`UTC${vi(this.fixed,"narrow")}`}get ianaName(){return 0===this.fixed?"Etc/UTC":`Etc/GMT${vi(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(P,pe){return vi(this.fixed,pe)}get isUniversal(){return!0}offset(){return this.fixed}equals(P){return"fixed"===P.type&&P.fixed===this.fixed}get isValid(){return!0}}class ht extends Je{constructor(P){super(),this.zoneName=P}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Ft(ye,P){if(An(ye)||null===ye)return P;if(ye instanceof Je)return ye;if(function gi(ye){return"string"==typeof ye}(ye)){const ke=ye.toLowerCase();return"default"===ke?P:"local"===ke||"system"===ke?we.instance:"utc"===ke||"gmt"===ke?qe.utcInstance:qe.parseSpecifier(ke)||Ye.create(ye)}return fn(ye)?qe.instance(ye):"object"==typeof ye&&"offset"in ye&&"function"==typeof ye.offset?ye:new ht(ye)}let Rn,on=()=>Date.now(),un="system",Mn=null,kn=null,Bn=null,Tt=60,Gt=null;class ct{static get now(){return on}static set now(P){on=P}static set defaultZone(P){un=P}static get defaultZone(){return Ft(un,we.instance)}static get defaultLocale(){return Mn}static set defaultLocale(P){Mn=P}static get defaultNumberingSystem(){return kn}static set defaultNumberingSystem(P){kn=P}static get defaultOutputCalendar(){return Bn}static set defaultOutputCalendar(P){Bn=P}static get defaultWeekSettings(){return Gt}static set defaultWeekSettings(P){Gt=Ti(P)}static get twoDigitCutoffYear(){return Tt}static set twoDigitCutoffYear(P){Tt=P%100}static get throwOnInvalid(){return Rn}static set throwOnInvalid(P){Rn=P}static resetCaches(){se.resetCache(),Ye.resetCache()}}class yt{constructor(P,pe){this.reason=P,this.explanation=pe}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const mt=[0,31,59,90,120,151,181,212,243,273,304,334],xt=[0,31,60,91,121,152,182,213,244,274,305,335];function tn(ye,P){return new yt("unit out of range",`you specified ${P} (of type ${typeof P}) as a ${ye}, which is invalid`)}function Sn(ye,P,pe){const ke=new Date(Date.UTC(ye,P-1,pe));ye<100&&ye>=0&&ke.setUTCFullYear(ke.getUTCFullYear()-1900);const ot=ke.getUTCDay();return 0===ot?7:ot}function Un(ye,P,pe){return pe+($e(ye)?xt:mt)[P-1]}function cn(ye,P){const pe=$e(ye)?xt:mt,ke=pe.findIndex(Mt=>Mt<P);return{month:ke+1,day:P-pe[ke]}}function di(ye,P){return(ye-P+7)%7+1}function li(ye,P=4,pe=1){const{year:ke,month:ot,day:Mt}=ye,Ut=Un(ke,ot,Mt),Zt=di(Sn(ke,ot,Mt),pe);let bn,rn=Math.floor((Ut-Zt+14-P)/7);return rn<1?(bn=ke-1,rn=ze(bn,P,pe)):rn>ze(ke,P,pe)?(bn=ke+1,rn=1):bn=ke,{weekYear:bn,weekNumber:rn,weekday:Zt,...bi(ye)}}function At(ye,P=4,pe=1){const{weekYear:ke,weekNumber:ot,weekday:Mt}=ye,Ut=di(Sn(ke,1,P),pe),Zt=Qe(ke);let bn,rn=7*ot+Mt-Ut-7+P;rn<1?(bn=ke-1,rn+=Qe(bn)):rn>Zt?(bn=ke+1,rn-=Qe(ke)):bn=ke;const{month:ei,day:Vn}=cn(bn,rn);return{year:bn,month:ei,day:Vn,...bi(ye)}}function dt(ye){const{year:P,month:pe,day:ke}=ye;return{year:P,ordinal:Un(P,pe,ke),...bi(ye)}}function kt(ye){const{year:P,ordinal:pe}=ye,{month:ke,day:ot}=cn(P,pe);return{year:P,month:ke,day:ot,...bi(ye)}}function jt(ye,P){if(An(ye.localWeekday)&&An(ye.localWeekNumber)&&An(ye.localWeekYear))return{minDaysInFirstWeek:4,startOfWeek:1};if(!An(ye.weekday)||!An(ye.weekNumber)||!An(ye.weekYear))throw new S("Cannot mix locale-based week fields with ISO-based week fields");return An(ye.localWeekday)||(ye.weekday=ye.localWeekday),An(ye.localWeekNumber)||(ye.weekNumber=ye.localWeekNumber),An(ye.localWeekYear)||(ye.weekYear=ye.localWeekYear),delete ye.localWeekday,delete ye.localWeekNumber,delete ye.localWeekYear,{minDaysInFirstWeek:P.getMinDaysInFirstWeek(),startOfWeek:P.getStartOfWeek()}}function mn(ye){const P=ci(ye.year),pe=nt(ye.month,1,12),ke=nt(ye.day,1,K(ye.year,ye.month));return P?pe?!ke&&tn("day",ye.day):tn("month",ye.month):tn("year",ye.year)}function zn(ye){const{hour:P,minute:pe,second:ke,millisecond:ot}=ye,Mt=nt(P,0,23)||24===P&&0===pe&&0===ke&&0===ot,Ut=nt(pe,0,59),Zt=nt(ke,0,59),rn=nt(ot,0,999);return Mt?Ut?Zt?!rn&&tn("millisecond",ot):tn("second",ke):tn("minute",pe):tn("hour",P)}function An(ye){return typeof ye>"u"}function fn(ye){return"number"==typeof ye}function ci(ye){return"number"==typeof ye&&ye%1==0}function Bi(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function Xn(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function pi(ye,P,pe){if(0!==ye.length)return ye.reduce((ke,ot)=>{const Mt=[P(ot),ot];return ke&&pe(ke[0],Mt[0])===ke[0]?ke:Mt},null)[1]}function ji(ye,P){return Object.prototype.hasOwnProperty.call(ye,P)}function Ti(ye){if(null==ye)return null;if("object"!=typeof ye)throw new f("Week settings must be an object");if(!nt(ye.firstDay,1,7)||!nt(ye.minimalDays,1,7)||!Array.isArray(ye.weekend)||ye.weekend.some(P=>!nt(P,1,7)))throw new f("Invalid week settings");return{firstDay:ye.firstDay,minimalDays:ye.minimalDays,weekend:Array.from(ye.weekend)}}function nt(ye,P,pe){return ci(ye)&&ye>=P&&ye<=pe}function Ct(ye,P=2){let ke;return ke=ye<0?"-"+(""+-ye).padStart(P,"0"):(""+ye).padStart(P,"0"),ke}function nn(ye){if(!An(ye)&&null!==ye&&""!==ye)return parseInt(ye,10)}function Qt(ye){if(!An(ye)&&null!==ye&&""!==ye)return parseFloat(ye)}function Tn(ye){if(!An(ye)&&null!==ye&&""!==ye){const P=1e3*parseFloat("0."+ye);return Math.floor(P)}}function St(ye,P,pe=!1){const ke=10**P;return(pe?Math.trunc:Math.round)(ye*ke)/ke}function $e(ye){return ye%4==0&&(ye%100!=0||ye%400==0)}function Qe(ye){return $e(ye)?366:365}function K(ye,P){const pe=function It(ye,P){return ye-P*Math.floor(ye/P)}(P-1,12)+1;return 2===pe?$e(ye+(P-pe)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][pe-1]}function de(ye){let P=Date.UTC(ye.year,ye.month-1,ye.day,ye.hour,ye.minute,ye.second,ye.millisecond);return ye.year<100&&ye.year>=0&&(P=new Date(P),P.setUTCFullYear(ye.year,ye.month-1,ye.day)),+P}function ue(ye,P,pe){return-di(Sn(ye,1,P),pe)+P-1}function ze(ye,P=4,pe=1){const ke=ue(ye,P,pe),ot=ue(ye+1,P,pe);return(Qe(ye)-ke+ot)/7}function Wt(ye){return ye>99?ye:ye>ct.twoDigitCutoffYear?1900+ye:2e3+ye}function Kt(ye,P,pe,ke=null){const ot=new Date(ye),Mt={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};ke&&(Mt.timeZone=ke);const Ut={timeZoneName:P,...Mt},Zt=new Intl.DateTimeFormat(pe,Ut).formatToParts(ot).find(rn=>"timezonename"===rn.type.toLowerCase());return Zt?Zt.value:null}function gn(ye,P){let pe=parseInt(ye,10);Number.isNaN(pe)&&(pe=0);const ke=parseInt(P,10)||0;return 60*pe+(pe<0||Object.is(pe,-0)?-ke:ke)}function yn(ye){const P=Number(ye);if("boolean"==typeof ye||""===ye||Number.isNaN(P))throw new f(`Invalid unit value ${ye}`);return P}function ti(ye,P){const pe={};for(const ke in ye)if(ji(ye,ke)){const ot=ye[ke];if(null==ot)continue;pe[P(ke)]=yn(ot)}return pe}function vi(ye,P){const pe=Math.trunc(Math.abs(ye/60)),ke=Math.trunc(Math.abs(ye%60)),ot=ye>=0?"+":"-";switch(P){case"short":return`${ot}${Ct(pe,2)}:${Ct(ke,2)}`;case"narrow":return`${ot}${pe}${ke>0?`:${ke}`:""}`;case"techie":return`${ot}${Ct(pe,2)}${Ct(ke,2)}`;default:throw new RangeError(`Value format ${P} is out of range for property format`)}}function bi(ye){return function Gi(ye,P){return P.reduce((pe,ke)=>(pe[ke]=ye[ke],pe),{})}(ye,["hour","minute","second","millisecond"])}const Ki=["January","February","March","April","May","June","July","August","September","October","November","December"],Dr=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Gn=["J","F","M","A","M","J","J","A","S","O","N","D"];function ri(ye){switch(ye){case"narrow":return[...Gn];case"short":return[...Dr];case"long":return[...Ki];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const ar=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],xi=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Mr=["M","T","W","T","F","S","S"];function Ks(ye){switch(ye){case"narrow":return[...Mr];case"short":return[...xi];case"long":return[...ar];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const ms=["AM","PM"],Ns=["Before Christ","Anno Domini"],yi=["BC","AD"],Us=["B","A"];function gs(ye){switch(ye){case"narrow":return[...Us];case"short":return[...yi];case"long":return[...Ns];default:return null}}function ai(ye,P){let pe="";for(const ke of ye)pe+=ke.literal?ke.val:P(ke.val);return pe}const zo={D:w,DD:C,DDD:k,DDDD:O,t:H,tt:x,ttt:$,tttt:U,T:G,TT:ie,TTT:le,TTTT:L,f:Q,ff:I,fff:_e,ffff:Re,F:te,FF:oe,FFF:Oe,FFFF:xe};class jn{static create(P,pe={}){return new jn(P,pe)}static parseFormat(P){let pe=null,ke="",ot=!1;const Mt=[];for(let Ut=0;Ut<P.length;Ut++){const Zt=P.charAt(Ut);"'"===Zt?(ke.length>0&&Mt.push({literal:ot||/^\s+$/.test(ke),val:ke}),pe=null,ke="",ot=!ot):ot||Zt===pe?ke+=Zt:(ke.length>0&&Mt.push({literal:/^\s+$/.test(ke),val:ke}),ke=Zt,pe=Zt)}return ke.length>0&&Mt.push({literal:ot||/^\s+$/.test(ke),val:ke}),Mt}static macroTokenToFormatOpts(P){return zo[P]}constructor(P,pe){this.opts=pe,this.loc=P,this.systemLoc=null}formatWithSystemDefault(P,pe){return null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(P,{...this.opts,...pe}).format()}dtFormatter(P,pe={}){return this.loc.dtFormatter(P,{...this.opts,...pe})}formatDateTime(P,pe){return this.dtFormatter(P,pe).format()}formatDateTimeParts(P,pe){return this.dtFormatter(P,pe).formatToParts()}formatInterval(P,pe){return this.dtFormatter(P.start,pe).dtf.formatRange(P.start.toJSDate(),P.end.toJSDate())}resolvedOptions(P,pe){return this.dtFormatter(P,pe).resolvedOptions()}num(P,pe=0){if(this.opts.forceSimple)return Ct(P,pe);const ke={...this.opts};return pe>0&&(ke.padTo=pe),this.loc.numberFormatter(ke).format(P)}formatDateTimeFromString(P,pe){const ke="en"===this.loc.listingMode(),ot=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,Mt=(mi,jr)=>this.loc.extract(P,mi,jr),Ut=mi=>P.isOffsetFixed&&0===P.offset&&mi.allowZ?"Z":P.isValid?P.zone.formatOffset(P.ts,mi.format):"",rn=(mi,jr)=>ke?function gr(ye,P){return ri(P)[ye.month-1]}(P,mi):Mt(jr?{month:mi}:{month:mi,day:"numeric"},"month"),bn=(mi,jr)=>ke?function Os(ye,P){return Ks(P)[ye.weekday-1]}(P,mi):Mt(jr?{weekday:mi}:{weekday:mi,month:"long",day:"numeric"},"weekday"),ei=mi=>{const jr=jn.macroTokenToFormatOpts(mi);return jr?this.formatWithSystemDefault(P,jr):mi},Vn=mi=>ke?function vr(ye,P){return gs(P)[ye.year<0?0:1]}(P,mi):Mt({era:mi},"era");return ai(jn.parseFormat(pe),mi=>{switch(mi){case"S":return this.num(P.millisecond);case"u":case"SSS":return this.num(P.millisecond,3);case"s":return this.num(P.second);case"ss":return this.num(P.second,2);case"uu":return this.num(Math.floor(P.millisecond/10),2);case"uuu":return this.num(Math.floor(P.millisecond/100));case"m":return this.num(P.minute);case"mm":return this.num(P.minute,2);case"h":return this.num(P.hour%12==0?12:P.hour%12);case"hh":return this.num(P.hour%12==0?12:P.hour%12,2);case"H":return this.num(P.hour);case"HH":return this.num(P.hour,2);case"Z":return Ut({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return Ut({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return Ut({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return P.zone.offsetName(P.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return P.zone.offsetName(P.ts,{format:"long",locale:this.loc.locale});case"z":return P.zoneName;case"a":return ke?function Cr(ye){return ms[ye.hour<12?0:1]}(P):Mt({hour:"numeric",hourCycle:"h12"},"dayperiod");case"d":return ot?Mt({day:"numeric"},"day"):this.num(P.day);case"dd":return ot?Mt({day:"2-digit"},"day"):this.num(P.day,2);case"c":case"E":return this.num(P.weekday);case"ccc":return bn("short",!0);case"cccc":return bn("long",!0);case"ccccc":return bn("narrow",!0);case"EEE":return bn("short",!1);case"EEEE":return bn("long",!1);case"EEEEE":return bn("narrow",!1);case"L":return ot?Mt({month:"numeric",day:"numeric"},"month"):this.num(P.month);case"LL":return ot?Mt({month:"2-digit",day:"numeric"},"month"):this.num(P.month,2);case"LLL":return rn("short",!0);case"LLLL":return rn("long",!0);case"LLLLL":return rn("narrow",!0);case"M":return ot?Mt({month:"numeric"},"month"):this.num(P.month);case"MM":return ot?Mt({month:"2-digit"},"month"):this.num(P.month,2);case"MMM":return rn("short",!1);case"MMMM":return rn("long",!1);case"MMMMM":return rn("narrow",!1);case"y":return ot?Mt({year:"numeric"},"year"):this.num(P.year);case"yy":return ot?Mt({year:"2-digit"},"year"):this.num(P.year.toString().slice(-2),2);case"yyyy":return ot?Mt({year:"numeric"},"year"):this.num(P.year,4);case"yyyyyy":return ot?Mt({year:"numeric"},"year"):this.num(P.year,6);case"G":return Vn("short");case"GG":return Vn("long");case"GGGGG":return Vn("narrow");case"kk":return this.num(P.weekYear.toString().slice(-2),2);case"kkkk":return this.num(P.weekYear,4);case"W":return this.num(P.weekNumber);case"WW":return this.num(P.weekNumber,2);case"n":return this.num(P.localWeekNumber);case"nn":return this.num(P.localWeekNumber,2);case"ii":return this.num(P.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(P.localWeekYear,4);case"o":return this.num(P.ordinal);case"ooo":return this.num(P.ordinal,3);case"q":return this.num(P.quarter);case"qq":return this.num(P.quarter,2);case"X":return this.num(Math.floor(P.ts/1e3));case"x":return this.num(P.ts);default:return ei(mi)}})}formatDurationFromString(P,pe){const ke=rn=>{switch(rn[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},Mt=jn.parseFormat(pe),Ut=Mt.reduce((rn,{literal:bn,val:ei})=>bn?rn:rn.concat(ei),[]);return ai(Mt,(rn=>bn=>{const ei=ke(bn);return ei?this.num(rn.get(ei),bn.length):bn})(P.shiftTo(...Ut.map(ke).filter(rn=>rn))))}}const Xr=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function fr(...ye){const P=ye.reduce((pe,ke)=>pe+ke.source,"");return RegExp(`^${P}$`)}function wr(...ye){return P=>ye.reduce(([pe,ke,ot],Mt)=>{const[Ut,Zt,rn]=Mt(P,ot);return[{...pe,...Ut},Zt||ke,rn]},[{},null,1]).slice(0,2)}function Sr(ye,...P){if(null==ye)return[null,null];for(const[pe,ke]of P){const ot=pe.exec(ye);if(ot)return ke(ot)}return[null,null]}function xr(...ye){return(P,pe)=>{const ke={};let ot;for(ot=0;ot<ye.length;ot++)ke[ye[ot]]=nn(P[pe+ot]);return[ke,null,pe+ot]}}const Lr=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,er=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Hn=RegExp(`${er.source}(?:${Lr.source}?(?:\\[(${Xr.source})\\])?)?`),Gr=RegExp(`(?:T${Hn.source})?`),ro=xr("weekYear","weekNumber","weekDay"),Co=xr("year","ordinal"),yr=RegExp(`${er.source} ?(?:${Lr.source}|(${Xr.source}))?`),is=RegExp(`(?: ${yr.source})?`);function rs(ye,P,pe){const ke=ye[P];return An(ke)?pe:nn(ke)}function Jr(ye,P){return[{hours:rs(ye,P,0),minutes:rs(ye,P+1,0),seconds:rs(ye,P+2,0),milliseconds:Tn(ye[P+3])},null,P+4]}function mo(ye,P){const pe=!ye[P]&&!ye[P+1],ke=gn(ye[P+1],ye[P+2]);return[{},pe?null:qe.instance(ke),P+3]}function tr(ye,P){return[{},ye[P]?Ye.create(ye[P]):null,P+1]}const Qr=RegExp(`^T?${er.source}$`),Po=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Yo(ye){const[P,pe,ke,ot,Mt,Ut,Zt,rn,bn]=ye,ei="-"===P[0],Vn=rn&&"-"===rn[0],_r=(mi,jr=!1)=>void 0!==mi&&(jr||mi&&ei)?-mi:mi;return[{years:_r(Qt(pe)),months:_r(Qt(ke)),weeks:_r(Qt(ot)),days:_r(Qt(Mt)),hours:_r(Qt(Ut)),minutes:_r(Qt(Zt)),seconds:_r(Qt(rn),"-0"===rn),milliseconds:_r(Tn(bn),Vn)}]}const so={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function oo(ye,P,pe,ke,ot,Mt,Ut){const Zt={year:2===P.length?Wt(nn(P)):nn(P),month:Dr.indexOf(pe)+1,day:nn(ke),hour:nn(ot),minute:nn(Mt)};return Ut&&(Zt.second=nn(Ut)),ye&&(Zt.weekday=ye.length>3?ar.indexOf(ye)+1:xi.indexOf(ye)+1),Zt}const Ao=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Es(ye){const[,P,pe,ke,ot,Mt,Ut,Zt,rn,bn,ei,Vn]=ye,_r=oo(P,ot,ke,pe,Mt,Ut,Zt);let mi;return mi=rn?so[rn]:bn?0:gn(ei,Vn),[_r,new qe(mi)]}const rr=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Or=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,ss=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function ao(ye){const[,P,pe,ke,ot,Mt,Ut,Zt]=ye;return[oo(P,ot,ke,pe,Mt,Ut,Zt),qe.utcInstance]}function Ta(ye){const[,P,pe,ke,ot,Mt,Ut,Zt]=ye;return[oo(P,Zt,pe,ke,ot,Mt,Ut),qe.utcInstance]}const Ts=fr(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Gr),si=fr(/(\d{4})-?W(\d\d)(?:-?(\d))?/,Gr),Hr=fr(/(\d{4})-?(\d{3})/,Gr),Vs=fr(Hn),pr=wr(function Ea(ye,P){return[{year:rs(ye,P),month:rs(ye,P+1,1),day:rs(ye,P+2,1)},null,P+3]},Jr,mo,tr),js=wr(ro,Jr,mo,tr),Fr=wr(Co,Jr,mo,tr),Ur=wr(Jr,mo,tr),je=wr(Jr),tt=fr(/(\d{4})-(\d\d)-(\d\d)/,is),Pt=fr(yr),Kn=wr(Jr,mo,tr),os="Invalid Duration",ys={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},Jn={years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6},...ys},Me=365.2425,Xe=30.436875,wt={years:{quarters:4,months:12,weeks:Me/7,days:Me,hours:24*Me,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:Me/28,days:Me/4,hours:24*Me/4,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:Xe/7,days:Xe,hours:24*Xe,minutes:43829.1,seconds:2629746,milliseconds:2629746e3},...ys},Rt=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],Bt=Rt.slice(0).reverse();function bt(ye,P,pe=!1){const ke={values:pe?P.values:{...ye.values,...P.values||{}},loc:ye.loc.clone(P.loc),conversionAccuracy:P.conversionAccuracy||ye.conversionAccuracy,matrix:P.matrix||ye.matrix};return new Nn(ke)}function dn(ye,P){let pe=P.milliseconds??0;for(const ke of Bt.slice(1))P[ke]&&(pe+=P[ke]*ye[ke].milliseconds);return pe}function Jt(ye,P){const pe=dn(ye,P)<0?-1:1;Rt.reduceRight((ke,ot)=>{if(An(P[ot]))return ke;if(ke){const Ut=ye[ot][ke],Zt=Math.floor(P[ke]*pe/Ut);P[ot]+=Zt*pe,P[ke]-=Zt*Ut*pe}return ot},null),Rt.reduce((ke,ot)=>{if(An(P[ot]))return ke;if(ke){const Mt=P[ke]%1;P[ke]-=Mt,P[ot]+=Mt*ye[ke][ot]}return ot},null)}class Nn{constructor(P){const pe="longterm"===P.conversionAccuracy||!1;let ke=pe?wt:Jn;P.matrix&&(ke=P.matrix),this.values=P.values,this.loc=P.loc||se.create(),this.conversionAccuracy=pe?"longterm":"casual",this.invalid=P.invalid||null,this.matrix=ke,this.isLuxonDuration=!0}static fromMillis(P,pe){return Nn.fromObject({milliseconds:P},pe)}static fromObject(P,pe={}){if(null==P||"object"!=typeof P)throw new f("Duration.fromObject: argument expected to be an object, got "+(null===P?"null":typeof P));return new Nn({values:ti(P,Nn.normalizeUnit),loc:se.fromObject(pe),conversionAccuracy:pe.conversionAccuracy,matrix:pe.matrix})}static fromDurationLike(P){if(fn(P))return Nn.fromMillis(P);if(Nn.isDuration(P))return P;if("object"==typeof P)return Nn.fromObject(P);throw new f(`Unknown duration argument ${P} of type ${typeof P}`)}static fromISO(P,pe){const[ke]=function Ne(ye){return Sr(ye,[Po,Yo])}(P);return ke?Nn.fromObject(ke,pe):Nn.invalid("unparsable",`the input "${P}" can't be parsed as ISO 8601`)}static fromISOTime(P,pe){const[ke]=function ge(ye){return Sr(ye,[Qr,je])}(P);return ke?Nn.fromObject(ke,pe):Nn.invalid("unparsable",`the input "${P}" can't be parsed as ISO 8601`)}static invalid(P,pe=null){if(!P)throw new f("need to specify a reason the Duration is invalid");const ke=P instanceof yt?P:new yt(P,pe);if(ct.throwOnInvalid)throw new g(ke);return new Nn({invalid:ke})}static normalizeUnit(P){const pe={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[P&&P.toLowerCase()];if(!pe)throw new v(P);return pe}static isDuration(P){return P&&P.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(P,pe={}){const ke={...pe,floor:!1!==pe.round&&!1!==pe.floor};return this.isValid?jn.create(this.loc,ke).formatDurationFromString(this,P):os}toHuman(P={}){if(!this.isValid)return os;const pe=Rt.map(ke=>{const ot=this.values[ke];return An(ot)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...P,unit:ke.slice(0,-1)}).format(ot)}).filter(ke=>ke);return this.loc.listFormatter({type:"conjunction",style:P.listStyle||"narrow",...P}).format(pe)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let P="P";return 0!==this.years&&(P+=this.years+"Y"),(0!==this.months||0!==this.quarters)&&(P+=this.months+3*this.quarters+"M"),0!==this.weeks&&(P+=this.weeks+"W"),0!==this.days&&(P+=this.days+"D"),(0!==this.hours||0!==this.minutes||0!==this.seconds||0!==this.milliseconds)&&(P+="T"),0!==this.hours&&(P+=this.hours+"H"),0!==this.minutes&&(P+=this.minutes+"M"),(0!==this.seconds||0!==this.milliseconds)&&(P+=St(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===P&&(P+="T0S"),P}toISOTime(P={}){if(!this.isValid)return null;const pe=this.toMillis();return pe<0||pe>=864e5?null:(P={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...P,includeOffset:!1},ii.fromMillis(pe,{zone:"UTC"}).toISOTime(P))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?dn(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(P){if(!this.isValid)return this;const pe=Nn.fromDurationLike(P),ke={};for(const ot of Rt)(ji(pe.values,ot)||ji(this.values,ot))&&(ke[ot]=pe.get(ot)+this.get(ot));return bt(this,{values:ke},!0)}minus(P){if(!this.isValid)return this;const pe=Nn.fromDurationLike(P);return this.plus(pe.negate())}mapUnits(P){if(!this.isValid)return this;const pe={};for(const ke of Object.keys(this.values))pe[ke]=yn(P(this.values[ke],ke));return bt(this,{values:pe},!0)}get(P){return this[Nn.normalizeUnit(P)]}set(P){return this.isValid?bt(this,{values:{...this.values,...ti(P,Nn.normalizeUnit)}}):this}reconfigure({locale:P,numberingSystem:pe,conversionAccuracy:ke,matrix:ot}={}){return bt(this,{loc:this.loc.clone({locale:P,numberingSystem:pe}),matrix:ot,conversionAccuracy:ke})}as(P){return this.isValid?this.shiftTo(P).get(P):NaN}normalize(){if(!this.isValid)return this;const P=this.toObject();return Jt(this.matrix,P),bt(this,{values:P},!0)}rescale(){return this.isValid?bt(this,{values:function Qn(ye){const P={};for(const[pe,ke]of Object.entries(ye))0!==ke&&(P[pe]=ke);return P}(this.normalize().shiftToAll().toObject())},!0):this}shiftTo(...P){if(!this.isValid)return this;if(0===P.length)return this;P=P.map(Ut=>Nn.normalizeUnit(Ut));const pe={},ke={},ot=this.toObject();let Mt;for(const Ut of Rt)if(P.indexOf(Ut)>=0){Mt=Ut;let Zt=0;for(const bn in ke)Zt+=this.matrix[bn][Ut]*ke[bn],ke[bn]=0;fn(ot[Ut])&&(Zt+=ot[Ut]);const rn=Math.trunc(Zt);pe[Ut]=rn,ke[Ut]=(1e3*Zt-1e3*rn)/1e3}else fn(ot[Ut])&&(ke[Ut]=ot[Ut]);for(const Ut in ke)0!==ke[Ut]&&(pe[Mt]+=Ut===Mt?ke[Ut]:ke[Ut]/this.matrix[Mt][Ut]);return Jt(this.matrix,pe),bt(this,{values:pe},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const P={};for(const pe of Object.keys(this.values))P[pe]=0===this.values[pe]?0:-this.values[pe];return bt(this,{values:P},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(P){if(!this.isValid||!P.isValid||!this.loc.equals(P.loc))return!1;function pe(ke,ot){return void 0===ke||0===ke?void 0===ot||0===ot:ke===ot}for(const ke of Rt)if(!pe(this.values[ke],P.values[ke]))return!1;return!0}}const $n="Invalid Interval";class Di{constructor(P){this.s=P.start,this.e=P.end,this.invalid=P.invalid||null,this.isLuxonInterval=!0}static invalid(P,pe=null){if(!P)throw new f("need to specify a reason the Interval is invalid");const ke=P instanceof yt?P:new yt(P,pe);if(ct.throwOnInvalid)throw new _(ke);return new Di({invalid:ke})}static fromDateTimes(P,pe){const ke=Xi(P),ot=Xi(pe),Mt=function Pr(ye,P){return ye&&ye.isValid?P&&P.isValid?P<ye?Di.invalid("end before start",`The end of an interval must be after its start, but you had start=${ye.toISO()} and end=${P.toISO()}`):null:Di.invalid("missing or invalid end"):Di.invalid("missing or invalid start")}(ke,ot);return Mt??new Di({start:ke,end:ot})}static after(P,pe){const ke=Nn.fromDurationLike(pe),ot=Xi(P);return Di.fromDateTimes(ot,ot.plus(ke))}static before(P,pe){const ke=Nn.fromDurationLike(pe),ot=Xi(P);return Di.fromDateTimes(ot.minus(ke),ot)}static fromISO(P,pe){const[ke,ot]=(P||"").split("/",2);if(ke&&ot){let Mt,Ut,Zt,rn;try{Mt=ii.fromISO(ke,pe),Ut=Mt.isValid}catch{Ut=!1}try{Zt=ii.fromISO(ot,pe),rn=Zt.isValid}catch{rn=!1}if(Ut&&rn)return Di.fromDateTimes(Mt,Zt);if(Ut){const bn=Nn.fromISO(ot,pe);if(bn.isValid)return Di.after(Mt,bn)}else if(rn){const bn=Nn.fromISO(ke,pe);if(bn.isValid)return Di.before(Zt,bn)}}return Di.invalid("unparsable",`the input "${P}" can't be parsed as ISO 8601`)}static isInterval(P){return P&&P.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return null===this.invalidReason}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(P="milliseconds"){return this.isValid?this.toDuration(P).get(P):NaN}count(P="milliseconds",pe){if(!this.isValid)return NaN;const ke=this.start.startOf(P,pe);let ot;return ot=pe?.useLocaleWeeks?this.end.reconfigure({locale:ke.locale}):this.end,ot=ot.startOf(P,pe),Math.floor(ot.diff(ke,P).get(P))+(ot.valueOf()!==this.end.valueOf())}hasSame(P){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,P))}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(P){return!!this.isValid&&this.s>P}isBefore(P){return!!this.isValid&&this.e<=P}contains(P){return!!this.isValid&&this.s<=P&&this.e>P}set({start:P,end:pe}={}){return this.isValid?Di.fromDateTimes(P||this.s,pe||this.e):this}splitAt(...P){if(!this.isValid)return[];const pe=P.map(Xi).filter(Ut=>this.contains(Ut)).sort((Ut,Zt)=>Ut.toMillis()-Zt.toMillis()),ke=[];let{s:ot}=this,Mt=0;for(;ot<this.e;){const Ut=pe[Mt]||this.e,Zt=+Ut>+this.e?this.e:Ut;ke.push(Di.fromDateTimes(ot,Zt)),ot=Zt,Mt+=1}return ke}splitBy(P){const pe=Nn.fromDurationLike(P);if(!this.isValid||!pe.isValid||0===pe.as("milliseconds"))return[];let Mt,{s:ke}=this,ot=1;const Ut=[];for(;ke<this.e;){const Zt=this.start.plus(pe.mapUnits(rn=>rn*ot));Mt=+Zt>+this.e?this.e:Zt,Ut.push(Di.fromDateTimes(ke,Mt)),ke=Mt,ot+=1}return Ut}divideEqually(P){return this.isValid?this.splitBy(this.length()/P).slice(0,P):[]}overlaps(P){return this.e>P.s&&this.s<P.e}abutsStart(P){return!!this.isValid&&+this.e==+P.s}abutsEnd(P){return!!this.isValid&&+P.e==+this.s}engulfs(P){return!!this.isValid&&this.s<=P.s&&this.e>=P.e}equals(P){return!(!this.isValid||!P.isValid)&&this.s.equals(P.s)&&this.e.equals(P.e)}intersection(P){if(!this.isValid)return this;const pe=this.s>P.s?this.s:P.s,ke=this.e<P.e?this.e:P.e;return pe>=ke?null:Di.fromDateTimes(pe,ke)}union(P){return this.isValid?Di.fromDateTimes(this.s<P.s?this.s:P.s,this.e>P.e?this.e:P.e):this}static merge(P){const[pe,ke]=P.sort((ot,Mt)=>ot.s-Mt.s).reduce(([ot,Mt],Ut)=>Mt?Mt.overlaps(Ut)||Mt.abutsStart(Ut)?[ot,Mt.union(Ut)]:[ot.concat([Mt]),Ut]:[ot,Ut],[[],null]);return ke&&pe.push(ke),pe}static xor(P){let pe=null,ke=0;const ot=[],Mt=P.map(rn=>[{time:rn.s,type:"s"},{time:rn.e,type:"e"}]),Zt=Array.prototype.concat(...Mt).sort((rn,bn)=>rn.time-bn.time);for(const rn of Zt)ke+="s"===rn.type?1:-1,1===ke?pe=rn.time:(pe&&+pe!=+rn.time&&ot.push(Di.fromDateTimes(pe,rn.time)),pe=null);return Di.merge(ot)}difference(...P){return Di.xor([this].concat(P)).map(pe=>this.intersection(pe)).filter(pe=>pe&&!pe.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:$n}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(P=w,pe={}){return this.isValid?jn.create(this.s.loc.clone(pe),P).formatInterval(this):$n}toISO(P){return this.isValid?`${this.s.toISO(P)}/${this.e.toISO(P)}`:$n}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:$n}toISOTime(P){return this.isValid?`${this.s.toISOTime(P)}/${this.e.toISOTime(P)}`:$n}toFormat(P,{separator:pe=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(P)}${pe}${this.e.toFormat(P)}`:$n}toDuration(P,pe){return this.isValid?this.e.diff(this.s,P,pe):Nn.invalid(this.invalidReason)}mapEndpoints(P){return Di.fromDateTimes(P(this.s),P(this.e))}}class Is{static hasDST(P=ct.defaultZone){const pe=ii.now().setZone(P).set({month:12});return!P.isUniversal&&pe.offset!==pe.set({month:6}).offset}static isValidIANAZone(P){return Ye.isValidZone(P)}static normalizeZone(P){return Ft(P,ct.defaultZone)}static getStartOfWeek({locale:P=null,locObj:pe=null}={}){return(pe||se.create(P)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:P=null,locObj:pe=null}={}){return(pe||se.create(P)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:P=null,locObj:pe=null}={}){return(pe||se.create(P)).getWeekendDays().slice()}static months(P="long",{locale:pe=null,numberingSystem:ke=null,locObj:ot=null,outputCalendar:Mt="gregory"}={}){return(ot||se.create(pe,ke,Mt)).months(P)}static monthsFormat(P="long",{locale:pe=null,numberingSystem:ke=null,locObj:ot=null,outputCalendar:Mt="gregory"}={}){return(ot||se.create(pe,ke,Mt)).months(P,!0)}static weekdays(P="long",{locale:pe=null,numberingSystem:ke=null,locObj:ot=null}={}){return(ot||se.create(pe,ke,null)).weekdays(P)}static weekdaysFormat(P="long",{locale:pe=null,numberingSystem:ke=null,locObj:ot=null}={}){return(ot||se.create(pe,ke,null)).weekdays(P,!0)}static meridiems({locale:P=null}={}){return se.create(P).meridiems()}static eras(P="short",{locale:pe=null}={}){return se.create(pe,null,"gregory").eras(P)}static features(){return{relative:Bi(),localeWeek:Xn()}}}function ua(ye,P){const pe=ot=>ot.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),ke=pe(P)-pe(ye);return Math.floor(Nn.fromMillis(ke).as("days"))}const ki={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",latn:"\\d"},Wn={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Zr=ki.hanidec.replace(/[\[|\]]/g,"").split("");function Er({numberingSystem:ye},P=""){return new RegExp(`${ki[ye||"latn"]}${P}`)}function $i(ye,P=(pe=>pe)){return{regex:ye,deser:([pe])=>P(function Ds(ye){let P=parseInt(ye,10);if(isNaN(P)){P="";for(let pe=0;pe<ye.length;pe++){const ke=ye.charCodeAt(pe);if(-1!==ye[pe].search(ki.hanidec))P+=Zr.indexOf(ye[pe]);else for(const ot in Wn){const[Mt,Ut]=Wn[ot];ke>=Mt&&ke<=Ut&&(P+=ke-Mt)}}return parseInt(P,10)}return P}(pe))}}const Ia="[ \xa0]",_n=new RegExp(Ia,"g");function As(ye){return ye.replace(/\./g,"\\.?").replace(_n,Ia)}function Jo(ye){return ye.replace(/\./g,"").replace(_n," ").toLowerCase()}function Fs(ye,P){return null===ye?null:{regex:RegExp(ye.map(As).join("|")),deser:([pe])=>ye.findIndex(ke=>Jo(pe)===Jo(ke))+P}}function Da(ye,P){return{regex:ye,deser:([,pe,ke])=>gn(pe,ke),groups:P}}function Qo(ye){return{regex:ye,deser:([P])=>P}}function ql(ye){return ye.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}const yl={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};let wo=null;function Ka(ye,P){return Array.prototype.concat(...ye.map(pe=>function Aa(ye,P){if(ye.literal)return ye;const ke=Tr(jn.macroTokenToFormatOpts(ye.val),P);return null==ke||ke.includes(void 0)?ye:ke}(pe,P)))}function za(ye,P,pe){const ke=Ka(jn.parseFormat(pe),ye),ot=ke.map(Ut=>function Zo(ye,P){const pe=Er(P),ke=Er(P,"{2}"),ot=Er(P,"{3}"),Mt=Er(P,"{4}"),Ut=Er(P,"{6}"),Zt=Er(P,"{1,2}"),rn=Er(P,"{1,3}"),bn=Er(P,"{1,6}"),ei=Er(P,"{1,9}"),Vn=Er(P,"{2,4}"),_r=Er(P,"{4,6}"),mi=Cs=>({regex:RegExp(ql(Cs.val)),deser:([Hi])=>Hi,literal:!0}),Ir=(Cs=>{if(ye.literal)return mi(Cs);switch(Cs.val){case"G":return Fs(P.eras("short"),0);case"GG":return Fs(P.eras("long"),0);case"y":return $i(bn);case"yy":case"kk":return $i(Vn,Wt);case"yyyy":case"kkkk":return $i(Mt);case"yyyyy":return $i(_r);case"yyyyyy":return $i(Ut);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return $i(Zt);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return $i(ke);case"MMM":return Fs(P.months("short",!0),1);case"MMMM":return Fs(P.months("long",!0),1);case"LLL":return Fs(P.months("short",!1),1);case"LLLL":return Fs(P.months("long",!1),1);case"o":case"S":return $i(rn);case"ooo":case"SSS":return $i(ot);case"u":return Qo(ei);case"uu":return Qo(Zt);case"uuu":case"E":case"c":return $i(pe);case"a":return Fs(P.meridiems(),0);case"EEE":return Fs(P.weekdays("short",!1),1);case"EEEE":return Fs(P.weekdays("long",!1),1);case"ccc":return Fs(P.weekdays("short",!0),1);case"cccc":return Fs(P.weekdays("long",!0),1);case"Z":case"ZZ":return Da(new RegExp(`([+-]${Zt.source})(?::(${ke.source}))?`),2);case"ZZZ":return Da(new RegExp(`([+-]${Zt.source})(${ke.source})?`),2);case"z":return Qo(/[a-z_+-/]{1,256}?/i);case" ":return Qo(/[^\S\n\r]/);default:return mi(Cs)}})(ye)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};return Ir.token=ye,Ir}(Ut,ye)),Mt=ot.find(Ut=>Ut.invalidReason);if(Mt)return{input:P,tokens:ke,invalidReason:Mt.invalidReason};{const[Ut,Zt]=function Ha(ye){return[`^${ye.map(pe=>pe.regex).reduce((pe,ke)=>`${pe}(${ke.source})`,"")}$`,ye]}(ot),rn=RegExp(Ut,"i"),[bn,ei]=function ec(ye,P,pe){const ke=ye.match(P);if(ke){const ot={};let Mt=1;for(const Ut in pe)if(ji(pe,Ut)){const Zt=pe[Ut],rn=Zt.groups?Zt.groups+1:1;!Zt.literal&&Zt.token&&(ot[Zt.token.val[0]]=Zt.deser(ke.slice(Mt,Mt+rn))),Mt+=rn}return[ke,ot]}return[ke,{}]}(P,rn,Zt),[Vn,_r,mi]=ei?function Bo(ye){let ke,pe=null;return An(ye.z)||(pe=Ye.create(ye.z)),An(ye.Z)||(pe||(pe=new qe(ye.Z)),ke=ye.Z),An(ye.q)||(ye.M=3*(ye.q-1)+1),An(ye.h)||(ye.h<12&&1===ye.a?ye.h+=12:12===ye.h&&0===ye.a&&(ye.h=0)),0===ye.G&&ye.y&&(ye.y=-ye.y),An(ye.u)||(ye.S=Tn(ye.u)),[Object.keys(ye).reduce((Mt,Ut)=>{const Zt=(Mt=>{switch(Mt){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}})(Ut);return Zt&&(Mt[Zt]=ye[Ut]),Mt},{}),pe,ke]}(ei):[null,null,void 0];if(ji(ei,"a")&&ji(ei,"H"))throw new S("Can't include meridiem when specifying 24-hour format");return{input:P,tokens:ke,regex:rn,rawMatches:bn,matches:ei,result:Vn,zone:_r,specificOffset:mi}}}function Tr(ye,P){if(!ye)return null;const ke=jn.create(P,ye).dtFormatter(function Wa(){return wo||(wo=ii.fromMillis(1555555555555)),wo}()),ot=ke.formatToParts(),Mt=ke.resolvedOptions();return ot.map(Ut=>function hs(ye,P,pe){const{type:ke,value:ot}=ye;if("literal"===ke){const rn=/^\s+$/.test(ot);return{literal:!rn,val:rn?" ":ot}}let Ut=ke;"hour"===ke&&(Ut=null!=P.hour12?P.hour12?"hour12":"hour24":null!=P.hourCycle?"h11"===P.hourCycle||"h12"===P.hourCycle?"hour12":"hour24":pe.hour12?"hour12":"hour24");let Zt=yl[Ut];if("object"==typeof Zt&&(Zt=Zt[P[ke]]),Zt)return{literal:!1,val:Zt}}(Ut,ye,Mt))}const go="Invalid DateTime",Rs=864e13;function Ys(ye){return new yt("unsupported zone",`the zone "${ye.name}" is not supported`)}function Lo(ye){return null===ye.weekData&&(ye.weekData=li(ye.c)),ye.weekData}function So(ye){return null===ye.localWeekData&&(ye.localWeekData=li(ye.c,ye.loc.getMinDaysInFirstWeek(),ye.loc.getStartOfWeek())),ye.localWeekData}function Kr(ye,P){const pe={ts:ye.ts,zone:ye.zone,c:ye.c,o:ye.o,loc:ye.loc,invalid:ye.invalid};return new ii({...pe,...P,old:pe})}function fs(ye,P,pe){let ke=ye-60*P*1e3;const ot=pe.offset(ke);if(P===ot)return[ke,P];ke-=60*(ot-P)*1e3;const Mt=pe.offset(ke);return ot===Mt?[ke,ot]:[ye-60*Math.min(ot,Mt)*1e3,Math.max(ot,Mt)]}function Ya(ye,P){const pe=new Date(ye+=60*P*1e3);return{year:pe.getUTCFullYear(),month:pe.getUTCMonth()+1,day:pe.getUTCDate(),hour:pe.getUTCHours(),minute:pe.getUTCMinutes(),second:pe.getUTCSeconds(),millisecond:pe.getUTCMilliseconds()}}function da(ye,P,pe){return fs(de(ye),P,pe)}function lo(ye,P){const pe=ye.o,ke=ye.c.year+Math.trunc(P.years),ot=ye.c.month+Math.trunc(P.months)+3*Math.trunc(P.quarters),Mt={...ye.c,year:ke,month:ot,day:Math.min(ye.c.day,K(ke,ot))+Math.trunc(P.days)+7*Math.trunc(P.weeks)},Ut=Nn.fromObject({years:P.years-Math.trunc(P.years),quarters:P.quarters-Math.trunc(P.quarters),months:P.months-Math.trunc(P.months),weeks:P.weeks-Math.trunc(P.weeks),days:P.days-Math.trunc(P.days),hours:P.hours,minutes:P.minutes,seconds:P.seconds,milliseconds:P.milliseconds}).as("milliseconds"),Zt=de(Mt);let[rn,bn]=fs(Zt,pe,ye.zone);return 0!==Ut&&(rn+=Ut,bn=ye.zone.offset(rn)),{ts:rn,o:bn}}function Ms(ye,P,pe,ke,ot,Mt){const{setZone:Ut,zone:Zt}=pe;if(ye&&0!==Object.keys(ye).length||P){const rn=P||Zt,bn=ii.fromObject(ye,{...pe,zone:rn,specificOffset:Mt});return Ut?bn:bn.setZone(Zt)}return ii.invalid(new yt("unparsable",`the input "${ot}" can't be parsed as ${ke}`))}function Ai(ye,P,pe=!0){return ye.isValid?jn.create(se.create("en-US"),{allowZ:pe,forceSimple:!0}).formatDateTimeFromString(ye,P):null}function bs(ye,P){const pe=ye.c.year>9999||ye.c.year<0;let ke="";return pe&&ye.c.year>=0&&(ke+="+"),ke+=Ct(ye.c.year,pe?6:4),P?(ke+="-",ke+=Ct(ye.c.month),ke+="-",ke+=Ct(ye.c.day)):(ke+=Ct(ye.c.month),ke+=Ct(ye.c.day)),ke}function ne(ye,P,pe,ke,ot,Mt){let Ut=Ct(ye.c.hour);return P?(Ut+=":",Ut+=Ct(ye.c.minute),(0!==ye.c.millisecond||0!==ye.c.second||!pe)&&(Ut+=":")):Ut+=Ct(ye.c.minute),(0!==ye.c.millisecond||0!==ye.c.second||!pe)&&(Ut+=Ct(ye.c.second),(0!==ye.c.millisecond||!ke)&&(Ut+=".",Ut+=Ct(ye.c.millisecond,3))),ot&&(ye.isOffsetFixed&&0===ye.offset&&!Mt?Ut+="Z":ye.o<0?(Ut+="-",Ut+=Ct(Math.trunc(-ye.o/60)),Ut+=":",Ut+=Ct(Math.trunc(-ye.o%60))):(Ut+="+",Ut+=Ct(Math.trunc(ye.o/60)),Ut+=":",Ut+=Ct(Math.trunc(ye.o%60)))),Mt&&(Ut+="["+ye.zone.ianaName+"]"),Ut}const Ke={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},fe={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Pe={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Dt=["year","month","day","hour","minute","second","millisecond"],hn=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],En=["year","ordinal","hour","minute","second","millisecond"];function dr(ye){switch(ye.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return function qn(ye){const P={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[ye.toLowerCase()];if(!P)throw new v(ye);return P}(ye)}}function sr(ye,P){const pe=Ft(P.zone,ct.defaultZone),ke=se.fromObject(P),ot=ct.now();let Mt,Ut;if(An(ye.year))Mt=ot;else{for(const bn of Dt)An(ye[bn])&&(ye[bn]=Ke[bn]);const Zt=mn(ye)||zn(ye);if(Zt)return ii.invalid(Zt);const rn=pe.offset(ot);[Mt,Ut]=da(ye,rn,pe)}return new ii({ts:Mt,zone:pe,loc:ke,o:Ut})}function Yi(ye,P,pe){const ke=!!An(pe.round)||pe.round,ot=(Ut,Zt)=>(Ut=St(Ut,ke||pe.calendary?0:2,!0),P.loc.clone(pe).relFormatter(pe).format(Ut,Zt)),Mt=Ut=>pe.calendary?P.hasSame(ye,Ut)?0:P.startOf(Ut).diff(ye.startOf(Ut),Ut).get(Ut):P.diff(ye,Ut).get(Ut);if(pe.unit)return ot(Mt(pe.unit),pe.unit);for(const Ut of pe.units){const Zt=Mt(Ut);if(Math.abs(Zt)>=1)return ot(Zt,Ut)}return ot(ye>P?-0:0,pe.units[pe.units.length-1])}function Ui(ye){let pe,P={};return ye.length>0&&"object"==typeof ye[ye.length-1]?(P=ye[ye.length-1],pe=Array.from(ye).slice(0,ye.length-1)):pe=Array.from(ye),[P,pe]}class ii{constructor(P){const pe=P.zone||ct.defaultZone;let ke=P.invalid||(Number.isNaN(P.ts)?new yt("invalid input"):null)||(pe.isValid?null:Ys(pe));this.ts=An(P.ts)?ct.now():P.ts;let ot=null,Mt=null;if(!ke)if(P.old&&P.old.ts===this.ts&&P.old.zone.equals(pe))[ot,Mt]=[P.old.c,P.old.o];else{const Zt=pe.offset(this.ts);ot=Ya(this.ts,Zt),ke=Number.isNaN(ot.year)?new yt("invalid input"):null,ot=ke?null:ot,Mt=ke?null:Zt}this._zone=pe,this.loc=P.loc||se.create(),this.invalid=ke,this.weekData=null,this.localWeekData=null,this.c=ot,this.o=Mt,this.isLuxonDateTime=!0}static now(){return new ii({})}static local(){const[P,pe]=Ui(arguments),[ke,ot,Mt,Ut,Zt,rn,bn]=pe;return sr({year:ke,month:ot,day:Mt,hour:Ut,minute:Zt,second:rn,millisecond:bn},P)}static utc(){const[P,pe]=Ui(arguments),[ke,ot,Mt,Ut,Zt,rn,bn]=pe;return P.zone=qe.utcInstance,sr({year:ke,month:ot,day:Mt,hour:Ut,minute:Zt,second:rn,millisecond:bn},P)}static fromJSDate(P,pe={}){const ke=function ni(ye){return"[object Date]"===Object.prototype.toString.call(ye)}(P)?P.valueOf():NaN;if(Number.isNaN(ke))return ii.invalid("invalid input");const ot=Ft(pe.zone,ct.defaultZone);return ot.isValid?new ii({ts:ke,zone:ot,loc:se.fromObject(pe)}):ii.invalid(Ys(ot))}static fromMillis(P,pe={}){if(fn(P))return P<-Rs||P>Rs?ii.invalid("Timestamp out of range"):new ii({ts:P,zone:Ft(pe.zone,ct.defaultZone),loc:se.fromObject(pe)});throw new f(`fromMillis requires a numerical input, but received a ${typeof P} with value ${P}`)}static fromSeconds(P,pe={}){if(fn(P))return new ii({ts:1e3*P,zone:Ft(pe.zone,ct.defaultZone),loc:se.fromObject(pe)});throw new f("fromSeconds requires a numerical input")}static fromObject(P,pe={}){P=P||{};const ke=Ft(pe.zone,ct.defaultZone);if(!ke.isValid)return ii.invalid(Ys(ke));const ot=se.fromObject(pe),Mt=ti(P,dr),{minDaysInFirstWeek:Ut,startOfWeek:Zt}=jt(Mt,ot),rn=ct.now(),bn=An(pe.specificOffset)?ke.offset(rn):pe.specificOffset,ei=!An(Mt.ordinal),Vn=!An(Mt.year),_r=!An(Mt.month)||!An(Mt.day),mi=Vn||_r,jr=Mt.weekYear||Mt.weekNumber;if((mi||ei)&&jr)throw new S("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(_r&&ei)throw new S("Can't mix ordinal dates with month/day");const Ir=jr||Mt.weekday&&!mi;let Cs,Hi,as=Ya(rn,bn);Ir?(Cs=hn,Hi=fe,as=li(as,Ut,Zt)):ei?(Cs=En,Hi=Pe,as=dt(as)):(Cs=Dt,Hi=Ke);let Mo=!1;for(const qo of Cs)An(Mt[qo])?Mt[qo]=Mo?Hi[qo]:as[qo]:Mo=!0;const ha=Ir?function Yt(ye,P=4,pe=1){const ke=ci(ye.weekYear),ot=nt(ye.weekNumber,1,ze(ye.weekYear,P,pe)),Mt=nt(ye.weekday,1,7);return ke?ot?!Mt&&tn("weekday",ye.weekday):tn("week",ye.weekNumber):tn("weekYear",ye.weekYear)}(Mt,Ut,Zt):ei?function vn(ye){const P=ci(ye.year),pe=nt(ye.ordinal,1,Qe(ye.year));return P?!pe&&tn("ordinal",ye.ordinal):tn("year",ye.year)}(Mt):mn(Mt),vo=ha||zn(Mt);if(vo)return ii.invalid(vo);const qr=Ir?At(Mt,Ut,Zt):ei?kt(Mt):Mt,[Uo,Ri]=da(qr,bn,ke),Ra=new ii({ts:Uo,zone:ke,o:Ri,loc:ot});return Mt.weekday&&mi&&P.weekday!==Ra.weekday?ii.invalid("mismatched weekday",`you can't specify both a weekday of ${Mt.weekday} and a date of ${Ra.toISO()}`):Ra}static fromISO(P,pe={}){const[ke,ot]=function Wr(ye){return Sr(ye,[Ts,pr],[si,js],[Hr,Fr],[Vs,Ur])}(P);return Ms(ke,ot,pe,"ISO 8601",P)}static fromRFC2822(P,pe={}){const[ke,ot]=function pn(ye){return Sr(function Nr(ye){return ye.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(ye),[Ao,Es])}(P);return Ms(ke,ot,pe,"RFC 2822",P)}static fromHTTP(P,pe={}){const[ke,ot]=function vs(ye){return Sr(ye,[rr,ao],[Or,ao],[ss,Ta])}(P);return Ms(ke,ot,pe,"HTTP",pe)}static fromFormat(P,pe,ke={}){if(An(P)||An(pe))throw new f("fromFormat requires an input string and a format");const{locale:ot=null,numberingSystem:Mt=null}=ke,Ut=se.fromOpts({locale:ot,numberingSystem:Mt,defaultToEN:!0}),[Zt,rn,bn,ei]=function _s(ye,P,pe){const{result:ke,zone:ot,specificOffset:Mt,invalidReason:Ut}=za(ye,P,pe);return[ke,ot,Mt,Ut]}(Ut,P,pe);return ei?ii.invalid(ei):Ms(Zt,rn,ke,`format ${pe}`,P,bn)}static fromString(P,pe,ke={}){return ii.fromFormat(P,pe,ke)}static fromSQL(P,pe={}){const[ke,ot]=function Ii(ye){return Sr(ye,[tt,pr],[Pt,Kn])}(P);return Ms(ke,ot,pe,"SQL",P)}static invalid(P,pe=null){if(!P)throw new f("need to specify a reason the DateTime is invalid");const ke=P instanceof yt?P:new yt(P,pe);if(ct.throwOnInvalid)throw new e(ke);return new ii({invalid:ke})}static isDateTime(P){return P&&P.isLuxonDateTime||!1}static parseFormatForOpts(P,pe={}){const ke=Tr(P,se.fromObject(pe));return ke?ke.map(ot=>ot?ot.val:null).join(""):null}static expandFormat(P,pe={}){return Ka(jn.parseFormat(P),se.fromObject(pe)).map(ot=>ot.val).join("")}get(P){return this[P]}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Lo(this).weekYear:NaN}get weekNumber(){return this.isValid?Lo(this).weekNumber:NaN}get weekday(){return this.isValid?Lo(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?So(this).weekday:NaN}get localWeekNumber(){return this.isValid?So(this).weekNumber:NaN}get localWeekYear(){return this.isValid?So(this).weekYear:NaN}get ordinal(){return this.isValid?dt(this.c).ordinal:NaN}get monthShort(){return this.isValid?Is.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Is.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Is.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Is.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return!this.isOffsetFixed&&(this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset)}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const P=864e5,pe=6e4,ke=de(this.c),ot=this.zone.offset(ke-P),Mt=this.zone.offset(ke+P),Ut=this.zone.offset(ke-ot*pe),Zt=this.zone.offset(ke-Mt*pe);if(Ut===Zt)return[this];const rn=ke-Ut*pe,bn=ke-Zt*pe,ei=Ya(rn,Ut),Vn=Ya(bn,Zt);return ei.hour===Vn.hour&&ei.minute===Vn.minute&&ei.second===Vn.second&&ei.millisecond===Vn.millisecond?[Kr(this,{ts:rn}),Kr(this,{ts:bn})]:[this]}get isInLeapYear(){return $e(this.year)}get daysInMonth(){return K(this.year,this.month)}get daysInYear(){return this.isValid?Qe(this.year):NaN}get weeksInWeekYear(){return this.isValid?ze(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?ze(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(P={}){const{locale:pe,numberingSystem:ke,calendar:ot}=jn.create(this.loc.clone(P),P).resolvedOptions(this);return{locale:pe,numberingSystem:ke,outputCalendar:ot}}toUTC(P=0,pe={}){return this.setZone(qe.instance(P),pe)}toLocal(){return this.setZone(ct.defaultZone)}setZone(P,{keepLocalTime:pe=!1,keepCalendarTime:ke=!1}={}){if((P=Ft(P,ct.defaultZone)).equals(this.zone))return this;if(P.isValid){let ot=this.ts;if(pe||ke){const Mt=P.offset(this.ts),Ut=this.toObject();[ot]=da(Ut,Mt,P)}return Kr(this,{ts:ot,zone:P})}return ii.invalid(Ys(P))}reconfigure({locale:P,numberingSystem:pe,outputCalendar:ke}={}){return Kr(this,{loc:this.loc.clone({locale:P,numberingSystem:pe,outputCalendar:ke})})}setLocale(P){return this.reconfigure({locale:P})}set(P){if(!this.isValid)return this;const pe=ti(P,dr),{minDaysInFirstWeek:ke,startOfWeek:ot}=jt(pe,this.loc),Mt=!An(pe.weekYear)||!An(pe.weekNumber)||!An(pe.weekday),Ut=!An(pe.ordinal),Zt=!An(pe.year),rn=!An(pe.month)||!An(pe.day);if((Zt||rn||Ut)&&(pe.weekYear||pe.weekNumber))throw new S("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(rn&&Ut)throw new S("Can't mix ordinal dates with month/day");let Vn;Mt?Vn=At({...li(this.c,ke,ot),...pe},ke,ot):An(pe.ordinal)?(Vn={...this.toObject(),...pe},An(pe.day)&&(Vn.day=Math.min(K(Vn.year,Vn.month),Vn.day))):Vn=kt({...dt(this.c),...pe});const[_r,mi]=da(Vn,this.o,this.zone);return Kr(this,{ts:_r,o:mi})}plus(P){return this.isValid?Kr(this,lo(this,Nn.fromDurationLike(P))):this}minus(P){return this.isValid?Kr(this,lo(this,Nn.fromDurationLike(P).negate())):this}startOf(P,{useLocaleWeeks:pe=!1}={}){if(!this.isValid)return this;const ke={},ot=Nn.normalizeUnit(P);switch(ot){case"years":ke.month=1;case"quarters":case"months":ke.day=1;case"weeks":case"days":ke.hour=0;case"hours":ke.minute=0;case"minutes":ke.second=0;case"seconds":ke.millisecond=0}if("weeks"===ot)if(pe){const Mt=this.loc.getStartOfWeek(),{weekday:Ut}=this;Ut<Mt&&(ke.weekNumber=this.weekNumber-1),ke.weekday=Mt}else ke.weekday=1;if("quarters"===ot){const Mt=Math.ceil(this.month/3);ke.month=3*(Mt-1)+1}return this.set(ke)}endOf(P,pe){return this.isValid?this.plus({[P]:1}).startOf(P,pe).minus(1):this}toFormat(P,pe={}){return this.isValid?jn.create(this.loc.redefaultToEN(pe)).formatDateTimeFromString(this,P):go}toLocaleString(P=w,pe={}){return this.isValid?jn.create(this.loc.clone(pe),P).formatDateTime(this):go}toLocaleParts(P={}){return this.isValid?jn.create(this.loc.clone(P),P).formatDateTimeParts(this):[]}toISO({format:P="extended",suppressSeconds:pe=!1,suppressMilliseconds:ke=!1,includeOffset:ot=!0,extendedZone:Mt=!1}={}){if(!this.isValid)return null;const Ut="extended"===P;let Zt=bs(this,Ut);return Zt+="T",Zt+=ne(this,Ut,pe,ke,ot,Mt),Zt}toISODate({format:P="extended"}={}){return this.isValid?bs(this,"extended"===P):null}toISOWeekDate(){return Ai(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:P=!1,suppressSeconds:pe=!1,includeOffset:ke=!0,includePrefix:ot=!1,extendedZone:Mt=!1,format:Ut="extended"}={}){return this.isValid?(ot?"T":"")+ne(this,"extended"===Ut,pe,P,ke,Mt):null}toRFC2822(){return Ai(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Ai(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?bs(this,!0):null}toSQLTime({includeOffset:P=!0,includeZone:pe=!1,includeOffsetSpace:ke=!0}={}){let ot="HH:mm:ss.SSS";return(pe||P)&&(ke&&(ot+=" "),pe?ot+="z":P&&(ot+="ZZ")),Ai(this,ot,!0)}toSQL(P={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(P)}`:null}toString(){return this.isValid?this.toISO():go}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(P={}){if(!this.isValid)return{};const pe={...this.c};return P.includeConfig&&(pe.outputCalendar=this.outputCalendar,pe.numberingSystem=this.loc.numberingSystem,pe.locale=this.loc.locale),pe}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(P,pe="milliseconds",ke={}){if(!this.isValid||!P.isValid)return Nn.invalid("created by diffing an invalid DateTime");const ot={locale:this.locale,numberingSystem:this.numberingSystem,...ke},Mt=function Ei(ye){return Array.isArray(ye)?ye:[ye]}(pe).map(Nn.normalizeUnit),Ut=P.valueOf()>this.valueOf(),bn=function Vr(ye,P,pe,ke){let[ot,Mt,Ut,Zt]=function Xo(ye,P,pe){const ke=[["years",(rn,bn)=>bn.year-rn.year],["quarters",(rn,bn)=>bn.quarter-rn.quarter+4*(bn.year-rn.year)],["months",(rn,bn)=>bn.month-rn.month+12*(bn.year-rn.year)],["weeks",(rn,bn)=>{const ei=ua(rn,bn);return(ei-ei%7)/7}],["days",ua]],ot={},Mt=ye;let Ut,Zt;for(const[rn,bn]of ke)pe.indexOf(rn)>=0&&(Ut=rn,ot[rn]=bn(ye,P),Zt=Mt.plus(ot),Zt>P?(ot[rn]--,(ye=Mt.plus(ot))>P&&(Zt=ye,ot[rn]--,ye=Mt.plus(ot))):ye=Zt);return[ye,ot,Zt,Ut]}(ye,P,pe);const rn=P-ot,bn=pe.filter(Vn=>["hours","minutes","seconds","milliseconds"].indexOf(Vn)>=0);0===bn.length&&(Ut<P&&(Ut=ot.plus({[Zt]:1})),Ut!==ot&&(Mt[Zt]=(Mt[Zt]||0)+rn/(Ut-ot)));const ei=Nn.fromObject(Mt,ke);return bn.length>0?Nn.fromMillis(rn,ke).shiftTo(...bn).plus(ei):ei}(Ut?this:P,Ut?P:this,Mt,ot);return Ut?bn.negate():bn}diffNow(P="milliseconds",pe={}){return this.diff(ii.now(),P,pe)}until(P){return this.isValid?Di.fromDateTimes(this,P):this}hasSame(P,pe,ke){if(!this.isValid)return!1;const ot=P.valueOf(),Mt=this.setZone(P.zone,{keepLocalTime:!0});return Mt.startOf(pe,ke)<=ot&&ot<=Mt.endOf(pe,ke)}equals(P){return this.isValid&&P.isValid&&this.valueOf()===P.valueOf()&&this.zone.equals(P.zone)&&this.loc.equals(P.loc)}toRelative(P={}){if(!this.isValid)return null;const pe=P.base||ii.fromObject({},{zone:this.zone}),ke=P.padding?this<pe?-P.padding:P.padding:0;let ot=["years","months","days","hours","minutes","seconds"],Mt=P.unit;return Array.isArray(P.unit)&&(ot=P.unit,Mt=void 0),Yi(pe,this.plus(ke),{...P,numeric:"always",units:ot,unit:Mt})}toRelativeCalendar(P={}){return this.isValid?Yi(P.base||ii.fromObject({},{zone:this.zone}),this,{...P,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...P){if(!P.every(ii.isDateTime))throw new f("min requires all arguments be DateTimes");return pi(P,pe=>pe.valueOf(),Math.min)}static max(...P){if(!P.every(ii.isDateTime))throw new f("max requires all arguments be DateTimes");return pi(P,pe=>pe.valueOf(),Math.max)}static fromFormatExplain(P,pe,ke={}){const{locale:ot=null,numberingSystem:Mt=null}=ke;return za(se.fromOpts({locale:ot,numberingSystem:Mt,defaultToEN:!0}),P,pe)}static fromStringExplain(P,pe,ke={}){return ii.fromFormatExplain(P,pe,ke)}static get DATE_SHORT(){return w}static get DATE_MED(){return C}static get DATE_MED_WITH_WEEKDAY(){return R}static get DATE_FULL(){return k}static get DATE_HUGE(){return O}static get TIME_SIMPLE(){return H}static get TIME_WITH_SECONDS(){return x}static get TIME_WITH_SHORT_OFFSET(){return $}static get TIME_WITH_LONG_OFFSET(){return U}static get TIME_24_SIMPLE(){return G}static get TIME_24_WITH_SECONDS(){return ie}static get TIME_24_WITH_SHORT_OFFSET(){return le}static get TIME_24_WITH_LONG_OFFSET(){return L}static get DATETIME_SHORT(){return Q}static get DATETIME_SHORT_WITH_SECONDS(){return te}static get DATETIME_MED(){return I}static get DATETIME_MED_WITH_SECONDS(){return oe}static get DATETIME_MED_WITH_WEEKDAY(){return Y}static get DATETIME_FULL(){return _e}static get DATETIME_FULL_WITH_SECONDS(){return Oe}static get DATETIME_HUGE(){return Re}static get DATETIME_HUGE_WITH_SECONDS(){return xe}}function Xi(ye){if(ii.isDateTime(ye))return ye;if(ye&&ye.valueOf&&fn(ye.valueOf()))return ii.fromJSDate(ye);if(ye&&"object"==typeof ye)return ii.fromObject(ye);throw new f(`Unknown datetime argument: ${ye}, of type ${typeof ye}`)}},4304:(et,me,u)=>{"use strict";u.d(me,{h6:()=>H});var i=u(4438),e=u(177),_=u(9969);const g="400ms cubic-bezier(0.4,0.0,0.2,1)";(0,_.iF)({height:0,visibility:"hidden"}),(0,_.i0)(g,(0,_.iF)({height:"*",visibility:"visible"})),(0,_.iF)({height:"*",visibility:"visible"}),(0,_.i0)(g,(0,_.iF)({height:0,visibility:"hidden"}));let d=(()=>{class x{static forRoot(){return{ngModule:x,providers:[]}}static{this.\u0275fac=function(G){return new(G||x)}}static{this.\u0275mod=i.$C({type:x})}static{this.\u0275inj=i.G2t({})}}return x})(),H=(()=>{class x{static forRoot(){return{ngModule:x,providers:[]}}static{this.\u0275fac=function(G){return new(G||x)}}static{this.\u0275mod=i.$C({type:x})}static{this.\u0275inj=i.G2t({imports:[e.MD,d]})}}return x})()},6932:(et,me,u)=>{"use strict";u.d(me,{Li:()=>d});var i=u(4438),e=u(2806),_=u(2865),g=u(177);class v{constructor(m,F,w){this.nodes=m,this.viewRef=F,this.componentRef=w}}class f{constructor(m,F,w,C,R,k,O,H,x){this._viewContainerRef=m,this._renderer=F,this._elementRef=w,this._injector=C,this._componentFactoryResolver=R,this._ngZone=k,this._applicationRef=O,this._posService=H,this._document=x,this.onBeforeShow=new i.bkB,this.onShown=new i.bkB,this.onBeforeHide=new i.bkB,this.onHidden=new i.bkB,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}get isShown(){return!this._isHiding&&!!this._componentRef}attach(m){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(m),this}to(m){return this.container=m||this.container,this}position(m){return m?(this.attachment=m.attachment||this.attachment,this._elementRef=m.target||this._elementRef,this):this}provide(m){return this._providers.push(m),this}show(m={}){if(this._subscribePositioning(),this._innerComponent=void 0,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(m.content,m.context,m.initialState);const F=i.zZn.create({providers:this._providers,parent:this._injector});if(!this._componentFactory)return;if(this._componentRef=this._componentFactory.create(F,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,m),this.container instanceof i.aKT&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"string"==typeof this.container&&typeof this._document<"u"){const w=this._document.querySelector(this.container)||this._document.querySelector(this.containerDefaultSelector);if(!w)return;w.appendChild(this._componentRef.location.nativeElement)}!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(m.id?{id:m.id}:this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}hide(m){if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);const F=this._componentRef.location.nativeElement;return F.parentNode?.removeChild(F),this._contentRef?.componentRef?.destroy(),this._viewContainerRef&&this._contentRef?.viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),this._contentRef?.viewRef?.destroy(),this._contentRef=void 0,this._componentRef=void 0,this._removeGlobalListener(),this.onHidden.emit(m?{id:m}:null),this}toggle(){this.isShown?this.hide():this.show()}dispose(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}listen(m){this.triggers=m.triggers||this.triggers,this._listenOpts.outsideClick=m.outsideClick,this._listenOpts.outsideEsc=m.outsideEsc,m.target=m.target||this._elementRef?.nativeElement;const F=this._listenOpts.hide=()=>m.hide?m.hide():void this.hide(),w=this._listenOpts.show=R=>{m.show?m.show(R):this.show(R),R()};return this._renderer&&(this._unregisterListenersFn=(0,e.GL)(this._renderer,{target:m.target,triggers:m.triggers,show:w,hide:F,toggle:R=>{this.isShown?F():w(R)}})),this}_removeGlobalListener(){this._globalListener&&(this._globalListener(),this._globalListener=Function.prototype)}attachInline(m,F){return m&&F&&(this._inlineViewRef=m.createEmbeddedView(F)),this}_registerOutsideClick(){if(this._componentRef&&this._componentRef.location){if(this._listenOpts.outsideClick){const m=this._componentRef.location.nativeElement;setTimeout(()=>{this._renderer&&this._elementRef&&(this._globalListener=(0,e.Xt)(this._renderer,{targets:[m,this._elementRef.nativeElement],outsideClick:this._listenOpts.outsideClick,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))})}this._listenOpts.outsideEsc&&this._renderer&&this._elementRef&&(this._globalListener=(0,e.Fv)(this._renderer,{targets:[this._componentRef.location.nativeElement,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))}}getInnerComponent(){return this._innerComponent}_subscribePositioning(){this._zoneSubscription||!this.attachment||(this.onShown.subscribe(()=>{this._posService.position({element:this._componentRef?.location,target:this._elementRef,attachment:this.attachment,appendToBody:"body"===this.container})}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>{this._componentRef&&this._posService.calcPosition()}))}_unsubscribePositioning(){this._zoneSubscription&&(this._zoneSubscription.unsubscribe(),this._zoneSubscription=void 0)}_getContentRef(m,F,w){if(!m)return new v([]);if(m instanceof i.C4Q){if(this._viewContainerRef){const k=this._viewContainerRef.createEmbeddedView(m,F);return k.markForCheck(),new v([k.rootNodes],k)}const R=m.createEmbeddedView({});return this._applicationRef.attachView(R),new v([R.rootNodes],R)}if("function"==typeof m){const R=this._componentFactoryResolver.resolveComponentFactory(m),k=i.zZn.create({providers:this._providers,parent:this._injector}),O=R.create(k);return Object.assign(O.instance,w),this._applicationRef.attachView(O.hostView),new v([[O.location.nativeElement]],O.hostView,O)}const C=this._renderer?[this._renderer.createText(`${m}`)]:[];return new v([C])}}let d=(()=>{class E{constructor(F,w,C,R,k,O){this._componentFactoryResolver=F,this._ngZone=w,this._injector=C,this._posService=R,this._applicationRef=k,this._document=O}createLoader(F,w,C){return new f(w,C,F,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService,this._document)}static{this.\u0275fac=function(w){return new(w||E)(i.KVO(i.OM3),i.KVO(i.SKi),i.KVO(i.zZn),i.KVO(_.DF),i.KVO(i.o8S),i.KVO(g.qQ))}}static{this.\u0275prov=i.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}}return E})()},779:(et,me,u)=>{"use strict";u.d(me,{I8:()=>Lt,hZ:()=>Ye,Q_:()=>_t});var i=u(4438),e=u(2806),_=u(177),g=u(6697);let v,S=(()=>{class J{constructor(){this._focusTrapStack=[]}register(q){this._focusTrapStack=this._focusTrapStack.filter(Ee=>Ee!==q);let Se=this._focusTrapStack;Se.length&&Se[Se.length-1]._disable(),Se.push(q),q._enable()}deregister(q){q._disable();const Se=this._focusTrapStack,Ee=Se.indexOf(q);-1!==Ee&&(Se.splice(Ee,1),Se.length&&Se[Se.length-1]._enable())}static{this.\u0275fac=function(Se){return new(Se||J)}}static{this.\u0275prov=i.jDH({token:J,factory:J.\u0275fac,providedIn:"root"})}}return J})();try{v=typeof Intl<"u"&&Intl.v8BreakIterator}catch{v=!1}let f=(()=>{class J{constructor(q){this._platformId=q,this.isBrowser=this._platformId?(0,_.UE)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!v)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(Se){return new(Se||J)(i.KVO(i.Agw))}}static{this.\u0275prov=i.jDH({token:J,factory:J.\u0275fac,providedIn:"root"})}}return J})(),E=(()=>{class J{constructor(q){this._platform=q}isDisabled(q){return q.hasAttribute("disabled")}isVisible(q){return function F(J){return!!(J.offsetWidth||J.offsetHeight||"function"==typeof J.getClientRects&&J.getClientRects().length)}(q)&&"visible"===getComputedStyle(q).visibility}isTabbable(q){if(!this._platform.isBrowser)return!1;const Se=function m(J){try{return J.frameElement}catch{return null}}(function G(J){return J.ownerDocument&&J.ownerDocument.defaultView||window}(q));if(Se&&(-1===x(Se)||!this.isVisible(Se)))return!1;let Ee=q.nodeName.toLowerCase(),lt=x(q);return q.hasAttribute("contenteditable")?-1!==lt:!("iframe"===Ee||"object"===Ee||this._platform.WEBKIT&&this._platform.IOS&&!function $(J){let X=J.nodeName.toLowerCase(),q="input"===X&&J.type;return"text"===q||"password"===q||"select"===X||"textarea"===X}(q))&&("audio"===Ee?!!q.hasAttribute("controls")&&-1!==lt:"video"===Ee?-1!==lt&&(null!==lt||this._platform.FIREFOX||q.hasAttribute("controls")):q.tabIndex>=0)}isFocusable(q,Se){return function U(J){return!function C(J){return function k(J){return"input"==J.nodeName.toLowerCase()}(J)&&"hidden"==J.type}(J)&&(function w(J){let X=J.nodeName.toLowerCase();return"input"===X||"select"===X||"button"===X||"textarea"===X}(J)||function R(J){return function O(J){return"a"==J.nodeName.toLowerCase()}(J)&&J.hasAttribute("href")}(J)||J.hasAttribute("contenteditable")||H(J))}(q)&&!this.isDisabled(q)&&(Se?.ignoreVisibility||this.isVisible(q))}static{this.\u0275fac=function(Se){return new(Se||J)(i.KVO(f))}}static{this.\u0275prov=i.jDH({token:J,factory:J.\u0275fac,providedIn:"root"})}}return J})();function H(J){if(!J.hasAttribute("tabindex")||void 0===J.tabIndex)return!1;let X=J.getAttribute("tabindex");return"-32768"!=X&&!(!X||isNaN(parseInt(X,10)))}function x(J){if(!H(J))return null;const X=parseInt(J.getAttribute("tabindex")||"",10);return isNaN(X)?-1:X}function ie(J){return null!=J&&"false"!=`${J}`}class le{get enabled(){return this._enabled}set enabled(X){this._enabled=X,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(X,this._startAnchor),this._toggleAnchorTabIndex(X,this._endAnchor))}constructor(X,q,Se,Ee,lt=!1){this._element=X,this._checker=q,this._ngZone=Se,this._document=Ee,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,lt||this.attachAnchors()}destroy(){const X=this._startAnchor,q=this._endAnchor;X&&(X.removeEventListener("focus",this.startAnchorListener),X.parentNode&&X.parentNode.removeChild(X)),q&&(q.removeEventListener("focus",this.endAnchorListener),q.parentNode&&q.parentNode.removeChild(q)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(X=>{this._executeOnStable(()=>X(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(X=>{this._executeOnStable(()=>X(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(X=>{this._executeOnStable(()=>X(this.focusLastTabbableElement()))})}_getRegionBoundary(X){let q=this._element.querySelectorAll(`[cdk-focus-region-${X}], [cdkFocusRegion${X}], [cdk-focus-${X}]`);for(let Se=0;Se<q.length;Se++)q[Se].hasAttribute(`cdk-focus-${X}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${X}', use 'cdkFocusRegion${X}' instead. The deprecated attribute will be removed in 8.0.0.`,q[Se]):q[Se].hasAttribute(`cdk-focus-region-${X}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${X}', use 'cdkFocusRegion${X}' instead. The deprecated attribute will be removed in 8.0.0.`,q[Se]);return"start"==X?q.length?q[0]:this._getFirstTabbableElement(this._element):q.length?q[q.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const X=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(X){if(X.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",X),!this._checker.isFocusable(X)){const q=this._getFirstTabbableElement(X);return q?.focus(),!!q}return X.focus(),!0}return this.focusFirstTabbableElement()}focusFirstTabbableElement(){const X=this._getRegionBoundary("start");return X&&X.focus(),!!X}focusLastTabbableElement(){const X=this._getRegionBoundary("end");return X&&X.focus(),!!X}hasAttached(){return this._hasAttached}_getFirstTabbableElement(X){if(this._checker.isFocusable(X)&&this._checker.isTabbable(X))return X;let q=X.children||X.childNodes;for(let Se=0;Se<q.length;Se++){let Ee=q[Se].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(q[Se]):null;if(Ee)return Ee}return null}_getLastTabbableElement(X){if(this._checker.isFocusable(X)&&this._checker.isTabbable(X))return X;let q=X.children||X.childNodes;for(let Se=q.length-1;Se>=0;Se--){let Ee=q[Se].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(q[Se]):null;if(Ee)return Ee}return null}_createAnchor(){const X=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,X),X.classList.add("cdk-visually-hidden"),X.classList.add("cdk-focus-trap-anchor"),X.setAttribute("aria-hidden","true"),X}_toggleAnchorTabIndex(X,q){X?q.setAttribute("tabindex","0"):q.removeAttribute("tabindex")}toggleAnchors(X){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(X,this._startAnchor),this._toggleAnchorTabIndex(X,this._endAnchor))}_executeOnStable(X){this._ngZone.isStable?X():this._ngZone.onStable.pipe((0,g.s)(1)).subscribe(X)}}let L=(()=>{class J{constructor(q,Se,Ee){this._checker=q,this._ngZone=Se,this._document=Ee}create(q,Se=!1){return new le(q,this._checker,this._ngZone,this._document,Se)}static{this.\u0275fac=function(Se){return new(Se||J)(i.KVO(E),i.KVO(i.SKi),i.KVO(_.qQ))}}static{this.\u0275prov=i.jDH({token:J,factory:J.\u0275fac,providedIn:"root"})}}return J})(),Q=(()=>{class J{get enabled(){return this.focusTrap.enabled}set enabled(q){this.focusTrap.enabled=ie(q)}get autoCapture(){return this._autoCapture}set autoCapture(q){this._autoCapture=ie(q)}constructor(q,Se,Ee){this._elementRef=q,this._focusTrapFactory=Se,this._previouslyFocusedElement=null,this._autoCapture=!1,this._document=Ee,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(q){const Se=q.autoCapture;Se&&!Se.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=this._document.activeElement,this.focusTrap.focusInitialElementWhenReady()}static{this.\u0275fac=function(Se){return new(Se||J)(i.rXU(i.aKT),i.rXU(L),i.rXU(_.qQ))}}static{this.\u0275dir=i.FsC({type:J,selectors:[["","focusTrap",""]],inputs:{enabled:[i.Mj6.None,"cdkTrapFocus","enabled"],autoCapture:[i.Mj6.None,"cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["focusTrap"],features:[i.OA$]})}}return J})(),te=(()=>{class J{static forRoot(){return{ngModule:J,providers:[S,f,E]}}static{this.\u0275fac=function(Se){return new(Se||J)}}static{this.\u0275mod=i.$C({type:J})}static{this.\u0275inj=i.G2t({imports:[_.MD]})}}return J})();var I=u(6932),oe=u(2865);const Y=["*"];let _e=(()=>{class J{constructor(){this.hide=()=>{},this.setClass=()=>{}}static{this.\u0275fac=function(Se){return new(Se||J)}}static{this.\u0275prov=i.jDH({token:J,factory:J.\u0275fac,providedIn:"platform"})}}return J})(),Re=(()=>{class J{static{this.\u0275fac=function(Se){return new(Se||J)}}static{this.\u0275prov=i.jDH({token:J,factory:J.\u0275fac,providedIn:"platform"})}}return J})();const xe={backdrop:!0,keyboard:!0,focus:!0,show:!1,ignoreBackdropClick:!1,class:"",animated:!0,initialState:{},closeInterceptor:void 0},Je=new i.nKC("override-default-config"),Te_OPEN="modal-open";let Ae=(()=>{class J{constructor(q,Se,Ee){this._element=Se,this._renderer=Ee,this.isShown=!1,this.isAnimated=!1,this._focusEl=null,this.isModalHiding=!1,this.clickStartedInContent=!1,this.config=Object.assign({},q)}ngOnInit(){this._focusEl=e.Al.activeElement,this.isAnimated&&this._renderer.addClass(this._element.nativeElement,"fade"),this._renderer.setStyle(this._element.nativeElement,"display","block"),setTimeout(()=>{this.isShown=!0,this._renderer.addClass(this._element.nativeElement,"show")},this.isAnimated?150:0),e.Al&&e.Al.body&&(this.bsModalService&&1===this.bsModalService.getModalsCount()&&(this.bsModalService.checkScrollbar(),this.bsModalService.setScrollbar()),this._renderer.addClass(e.Al.body,Te_OPEN),this._renderer.setStyle(e.Al.body,"overflow-y","hidden")),this._element.nativeElement&&this._element.nativeElement.focus()}onClickStarted(q){this.clickStartedInContent=q.target!==this._element.nativeElement}onClickStop(q){this.config.ignoreBackdropClick||"static"===this.config.backdrop||q.target!==this._element.nativeElement||this.clickStartedInContent?this.clickStartedInContent=!1:(this.bsModalService?.setDismissReason("backdrop-click"),this.hide())}onPopState(){this.bsModalService?.setDismissReason("browser-back-navigation-clicked"),this.hide()}onEsc(q){this.isShown&&((27===q.keyCode||"Escape"===q.key)&&q.preventDefault(),this.config.keyboard&&this.level===this.bsModalService?.getModalsCount()&&(this.bsModalService?.setDismissReason("esc"),this.hide()))}ngOnDestroy(){this.isShown&&this._hide()}hide(){if(!this.isModalHiding){if(this.config.closeInterceptor)return void this.config.closeInterceptor().then(()=>this._hide(),()=>{});this._hide()}}_hide(){this.isModalHiding=!0,this._renderer.removeClass(this._element.nativeElement,"show"),setTimeout(()=>{this.isShown=!1,e.Al&&e.Al.body&&1===this.bsModalService?.getModalsCount()&&(this._renderer.removeClass(e.Al.body,Te_OPEN),this._renderer.setStyle(e.Al.body,"overflow-y","")),this.bsModalService?.hide(this.config.id),this.isModalHiding=!1,this._focusEl&&this._focusEl.focus()},this.isAnimated?300:0)}static{this.\u0275fac=function(Se){return new(Se||J)(i.rXU(Re),i.rXU(i.aKT),i.rXU(i.sFG))}}static{this.\u0275cmp=i.VBU({type:J,selectors:[["modal-container"]],hostAttrs:["role","dialog","tabindex","-1",1,"modal"],hostVars:3,hostBindings:function(Se,Ee){1&Se&&i.bIt("mousedown",function(Ue){return Ee.onClickStarted(Ue)})("click",function(Ue){return Ee.onClickStop(Ue)})("popstate",function(){return Ee.onPopState()},!1,i.tSv)("keydown.esc",function(Ue){return Ee.onEsc(Ue)},!1,i.tSv),2&Se&&i.BMQ("aria-modal",!0)("aria-labelledby",Ee.config.ariaLabelledBy)("aria-describedby",Ee.config.ariaDescribedby)},ngContentSelectors:Y,decls:3,vars:2,consts:[["role","document","focusTrap",""],[1,"modal-content"]],template:function(Se,Ee){1&Se&&(i.NAR(),i.j41(0,"div",0)(1,"div",1),i.SdG(2),i.k0s()()),2&Se&&i.HbH("modal-dialog"+(Ee.config.class?" "+Ee.config.class:""))},dependencies:[Q],encapsulation:2})}}return J})(),st=(()=>{class J{get isAnimated(){return this._isAnimated}set isAnimated(q){this._isAnimated=q}get isShown(){return this._isShown}set isShown(q){this._isShown=q,q?this.renderer.addClass(this.element.nativeElement,"show"):this.renderer.removeClass(this.element.nativeElement,"show")}constructor(q,Se){this._isAnimated=!1,this._isShown=!1,this.element=q,this.renderer=Se}ngOnInit(){this.isAnimated&&(this.renderer.addClass(this.element.nativeElement,"fade"),e.Aq.reflow(this.element.nativeElement)),this.isShown=!0}static{this.\u0275fac=function(Se){return new(Se||J)(i.rXU(i.aKT),i.rXU(i.sFG))}}static{this.\u0275cmp=i.VBU({type:J,selectors:[["bs-modal-backdrop"]],hostAttrs:[1,"modal-backdrop"],decls:0,vars:0,template:function(Se,Ee){},encapsulation:2})}}return J})(),Ye=(()=>{class J{set config(q){this._config=this.getConfig(q)}get config(){return this._config}get isShown(){return this._isShown}constructor(q,Se,Ee,lt,Ue){this._element=q,this._renderer=Ee,this.onShow=new i.bkB,this.onShown=new i.bkB,this.onHide=new i.bkB,this.onHidden=new i.bkB,this._isShown=!1,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.timerHideModal=0,this.timerRmBackDrop=0,this.isNested=!1,this.clickStartedInContent=!1,this._focusEl=null,this._backdrop=lt.createLoader(q,Se,Ee),this._config=Ue||xe}onClickStarted(q){this.clickStartedInContent=q.target!==this._element.nativeElement}onClickStop(q){this.config.ignoreBackdropClick||"static"===this.config.backdrop||q.target!==this._element.nativeElement||this.clickStartedInContent?this.clickStartedInContent=!1:(this.dismissReason="backdrop-click",this.hide(q))}onEsc(q){this._isShown&&((27===q.keyCode||"Escape"===q.key)&&q.preventDefault(),this.config.keyboard&&(this.dismissReason="esc",this.hide()))}ngOnDestroy(){this._isShown&&(this._isShown=!1,this.hideModal(),this._backdrop.dispose())}ngOnInit(){this._config=this._config||this.getConfig(),setTimeout(()=>{this._config.show&&this.show()},0)}toggle(){return this._isShown?this.hide():this.show()}show(){this.dismissReason=void 0,this.onShow.emit(this),!this._isShown&&(clearTimeout(this.timerHideModal),clearTimeout(this.timerRmBackDrop),this._isShown=!0,this.checkScrollbar(),this.setScrollbar(),e.Al&&e.Al.body&&(e.Al.body.classList.contains(Te_OPEN)?this.isNested=!0:(this._renderer.addClass(e.Al.body,Te_OPEN),this._renderer.setStyle(e.Al.body,"overflow-y","hidden"))),this.showBackdrop(()=>{this.showElement()}))}hide(q){if(this._isShown){if(q&&q.preventDefault(),this.config.closeInterceptor)return void this.config.closeInterceptor().then(()=>this._hide(),()=>{});this._hide()}}_hide(){this.onHide.emit(this),e.x.clearTimeout(this.timerHideModal),e.x.clearTimeout(this.timerRmBackDrop),this._isShown=!1,this._renderer.removeClass(this._element.nativeElement,"show"),this._config.animated?this.timerHideModal=e.x.setTimeout(()=>this.hideModal(),300):this.hideModal(),this._focusEl&&this._focusEl.focus()}getConfig(q){return Object.assign({},this._config,q)}showElement(){(!this._element.nativeElement.parentNode||this._element.nativeElement.parentNode.nodeType!==Node.ELEMENT_NODE)&&e.Al&&e.Al.body&&e.Al.body.appendChild(this._element.nativeElement),this._renderer.setAttribute(this._element.nativeElement,"aria-hidden","false"),this._renderer.setAttribute(this._element.nativeElement,"aria-modal","true"),this._renderer.setStyle(this._element.nativeElement,"display","block"),this._renderer.setProperty(this._element.nativeElement,"scrollTop",0),this._config.animated&&e.Aq.reflow(this._element.nativeElement),this._renderer.addClass(this._element.nativeElement,"show");const q=()=>{this._config.focus&&this._element.nativeElement.focus(),this.onShown.emit(this)};this._config.animated?setTimeout(q,300):q()}hideModal(){this._renderer.setAttribute(this._element.nativeElement,"aria-hidden","true"),this._renderer.setStyle(this._element.nativeElement,"display","none"),this.showBackdrop(()=>{this.isNested||(e.Al&&e.Al.body&&(this._renderer.removeClass(e.Al.body,Te_OPEN),this._renderer.setStyle(e.Al.body,"overflow-y","")),this.resetScrollbar()),this.resetAdjustments(),this.focusOtherModal(),this.onHidden.emit(this)})}showBackdrop(q){if(!this._isShown||!this.config.backdrop||this.backdrop&&this.backdrop.instance.isShown)if(!this._isShown&&this.backdrop){this.backdrop.instance.isShown=!1;const Se=()=>{this.removeBackdrop(),q&&q()};this.backdrop.instance.isAnimated?this.timerRmBackDrop=e.x.setTimeout(Se,150):Se()}else q&&q();else{if(this.removeBackdrop(),this._backdrop.attach(st).to("body").show({isAnimated:this._config.animated}),this.backdrop=this._backdrop._componentRef,!q)return;if(!this._config.animated)return void q();setTimeout(q,150)}}removeBackdrop(){this._backdrop.hide()}focusOtherModal(){if(null==this._element.nativeElement.parentElement)return;const q=this._element.nativeElement.parentElement.querySelectorAll(".in[bsModal]");q.length&&q[q.length-1].focus()}resetAdjustments(){this._renderer.setStyle(this._element.nativeElement,"paddingLeft",""),this._renderer.setStyle(this._element.nativeElement,"paddingRight","")}checkScrollbar(){this.isBodyOverflowing=e.Al.body.clientWidth<e.x.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()}setScrollbar(){e.Al&&(this.originalBodyPadding=parseInt(e.x.getComputedStyle(e.Al.body).getPropertyValue("padding-right")||0,10),this.isBodyOverflowing&&(e.Al.body.style.paddingRight=`${this.originalBodyPadding+this.scrollbarWidth}px`))}resetScrollbar(){e.Al.body.style.paddingRight=`${this.originalBodyPadding}px`}getScrollbarWidth(){const q=this._renderer.createElement("div");this._renderer.addClass(q,"modal-scrollbar-measure"),this._renderer.appendChild(e.Al.body,q);const Se=q.offsetWidth-q.clientWidth;return this._renderer.removeChild(e.Al.body,q),Se}static{this.\u0275fac=function(Se){return new(Se||J)(i.rXU(i.aKT),i.rXU(i.c1b),i.rXU(i.sFG),i.rXU(I.Li),i.rXU(Je,8))}}static{this.\u0275dir=i.FsC({type:J,selectors:[["","bsModal",""]],hostBindings:function(Se,Ee){1&Se&&i.bIt("mousedown",function(Ue){return Ee.onClickStarted(Ue)})("mouseup",function(Ue){return Ee.onClickStop(Ue)})("keydown.esc",function(Ue){return Ee.onEsc(Ue)})},inputs:{config:"config",closeInterceptor:"closeInterceptor"},outputs:{onShow:"onShow",onShown:"onShown",onHide:"onHide",onHidden:"onHidden"},exportAs:["bs-modal"]})}}return J})(),zt=1,Lt=(()=>{class J{constructor(q,Se,Ee){this.clf=Se,this.modalDefaultOption=Ee,this.onShow=new i.bkB,this.onShown=new i.bkB,this.onHide=new i.bkB,this.onHidden=new i.bkB,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.modalsCount=0,this.loaders=[],this._focusEl=null,this._backdropLoader=this.clf.createLoader(),this._renderer=q.createRenderer(null,null),this.config=Ee?Object.assign({},xe,Ee):xe}show(q,Se){this._focusEl=e.Al.activeElement,this.modalsCount++,this._createLoaders();const Ee=Se?.id||zt++;return this.config=this.modalDefaultOption?Object.assign({},xe,this.modalDefaultOption,Se):Object.assign({},xe,Se),this.config.id=Ee,this._showBackdrop(),this.lastDismissReason=void 0,this._showModal(q)}hide(q){(1===this.modalsCount||null==q)&&(this._hideBackdrop(),this.resetScrollbar()),this.modalsCount=this.modalsCount>=1&&null!=q?this.modalsCount-1:0,setTimeout(()=>{this._hideModal(q),this.removeLoaders(q)},this.config.animated?150:0),this._focusEl&&this._focusEl.focus()}_showBackdrop(){const q=!0===this.config.backdrop||"static"===this.config.backdrop,Se=!this.backdropRef||!this.backdropRef.instance.isShown;1===this.modalsCount&&(this.removeBackdrop(),q&&Se&&(this._backdropLoader.attach(st).to("body").show({isAnimated:this.config.animated}),this.backdropRef=this._backdropLoader._componentRef))}_hideBackdrop(){this.backdropRef&&(this.backdropRef.instance.isShown=!1,setTimeout(()=>this.removeBackdrop(),this.config.animated?150:0))}_showModal(q){const Se=this.loaders[this.loaders.length-1];if(this.config&&this.config.providers)for(const Ue of this.config.providers)Se.provide(Ue);const Ee=new _e,lt=Se.provide({provide:Re,useValue:this.config}).provide({provide:_e,useValue:Ee}).attach(Ae).to("body");return Ee.hide=()=>this.hide(Ee.id),Ee.setClass=Ue=>{lt.instance&&(lt.instance.config.class=Ue)},Ee.onHidden=new i.bkB,Ee.onHide=new i.bkB,this.copyEvent(Se.onBeforeHide,Ee.onHide),this.copyEvent(Se.onHidden,Ee.onHidden),lt.show({content:q,isAnimated:this.config.animated,initialState:this.config.initialState,bsModalService:this,id:this.config.id}),lt.instance&&(lt.instance.level=this.getModalsCount(),Ee.content=Se.getInnerComponent(),Ee.id=lt.instance.config?.id),Ee}_hideModal(q){if(null!=q){const Se=this.loaders.findIndex(lt=>lt.instance?.config.id===q),Ee=this.loaders[Se];Ee&&Ee.hide(q)}else this.loaders.forEach(Se=>{Se.instance&&Se.hide(Se.instance.config.id)})}getModalsCount(){return this.modalsCount}setDismissReason(q){this.lastDismissReason=q}removeBackdrop(){this._renderer.removeClass(e.Al.body,Te_OPEN),this._renderer.setStyle(e.Al.body,"overflow-y",""),this._backdropLoader.hide(),this.backdropRef=void 0}checkScrollbar(){this.isBodyOverflowing=e.Al.body.clientWidth<window.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()}setScrollbar(){e.Al&&(this.originalBodyPadding=parseInt(window.getComputedStyle(e.Al.body).getPropertyValue("padding-right")||"0",10),this.isBodyOverflowing&&(e.Al.body.style.paddingRight=`${this.originalBodyPadding+this.scrollbarWidth}px`))}resetScrollbar(){e.Al.body.style.paddingRight=`${this.originalBodyPadding}px`}getScrollbarWidth(){const q=this._renderer.createElement("div");this._renderer.addClass(q,"modal-scrollbar-measure"),this._renderer.appendChild(e.Al.body,q);const Se=q.offsetWidth-q.clientWidth;return this._renderer.removeChild(e.Al.body,q),Se}_createLoaders(){const q=this.clf.createLoader();this.copyEvent(q.onBeforeShow,this.onShow),this.copyEvent(q.onShown,this.onShown),this.copyEvent(q.onBeforeHide,this.onHide),this.copyEvent(q.onHidden,this.onHidden),this.loaders.push(q)}removeLoaders(q){if(null!=q){const Se=this.loaders.findIndex(Ee=>Ee.instance?.config.id===q);Se>=0&&(this.loaders.splice(Se,1),this.loaders.forEach((Ee,lt)=>{Ee.instance&&(Ee.instance.level=lt+1)}))}else this.loaders.splice(0,this.loaders.length)}copyEvent(q,Se){q.subscribe(Ee=>{Se.emit(this.lastDismissReason||Ee)})}static{this.\u0275fac=function(Se){return new(Se||J)(i.KVO(i._9s),i.KVO(I.Li),i.KVO(Je,8))}}static{this.\u0275prov=i.jDH({token:J,factory:J.\u0275fac,providedIn:"platform"})}}return J})();te.forRoot();let _t=(()=>{class J{static forRoot(){return{ngModule:J,providers:[Lt,I.Li,oe.DF]}}static forChild(){return{ngModule:J,providers:[Lt,I.Li,oe.DF]}}static{this.\u0275fac=function(Se){return new(Se||J)}}static{this.\u0275mod=i.$C({type:J})}static{this.\u0275inj=i.G2t({imports:[te]})}}return J})()},2865:(et,me,u)=>{"use strict";u.d(me,{Rz:()=>H,DF:()=>rt});var i=u(2806),e=u(4438),_=u(177),g=u(1413),S=u(7786),v=u(3726),f=u(7673),d=u(6780),E=u(8359);const m={schedule(ve){let ae=requestAnimationFrame,j=cancelAnimationFrame;const{delegate:se}=m;se&&(ae=se.requestAnimationFrame,j=se.cancelAnimationFrame);const Be=ae(qe=>{j=void 0,ve(qe)});return new E.yU(()=>j?.(Be))},requestAnimationFrame(...ve){const{delegate:ae}=m;return(ae?.requestAnimationFrame||requestAnimationFrame)(...ve)},cancelAnimationFrame(...ve){const{delegate:ae}=m;return(ae?.cancelAnimationFrame||cancelAnimationFrame)(...ve)},delegate:void 0};var w=u(9687);const R=new class C extends w.q{flush(ae){this._active=!0;const j=this._scheduled;this._scheduled=void 0;const{actions:se}=this;let Be;ae=ae||se.shift();do{if(Be=ae.execute(ae.state,ae.delay))break}while((ae=se[0])&&ae.id===j&&se.shift());if(this._active=!1,Be){for(;(ae=se[0])&&ae.id===j&&se.shift();)ae.unsubscribe();throw Be}}}(class F extends d.R{constructor(ae,j){super(ae,j),this.scheduler=ae,this.work=j}requestAsyncId(ae,j,se=0){return null!==se&&se>0?super.requestAsyncId(ae,j,se):(ae.actions.push(this),ae._scheduled||(ae._scheduled=m.requestAnimationFrame(()=>ae.flush(void 0))))}recycleAsyncId(ae,j,se=0){var Be;if(null!=se?se>0:this.delay>0)return super.recycleAsyncId(ae,j,se);const{actions:qe}=ae;null!=j&&(null===(Be=qe[qe.length-1])||void 0===Be?void 0:Be.id)!==j&&(m.cancelAnimationFrame(j),ae._scheduled=void 0)}});var O=function(ve){return ve.top="top",ve.bottom="bottom",ve.left="left",ve.right="right",ve.auto="auto",ve.end="right",ve.start="left",ve["top left"]="top left",ve["top right"]="top right",ve["right top"]="right top",ve["right bottom"]="right bottom",ve["bottom right"]="bottom right",ve["bottom left"]="bottom left",ve["left bottom"]="left bottom",ve["left top"]="left top",ve["top start"]="top left",ve["top end"]="top right",ve["end top"]="right top",ve["end bottom"]="right bottom",ve["bottom end"]="bottom right",ve["bottom start"]="bottom left",ve["start bottom"]="start bottom",ve["start top"]="left top",ve}(O||{}),H=function(ve){return ve.top="top",ve.bottom="bottom",ve.left="start",ve.right="end",ve.auto="auto",ve.end="end",ve.start="start",ve["top left"]="top start",ve["top right"]="top end",ve["right top"]="end top",ve["right bottom"]="end bottom",ve["bottom right"]="bottom end",ve["bottom left"]="bottom start",ve["left bottom"]="start bottom",ve["left top"]="start top",ve["top start"]="top start",ve["top end"]="top end",ve["end top"]="end top",ve["end bottom"]="end bottom",ve["bottom end"]="bottom end",ve["bottom start"]="bottom start",ve["start bottom"]="start bottom",ve["start top"]="start top",ve}(H||{});function x(ve,ae){if(1!==ve.nodeType)return[];const se=ve.ownerDocument.defaultView?.getComputedStyle(ve,null);return ae?se&&se[ae]:se}function $(ve){if(!ve)return document.documentElement;let se,j=ve?.offsetParent;for(;null===j&&ve.nextElementSibling&&se!==ve.nextElementSibling;)se=ve.nextElementSibling,j=se.offsetParent;const Be=j&&j.nodeName;return Be&&"BODY"!==Be&&"HTML"!==Be?j&&-1!==["TH","TD","TABLE"].indexOf(j.nodeName)&&"static"===x(j,"position")?$(j):j:se?se.ownerDocument.documentElement:document.documentElement}function G(ve){return null!==ve.parentNode?G(ve.parentNode):ve}function ie(ve,ae){if(!(ve&&ve.nodeType&&ae&&ae.nodeType))return document.documentElement;const j=ve.compareDocumentPosition(ae)&Node.DOCUMENT_POSITION_FOLLOWING,se=j?ve:ae,Be=j?ae:ve,qe=document.createRange();qe.setStart(se,0),qe.setEnd(Be,0);const ht=qe.commonAncestorContainer;if(ve!==ht&&ae!==ht||se.contains(Be))return function U(ve){const{nodeName:ae}=ve;return"BODY"!==ae&&("HTML"===ae||$(ve.firstElementChild)===ve)}(ht)?ht:$(ht);const Ft=G(ve);return Ft.host?ie(Ft.host,ae):ie(ve,G(ae).host)}function le(ve){if(!ve||!ve.parentElement)return document.documentElement;let ae=ve.parentElement;for(;ae?.parentElement&&"none"===x(ae,"transform");)ae=ae.parentElement;return ae||document.documentElement}function L(ve,ae){const j="x"===ae?"Left":"Top",se="Left"===j?"Right":"Bottom";return parseFloat(ve[`border${j}Width`])+parseFloat(ve[`border${se}Width`])}function Q(ve,ae,j){return Math.max(ae[`offset${ve}`],ae[`scroll${ve}`],j[`client${ve}`],j[`offset${ve}`],j[`scroll${ve}`],0)}function te(ve){const ae=ve.body,j=ve.documentElement;return{height:Q("Height",ae,j),width:Q("Width",ae,j)}}function I(ve){return{...ve,right:(ve.left||0)+ve.width,bottom:(ve.top||0)+ve.height}}function Y(ve){return"number"==typeof ve||"[object Number]"===Object.prototype.toString.call(ve)}function _e(ve){const ae=ve.getBoundingClientRect();if(!(ae&&Y(ae.top)&&Y(ae.left)&&Y(ae.bottom)&&Y(ae.right)))return ae;const j={left:ae.left,top:ae.top,width:ae.right-ae.left,height:ae.bottom-ae.top},se="HTML"===ve.nodeName?te(ve.ownerDocument):void 0,Be=se?.width||ve.clientWidth||Y(ae.right)&&Y(j.left)&&ae.right-j.left||0,qe=se?.height||ve.clientHeight||Y(ae.bottom)&&Y(j.top)&&ae.bottom-j.top||0;let ht=ve.offsetWidth-Be,Ft=ve.offsetHeight-qe;if(ht||Ft){const on=x(ve);ht-=L(on,"x"),Ft-=L(on,"y"),j.width-=ht,j.height-=Ft}return I(j)}function Oe(ve,ae,j=!1){const se="HTML"===ae.nodeName,Be=_e(ve),qe=_e(ae),ht=x(ae),Ft=parseFloat(ht.borderTopWidth),on=parseFloat(ht.borderLeftWidth);j&&se&&(qe.top=Math.max(qe.top??0,0),qe.left=Math.max(qe.left??0,0));const un=I({top:(Be.top??0)-(qe.top??0)-Ft,left:(Be.left??0)-(qe.left??0)-on,width:Be.width,height:Be.height});if(un.marginTop=0,un.marginLeft=0,se){const Mn=parseFloat(ht.marginTop),kn=parseFloat(ht.marginLeft);Y(un.top)&&(un.top-=Ft-Mn),Y(un.bottom)&&(un.bottom-=Ft-Mn),Y(un.left)&&(un.left-=on-kn),Y(un.right)&&(un.right-=on-kn),un.marginTop=Mn,un.marginLeft=kn}return un}function Re(ve){return"HTML"===ve.nodeName?ve:ve.parentNode||ve.host}function xe(ve){if(!ve)return document.body;switch(ve.nodeName){case"HTML":case"BODY":return ve.ownerDocument.body;case"#document":return ve.body}const{overflow:ae,overflowX:j,overflowY:se}=x(ve);return/(auto|scroll|overlay)/.test(String(ae)+String(se)+String(j))?ve:xe(Re(ve))}function Je(ve,ae="top"){const j="top"===ae?"scrollTop":"scrollLeft",se=ve.nodeName;return"BODY"===se||"HTML"===se?(ve.ownerDocument.scrollingElement||ve.ownerDocument.documentElement)[j]:ve[j]}function we(ve){const ae=ve.nodeName;return"BODY"!==ae&&"HTML"!==ae&&("fixed"===x(ve,"position")||we(Re(ve)))}function he(ve,ae,j=0,se,Be=!1){let qe={top:0,left:0};const ht=Be?le(ve):ie(ve,ae);if("viewport"===se)qe=function Te(ve,ae=!1){const j=ve.ownerDocument.documentElement,se=Oe(ve,j),Be=Math.max(j.clientWidth,window.innerWidth||0),qe=Math.max(j.clientHeight,window.innerHeight||0),ht=ae?0:Je(j),Ft=ae?0:Je(j,"left");return I({top:ht-Number(se?.top)+Number(se?.marginTop),left:Ft-Number(se?.left)+Number(se?.marginLeft),width:Be,height:qe})}(ht,Be);else{let Ft;"scrollParent"===se?(Ft=xe(Re(ae)),"BODY"===Ft.nodeName&&(Ft=ve.ownerDocument.documentElement)):Ft="window"===se?ve.ownerDocument.documentElement:se;const on=Oe(Ft,ht,Be);if(on&&"HTML"===Ft.nodeName&&!we(ht)){const{height:un,width:Mn}=te(ve.ownerDocument);Y(qe.top)&&Y(on.top)&&Y(on.marginTop)&&(qe.top+=on.top-on.marginTop),Y(qe.top)&&(qe.bottom=Number(un)+Number(on.top)),Y(qe.left)&&Y(on.left)&&Y(on.marginLeft)&&(qe.left+=on.left-on.marginLeft),Y(qe.top)&&(qe.right=Number(Mn)+Number(on.left))}else on&&(qe=on)}return Y(qe.left)&&(qe.left+=j),Y(qe.top)&&(qe.top+=j),Y(qe.right)&&(qe.right-=j),Y(qe.bottom)&&(qe.bottom-=j),qe}function Le({width:ve,height:ae}){return ve*ae}function Ae(ve,ae,j,se,Be=["top","bottom","right","left"],qe="viewport",ht=0){if(-1===ve.indexOf("auto"))return ve;const Ft=he(j,se,ht,qe),on={top:{width:Ft?.width??0,height:(ae?.top??0)-(Ft?.top??0)},right:{width:(Ft?.right??0)-(ae?.right??0),height:Ft?.height??0},bottom:{width:Ft?.width??0,height:(Ft?.bottom??0)-(ae?.bottom??0)},left:{width:(ae.left??0)-(Ft?.left??0),height:Ft?.height??0}},un=Object.keys(on).map(Tt=>({position:Tt,...on[Tt],area:Le(on[Tt])})).sort((Tt,Rn)=>Rn.area-Tt.area);let Mn=un.filter(({width:Tt,height:Rn})=>Tt>=j.clientWidth&&Rn>=j.clientHeight);Mn=Mn.filter(({position:Tt})=>Be.some(Rn=>Rn===Tt));const kn=Mn.length>0?Mn[0].position:un[0].position,Bn=ve.split(" ")[1];return j.className=j.className.replace(/bs-tooltip-auto/g,`bs-tooltip-${(0,i.Bu)().isBs5?H[kn]:kn}`),kn+(Bn?`-${Bn}`:"")}const Ye=(ve,ae=0)=>ve?parseFloat(ve):ae;function zt(ve){const j=ve.ownerDocument.defaultView?.getComputedStyle(ve),se=Ye(j?.marginTop)+Ye(j?.marginBottom),Be=Ye(j?.marginLeft)+Ye(j?.marginRight);return{width:Number(ve.offsetWidth)+Be,height:Number(ve.offsetHeight)+se}}function Lt(ve,ae,j){return Oe(ae,j?le(ve):ie(ve,ae),j)}function Et(ve,ae,j){const se=j.split(" ")[0],Be=zt(ve),qe={width:Be.width,height:Be.height},ht=-1!==["right","left"].indexOf(se),Ft=ht?"top":"left",on=ht?"left":"top",un=ht?"height":"width",Mn=ht?"width":"height";return qe[Ft]=(ae[Ft]??0)+ae[un]/2-Be[un]/2,qe[on]=se===on?(ae[on]??0)-Be[Mn]:ae[function Fe(ve){const ae={left:"right",right:"left",bottom:"top",top:"bottom"};return ve.replace(/left|right|bottom|top/g,j=>ae[j])}(on)]??0,qe}function _t(ve,ae){return!!ve.modifiers[ae]?.enabled}const J={top:["top","top start","top end"],bottom:["bottom","bottom start","bottom end"],start:["start","start top","start bottom"],end:["end","end top","end bottom"]};function X(ve,ae){return!!(0,i.Bu)().isBs5&&J[ae].includes(ve)}function Ee(ve,ae,j){!ve||!ae||Object.keys(ae).forEach(se=>{let Be="";-1!==["width","height","top","right","bottom","left"].indexOf(se)&&function oe(ve){return""!==ve&&!isNaN(parseFloat(ve))&&isFinite(Number(ve))}(ae[se])&&(Be="px"),j?j.setStyle(ve,se,`${String(ae[se])}${Be}`):ve.style[se]=String(ae[se])+Be})}function lt(ve){let ae=ve.offsets.target;const j=ve.instance.target.querySelector(".arrow");if(!j)return ve;const se=-1!==["left","right"].indexOf(ve.placement.split(" ")[0]),Be=se?"height":"width",qe=se?"Top":"Left",ht=qe.toLowerCase(),Ft=se?"left":"top",on=se?"bottom":"right",un=zt(j)[Be],Mn=ve.placement.split(" ")[1];(ve.offsets.host[on]??0)-un<(ae[ht]??0)&&(ae[ht]-=(ae[ht]??0)-((ve.offsets.host[on]??0)-un)),Number(ve.offsets.host[ht])+Number(un)>(ae[on]??0)&&(ae[ht]+=Number(ve.offsets.host[ht])+Number(un)-Number(ae[on])),ae=I(ae);const kn=x(ve.instance.target),Bn=parseFloat(kn[`margin${qe}`])||0,Tt=parseFloat(kn[`border${qe}Width`])||0;let Rn;if(Mn){const ct=parseFloat(kn.borderRadius)||0,yt=Number(Bn+Tt+ct);Rn=ht===Mn?Number(ve.offsets.host[ht])+yt:Number(ve.offsets.host[ht])+Number(ve.offsets.host[Be]-yt)}else Rn=Number(ve.offsets.host[ht])+Number(ve.offsets.host[Be]/2-un/2);let Gt=Rn-(ae[ht]??0)-Bn-Tt;return Gt=Math.max(Math.min(ae[Be]-(un+5),Gt),0),ve.offsets.arrow={[ht]:Math.round(Gt),[Ft]:""},ve.instance.arrow=j,ve}function Ue(ve){if(ve.offsets.target=I(ve.offsets.target),!_t(ve.options,"flip"))return ve.offsets.target={...ve.offsets.target,...Et(ve.instance.target,ve.offsets.host,ve.placement)},ve;const ae=he(ve.instance.target,ve.instance.host,0,"viewport",!1);let j=ve.placement.split(" ")[0],se=ve.placement.split(" ")[1]||"";const Ft=Ae("auto",ve.offsets.host,ve.instance.target,ve.instance.host,ve.options.allowedPositions),on=[j,Ft];return on.forEach((un,Mn)=>{if(j!==un||on.length===Mn+1)return;j=ve.placement.split(" ")[0];const kn="left"===j&&Math.floor(ve.offsets.target.right??0)>Math.floor(ve.offsets.host.left??0)||"right"===j&&Math.floor(ve.offsets.target.left??0)<Math.floor(ve.offsets.host.right??0)||"top"===j&&Math.floor(ve.offsets.target.bottom??0)>Math.floor(ve.offsets.host.top??0)||"bottom"===j&&Math.floor(ve.offsets.target.top??0)<Math.floor(ve.offsets.host.bottom??0),Bn=Math.floor(ve.offsets.target.left??0)<Math.floor(ae.left??0),Tt=Math.floor(ve.offsets.target.right??0)>Math.floor(ae.right??0),Rn=Math.floor(ve.offsets.target.top??0)<Math.floor(ae.top??0),Gt=Math.floor(ve.offsets.target.bottom??0)>Math.floor(ae.bottom??0),ct="left"===j&&Bn||"right"===j&&Tt||"top"===j&&Rn||"bottom"===j&&Gt,yt=-1!==["top","bottom"].indexOf(j),mt=yt&&"left"===se&&Bn||yt&&"right"===se&&Tt||!yt&&"left"===se&&Rn||!yt&&"right"===se&&Gt;(kn||ct||mt)&&((kn||ct)&&(j=on[Mn+1]),mt&&(se=function ft(ve){return"right"===ve?"left":"left"===ve?"right":ve}(se)),ve.placement=j+(se?` ${se}`:""),ve.offsets.target={...ve.offsets.target,...Et(ve.instance.target,ve.offsets.host,ve.placement)})}),ve}function Ot(ve){if(!_t(ve.options,"preventOverflow"))return ve;const ae="transform",j=ve.instance.target.style,{top:se,left:Be,[ae]:qe}=j;j.top="",j.left="",j[ae]="";const ht=he(ve.instance.target,ve.instance.host,0,ve.options.modifiers.preventOverflow?.boundariesElement||"scrollParent",!1);j.top=se,j.left=Be,j[ae]=qe;const on={primary(un){let Mn=ve.offsets.target[un];return(ve.offsets.target[un]??0)<(ht[un]??0)&&(Mn=Math.max(ve.offsets.target[un]??0,ht[un]??0)),{[un]:Mn}},secondary(un){const Mn="right"===un,kn=Mn?"left":"top";let Tt=ve.offsets.target[kn];return(ve.offsets.target[un]??0)>(ht[un]??0)&&(Tt=Math.min(ve.offsets.target[kn]??0,(ht[un]??0)-ve.offsets.target[Mn?"width":"height"])),{[kn]:Tt}}};return["left","right","top","bottom"].forEach(un=>{const Mn=-1!==["left","top","start"].indexOf(un)?on.primary:on.secondary;ve.offsets.target={...ve.offsets.target,...Mn(un)}}),ve}function pt(ve){const ae=ve.placement,j=ae.split(" ")[0],se=ae.split(" ")[1];if(se){const{host:Be,target:qe}=ve.offsets,ht=-1!==["bottom","top"].indexOf(j),Ft=ht?"left":"top",on=ht?"width":"height",un={start:{[Ft]:Be[Ft]},end:{[Ft]:(Be[Ft]??0)+Be[on]-qe[on]}};ve.offsets.target={...qe,[Ft]:Ft===se?un.start[Ft]:un.end[Ft]}}return ve}const Ht=new class it{position(ae,j){return this.offset(ae,j)}offset(ae,j){return Lt(j,ae)}positionElements(ae,j,se,Be,qe){const ht=[Ue,pt,Ot,lt],on=function at(ve,ae,j,se){if(!ve||!ae)return;const Be=Lt(ve,ae);!j.match(/^(auto)*\s*(left|right|top|bottom|start|end)*$/)&&!j.match(/^(left|right|top|bottom|start|end)*(?: (left|right|top|bottom|start|end))*$/)&&(j="auto");const qe=!!j.match(/auto/g);let ht=j.match(/auto\s(left|right|top|bottom|start|end)/)?j.split(" ")[1]||"auto":j;const Ft=ht.match(/^(left|right|top|bottom|start|end)* ?(?!\1)(left|right|top|bottom|start|end)?/);return Ft&&(ht=Ft[1]+(Ft[2]?` ${Ft[2]}`:"")),-1!==["left right","right left","top bottom","bottom top"].indexOf(ht)&&(ht="auto"),ht=Ae(ht,Be,ve,ae,se?se.allowedPositions:void 0),{options:se||{modifiers:{}},instance:{target:ve,host:ae,arrow:void 0},offsets:{target:Et(ve,Be,ht),host:Be,arrow:void 0},positionFixed:!1,placement:ht,placementAuto:qe}}(j,ae,O[se],qe);if(on)return ht.reduce((un,Mn)=>Mn(un),on)}};function en(ve,ae,j,se,Be,qe){const ht=Ht.positionElements(ve,ae,j,se,Be);if(!ht)return;const Ft=function st(ve){return{width:ve.offsets.target.width,height:ve.offsets.target.height,left:Math.floor(ve.offsets.target.left??0),top:Math.round(ve.offsets.target.top??0),bottom:Math.round(ve.offsets.target.bottom??0),right:Math.floor(ve.offsets.target.right??0)}}(ht);Ee(ae,{"will-change":"transform",top:"0px",left:"0px",transform:`translate3d(${Ft.left}px, ${Ft.top}px, 0px)`},qe),ht.instance.arrow&&Ee(ht.instance.arrow,ht.offsets.arrow,qe),function Se(ve,ae){const j=ve.instance.target;let se=j.className;const Be=(0,i.Bu)().isBs5?H[ve.placement]:ve.placement;ve.placementAuto&&(se=se.replace(/bs-popover-auto/g,`bs-popover-${Be}`),se=se.replace(/ms-2|me-2|mb-2|mt-2/g,""),se=se.replace(/bs-tooltip-auto/g,`bs-tooltip-${Be}`),se=se.replace(/\sauto/g,` ${Be}`),-1!==se.indexOf("popover")&&(se=se+" "+function q(ve){return(0,i.Bu)().isBs5?X(ve,"end")?"ms-2":X(ve,"start")?"me-2":X(ve,"top")?"mb-2":X(ve,"bottom")?"mt-2":"":""}(Be)),-1!==se.indexOf("popover")&&-1===se.indexOf("popover-auto")&&(se+=" popover-auto"),-1!==se.indexOf("tooltip")&&-1===se.indexOf("tooltip-auto")&&(se+=" tooltip-auto")),se=se.replace(/left|right|top|bottom|end|start/g,`${Be.split(" ")[0]}`),ae?ae.setAttribute(j,"class",se):j.className=se}(ht,qe)}let rt=(()=>{class ve{constructor(j,se,Be){this.update$$=new g.B,this.positionElements=new Map,this.isDisabled=!1,(0,_.UE)(Be)&&j.runOutsideAngular(()=>{this.triggerEvent$=(0,S.h)((0,v.R)(window,"scroll",{passive:!0}),(0,v.R)(window,"resize",{passive:!0}),(0,f.of)(0,R),this.update$$),this.triggerEvent$.subscribe(()=>{this.isDisabled||this.positionElements.forEach(qe=>{en(Nt(qe.target),Nt(qe.element),qe.attachment,qe.appendToBody,this.options,se.createRenderer(null,null))})})})}position(j){this.addPositionElement(j)}get event$(){return this.triggerEvent$}disable(){this.isDisabled=!0}enable(){this.isDisabled=!1}addPositionElement(j){this.positionElements.set(Nt(j.element),j)}calcPosition(){this.update$$.next(null)}deletePositionElement(j){this.positionElements.delete(Nt(j))}setOptions(j){this.options=j}static{this.\u0275fac=function(se){return new(se||ve)(e.KVO(e.SKi),e.KVO(e._9s),e.KVO(e.Agw))}}static{this.\u0275prov=e.jDH({token:ve,factory:ve.\u0275fac,providedIn:"root"})}}return ve})();function Nt(ve){return"string"==typeof ve?document.querySelector(ve):ve instanceof e.aKT?ve.nativeElement:ve??null}},3816:(et,me,u)=>{"use strict";u.d(me,{jr:()=>w});var i=u(4438),e=u(177);let w=(()=>{class C{static forRoot(){return{ngModule:C,providers:[]}}static{this.\u0275fac=function(O){return new(O||C)}}static{this.\u0275mod=i.$C({type:C})}static{this.\u0275inj=i.G2t({imports:[e.MD]})}}return C})()},534:(et,me,u)=>{"use strict";u.d(me,{Ss:()=>C,dg:()=>w});var i=u(4438),e=u(2806),_=u(2865),g=u(1635),S=u(6932),v=u(1584),f=u(177);const d=["*"];let E=(()=>{class R{constructor(){this.adaptivePosition=!0,this.placement="top",this.triggers="hover focus",this.delay=0}static{this.\u0275fac=function(H){return new(H||R)}}static{this.\u0275prov=i.jDH({token:R,factory:R.\u0275fac,providedIn:"root"})}}return R})(),m=(()=>{class R{get _bsVersions(){return(0,e.Bu)()}constructor(O){Object.assign(this,O)}ngAfterViewInit(){this.classMap={in:!1,fade:!1},this.placement&&(this._bsVersions.isBs5&&(this.placement=_.Rz[this.placement]),this.classMap[this.placement]=!0),this.classMap[`tooltip-${this.placement}`]=!0,this.classMap.in=!0,this.animation&&(this.classMap.fade=!0),this.containerClass&&(this.classMap[this.containerClass]=!0)}static{this.\u0275fac=function(H){return new(H||R)(i.rXU(E))}}static{this.\u0275cmp=i.VBU({type:R,selectors:[["bs-tooltip-container"]],hostAttrs:["role","tooltip"],hostVars:3,hostBindings:function(H,x){2&H&&(i.BMQ("id",x.id),i.HbH("show tooltip in tooltip-"+x.placement+" bs-tooltip-"+x.placement+" "+x.placement+" "+x.containerClass))},ngContentSelectors:d,decls:3,vars:0,consts:[[1,"tooltip-arrow","arrow"],[1,"tooltip-inner"]],template:function(H,x){1&H&&(i.NAR(),i.nrm(0,"div",0),i.j41(1,"div",1),i.SdG(2),i.k0s())},styles:[".tooltip[_nghost-%COMP%]{display:block;pointer-events:none;position:absolute}.tooltip[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{position:absolute}"],changeDetection:0})}}return R})(),F=0,w=(()=>{class R{get isOpen(){return this._tooltip.isShown}set isOpen(O){O?this.show():this.hide()}set htmlContent(O){(0,e.mc)("tooltipHtml was deprecated, please use `tooltip` instead"),this.tooltip=O}set _placement(O){(0,e.mc)("tooltipPlacement was deprecated, please use `placement` instead"),this.placement=O}set _isOpen(O){(0,e.mc)("tooltipIsOpen was deprecated, please use `isOpen` instead"),this.isOpen=O}get _isOpen(){return(0,e.mc)("tooltipIsOpen was deprecated, please use `isOpen` instead"),this.isOpen}set _enable(O){(0,e.mc)("tooltipEnable was deprecated, please use `isDisabled` instead"),this.isDisabled=!O}get _enable(){return(0,e.mc)("tooltipEnable was deprecated, please use `isDisabled` instead"),this.isDisabled}set _appendToBody(O){(0,e.mc)('tooltipAppendToBody was deprecated, please use `container="body"` instead'),this.container=O?"body":this.container}get _appendToBody(){return(0,e.mc)('tooltipAppendToBody was deprecated, please use `container="body"` instead'),"body"===this.container}set _popupClass(O){(0,e.mc)("tooltipClass deprecated")}set _tooltipContext(O){(0,e.mc)("tooltipContext deprecated")}set _tooltipPopupDelay(O){(0,e.mc)("tooltipPopupDelay is deprecated, use `delay` instead"),this.delay=O}get _tooltipTrigger(){return(0,e.mc)("tooltipTrigger was deprecated, please use `triggers` instead"),this.triggers}set _tooltipTrigger(O){(0,e.mc)("tooltipTrigger was deprecated, please use `triggers` instead"),this.triggers=(O||"").toString()}constructor(O,H,x,$,U,G){this._elementRef=$,this._renderer=U,this._positionService=G,this.tooltipId=F++,this.adaptivePosition=!0,this.tooltipChange=new i.bkB,this.placement="top",this.triggers="hover focus",this.containerClass="",this.isDisabled=!1,this.delay=0,this.tooltipAnimation=!0,this.tooltipFadeDuration=150,this.tooltipStateChanged=new i.bkB,this._tooltip=H.createLoader(this._elementRef,O,this._renderer).provide({provide:E,useValue:x}),Object.assign(this,x),this.onShown=this._tooltip.onShown,this.onHidden=this._tooltip.onHidden}ngOnInit(){this._tooltip.listen({triggers:this.triggers,show:()=>this.show()}),this.tooltipChange.subscribe(O=>{O||this._tooltip.hide()}),this.onShown.subscribe(()=>{this.setAriaDescribedBy()}),this.onHidden.subscribe(()=>{this.setAriaDescribedBy()})}setAriaDescribedBy(){this._ariaDescribedby=this.isOpen?`tooltip-${this.tooltipId}`:void 0,this._ariaDescribedby?this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ariaDescribedby):this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby")}toggle(){if(this.isOpen)return this.hide();this.show()}show(){if(this._positionService.setOptions({modifiers:{flip:{enabled:this.adaptivePosition},preventOverflow:{enabled:this.adaptivePosition,boundariesElement:this.boundariesElement||"scrollParent"}}}),this.isOpen||this.isDisabled||this._delayTimeoutId||!this.tooltip)return;const O=()=>{this._delayTimeoutId&&(this._delayTimeoutId=void 0),this._tooltip.attach(m).to(this.container).position({attachment:this.placement}).show({content:this.tooltip,placement:this.placement,containerClass:this.containerClass,id:`tooltip-${this.tooltipId}`})},H=()=>{this._tooltipCancelShowFn&&this._tooltipCancelShowFn()};this.delay?(this._delaySubscription&&this._delaySubscription.unsubscribe(),this._delaySubscription=(0,v.O)(this.delay).subscribe(()=>{O(),H()}),this.triggers&&(0,e.Zu)(this.triggers).forEach(x=>{x.close&&(this._tooltipCancelShowFn=this._renderer.listen(this._elementRef.nativeElement,x.close,()=>{this._delaySubscription?.unsubscribe(),H()}))})):O()}hide(){this._delayTimeoutId&&(clearTimeout(this._delayTimeoutId),this._delayTimeoutId=void 0),this._tooltip.isShown&&(this._tooltip.instance?.classMap&&(this._tooltip.instance.classMap.in=!1),setTimeout(()=>{this._tooltip.hide()},this.tooltipFadeDuration))}ngOnDestroy(){this._tooltip.dispose(),this.tooltipChange.unsubscribe(),this._delaySubscription&&this._delaySubscription.unsubscribe(),this.onShown.unsubscribe(),this.onHidden.unsubscribe()}static{this.\u0275fac=function(H){return new(H||R)(i.rXU(i.c1b),i.rXU(S.Li),i.rXU(E),i.rXU(i.aKT),i.rXU(i.sFG),i.rXU(_.DF))}}static{this.\u0275dir=i.FsC({type:R,selectors:[["","tooltip",""],["","tooltipHtml",""]],inputs:{adaptivePosition:"adaptivePosition",tooltip:"tooltip",placement:"placement",triggers:"triggers",container:"container",containerClass:"containerClass",boundariesElement:"boundariesElement",isOpen:"isOpen",isDisabled:"isDisabled",delay:"delay",htmlContent:[i.Mj6.None,"tooltipHtml","htmlContent"],_placement:[i.Mj6.None,"tooltipPlacement","_placement"],_isOpen:[i.Mj6.None,"tooltipIsOpen","_isOpen"],_enable:[i.Mj6.None,"tooltipEnable","_enable"],_appendToBody:[i.Mj6.None,"tooltipAppendToBody","_appendToBody"],tooltipAnimation:"tooltipAnimation",_popupClass:[i.Mj6.None,"tooltipClass","_popupClass"],_tooltipContext:[i.Mj6.None,"tooltipContext","_tooltipContext"],_tooltipPopupDelay:[i.Mj6.None,"tooltipPopupDelay","_tooltipPopupDelay"],tooltipFadeDuration:"tooltipFadeDuration",_tooltipTrigger:[i.Mj6.None,"tooltipTrigger","_tooltipTrigger"]},outputs:{tooltipChange:"tooltipChange",onShown:"onShown",onHidden:"onHidden",tooltipStateChanged:"tooltipStateChanged"},exportAs:["bs-tooltip"]})}}return(0,g.Cg)([(0,e.Yr)(),(0,g.Sn)("design:type",Object)],R.prototype,"tooltip",void 0),R})(),C=(()=>{class R{static forRoot(){return{ngModule:R,providers:[S.Li,_.DF]}}static{this.\u0275fac=function(H){return new(H||R)}}static{this.\u0275mod=i.$C({type:R})}static{this.\u0275inj=i.G2t({imports:[f.MD]})}}return R})()},8400:(et,me,u)=>{"use strict";u.d(me,{Xi:()=>Et,qP:()=>_t});var i=u(4438),e=u(2806),_=u(2865),g=u(8359),S=u(4402),v=u(983),f=u(6648),d=u(9969),E=u(177),m=u(9417),F=u(6932),w=u(152),C=u(8141),R=u(5558),k=u(1397),O=u(5964),H=u(6649),x=u(9974);const U=(J,X)=>(J.push(X),J);const ie=["ulElement"],le=["liElements"],L=(J,X,q,Se)=>({matches:J,itemTemplate:X,query:q,$implicit:Se}),Q=(J,X,q,Se)=>({item:J,index:X,match:q,query:Se});function te(J,X){}function I(J,X){if(1&J&&i.nrm(0,"span",4),2&J){const q=X.match,Se=X.query,Ee=i.XpG();i.Y8G("innerHtml",Ee.highlight(q,Se),i.npT)}}function oe(J,X){if(1&J&&(i.j41(0,"h6",8),i.EFF(1),i.k0s()),2&J){const q=i.XpG().$implicit;i.R7$(),i.JRh(q)}}function Y(J,X){}function _e(J,X){if(1&J){const q=i.RV6();i.j41(0,"button",9,2),i.bIt("click",function(Ee){i.eBV(q);const lt=i.XpG().$implicit,Ue=i.XpG(2);return i.Njj(Ue.selectMatch(lt,Ee))})("mouseenter",function(){i.eBV(q);const Ee=i.XpG().$implicit,lt=i.XpG(2);return i.Njj(lt.selectActive(Ee))}),i.DNE(2,Y,0,0,"ng-template",3),i.k0s()}if(2&J){const q=i.XpG(),Se=q.$implicit,Ee=q.index,lt=i.XpG(2),Ue=i.sdS(2);i.AVh("active",lt.isActive(Se)),i.Y8G("id",lt.popupId+"-"+Ee)("@typeaheadAnimation",lt.animationState),i.R7$(2),i.Y8G("ngTemplateOutlet",lt.itemTemplate||Ue)("ngTemplateOutletContext",i.ziG(6,Q,Se.item,Ee,Se,lt.query))}}function Oe(J,X){if(1&J&&i.DNE(0,oe,2,1,"h6",6)(1,_e,3,11,"ng-template",7),2&J){const q=X.$implicit;i.Y8G("ngIf",q.isHeader()),i.R7$(),i.Y8G("ngIf",!q.isHeader())}}function Re(J,X){if(1&J&&i.DNE(0,Oe,2,2,"ng-template",5),2&J){const q=i.XpG();i.Y8G("ngForOf",q.matches)}}const xe={\u00c1:"A",\u0102:"A",\u1eae:"A",\u1eb6:"A",\u1eb0:"A",\u1eb2:"A",\u1eb4:"A",\u01cd:"A",\u00c2:"A",\u1ea4:"A",\u1eac:"A",\u1ea6:"A",\u1ea8:"A",\u1eaa:"A",\u00c4:"A",\u01de:"A",\u0226:"A",\u01e0:"A",\u1ea0:"A",\u0200:"A",\u00c0:"A",\u1ea2:"A",\u0202:"A",\u0100:"A",\u0104:"A",\u00c5:"A",\u01fa:"A",\u1e00:"A",\u023a:"A",\u00c3:"A",\ua732:"AA",\u00c6:"AE",\u01fc:"AE",\u01e2:"AE",\ua734:"AO",\ua736:"AU",\ua738:"AV",\ua73a:"AV",\ua73c:"AY",\u1e02:"B",\u1e04:"B",\u0181:"B",\u1e06:"B",\u0243:"B",\u0182:"B",\u0106:"C",\u010c:"C",\u00c7:"C",\u1e08:"C",\u0108:"C",\u010a:"C",\u0187:"C",\u023b:"C",\u010e:"D",\u1e10:"D",\u1e12:"D",\u1e0a:"D",\u1e0c:"D",\u018a:"D",\u1e0e:"D",\u01f2:"D",\u01c5:"D",\u0110:"D",\u018b:"D",\u01f1:"DZ",\u01c4:"DZ",\u00c9:"E",\u0114:"E",\u011a:"E",\u0228:"E",\u1e1c:"E",\u00ca:"E",\u1ebe:"E",\u1ec6:"E",\u1ec0:"E",\u1ec2:"E",\u1ec4:"E",\u1e18:"E",\u00cb:"E",\u0116:"E",\u1eb8:"E",\u0204:"E",\u00c8:"E",\u1eba:"E",\u0206:"E",\u0112:"E",\u1e16:"E",\u1e14:"E",\u0118:"E",\u0246:"E",\u1ebc:"E",\u1e1a:"E",\ua76a:"ET",\u1e1e:"F",\u0191:"F",\u01f4:"G",\u011e:"G",\u01e6:"G",\u0122:"G",\u011c:"G",\u0120:"G",\u0193:"G",\u1e20:"G",\u01e4:"G",\u1e2a:"H",\u021e:"H",\u1e28:"H",\u0124:"H",\u2c67:"H",\u1e26:"H",\u1e22:"H",\u1e24:"H",\u0126:"H",\u00cd:"I",\u012c:"I",\u01cf:"I",\u00ce:"I",\u00cf:"I",\u1e2e:"I",\u0130:"I",\u1eca:"I",\u0208:"I",\u00cc:"I",\u1ec8:"I",\u020a:"I",\u012a:"I",\u012e:"I",\u0197:"I",\u0128:"I",\u1e2c:"I",\ua779:"D",\ua77b:"F",\ua77d:"G",\ua782:"R",\ua784:"S",\ua786:"T",\ua76c:"IS",\u0134:"J",\u0248:"J",\u1e30:"K",\u01e8:"K",\u0136:"K",\u2c69:"K",\ua742:"K",\u1e32:"K",\u0198:"K",\u1e34:"K",\ua740:"K",\ua744:"K",\u0139:"L",\u023d:"L",\u013d:"L",\u013b:"L",\u1e3c:"L",\u1e36:"L",\u1e38:"L",\u2c60:"L",\ua748:"L",\u1e3a:"L",\u013f:"L",\u2c62:"L",\u01c8:"L",\u0141:"L",\u01c7:"LJ",\u1e3e:"M",\u1e40:"M",\u1e42:"M",\u2c6e:"M",\u0143:"N",\u0147:"N",\u0145:"N",\u1e4a:"N",\u1e44:"N",\u1e46:"N",\u01f8:"N",\u019d:"N",\u1e48:"N",\u0220:"N",\u01cb:"N",\u00d1:"N",\u01ca:"NJ",\u00d3:"O",\u014e:"O",\u01d1:"O",\u00d4:"O",\u1ed0:"O",\u1ed8:"O",\u1ed2:"O",\u1ed4:"O",\u1ed6:"O",\u00d6:"O",\u022a:"O",\u022e:"O",\u0230:"O",\u1ecc:"O",\u0150:"O",\u020c:"O",\u00d2:"O",\u1ece:"O",\u01a0:"O",\u1eda:"O",\u1ee2:"O",\u1edc:"O",\u1ede:"O",\u1ee0:"O",\u020e:"O",\ua74a:"O",\ua74c:"O",\u014c:"O",\u1e52:"O",\u1e50:"O",\u019f:"O",\u01ea:"O",\u01ec:"O",\u00d8:"O",\u01fe:"O",\u00d5:"O",\u1e4c:"O",\u1e4e:"O",\u022c:"O",\u01a2:"OI",\ua74e:"OO",\u0190:"E",\u0186:"O",\u0222:"OU",\u1e54:"P",\u1e56:"P",\ua752:"P",\u01a4:"P",\ua754:"P",\u2c63:"P",\ua750:"P",\ua758:"Q",\ua756:"Q",\u0154:"R",\u0158:"R",\u0156:"R",\u1e58:"R",\u1e5a:"R",\u1e5c:"R",\u0210:"R",\u0212:"R",\u1e5e:"R",\u024c:"R",\u2c64:"R",\ua73e:"C",\u018e:"E",\u015a:"S",\u1e64:"S",\u0160:"S",\u1e66:"S",\u015e:"S",\u015c:"S",\u0218:"S",\u1e60:"S",\u1e62:"S",\u1e68:"S",\u0164:"T",\u0162:"T",\u1e70:"T",\u021a:"T",\u023e:"T",\u1e6a:"T",\u1e6c:"T",\u01ac:"T",\u1e6e:"T",\u01ae:"T",\u0166:"T",\u2c6f:"A",\ua780:"L",\u019c:"M",\u0245:"V",\ua728:"TZ",\u00da:"U",\u016c:"U",\u01d3:"U",\u00db:"U",\u1e76:"U",\u00dc:"U",\u01d7:"U",\u01d9:"U",\u01db:"U",\u01d5:"U",\u1e72:"U",\u1ee4:"U",\u0170:"U",\u0214:"U",\u00d9:"U",\u1ee6:"U",\u01af:"U",\u1ee8:"U",\u1ef0:"U",\u1eea:"U",\u1eec:"U",\u1eee:"U",\u0216:"U",\u016a:"U",\u1e7a:"U",\u0172:"U",\u016e:"U",\u0168:"U",\u1e78:"U",\u1e74:"U",\ua75e:"V",\u1e7e:"V",\u01b2:"V",\u1e7c:"V",\ua760:"VY",\u1e82:"W",\u0174:"W",\u1e84:"W",\u1e86:"W",\u1e88:"W",\u1e80:"W",\u2c72:"W",\u1e8c:"X",\u1e8a:"X",\u00dd:"Y",\u0176:"Y",\u0178:"Y",\u1e8e:"Y",\u1ef4:"Y",\u1ef2:"Y",\u01b3:"Y",\u1ef6:"Y",\u1efe:"Y",\u0232:"Y",\u024e:"Y",\u1ef8:"Y",\u0179:"Z",\u017d:"Z",\u1e90:"Z",\u2c6b:"Z",\u017b:"Z",\u1e92:"Z",\u0224:"Z",\u1e94:"Z",\u01b5:"Z",\u0132:"IJ",\u0152:"OE",\u1d00:"A",\u1d01:"AE",\u0299:"B",\u1d03:"B",\u1d04:"C",\u1d05:"D",\u1d07:"E",\ua730:"F",\u0262:"G",\u029b:"G",\u029c:"H",\u026a:"I",\u0281:"R",\u1d0a:"J",\u1d0b:"K",\u029f:"L",\u1d0c:"L",\u1d0d:"M",\u0274:"N",\u1d0f:"O",\u0276:"OE",\u1d10:"O",\u1d15:"OU",\u1d18:"P",\u0280:"R",\u1d0e:"N",\u1d19:"R",\ua731:"S",\u1d1b:"T",\u2c7b:"E",\u1d1a:"R",\u1d1c:"U",\u1d20:"V",\u1d21:"W",\u028f:"Y",\u1d22:"Z",\u00e1:"a",\u0103:"a",\u1eaf:"a",\u1eb7:"a",\u1eb1:"a",\u1eb3:"a",\u1eb5:"a",\u01ce:"a",\u00e2:"a",\u1ea5:"a",\u1ead:"a",\u1ea7:"a",\u1ea9:"a",\u1eab:"a",\u00e4:"a",\u01df:"a",\u0227:"a",\u01e1:"a",\u1ea1:"a",\u0201:"a",\u00e0:"a",\u1ea3:"a",\u0203:"a",\u0101:"a",\u0105:"a",\u1d8f:"a",\u1e9a:"a",\u00e5:"a",\u01fb:"a",\u1e01:"a",\u2c65:"a",\u00e3:"a",\ua733:"aa",\u00e6:"ae",\u01fd:"ae",\u01e3:"ae",\ua735:"ao",\ua737:"au",\ua739:"av",\ua73b:"av",\ua73d:"ay",\u1e03:"b",\u1e05:"b",\u0253:"b",\u1e07:"b",\u1d6c:"b",\u1d80:"b",\u0180:"b",\u0183:"b",\u0275:"o",\u0107:"c",\u010d:"c",\u00e7:"c",\u1e09:"c",\u0109:"c",\u0255:"c",\u010b:"c",\u0188:"c",\u023c:"c",\u010f:"d",\u1e11:"d",\u1e13:"d",\u0221:"d",\u1e0b:"d",\u1e0d:"d",\u0257:"d",\u1d91:"d",\u1e0f:"d",\u1d6d:"d",\u1d81:"d",\u0111:"d",\u0256:"d",\u018c:"d",\u0131:"i",\u0237:"j",\u025f:"j",\u0284:"j",\u01f3:"dz",\u01c6:"dz",\u00e9:"e",\u0115:"e",\u011b:"e",\u0229:"e",\u1e1d:"e",\u00ea:"e",\u1ebf:"e",\u1ec7:"e",\u1ec1:"e",\u1ec3:"e",\u1ec5:"e",\u1e19:"e",\u00eb:"e",\u0117:"e",\u1eb9:"e",\u0205:"e",\u00e8:"e",\u1ebb:"e",\u0207:"e",\u0113:"e",\u1e17:"e",\u1e15:"e",\u2c78:"e",\u0119:"e",\u1d92:"e",\u0247:"e",\u1ebd:"e",\u1e1b:"e",\ua76b:"et",\u1e1f:"f",\u0192:"f",\u1d6e:"f",\u1d82:"f",\u01f5:"g",\u011f:"g",\u01e7:"g",\u0123:"g",\u011d:"g",\u0121:"g",\u0260:"g",\u1e21:"g",\u1d83:"g",\u01e5:"g",\u1e2b:"h",\u021f:"h",\u1e29:"h",\u0125:"h",\u2c68:"h",\u1e27:"h",\u1e23:"h",\u1e25:"h",\u0266:"h",\u1e96:"h",\u0127:"h",\u0195:"hv",\u00ed:"i",\u012d:"i",\u01d0:"i",\u00ee:"i",\u00ef:"i",\u1e2f:"i",\u1ecb:"i",\u0209:"i",\u00ec:"i",\u1ec9:"i",\u020b:"i",\u012b:"i",\u012f:"i",\u1d96:"i",\u0268:"i",\u0129:"i",\u1e2d:"i",\ua77a:"d",\ua77c:"f",\u1d79:"g",\ua783:"r",\ua785:"s",\ua787:"t",\ua76d:"is",\u01f0:"j",\u0135:"j",\u029d:"j",\u0249:"j",\u1e31:"k",\u01e9:"k",\u0137:"k",\u2c6a:"k",\ua743:"k",\u1e33:"k",\u0199:"k",\u1e35:"k",\u1d84:"k",\ua741:"k",\ua745:"k",\u013a:"l",\u019a:"l",\u026c:"l",\u013e:"l",\u013c:"l",\u1e3d:"l",\u0234:"l",\u1e37:"l",\u1e39:"l",\u2c61:"l",\ua749:"l",\u1e3b:"l",\u0140:"l",\u026b:"l",\u1d85:"l",\u026d:"l",\u0142:"l",\u01c9:"lj",\u017f:"s",\u1e9c:"s",\u1e9b:"s",\u1e9d:"s",\u1e3f:"m",\u1e41:"m",\u1e43:"m",\u0271:"m",\u1d6f:"m",\u1d86:"m",\u0144:"n",\u0148:"n",\u0146:"n",\u1e4b:"n",\u0235:"n",\u1e45:"n",\u1e47:"n",\u01f9:"n",\u0272:"n",\u1e49:"n",\u019e:"n",\u1d70:"n",\u1d87:"n",\u0273:"n",\u00f1:"n",\u01cc:"nj",\u00f3:"o",\u014f:"o",\u01d2:"o",\u00f4:"o",\u1ed1:"o",\u1ed9:"o",\u1ed3:"o",\u1ed5:"o",\u1ed7:"o",\u00f6:"o",\u022b:"o",\u022f:"o",\u0231:"o",\u1ecd:"o",\u0151:"o",\u020d:"o",\u00f2:"o",\u1ecf:"o",\u01a1:"o",\u1edb:"o",\u1ee3:"o",\u1edd:"o",\u1edf:"o",\u1ee1:"o",\u020f:"o",\ua74b:"o",\ua74d:"o",\u2c7a:"o",\u014d:"o",\u1e53:"o",\u1e51:"o",\u01eb:"o",\u01ed:"o",\u00f8:"o",\u01ff:"o",\u00f5:"o",\u1e4d:"o",\u1e4f:"o",\u022d:"o",\u01a3:"oi",\ua74f:"oo",\u025b:"e",\u1d93:"e",\u0254:"o",\u1d97:"o",\u0223:"ou",\u1e55:"p",\u1e57:"p",\ua753:"p",\u01a5:"p",\u1d71:"p",\u1d88:"p",\ua755:"p",\u1d7d:"p",\ua751:"p",\ua759:"q",\u02a0:"q",\u024b:"q",\ua757:"q",\u0155:"r",\u0159:"r",\u0157:"r",\u1e59:"r",\u1e5b:"r",\u1e5d:"r",\u0211:"r",\u027e:"r",\u1d73:"r",\u0213:"r",\u1e5f:"r",\u027c:"r",\u1d72:"r",\u1d89:"r",\u024d:"r",\u027d:"r",\u2184:"c",\ua73f:"c",\u0258:"e",\u027f:"r",\u015b:"s",\u1e65:"s",\u0161:"s",\u1e67:"s",\u015f:"s",\u015d:"s",\u0219:"s",\u1e61:"s",\u1e63:"s",\u1e69:"s",\u0282:"s",\u1d74:"s",\u1d8a:"s",\u023f:"s",\u0261:"g",\u1d11:"o",\u1d13:"o",\u1d1d:"u",\u0165:"t",\u0163:"t",\u1e71:"t",\u021b:"t",\u0236:"t",\u1e97:"t",\u2c66:"t",\u1e6b:"t",\u1e6d:"t",\u01ad:"t",\u1e6f:"t",\u1d75:"t",\u01ab:"t",\u0288:"t",\u0167:"t",\u1d7a:"th",\u0250:"a",\u1d02:"ae",\u01dd:"e",\u1d77:"g",\u0265:"h",\u02ae:"h",\u02af:"h",\u1d09:"i",\u029e:"k",\ua781:"l",\u026f:"m",\u0270:"m",\u1d14:"oe",\u0279:"r",\u027b:"r",\u027a:"r",\u2c79:"r",\u0287:"t",\u028c:"v",\u028d:"w",\u028e:"y",\ua729:"tz",\u00fa:"u",\u016d:"u",\u01d4:"u",\u00fb:"u",\u1e77:"u",\u00fc:"u",\u01d8:"u",\u01da:"u",\u01dc:"u",\u01d6:"u",\u1e73:"u",\u1ee5:"u",\u0171:"u",\u0215:"u",\u00f9:"u",\u1ee7:"u",\u01b0:"u",\u1ee9:"u",\u1ef1:"u",\u1eeb:"u",\u1eed:"u",\u1eef:"u",\u0217:"u",\u016b:"u",\u1e7b:"u",\u0173:"u",\u1d99:"u",\u016f:"u",\u0169:"u",\u1e79:"u",\u1e75:"u",\u1d6b:"ue",\ua778:"um",\u2c74:"v",\ua75f:"v",\u1e7f:"v",\u028b:"v",\u1d8c:"v",\u2c71:"v",\u1e7d:"v",\ua761:"vy",\u1e83:"w",\u0175:"w",\u1e85:"w",\u1e87:"w",\u1e89:"w",\u1e81:"w",\u2c73:"w",\u1e98:"w",\u1e8d:"x",\u1e8b:"x",\u1d8d:"x",\u00fd:"y",\u0177:"y",\u00ff:"y",\u1e8f:"y",\u1ef5:"y",\u1ef3:"y",\u01b4:"y",\u1ef7:"y",\u1eff:"y",\u0233:"y",\u1e99:"y",\u024f:"y",\u1ef9:"y",\u017a:"z",\u017e:"z",\u1e91:"z",\u0291:"z",\u2c6c:"z",\u017c:"z",\u1e93:"z",\u0225:"z",\u1e95:"z",\u1d76:"z",\u1d8e:"z",\u0290:"z",\u01b6:"z",\u0240:"z",\ufb00:"ff",\ufb03:"ffi",\ufb04:"ffl",\ufb01:"fi",\ufb02:"fl",\u0133:"ij",\u0153:"oe",\ufb06:"st",\u2090:"a",\u2091:"e",\u1d62:"i",\u2c7c:"j",\u2092:"o",\u1d63:"r",\u1d64:"u",\u1d65:"v",\u2093:"x"};class Te{constructor(X,q=X,Se=!1){this.item=X,this.value=q,this.header=Se}isHeader(){return this.header}toString(){return this.value}}function we(J){return J?J.replace(/[^A-Za-z0-9[\] ]/g,function(X){return xe[X]||X}):""}function Le(J,X=" ",q="",Se){let Ee=[];if(Se){const Ue=J.split(new RegExp(`([${Se}]+)`,"g")),at=Ue[Ue.length-1];at>""&&(X&&q?Ee=Ae(at,X,q):Ee.push(at))}else Ee=Ae(J,X,q);return Ee}function Ae(J,X,q){const Se=[],lt=J.split(new RegExp(`(?:[${q}])([^${q}]+)(?:[${q}])|([^${X}]+)`,"g")),Ue=lt.length;let at;const Ot=new RegExp(`[${q}]+`,"g");for(let pt=0;pt<Ue;pt+=1)at=lt[pt],at&&at.length&&at!==X&&Se.push(at.replace(Ot,""));return Se}function st(J,X){if(!X||"object"!=typeof J)return J.toString();if(X.endsWith("()"))return J[X.slice(0,X.length-2)]().toString();const Se=X.replace(/\[(\w+)\]/g,".$1").replace(/^\./,"").split(".");for(const Ee of Se)Ee in J&&(J=J[Ee]);return J?J.toString():""}const Fe="220ms cubic-bezier(0, 0, 0.2, 1)",ft=(0,d.hZ)("typeaheadAnimation",[(0,d.wk)("animated-down",(0,d.iF)({height:"*",overflow:"hidden"})),(0,d.kY)("* => animated-down",[(0,d.iF)({height:0,overflow:"hidden"}),(0,d.i0)(Fe)]),(0,d.wk)("animated-up",(0,d.iF)({height:"*",overflow:"hidden"})),(0,d.kY)("* => animated-up",[(0,d.iF)({height:"*",overflow:"hidden"}),(0,d.i0)(Fe)]),(0,d.kY)("* => unanimated",(0,d.i0)("0s"))]);let Ye=0,zt=(()=>{class J{get typeaheadTemplateMethods(){return{selectMatch:this.selectMatch.bind(this),selectActive:this.selectActive.bind(this),isActive:this.isActive.bind(this)}}constructor(q,Se,Ee,lt){this.positionService=q,this.renderer=Se,this.element=Ee,this.changeDetectorRef=lt,this.activeChangeEvent=new i.bkB,this.isFocused=!1,this.positionServiceSubscription=new g.yU,this.height=0,this.popupId="ngb-typeahead-"+Ye++,this._matches=[],this.renderer.setAttribute(this.element.nativeElement,"id",this.popupId),this.positionServiceSubscription.add(this.positionService.event$?.subscribe(()=>{if(this.isAnimated)return this.animationState=this.isTopPosition?"animated-up":"animated-down",void this.changeDetectorRef.detectChanges();this.animationState="unanimated",this.changeDetectorRef.detectChanges()}))}get active(){return this._active}set active(q){this._active=q,this.activeChanged()}get matches(){return this._matches}set matches(q){if(this.positionService.setOptions({modifiers:{flip:{enabled:this.adaptivePosition}},allowedPositions:["top","bottom"]}),this._matches=q,this.needScrollbar=this.typeaheadScrollable&&this.typeaheadOptionsInScrollableView<this.matches.length,this.typeaheadScrollable&&setTimeout(()=>{this.setScrollableMode()}),this.typeaheadIsFirstItemActive&&this._matches.length>0&&(this.setActive(this._matches[0]),this._active?.isHeader()&&this.nextActiveMatch()),this._active&&!this.typeaheadIsFirstItemActive){const Se=this._matches.find(Ee=>Ee.value===this._active?.value);if(Se)return void this.selectActive(Se);this.active=void 0}}get isTopPosition(){return this.element.nativeElement.classList.contains("top")}get optionsListTemplate(){return this.parent?this.parent.optionsListTemplate:void 0}get isAnimated(){return!!this.parent&&this.parent.isAnimated}get adaptivePosition(){return!!this.parent&&this.parent.adaptivePosition}get typeaheadScrollable(){return!!this.parent&&this.parent.typeaheadScrollable}get typeaheadOptionsInScrollableView(){return this.parent?this.parent.typeaheadOptionsInScrollableView:5}get typeaheadIsFirstItemActive(){return!this.parent||this.parent.typeaheadIsFirstItemActive}get itemTemplate(){return this.parent?this.parent.typeaheadItemTemplate:void 0}get canSelectItemsOnBlur(){return!!this.parent?.selectItemOnBlur}selectActiveMatch(q){this._active&&this.parent?.typeaheadSelectFirstItem&&this.selectMatch(this._active),!this.parent?.typeaheadSelectFirstItem&&q&&this.selectMatch(this._active)}activeChanged(){if(!this._active)return;const q=this.matches.indexOf(this._active);this.activeChangeEvent.emit(`${this.popupId}-${q}`)}prevActiveMatch(){if(!this._active)return;const q=this.matches.indexOf(this._active);this.setActive(this.matches[q-1<0?this.matches.length-1:q-1]),this._active.isHeader()&&this.prevActiveMatch(),this.typeaheadScrollable&&this.scrollPrevious(q)}nextActiveMatch(){const q=this._active?this.matches.indexOf(this._active):-1;this.setActive(this.matches[q+1>this.matches.length-1?0:q+1]),this._active?.isHeader()&&this.nextActiveMatch(),this.typeaheadScrollable&&this.scrollNext(q)}selectActive(q){this.isFocused=!0,this.setActive(q)}highlight(q,Se){let Ue,at,Ee=q.value,lt=(this.parent&&this.parent.typeaheadLatinize?we(Ee):Ee).toLowerCase();if("object"==typeof Se){const Ot=Se.length;for(let pt=0;pt<Ot;pt+=1)Ue=lt.indexOf(Se[pt]),at=Se[pt].length,Ue>=0&&at>0&&(Ee=`${Ee.substring(0,Ue)}<strong>${Ee.substring(Ue,Ue+at)}</strong>${Ee.substring(Ue+at)}`,lt=`${lt.substring(0,Ue)}        ${" ".repeat(at)}         ${lt.substring(Ue+at)}`)}else Se&&(Ue=lt.indexOf(Se),at=Se.length,Ue>=0&&at>0&&(Ee=`${Ee.substring(0,Ue)}<strong>${Ee.substring(Ue,Ue+at)}</strong>${Ee.substring(Ue+at)}`));return Ee}focusLost(){this.isFocused=!1,this.canSelectItemsOnBlur||this.setActive(void 0)}isActive(q){return this.active===q}selectMatch(q,Se){return Se&&(Se.stopPropagation(),Se.preventDefault()),this.parent?.changeModel(q),setTimeout(()=>this.parent?.typeaheadOnSelect.emit(q),0),!1}setScrollableMode(){if(this.ulElement||(this.ulElement=this.element),this.liElements?.first){const q=e.Aq.getStyles(this.ulElement.nativeElement),Se=e.Aq.getStyles(this.liElements.first.nativeElement),Ee=parseFloat((q["padding-bottom"]?q["padding-bottom"]:"").replace("px","")),lt=parseFloat((q["padding-top"]?q["padding-top"]:"0").replace("px","")),Ue=parseFloat((Se.height?Se.height:"0").replace("px",""));this.guiHeight=`${this.typeaheadOptionsInScrollableView*Ue+lt+Ee}px`}this.renderer.setStyle(this.element.nativeElement,"visibility","visible")}scrollPrevious(q){if(0!==q){if(this.liElements&&this.ulElement){const Se=this.liElements.toArray()[q-1];Se&&!this.isScrolledIntoView(Se.nativeElement)&&(this.ulElement.nativeElement.scrollTop=Se.nativeElement.offsetTop)}}else this.scrollToBottom()}scrollNext(q){if(q+1>this.matches.length-1)this.scrollToTop();else if(this.liElements&&this.ulElement){const Se=this.liElements.toArray()[q+1];Se&&!this.isScrolledIntoView(Se.nativeElement)&&(this.ulElement.nativeElement.scrollTop=Se.nativeElement.offsetTop-Number(this.ulElement.nativeElement.offsetHeight)+Number(Se.nativeElement.offsetHeight))}}ngOnDestroy(){this.positionServiceSubscription.unsubscribe()}setActive(q){let Se;this._active=q,null==this._active||this._active.isHeader()||(Se=q),this.parent?.typeaheadOnPreview.emit(Se)}isScrolledIntoView(q){if(!this.ulElement)return!1;const Se=this.ulElement.nativeElement.scrollTop,Ee=Se+Number(this.ulElement.nativeElement.offsetHeight),lt=q.offsetTop;return lt+q.offsetHeight<=Ee&&lt>=Se}scrollToBottom(){this.ulElement?.nativeElement&&(this.ulElement.nativeElement.scrollTop=this.ulElement.nativeElement.scrollHeight)}scrollToTop(){this.ulElement?.nativeElement&&(this.ulElement.nativeElement.scrollTop=0)}static{this.\u0275fac=function(Se){return new(Se||J)(i.rXU(_.DF),i.rXU(i.sFG),i.rXU(i.aKT),i.rXU(i.gRc))}}static{this.\u0275cmp=i.VBU({type:J,selectors:[["typeahead-container"]],viewQuery:function(Se,Ee){if(1&Se&&(i.GBs(ie,5),i.GBs(le,5)),2&Se){let lt;i.mGM(lt=i.lsd())&&(Ee.ulElement=lt.first),i.mGM(lt=i.lsd())&&(Ee.liElements=lt)}},hostAttrs:[1,"dropdown","open","bottom","dropdown-menu",2,"position","absolute","display","block"],hostVars:7,hostBindings:function(Se,Ee){1&Se&&i.bIt("mouseleave",function(){return Ee.focusLost()})("blur",function(){return Ee.focusLost()}),2&Se&&(i.BMQ("role","listbox"),i.xc7("height",Ee.needScrollbar?Ee.guiHeight:"auto")("visibility","inherit"),i.AVh("dropup",Ee.dropup))},outputs:{activeChangeEvent:"activeChange"},decls:5,vars:7,consts:[["bsItemTemplate",""],["bs4Template",""],["liElements",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHtml"],["ngFor","",3,"ngForOf"],["class","dropdown-header",4,"ngIf"],[3,"ngIf"],[1,"dropdown-header"],["role","option",1,"dropdown-item",3,"click","mouseenter","id"]],template:function(Se,Ee){if(1&Se&&i.DNE(0,te,0,0,"ng-template",3)(1,I,1,1,"ng-template",null,0,i.C5r)(3,Re,1,1,"ng-template",null,1,i.C5r),2&Se){const lt=i.sdS(2),Ue=i.sdS(4);i.Y8G("ngTemplateOutlet",Ee.optionsListTemplate||Ue)("ngTemplateOutletContext",i.ziG(2,L,Ee.matches,Ee.itemTemplate||lt,Ee.query,Ee.typeaheadTemplateMethods))}},dependencies:[E.Sq,E.bT,E.T3],styles:[".dropdown[_nghost-%COMP%]{z-index:1000}.dropdown-menu[_nghost-%COMP%], .dropdown-menu[_ngcontent-%COMP%]{overflow-y:auto;height:100px}"],data:{animation:[ft]}})}}return J})(),Lt=(()=>{class J{constructor(){this.adaptivePosition=!1,this.isAnimated=!1,this.hideResultsOnBlur=!0,this.cancelRequestOnFocusLost=!1,this.selectFirstItem=!0,this.isFirstItemActive=!0,this.minLength=1,this.selectItemOnBlur=!1}static{this.\u0275fac=function(Se){return new(Se||J)}}static{this.\u0275prov=i.jDH({token:J,factory:J.\u0275fac,providedIn:"root"})}}return J})(),Et=(()=>{class J{constructor(q,Se,Ee,lt,Ue,at,Ot){this.changeDetection=Ee,this.element=lt,this.ngControl=Ue,this.renderer=at,this.typeaheadMinLength=1,this.adaptivePosition=!1,this.isAnimated=!1,this.typeaheadWaitMs=0,this.typeaheadLatinize=!0,this.typeaheadSingleWords=!0,this.typeaheadWordDelimiters=" ",this.typeaheadMultipleSearchDelimiters=",",this.typeaheadPhraseDelimiters="'\"",this.typeaheadScrollable=!1,this.typeaheadOptionsInScrollableView=5,this.typeaheadSelectFirstItem=!0,this.typeaheadIsFirstItemActive=!0,this.typeaheadLoading=new i.bkB,this.typeaheadNoResults=new i.bkB,this.typeaheadOnSelect=new i.bkB,this.typeaheadOnPreview=new i.bkB,this.typeaheadOnBlur=new i.bkB,this.dropup=!1,this.isOpen=!1,this.list="list",this.isActiveItemChanged=!1,this.isFocused=!1,this.cancelRequestOnFocusLost=!1,this.selectItemOnBlur=!1,this.keyUpEventEmitter=new i.bkB,this.placement="bottom left",this._matches=[],this._subscriptions=[],this._outsideClickListener=()=>{},this._typeahead=q.createLoader(lt,Ot,at).provide({provide:Lt,useValue:Se}),Object.assign(this,{typeaheadHideResultsOnBlur:Se.hideResultsOnBlur,cancelRequestOnFocusLost:Se.cancelRequestOnFocusLost,typeaheadSelectFirstItem:Se.selectFirstItem,typeaheadIsFirstItemActive:Se.isFirstItemActive,typeaheadMinLength:Se.minLength,adaptivePosition:Se.adaptivePosition,isAnimated:Se.isAnimated,selectItemOnBlur:Se.selectItemOnBlur})}get matches(){return this._matches}ngOnInit(){this.typeaheadOptionsLimit=this.typeaheadOptionsLimit||20,this.typeaheadMinLength=void 0===this.typeaheadMinLength?1:this.typeaheadMinLength,void 0===this.typeaheadAsync&&!(0,S.A)(this.typeahead)&&(this.typeaheadAsync=!1),(0,S.A)(this.typeahead)&&(this.typeaheadAsync=!0),this.typeaheadAsync?this.asyncActions():this.syncActions(),this.checkDelimitersConflict()}onInput(q){const Se=void 0!==q.target.value?q.target.value:void 0!==q.target.textContent?q.target.textContent:q.target.innerText;null!=Se&&Se.trim().length>=this.typeaheadMinLength?(this.typeaheadLoading.emit(!0),this.keyUpEventEmitter.emit(q.target.value)):(this.typeaheadLoading.emit(!1),this.typeaheadNoResults.emit(!1),this.hide())}onChange(q){if(this._container){if(27===q.keyCode||"Escape"===q.key)return void this.hide();if(38===q.keyCode||"ArrowUp"===q.key)return this.isActiveItemChanged=!0,void this._container.prevActiveMatch();if(40===q.keyCode||"ArrowDown"===q.key)return this.isActiveItemChanged=!0,void this._container.nextActiveMatch();if(13===q.keyCode||"Enter"===q.key)return void this._container.selectActiveMatch()}}onFocus(){this.isFocused=!0,setTimeout(()=>{0===this.typeaheadMinLength&&(this.typeaheadLoading.emit(!0),this.keyUpEventEmitter.emit(this.element.nativeElement.value||""))},0)}onBlur(){this.isFocused=!1,this._container&&!this._container.isFocused&&this.typeaheadOnBlur.emit(this._container.active),!this.container&&0===this._matches?.length&&this.typeaheadOnBlur.emit(new Te(this.element.nativeElement.value,this.element.nativeElement.value,!1))}onKeydown(q){if(this._container&&((9===q.keyCode||"Tab"===q.key)&&this.onBlur(),9===q.keyCode||"Tab"===q.key||13===q.keyCode||"Enter"===q.key)){if(q.preventDefault(),this.typeaheadSelectFirstItem)return void this._container.selectActiveMatch();this.typeaheadSelectFirstItem||(this._container.selectActiveMatch(this.isActiveItemChanged),this.isActiveItemChanged=!1,this.hide())}}changeModel(q){if(!q)return;let Se;if(this.typeaheadMultipleSearch&&this._allEnteredValue){const Ee=this._allEnteredValue.split(new RegExp(`([${this.typeaheadMultipleSearchDelimiters}]+)`));this._allEnteredValue=Ee.slice(0,Ee.length-1).concat(q.value).join(""),Se=this._allEnteredValue}else Se=q.value;this.ngControl.viewToModelUpdate(Se),this.ngControl.control?.setValue(Se),this.changeDetection.markForCheck(),this.hide()}show(){if(this._typeahead.attach(zt).to(this.container).position({attachment:(this.dropup?"top":"bottom")+" left"}).show({typeaheadRef:this,placement:this.placement,animation:!1,dropup:this.dropup}),this._outsideClickListener=this.renderer.listen("document","click",Se=>{0===this.typeaheadMinLength&&this.element.nativeElement.contains(Se.target)||!this.typeaheadHideResultsOnBlur||this.element.nativeElement.contains(Se.target)||this.onOutsideClick()}),!this._typeahead.instance||!this.ngControl.control)return;this._container=this._typeahead.instance,this._container.parent=this;const q=(this.typeaheadLatinize?we(this.ngControl.control.value):this.ngControl.control.value).toString().toLowerCase();this._container.query=this.tokenizeQuery(q),this._container.matches=this._matches,this.element.nativeElement.focus(),this._container.activeChangeEvent.subscribe(Se=>{this.activeDescendant=Se,this.changeDetection.markForCheck()}),this.isOpen=!0}hide(){this._typeahead.isShown&&(this._typeahead.hide(),this._outsideClickListener(),this._container=void 0,this.isOpen=!1,this.changeDetection.markForCheck()),this.typeaheadOnPreview.emit()}onOutsideClick(){this._container&&!this._container.isFocused&&this.hide()}ngOnDestroy(){for(const q of this._subscriptions)q.unsubscribe();this._typeahead.dispose()}asyncActions(){this._subscriptions.push(this.keyUpEventEmitter.pipe((0,w.B)(this.typeaheadWaitMs),(0,C.M)(q=>this._allEnteredValue=q),(0,R.n)(()=>this.typeahead?this.typeahead:v.w)).subscribe(q=>{this.finalizeAsyncCall(q)}))}syncActions(){this._subscriptions.push(this.keyUpEventEmitter.pipe((0,w.B)(this.typeaheadWaitMs),(0,k.Z)(q=>{this._allEnteredValue=q;const Se=this.normalizeQuery(q);return this.typeahead?((0,S.A)(this.typeahead)?this.typeahead:(0,f.H)(this.typeahead)).pipe((0,O.p)(lt=>!!lt&&this.testMatch(this.normalizeOption(lt),Se)),function G(){return(0,x.N)((J,X)=>{(function $(J,X){return(0,x.N)((0,H.S)(J,X,arguments.length>=2,!1,!0))})(U,[])(J).subscribe(X)})}()):v.w})).subscribe(q=>{this.finalizeAsyncCall(q)}))}normalizeOption(q){const Se=st(q,this.typeaheadOptionField);return(this.typeaheadLatinize?we(Se):Se).toLowerCase()}tokenizeQuery(q){let Se=q;return this.typeaheadMultipleSearch&&this.typeaheadSingleWords?this.haveCommonCharacters(`${this.typeaheadPhraseDelimiters}${this.typeaheadWordDelimiters}`,this.typeaheadMultipleSearchDelimiters)||(Se=Le(Se,this.typeaheadWordDelimiters,this.typeaheadPhraseDelimiters,this.typeaheadMultipleSearchDelimiters)):Se=this.typeaheadSingleWords?Le(Se,this.typeaheadWordDelimiters,this.typeaheadPhraseDelimiters):Le(Se,void 0,void 0,this.typeaheadMultipleSearchDelimiters),Se}normalizeQuery(q){let Se=(this.typeaheadLatinize?we(q):q).toString().toLowerCase();return Se=this.tokenizeQuery(Se),Se}testMatch(q,Se){let Ee;if("object"==typeof Se){Ee=Se.length;for(let lt=0;lt<Ee;lt+=1)if(Se[lt].length>0&&q.indexOf(Se[lt])<0)return!1;return!0}return q.indexOf(Se)>=0}finalizeAsyncCall(q){if(this.prepareMatches(q||[]),this.typeaheadLoading.emit(!1),this.typeaheadNoResults.emit(!this.hasMatches()),this.hasMatches()){if(this.isFocused||!this.cancelRequestOnFocusLost)if(this._container&&this.ngControl.control){const Ee=((this.typeaheadLatinize?we(this.ngControl.control.value):this.ngControl.control.value)||"").toString().toLowerCase();this._container.query=this.tokenizeQuery(Ee),this._container.matches=this._matches}else this.show()}else this.hide()}prepareMatches(q){const Se=q.slice(0,this.typeaheadOptionsLimit),Ee=this.typeaheadOrderBy?this.orderMatches(Se):Se;if(this.typeaheadGroupField){let lt=[];Ee.map(at=>st(at,this.typeaheadGroupField)).filter((at,Ot,pt)=>pt.indexOf(at)===Ot).forEach(at=>{lt.push(new Te(at,at,!0)),lt=lt.concat(Ee.filter(Ot=>st(Ot,this.typeaheadGroupField)===at).map(Ot=>new Te(Ot,st(Ot,this.typeaheadOptionField))))}),this._matches=lt}else this._matches=Ee.map(lt=>new Te(lt,st(lt,this.typeaheadOptionField)))}orderMatches(q){if(!q.length)return q;if(null!=this.typeaheadOrderBy&&"object"==typeof this.typeaheadOrderBy&&0===Object.keys(this.typeaheadOrderBy).length)return console.error("Field and direction properties for typeaheadOrderBy have to be set according to documentation!"),q;const{field:Se,direction:Ee}=this.typeaheadOrderBy||{};return!Ee||"asc"!==Ee&&"desc"!==Ee?(console.error('typeaheadOrderBy direction has to equal "asc" or "desc". Please follow the documentation.'),q):"string"==typeof q[0]?"asc"===Ee?q.sort():q.sort().reverse():Se&&"string"==typeof Se?q.sort((lt,Ue)=>{const at=st(lt,Se),Ot=st(Ue,Se);return at<Ot?"asc"===Ee?-1:1:at>Ot?"asc"===Ee?1:-1:0}):(console.error("typeaheadOrderBy field has to set according to the documentation."),q)}hasMatches(){return this._matches.length>0}checkDelimitersConflict(){if(this.typeaheadMultipleSearch&&this.typeaheadSingleWords&&this.haveCommonCharacters(`${this.typeaheadPhraseDelimiters}${this.typeaheadWordDelimiters}`,this.typeaheadMultipleSearchDelimiters))throw new Error(`Delimiters used in typeaheadMultipleSearchDelimiters must be different\n          from delimiters used in typeaheadWordDelimiters (current value: ${this.typeaheadWordDelimiters}) and\n          typeaheadPhraseDelimiters (current value: ${this.typeaheadPhraseDelimiters}).\n          Please refer to the documentation`)}haveCommonCharacters(q,Se){for(let Ee=0;Ee<q.length;Ee++)if(q.charAt(Ee).indexOf(Se)>-1)return!0;return!1}static{this.\u0275fac=function(Se){return new(Se||J)(i.rXU(F.Li),i.rXU(Lt),i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(m.vO),i.rXU(i.sFG),i.rXU(i.c1b))}}static{this.\u0275dir=i.FsC({type:J,selectors:[["","typeahead",""]],hostVars:4,hostBindings:function(Se,Ee){1&Se&&i.bIt("input",function(Ue){return Ee.onInput(Ue)})("keyup",function(Ue){return Ee.onChange(Ue)})("click",function(){return Ee.onFocus()})("focus",function(){return Ee.onFocus()})("blur",function(){return Ee.onBlur()})("keydown",function(Ue){return Ee.onKeydown(Ue)}),2&Se&&i.BMQ("aria-activedescendant",Ee.activeDescendant)("aria-owns",Ee.isOpen?Ee._container.popupId:null)("aria-expanded",Ee.isOpen)("aria-autocomplete",Ee.list)},inputs:{typeahead:"typeahead",typeaheadMinLength:"typeaheadMinLength",adaptivePosition:"adaptivePosition",isAnimated:"isAnimated",typeaheadWaitMs:"typeaheadWaitMs",typeaheadOptionsLimit:"typeaheadOptionsLimit",typeaheadOptionField:"typeaheadOptionField",typeaheadGroupField:"typeaheadGroupField",typeaheadOrderBy:"typeaheadOrderBy",typeaheadAsync:"typeaheadAsync",typeaheadLatinize:"typeaheadLatinize",typeaheadSingleWords:"typeaheadSingleWords",typeaheadWordDelimiters:"typeaheadWordDelimiters",typeaheadMultipleSearch:"typeaheadMultipleSearch",typeaheadMultipleSearchDelimiters:"typeaheadMultipleSearchDelimiters",typeaheadPhraseDelimiters:"typeaheadPhraseDelimiters",typeaheadItemTemplate:"typeaheadItemTemplate",optionsListTemplate:"optionsListTemplate",typeaheadScrollable:"typeaheadScrollable",typeaheadOptionsInScrollableView:"typeaheadOptionsInScrollableView",typeaheadHideResultsOnBlur:"typeaheadHideResultsOnBlur",typeaheadSelectFirstItem:"typeaheadSelectFirstItem",typeaheadIsFirstItemActive:"typeaheadIsFirstItemActive",container:"container",dropup:"dropup"},outputs:{typeaheadLoading:"typeaheadLoading",typeaheadNoResults:"typeaheadNoResults",typeaheadOnSelect:"typeaheadOnSelect",typeaheadOnPreview:"typeaheadOnPreview",typeaheadOnBlur:"typeaheadOnBlur"},exportAs:["bs-typeahead"]})}}return J})(),_t=(()=>{class J{static forRoot(){return{ngModule:J,providers:[F.Li,_.DF]}}static{this.\u0275fac=function(Se){return new(Se||J)}}static{this.\u0275mod=i.$C({type:J})}static{this.\u0275inj=i.G2t({imports:[E.MD]})}}return J})()},2806:(et,me,u)=>{"use strict";u.d(me,{Al:()=>m,Aq:()=>Oe,Bu:()=>I,Fv:()=>d,GL:()=>v,Xt:()=>f,Yr:()=>_e,Zu:()=>g,mc:()=>Je,x:()=>E});var i=u(4438);class e{constructor(we,he){this.open=we,this.close=he||we}isManual(){return"manual"===this.open||"manual"===this.close}}const _={hover:["mouseover","mouseout"],focus:["focusin","focusout"]};function g(Te,we=_){const he=(Te||"").trim();if(0===he.length)return[];const Le=he.split(/\s+/).map(st=>st.split(":")).map(st=>{const Fe=we[st[0]]||st;return new e(Fe[0],Fe[1])}),Ae=Le.filter(st=>st.isManual());if(Ae.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===Ae.length&&Le.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return Le}function v(Te,we){const he=g(we.triggers),Le=we.target;if(1===he.length&&he[0].isManual())return Function.prototype;const Ae=[],st=[],Fe=()=>{st.forEach(ft=>Ae.push(ft())),st.length=0};return he.forEach(ft=>{const Ye=ft.open===ft.close,zt=Ye?we.toggle:we.show;if(!Ye&&ft.close&&we.hide){const Lt=ft.close,Et=we.hide;st.push(()=>Te.listen(Le,Lt,Et))}zt&&Ae.push(Te.listen(Le,ft.open,()=>zt(Fe)))}),()=>{Ae.forEach(ft=>ft())}}function f(Te,we){return we.outsideClick?Te.listen("document","click",he=>{we.target&&we.target.contains(he.target)||we.targets&&we.targets.some(Le=>Le.contains(he.target))||we.hide&&we.hide()}):Function.prototype}function d(Te,we){return we.outsideEsc?Te.listen("document","keyup.esc",he=>{we.target&&we.target.contains(he.target)||we.targets&&we.targets.some(Le=>Le.contains(he.target))||we.hide&&we.hide()}):Function.prototype}const E=typeof window<"u"&&window||{},m=E.document;var G=function(Te){return Te.isBs4="bs4",Te.isBs5="bs5",Te}(G||{});let ie;function le(){const Te=E.document.createElement("span");Te.innerText="testing bs version",Te.classList.add("d-none"),Te.classList.add("pl-1"),E.document.head.appendChild(Te);const we=E.getComputedStyle(Te).paddingLeft;return we&&parseFloat(we)?(E.document.head.removeChild(Te),"bs4"):(E.document.head.removeChild(Te),"bs5")}function I(){return{isBs4:(ie||(ie=le()),"bs4"===ie),isBs5:(ie||(ie=le()),"bs5"===ie)}}function _e(){return function(he,Le){const Ae=` __${Le}Value`;Object.defineProperty(he,Le,{get(){return this[Ae]},set(st){const Fe=this[Ae];this[Ae]=st,Fe!==st&&this[Le+"Change"]&&this[Le+"Change"].emit(st)}})}}class Oe{static reflow(we){}static getStyles(we){let he=we.ownerDocument.defaultView;return(!he||!he.opener)&&(he=E),he.getComputedStyle(we)}static stackOverflowConfig(){const we=function oe(){const Te=I(),we=Object.keys(Te).find(he=>Te[he]);return G[we]}();return{crossorigin:"anonymous",integrity:"bs5"===we?"sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65":"sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2",cdnLink:"bs5"===we?"https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css":"https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"}}}const Re={},xe=typeof console>"u"||!("warn"in console);function Je(Te){!(0,i.naY)()||xe||Te in Re||(Re[Te]=!0,console.warn(Te))}},5794:(et,me,u)=>{"use strict";u.d(me,{_B:()=>Je,tw:()=>_e});var i=u(4438),e=u(9969),_=u(177),g=u(1413),S=u(345);const v=["toast-component",""];function f(Ae,st){if(1&Ae){const Fe=i.RV6();i.j41(0,"button",5),i.bIt("click",function(){i.eBV(Fe);const Ye=i.XpG();return i.Njj(Ye.remove())}),i.j41(1,"span",6),i.EFF(2,"\xd7"),i.k0s()()}}function d(Ae,st){if(1&Ae&&(i.qex(0),i.EFF(1),i.bVm()),2&Ae){const Fe=i.XpG(2);i.R7$(),i.SpI("[",Fe.duplicatesCount+1,"]")}}function E(Ae,st){if(1&Ae&&(i.j41(0,"div"),i.EFF(1),i.DNE(2,d,2,1,"ng-container",4),i.k0s()),2&Ae){const Fe=i.XpG();i.HbH(Fe.options.titleClass),i.BMQ("aria-label",Fe.title),i.R7$(),i.SpI(" ",Fe.title," "),i.R7$(),i.Y8G("ngIf",Fe.duplicatesCount)}}function m(Ae,st){if(1&Ae&&i.nrm(0,"div",7),2&Ae){const Fe=i.XpG();i.HbH(Fe.options.messageClass),i.Y8G("innerHTML",Fe.message,i.npT)}}function F(Ae,st){if(1&Ae&&(i.j41(0,"div",8),i.EFF(1),i.k0s()),2&Ae){const Fe=i.XpG();i.HbH(Fe.options.messageClass),i.BMQ("aria-label",Fe.message),i.R7$(),i.SpI(" ",Fe.message," ")}}function w(Ae,st){if(1&Ae&&(i.j41(0,"div"),i.nrm(1,"div",9),i.k0s()),2&Ae){const Fe=i.XpG();i.R7$(),i.xc7("width",Fe.width+"%")}}class U{_attachedHost;component;viewContainerRef;injector;constructor(st,Fe){this.component=st,this.injector=Fe}attach(st,Fe){return this._attachedHost=st,st.attach(this,Fe)}detach(){const st=this._attachedHost;if(st)return this._attachedHost=void 0,st.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(st){this._attachedHost=st}}class G{_attachedPortal;_disposeFn;attach(st,Fe){return this._attachedPortal=st,this.attachComponentPortal(st,Fe)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(st){this._disposeFn=st}}class ie{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new g.B;_activate=new g.B;_manualClose=new g.B;_resetTimeout=new g.B;_countDuplicate=new g.B;constructor(st){this._overlayRef=st}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(st,Fe){st&&this._resetTimeout.next(),Fe&&this._countDuplicate.next(++this.duplicatesCount)}}class le{toastId;config;message;title;toastType;toastRef;_onTap=new g.B;_onAction=new g.B;constructor(st,Fe,ft,Ye,zt,Lt){this.toastId=st,this.config=Fe,this.message=ft,this.title=Ye,this.toastType=zt,this.toastRef=Lt,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(st){this._onAction.next(st)}onAction(){return this._onAction.asObservable()}}const Q=new i.nKC("ToastConfig");class te extends G{_hostDomElement;_componentFactoryResolver;_appRef;constructor(st,Fe,ft){super(),this._hostDomElement=st,this._componentFactoryResolver=Fe,this._appRef=ft}attachComponentPortal(st,Fe){const ft=this._componentFactoryResolver.resolveComponentFactory(st.component);let Ye;return Ye=ft.create(st.injector),this._appRef.attachView(Ye.hostView),this.setDisposeFn(()=>{this._appRef.detachView(Ye.hostView),Ye.destroy()}),Fe?this._hostDomElement.insertBefore(this._getComponentRootNode(Ye),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(Ye)),Ye}_getComponentRootNode(st){return st.hostView.rootNodes[0]}}let I=(()=>{class Ae{_document=(0,i.WQX)(_.qQ);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const Fe=this._document.createElement("div");Fe.classList.add("overlay-container"),Fe.setAttribute("aria-live","polite"),this._document.body.appendChild(Fe),this._containerElement=Fe}static \u0275fac=function(ft){return new(ft||Ae)};static \u0275prov=i.jDH({token:Ae,factory:Ae.\u0275fac,providedIn:"root"})}return Ae})();class oe{_portalHost;constructor(st){this._portalHost=st}attach(st,Fe=!0){return this._portalHost.attach(st,Fe)}detach(){return this._portalHost.detach()}}let Y=(()=>{class Ae{_overlayContainer=(0,i.WQX)(I);_componentFactoryResolver=(0,i.WQX)(i.OM3);_appRef=(0,i.WQX)(i.o8S);_document=(0,i.WQX)(_.qQ);_paneElements=new Map;create(Fe,ft){return this._createOverlayRef(this.getPaneElement(Fe,ft))}getPaneElement(Fe="",ft){return this._paneElements.get(ft)||this._paneElements.set(ft,{}),this._paneElements.get(ft)[Fe]||(this._paneElements.get(ft)[Fe]=this._createPaneElement(Fe,ft)),this._paneElements.get(ft)[Fe]}_createPaneElement(Fe,ft){const Ye=this._document.createElement("div");return Ye.id="toast-container",Ye.classList.add(Fe),Ye.classList.add("toast-container"),ft?ft.getContainerElement().appendChild(Ye):this._overlayContainer.getContainerElement().appendChild(Ye),Ye}_createPortalHost(Fe){return new te(Fe,this._componentFactoryResolver,this._appRef)}_createOverlayRef(Fe){return new oe(this._createPortalHost(Fe))}static \u0275fac=function(ft){return new(ft||Ae)};static \u0275prov=i.jDH({token:Ae,factory:Ae.\u0275fac,providedIn:"root"})}return Ae})(),_e=(()=>{class Ae{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(Fe,ft,Ye,zt,Lt){this.overlay=ft,this._injector=Ye,this.sanitizer=zt,this.ngZone=Lt,this.toastrConfig={...Fe.default,...Fe.config},Fe.config.iconClasses&&(this.toastrConfig.iconClasses={...Fe.default.iconClasses,...Fe.config.iconClasses})}show(Fe,ft,Ye={},zt=""){return this._preBuildNotification(zt,Fe,ft,this.applyConfig(Ye))}success(Fe,ft,Ye={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",Fe,ft,this.applyConfig(Ye))}error(Fe,ft,Ye={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",Fe,ft,this.applyConfig(Ye))}info(Fe,ft,Ye={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",Fe,ft,this.applyConfig(Ye))}warning(Fe,ft,Ye={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",Fe,ft,this.applyConfig(Ye))}clear(Fe){for(const ft of this.toasts)if(void 0!==Fe){if(ft.toastId===Fe)return void ft.toastRef.manualClose()}else ft.toastRef.manualClose()}remove(Fe){const ft=this._findToast(Fe);if(!ft||(ft.activeToast.toastRef.close(),this.toasts.splice(ft.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const Ye=this.toasts[this.currentlyActive].toastRef;Ye.isInactive()||(this.currentlyActive=this.currentlyActive+1,Ye.activate())}return!0}findDuplicate(Fe="",ft="",Ye,zt){const{includeTitleDuplicates:Lt}=this.toastrConfig;for(const Et of this.toasts)if((!Lt||Lt&&Et.title===Fe)&&Et.message===ft)return Et.toastRef.onDuplicate(Ye,zt),Et;return null}applyConfig(Fe={}){return{...this.toastrConfig,...Fe}}_findToast(Fe){for(let ft=0;ft<this.toasts.length;ft++)if(this.toasts[ft].toastId===Fe)return{index:ft,activeToast:this.toasts[ft]};return null}_preBuildNotification(Fe,ft,Ye,zt){return zt.onActivateTick?this.ngZone.run(()=>this._buildNotification(Fe,ft,Ye,zt)):this._buildNotification(Fe,ft,Ye,zt)}_buildNotification(Fe,ft,Ye,zt){if(!zt.toastComponent)throw new Error("toastComponent required");const Lt=this.findDuplicate(Ye,ft,this.toastrConfig.resetTimeoutOnDuplicate&&zt.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&Ye||ft)&&this.toastrConfig.preventDuplicates&&null!==Lt)return Lt;this.previousToastMessage=ft;let Et=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(Et=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const _t=this.overlay.create(zt.positionClass,this.overlayContainer);this.index=this.index+1;let J=ft;ft&&zt.enableHtml&&(J=this.sanitizer.sanitize(i.WPN.HTML,ft));const X=new ie(_t),q=new le(this.index,zt,J,Ye,Fe,X),Ee=i.zZn.create({providers:[{provide:le,useValue:q}],parent:this._injector}),lt=new U(zt.toastComponent,Ee),Ue=_t.attach(lt,zt.newestOnTop);X.componentInstance=Ue.instance;const at={toastId:this.index,title:Ye||"",message:ft||"",toastRef:X,onShown:X.afterActivate(),onHidden:X.afterClosed(),onTap:q.onTap(),onAction:q.onAction(),portal:Ue};return Et||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{at.toastRef.activate()})),this.toasts.push(at),at}static \u0275fac=function(ft){return new(ft||Ae)(i.KVO(Q),i.KVO(Y),i.KVO(i.zZn),i.KVO(S.up),i.KVO(i.SKi))};static \u0275prov=i.jDH({token:Ae,factory:Ae.\u0275fac,providedIn:"root"})}return Ae})();const Re={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:(()=>{class Ae{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=-1;toastClasses="";state;get displayStyle(){if("inactive"===this.state.value)return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(Fe,ft,Ye){this.toastrService=Fe,this.toastPackage=ft,this.ngZone=Ye,this.message=ft.message,this.title=ft.title,this.options=ft.config,this.originalTimeout=ft.config.timeOut,this.toastClasses=`${ft.toastType} ${ft.config.toastClass}`,this.sub=ft.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=ft.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=ft.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=ft.toastRef.countDuplicate().subscribe(zt=>{this.duplicatesCount=zt}),this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}}}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const Fe=(new Date).getTime();this.width=(this.hideTime-Fe)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(Fe,ft){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(Fe),ft)):this.timeout=setTimeout(()=>Fe(),ft)}outsideInterval(Fe,ft){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(Fe),ft)):this.intervalId=setInterval(()=>Fe(),ft)}runInsideAngular(Fe){this.ngZone?this.ngZone.run(()=>Fe()):Fe()}static \u0275fac=function(ft){return new(ft||Ae)(i.rXU(_e),i.rXU(le),i.rXU(i.SKi))};static \u0275cmp=i.VBU({type:Ae,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(ft,Ye){1&ft&&i.bIt("click",function(){return Ye.tapToast()})("mouseenter",function(){return Ye.stickAround()})("mouseleave",function(){return Ye.delayedHideToast()}),2&ft&&(i.zvX("@flyInOut",Ye.state),i.HbH(Ye.toastClasses),i.xc7("display",Ye.displayStyle))},standalone:!0,features:[i.aNF],attrs:v,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(ft,Ye){1&ft&&i.DNE(0,f,3,0,"button",0)(1,E,3,5,"div",1)(2,m,1,3,"div",2)(3,F,2,4,"div",3)(4,w,2,2,"div",4),2&ft&&(i.Y8G("ngIf",Ye.options.closeButton),i.R7$(),i.Y8G("ngIf",Ye.title),i.R7$(),i.Y8G("ngIf",Ye.message&&Ye.options.enableHtml),i.R7$(),i.Y8G("ngIf",Ye.message&&!Ye.options.enableHtml),i.R7$(),i.Y8G("ngIf",Ye.options.progressBar))},dependencies:[_.bT],encapsulation:2,data:{animation:[(0,e.hZ)("flyInOut",[(0,e.wk)("inactive",(0,e.iF)({opacity:0})),(0,e.wk)("active",(0,e.iF)({opacity:1})),(0,e.wk)("removed",(0,e.iF)({opacity:0})),(0,e.kY)("inactive => active",(0,e.i0)("{{ easeTime }}ms {{ easing }}")),(0,e.kY)("active => removed",(0,e.i0)("{{ easeTime }}ms {{ easing }}"))])]}})}return Ae})()},xe=(Ae={})=>(0,i.EmA)([{provide:Q,useValue:{default:Re,config:Ae}}]);let Je=(()=>{class Ae{static forRoot(Fe={}){return{ngModule:Ae,providers:[xe(Fe)]}}static \u0275fac=function(ft){return new(ft||Ae)};static \u0275mod=i.$C({type:Ae});static \u0275inj=i.G2t({})}return Ae})()},1068:(et,me,u)=>{"use strict";u.d(me,{gR:()=>yr,R9:()=>Fr,I6:()=>Lr,SL:()=>jn,zN:()=>Ss,sb:()=>Wr,Am:()=>Wr,FF:()=>Ur});var i={};u.r(i),u.d(i,{VERSION:()=>e,after:()=>vr,all:()=>Co,allKeys:()=>on,any:()=>Ss,assign:()=>dt,before:()=>Ni,bind:()=>ar,bindAll:()=>Ks,chain:()=>Ki,chunk:()=>Pt,clone:()=>mn,collect:()=>Hn,compact:()=>pr,compose:()=>gr,constant:()=>Se,contains:()=>yr,countBy:()=>Nr,create:()=>vn,debounce:()=>gs,default:()=>os,defaults:()=>kt,defer:()=>yi,delay:()=>Ns,detect:()=>Lr,difference:()=>Fr,drop:()=>Hr,each:()=>er,escape:()=>Qe,every:()=>Co,extend:()=>At,extendOwn:()=>dt,filter:()=>ns,find:()=>Lr,findIndex:()=>jn,findKey:()=>ai,findLastIndex:()=>Xr,findWhere:()=>qi,first:()=>si,flatten:()=>js,foldl:()=>lr,foldr:()=>kr,forEach:()=>er,functions:()=>di,get:()=>gi,groupBy:()=>Ao,has:()=>ni,head:()=>si,identity:()=>Bi,include:()=>yr,includes:()=>yr,indexBy:()=>Es,indexOf:()=>Sr,initial:()=>Ts,inject:()=>lr,intersection:()=>vs,invert:()=>cn,invoke:()=>is,isArguments:()=>J,isArray:()=>Lt,isArrayBuffer:()=>Te,isBoolean:()=>te,isDataView:()=>zt,isDate:()=>Oe,isElement:()=>I,isEmpty:()=>ve,isEqual:()=>Ft,isError:()=>xe,isFinite:()=>X,isFunction:()=>Le,isMap:()=>yt,isMatch:()=>ae,isNaN:()=>q,isNull:()=>L,isNumber:()=>_e,isObject:()=>le,isRegExp:()=>Re,isSet:()=>xt,isString:()=>Y,isSymbol:()=>Je,isTypedArray:()=>it,isUndefined:()=>Q,isWeakMap:()=>mt,isWeakSet:()=>tn,iteratee:()=>ji,keys:()=>Nt,last:()=>Vs,lastIndexOf:()=>xr,map:()=>Hn,mapObject:()=>nt,matcher:()=>Xn,matches:()=>Xn,max:()=>Jr,memoize:()=>ms,methods:()=>di,min:()=>mo,mixin:()=>Ii,negate:()=>Os,noop:()=>It,now:()=>Tn,object:()=>ge,omit:()=>Ta,once:()=>zs,pairs:()=>Un,partial:()=>ri,partition:()=>rr,pick:()=>ao,pluck:()=>rs,property:()=>Ei,propertyOf:()=>Ct,random:()=>Qt,range:()=>tt,reduce:()=>lr,reduceRight:()=>kr,reject:()=>ro,rest:()=>Hr,restArguments:()=>ie,result:()=>vi,sample:()=>Po,select:()=>ns,shuffle:()=>Yo,size:()=>Or,some:()=>Ss,sortBy:()=>so,sortedIndex:()=>fr,tail:()=>Hr,take:()=>si,tap:()=>zn,template:()=>ti,templateSettings:()=>ue,throttle:()=>Us,times:()=>nn,toArray:()=>Qr,toPath:()=>An,transpose:()=>Ne,unescape:()=>de,union:()=>pn,uniq:()=>Wr,unique:()=>Wr,uniqueId:()=>ui,unzip:()=>Ne,values:()=>Sn,where:()=>Ea,without:()=>Ur,wrap:()=>Cr,zip:()=>je});var e="1.13.6",_="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},g=Array.prototype,S=Object.prototype,v=typeof Symbol<"u"?Symbol.prototype:null,f=g.push,d=g.slice,E=S.toString,m=S.hasOwnProperty,F=typeof ArrayBuffer<"u",w=typeof DataView<"u",C=Array.isArray,R=Object.keys,k=Object.create,O=F&&ArrayBuffer.isView,H=isNaN,x=isFinite,$=!{toString:null}.propertyIsEnumerable("toString"),U=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],G=Math.pow(2,53)-1;function ie(Me,Xe){return Xe=null==Xe?Me.length-1:+Xe,function(){for(var wt=Math.max(arguments.length-Xe,0),Rt=Array(wt),Bt=0;Bt<wt;Bt++)Rt[Bt]=arguments[Bt+Xe];switch(Xe){case 0:return Me.call(this,Rt);case 1:return Me.call(this,arguments[0],Rt);case 2:return Me.call(this,arguments[0],arguments[1],Rt)}var bt=Array(Xe+1);for(Bt=0;Bt<Xe;Bt++)bt[Bt]=arguments[Bt];return bt[Xe]=Rt,Me.apply(this,bt)}}function le(Me){var Xe=typeof Me;return"function"===Xe||"object"===Xe&&!!Me}function L(Me){return null===Me}function Q(Me){return void 0===Me}function te(Me){return!0===Me||!1===Me||"[object Boolean]"===E.call(Me)}function I(Me){return!(!Me||1!==Me.nodeType)}function oe(Me){var Xe="[object "+Me+"]";return function(wt){return E.call(wt)===Xe}}const Y=oe("String"),_e=oe("Number"),Oe=oe("Date"),Re=oe("RegExp"),xe=oe("Error"),Je=oe("Symbol"),Te=oe("ArrayBuffer");var we=oe("Function");"object"!=typeof Int8Array&&"function"!=typeof(_.document&&_.document.childNodes)&&(we=function(Me){return"function"==typeof Me||!1});const Le=we,Ae=oe("Object");var st=w&&Ae(new DataView(new ArrayBuffer(8))),Fe=typeof Map<"u"&&Ae(new Map),ft=oe("DataView");const zt=st?function Ye(Me){return null!=Me&&Le(Me.getInt8)&&Te(Me.buffer)}:ft,Lt=C||oe("Array");function Et(Me,Xe){return null!=Me&&m.call(Me,Xe)}var _t=oe("Arguments");!function(){_t(arguments)||(_t=function(Me){return Et(Me,"callee")})}();const J=_t;function X(Me){return!Je(Me)&&x(Me)&&!isNaN(parseFloat(Me))}function q(Me){return _e(Me)&&H(Me)}function Se(Me){return function(){return Me}}function Ee(Me){return function(Xe){var wt=Me(Xe);return"number"==typeof wt&&wt>=0&&wt<=G}}function lt(Me){return function(Xe){return Xe?.[Me]}}const Ue=lt("byteLength"),at=Ee(Ue);var Ot=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;const it=F?function pt(Me){return O?O(Me)&&!zt(Me):at(Me)&&Ot.test(E.call(Me))}:Se(!1),Ht=lt("length");function rt(Me,Xe){Xe=function en(Me){for(var Xe={},wt=Me.length,Rt=0;Rt<wt;++Rt)Xe[Me[Rt]]=!0;return{contains:function(Bt){return!0===Xe[Bt]},push:function(Bt){return Xe[Bt]=!0,Me.push(Bt)}}}(Xe);var wt=U.length,Rt=Me.constructor,Bt=Le(Rt)&&Rt.prototype||S,bt="constructor";for(Et(Me,bt)&&!Xe.contains(bt)&&Xe.push(bt);wt--;)(bt=U[wt])in Me&&Me[bt]!==Bt[bt]&&!Xe.contains(bt)&&Xe.push(bt)}function Nt(Me){if(!le(Me))return[];if(R)return R(Me);var Xe=[];for(var wt in Me)Et(Me,wt)&&Xe.push(wt);return $&&rt(Me,Xe),Xe}function ve(Me){if(null==Me)return!0;var Xe=Ht(Me);return"number"==typeof Xe&&(Lt(Me)||Y(Me)||J(Me))?0===Xe:0===Ht(Nt(Me))}function ae(Me,Xe){var wt=Nt(Xe),Rt=wt.length;if(null==Me)return!Rt;for(var Bt=Object(Me),bt=0;bt<Rt;bt++){var dn=wt[bt];if(Xe[dn]!==Bt[dn]||!(dn in Bt))return!1}return!0}function j(Me){return Me instanceof j?Me:this instanceof j?void(this._wrapped=Me):new j(Me)}function se(Me){return new Uint8Array(Me.buffer||Me,Me.byteOffset||0,Ue(Me))}j.VERSION=e,j.prototype.valueOf=j.prototype.toJSON=j.prototype.value=function(){return this._wrapped},j.prototype.toString=function(){return String(this._wrapped)};var Be="[object DataView]";function qe(Me,Xe,wt,Rt){if(Me===Xe)return 0!==Me||1/Me==1/Xe;if(null==Me||null==Xe)return!1;if(Me!=Me)return Xe!=Xe;var Bt=typeof Me;return("function"===Bt||"object"===Bt||"object"==typeof Xe)&&ht(Me,Xe,wt,Rt)}function ht(Me,Xe,wt,Rt){Me instanceof j&&(Me=Me._wrapped),Xe instanceof j&&(Xe=Xe._wrapped);var Bt=E.call(Me);if(Bt!==E.call(Xe))return!1;if(st&&"[object Object]"==Bt&&zt(Me)){if(!zt(Xe))return!1;Bt=Be}switch(Bt){case"[object RegExp]":case"[object String]":return""+Me==""+Xe;case"[object Number]":return+Me!=+Me?+Xe!=+Xe:0==+Me?1/+Me==1/Xe:+Me==+Xe;case"[object Date]":case"[object Boolean]":return+Me==+Xe;case"[object Symbol]":return v.valueOf.call(Me)===v.valueOf.call(Xe);case"[object ArrayBuffer]":case Be:return ht(se(Me),se(Xe),wt,Rt)}var bt="[object Array]"===Bt;if(!bt&&it(Me)){if(Ue(Me)!==Ue(Xe))return!1;if(Me.buffer===Xe.buffer&&Me.byteOffset===Xe.byteOffset)return!0;bt=!0}if(!bt){if("object"!=typeof Me||"object"!=typeof Xe)return!1;var Jt=Me.constructor,Qn=Xe.constructor;if(Jt!==Qn&&!(Le(Jt)&&Jt instanceof Jt&&Le(Qn)&&Qn instanceof Qn)&&"constructor"in Me&&"constructor"in Xe)return!1}Rt=Rt||[];for(var Nn=(wt=wt||[]).length;Nn--;)if(wt[Nn]===Me)return Rt[Nn]===Xe;if(wt.push(Me),Rt.push(Xe),bt){if((Nn=Me.length)!==Xe.length)return!1;for(;Nn--;)if(!qe(Me[Nn],Xe[Nn],wt,Rt))return!1}else{var Pr,$n=Nt(Me);if(Nn=$n.length,Nt(Xe).length!==Nn)return!1;for(;Nn--;)if(!Et(Xe,Pr=$n[Nn])||!qe(Me[Pr],Xe[Pr],wt,Rt))return!1}return wt.pop(),Rt.pop(),!0}function Ft(Me,Xe){return qe(Me,Xe)}function on(Me){if(!le(Me))return[];var Xe=[];for(var wt in Me)Xe.push(wt);return $&&rt(Me,Xe),Xe}function un(Me){var Xe=Ht(Me);return function(wt){if(null==wt)return!1;var Rt=on(wt);if(Ht(Rt))return!1;for(var Bt=0;Bt<Xe;Bt++)if(!Le(wt[Me[Bt]]))return!1;return Me!==Gt||!Le(wt[Mn])}}var Mn="forEach",Bn=["clear","delete"],Tt=["get","has","set"],Rn=Bn.concat(Mn,Tt),Gt=Bn.concat(Tt),ct=["add"].concat(Bn,Mn,"has");const yt=Fe?un(Rn):oe("Map"),mt=Fe?un(Gt):oe("WeakMap"),xt=Fe?un(ct):oe("Set"),tn=oe("WeakSet");function Sn(Me){for(var Xe=Nt(Me),wt=Xe.length,Rt=Array(wt),Bt=0;Bt<wt;Bt++)Rt[Bt]=Me[Xe[Bt]];return Rt}function Un(Me){for(var Xe=Nt(Me),wt=Xe.length,Rt=Array(wt),Bt=0;Bt<wt;Bt++)Rt[Bt]=[Xe[Bt],Me[Xe[Bt]]];return Rt}function cn(Me){for(var Xe={},wt=Nt(Me),Rt=0,Bt=wt.length;Rt<Bt;Rt++)Xe[Me[wt[Rt]]]=wt[Rt];return Xe}function di(Me){var Xe=[];for(var wt in Me)Le(Me[wt])&&Xe.push(wt);return Xe.sort()}function li(Me,Xe){return function(wt){var Rt=arguments.length;if(Xe&&(wt=Object(wt)),Rt<2||null==wt)return wt;for(var Bt=1;Bt<Rt;Bt++)for(var bt=arguments[Bt],dn=Me(bt),Jt=dn.length,Qn=0;Qn<Jt;Qn++){var Nn=dn[Qn];(!Xe||void 0===wt[Nn])&&(wt[Nn]=bt[Nn])}return wt}}const At=li(on),dt=li(Nt),kt=li(on,!0);function Yt(Me){if(!le(Me))return{};if(k)return k(Me);var Xe=function(){};Xe.prototype=Me;var wt=new Xe;return Xe.prototype=null,wt}function vn(Me,Xe){var wt=Yt(Me);return Xe&&dt(wt,Xe),wt}function mn(Me){return le(Me)?Lt(Me)?Me.slice():At({},Me):Me}function zn(Me,Xe){return Xe(Me),Me}function An(Me){return Lt(Me)?Me:[Me]}function fn(Me){return j.toPath(Me)}function ci(Me,Xe){for(var wt=Xe.length,Rt=0;Rt<wt;Rt++){if(null==Me)return;Me=Me[Xe[Rt]]}return wt?Me:void 0}function gi(Me,Xe,wt){var Rt=ci(Me,fn(Xe));return Q(Rt)?wt:Rt}function ni(Me,Xe){for(var wt=(Xe=fn(Xe)).length,Rt=0;Rt<wt;Rt++){var Bt=Xe[Rt];if(!Et(Me,Bt))return!1;Me=Me[Bt]}return!!wt}function Bi(Me){return Me}function Xn(Me){return Me=dt({},Me),function(Xe){return ae(Xe,Me)}}function Ei(Me){return Me=fn(Me),function(Xe){return ci(Xe,Me)}}function pi(Me,Xe,wt){if(void 0===Xe)return Me;switch(wt??3){case 1:return function(Rt){return Me.call(Xe,Rt)};case 3:return function(Rt,Bt,bt){return Me.call(Xe,Rt,Bt,bt)};case 4:return function(Rt,Bt,bt,dn){return Me.call(Xe,Rt,Bt,bt,dn)}}return function(){return Me.apply(Xe,arguments)}}function Gi(Me,Xe,wt){return null==Me?Bi:Le(Me)?pi(Me,Xe,wt):le(Me)&&!Lt(Me)?Xn(Me):Ei(Me)}function ji(Me,Xe){return Gi(Me,Xe,1/0)}function Ti(Me,Xe,wt){return j.iteratee!==ji?j.iteratee(Me,Xe):Gi(Me,Xe,wt)}function nt(Me,Xe,wt){Xe=Ti(Xe,wt);for(var Rt=Nt(Me),Bt=Rt.length,bt={},dn=0;dn<Bt;dn++){var Jt=Rt[dn];bt[Jt]=Xe(Me[Jt],Jt,Me)}return bt}function It(){}function Ct(Me){return null==Me?It:function(Xe){return gi(Me,Xe)}}function nn(Me,Xe,wt){var Rt=Array(Math.max(0,Me));Xe=pi(Xe,wt,1);for(var Bt=0;Bt<Me;Bt++)Rt[Bt]=Xe(Bt);return Rt}function Qt(Me,Xe){return null==Xe&&(Xe=Me,Me=0),Me+Math.floor(Math.random()*(Xe-Me+1))}j.toPath=An,j.iteratee=ji;const Tn=Date.now||function(){return(new Date).getTime()};function St(Me){var Xe=function(bt){return Me[bt]},wt="(?:"+Nt(Me).join("|")+")",Rt=RegExp(wt),Bt=RegExp(wt,"g");return function(bt){return Rt.test(bt=null==bt?"":""+bt)?bt.replace(Bt,Xe):bt}}const $e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},Qe=St($e),de=St(cn($e)),ue=j.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var ze=/(.)^/,Wt={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Kt=/\\|'|\r|\n|\u2028|\u2029/g;function gn(Me){return"\\"+Wt[Me]}var yn=/^\s*(\w|\$)+\s*$/;function ti(Me,Xe,wt){!Xe&&wt&&(Xe=wt),Xe=kt({},Xe,j.templateSettings);var Rt=RegExp([(Xe.escape||ze).source,(Xe.interpolate||ze).source,(Xe.evaluate||ze).source].join("|")+"|$","g"),Bt=0,bt="__p+='";Me.replace(Rt,function(Nn,$n,Pr,Di,Is){return bt+=Me.slice(Bt,Is).replace(Kt,gn),Bt=Is+Nn.length,$n?bt+="'+\n((__t=("+$n+"))==null?'':_.escape(__t))+\n'":Pr?bt+="'+\n((__t=("+Pr+"))==null?'':__t)+\n'":Di&&(bt+="';\n"+Di+"\n__p+='"),Nn}),bt+="';\n";var Jt,dn=Xe.variable;if(dn){if(!yn.test(dn))throw new Error("variable is not a bare identifier: "+dn)}else bt="with(obj||{}){\n"+bt+"}\n",dn="obj";bt="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+bt+"return __p;\n";try{Jt=new Function(dn,"_",bt)}catch(Nn){throw Nn.source=bt,Nn}var Qn=function(Nn){return Jt.call(this,Nn,j)};return Qn.source="function("+dn+"){\n"+bt+"}",Qn}function vi(Me,Xe,wt){var Rt=(Xe=fn(Xe)).length;if(!Rt)return Le(wt)?wt.call(Me):wt;for(var Bt=0;Bt<Rt;Bt++){var bt=Me?.[Xe[Bt]];void 0===bt&&(bt=wt,Bt=Rt),Me=Le(bt)?bt.call(Me):bt}return Me}var bi=0;function ui(Me){var Xe=++bi+"";return Me?Me+Xe:Xe}function Ki(Me){var Xe=j(Me);return Xe._chain=!0,Xe}function Dr(Me,Xe,wt,Rt,Bt){if(!(Rt instanceof Xe))return Me.apply(wt,Bt);var bt=Yt(Me.prototype),dn=Me.apply(bt,Bt);return le(dn)?dn:bt}var Gn=ie(function(Me,Xe){var wt=Gn.placeholder,Rt=function(){for(var Bt=0,bt=Xe.length,dn=Array(bt),Jt=0;Jt<bt;Jt++)dn[Jt]=Xe[Jt]===wt?arguments[Bt++]:Xe[Jt];for(;Bt<arguments.length;)dn.push(arguments[Bt++]);return Dr(Me,Rt,this,this,dn)};return Rt});Gn.placeholder=j;const ri=Gn,ar=ie(function(Me,Xe,wt){if(!Le(Me))throw new TypeError("Bind must be called on a function");var Rt=ie(function(Bt){return Dr(Me,Rt,Xe,this,wt.concat(Bt))});return Rt}),xi=Ee(Ht);function Mr(Me,Xe,wt,Rt){if(Rt=Rt||[],Xe||0===Xe){if(Xe<=0)return Rt.concat(Me)}else Xe=1/0;for(var Bt=Rt.length,bt=0,dn=Ht(Me);bt<dn;bt++){var Jt=Me[bt];if(xi(Jt)&&(Lt(Jt)||J(Jt)))if(Xe>1)Mr(Jt,Xe-1,wt,Rt),Bt=Rt.length;else for(var Qn=0,Nn=Jt.length;Qn<Nn;)Rt[Bt++]=Jt[Qn++];else wt||(Rt[Bt++]=Jt)}return Rt}const Ks=ie(function(Me,Xe){var wt=(Xe=Mr(Xe,!1,!1)).length;if(wt<1)throw new Error("bindAll must be passed function names");for(;wt--;){var Rt=Xe[wt];Me[Rt]=ar(Me[Rt],Me)}return Me});function ms(Me,Xe){var wt=function(Rt){var Bt=wt.cache,bt=""+(Xe?Xe.apply(this,arguments):Rt);return Et(Bt,bt)||(Bt[bt]=Me.apply(this,arguments)),Bt[bt]};return wt.cache={},wt}const Ns=ie(function(Me,Xe,wt){return setTimeout(function(){return Me.apply(null,wt)},Xe)}),yi=ri(Ns,j,1);function Us(Me,Xe,wt){var Rt,Bt,bt,dn,Jt=0;wt||(wt={});var Qn=function(){Jt=!1===wt.leading?0:Tn(),Rt=null,dn=Me.apply(Bt,bt),Rt||(Bt=bt=null)},Nn=function(){var $n=Tn();!Jt&&!1===wt.leading&&(Jt=$n);var Pr=Xe-($n-Jt);return Bt=this,bt=arguments,Pr<=0||Pr>Xe?(Rt&&(clearTimeout(Rt),Rt=null),Jt=$n,dn=Me.apply(Bt,bt),Rt||(Bt=bt=null)):!Rt&&!1!==wt.trailing&&(Rt=setTimeout(Qn,Pr)),dn};return Nn.cancel=function(){clearTimeout(Rt),Jt=0,Rt=Bt=bt=null},Nn}function gs(Me,Xe,wt){var Rt,Bt,bt,dn,Jt,Qn=function(){var $n=Tn()-Bt;Xe>$n?Rt=setTimeout(Qn,Xe-$n):(Rt=null,wt||(dn=Me.apply(Jt,bt)),Rt||(bt=Jt=null))},Nn=ie(function($n){return Jt=this,bt=$n,Bt=Tn(),Rt||(Rt=setTimeout(Qn,Xe),wt&&(dn=Me.apply(Jt,bt))),dn});return Nn.cancel=function(){clearTimeout(Rt),Rt=bt=Jt=null},Nn}function Cr(Me,Xe){return ri(Xe,Me)}function Os(Me){return function(){return!Me.apply(this,arguments)}}function gr(){var Me=arguments,Xe=Me.length-1;return function(){for(var wt=Xe,Rt=Me[Xe].apply(this,arguments);wt--;)Rt=Me[wt].call(this,Rt);return Rt}}function vr(Me,Xe){return function(){if(--Me<1)return Xe.apply(this,arguments)}}function Ni(Me,Xe){var wt;return function(){return--Me>0&&(wt=Xe.apply(this,arguments)),Me<=1&&(Xe=null),wt}}const zs=ri(Ni,2);function ai(Me,Xe,wt){Xe=Ti(Xe,wt);for(var Bt,Rt=Nt(Me),bt=0,dn=Rt.length;bt<dn;bt++)if(Xe(Me[Bt=Rt[bt]],Bt,Me))return Bt}function zo(Me){return function(Xe,wt,Rt){wt=Ti(wt,Rt);for(var Bt=Ht(Xe),bt=Me>0?0:Bt-1;bt>=0&&bt<Bt;bt+=Me)if(wt(Xe[bt],bt,Xe))return bt;return-1}}const jn=zo(1),Xr=zo(-1);function fr(Me,Xe,wt,Rt){for(var Bt=(wt=Ti(wt,Rt,1))(Xe),bt=0,dn=Ht(Me);bt<dn;){var Jt=Math.floor((bt+dn)/2);wt(Me[Jt])<Bt?bt=Jt+1:dn=Jt}return bt}function wr(Me,Xe,wt){return function(Rt,Bt,bt){var dn=0,Jt=Ht(Rt);if("number"==typeof bt)Me>0?dn=bt>=0?bt:Math.max(bt+Jt,dn):Jt=bt>=0?Math.min(bt+1,Jt):bt+Jt+1;else if(wt&&bt&&Jt)return Rt[bt=wt(Rt,Bt)]===Bt?bt:-1;if(Bt!=Bt)return(bt=Xe(d.call(Rt,dn,Jt),q))>=0?bt+dn:-1;for(bt=Me>0?dn:Jt-1;bt>=0&&bt<Jt;bt+=Me)if(Rt[bt]===Bt)return bt;return-1}}const Sr=wr(1,jn,fr),xr=wr(-1,Xr);function Lr(Me,Xe,wt){var Bt=(xi(Me)?jn:ai)(Me,Xe,wt);if(void 0!==Bt&&-1!==Bt)return Me[Bt]}function qi(Me,Xe){return Lr(Me,Xn(Xe))}function er(Me,Xe,wt){var Rt,Bt;if(Xe=pi(Xe,wt),xi(Me))for(Rt=0,Bt=Me.length;Rt<Bt;Rt++)Xe(Me[Rt],Rt,Me);else{var bt=Nt(Me);for(Rt=0,Bt=bt.length;Rt<Bt;Rt++)Xe(Me[bt[Rt]],bt[Rt],Me)}return Me}function Hn(Me,Xe,wt){Xe=Ti(Xe,wt);for(var Rt=!xi(Me)&&Nt(Me),Bt=(Rt||Me).length,bt=Array(Bt),dn=0;dn<Bt;dn++){var Jt=Rt?Rt[dn]:dn;bt[dn]=Xe(Me[Jt],Jt,Me)}return bt}function Gr(Me){return function(wt,Rt,Bt,bt){var dn=arguments.length>=3;return function(wt,Rt,Bt,bt){var dn=!xi(wt)&&Nt(wt),Jt=(dn||wt).length,Qn=Me>0?0:Jt-1;for(bt||(Bt=wt[dn?dn[Qn]:Qn],Qn+=Me);Qn>=0&&Qn<Jt;Qn+=Me){var Nn=dn?dn[Qn]:Qn;Bt=Rt(Bt,wt[Nn],Nn,wt)}return Bt}(wt,pi(Rt,bt,4),Bt,dn)}}const lr=Gr(1),kr=Gr(-1);function ns(Me,Xe,wt){var Rt=[];return Xe=Ti(Xe,wt),er(Me,function(Bt,bt,dn){Xe(Bt,bt,dn)&&Rt.push(Bt)}),Rt}function ro(Me,Xe,wt){return ns(Me,Os(Ti(Xe)),wt)}function Co(Me,Xe,wt){Xe=Ti(Xe,wt);for(var Rt=!xi(Me)&&Nt(Me),Bt=(Rt||Me).length,bt=0;bt<Bt;bt++){var dn=Rt?Rt[bt]:bt;if(!Xe(Me[dn],dn,Me))return!1}return!0}function Ss(Me,Xe,wt){Xe=Ti(Xe,wt);for(var Rt=!xi(Me)&&Nt(Me),Bt=(Rt||Me).length,bt=0;bt<Bt;bt++){var dn=Rt?Rt[bt]:bt;if(Xe(Me[dn],dn,Me))return!0}return!1}function yr(Me,Xe,wt,Rt){return xi(Me)||(Me=Sn(Me)),("number"!=typeof wt||Rt)&&(wt=0),Sr(Me,Xe,wt)>=0}const is=ie(function(Me,Xe,wt){var Rt,Bt;return Le(Xe)?Bt=Xe:(Xe=fn(Xe),Rt=Xe.slice(0,-1),Xe=Xe[Xe.length-1]),Hn(Me,function(bt){var dn=Bt;if(!dn){if(Rt&&Rt.length&&(bt=ci(bt,Rt)),null==bt)return;dn=bt[Xe]}return null==dn?dn:dn.apply(bt,wt)})});function rs(Me,Xe){return Hn(Me,Ei(Xe))}function Ea(Me,Xe){return ns(Me,Xn(Xe))}function Jr(Me,Xe,wt){var bt,dn,Rt=-1/0,Bt=-1/0;if(null==Xe||"number"==typeof Xe&&"object"!=typeof Me[0]&&null!=Me)for(var Jt=0,Qn=(Me=xi(Me)?Me:Sn(Me)).length;Jt<Qn;Jt++)null!=(bt=Me[Jt])&&bt>Rt&&(Rt=bt);else Xe=Ti(Xe,wt),er(Me,function(Nn,$n,Pr){((dn=Xe(Nn,$n,Pr))>Bt||dn===-1/0&&Rt===-1/0)&&(Rt=Nn,Bt=dn)});return Rt}function mo(Me,Xe,wt){var bt,dn,Rt=1/0,Bt=1/0;if(null==Xe||"number"==typeof Xe&&"object"!=typeof Me[0]&&null!=Me)for(var Jt=0,Qn=(Me=xi(Me)?Me:Sn(Me)).length;Jt<Qn;Jt++)null!=(bt=Me[Jt])&&bt<Rt&&(Rt=bt);else Xe=Ti(Xe,wt),er(Me,function(Nn,$n,Pr){((dn=Xe(Nn,$n,Pr))<Bt||dn===1/0&&Rt===1/0)&&(Rt=Nn,Bt=dn)});return Rt}var tr=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function Qr(Me){return Me?Lt(Me)?d.call(Me):Y(Me)?Me.match(tr):xi(Me)?Hn(Me,Bi):Sn(Me):[]}function Po(Me,Xe,wt){if(null==Xe||wt)return xi(Me)||(Me=Sn(Me)),Me[Qt(Me.length-1)];var Rt=Qr(Me),Bt=Ht(Rt);Xe=Math.max(Math.min(Xe,Bt),0);for(var bt=Bt-1,dn=0;dn<Xe;dn++){var Jt=Qt(dn,bt),Qn=Rt[dn];Rt[dn]=Rt[Jt],Rt[Jt]=Qn}return Rt.slice(0,Xe)}function Yo(Me){return Po(Me,1/0)}function so(Me,Xe,wt){var Rt=0;return Xe=Ti(Xe,wt),rs(Hn(Me,function(Bt,bt,dn){return{value:Bt,index:Rt++,criteria:Xe(Bt,bt,dn)}}).sort(function(Bt,bt){var dn=Bt.criteria,Jt=bt.criteria;if(dn!==Jt){if(dn>Jt||void 0===dn)return 1;if(dn<Jt||void 0===Jt)return-1}return Bt.index-bt.index}),"value")}function oo(Me,Xe){return function(wt,Rt,Bt){var bt=Xe?[[],[]]:{};return Rt=Ti(Rt,Bt),er(wt,function(dn,Jt){var Qn=Rt(dn,Jt,wt);Me(bt,dn,Qn)}),bt}}const Ao=oo(function(Me,Xe,wt){Et(Me,wt)?Me[wt].push(Xe):Me[wt]=[Xe]}),Es=oo(function(Me,Xe,wt){Me[wt]=Xe}),Nr=oo(function(Me,Xe,wt){Et(Me,wt)?Me[wt]++:Me[wt]=1}),rr=oo(function(Me,Xe,wt){Me[wt?0:1].push(Xe)},!0);function Or(Me){return null==Me?0:xi(Me)?Me.length:Nt(Me).length}function ss(Me,Xe,wt){return Xe in wt}const ao=ie(function(Me,Xe){var wt={},Rt=Xe[0];if(null==Me)return wt;Le(Rt)?(Xe.length>1&&(Rt=pi(Rt,Xe[1])),Xe=on(Me)):(Rt=ss,Xe=Mr(Xe,!1,!1),Me=Object(Me));for(var Bt=0,bt=Xe.length;Bt<bt;Bt++){var dn=Xe[Bt],Jt=Me[dn];Rt(Jt,dn,Me)&&(wt[dn]=Jt)}return wt}),Ta=ie(function(Me,Xe){var Rt,wt=Xe[0];return Le(wt)?(wt=Os(wt),Xe.length>1&&(Rt=Xe[1])):(Xe=Hn(Mr(Xe,!1,!1),String),wt=function(Bt,bt){return!yr(Xe,bt)}),ao(Me,wt,Rt)});function Ts(Me,Xe,wt){return d.call(Me,0,Math.max(0,Me.length-(null==Xe||wt?1:Xe)))}function si(Me,Xe,wt){return null==Me||Me.length<1?null==Xe||wt?void 0:[]:null==Xe||wt?Me[0]:Ts(Me,Me.length-Xe)}function Hr(Me,Xe,wt){return d.call(Me,null==Xe||wt?1:Xe)}function Vs(Me,Xe,wt){return null==Me||Me.length<1?null==Xe||wt?void 0:[]:null==Xe||wt?Me[Me.length-1]:Hr(Me,Math.max(0,Me.length-Xe))}function pr(Me){return ns(Me,Boolean)}function js(Me,Xe){return Mr(Me,Xe,!1)}const Fr=ie(function(Me,Xe){return Xe=Mr(Xe,!0,!0),ns(Me,function(wt){return!yr(Xe,wt)})}),Ur=ie(function(Me,Xe){return Fr(Me,Xe)});function Wr(Me,Xe,wt,Rt){te(Xe)||(Rt=wt,wt=Xe,Xe=!1),null!=wt&&(wt=Ti(wt,Rt));for(var Bt=[],bt=[],dn=0,Jt=Ht(Me);dn<Jt;dn++){var Qn=Me[dn],Nn=wt?wt(Qn,dn,Me):Qn;Xe&&!wt?((!dn||bt!==Nn)&&Bt.push(Qn),bt=Nn):wt?yr(bt,Nn)||(bt.push(Nn),Bt.push(Qn)):yr(Bt,Qn)||Bt.push(Qn)}return Bt}const pn=ie(function(Me){return Wr(Mr(Me,!0,!0))});function vs(Me){for(var Xe=[],wt=arguments.length,Rt=0,Bt=Ht(Me);Rt<Bt;Rt++){var bt=Me[Rt];if(!yr(Xe,bt)){var dn;for(dn=1;dn<wt&&yr(arguments[dn],bt);dn++);dn===wt&&Xe.push(bt)}}return Xe}function Ne(Me){for(var Xe=Me&&Jr(Me,Ht).length||0,wt=Array(Xe),Rt=0;Rt<Xe;Rt++)wt[Rt]=rs(Me,Rt);return wt}const je=ie(Ne);function ge(Me,Xe){for(var wt={},Rt=0,Bt=Ht(Me);Rt<Bt;Rt++)Xe?wt[Me[Rt]]=Xe[Rt]:wt[Me[Rt][0]]=Me[Rt][1];return wt}function tt(Me,Xe,wt){null==Xe&&(Xe=Me||0,Me=0),wt||(wt=Xe<Me?-1:1);for(var Rt=Math.max(Math.ceil((Xe-Me)/wt),0),Bt=Array(Rt),bt=0;bt<Rt;bt++,Me+=wt)Bt[bt]=Me;return Bt}function Pt(Me,Xe){if(null==Xe||Xe<1)return[];for(var wt=[],Rt=0,Bt=Me.length;Rt<Bt;)wt.push(d.call(Me,Rt,Rt+=Xe));return wt}function Kn(Me,Xe){return Me._chain?j(Xe).chain():Xe}function Ii(Me){return er(di(Me),function(Xe){var wt=j[Xe]=Me[Xe];j.prototype[Xe]=function(){var Rt=[this._wrapped];return f.apply(Rt,arguments),Kn(this,wt.apply(j,Rt))}}),j}er(["pop","push","reverse","shift","sort","splice","unshift"],function(Me){var Xe=g[Me];j.prototype[Me]=function(){var wt=this._wrapped;return null!=wt&&(Xe.apply(wt,arguments),("shift"===Me||"splice"===Me)&&0===wt.length&&delete wt[0]),Kn(this,wt)}}),er(["concat","join","slice"],function(Me){var Xe=g[Me];j.prototype[Me]=function(){var wt=this._wrapped;return null!=wt&&(wt=Xe.apply(wt,arguments)),Kn(this,wt)}});const os=j;var ys=Ii(i);ys._=ys},467:(et,me,u)=>{"use strict";function i(_,g,S,v,f,d,E){try{var m=_[d](E),F=m.value}catch(w){return void S(w)}m.done?g(F):Promise.resolve(F).then(v,f)}function e(_){return function(){var g=this,S=arguments;return new Promise(function(v,f){var d=_.apply(g,S);function E(F){i(d,v,f,E,m,"next",F)}function m(F){i(d,v,f,E,m,"throw",F)}E(void 0)})}}u.d(me,{A:()=>e})},1635:(et,me,u)=>{"use strict";function S(we,he,Le,Ae){var ft,st=arguments.length,Fe=st<3?he:null===Ae?Ae=Object.getOwnPropertyDescriptor(he,Le):Ae;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Fe=Reflect.decorate(we,he,Le,Ae);else for(var Ye=we.length-1;Ye>=0;Ye--)(ft=we[Ye])&&(Fe=(st<3?ft(Fe):st>3?ft(he,Le,Fe):ft(he,Le))||Fe);return st>3&&Fe&&Object.defineProperty(he,Le,Fe),Fe}function F(we,he){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(we,he)}function w(we,he,Le,Ae){return new(Le||(Le=Promise))(function(Fe,ft){function Ye(Et){try{Lt(Ae.next(Et))}catch(_t){ft(_t)}}function zt(Et){try{Lt(Ae.throw(Et))}catch(_t){ft(_t)}}function Lt(Et){Et.done?Fe(Et.value):function st(Fe){return Fe instanceof Le?Fe:new Le(function(ft){ft(Fe)})}(Et.value).then(Ye,zt)}Lt((Ae=Ae.apply(we,he||[])).next())})}function G(we){return this instanceof G?(this.v=we,this):new G(we)}function ie(we,he,Le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var st,Ae=Le.apply(we,he||[]),Fe=[];return st={},ft("next"),ft("throw"),ft("return"),st[Symbol.asyncIterator]=function(){return this},st;function ft(J){Ae[J]&&(st[J]=function(X){return new Promise(function(q,Se){Fe.push([J,X,q,Se])>1||Ye(J,X)})})}function Ye(J,X){try{!function zt(J){J.value instanceof G?Promise.resolve(J.value.v).then(Lt,Et):_t(Fe[0][2],J)}(Ae[J](X))}catch(q){_t(Fe[0][3],q)}}function Lt(J){Ye("next",J)}function Et(J){Ye("throw",J)}function _t(J,X){J(X),Fe.shift(),Fe.length&&Ye(Fe[0][0],Fe[0][1])}}function L(we){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Le,he=we[Symbol.asyncIterator];return he?he.call(we):(we=function O(we){var he="function"==typeof Symbol&&Symbol.iterator,Le=he&&we[he],Ae=0;if(Le)return Le.call(we);if(we&&"number"==typeof we.length)return{next:function(){return we&&Ae>=we.length&&(we=void 0),{value:we&&we[Ae++],done:!we}}};throw new TypeError(he?"Object is not iterable.":"Symbol.iterator is not defined.")}(we),Le={},Ae("next"),Ae("throw"),Ae("return"),Le[Symbol.asyncIterator]=function(){return this},Le);function Ae(Fe){Le[Fe]=we[Fe]&&function(ft){return new Promise(function(Ye,zt){!function st(Fe,ft,Ye,zt){Promise.resolve(zt).then(function(Lt){Fe({value:Lt,done:Ye})},ft)}(Ye,zt,(ft=we[Fe](ft)).done,ft.value)})}}}u.d(me,{AQ:()=>ie,Cg:()=>S,N3:()=>G,Sn:()=>F,sH:()=>w,xN:()=>L}),"function"==typeof SuppressedError&&SuppressedError}},et=>{et(et.s=1251)}]);