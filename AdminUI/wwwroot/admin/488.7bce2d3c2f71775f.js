"use strict";(self.webpackChunkadmin_ui_openiddict=self.webpackChunkadmin_ui_openiddict||[]).push([[488],{4488:(ee,j,s)=>{s.r(j),s.d(j,{ApplicationsModule:()=>Zt});var h=s(1780),S=s(7005),R=s(177),l=s(9417),I=s(1583),F=s(1413),N=s(6354),M=s(8412),P=s(9172),_=s(1397),V=s(1986),B=s(4313),y=s(6026),X=s(9838),J=s(4595),T=s(7263),t=s(4438),x=s(5794),U=s(5424),H=s(345),Y=s(779),k=s(1626);class K{constructor(o,e){this.http=o,this.headersService=e,this.headers=e.setHeaders()}create(o){return this.http.post(this.actionUrl,o,{headers:this.headers})}clone(o,e){return this.http.post(`${this.actionUrl}/${o}/clone`,e,{headers:this.headers})}delete(o){return this.http.delete(`${this.actionUrl}/${o}`,{headers:this.headers})}getByResourceId(o){return this.http.get(`${this.actionUrl}/${o}`,{headers:this.headers})}find(o,e,i){let a=new k.Nl;return(0,T.gP)(o)||(a=a.append("query",o)),e&&(a=a.append("page",e)),i&&(a=a.append("pageSize",i)),this.http.get(this.actionUrl,{headers:this.headers,params:a})}update(o,e){return this.http.put(`${this.actionUrl}/${o}`,e,{headers:this.headers})}}var O=s(9564);let $=(()=>{class n extends K{constructor(e,i){super(e,i),this.actionUrl="application/clients"}updateSecret(e,i){return this.http.put(`${this.actionUrl}/${e}/secret`,i,{headers:this.headers})}static{this.\u0275fac=function(i){return new(i||n)(t.KVO(k.Qq),t.KVO(O.m))}}static{this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Q=s(3853),Z=s(7883),z=s(3680),q=s(7294),tt=s(7384),et=s(7156);class C{constructor(o,e,i=void 0,a=void 0,c=[]){this.destinationKey=o,this.label=e,this.help=i,this.description=a,this.validators=c}}var n,m=function(n){return n[n.None=0]="None",n.SinglePageApplication="SPA",n.LegacySinglePageApplication="SPALegacy",n.WebApplicationPKCE="WebApp",n.NativeApplicationPKCE="Native",n.RobotApplication="Machine",n.DeviceApplication="Device",n.SamlApplication="SamlProvider",n}(m||{});(n=m||(m={})).fromWizardType=function o(e){return n[e]};var E=s(8698),nt=s(2467);let f=(()=>{class n{constructor(e){this.fb=e}ngOnInit(){this.identifiersForm=this.fb.group({clientId:["",[l.k0.required,l.k0.maxLength(100),l.k0.pattern(/^\S*$/)]],clientName:["",[l.k0.required,l.k0.maxLength(50)]]})}canNext(){return this.identifiersForm.valid}getStepSummary(){const e=new Map;return e.set(this.data.clientIdKey,[this.identifiersForm.value.clientId]),e.set("clientName",[this.identifiersForm.value.clientName]),e}getStepDTO(){const e=this.identifiersForm.value;return e.type=this.data.clientType,e}hosted(){}setRandomID(){this.identifiersForm.patchValue({clientId:(0,T.Nl)()})}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(l.ze))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["ng-component"]],inputs:{data:"data"},decls:16,vars:16,consts:[[1,"cms","tw-mb-6"],[3,"formGroup"],[3,"id","label","help"],[1,"tw-flex","tw-w-full","lg:tw-max-w-2xl"],["type","text","name","ClientId","id","ClientId","formControlName","clientId",1,"tw-form-control","tw-rounded-r-none","tw-border-r-0"],["id","genRandomIdBtn",1,"tw-btn","tw-rounded-l-none",3,"click"],["aria-hidden","true",1,"far","fa-random"],[1,"sr-only"],[3,"id","label","help","isLast"],["id","DisplayName","type","text","name","DisplayName","formControlName","clientName",1,"tw-form-control"]],template:function(i,a){1&i&&(t.j41(0,"div",0)(1,"p"),t.EFF(2),t.nI1(3,"translate"),t.k0s()(),t.j41(4,"div",1)(5,"app-form-row",2),t.nI1(6,"keyToString"),t.j41(7,"div",3),t.nrm(8,"input",4),t.j41(9,"button",5),t.bIt("click",function(){return a.setRandomID()}),t.nrm(10,"span",6),t.j41(11,"span",7),t.EFF(12),t.nI1(13,"translate"),t.k0s()()()(),t.j41(14,"app-form-row",8),t.nrm(15,"input",9),t.k0s()()),2&i&&(t.R7$(2),t.JRh(t.bMT(3,10,"Clients.EnterBasicDetails")),t.R7$(2),t.Y8G("formGroup",a.identifiersForm),t.R7$(),t.Y8G("id","ClientId")("label",t.bMT(6,12,a.data.clientIdKey))("help","Clients.IDHelp"),t.R7$(7),t.JRh(t.bMT(13,14,"Common.GenerateRandom")),t.R7$(2),t.Y8G("id","DisplayName")("label","Common.DisplayName")("help","Clients.DisplayNameHelp")("isLast",!0))},dependencies:[l.me,l.BC,l.cb,l.j4,l.JD,E.Y,h.D9,nt.C],encapsulation:2})}}return n})();var W=s(3497);class v{constructor(o,e=W.E.Default){this.clientType=o,this.clientIdKey=e}}var p=s(9988),it=s(7957),r=s(7329),L=s(5313);function at(n,o){if(1&n&&(t.j41(0,"div",0),t.nrm(1,"p",4),t.nI1(2,"translate"),t.k0s()),2&n){const e=t.XpG();t.R7$(),t.Y8G("innerHTML",t.bMT(2,1,e.data.description),t.npT)}}let g=(()=>{class n{constructor(e){this.fb=e}hosted(){}ngOnInit(){this.simpleStringForm=this.fb.group({value:["",this.data.validators]})}getStepSummary(){const e=new Map,i=this.simpleStringForm.value.value;return(0,T.gP)(i)||e.set(this.data.destinationKey,[i]),e}getStepDTO(){const e={},i=this.simpleStringForm.value.value;return e[this.data.destinationKey]=(0,T.gP)(i)?void 0:i,e}canNext(){return this.simpleStringForm.valid}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(l.ze))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-simple-string-step"]],inputs:{data:"data"},decls:4,vars:6,consts:[[1,"cms","tw-mb-6"],[3,"formGroup"],[3,"id","label","help","isLast"],["type","text","name","SimpleStringValue","id","SimpleStringValue","formControlName","value",1,"tw-form-control"],[3,"innerHTML"]],template:function(i,a){1&i&&(t.DNE(0,at,3,3,"div",0),t.j41(1,"form",1)(2,"app-form-row",2),t.nrm(3,"input",3),t.k0s()()),2&i&&(t.vxM(0,a.data.description?0:-1),t.R7$(),t.Y8G("formGroup",a.simpleStringForm),t.R7$(),t.Y8G("id","simpleStringValue")("label",a.data.label)("help",a.data.help)("isLast",!0))},dependencies:[l.qT,l.me,l.BC,l.cb,l.j4,l.JD,E.Y,h.D9],encapsulation:2})}}return n})();var st=s(7301),ot=s(1410),u=s(8575);let w=(()=>{class n{constructor(e){this.fb=e}ngOnInit(){this.scopesForm=this.fb.group({})}canNext(){return this.scopesForm.valid}getStepSummary(){const e=new Map;return e.set("allowedScopes",[]),e}getStepDTO(){return{allowedScopes:[]}}hosted(){}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(l.ze))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["ng-component"]],inputs:{data:"data"},decls:7,vars:4,consts:[[1,"cms","tw-mb-6"],[3,"formGroup"]],template:function(i,a){1&i&&(t.j41(0,"div",0)(1,"p"),t.EFF(2),t.nI1(3,"translate"),t.k0s()(),t.j41(4,"div",1)(5,"p"),t.EFF(6,"TODO: Not yet implemented"),t.k0s()()),2&i&&(t.R7$(2),t.JRh(t.bMT(3,2,"Clients.Scopes.Select")),t.R7$(2),t.Y8G("formGroup",a.scopesForm))},dependencies:[l.cb,l.j4,h.D9],encapsulation:2})}}return n})();class lt extends it.p{constructor(){super(),this.nameComponentMap.set(p.$.Home,[new r.W(st.l,ot.y.OpenIddict)]),this.nameComponentMap.set(p.$.SinglePageApplication,[new r.W(f,new v(m.SinglePageApplication)),new r.W(g,new C("callbackUrl","Common.CallbackURL","Clients.RedirectURLDescription","Clients.CallbackURL",[l.k0.required,l.k0.pattern("^https?://.*$")])),new r.W(g,new C("logoutUrl","Common.LogoutURL","Clients.LogoutURLDescription","Clients.PostLogoutURL",[l.k0.pattern("^https?://.*$")])),new r.W(w,{})]),this.nameComponentMap.set(p.$.LegacySinglePageApplication,[new r.W(f,new v(m.LegacySinglePageApplication)),new r.W(g,new C("callbackUrl","Common.CallbackURL","Clients.RedirectURLDescription","Clients.CallbackURL",[l.k0.required,l.k0.pattern("^https?://.*$")])),new r.W(g,new C("logoutUrl","Common.LogoutURL","Clients.LogoutURLDescription","Clients.PostLogoutURL",[l.k0.pattern("^https?://.*$")])),new r.W(w,{})]),this.nameComponentMap.set(p.$.PKCEWebApplication,[new r.W(f,new v(m.WebApplicationPKCE)),new r.W(g,new C("callbackUrl","Common.CallbackURL","Clients.RedirectURLDescription","Clients.CallbackURL",[l.k0.required,l.k0.pattern("^https?://.*$")])),new r.W(g,new C("logoutUrl","Common.LogoutURL","Clients.LogoutURLDescription","Clients.PostLogoutURL",[l.k0.pattern("^https?://.*$")])),new r.W(w,{})]),this.nameComponentMap.set(p.$.PKCENativeApplication,[new r.W(f,new v(m.NativeApplicationPKCE)),new r.W(g,new C("callbackUrl","Common.CallbackURL","Clients.RedirectURLDescription","Clients.CallbackURL",[l.k0.required,l.k0.pattern("^https?://.*$")])),new r.W(g,new C("clientSecret","Common.ClientSecret")),new r.W(w,{})]),this.nameComponentMap.set(p.$.DeviceApplication,[new r.W(f,new v(m.DeviceApplication)),new r.W(w,{})]),this.nameComponentMap.set(p.$.RobotApplication,[new r.W(f,new v(m.RobotApplication)),new r.W(g,new C("clientSecret","Common.ClientSecret")),new r.W(w,{})]),this.nameComponentMap.set(p.$.SamlApplication,[new r.W(f,new v(m.SamlApplication,W.E.Saml)),new r.W(L.w,{endpointType:"ACSEndpoint"}),new r.W(L.w,{endpointType:"SLOEndpoint"}),new r.W(L.w,{endpointType:"ARSEndpoint"}),new r.W(w,{})]),this.nameTitleMap.set(p.$.Home,new u.J("Clients.Home.Title","")),this.nameTitleMap.set(p.$.SinglePageApplication,new u.J("Clients.SPA.Setup","Clients.SPA.Title")),this.nameTitleMap.set(p.$.LegacySinglePageApplication,new u.J("Clients.LegacySPA.Setup","Clients.LegacySPA.Title")),this.nameTitleMap.set(p.$.DeviceApplication,new u.J("Clients.DeviceFlow.Setup","Clients.DeviceFlow.Title")),this.nameTitleMap.set(p.$.RobotApplication,new u.J("Clients.MachineToMachine.Setup","Clients.MachineToMachine.Title")),this.nameTitleMap.set(p.$.CIBARobotApplication,new u.J("Clients.CIBAMachineToMachine.Setup","Clients.CIBAMachineToMachine.Title")),this.nameTitleMap.set(p.$.NativeApplication,new u.J("Clients.NativeApp.Setup","Clients.NativeApp.Title")),this.nameTitleMap.set(p.$.PKCENativeApplication,new u.J("Clients.NativeApp.Setup","Clients.NativeApp.Title")),this.nameTitleMap.set(p.$.WebApplication,new u.J("Clients.WebApp.Setup","Clients.WebApp.Title")),this.nameTitleMap.set(p.$.PKCEWebApplication,new u.J("Clients.WebApp.Setup","Clients.PKCEWebApp.Title")),this.nameTitleMap.set(p.$.SamlApplication,new u.J("Clients.Saml.Setup","Clients.Saml.Title"))}getWizard(o){return this.nameComponentMap.get(o)}getWizardTitle(o){return this.nameTitleMap.get(o)}}var rt=s(2420),ct=s(1715);function pt(n,o){if(1&n&&(t.j41(0,"div",5),t.nrm(1,"div",17),t.k0s()),2&n){const e=t.XpG();t.R7$(),t.xc7("width",e.progressPercent+"%"),t.BMQ("aria-valuenow",e.progressPercent)}}function dt(n,o){}function mt(n,o){if(1&n){const e=t.RV6();t.j41(0,"button",18),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.nextTab())}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}if(2&n){const e=t.XpG();t.Y8G("disabled",!e.canNext()),t.R7$(),t.JRh(t.bMT(2,2,"Common.Next"))}}function ut(n,o){if(1&n){const e=t.RV6();t.j41(0,"button",19),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.submit())}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}2&n&&(t.R7$(),t.JRh(t.bMT(2,1,"Common.Save")))}function ht(n,o){if(1&n){const e=t.RV6();t.j41(0,"button",20),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.previousTab())}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}2&n&&(t.R7$(),t.JRh(t.bMT(2,1,"Common.Back")))}function Ct(n,o){1&n&&(t.j41(0,"a",15),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&n&&(t.R7$(),t.JRh(t.bMT(2,1,"StarterMode.UpgradeAdminUI")))}let gt=(()=>{class n extends rt.P{constructor(e,i,a,c){super(i,a,c),this.clientsService=e,this.wizardProvider=new lt,this.wizardName=p.$.Home}submit(){const e=this.getWizardDto(),i={type:m.fromWizardType(this.wizardName),clientId:e.clientId,displayName:e.clientName,callbackUrl:e.callbackUrl,logoutUrl:e.logoutUrl,clientSecret:e.clientSecret,allowedScopes:e.allowedScopes};this.clientsService.create(i).subscribe({complete:()=>{this.finishWizard(),this.clearComponents(),this.toastr.success(this.translate.instant("Common.Created")+": "+e.clientName,this.translate.instant("Notifications.SuccessfullyCreated"))},error:a=>{this.errorService.handleError(a)}})}static{this.\u0275fac=function(i){return new(i||n)(t.rXU($),t.rXU(U.I),t.rXU(x.tw),t.rXU(h.c$))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-client-wizard-host"]],features:[t.Jv_([$]),t.Vt3],decls:23,vars:15,consts:[[1,"modal-header"],[1,"modal-title",3,"id"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-progress"],[1,"modal-body","scrollbars"],["appStepHost",""],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["class","tw-btn-success tw-mr-3","id","nextBtn",3,"disabled","click",4,"ngIf"],["class","tw-btn-success tw-mr-3","id","submitBtn",3,"click",4,"ngIf"],["class","tw-btn","id","backBtn",3,"click",4,"ngIf"],["id","upgradeAdminUI","href","starter-mode/teaser",1,"tw-btn","tw-ml-4"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],["role","progressbar",1,"modal-progress-bar"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],["id","submitBtn",1,"tw-btn-success","tw-mr-3",3,"click"],["id","backBtn",1,"tw-btn",3,"click"]],template:function(i,a){if(1&i&&(t.j41(0,"div",0)(1,"h5",1),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"button",2),t.bIt("click",function(){return a.hideWizard()}),t.nrm(5,"span",3),t.j41(6,"span",4),t.EFF(7),t.nI1(8,"translate"),t.k0s()()(),t.DNE(9,pt,2,3,"div",5),t.j41(10,"div",6),t.DNE(11,dt,0,0,"ng-template",7),t.k0s(),t.nrm(12,"div",8),t.j41(13,"div",9)(14,"div",10)(15,"div",11),t.DNE(16,mt,3,4,"button",12)(17,ut,3,3,"button",13)(18,ht,3,3,"button",14)(19,Ct,3,3,"a",15),t.k0s(),t.j41(20,"button",16),t.bIt("click",function(){return a.cancelWizard()}),t.EFF(21),t.nI1(22,"translate"),t.k0s()()()),2&i){let c;t.R7$(),t.Y8G("id",a.titleId),t.R7$(),t.JRh(t.bMT(3,9,null!==(c=null==a.wizardTitles?null:a.wizardTitles.setupTitle)&&void 0!==c?c:"")),t.R7$(5),t.JRh(t.bMT(8,11,"Common.Close")),t.R7$(2),t.vxM(9,a.showProgress?9:-1),t.R7$(7),t.Y8G("ngIf",a.index<(null==a.wizardSteps?null:a.wizardSteps.length)),t.R7$(),t.Y8G("ngIf",a.index==(null==a.wizardSteps?null:a.wizardSteps.length)),t.R7$(),t.Y8G("ngIf",!a.initialStep()),t.R7$(),t.vxM(19,a.initialStep()&&null!=a.asAny&&a.asAny.displayUpgradeIcon?19:-1),t.R7$(2),t.JRh(t.bMT(22,13,"Common.Cancel"))}},dependencies:[R.bT,ct.t,h.D9],encapsulation:2})}}return n})();const ft=(n,o)=>o.clientId,vt=(n,o)=>({"tw-alert":n,"tw-alert-warning":o}),wt=n=>({limit:n,type:"client applications",href:"https://www.identityserver.com/products/adminui/order-now?index=2&name=Enterprise"});function bt(n,o){if(1&n){const e=t.RV6();t.j41(0,"app-client-wizard-host",10,0),t.bIt("finish",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.onFinish())})("hide",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.hideWizard())})("wizardCancel",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.hideWizard())}),t.k0s()}if(2&n){const e=t.XpG();t.Y8G("displayUpgradeIcon",e.licenseInfo.isStarterLicense())}}function St(n,o){if(1&n&&(t.j41(0,"div",11),t.nrm(1,"span",12),t.nI1(2,"translate"),t.k0s()),2&n){const e=t.XpG();t.Y8G("ngClass",t.l_i(5,vt,e.limitReached,e.overLimit)),t.R7$(),t.Y8G("innerHTML",t.i5U(2,2,"Common.QuotaLimit",t.eq3(8,wt,e.licenseInfo.maxClients)),t.npT)}}function Tt(n,o){1&n&&t.nrm(0,"app-simple-loader")}function Rt(n,o){if(1&n&&t.DNE(0,Tt,1,0,"app-simple-loader",13),2&n){const e=t.XpG();t.Y8G("ngIf",e.isLoading)}}function It(n,o){if(1&n){const e=t.RV6();t.j41(0,"button",24),t.bIt("click",function(){t.eBV(e);const a=t.XpG(2),c=t.sdS(3);return t.Njj(a.showWizard(c))}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"Clients.Add")," "))}function yt(n,o){1&n&&(t.j41(0,"div",23)(1,"div"),t.EFF(2),t.nI1(3,"translate"),t.k0s()()),2&n&&(t.R7$(2),t.JRh(t.bMT(3,1,"Clients.None")))}function Mt(n,o){1&n&&(t.j41(0,"span",33),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&n&&(t.R7$(),t.JRh(t.bMT(2,1,"Common.Reserved")))}function $t(n,o){1&n&&(t.nrm(0,"span",35),t.j41(1,"span",8),t.EFF(2),t.nI1(3,"translate"),t.k0s()),2&n&&(t.R7$(2),t.JRh(t.bMT(3,1,"Common.View")))}function zt(n,o){1&n&&(t.nrm(0,"span",36),t.j41(1,"span",8),t.EFF(2),t.nI1(3,"translate"),t.k0s()),2&n&&(t.R7$(2),t.JRh(t.bMT(3,1,"Common.Edit")))}function Lt(n,o){if(1&n){const e=t.RV6();t.j41(0,"tr",31),t.bIt("click",function(){const a=t.eBV(e).$implicit,c=t.XpG(3);return t.Njj(c.navigate(a))}),t.j41(1,"td",32)(2,"b"),t.EFF(3),t.k0s()(),t.j41(4,"td"),t.DNE(5,Mt,3,3,"span",33),t.k0s(),t.j41(6,"td")(7,"button",34),t.DNE(8,$t,4,3)(9,zt,4,3),t.k0s()()()}if(2&n){const e=o.$implicit,i=t.XpG(3);t.AVh("inactive",i.isClientReadOnly(e)),t.R7$(2),t.AVh("tw-text-blue-500",!(null!=e&&e.reserved)),t.R7$(),t.SpI(" ",null==e?null:e.displayName," "),t.R7$(2),t.vxM(5,null!=e&&e.reserved?5:-1),t.R7$(3),t.vxM(8,i.isClientReadOnly(e)?8:9)}}function jt(n,o){if(1&n){const e=t.RV6();t.j41(0,"table",25)(1,"thead")(2,"tr")(3,"th",26),t.EFF(4),t.nI1(5,"translate"),t.k0s(),t.j41(6,"th",27)(7,"span",8),t.EFF(8),t.nI1(9,"translate"),t.k0s()(),t.j41(10,"th",28)(11,"span",8),t.EFF(12),t.nI1(13,"translate"),t.k0s()()()(),t.j41(14,"tbody"),t.Z7z(15,Lt,10,7,"tr",29,ft),t.k0s()(),t.j41(17,"app-pager",30),t.bIt("onGoToPage",function(a){t.eBV(e);const c=t.XpG(2);return t.Njj(c.pageStream.next(a))}),t.k0s()}if(2&n){const e=t.XpG(2);t.R7$(4),t.JRh(t.bMT(5,6,"Common.Name")),t.R7$(4),t.JRh(t.bMT(9,8,"Common.Reserved")),t.R7$(4),t.JRh(t.bMT(13,10,"Common.Actions")),t.R7$(3),t.Dyx(e.pagedResult.results),t.R7$(2),t.Y8G("totalResults",null==e.pagedResult?null:e.pagedResult.totalCount)("currentPage",e.page)("lastPage",null==e.pagedResult?null:e.pagedResult.pageCount)}}function Ft(n,o){if(1&n){const e=t.RV6();t.j41(0,"app-action-bar"),t.qex(1,14),t.j41(2,"div",15)(3,"label",16),t.EFF(4),t.nI1(5,"translate"),t.k0s(),t.j41(6,"select",17),t.mxI("ngModelChange",function(a){t.eBV(e);const c=t.XpG();return t.DH7(c.pageSize,a)||(c.pageSize=a),t.Njj(a)}),t.bIt("change",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.pageSizeStream.next(+a.pageSize))}),t.j41(7,"option",18),t.EFF(8),t.nI1(9,"translate"),t.k0s(),t.j41(10,"option",19),t.EFF(11),t.nI1(12,"translate"),t.k0s(),t.j41(13,"option",20),t.EFF(14),t.nI1(15,"translate"),t.k0s()()(),t.bVm(),t.qex(16,21),t.DNE(17,It,3,3,"button",22),t.bVm(),t.k0s(),t.DNE(18,yt,4,3,"div",23)(19,jt,18,12)}if(2&n){const e=t.XpG();t.R7$(4),t.Lme("",e.pageSize," ",t.bMT(5,8,"Nav.PerPage"),""),t.R7$(2),t.R50("ngModel",e.pageSize),t.R7$(2),t.SpI("25 ",t.bMT(9,10,"Nav.PerPage"),""),t.R7$(3),t.SpI("50 ",t.bMT(12,12,"Nav.PerPage"),""),t.R7$(3),t.SpI("100 ",t.bMT(15,14,"Nav.PerPage"),""),t.R7$(3),t.vxM(17,e.isClientsReadOnly?-1:17),t.R7$(),t.vxM(18,(null==e.pagedResult||null==e.pagedResult.results?null:e.pagedResult.results.length)<1?18:19)}}let Nt=(()=>{class n extends B.if{constructor(e,i,a,c,d,b,qt,te){super(e,i,!0),this.errorService=a,this.titleService=c,this.modalService=d,this.clientService=b,this.licenseService=qt,this.securityService=te,this.pageSize=25,this.page=1,this.term="",this.pageStream=new F.B,this.pageSizeStream=new F.B,this.mapSearchTerm=this.mapSearchTerm.bind(this)}ngOnInit(){const e=this.translate.instant("Nav.Clients")+" - "+X.$9.SITE_TITLE;this.titleService.setTitle(e);const i=this.pageStream.pipe((0,N.T)(d=>({searchTerm:this.term,page:d,pageSize:this.pageSize}))),a=this.pageSizeStream.pipe((0,N.T)(d=>({searchTerm:this.term,page:this.page,pageSize:d}))),c=i.pipe((0,M.X)(a),(0,M.X)(this.searchSource),(0,M.X)(this.enterKeySource),(0,P.Z)({searchTerm:this.term,page:this.page,pageSize:this.pageSize}),(0,_.Z)(d=>(this.isLoading=!0,this.page=d.page,this.pageSize=d.pageSize,this.clientService.find(d.searchTerm,d.page,d.pageSize).pipe((0,V.c)(200)))));this.subscriptions=[c.subscribe({next:d=>{this.pagedResult=d,this.isLoading=!1},error:d=>{this.errorService.handleError(d),this.isLoading=!1}}),this.licenseService.getLicenseInfo().subscribe({next:d=>{this.licenseInfo=d}})]}ngOnDestroy(){this.subscriptions?.forEach(e=>{e.unsubscribe()})}mapSearchTerm(e){return this.term=e,{searchTerm:e,page:1,pageSize:this.pageSize}}reload(){this.pageStream.next(this.page),this.pageSizeStream.next(this.pageSize)}onFinish(){this.hideWizard(),this.reload()}showWizard(e){this.modalService.show(e,{id:y.R.Id,ariaLabelledBy:y.R.TileId,ariaDescribedby:y.R.DescriptionId,backdrop:"static"})}hideWizard(){this.modalService.hide(y.R.Id)}get isClientsReadOnly(){return(0,T.ci)(this.securityService.userPermissions)}isClientReadOnly(e){const i=J.I.RestrictedClientTypes.includes(e.type)&&this.licenseInfo.isStarterLicense();return e.reserved||this.licenseInfo.overClientLimit||i}navigate(e){this.toastr.error("Not Yet Implemented!")}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(x.tw),t.rXU(h.c$),t.rXU(U.I),t.rXU(H.hE),t.rXU(Y.I8),t.rXU($),t.rXU(Q.X),t.rXU(Z.i))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-list-clients"]],features:[t.Vt3],decls:17,vars:12,consts:[["addClientModal",""],[3,"title"],["id","clientsList",1,"tw-container","tw-mx-auto"],["id","quotaLimitAlert","role","alert","class","tw-mb-4",3,"ngClass",4,"ngIf"],["id","searchContainer",1,"tw-mb-2"],[1,"tw-flex","tw-bg-white","tw-border","tw-border-grey-300","tw-opacity-75","tw-cursor-text","tw-rounded","focus-within:tw-opacity-100","focus-within:tw-border-blue-400","tw-transition-all","tw-ease-in-out"],["for","searchTerm",1,"tw-flex","tw-items-center","tw-text-grey-500","tw-m-0","tw-ml-3"],["aria-hidden","true",1,"far","fa-search","tw-text-sm"],[1,"sr-only"],["id","searchTerm","type","search",1,"tw-bg-transparent","tw-border-0","tw-text-base","tw-leading-tight","tw-px-2","tw-py-2","tw-w-full","focus:tw-outline-none","tw-transition-all","tw-ease-in-out",3,"ngModelChange","keyup","ngModel","placeholder"],[3,"finish","hide","wizardCancel","displayUpgradeIcon"],["id","quotaLimitAlert","role","alert",1,"tw-mb-4",3,"ngClass"],[3,"innerHTML"],[4,"ngIf"],["left",""],[1,"tw-hidden","tw-form-select","tw-w-auto","sm:tw-block"],["for","pageSizeToggle",1,"sr-only"],["id","pageSizeToggle",1,"tw-form-control","tw-form-control-small",3,"ngModelChange","change","ngModel"],["value","25"],["value","50"],["value","100"],["right",""],["id","addClientBtn",1,"tw-btn-success"],["id","clientsNone","role","alert",1,"tw-alert"],["id","addClientBtn",1,"tw-btn-success",3,"click"],["id","clientsTable",1,"datatable","selectable","hover"],[1,"lg:tw-w-1/3"],[1,"tw-hidden","lg:tw-table-cell"],[1,"tw-w-1"],[1,"group","clientRow",3,"inactive"],[3,"onGoToPage","totalResults","currentPage","lastPage"],[1,"group","clientRow",3,"click"],[1,"tw-max-w-0","tw-truncate"],[1,"tw-pill"],["type","button",1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500"],["id","viewOrEditIcon","aria-hidden","true",1,"fas","fa-eye"],["id","viewOrEditIcon","aria-hidden","true",1,"fad","fa-pencil"]],template:function(i,a){if(1&i){const c=t.RV6();t.nrm(0,"app-title-bar",1),t.nI1(1,"translate"),t.DNE(2,bt,2,1,"ng-template",null,0,t.C5r),t.j41(4,"div",2),t.DNE(5,St,3,10,"div",3),t.j41(6,"div",4)(7,"div",5)(8,"label",6),t.nrm(9,"span",7),t.j41(10,"span",8),t.EFF(11),t.nI1(12,"translate"),t.k0s()(),t.j41(13,"input",9),t.nI1(14,"translate"),t.mxI("ngModelChange",function(b){return t.eBV(c),t.DH7(a.searchTerm,b)||(a.searchTerm=b),t.Njj(b)}),t.bIt("keyup",function(b){return t.eBV(c),t.Njj(a.search(b))}),t.k0s()()(),t.DNE(15,Rt,1,1,"app-simple-loader")(16,Ft,20,16),t.k0s()}2&i&&(t.Y8G("title",t.bMT(1,6,"Nav.Clients")),t.R7$(5),t.Y8G("ngIf",a.limitReached),t.R7$(6),t.JRh(t.bMT(12,8,"Common.Search")),t.R7$(2),t.FS9("placeholder",t.bMT(14,10,"Clients.SearchPlaceholder")),t.R50("ngModel",a.searchTerm),t.R7$(2),t.vxM(15,a.isLoading?15:16))},dependencies:[R.YU,R.bT,l.xH,l.y7,l.me,l.wz,l.BC,l.vS,z.z,q.n,tt.d,et.B,gt,h.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return n})();var xt=s(8173),A=s(6719),D=s(251),Ut=s(6406),kt=s(6728);const Et=(n,o)=>({title:n,link:o}),Wt=n=>[n];let At=(()=>{class n{constructor(e){this.localize=e}ngOnInit(){throw new Error("Method not implemented.")}ngOnDestroy(){throw new Error("Method not implemented.")}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(S.QG))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-edit-client"]],features:[t.Jv_([xt.q])],decls:11,vars:14,consts:[[3,"title","crumbs","hasTabs"],["tabs",""],[3,"tabTitle","tabValue"],["id","editDynamicAuth",1,"tw-container","tw-mx-auto"],["right",""]],template:function(i,a){1&i&&(t.j41(0,"app-title-bar",0),t.nI1(1,"translate"),t.nI1(2,"localize"),t.qex(3,1),t.j41(4,"app-custom-tabs"),t.nrm(5,"app-custom-tab",2),t.k0s(),t.bVm(),t.k0s(),t.j41(6,"div",3),t.nrm(7,"router-outlet"),t.k0s(),t.j41(8,"app-button-bar"),t.eu8(9,4),t.k0s(),t.nrm(10,"app-can-deactivate")),2&i&&(t.Y8G("title",a.client.displayName)("crumbs",t.eq3(12,Wt,t.l_i(9,Et,t.bMT(1,5,"Nav.Clients"),t.bMT(2,7,"/applications/clients"))))("hasTabs",!0),t.R7$(5),t.Y8G("tabTitle","Tab1")("tabValue","tab1"))},dependencies:[I.n3,z.z,A.G,D.v,Ut.z,kt.E,h.D9,S.tl],encapsulation:2})}}return n})();const Dt=(n,o)=>({title:n,link:o}),Gt=n=>[n],G=[{path:"clients",component:Nt},{path:"clients/:Id",component:At},{path:"clients/view/:Id",component:(()=>{class n{constructor(){}ngOnInit(){throw new Error("Method not implemented.")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["ng-component"]],decls:8,vars:14,consts:[[3,"title","crumbs","hasTabs"],["tabs",""],[3,"tabTitle","tabValue"],["id","editDynamicAuth",1,"tw-container","tw-mx-auto"]],template:function(i,a){1&i&&(t.j41(0,"app-title-bar",0),t.nI1(1,"translate"),t.nI1(2,"localize"),t.qex(3,1),t.j41(4,"app-custom-tabs"),t.nrm(5,"app-custom-tab",2),t.k0s(),t.bVm(),t.k0s(),t.j41(6,"div",3),t.nrm(7,"router-outlet"),t.k0s()),2&i&&(t.Y8G("title",a.client.displayName)("crumbs",t.eq3(12,Gt,t.l_i(9,Dt,t.bMT(1,5,"Nav.Clients"),t.bMT(2,7,"/applications/clients"))))("hasTabs",!0),t.R7$(5),t.Y8G("tabTitle","Tab1")("tabValue","tab1"))},dependencies:[I.n3,z.z,A.G,D.v,h.D9,S.tl],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return n})()}];let Pt=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[I.iI.forChild(G),S.XE.forChild(G),I.iI]})}}return n})();var _t=s(367),Vt=s(275),Bt=s(1993),Xt=s(8455),Jt=s(9947),Ht=s(4193),Yt=s(7175),Kt=s(5731),Ot=s(8389),Qt=s(1683);let Zt=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[R.MD,l.YN,l.X1,Ot.w,Pt,_t.m,h.h,Vt.W,Bt.E,Xt.p,S.XE,Jt.a,Ht.c,Yt.c,Kt.i,Qt.Y]})}}return n})()}}]);